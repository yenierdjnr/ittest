{
  "description": "Amazon Web Services (AWS) is a collection of cloud-based services offered by Amazon.com, which provides access to hosted resources. The services range from hosted virtual servers and storage to DNS and Database hosting. AWS gives the chance for private companies to take advantage of the investment in infrastructure that Amazon has made including massive generators, their five different internet service providers and data centers. This series of videos is designed to introduce the viewer to some of the AWS products and demonstrate the basic skills required to deploy and maintain them.",
  "descriptionMD": "",
  "length": "23544",
  "name": "Amazon Web Services",
  "practiceExam": false,
  "subtitle": "Web Services",
  "tagUrl": "systems-admin",
  "topics": [
    {
      "episodes": [
        {
          "description": "",
          "length": "1959",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/001-Intro-To-Amazon-Web-Services.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/001-Intro-To-Amazon-Web-Services-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/001-Intro-To-Amazon-Web-Services-sm.jpg",
          "title": "Intro To Amazon Web Services",
          "transcript": "1\n00:00:23,434 --> 00:00:33,562\n[MUSIC]\n\n2\n00:00:33,562 --> 00:00:36,607\nAll right, good morning,\ngood afternoon and good evening and\n\n3\n00:00:36,607 --> 00:00:38,800\nwelcome back to another\nepisode of ITProTV.\n\n4\n00:00:38,800 --> 00:00:41,040\nI'm your host, Don Pezet.\n\n5\n00:00:41,040 --> 00:00:44,580\nComing at you today with\nAmazon Web Services.\n\n6\n00:00:44,580 --> 00:00:47,030\nNow this is our first episode for\nAmazon Web Services, and\n\n7\n00:00:47,030 --> 00:00:51,290\nwhat I wanted to do is take a minute\nto do an overview of the whole service.\n\n8\n00:00:51,290 --> 00:00:54,090\nWhat the product is, and\nkinda give you an idea of\n\n9\n00:00:54,090 --> 00:00:57,440\nsome of the things that we're gonna\nbe covering in the upcoming episodes.\n\n10\n00:00:57,440 --> 00:01:01,120\nThere are many,\nmany people out there that leverage AWS.\n\n11\n00:01:01,120 --> 00:01:03,330\nAnd for the people who don't use it,\n\n12\n00:01:03,330 --> 00:01:06,690\nyou might be looking at it and\nsaying man, I'm missing out on something?\n\n13\n00:01:06,690 --> 00:01:10,150\nAnd the short answer is yes, you're\nactually missing out on something cool.\n\n14\n00:01:10,150 --> 00:01:13,515\nBut there are other offerings out there\nthat you might choose to go with too.\n\n15\n00:01:13,515 --> 00:01:15,490\nBut Amazon is one of\nthe more popular ones.\n\n16\n00:01:15,490 --> 00:01:20,080\nSo let's talk about what it is, and\nwhy they're as popular as they are, right.\n\n17\n00:01:20,080 --> 00:01:23,090\nWell, the story kind of starts with\na little bit of history, right.\n\n18\n00:01:23,090 --> 00:01:27,190\nWe need to go back, I don't know,\nmaybe about ten years or so.\n\n19\n00:01:27,190 --> 00:01:31,620\nAmazon was one of the few\nonline e-retailers\n\n20\n00:01:31,620 --> 00:01:35,710\nto survive the dot com bubble\nburst in 1999 and 2000, right.\n\n21\n00:01:35,710 --> 00:01:39,920\nSo there were a lot of e-retailers out\nthere and not many of them made it.\n\n22\n00:01:39,920 --> 00:01:43,710\nYou have companies like eBay and\nPayPal, right, you have Amazon.\n\n23\n00:01:43,710 --> 00:01:45,380\nCompanies like that survive the storm and\n\n24\n00:01:45,380 --> 00:01:49,448\nhave grown to become these online\nretailing juggernauts, all right.\n\n25\n00:01:49,448 --> 00:01:53,080\nThe last time I saw some financials out\nof Amazon, they were showing where their\n\n26\n00:01:53,080 --> 00:01:57,620\ncompany dealt with revenues in excess\nof one million dollars per hour.\n\n27\n00:01:57,620 --> 00:02:00,978\nThat means they're handling\ntransactions from hundreds,\n\n28\n00:02:00,978 --> 00:02:04,679\nthousands of people per hour to\ngenerate those kinds of revenues.\n\n29\n00:02:04,679 --> 00:02:08,594\nIt's more than any other storefront\nthat's out there, it's really impressive,\n\n30\n00:02:08,594 --> 00:02:10,091\nthe amount of commerce they do.\n\n31\n00:02:10,091 --> 00:02:12,590\nAll right, so how does that matter to us?\n\n32\n00:02:12,590 --> 00:02:15,350\nWell in order to support\nthat infrastructure,\n\n33\n00:02:15,350 --> 00:02:19,010\nAmazon needed some of the highest\nlevel redundancy possible.\n\n34\n00:02:19,010 --> 00:02:22,480\nThey also needed servers\nthat could handle the load.\n\n35\n00:02:22,480 --> 00:02:26,180\nThe hundreds of thousands of people that\nhit their site within an hour period,\n\n36\n00:02:26,180 --> 00:02:29,930\nnot just counting the tens of thousands\nof people that actually place an order.\n\n37\n00:02:29,930 --> 00:02:31,770\nIt takes a lot of\ninfrastructure to support that.\n\n38\n00:02:31,770 --> 00:02:35,210\nAnd if you've ever worked in\na commercial data center,\n\n39\n00:02:35,210 --> 00:02:37,620\nyou'll know there's a lot\nof equipment involved.\n\n40\n00:02:37,620 --> 00:02:42,040\nYou've got proper heating and air for\nall of those servers, the racks.\n\n41\n00:02:42,040 --> 00:02:45,920\nJust the management piece of keeping\nthousands of servers up to date and\n\n42\n00:02:45,920 --> 00:02:46,820\noperational.\n\n43\n00:02:46,820 --> 00:02:48,900\nIt's a huge maintenance cost.\n\n44\n00:02:48,900 --> 00:02:52,824\nYou start factoring things in\nlike security guards and cameras,\n\n45\n00:02:52,824 --> 00:02:57,190\nredundant diesel generators,\nmultiple internet service providers.\n\n46\n00:02:57,190 --> 00:03:02,116\nThere is a huge burden to providing\na online shop 24 hours a day,\n\n47\n00:03:02,116 --> 00:03:04,775\nseven days a week, all right.\n\n48\n00:03:04,775 --> 00:03:07,465\nBut Amazon does it because they have to.\n\n49\n00:03:07,465 --> 00:03:13,445\nIf their site goes offline, they will\nlose over a million dollars per hour.\n\n50\n00:03:13,445 --> 00:03:17,455\nSo to spend tens of millions or hundreds\nof millions of dollars on a state of\n\n51\n00:03:17,455 --> 00:03:20,630\nthe art data center for\nthem, it makes sense, right?\n\n52\n00:03:20,630 --> 00:03:21,735\nAnd they've done it, they did that.\n\n53\n00:03:21,735 --> 00:03:24,100\nThey'd invested in all of\nthat infrastructure so\n\n54\n00:03:24,100 --> 00:03:26,790\nthat their storefront\nwould always be available.\n\n55\n00:03:26,790 --> 00:03:29,500\nAnd over the last ten years,\n\n56\n00:03:29,500 --> 00:03:34,230\nyou can count the outages that\nAmazon has had on one hand.\n\n57\n00:03:34,230 --> 00:03:38,350\nAnd during each of those outages\nthe website was still functional,\n\n58\n00:03:38,350 --> 00:03:39,710\nyou could still place orders.\n\n59\n00:03:39,710 --> 00:03:44,230\nIt was various little components of\nthe site that had issues, but the primary\n\n60\n00:03:44,230 --> 00:03:48,710\nfunctionality has been up and running for\nover ten years without interruption.\n\n61\n00:03:48,710 --> 00:03:49,620\nThat's impressive.\n\n62\n00:03:49,620 --> 00:03:53,100\nThere are not many companies that can lay\nclaim to something like that, all right.\n\n63\n00:03:53,100 --> 00:03:56,711\nWell what they found was, after they\ngot this infrastructure in place,\n\n64\n00:03:56,711 --> 00:03:59,266\nthat most of the time they didn't need it,\nright?\n\n65\n00:03:59,266 --> 00:04:03,110\nWhen they're not having a failure do\nyou need your redundant equipment?\n\n66\n00:04:03,110 --> 00:04:05,560\nMost of the time they found their\nequipment was just sitting there\n\n67\n00:04:05,560 --> 00:04:06,920\nnot being used.\n\n68\n00:04:06,920 --> 00:04:09,709\nAnd so someone,\nI'm not sure exactly who, but\n\n69\n00:04:09,709 --> 00:04:13,640\nsomeone within the Amazon\nexecutive team had an idea.\n\n70\n00:04:13,640 --> 00:04:18,536\nAnd the idea was, what if we rent out some\nof this extra stuff to other companies,\n\n71\n00:04:18,536 --> 00:04:22,140\ncompanies that can't afford to\ndo all of this crazy stuff?\n\n72\n00:04:22,140 --> 00:04:26,217\nCompanies that can't afford to have these\nmassive generators and five different\n\n73\n00:04:26,217 --> 00:04:30,010\ninternet service providers, and\ndata centers in more than one continent.\n\n74\n00:04:30,010 --> 00:04:32,660\nRight, I mean this is expensive stuff.\n\n75\n00:04:32,660 --> 00:04:34,090\nAnd they said, what if we took that and\n\n76\n00:04:34,090 --> 00:04:38,000\nrented it out to these other companies,\nand now they can take advantage of it too?\n\n77\n00:04:38,000 --> 00:04:39,250\nAnd on one hand,\n\n78\n00:04:39,250 --> 00:04:42,770\nwe have our redundant infrastructure\nthat keeps Amazon up and running.\n\n79\n00:04:42,770 --> 00:04:43,450\nAnd on the other hand,\n\n80\n00:04:43,450 --> 00:04:47,670\nwe defray part of the cost by\nrenting it out to other people.\n\n81\n00:04:47,670 --> 00:04:50,500\nAnd that's how\nAmazon Web Services was born.\n\n82\n00:04:50,500 --> 00:04:54,830\nIt was a chance for private companies\nto take advantage of the investment in\n\n83\n00:04:54,830 --> 00:04:57,070\ninfrastructure that Amazon had made.\n\n84\n00:04:57,070 --> 00:04:59,570\nCompanies like Amazon are interesting,\n\n85\n00:04:59,570 --> 00:05:02,120\nbecause they provide an online service,\nright?\n\n86\n00:05:02,120 --> 00:05:04,130\nThere is no physical storefront for\nAmazon.\n\n87\n00:05:04,130 --> 00:05:07,390\nYou can't walk into the local Amazon store\nand buy a roll of toilet paper, right?\n\n88\n00:05:07,390 --> 00:05:08,920\nYou've gotta go to their website and\nbuy it,\n\n89\n00:05:08,920 --> 00:05:13,580\nand they deliver it, so having their\nwebsite available is essential.\n\n90\n00:05:13,580 --> 00:05:16,200\nWhen the website's not available,\nthe store is closed.\n\n91\n00:05:16,200 --> 00:05:18,360\nAll right, so that's one aspect.\n\n92\n00:05:18,360 --> 00:05:20,830\nThe other aspect is, they're very dynamic.\n\n93\n00:05:20,830 --> 00:05:23,510\nThey have peaks and valleys of access.\n\n94\n00:05:23,510 --> 00:05:26,940\nSo right now, it is, what time is it?\n\n95\n00:05:26,940 --> 00:05:28,480\nIt's 10 AM, US Eastern.\n\n96\n00:05:28,480 --> 00:05:32,800\nAnd it might be kind of slow\non Amazon's website right now.\n\n97\n00:05:32,800 --> 00:05:35,280\nWell, slow here in the United States.\n\n98\n00:05:35,280 --> 00:05:38,780\nIn France, Amazon's website\nmight be hopping right now,\n\n99\n00:05:38,780 --> 00:05:40,720\nbecause it's later in the day, right?\n\n100\n00:05:40,720 --> 00:05:42,460\nIt's 3PM in France right now.\n\n101\n00:05:42,460 --> 00:05:45,320\nAnd so\nthings might be hopping along over there.\n\n102\n00:05:45,320 --> 00:05:50,460\nSo their servers here in the US\nare probably not churning along as fast,\n\n103\n00:05:50,460 --> 00:05:54,330\nor not handling as much as a workload,\nas the ones that are in Europe right now.\n\n104\n00:05:54,330 --> 00:05:58,320\nAnd the ones that are servicing Asia,\nthey're probably really slow right now,\n\n105\n00:05:58,320 --> 00:05:59,800\ncuz it's the middle of the night.\n\n106\n00:05:59,800 --> 00:06:05,110\nAnd so they've got these servers with\nunused resources just because of the time.\n\n107\n00:06:05,110 --> 00:06:08,470\nBut when the time of the day\nrolls around to noon or\n\n108\n00:06:08,470 --> 00:06:11,730\n5 PM or whatever their peak time is,\nthey really ratchet it up.\n\n109\n00:06:11,730 --> 00:06:15,660\nSo there are times during the day\nwhere they need a ton of servers, and\n\n110\n00:06:15,660 --> 00:06:19,540\nother times during the day where they\nonly need a fraction of that, all right?\n\n111\n00:06:19,540 --> 00:06:23,520\nAnd that means that they have a lot\nof extra resources sitting around.\n\n112\n00:06:23,520 --> 00:06:25,920\nAnd if they can rent that out,\n\n113\n00:06:25,920 --> 00:06:28,560\nnow they can start to make money on these\nthings that they paid for, all right.\n\n114\n00:06:28,560 --> 00:06:30,980\nIf you take a company like us, ITProTV.\n\n115\n00:06:30,980 --> 00:06:31,950\nWe're the same way.\n\n116\n00:06:31,950 --> 00:06:33,940\nWe have video streaming servers.\n\n117\n00:06:33,940 --> 00:06:38,876\nAnd there are times, we find especially\nSundays, on Sundays, people sit down and\n\n118\n00:06:38,876 --> 00:06:40,721\nwatch our shows a lot, right?\n\n119\n00:06:40,721 --> 00:06:43,970\nThey're hitting our servers, hitting\nbandwidth, and doing a lot of consumption.\n\n120\n00:06:43,970 --> 00:06:47,610\nBut we find Monday mornings, actually\nright now, is a Monday morning, Monday\n\n121\n00:06:47,610 --> 00:06:51,860\nmorning is kind of our slack time, and\nwe have a fraction of our users on there.\n\n122\n00:06:51,860 --> 00:06:56,100\nSo the servers that we've invested\nin aren't working very hard, and\n\n123\n00:06:56,100 --> 00:06:58,728\nso we've paid for\nhardware that we're not leveraging.\n\n124\n00:06:58,728 --> 00:07:03,600\nWouldn't it be be nice instead,\nif we could rent those servers from\n\n125\n00:07:03,600 --> 00:07:07,060\nsomebody else and\nonly pay for what we used?\n\n126\n00:07:07,060 --> 00:07:10,940\nSo if we weren't using all of our server\nload, we don't have to pay for it.\n\n127\n00:07:10,940 --> 00:07:12,940\nWe just paid for the portion we used.\n\n128\n00:07:12,940 --> 00:07:15,280\nWell you can't do that when\nyou buy your own server.\n\n129\n00:07:15,280 --> 00:07:18,312\nWhen you buy a server,\nyou pay for 100% of it, right?\n\n130\n00:07:18,312 --> 00:07:21,368\nAnd you have it, and\nyou have 100% of its hardware to use.\n\n131\n00:07:21,368 --> 00:07:24,250\nIf you're not using it,\nit just gets wasted.\n\n132\n00:07:24,250 --> 00:07:28,810\nBut in a shared environment, a cloud\nenvironment like Amazon Web Services,\n\n133\n00:07:28,810 --> 00:07:31,850\nwhen you're not using\nthe resources someone else can.\n\n134\n00:07:31,850 --> 00:07:35,500\nAnd so they take advantage of 100% of\nthe hardware, and you only pay for\n\n135\n00:07:35,500 --> 00:07:36,820\nwhat you use.\n\n136\n00:07:36,820 --> 00:07:40,750\nNow Amazon was the company that\nreally led this initiative.\n\n137\n00:07:40,750 --> 00:07:44,776\nYou might be watching this and saying,\nhey that's great Don, but I like\n\n138\n00:07:44,776 --> 00:07:49,674\nMicrosoft Azure, or, I like HP's cloud, or\nI like the Google web services they have.\n\n139\n00:07:49,674 --> 00:07:53,311\nI forget what theirs is called,\nGoogle Hosted Apps, something or another.\n\n140\n00:07:53,311 --> 00:07:57,801\nThere are many different vendors that\nprovide it, Rackspace is another big one.\n\n141\n00:07:57,801 --> 00:08:00,259\nThey're actually a great\ncompany to work with.\n\n142\n00:08:00,259 --> 00:08:03,340\nSo companies like that,\nprovide a similar service.\n\n143\n00:08:03,340 --> 00:08:05,253\nAll right.\nSo why go with Amazon,\n\n144\n00:08:05,253 --> 00:08:07,370\nversus these other guys?\n\n145\n00:08:07,370 --> 00:08:10,200\nWell, really they all provide\nbasically the same thing, right?\n\n146\n00:08:10,200 --> 00:08:13,780\nThey all provide access\nto hosted resources.\n\n147\n00:08:13,780 --> 00:08:16,660\nHardware, in their\nstate-of-the-art data centers, so\n\n148\n00:08:16,660 --> 00:08:18,640\nthat you don't have to create\na data center yourself.\n\n149\n00:08:18,640 --> 00:08:21,650\nAnd then, you get access to the hardware,\nand what you do with it is up to you.\n\n150\n00:08:22,790 --> 00:08:25,860\nThe difference, is Amazon's volume.\n\n151\n00:08:25,860 --> 00:08:30,000\nThey were the first big player in\nthis market, and they've cornered it.\n\n152\n00:08:30,000 --> 00:08:32,820\nThey have the lion's share of\ncloud services that are out\n\n153\n00:08:32,820 --> 00:08:33,820\nthere on the Internet.\n\n154\n00:08:33,820 --> 00:08:36,900\nAnd, when you look at their systems,\nit shows.\n\n155\n00:08:36,900 --> 00:08:40,140\nThey've got many data centers\nspread across the globe.\n\n156\n00:08:40,140 --> 00:08:43,172\nA lot of the other providers,\nhave less data centers.\n\n157\n00:08:43,172 --> 00:08:45,672\nAll right.\nLike Windows Azure, they're still growing,\n\n158\n00:08:45,672 --> 00:08:49,670\nand so I think they're eight data centers\nnow, whereas, Amazon is far above that.\n\n159\n00:08:49,670 --> 00:08:51,020\nLet me show you what I mean.\n\n160\n00:08:51,020 --> 00:08:53,990\nAmazon has a nice little web page,\nthat you can go, and check out,\n\n161\n00:08:53,990 --> 00:08:56,179\nthat talks about their\nglobal infrastructure.\n\n162\n00:08:56,179 --> 00:08:59,114\nAnd you can get a chance to see\nwhere all of there data centers are.\n\n163\n00:08:59,114 --> 00:09:03,420\nAnd so they're showing right here in\nthe United States, which is part of\n\n164\n00:09:03,420 --> 00:09:08,380\nNorth America, that data centers\nare spread right here across the US.\n\n165\n00:09:08,380 --> 00:09:10,240\nThey don't currently have any in Canada.\n\n166\n00:09:10,240 --> 00:09:12,530\nCanada just serves off of the US ones.\n\n167\n00:09:12,530 --> 00:09:13,920\nSame thing with Mexico.\n\n168\n00:09:13,920 --> 00:09:17,640\nSo, although it is North America, all the\ndata centers are actually in the US, and\n\n169\n00:09:17,640 --> 00:09:19,530\nthey break it up into four regions.\n\n170\n00:09:19,530 --> 00:09:23,895\nSo we've got this US East,\nwhich is the North Virginia region, U.S.\n\n171\n00:09:23,895 --> 00:09:27,480\nWest which is Northern California,\nU.S. West Oregon.\n\n172\n00:09:27,480 --> 00:09:30,598\nSo you've got Southwest and\nNorthwest, and then you've got,\n\n173\n00:09:30,598 --> 00:09:34,770\nthe government cloud, that's one that's\nspecial just for you U.S. government.\n\n174\n00:09:35,870 --> 00:09:40,110\nInside of these regions,\nthey have multiple data centers.\n\n175\n00:09:40,110 --> 00:09:41,290\nSo notice this one right here.\n\n176\n00:09:41,290 --> 00:09:42,760\nUS east, north Virginia.\n\n177\n00:09:42,760 --> 00:09:44,200\nThis is their main data center.\n\n178\n00:09:44,200 --> 00:09:47,970\nThe one in northern Virginia,\nwhich is this yellow dot right here.\n\n179\n00:09:47,970 --> 00:09:51,540\nThat's the primary one for\nAmazon web services.\n\n180\n00:09:51,540 --> 00:09:53,580\nAll of the other data\ncenters were added later.\n\n181\n00:09:53,580 --> 00:09:55,500\nThese were the ones that were added first.\n\n182\n00:09:55,500 --> 00:09:58,990\nAnd when it started,\nit started as one data center.\n\n183\n00:09:58,990 --> 00:10:02,550\nBut they recognized early on, that\nwhat if that data center goes offline?\n\n184\n00:10:02,550 --> 00:10:04,080\nEverything in it goes offline.\n\n185\n00:10:04,080 --> 00:10:05,850\nSo they built a second data center.\n\n186\n00:10:05,850 --> 00:10:07,170\nAnd where did they build it?\n\n187\n00:10:07,170 --> 00:10:08,310\nRight next door.\n\n188\n00:10:08,310 --> 00:10:11,415\nSo we actually have, two data centers,\nsitting right side by side.\n\n189\n00:10:11,415 --> 00:10:14,340\nNow you might say to yourself, well,\nthat's not very redundant, is it?\n\n190\n00:10:14,340 --> 00:10:16,610\nWell, it's redundant from some things.\n\n191\n00:10:16,610 --> 00:10:22,060\nSo if you have two different data centers,\npulling power from multiple power sources,\n\n192\n00:10:22,060 --> 00:10:25,210\nwith internet connections\nfrom multiple ISPs, but\n\n193\n00:10:25,210 --> 00:10:27,800\noperated completely independently.\n\n194\n00:10:27,800 --> 00:10:31,410\nSeparate IT staffs, separate servers,\nseparate infrastructures,\n\n195\n00:10:31,410 --> 00:10:33,080\nseparate everything.\n\n196\n00:10:33,080 --> 00:10:36,028\nThey're redundant for everything,\nexcept for a natural disaster.\n\n197\n00:10:36,028 --> 00:10:38,789\nIf a hurricane, or an earthquake\nwere to hit one of those buildings,\n\n198\n00:10:38,789 --> 00:10:40,610\nit would probably take\nthe other one out too.\n\n199\n00:10:40,610 --> 00:10:41,800\nAll right.\n\n200\n00:10:41,800 --> 00:10:46,142\nSo when you see this yellow dot,\nthe blue dots around it,\n\n201\n00:10:46,142 --> 00:10:48,326\nthose are the data centers.\n\n202\n00:10:48,326 --> 00:10:49,160\nOkay.\n\n203\n00:10:49,160 --> 00:10:53,200\nAnd you'll see that this one has,\nfive availability zones.\n\n204\n00:10:53,200 --> 00:10:53,720\nAll right.\n\n205\n00:10:53,720 --> 00:10:58,210\nThe five zones, that means there's\nactually five, completely separate,\n\n206\n00:10:58,210 --> 00:11:00,100\nindependent data centers.\n\n207\n00:11:00,100 --> 00:11:02,610\nIf one of those data centers\nwere to go off line,\n\n208\n00:11:02,610 --> 00:11:05,430\nthe other four would still be up,\nand operational.\n\n209\n00:11:05,430 --> 00:11:08,090\nAnd of the few outages\nthat Amazon has had,\n\n210\n00:11:08,090 --> 00:11:12,480\nthey've always been isolated to\nsingle data centers like that.\n\n211\n00:11:12,480 --> 00:11:16,416\nSo that's kinda nice, that they've\ngot five different data centers,\n\n212\n00:11:16,416 --> 00:11:17,648\nin the US East region.\n\n213\n00:11:17,648 --> 00:11:18,530\nAll right.\n\n214\n00:11:18,530 --> 00:11:19,920\nNotice that it launched in 2006.\n\n215\n00:11:19,920 --> 00:11:23,060\nThis was the earliest one,\nwhich was nine years ago.\n\n216\n00:11:23,060 --> 00:11:24,940\nActually, wait, that's bad math.\n\n217\n00:11:24,940 --> 00:11:27,630\nSo it was about, it was about\nnine years ago, that it launched.\n\n218\n00:11:27,630 --> 00:11:31,230\nYou'll see the other ones\nhave launched since then.\n\n219\n00:11:31,230 --> 00:11:32,530\nUS West launched in 2009.\n\n220\n00:11:32,530 --> 00:11:36,462\nThree years later, they built a data\ncenter out here, in Northern California.\n\n221\n00:11:36,462 --> 00:11:37,440\nAll right.\n\n222\n00:11:37,440 --> 00:11:41,630\nAnd so that was built, brought up, and an\nonline, so that if an East coast natural\n\n223\n00:11:41,630 --> 00:11:45,040\ndisaster happened, they have servers\non the West Coast, that can take over,\n\n224\n00:11:45,040 --> 00:11:47,460\nand then they just\nbranched out from there.\n\n225\n00:11:47,460 --> 00:11:50,724\nYou've got three zones in northern\nCalifornia, you've got three zones in\n\n226\n00:11:50,724 --> 00:11:54,196\nOregon now, which is up here, and there's\ntwo zones for the government cloud.\n\n227\n00:11:54,196 --> 00:11:56,910\nWe'll ignore that one, if you\nare a government agency, you can use that,\n\n228\n00:11:56,910 --> 00:11:58,520\notherwise, you're not allowed to use it.\n\n229\n00:11:58,520 --> 00:12:03,270\nSo these other guys, were talking\nabout it, in the North America region,\n\n230\n00:12:03,270 --> 00:12:06,815\nalone, that we've got 11 data centers.\n\n231\n00:12:06,815 --> 00:12:10,140\nEleven completely\nindependent data centers.\n\n232\n00:12:11,790 --> 00:12:15,120\nWhen you bring a server up,\nin Amazon Web Services, or\n\n233\n00:12:15,120 --> 00:12:18,520\nwhen you bring file storage up, in Amazon\nWeb Services, when you bring whatever up,\n\n234\n00:12:18,520 --> 00:12:23,550\nin Amazon Web Services, you pick which\ndata center you want it reside in.\n\n235\n00:12:23,550 --> 00:12:26,220\nSo if I want to bring up\na redundant web server.\n\n236\n00:12:26,220 --> 00:12:29,700\nI want to have two web servers, so\nif one fails, the other one takes over.\n\n237\n00:12:29,700 --> 00:12:34,450\nI can put one in North Virginia,\nand I can put one in California.\n\n238\n00:12:34,450 --> 00:12:37,120\nAnd so,\nnow I've got redundant web servers.\n\n239\n00:12:37,120 --> 00:12:38,500\nDidn't cost me any extra to do it.\n\n240\n00:12:38,500 --> 00:12:41,010\nI just stick them into different\nlocations, and off you go.\n\n241\n00:12:41,010 --> 00:12:42,830\nRight?\nThe servers come up with separate IP\n\n242\n00:12:42,830 --> 00:12:46,240\naddresses, separate routes,\ncompletely separate infrastructure.\n\n243\n00:12:46,240 --> 00:12:49,220\nAnd, now I've got redundancy,\nat a fraction of the cost,\n\n244\n00:12:49,220 --> 00:12:50,740\nif I were to do it myself.\n\n245\n00:12:50,740 --> 00:12:54,320\nIf I were to do it myself, I'd have to\nbuy two physical servers, first off.\n\n246\n00:12:54,320 --> 00:12:54,970\nRight?\n\n247\n00:12:54,970 --> 00:12:58,810\nAnd then, I have to locate service\nproviders, in those two regions, and\n\n248\n00:12:58,810 --> 00:13:00,910\nstrike up a colocation deal.\n\n249\n00:13:00,910 --> 00:13:02,920\nSo I'd have to say, hey,\nhow much would it cost for me to stick,\n\n250\n00:13:02,920 --> 00:13:05,090\nmy server, in your data center?\n\n251\n00:13:05,090 --> 00:13:08,015\nOr if we were doing a bunch of servers,\nI'd have to build a data center.\n\n252\n00:13:08,015 --> 00:13:08,600\nRight?\n\n253\n00:13:08,600 --> 00:13:12,105\nSo you go, and you buy a warehouse,\nand you get more than one ISP run in.\n\n254\n00:13:12,105 --> 00:13:13,785\nPower from more than one power grid.\n\n255\n00:13:13,785 --> 00:13:14,485\nThat's the hard one.\n\n256\n00:13:14,485 --> 00:13:16,705\nThat's the expensive one,\nthat most people never think about.\n\n257\n00:13:16,705 --> 00:13:19,805\nMultiple generators, security guards,\nall that other infrastructure,\n\n258\n00:13:19,805 --> 00:13:23,485\nI had to pay for, is really expensive,\nand it adds up fast.\n\n259\n00:13:24,785 --> 00:13:28,405\nNow, North America, isn't the only\narea that's serviced by Amazon.\n\n260\n00:13:28,405 --> 00:13:30,885\nAWS spans the globe.\n\n261\n00:13:30,885 --> 00:13:33,300\nSo if we look down a little bit here...\n\n262\n00:13:33,300 --> 00:13:34,440\nWe'll see South America.\n\n263\n00:13:34,440 --> 00:13:37,730\nThey've got two availability zones,\ndown in South America.\n\n264\n00:13:37,730 --> 00:13:43,230\nWe've got Europe, Middle East, and Africa,\nthere's three availability zones there.\n\n265\n00:13:43,230 --> 00:13:46,550\nAnd notice how they say EU/Ireland region.\n\n266\n00:13:46,550 --> 00:13:48,550\nRight?\nThe main headquarters, is there,\n\n267\n00:13:48,550 --> 00:13:49,430\nin Ireland.\n\n268\n00:13:49,430 --> 00:13:52,160\nYou'll see these blue dots\nspread out from there.\n\n269\n00:13:52,160 --> 00:13:55,730\nThe blue dots aren't usually full data\ncenters, they're normally data centers for\n\n270\n00:13:55,730 --> 00:13:56,760\nindividual services.\n\n271\n00:13:56,760 --> 00:13:58,620\nMost of these are actually CloudFront.\n\n272\n00:13:58,620 --> 00:14:00,930\nCloudFront is used for\nvideo streaming, and\n\n273\n00:14:00,930 --> 00:14:04,822\nthe closer you can get a server to the\nviewer, the better performance they get.\n\n274\n00:14:04,822 --> 00:14:08,129\nSo you'll see those spread out.\n\n275\n00:14:08,129 --> 00:14:09,092\nAll right.\n\n276\n00:14:09,092 --> 00:14:12,740\nSo, sorry, I'm forgetting Asia Pacific,\nI'm forgetting the largest one.\n\n277\n00:14:12,740 --> 00:14:18,820\nSo Asia Pacific, you'll see that this,\nnext to North America, is the biggest one.\n\n278\n00:14:18,820 --> 00:14:21,620\nIt's the biggest geographically,\nbut it's the second largest,\n\n279\n00:14:21,620 --> 00:14:23,600\nin terms of, numbers of data center.\n\n280\n00:14:23,600 --> 00:14:27,820\nSo you'll see here that it's got, what do\nwe got, eight data centers, so we've got\n\n281\n00:14:27,820 --> 00:14:33,160\ntwo in Singapore, three in Tokyo, two in\nSydney, Australia, and one in Beijing.\n\n282\n00:14:33,160 --> 00:14:37,740\nSo, or actually, I guess Beijing is\ncoming soon, so not quite launched yet.\n\n283\n00:14:37,740 --> 00:14:39,500\nBut these data centers are out there.\n\n284\n00:14:39,500 --> 00:14:42,135\nAnd the idea is,\nthat when you bring up your servers,\n\n285\n00:14:42,135 --> 00:14:45,133\nyou want them to be as close to\nyour customers, as possible.\n\n286\n00:14:45,133 --> 00:14:48,960\nAnd that's what we do with IProTV,\nis that, sure we're in Florida.\n\n287\n00:14:48,960 --> 00:14:49,661\nRight?\nSo\n\n288\n00:14:49,661 --> 00:14:55,374\nif you wanted to find us on\nthe map we are right down here.\n\n289\n00:14:55,374 --> 00:14:56,845\nRight?\nSo that's where we are right now.\n\n290\n00:14:56,845 --> 00:14:58,875\nThat's where I'm\nbroadcasting you guys from.\n\n291\n00:14:58,875 --> 00:15:02,440\nBut you as the viewer, could be all over.\n\n292\n00:15:02,440 --> 00:15:04,429\nIt's something like,\na quarter of our users,\n\n293\n00:15:04,429 --> 00:15:06,080\nare from outside of the United States.\n\n294\n00:15:06,080 --> 00:15:09,270\nWe have a number of subscribers,\nfrom Australia, for example.\n\n295\n00:15:09,270 --> 00:15:12,550\nAnd if you're in Australia,\nthat's a long way away from here.\n\n296\n00:15:12,550 --> 00:15:15,340\nIt's like a 24-hour flight,\nif I were to get on a plane, and\n\n297\n00:15:15,340 --> 00:15:16,860\ntry to hop over there right now.\n\n298\n00:15:16,860 --> 00:15:18,560\nSo that's a long way.\n\n299\n00:15:18,560 --> 00:15:24,230\nTo stream video from Florida to Australia,\nis gonna have some massive latency,\n\n300\n00:15:24,230 --> 00:15:28,380\nand all sorts of different problems\ncan occur to affect video quality.\n\n301\n00:15:28,380 --> 00:15:32,190\nSo it's better,\nto have a server closer to Australia,\n\n302\n00:15:32,190 --> 00:15:35,700\nto be able to serve that region,\nand that's exactly what we do.\n\n303\n00:15:35,700 --> 00:15:40,080\nWe have servers here in North America,\nbut we also have servers in Singapore.\n\n304\n00:15:40,080 --> 00:15:42,465\nSo, when we look at this map,\nthat would be right about here.\n\n305\n00:15:42,465 --> 00:15:47,329\nSo we have servers in Singapore, which\nare streaming to Australia, as well as,\n\n306\n00:15:47,329 --> 00:15:48,194\nmost of Asia.\n\n307\n00:15:48,194 --> 00:15:51,404\nSo we get the servers placed out there,\nand people get better access.\n\n308\n00:15:51,404 --> 00:15:54,195\nNow.\nI have never been to Singapore.\n\n309\n00:15:54,195 --> 00:15:56,870\nWe do not own any property in Singapore.\n\n310\n00:15:56,870 --> 00:16:01,460\nI don't know that I could even find\na cab if I were to land there right now.\n\n311\n00:16:01,460 --> 00:16:02,580\nI don't know much about the country,\n\n312\n00:16:02,580 --> 00:16:06,010\nbut I don't have to cuz\nAmazon takes care of that.\n\n313\n00:16:06,010 --> 00:16:06,840\nThat's what they do.\n\n314\n00:16:06,840 --> 00:16:10,150\nThat's how we kinda benefit\nfrom their service.\n\n315\n00:16:10,150 --> 00:16:11,609\nThat's a big deal for us.\n\n316\n00:16:12,780 --> 00:16:15,450\nNow when we sign up to\nuse a service like this,\n\n317\n00:16:15,450 --> 00:16:17,540\nthat needs to be one of our main concerns.\n\n318\n00:16:17,540 --> 00:16:19,290\nWhere do they have data centers?\n\n319\n00:16:19,290 --> 00:16:21,720\nIf you go with Rackspace,\nor Windows Azure, or\n\n320\n00:16:21,720 --> 00:16:24,300\none of the other competitors that\nare out there, they have great products!\n\n321\n00:16:24,300 --> 00:16:26,988\nThey do basically the same\nthing as Amazon web services.\n\n322\n00:16:26,988 --> 00:16:28,984\nBut they may not have\nas many data centers.\n\n323\n00:16:28,984 --> 00:16:30,750\nThey may not cover as many locations.\n\n324\n00:16:32,070 --> 00:16:33,930\nThen there's the bells and whistles.\n\n325\n00:16:33,930 --> 00:16:35,710\nAmazon's been at this a long time.\n\n326\n00:16:35,710 --> 00:16:38,410\nThis service is very evolved,\nand very matured, and so\n\n327\n00:16:38,410 --> 00:16:43,490\nthey've got a lot of neat,\nadditional features that set them apart.\n\n328\n00:16:43,490 --> 00:16:45,390\nOther service providers like Rackspace.\n\n329\n00:16:45,390 --> 00:16:47,944\nRackspace does a great\njob of not bothering you,\n\n330\n00:16:47,944 --> 00:16:50,383\nof letting you do whatever\nit is that you want.\n\n331\n00:16:50,383 --> 00:16:54,271\nThey help you bring up the servers in\nthe right regions, but after that,\n\n332\n00:16:54,271 --> 00:16:55,690\nthey let you deal with it.\n\n333\n00:16:55,690 --> 00:16:58,933\nYou can pay them for manage services\nwhere they'll actually do more for\n\n334\n00:16:58,933 --> 00:17:01,810\nyou, but for most people they\njust get a server and that's it.\n\n335\n00:17:02,900 --> 00:17:04,820\nAmazon can do that too,\n\n336\n00:17:04,820 --> 00:17:08,210\nbut a lot of times they pushing\nadditional services with their products.\n\n337\n00:17:08,210 --> 00:17:12,690\nThings like automated backups, and systems\nlike that, maintenance and monitoring,\n\n338\n00:17:12,690 --> 00:17:14,300\nall sorts of neat little things.\n\n339\n00:17:14,300 --> 00:17:18,150\nWe get some of that, and there's also some\nspecial managed database solutions, and\n\n340\n00:17:18,150 --> 00:17:23,090\nother things, where you can leverage\ntheir highly trained staff of employees\n\n341\n00:17:23,090 --> 00:17:26,130\nto take care a lot of the work,\nso that you don't have to.\n\n342\n00:17:26,130 --> 00:17:29,910\nThis helps to minimize our costs of\noperations, because we might not be able\n\n343\n00:17:29,910 --> 00:17:35,500\nto afford highly trained specialized\nMySQL database engineers.\n\n344\n00:17:35,500 --> 00:17:39,240\nMaybe we're a small company, and\nwhile our database is important,\n\n345\n00:17:39,240 --> 00:17:42,520\nwe're not a database company, so we don't\nwant to hire that type of employee.\n\n346\n00:17:42,520 --> 00:17:44,960\nWell by storing our\ndatabases on Amazon and\n\n347\n00:17:44,960 --> 00:17:47,940\nusing their managed service,\nwe can take advantage\n\n348\n00:17:47,940 --> 00:17:51,990\nof that caliber of employee without\nactually having to pay their salary.\n\n349\n00:17:51,990 --> 00:17:55,740\nDefinitely big benefits there to have.\n\n350\n00:17:55,740 --> 00:18:00,300\nThe other thing is that Amazon doesn't\nhave any kind of investment with\n\n351\n00:18:00,300 --> 00:18:04,260\nan operating system vendor, so they really\ndon't care what kind of servers you run.\n\n352\n00:18:04,260 --> 00:18:07,720\nThey typically run Linux and\nMicrosoft Windows server, so\n\n353\n00:18:07,720 --> 00:18:09,860\nthat's what we're normally\ngonna see on there.\n\n354\n00:18:09,860 --> 00:18:12,770\nThere are a few other\nOS's that are supported,\n\n355\n00:18:12,770 --> 00:18:14,970\nbut for the most part,\nit's Linux and Windows.\n\n356\n00:18:14,970 --> 00:18:20,760\nVersus systems like Microsoft Azure, where\nthey are Windows first, Linux second.\n\n357\n00:18:20,760 --> 00:18:26,170\nLinux is not treated as prevalently\nas Windows is in their environment.\n\n358\n00:18:26,170 --> 00:18:28,205\nNot that they don't support Linux,\nthey do, but\n\n359\n00:18:28,205 --> 00:18:31,752\ntheir focus is very obviously on Windows\nbecause that's Microsoft's core product.\n\n360\n00:18:31,752 --> 00:18:34,272\nYou take Amazon,\nit's a little more independent.\n\n361\n00:18:34,272 --> 00:18:38,209\nAnd actually on Amazon, in my opinion,\nyou get a little bit better support for\n\n362\n00:18:38,209 --> 00:18:39,890\nLinux then you do under Windows.\n\n363\n00:18:39,890 --> 00:18:42,120\nIt's just the way that they\nbuilt their infrastructure.\n\n364\n00:18:42,120 --> 00:18:44,690\nBecause what's under\nthe hood is typically Linux.\n\n365\n00:18:47,460 --> 00:18:50,250\nThat's kind of an overview\nof the physical structure,\n\n366\n00:18:50,250 --> 00:18:54,750\nwhat the service is and\nwhy it even exists in the first place.\n\n367\n00:18:54,750 --> 00:18:57,910\nThe second thing I want to talk about is,\nwhat they provide.\n\n368\n00:18:57,910 --> 00:19:01,465\nIf you sign up for Amazon Web Services\nright now, you go to their website,\n\n369\n00:19:01,465 --> 00:19:02,885\nyou create an account, it's free right?\n\n370\n00:19:02,885 --> 00:19:04,675\nYou can create an account and log in.\n\n371\n00:19:04,675 --> 00:19:07,515\nAnd they even have these little,\nthey call them free tiers.\n\n372\n00:19:07,515 --> 00:19:10,565\nWhere you can spin up a server and\nkind of practice with it and\n\n373\n00:19:10,565 --> 00:19:14,065\nlearn Amazon web services, and\nthey don't even charge you.\n\n374\n00:19:14,065 --> 00:19:16,485\nIf you bring up like a micro instance,\nthat's enough for\n\n375\n00:19:16,485 --> 00:19:17,665\nyou to mess with and learn.\n\n376\n00:19:17,665 --> 00:19:20,795\nIt's not enough for you to host a website\nand get a bunch of people hitting it.\n\n377\n00:19:20,795 --> 00:19:22,460\nBut it's enough for you to learn with.\n\n378\n00:19:22,460 --> 00:19:25,780\nThey don't charge you a dime, because\nthey want you to learn the service.\n\n379\n00:19:25,780 --> 00:19:29,710\nBut when you log in that first time,\nlet me show you what you'll see.\n\n380\n00:19:29,710 --> 00:19:32,200\nYou'll log into your\nAmazon Web Services console,\n\n381\n00:19:32,200 --> 00:19:33,940\nand you'll get this screen right here.\n\n382\n00:19:34,950 --> 00:19:38,483\nAnd this is usually the spot where\npeople's heads [SOUND] explode right?\n\n383\n00:19:38,483 --> 00:19:39,384\nIt's just so much,\n\n384\n00:19:39,384 --> 00:19:42,309\nall these different components and\nwe don't know what they are.\n\n385\n00:19:43,940 --> 00:19:48,930\nWell, a lot of what you're looking at\nhere are very specialized services that\n\n386\n00:19:48,930 --> 00:19:54,820\nfit a particular need, a particular\ncustomer's type need, and not most people.\n\n387\n00:19:54,820 --> 00:19:58,895\nThere are many of these services that\nI've seen and know what they are,\n\n388\n00:19:58,895 --> 00:20:01,075\nI've never actually used.\n\n389\n00:20:01,075 --> 00:20:04,655\nLike the Message Queue Service,\nI know what the Message Queue Service is,\n\n390\n00:20:04,655 --> 00:20:06,970\nit's for\nreliable transmission of transactions.\n\n391\n00:20:06,970 --> 00:20:11,115\nIt's really useful for purchasing for\nonline e-retailers and\n\n392\n00:20:11,115 --> 00:20:12,225\nthings of that nature.\n\n393\n00:20:12,225 --> 00:20:15,860\nStock brokerages use that all the time\nto ensure that trades go through.\n\n394\n00:20:15,860 --> 00:20:18,690\nBut for me,\nI've never had a need for that.\n\n395\n00:20:18,690 --> 00:20:24,050\nAnd so I have never once spun\nup the SQS system inside of AWS.\n\n396\n00:20:24,050 --> 00:20:24,970\nI just don't need it.\n\n397\n00:20:24,970 --> 00:20:26,940\nAnd that's how a lot of these are.\n\n398\n00:20:26,940 --> 00:20:28,790\nIf you don't need DynamoDB,\n\n399\n00:20:28,790 --> 00:20:32,290\nif you're not doing a bunch of NoSQL\nstuff, then you don't need it.\n\n400\n00:20:32,290 --> 00:20:33,540\nYou don't spin it up.\n\n401\n00:20:33,540 --> 00:20:36,990\nWith Amazon Web Services,\nyou only pay for what you use.\n\n402\n00:20:36,990 --> 00:20:40,710\nIf you don't use any of it,\nyour bill for the month is $0.\n\n403\n00:20:40,710 --> 00:20:42,560\nThat's really cool.\n\n404\n00:20:42,560 --> 00:20:47,180\nThere's no contracts, you quit any time\nyou want, you just pay for what you use.\n\n405\n00:20:47,180 --> 00:20:50,060\nLet's talk about the main stuff,\nthe things that you are gonna use,\n\n406\n00:20:50,060 --> 00:20:51,180\nthe things that most people do.\n\n407\n00:20:52,220 --> 00:20:55,220\nWell there's really four key products.\n\n408\n00:20:55,220 --> 00:20:59,080\nOut of all of these, there's really four\nthat are considered key and critical.\n\n409\n00:21:00,410 --> 00:21:02,950\nThe first one is EC2.\n\n410\n00:21:02,950 --> 00:21:06,162\nWhen most people talk about\nAmazon Web Services, or\n\n411\n00:21:06,162 --> 00:21:08,791\nAWS, a lot of times they'll call it EC2.\n\n412\n00:21:08,791 --> 00:21:10,986\nBecause this is the one that's most used.\n\n413\n00:21:10,986 --> 00:21:14,620\nEC2 is the Elastic Cloud Compute.\n\n414\n00:21:14,620 --> 00:21:16,500\nI mean, [LAUGH] I screwed up.\n\n415\n00:21:16,500 --> 00:21:18,650\nElastic Compute Cloud, got it backwards.\n\n416\n00:21:18,650 --> 00:21:20,890\nElastic Compute Cloud is EC2.\n\n417\n00:21:20,890 --> 00:21:23,400\nECC are the initials, they made it EC2.\n\n418\n00:21:23,400 --> 00:21:26,610\nAnd that is what allows us\nto bring up virtual servers.\n\n419\n00:21:26,610 --> 00:21:27,680\nDo you need a Linux server?\n\n420\n00:21:27,680 --> 00:21:29,080\nDo you need a Windows server?\n\n421\n00:21:29,080 --> 00:21:30,730\nYou could build one up\nin your own environment.\n\n422\n00:21:30,730 --> 00:21:32,630\nYou could order the hardware and so on.\n\n423\n00:21:32,630 --> 00:21:37,170\nOr you could go into EC2 and you could\nspin up a virtual server right now.\n\n424\n00:21:37,170 --> 00:21:38,920\nIt's ready, it's up,\nit's got its hardware.\n\n425\n00:21:38,920 --> 00:21:42,090\nIt's in the cloud, so you don't\nhave to manage the infrastructure.\n\n426\n00:21:42,090 --> 00:21:43,720\nIt's online and available.\n\n427\n00:21:43,720 --> 00:21:44,340\nDo what you want with it.\n\n428\n00:21:45,450 --> 00:21:50,320\nWhen you bring up a server in Amazon\nWeb Services, you're doing it in EC2.\n\n429\n00:21:50,320 --> 00:21:53,220\nThat's typically where we're going\nto go to start creating those.\n\n430\n00:21:53,220 --> 00:21:54,590\nThat's the key service.\n\n431\n00:21:56,070 --> 00:21:59,010\nThe next one is Amazon S3.\n\n432\n00:21:59,010 --> 00:22:06,180\nS3 is down here, and what S3 stands for\nis just the Simple Storage Services.\n\n433\n00:22:06,180 --> 00:22:07,920\nSSS, Simple Storage Services.\n\n434\n00:22:07,920 --> 00:22:09,650\nThat's why it's called S3.\n\n435\n00:22:09,650 --> 00:22:12,240\nIf you wanna put files online and\n\n436\n00:22:12,240 --> 00:22:15,270\nhave people download them,\nAmazon S3's the way to do it.\n\n437\n00:22:16,600 --> 00:22:19,195\nDownloading a file takes\na lot of bandwidth.\n\n438\n00:22:19,195 --> 00:22:23,890\nWe use ITProTV as an example, cuz this is\nexactly what we use, we use AWS for this.\n\n439\n00:22:23,890 --> 00:22:26,060\nIf you're an annual subscriber on ITProTV,\n\n440\n00:22:26,060 --> 00:22:28,950\nyou can download our episodes for\noffline viewing.\n\n441\n00:22:28,950 --> 00:22:32,880\nWhen you download them, we needed\nsomeplace to put all of our episodes.\n\n442\n00:22:32,880 --> 00:22:35,490\nWe have over, well I think we're\ncreeping up on episode 500,\n\n443\n00:22:35,490 --> 00:22:36,980\nlet me ask our director.\n\n444\n00:22:36,980 --> 00:22:38,840\nHave we crossed 500 yet?\n\n445\n00:22:38,840 --> 00:22:43,740\nNo. Okay. What we're creeping up on\nepisode 500, each of those episodes\n\n446\n00:22:43,740 --> 00:22:48,230\nis usually about a gigabyte in size,\nso half a terabyte of video.\n\n447\n00:22:48,230 --> 00:22:51,220\nIf somebody wanted to go and download\nall of them, well we have thousands of\n\n448\n00:22:51,220 --> 00:22:53,940\nsubscribers, if they all start\ndownloading those files right now,\n\n449\n00:22:53,940 --> 00:22:56,320\nit'll bring our server to a halt.\n\n450\n00:22:56,320 --> 00:22:57,500\nJust too much load.\n\n451\n00:22:58,580 --> 00:23:01,490\nBut Amazon, they sell digital goods.\n\n452\n00:23:01,490 --> 00:23:06,150\nThey sell ebooks, and\nmp3s, and digital games.\n\n453\n00:23:06,150 --> 00:23:08,560\nYou can download gigs and\ngigs of data from them,\n\n454\n00:23:08,560 --> 00:23:11,340\nfrom their storage server\nspread all across the world.\n\n455\n00:23:11,340 --> 00:23:14,340\nWith S3, they take care of that for us.\n\n456\n00:23:14,340 --> 00:23:17,060\nWe take our videos and\nwe stick them up in Amazon S3, and\n\n457\n00:23:17,060 --> 00:23:20,210\nwhen you guys download them,\nyou're clicking a link on our site that's\n\n458\n00:23:20,210 --> 00:23:25,130\nactually linking to a storage bucket in\nAmazon S3 and pulling the file from there.\n\n459\n00:23:25,130 --> 00:23:29,590\nIf all of our users start downloading\nat once, S3 can handle it.\n\n460\n00:23:29,590 --> 00:23:33,450\nBut if it's just a user every here and\nthere downloading, it can handle that too.\n\n461\n00:23:33,450 --> 00:23:35,620\nAnd we just pay for\nthe bandwidth that you guys consume.\n\n462\n00:23:35,620 --> 00:23:38,040\nEvery time you download a video from us,\nit costs us some money,\n\n463\n00:23:38,040 --> 00:23:40,425\nbut that's part of the subscription fee.\n\n464\n00:23:40,425 --> 00:23:42,855\nThat's how we generate revenue.\n\n465\n00:23:44,265 --> 00:23:45,614\nS3 makes that easy.\n\n466\n00:23:45,614 --> 00:23:49,036\nThe other cool part about S3 is when you\ncopy a file up to it, you can choose to\n\n467\n00:23:49,036 --> 00:23:52,730\nhave it replicated to data centers around\nthe world, so that when people download\n\n468\n00:23:52,730 --> 00:23:56,504\nthe file, they're downloading it from\nsomewhere geographically close to them.\n\n469\n00:23:56,504 --> 00:23:59,287\nWhich is usually gonna result\nin faster download times.\n\n470\n00:23:59,287 --> 00:24:00,323\nI say usually.\n\n471\n00:24:00,323 --> 00:24:02,067\nS3 has some really good bandwidth, but\n\n472\n00:24:02,067 --> 00:24:04,683\nif your end users have crummy bandwidth,\nit doesn't matter\n\n473\n00:24:04,683 --> 00:24:08,110\nwhere the file's coming from it's\ngonna take a long time to download.\n\n474\n00:24:08,110 --> 00:24:10,090\nSo, you know, it can't work magic, but\n\n475\n00:24:10,090 --> 00:24:12,670\nit can definitely give you the resources\nto make those files available.\n\n476\n00:24:14,410 --> 00:24:17,060\nAll right, the next one is RDS.\n\n477\n00:24:17,060 --> 00:24:21,330\nRDS is the Relational Database Service and\nlet me see if I can find that in here.\n\n478\n00:24:21,330 --> 00:24:22,600\nIt'll be down under databases.\n\n479\n00:24:22,600 --> 00:24:23,690\nThere it is, RDS.\n\n480\n00:24:25,450 --> 00:24:28,610\nIf you need a database,\nwhich almost everybody does.\n\n481\n00:24:28,610 --> 00:24:31,270\nEvery website, if you have WordPress or\nDrupal or Joomla.\n\n482\n00:24:31,270 --> 00:24:35,280\nIf you have, you know, SharePoint,\njust about any website.\n\n483\n00:24:35,280 --> 00:24:38,890\nBut even non-websites, point of sales\nsystems, all sorts of stuff like that.\n\n484\n00:24:38,890 --> 00:24:41,110\nYou need a database to store your data.\n\n485\n00:24:41,110 --> 00:24:47,040\nWell, you could go up to EC2, and spin up\na server, and load MySQL on it, right?\n\n486\n00:24:47,040 --> 00:24:47,730\nPlenty of people do.\n\n487\n00:24:47,730 --> 00:24:49,930\nYou could manage your\nown server right there.\n\n488\n00:24:49,930 --> 00:24:53,120\nBut you'd be doing exactly what I\njust said, managing your own server.\n\n489\n00:24:53,120 --> 00:24:55,320\nYou'd have to apply updates\nUpdates to the underlying OS.\n\n490\n00:24:56,320 --> 00:25:00,390\nYou'd have to apply updates to MySQL,\nyou'd have to manage it's security.\n\n491\n00:25:00,390 --> 00:25:02,510\nAny time an update came out\nit might break something,\n\n492\n00:25:02,510 --> 00:25:04,720\nyou'd have to manage the backup\nto be able to do restores.\n\n493\n00:25:04,720 --> 00:25:07,850\nSo there's a lot of\nwork involved with RDS.\n\n494\n00:25:07,850 --> 00:25:11,720\nWell, you might not be a MySQL expert.\n\n495\n00:25:11,720 --> 00:25:14,970\nYour company might not have\nan SQL expert on staff.\n\n496\n00:25:14,970 --> 00:25:20,070\nSo instead, you can say, you know what,\nlet me leverage Amazon's staff.\n\n497\n00:25:20,070 --> 00:25:22,200\nAmazon has some amazing\ndatabase engineers and\n\n498\n00:25:22,200 --> 00:25:25,500\nsome of the best database\nengineers in the world, right?\n\n499\n00:25:25,500 --> 00:25:27,440\nThey've got them because their\ndatabase is massive, and\n\n500\n00:25:27,440 --> 00:25:30,620\nthey have tons of customers\nquerying it throughout the day.\n\n501\n00:25:30,620 --> 00:25:34,200\nWith RDS you choose to create a database,\nbut\n\n502\n00:25:34,200 --> 00:25:39,070\nyou don't manage the underlying server or\neven the database engine itself.\n\n503\n00:25:39,070 --> 00:25:44,090\nAnd you can pick from multiple engines,\nthey do MySQL, Microsoft SQL, Oracle.\n\n504\n00:25:44,090 --> 00:25:47,080\nSo you can actually pick from\nthese different database types and\n\n505\n00:25:47,080 --> 00:25:48,610\nit will host on their servers.\n\n506\n00:25:48,610 --> 00:25:52,380\nServers that they manage,\nthey update, they backup.\n\n507\n00:25:52,380 --> 00:25:55,240\nYou just put your data in there,\nand query your data, right?\n\n508\n00:25:55,240 --> 00:25:59,020\nSo it takes the back-end\nside off of your plate, and\n\n509\n00:25:59,020 --> 00:26:03,220\nlets you focus on the data side, which\nis what you really need to work with.\n\n510\n00:26:03,220 --> 00:26:06,000\nSo RDS, really cool feature there.\n\n511\n00:26:06,000 --> 00:26:10,210\nThey do charge a bit extra for it than if\nyou just brought up your own server and\n\n512\n00:26:10,210 --> 00:26:14,280\nthat extra they charge, it's not much,\nbut that extra that they charge Is for\n\n513\n00:26:14,280 --> 00:26:15,360\nthe management piece.\n\n514\n00:26:15,360 --> 00:26:18,820\nTheir management of your databases and\nbelieve me it's worth it.\n\n515\n00:26:18,820 --> 00:26:22,630\nEven if you are a database expert it's\nnice to have a second set of eyes watching\n\n516\n00:26:22,630 --> 00:26:23,530\nyour system.\n\n517\n00:26:23,530 --> 00:26:26,470\nJust because it's in RDS doesn't mean\nyou can't get in there and tweak things.\n\n518\n00:26:26,470 --> 00:26:30,720\nYou can, but it's nice to have that\nsecond team just taking care of it so\n\n519\n00:26:30,720 --> 00:26:31,670\nyou don't have to worry about it.\n\n520\n00:26:33,890 --> 00:26:37,140\nAll right, the fourth primary service\nthey have is called Cloud Front.\n\n521\n00:26:37,140 --> 00:26:40,090\nAnd Cloud Front's kinda weird cuz\nyou'll see it here under storage and\n\n522\n00:26:40,090 --> 00:26:40,880\ncontent delivery.\n\n523\n00:26:40,880 --> 00:26:43,560\nAnd then you'll see other\npieces of it over here.\n\n524\n00:26:43,560 --> 00:26:46,680\nCloud Formation, Cloud Trail, Cloud Watch.\n\n525\n00:26:46,680 --> 00:26:48,090\nWhat is Cloud Front?\n\n526\n00:26:48,090 --> 00:26:50,920\nWell, if you're doing streaming video,\nlike we are.\n\n527\n00:26:50,920 --> 00:26:55,060\nStreaming video is very\nbandwidth intensive and latency.\n\n528\n00:26:55,060 --> 00:26:59,180\nYou don't want your end users to have\nbuffering video and stuttering and so on.\n\n529\n00:26:59,180 --> 00:27:03,980\nSo, with CloudFront, Amazon makes it\nwhere you upload your video to one place.\n\n530\n00:27:03,980 --> 00:27:08,020\nAnd when you upload CloudFront\nwill replicate it out to servers\n\n531\n00:27:08,020 --> 00:27:12,730\naround the world so that your end users\ncan view it from a server close to them.\n\n532\n00:27:12,730 --> 00:27:15,230\nSo it's hosted video streaming.\n\n533\n00:27:15,230 --> 00:27:19,200\nAnd it can do live as well as video\non demand, like recorded videos and\n\n534\n00:27:19,200 --> 00:27:20,230\nprovide that out there.\n\n535\n00:27:20,230 --> 00:27:24,370\nVideo streaming is the number one consumer\nof bandwidth out there on the internet.\n\n536\n00:27:24,370 --> 00:27:28,290\nLike Netflix and\nAmazon Prime videos where they consume\n\n537\n00:27:28,290 --> 00:27:33,350\na huge portion of the internet's\ntraffic So doing it optimally is key.\n\n538\n00:27:33,350 --> 00:27:35,090\nAnd it's really challenging to do that.\n\n539\n00:27:35,090 --> 00:27:36,840\nWith CloudFront,\nthey make it a lot easier.\n\n540\n00:27:36,840 --> 00:27:39,480\nAll right, so\nthose are the big four services.\n\n541\n00:27:39,480 --> 00:27:40,860\nThat was EC2, S3, RDS, and CloudFront.\n\n542\n00:27:40,860 --> 00:27:44,710\nThose are what most people are gonna use,\nright?\n\n543\n00:27:45,920 --> 00:27:49,970\nBut as you use those, you're gonna find\nthat you reach into some of the other\n\n544\n00:27:49,970 --> 00:27:51,902\nservices too to achieve various things.\n\n545\n00:27:51,902 --> 00:27:56,220\nAll right, so let me just kinda do a quick\nrun down on some of the other services\n\n546\n00:27:56,220 --> 00:27:58,790\nyou'll encounter as you start\nto work today, all ight.\n\n547\n00:27:58,790 --> 00:28:00,540\nNext one is VPC right.\n\n548\n00:28:00,540 --> 00:28:02,530\nVPC is virtual private cloud.\n\n549\n00:28:02,530 --> 00:28:06,320\nWhen you bring a server up in EC2\nyou might want it to be public for\n\n550\n00:28:06,320 --> 00:28:09,140\nthe whole world to see and\nthat's the default.\n\n551\n00:28:09,140 --> 00:28:13,420\nBut with VPC,\nyou can create isolated networks in EC2,\n\n552\n00:28:13,420 --> 00:28:17,420\nso that your servers are not public but\nprivate, right?\n\n553\n00:28:17,420 --> 00:28:20,980\nIf you're putting database server up there\nfor managing your timeclock or something,\n\n554\n00:28:20,980 --> 00:28:21,830\nyou don't want that to be public,\n\n555\n00:28:21,830 --> 00:28:24,460\nyou don't want the hold world to hit that,\nyou want that to be private.\n\n556\n00:28:24,460 --> 00:28:25,580\nYou're putting it in the cloud for\n\n557\n00:28:25,580 --> 00:28:28,780\nredundancy, not to make it\navailable to the world.\n\n558\n00:28:28,780 --> 00:28:32,150\nSo you can use VPC to\ncreate a private network.\n\n559\n00:28:32,150 --> 00:28:35,980\nOnce you've created that private network\nyou can combine that with Direct Connect.\n\n560\n00:28:35,980 --> 00:28:40,630\nDirect Connect is basically a VPN service\nwhere you can have your local site build\n\n561\n00:28:40,630 --> 00:28:44,980\na VPN tunnel to your VPC and\nthen you'll have access to those servers.\n\n562\n00:28:44,980 --> 00:28:48,480\nAll encrypted and\nsecured across the Internet, right?\n\n563\n00:28:48,480 --> 00:28:55,500\nSo that's another service that we'll bump\ninto Route 53 is our hosted DNS server.\n\n564\n00:28:55,500 --> 00:29:00,493\nIf you have a DNS zone, you can go out and\nbuy a name ITpro.tv or ITpro.net or\n\n565\n00:29:00,493 --> 00:29:01,750\nwhatever.\n\n566\n00:29:01,750 --> 00:29:03,790\nYou have to host that DNS name somewhere.\n\n567\n00:29:03,790 --> 00:29:05,420\nWhy not host it in route 53?\n\n568\n00:29:05,420 --> 00:29:08,370\nWhen you host your DNS with Amazon,\nyou get their fully redundant\n\n569\n00:29:08,370 --> 00:29:12,180\nDNS infrastructure but\nyou also get some special abilities.\n\n570\n00:29:12,180 --> 00:29:15,750\nYour service might have dynamic\nIP addresses that change.\n\n571\n00:29:15,750 --> 00:29:19,060\nRoute 53 will handle that or\nyour service might have static IPs.\n\n572\n00:29:19,060 --> 00:29:21,680\nThat's fine, route 53 won't need\nto do anything special there.\n\n573\n00:29:21,680 --> 00:29:23,930\nSo you might choose to\nuse your own DNS servers.\n\n574\n00:29:23,930 --> 00:29:26,540\nBut if you're doing dynamic stuff,\nlike dynamic scaling,\n\n575\n00:29:26,540 --> 00:29:29,728\nyou'll almost always want to use\nRoute 53 to host your DNS name.\n\n576\n00:29:29,728 --> 00:29:32,190\nAll right, IAM.\n\n577\n00:29:32,190 --> 00:29:36,680\nIAM, this guy right here is identity and\naccess management.\n\n578\n00:29:36,680 --> 00:29:40,290\nIf you're a one person shop,\nif you're the only IT guy for\n\n579\n00:29:40,290 --> 00:29:42,120\nyour company you probably don't\ncare about IAM very much.\n\n580\n00:29:42,120 --> 00:29:45,270\nYou signed up for an account,\nyou got user account.\n\n581\n00:29:45,270 --> 00:29:46,960\nYou log in, you manage your servers.\n\n582\n00:29:46,960 --> 00:29:48,390\nBut if you have an IT department.\n\n583\n00:29:48,390 --> 00:29:51,580\nIf you have multiple members\nof staff on your team or\n\n584\n00:29:51,580 --> 00:29:54,890\nyou have multiple applications\nthat you want to have different\n\n585\n00:29:54,890 --> 00:29:57,870\naccess to the data that you've stored\ninside of AWS, you'll use IAM.\n\n586\n00:29:57,870 --> 00:30:01,030\nThis is where you create your\nsecurity credentials, and\n\n587\n00:30:01,030 --> 00:30:03,740\nyou dictate who is allowed to access what.\n\n588\n00:30:05,370 --> 00:30:08,140\nThere's a new service called workspaces.\n\n589\n00:30:08,140 --> 00:30:11,580\nWorkspaces is where you can\nhost a desktop in the cloud.\n\n590\n00:30:11,580 --> 00:30:14,770\nIf you're a traveling employee\nthat doesn't have a laptop or\n\n591\n00:30:14,770 --> 00:30:18,830\ndesktop that you carry with you, you might\nwant to have Of your desktop in the Cloud.\n\n592\n00:30:18,830 --> 00:30:21,750\nSo you can run a work station\nsystem Linux or Windows.\n\n593\n00:30:21,750 --> 00:30:25,070\nIf it's Windows it can actually have\nMicrosoft Office pre-installed on it and\n\n594\n00:30:25,070 --> 00:30:26,170\nit's right there in the Cloud.\n\n595\n00:30:26,170 --> 00:30:29,110\nYou can access it from anywhere in\nthe world by browsing to a website\n\n596\n00:30:29,110 --> 00:30:30,060\nand logging in.\n\n597\n00:30:30,060 --> 00:30:31,450\nIt's a pretty neat one.\n\n598\n00:30:31,450 --> 00:30:35,530\nI find that I'll usually work spaces\nto create a management machine\n\n599\n00:30:35,530 --> 00:30:38,010\nthat I'll use to Amazon web services.\n\n600\n00:30:38,010 --> 00:30:42,110\nThat way I'm not logging into AWS right\nhere on my laptop which might get stolen.\n\n601\n00:30:42,110 --> 00:30:44,770\nI'm logging into AWS from a laptop or\ndesktop or\n\n602\n00:30:44,770 --> 00:30:49,730\nwhatever that's in the cloud that\nis separate from my own machine.\n\n603\n00:30:49,730 --> 00:30:51,620\nAnd then lastly another\none that is kind of cool,\n\n604\n00:30:51,620 --> 00:30:54,070\nlet me see if I can find it in\nhere is the elastic transcoder.\n\n605\n00:30:54,070 --> 00:30:57,555\nIt is right here,\nElastic transcoder, this guy.\n\n606\n00:30:57,555 --> 00:31:00,010\nI mentioned video streaming.\n\n607\n00:31:00,010 --> 00:31:02,140\nWhen you upload a video and\nstream it across the world,\n\n608\n00:31:02,140 --> 00:31:03,850\nit sounds pretty easy, right?\n\n609\n00:31:03,850 --> 00:31:08,580\nBut unfortunately there's people\non Windows machines, Macs, Linux.\n\n610\n00:31:08,580 --> 00:31:11,390\nThere's people on iPhones and\nAndroid phones and\n\n611\n00:31:11,390 --> 00:31:13,900\nall sorts of different\ndevices that are out there.\n\n612\n00:31:13,900 --> 00:31:16,310\nSo people have different needs for\nthe video.\n\n613\n00:31:16,310 --> 00:31:20,620\nThere is no one video format that works\non everything believe me, we know.\n\n614\n00:31:20,620 --> 00:31:24,200\nITPro TV has been through a lot of\nvideo growing pains over the years.\n\n615\n00:31:24,200 --> 00:31:26,280\nSo there is no one solution so\nwhat do you do.\n\n616\n00:31:26,280 --> 00:31:28,650\nWell, Elastic Transcoder\ntakes care of that.\n\n617\n00:31:28,650 --> 00:31:31,490\nYou can send up a video in one format and\n\n618\n00:31:31,490 --> 00:31:35,020\nit will reincode it using\nAmazon's processors.\n\n619\n00:31:35,020 --> 00:31:38,340\nThey've got millions of processors\navailable so they will,\n\n620\n00:31:38,340 --> 00:31:40,415\nwell may be not millions,\ndefinitely hundreds of thousands though.\n\n621\n00:31:40,415 --> 00:31:42,780\n[LAUGH] It will process and\n\n622\n00:31:42,780 --> 00:31:45,370\ntransfer that video way faster\nthan you could on your end.\n\n623\n00:31:45,370 --> 00:31:46,860\nYou're not tying up your machine.\n\n624\n00:31:46,860 --> 00:31:50,950\nYou send up a video in one format and then\nthey produce as many different formats as\n\n625\n00:31:50,950 --> 00:31:53,630\nyou need to meet the needs\nof your customers.\n\n626\n00:31:53,630 --> 00:31:59,040\nAgain, less infrastructure on\nyour end using theirs on demand.\n\n627\n00:31:59,040 --> 00:32:03,960\nI think that's a pretty good overview\nright there of what Amazon web services\n\n628\n00:32:03,960 --> 00:32:06,600\nis and what some of the things\nare that it provides,\n\n629\n00:32:06,600 --> 00:32:08,780\nthe different ways that we can use them.\n\n630\n00:32:08,780 --> 00:32:10,730\nSo throughout the whole\nrest of this series,\n\n631\n00:32:10,730 --> 00:32:13,560\nwhat we're gonna be doing is\ntaking each of those components.\n\n632\n00:32:13,560 --> 00:32:18,140\nAnd I'll show you how they work, how you\ncan use them, how we can create servers or\n\n633\n00:32:18,140 --> 00:32:22,480\nput files up there, how we can work with\nthose different technologies to make them,\n\n634\n00:32:22,480 --> 00:32:23,970\nwell, to make them work for us.\n\n635\n00:32:23,970 --> 00:32:25,760\nAnd hopefully to save you money.\n\n636\n00:32:25,760 --> 00:32:28,740\nWhile giving you a better\ninfrastructure in the process, right?\n\n637\n00:32:28,740 --> 00:32:30,230\nThat's really what this is all about.\n\n638\n00:32:31,830 --> 00:32:34,510\nAll right, well that's a pretty\ngood spot for us to stop.\n\n639\n00:32:34,510 --> 00:32:38,350\nStay tuned because we've got more\nAmazon web services coming up next.\n\n",
          "vimeoId": "108894717"
        },
        {
          "description": "",
          "length": "3571",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/002-Understanding-AWS-Pricing.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/002-Understanding-AWS-Pricing-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/002-Understanding-AWS-Pricing-sm.jpg",
          "title": "Understanding AWS Pricing",
          "transcript": "1\n00:00:00,000 --> 00:00:08,421\n[SOUND].\n\n2\n00:00:08,421 --> 00:00:11,897\nIn this segment we're gonna take a look\nat the pricing structure built around\n\n3\n00:00:11,897 --> 00:00:13,600\nAmazon Web Services.\n\n4\n00:00:13,600 --> 00:00:14,860\nBefore you get started with AWS,\n\n5\n00:00:14,860 --> 00:00:18,560\nyou're probably asking yourself [LAUGH]\nhow much is this going to cost?\n\n6\n00:00:18,560 --> 00:00:20,630\nAnd it's a fair question.\n\n7\n00:00:20,630 --> 00:00:23,450\nAWS pricing Is a little bit confusing.\n\n8\n00:00:23,450 --> 00:00:27,320\nConfusing enough that I went ahead and\nmade a segment to address it.\n\n9\n00:00:27,320 --> 00:00:30,750\nHaving an understanding of how\nmuch AWS is gonna cost is really\n\n10\n00:00:30,750 --> 00:00:34,590\ndifficult because it's\nbuilt upon what you use.\n\n11\n00:00:34,590 --> 00:00:38,960\nOne of the nice features of AWS\nis that you pay for what you use,\n\n12\n00:00:38,960 --> 00:00:43,690\nnot what you thought you might use or\nwhatever, but what you actually use.\n\n13\n00:00:43,690 --> 00:00:47,210\nSo if you use the service a lot,\nyeah, you'll get a big bill.\n\n14\n00:00:47,210 --> 00:00:51,480\nBut if you don't use the service at all,\nthen your bill will be very small, or\n\n15\n00:00:51,480 --> 00:00:53,040\nmaybe even zero.\n\n16\n00:00:53,040 --> 00:00:58,010\nAmazon does have some free usage tiers,\nwhich are designed for people like you,\n\n17\n00:00:58,010 --> 00:00:59,530\nthat are learning AWS.\n\n18\n00:00:59,530 --> 00:01:00,970\nYou can sign up for free.\n\n19\n00:01:00,970 --> 00:01:03,710\nYou can run a few servers,\nput some storage up there, and\n\n20\n00:01:03,710 --> 00:01:05,780\nthey won't charge you a dime.\n\n21\n00:01:05,780 --> 00:01:07,920\nAnd they usually give you\na year of that access,\n\n22\n00:01:07,920 --> 00:01:12,660\nso plenty of time to learn and practice\nand experiment with the technology.\n\n23\n00:01:12,660 --> 00:01:15,050\nBut if you're gonna be using this\nin a production environment,\n\n24\n00:01:15,050 --> 00:01:17,730\nyou'll exceed those free\nusage tiers pretty quickly.\n\n25\n00:01:17,730 --> 00:01:21,190\nAnd you need to have an understanding\nof what your costs are gonna be so\n\n26\n00:01:21,190 --> 00:01:22,860\nyou can plan your budget.\n\n27\n00:01:22,860 --> 00:01:25,203\nYou don't want to go into AWS blind and\njust say,\n\n28\n00:01:25,203 --> 00:01:27,930\nI'm gonna deploy a bunch of stuff, and\nthen all the sudden you start getting\n\n29\n00:01:27,930 --> 00:01:31,530\nbills that are well beyond\nwhat you expected them to be.\n\n30\n00:01:31,530 --> 00:01:34,810\nSo I just want to take a look at some of\nthe different ways that we incur cost.\n\n31\n00:01:34,810 --> 00:01:39,540\nNow, there are a lot of different\nservices inside of AWS.\n\n32\n00:01:39,540 --> 00:01:42,180\nAnd each one has their own pricing and\n\n33\n00:01:42,180 --> 00:01:44,410\nbilling structure that's\na little bit different.\n\n34\n00:01:44,410 --> 00:01:48,960\nSo I'm gonna look at some of the primary\nones and then we'll kind of go from there.\n\n35\n00:01:48,960 --> 00:01:52,140\nBut just understand that if you're using\nsome of the specialized services that\n\n36\n00:01:52,140 --> 00:01:54,360\nthere's additional costs there.\n\n37\n00:01:54,360 --> 00:01:57,220\nAll right, let's start with storage.\n\n38\n00:01:57,220 --> 00:02:01,820\nStorage is one of the unavoidable things\ninside of any kind of hosted web service.\n\n39\n00:02:01,820 --> 00:02:04,800\nSo it really doesn't matter\nwhich pieces of AWS you use,\n\n40\n00:02:04,800 --> 00:02:08,690\nthey almost all require\nstorage of some sort.\n\n41\n00:02:08,690 --> 00:02:10,610\nAnd the number one place\nto store your storage,\n\n42\n00:02:10,610 --> 00:02:12,920\nwhich is a pretty dumb sentence\nnow that I think about it.\n\n43\n00:02:12,920 --> 00:02:16,775\nBut anyhow [LAUGH] the number one place\nto put your stuff is Amazon S3, right,\n\n44\n00:02:16,775 --> 00:02:18,600\nthe Simple Storage Service.\n\n45\n00:02:18,600 --> 00:02:23,060\nSo if I want to put my data inside of S3,\nhow much is it gonna cost me?\n\n46\n00:02:23,060 --> 00:02:26,170\nWell, the way S3 is\nbuilt is based on usage.\n\n47\n00:02:26,170 --> 00:02:29,570\nThe more data you put in S3,\nthe more you have to pay.\n\n48\n00:02:29,570 --> 00:02:32,450\nAnd the structure breaks\ndown pretty easily.\n\n49\n00:02:32,450 --> 00:02:37,450\nSo I'm just on aws.amazon.com/s3/pricing.\n\n50\n00:02:37,450 --> 00:02:42,540\nAnd be aware of this,\nAmazon changes their pricing frequently.\n\n51\n00:02:42,540 --> 00:02:46,990\nUsually about every six months they change\ntheir pricing, and it's almost always for\n\n52\n00:02:46,990 --> 00:02:48,190\nthe better.\n\n53\n00:02:48,190 --> 00:02:50,130\nAs their services get used more,\n\n54\n00:02:50,130 --> 00:02:53,175\nas the cost of equipment it goes down,\nthey lower their prices.\n\n55\n00:02:53,175 --> 00:02:54,935\nThey pass the savings on to you.\n\n56\n00:02:54,935 --> 00:02:59,295\nSo, the pricing that I show you in this\nsegment today may not be accurate for\n\n57\n00:02:59,295 --> 00:02:59,855\nyou right now.\n\n58\n00:02:59,855 --> 00:03:02,935\nSo please do not rely on this video for\n\n59\n00:03:02,935 --> 00:03:05,515\nany kind of budget forecasting or\nwhatever.\n\n60\n00:03:05,515 --> 00:03:07,461\nJust understand that,\nas of today, what is today?\n\n61\n00:03:07,461 --> 00:03:10,975\nOctober 13th, 2014, this is\nthe pricing that's on their website.\n\n62\n00:03:12,952 --> 00:03:15,480\nAll right, so here's the S3 pricing and\n\n63\n00:03:15,480 --> 00:03:21,280\nyou'll see where they're gauging this\nstorage based on how much you've got.\n\n64\n00:03:21,280 --> 00:03:26,093\nFor the first TB, so\nif you have up to 1 TB of data,\n\n65\n00:03:26,093 --> 00:03:31,152\nyou're gonna be paying\nroughly $0.03 per GB.\n\n66\n00:03:32,495 --> 00:03:35,460\n$0.03 per GB per month.\n\n67\n00:03:35,460 --> 00:03:41,160\nSo if I upload 1 gig of data into Amazon\nS3, so we'll use ITProTV as an example.\n\n68\n00:03:41,160 --> 00:03:45,810\nSo one of our episodes,\nif we load one episode up into Amazon S3,\n\n69\n00:03:45,810 --> 00:03:50,370\nit will cost us $0.03 per month.\n\n70\n00:03:50,370 --> 00:03:51,880\nIt's 1 gig.\n\n71\n00:03:51,880 --> 00:03:53,810\nWell, we have almost 500 episodes.\n\n72\n00:03:53,810 --> 00:03:54,868\nWell, let's just say we have 500 episodes.\n\n73\n00:03:54,868 --> 00:03:59,360\nSo at $0.03 per episode,\n\n74\n00:03:59,360 --> 00:04:02,640\nwith 500 episodes,\nwhat does that work out to?\n\n75\n00:04:02,640 --> 00:04:05,711\nSomething like a buck 50, isn't it?\n\n76\n00:04:05,711 --> 00:04:08,380\nIt's [LAUGH] oh no,\nI guess it'd be, well here,\n\n77\n00:04:08,380 --> 00:04:11,130\nwe'll not rely on my horrible math skills.\n\n78\n00:04:11,130 --> 00:04:14,130\nWe'll just go in here and say,\nall right, I've got 500 episodes, and\n\n79\n00:04:14,130 --> 00:04:17,914\nI'm gonna multiply that by 0.03,\nso it's $15.\n\n80\n00:04:17,914 --> 00:04:21,440\nSo for us to store 500 episodes there,\nit's $15 a month.\n\n81\n00:04:21,440 --> 00:04:23,540\nIt's a drop in the bucket, right?\n\n82\n00:04:23,540 --> 00:04:27,107\nThat's not much, $15 a month,\nyou multiply that out by a year,\n\n83\n00:04:27,107 --> 00:04:30,378\nit's $180 a year to store all\nour episodes on Amazon S3.\n\n84\n00:04:30,378 --> 00:04:31,480\nThis is cheap, right?\n\n85\n00:04:31,480 --> 00:04:35,630\nA hard drive,\none hard drive is gonna cost me that much\n\n86\n00:04:35,630 --> 00:04:40,480\nversus a multi data center cloud\nbacked data storage location.\n\n87\n00:04:40,480 --> 00:04:41,628\nIt's a no brainer.\n\n88\n00:04:41,628 --> 00:04:43,390\nWe wanna use it, right?\n\n89\n00:04:43,390 --> 00:04:46,410\nIt almost sounds like the pricing's\ntoo good to be true, doesn't it?\n\n90\n00:04:46,410 --> 00:04:49,490\nWell, it sort of is, right?\n\n91\n00:04:49,490 --> 00:04:51,640\nThis is just the storage cost.\n\n92\n00:04:51,640 --> 00:04:58,100\nWhen you put data in Amazon S3, just to\nhold the data, this is what it costs.\n\n93\n00:04:58,100 --> 00:05:01,850\nBut on top of that,\nyou have bandwidth costs.\n\n94\n00:05:01,850 --> 00:05:05,340\nEvery time one of our viewers downloads\nthe video, we have to pay for\n\n95\n00:05:05,340 --> 00:05:07,020\nthat bandwidth too.\n\n96\n00:05:07,020 --> 00:05:08,670\nSo don't lose sight of that.\n\n97\n00:05:08,670 --> 00:05:12,290\nWhile just looking at this screen,\nthe storage cost looks really,\n\n98\n00:05:12,290 --> 00:05:13,980\nreally inexpensive.\n\n99\n00:05:13,980 --> 00:05:17,100\nYou have to tack on other things\nlike bandwidth costs too.\n\n100\n00:05:17,100 --> 00:05:18,630\nAlways keep that in mind.\n\n101\n00:05:18,630 --> 00:05:20,700\nNow, that is just for the first terabyte.\n\n102\n00:05:20,700 --> 00:05:23,060\nWhat if I have 2TB of data in there?\n\n103\n00:05:23,060 --> 00:05:24,990\nIf you have 2TB, the price drops.\n\n104\n00:05:24,990 --> 00:05:28,670\nAnd it goes to $0.0295 per gig.\n\n105\n00:05:28,670 --> 00:05:33,780\nSo it drops by half of a penny or\nsomething.\n\n106\n00:05:33,780 --> 00:05:35,380\nBut you'll see that price\ndrop gets bigger and\n\n107\n00:05:35,380 --> 00:05:37,280\nbigger the more data\nthat you store with them.\n\n108\n00:05:37,280 --> 00:05:40,990\nSo as you store more and more,\nyou get price breaks based on that.\n\n109\n00:05:40,990 --> 00:05:41,510\nAll right.\n\n110\n00:05:41,510 --> 00:05:44,730\nAnd believe me, this price is already\nlower than it was a year ago.\n\n111\n00:05:44,730 --> 00:05:47,620\nThey just keep dropping the price\nas storage technologies improve.\n\n112\n00:05:48,820 --> 00:05:51,810\nAll right now, that's the storage side.\n\n113\n00:05:51,810 --> 00:05:54,620\nThe other thing to keep in mind\nis that what I'm looking at here\n\n114\n00:05:54,620 --> 00:05:56,790\nis Region US Standard.\n\n115\n00:05:56,790 --> 00:06:01,170\nThe pricing varies based on\nthe region you're storing it in.\n\n116\n00:06:01,170 --> 00:06:05,050\nSome regions, Internet access and\nother things cost more,\n\n117\n00:06:05,050 --> 00:06:08,830\nit's more difficult to maintain,\nand so the price is more.\n\n118\n00:06:08,830 --> 00:06:12,270\nSo this is US Standard,\nif I drop that down, I can choose for\n\n119\n00:06:12,270 --> 00:06:14,370\nexample, North California.\n\n120\n00:06:14,370 --> 00:06:17,895\nWhen we say US Standard, that's talking\nabout the North Virginia data center,\n\n121\n00:06:17,895 --> 00:06:19,590\ntheir primary data center.\n\n122\n00:06:19,590 --> 00:06:21,840\nBut if I want to store it in Oregon,\nfor example,\n\n123\n00:06:21,840 --> 00:06:24,930\nI can choose that, and\npricing didn't change.\n\n124\n00:06:24,930 --> 00:06:26,850\nPricing is the same in Oregon.\n\n125\n00:06:26,850 --> 00:06:28,510\nOr if i go to Northern California,\n\n126\n00:06:28,510 --> 00:06:32,820\nthere we go, notice the pricing in\nNorthern California's a little bit higher.\n\n127\n00:06:32,820 --> 00:06:37,650\nWhen I was in US Standard, it was\nonly $0.03 per gig for the first TB.\n\n128\n00:06:37,650 --> 00:06:40,310\nBut when I chose to put it\nin Northern California,\n\n129\n00:06:40,310 --> 00:06:45,240\nit's now, what are we $0.033 per gig.\n\n130\n00:06:45,240 --> 00:06:47,920\nSo not much more, but\nit is a little bit more.\n\n131\n00:06:47,920 --> 00:06:50,580\nWhere you see the big difference is\nwhen you start jumping to somewhere like\n\n132\n00:06:50,580 --> 00:06:51,760\nSingapore.\n\n133\n00:06:51,760 --> 00:06:53,610\nWell, actually Singapore's back to $0.03,\nso\n\n134\n00:06:53,610 --> 00:06:55,970\nusually you see some of those go higher.\n\n135\n00:06:55,970 --> 00:06:58,570\nYeah, so that's not terribly high.\n\n136\n00:06:58,570 --> 00:07:00,090\nThere we go.\nIf we go down to Sao Paulo,\n\n137\n00:07:00,090 --> 00:07:03,900\ndown to South America,\nwe have $0.04 per GB.\n\n138\n00:07:03,900 --> 00:07:05,750\nSo the pricing may vary based on region.\n\n139\n00:07:05,750 --> 00:07:07,400\nAlways keep that in mind too.\n\n140\n00:07:07,400 --> 00:07:10,230\nThese are all little things\nthat can affect the total\n\n141\n00:07:10,230 --> 00:07:12,930\nbill at the end of the month.\n\n142\n00:07:12,930 --> 00:07:15,980\nAlso notice that there's\nthree tiers of storage.\n\n143\n00:07:15,980 --> 00:07:19,645\nFor most of us, we're gonna use this\nguy right here, Standard Storage.\n\n144\n00:07:19,645 --> 00:07:21,860\nAmazon's Standard Storage is redundant.\n\n145\n00:07:21,860 --> 00:07:25,220\nIf a hard drive fails, you don't\nnotice it, because it gets stored\n\n146\n00:07:25,220 --> 00:07:29,840\non RAID arrays and redundant SANs where\nif one fails, another takes over.\n\n147\n00:07:29,840 --> 00:07:33,510\nYou have no idea that a hardware\nfailure even occurred.\n\n148\n00:07:33,510 --> 00:07:36,440\nStandard Storage is impervious\nto hardware failures.\n\n149\n00:07:36,440 --> 00:07:38,330\nNow, it's not zone redundant.\n\n150\n00:07:38,330 --> 00:07:43,050\nSo if one data center zone fails,\nand your storage was in that zone,\n\n151\n00:07:43,050 --> 00:07:45,020\nwell, it's now offline.\n\n152\n00:07:45,020 --> 00:07:47,229\nSo if you want to store\nit in more than one area,\n\n153\n00:07:47,229 --> 00:07:50,913\nif you want to store it in Northern\nVirginia and Northern California, well,\n\n154\n00:07:50,913 --> 00:07:52,911\nyou're gonna have to pay twice for that.\n\n155\n00:07:52,911 --> 00:07:54,931\nIt's stored in two different data centers.\n\n156\n00:07:54,931 --> 00:07:58,835\nSo to get true full data center\nredundancy, it's gonna cost more but for\n\n157\n00:07:58,835 --> 00:08:01,851\nhardware redundancy,\nstandard storage includes it.\n\n158\n00:08:01,851 --> 00:08:04,410\nSo this is the number that\nmost of us are going to use.\n\n159\n00:08:04,410 --> 00:08:07,350\nIf you have data that is\nnot mission critical,\n\n160\n00:08:07,350 --> 00:08:10,080\nwhere if it went offline it\nwasn't that big of a deal,\n\n161\n00:08:10,080 --> 00:08:13,875\nyou could choose to go with\nreduced redundancy storage.\n\n162\n00:08:13,875 --> 00:08:17,300\nReduced redundancy storage says,\na hardware failure might happen.\n\n163\n00:08:17,300 --> 00:08:20,130\nAnd if it does your data will go offline,\nyou'll lose your data.\n\n164\n00:08:20,130 --> 00:08:20,710\nAll right.\nBut\n\n165\n00:08:20,710 --> 00:08:22,350\nif it was non-critical,\nif you were just going to use it for\n\n166\n00:08:22,350 --> 00:08:24,880\na short period of time or\nwhatever, that may work out.\n\n167\n00:08:24,880 --> 00:08:27,250\nAnd you'll see where you\ncan save some money.\n\n168\n00:08:27,250 --> 00:08:29,380\nHere you're saving about $0.06.\n\n169\n00:08:29,380 --> 00:08:31,940\nActually not even $0.06 right.\n\n170\n00:08:31,940 --> 00:08:34,160\nIt's .6 cents per gigabyte of data.\n\n171\n00:08:34,160 --> 00:08:37,670\nSo you can shave a little bit off\nthe cost by giving up redundancy.\n\n172\n00:08:39,090 --> 00:08:41,800\nIf it's really not mission critical.\n\n173\n00:08:41,800 --> 00:08:45,120\nIf this is just archive data that\nyou want to keep on record but\n\n174\n00:08:45,120 --> 00:08:49,880\nyou're not gonna access very often,\nyou can use glacier storage.\n\n175\n00:08:49,880 --> 00:08:53,460\nGlacier storage is not designed for\nproduction data.\n\n176\n00:08:53,460 --> 00:08:56,760\nIt's designed for\narchive, historical data.\n\n177\n00:08:56,760 --> 00:08:59,790\nSo if you've got all your old records and\nyou need to keep them,\n\n178\n00:08:59,790 --> 00:09:01,250\ncuz you might access them sooner or\nlater, but for\n\n179\n00:09:01,250 --> 00:09:04,740\nthe most part it's just a backup,\nyou can use glacier storage.\n\n180\n00:09:04,740 --> 00:09:07,570\nIt's called glacier\nstorage because it's slow.\n\n181\n00:09:07,570 --> 00:09:12,290\nIt's not the high end fast scuzzy\ndrives that you normally use.\n\n182\n00:09:12,290 --> 00:09:16,070\nThese are going to be lower\ngrade 4500 RPM drives.\n\n183\n00:09:16,070 --> 00:09:18,390\nThings that are not of the same speed.\n\n184\n00:09:18,390 --> 00:09:20,550\nYou'll see there's\nsignificantly less expensive.\n\n185\n00:09:21,640 --> 00:09:23,490\n$0.01 per gigabyte.\n\n186\n00:09:23,490 --> 00:09:26,780\nSo if you have a large volume of data\nthat's going to be infrequently accessed,\n\n187\n00:09:26,780 --> 00:09:29,600\nglacier storage is one place\nyou might choose to put it.\n\n188\n00:09:29,600 --> 00:09:32,320\nBut, like I said, standard storage,\nthat's what most of us are gonna use.\n\n189\n00:09:32,320 --> 00:09:35,620\nAlso notice that glacier storage\nis not available in all regions.\n\n190\n00:09:35,620 --> 00:09:40,650\nLike if I go back to Sao Paulo, glacier\nstorage is not available yet, right.\n\n191\n00:09:40,650 --> 00:09:41,220\nI say yet.\n\n192\n00:09:41,220 --> 00:09:44,290\nIt may come in a later update.\n\n193\n00:09:44,290 --> 00:09:46,730\nAmazon's always adding\nto their data centers.\n\n194\n00:09:46,730 --> 00:09:47,690\nSo you may see that reappear.\n\n195\n00:09:49,280 --> 00:09:53,130\nAll right, so that's the storage pricing.\n\n196\n00:09:53,130 --> 00:09:57,460\nJust having the data sit there, month\nafter month that's what it's gonna cost.\n\n197\n00:09:57,460 --> 00:09:59,710\nAnd it's practically negligible,\n\n198\n00:09:59,710 --> 00:10:02,990\nit's really a small amount\nto have that data stored.\n\n199\n00:10:02,990 --> 00:10:06,640\nWhere you really end up paying\nare all the transfers, right.\n\n200\n00:10:06,640 --> 00:10:10,990\nWhen users go to access this data,\nwhen they go to retrieve information,\n\n201\n00:10:10,990 --> 00:10:13,350\nthey have to download it and\nthat requires bandwidth.\n\n202\n00:10:13,350 --> 00:10:16,522\nAnd if you have a thousand users\ndownloading a one gig file,\n\n203\n00:10:16,522 --> 00:10:19,830\nwell that's a terabyte of data\nthat was just transferred.\n\n204\n00:10:19,830 --> 00:10:22,900\nSo that one gig file, sure it did\nnot cost you much being stored,\n\n205\n00:10:22,900 --> 00:10:24,840\nit cost you only $0.03 per\nmonth to store it there.\n\n206\n00:10:26,110 --> 00:10:30,990\nBut to transfer it a thousand times,\nthat'll cost.\n\n207\n00:10:30,990 --> 00:10:34,890\nAnd so whenever you look at something like\nthis and you see storage pricing you need\n\n208\n00:10:34,890 --> 00:10:39,550\nto continue to scroll down the page until\nyou can find data transfer pricing.\n\n209\n00:10:39,550 --> 00:10:43,120\nAnd you'll see this transfer\npricing on EC2 instances,\n\n210\n00:10:43,120 --> 00:10:45,710\nyou'll see it on pretty\nmuch all of the services.\n\n211\n00:10:45,710 --> 00:10:49,520\nBandwidth is, really, one of the common\nelements of these services that you're\n\n212\n00:10:49,520 --> 00:10:51,290\ngoing to have to pay for.\n\n213\n00:10:51,290 --> 00:10:52,710\nAnd when we go down to transfer,\n\n214\n00:10:52,710 --> 00:10:57,540\nthe transferring is, kind of,\nweird because you've got an in and an out.\n\n215\n00:10:57,540 --> 00:10:58,640\nOkay.\n\n216\n00:10:58,640 --> 00:11:00,160\nIn, those are uploads.\n\n217\n00:11:00,160 --> 00:11:05,180\nWhen I upload the data into S3,\nit's going to cost something.\n\n218\n00:11:05,180 --> 00:11:05,760\nRight?\n\n219\n00:11:05,760 --> 00:11:10,090\nWell, doing US Standard, notice my\nall data transfer in, zero dollars.\n\n220\n00:11:10,090 --> 00:11:11,190\nRight?\nIt's free.\n\n221\n00:11:11,190 --> 00:11:14,320\nI can upload into S3 all day long and\nthey're not going to charge me a dime.\n\n222\n00:11:14,320 --> 00:11:16,640\nNow, I'm pretty sure it's the same\nacross all the data centers, but,\n\n223\n00:11:16,640 --> 00:11:18,470\nlet's just double check here, real quick.\n\n224\n00:11:18,470 --> 00:11:20,250\nI'm pretty sure they don't charge anymore.\n\n225\n00:11:20,250 --> 00:11:22,740\nThere was a time where they charged for\nthe uploads, but\n\n226\n00:11:22,740 --> 00:11:27,460\nnow it looks like all of their\ndata transfer ins are zeroed out.\n\n227\n00:11:27,460 --> 00:11:28,992\nYeah, I haven't seen anything on them yet.\n\n228\n00:11:28,992 --> 00:11:32,210\nAll right, so uploads, no big deal.\n\n229\n00:11:32,210 --> 00:11:35,900\nAnd that's because they know they'll make\nmoney on the backend, the downloads.\n\n230\n00:11:35,900 --> 00:11:40,730\nAnd then when you get down to downloads,\nyou can see various transfers.\n\n231\n00:11:40,730 --> 00:11:46,650\nYou've got out from\nAmazon S3 to Amazon S3.\n\n232\n00:11:46,650 --> 00:11:50,060\nWell why would I do\na transfer within Amazon?\n\n233\n00:11:50,060 --> 00:11:50,650\nRight.\n\n234\n00:11:50,650 --> 00:11:53,010\nWell, if I want redundancy.\n\n235\n00:11:53,010 --> 00:11:58,720\nIf want to have files stored in the North\nAmerican East and the North American West,\n\n236\n00:11:58,720 --> 00:12:02,540\nI can upload to one and then do a direct\ntransfer between the data centers.\n\n237\n00:12:02,540 --> 00:12:05,710\nIn doing data center to data\ncenter transfers, well,\n\n238\n00:12:05,710 --> 00:12:08,600\nAmazon controls that bandwidth and\nso they cut you a break.\n\n239\n00:12:08,600 --> 00:12:12,970\nIt's much less expensive than doing\ntwo direct uploads to the centers.\n\n240\n00:12:12,970 --> 00:12:16,850\nSo you'll see Amazon EC2 in\nthe north Virginia region.\n\n241\n00:12:16,850 --> 00:12:20,710\nJust transferring data between\nany of these zones there,\n\n242\n00:12:20,710 --> 00:12:25,330\nany of the five little data centers inside\nof Virginia, they don't charge you for it.\n\n243\n00:12:25,330 --> 00:12:27,180\nYou can transfer between\nthose five centers.\n\n244\n00:12:27,180 --> 00:12:28,710\nIt doesn't cost you a dime.\n\n245\n00:12:28,710 --> 00:12:33,740\nBut if you go to any other region,\nit's $0.02 per gigabyte transferred,\n\n246\n00:12:33,740 --> 00:12:35,670\nokay, so not too terrible.\n\n247\n00:12:35,670 --> 00:12:38,380\nBut then data transferred\nout to the internet,\n\n248\n00:12:38,380 --> 00:12:40,930\nthis is what you're customers\nare going to be consuming.\n\n249\n00:12:40,930 --> 00:12:44,230\nYour customers,\nwhen they download your files, for\n\n250\n00:12:44,230 --> 00:12:47,500\nthe first gig, it's nothing, right.\n\n251\n00:12:47,500 --> 00:12:51,910\nSo you can download up to a gig out\nof S3 and it doesn't cost you a dime.\n\n252\n00:12:51,910 --> 00:12:55,240\nThat's that free usage tier I\nwas talking about, where you can\n\n253\n00:12:55,240 --> 00:12:59,350\nhave services in place that don't cost you\nanything, perfect for learning, right.\n\n254\n00:12:59,350 --> 00:13:03,610\nBut after that, for\nthe next ten terabytes, all right, so for\n\n255\n00:13:03,610 --> 00:13:08,390\nthe next ten terabytes,\nyou're going to pay $0.12 per gigabyte.\n\n256\n00:13:08,390 --> 00:13:13,560\nSo if I have a thousand customers\ndownloading a gigabyte file\n\n257\n00:13:13,560 --> 00:13:15,140\nthat's a terabyte of data.\n\n258\n00:13:15,140 --> 00:13:18,580\nAnd for that terabyte I'm\ngonna be paying $0.12 per gig.\n\n259\n00:13:18,580 --> 00:13:22,930\nAnd if I fire up my trusty calculator\nagain, if it's a thousand people\n\n260\n00:13:22,930 --> 00:13:27,810\ndownloading a one gig file that's\none thousand gigs or one terabyte.\n\n261\n00:13:27,810 --> 00:13:33,130\nI'll multiply that by the $0.12 and\nI can see my cost there is $120.\n\n262\n00:13:33,130 --> 00:13:34,360\nJust for those downloads.\n\n263\n00:13:34,360 --> 00:13:38,140\nNow if those downloads all\nhappened in one day, it's $120,\n\n264\n00:13:38,140 --> 00:13:41,320\nif that happened across 30 days,\nit's $120.\n\n265\n00:13:41,320 --> 00:13:45,160\nSo it's billed monthly, it doesn't\nreally matter what the distribution is.\n\n266\n00:13:45,160 --> 00:13:50,050\nAmazon servers can handle all of those\ndownloads happening at the exact same time\n\n267\n00:13:50,050 --> 00:13:51,380\nor spread out through the month.\n\n268\n00:13:51,380 --> 00:13:53,380\nThey've got the resources to handle that.\n\n269\n00:13:53,380 --> 00:13:55,110\nYou just pay one fee, right.\n\n270\n00:13:55,110 --> 00:13:57,510\nBut you can see where this\nis a lot more expensive.\n\n271\n00:13:57,510 --> 00:14:01,520\nIt only cost me $15 a month\nto store those videos, but\n\n272\n00:14:01,520 --> 00:14:06,190\nit might cost me $120 a month to allow\nthe downloads to happen, all right.\n\n273\n00:14:06,190 --> 00:14:10,230\nSo that can add up really fast cuz if you\nput data in S3 the odds are that you want\n\n274\n00:14:10,230 --> 00:14:13,010\npeople to be able to get to it,\nthat's why you uploaded it, right?\n\n275\n00:14:13,010 --> 00:14:15,420\nAnd so you'll have to pay for\nthat transfer.\n\n276\n00:14:15,420 --> 00:14:17,560\nAnd you'll see the price\ndrops as you do more.\n\n277\n00:14:17,560 --> 00:14:20,320\nSo if you break 40 terabytes\nit drops down to $0.09 and\n\n278\n00:14:20,320 --> 00:14:22,350\nthen it continues to get lower.\n\n279\n00:14:22,350 --> 00:14:25,150\nSo the more data that you transfer\nthe better price rate you get.\n\n280\n00:14:26,600 --> 00:14:27,180\nAll right.\n\n281\n00:14:27,180 --> 00:14:29,170\nSo always be aware of that.\n\n282\n00:14:29,170 --> 00:14:33,490\nWhen it comes to storage there's\nthe price of holding the data in S3,\n\n283\n00:14:33,490 --> 00:14:35,540\njust your storage price.\n\n284\n00:14:35,540 --> 00:14:38,490\nAnd then there's the transfer price,\ngetting the data out of S3 and\n\n285\n00:14:38,490 --> 00:14:39,500\nto your customers.\n\n286\n00:14:42,040 --> 00:14:45,700\nAll right,\nthat's the storage side of pricing.\n\n287\n00:14:45,700 --> 00:14:47,820\nNow, let's take a look at\nsome of the other things.\n\n288\n00:14:47,820 --> 00:14:49,250\nIn addition to storage, well,\n\n289\n00:14:49,250 --> 00:14:53,470\nwe've seen bandwidth, and here the\nbandwidth is in terms of the downloads.\n\n290\n00:14:53,470 --> 00:14:56,810\nWhen we look at our servers,\nwe'll have bandwidth there too.\n\n291\n00:14:56,810 --> 00:14:59,220\nAnd the bandwidth on a server can be\na little bit different because sure,\n\n292\n00:14:59,220 --> 00:15:02,460\nit's one part storage, you might be\ntransferring files from the servers.\n\n293\n00:15:02,460 --> 00:15:04,130\nBut for\nthe most part when you access a server,\n\n294\n00:15:04,130 --> 00:15:06,140\nit's things like web page access, right?\n\n295\n00:15:06,140 --> 00:15:07,365\nYou're viewing a web page.\n\n296\n00:15:07,365 --> 00:15:10,725\nAnd so people are transferring much\nsmaller pieces of information, but\n\n297\n00:15:10,725 --> 00:15:13,685\nthe bandwidth costs\nare pretty much the same.\n\n298\n00:15:13,685 --> 00:15:16,355\nSo when we start to take a look at our\nserver pricing, it'll be about the same.\n\n299\n00:15:16,355 --> 00:15:18,045\nAll right.\n\n300\n00:15:18,045 --> 00:15:20,535\nSo let's take a look at\nthat server pricing.\n\n301\n00:15:20,535 --> 00:15:25,485\nThe servers are Amazon EC2, right,\nthe elastic computer cloud.\n\n302\n00:15:25,485 --> 00:15:27,105\nAnd that's where our servers run.\n\n303\n00:15:27,105 --> 00:15:30,100\nAnd if you look at\nthe transfer charges here\n\n304\n00:15:30,100 --> 00:15:33,440\ndata transfer in to Amazon EC2, right?\n\n305\n00:15:33,440 --> 00:15:37,230\nIf we're transferring it in,\nthe price is zero dollars, right?\n\n306\n00:15:37,230 --> 00:15:41,010\nSo they're not charging for that in,\njust like we saw with S3, all right?\n\n307\n00:15:41,010 --> 00:15:43,030\nBut if we go to the out.\n\n308\n00:15:43,030 --> 00:15:49,120\nWell, if we go out to other data centers,\nyou'll see that pricing is zero, right?\n\n309\n00:15:49,120 --> 00:15:50,900\nSo pretty much the same.\n\n310\n00:15:50,900 --> 00:15:55,281\nBut if you go to data transfer out to the\ninternet, here's where our costs come in.\n\n311\n00:15:55,281 --> 00:15:59,765\nThe first gig is free, and\nthen up to 10 terabytes is $0.12, and\n\n312\n00:15:59,765 --> 00:16:03,750\nif you look back here on S3 It's\npretty much the same pricing.\n\n313\n00:16:03,750 --> 00:16:05,841\n$0.12 down to nine down to seven.\n\n314\n00:16:05,841 --> 00:16:09,400\nAnd here,\n$0.12 down to nine down to seven.\n\n315\n00:16:09,400 --> 00:16:12,720\nSo the bandwidth on the servers is pretty\nmuch the same as the bandwidth on SP.\n\n316\n00:16:12,720 --> 00:16:13,900\nIt's the same bandwidth, right?\n\n317\n00:16:13,900 --> 00:16:15,760\nIt's just coming from\na different location.\n\n318\n00:16:15,760 --> 00:16:18,040\nSo that cost is about the same.\n\n319\n00:16:18,040 --> 00:16:20,510\nBut always be aware that it's there,\nright?\n\n320\n00:16:20,510 --> 00:16:25,000\nSo the ITProTV website, when you go to\nour website and you're viewing the pages,\n\n321\n00:16:25,000 --> 00:16:28,170\nthey're being rendered right out of AWS,\nright?\n\n322\n00:16:28,170 --> 00:16:32,240\nAnd you're pulling those, and we're paying\nfor the bandwidth of viewing that page.\n\n323\n00:16:32,240 --> 00:16:36,050\nAnd then when you view the video, well, we\nused a few different places for the video.\n\n324\n00:16:36,050 --> 00:16:38,240\nSo the video may or\nmay not come out of Amazon.\n\n325\n00:16:38,240 --> 00:16:41,000\nBut if you download the video,\nit's definitely coming from Amazon.\n\n326\n00:16:41,000 --> 00:16:43,030\nAnd so we pay bandwidth on that,\ntoo, right?\n\n327\n00:16:43,030 --> 00:16:46,488\nSo that's all part of just\ndoing business with AWS.\n\n328\n00:16:48,509 --> 00:16:50,400\nAll right, on the servers,\nwe have bandwidth.\n\n329\n00:16:50,400 --> 00:16:53,040\nAnd on the servers we\nhave storage too right?\n\n330\n00:16:53,040 --> 00:16:55,886\nBut the storage costs\nagain are in line with S3.\n\n331\n00:16:55,886 --> 00:17:00,330\nThe only difference is when you\npurchase a server inside of AWS\n\n332\n00:17:00,330 --> 00:17:03,000\nit usually comes with some free storage.\n\n333\n00:17:03,000 --> 00:17:06,020\nSo you normally get a few gigabytes\nof data which is plenty for\n\n334\n00:17:06,020 --> 00:17:10,080\nan operating system and webpage or\nwhatever as part of the server instance.\n\n335\n00:17:10,080 --> 00:17:12,900\nSo you do get a lot of free\nstorage with your servers.\n\n336\n00:17:12,900 --> 00:17:16,140\nBut after that any additional\nstorage you can assume\n\n337\n00:17:16,140 --> 00:17:17,780\nis charge of the same pricing as S3.\n\n338\n00:17:17,780 --> 00:17:20,320\nThe advantage of S3 is you\ncan put files there and\n\n339\n00:17:20,320 --> 00:17:22,130\nyou don't need a server behind it.\n\n340\n00:17:22,130 --> 00:17:24,510\nNow, why does that matter.\n\n341\n00:17:24,510 --> 00:17:29,100\nWell, when you reserve\na server inside of Amazon EC2\n\n342\n00:17:29,100 --> 00:17:32,530\nwhat you're really paying for\nare RAM and CPU.\n\n343\n00:17:33,990 --> 00:17:36,690\nRAM and\nCPU are the two consumables on a server\n\n344\n00:17:36,690 --> 00:17:39,530\nthat are hard to share between customers.\n\n345\n00:17:39,530 --> 00:17:43,490\nIf I need eight gigs of RAM,\nI can't take the RAM I'm not using and\n\n346\n00:17:43,490 --> 00:17:46,810\nshare that with other customers because\nI need that RAM on a moment's notice.\n\n347\n00:17:46,810 --> 00:17:49,780\nIt can't be provisioned out,\nI need that memory.\n\n348\n00:17:49,780 --> 00:17:52,180\nSo it's really, really hard to share RAM.\n\n349\n00:17:52,180 --> 00:17:53,940\nCPU is kind of the same thing.\n\n350\n00:17:53,940 --> 00:17:56,410\nWhen I need that extra CPU burst,\nI need it now.\n\n351\n00:17:56,410 --> 00:17:59,650\nI can't just wait for other people,\nit's going to make my sever slow.\n\n352\n00:17:59,650 --> 00:18:02,570\nSo, when you reserve a server,\nthat's what you're really reserving.\n\n353\n00:18:02,570 --> 00:18:04,720\nMemory, and CPU.\n\n354\n00:18:04,720 --> 00:18:06,190\nWell if you're just putting files up for\n\n355\n00:18:06,190 --> 00:18:08,960\npeople to download,\nyou'd hate to reserve memory and CPU for\n\n356\n00:18:08,960 --> 00:18:12,590\nsomething really simple like that, that's\nnot going to be using either very much.\n\n357\n00:18:12,590 --> 00:18:14,930\nSo S3 eliminates that need.\n\n358\n00:18:14,930 --> 00:18:17,010\nWith Amazon S3,\nyou don't have a server to manage.\n\n359\n00:18:17,010 --> 00:18:18,290\nYou have what's called a bucket.\n\n360\n00:18:18,290 --> 00:18:19,470\nIt's just a folder.\n\n361\n00:18:19,470 --> 00:18:21,960\nYou put your files there and\npeople can download them.\n\n362\n00:18:21,960 --> 00:18:23,680\nReally, really straightforward.\n\n363\n00:18:23,680 --> 00:18:26,620\nOn a server though,\nyou've got an operating system.\n\n364\n00:18:26,620 --> 00:18:28,050\nYou've got configurations.\n\n365\n00:18:28,050 --> 00:18:29,500\nYou've got whatever software you load.\n\n366\n00:18:29,500 --> 00:18:31,420\nIt's far more complex.\n\n367\n00:18:31,420 --> 00:18:34,810\nSo on the server side we have\na lot more involved, and\n\n368\n00:18:34,810 --> 00:18:36,260\nthe pricing is significantly different.\n\n369\n00:18:37,450 --> 00:18:42,220\nWhen it comes to a server,\nwhat we have to do, is we have to pick\n\n370\n00:18:42,220 --> 00:18:45,980\nthe processor and memory that\nwe're going to be dealing with.\n\n371\n00:18:45,980 --> 00:18:49,290\nSo when you build a new server\non EC2 you start off by\n\n372\n00:18:49,290 --> 00:18:51,480\npicking what's called an Instance Type.\n\n373\n00:18:52,750 --> 00:18:56,140\nThey have many different types\nof servers you can bring about.\n\n374\n00:18:56,140 --> 00:18:56,830\nI've lost count.\n\n375\n00:18:56,830 --> 00:19:00,550\nI think it's 15 different types\nof server that you can bring up.\n\n376\n00:19:00,550 --> 00:19:02,550\nAnd I'm not even talking\nabout operating system here.\n\n377\n00:19:02,550 --> 00:19:05,830\nSo it can be Windows, Linux, who knows\nwhat, I'm talking about hardware.\n\n378\n00:19:05,830 --> 00:19:09,160\nSo when you bring up a virtual\nmachine in Amazon EC2,\n\n379\n00:19:09,160 --> 00:19:13,730\nthere's at least 15 different types of\nconfigurations you can pick for it.\n\n380\n00:19:13,730 --> 00:19:16,970\nAnd they all rotate around performance.\n\n381\n00:19:16,970 --> 00:19:18,430\nHow much memory do they have?\n\n382\n00:19:18,430 --> 00:19:20,530\nHow much CPU do they have?\n\n383\n00:19:20,530 --> 00:19:23,640\nHow much disc IO are they\nauthorized to perform.\n\n384\n00:19:23,640 --> 00:19:25,670\nThese are the things that\nwe need to be aware of.\n\n385\n00:19:25,670 --> 00:19:27,640\nAlso, how busy are they going to be?\n\n386\n00:19:27,640 --> 00:19:29,550\nAre these servers that\nare busy all the time or\n\n387\n00:19:29,550 --> 00:19:31,260\nare they just busy during peak time?\n\n388\n00:19:31,260 --> 00:19:34,730\nThat all influences the price of\nthe server that we're about to\n\n389\n00:19:34,730 --> 00:19:36,005\npick, all right.\n\n390\n00:19:36,005 --> 00:19:38,935\nSo you start with an instance and\nmost of the time with instance your\n\n391\n00:19:38,935 --> 00:19:42,543\ndecision is built entirely\naround processor memory.\n\n392\n00:19:42,543 --> 00:19:45,685\nHow many CPUs do we need and\nhow much memory do we need.\n\n393\n00:19:45,685 --> 00:19:48,705\nSo if I look here at the medium instances.\n\n394\n00:19:48,705 --> 00:19:51,950\nSo I've got things like the M3s.\n\n395\n00:19:51,950 --> 00:19:54,740\nThe M3s are probably the most common\n\n396\n00:19:54,740 --> 00:19:57,320\ninstance that is brought\nup inside of Amazon.\n\n397\n00:19:57,320 --> 00:19:59,750\nAnd you'll see there's four\ndifferent tiers of the M3s.\n\n398\n00:19:59,750 --> 00:20:03,780\nWe've got M3 medium, large,\nextra large, and double extra large.\n\n399\n00:20:03,780 --> 00:20:05,580\nIt's like T-shirt sizes.\n\n400\n00:20:05,580 --> 00:20:10,530\nIf you just need a regular old server\nbrought up, you can bring up an M3 medium.\n\n401\n00:20:10,530 --> 00:20:11,720\nIt's got one VCPU.\n\n402\n00:20:11,720 --> 00:20:16,108\nSo it's got one virtual\nCPU that it's running.\n\n403\n00:20:16,108 --> 00:20:19,060\nIt's got 3.75 gigs of RAM, and\n\n404\n00:20:19,060 --> 00:20:24,060\nit's got 4 SSD storage drives\nattached to it in a RAID array.\n\n405\n00:20:24,060 --> 00:20:27,120\nSo it's got redundant SSD storage.\n\n406\n00:20:27,120 --> 00:20:29,650\nThat's the server that you\nbring up with an M3 medium.\n\n407\n00:20:29,650 --> 00:20:32,340\nThat is actually more than adequate for\na lot of people.\n\n408\n00:20:32,340 --> 00:20:34,150\nWhat a lot of people need, that's got it.\n\n409\n00:20:34,150 --> 00:20:35,630\nThat's enough for a good web server.\n\n410\n00:20:35,630 --> 00:20:36,600\nIt's got fast storage.\n\n411\n00:20:36,600 --> 00:20:40,160\nIt's only got one CPU so\nif you've got a PHP heavy application,\n\n412\n00:20:40,160 --> 00:20:41,300\nit might not be the greatest.\n\n413\n00:20:41,300 --> 00:20:44,460\nBut if it's a static website,\nthat server will churn along, non-stop,\n\n414\n00:20:44,460 --> 00:20:47,450\nall day long and service thousands,\ntens of thousands of customers.\n\n415\n00:20:49,060 --> 00:20:51,370\nBut what if you have a lot of PHP?\n\n416\n00:20:51,370 --> 00:20:54,010\nWell, there's a lot of work your\nserver is doing to render that.\n\n417\n00:20:54,010 --> 00:20:57,790\nSo you might need more CPU power or\nyou might need more RAM and\n\n418\n00:20:57,790 --> 00:21:02,785\nyou'll see you can step up to large which\ngets you two CPUs and 7.5 gigs of RAM or\n\n419\n00:21:02,785 --> 00:21:05,380\nextra-large, notice how\nthe resources are doubling?\n\n420\n00:21:05,380 --> 00:21:08,480\nWe get four CPUs, eight CPUs,\n15 of RAM, 30 gigs of RAM.\n\n421\n00:21:09,720 --> 00:21:12,460\nYou're picking based on\nthe resources you need.\n\n422\n00:21:12,460 --> 00:21:13,870\nNow here's the cool part.\n\n423\n00:21:13,870 --> 00:21:17,990\nLet's say you pick a medium, and,\nafter a month, you realize, man,\n\n424\n00:21:17,990 --> 00:21:19,870\nmy server's getting bogged down.\n\n425\n00:21:19,870 --> 00:21:21,480\nIt's not fast enough.\n\n426\n00:21:21,480 --> 00:21:24,920\nYou can go in, and with just a couple\nof clicks you can upgrade to a large.\n\n427\n00:21:24,920 --> 00:21:29,690\nAnd you step up to a large and off you go,\nyou've got your new performance.\n\n428\n00:21:29,690 --> 00:21:30,190\nDynamic.\n\n429\n00:21:31,330 --> 00:21:34,470\nIf the month goes by and you're like,\nman I am paying for more than I need,\n\n430\n00:21:34,470 --> 00:21:37,870\nthis server is idling out, you can\ndowngrade from a large down to a medium.\n\n431\n00:21:37,870 --> 00:21:41,700\nYou just do a couple of clicks and\nit's done and off you go.\n\n432\n00:21:41,700 --> 00:21:43,090\nYou're now at that lower rate.\n\n433\n00:21:43,090 --> 00:21:47,490\nSo you can move back and forth between\nthese tiers without much effort.\n\n434\n00:21:47,490 --> 00:21:48,590\nAll right.\n\n435\n00:21:48,590 --> 00:21:50,040\nOne word of caution,\n\n436\n00:21:50,040 --> 00:21:55,650\nthere are some little quirks when\nyou go from one CPU to multiple CPU.\n\n437\n00:21:55,650 --> 00:21:58,370\nSo if you're doing\nthe Windows virtual machines,\n\n438\n00:21:58,370 --> 00:22:00,145\nthose really don't like\nto go between CPUs.\n\n439\n00:22:00,145 --> 00:22:01,785\nAnd so you're gonna have to reboot.\n\n440\n00:22:01,785 --> 00:22:04,865\nAnd when you reboot it takes a little\nwhile for it to recognize and\n\n441\n00:22:04,865 --> 00:22:05,865\nsort itself out.\n\n442\n00:22:05,865 --> 00:22:08,375\nSo you'll have a bit of downtime\nwhen you go from one to two.\n\n443\n00:22:08,375 --> 00:22:12,415\nSo I'll normally start with two\nCPUs unless I have a price reason\n\n444\n00:22:12,415 --> 00:22:14,000\nto go with less.\n\n445\n00:22:14,000 --> 00:22:17,105\nLinux on the other hand it's perfectly\nhappy going from one to two.\n\n446\n00:22:17,105 --> 00:22:19,195\nIt doesn't really bog it down much.\n\n447\n00:22:19,195 --> 00:22:20,075\nSo you can flip between them.\n\n448\n00:22:20,075 --> 00:22:23,870\nSo just keep in mind your OS may not be so\nhappy about these changes.\n\n449\n00:22:23,870 --> 00:22:28,180\nBut the hardware side, you can change it\nreally easy and scale it to your needs.\n\n450\n00:22:29,462 --> 00:22:30,940\nAll right, now these are M3s and\n\n451\n00:22:30,940 --> 00:22:33,220\nthey give the description right\nhere of what you're getting, right,\n\n452\n00:22:33,220 --> 00:22:38,710\nthe xeon processors, SSD based storage,\nand balance of compute memory and network.\n\n453\n00:22:38,710 --> 00:22:41,159\nThese are nice, general-purpose instances.\n\n454\n00:22:42,220 --> 00:22:44,380\nOther instances are not general purpose.\n\n455\n00:22:44,380 --> 00:22:47,830\nSome of them are really\nfocused on a particular area.\n\n456\n00:22:47,830 --> 00:22:50,340\nLike here, compute optimized.\n\n457\n00:22:50,340 --> 00:22:52,220\nThe C3 instances, right?\n\n458\n00:22:52,220 --> 00:22:54,280\nCompute optimized means CPU.\n\n459\n00:22:54,280 --> 00:22:57,360\nThese guys really focus on CPU.\n\n460\n00:22:57,360 --> 00:23:02,000\nNotice I've got two CPUs but\nonly 3.7 gigs of ram.\n\n461\n00:23:02,000 --> 00:23:04,900\nVersus up here, where I had two CPUs and\nit took me to seven and\n\n462\n00:23:04,900 --> 00:23:06,230\na half gigs of RAM.\n\n463\n00:23:06,230 --> 00:23:09,450\nIt may be that I care more\nabout CPU than memory.\n\n464\n00:23:09,450 --> 00:23:11,370\nSo I can go compute optimized.\n\n465\n00:23:11,370 --> 00:23:15,200\nAnd I'll get a server with less memory,\nmore CPU, right?\n\n466\n00:23:15,200 --> 00:23:18,170\nPutting the preference to where I need it.\n\n467\n00:23:18,170 --> 00:23:24,480\nAnd you'll see these go up to 32 CPUs in\na single VM with an eight extra large.\n\n468\n00:23:27,030 --> 00:23:28,240\nAll right that's compute optimized,\n\n469\n00:23:28,240 --> 00:23:30,200\nyou got memory optimized\nwhich is the opposite.\n\n470\n00:23:30,200 --> 00:23:32,640\nYou'll get less CPUs but more memory.\n\n471\n00:23:32,640 --> 00:23:37,710\nAnd you'll see 15 gigs of memory right\nhere in the lowest instance, and then it\n\n472\n00:23:37,710 --> 00:23:43,200\nclimbs up from there all the way up to 244\ngigs in an 8X large with only 32 CPUs.\n\n473\n00:23:43,200 --> 00:23:45,240\nSo more memory, less processors.\n\n474\n00:23:46,910 --> 00:23:47,570\nAll right.\n\n475\n00:23:47,570 --> 00:23:49,521\nThose are the three main ones\nwe're going to make use of.\n\n476\n00:23:49,521 --> 00:23:52,663\nMost companies will use those three,\nbut let's say that\n\n477\n00:23:52,663 --> 00:23:56,341\nyou are a medical institution and\nyou're doing something crazy.\n\n478\n00:23:56,341 --> 00:24:01,170\nTheoretical or\nsequencing the human genome.\n\n479\n00:24:01,170 --> 00:24:01,790\nRight?\n\n480\n00:24:01,790 --> 00:24:03,967\nHeavy mathematical practices or\n\n481\n00:24:03,967 --> 00:24:08,639\napplications like that can benefit\nfrom special purpose processors.\n\n482\n00:24:08,639 --> 00:24:13,205\nAnd there's been a lot of writing over\nthis, over the last few years about how\n\n483\n00:24:13,205 --> 00:24:16,872\ngraphics processors GPUs,\nactually do a better job at math.\n\n484\n00:24:16,872 --> 00:24:20,429\nThen our general purpose processors,\nwhat our normal CPUs are.\n\n485\n00:24:20,429 --> 00:24:25,918\nSo Amazon has G2 instances,\nwhich are graphics optimized.\n\n486\n00:24:25,918 --> 00:24:28,491\nThey have regular processors for\nthe OS, but\n\n487\n00:24:28,491 --> 00:24:31,003\nthen they've got graphics boards in them.\n\n488\n00:24:31,003 --> 00:24:35,532\nYou'll see where they've got NVIDIA GPUs,\nwhich are available with many many CUDA\n\n489\n00:24:35,532 --> 00:24:38,484\ncores to be able to do heavy\nmathematical operations.\n\n490\n00:24:38,484 --> 00:24:45,973\nSo for things like bitcoin mining, you\ncan use this and really get some benefit.\n\n491\n00:24:45,973 --> 00:24:48,284\nIt's a waste of time, but you could do it.\n\n492\n00:24:48,284 --> 00:24:53,792\nFor sequencing the human genome for\ngraphics rendering, maybe you work for\n\n493\n00:24:53,792 --> 00:24:58,096\na company that creates 3D videos\nlike Pixar animations and\n\n494\n00:24:58,096 --> 00:25:02,504\nyou need a server to be able to\ngenerate the renders for that.\n\n495\n00:25:02,504 --> 00:25:05,194\nGPU optimized systems\nwill do a wonderful job.\n\n496\n00:25:05,194 --> 00:25:08,942\nSo you will see here where they have\nonly got 8 CPUs and 15 gigs of RAM,\n\n497\n00:25:08,942 --> 00:25:10,954\nthat doesn't sound too impressive.\n\n498\n00:25:10,954 --> 00:25:15,433\nBut then you look here,\nyou got 1,536 CUDA cores and\n\n499\n00:25:15,433 --> 00:25:18,244\n4 gigs of dedicated video memory.\n\n500\n00:25:18,244 --> 00:25:21,316\nSo if you've got a system\nthat's optimized to use that,\n\n501\n00:25:21,316 --> 00:25:23,623\nyou can really go through\nthe roof with it.\n\n502\n00:25:23,623 --> 00:25:27,399\nThose are specialized instances and\nyou'll see there's several of them,\n\n503\n00:25:27,399 --> 00:25:28,882\nstorage optimized and so on.\n\n504\n00:25:28,882 --> 00:25:32,830\nThere's a ton of different ones\nthat you can pick and choose from.\n\n505\n00:25:32,830 --> 00:25:34,527\nI always recommend that you\nread through this page.\n\n506\n00:25:34,527 --> 00:25:39,032\nIt is kind of long, but\nit details all the differences\n\n507\n00:25:39,032 --> 00:25:44,153\nbetween the instances to help\nyou pick the one that you need.\n\n508\n00:25:44,153 --> 00:25:47,668\nAs far as picking the instance though,\nwe look at our needs and\n\n509\n00:25:47,668 --> 00:25:50,044\nthen we also need to understand pricing.\n\n510\n00:25:50,044 --> 00:25:52,593\nIf these were all priced the same,\nwhich one would you pick?\n\n511\n00:25:52,593 --> 00:25:53,201\nThe best one.\n\n512\n00:25:53,201 --> 00:25:54,317\nYou would just go for the biggest.\n\n513\n00:25:54,317 --> 00:25:55,593\nFine, I'm gonna come down here.\n\n514\n00:25:55,593 --> 00:25:59,517\nI'll pick double extra large right here,\nsupersize it and go.\n\n515\n00:25:59,517 --> 00:26:01,940\nIf they were all the same price,\nbut they aren't.\n\n516\n00:26:01,940 --> 00:26:06,071\nYou're billed on a by hour basis,\nso for each hour that you use them,\n\n517\n00:26:06,071 --> 00:26:07,790\nyou've got to pay for them.\n\n518\n00:26:07,790 --> 00:26:12,498\nYou're reserving that CPU and that memory\nto be able to use in that time, so\n\n519\n00:26:12,498 --> 00:26:14,158\nalways keep that in mind.\n\n520\n00:26:14,158 --> 00:26:15,824\nThere is one other thing\nI wanna point out.\n\n521\n00:26:15,824 --> 00:26:20,039\nYou'll notice that most of these,\njust have a straight up CPU number.\n\n522\n00:26:20,039 --> 00:26:23,654\nThese are what are called\nfixed performance instances.\n\n523\n00:26:23,654 --> 00:26:28,410\nA fixed performance instance says,\nif you pay for four virtual CPUs,\n\n524\n00:26:28,410 --> 00:26:31,162\nyou will have four virtual CPUs for you.\n\n525\n00:26:31,162 --> 00:26:34,170\nYou'll be able to use 100% of that CPU,\nit is there for you.\n\n526\n00:26:35,830 --> 00:26:39,740\nBut some instances,\nlike the real low ones up here.\n\n527\n00:26:39,740 --> 00:26:45,140\nThese general purpose T2's,\nthese are burstable performance instances.\n\n528\n00:26:45,140 --> 00:26:51,610\nWith these guys, we look in here and\nwe can see where the CPUs vary.\n\n529\n00:26:51,610 --> 00:26:56,610\nYou have one vCPU and\nthen you have CPU Credits.\n\n530\n00:26:56,610 --> 00:26:57,723\nWhat the heck is that?\n\n531\n00:26:57,723 --> 00:27:01,315\nWell, what these are is a way to\nshave the cost of these CPUs or\n\n532\n00:27:01,315 --> 00:27:03,652\nthese VMs to make them less expensive.\n\n533\n00:27:03,652 --> 00:27:09,132\nThese are the cheapest of the VMs,\nyou get what's called a baseline CPU.\n\n534\n00:27:09,132 --> 00:27:13,060\nA baseline CPU is not 100%, it's 20%.\n\n535\n00:27:13,060 --> 00:27:18,280\nYou get 20% of one CPU or\n20% of 2 CPUs, depending on which\n\n536\n00:27:18,280 --> 00:27:23,322\ninstance you pick,\nbecause most servers idle below 20%.\n\n537\n00:27:23,322 --> 00:27:27,019\nSo, it's assuming that your server's\ngoing to be idle most of the time and\n\n538\n00:27:27,019 --> 00:27:29,083\nthat every now and then it needs to burst.\n\n539\n00:27:29,083 --> 00:27:35,248\nAnd so each hour, you will accumulate\nburst credits or CPU Credits.\n\n540\n00:27:35,248 --> 00:27:38,487\nSo you'll see with the cheapest one,\nyou'll get six burst credits an hour.\n\n541\n00:27:38,487 --> 00:27:41,435\nSo once an hour or 6 times an hour,\n\n542\n00:27:41,435 --> 00:27:46,746\nyou can burst over your 20% governor,\nyour 20% limit.\n\n543\n00:27:46,746 --> 00:27:49,569\nWell, the nice thing here is\nthe credits accumulate hour after hour.\n\n544\n00:27:49,569 --> 00:27:52,296\nSo if you don't use them one hour\nyou save them you bank them and\n\n545\n00:27:52,296 --> 00:27:53,988\nyou can use them the next hour or so on.\n\n546\n00:27:53,988 --> 00:27:56,890\nThey do reset or expire every 24 hours.\n\n547\n00:27:56,890 --> 00:27:59,206\nSo if I acquire 6 credits right now,\n\n548\n00:27:59,206 --> 00:28:03,335\n24 hours from now if I haven't\nused those credits they go away.\n\n549\n00:28:03,335 --> 00:28:07,187\nBut you can save them and so you might\nhave 50, 60, 70 credits to be able to use\n\n550\n00:28:07,187 --> 00:28:10,018\nin a given hour,\nbecause they've built up through the day.\n\n551\n00:28:10,018 --> 00:28:13,401\nSo low usage servers\ncan benefit from this.\n\n552\n00:28:13,401 --> 00:28:16,752\nIf you have a server that you know\nis gonna idle most of the time,\n\n553\n00:28:16,752 --> 00:28:18,091\ntake advantage of this.\n\n554\n00:28:18,091 --> 00:28:22,205\nSure it's only getting 20% of the CPU,\nbut it probably only needs that.\n\n555\n00:28:22,205 --> 00:28:26,167\nAnd then when it bursts,\nit'll have the others available.\n\n556\n00:28:26,167 --> 00:28:28,970\nSo, I've talked about\nthe different instance types.\n\n557\n00:28:28,970 --> 00:28:30,179\nI haven't really jumped\ninto their pricing.\n\n558\n00:28:30,179 --> 00:28:32,650\nI wanted you guys to understand\nthe basic instance types.\n\n559\n00:28:32,650 --> 00:28:35,353\nThey're just, so\nthat we could know what we were getting.\n\n560\n00:28:35,353 --> 00:28:38,802\nI wanna take a look at the pricing next,\nbut this is a pretty good spot to stop and\n\n561\n00:28:38,802 --> 00:28:39,446\ntake a break.\n\n562\n00:28:39,446 --> 00:28:42,149\nSo why don't we pause here and\nwhen we get back,\n\n563\n00:28:42,149 --> 00:28:45,744\nwe'll take a look at the pricing\non the individual instances.\n\n564\n00:28:45,744 --> 00:28:48,277\nStay tuned, we'll be back after this.\n\n565\n00:28:48,277 --> 00:28:53,736\n[SOUND] Welcome back,\n\n566\n00:28:53,736 --> 00:28:57,076\neverybody.\n\n567\n00:28:57,076 --> 00:28:59,088\nSo we had a great question\nduring the break.\n\n568\n00:28:59,088 --> 00:29:03,337\nI mentioned the burst performance\ninstances and I wanna clarify that just\n\n569\n00:29:03,337 --> 00:29:06,982\na little bit, cuz there is\nsomething I didn't mention there.\n\n570\n00:29:06,982 --> 00:29:09,612\nLet me just bring that\npage backup real quick.\n\n571\n00:29:09,612 --> 00:29:11,306\nI mentioned the micros and\n\n572\n00:29:11,306 --> 00:29:15,082\nhow they accumulated those\nCPU Credits six times an hour.\n\n573\n00:29:15,082 --> 00:29:18,919\nI didn't mention that different instances\naccrue credits at different intervals.\n\n574\n00:29:18,919 --> 00:29:23,077\nSo notice that the small actually\ngets them in 12 credits and hour and\n\n575\n00:29:23,077 --> 00:29:25,765\nthe medium gets them\nin 24 credits an hour.\n\n576\n00:29:25,765 --> 00:29:29,660\nSo you can get more credits based\non the instance you choose.\n\n577\n00:29:29,660 --> 00:29:33,235\nNow a long as your server\nstays beneath 20% CPU,\n\n578\n00:29:33,235 --> 00:29:36,653\nit's not using the credits and\nthey get banked.\n\n579\n00:29:36,653 --> 00:29:40,479\nSo if an hour goes by and you don't\nuse the credits within that time,\n\n580\n00:29:40,479 --> 00:29:42,774\nthat's how many credits you'll bank.\n\n581\n00:29:42,774 --> 00:29:45,550\nSo they get stored in Amazon's\ndatabase somewhere, so\n\n582\n00:29:45,550 --> 00:29:47,151\nthey know you didn't use them.\n\n583\n00:29:47,151 --> 00:29:50,558\nThen as your server runs,\nif it ever spikes,\n\n584\n00:29:50,558 --> 00:29:54,691\nif you do something on it to\ncreate a performance load.\n\n585\n00:29:54,691 --> 00:29:57,389\nSo maybe you're applying\nupdates to the system or\n\n586\n00:29:57,389 --> 00:30:01,832\nsomething out of the normalness, CPU\ngoes to spike, that'll consume a credit.\n\n587\n00:30:01,832 --> 00:30:05,928\nNow a spike can be very short,\nthat spike could happen and only last for\n\n588\n00:30:05,928 --> 00:30:06,839\na few seconds.\n\n589\n00:30:06,839 --> 00:30:09,678\nWell, it just consumed\none of your credits.\n\n590\n00:30:09,678 --> 00:30:11,280\nSo, it'll consume the credit.\n\n591\n00:30:11,280 --> 00:30:13,254\nYou're gonna spiked up, you used it.\n\n592\n00:30:13,254 --> 00:30:15,958\nNow you drop back to 20%,\nyou're back to normal again.\n\n593\n00:30:15,958 --> 00:30:19,412\nNow how many times can\nyou spike within an hour?\n\n594\n00:30:19,412 --> 00:30:20,374\nIt depends on you.\n\n595\n00:30:20,374 --> 00:30:22,289\nIt depends on how you use that server.\n\n596\n00:30:22,289 --> 00:30:26,607\nThere are many people who will spike over\n20% constantly throughout the hour and\n\n597\n00:30:26,607 --> 00:30:28,403\neat up these credits really fast.\n\n598\n00:30:28,403 --> 00:30:31,641\nIf you're one of those people and\nyou're running a micro,\n\n599\n00:30:31,641 --> 00:30:33,336\nwe'll just go T2 micro here.\n\n600\n00:30:33,336 --> 00:30:37,620\nWell, you get six credits per hour, so the\nfirst six times that you spike that may\n\n601\n00:30:37,620 --> 00:30:41,404\nnot all happen in the first minute of\nthat hour, so you spike six times.\n\n602\n00:30:41,404 --> 00:30:46,050\nWell, when you do that, you've just\neaten up some of those credits.\n\n603\n00:30:46,050 --> 00:30:49,849\nAnd once those credits are gone for\nthe rest of that hour,\n\n604\n00:30:49,849 --> 00:30:52,788\nyou're now going to be governed to 20%.\n\n605\n00:30:52,788 --> 00:30:56,271\nSo when you go to spike,\nyou'll hit the 20% limit and stop.\n\n606\n00:30:56,271 --> 00:30:59,620\nAnd so your system will just get slower,\nbecause those credits are gone.\n\n607\n00:30:59,620 --> 00:31:02,560\nAs long as you've got credits, you'll be\nable to spike above and you won't notice\n\n608\n00:31:02,560 --> 00:31:05,850\nany performance degradation when\nyou hit that higher effort.\n\n609\n00:31:05,850 --> 00:31:11,168\nNow Amazon, they don't come right out and\nsay, how they calculate out, how long\n\n610\n00:31:11,168 --> 00:31:16,585\nthe burst lasts, but the general word on\nthe internet is that it's about a minute.\n\n611\n00:31:16,585 --> 00:31:20,393\nSo when you hit a burst for that minute,\nyou actually get that credit.\n\n612\n00:31:20,393 --> 00:31:22,774\nSo if you have multiple bursts\nwithin the same minute,\n\n613\n00:31:22,774 --> 00:31:25,429\nthey're all kind of aggregated\ntogether into the same one.\n\n614\n00:31:25,429 --> 00:31:28,818\nThey haven't officially released that,\nbut it's really that basic,\n\n615\n00:31:28,818 --> 00:31:29,879\nshort amount of time.\n\n616\n00:31:29,879 --> 00:31:32,387\nAnd you can see where\nthat's relevant here,\n\n617\n00:31:32,387 --> 00:31:35,556\nwhere we've got 24 minutes\nout of an hour for a medium.\n\n618\n00:31:35,556 --> 00:31:38,870\nThat's almost half the hour\nthat's available for it, but\n\n619\n00:31:38,870 --> 00:31:43,189\nthat's not an official number, but\nthat's kind of the word on the streets.\n\n620\n00:31:43,189 --> 00:31:46,294\nBut that's how these work and\nfor small servers, for\n\n621\n00:31:46,294 --> 00:31:50,101\nservers that you know are gonna idle,\nit makes sense to use that.\n\n622\n00:31:50,101 --> 00:31:53,488\nBut for most of us, like if you\nwere to look at ITProTV's server,\n\n623\n00:31:53,488 --> 00:31:55,830\nwe're over 20% all the time our servers,\n\n624\n00:31:55,830 --> 00:32:00,161\nbecause we have more than 1, our database\nserver, our web front-end and stuff.\n\n625\n00:32:00,161 --> 00:32:03,658\nWhen you handle thousands of customers\nthat are constantly in the site,\n\n626\n00:32:03,658 --> 00:32:06,970\nyou're gonna find that your service\nruns a higher CPU than 20%.\n\n627\n00:32:06,970 --> 00:32:09,880\nSo ours usually average about 60%,\n\n628\n00:32:09,880 --> 00:32:14,070\nwhich means these credits we blow through\nthem in the first couple of minutes.\n\n629\n00:32:14,070 --> 00:32:17,560\nSo for that, that's where you end up\ngoing to these fixed performance.\n\n630\n00:32:17,560 --> 00:32:21,280\nThat's why you'll see there's only micro,\nsmall, and medium.\n\n631\n00:32:21,280 --> 00:32:24,650\nThey don't do large or extra large or\nanything, cause if you're at that point,\n\n632\n00:32:24,650 --> 00:32:26,380\nyou just need to go fix performance.\n\n633\n00:32:26,380 --> 00:32:29,260\nSo these are really for\npeople who are testing, learning,\n\n634\n00:32:29,260 --> 00:32:30,950\ndoing non-production type things.\n\n635\n00:32:30,950 --> 00:32:32,354\nThat's where these really come in handy.\n\n636\n00:32:32,354 --> 00:32:34,740\nSo most people aren't gonna work\nwith those, but they are available.\n\n637\n00:32:36,130 --> 00:32:41,320\nAlright, so the reason I bring all this\nstuff up is it all effects pricing.\n\n638\n00:32:41,320 --> 00:32:43,120\nWhen we start to build up these instances,\n\n639\n00:32:43,120 --> 00:32:48,710\nit's going to kind of tailor\nthe pricing of what we end up paying.\n\n640\n00:32:48,710 --> 00:32:51,570\nAlright, so, just getting\na follow-up on the chatroom there.\n\n641\n00:32:51,570 --> 00:32:54,140\nTerry mentioned so\nanything over twenty percent.\n\n642\n00:32:54,140 --> 00:32:54,730\nThat's a burst.\n\n643\n00:32:54,730 --> 00:32:55,560\nAbsolutely.\n\n644\n00:32:55,560 --> 00:32:59,510\nSo, he said, you know, if I go to 30% most\nof the time then these are inappropriate,\n\n645\n00:32:59,510 --> 00:33:01,810\nmore expensive, and\nthat's absolutely true Terry.\n\n646\n00:33:01,810 --> 00:33:04,870\nYeah, if you're going to be\nconstantly going over 20%,\n\n647\n00:33:04,870 --> 00:33:06,840\ndon't even bother with the burst stuff.\n\n648\n00:33:06,840 --> 00:33:08,930\nIt really has to be something idle.\n\n649\n00:33:08,930 --> 00:33:10,550\nSo, if you have a server, for example,\n\n650\n00:33:10,550 --> 00:33:15,510\nthat's storing like TFTP\nconfiguration files from VOIP phones.\n\n651\n00:33:15,510 --> 00:33:16,950\nSo when a new VoIP phone fires up,\n\n652\n00:33:16,950 --> 00:33:20,100\nit reaches out to the centralized\nserver to get a configuration file.\n\n653\n00:33:20,100 --> 00:33:22,890\nA server like that is never\ngonna spike over 20%.\n\n654\n00:33:22,890 --> 00:33:26,720\nIt's just sending out\nlittle TFTP config packets.\n\n655\n00:33:26,720 --> 00:33:28,160\nThey're 15k each, or whatever.\n\n656\n00:33:28,160 --> 00:33:29,460\nAnd that's it, so\n\n657\n00:33:29,460 --> 00:33:33,420\nnot a big deal, that kind of server\nyou can save money by doing this.\n\n658\n00:33:33,420 --> 00:33:35,800\nBut if it's gonna be something for\nproduction use,\n\n659\n00:33:35,800 --> 00:33:38,960\nyou're almost always gonna be over that,\nand so it's not really ideal.\n\n660\n00:33:38,960 --> 00:33:40,800\nTesting and learning is where\nyou'll see these used, mostly.\n\n661\n00:33:42,530 --> 00:33:43,230\nAll right.\n\n662\n00:33:43,230 --> 00:33:45,670\nSo, let's talk about the pricing on these.\n\n663\n00:33:45,670 --> 00:33:50,620\nWhen you figure out what requirements\nyou have as far as memory and CPU,\n\n664\n00:33:50,620 --> 00:33:55,460\nthen comes the pricing and amazon is\nvery clear about their pricing on EC2.\n\n665\n00:33:56,500 --> 00:34:00,670\nIt breaks down a few different ways though\nthat starts to make it really confusing.\n\n666\n00:34:00,670 --> 00:34:01,650\nNotice.\n\n667\n00:34:01,650 --> 00:34:03,410\nI'm scrolling up on this page and\n\n668\n00:34:03,410 --> 00:34:05,300\nif you're looking at it it\nkind of blows your mind.\n\n669\n00:34:05,300 --> 00:34:08,150\nThere is a ton involved with\nthe pricing of the instances.\n\n670\n00:34:09,410 --> 00:34:12,280\nThe first thing we need to\nthink about with our pricing is\n\n671\n00:34:12,280 --> 00:34:14,370\nwhere the server is going to be located.\n\n672\n00:34:14,370 --> 00:34:17,330\nSo is it gonna be in North America,\nis it gonna be in South America,\n\n673\n00:34:17,330 --> 00:34:18,480\nEurope, wherever?\n\n674\n00:34:18,480 --> 00:34:21,730\nWhen we pick that region,\nthat effects the price.\n\n675\n00:34:21,730 --> 00:34:24,460\nAnd so we've got our little drop-down\nbox here where we can pick which\n\n676\n00:34:24,460 --> 00:34:26,500\nregion we're gonna be operating in.\n\n677\n00:34:26,500 --> 00:34:27,880\nThe next thing we need\nto think about is what\n\n678\n00:34:27,880 --> 00:34:30,010\noperating system we're running, all right?\n\n679\n00:34:30,010 --> 00:34:33,090\nAre we running Red Hat Enterprise Linux,\nor SUSE Linux?\n\n680\n00:34:33,090 --> 00:34:34,070\nAre we running Windows,\n\n681\n00:34:34,070 --> 00:34:38,090\nWindows with Microsoft sequel,\nwhat operating system are we running?\n\n682\n00:34:38,090 --> 00:34:40,180\nIf you're running Linux, well,\n\n683\n00:34:40,180 --> 00:34:44,790\nthis Linux right here is actually built\noff of CentOS, and there's no license.\n\n684\n00:34:44,790 --> 00:34:47,210\nSo, you're literally just paying for\nthe hardware.\n\n685\n00:34:47,210 --> 00:34:48,939\nThere's no software\nlicensing attached to it.\n\n686\n00:34:50,090 --> 00:34:51,800\nRed Hat on the other hand.\n\n687\n00:34:51,800 --> 00:34:55,070\nRed Hat Linux there is\na license associated with it.\n\n688\n00:34:55,070 --> 00:34:57,180\nSo you'll notice the pricing down here for\n\n689\n00:34:57,180 --> 00:34:59,450\nsome of these which my head\nis covering let me scroll up.\n\n690\n00:34:59,450 --> 00:35:03,750\nYou'll notice the pricing on some of\nthese with just regular Linux starts at\n\n691\n00:35:03,750 --> 00:35:09,090\none cent per hour and then it goes up\nas we pick larger and larger machines.\n\n692\n00:35:09,090 --> 00:35:12,760\nBut if we choose Red Hat you'll\nnotice the price goes up.\n\n693\n00:35:12,760 --> 00:35:16,310\nThey start at seven cents per hour, right?\n\n694\n00:35:16,310 --> 00:35:19,990\nWhy is it six cents more to go\nwith Red Hat versus CentOS?\n\n695\n00:35:19,990 --> 00:35:20,670\nIt's licensing.\n\n696\n00:35:20,670 --> 00:35:22,170\nCentOS is effectively Red Hat.\n\n697\n00:35:22,170 --> 00:35:24,970\nThey're basically the same thing,\njust one's the community edition, and\n\n698\n00:35:24,970 --> 00:35:26,870\nthe other's the commercially\navailable one.\n\n699\n00:35:26,870 --> 00:35:31,750\nSo, it's six cents more per hour because\nof the license that you're paying for\n\n700\n00:35:31,750 --> 00:35:32,830\nthat operating system.\n\n701\n00:35:32,830 --> 00:35:33,960\nSame thing goes for Windows.\n\n702\n00:35:33,960 --> 00:35:37,390\nIf we want to switch to Microsoft Windows,\nnotice that it starts,\n\n703\n00:35:37,390 --> 00:35:42,800\nactually it's starting really low,\nat one cent, or almost two cents per hour.\n\n704\n00:35:42,800 --> 00:35:43,892\nAnd going up from there.\n\n705\n00:35:43,892 --> 00:35:48,428\nSo, two cents per hour versus\nthe one cent per hour or\n\n706\n00:35:48,428 --> 00:35:53,460\n.013 that we have for Linux, and\nagain that's just licensing.\n\n707\n00:35:53,460 --> 00:35:58,340\nMicrosoft cuts big price cuts for\nlarge volume deployments,\n\n708\n00:35:58,340 --> 00:36:00,980\nand that's why we're seeing\nthat price being so low.\n\n709\n00:36:00,980 --> 00:36:03,880\nIf you tack on sequel on top,\nthough, it starts to go up and\n\n710\n00:36:03,880 --> 00:36:06,890\nyou'll see they don't even bother to\noffer it for the smaller instances.\n\n711\n00:36:06,890 --> 00:36:09,678\nSo if we just take medium, for example,\n\n712\n00:36:09,678 --> 00:36:15,010\nm3_medium with sequel is $0.35 an hour\nversus if we just do Windows for\n\n713\n00:36:15,010 --> 00:36:19,340\na medium,\nthat m3_medium is only $0.13 per hour.\n\n714\n00:36:19,340 --> 00:36:24,050\nSo you're paying over 20 cents per hour\nmore for that Microsoft SQL license.\n\n715\n00:36:24,050 --> 00:36:24,870\nLicensing is a big deal.\n\n716\n00:36:27,215 --> 00:36:29,413\nFor most people that deploy in Amazon,\nthough,\n\n717\n00:36:29,413 --> 00:36:32,570\nwe choose the regular Linux instances\nwhich are the sent OS ones.\n\n718\n00:36:32,570 --> 00:36:33,700\nThey don't have a software license.\n\n719\n00:36:33,700 --> 00:36:35,340\nThat makes them very inexpensive.\n\n720\n00:36:35,340 --> 00:36:39,360\nYou can bring up Linux servers and\nreally have some good power there.\n\n721\n00:36:39,360 --> 00:36:41,680\nI'll talk more about that\nin other episodes too.\n\n722\n00:36:41,680 --> 00:36:45,390\nKeep that in mind, depending on the OS\nthat you run the pricing changes.\n\n723\n00:36:46,600 --> 00:36:50,880\nThe other thing that changes it\nis which instance type you pick.\n\n724\n00:36:50,880 --> 00:36:55,500\nThe more CPUs or the more memory that\nyou have The more it's gonna cost.\n\n725\n00:36:55,500 --> 00:36:58,750\nAnd you'll see that price changes\nbased on what you're doing, right?\n\n726\n00:36:58,750 --> 00:37:02,680\nSo here's those variable performance,\nthe burstable guys, right here, and\n\n727\n00:37:02,680 --> 00:37:03,480\ntheir pricing, and\n\n728\n00:37:03,480 --> 00:37:07,430\nthen you'll start to see the fixed\nperformance instances afterwards, right?\n\n729\n00:37:07,430 --> 00:37:09,140\nI want to focus on those guys.\n\n730\n00:37:09,140 --> 00:37:14,010\nSo focusing on the fixed guys, you'll\nsee where if I go with a medium 3V CPUs,\n\n731\n00:37:14,010 --> 00:37:18,730\nand 7.5 gigs of RAM, it's gonna cost\nme seven cents per hour, all right?\n\n732\n00:37:18,730 --> 00:37:21,940\nNow, why does Amazon do per hour pricing?\n\n733\n00:37:21,940 --> 00:37:25,050\nI might not need the server 24\nhours a day, seven days a week.\n\n734\n00:37:25,050 --> 00:37:25,640\nSome of us do.\n\n735\n00:37:25,640 --> 00:37:28,260\nSome of us need the server all the time.\n\n736\n00:37:28,260 --> 00:37:33,070\nI want the ITProTV website to be online\n24 hours a day, seven days a week,\n\n737\n00:37:33,070 --> 00:37:34,670\n365 days a year.\n\n738\n00:37:34,670 --> 00:37:38,180\nSo per hour pricing doesn't\nmake a lot of sense to me.\n\n739\n00:37:38,180 --> 00:37:41,670\nInstead I wanna pay on\na bigger window of time.\n\n740\n00:37:41,670 --> 00:37:44,280\nLike on a month or a year or whatever.\n\n741\n00:37:44,280 --> 00:37:49,790\nBut we need to do per hour because\nwe might want to increase or\n\n742\n00:37:49,790 --> 00:37:52,700\ndecrease our server performance\nbased on conditions.\n\n743\n00:37:52,700 --> 00:37:57,010\nIf the servers getting really busy I\nmight wanna spawn up some more servers to\n\n744\n00:37:57,010 --> 00:38:00,630\nhandle the load and then when the servers\nstart to get idle again, right,\n\n745\n00:38:00,630 --> 00:38:03,740\nafter peak time,\nI might want to prune off some servers.\n\n746\n00:38:03,740 --> 00:38:08,060\nSo I may be adding and removing servers\nbased on the performance conditions that\n\n747\n00:38:08,060 --> 00:38:12,090\nare available and that's where per\nhour pricing really comes in handy.\n\n748\n00:38:12,090 --> 00:38:15,670\nSo almost all of the pricing on Amazon's\nsite is built along this idea of\n\n749\n00:38:15,670 --> 00:38:17,050\nper hour pricing.\n\n750\n00:38:18,500 --> 00:38:21,180\nThe more hardware you pick,\nthe more expensive it gets.\n\n751\n00:38:21,180 --> 00:38:22,890\nIt's as simple as that.\n\n752\n00:38:22,890 --> 00:38:24,370\nAnd it starts to add up.\n\n753\n00:38:24,370 --> 00:38:28,580\nSo here we just have to balance\nout how much power we need and\n\n754\n00:38:28,580 --> 00:38:29,610\nhow long we need it.\n\n755\n00:38:30,770 --> 00:38:35,105\nNow, the part that I really want to draw\nattention to, though, is when you go to\n\n756\n00:38:35,105 --> 00:38:39,475\nbuild up an instance, it's going to ask\nyou whether you want it to be on demand.\n\n757\n00:38:39,475 --> 00:38:41,280\nAnd, on demand, that's a per hour.\n\n758\n00:38:41,280 --> 00:38:42,610\nYou pay for the hours you use it.\n\n759\n00:38:42,610 --> 00:38:44,840\nIf you're not going to be using the VM,\nyou shut it down.\n\n760\n00:38:44,840 --> 00:38:47,620\nWhen you shut it down,\nit doesn't cost you money.\n\n761\n00:38:47,620 --> 00:38:49,360\nWell that's not 100% true.\n\n762\n00:38:49,360 --> 00:38:51,100\nYou always pay for storage.\n\n763\n00:38:51,100 --> 00:38:56,810\nSo if I have a Linux box with a 1GB\ndatabase on it, so the operating system,\n\n764\n00:38:56,810 --> 00:39:00,370\nand the database, and so on, maybe it\nadds up to four giga bytes of storage.\n\n765\n00:39:00,370 --> 00:39:04,250\nIf the service is on, or\nthe service is off, I've gotta pay for\n\n766\n00:39:04,250 --> 00:39:05,020\nthat 4GB of storage.\n\n767\n00:39:05,020 --> 00:39:09,950\nI'm using the storage, but when\nthe server is off I don't have to pay for\n\n768\n00:39:09,950 --> 00:39:12,580\nmemory in CPU cuz the server's off.\n\n769\n00:39:12,580 --> 00:39:15,810\nOh when the server is on,\nI do have to pay for CPU and memory.\n\n770\n00:39:15,810 --> 00:39:18,340\nSo if I need the server sometimes but\n\n771\n00:39:18,340 --> 00:39:22,715\nnot all the times, I'm going to want\nOn-Demand Instance, just like this.\n\n772\n00:39:22,715 --> 00:39:25,570\nOn-Demand means you pay per hour.\n\n773\n00:39:25,570 --> 00:39:27,050\nWhen you use the machine, you use it.\n\n774\n00:39:27,050 --> 00:39:27,980\nWhen you're not, you don't.\n\n775\n00:39:29,290 --> 00:39:33,390\nThe alternative is to\ndo a reserved instance.\n\n776\n00:39:33,390 --> 00:39:36,330\nA reserved instance is where\nyou say I need it all the time,\n\n777\n00:39:36,330 --> 00:39:40,010\nI just need it always,\nthis is my website, this is my database,\n\n778\n00:39:40,010 --> 00:39:44,690\nthis is something that I\nalways need up and available.\n\n779\n00:39:44,690 --> 00:39:49,536\nSo, in that scenario I don't wanna go\nper hour because I know I'm gonna be\n\n780\n00:39:49,536 --> 00:39:50,951\nusing it every hour.\n\n781\n00:39:50,951 --> 00:39:56,520\nI can get better price breaks if I choose\nto go down to a reserved instance.\n\n782\n00:39:56,520 --> 00:40:00,399\nAnd so if I scroll down here I'll see\nreserved instances These are ones that we\n\n783\n00:40:00,399 --> 00:40:01,900\nknow we're gonna need a lot.\n\n784\n00:40:01,900 --> 00:40:02,551\nAll right.\n\n785\n00:40:02,551 --> 00:40:08,280\nAnd when you do this, you can sign up for\na one year or a three year term.\n\n786\n00:40:08,280 --> 00:40:12,190\nThe longer your contract,\nthe more money you save.\n\n787\n00:40:12,190 --> 00:40:13,790\nAll right?\nSo you get a better price\n\n788\n00:40:13,790 --> 00:40:15,890\nbreak on a three year versus\na one year and so on.\n\n789\n00:40:15,890 --> 00:40:17,550\nBut if you know you're going to\nbe using it for a long time,\n\n790\n00:40:17,550 --> 00:40:19,670\nyou want to do a reserved instance.\n\n791\n00:40:19,670 --> 00:40:21,990\nNow, when you sign up a reserved instance,\n\n792\n00:40:21,990 --> 00:40:24,430\nyou know you need\nthe server 24 hours a day.\n\n793\n00:40:24,430 --> 00:40:27,070\nBut, how busy is the server going to be?\n\n794\n00:40:27,070 --> 00:40:29,430\nIs it going to be a light utilization?\n\n795\n00:40:29,430 --> 00:40:32,110\nI need it 24 hours a day,\nbut it's not that busy.\n\n796\n00:40:32,110 --> 00:40:34,250\nWell, I can choose light\nreserved instance, and\n\n797\n00:40:34,250 --> 00:40:36,020\nit'll save me a little bit of money.\n\n798\n00:40:36,020 --> 00:40:38,510\nIs it going to serve\nlike average utilization?\n\n799\n00:40:38,510 --> 00:40:41,910\nIf so, I can scroll down and\nI can choose a medium utilization.\n\n800\n00:40:41,910 --> 00:40:42,460\nAll right.\n\n801\n00:40:42,460 --> 00:40:45,350\nSo these are just our typical\nservers that are gonna be running,\n\n802\n00:40:45,350 --> 00:40:49,410\nthat will use a fair\nload throughout the day.\n\n803\n00:40:49,410 --> 00:40:52,210\nIf I want 100% of the resources available.\n\n804\n00:40:52,210 --> 00:40:54,740\nIf I say look, I don't wanna deal\nwith governors or throttling or\n\n805\n00:40:54,740 --> 00:40:55,568\nanything like that.\n\n806\n00:40:55,568 --> 00:40:58,230\nI want 100% of my server\navailable all the time,\n\n807\n00:40:58,230 --> 00:41:01,010\nwe can go down here to heavy utilization.\n\n808\n00:41:01,010 --> 00:41:03,080\nHeavy utilization means I want it all.\n\n809\n00:41:03,080 --> 00:41:06,610\nIf I'm paying for four CPUs,\nI want to be able to run them at 100% CPU,\n\n810\n00:41:06,610 --> 00:41:08,892\n24 hours a day, 365 days a year.\n\n811\n00:41:08,892 --> 00:41:10,180\nAll right.\n\n812\n00:41:10,180 --> 00:41:15,280\nSo these will be the higher utilization,\nand you'll see the pricing goes up a bit.\n\n813\n00:41:15,280 --> 00:41:20,300\nNow, with all of the reserved instances,\nyou have to pay an upfront fee.\n\n814\n00:41:20,300 --> 00:41:23,940\nThere's a fee just for creating\nthe virtual machine and reserving it for\n\n815\n00:41:23,940 --> 00:41:25,670\nthat year or that three years.\n\n816\n00:41:25,670 --> 00:41:29,630\nSo notice here on a heavy, I'm gonna use\nall heavy for the rest of the episode.\n\n817\n00:41:29,630 --> 00:41:36,560\nFor a heavy, just to create a medium\ninstance, I have to pay $204 upfront.\n\n818\n00:41:36,560 --> 00:41:41,677\nOkay, but once I've got it up,\nI only have to pay one cent,\n\n819\n00:41:41,677 --> 00:41:45,900\n0.012, one cent per hour to\nrun that medium instance.\n\n820\n00:41:47,080 --> 00:41:47,780\nAll right.\n\n821\n00:41:47,780 --> 00:41:49,880\nOne cent an hour, 24 cents a day, right?\n\n822\n00:41:49,880 --> 00:41:52,040\nThroughout the course of a month,\nit starts to add up.\n\n823\n00:41:52,040 --> 00:41:55,050\nBut it ends up being less than\nthe cost of a physical server for\n\n824\n00:41:55,050 --> 00:41:56,810\nthat time, all right.\n\n825\n00:41:56,810 --> 00:41:57,530\nBut here's the thing,\n\n826\n00:41:57,530 --> 00:42:00,540\nthis is what I usually hear from clients\nthat I've helped over the years.\n\n827\n00:42:00,540 --> 00:42:03,710\nAnd they say boy, I don't wannna\ngo into a one year contract.\n\n828\n00:42:03,710 --> 00:42:04,260\nRight?\n\n829\n00:42:04,260 --> 00:42:07,270\nWhat if six months from now,\nI decide I don't want this.\n\n830\n00:42:07,270 --> 00:42:10,190\nI don't wanna keep paying for\nthe server for six more months.\n\n831\n00:42:10,190 --> 00:42:13,062\nAnd so a lot of the companies\nthat I've worked with,\n\n832\n00:42:13,062 --> 00:42:15,230\nhave all done on demand instances.\n\n833\n00:42:15,230 --> 00:42:18,190\nThey liked the idea of ending\nthe contract whenever they wanted.\n\n834\n00:42:18,190 --> 00:42:20,810\nThat they could shut those severs\noff whenever they wanted, and\n\n835\n00:42:20,810 --> 00:42:22,590\nthat was the end of it, all right?\n\n836\n00:42:22,590 --> 00:42:24,693\nBut you pay more for on demand.\n\n837\n00:42:24,693 --> 00:42:29,325\nSo how do you make that decision from\ndoing an on demand instance where you just\n\n838\n00:42:29,325 --> 00:42:33,902\npay-per-hour, versus doing a one year or\nthree year contract like this?\n\n839\n00:42:33,902 --> 00:42:37,982\nWell, for many years, I worked on\ndifferent ways to explain this to my\n\n840\n00:42:37,982 --> 00:42:40,990\ncustomers or clients, people that I help.\n\n841\n00:42:40,990 --> 00:42:43,610\nAnd I just had a really hard\ntime communicating it to them.\n\n842\n00:42:43,610 --> 00:42:46,720\nAnd so finally, there was one day\nwhere I sat down with Microsoft Excel.\n\n843\n00:42:46,720 --> 00:42:47,700\nAnd if you guys know me,\n\n844\n00:42:48,770 --> 00:42:52,340\nit's dangerous when I use Excel cuz\nI really don't know the product.\n\n845\n00:42:52,340 --> 00:42:54,770\nYou give me a SQL database,\ndifferent story.\n\n846\n00:42:54,770 --> 00:42:57,570\nBut Excel is a different beast entirely.\n\n847\n00:42:57,570 --> 00:43:01,710\nAnd I created this return on investment\nspreadsheet for Amazon Web Services, and\n\n848\n00:43:01,710 --> 00:43:05,350\nI use this now to show people how to\ndetermine which instance to pick.\n\n849\n00:43:05,350 --> 00:43:06,770\nSo I'm gonna show it to you guys.\n\n850\n00:43:06,770 --> 00:43:10,040\nNow, let me throw our my disclaimer\nfrom earlier in the episode,\n\n851\n00:43:10,040 --> 00:43:13,133\npricing at Amazon changes frequently,\nright?\n\n852\n00:43:13,133 --> 00:43:16,990\nUsually about every six months, they\ndo a price cut and that's good, right?\n\n853\n00:43:16,990 --> 00:43:18,970\nWe want that.\nWe want the prices to go down.\n\n854\n00:43:18,970 --> 00:43:22,600\nBut the spreadsheet I'm gonna show you,\nmay not be accurate for\n\n855\n00:43:22,600 --> 00:43:26,090\nwhen you bring up your systems,\nso keep that in mind.\n\n856\n00:43:26,090 --> 00:43:29,350\nDo not rely on my numbers for planning\nyour budget cuz prices may have changed.\n\n857\n00:43:29,350 --> 00:43:32,776\nNow, prices have almost always gone down,\nso it's not that big of a deal.\n\n858\n00:43:32,776 --> 00:43:34,840\nBut just be aware of that.\n\n859\n00:43:34,840 --> 00:43:39,880\nSo, let me bring up this spreadsheet,\nand I made this a few years ago.\n\n860\n00:43:39,880 --> 00:43:43,300\nProbably about three years ago and\nI've kind of updated it ever since.\n\n861\n00:43:43,300 --> 00:43:48,500\nAnd it's just a little spreadsheet I use\nthat shows how to compare the on demand\n\n862\n00:43:48,500 --> 00:43:50,980\nto a one year to a three year term, and\n\n863\n00:43:50,980 --> 00:43:54,610\nto determine which one is gonna be\nthe one that maxes out the best for us.\n\n864\n00:43:54,610 --> 00:43:56,610\nAnd I apologize for\nthe spreadsheet in advance.\n\n865\n00:43:56,610 --> 00:43:57,968\nI made this entirely myself, and\n\n866\n00:43:57,968 --> 00:44:01,040\nI'm definitely not the most\ntalented person on this.\n\n867\n00:44:01,040 --> 00:44:03,520\nWhat I did is I wanted to\nmake it really dynamic.\n\n868\n00:44:03,520 --> 00:44:06,390\nSo most of the spreadsheet is simply data.\n\n869\n00:44:06,390 --> 00:44:08,610\nSo I've got some entries,\nlet me zoom in on this.\n\n870\n00:44:10,270 --> 00:44:12,800\nSo I created a table here and\nI just went to Amazon's website and\n\n871\n00:44:12,800 --> 00:44:14,180\nI scraped the pricing.\n\n872\n00:44:14,180 --> 00:44:17,130\nSo I've got the standard instances,\nhigh memory,\n\n873\n00:44:17,130 --> 00:44:21,260\nhigh CPU, actually that one\nis high CPU too, but anyhow.\n\n874\n00:44:21,260 --> 00:44:23,520\nSo I just their per hour cost, right?\n\n875\n00:44:23,520 --> 00:44:29,070\nThen I took the per hour cost and I said,\nwell, if I run it for 24 hours a day and\n\n876\n00:44:29,070 --> 00:44:33,325\nthere's 31 days in a month then,\nhere's what the monthly cost is gonna be.\n\n877\n00:44:33,325 --> 00:44:36,160\nRight?\nAnd some months have 31 days,\n\n878\n00:44:36,160 --> 00:44:37,580\nsome months have 28 days.\n\n879\n00:44:37,580 --> 00:44:39,600\nSo you'll see how I calculated it.\n\n880\n00:44:39,600 --> 00:44:41,930\nI just took 365 days and divided it by 12.\n\n881\n00:44:41,930 --> 00:44:45,700\nSo I think the average month ends up\nbeing something like 30.1 day, or\n\n882\n00:44:45,700 --> 00:44:46,290\nsomething like that.\n\n883\n00:44:46,290 --> 00:44:49,360\nSo it is kind of averaged out\nto make it more accurate.\n\n884\n00:44:49,360 --> 00:44:51,330\nAnd then I took that to a per year cost.\n\n885\n00:44:51,330 --> 00:44:57,340\nSo, if I come up and create\na Linux AMI in the northeastern U.S.\n\n886\n00:44:57,340 --> 00:44:59,040\nregion, so in that North Virginia region.\n\n887\n00:45:00,410 --> 00:45:02,500\nRegions cost differently,\nI didn't account for that here, right?\n\n888\n00:45:02,500 --> 00:45:03,980\nThis is just a training tool.\n\n889\n00:45:03,980 --> 00:45:06,450\nSo, if I put a Linux instance, and\n\n890\n00:45:06,450 --> 00:45:11,390\nI do a small, then the average cost for\nthat is going to be $420 a year.\n\n891\n00:45:11,390 --> 00:45:12,870\nNow with a small, what do I get?\n\n892\n00:45:12,870 --> 00:45:16,290\nWell I kind of pulled some of that\nstuff too, that's in here somewhere.\n\n893\n00:45:16,290 --> 00:45:17,020\nHere.\n\n894\n00:45:17,020 --> 00:45:18,810\nSo that I could keep track\nof what you're getting.\n\n895\n00:45:18,810 --> 00:45:24,400\nSo on that small, yep 1.7 gigs of memory,\nand you get one virtual core in.\n\n896\n00:45:24,400 --> 00:45:27,360\nI haven't updated this to reflect\nthat these compute units are gone.\n\n897\n00:45:27,360 --> 00:45:28,870\nAmazon changed that.\n\n898\n00:45:28,870 --> 00:45:32,650\nYou used to have the burst stuff on\nall of the tiers, and that's gone now.\n\n899\n00:45:32,650 --> 00:45:36,400\nSo you get it more reliably, so\nthat's not necessarily accurate.\n\n900\n00:45:36,400 --> 00:45:37,580\nBut the memory is still accurate.\n\n901\n00:45:37,580 --> 00:45:40,170\nSo you get the information as far as\nhow much memory you're getting for\n\n902\n00:45:40,170 --> 00:45:41,250\neach of those instances.\n\n903\n00:45:42,920 --> 00:45:46,180\nBut the important part is that I took\nthose numbers and I laid them out, so\n\n904\n00:45:46,180 --> 00:45:51,270\nthat you could see it in terms of how\nmuch you'd be paying every month.\n\n905\n00:45:51,270 --> 00:45:53,780\nIt's hard because when you do\na one year or a three year term,\n\n906\n00:45:53,780 --> 00:45:56,480\nyou've got that upfront\ncost you have to pay for.\n\n907\n00:45:56,480 --> 00:45:57,390\nSo right on day one,\n\n908\n00:45:57,390 --> 00:46:01,920\nyou've got a big cost, versus if you do an\non demand, it's just per hours of usage.\n\n909\n00:46:01,920 --> 00:46:03,740\nSo, where does it break even?\n\n910\n00:46:03,740 --> 00:46:06,790\nWhere's the break even point\nfrom doing one versus the other?\n\n911\n00:46:06,790 --> 00:46:07,472\nAnd let me show you.\n\n912\n00:46:07,472 --> 00:46:09,860\nI'm gonna zoom in just\na little bit on this.\n\n913\n00:46:09,860 --> 00:46:12,690\nSo I'm gonna pick an instance type\nhere and I'm gonna do a medium.\n\n914\n00:46:14,000 --> 00:46:18,320\nSo I'll pick a standard medium, so\nit's letting out what I get, and\n\n915\n00:46:18,320 --> 00:46:22,925\nthen once I've got that,\nI have just my overall summary right here.\n\n916\n00:46:22,925 --> 00:46:25,715\nMy upfront cost if I do\na medium versus a or\n\n917\n00:46:25,715 --> 00:46:28,705\na on demand versus one year\nversus three year, right?\n\n918\n00:46:28,705 --> 00:46:31,325\nSo on a medium,\nthe on demand cost is zero dollars.\n\n919\n00:46:31,325 --> 00:46:32,955\nIt doesn't cost anything for on demand.\n\n920\n00:46:32,955 --> 00:46:35,325\nYou spin it up and\nyou use it, you pay per hour.\n\n921\n00:46:35,325 --> 00:46:36,732\nBut if I go one year term,\n\n922\n00:46:36,732 --> 00:46:40,940\nI've got a $444 upfront cost\nI've gotta pay to bring it up.\n\n923\n00:46:40,940 --> 00:46:43,270\nIf I do a three year term,\nit's $674 right?\n\n924\n00:46:43,270 --> 00:46:47,510\nThat's how much I've got to pay upfront\njust to get the server up and running.\n\n925\n00:46:47,510 --> 00:46:48,280\nAll right.\n\n926\n00:46:48,280 --> 00:46:53,540\nBut after that, notice that in\non demand has no upfront cost.\n\n927\n00:46:53,540 --> 00:46:57,193\nBut the monthly cost for\nthat on demand is $140.\n\n928\n00:46:57,193 --> 00:46:58,600\nOh you know, actually hang on,\nlet me change this.\n\n929\n00:46:58,600 --> 00:47:00,230\nThis is two servers.\n\n930\n00:47:00,230 --> 00:47:01,240\nI need to change my quantity.\n\n931\n00:47:01,240 --> 00:47:02,510\nI'm gonna to go down to one server.\n\n932\n00:47:02,510 --> 00:47:04,218\nThere we go.\nI thought those numbers\n\n933\n00:47:04,218 --> 00:47:05,401\nwere a little high.\n\n934\n00:47:05,401 --> 00:47:06,520\nThere we go.\n\n935\n00:47:06,520 --> 00:47:11,110\n$222 to bring up a one year term,\n$337 to go more.\n\n936\n00:47:11,110 --> 00:47:13,098\nAll right.\nBut then as we break it down,\n\n937\n00:47:13,098 --> 00:47:16,750\nthe typically monthly cost of\nthat on demand is gonna be $70.\n\n938\n00:47:16,750 --> 00:47:20,220\nRight so $70 a month for\nthe on demand instance.\n\n939\n00:47:20,220 --> 00:47:25,394\nBut a one year is only $13, and\na three year is only $10.95,\n\n940\n00:47:25,394 --> 00:47:27,190\nsignificantly cheaper.\n\n941\n00:47:27,190 --> 00:47:30,585\nSo you can see with that upfront cost,\nwe start to work it away.\n\n942\n00:47:30,585 --> 00:47:32,010\nRight?\nAt $70,\n\n943\n00:47:32,010 --> 00:47:36,430\na three year term is\nsaving us $60 a month.\n\n944\n00:47:36,430 --> 00:47:39,011\nAnd so\nif our three year term is $337 to start,\n\n945\n00:47:39,011 --> 00:47:42,835\nhow many months have to go by before\nwe've paid off that upfront, right?\n\n946\n00:47:42,835 --> 00:47:45,290\nWhen that happens that's\nour break even point.\n\n947\n00:47:45,290 --> 00:47:50,287\nThat's how we determine whether we're\ngonna be doing a on demand, one year, or\n\n948\n00:47:50,287 --> 00:47:51,104\nthree year.\n\n949\n00:47:51,104 --> 00:47:51,973\nAll right.\n\n950\n00:47:51,973 --> 00:47:53,824\nAnd that made sense to me, but\n\n951\n00:47:53,824 --> 00:47:57,093\nmy customers still weren't\nreally connecting it.\n\n952\n00:47:57,093 --> 00:47:58,793\nSo I made up a chart with colors.\n\n953\n00:47:58,793 --> 00:48:00,053\nPeople like colors, right?\n\n954\n00:48:00,053 --> 00:48:01,433\nPeople like charts.\n\n955\n00:48:01,433 --> 00:48:07,120\nAnd so what I did is I took it and\nbroke it into per month payments.\n\n956\n00:48:07,120 --> 00:48:09,080\nSo on month one here is\nwhat you are gonna pay,\n\n957\n00:48:09,080 --> 00:48:13,000\non month six here's what you are gonna\npay, on month 12, month 14 and so on.\n\n958\n00:48:13,000 --> 00:48:17,560\nLaying it out per month so you'd see what\nyou've paid for a on demand instance\n\n959\n00:48:17,560 --> 00:48:21,340\na reserved instance for one year, and\na reserved instance for three years.\n\n960\n00:48:21,340 --> 00:48:26,330\nAnd so you'll see on demand, we'll pay\n70 bucks a month for the life of that.\n\n961\n00:48:26,330 --> 00:48:26,980\nIt's on demand.\n\n962\n00:48:26,980 --> 00:48:30,950\nIf I run it 24 hours a day seven\ndays a week for a heavy utilization\n\n963\n00:48:30,950 --> 00:48:34,130\nmedium server I'm gonna be paying\n70 bucks a month, all right?\n\n964\n00:48:34,130 --> 00:48:37,070\nAnd so I have a two date\nexpense here that'll show.\n\n965\n00:48:37,070 --> 00:48:40,750\nThat's gonna cost me\n$840 in that first year.\n\n966\n00:48:40,750 --> 00:48:42,040\nAnd as we continue on.\n\n967\n00:48:43,670 --> 00:48:46,640\nwe'll see into the second year and\ninto the third year.\n\n968\n00:48:46,640 --> 00:48:51,018\nSo over the course of three years\nthat one server will cost me $2,500.\n\n969\n00:48:51,018 --> 00:48:52,900\nRight.\nIs that worth it?\n\n970\n00:48:52,900 --> 00:48:54,670\nWell if I go to Dell or\n\n971\n00:48:54,670 --> 00:49:00,130\nHP a server spec out like a medium\non Amazon is gonna be about $2,500.\n\n972\n00:49:00,130 --> 00:49:03,640\nSo should I just buy one from\nHP cuz then I'll have it?\n\n973\n00:49:03,640 --> 00:49:06,385\nWell HP is not including\na state of the art data center.\n\n974\n00:49:06,385 --> 00:49:09,090\nRight?\nRedundant power, redundant ISP's and all\n\n975\n00:49:09,090 --> 00:49:11,665\nthat stuff, they're not providing all that\nwith that physical server you just bought.\n\n976\n00:49:11,665 --> 00:49:12,590\nRight.\n\n977\n00:49:12,590 --> 00:49:13,525\nThat's the bonus.\n\n978\n00:49:13,525 --> 00:49:15,485\nRight?\nThat's the icing on the cake that makes us\n\n979\n00:49:15,485 --> 00:49:16,530\nwanna do this.\n\n980\n00:49:16,530 --> 00:49:18,146\nBut that's our three\nyear cost right there.\n\n981\n00:49:18,146 --> 00:49:20,530\nNow of one year.\n\n982\n00:49:20,530 --> 00:49:22,790\nIf we do a one year reserve\nthere's that up front cost.\n\n983\n00:49:22,790 --> 00:49:24,660\nSee my first month payment is $235.\n\n984\n00:49:24,660 --> 00:49:26,394\nThat's a lot of money.\n\n985\n00:49:26,394 --> 00:49:29,700\nRight?\nVersus just the $70 for a monthly.\n\n986\n00:49:29,700 --> 00:49:32,565\nBut that's because of the up front cost.\n\n987\n00:49:32,565 --> 00:49:34,540\n$222 of that was my up front cost.\n\n988\n00:49:34,540 --> 00:49:36,640\nSo in month two it drops.\n\n989\n00:49:36,640 --> 00:49:38,180\nAnd now its just 13 bucks.\n\n990\n00:49:38,180 --> 00:49:39,530\nAnd I'm paying $13 bucks a month.\n\n991\n00:49:39,530 --> 00:49:44,266\nAt the end of the first year that\nserver only costs me $379 versus\n\n992\n00:49:44,266 --> 00:49:47,460\nthe $840 on the other hand.\n\n993\n00:49:47,460 --> 00:49:52,420\nIf I know I'm gonna use the server for\nan entire year then it makes sense.\n\n994\n00:49:52,420 --> 00:49:56,700\nDo a reserve, you'll save 50% there,\nright, there's a big difference.\n\n995\n00:49:57,760 --> 00:49:59,230\nBut what if you just don't know.\n\n996\n00:49:59,230 --> 00:50:03,200\nI'm gonna bring up the server,\nmaybe I'll use it for three months.\n\n997\n00:50:03,200 --> 00:50:06,000\nMaybe I'll use it all year, I don't know.\n\n998\n00:50:06,000 --> 00:50:08,990\nWell, you have to ask\nyourself do I go ahead and\n\n999\n00:50:08,990 --> 00:50:12,060\ndo the one year even though I don't\nknow if I'm gonna use it for a year.\n\n1000\n00:50:12,060 --> 00:50:14,670\nThe trick there is to figure\nout the break even point.\n\n1001\n00:50:14,670 --> 00:50:17,040\nSee how I've got these green boxes here?\n\n1002\n00:50:17,040 --> 00:50:21,930\nThis is showing where it's most\noptimal to use an instance type.\n\n1003\n00:50:21,930 --> 00:50:27,640\nSo for the first three months, I will\nsave my money by going with an on demand.\n\n1004\n00:50:27,640 --> 00:50:31,700\nWith an on demand, at the end of\nmonth three, I'll have paid $210.\n\n1005\n00:50:31,700 --> 00:50:35,280\nAt the end of a one year, at three months,\nI'll have paid $261 more,\n\n1006\n00:50:35,280 --> 00:50:38,630\nso I save money for going on demand.\n\n1007\n00:50:38,630 --> 00:50:43,709\nThe instance I cross that threshold,\nwhen I get into month four, it changes.\n\n1008\n00:50:43,709 --> 00:50:44,280\nOkay?\n\n1009\n00:50:44,280 --> 00:50:49,100\nIt changes because now I'll have\npaid $280 for the on demand.\n\n1010\n00:50:49,100 --> 00:50:53,850\nBut only $274 for the one year.\n\n1011\n00:50:53,850 --> 00:50:57,300\nIf I decide at the end of four months\nI don't wanna use the service anymore,\n\n1012\n00:50:57,300 --> 00:51:00,920\nI am done, I could go to that one year and\nI could shut the server off.\n\n1013\n00:51:00,920 --> 00:51:01,505\nJust shut it off.\n\n1014\n00:51:01,505 --> 00:51:02,550\nRight?\n\n1015\n00:51:02,550 --> 00:51:05,790\nWhen you shut it off,\nyour remaining bills will go to zero.\n\n1016\n00:51:05,790 --> 00:51:07,025\nYou are not using it.\n\n1017\n00:51:07,025 --> 00:51:08,810\nRight?\nYou pay storage, but\n\n1018\n00:51:08,810 --> 00:51:10,870\nother than that it goes to zero.\n\n1019\n00:51:10,870 --> 00:51:13,410\nSo you stop having to pay for it and\n\n1020\n00:51:13,410 --> 00:51:18,100\nso, you've paid 274 versus the 280\nover here, you've saved money.\n\n1021\n00:51:18,100 --> 00:51:19,910\nSo even though you did a one year term,\n\n1022\n00:51:19,910 --> 00:51:23,900\nyou shut the VM off after three months and\nyou saved money.\n\n1023\n00:51:23,900 --> 00:51:28,820\nSo, if you know you're gonna use a VM for\nsix months go ahead and do the one year.\n\n1024\n00:51:28,820 --> 00:51:32,035\nDo the one year because you'll save\nmoney over an on demand over six months.\n\n1025\n00:51:32,035 --> 00:51:32,770\nRight.\n\n1026\n00:51:32,770 --> 00:51:34,700\nBut if you only need it for\none month, two months.\n\n1027\n00:51:34,700 --> 00:51:40,415\nIf this is a research project and you need\n500 servers for one month do on demand.\n\n1028\n00:51:40,415 --> 00:51:42,240\nRight?\nYou don't wanna pay for\n\n1029\n00:51:42,240 --> 00:51:44,465\n500 reserved instances if you\nonly need it for one month.\n\n1030\n00:51:44,465 --> 00:51:48,442\nOn-demand is designed for\nshort term projects.\n\n1031\n00:51:48,442 --> 00:51:49,520\nAll right.\n\n1032\n00:51:49,520 --> 00:51:51,360\nLess than three months.\n\n1033\n00:51:51,360 --> 00:51:56,500\nWhen we get into one year, these you\nknow are projects longer than a month.\n\n1034\n00:51:56,500 --> 00:51:59,680\nbut even those become less beneficial.\n\n1035\n00:51:59,680 --> 00:52:02,340\nYou can go to a three year instance, and\n\n1036\n00:52:02,340 --> 00:52:04,900\nnotice where there three year\nstarts to save us money.\n\n1037\n00:52:04,900 --> 00:52:06,770\nThe three year has a bigger up front cost,\nso\n\n1038\n00:52:06,770 --> 00:52:08,940\nright at the beginning\nwe're gonna pay more.\n\n1039\n00:52:08,940 --> 00:52:13,010\nBut as that year goes on the difference\nbetween the three year and\n\n1040\n00:52:13,010 --> 00:52:15,890\nthe one year gets closer and closer.\n\n1041\n00:52:15,890 --> 00:52:18,330\nAnd it's in year two that it flips.\n\n1042\n00:52:18,330 --> 00:52:21,730\nAnd the reason it flips\nis with a three year,\n\n1043\n00:52:21,730 --> 00:52:25,510\nthe up front is all right\nthere in month one.\n\n1044\n00:52:25,510 --> 00:52:27,520\nBut if I have a one year and\n\n1045\n00:52:27,520 --> 00:52:31,220\nI go into a second year I have\nto pay the up front again.\n\n1046\n00:52:31,220 --> 00:52:35,190\nIf I had to pay $220 in\nmonth one as my up front,\n\n1047\n00:52:35,190 --> 00:52:37,980\nI've gotta pay it again in month 13,\nand again in month 25.\n\n1048\n00:52:37,980 --> 00:52:42,630\nEach year I gotta pay that up\nfront on a one year reserve.\n\n1049\n00:52:42,630 --> 00:52:45,390\nBut on a three year you just\npay at the very beginning.\n\n1050\n00:52:45,390 --> 00:52:48,920\nAnd so as you continue on\nthe difference gets closer and closer.\n\n1051\n00:52:48,920 --> 00:52:53,050\nAnd right there in month 13\nthe three year saves you money.\n\n1052\n00:52:53,050 --> 00:52:56,850\nAnd in month 14 if you were to turn\nthat server off, just power it off and\n\n1053\n00:52:56,850 --> 00:53:01,676\nleave it off for\ntwo more years you'd save money right?\n\n1054\n00:53:01,676 --> 00:53:06,060\nYou'd save money because in month 14 I'll\nhave paid $490 here Versus $627 here.\n\n1055\n00:53:06,060 --> 00:53:08,800\nThat's a big difference.\n\n1056\n00:53:08,800 --> 00:53:13,590\nSo even though I don't need the server for\nthree years, if I only need the server for\n\n1057\n00:53:13,590 --> 00:53:17,440\n15 months, it would save money\nto do a three-year, right?\n\n1058\n00:53:17,440 --> 00:53:20,300\nThat's why we do reserved instances, okay.\n\n1059\n00:53:20,300 --> 00:53:23,090\nA reserved instance is a great way to\nsave money if you know you're gonna\n\n1060\n00:53:23,090 --> 00:53:24,580\nbe using the server for\na long period of time.\n\n1061\n00:53:26,270 --> 00:53:30,410\nIt's pretty much this pattern\nacross all the instances.\n\n1062\n00:53:30,410 --> 00:53:31,940\nSome of the instances\nare a little bit different.\n\n1063\n00:53:31,940 --> 00:53:35,820\nYou really notice the difference when\nyou start going into the high CPU ones.\n\n1064\n00:53:35,820 --> 00:53:40,170\nBut at the end of the day,\nif I bring up a medium server and\n\n1065\n00:53:40,170 --> 00:53:47,000\nI run that medium server for three years;\nIf I do an on demand it'll cost me $2500.\n\n1066\n00:53:47,000 --> 00:53:49,490\nIf I do one years, it'll cost me $1100.\n\n1067\n00:53:49,490 --> 00:53:52,180\nAnd if I do a three year, it will be $730.\n\n1068\n00:53:52,180 --> 00:53:53,450\nIt's a huge difference.\n\n1069\n00:53:53,450 --> 00:53:57,870\nHuge price difference based\non the reserve instance.\n\n1070\n00:53:57,870 --> 00:54:00,260\nSo, if you know you're gonna\nuse the server for a long time,\n\n1071\n00:54:00,260 --> 00:54:02,380\nit definitely makes sense\nto do the reserve instance.\n\n1072\n00:54:02,380 --> 00:54:04,400\nIf you know it's gonna be a short time,\nit's different.\n\n1073\n00:54:04,400 --> 00:54:07,990\nSo, that's why I put this spread sheet\ntogether, I just wanted to show people.\n\n1074\n00:54:07,990 --> 00:54:12,420\nWhen you see the green stop,\nright, that's when it's\n\n1075\n00:54:12,420 --> 00:54:14,550\nno longer optimal to do that one, and\nyou should go up to the next tier.\n\n1076\n00:54:14,550 --> 00:54:17,590\nAnd when you see green stop, that's\nwhen it's optimum to go to the next one.\n\n1077\n00:54:17,590 --> 00:54:20,580\nAnd I just, I had this weekend where\nI had a lot of time on my hands.\n\n1078\n00:54:20,580 --> 00:54:22,390\nAnd so\nI made this whole spreadsheet dynamic.\n\n1079\n00:54:22,390 --> 00:54:26,670\nSo you can go in and\npunch in all sort of crazy values in here.\n\n1080\n00:54:26,670 --> 00:54:28,430\nSo I'm gonna go with some.\n\n1081\n00:54:28,430 --> 00:54:32,580\nWe'll go high CPU,\nthe super extra large eight one.\n\n1082\n00:54:32,580 --> 00:54:36,060\nYou know, actually maybe I'll\nspin up like four of them.\n\n1083\n00:54:36,060 --> 00:54:38,270\nSo here i've got some project where\nI know what I'm gonna need, so\n\n1084\n00:54:38,270 --> 00:54:39,620\nwe'll punch in those values.\n\n1085\n00:54:39,620 --> 00:54:41,340\nAnd now we'll see that it updates, and\n\n1086\n00:54:41,340 --> 00:54:43,470\nI'll get that breakdown\nof the pricing structure.\n\n1087\n00:54:43,470 --> 00:54:46,140\nAnd we can see the huge\nprice difference on this.\n\n1088\n00:54:46,140 --> 00:54:50,825\nIf I were to do on-demands for these,,\nIt would be $60,000 over three years,\n\n1089\n00:54:50,825 --> 00:54:54,443\nversus if I did three year agreements,\nit would be $8,794.\n\n1090\n00:54:54,443 --> 00:54:56,840\nHuge difference, right?\n\n1091\n00:54:56,840 --> 00:54:58,370\nSo it's nice to be able to see this.\n\n1092\n00:54:58,370 --> 00:55:01,210\nI'm still kind of on the fence\nabout whether I wanna post this\n\n1093\n00:55:01,210 --> 00:55:01,980\nspreadsheet for you guys.\n\n1094\n00:55:01,980 --> 00:55:02,710\nI probably will.\n\n1095\n00:55:02,710 --> 00:55:04,450\nI'll probably go ahead and\nput it on the site.\n\n1096\n00:55:04,450 --> 00:55:09,050\nThe main reason I don't wanna post\nit is the pricing changes right so\n\n1097\n00:55:09,050 --> 00:55:12,630\nagain do not rely on my numbers\nto plan out your budget\n\n1098\n00:55:12,630 --> 00:55:16,130\nunderstand that Amazon's pricing changes\nfrequently I'm not linked into them this\n\n1099\n00:55:16,130 --> 00:55:21,240\nisn't tied to the website I manually type\nin the values if you do download this.\n\n1100\n00:55:21,240 --> 00:55:25,200\nAll you have to do is go to\nthe on demand instance tab.\n\n1101\n00:55:25,200 --> 00:55:28,100\nAnd you have to update the per hour cost.\n\n1102\n00:55:28,100 --> 00:55:31,270\nAnd then same thing on the reserved\ninstant side, the per hour cost and\n\n1103\n00:55:31,270 --> 00:55:32,730\nthe reserved instant three year.\n\n1104\n00:55:32,730 --> 00:55:35,980\nSo you just update those per hours and\nI guess the up fronts.\n\n1105\n00:55:35,980 --> 00:55:37,060\nUp fronts and the per hours and\n\n1106\n00:55:37,060 --> 00:55:39,430\nthe whole rest of the spread sheet\nwill dynamically update on it's own.\n\n1107\n00:55:40,680 --> 00:55:43,670\nAnd it made a graph,\neverybody likes graphs, right?\n\n1108\n00:55:43,670 --> 00:55:49,900\nAnd again the whole point of this\ngraph was just to show that over time,\n\n1109\n00:55:49,900 --> 00:55:55,350\nthat on demand instance starts to\ncost you more and more and more.\n\n1110\n00:55:55,350 --> 00:55:58,910\nVersus the one year and\nthree year reserves.\n\n1111\n00:55:58,910 --> 00:56:01,550\nWhich will save you money\nafter certain periods of time.\n\n1112\n00:56:01,550 --> 00:56:03,541\nSo keep that in mind as\nyou plan these instances.\n\n1113\n00:56:03,541 --> 00:56:06,901\nThat's a key part of\nunderstanding the pricing.\n\n1114\n00:56:06,901 --> 00:56:07,961\nAll right.\n\n1115\n00:56:07,961 --> 00:56:11,770\nThere is one last thing I\nwanna mention on pricing.\n\n1116\n00:56:11,770 --> 00:56:12,550\nOkay?\n\n1117\n00:56:12,550 --> 00:56:16,030\nMaybe you've got a short-term project and\nso you need some servers.\n\n1118\n00:56:16,030 --> 00:56:19,040\nYou need some processing power but\n\n1119\n00:56:19,040 --> 00:56:23,960\nyou're not in a hurry as\nfar as when this gets done.\n\n1120\n00:56:23,960 --> 00:56:26,100\nSo, I'm sequencing the human genome.\n\n1121\n00:56:26,100 --> 00:56:30,340\nI want it done, but that could happen\nthis month, that month, whatever.\n\n1122\n00:56:30,340 --> 00:56:35,850\nWell what Amazon does is every hour\nthey have a certain amount of unused\n\n1123\n00:56:35,850 --> 00:56:41,120\nresources that are left behind, resources\nthat weren't used by existing customers.\n\n1124\n00:56:41,120 --> 00:56:44,650\nSo they create what\nare called spot instances.\n\n1125\n00:56:44,650 --> 00:56:47,577\nSpot instances are what use the leftovers.\n\n1126\n00:56:47,577 --> 00:56:51,270\nEach hour there might be leftovers,\nthere might not.\n\n1127\n00:56:51,270 --> 00:56:52,100\nYou never know.\n\n1128\n00:56:52,100 --> 00:56:55,380\nSometimes there's no leftovers during\nan hour and that means there's no spot\n\n1129\n00:56:55,380 --> 00:56:59,820\ninstances, but if you're not in\na hurry you can use spot instances.\n\n1130\n00:56:59,820 --> 00:57:01,420\nAnd you'll get the leftovers,\nwhatever CPU and\n\n1131\n00:57:01,420 --> 00:57:04,370\nmemory is available, and\nyou get it a lot cheaper.\n\n1132\n00:57:04,370 --> 00:57:07,620\nYou're just taking up the slack for\nwhat the customers didn't pull.\n\n1133\n00:57:07,620 --> 00:57:10,110\nAnd so as you start to look\nat these instance types and\n\n1134\n00:57:10,110 --> 00:57:11,710\nyou look at the different\nreserved ones and\n\n1135\n00:57:11,710 --> 00:57:15,740\nso on, you'll also find documentation\nin here about spot instances.\n\n1136\n00:57:17,200 --> 00:57:17,840\nLet me just go over here.\n\n1137\n00:57:17,840 --> 00:57:22,500\nSo here's EC2 spot instances which\nare a great way to save money but\n\n1138\n00:57:22,500 --> 00:57:25,400\nactually get access to\nreally nice resources.\n\n1139\n00:57:25,400 --> 00:57:27,200\nAgain, if you're not in a hurry.\n\n1140\n00:57:27,200 --> 00:57:31,260\nAnd, so, if you look at it here they kinda\ndetail all the information on it and\n\n1141\n00:57:32,310 --> 00:57:33,420\nhere's the pricing.\n\n1142\n00:57:33,420 --> 00:57:38,442\nSo when we look at the pricing\nfrom medium instance it's .008.\n\n1143\n00:57:38,442 --> 00:57:41,263\nSo, it's not even $0.01 per hour.\n\n1144\n00:57:41,263 --> 00:57:44,460\nIt's really inexpensive.\n\n1145\n00:57:44,460 --> 00:57:48,320\nAnd the main reason it's so\nexpensive is, you may or may not get it.\n\n1146\n00:57:48,320 --> 00:57:50,360\nIt might be there, it might not.\n\n1147\n00:57:50,360 --> 00:57:50,880\nIt just depends.\n\n1148\n00:57:50,880 --> 00:57:52,550\nSo, if you're not in a hurry,\nyou can do this.\n\n1149\n00:57:52,550 --> 00:57:54,850\nAnd boy, does it save some money.\n\n1150\n00:57:54,850 --> 00:57:58,430\nThis is not suitable for hosting\nan email server or a web server that you\n\n1151\n00:57:58,430 --> 00:58:01,750\nalways need to be available, but\nif you're doing some high CPU stuff,\n\n1152\n00:58:01,750 --> 00:58:06,520\nif you need 500 CPUs,\nyou can do spot instances.\n\n1153\n00:58:06,520 --> 00:58:09,940\nJust do several mediums or\nseveral extra larges.\n\n1154\n00:58:09,940 --> 00:58:14,000\nAnd say hey,\nI want 64 extra large machines.\n\n1155\n00:58:14,000 --> 00:58:17,950\nAnd maybe one hour you get 30,\nand the next hour you get 40 and\n\n1156\n00:58:17,950 --> 00:58:21,440\nthe hour after that you only get 20 and\nit changes hour by hour, but\n\n1157\n00:58:21,440 --> 00:58:24,434\nat least you have them and\nyou're paying a fraction of the cost.\n\n1158\n00:58:24,434 --> 00:58:27,700\nAnd so you can't really estimate\nwhen your job is gonna finish but\n\n1159\n00:58:27,700 --> 00:58:29,300\nyou know it's not gonna cost so much.\n\n1160\n00:58:29,300 --> 00:58:32,700\nSo if you're on a budget,\nspot instances are another alternative.\n\n1161\n00:58:32,700 --> 00:58:35,750\nNot suitable for static resources,\nthings like email servers and so on,\n\n1162\n00:58:35,750 --> 00:58:37,160\nyou always need those up.\n\n1163\n00:58:37,160 --> 00:58:39,170\nBut, for mathematical processing,\n\n1164\n00:58:39,170 --> 00:58:41,810\nfor cluster computing it\nreally comes in handy.\n\n1165\n00:58:43,310 --> 00:58:48,300\nAll right, so I think that's enough\nabout pricing and kind of how it works.\n\n1166\n00:58:48,300 --> 00:58:51,130\nLike I said I'll probably post that\nspreadsheet for you guys to look at.\n\n1167\n00:58:51,130 --> 00:58:51,660\nIt's kind of neat.\n\n1168\n00:58:51,660 --> 00:58:53,600\nI think I have it as\na Google Docs spreadsheet too.\n\n1169\n00:58:53,600 --> 00:58:55,920\nSo, I'll look about posting\nthat on the site so\n\n1170\n00:58:55,920 --> 00:58:58,500\nyou guys can see it,\nbut it's kinda complex.\n\n1171\n00:58:58,500 --> 00:59:00,308\nHopefully I've shed some light on it and\n\n1172\n00:59:00,308 --> 00:59:02,750\ngiven you a little bit\nbetter understanding.\n\n1173\n00:59:02,750 --> 00:59:06,150\nBut remember, if you ever have any\nquestions you're free to ask, right?\n\n1174\n00:59:06,150 --> 00:59:08,960\nYou can go to ITPro.TV/live and\n\n1175\n00:59:08,960 --> 00:59:12,910\nduring the show you can post questions\nright there beneath the video.\n\n1176\n00:59:12,910 --> 00:59:14,879\nAfter the show we've got\nour Q & A section, so\n\n1177\n00:59:14,879 --> 00:59:18,450\nyou see the link at the top of\nthe ITProTV page, it says Q & A.\n\n1178\n00:59:18,450 --> 00:59:20,500\nIt'll take you in there and\nyou can post your questions and,\n\n1179\n00:59:20,500 --> 00:59:22,680\nagain, we monitor and\nanswer there too, so.\n\n1180\n00:59:22,680 --> 00:59:25,840\nAll right, well that pretty\nmuch wraps up pricing for us.\n\n1181\n00:59:25,840 --> 00:59:27,170\nI hope you guys enjoyed that.\n\n1182\n00:59:27,170 --> 00:59:27,670\nStay tuned.\n\n1183\n00:59:27,670 --> 00:59:30,450\nWe've got more\nAmazon Web Services coming up.\n\n",
          "vimeoId": "109003318"
        },
        {
          "description": "",
          "length": "847",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/003-Setting-Up-A-Demo-Account.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/003-Setting-Up-A-Demo-Account-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/003-Setting-Up-A-Demo-Account-sm.jpg",
          "title": "Setting Up A Demo Account",
          "transcript": "1\n00:00:00,025 --> 00:00:05,585\n[SOUND] In this segment,\nwe're gonna take a look\n\n2\n00:00:05,585 --> 00:00:11,987\nat setting up a demo account\nwith Amazon Web Services.\n\n3\n00:00:11,987 --> 00:00:15,730\nIf you're just getting started,\nand you wanna learn and practice,\n\n4\n00:00:15,730 --> 00:00:20,820\nkinda get exposed to Amazon AWS, it's hard\nto do it if you don't have access to it.\n\n5\n00:00:20,820 --> 00:00:24,820\nWell, one of the big problems that we hear\nfrom viewers is, you know, I don't have\n\n6\n00:00:24,820 --> 00:00:29,500\nthe money to start spinning up servers and\nincurring large bills with Amazon and\n\n7\n00:00:29,500 --> 00:00:32,660\nsome of the pricing can be a little\nuncertain so we worry about that.\n\n8\n00:00:32,660 --> 00:00:36,961\nWell fortunately Amazon has created\nwhat's called a free usage tier.\n\n9\n00:00:36,961 --> 00:00:42,042\nYou can sign up with AWS, create\na free demo account and have certain\n\n10\n00:00:42,042 --> 00:00:47,674\nresources you can spin up and you can run\nup to a year and not, not pay a dime.\n\n11\n00:00:47,674 --> 00:00:49,893\nAnd they do that specifically for\nlearning.\n\n12\n00:00:49,893 --> 00:00:53,693\nIf you wanna learn, if you wanna figure\nout how to use all of this and then go and\n\n13\n00:00:53,693 --> 00:00:56,148\nuse it in your business you\nneed some way to do it and\n\n14\n00:00:56,148 --> 00:00:58,170\nthe free usage here is the way we do it.\n\n15\n00:00:58,170 --> 00:01:02,040\nSo, I wanna show you guys that process\nshow you what the free usage tier is and\n\n16\n00:01:02,040 --> 00:01:03,540\nhow you set up the demo account.\n\n17\n00:01:03,540 --> 00:01:06,640\nBut if you do not need a demo, if you are\njust ready to go whole hog, you are just\n\n18\n00:01:06,640 --> 00:01:09,772\nready to start moving your servers into\nthe cloud, this is the same process.\n\n19\n00:01:09,772 --> 00:01:11,000\nYou still have to sign up for an account.\n\n20\n00:01:12,030 --> 00:01:15,050\nNow, one word of caution I\nwant to throw out to you guys.\n\n21\n00:01:15,050 --> 00:01:17,210\nA lot of us shop with Amazon.\n\n22\n00:01:17,210 --> 00:01:21,340\nI buy a ton of stuff from Amazon,\nI buy more stuff from Amazon than I do\n\n23\n00:01:21,340 --> 00:01:23,180\nfrom my local stores,\nwhich is probably a bad thing,\n\n24\n00:01:23,180 --> 00:01:27,230\nbut I think we all probably at some point\nor another, bought something from Amazon.\n\n25\n00:01:27,230 --> 00:01:30,620\nSo you're likely already have\na user account with them, right?\n\n26\n00:01:30,620 --> 00:01:37,110\nAnd it's tempting to use your same\nshopping account with Amazon Web Services.\n\n27\n00:01:37,110 --> 00:01:38,180\nYou can, it'll let you do it.\n\n28\n00:01:38,180 --> 00:01:39,410\nYou can have one account that does it all.\n\n29\n00:01:39,410 --> 00:01:40,680\nAll right.\n\n30\n00:01:40,680 --> 00:01:42,840\nBut I encourage you not to do that, right?\n\n31\n00:01:42,840 --> 00:01:46,880\nThe main reason is if you're credentials\nget out, if your username and\n\n32\n00:01:46,880 --> 00:01:48,610\npassword get compromised.\n\n33\n00:01:48,610 --> 00:01:51,830\nWell, if they can log into your\nAmazon Shopping account, what can they do?\n\n34\n00:01:51,830 --> 00:01:56,360\nThey could buy a few things and\nyou could contest it and it's no big deal.\n\n35\n00:01:56,360 --> 00:02:00,710\nBut if they log into your Amazon Web\nServices, they can delete your servers.\n\n36\n00:02:00,710 --> 00:02:01,830\nThey can delete your stores.\n\n37\n00:02:01,830 --> 00:02:06,290\nThey could spin up a ton of servers and\nstart doing BitCoin mining.\n\n38\n00:02:06,290 --> 00:02:08,870\nAnd all of the sudden, you get this\nmassive bill at the end of the month.\n\n39\n00:02:08,870 --> 00:02:12,120\nThere is a lot of damage that\nsomebody can do if they get into your\n\n40\n00:02:12,120 --> 00:02:13,652\nAmazon Web Services account.\n\n41\n00:02:13,652 --> 00:02:16,930\nAll right, so even if you\nalready have an Amazon account,\n\n42\n00:02:16,930 --> 00:02:21,640\nI recommend you create a dedicated\naccount just for managing AWS.\n\n43\n00:02:21,640 --> 00:02:23,340\nIt's a great idea.\n\n44\n00:02:23,340 --> 00:02:26,440\nWe'll see in some of the security segments\nlater on that there's other steps we can\n\n45\n00:02:26,440 --> 00:02:28,050\ntake to protect our account, but\n\n46\n00:02:28,050 --> 00:02:32,410\nstep one is just using a separate\naccount from your shopping account.\n\n47\n00:02:32,410 --> 00:02:37,030\nSo, I for one have got a Amazon Shopping\naccount that I use all the time and\n\n48\n00:02:37,030 --> 00:02:38,310\nI could log in with that.\n\n49\n00:02:38,310 --> 00:02:40,710\nI also have my Entertainment Live,\n\n50\n00:02:40,710 --> 00:02:44,010\nand ITProTV account that we\nactually host production stuff on.\n\n51\n00:02:44,010 --> 00:02:46,810\nBut here on the show I'm just going to\ncreate a new account that I'll be able to\n\n52\n00:02:46,810 --> 00:02:47,580\nuse as a demo.\n\n53\n00:02:47,580 --> 00:02:49,570\nThe same as what you guys would.\n\n54\n00:02:49,570 --> 00:02:53,130\nSo to get set up you\nbrowse to aws.amazon.com.\n\n55\n00:02:53,130 --> 00:02:55,470\nThat's the site for Amazon Web Services.\n\n56\n00:02:55,470 --> 00:02:57,120\nAnd you'll see right\nhere on the home page,\n\n57\n00:02:57,120 --> 00:02:59,290\nthey give you a description\nof what AWS is.\n\n58\n00:02:59,290 --> 00:03:02,520\nWhich you probably know if you've\nalready come to this page.\n\n59\n00:03:02,520 --> 00:03:06,000\nAnd they've got where you can\ncreate a free account, all right?\n\n60\n00:03:06,000 --> 00:03:09,310\nNow, it mentions right here\nthat you get started for free,\n\n61\n00:03:09,310 --> 00:03:13,315\nand there's this link right here that\nsays, View the free tier details.\n\n62\n00:03:13,315 --> 00:03:17,015\nAnd what it is basically a little\nsummary page that shows all of the stuff\n\n63\n00:03:17,015 --> 00:03:19,175\nthat you get for free.\n\n64\n00:03:19,175 --> 00:03:22,265\nSo, this is something that you can\nuse to set your limits, to say,\n\n65\n00:03:22,265 --> 00:03:25,835\nall right, as long as I don't go beyond\nthis I won't have to pay a dime.\n\n66\n00:03:25,835 --> 00:03:27,735\nBut if I choose to go production style,\n\n67\n00:03:27,735 --> 00:03:29,775\nI can just exceed these limits and\noff we go.\n\n68\n00:03:31,380 --> 00:03:35,040\nThe first thing to note about\nthe free usage tier is it's only good\n\n69\n00:03:35,040 --> 00:03:36,320\nfor 12 months.\n\n70\n00:03:36,320 --> 00:03:40,170\nSo, when you sign up, you get the free\nusage tier for your first year.\n\n71\n00:03:41,240 --> 00:03:46,140\nAfter that first year, your free stuff, if\nit's still there, you start paying for it.\n\n72\n00:03:46,140 --> 00:03:47,730\nSo if you're not gonna be using this,\n\n73\n00:03:47,730 --> 00:03:50,760\nit's important to remove\nthe things that you aren't using.\n\n74\n00:03:50,760 --> 00:03:53,270\nif you create some servers and you're\ndone with them, you need to delete them.\n\n75\n00:03:53,270 --> 00:03:57,410\nIf you create some S3 buckets with\nsome storage, you need to delete them.\n\n76\n00:03:57,410 --> 00:04:02,110\nThere are free usage amounts for\nnon-free usage tiers.\n\n77\n00:04:02,110 --> 00:04:04,220\nSo what we're seeing here\nis in the first year.\n\n78\n00:04:04,220 --> 00:04:08,038\nBut beyond your first year there is\nstuff that Amazon gives out for free.\n\n79\n00:04:08,038 --> 00:04:12,360\nAll right, so keep that in mind, too, that\njust because your free usage tier is over\n\n80\n00:04:12,360 --> 00:04:14,190\ndoesn't mean all the free stuff is gone.\n\n81\n00:04:14,190 --> 00:04:16,452\nThere is some.\nWe'll look at that a little bit later in\n\n82\n00:04:16,452 --> 00:04:17,206\nthe show.\n\n83\n00:04:17,206 --> 00:04:21,040\nAll right, so as I scroll down we can\nsee the main products from Amazon.\n\n84\n00:04:21,040 --> 00:04:22,390\nThe big ones that we worry about.\n\n85\n00:04:22,390 --> 00:04:23,470\nThe first one is Amazon EC2.\n\n86\n00:04:23,470 --> 00:04:25,940\nThat's where we can spin up servers.\n\n87\n00:04:25,940 --> 00:04:30,930\nAnd you will see where you get\n750 hours per month of Linux,\n\n88\n00:04:30,930 --> 00:04:35,400\nRed Hat Enterprise Linux or\nSUSE Linux T2 micro instance.\n\n89\n00:04:35,400 --> 00:04:37,180\nYou can bring up a micro server.\n\n90\n00:04:37,180 --> 00:04:42,400\nIt's not a great server, it's got almost\n700 megs of memory, which is not a ton.\n\n91\n00:04:42,400 --> 00:04:45,960\nBut it comes up, and I think it's got 4\ngigs of storage or 8 gigs of storage,\n\n92\n00:04:45,960 --> 00:04:49,850\nwhich is plenty for bringing up a server\nand bringing up a simple website.\n\n93\n00:04:49,850 --> 00:04:52,450\nYou're not going to be able to host any\nproduction stuff on this because it's just\n\n94\n00:04:52,450 --> 00:04:54,060\nnot gonna be able to support it.\n\n95\n00:04:54,060 --> 00:04:56,990\nBut it's enough to test and learn with.\n\n96\n00:04:56,990 --> 00:05:01,460\nYou can bring it up for\n750 hours per month.\n\n97\n00:05:01,460 --> 00:05:02,730\nNow why 750 hours?\n\n98\n00:05:02,730 --> 00:05:04,930\nWell, if I fire up my trusty calculator,\n\n99\n00:05:06,070 --> 00:05:10,770\nif there are 24 hours in a day, and\nthe longest month of the year is 31 days.\n\n100\n00:05:10,770 --> 00:05:12,770\nWell, that's 744 hours.\n\n101\n00:05:12,770 --> 00:05:13,270\nAll right?\n\n102\n00:05:14,770 --> 00:05:20,170\nSo basically what they're saying\nis you can run a microserver for\n\n103\n00:05:20,170 --> 00:05:22,265\n24 hours a day, 7 days a week,\n\n104\n00:05:22,265 --> 00:05:26,485\n365 days for that first year of your\nfree usage tier and not pay a dime.\n\n105\n00:05:27,655 --> 00:05:29,865\nBut it is just one server.\n\n106\n00:05:29,865 --> 00:05:34,155\nIf you spin up a second server,\nit's gonna cost, right?\n\n107\n00:05:34,155 --> 00:05:37,372\nWell, they actually do give you\na second server the first one is Linux\n\n108\n00:05:37,372 --> 00:05:38,467\nthe second one is Windows.\n\n109\n00:05:38,467 --> 00:05:42,572\n750 hours per month of\na Windows T2 micro incidence.\n\n110\n00:05:42,572 --> 00:05:46,832\nSo you can actually bring up one\nLinux box and one Windows box and\n\n111\n00:05:46,832 --> 00:05:48,900\nhave them running side\nby side completely free.\n\n112\n00:05:48,900 --> 00:05:50,750\nAll right, now,\n\n113\n00:05:50,750 --> 00:05:54,260\nremember if you start spinning up other\ninstances then it does cost money.\n\n114\n00:05:54,260 --> 00:05:58,640\nBut the other instances they really\nstart at about $0.02 per hour.\n\n115\n00:05:58,640 --> 00:06:00,840\nSo, if you're gonna be doing\nsome studying one weekend and\n\n116\n00:06:00,840 --> 00:06:02,670\nyou want to bring up five\nmore servers just for\n\n117\n00:06:02,670 --> 00:06:07,440\ntwo hours while you study, it might\ncost you $1.50, or something like that.\n\n118\n00:06:07,440 --> 00:06:09,330\nSo we're not talking about huge\namounts of money if you just\n\n119\n00:06:09,330 --> 00:06:10,520\nrun it for a little while.\n\n120\n00:06:10,520 --> 00:06:12,580\nBut if you forget, and\nleave it running for\n\n121\n00:06:12,580 --> 00:06:15,050\nweeks on end,\nyou're gonna get charged for that.\n\n122\n00:06:15,050 --> 00:06:17,260\nSo always be aware of your limit.\n\n123\n00:06:17,260 --> 00:06:20,720\nNow it does say right here,\nrun one instance at a time, or\n\n124\n00:06:20,720 --> 00:06:22,320\nmultiple instances simultaneously.\n\n125\n00:06:23,493 --> 00:06:28,185\nOf your Linux and your windows instances\nat the same time and they're both covered.\n\n126\n00:06:30,005 --> 00:06:33,595\nAlright, Amazon S3 is the other big\nproduct and that's where we have storage.\n\n127\n00:06:33,595 --> 00:06:37,995\nThey give you five gigs of storage, so you\ncan put five gigabytes of data up there,\n\n128\n00:06:37,995 --> 00:06:43,165\nthey won't charge you a dime for it, but\nyou are limited to 20,000 get requests.\n\n129\n00:06:43,165 --> 00:06:45,165\nNow what's a get request?\n\n130\n00:06:45,165 --> 00:06:46,200\nWell.\n\n131\n00:06:46,200 --> 00:06:49,750\nYou can actually host\na website from Amazon S3.\n\n132\n00:06:49,750 --> 00:06:52,880\nYou can put your entire website in S3.\n\n133\n00:06:52,880 --> 00:06:54,720\nIf it's a static website.\n\n134\n00:06:54,720 --> 00:06:57,570\nIf it does things like PHP\nthat's not gonna work out.\n\n135\n00:06:57,570 --> 00:07:00,500\nBut if you have a static website,\nyou can put the whole thing in S3 and\n\n136\n00:07:00,500 --> 00:07:03,360\npeople could actually browse to it and\nsee data.\n\n137\n00:07:03,360 --> 00:07:09,350\nSo, get requests, or when somebody\nretrieves a file from your S3 storage,\n\n138\n00:07:09,350 --> 00:07:12,580\nand that might be downloading a file, or\nmight be viewing a website or whatever,\n\n139\n00:07:12,580 --> 00:07:16,020\nbut each time they pull a file out of S3,\nthat's a get request.\n\n140\n00:07:16,020 --> 00:07:17,380\nAnd a put request.\n\n141\n00:07:17,380 --> 00:07:21,330\nThat's you updating data or\nputting new data into S3.\n\n142\n00:07:21,330 --> 00:07:23,280\nAnd you're limited to 2000 of those.\n\n143\n00:07:23,280 --> 00:07:26,270\nYou have 5 GB of storage, but\nyou just can't keep writing and\n\n144\n00:07:26,270 --> 00:07:26,830\nwriting and writing.\n\n145\n00:07:26,830 --> 00:07:27,450\nDelete.\nWrite.\n\n146\n00:07:27,450 --> 00:07:27,950\nWrite.\nWrite.\n\n147\n00:07:27,950 --> 00:07:29,150\nDelete.\nOver and Over.\n\n148\n00:07:29,150 --> 00:07:32,000\nThey'll cut you off at 2000 and\nafter that you have to start paying.\n\n149\n00:07:32,000 --> 00:07:36,270\nNow those numbers are well above what most\npeople are going to use in the testing and\n\n150\n00:07:36,270 --> 00:07:36,955\ndevelopment phases.\n\n151\n00:07:38,470 --> 00:07:39,060\nAll right.\n\n152\n00:07:39,060 --> 00:07:42,380\nThere's several other services that\nare listed that you get free access to,\n\n153\n00:07:42,380 --> 00:07:45,430\nlike their Monitoring and\nAnalytics, Cognito for\n\n154\n00:07:45,430 --> 00:07:49,000\nuser account management,\nDynamoDB for their NoSQL.\n\n155\n00:07:49,000 --> 00:07:50,510\nSo there's a few of those.\n\n156\n00:07:50,510 --> 00:07:52,590\nOne of the things they don't call\na lot of attention to is this,\n\n157\n00:07:52,590 --> 00:07:54,150\nshow all products link.\n\n158\n00:07:54,150 --> 00:07:58,360\nAnd you'll find that there's free\nusage tiers for just about everything.\n\n159\n00:07:58,360 --> 00:08:02,140\nSo, you'll see Elastic Beanstalk,\nCloudFront, RDS,\n\n160\n00:08:02,140 --> 00:08:04,150\nthe relational database services.\n\n161\n00:08:04,150 --> 00:08:07,090\nSo there you can bring up a MySQL box,\na Postgress SQL,\n\n162\n00:08:07,090 --> 00:08:09,550\nyou can bring up any of\nthese different services.\n\n163\n00:08:09,550 --> 00:08:14,130\nAnd you'll see here where you\nget 750 hours of a micro db,\n\n164\n00:08:14,130 --> 00:08:20,920\nyou get 20 gigs of database storage, and\n20 gigs of backups with 10 million IOs.\n\n165\n00:08:20,920 --> 00:08:24,930\nYou know, databases we measure in\nhow they access the file system.\n\n166\n00:08:24,930 --> 00:08:27,690\nSo when they're inputting and\noutputting data on that file system into\n\n167\n00:08:27,690 --> 00:08:29,820\nthe database,\nthat's what you're limited on.\n\n168\n00:08:29,820 --> 00:08:31,950\nAnd so\nyou could bring up an Oracle instance.\n\n169\n00:08:31,950 --> 00:08:35,670\nIt would be a micro instance, so\nit won't be able to handle a ton of load.\n\n170\n00:08:35,670 --> 00:08:37,630\nBut for testing and practicing,\nyou could bring it up.\n\n171\n00:08:37,630 --> 00:08:41,030\nAnd run it for weeks, months,\nhowever long you want it.\n\n172\n00:08:41,030 --> 00:08:43,850\nYou get 750 hours for that first year.\n\n173\n00:08:43,850 --> 00:08:45,540\nSo another great way to experience that.\n\n174\n00:08:46,560 --> 00:08:47,470\nAll right.\n\n175\n00:08:47,470 --> 00:08:50,278\nIf you look at other things\nlike the Elastic Load Balancer.\n\n176\n00:08:50,278 --> 00:08:53,250\nDoing load balancing is really\nimportant for redundancy and\n\n177\n00:08:53,250 --> 00:08:55,430\nbeing able to scale up and scale down.\n\n178\n00:08:55,430 --> 00:08:56,620\nSo we'll see that.\n\n179\n00:08:56,620 --> 00:09:00,330\nSome of the other things, the Elastic\nTranscoder, that one's pretty limited.\n\n180\n00:09:00,330 --> 00:09:04,870\nYou're limited to about twenty minutes\nof audio, SD, and HD transcoding.\n\n181\n00:09:04,870 --> 00:09:07,810\nAnd that's because transcoding\nis really CPU intensive.\n\n182\n00:09:07,810 --> 00:09:10,520\nSo they can't give you all\nthat much free for that.\n\n183\n00:09:12,760 --> 00:09:13,650\nSome of the other ones,\n\n184\n00:09:13,650 --> 00:09:17,450\nmost of this other stuff you may or\nmay not actually take advantage of.\n\n185\n00:09:17,450 --> 00:09:19,000\nBut you get a lot.\n\n186\n00:09:19,000 --> 00:09:22,868\nThere are a ton of free tier services that\nyou get when you sign up for the account.\n\n187\n00:09:22,868 --> 00:09:24,438\nAll right.\n\n188\n00:09:24,438 --> 00:09:26,860\nNow, what happens when\nthat one year runs out?\n\n189\n00:09:26,860 --> 00:09:27,970\nRight.\nWhen the one year runs out,\n\n190\n00:09:27,970 --> 00:09:29,580\nnow we have to start paying things.\n\n191\n00:09:29,580 --> 00:09:32,550\nBut you still have free access for\nsome of the services.\n\n192\n00:09:32,550 --> 00:09:36,010\nSo, if we go into,\nlike here, I'll go into EC2.\n\n193\n00:09:37,810 --> 00:09:40,110\nWhen you go into EC2's pricing,\n\n194\n00:09:40,110 --> 00:09:46,040\nwhat you'll find is where there's the free\nusage tier, which is for that first year.\n\n195\n00:09:46,040 --> 00:09:49,450\nAnd then after the first year,\neverything pretty much goes pay.\n\n196\n00:09:49,450 --> 00:09:51,450\nSo you'll see all of\nthe pay scales right there.\n\n197\n00:09:51,450 --> 00:09:54,930\nSo you pretty much have to\npay after that first year.\n\n198\n00:09:54,930 --> 00:09:56,580\nBut if you go to other services,\n\n199\n00:09:56,580 --> 00:10:00,860\nlike instead of EC2,\nif we go to, let's go to S3.\n\n200\n00:10:00,860 --> 00:10:04,940\nS3 always has a little\nbit of free storage and\n\n201\n00:10:04,940 --> 00:10:09,215\nI'm not on the right page.\n\n202\n00:10:09,215 --> 00:10:09,894\nHere we go pricing.\n\n203\n00:10:09,894 --> 00:10:13,910\nSo when you go into S3 you'll see where,\nactually I might be wrong on this.\n\n204\n00:10:13,910 --> 00:10:18,000\nI thought S3 had some free storage but\nI guess not.\n\n205\n00:10:18,000 --> 00:10:21,470\nSome of them you'll find out, though,\nthat they do have free access even after.\n\n206\n00:10:21,470 --> 00:10:23,120\nBut it will usually be\na very small amount.\n\n207\n00:10:23,120 --> 00:10:24,180\nSo just be aware of that.\n\n208\n00:10:25,380 --> 00:10:27,630\nAll right, so if we are ready to\nsign up for that demo account and\n\n209\n00:10:27,630 --> 00:10:28,390\ngive things a try.\n\n210\n00:10:28,390 --> 00:10:29,490\nThere's no risk, right?\n\n211\n00:10:29,490 --> 00:10:30,490\nSo why not.\n\n212\n00:10:30,490 --> 00:10:31,710\nWe go to create a free account,\n\n213\n00:10:31,710 --> 00:10:35,370\nand you'll have to provide them with\nsome basic information to get set up.\n\n214\n00:10:35,370 --> 00:10:38,840\nHere's that part where you've got\nthat temptation of going in and\n\n215\n00:10:38,840 --> 00:10:40,450\nusing your shopping account.\n\n216\n00:10:40,450 --> 00:10:41,360\nDon't do that, right.\n\n217\n00:10:41,360 --> 00:10:42,110\nUse something else.\n\n218\n00:10:42,110 --> 00:10:45,760\nSo I've actually set up a special\nemail just to use for this one.\n\n219\n00:10:45,760 --> 00:10:47,070\nSo this is going to be my AWS demo.\n\n220\n00:10:47,070 --> 00:10:49,130\nAnd I'll say that I'm a new user.\n\n221\n00:10:51,130 --> 00:10:53,690\nAnd it's going to make me specify\nsome additional information.\n\n222\n00:10:53,690 --> 00:10:55,060\nSo I'll be Don Pezet today.\n\n223\n00:10:57,060 --> 00:10:59,712\nAnd we'll type my email\ntwice in case I can't read.\n\n224\n00:10:59,712 --> 00:11:03,790\n[LAUGH] I always get frustrated when\nyou have to type the email twice.\n\n225\n00:11:03,790 --> 00:11:06,870\nAnd then I need to pick\na password to use for my account.\n\n226\n00:11:06,870 --> 00:11:10,470\nNow, you do wanna pick a fairly secure\npassword, but we'll see that there's\n\n227\n00:11:10,470 --> 00:11:14,320\nactually some multifactor authentication\nand things like that that we can turn on.\n\n228\n00:11:14,320 --> 00:11:16,640\nThat make it a lot more useful.\n\n229\n00:11:16,640 --> 00:11:17,230\nThere we go.\nSo\n\n230\n00:11:17,230 --> 00:11:20,370\nonce I got my account created,\nwe can sign up for AWS.\n\n231\n00:11:23,020 --> 00:11:24,940\nLooks like we got some kind of an error.\n\n232\n00:11:26,260 --> 00:11:27,390\nBut it's still letting me get through.\n\n233\n00:11:27,390 --> 00:11:28,880\nSo I'll try and push through.\n\n234\n00:11:28,880 --> 00:11:31,810\nSays there was an error\nprocessing my request but\n\n235\n00:11:31,810 --> 00:11:33,330\nwe'll see if that actually interferes.\n\n236\n00:11:33,330 --> 00:11:34,020\nAll right.\nSo I'll go in and\n\n237\n00:11:34,020 --> 00:11:35,360\nstart to punch in my name.\n\n238\n00:11:35,360 --> 00:11:37,180\nYou know, my company.\n\n239\n00:11:37,180 --> 00:11:38,780\nI work for EdutainmentLIVE.\n\n240\n00:11:38,780 --> 00:11:41,000\nMy country is the United States.\n\n241\n00:11:41,000 --> 00:11:44,570\nAnd we'll just fill all this,\nnothing too special here.\n\n242\n00:11:44,570 --> 00:11:47,240\nThey need this information on you because\nthey are going to be billing, right?\n\n243\n00:11:47,240 --> 00:11:49,290\nSo they've got to be\nable to track all that.\n\n244\n00:11:49,290 --> 00:11:54,300\nAnd report it back, so\nwe'll just feed them the information.\n\n245\n00:11:54,300 --> 00:11:56,760\nI'm using an incognito window here, and\n\n246\n00:11:56,760 --> 00:12:01,880\nthe main reason I'm doing that is because\nI do have production amazon accounts in\n\n247\n00:12:01,880 --> 00:12:05,710\nmy main web browser, and I don't want\nany of my credentials to pass over.\n\n248\n00:12:05,710 --> 00:12:10,340\nIncognito mode is a great way to separate\nout accounts to ensure that you don't get\n\n249\n00:12:10,340 --> 00:12:10,870\ncrossover.\n\n250\n00:12:10,870 --> 00:12:14,650\nI would hate to accidentally do something\non my production Amazon account when I'm\n\n251\n00:12:14,650 --> 00:12:16,360\nhere in my demo account.\n\n252\n00:12:16,360 --> 00:12:18,730\nIn Google Chrome, it's called incognito.\n\n253\n00:12:18,730 --> 00:12:21,190\nIn Internet Explorer,\nit's called InPrivate.\n\n254\n00:12:21,190 --> 00:12:25,940\nIn Firefox, it's called, oh shoot, I've\nforgotten what it's called in Firefox.\n\n255\n00:12:25,940 --> 00:12:29,490\nWell, anyhow, they all have this kind\nof privacy mode you can go into, so.\n\n256\n00:12:31,950 --> 00:12:34,190\nSo we'll just punch this information in,\nand\n\n257\n00:12:34,190 --> 00:12:36,750\nI've got to give it my\noffice phone number here.\n\n258\n00:12:36,750 --> 00:12:39,190\nAnd I've got to pass the CAPTCHA.\n\n259\n00:12:39,190 --> 00:12:40,290\nSo we'll do that.\n\n260\n00:12:40,290 --> 00:12:43,720\nThis is all the fun stuff you guys hate\nwhen you sign up for webpages, but\n\n261\n00:12:43,720 --> 00:12:45,210\nyou understand why they do it, right?\n\n262\n00:12:45,210 --> 00:12:48,110\nThey've got to make sure\nthat bots aren't happening.\n\n263\n00:12:48,110 --> 00:12:50,770\nIf you could automate this process,\nyou could spend up millions of\n\n264\n00:12:50,770 --> 00:12:54,010\nmicro instances and\nreally get some processor power out of it.\n\n265\n00:12:54,010 --> 00:12:55,350\nSo that's what they're trying to prevent.\n\n266\n00:12:56,440 --> 00:12:58,770\nAll right, so I'll go ahead and\ncreate that account.\n\n267\n00:12:58,770 --> 00:12:59,880\nIt shouldn't be too much.\n\n268\n00:12:59,880 --> 00:13:02,200\nIt might do some account verification,\nand we'll see.\n\n269\n00:13:02,200 --> 00:13:05,870\nBut once we've got it, your free usage\ntier starts right away, all right?\n\n270\n00:13:05,870 --> 00:13:08,960\nSo my free usage tier for\nthis account started right now.\n\n271\n00:13:08,960 --> 00:13:11,080\nAnd I have got twelve months\nto take advantage of that.\n\n272\n00:13:11,080 --> 00:13:13,710\nAnd if I go above it,\nI am going to get billed.\n\n273\n00:13:13,710 --> 00:13:15,970\nSo I do need to provide\nsome billing information,\n\n274\n00:13:15,970 --> 00:13:17,760\nyou will put a credit card on file.\n\n275\n00:13:17,760 --> 00:13:20,080\nThe credit card is the preferred\nmethod of payment.\n\n276\n00:13:20,080 --> 00:13:23,260\nThey do have other ways, like they can\ndraft right out of your bank account and\n\n277\n00:13:23,260 --> 00:13:26,960\nso on if you want to go that route,\nbut credit card is the most common.\n\n278\n00:13:28,270 --> 00:13:32,760\nOnce that's set up, you'll now be able\nto go to the Amazon Web Services and\n\n279\n00:13:32,760 --> 00:13:35,750\nget logged in and\nyou'll be able to start spinning stuff up.\n\n280\n00:13:35,750 --> 00:13:38,120\nSo you'll be ready to jump\nto our other segments.\n\n281\n00:13:38,120 --> 00:13:42,284\nWe start showing how to configure\neach of the different instances.\n\n282\n00:13:42,284 --> 00:13:45,708\nFor the free tier, there's nothing\nelse we need to do, it's activated and\n\n283\n00:13:45,708 --> 00:13:47,056\nwe start to spin up our stuff.\n\n284\n00:13:47,056 --> 00:13:50,591\nBut it's up to us to use restraint to make\nsure we stay within our free tier and\n\n285\n00:13:50,591 --> 00:13:52,870\ndon't incur any extra billing.\n\n286\n00:13:52,870 --> 00:13:54,680\nAlright, well I'm not going to wait for\nthis form to finish.\n\n287\n00:13:54,680 --> 00:13:56,100\nWe'll just stop here.\n\n288\n00:13:56,100 --> 00:13:59,870\nMake sure you check back in though because\nwe're going to have more segments as we go\n\n289\n00:13:59,870 --> 00:14:03,830\ninto all of the individual AWS\nservices and get them configured.\n\n290\n00:14:03,830 --> 00:14:05,720\nSo, I hope you guys enjoyed the segment.\n\n291\n00:14:05,720 --> 00:14:06,410\nI'll see you next time.\n\n",
          "vimeoId": "109003321"
        },
        {
          "description": "",
          "length": "1840",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/004-Getting-Started-With-EC2.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/004-Getting-Started-With-EC2-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/004-Getting-Started-With-EC2-sm.jpg",
          "title": "Getting Started With EC2",
          "transcript": "1\n00:00:00,025 --> 00:00:05,056\n[SOUND] In this segment we're gonna take\n\n2\n00:00:05,056 --> 00:00:10,544\na look at the EC2 administration panel and\n\n3\n00:00:10,544 --> 00:00:16,040\nkind of our first overview of the service.\n\n4\n00:00:16,040 --> 00:00:20,137\nThe first time that you log into your\nAWS console and you jump into EC2,\n\n5\n00:00:20,137 --> 00:00:22,450\nit can be a little overwhelming.\n\n6\n00:00:22,450 --> 00:00:24,240\nSo we're gonna just kinda wade in and\n\n7\n00:00:24,240 --> 00:00:27,930\ntake a look at the user interface and\nwhat's really being presented to us.\n\n8\n00:00:27,930 --> 00:00:29,880\nSo I've logged in with\nmy demo account here.\n\n9\n00:00:29,880 --> 00:00:31,510\nI'm logged into AWS.\n\n10\n00:00:31,510 --> 00:00:34,730\nAnd the first time you log in you'll\nbe presented with your AWS console,\n\n11\n00:00:34,730 --> 00:00:39,480\nwhich is really just a list of\nall the services from Amazon.\n\n12\n00:00:39,480 --> 00:00:43,820\nAnd the one I want is EC2 so I'm gonna\nchoose EC2 right there out of my list.\n\n13\n00:00:43,820 --> 00:00:46,800\nNow, if EC2 is the only thing you're\ngonna be using and you're not gonna use\n\n14\n00:00:46,800 --> 00:00:50,410\nany of these other services, one of\nthe things I like to do is way down here,\n\n15\n00:00:50,410 --> 00:00:53,000\nat the bottom right,\nyou've got Set Start Page.\n\n16\n00:00:53,000 --> 00:00:57,380\nAnd you can change that to default\nto any one of the various services.\n\n17\n00:00:57,380 --> 00:00:59,200\nSo I can actually have\nit default to EC2 so\n\n18\n00:00:59,200 --> 00:01:03,380\nin the future when I log in,\nit'll just go straight to the EC2 panel.\n\n19\n00:01:03,380 --> 00:01:06,190\nYou can still get back to this\nconsole home if you want, but\n\n20\n00:01:06,190 --> 00:01:07,640\nit'll take you right there.\n\n21\n00:01:07,640 --> 00:01:09,440\nFor me, that's what I normally want.\n\n22\n00:01:09,440 --> 00:01:12,690\nEC2 is what I work with\nthe most inside of AWS.\n\n23\n00:01:12,690 --> 00:01:14,180\nThe other services are important too,\n\n24\n00:01:14,180 --> 00:01:17,120\nbut most of the other services we set and\nforget.\n\n25\n00:01:17,120 --> 00:01:18,760\nYou just turn them on and that's it.\n\n26\n00:01:18,760 --> 00:01:20,630\nBut EC2 we're constantly interacting with.\n\n27\n00:01:20,630 --> 00:01:22,350\nSo you can change that behavior,\nif you want.\n\n28\n00:01:23,430 --> 00:01:24,318\nBut I'm gonna go into EC2.\n\n29\n00:01:24,318 --> 00:01:28,265\nAnd what we're looking at here\nis the EC2 administrative panel.\n\n30\n00:01:28,265 --> 00:01:30,690\nIt's a little bit overwhelming, right?\n\n31\n00:01:30,690 --> 00:01:33,870\nIt's all text based,\nthe only image is the one button, and\n\n32\n00:01:33,870 --> 00:01:37,080\nthe rest of it is just a ton of\ntext that's being thrown at us.\n\n33\n00:01:37,080 --> 00:01:39,760\nSo let's talk a little bit about\nwhat's here on the screen and\n\n34\n00:01:39,760 --> 00:01:41,560\nwhat we're really dealing with.\n\n35\n00:01:41,560 --> 00:01:43,340\nOn the left side is our navigation tree,\n\n36\n00:01:43,340 --> 00:01:47,430\nand this is what we're gonna use to\nget to the specific areas we need.\n\n37\n00:01:47,430 --> 00:01:50,760\nThe reason this first screen is so\noverwhelming is that it's an overview.\n\n38\n00:01:50,760 --> 00:01:53,370\nIt's trying to give us a little\nbit of information from\n\n39\n00:01:53,370 --> 00:01:57,450\nall of these areas over here,\nand that can be a bit burdensome.\n\n40\n00:01:57,450 --> 00:01:59,060\nIt can be quite a bit.\n\n41\n00:01:59,060 --> 00:02:02,840\nAnd every now and then, you'll get little\nmessages like this one which are informing\n\n42\n00:02:02,840 --> 00:02:05,920\nyou about some new service, and\nyou may or may not need that.\n\n43\n00:02:05,920 --> 00:02:09,270\nThis one here is saying I could easily\ndeploy my web applications with\n\n44\n00:02:09,270 --> 00:02:10,240\nElastic Beanstalk.\n\n45\n00:02:10,240 --> 00:02:11,900\nI should learn about that.\n\n46\n00:02:11,900 --> 00:02:15,970\nBut if you just hide that it goes away, so\nit's a little less clutter on the screen.\n\n47\n00:02:15,970 --> 00:02:18,420\nYou'll see things like that\npop up from time to time.\n\n48\n00:02:18,420 --> 00:02:22,900\nBut in the summary right here I can\nsee what services I'm using right now.\n\n49\n00:02:22,900 --> 00:02:26,800\nIf you just brought up a brand new\naccount, you'll see mostly zeroes.\n\n50\n00:02:26,800 --> 00:02:29,430\nThe only one that won't be\nzeroed is a security group.\n\n51\n00:02:29,430 --> 00:02:33,290\nThe security group is how we control\nwho's allowed to access what resources.\n\n52\n00:02:33,290 --> 00:02:38,020\nAnd when you sign up for an account,\nAmazon creates one security group for you.\n\n53\n00:02:38,020 --> 00:02:41,670\nBefore it's all said and done, you'll\nusually have quite a few security groups.\n\n54\n00:02:41,670 --> 00:02:42,920\nThey don't bill for those.\n\n55\n00:02:42,920 --> 00:02:45,580\nThey're like software firewalls we use for\ncontrolling access.\n\n56\n00:02:45,580 --> 00:02:49,170\nSo it's just a part of the security\nfeatures inside of AWS.\n\n57\n00:02:49,170 --> 00:02:51,040\nBut the rest of this stuff\nis pretty important.\n\n58\n00:02:51,040 --> 00:02:53,400\nThis very first one is really important.\n\n59\n00:02:53,400 --> 00:02:55,510\nIt's running instances.\n\n60\n00:02:55,510 --> 00:02:57,357\nThose are the virtual machines,\nthe servers,\n\n61\n00:02:57,357 --> 00:03:00,080\nthat are running in your\nenvironment right now.\n\n62\n00:03:00,080 --> 00:03:03,480\nIn other words, these are the servers\nyou're paying for right now.\n\n63\n00:03:03,480 --> 00:03:06,550\nWhen you're running a server,\nyou pay for CPU and RAM, and\n\n64\n00:03:06,550 --> 00:03:10,100\nwhen they're turned on and running,\nyou're paying for that CPU and RAM.\n\n65\n00:03:10,100 --> 00:03:12,690\nWhen they're shut off,\nyou're just paying for storage.\n\n66\n00:03:12,690 --> 00:03:16,030\nNow the storage, those are hard drives,\nand those show up right here.\n\n67\n00:03:16,030 --> 00:03:17,330\nVolumes, all right?\n\n68\n00:03:17,330 --> 00:03:20,600\nSo volumes, those are the hard drives that\nare attached to your virtual machines and,\n\n69\n00:03:20,600 --> 00:03:21,460\nagain, you pay for those.\n\n70\n00:03:22,800 --> 00:03:24,600\nWe have key pairs.\n\n71\n00:03:24,600 --> 00:03:28,500\nIf you're bringing up Linux servers,\nor servers that you're gonna SSH or\n\n72\n00:03:28,500 --> 00:03:31,990\nconnect into, you'll likely use\ncertificate-based authentication, and\n\n73\n00:03:31,990 --> 00:03:34,640\nyou'll create key pairs\nto provide that access.\n\n74\n00:03:34,640 --> 00:03:36,640\nAnd you may have zero, you may have 100.\n\n75\n00:03:36,640 --> 00:03:40,210\nIt depends on how many employees\nyou want working in those servers.\n\n76\n00:03:40,210 --> 00:03:46,310\nPlacement groups are a part of\nthe scalability inside of Amazon.\n\n77\n00:03:46,310 --> 00:03:50,895\nWhen you dynamically bring up a server,\nso if you tell the system hey, I've got\n\n78\n00:03:50,895 --> 00:03:54,000\na web server and when it gets busy, I want\nyou to spawn another one and when it gets\n\n79\n00:03:54,000 --> 00:03:58,220\nbusy, spawn a third one and a fourth one\nor spawn 50 of them, however many, right?\n\n80\n00:03:58,220 --> 00:03:59,930\nHow does it know where to put those?\n\n81\n00:03:59,930 --> 00:04:04,870\nYou may want some to go in the Northern\nVirginia Data Center number three, and\n\n82\n00:04:04,870 --> 00:04:08,860\nothers in the Data Center number one so\nthat you get multi-site redundancy.\n\n83\n00:04:08,860 --> 00:04:11,210\nWell, you create placement\ngroups to define that.\n\n84\n00:04:11,210 --> 00:04:13,100\nAnd so you'll just have a number\nhere indicating how many\n\n85\n00:04:13,100 --> 00:04:13,840\nplacement groups you have.\n\n86\n00:04:15,170 --> 00:04:16,560\nElastic IPs.\n\n87\n00:04:16,560 --> 00:04:19,040\nThose are the static IPs for your servers.\n\n88\n00:04:19,040 --> 00:04:21,710\nWhen you bring a server up in Amazon,\nevery time you\n\n89\n00:04:24,460 --> 00:04:27,960\nshut it down and power it back on,\nit'll get a new IP address.\n\n90\n00:04:27,960 --> 00:04:31,120\nIf you just do a reboot,\nlike a warm reboot, it won't get a new IP.\n\n91\n00:04:31,120 --> 00:04:32,650\nBut if you shut it down,\n\n92\n00:04:32,650 --> 00:04:35,560\nthe next time you turn it on\nit'll get a different IP address.\n\n93\n00:04:35,560 --> 00:04:39,100\nIf you want it to have the same IP address\nevery time, you have to get an elastic IP,\n\n94\n00:04:39,100 --> 00:04:42,130\nand so you've got your total right there.\n\n95\n00:04:42,130 --> 00:04:43,300\nOur snapshots.\n\n96\n00:04:43,300 --> 00:04:47,520\nIf you want to take a quick backup of\na server, you can take a snapshot.\n\n97\n00:04:47,520 --> 00:04:50,170\nAnd those snapshots you have to pay for\nthe storage, right, so\n\n98\n00:04:50,170 --> 00:04:52,370\nwhere they're stored in S3.\n\n99\n00:04:52,370 --> 00:04:54,080\nBut otherwise they're just quick and\n\n100\n00:04:54,080 --> 00:04:56,620\neasy you can do it while\nthe servers online or offline.\n\n101\n00:04:56,620 --> 00:04:57,660\nYou have the flexibility there.\n\n102\n00:04:58,960 --> 00:05:00,210\nLoad balancers.\n\n103\n00:05:00,210 --> 00:05:03,912\nIf I have more than one web server,\nhow do I balance my customers across it?\n\n104\n00:05:03,912 --> 00:05:05,189\nI use load balancers.\n\n105\n00:05:05,189 --> 00:05:08,470\nAnd so Amazon has built-in load balancing\nsystems that we can bring up, and\n\n106\n00:05:08,470 --> 00:05:10,730\nyou'll get your quantity right there.\n\n107\n00:05:10,730 --> 00:05:12,620\nAnd then lastly,\nthe security groups that I mentioned.\n\n108\n00:05:12,620 --> 00:05:15,490\nThe firewalls, and\nhow many of those we've created too.\n\n109\n00:05:15,490 --> 00:05:17,460\nMost of these are virtual resources.\n\n110\n00:05:17,460 --> 00:05:18,720\nIt's not like physical hardware.\n\n111\n00:05:18,720 --> 00:05:22,180\nSo we can spawn these, create them and\nremove them whenever we want, right,\n\n112\n00:05:22,180 --> 00:05:23,160\nso really, really flexible.\n\n113\n00:05:24,370 --> 00:05:27,300\nAfter that, we see some general\ninformation that's pretty useful.\n\n114\n00:05:27,300 --> 00:05:28,190\nCreate an instance.\n\n115\n00:05:28,190 --> 00:05:29,230\nThat's what most people want to do.\n\n116\n00:05:29,230 --> 00:05:31,320\nThey want to jump right in and\ncreate a server.\n\n117\n00:05:31,320 --> 00:05:33,958\nSo we've got a button right here that\nwill take us right to that process.\n\n118\n00:05:33,958 --> 00:05:35,711\nI'm gonna save that for another segment.\n\n119\n00:05:35,711 --> 00:05:38,200\nThen we get our service health.\n\n120\n00:05:38,200 --> 00:05:43,350\nIf you're ever having problems with your\nservers, they're collocated at Amazon.\n\n121\n00:05:43,350 --> 00:05:45,640\nSo maybe the problem's not your fault.\n\n122\n00:05:45,640 --> 00:05:47,130\nMaybe it's Amazon's fault.\n\n123\n00:05:47,130 --> 00:05:50,050\nAnd so they've got a nice little\nhealth dashboard right here,\n\n124\n00:05:50,050 --> 00:05:53,740\nwhere you can see each of the regions\nthat you're currently working in.\n\n125\n00:05:53,740 --> 00:05:56,310\nAnd by default you'll see some\nof the different ones here.\n\n126\n00:05:56,310 --> 00:05:58,350\nI'm seeing the West Coast ones right now.\n\n127\n00:05:58,350 --> 00:06:02,540\nAnd I can see that I'm up and healthy,\nnothing crazy going on there.\n\n128\n00:06:02,540 --> 00:06:07,110\nIf I wanna the other reasons,\nif I wanna see US East or\n\n129\n00:06:07,110 --> 00:06:11,670\none of the other guys,\nright now I'm defaulting to US West.\n\n130\n00:06:11,670 --> 00:06:14,260\nBut I can go down here to\nthe Service Health Dashboard, and\n\n131\n00:06:14,260 --> 00:06:18,140\nthat'll take me into a screen where I'll\nget to see all of the different locations\n\n132\n00:06:18,140 --> 00:06:20,770\nin North America,\nSouth America, Europe and Asia.\n\n133\n00:06:20,770 --> 00:06:22,970\nAnd you can look and\nsee if there are issues.\n\n134\n00:06:22,970 --> 00:06:25,540\nAnd don't be surprised if you see issues.\n\n135\n00:06:25,540 --> 00:06:27,030\nIssues happen, right?\n\n136\n00:06:27,030 --> 00:06:30,248\nBut they've got multiple data centers\nto be able to correct for that.\n\n137\n00:06:30,248 --> 00:06:34,590\nAnd as I kind of skim down the list here,\nI don't see any issues right now.\n\n138\n00:06:34,590 --> 00:06:37,986\nBut one of the nice things you can do is\nover here you can subscribe to an RSS\n\n139\n00:06:37,986 --> 00:06:41,716\nfeed, so you can set up alerts so that you\nget notified when there's a problem in\n\n140\n00:06:41,716 --> 00:06:44,018\na data center that you've\ngot systems in place.\n\n141\n00:06:46,957 --> 00:06:47,621\nAll right,\n\n142\n00:06:47,621 --> 00:06:52,330\nthe other stuff that we have over here on\nthe right are just frequently used things.\n\n143\n00:06:52,330 --> 00:06:54,900\nYou'll have links to go to\nsupported platforms and\n\n144\n00:06:54,900 --> 00:06:58,530\nyour default VPC,\nwhich is a virtual private cloud.\n\n145\n00:06:58,530 --> 00:07:02,240\nYou technically have one\nVPC created automatically,\n\n146\n00:07:02,240 --> 00:07:04,820\nalthough it doesn't really show up,\nand that's just where your servers go\n\n147\n00:07:04,820 --> 00:07:07,710\nuntil you start dividing your\nnetwork up and you can create more.\n\n148\n00:07:07,710 --> 00:07:10,390\nThe rest of this is just help and\ngeneral information.\n\n149\n00:07:10,390 --> 00:07:14,530\nSo all the documentation for Amazon,\nand their documentation's really good.\n\n150\n00:07:14,530 --> 00:07:18,390\nThey go in a lot of good detail, they\nprovide links to various resources, and\n\n151\n00:07:18,390 --> 00:07:21,670\nthey have a community forum where you\ncan post questions and get answers.\n\n152\n00:07:21,670 --> 00:07:25,730\nNow if you're a paid account, you can\nactually call Amazon up for support or\n\n153\n00:07:25,730 --> 00:07:27,060\ndo a live chat.\n\n154\n00:07:27,060 --> 00:07:30,440\nBut if you're in the free usage tier,\nyou can send them an email or\n\n155\n00:07:30,440 --> 00:07:31,400\nyou can use the community.\n\n156\n00:07:31,400 --> 00:07:32,890\nIt's up to you how you want to go.\n\n157\n00:07:32,890 --> 00:07:36,700\nSo you'll see forums right there,\npricing and contact.\n\n158\n00:07:36,700 --> 00:07:38,730\nThen you've got the AWS Marketplace.\n\n159\n00:07:38,730 --> 00:07:42,573\nThe AWS Marketplace is really cool,\nbecause if you're gonna bring up a new\n\n160\n00:07:42,573 --> 00:07:45,440\nserver and you wanna run\na certain set of applications,\n\n161\n00:07:45,440 --> 00:07:49,550\nsomebody else may have already built\na virtual machine that does that.\n\n162\n00:07:49,550 --> 00:07:51,211\nAnd so you can go and\nget it out of the Marketplace.\n\n163\n00:07:51,211 --> 00:07:52,579\nNow I know it's called the Marketplace and\n\n164\n00:07:52,579 --> 00:07:54,067\nit sounds like you have to pay for\neverything.\n\n165\n00:07:54,067 --> 00:07:56,064\nA lot of stuff in the Marketplace is free.\n\n166\n00:07:56,064 --> 00:07:59,847\nIf you wanna bring up a Drupal server\nYou could go on the marketplace and\n\n167\n00:07:59,847 --> 00:08:03,840\nfind where somebody's already made\na Drupal VM, and it may well be free.\n\n168\n00:08:03,840 --> 00:08:04,630\nAnd you can spin it up,\n\n169\n00:08:04,630 --> 00:08:06,930\nand now you don't have to worry about\nthe configuration, it comes up.\n\n170\n00:08:06,930 --> 00:08:10,310\nNow that requires a level of trust with\nthe vendor that built that VM, right?\n\n171\n00:08:10,310 --> 00:08:12,930\nSo you might be better off\nbuilding your own, but\n\n172\n00:08:12,930 --> 00:08:14,130\nit is kinda nice to have that resource.\n\n173\n00:08:14,130 --> 00:08:18,510\nAnd there's a lot of paid products\nout there that you could go out and\n\n174\n00:08:18,510 --> 00:08:21,030\nbuy the software and\nsetup your own server, but\n\n175\n00:08:21,030 --> 00:08:25,840\nif you use their AWS marketplace machine,\nthey'll support it for you.\n\n176\n00:08:25,840 --> 00:08:29,450\nSo you buy the product on\na server running in the cloud,\n\n177\n00:08:29,450 --> 00:08:32,630\nyou control the server, but\nthey'll support it for you.\n\n178\n00:08:32,630 --> 00:08:34,460\nIt's kind of a great mix there.\n\n179\n00:08:34,460 --> 00:08:37,390\nAnd makes it real easy to\ndeploy complex technologies.\n\n180\n00:08:37,390 --> 00:08:38,940\nAll right, so\nyou'll see a lot of neat stuff in there,\n\n181\n00:08:38,940 --> 00:08:41,740\nlike here's a firewall vpn\nsystem you can deploy, or\n\n182\n00:08:41,740 --> 00:08:46,060\na threat manager, ColdDusion servers,\nall sorts of stuff that's in there.\n\n183\n00:08:46,060 --> 00:08:48,380\nIf you're ever bored,\nbrowse around the AWS marketplace.\n\n184\n00:08:48,380 --> 00:08:50,150\nYou'd be surprised,\nthe stuff you can find in there.\n\n185\n00:08:51,700 --> 00:08:54,070\nAll right, but\nthat's just our overview screen.\n\n186\n00:08:54,070 --> 00:08:56,940\nAfter that we get all\nthe individual services.\n\n187\n00:08:56,940 --> 00:09:00,100\nAnd we're gonna do other segments that\ncover a lot of these specifically, but\n\n188\n00:09:00,100 --> 00:09:02,280\nlet me just do a high level\noverview of each one.\n\n189\n00:09:03,410 --> 00:09:07,450\nThe dashboard, what I'm on right now,\nthat's just an overview of my system and\n\n190\n00:09:07,450 --> 00:09:11,100\nit doesn't give me a ton of information\nit's just real high level, but\n\n191\n00:09:11,100 --> 00:09:13,900\nif you go to Events,\nthis is like an audit log.\n\n192\n00:09:13,900 --> 00:09:17,450\nAnd it'll show the activities that\nhave been happening on your system.\n\n193\n00:09:17,450 --> 00:09:18,870\nHas a server been shut down?\n\n194\n00:09:18,870 --> 00:09:20,040\nDid a server crash?\n\n195\n00:09:20,040 --> 00:09:21,460\nDid a backup run?\n\n196\n00:09:21,460 --> 00:09:25,290\nThis is where I go just to see\nwhat's going going on on my network.\n\n197\n00:09:25,290 --> 00:09:27,800\nIf I wake up in the morning,\nwhat happened overnight?\n\n198\n00:09:27,800 --> 00:09:28,380\nI don't know.\n\n199\n00:09:28,380 --> 00:09:30,782\nI log right in here to Events,\nand I can see what's going on.\n\n200\n00:09:30,782 --> 00:09:34,600\nSo a quick status, it's fully filterable,\nso you can search and query through this.\n\n201\n00:09:34,600 --> 00:09:38,230\nYou can pull a lot of good data out of it.\n\n202\n00:09:38,230 --> 00:09:42,500\nTags, if you're managing\nthousands of virtual machines,\n\n203\n00:09:42,500 --> 00:09:44,770\nit gets really difficult\nto keep track of them.\n\n204\n00:09:44,770 --> 00:09:47,630\nSo you can use tags to\nstart classifying them.\n\n205\n00:09:47,630 --> 00:09:51,756\nSo you can tag them as production\nversus sandbox versus Q&A,\n\n206\n00:09:51,756 --> 00:09:54,520\nor whatever, and you can filter and\nview them based on that.\n\n207\n00:09:54,520 --> 00:09:56,840\nSo here's where we can create those tags,\nand\n\n208\n00:09:56,840 --> 00:09:59,990\nthen we attach them to our virtual\nmachines to use as filtering.\n\n209\n00:09:59,990 --> 00:10:01,970\nI know a lot of people don't use this.\n\n210\n00:10:01,970 --> 00:10:05,820\nIf you've only got ten servers, you\nprobably don't need to deal with the tags.\n\n211\n00:10:05,820 --> 00:10:08,058\nBut if you're dealing with\na large quantity of servers,\n\n212\n00:10:08,058 --> 00:10:08,970\nit's extremely useful.\n\n213\n00:10:10,730 --> 00:10:12,080\nThen we've got reports.\n\n214\n00:10:12,080 --> 00:10:14,710\nEC2 has very detailed reporting systems.\n\n215\n00:10:14,710 --> 00:10:17,840\nNow there's actually two different levels\nthat we'll learn about a little bit later.\n\n216\n00:10:17,840 --> 00:10:20,880\nThere's the basic levels of\nreporting that are included and\n\n217\n00:10:20,880 --> 00:10:22,480\nare just a part of your system.\n\n218\n00:10:22,480 --> 00:10:24,930\nYou need to have that reporting because\nthat's how they bill you, right?\n\n219\n00:10:24,930 --> 00:10:26,660\nYou need to know when servers are up and\ndown.\n\n220\n00:10:26,660 --> 00:10:29,050\nThat's how they figure out how to\ncharge you at the end of the month.\n\n221\n00:10:29,050 --> 00:10:32,590\nBut it's useful for you too, cuz you\ncan see utilization on your system.\n\n222\n00:10:32,590 --> 00:10:36,650\nYou can use it to gauge whether or\nnot your systems are underspeced and\n\n223\n00:10:36,650 --> 00:10:38,240\nneed to be upgraded to support your load.\n\n224\n00:10:38,240 --> 00:10:39,720\nYou can see a lot there.\n\n225\n00:10:39,720 --> 00:10:43,430\nWe'll see monitoring in another segment\nwhere we'll talk about CloudWatch.\n\n226\n00:10:43,430 --> 00:10:47,650\nCloudWatch has super detailed reporting,\nreally in depth,\n\n227\n00:10:47,650 --> 00:10:50,720\nwhere you can see some great\ninformation about your systems.\n\n228\n00:10:50,720 --> 00:10:53,720\nThat is not part of the default free tier,\n\n229\n00:10:53,720 --> 00:10:57,229\nand well, I think they do have\na certain free level for CloudWatch,\n\n230\n00:10:57,229 --> 00:11:01,685\nbut this reporting here is just the basic,\nfree, what's built into your account.\n\n231\n00:11:01,685 --> 00:11:04,350\nCloudWatch goes far more in depth and\nhas to be turned on, so\n\n232\n00:11:04,350 --> 00:11:05,360\nwe'll see a little bit of that later.\n\n233\n00:11:06,900 --> 00:11:08,960\nYou also have your limits, all right?\n\n234\n00:11:08,960 --> 00:11:10,590\nNow the limits are arbitrary.\n\n235\n00:11:10,590 --> 00:11:13,000\nAnd if you look,\nyou'll see you've got limits here.\n\n236\n00:11:13,000 --> 00:11:16,430\nAnd notice on the right, every single\none of them has request limit increase.\n\n237\n00:11:16,430 --> 00:11:18,360\nWhy is there a limit on your system?\n\n238\n00:11:18,360 --> 00:11:21,780\nWell, remember what I said,\nyou pay for what you use.\n\n239\n00:11:21,780 --> 00:11:24,850\nSo the more resources you consume,\nthe more you're gonna have to pay.\n\n240\n00:11:24,850 --> 00:11:28,460\nWell, one of the cool parts about\nAmazon is you can set up auto scaling.\n\n241\n00:11:28,460 --> 00:11:32,050\nIf your server gets busy, it can spin\nup a second server, or a third, or\n\n242\n00:11:32,050 --> 00:11:32,770\na fourth, or a fifth.\n\n243\n00:11:32,770 --> 00:11:35,050\nIt can spin up more servers\nto react to your load.\n\n244\n00:11:35,050 --> 00:11:36,890\nWell what if your website goes viral?\n\n245\n00:11:36,890 --> 00:11:39,420\nAnd all of a sudden, people\nare linking to it all over the world.\n\n246\n00:11:39,420 --> 00:11:41,190\nA lot of us hope for that, right?\n\n247\n00:11:41,190 --> 00:11:42,920\nOh please, let me have my site go viral.\n\n248\n00:11:42,920 --> 00:11:46,690\nBut the negative side of that is you'll\nget a huge amount of traffic, and\n\n249\n00:11:46,690 --> 00:11:49,980\nAmazon will start spinning more and\nmore and more servers, and\n\n250\n00:11:49,980 --> 00:11:52,140\nyour bill is going up and up and up.\n\n251\n00:11:52,140 --> 00:11:54,330\nAnd just because people\nare watching your video on YouTube,\n\n252\n00:11:54,330 --> 00:11:55,740\ndoesn't mean they're buying your products.\n\n253\n00:11:55,740 --> 00:12:01,080\nSo there's not necessarily a level of\nincome to match the load that's coming in.\n\n254\n00:12:01,080 --> 00:12:03,470\nSo there's these arbitrary\nlimits that are set.\n\n255\n00:12:03,470 --> 00:12:06,780\nThat just say, hey, we can spin up this\nmany instances, and then it stops.\n\n256\n00:12:07,800 --> 00:12:10,870\nAnd it won't let anymore to spin up and\nit's to protect you.\n\n257\n00:12:10,870 --> 00:12:13,820\nTo make sure that your bill\ndoesn't go through the roof.\n\n258\n00:12:13,820 --> 00:12:15,220\nBut these limits can be changed.\n\n259\n00:12:15,220 --> 00:12:18,280\nYou can go in and request a limit\nincrease on any of these, and\n\n260\n00:12:18,280 --> 00:12:21,420\nthey'll bump it up, and\nthen you'll be able to spin up more.\n\n261\n00:12:21,420 --> 00:12:24,340\nNotice that most of the instances\nare limited to two, so\n\n262\n00:12:24,340 --> 00:12:28,290\nI can create two of the C3\ndouble extra large instances.\n\n263\n00:12:28,290 --> 00:12:31,560\nAnd I can create two of the C1\nextra large, and so on.\n\n264\n00:12:31,560 --> 00:12:35,670\nSo you've got certain limits,\nbut other ones, like the 8X and\n\n265\n00:12:35,670 --> 00:12:38,110\n4X, those are pretty expensive servers.\n\n266\n00:12:38,110 --> 00:12:40,220\nThey can rack up the bill really fast.\n\n267\n00:12:40,220 --> 00:12:41,770\nSo the current limit is zero, and\n\n268\n00:12:41,770 --> 00:12:45,890\nif I want to spin any of those up,\nI've got to request a limit increase.\n\n269\n00:12:45,890 --> 00:12:49,220\nAnd you just click on that, and so\nI can take my medium instances here and\n\n270\n00:12:49,220 --> 00:12:50,610\nrequest a limit increase.\n\n271\n00:12:50,610 --> 00:12:52,800\nAnd when you do that,\nit'll take you to a support center, and\n\n272\n00:12:52,800 --> 00:12:53,700\nyou just submit a ticket.\n\n273\n00:12:53,700 --> 00:12:55,590\nAnd you say what region\nyou're working on and\n\n274\n00:12:55,590 --> 00:12:59,480\nwhat you want that new limit to be,\nand they'll bump it up.\n\n275\n00:12:59,480 --> 00:13:01,300\nIt usually happens pretty quickly.\n\n276\n00:13:01,300 --> 00:13:03,690\nIt usually only takes about an hour or\ntwo for them to do it.\n\n277\n00:13:03,690 --> 00:13:08,120\nI've never had them reject a request,\nbut I'm sure it could happen.\n\n278\n00:13:08,120 --> 00:13:11,190\nBut you just fill out that information and\nthey'll bump up that limit for you.\n\n279\n00:13:11,190 --> 00:13:12,618\nIt's just a protection mechanism for you.\n\n280\n00:13:15,800 --> 00:13:20,890\nLet's see, under instances, this is where\nmost of our action is gonna happen.\n\n281\n00:13:20,890 --> 00:13:23,100\nInstances are the virtual machines.\n\n282\n00:13:23,100 --> 00:13:25,480\nWhat we call virtual machines,\nthey call instances.\n\n283\n00:13:25,480 --> 00:13:29,890\nSo you bring up instances of a VM, and\nyou can bring up as many as you want,\n\n284\n00:13:29,890 --> 00:13:32,260\nwell, within the limits that we just saw.\n\n285\n00:13:32,260 --> 00:13:34,320\nWhen you're running systems,\nthey'll show up here.\n\n286\n00:13:34,320 --> 00:13:38,060\nYou'll see systems that are running as\nwell as systems that are shut down.\n\n287\n00:13:38,060 --> 00:13:39,980\nA shut down system you just pay for\nthe storage,\n\n288\n00:13:39,980 --> 00:13:41,230\nrunning one you've got to pay for\neverything.\n\n289\n00:13:41,230 --> 00:13:42,700\nBut you'll see it all right here.\n\n290\n00:13:42,700 --> 00:13:43,430\nAnd you'll get a list.\n\n291\n00:13:43,430 --> 00:13:45,100\nAnd it's just telling me I don't have any.\n\n292\n00:13:45,100 --> 00:13:49,540\nNotice it says, you do not have any\nrunning instances in this region.\n\n293\n00:13:49,540 --> 00:13:51,540\nSo I'm looking at a particular\nregion right now.\n\n294\n00:13:51,540 --> 00:13:55,690\nSee my URL up here says region US West-2.\n\n295\n00:13:55,690 --> 00:13:59,670\nSo I'm in one region, I might need\nto switch to look at other regions.\n\n296\n00:13:59,670 --> 00:14:03,660\nAnd up here in my status bar,\nsee how I'm set to Oregon right now?\n\n297\n00:14:03,660 --> 00:14:07,800\nIf I drop that down I can pick US East or\none of the other ones.\n\n298\n00:14:07,800 --> 00:14:10,700\nAnd I can see my instances\nthat are in that region.\n\n299\n00:14:10,700 --> 00:14:11,890\nI don't have any there either, so\n\n300\n00:14:11,890 --> 00:14:14,470\nwhen I switch over now it\njust shows that I don't.\n\n301\n00:14:14,470 --> 00:14:16,520\nSo just be aware in your title bar or\n\n302\n00:14:16,520 --> 00:14:19,370\nin your status bar you've\ngot that Virginia link.\n\n303\n00:14:19,370 --> 00:14:22,110\nAnd there's where you can go and\nchange that to pick different areas.\n\n304\n00:14:24,650 --> 00:14:25,870\nI say it's the Virginia link.\n\n305\n00:14:25,870 --> 00:14:27,740\nIt's Virgina because\nthat's what I just picked.\n\n306\n00:14:27,740 --> 00:14:29,710\nBut here's my default, somewhere else.\n\n307\n00:14:29,710 --> 00:14:31,925\nOregon, Singapore, South Paulo, wherever.\n\n308\n00:14:33,950 --> 00:14:38,270\nSpot requests,\nspot requests are special instances.\n\n309\n00:14:38,270 --> 00:14:40,300\nThey're instances that you're\nnot guaranteed to have.\n\n310\n00:14:40,300 --> 00:14:46,510\nYou basically bid or pay for leftover\nresources that Amazon may or may not have.\n\n311\n00:14:46,510 --> 00:14:50,810\nIn a given hour, Amazon has a lot of\nhardware that doesn't get used and so\n\n312\n00:14:50,810 --> 00:14:52,920\nyou can reserve it at a cheaper rate.\n\n313\n00:14:52,920 --> 00:14:56,170\nBut it's not really reserved, if\nsomebody's willing to pay the full rate,\n\n314\n00:14:56,170 --> 00:14:57,210\nthey get first access.\n\n315\n00:14:57,210 --> 00:14:59,930\nAnd it's only if it's passed\nover that you get access.\n\n316\n00:14:59,930 --> 00:15:02,830\nSo if you have something where\ntime is not a factor but\n\n317\n00:15:02,830 --> 00:15:06,510\nyou just need the resources you can use\nspot instances and you'll see them here.\n\n318\n00:15:07,790 --> 00:15:12,870\nAnd then reserved instances, if you\nknow you're going to need a server for\n\n319\n00:15:12,870 --> 00:15:16,860\none year or three years,\nyou can do a reserved instance.\n\n320\n00:15:16,860 --> 00:15:18,135\nYou get a better price break on that,\n\n321\n00:15:18,135 --> 00:15:20,470\ncuz you're basically entering\ninto like a contract.\n\n322\n00:15:20,470 --> 00:15:22,640\nAnd they'll show up down here.\n\n323\n00:15:22,640 --> 00:15:26,070\nNow, reserved instances will show up\nunder your regular instances too, but\n\n324\n00:15:26,070 --> 00:15:29,560\nunder your regular instances,\nyou'll also see what are called on demand.\n\n325\n00:15:29,560 --> 00:15:31,590\nOn demand instances are the ones\nthat you just pay per hour.\n\n326\n00:15:31,590 --> 00:15:34,510\nSo when you shut them off\nyou're not paying anymore,\n\n327\n00:15:34,510 --> 00:15:36,250\nyou bring them up when you need them,\nyou shut them down.\n\n328\n00:15:36,250 --> 00:15:37,740\nThey're billed at at a higher rate.\n\n329\n00:15:37,740 --> 00:15:38,910\nIt's all pretty affordable though.\n\n330\n00:15:38,910 --> 00:15:43,600\nAll right, now, when we create these\ninstances, where do they come from?\n\n331\n00:15:43,600 --> 00:15:46,277\nWell, they come from\nvirtual machine images, and\n\n332\n00:15:46,277 --> 00:15:48,277\nAmazon makes a ton of them available.\n\n333\n00:15:48,277 --> 00:15:53,536\nAmazon stores their images in a format\ncalled an AMI, an Amazon Machine Image.\n\n334\n00:15:53,536 --> 00:15:57,437\nAnd so looking right down here,\nI've got Images and AMIs.\n\n335\n00:15:57,437 --> 00:16:01,721\nAMIs, here it'll show any\nAMIs that I've created.\n\n336\n00:16:01,721 --> 00:16:03,218\nYou can create your own, right?\n\n337\n00:16:03,218 --> 00:16:06,220\nYou may have your own specific\nserver configuration.\n\n338\n00:16:06,220 --> 00:16:08,680\nYou don't trust any of the other\nguys that are out there, right?\n\n339\n00:16:08,680 --> 00:16:12,740\nThe Amazon Web Market, if you go in there,\nyou don't know who built that up, or\n\n340\n00:16:12,740 --> 00:16:16,710\nmaybe you know the company, but you just\nwanna make sure you have total control.\n\n341\n00:16:16,710 --> 00:16:18,620\nYou can create your own AMI.\n\n342\n00:16:18,620 --> 00:16:22,160\nYou can build your own Linux or\nWindows or even third party OSs.\n\n343\n00:16:22,160 --> 00:16:26,300\nNot every OS works great in Amazon Web\nServices, so you have to be careful with\n\n344\n00:16:26,300 --> 00:16:29,500\nthat, but I know people who run\nOpenBSD up there just fine.\n\n345\n00:16:29,500 --> 00:16:33,220\nThere's different systems that you may\nchoose to run for your needs, and so\n\n346\n00:16:33,220 --> 00:16:35,050\nyou can build your own AMIs.\n\n347\n00:16:35,050 --> 00:16:36,590\nAnd they'll be stored right here, and\n\n348\n00:16:36,590 --> 00:16:39,880\nyou can use those to create\nnew virtual machines.\n\n349\n00:16:39,880 --> 00:16:44,300\nNow, you can use the AMIs provided\nby Amazon or the community, and so\n\n350\n00:16:44,300 --> 00:16:47,320\nup here you'll see it\ndefault to owned by me, but\n\n351\n00:16:47,320 --> 00:16:52,690\nwe can change that to go to public images,\nand under public images, we'll start\n\n352\n00:16:54,250 --> 00:16:58,470\nto see, well,\n33,666 different public images right now.\n\n353\n00:16:58,470 --> 00:16:59,980\nWhen you log in it may be different.\n\n354\n00:16:59,980 --> 00:17:01,770\nThat's a ton of images.\n\n355\n00:17:01,770 --> 00:17:05,460\nSo you can filter that down based\non all sorts of different things,\n\n356\n00:17:05,460 --> 00:17:09,880\nones that are from Amazon, for\nexample, or certain platforms.\n\n357\n00:17:09,880 --> 00:17:13,550\nMaybe I just want it running\non top of CentOS, or whatever.\n\n358\n00:17:13,550 --> 00:17:18,070\nSo you can start to filter based on\nthose needs to get the image you need.\n\n359\n00:17:18,070 --> 00:17:21,030\nJust be careful, and I'll do a separate\nepisode specifically on this,\n\n360\n00:17:21,030 --> 00:17:24,640\nbut be careful that you always\npay attention to the source.\n\n361\n00:17:24,640 --> 00:17:26,100\nWho made it, all right?\n\n362\n00:17:26,100 --> 00:17:29,540\nBecause whoever made it can\nchoose to unmake it, right?\n\n363\n00:17:29,540 --> 00:17:32,760\nSo, if you rely on a particular AMI,\n\n364\n00:17:32,760 --> 00:17:37,370\nif you're using it all the time,\nwhoever made it can remove it, and\n\n365\n00:17:37,370 --> 00:17:40,890\nyou won't be able to spin up new VMs\non it unless you've cloned that AMI.\n\n366\n00:17:40,890 --> 00:17:43,620\nSo you might need to make a clone of\nit just to be safe, but they also\n\n367\n00:17:43,620 --> 00:17:47,170\nmight not be updating it, and so if\nchanges are happening in their system and\n\n368\n00:17:47,170 --> 00:17:49,340\nthey're making improvements,\nyou might not be getting those.\n\n369\n00:17:49,340 --> 00:17:50,550\nSo always be careful with that.\n\n370\n00:17:50,550 --> 00:17:52,960\nPay attention to who the source is.\n\n371\n00:17:54,710 --> 00:17:57,990\nAll right, in addition to AMIs,\nwe have bundle tasks.\n\n372\n00:17:57,990 --> 00:17:59,220\nNow what is that?\n\n373\n00:17:59,220 --> 00:18:03,745\nSometimes, we want to deploy an\napplication that's more than just one VM,\n\n374\n00:18:03,745 --> 00:18:04,810\nall right?\n\n375\n00:18:04,810 --> 00:18:06,810\nA great example would be web applications.\n\n376\n00:18:06,810 --> 00:18:10,450\nWith web applications, you've got web\nservers that are the front end that your\n\n377\n00:18:10,450 --> 00:18:14,050\ncustomers see, and then you've got\ndatabase servers that are the back end\n\n378\n00:18:14,050 --> 00:18:16,700\nthat you don't want your\ncustomers to see that, right?\n\n379\n00:18:16,700 --> 00:18:19,780\nBut the web front end is useless\nwithout the database, and\n\n380\n00:18:19,780 --> 00:18:21,870\nthe database is useless\nwithout the web front end.\n\n381\n00:18:21,870 --> 00:18:24,690\nSo they're two separate servers but\nthey work together, all right?\n\n382\n00:18:24,690 --> 00:18:25,940\nSo that's a bundle.\n\n383\n00:18:25,940 --> 00:18:29,130\nWhen we deploy that application,\nwe don't need just one VM.\n\n384\n00:18:29,130 --> 00:18:33,320\nWe need multiple VMs, and so we can create\nbundled tasks to combine those things\n\n385\n00:18:33,320 --> 00:18:36,570\ntogether, and they show using like\na Windows instance, for example.\n\n386\n00:18:36,570 --> 00:18:38,650\nYou can do all sorts of\ndifferent stuff here.\n\n387\n00:18:38,650 --> 00:18:40,954\nYou define what gets deployed\nwhen that rolls out.\n\n388\n00:18:43,493 --> 00:18:46,040\nNow each virtual machine requires storage.\n\n389\n00:18:46,040 --> 00:18:49,010\nMost of them will include some\nstorage that's built into them, and\n\n390\n00:18:49,010 --> 00:18:51,370\nthen you can add more\nstorage if you need it.\n\n391\n00:18:51,370 --> 00:18:56,068\nIf you bring up a database server, for\nexample, it'll be a Linux box or a Windows\n\n392\n00:18:56,068 --> 00:19:00,130\nbox, and it'll have a volume or a hard\ndrive on it for the operating system, but\n\n393\n00:19:00,130 --> 00:19:03,485\nyou probably want a separate\nhard drive for the database.\n\n394\n00:19:03,485 --> 00:19:05,660\nNow, there's a few different reasons\nwe might want to do that, but\n\n395\n00:19:05,660 --> 00:19:06,720\nredundancy is the main one.\n\n396\n00:19:06,720 --> 00:19:09,730\nWe probably wanna replicate that\nto another data center too, and so\n\n397\n00:19:09,730 --> 00:19:13,320\nwe do that by creating volumes\nin the Elastic Block Store.\n\n398\n00:19:13,320 --> 00:19:15,130\nEBS, the Elastic Block Store.\n\n399\n00:19:15,130 --> 00:19:17,970\nIt gets confused with\nthe Elastic Beanstalk.\n\n400\n00:19:17,970 --> 00:19:21,230\nThat's another program, or\nanother service from Amazon, but\n\n401\n00:19:21,230 --> 00:19:25,820\nthe Elastic Block Store, that's the one\nwhere we create hard drives, and\n\n402\n00:19:25,820 --> 00:19:30,460\nthey can be cloned and replicated between\nthe different data centers at AWS.\n\n403\n00:19:30,460 --> 00:19:32,000\nReally powerful stuff there.\n\n404\n00:19:32,000 --> 00:19:35,420\nAs you start to bring up instances,\nyou'll notice volumes appearing, and\n\n405\n00:19:35,420 --> 00:19:38,146\nthese will be the hard drives for\nyour existing servers, and\n\n406\n00:19:38,146 --> 00:19:41,049\nyou can start to add in more drives and\nconfigure them as needed.\n\n407\n00:19:42,979 --> 00:19:44,588\nThen we have snapshots.\n\n408\n00:19:44,588 --> 00:19:49,440\nIf you wanna take a quick back up of\na server, you can take a snapshot of it.\n\n409\n00:19:49,440 --> 00:19:51,180\nYou pick the server,\nyou take the snapshot.\n\n410\n00:19:51,180 --> 00:19:54,380\nIt'll give you the choice if you\nwant to do it online or offline.\n\n411\n00:19:54,380 --> 00:19:57,080\nWe usually do online cuz we\nneed the server to be up, but\n\n412\n00:19:57,080 --> 00:20:00,010\nif the server's in the middle of writing\nto a disk when you take the snapshot,\n\n413\n00:20:00,010 --> 00:20:01,360\nthat's now part of the snapshot.\n\n414\n00:20:01,360 --> 00:20:04,410\nSo you don't necessarily\nget a consistent backup.\n\n415\n00:20:04,410 --> 00:20:06,510\nIt's always best to do it when\nthe server's offline, but\n\n416\n00:20:06,510 --> 00:20:08,380\nthat's not always an option.\n\n417\n00:20:08,380 --> 00:20:10,340\nBut when you take snapshots,\nthey show here.\n\n418\n00:20:10,340 --> 00:20:14,180\nWe need to see them so that we can\nrestore them if we need to, right?\n\n419\n00:20:14,180 --> 00:20:17,140\nQuick and easy restores, but also just so\n\n420\n00:20:17,140 --> 00:20:20,550\nthat we can see that they exist\nbecause we're paying for the storage.\n\n421\n00:20:20,550 --> 00:20:23,301\nIt costs money to\nmaintain those snapshots.\n\n422\n00:20:26,186 --> 00:20:28,260\nThen we've got network and security.\n\n423\n00:20:28,260 --> 00:20:29,040\nNetwork and security,\n\n424\n00:20:29,040 --> 00:20:33,290\nthese are areas where we'll come in and\nset things a lot less frequently, right?\n\n425\n00:20:33,290 --> 00:20:36,130\nWe'll put things in here, and then\nwe'll kind of not get back to it again.\n\n426\n00:20:36,130 --> 00:20:41,090\nSecurity groups are the first part, and\nthat's where we create software firewalls.\n\n427\n00:20:41,090 --> 00:20:44,640\nYou can create firewalls that\nyou put your servers behind, and\n\n428\n00:20:44,640 --> 00:20:48,590\nonce they're behind the firewall, you can\ngo down here and configure the inbound and\n\n429\n00:20:48,590 --> 00:20:52,770\noutbound restrictions to define\nwho can access the system and how.\n\n430\n00:20:52,770 --> 00:20:57,180\nSo you'll see I've got one security\ngroup created by default, and\n\n431\n00:20:57,180 --> 00:21:00,000\nif I go to Inbound,\nyou'll see it's allowing all traffic,\n\n432\n00:21:00,000 --> 00:21:03,200\nand if I go to Outbound,\nit's allowing all traffic.\n\n433\n00:21:03,200 --> 00:21:05,560\nSo it's allowing everything.\n\n434\n00:21:05,560 --> 00:21:07,510\nWell, I probably don't want that.\n\n435\n00:21:07,510 --> 00:21:09,020\nIf this is a public server, maybe.\n\n436\n00:21:09,020 --> 00:21:11,690\nI don't know, but more than likely\nwe want to filter that out.\n\n437\n00:21:11,690 --> 00:21:15,680\nSo as we deploy our servers,\nwe'll create additional security groups so\n\n438\n00:21:15,680 --> 00:21:18,170\nthat we can restrict\nthe access people have.\n\n439\n00:21:18,170 --> 00:21:21,937\nIf it's a web server, we probably just\nwant people to get to it via port 80 and\n\n440\n00:21:21,937 --> 00:21:27,000\n443, but if I want to be able to SSH into\nthe server to manage it, I might want to\n\n441\n00:21:27,000 --> 00:21:31,390\nadd SSH to the list and just put my\nsource IP address to limit it to just me.\n\n442\n00:21:31,390 --> 00:21:35,690\nYou can get really granular like that, so\nit's basically just a firewall service.\n\n443\n00:21:35,690 --> 00:21:38,880\nYou may find that just one security\ngroup is good enough for you.\n\n444\n00:21:38,880 --> 00:21:42,520\nYou create one and you define it for\neverything, but I'll oftentimes create\n\n445\n00:21:42,520 --> 00:21:45,500\nmultiple ones because different\nservers have different needs, and\n\n446\n00:21:45,500 --> 00:21:47,910\nI want to kind of create\na bit of isolation there.\n\n447\n00:21:47,910 --> 00:21:49,401\nIt's up to you how you\nwant to go about that.\n\n448\n00:21:51,250 --> 00:21:53,500\nAll right, Elastic IPs.\n\n449\n00:21:53,500 --> 00:21:56,500\nIf you want your server to\nhave a static IP address,\n\n450\n00:21:56,500 --> 00:21:58,150\nyou've got to create an Elastic IP here.\n\n451\n00:21:58,150 --> 00:22:00,530\nAn Elastic IP is basically a reservation.\n\n452\n00:22:00,530 --> 00:22:04,020\nYou're reserving an IP address for\nyour server, and\n\n453\n00:22:04,020 --> 00:22:08,500\nwhether your server is on or off,\nyou have it, so it's a static IP.\n\n454\n00:22:08,500 --> 00:22:10,310\nHere's the thing, though.\n\n455\n00:22:10,310 --> 00:22:14,910\nWhen your server is online, it's gotta\nhave an IP address, and so Amazon, we\n\n456\n00:22:14,910 --> 00:22:19,870\nusually use, it's sort of like DHCP, but\nthey do statically assign it in your VM.\n\n457\n00:22:19,870 --> 00:22:23,950\nBut they'll push an IP to your VM to use,\nand when you shut your server down,\n\n458\n00:22:23,950 --> 00:22:27,120\nthat IP gets freed up for\nanybody else to use,\n\n459\n00:22:27,120 --> 00:22:30,810\nand when you bring the server back\nup it'll just grab another IP.\n\n460\n00:22:30,810 --> 00:22:34,740\nSo every time you turn your server on,\nit could potentially have a different IP.\n\n461\n00:22:34,740 --> 00:22:39,520\nWell, when you reserve one, if your server\nis off, you're still holding the IP.\n\n462\n00:22:39,520 --> 00:22:43,970\nSo what Amazon says is, hey, while your\nserver is online, it's gotta have an IP,\n\n463\n00:22:43,970 --> 00:22:45,670\nso we're not gonna charge you for it.\n\n464\n00:22:45,670 --> 00:22:49,440\nSo you actually don't get charged for\nstatic IPs or dynamic IPs while your\n\n465\n00:22:49,440 --> 00:22:54,880\nserver is on, but when you turn\nyour server off, now you're holding\n\n466\n00:22:54,880 --> 00:22:59,240\nan IP that somebody else can't use, and\nso for that, they do charge, all right?\n\n467\n00:22:59,240 --> 00:23:01,800\nI don't remember exactly\nwhat the charge is.\n\n468\n00:23:01,800 --> 00:23:03,400\nI think it's $0.25 per day.\n\n469\n00:23:03,400 --> 00:23:05,580\nSo it's a real small amount, right?\n\n470\n00:23:05,580 --> 00:23:10,250\nIt's not a big deal to hold that IP, but\nif your server's gonna be on all the time,\n\n471\n00:23:10,250 --> 00:23:11,910\nyou might as well get a static IP so\n\n472\n00:23:11,910 --> 00:23:14,190\nyou don't have to worry about\nthat changing, all right?\n\n473\n00:23:14,190 --> 00:23:16,140\nSo, Elastic IPs are how we do that.\n\n474\n00:23:18,020 --> 00:23:20,410\nNow, you might ask yourself,\nwhen wouldn't I want that?\n\n475\n00:23:20,410 --> 00:23:24,670\nWell, if you're using a load balancer,\nthe end users are going to connect to\n\n476\n00:23:24,670 --> 00:23:28,480\nthe load balancer, not your servers, so at\nthat point you don't really care what IP\n\n477\n00:23:28,480 --> 00:23:31,920\naddress your servers have because the end\nusers connect to the load balancer.\n\n478\n00:23:31,920 --> 00:23:34,210\nSo in that scenario you\nmight not use Elastic IPs.\n\n479\n00:23:34,210 --> 00:23:36,514\nYou don't always have to\nhave static IPs on a server.\n\n480\n00:23:38,444 --> 00:23:40,380\nAll right,\nplacement groups I mentioned earlier.\n\n481\n00:23:40,380 --> 00:23:43,176\nA placement group is how we define\nwhere our servers are going to go,\n\n482\n00:23:43,176 --> 00:23:45,395\nwhich data center,\nwhich zone they're gonna go in.\n\n483\n00:23:45,395 --> 00:23:49,912\nSo, if they're going in\nthe North American East data center three\n\n484\n00:23:49,912 --> 00:23:53,070\nversus the Sao Paulo data center two,\nright?\n\n485\n00:23:53,070 --> 00:23:55,589\nSo I can pick between which ones and\nset up these groups.\n\n486\n00:23:55,589 --> 00:23:58,273\nWhen I create a new VM,\nwhen I create a new instance,\n\n487\n00:23:58,273 --> 00:24:02,055\nI just pick the placement group that\nit goes to, and go in the right place.\n\n488\n00:24:02,055 --> 00:24:05,080\nThe nice part here is we can give\nthe placements groups names.\n\n489\n00:24:05,080 --> 00:24:10,200\nSo I can say like, production web servers,\nor test web servers and so on.\n\n490\n00:24:10,200 --> 00:24:14,350\nAnd I don't have to remember oh yeah, that\ngoes in Oregon data center two, right?\n\n491\n00:24:14,350 --> 00:24:16,000\nI don't have to remember\nthat very specifically.\n\n492\n00:24:18,350 --> 00:24:22,190\nLoad balances are next and this is where I\ncan define those load balancing systems.\n\n493\n00:24:22,190 --> 00:24:25,460\nThese are basically an IP\nthat end users connect to and\n\n494\n00:24:25,460 --> 00:24:29,000\nit will then distribute that traffic\nacross multiple servers on the back end.\n\n495\n00:24:29,000 --> 00:24:34,960\nThis is great for video streaming servers,\nfor web servers, especially web servers,\n\n496\n00:24:34,960 --> 00:24:39,230\nfile transfers, and so on that you can\nhave multiple servers on the back end, and\n\n497\n00:24:39,230 --> 00:24:43,080\nif one of the back end servers goes down\nthe load balancer just stops sending to\n\n498\n00:24:43,080 --> 00:24:45,270\nit and keeps sending to the other servers.\n\n499\n00:24:45,270 --> 00:24:48,930\nSo the load balancer will help you\nmask failures on the back end.\n\n500\n00:24:48,930 --> 00:24:52,870\nNow you don't see it here but the load\nbalancer is actually a virtual machine,\n\n501\n00:24:52,870 --> 00:24:54,730\nit's an instance that's being brought up.\n\n502\n00:24:54,730 --> 00:24:57,850\nBut it is 100% managed by Amazon.\n\n503\n00:24:57,850 --> 00:25:01,270\nYou can't log into it,\nyou can't do a lot of crazy stuff on it,\n\n504\n00:25:01,270 --> 00:25:06,310\nit's managed by them and they handle the\nredundancy and the backup and all of that.\n\n505\n00:25:06,310 --> 00:25:08,520\nSo, you just define it here via the GUI.\n\n506\n00:25:08,520 --> 00:25:11,950\nYou create that load balance sheet,\nyou give it an IP address, and\n\n507\n00:25:11,950 --> 00:25:13,730\nthen Amazon takes care of the rest.\n\n508\n00:25:13,730 --> 00:25:17,370\nSo, that's really nice that that happens\nbut it is a software load balancer.\n\n509\n00:25:17,370 --> 00:25:19,100\nSo don't think they've\ngot a hardware load,\n\n510\n00:25:19,100 --> 00:25:21,980\nlike a F5 big IP or something like that.\n\n511\n00:25:21,980 --> 00:25:24,030\nThey don't have hardware\nlike that on the back end.\n\n512\n00:25:24,030 --> 00:25:26,465\nThis is just a Linux VM that's\nbeing able to handle that.\n\n513\n00:25:28,322 --> 00:25:29,007\nAll right.\n\n514\n00:25:29,007 --> 00:25:30,270\nKey pairs.\n\n515\n00:25:30,270 --> 00:25:33,810\nWhen we want to do security, when we want\nto do like SSH authentication against\n\n516\n00:25:33,810 --> 00:25:37,850\na server, we create key pairs to be able\nto do that, to manage the connection.\n\n517\n00:25:37,850 --> 00:25:39,320\nSo we define them here.\n\n518\n00:25:39,320 --> 00:25:43,870\nWhen you have multiple employees working\nin your system, you wanna generate unique\n\n519\n00:25:43,870 --> 00:25:47,800\nkey pairs for each one because what\nhappens when an employee gets terminated?\n\n520\n00:25:47,800 --> 00:25:48,720\nYou wont have to go in and\n\n521\n00:25:48,720 --> 00:25:50,860\nchange everybody's key pair\nif everybody's sharing one.\n\n522\n00:25:50,860 --> 00:25:52,410\nYou don't want to change it for everyone.\n\n523\n00:25:52,410 --> 00:25:54,140\nYou want to change it for just that user.\n\n524\n00:25:54,140 --> 00:25:57,749\nSo by isolating out like that it\ngives us a more secure environment.\n\n525\n00:25:59,350 --> 00:26:01,660\nAnd then lastly we have\nnetwork interfaces.\n\n526\n00:26:01,660 --> 00:26:04,620\nThis is another one that we don't mess\nwith a whole lot if you're just creating\n\n527\n00:26:04,620 --> 00:26:05,910\npublic servers.\n\n528\n00:26:05,910 --> 00:26:07,450\nBut if you're creating private servers.\n\n529\n00:26:07,450 --> 00:26:11,500\nIf you're creating multiple VPC's or\nvirtual private clouds.\n\n530\n00:26:11,500 --> 00:26:13,910\nYou might have a DMZ.\n\n531\n00:26:13,910 --> 00:26:15,640\nYour cloud servers that\nare exposed to the internet.\n\n532\n00:26:15,640 --> 00:26:19,550\nAnd then you might have your back end\nservers that are your database servers.\n\n533\n00:26:19,550 --> 00:26:22,720\nAnd you don't want the internet to be\nable to get to the database servers.\n\n534\n00:26:22,720 --> 00:26:25,320\nSo in that scenario you can set up\n\n535\n00:26:25,320 --> 00:26:29,170\na security group to allow access\nbetween the two environments, right?\n\n536\n00:26:29,170 --> 00:26:30,270\nSo a firewall.\n\n537\n00:26:30,270 --> 00:26:34,080\nBut if you want even more control,\nyou can create a virtual machine\n\n538\n00:26:34,080 --> 00:26:38,030\nwith multiple network interfaces and\nyou can have it with interfaces and\n\n539\n00:26:38,030 --> 00:26:41,760\nthe two different VPCs or wherever you\nneed and you can start to get even more\n\n540\n00:26:41,760 --> 00:26:46,000\ngranular control there you can build\nyour own filtering system or a proxy.\n\n541\n00:26:46,000 --> 00:26:50,550\nI see a lot of people do this with like\nactive directory federation services,\n\n542\n00:26:50,550 --> 00:26:53,590\nwhere you might have a web application\nproxy, so you can build that up\n\n543\n00:26:53,590 --> 00:26:57,590\nyou need a Windows server with network\ninterfaces in more than one VPC.\n\n544\n00:26:57,590 --> 00:27:01,270\nAll right,\n\n545\n00:27:01,270 --> 00:27:07,160\nthe last little section is the absolute\ncoolest thing in Amazon web services.\n\n546\n00:27:07,160 --> 00:27:09,540\nIf you're just bringing\nup single servers in AWS,\n\n547\n00:27:09,540 --> 00:27:11,040\nit's really no different\nthan a local appointment.\n\n548\n00:27:11,040 --> 00:27:13,570\nYou just bring up the local servers\nyou need, they run, and that's it.\n\n549\n00:27:13,570 --> 00:27:18,830\nBut the real power of AWS is being able\nto spontaneously generate servers.\n\n550\n00:27:18,830 --> 00:27:22,560\nIf your site gets busy you\ncan spin up more servers.\n\n551\n00:27:22,560 --> 00:27:25,410\nAnd if your site gets slow you can\nreduce the amount of servers and\n\n552\n00:27:25,410 --> 00:27:26,490\nit's all dynamic.\n\n553\n00:27:26,490 --> 00:27:29,330\nYou can't do that when you\nown your own server farm.\n\n554\n00:27:29,330 --> 00:27:32,710\nIf I know that at peak time\nI'm gonna need 50 web servers.\n\n555\n00:27:32,710 --> 00:27:34,640\nBut at my slow times I only need 20.\n\n556\n00:27:34,640 --> 00:27:39,530\nWell, I would have to buy 50 servers\nto handle the load of 50 servers, for\n\n557\n00:27:39,530 --> 00:27:40,990\nthe peak time.\n\n558\n00:27:40,990 --> 00:27:44,010\nBut when things get slow, 30 of my\nservers are sitting there doing nothing.\n\n559\n00:27:44,010 --> 00:27:45,210\nAnd that's just how it is, right?\n\n560\n00:27:45,210 --> 00:27:47,080\nBecause I bought my own servers.\n\n561\n00:27:47,080 --> 00:27:49,610\nBut with AWS,\nI can spin up 20 instances and\n\n562\n00:27:49,610 --> 00:27:52,990\nI can say always keep\n20 instances on line.\n\n563\n00:27:52,990 --> 00:27:56,720\nAnd then if things get busy,\nspin up as many as you need, right?\n\n564\n00:27:56,720 --> 00:27:58,280\nNot just 50, go beyond that.\n\n565\n00:27:58,280 --> 00:28:00,020\nSpin up as many as you\nneed to handle the load.\n\n566\n00:28:00,020 --> 00:28:02,400\nI don't want my engineers\nto have a bad experience.\n\n567\n00:28:02,400 --> 00:28:06,240\nAnd so from 5 PM to 6 PM maybe\nI've got 50 servers, but\n\n568\n00:28:06,240 --> 00:28:08,600\nthe rest of day I'm down to just 20.\n\n569\n00:28:08,600 --> 00:28:13,600\nAnd so now I'm only paying for what I\nneed that's where we really save money.\n\n570\n00:28:13,600 --> 00:28:16,790\nI'm not having to buy a lot of hardware\nthat I don't need most of the time.\n\n571\n00:28:16,790 --> 00:28:21,990\nBut when I do need it, I've got it and\nwe set that up by creating auto scaling.\n\n572\n00:28:21,990 --> 00:28:25,660\nWith auto scaling,\nyou create auto scaling groups.\n\n573\n00:28:25,660 --> 00:28:28,360\nSo these are collections of servers\nthat are gonna be brought up\n\n574\n00:28:28,360 --> 00:28:29,710\nto do auto scaling.\n\n575\n00:28:29,710 --> 00:28:33,650\nSo if I'm having web servers on\na web server auto scale group.\n\n576\n00:28:33,650 --> 00:28:37,120\nAnd as that group gets busier because\nit monitors the service as a whole.\n\n577\n00:28:37,120 --> 00:28:40,640\nAs it gets busier it'll start\nto launch new web servers.\n\n578\n00:28:40,640 --> 00:28:44,480\nOr I might have a database auto scaling\ngroup and as the database servers get\n\n579\n00:28:44,480 --> 00:28:48,440\nbusier it can spawn up more read only\ncopies or whatever it is that I need.\n\n580\n00:28:48,440 --> 00:28:50,500\nI can spawn more database\nservers as needed.\n\n581\n00:28:51,620 --> 00:28:55,040\nWell, when it goes to spawn them,\nhow does it know how to configure them?\n\n582\n00:28:55,040 --> 00:28:58,310\nHow does it know what OS to use and\nwhat configuration to apply?\n\n583\n00:28:58,310 --> 00:29:00,810\nWell, that's where launch\nconfigurations come in.\n\n584\n00:29:00,810 --> 00:29:04,870\nLaunch configurations we define exactly\nhow to configure that web server.\n\n585\n00:29:04,870 --> 00:29:07,840\nSo when you bring up a new web server,\nthis is gonna say,\n\n586\n00:29:07,840 --> 00:29:10,460\nall right,\nattach it to this load balancer and\n\n587\n00:29:10,460 --> 00:29:14,040\nattach it so that it has a role so it\ncan access the database on the back end.\n\n588\n00:29:14,040 --> 00:29:15,240\nNow the web server comes up.\n\n589\n00:29:15,240 --> 00:29:17,150\nIt's already got the web pages on it.\n\n590\n00:29:17,150 --> 00:29:19,680\nAnd the load balancer starts\nbalancing traffic to it.\n\n591\n00:29:19,680 --> 00:29:21,310\nIt hits the database on the back end.\n\n592\n00:29:21,310 --> 00:29:23,410\nYou've now got another web front end.\n\n593\n00:29:23,410 --> 00:29:26,480\nAnd so they'll spawn up based\non your launch configuration.\n\n594\n00:29:26,480 --> 00:29:27,440\nSo those two pieces.\n\n595\n00:29:27,440 --> 00:29:31,500\nNow, in the past this was one of\nthe hardest things to set up with Amazon,\n\n596\n00:29:31,500 --> 00:29:33,200\nbecause they didn't have a GUI for it.\n\n597\n00:29:33,200 --> 00:29:34,560\nSo you had to go command line.\n\n598\n00:29:34,560 --> 00:29:38,360\nThere's a whole command line utility\nsuite that we can use to manage AWS.\n\n599\n00:29:38,360 --> 00:29:41,250\nBut now they've got it right here and\nit's really useful.\n\n600\n00:29:41,250 --> 00:29:44,260\nI used to use a third party\nservice called Elastic.\n\n601\n00:29:44,260 --> 00:29:49,900\nWhich they really specialize in taking\nthe newest features from Amazon S3 and\n\n602\n00:29:49,900 --> 00:29:51,780\nmaking web GUI's for it.\n\n603\n00:29:51,780 --> 00:29:54,530\nSo Amazon will get around\nto a GUI eventually.\n\n604\n00:29:54,530 --> 00:29:57,190\nElastic gets to it right away so\nI used to use these guys.\n\n605\n00:29:57,190 --> 00:30:01,260\nBut once they brought in\nthe auto scaling right here,\n\n606\n00:30:01,260 --> 00:30:04,160\nthat was really the last piece that\nI needed to be able to easily manage.\n\n607\n00:30:04,160 --> 00:30:06,350\nAnd so I haven't used elastic in a while.\n\n608\n00:30:06,350 --> 00:30:07,980\nBut you can configure it right here.\n\n609\n00:30:07,980 --> 00:30:09,330\nIt's really slick stuff.\n\n610\n00:30:09,330 --> 00:30:11,500\nWe'll do a whole segment\ndedicated just to that.\n\n611\n00:30:13,480 --> 00:30:17,690\nAll right, so that's kind of the high\nlevel overview of our EC2 panel.\n\n612\n00:30:17,690 --> 00:30:18,840\nWhat all this stuff is.\n\n613\n00:30:18,840 --> 00:30:20,460\nWhat each function is.\n\n614\n00:30:20,460 --> 00:30:22,180\nBut we didn't actually\nget to see it in use.\n\n615\n00:30:22,180 --> 00:30:25,680\nAnd the reason we didn't, I'm saving\nthat for our following segments.\n\n616\n00:30:25,680 --> 00:30:26,470\nSo stay tuned here.\n\n617\n00:30:26,470 --> 00:30:30,720\nWe've got more of our Amazon Web Services\nsegments that are coming up, and\n\n618\n00:30:30,720 --> 00:30:32,690\nwe'll take a look at each of these and\nhow to work with them,\n\n619\n00:30:32,690 --> 00:30:36,280\nhow to spin up those different systems and\nget a chance to see what's what.\n\n620\n00:30:36,280 --> 00:30:38,010\nSo I hope you guys enjoyed this segment.\n\n621\n00:30:38,010 --> 00:30:39,820\nStay tuned, we've got more coming up next.\n\n",
          "vimeoId": "109003322"
        },
        {
          "description": "",
          "length": "2033",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/005-Creating-An-Instance.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/005-Creating-An-Instance-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/005-Creating-An-Instance-sm.jpg",
          "title": "Creating An Instance",
          "transcript": "1\n00:00:00,025 --> 00:00:03,285\n[SOUND] In this segment,\n\n2\n00:00:03,285 --> 00:00:08,175\nwe're gonna take a look at creating\n\n3\n00:00:08,175 --> 00:00:13,065\nan instance inside of Amazon EC2.\n\n4\n00:00:13,065 --> 00:00:16,309\nSo you'll find the process is\npretty straightforward, but\n\n5\n00:00:16,309 --> 00:00:18,220\nwe do have a lot of choices to make.\n\n6\n00:00:18,220 --> 00:00:20,380\nAnd so\nif you don't have a plan going into this,\n\n7\n00:00:20,380 --> 00:00:22,850\nit can get really confusing really fast.\n\n8\n00:00:22,850 --> 00:00:25,440\nAnd if this is your very first\ntime creating an EC2 instance,\n\n9\n00:00:25,440 --> 00:00:27,870\nit's kinda nice to walk\nthrough the process and\n\n10\n00:00:27,870 --> 00:00:30,350\nget a chance to see what\neach of those decisions are.\n\n11\n00:00:30,350 --> 00:00:32,930\nAfter you've done it a few times though,\nit'll be second nature to you and\n\n12\n00:00:32,930 --> 00:00:35,742\nyou'll be able to knock out these\nVMs as fast as you need them.\n\n13\n00:00:35,742 --> 00:00:37,460\nAll right, so let's take a look at this.\n\n14\n00:00:37,460 --> 00:00:41,770\nI've logged into my Amazon console here,\nso I'm logged into AWS.\n\n15\n00:00:41,770 --> 00:00:46,560\nI'm just gonna browse into EC2, and\ninside of EC2 you'll get your summary, and\n\n16\n00:00:46,560 --> 00:00:49,180\nthere is a Launch Instance button\nright here, which would create one,\n\n17\n00:00:49,180 --> 00:00:50,670\nbut I'm not gonna go that route.\n\n18\n00:00:50,670 --> 00:00:52,640\nThat just launches you\ninto a simple wizard.\n\n19\n00:00:52,640 --> 00:00:54,260\nI'm gonna go into the Instances screen,\n\n20\n00:00:54,260 --> 00:00:56,740\ncuz we get some more\noptions by going this way.\n\n21\n00:00:58,060 --> 00:01:02,100\nNow when we go in here we're gonna see\nany instance that we have right now.\n\n22\n00:01:02,100 --> 00:01:06,940\nAnd when we go to create an instance,\nwe're going to basically create it and\n\n23\n00:01:06,940 --> 00:01:07,780\nit'll show up in this list.\n\n24\n00:01:07,780 --> 00:01:09,960\nAnd if you haven't created any\nthis is gonna be empty and\n\n25\n00:01:09,960 --> 00:01:11,820\nyou've got none, so that's where I'm at.\n\n26\n00:01:11,820 --> 00:01:13,580\nAnd if I choose Launch an Instance,\n\n27\n00:01:13,580 --> 00:01:17,370\nthat's gonna walk through the process\nof creating that first instance.\n\n28\n00:01:17,370 --> 00:01:23,000\nNow before you create an instance, there's\na few things that you need to think about.\n\n29\n00:01:23,000 --> 00:01:26,160\nThe first thing that you need to\nthink about is what operating system\n\n30\n00:01:26,160 --> 00:01:27,980\nimage you're going to be using.\n\n31\n00:01:27,980 --> 00:01:29,500\nTypically when we bring up service in AWS,\n\n32\n00:01:29,500 --> 00:01:32,830\nthey're normally gonna be\nrunning either Linux or Windows.\n\n33\n00:01:32,830 --> 00:01:36,390\nIf you wanna run some other\nOS you can do it, but\n\n34\n00:01:36,390 --> 00:01:38,900\nthere more than likely won't be images for\nit.\n\n35\n00:01:38,900 --> 00:01:41,800\nSo you'll probably have to\ncreate your own AMI to do that.\n\n36\n00:01:41,800 --> 00:01:47,670\nRemember, AMI is an Amazon Machine Image,\nand we can see those right down here.\n\n37\n00:01:47,670 --> 00:01:53,120\nUnder our Images and AMIs, we'll see\nany AMIs that we've created and then\n\n38\n00:01:53,120 --> 00:01:58,420\nwe'll see other AMIs that we can load in\nto create our new virtual machines from.\n\n39\n00:01:58,420 --> 00:02:02,490\nSo this is one of the first things I\nthink about before creating a new system.\n\n40\n00:02:02,490 --> 00:02:05,280\nSo we go in here and\nwe kind of pick what we want.\n\n41\n00:02:05,280 --> 00:02:09,960\nI'm going to change this from\nOwned by me to Public images.\n\n42\n00:02:09,960 --> 00:02:12,510\nAnd inside of Public images\nyou'll see there's a lot.\n\n43\n00:02:12,510 --> 00:02:14,420\nThere's over 33,000 of them.\n\n44\n00:02:14,420 --> 00:02:16,620\nSo I'll need to filter that a little more.\n\n45\n00:02:16,620 --> 00:02:20,200\nUnder all images, we can restrict\nthis down to other systems,\n\n46\n00:02:20,200 --> 00:02:24,510\nand for the most part what we're\ngonna want are images made by Amazon.\n\n47\n00:02:24,510 --> 00:02:27,290\nIf we're bringing up servers in AWS,\n\n48\n00:02:27,290 --> 00:02:29,660\nAmazon's really the only\nperson we can trust.\n\n49\n00:02:29,660 --> 00:02:32,150\nThere are other people that make images,\nand\n\n50\n00:02:32,150 --> 00:02:34,140\nif you trust those people\nyou can use their images.\n\n51\n00:02:34,140 --> 00:02:36,030\nIt's great, it's fine, it works great.\n\n52\n00:02:36,030 --> 00:02:38,930\nBut if you don't know them, if you're\njust trying to create a Linux box and\n\n53\n00:02:38,930 --> 00:02:40,930\nyou don't know the other\npeople that are out there,\n\n54\n00:02:40,930 --> 00:02:43,650\nat a minimum Amazon is\nthe one you can trust.\n\n55\n00:02:43,650 --> 00:02:46,840\nI like to use Amazon images myself\nbecause I know they'll support them.\n\n56\n00:02:46,840 --> 00:02:48,380\nIf I have problems they'll help me.\n\n57\n00:02:48,380 --> 00:02:51,800\nIf I start using third party AMIs,\nI've got to rely on the third\n\n58\n00:02:51,800 --> 00:02:55,990\nparty to support it, so I may not get\nall the help I need in one place.\n\n59\n00:02:55,990 --> 00:02:58,400\nIf you stick with Amazon AMIs,\nyou're gonna be safe.\n\n60\n00:02:58,400 --> 00:02:59,789\nThat doesn't mean don't\nuse the other ones.\n\n61\n00:02:59,789 --> 00:03:03,100\nIt's just understand the scenario\nthat you're deploying into to choose.\n\n62\n00:03:03,100 --> 00:03:06,000\nSo I'm going to filter this list\nto just show me Amazon images,\n\n63\n00:03:06,000 --> 00:03:07,960\nthe AMIs that they built.\n\n64\n00:03:07,960 --> 00:03:11,150\nAnd then under platforms\nwe can filter it even more.\n\n65\n00:03:11,150 --> 00:03:14,670\nNow Amazon only produces\na certain amount of these images.\n\n66\n00:03:14,670 --> 00:03:17,080\nRemember there were over 33,000 of them?\n\n67\n00:03:17,080 --> 00:03:19,870\nAnd if I look, Amazon's producing 557,\n\n68\n00:03:19,870 --> 00:03:24,110\nso a small percentage of the available\nimages are actually from Amazon.\n\n69\n00:03:24,110 --> 00:03:27,900\nAnd when you look at the images\na lot of these are duplicates.\n\n70\n00:03:27,900 --> 00:03:31,550\nI'm gonna sort them by name,\nand convenient,\n\n71\n00:03:31,550 --> 00:03:34,700\nsome of them don't have names,\nbut if you look at some of them,\n\n72\n00:03:34,700 --> 00:03:38,160\nif I sort by name, you'll notice\na lot of them have the same name.\n\n73\n00:03:38,160 --> 00:03:40,600\nLike here's Amazon Elastic MapReduce.\n\n74\n00:03:40,600 --> 00:03:42,570\nSo if I'm going to deploy\nMapReduce as a service,\n\n75\n00:03:42,570 --> 00:03:44,450\nhere are some of the different\nones that I can use.\n\n76\n00:03:44,450 --> 00:03:48,530\nWell, there's different\ndates attached to each one.\n\n77\n00:03:48,530 --> 00:03:51,290\nAmazon updates their AMIs.\n\n78\n00:03:51,290 --> 00:03:55,950\nIf you're deploying it brand new,\nyou might as well take the newest one so\n\n79\n00:03:55,950 --> 00:03:57,770\nit'll already have the updates.\n\n80\n00:03:57,770 --> 00:03:59,790\nBut if you deploy the old one,\nthat's fine too.\n\n81\n00:03:59,790 --> 00:04:02,780\nYou'll just have to do the updates\nafter it comes online.\n\n82\n00:04:02,780 --> 00:04:05,190\nSo why bother keeping the old ones?\n\n83\n00:04:05,190 --> 00:04:08,500\nWell, if you're creating\nan auto-scaling environment,\n\n84\n00:04:08,500 --> 00:04:11,400\nyou may want all of your\nservers to be identical.\n\n85\n00:04:11,400 --> 00:04:16,340\nSo if I spawned a server earlier this\nyear and I used the March 25th image,\n\n86\n00:04:16,340 --> 00:04:20,390\nthis guy right here,\neven though there's new ones.\n\n87\n00:04:20,390 --> 00:04:23,010\nThere's an April 4th image here.\n\n88\n00:04:23,010 --> 00:04:27,610\nI could use that to spawn new machines,\nbut if I use the same one as my source\n\n89\n00:04:27,610 --> 00:04:30,780\nmachine, I know it'll be identical and\neverything's consistent.\n\n90\n00:04:30,780 --> 00:04:34,230\nSo that's why Amazon keeps\nthe older AMIs in place.\n\n91\n00:04:34,230 --> 00:04:40,270\nSo while it says 557,\nthe number is probably closer to 57.\n\n92\n00:04:40,270 --> 00:04:44,195\nThere's a lot of duplication in here with\ntheir AMIs just because they're giving you\n\n93\n00:04:44,195 --> 00:04:45,330\nthe older versions too.\n\n94\n00:04:46,460 --> 00:04:50,430\nNow this screen is only displaying 50 AMIs\nat a time, so it might take a while to\n\n95\n00:04:50,430 --> 00:04:53,910\nbrowse around through here, so\nit can be kinda challenging.\n\n96\n00:04:53,910 --> 00:04:57,400\nBut there's a few differences that\nwe're gonna see when we pick an AMI.\n\n97\n00:04:58,880 --> 00:05:03,590\nIn the naming convention that Amazon uses,\nthey'll designate a few different things.\n\n98\n00:05:03,590 --> 00:05:06,978\nOne of those things, unfortunately,\nis not normally the OS.\n\n99\n00:05:06,978 --> 00:05:10,990\nSo when you look at these a lot of times\nyou don't necessarily know, is it Linux,\n\n100\n00:05:10,990 --> 00:05:13,709\nis it Windows or whatever,\nit may be denoted in there.\n\n101\n00:05:13,709 --> 00:05:17,499\nBut you can use the platforms\nlink to filter that down.\n\n102\n00:05:17,499 --> 00:05:21,245\nSo if I just want to see Windows AMIs I\ncan filter it and here they are.\n\n103\n00:05:21,245 --> 00:05:24,620\nAnd so here's some Windows 2008,\nWindows 2012.\n\n104\n00:05:24,620 --> 00:05:26,130\nI can see each of those.\n\n105\n00:05:26,130 --> 00:05:28,510\nAnd some of these are just\ngeneric installs.\n\n106\n00:05:28,510 --> 00:05:31,050\nSome of these have other\nsoftware installed on them.\n\n107\n00:05:31,050 --> 00:05:34,700\nSome of them are English versus\nChinese versus whatever.\n\n108\n00:05:34,700 --> 00:05:37,048\nSo you can pick based on what you need.\n\n109\n00:05:37,048 --> 00:05:41,670\nI've got 134 different\nWindows images here.\n\n110\n00:05:41,670 --> 00:05:44,370\nBut at the end of the day,\nthey're either Windows Server 2008 or\n\n111\n00:05:44,370 --> 00:05:47,100\nWindows Server 2012, so\nit's really just two OSs.\n\n112\n00:05:47,100 --> 00:05:50,080\nBut 134 different variations of it.\n\n113\n00:05:50,080 --> 00:05:51,870\nAnd so I'll need to go through and pick.\n\n114\n00:05:51,870 --> 00:05:55,380\nDo I want it to have Microsoft SQL\ndeployed on it already or not?\n\n115\n00:05:55,380 --> 00:05:56,970\nDo I just want a base install?\n\n116\n00:05:56,970 --> 00:05:59,240\nSo you go through and\npick the appropriate one.\n\n117\n00:05:59,240 --> 00:06:03,110\nAnd you can use search criteria to hunt\nand find various things this way, but\n\n118\n00:06:03,110 --> 00:06:03,850\nyou can go through.\n\n119\n00:06:03,850 --> 00:06:06,770\nAnd again, there will be\nmultiple versions of each one\n\n120\n00:06:06,770 --> 00:06:09,230\nbased on updates that have\nbeen applied and so forth.\n\n121\n00:06:10,310 --> 00:06:14,190\nOn the Linux side,\nyou'll notice if I choose CentOS, well,\n\n122\n00:06:14,190 --> 00:06:16,820\nthere's a couple that are in here but\nnot many.\n\n123\n00:06:16,820 --> 00:06:18,420\nAnd that's because Amazon,\n\n124\n00:06:18,420 --> 00:06:22,880\non the Linux side, they actually\ncurate their own Linux distribution.\n\n125\n00:06:22,880 --> 00:06:26,570\nIf I change this from\nCentOS to Amazon Linux.\n\n126\n00:06:26,570 --> 00:06:30,230\nAmazon Linux is a special version of\nLinux that Amazon themselves curates.\n\n127\n00:06:30,230 --> 00:06:33,800\nThey maintain their own updates servers,\ntheir own repositories.\n\n128\n00:06:33,800 --> 00:06:37,070\nIt's built on top of CentOS,\nso it is effectively CentOS.\n\n129\n00:06:37,070 --> 00:06:39,090\nIf you know how to use that,\nyou know how to use this.\n\n130\n00:06:39,090 --> 00:06:42,250\nThe difference is that Amazon\nhas a lot more support for\n\n131\n00:06:42,250 --> 00:06:44,350\nit because they manage\nwhat goes inside of it.\n\n132\n00:06:44,350 --> 00:06:46,550\nSo this is the one that I normally use.\n\n133\n00:06:46,550 --> 00:06:48,850\nI usually use the Amazon Linux deployment.\n\n134\n00:06:48,850 --> 00:06:51,470\nBut you can pick and\nchoose based on what you want.\n\n135\n00:06:51,470 --> 00:06:53,790\nIf you wanna do Ubuntu,\n\n136\n00:06:53,790 --> 00:06:57,650\nyou'll notice Amazon doesn't\nhave any distributions for that.\n\n137\n00:06:57,650 --> 00:06:58,720\nDoesn't mean you can't do it.\n\n138\n00:06:58,720 --> 00:07:00,940\nYou'll just have to find\nit from another vendor.\n\n139\n00:07:00,940 --> 00:07:05,060\nSo if I go to all images in Ubuntu,\nyou'll see there's quite a few.\n\n140\n00:07:05,060 --> 00:07:09,140\nThere's actually 10,000 different\nAMIs that are available.\n\n141\n00:07:09,140 --> 00:07:10,050\nThey're just not from Amazon.\n\n142\n00:07:11,260 --> 00:07:12,930\nSo this is a big decision for us.\n\n143\n00:07:12,930 --> 00:07:16,650\nWhen we go to create a new instance,\nwe've gotta figure out what image to use.\n\n144\n00:07:16,650 --> 00:07:18,620\nAnd there's a lot of images.\n\n145\n00:07:18,620 --> 00:07:22,530\nFortunately, when you use an image\nyou can choose to flag it so\n\n146\n00:07:22,530 --> 00:07:23,920\nthat it will be one of your favorites.\n\n147\n00:07:23,920 --> 00:07:27,740\nYou can use tags down here so\nyou can easily find it again.\n\n148\n00:07:27,740 --> 00:07:29,830\nSo you don't have to hunt and peck.\n\n149\n00:07:29,830 --> 00:07:32,030\nNow if you use the Launch Instance Wizard,\n\n150\n00:07:32,030 --> 00:07:33,720\nthey actually make it\na little easier there.\n\n151\n00:07:33,720 --> 00:07:37,670\nSo if you have no clue where to start,\njust use the Launch Instance Wizard and\n\n152\n00:07:37,670 --> 00:07:42,220\nin there you'll get a default list\nof the main AMIs to pick from.\n\n153\n00:07:42,220 --> 00:07:43,375\nThat makes it easy.\n\n154\n00:07:43,375 --> 00:07:45,477\nBut if you know exactly what you want,\n\n155\n00:07:45,477 --> 00:07:49,877\nwhat you want to do is go down here to\nAMI, find the AMI that you're looking for,\n\n156\n00:07:49,877 --> 00:07:54,250\nso find whatever specific one it\nis that you're trying to find.\n\n157\n00:07:54,250 --> 00:07:58,680\nAnd then you'll choose it,\nto create an instance from.\n\n158\n00:07:58,680 --> 00:08:02,320\nNotice when I checked off this AMI,\nI had a launch button right here.\n\n159\n00:08:02,320 --> 00:08:06,400\nThat will let me create an image\nbased on that AMI specifically.\n\n160\n00:08:06,400 --> 00:08:10,910\nIf I use the launch instance button right\nhere, I just get a smaller selection.\n\n161\n00:08:10,910 --> 00:08:14,140\nVersus if I go down here to the AMIs,\nI get the whole selection.\n\n162\n00:08:14,140 --> 00:08:18,460\nSo the process is the same, but the\nselection is what's different, all right?\n\n163\n00:08:18,460 --> 00:08:20,700\nNow, if you are gonna browse the AMIs,\n\n164\n00:08:20,700 --> 00:08:22,790\nthere's a few things you'll\nnotice in the naming convention.\n\n165\n00:08:22,790 --> 00:08:25,510\nAnd let me just kind of\nhighlight that real quick, so\n\n166\n00:08:25,510 --> 00:08:29,160\nwe can get an idea,\nget a good handle on this.\n\n167\n00:08:29,160 --> 00:08:33,060\nWhen you look,\nnotice how some of them end in -ebs.\n\n168\n00:08:33,060 --> 00:08:38,980\nSome of them end in -S3, and I don't see\nany but some will end in dash gp2, also.\n\n169\n00:08:38,980 --> 00:08:40,250\nThere's one that ends in dash gp2.\n\n170\n00:08:40,250 --> 00:08:44,290\nThat is talking about what\ntype of storage they use.\n\n171\n00:08:44,290 --> 00:08:49,530\nFor most of us we want EBS,\nEBS is the elastic block storage.\n\n172\n00:08:49,530 --> 00:08:52,940\nThose are hard drives that we can\neasily replicate between data centers.\n\n173\n00:08:52,940 --> 00:08:54,080\nThey're redundant.\n\n174\n00:08:54,080 --> 00:08:56,190\nYou get good performance out of them.\n\n175\n00:08:56,190 --> 00:08:56,830\nEBS storage.\n\n176\n00:08:56,830 --> 00:08:58,370\nThat's what we normally use.\n\n177\n00:08:59,410 --> 00:09:03,580\nIf we have a server where we\nwant to pay a little less,\n\n178\n00:09:03,580 --> 00:09:05,740\nperformance isn't our problem but\nstorage is.\n\n179\n00:09:05,740 --> 00:09:08,150\nWe want a lot of storage and\nwe're not worried about speed.\n\n180\n00:09:08,150 --> 00:09:10,980\nYou can choose to store it in S3 instead.\n\n181\n00:09:10,980 --> 00:09:13,410\nIf you use the simple storage service,\nS3, and\n\n182\n00:09:13,410 --> 00:09:16,340\nput the drives there you're not going\nto get as fast performance out of it.\n\n183\n00:09:16,340 --> 00:09:19,000\nSo for\ndatabase servers it's out of the question.\n\n184\n00:09:19,000 --> 00:09:21,700\nBut if you've got a major download server\nwhere you're gonna be storing a lot of\n\n185\n00:09:21,700 --> 00:09:24,440\ndownload files, you can store\nthe hard drives for it in S3.\n\n186\n00:09:24,440 --> 00:09:27,870\nIt'll be a little less expensive\non the storage side and\n\n187\n00:09:27,870 --> 00:09:30,430\nit will work perfectly fine for\nserving up those files.\n\n188\n00:09:31,630 --> 00:09:36,000\nThe third option is GP2 and GP2,\nthat stands for General Purpose 2.\n\n189\n00:09:36,000 --> 00:09:38,550\nThe EBS, those used to be\nour general purpose drives.\n\n190\n00:09:38,550 --> 00:09:40,248\nYou'd use them for pretty much everything.\n\n191\n00:09:40,248 --> 00:09:44,410\nGeneral purpose two is the new\ngeneration of those EBS drives, and\n\n192\n00:09:44,410 --> 00:09:48,660\nthey're on SSD, solid state drives,\nor solid state digital drives.\n\n193\n00:09:48,660 --> 00:09:54,310\nSo solid state drives are a lot more\nexpensive and they run a lot faster.\n\n194\n00:09:54,310 --> 00:09:56,040\nSo, we usually want those.\n\n195\n00:09:56,040 --> 00:09:59,080\nYou do pay a little bit more,it's not too\nterrible much more to store on there.\n\n196\n00:09:59,080 --> 00:10:01,550\nSo if you've got a server that\nperformance is your key and\n\n197\n00:10:01,550 --> 00:10:04,150\nyou want SSD's you'll want\nto choose the GP2 image.\n\n198\n00:10:05,420 --> 00:10:08,490\nBut if it's just a normal server,\nyou're not necessarily with the SSDs,\n\n199\n00:10:08,490 --> 00:10:10,660\nyou can do EBS and\nit'll be on magnetic drives.\n\n200\n00:10:10,660 --> 00:10:12,280\nYour traditional spinning disks.\n\n201\n00:10:12,280 --> 00:10:16,500\nThey're fast, they're scuzzy, most of\nthem are either 10,000 or 15,000 RPMs, so\n\n202\n00:10:16,500 --> 00:10:17,700\nthey're fast.\n\n203\n00:10:17,700 --> 00:10:19,660\nNot as fast as SSDs.\n\n204\n00:10:19,660 --> 00:10:21,950\nSo that's one of the decisions we have.\n\n205\n00:10:21,950 --> 00:10:27,490\nRight here I've got three different\nof these Amazon AMIs right here.\n\n206\n00:10:27,490 --> 00:10:29,440\nOne is EBS, one is GB2, one is S3.\n\n207\n00:10:29,440 --> 00:10:31,150\nThey're identical.\n\n208\n00:10:31,150 --> 00:10:35,980\nThey are identical installations of Amazon\nLinux, but different types of storage.\n\n209\n00:10:35,980 --> 00:10:37,640\nSo I pick and choose based on the storage.\n\n210\n00:10:38,650 --> 00:10:42,520\nThe other things we'll see here in the\nnaming convention, I've got the platform.\n\n211\n00:10:42,520 --> 00:10:45,153\nNotice how all of these are x86_64.\n\n212\n00:10:45,153 --> 00:10:49,280\nThat means these are the 64\nbit versions of Linux.\n\n213\n00:10:49,280 --> 00:10:51,210\nYou'll find other ones\nthat just say x86 and\n\n214\n00:10:51,210 --> 00:10:53,520\nthose would be the 32\nbit versions of Linux.\n\n215\n00:10:53,520 --> 00:10:58,860\nWhen you deploy a Windows or a Linux AMI,\nyou need to pick between 32 and 64 bit.\n\n216\n00:10:58,860 --> 00:11:03,770\nIf you're doing a micro instance,\nit's only got 600 some odd megs of memory,\n\n217\n00:11:03,770 --> 00:11:05,630\nit doesn't have a lot of power to it.\n\n218\n00:11:05,630 --> 00:11:08,810\nA 32 instance is fine, but\nif you start scaling up,\n\n219\n00:11:08,810 --> 00:11:12,820\nonce you get to a medium instance\nthat has 3.75 gigs of memory or\n\n220\n00:11:12,820 --> 00:11:16,850\nmore, you really benefit\nfrom having a 64 bit OS.\n\n221\n00:11:16,850 --> 00:11:19,710\nFour gigs is kinda the limit with 32 bit,\nand\n\n222\n00:11:19,710 --> 00:11:23,350\nonce you cross four gigs you\nreally need to have a 64 bit OS.\n\n223\n00:11:23,350 --> 00:11:27,740\nWhile it's easy to scale your virtual\nmachine up to have more memory,\n\n224\n00:11:27,740 --> 00:11:31,480\nit's not really possible to convert\nfrom 32 bit to 64 bit in software.\n\n225\n00:11:31,480 --> 00:11:33,920\nYou basically have to create a new VM.\n\n226\n00:11:33,920 --> 00:11:36,650\nSo if you know you're gonna be going to\nhigher memory later on down the road,\n\n227\n00:11:36,650 --> 00:11:38,890\nyou're better of doing\n64-bit from the beginning.\n\n228\n00:11:38,890 --> 00:11:41,910\nBut you'll see that choice in\nthe file name see here I've got,\n\n229\n00:11:41,910 --> 00:11:43,870\nwell no I guess all of these are x86.\n\n230\n00:11:43,870 --> 00:11:48,590\nBut somewhere in here you'll\nsee some that are just 32-bit.\n\n231\n00:11:48,590 --> 00:11:52,020\nThe other notation we have to look out for\nis this guy right here.\n\n232\n00:11:52,020 --> 00:11:55,850\nYou'll see some that say HVM and\nsome that say PV.\n\n233\n00:11:57,040 --> 00:12:00,060\nIn the early days of Amazon web services,\n\n234\n00:12:00,060 --> 00:12:03,450\nall the virtual machines\nwere paravirtualized.\n\n235\n00:12:03,450 --> 00:12:08,350\nParavirtualized or PV that means\nthat some of the hardware they saw,\n\n236\n00:12:08,350 --> 00:12:10,380\nthat the virtual machines saw,\nwas virtual.\n\n237\n00:12:10,380 --> 00:12:11,000\nIt was fake.\n\n238\n00:12:11,000 --> 00:12:14,850\nIt created this fake layer of hardware\nthat the virtual machines would see.\n\n239\n00:12:14,850 --> 00:12:19,220\nAnd other pieces of the hardware might\nactually be exposed to the like the CPU.\n\n240\n00:12:19,220 --> 00:12:23,440\nMost of it was this fake hardware and\nthey were able to put accelerations and\n\n241\n00:12:23,440 --> 00:12:26,030\nimprovements and stuff like that\ninto the PV side of things that\n\n242\n00:12:26,030 --> 00:12:28,389\nmade PV performance really,really good.\n\n243\n00:12:28,389 --> 00:12:32,360\nSo,three years ago if I were to create\na VM I would look for those PV ones,\n\n244\n00:12:32,360 --> 00:12:33,640\nthat was what I really wanted.\n\n245\n00:12:33,640 --> 00:12:37,360\nI would find a PV And\nthat's the one I would deploy, alright.\n\n246\n00:12:37,360 --> 00:12:43,290\nBut today, Amazon has a new technology\ncalled HVM or Hardware Virtual Machine.\n\n247\n00:12:43,290 --> 00:12:46,030\nAnd these are where\nthe virtual machines actually\n\n248\n00:12:46,030 --> 00:12:48,740\nget direct exposure to\nsome of the hardware.\n\n249\n00:12:48,740 --> 00:12:52,210\nBut the virtualization piece has kind\nof been replaced by a different type of\n\n250\n00:12:52,210 --> 00:12:56,680\nhypervisor and while in the beginning\nthe performance wasn't that great,\n\n251\n00:12:56,680 --> 00:12:58,490\nthings have changed.\n\n252\n00:12:58,490 --> 00:13:02,110\nAnd today, HVM will net you better\nperformance than PV, all right?\n\n253\n00:13:02,110 --> 00:13:05,350\nSo, why do we still have\nPV if HVM is better?\n\n254\n00:13:05,350 --> 00:13:09,670\nWell, if you've built your entire\ninfrastructure off of the PV images,\n\n255\n00:13:09,670 --> 00:13:11,850\nYou don't wanna just\nswitch right over to HVM.\n\n256\n00:13:11,850 --> 00:13:15,110\nSo right now Amazon supports both,\nyou get a choice.\n\n257\n00:13:15,110 --> 00:13:17,190\nIf you're doing a new deployment,\nyou'll typically want HVM.\n\n258\n00:13:17,190 --> 00:13:21,010\nBut if you're supporting\nan existing deployment\n\n259\n00:13:21,010 --> 00:13:24,900\nyou might need to us PV just to stay\nconsistent with the existing VMs.\n\n260\n00:13:24,900 --> 00:13:27,410\nBut going forward you're pretty\nmuch going to use HVM and\n\n261\n00:13:27,410 --> 00:13:29,210\nthat's what I'm seeing here.\n\n262\n00:13:29,210 --> 00:13:31,150\nIf I, I'm sure if I scroll\nthrough the rest of these,\n\n263\n00:13:31,150 --> 00:13:33,620\nI would find PVs in the list too.\n\n264\n00:13:33,620 --> 00:13:34,370\nRight?\n\n265\n00:13:34,370 --> 00:13:37,670\nThere is one other notation you don't see\nvery often, I think I saw it up here.\n\n266\n00:13:37,670 --> 00:13:38,280\nYeah.\n\n267\n00:13:38,280 --> 00:13:40,355\nSo see how these say GPU-hbm?\n\n268\n00:13:40,355 --> 00:13:45,360\nThese are ones that are going to be taking\nadvantage of the graphical processors.\n\n269\n00:13:45,360 --> 00:13:48,780\nIf you're bringing up one of those\ninstances that has GPU acceleration in it,\n\n270\n00:13:48,780 --> 00:13:50,730\nyou're going to need to\nchoose one of these images.\n\n271\n00:13:50,730 --> 00:13:52,560\nBut if you choose one of these images,\n\n272\n00:13:52,560 --> 00:13:55,830\nyou won't be able to deploy\nthe non GPU instances.\n\n273\n00:13:55,830 --> 00:13:58,650\nSo these are more expensive,\nand they're special purpose.\n\n274\n00:13:58,650 --> 00:14:00,740\nSo generally you're not\ngonna wanna deal with these.\n\n275\n00:14:00,740 --> 00:14:04,840\nIf you're doing compute intensive\nclusters, like sequencing the human\n\n276\n00:14:04,840 --> 00:14:08,270\ngenome, heavy mathematical operations,\nthese really come in handy.\n\n277\n00:14:08,270 --> 00:14:11,740\nBut your software has to be\nspecially developed to support that.\n\n278\n00:14:11,740 --> 00:14:12,720\nMost software isn't.\n\n279\n00:14:12,720 --> 00:14:15,450\nSo those are a lot less common.\n\n280\n00:14:15,450 --> 00:14:16,690\nAll right.\n\n281\n00:14:16,690 --> 00:14:21,020\nSo if I wanna deploy Amazon Linux I\nsee the HVM version of it right here.\n\n282\n00:14:21,020 --> 00:14:22,810\nThe 64 bit and they're on EBS.\n\n283\n00:14:22,810 --> 00:14:24,890\nThat's the most common for what I want.\n\n284\n00:14:24,890 --> 00:14:27,420\nNow I see all the different releases.\n\n285\n00:14:27,420 --> 00:14:31,140\nAmazon does their version numbers\nof Amazon Linux based on the date.\n\n286\n00:14:31,140 --> 00:14:35,060\nSo I can see like this one was\nreleased on March of 2012.\n\n287\n00:14:35,060 --> 00:14:38,160\nAnd this one was September of 2012 and\nthen I can see March and\n\n288\n00:14:38,160 --> 00:14:39,120\nSeptember of 2013.\n\n289\n00:14:39,120 --> 00:14:43,420\nThey pretty much do every six months so\nyou'll see March and September unless\n\n290\n00:14:43,420 --> 00:14:46,810\nsomething special and crazy happens\nthat's what you're normally going to see.\n\n291\n00:14:46,810 --> 00:14:49,980\nAnd as I scroll down there's 2013,\n\n292\n00:14:49,980 --> 00:14:55,340\n2014 and I can find the latest one in\nhere which should be September 2014.\n\n293\n00:14:55,340 --> 00:15:00,220\nAnd I can pick between EBS, GPT, and S3,\nso I can pick between the different ones.\n\n294\n00:15:00,220 --> 00:15:03,250\nIf I just want to do an EBS\ninstance I can choose that.\n\n295\n00:15:03,250 --> 00:15:07,020\nIt's HVM, all my requirements are met,\nand I'm ready to go.\n\n296\n00:15:07,020 --> 00:15:08,680\nI can hit launch instance, and\n\n297\n00:15:08,680 --> 00:15:11,730\nnow I'm gonna go through and\ncreate an instance based on that.\n\n298\n00:15:11,730 --> 00:15:12,670\nLet's see that process.\n\n299\n00:15:14,282 --> 00:15:19,600\nAll right, so if I hit launch now it's\ngonna ask me what type of instance I want.\n\n300\n00:15:19,600 --> 00:15:22,550\nAnd you'll see the different\nhardware instances down here.\n\n301\n00:15:22,550 --> 00:15:26,380\nRemember, if you're on a demo account\nif you're using the free usage tier,\n\n302\n00:15:26,380 --> 00:15:27,520\nyou get the T2 micro.\n\n303\n00:15:27,520 --> 00:15:30,860\nSo it's got that mark on there\nthat says free tier eligible.\n\n304\n00:15:30,860 --> 00:15:33,400\nBut if you look at the rest\nof these They're not.\n\n305\n00:15:33,400 --> 00:15:34,830\nThese guys cost money.\n\n306\n00:15:34,830 --> 00:15:38,470\nAnd so as I start to look down at these\nother ones, I'll see here, this guy is\n\n307\n00:15:38,470 --> 00:15:42,940\nEBS only, these have SSD, the amount\nof memory, the amount of processors.\n\n308\n00:15:42,940 --> 00:15:43,540\nI'm picking and\n\n309\n00:15:43,540 --> 00:15:48,860\nchoosing based on my requirements and\neach one is gonna cost a little bit more.\n\n310\n00:15:48,860 --> 00:15:52,410\nSo we've got to make sure that we\npick the right one for our needs.\n\n311\n00:15:52,410 --> 00:15:55,190\nI'm going to just go ahead and\ndo a micro instance for this one.\n\n312\n00:15:56,230 --> 00:15:59,542\nAll right, now from here,\nI guess my head's covering it up.\n\n313\n00:15:59,542 --> 00:16:00,583\nLet me move this over.\n\n314\n00:16:00,583 --> 00:16:01,760\nI've got three choices down here.\n\n315\n00:16:01,760 --> 00:16:03,770\nPrevious to go back and change things.\n\n316\n00:16:03,770 --> 00:16:06,149\nReview and Launch,\nif I'm cool with the defaults,\n\n317\n00:16:06,149 --> 00:16:07,620\nI can just hit that and off we go.\n\n318\n00:16:07,620 --> 00:16:09,090\nAll right?\n\n319\n00:16:09,090 --> 00:16:11,890\nOr I can hit Configure Instance Details.\n\n320\n00:16:11,890 --> 00:16:13,110\nAnd when we go into the details,\n\n321\n00:16:13,110 --> 00:16:15,670\nwe can make some customizations\nbefore it launches.\n\n322\n00:16:15,670 --> 00:16:18,490\nSo normally,\nif this is exactly what I need,\n\n323\n00:16:18,490 --> 00:16:21,810\nI'll just hit Review and\nLaunch, and then we're done.\n\n324\n00:16:21,810 --> 00:16:24,830\nBut I'll go ahead and hit Configure\nInstance Details just so we can see it.\n\n325\n00:16:24,830 --> 00:16:28,740\nWe'll get some choices here that\nare normally just accepted for us.\n\n326\n00:16:28,740 --> 00:16:32,340\nFor example, number of instances,\nit assumes that I need one.\n\n327\n00:16:32,340 --> 00:16:33,580\nWhat if I need five?\n\n328\n00:16:33,580 --> 00:16:36,510\nChange that to a five, it will make\nfive of them for me right now.\n\n329\n00:16:37,560 --> 00:16:38,950\nMy purchasing.\n\n330\n00:16:38,950 --> 00:16:42,940\nDo I want the VMs to come up right now,\nor do I want to do spot instances?\n\n331\n00:16:42,940 --> 00:16:45,710\nWhen those cheap instances are available,\ndo I want to use those?\n\n332\n00:16:45,710 --> 00:16:47,790\nSo I can choose to switch to a spot.\n\n333\n00:16:47,790 --> 00:16:51,420\nMy network, I've only got one network\ncuz this is a new system, but if I had\n\n334\n00:16:51,420 --> 00:16:56,090\nmultiple virtual private clouds, I would\npick which cloud it was going into.\n\n335\n00:16:56,090 --> 00:16:57,250\nMy subnet.\n\n336\n00:16:57,250 --> 00:16:58,760\nIf I've created IP address subnets,\n\n337\n00:16:58,760 --> 00:17:01,170\nand you'll see the Amazon\none's are listed here.\n\n338\n00:17:01,170 --> 00:17:03,750\nBut when you create VPCs,\nyou can create your own subnets.\n\n339\n00:17:03,750 --> 00:17:05,910\nAnd so I can see what IP\nsubnet I wanted it to be on.\n\n340\n00:17:07,080 --> 00:17:11,200\nThe public IP,\ndo I wanna just grab it from Amazon and\n\n341\n00:17:11,200 --> 00:17:16,230\nuse it, or do I want to do enable and\nactually pick a particular IP.\n\n342\n00:17:16,230 --> 00:17:17,800\nAn elastic IP to attach to it.\n\n343\n00:17:18,910 --> 00:17:21,530\nMy IAM role, this is for\nsecurity management.\n\n344\n00:17:21,530 --> 00:17:23,100\nWe haven't covered IAM yet, but\n\n345\n00:17:23,100 --> 00:17:26,080\nthat's where I can dictate who's allowed\nto access this machine and work with it.\n\n346\n00:17:27,320 --> 00:17:28,500\nShut down behavior.\n\n347\n00:17:28,500 --> 00:17:31,210\nWhat happens when the virtual\nmachine shuts down?\n\n348\n00:17:31,210 --> 00:17:32,370\nThe default is the stop.\n\n349\n00:17:32,370 --> 00:17:33,620\nYou'll see another one that's terminate.\n\n350\n00:17:34,630 --> 00:17:35,330\nWhat's the difference?\n\n351\n00:17:35,330 --> 00:17:37,950\nWell, this is a big deal,\nthis is important.\n\n352\n00:17:37,950 --> 00:17:40,130\nWhen you go to shut\na virtual machine down,\n\n353\n00:17:40,130 --> 00:17:42,680\nyou'll have an option to shut it down,\nwhich stops the machine.\n\n354\n00:17:42,680 --> 00:17:43,600\nThat turns it off.\n\n355\n00:17:43,600 --> 00:17:45,140\nSo stop, is basically turn off.\n\n356\n00:17:45,140 --> 00:17:48,360\nAnd when you turn it off,\nit just sits there.\n\n357\n00:17:48,360 --> 00:17:51,530\nYou pay for storage, and\nyou can turn it back on whenever you want.\n\n358\n00:17:51,530 --> 00:17:54,880\nTerminate, on the other hand,\nterminate is delete.\n\n359\n00:17:54,880 --> 00:17:55,820\nIt's gone.\n\n360\n00:17:55,820 --> 00:17:57,670\nIf you shut the virtual machine down and\n\n361\n00:17:57,670 --> 00:18:01,150\nhave the default set to terminate,\nit deletes it and wipes it out.\n\n362\n00:18:01,150 --> 00:18:02,660\nNow you might ask yourself,\nwhy would I want that?\n\n363\n00:18:02,660 --> 00:18:03,340\nThat's crazy.\n\n364\n00:18:03,340 --> 00:18:05,600\nWhy would I want to wipe out\na virtual machine like that?\n\n365\n00:18:05,600 --> 00:18:09,080\nWell, if you're doing auto scaling,\nwhen your servers get busy,\n\n366\n00:18:09,080 --> 00:18:11,600\nyou wanna scale up and add more servers.\n\n367\n00:18:11,600 --> 00:18:15,084\nAnd then when things get slow, you wanna\nshut those servers down and delete them so\n\n368\n00:18:15,084 --> 00:18:16,880\nthat you don't have to pay for it.\n\n369\n00:18:16,880 --> 00:18:17,460\nRight?\nSo\n\n370\n00:18:17,460 --> 00:18:19,700\nthat they're not just sitting\nthere costing you money.\n\n371\n00:18:19,700 --> 00:18:22,210\nSo in that scenario, you want to\nterminate but that's not the default.\n\n372\n00:18:22,210 --> 00:18:23,320\nThe default is stop.\n\n373\n00:18:23,320 --> 00:18:26,330\nBut just be aware when you\nchoose terminate, in your mind,\n\n374\n00:18:26,330 --> 00:18:27,470\nchange that to delete.\n\n375\n00:18:27,470 --> 00:18:29,310\nThat's shut it off and delete the machine.\n\n376\n00:18:29,310 --> 00:18:29,810\nGet rid of it.\n\n377\n00:18:32,220 --> 00:18:35,200\nNow to help with that,\nyou've got Enable Termination Protection.\n\n378\n00:18:35,200 --> 00:18:37,870\nYou can turn it on to stop you\nfrom accidentally terminating.\n\n379\n00:18:37,870 --> 00:18:40,800\nYou get a confirmation screen that\nwill warn you about the deletion.\n\n380\n00:18:40,800 --> 00:18:42,610\nYou may or may not want that.\n\n381\n00:18:42,610 --> 00:18:43,630\nCloud watch monitoring.\n\n382\n00:18:43,630 --> 00:18:45,250\nIf we want the detailed,\n\n383\n00:18:45,250 --> 00:18:49,130\nenhanced monitoring turned on,\nthere is a free usage tier for\n\n384\n00:18:49,130 --> 00:18:53,060\ncloud watch that you'll probably be\ncovered by for most environments.\n\n385\n00:18:53,060 --> 00:18:55,250\nBut in a busy environment you\ncan get charged for that, so\n\n386\n00:18:55,250 --> 00:18:56,900\nyou do wanna make sure\nthat you actually need it.\n\n387\n00:18:56,900 --> 00:18:58,220\nIt says additional charges apply.\n\n388\n00:18:59,550 --> 00:19:01,480\nAnd then we've got tenancy.\n\n389\n00:19:01,480 --> 00:19:03,910\nBy default, when you bring up an instance,\n\n390\n00:19:03,910 --> 00:19:08,410\nit's running on physical hardware\nshared with other Amazon customers.\n\n391\n00:19:08,410 --> 00:19:10,610\nYou don't know who those customers are.\n\n392\n00:19:10,610 --> 00:19:15,040\nAnd, in theory, your virtual machines are\nisolated from their virtual machines, and\n\n393\n00:19:15,040 --> 00:19:15,850\nit's perfectly fine.\n\n394\n00:19:15,850 --> 00:19:18,460\nThis where the money savings comes in.\n\n395\n00:19:18,460 --> 00:19:20,810\nBut, if you don't trust other people,\n\n396\n00:19:20,810 --> 00:19:23,650\nif you want to ensure that\nyou're not on a server,\n\n397\n00:19:23,650 --> 00:19:28,050\non a physical server with strangers,\nyou can change it to dedicated tenancy.\n\n398\n00:19:28,050 --> 00:19:30,970\nBut that's gonna raise\nyour prices significantly,\n\n399\n00:19:30,970 --> 00:19:35,100\nbecause now Amazon has to block\noff entire pieces of hardware.\n\n400\n00:19:35,100 --> 00:19:38,700\nThe sharing aspect is gone,\nand the cost sky-rockets.\n\n401\n00:19:38,700 --> 00:19:44,700\nBut if you need to ensure that it's\njust you on there, you can do it.\n\n402\n00:19:44,700 --> 00:19:47,750\nLastly, down here at the bottom,\nI've got network interfaces.\n\n403\n00:19:47,750 --> 00:19:49,310\nIf we've got multiple VPCs,\n\n404\n00:19:49,310 --> 00:19:54,180\nI might want to add more than one network\ninterface to connect the different VPCs.\n\n405\n00:19:54,180 --> 00:19:57,270\nI've only got one, so there's only so\nmuch it'll let me do here.\n\n406\n00:19:57,270 --> 00:20:00,870\nBut if you wanna create your own firewall,\nor an application proxy,\n\n407\n00:20:00,870 --> 00:20:03,040\nsomething like that,\nyou would do more than one interface.\n\n408\n00:20:03,040 --> 00:20:07,130\nAnd then we've got our Advanced Details\nwhere you can set a few other things.\n\n409\n00:20:07,130 --> 00:20:10,490\nMost of this is just user data, which\nis useful for scripting and automation.\n\n410\n00:20:10,490 --> 00:20:11,600\nAll right.\n\n411\n00:20:13,120 --> 00:20:14,850\nAgain, I can hit review and\nlaunch and be done.\n\n412\n00:20:14,850 --> 00:20:17,890\nBut there is one other little button\nover here, which is Add Storage.\n\n413\n00:20:17,890 --> 00:20:20,380\nIf I'm bringing up a data base server,\nwell,\n\n414\n00:20:20,380 --> 00:20:23,160\nthis server's going to have hard\ndrives from the operating system.\n\n415\n00:20:23,160 --> 00:20:25,460\nIt's not gonna have hard drives\nfrom my database server.\n\n416\n00:20:25,460 --> 00:20:28,590\nSo, if I wanna store my databases\non separate drives, I can go and\n\n417\n00:20:28,590 --> 00:20:31,480\ncreate it manually after fact,\nor right here in the wizard.\n\n418\n00:20:31,480 --> 00:20:32,405\nI can hit Add Storage.\n\n419\n00:20:32,405 --> 00:20:34,965\nAnd I can pick the storage that I want.\n\n420\n00:20:34,965 --> 00:20:35,555\nAll right.\n\n421\n00:20:35,555 --> 00:20:36,515\nSo I've got that right here.\n\n422\n00:20:36,515 --> 00:20:40,175\nI'll see, here's the root drive that\nit's going to make, all right, and\n\n423\n00:20:40,175 --> 00:20:43,555\nI can see that right now it's going\nto be stored on magnetic storage.\n\n424\n00:20:43,555 --> 00:20:45,485\nI can change that to SSD.\n\n425\n00:20:45,485 --> 00:20:52,082\nThere's that general purpose SSD, the GP2,\nand there's provisioned IOPS SSP.\n\n426\n00:20:52,082 --> 00:20:57,402\nThat's where we have SSD, but\nwe have a limit to how many input,\n\n427\n00:20:57,402 --> 00:21:01,260\noutputs per second, or IOPS,\nthat we can perform on it.\n\n428\n00:21:01,260 --> 00:21:05,530\nIf you're doing RDS, the relational\ndatabase services, a lot of times you'll\n\n429\n00:21:05,530 --> 00:21:09,000\nbe billed by IO, and that's where you\nuse that storage pretty frequently.\n\n430\n00:21:09,000 --> 00:21:12,040\nAnd you'll see how many IOs per\nsecond you can reserve on it.\n\n431\n00:21:12,040 --> 00:21:13,700\nSo you can designate that here.\n\n432\n00:21:13,700 --> 00:21:15,640\nIt's a different pricing model.\n\n433\n00:21:15,640 --> 00:21:17,910\nFor general purpose servers,\nit does not work out.\n\n434\n00:21:17,910 --> 00:21:20,120\nIt usually ends up making\nthings more expensive.\n\n435\n00:21:20,120 --> 00:21:21,390\nBut for database servers,\n\n436\n00:21:21,390 --> 00:21:23,760\nit can actually bring the cost\nof that SSD down quite a bit.\n\n437\n00:21:25,230 --> 00:21:27,250\nI'm going to stick with magnetic though.\n\n438\n00:21:28,260 --> 00:21:29,460\nSo there's the root.\n\n439\n00:21:29,460 --> 00:21:31,040\nThat's where my operating\nsystem's going to be.\n\n440\n00:21:31,040 --> 00:21:32,510\nIt's 10 gigs.\nThat's more than enough for me.\n\n441\n00:21:32,510 --> 00:21:34,405\nIf If I want, I can bump that up.\n\n442\n00:21:34,405 --> 00:21:38,245\nI can make it 64 gigs, and\nnow my route drive is going to be 64 gigs.\n\n443\n00:21:38,245 --> 00:21:40,875\nBut typically,\nwe'll want to add more drives.\n\n444\n00:21:40,875 --> 00:21:43,575\nIf this is a web server,\nI might wanna have dedicated drives for\n\n445\n00:21:43,575 --> 00:21:46,845\nthe website, so that I can replicate\nthose drives to other places.\n\n446\n00:21:46,845 --> 00:21:48,265\nOr my database server, or so on.\n\n447\n00:21:48,265 --> 00:21:52,855\nSo I can hit Add New Volume, and\nI can choose to punch in more disks.\n\n448\n00:21:52,855 --> 00:21:55,945\nNow I only have EBS as a choice here,\nand not like S3,\n\n449\n00:21:55,945 --> 00:21:59,870\nb ecause of the AMI that I chose, so\nI'm kinda limited in what I can pick.\n\n450\n00:21:59,870 --> 00:22:04,380\nYou can designate the drive mapping,\nso here I've got /dev/sdb.\n\n451\n00:22:04,380 --> 00:22:06,940\nYou can set a snapshot,\n\n452\n00:22:06,940 --> 00:22:10,790\nif you wanna restore this drive from\na snapshot that you've already created.\n\n453\n00:22:10,790 --> 00:22:12,080\nYou can specify the size.\n\n454\n00:22:12,080 --> 00:22:14,720\nI might wanna bump mine up to 36 gigs.\n\n455\n00:22:14,720 --> 00:22:16,780\nAnd you can choose where\nit's gonna be stored.\n\n456\n00:22:16,780 --> 00:22:18,640\nI'm gonna put mine on Magnetic.\n\n457\n00:22:18,640 --> 00:22:19,440\nAll right.\n\n458\n00:22:19,440 --> 00:22:22,340\nYou can also say whether it\ngets deleted on termination.\n\n459\n00:22:22,340 --> 00:22:23,270\nYou might not want that.\n\n460\n00:22:23,270 --> 00:22:26,520\nI might want to delete the VM,\nbut leave this drive behind,\n\n461\n00:22:26,520 --> 00:22:27,620\nso I still have access to the data.\n\n462\n00:22:27,620 --> 00:22:28,600\nI'm not gonna do that.\n\n463\n00:22:28,600 --> 00:22:30,280\nAll right.\n\n464\n00:22:30,280 --> 00:22:31,920\nSo you can choose those\noptions you created.\n\n465\n00:22:31,920 --> 00:22:33,390\nYou can add as many volumes as you need.\n\n466\n00:22:33,390 --> 00:22:34,610\nAnd you can do this after the fact too.\n\n467\n00:22:34,610 --> 00:22:36,510\nYou don't have to do\nthis during the wizard.\n\n468\n00:22:39,022 --> 00:22:42,560\nAll right, the next option down\nhere is to tag the instance.\n\n469\n00:22:42,560 --> 00:22:46,940\nI mentioned it earlier that we can set\nup custom tags to help us find machines.\n\n470\n00:22:46,940 --> 00:22:50,135\nAnd so you can come in and\ncreate tags and set values for them.\n\n471\n00:22:50,135 --> 00:22:53,670\nThis has absolutely no affect\non the virtual machine itself.\n\n472\n00:22:53,670 --> 00:22:56,462\nBut instead, when we write our scripts and\nour automatons,\n\n473\n00:22:56,462 --> 00:23:00,395\nwe can call these tags to figure out\nwhich machines to apply these to.\n\n474\n00:23:00,395 --> 00:23:04,080\nOr when you're doing filtering on your\nreporting, you can filter based on it.\n\n475\n00:23:04,080 --> 00:23:10,090\nSo, I might create a key\nhere called Environment.\n\n476\n00:23:12,340 --> 00:23:16,330\nAnd I'll set the value for\nthis one as staging or development.\n\n477\n00:23:17,830 --> 00:23:22,370\nAnd as I create more servers,\nI might add this Environment key.\n\n478\n00:23:22,370 --> 00:23:25,630\nAnd on my production ones, I might\nput production in there, and staging,\n\n479\n00:23:25,630 --> 00:23:27,830\nand development, Q and A.\n\n480\n00:23:27,830 --> 00:23:31,860\nAnd that way, I might have a script\nthat says, at Friday night at midnight,\n\n481\n00:23:31,860 --> 00:23:33,560\nall of my employees have gone home.\n\n482\n00:23:33,560 --> 00:23:37,490\nSo go ahead and shutdown any staging\nsever that's running right now.\n\n483\n00:23:37,490 --> 00:23:40,000\nQuery the Environment key\non all of my servers,\n\n484\n00:23:40,000 --> 00:23:42,520\nif any of them are staging,\nshut them down for the weekend.\n\n485\n00:23:42,520 --> 00:23:43,820\nDon't leave them running over the weekend,\n\n486\n00:23:43,820 --> 00:23:46,080\nmaking me pay money\nwhen I don't need them.\n\n487\n00:23:46,080 --> 00:23:49,020\nSo that's the type of automation\nyou can do with these tags, and\n\n488\n00:23:49,020 --> 00:23:51,830\nyou can create a handful of them and\nhave them available on your system.\n\n489\n00:23:54,250 --> 00:23:56,250\nThe next screen is for the security group.\n\n490\n00:23:56,250 --> 00:23:58,750\nOh shoot.\n\n491\n00:23:58,750 --> 00:24:00,487\nI added an empty tag,\nwhich it doesn't like so\n\n492\n00:24:00,487 --> 00:24:01,875\nlet me just delete that out of there.\n\n493\n00:24:01,875 --> 00:24:02,584\nThere we go.\n\n494\n00:24:02,584 --> 00:24:04,043\nNext is the security group.\n\n495\n00:24:04,043 --> 00:24:07,990\nThis is where we create our software\nfirewalls, for our servers.\n\n496\n00:24:07,990 --> 00:24:11,710\nWe can come in, and designate an existing\nsecurity group, if we've already got one.\n\n497\n00:24:11,710 --> 00:24:15,670\nOr, we can create a brand new one,\njust for this server.\n\n498\n00:24:15,670 --> 00:24:19,130\nNow, I say just for this server, we can\nadd more servers to this security group,\n\n499\n00:24:19,130 --> 00:24:22,070\nafter the fact, so if we are adding\nmore web servers, or whatever.\n\n500\n00:24:22,070 --> 00:24:26,500\nAnd you can designate the type of access,\nwhen you create a Linux VM, the default is\n\n501\n00:24:26,500 --> 00:24:30,810\nto create an SSH rule, to allow you to\nbe able to gain access to the system.\n\n502\n00:24:30,810 --> 00:24:33,100\nBut you can customize that,\nadding more things.\n\n503\n00:24:33,100 --> 00:24:34,640\nI'll normally limit the source.\n\n504\n00:24:34,640 --> 00:24:36,410\nThe source defaults to anywhere, but\n\n505\n00:24:36,410 --> 00:24:38,600\nI'll normally tie it to\nthe IP address of my machine.\n\n506\n00:24:38,600 --> 00:24:41,190\nAnd you'll see you can choose My IP,\nand it'll figure it out.\n\n507\n00:24:41,190 --> 00:24:43,967\nOr, you can change that to custom,\nand you can set entire ranges, and\n\n508\n00:24:43,967 --> 00:24:44,873\ndo what ever you need.\n\n509\n00:24:47,540 --> 00:24:48,450\nAll right.\n\n510\n00:24:48,450 --> 00:24:50,248\nYou might wanna change the name\nof the security group.\n\n511\n00:24:50,248 --> 00:24:52,710\nLaunch Wizard One,\nis not the most detailed.\n\n512\n00:24:52,710 --> 00:24:56,820\nSo I might call this, My Show Demo Public,\n\n513\n00:24:57,860 --> 00:25:00,000\nand down here,\nI can designate what it's gonna to have.\n\n514\n00:25:00,000 --> 00:25:01,995\nMaybe it's a web server, so\n\n515\n00:25:01,995 --> 00:25:07,081\nI might create a rule that says\nTCP Port 80, is allowed from anywhere.\n\n516\n00:25:07,081 --> 00:25:07,922\nRight?\nSo I'm just gonna\n\n517\n00:25:07,922 --> 00:25:08,873\ndesignate that right here.\n\n518\n00:25:08,873 --> 00:25:12,623\nAnd you could then, go and add,\nany more ports that you needed.\n\n519\n00:25:12,623 --> 00:25:13,896\nAll right.\nThat's the last one.\n\n520\n00:25:13,896 --> 00:25:16,674\nAnd so, my next button,\nis just review, and launch, and\n\n521\n00:25:16,674 --> 00:25:18,165\nthat's gonna create that VM.\n\n522\n00:25:18,165 --> 00:25:21,567\nAll right.\nNow, it is offering right here, hey,\n\n523\n00:25:21,567 --> 00:25:24,290\nif you want, you can switch to SSD.\n\n524\n00:25:24,290 --> 00:25:27,410\nFree tiered is eligible,\nfor up to 30 gigs of it.\n\n525\n00:25:27,410 --> 00:25:31,220\nI could switch that, and be in business,\nor I can continue with magnetic.\n\n526\n00:25:31,220 --> 00:25:31,730\nAll right.\n\n527\n00:25:31,730 --> 00:25:33,090\nI'm gonna choose to\ncontinue with magnetic.\n\n528\n00:25:35,800 --> 00:25:38,220\nAmazon is slowly phasing\nout the magnetic storage,\n\n529\n00:25:38,220 --> 00:25:41,470\ncuz their SSD cost is approaching\nthe cost of magnetic.\n\n530\n00:25:41,470 --> 00:25:43,200\nThey're actually getting\nto be pretty close.\n\n531\n00:25:43,200 --> 00:25:47,360\nAnd so over the next two years, I think\nwe'll see the magnetic storage go away.\n\n532\n00:25:47,360 --> 00:25:48,660\nAnd just everything be SSD.\n\n533\n00:25:48,660 --> 00:25:50,570\nSo that's why they're recommending that.\n\n534\n00:25:50,570 --> 00:25:51,200\nAll right.\n\n535\n00:25:51,200 --> 00:25:54,880\nNow it is warning me, that I've done\nsomething, to make my instance,\n\n536\n00:25:54,880 --> 00:25:57,270\nnot eligible, for the free usage tier.\n\n537\n00:25:57,270 --> 00:26:00,350\nSo it's letting me know here,\nthat something didn't work out.\n\n538\n00:26:00,350 --> 00:26:03,875\nAnd so, when I look at the information,\nI can see that,\n\n539\n00:26:03,875 --> 00:26:05,831\nis it telling me why it's not?\n\n540\n00:26:09,373 --> 00:26:10,320\nIt's not telling me.\n\n541\n00:26:10,320 --> 00:26:14,260\nSo I must have made some choice in there,\nthat got outside of the free usage tier.\n\n542\n00:26:14,260 --> 00:26:15,780\nSo it does give you a warning there.\n\n543\n00:26:15,780 --> 00:26:16,470\nI thought I did good.\n\n544\n00:26:16,470 --> 00:26:20,620\nI picked EBS storage, and it might be\nthat extra hard drive that I attached.\n\n545\n00:26:20,620 --> 00:26:21,940\nOr the fact that I went HVM on it.\n\n546\n00:26:21,940 --> 00:26:23,820\nBut either way,\nI'll go ahead, and forget it.\n\n547\n00:26:25,450 --> 00:26:27,420\nSo now we'll just launch\nthat virtual machine.\n\n548\n00:26:27,420 --> 00:26:30,744\nHere it's asking about a key pair,\nif I wanna SSH into this box,\n\n549\n00:26:30,744 --> 00:26:33,960\nI'm gonna need a certificate\nto do authentication.\n\n550\n00:26:33,960 --> 00:26:36,660\nAmazon doesn't do a user name and\npassword, on the virtual machines,\n\n551\n00:26:36,660 --> 00:26:38,873\nbecause user names and\npasswords, are inherently weak.\n\n552\n00:26:38,873 --> 00:26:42,037\nIt uses certificate authentication,\nand it sets it up for us.\n\n553\n00:26:42,037 --> 00:26:46,890\nSo it's asking if I wanna pick an existing\nkey pair, or to create a new one.\n\n554\n00:26:46,890 --> 00:26:49,460\nI can choose to proceed without one, but\n\n555\n00:26:49,460 --> 00:26:51,030\nthat's gonna weaken\nthe security of my system.\n\n556\n00:26:51,030 --> 00:26:53,600\nSo I'm gonna create a new key pair for\nme to log in.\n\n557\n00:26:53,600 --> 00:26:57,620\nAnd so, I'll give it a name, and I can\nname this based on the person who's gonna\n\n558\n00:26:57,620 --> 00:26:59,900\nuse it, or\nthe server that they're connecting to.\n\n559\n00:26:59,900 --> 00:27:03,660\nIf I know I'm gonna reuse this,\nI'll usually name it by the person.\n\n560\n00:27:03,660 --> 00:27:08,700\nSo I'm gonna create a Don Pezet key pair,\nand I can reuse that on my other servers.\n\n561\n00:27:08,700 --> 00:27:11,850\nAnd if I ever get fired,\nsomebody can just delete my key pair, and\n\n562\n00:27:11,850 --> 00:27:14,820\nthe other employees will still have\ntheir own key pair, and they'll be fine.\n\n563\n00:27:14,820 --> 00:27:15,550\nSo I'm gonna create it.\n\n564\n00:27:15,550 --> 00:27:19,660\nNow, one word of warning,\nyou do wanna download the key pair.\n\n565\n00:27:19,660 --> 00:27:21,660\nAnd it's just letting you know here,\nyou want to download it, and\n\n566\n00:27:21,660 --> 00:27:23,570\nstore it in a secure location.\n\n567\n00:27:23,570 --> 00:27:26,820\nIf you don't download it,\nnotice right here,\n\n568\n00:27:26,820 --> 00:27:30,595\nyou will not be able to download\nthe file again, after it's created.\n\n569\n00:27:30,595 --> 00:27:33,835\nOnce it's created, Amazon does not give\nyou a way to download the key pair.\n\n570\n00:27:33,835 --> 00:27:36,807\nThis is it, this is your one\nchance to get your private key.\n\n571\n00:27:36,807 --> 00:27:37,805\nAll right?\n\n572\n00:27:37,805 --> 00:27:40,645\nIf you don't download it you\njust have to create a new key.\n\n573\n00:27:40,645 --> 00:27:42,320\nYou delete this one, it's no longer valid.\n\n574\n00:27:42,320 --> 00:27:42,870\nAll right.\n\n575\n00:27:42,870 --> 00:27:46,130\nSo you go ahead, and download it,\nand you'll have it saved, and\n\n576\n00:27:46,130 --> 00:27:46,750\navailable for use.\n\n577\n00:27:46,750 --> 00:27:48,690\nSo I'm gonna go ahead, and download mine.\n\n578\n00:27:48,690 --> 00:27:53,350\nI'll stick it in my downloads,\nand I'll have that key pair.\n\n579\n00:27:53,350 --> 00:27:54,050\nAll right.\n\n580\n00:27:54,050 --> 00:27:58,320\nNow the key pair,\nit's downloading it in a PEM file format.\n\n581\n00:27:58,320 --> 00:28:00,362\nAnd a lot of systems,\nwill recognize that, and use it.\n\n582\n00:28:00,362 --> 00:28:03,340\nIf you're using things like PuTTY,\nPuTTY doesn't recognize those.\n\n583\n00:28:03,340 --> 00:28:06,643\nBut it comes with a utility to convert it,\nso you may have to convert that,\n\n584\n00:28:06,643 --> 00:28:09,331\nto make use of it, but\nI've got it, and it's downloaded.\n\n585\n00:28:09,331 --> 00:28:10,830\nAll right.\nI'll go ahead, and hit Launch Instance.\n\n586\n00:28:10,830 --> 00:28:12,430\nThat should be the last\nthing that it asks.\n\n587\n00:28:12,430 --> 00:28:13,620\nAnd now, it's going to spawn up that VM.\n\n588\n00:28:13,620 --> 00:28:15,510\nAll right.\n\n589\n00:28:15,510 --> 00:28:20,510\nOnce it's done,\nI can go back to my console, and\n\n590\n00:28:20,510 --> 00:28:24,050\nwhen I go under instances,\nI'll now have an instance.\n\n591\n00:28:25,250 --> 00:28:27,910\nNow, that seemed like a lot of work,\ndidn't it?\n\n592\n00:28:27,910 --> 00:28:29,510\nWell that's because I\nwent the advanced way.\n\n593\n00:28:29,510 --> 00:28:32,820\nI went the way, where we saw every\nsingle option, as we went through.\n\n594\n00:28:32,820 --> 00:28:34,300\nIt doesn't have to be that hard.\n\n595\n00:28:34,300 --> 00:28:36,210\nIf you just want a quick,\nand dirty instance,\n\n596\n00:28:36,210 --> 00:28:39,900\nwithout a lot of customization, you could\njust use the Launch Instance button,\n\n597\n00:28:39,900 --> 00:28:41,940\nright here, on the instance screen.\n\n598\n00:28:41,940 --> 00:28:44,130\nIf you hit that,\nit walks you through a wizard.\n\n599\n00:28:44,130 --> 00:28:49,900\nAnd notice right here, it gives me the\nmost common AMIs, in one nice big list,\n\n600\n00:28:49,900 --> 00:28:52,850\nwith good descriptions, and\nall the information I want.\n\n601\n00:28:52,850 --> 00:28:54,130\nSo no messing around,\n\n602\n00:28:54,130 --> 00:28:57,340\nwith trying to figure out what the file\nnaming convention is, and so on.\n\n603\n00:28:57,340 --> 00:29:00,400\nSo you can quickly, and easily spot,\nlike here's the latest and\n\n604\n00:29:00,400 --> 00:29:05,430\ngreatest, Amazon Linux AMI, and it's HVM,\nhere it is, and we're ready to go.\n\n605\n00:29:05,430 --> 00:29:08,550\nOr I can do Red Hat,\nSUSE, whatever, right?\n\n606\n00:29:08,550 --> 00:29:10,370\nSo I can start to pick different ones.\n\n607\n00:29:10,370 --> 00:29:12,140\nHere's Microsoft Windows Server\n2012 R2 Base.\n\n608\n00:29:12,140 --> 00:29:12,720\nAll right.\n\n609\n00:29:12,720 --> 00:29:14,740\nLet's bring up a Windows box.\n\n610\n00:29:14,740 --> 00:29:15,880\nI'll go ahead, and select that one.\n\n611\n00:29:17,630 --> 00:29:19,860\nAnd in this wizard,\nit's gonna ask me for my hardware.\n\n612\n00:29:19,860 --> 00:29:21,630\nThis screen should look familiar, right?\n\n613\n00:29:21,630 --> 00:29:22,870\nI'll stick with the free tier.\n\n614\n00:29:23,940 --> 00:29:26,040\nAnd I'll hit, Review and Launch.\n\n615\n00:29:26,040 --> 00:29:28,990\nNow when I hit, Review and Launch,\nit's gonna bring it up, and\n\n616\n00:29:28,990 --> 00:29:30,630\nit's just warning me about my security.\n\n617\n00:29:30,630 --> 00:29:33,240\nIt's going to be creating that\nnew security group for it.\n\n618\n00:29:33,240 --> 00:29:33,998\nI'm okay with that.\n\n619\n00:29:35,582 --> 00:29:37,590\nAnd I'll go ahead, and hit launch.\n\n620\n00:29:37,590 --> 00:29:40,270\nAnd when it's done, it's gonna create it,\nand I'll be in business.\n\n621\n00:29:40,270 --> 00:29:41,660\nNow I've already got an existing key pair.\n\n622\n00:29:41,660 --> 00:29:43,290\nSo I'll just pick that Don Pezet key pair.\n\n623\n00:29:43,290 --> 00:29:45,090\nI'm gonna reuse that one.\n\n624\n00:29:45,090 --> 00:29:46,590\nAnd I'll launch that instance.\n\n625\n00:29:46,590 --> 00:29:48,400\nSo not it's gonna spin that one up.\n\n626\n00:29:48,400 --> 00:29:49,960\nMuch more simple.\n\n627\n00:29:49,960 --> 00:29:52,200\nBut I didn't get all\nthe various customizations.\n\n628\n00:29:52,200 --> 00:29:55,490\nThere actually was the opportunity for me,\nto customize a few things in there, but\n\n629\n00:29:55,490 --> 00:29:58,000\nnot the same level,\nas what I showed you guys, the first time.\n\n630\n00:29:58,000 --> 00:30:01,210\nSo when I create a virtual machine,\nI almost always go the hard way.\n\n631\n00:30:01,210 --> 00:30:04,130\nThe way where I get all the options,\nso I can customize things.\n\n632\n00:30:04,130 --> 00:30:05,860\nWhen you create it this way,\n\n633\n00:30:05,860 --> 00:30:10,270\nThere's some things that you can't change\nafter the fact, like security groups.\n\n634\n00:30:10,270 --> 00:30:13,350\nWhen you have an instance,\nthat's tied to a security group,\n\n635\n00:30:13,350 --> 00:30:16,100\nyou can't just start moving it\naround to other security groups.\n\n636\n00:30:16,100 --> 00:30:19,680\nSo, if I make a bad decision here,\nit's hard for me to change it, and\n\n637\n00:30:19,680 --> 00:30:21,170\nthat wizard kind of hides that.\n\n638\n00:30:21,170 --> 00:30:25,040\nSo that's why I don't like the wizard,\nbut it's there to make life easy.\n\n639\n00:30:25,040 --> 00:30:27,740\nIf I go back to my instances,\nI'll have that instance.\n\n640\n00:30:27,740 --> 00:30:31,810\nIt'll be there, and\nit'll be booting up, and running.\n\n641\n00:30:31,810 --> 00:30:35,490\nSo now I've created, my first\ncouple of instances, on the system.\n\n642\n00:30:36,600 --> 00:30:39,560\nNow a lot of us are probably ready to\njust jump right into those servers,\n\n643\n00:30:39,560 --> 00:30:43,110\nand get to work, but it does vary,\nhow you gain access to the server,\n\n644\n00:30:43,110 --> 00:30:45,110\nbased on whether it's Windows,\nor Linux, or so on.\n\n645\n00:30:45,110 --> 00:30:47,346\nSo there's some differences there,\nso I wanna go ahead, and\n\n646\n00:30:47,346 --> 00:30:48,990\nrecord that as a separate segment.\n\n647\n00:30:48,990 --> 00:30:52,480\nBut for here, we've seen how to create\nthe virtual machines, get them up, and\n\n648\n00:30:52,480 --> 00:30:53,790\nrunning, and get them in place.\n\n649\n00:30:54,960 --> 00:30:59,030\nNow if you're not going to be using the\nVMs for awhile, if you've brought them up,\n\n650\n00:30:59,030 --> 00:30:59,860\nand you've got them.\n\n651\n00:30:59,860 --> 00:31:00,870\nAnd you're not going to use them for\n\n652\n00:31:00,870 --> 00:31:04,380\nawhile, it's a good idea to shut them\ndown, when you're not using them.\n\n653\n00:31:04,380 --> 00:31:07,470\nAnd to shut them down, you can just check\noff the ones you want to shut down.\n\n654\n00:31:07,470 --> 00:31:12,740\nAnd under actions, you'll see where\nyou've got, stop and terminate.\n\n655\n00:31:12,740 --> 00:31:14,820\nTerminate will delete them.\n\n656\n00:31:14,820 --> 00:31:18,010\nStop will just shut them down,\nand turn them off, okay?\n\n657\n00:31:18,010 --> 00:31:19,110\nSo you can pick and choose.\n\n658\n00:31:19,110 --> 00:31:22,150\nYou can also do the shutdown\nfrom inside of the guest OS.\n\n659\n00:31:22,150 --> 00:31:25,470\nSo I could remote into that Windows box,\nand do a start and shutdown, or\n\n660\n00:31:25,470 --> 00:31:27,900\nremote into the Linux box,\nand do a shutdown command.\n\n661\n00:31:27,900 --> 00:31:29,270\nSo you can go that way too.\n\n662\n00:31:29,270 --> 00:31:32,160\nSometime that's better, if you have\nother services that you need to manage\n\n663\n00:31:32,160 --> 00:31:34,530\nwhen you shut down,\nIf you have scripting that happens.\n\n664\n00:31:34,530 --> 00:31:36,130\nBut if you do these automated steps, and\n\n665\n00:31:36,130 --> 00:31:38,240\nyou choose stop,\nit doesn't just cut the power.\n\n666\n00:31:38,240 --> 00:31:40,770\nIt actually does do a graceful\nshutdown of those AMI's.\n\n667\n00:31:42,850 --> 00:31:43,500\nAll right.\n\n668\n00:31:43,500 --> 00:31:46,420\nBut we're up, and running,\nthe virtual machines are in place.\n\n669\n00:31:46,420 --> 00:31:49,010\nThe only other thing that we might\nwant to do, is to give them a name.\n\n670\n00:31:49,010 --> 00:31:50,560\nNotice that their names are blank.\n\n671\n00:31:50,560 --> 00:31:53,100\nSo I don't really know much about them,\nand if I float over them,\n\n672\n00:31:53,100 --> 00:31:55,490\nI'll see that pencil icon,\nwhere I can change it.\n\n673\n00:31:55,490 --> 00:31:58,580\nAnd so, I can edit these instances,\nto reflect which they are.\n\n674\n00:31:58,580 --> 00:32:00,960\nJust looking at it here, I don't\nreally know which one's Windows, and\n\n675\n00:32:00,960 --> 00:32:02,840\nwhich one is Linux, right?\n\n676\n00:32:02,840 --> 00:32:05,180\nIf I scroll over,\nI see IP information, and\n\n677\n00:32:05,180 --> 00:32:08,610\nall sorts of stuff, but\nI don't really know which is which.\n\n678\n00:32:08,610 --> 00:32:11,070\nAnd that's because it's not\ntruly showing it for me.\n\n679\n00:32:11,070 --> 00:32:15,190\nIf I check one though, down here I get\nmore detailed information about it, and\n\n680\n00:32:15,190 --> 00:32:17,860\nyou can look down here,\nto see what AMI they were built on.\n\n681\n00:32:17,860 --> 00:32:22,370\nSo I can see this first one, was was\nbuilt off the Amazon AMI, the LINUX one.\n\n682\n00:32:22,370 --> 00:32:25,540\nSo I know that first one, is my LINUX box,\nand I can go, and give it a name.\n\n683\n00:32:25,540 --> 00:32:28,703\nSo I'll call that my LINUX VM, and\n\n684\n00:32:28,703 --> 00:32:34,170\nthen I'll name this other one,\nthis one's my Windows VM.\n\n685\n00:32:35,940 --> 00:32:38,290\nThose names have absolutely\nzero effect on the VM.\n\n686\n00:32:38,290 --> 00:32:40,110\nThe VM itself,\ndoesn't even know that changed.\n\n687\n00:32:40,110 --> 00:32:40,870\nIt's just for us.\n\n688\n00:32:40,870 --> 00:32:42,060\nIt's for administrative purposes.\n\n689\n00:32:42,060 --> 00:32:44,350\nWe can tell those apart, and\nrecognize what they are.\n\n690\n00:32:46,140 --> 00:32:47,000\nAll right.\n\n691\n00:32:47,000 --> 00:32:49,500\nNow my Linux VM is up,\nand running, and happy.\n\n692\n00:32:49,500 --> 00:32:52,240\nYou'll see my status checks,\nrunning two out of two checks, are happy.\n\n693\n00:32:52,240 --> 00:32:53,810\nIt's up, and it's perfect.\n\n694\n00:32:53,810 --> 00:32:56,170\nMy Windows machine still\nsays initializing.\n\n695\n00:32:56,170 --> 00:32:56,900\nWhen it boots up,\n\n696\n00:32:56,900 --> 00:33:00,840\nit has to start some services that let it\ncheck in with Amazon to monitor health.\n\n697\n00:33:00,840 --> 00:33:03,620\nAnd so it's not really ready for\nproduction use,\n\n698\n00:33:03,620 --> 00:33:06,360\nuntil I see those status checks go green.\n\n699\n00:33:06,360 --> 00:33:07,830\nSo I don't wanna mess with that one.\n\n700\n00:33:07,830 --> 00:33:10,770\nThis screen will update periodically,\nand I'll see that change, but\n\n701\n00:33:10,770 --> 00:33:11,850\nmy Linux one is done.\n\n702\n00:33:11,850 --> 00:33:15,140\nSo I'll take that Linux one, and\nI'm gonna go ahead, and stop it for now.\n\n703\n00:33:15,140 --> 00:33:16,470\nI'll just choose stop.\n\n704\n00:33:16,470 --> 00:33:18,890\nIt's warning me that it's gonna go ahead,\nand shut it down.\n\n705\n00:33:18,890 --> 00:33:22,120\nIf I had any ephemeral storage,\nwhich we'll talk about later.\n\n706\n00:33:22,120 --> 00:33:24,430\nThe ephemeral storage gets\ndeleted when you shut down.\n\n707\n00:33:24,430 --> 00:33:25,210\nSo it's just warning me.\n\n708\n00:33:25,210 --> 00:33:27,040\nI don't have any, so I'll say yes to stop.\n\n709\n00:33:28,310 --> 00:33:29,790\nAnd it's gonna go ahead,\nand shut that one down.\n\n710\n00:33:29,790 --> 00:33:34,123\nAnd as soon as this other one checks in,\nand gets healthy, I'll shut it down too.\n\n711\n00:33:34,123 --> 00:33:35,356\nAll right.\nSo in this segment,\n\n712\n00:33:35,356 --> 00:33:37,804\nwe gotta a chance to see,\ncreating those virtual machines,\n\n713\n00:33:37,804 --> 00:33:39,130\ngetting them put in place.\n\n714\n00:33:39,130 --> 00:33:41,240\nWe saw the hard way,\nwhere we get all the options.\n\n715\n00:33:41,240 --> 00:33:44,630\nWe saw the easy way, with the little\nwizard, we can quickly get them deployed.\n\n716\n00:33:44,630 --> 00:33:46,873\nReally need to be able to\nbuild up that environment.\n\n717\n00:33:46,873 --> 00:33:47,415\nAll right.\n\n718\n00:33:47,415 --> 00:33:49,250\nWell I hope you guys enjoyed this segment.\n\n719\n00:33:49,250 --> 00:33:51,980\nStay tuned, we've got more\nAmazon web services, coming up.\n\n",
          "vimeoId": "109003323"
        },
        {
          "description": "",
          "length": "805",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/006-Resizing-An-Instance.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/006-Resizing-An-Instance-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/006-Resizing-An-Instance-sm.jpg",
          "title": "Resizing An Instance",
          "transcript": "1\n00:00:00,008 --> 00:00:08,958\n[SOUND]\nIn this segment,\n\n2\n00:00:08,958 --> 00:00:13,560\nwe're gonna take a look at resizing our\nAmazon Web Services, or EC2 instance.\n\n3\n00:00:13,560 --> 00:00:18,420\nIt's no secret here at the ITProTV\nstudios that I'm a bit of a tightwad.\n\n4\n00:00:18,420 --> 00:00:19,830\nI don't like to spend money.\n\n5\n00:00:19,830 --> 00:00:24,360\nAnd so when I bring up new servers and\nAmazon Web Services, I try and\n\n6\n00:00:24,360 --> 00:00:29,350\nkeep them at the lowest level of hardware\nrequired so that my bill is smaller.\n\n7\n00:00:29,350 --> 00:00:32,320\nWe don't want to waste money\non resources we're not using.\n\n8\n00:00:32,320 --> 00:00:36,520\nSo when I'm building up a new environment,\nwhen I'm bringing up web servers, and\n\n9\n00:00:36,520 --> 00:00:41,510\ndatabase servers, file servers, whatever\nit is that I'm bringing up inside of EC2,\n\n10\n00:00:41,510 --> 00:00:43,430\nI'll typically use micro-instances.\n\n11\n00:00:43,430 --> 00:00:45,970\nI'll use the smallest instance possible.\n\n12\n00:00:45,970 --> 00:00:48,798\nBecause when I'm building the environment,\nI'm the only one in there.\n\n13\n00:00:48,798 --> 00:00:53,470\nAnd a micro-instance is perfectly good\nenough to handle almost everything.\n\n14\n00:00:53,470 --> 00:00:54,940\nDatabases get a little bit iffy.\n\n15\n00:00:54,940 --> 00:00:57,390\nBut pretty much everything else\nworks really well in them.\n\n16\n00:00:57,390 --> 00:00:59,700\nAnd so\nyou can build the environment that way.\n\n17\n00:00:59,700 --> 00:01:01,890\nAnd then when you're ready to\nmove it into production, or\n\n18\n00:01:01,890 --> 00:01:05,925\nready to put it under load testing,\nthen you bump up the hardware.\n\n19\n00:01:05,925 --> 00:01:07,590\nCuz it might take me days or weeks,\n\n20\n00:01:07,590 --> 00:01:11,990\nit might even take me months to build\nup a really complex environment.\n\n21\n00:01:11,990 --> 00:01:16,710\nI don't want to pay for extra large\ninstances that are costing me $2 an hour\n\n22\n00:01:16,710 --> 00:01:21,660\nor something like that, when I could be\ndoing micro instances at $0.02 an hour.\n\n23\n00:01:21,660 --> 00:01:24,310\nFortunately inside of\nAmazon they make it really\n\n24\n00:01:24,310 --> 00:01:27,420\neasy to increase the hardware\nlevel of your instances.\n\n25\n00:01:27,420 --> 00:01:28,610\nIt's really pretty simple.\n\n26\n00:01:30,030 --> 00:01:32,650\nI give the scenario of me\npurposely starting off lower.\n\n27\n00:01:32,650 --> 00:01:33,420\nMaybe you don't.\n\n28\n00:01:33,420 --> 00:01:36,430\nMaybe you have a web server and\nyou're running on medium instances, or\n\n29\n00:01:36,430 --> 00:01:39,730\nwhatever it is that you need, and\nall of a sudden you have a video go viral.\n\n30\n00:01:39,730 --> 00:01:41,310\nAnd it really just spirals out there and\n\n31\n00:01:41,310 --> 00:01:45,760\ntons of people are starting to hit that\nvideo, and your server's getting crushed.\n\n32\n00:01:45,760 --> 00:01:46,330\nAll right.\n\n33\n00:01:46,330 --> 00:01:50,280\nWell, you can quickly bump up\nthe resources to met your need.\n\n34\n00:01:50,280 --> 00:01:54,980\nNow, in Amazon web services there's\ntwo different ideas of handling load.\n\n35\n00:01:54,980 --> 00:01:58,840\nYou've got scaling up versus scaling out.\n\n36\n00:01:58,840 --> 00:02:01,970\nScaling out means we add more instances.\n\n37\n00:02:01,970 --> 00:02:05,560\nSo I might have one web server, I add\na second, and a third, and a fourth, and\n\n38\n00:02:05,560 --> 00:02:07,570\nI put a load balancer in front of them.\n\n39\n00:02:07,570 --> 00:02:10,330\nScaling out requires development effort.\n\n40\n00:02:10,330 --> 00:02:12,920\nYou've gotta have a website that's\ndesigned to run on more that one server.\n\n41\n00:02:12,920 --> 00:02:15,360\nYou've gotta have a database server\nthat's separate that they can all access.\n\n42\n00:02:15,360 --> 00:02:18,920\nYou've got security concerns,\nload balancers, auto scale groups,\n\n43\n00:02:18,920 --> 00:02:20,670\nall that complexity.\n\n44\n00:02:20,670 --> 00:02:23,390\nSo scaling out gives you the most power.\n\n45\n00:02:23,390 --> 00:02:25,470\nYou can scale out to huge environments.\n\n46\n00:02:25,470 --> 00:02:27,440\nBut it requires a lot of planning.\n\n47\n00:02:27,440 --> 00:02:28,730\nScaling up,\n\n48\n00:02:28,730 --> 00:02:33,710\non the other hand, is where you just take\nyour existing VM and bump up its hardware.\n\n49\n00:02:33,710 --> 00:02:36,730\nGive it more memory, give it more CPU,\ngive it more storage.\n\n50\n00:02:36,730 --> 00:02:39,450\nYou resize that instance.\n\n51\n00:02:39,450 --> 00:02:42,350\nAnd that doesn't require\nmuch planning at all, right?\n\n52\n00:02:42,350 --> 00:02:43,760\nWe're not changing our software.\n\n53\n00:02:43,760 --> 00:02:44,690\nWe're not changing our IPs.\n\n54\n00:02:44,690 --> 00:02:46,230\nWe're not using load balancers.\n\n55\n00:02:46,230 --> 00:02:48,460\nWe're just taking\nan individual instance and\n\n56\n00:02:48,460 --> 00:02:51,080\nincreasing the hardware\nservices available for it.\n\n57\n00:02:51,080 --> 00:02:53,320\nAnd you can increase or decrease.\n\n58\n00:02:53,320 --> 00:02:57,380\nSo, maybe you work for a school.\n\n59\n00:02:57,380 --> 00:03:00,537\nAnd so, during the school year\nwhen the student are there,\n\n60\n00:03:00,537 --> 00:03:02,360\nyour servers are slammed.\n\n61\n00:03:02,360 --> 00:03:05,620\nAnd so you're bumped up to\nreally high hardware resources.\n\n62\n00:03:05,620 --> 00:03:09,190\nBut during the summertime\nthe students all go home.\n\n63\n00:03:09,190 --> 00:03:10,920\nThe servers are kind\nof sitting there idle.\n\n64\n00:03:10,920 --> 00:03:14,290\nYou can actually lower them\nto lower resources and\n\n65\n00:03:14,290 --> 00:03:15,560\nsave some money over the summer.\n\n66\n00:03:15,560 --> 00:03:19,000\nSo there's all sorts of different\nreasons for resizing the instances.\n\n67\n00:03:19,000 --> 00:03:19,890\nLet's take a look at how it's done.\n\n68\n00:03:20,930 --> 00:03:22,370\nThe process is actually the same.\n\n69\n00:03:22,370 --> 00:03:23,920\nWhether you're using Linux or Windows,\n\n70\n00:03:23,920 --> 00:03:28,490\nit's kind of operating system independent\nbecause it's a hardware change.\n\n71\n00:03:28,490 --> 00:03:31,330\nWe go into our EC2 console.\n\n72\n00:03:32,590 --> 00:03:35,340\nAnd once we get in there,\nwe go into our instances list,\n\n73\n00:03:35,340 --> 00:03:36,990\nand we'll see the instances\nthat we've got.\n\n74\n00:03:36,990 --> 00:03:40,640\nI've got a Linux instance and a Windows\ninstance both just kinda sitting there.\n\n75\n00:03:40,640 --> 00:03:44,740\nThey're idling, running,\nnot doing anything too fancy.\n\n76\n00:03:44,740 --> 00:03:47,720\nFor both of these,\nI brought them up as micros.\n\n77\n00:03:47,720 --> 00:03:49,710\nSo they're very, very small.\n\n78\n00:03:49,710 --> 00:03:52,257\nThey'll have a little\nover 600 megs of memory.\n\n79\n00:03:52,257 --> 00:03:53,970\nThey'll have one virtual CPU.\n\n80\n00:03:53,970 --> 00:03:57,570\nThey'll have six CPU\nburst credits an hour, so\n\n81\n00:03:57,570 --> 00:04:01,300\nthat they're really, that one CPU they\nhave is really being held to 20%.\n\n82\n00:04:01,300 --> 00:04:05,520\nSo, these are really low on the resources.\n\n83\n00:04:05,520 --> 00:04:06,700\nWell, I can bump that up.\n\n84\n00:04:07,950 --> 00:04:10,910\nYou can pick any of your virtual machines,\nand you can increase them.\n\n85\n00:04:10,910 --> 00:04:13,340\nAnd the way that we do that\nis through our action menu.\n\n86\n00:04:13,340 --> 00:04:16,150\nBut before I go to resize it,\n\n87\n00:04:16,150 --> 00:04:19,870\nI need to be aware that I'm changing\nthe hardware of this instance.\n\n88\n00:04:19,870 --> 00:04:23,410\nAnd most operating systems\nreally don't like that.\n\n89\n00:04:23,410 --> 00:04:29,060\nAnd so the official procedure for doing\nthis is to shut the instance down first.\n\n90\n00:04:29,060 --> 00:04:32,340\nSo resizing an instance like\nthis involves some downtime.\n\n91\n00:04:32,340 --> 00:04:35,169\nWe're gonna take the server offline,\nso you wanna schedule this for\n\n92\n00:04:35,169 --> 00:04:36,700\nafter hours or whatever.\n\n93\n00:04:36,700 --> 00:04:38,150\nNow you might be saying to yourself,\nwell Don,\n\n94\n00:04:38,150 --> 00:04:41,000\nI wanna be able to react to\nheavy load on my server, and\n\n95\n00:04:41,000 --> 00:04:44,670\ntaking the server offline is not exactly\nhow we react to heavy load, is it?\n\n96\n00:04:44,670 --> 00:04:46,810\nWell, there's two arguments here.\n\n97\n00:04:46,810 --> 00:04:48,980\nArgument number one is that if\nyour server's under a heavy enough\n\n98\n00:04:48,980 --> 00:04:51,740\nload that it's getting crushed,\nit might as well be off.\n\n99\n00:04:51,740 --> 00:04:54,440\nBecause most users are not being\nable to get to your system.\n\n100\n00:04:54,440 --> 00:04:57,420\nSo you can shut it down,\nbump up the resources, bring it back up.\n\n101\n00:04:57,420 --> 00:05:01,290\nAnd after a small outage,\nnow you've got heavier resources.\n\n102\n00:05:01,290 --> 00:05:06,250\nArgument number two is, if you wanna\nreally handle load without downtime,\n\n103\n00:05:06,250 --> 00:05:08,480\nyou need to be using a load balancer.\n\n104\n00:05:08,480 --> 00:05:12,010\nIf you have more than one server behind\na load balancer, or even if you have\n\n105\n00:05:12,010 --> 00:05:15,980\none server behind a load balancer, that\nsounds like it doesn't make any sense.\n\n106\n00:05:15,980 --> 00:05:18,410\nWhy would I put one server\nbehind a load balancer?\n\n107\n00:05:18,410 --> 00:05:21,810\nBut it's because I'm planning for\nadding more later.\n\n108\n00:05:21,810 --> 00:05:24,840\nAnd so as that one server gets busy,\nI can leave it online, and\n\n109\n00:05:24,840 --> 00:05:29,260\nI can bring up more servers behind\nthe load balancer to pick up the slack.\n\n110\n00:05:29,260 --> 00:05:32,040\nThat works without taking\nthe server offline.\n\n111\n00:05:32,040 --> 00:05:35,200\nSo scaling out, no service interruption.\n\n112\n00:05:35,200 --> 00:05:37,250\nScaling up, there is.\n\n113\n00:05:37,250 --> 00:05:39,960\nSo I'm gonna take my Linux VM and\nI'm gonna shut it down first.\n\n114\n00:05:39,960 --> 00:05:42,660\nI'm gonna go under my Actions menu, and\n\n115\n00:05:42,660 --> 00:05:45,130\nwe'll see down here where I can go and\nstop it.\n\n116\n00:05:45,130 --> 00:05:46,430\nSo I'm gonna go ahead and stop it.\n\n117\n00:05:47,960 --> 00:05:48,680\nSo it's just warning me.\n\n118\n00:05:48,680 --> 00:05:49,480\nIt's gonna shut it down.\n\n119\n00:05:49,480 --> 00:05:52,670\nIf I have any temporary storage, or\nfemoral storage, it's gonna get erased.\n\n120\n00:05:52,670 --> 00:05:53,230\nI'm okay with that.\n\n121\n00:05:54,600 --> 00:05:56,630\nI know I've said this in other segments,\nbut\n\n122\n00:05:56,630 --> 00:06:01,040\nalways be careful to make sure you\nchoose stop and not terminate.\n\n123\n00:06:01,040 --> 00:06:02,650\nTerminate means shut it down and\ndelete it,\n\n124\n00:06:02,650 --> 00:06:05,020\nand that's not exactly what we want here.\n\n125\n00:06:05,020 --> 00:06:07,500\nThat'll create an all new kind of\noutage you'll have to deal with.\n\n126\n00:06:07,500 --> 00:06:08,780\nSo we want to make sure we choose stop.\n\n127\n00:06:08,780 --> 00:06:11,470\nThat's gonna gracefully shut\ndown that operating system.\n\n128\n00:06:11,470 --> 00:06:15,030\nAnd, depending on the OS,\nthis can take seconds, minutes.\n\n129\n00:06:15,030 --> 00:06:18,550\nIf you have a really, really poorly\nconfigured one, it might take even longer.\n\n130\n00:06:18,550 --> 00:06:21,510\nBut it shouldn't take too\nterribly long to stop.\n\n131\n00:06:21,510 --> 00:06:26,740\nOnce it's stopped, under the Action menu,\nwill have this Change Instance Type.\n\n132\n00:06:26,740 --> 00:06:31,040\nIt was grayed out when I first went to\nit because the instance was running.\n\n133\n00:06:31,040 --> 00:06:35,300\nNow that the instance has stopped,\nthe Change Instance Type lights up.\n\n134\n00:06:35,300 --> 00:06:39,830\nAnd now I can choose that, and it shows\nthat it's currently at T2 micro, and\n\n135\n00:06:39,830 --> 00:06:43,640\nI can drop that down and\npick from my different instances.\n\n136\n00:06:43,640 --> 00:06:48,130\nSo if I want to bump it up to a small or\nmedium, or whatever, I can do that.\n\n137\n00:06:48,130 --> 00:06:50,390\nI can even go between\nthe different generations and\n\n138\n00:06:50,390 --> 00:06:55,230\nthe different types there, so you'll see\nsome of the gen two, gen three, and so\n\n139\n00:06:55,230 --> 00:06:57,810\non, as they're all kind\nof laid out right here.\n\n140\n00:06:57,810 --> 00:07:00,430\nSo we just pick which one we\nwant based on our resources.\n\n141\n00:07:00,430 --> 00:07:04,090\nNow it doesn't tell us the resources of\neach of these, so you do need to go and\n\n142\n00:07:04,090 --> 00:07:05,030\ndo your research.\n\n143\n00:07:05,030 --> 00:07:08,030\nPull up the instance list that's\npublished on Amazon's web site and\n\n144\n00:07:08,030 --> 00:07:09,810\nfigure out the resources you need.\n\n145\n00:07:09,810 --> 00:07:12,110\nSo I'm gonna bump up to an M3 medium.\n\n146\n00:07:12,110 --> 00:07:13,580\nAll right, so I'll choose M3 medium.\n\n147\n00:07:13,580 --> 00:07:17,360\nAnd it's also offering\nto upgrade my storage.\n\n148\n00:07:17,360 --> 00:07:21,850\nWe have EBS, so I'm already using\nthe Elastic Block Store from my storage on\n\n149\n00:07:21,850 --> 00:07:24,480\nthis system, but\nit's offering to do EBS Optimized.\n\n150\n00:07:24,480 --> 00:07:27,620\nThat's where they move it to\nthe really fast drives for us and\n\n151\n00:07:27,620 --> 00:07:29,000\ngive us better performance.\n\n152\n00:07:29,000 --> 00:07:30,730\nAdditional charges apply.\n\n153\n00:07:30,730 --> 00:07:33,580\nWell, additional charges apply\nto the instance type too.\n\n154\n00:07:33,580 --> 00:07:37,530\nWhen I bump up,\nI'm moving into a new pricing tier.\n\n155\n00:07:37,530 --> 00:07:41,940\nOne word of caution,\nif you've done a reserved instance,\n\n156\n00:07:41,940 --> 00:07:46,220\nlet's say you reserved\na small instance for a year.\n\n157\n00:07:46,220 --> 00:07:48,890\nSo I've got a one year\ncontract on a small instance.\n\n158\n00:07:48,890 --> 00:07:53,910\nWhen you bump the VM up to a medium,\nit's no longer in your reserved instance.\n\n159\n00:07:53,910 --> 00:07:58,090\nSo when you bump it up to a medium,\nit's now an on-demand medium, so\n\n160\n00:07:58,090 --> 00:08:01,380\nyou're pricing model is going\nto be higher there too.\n\n161\n00:08:01,380 --> 00:08:04,510\nWhat about that small instance\nyou reserved for a year?\n\n162\n00:08:04,510 --> 00:08:05,580\nIt's still sitting there.\n\n163\n00:08:05,580 --> 00:08:09,810\nYou can bring up a new server and stick\nit that one year reserve instance, but\n\n164\n00:08:09,810 --> 00:08:13,170\notherwise it's sitting there empty.\n\n165\n00:08:13,170 --> 00:08:16,070\nAnd you don't pay for\na server that's not running, but\n\n166\n00:08:16,070 --> 00:08:18,260\nyou're taking advantage of\nthat price break either.\n\n167\n00:08:18,260 --> 00:08:20,860\nSo just be aware that with\nthe reserved instances, when you\n\n168\n00:08:20,860 --> 00:08:24,110\nchange the instance type, you might not\nbe under the same pricing tier anymore.\n\n169\n00:08:24,110 --> 00:08:27,810\nAll right, so I'm going to move to medium,\nand I'll apply that.\n\n170\n00:08:27,810 --> 00:08:30,390\nIt only takes a few seconds to apply.\n\n171\n00:08:30,390 --> 00:08:34,450\nAmazon is taking this server that's\noffline and it's attaching different CPUs.\n\n172\n00:08:34,450 --> 00:08:36,860\nI only had one CPU on that Linux VM.\n\n173\n00:08:36,860 --> 00:08:40,850\nWhen I go to medium, I'll have two,\nand it's removing the 20% governor.\n\n174\n00:08:40,850 --> 00:08:44,040\nIt's removing the burst credits,\nbecause on a medium,\n\n175\n00:08:44,040 --> 00:08:46,440\nyou actually get full\naccess to those CPUs.\n\n176\n00:08:46,440 --> 00:08:47,620\nIt's bumping up my memory.\n\n177\n00:08:47,620 --> 00:08:49,490\nI'm trying to do this from memory myself.\n\n178\n00:08:49,490 --> 00:08:52,580\nI think on a medium instance\nyou get 7.5 GB of memory, so\n\n179\n00:08:52,580 --> 00:08:56,500\nit's bumping that up, and\nnow I've got a medium instance.\n\n180\n00:08:56,500 --> 00:09:00,255\nAnd I can fire that up and\nmy system will now show the new resources.\n\n181\n00:09:00,255 --> 00:09:04,737\nIt'll show that I've got that additional\nmemory or processor or whatever.\n\n182\n00:09:04,737 --> 00:09:08,220\nNow when you boot your operating system\nup, it's gonna recognize that change,\n\n183\n00:09:08,220 --> 00:09:09,960\nand it starts to take advantage of it.\n\n184\n00:09:09,960 --> 00:09:14,890\nSo your down time is really however\nlong it takes to shut the VM down, and\n\n185\n00:09:14,890 --> 00:09:16,490\nthen start it back up again.\n\n186\n00:09:16,490 --> 00:09:20,010\nSo you should be able to do this in one or\ntwo minutes.\n\n187\n00:09:20,010 --> 00:09:21,540\nSo if you're under heavy load,\n\n188\n00:09:21,540 --> 00:09:25,990\nyes you're creating an outage, but\nyou've already got that outage in a way.\n\n189\n00:09:25,990 --> 00:09:28,860\nA lot of your customers are not\ngetting the access, you bump it up and\n\n190\n00:09:28,860 --> 00:09:29,660\nnow you're in business.\n\n191\n00:09:29,660 --> 00:09:32,040\nBut if you can do this after\nhours that's even better.\n\n192\n00:09:32,040 --> 00:09:35,670\nSo here we've bumped up that resource,\nand there we go.\n\n193\n00:09:35,670 --> 00:09:38,080\nNow, one other little\ncaveat I want to throw out.\n\n194\n00:09:38,080 --> 00:09:43,050\nIf you've got a really old instance that's\nbeen running in Amazon for a long time.\n\n195\n00:09:45,110 --> 00:09:48,310\nBefore EBS, before Elastic Block Store,\nthere was a different type of\n\n196\n00:09:48,310 --> 00:09:51,810\nstorage called an Instance Store,\nand you may still see that.\n\n197\n00:09:51,810 --> 00:09:54,730\nNow Amazon doesn't recommend people use it\nanymore, so when you bring up new VM's, or\n\n198\n00:09:54,730 --> 00:09:56,880\nnew instances,\nthey're not gonna have that.\n\n199\n00:09:56,880 --> 00:09:58,250\nBut if you have ones\nthat have been around for\n\n200\n00:09:58,250 --> 00:10:01,340\na while they might still\nhave Instant Store storage.\n\n201\n00:10:01,340 --> 00:10:05,190\nAnd if they do,\nyou can't change their instance type.\n\n202\n00:10:05,190 --> 00:10:08,550\nWith those instances they're locked\ninto the type that you made.\n\n203\n00:10:08,550 --> 00:10:11,910\nSo if you ever have an instance\nthat you shut down and\n\n204\n00:10:11,910 --> 00:10:15,260\nthat option doesn't show up under your\nAction menu, you just can't change\n\n205\n00:10:15,260 --> 00:10:18,820\nthe instance type, it might be\nthat has Instant Store storage.\n\n206\n00:10:18,820 --> 00:10:19,950\nAnd if that's the case,\n\n207\n00:10:19,950 --> 00:10:23,470\nthe only way to scale it up is\nto create an all new instance.\n\n208\n00:10:23,470 --> 00:10:26,890\nYou create a new instance, you backup\nyour operating system day on one,\n\n209\n00:10:26,890 --> 00:10:29,220\nyou restore it through the other,\nand there you go.\n\n210\n00:10:29,220 --> 00:10:30,470\nMuch more involved, right?\n\n211\n00:10:30,470 --> 00:10:33,420\nMuch longer downtime on that one,\ncuz you've got to rebuild the system.\n\n212\n00:10:33,420 --> 00:10:35,500\nSo, not very convenient.\n\n213\n00:10:35,500 --> 00:10:38,380\nFortunately, the EBS volume ones,\nthey're not affected by that.\n\n214\n00:10:38,380 --> 00:10:42,170\nAnd so any VMs that create over\nthe last few years will be fine.\n\n215\n00:10:42,170 --> 00:10:44,100\nAnd it really is the few years.\n\n216\n00:10:44,100 --> 00:10:46,460\nSo, you'd have to have\nan old virtual machine.\n\n217\n00:10:46,460 --> 00:10:48,060\nOne that's been kicking around for\nfive years or\n\n218\n00:10:48,060 --> 00:10:52,830\nso that would have\nan Instant Store storage on it.\n\n219\n00:10:52,830 --> 00:10:57,010\nWindows VMs are the same way, cuz this is\nhardware, it doesn't care what the OS is.\n\n220\n00:10:57,010 --> 00:10:58,600\nWe would just check off\nour Windows machine and\n\n221\n00:10:58,600 --> 00:11:01,050\nwe would go to Change Instance Type.\n\n222\n00:11:01,050 --> 00:11:05,010\nWe can boot it up and run, and\nnow we're running on these new resources.\n\n223\n00:11:05,010 --> 00:11:09,671\nAnd at the end of the day,\nmaybe this was just a one time thing,\n\n224\n00:11:09,671 --> 00:11:13,090\nmaybe you work for\nsomebody like H&R Block.\n\n225\n00:11:13,090 --> 00:11:13,610\nRight?\n\n226\n00:11:13,610 --> 00:11:14,695\nThey're a tax company.\n\n227\n00:11:14,695 --> 00:11:17,540\nAnd so, here in the US,\nH&R Block is a tax company.\n\n228\n00:11:17,540 --> 00:11:19,390\nThey help you file your tax returns.\n\n229\n00:11:19,390 --> 00:11:22,920\nAnd in the months of March and\nApril, or really,\n\n230\n00:11:22,920 --> 00:11:27,530\nI guess January through April,\nthey are insanely busy.\n\n231\n00:11:27,530 --> 00:11:31,810\nAnd so they'll bump all their servers\nup cuz everybody is filing their taxes.\n\n232\n00:11:31,810 --> 00:11:35,890\nBut then after April,\nthat's when taxes are due, April 15th.\n\n233\n00:11:35,890 --> 00:11:39,050\nAnd so after that, their usage drops.\n\n234\n00:11:39,050 --> 00:11:40,780\nThey actually have a lot\nof seasonal employees.\n\n235\n00:11:40,780 --> 00:11:44,140\nThey actually cut employees\nduring the non active months.\n\n236\n00:11:44,140 --> 00:11:49,190\nAnd so, they'll want to bump\nup from January to April.\n\n237\n00:11:49,190 --> 00:11:53,740\nBut then, from May through December,\nthey'll want to step back down.\n\n238\n00:11:53,740 --> 00:11:56,480\nAnd you can easily do that just\nby choosing the instance, and\n\n239\n00:11:56,480 --> 00:11:59,690\ngoing back here to Change Instance Type,\nand\n\n240\n00:11:59,690 --> 00:12:03,100\nswitching right back to whatever\ninstance type it is that you need.\n\n241\n00:12:03,100 --> 00:12:04,570\nSo you can pick and choose.\n\n242\n00:12:04,570 --> 00:12:06,040\nYou can go up, and you can go down.\n\n243\n00:12:06,040 --> 00:12:10,170\nAnd when you reboot,\nyour operating system will recognize that.\n\n244\n00:12:10,170 --> 00:12:13,600\nAll right, so\nthat is resizing an instance.\n\n245\n00:12:13,600 --> 00:12:18,930\nBe aware that if you move up to a higher\ninstance that includes more storage,\n\n246\n00:12:18,930 --> 00:12:22,030\nyour operating system probably\nwon't recognize it right away.\n\n247\n00:12:22,030 --> 00:12:25,120\nAnd that's because the storage is\ntalking about the hard drive itself.\n\n248\n00:12:25,120 --> 00:12:28,880\nYour operating system creates\npartitions inside of the storage.\n\n249\n00:12:28,880 --> 00:12:33,050\nSo if I bump up to a medium instance,\nI get more storage.\n\n250\n00:12:33,050 --> 00:12:37,260\nI'll need to go into my software,\ninto my OS, and in Linux or in Windows,\n\n251\n00:12:37,260 --> 00:12:41,090\nI'll need to go and resize my partitions\nto take advantage of that extra storage.\n\n252\n00:12:41,090 --> 00:12:45,690\nIf you do that,\nwhen you step down to a smaller instance,\n\n253\n00:12:45,690 --> 00:12:48,000\nyou've got these bigger\ndrives that you're using now.\n\n254\n00:12:48,000 --> 00:12:50,070\nAnd it's gonna cause some problems right,\nand\n\n255\n00:12:50,070 --> 00:12:52,050\nit's gonna change your billing structure.\n\n256\n00:12:52,050 --> 00:12:56,180\nBecause you're using more storage than\nwhat that instance type normally contains.\n\n257\n00:12:56,180 --> 00:12:57,308\nSo be aware of that too.\n\n258\n00:12:57,308 --> 00:13:01,750\nYou might wanna step up to a higher\ninstance and not adjust your storage.\n\n259\n00:13:01,750 --> 00:13:03,950\nJust because that when you step\nback down it's all the same.\n\n260\n00:13:03,950 --> 00:13:08,470\nAnd so that's oftentimes what I'll do,\nis not mess with the storage piece.\n\n261\n00:13:08,470 --> 00:13:09,610\nAll right.\n\n262\n00:13:09,610 --> 00:13:13,030\nSo in this segment we got a chance\nto see how to resize the instances.\n\n263\n00:13:13,030 --> 00:13:14,390\nReally pretty easy, right?\n\n264\n00:13:14,390 --> 00:13:16,190\nIt does require some downtime though,\n\n265\n00:13:16,190 --> 00:13:18,600\nso be aware of that and\nalways keep it in mind.\n\n266\n00:13:18,600 --> 00:13:20,080\nAll right,\nwell I hope you guys enjoyed the segment.\n\n267\n00:13:20,080 --> 00:13:24,670\nStay tuned, we've got more Amazon\nweb services coming up next.\n\n",
          "vimeoId": "109151997"
        },
        {
          "description": "",
          "length": "884",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/007-Assigning-A-Static-IP.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/007-Assigning-A-Static-IP-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/007-Assigning-A-Static-IP-sm.jpg",
          "title": "Assigning A Static IP",
          "transcript": "1\n00:00:00,000 --> 00:00:06,725\n[MUSIC]\n\n2\n00:00:07,887 --> 00:00:12,480\nIn this segment we're gonna take a look\nat assigning a static IP to our servers.\n\n3\n00:00:12,480 --> 00:00:15,800\nWhen you bring up an instance\ninside of EC2 it's going\n\n4\n00:00:15,800 --> 00:00:18,220\nto be assigned an IP address.\n\n5\n00:00:18,220 --> 00:00:21,330\nAmazon will set up each of\nyour instances to use DHCP and\n\n6\n00:00:21,330 --> 00:00:26,220\nthey'll pull an address from the available\npublic pool of IPs that Amazon has.\n\n7\n00:00:26,220 --> 00:00:28,590\nNo actually, usually you get two IPs.\n\n8\n00:00:28,590 --> 00:00:32,580\nAn internal private IP that'll\nbe 172 dot something and\n\n9\n00:00:32,580 --> 00:00:35,260\nthen a public internet accessible IP.\n\n10\n00:00:35,260 --> 00:00:38,190\nNow it's dynamically generated\nwhen that instance starts and\n\n11\n00:00:38,190 --> 00:00:41,810\nso you'll have that IP the entire\ntime that instance is on.\n\n12\n00:00:41,810 --> 00:00:46,000\nBut if you ever stop the instance,\nif you shut it down, while it's off,\n\n13\n00:00:46,000 --> 00:00:50,150\nthat IP returns to the pool,\nand Amazon is very busy, so\n\n14\n00:00:50,150 --> 00:00:53,150\nthe odds are that it's going to\nbe given out to another customer.\n\n15\n00:00:53,150 --> 00:00:56,870\nSo it's a rare day that\nyou're able to stop a VM and\n\n16\n00:00:56,870 --> 00:00:59,800\nstart it and\nhave it get the same IP address.\n\n17\n00:00:59,800 --> 00:01:03,610\nNow, that may be fine if your server's\nbehind a load balancer you really don't\n\n18\n00:01:03,610 --> 00:01:05,220\ncare what IP address it has.\n\n19\n00:01:05,220 --> 00:01:07,860\nAnd so you don't have to\nmess around with static IPs.\n\n20\n00:01:07,860 --> 00:01:10,910\nBut if you want to know that your\nserver always has the same IP and\n\n21\n00:01:10,910 --> 00:01:15,940\nyou wanna update a DNS record to\nreflect that you need a static IP.\n\n22\n00:01:15,940 --> 00:01:19,270\nNow Amazon does not charge for static IPs.\n\n23\n00:01:19,270 --> 00:01:22,430\nThey're free as long as the server is on.\n\n24\n00:01:22,430 --> 00:01:24,840\nIf you shut the instance off though,\n\n25\n00:01:24,840 --> 00:01:27,300\nthat's when the IP is supposed\nto go back into the pool.\n\n26\n00:01:27,300 --> 00:01:30,800\nAnd so\nAmazon starts to charge from that point.\n\n27\n00:01:30,800 --> 00:01:34,900\nSo static IPs do cost money if your\nserver is off, but most of us aren't\n\n28\n00:01:34,900 --> 00:01:38,190\nin the business of bringing servers up\nthat are gonna be turned off, right?\n\n29\n00:01:38,190 --> 00:01:41,100\nSo most of us have our servers on,\nand so we never have to pay for\n\n30\n00:01:41,100 --> 00:01:43,500\nthe static IPs, they're just a part of it.\n\n31\n00:01:43,500 --> 00:01:47,240\nAmazon figures your server\nhas to have an IP anyway, so\n\n32\n00:01:47,240 --> 00:01:49,230\nwhat do we care if it's\nthe same IP every time?\n\n33\n00:01:49,230 --> 00:01:51,030\nSo why charge extra for it, right?\n\n34\n00:01:51,030 --> 00:01:52,010\nThey only charge you extra for\n\n35\n00:01:52,010 --> 00:01:55,100\nthe scenario where you're not\nreturning it back to the pool.\n\n36\n00:01:55,100 --> 00:01:58,200\nSo, when I brought these two instances up,\nI've got a Linux VM and\n\n37\n00:01:58,200 --> 00:02:03,270\na Windows VM, they came up, and\nAmazon assigned them a dynamic IP.\n\n38\n00:02:03,270 --> 00:02:07,290\nNow, the IP, it's not listed on this,\nwell, actually, it is, it's right there.\n\n39\n00:02:07,290 --> 00:02:08,480\nWe get it listed right here.\n\n40\n00:02:08,480 --> 00:02:11,550\nIt's not listed on the screen when I first\nlooked at it because my resolution is too\n\n41\n00:02:11,550 --> 00:02:13,450\nlow, but when I scroll over, there it is.\n\n42\n00:02:13,450 --> 00:02:16,412\nI can see the two public\nIPs it gave to my servers.\n\n43\n00:02:16,412 --> 00:02:19,280\nNow there's a pretty big\ngap between the IPs.\n\n44\n00:02:19,280 --> 00:02:21,620\nIt's not normally gonna issue\nthem in order or anything.\n\n45\n00:02:21,620 --> 00:02:24,920\nIt's just pulling them from\nthis available pool of IPs.\n\n46\n00:02:26,110 --> 00:02:30,210\nIt also gives them a public DNS name and\nthis DNS name,\n\n47\n00:02:30,210 --> 00:02:32,460\nit's not really intended for\nyou to give your customers.\n\n48\n00:02:32,460 --> 00:02:33,746\nIf you look at it, it's pretty long.\n\n49\n00:02:33,746 --> 00:02:41,880\nIt's ec2-the IP\naddress.compute-1.amazonaws.com.\n\n50\n00:02:41,880 --> 00:02:45,590\nThis DNS name is used simply to\nmake life a little easier on us\n\n51\n00:02:45,590 --> 00:02:48,050\nwhen we're tying it to load balancers and\nthings of that nature.\n\n52\n00:02:48,050 --> 00:02:52,470\nBut we're typically not going to use\nthis public DNS name right here.\n\n53\n00:02:52,470 --> 00:02:53,900\nAll right, but I've got these public IPs.\n\n54\n00:02:53,900 --> 00:02:57,750\nMy problem is, if I turn the VM off,\nI might lose that IP.\n\n55\n00:02:57,750 --> 00:03:00,050\nSo if I go and\nI update a bunch of my DNS records,\n\n56\n00:03:00,050 --> 00:03:02,540\nif I say,\nmaybe I'm setting up a new FTP server.\n\n57\n00:03:02,540 --> 00:03:04,580\nSo I create ftp.itpro.tv.\n\n58\n00:03:04,580 --> 00:03:07,900\nAnd I point it to this IP right here.\n\n59\n00:03:07,900 --> 00:03:10,650\nAnd then one day, I shut this VM\ndown to do a little maintenance.\n\n60\n00:03:10,650 --> 00:03:13,710\nMaybe I'm resizing my instance,\nbumping it up or whatever.\n\n61\n00:03:13,710 --> 00:03:16,520\nWhen I boot it back up,\nit can get a different IP.\n\n62\n00:03:16,520 --> 00:03:19,450\nNow that DNS record I made is wrong and\nI gotta go and update that or\n\n63\n00:03:19,450 --> 00:03:23,170\nmy customers are getting unable to connect\nto server errors, things of that nature.\n\n64\n00:03:23,170 --> 00:03:25,050\nYou don't want that to happen.\n\n65\n00:03:25,050 --> 00:03:27,000\nSo we wanna assign a static IP.\n\n66\n00:03:27,000 --> 00:03:32,310\nWell, step one for\nassigning an IP is to allocate the IP.\n\n67\n00:03:32,310 --> 00:03:36,710\nWe need to reach into Amazon's pool and\nsay, allocate an IP address for me.\n\n68\n00:03:36,710 --> 00:03:38,700\nGive me this IP so I've got it available.\n\n69\n00:03:38,700 --> 00:03:41,960\nAll right, so\nyou can go down here to your network and\n\n70\n00:03:41,960 --> 00:03:45,420\nsecurity section, and go into elastic IPs.\n\n71\n00:03:46,940 --> 00:03:48,760\nAll right.\nThis is all inside of EC2.\n\n72\n00:03:48,760 --> 00:03:52,740\nIf I start from scratch, right, if I go\nback to my console home I'm going into EC2\n\n73\n00:03:52,740 --> 00:03:57,490\nwhere my instances are, and\nthen I'm going down to my elastic IPs.\n\n74\n00:03:57,490 --> 00:03:58,760\nAll right.\n\n75\n00:03:58,760 --> 00:04:02,010\nThey're called elastic\nIPs because you can move\n\n76\n00:04:02,010 --> 00:04:04,000\nthese from server to server to server.\n\n77\n00:04:04,000 --> 00:04:06,980\nIt's really easy for you to bounce these\naround and do various things with them, so\n\n78\n00:04:06,980 --> 00:04:08,340\nthat they're really flexible, and\n\n79\n00:04:08,340 --> 00:04:10,710\nthat's kind of where the elastic\nterminology comes in.\n\n80\n00:04:10,710 --> 00:04:13,580\nThey can also be failed over\nbetween data centers too.\n\n81\n00:04:13,580 --> 00:04:16,510\nThere's some extra things you have\nto do to get that working, but\n\n82\n00:04:16,510 --> 00:04:18,560\nit really does give you\na little bit of flexibility.\n\n83\n00:04:18,560 --> 00:04:23,100\nAll right, you can see I don't have\nany addresses allocated right now.\n\n84\n00:04:23,100 --> 00:04:26,900\nDoesn't mean I'm not using IPs,\nI just don't have any static IPs.\n\n85\n00:04:26,900 --> 00:04:30,710\nSo I'll hit allocate new address and\nit's gonna say are you sure?\n\n86\n00:04:30,710 --> 00:04:31,570\nYes, I am sure.\n\n87\n00:04:31,570 --> 00:04:32,880\nGo ahead and do it.\n\n88\n00:04:32,880 --> 00:04:33,860\nAnd there it is.\n\n89\n00:04:33,860 --> 00:04:34,940\nI just got a static IP.\n\n90\n00:04:34,940 --> 00:04:35,920\nAll right.\n\n91\n00:04:35,920 --> 00:04:37,520\nSo it's right there and it's in my chart.\n\n92\n00:04:37,520 --> 00:04:40,120\nNotice it didn't let\nme pick an IP address.\n\n93\n00:04:40,120 --> 00:04:41,750\nThere's a reason for that.\n\n94\n00:04:41,750 --> 00:04:45,670\nYou might know an IP address that\nsomeone else's site was using.\n\n95\n00:04:45,670 --> 00:04:49,560\nAnd if they've changed IPs you could\npotentially bring your server up with\n\n96\n00:04:49,560 --> 00:04:51,320\nan IP they were using.\n\n97\n00:04:51,320 --> 00:04:55,760\nI am probably not the first person\nto get this elastic IP right here.\n\n98\n00:04:55,760 --> 00:04:57,980\nOther people may have used it for\nother things.\n\n99\n00:04:57,980 --> 00:05:01,910\nThis can be a real problem with\nthings like email servers.\n\n100\n00:05:01,910 --> 00:05:04,570\nSomeone else may have brought up\na spam server with this IP and\n\n101\n00:05:04,570 --> 00:05:05,890\ngot it blacklisted.\n\n102\n00:05:05,890 --> 00:05:09,580\nAnd now I bring up a server with\nthis IP and I'm blacklisted,\n\n103\n00:05:09,580 --> 00:05:10,780\neven though I haven't sent a single email.\n\n104\n00:05:10,780 --> 00:05:14,000\nAll right, so\nunderstand that there can be some history\n\n105\n00:05:14,000 --> 00:05:16,680\nwith an IP address that\nyou get from Amazon.\n\n106\n00:05:16,680 --> 00:05:18,820\nSo, here, I've got that IP, and\n\n107\n00:05:18,820 --> 00:05:23,640\nif I do find that it's blacklisted,\nI could go and get it cleared and so\n\n108\n00:05:23,640 --> 00:05:27,380\non, or you could just remove it and\nallocate a new one, right?\n\n109\n00:05:27,380 --> 00:05:31,310\nSo you can release the address\nto put it back in Amazon's pool.\n\n110\n00:05:31,310 --> 00:05:33,530\nAnd allocate a new one.\n\n111\n00:05:33,530 --> 00:05:34,110\nBut this one's fine.\n\n112\n00:05:34,110 --> 00:05:36,180\nI actually have two servers though,\nso I\"m going to go ahead and\n\n113\n00:05:36,180 --> 00:05:38,520\nallocate a second address.\n\n114\n00:05:38,520 --> 00:05:40,920\nSo I'll just hit that and\nthere we go I've got another one.\n\n115\n00:05:40,920 --> 00:05:45,070\nSo now I've got two IP addresses that are\navailable for me to use for my servers.\n\n116\n00:05:45,070 --> 00:05:48,490\nNow, neither of them\nare attached to an instance.\n\n117\n00:05:48,490 --> 00:05:50,680\nSo, right now I'm paying money.\n\n118\n00:05:52,040 --> 00:05:56,770\nI'm paying, I really should have looked\nthis up, I believe it's $0.25 per day.\n\n119\n00:05:56,770 --> 00:06:00,420\nLet me pull up the elastic IP pricing.\n\n120\n00:06:01,920 --> 00:06:03,040\nAnd we'll find out for sure.\n\n121\n00:06:05,100 --> 00:06:06,510\nSo the elastic IP, here we go.\n\n122\n00:06:08,420 --> 00:06:11,190\nWhoops, my little search\ndidn't work out so well.\n\n123\n00:06:11,190 --> 00:06:12,460\nThere I did it, there we go.\n\n124\n00:06:12,460 --> 00:06:15,690\nThe elastic IPs, they don't cost you\na dime while the server's running.\n\n125\n00:06:15,690 --> 00:06:16,760\nSo zero dollars.\n\n126\n00:06:16,760 --> 00:06:19,990\nBut when the server is off,\nso if we look down here and\n\n127\n00:06:19,990 --> 00:06:25,860\nfind IP is not associated with a running\ninstance, on a per hour is 0.005, so\n\n128\n00:06:25,860 --> 00:06:32,040\nit's half a penny per hour, which\n\n129\n00:06:32,040 --> 00:06:37,780\nworks out to about $0.12 or $0.13 a day,\nso it's actually lower than what I said.\n\n130\n00:06:37,780 --> 00:06:39,760\nSo it's not an outrageous amount.\n\n131\n00:06:39,760 --> 00:06:41,190\nBut they do have a fee.\n\n132\n00:06:41,190 --> 00:06:42,470\nSo be aware of that.\n\n133\n00:06:42,470 --> 00:06:46,250\nThe other thing to be aware of is if\nyou have more than one IP on a server.\n\n134\n00:06:46,250 --> 00:06:49,140\nSo if you want to attach\nmultiple IPs to the same server.\n\n135\n00:06:49,140 --> 00:06:53,440\nMaybe you have one web server but\nyou've got multiple websites on it and\n\n136\n00:06:53,440 --> 00:06:57,870\nyou don't wanna do just the name masking,\ncuz that doesn't always work.\n\n137\n00:06:57,870 --> 00:07:01,550\nSo instead, you want to do separate\nIP addresses for each site.\n\n138\n00:07:01,550 --> 00:07:05,750\nWell, the additional IPs on that\none server will cost you money, and\n\n139\n00:07:05,750 --> 00:07:08,210\nit's not much, half a cent per hour.\n\n140\n00:07:09,660 --> 00:07:13,150\nAll right, so not a big deal there,\nwe go ahead and create these IPs.\n\n141\n00:07:13,150 --> 00:07:16,780\nI'm now paying half a cent per\nhour while these aren't attached.\n\n142\n00:07:16,780 --> 00:07:20,250\nI need to attach them to an instance,\nand that's the second part.\n\n143\n00:07:20,250 --> 00:07:24,940\nSo, allocate is the first part,\nassociate is the second part.\n\n144\n00:07:24,940 --> 00:07:28,440\nAssociate is when we\ntie the IP to a server.\n\n145\n00:07:28,440 --> 00:07:31,560\nNow when I go to my instances I've\nalready got a window server, right here.\n\n146\n00:07:31,560 --> 00:07:32,990\nSo here's my Windows server.\n\n147\n00:07:32,990 --> 00:07:36,330\nAnd its IP address, if I scroll\nover is 54.172.48.110, right, so,\n\n148\n00:07:36,330 --> 00:07:39,260\nit's got an IP that ends in 110.\n\n149\n00:07:39,260 --> 00:07:43,570\nAnd I'm actually logged\ninto that server over here.\n\n150\n00:07:43,570 --> 00:07:49,320\nSo if I drop into its command prompt,\nI can see it right there.\n\n151\n00:07:49,320 --> 00:07:54,100\nWell actually, when you look here, you're\ngonna see this internal, private IP.\n\n152\n00:07:54,100 --> 00:07:58,110\nSee, I've got 172.31.3.59,\nthat's that internal IP.\n\n153\n00:07:58,110 --> 00:08:01,840\nBut here on my wallpaper they're\nshowing that public IP of 110.\n\n154\n00:08:01,840 --> 00:08:07,470\nAnd if I fire up a web browser,\nand I go to a site like.\n\n155\n00:08:07,470 --> 00:08:09,350\nOops, if I minimize it.\n\n156\n00:08:09,350 --> 00:08:12,159\nIf I go to a site like, we'll do.\n\n157\n00:08:12,159 --> 00:08:15,950\n[LAUGH] Apparently Internet Explorer\nis going to be beyond my technical\n\n158\n00:08:15,950 --> 00:08:16,482\nskills today.\n\n159\n00:08:16,482 --> 00:08:17,210\nAll right.\n\n160\n00:08:17,210 --> 00:08:19,380\nSo I'm going to go to ipchicken.com.\n\n161\n00:08:19,380 --> 00:08:22,620\nIf you can't trust the IP\nchicken who can you trust?\n\n162\n00:08:22,620 --> 00:08:24,130\nLet me just add them to my trusted zone.\n\n163\n00:08:24,130 --> 00:08:27,080\nAnd tell that to stop popping.\n\n164\n00:08:27,080 --> 00:08:27,850\nThere we go.\n\n165\n00:08:27,850 --> 00:08:33,083\nSo I can see that when I went out to the\ninternet, that was my IP, 54.172.48.110.\n\n166\n00:08:33,083 --> 00:08:33,970\nAll right.\n\n167\n00:08:33,970 --> 00:08:36,890\nSo I've got that IP,\nthat's what I'm using.\n\n168\n00:08:36,890 --> 00:08:39,660\nI have this private IP internally, and\n\n169\n00:08:39,660 --> 00:08:43,280\nAmazon does a one to one map mapping so\nthat it's tied to me.\n\n170\n00:08:43,280 --> 00:08:46,420\nAll the traffic makes it to me, and\nit doesn't mess with any of the software.\n\n171\n00:08:46,420 --> 00:08:49,090\nBut it makes it where I\ncan change the IP address\n\n172\n00:08:49,090 --> 00:08:52,490\nwhile the server's online without\nhaving to mess with the server.\n\n173\n00:08:52,490 --> 00:08:53,040\nAll right.\n\n174\n00:08:53,040 --> 00:08:55,500\nSo the server I can leave\nits configuration alone.\n\n175\n00:08:55,500 --> 00:08:59,240\nI can change the public IP and\nAmazon's changing that NAT mapping.\n\n176\n00:08:59,240 --> 00:09:00,570\nSo let's see that in action.\n\n177\n00:09:00,570 --> 00:09:03,900\nI'm gonna take one of these elastic IPs.\n\n178\n00:09:03,900 --> 00:09:05,630\nI'll take the one that ends in 120.\n\n179\n00:09:05,630 --> 00:09:08,280\nMy current IP address ends in 110.\n\n180\n00:09:08,280 --> 00:09:09,600\nThis one ends in 120.\n\n181\n00:09:09,600 --> 00:09:13,550\nSo I'll take that, and\nI'll choose to associate the address.\n\n182\n00:09:13,550 --> 00:09:17,120\nAnd I'm gonna pick the instance\nthat I want to associate it to.\n\n183\n00:09:17,120 --> 00:09:21,070\nAnd you can choose by the instance name\nwhere you've got that right there.\n\n184\n00:09:21,070 --> 00:09:23,900\nYou can choose by a network\ninterface if you have more than one\n\n185\n00:09:23,900 --> 00:09:25,840\ninterface on the same server.\n\n186\n00:09:25,840 --> 00:09:29,370\nOr you can choose by the private\nIP if you know the private IP.\n\n187\n00:09:29,370 --> 00:09:32,710\nIf you're using VPCs,\nyou can designate those.\n\n188\n00:09:32,710 --> 00:09:36,080\nI'm not using any VPCs yet,\nso I'll go by instance name.\n\n189\n00:09:36,080 --> 00:09:38,550\nAnd I'm gonna pick my Windows server.\n\n190\n00:09:38,550 --> 00:09:39,150\nOkay?\n\n191\n00:09:39,150 --> 00:09:43,040\nNow notice that I called it Windows VM,\ncuz it's human-readable, but\n\n192\n00:09:43,040 --> 00:09:45,280\nit'll actually go to the instance ID.\n\n193\n00:09:45,280 --> 00:09:49,990\nSo it's i-f- whatever,\nI never remember those.\n\n194\n00:09:49,990 --> 00:09:52,270\nSo it's kinda nice that they\ngive us the name to pick from.\n\n195\n00:09:52,270 --> 00:09:54,920\nBut if you wanna see that ID,\nyou can go to the instances screen and\n\n196\n00:09:54,920 --> 00:09:56,230\nit's right there in one of the columns.\n\n197\n00:09:57,300 --> 00:10:00,340\nSo I'm gonna choose to associate that and\n\n198\n00:10:00,340 --> 00:10:05,610\nnow that new IP is tied to\nthe private IP of my Windows VM.\n\n199\n00:10:05,610 --> 00:10:10,330\nAnd when I go back up to my instances,\nhere's my Windows VM.\n\n200\n00:10:10,330 --> 00:10:13,570\nAnd notice that that DNS name has changed.\n\n201\n00:10:13,570 --> 00:10:19,670\nNow the DNS name is the new IP ending in\n120 and the IP address is changed too.\n\n202\n00:10:19,670 --> 00:10:24,020\nAnd it's a hyperlink which is your hint\nto know that it's actually a static IP.\n\n203\n00:10:24,020 --> 00:10:26,655\nYou click on that it'll take\nyou to the elastic IP page.\n\n204\n00:10:26,655 --> 00:10:28,410\nVersus these ones that aren't hyperlinked,\n\n205\n00:10:28,410 --> 00:10:29,740\nthose are the ones that\nare dynamically generated.\n\n206\n00:10:29,740 --> 00:10:31,070\nThat's a quick easy way to tell.\n\n207\n00:10:33,452 --> 00:10:37,230\nAll right, and if I just over to my\nWindows server, over here if I go into my\n\n208\n00:10:37,230 --> 00:10:43,580\ncommand prompt my IP address before,\nI think I might have gotten disconnected.\n\n209\n00:10:44,690 --> 00:10:47,900\nMy RDP client doesn't like\nbeing put in the background.\n\n210\n00:10:47,900 --> 00:10:52,120\nBut my IP address before on\nthe private side was 172.31.3.59.\n\n211\n00:10:52,120 --> 00:10:55,310\nIt's still going to\nhave that same address.\n\n212\n00:10:55,310 --> 00:10:56,440\nThat hasn't changed.\n\n213\n00:10:56,440 --> 00:10:59,660\nAll right, but\nwhat has changed is the public IP.\n\n214\n00:10:59,660 --> 00:11:03,420\nAnd now that I say that,\nI think I got disconnected.\n\n215\n00:11:03,420 --> 00:11:05,600\nHow could I have possibly\ngotten disconnected?\n\n216\n00:11:05,600 --> 00:11:08,800\nWell, probably the fact that I'm remote\ndesktopped into that public IP, and\n\n217\n00:11:08,800 --> 00:11:10,700\nI just lost the public IP, right?\n\n218\n00:11:10,700 --> 00:11:13,060\nThe address changed on my system, so\n\n219\n00:11:13,060 --> 00:11:15,280\nI'm trying to remote into a system\nthat I can't connect to anymore.\n\n220\n00:11:15,280 --> 00:11:18,065\nSo that's why it's upset,\nso let me disconnect.\n\n221\n00:11:18,065 --> 00:11:20,510\n[LAUGH]\nYeah,\n\n222\n00:11:20,510 --> 00:11:22,230\nyou'd think I would have noticed that.\n\n223\n00:11:22,230 --> 00:11:25,320\nSo let me go back to my dashboard and\nget that IP address.\n\n224\n00:11:25,320 --> 00:11:29,270\nSo I'll take the new IP\naddress of my window's server.\n\n225\n00:11:29,270 --> 00:11:31,740\nThat is one hint that\nit is already working.\n\n226\n00:11:31,740 --> 00:11:35,460\n[LAUGH]\nSo let me find my Windows VM here,\n\n227\n00:11:35,460 --> 00:11:39,250\nI'm gonna edit that one, and\nI'll just change it to the new IP address.\n\n228\n00:11:40,860 --> 00:11:42,570\nAnd I'll get connected back.\n\n229\n00:11:42,570 --> 00:11:46,930\nAll right, so here I'm connecting, I'm\ngonna get connected to that Windows box.\n\n230\n00:11:46,930 --> 00:11:48,440\nSo when I log in,\n\n231\n00:11:48,440 --> 00:11:52,300\nnotice the wallpaper right here\nstill says that my IP ends in 110.\n\n232\n00:11:52,300 --> 00:11:56,290\nAnd that's because that wallpaper was\ngenerated when this virtual machine\n\n233\n00:11:56,290 --> 00:11:57,490\nwas created.\n\n234\n00:11:57,490 --> 00:12:00,370\nAnd now I'm making\nchanges to it afterwards.\n\n235\n00:12:00,370 --> 00:12:03,070\nSo this information can get\nout of date pretty quick.\n\n236\n00:12:03,070 --> 00:12:05,670\nDon't trust what's on the wallpaper.\n\n237\n00:12:05,670 --> 00:12:08,200\nYou might have changed your instance size,\nand so on.\n\n238\n00:12:08,200 --> 00:12:11,800\nAmazon will refresh that when you shut the\nserver down and start it back up again.\n\n239\n00:12:11,800 --> 00:12:14,540\nBut if you don't shut your server down,\nit might not update that.\n\n240\n00:12:14,540 --> 00:12:16,100\nYou won't see it.\n\n241\n00:12:16,100 --> 00:12:18,410\nSo be aware that that data\nmight be out of date.\n\n242\n00:12:18,410 --> 00:12:20,330\nBut if I go to my IP chicken here and\n\n243\n00:12:20,330 --> 00:12:23,880\nrefresh that page,\nI can see now I've got 54.172.214.120.\n\n244\n00:12:23,880 --> 00:12:31,640\nI've got that new address because, well,\nI changed it, I mapped it to this server.\n\n245\n00:12:31,640 --> 00:12:33,860\nSo now it's a static IP.\n\n246\n00:12:33,860 --> 00:12:38,100\nIf I shut this server down, if I leave\nit on, whatever, that IP is assigned.\n\n247\n00:12:38,100 --> 00:12:42,310\nIt's tied to this machine, and when I\nbring it back up, it'll have the same IP.\n\n248\n00:12:42,310 --> 00:12:44,860\nSo I don't have to go and\nchange my DNS records or\n\n249\n00:12:44,860 --> 00:12:48,770\nanything like that, it's already in\nthere and it's already in place.\n\n250\n00:12:48,770 --> 00:12:53,220\nIf I go back to my Instances,\nand I shut them down, right.\n\n251\n00:12:53,220 --> 00:12:55,090\nSo let me go and take my Instances here.\n\n252\n00:12:55,090 --> 00:12:57,710\nI'll take my Linux VM and my Windows VM\nand I'm just gonna go ahead and\n\n253\n00:12:57,710 --> 00:12:58,625\nstop those guys.\n\n254\n00:12:58,625 --> 00:12:59,619\nAll right.\n\n255\n00:12:59,619 --> 00:13:01,760\nSo they're gonna shut down.\n\n256\n00:13:01,760 --> 00:13:05,330\nAnd it's gracefully shutting\ndown the operating systems.\n\n257\n00:13:05,330 --> 00:13:08,960\nWhen they shut down what's gonna\nhappen is on the Windows one\n\n258\n00:13:08,960 --> 00:13:11,380\nI'll still see the IP associated with it.\n\n259\n00:13:11,380 --> 00:13:14,480\nBut on the Linux one I'm\njust using a dynamic IP.\n\n260\n00:13:14,480 --> 00:13:17,060\nAnd so it's not going to be associated,\nit's going to disappear.\n\n261\n00:13:17,060 --> 00:13:18,980\nSo it will show us the IP being gone.\n\n262\n00:13:18,980 --> 00:13:19,480\nSo.\n\n263\n00:13:19,480 --> 00:13:23,280\nIf we're patient people and we sit here\nand wait we can see that disappear.\n\n264\n00:13:23,280 --> 00:13:25,080\nIf we get impatient like\nme we might not wait.\n\n265\n00:13:25,080 --> 00:13:27,660\nBut that is basically what's gonna happen.\n\n266\n00:13:30,010 --> 00:13:32,970\nI'm trying to think of something\nstalling to talk about while we wait.\n\n267\n00:13:32,970 --> 00:13:33,852\nOop there we go.\n\n268\n00:13:33,852 --> 00:13:37,490\n[LAUGH] Notice my Windows VM,\nit's shut down but\n\n269\n00:13:37,490 --> 00:13:40,570\nit still has a DNS name and\nit still has an IP.\n\n270\n00:13:40,570 --> 00:13:42,870\nIt's static, we've associated it.\n\n271\n00:13:42,870 --> 00:13:47,620\nBut my Linux box, it's got a no DNS name\nand no other public IP because they've\n\n272\n00:13:47,620 --> 00:13:51,990\nbeen returned to Amazon's pool and\nsomebody else probably has that now right?\n\n273\n00:13:51,990 --> 00:13:54,320\nAmazon, really busy,\nthey're constantly spinning up and\n\n274\n00:13:54,320 --> 00:13:57,605\ntaking down servers so\nIPs get used pretty quickly.\n\n275\n00:13:57,605 --> 00:13:59,275\nThey'll get re-used real fast.\n\n276\n00:13:59,275 --> 00:13:59,945\nAll right.\n\n277\n00:13:59,945 --> 00:14:02,955\nNow I assigned an IP to that\nserver while it was on.\n\n278\n00:14:02,955 --> 00:14:04,585\nYou can assign the IP while it's off too.\n\n279\n00:14:04,585 --> 00:14:05,895\nIf I go to elastic IPs and\n\n280\n00:14:05,895 --> 00:14:10,495\ntake this other address, I can associate\nit with my Linux box even though it's off.\n\n281\n00:14:10,495 --> 00:14:11,645\nAnd that's fine.\n\n282\n00:14:11,645 --> 00:14:14,725\nYou just wont actually really\nsee it until it boots up.\n\n283\n00:14:14,725 --> 00:14:17,450\nSo now it's associated and\nI've got a static IP there.\n\n284\n00:14:17,450 --> 00:14:22,260\nIf I go back to my instances,\nnow they both have their DNS names, and\n\n285\n00:14:22,260 --> 00:14:22,860\nthey've got their IPs.\n\n286\n00:14:24,620 --> 00:14:28,320\nAll right, so in this segment we got\na chance to see how to create a static\n\n287\n00:14:28,320 --> 00:14:32,630\nIP by allocating it, and then attaching it\nto a virtual machine by associating it.\n\n288\n00:14:32,630 --> 00:14:37,120\nSo allocate, then associate, those are our\nsteps right there, pretty straightforward.\n\n289\n00:14:37,120 --> 00:14:38,720\nNot the hardest thing we're\ngonna do in a given day.\n\n290\n00:14:38,720 --> 00:14:41,240\nAll right well,\nI hope you guys enjoyed this segment,\n\n291\n00:14:41,240 --> 00:14:43,870\nstay tuned we got more\nAmazon Web Services coming up.\n\n",
          "vimeoId": "109151998"
        },
        {
          "description": "",
          "length": "790",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/008-RDP-To-A-Windows-Instance.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/008-RDP-To-A-Windows-Instance-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/008-RDP-To-A-Windows-Instance-sm.jpg",
          "title": "RDP To A Windows Instance",
          "transcript": "1\n00:00:00,000 --> 00:00:08,292\n[MUSIC]\n\n2\n00:00:08,292 --> 00:00:12,962\nIn this segment, we're gonna take a look\nat how to use the remote desktop protocol\n\n3\n00:00:12,962 --> 00:00:15,750\nto connect to a Windows\ninstance in Amazon EC2.\n\n4\n00:00:15,750 --> 00:00:19,409\nIf you've just brought up your\nnice new shiny Windows instance,\n\n5\n00:00:19,409 --> 00:00:23,037\nyou're probably thinking great,\nhow do I get connected to it?\n\n6\n00:00:23,037 --> 00:00:25,830\n[LAUGH] I need to log in so\nI can start to work with it.\n\n7\n00:00:25,830 --> 00:00:27,700\nWell, Amazon's got you covered.\n\n8\n00:00:27,700 --> 00:00:32,600\nWhen they build up a Windows instance,\nthey create an administrative user account\n\n9\n00:00:32,600 --> 00:00:35,390\nthat's on the system that's ready for\nyou to be able to connect to it.\n\n10\n00:00:35,390 --> 00:00:40,010\nAnd they even create security group\nrules that allow that connectivity.\n\n11\n00:00:40,010 --> 00:00:44,230\nNow, it is a little bit looser than what\nyou may want, and that can be problematic,\n\n12\n00:00:44,230 --> 00:00:48,190\nso let's take a look at what's involving\ngetting connected the first time and\n\n13\n00:00:48,190 --> 00:00:54,360\nhow we can help secure that to ensure that\nthe bad guys don't get in to the system.\n\n14\n00:00:54,360 --> 00:00:55,420\nAll right?\nCuz RDP,\n\n15\n00:00:55,420 --> 00:00:56,910\nit has security built in to it but\n\n16\n00:00:56,910 --> 00:01:01,580\nit's not the greatest protocol\nin the world for handing that.\n\n17\n00:01:01,580 --> 00:01:04,820\nBasically if we want to remote in to our\nserver once the instance is fired up,\n\n18\n00:01:04,820 --> 00:01:08,510\nas you can see I've got\na Windows VM right here.\n\n19\n00:01:08,510 --> 00:01:12,590\nOnce the instances is fired up, we can use\nremote desktop protocol to connect to it.\n\n20\n00:01:12,590 --> 00:01:13,500\nIt's already enabled.\n\n21\n00:01:13,500 --> 00:01:14,670\nIt's turned on.\n\n22\n00:01:14,670 --> 00:01:16,650\nWe just need to do it, right?\n\n23\n00:01:16,650 --> 00:01:18,930\nAnd getting connected to\na Windows one is pretty easy.\n\n24\n00:01:18,930 --> 00:01:21,610\nYou just select the VM that\nyou want to connect to.\n\n25\n00:01:21,610 --> 00:01:24,370\nUp top, you'll see a connect button.\n\n26\n00:01:24,370 --> 00:01:25,830\nI'm in the EC2 panel.\n\n27\n00:01:25,830 --> 00:01:31,122\nIf you're not familiar with that,\nI basically went into the AWS console and\n\n28\n00:01:31,122 --> 00:01:35,530\nwent in to EC2 and from there,\nI went into my instances.\n\n29\n00:01:35,530 --> 00:01:37,440\nHere's where I saw my instances.\n\n30\n00:01:37,440 --> 00:01:38,460\nI've chosen a Windows VM.\n\n31\n00:01:38,460 --> 00:01:41,580\nYou'll see that connect button\non Lennox VMs also, but\n\n32\n00:01:41,580 --> 00:01:43,930\nLennox VMs don't use\nremote desktop protocol,\n\n33\n00:01:43,930 --> 00:01:47,940\nthey use something else, so\nthis is really just on the Windows side.\n\n34\n00:01:47,940 --> 00:01:49,690\nSo, when we choose that Windows VM,\nwe can hit connect and\n\n35\n00:01:49,690 --> 00:01:52,210\nwe're going to get an interesting box.\n\n36\n00:01:52,210 --> 00:01:55,520\nIt's not actually connecting\nus to the system.\n\n37\n00:01:55,520 --> 00:02:00,120\nIt's giving us the tools to connect and\nthen we have to connect ourselves.\n\n38\n00:02:00,120 --> 00:02:02,500\nMicrosoft Remote Desktop Protocol\nis proprietary.\n\n39\n00:02:02,500 --> 00:02:03,760\nIt's just Microsoft.\n\n40\n00:02:03,760 --> 00:02:05,370\nIt's their own solution.\n\n41\n00:02:05,370 --> 00:02:06,970\nAnd so,\nif you want to remote into a server,\n\n42\n00:02:06,970 --> 00:02:10,470\nyou're gonna have to use\na Remote Desktop Protocol client.\n\n43\n00:02:10,470 --> 00:02:13,850\nIf you're running a Windows machine,\nit's already built in, right?\n\n44\n00:02:13,850 --> 00:02:18,360\nWindows, I think they started including it\nin Windows XP, maybe even in Windows 2000,\n\n45\n00:02:18,360 --> 00:02:21,210\nbut Windows Vista, Windows 7,\nWindows 8, Windows 10,\n\n46\n00:02:21,210 --> 00:02:25,655\nthey've all got the RDP client built in so\nthere's nothing to install there.\n\n47\n00:02:25,655 --> 00:02:28,975\nYou can just fire up that remote\ndesktop protocol client and\n\n48\n00:02:28,975 --> 00:02:31,755\nload the configuration file that\nthey're about to let us download.\n\n49\n00:02:31,755 --> 00:02:36,065\nIf you're running a Linux box, well,\nthere's a number of third party RDP\n\n50\n00:02:36,065 --> 00:02:40,315\nclients that are out there, like Open RDP,\nthat you can use to be able to fire up and\n\n51\n00:02:40,315 --> 00:02:45,295\nconnect in, and on the Mac side, Microsoft\nactually has an official RDP client for\n\n52\n00:02:45,295 --> 00:02:48,445\nthe Mac, so\nyou can go into the Apple store,\n\n53\n00:02:48,445 --> 00:02:52,010\nthe Mac OS Store whatever it's called.\n\n54\n00:02:52,010 --> 00:02:54,570\nYou can download the RDP\nclient from there.\n\n55\n00:02:54,570 --> 00:02:56,670\nThen you just need our configuration.\n\n56\n00:02:56,670 --> 00:03:00,440\nNow, they provide the RDP file\nright here that we can download.\n\n57\n00:03:00,440 --> 00:03:02,660\nYou don't technically need it, but\n\n58\n00:03:02,660 --> 00:03:05,560\nit's nice because it's gonna\nfill in the IP address for us.\n\n59\n00:03:05,560 --> 00:03:09,160\nIf you're using dynamic IPs, the IP\naddress of your server might change from\n\n60\n00:03:09,160 --> 00:03:12,840\ntime to time, so you can just quickly\ncome in here and download the new file.\n\n61\n00:03:12,840 --> 00:03:16,210\nIf you've assigned a static IP like\nI have, the IP will never change.\n\n62\n00:03:16,210 --> 00:03:18,880\nSo you just download the file once and\nyou'll be good to go.\n\n63\n00:03:18,880 --> 00:03:22,490\nBut even if I don't download the file,\nit's got the IP right there and\n\n64\n00:03:22,490 --> 00:03:23,420\nthe user name.\n\n65\n00:03:23,420 --> 00:03:27,810\nSo I can just fire up an RDP client and\npoint it to that IP address and\n\n66\n00:03:27,810 --> 00:03:30,760\nlog in with the administrator account and\nI'll have access.\n\n67\n00:03:30,760 --> 00:03:33,210\nYou don't actually have to use this file.\n\n68\n00:03:33,210 --> 00:03:36,100\nBut it is nice cuz it\nhelps you to avoid typos.\n\n69\n00:03:36,100 --> 00:03:38,620\nNow if I download that file,\nit's just going to come in here and\n\n70\n00:03:38,620 --> 00:03:41,640\nsave that as an RDP file,\nso I'll save that,\n\n71\n00:03:41,640 --> 00:03:47,043\nand then I'll fire up my\nMicrosoft Remote Desktop Client and\n\n72\n00:03:47,043 --> 00:03:52,100\nI'm gonna import that in here\nI'll go to file, and import.\n\n73\n00:03:52,100 --> 00:03:55,280\nNow you could just double click on\nthe RDP file that would open it up.\n\n74\n00:03:55,280 --> 00:03:57,810\nOn windows that's what I normally do,\nI just double click on it.\n\n75\n00:03:57,810 --> 00:03:58,820\nBut here I'm going to import it.\n\n76\n00:03:58,820 --> 00:04:01,520\nAnd the reason why I want to import it\nis I want to change some things on it.\n\n77\n00:04:02,530 --> 00:04:05,350\nWhen I open that up it's\ngonna add it here on my list.\n\n78\n00:04:05,350 --> 00:04:08,410\nIt is stuck all the way\nto the bottom of course.\n\n79\n00:04:08,410 --> 00:04:10,090\nSo I've got it right here.\n\n80\n00:04:10,090 --> 00:04:12,620\nI'm going to rename that, so\nI can remember what it is.\n\n81\n00:04:12,620 --> 00:04:14,470\nSo I'm just gonna right click and\nedit this one.\n\n82\n00:04:14,470 --> 00:04:16,150\nAnd change its name, so\nI can remember what it is.\n\n83\n00:04:16,150 --> 00:04:17,520\nSo this is my Windows VM.\n\n84\n00:04:17,520 --> 00:04:18,070\nAll right?\n\n85\n00:04:18,070 --> 00:04:21,620\nIt's already filled in the IP address for\nme, and it's already set some of the other\n\n86\n00:04:21,620 --> 00:04:24,620\nvalues as far as what security\nis supported, and so on.\n\n87\n00:04:24,620 --> 00:04:26,740\nSo, the configuration is really done for\nme.\n\n88\n00:04:26,740 --> 00:04:29,510\nBut you'll notice that it leaves\nout things like the password.\n\n89\n00:04:29,510 --> 00:04:30,080\nAll right?\n\n90\n00:04:30,080 --> 00:04:33,100\nWell, when you go to log in, you're\ngonna have to provide a password and\n\n91\n00:04:33,100 --> 00:04:34,570\nyou may want to put it in here.\n\n92\n00:04:34,570 --> 00:04:36,110\nWe need to get that password.\n\n93\n00:04:36,110 --> 00:04:38,400\nThe other thing is,\nif we don't put it here, when we log in,\n\n94\n00:04:38,400 --> 00:04:42,890\nit's gonna ask us for the password and\nAmazon generates a complex password for\n\n95\n00:04:42,890 --> 00:04:44,850\nyour default administrator account.\n\n96\n00:04:44,850 --> 00:04:47,540\nEvery Windows server has\nan administrator account.\n\n97\n00:04:47,540 --> 00:04:49,310\nYou might have disabled it, but it exists.\n\n98\n00:04:49,310 --> 00:04:50,130\nIt's there.\n\n99\n00:04:50,130 --> 00:04:51,670\nAnd so Amazon knows that.\n\n100\n00:04:51,670 --> 00:04:53,650\nIf an attacker is trying to hit\nyour server, they're gonna try and\n\n101\n00:04:53,650 --> 00:04:55,240\nexploit that administrator account.\n\n102\n00:04:55,240 --> 00:04:57,020\nSo they give it a complex password.\n\n103\n00:04:57,020 --> 00:05:00,330\nAnd once you get in you'll probably\nwanna start creating your own accounts.\n\n104\n00:05:00,330 --> 00:05:02,520\nAnd then eventually disable\nthis administrator account so\n\n105\n00:05:02,520 --> 00:05:04,160\nit's not available anymore.\n\n106\n00:05:04,160 --> 00:05:06,720\nBut the first time you connect,\nwe need it, right?\n\n107\n00:05:06,720 --> 00:05:12,160\nSo if I go back to my EC2 screen here,\nI can choose to get the password.\n\n108\n00:05:12,160 --> 00:05:16,160\nNow they don't just display the password\non the screen, and the reason is\n\n109\n00:05:16,160 --> 00:05:19,950\nyour user name and password for Amazon\nweb services might have been compromised.\n\n110\n00:05:19,950 --> 00:05:21,460\nAnd so they don't want\nsomebody to be able to log in,\n\n111\n00:05:21,460 --> 00:05:25,510\nand just all the sudden begin pulling all\nof these credentials off of your servers.\n\n112\n00:05:25,510 --> 00:05:26,810\nThat would be really bad.\n\n113\n00:05:26,810 --> 00:05:31,180\nSo, we already had to login once,\njust to get to the EC2 panel.\n\n114\n00:05:31,180 --> 00:05:31,900\nAll right?\n\n115\n00:05:31,900 --> 00:05:35,390\nBut when we go to get this password,\nit's going to ask us for\n\n116\n00:05:35,390 --> 00:05:40,000\nthe key pair, the certificate that was\ngenerated when we built the server.\n\n117\n00:05:40,000 --> 00:05:44,870\nWhen you built the server out it asked if\nyou wanted to use an existing key pair, or\n\n118\n00:05:44,870 --> 00:05:46,480\nto use an all new one.\n\n119\n00:05:46,480 --> 00:05:47,918\nWell it's gonna list it right here.\n\n120\n00:05:47,918 --> 00:05:50,340\nAnd it's gonna say if you\nwant to get this password,\n\n121\n00:05:50,340 --> 00:05:52,370\nyou've got to give me your certificate.\n\n122\n00:05:52,370 --> 00:05:55,450\nSo this is the second\nfactor of authentication.\n\n123\n00:05:55,450 --> 00:05:58,840\nI have my certificate saved right here\non my drive somewhere, let me find it.\n\n124\n00:05:58,840 --> 00:06:02,290\nI should probably take a little\nmore care to know where I put that.\n\n125\n00:06:02,290 --> 00:06:04,010\nSo I'll go ahead and load it up and\n\n126\n00:06:04,010 --> 00:06:07,950\nonce your certificate is loaded in you can\nhit decrypt password, and there it is.\n\n127\n00:06:07,950 --> 00:06:12,626\nThere is the password and you can\nsee that that is a complex password.\n\n128\n00:06:12,626 --> 00:06:17,536\nNow, for me, I could go and remote desktop\ninto this IP and this username but\n\n129\n00:06:17,536 --> 00:06:22,218\none of the problems that I always have\nis you can't paste into the Windows\n\n130\n00:06:22,218 --> 00:06:23,700\npassword field.\n\n131\n00:06:23,700 --> 00:06:25,880\nSo I can't just copy and\npaste this password over.\n\n132\n00:06:25,880 --> 00:06:26,990\nIt won't let me.\n\n133\n00:06:26,990 --> 00:06:29,740\nSo I probably want to go some other route.\n\n134\n00:06:29,740 --> 00:06:32,690\nAnd that's why I like to edit\nthe password of my RDP client.\n\n135\n00:06:32,690 --> 00:06:36,100\nSo in here I can go into my password,\nand I can just paste that in.\n\n136\n00:06:36,100 --> 00:06:39,280\nIt's not a great idea to save your\npassword but you'll likely want to go and\n\n137\n00:06:39,280 --> 00:06:41,060\nchange this one right away anyway.\n\n138\n00:06:41,060 --> 00:06:42,350\nSo no big deal there.\n\n139\n00:06:42,350 --> 00:06:44,210\nSo I'll go ahead and save that and\n\n140\n00:06:44,210 --> 00:06:48,180\nnow that it's in place I can double click\non it and I'm going to remote desktop in.\n\n141\n00:06:48,180 --> 00:06:50,170\nThis is the first time I've\nseen the certificate so\n\n142\n00:06:50,170 --> 00:06:52,600\nit's asking me to confirm it,\nI'll go ahead and continue.\n\n143\n00:06:53,760 --> 00:06:57,440\nAnd now I'm remote desk-topped\ninto that server that I built up.\n\n144\n00:06:57,440 --> 00:06:57,990\nOkay?\n\n145\n00:06:57,990 --> 00:06:58,780\nSo here I am.\n\n146\n00:06:58,780 --> 00:06:59,710\nI'm looking at my server.\n\n147\n00:06:59,710 --> 00:07:01,210\nSo, it's very, very exciting.\n\n148\n00:07:01,210 --> 00:07:05,230\nSo now our remote desktop in,\nnow it's just a Windows server.\n\n149\n00:07:05,230 --> 00:07:08,240\nI work with it like I would any other\nWindows server, I install the software I\n\n150\n00:07:08,240 --> 00:07:12,710\nneed, I do my Windows updates, I do my\nconfigurations, join it to a domain if it\n\n151\n00:07:12,710 --> 00:07:17,220\nneeds that or whatever it is that I need\nto do, now I'm working with my system.\n\n152\n00:07:17,220 --> 00:07:21,420\nAnd in the future if I want to connect to\nthis box I don't have to log in to AWS\n\n153\n00:07:21,420 --> 00:07:28,060\nfirst, I can come in and just fire up\nmy remote desktop client, and here.\n\n154\n00:07:28,060 --> 00:07:31,760\nSo, I can fire up my remote desktop client\nI don't have to be logged into AWS at all\n\n155\n00:07:31,760 --> 00:07:35,030\nI can just come right in here and as long\nas I have messed with that password I'll\n\n156\n00:07:35,030 --> 00:07:38,730\nbe able to click on that, and it'll take\nme right into the server, no AWS involved.\n\n157\n00:07:40,460 --> 00:07:41,910\nSo really makes things easy.\n\n158\n00:07:43,280 --> 00:07:48,080\nOne word of caution tho, this server,\nit's got a public IP address.\n\n159\n00:07:48,080 --> 00:07:52,900\nAnd RDP is turned on by default, and\nthe firewall rule that's put in place on\n\n160\n00:07:52,900 --> 00:07:57,730\nthe security group for this server\nallows anyone in the world to connect.\n\n161\n00:07:57,730 --> 00:08:01,400\nSo if you're watching this live and\nyou've got that password fast enough,\n\n162\n00:08:01,400 --> 00:08:02,970\nyou could actually RDP\ninto the server right now.\n\n163\n00:08:02,970 --> 00:08:04,420\nIt's open to the world.\n\n164\n00:08:04,420 --> 00:08:06,450\nIt's a really bad idea\nto leave it that way.\n\n165\n00:08:06,450 --> 00:08:11,410\nSo what you wanna do is, usually even\nbefore you generate that password, go and\n\n166\n00:08:11,410 --> 00:08:12,910\nchange the firewall rules.\n\n167\n00:08:12,910 --> 00:08:16,060\nAnd so back in my EC2 screen.\n\n168\n00:08:16,060 --> 00:08:16,900\nI'm gonna close this.\n\n169\n00:08:16,900 --> 00:08:20,430\nAnd I'm gonna look at that Windows VM and\nfigure out which security group it's in.\n\n170\n00:08:20,430 --> 00:08:22,750\nWay over here I can see\nit's in Launch Wizard One.\n\n171\n00:08:22,750 --> 00:08:24,560\nNow, I wasn't very creative with the name.\n\n172\n00:08:24,560 --> 00:08:27,690\nSo, I'll go into\nthe Launch Wizard One security group.\n\n173\n00:08:27,690 --> 00:08:31,625\nAnd you'll see that it's got\nsome inbound and outbound rules.\n\n174\n00:08:31,625 --> 00:08:33,417\nThe outbound is all traffic out.\n\n175\n00:08:33,417 --> 00:08:35,083\nThat server can get to wherever it wants.\n\n176\n00:08:35,083 --> 00:08:41,260\nBut on an inbound RDP TCP port\n3389 is allowed from every source.\n\n177\n00:08:41,260 --> 00:08:42,570\nAll zeros means everybody.\n\n178\n00:08:42,570 --> 00:08:44,800\nSo everyone in the world\ncan RDP into this server.\n\n179\n00:08:44,800 --> 00:08:47,320\nIf they have the user name and\npassword, they can get into it.\n\n180\n00:08:47,320 --> 00:08:49,090\nThat's not good, all right?\n\n181\n00:08:49,090 --> 00:08:50,740\nSo I'm gonna edit that.\n\n182\n00:08:50,740 --> 00:08:59,167\nAnd at a minimum, what you wanna do is\nchange this from anywhere to my IP, okay?\n\n183\n00:08:59,167 --> 00:09:04,007\nMy IP, the web browser will actually\nlook at the IP address of your current\n\n184\n00:09:04,007 --> 00:09:08,625\nmachine and it'll put that in and\nnow I'm the only one that can get in.\n\n185\n00:09:08,625 --> 00:09:14,792\nLet me move that over a little bit and\nyou'll see it's 209.251.159.179/32.\n\n186\n00:09:14,792 --> 00:09:17,350\nSlash 32 means this one IP address.\n\n187\n00:09:17,350 --> 00:09:22,010\nSo the IP I'm at right now is the only\none allowed to RDP into that system.\n\n188\n00:09:22,010 --> 00:09:23,160\nOkay.\n\n189\n00:09:23,160 --> 00:09:26,180\nThat might not be exactly what you want.\n\n190\n00:09:26,180 --> 00:09:28,470\nSo that's the IP that I'm at right now,\n\n191\n00:09:28,470 --> 00:09:30,760\nbut what about the other\npeople in my office?\n\n192\n00:09:30,760 --> 00:09:31,640\nThey might wanna get in.\n\n193\n00:09:31,640 --> 00:09:35,170\nOr what if I go home and\nI'm on my home machine and I wanna get in?\n\n194\n00:09:35,170 --> 00:09:38,890\nWell, what I can do is I can go home,\nI can find out my public IP\n\n195\n00:09:38,890 --> 00:09:43,270\nat home cuz I've got a dynamic IP\nat home I can then edit this and\n\n196\n00:09:43,270 --> 00:09:46,980\nadd a second entry,\npermitting my IP at home.\n\n197\n00:09:46,980 --> 00:09:49,260\nAnd then I can access the system and\nwork with it, and\n\n198\n00:09:49,260 --> 00:09:52,190\nwhen I'm done I can come back to\nthe firewall rule and remove it.\n\n199\n00:09:52,190 --> 00:09:55,400\nIt's important to remove it\nbecause my IP at home is dynamic.\n\n200\n00:09:55,400 --> 00:09:59,410\nOne day I could lose that IP and it goes\nto some other cable internet customer and\n\n201\n00:09:59,410 --> 00:10:00,880\nnow they've got access to my server.\n\n202\n00:10:00,880 --> 00:10:02,510\nThey probably won't know it, right?\n\n203\n00:10:02,510 --> 00:10:03,330\nBut they do.\nAnd so\n\n204\n00:10:03,330 --> 00:10:05,450\nthat's something you want to be aware of.\n\n205\n00:10:05,450 --> 00:10:09,230\nSo, you'll want to approve\nthat RDP access just for\n\n206\n00:10:09,230 --> 00:10:12,510\nthe systems that you want to be\nallowed to connect and use, all right?\n\n207\n00:10:12,510 --> 00:10:17,790\nSo, we can go in and continue to modify\nthis list to add in other things.\n\n208\n00:10:17,790 --> 00:10:22,120\nI've got custom IP chosen right now which\nlets you do these subnet mask ranges.\n\n209\n00:10:22,120 --> 00:10:23,280\nAnd so I could change that.\n\n210\n00:10:23,280 --> 00:10:26,630\nMy range, I'm trying to remember\nwhere it actually starts,\n\n211\n00:10:26,630 --> 00:10:31,160\nI think it starts like 177,\nis that right 177?\n\n212\n00:10:31,160 --> 00:10:38,018\nYeah, 177, so it starts at 177 and\nit is a /28, I believe.\n\n213\n00:10:38,018 --> 00:10:41,190\nSo a /28 means that my range actually\n\n214\n00:10:41,190 --> 00:10:45,270\ngoes from .177 all the way up\nthrough 189 or something like that.\n\n215\n00:10:45,270 --> 00:10:48,640\nSo there's a whole range of IPs here\nat the office that we could be using.\n\n216\n00:10:48,640 --> 00:10:52,550\nAnd this one entry can account for\nall of those IPs.\n\n217\n00:10:52,550 --> 00:10:54,130\nSo I can punch that in and hit save.\n\n218\n00:10:54,130 --> 00:10:56,869\nAnd now my whole office is approved.\n\n219\n00:10:56,869 --> 00:10:59,607\nAnd I can continue to add more rules.\n\n220\n00:10:59,607 --> 00:11:06,583\nAnd I could add another RDP rule,\nTCP 3389 custom IP.\n\n221\n00:11:06,583 --> 00:11:09,792\nAnd then here I could put my home IP,\nor whatever.\n\n222\n00:11:09,792 --> 00:11:13,699\nI don't know my home IP, but\nI'll put in a fake one just to do it.\n\n223\n00:11:15,410 --> 00:11:16,830\nThere.\nSo maybe that's my home IP, so\n\n224\n00:11:16,830 --> 00:11:17,950\nI can punch that in.\n\n225\n00:11:17,950 --> 00:11:20,070\nAnd so now I've got two RDP rules.\n\n226\n00:11:20,070 --> 00:11:21,340\nThey both apply.\n\n227\n00:11:21,340 --> 00:11:25,770\nIf I'm here at the office, the first rule\nis gonna hit and I'll be allowed access.\n\n228\n00:11:25,770 --> 00:11:29,120\nBut if I'm at home, the second rule will\nhit and I'll be allowed access also.\n\n229\n00:11:29,120 --> 00:11:30,490\nBut if I'm out at a hotel or\n\n230\n00:11:30,490 --> 00:11:34,170\nif there's an attacker on the internet,\nthey're not gonna be allowed access.\n\n231\n00:11:34,170 --> 00:11:36,640\nIt's really important to change that.\n\n232\n00:11:36,640 --> 00:11:38,400\nThis might be a public web server.\n\n233\n00:11:38,400 --> 00:11:41,650\nI want the whole world to be\nable to get to my website.\n\n234\n00:11:41,650 --> 00:11:43,610\nI don't want the whole world to RDP and\n\n235\n00:11:43,610 --> 00:11:48,480\nso be aware that customize your rules, so\nyou know if it is a web server we might\n\n236\n00:11:48,480 --> 00:11:52,380\nhave another entry here that says\nHTTP is allowed from anywhere.\n\n237\n00:11:52,380 --> 00:11:55,010\nI want HTTP from anywhere.\n\n238\n00:11:55,010 --> 00:11:55,780\nThat's cool.\n\n239\n00:11:55,780 --> 00:11:57,370\nI'm fine with that.\n\n240\n00:11:57,370 --> 00:11:59,710\nI just don't want RDP from anywhere.\n\n241\n00:11:59,710 --> 00:12:02,060\nSo make sure you're very restrictive.\n\n242\n00:12:02,060 --> 00:12:04,940\nAnd that's where it's kind of handy\nif you have one security group.\n\n243\n00:12:04,940 --> 00:12:07,660\nYou can define this one time, but\nyou might have different needs for\n\n244\n00:12:07,660 --> 00:12:08,610\ndifferent servers.\n\n245\n00:12:08,610 --> 00:12:11,220\nSo you may have many\ndifferent security groups.\n\n246\n00:12:11,220 --> 00:12:12,700\nEvery time you spin up a new server,\n\n247\n00:12:12,700 --> 00:12:16,430\nmake sure you double check this\nbecause the default is everywhere.\n\n248\n00:12:16,430 --> 00:12:17,040\nAll right.\n\n249\n00:12:17,040 --> 00:12:19,860\nSo getting connected,\nit's pretty straight forward.\n\n250\n00:12:19,860 --> 00:12:22,750\nOnce you have that administrative\npassword, you can log in, change it,\n\n251\n00:12:22,750 --> 00:12:25,350\ndo whatever you need, and\nyou don't need to use the console anymore.\n\n252\n00:12:25,350 --> 00:12:27,828\nYou can just use your RDP client,\nyou've got a user name and\n\n253\n00:12:27,828 --> 00:12:31,345\npassword on the on a system,\nyou connect in and you work with it.\n\n254\n00:12:31,345 --> 00:12:32,667\nReally, really straight forward.\n\n255\n00:12:32,667 --> 00:12:34,250\nI connected by IP address.\n\n256\n00:12:34,250 --> 00:12:36,515\nYou can connect by DNS name\nif you've assigned one.\n\n257\n00:12:36,515 --> 00:12:38,725\nEither the DNS name that Amazon assigns.\n\n258\n00:12:38,725 --> 00:12:40,815\nThis really long annoying one, right here.\n\n259\n00:12:40,815 --> 00:12:42,335\nYou can connect with that or\n\n260\n00:12:42,335 --> 00:12:44,515\nyou can connect with a DNS\nname that you've assigned.\n\n261\n00:12:44,515 --> 00:12:45,655\nIf you've mapped it to that IP.\n\n262\n00:12:46,815 --> 00:12:49,290\nUseful is you have a IP.\n\n263\n00:12:49,290 --> 00:12:52,480\nAll right, so in this segment,\nwe got a chance to see how to\n\n264\n00:12:52,480 --> 00:12:56,690\nbasically fire up RDP and\nget connected to our Windows Instance, so\n\n265\n00:12:56,690 --> 00:13:00,480\nwe can get to the work, so we can start to\nuse this server for the forces of good.\n\n266\n00:13:00,480 --> 00:13:03,380\nSo, kind of an important step if\nyou're gonna be customizing it\n\n267\n00:13:03,380 --> 00:13:04,720\nfor your environment.\n\n268\n00:13:04,720 --> 00:13:06,040\nWell I hope you guys enjoyed the segment.\n\n269\n00:13:06,040 --> 00:13:06,620\nStay tuned.\n\n270\n00:13:06,620 --> 00:13:08,830\nWe've got more Amazon Web Services\ncoming up next.\n\n",
          "vimeoId": "109151999"
        },
        {
          "description": "",
          "length": "1099",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/009-SSH-Into-A-Linux-Instance.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/009-SSH-Into-A-Linux-Instance-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/009-SSH-Into-A-Linux-Instance-sm.jpg",
          "title": "SSH Into A Linux Instance",
          "transcript": "1\n00:00:00,178 --> 00:00:08,019\n[MUSIC]\n\n2\n00:00:08,019 --> 00:00:13,007\nIn this segment we're gonna take\na look at SSH in into a Linux instance\n\n3\n00:00:13,007 --> 00:00:14,819\nin Amazon Web Services.\n\n4\n00:00:14,819 --> 00:00:18,851\nWhen you bring up a new Linux instance,\nin EC2, they basically,\n\n5\n00:00:18,851 --> 00:00:21,200\nthey have to create a root account.\n\n6\n00:00:21,200 --> 00:00:25,000\nAs part of building that system up, and\nonce the servers online, it's up and\n\n7\n00:00:25,000 --> 00:00:28,530\nit's running, we need a way to\nconnect to it, and work with it.\n\n8\n00:00:28,530 --> 00:00:32,530\nSo, we know there's a root account,\nbut boy that's a security risk.\n\n9\n00:00:32,530 --> 00:00:35,867\nYou don't wanna have a root account\nthat people can HSS in, and so\n\n10\n00:00:35,867 --> 00:00:39,770\nit's standard best practices to\ndisable HSS for the root account.\n\n11\n00:00:39,770 --> 00:00:41,960\nAnd Amazon knows this,\nand they've done it.\n\n12\n00:00:41,960 --> 00:00:43,780\nSo, even though there's\na root account in place,\n\n13\n00:00:43,780 --> 00:00:46,480\nwe can't use it to connect\n[LAUGH] to our Linux server.\n\n14\n00:00:46,480 --> 00:00:50,200\nSo, how the heck do we get connected to\nour Linux instance when we bring it up\n\n15\n00:00:50,200 --> 00:00:51,960\ninside of Amazon Web Services?\n\n16\n00:00:51,960 --> 00:00:55,980\nWell, fortunately what Amazon does is\nreally the best example of security\n\n17\n00:00:55,980 --> 00:00:57,280\npractices for Linux.\n\n18\n00:00:57,280 --> 00:01:01,710\nThey disable SSH for root, and\nthen they create a standard user for\n\n19\n00:01:01,710 --> 00:01:05,870\nyou that has an SSL\ncertificate attached to them.\n\n20\n00:01:05,870 --> 00:01:09,900\nOr not just SSL, just a certificate\nitself attached to you that can use for\n\n21\n00:01:09,900 --> 00:01:13,340\nall sorts of different things,\nincluding SSH.\n\n22\n00:01:13,340 --> 00:01:16,280\nAnd so they use certificate based\nauthentication to establish\n\n23\n00:01:16,280 --> 00:01:17,610\nan SSH connection.\n\n24\n00:01:17,610 --> 00:01:21,350\nAnd that means that user account that they\nmake for you, it's got a password, but\n\n25\n00:01:21,350 --> 00:01:22,420\nyou don't know what it is.\n\n26\n00:01:22,420 --> 00:01:24,100\nIt doesn't matter because you\nnever need that password,\n\n27\n00:01:24,100 --> 00:01:26,430\nyou use the certificate\nto authenticate and\n\n28\n00:01:26,430 --> 00:01:29,960\nonce you connect you can create whatever\nother user accounts you want, and\n\n29\n00:01:29,960 --> 00:01:33,780\nthey can do password authentication or\nyou can use certificate authentication.\n\n30\n00:01:33,780 --> 00:01:37,590\nDepending on your needs, but it does make\ngetting connected the first time a little\n\n31\n00:01:37,590 --> 00:01:40,360\nbit tricky, so\nlet me walk you through the process.\n\n32\n00:01:40,360 --> 00:01:45,010\nWhen you go into EC2, let's start\nall the way back at the console.\n\n33\n00:01:45,010 --> 00:01:48,500\nSo, we get a logged into our AWS console,\nif I can say it,\n\n34\n00:01:48,500 --> 00:01:53,685\nand we go into EC2 and\nwe pull our instances.\n\n35\n00:01:53,685 --> 00:01:57,405\nYou'll see all of your instances that are\nfired up, if you have Windows instances,\n\n36\n00:01:57,405 --> 00:01:59,265\nyou'll connect to them using RDP.\n\n37\n00:01:59,265 --> 00:02:05,135\nWindows doesn't support SSH, so that's\nnot an option, but your Linux instances,\n\n38\n00:02:05,135 --> 00:02:10,295\nthey're set up for SSH, so when we choose\nthat Linux instance, you'll have a button\n\n39\n00:02:10,295 --> 00:02:13,812\nthat lights up that says, connect, and\nthat's gonna help us get connected.\n\n40\n00:02:13,812 --> 00:02:18,180\nIt's gonna help us by\nusing some form of SSH.\n\n41\n00:02:18,180 --> 00:02:19,620\nNow, what do I mean by that?\n\n42\n00:02:19,620 --> 00:02:25,210\nWell, SSH, the secure shell, it's an open\nstandard, anybody can support it.\n\n43\n00:02:25,210 --> 00:02:30,179\nPretty much every Unix system developed in\nthe last ten years is going to have SSH\n\n44\n00:02:30,179 --> 00:02:30,879\nsupport.\n\n45\n00:02:30,879 --> 00:02:33,680\nSo, one of the cool things about\nan open standard is that so\n\n46\n00:02:33,680 --> 00:02:37,210\nmany people support it, that there's a lot\nof software out there that can use it.\n\n47\n00:02:37,210 --> 00:02:42,170\nSo, there's not just one SSH client,\nthere's hundreds of SSH clients.\n\n48\n00:02:42,170 --> 00:02:44,920\nSo, Amazon's gonna provide\nus a few different\n\n49\n00:02:44,920 --> 00:02:47,856\npiece of information to let us choose\nthe way that we wanna get connected.\n\n50\n00:02:48,985 --> 00:02:53,935\nOne of the easiest ways to connect is\nto use their Java based SSH client.\n\n51\n00:02:53,935 --> 00:02:56,285\nThey've got an SSH client built\nright here into the console,\n\n52\n00:02:56,285 --> 00:03:00,315\nthat uses Java to fire up and\nallow you to connect to the server.\n\n53\n00:03:00,315 --> 00:03:03,345\nI say, it's one of the easiest ways cuz\nyou don't have to install anything,\n\n54\n00:03:03,345 --> 00:03:05,880\nyou don't have to type in IPs,\nit knows what to do.\n\n55\n00:03:05,880 --> 00:03:08,990\nThe only thing you have to do\nis provide your certificate,\n\n56\n00:03:08,990 --> 00:03:12,400\nit's certificate based authentication,\nso you'll have to provide that.\n\n57\n00:03:12,400 --> 00:03:15,930\nSo, when I hit that Connect button\nthe first thing that it's gonna ask me is\n\n58\n00:03:15,930 --> 00:03:17,270\nhow do I want to connect.\n\n59\n00:03:17,270 --> 00:03:23,510\nDo I wanna use the Java SSH client, or\ndo I wanna use a standalone SSH client?\n\n60\n00:03:23,510 --> 00:03:26,970\nNow, the Java one's easy,\nit's already got the IP address for me,\n\n61\n00:03:26,970 --> 00:03:28,650\nit's already got the user.\n\n62\n00:03:28,650 --> 00:03:34,750\nThe default user for a Linux instance is\ncalled ec2-user, that's the default user.\n\n63\n00:03:34,750 --> 00:03:40,370\nAnd then it's showing the key pair\nthat was used to create this instance.\n\n64\n00:03:40,370 --> 00:03:44,360\nNow, remember when you build an instance,\nyou either pick an existing key pair, or\n\n65\n00:03:44,360 --> 00:03:45,130\nyou create a new one.\n\n66\n00:03:45,130 --> 00:03:50,150\nAnd when you create a new one,\nit gives you a chance to download the key.\n\n67\n00:03:50,150 --> 00:03:54,490\nThat is the only time you can download\nthe key, you can never download it again.\n\n68\n00:03:54,490 --> 00:03:56,530\nAmazon does not give you\na way to download that key,\n\n69\n00:03:56,530 --> 00:04:00,060\nif you lose it, you just have to\ndelete it and create a new one.\n\n70\n00:04:00,060 --> 00:04:02,700\nSo, it's telling me this is\nthe key that they gave me.\n\n71\n00:04:03,840 --> 00:04:08,600\nSo if I wanna log in, I've gotta\ntell it where it can find that key.\n\n72\n00:04:08,600 --> 00:04:12,290\nI've gotta have that key on my hard drive\nsomewhere, so that it can find it, and\n\n73\n00:04:12,290 --> 00:04:13,490\nuse it to connect.\n\n74\n00:04:13,490 --> 00:04:16,510\nAnd so I would need to specify that\nI have it in my downloads folder,\n\n75\n00:04:16,510 --> 00:04:19,290\nwhich is probably a terrible place\nto store it, but that's where it is.\n\n76\n00:04:19,290 --> 00:04:21,120\nSo, I'm just gonna specify that folder.\n\n77\n00:04:22,690 --> 00:04:26,360\nNow, when you go to connect, it's got\nthis amazingly bad option right here,\n\n78\n00:04:26,360 --> 00:04:29,410\nwhich is to save the key\nlocation in the browser cache.\n\n79\n00:04:29,410 --> 00:04:32,030\nSo, that if someone else logs into\nmy computer it already had that\n\n80\n00:04:32,030 --> 00:04:32,940\npath in place.\n\n81\n00:04:32,940 --> 00:04:35,940\nNow, I say it's amazingly bad, it's not\nreally that bad because they can always\n\n82\n00:04:35,940 --> 00:04:39,750\njust search the hard drive for any file\nthat ends in .pem and find it that way.\n\n83\n00:04:39,750 --> 00:04:43,420\nBut I don't normally like to store this\nstuff in cache, if I can avoid it.\n\n84\n00:04:43,420 --> 00:04:47,940\nOnce that's done we can hit Launch SSH,\nand it's gonna fire up JAVA, and\n\n85\n00:04:47,940 --> 00:04:49,420\nit'll have a shell prompt,\n\n86\n00:04:49,420 --> 00:04:53,280\nwe'll basically be dumped into a shell\nprompt on our server, ready to work.\n\n87\n00:04:53,280 --> 00:04:56,045\nNow, you might be asking yourself,\nwhy hasn't Don clicked on that button,\n\n88\n00:04:56,045 --> 00:04:59,860\n[LAUGH] and the reason is,\nif you've watched enough of our shows,\n\n89\n00:04:59,860 --> 00:05:03,480\nyou probably know that I\nam not a big fan of Java.\n\n90\n00:05:03,480 --> 00:05:05,590\nIn fact, I absolutely hate Java, so\n\n91\n00:05:05,590 --> 00:05:09,310\nI do not have Java installed\non any system that I use.\n\n92\n00:05:09,310 --> 00:05:12,070\nSo, if I click that button,\nit's just gonna give me an error,\n\n93\n00:05:12,070 --> 00:05:14,810\nthat I don't have the Java\nplug-in installed.\n\n94\n00:05:14,810 --> 00:05:17,830\nSo, if you wanna use this, you've got\nto install Java on your system, and\n\n95\n00:05:17,830 --> 00:05:21,770\nthen you can participate in Oracle's\nwonderful charade of security.\n\n96\n00:05:21,770 --> 00:05:24,790\nSo, I say,\n[LAUGH] you can go that route if you want.\n\n97\n00:05:24,790 --> 00:05:29,822\nI never use it, instead,\nI use the standalone SSH client.\n\n98\n00:05:29,822 --> 00:05:33,480\nThe standalone SSH client is\nwhatever client you choose.\n\n99\n00:05:33,480 --> 00:05:36,880\nYou can go and\npick an SSH client of your choice.\n\n100\n00:05:36,880 --> 00:05:37,960\nIf you're on Windows,\n\n101\n00:05:37,960 --> 00:05:41,730\none of the most popular ones\nis an SSH client called PuTTY.\n\n102\n00:05:41,730 --> 00:05:46,390\nPuTTY is a open source publicly\nfree available SSH client,\n\n103\n00:05:46,390 --> 00:05:49,450\ntheir website is not very pretty,\nbut the client is great.\n\n104\n00:05:49,450 --> 00:05:52,160\nAnd you can use that to fire up and\nconnect to your server.\n\n105\n00:05:53,220 --> 00:05:58,337\nIf you're on on a Mac or a Linux system,\nthey've already got SSH built into them.\n\n106\n00:05:58,337 --> 00:06:01,857\nThey're Linux, Unix based OS's, so\nthey've already got the client,\n\n107\n00:06:01,857 --> 00:06:04,445\nyou don't have to download anything.\n\n108\n00:06:04,445 --> 00:06:09,645\nWell, I'm on a Mac right now, so when\nI go to connect, I could install Java,\n\n109\n00:06:09,645 --> 00:06:12,655\nand hate my life the rest of\nthe time I run the computer, or\n\n110\n00:06:12,655 --> 00:06:16,760\nI could use the SSH client I've already\ngot, and that's exactly what I'm gonna do.\n\n111\n00:06:16,760 --> 00:06:20,470\nI'll choose a standalone SSH client,\nnow it gives you some instructions,\n\n112\n00:06:20,470 --> 00:06:21,540\nin fact, right here.\n\n113\n00:06:21,540 --> 00:06:25,560\nFind out how to connect using PuTTY,\nmost of Amazon's users are using\n\n114\n00:06:25,560 --> 00:06:29,320\nWindows workstations, and that's why\nthey're doing that link right there.\n\n115\n00:06:29,320 --> 00:06:29,944\nIf you're on Linux,\n\n116\n00:06:29,944 --> 00:06:34,350\nUnix you don't need PuTTY, it gives\nyou everything you need right here.\n\n117\n00:06:34,350 --> 00:06:37,820\nFirst off, you need to have your key file,\nso it's reminding you of that, have your\n\n118\n00:06:37,820 --> 00:06:41,790\nkey file, and it's giving you the IP\naddress of the server to connect to.\n\n119\n00:06:41,790 --> 00:06:45,660\nAnd if you've got a built in SSH client,\nhere's the command that you'd run to\n\n120\n00:06:45,660 --> 00:06:50,950\nconnect, ssh -i, -i means to import a key,\nand we're gonna provide that key.\n\n121\n00:06:50,950 --> 00:06:55,755\nSo, it's the don-pezet.pem key, and\nthen the server we're connecting to,\n\n122\n00:06:55,755 --> 00:07:00,650\nec2-user is the user name at, and\nthen the IP address of the server.\n\n123\n00:07:00,650 --> 00:07:04,230\nAnd you can use the IP of the server, or\nyou can use a DNS name if you've attached\n\n124\n00:07:04,230 --> 00:07:07,760\none, or you can use the automatic\nDNS name that Amazon has created.\n\n125\n00:07:07,760 --> 00:07:09,880\nWhichever one you wanna\nuse to get connected.\n\n126\n00:07:11,240 --> 00:07:15,151\nThere is one little caveat here,\nif you're using a Linux or\n\n127\n00:07:15,151 --> 00:07:19,548\nUnix system, they want you to\nchange the permissions on the file.\n\n128\n00:07:19,548 --> 00:07:24,086\nWhen you download the file from Amazon,\nthe permissions are set by your host OS,\n\n129\n00:07:24,086 --> 00:07:29,140\nand your host OS may set those permissions\nin a way that's not very secure.\n\n130\n00:07:29,140 --> 00:07:32,860\nAnd so they want you to change that, and\nthat's what this change mode command is.\n\n131\n00:07:32,860 --> 00:07:36,093\nI'm not gonna change mine, cuz I wanna\nshow you guys the error first, and\n\n132\n00:07:36,093 --> 00:07:38,090\nthen we'll fix it, and\nkinda see it go away.\n\n133\n00:07:39,100 --> 00:07:43,435\nBut I can just copy this line and\nthere's the command to connect, or\n\n134\n00:07:43,435 --> 00:07:46,340\nyou don't have to copy\nit if you just know it.\n\n135\n00:07:46,340 --> 00:07:50,829\nIf you've got a DNS name attached to your\nserver, and you know the DNS name I'll\n\n136\n00:07:50,829 --> 00:07:54,251\njust copy this one,\nthen you can just fire it up that way too.\n\n137\n00:07:54,251 --> 00:07:58,424\nI'm gonna go into my terminal,\nand here we go, and\n\n138\n00:07:58,424 --> 00:08:03,767\nI'm gonna change into my Downloads\nfolder because that's where\n\n139\n00:08:03,767 --> 00:08:09,710\nI've got my don-pizet.pem file, so\nthat's where it is right there.\n\n140\n00:08:09,710 --> 00:08:14,631\nSo, I'm just gonna come in here,\nand I'll do a little SSH magic.\n\n141\n00:08:14,631 --> 00:08:19,624\nSo, I'll do SSH-I and I'm gonna\nspecify my file, don-pezet.pam, and\n\n142\n00:08:19,624 --> 00:08:24,929\nthen I'll say that I'm gonna log in as\nec2-user, that's the user account and\n\n143\n00:08:24,929 --> 00:08:29,330\nthe name of the server either the IP,\nor I did the DNS name.\n\n144\n00:08:29,330 --> 00:08:31,220\nWhen we run that it's gonna\nreach out to the server.\n\n145\n00:08:31,220 --> 00:08:33,420\nThis is the first time I'm\nconnecting to the server, so\n\n146\n00:08:33,420 --> 00:08:35,870\nit's giving me the RSA key fingerprint.\n\n147\n00:08:37,000 --> 00:08:39,510\nIf we're in a high security environment,\n\n148\n00:08:39,510 --> 00:08:42,630\nyou should compare that fingerprint\nwith what you've got on file,\n\n149\n00:08:42,630 --> 00:08:46,530\nand say, is that actually the server\nthat I'm intending to connect to.\n\n150\n00:08:46,530 --> 00:08:48,220\nYou'll wanna double verify that.\n\n151\n00:08:48,220 --> 00:08:50,690\nIf you're in a low security environment,\nwe know we connected that IP,\n\n152\n00:08:50,690 --> 00:08:54,110\nand that IP is attached to the server,\nso we can trust it and go in.\n\n153\n00:08:54,110 --> 00:08:56,322\nIt just depends on the level of\nsecurity you're looking to achieve.\n\n154\n00:08:56,322 --> 00:09:01,180\nI'll go and say, yes to continue\nconnecting, and now it's gonna connect up.\n\n155\n00:09:01,180 --> 00:09:06,750\nNow, when it gets connected I get\na warning, UNPROTECTED PRIVATE KEY FILE.\n\n156\n00:09:06,750 --> 00:09:10,810\nIt looked at my key file, and found that\nthe permissions were set wrong on it,\n\n157\n00:09:10,810 --> 00:09:12,160\nand it kicked me out.\n\n158\n00:09:12,160 --> 00:09:14,860\nSee how it says, ignore the key,\nand didn't let me in?\n\n159\n00:09:14,860 --> 00:09:17,690\nThe reason is the default\npermissions here actually allow more\n\n160\n00:09:17,690 --> 00:09:19,510\nthan one person to access it.\n\n161\n00:09:19,510 --> 00:09:21,980\nIf I look at that file, and\n\n162\n00:09:21,980 --> 00:09:25,240\nI haven't changed this since\nI downloaded it from Amazon.\n\n163\n00:09:25,240 --> 00:09:31,840\nNotice how it's read and write for\nme, and it's read for my group.\n\n164\n00:09:31,840 --> 00:09:33,820\nWell, a group can have more\nthan one person in it,\n\n165\n00:09:33,820 --> 00:09:36,370\nwhich means more than one\nperson can use this key.\n\n166\n00:09:36,370 --> 00:09:39,260\nKeys are not designed to be shared.\n\n167\n00:09:39,260 --> 00:09:42,860\nYou should be issuing one\nkey to each of your users.\n\n168\n00:09:42,860 --> 00:09:45,690\nIn this case, I've got mine set\nup as if I'm gonna share it, and\n\n169\n00:09:45,690 --> 00:09:47,670\nrecognizes that and it's stopping me.\n\n170\n00:09:47,670 --> 00:09:52,880\nSo, we can do the change mod 400, and\nwhat 400 means is to make it read only for\n\n171\n00:09:52,880 --> 00:09:57,640\nme, nothing for my group, and nothing for\neveryone, so I'm gonna lose the write\n\n172\n00:09:57,640 --> 00:10:02,680\npermissions on it, and everyone else\nis gonna lose all access to it.\n\n173\n00:10:02,680 --> 00:10:06,538\nSo, I'm just gonna change that, and\nif I look at my permissions again,\n\n174\n00:10:06,538 --> 00:10:10,229\nI'll see right there, I've got read,\neveryone else has nothing.\n\n175\n00:10:10,229 --> 00:10:14,285\nNow, if I go and SSH back in, so\nI'll just fire this up again,\n\n176\n00:10:14,285 --> 00:10:17,951\nI move that window a bit,\nI'm gonna go and connect, and\n\n177\n00:10:17,951 --> 00:10:22,870\nthis time it connects up,\nthe certificate's fine, and I'm in.\n\n178\n00:10:22,870 --> 00:10:25,490\nNotice it didn't ask me for a password.\n\n179\n00:10:25,490 --> 00:10:28,600\nI'm in, I'm logged into the server,\nand that's because,\n\n180\n00:10:28,600 --> 00:10:32,160\ninstead of a password,\nI use certificate authentication.\n\n181\n00:10:32,160 --> 00:10:34,850\nThat private key file is what got me in.\n\n182\n00:10:34,850 --> 00:10:37,000\nWhat happens if I lose\nthat private key file?\n\n183\n00:10:37,000 --> 00:10:41,490\nIf someone else gets my private key file,\nthey can log into the server, so\n\n184\n00:10:41,490 --> 00:10:45,720\nwe need to make sure that private\nkey file is stored securely.\n\n185\n00:10:45,720 --> 00:10:49,080\nDont let that get out, and what I know\na lot of people do is they go in and\n\n186\n00:10:49,080 --> 00:10:52,920\nstart to create additional accounts, and\nthen they go and disable the ec2 user.\n\n187\n00:10:52,920 --> 00:10:55,940\nYou can do that, there are some little\nextra things we need to worry about when\n\n188\n00:10:55,940 --> 00:10:59,920\nwe do that, but you can create whatever\nuser accounts you want from here, and\n\n189\n00:10:59,920 --> 00:11:02,790\nyou can create passwords or\ncertificates, you can start to create\n\n190\n00:11:02,790 --> 00:11:06,460\nindividual certificates for your users,\nyou can import existing keys.\n\n191\n00:11:06,460 --> 00:11:11,101\nSo, if youve got existing pre-shared keys\nthat you're using, you'd import those in,\n\n192\n00:11:11,101 --> 00:11:13,609\nand now those other users\nwill be able to use them.\n\n193\n00:11:13,609 --> 00:11:18,460\nSo, but I'm logged in, I am just a regular\nuser, see how I've got that dollar sign?\n\n194\n00:11:18,460 --> 00:11:22,040\nSo, the EC2 user is just a regular use,\n\n195\n00:11:22,040 --> 00:11:26,040\nbut they have permission\nto use things like Pseudo.\n\n196\n00:11:26,040 --> 00:11:30,130\nSo, if I were to try to do something like\nyum update, I'm getting an error cuz I'm\n\n197\n00:11:30,130 --> 00:11:36,950\nnot an admin, but if I do a sudo, or\npseudo yum update it'll let me do it.\n\n198\n00:11:36,950 --> 00:11:40,250\nSo, the EC2 user has root\n\n199\n00:11:40,250 --> 00:11:45,300\naccess has the ability to use sudo but\nisn't actually a root user.\n\n200\n00:11:45,300 --> 00:11:49,460\nThe root user exists, but is disabled\nper standard security practices,\n\n201\n00:11:49,460 --> 00:11:53,020\nAmazon has done a good job with this.\n\n202\n00:11:53,020 --> 00:11:55,660\nSo, now I can do my updates and\nstart setting up the server.\n\n203\n00:11:55,660 --> 00:12:00,420\nNow, I need to do one more thing,\nwhen I brought up that Amazon instance,\n\n204\n00:12:00,420 --> 00:12:03,120\nwhen I brought up this Linux instance.\n\n205\n00:12:03,120 --> 00:12:08,310\nIt had a rule set in its security\ngroup that is allowing me to SSH in.\n\n206\n00:12:08,310 --> 00:12:12,720\nThe problem with that rule is it's\nset to allow everyone on the Internet\n\n207\n00:12:12,720 --> 00:12:15,180\nto be able to SSH in,\ncuz Amazon doesn't know what IP I have.\n\n208\n00:12:16,510 --> 00:12:19,220\nSo, if somebody got my certificate,\n\n209\n00:12:20,440 --> 00:12:23,080\nthey'd be able to SSH in\nfrom anywhere in the world.\n\n210\n00:12:23,080 --> 00:12:26,760\nIt's a good idea to put IP\nrestrictions on SSH, to go in and\n\n211\n00:12:26,760 --> 00:12:30,238\nsay, I'm gonna limit it, [COUGH] so\n\n212\n00:12:30,238 --> 00:12:36,500\nthat just these particular IPs can SSH in,\nand it's pretty easy to do that.\n\n213\n00:12:36,500 --> 00:12:41,410\nLet me go back to my console, and\nhere in my console I'm gonna come in and\n\n214\n00:12:41,410 --> 00:12:44,340\nfind my Linux instance and\nsee what security group it's in.\n\n215\n00:12:44,340 --> 00:12:46,470\nIt's in a security group\ncalled launch wizard two.\n\n216\n00:12:46,470 --> 00:12:48,780\nI didn't rename it during the process.\n\n217\n00:12:48,780 --> 00:12:52,170\nAnd if I take a look at that launch wizard\ntwo security group, I can go down and\n\n218\n00:12:52,170 --> 00:12:56,015\nsee the inbound rules and\nthere's only one by default.\n\n219\n00:12:56,015 --> 00:12:59,855\nSSH is allowed from everywhere.\n\n220\n00:12:59,855 --> 00:13:03,575\nSo if someone gets my certificate they\ncould be logging in right now from\n\n221\n00:13:03,575 --> 00:13:05,295\nAcapulco and I wouldn't know.\n\n222\n00:13:05,295 --> 00:13:07,655\nRight.\nWell, I'd probably log it, right, but\n\n223\n00:13:07,655 --> 00:13:08,890\nthey'd be able to get in.\n\n224\n00:13:08,890 --> 00:13:11,690\nSo I wanna change that and restrict it.\n\n225\n00:13:11,690 --> 00:13:18,360\nAt a minimum what you want to do is edit\nthat rule and change anywhere to my IP.\n\n226\n00:13:18,360 --> 00:13:22,250\nThat's gonna look at the IP address that\nyou have right now and pop it in there.\n\n227\n00:13:22,250 --> 00:13:27,780\nAnd if you hit the save, now just your\nIP address can get in and that's it.\n\n228\n00:13:27,780 --> 00:13:30,472\nThe whole rest of the world\ncannot connect via SSH.\n\n229\n00:13:30,472 --> 00:13:33,818\nAll right, now if you've got\na web server or FDP server,\n\n230\n00:13:33,818 --> 00:13:37,879\nyou don't want to add more roles to\nbe able to account for that stuff.\n\n231\n00:13:37,879 --> 00:13:40,330\nAnd so if it's a web server\nI might want port 80 for\n\n232\n00:13:40,330 --> 00:13:43,693\nthe whole world to be able to connect,\nbecause it's a web server, but\n\n233\n00:13:43,693 --> 00:13:46,360\nI don't want the whole\nworld to be able to SSH in.\n\n234\n00:13:46,360 --> 00:13:49,700\nSo you'll need to customize this\nto whatever needs you've got and\n\n235\n00:13:49,700 --> 00:13:51,615\nyou'll probably end up\nadding several rules.\n\n236\n00:13:51,615 --> 00:13:56,210\nRight, you might do HTTP for\nthe web server from anywhere, but\n\n237\n00:13:56,210 --> 00:13:58,810\nmaybe sometimes you manage\nthe server from home.\n\n238\n00:13:58,810 --> 00:14:01,850\nThis is my IP address at work and\nso I might wanna come in here and\n\n239\n00:14:01,850 --> 00:14:06,080\nput another rule in for\nSSH and list my home IP.\n\n240\n00:14:06,080 --> 00:14:08,529\nWhich I don't know, so I'll make one up.\n\n241\n00:14:08,529 --> 00:14:14,209\nSo I'll just put in a fake one,\nand I'll do a /32.\n\n242\n00:14:14,209 --> 00:14:17,840\nA /32 just means to get\nthat individual IP address.\n\n243\n00:14:17,840 --> 00:14:19,150\nSo I'll punch that in, so\n\n244\n00:14:19,150 --> 00:14:22,490\nit's that individual IP address is\nnow gonna be approved to SSH in.\n\n245\n00:14:22,490 --> 00:14:23,670\nNow, if you do your home IP,\n\n246\n00:14:23,670 --> 00:14:28,240\nbe careful of one thing,\nmost home IPs are dynamic, they change.\n\n247\n00:14:28,240 --> 00:14:31,590\nSo, you've got that IP right now,\na week from now, a month from now,\n\n248\n00:14:31,590 --> 00:14:36,570\nyour IP might change, and another cable\ncustomer or DSL customer has that IP.\n\n249\n00:14:36,570 --> 00:14:40,660\nSo, when you put in your home IP,\nlog into the AWS console,\n\n250\n00:14:40,660 --> 00:14:44,790\ngo into EC2, add your IP,\nwork on the server, and\n\n251\n00:14:44,790 --> 00:14:49,280\nwhen you're done working on the server,\ncome back in here, and remove that rule.\n\n252\n00:14:49,280 --> 00:14:52,270\nGet the rule out of there because sure\nyou needed it while you were at home\n\n253\n00:14:52,270 --> 00:14:55,440\nworking for that one day, but then when\nyou're done you just come back in and\n\n254\n00:14:55,440 --> 00:14:57,210\nknock that rule out.\n\n255\n00:14:57,210 --> 00:14:59,885\nAnd now you're not leaving yourself\nat risk of someone else accidentally\n\n256\n00:14:59,885 --> 00:15:00,395\ngetting approved.\n\n257\n00:15:01,415 --> 00:15:05,915\nMake sure you limit that because\nthere are numerous systems out there.\n\n258\n00:15:05,915 --> 00:15:09,425\nAttack bot networks,\nthese zombie networks that are out there,\n\n259\n00:15:09,425 --> 00:15:14,705\nthey are scanning the Internet, and port\n22, everybody knows that's SSH, and so\n\n260\n00:15:14,705 --> 00:15:18,315\nthey can see it and they can start trying\nto brute force usernames and passwords.\n\n261\n00:15:18,315 --> 00:15:21,925\nWe're already helping with that by\nhaving certificate based authentication,\n\n262\n00:15:21,925 --> 00:15:23,810\nbut better safe than sorry.\n\n263\n00:15:23,810 --> 00:15:25,470\nLimit who's allowed to connect to the SSH.\n\n264\n00:15:26,500 --> 00:15:31,040\nThere is one other thing that I want to\nmention, I did all of this from my Mac,\n\n265\n00:15:31,040 --> 00:15:32,820\nwhich is the same as on Linux.\n\n266\n00:15:32,820 --> 00:15:36,820\nSo, when you go to connect, you just fire\nup a terminal, and you use the built-in\n\n267\n00:15:36,820 --> 00:15:40,660\nSSH client, you connect in, and\nyou work everything's fine.\n\n268\n00:15:40,660 --> 00:15:47,689\nThat PAM file format of the certificate\nis the standard for SSH.\n\n269\n00:15:47,689 --> 00:15:51,632\nOn the Windows side Amazon recommends\nPuTTY, but for whatever reason, and\n\n270\n00:15:51,632 --> 00:15:56,068\nI don't know why, but for whatever reason,\nPuTTY does not support the PAM format for\n\n271\n00:15:56,068 --> 00:15:57,440\ncertificates.\n\n272\n00:15:57,440 --> 00:15:59,910\nSo, if you try and\nbuild a SSH session with PuTTY,\n\n273\n00:15:59,910 --> 00:16:02,590\nit's not going to work\nwith that certificate.\n\n274\n00:16:02,590 --> 00:16:05,850\nSo, that's one of the other reasons why on\nthis connect screen it's got the connect\n\n275\n00:16:05,850 --> 00:16:10,410\nusing PuTTY link, to take you to an\narticle to explain how to connect, and one\n\n276\n00:16:10,410 --> 00:16:14,490\nof the things they'll mention in here is\nthat you need to convert the certificate.\n\n277\n00:16:14,490 --> 00:16:19,260\nSo, they're telling us,\nyou need to install it and so on.\n\n278\n00:16:19,260 --> 00:16:21,870\nAnd then they mention firing\nup a utility called PuTTYgen.\n\n279\n00:16:22,930 --> 00:16:28,110\nIf you install PuTTY on your system,\nit'll install a utility called PuTTYgen.\n\n280\n00:16:28,110 --> 00:16:30,672\nWhen you download PuTTY,\nlet me go here to the download page,\n\n281\n00:16:30,672 --> 00:16:33,300\nyou'll see there's several\nways you can download it.\n\n282\n00:16:33,300 --> 00:16:37,270\nIf you just download the executable,\nyou won't have PuTTYgen, but you'll see\n\n283\n00:16:37,270 --> 00:16:41,280\nPuTTYgen here as a separate download, or\nyou get the installer that has all of it.\n\n284\n00:16:41,280 --> 00:16:47,900\nPuTTYgen can convert a PAM file to a PPK\nfile, and that's what PuTTY likes to use.\n\n285\n00:16:47,900 --> 00:16:49,760\nPuTTY likes these PPK files.\n\n286\n00:16:49,760 --> 00:16:52,960\nSo, they have the instructions\nthat posted right here,\n\n287\n00:16:52,960 --> 00:16:54,830\nwhich I got to from that connect screen.\n\n288\n00:16:54,830 --> 00:16:59,210\nThey show how to go in and load the PAM\nfile, and convert that to a PPK,\n\n289\n00:16:59,210 --> 00:17:01,300\nthat's what they're doing right there.\n\n290\n00:17:01,300 --> 00:17:06,270\nAnd once it's converted as a PPK, then\nyou'll be able to use PuTTY to connect up,\n\n291\n00:17:06,270 --> 00:17:07,750\nand get into that system.\n\n292\n00:17:07,750 --> 00:17:08,810\nI'm not a big fan of that,\n\n293\n00:17:08,810 --> 00:17:12,360\nI don't know why PuTTY doesn't support\nPAM file formats, but they don't.\n\n294\n00:17:12,360 --> 00:17:13,670\nSo, it's kind of a headache.\n\n295\n00:17:13,670 --> 00:17:16,230\nI usually use a [LAUGH] Linux or\nUnix system to connect, and\n\n296\n00:17:16,230 --> 00:17:17,730\ndon't worry about it.\n\n297\n00:17:17,730 --> 00:17:20,900\nAnd there are other SSH\nclients that are out there.\n\n298\n00:17:20,900 --> 00:17:23,860\nThere's plenty of really\nbig ones like SecureCRT,\n\n299\n00:17:23,860 --> 00:17:26,810\nthat do support PAM file formats,\nso that you can use those.\n\n300\n00:17:26,810 --> 00:17:28,230\nIt's up to you what you want to use.\n\n301\n00:17:29,340 --> 00:17:33,010\nThe big difference being that PuTTY is\nfree, versus SecureCRT that starts at,\n\n302\n00:17:33,010 --> 00:17:36,279\nI think it starts at like $100,\nso not the least expensive.\n\n303\n00:17:37,325 --> 00:17:41,700\nSo, in this segment we got\na chance to see connecting up for\n\n304\n00:17:41,700 --> 00:17:44,770\nthe first time to our\nAmazon EC2 Linux instance.\n\n305\n00:17:44,770 --> 00:17:48,460\nWe saw how to use SSH, how to deal\nwith that certificate file, and for\n\n306\n00:17:48,460 --> 00:17:50,550\nthe most part it was\npretty straight forward.\n\n307\n00:17:50,550 --> 00:17:54,630\nOn the Linux side, we needed to change the\npermissions on the file before we could\n\n308\n00:17:54,630 --> 00:17:56,210\nconnect, it checks for that.\n\n309\n00:17:56,210 --> 00:17:59,860\nOn the Windows side, if you're using\nPuTTY, you've got to convert it to a PPK.\n\n310\n00:17:59,860 --> 00:18:03,471\nThe file permissions don't really apply\non the Windows side, that's a Linux and\n\n311\n00:18:03,471 --> 00:18:04,740\na Mac OS thing.\n\n312\n00:18:04,740 --> 00:18:08,843\nSo, little bits of difference there,\nlittle caveats of getting connected, but\n\n313\n00:18:08,843 --> 00:18:09,919\nthe process itself?\n\n314\n00:18:09,919 --> 00:18:10,450\nIt's pretty straightforward.\n\n315\n00:18:11,560 --> 00:18:13,290\nI hope you guys enjoyed this segment.\n\n316\n00:18:13,290 --> 00:18:16,890\nStay tuned, we've got more Amazon AWS,\nit's kinda redundant, I guess,\n\n317\n00:18:16,890 --> 00:18:18,740\nmore AWS stuff coming up.\n\n",
          "vimeoId": "109152000"
        },
        {
          "description": "",
          "length": "974",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/010-Removing-AnInstance.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/010-Removing-AnInstance-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/010-Removing-AnInstance-sm.jpg",
          "title": "Removing An Instance",
          "transcript": "1\n00:00:00,025 --> 00:00:08,189\n[SOUND].\n\n2\n00:00:08,189 --> 00:00:08,994\nIn this segment,\n\n3\n00:00:08,994 --> 00:00:13,020\nwe're going to take a look at\nremoving an instance from Amazon EC2.\n\n4\n00:00:13,020 --> 00:00:16,120\nWhen you build up a server, you may only\nneed it for a certain period of time.\n\n5\n00:00:16,120 --> 00:00:19,600\nMaybe you're doing testing or development,\nor maybe it's a purpose-built server and\n\n6\n00:00:19,600 --> 00:00:21,500\nthat purpose is just done, right?\n\n7\n00:00:21,500 --> 00:00:23,510\nWell when that happens,\nwe need to remove the instance.\n\n8\n00:00:23,510 --> 00:00:26,080\nWe need to get it out of there\nbecause we're gonna pay for\n\n9\n00:00:26,080 --> 00:00:27,420\nit as long as it's there.\n\n10\n00:00:27,420 --> 00:00:29,040\nEven if you shut the instance down, right,\n\n11\n00:00:29,040 --> 00:00:32,440\nif you stop the instance,\nyou're still paying for storage.\n\n12\n00:00:32,440 --> 00:00:34,280\nYou're not paying for\nprocessor and memory anymore,\n\n13\n00:00:34,280 --> 00:00:36,800\nwhich is nice, but you're paying for\nstorage of that data.\n\n14\n00:00:36,800 --> 00:00:39,892\nSo when we're done with an instance,\nwe need to get it out of the system,\n\n15\n00:00:39,892 --> 00:00:40,780\nall right.\n\n16\n00:00:40,780 --> 00:00:43,526\nWe do that through a process\ncalled terminating.\n\n17\n00:00:43,526 --> 00:00:47,903\nIn Amazon EC2, that word, terminate,\nwhen you terminate an instance,\n\n18\n00:00:47,903 --> 00:00:51,589\nthat means, shut it off if it's\nstill on ,and then delete it.\n\n19\n00:00:51,589 --> 00:00:55,200\nAnd this will actually wipe it\nout with no means of recovery.\n\n20\n00:00:55,200 --> 00:00:56,960\nIf you have a backup of it,\nthat's great, but\n\n21\n00:00:56,960 --> 00:01:00,870\nif you don't have a backup of it,\nit's gone and that's it, all right?\n\n22\n00:01:00,870 --> 00:01:02,340\nSo let's take a look at it.\n\n23\n00:01:02,340 --> 00:01:03,950\nThe process is pretty easy, but\n\n24\n00:01:03,950 --> 00:01:07,890\nthere are a few little quirks we can\nbump into that we need to be aware of.\n\n25\n00:01:07,890 --> 00:01:13,150\nWhen we go into our console, so\nI'm logged into the AWS console here.\n\n26\n00:01:13,150 --> 00:01:17,530\nI'll just go to EC2 and\nI'll go take a look at my instances.\n\n27\n00:01:17,530 --> 00:01:19,210\nAnd I can see some of\nthe instances that I've got.\n\n28\n00:01:19,210 --> 00:01:22,530\nAnd I've got this server right here\nthat I was using for something, and\n\n29\n00:01:22,530 --> 00:01:23,910\nI'm done with it.\n\n30\n00:01:23,910 --> 00:01:27,850\nIt's a medium instance, and so\nI'm having to pay for that extra CPU and\n\n31\n00:01:27,850 --> 00:01:29,290\nmemory that I chose.\n\n32\n00:01:29,290 --> 00:01:31,690\nSo it's costing me money right now.\n\n33\n00:01:31,690 --> 00:01:34,330\nI probably need to get that out\nof there if I'm done with it.\n\n34\n00:01:34,330 --> 00:01:36,970\nThe other thing is, on the storage\nside there's hard drives, or\n\n35\n00:01:36,970 --> 00:01:41,600\nvolumes attached to this instance,\nand those are costing me money too.\n\n36\n00:01:41,600 --> 00:01:45,349\nThis particular instance, if I go down\nhere to my volumes, I can look and\n\n37\n00:01:45,349 --> 00:01:47,500\nsee, oh, I didn't name my instance, so\n\n38\n00:01:47,500 --> 00:01:50,089\nit's gonna be a little hard for\nme to spot it here.\n\n39\n00:01:50,089 --> 00:01:53,860\nBut we can look in here and\nfind out who we're attached to.\n\n40\n00:01:53,860 --> 00:01:57,240\nAnd so\nwe'll see some of these different systems.\n\n41\n00:01:57,240 --> 00:01:59,090\nThere's my Windows VM, my Linux VM.\n\n42\n00:01:59,090 --> 00:02:00,559\nSo I didn't name it, but\nit's this guy right here.\n\n43\n00:02:00,559 --> 00:02:04,867\nSo I've got three hard drives attached to\nthat server and they're sitting there,\n\n44\n00:02:04,867 --> 00:02:06,600\nand that's gonna cost me money.\n\n45\n00:02:06,600 --> 00:02:10,180\nI've got a snapshot of one of them, so\nthe snapshot is costing me money too.\n\n46\n00:02:10,180 --> 00:02:14,390\nSo as long as I leave this server here,\nI am kind of wasting money.\n\n47\n00:02:14,390 --> 00:02:15,299\nSo let's get rid of it.\n\n48\n00:02:15,299 --> 00:02:19,645\nWell, to get rid of it,\nyou just go to your Instances, you select\n\n49\n00:02:19,645 --> 00:02:25,330\nthe instance you want to get rid of,\nand you go to Actions and Terminate.\n\n50\n00:02:25,330 --> 00:02:29,940\nWhen you choose Terminate, it's gonna\nshut the VM down if it's still running.\n\n51\n00:02:29,940 --> 00:02:31,719\nIf it's already off,\nit doesn't have to do that, obviously.\n\n52\n00:02:31,719 --> 00:02:33,970\nAnd then it's gonna remove it.\n\n53\n00:02:33,970 --> 00:02:36,490\nNow, removing doesn't happen instantly.\n\n54\n00:02:36,490 --> 00:02:38,260\nIt takes a little bit of time.\n\n55\n00:02:38,260 --> 00:02:40,960\nIt sits there and\nit thinks about it, and over time,\n\n56\n00:02:40,960 --> 00:02:42,580\nit gets to where it'll remove it.\n\n57\n00:02:42,580 --> 00:02:44,870\nLet me take like this Windows one here.\n\n58\n00:02:44,870 --> 00:02:46,350\nI'll toast this guy.\n\n59\n00:02:46,350 --> 00:02:49,110\nSo I'm gonna take the Windows one and\nI'll go down here to Terminate.\n\n60\n00:02:49,110 --> 00:02:51,640\nIt's running right now, so it's warning\nme that it's gonna shut it down and\n\n61\n00:02:51,640 --> 00:02:52,910\nit's gonna wipe it out.\n\n62\n00:02:52,910 --> 00:02:56,030\nIt's telling me here on\nan EBS-backed instance\n\n63\n00:02:56,030 --> 00:02:59,720\nthe default function is\nto delete the drives.\n\n64\n00:02:59,720 --> 00:03:00,860\nSo when I terminate it,\n\n65\n00:03:00,860 --> 00:03:04,980\nnot only am I removing the VM,\nthe drives are gonna get deleted too.\n\n66\n00:03:04,980 --> 00:03:07,590\nIf I want to preserve those drives,\nI need to go and\n\n67\n00:03:07,590 --> 00:03:10,300\nback them up or\ndetach them from the VM first.\n\n68\n00:03:10,300 --> 00:03:13,060\nIf you detach them,\nthen you can remove the instance, and\n\n69\n00:03:13,060 --> 00:03:14,430\nthe drives will stay behind.\n\n70\n00:03:14,430 --> 00:03:16,560\nYou might need that data somewhere else.\n\n71\n00:03:16,560 --> 00:03:17,140\nAll right.\n\n72\n00:03:17,140 --> 00:03:20,940\nYou've also got the option to\nrelease the Elastic IP, right.\n\n73\n00:03:20,940 --> 00:03:23,760\nYou may not want that,\nyou may want to keep the Elastic IP so\n\n74\n00:03:23,760 --> 00:03:25,210\nyou can assign it to another server.\n\n75\n00:03:25,210 --> 00:03:28,330\nIt's an IP you've been using for a while,\nyou might not want to give that back.\n\n76\n00:03:28,330 --> 00:03:31,030\nI don't like to release\nthe IPs because I know another\n\n77\n00:03:31,030 --> 00:03:33,300\nAmazon AWS customer is gonna get it.\n\n78\n00:03:33,300 --> 00:03:36,540\nAnd so, somebody might be going to a\nwebsite that I had been running on one IP,\n\n79\n00:03:36,540 --> 00:03:40,080\nand now that IP is showing something else,\nsomething I don't control.\n\n80\n00:03:40,080 --> 00:03:43,280\nSo I usually hold on to the Elastic IP for\na little while,\n\n81\n00:03:43,280 --> 00:03:47,750\njust to make sure everybody's caches have\nupdated and nobody's hitting that old IP.\n\n82\n00:03:47,750 --> 00:03:49,230\nSo just keep that in mind too.\n\n83\n00:03:49,230 --> 00:03:53,870\nThe default is to keep the Elastic IP,\nyou can choose to release it here.\n\n84\n00:03:53,870 --> 00:03:57,920\nWhen we say Yes to Terminate,\nit's gonna go and terminate that system.\n\n85\n00:03:57,920 --> 00:03:59,810\nYou'll see it's shutting it down.\n\n86\n00:03:59,810 --> 00:04:02,600\nAnd when it's done,\nit's going to remove it.\n\n87\n00:04:02,600 --> 00:04:04,760\nNow, the removal doesn't\nhappen right away.\n\n88\n00:04:04,760 --> 00:04:07,880\nOnce it shuts down,\nyou're no longer being billed for it.\n\n89\n00:04:07,880 --> 00:04:09,230\nI am being billed right now.\n\n90\n00:04:09,230 --> 00:04:12,560\nBut as soon as it finishes shutting down,\nmy billing stops.\n\n91\n00:04:12,560 --> 00:04:16,610\nIt will still show up in your console for\nup to 48 hours.\n\n92\n00:04:16,610 --> 00:04:19,760\nSo for up to 48 hours, it may still\nbe sitting there in your console and\n\n93\n00:04:19,760 --> 00:04:21,870\nshow with a terminated status.\n\n94\n00:04:21,870 --> 00:04:26,060\nAnd just at some point, Amazon runs\na clean up service and removes it.\n\n95\n00:04:26,060 --> 00:04:27,910\nIt's a low priority task for them.\n\n96\n00:04:27,910 --> 00:04:29,430\nThey're not billing you for it.\n\n97\n00:04:29,430 --> 00:04:32,120\nSo it's not hurting\nanything to leave it there.\n\n98\n00:04:32,120 --> 00:04:35,028\nSo they wait for times when their\nservers are idle or slow and\n\n99\n00:04:35,028 --> 00:04:37,877\ndisk access isn't a big deal,\nand that's when they go and\n\n100\n00:04:37,877 --> 00:04:40,600\nthey wipe your machine and\nactually remove it.\n\n101\n00:04:40,600 --> 00:04:43,160\nSo the termination may\nnot happen right away.\n\n102\n00:04:43,160 --> 00:04:45,690\nSee how mine says Terminated but\nit's still here.\n\n103\n00:04:45,690 --> 00:04:49,630\nAnd if I hit Refresh,\nI'll refresh and it's still there.\n\n104\n00:04:49,630 --> 00:04:53,710\nAnd it'll sit there, it'll sit for\nhours before it finally disappears.\n\n105\n00:04:53,710 --> 00:04:56,657\nIf you catch it at the right time,\nit might delete right away, but\n\n106\n00:04:56,657 --> 00:04:59,024\nI find that it normally takes\nat least the few hours.\n\n107\n00:04:59,024 --> 00:05:02,165\nAll right, so that one is terminated,\nthe Windows VM is detached.\n\n108\n00:05:02,165 --> 00:05:07,635\nIf I go down to my Volumes and I look\nat my volumes down here, I'll see that\n\n109\n00:05:07,635 --> 00:05:11,195\nthe one that was flagged as Windows VM\nthat was here at the bottom is now gone.\n\n110\n00:05:11,195 --> 00:05:15,940\nSo the volume was deleted, I no longer\nhave its drive, and that's it, all right.\n\n111\n00:05:15,940 --> 00:05:20,760\nSo that's a normal,\nrun of the mill deletion, or termination.\n\n112\n00:05:20,760 --> 00:05:22,520\nThat's what most of you will see.\n\n113\n00:05:22,520 --> 00:05:24,840\nBut there's a few caveats, all right.\n\n114\n00:05:24,840 --> 00:05:29,560\nWhen you create a VM, when you're\ninitially building up that instance,\n\n115\n00:05:29,560 --> 00:05:33,540\nthere's a few choices you make that\ncan effect termination, all right.\n\n116\n00:05:33,540 --> 00:05:36,750\nAnd if you're not the one\nthat built up that instance,\n\n117\n00:05:36,750 --> 00:05:38,750\nyou might not know which\noptions were chosen.\n\n118\n00:05:38,750 --> 00:05:43,940\nSo we may bump into a few instances where\nit won't allow us to terminate, all right.\n\n119\n00:05:43,940 --> 00:05:44,590\nLet me show you what I mean.\n\n120\n00:05:44,590 --> 00:05:46,670\nI'm gonna go and create a new instance.\n\n121\n00:05:46,670 --> 00:05:49,319\nSo I'll go back to my Instance page\nhere and I'll do Launch an Instance.\n\n122\n00:05:50,350 --> 00:05:55,015\nAnd if I just do the simple wizard here,\nI take the Amazon Linux, or Red Hat or,\n\n123\n00:05:55,015 --> 00:05:56,592\nlet's do SUSE this time.\n\n124\n00:05:56,592 --> 00:05:58,630\nI'll pick that one, all right.\n\n125\n00:05:58,630 --> 00:06:00,341\nWhen we go to launch it,\nwe pick some stuff.\n\n126\n00:06:00,341 --> 00:06:03,026\nIf you just hit Review and Launch,\nit'll create a normal machine and\n\n127\n00:06:03,026 --> 00:06:05,060\nit'll terminate just fine.\n\n128\n00:06:05,060 --> 00:06:08,052\nBut if we go into our advanced settings,\n\n129\n00:06:08,052 --> 00:06:12,018\nif we start going into our\ndetails down here, right?\n\n130\n00:06:12,018 --> 00:06:15,022\nWhen we start going into the details we\nget options that we can change that start\n\n131\n00:06:15,022 --> 00:06:16,290\nto manipulate things.\n\n132\n00:06:16,290 --> 00:06:21,370\nWhen you look down, you see\nEnable Termination Protection, all right?\n\n133\n00:06:22,432 --> 00:06:27,130\nThere is nothing worse than getting\nthat sinking feeling when you\n\n134\n00:06:27,130 --> 00:06:30,340\naccidentally terminate a machine and\nyou didn't mean it.\n\n135\n00:06:30,340 --> 00:06:33,340\nYou were going to use Stop\njust to shut it down, and\n\n136\n00:06:33,340 --> 00:06:35,560\nyou accidentally clicked Terminate, right?\n\n137\n00:06:35,560 --> 00:06:38,390\nOr maybe you hired a new employee,\nand they're like, hey,\n\n138\n00:06:38,390 --> 00:06:39,850\nI want to shut this machine down.\n\n139\n00:06:39,850 --> 00:06:41,440\nTerminate?\nThat sounds like it'll shut it down.\n\n140\n00:06:41,440 --> 00:06:42,710\nLet's do it.\n\n141\n00:06:42,710 --> 00:06:46,180\nSo somebody accidentally chooses that and\ndeletes the server.\n\n142\n00:06:46,180 --> 00:06:48,690\nNow, that's not the kind of person you\nshould have working in the system,\n\n143\n00:06:48,690 --> 00:06:49,630\nbut it can happen.\n\n144\n00:06:49,630 --> 00:06:51,030\nIt can happen accidentally.\n\n145\n00:06:51,030 --> 00:06:52,520\nYou get a confirmation screen, so\n\n146\n00:06:52,520 --> 00:06:55,840\nyou'd really have to screw up pretty\nbad to make it happen, but it could.\n\n147\n00:06:55,840 --> 00:07:00,390\nSo we have the option to turn on\nAccidental Termination Protection.\n\n148\n00:07:00,390 --> 00:07:04,260\nThis will not allow you to terminate\nthe instance while it's turned on.\n\n149\n00:07:04,260 --> 00:07:08,490\nSo someone, if they want to terminate it,\nthey would have to actively turn off\n\n150\n00:07:08,490 --> 00:07:11,260\nthe protection, and\nthen terminate the instance.\n\n151\n00:07:11,260 --> 00:07:13,490\nIt's a nice little safety net to have,\nall right?\n\n152\n00:07:13,490 --> 00:07:16,950\nYou definitely don't want that on an auto\nscaling environment, where you're\n\n153\n00:07:16,950 --> 00:07:21,330\nhaving machines spawn up and terminate\nautomatically, you don't want that.\n\n154\n00:07:21,330 --> 00:07:24,630\nBut on systems that you want 24/7,\n365 days a year,\n\n155\n00:07:24,630 --> 00:07:26,808\nthere's no reason not to turn that on.\n\n156\n00:07:26,808 --> 00:07:30,240\nWe can turn on that protection, all right?\n\n157\n00:07:30,240 --> 00:07:33,870\nThe other place that we can bump into\nproblems is on the storage side.\n\n158\n00:07:33,870 --> 00:07:37,470\nOn the storage side, when we create\na drive, there's gonna be a root drive,\n\n159\n00:07:37,470 --> 00:07:39,230\nright, there's always a root drive.\n\n160\n00:07:39,230 --> 00:07:44,108\nAnd you'll see Delete on Termination\nis checked by default, okay.\n\n161\n00:07:44,108 --> 00:07:47,910\nThat means that if I delete this instance,\nthis volume is gonna get deleted also.\n\n162\n00:07:47,910 --> 00:07:49,736\nMakes sense, it's the root,\nthe instance doesn't exist so\n\n163\n00:07:49,736 --> 00:07:51,630\nwe don't need the root anymore.\n\n164\n00:07:51,630 --> 00:07:54,150\nBut if you've added more drives,\nwatch the default.\n\n165\n00:07:54,150 --> 00:07:56,750\nI'm gonna go and add a few more drives.\n\n166\n00:07:56,750 --> 00:08:00,480\nThe default is not to\ndelete on termination.\n\n167\n00:08:00,480 --> 00:08:03,980\nSo if somebody went in here and they just\nwhipped up a couple of 64 gig drives like\n\n168\n00:08:03,980 --> 00:08:09,190\nthis, when it was all said and done, if\nthey didn't pay attention to this column,\n\n169\n00:08:09,190 --> 00:08:11,460\nsome of your volumes might\nnot be set to delete.\n\n170\n00:08:11,460 --> 00:08:13,750\nSo when you go and\ndelete this instance, when you go and\n\n171\n00:08:13,750 --> 00:08:16,190\nterminate the instance,\nsome of the volumes get left behind.\n\n172\n00:08:16,190 --> 00:08:18,370\nAnd youre getting billed for that.\n\n173\n00:08:18,370 --> 00:08:21,030\nYoure getting billed for\nthe storage of those volumes.\n\n174\n00:08:21,030 --> 00:08:24,950\nIf you delete the instance, the name\nattached to the volume disappears.\n\n175\n00:08:24,950 --> 00:08:28,030\nAnd so now when you go into the volumes\nlist, you see this list of volumes.\n\n176\n00:08:28,030 --> 00:08:30,904\nAnd you can see you've got volumes\nthat aren't attached to anybody, but\n\n177\n00:08:30,904 --> 00:08:32,398\nyou don't know where they came from.\n\n178\n00:08:32,398 --> 00:08:34,570\nYou're like,\nwhere the heck did that volume come from?\n\n179\n00:08:34,570 --> 00:08:36,220\nIs it safe to delete?\n\n180\n00:08:36,220 --> 00:08:37,260\nI don't know.\n\n181\n00:08:37,260 --> 00:08:38,850\nThat's the challenge.\n\n182\n00:08:38,850 --> 00:08:41,000\nSo, oftentimes we do want this.\n\n183\n00:08:41,000 --> 00:08:43,980\nWe do want to delete on termination,\nso we check those off.\n\n184\n00:08:43,980 --> 00:08:46,120\nBut you might not,\nyou might want to save that data.\n\n185\n00:08:46,120 --> 00:08:49,929\nAnd if you do that, it's really\nimportant that you label your volumes so\n\n186\n00:08:49,929 --> 00:08:52,870\nthat you can remember\nwhere they came from.\n\n187\n00:08:52,870 --> 00:08:56,770\nBecause the names that Amazon attaches\nto them are not terribly useful,\n\n188\n00:08:56,770 --> 00:08:58,270\nbecause they're just GUIDs.\n\n189\n00:08:58,270 --> 00:09:00,220\nAmazon doesn't know what\nyou're gonna use these for.\n\n190\n00:09:00,220 --> 00:09:03,690\nSo you need to go back and either name\nthem, or tag them, or do something so\n\n191\n00:09:03,690 --> 00:09:04,900\nyou can identify where it came from.\n\n192\n00:09:06,320 --> 00:09:10,950\nAll right, so those are the two\nbig caveats that we can bump into.\n\n193\n00:09:10,950 --> 00:09:12,320\nAnd let me show you those in action.\n\n194\n00:09:12,320 --> 00:09:16,780\nI'm not actually gonna spin this VM up,\nbut let me go back to my EC2 screen.\n\n195\n00:09:16,780 --> 00:09:20,478\nAnd before the show, I created\nan instance, this guy right here.\n\n196\n00:09:20,478 --> 00:09:25,277\nAnd I have termination\nprotection turned on, and\n\n197\n00:09:25,277 --> 00:09:32,390\none of my volumes doesn't have\na Delete on Terminate option set.\n\n198\n00:09:32,390 --> 00:09:35,069\nWell first off, if I take this instance,\nso I've got it right here.\n\n199\n00:09:35,069 --> 00:09:38,209\nIt doesn't have a name so I probably\nneed to give it some kind of a name.\n\n200\n00:09:38,209 --> 00:09:40,700\nAnd so I'll call this my Temp VM.\n\n201\n00:09:40,700 --> 00:09:43,200\nMaybe I'm just experimenting with\nsomething so I create a Temp VM.\n\n202\n00:09:44,330 --> 00:09:44,840\nIt's got a name.\n\n203\n00:09:44,840 --> 00:09:49,307\nAnd that's pretty nice because when I go\ndown to my volumes, I see these volumes,\n\n204\n00:09:49,307 --> 00:09:53,539\nand none of the volumes have names,\nthey just have these volume IDs, right?\n\n205\n00:09:53,539 --> 00:09:55,260\nI don't know what heck they are.\n\n206\n00:09:55,260 --> 00:09:58,370\nBut if I scroll over here I can\nsee who they're attached to.\n\n207\n00:09:58,370 --> 00:10:02,550\nAnd I see Linux VM and Temp VM,\nso I can tell right there.\n\n208\n00:10:02,550 --> 00:10:05,310\nBut this is where we probably\nwant to give them a name.\n\n209\n00:10:05,310 --> 00:10:08,175\nBecause if I remove that instance,\nthis will go blank, and\n\n210\n00:10:08,175 --> 00:10:10,220\nI'll have no idea where it came from.\n\n211\n00:10:10,220 --> 00:10:13,400\nSo I can go to these volumes and\nI can say what they are.\n\n212\n00:10:13,400 --> 00:10:15,883\nThe small one, the 10 gig one,\n\n213\n00:10:15,883 --> 00:10:21,049\nthat's the first one that was created,\nso that's the Temp VM Root.\n\n214\n00:10:21,049 --> 00:10:23,810\nSo I'll go ahead and give it that name so\nI can remember that's what it was.\n\n215\n00:10:23,810 --> 00:10:26,380\nBut the other ones,\nI don't know what they are yet.\n\n216\n00:10:26,380 --> 00:10:30,340\nSo when I create those drives and add\nthem, I'll probably assign them somewhere.\n\n217\n00:10:30,340 --> 00:10:34,110\nSo maybe this one is Temp VM/var folder.\n\n218\n00:10:36,060 --> 00:10:41,522\nAnd then maybe this one\ndown here is Temp VMs/usr,\n\n219\n00:10:41,522 --> 00:10:44,709\nor we'll do /home, right?\n\n220\n00:10:44,709 --> 00:10:47,689\nSo that's the /home folder on that drive,\nall right?\n\n221\n00:10:47,689 --> 00:10:50,917\nSo now, not only do I know\nwhat VM they were attached to,\n\n222\n00:10:50,917 --> 00:10:54,790\nI know what that drive is,\nwhat mount point was tied to that drive.\n\n223\n00:10:54,790 --> 00:10:58,520\nSo that I can identify it,\neven after the VM is deleted, all right.\n\n224\n00:10:58,520 --> 00:10:59,570\nAnd I'm doing it here by naming it.\n\n225\n00:10:59,570 --> 00:11:01,390\nYou don't have to do it with a name,\nyou can go down here and\n\n226\n00:11:01,390 --> 00:11:03,000\ndo it with a tag too, right.\n\n227\n00:11:03,000 --> 00:11:06,370\nRemember, you can create custom tags and\nyou can add one in.\n\n228\n00:11:06,370 --> 00:11:09,099\nThat name, it's just a tag,\nyou see it right there, right.\n\n229\n00:11:09,099 --> 00:11:11,917\nSo you could create your own tags,\nand then you can filter on them and\n\n230\n00:11:11,917 --> 00:11:13,760\ndo all sorts of crazy stuff, right.\n\n231\n00:11:13,760 --> 00:11:16,960\nSo here I've got the name and\nthe path in one value.\n\n232\n00:11:16,960 --> 00:11:19,600\nI might want to do multiple ones,\na name and a path separately.\n\n233\n00:11:19,600 --> 00:11:24,850\nSo I can say, show me all the volumes tied\nto Temp VM, and then I'll see each one.\n\n234\n00:11:24,850 --> 00:11:29,371\nOr I can say, show me all the /vars for\nall of my VMs, you can query on it if you\n\n235\n00:11:29,371 --> 00:11:33,219\ngot separate keys, so\nthat gives you a little more power there.\n\n236\n00:11:33,219 --> 00:11:36,780\nAll right, so now,\nwhen I go up to my instances, If I try and\n\n237\n00:11:36,780 --> 00:11:41,510\ndelete Temp VM, I'll take that guy and\nI'll go to Terminate.\n\n238\n00:11:41,510 --> 00:11:43,420\nTerminate is lit up, and\n\n239\n00:11:43,420 --> 00:11:47,680\nif you look, most of us don't really pay\nattention to a lot of the options in here.\n\n240\n00:11:49,320 --> 00:11:53,741\nWe've got an option about the termination\nprotect, did I not turn on?\n\n241\n00:11:53,741 --> 00:11:55,535\nOh, sorry, here it is.\n\n242\n00:11:55,535 --> 00:11:57,100\n[LAUGH] I couldn't find it in the list.\n\n243\n00:11:57,100 --> 00:12:00,590\nYou've got Change Termination Protection\nright there, and if you choose\n\n244\n00:12:00,590 --> 00:12:03,880\nChange Termination Protection you'll see,\nit's currently enabled.\n\n245\n00:12:03,880 --> 00:12:05,100\nAnd I can disable it.\n\n246\n00:12:05,100 --> 00:12:08,600\nYou can turn this on or\noff whether the VM's on or off.\n\n247\n00:12:08,600 --> 00:12:10,130\nIt doesn't matter if the VM's running.\n\n248\n00:12:10,130 --> 00:12:11,520\nSo I could take this Linux VM and\n\n249\n00:12:11,520 --> 00:12:15,320\nI could go and Change Termination\nProtection, and enable it.\n\n250\n00:12:15,320 --> 00:12:18,960\nI can turn it on, and\nnow I won't be able to terminate that.\n\n251\n00:12:18,960 --> 00:12:22,210\nBut notice when I choose the Temp VM,\nI can go to Actions and\n\n252\n00:12:22,210 --> 00:12:23,670\nTerminate is still lit up.\n\n253\n00:12:23,670 --> 00:12:25,450\nEven though it's disabled,\nit is still lit up.\n\n254\n00:12:25,450 --> 00:12:26,845\nI can choose that.\n\n255\n00:12:26,845 --> 00:12:29,675\nAnd it's just gonna say,\nall right, go ahead.\n\n256\n00:12:29,675 --> 00:12:32,515\nBut when it goes to terminate,\nit's not gonna do it.\n\n257\n00:12:32,515 --> 00:12:36,785\nIt says, This instance has Termination\nProtection and will not be terminated.\n\n258\n00:12:36,785 --> 00:12:40,819\nThe button is there, it's clickable, but\nit's kind of grayed out a little bit and\n\n259\n00:12:40,819 --> 00:12:41,753\nit doesn't work.\n\n260\n00:12:41,753 --> 00:12:43,125\n[LAUGH] It doesn't do anything.\n\n261\n00:12:43,125 --> 00:12:46,115\nSo as long as you've got\nTermination Protection, you're safe.\n\n262\n00:12:46,115 --> 00:12:50,730\nAnd you can go to Actions and\nChange Termination Protection, and\n\n263\n00:12:50,730 --> 00:12:52,770\nyou can disable it.\n\n264\n00:12:52,770 --> 00:12:58,348\nOnce it's disabled, now, you can go and\nterminate that instance.\n\n265\n00:12:58,348 --> 00:13:00,857\nAnd now it's not giving me\nthat warning anymore, and\n\n266\n00:13:00,857 --> 00:13:03,260\nit's asking what I wanna\ndo about the volumes.\n\n267\n00:13:03,260 --> 00:13:06,040\nThe default is to delete them,\nso I get a nice little warning.\n\n268\n00:13:06,040 --> 00:13:08,190\nAnd this one is giving\nme a warning right here,\n\n269\n00:13:08,190 --> 00:13:12,020\nThe following volume is not\nset to delete on termination.\n\n270\n00:13:12,020 --> 00:13:13,700\nAnd see how it gives you the volume ID?\n\n271\n00:13:13,700 --> 00:13:16,200\nThat's because it doesn't\nknow if you gave it a name.\n\n272\n00:13:16,200 --> 00:13:18,160\nAnd so, if you didn't give it a name,\nhow do you identify it?\n\n273\n00:13:18,160 --> 00:13:19,270\nHere's the volume ID.\n\n274\n00:13:19,270 --> 00:13:24,000\nSo I know this volume ID is gonna be\norphaned when I delete this instance.\n\n275\n00:13:24,000 --> 00:13:26,820\nI wouldn't have seen that if I\ndidn't click that down arrow, right.\n\n276\n00:13:26,820 --> 00:13:28,580\nThe default is not to even show you that.\n\n277\n00:13:28,580 --> 00:13:30,750\nSo you don't know that you're\nabout to leave a volume behind.\n\n278\n00:13:30,750 --> 00:13:33,450\nI'll go ahead and say, Yes to Terminate.\n\n279\n00:13:33,450 --> 00:13:35,550\nAnd it's gonna terminate that VM.\n\n280\n00:13:35,550 --> 00:13:37,780\nI'll give it a second while\nit flips to terminate.\n\n281\n00:13:37,780 --> 00:13:41,834\nNow, even if I didn't get that volume ID,\nbecause I named my volumes,\n\n282\n00:13:41,834 --> 00:13:44,680\nit'll be easy for\nme to spot what was left behind.\n\n283\n00:13:44,680 --> 00:13:48,160\nIf you didn't name it, that's where\nthings become challenging, right.\n\n284\n00:13:48,160 --> 00:13:51,040\nIn my little demo environment here,\nI've only got a couple of volumes.\n\n285\n00:13:51,040 --> 00:13:53,710\nBut imagine if you had 1,000\nvolumes in there, right?\n\n286\n00:13:53,710 --> 00:13:55,430\nHow many orphans could you generate?\n\n287\n00:13:55,430 --> 00:13:58,157\nAnd then how do you tell one orphan apart\nfrom another to figure out which one you\n\n288\n00:13:58,157 --> 00:13:59,170\nwanna actually remove?\n\n289\n00:13:59,170 --> 00:14:01,540\nIt gets really confusing really fast.\n\n290\n00:14:01,540 --> 00:14:05,900\nAnd that's because the AWS console doesn't\nreally track a history of an object.\n\n291\n00:14:05,900 --> 00:14:09,530\nYou don't have an audit log for that\nobject to see what VM it was attached to.\n\n292\n00:14:09,530 --> 00:14:12,927\nThere are ways to pull that\nfrom the Amazon API, but\n\n293\n00:14:12,927 --> 00:14:15,069\nin the GUI, we don't see that.\n\n294\n00:14:15,069 --> 00:14:17,330\nAll right, so it's shutting that VM down.\n\n295\n00:14:18,560 --> 00:14:21,400\nI'm trying to remember what\noperating system I did on that,\n\n296\n00:14:21,400 --> 00:14:22,530\nI think it was a Red Hat VM.\n\n297\n00:14:22,530 --> 00:14:25,420\nSo it shouldn't take too\nterribly long to shut down.\n\n298\n00:14:25,420 --> 00:14:28,590\nBut it's gonna shut down and\nonce it's done, it'll go to Terminate.\n\n299\n00:14:28,590 --> 00:14:31,220\nNow as long as it's shutting down,\nall the drives are still gonna be there.\n\n300\n00:14:31,220 --> 00:14:32,619\nIt won't get rid of them\nuntil they're gone.\n\n301\n00:14:32,619 --> 00:14:35,560\nSo I'm trying to stall here for\na second while it terminates.\n\n302\n00:14:35,560 --> 00:14:37,280\nThere we go.\nAll right, so\n\n303\n00:14:37,280 --> 00:14:39,470\nit shows it's terminated, it's gone.\n\n304\n00:14:39,470 --> 00:14:44,470\nAnd if I go down to my volumes,\nI'll see the other volumes are gone.\n\n305\n00:14:44,470 --> 00:14:48,520\nSo the Temp VM Root,\nTemp VM/home, they're gone.\n\n306\n00:14:48,520 --> 00:14:51,670\nBut Temp VM/var was left behind.\n\n307\n00:14:51,670 --> 00:14:54,590\nSo there it is right there, still sitting,\nand I know who it came from.\n\n308\n00:14:54,590 --> 00:14:58,749\nIf I scroll over here,\nthe attached information is empty.\n\n309\n00:14:58,749 --> 00:15:02,180\nAnd that's where we get lost, that's where\nwe don't remember where it came from.\n\n310\n00:15:02,180 --> 00:15:06,190\nSo having a name or having tags to be able\nto identify it is really important, and\n\n311\n00:15:06,190 --> 00:15:08,230\nit's up to you to set those.\n\n312\n00:15:08,230 --> 00:15:12,150\nBut now I can come in and I can\nchoose that disk and I can remove it.\n\n313\n00:15:12,150 --> 00:15:15,660\nSo if I wanna get rid of that I can\ndelete the volume right there and\n\n314\n00:15:15,660 --> 00:15:16,610\nbump that one out.\n\n315\n00:15:16,610 --> 00:15:19,630\nI don't need it anymore, so\nI'll delete it, and there it goes.\n\n316\n00:15:20,820 --> 00:15:25,070\nSo if you set up the VM,\nyou may have checked off all those boxes\n\n317\n00:15:25,070 --> 00:15:27,220\nto delete the volumes\nwhen they get removed.\n\n318\n00:15:27,220 --> 00:15:30,760\nIf you didn't set up the VM,\nyou don't know if they were set or not.\n\n319\n00:15:30,760 --> 00:15:33,390\nSo whenever you terminate an instance,\nit's a good idea to go back and\n\n320\n00:15:33,390 --> 00:15:35,330\ncheck to make sure the volumes are gone.\n\n321\n00:15:35,330 --> 00:15:36,670\nSame thing with the Elastic IPs.\n\n322\n00:15:36,670 --> 00:15:39,630\nIf there was a static IP\nassigned to that instance and\n\n323\n00:15:39,630 --> 00:15:44,130\nyou've terminated the machine, if you\ndidn't choose that option to release it,\n\n324\n00:15:44,130 --> 00:15:45,130\nyou're still being billed for it.\n\n325\n00:15:45,130 --> 00:15:50,080\nSo you need to go down to Elastic IPs,\nand find that unattached IP address, and\n\n326\n00:15:50,080 --> 00:15:52,240\nattach it back to your instance,\nall right.\n\n327\n00:15:52,240 --> 00:15:54,160\nSo that's another little caveat,\n\n328\n00:15:54,160 --> 00:15:57,178\na thing that we need to be aware\nof when we set all this up.\n\n329\n00:15:57,178 --> 00:16:00,892\nAll right, so in this segment we got to\nsee a chance to terminate the instance,\n\n330\n00:16:00,892 --> 00:16:03,820\nget it out of there,\n[LAUGH] get us to stop being billed.\n\n331\n00:16:03,820 --> 00:16:05,350\nIt's a pretty straight forward process.\n\n332\n00:16:05,350 --> 00:16:08,569\nBut you guys see where there's a couple\nlittle hang ups that we can bump into.\n\n333\n00:16:08,569 --> 00:16:10,280\nI hope you guys enjoyed the segment.\n\n334\n00:16:10,280 --> 00:16:12,980\nStay tuned, we've got more AWS coming up.\n\n",
          "vimeoId": "109239201"
        },
        {
          "description": "",
          "length": "461",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/011-Third-Party-S3-Software.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/011-Third-Party-S3-Software-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/011-Third-Party-S3-Software-sm.jpg",
          "title": "Third Party S3 Software",
          "transcript": "1\n00:00:00,000 --> 00:00:08,209\n[MUSIC]\n\n2\n00:00:08,209 --> 00:00:11,326\nIn this segment, we're going to take\na look at some third-party software that's\n\n3\n00:00:11,326 --> 00:00:13,560\navailable to work with Amazon S3.\n\n4\n00:00:13,560 --> 00:00:17,110\nThe web-based GUI for\nAmazon S3 is pretty powerful.\n\n5\n00:00:17,110 --> 00:00:18,100\nYou can upload your data.\n\n6\n00:00:18,100 --> 00:00:20,270\nYou can start to work with it,\nset your permissions and\n\n7\n00:00:20,270 --> 00:00:21,330\nmake that available to people.\n\n8\n00:00:21,330 --> 00:00:24,880\nAnd for most of us that's\nprobably good enough, all right?\n\n9\n00:00:24,880 --> 00:00:29,410\nBut one area that the web based\nGUI suffers is bulk uploads.\n\n10\n00:00:29,410 --> 00:00:32,880\nIf you're loading large amounts of data or\nswapping out data, right?\n\n11\n00:00:32,880 --> 00:00:34,510\nReplacing your old file with a new file,\n\n12\n00:00:34,510 --> 00:00:38,540\nthe web-based GUI gets to be pretty\ncumbersome, pretty fast, all right?\n\n13\n00:00:38,540 --> 00:00:41,320\nSo there are a number third-party\ncompanies out there that have made\n\n14\n00:00:41,320 --> 00:00:42,000\nsoftware to do this.\n\n15\n00:00:42,000 --> 00:00:46,490\nI guess it's worth mentioning also,\nyou can use the S3 API to do it.\n\n16\n00:00:46,490 --> 00:00:48,950\nSo the application programming interface,\n\n17\n00:00:48,950 --> 00:00:52,630\nyou can have a software that\nreaches right out into Amazon S3.\n\n18\n00:00:52,630 --> 00:00:56,150\nIf your company is developing a product,\nthen you'll probably want to do that.\n\n19\n00:00:56,150 --> 00:01:00,850\nBut if you're just a company that isn't\nfocused on providing web services, but\n\n20\n00:01:00,850 --> 00:01:03,960\nis just trying to put your data somewhere\nto make it available to your customers,\n\n21\n00:01:03,960 --> 00:01:06,138\nyou don't wanna have to go in and\ninvent a program for this.\n\n22\n00:01:06,138 --> 00:01:10,450\nSo there's third-party providers out\nthere that have taken the Amazon API, and\n\n23\n00:01:10,450 --> 00:01:13,530\ndeveloped really nice\ngraphical user interfaces and\n\n24\n00:01:13,530 --> 00:01:17,150\nsimple clients that you can run on your\nmachine, that make it a lot easier to\n\n25\n00:01:17,150 --> 00:01:21,760\nbulk upload files, manipulate permissions,\nremove files, and so on, all right.\n\n26\n00:01:21,760 --> 00:01:25,375\nSo let's take a look at some\nof the more popular ones.\n\n27\n00:01:25,375 --> 00:01:27,414\nI actually use one myself\nthat's not as popular and\n\n28\n00:01:27,414 --> 00:01:29,980\nsome of the guys in the studio\nwere making fun of me.\n\n29\n00:01:29,980 --> 00:01:34,250\nProbably the most popular S3 client you'll\nhear about is one called Cyberduck.\n\n30\n00:01:34,250 --> 00:01:35,840\nNow Cyberduck is just for the Mac.\n\n31\n00:01:35,840 --> 00:01:36,740\nSo not on the Windows side.\n\n32\n00:01:36,740 --> 00:01:38,500\nI'll do a Windows one here in a moment.\n\n33\n00:01:38,500 --> 00:01:40,870\nBut Cyberduck is a third party utility.\n\n34\n00:01:40,870 --> 00:01:45,730\nYou can get it at Cyberduck.io or\nit's in the MacOS app store, amazingly.\n\n35\n00:01:45,730 --> 00:01:50,350\nIf you go to their website, it's free and\nthey just ask for donations.\n\n36\n00:01:50,350 --> 00:01:52,080\nYou go in the app store and it's $23.99.\n\n37\n00:01:52,080 --> 00:01:55,740\nSo they do charge there, but\nhere it's free, but they want donations.\n\n38\n00:01:55,740 --> 00:02:00,650\nNow, the neat thing about Cyberduck\nis it connects to FTP, SFTP, WebDev,\n\n39\n00:02:00,650 --> 00:02:05,900\nS3, OpenStack Swift, which means\nit connects to Google Drive, also.\n\n40\n00:02:05,900 --> 00:02:10,220\nIt connects to a number of different\nstorage areas so that you can access it.\n\n41\n00:02:10,220 --> 00:02:12,580\nAnd it basically works like an FTP client.\n\n42\n00:02:12,580 --> 00:02:14,530\nYou'll see,\nif you've ever used an FTP client,\n\n43\n00:02:14,530 --> 00:02:16,700\nyou know when you connect up to a server.\n\n44\n00:02:16,700 --> 00:02:17,660\nYou see something like this.\n\n45\n00:02:17,660 --> 00:02:20,770\nHere is one of the buckets for\nthis particular user.\n\n46\n00:02:20,770 --> 00:02:25,550\nAnd you'll see where they've uploaded\nimage files and nightly files, updates,\n\n47\n00:02:25,550 --> 00:02:26,990\nsource codes and so on.\n\n48\n00:02:26,990 --> 00:02:29,200\nThey're uploading it and there it is.\n\n49\n00:02:29,200 --> 00:02:33,040\nRight, a graphical client, we can just\ndrag and drop the files that we want.\n\n50\n00:02:33,040 --> 00:02:36,480\nYou can pull up the properties and\npermissions on each of these files and\n\n51\n00:02:36,480 --> 00:02:40,050\nwork with them in a very simple,\neasy to use, GUI, all right.\n\n52\n00:02:40,050 --> 00:02:41,730\nYou know, I said it was Mac only,\n\n53\n00:02:41,730 --> 00:02:44,420\nthey do have a Windows downloader here,\nlook at that.\n\n54\n00:02:44,420 --> 00:02:46,180\nYou learn something new everyday.\n\n55\n00:02:46,180 --> 00:02:48,430\nSo it looks like this one is a Windows and\nMac only,\n\n56\n00:02:48,430 --> 00:02:51,380\nI'll have to backtrack on my\nstatement from a minute ago.\n\n57\n00:02:51,380 --> 00:02:54,630\nBut Cyberduck, very popular,\na lot of people make use of this.\n\n58\n00:02:54,630 --> 00:02:57,070\nSo definitely one you should check out.\n\n59\n00:02:57,070 --> 00:03:00,220\nIf Cyberducks not to your liking there is\nanother couple of offerings that are out\n\n60\n00:03:00,220 --> 00:03:02,142\nthere that are pretty popular.\n\n61\n00:03:02,142 --> 00:03:05,800\nCloudberry, Cloudberry explorer\nis the one that I used to use.\n\n62\n00:03:05,800 --> 00:03:07,900\nCloudBerry Explorer actually\nhas two different additions.\n\n63\n00:03:07,900 --> 00:03:10,140\nThey have a freeware Windows client and\n\n64\n00:03:10,140 --> 00:03:13,040\nthey have a paid one that had\nsome more advanced functionality.\n\n65\n00:03:13,040 --> 00:03:15,050\nNow CloudBerry is Windows only.\n\n66\n00:03:15,050 --> 00:03:19,870\nSo notice they mention that Windows\ndownload and that's about it right, so\n\n67\n00:03:19,870 --> 00:03:21,110\nwe don't see that.\n\n68\n00:03:21,110 --> 00:03:22,740\nThe free one is absolutely free.\n\n69\n00:03:22,740 --> 00:03:26,680\nThe advanced one is just $40, right,\nso it's not terribly expensive.\n\n70\n00:03:26,680 --> 00:03:29,850\nBut it works very similar to Cyber Duck,\nexcept, its UI,\n\n71\n00:03:29,850 --> 00:03:33,130\nits user interface,\nlooks a lot more like an FTP client.\n\n72\n00:03:33,130 --> 00:03:36,260\nSo you've got multiple panes,\nthe left side being your computer,\n\n73\n00:03:36,260 --> 00:03:39,420\nthe right side being your S3 bucket,\nand you can copy stuff.\n\n74\n00:03:39,420 --> 00:03:41,070\nIt does some things that I really like.\n\n75\n00:03:41,070 --> 00:03:45,840\nIt makes it really easy to adjust\nthe mime, or the metadata, for files.\n\n76\n00:03:45,840 --> 00:03:47,110\nSo you can change their mime type,\n\n77\n00:03:47,110 --> 00:03:49,860\nyou can change the metadata, and\ninclude all sorts of neat stuff, and\n\n78\n00:03:49,860 --> 00:03:52,900\nyou can do it on the fly, without\nhaving to download the files to do it.\n\n79\n00:03:52,900 --> 00:03:56,730\nYou could easily rename and\nmove files and change their permissions.\n\n80\n00:03:56,730 --> 00:04:00,800\nSo, neat stuff, all done right\nhere through a simple GUI client.\n\n81\n00:04:00,800 --> 00:04:04,290\nAnd that's just CloudBerryLab.com\nif you want to check that one out.\n\n82\n00:04:05,640 --> 00:04:07,460\nThe third one is the one that I use,\nall right?\n\n83\n00:04:07,460 --> 00:04:08,950\nAnd you might've noticed\nthis in a lot of my shows,\n\n84\n00:04:08,950 --> 00:04:12,070\nI have this little accordion icon\nhere at the top of my screen.\n\n85\n00:04:12,070 --> 00:04:14,660\nAnd that's because I use\na program called ExpanDrive.\n\n86\n00:04:14,660 --> 00:04:16,490\nAnd I have it for Mac and Windows.\n\n87\n00:04:16,490 --> 00:04:18,930\nI always like to have software\nthat works in both environments.\n\n88\n00:04:18,930 --> 00:04:20,510\nAnd so this is the one that I use.\n\n89\n00:04:20,510 --> 00:04:25,230\nWhat ExpanDrive does, is it allows you\nto mount network storage locations\n\n90\n00:04:25,230 --> 00:04:27,920\nas if they were local folders or\nif they were network folders.\n\n91\n00:04:27,920 --> 00:04:32,610\nSo, this kind of takes the whole foreign\nstorage thing out of the picture.\n\n92\n00:04:32,610 --> 00:04:35,570\nIt just makes it look like\nmap drives on your system.\n\n93\n00:04:35,570 --> 00:04:37,540\nSo on Windows you can map\nthem to drive letters.\n\n94\n00:04:37,540 --> 00:04:40,130\nYou can map your S3\nbucket to your S drive.\n\n95\n00:04:40,130 --> 00:04:43,530\nAnd when you browse to S:,\nyou're actually in your S3 bucket and\n\n96\n00:04:43,530 --> 00:04:44,980\nthen working with your data.\n\n97\n00:04:44,980 --> 00:04:47,520\nand if you're on your Mac you just mount\nthem to folders right there on your\n\n98\n00:04:47,520 --> 00:04:50,950\ndesktop and you can browse right\ninto them and gain access to it.\n\n99\n00:04:50,950 --> 00:04:55,650\nMuch like Cyberduck it supports SFTP,\nGoogle Drive and\n\n100\n00:04:55,650 --> 00:04:57,454\nso on, if I can go into their\nsite I can get the whole list,\n\n101\n00:04:59,195 --> 00:05:01,905\nprobably in a crazy video that I\ndon't want to watch, but here you go.\n\n102\n00:05:01,905 --> 00:05:05,096\nSo Dropbox, Box, Google Drive,\nand all these guys, but\n\n103\n00:05:05,096 --> 00:05:08,175\nAmazon S3 is right there in the list,\nand so I use this.\n\n104\n00:05:08,175 --> 00:05:13,185\nIf I hit my little expand drive button up\nhere, you'll see I've got my ITProTV site\n\n105\n00:05:13,185 --> 00:05:18,435\nand Amazon S3 right there, to be able\nto go in and gain access to my buckets.\n\n106\n00:05:18,435 --> 00:05:22,710\nWhen you click on that, it's just going to\nconnect up and it'll mount it as a drive.\n\n107\n00:05:22,710 --> 00:05:23,840\nAnd there it comes.\n\n108\n00:05:23,840 --> 00:05:27,160\nSo right there I can see this new hard\ndrive on my system called Amazon S3.\n\n109\n00:05:27,160 --> 00:05:29,730\nAnd here's all the various buckets for\nour system.\n\n110\n00:05:29,730 --> 00:05:30,700\nSo when you guys go and\n\n111\n00:05:30,700 --> 00:05:35,410\npull images out of our site, it's actually\ncoming from this ITProTV image bucket and.\n\n112\n00:05:35,410 --> 00:05:38,580\nThere's all the images,\nthe thumbnails, the other images.\n\n113\n00:05:38,580 --> 00:05:41,140\nThis is the stuff that you guys see\nwhen you are browsing our site or\n\n114\n00:05:41,140 --> 00:05:42,320\nusing our Roku channel.\n\n115\n00:05:42,320 --> 00:05:43,712\nAll coming out of S3.\n\n116\n00:05:43,712 --> 00:05:46,510\nAll right, and if you're downloading\nvideos from our site, well,\n\n117\n00:05:46,510 --> 00:05:50,835\nthat's actually coming from our IT Pro\nTV Video Bucket, which is right here.\n\n118\n00:05:50,835 --> 00:05:53,595\nAnd this is the one, it's probably\na bit of a mess in here, let's see.\n\n119\n00:05:53,595 --> 00:05:55,205\nBut this is where the downloads come from.\n\n120\n00:05:55,205 --> 00:05:57,635\nNow if you're streaming our video,\nthe streams don't come from here.\n\n121\n00:05:57,635 --> 00:06:02,675\nAmazon S3 does not support streaming,\nit supports downloading, right?\n\n122\n00:06:02,675 --> 00:06:04,885\nSo, for downloading videos it's great.\n\n123\n00:06:04,885 --> 00:06:06,075\nFor streaming videos,\n\n124\n00:06:06,075 --> 00:06:11,050\nyou'll really need to use Amazon Cloud\nFront, or some other product like we do.\n\n125\n00:06:11,050 --> 00:06:14,400\nBut basically, I can browse in here\nuntil when a new episode is recorded,\n\n126\n00:06:14,400 --> 00:06:17,850\nwhen we add a new show, so\nyou'll see Amazon web services right here,\n\n127\n00:06:17,850 --> 00:06:20,820\nthey've already uploaded some\nof the shows that we've filmed.\n\n128\n00:06:20,820 --> 00:06:21,950\nWe can see them right in here, so\n\n129\n00:06:21,950 --> 00:06:24,400\nhere's some of the STV stuff\nthat we filmed before.\n\n130\n00:06:24,400 --> 00:06:27,200\nAnd these are new episodes now\nthat are gonna be tacked on and\n\n131\n00:06:27,200 --> 00:06:28,940\nthey'll just copy them right over there.\n\n132\n00:06:28,940 --> 00:06:31,990\nAnd I can see that and\nwork with it like I'm browsing my drive.\n\n133\n00:06:31,990 --> 00:06:36,220\nSo, really neat stuff,\ntakes the difficulty out of S3.\n\n134\n00:06:36,220 --> 00:06:41,180\nEven if you like the GUI in the web\nbased environment for AWS, even\n\n135\n00:06:41,180 --> 00:06:45,570\nif you like that, you'll find that bulk\nuploads are a lot easier with a client.\n\n136\n00:06:45,570 --> 00:06:47,940\nThe web based uploader\nis not the greatest.\n\n137\n00:06:47,940 --> 00:06:50,550\nAnd I've had some problems with\nit with dealing with large files.\n\n138\n00:06:50,550 --> 00:06:55,890\nSo you're using something like Cloudberry\nor CyberDuck or ExpanDrive or whatever.\n\n139\n00:06:55,890 --> 00:06:59,330\nThey're good solutions, and so\nthey can kind of take care of that.\n\n140\n00:06:59,330 --> 00:07:02,720\nAlso remember, if you're a developer,\nthere is the whole API open to you.\n\n141\n00:07:02,720 --> 00:07:06,140\nThese guys aren't doing any magic; there\nis no secret here to what they are doing.\n\n142\n00:07:06,140 --> 00:07:08,330\nThey are just leveraging the published.\n\n143\n00:07:08,330 --> 00:07:10,960\nAs three APIs so\nthat you don't have to, right?\n\n144\n00:07:10,960 --> 00:07:14,350\nSo that's what you're paying for, and\nis that worth 40 bucks or 25 bucks?\n\n145\n00:07:14,350 --> 00:07:17,040\nOr is that worth free in\nthe case of CyberGuy?\n\n146\n00:07:17,040 --> 00:07:17,850\nI think it is, right?\n\n147\n00:07:17,850 --> 00:07:21,080\nSo take advantage of those,\nthey're there for you.\n\n148\n00:07:21,080 --> 00:07:23,500\nAll right, so in this segment we got\na chance to see some of the third party\n\n149\n00:07:23,500 --> 00:07:26,375\nsoftware that's available I'm really just\nhitting the tip of the iceberg, right?\n\n150\n00:07:26,375 --> 00:07:29,666\nThere is a ton of different vendors\nout there that make software\n\n151\n00:07:29,666 --> 00:07:31,040\nthat interacts with S3.\n\n152\n00:07:31,040 --> 00:07:33,950\nSo, just be aware of that and\nbrowse around.\n\n153\n00:07:33,950 --> 00:07:34,920\nTry a few different ones.\n\n154\n00:07:34,920 --> 00:07:35,700\nFind the one you like.\n\n155\n00:07:35,700 --> 00:07:37,950\nAll right,\nI hope you guys enjoyed the segment.\n\n156\n00:07:37,950 --> 00:07:38,450\nStay tuned.\n\n157\n00:07:38,450 --> 00:07:40,780\nWe've got more Amazon\nweb services coming up.\n\n",
          "vimeoId": "109239054"
        },
        {
          "description": "",
          "length": "740",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/012-Modifying-Object-Properties.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/012-Modifying-Object-Properties-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/012-Modifying-Object-Properties-sm.jpg",
          "title": "Modifying Object Properties",
          "transcript": "1\n00:00:00,000 --> 00:00:08,167\n[MUSIC]\n\n2\n00:00:08,167 --> 00:00:11,479\nIn this segment, we're gonna take a look\nat modifying the properties of any of\n\n3\n00:00:11,479 --> 00:00:13,550\nthe files that we've\nuploaded into Amazon S3.\n\n4\n00:00:14,610 --> 00:00:15,788\nDuring the upload wizard,\n\n5\n00:00:15,788 --> 00:00:20,280\nif you used the upload wizard, it's got\na couple of questions that it asks.\n\n6\n00:00:20,280 --> 00:00:24,060\nAnd those questions are gonna determine\nthe default properties of an object\n\n7\n00:00:24,060 --> 00:00:27,970\nonce it goes up into S3, but\nthose questions are not permanent.\n\n8\n00:00:27,970 --> 00:00:29,380\nThey're not set in stone.\n\n9\n00:00:29,380 --> 00:00:33,850\nYou can actually change pretty much every\nsingle thing that it asks in the wizard\n\n10\n00:00:33,850 --> 00:00:35,242\nafter the fact.\n\n11\n00:00:35,242 --> 00:00:38,330\nSo oftentimes when I'm doing\na bulk upload, if I'm uploading\n\n12\n00:00:38,330 --> 00:00:41,830\nthousands of files, I won't even bother\nsetting the properties during the upload.\n\n13\n00:00:41,830 --> 00:00:45,400\nI'll just go ahead and upload them, and\nonce they're in S3 I'll go back and\n\n14\n00:00:45,400 --> 00:00:46,830\nstart to modify from there.\n\n15\n00:00:47,850 --> 00:00:50,990\nIt's up to you how you want to go about\nit, but the process is pretty simple.\n\n16\n00:00:50,990 --> 00:00:52,770\nLet's see how to do it.\n\n17\n00:00:52,770 --> 00:00:56,070\nHere I am in my AWS console and\nI'm just going to go down to S3 to\n\n18\n00:00:56,070 --> 00:00:59,600\nget to my S3 admin screen, and\nI'll pick one of my buckets.\n\n19\n00:00:59,600 --> 00:01:02,760\nSo I'll go to this demo\nbucket I created earlier.\n\n20\n00:01:02,760 --> 00:01:04,630\nInside of the bucket I've\ngot a couple of files.\n\n21\n00:01:04,630 --> 00:01:09,520\nNow I uploaded these files earlier and\nI chose various things in the wizard.\n\n22\n00:01:09,520 --> 00:01:11,820\nNow if I remember that, it's great.\n\n23\n00:01:11,820 --> 00:01:14,410\nBut if you're like me,\nit was more than five minutes ago so\n\n24\n00:01:14,410 --> 00:01:16,590\nI've already forgotten\nthe options that I chose.\n\n25\n00:01:16,590 --> 00:01:18,990\nI don't really remember if some\nof these are set to public or\n\n26\n00:01:18,990 --> 00:01:20,300\nnot public or whatever.\n\n27\n00:01:20,300 --> 00:01:22,560\nSo I probably need to go back and\nverify that and\n\n28\n00:01:22,560 --> 00:01:26,000\nmaybe even modify some of\nthe settings to meet my new needs.\n\n29\n00:01:26,000 --> 00:01:26,880\nSo we can go through and\n\n30\n00:01:26,880 --> 00:01:31,150\nstart to modify that using our\nproperties view up there on the right.\n\n31\n00:01:31,150 --> 00:01:33,190\nTo work with it,\nyou just check off a file, so\n\n32\n00:01:33,190 --> 00:01:38,120\nI'll do this Apple-Remote-Desktop-Demo\nvideo, and I can choose properties,\n\n33\n00:01:38,120 --> 00:01:41,800\nand now I'll start to see information\nabout the properties that were set.\n\n34\n00:01:41,800 --> 00:01:44,340\nThis kind of reads like\nthe wizard when you upload it.\n\n35\n00:01:44,340 --> 00:01:47,518\nYou'll see a lot of the same options.\n\n36\n00:01:47,518 --> 00:01:50,990\nNow for some of these options you can go\ninto the property screen and modify it.\n\n37\n00:01:50,990 --> 00:01:53,490\nFor some of them, though,\nthere's even easier ways.\n\n38\n00:01:53,490 --> 00:01:55,990\nThere's little shortcuts\nin your right-click menu.\n\n39\n00:01:55,990 --> 00:01:59,940\nIf you right-click on a file\nyou'll see Make Public,\n\n40\n00:01:59,940 --> 00:02:04,100\nRename, and Properties, which really just\ntakes you to this screen right here.\n\n41\n00:02:04,100 --> 00:02:07,830\nBut Rename and Make Public,\nthose are the two that are easiest.\n\n42\n00:02:07,830 --> 00:02:10,770\nWe can quickly do these without even\ngoing to the properties screen.\n\n43\n00:02:10,770 --> 00:02:13,225\nRenaming files is nice because\nyou don't have to download it or\n\n44\n00:02:13,225 --> 00:02:14,300\nre-upload it with a new name.\n\n45\n00:02:14,300 --> 00:02:17,870\nYou can just rename the file right there\nis S3 without transferring the file.\n\n46\n00:02:17,870 --> 00:02:22,620\nAnd making it public, that was a question\nduring the initial upload wizard.\n\n47\n00:02:22,620 --> 00:02:26,250\nAnd maybe at that time we didn't want to\nmake it public, but now we are ready.\n\n48\n00:02:26,250 --> 00:02:28,150\nSo we can go in and\nchoose to make it public here, and\n\n49\n00:02:28,150 --> 00:02:30,660\nthat will give everyone permissions to it.\n\n50\n00:02:30,660 --> 00:02:33,898\nSo those are nice little shortcuts that\nwe can use to assign some things, but\n\n51\n00:02:33,898 --> 00:02:37,210\nthere's other things that aren't in\nhere that we really need to go to our\n\n52\n00:02:37,210 --> 00:02:38,960\nproperties screen for.\n\n53\n00:02:38,960 --> 00:02:41,760\nSo in our property screen, if we start to\nlook at some of the different things here.\n\n54\n00:02:41,760 --> 00:02:43,570\nLet me move my browser so\nmy head's not on it.\n\n55\n00:02:43,570 --> 00:02:47,740\nWhen we start to look at the property\nscreen here, it starts with details and\n\n56\n00:02:47,740 --> 00:02:49,050\nthere's not a whole lot in here.\n\n57\n00:02:49,050 --> 00:02:52,870\nYou've got the option to switch\nbetween standard redundant storage and\n\n58\n00:02:52,870 --> 00:02:54,740\nreduced redundancy storage.\n\n59\n00:02:54,740 --> 00:02:58,080\nReduced redundancy storage means put it\non hard drives that are not redundant.\n\n60\n00:02:58,080 --> 00:02:59,880\nIf a hard drive fails,\nyou'll lose your data.\n\n61\n00:03:00,930 --> 00:03:04,040\nIf you're replicating your data to more\nthan one data center, that may be okay and\n\n62\n00:03:04,040 --> 00:03:08,080\nyou can save money by using that\nlower-cost non-redundant storage.\n\n63\n00:03:08,080 --> 00:03:11,380\nBut if you're putting all of it in one\ndata center and you don't want that to go\n\n64\n00:03:11,380 --> 00:03:15,010\noffline, if you don't want to mess around\nwith load balancers and all that mess,\n\n65\n00:03:15,010 --> 00:03:17,930\nthen you can just stick with standard\nstorage and you'll get redundancy.\n\n66\n00:03:17,930 --> 00:03:21,490\nA physical hard drive failure\nwill not take your data offline.\n\n67\n00:03:21,490 --> 00:03:23,490\nThe other thing is server side encryption.\n\n68\n00:03:23,490 --> 00:03:25,760\nYou can turn it on, they do AES 256,\n\n69\n00:03:25,760 --> 00:03:29,960\nwhich is pretty strong, and\nthat'll encrypt your data on the server.\n\n70\n00:03:29,960 --> 00:03:32,360\nNow Amazon manages the keys for that, so\n\n71\n00:03:32,360 --> 00:03:34,920\nyou are kind of trusting them\nto provide the encryption.\n\n72\n00:03:34,920 --> 00:03:37,520\nIf you're using your own encryption,\nyou just leave that at none.\n\n73\n00:03:37,520 --> 00:03:39,480\nAnd notice that you can go back and\nforth on these.\n\n74\n00:03:39,480 --> 00:03:43,910\nYou can choose to move from standard\nto reduced redundancy and back again.\n\n75\n00:03:43,910 --> 00:03:47,210\nSo these are things that we can\nchange our mind about later.\n\n76\n00:03:47,210 --> 00:03:50,780\nJust understand that if you go between\none type of storage and another, or\n\n77\n00:03:50,780 --> 00:03:53,440\nif you encrypt and then decrypt,\nit does take time.\n\n78\n00:03:53,440 --> 00:03:55,630\nIt's not an immediate\nchange that that happens,\n\n79\n00:03:55,630 --> 00:03:57,200\ncuz it's gotta go through and\nprocess your data.\n\n80\n00:03:59,260 --> 00:04:01,220\nThe next part are permissions.\n\n81\n00:04:01,220 --> 00:04:06,070\nThe permissions screen is identical\nto what we saw in the upload wizard.\n\n82\n00:04:06,070 --> 00:04:07,650\nRight, here it's just very basic.\n\n83\n00:04:07,650 --> 00:04:09,690\nYou can specify who's a grantee,\n\n84\n00:04:09,690 --> 00:04:12,448\nwho we're granting permissions to,\nand what they get.\n\n85\n00:04:12,448 --> 00:04:15,340\nYou'll see Open/Download,\nEdit Permissions, and\n\n86\n00:04:15,340 --> 00:04:18,910\nView Permissions and\nmy screen is rendering it a little weird.\n\n87\n00:04:18,910 --> 00:04:23,530\nLet me see, well, yeah, Amazon didn't do\nthe greatest job of styling that one.\n\n88\n00:04:23,530 --> 00:04:25,730\nBut [LAUGH] you'll see here open and\ndownload,\n\n89\n00:04:25,730 --> 00:04:30,330\nthat's what we normally want regular users\nto be able do to get access to the file.\n\n90\n00:04:30,330 --> 00:04:31,280\nView Permissions.\n\n91\n00:04:31,280 --> 00:04:33,950\nThey can look at the permissions on\nthe file to see who should have access.\n\n92\n00:04:33,950 --> 00:04:37,610\nAnd then Edit Permissions, they can\nactually change those permissions.\n\n93\n00:04:37,610 --> 00:04:39,500\nSo you can pick and choose.\n\n94\n00:04:39,500 --> 00:04:42,720\nOne of the options in the wizard\nwas to make a file public, or\n\n95\n00:04:42,720 --> 00:04:44,620\nif I right-click I can make it public.\n\n96\n00:04:44,620 --> 00:04:47,330\nYou can do the same thing right\nhere in the permission screen.\n\n97\n00:04:47,330 --> 00:04:49,375\nI can choose add more permissions.\n\n98\n00:04:49,375 --> 00:04:52,833\nAnd for the grantee I can put everyone.\n\n99\n00:04:52,833 --> 00:04:56,500\nEveryone, if I grant everyone\nOpen/Download, now anyone on\n\n100\n00:04:56,500 --> 00:05:01,190\nthe Internet will be able to access\nthis file, this video, and download it.\n\n101\n00:05:01,190 --> 00:05:02,610\nPlay it, whatever they want to do.\n\n102\n00:05:02,610 --> 00:05:03,610\nThey'll have that option.\n\n103\n00:05:05,460 --> 00:05:07,700\nIf I want them to be able to view and\nedit permissions, I can do that to.\n\n104\n00:05:07,700 --> 00:05:10,790\nThat's a phenomenally bad idea\nwhen you're doing it to everyone.\n\n105\n00:05:10,790 --> 00:05:12,910\nBut you might be granting\nthis to your own company.\n\n106\n00:05:12,910 --> 00:05:16,440\nMaybe you've got 20 different AWS admins,\nright?\n\n107\n00:05:16,440 --> 00:05:19,520\nAnd so they all need the ability\nto come in and manage these files.\n\n108\n00:05:19,520 --> 00:05:22,980\nSo I might choose to add more permissions,\nso I'll add another set.\n\n109\n00:05:22,980 --> 00:05:25,940\nAnd for the Grantee I might\npick Authenticated users.\n\n110\n00:05:25,940 --> 00:05:31,260\nThat would be anybody who has\nan account inside of my AWS account.\n\n111\n00:05:31,260 --> 00:05:33,840\nSo I could pick that and\nI can grant them full access.\n\n112\n00:05:33,840 --> 00:05:39,370\nOr I can do just me or\nthe AWS demo account, which is my account.\n\n113\n00:05:39,370 --> 00:05:41,560\nIf I've created other accounts\nI'll see them in the list.\n\n114\n00:05:41,560 --> 00:05:45,030\nAnd you can even go into IAM and\ncreate groups and issue it that way too.\n\n115\n00:05:45,030 --> 00:05:48,181\nSo you've got a lot of flexibility there\nas far as issuing out that kind of\n\n116\n00:05:48,181 --> 00:05:48,810\npermission.\n\n117\n00:05:50,200 --> 00:05:51,340\nI'm gonna just delete that one out.\n\n118\n00:05:51,340 --> 00:05:53,310\nSo I'm basically making this one public.\n\n119\n00:05:53,310 --> 00:05:56,500\nThis is no different than right-clicking\non it and choosing Make Public or\n\n120\n00:05:56,500 --> 00:05:58,020\nhitting that checkmark\nwhen you do the upload.\n\n121\n00:06:00,280 --> 00:06:04,300\nNotice that I've got a Save button here\ninside of the Permissions section.\n\n122\n00:06:04,300 --> 00:06:07,160\nEach section has its\nown little Save button.\n\n123\n00:06:07,160 --> 00:06:10,310\nBut if you switch from one section\nto another it doesn't erase it.\n\n124\n00:06:10,310 --> 00:06:11,680\nSo they're really all the same.\n\n125\n00:06:11,680 --> 00:06:14,360\nSo don't feel like you have\nto hit Save on each one.\n\n126\n00:06:14,360 --> 00:06:15,730\nYou can just hit it one time for\nall of them.\n\n127\n00:06:16,980 --> 00:06:19,360\nNow the last section is the one that\nI end up spending the most time with,\n\n128\n00:06:19,360 --> 00:06:20,760\nwhich is Metadata.\n\n129\n00:06:20,760 --> 00:06:24,410\nInside of Metadata you can attach\ninformation about this file so\n\n130\n00:06:24,410 --> 00:06:27,690\nthat other systems that are downloading\nit will know how to handle it.\n\n131\n00:06:27,690 --> 00:06:30,430\nYou can specify all sorts of things.\n\n132\n00:06:30,430 --> 00:06:32,670\nYou'll see it's actually created one for\nme.\n\n133\n00:06:32,670 --> 00:06:35,300\nWhen I uploaded this, it was a video.\n\n134\n00:06:35,300 --> 00:06:38,360\nAnd so Amazon looked at that,\nrecognized it and\n\n135\n00:06:38,360 --> 00:06:43,380\nset it with a content type\nof application/octet-stream.\n\n136\n00:06:43,380 --> 00:06:46,250\nOctet-stream means don't play this.\n\n137\n00:06:46,250 --> 00:06:48,770\nIf you click on it, just download it.\n\n138\n00:06:48,770 --> 00:06:50,260\nThis is gonna be a downloadable video.\n\n139\n00:06:50,260 --> 00:06:53,160\nIf somebody clicks on it, it will\ndownload to their system as a file.\n\n140\n00:06:53,160 --> 00:06:55,400\nAnd then they can go and\nplay it however they want.\n\n141\n00:06:55,400 --> 00:06:57,010\nThat might be what we want.\n\n142\n00:06:57,010 --> 00:07:00,400\nBut maybe I want when they click\non this for it to actually play.\n\n143\n00:07:00,400 --> 00:07:03,820\nI want this video to play in the browser,\nnot to download.\n\n144\n00:07:03,820 --> 00:07:07,170\nSo if I want that,\nI need to change this content type.\n\n145\n00:07:07,170 --> 00:07:09,810\nAnd you can use the drop-down box,\nand you'll see some different ones.\n\n146\n00:07:09,810 --> 00:07:13,160\nIt's not complete, though, so if there's\none that you want to type that isn't\n\n147\n00:07:13,160 --> 00:07:15,570\nthere, you can just go in and\nactually type it in.\n\n148\n00:07:15,570 --> 00:07:18,066\nSo I'm gonna put in video/mp4.\n\n149\n00:07:18,066 --> 00:07:22,920\nWhen you do video/mp4,\nnow the systems that click on it will\n\n150\n00:07:22,920 --> 00:07:27,600\nknow that that's actually a mp4 file\nthat they can play and it'll play it.\n\n151\n00:07:27,600 --> 00:07:30,150\nNow before I save that,\nlet me show you this in action.\n\n152\n00:07:30,150 --> 00:07:35,970\nI'm gonna copy that URL and I'll just go\nto another tab here in the background.\n\n153\n00:07:35,970 --> 00:07:39,140\nIf I browse to that URL,\nright, so there it is.\n\n154\n00:07:39,140 --> 00:07:42,550\nWhen I browse to it I'm getting\nthat it's an octet-stream and\n\n155\n00:07:42,550 --> 00:07:43,970\nit's asking me to download it.\n\n156\n00:07:43,970 --> 00:07:46,050\nSo here it is I can choose\nto save that file and\n\n157\n00:07:46,050 --> 00:07:47,290\nI'll save it to my drive wherever.\n\n158\n00:07:48,550 --> 00:07:49,930\nI'll cancel that.\n\n159\n00:07:49,930 --> 00:07:53,133\nBut if I go back here to\nmy Properties screen and\n\n160\n00:07:53,133 --> 00:07:57,580\nI set this to video/mp4 and\nI hit Save, it's gonna save that.\n\n161\n00:07:57,580 --> 00:07:59,690\nThat's gonna change that content type.\n\n162\n00:07:59,690 --> 00:08:04,760\nAnd when somebody accesses this file,\nthe metadata will be presented to tell it,\n\n163\n00:08:04,760 --> 00:08:08,410\nhey, this isn't just a octet-stream.\n\n164\n00:08:08,410 --> 00:08:10,140\nThis is actually an mp4.\n\n165\n00:08:10,140 --> 00:08:11,930\nNow notice how long it's taking.\n\n166\n00:08:11,930 --> 00:08:14,180\nThis isn't something that's\nsimply written to the database.\n\n167\n00:08:14,180 --> 00:08:17,520\nIt's actually embedded in the file itself,\nin the header, and\n\n168\n00:08:17,520 --> 00:08:19,580\nso Amazon is having to\nrestructure that file.\n\n169\n00:08:19,580 --> 00:08:23,120\nSo when you change metadata,\nit can take a while, so\n\n170\n00:08:23,120 --> 00:08:25,030\nyou do have to be patient with it.\n\n171\n00:08:25,030 --> 00:08:27,450\nContent type is the one that\nI work with the most, but\n\n172\n00:08:27,450 --> 00:08:30,560\nthere are tons of different file\nmetadata things that can be set.\n\n173\n00:08:30,560 --> 00:08:32,200\nAnd you can even create\nyour own custom ones,\n\n174\n00:08:32,200 --> 00:08:35,700\nwhich can be useful if you're tapping into\nit with some kind of programming language.\n\n175\n00:08:35,700 --> 00:08:40,370\nSo you'll see Add more metadata and we\ncan start to add other records here that\n\n176\n00:08:40,370 --> 00:08:44,110\neach perform different things,\nfor example, Content-Language.\n\n177\n00:08:44,110 --> 00:08:47,650\nIf you want to designate what language\nthis file is in, you can do it there.\n\n178\n00:08:47,650 --> 00:08:50,640\nOr Expires, that's a nice one,\nto be able to know, hey,\n\n179\n00:08:50,640 --> 00:08:51,983\nyou shouldn't be using this file.\n\n180\n00:08:51,983 --> 00:08:52,860\nIt's expired.\n\n181\n00:08:52,860 --> 00:08:54,820\nThere may be a replacement for it.\n\n182\n00:08:54,820 --> 00:08:56,860\nYou can do other things\nlike Cache Control.\n\n183\n00:08:56,860 --> 00:08:59,510\nThis is useful if you're worried\nabout people caching a web page that\n\n184\n00:08:59,510 --> 00:09:00,750\nchanges frequently.\n\n185\n00:09:00,750 --> 00:09:03,420\nYou can turn on Cache Control and\nset it not to cache, and\n\n186\n00:09:03,420 --> 00:09:06,290\nthat way every time they\ngo they'll get a new copy.\n\n187\n00:09:06,290 --> 00:09:08,290\nAnd again, this list is not even complete.\n\n188\n00:09:08,290 --> 00:09:10,580\nThere are a ton of other\nones that are out there.\n\n189\n00:09:10,580 --> 00:09:13,490\nSo if you've gotta a different key that\nyou wanna use, you can just type it in\n\n190\n00:09:13,490 --> 00:09:19,560\nright here, for whatever it is that\nyou need, and then specify a value.\n\n191\n00:09:19,560 --> 00:09:23,350\nJust keep in mind that if it's a custom\nkey, Amazon doesn't know what that is, and\n\n192\n00:09:23,350 --> 00:09:26,360\nso this next drop-down box for\nthe values will always be blank.\n\n193\n00:09:26,360 --> 00:09:28,960\nBut on the one's that they know what\nit is, a lot of times you'll find where\n\n194\n00:09:28,960 --> 00:09:31,895\nthe drop-down box will\nactually show you options.\n\n195\n00:09:31,895 --> 00:09:37,150\nAnd I'm not picking one that does it, but\nbasically you can pop that information in.\n\n196\n00:09:37,150 --> 00:09:39,290\nBut if it's a custom key,\nthey don't know what to display.\n\n197\n00:09:40,640 --> 00:09:42,600\nSo it saved that change for me.\n\n198\n00:09:42,600 --> 00:09:44,250\nAnd Im gonna take this URL again.\n\n199\n00:09:45,250 --> 00:09:45,880\nIt hasnt changed.\n\n200\n00:09:45,880 --> 00:09:47,530\nI guess I dont need to copy it again.\n\n201\n00:09:47,530 --> 00:09:50,660\nBut Ill go in here,\nIm gonna provide that URL a second time.\n\n202\n00:09:50,660 --> 00:09:54,930\nAnd this time, when I go to it,\n[LAUGH] its gonna download, great.\n\n203\n00:09:54,930 --> 00:09:57,820\nIve more than likely cached\nit with Cache Control, right?\n\n204\n00:09:57,820 --> 00:10:00,430\nBut when my browser goes to hit it,\nitll see that new content type and\n\n205\n00:10:00,430 --> 00:10:02,930\nitll say, hey, this is a video, an mp4.\n\n206\n00:10:02,930 --> 00:10:04,310\nI should go ahead and play it.\n\n207\n00:10:04,310 --> 00:10:05,700\nAnd it'll play it in browser.\n\n208\n00:10:05,700 --> 00:10:08,170\nI don't know if that was a Google Chrome\nthing there that did it or\n\n209\n00:10:08,170 --> 00:10:09,440\nif I just have it cached.\n\n210\n00:10:09,440 --> 00:10:11,670\nI've been having some issues with\nGoogle Chrome's cache lately, so\n\n211\n00:10:11,670 --> 00:10:12,770\nthat's probably it.\n\n212\n00:10:12,770 --> 00:10:15,270\nBut it'll hit that and\nit'll play the video.\n\n213\n00:10:15,270 --> 00:10:16,430\nContent types are pretty important.\n\n214\n00:10:17,570 --> 00:10:22,020\nSo what we just saw were\nthe different properties\n\n215\n00:10:22,020 --> 00:10:25,280\nthat are right here on the object,\nand this is what we'll normally do.\n\n216\n00:10:25,280 --> 00:10:28,240\nThe only negative about these is that\nthe properties really are just for\n\n217\n00:10:28,240 --> 00:10:29,790\na single object.\n\n218\n00:10:29,790 --> 00:10:31,820\nI'm just modifying\nthe Apple remote desktop.\n\n219\n00:10:31,820 --> 00:10:35,540\nBut what if I have a bunch of videos\nin here, what if I have a lot?\n\n220\n00:10:35,540 --> 00:10:40,370\nWell, this property screen can work for\nmultiple files.\n\n221\n00:10:40,370 --> 00:10:43,890\nIf I click off more than one file and\nI hit properties, it'll work.\n\n222\n00:10:43,890 --> 00:10:46,870\nBut notice how my options\njust got really reduced.\n\n223\n00:10:48,100 --> 00:10:51,290\nNow it's only showing me options\nthat are common across the files and\n\n224\n00:10:51,290 --> 00:10:56,510\neven things like metadata disappear, and\nnow I can only specify these changes.\n\n225\n00:10:56,510 --> 00:11:00,130\nSo there are some changes we can\ndo in bulk, others we can't.\n\n226\n00:11:00,130 --> 00:11:01,550\nIf you want to do changes in bulk for\n\n227\n00:11:01,550 --> 00:11:05,480\nsomething like metadata,\nAmazon recommends you use their API.\n\n228\n00:11:05,480 --> 00:11:08,230\nBut another route is you can\nuse third-party clients.\n\n229\n00:11:08,230 --> 00:11:11,270\nIf you haven't checked it out, we recorded\na segment on third-party software that\n\n230\n00:11:11,270 --> 00:11:15,830\nintegrates with S3, and you can use\nthings like CloudBerry Explorer.\n\n231\n00:11:15,830 --> 00:11:18,400\nIt'll actually go and bulk set MIME types.\n\n232\n00:11:18,400 --> 00:11:21,330\nThe various things like that that it\ncan do that make it really handy for\n\n233\n00:11:21,330 --> 00:11:23,680\nbulk changes of properties.\n\n234\n00:11:23,680 --> 00:11:26,040\nBut in the GUI,\nthese are the ones that we have.\n\n235\n00:11:26,040 --> 00:11:29,160\nAnd we can go through and\nmodify those and get them set.\n\n236\n00:11:29,160 --> 00:11:33,130\nAlso keep in mind that the bucket\nitself has properties.\n\n237\n00:11:33,130 --> 00:11:36,160\nIf I go back to my All Buckets screen and\n\n238\n00:11:36,160 --> 00:11:38,475\nI go into Properties,\nI'll see the properties for\n\n239\n00:11:38,475 --> 00:11:43,425\nmy bucket that was created, and you can\nset permissions up at the bucket level.\n\n240\n00:11:43,425 --> 00:11:47,405\nWhen you upload files they can actually\ninherit the permissions of the bucket,\n\n241\n00:11:47,405 --> 00:11:50,065\nif you want to go that route, and it makes\nit where you don't have to go through and\n\n242\n00:11:50,065 --> 00:11:51,552\nset a bunch of permissions.\n\n243\n00:11:51,552 --> 00:11:56,152\nYou can set the whole bucket as public,\nand that saves you a lot of time.\n\n244\n00:11:56,152 --> 00:12:00,852\nYou'll also see other things in here for\nmanipulating things like the logging,\n\n245\n00:12:00,852 --> 00:12:04,192\nlifecycle, how long the data's valid for,\ntags and so on.\n\n246\n00:12:04,192 --> 00:12:06,862\nThere's a lot more advanced\nstuff on the bucket itself.\n\n247\n00:12:06,862 --> 00:12:08,809\nAnd we'll see some of these\nfeatures in another segment.\n\n248\n00:12:09,870 --> 00:12:12,950\nAll right, so in this segment we got a\nchance to see modifying the properties on\n\n249\n00:12:12,950 --> 00:12:16,180\nan object is pretty straightforward and\npretty useful stuff.\n\n250\n00:12:16,180 --> 00:12:17,560\nHope you guys enjoyed the segment.\n\n251\n00:12:17,560 --> 00:12:18,640\nStay tuned.\nWe've got more\n\n252\n00:12:18,640 --> 00:12:19,900\nAmazon Web Services coming up.\n\n",
          "vimeoId": "109239302"
        },
        {
          "description": "",
          "length": "803",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/013-Advanced-Permissions-In-S3.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/013-Advanced-Permissions-In-S3-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/013-Advanced-Permissions-In-S3-sm.jpg",
          "title": "Advanced Permissions In S3",
          "transcript": "1\n00:00:00,000 --> 00:00:08,125\n[MUSIC]\n\n2\n00:00:08,125 --> 00:00:12,130\nIn this segment, we're going to take a\nlook at advanced permissions in Amazon S3.\n\n3\n00:00:12,130 --> 00:00:15,170\nWhen you upload an object,\na file, a video, whatever, into\n\n4\n00:00:15,170 --> 00:00:19,540\nAmazon S3 into one of your buckets, the\nwizard will offer to set some permissions.\n\n5\n00:00:19,540 --> 00:00:22,430\nAnd even after the fact, once something\nis up into S3, you can go and\n\n6\n00:00:22,430 --> 00:00:23,730\nmodify the permissions.\n\n7\n00:00:23,730 --> 00:00:25,440\nBut as Ive said in some\nof my other segments,\n\n8\n00:00:25,440 --> 00:00:28,260\nthe permissions are really basic,\ntheyre fairly limited.\n\n9\n00:00:28,260 --> 00:00:32,530\nYou can designate everybody\nhas access to a file, or\n\n10\n00:00:32,530 --> 00:00:36,370\nonly particular users have access\nto a file, but thats about it.\n\n11\n00:00:36,370 --> 00:00:37,930\nWhat if we wanna go more advanced?\n\n12\n00:00:37,930 --> 00:00:43,340\nWhat if you want to say only this\nIP address has access to a file or\n\n13\n00:00:43,340 --> 00:00:46,350\nonly people who have been\nreferred by my website,\n\n14\n00:00:46,350 --> 00:00:49,150\ncoming from a link on my domain,\nare allowed to access that.\n\n15\n00:00:49,150 --> 00:00:51,075\nSo you are basically\ndisabling direct linking.\n\n16\n00:00:51,075 --> 00:00:52,570\nYou've got to come from this site.\n\n17\n00:00:52,570 --> 00:00:55,040\nWell, we didn't see that in the wizard,\ndid we?\n\n18\n00:00:55,040 --> 00:00:56,980\nAnd that's because it's not supported.\n\n19\n00:00:56,980 --> 00:00:59,980\nIt's not there in the permissions setting.\n\n20\n00:00:59,980 --> 00:01:03,590\nBut, in Amazon S3,\nwe can create what's called a policy.\n\n21\n00:01:03,590 --> 00:01:07,810\nOn our S3 bucket, you can create\na bucket policy that defines\n\n22\n00:01:07,810 --> 00:01:10,810\nvery advanced configuration examples.\n\n23\n00:01:10,810 --> 00:01:12,410\nExamples like I said just a moment ago.\n\n24\n00:01:12,410 --> 00:01:15,330\nRestricting access to particular IPs or\ndomains.\n\n25\n00:01:15,330 --> 00:01:19,780\nDoing all sorts of really interesting\nthings and it's very powerful, but\n\n26\n00:01:19,780 --> 00:01:23,662\nlike any type of system that's very\npowerful, it's pretty complex.\n\n27\n00:01:23,662 --> 00:01:24,650\nAll right.\n\n28\n00:01:24,650 --> 00:01:25,870\nLet me show you what I mean.\n\n29\n00:01:25,870 --> 00:01:31,986\nSo here I am in my AWS console and if I go\ndown to S3, and I take a bucket, right.\n\n30\n00:01:31,986 --> 00:01:35,370\nLike my ITProTV AWS demo bucket here.\n\n31\n00:01:35,370 --> 00:01:37,420\nWhen I look at its properties,\n\n32\n00:01:38,810 --> 00:01:42,340\nI'll see some basic information about\nit and you'll see permissions, right?\n\n33\n00:01:42,340 --> 00:01:45,550\nSo here are some permissions that are set\non it, I've got my static logging,\n\n34\n00:01:45,550 --> 00:01:47,970\nnotifications, versioning, and so on.\n\n35\n00:01:47,970 --> 00:01:50,980\nI don't really see any\nmention about a policy and\n\n36\n00:01:50,980 --> 00:01:53,360\nthat's because it's hidden,\nright here under permissions.\n\n37\n00:01:53,360 --> 00:01:55,860\nI guess it's not really hidden,\nit's just really small.\n\n38\n00:01:55,860 --> 00:01:59,842\nYou've got add more permissions,\nand you've got add bucket policy.\n\n39\n00:01:59,842 --> 00:02:03,190\nAll right,\na bucket policy is that little script\n\n40\n00:02:03,190 --> 00:02:05,490\nthat we can write that\ndefines advanced permissions.\n\n41\n00:02:05,490 --> 00:02:07,940\nNow when you hit add bucket policy,\nwhat does it do?\n\n42\n00:02:07,940 --> 00:02:12,680\nIt gives you this, a text entry window and\nyou're ready to write.\n\n43\n00:02:12,680 --> 00:02:18,260\nWell, the S3 bucket\npolicies use a proprietary,\n\n44\n00:02:18,260 --> 00:02:21,880\nit's kind of like XML,\nlayout to designate permissions.\n\n45\n00:02:21,880 --> 00:02:24,710\nAnd if you don't know that layout,\nif you don't know that language for\n\n46\n00:02:24,710 --> 00:02:26,910\nwriting it,\nthis screen's absolutely useless to you.\n\n47\n00:02:26,910 --> 00:02:27,650\nIt's not gonna help.\n\n48\n00:02:28,780 --> 00:02:31,070\nBut there is something nice\nat the bottom of the screen.\n\n49\n00:02:31,070 --> 00:02:36,580\nYou'll see the AWS policy generator and\nthe sample bucket policies.\n\n50\n00:02:36,580 --> 00:02:39,510\nFor years,\nAmazon just had sample bucket policies, so\n\n51\n00:02:39,510 --> 00:02:42,640\nyou could look at some samples and\nthen customize them to meet your needs.\n\n52\n00:02:42,640 --> 00:02:45,220\nBut now they've got this nice little\npolicy generator that helps out.\n\n53\n00:02:45,220 --> 00:02:46,210\nAll right.\n\n54\n00:02:46,210 --> 00:02:49,260\nBefore we go to the generator though\nlet's take a look at those samples and\n\n55\n00:02:49,260 --> 00:02:52,030\nget an idea of how they work, all right.\n\n56\n00:02:52,030 --> 00:02:56,560\nSo here's the samples page, and\nthey lay out some examples and\n\n57\n00:02:56,560 --> 00:02:59,930\nyou can see in here,\nlet me zoom in on this a little bit.\n\n58\n00:02:59,930 --> 00:03:00,760\nIt's kind of tiny.\n\n59\n00:03:02,630 --> 00:03:04,330\nWe'll make it insanely large.\n\n60\n00:03:04,330 --> 00:03:04,870\nThere we go.\nSo\n\n61\n00:03:04,870 --> 00:03:07,040\nyou can see an example of\na very simple policy here and\n\n62\n00:03:07,040 --> 00:03:08,240\nthis one's pretty straight forward.\n\n63\n00:03:08,240 --> 00:03:13,090\nThis is granting permissions to multiple\naccounts with added conditions.\n\n64\n00:03:13,090 --> 00:03:16,490\nWe know we can add permissions to\nan account, but to set conditions.\n\n65\n00:03:16,490 --> 00:03:17,890\nThat's a different story.\n\n66\n00:03:17,890 --> 00:03:22,860\nHere you'll see where we're adding in\na statement that's allowing access\n\n67\n00:03:22,860 --> 00:03:24,490\nto a principle.\n\n68\n00:03:24,490 --> 00:03:28,610\nIf you look at the principle\nit's referencing an IAM,\n\n69\n00:03:28,610 --> 00:03:31,450\nthat's a user account inside of S3.\n\n70\n00:03:31,450 --> 00:03:33,040\nSo it's pointing to a user account and\n\n71\n00:03:33,040 --> 00:03:35,750\nit's saying that user is\ngoing to be allowed access.\n\n72\n00:03:35,750 --> 00:03:38,020\nAnd then as I scroll over,\nI'll see another user.\n\n73\n00:03:38,020 --> 00:03:40,990\nSo I've got two different users\nthat are being allowed access.\n\n74\n00:03:40,990 --> 00:03:45,180\nAnd then on the action,\nthat is the additional principle,\n\n75\n00:03:45,180 --> 00:03:47,080\nthe additional setting.\n\n76\n00:03:47,080 --> 00:03:49,810\nWhen we give somebody permission\nto a bucket in the GUI,\n\n77\n00:03:49,810 --> 00:03:53,990\nyou can give them open or download, that's\none permission, it's not one or the other.\n\n78\n00:03:53,990 --> 00:03:55,530\nIt's open slash download.\n\n79\n00:03:55,530 --> 00:03:58,750\nThen there's view permissions and\nedit permissions, that's it.\n\n80\n00:03:58,750 --> 00:03:59,810\nThose are the options in the GUI.\n\n81\n00:03:59,810 --> 00:04:05,790\nBut here they're giving them\nput object and put object ACL.\n\n82\n00:04:05,790 --> 00:04:09,780\nThat means they can upload a file and\nthey can add an ACL.\n\n83\n00:04:09,780 --> 00:04:11,930\nThey can change permissions on that file.\n\n84\n00:04:11,930 --> 00:04:15,010\nBut they can't delete a file,\nthey can't rename a file.\n\n85\n00:04:15,010 --> 00:04:16,640\nThis is very specific,\n\n86\n00:04:16,640 --> 00:04:20,760\nwe're giving them just particular\nactions that they can take.\n\n87\n00:04:20,760 --> 00:04:23,070\nThen we're specifying the resource.\n\n88\n00:04:23,070 --> 00:04:27,580\nNotice here they're saying\nthe example bucket/star.\n\n89\n00:04:27,580 --> 00:04:30,180\nThat star,\nthat means everything in the bucket.\n\n90\n00:04:30,180 --> 00:04:32,470\nSo they're giving them\naccess to the bucket itself.\n\n91\n00:04:32,470 --> 00:04:34,720\nBut you could even specify subfolders.\n\n92\n00:04:34,720 --> 00:04:38,230\nMaybe I'm just giving them access to\na particular folder in that bucket and\n\n93\n00:04:38,230 --> 00:04:40,650\nthat's something that you really\ncan't do usually in the GUI.\n\n94\n00:04:40,650 --> 00:04:43,210\nThen there's some additional\nstrings down here.\n\n95\n00:04:43,210 --> 00:04:46,020\nThey're mentioning that when\nthey upload something and\n\n96\n00:04:46,020 --> 00:04:49,640\nthey want to upload it,\nit needs to be flagged as public read.\n\n97\n00:04:49,640 --> 00:04:52,650\nIf it's not flagged as public read,\nit won't let them upload it.\n\n98\n00:04:52,650 --> 00:04:56,210\nSo they're not allowed to upload\nprivate files, just public files, so\n\n99\n00:04:56,210 --> 00:04:58,990\nwe can get really,\nreally specific with this stuff.\n\n100\n00:04:58,990 --> 00:05:02,130\nBut, how do you know what\nto put in all this stuff?\n\n101\n00:05:02,130 --> 00:05:06,520\nWell, some of this, like here, these ARNs,\nthese are Amazon's resource names.\n\n102\n00:05:06,520 --> 00:05:11,160\nThese are the detailed name that\nidentify some kind of object in AWS.\n\n103\n00:05:11,160 --> 00:05:14,910\nWe could go find that user account in AIM,\npull up their properties, and\n\n104\n00:05:14,910 --> 00:05:16,040\nget their ID from there.\n\n105\n00:05:16,040 --> 00:05:17,460\nThat's where that came from.\n\n106\n00:05:17,460 --> 00:05:18,817\nSame thing with the bucket.\n\n107\n00:05:18,817 --> 00:05:21,193\nThe bucket is a little easier, right,\n\n108\n00:05:21,193 --> 00:05:26,247\nbecause the bucket is always ARN:AWS:S3:::\nand then the name of the bucket.\n\n109\n00:05:26,247 --> 00:05:28,670\nThat one you probably don't\neven have to look up.\n\n110\n00:05:28,670 --> 00:05:30,150\nBut the rest of this stuff,\n\n111\n00:05:30,150 --> 00:05:34,640\nhow do you know the format to put that in,\nto make that my bucket policy?\n\n112\n00:05:34,640 --> 00:05:36,400\nWell you could memorize it, I suppose.\n\n113\n00:05:36,400 --> 00:05:37,760\nWhich is crazy talk.\n\n114\n00:05:37,760 --> 00:05:41,530\nSo instead we can use\nthe AWS policy generator and\n\n115\n00:05:41,530 --> 00:05:43,430\nit can help us to generate that policy.\n\n116\n00:05:44,590 --> 00:05:47,030\nBefore I do that though, let's take\na look at just a couple other examples.\n\n117\n00:05:47,030 --> 00:05:49,330\nI specifically mention\none that I use a lot.\n\n118\n00:05:49,330 --> 00:05:51,230\nWhich is limiting by IP.\n\n119\n00:05:51,230 --> 00:05:54,060\nHere's an example where they're\ncoming through and they're allowing.\n\n120\n00:05:54,060 --> 00:05:55,710\nAnd for\nthe principle they've got it set to star.\n\n121\n00:05:55,710 --> 00:06:00,770\nSo they're allowing anyone to access\nthis bucket, the example bucket.\n\n122\n00:06:00,770 --> 00:06:04,270\nBut then they set that condition\nto say only if their IP address\n\n123\n00:06:04,270 --> 00:06:07,550\nmeets this range or this IP specifically.\n\n124\n00:06:07,550 --> 00:06:11,620\nThat way, if you need one of your\nservers to access the data but\n\n125\n00:06:11,620 --> 00:06:13,750\nyou don't want the general\npublic to do it,\n\n126\n00:06:13,750 --> 00:06:17,820\nnow you can limit it to these\nparticular IPs, really advanced.\n\n127\n00:06:17,820 --> 00:06:20,220\nAnd then the refer one was\nthe other one that I mentioned.\n\n128\n00:06:20,220 --> 00:06:21,130\nAnd it's right here.\n\n129\n00:06:21,130 --> 00:06:24,170\nAnd you'll see under the condition,\nthey look for the referer,\n\n130\n00:06:24,170 --> 00:06:27,560\nand they're specifying their site,\nexample .com.\n\n131\n00:06:27,560 --> 00:06:29,930\nAnd each of the different\nformats that URL might take.\n\n132\n00:06:29,930 --> 00:06:32,980\nSo, if they're coming from that site,\nlet them access the file.\n\n133\n00:06:32,980 --> 00:06:36,010\nIf they're not coming from that site,\nthen they can't access the file,\n\n134\n00:06:36,010 --> 00:06:37,450\nreally neat way to protect that content.\n\n135\n00:06:39,370 --> 00:06:42,160\nIt stops link sharing and\nall that other good stuff.\n\n136\n00:06:42,160 --> 00:06:47,230\nSo, really advanced things here\ninside of the policy system.\n\n137\n00:06:47,230 --> 00:06:50,580\nIf you use the policy generator,\nright so back here under my bucket,\n\n138\n00:06:50,580 --> 00:06:54,020\nwhen it's asking me for that policy,\nI can hit the AWS policy generator,\n\n139\n00:06:54,020 --> 00:06:55,640\nand it will take you here.\n\n140\n00:06:55,640 --> 00:06:57,730\nIt normally defaults to SNS.\n\n141\n00:06:57,730 --> 00:06:59,690\nI've been in here before,\nso mine was different.\n\n142\n00:06:59,690 --> 00:07:02,570\nSo it defaults to an SNS policy,\nwhich is not what we want.\n\n143\n00:07:02,570 --> 00:07:05,350\nBut you drop that down and\nchoose S3 Bucket Policy.\n\n144\n00:07:05,350 --> 00:07:08,560\nAnd it's gonna update to reflect S3.\n\n145\n00:07:08,560 --> 00:07:11,190\nAnd now,\nin a much easier to use interface,\n\n146\n00:07:11,190 --> 00:07:13,110\nwe can specify what we're doing.\n\n147\n00:07:13,110 --> 00:07:16,750\nWe can allow or deny access,\nand we can specify a principal.\n\n148\n00:07:16,750 --> 00:07:19,800\nThe principal would be a particular\nperson we were granting access to, so\n\n149\n00:07:19,800 --> 00:07:24,290\nwe would do the ARM for that person, or\nif we want this to apply to everyone,\n\n150\n00:07:24,290 --> 00:07:26,600\nyou would just throw a star in there.\n\n151\n00:07:26,600 --> 00:07:30,800\nAnd you can do more than one person at\na time, you just separate them by commas,\n\n152\n00:07:30,800 --> 00:07:34,780\nand that will go ahead and\ndesignate that you've got multiple people.\n\n153\n00:07:34,780 --> 00:07:38,410\nThe policy is an S3 policy cuz\nthat's what I chose up above, right.\n\n154\n00:07:38,410 --> 00:07:39,640\nThat's where that came from.\n\n155\n00:07:39,640 --> 00:07:41,160\nBut you can choose to apply it to all.\n\n156\n00:07:41,160 --> 00:07:43,660\nYou could use this policy other places.\n\n157\n00:07:43,660 --> 00:07:46,500\nI've never had a scenario where my\npolicy was generic enough to do that.\n\n158\n00:07:46,500 --> 00:07:48,340\nBut you do have the option.\n\n159\n00:07:48,340 --> 00:07:50,470\nThen what actions we want to give them.\n\n160\n00:07:50,470 --> 00:07:52,950\nIf you want them to have full control,\nyou can hit All Actions.\n\n161\n00:07:52,950 --> 00:07:57,890\nBut if you drop it down,\nyou'll see the full list of permissions.\n\n162\n00:07:57,890 --> 00:07:59,710\nCreate bucket, delete bucket.\n\n163\n00:07:59,710 --> 00:08:01,810\nYou'll see create object, delete object.\n\n164\n00:08:01,810 --> 00:08:02,990\nThere's delete object.\n\n165\n00:08:02,990 --> 00:08:04,910\nYou'll see get bucket information.\n\n166\n00:08:04,910 --> 00:08:07,450\nSo there's gets, lists, puts, right?\n\n167\n00:08:07,450 --> 00:08:09,430\nPut objects,\nthat's how we actually create them.\n\n168\n00:08:09,430 --> 00:08:11,810\nSo each of these are in here and\nyou can pick and choose.\n\n169\n00:08:11,810 --> 00:08:14,530\nYou can choose one, you can choose ten,\nhowever many you need\n\n170\n00:08:14,530 --> 00:08:18,900\nto determine exactly what access this\nparticular person would have, all right?\n\n171\n00:08:18,900 --> 00:08:22,180\nSo maybe I want these people\nto be able to get objects.\n\n172\n00:08:22,180 --> 00:08:23,060\nAnd so I'll come in here and\n\n173\n00:08:23,060 --> 00:08:27,380\ndo Getobject so they'll be able\nto download some kind of content.\n\n174\n00:08:27,380 --> 00:08:28,500\nAll right.\n\n175\n00:08:28,500 --> 00:08:31,030\nThen what resource am I protecting?\n\n176\n00:08:31,030 --> 00:08:34,650\nI need to specify the ARN for\nthat resource, and\n\n177\n00:08:34,650 --> 00:08:39,190\nnormally we're going to be putting in\nthe ARN like I showed here, right?\n\n178\n00:08:39,190 --> 00:08:42,590\nSo ARN:AWS:S3.\n\n179\n00:08:42,590 --> 00:08:44,000\nFollowed by the bucket.\n\n180\n00:08:44,000 --> 00:08:48,700\nBut you can go more detailed and\ndo sub folders or even specific objects.\n\n181\n00:08:48,700 --> 00:08:53,590\nSo, I could say ARN:AWS:S3:::.\n\n182\n00:08:53,590 --> 00:08:56,818\nAnd then mine was called, I don't\neven remember what mine was called.\n\n183\n00:08:56,818 --> 00:09:00,010\n[LAUGH] AWS Demo Bucket One or\nsomething like that.\n\n184\n00:09:00,010 --> 00:09:01,290\nOh, I think it was ITPROTV dash.\n\n185\n00:09:04,030 --> 00:09:05,550\nThere we go,\nI should probably go ahead and look.\n\n186\n00:09:05,550 --> 00:09:08,200\nBut there's my bucket and\nthen I can say, slash star, and\n\n187\n00:09:08,200 --> 00:09:09,950\nthis would apply to the whole bucket.\n\n188\n00:09:09,950 --> 00:09:14,220\nOr I could say, slash, and\nspecify a particular object.\n\n189\n00:09:14,220 --> 00:09:21,460\nSo I could do\nthe Apple Remote Desktop Demo.mp4,\n\n190\n00:09:21,460 --> 00:09:27,260\nso I'm being really detailed that very\nspecific mp4 file that I want to do,\n\n191\n00:09:27,260 --> 00:09:30,950\nor we just use the star and\nthe hold button all right.\n\n192\n00:09:30,950 --> 00:09:34,300\nThen we can add conditions and the\nconditions are optional but when you hit\n\n193\n00:09:34,300 --> 00:09:38,970\nadd conditions here's where we can start\nto specify other things to filter on.\n\n194\n00:09:38,970 --> 00:09:40,850\nThings like the refer and so on.\n\n195\n00:09:40,850 --> 00:09:43,620\nIf you look through here you'll just\nsee a ton of different options.\n\n196\n00:09:43,620 --> 00:09:45,640\nThe refer is actually\na part of the string.\n\n197\n00:09:45,640 --> 00:09:49,730\nSo we could say string equals and\nthat's where you see user agents,\n\n198\n00:09:49,730 --> 00:09:52,460\nsource IP and other ones.\n\n199\n00:09:52,460 --> 00:09:57,020\nThe one I want is the refer which I\ncould have swore was under here but\n\n200\n00:09:57,020 --> 00:09:58,410\nI'm not seeing it.\n\n201\n00:09:58,410 --> 00:10:01,960\nLet's go, it is not on your\nstring let's do StringLike.\n\n202\n00:10:03,560 --> 00:10:06,360\nSometimes you have to poke around before\nyou find the exact one that you want.\n\n203\n00:10:06,360 --> 00:10:09,150\nWhere is refer let me go\nback to my examples here.\n\n204\n00:10:09,150 --> 00:10:12,778\nSo here we've the the refer\nis under StringLike hm.\n\n205\n00:10:12,778 --> 00:10:17,450\nI must have over looked it,\nso StringLike, AWS:refer.\n\n206\n00:10:18,820 --> 00:10:20,180\nI do not see it in the list.\n\n207\n00:10:20,180 --> 00:10:21,490\nWell anyhow,\nI'll pick one of these other ones.\n\n208\n00:10:21,490 --> 00:10:22,760\nI'll do like source IP.\n\n209\n00:10:22,760 --> 00:10:25,550\nAnd so\nI can then specify that IP range, so\n\n210\n00:10:25,550 --> 00:10:31,730\nif I want to approve our office I\ncan come in and specify our office.\n\n211\n00:10:31,730 --> 00:10:32,540\nAnd so I can add that.\n\n212\n00:10:32,540 --> 00:10:36,450\nAnd now anybody in my office will be able\nto access that file and download it.\n\n213\n00:10:36,450 --> 00:10:39,150\nAnd if you're out of my office,\nyou'll have an IP out of that range,\n\n214\n00:10:39,150 --> 00:10:42,550\nit won't apply, and\nyou won't be able to do it, right?\n\n215\n00:10:42,550 --> 00:10:43,670\nYou go through and you fill this out.\n\n216\n00:10:43,670 --> 00:10:46,770\nNow, you're probably going to\nadd more than one statement.\n\n217\n00:10:46,770 --> 00:10:48,790\nEach statement is a set of\npermissions that you're assigning.\n\n218\n00:10:48,790 --> 00:10:50,620\nAnd so you'll define all of those.\n\n219\n00:10:50,620 --> 00:10:54,560\nIf I want the general public to be able to\naccess, I'll need to add that one in too.\n\n220\n00:10:54,560 --> 00:10:57,400\nAnd when you're done,\nright down here at the bottom,\n\n221\n00:10:57,400 --> 00:10:59,340\nwe'll be able to generate that policy.\n\n222\n00:10:59,340 --> 00:11:02,190\nSo I need to hit add to save a statement,\nthere it is.\n\n223\n00:11:02,190 --> 00:11:04,710\nI can go and\nadd more statements if I need to.\n\n224\n00:11:04,710 --> 00:11:08,190\nBut otherwise, I can generate the policy\nas it's written, and here it is.\n\n225\n00:11:08,190 --> 00:11:12,210\nSo I don't have to know the in's and\nout's of the policy language.\n\n226\n00:11:12,210 --> 00:11:17,200\nI can just do that and now when I go\nback to my properties of my bucket,\n\n227\n00:11:17,200 --> 00:11:20,960\nI can paste that in and\nnow I've got some advanced permissions.\n\n228\n00:11:20,960 --> 00:11:24,110\nThe GUI permissions on the bucket\nitself still apply and\n\n229\n00:11:24,110 --> 00:11:27,450\nthe permissions on the object still apply,\nbut this overrides it.\n\n230\n00:11:27,450 --> 00:11:29,430\nThe bucket policy's gonna override and\n\n231\n00:11:29,430 --> 00:11:33,040\nthe nice thing is the bucket policy will\napply to new files that we upload too.\n\n232\n00:11:33,040 --> 00:11:35,810\nSo even if we forget to set\npermissions on the new files,\n\n233\n00:11:35,810 --> 00:11:37,390\nthe policy will take care of that.\n\n234\n00:11:37,390 --> 00:11:39,010\nAnd people will get their access.\n\n235\n00:11:39,010 --> 00:11:44,150\nSo now only this IP range is going\nto be allowed to access the bucket.\n\n236\n00:11:44,150 --> 00:11:49,840\nAll right, and once we have that all in\nthere we can save that on our system.\n\n237\n00:11:49,840 --> 00:11:53,470\nAnd we're in business so\nI must have a typo somewhere,\n\n238\n00:11:53,470 --> 00:11:55,520\nit doesn't seem to be\nlighting up my save button.\n\n239\n00:11:55,520 --> 00:11:59,110\nHm, that's interesting.\n\n240\n00:11:59,110 --> 00:12:00,440\nLet me try that one more time.\n\n241\n00:12:00,440 --> 00:12:05,660\nI'm gonna add my bucket policy, case that\nin, and for some reason, there we go.\n\n242\n00:12:05,660 --> 00:12:08,620\nI just hit space on my keyboard to\ntype something to make that save\n\n243\n00:12:08,620 --> 00:12:09,170\nbutton light up.\n\n244\n00:12:09,170 --> 00:12:11,950\nWhatever JavaScript you're using\nisn't detecting the paste.\n\n245\n00:12:11,950 --> 00:12:14,340\nSo that did it and I'll just save that.\n\n246\n00:12:14,340 --> 00:12:16,280\nNow that policy is in place.\n\n247\n00:12:16,280 --> 00:12:18,830\nAnd we can come back and\nedit that policy whenever you want.\n\n248\n00:12:18,830 --> 00:12:20,610\nNotice you can only have one policy.\n\n249\n00:12:20,610 --> 00:12:24,530\nThe add bucket policy is gone so if you\nneed multiple statements they all need to\n\n250\n00:12:24,530 --> 00:12:28,380\nbe in the same policy so when you edit it,\nyou'll add in the additional ones.\n\n251\n00:12:28,380 --> 00:12:32,500\nThat's why I said, I've never had a policy\nso generic I could reuse it other places.\n\n252\n00:12:32,500 --> 00:12:35,190\nAnd that's because you've gotta have all\nthese different statements in there.\n\n253\n00:12:35,190 --> 00:12:37,010\nIt becomes pretty specialized, all right?\n\n254\n00:12:37,010 --> 00:12:39,670\nSo usually,\neach bucket will have its own policy.\n\n255\n00:12:39,670 --> 00:12:44,080\nBut AWS bucket policies,\nthat's the secret to advanced permissions.\n\n256\n00:12:44,080 --> 00:12:46,890\nIf you wanna learn more, definitely\ntake a look at that examples page.\n\n257\n00:12:46,890 --> 00:12:50,200\nIt lays out some great samples of\nhow to do these bucket policies,\n\n258\n00:12:50,200 --> 00:12:52,500\nsome of the ones that are very common.\n\n259\n00:12:52,500 --> 00:12:56,550\nAnd you can just manipulate those to\nmatch your needs, what your company uses.\n\n260\n00:12:56,550 --> 00:13:00,480\nAnd then you can go into the AWS Policy\nGenerator and actually make them.\n\n261\n00:13:00,480 --> 00:13:03,380\nAnd boy, does that save some time.\n\n262\n00:13:03,380 --> 00:13:05,480\nWe use to not have that tool and\nyou had to write them by hand.\n\n263\n00:13:05,480 --> 00:13:07,500\nAnd typos were your number one nemesis.\n\n264\n00:13:07,500 --> 00:13:10,130\nSo you have to do a couple of dry\nruns before you got it right.\n\n265\n00:13:10,130 --> 00:13:11,490\nBut now it's pretty easy.\n\n266\n00:13:12,672 --> 00:13:16,620\nAll right, so that's an example of AWS or\nS3 bucket policies.\n\n267\n00:13:16,620 --> 00:13:19,150\nI hope you guys enjoyed the segment,\nstay tuned,\n\n268\n00:13:19,150 --> 00:13:21,052\nwe've got more Amazon\nweb services coming up.\n\n",
          "vimeoId": "109239468"
        },
        {
          "description": "",
          "length": "1232",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/014-Load-Balancing-in-EC2-RETAPE.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/014-Load-Balancing-in-EC2-RETAPE-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/014-Load-Balancing-in-EC2-RETAPE-sm.jpg",
          "title": "Load Balancing in EC2",
          "transcript": "1\n00:00:00,001 --> 00:00:08,378\n[MUSIC]\n\n2\n00:00:08,378 --> 00:00:09,270\nIn this segment,\n\n3\n00:00:09,270 --> 00:00:12,961\nwe're gonna take a look at load\nbalancing inside of Amazon Web Services.\n\n4\n00:00:12,961 --> 00:00:16,213\nOne of the really valuable\nfeatures of using AWS and\n\n5\n00:00:16,213 --> 00:00:21,353\nEC2 is that you get to take advantage of\nAmazon's state of the art data centers,\n\n6\n00:00:21,353 --> 00:00:27,280\nand not just one, it's plural, there are\nmany, many data centers that they have.\n\n7\n00:00:27,280 --> 00:00:31,740\nWhen you deploy a server, an EC2,\nif you're just throwing a single server up\n\n8\n00:00:31,740 --> 00:00:35,878\nthere to do a job, you're not really\ngetting all the benefits, right?\n\n9\n00:00:35,878 --> 00:00:38,969\nSure you get the benefits of things\nlike not having to maintain warranty\n\n10\n00:00:38,969 --> 00:00:42,430\non hardware, not having to worry\nabout your operating system licenses.\n\n11\n00:00:42,430 --> 00:00:44,336\nThat kind of stuff is alleviated.\n\n12\n00:00:44,336 --> 00:00:46,580\nYou don't have to worry about\npower generators and all.\n\n13\n00:00:46,580 --> 00:00:48,500\nBut, you can go even further.\n\n14\n00:00:48,500 --> 00:00:52,580\nYou can set up load balancing, so\nthat when your customers go to access your\n\n15\n00:00:52,580 --> 00:00:57,270\nserver, that your customers are spread\nacross multiple servers, and\n\n16\n00:00:57,270 --> 00:01:00,220\nthat's gonna make it where each\nserver doesn't get overloaded.\n\n17\n00:01:00,220 --> 00:01:03,837\nAnd as your systems get busier,\nyou can just add more in behind that load\n\n18\n00:01:03,837 --> 00:01:07,295\nbalancer, and the traffic is evenly\nbalanced across the servers.\n\n19\n00:01:07,295 --> 00:01:08,545\nIt's really cool to do.\n\n20\n00:01:08,545 --> 00:01:09,963\nIn a physical environment,\n\n21\n00:01:09,963 --> 00:01:14,045\nit's tough to do load balancing cuz you've\ngot to buy physical servers, right?\n\n22\n00:01:14,045 --> 00:01:16,988\nBut with AWS, or with EC2 specifically,\n\n23\n00:01:16,988 --> 00:01:21,100\nwe can spin up new\ninstances whenever we want.\n\n24\n00:01:21,100 --> 00:01:25,000\nSo when our servers start to get really\nbusy, we can spawn new instances.\n\n25\n00:01:25,000 --> 00:01:28,640\nSo, maybe I've got three servers normally,\nand the servers start getting busy.\n\n26\n00:01:28,640 --> 00:01:30,040\nSo, I add another three.\n\n27\n00:01:30,040 --> 00:01:31,460\nSo I go up to six.\n\n28\n00:01:31,460 --> 00:01:34,780\nBut then the servers start getting slow\nand I just remove some of those and\n\n29\n00:01:34,780 --> 00:01:37,461\nI go back down to three again,\nor two or whatever, right?\n\n30\n00:01:37,461 --> 00:01:43,670\nThat possibility, that action,\nis made possible by load balancing.\n\n31\n00:01:43,670 --> 00:01:46,510\nWe're gonna see in another segment\nsomething called auto scaling.\n\n32\n00:01:46,510 --> 00:01:49,260\nAuto scaling is where it automatically\ndetects the servers are busy and\n\n33\n00:01:49,260 --> 00:01:52,010\nadds servers on demand and\nscales them back.\n\n34\n00:01:52,010 --> 00:01:55,700\nThat's super cool, but\nthat doesn't work without a load balancer.\n\n35\n00:01:55,700 --> 00:01:58,254\nYour customers don't know that\nyou've got multiple servers,\n\n36\n00:01:58,254 --> 00:01:59,920\nthey don't know which one to connect to.\n\n37\n00:01:59,920 --> 00:02:02,080\nSo you need something to\ntell them where to connect,\n\n38\n00:02:02,080 --> 00:02:03,711\nand that's what a load balancer does.\n\n39\n00:02:03,711 --> 00:02:04,378\nIn the past,\n\n40\n00:02:04,378 --> 00:02:08,685\nthere were a number of companies out\nthere that make hardware load balancers.\n\n41\n00:02:08,685 --> 00:02:10,377\nAnd so if you want a new load balancer,\nyou had to go out and\n\n42\n00:02:10,377 --> 00:02:11,128\nbuy one of these things.\n\n43\n00:02:11,128 --> 00:02:12,836\nAnd they were expensive.\n\n44\n00:02:12,836 --> 00:02:17,775\nI've worked with a lot of the F5 Networks,\nis a great networking company.\n\n45\n00:02:17,775 --> 00:02:21,340\nThey make these appliances called BIG-IP\nboxes, and they do load balancing.\n\n46\n00:02:21,340 --> 00:02:24,890\nThey're great, but they are expensive.\n\n47\n00:02:24,890 --> 00:02:27,630\nI think the base model is\nsomething like $14,000.\n\n48\n00:02:27,630 --> 00:02:29,430\nThey're a lot of money.\n\n49\n00:02:29,430 --> 00:02:35,120\nIn AWS, because this is all virtualized\ninside of Amazon's data centers, they can\n\n50\n00:02:35,120 --> 00:02:39,670\nactually perform the load balancing for\nus, and it costs a fraction back, right?\n\n51\n00:02:39,670 --> 00:02:43,360\nLet's take a look at that pricing\nreal quick, just to see it.\n\n52\n00:02:43,360 --> 00:02:47,280\nSo, EC2 load balancer pricing.\n\n53\n00:02:47,280 --> 00:02:51,820\nI guess if I spelled EC2, I was gonna\nmake sure I find the pricing real quick.\n\n54\n00:02:51,820 --> 00:02:54,360\nBut you'll see the pricing\non doing a load balancer in\n\n55\n00:02:54,360 --> 00:02:57,200\nEC2 is really inexpensive, right?\n\n56\n00:02:57,200 --> 00:03:02,920\nSo basically, each load balancer is gonna\ncost you two and a half cents per hour.\n\n57\n00:03:02,920 --> 00:03:03,610\nAll right.\n\n58\n00:03:03,610 --> 00:03:06,800\nTwo and a half cents per hour, and\nif we work that out to an entire year,\n\n59\n00:03:06,800 --> 00:03:09,310\nyou'll see that that's really not much.\n\n60\n00:03:09,310 --> 00:03:14,050\nSo if we say, 0.025 cents per hour\n\n61\n00:03:14,050 --> 00:03:18,100\ntimes 24 hours in a day\ntimes 365 days in a year,\n\n62\n00:03:18,100 --> 00:03:22,950\nyou're talking about $219 per year\nto support that load balancer.\n\n63\n00:03:22,950 --> 00:03:28,140\nVersus the 10, 20, $40,000 that you\ncould spend on a hardware load balancer,\n\n64\n00:03:28,140 --> 00:03:32,490\nthis is a drop in the bucket, and this\nis what your end users will connect to.\n\n65\n00:03:32,490 --> 00:03:35,110\nTheyll be connecting to\nthis load balancer, and\n\n66\n00:03:35,110 --> 00:03:38,500\nit will then distribute them\nacross the instances behind it.\n\n67\n00:03:38,500 --> 00:03:41,910\nThe other thing you have to factor\ninto your cost Is the traffic\n\n68\n00:03:41,910 --> 00:03:43,780\ngoing through your local net server.\n\n69\n00:03:43,780 --> 00:03:47,600\nRemember that Amazon bills you for\ntraffic to and from you servers, and\n\n70\n00:03:47,600 --> 00:03:51,025\nif that traffic is passing through the\nload balancer, there's a little extra fee.\n\n71\n00:03:51,025 --> 00:03:51,670\nRight?\n\n72\n00:03:51,670 --> 00:03:55,660\nNormally you're paying about ten\ncents per gigabyte for the transfer.\n\n73\n00:03:55,660 --> 00:03:57,450\nIf it goes through a load balancer,\n\n74\n00:03:57,450 --> 00:04:01,160\nthere's an extra 0.8 of\na cent that you're paying.\n\n75\n00:04:01,160 --> 00:04:05,600\nSo instead of paying ten cents per gig,\nyou're paying 10.8 cents per gig.\n\n76\n00:04:05,600 --> 00:04:10,110\nSo it's not a terrible giant amount or\nwhatever.\n\n77\n00:04:10,110 --> 00:04:11,530\nBut it does raise that price a little bit.\n\n78\n00:04:11,530 --> 00:04:14,440\nSo keep that in mind that your\nbandwidth cost will go up slightly\n\n79\n00:04:14,440 --> 00:04:16,928\nbecause of that load balancer,\nbut boy is it worth it.\n\n80\n00:04:16,928 --> 00:04:21,380\nIf you wanna do any kind of redundancy or\nscaling, you gotta have a load balancer.\n\n81\n00:04:21,380 --> 00:04:22,120\nThere's not an option.\n\n82\n00:04:22,120 --> 00:04:25,000\nThere's really just not a good way to\ndo it without having a load balancer\n\n83\n00:04:25,000 --> 00:04:25,920\nin place.\n\n84\n00:04:25,920 --> 00:04:28,840\nThere are some systems like database\nservers that might have their own\n\n85\n00:04:28,840 --> 00:04:30,630\nbuilt in load balancing.\n\n86\n00:04:30,630 --> 00:04:32,390\nMicrosoft does it with\ntheir terminal servers.\n\n87\n00:04:32,390 --> 00:04:34,140\nThey have a session broker that does it.\n\n88\n00:04:34,140 --> 00:04:36,910\nBut in most systems like web servers,\n\n89\n00:04:36,910 --> 00:04:40,050\nfile servers, things of that nature,\nthey dont have a load balancer right now.\n\n90\n00:04:40,050 --> 00:04:42,660\nSo using this is great opportunity.\n\n91\n00:04:42,660 --> 00:04:45,060\nThe other thing is,\nwhen you spin this load balancer up,\n\n92\n00:04:45,060 --> 00:04:46,680\nthose prices were pretty low.\n\n93\n00:04:46,680 --> 00:04:48,470\nIts actually building a server for you.\n\n94\n00:04:48,470 --> 00:04:51,510\nIts a software load balancer\nrunning on an instance thats\n\n95\n00:04:51,510 --> 00:04:53,350\ncompletely controlled by Amazon.\n\n96\n00:04:53,350 --> 00:04:53,940\nThey manage it.\n\n97\n00:04:53,940 --> 00:04:54,940\nThey do the updates.\n\n98\n00:04:54,940 --> 00:05:00,060\nThey do the backups, and they make it\nredundant across multiple regions.\n\n99\n00:05:00,060 --> 00:05:01,950\nThat's the really cool part!\n\n100\n00:05:01,950 --> 00:05:05,220\nThese load balancers are as\nhighly redundant as possible.\n\n101\n00:05:05,220 --> 00:05:08,570\nThat means that your servers, right?\n\n102\n00:05:08,570 --> 00:05:12,510\nYour nodes that are behind this load\nbalancer, they don't have to be that\n\n103\n00:05:12,510 --> 00:05:17,950\nredundant because as long as one\nnode is up somewhere in Amazon,\n\n104\n00:05:17,950 --> 00:05:21,090\nthe load balancer will be able to get\nto it and you'll have that access.\n\n105\n00:05:21,090 --> 00:05:22,920\nSo I'm gonna show you an example\nof that in this segment as\n\n106\n00:05:22,920 --> 00:05:25,790\nwe go through kinda setting up the load\nbalancer and getting that working.\n\n107\n00:05:25,790 --> 00:05:29,930\nBut it's really cool stuff and definitely\nsomething you want to take advantage of.\n\n108\n00:05:29,930 --> 00:05:32,040\nAll right.\nSo let me take a look at my\n\n109\n00:05:32,040 --> 00:05:32,700\nenvironment here.\n\n110\n00:05:32,700 --> 00:05:36,690\nI'm logged into my AWS console and\nI'm going to go into EC2.\n\n111\n00:05:36,690 --> 00:05:40,590\nAnd let's say that I am\nbuilding up a website, so\n\n112\n00:05:40,590 --> 00:05:46,980\nI want to build up www.itprotv.net, and\nI know that this website is going to be so\n\n113\n00:05:46,980 --> 00:05:50,820\npopular that one server's not\ngonna be able to handle the load.\n\n114\n00:05:50,820 --> 00:05:53,270\nSo I go and I build up multiple servers.\n\n115\n00:05:53,270 --> 00:05:54,030\nAnd I've already done that.\n\n116\n00:05:54,030 --> 00:05:57,290\nIf I go into my instances, you'll see\nI've got three servers here, web01,\n\n117\n00:05:57,290 --> 00:05:57,830\nweb02, web03.\n\n118\n00:05:57,830 --> 00:05:59,730\nThese are the three\nservers that I built up.\n\n119\n00:05:59,730 --> 00:06:01,000\nAll right.\n\n120\n00:06:01,000 --> 00:06:02,340\nAnd I haven't done much to them.\n\n121\n00:06:02,340 --> 00:06:03,688\nThey're Linux servers.\n\n122\n00:06:03,688 --> 00:06:07,280\nI threw Apache on there and\nI threw a simple web page on them, and\n\n123\n00:06:07,280 --> 00:06:08,330\nthat's about it.\n\n124\n00:06:08,330 --> 00:06:10,240\nI did give them a static IP.\n\n125\n00:06:10,240 --> 00:06:13,120\nWith a load balancer you\ndon't have to use static IPs.\n\n126\n00:06:13,120 --> 00:06:17,470\nSo right now,\nI do have these assigned with elastic IPs.\n\n127\n00:06:17,470 --> 00:06:20,810\nBut I can remove those later on\nafter the load balancer is in place.\n\n128\n00:06:20,810 --> 00:06:24,800\nWithout a load balancer,\nyou don't want your website changing IPs.\n\n129\n00:06:24,800 --> 00:06:28,360\nIf your web servers change IPs, how do\nyour customers know how to get to it?\n\n130\n00:06:28,360 --> 00:06:29,405\nThey don't, right?\n\n131\n00:06:29,405 --> 00:06:31,900\nAnd so\nthat's a real problem that you have.\n\n132\n00:06:31,900 --> 00:06:35,840\nYou could update your DNS records,\nBut DNS records could cache for\n\n133\n00:06:35,840 --> 00:06:40,110\nup to 48 hours, and that's way too\nlong for an outage for most sites.\n\n134\n00:06:40,110 --> 00:06:43,720\nSo, when you're doing standalone web\nservers like I'm doing right here,\n\n135\n00:06:43,720 --> 00:06:45,650\nyou need those elastic IPs.\n\n136\n00:06:45,650 --> 00:06:48,190\nOnce we get this load balancer in place,\nit's up to me.\n\n137\n00:06:48,190 --> 00:06:50,300\nI can leave them with\nstatic IPs if I want.\n\n138\n00:06:50,300 --> 00:06:53,160\nOr I can go and remove those,\nand they can go dynamic, and\n\n139\n00:06:53,160 --> 00:06:55,615\nthe load balance will be\nperfectly happy with that.\n\n140\n00:06:55,615 --> 00:06:56,500\nRight?\n\n141\n00:06:56,500 --> 00:06:58,615\nSo these servers right now,\nthey're up and running.\n\n142\n00:06:58,615 --> 00:07:01,529\nI went ahead and assigned a domain name\nto each one just so I could get to them.\n\n143\n00:07:01,529 --> 00:07:03,990\nRight.\nIf I go to Web01@ITPROTV.net,\n\n144\n00:07:03,990 --> 00:07:04,980\nI can get in.\n\n145\n00:07:06,030 --> 00:07:08,090\nAnd I just did a simple webpage that says,\n\n146\n00:07:08,090 --> 00:07:12,310\nthe server's alive, and\nI put the name of the server in the page.\n\n147\n00:07:12,310 --> 00:07:15,750\nAnd that's because I'm gonna need to know\nwhich server I'm connecting to later, and\n\n148\n00:07:15,750 --> 00:07:17,100\nthis is how I'm gonna do it.\n\n149\n00:07:17,100 --> 00:07:21,160\nAnd so if I go to web02.itprotv.net,\nI'll see the same thing,\n\n150\n00:07:21,160 --> 00:07:22,890\nbut different server name.\n\n151\n00:07:22,890 --> 00:07:27,330\nAnd then if I go to web03.itprotv.net,\n\n152\n00:07:27,330 --> 00:07:29,300\nI'll see the same thing, but\nagain different server name.\n\n153\n00:07:29,300 --> 00:07:29,810\nRight.\n\n154\n00:07:29,810 --> 00:07:31,350\nSo those are my three servers.\n\n155\n00:07:31,350 --> 00:07:34,260\nThey're up and\nthey've got copies of my webpage.\n\n156\n00:07:34,260 --> 00:07:37,380\nBut what I wanna do is I wanna\nmake it where when my customers go\n\n157\n00:07:37,380 --> 00:07:42,790\nto www.itprotv.net, they get the webpage\nfrom one of those three servers.\n\n158\n00:07:42,790 --> 00:07:44,270\nBut that's it's invisible to them.\n\n159\n00:07:44,270 --> 00:07:47,701\nI don't want the end user to know that\nthere's different servers on the backend.\n\n160\n00:07:47,701 --> 00:07:51,066\nThey don't need to know whether I\nhave one server or a hundred servers,\n\n161\n00:07:51,066 --> 00:07:53,367\ncuz that doesn't impact their experience,\nand\n\n162\n00:07:53,367 --> 00:07:56,194\nI want their address bar to\nalways say www.itprotv.net.\n\n163\n00:07:56,194 --> 00:07:59,387\nI don't want it to say,\nWeb01 or web02 or whatever.\n\n164\n00:07:59,387 --> 00:08:02,560\nYou see that on a lot of sites and\nthey don't have to.\n\n165\n00:08:02,560 --> 00:08:05,340\nI don't know why people\ndon't clean that up.\n\n166\n00:08:05,340 --> 00:08:08,660\nBut I want it to be a consistent\nexperience where the end users don't even\n\n167\n00:08:08,660 --> 00:08:10,060\nrealize they're being load balanced.\n\n168\n00:08:11,550 --> 00:08:16,020\nSo, if I go back to my console, I've\ngot these different instances in place.\n\n169\n00:08:16,020 --> 00:08:19,664\nAnd let's just start really simple with\nlike web01 and web02, these two guys.\n\n170\n00:08:19,664 --> 00:08:22,369\nSo I want to load balance\nacross these two guys.\n\n171\n00:08:22,369 --> 00:08:26,004\nAnd if you'll look over here,\nyou'll see they're both in US East 1A.\n\n172\n00:08:26,004 --> 00:08:30,653\nSo they're both in the same availability\nzone inside of the North American region,\n\n173\n00:08:30,653 --> 00:08:32,960\nthe North Virginia data center.\n\n174\n00:08:32,960 --> 00:08:37,320\nSo there they are they're up an running,\nbut I want to do load balancing.\n\n175\n00:08:37,320 --> 00:08:41,880\nSo on the left side I'm gonna scroll\ndown to the Load Balancer section.\n\n176\n00:08:41,880 --> 00:08:44,762\nAnd inside of here I'm gonna go ahead and\ncreate a load balancer.\n\n177\n00:08:44,762 --> 00:08:48,250\nIt's gonna launch a simple wizard and\nit's gonna ask us some basic questions.\n\n178\n00:08:48,250 --> 00:08:50,570\nIt's really not a difficult thing to do.\n\n179\n00:08:50,570 --> 00:08:52,956\nWhen we go to create the load\nbalancer we give it a name.\n\n180\n00:08:52,956 --> 00:08:58,053\nAnd so my servers are all called web01,\nweb02, and so on.\n\n181\n00:08:58,053 --> 00:09:00,618\nI'm gonna call this one web-lb.\n\n182\n00:09:00,618 --> 00:09:04,980\nSo this is gonna be my load balancer for\nthe web servers.\n\n183\n00:09:04,980 --> 00:09:07,780\nYou might have other load balancers for\nyour database servers or\n\n184\n00:09:07,780 --> 00:09:09,370\nother resources, right?\n\n185\n00:09:09,370 --> 00:09:13,150\nYou often times don't wanna share a load\nbalancer between different types of\n\n186\n00:09:13,150 --> 00:09:14,870\nsystems, so you'll create separate ones.\n\n187\n00:09:14,870 --> 00:09:18,060\nAnd that's because of this next part here,\nthe listener.\n\n188\n00:09:18,060 --> 00:09:22,020\nThe load balancer doesn't load\nbalance all traffic by default.\n\n189\n00:09:22,020 --> 00:09:25,410\nYou have to tell it which protocols\nyou want to load balance.\n\n190\n00:09:25,410 --> 00:09:28,710\nAnd so if I'm load balancing web traffic,\nI put it right here.\n\n191\n00:09:28,710 --> 00:09:31,750\nI say any traffic coming into\nthe load balancer on port 80\n\n192\n00:09:31,750 --> 00:09:35,580\nI wanna send to my workstation or\nmy servers on the back end on port 80.\n\n193\n00:09:35,580 --> 00:09:39,870\nI keep saying workstations because\nI spinned up micro instances and\n\n194\n00:09:39,870 --> 00:09:43,160\nI only use those for desktops,\nI don't really use those for servers.\n\n195\n00:09:43,160 --> 00:09:45,550\nBut normally we have servers for\nour web servers.\n\n196\n00:09:45,550 --> 00:09:50,200\nBut so, we specify that if I have some\nservers that are running MySQL and\n\n197\n00:09:50,200 --> 00:09:55,050\nI want to load balance on 3306 and other\nservers that are running Apache I want to\n\n198\n00:09:55,050 --> 00:09:58,540\nload balance on 80, it doesn't let\nme designate the end points here.\n\n199\n00:09:58,540 --> 00:10:01,970\nSo there's no where to separate that out\nto say these nodes have one service and\n\n200\n00:10:01,970 --> 00:10:05,240\nthis other node has a different service\nthat's why you might need more than one\n\n201\n00:10:05,240 --> 00:10:06,290\nload balancer.\n\n202\n00:10:06,290 --> 00:10:09,490\nOne load balancer just for your MySQL\nboxes, another load balancer just for\n\n203\n00:10:09,490 --> 00:10:10,520\nyour web servers and so on.\n\n204\n00:10:11,550 --> 00:10:13,330\nBecause of this common\nprotocol configuration.\n\n205\n00:10:14,990 --> 00:10:18,590\nSo I'm creating my load balancer,\nit's asking which VPC I want to be in.\n\n206\n00:10:18,590 --> 00:10:22,160\nSo if I've created virtual private clouds,\nI can pick which cloud it's attached to.\n\n207\n00:10:22,160 --> 00:10:25,020\nI've only got one, so\nI don't need to do anything crazy there.\n\n208\n00:10:25,020 --> 00:10:29,310\nThen, whether it's going to be\nan internal load balancer or not.\n\n209\n00:10:29,310 --> 00:10:33,810\nThe default is your load balancer is going\nto be a publicly available load balancer.\n\n210\n00:10:33,810 --> 00:10:38,330\nOne that anybody on the internet can\nsee to try and access those services.\n\n211\n00:10:38,330 --> 00:10:41,550\nBut you might be doing load balancing for\nsome kinda back end thing.\n\n212\n00:10:41,550 --> 00:10:45,160\nFor example, you might have multiple\nread-only database servers.\n\n213\n00:10:45,160 --> 00:10:49,210\nUsed for doing queries for\nyour inventory or product database.\n\n214\n00:10:49,210 --> 00:10:53,250\nAnd you want your web servers to be evenly\ndistributed across those database servers.\n\n215\n00:10:53,250 --> 00:10:55,950\nSo you may use an internal load balancer\n\n216\n00:10:55,950 --> 00:10:59,120\njust to handle traffic between the web\nservers and the database servers.\n\n217\n00:10:59,120 --> 00:11:02,240\nThat's not available to the internet,\nit's just internal.\n\n218\n00:11:02,240 --> 00:11:03,950\nSo you can choose that option.\n\n219\n00:11:03,950 --> 00:11:05,950\nThe only real difference is whether or\n\n220\n00:11:05,950 --> 00:11:09,820\nnot a public DNS name is created for\nthe load balancer.\n\n221\n00:11:09,820 --> 00:11:11,270\nOtherwise, they function identically.\n\n222\n00:11:11,270 --> 00:11:14,930\nSo you're really saying do I\ncreate a public DNS name, or not?\n\n223\n00:11:14,930 --> 00:11:17,590\nIf I check this it won't do it,\nit'll just be internal.\n\n224\n00:11:17,590 --> 00:11:20,200\nIf you leave it unchecked,\nit'll get a public DNS name.\n\n225\n00:11:20,200 --> 00:11:23,030\nNow, just because it has a public DNS\nname doesn't mean you have to use it.\n\n226\n00:11:23,030 --> 00:11:25,640\nYou can create a security\ngroup to restrict that access,\n\n227\n00:11:25,640 --> 00:11:26,270\nwe'll see that later.\n\n228\n00:11:27,760 --> 00:11:31,090\nThen we've got Enable Advanced VPC\nconfiguration.\n\n229\n00:11:31,090 --> 00:11:34,860\nIf I wanna load balance traffic\nbetween more than one of my VPC's,\n\n230\n00:11:34,860 --> 00:11:35,860\nthat's advanced.\n\n231\n00:11:35,860 --> 00:11:37,790\nAnd so, I need to go in here and do that.\n\n232\n00:11:37,790 --> 00:11:42,490\nI've only got one VPC, so I don't need it,\nbut you might have a DMZ and\n\n233\n00:11:42,490 --> 00:11:43,536\na private VPC.\n\n234\n00:11:43,536 --> 00:11:46,340\nSeparate ones, one that faces\nthe internet, one that doesn't.\n\n235\n00:11:46,340 --> 00:11:48,460\nAnd if you want your load\nbalancer in between them,\n\n236\n00:11:48,460 --> 00:11:49,849\nyou'll need to do\nan advanced configuration.\n\n237\n00:11:51,390 --> 00:11:52,630\nThen we've got our listeners.\n\n238\n00:11:52,630 --> 00:11:54,880\nWhat services are we gonna load balance?\n\n239\n00:11:54,880 --> 00:11:57,950\nNow it assumes you're doing a web server,\nso port 80 is right there.\n\n240\n00:11:57,950 --> 00:12:00,470\nBut we can add in anything\nelse that we've got, right?\n\n241\n00:12:00,470 --> 00:12:03,580\nSo I might be running FTP\non these servers also, so\n\n242\n00:12:03,580 --> 00:12:05,630\nthat people can download\nfiles from my site.\n\n243\n00:12:05,630 --> 00:12:08,410\nSo I can go into Add, and\nI can pick a protocol.\n\n244\n00:12:08,410 --> 00:12:14,184\nNow, FTP is not in the list, and\nso I can specify TCP port 20.\n\n245\n00:12:15,560 --> 00:12:19,070\nFTP uses 2120, actually FTP is\na really bad example isn't it.\n\n246\n00:12:19,070 --> 00:12:23,330\nFTP does this weird port renegotiation\nthing with passive transfers so\n\n247\n00:12:23,330 --> 00:12:24,410\nit can jump different ports.\n\n248\n00:12:24,410 --> 00:12:28,190\nLet me pick something that\ndoesn't bog down like that.\n\n249\n00:12:28,190 --> 00:12:29,640\nLet's say that I want a load balance.\n\n250\n00:12:29,640 --> 00:12:33,910\nActually, let me use SSL as\nan example because this one's tricky.\n\n251\n00:12:33,910 --> 00:12:35,670\nI might want to load balance SSL traffic,\nalso.\n\n252\n00:12:35,670 --> 00:12:38,510\nIf I have a secure web page,\nthat's not coming in on port 80.\n\n253\n00:12:38,510 --> 00:12:43,120\nSo I might do HTTPS, but\nnotice what it just did.\n\n254\n00:12:43,120 --> 00:12:48,830\nSee how the port is 443 on the left, but\non the right side, it's HTTP port 80.\n\n255\n00:12:48,830 --> 00:12:50,720\nWhat's that all about?\n\n256\n00:12:50,720 --> 00:12:55,710\nWell, when you do a secure connection\nto a web server that SSL certificate\n\n257\n00:12:55,710 --> 00:13:00,150\nis used to build a session, an encrypted\nsession between you and the web server.\n\n258\n00:13:00,150 --> 00:13:03,380\nThat's between you and one web server.\n\n259\n00:13:03,380 --> 00:13:06,380\nIf you're load balancing,\nevery time you go from page to page,\n\n260\n00:13:06,380 --> 00:13:08,890\nyou could end up on\na different web server.\n\n261\n00:13:08,890 --> 00:13:12,910\nAnd if you do that with SSL, that new\nweb server doesn't know your session,\n\n262\n00:13:12,910 --> 00:13:15,250\ndoesn't have your keys,\nthe temporary, private, and\n\n263\n00:13:15,250 --> 00:13:16,970\npublic keys that have generated for\nthat session.\n\n264\n00:13:16,970 --> 00:13:18,960\nIt doesn't have them and it fails.\n\n265\n00:13:18,960 --> 00:13:20,740\nSo, when you do SSL,\n\n266\n00:13:20,740 --> 00:13:25,980\nwhat you actually do is you terminate\nthe SSL connection on the load balancer.\n\n267\n00:13:25,980 --> 00:13:27,708\nSo, it's encrypted to the load balancer.\n\n268\n00:13:27,708 --> 00:13:30,522\nAnd then,\nthe load balancer unencrypts it and\n\n269\n00:13:30,522 --> 00:13:34,430\nsends it as regular HTTP to\nthe web servers behind it.\n\n270\n00:13:34,430 --> 00:13:37,830\nNow, that means a certain leg\nof the traffic is unencrypted.\n\n271\n00:13:37,830 --> 00:13:40,440\nBut that leg is inside of your VPC so\n\n272\n00:13:40,440 --> 00:13:43,740\nit's not on the internet,\nit's just on the virtual private cloud.\n\n273\n00:13:43,740 --> 00:13:45,640\nFor some people that's not acceptable and\n\n274\n00:13:45,640 --> 00:13:49,130\nin that case the Amazon load\nbalancers won't work for you.\n\n275\n00:13:49,130 --> 00:13:51,470\nIn that case, you'll need to\ncreate your own load balancers.\n\n276\n00:13:51,470 --> 00:13:55,560\nBring up an instance of Linux or\nwhatever and build your own load balancer.\n\n277\n00:13:55,560 --> 00:14:00,470\nYou can use IP sec between the load\nbalancer and the web servers, and\n\n278\n00:14:00,470 --> 00:14:02,160\nthat will encrypt that last leg.\n\n279\n00:14:02,160 --> 00:14:05,220\nBut you can't use SSL with load balancing\n\n280\n00:14:05,220 --> 00:14:06,670\nunless you terminate it\non the load balancer.\n\n281\n00:14:06,670 --> 00:14:10,970\nAnd that's not just an Amazon thing, that\ngoes for the big FI boxes and stuff like.\n\n282\n00:14:10,970 --> 00:14:14,360\nThat they're all the same way, you need\nto terminate SSL on the load balancer.\n\n283\n00:14:15,600 --> 00:14:19,350\nAnd, in fact, if I choose this option,\nthe very next screen.\n\n284\n00:14:19,350 --> 00:14:21,270\nSee how I've got my steps here?\n\n285\n00:14:21,270 --> 00:14:22,880\nStep one, two, three, four, five.\n\n286\n00:14:22,880 --> 00:14:27,700\nIf I hit Continue, that's gonna change and\nit's gonna add one more page in for\n\n287\n00:14:27,700 --> 00:14:28,900\nme to put the certificate.\n\n288\n00:14:28,900 --> 00:14:31,020\nSo right here,\nit's asking me to put the certificate.\n\n289\n00:14:31,020 --> 00:14:35,530\nI have to attach the certificate to\nthe load balancer, not to my web servers.\n\n290\n00:14:35,530 --> 00:14:37,290\nThe web servers aren't gonna do SSL.\n\n291\n00:14:37,290 --> 00:14:42,010\nSo, on a positive side I'm\ntaking the SSL CPU load\n\n292\n00:14:42,010 --> 00:14:45,150\noff of my servers and giving it to Amazon.\n\n293\n00:14:45,150 --> 00:14:46,390\nAmazon doesn't bill you for\n\n294\n00:14:46,390 --> 00:14:49,780\nCPU on the load balance,\nthey just bill you for traffic.\n\n295\n00:14:49,780 --> 00:14:53,530\nSo, now you've got this practically\nlimitless CPU on the load balance, so\n\n296\n00:14:53,530 --> 00:14:56,520\nit's gonna take care of all your\nSSL encryption and decryption.\n\n297\n00:14:56,520 --> 00:14:58,810\nSo you're gonna get better\nperformance out of your web servers.\n\n298\n00:14:58,810 --> 00:14:59,370\nThe other thing is,\n\n299\n00:14:59,370 --> 00:15:03,540\nas you spawn new web servers, you don't\nhave to copy a certificate to them.\n\n300\n00:15:03,540 --> 00:15:04,690\nIf you ever update your certificate,\n\n301\n00:15:04,690 --> 00:15:08,030\nyou just update it on the load balancer,\nnot on the web servers, right?\n\n302\n00:15:08,030 --> 00:15:10,560\nBut just remember that negative, the\nnegative is that traffic between the load\n\n303\n00:15:10,560 --> 00:15:12,510\nbalancer and\nthe web server is not encrypted.\n\n304\n00:15:14,440 --> 00:15:17,719\nNow I don't have a certificate handy,\nso what I'm gonna do is just go back and\n\n305\n00:15:17,719 --> 00:15:18,836\nI'm gonna remove HTTPS.\n\n306\n00:15:18,836 --> 00:15:22,075\nI just wanted to show you guys that\nbecause that is a pretty common scenario.\n\n307\n00:15:22,075 --> 00:15:25,023\nSo I'm just gonna be\nload balancing port 80.\n\n308\n00:15:25,023 --> 00:15:27,563\nAny traffic that's going to my web server,\n\n309\n00:15:27,563 --> 00:15:31,620\nif any other traffic hits the load\nbalancer, it'll just discard it.\n\n310\n00:15:31,620 --> 00:15:32,848\nIt'll say that it doesn't need it.\n\n311\n00:15:32,848 --> 00:15:37,400\nNow, the load balancer\nis actually a server so\n\n312\n00:15:37,400 --> 00:15:40,910\nyou could SSH into it, but\nAmazon doesn't let us do that.\n\n313\n00:15:40,910 --> 00:15:44,390\nSo we'll normally attach a security\ngroup to the load balancer so\n\n314\n00:15:44,390 --> 00:15:48,680\nthat people can't access it on any\nother port just to be on the safe side.\n\n315\n00:15:48,680 --> 00:15:51,220\nBut for the most part the load balancer\nis just going to throw that traffic\n\n316\n00:15:51,220 --> 00:15:52,330\naway anyway.\n\n317\n00:15:52,330 --> 00:15:54,103\nAnd it's just gonna load balance port 80.\n\n318\n00:15:54,103 --> 00:15:56,205\nSo I'll go ahead and hit Continue.\n\n319\n00:15:56,205 --> 00:16:00,106\nNotice my steps just changed again to\nget rid of the certificate information.\n\n320\n00:16:00,106 --> 00:16:01,802\nNow it's asking about a health check.\n\n321\n00:16:01,802 --> 00:16:06,371\nWhen I bring servers up behind a Load\nBalancer, what happens if one fails?\n\n322\n00:16:06,371 --> 00:16:07,945\nIf one of my servers fails and\n\n323\n00:16:07,945 --> 00:16:12,800\ngoes offline, the Load Balancer might\nstill be sending traffic to it.\n\n324\n00:16:12,800 --> 00:16:16,319\nSo the Load Balancer can do a health check\nand the health check is really awesome,\n\n325\n00:16:16,319 --> 00:16:19,581\nbecause it can look at the servers and\ndetermine whether they are online and\n\n326\n00:16:19,581 --> 00:16:21,262\nfunctional and if one of them isn't.\n\n327\n00:16:21,262 --> 00:16:23,960\nThe Load Balancer will just\nstop sending traffic to it.\n\n328\n00:16:23,960 --> 00:16:26,600\nSo if I have three servers and\none of them fails,\n\n329\n00:16:26,600 --> 00:16:30,495\nthen the Load Balancer will stop sending\ntraffic to the one and all of my\n\n330\n00:16:30,495 --> 00:16:34,474\ntraffic will then be redistributed\nacross the two remaining servers.\n\n331\n00:16:34,474 --> 00:16:35,531\nReally cool.\n\n332\n00:16:35,531 --> 00:16:37,920\nFailures can happen,\nyour end users won't even notice.\n\n333\n00:16:39,130 --> 00:16:43,129\nAlso if you want to do upgrades and\nmaintenance, you can take one node out of\n\n334\n00:16:43,129 --> 00:16:46,575\nthe pool and do all its updates and\nstuff and nobody will notice.\n\n335\n00:16:46,575 --> 00:16:49,330\nAnd then when you're done, you put\nit back in the pool and off you go.\n\n336\n00:16:49,330 --> 00:16:52,225\nThere's a really neat way to do that,\nwe'll see a little bit later.\n\n337\n00:16:52,225 --> 00:16:55,901\nNow the health check works really simple,\nwe need to tell it about the service.\n\n338\n00:16:55,901 --> 00:17:00,198\nIt assumes port 80 for HTTP and that's the\neasiest, cuz you can just tell it, hey,\n\n339\n00:17:00,198 --> 00:17:02,200\ntry and load this webpage.\n\n340\n00:17:02,200 --> 00:17:06,290\nIf you can load a web page\nfrom the server, it'll work.\n\n341\n00:17:06,290 --> 00:17:08,391\nIt's up it's valid,\nit's serving up web pages.\n\n342\n00:17:08,391 --> 00:17:13,197\nSo you punch in a file name, so\nin here they're doing /index.html,\n\n343\n00:17:13,197 --> 00:17:14,970\nwhich most of us have.\n\n344\n00:17:14,970 --> 00:17:17,750\nBut you might have index.php or\nsomething different, so\n\n345\n00:17:17,750 --> 00:17:19,514\nyou can change to specify that here.\n\n346\n00:17:19,514 --> 00:17:24,185\nAnd as long as it can get a copy of that\npage, it assumes that the note is up.\n\n347\n00:17:24,185 --> 00:17:27,760\nBut HTTP is not the only one,\nyou can do HTTPS or\n\n348\n00:17:27,760 --> 00:17:30,900\nstraight SSL, you can do TCP anything.\n\n349\n00:17:30,900 --> 00:17:32,873\nI can do TCP 22.\n\n350\n00:17:32,873 --> 00:17:34,498\nWell, that's SSH.\n\n351\n00:17:34,498 --> 00:17:37,930\nSo it's gonna reach out on port 22 and\nsay, can I get a connection?\n\n352\n00:17:37,930 --> 00:17:42,150\nAnd if it gets a response,\nthen that port is open and active.\n\n353\n00:17:42,150 --> 00:17:44,397\nIt doesn't actually know\nif it's truly working,\n\n354\n00:17:44,397 --> 00:17:46,184\nit just sees if that port is responding.\n\n355\n00:17:46,184 --> 00:17:48,663\nFor MySQL, you might do 30306.\n\n356\n00:17:48,663 --> 00:17:50,680\nIt can check to see if that's responding.\n\n357\n00:17:50,680 --> 00:17:53,767\nIt's not the most accurate at this point,\nbecause in theory,\n\n358\n00:17:53,767 --> 00:17:57,218\nyou're database could be offline,\nbut MySQL could still be online.\n\n359\n00:17:57,218 --> 00:17:58,835\nSo it might still be\nanswering on that port,\n\n360\n00:17:58,835 --> 00:18:00,960\neven though the databases\nare inaccessible.\n\n361\n00:18:00,960 --> 00:18:02,273\nIt won't know that.\n\n362\n00:18:02,273 --> 00:18:03,857\nSo instead, that's where CloudWatch and\n\n363\n00:18:03,857 --> 00:18:06,150\nsome of the other services come\nin where you can monitor that.\n\n364\n00:18:07,530 --> 00:18:11,007\nBut for me, I'm doing HTTP and\nI do have an index.html.\n\n365\n00:18:11,007 --> 00:18:15,190\nSo I'm gonna leave that to the default,\nthen we need to set our thresholds.\n\n366\n00:18:15,190 --> 00:18:19,306\nThese thresholds determine how\nquickly we detect a failure and\n\n367\n00:18:19,306 --> 00:18:22,264\nhow quickly we react and\nthen correct for it.\n\n368\n00:18:22,264 --> 00:18:25,710\nThe detection is made up of these\nfirst two, response timeout.\n\n369\n00:18:26,760 --> 00:18:30,018\nHow long do we wait to get a copy\nof that web page from the server?\n\n370\n00:18:30,018 --> 00:18:31,670\nThe default is five seconds.\n\n371\n00:18:31,670 --> 00:18:33,230\nIf I request index.html and\n\n372\n00:18:33,230 --> 00:18:37,390\nI don't get it within 5 seconds,\nIm gonna decide that that's a failure and\n\n373\n00:18:37,390 --> 00:18:41,360\nthen my health check interval is I'm\ngonna check it every 30 seconds.\n\n374\n00:18:41,360 --> 00:18:44,530\nSo every 30 seconds,\nI'm gonna request that page.\n\n375\n00:18:44,530 --> 00:18:48,708\nIf I don't get the page in five seconds,\nI'll view it as a fail.\n\n376\n00:18:48,708 --> 00:18:52,530\nWell, when there's a failure, how long do\nwe wait before we take it out of the pool?\n\n377\n00:18:52,530 --> 00:18:54,679\nThat's this next one,\nthe Unhealthy Threshold.\n\n378\n00:18:54,679 --> 00:18:56,120\nThe default is 2.\n\n379\n00:18:56,120 --> 00:19:00,146\nIf I fail two checks, if two times I\nrequest that page and I don't get it,\n\n380\n00:19:00,146 --> 00:19:02,533\nthen I'll take the server out of the pool.\n\n381\n00:19:02,533 --> 00:19:03,780\nI'll flag it as out of service.\n\n382\n00:19:04,970 --> 00:19:08,155\nIf it starts to become healthy again,\nI'll bring it back online.\n\n383\n00:19:08,155 --> 00:19:09,800\nThat's that last entry here\nis the Healthy Threshold.\n\n384\n00:19:09,800 --> 00:19:11,933\nThe Healthy Threshold is much larger,\nit's 10.\n\n385\n00:19:11,933 --> 00:19:14,384\nIt says, if the server comes back online,\n\n386\n00:19:14,384 --> 00:19:18,620\nwait until it passes ten checks before\nwe actually put it back in service.\n\n387\n00:19:19,900 --> 00:19:22,864\nNow those numbers right there are good for\na lot of people, but\n\n388\n00:19:22,864 --> 00:19:24,410\nlet's qualify this into time.\n\n389\n00:19:25,420 --> 00:19:27,915\nIf I'm checking every 30 seconds and\n\n390\n00:19:27,915 --> 00:19:32,225\nI require 2 failures before I decide\nthat the system is unhealthy,\n\n391\n00:19:32,225 --> 00:19:36,704\nthat means it's gonna take a minimum\nof 1 minute to detect a failure.\n\n392\n00:19:36,704 --> 00:19:40,938\nA server could fail and it would take\na minute before I recognized it.\n\n393\n00:19:40,938 --> 00:19:43,630\nWell, you'd recognize it right away, but\nit'd take a minute before I acted on it.\n\n394\n00:19:45,000 --> 00:19:47,290\nThat minute might be too long.\n\n395\n00:19:47,290 --> 00:19:50,225\nIf that's too long for you,\nyou can reduce these numbers.\n\n396\n00:19:50,225 --> 00:19:53,970\nYou can reduce it to say,\ncheck every ten seconds.\n\n397\n00:19:53,970 --> 00:19:57,130\nNow it's gonna reduce that window\nto something very, very small.\n\n398\n00:19:57,130 --> 00:19:59,356\nIt's up to you to customize\nthat to meet your needs.\n\n399\n00:19:59,356 --> 00:20:02,610\nThese are default values that\nAmazon set that are pretty level.\n\n400\n00:20:04,540 --> 00:20:08,840\nThe other thing is once the node becomes\nhealthy, it's set to ten checks.\n\n401\n00:20:08,840 --> 00:20:13,000\nWell, at 30 seconds each,\nthat's 300 seconds that's 5 minutes.\n\n402\n00:20:13,000 --> 00:20:16,981\nSo when a system becomes healthy, it won't\ngo back in the pool for five minutes and\n\n403\n00:20:16,981 --> 00:20:20,693\nthe reason it does that is want to make\nsure the server's actually healthy.\n\n404\n00:20:20,693 --> 00:20:23,107\nThat it comes up, that it's running,\nthat things are working fine and\n\n405\n00:20:23,107 --> 00:20:25,220\neverything's the way\nthat we expect it to be.\n\n406\n00:20:25,220 --> 00:20:29,300\nBut a server might come up and\nthen go right back down again and so\n\n407\n00:20:29,300 --> 00:20:31,180\nthat's why it's set to five minutes.\n\n408\n00:20:31,180 --> 00:20:32,240\nYou might want to shorten that or\n\n409\n00:20:32,240 --> 00:20:35,070\nyou might even want to lengthen\nthat based on your configuration.\n\n410\n00:20:37,850 --> 00:20:39,274\nNext, are the Security Groups.\n\n411\n00:20:39,274 --> 00:20:42,920\nThe Security Groups, I mentioned\nearlier that's the software firewall.\n\n412\n00:20:42,920 --> 00:20:45,420\nThe firewall that we have that\napplies to the Load Balancer.\n\n413\n00:20:45,420 --> 00:20:49,643\nNow all of my web servers are in this\nsecurity group right here, web hosts.\n\n414\n00:20:49,643 --> 00:20:52,275\nAnd the web hosts Security Group says,\n\n415\n00:20:52,275 --> 00:20:56,282\nanyone on the internet can come\ninto web hosts on port 80.\n\n416\n00:20:56,282 --> 00:20:59,300\nWell, that's what I want\non my Load Balancer also.\n\n417\n00:20:59,300 --> 00:21:02,530\nSo you're usually just gonna\nuse the same security group.\n\n418\n00:21:02,530 --> 00:21:04,707\nSo I'll chose that security\ngroup to use right there,\n\n419\n00:21:04,707 --> 00:21:07,350\ncuz I know it's already\nset the way that I want.\n\n420\n00:21:07,350 --> 00:21:11,988\nBut I'm gonna show you later in this\nsegment that there is another reason why\n\n421\n00:21:11,988 --> 00:21:16,641\nwe might choose to do a dedicated security\ngroup just for the Load Balancer.\n\n422\n00:21:16,641 --> 00:21:20,031\nThere's one scenario that I'll\nwanna show you guys later.\n\n423\n00:21:20,031 --> 00:21:24,017\nSo once weve got that in place,\nnow weve got the Security Group,\n\n424\n00:21:24,017 --> 00:21:28,920\nits going to ask what servers are going\nto be in the load balancing cluster?\n\n425\n00:21:28,920 --> 00:21:32,029\nSo you just go through and pick, Im just\ngonna do servers 1 and 2 for right now.\n\n426\n00:21:32,029 --> 00:21:36,140\nSo Im gonna choose those two nodes,\ngot them checked off.\n\n427\n00:21:36,140 --> 00:21:38,790\nIf I scroll down, Ive got some other\noptions, some really neat stuff,\n\n428\n00:21:38,790 --> 00:21:42,860\nlike this one right here,\nEnable Cross Zone Load Balancing.\n\n429\n00:21:42,860 --> 00:21:44,040\nWhat does that mean?\n\n430\n00:21:44,040 --> 00:21:47,409\nWell, if all of your servers\nare in one zone like mine,\n\n431\n00:21:47,409 --> 00:21:51,971\nboth of these servers are in 1a,\nwhat happens if that zone goes offline.\n\n432\n00:21:51,971 --> 00:21:54,680\nWhat if 1a,\nthat first data center in north Virginia.\n\n433\n00:21:54,680 --> 00:21:56,454\nIf it goes offline, It happens.\n\n434\n00:21:56,454 --> 00:21:58,633\nIt happened last year for a little while,\n\n435\n00:21:58,633 --> 00:22:03,150\nbecause of some weird BGP routing stuff\ninside of Amazon, so it can happen.\n\n436\n00:22:03,150 --> 00:22:05,480\nSo it's a good idea to have\nservers in multiple zones,\n\n437\n00:22:05,480 --> 00:22:07,112\nyou see I've got another one up here.\n\n438\n00:22:07,112 --> 00:22:10,370\nWeb03, it's in 1C.\n\n439\n00:22:10,370 --> 00:22:12,423\nThat's a completely independent and\n\n440\n00:22:12,423 --> 00:22:16,279\nseparate data center that just\nhappens to be in North Virginia, also.\n\n441\n00:22:16,279 --> 00:22:19,400\nSo, it's in a completely\nindependent system.\n\n442\n00:22:19,400 --> 00:22:22,052\nIf 1Aagoes offline, 1c will still be up.\n\n443\n00:22:22,052 --> 00:22:24,182\nAnd if your Load Balancer spans zones,\n\n444\n00:22:24,182 --> 00:22:26,770\nthen you'll be able to\ntake advantage of that.\n\n445\n00:22:28,200 --> 00:22:32,014\nThe only problem with doing Cross Zone\nLoad Balancing is that the Load Balancer\n\n446\n00:22:32,014 --> 00:22:34,325\nitself has to be replicated\nbetween the zones,\n\n447\n00:22:34,325 --> 00:22:36,604\nthat's Amazon providing that replication.\n\n448\n00:22:36,604 --> 00:22:41,100\nAnd they do it it's all handled for\nyou, but that's part of the base price.\n\n449\n00:22:41,100 --> 00:22:45,289\nIf you turn that off, you won't be able\nto have servers in more than one zone and\n\n450\n00:22:45,289 --> 00:22:49,055\nAmazon won't make the Load Balancer\nredundant outside of that zone.\n\n451\n00:22:49,055 --> 00:22:51,803\nThat actually reduces the cost\nof the Load Balancer,\n\n452\n00:22:51,803 --> 00:22:55,695\nI forget what the discount is but\nit does save you a little bit on that.\n\n453\n00:22:55,695 --> 00:22:59,248\nBut for most of us, the whole point\nof doing this is redundancy and\n\n454\n00:22:59,248 --> 00:23:01,456\nso Cross Zone Load Balancing is a given.\n\n455\n00:23:01,456 --> 00:23:04,106\nI don't think I've ever setup\na Load Balancer that didn't use\n\n456\n00:23:04,106 --> 00:23:07,215\nCross Zone Load Balancing,\nthat's why I don't know the discount rate.\n\n457\n00:23:07,215 --> 00:23:09,855\nJust cause I've never\ngotten that discount.\n\n458\n00:23:09,855 --> 00:23:12,330\nThen the last thing is\nEnable Connection Draining.\n\n459\n00:23:12,330 --> 00:23:13,463\nWhat the heck is that?\n\n460\n00:23:13,463 --> 00:23:18,310\nWell, when a server fails,\nwe'll detect it and take it offline.\n\n461\n00:23:18,310 --> 00:23:20,099\nBut any user that was on that server,\n\n462\n00:23:20,099 --> 00:23:23,756\ntheir connection just got interrupted\nwhen they moved to another server.\n\n463\n00:23:23,756 --> 00:23:27,060\nNow they might not notice that, but if\nyour system isn't using cookies right or\n\n464\n00:23:27,060 --> 00:23:30,366\nsomething, their session might have\ngotten reset, they have to re-login and\n\n465\n00:23:30,366 --> 00:23:32,020\nit's kind of annoying to the end user.\n\n466\n00:23:32,020 --> 00:23:33,220\nThey don't see a down time, but\n\n467\n00:23:33,220 --> 00:23:36,890\nthey just see themselves all of a sudden\nmysteriously having to log in again.\n\n468\n00:23:36,890 --> 00:23:40,110\nWell, in a failure,\nit's kind of hard to avoid that.\n\n469\n00:23:40,110 --> 00:23:44,096\nBut if it's something that we\nare planning, if I know I wanna take node\n\n470\n00:23:44,096 --> 00:23:48,373\none out to do some updates and reboot it,\nI can do what's called draining.\n\n471\n00:23:48,373 --> 00:23:51,411\nDraining is where you tell\nthe Load Balancer, hey,\n\n472\n00:23:51,411 --> 00:23:54,046\ndon't just take this server right offline.\n\n473\n00:23:54,046 --> 00:23:57,417\nWait, five minutes is the default.\n\n474\n00:23:57,417 --> 00:24:00,215\nDon't send any new traffic to it,\nany new sessions.\n\n475\n00:24:00,215 --> 00:24:03,802\nBut any old sessions you can continue\nto send to that node for five minutes.\n\n476\n00:24:03,802 --> 00:24:08,250\nAnd that's enough time for most users\nto finish their browsing experience.\n\n477\n00:24:08,250 --> 00:24:10,160\nIf customers on your site browse for\nlonger,\n\n478\n00:24:10,160 --> 00:24:11,700\nyou might wanna bump that up higher.\n\n479\n00:24:11,700 --> 00:24:13,040\nBut it just gives it\na little bit of time for\n\n480\n00:24:13,040 --> 00:24:15,220\npeople to kinda wrap\nup what they're doing.\n\n481\n00:24:15,220 --> 00:24:17,840\nAnd then no new traffic is going to it.\n\n482\n00:24:17,840 --> 00:24:20,240\nEverybody is being sent\nto the other servers so\n\n483\n00:24:20,240 --> 00:24:21,780\nhopefully within five\nminutes everybody's off.\n\n484\n00:24:21,780 --> 00:24:24,340\nBut it minimizes the impact\non your end users.\n\n485\n00:24:24,340 --> 00:24:27,500\nAnd once it's drained, you can take\nthe server offline you can reboot it,\n\n486\n00:24:27,500 --> 00:24:29,000\nyou can do whatever you want to it.\n\n487\n00:24:29,000 --> 00:24:31,810\nNobody's actually using it and\nthen you can bring it back online again.\n\n488\n00:24:33,282 --> 00:24:36,700\nAll right, connection draining is turned\non by default, so when you remove a node\n\n489\n00:24:36,700 --> 00:24:40,360\nform a pool, it will take five\nminutes to do it, by default.\n\n490\n00:24:40,360 --> 00:24:43,430\nYou can bump that up or\nshrink it down, based on your needs.\n\n491\n00:24:45,170 --> 00:24:46,660\nAll right, then we just have our tags.\n\n492\n00:24:46,660 --> 00:24:48,940\nSo we flag whatever custom\ntags we want to use.\n\n493\n00:24:48,940 --> 00:24:51,780\nI dont usually use tags on\na load balancer, but you can.\n\n494\n00:24:51,780 --> 00:24:53,080\nAnd then, we get our review.\n\n495\n00:24:54,090 --> 00:24:56,600\nWhen were done,\nweve got a load balancer.\n\n496\n00:24:56,600 --> 00:24:58,810\nSo the load balancer is in place.\n\n497\n00:24:58,810 --> 00:25:00,980\nIts now balancing traffic to those nodes.\n\n498\n00:25:00,980 --> 00:25:03,630\nBut, its not exactly\nconvenient to get at.\n\n499\n00:25:03,630 --> 00:25:04,160\nAll right.\n\n500\n00:25:04,160 --> 00:25:05,460\nLet me show you what I mean.\n\n501\n00:25:05,460 --> 00:25:09,100\nWhen we look at the load balancer, here's\nthe load balancer that I just created,\n\n502\n00:25:09,100 --> 00:25:12,260\nand notice that it's got a DNS name.\n\n503\n00:25:12,260 --> 00:25:15,035\nAnd that DNS name is not\nexactly something convenient.\n\n504\n00:25:15,035 --> 00:25:19,816\nWeb-lb, that's what I called it,\n-522862339,\n\n505\n00:25:19,816 --> 00:25:23,008\nthat's the ID for this load balancer.\n\n506\n00:25:23,008 --> 00:25:26,895\nAnd then .US east one,\nsaying that it's in North Virginia,\n\n507\n00:25:26,895 --> 00:25:31,760\n.ELB, the elastic load balancing,\n.Amazon .com.\n\n508\n00:25:31,760 --> 00:25:37,040\nIt is a DNS name that's managed by Amazon.\n\n509\n00:25:37,040 --> 00:25:39,650\nAnd when anybody browses to that DNS name,\n\n510\n00:25:39,650 --> 00:25:42,780\nthey're now gonna get balanced\nbetween my different servers.\n\n511\n00:25:42,780 --> 00:25:46,730\nWell my end users aren't going to\nwant to browse to that name, right?\n\n512\n00:25:46,730 --> 00:25:50,500\nSo we've got a little bit more work to do\nto make this available for our end users.\n\n513\n00:25:50,500 --> 00:25:52,750\nBut I'm gonna use that\nright there to test it out.\n\n514\n00:25:52,750 --> 00:25:55,610\nBefore I do that though, it's a good\nidea to see if its gone healthy.\n\n515\n00:25:55,610 --> 00:25:57,590\nRemember it's gotta do\nthose health checks.\n\n516\n00:25:57,590 --> 00:25:58,930\nIt's got two instances, but\n\n517\n00:25:58,930 --> 00:26:03,440\nthis screen doesn't really tell\nme if I'm in good shape or not.\n\n518\n00:26:03,440 --> 00:26:06,540\nSo what we can do is we can go\ndown here to instances, and\n\n519\n00:26:06,540 --> 00:26:09,530\nthat's where we'll see our instances and\nwhether we're up and happy.\n\n520\n00:26:09,530 --> 00:26:12,630\nNotice mine are both out\nof service right now, okay.\n\n521\n00:26:12,630 --> 00:26:16,290\nWell, I know they're up, I browsed them\nat the beginning of this segment, right?\n\n522\n00:26:16,290 --> 00:26:19,800\nWe browsed that webpage, and we saw it,\nand it was there and it was great, right?\n\n523\n00:26:19,800 --> 00:26:21,360\nWhy are they out of service now?\n\n524\n00:26:21,360 --> 00:26:24,630\nWell, they're new nodes and\nremember what I set for\n\n525\n00:26:24,630 --> 00:26:28,550\nthat timer I said when a system goes\nhealthy, they've gotta pass ten checks.\n\n526\n00:26:28,550 --> 00:26:30,290\nSo that's what they're doing right now.\n\n527\n00:26:30,290 --> 00:26:33,310\nThey're going through their ten\nchecks before they come online.\n\n528\n00:26:33,310 --> 00:26:36,880\nSo that's an area where you might want\nto shrink that check number down.\n\n529\n00:26:36,880 --> 00:26:40,930\nBut I'll have to wait five minutes before\nthese guys will actually come online and\n\n530\n00:26:40,930 --> 00:26:42,680\nthey will see it.\n\n531\n00:26:42,680 --> 00:26:46,840\nNow, I don't wanna bore us to\ndeath by waiting five minutes,\n\n532\n00:26:46,840 --> 00:26:48,700\nso why don't we stop and take a break.\n\n533\n00:26:48,700 --> 00:26:52,680\nAnd when we get back,\nthe load balancer will be online, I hope,\n\n534\n00:26:52,680 --> 00:26:54,310\nunless we had an actual failure.\n\n535\n00:26:54,310 --> 00:26:56,530\nSo that should be online,\nwe'll be able to see that in action,\n\n536\n00:26:56,530 --> 00:26:59,510\nand then I'll show you some of the other\nneat things to do with a load balancer.\n\n537\n00:26:59,510 --> 00:27:00,440\nSo stay tuned.\n\n538\n00:27:00,440 --> 00:27:08,953\nWe'll be right back.\n[MUSIC]\n\n539\n00:27:08,953 --> 00:27:12,083\nAll right, so during the break,\nmy instances, you know,\n\n540\n00:27:12,083 --> 00:27:15,540\nthey passed their health check and\nnow they've gone in service.\n\n541\n00:27:15,540 --> 00:27:18,840\nSo let me just show you guys what\nthat looks like here on my system, so\n\n542\n00:27:18,840 --> 00:27:21,860\nI'm looking at my web\ndash lb load balancer.\n\n543\n00:27:21,860 --> 00:27:25,330\nAnd if I look at my instances down here,\nI can see web01 and web02.\n\n544\n00:27:25,330 --> 00:27:28,620\nThey're both up and they are in service.\n\n545\n00:27:28,620 --> 00:27:29,280\nOkay.\nSo they're up and\n\n546\n00:27:29,280 --> 00:27:30,870\nrunning, and they're healthy.\n\n547\n00:27:30,870 --> 00:27:33,840\nRemember I mentioned, like draining\na system to take it off line.\n\n548\n00:27:33,840 --> 00:27:36,120\nYou'll see remove from load\nbalancers right there.\n\n549\n00:27:36,120 --> 00:27:38,160\nThat's how I can get\nthem out of the pool so\n\n550\n00:27:38,160 --> 00:27:40,200\nI can start to do maintenance on them,\nright?\n\n551\n00:27:40,200 --> 00:27:43,500\nBut it looks like they're up,\nthey're happy, and it's load balancing.\n\n552\n00:27:43,500 --> 00:27:44,910\nHow do we know it's working?\n\n553\n00:27:44,910 --> 00:27:48,970\nWell, we can take that DNS name for\nthe load balancer,\n\n554\n00:27:48,970 --> 00:27:50,790\nand I'm just gonna copy that.\n\n555\n00:27:50,790 --> 00:27:53,840\nOops, I'm not gonna copy it that way,\nI'm gonna copy it that way.\n\n556\n00:27:53,840 --> 00:27:56,460\nAnd I'll go and\npost that into my web browser.\n\n557\n00:27:56,460 --> 00:28:01,000\nNow, I went to web01, web02,\nI went to these servers earlier.\n\n558\n00:28:01,000 --> 00:28:02,090\nI know that when I go to them,\n\n559\n00:28:02,090 --> 00:28:06,270\nit's gonna tell me which server I'm on\ncuz that's what I put in the webpage.\n\n560\n00:28:06,270 --> 00:28:07,620\nSo, when I browse to this,\n\n561\n00:28:08,920 --> 00:28:12,500\nin theory I really don't know which\nof those servers am I gonna hit.\n\n562\n00:28:12,500 --> 00:28:15,640\nAm I gonna hit web01 or\nweb02, I don't know.\n\n563\n00:28:15,640 --> 00:28:16,780\nSo, let's find out.\n\n564\n00:28:16,780 --> 00:28:19,670\nSo, when I browse to that I\nget the server's alive and\n\n565\n00:28:19,670 --> 00:28:22,190\nI see that I can connect into web02,\nall right.\n\n566\n00:28:22,190 --> 00:28:27,270\nSo, as the end user, I don't know that\nweb02 has a static IP that's different\n\n567\n00:28:27,270 --> 00:28:30,310\nthan web01, I don't know that there's\nmultiple servers, the only reason I even\n\n568\n00:28:30,310 --> 00:28:33,070\nknow it is because I put it in the webpage\nso that I could tell here in the show.\n\n569\n00:28:33,070 --> 00:28:35,460\nAnd, if I sit here and hit refresh.\n\n570\n00:28:35,460 --> 00:28:39,690\nWell, I'm on web02 now but\nif I keep hitting refresh every now and\n\n571\n00:28:39,690 --> 00:28:40,810\nthen I'll hit web01.\n\n572\n00:28:40,810 --> 00:28:42,410\nSo now I just hit web01 and\n\n573\n00:28:42,410 --> 00:28:46,810\nI keep refreshing and you'll see where I\nbounce back and forth between the servers.\n\n574\n00:28:46,810 --> 00:28:51,250\nNow for us as network or\nsystem admins, that's pretty easy, for\n\n575\n00:28:51,250 --> 00:28:53,333\ndevelopers this creates\na little bit of headache.\n\n576\n00:28:53,333 --> 00:28:57,320\nWhen the new users go and connect,\nwhich server are they gonna connect to?\n\n577\n00:28:57,320 --> 00:28:58,670\nYou don't know.\n\n578\n00:28:58,670 --> 00:28:59,290\nEach server,\n\n579\n00:28:59,290 --> 00:29:02,020\nwhen you create web applications,\nthey have to be ready for that.\n\n580\n00:29:02,020 --> 00:29:05,870\nThey have to be ready to know that a user\nmight not have started on this server,they\n\n581\n00:29:05,870 --> 00:29:07,895\nmight be midstream when they\nget to this other server.\n\n582\n00:29:07,895 --> 00:29:10,290\nSo,they use cookies to store that data.\n\n583\n00:29:10,290 --> 00:29:13,110\nThat's why we have cookies,\nto store data on a client machine.\n\n584\n00:29:13,110 --> 00:29:15,940\nInstead of the servers because we don't\nknow which server they're going to hit.\n\n585\n00:29:15,940 --> 00:29:18,460\nDevelopers know how to handle that and\nthey'll take care of that piece.\n\n586\n00:29:18,460 --> 00:29:21,140\nBut on the admin side,\nit's super simple, right.\n\n587\n00:29:21,140 --> 00:29:24,270\nIt's up, we're now load balancing\nbetween those two servers.\n\n588\n00:29:24,270 --> 00:29:28,870\nIf I take one of them offline,\nthe other one picks up the slack, right.\n\n589\n00:29:28,870 --> 00:29:31,050\nSo, if I go back to my console.\n\n590\n00:29:31,050 --> 00:29:33,130\nAnd I won't actually take it offline.\n\n591\n00:29:33,130 --> 00:29:34,070\nI'll take it offline.\n\n592\n00:29:34,070 --> 00:29:34,960\nI'll make a failure.\n\n593\n00:29:34,960 --> 00:29:35,530\nRight?\n\n594\n00:29:35,530 --> 00:29:39,690\nSo if I go into my instances,\nand I'll take web01,\n\n595\n00:29:39,690 --> 00:29:43,910\nor let's do web02, cuz I seem to\nbe hitting web02 more than web01.\n\n596\n00:29:43,910 --> 00:29:46,420\nIt should be 50/50 right now, so\nI think it's just coincidence.\n\n597\n00:29:46,420 --> 00:29:47,590\nBut I'll take web02 and shut it down.\n\n598\n00:29:47,590 --> 00:29:50,180\nSo I'm gonna go ahead and stop it.\n\n599\n00:29:50,180 --> 00:29:52,660\nNow when I stop it,\nit's gonna take it offline, and\n\n600\n00:29:52,660 --> 00:29:55,200\nI didn't tell the load\nbalancer I was gonna do that.\n\n601\n00:29:55,200 --> 00:29:57,560\nSo the load balancer's not doing a drain,\nbecause it didn't know.\n\n602\n00:29:57,560 --> 00:30:00,110\nAll of a sudden I'm just\nstopping that instance.\n\n603\n00:30:00,110 --> 00:30:04,590\nSo the web, the load balancer is\ngonna see that the web page on web02\n\n604\n00:30:04,590 --> 00:30:09,090\nis no longer accessible, and it's gonna\ndetect that failure and move us off of it.\n\n605\n00:30:09,090 --> 00:30:13,680\nThe problem is, it's gotta fail\ntwo checks 30 seconds apart.\n\n606\n00:30:13,680 --> 00:30:17,360\nAnd so it may take it a moment to\nsee that failure, so now, as a user,\n\n607\n00:30:17,360 --> 00:30:21,090\nwhen I start refreshing this page,\nsometimes I might get web 01,\n\n608\n00:30:21,090 --> 00:30:25,170\nand other times,\nI might get a fail, right?\n\n609\n00:30:25,170 --> 00:30:27,030\nA unable to connect message.\n\n610\n00:30:27,030 --> 00:30:30,700\nNow, the load balancer will normally\npick that up and redirect, so\n\n611\n00:30:30,700 --> 00:30:32,790\nI may not even be able\nto recreate it here, so\n\n612\n00:30:32,790 --> 00:30:37,780\neven though it takes a couple of second or\nminute in this case to detect the failure.\n\n613\n00:30:37,780 --> 00:30:39,850\nSometimes it'll pick it up early and\nredirect us and\n\n614\n00:30:39,850 --> 00:30:42,670\nthat's exactly what I'm seeing here\nis that I'm already redirected.\n\n615\n00:30:42,670 --> 00:30:45,610\nI've hit refresh several times and\nI've never gotten web02.\n\n616\n00:30:45,610 --> 00:30:49,080\nSo I've got a failure and\nmy end users don't even know it.\n\n617\n00:30:49,080 --> 00:30:50,080\nThey don't see it, right.\n\n618\n00:30:50,080 --> 00:30:52,570\nBut all the loads have been moved\nup to the one server now so\n\n619\n00:30:52,570 --> 00:30:55,570\nmaybe my performance goes down but\nmy service is still up.\n\n620\n00:30:56,880 --> 00:31:00,760\nSo it's really neat that it detects that,\nand it shows down here in my instances,\n\n621\n00:31:00,760 --> 00:31:03,690\nif I go back to my load balancer and\ngo to my instances,\n\n622\n00:31:03,690 --> 00:31:09,340\nI'll see that I've got web01 is in\nservice, and web02 is out of service.\n\n623\n00:31:09,340 --> 00:31:11,940\nSo it's out, there's something wrong\nwith it, I need to go and fix it.\n\n624\n00:31:11,940 --> 00:31:14,500\nAnd in my case, it's just shut off.\n\n625\n00:31:14,500 --> 00:31:18,500\nSo I can take web02 and\nbring it back online.\n\n626\n00:31:18,500 --> 00:31:23,050\nSo I'll just start that one and then it'll\nhave to pass it's ten health checks, so\n\n627\n00:31:23,050 --> 00:31:26,540\nit'll take five minutes\nto be able to pass and\n\n628\n00:31:26,540 --> 00:31:29,530\nthen it'll be back in the pool and\nservicing requests again.\n\n629\n00:31:29,530 --> 00:31:32,512\nSo when it first comes up I won't have\naccess to it until it's had some time\n\n630\n00:31:32,512 --> 00:31:33,050\nto recover.\n\n631\n00:31:33,050 --> 00:31:33,572\nAll right?\n\n632\n00:31:33,572 --> 00:31:36,735\nBut I know if it's down,\nif I go to web02 like, directly,\n\n633\n00:31:36,735 --> 00:31:39,680\ngoing to web02.itprotv.net, and refresh.\n\n634\n00:31:39,680 --> 00:31:41,490\nYou'll see it's taking a long time.\n\n635\n00:31:41,490 --> 00:31:44,730\nIt's sitting here, trying to talk to that\nserver, but Apache hasn't started yet.\n\n636\n00:31:44,730 --> 00:31:45,830\nSo it's gonna fail.\n\n637\n00:31:45,830 --> 00:31:52,290\nSo I know web02 is down, versus web01 that\nreturns the page right quickly, all right?\n\n638\n00:31:52,290 --> 00:31:54,379\nSo the load balancer's up,\nit's working, and it's great.\n\n639\n00:31:54,379 --> 00:31:58,052\nThe only problem is,\nto get to the load balancer,\n\n640\n00:31:58,052 --> 00:32:01,468\nI had to punch in this crazy name here,\nright?\n\n641\n00:32:01,468 --> 00:32:03,511\nMy customers aren't gonna\nwanna type that in.\n\n642\n00:32:03,511 --> 00:32:07,493\nWell, the load balancer,\nit has an IP address, right.\n\n643\n00:32:07,493 --> 00:32:14,930\nIf we take this, and let me just\ndo an nslookup against that name.\n\n644\n00:32:16,580 --> 00:32:20,540\nAll right, whoops,\nprobably without the whole URL part of it.\n\n645\n00:32:20,540 --> 00:32:23,370\nSo if I do a lookup on that,\nI'll see that that load balancer does\n\n646\n00:32:23,370 --> 00:32:27,840\nhave an IP address, but\nit is not a static IP address.\n\n647\n00:32:27,840 --> 00:32:31,000\nAnd in fact notice here how it's got\nmore than one IP address attached to it.\n\n648\n00:32:32,090 --> 00:32:34,790\nThis load balancer is redundant.\n\n649\n00:32:34,790 --> 00:32:37,540\nAnd the way Amazon achieves that is by\ngiving it more than one address and\n\n650\n00:32:37,540 --> 00:32:40,830\nby putting it in more than one zone and\ndoing all sorts of stuff on their end.\n\n651\n00:32:40,830 --> 00:32:45,760\nSo if you create and A record in DNS\nthat points to this particular IP,\n\n652\n00:32:45,760 --> 00:32:48,800\nthat IP might change, so\nAmazon doesn't want you to do that.\n\n653\n00:32:48,800 --> 00:32:52,530\nThey don't show you the IP address of\nyour load balancer because it changes and\n\n654\n00:32:52,530 --> 00:32:54,400\nit's on the back end, they manage it.\n\n655\n00:32:54,400 --> 00:32:57,020\nSo the way you make a site redundant and\n\n656\n00:32:57,020 --> 00:33:01,470\nnot have a crazy domain name is to use\nwhat's called a CNAME or a canonical name.\n\n657\n00:33:01,470 --> 00:33:04,950\nSome people call them aliases, but that's\na little easy to mix up with A records.\n\n658\n00:33:04,950 --> 00:33:07,800\nSo their CNAME records in DNS.\n\n659\n00:33:07,800 --> 00:33:11,610\nI can go into my DNS configuration,\nwhich I've got right here.\n\n660\n00:33:11,610 --> 00:33:14,943\nSo, here's my DNS zone for ITProTV.net.\n\n661\n00:33:14,943 --> 00:33:17,290\nAnd you'll see there's web01,\nweb02, web03.\n\n662\n00:33:17,290 --> 00:33:19,820\nThere's those guys and their IP addresses.\n\n663\n00:33:19,820 --> 00:33:21,450\nThey have, I gave them elastic IPs.\n\n664\n00:33:21,450 --> 00:33:22,940\nThey're static, I know what they are.\n\n665\n00:33:22,940 --> 00:33:24,850\nThey're right there, all right?\n\n666\n00:33:24,850 --> 00:33:27,340\nI'm going to add in a new record for www.\n\n667\n00:33:27,340 --> 00:33:29,644\nRight, what my customers\nare going to type.\n\n668\n00:33:29,644 --> 00:33:35,939\nAnd so I can go up here and I can add\nin something new and I can add in www.\n\n669\n00:33:35,939 --> 00:33:39,864\nAnd instead of an A record,\nwhich would point to an IP address,\n\n670\n00:33:39,864 --> 00:33:43,075\nI'm going to change that to a Cname.\n\n671\n00:33:43,075 --> 00:33:45,705\nCnames don't point to an IP address.\n\n672\n00:33:45,705 --> 00:33:48,150\nCnames point to a domain name.\n\n673\n00:33:48,150 --> 00:33:52,190\nAnd so I can punch in this other domain\nname, this other host, and whenever\n\n674\n00:33:52,190 --> 00:33:58,690\nsomebody goes to www.itprotv.net, it will\nin turn, do a look up for this other name.\n\n675\n00:33:58,690 --> 00:34:02,750\nAnd it will figure out whatever\nIP address it has at that time,\n\n676\n00:34:02,750 --> 00:34:06,115\nknowing that that IP address is\npotentially going to change.\n\n677\n00:34:06,115 --> 00:34:09,970\nCname records don't get cached\nthe same way that A name records do.\n\n678\n00:34:09,970 --> 00:34:15,390\nAnd Amazon even tunes theirs lower so\nthere's negligible caching done on these.\n\n679\n00:34:15,390 --> 00:34:20,720\nThat means increased DNS traffic, but it's\nincreased DNS traffic on Amazon's servers.\n\n680\n00:34:20,720 --> 00:34:22,380\nThey handle that, so\nwe don't have to worry about it.\n\n681\n00:34:22,380 --> 00:34:24,460\nIt doesn't create a burden on our servers.\n\n682\n00:34:24,460 --> 00:34:26,160\nSo I'll go ahead and save that.\n\n683\n00:34:26,160 --> 00:34:29,930\nAnd now you'll see down here where I've\ngot this, well, I say we'll see it.\n\n684\n00:34:29,930 --> 00:34:31,540\nWhy am I not seeing it?\n\n685\n00:34:31,540 --> 00:34:32,048\nI might be overlooking it.\n\n686\n00:34:34,323 --> 00:34:36,029\nYou know what,\nlet me refresh my page here.\n\n687\n00:34:36,029 --> 00:34:37,700\nI should see my CNAME.\n\n688\n00:34:37,700 --> 00:34:38,440\nI hit Save.\n\n689\n00:34:38,440 --> 00:34:40,350\nIt just kind of disappeared on me.\n\n690\n00:34:40,350 --> 00:34:43,065\nOh.\n[LAUGH] I'm only displaying 10\n\n691\n00:34:43,065 --> 00:34:43,825\nvalues on the page.\n\n692\n00:34:43,825 --> 00:34:46,025\nLet me bump that up and there it is.\n\n693\n00:34:46,025 --> 00:34:49,924\nAll right, so, there's my C name record,\nyou'll see www, there's a C name record,\n\n694\n00:34:49,924 --> 00:34:52,175\npointing to that crazy domain.\n\n695\n00:34:52,175 --> 00:34:57,545\nAll right, now, as a customer instead of\ngoing to the load balancer like this,\n\n696\n00:34:57,545 --> 00:35:01,951\nI can fire up my web browser and\nI can go to www.itprotv.net, and\n\n697\n00:35:01,951 --> 00:35:04,697\nwhen I browse to that, I got web.01.\n\n698\n00:35:04,697 --> 00:35:07,466\nWhen I refresh, web.01.\n\n699\n00:35:07,466 --> 00:35:10,450\nOh, web.02 might not be healthy yet.\n\n700\n00:35:10,450 --> 00:35:11,530\nBut know I'm hitting it, and\n\n701\n00:35:11,530 --> 00:35:17,120\nsee how my URL stayed as www.itprotv.net,\nthat's the coolest part about a C name.\n\n702\n00:35:17,120 --> 00:35:19,470\nIt's using the IP address\nas the other server.\n\n703\n00:35:19,470 --> 00:35:21,570\nBut the name doesn't change the URL bar.\n\n704\n00:35:21,570 --> 00:35:25,000\nSo the end user has no idea\nthere is a load balancer, has\n\n705\n00:35:25,000 --> 00:35:29,080\nno idea about the servers on the back end,\nhas no idea about Amazon web services.\n\n706\n00:35:29,080 --> 00:35:31,750\nThey don't even know that I'm\non the Amazon cloud here.\n\n707\n00:35:31,750 --> 00:35:35,960\nBecause it's all masked behind the scene,\nall right?\n\n708\n00:35:35,960 --> 00:35:37,950\nThat's how we leverage a load balancer.\n\n709\n00:35:37,950 --> 00:35:39,150\nAnd you can load balance anything.\n\n710\n00:35:39,150 --> 00:35:40,880\nI'm doing web traffic here but\n\n711\n00:35:40,880 --> 00:35:44,520\nyou could web balance other services too,\nif you had that in your environment.\n\n712\n00:35:44,520 --> 00:35:46,550\nIt's really cool stuff, all right?\n\n713\n00:35:46,550 --> 00:35:48,230\nWas that terribly difficult to set up?\n\n714\n00:35:48,230 --> 00:35:48,980\nIt really wasn't.\n\n715\n00:35:48,980 --> 00:35:52,153\nRight, I made it take longer just because\nI'm gabbing a lot in this one but\n\n716\n00:35:52,153 --> 00:35:54,400\nyou guys see it's not\na hard thing to set up.\n\n717\n00:35:54,400 --> 00:35:57,954\nAmazon manages most of it and\nthe cost is nearly negligible right?\n\n718\n00:35:57,954 --> 00:36:02,822\nIt was 219 bucks a year to run the load\nbalancer plus your extra 0.8 cents,\n\n719\n00:36:02,822 --> 00:36:05,146\nright, so it's not even one penny but\n\n720\n00:36:05,146 --> 00:36:09,780\nan extra 0.8 cents per gigabyte\nof traffic that your moving.\n\n721\n00:36:09,780 --> 00:36:14,100\nIt's worth it to have a redundant site,\nto know that the system could fail and\n\n722\n00:36:14,100 --> 00:36:18,020\nyou'll still be online or to be able to\nscale out to be able to add more servers\n\n723\n00:36:18,020 --> 00:36:22,260\nto increase your load to cover\nincreased load that's worth it, right?\n\n724\n00:36:22,260 --> 00:36:24,388\nWhen you're talking about a few\nhundred bucks it's a no brainer.\n\n725\n00:36:24,388 --> 00:36:29,580\nAll right so, that in effect,\nis configuring load balancing, right?\n\n726\n00:36:29,580 --> 00:36:33,560\nSo in this segment we got a chance to\nsee how to create the load balancer,\n\n727\n00:36:33,560 --> 00:36:36,080\nhow to add instances to it, how to\n\n728\n00:36:36,080 --> 00:36:39,650\ntune it in that configuration wizard to\nmodify things, like our health checks.\n\n729\n00:36:39,650 --> 00:36:42,560\nWe saw how to view the health\nof our instances, and\n\n730\n00:36:42,560 --> 00:36:44,670\nwhat happens when one goes out,\nand back in.\n\n731\n00:36:44,670 --> 00:36:47,660\nSo we got a pretty good walk\nthru of the load balancers.\n\n732\n00:36:47,660 --> 00:36:48,720\nBut there's a lot more.\n\n733\n00:36:48,720 --> 00:36:51,520\nThere's some advanced stuff that you\ncan do with the load balancing and\n\n734\n00:36:51,520 --> 00:36:54,180\nwe're gonna take a look at\nthat in some other segments.\n\n735\n00:36:54,180 --> 00:36:57,360\nSo I hope you guys enjoyed this segment,\nbut make sure you stay tuned.\n\n736\n00:36:57,360 --> 00:36:59,820\nWe've got other load\nbalancing episodes coming up.\n\n",
          "vimeoId": "109460775"
        },
        {
          "description": "",
          "length": "882",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/015-Security-Groups-With-ELB.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/015-Security-Groups-With-ELB-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/015-Security-Groups-With-ELB-sm.jpg",
          "title": "Security Groups With ELB",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:07.614\n[MUSIC]\n\n2\n00:00:07.614 --> 00:00:11.172\nIn this segment, we're gonna take a look\nat security group configurations when\n\n3\n00:00:11.172 --> 00:00:13.220\nusing the Elastic Load Balancer.\n\n4\n00:00:13.220 --> 00:00:17.670\nNow, you might ask yourself, if I have\na security group that I'm using for\n\n5\n00:00:17.670 --> 00:00:22.810\nmy clustered nodes, can't I just use that\nsame security group for the load balancer?\n\n6\n00:00:22.810 --> 00:00:23.400\nAnd you can, sure.\n\n7\n00:00:23.400 --> 00:00:25.400\nRight, there's plenty\nof people that do that.\n\n8\n00:00:25.400 --> 00:00:29.165\nIf you've got various rules put in that\nsecurity group that allow access to your\n\n9\n00:00:29.165 --> 00:00:30.160\nnodes, right.\n\n10\n00:00:30.160 --> 00:00:33.380\nThat's typically gonna match\nwhat the load balancer does.\n\n11\n00:00:33.380 --> 00:00:36.375\nBut, if you really want to improve\nsecurity in your environment,\n\n12\n00:00:36.375 --> 00:00:39.520\nthere's some reasons why we\nmight want to change that.\n\n13\n00:00:39.520 --> 00:00:43.140\nTypically, when I can figure it, a load\nbalancer, I'll create a separate security\n\n14\n00:00:43.140 --> 00:00:45.680\ngroup for the load balancer from\nthe nodes that are behind it.\n\n15\n00:00:45.680 --> 00:00:47.920\nAnd there's a few reasons for that, right.\n\n16\n00:00:47.920 --> 00:00:49.050\nLet me show you what I've got right now.\n\n17\n00:00:49.050 --> 00:00:53.498\nSo I've got a load balancer, here's web\nLB and it's got two nodes behind it,\n\n18\n00:00:53.498 --> 00:00:56.220\nweb01 and web02, so\nthere is two web servers.\n\n19\n00:00:56.220 --> 00:00:58.880\nAnd when a user browses\nto the load balancer,\n\n20\n00:00:58.880 --> 00:01:01.340\nthey're being load balanced\nacross those two nodes.\n\n21\n00:01:01.340 --> 00:01:03.670\nAll right, so\nthat's how our a balancing is working, so\n\n22\n00:01:03.670 --> 00:01:06.830\nthat's the entry point\nis that load balancer.\n\n23\n00:01:06.830 --> 00:01:09.570\nBut those two nodes they have static IPs.\n\n24\n00:01:09.570 --> 00:01:13.000\nEven if they didn't have static IPs,\nthey would at least have IP addresses.\n\n25\n00:01:13.000 --> 00:01:17.240\nAnd since I'm using the same security\ngroup for the load balancer as I am for\n\n26\n00:01:17.240 --> 00:01:19.560\nthose nodes, that means the end users.\n\n27\n00:01:19.560 --> 00:01:20.820\nPeople out there on the Internet,\n\n28\n00:01:20.820 --> 00:01:25.450\nhave the same access to the load\nbalancers they would an individual node.\n\n29\n00:01:25.450 --> 00:01:30.360\nSo, if they knew an address behind my load\nbalancer, they could contact it directly.\n\n30\n00:01:30.360 --> 00:01:34.130\nI know that doesn't sound like a big deal\nbecause if I go to the load balancer,\n\n31\n00:01:34.130 --> 00:01:35.800\nright, I can sit here and hit refresh.\n\n32\n00:01:35.800 --> 00:01:41.000\nAnd I got web02 that time, and if I hit\nrefresh I got web01 that time, right?\n\n33\n00:01:41.000 --> 00:01:45.000\nBut I could also just type\nin web01.itprotv.net,\n\n34\n00:01:45.000 --> 00:01:47.950\nand I would always hit that one node.\n\n35\n00:01:47.950 --> 00:01:50.880\nAnd web02,\nI'm always hitting that one node.\n\n36\n00:01:50.880 --> 00:01:52.080\nAnd why does that matter?\n\n37\n00:01:52.080 --> 00:01:56.540\nWell, If I'm an attacker,\nif I'm trying to hack into that network.\n\n38\n00:01:56.540 --> 00:02:01.650\nIt's much easier if I can get\na consistent connection to one server\n\n39\n00:02:01.650 --> 00:02:04.050\nto pull off prediction attacks and\nthings like that.\n\n40\n00:02:04.050 --> 00:02:06.360\nThen if I'm being bounced\nbetween multiple servers,\n\n41\n00:02:06.360 --> 00:02:09.760\nwhere I effectively have to start over\nevery time I get moved to a new server.\n\n42\n00:02:09.760 --> 00:02:14.240\nSo, an attacker is going to\nattempt to target a single server.\n\n43\n00:02:14.240 --> 00:02:16.500\nSo, to improve security\non our environment.\n\n44\n00:02:16.500 --> 00:02:20.230\nWhat we should do is restrict access so\nthat end users can\n\n45\n00:02:20.230 --> 00:02:24.410\nget to the load balancer, but they can't\nget to the nodes individually, right?\n\n46\n00:02:24.410 --> 00:02:27.330\nWe're gonna force all of our traffic\nto go through the load balancer.\n\n47\n00:02:27.330 --> 00:02:30.430\nThe problem is you can't do\nthat with one security group.\n\n48\n00:02:30.430 --> 00:02:32.025\nIf I go back to my security group, right?\n\n49\n00:02:32.025 --> 00:02:33.850\nTo my web load balancer,\n\n50\n00:02:33.850 --> 00:02:37.775\nif I look it's in a security group\nthat is called, what is it called?\n\n51\n00:02:37.775 --> 00:02:39.100\nWeb-hosts, right?\n\n52\n00:02:39.100 --> 00:02:41.240\nSo I can see the security group,\nit's in right there.\n\n53\n00:02:41.240 --> 00:02:47.210\nAnd my hosts, if I go up to my instances,\nthey're in that same security group.\n\n54\n00:02:47.210 --> 00:02:50.050\nIf I scroll over here I'll see web-hosts,\nright?\n\n55\n00:02:50.050 --> 00:02:51.940\nThat's that security\ngroup that they're in.\n\n56\n00:02:51.940 --> 00:02:55.600\nAnd if I take a look at the security\ngroup, I'll see what I'm approving.\n\n57\n00:02:55.600 --> 00:03:00.210\nI'm approving inbound traffic for\nSSH and HTTP.\n\n58\n00:03:01.620 --> 00:03:05.710\nHTTP from the entire world,\nand SSH just from my IP.\n\n59\n00:03:05.710 --> 00:03:09.900\nThat means that I am approving that to\nthe load balancer, as well as the nodes.\n\n60\n00:03:09.900 --> 00:03:13.330\nAnd it says HTTP part here,\nthat's the one that's from everywhere.\n\n61\n00:03:13.330 --> 00:03:15.290\nAnd that's allowing that\nconnectivity to the load balancers,\n\n62\n00:03:15.290 --> 00:03:17.652\nas well of the nodes, and\nthat's what I want to tweak.\n\n63\n00:03:17.652 --> 00:03:20.400\nI wanna limit that, so\nit's only access to the load balancer.\n\n64\n00:03:20.400 --> 00:03:22.990\nBut when you create rules in here,\nif I edit it.\n\n65\n00:03:22.990 --> 00:03:26.990\nNotice how you can specify a source but\nnot a destination.\n\n66\n00:03:26.990 --> 00:03:29.430\nI can't say, if you're destined for\nthe load balancer, yes.\n\n67\n00:03:29.430 --> 00:03:31.980\nIf you're destined for\nthe node, no, can't do that.\n\n68\n00:03:31.980 --> 00:03:36.270\nSo, the only way to do that is to\ncreate a separate security group.\n\n69\n00:03:36.270 --> 00:03:38.050\nThen we can start to customize things.\n\n70\n00:03:38.050 --> 00:03:40.820\nBut there's a few little caveats we\nbump into when we start to do this kinda\n\n71\n00:03:40.820 --> 00:03:42.430\nconfiguration, all right.\n\n72\n00:03:42.430 --> 00:03:47.090\nLet's start by saying, what I wanna\nconfigure on this security group, right.\n\n73\n00:03:47.090 --> 00:03:48.990\nOr let's go the other way around.\n\n74\n00:03:48.990 --> 00:03:52.590\nI'll go and create the security group for\nthe load balancer first, and\n\n75\n00:03:52.590 --> 00:03:53.410\nthen we'll get that set up.\n\n76\n00:03:53.410 --> 00:03:56.200\nSo I'm gonna cancel this and\nI'm gonna create a new security group.\n\n77\n00:03:57.570 --> 00:04:00.770\nSo I'll create the security group, and\nI'm just gonna call this one web-lb.\n\n78\n00:04:00.770 --> 00:04:02.610\nSo I've got web-hosts, those would be for\n\n79\n00:04:02.610 --> 00:04:04.450\nthe the hosts that are behind\nthe load balancer.\n\n80\n00:04:04.450 --> 00:04:07.390\nAnd web-lb,\nthat'll be to the load balancer itself.\n\n81\n00:04:07.390 --> 00:04:10.990\nAnd so I'll call that,\nthat's my security group for\n\n82\n00:04:10.990 --> 00:04:15.610\nthe ELB on our web farm, all right.\n\n83\n00:04:15.610 --> 00:04:17.035\nIf it's in more than one VPC,\n\n84\n00:04:17.035 --> 00:04:19.860\nyou'll have to specify the VPC\nwhere a load balancer resides.\n\n85\n00:04:19.860 --> 00:04:23.320\nI've only got one, so\nI'll just choose that and then the rules.\n\n86\n00:04:23.320 --> 00:04:28.820\nI want everyone on the Internet to\nbe able to access this thing using\n\n87\n00:04:28.820 --> 00:04:30.990\nHTTP, so I punch that in.\n\n88\n00:04:30.990 --> 00:04:31.740\nNow on my host,\n\n89\n00:04:31.740 --> 00:04:35.620\nI also had SSH because I'll SSH\ninto those service to manage them.\n\n90\n00:04:35.620 --> 00:04:39.618\nBut on the load balancer, I don't have SSH\naccess to it, so I can leave that off.\n\n91\n00:04:39.618 --> 00:04:43.340\nThat's actually gonna improve security\ntoo, cuz as long as the SSH rule is there,\n\n92\n00:04:43.340 --> 00:04:47.510\nI'm opening up access to a server that\ndoesn't actually provide me any benefits.\n\n93\n00:04:47.510 --> 00:04:50.785\nIt only increases the attack\nsurface of the load balancer.\n\n94\n00:04:50.785 --> 00:04:54.425\nEven though it's limited to\nmy IP which is pretty secure,\n\n95\n00:04:54.425 --> 00:04:57.675\nsomebody could spoof that IP and\ntry and hit the load balancer itself.\n\n96\n00:04:57.675 --> 00:04:59.675\nAll right, so\nthis is gonna help there too.\n\n97\n00:04:59.675 --> 00:05:03.795\nWe're just listing typically what\nour load balancer is listening on,\n\n98\n00:05:03.795 --> 00:05:05.375\nour listeners that we defined.\n\n99\n00:05:05.375 --> 00:05:07.880\nThose are usually the only\nthings that we define here.\n\n100\n00:05:07.880 --> 00:05:09.750\nAll right, so I'm gonna set that up.\n\n101\n00:05:09.750 --> 00:05:14.740\nThat's my load balancing security group,\nall right.\n\n102\n00:05:14.740 --> 00:05:18.930\nThen I need to move my load balancer\ninto that security group, right,\n\n103\n00:05:18.930 --> 00:05:20.970\ncuz it's in the wrong\nsecurity group right now.\n\n104\n00:05:20.970 --> 00:05:22.700\nSo I'll go over here to my load balancer.\n\n105\n00:05:24.190 --> 00:05:25.890\nAnd I'll find it, it's right here.\n\n106\n00:05:25.890 --> 00:05:29.610\nAnd down under security,\nwe can change the security groups.\n\n107\n00:05:29.610 --> 00:05:30.940\nI'll just hit edit and\n\n108\n00:05:30.940 --> 00:05:33.540\nI'm gonna move it to that new\nsecurity group that I just created.\n\n109\n00:05:33.540 --> 00:05:37.520\nSo I'll choose web-lb and\nI'll say that, all right.\n\n110\n00:05:37.520 --> 00:05:40.480\nIt's now moved off to\nthe other security group.\n\n111\n00:05:40.480 --> 00:05:43.900\nNow, I can go and\ncustomize the other security group.\n\n112\n00:05:43.900 --> 00:05:47.180\nBefore I do that, I might want to\ntest it just to see that things work.\n\n113\n00:05:47.180 --> 00:05:50.190\nThey should be good and\nwe see that everything's fine.\n\n114\n00:05:50.190 --> 00:05:52.080\nBut it's possible that we break something,\n\n115\n00:05:52.080 --> 00:05:54.488\nwhen we move the load balancer\noff to its own security group.\n\n116\n00:05:54.488 --> 00:05:58.840\nSo I'm gonna jump over to my web browser.\n\n117\n00:05:58.840 --> 00:06:02.670\nAnd I'm gonna try and\nbrowse to www.itprotv.net, right?\n\n118\n00:06:02.670 --> 00:06:04.940\nThat's gonna be that load balancer.\n\n119\n00:06:04.940 --> 00:06:08.480\nAnd when I hit refresh,\nI see that I'm still getting the pages\n\n120\n00:06:08.480 --> 00:06:10.610\nin the new security group and\neverything's running fine.\n\n121\n00:06:12.170 --> 00:06:15.770\nBut now, I need to go and\nsecure the back end, right?\n\n122\n00:06:15.770 --> 00:06:17.340\nBecause I can still go\nto these other nodes.\n\n123\n00:06:17.340 --> 00:06:19.920\nI go to web01 and refresh it.\n\n124\n00:06:19.920 --> 00:06:22.520\nAnd I'm still getting web01, and\nI go to web02 and refresh it.\n\n125\n00:06:22.520 --> 00:06:24.310\nAnd I'm still getting that one, too.\n\n126\n00:06:24.310 --> 00:06:25.970\nSo, now I need to go and secure them.\n\n127\n00:06:25.970 --> 00:06:29.060\nAnd I can do that now because\nthey're in their own security group.\n\n128\n00:06:30.160 --> 00:06:34.550\nSo I'll jump back over here, and\nI'll go to my security groups, and\n\n129\n00:06:34.550 --> 00:06:38.000\nI'll take the web-host's security.\n\n130\n00:06:38.000 --> 00:06:39.390\nI'm gonna take that one.\n\n131\n00:06:39.390 --> 00:06:42.580\nAnd this is the one that's giving that\nHTTP access to the world to my back end.\n\n132\n00:06:42.580 --> 00:06:44.880\nAnd I don't want that so I'll hit edit.\n\n133\n00:06:44.880 --> 00:06:46.420\nAnd I'm gonna change that.\n\n134\n00:06:46.420 --> 00:06:50.060\nNow, I've got SSH enabled and\nthat's just from my IP.\n\n135\n00:06:50.060 --> 00:06:51.710\nI want that, all right?\n\n136\n00:06:51.710 --> 00:06:56.685\nAnd maybe I want to allow my IP to\nbe able to get to those addresses.\n\n137\n00:06:56.685 --> 00:06:59.045\nSo I might wanna come in here and\nsay my IP, so\n\n138\n00:06:59.045 --> 00:07:02.765\nthat I can use HTTP to browse\nto the end units, right.\n\n139\n00:07:02.765 --> 00:07:04.095\nMaybe I just wanna be able to test,\n\n140\n00:07:04.095 --> 00:07:05.895\ndo my own manual verification\nthey're up and running.\n\n141\n00:07:05.895 --> 00:07:06.835\nSo, I might choose to approve that.\n\n142\n00:07:07.875 --> 00:07:12.872\nBut the other thing I need to add, is I\nneed to allow the load balancer access.\n\n143\n00:07:12.872 --> 00:07:17.542\nIf I don't do that, if I don't add the\nload balancer, then it's gonna be blocked.\n\n144\n00:07:17.542 --> 00:07:19.522\nAnd we'll see that it\ndoesn't get that access.\n\n145\n00:07:19.522 --> 00:07:22.782\nThe only problem is when you add a rule,\nlike If I add another rule here for\n\n146\n00:07:22.782 --> 00:07:25.652\nHTTP, right, TCP port 80.\n\n147\n00:07:25.652 --> 00:07:28.780\nAnd I want to say that this is\ntraffic from the load balancer.\n\n148\n00:07:28.780 --> 00:07:34.220\nWell, I have to choose custom IP, and\nit wants me to put in an IP address.\n\n149\n00:07:34.220 --> 00:07:36.640\nWhat's the IP address of my load balancer?\n\n150\n00:07:36.640 --> 00:07:40.700\nI don't know, the IP address of\nyour load balancer, it changes.\n\n151\n00:07:40.700 --> 00:07:43.390\nIt changes based on Amazon's\navailability configuration.\n\n152\n00:07:43.390 --> 00:07:46.165\nSo it can move around as needed,\nit's very flexible.\n\n153\n00:07:46.165 --> 00:07:47.870\nThat's what makes them so powerful.\n\n154\n00:07:47.870 --> 00:07:50.630\nThe other thing is the load bouncer\nactually has two IP addresses or\n\n155\n00:07:50.630 --> 00:07:52.100\na minimum of two it could have more.\n\n156\n00:07:52.100 --> 00:07:55.420\nBut it'll usually have two IP addresses,\nagain for redundancy.\n\n157\n00:07:55.420 --> 00:07:59.300\nSo if I don't know what those IPs are,\nhow do I fill that in?\n\n158\n00:07:59.300 --> 00:08:00.640\nWell, the answer is you really can't.\n\n159\n00:08:00.640 --> 00:08:01.980\nNot by IP at least.\n\n160\n00:08:01.980 --> 00:08:04.835\nBut there's actually a neat\nlittle thing that we can do here,\n\n161\n00:08:04.835 --> 00:08:09.370\nit's documented in Amazon's\nweb documentation, AWS.\n\n162\n00:08:09.370 --> 00:08:11.690\nBut it's not shown here in the GUI.\n\n163\n00:08:11.690 --> 00:08:13.200\nBased on the GUI, you wouldn't know it.\n\n164\n00:08:13.200 --> 00:08:16.480\nBut you can actually\nput in a resource name\n\n165\n00:08:16.480 --> 00:08:17.970\nin this block instead of an IP, right.\n\n166\n00:08:17.970 --> 00:08:20.060\nAnd what is a resource name?\n\n167\n00:08:20.060 --> 00:08:24.180\nWell, every object you\ncreate inside of AWS, and\n\n168\n00:08:24.180 --> 00:08:26.550\nnot just EC2 to but S3 everywhere.\n\n169\n00:08:26.550 --> 00:08:27.220\nGets resource a name.\n\n170\n00:08:27.220 --> 00:08:30.390\nit is a name that identifies\nyour object specifically and\n\n171\n00:08:30.390 --> 00:08:33.620\nAmazon uses that in the for the most part,\n\n172\n00:08:33.620 --> 00:08:37.240\nto make it where you don't have\nduplicate names with other customers.\n\n173\n00:08:37.240 --> 00:08:39.930\nIf I have a load balancer\ncalled Web LB and\n\n174\n00:08:39.930 --> 00:08:43.040\nyou create a load balancer called Web LB,\nhow do we know them apart?\n\n175\n00:08:43.040 --> 00:08:48.560\nWell, the resource name is a unique name\ntied to it, and we don't normally see it.\n\n176\n00:08:48.560 --> 00:08:52.480\nBut it's there, it exists, and\nthat's how Amazon identifies it.\n\n177\n00:08:52.480 --> 00:08:56.670\nSo we can use that resource name and\npunch it right in here, and\n\n178\n00:08:56.670 --> 00:08:59.430\nthat will be our load balancer, right.\n\n179\n00:08:59.430 --> 00:09:01.880\nThe problem is load balancers are special.\n\n180\n00:09:01.880 --> 00:09:06.060\nWhen we talk about resource names on one\nof our objects, we see those really easy.\n\n181\n00:09:06.060 --> 00:09:07.170\nLet me show you what I mean.\n\n182\n00:09:07.170 --> 00:09:09.050\nI'm just gonna cancel that.\n\n183\n00:09:09.050 --> 00:09:12.250\nI'll put this limit in here,\ntying it to my IP and I'll hit save.\n\n184\n00:09:12.250 --> 00:09:14.610\nNow I'm leaving my load balancer out.\n\n185\n00:09:14.610 --> 00:09:18.980\nSo my load balancer is gonna lose\naccess to the web servers, alright.\n\n186\n00:09:18.980 --> 00:09:21.720\nAnd so I'm gonna have to come back and\nfix that.\n\n187\n00:09:21.720 --> 00:09:24.790\nBut if I go to the web site right now and\ntry and refresh.\n\n188\n00:09:24.790 --> 00:09:26.530\nI'm hitting the load balancer.\n\n189\n00:09:26.530 --> 00:09:30.340\nAnd then it's taking a long\ntime to generate that page.\n\n190\n00:09:30.340 --> 00:09:33.250\nIf I wait long enough,\nI'll get server unreachable right or\n\n191\n00:09:33.250 --> 00:09:35.560\nthen I'm not able to get that\ncontent I get to the load balancer.\n\n192\n00:09:35.560 --> 00:09:37.710\nBut I don't get the back end content.\n\n193\n00:09:37.710 --> 00:09:40.660\nAnd if I come here and\nlook at my load balancer right now, and\n\n194\n00:09:40.660 --> 00:09:44.080\nI go to my instances,\nthey're failing their health checks.\n\n195\n00:09:44.080 --> 00:09:45.470\nOne's already gone out of service,\n\n196\n00:09:45.470 --> 00:09:47.080\nthe other will go out of\nservice here any moment.\n\n197\n00:09:47.080 --> 00:09:49.390\nYou know the health checks happen every so\noften, so\n\n198\n00:09:49.390 --> 00:09:53.265\nthey can be detected at different times,\nbut it's gonna try and figure it out.\n\n199\n00:09:53.265 --> 00:09:55.415\nAnd there it goes,\nthey're both out of service, all right?\n\n200\n00:09:55.415 --> 00:09:58.485\nSo I just broke my network because I\ndidn't list the load balancer as being\n\n201\n00:09:58.485 --> 00:10:00.775\napproved to get to those systems, right?\n\n202\n00:10:00.775 --> 00:10:04.265\nNow the load balancer,\nwell, forgot my point.\n\n203\n00:10:04.265 --> 00:10:06.295\nIf I go up here to my instances.\n\n204\n00:10:06.295 --> 00:10:10.325\nWhen you look at an instance, you've\ngot an instance ID right here, right?\n\n205\n00:10:10.325 --> 00:10:12.760\nThat's the resource name for this item.\n\n206\n00:10:12.760 --> 00:10:14.400\nThat's how we know our instance.\n\n207\n00:10:14.400 --> 00:10:17.760\nThere might be a thousand other customers\nwith a server called Web03, but\n\n208\n00:10:17.760 --> 00:10:20.030\nAmazon knows this one is mine\nbecause of the instance ID.\n\n209\n00:10:21.090 --> 00:10:24.370\nEverything has an ID like that,\nthe resource name, but\n\n210\n00:10:24.370 --> 00:10:28.460\na load balancer is special,\nbecause you don't own the load balancer.\n\n211\n00:10:28.460 --> 00:10:31.360\nYou get billed for it,\nbut Amazon manages it.\n\n212\n00:10:31.360 --> 00:10:35.350\nThat load balancer is actually an instance\nrunning in the background, but\n\n213\n00:10:35.350 --> 00:10:37.660\nit's Amazon's instance, not yours.\n\n214\n00:10:37.660 --> 00:10:40.540\nSo, when you go to the load balancer and\nyou go to description.\n\n215\n00:10:40.540 --> 00:10:45.112\nOr even just looking at the columns up\nhere, you won't see an ID like that,\n\n216\n00:10:45.112 --> 00:10:45.720\nall right?\n\n217\n00:10:45.720 --> 00:10:47.030\nThe closest you get is the DNS name.\n\n218\n00:10:47.030 --> 00:10:49.450\nBut when you look in here,\nyou don't see an ID.\n\n219\n00:10:49.450 --> 00:10:52.720\nSo, we actually can't list\nthe load balancer itself.\n\n220\n00:10:52.720 --> 00:10:55.620\nBut we can list the security group.\n\n221\n00:10:55.620 --> 00:10:58.640\nWe own the security group that\nwe put the load balancer in.\n\n222\n00:10:58.640 --> 00:11:01.890\nSo when you look at the description of\nthe load balancer as I scroll down,\n\n223\n00:11:01.890 --> 00:11:05.840\nwhat you'll see in here is\nthe source security group.\n\n224\n00:11:05.840 --> 00:11:08.890\nAnd there's the identifier for\nmy security group.\n\n225\n00:11:08.890 --> 00:11:13.360\nAnd it's just your account number/web-LB\nis the name I gave it, right.\n\n226\n00:11:13.360 --> 00:11:17.820\nSo that's the identifier for my security\ngroup that the load balancer is in.\n\n227\n00:11:17.820 --> 00:11:19.290\nAnd so instead of approving an IP,\n\n228\n00:11:19.290 --> 00:11:23.270\nsince I don't know what the IPs are gonna\nbe, I can approve the security group.\n\n229\n00:11:23.270 --> 00:11:26.460\nI can say any node that's in Web-LB,\n\n230\n00:11:26.460 --> 00:11:30.400\nin that security group, allow it to\naccess this other security group.\n\n231\n00:11:30.400 --> 00:11:34.110\nSo that's a cool way to provide that\naccess without knowing the IP addresses.\n\n232\n00:11:34.110 --> 00:11:34.770\nAnd that's what I'm gonna do.\n\n233\n00:11:34.770 --> 00:11:36.780\nI'm gonna go up to my security groups.\n\n234\n00:11:36.780 --> 00:11:43.270\nand I'm gonna modify my Web host security\ngroup to add in that new entry, right.\n\n235\n00:11:43.270 --> 00:11:45.794\nSo here's my IP specifically, and\n\n236\n00:11:45.794 --> 00:11:50.279\nI'm gonna add a rule that allows\nHTTP traffic on TCP port 80.\n\n237\n00:11:50.279 --> 00:11:54.960\nI'm gonna say custom IP but\ninstead of an IP address,\n\n238\n00:11:54.960 --> 00:11:58.920\nI'll just paste in that identifier,\nalright, then I hit save.\n\n239\n00:11:59.930 --> 00:12:01.550\nAnd you'll see it changes it.\n\n240\n00:12:01.550 --> 00:12:04.390\nIt takes the identifier, it looks it up.\n\n241\n00:12:04.390 --> 00:12:09.320\nAnd then it puts the unique ID only,\nit puts that unique ID in there.\n\n242\n00:12:09.320 --> 00:12:12.710\nSo I've got SG-40F,\nblah, blah, blah, right?\n\n243\n00:12:12.710 --> 00:12:16.170\nThat's the security identifier for\nthat security group.\n\n244\n00:12:16.170 --> 00:12:20.410\nNow, my load balancer will be allowed\nto access the Web servers on port 80,\n\n245\n00:12:20.410 --> 00:12:23.670\nand I will be allowed to access\nthe Web servers on port 80.\n\n246\n00:12:23.670 --> 00:12:29.140\nIf an end user tries to get to those\nnodes directly, they won't be able to.\n\n247\n00:12:29.140 --> 00:12:30.740\nNow I can, because of my IP.\n\n248\n00:12:30.740 --> 00:12:34.240\nI'm gonna change that,\nI'm gnna take my IP out.\n\n249\n00:12:34.240 --> 00:12:35.740\nSo let me just bump that out.\n\n250\n00:12:35.740 --> 00:12:38.640\nSo now, I can get to it with SSH but\nI can't get to it with HTTP.\n\n251\n00:12:39.790 --> 00:12:44.030\nSo I'll save that, all right, there we go.\n\n252\n00:12:44.030 --> 00:12:46.640\nAnd now, let's go test it, right?\n\n253\n00:12:46.640 --> 00:12:50.500\nSo, actually I should probably wait until\nthe load balancer is healthy again.\n\n254\n00:12:50.500 --> 00:12:54.720\nIf I go down here to my load balancer,\nI can go to my load balancer.\n\n255\n00:12:54.720 --> 00:12:57.810\nAnd then instances, and\nI see they're both in service.\n\n256\n00:12:57.810 --> 00:12:59.860\nThey're both healthy again, okay.\n\n257\n00:12:59.860 --> 00:13:05.060\nSo if I'm a customer, and\nI go browsing through www.itprotv.net,\n\n258\n00:13:05.060 --> 00:13:09.120\nand I refresh that,\nthere's web01, there's web02.\n\n259\n00:13:09.120 --> 00:13:12.090\nSo, I see that I'm connecting\nto these two different servers.\n\n260\n00:13:12.090 --> 00:13:14.960\nAs I just sit here and\nrefresh I'm bouncing between them.\n\n261\n00:13:14.960 --> 00:13:17.900\nBut if I try and\ngo to the server directly, right.\n\n262\n00:13:17.900 --> 00:13:23.340\nIf I try to go to Web01 directly,\nit's taking a long time.\n\n263\n00:13:23.340 --> 00:13:26.950\nAnd if I try and got to Web02 directly,\nit's taking a long time.\n\n264\n00:13:26.950 --> 00:13:30.640\nI can no longer directly access the notes.\n\n265\n00:13:30.640 --> 00:13:33.280\nI have to go through the load balancer,\nright.\n\n266\n00:13:33.280 --> 00:13:36.560\nThat is gonna decrease\nyour attack surface.\n\n267\n00:13:36.560 --> 00:13:39.500\nPeople will not be able to\ntarget the servers individually.\n\n268\n00:13:39.500 --> 00:13:41.290\nThey'll have to pass\nthrough the load balancer,\n\n269\n00:13:41.290 --> 00:13:43.400\nwhich is gonna be moving\nthem between servers.\n\n270\n00:13:43.400 --> 00:13:47.320\nAnd that's gonna make session\nspoofing a lot more difficult.\n\n271\n00:13:47.320 --> 00:13:49.750\nBasically, it'll make it where they\nhave to do cookie compromises or\n\n272\n00:13:49.750 --> 00:13:50.780\nother types of attacks.\n\n273\n00:13:50.780 --> 00:13:54.580\nThere are still other attacks but\nthis definitely helps out a lot.\n\n274\n00:13:54.580 --> 00:13:58.290\nSo neat little caveats there, a couple\nlittle things we need to be aware of when\n\n275\n00:13:58.290 --> 00:14:00.450\nwe deal with load balancers like these.\n\n276\n00:14:00.450 --> 00:14:01.250\nEventually they'll fail.\n\n277\n00:14:01.250 --> 00:14:06.100\nApparently, Chrome's timeout is insanely\nlong but eventually that'll fail.\n\n278\n00:14:06.100 --> 00:14:09.920\nBut, the key thing to remember is\nthat when you're setting up those\n\n279\n00:14:09.920 --> 00:14:15.230\nsecurity groups, you don't have to\nput an IP address in that field.\n\n280\n00:14:15.230 --> 00:14:20.500\nIt does accept other things like the ARNs,\nthe resource names.\n\n281\n00:14:20.500 --> 00:14:23.790\nYou can put those in, it'll recognize it,\nand that's what it will use.\n\n282\n00:14:24.820 --> 00:14:27.740\nAll right, so that's a quick chance for\nus to see that.\n\n283\n00:14:27.740 --> 00:14:31.890\nSo in this segment, we took a look at\nadvanced security configurations, right.\n\n284\n00:14:31.890 --> 00:14:34.510\nSecurity groups in conjunction\nwith a load balancer,\n\n285\n00:14:34.510 --> 00:14:35.860\nhow we can improve that performance.\n\n286\n00:14:35.860 --> 00:14:38.130\nSo, I hope you guys enjoyed the segment.\n\n287\n00:14:38.130 --> 00:14:40.810\nStay tuned, we've got more\nAmazon Web Services coming up.\n\n",
          "vimeoId": "134106934"
        },
        {
          "description": "",
          "length": "571",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/016-Connection-Draining-In-ELB.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/016-Connection-Draining-In-ELB-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/016-Connection-Draining-In-ELB-sm.jpg",
          "title": "Connection Draining In ELB",
          "transcript": "1\n00:00:00,000 --> 00:00:05,122\n[SOUND] In this segment we're gonna take\n\n2\n00:00:05,122 --> 00:00:13,358\na look at Connection Draining\nwithin Elastic Load Balancing.\n\n3\n00:00:13,358 --> 00:00:14,930\nNow, what is Connection Draining?\n\n4\n00:00:14,930 --> 00:00:19,910\nWell, one of the really cool parts\nabout using the Elastic Load Balancing\n\n5\n00:00:19,910 --> 00:00:24,100\nis that you can have multiple hosts all\nmasked behind a single load balancing.\n\n6\n00:00:24,100 --> 00:00:26,360\nAnd as your end users connect to it,\n\n7\n00:00:26,360 --> 00:00:29,490\nthat traffic is distributed\nacross the nodes behind it.\n\n8\n00:00:29,490 --> 00:00:33,190\nAnd because the traffic is being\ndistributed, you can actually take a node\n\n9\n00:00:33,190 --> 00:00:36,830\noffline, and the traffic just gets\nredistributed across the existing,\n\n10\n00:00:36,830 --> 00:00:38,370\nthe ones that are still online.\n\n11\n00:00:38,370 --> 00:00:41,440\nSo that means that we can\ndo routine maintenance.\n\n12\n00:00:41,440 --> 00:00:46,550\nThings like system updates and firmware\nupdates, copy files things like that\n\n13\n00:00:46,550 --> 00:00:49,910\neven backups, we can do that\nwhile our server is offline but\n\n14\n00:00:49,910 --> 00:00:52,530\nour end users are still\nable to get access, right?\n\n15\n00:00:52,530 --> 00:00:55,270\nDefinitely a very cool thing a lot of\nstuff we used to schedule for after\n\n16\n00:00:55,270 --> 00:00:58,360\nhours you can now do in the middle of\nthe day so you're not working on Sunday.\n\n17\n00:00:58,360 --> 00:01:01,195\nYou can just do it right there even during\npeak time, as long as youve got enough\n\n18\n00:01:01,195 --> 00:01:03,850\nadditional servers to carry\nthe load in your environment.\n\n19\n00:01:04,900 --> 00:01:08,670\nThe only problem is,\nwhen you take a node out of service,\n\n20\n00:01:08,670 --> 00:01:14,290\nwhen you take it out of the load\nbalancing pool, if anybody was currently\n\n21\n00:01:14,290 --> 00:01:18,990\nconnected to that node, Their session gets\nreset, they get moved to another server.\n\n22\n00:01:18,990 --> 00:01:20,990\nNow a lot of applications\nhandle that seamlessly.\n\n23\n00:01:20,990 --> 00:01:25,360\nA lot of web applications use cookies\non the person's end, on your client.\n\n24\n00:01:25,360 --> 00:01:27,700\nAnd so when they jump from server\nto server it makes no difference.\n\n25\n00:01:27,700 --> 00:01:31,150\nThat's how Amazon's storefront is, they\ndon't really care which server you connect\n\n26\n00:01:31,150 --> 00:01:33,400\nto, your cookies identify your session.\n\n27\n00:01:33,400 --> 00:01:36,940\nBut other applications may be\na lot more sensitive about that.\n\n28\n00:01:36,940 --> 00:01:39,840\nLike you might be load\nbalancing a MySQL box.\n\n29\n00:01:39,840 --> 00:01:41,380\nSo, you've already authenticated and\n\n30\n00:01:41,380 --> 00:01:43,790\nlogged in and\nrun some queries against one.\n\n31\n00:01:43,790 --> 00:01:47,690\nIf you all the sudden get moved to\nanother server, you're not authenticated.\n\n32\n00:01:47,690 --> 00:01:49,310\nAnd so you have to reauthenticate.\n\n33\n00:01:49,310 --> 00:01:51,070\nYour end users will notice that.\n\n34\n00:01:51,070 --> 00:01:52,380\nIt's not an outage.\n\n35\n00:01:52,380 --> 00:01:53,170\nThey still have access.\n\n36\n00:01:53,170 --> 00:01:56,610\nThey'll just notice that they have\nto relogin or rebuild their session.\n\n37\n00:01:56,610 --> 00:01:59,950\nSo, if we want to try and\nkeep that as seamless as possible,\n\n38\n00:01:59,950 --> 00:02:02,420\njust taking a node out of\nservice isn't a great idea.\n\n39\n00:02:02,420 --> 00:02:04,768\nAnd that's where connection\ndraining comes in.\n\n40\n00:02:04,768 --> 00:02:06,540\nWith connection draining we say,\n\n41\n00:02:06,540 --> 00:02:09,550\nwhen we take a node out of\nservice don't just yank it out.\n\n42\n00:02:09,550 --> 00:02:12,700\nInstead, let it sit there for\na little while.\n\n43\n00:02:12,700 --> 00:02:17,860\nAnd will not send any new connections,\nno new connections to the node.\n\n44\n00:02:17,860 --> 00:02:21,590\nBut any existing connections will\nhave a certain amount of time to wrap\n\n45\n00:02:21,590 --> 00:02:22,770\nup what they're doing.\n\n46\n00:02:22,770 --> 00:02:26,570\nAnd you can designate that amount of time,\nAnd it'll do that.\n\n47\n00:02:26,570 --> 00:02:30,530\nConnection draining is turned on by\ndefault on the Elastic Load Balancer, and\n\n48\n00:02:30,530 --> 00:02:33,120\nthe default window is set to five minutes.\n\n49\n00:02:33,120 --> 00:02:35,430\nSo when you remove a node\nfrom a Load Balancer,\n\n50\n00:02:35,430 --> 00:02:37,600\nby default it will wait five minutes.\n\n51\n00:02:37,600 --> 00:02:39,590\nNo new connections will be sent to it but\n\n52\n00:02:39,590 --> 00:02:42,890\nexisting ones are still allowed\nto complete for five minutes.\n\n53\n00:02:42,890 --> 00:02:45,840\nIf they finish in five minutes,\nthe end user won't even notice\n\n54\n00:02:45,840 --> 00:02:48,880\nthat they get bumped over to another\nsystem cause they're finished.\n\n55\n00:02:48,880 --> 00:02:49,950\nBut if somebody is working and\n\n56\n00:02:49,950 --> 00:02:53,460\nthey take longer than five minutes,\nthen they'll get interrupted.\n\n57\n00:02:53,460 --> 00:02:56,200\nBut the idea behind\nconnection draining is to\n\n58\n00:02:56,200 --> 00:02:57,970\nminimize the amount of\npeople that we affect.\n\n59\n00:02:59,130 --> 00:03:02,350\nNow, when you run the setup wizard for\ncreating a Load Balancer,\n\n60\n00:03:02,350 --> 00:03:05,440\nyou get to pick whether or not you\nwant to enable connection draining.\n\n61\n00:03:05,440 --> 00:03:08,880\nBut you can always change it after\nthe fact, so let me show you that.\n\n62\n00:03:08,880 --> 00:03:11,670\nI'm gonna take one of my Load Balancer,\nlet me just switch over.\n\n63\n00:03:11,670 --> 00:03:14,940\nSo if we start at the AWS console,\nI'm gonna into EC2 and\n\n64\n00:03:14,940 --> 00:03:18,480\nthen in EC2 I'm gonna go\ndown to my Load Balancers.\n\n65\n00:03:20,010 --> 00:03:24,100\nHere's my load balancer, and I can't\nreally remember when I set this one up,\n\n66\n00:03:24,100 --> 00:03:26,470\nI don't remember if I turned\non connection draining or not.\n\n67\n00:03:26,470 --> 00:03:27,400\nBut it's easy to check.\n\n68\n00:03:27,400 --> 00:03:31,250\nIf we just go down to our Instances tab,\nyou'll see our instances, and\n\n69\n00:03:31,250 --> 00:03:34,130\nI almost always just really quick\nscroll down to get to the instances,\n\n70\n00:03:34,130 --> 00:03:35,330\nthat's what I care about.\n\n71\n00:03:35,330 --> 00:03:39,380\nBut right at the very top you'll\nsee Connection Draining, and\n\n72\n00:03:39,380 --> 00:03:40,950\nwhether it's enabled or not.\n\n73\n00:03:40,950 --> 00:03:43,900\nAnd then it'll tell you\nhow long the interval is.\n\n74\n00:03:43,900 --> 00:03:47,630\nSo it looks like mine is turned on and\nset to five minutes, or 300 seconds.\n\n75\n00:03:47,630 --> 00:03:50,890\nThat's the default, so I must not have\nchanged it when I ran the wizard.\n\n76\n00:03:50,890 --> 00:03:53,330\nBut you can edit that to modify it.\n\n77\n00:03:53,330 --> 00:03:55,500\nIf you turn off Connection Draining,\n\n78\n00:03:55,500 --> 00:03:59,030\nwhen you remove a node from\nthe pool it immediately comes out.\n\n79\n00:03:59,030 --> 00:04:01,710\nAnd anybody who had a session on\nthat node, that sessions gone, so\n\n80\n00:04:01,710 --> 00:04:03,870\nthey'll have to build up a session\non one of the other nodes.\n\n81\n00:04:03,870 --> 00:04:07,800\nRight, again, not an outage, but\nthey do notice the little interruption.\n\n82\n00:04:07,800 --> 00:04:10,960\nBut if it's on,\nwe can then specify the time.\n\n83\n00:04:10,960 --> 00:04:13,560\nNow, the longer the time,\n\n84\n00:04:13,560 --> 00:04:16,710\nthe more likely people will\nfinish doing what they're doing.\n\n85\n00:04:16,710 --> 00:04:18,810\nFive minutes may not be long enough for\nyou.\n\n86\n00:04:18,810 --> 00:04:22,350\nIf this is gonna stop me from\nhaving to come into work on Sunday,\n\n87\n00:04:22,350 --> 00:04:24,130\nthen I might set this to 30 minutes.\n\n88\n00:04:24,130 --> 00:04:26,690\nYou know, I might go really long\nto guarantee that everybody\n\n89\n00:04:26,690 --> 00:04:27,745\nfinishes their stuff.\n\n90\n00:04:27,745 --> 00:04:29,530\nCause I can drain it in the morning and\n\n91\n00:04:29,530 --> 00:04:32,450\nthen come in at lunch and\ndo my changes and whatever.\n\n92\n00:04:32,450 --> 00:04:35,060\nSo you can kind of pick\nhow much time you want it.\n\n93\n00:04:35,060 --> 00:04:36,840\nBut five minutes is the default.\n\n94\n00:04:36,840 --> 00:04:39,730\nI'm gonna lower mine, just because\nI don't want to wait five minutes.\n\n95\n00:04:39,730 --> 00:04:41,510\nI'm gonna lower it to 30 seconds.\n\n96\n00:04:41,510 --> 00:04:46,050\nSo when I take a node out,\nit's actually gonna wait 30 seconds, and\n\n97\n00:04:46,050 --> 00:04:48,970\nthen it'll remove it from the pool,\nall right?\n\n98\n00:04:48,970 --> 00:04:51,050\nSo I'll go ahead and just save that.\n\n99\n00:04:51,050 --> 00:04:52,480\nAnd now it's in place.\n\n100\n00:04:52,480 --> 00:04:54,760\nConnection draining is on.\n\n101\n00:04:54,760 --> 00:04:57,730\nOnce it's on,\nif I wanna do maintenance on a node.\n\n102\n00:04:57,730 --> 00:04:59,330\nSo let's say Web02 here.\n\n103\n00:04:59,330 --> 00:05:02,190\nI wanna do maintenance on web02.\n\n104\n00:05:02,190 --> 00:05:05,190\nSo I'm gonna go and tweak it and\nchange whatever I need.\n\n105\n00:05:05,190 --> 00:05:07,620\nI need to do some updates and\nreboot the server.\n\n106\n00:05:07,620 --> 00:05:10,790\nAll right, well, if I'm gonna reboot it,\nthat's gonna interrupt my users, so\n\n107\n00:05:10,790 --> 00:05:12,070\nI don't want that to happen.\n\n108\n00:05:12,070 --> 00:05:17,260\nSo I can take node two, and\nI can hit remove from Load Balancer.\n\n109\n00:05:17,260 --> 00:05:20,860\nWhen I hit remove from Load Balancer,\nit's gonna take node two out of the pool.\n\n110\n00:05:20,860 --> 00:05:24,800\nNow, if draining is turned off,\nthat'll happen instantly.\n\n111\n00:05:24,800 --> 00:05:28,350\nBut since draining is on,\nit's gonna wait 30 seconds.\n\n112\n00:05:28,350 --> 00:05:31,820\nSo when I remove it, so\nI'll just say yes to remove it.\n\n113\n00:05:31,820 --> 00:05:35,410\nExisting connections are still\nallowed to stay connected.\n\n114\n00:05:35,410 --> 00:05:37,750\nNobody new is going to web02.\n\n115\n00:05:37,750 --> 00:05:40,360\nBut existing users on web02\nare still functioning.\n\n116\n00:05:40,360 --> 00:05:42,380\nAnd they'll still function for 30 seconds.\n\n117\n00:05:42,380 --> 00:05:46,140\nNow they got 30 seconds to wrap\nup whatever they were doing and\n\n118\n00:05:46,140 --> 00:05:47,160\nif they do, great.\n\n119\n00:05:47,160 --> 00:05:49,170\nTheir service is completely uninterrupted.\n\n120\n00:05:49,170 --> 00:05:49,860\nBut if they don't,\n\n121\n00:05:49,860 --> 00:05:52,810\nat the end of that 30 second window,\nthey'll get bumped over to web01.\n\n122\n00:05:52,810 --> 00:05:55,890\nSo they'll still have access on web01,\n\n123\n00:05:55,890 --> 00:05:59,710\nbut if our developers haven't planned for\nthat,\n\n124\n00:05:59,710 --> 00:06:03,550\nthen they may have a little interruption,\nmay have to relogin, or whatever.\n\n125\n00:06:03,550 --> 00:06:05,380\nAll right, so we're good there.\n\n126\n00:06:05,380 --> 00:06:07,900\nI've drained it, and I'm kind of\nstalling here for the 30 seconds.\n\n127\n00:06:07,900 --> 00:06:09,910\nI probably should have picked\nsomething even shorter.\n\n128\n00:06:09,910 --> 00:06:14,310\nBut once it's out, now I can do\nwhatever maintenance I want on Web02.\n\n129\n00:06:14,310 --> 00:06:16,930\nWhich I think I'm [INAUDIBLE]\ninto it on the background.\n\n130\n00:06:18,360 --> 00:06:20,080\nHere, let's see.\n\n131\n00:06:20,080 --> 00:06:26,100\nYeah, I'm in Web02 here, so\nI might do a series of updates\n\n132\n00:06:26,100 --> 00:06:28,650\nand so I'll go and punch that in and so.\n\n133\n00:06:28,650 --> 00:06:31,590\nNo updates, but\nI go in to do my updates for the system.\n\n134\n00:06:31,590 --> 00:06:33,080\nMaybe I reboot it.\n\n135\n00:06:33,080 --> 00:06:34,645\nSo I go ahead and reboot that node.\n\n136\n00:06:34,645 --> 00:06:37,900\n[LAUGH] I'm not logged in as root.\n\n137\n00:06:37,900 --> 00:06:38,610\nSo there we go.\n\n138\n00:06:38,610 --> 00:06:40,150\nSo now I'm going and rebooting it.\n\n139\n00:06:40,150 --> 00:06:42,630\nThat node's gonna reboot but\nno users are on it.\n\n140\n00:06:42,630 --> 00:06:45,360\nWell, assuming that I waited\nthe 30 seconds, right?\n\n141\n00:06:45,360 --> 00:06:48,220\nBut no users are on it so\nI reboot, do my maintenance.\n\n142\n00:06:48,220 --> 00:06:49,550\nEverything is happy.\n\n143\n00:06:49,550 --> 00:06:52,510\nAnd then,\nonce I'm done with my maintenance.\n\n144\n00:06:52,510 --> 00:06:54,550\nI just go and add it back into the pool.\n\n145\n00:06:54,550 --> 00:06:57,960\nSo I go back to my Load Balancer,\nI go to Instances,\n\n146\n00:06:57,960 --> 00:07:02,160\nand Edit Instances, and\nI just add that node right back in.\n\n147\n00:07:02,160 --> 00:07:08,660\nSo I'm gonna add web02, and I'll hit save,\nand now web02 is gonna be right back in.\n\n148\n00:07:08,660 --> 00:07:11,330\nNow, it's rebooting right now, so\nit's gonna fail it's health check.\n\n149\n00:07:11,330 --> 00:07:12,500\nBut I'm not worried about that.\n\n150\n00:07:12,500 --> 00:07:15,790\nI know that when it comes back online\nit'll be ready, so the system's gonna wait\n\n151\n00:07:15,790 --> 00:07:18,960\nuntil it passes it's health\nchecks to bring it back online.\n\n152\n00:07:18,960 --> 00:07:21,710\nIf it was already online,\nit would actually come up very,\n\n153\n00:07:21,710 --> 00:07:23,440\nvery quickly as in service.\n\n154\n00:07:23,440 --> 00:07:25,800\nBut since it's It's offline right now,\nit's failing health checks.\n\n155\n00:07:25,800 --> 00:07:28,826\nIt will have to do the rest of\nthe health checks to see it.\n\n156\n00:07:28,826 --> 00:07:31,939\nIf you don't remember what your health\nchecks are set to,that's another tab up\n\n157\n00:07:31,939 --> 00:07:32,820\nhere, Health Check.\n\n158\n00:07:32,820 --> 00:07:37,040\nSo, notice on mine\nthe Healthy Threshold is set to two.\n\n159\n00:07:37,040 --> 00:07:38,360\nThe default is ten.\n\n160\n00:07:38,360 --> 00:07:39,490\nI've lowered mine.\n\n161\n00:07:39,490 --> 00:07:40,720\nSo let's assume it's the default.\n\n162\n00:07:40,720 --> 00:07:41,890\nThe default is ten.\n\n163\n00:07:41,890 --> 00:07:46,410\nThat means we have to pass ten Health\nChecks before the server comes online, and\n\n164\n00:07:46,410 --> 00:07:48,990\nthe default interval for\nthat is 30 seconds.\n\n165\n00:07:48,990 --> 00:07:54,380\nSo 300 seconds, or five minutes has to go\nby before I'll bring that node online.\n\n166\n00:07:54,380 --> 00:07:55,940\nThat might be long time for you.\n\n167\n00:07:55,940 --> 00:07:57,330\nFor me, I'm not worried about it, right.\n\n168\n00:07:57,330 --> 00:07:58,980\nThis was an extra server,\nI did maintenance.\n\n169\n00:07:58,980 --> 00:08:01,240\nIt can come back online in five minutes,\nI'm fine with that.\n\n170\n00:08:01,240 --> 00:08:03,530\nBut if you're in a hurry,\nyou might lower it.\n\n171\n00:08:03,530 --> 00:08:05,300\nAs you see, I've lowered mine.\n\n172\n00:08:05,300 --> 00:08:09,360\nMy interval is ten seconds and\nI've got a threshold of two,\n\n173\n00:08:09,360 --> 00:08:13,310\nthat means it has to pass two checks,\nten seconds apart, so\n\n174\n00:08:13,310 --> 00:08:17,270\nit will take 20 seconds to recognize\nthat and bring this node back online.\n\n175\n00:08:17,270 --> 00:08:22,620\nSo it will come up online a lot faster and\nthen it will be up and happy.\n\n176\n00:08:22,620 --> 00:08:24,560\nAs happy as a server gets.\n\n177\n00:08:24,560 --> 00:08:26,910\nAnd I can see web02 is already in service.\n\n178\n00:08:26,910 --> 00:08:31,980\nAnd now new connections will start\ngetting balanced over to web02.\n\n179\n00:08:31,980 --> 00:08:36,150\nSo really easy to do that maintenance\nwithout impacting our customers.\n\n180\n00:08:36,150 --> 00:08:40,340\nAnd instead of having to wake up early or\nstay up and do maintenance at 3 am or\n\n181\n00:08:40,340 --> 00:08:42,980\nnon peak time, you can do it\nright in the middle of the day\n\n182\n00:08:42,980 --> 00:08:47,500\nas long as you have enough other servers\nto maintain redundancy, all right?\n\n183\n00:08:47,500 --> 00:08:50,030\nAnd if you're not sure,\nyou can always scroll down a bit here, and\n\n184\n00:08:50,030 --> 00:08:53,540\nit gives you a little bit of information\nas to whether you are redundant.\n\n185\n00:08:53,540 --> 00:08:57,620\nAnd so we'll see here in us-east-1a,\nI've got two nodes.\n\n186\n00:08:57,620 --> 00:08:59,460\nI'm healthy, I'm redundant,\n\n187\n00:08:59,460 --> 00:09:02,870\nversus my other nodes where I don't have\nenough healthy instances to be redundant.\n\n188\n00:09:02,870 --> 00:09:04,970\nBut you can just kinda take\na quick peek there, but\n\n189\n00:09:04,970 --> 00:09:07,040\nusually you know right\nhere from your instances.\n\n190\n00:09:08,300 --> 00:09:09,270\nAll right.\nSo in this segment,\n\n191\n00:09:09,270 --> 00:09:12,600\nwe got a chance to see how to\ndrain a node to do maintenance,\n\n192\n00:09:12,600 --> 00:09:13,510\nhow to bring it back online.\n\n193\n00:09:13,510 --> 00:09:17,610\nIt's pretty easy, cool feature\nthat wasn't always there in AWS.\n\n194\n00:09:17,610 --> 00:09:20,680\nThey added this one just, I think,\na little over a year or two ago.\n\n195\n00:09:20,680 --> 00:09:22,430\nSo it's one of the newer options.\n\n196\n00:09:22,430 --> 00:09:25,020\nDefinitely useful though,\nso take advantage of it.\n\n197\n00:09:25,020 --> 00:09:26,780\nAll right,\nI hope you guys enjoyed the segment.\n\n198\n00:09:26,780 --> 00:09:27,420\nStay tuned.\n\n199\n00:09:27,420 --> 00:09:29,680\nWe've got more Amazon\nweb services coming up.\n\n",
          "vimeoId": "109458586"
        },
        {
          "description": "",
          "length": "571",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/017-Cross-Zone-Load-Balancing.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/017-Cross-Zone-Load-Balancing-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/017-Cross-Zone-Load-Balancing-sm.jpg",
          "title": "Cross-Zone Load Balancing",
          "transcript": "1\n00:00:00,000 --> 00:00:07,708\n[MUSIC]\n\n2\n00:00:07,708 --> 00:00:11,770\nIn this segment, we're going to take\na look at cross-zone load balancing.\n\n3\n00:00:11,770 --> 00:00:13,020\nNow, what is that?\n\n4\n00:00:13,020 --> 00:00:15,530\nWell, when we configure\na load balancer inside a EC2,\n\n5\n00:00:15,530 --> 00:00:19,570\none of the questions it asks us is if we\nwant to enable cross-zone load balancing.\n\n6\n00:00:19,570 --> 00:00:23,420\nAnd if you check that off, what that\nmeans is that you can have nodes,\n\n7\n00:00:23,420 --> 00:00:25,850\nor instances,\nthat are behind that cluster,\n\n8\n00:00:25,850 --> 00:00:29,570\nthat are actually in more\nthan one Availability Zone.\n\n9\n00:00:29,570 --> 00:00:33,478\nRemember that with EC2, Amazon has\nmany different data centers, and so\n\n10\n00:00:33,478 --> 00:00:35,495\nif you choose to bring up an instance,\n\n11\n00:00:35,495 --> 00:00:38,599\none of the questions it asks you\nis where you want to put it?\n\n12\n00:00:38,599 --> 00:00:41,980\nAnd that's gonna impact availability.\n\n13\n00:00:41,980 --> 00:00:44,300\nLet me show you what I mean\nhere with my instances, so\n\n14\n00:00:44,300 --> 00:00:48,950\nI'm gonna go into my AWS console,\nand I'm gonna go to EC2, and\n\n15\n00:00:48,950 --> 00:00:51,530\ninside of EC2 I'm gonna\ngo to my instances.\n\n16\n00:00:52,630 --> 00:00:56,605\nI've got three web servers whipped up,\nand so you can see web01,\n\n17\n00:00:56,605 --> 00:00:58,570\nweb02, web03 right there.\n\n18\n00:00:58,570 --> 00:01:02,770\nWeb01 and web02,\nI put both of them in us-east-1a,\n\n19\n00:01:02,770 --> 00:01:07,642\nthat's the us-east,\nthat's the North Virginia data center, and\n\n20\n00:01:07,642 --> 00:01:11,580\nthen 1a,\nthat's the first Availability Zone.\n\n21\n00:01:11,580 --> 00:01:15,180\nThere's actually five zones there, but for\n\n22\n00:01:15,180 --> 00:01:17,085\navailability they only let\nyou pick between three.\n\n23\n00:01:17,085 --> 00:01:20,030\nSo, not every zone is equipped for this.\n\n24\n00:01:20,030 --> 00:01:23,390\nSo, there's five zones in North Virginia,\nbut there's three that we can pick,\n\n25\n00:01:23,390 --> 00:01:27,680\nif I remember right is a, c, and\nd, we'll see it in a minute.\n\n26\n00:01:27,680 --> 00:01:31,820\nI'm pretty sure b is not one of them,\nbut you'll see where web01 and\n\n27\n00:01:31,820 --> 00:01:33,650\nweb02 are both in a.\n\n28\n00:01:34,650 --> 00:01:37,825\nWell, that means they're\nin the same data center,\n\n29\n00:01:37,825 --> 00:01:41,585\nthey're using the same redundant Internet\nconnection, and redundant power and\n\n30\n00:01:41,585 --> 00:01:46,555\nall that, it's all heavily redundant, but\noccasionally, data centers can go down.\n\n31\n00:01:46,555 --> 00:01:48,725\nAnd Amazon has had a few\noutages over the years,\n\n32\n00:01:48,725 --> 00:01:52,985\nand it's usually caused by something\nlike a poor BGP configuration, or\n\n33\n00:01:52,985 --> 00:01:54,885\nsomething like that, that affects routing.\n\n34\n00:01:54,885 --> 00:01:57,615\nSo, traffic isn't getting\nrouted into that data center.\n\n35\n00:01:57,615 --> 00:01:59,655\nWell, if the whole data\ncenter goes offline,\n\n36\n00:01:59,655 --> 00:02:02,310\nI'm gonna lose both of those servers.\n\n37\n00:02:02,310 --> 00:02:07,990\nSo, if I want redundancy, it's a good\nidea to not just have multiple servers,\n\n38\n00:02:07,990 --> 00:02:11,740\nbut to also have servers in\ndifferent Availability Zones.\n\n39\n00:02:11,740 --> 00:02:17,260\nSo, notice how I've got web03,\nand web03 is in us-east-1c.\n\n40\n00:02:17,260 --> 00:02:22,220\nSo, it's actually in the third\nAvailability Zone in North Virginia.\n\n41\n00:02:22,220 --> 00:02:24,730\nI could have chosen to put\nit in one of the us-west,\n\n42\n00:02:24,730 --> 00:02:26,430\nNorthern California or Oregon.\n\n43\n00:02:26,430 --> 00:02:29,100\nYou can put them various places,\nI chose to put them here.\n\n44\n00:02:29,100 --> 00:02:32,510\nNow, you might say to yourself, well,\nDon, they're both in North Virginia,\n\n45\n00:02:32,510 --> 00:02:33,630\nwhy would you do that?\n\n46\n00:02:33,630 --> 00:02:38,310\nWell, these are actually two\ncompletely independent data centers.\n\n47\n00:02:38,310 --> 00:02:39,870\nThey use separate Internet connections,\n\n48\n00:02:39,870 --> 00:02:44,880\nseparate subnets, separate equipment,\nseparate power, completely separate power.\n\n49\n00:02:44,880 --> 00:02:49,300\nSo, if one data center fails\nthe other one's unaffected.\n\n50\n00:02:49,300 --> 00:02:51,920\nSo, that actually gives me\nenough redundancy to meet\n\n51\n00:02:51,920 --> 00:02:55,160\npretty much every SLA that I've\never had to deal with in my career.\n\n52\n00:02:55,160 --> 00:02:59,690\nSo, that's usually good enough, but you're\nright, a natural disaster could hit.\n\n53\n00:02:59,690 --> 00:03:03,740\nA hurricane, earthquake, tornado,\nsomething really big that is\n\n54\n00:03:03,740 --> 00:03:07,180\nsuper catastrophic, and\nlevels both of those data centers.\n\n55\n00:03:07,180 --> 00:03:11,340\nIt'd be pretty challenging, but\nit could happen, and if that did happen.\n\n56\n00:03:11,340 --> 00:03:14,620\nWell, it would be nice if I\nhad some over in Oregon, or\n\n57\n00:03:14,620 --> 00:03:16,510\nnorthern California, or wherever.\n\n58\n00:03:16,510 --> 00:03:20,820\nSo you can choose to do that, for\nmy example, I've just got that right here.\n\n59\n00:03:20,820 --> 00:03:22,520\nNow, when I do load balancing,\n\n60\n00:03:22,520 --> 00:03:26,552\none of the main reasons we do load\nbalancing is for performance.\n\n61\n00:03:26,552 --> 00:03:30,090\nWe wanna distribute all our end users\nacross more than one server, so\n\n62\n00:03:30,090 --> 00:03:32,130\nthat we can scale out.\n\n63\n00:03:32,130 --> 00:03:36,320\nScaling up, when we increase processor,\nor memory, there's limits.\n\n64\n00:03:36,320 --> 00:03:38,360\nThere's only so\nmuch memory you can have in a server, so\n\n65\n00:03:38,360 --> 00:03:41,670\nmuch CPU power you can have in a server,\nbut when we scale out,\n\n66\n00:03:41,670 --> 00:03:45,560\nyou can add as many servers as you need,\nso you really get the ability to grow.\n\n67\n00:03:45,560 --> 00:03:49,090\nAnd that's how most people use load\nbalancers, if you're just using it for\n\n68\n00:03:49,090 --> 00:03:52,460\nperformance, then you don't\nreally care about this piece.\n\n69\n00:03:52,460 --> 00:03:55,180\nAnd so you may choose to put\nthem all in one zone, and\n\n70\n00:03:55,180 --> 00:03:58,030\nthen cross-zone availability\ndoesn't mean anything to you.\n\n71\n00:03:58,030 --> 00:04:01,575\nBut if you're trying to get the best\nredundancy, so your systems\n\n72\n00:04:01,575 --> 00:04:05,901\nare online during failures, cross-zone\ngives you a great level of planning.\n\n73\n00:04:05,901 --> 00:04:09,415\nNow, when you created your load balancer,\nyou might not remember, but\n\n74\n00:04:09,415 --> 00:04:13,044\nit actually asked if you wanted to\nturn on cross-site load balancing, and\n\n75\n00:04:13,044 --> 00:04:14,560\nthe default is it's checked.\n\n76\n00:04:14,560 --> 00:04:18,160\nSo, if you ignored it, it's already\nturned on, and it's pretty easy to spot.\n\n77\n00:04:18,160 --> 00:04:21,299\nWhen you look at your load balancer,\nI'll go down here to my load balancer.\n\n78\n00:04:22,930 --> 00:04:28,840\nHere's my load balancer, and in the status\ncolumns here I can see Availability Zones,\n\n79\n00:04:28,840 --> 00:04:30,720\nlet me resize some of this,\nso we can see it better.\n\n80\n00:04:32,450 --> 00:04:36,760\nAnd, in the Availability Zones, notice how\nit's got us-east 1c, 1a, and 1d, yeah,\n\n81\n00:04:36,760 --> 00:04:40,530\nb and e are not in the list.\n\n82\n00:04:40,530 --> 00:04:43,930\nSo, I've got three Availabilities Zones,\nthat's because this\n\n83\n00:04:43,930 --> 00:04:47,090\nload balancer is residing in\nNorth Virginia that's where I created it.\n\n84\n00:04:47,090 --> 00:04:49,351\nAnd I chose cross-zone availability,\n\n85\n00:04:49,351 --> 00:04:53,270\nso it's showing each of those\ndifferent zones right there.\n\n86\n00:04:53,270 --> 00:04:56,670\nI can put nodes in any of those, and\nthe load balancer will accept that.\n\n87\n00:04:58,100 --> 00:05:01,650\nI didn't do that during the setup,\nI just picked web01 and web02, so\n\n88\n00:05:01,650 --> 00:05:08,150\nif I go down here to my instances,\nI've only got instances in us-east 1a.\n\n89\n00:05:08,150 --> 00:05:13,070\nIf I scroll down in my instances here,\nI'll see my Availability Zones,\n\n90\n00:05:13,070 --> 00:05:17,118\nand I can see, let me just resize that,\nso we can see it all.\n\n91\n00:05:17,118 --> 00:05:20,120\nI can see us-east 1c, 1a, 1d.\n\n92\n00:05:20,120 --> 00:05:24,540\nThere's the three zones, and\nI can see that, yeah I'm healthy,\n\n93\n00:05:24,540 --> 00:05:30,560\nI've got two instances in 1a, but\nI'm not redundant for 1c, or 1d.\n\n94\n00:05:30,560 --> 00:05:35,069\nSo, if 1a goes offline, 1c and\n1d can't help me, I'm not fully redundant.\n\n95\n00:05:36,230 --> 00:05:37,500\nSo, I need to go and\n\n96\n00:05:37,500 --> 00:05:40,380\nchange this, and this is something\nthat you can do after the fact.\n\n97\n00:05:40,380 --> 00:05:43,425\nIf you want to enable it after the fact,\nyou just come here, and edit the zones,\n\n98\n00:05:43,425 --> 00:05:45,605\nand you can add more zones, or\nif you wanna turn them off,\n\n99\n00:05:45,605 --> 00:05:46,808\nyou can just remove the zones.\n\n100\n00:05:46,808 --> 00:05:50,038\nI could actually go, and\nremove 1c and 1d from the list, and\n\n101\n00:05:50,038 --> 00:05:54,141\na lot of times you'll do that, maybe I\nwanna make mine redundant, actually,\n\n102\n00:05:54,141 --> 00:05:56,150\nI've forgotten, where is web03?\n\n103\n00:05:56,150 --> 00:05:59,400\nLet's go back to my instances,\nand see where web03 is.\n\n104\n00:05:59,400 --> 00:06:03,020\nWeb03 is in 1c,\nI don't have any nodes in 1d,\n\n105\n00:06:03,020 --> 00:06:06,180\nso there's really no point in\nhaving that on my load balancer.\n\n106\n00:06:06,180 --> 00:06:09,140\nAnd it's gonna continue to generate\nthat little warning message there,\n\n107\n00:06:09,140 --> 00:06:11,760\nif I leave it, so\nI'll go ahead and remove that one.\n\n108\n00:06:11,760 --> 00:06:16,060\nSo, I'll go back to my load balancer, and\nhere I am in my web/lb and wanted to call\n\n109\n00:06:16,060 --> 00:06:21,800\nin my instances, and I'll browse down and\nEdit my Availability Zones.\n\n110\n00:06:21,800 --> 00:06:25,740\nAnd I'm just gonna remove 1d from\nthe list, no sense keeping it,\n\n111\n00:06:25,740 --> 00:06:27,920\nI don't have anybody there,\nso I'll just remove it.\n\n112\n00:06:27,920 --> 00:06:30,720\nI can always add it back later,\nsee how I've got the plus sign?\n\n113\n00:06:30,720 --> 00:06:31,760\nSo, you can add these, and\n\n114\n00:06:31,760 --> 00:06:34,677\nthat's effectively what turns\non the cross-zone availability.\n\n115\n00:06:35,950 --> 00:06:40,545\nSo, I'll Save that, and now I've got 1a\nand 1c, I don't see any errors anymore for\n\n116\n00:06:40,545 --> 00:06:43,550\n1d, it's just gone, but\nI'm still not healthy in 1c.\n\n117\n00:06:44,570 --> 00:06:48,882\nNow, I can just add in a node from 1c,\nand so I'll do that.\n\n118\n00:06:48,882 --> 00:06:51,580\nLet me go back up to my instances, and\n\n119\n00:06:51,580 --> 00:06:54,080\nI'll Edit that, and\nI'm gonna to pick my web03.\n\n120\n00:06:54,080 --> 00:06:59,930\nSo, now I've got it checked,\nit's in 1c right there, and I'll hit Save.\n\n121\n00:07:01,250 --> 00:07:05,300\nAnd now I've got nodes in\nmultiple Availability Zones.\n\n122\n00:07:05,300 --> 00:07:07,100\nAnd it's gonna take a moment\nto detect that right.\n\n123\n00:07:07,100 --> 00:07:10,290\nIts gotta pass its health check, so\nit's showing as out of service right now.\n\n124\n00:07:10,290 --> 00:07:14,020\nI shorten my health checks\nto be about 20 seconds.\n\n125\n00:07:14,020 --> 00:07:18,210\nThe default is five minutes, so it could\ntake a little while for it to detect, and\n\n126\n00:07:18,210 --> 00:07:19,450\ngo in service.\n\n127\n00:07:19,450 --> 00:07:23,630\nFor me, I'm stalling right now,\n[LAUGH] but if we hit 20 seconds, it'll go\n\n128\n00:07:23,630 --> 00:07:26,910\nin service, and I can just sit here,\nand impatiently hit the Refresh button.\n\n129\n00:07:26,910 --> 00:07:29,130\nThere it is, so\nnow they're all in service.\n\n130\n00:07:29,130 --> 00:07:30,070\nAnd when I scroll down, and\n\n131\n00:07:30,070 --> 00:07:34,140\nlook at my zones, see how that\nzone 1c shows it's healthy now.\n\n132\n00:07:34,140 --> 00:07:39,220\nI've only got one node in there,\nso if 1a were to fail,\n\n133\n00:07:39,220 --> 00:07:43,820\nthat one node and 1c would have to\ncarry the whole load of my company, and\n\n134\n00:07:43,820 --> 00:07:45,730\nthat's not really ideal, is it?\n\n135\n00:07:45,730 --> 00:07:48,760\nSo, we usually wanna keep\nthe numbers pretty much equal,\n\n136\n00:07:48,760 --> 00:07:51,590\nthat you have an equal number of\nservers in the different zones.\n\n137\n00:07:51,590 --> 00:07:54,380\nThat way if one zone fails, the other\none's gotta pick up the slack, but\n\n138\n00:07:54,380 --> 00:07:55,180\nit's equal.\n\n139\n00:07:55,180 --> 00:07:58,950\nIt's not already behind the gun,\nyou don't want it to be at a detriment.\n\n140\n00:07:58,950 --> 00:08:04,080\nIf I go from three servers down to\none server, that's a pretty big loss.\n\n141\n00:08:04,080 --> 00:08:09,223\nSo, if I've just got three servers and\nthat's it, I might choose to put 1 in 1a,\n\n142\n00:08:09,223 --> 00:08:12,130\n1 in 1c, and 1 in 1d.\n\n143\n00:08:12,130 --> 00:08:15,990\nAnd that way I've got three zones of\navailability with my three servers, but\n\n144\n00:08:15,990 --> 00:08:18,450\nif I wanna go more,\nyou can balance it out.\n\n145\n00:08:18,450 --> 00:08:20,120\nThat's usually what I do.\n\n146\n00:08:20,120 --> 00:08:25,320\nOne word of caution, when all of\nyour servers are in the same zone,\n\n147\n00:08:25,320 --> 00:08:28,510\nany transfer between those servers,\nyou don't pay for the bandwidth,\n\n148\n00:08:28,510 --> 00:08:33,870\nit's in the zone, but when you go between\nzones you do pay for the bandwidth.\n\n149\n00:08:33,870 --> 00:08:35,610\nWell in some scenarios you pay for\nthe bandwidth.\n\n150\n00:08:35,610 --> 00:08:38,370\nSometimes like here, when it's all in\nNorth Virgina I don't believe they bill\n\n151\n00:08:38,370 --> 00:08:41,680\nfor that, but when you're going from\nlike North Virginia to Oregon, or\n\n152\n00:08:41,680 --> 00:08:44,080\nsomething like that,\nthey do bill for that.\n\n153\n00:08:44,080 --> 00:08:47,430\nSo, cross the zone data\ntransfers do get charged, so\n\n154\n00:08:47,430 --> 00:08:49,370\nbe aware of that cuz there's\nseparate data centers.\n\n155\n00:08:49,370 --> 00:08:53,260\nThey've gotta manage that bandwidth,\nso that may increase your cost a bit.\n\n156\n00:08:53,260 --> 00:08:55,740\nBut the tradeoff is you\nget great availability,\n\n157\n00:08:55,740 --> 00:08:57,350\nit's usually worth that extra cost.\n\n158\n00:08:57,350 --> 00:09:01,050\nIt's not that significant, but\nI can see I'm happy now, and\n\n159\n00:09:01,050 --> 00:09:02,770\nI'm getting load balance\nbetween the zones.\n\n160\n00:09:02,770 --> 00:09:06,700\nMy end users don't know that,\nif they go here to the servers,\n\n161\n00:09:06,700 --> 00:09:08,660\nwell let me just check each one\nto make sure they're healthy.\n\n162\n00:09:08,660 --> 00:09:10,140\nOh, actually wait we blocked that.\n\n163\n00:09:10,140 --> 00:09:13,020\nSo, let me just go to my load balancer\nhere, and I'll refresh, I just hit web01.\n\n164\n00:09:14,030 --> 00:09:14,620\nNow, I hit web02.\n\n165\n00:09:14,620 --> 00:09:16,903\nI'll just keep refreshing.\n\n166\n00:09:16,903 --> 00:09:17,870\nNow, I hit web03.\n\n167\n00:09:19,200 --> 00:09:22,270\nNot only am I hitting different servers,\nI'm hitting\n\n168\n00:09:22,270 --> 00:09:26,790\ncompletely different data centers, and\nas an end user I don't even notice.\n\n169\n00:09:26,790 --> 00:09:31,708\nTo me it's just www.itprotv.net,\nand that's it,\n\n170\n00:09:31,708 --> 00:09:34,980\nbut to the servers,\ncompletely different data centers.\n\n171\n00:09:34,980 --> 00:09:36,490\nAnd if one goes offline,\n\n172\n00:09:36,490 --> 00:09:40,250\nthe other one just picks up the slack,\nreally high availability here.\n\n173\n00:09:40,250 --> 00:09:43,110\nThis is how you start to\nhit your really high SLAs.\n\n174\n00:09:43,110 --> 00:09:49,100\nIf you've ever wondered how somebody hits\n99.999% of availability, five nines, five\n\n175\n00:09:49,100 --> 00:09:53,870\nnines means that you only get a couple of\nminutes per year that you can be down.\n\n176\n00:09:53,870 --> 00:09:55,230\nHow do you achieve that?\n\n177\n00:09:55,230 --> 00:10:00,030\nThis is how you do it, a load balancer\nwhere you can take nodes in and out.\n\n178\n00:10:00,030 --> 00:10:03,450\nNodes in multiple data centers,\nthat's how we get that availability.\n\n179\n00:10:04,450 --> 00:10:07,363\nSo, once we get that configured,\nwe're now in really good shape.\n\n180\n00:10:07,363 --> 00:10:13,695\nSo, cross-zone [LAUGH] load balancing,\nit's brain freeze there.\n\n181\n00:10:13,695 --> 00:10:16,474\nCross-zone load balancing\nreally important,\n\n182\n00:10:16,474 --> 00:10:19,737\nreally easy, so\nno reason you shouldn't be doing that.\n\n183\n00:10:19,737 --> 00:10:22,016\nSo, in this segment we got\na chance to look at that,\n\n184\n00:10:22,016 --> 00:10:25,541\nwhat cross-zone load balancing is,\nwe saw how to set it up, and how it works.\n\n185\n00:10:25,541 --> 00:10:28,820\nPretty easy, so hopefully,\nyou guys benefit from that,\n\n186\n00:10:28,820 --> 00:10:31,100\nand put it in use in your environment.\n\n187\n00:10:31,100 --> 00:10:32,490\nI hope you guys enjoyed the segment.\n\n188\n00:10:32,490 --> 00:10:35,320\nStay tuned,\ngot more Amazon Web Services coming up.\n\n",
          "vimeoId": "109458587"
        },
        {
          "description": "",
          "length": "973",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/018-Change-Instance-Zones.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/018-Change-Instance-Zones-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/018-Change-Instance-Zones-sm.jpg",
          "title": "Change Instance Zones",
          "transcript": "1\n00:00:00,008 --> 00:00:08,062\n[SOUND]\n\n2\n00:00:08,062 --> 00:00:10,633\nIn this segment, we're gonna take a look\n\n3\n00:00:10,633 --> 00:00:15,180\nat how to move an instance in\nEC2 between availability zones.\n\n4\n00:00:15,180 --> 00:00:19,220\nWhen you create an instance, when you\nspin up a new virtual server in EC2,\n\n5\n00:00:19,220 --> 00:00:22,460\none of the questions it asks you\nis where you want to put it.\n\n6\n00:00:22,460 --> 00:00:25,200\nAnd you've got a choice between\nthe various data centers, right.\n\n7\n00:00:25,200 --> 00:00:28,200\nSo you can pick a region like\nthe North American region or\n\n8\n00:00:28,200 --> 00:00:30,780\nthe US West or whatever.\n\n9\n00:00:30,780 --> 00:00:33,020\nThe North Virginia region is the default.\n\n10\n00:00:33,020 --> 00:00:35,360\nAnd you can then choose a data center or\n\n11\n00:00:35,360 --> 00:00:38,200\nan availability zone\ninside of that region.\n\n12\n00:00:38,200 --> 00:00:41,290\nAnd so using the North Virginia\nregion as an example,\n\n13\n00:00:41,290 --> 00:00:43,610\nthere's actually five different\ndata centers in there.\n\n14\n00:00:43,610 --> 00:00:47,220\nAnd you can pick and choose between\nthose data centers to deploy it.\n\n15\n00:00:47,220 --> 00:00:51,440\nWell, some data centers have\nfeatures that others don't.\n\n16\n00:00:51,440 --> 00:00:54,180\nSo occasionally you might have deployed\n\n17\n00:00:54,180 --> 00:00:57,450\na server in one zone that\nwas fine at the time.\n\n18\n00:00:57,450 --> 00:01:01,450\nBut now you want to deploy some new\nfeature, and it's not supported.\n\n19\n00:01:01,450 --> 00:01:03,360\nA great example of that is load balancing.\n\n20\n00:01:03,360 --> 00:01:07,150\nWith the elastic load balancer,\nyou can do cross-zone load balancing, but\n\n21\n00:01:07,150 --> 00:01:11,200\nin the North Virginia region,\nright there in that North America region,\n\n22\n00:01:11,200 --> 00:01:15,110\nEast, it only supports it\nin three of the five zones.\n\n23\n00:01:15,110 --> 00:01:19,460\nSo, if your instances are in zone a,\nc, or d, you're fine.\n\n24\n00:01:19,460 --> 00:01:22,180\nBut, if they're in b or\ne you can't do it, right.\n\n25\n00:01:22,180 --> 00:01:27,200\nSo if you made that mistake, you might\nneed to move an instance from b over\n\n26\n00:01:27,200 --> 00:01:30,370\nto one of the other ones that does support\nthe load balancing piece, all right.\n\n27\n00:01:30,370 --> 00:01:32,540\nWell, unfortunately,\nthere's not an easy way to move it.\n\n28\n00:01:32,540 --> 00:01:36,090\nYou can't just right-click on an instance\nand say move it to another zone.\n\n29\n00:01:36,090 --> 00:01:40,050\nSo there's a little bit of a process\nwe have to go through to get it moved.\n\n30\n00:01:40,050 --> 00:01:42,870\nIt's not so painful, though, so\nI wanna show you guys how to do that,\n\n31\n00:01:42,870 --> 00:01:45,460\nhow we can quickly and\neasily move it between zones.\n\n32\n00:01:45,460 --> 00:01:47,450\nOne little caveat before I get started.\n\n33\n00:01:47,450 --> 00:01:50,550\nI'm gonna show you guys how to do this\nright here using the GUI, and you'll see\n\n34\n00:01:50,550 --> 00:01:55,530\nit's not that bad, but my way does involve\na little bit of downtime, all right.\n\n35\n00:01:55,530 --> 00:01:58,400\nSo I am gonna be taking the server\noffline while I do this, and\n\n36\n00:01:58,400 --> 00:02:01,880\nit'll take five to ten\nminutes to do the move.\n\n37\n00:02:01,880 --> 00:02:04,920\nIf youre in a mission critical\nenvironment and you cant afford that kind\n\n38\n00:02:04,920 --> 00:02:07,690\nof downtime, this isnt going\nto be the solution for you.\n\n39\n00:02:07,690 --> 00:02:10,200\nInstead, you might want to look\ninto third-party software,\n\n40\n00:02:10,200 --> 00:02:15,112\nservices like Ylastic,\nits spelled with a y, Y L A S T I C,\n\n41\n00:02:15,112 --> 00:02:19,405\nYlastic or Scalr, S C A L R,\nthey leave E out.\n\n42\n00:02:19,405 --> 00:02:23,260\nScalr is another one where they provide\nspecial services for moving these between\n\n43\n00:02:23,260 --> 00:02:29,070\nzones that can minimize or\neliminate that downtime, right.\n\n44\n00:02:29,070 --> 00:02:32,151\nThere's a little way we can kind of trick\nit by moving around elastic IPs, too, so\n\n45\n00:02:32,151 --> 00:02:34,178\nwe'll see there's a few\ndifferent ways we can do it.\n\n46\n00:02:34,178 --> 00:02:36,724\nBut my way, we can do it with GUI.\n\n47\n00:02:36,724 --> 00:02:37,747\nWe don't need third-party software.\n\n48\n00:02:37,747 --> 00:02:39,560\nIt just involves a little bit of downtime.\n\n49\n00:02:39,560 --> 00:02:40,260\nAll right.\n\n50\n00:02:40,260 --> 00:02:41,710\nSo I'm gonna show you my environment here.\n\n51\n00:02:41,710 --> 00:02:46,720\nIf I go into EC2 and I go to my instances,\nI have a load balancer set up for\n\n52\n00:02:46,720 --> 00:02:47,910\nmy web farm.\n\n53\n00:02:47,910 --> 00:02:54,250\nAnd right now, I've got two of my nodes in\nzone 1A and one of my nodes in zone 1C.\n\n54\n00:02:54,250 --> 00:02:54,900\nAll right.\n\n55\n00:02:54,900 --> 00:02:57,620\nWell, my problem is it's\nnot evenly balanced.\n\n56\n00:02:57,620 --> 00:03:01,550\nSo if zone 1A goes offline,\nI lose 66% of my servers,\n\n57\n00:03:01,550 --> 00:03:05,910\nand this one server then has to carry\nthat whole load, and that's not ideal.\n\n58\n00:03:05,910 --> 00:03:08,820\nSo we typically want to do even balancing,\nbut\n\n59\n00:03:08,820 --> 00:03:10,710\nI've got an odd number of servers here.\n\n60\n00:03:10,710 --> 00:03:13,680\nSo it'd be nice if I could bring\na third zone into the mix.\n\n61\n00:03:13,680 --> 00:03:16,230\nIf I want to bring a third zone,\nI've got to move one of these guys.\n\n62\n00:03:16,230 --> 00:03:19,080\nOne of these guys that's 1A I\nneed to move to another zone, and\n\n63\n00:03:19,080 --> 00:03:21,440\n1D would be a great candidate for me.\n\n64\n00:03:21,440 --> 00:03:25,040\nSo I'm going to move web02 from 1A to 1D.\n\n65\n00:03:25,040 --> 00:03:30,100\nBut you'll see if you right-click,\nthere's no change zone link or edit zone.\n\n66\n00:03:30,100 --> 00:03:33,530\nIt's not something that you can\nchange cuz the server is in place.\n\n67\n00:03:33,530 --> 00:03:38,010\nSo what we have to do is\nwe have to create an AMI.\n\n68\n00:03:38,010 --> 00:03:40,080\nAn AMI is an Amazon Machine Image.\n\n69\n00:03:40,080 --> 00:03:41,290\nWhen I built these servers,\n\n70\n00:03:41,290 --> 00:03:46,100\nI picked from one of the default AMIs\nthat Amazon had, the Amazon Linux, but\n\n71\n00:03:46,100 --> 00:03:50,270\nsince then, I've made a bunch of\nconfiguration changes to the server.\n\n72\n00:03:50,270 --> 00:03:54,240\nSo what we can do is we can create\na new AMI based on this server.\n\n73\n00:03:54,240 --> 00:03:57,070\nIt'll basically be a clone of the server.\n\n74\n00:03:57,070 --> 00:04:01,940\nI can clone it and\nthen deploy the clone in another zone.\n\n75\n00:04:01,940 --> 00:04:06,350\nAnd when I do that, I've effectively moved\nit to a new zone, and I can just go and\n\n76\n00:04:06,350 --> 00:04:07,950\ndelete the old one, all right?\n\n77\n00:04:07,950 --> 00:04:09,280\nSo that's exactly what I'm gonna do.\n\n78\n00:04:09,280 --> 00:04:13,280\nNow before I get started, it's really easy\nto get mixed up and confused on this one.\n\n79\n00:04:13,280 --> 00:04:19,950\nI'm gonna take web02, and I'm gonna\nedit its name to change it to -old.\n\n80\n00:04:19,950 --> 00:04:22,480\nI'm calling it -old so that I can\nremember that that's the original.\n\n81\n00:04:22,480 --> 00:04:23,370\nYou can call it whatever you want.\n\n82\n00:04:23,370 --> 00:04:26,420\nThis is just something that I like to do\nso I can remember what the heck it was and\n\n83\n00:04:26,420 --> 00:04:28,070\nnot get it mixed up.\n\n84\n00:04:28,070 --> 00:04:28,840\nAll right.\n\n85\n00:04:28,840 --> 00:04:31,420\nFrom there, I need to take an image.\n\n86\n00:04:31,420 --> 00:04:34,520\nNow, when you take an image of it,\nyou just go up here to Actions, and\n\n87\n00:04:34,520 --> 00:04:37,010\nyou'll see in here Create Image.\n\n88\n00:04:37,010 --> 00:04:40,650\nAn image is made as a snapshot\nof the hard drives.\n\n89\n00:04:40,650 --> 00:04:45,730\nThat means it doesn't capture what's in\nRAM, and our big issue there is if there's\n\n90\n00:04:45,730 --> 00:04:49,687\nwrites that are in process, if somebody\nis writing to the hard drive when I take\n\n91\n00:04:49,687 --> 00:04:54,230\nan image, if the system is online, that\npartial write is now a part of that image,\n\n92\n00:04:54,230 --> 00:04:58,370\nwhich means I basically have corrupt data\non my drive right from the beginning.\n\n93\n00:04:58,370 --> 00:05:00,690\nSo this is the downtime\nI was talking about.\n\n94\n00:05:00,690 --> 00:05:03,580\nThe server's got to get shut\ndown while we take the image.\n\n95\n00:05:03,580 --> 00:05:07,330\nAll right, and you'll see that\noption in here, this no reboot.\n\n96\n00:05:07,330 --> 00:05:09,160\nSee how it says if we turn this on,\n\n97\n00:05:09,160 --> 00:05:12,150\nAmazon won't shut the instance\ndown when it makes the image.\n\n98\n00:05:12,150 --> 00:05:16,180\nBut if you want a consistent image,\nyou really do need to shut it down.\n\n99\n00:05:16,180 --> 00:05:18,220\nSo I'm definitely not gonna choose that.\n\n100\n00:05:18,220 --> 00:05:21,200\nAnd I'm gonna create an image name,\nI'll just call it the web02 image.\n\n101\n00:05:21,200 --> 00:05:23,370\nAnd I could give it a description,\n\n102\n00:05:23,370 --> 00:05:26,660\nbut I'm not gonna keep this around very\nlong, so I'm not gonna bother with that.\n\n103\n00:05:26,660 --> 00:05:30,460\nAnd then it's cloning all\nthe settings of the existing machine,\n\n104\n00:05:30,460 --> 00:05:31,640\nthe amount of storage and so on.\n\n105\n00:05:31,640 --> 00:05:35,110\nIf I wanna change it, I could here,\nbut I'm not interested in changing it.\n\n106\n00:05:35,110 --> 00:05:36,980\nI just wanna move it over to a new place.\n\n107\n00:05:36,980 --> 00:05:41,110\nSo I'm gonna leave all that alone and\nhit Create Image.\n\n108\n00:05:41,110 --> 00:05:46,350\nNow, it's gonna shut that instance down,\ntake an image of it,\n\n109\n00:05:46,350 --> 00:05:48,360\nand then bring the instance back up.\n\n110\n00:05:48,360 --> 00:05:52,080\nAnd so if I sit here and refresh my\nscreen, I should see it go offline.\n\n111\n00:05:52,080 --> 00:05:55,610\nAnd I may not see it go offline,\nif it takes a snapshot and\n\n112\n00:05:55,610 --> 00:05:57,516\nbuilds it off of the snapshot.\n\n113\n00:05:57,516 --> 00:06:01,750\nSometimes if you're EBS-backed, it can\nuse snapshots to do the process, and\n\n114\n00:06:01,750 --> 00:06:03,430\nyou may not see the server go offline.\n\n115\n00:06:03,430 --> 00:06:04,750\nBut it almost always does.\n\n116\n00:06:04,750 --> 00:06:07,780\nIf I'm patient enough,\nI'll wait and it will show up.\n\n117\n00:06:07,780 --> 00:06:10,520\nBut if you go down under Snapshots,\nyou'll actually see it kind of in action.\n\n118\n00:06:10,520 --> 00:06:11,375\nThere's the snapshot.\n\n119\n00:06:11,375 --> 00:06:15,745\nAnd so it's actually grabbing a snapshot\nof this AMI which is web02, and\n\n120\n00:06:15,745 --> 00:06:17,600\nit's kind of in process.\n\n121\n00:06:17,600 --> 00:06:18,525\nSee how that one's pending?\n\n122\n00:06:18,525 --> 00:06:23,490\nAnd if I go under AMIs,\nhere I can see where\n\n123\n00:06:23,490 --> 00:06:26,878\nit's actually building that web02\nimage right now, all right.\n\n124\n00:06:26,878 --> 00:06:28,450\nNow it says pending.\n\n125\n00:06:28,450 --> 00:06:30,370\nIt's gotta take that server down.\n\n126\n00:06:30,370 --> 00:06:33,980\nIt's gotta take that snapshot and\nthen bring the server back up and\n\n127\n00:06:33,980 --> 00:06:36,210\nthen build the image from the snapshot.\n\n128\n00:06:36,210 --> 00:06:38,410\nAnd so I just have to wait for\nthat to happen.\n\n129\n00:06:38,410 --> 00:06:43,050\nBut once it's done,\nthis AMI will now be a clone of web02.\n\n130\n00:06:43,050 --> 00:06:44,880\nAll the settings,\n\n131\n00:06:44,880 --> 00:06:49,480\nall the configurations, everything that\nwas in web02, I've now got a clone.\n\n132\n00:06:49,480 --> 00:06:53,360\nThe nice thing is the original web02\nwill come back online after this, and\n\n133\n00:06:53,360 --> 00:06:56,540\nso we may not see much of\nan outage at all, right?\n\n134\n00:06:56,540 --> 00:06:58,300\nThat's the downtime that\nI was talking about,\n\n135\n00:06:58,300 --> 00:07:00,120\nthe amount of time it takes for\nthat to happen.\n\n136\n00:07:00,120 --> 00:07:02,370\nActually, it looks like\nthis AMI is already done.\n\n137\n00:07:02,370 --> 00:07:06,750\nMy server was only 8 GB of storage, so\nit wasn't much, so it's already done and\n\n138\n00:07:06,750 --> 00:07:07,270\navailable.\n\n139\n00:07:07,270 --> 00:07:08,650\nI can see the AMI there.\n\n140\n00:07:08,650 --> 00:07:13,120\nThat means my other instance should\nbe back online and functional, and so\n\n141\n00:07:13,120 --> 00:07:15,850\nI can jump over to my instances and\njust double-check.\n\n142\n00:07:15,850 --> 00:07:18,000\nYeah.\nWeb02 is up.\n\n143\n00:07:18,000 --> 00:07:20,625\nAnd did my name change not stay?\n\n144\n00:07:20,625 --> 00:07:24,650\n[LAUGH] See,\nit makes it easy to get them mixed up.\n\n145\n00:07:24,650 --> 00:07:28,960\nI've got my web02 back online and healthy,\nbut my name change didn't stick for\n\n146\n00:07:28,960 --> 00:07:29,490\nsome reason.\n\n147\n00:07:29,490 --> 00:07:33,790\nSo I'm gonna re-edit that again just\nto make sure I don't make a mistake.\n\n148\n00:07:35,930 --> 00:07:36,430\nThere we go.\n\n149\n00:07:37,980 --> 00:07:39,590\nRefresh to make sure that changed state.\n\n150\n00:07:40,850 --> 00:07:43,485\nMy name change does not want to stay.\n\n151\n00:07:45,550 --> 00:07:46,870\nMaybe it doesn't like that hyphen.\n\n152\n00:07:48,070 --> 00:07:50,200\nAlthough I use hyphens all the time,\nso I don't think that's it.\n\n153\n00:07:50,200 --> 00:07:51,610\nBut, all right, so\nwe'll put that in there.\n\n154\n00:07:51,610 --> 00:07:53,540\nSo now I've got my image.\n\n155\n00:07:53,540 --> 00:07:55,520\nThe important part is it's a clone.\n\n156\n00:07:55,520 --> 00:07:58,400\nAnd I can go down to my AMIs,\n\n157\n00:07:58,400 --> 00:08:03,250\nI can pick that image that we just took,\nand I can hit Launch.\n\n158\n00:08:03,250 --> 00:08:06,450\nThat's going to launch a new\ninstance built off of this image.\n\n159\n00:08:06,450 --> 00:08:10,030\nIn other words, we're going to\nlaunch a clone of the other AMI.\n\n160\n00:08:10,030 --> 00:08:13,370\nSo, I'll hit Launch, and it's gonna\nask if I want to change the hardware.\n\n161\n00:08:13,370 --> 00:08:16,630\nI'm going to leave it at\nthe hardware that it was already at.\n\n162\n00:08:16,630 --> 00:08:19,110\nIf you change the hardware,\nthat's fine, right.\n\n163\n00:08:19,110 --> 00:08:21,440\nIt will be resilient to that.\n\n164\n00:08:21,440 --> 00:08:22,940\nIt's a good time to upgrade if you want,\n\n165\n00:08:22,940 --> 00:08:24,500\nbut in my case,\nI don't want to upgrade the hardware.\n\n166\n00:08:24,500 --> 00:08:27,120\nI just want to launch it, right?\n\n167\n00:08:27,120 --> 00:08:30,310\nNow, I could hit Review and Launch,\nand it'll give me my summary and\n\n168\n00:08:30,310 --> 00:08:33,840\nI might need to change some things, but\non mine I do need to change one thing.\n\n169\n00:08:33,840 --> 00:08:36,516\nI need to change the zone that\nthis is gonna be launching in, and\n\n170\n00:08:36,516 --> 00:08:38,486\nif you look at your\ndifferent options up here,\n\n171\n00:08:38,486 --> 00:08:41,489\nyou'll see as you go through that\nyou get to pick where it's gonna be.\n\n172\n00:08:41,489 --> 00:08:44,634\nSo I'm gonna use the little\nNext button over here.\n\n173\n00:08:44,634 --> 00:08:47,450\nLet me resize this window so\nmy head's not covering it.\n\n174\n00:08:47,450 --> 00:08:51,370\nSo I'm gonna use this Next Configure\nbutton, and we'll run through because\n\n175\n00:08:51,370 --> 00:08:54,730\nhere's where I can pick the instances and\nthe subnets and so on.\n\n176\n00:08:54,730 --> 00:08:57,410\nAnd it's this subnet value\nthat picks our zone.\n\n177\n00:08:57,410 --> 00:08:58,370\nAll right.\nIt's kind\n\n178\n00:08:58,370 --> 00:09:01,220\nof confusing because you think there'll\nbe a zone drop-down, but there isn't.\n\n179\n00:09:01,220 --> 00:09:03,092\nIt's the subnet, the network.\n\n180\n00:09:03,092 --> 00:09:06,083\nAnd when you see that subnet and\ndrop it down,\n\n181\n00:09:06,083 --> 00:09:09,325\nsee how I've got subnets in 1A,\n1C, and 1D?\n\n182\n00:09:09,325 --> 00:09:11,517\nI can pick between them.\n\n183\n00:09:11,517 --> 00:09:14,050\nAnd I wanna move this one to 1D.\n\n184\n00:09:14,050 --> 00:09:18,270\nThat's what's gonna move this\ninstance to the other zone, to D.\n\n185\n00:09:18,270 --> 00:09:20,300\nSo I'm gonna choose that.\n\n186\n00:09:20,300 --> 00:09:23,200\nIf you're missing a subnet,\nyou can always hit Create New Subnet and\n\n187\n00:09:23,200 --> 00:09:26,020\nmake one, but for\nwhat I need it was already right there.\n\n188\n00:09:26,020 --> 00:09:27,070\nI'll choose it.\n\n189\n00:09:27,070 --> 00:09:29,000\nI'm not really gonna change anything else,\nright?\n\n190\n00:09:29,000 --> 00:09:30,300\nI don't want to modify the server.\n\n191\n00:09:30,300 --> 00:09:31,030\nI just want to move it.\n\n192\n00:09:31,030 --> 00:09:33,770\nSo that's the value that we want,\nis the subnet.\n\n193\n00:09:33,770 --> 00:09:36,300\nSo I'll go ahead and\nhit review and launch.\n\n194\n00:09:36,300 --> 00:09:38,040\nIt's asking me if I want\nto convert it to SSD.\n\n195\n00:09:38,040 --> 00:09:40,265\nI'm still using Magnetic on this one.\n\n196\n00:09:40,265 --> 00:09:42,970\nSSD, for a lot of people,\nis about the same price, so\n\n197\n00:09:42,970 --> 00:09:46,450\nthat's why Amazon is pushing it here,\nbut for me, I'll stick with Magnetic.\n\n198\n00:09:48,470 --> 00:09:52,240\nAnd it's warning me about my security\ngroup because it's using that default\n\n199\n00:09:52,240 --> 00:09:53,430\nsecurity group.\n\n200\n00:09:53,430 --> 00:09:56,410\nI can change that, though,\nto use one of my existing security groups,\n\n201\n00:09:56,410 --> 00:09:57,800\nand that's what I'll do.\n\n202\n00:09:57,800 --> 00:09:59,200\nI'm gonna edit that and\n\n203\n00:09:59,200 --> 00:10:03,560\nswitch to a different security group like\nmy web-host1 cuz that is a web host.\n\n204\n00:10:04,590 --> 00:10:05,470\nAll right.\n\n205\n00:10:05,470 --> 00:10:08,420\nSo now,\nwow it's really pushing that SSD isn't it?\n\n206\n00:10:08,420 --> 00:10:11,768\nSo now that should be all I need,\nand I can go ahead and hit Launch.\n\n207\n00:10:11,768 --> 00:10:14,970\nNow it's gonna spin up,\nwell after I pick my shared keys,\n\n208\n00:10:14,970 --> 00:10:16,868\nso I'll pick my share key there.\n\n209\n00:10:16,868 --> 00:10:21,890\nNow it's gonna spin up a new instance\nthat's effectively a clone of web02.\n\n210\n00:10:21,890 --> 00:10:26,260\nSo I have web02, I've now cloned it,\nbut this clone will have a different IP\n\n211\n00:10:26,260 --> 00:10:29,840\naddress, right, a different IP address so\nthey're not gonna bump into each other.\n\n212\n00:10:29,840 --> 00:10:31,700\nI don't have to sweat that, right.\n\n213\n00:10:31,700 --> 00:10:34,250\nBut what we do is we let it come up, and\n\n214\n00:10:34,250 --> 00:10:38,320\nonce it's up, if you have an elastic IP,\nyou can do this seamlessly.\n\n215\n00:10:38,320 --> 00:10:42,230\nIf you have an elastic IP,\nyou can just move the public IP\n\n216\n00:10:42,230 --> 00:10:46,690\nfrom the old node to the new node and\nyou're done, right?\n\n217\n00:10:46,690 --> 00:10:47,980\nVery straightforward.\n\n218\n00:10:47,980 --> 00:10:52,010\nIf you're using the Amazon dynamic IPs,\nthen you'll probably need to go and\n\n219\n00:10:52,010 --> 00:10:55,200\nupdate whatever CNAME you've got\nthat points to that server in DNS,\n\n220\n00:10:55,200 --> 00:10:57,080\nso it's a little bit trickier.\n\n221\n00:10:57,080 --> 00:10:59,320\nBut if you've got elastic IDs,\nthat's why they call them elastic,\n\n222\n00:10:59,320 --> 00:11:02,720\nwe can move them between zones,\nand it'll tackle that for us.\n\n223\n00:11:03,790 --> 00:11:05,380\nAll right, so\nit's launching that right now.\n\n224\n00:11:05,380 --> 00:11:12,140\nI'm gonna go back to my instances,\nand I've got my old web02 there.\n\n225\n00:11:12,140 --> 00:11:13,650\nFinally, my name change kicked in.\n\n226\n00:11:13,650 --> 00:11:16,100\nSo there's my old web02 right there,\n\n227\n00:11:16,100 --> 00:11:19,150\nand I'm gonna go ahead and\nedit this one to call it web02.\n\n228\n00:11:19,150 --> 00:11:24,817\nThis is my new web02, and\nmy new web02 is right there in us-east 1d.\n\n229\n00:11:24,817 --> 00:11:27,600\nI've moved it to the other zone.\n\n230\n00:11:27,600 --> 00:11:31,030\nBut I'm not done yet because this new\nserver, sure it's an exact clone,\n\n231\n00:11:31,030 --> 00:11:33,390\nit's got the exact software,\nthe exact same configuration,\n\n232\n00:11:33,390 --> 00:11:38,180\nit's exactly like the old one, except\nit's gonna have a different IP address.\n\n233\n00:11:38,180 --> 00:11:40,870\nAmazon doesn't want you to have\nduplicate IPs, so they change it.\n\n234\n00:11:40,870 --> 00:11:44,360\nSo my next step is gonna\nbe to move that elastic IP.\n\n235\n00:11:44,360 --> 00:11:47,445\nSo I'll go down here to my elastic IPs,\nand\n\n236\n00:11:47,445 --> 00:11:52,847\nI'll find the one attached to web02 old,\nand I'm gonna take that one and\n\n237\n00:11:52,847 --> 00:11:57,479\nI'm gonna disassociate it with web02 or\nwith old web02, so\n\n238\n00:11:57,479 --> 00:12:02,456\nit's gonna disassociate, and\nthen I'm gonna re-associate it and\n\n239\n00:12:02,456 --> 00:12:05,890\nattach it to the new web02 and, oh shoot.\n\n240\n00:12:05,890 --> 00:12:08,200\nThe new web02's not showing up yet, and\n\n241\n00:12:08,200 --> 00:12:11,380\nthe main reason it's not showing\nup is it's still spinning up.\n\n242\n00:12:11,380 --> 00:12:12,590\nIt hasn't finished.\n\n243\n00:12:12,590 --> 00:12:14,300\nSo if I go back, so I jumped the gun.\n\n244\n00:12:14,300 --> 00:12:17,730\nI shouldn't have removed that until I\nknew that instance was up and healthy.\n\n245\n00:12:17,730 --> 00:12:22,040\nIf we go back up here to our Instances,\nthis is my new web02 right here.\n\n246\n00:12:22,040 --> 00:12:25,420\nSee how it still says initializing\non the Status Checks?\n\n247\n00:12:25,420 --> 00:12:26,980\nI've got to wait until it's healthy, and\n\n248\n00:12:26,980 --> 00:12:29,880\nthen I'll be able to move\nthe IPs over to it, all right.\n\n249\n00:12:29,880 --> 00:12:34,140\nNow if I'm worried about down time I\nneed to wait until it goes healthy and\n\n250\n00:12:34,140 --> 00:12:35,670\nthen move the IP.\n\n251\n00:12:35,670 --> 00:12:38,740\nIn my case, I'm not really worried about\nit because users aren't hitting this.\n\n252\n00:12:38,740 --> 00:12:42,750\nI'm using load balancing, and web02 has\nbeen pulled out of the load balance pool.\n\n253\n00:12:42,750 --> 00:12:45,350\nSo I'm not really worried about\nthe downtime on this one, so I can go and\n\n254\n00:12:45,350 --> 00:12:47,690\nstart to do some of my other\nwork while I'm waiting.\n\n255\n00:12:47,690 --> 00:12:50,780\nThis one is initializing, but\nI can go and clean up my mess.\n\n256\n00:12:50,780 --> 00:12:51,894\nI've got that AMI.\n\n257\n00:12:51,894 --> 00:12:54,925\nI don't need the AMI anymore,\nso I can remove it.\n\n258\n00:12:54,925 --> 00:12:58,805\nI can just go and right-click on it and\nchoose Deregister, and\n\n259\n00:12:58,805 --> 00:13:00,175\nthat'll get rid of that AMI.\n\n260\n00:13:00,175 --> 00:13:01,535\nI don't wanna keep it around.\n\n261\n00:13:01,535 --> 00:13:03,335\nI'm not gonna make more web02s.\n\n262\n00:13:03,335 --> 00:13:04,805\nI just needed to get rid of this one.\n\n263\n00:13:06,095 --> 00:13:08,603\nNow, if it does what mine just did,\nsee how it's still there?\n\n264\n00:13:08,603 --> 00:13:10,820\nIf I hit Refresh, it's still there.\n\n265\n00:13:10,820 --> 00:13:13,510\nThat means that theres something\ndependent on it, something attached.\n\n266\n00:13:13,510 --> 00:13:14,890\nI forgot about my snapshot.\n\n267\n00:13:14,890 --> 00:13:19,150\nIf I go down to my Snapshots, theres the\nsnapshot it made during that process, and\n\n268\n00:13:19,150 --> 00:13:21,621\nI need to get rid of that snapshot,\nso Ill delete it.\n\n269\n00:13:21,621 --> 00:13:23,340\nAll right.\n\n270\n00:13:23,340 --> 00:13:29,120\nNow the snapshots gone, I can go back\nto my AMIs, and its still there.\n\n271\n00:13:29,120 --> 00:13:30,410\nSometimes itll go away on its own.\n\n272\n00:13:30,410 --> 00:13:31,880\nSometimes you have to deregister it again.\n\n273\n00:13:31,880 --> 00:13:36,000\nSo Ill do another deregister,\nand oh, I got an error, good.\n\n274\n00:13:36,000 --> 00:13:38,845\nSo I'm getting an error here just\nletting me know that it had a problem\n\n275\n00:13:38,845 --> 00:13:42,170\nderegistering, and that usually means\nthat it's already deregistered.\n\n276\n00:13:42,170 --> 00:13:45,100\nSo if I just wait,\nit'll disappear on its own eventually.\n\n277\n00:13:46,290 --> 00:13:49,830\nAll right, so now,\nonce my instance is healthy,\n\n278\n00:13:49,830 --> 00:13:53,582\nwhich is apparently taking a while,\nwe'll be able to move that IP over.\n\n279\n00:13:53,582 --> 00:13:54,410\nAll right.\n\n280\n00:13:54,410 --> 00:13:57,670\nSo web02 old won't be necessary anymore.\n\n281\n00:13:57,670 --> 00:14:01,840\nAnd I've already unassociated the address,\nso I can take web02 and just delete it.\n\n282\n00:14:01,840 --> 00:14:03,580\nI don't need it anymore.\n\n283\n00:14:03,580 --> 00:14:05,000\nSo I'll terminate that instance.\n\n284\n00:14:06,140 --> 00:14:07,030\nAll right.\n\n285\n00:14:07,030 --> 00:14:08,140\nAnd I'm gonna go ahead and\nsay Yes to that.\n\n286\n00:14:08,140 --> 00:14:09,980\nSo that's gonna terminate the old web02.\n\n287\n00:14:09,980 --> 00:14:14,850\nAnd the last thing I need to do is attach\nweb02, the new web02's IP address.\n\n288\n00:14:14,850 --> 00:14:19,920\nAnd if I'm doing a load balancing pool, I\ncan just add that back to the pool, or if\n\n289\n00:14:19,920 --> 00:14:24,250\nI'm doing something else, you know I can\njust go in and start to use that system.\n\n290\n00:14:24,250 --> 00:14:26,270\nSo we'll see if it'll let me assign this.\n\n291\n00:14:26,270 --> 00:14:29,370\nI don't wanna sit here and\njust wait for this last IP assignment.\n\n292\n00:14:29,370 --> 00:14:31,750\nYou guys at this point have\nprobably seen elastic IPs enough.\n\n293\n00:14:33,180 --> 00:14:37,520\nBut we'll try and associate that just so\nwe can be complete.\n\n294\n00:14:37,520 --> 00:14:38,310\nAnd there's web02.\n\n295\n00:14:38,310 --> 00:14:41,790\nSo I'm gonna go ahead and assign that.\n\n296\n00:14:41,790 --> 00:14:42,996\nAnd I'll associate it.\n\n297\n00:14:45,515 --> 00:14:46,480\nAll right.\n\n298\n00:14:46,480 --> 00:14:47,758\nSo now it's associated with web02.\n\n299\n00:14:47,758 --> 00:14:51,240\nI can double-check just to make\nsure I didn't make a mistake and\n\n300\n00:14:51,240 --> 00:14:55,535\ngo back into Instances and\njust make sure that the new\n\n301\n00:14:55,535 --> 00:15:00,300\nweb02 actually has that IP, and I could\nsee that it's a clickable link there, so\n\n302\n00:15:00,300 --> 00:15:02,020\nyeah, I do know that\nI've got the right IP.\n\n303\n00:15:02,020 --> 00:15:07,160\nSo now, web02 is up and\noperating in this new zone, and off I go.\n\n304\n00:15:07,160 --> 00:15:10,360\nSo a little bit of downtime, but\nit didn't take very long, right?\n\n305\n00:15:10,360 --> 00:15:14,250\nMaybe ten minutes to do that move,\nand now we're in a new zone.\n\n306\n00:15:14,250 --> 00:15:15,560\nLike I mentioned in\nthe beginning of the segment,\n\n307\n00:15:15,560 --> 00:15:18,920\nyou could use third-party software, and\nit kind of automates this process and\n\n308\n00:15:18,920 --> 00:15:21,730\nensures that it all kind of steps\nthrough without your interaction.\n\n309\n00:15:21,730 --> 00:15:24,070\nThat's the benefit of\nsoftware packages like that.\n\n310\n00:15:24,070 --> 00:15:26,100\nBut you don't need third-party\nsoftware to do it.\n\n311\n00:15:26,100 --> 00:15:26,900\nYou can do it yourself here.\n\n312\n00:15:26,900 --> 00:15:28,750\nYou can even do it through the API, so\n\n313\n00:15:28,750 --> 00:15:32,070\nif you want to schedule this to be\nautomated, you can do it that way, too.\n\n314\n00:15:32,070 --> 00:15:34,860\nBut now that it's done, I can go and\nstart to do really cool stuff.\n\n315\n00:15:34,860 --> 00:15:38,820\nRight like throw in this extra zone\ninto my load balancer and all that and\n\n316\n00:15:38,820 --> 00:15:40,380\nstart to improve that performance.\n\n317\n00:15:40,380 --> 00:15:43,936\nSo those are the things we can\ndo when we move our images or\n\n318\n00:15:43,936 --> 00:15:46,002\ninstances in-between zones.\n\n319\n00:15:46,002 --> 00:15:49,360\nAll right, so in this segment\nwe got a change to see that,\n\n320\n00:15:49,360 --> 00:15:53,910\nhow to take an instance and image it,\nredeploy it to a new zone, and\n\n321\n00:15:53,910 --> 00:15:56,860\nwipe out the original image, and\ndo it with as little downtime as possible,\n\n322\n00:15:56,860 --> 00:16:00,240\nas we go and correct, I shouldn't say\ncorrect, it may not have been a bad\n\n323\n00:16:00,240 --> 00:16:03,110\ndecision before it may have been\na perfectly fine decision before, but\n\n324\n00:16:03,110 --> 00:16:05,440\njust something we need to change now,\nall right.\n\n325\n00:16:05,440 --> 00:16:07,880\nSo not too terrible of a process.\n\n326\n00:16:07,880 --> 00:16:09,600\nAll right,\nI hope you guys enjoyed this segment.\n\n327\n00:16:09,600 --> 00:16:12,360\nStay tuned, we've got more\nAmazon web services coming up.\n\n",
          "vimeoId": "109458637"
        },
        {
          "description": "",
          "length": "1311",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/019-DNS-With-Route-53.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/019-DNS-With-Route-53-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/019-DNS-With-Route-53-sm.jpg",
          "title": "DNS With Route 53",
          "transcript": "1\n00:00:00,063 --> 00:00:04,962\n[MUSIC]\n\n2\n00:00:07,666 --> 00:00:11,440\nIn this segment, we're gonna take\na look at the Route 53 service.\n\n3\n00:00:11,440 --> 00:00:14,020\nIt's a part of Amazon Web Services.\n\n4\n00:00:14,020 --> 00:00:17,670\nRoute 53 is AWS's hosted DNS service.\n\n5\n00:00:17,670 --> 00:00:21,120\nSo, if you have DNS zones,\nyou've got to host them somewhere.\n\n6\n00:00:21,120 --> 00:00:23,290\nMight as well host them with Amazon,\nright?\n\n7\n00:00:23,290 --> 00:00:27,160\nWell, I know that sounds kind of silly,\nlike, if we've already got DNS servers out\n\n8\n00:00:27,160 --> 00:00:29,890\nthere with some registrar,\nwhy not leave them there?\n\n9\n00:00:29,890 --> 00:00:31,940\nAnd for most people,\nthat's perfectly fine.\n\n10\n00:00:31,940 --> 00:00:36,500\nWhatever registrar you're using is more\nthan likely got redundant DNS servers,\n\n11\n00:00:36,500 --> 00:00:38,010\nhave them geolocated, and\n\n12\n00:00:38,010 --> 00:00:42,000\nall of that, to provide the best\nlookup capabilities possible.\n\n13\n00:00:42,000 --> 00:00:46,090\nBut what you'll find is that a lot\nof DNS providers that are out there,\n\n14\n00:00:46,090 --> 00:00:50,260\na lot of registrars have limits\nto what you can configure.\n\n15\n00:00:50,260 --> 00:00:53,700\nA great example would be\nlike the ITProTV.net domain.\n\n16\n00:00:53,700 --> 00:00:55,255\nI've been using this whole series.\n\n17\n00:00:55,255 --> 00:01:01,370\nITProTV.net, I registered that with\na company called Hover, hover.com.\n\n18\n00:01:01,370 --> 00:01:02,620\nAnd they're a great company.\n\n19\n00:01:02,620 --> 00:01:06,840\nI really like to do business with them,\nbut they don't let you do subdomains.\n\n20\n00:01:06,840 --> 00:01:09,470\nAnd, they don't let you\nadjust your time to live.\n\n21\n00:01:09,470 --> 00:01:12,310\nThose are limits to\nwhat you can configure.\n\n22\n00:01:12,310 --> 00:01:13,770\nSubdomains are a big part.\n\n23\n00:01:13,770 --> 00:01:17,610\nA lot of the big providers like\nGoDaddy won't let you do subdomains.\n\n24\n00:01:17,610 --> 00:01:20,480\nIf you wanna do subdomains,\nyou've gotta set up your own DNS servers.\n\n25\n00:01:20,480 --> 00:01:25,300\nIf you're setting up your own DNS servers,\nnow you gotta worry about redundancy.\n\n26\n00:01:25,300 --> 00:01:27,140\nWhat if your DNS server fails?\n\n27\n00:01:27,140 --> 00:01:31,060\nAll of a sudden,\naccess to all of your services is gone.\n\n28\n00:01:31,060 --> 00:01:33,330\nPeople can't look up the IP to get there.\n\n29\n00:01:33,330 --> 00:01:34,280\nThe servers might be up and\n\n30\n00:01:34,280 --> 00:01:38,340\nhappy, but people can't get to them\nbecause the name is not resolving.\n\n31\n00:01:38,340 --> 00:01:39,980\nRoute 53 solves that.\n\n32\n00:01:39,980 --> 00:01:46,310\nYou can take your DNS domain and\nhost it right in Amazon's DNS servers.\n\n33\n00:01:46,310 --> 00:01:48,790\nIf Amazon goes down, well,\nyour servers are down there too.\n\n34\n00:01:48,790 --> 00:01:51,290\nSo, it doesn't necessarily\nmatter at that point.\n\n35\n00:01:51,290 --> 00:01:55,740\nBut they've got a highly redundant\nmultiple GO located system\n\n36\n00:01:55,740 --> 00:01:59,320\nwith DNS servers all over the planet\nto be able to make your systems\n\n37\n00:01:59,320 --> 00:02:00,590\nas redundant as possible.\n\n38\n00:02:00,590 --> 00:02:04,910\nAnd we'll see there's actually some neat\nintegrations that we get too by having\n\n39\n00:02:04,910 --> 00:02:07,910\nthe domain hosted on Amazon services.\n\n40\n00:02:07,910 --> 00:02:11,110\nThere's a few little bells and\nwhistles that we get out of it.\n\n41\n00:02:11,110 --> 00:02:11,880\nLet's take a look.\n\n42\n00:02:13,010 --> 00:02:16,220\nI'm just jumping over here to my\nAmazon web services console, and\n\n43\n00:02:16,220 --> 00:02:20,310\nin the console right here under Compute\nand Networking, we'll see Route 53.\n\n44\n00:02:20,310 --> 00:02:22,880\nIt's one of the few ones\nwe haven't used yet.\n\n45\n00:02:22,880 --> 00:02:26,940\nWhen you go into Route 53, this is\nthe scalable domain name system is their\n\n46\n00:02:26,940 --> 00:02:30,870\nhighly redundant and\nvery efficient domain naming system.\n\n47\n00:02:30,870 --> 00:02:32,700\nNow, if you already have a zone,\n\n48\n00:02:32,700 --> 00:02:34,820\nwhen you'll log in here you'll\nsee something different.\n\n49\n00:02:34,820 --> 00:02:38,180\nBut when you're just getting started,\nyou get the welcome screen.\n\n50\n00:02:38,180 --> 00:02:42,540\nAnd what most of us will wanna do is hit\nthis DNS management to get started now.\n\n51\n00:02:42,540 --> 00:02:43,600\nAll right.\n\n52\n00:02:43,600 --> 00:02:47,020\nThat's where we jump in and\nwe start to create our DNS zones.\n\n53\n00:02:47,020 --> 00:02:50,740\nBut if you don't have a domain yet,\nmaybe you wanna buy a domain.\n\n54\n00:02:50,740 --> 00:02:52,420\nYou can actually buy\nthe domain from Amazon.\n\n55\n00:02:52,420 --> 00:02:54,490\nYou just have to scroll down a bit and\nit's down here.\n\n56\n00:02:54,490 --> 00:02:57,750\nYou can do domain registration and\nyou can purchase a domain.\n\n57\n00:02:57,750 --> 00:03:00,860\nThey actually resell for\na couple of other registrars, and\n\n58\n00:03:00,860 --> 00:03:02,190\nyou can buy it right there.\n\n59\n00:03:02,190 --> 00:03:04,540\nWell, I've already got a domain,\nitprotv.net.\n\n60\n00:03:04,540 --> 00:03:06,730\nI wanna host that right here.\n\n61\n00:03:06,730 --> 00:03:11,250\nSo up top, I'm just gonna go here to\ngetting started for DNS management.\n\n62\n00:03:11,250 --> 00:03:14,950\nAnd that's gonna take us into\nthe actual administration tool.\n\n63\n00:03:14,950 --> 00:03:16,100\nIf you already had a zone,\n\n64\n00:03:16,100 --> 00:03:19,090\nthis is what you would have gotten\nwhen you first clicked on Route 53.\n\n65\n00:03:19,090 --> 00:03:22,550\nAnd what I'm looking at\nhere are my hosted zones.\n\n66\n00:03:22,550 --> 00:03:24,370\nWhat zones am I hosting?\n\n67\n00:03:24,370 --> 00:03:29,400\nWhen you have a domain name\nlike itprotv.net or google.com,\n\n68\n00:03:29,400 --> 00:03:34,540\nthose are domain names and\nthey're hosted on what's called a Zone.\n\n69\n00:03:34,540 --> 00:03:35,810\nZones are redundant.\n\n70\n00:03:35,810 --> 00:03:40,250\nThey can be replicated across multiple\nDNS servers by doing zone transfers.\n\n71\n00:03:40,250 --> 00:03:41,750\nThat's how we get redundancy.\n\n72\n00:03:41,750 --> 00:03:44,310\nSo the DNS terminology's\na little bit weird.\n\n73\n00:03:44,310 --> 00:03:47,270\nA zone usually corresponds\nto a domain name.\n\n74\n00:03:47,270 --> 00:03:50,520\nBut a zone coul correspond\nto a subdomain name.\n\n75\n00:03:50,520 --> 00:03:55,550\nI might have a development..ITProTV.net,\nright?\n\n76\n00:03:55,550 --> 00:03:57,510\nIt's not the parent domain,\nit's a child of it.\n\n77\n00:03:57,510 --> 00:03:59,920\nIt's a sub.\nAnd then, this other host underneath that.\n\n78\n00:03:59,920 --> 00:04:03,070\nSo I might have a zone just for\nthat subdomain.\n\n79\n00:04:03,070 --> 00:04:04,920\nI can come in here and create it.\n\n80\n00:04:04,920 --> 00:04:05,650\nAll right.\n\n81\n00:04:05,650 --> 00:04:10,270\nSo I'll go ahead and choose to create that\nhosted zone, and we're gonna even specify.\n\n82\n00:04:10,270 --> 00:04:13,550\nNow I don't know why it does this to me,\nbut every time I hit that created zone,\n\n83\n00:04:13,550 --> 00:04:15,370\nit changes the screen and\nthen it just sits there.\n\n84\n00:04:15,370 --> 00:04:17,690\nI always have to click on it twice.\n\n85\n00:04:17,690 --> 00:04:21,580\nThat may just be me, but\nif it happens to you, just expect it, and\n\n86\n00:04:21,580 --> 00:04:23,020\nclick on it a second time.\n\n87\n00:04:23,020 --> 00:04:26,040\nAnd you'll get this box over here\nwhere you can create the zone.\n\n88\n00:04:26,040 --> 00:04:28,540\nI'm gonna put in the name and\nwe'll do itprotv.net.\n\n89\n00:04:28,540 --> 00:04:29,690\nAll right.\n\n90\n00:04:29,690 --> 00:04:31,110\nSo, I'll just punch that in there.\n\n91\n00:04:31,110 --> 00:04:34,100\nYou can give a comment if you\nwant to remember what it is, or\n\n92\n00:04:34,100 --> 00:04:37,240\nwhat we're doing, and then you can hit\nthe Create button down at the bottom.\n\n93\n00:04:38,660 --> 00:04:40,390\nAll right.\nOnce it's created, we're done,\n\n94\n00:04:40,390 --> 00:04:41,810\nwe walk away, right.\n\n95\n00:04:41,810 --> 00:04:43,210\nWell, not quite.\n\n96\n00:04:43,210 --> 00:04:45,350\nThe zone that it creates is empty.\n\n97\n00:04:46,380 --> 00:04:51,060\nInside of DNS, there's really only\ntwo records you have to have.\n\n98\n00:04:51,060 --> 00:04:55,130\nThere's what's called a Start\nof Authority and a Name Server.\n\n99\n00:04:55,130 --> 00:04:58,780\nThe start of authority is who's\nin charge of that domain,\n\n100\n00:04:58,780 --> 00:05:01,640\nwho is it that's responsible for\nit, and well, it's us.\n\n101\n00:05:01,640 --> 00:05:03,120\nWell, it's Amazon now.\n\n102\n00:05:03,120 --> 00:05:05,110\nThey're the ones responsible for\nthat domain.\n\n103\n00:05:05,110 --> 00:05:06,630\nAnd the second thing is the name server.\n\n104\n00:05:06,630 --> 00:05:09,870\nWe need at least one DNS\nserver that can do the lookup.\n\n105\n00:05:09,870 --> 00:05:11,540\nThat's the bare minimum.\n\n106\n00:05:11,540 --> 00:05:14,010\nAnd when you create a zone,\nit made that for us.\n\n107\n00:05:14,010 --> 00:05:16,270\nSee how the record set count shows two?\n\n108\n00:05:16,270 --> 00:05:20,810\nIf I hit Go to Record Sets,\nI can see the records inside of it.\n\n109\n00:05:20,810 --> 00:05:23,360\nAnd there's my start of authority and\nthere's my name server.\n\n110\n00:05:23,360 --> 00:05:25,370\nIt made the bare minimum.\n\n111\n00:05:25,370 --> 00:05:30,980\nNow the start of authority is Amazon and\nthe NS, the name server,\n\n112\n00:05:30,980 --> 00:05:34,450\nis, well, more than one, they went\nahead and put in four different ones.\n\n113\n00:05:34,450 --> 00:05:36,310\nThis is all about redundancy.\n\n114\n00:05:36,310 --> 00:05:36,900\nThat's what we want.\n\n115\n00:05:38,840 --> 00:05:40,910\nRight now, if you were to try and\n\n116\n00:05:40,910 --> 00:05:46,040\ngo to itprotv.net,\nit's not gonna resolve out of this.\n\n117\n00:05:46,040 --> 00:05:48,840\nJust because I set it here,\nthat Amazon's responsible for\n\n118\n00:05:48,840 --> 00:05:51,720\nit, the rest of the world\ndoesn't know that.\n\n119\n00:05:51,720 --> 00:05:54,390\nI registered this with\na different provider.\n\n120\n00:05:54,390 --> 00:05:57,930\nI need to go to that other provider,\nand in my case, www.hover.com.\n\n121\n00:05:57,930 --> 00:06:03,270\nI need to go to them and change the name\nservers there to point to here.\n\n122\n00:06:03,270 --> 00:06:05,240\nI need to redirect my domain.\n\n123\n00:06:05,240 --> 00:06:07,460\nOr I need to transfer the domain in,\n\n124\n00:06:07,460 --> 00:06:11,700\nlike actually move it over to Amazon\nwhich is not the easiest thing to do.\n\n125\n00:06:11,700 --> 00:06:14,120\nSo normally, we'd just go and\nchange those NS records.\n\n126\n00:06:14,120 --> 00:06:15,100\nSo you may need to go and\n\n127\n00:06:15,100 --> 00:06:18,470\ndo that with your original register\nto point the NS records to here.\n\n128\n00:06:18,470 --> 00:06:22,090\nAnd you do that just by editing\nthe NS records to that domain and\n\n129\n00:06:22,090 --> 00:06:23,520\nchanging into all these values.\n\n130\n00:06:23,520 --> 00:06:26,090\nAll right.\nThe values that you get listed right here.\n\n131\n00:06:26,090 --> 00:06:31,660\nThen, when the rest of the world goes to\ndo a look up, they'll see these values and\n\n132\n00:06:31,660 --> 00:06:35,200\nit will send them to Amazon and\nit will do the look ups right here.\n\n133\n00:06:36,340 --> 00:06:40,490\nBut after that,\nthere's not really much else here, right?\n\n134\n00:06:40,490 --> 00:06:43,000\nWhat about www.itprotv.net?\n\n135\n00:06:43,000 --> 00:06:46,140\nWhat about all those other\nentries that I might need?\n\n136\n00:06:46,140 --> 00:06:48,130\nWell, you've got to get them in there.\n\n137\n00:06:48,130 --> 00:06:50,750\nAnd you could go and\nmanually create them if you wanted.\n\n138\n00:06:50,750 --> 00:06:55,020\nYou could go up here to create record\nset and you can start to punch them in.\n\n139\n00:06:55,020 --> 00:07:00,940\nSo, I might have a server\ncalled web01.ITprotv.net.\n\n140\n00:07:00,940 --> 00:07:05,570\nAnd I can say that it's an IPv4 address,\nand I can punch in that value right here.\n\n141\n00:07:05,570 --> 00:07:07,072\nLet me re-size this real quick.\n\n142\n00:07:07,072 --> 00:07:08,160\nAll right.\n\n143\n00:07:08,160 --> 00:07:10,920\nSo, I can punch that in and\nI can say, well, that guy is,\n\n144\n00:07:10,920 --> 00:07:13,490\nwhatever its IP address is.\n\n145\n00:07:13,490 --> 00:07:16,260\nWe'll just say it's 192.168.0.5.\n\n146\n00:07:16,260 --> 00:07:16,940\nOkay.\n\n147\n00:07:16,940 --> 00:07:19,130\nThat's a private IP,\nyou'd normally use a public one, right.\n\n148\n00:07:19,130 --> 00:07:21,780\nSo we punch that value in there.\n\n149\n00:07:21,780 --> 00:07:23,550\nYou can specify your time to live,\n\n150\n00:07:23,550 --> 00:07:26,290\nthat's how long people\nare allowed to cash this for.\n\n151\n00:07:26,290 --> 00:07:27,990\nIt's set to five minutes by default, but\n\n152\n00:07:27,990 --> 00:07:33,080\nyou can drop it down to one minute, minute\nup to one day, or you can custom enter it.\n\n153\n00:07:33,080 --> 00:07:35,570\nThey give you that full capability.\n\n154\n00:07:35,570 --> 00:07:38,540\nYou can also specify other\nthings like your routing policy.\n\n155\n00:07:38,540 --> 00:07:41,330\nWhen people go to do look ups against\nthis, where is it going to come from?\n\n156\n00:07:41,330 --> 00:07:45,600\nAnd we'll normally do simple,\npeople do a query and it returns one IP.\n\n157\n00:07:45,600 --> 00:07:48,878\nBut you could put more\nthan one IP in here.\n\n158\n00:07:48,878 --> 00:07:53,473\nIf I want to do what's called Round Robin\nDNS, I could put more than one IP, and\n\n159\n00:07:53,473 --> 00:07:56,402\nwhen somebody asks for web01.itprotv.net,\n\n160\n00:07:56,402 --> 00:08:01,088\nThe first person will get this answer,\nthe second person will get this answer.\n\n161\n00:08:01,088 --> 00:08:04,360\nAnd it'll rotate back and\nforth between those two.\n\n162\n00:08:05,360 --> 00:08:08,810\nIt's like poor man's load balancing.\n\n163\n00:08:08,810 --> 00:08:11,780\nYou'd be much better off using\nan elastic load balancer.\n\n164\n00:08:11,780 --> 00:08:16,125\nThe problem with round robin DNS is it\ndoesn't know if one of those hosts fails.\n\n165\n00:08:16,125 --> 00:08:22,270\nIf .5 fails but .6 is still up, 50% of\nyour people are going to the dead server.\n\n166\n00:08:22,270 --> 00:08:25,040\nSo round robin DNS,\nnot the greatest in the world.\n\n167\n00:08:25,040 --> 00:08:28,680\nELB, right, fire up an elastic load\nbalancer, that'll take care of that.\n\n168\n00:08:28,680 --> 00:08:30,720\nBut you can go down here\nto this routing policy and\n\n169\n00:08:30,720 --> 00:08:32,310\nyou can see where you can change things.\n\n170\n00:08:32,310 --> 00:08:34,500\nYou could do Failover, for example.\n\n171\n00:08:34,500 --> 00:08:37,930\nAnd with failover, that would say\nalways use the first address.\n\n172\n00:08:37,930 --> 00:08:42,370\nUnless it fails, then use the second one,\nthen return that second one.\n\n173\n00:08:42,370 --> 00:08:46,720\nOr you could say Simple,\nwhich is to bounce between the two.\n\n174\n00:08:46,720 --> 00:08:49,530\nYou can go to Geolocation.\n\n175\n00:08:49,530 --> 00:08:53,010\nAnd then what'll happen is, when somebody\ndoes a lookup, based on the geographical\n\n176\n00:08:53,010 --> 00:08:57,300\nlocation of their IP, it'll return\nwhichever of these IP's is closer to them.\n\n177\n00:08:57,300 --> 00:09:00,140\nA lot of neat ways to influence\nthe information they get back.\n\n178\n00:09:00,140 --> 00:09:04,110\nAnd that goes well beyond what a lot of\nthe other DNS servers out there provide,\n\n179\n00:09:04,110 --> 00:09:05,210\nall right?\n\n180\n00:09:05,210 --> 00:09:07,550\nSo you can pick and\nchoose how you wanna go about that.\n\n181\n00:09:07,550 --> 00:09:11,140\nI'm gonna cut that down to one and\njust go simple this time, all right?\n\n182\n00:09:11,140 --> 00:09:13,280\nSo I'll punch that in and hit Create.\n\n183\n00:09:13,280 --> 00:09:15,250\nNow I've got a record, all right?\n\n184\n00:09:15,250 --> 00:09:19,590\nWell, I mentioned that I\nalready have a DNS service.\n\n185\n00:09:19,590 --> 00:09:22,810\nI already have it through hover.com, and\nI've already got my zone created there.\n\n186\n00:09:22,810 --> 00:09:25,990\nSo I don't want to have to\nenter all these in manually.\n\n187\n00:09:25,990 --> 00:09:27,380\nFortunately, we don't have to.\n\n188\n00:09:27,380 --> 00:09:30,340\nWe can just import them\nfrom our existing provider.\n\n189\n00:09:30,340 --> 00:09:33,810\nDNS files follow a standardized format,\nand so\n\n190\n00:09:33,810 --> 00:09:38,440\nyou can import a zone file from your\nprevious vendor, if you have one.\n\n191\n00:09:38,440 --> 00:09:40,450\nSo you can go in and do that.\n\n192\n00:09:40,450 --> 00:09:43,550\nNow, it's not gonna let me do that now\nbecause I've already created a record.\n\n193\n00:09:43,550 --> 00:09:46,210\nBut had I not done that,\nI would have import zone file and\n\n194\n00:09:46,210 --> 00:09:47,430\nI could import it right in.\n\n195\n00:09:47,430 --> 00:09:48,270\nI've got a sample.\n\n196\n00:09:48,270 --> 00:09:50,305\nLet me show you a zone file.\n\n197\n00:09:50,305 --> 00:09:52,770\nHere, so this is what they look like.\n\n198\n00:09:52,770 --> 00:09:54,690\nIt's not the easiest thing to read, but\n\n199\n00:09:54,690 --> 00:09:59,660\nit shows things like your default time\nto live, where your server's hosted now,\n\n200\n00:09:59,660 --> 00:10:03,310\nwho your name servers are,\nyour mail servers, your A records.\n\n201\n00:10:03,310 --> 00:10:07,670\nAnd you can just import this right in, and\nit'll create all of these entries for you.\n\n202\n00:10:07,670 --> 00:10:10,700\nPops them right into the system,\nand you're ready to rock.\n\n203\n00:10:10,700 --> 00:10:12,350\nSo if you wanna do that,\nyou do it right away.\n\n204\n00:10:12,350 --> 00:10:17,120\nTo import that and get it ready to go.\n\n205\n00:10:20,080 --> 00:10:23,230\nOkay, so\nthat's my hosted zone right there.\n\n206\n00:10:23,230 --> 00:10:25,950\nI've got my records, I can start\ncreating more, punching them in, and\n\n207\n00:10:25,950 --> 00:10:26,586\ngetting what I need.\n\n208\n00:10:26,586 --> 00:10:30,705\nWell, that's exciting, right, we've\ngot a lot of extra functionality here,\n\n209\n00:10:30,705 --> 00:10:31,840\nthat's neat.\n\n210\n00:10:31,840 --> 00:10:34,680\nWe can start to create\nsubdomains if we want.\n\n211\n00:10:34,680 --> 00:10:36,510\nI've got ITProTV.net right here.\n\n212\n00:10:36,510 --> 00:10:38,560\nIf I want to create a subdomain.\n\n213\n00:10:38,560 --> 00:10:40,830\nWell, when you do Create Record Set,\nunder Type,\n\n214\n00:10:40,830 --> 00:10:45,810\nthere's all sorts of choices here,\nbut subdomain isn't one of them.\n\n215\n00:10:45,810 --> 00:10:47,330\nThat's not a choice for me.\n\n216\n00:10:47,330 --> 00:10:49,810\nI can do aliases or CNAMES.\n\n217\n00:10:49,810 --> 00:10:53,050\nI've got text records, pointer records,\nwhich are reverse lookups.\n\n218\n00:10:53,050 --> 00:10:54,965\nI've got all sorts of\ndifferent choices here.\n\n219\n00:10:54,965 --> 00:10:57,315\nBut I don't really have anything for\na subdomain.\n\n220\n00:10:57,315 --> 00:11:00,595\nAnd that's because you really\ncreate a subdomain as its own zone.\n\n221\n00:11:00,595 --> 00:11:03,515\nYou would go back to your hosted zones,\nand\n\n222\n00:11:03,515 --> 00:11:06,595\nyou would create an all new hosted zone.\n\n223\n00:11:06,595 --> 00:11:12,000\nAnd so\nI might create development.itprotv.net and\n\n224\n00:11:12,000 --> 00:11:16,600\nthat's gonna get created, and now I've\ngot that as its own separate zone.\n\n225\n00:11:16,600 --> 00:11:18,800\nYou can define separate name servers,\nseparate records,\n\n226\n00:11:18,800 --> 00:11:20,190\nseparate everything for that.\n\n227\n00:11:20,190 --> 00:11:24,540\nAnd you start to create them,\nagain, on Amazon's redundant cloud.\n\n228\n00:11:24,540 --> 00:11:25,110\nReally neat stuff.\n\n229\n00:11:26,250 --> 00:11:28,800\nThe other advantage of\nhaving this stuff inside of\n\n230\n00:11:28,800 --> 00:11:33,380\nAmazon Web Services is the integration\nwith the other AWS services.\n\n231\n00:11:33,380 --> 00:11:36,090\nFor example, when I add a new A record,\n\n232\n00:11:36,090 --> 00:11:40,520\nlets say my web server is actually\nhosted on a load balancer.\n\n233\n00:11:40,520 --> 00:11:43,470\nSo I got an elastic load balancer set up,\nand\n\n234\n00:11:43,470 --> 00:11:48,490\nbehind Ive got 1 server, or 10 servers,\nor 50 servers, right, a bunch of them.\n\n235\n00:11:48,490 --> 00:11:53,330\nSo I wanna create an entry that\nwill map to that load balancer.\n\n236\n00:11:53,330 --> 00:11:54,930\nWell, if you watched\nthe load balancer episode,\n\n237\n00:11:54,930 --> 00:11:57,650\nI showed you guys where you could\ndo what was called a CNAME.\n\n238\n00:11:57,650 --> 00:12:00,214\nEvery load balancer, let me go get mine,\n\n239\n00:12:00,214 --> 00:12:03,451\nevery load balancer that\nyou create has a DNS alias.\n\n240\n00:12:03,451 --> 00:12:08,730\nSo I'm just gonna go here into my load\nbalancers, let me find that, right there.\n\n241\n00:12:08,730 --> 00:12:11,810\nSo here's my web load balancer\nthat I made in another show,\n\n242\n00:12:11,810 --> 00:12:16,840\nand it's got this nice big, long DNS name.\n\n243\n00:12:16,840 --> 00:12:22,020\nI can copy that and\nthen when I go back to Route 53,\n\n244\n00:12:22,020 --> 00:12:26,950\nI can create an A record\nthat points to that.\n\n245\n00:12:26,950 --> 00:12:29,260\nAnd, I mean not an A record,\nsorry, A records point to IP's.\n\n246\n00:12:29,260 --> 00:12:30,940\nI can create a CNAME record.\n\n247\n00:12:30,940 --> 00:12:33,770\nI always make that mistake,\ncuz a CNAME is basically an alias, and\n\n248\n00:12:33,770 --> 00:12:35,210\nalias makes me think A.\n\n249\n00:12:35,210 --> 00:12:39,240\nBut a CNAME, a canonical name,\nthat's a true alias in DNS.\n\n250\n00:12:39,240 --> 00:12:43,870\nSo I can go to itprotv.net I\ncan go to its record sets.\n\n251\n00:12:43,870 --> 00:12:47,280\nAnd I can add a record for www.\n\n252\n00:12:47,280 --> 00:12:50,925\nAnd instead of pointing it to an IP,\nI can point it to a CNAME.\n\n253\n00:12:51,930 --> 00:12:56,527\nAnd for the CNAME I can thrown\nin the load balancer's DNS name.\n\n254\n00:12:56,527 --> 00:12:58,240\nI can punch that in, and\n\n255\n00:12:58,240 --> 00:13:04,171\nnow anybody who goes to www.itprotv.net\nwill actually hit that load balancer.\n\n256\n00:13:04,171 --> 00:13:08,470\nAnd on the back end, they'll go\nto whichever server's behind it.\n\n257\n00:13:08,470 --> 00:13:11,470\nThat's what we would do\non a normal DNS server.\n\n258\n00:13:11,470 --> 00:13:17,126\nBut because we're integrated into\nAmazon AWS, kinda redundant right,\n\n259\n00:13:17,126 --> 00:13:21,060\ninto AWS,\nwe can actually use our resource names.\n\n260\n00:13:21,060 --> 00:13:24,980\nEvery object inside of AWS has a resource\nname, and we can point to that.\n\n261\n00:13:24,980 --> 00:13:28,320\nI didnt have to go and get that DNS name.\n\n262\n00:13:28,320 --> 00:13:30,400\nLet me just take this record.\n\n263\n00:13:30,400 --> 00:13:35,310\nAnd over here I chose to do a CNAME,\nbut I could have stuck with A record.\n\n264\n00:13:35,310 --> 00:13:38,220\nAnd instead of putting an IP or\nanything else in here,\n\n265\n00:13:38,220 --> 00:13:41,980\nI could have said Alias, Yes.\n\n266\n00:13:41,980 --> 00:13:46,010\nAlias yes,\nthat tells it we're now gonna do a target.\n\n267\n00:13:46,010 --> 00:13:50,170\nAnd for your target,\nyou can put most Amazon objects.\n\n268\n00:13:50,170 --> 00:13:53,550\nYou'll see S3 websites,\nelastic load balancers,\n\n269\n00:13:53,550 --> 00:13:57,030\ncloud front distributions,\nand record sets.\n\n270\n00:13:57,030 --> 00:14:01,130\nAnd so there's that web01 record\nthat we made in Route 53.\n\n271\n00:14:01,130 --> 00:14:03,100\nYou'll see all your\nother Route 53 entries.\n\n272\n00:14:03,100 --> 00:14:07,250\nSo you can pick and\nchoose between existing objects, and\n\n273\n00:14:07,250 --> 00:14:10,340\nnow it's not mapped to some DNS\nname you've gotta go and find.\n\n274\n00:14:10,340 --> 00:14:12,900\nYou just put web LB,\nthat's my load balancer.\n\n275\n00:14:12,900 --> 00:14:15,430\nI'll pick that and\nnow they're tied together.\n\n276\n00:14:15,430 --> 00:14:19,370\nThe cool thing there is\nthe load balancer is redundant,\n\n277\n00:14:19,370 --> 00:14:23,690\nit's being stored in certain data centers,\nand now Route 53 can recognize that.\n\n278\n00:14:23,690 --> 00:14:26,560\nIt's a tighter integration\nwith that system.\n\n279\n00:14:26,560 --> 00:14:31,860\nSo if you're gonna host your zones\nin Amazon, and if the resources\n\n280\n00:14:31,860 --> 00:14:36,910\nthat you're mapping there are in AWS also,\nit's a good idea to do these aliases.\n\n281\n00:14:36,910 --> 00:14:40,340\nBecause it makes them a little more aware,\nmakes them understand that they're tied\n\n282\n00:14:40,340 --> 00:14:43,100\ntogether, and\nchanges to one can update the other.\n\n283\n00:14:43,100 --> 00:14:46,810\nThey're now linked versus the other ways,\nwhere they aren't.\n\n284\n00:14:46,810 --> 00:14:51,169\nYou'll also see that I have a new\noption now, Evaluate Target Health.\n\n285\n00:14:51,169 --> 00:14:54,950\nNow we could say,\nmake it where Route 53 knows whether or\n\n286\n00:14:54,950 --> 00:14:57,120\nnot that node is up or down.\n\n287\n00:14:57,120 --> 00:15:01,950\nA normal DNS entry does no health check,\ndoesn't verify that the host is up, or\n\n288\n00:15:01,950 --> 00:15:02,910\neven functional.\n\n289\n00:15:02,910 --> 00:15:07,280\nNow we can say, do a health check, and\nit's actually gonna verify that the record\n\n290\n00:15:07,280 --> 00:15:11,750\nset is valid and that alias is up,\nthat target that it's pointing at.\n\n291\n00:15:11,750 --> 00:15:15,150\nAnd that only works with AWS resources,\nright?\n\n292\n00:15:15,150 --> 00:15:17,690\nOther resources inside of AWS.\n\n293\n00:15:17,690 --> 00:15:20,070\nSo when I save that I get my record.\n\n294\n00:15:20,070 --> 00:15:21,350\nThere's itprotv.net.\n\n295\n00:15:21,350 --> 00:15:23,360\nAnd it shows as an A record, right?\n\n296\n00:15:23,360 --> 00:15:26,360\nNot a CNAME anymore,\nnow just a straight up A record.\n\n297\n00:15:26,360 --> 00:15:30,720\nBut then for the value, I can see that\nits not an IP address, but instead,\n\n298\n00:15:30,720 --> 00:15:34,330\nan alias, and\nthats pointing to that load balancer.\n\n299\n00:15:34,330 --> 00:15:36,300\nReally cool functionality there.\n\n300\n00:15:36,300 --> 00:15:40,510\nThe thing I appreciate about Route 53\nis not having to manage redundancy.\n\n301\n00:15:40,510 --> 00:15:43,020\nI don't have to worry about\nsetting up standard primaries and\n\n302\n00:15:43,020 --> 00:15:46,350\nstandard secondaries, all the redundant\nDNS server infrastructure.\n\n303\n00:15:46,350 --> 00:15:47,530\nYou don't deal with it.\n\n304\n00:15:47,530 --> 00:15:49,508\nAmazon does it, it's done,\nit's hosted right there.\n\n305\n00:15:49,508 --> 00:15:52,329\nAnd it's hosted right\nalong side your servers.\n\n306\n00:15:52,329 --> 00:15:56,195\nSo the same redundancy you're getting\non your servers, you get with Route 53.\n\n307\n00:15:56,195 --> 00:15:59,671\nNow I use the example of the load balancer\nhere because that's what I use all\n\n308\n00:15:59,671 --> 00:16:02,740\nthe time, it's something\nthat's very frequent for me.\n\n309\n00:16:02,740 --> 00:16:05,640\nBut you saw some of the other things\nlike Cloudfront distributions.\n\n310\n00:16:05,640 --> 00:16:09,605\nThat's really handy, especially when\nit's coupled with geo-location routing.\n\n311\n00:16:09,605 --> 00:16:13,869\nCloudfront's for distributing videos,\nyou want people viewing videos from areas\n\n312\n00:16:13,869 --> 00:16:17,773\ngeographically close to them they'll\nget better performance out of it, and\n\n313\n00:16:17,773 --> 00:16:19,230\nRoute 53 can handle that.\n\n314\n00:16:19,230 --> 00:16:19,960\nAll right.\n\n315\n00:16:19,960 --> 00:16:23,450\nIt really is an advanced DNS system,\nit's pretty powerful.\n\n316\n00:16:24,650 --> 00:16:26,090\nThere are some other\nthings that we can do,\n\n317\n00:16:26,090 --> 00:16:28,670\nlike on the left side here,\nwe'll have our health checks.\n\n318\n00:16:28,670 --> 00:16:32,010\nAnd here's where you can start to\ncreate your own health checks.\n\n319\n00:16:32,010 --> 00:16:34,890\nYour server may have some special needs,\nright?\n\n320\n00:16:34,890 --> 00:16:38,820\nThere are some special characteristics\nthat differ from what Amazon detects.\n\n321\n00:16:38,820 --> 00:16:40,030\nWell, with Amazon,\n\n322\n00:16:40,030 --> 00:16:44,140\nif it's a linked resource like that\nload balancer, it knows what to monitor.\n\n323\n00:16:44,140 --> 00:16:47,430\nBut, you can specify\nother checks right here.\n\n324\n00:16:47,430 --> 00:16:53,500\nSo I can create a health check, and\nI can call this my Web Farm Health, and\n\n325\n00:16:53,500 --> 00:16:58,000\nmaybe on my web farm, for whatever reason\nI'm using HTTP on a nonstandard port.\n\n326\n00:16:58,000 --> 00:17:02,400\nSo I can come in and say TCP and\nspecify that alternate port.\n\n327\n00:17:02,400 --> 00:17:05,760\nAnd it would see if it could connect that\nto determine if it was healthy or not.\n\n328\n00:17:05,760 --> 00:17:08,490\nOr I could go back to\njust regular HTTP and\n\n329\n00:17:08,490 --> 00:17:11,790\nnow I could even request\na particular web page.\n\n330\n00:17:11,790 --> 00:17:13,060\nThat's pretty slick.\n\n331\n00:17:13,060 --> 00:17:15,460\nIt'll try and connect to that server and\npull its webpage.\n\n332\n00:17:15,460 --> 00:17:19,190\nAnd if it doesn't get the page,\nthen it'll assume the health check failed,\n\n333\n00:17:19,190 --> 00:17:20,680\nand it'll send me an alert.\n\n334\n00:17:20,680 --> 00:17:23,560\nIt'll let me know, it's monitoring\nthat and keeping an eye on it.\n\n335\n00:17:23,560 --> 00:17:25,710\nSo, pretty neat functionality.\n\n336\n00:17:25,710 --> 00:17:28,850\nNotice that by default,\nit only monitors every 30 seconds.\n\n337\n00:17:28,850 --> 00:17:30,820\nYou can change it to ten seconds and\nthat's it.\n\n338\n00:17:30,820 --> 00:17:32,550\nYou don't get anything more advanced.\n\n339\n00:17:32,550 --> 00:17:34,140\nIf you wan to go more advanced than that,\n\n340\n00:17:34,140 --> 00:17:37,400\nyou can set up Cloud Watch to\ndo a lot of advanced monitoring.\n\n341\n00:17:37,400 --> 00:17:40,831\nBut, these right here, 10 seconds and 30\nseconds are usually more than enough for\n\n342\n00:17:40,831 --> 00:17:41,403\nmost people.\n\n343\n00:17:44,923 --> 00:17:48,610\nAll right, some of the other things,\nwell, we've got our domain review.\n\n344\n00:17:48,610 --> 00:17:51,490\nWe can come in here and see domains\nthat we've purchased from Amazon.\n\n345\n00:17:51,490 --> 00:17:55,490\nSo, if I register a domain, that's where\nI can see it if I bought it from them.\n\n346\n00:17:55,490 --> 00:17:57,690\nIf I have my own, though, somewhere else.\n\n347\n00:17:57,690 --> 00:18:00,960\nSo, I mentioned my domain is hosted\nwith hover.com right now, right?\n\n348\n00:18:00,960 --> 00:18:03,370\nIf I wanna move it here,\nthis is where I'd do it.\n\n349\n00:18:03,370 --> 00:18:07,300\nI'd go to Transfer Domain and\nI can start the transfer process.\n\n350\n00:18:07,300 --> 00:18:10,720\nBe aware that domain\ntransfers are not fast.\n\n351\n00:18:10,720 --> 00:18:14,750\nDomain transfers can take four\nto seven days to take effect.\n\n352\n00:18:14,750 --> 00:18:17,960\nSo, how do you prevent downtime\nin the middle of that?\n\n353\n00:18:17,960 --> 00:18:21,010\nWell, the steps you should follow\nif youre gonna transfer a domain,\n\n354\n00:18:21,010 --> 00:18:24,490\nstep one, recreate your records.\n\n355\n00:18:24,490 --> 00:18:28,790\nYou need to get the zone\nhere in Route 53 identical\n\n356\n00:18:28,790 --> 00:18:30,960\nto your zone on the other provider.\n\n357\n00:18:30,960 --> 00:18:36,400\nSo if you can, you can go to Hosted Zones\nand pull up that zone that you made.\n\n358\n00:18:36,400 --> 00:18:39,770\nAnd once you go into its record sets,\nif you've got it,\n\n359\n00:18:39,770 --> 00:18:41,850\nyou can import that zone file.\n\n360\n00:18:41,850 --> 00:18:45,450\nImport it, bring it in, get that in place.\n\n361\n00:18:45,450 --> 00:18:47,970\nIf you don't,\nthen manually create the records.\n\n362\n00:18:47,970 --> 00:18:50,430\nMake it identical to\nyour current provider.\n\n363\n00:18:50,430 --> 00:18:52,270\nThe rest of the world's\nnot gonna see this yet,\n\n364\n00:18:52,270 --> 00:18:53,700\nthey're still seeing\nyour current provider.\n\n365\n00:18:54,870 --> 00:18:57,110\nThen, initiate the transfer.\n\n366\n00:18:57,110 --> 00:18:59,460\nTo initiate the transfer, you'll probably\nhave to call your current provider.\n\n367\n00:18:59,460 --> 00:19:02,830\nThey usually lock the domains\nto stop inadvertent transfers.\n\n368\n00:19:02,830 --> 00:19:05,400\nAnd so you just have to tell\nthem to unlock the domain.\n\n369\n00:19:05,400 --> 00:19:08,160\nAnd when that's done, you can come here.\n\n370\n00:19:08,160 --> 00:19:11,650\nGo under Domains, and\ngo to Transfer the Domain.\n\n371\n00:19:11,650 --> 00:19:13,960\nAnd you'll specify what the domain\nis you're gonna transfer.\n\n372\n00:19:13,960 --> 00:19:18,490\nAnd they charge for that, they charge $12\nfor a .com and some various other pricing.\n\n373\n00:19:18,490 --> 00:19:20,140\nBut basically you specify that.\n\n374\n00:19:20,140 --> 00:19:22,190\nThey're gonna check to see\nwhether it's unlocked.\n\n375\n00:19:22,190 --> 00:19:23,670\nSo if I take ITProTV.\n\n376\n00:19:27,710 --> 00:19:30,874\nOh, the extension's over\nhere ao I need .net.\n\n377\n00:19:30,874 --> 00:19:34,560\nSo itprotv.net, if I check that\nit's gonna look it up right now.\n\n378\n00:19:34,560 --> 00:19:36,220\nIt's gonna find it on hover, and\n\n379\n00:19:36,220 --> 00:19:39,340\nit's gonna see that it cannot be\ntransferred because it's locked.\n\n380\n00:19:39,340 --> 00:19:42,110\nSo, I'm need to go to hover and\nunlock it and then come back and\n\n381\n00:19:42,110 --> 00:19:43,370\ndo this check again.\n\n382\n00:19:43,370 --> 00:19:45,780\nAnd once I do the check,\nit'll show it as unlocked and\n\n383\n00:19:45,780 --> 00:19:48,030\nthen I can initiate the transfer.\n\n384\n00:19:48,030 --> 00:19:52,100\nIt'll send an email to whoever the\nadministrative contact is that's listed\n\n385\n00:19:52,100 --> 00:19:53,740\nfor that DNS zone.\n\n386\n00:19:53,740 --> 00:19:55,860\nThat person will have to\nclick on that to activate it,\n\n387\n00:19:55,860 --> 00:19:59,360\nand that'll approve the transfer and\nit'll move through.\n\n388\n00:19:59,360 --> 00:20:04,770\nAnd sometime in the next four to seven\ndays, That zone will now be hosted here.\n\n389\n00:20:04,770 --> 00:20:07,950\nBut it doesn't really matter when it\nhappens, because your zones are identical.\n\n390\n00:20:07,950 --> 00:20:09,920\nThe zone that you have in\nproduction right now and\n\n391\n00:20:09,920 --> 00:20:11,230\nthe zone you created here are identical.\n\n392\n00:20:11,230 --> 00:20:13,570\nYou've matched up the records, all right?\n\n393\n00:20:13,570 --> 00:20:16,730\nSo whenever that flip over happens,\npeople are still getting the same values.\n\n394\n00:20:16,730 --> 00:20:18,810\nAnd from there, you can go and\n\n395\n00:20:18,810 --> 00:20:23,220\nstart to customize the zone to take\nadvantage of the things that Amazon has.\n\n396\n00:20:23,220 --> 00:20:26,290\nDon't put all the fancy bells and\nwhistles in place on day 1, right?\n\n397\n00:20:26,290 --> 00:20:29,860\nStart off with just a mirror of\nyour current environment, and\n\n398\n00:20:29,860 --> 00:20:32,940\nthen enhance it after\nthe transfer is done.\n\n399\n00:20:32,940 --> 00:20:35,732\nYou don't want to run into\na situation where DNS is failing,\n\n400\n00:20:35,732 --> 00:20:38,086\nand you don't know if\nthe transfer is the problem or\n\n401\n00:20:38,086 --> 00:20:41,393\nyour new settings are the problem,\nso take it easy, take it in stages.\n\n402\n00:20:41,393 --> 00:20:44,104\nDNS issues,\nif you mess up your DNS domain name,\n\n403\n00:20:44,104 --> 00:20:47,840\nthat can create outages that\ncan take up to two days to fix.\n\n404\n00:20:47,840 --> 00:20:51,530\nA lot of DNS servers out there\ncan cache DNS entries, and\n\n405\n00:20:51,530 --> 00:20:53,850\n48 hours is usually the maximum.\n\n406\n00:20:53,850 --> 00:20:56,450\nSo, there could be bad entries cached for\n\n407\n00:20:56,450 --> 00:20:59,300\nyour zone up to 48 hours\nif you make a mistake.\n\n408\n00:20:59,300 --> 00:21:00,660\nSo take it easy.\n\n409\n00:21:00,660 --> 00:21:02,590\nGo through and double-check your work.\n\n410\n00:21:02,590 --> 00:21:05,870\nAnd then get it all set,\nmoving in little stages, right?\n\n411\n00:21:05,870 --> 00:21:10,760\nDuplicate the zone, do the transfer, and\nthen implement the advanced features.\n\n412\n00:21:12,220 --> 00:21:12,860\nAll right.\n\n413\n00:21:12,860 --> 00:21:14,559\nSo, that's the basic process right there,\n\n414\n00:21:14,559 --> 00:21:16,268\nthose are the things\nthat we have available.\n\n415\n00:21:16,268 --> 00:21:19,269\nWhen it's all set up, you have a little\ndashboard where you can monitor\n\n416\n00:21:19,269 --> 00:21:22,820\nyour current health checks, the amount of\ndomains that are actually hosted here and\n\n417\n00:21:22,820 --> 00:21:24,340\nthe hosted zones that you've got.\n\n418\n00:21:24,340 --> 00:21:27,170\nAnd you can see their health and\nother alerts.\n\n419\n00:21:27,170 --> 00:21:30,710\nIt's one of the simpler services,\nbut very powerful and very useful.\n\n420\n00:21:31,792 --> 00:21:36,440\nAll right, in this segment, we got\na chance to take a look at Route 53,\n\n421\n00:21:36,440 --> 00:21:43,040\nthe redundant and extremely customizable\nDNS service from Amazon Web Services.\n\n422\n00:21:43,040 --> 00:21:45,010\nI hope you guys enjoyed the segment.\n\n423\n00:21:45,010 --> 00:21:46,410\nIf you did, stay tuned.\n\n424\n00:21:46,410 --> 00:21:49,640\nWe've got more Amazon Web Services\ncontent coming up.\n\n",
          "vimeoId": "109818674"
        },
        {
          "description": "",
          "length": "1198",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/020-Databases-With-RDS.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/020-Databases-With-RDS-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/amazonwebservices/020-Databases-With-RDS-sm.jpg",
          "title": "Databases With RDS",
          "transcript": "1\n00:00:00,000 --> 00:00:08,113\n[MUSIC]\n\n2\n00:00:08,113 --> 00:00:09,107\nIn this segment,\n\n3\n00:00:09,107 --> 00:00:13,940\nwe're gonna to take a look at the RDS\nservice as a part of Amazon web Services.\n\n4\n00:00:13,940 --> 00:00:18,510\nRDS is the managed relational database\nservice from Amazon, and what it does is\n\n5\n00:00:18,510 --> 00:00:23,750\nit gives us the opportunity to store our\ndatabases in a fully managed environment.\n\n6\n00:00:23,750 --> 00:00:25,820\nNow what do I mean by that?\n\n7\n00:00:25,820 --> 00:00:29,210\nWell more and more we're seeing\napplications go web based and\n\n8\n00:00:29,210 --> 00:00:34,010\nweb based applications almost always\ndepend on a database of some sort.\n\n9\n00:00:34,010 --> 00:00:38,100\nIt might be Microsoft SQL it might\nbe Oracle, it might be my SQL,\n\n10\n00:00:38,100 --> 00:00:39,200\nwe don't know right?\n\n11\n00:00:39,200 --> 00:00:42,090\nThere's various databases\nthat could be in use.\n\n12\n00:00:42,090 --> 00:00:46,660\nAnd as you deploy these web apps you\nmay not be an expert on that database.\n\n13\n00:00:46,660 --> 00:00:51,550\nYou might know enough to get it set up and\nfired up, but the routine day to day\n\n14\n00:00:51,550 --> 00:00:56,475\nmaintenance of it, the things you need\nto do to keep that server healthy, may\n\n15\n00:00:56,475 --> 00:01:00,415\nnot be things that you know, or may not\nbe things that you just have time to do.\n\n16\n00:01:00,415 --> 00:01:03,875\nA lot of us don't have time to mess around\nwith maintaining our databases because we\n\n17\n00:01:03,875 --> 00:01:06,835\nwanna focus on the things that\nmake our company important,\n\n18\n00:01:06,835 --> 00:01:10,981\nour web UI, our actual user experience,\nand that sort of information.\n\n19\n00:01:10,981 --> 00:01:16,980\nSo, with RDS,what you do is you give\nall that mundane labor over to Amazon.\n\n20\n00:01:16,980 --> 00:01:21,060\nAnd you say, hey, I need a database,\ncan you manage the server for me?\n\n21\n00:01:21,060 --> 00:01:24,590\nCan you do the updates for the server and\nupdates for my database software?\n\n22\n00:01:24,590 --> 00:01:27,120\nCan you manage the backups so\nthat it's backed up and\n\n23\n00:01:27,120 --> 00:01:29,030\nI can easily recover if I need to?\n\n24\n00:01:29,030 --> 00:01:30,570\nAnd oh yeah, I want redundancy.\n\n25\n00:01:30,570 --> 00:01:32,180\nI wanna have this in more than one zone.\n\n26\n00:01:32,180 --> 00:01:35,460\nCan you take care of setting that up\ncuz I hate dealing with replication.\n\n27\n00:01:35,460 --> 00:01:37,490\nThat's what RDS does.\n\n28\n00:01:37,490 --> 00:01:41,570\nRDS lets you quickly spin\nup a database server and\n\n29\n00:01:41,570 --> 00:01:45,600\nyou configure the database,\nAmazon takes care of the rest.\n\n30\n00:01:45,600 --> 00:01:50,530\nThey build the server, they manage\nthe database engine itself, the software.\n\n31\n00:01:50,530 --> 00:01:55,290\nThey do the tuning and optimization, they\nback that up, they keep it stable, and\n\n32\n00:01:55,290 --> 00:01:58,580\nthey keep it redundant, and\nyou don't have to worry about it.\n\n33\n00:01:58,580 --> 00:02:01,980\nYou get to focus on the areas of your\nsoftware that are important, all right?\n\n34\n00:02:01,980 --> 00:02:03,410\nNow it does come at a cost.\n\n35\n00:02:03,410 --> 00:02:04,320\nWhen you sign up for RDS,\n\n36\n00:02:04,320 --> 00:02:08,610\nwhat you're really doing is on the back\nend you're spinning up EC2 instances,\n\n37\n00:02:08,610 --> 00:02:13,610\nfully managed EC2 instances, so\nyou don't see that, but it's still there.\n\n38\n00:02:13,610 --> 00:02:15,590\nSo you're paying for that EC2 instance.\n\n39\n00:02:15,590 --> 00:02:18,750\nYou could've just as well brought\nup your own EC2 instance and\n\n40\n00:02:18,750 --> 00:02:19,960\nran your own database software.\n\n41\n00:02:19,960 --> 00:02:23,220\nYou can do that, but\nthen you've got to manage it.\n\n42\n00:02:23,220 --> 00:02:27,050\nHere you pay for the instance and\nthen you pay a little extra for\n\n43\n00:02:27,050 --> 00:02:28,360\nthe management piece.\n\n44\n00:02:28,360 --> 00:02:31,360\nNow it's not much and\nin my opinion it's absolutely worth it,\n\n45\n00:02:31,360 --> 00:02:34,210\nbecause if your database fails or\nif your database goes offline,\n\n46\n00:02:34,210 --> 00:02:38,340\nyour whole product goes offline,\nand that is a big deal, right?\n\n47\n00:02:38,340 --> 00:02:42,230\nSo the more stable we can make our\ndatabases, the better, and RDS helps, and\n\n48\n00:02:42,230 --> 00:02:44,160\nif you're doing multi-zone or\n\n49\n00:02:44,160 --> 00:02:48,950\neven multi-region redundancy with your\ndatabase, that is very challenging\n\n50\n00:02:48,950 --> 00:02:53,070\nto set up, and having them take care\nof that piece for you, it's worth it.\n\n51\n00:02:53,070 --> 00:02:55,930\nAll right, so\nlet's take a look at that process.\n\n52\n00:02:55,930 --> 00:03:00,440\nAll right, I'm logged into my Amazon\nWeb Services console right here, and\n\n53\n00:03:00,440 --> 00:03:02,320\nI'm just gonna scroll down under Database.\n\n54\n00:03:02,320 --> 00:03:05,110\nNow you'll see there's a few different\ndatabase products they have,\n\n55\n00:03:05,110 --> 00:03:06,600\nlike DynamoDB.\n\n56\n00:03:06,600 --> 00:03:10,170\nIf you need a no-SQL database\nthat's the way to go.\n\n57\n00:03:10,170 --> 00:03:14,060\nDynamoDB, that's their big one, but\nRDS is what we're talking about,\n\n58\n00:03:14,060 --> 00:03:16,310\nrelational databases.\n\n59\n00:03:16,310 --> 00:03:19,400\nAnd when we go in there,\nwe can see our little welcome screen,\n\n60\n00:03:19,400 --> 00:03:22,600\nwhich I'll just ignore, and\nI'll just go over here to instances.\n\n61\n00:03:22,600 --> 00:03:24,690\nI mentioned that when\nwe launch a database,\n\n62\n00:03:24,690 --> 00:03:27,575\nit's really launching an EC2 instance on\nthe background that just happens to be\n\n63\n00:03:27,575 --> 00:03:29,730\npre-configured with all\nour database software.\n\n64\n00:03:29,730 --> 00:03:33,810\nSo that's what we see here,\nwe're launching a database instance.\n\n65\n00:03:33,810 --> 00:03:37,350\nNow, when we do it we're gonna see\nthe database and we can just connect and\n\n66\n00:03:37,350 --> 00:03:41,210\nwork with it directly and completely\nignore the underlying operating system.\n\n67\n00:03:41,210 --> 00:03:44,670\nOr, if you really want to you\ncan give into the instance and\n\n68\n00:03:44,670 --> 00:03:46,680\nyou can start to customize things.\n\n69\n00:03:46,680 --> 00:03:51,560\nBut, Amazon's support for you starts to\ndwindle with each change that you make,\n\n70\n00:03:51,560 --> 00:03:53,600\nso typically you want to rely on them.\n\n71\n00:03:53,600 --> 00:03:56,730\nAnd their support team is really good\nabout it, you can reach out to them and\n\n72\n00:03:56,730 --> 00:03:58,520\nthey help you with all sorts of things.\n\n73\n00:03:58,520 --> 00:03:59,350\nAll right.\n\n74\n00:03:59,350 --> 00:04:05,060\nJust like EC2 you have undemanding\ninstances and reserved instances.\n\n75\n00:04:05,060 --> 00:04:09,170\nReserved instances, if you know you're\ngoing to need this database 24/7,\n\n76\n00:04:09,170 --> 00:04:13,285\n365 days a year, you can save\na lot of money by going reserved.\n\n77\n00:04:13,285 --> 00:04:16,645\nBut if you do on demand the cost\nis a little bit higher and\n\n78\n00:04:16,645 --> 00:04:20,245\nyou just, run it when you need it and\ntake it offline when you don't need it.\n\n79\n00:04:20,245 --> 00:04:24,145\nBut due to the nature of databases, that's\nnot normally something we deal with right?\n\n80\n00:04:24,145 --> 00:04:26,255\nWe normally need it all the time.\n\n81\n00:04:26,255 --> 00:04:29,930\nSo, just reserved instances\nare a great way to go about that.\n\n82\n00:04:29,930 --> 00:04:32,800\nYou'll also other things along\nthe left side here like Snapshots.\n\n83\n00:04:32,800 --> 00:04:35,350\nWe can take quick backups of our database.\n\n84\n00:04:35,350 --> 00:04:38,630\nYou want a snapshot of that server,\nso we can do easy restores.\n\n85\n00:04:38,630 --> 00:04:40,360\nWe've got Security Groups.\n\n86\n00:04:40,360 --> 00:04:45,720\nWe have to use software firewall settings\nto control who has access to our database.\n\n87\n00:04:45,720 --> 00:04:47,710\nYou've got Parameter Groups.\n\n88\n00:04:47,710 --> 00:04:50,130\nIf you've ever configured\nthings like MySQL,\n\n89\n00:04:50,130 --> 00:04:54,520\nMySQL has these configuration files\nthat are all text-based and they're big.\n\n90\n00:04:54,520 --> 00:04:57,340\nAnd when you configure those settings\nyou normally want those settings to be\n\n91\n00:04:57,340 --> 00:05:00,230\nthe same across multiple databases or\nmultiple servers.\n\n92\n00:05:00,230 --> 00:05:03,830\nSo you can create a parameter group and\napply it to several servers or\n\n93\n00:05:03,830 --> 00:05:06,350\nseveral databases and\nthey'll all be configured the same way.\n\n94\n00:05:06,350 --> 00:05:07,850\nIt makes things nice and consistent.\n\n95\n00:05:08,860 --> 00:05:10,000\nOption groups are similar.\n\n96\n00:05:10,000 --> 00:05:12,010\nIt's additional options that are set.\n\n97\n00:05:12,010 --> 00:05:16,270\nThe parameter groups will apply to\nthe server itself as well as the database.\n\n98\n00:05:16,270 --> 00:05:19,360\nThe options groups are really just\napplying to just the database.\n\n99\n00:05:19,360 --> 00:05:23,650\nWe have subnet groups for dividing\nour database up into network subnets.\n\n100\n00:05:23,650 --> 00:05:26,290\nYou'll probably have some\ndatabases that are designed for\n\n101\n00:05:26,290 --> 00:05:29,100\ninternal use only,\nnot exposed to the internet, right?\n\n102\n00:05:29,100 --> 00:05:33,840\nSo just for your private servers in one\nVPC, you might have other databases\n\n103\n00:05:33,840 --> 00:05:38,480\nthat are in a VPC that has access just\nto your public web servers, right?\n\n104\n00:05:38,480 --> 00:05:40,980\nYou don't want the public to connect\nto your database servers ever, but\n\n105\n00:05:40,980 --> 00:05:44,280\nthey will connect to a web server and\nit provides access to the database.\n\n106\n00:05:44,280 --> 00:05:47,265\nSo you can define those subnet groups\nright here to create the separation.\n\n107\n00:05:47,265 --> 00:05:51,590\nYou've also got events, and that's where\nyou can review any current events and\n\n108\n00:05:51,590 --> 00:05:53,340\nactivity with your databases.\n\n109\n00:05:53,340 --> 00:05:55,410\nAnd lastly events subscriptions, and\n\n110\n00:05:55,410 --> 00:05:59,960\nthat's where you can designate to transmit\nthe events to use so you're kept aware.\n\n111\n00:05:59,960 --> 00:06:01,890\nYou'll see there are different\nways to do that.\n\n112\n00:06:01,890 --> 00:06:03,190\nWhen you create an event subscription,\n\n113\n00:06:03,190 --> 00:06:07,640\nyou'll see some of the different\nplaces that we can pull data from.\n\n114\n00:06:07,640 --> 00:06:10,610\nSo we're pulling from database instances,\nor parameter groups, or so\n\n115\n00:06:10,610 --> 00:06:15,040\non, to gather that data, and\nwe're sending them to people, right?\n\n116\n00:06:15,040 --> 00:06:19,650\nARMs, the resource names, which\nare normally gonna be IAM identities,\n\n117\n00:06:19,650 --> 00:06:21,619\nright to your users, and\nyou'll send them the notifications.\n\n118\n00:06:23,980 --> 00:06:26,460\nAll right, but let's take a look\nat creating the instance itself,\n\n119\n00:06:26,460 --> 00:06:27,740\nthat's the big part.\n\n120\n00:06:27,740 --> 00:06:30,840\nWhen you go to Launch DB Instance,\n\n121\n00:06:30,840 --> 00:06:33,710\nit's gonna ask you what\ntype of database you want.\n\n122\n00:06:33,710 --> 00:06:37,270\nWhen this service first launched\nthey only had MySQL, and so\n\n123\n00:06:37,270 --> 00:06:41,970\nmany people associate Amazon RDS with\nMySQL, but it's much bigger than that.\n\n124\n00:06:41,970 --> 00:06:46,880\nYou can spawn PostgreSQL, Oracle,\nSQL server, Microsoft SQL server,\n\n125\n00:06:46,880 --> 00:06:49,890\nwhichever one you want, and\nyou just come in here and choose it.\n\n126\n00:06:49,890 --> 00:06:54,210\nNow the pricing is a little bit\ndifferent because MySQL, by and large,\n\n127\n00:06:54,210 --> 00:06:55,320\nis a free product.\n\n128\n00:06:55,320 --> 00:06:57,520\nIt's the MySQL community edition.\n\n129\n00:06:57,520 --> 00:06:59,240\nBut when you go to oracle and\n\n130\n00:06:59,240 --> 00:07:03,960\nSQL server, those are licensed products\nthat can actually be pretty expensive.\n\n131\n00:07:03,960 --> 00:07:07,600\nSo when you choose one of these there is\ngoing to be a cost incurred with that, but\n\n132\n00:07:07,600 --> 00:07:11,580\nbecause Amazon is such\na massive volume partner,\n\n133\n00:07:11,580 --> 00:07:13,740\nthe cost is really not that great.\n\n134\n00:07:13,740 --> 00:07:16,360\nAnd, they're not actually showing\nthe pricing on this page.\n\n135\n00:07:16,360 --> 00:07:18,410\nLet me see if I can pull\nthat up real quick.\n\n136\n00:07:18,410 --> 00:07:21,350\nAmazon RDS pricing.\n\n137\n00:07:21,350 --> 00:07:23,010\nAnd then I'll show you what I mean.\n\n138\n00:07:24,220 --> 00:07:27,620\nYou'll see they have separate\npricing based on the database type\n\n139\n00:07:27,620 --> 00:07:28,740\nthat you're doing.\n\n140\n00:07:28,740 --> 00:07:31,900\nSo, when we launch an instance we have to\npick how much hardware it's gonna have,\n\n141\n00:07:31,900 --> 00:07:34,870\nand we'll see that that\nobviously impacts the price, but\n\n142\n00:07:34,870 --> 00:07:39,020\nafter that we have rich\nsoftware we're running.\n\n143\n00:07:39,020 --> 00:07:42,170\nSo notice for like just a MySQL instance,\n\n144\n00:07:42,170 --> 00:07:47,200\nI'll see my pricing starts at about $0.01,\nalmost $0.02 per hour, for\n\n145\n00:07:47,200 --> 00:07:49,860\na micro instance, right,\njust for a simple database.\n\n146\n00:07:49,860 --> 00:07:51,730\nAnd as you start to go up the big ones,\n\n147\n00:07:51,730 --> 00:07:55,310\nlike this extra large, or double\nextra large, right, if I go up here.\n\n148\n00:07:55,310 --> 00:08:01,740\nA double extra large is 8 CPUs,\n30 gigs of RAM, all right.\n\n149\n00:08:01,740 --> 00:08:05,450\nFor 8 CPUs and 30 gigs of RAM,\nwe're at $0.74 an hour.\n\n150\n00:08:05,450 --> 00:08:06,880\nAll right, that's for MySQL.\n\n151\n00:08:06,880 --> 00:08:10,490\nWell, let's jump up to Oregon.\n\n152\n00:08:10,490 --> 00:08:16,150\nSo oracle for\na double extra large is a $1.68,\n\n153\n00:08:16,150 --> 00:08:20,410\nthat's over double the price of mySQL\nbecause it's licensed software.\n\n154\n00:08:20,410 --> 00:08:22,370\nYou've gotta cover that licence, and\n\n155\n00:08:22,370 --> 00:08:26,025\nif I take Microsoft as an example,\nhere's SQL server.\n\n156\n00:08:26,025 --> 00:08:29,845\nAll right for that double,\noh they don't do double extra large for\n\n157\n00:08:29,845 --> 00:08:32,795\nthat one, well look at that.\n\n158\n00:08:32,795 --> 00:08:37,085\nThat's going to make it hard\nto go apples to apples.\n\n159\n00:08:37,085 --> 00:08:39,075\nIt's almost nine cents for\na T2 medium there,\n\n160\n00:08:39,075 --> 00:08:42,175\nif I go to Oracle they\ndon't have a T2 medium.\n\n161\n00:08:42,175 --> 00:08:43,775\nThis is going to make it\ndifficult to compare, but\n\n162\n00:08:43,775 --> 00:08:48,060\nyou're going to see the big price\ndifferences that happen between them, and\n\n163\n00:08:48,060 --> 00:08:49,680\nthat's going to influence things.\n\n164\n00:08:49,680 --> 00:08:53,450\nPostgresQL is another one that is free,\nand so that pricing is real low.\n\n165\n00:08:53,450 --> 00:08:56,700\nSo you'll see that drop back down,\nvery similar to MySQL.\n\n166\n00:08:56,700 --> 00:08:59,452\nSo just be aware of that as you\nchoose your different servers.\n\n167\n00:08:59,452 --> 00:09:03,920\nAll right, Ill go crazy,\n\n168\n00:09:03,920 --> 00:09:07,550\nIll go Microsoft SQL, so\nIll go ahead and pick that one, and\n\n169\n00:09:07,550 --> 00:09:11,270\nyou can pick between Express Edition,\nStandard Edition, and the Web Edition.\n\n170\n00:09:11,270 --> 00:09:14,360\nAgain, different pricing for\neach of these, and\n\n171\n00:09:14,360 --> 00:09:15,940\nyoure just kind of picking amongst that.\n\n172\n00:09:17,210 --> 00:09:20,740\nEnterprise, there it is, that's\nthe full one, so we'll pick that one.\n\n173\n00:09:20,740 --> 00:09:22,790\nNow it's asking me how\nI'm gonna deploy this.\n\n174\n00:09:22,790 --> 00:09:26,700\nIs this going to be a standalone instance,\nor do I wanna make it redundant?\n\n175\n00:09:26,700 --> 00:09:32,590\nGoing redundant, having a Multi AZ,\navailability zone, deployment, redundancy\n\n176\n00:09:32,590 --> 00:09:36,580\nis really important, but that means\nwe've got to replicate that database.\n\n177\n00:09:36,580 --> 00:09:42,070\nSo we're gonna have inter AZ traffic\nthat can incur costs, but normally\n\n178\n00:09:42,070 --> 00:09:45,980\nit's included, so they're just warning us\nhere letting us know that we can do that.\n\n179\n00:09:45,980 --> 00:09:49,690\nBut if we do it I'm not going to be\neligible for the free usage tier anymore\n\n180\n00:09:49,690 --> 00:09:53,130\nand that's fine, so it's got a link\nhere to the pricing table for that.\n\n181\n00:09:53,130 --> 00:09:56,220\nSo I could choose to use it just for\nstandalone,\n\n182\n00:09:56,220 --> 00:10:01,893\nwhich would be outside of production use,\nor I could choose to go Multi-AZ.\n\n183\n00:10:01,893 --> 00:10:03,490\nAll right.\n\n184\n00:10:03,490 --> 00:10:05,720\nWhen I hit Next,\nnow it's gonna ask me about my database.\n\n185\n00:10:05,720 --> 00:10:09,650\nNow, it's gonna create one database\non the instance for me, and\n\n186\n00:10:09,650 --> 00:10:11,120\nI'll be able to use it.\n\n187\n00:10:11,120 --> 00:10:15,580\nYou can add more databases to\nthe same instance if you want, but\n\n188\n00:10:15,580 --> 00:10:18,410\nif you keep it with one, it's nice and\nsimple and easy to manage,\n\n189\n00:10:18,410 --> 00:10:20,920\nand it's got dedicated\naccess to those resources.\n\n190\n00:10:20,920 --> 00:10:25,500\nSo Amazon's recommendation is\none database per instance, but\n\n191\n00:10:25,500 --> 00:10:29,240\nyou certainly do have the ability\nto create more if you need it.\n\n192\n00:10:29,240 --> 00:10:34,190\nSo on the license model here,\nit's asking how my license is paid for.\n\n193\n00:10:34,190 --> 00:10:36,970\nMany companies have volume license\nagreements with Microsoft and\n\n194\n00:10:36,970 --> 00:10:41,390\nyou might already be covered for SQL, so\nyou can choose bring your own license.\n\n195\n00:10:41,390 --> 00:10:45,410\nOtherwise you'll have to pick one and\napparently they're not offering\n\n196\n00:10:45,410 --> 00:10:48,490\nto pick one here, so I don't have\nthat choice so just bring your own.\n\n197\n00:10:48,490 --> 00:10:51,200\nI don't want to do anything illegal so\nI'm not going to create this one.\n\n198\n00:10:51,200 --> 00:10:53,320\nI'll back up and\ndo my SQL here in a minute.\n\n199\n00:10:53,320 --> 00:10:56,540\nBut you can then go through and\nspecify what size you want it to be,\n\n200\n00:10:56,540 --> 00:10:58,940\nthe different instant sizes\nyou want to pick from,\n\n201\n00:10:58,940 --> 00:11:04,210\nwhich database version you want and you'll\nsee they have more than one version.\n\n202\n00:11:04,210 --> 00:11:08,320\nThey might have\nMicrosoft Sequel Server 2014 or\n\n203\n00:11:08,320 --> 00:11:12,150\n2012 or\nwhatever based on which one you're doing.\n\n204\n00:11:12,150 --> 00:11:15,500\nSequel Server 2008 is probably one\nof the most common ones right now.\n\n205\n00:11:15,500 --> 00:11:19,230\n2012 is pretty popular and\nnot many people run 2014 yet.\n\n206\n00:11:21,760 --> 00:11:23,910\nThen you can define the redundancy.\n\n207\n00:11:23,910 --> 00:11:27,180\nYou'll see it offers to do mirroring or\nno redundancy so\n\n208\n00:11:27,180 --> 00:11:30,400\nI can turn that on and\noff based on whether or not I want it.\n\n209\n00:11:30,400 --> 00:11:33,580\nOn the storage side you\ncan do provisioned IOPS.\n\n210\n00:11:33,580 --> 00:11:36,130\nThat will use SSD for the storage, but\n\n211\n00:11:36,130 --> 00:11:40,260\nyou're limited to a certain amount\nof IO's or input/outputs per second.\n\n212\n00:11:40,260 --> 00:11:44,380\nAnd if you exceed that, you'll get\nthrottled, your database will slow down.\n\n213\n00:11:44,380 --> 00:11:46,880\nInstead, you might choose\nto go straight up SSD,\n\n214\n00:11:46,880 --> 00:11:50,900\nwhere you'll pay for more, but\nyou'll have unlimited access to it,\n\n215\n00:11:50,900 --> 00:11:54,900\nso you'll be able to get\na heavier access to it.\n\n216\n00:11:54,900 --> 00:11:56,070\nSo it's up to you to choose that, or\n\n217\n00:11:56,070 --> 00:11:58,960\nyou can go traditional magnetic,\njust drop back to the old drives.\n\n218\n00:11:58,960 --> 00:12:03,240\nYou can specify the amount of storage\nthat's allocated, and then you need to\n\n219\n00:12:03,240 --> 00:12:07,500\ngive it some information that's unique\nto that particular database engine.\n\n220\n00:12:07,500 --> 00:12:11,220\nIn Microsoft SQL, you have an instance\nname and then you have a username and\n\n221\n00:12:11,220 --> 00:12:12,170\npassword for access.\n\n222\n00:12:12,170 --> 00:12:15,920\nAnd you'd specify that information\nright here to be able to access it and\n\n223\n00:12:15,920 --> 00:12:18,020\nthen you'd go and create your server.\n\n224\n00:12:18,020 --> 00:12:21,150\nYou got some advanced settings after that\nthat you can tweak, and you'd be done.\n\n225\n00:12:21,150 --> 00:12:22,440\nLet's take a look at that.\n\n226\n00:12:22,440 --> 00:12:26,891\nI'll call my instance itprotvnet,\nand my master user,\n\n227\n00:12:26,891 --> 00:12:31,620\nI'll just do something simple,\nsomething I can remember,\n\n228\n00:12:31,620 --> 00:12:34,605\nI guess, is the important part here.\n\n229\n00:12:39,101 --> 00:12:43,020\nAll right, and I'll just hit Next,\nand now's the advanced settings.\n\n230\n00:12:43,020 --> 00:12:46,880\nI can pick what VPC it's attached to, if\nI want to move it to a dedicated network.\n\n231\n00:12:46,880 --> 00:12:51,730\nI've got my subnet groups to choose\nwhether it's publicly accessible or not.\n\n232\n00:12:51,730 --> 00:12:57,050\nWe don't normally want that, we normally\njust want certain internal service or our\n\n233\n00:12:57,050 --> 00:13:01,060\nweb service to be able to access it, so\nwe'll use security groups to manage that.\n\n234\n00:13:01,060 --> 00:13:05,170\nAnd so, you might choose to say no here,\nthat nobody in the public can get to it,\n\n235\n00:13:05,170 --> 00:13:08,390\nthat it's just available internally, and\nthen use security groups to manage that.\n\n236\n00:13:09,400 --> 00:13:11,390\nThe availability zone can\nbe chosen right here.\n\n237\n00:13:11,390 --> 00:13:15,930\nI've got my US East options, and\nthen my security groups are right here.\n\n238\n00:13:15,930 --> 00:13:20,920\nSo I would probably create a security\ngroup called web-database, and\n\n239\n00:13:20,920 --> 00:13:21,780\nput this behind it.\n\n240\n00:13:21,780 --> 00:13:26,730\nAnd in web-database only\nallow the web dashed hosts\n\n241\n00:13:26,730 --> 00:13:29,310\nof security group to access it.\n\n242\n00:13:29,310 --> 00:13:32,520\nThat would make it where just my web\nservice could access the database, and\n\n243\n00:13:32,520 --> 00:13:33,260\nnot the public.\n\n244\n00:13:35,000 --> 00:13:37,130\nThen we've got our default\nport number we can pick from,\n\n245\n00:13:37,130 --> 00:13:41,110\nand other parameters that really\nbase around Microsoft SQL.\n\n246\n00:13:41,110 --> 00:13:42,970\nThe Backup Retention is kind of important.\n\n247\n00:13:42,970 --> 00:13:46,060\nThey're gonna be taking\nbackups of your servers, but\n\n248\n00:13:46,060 --> 00:13:47,450\nthat storage can cost you money.\n\n249\n00:13:47,450 --> 00:13:48,839\nSo you don't want to keep backups forever.\n\n250\n00:13:49,900 --> 00:13:53,180\nUse your retention period to dictate\nhow much data you want to hold.\n\n251\n00:13:53,180 --> 00:13:56,150\nYou can go from zero backups,\nwhich is a terrible idea, to 35.\n\n252\n00:13:56,150 --> 00:14:01,180\nThat's the maximum, and then you can\nspecify what the backup window is,\n\n253\n00:14:01,180 --> 00:14:04,390\nand the back up window is\nwhen the back up occurs.\n\n254\n00:14:04,390 --> 00:14:07,990\nThey do not let you pick\na specific time for back up.\n\n255\n00:14:07,990 --> 00:14:10,850\nRemember you're on shared\nservers with other people so\n\n256\n00:14:10,850 --> 00:14:13,090\nthey have to balance all\nthe customers together.\n\n257\n00:14:13,090 --> 00:14:18,010\nSo instead you pick a window, a window of\ntime that you'll be able to back up, and\n\n258\n00:14:18,010 --> 00:14:21,040\nyou specify a start time and\nthe duration and\n\n259\n00:14:21,040 --> 00:14:25,170\nwhat you wanna do is pick\nthe slowest time for your database.\n\n260\n00:14:25,170 --> 00:14:27,310\nThat might be the middle of the night,\nit might be Sundays,\n\n261\n00:14:27,310 --> 00:14:30,560\nit might be whatever, but\nyou go through and designate when that is.\n\n262\n00:14:30,560 --> 00:14:34,070\nSo I might say 9 AM UTC for\n\n263\n00:14:34,070 --> 00:14:37,880\n2 hours, that I've got that little\ngap right there that things are slow.\n\n264\n00:14:37,880 --> 00:14:39,470\nIt's a good time to back\nup the data base and\n\n265\n00:14:39,470 --> 00:14:42,120\nsomewhere in that window it\nwill perform the back up.\n\n266\n00:14:44,420 --> 00:14:46,640\nAuto upgrades are another nice feature.\n\n267\n00:14:46,640 --> 00:14:50,690\nYou can say that if there's a minor\nupgrade, to just automatically do it.\n\n268\n00:14:50,690 --> 00:14:54,670\nGo ahead and apply service packs,\nlittle things, don't bother me with those.\n\n269\n00:14:54,670 --> 00:14:56,320\nAnd then you can specify\nthe maintenance window for\n\n270\n00:14:56,320 --> 00:14:59,840\nthat, when we allow those\nminor updates to apply.\n\n271\n00:14:59,840 --> 00:15:03,210\nKeep in mind that a lot of minor updates\nrequire restarting the service so\n\n272\n00:15:03,210 --> 00:15:05,670\nthat's why it's wanting a choice there for\n\n273\n00:15:05,670 --> 00:15:11,260\nthe window, and\nwith that it would launch the database.\n\n274\n00:15:11,260 --> 00:15:13,310\nNow, I'm gonna cancel that because\nI wanna do it one more time,\n\n275\n00:15:13,310 --> 00:15:16,370\nI'll do my SQL this time so\nI don't break any licensing agreements.\n\n276\n00:15:16,370 --> 00:15:19,260\nMy SQL is free, so, I'll choose that,\n\n277\n00:15:19,260 --> 00:15:21,730\nand it's gonna ask a lot\nof the same questions.\n\n278\n00:15:21,730 --> 00:15:23,460\nDo I want to go multi AZ?\n\n279\n00:15:23,460 --> 00:15:26,020\nSure, right, I'll go ahead and\nrun with that.\n\n280\n00:15:26,020 --> 00:15:27,560\nAnd now it's gonna ask about my license.\n\n281\n00:15:27,560 --> 00:15:29,440\nSee how there's that general\npublic license, right.\n\n282\n00:15:29,440 --> 00:15:32,100\nThis one's free so\nI'm not gonna get in trouble.\n\n283\n00:15:32,100 --> 00:15:35,920\nI can pick the version, and they've got\na lot of versions in my SQL on tap, so\n\n284\n00:15:35,920 --> 00:15:39,070\nyou can pick the one that you need,\nmy instance sizes and so on.\n\n285\n00:15:39,070 --> 00:15:44,760\nI'm just going to flip this to magnetic,\nand I have my database identifiers.\n\n286\n00:15:44,760 --> 00:15:48,940\nThis was my IT Pro TV web, my user,\n\n287\n00:15:48,940 --> 00:15:51,370\nwhich I think I called admin,\nand then my password.\n\n288\n00:15:53,210 --> 00:15:54,850\nAll right, so\nwe'll just get this populated.\n\n289\n00:15:56,470 --> 00:15:58,720\nThink I typed the same password twice,\nwe'll find out.\n\n290\n00:15:58,720 --> 00:15:59,780\nThere we go.\n\n291\n00:15:59,780 --> 00:16:00,980\nSame options in here.\n\n292\n00:16:00,980 --> 00:16:05,760\nI do need to specify my database name,\nwhich I'll call this the itprotv products.\n\n293\n00:16:05,760 --> 00:16:07,590\nThis will be our products database.\n\n294\n00:16:09,070 --> 00:16:13,430\nMy ports for access, my backup retention\nand whether I want those minor upgrades.\n\n295\n00:16:13,430 --> 00:16:16,030\nSo I'm cool there, and\nI'll go ahead and launch it.\n\n296\n00:16:16,030 --> 00:16:19,950\nNow it's gonna launch that instance and\nit's already gonna have my SQL on it,\n\n297\n00:16:19,950 --> 00:16:22,030\nand it's already gonna have my database.\n\n298\n00:16:22,030 --> 00:16:25,500\nThe database is gonna be on there and\nmy credentials were created.\n\n299\n00:16:25,500 --> 00:16:28,920\nThat admin user will be on there and\nI'll be able to connect to the server,\n\n300\n00:16:28,920 --> 00:16:32,240\nstart populating it with my data and\nget to work.\n\n301\n00:16:32,240 --> 00:16:36,080\nThe nice part about it is I don't have to\nworry about backups now, they're doing it.\n\n302\n00:16:36,080 --> 00:16:38,590\nAnd I don't have to worry\nabout the Multi-AZ,\n\n303\n00:16:38,590 --> 00:16:42,240\nthe Availability Zone redundancy,\nthey're gonna take care of it.\n\n304\n00:16:42,240 --> 00:16:45,905\nThey're managing this and that's what\nyou're really paying for with RDS.\n\n305\n00:16:45,905 --> 00:16:50,115\nIf you want control over all that, then\ndon't bother using RDS, just go to EC2.\n\n306\n00:16:50,115 --> 00:16:51,945\nCreate your own instances, and\n\n307\n00:16:51,945 --> 00:16:55,015\nyou can completely manage that\nconfiguration however you want, but\n\n308\n00:16:55,015 --> 00:17:00,005\nin RDS, you're paying extra, so\nyou don't have to worry about that.\n\n309\n00:17:01,060 --> 00:17:05,710\nNow it's still creating mine and\nit can take a while but once it's done,\n\n310\n00:17:05,710 --> 00:17:07,330\nyou'll be able to work with it and\nwhen you click on it,\n\n311\n00:17:07,330 --> 00:17:11,530\nyou'll see a ton of details down here\nabout it, the option group that it's in,\n\n312\n00:17:11,530 --> 00:17:14,380\nthe parameter group that it's in and\nother information.\n\n313\n00:17:14,380 --> 00:17:17,990\nA lot of it is changeable after the fact,\nso we can go and modify it and\n\n314\n00:17:17,990 --> 00:17:19,470\ndo all sorts of different things.\n\n315\n00:17:19,470 --> 00:17:24,370\nYou'll see your instance actions down\nhere and you have modify, reboot.\n\n316\n00:17:24,370 --> 00:17:29,030\nIf I want to increase the memory or\nCPU's, I can go to modify and\n\n317\n00:17:29,030 --> 00:17:33,310\nchange this instance to a higher hardware\nlevel or a lower hardware level.\n\n318\n00:17:33,310 --> 00:17:36,200\nYou can create read replica's.\n\n319\n00:17:36,200 --> 00:17:40,530\nIf you're about to run a really big report\nand you know it's gonna hit that server\n\n320\n00:17:40,530 --> 00:17:45,180\nhard, you can create a read replica and\nrun the report against the replica.\n\n321\n00:17:45,180 --> 00:17:47,390\nThat way you don't impact\nperformance on your production.\n\n322\n00:17:47,390 --> 00:17:49,630\nHere you just click a button and do it.\n\n323\n00:17:49,630 --> 00:17:52,050\nIf you're managing this yourself,\nyou gotta spin up another instance,\n\n324\n00:17:52,050 --> 00:17:54,520\nyou gotta clone the database,\nyou gotta do all sorts of stuff.\n\n325\n00:17:54,520 --> 00:17:56,860\nHere, it's just a button.\n\n326\n00:17:56,860 --> 00:18:00,310\nIf your main database fails,\nyou can promote a read replica.\n\n327\n00:18:00,310 --> 00:18:04,020\nYou can take one of your replicas and make\nit the writable one and now it's up and\n\n328\n00:18:04,020 --> 00:18:06,210\nit becomes the primary database.\n\n329\n00:18:06,210 --> 00:18:08,480\nAnd if it's back behind a load balancer or\nsomething,\n\n330\n00:18:08,480 --> 00:18:12,070\nthen this could happen without end\nusers having to change a thing,\n\n331\n00:18:12,070 --> 00:18:15,320\nthey're just automatically redirected,\nand they're in business.\n\n332\n00:18:15,320 --> 00:18:18,710\nYou can take snapshots, and\nif you have snapshots, you can restore.\n\n333\n00:18:18,710 --> 00:18:20,270\nAnd you can restore to\na particular point in time,\n\n334\n00:18:20,270 --> 00:18:23,570\nbecause you've more than likely got\nmore than one backup to choose from.\n\n335\n00:18:23,570 --> 00:18:25,300\nSo a lot of different options there for\n\n336\n00:18:25,300 --> 00:18:30,520\nworking with the database server itself,\npretty easy to see, right in here.\n\n337\n00:18:30,520 --> 00:18:34,080\nAnd you can bring up more, one instance\nmight not be enough for you, so you might\n\n338\n00:18:34,080 --> 00:18:38,580\nneed to create additional ones to meet\nthe needs of your organization, all right?\n\n339\n00:18:38,580 --> 00:18:39,700\nYou just launch more.\n\n340\n00:18:39,700 --> 00:18:41,950\nYou've got some monitoring in place, and\n\n341\n00:18:41,950 --> 00:18:44,640\nif we had to show monitoring\nwe'll start to see performance.\n\n342\n00:18:44,640 --> 00:18:46,160\nHow much CPU are you using?\n\n343\n00:18:46,160 --> 00:18:48,790\nHow much database connection, and so on.\n\n344\n00:18:48,790 --> 00:18:51,860\nThis is monitoring we can create\non our own using CloudWatch, but\n\n345\n00:18:51,860 --> 00:18:54,550\nthe nice thing about RDS is they\nknow you're doing a database.\n\n346\n00:18:54,550 --> 00:18:56,770\nAnd so\nthey know the monitors to put in place and\n\n347\n00:18:56,770 --> 00:18:58,430\nthey give you that information right here.\n\n348\n00:18:58,430 --> 00:18:59,880\nAnd it's actually used in CloudWatch.\n\n349\n00:18:59,880 --> 00:19:01,970\nSee how it says,\nhere's your CloudWatch metrics?\n\n350\n00:19:01,970 --> 00:19:06,270\nThey've pre-set it up for us with what\na database server would normally need.\n\n351\n00:19:06,270 --> 00:19:10,820\nSo pretty neat stuff,\ndefinitely a valuable service.\n\n352\n00:19:10,820 --> 00:19:13,710\nIf you've ever needed a database\nserver fired up for an application but\n\n353\n00:19:13,710 --> 00:19:19,060\njust weren't a great database admin,\nRDS is the way to get around that.\n\n354\n00:19:19,060 --> 00:19:20,810\nLet them be the experts.\n\n355\n00:19:20,810 --> 00:19:24,030\nAmazon has some of the largest\ndata sets in the world.\n\n356\n00:19:24,030 --> 00:19:25,780\nTheir product database is massive.\n\n357\n00:19:25,780 --> 00:19:27,540\nTheir customer database is massive.\n\n358\n00:19:27,540 --> 00:19:29,540\nThey know how to handle big databases.\n\n359\n00:19:29,540 --> 00:19:31,880\nAnd so, it's a great company\nto trust your databases to.\n\n360\n00:19:34,060 --> 00:19:38,140\nAll right, so, in this segment\nwe got a chance to see RDS,\n\n361\n00:19:38,140 --> 00:19:40,690\nhow to spin up an instance,\nhow to get if fired up.\n\n362\n00:19:40,690 --> 00:19:43,690\nIf it had ever finished I would\nhave shown my connecting to it.\n\n363\n00:19:43,690 --> 00:19:46,130\nBut, connecting to it varies\nfrom database to database.\n\n364\n00:19:46,130 --> 00:19:49,830\nYou use whichever client you'd normally\ndo and you point it that server,\n\n365\n00:19:49,830 --> 00:19:51,790\nso that does kind of vary.\n\n366\n00:19:51,790 --> 00:19:53,600\nAll right,\nI hope you guys enjoyed the segment.\n\n367\n00:19:53,600 --> 00:19:56,130\nIf you're interested in\nAmazon Web Services, stay tuned.\n\n368\n00:19:56,130 --> 00:19:58,000\nWe've got more AWS coming up.\n\n",
          "vimeoId": "109806736"
        }
      ],
      "title": "Configure Amazon Web Services"
    }
  ],
  "url": "amazon-web-services",
  "vLab": false
}
