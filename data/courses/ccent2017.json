{
  "description": "The Cisco Certified Entry Networking Technician (CCENT) certification is targeted towards IT workers interested in becoming Network Administrators. The certification covers foundational networking topics required of anyone working with IPv4 and IPv6 networks. The series also covers configuring and maintaining Cisco routers and switches in small to medium sized networks. Topics covered in this series include routing protocols, VLANs, device security and more.",
  "descriptionMD": "",
  "length": "77640",
  "name": "CCENT",
  "practiceExam": true,
  "subtitle": "Cisco Certified Entry Networking Technician",
  "tagUrl": "legacy",
  "topics": [
    {
      "episodes": [
        {
          "description": "The Cisco Certified Entry Networking Technician (CCENT) certification is targeted towards IT workers interested in becoming Network Administrators. The certification covers foundational networking topics required of anyone working with IPv4 and IPv6 networks. The series also covers configuring and maintaining Cisco routers and switches in small to medium sized networks. Topics covered in this series include routing protocols, VLANs, device security and more.",
          "length": "407",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-0-0-overview-080316-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-0-0-overview-080316-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-0-0-overview-080316-1-sm.jpg",
          "title": "Overview",
          "transcript": "WEBVTT\n\n1\n00:00:00.025 --> 00:00:08.763\n[SOUND].\n\n2\n00:00:08.763 --> 00:00:12.547\nIn this video we're gonna take a look\nat the Cisco certified entry network\n\n3\n00:00:12.547 --> 00:00:16.330\ntechnician certification\nshow right here on ITPro.TV.\n\n4\n00:00:16.330 --> 00:00:18.860\nFirst off, let's talk a little\nbit about the certification.\n\n5\n00:00:18.860 --> 00:00:21.760\nThe CCENT is designed\nto be your first step\n\n6\n00:00:21.760 --> 00:00:25.640\non the path to becoming a Cisco\ncertified network administrator.\n\n7\n00:00:25.640 --> 00:00:30.130\nThat this is designed for people who had\nno work with Cisco who came up before.\n\n8\n00:00:30.130 --> 00:00:33.770\nYou may have never touched\na Cisco router or switch.\n\n9\n00:00:33.770 --> 00:00:35.890\nMaybe you never even seen them.\n\n10\n00:00:35.890 --> 00:00:39.820\nWe start from the very basics and walk you\nthrough, getting that first device set up.\n\n11\n00:00:39.820 --> 00:00:42.780\nHow do you get it out of the box, get\nit turned on, and get it doing its job?\n\n12\n00:00:42.780 --> 00:00:45.590\nAnd then what are some of\nthe advanced features?\n\n13\n00:00:45.590 --> 00:00:48.405\nCCENT is absolutely\nstarting with the basics.\n\n14\n00:00:48.405 --> 00:00:52.765\nWe focus on one router, or one switch,\nversus things like the CCNA,\n\n15\n00:00:52.765 --> 00:00:54.885\nthat's more like ten routers and\nten switches.\n\n16\n00:00:54.885 --> 00:00:58.385\nOr the CCNP where it's hundreds of\nrouters or hundreds of switches.\n\n17\n00:00:58.385 --> 00:01:00.815\nIt gets progressively more complex.\n\n18\n00:01:00.815 --> 00:01:03.760\nSo, CCENT is that beginning part.\n\n19\n00:01:03.760 --> 00:01:05.045\nThis certification is designed for\n\n20\n00:01:05.045 --> 00:01:09.485\npeople who are, maybe you want to\nbecome a network administrator, right?\n\n21\n00:01:09.485 --> 00:01:13.880\nCisco is the most Common network\nmanufacturer out there in the enterprise\n\n22\n00:01:13.880 --> 00:01:16.720\nmarketplace, you're gonna see\nit in a lot of job requirements.\n\n23\n00:01:16.720 --> 00:01:19.450\nSo if you're wanting to get started,\nmaybe you're already an IT and\n\n24\n00:01:19.450 --> 00:01:22.960\nyou're supporting servers and you wanna\nstart moving over to the network side.\n\n25\n00:01:22.960 --> 00:01:24.902\nOr maybe you're one of those\njack of all trades and\n\n26\n00:01:24.902 --> 00:01:27.725\nyou've been tasked with supporting\nservers and switches and routers,\n\n27\n00:01:27.725 --> 00:01:29.402\nyou've got the whole thing on your plate.\n\n28\n00:01:29.402 --> 00:01:31.740\nWell, Cisco's a great one to learn.\n\n29\n00:01:31.740 --> 00:01:35.040\nThere's other vendors that are out\nthere like HP and Juniper and\n\n30\n00:01:35.040 --> 00:01:38.970\nthey make great equipment but Cisco\nreally is the market leader in this area.\n\n31\n00:01:38.970 --> 00:01:40.538\nSo if you learn their equipment,\n\n32\n00:01:40.538 --> 00:01:43.344\nthe odds are you'll be able\nto support most environments.\n\n33\n00:01:43.344 --> 00:01:47.355\nAnd the technologies are really kind of\ncommon between a lot of the vendors so\n\n34\n00:01:47.355 --> 00:01:48.502\nwe see that here too.\n\n35\n00:01:48.502 --> 00:01:51.891\nNow CCENT does overlap a bit\nwith CompTIA's Network+, so\n\n36\n00:01:51.891 --> 00:01:54.547\nif you've already done that certification.\n\n37\n00:01:54.547 --> 00:01:58.240\nSome of it will be overlapped because we\ndo cover some fundamentals in theories.\n\n38\n00:01:58.240 --> 00:02:00.900\nLet's take a look at\nthe exam itself real quick.\n\n39\n00:02:00.900 --> 00:02:05.131\nSo like I mentioned, CCNT is that\nstarting point on your Cisco Careers.\n\n40\n00:02:05.131 --> 00:02:09.046\nSo CCNA being the next step, that's\nthe Cisco Certified Network Associate and\n\n41\n00:02:09.046 --> 00:02:12.530\nthen Cisco Certified Network Professional\nbeyond that.\n\n42\n00:02:12.530 --> 00:02:16.819\nThe exam itself, it is one exam and\none certification.\n\n43\n00:02:16.819 --> 00:02:22.736\nSo you'll take the 100-105 which\nis the version 3.0 of the CCENT.\n\n44\n00:02:22.736 --> 00:02:25.525\nThe exam itself is actually\ncalled the interconnecting\n\n45\n00:02:25.525 --> 00:02:27.312\nCisco Network Devices Part I exam.\n\n46\n00:02:27.312 --> 00:02:31.320\nThe CCNA exam is the interconnecting\nCisco Network Devices Part 2 exam.\n\n47\n00:02:31.320 --> 00:02:34.380\nYou have to pass both to get your CCNA.\n\n48\n00:02:34.380 --> 00:02:37.194\nYou just to have pass this\none to get your CCENT.\n\n49\n00:02:37.194 --> 00:02:41.220\nThe exam itself covers\nnetwork fundamentals.\n\n50\n00:02:41.220 --> 00:02:42.970\nRight, that's that overlap with Network+.\n\n51\n00:02:42.970 --> 00:02:46.610\nWe're gonna talk about IP addressing,\nand Ethernet networks, and\n\n52\n00:02:46.610 --> 00:02:49.270\nwireless networks, and\nhow these networks function.\n\n53\n00:02:49.270 --> 00:02:51.380\nThen we get into LAN\nswitching fundamentals,\n\n54\n00:02:51.380 --> 00:02:53.330\nwhich is really Cisco switches.\n\n55\n00:02:53.330 --> 00:02:54.820\nSo how does Cisco switches work?\n\n56\n00:02:54.820 --> 00:02:55.810\nHow do we configure them?\n\n57\n00:02:55.810 --> 00:02:58.050\nHow do we use technologies like VLANs?\n\n58\n00:02:58.050 --> 00:02:59.700\nHow do we implement them?\n\n59\n00:02:59.700 --> 00:03:01.150\nThen we get into routing fundamentals.\n\n60\n00:03:01.150 --> 00:03:02.010\nHow do routers work?\n\n61\n00:03:02.010 --> 00:03:03.580\nHow do you set up a router, initially?\n\n62\n00:03:03.580 --> 00:03:07.060\nHow do you use dynamic routing protocols,\nand static routing protocols.\n\n63\n00:03:07.060 --> 00:03:09.350\nHow do they make the decisions they make?\n\n64\n00:03:09.350 --> 00:03:10.710\nThen we get into infrastructure service.\n\n65\n00:03:10.710 --> 00:03:12.700\nThis is probably the one\nI have the most fun with.\n\n66\n00:03:12.700 --> 00:03:17.990\nBecause Cisco routers and switches can\ndo way more than just route and switch.\n\n67\n00:03:17.990 --> 00:03:20.490\nAnd so we look at the advanced\nfunctionality that's built into them.\n\n68\n00:03:20.490 --> 00:03:22.410\nThe stuff that's turned off by default.\n\n69\n00:03:22.410 --> 00:03:23.565\nAnd we learn how to turn it on and\n\n70\n00:03:23.565 --> 00:03:26.332\nactually make use of all that hardware\nthat we just paid so much money for.\n\n71\n00:03:26.332 --> 00:03:29.080\nAnd then lastly we talked about\ninfrastructure maintenance.\n\n72\n00:03:29.080 --> 00:03:30.780\nOnce you've got your routers and\nswitches configured,\n\n73\n00:03:30.780 --> 00:03:32.140\nyou can't just forget about them.\n\n74\n00:03:32.140 --> 00:03:34.850\nThere's routine maintenance that we need\nto do to keep them up and running and\n\n75\n00:03:34.850 --> 00:03:37.500\nhealthy, make sure they're patched for\nsecurity purposes and\n\n76\n00:03:37.500 --> 00:03:39.050\ntroubleshoot any issues that come up.\n\n77\n00:03:39.050 --> 00:03:41.970\nThat's all covered right there in the end.\n\n78\n00:03:41.970 --> 00:03:45.995\nNow, one of the really cool parts\nabout the CCENT is, it is a great\n\n79\n00:03:45.995 --> 00:03:50.650\nstepping-stone, it's that first step to\ngetting into Cisco Certification Network.\n\n80\n00:03:50.650 --> 00:03:53.330\nAnd, it's also a multi-purpose cert.\n\n81\n00:03:53.330 --> 00:03:58.288\nIt used to be that CCENT matched up\nwith the CCNA for routing and switching,\n\n82\n00:03:58.288 --> 00:04:02.947\nbut now CCENT is actually a requirement\nfor several different CCNAs.\n\n83\n00:04:02.947 --> 00:04:05.590\nYou might continue on with\nCCNA routing and switching.\n\n84\n00:04:05.590 --> 00:04:09.440\nOr you might do CCNA security or\nCCNA wireless.\n\n85\n00:04:09.440 --> 00:04:12.700\nThe CCENT exam is the same for\nall of them.\n\n86\n00:04:12.700 --> 00:04:16.202\nSo, once you've passed your CCNA,\nyou're ready to move into any.\n\n87\n00:04:16.202 --> 00:04:18.450\nI'm sorry, once you've passed your CCENT,\n\n88\n00:04:18.450 --> 00:04:21.970\nyou are ready to move into any of\nthe CCNA's that are out there.\n\n89\n00:04:21.970 --> 00:04:25.880\nAnd you'll see there's CCNA Cloud,\nCollaboration, Cyber Ops, Data Center,\n\n90\n00:04:25.880 --> 00:04:30.630\nIndustrial, Routing and Switching,\nSecurity, Wireless, Service Provider.\n\n91\n00:04:30.630 --> 00:04:33.310\nAll these different ones,\nCCENT is a requirement for them.\n\n92\n00:04:33.310 --> 00:04:37.640\nSo definitely a great place to get\nstarted on your certification career.\n\n93\n00:04:37.640 --> 00:04:39.180\nNow when you're ready to take the exam,\n\n94\n00:04:39.180 --> 00:04:41.140\nthe exam is actually administered\nthrough Pearson Vue.\n\n95\n00:04:41.140 --> 00:04:42.550\nYou can go to the website,\n\n96\n00:04:42.550 --> 00:04:46.570\nit's vue.com and\nyou can locate a testing center near you.\n\n97\n00:04:46.570 --> 00:04:48.790\nThey're located all over the world.\n\n98\n00:04:48.790 --> 00:04:52.930\nAnd so you can sign up through Vue,\ngo and take the exam, pass it and\n\n99\n00:04:52.930 --> 00:04:55.190\nget your CCENT certification.\n\n100\n00:04:55.190 --> 00:04:58.060\nNow throughout our series, we're gonna\nbe covering all the exam objectives for\n\n101\n00:04:58.060 --> 00:04:59.240\nthat exam.\n\n102\n00:04:59.240 --> 00:05:02.750\nOnce you get in there, you start working\nwith the system, you get used to it.\n\n103\n00:05:02.750 --> 00:05:05.560\nYou jump in, you pass the test,\nyou get the certification and\n\n104\n00:05:05.560 --> 00:05:09.390\nit's on your resume and you just started\nyour journey in the networking world.\n\n105\n00:05:09.390 --> 00:05:12.878\nAnother thing that I wanna mention here\nreal quick in the overview is that\n\n106\n00:05:12.878 --> 00:05:16.776\nif you're just getting started, you might\nnot have access to Cisco equipment.\n\n107\n00:05:16.776 --> 00:05:18.600\nI'm gonna show you all sorts\nof things in this show.\n\n108\n00:05:18.600 --> 00:05:20.440\nWe'll see how to configure,\nhow the commands work,\n\n109\n00:05:20.440 --> 00:05:24.752\nbut there's no substitute for actually\ngetting exposure to real equipment.\n\n110\n00:05:24.752 --> 00:05:27.760\nWell, on the ITPro.TV website,\nif you take a look,\n\n111\n00:05:27.760 --> 00:05:29.850\nwe have what are called our advanced labs.\n\n112\n00:05:29.850 --> 00:05:30.950\nThey're not our regular labs.\n\n113\n00:05:30.950 --> 00:05:32.210\nThey are advanced labs.\n\n114\n00:05:32.210 --> 00:05:34.880\nInstead of having a virtual\nenvironment like our normal labs,\n\n115\n00:05:34.880 --> 00:05:38.090\nour advanced labs give you access\nto real physical equipment.\n\n116\n00:05:38.090 --> 00:05:41.630\nWe have a data center that's over in\nLondon, you'll be able to connect in and\n\n117\n00:05:41.630 --> 00:05:44.450\nremotely access those devices.\n\n118\n00:05:44.450 --> 00:05:47.220\nIt's priced at, I believe,\nsomewhere around $50 a year, so\n\n119\n00:05:47.220 --> 00:05:48.850\nit's extremely inexpensive.\n\n120\n00:05:48.850 --> 00:05:52.440\nAnd that gives you access to multiple\nrouters and multiple switches,\n\n121\n00:05:52.440 --> 00:05:56.530\nnot simulated ones, actual real\nrouters that you can work with any\n\n122\n00:05:56.530 --> 00:06:00.670\ntime you want throughout the day, 7 days\na week, 365 days a year, it's available.\n\n123\n00:06:00.670 --> 00:06:04.740\nThere's step by step labs you can go\nthrough to try the technologies out and\n\n124\n00:06:04.740 --> 00:06:06.720\nlearn, and really see that.\n\n125\n00:06:06.720 --> 00:06:09.200\nAs you watch the show, you'll see\nwhere even I use the advanced labs.\n\n126\n00:06:09.200 --> 00:06:11.930\nIn some of the episodes,\nI use real equipment too.\n\n127\n00:06:11.930 --> 00:06:15.640\nReal equipment is nice to just go on\neBay and buy some used equipment, and\n\n128\n00:06:15.640 --> 00:06:17.588\nyou can test and experiment and use it.\n\n129\n00:06:17.588 --> 00:06:19.430\nYou wouldn't wanna use it in production,\nbut for\n\n130\n00:06:19.430 --> 00:06:21.370\na home lab you can really learn\neverything you need to know.\n\n131\n00:06:21.370 --> 00:06:24.030\nSo definitely get some hands on exposure.\n\n132\n00:06:24.030 --> 00:06:25.820\nWatch our shows,\nwe cover the technologies there.\n\n133\n00:06:25.820 --> 00:06:27.660\nAnd when you do both, you're ready.\n\n134\n00:06:27.660 --> 00:06:31.560\nYou're gonna pass the exam, get that\nCCENT, and launch your certification.\n\n135\n00:06:31.560 --> 00:06:33.770\nSo if that sounds exciting to you,\nyou're definitely in the right place.\n\n136\n00:06:33.770 --> 00:06:37.670\nStay tuned,\nwe got CCENT episodes coming up.\n\n137\n00:06:37.670 --> 00:06:46.649\n[MUSIC]\n\n",
          "vimeoId": "177713877"
        },
        {
          "description": "In this episode, Ronnie and Don review the basic concepts of the 7 layer OSI networking model.  They briefly talk about it’s origins and then describe each of the 7 layers and how they function in networking.  Also, they describe the process of encapsulation and decapsulation and remind us that data is named differently at the Transport, Network, Data Link and Physical layers.",
          "length": "2090",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-1-osi_model-0701516-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-1-osi_model-0701516-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-1-osi_model-0701516-1-sm.jpg",
          "title": "The OSI Model",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.913 --> 00:00:15.021\nWelcome to another great\nepisode right here on ITProTV.\n\n3\n00:00:15.021 --> 00:00:18.435\nI'm your host, Ronnie Wong, and today,\nwe're gonna be taking a look at\n\n4\n00:00:18.435 --> 00:00:21.450\nthe Cisco CCENT exam,\ngetting ready for that new exam.\n\n5\n00:00:21.450 --> 00:00:25.670\nNow as we begin, we have Mr. Don Pezet\nhere to help us to get started and\n\n6\n00:00:25.670 --> 00:00:27.360\nwe're gonna be taking\na look at the USI model.\n\n7\n00:00:27.360 --> 00:00:28.820\nDon, welcome back to our studios.\n\n8\n00:00:28.820 --> 00:00:30.930\n>> Hey, Ronnie, thanks for having me and\nI'm excited to jump in and\n\n9\n00:00:30.930 --> 00:00:31.880\nkick this thing off.\n\n10\n00:00:31.880 --> 00:00:34.550\nAnd with any technology when\nyou jump in and start to learn,\n\n11\n00:00:34.550 --> 00:00:36.920\nthere's always some foundational\nknowledge that we've gotta have.\n\n12\n00:00:36.920 --> 00:00:40.110\nJust to make sure we understand the basics\nbefore we move into the really fun and\n\n13\n00:00:40.110 --> 00:00:40.680\nexciting stuff.\n\n14\n00:00:40.680 --> 00:00:44.199\nI know some of you guys are thinking, boy\nI'm really excited to dive into the Cisco\n\n15\n00:00:44.199 --> 00:00:46.648\nworld, and\nthis is the first episode you're watching.\n\n16\n00:00:46.648 --> 00:00:50.280\nYou're ready to jump into that command\nline and start configuring things.\n\n17\n00:00:50.280 --> 00:00:53.150\nThat is important,\nthat is the exciting stuff, believe me.\n\n18\n00:00:53.150 --> 00:00:54.942\nBut there is a few just basic concepts and\n\n19\n00:00:54.942 --> 00:00:57.420\nwe need to make sure that we\nabsolutely understand, and\n\n20\n00:00:57.420 --> 00:01:00.440\nthat's what we'll be tackling in\nthese first couple of episodes.\n\n21\n00:01:00.440 --> 00:01:05.490\nNow if you're already Network+ certified,\nyou're not gonna hurt my feelings.\n\n22\n00:01:05.490 --> 00:01:07.580\nIf you skip a couple episodes and\nbump forward, but\n\n23\n00:01:07.580 --> 00:01:11.780\nwe need to cover things like the OSI\nmodel that is really critical to know.\n\n24\n00:01:11.780 --> 00:01:14.640\nThe TCP/IP protocol stack and\nhow it functions and\n\n25\n00:01:14.640 --> 00:01:17.778\nwe're gonna take a look at IPv4 and\nIPv6 addressing.\n\n26\n00:01:17.778 --> 00:01:20.509\nAnd if those are topics you're\nabsolutely comfortable too or\n\n27\n00:01:20.509 --> 00:01:22.776\ncomfortable with just skip\nto the second section.\n\n28\n00:01:22.776 --> 00:01:24.790\nAnd that's where we dive right\ninto the Cisco command line and\n\n29\n00:01:24.790 --> 00:01:26.710\nreally start working with that equipment.\n\n30\n00:01:26.710 --> 00:01:28.870\nBut if you are just starting\nworking in networking,\n\n31\n00:01:28.870 --> 00:01:31.680\nyou really have to understand\nthe basic foundational principles.\n\n32\n00:01:31.680 --> 00:01:34.550\nBecause if you don't,\nhow can you build on knowledge,\n\n33\n00:01:34.550 --> 00:01:36.697\nwhen you don't have the base knowledge.\n\n34\n00:01:36.697 --> 00:01:39.960\nIt's gonna get really confusing really\nfast and things aren't gonna work out.\n\n35\n00:01:39.960 --> 00:01:43.350\nSo in this episode, we're gonna start off\nwith what's probably the most important\n\n36\n00:01:43.350 --> 00:01:47.020\nconcept in networking and\nthat's the OSI model.\n\n37\n00:01:47.020 --> 00:01:49.690\nOSI stands for Open Systems Interconnect.\n\n38\n00:01:49.690 --> 00:01:52.284\nAnd what it is,\nis a well defined model for\n\n39\n00:01:52.284 --> 00:01:57.044\nhow we can build up network connectivity\non computers and networking gear.\n\n40\n00:01:57.044 --> 00:02:00.510\nIt originated out of a very specific need,\nback in the 80s,\n\n41\n00:02:00.510 --> 00:02:05.260\nif you bought a computer It likely didn't\neven have a network adapter in it, right?\n\n42\n00:02:05.260 --> 00:02:10.650\nNetwork computers were not very common in\nthe 80s and if you wanted to do something\n\n43\n00:02:10.650 --> 00:02:15.510\nthat was networked, every program that\nyou ran had to handle networking.\n\n44\n00:02:15.510 --> 00:02:17.690\nIt had to handle the entire\nbit of networking,\n\n45\n00:02:17.690 --> 00:02:20.020\nso even if it was something\nsimple like a video game.\n\n46\n00:02:20.020 --> 00:02:23.300\nI wanted to play a video game and have it\ntalk to someone else over the network.\n\n47\n00:02:23.300 --> 00:02:26.670\nThe video game had to have network\ndrivers and all that built into it.\n\n48\n00:02:26.670 --> 00:02:30.220\nIf it was a word processor and you\nwanted it to print to a network printer,\n\n49\n00:02:30.220 --> 00:02:33.040\nit had to have network\ndrivers built into it.\n\n50\n00:02:33.040 --> 00:02:37.470\nAnd so what the OSI model did is it\nallowed us to take network communications\n\n51\n00:02:37.470 --> 00:02:39.560\nand break them up into pieces and\n\n52\n00:02:39.560 --> 00:02:44.120\ninto different layers and each layer\nis responsible for a different aspect.\n\n53\n00:02:44.120 --> 00:02:47.680\nAnd now, when somebody writes a program,\nthey write a piece of software,\n\n54\n00:02:47.680 --> 00:02:50.770\nthey don't have to write the functions for\nall the different layers.\n\n55\n00:02:50.770 --> 00:02:53.970\nThey can reuse layers that\nare already in place and\n\n56\n00:02:53.970 --> 00:02:57.190\nthat makes software development easier,\nit makes network connectivity easier.\n\n57\n00:02:57.190 --> 00:03:00.470\nIt also makes troubleshooting easier\nbecause we can look at the different\n\n58\n00:03:00.470 --> 00:03:02.680\nlayers and troubleshoot it piece by piece.\n\n59\n00:03:02.680 --> 00:03:05.780\nSo it's all very valuable stuff to know.\n\n60\n00:03:05.780 --> 00:03:09.320\nAnd it's the foundation of every single\ncommunication that happens across\n\n61\n00:03:09.320 --> 00:03:11.530\nthe network, so that's where we're\ngonna be kicking this thing off.\n\n62\n00:03:11.530 --> 00:03:14.218\n>> Now, Don, just a little bit\nmore about the history, right?\n\n63\n00:03:14.218 --> 00:03:18.235\nIs it true that it really also depended\non like whether you were talking about\n\n64\n00:03:18.235 --> 00:03:18.872\nhardware?\n\n65\n00:03:18.872 --> 00:03:22.116\nIf you had an IBM computer that it\nwouldn't talk to another computer and\n\n66\n00:03:22.116 --> 00:03:24.507\nthey didn't know what type\nof networking they did.\n\n67\n00:03:24.507 --> 00:03:27.870\nUntil the OSI model really kinda\nhelp bridge that gap, right?\n\n68\n00:03:27.870 --> 00:03:29.331\n>> Yeah!\nI talked about it from the software\n\n69\n00:03:29.331 --> 00:03:29.911\nperspective.\n\n70\n00:03:29.911 --> 00:03:32.840\nThe same thing was true from\nthe hardware perspective,\n\n71\n00:03:32.840 --> 00:03:37.212\nthat if you are a hardware manufacturer\nand you created a network adapter, right?\n\n72\n00:03:37.212 --> 00:03:40.331\nThat you had a plan for, okay,\nwhat if somebody gonna run Novell,\n\n73\n00:03:40.331 --> 00:03:44.230\nwhat if somebody's gonna run Mac OS,\nwhat if somebody's gonna run Unix?\n\n74\n00:03:44.230 --> 00:03:48.040\nAnd they had to build the drivers for each\none and go through all this extra headache\n\n75\n00:03:48.040 --> 00:03:52.360\nfor each one and so, they would only\nsupport the really popular ones.\n\n76\n00:03:52.360 --> 00:03:55.280\nAnd that's why Token Ring networks were so\npopular back in the day was cuz\n\n77\n00:03:55.280 --> 00:03:59.270\nthey worked with IBM systems and you put\nthem in and you're done and that was it.\n\n78\n00:03:59.270 --> 00:04:02.660\nBut then you had people like Apple who\nhad a small part of the market share and\n\n79\n00:04:02.660 --> 00:04:03.680\nthey weren't getting supported.\n\n80\n00:04:03.680 --> 00:04:06.026\nSo they had to create their own,\nthey had to create AppleTalk and\n\n81\n00:04:06.026 --> 00:04:06.813\nget that rolled out.\n\n82\n00:04:06.813 --> 00:04:09.340\nThese protocols if you've never\nheard of them, don't worry about it.\n\n83\n00:04:09.340 --> 00:04:11.001\n>> [LAUGH]\n>> Cuz they've gone the way of\n\n84\n00:04:11.001 --> 00:04:11.876\nthe dodo, right?\n\n85\n00:04:11.876 --> 00:04:15.386\nThey've kind of expired,\nand all that's left now,\n\n86\n00:04:15.386 --> 00:04:19.211\nare a set of standard protocols\nthat everybody supports.\n\n87\n00:04:19.211 --> 00:04:21.428\nSo that if you wanna manufacture\na network adapter, or\n\n88\n00:04:21.428 --> 00:04:23.547\nif you want to create\na network operating system, or\n\n89\n00:04:23.547 --> 00:04:25.975\nif you want to create an application\nthat uses the network.\n\n90\n00:04:25.975 --> 00:04:28.991\nIt's all built on a standard platform,\nnice and easy,\n\n91\n00:04:28.991 --> 00:04:32.412\nall the communications go really well,\nit's a great system.\n\n92\n00:04:32.412 --> 00:04:36.207\n>> All right Don, so that sounds\nactually great, so where would we begin?\n\n93\n00:04:36.207 --> 00:04:40.526\nIf this is us, we just got Network+,\nwe might have memorized the OSI model,\n\n94\n00:04:40.526 --> 00:04:44.845\njust to get past the exam but now you're\ntalking about having to understand it\n\n95\n00:04:44.845 --> 00:04:47.119\na little bit more, a little bit better.\n\n96\n00:04:47.119 --> 00:04:49.144\nWhere's the best place for\nus to get started in this?\n\n97\n00:04:49.144 --> 00:04:50.758\n>> Well, let's start with the big picture,\nall right?\n\n98\n00:04:50.758 --> 00:04:53.847\nSo I worked up a diagram before\nthe show to demonstrate the OSI model,\n\n99\n00:04:53.847 --> 00:04:55.350\nI've got it up here on my laptop.\n\n100\n00:04:55.350 --> 00:04:57.955\nAnd if we take a look at it,\nwhat the OSI model is?\n\n101\n00:04:57.955 --> 00:05:02.590\nIs it's actually a system of\nseven different layers, okay?\n\n102\n00:05:02.590 --> 00:05:05.740\nSo I've got my 7 layers laid out right\nhere from here from the application layer\n\n103\n00:05:05.740 --> 00:05:08.265\nat the top all the way down\nto the physical layer.\n\n104\n00:05:08.265 --> 00:05:12.071\nAnd what we're gonna do in this episode is\nRon and I are gonna describe each of these\n\n105\n00:05:12.071 --> 00:05:15.845\nlayers and what they do and what their job\nis and kind of run through that process.\n\n106\n00:05:15.845 --> 00:05:20.203\nNow each layer is responsible for just\na certain piece of that communication,\n\n107\n00:05:20.203 --> 00:05:21.863\nnot the whole thing, right?\n\n108\n00:05:21.863 --> 00:05:26.001\nThe whole idea here is that we're breaking\nup our communication into different\n\n109\n00:05:26.001 --> 00:05:29.535\nsections and that way we don't have\nto worry about all of it at once.\n\n110\n00:05:29.535 --> 00:05:33.000\nWe can take it piece meal, piece by\npiece as we work through that data but\n\n111\n00:05:33.000 --> 00:05:34.920\nthe 7 layers are important.\n\n112\n00:05:34.920 --> 00:05:38.840\nAnd Ronnie mentioned memorizing,\nlet's talk about that for a second.\n\n113\n00:05:38.840 --> 00:05:43.110\nFor the exam, Cisco is gonna\nexpect you to know all 7 layers.\n\n114\n00:05:43.110 --> 00:05:47.040\nTheir names, their functions and\nmore importantly their order.\n\n115\n00:05:47.040 --> 00:05:51.560\nYou've gotta understand the order and it's\na little strange because layer one is down\n\n116\n00:05:51.560 --> 00:05:54.800\nat the bottom and\nlayer 7 is up here at the top.\n\n117\n00:05:54.800 --> 00:05:55.720\nSome people look and this and\n\n118\n00:05:55.720 --> 00:05:58.970\nthey think it should be numbered one\nthrough seven from the top down.\n\n119\n00:05:58.970 --> 00:06:01.467\nDon't think of it that way,\nthink of it as a building, right?\n\n120\n00:06:01.467 --> 00:06:04.880\nWhen you walk into a building at\nground level what floor are you on?\n\n121\n00:06:04.880 --> 00:06:08.440\nThe first floor and then you get\nin that elevator and you go up.\n\n122\n00:06:08.440 --> 00:06:10.030\nAnd that's exactly how\nthe OSI model works.\n\n123\n00:06:10.030 --> 00:06:13.990\nYou get in on the ground floor here on the\nphysical layer and then you up and up and\n\n124\n00:06:13.990 --> 00:06:15.470\nup the building to the 7th floor.\n\n125\n00:06:15.470 --> 00:06:19.260\nThat's the roof, the penthouse suite,\nthat's the application layer.\n\n126\n00:06:19.260 --> 00:06:23.398\nSo it's structured like\nan architect would build it, right?\n\n127\n00:06:23.398 --> 00:06:27.322\nSo that's how I always remember is layer\none all the way up to layer seven,\n\n128\n00:06:27.322 --> 00:06:31.780\nand each one performs a very specific job,\nright?\n\n129\n00:06:31.780 --> 00:06:35.110\nLet's shove all the way down here to\nlayer 1 and talk about that one, right?\n\n130\n00:06:35.110 --> 00:06:36.430\nThe physical layer.\n\n131\n00:06:36.430 --> 00:06:42.070\nThe physical layer, it's probably the most\nimportant of all the different layers.\n\n132\n00:06:42.070 --> 00:06:47.100\nThe thing to remember is that if something\ngoes wrong in one particular layer,\n\n133\n00:06:47.100 --> 00:06:49.970\neven though it's all divided if something\ngoes wrong in one layer it breaks\n\n134\n00:06:49.970 --> 00:06:52.190\nevery layer above it.\n\n135\n00:06:52.190 --> 00:06:54.840\nAnd that means that layer one's\ndarn important, isn't it?\n\n136\n00:06:54.840 --> 00:06:58.400\nIf layer one breaks,\neverything above it is broken, so\n\n137\n00:06:58.400 --> 00:07:00.220\nthe whole model breaks down,\nand that's it.\n\n138\n00:07:00.220 --> 00:07:03.820\nSo this is really important but\nit's also one of the most simple.\n\n139\n00:07:03.820 --> 00:07:09.100\nThe physical layer Is like its name\nimplies, your physical connection.\n\n140\n00:07:09.100 --> 00:07:11.700\nSo if I have a copper-based\nnetwork adapter and\n\n141\n00:07:11.700 --> 00:07:15.760\nI'm plugging a network cable into that\nnetwork adapter, that network cable?\n\n142\n00:07:15.760 --> 00:07:17.650\nThat's my physical layer, right?\n\n143\n00:07:17.650 --> 00:07:21.244\nCopper wiring,\nit's a Cat 5 cable or whatever.\n\n144\n00:07:21.244 --> 00:07:23.904\nWhatever network cable I'm using,\nit could be fiber-optics, right?\n\n145\n00:07:23.904 --> 00:07:27.590\nMaybe I've got a 10 gig\nethernet connection, so\n\n146\n00:07:27.590 --> 00:07:29.827\nI've got some fiber running.\n\n147\n00:07:29.827 --> 00:07:32.540\nIt could be wireless, I know.\n\n148\n00:07:32.540 --> 00:07:37.080\nWe call it physical and with wireless\nyou've got RF waves, you can't touch them.\n\n149\n00:07:37.080 --> 00:07:39.632\nBut that's still considered\nyour physical media,\n\n150\n00:07:39.632 --> 00:07:43.063\nthat's how you're communicating\nbetween your different devices.\n\n151\n00:07:43.063 --> 00:07:47.894\nSo if this represents the network\ncable and I unplug the network cable,\n\n152\n00:07:47.894 --> 00:07:49.192\nwhat did I just do?\n\n153\n00:07:49.192 --> 00:07:51.994\nI just broke my physical layer and\nbecause I'm unplugged,\n\n154\n00:07:51.994 --> 00:07:54.300\nall the layers above it\nbreak which makes sense.\n\n155\n00:07:54.300 --> 00:07:58.586\nYou unplug the network cable, you can't\nreally talk on the network can you?\n\n156\n00:07:58.586 --> 00:08:00.898\nSo that's why the physical layer is so\nimportant,\n\n157\n00:08:00.898 --> 00:08:04.576\nit's also one of the first places you want\nto go when you troubleshoot a problem.\n\n158\n00:08:04.576 --> 00:08:08.820\nWhen we troubleshoot a problem, you can\njust stab in the dark and keep checking\n\n159\n00:08:08.820 --> 00:08:13.450\ndifferent areas, or you can use the OSI\nmodel to help you troubleshoot, right?\n\n160\n00:08:13.450 --> 00:08:17.640\nIf you did Network Plus, you learned this,\nor A+, or any of those certifications.\n\n161\n00:08:17.640 --> 00:08:22.070\nWhere it's always great to have\na systematic approach to troubleshooting,\n\n162\n00:08:22.070 --> 00:08:25.750\nwhere you break up areas and you isolate\nthem, and you test one area at a time and\n\n163\n00:08:25.750 --> 00:08:26.780\nmove through.\n\n164\n00:08:26.780 --> 00:08:31.530\nSo, we can check at the physical layer,\nis my cable plugged in, and\n\n165\n00:08:31.530 --> 00:08:32.940\nhow do I know if that's working?\n\n166\n00:08:32.940 --> 00:08:36.520\nWe usually have link lights on a standard\nnetwork adapter, on your router,\n\n167\n00:08:36.520 --> 00:08:39.570\nyour switch, your firewall,\non your PCs, and Macs, whatever.\n\n168\n00:08:39.570 --> 00:08:40.780\nWhen you plug in the network adapter,\n\n169\n00:08:40.780 --> 00:08:43.650\nyou normally get some nice\nlittle lights that light up.\n\n170\n00:08:43.650 --> 00:08:48.010\nA green light typically for showing that\nyou've got link, and then an orange light\n\n171\n00:08:48.010 --> 00:08:50.980\nthat flashes to show activity, but\nsometimes it can mean different things.\n\n172\n00:08:50.980 --> 00:08:56.140\nYou gotta check it with your manuals, but\neasy to check, that's your physical layer.\n\n173\n00:08:56.140 --> 00:08:59.760\nVery key piece, and so\nit is the foundation for all networking.\n\n174\n00:08:59.760 --> 00:09:02.761\n>> Now, Don, that actually makes sense\nbecause, as I think about the physical\n\n175\n00:09:02.761 --> 00:09:05.041\nair, I think about the idea\nof two computers right there.\n\n176\n00:09:05.041 --> 00:09:07.799\nIf I don't have the physical\nair plugged in, in other words,\n\n177\n00:09:07.799 --> 00:09:11.088\nthere's not a pathway for me to send data,\nfrom one machine to the other,\n\n178\n00:09:11.088 --> 00:09:14.534\nit makes sense that if something breaks\nair that even the rest of that OSI model\n\n179\n00:09:14.534 --> 00:09:15.884\nis not going to communicate.\n\n180\n00:09:15.884 --> 00:09:19.472\nBut that's also that physical layer is\nthinking that there's a physical pathway\n\n181\n00:09:19.472 --> 00:09:23.320\nthat connects these devices, and whether\nwe're talking about radio frequency copper\n\n182\n00:09:23.320 --> 00:09:25.972\nor fiber or whatever it might be,\nif that pathway is broken,\n\n183\n00:09:25.972 --> 00:09:28.520\nwe're not gonna get pathway connectivity.\n\n184\n00:09:28.520 --> 00:09:30.923\nSo, Don, are we gonna move on\ninto the second layer here?\n\n185\n00:09:30.923 --> 00:09:33.287\n>> Yeah, Layer 1 is really easy, right?\n\n186\n00:09:33.287 --> 00:09:34.440\nIt's very simple.\n\n187\n00:09:34.440 --> 00:09:37.500\nUnfortunately, things start to\nget really complex after that but\n\n188\n00:09:37.500 --> 00:09:39.190\nno less important, right?\n\n189\n00:09:39.190 --> 00:09:42.330\nLayer 2 is the data link layer, and\nthe data link layer is responsible for\n\n190\n00:09:42.330 --> 00:09:44.660\nallowing two computers\nto talk to each other.\n\n191\n00:09:44.660 --> 00:09:47.230\nNow, we didn't always\nneed the data link layer.\n\n192\n00:09:47.230 --> 00:09:49.320\nIn early days of networking,\nwhat was networking?\n\n193\n00:09:49.320 --> 00:09:51.510\nIt was a cable that ran from\none computer to another.\n\n194\n00:09:51.510 --> 00:09:53.605\nJust two computers, point-to-point links,\n\n195\n00:09:53.605 --> 00:09:57.915\nso any communication that went onto\nthe wire was received by the other end.\n\n196\n00:09:57.915 --> 00:10:00.585\nIt was just two different computers and\nthat was it, but\n\n197\n00:10:00.585 --> 00:10:04.855\nwhen we began to have multiaccess\nnetworks, and this is like late 1970's,\n\n198\n00:10:04.855 --> 00:10:09.458\nwe're talking about long time ago here\nI guess, relatively speaking, but\n\n199\n00:10:09.458 --> 00:10:12.492\nwe got multiaccess networks.\n\n200\n00:10:12.492 --> 00:10:15.512\nNow you have more people in the room,\nright?\n\n201\n00:10:15.512 --> 00:10:19.291\nIt's like, if I'm here in the room with\nRonnie, and I talk, Ronnie, we can\n\n202\n00:10:19.291 --> 00:10:23.021\ngenerally assume that I'm talking to him,\nbut if there were four more people here,\n\n203\n00:10:23.021 --> 00:10:26.491\nin the room, how would people\nknow who I was talking to?\n\n204\n00:10:26.491 --> 00:10:29.651\nWell, I might make eye contact with them,\nor I might say their name, hey Ronnie,\n\n205\n00:10:29.651 --> 00:10:31.901\ndid you hear blah, blah, blah, right?\n\n206\n00:10:31.901 --> 00:10:34.731\nI give some kind of clue as to who\nit is that I'm trying to talk to,\n\n207\n00:10:34.731 --> 00:10:37.051\nthat's exactly what\nthe Data Link layer does.\n\n208\n00:10:37.051 --> 00:10:40.641\nThe Data Link layer allows multiple\ncomputers on the network to\n\n209\n00:10:40.641 --> 00:10:43.930\nfigure out who the heck they're\ntalking to, to identify them, and\n\n210\n00:10:43.930 --> 00:10:46.610\nit does that by applying a fiscal address.\n\n211\n00:10:46.610 --> 00:10:51.745\nThat address is called a Media Access\nControl address, a MAC address.\n\n212\n00:10:51.745 --> 00:10:53.075\nDon't confuse that with Mac,\nlike Macintosh.\n\n213\n00:10:53.075 --> 00:10:57.959\nIt's media access control, although\nMacintosh's do have MAC addresses, but so\n\n214\n00:10:57.959 --> 00:11:02.020\ndo Windows machines, so\ndo Cisco routers, switches, firewalls.\n\n215\n00:11:02.020 --> 00:11:08.340\nAnything with an ethernet network adaptor\nis going to have a MAC address, right?\n\n216\n00:11:08.340 --> 00:11:11.540\nBecause that's how we\nidentify those systems.\n\n217\n00:11:11.540 --> 00:11:16.530\nNow, the MAC address itself is\na 48-bit hexadecimal number,\n\n218\n00:11:16.530 --> 00:11:19.020\nwe're gonna see a more of\nthose as the series goes on.\n\n219\n00:11:19.020 --> 00:11:21.930\nMost of you should already be familiar\nwith those at this point, but\n\n220\n00:11:21.930 --> 00:11:26.710\nit's a 48-bit hexadecimal\nletter number combination, and,\n\n221\n00:11:26.710 --> 00:11:29.200\nin theory, they're globally unique.\n\n222\n00:11:29.200 --> 00:11:33.230\nSo, in other words, if I give you a\nnetwork adapter, it'll have a MAC address\n\n223\n00:11:33.230 --> 00:11:36.020\non it, and you're the only person in\nthe entire planet with that MAC address.\n\n224\n00:11:36.020 --> 00:11:38.100\nThat's what should happen, right?\n\n225\n00:11:38.100 --> 00:11:39.340\nThere are times we get duplicates,\n\n226\n00:11:39.340 --> 00:11:41.830\nwe see it all the time with\nvirtual systems these days, right?\n\n227\n00:11:41.830 --> 00:11:43.150\nWe start whipping up virtual machines,\n\n228\n00:11:43.150 --> 00:11:45.840\nthe odds of getting a duplicate\nMAC address are pretty high.\n\n229\n00:11:45.840 --> 00:11:49.920\nSo again, relatively speaking,\nso you can get duplicates.\n\n230\n00:11:49.920 --> 00:11:52.340\nIf you have duplicate MAC addresses,\nwhat happens?\n\n231\n00:11:52.340 --> 00:11:54.370\nThe network can't tell\nthose two machines apart.\n\n232\n00:11:54.370 --> 00:11:57.300\nIt assumes they're the same machine,\nso traffic destined for\n\n233\n00:11:57.300 --> 00:11:59.720\none is also sent to the other one,\nall right?\n\n234\n00:11:59.720 --> 00:12:04.780\nNow this is one of the few layers that I\ntook the time to break up into pieces here\n\n235\n00:12:04.780 --> 00:12:07.510\ncuz there's actually a second thing\nthat happens at this layer that's really\n\n236\n00:12:07.510 --> 00:12:09.320\nimportant, and that's LLC.\n\n237\n00:12:09.320 --> 00:12:13.600\nThe Link Layer Control protocol,aAnd LLC\n\n238\n00:12:13.600 --> 00:12:16.830\nis what dictates when we talk\non the line and when we don't.\n\n239\n00:12:16.830 --> 00:12:19.385\nIt's that link layer, so\nactually turning on the link and\n\n240\n00:12:19.385 --> 00:12:22.845\nturning off the link, that's another\nfunction of a data link layer.\n\n241\n00:12:22.845 --> 00:12:28.435\nReally critical and the neat thing about\nboth these guys, they're pretty much\n\n242\n00:12:28.435 --> 00:12:31.955\nentirely automatic, though it's not\nsomething we can configure or set.\n\n243\n00:12:31.955 --> 00:12:34.305\nIt's not even something\nwe have to monitor.\n\n244\n00:12:34.305 --> 00:12:35.875\nWhen you plug in your adaptor and\n\n245\n00:12:35.875 --> 00:12:41.570\nyou get a link light The physical adaptor\nis taking care of these roles right here.\n\n246\n00:12:41.570 --> 00:12:46.230\nAnd the data link layer is gonna take your\ndata, that might be ones and zeros, right?\n\n247\n00:12:46.230 --> 00:12:50.260\nYour digital data, and convert into\nwhatever your physical media needs.\n\n248\n00:12:50.260 --> 00:12:52.560\nSo, if it's electronic.\n\n249\n00:12:52.560 --> 00:12:57.500\nIf it's, maybe it's ones and\nzeros, if it's going over fiber.\n\n250\n00:12:57.500 --> 00:13:01.180\nIf it's RF waves,\nthen we need to get it converted to RF.\n\n251\n00:13:01.180 --> 00:13:02.150\nIf it's Fiber optic.\n\n252\n00:13:02.150 --> 00:13:03.150\nIt needs to be light.\n\n253\n00:13:03.150 --> 00:13:04.700\nSo the data link there gets it prepared.\n\n254\n00:13:04.700 --> 00:13:08.080\nThe physical layer gets converted and\nit goes across that wire.\n\n255\n00:13:08.080 --> 00:13:11.000\nThese two work very closely together, and\n\n256\n00:13:11.000 --> 00:13:15.270\ntypically need no interaction from us\nbesides from plugging in the cable.\n\n257\n00:13:15.270 --> 00:13:16.110\n>> All right.\nSo Don,\n\n258\n00:13:16.110 --> 00:13:20.110\nif I have the ability now to be able to\ntake that physical pathway that I have,\n\n259\n00:13:20.110 --> 00:13:23.590\nand I can now identify machines at\nthe other end, So I know I can send it to\n\n260\n00:13:23.590 --> 00:13:28.420\nthem, why do I need that third network\nlayer right there where it says network?\n\n261\n00:13:28.420 --> 00:13:31.880\nIt seemed like you already told me I can\nget data from one machine to the other.\n\n262\n00:13:31.880 --> 00:13:33.330\n>> All right, so\n\n263\n00:13:33.330 --> 00:13:36.810\nthe Data Link layer, it really came\nabout when networks were small, right?\n\n264\n00:13:36.810 --> 00:13:39.360\nIf I was gonna have two or three computers\nthat were talking to each other,\n\n265\n00:13:39.360 --> 00:13:40.650\nthey were all gonna be\nin the same building.\n\n266\n00:13:40.650 --> 00:13:42.230\nMaybe even in the same room.\n\n267\n00:13:42.230 --> 00:13:45.810\nSo they never really worried\nabout things like routers.\n\n268\n00:13:45.810 --> 00:13:49.290\nWhat if I have two or\nthree computers that I want to talk and\n\n269\n00:13:49.290 --> 00:13:52.840\nthey're in completely different\ngeographic locations.\n\n270\n00:13:52.840 --> 00:13:53.830\nNow I'm gonna get routed.\n\n271\n00:13:53.830 --> 00:13:57.770\nI've got to pass across complex\nnetworks on my way through and\n\n272\n00:13:57.770 --> 00:14:01.440\nthat makes things a lot more complex,\nright?\n\n273\n00:14:01.440 --> 00:14:03.360\nAnd the Data Link layer can't handle it.\n\n274\n00:14:03.360 --> 00:14:07.990\nThose MAC addresses With a MAC address,\nit will identify your network adapter, but\n\n275\n00:14:07.990 --> 00:14:12.020\nit won't identify where you're at\ngeographically, or anything like that.\n\n276\n00:14:12.020 --> 00:14:14.430\nThey don't know that when\nthey give you that address.\n\n277\n00:14:14.430 --> 00:14:17.070\nSo another way it had to be introduced,\nthe network way.\n\n278\n00:14:17.070 --> 00:14:21.310\nAnd this one Helps to identify\nwhere you're at a little more\n\n279\n00:14:21.310 --> 00:14:22.800\ngeographically, right?\n\n280\n00:14:22.800 --> 00:14:25.480\nNot necessarily tied to a particular\ncountry or whatever but at least to know\n\n281\n00:14:25.480 --> 00:14:29.520\nwhen you're on one network versus being\non a different network, all right?\n\n282\n00:14:29.520 --> 00:14:34.920\nSo we're able to see that Based\non what our network address is.\n\n283\n00:14:34.920 --> 00:14:38.900\nNow, here's where things really start\nto branch out and become different.\n\n284\n00:14:38.900 --> 00:14:39.970\nAt the network layer,\n\n285\n00:14:39.970 --> 00:14:44.350\nthere are number of different protocols\nthat you can run to help you be routed.\n\n286\n00:14:44.350 --> 00:14:46.230\nThe most popular one is IP.\n\n287\n00:14:46.230 --> 00:14:48.550\nIP is the internet protocol,\n\n288\n00:14:48.550 --> 00:14:52.210\nan IP version four That's the one that\nyou're usually gonna see out there.\n\n289\n00:14:52.210 --> 00:14:53.750\nInternet Protocol version 4.\n\n290\n00:14:53.750 --> 00:14:57.820\nIt's a series of addressing combined\nwith a subnet mask that allow\n\n291\n00:14:57.820 --> 00:15:00.400\nus to know whether two computers\nare on the same network, or\n\n292\n00:15:00.400 --> 00:15:02.000\nif they're on different networks.\n\n293\n00:15:02.000 --> 00:15:05.530\nAnd if they're on different networks, we\ngotta go through a router to get to them.\n\n294\n00:15:05.530 --> 00:15:07.570\nRight?\nAnd we've got a whole show on IPv4 coming\n\n295\n00:15:07.570 --> 00:15:09.270\nup so we're gonna tackle that in-depth.\n\n296\n00:15:09.270 --> 00:15:11.780\nBut just know that that's\nprobably the most common\n\n297\n00:15:11.780 --> 00:15:13.440\nIt's steadily being replaced by IPv6.\n\n298\n00:15:13.440 --> 00:15:18.650\nIPv6 works the same way it just\nhas a much larger address space so\n\n299\n00:15:18.650 --> 00:15:22.060\nit can be even bigger than\nwhat we have right now.\n\n300\n00:15:22.060 --> 00:15:24.690\nBut there's other protocols that\nare a little less common like IPX,\n\n301\n00:15:24.690 --> 00:15:28.190\nSPX and\nApple Talk that I mentioned earlier.\n\n302\n00:15:28.190 --> 00:15:31.910\nEven other protocols like\ncrazy things like that.\n\n303\n00:15:31.910 --> 00:15:33.560\nThat you really don't see anymore.\n\n304\n00:15:33.560 --> 00:15:38.250\nAnd that's because TCP/IP has kind of\nbecome the default de facto standard.\n\n305\n00:15:38.250 --> 00:15:42.230\nBecause the internet's the biggest\nnetwork, and the internet runs TCP/IP.\n\n306\n00:15:42.230 --> 00:15:45.850\nSo whatever's run on the internet is\ntypically gonna be the most common in our\n\n307\n00:15:45.850 --> 00:15:47.380\nbusiness environments these days.\n\n308\n00:15:47.380 --> 00:15:50.530\nSo other protocols like IPX,\nSPX have kind of gone away.\n\n309\n00:15:50.530 --> 00:15:51.980\nBut I do wanna mention them here.\n\n310\n00:15:51.980 --> 00:15:56.885\nYou just need some kind of protocol that\nhelps us to identify whether somebody is\n\n311\n00:15:56.885 --> 00:15:59.457\non our network or on a different network.\n\n312\n00:15:59.457 --> 00:16:03.328\nAnd if they're on a different network,\nwe need to send them to a router so\n\n313\n00:16:03.328 --> 00:16:05.239\nthey can get to that other network.\n\n314\n00:16:05.239 --> 00:16:08.695\n>> Now Don, since we know that we can\nactually now get traffic over from one\n\n315\n00:16:08.695 --> 00:16:12.383\nnetwork to another network by using\nthe network layer as well as the Data Link\n\n316\n00:16:12.383 --> 00:16:15.990\nlayer, being able to get that\nto the end device as well.\n\n317\n00:16:15.990 --> 00:16:16.690\nWhat if though,\n\n318\n00:16:16.690 --> 00:16:19.880\nhow do I know that the data has\nactually arrived at the other end.\n\n319\n00:16:19.880 --> 00:16:23.520\nOr, how do I actually know that I'm\nsending it out the way that I need to.\n\n320\n00:16:23.520 --> 00:16:26.453\n>> Sure, so, the first three layers here,\n1, 2, and 3,\n\n321\n00:16:26.453 --> 00:16:28.680\nthose are allowing me to find somebody.\n\n322\n00:16:28.680 --> 00:16:30.940\nRight, the physical cable\nI need to connect on.\n\n323\n00:16:30.940 --> 00:16:33.390\nThe Data Link layer so\nI can use MAC addresses to communicate.\n\n324\n00:16:33.390 --> 00:16:35.690\nThe Network layer so\nI can find them through routers.\n\n325\n00:16:35.690 --> 00:16:38.450\nAll of that is just finding\nthe person you're gonna talk to.\n\n326\n00:16:38.450 --> 00:16:40.760\nNow you actually need to talk to them.\n\n327\n00:16:40.760 --> 00:16:43.900\nAnd that's what the next two layers\nare all about, the transport and\n\n328\n00:16:43.900 --> 00:16:44.900\nsession layers.\n\n329\n00:16:44.900 --> 00:16:46.900\nSo the transport is\nwhat Ronnie was saying.\n\n330\n00:16:46.900 --> 00:16:49.730\nIf I send a message from\none computer to another,\n\n331\n00:16:49.730 --> 00:16:51.570\nhow do I know the other side got it?\n\n332\n00:16:51.570 --> 00:16:53.720\nOr if something went wrong and\n\n333\n00:16:53.720 --> 00:16:57.950\nit didn't get to the other side, how does\nthe other side ask me to retransmit it?\n\n334\n00:16:57.950 --> 00:17:00.069\nTo say hey,\nI need another copy of that message.\n\n335\n00:17:01.290 --> 00:17:03.650\nThat's what the Transport layer does.\n\n336\n00:17:03.650 --> 00:17:05.200\nLike the Network layer,\nthe Transport layer,\n\n337\n00:17:05.200 --> 00:17:07.940\nthere are a number of different\nprotocols you can run here.\n\n338\n00:17:07.940 --> 00:17:12.717\nAnd they all provide the same function,\na way to reliably transmit data from one\n\n339\n00:17:12.717 --> 00:17:16.930\nhost to another, and\nto re-transmit data in case it's lost.\n\n340\n00:17:16.930 --> 00:17:22.750\nThe most popular one of these is TCP,\nthe Transmission Control Protocol.\n\n341\n00:17:22.750 --> 00:17:26.170\nTCP has a mechanism in there for\ndoing a handshake with another person.\n\n342\n00:17:26.170 --> 00:17:27.812\nAnd we're gonna talk about\nthis in another episode.\n\n343\n00:17:27.812 --> 00:17:31.550\nWhere you can do a handshake, and\nthen you can start to send data, and\n\n344\n00:17:31.550 --> 00:17:32.810\nsend it reliably.\n\n345\n00:17:32.810 --> 00:17:36.190\nAnd the router on the other end, or the\nworkstation or whatever it is that you're\n\n346\n00:17:36.190 --> 00:17:40.330\ntalking to on the other end,\nit will know if a packet gets lost.\n\n347\n00:17:40.330 --> 00:17:42.700\nAnd if something gets lost,\nit'll have a mechanism to say,\n\n348\n00:17:42.700 --> 00:17:44.300\nhey, can you resend me that packet.\n\n349\n00:17:44.300 --> 00:17:45.140\nI didn't get it.\n\n350\n00:17:45.140 --> 00:17:46.400\nAnd so then we can resend it.\n\n351\n00:17:46.400 --> 00:17:48.840\nThat way we get reliable communication.\n\n352\n00:17:48.840 --> 00:17:51.000\nThat's exactly what you want.\n\n353\n00:17:51.000 --> 00:17:54.600\nSPX, or Sequence Packet Exchange, that's\nanother protocol that does the same thing.\n\n354\n00:17:54.600 --> 00:17:55.740\nThat was made by Novel.\n\n355\n00:17:55.740 --> 00:17:57.730\nYou really don't see that one\nanymore that was out there.\n\n356\n00:17:58.910 --> 00:18:00.466\nFunctionally, it was\nactually a better protocol.\n\n357\n00:18:00.466 --> 00:18:03.833\nSPX was better than TCP but\nSPX was a closed source,\n\n358\n00:18:03.833 --> 00:18:08.380\nit was a proprietary protocol made\nby Novell so you had to license it.\n\n359\n00:18:08.380 --> 00:18:13.152\nTCP is open source, free, and\nso people use the free stuff.\n\n360\n00:18:13.152 --> 00:18:15.080\nBut the best protocol doesn't always win,\nright.\n\n361\n00:18:15.080 --> 00:18:17.005\nSometimes it's the cheap one.\n\n362\n00:18:17.005 --> 00:18:18.783\n[LAUGH] So that's where we are now,\n\n363\n00:18:18.783 --> 00:18:23.910\nis the TCP/IP combined is just kind of a\ncheap one, and that's what we end up with.\n\n364\n00:18:23.910 --> 00:18:25.160\nBut there are alternatives out there.\n\n365\n00:18:25.160 --> 00:18:27.650\nWe're gonna talk more about\nthis one in another show.\n\n366\n00:18:27.650 --> 00:18:30.030\nUDP, the User Datagram Protocol.\n\n367\n00:18:30.030 --> 00:18:32.960\nI kept mentioning reliability, right?\n\n368\n00:18:32.960 --> 00:18:37.860\nReliability and guaranteed delivery and\nretransmits if something gets lost.\n\n369\n00:18:37.860 --> 00:18:40.843\nBut sometimes we don't need that.\n\n370\n00:18:40.843 --> 00:18:45.311\nImagine you're online, and\nyou're streaming a live event.\n\n371\n00:18:45.311 --> 00:18:49.470\nSo maybe it's the Super Bowl or\nsomething like that, that's on television.\n\n372\n00:18:49.470 --> 00:18:50.790\nAnd you're watching it streaming.\n\n373\n00:18:50.790 --> 00:18:51.730\nI don't think they stream that one.\n\n374\n00:18:51.730 --> 00:18:52.659\nThere's licensing and all that.\n\n375\n00:18:52.659 --> 00:18:55.876\nSo some kind of legitimate\nlegal content or Voice Over IP,\n\n376\n00:18:55.876 --> 00:18:58.920\nit can be a phone call over the Internet.\n\n377\n00:18:58.920 --> 00:19:04.920\nThat's real time,\nit's live real time fast communications.\n\n378\n00:19:04.920 --> 00:19:08.050\nWhat happens if a packet get lost or\nsome reason?\n\n379\n00:19:08.050 --> 00:19:11.550\nAny number of things can cause\nit to get lost, interference or\n\n380\n00:19:11.550 --> 00:19:15.612\nwhatever they can all get in the way and\ncause things not make to destination.\n\n381\n00:19:15.612 --> 00:19:19.710\nSo if that happens do you\nwant the phone call to freeze\n\n382\n00:19:19.710 --> 00:19:22.580\nwhile we request a re-transmit of that\npacket, and then get the copy, and\n\n383\n00:19:22.580 --> 00:19:24.550\nthen put it back in and\nthe phone call resumes?\n\n384\n00:19:24.550 --> 00:19:28.930\nIf that does, if you do it that way,\nyou get these little awkward pauses, and\n\n385\n00:19:28.930 --> 00:19:32.370\nawkward pauses might be 100 milliseconds.\n\n386\n00:19:32.370 --> 00:19:35.150\nNow, 100 milliseconds,\nthat's not a long time, right?\n\n387\n00:19:35.150 --> 00:19:37.159\nIt's less than one\nletter of pronunciation.\n\n388\n00:19:38.310 --> 00:19:40.100\nBut if it happens over and over and\n\n389\n00:19:40.100 --> 00:19:44.560\nover again, those delays start to build up\nand they get bigger and bigger and bigger.\n\n390\n00:19:44.560 --> 00:19:45.490\nAnd before you know it,\n\n391\n00:19:45.490 --> 00:19:49.170\nthe live event that you're watching,\nyou're actually five minutes behind.\n\n392\n00:19:49.170 --> 00:19:51.400\nOr the phone call that you're doing.\n\n393\n00:19:51.400 --> 00:19:55.899\nDo you ever see the war time\ncorrespondents on the news?\n\n394\n00:19:55.899 --> 00:20:00.249\nAnd so it will be a US news company and\nthey'll have a correspondent in\n\n395\n00:20:00.249 --> 00:20:03.931\nAfghanistan or\nsomewhere on the other side of the planet.\n\n396\n00:20:03.931 --> 00:20:09.252\nAnd they'll say, all right Tom, what's\nit looking like out there in the field?\n\n397\n00:20:09.252 --> 00:20:12.461\n>> [LAUGH]\n>> And then Tom, things are going great.\n\n398\n00:20:12.461 --> 00:20:13.783\nThere's this huge pause.\n\n399\n00:20:13.783 --> 00:20:16.490\nThat's what would happen,\nsometimes we don't want that.\n\n400\n00:20:16.490 --> 00:20:18.030\nAnd so what UDP does,\n\n401\n00:20:18.030 --> 00:20:21.540\nis it says hey if something doesn't\nmake it to the other side, just skip it.\n\n402\n00:20:21.540 --> 00:20:23.430\nSkip it and move right past it.\n\n403\n00:20:23.430 --> 00:20:25.300\nAnd that way you get a little stutter.\n\n404\n00:20:25.300 --> 00:20:27.780\nOr a dropped part of a letter or whatever.\n\n405\n00:20:27.780 --> 00:20:29.280\nBut then it just moves right on.\n\n406\n00:20:29.280 --> 00:20:34.040\nAnd for streaming video and voice,\nthings like that, that's the best option.\n\n407\n00:20:34.040 --> 00:20:35.720\nSo UDP is an alternative.\n\n408\n00:20:35.720 --> 00:20:37.950\nSo at the Transport layer,\n\n409\n00:20:37.950 --> 00:20:41.650\nit's not necessarily always\nguaranteed communications.\n\n410\n00:20:41.650 --> 00:20:45.760\nBut if it's not guaranteed, we need\nthe other side to understand that and\n\n411\n00:20:45.760 --> 00:20:46.720\nthat's what EDP does.\n\n412\n00:20:46.720 --> 00:20:48.510\nIt makes sure that both\nsides are on the same page,\n\n413\n00:20:48.510 --> 00:20:50.040\nthey understand how we're\ngonna change that data.\n\n414\n00:20:51.350 --> 00:20:54.910\nNow they do that in concert with Layer 5.\n\n415\n00:20:54.910 --> 00:20:56.800\nLayer 5 is the session layer.\n\n416\n00:20:56.800 --> 00:20:59.630\nAt the session layer we're trying\nto make sure that when the data\n\n417\n00:20:59.630 --> 00:21:04.170\nmakes it to the other side that they\ncan identify what that traffic is.\n\n418\n00:21:04.170 --> 00:21:06.160\nIf I started throwing\ntraffic at a machine,\n\n419\n00:21:06.160 --> 00:21:08.050\nhow's it know what it's getting, right?\n\n420\n00:21:08.050 --> 00:21:10.510\nIt has to have some way\nto tell that data apart.\n\n421\n00:21:10.510 --> 00:21:13.260\nAnd so we have these logical\nconnections that get built up,\n\n422\n00:21:13.260 --> 00:21:16.190\nwhich is a part of our transport layer.\n\n423\n00:21:16.190 --> 00:21:21.750\nBut the session layer then starts to use\nport numbers, to identify the traffic.\n\n424\n00:21:21.750 --> 00:21:23.036\nAnd the port numbers are really important.\n\n425\n00:21:23.036 --> 00:21:26.336\nYou have TCP and UDP port numbers,\nso when that traffic comes in,\n\n426\n00:21:26.336 --> 00:21:28.736\nif we get something on port 80,\nfor example,\n\n427\n00:21:28.736 --> 00:21:33.140\nwe know that that's Hypertext Transport\nProtocol, and that's web traffic.\n\n428\n00:21:33.140 --> 00:21:36.690\nSo if I'm a server, and I start\ngetting some packets from Ronnie, and\n\n429\n00:21:36.690 --> 00:21:40.230\nthey've got their session\nlayer data set at 80,\n\n430\n00:21:40.230 --> 00:21:43.610\nI know I need to send that to my web\nserver cuz I might also be a mail server.\n\n431\n00:21:43.610 --> 00:21:45.520\nI might be an FTP server or\n\n432\n00:21:45.520 --> 00:21:47.950\nyou might be running more than\none thing on that server.\n\n433\n00:21:47.950 --> 00:21:50.810\nSo how does it know which\nserver to send it to?\n\n434\n00:21:50.810 --> 00:21:52.900\nThese port numbers tell it apart.\n\n435\n00:21:52.900 --> 00:21:55.680\nThe port numbers actually do a lot more,\nwe'll see in some other shows.\n\n436\n00:21:55.680 --> 00:22:00.088\nFor example, if I have a web browser open\nand I've got ten tabs, I'm guilty of this.\n\n437\n00:22:00.088 --> 00:22:01.600\n>> [LAUGH]\n>> Ronnie makes fun of me.\n\n438\n00:22:01.600 --> 00:22:04.145\nWhere I have a web browser\nopen ten different tabs,\n\n439\n00:22:04.145 --> 00:22:05.575\nthat might be on a light day.\n\n440\n00:22:05.575 --> 00:22:06.908\n>> Both sides.\n>> [LAUGH] And so\n\n441\n00:22:06.908 --> 00:22:11.753\nI have three tabs opened to CNN and\nI click in a link in one tab,\n\n442\n00:22:11.753 --> 00:22:16.710\nhow does the web browser know\nwhich tab to render that page on?\n\n443\n00:22:16.710 --> 00:22:18.870\nNot to render it on all three tabs?\n\n444\n00:22:18.870 --> 00:22:22.700\nIt knows that because it has port\nnumbers assigned to the session for\n\n445\n00:22:22.700 --> 00:22:26.530\neach of those tabs so\neach tab is an independent event.\n\n446\n00:22:26.530 --> 00:22:29.340\nIf I click on on a link in one\ntab it doesn't impact the others.\n\n447\n00:22:29.340 --> 00:22:31.287\nThat's the session layer,\nkeeping track of that.\n\n448\n00:22:31.287 --> 00:22:34.598\nThese logical connections that\nare working as software endpoints,\n\n449\n00:22:34.598 --> 00:22:37.920\nreally important for those to function for\nus to find those servers.\n\n450\n00:22:39.010 --> 00:22:41.090\n>> Now, Don, we have that\nlayer that's right above that,\n\n451\n00:22:41.090 --> 00:22:43.240\nwhich is called the Presentation layer.\n\n452\n00:22:43.240 --> 00:22:45.910\nAnd you said that while the Session layer\nreally does help distinguish it and\n\n453\n00:22:45.910 --> 00:22:51.900\nthen sends it on to the HTTP\nserver to get us there,\n\n454\n00:22:51.900 --> 00:22:55.970\nbut well what does the presentation layer\nreally help us to do then if the session\n\n455\n00:22:55.970 --> 00:22:58.830\nlayer already says I'm gonna set\nit on to this application anyways?\n\n456\n00:22:58.830 --> 00:23:00.730\n>> So here's where things\nreally start to change, right?\n\n457\n00:23:00.730 --> 00:23:04.875\nIf we kind of recap some of the lower\nlayers down here, layer 1, 2,\n\n458\n00:23:04.875 --> 00:23:06.314\nreally layer 1 and 2.\n\n459\n00:23:06.314 --> 00:23:10.290\nThat was kind of our getting plugged into\nthe network and being able to find people.\n\n460\n00:23:10.290 --> 00:23:12.667\nLayer 3 was part of that\nfinding people also.\n\n461\n00:23:12.667 --> 00:23:16.260\nBeing able to locate a route through\nnetworks if we need to get somewhere.\n\n462\n00:23:16.260 --> 00:23:19.550\nSo layers 1, 2,\n3 all about finding people.\n\n463\n00:23:19.550 --> 00:23:24.710\nLayers 4 and 5, all about being able to\nreliably transmit data to those people.\n\n464\n00:23:24.710 --> 00:23:27.680\nSo once layers 1 through\n5 are all functioning and\n\n465\n00:23:27.680 --> 00:23:30.610\ndoing their job, we're now able to talk.\n\n466\n00:23:30.610 --> 00:23:32.480\nWell, what do we talk about?\n\n467\n00:23:32.480 --> 00:23:35.360\nThis is that awkward moment where you get\nsomebody on the phone and you're like,\n\n468\n00:23:35.360 --> 00:23:37.280\nhey, what's new?\n\n469\n00:23:37.280 --> 00:23:38.070\nNothing.\n\n470\n00:23:38.070 --> 00:23:39.000\nAll right.\n\n471\n00:23:39.000 --> 00:23:40.180\nSo what do we talk about?\n\n472\n00:23:40.180 --> 00:23:42.380\nWell, that's where layer 6 and\nlayer 7 come in.\n\n473\n00:23:43.610 --> 00:23:45.670\nI'm going to skip up, but\nif we skip up to layer 7,\n\n474\n00:23:45.670 --> 00:23:50.120\nlayer 7 is the application,\nwhatever program you're using.\n\n475\n00:23:50.120 --> 00:23:53.765\nSo if I'm in a web browser,\nthat's my application.\n\n476\n00:23:53.765 --> 00:23:57.226\nIf I'm in Skype or\nsome kind of VOIP client,\n\n477\n00:23:57.226 --> 00:24:00.232\nwhatever it is that I'm using today.\n\n478\n00:24:00.232 --> 00:24:02.275\nAnd Zoifir or one of those guys.\n\n479\n00:24:02.275 --> 00:24:07.020\nThat I've got my client fired up and\nI'm now talking, I'm using this program.\n\n480\n00:24:07.020 --> 00:24:10.860\nBut the programs, the applications\nthat we run, like Web browsers,\n\n481\n00:24:10.860 --> 00:24:15.000\nthey're generating data in a way\nthat's designed for us, right?\n\n482\n00:24:15.000 --> 00:24:19.770\nWhen I look at a web page, I see pictures,\nI see nice fonts, and big words and\n\n483\n00:24:19.770 --> 00:24:21.570\nlinks and tons of advertisements, right?\n\n484\n00:24:21.570 --> 00:24:24.080\nAll that stuff, that's geared for me.\n\n485\n00:24:24.080 --> 00:24:26.450\nBut that's not geared for the network.\n\n486\n00:24:26.450 --> 00:24:29.740\nIt's not geared to be transmitted across\nthe network in a meaningful manner or\n\n487\n00:24:29.740 --> 00:24:31.260\neven in an efficient manner.\n\n488\n00:24:31.260 --> 00:24:35.914\nAnd so the applications work in a way for\nhumans, the presentation layer changes\n\n489\n00:24:35.914 --> 00:24:40.500\nthat data into the way that it's actually\ngonna be handled by the computer, and\n\n490\n00:24:40.500 --> 00:24:42.870\nthey're often very different.\n\n491\n00:24:42.870 --> 00:24:45.980\nSo for example when you look at a web\npage, you see this nice pretty webpage,\n\n492\n00:24:45.980 --> 00:24:50.530\nbut in the background,\nwhat there's actually going on is HTML,\n\n493\n00:24:50.530 --> 00:24:52.850\nthe hyper text markup language.\n\n494\n00:24:52.850 --> 00:24:54.060\nIt's all text.\n\n495\n00:24:54.060 --> 00:24:58.180\nEven the images are being transmitted as\nbinary blobs that are effectively text,\n\n496\n00:24:58.180 --> 00:25:03.770\nbinary text, being relayed via\nthe hypertext transport protocol,\n\n497\n00:25:03.770 --> 00:25:06.650\nand so\nthat's a different way of seeing things.\n\n498\n00:25:06.650 --> 00:25:12.100\nIf I were to give you a JPEG file,\nlike an image, right, a PNG or a GIF or\n\n499\n00:25:12.100 --> 00:25:16.090\nwhatever, if you look at it the way the\ncomputer looks at it, what does it see?\n\n500\n00:25:16.090 --> 00:25:17.140\nBunch of ones and zeroes.\n\n501\n00:25:17.140 --> 00:25:19.590\nSo the binary data works,\nit's a whole mess.\n\n502\n00:25:19.590 --> 00:25:23.370\nBut when it gets rendered in your\napplication, it's a nice pretty picture.\n\n503\n00:25:23.370 --> 00:25:25.296\nRight.\nSo that different change,\n\n504\n00:25:25.296 --> 00:25:29.540\nthat's happening right here\nbetween layers six and sevens.\n\n505\n00:25:29.540 --> 00:25:30.840\nAnd so at the presentation layer,\n\n506\n00:25:30.840 --> 00:25:32.500\nyou have all your different\nformats that are out there.\n\n507\n00:25:32.500 --> 00:25:37.721\nThings like Word documents, JPEGs,\nGIFs, XLS, which would be Excel,\n\n508\n00:25:37.721 --> 00:25:43.480\nyou might have XML, HTML all those\nother different web markup languages.\n\n509\n00:25:43.480 --> 00:25:47.810\nThey all look one way to the computer and\nthen get rendered nice and pretty for\n\n510\n00:25:47.810 --> 00:25:49.870\nus up at the application layer.\n\n511\n00:25:49.870 --> 00:25:53.460\nAnd the application layer is where\nwe're interacting with those protocols,\n\n512\n00:25:53.460 --> 00:25:55.650\nso if I'm doing email or\n\n513\n00:25:55.650 --> 00:25:59.560\nweb, ftp, pretty much everything is\nconnected to the Internet these days.\n\n514\n00:25:59.560 --> 00:26:03.530\nYou might be in Microsoft Word, which most\nof us don't think of as a network program,\n\n515\n00:26:03.530 --> 00:26:07.095\nbut it's got connections in the\nMicrosoft One drive that it can sign in\n\n516\n00:26:07.095 --> 00:26:11.590\nyour Office 365, that word processor\nis a fully network enabled\n\n517\n00:26:11.590 --> 00:26:15.170\ncloud application these days,\nit's really gotten complex.\n\n518\n00:26:15.170 --> 00:26:19.590\nSo, practically every program we run\nis integrated into the OSI model\n\n519\n00:26:19.590 --> 00:26:20.510\none way or another these days.\n\n520\n00:26:22.140 --> 00:26:24.560\nAll right.\nSo that's the OSI model.\n\n521\n00:26:24.560 --> 00:26:27.100\nKind of run through\nfrom Layer 1 through 7.\n\n522\n00:26:27.100 --> 00:26:30.300\nAnd we didn't really get into\nnitty gritty details on these but\n\n523\n00:26:30.300 --> 00:26:33.780\nwe're gonna see it all throughout\nthis series, the actual details.\n\n524\n00:26:33.780 --> 00:26:36.962\nSo we're gonna have an episode just\non IPV4, and episodes on TCP, and\n\n525\n00:26:36.962 --> 00:26:37.819\nall those things.\n\n526\n00:26:37.819 --> 00:26:40.560\nSo don't worry,\nwe'll get far more in-depth on those.\n\n527\n00:26:40.560 --> 00:26:43.970\nBut as far as a high level overview,\nthat's what each layer does.\n\n528\n00:26:43.970 --> 00:26:45.970\nI do wanna point out\none more thing though.\n\n529\n00:26:45.970 --> 00:26:48.410\nLet me change my diagram here.\n\n530\n00:26:48.410 --> 00:26:53.850\nLet me show you what happens to your data\nas it moves through the OSI model, okay?\n\n531\n00:26:53.850 --> 00:26:56.710\nAnd I'll give you an example of an email.\n\n532\n00:26:56.710 --> 00:27:00.140\nSo I fire up an email application,\nmaybe it's Thunderbird, or\n\n533\n00:27:00.140 --> 00:27:04.640\nMicrosoft Outlook, or we go classic and\nfire up Eudora, whatever it is, right?\n\n534\n00:27:04.640 --> 00:27:08.595\nSo that's my application and\nin my application, I write an email, and\n\n535\n00:27:08.595 --> 00:27:10.635\nthat email is data, right?\n\n536\n00:27:10.635 --> 00:27:13.085\nI type something up.\n\n537\n00:27:13.085 --> 00:27:17.155\nNow when I go to hit send, a number\nof things are gonna happen, right?\n\n538\n00:27:17.155 --> 00:27:20.450\nAt the presentation layer,\nit's going to say, you wrote email.\n\n539\n00:27:20.450 --> 00:27:25.190\nEmail needs to be in the mime format, or\nmaybe I'm encrypting it, so a secure mime,\n\n540\n00:27:25.190 --> 00:27:26.370\nor whatever it is.\n\n541\n00:27:26.370 --> 00:27:31.630\nAt a minimum, it's gonna be, what is that,\nbase 64 encoding, it's got a name,\n\n542\n00:27:31.630 --> 00:27:34.740\nlike UU 64,\nsomething that email does sometimes.\n\n543\n00:27:34.740 --> 00:27:36.170\nMime is the most common, right, but\n\n544\n00:27:36.170 --> 00:27:40.320\nthere is 64 other things but one way or\nanother it's gonna convert that\n\n545\n00:27:40.320 --> 00:27:43.770\ninto the proper email format to be\ntransmitted across the network.\n\n546\n00:27:43.770 --> 00:27:47.255\nSo it's still just my data but\nit's in a different format, all right?\n\n547\n00:27:47.255 --> 00:27:50.930\nBut when we get down to the session layer,\nhere's where things change.\n\n548\n00:27:50.930 --> 00:27:52.860\nNow it's not just my data anymore.\n\n549\n00:27:52.860 --> 00:27:56.360\nNow I'm trying to help my\ndata get to where it's going.\n\n550\n00:27:56.360 --> 00:27:58.349\nAnd so at the session layer,\nwe see it's email,\n\n551\n00:27:58.349 --> 00:28:00.480\nwe need this to go to an email server,\nright.\n\n552\n00:28:00.480 --> 00:28:04.640\nAnd that's likely gonna be an SMTP\nserver which uses port 25.\n\n553\n00:28:04.640 --> 00:28:08.140\nSo we stick a Layer 5\nheader on to the data.\n\n554\n00:28:08.140 --> 00:28:14.310\nAnd so now it's my data with a little\nnote that this is going to port 25.\n\n555\n00:28:14.310 --> 00:28:16.340\nThen we get down to the transport layer.\n\n556\n00:28:16.340 --> 00:28:19.060\nAnd at the transport layer,\nwe're sending email.\n\n557\n00:28:19.060 --> 00:28:20.430\nEmail needs to be reliable.\n\n558\n00:28:20.430 --> 00:28:22.490\nI need the email to get to the server.\n\n559\n00:28:22.490 --> 00:28:24.760\nIf it fails, I need to re-transmit it.\n\n560\n00:28:24.760 --> 00:28:26.190\nDon't do like UDP and just drop it.\n\n561\n00:28:26.190 --> 00:28:27.810\nI need to use TCP.\n\n562\n00:28:27.810 --> 00:28:32.420\nAnd so it adds a Layer 4 Header and\nsays we're doing TCP.\n\n563\n00:28:32.420 --> 00:28:35.624\nAnd there's more that happens here\nthat maybe we get segmentation and\n\n564\n00:28:35.624 --> 00:28:38.773\nsequencing and all that other stuff\nthat happens, but at a minimum,\n\n565\n00:28:38.773 --> 00:28:41.016\nwe put a note that says use\nTCP when you send this.\n\n566\n00:28:41.016 --> 00:28:42.663\nThen we get down to Layer 3.\n\n567\n00:28:42.663 --> 00:28:46.250\nAt Layer 3,\nwe're sending this to an email server.\n\n568\n00:28:46.250 --> 00:28:50.960\nSo, [COUGH] we need to put our source\nIP address and our destination IP\n\n569\n00:28:50.960 --> 00:28:55.960\naddress in that Layer 3 Header so that we\nknow how to get to wherever we're going.\n\n570\n00:28:55.960 --> 00:28:58.750\nAnd so that gets added on to my data.\n\n571\n00:28:58.750 --> 00:29:02.372\nAnd then, we add our Layer 2 Header.\n\n572\n00:29:02.372 --> 00:29:04.519\nNow that the data's\nready to be transmitted,\n\n573\n00:29:04.519 --> 00:29:06.840\nwe need to get it in the right\nformat to be sent out.\n\n574\n00:29:06.840 --> 00:29:10.880\nNow the right format is gonna be\nelectricity or light or RF waves.\n\n575\n00:29:10.880 --> 00:29:12.900\nAnd it's very easy for\nthat to get damaged.\n\n576\n00:29:12.900 --> 00:29:16.750\nSo while it's still ones and zeros,\nwe stick on a Layer 2 Header,\n\n577\n00:29:16.750 --> 00:29:20.210\nwhich does a little check sum,\na cyclical redundancy check.\n\n578\n00:29:20.210 --> 00:29:23.680\nAnd it runs an algorithm on your packet,\nand it comes up with a number.\n\n579\n00:29:23.680 --> 00:29:26.170\nAnd it sticks that in the Layer 2 Header.\n\n580\n00:29:26.170 --> 00:29:27.470\nIt's actually way back here.\n\n581\n00:29:27.470 --> 00:29:29.800\nThe Layer 2 Checksum.\n\n582\n00:29:29.800 --> 00:29:31.490\nAnd then it gets sent\non the network up here.\n\n583\n00:29:31.490 --> 00:29:34.510\nThe front has your source and\ndestination Mac addresses, all right.\n\n584\n00:29:34.510 --> 00:29:36.720\nSo those get tucked away\nright there at the beginning.\n\n585\n00:29:36.720 --> 00:29:40.320\nAnd that then gets sent\nover the network as bits.\n\n586\n00:29:40.320 --> 00:29:45.170\nAs ones and zeros in either electrical\nformat, or light waves, or RF, or\n\n587\n00:29:45.170 --> 00:29:47.000\nwhatever it is that gets\ntransmitted on your medium.\n\n588\n00:29:48.060 --> 00:29:50.130\nAt the other end, they receive the data,\n\n589\n00:29:50.130 --> 00:29:53.920\nand they do the exact\nopposite of what we just saw.\n\n590\n00:29:53.920 --> 00:29:57.440\nOnce they receive it,\nthey take a look at that checksum.\n\n591\n00:29:57.440 --> 00:29:59.820\nThey convert it back to ones and\nzeroes, they run the checksum,\n\n592\n00:29:59.820 --> 00:30:03.180\nthey run the same formula, and\nthey should get the same result we did.\n\n593\n00:30:03.180 --> 00:30:06.560\nIf they don't match, they know that\nthe data got damaged in transit, and\n\n594\n00:30:06.560 --> 00:30:08.320\nthey need to request a retransmit.\n\n595\n00:30:08.320 --> 00:30:09.880\nIf it does match, then it's good,\n\n596\n00:30:09.880 --> 00:30:14.170\nand they strip off the Layer 2 Header and\nthey send it up.\n\n597\n00:30:14.170 --> 00:30:14.764\nAt Layer 3,\n\n598\n00:30:14.764 --> 00:30:18.060\nthey can figure out whether the traffic\nwas actually destined for them.\n\n599\n00:30:18.060 --> 00:30:19.478\nWas I supposed to get this traffic?\n\n600\n00:30:19.478 --> 00:30:21.060\nNo.\nAll right, I throw it away.\n\n601\n00:30:21.060 --> 00:30:22.310\nOr yes, I was supposed to get it.\n\n602\n00:30:22.310 --> 00:30:23.720\nAll right, so we're gonna read that.\n\n603\n00:30:23.720 --> 00:30:26.026\nWe'll strip off Layer 3 Header and\nmove up.\n\n604\n00:30:26.026 --> 00:30:30.370\nLayer 4, all right, we said we needed\nto use TCP, so it uses TCP and\n\n605\n00:30:30.370 --> 00:30:33.960\nit says, is this the entire set of data,\nor am I missing some pieces?\n\n606\n00:30:33.960 --> 00:30:36.110\nIf I'm missing it, I need to request them.\n\n607\n00:30:36.110 --> 00:30:38.200\nIf I've got it all,\nwe can drop the Layer 4 Header.\n\n608\n00:30:38.200 --> 00:30:40.420\nAnd then it gets up to Layer 5.\n\n609\n00:30:40.420 --> 00:30:41.799\nOkay, what port is this on?\n\n610\n00:30:41.799 --> 00:30:43.881\nNope, it came in on port 25.\n\n611\n00:30:43.881 --> 00:30:46.340\nI need to send this to the SMTP server.\n\n612\n00:30:46.340 --> 00:30:49.979\nSo it strips off Layer 5, and\nnow it's just the data, and\n\n613\n00:30:49.979 --> 00:30:52.310\nit hands it to the mail server.\n\n614\n00:30:52.310 --> 00:30:54.450\nAnd now the mail server's able to read it.\n\n615\n00:30:54.450 --> 00:30:59.840\nWhen we send data, it goes down the OSI\nmodel, goes to the destination and\n\n616\n00:30:59.840 --> 00:31:03.360\nwhen they receive the data,\nit goes up the OSI model.\n\n617\n00:31:03.360 --> 00:31:06.380\nSo the OSI model's applying on\nboth sides of the communication.\n\n618\n00:31:06.380 --> 00:31:10.090\nAnd this is happening thousands\nupon thousands of times\n\n619\n00:31:10.090 --> 00:31:12.200\nevery second on your computer.\n\n620\n00:31:12.200 --> 00:31:14.670\nEvery communication is\nrunning through this process.\n\n621\n00:31:14.670 --> 00:31:17.060\nYou might not go all the way up the model.\n\n622\n00:31:17.060 --> 00:31:20.780\nFor example, if you're a router,\nyou might take that data up to Layer 3 and\n\n623\n00:31:20.780 --> 00:31:23.420\nrealize, this is destined for\nanother network.\n\n624\n00:31:23.420 --> 00:31:25.280\nLet me route it, and send it on its way.\n\n625\n00:31:25.280 --> 00:31:27.978\nAnd then it goes back down, so\nit doesn't go higher than three.\n\n626\n00:31:27.978 --> 00:31:30.020\nBut if it's a firewall, and\nyou're doing inspection,\n\n627\n00:31:30.020 --> 00:31:33.070\nthen it's gonna go even higher\nbefore sending it back down.\n\n628\n00:31:33.070 --> 00:31:35.920\nBut the key thing to remember is\nthat the OSI model is involved in\n\n629\n00:31:35.920 --> 00:31:37.379\nevery single communication.\n\n630\n00:31:38.430 --> 00:31:42.603\nNow one thing to be careful with is\nthat you're gonna hear some terms thrown\n\n631\n00:31:42.603 --> 00:31:44.733\naround, Segment, Packet, Frame.\n\n632\n00:31:44.733 --> 00:31:47.783\nWe're gonna use the terms ourselves\nthroughout the series, and\n\n633\n00:31:47.783 --> 00:31:51.610\non the Internet you will find many people\nthat use these terms interchangeably and\n\n634\n00:31:51.610 --> 00:31:52.570\nthat's not right.\n\n635\n00:31:52.570 --> 00:31:55.449\nAnd on the Cisco exam,\nthey are really stringent about this.\n\n636\n00:31:55.449 --> 00:31:58.120\nYou need to understand what\nthose terms actually mean.\n\n637\n00:31:58.120 --> 00:32:02.165\nWhen we talk about a packet,\nwhich is probably the most common term,\n\n638\n00:32:02.165 --> 00:32:05.460\nyou're talking about the data at Layer 3.\n\n639\n00:32:05.460 --> 00:32:08.200\nRouters are Layer 3 devices\nwhere routers function and so\n\n640\n00:32:08.200 --> 00:32:10.740\nthey deal with packets that's\nwhy we think of them so much.\n\n641\n00:32:10.740 --> 00:32:14.670\nBut, when the data is on a switch,\nit's not a packet.\n\n642\n00:32:14.670 --> 00:32:16.480\nWhen the data is on a switch,\nthat's Layer 2 data.\n\n643\n00:32:16.480 --> 00:32:19.540\nIt's got the Layer 2 header stuck on it,\nand the switch isn't processing it.\n\n644\n00:32:19.540 --> 00:32:20.890\nAt least, not normally.\n\n645\n00:32:20.890 --> 00:32:23.890\nSo, at Layer 2,\nthe data is called a frame.\n\n646\n00:32:23.890 --> 00:32:28.188\nSo what we're actually transmitting across\nthe network is typically a frame, right?\n\n647\n00:32:28.188 --> 00:32:31.987\nSo, if you're running a protocol\nanalyzer and your sniffing a network,\n\n648\n00:32:31.987 --> 00:32:35.360\nyou're not capturing packets,\nyou're capturing frames.\n\n649\n00:32:35.360 --> 00:32:38.400\nAnd then interpreting them and\ndoing whatever you want to with them.\n\n650\n00:32:38.400 --> 00:32:40.650\nRouters are routing packets and\n\n651\n00:32:40.650 --> 00:32:46.050\nthen when we're reassembling data up\nhere at Layer 4, we're using segments.\n\n652\n00:32:46.050 --> 00:32:50.604\nSo, understand that when we talk about TCP\nand UDP, we're talking about segments,\n\n653\n00:32:50.604 --> 00:32:51.628\nthat's Layer 4.\n\n654\n00:32:51.628 --> 00:32:57.670\nWhen we're talking IP routing, IPv4,\nIPv6, we're talking about packets.\n\n655\n00:32:57.670 --> 00:33:00.880\nAnd when we're talking about MAC\naddresses, link layer control and\n\n656\n00:33:00.880 --> 00:33:05.700\njust communicating across the network,\nthere we're talking about frames.\n\n657\n00:33:05.700 --> 00:33:08.600\nThose terms,\neach means something different cuz\n\n658\n00:33:08.600 --> 00:33:11.770\nthey're referring to data at\na particular layer in the OSI model.\n\n659\n00:33:11.770 --> 00:33:15.570\nSo on the exam, don't just assume you\ncan use the terms interchangeably.\n\n660\n00:33:15.570 --> 00:33:17.090\nCisco knows what they mean.\n\n661\n00:33:17.090 --> 00:33:18.120\nNow you know what they mean, and so,\n\n662\n00:33:18.120 --> 00:33:20.150\nwe need to make sure we use\nthe right terminology and\n\n663\n00:33:20.150 --> 00:33:22.130\nwe'll do that throughout this course.\n\n664\n00:33:22.130 --> 00:33:23.430\n>> Well Don, thank you again for\n\n665\n00:33:23.430 --> 00:33:26.748\nactually introducing us back once\nagain to that concept of the OSI.\n\n666\n00:33:26.748 --> 00:33:30.230\nIf we've read just had it because we've\ngone through the CompTIA Network+ and\n\n667\n00:33:30.230 --> 00:33:31.300\nnow we're getting ready for Cisco.\n\n668\n00:33:31.300 --> 00:33:33.910\nNotice it is still a very\nimportant concept.\n\n669\n00:33:33.910 --> 00:33:35.760\nSomething that we should all understand.\n\n670\n00:33:35.760 --> 00:33:37.940\nMake sure you take a look\nat all seven layers and\n\n671\n00:33:37.940 --> 00:33:40.880\nunderstand the application in\nthe way that Don described it.\n\n672\n00:33:40.880 --> 00:33:44.380\nIt is gonna help you in the process\nof troubleshooting tremendously.\n\n673\n00:33:44.380 --> 00:33:47.510\nAlso, of course, make sure you understand\nsome of those devices that Don mentioned\n\n674\n00:33:47.510 --> 00:33:49.555\nand what layers they work on as well.\n\n675\n00:33:49.555 --> 00:33:52.175\nWe're on layer three, routers,\nlayer two, switches, and\n\n676\n00:33:52.175 --> 00:33:55.985\nthen we talk about the physical layer and\nthose components that are there as well.\n\n677\n00:33:55.985 --> 00:33:59.235\nNow, as we start seeing more and\nmore into this series,\n\n678\n00:33:59.235 --> 00:34:02.095\nyou're gonna see where we depend\non it more and more as well.\n\n679\n00:34:02.095 --> 00:34:05.445\nBecause it is the basis of all\nthe communications that we do, and so\n\n680\n00:34:05.445 --> 00:34:08.510\nwe have to start somewhere and\nthis is where we're beginning.\n\n681\n00:34:08.510 --> 00:34:12.760\nRemember that for the exam,\nspeed and accuracy is the key.\n\n682\n00:34:12.760 --> 00:34:15.750\nWhen you start thinking that way,\nthat means you do have to know this,\n\n683\n00:34:15.750 --> 00:34:18.740\nyou cannot take the time to try and\nfigure it out.\n\n684\n00:34:18.740 --> 00:34:22.360\nSo before you go into the exam,\nmemorize all seven layers.\n\n685\n00:34:22.360 --> 00:34:23.930\nThat's the easiest way to do it.\n\n686\n00:34:23.930 --> 00:34:26.260\nHave a great understanding and\nthroughout this entire series,\n\n687\n00:34:26.260 --> 00:34:28.820\nyou'll get a better\nunderstanding of it as well.\n\n688\n00:34:28.820 --> 00:34:32.436\nSo, this is a great place for\nus to also end this series.\n\n689\n00:34:32.436 --> 00:34:36.400\nSigning off for ITProTV,\nI'm your host Ronnie Wong.\n\n690\n00:34:36.400 --> 00:34:37.359\n>> And I'm Don Pezet.\n\n691\n00:34:37.359 --> 00:34:41.761\n>> Stay tuned for\nmore CCENT shows coming up.\n\n692\n00:34:41.761 --> 00:34:50.070\n[MUSIC]\n\n",
          "vimeoId": "173658700"
        },
        {
          "description": "In this episode, Ronnie and Don review the TCP/IP protocol stack and its model.  They take the time to differentiate between TCP and UDP connections.  These difference are normally described as “guaranteed delivery” and “best effort, respectively, according to the guys.  They take a moment to also describe windowing and MTUs.",
          "length": "2243",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-2-tcp_ip-070516-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-2-tcp_ip-070516-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-2-tcp_ip-070516-1-sm.jpg",
          "title": "TCP/IP",
          "transcript": "WEBVTT\n\n1\n00:00:00.040 --> 00:00:10.040\n[MUSIC]\n\n2\n00:00:12.546 --> 00:00:15.415\nWelcome to another great\nepisode right here on ITProTV.\n\n3\n00:00:15.415 --> 00:00:19.724\nI'm your host, Ronnie Wong, and today\nwe're continuing on with some CSET getting\n\n4\n00:00:19.724 --> 00:00:22.346\nready for\nthat new Cisco exam that is just come out.\n\n5\n00:00:22.346 --> 00:00:25.475\nAnd we've got with us in our\nstudio here to help us out, Mr.\n\n6\n00:00:25.475 --> 00:00:28.808\nDon Pezet as we continue on taking\na look at some fundamentals.\n\n7\n00:00:28.808 --> 00:00:31.811\nBut, they're actually very important,\nso Don, welcome back to our studio.\n\n8\n00:00:31.811 --> 00:00:33.260\n>> Thanks for having me back, Ronnie, and\n\n9\n00:00:33.260 --> 00:00:34.930\nready to dive right back\ninto the technology.\n\n10\n00:00:34.930 --> 00:00:36.350\nIf you watched our last episode,\n\n11\n00:00:36.350 --> 00:00:39.550\nwe started with the basic\nconcept of the OSI model.\n\n12\n00:00:39.550 --> 00:00:42.155\nAnd one thing that we\ntouched on very lightly but\n\n13\n00:00:42.155 --> 00:00:45.980\ndidn't dive into the details on\nwas the functions of TCP/IP.\n\n14\n00:00:45.980 --> 00:00:49.840\nSo here in this episode, we're gonna be\ntackling TCP/IP in a greater level of\n\n15\n00:00:49.840 --> 00:00:53.420\ndetail so we understand exactly\nhow that protocol works.\n\n16\n00:00:53.420 --> 00:00:55.798\nWe also need to address the fact\nthat when we say TCP/IP,\n\n17\n00:00:55.798 --> 00:00:57.494\nthat is what we call the protocol stack.\n\n18\n00:00:57.494 --> 00:01:01.784\nBut really there's old UDP snuck in\nthere also, so you have TCP/IP and\n\n19\n00:01:01.784 --> 00:01:05.518\nUDP/IP and we need to understand\nthe differences there too.\n\n20\n00:01:05.518 --> 00:01:07.820\nSo that's what we're gonna be\ntaking a look at right now.\n\n21\n00:01:08.840 --> 00:01:12.330\nThe first thing that I wanna highlight is\nthat in the last episode we talked about\n\n22\n00:01:12.330 --> 00:01:17.490\nthe OSI model and how every network\ncommunication conforms to the OSI model.\n\n23\n00:01:17.490 --> 00:01:22.750\nWell, in the world of TCP/IP,\nwe do, we conform to the OSI model,\n\n24\n00:01:22.750 --> 00:01:26.420\nbut it technically has\na modified form of the model.\n\n25\n00:01:26.420 --> 00:01:28.400\nLet me show you what I mean, so\n\n26\n00:01:28.400 --> 00:01:31.490\nhere on my laptop I've got a picture\nof the traditional OSI model.\n\n27\n00:01:31.490 --> 00:01:33.249\nWe've got 7 layers, right?\n\n28\n00:01:33.249 --> 00:01:37.316\nPhysical, Data Link, Network,\nTransport, Session, Presentation and\n\n29\n00:01:37.316 --> 00:01:38.595\nApplication, right?\n\n30\n00:01:38.595 --> 00:01:41.321\nSo those are our seven layers\nthat we expect to see.\n\n31\n00:01:41.321 --> 00:01:45.303\nIn TCP/IP, it really focuses on,\n\n32\n00:01:45.303 --> 00:01:49.298\nlike the name implies, TCP and IP.\n\n33\n00:01:49.298 --> 00:01:53.418\nAnd if we look in the model, those are\nreally right here, at layers 3 and 4, so\n\n34\n00:01:53.418 --> 00:01:56.740\nwe can scroll over,\nthere's TCP, and there's IP.\n\n35\n00:01:56.740 --> 00:02:00.540\nSo, TCP/IP really just cares\nabout these two layers.\n\n36\n00:02:00.540 --> 00:02:01.950\nWhat about all the layers?\n\n37\n00:02:01.950 --> 00:02:03.315\nAre they unimportant?\n\n38\n00:02:03.315 --> 00:02:06.343\nThey're really not unimportant,\nit's just not.\n\n39\n00:02:06.343 --> 00:02:07.578\n>> TCP/IP's problem.\n\n40\n00:02:07.578 --> 00:02:09.071\n>> Yeah [LAUGH] that's\nsomebody else's problem.\n\n41\n00:02:09.071 --> 00:02:10.414\nLet them worry about it.\n\n42\n00:02:10.414 --> 00:02:12.204\nThe OSI model is modular, right?\n\n43\n00:02:12.204 --> 00:02:17.284\nWe can focus in on an area like that and\nso, that's exactly what TCP/IP does.\n\n44\n00:02:17.284 --> 00:02:22.237\nIf we were to modify this picture\nto look like TCP/IP sees it,\n\n45\n00:02:22.237 --> 00:02:24.254\nit would look like this.\n\n46\n00:02:24.254 --> 00:02:28.783\nIn the TCP/IP protocol stack,\nthere are only four layers, not seven but\n\n47\n00:02:28.783 --> 00:02:32.742\nthat doesn't mean we deleted\nthree layers and threw them away.\n\n48\n00:02:32.742 --> 00:02:35.919\nIt just means that we combined layers.\n\n49\n00:02:35.919 --> 00:02:40.460\nTCP/IP doesn't care what\nyour physical media is.\n\n50\n00:02:40.460 --> 00:02:44.570\nAnd TCPIP doesn't care about MAC\naddresses or link layer control,\n\n51\n00:02:44.570 --> 00:02:45.940\nit doesn't care about any of that.\n\n52\n00:02:45.940 --> 00:02:49.360\nAnd so, in the TCP/IP protocol stack,\nlayer one and\n\n53\n00:02:49.360 --> 00:02:54.534\nlayer two of the OSI model get combined\ninto one layer called the physical layer.\n\n54\n00:02:54.534 --> 00:02:58.956\nWell, layer one was the physical layer\nbefore but now, it's layer one and two\n\n55\n00:02:58.956 --> 00:03:03.784\ncombined being called the physical layer\nas far as TCP/IP is concerned, all right?\n\n56\n00:03:03.784 --> 00:03:08.749\nUp at the top, notice that\nthe Application, Presentation, and\n\n57\n00:03:08.749 --> 00:03:12.810\nSession layers have all\nbeen combined also.\n\n58\n00:03:12.810 --> 00:03:14.850\nAll their function is still there,\nit's important.\n\n59\n00:03:14.850 --> 00:03:17.200\nWe saw in the last episode what each\none of those does is really important.\n\n60\n00:03:17.200 --> 00:03:20.780\nWe can't just throw it away but\nTCP/IP doesn't care about them, right?\n\n61\n00:03:20.780 --> 00:03:23.380\nSo, it just groups them all together.\n\n62\n00:03:23.380 --> 00:03:27.000\nPresentation and Session kind of disappear\nand get grouped under Application.\n\n63\n00:03:27.000 --> 00:03:29.320\nAll the same functions are still there.\n\n64\n00:03:29.320 --> 00:03:32.320\nIn fact, the only two layers that\nare left alone are the two we mentioned\n\n65\n00:03:32.320 --> 00:03:35.810\na minute ago, the Transport and\nNetwork layer.\n\n66\n00:03:35.810 --> 00:03:38.421\nAnd even those aren't\ncompletely untouched,\n\n67\n00:03:38.421 --> 00:03:41.692\nnotice how the network layer\nis called the Internet layer.\n\n68\n00:03:41.692 --> 00:03:44.568\nNormally, in the OSI model,\nwe call it the Network layer,\n\n69\n00:03:44.568 --> 00:03:48.206\nbecause it can be number of different\ntypes of networks that are out there.\n\n70\n00:03:48.206 --> 00:03:51.549\nBut TCP/IP was made for one network and\nthat network was called the Internet, or\n\n71\n00:03:51.549 --> 00:03:52.940\nis called the Internet, right?\n\n72\n00:03:52.940 --> 00:03:55.990\nThat's what this protocol was\nspecifically designed for.\n\n73\n00:03:55.990 --> 00:03:59.120\nAnd so, they don't wanna call it\njust some generic network layer.\n\n74\n00:03:59.120 --> 00:04:01.550\nThis is the Internet layer.\n\n75\n00:04:01.550 --> 00:04:03.970\nDoesn't necessarily mean that we're\nconnected to the Internet but\n\n76\n00:04:03.970 --> 00:04:05.980\nthat was what it was\noriginally designed for.\n\n77\n00:04:05.980 --> 00:04:10.340\nSo in the TCP/IP protocol stack\nyou just have four layers and\n\n78\n00:04:10.340 --> 00:04:13.670\nthe Transport and\nNetwork layers are pretty much unchanged.\n\n79\n00:04:13.670 --> 00:04:17.710\nThe other layers have been grouped\ntogether kinda merged together so\n\n80\n00:04:17.710 --> 00:04:20.750\nyou end up with just four\nlayers in this model.\n\n81\n00:04:20.750 --> 00:04:25.240\nNow on the exam, they want you to be\naware of this four different layers and\n\n82\n00:04:25.240 --> 00:04:28.640\nknow what they are but\nthey usually don't harp on it very much.\n\n83\n00:04:28.640 --> 00:04:31.770\nYou might see one question on this,\nyou might not see any questions at all but\n\n84\n00:04:31.770 --> 00:04:32.860\nyou do need to be aware of it.\n\n85\n00:04:32.860 --> 00:04:36.240\nThat we do still conform to the OSI\nmodel which is all the layers\n\n86\n00:04:36.240 --> 00:04:36.870\nsomething different.\n\n87\n00:04:38.450 --> 00:04:42.222\nAll right,\nnow Inside of the TCP/IP protocol stack,\n\n88\n00:04:42.222 --> 00:04:45.260\nyou technically have three key protocols.\n\n89\n00:04:45.260 --> 00:04:46.790\nThere's actually a number\nof protocols in there, but\n\n90\n00:04:46.790 --> 00:04:48.620\nthere are three that are really important.\n\n91\n00:04:48.620 --> 00:04:51.232\nAnd we've kind of seen all\nthree of them already.\n\n92\n00:04:51.232 --> 00:04:55.154\nIPv4, TCP and UDP.\n\n93\n00:04:55.154 --> 00:04:59.647\nNow IPv4 is being replaced by IPv6 and\nwe'll see that in the IPv6 episodes.\n\n94\n00:04:59.647 --> 00:05:03.450\nAnd we're gonna talk about those later on\nbecause there is a lot to understand about\n\n95\n00:05:03.450 --> 00:05:04.326\nthose addresses.\n\n96\n00:05:04.326 --> 00:05:07.160\nBut up here, we've got TCP and UDP,\n\n97\n00:05:07.160 --> 00:05:11.010\nand each one functions\na little bit differently.\n\n98\n00:05:11.010 --> 00:05:12.540\nWe talked about it a bit\nin the last episode.\n\n99\n00:05:12.540 --> 00:05:14.800\nI wanna go in more detail in\nthat here in this episode, so\n\n100\n00:05:14.800 --> 00:05:17.850\nwe have a good understanding\nof that concept.\n\n101\n00:05:17.850 --> 00:05:18.960\nSo let's start off with TCP, all right?\n\n102\n00:05:18.960 --> 00:05:22.040\nI'm gonna switch over to\na different diagram that I've got,\n\n103\n00:05:23.140 --> 00:05:25.500\nthat shows how TCP works.\n\n104\n00:05:25.500 --> 00:05:28.720\nNow, the key thing to remember about TCP\n\n105\n00:05:28.720 --> 00:05:33.690\nis it's designed to provide\nreliable transmission of data.\n\n106\n00:05:33.690 --> 00:05:37.190\nIn other words, if I send data, if I send\nsomething from my laptop to Ronnie's\n\n107\n00:05:37.190 --> 00:05:39.900\nlaptop, I want to make sure it gets there.\n\n108\n00:05:39.900 --> 00:05:41.599\nTCP will do it, okay?\n\n109\n00:05:41.599 --> 00:05:42.866\nThe actual buzz word or\n\n110\n00:05:42.866 --> 00:05:46.610\nterm that you'll see on the exam\nis Guaranteed Delivery, right?\n\n111\n00:05:46.610 --> 00:05:50.237\nAnd I guarantee it only goes so far,\nif you unplug your network cable,\n\n112\n00:05:50.237 --> 00:05:52.215\nwe can't guarantee delivery can we?\n\n113\n00:05:52.215 --> 00:05:56.651\nSo with TCP, what it's saying is,\nas long as I'm able to build\n\n114\n00:05:56.651 --> 00:06:00.858\na connection to the other side,\nI can guarantee delivery.\n\n115\n00:06:00.858 --> 00:06:04.403\nAnd if delivery doesn't happen I\ncan guarantee that you'll know it\n\n116\n00:06:04.403 --> 00:06:05.345\ndidn't happen.\n\n117\n00:06:05.345 --> 00:06:08.153\nThere will never be one of those\nscenarios, where you send an e-mail and\n\n118\n00:06:08.153 --> 00:06:09.980\nthe other person says,\nwell I never got it.\n\n119\n00:06:09.980 --> 00:06:11.960\nAnd you say, well I send it, right?\n\n120\n00:06:11.960 --> 00:06:13.660\nThat will never happen in TCP.\n\n121\n00:06:13.660 --> 00:06:18.210\nTCP will know for a fact whether or not\nyour message got to the other side or not.\n\n122\n00:06:18.210 --> 00:06:20.210\nAnd the way it's able to do that,\n\n123\n00:06:20.210 --> 00:06:23.920\nis with TCP we don't just start blasting\ncommunications at our neighbor.\n\n124\n00:06:25.230 --> 00:06:27.980\nThe first thing we do is we say,\nall right, if I'm gonna talk to Ronnie's\n\n125\n00:06:27.980 --> 00:06:30.920\nlaptop, I need to do a handshake\nwith Ronnie's laptop.\n\n126\n00:06:30.920 --> 00:06:33.980\nWe need to reach an agreement\non how we're gonna talk.\n\n127\n00:06:33.980 --> 00:06:38.130\nAnd only once we've reached an agreement,\nwill we then start to send data so\n\n128\n00:06:38.130 --> 00:06:41.120\nthat we can be reliable and\nguaranteed, right?\n\n129\n00:06:41.120 --> 00:06:45.180\nAnd the agreement looks like what\nI have right here in my diagram.\n\n130\n00:06:45.180 --> 00:06:49.340\nTCP is a 3 step handshake that\nhappens before we get are called 2-Way\n\n131\n00:06:49.340 --> 00:06:49.965\nCommunication.\n\n132\n00:06:49.965 --> 00:06:53.290\n2-Way Communication is where I can send\nand receive data from that person on\n\n133\n00:06:53.290 --> 00:06:55.710\nthe other end which is kind of the whole\npoint of having a network, right?\n\n134\n00:06:57.370 --> 00:06:58.740\nBut the steps run down like this.\n\n135\n00:06:58.740 --> 00:07:01.860\nThe very first one is\na synchronization message.\n\n136\n00:07:01.860 --> 00:07:05.320\nI send a notice to Ronnie's computer,\nwhoever it is that I'm talking to, right?\n\n137\n00:07:05.320 --> 00:07:07.900\nSo here's a computer going\nto a server somewhere.\n\n138\n00:07:07.900 --> 00:07:13.190\nSo this computer on the left\nmaybe is going to, I don't know,\n\n139\n00:07:13.190 --> 00:07:16.010\nCNN's webpage, or Cisco's homepage,\nor something like that.\n\n140\n00:07:16.010 --> 00:07:20.790\nSo you fire up a web browser, you type\nin www.cisco.com, you press Enter, and\n\n141\n00:07:20.790 --> 00:07:22.530\nit goes to load the web page.\n\n142\n00:07:22.530 --> 00:07:26.110\nWell, it doesn't just immediately say,\nhey, get me that web page.\n\n143\n00:07:26.110 --> 00:07:29.799\nThe first thing it does, is it reaches\nout to the server and says, hey,\n\n144\n00:07:29.799 --> 00:07:31.224\nI would like to talk to you.\n\n145\n00:07:31.224 --> 00:07:34.769\nNot, I wanna talk about this,\njust I wanna talk to you,\n\n146\n00:07:34.769 --> 00:07:37.196\nthat's a synchronization message.\n\n147\n00:07:37.196 --> 00:07:41.286\nWe wanna synchronize our data\nbetween us and the other side, so\n\n148\n00:07:41.286 --> 00:07:44.232\nthat we'll know if something goes missing.\n\n149\n00:07:44.232 --> 00:07:47.719\nAnd the other side, this server over here,\n\n150\n00:07:47.719 --> 00:07:52.254\nis gonna respond back with\nan acknowledgement, an ACK.\n\n151\n00:07:52.254 --> 00:07:54.218\nSo a SYN and and ACK,\nthese are the abbreviated terms,\n\n152\n00:07:54.218 --> 00:07:55.470\njust what you'll see on the exam.\n\n153\n00:07:55.470 --> 00:07:59.077\nSo an acknowledgement,\nthat's gonna come back and say, okay,\n\n154\n00:07:59.077 --> 00:08:03.025\nI got your synchronization message and\nI wanna talk to you too, right?\n\n155\n00:08:03.025 --> 00:08:04.256\nWe've got to have an agreement, right?\n\n156\n00:08:04.256 --> 00:08:07.960\nSo it sends its own SYN,\nits own synchronization message.\n\n157\n00:08:07.960 --> 00:08:10.790\nWe sent a SYN message to them.\n\n158\n00:08:10.790 --> 00:08:15.490\nThey're sending their own SYN message back\nto us, combined with the acknowledgment,\n\n159\n00:08:15.490 --> 00:08:17.850\nletting us know that\nthey received our SYN.\n\n160\n00:08:17.850 --> 00:08:21.930\nSo the first synchronization\nmessage just goes one way,\n\n161\n00:08:21.930 --> 00:08:24.311\non the way back it's a SYN/ACK.\n\n162\n00:08:24.311 --> 00:08:28.895\nAnd then, we have to acknowledge that\nwe got their synchronization message so\n\n163\n00:08:28.895 --> 00:08:32.298\nwe send and ACK,\nan acknowledgement back and they get it,\n\n164\n00:08:32.298 --> 00:08:35.230\nand now we are said to be synchronized.\n\n165\n00:08:35.230 --> 00:08:36.390\nWe're happy.\n\n166\n00:08:36.390 --> 00:08:37.940\nNow we can start sending data.\n\n167\n00:08:37.940 --> 00:08:39.640\nWe've got a two way communication.\n\n168\n00:08:39.640 --> 00:08:44.380\nI can send data and if something goes\nmissing the other side will know it and\n\n169\n00:08:44.380 --> 00:08:47.670\nit will tell me, hey can you resend\nthat please, I didn't get one.\n\n170\n00:08:47.670 --> 00:08:50.770\nOr if we send it and we just don't get any\nresponse we know the other side never got\n\n171\n00:08:50.770 --> 00:08:52.320\nit in the first place.\n\n172\n00:08:52.320 --> 00:08:57.010\nNow, we have reliable communications\nwith guaranteed delivery and\n\n173\n00:08:57.010 --> 00:09:00.920\nif it doesn't deliver, it'll re-transmit\nas long as the session stays up.\n\n174\n00:09:00.920 --> 00:09:04.511\nBut if the session drops,\nthen it's guaranteed to let us know, and\n\n175\n00:09:04.511 --> 00:09:07.226\nwe'll know the data didn't\nmake it to other side.\n\n176\n00:09:07.226 --> 00:09:10.525\nThis is a key fundamental of TCP/IP.\n\n177\n00:09:10.525 --> 00:09:14.180\nAnytime you communicate using\nTCP this handshake happens.\n\n178\n00:09:14.180 --> 00:09:18.380\nEvery webpage you go to,\nevery email that you send, everything,\n\n179\n00:09:18.380 --> 00:09:21.830\nevery video game you fire up\nthat talks on the network,\n\n180\n00:09:21.830 --> 00:09:25.895\nthey're doing TCP handshakes in\nthe background to set this up.\n\n181\n00:09:25.895 --> 00:09:29.110\nI say every,\nlet me add a little caveat to that.\n\n182\n00:09:29.110 --> 00:09:33.376\nEvery time you do something where you want\nto know the data gets to the other side,\n\n183\n00:09:33.376 --> 00:09:34.582\nthis is gonna happen.\n\n184\n00:09:34.582 --> 00:09:37.644\nCuz there are some scenarios where we\ndon't necessarily need to know the data\n\n185\n00:09:37.644 --> 00:09:38.880\ngot to the other side, right?\n\n186\n00:09:38.880 --> 00:09:41.857\nIn the last episode I gave an example of,\nI think it was voice?\n\n187\n00:09:41.857 --> 00:09:42.870\n>> Voice.\n\n188\n00:09:42.870 --> 00:09:44.660\n>> Okay, so we talked about voice.\n\n189\n00:09:44.660 --> 00:09:47.540\nIf you're doing a voice over IP\nphone call across the Internet,\n\n190\n00:09:47.540 --> 00:09:49.080\nyou're talking to somebody..\n\n191\n00:09:49.080 --> 00:09:53.210\nAnd a frame repacket doesn't make\nit to the other side, right?\n\n192\n00:09:53.210 --> 00:09:57.600\nWell, at the other side, if they see\nit's missing, they've gotta ask for\n\n193\n00:09:57.600 --> 00:09:58.320\nit to be resent.\n\n194\n00:09:58.320 --> 00:10:00.050\nSo, what's gonna happen to my phone call?\n\n195\n00:10:00.050 --> 00:10:01.520\nMy phone call's gonna pause.\n\n196\n00:10:01.520 --> 00:10:04.331\nIt's gonna pause while it\nretransmits the missing data,\n\n197\n00:10:04.331 --> 00:10:06.291\ncause we've got guaranteed delivery.\n\n198\n00:10:06.291 --> 00:10:09.781\nEvery single frame we send, but\nreally we're up here at TCP, right?\n\n199\n00:10:09.781 --> 00:10:11.260\nSo these are segments now.\n\n200\n00:10:11.260 --> 00:10:15.530\nSo, every single segment that we send\nis going to make it to the other side,\n\n201\n00:10:15.530 --> 00:10:17.100\nall right?\n\n202\n00:10:17.100 --> 00:10:19.600\nIf it doesn't, we're gonna retransmit\nit and that causes a delay and\n\n203\n00:10:19.600 --> 00:10:22.630\nthe delay might only be\na handful of milliseconds.\n\n204\n00:10:22.630 --> 00:10:26.880\nBut, they start to add up over time, and\nwe start getting more and more behind.\n\n205\n00:10:26.880 --> 00:10:30.500\nAnd so, with streaming video,\nlive streaming video,\n\n206\n00:10:30.500 --> 00:10:35.840\nnot recorded with voiceover IP,\nwith any kind of live,\n\n207\n00:10:35.840 --> 00:10:40.492\nrealtime communication, we probably\ndon't want this to happen, right?\n\n208\n00:10:40.492 --> 00:10:44.097\nWe wanna say, hey, if a segment doesn't\nmake it across, just skip it and\n\n209\n00:10:44.097 --> 00:10:46.146\nmove on to the next segment, it's okay.\n\n210\n00:10:46.146 --> 00:10:49.621\nI don't mind if there's a little\nstutter in my voice phone call or\n\n211\n00:10:49.621 --> 00:10:53.806\nif I drop one frame of the 60 frames\nper second I'm pushing in video, right?\n\n212\n00:10:53.806 --> 00:10:57.080\nI'll be okay,\nthe human eye can only see so much.\n\n213\n00:10:57.080 --> 00:11:00.620\nYou probably won't even notice it but\nnow you stay in real time so\n\n214\n00:11:00.620 --> 00:11:02.640\nyou're seeing things live as they occur.\n\n215\n00:11:02.640 --> 00:11:06.040\nAnd so for that, we have UDP.\n\n216\n00:11:06.040 --> 00:11:09.430\nUDP is the User Datagram Protocol.\n\n217\n00:11:09.430 --> 00:11:14.480\nAnd when I talked about TCP,\nI talked all about guaranteed delivery,\n\n218\n00:11:14.480 --> 00:11:19.150\nbut UDP has got a motto that I\nlove which is, best effort, right?\n\n219\n00:11:19.150 --> 00:11:20.964\nIt's a best effort protocol.\n\n220\n00:11:20.964 --> 00:11:24.160\nIt'll try and\nmake sure the data gets to the other side,\n\n221\n00:11:24.160 --> 00:11:26.684\nbut if it doesn't, better luck next time?\n\n222\n00:11:26.684 --> 00:11:27.737\n>> [LAUGH]\n>> Right,\n\n223\n00:11:27.737 --> 00:11:30.890\nthat's really the role that it takes.\n\n224\n00:11:30.890 --> 00:11:35.430\nSo if you look at my diagram here for UDP,\nit's a lot more simple than TCP, isn't it.\n\n225\n00:11:35.430 --> 00:11:38.860\nWIth TCP, I had this three-way\nhandshake that happened and\n\n226\n00:11:38.860 --> 00:11:40.050\nthen we started communicating.\n\n227\n00:11:40.050 --> 00:11:43.148\nWith UDP, we do exactly what\nI said we don't do earlier,\n\n228\n00:11:43.148 --> 00:11:45.612\nwhich is we just start\nblasting our data out.\n\n229\n00:11:45.612 --> 00:11:47.565\nHey, Ronnie, you want this live video?\n\n230\n00:11:47.565 --> 00:11:50.595\nI'm gonna start throwing it right\nat your laptop right now, and\n\n231\n00:11:50.595 --> 00:11:53.190\nif you get it, great, that's wonderful.\n\n232\n00:11:53.190 --> 00:11:57.630\nIf you don't get it, well,\nwe tried, we gave it our best.\n\n233\n00:11:57.630 --> 00:12:00.570\nWe gave it the old college try,\nit didn't happen.\n\n234\n00:12:00.570 --> 00:12:01.170\nBut that's okay,\n\n235\n00:12:01.170 --> 00:12:04.970\ncuz here comes another frame,\nhere comes more segments of this data.\n\n236\n00:12:04.970 --> 00:12:07.610\nAnd maybe you'll get these instead, right?\n\n237\n00:12:07.610 --> 00:12:09.120\nAnd that works out really well for\n\n238\n00:12:09.120 --> 00:12:12.140\nthose types of communications but\nthat doesn't work out well for everything.\n\n239\n00:12:12.140 --> 00:12:15.839\nIf I'm sending an email,\nI want it to be best effort, and\n\n240\n00:12:15.839 --> 00:12:17.930\nI'd use the US Postal Service.\n\n241\n00:12:17.930 --> 00:12:22.226\n[LAUGH] It's not even the best effort,\nit's like a medium effort, so [LAUGH].\n\n242\n00:12:22.226 --> 00:12:24.833\nBut if I wanna know that an email\ngets there I'm gonna use TCP.\n\n243\n00:12:24.833 --> 00:12:28.140\nAnd so, in your software program,\nwhen you fire up a web browser,\n\n244\n00:12:28.140 --> 00:12:31.465\nwhen you fire up an email client,\nor whatever it is you're using.\n\n245\n00:12:31.465 --> 00:12:36.290\nThat software says, hey,\nwe need to use TCP, or we need to use UDP.\n\n246\n00:12:36.290 --> 00:12:39.140\nThey pick what they're going to use and\n\n247\n00:12:39.140 --> 00:12:43.170\ndifferent protocols act and\nbehave differently.\n\n248\n00:12:43.170 --> 00:12:45.747\nUsually, the easy delineator\nis when it's streaming, right?\n\n249\n00:12:45.747 --> 00:12:49.361\nIf it's streaming data, if it's live data,\nwe'll usually use UDP, so\n\n250\n00:12:49.361 --> 00:12:50.599\nwe can stay in real time.\n\n251\n00:12:50.599 --> 00:12:54.951\nBut there's stuff that isn't\nnecessarily live that'll use UDP,\n\n252\n00:12:54.951 --> 00:12:56.716\nthings like network time.\n\n253\n00:12:56.716 --> 00:12:59.943\nWhen you got the network\ntime protocol it uses UDP,\n\n254\n00:12:59.943 --> 00:13:05.210\nbecause if I go to query the time and my\nframe doesn't make it there, what happens?\n\n255\n00:13:05.210 --> 00:13:07.224\nI just request again, no big deal, right?\n\n256\n00:13:07.224 --> 00:13:10.420\nI'll just request it again, and then I'll\nget it next time, or the third time,\n\n257\n00:13:10.420 --> 00:13:11.310\nor whatever.\n\n258\n00:13:11.310 --> 00:13:15.440\nSo there's no need to retransmit the time,\ncuz the time's already obsolete.\n\n259\n00:13:15.440 --> 00:13:19.320\nIf you retransmit time It's obsolete,\nyou're looking back in time.\n\n260\n00:13:19.320 --> 00:13:23.475\nYou always move forward to the network\ntime protocol uses these, DNS.\n\n261\n00:13:23.475 --> 00:13:27.212\nDNS can use TCP or UDP, but\nI don't use UDP because, again,\n\n262\n00:13:27.212 --> 00:13:30.303\nif I do a name look-up and\nit doesn't go through.\n\n263\n00:13:30.303 --> 00:13:31.438\nI can just try again or\n\n264\n00:13:31.438 --> 00:13:35.125\nI can move to the next ENS server\nin my list if I have more than one.\n\n265\n00:13:35.125 --> 00:13:40.495\nSo we don't need the overhead of doing\na TCP handshake cuz there is overhead.\n\n266\n00:13:40.495 --> 00:13:42.695\nIf I'm just sending a single segment,\n\n267\n00:13:42.695 --> 00:13:47.265\nI can go through a three way handshake\nbefore I can send that single segment.\n\n268\n00:13:47.265 --> 00:13:51.710\nAnd with DNS queries, it's often times\njust one segment and that's it, right?\n\n269\n00:13:51.710 --> 00:13:54.250\nBut with our time,\ntime is one segment too.\n\n270\n00:13:54.250 --> 00:13:57.230\nTypically, it all fit within\none little segment but\n\n271\n00:13:57.230 --> 00:14:01.620\nif I'm sending something big like\nan image, it might be a couple of Megs\n\n272\n00:14:01.620 --> 00:14:04.510\nin size, that's gonna get broken\nup into hundreds of segments.\n\n273\n00:14:04.510 --> 00:14:07.270\nAnd when it gets broken up that way,\n\n274\n00:14:07.270 --> 00:14:10.480\nthis handshake isn't that\nbig a deal anymore, right?\n\n275\n00:14:10.480 --> 00:14:13.300\nBut if I'm doing one segment this\nwill actually triple the size of that\n\n276\n00:14:13.300 --> 00:14:16.320\ncommunication depending on how things go,\nso.\n\n277\n00:14:16.320 --> 00:14:17.690\n>> So Don, speaking of that,\n\n278\n00:14:17.690 --> 00:14:21.520\nthe large frame or\nsegment that you were talking about.\n\n279\n00:14:21.520 --> 00:14:23.995\nIf we break up that 1 megabyte segment or\nwhatever,\n\n280\n00:14:23.995 --> 00:14:27.444\nI can't remember how you just mentioned\nit, and you just mentioned it.\n\n281\n00:14:27.444 --> 00:14:31.095\nWe break that up, it doesn't have to occur\nbetween each segment on this TCP handshake\n\n282\n00:14:31.095 --> 00:14:33.089\nor does it have to occur\nbetween each segment?\n\n283\n00:14:33.089 --> 00:14:36.454\n>> So it just occurs once for\neach person you talk to.\n\n284\n00:14:36.454 --> 00:14:39.041\nSo if I have a web browser\nwith ten tabs open, and\n\n285\n00:14:39.041 --> 00:14:41.580\nI'm connected to ten\ndifferent web servers.\n\n286\n00:14:41.580 --> 00:14:45.547\nThen I went to this handshake ten times,\none for each person that I talked to.\n\n287\n00:14:45.547 --> 00:14:50.838\nBut if I just have one webpage open, and\nI'm on CNN's website, or whoever, and I'm\n\n288\n00:14:50.838 --> 00:14:55.848\nclicking links and browsing through their\nsite, I just do the session one time.\n\n289\n00:14:55.848 --> 00:14:57.187\nI opened the session one time and\n\n290\n00:14:57.187 --> 00:15:00.420\nnow I'm talking to that server the whole\ntime I'm moving through that site.\n\n291\n00:15:00.420 --> 00:15:02.748\nUnless they send me to a different server,\nwhich happens a lot, right?\n\n292\n00:15:02.748 --> 00:15:07.162\nBut if it's a VOIP call I pick up my\nphone, I initiate the call it does\n\n293\n00:15:07.162 --> 00:15:11.979\nthe hand shake and now, shoot,\nthat would use UDP, not TCP bad example.\n\n294\n00:15:11.979 --> 00:15:15.629\nSo i bring up the VPN tunnel,\nnow it's TCP, we bring it up,\n\n295\n00:15:15.629 --> 00:15:18.710\nwe bring up the tunnel and\nnow that sessions done.\n\n296\n00:15:18.710 --> 00:15:20.932\nI don't do a handshake again\nunless the tunnel drops, right?\n\n297\n00:15:20.932 --> 00:15:24.507\nIf the tunnel drops and\nthe sessions do expire, they usually have\n\n298\n00:15:24.507 --> 00:15:29.189\na time where if they've sat idle for long\nenough you'll hang up the session, right?\n\n299\n00:15:29.189 --> 00:15:31.646\nAnd it could 30 seconds,\nit could be five minutes,\n\n300\n00:15:31.646 --> 00:15:34.230\nit depends on the software\nthat you're using.\n\n301\n00:15:34.230 --> 00:15:36.760\nDifferent operating systems\nbehave different ways.\n\n302\n00:15:36.760 --> 00:15:37.946\nLet's talk a little but\n\n303\n00:15:37.946 --> 00:15:41.331\nabout segments real quick because\nI haven't really addressed it.\n\n304\n00:15:41.331 --> 00:15:44.694\nWhen we talk about a segment,\nin the OSI model,\n\n305\n00:15:44.694 --> 00:15:47.480\nwe still have that fired up back there.\n\n306\n00:15:47.480 --> 00:15:48.617\nLet me bring this up here.\n\n307\n00:15:48.617 --> 00:15:50.917\nIn the last episode,\nwe talked about segments and\n\n308\n00:15:50.917 --> 00:15:53.506\nhow they're right here at\nthe transport layer, okay?\n\n309\n00:15:53.506 --> 00:15:58.339\nOne thing I didn't really talk about is\nwhy we even have segments in the first\n\n310\n00:15:58.339 --> 00:16:00.000\nplace When you send data,\n\n311\n00:16:00.000 --> 00:16:05.110\nsometimes all the data that you're\nsending will fit right in one segment.\n\n312\n00:16:05.110 --> 00:16:08.500\nWhich becomes one packet, which becomes\none frame and it crosses the network.\n\n313\n00:16:09.900 --> 00:16:11.580\nBut it's getting to be\npretty rare these days.\n\n314\n00:16:11.580 --> 00:16:14.330\nWe have so much data crossing\nthe network and the data is so\n\n315\n00:16:14.330 --> 00:16:16.740\nbig, that it's pretty rare\nthat it fits this way.\n\n316\n00:16:16.740 --> 00:16:20.870\nIf you click on a link on a webpage,\nthat's an HTTP GET request, and\n\n317\n00:16:20.870 --> 00:16:25.410\nan HTTP GET request will almost\nalways fit within one segment.\n\n318\n00:16:25.410 --> 00:16:28.320\nIf you are writing an email,\nnot always, but\n\n319\n00:16:28.320 --> 00:16:30.580\na lot of times your emails\nwill fit in one segment.\n\n320\n00:16:30.580 --> 00:16:33.750\nIf you're like me though and it's a giant\ne-mail thread and it's all copied in\n\n321\n00:16:33.750 --> 00:16:36.290\nthe footer of the e-mail,\nthen that's probably not gonna happen.\n\n322\n00:16:36.290 --> 00:16:40.910\nBut, if you're going to a webpage,\nthe images that are on there and\n\n323\n00:16:40.910 --> 00:16:44.810\nthe text and all that layout, it's gonna\nbe more than what one segment can handle.\n\n324\n00:16:44.810 --> 00:16:47.117\nAll right now, well,\nwhat can a segment handle?\n\n325\n00:16:47.117 --> 00:16:53.100\nWell, with TCP/IP, there's a minimum\nsize for a segment, it's 576 bytes.\n\n326\n00:16:53.100 --> 00:16:56.940\nSo, no matter what you're doing,\nit has to be at least 576 bytes.\n\n327\n00:16:56.940 --> 00:17:01.750\nIf you're sending something\nthat's less than 576 bytes,\n\n328\n00:17:01.750 --> 00:17:05.190\nit'll put in padded data,\njust zeros to fill it out.\n\n329\n00:17:05.190 --> 00:17:06.960\nSo on a minimum, you're sending 576 bytes.\n\n330\n00:17:08.010 --> 00:17:13.320\nBut, the maximum is a little\nbit subject to interpretation.\n\n331\n00:17:13.320 --> 00:17:15.670\nOperating systems and\nyour network adapters and\n\n332\n00:17:15.670 --> 00:17:18.960\nyour switches can all negotiate\ndifferent maximum sizes.\n\n333\n00:17:18.960 --> 00:17:22.550\nSo you have what's called an MTU,\na maximum transmission unit.\n\n334\n00:17:22.550 --> 00:17:26.022\nAnd the MTU is what defines what is going\nto be the biggest segment size that\n\n335\n00:17:26.022 --> 00:17:26.701\nyou've got.\n\n336\n00:17:26.701 --> 00:17:32.193\nAnd it is typically, not always,\nbut it is typically 1500 bytes.\n\n337\n00:17:32.193 --> 00:17:34.266\nSo, 1500 bytes.\n\n338\n00:17:34.266 --> 00:17:41.980\nIf you're sending data, that is less than\n1500 bytes, then it'll fit in one segment.\n\n339\n00:17:41.980 --> 00:17:45.490\nAnd that's when the TCP handshake is\nnot terribly efficient anymore, right?\n\n340\n00:17:45.490 --> 00:17:50.120\nBut if I'm sending a one meg image,\nright, that's one million bytes?\n\n341\n00:17:50.120 --> 00:17:50.900\nIs that right?\n\n342\n00:17:50.900 --> 00:17:55.868\nOne megabyte is one million bytes, and\nthat's a lot more than 1500 isn't it?\n\n343\n00:17:55.868 --> 00:17:58.960\nSo that's going to get broken\nup into hundreds of segments.\n\n344\n00:17:58.960 --> 00:18:01.710\nAnd so, TCP is what's doing that.\n\n345\n00:18:01.710 --> 00:18:07.430\nIt's going to break that up and\nsend it across the line.\n\n346\n00:18:07.430 --> 00:18:09.200\nAnd when it breaks them up,\n\n347\n00:18:09.200 --> 00:18:12.900\nthere's always a risk that things\ncould get out of order on the network.\n\n348\n00:18:12.900 --> 00:18:17.240\nSometimes one segment might get sent one\npath on the network and another one might\n\n349\n00:18:17.240 --> 00:18:20.320\nget sent the other way, and they get\nreceived out of order on the other end.\n\n350\n00:18:20.320 --> 00:18:24.280\nSo every single segment gets\na sequence number attached to them.\n\n351\n00:18:24.280 --> 00:18:28.860\nAnd on the other side, they can use the\nsequence number to reassemble the data and\n\n352\n00:18:28.860 --> 00:18:31.920\nput it all back together again and\nreceive it on the other end.\n\n353\n00:18:31.920 --> 00:18:36.050\nAll the while maintaining frames that are,\nor at least segments,\n\n354\n00:18:36.050 --> 00:18:38.052\nthat are under 1500 bytes.\n\n355\n00:18:38.052 --> 00:18:42.914\nThe reason I changed from saying frames\nthere is that frames can technically be\n\n356\n00:18:42.914 --> 00:18:43.510\nbigger.\n\n357\n00:18:43.510 --> 00:18:46.520\nFrames have to have a little extra\ndata on them like the checksum.\n\n358\n00:18:46.520 --> 00:18:53.100\nAnd so your frames will often times be\naround 1518 bytes, somewhere around there.\n\n359\n00:18:53.100 --> 00:18:53.940\nThey can be even larger.\n\n360\n00:18:53.940 --> 00:18:57.180\nYou can do jumbo frames, have 9000\nbytes if you want, you can go crazy.\n\n361\n00:18:57.180 --> 00:19:00.770\nBut typically, you're going to\nsee that 1500 MTU is common.\n\n362\n00:19:01.860 --> 00:19:06.200\nAll right, now, so when we started\nsending our data across the line.\n\n363\n00:19:06.200 --> 00:19:09.110\nIf I'm sending more than one segment,\n\n364\n00:19:09.110 --> 00:19:12.840\nit's really important that not just one\nsegment gets there, but that they all do.\n\n365\n00:19:12.840 --> 00:19:17.410\nAnd when I send them, how does the other\nside know that it gets it, right?\n\n366\n00:19:17.410 --> 00:19:22.210\nWell, what we're doing is\nwe're sending data across.\n\n367\n00:19:22.210 --> 00:19:23.390\nAnd each data,\n\n368\n00:19:23.390 --> 00:19:28.490\neach little segment that we send has a\nsegment number, a sequence number, right?\n\n369\n00:19:28.490 --> 00:19:32.560\nSo here you can see I'm sending 1 or\n2 or 3.\n\n370\n00:19:32.560 --> 00:19:37.348\nAnd by default, when you send across\na line, I would send segment one, and\n\n371\n00:19:37.348 --> 00:19:40.319\nthen get an acknowledgement for\nsegment one.\n\n372\n00:19:40.319 --> 00:19:43.420\nI would send segment two, and then get\nan acknowledgement for segment two.\n\n373\n00:19:43.420 --> 00:19:45.430\nThat acknowledgement is\nthe other side saying,\n\n374\n00:19:45.430 --> 00:19:49.500\nhey, I got the data,\nyou can send the next one for me.\n\n375\n00:19:49.500 --> 00:19:51.700\nOr they get sent a negative\nacknowledgement, a nack.\n\n376\n00:19:51.700 --> 00:19:53.820\nSo we've got acks and nacks.\n\n377\n00:19:53.820 --> 00:19:58.080\nA negative acknowledgement, that nack,\nis them saying, I didn't get this one.\n\n378\n00:19:58.080 --> 00:19:58.701\nWhat happened?\n\n379\n00:19:58.701 --> 00:20:02.600\nAnd, what you'll see is,\nit looks a little more like this.\n\n380\n00:20:02.600 --> 00:20:06.070\nWhere we set five, six got interrupted.\n\n381\n00:20:06.070 --> 00:20:07.562\nWe send seven.\n\n382\n00:20:07.562 --> 00:20:11.930\nThe other side, the server over here,\nit gets five and then all of a sudden,\n\n383\n00:20:11.930 --> 00:20:13.700\nit gets seven.\n\n384\n00:20:13.700 --> 00:20:17.160\nAnd it didn't get six and\nit knows that it's missing six, so\n\n385\n00:20:17.160 --> 00:20:20.920\nit gonna look at those sequence number is\nlike hey I never got that, it might wait\n\n386\n00:20:20.920 --> 00:20:24.680\na few milliseconds to see if it just comes\nin out of order but if it doesn't show up,\n\n387\n00:20:24.680 --> 00:20:28.700\nit knows it's missing and\nit can request the missing data.\n\n388\n00:20:28.700 --> 00:20:30.030\nIt can request it cuz it's not there.\n\n389\n00:20:31.270 --> 00:20:36.130\nNow, when we do that, if you think\nabout it into one to one relationship,\n\n390\n00:20:36.130 --> 00:20:39.250\nwe send one segment,\nwe get an acknowledgement back.\n\n391\n00:20:39.250 --> 00:20:41.660\nWe send the next segment,\nwe get an acknowledgement back.\n\n392\n00:20:41.660 --> 00:20:46.840\nThat means that 50% of the traffic on my\nnetwork would be acknowledgements, and\n\n393\n00:20:46.840 --> 00:20:47.680\nthat's kind of a lot.\n\n394\n00:20:48.890 --> 00:20:53.100\nSo in TCP, it almost always uses a window.\n\n395\n00:20:53.100 --> 00:20:55.670\nA window is where we do\none acknowledgement from\n\n396\n00:20:55.670 --> 00:20:57.580\nmore than one sequence number.\n\n397\n00:20:57.580 --> 00:21:00.680\nAll right, so see how I'm sending one,\ntwo and three?\n\n398\n00:21:00.680 --> 00:21:03.620\nAnd then I get an acknowledgement and\nthe acknowledgement is four.\n\n399\n00:21:03.620 --> 00:21:06.810\nThat's their way of saying, I'm\nacknowledging I received everything else,\n\n400\n00:21:06.810 --> 00:21:09.630\nI'm ready for number four,\nI'm ready for the next one, right?\n\n401\n00:21:09.630 --> 00:21:12.700\nAnd then it goes to five, six,\nseven and then the next one.\n\n402\n00:21:12.700 --> 00:21:15.670\nThis is an example of a window\nsize of three, right?\n\n403\n00:21:15.670 --> 00:21:17.360\nA window size of three is pretty small.\n\n404\n00:21:17.360 --> 00:21:19.260\nYour window size will\nnormally be a few hundred or\n\n405\n00:21:19.260 --> 00:21:22.790\na few thousand even segments\nbefore you get an acknowledgment.\n\n406\n00:21:22.790 --> 00:21:27.520\nSo, if a segment is only 1500 bytes,\nI could do 100 segments and\n\n407\n00:21:27.520 --> 00:21:32.800\nit would only be, what, 1.5 K or\nsomething like that right?\n\n408\n00:21:32.800 --> 00:21:34.957\nNo that's not quite right, is it?\n\n409\n00:21:34.957 --> 00:21:36.737\nIt would be 15K.\n\n410\n00:21:36.737 --> 00:21:38.147\nAnyhow.\n\n411\n00:21:38.147 --> 00:21:38.889\n>> Mm-hm.\n\n412\n00:21:38.889 --> 00:21:41.835\n>> So, [LAUGH] it would be a certain\namount of data, but not a great amount.\n\n413\n00:21:41.835 --> 00:21:43.117\nNot anymore.\n\n414\n00:21:43.117 --> 00:21:44.828\nNot on modern ethernet networks,\n\n415\n00:21:44.828 --> 00:21:47.940\nwhere you've likely got\n100 megabit if not faster.\n\n416\n00:21:47.940 --> 00:21:51.660\nThese window sizes can grow very\nvery large, and do it reliably.\n\n417\n00:21:51.660 --> 00:21:54.180\nAnd now we're cutting down on\nthe amount of acknowledgement.\n\n418\n00:21:54.180 --> 00:21:59.471\nSo it reduces the amount of traffic on the\nnetwork which makes things more efficient.\n\n419\n00:21:59.471 --> 00:22:03.980\nThe only problem with TCP windows\nis our re-transister handle.\n\n420\n00:22:03.980 --> 00:22:09.995\nIn my example from a second ago, if I\ngo back here to my window size example,\n\n421\n00:22:09.995 --> 00:22:12.175\nI've got a window size of three, okay?\n\n422\n00:22:12.175 --> 00:22:14.975\nSo for every three segments,\nI need an acknowledgement.\n\n423\n00:22:14.975 --> 00:22:17.825\nI send one, two, three,\nI get an acknowledgement.\n\n424\n00:22:17.825 --> 00:22:21.955\nI send five, six, seven, well, instead of\n\n425\n00:22:21.955 --> 00:22:27.075\ngetting an acknowledgement for seven, or\nI guess it would be eight at this point.\n\n426\n00:22:27.075 --> 00:22:30.740\nInstead of getting that acknowledgement,\nI get a negative acknowledgment.\n\n427\n00:22:30.740 --> 00:22:32.580\nAnd, the four again.\n\n428\n00:22:32.580 --> 00:22:38.200\nSaying, that's the last one I got,\nI didn't get all of this in its entirety.\n\n429\n00:22:38.200 --> 00:22:40.470\nAnd so\nwhat happens is we have to retransmit.\n\n430\n00:22:40.470 --> 00:22:44.919\nWell, when you're doing one to one\ncommunications where it is a single\n\n431\n00:22:46.220 --> 00:22:49.890\nsegment to a single acknowledgement,\nwe can re-transmit just that one segment.\n\n432\n00:22:49.890 --> 00:22:53.920\nBut when it's a window, it doesn't have\na way to tell me exactly what's missing.\n\n433\n00:22:53.920 --> 00:22:56.130\nIt can't say,\nI'm just missing this one segment.\n\n434\n00:22:56.130 --> 00:22:58.740\nIt tells me it's missing the window.\n\n435\n00:22:58.740 --> 00:23:02.274\nAnd so now it's gotta re-transmit\nthe entire window, right?\n\n436\n00:23:02.274 --> 00:23:06.670\nSo I sent 567,\nnow we gotta send 567 again.\n\n437\n00:23:06.670 --> 00:23:10.910\nAnd while that might sound inefficient,\nit's actually not bad, because remember,\n\n438\n00:23:10.910 --> 00:23:13.040\nthese windows are not that big.\n\n439\n00:23:13.040 --> 00:23:15.550\nWe're usually talking about\na couple of kilobytes,\n\n440\n00:23:15.550 --> 00:23:18.630\nmaybe a megabyte of data if\nthe window has really grown.\n\n441\n00:23:18.630 --> 00:23:21.050\nAnd on a 100 megabit network,\nthis happens very quickly and\n\n442\n00:23:21.050 --> 00:23:22.755\nwe don't notice it, all right?\n\n443\n00:23:22.755 --> 00:23:25.343\nBut, you will find where\nmany operating systems and\n\n444\n00:23:25.343 --> 00:23:29.165\nnetwork adapters actually support what\nare called variable window sizes.\n\n445\n00:23:29.165 --> 00:23:32.085\nWhere the window size can grow or\nshrink based on your network.\n\n446\n00:23:32.085 --> 00:23:35.175\nIf your network is really stable,\nthe window will continue to grow and\n\n447\n00:23:35.175 --> 00:23:36.595\ngrow and grow, get bigger and\nbigger and bigger.\n\n448\n00:23:36.595 --> 00:23:38.955\nIf your network is unstable,\nit'll shrink and shrink and\n\n449\n00:23:38.955 --> 00:23:42.655\nshrink until it gets really small to\nadapt to the health of your network.\n\n450\n00:23:42.655 --> 00:23:46.288\nSo, some people call it sliding window,\nor a variable windows,\n\n451\n00:23:46.288 --> 00:23:50.912\ncouple of different names for it, but, I\nbelieve the official term is an adaptable\n\n452\n00:23:50.912 --> 00:23:52.841\nwindow size is the official term.\n\n453\n00:23:52.841 --> 00:23:56.287\nAll right, so all of that is\ngoing on the background with TCP,\n\n454\n00:23:56.287 --> 00:23:58.686\nwith the transmission control protocol.\n\n455\n00:23:58.686 --> 00:24:00.189\nWith UDP, we don't need windows.\n\n456\n00:24:00.189 --> 00:24:01.621\nCuz we don't get acknowledgments, right?\n\n457\n00:24:01.621 --> 00:24:03.467\nWe just send them out and that's it.\n\n458\n00:24:03.467 --> 00:24:05.920\nThere are no acknowledgments and\nwe just move forward.\n\n459\n00:24:05.920 --> 00:24:11.702\nBut that's how TCP works, as far as\nit's basic communications, all right?\n\n460\n00:24:11.702 --> 00:24:14.430\nLet's see, what else did I\nwanna talk about on this one?\n\n461\n00:24:14.430 --> 00:24:18.730\nSo, the other thing that I wanna mention\nabout TCP is we're communicating on\n\n462\n00:24:18.730 --> 00:24:22.420\nthe network and we have to know\nwhether we're gonna use TCP or\n\n463\n00:24:22.420 --> 00:24:26.230\nUDP and\nit's up to the software to choose that.\n\n464\n00:24:26.230 --> 00:24:31.238\nAnd your software is doing a few things\nup at the next layer of the OSI model,\n\n465\n00:24:31.238 --> 00:24:33.795\nthat, if I jump back over to this guy.\n\n466\n00:24:33.795 --> 00:24:37.017\nAt the transport layer, that's where\nwe're creating these segments but\n\n467\n00:24:37.017 --> 00:24:39.020\nit's up here at the session layer.\n\n468\n00:24:39.020 --> 00:24:42.690\nWhere we're getting a port\nnumber attached to our data, and\n\n469\n00:24:42.690 --> 00:24:45.900\nit's determining whether we'll use TCP or\nUDP.\n\n470\n00:24:45.900 --> 00:24:51.190\nSo it's gonna tell layer 4, hey I\nneed to use TCP or I need to use UDP.\n\n471\n00:24:51.190 --> 00:24:54.180\nLayer 4 doesn't figure it out on its own,\nit gets told that.\n\n472\n00:24:54.180 --> 00:24:56.670\nEach layer gets instructions\nfrom the layer above it, and\n\n473\n00:24:56.670 --> 00:25:00.460\nso this one's being told to use TCP or\nuse UDP, and that's how it picks.\n\n474\n00:25:00.460 --> 00:25:03.440\nAnd then it breaks things up into\nsegments and gets it ready to go.\n\n475\n00:25:03.440 --> 00:25:06.182\nSo once that's done,\nnow we can start to communicate.\n\n476\n00:25:06.182 --> 00:25:10.152\nSo these two layers actually work\nin close concert together, right?\n\n477\n00:25:10.152 --> 00:25:14.185\nWith the port numbers, with the protocol\nselection and then with the segmentation\n\n478\n00:25:14.185 --> 00:25:18.470\nof the data, before it all gets wrapped\nup down here in packets and frames.\n\n479\n00:25:18.470 --> 00:25:22.470\nNow you can see a lot of this\nhappen at any given time.\n\n480\n00:25:22.470 --> 00:25:26.090\nIf you just test out, there's a few\ndifferent things we could test out.\n\n481\n00:25:26.090 --> 00:25:28.170\nLet me give you a few examples.\n\n482\n00:25:28.170 --> 00:25:30.930\nLet me open a terminal here on my machine.\n\n483\n00:25:30.930 --> 00:25:34.340\nI'm on a Mac but on a Windows machine,\nthis would really work the same way,\n\n484\n00:25:34.340 --> 00:25:37.020\nit's not any real difference.\n\n485\n00:25:37.020 --> 00:25:40.568\nI guess different commands,\nbut on this machine.\n\n486\n00:25:40.568 --> 00:25:46.334\nIf I were to reach out to a host and\nuse a particular protocol.\n\n487\n00:25:46.334 --> 00:25:49.416\nThe protocol is going to have\na number assigned to it and\n\n488\n00:25:49.416 --> 00:25:53.511\nit's going to determine whether or\nnot we're using TCP or UDP, right?\n\n489\n00:25:53.511 --> 00:25:58.968\nSo for example, if I'm gonna use Telnet,\n\n490\n00:25:58.968 --> 00:26:02.461\nTelnet uses TCP port 23.\n\n491\n00:26:02.461 --> 00:26:04.665\nWe need TCP,\nwe need reliable communication, so\n\n492\n00:26:04.665 --> 00:26:07.877\nthat when I press a letter, the letter\nis gonna make it to the other side.\n\n493\n00:26:07.877 --> 00:26:12.380\nAnd we're gonna use TCP to make\nsure that gets sent across and\n\n494\n00:26:12.380 --> 00:26:15.150\nthen tell just uses port 23 to assign it.\n\n495\n00:26:15.150 --> 00:26:17.348\nSo when we reach out to that system,\n\n496\n00:26:17.348 --> 00:26:20.705\nbasically we're gonna build up data\nthat looks something like this.\n\n497\n00:26:20.705 --> 00:26:24.530\nWe'll have a source and a destination\naddress, our source IP and our destination\n\n498\n00:26:24.530 --> 00:26:28.200\nIP and then, we'll have a source and\na destination source port number.\n\n499\n00:26:28.200 --> 00:26:31.836\nThe source port number is randomly\ngenerated, it's usually between,\n\n500\n00:26:31.836 --> 00:26:35.719\ndo you remember the ranges Ronnie\nit's like 48,000 to 65,000.\n\n501\n00:26:35.719 --> 00:26:40.890\n>> Usually when it's dynamic it's\n50,001 going all the way up to 65,535.\n\n502\n00:26:40.890 --> 00:26:42.700\n>> All right, so it'll be in those ranges.\n\n503\n00:26:42.700 --> 00:26:44.440\nThose are kind of throwaway port numbers,\nright?\n\n504\n00:26:44.440 --> 00:26:48.850\nWe can use them temporarily and\nthen move on but when we talk to a server,\n\n505\n00:26:48.850 --> 00:26:51.265\nwe usually have a particular software\napplication we are talking to.\n\n506\n00:26:51.265 --> 00:26:54.990\nAnd in this case, it's a web server and so\nthat destination port number is port 80,\n\n507\n00:26:54.990 --> 00:26:56.270\nit's predictable.\n\n508\n00:26:56.270 --> 00:26:59.550\nWhen the server responds, it's gonna\nrespond back with the source of port\n\n509\n00:26:59.550 --> 00:27:01.830\n80 and destination of our random number.\n\n510\n00:27:01.830 --> 00:27:06.170\nThat random number is important because\nit's attached to a tab in a web browser or\n\n511\n00:27:06.170 --> 00:27:09.030\nan application or something, so\nit knows where to get that data back to.\n\n512\n00:27:09.030 --> 00:27:12.586\nSo really important stuff and\nthat's happening in the background,\n\n513\n00:27:12.586 --> 00:27:16.447\nthat's the session layer working together\nwith TCP to make sure that we can\n\n514\n00:27:16.447 --> 00:27:18.854\ncommunicate with the system\non the other end.\n\n515\n00:27:18.854 --> 00:27:21.735\nSo those port numbers,\nactually I asked you the question Ronnie,\n\n516\n00:27:21.735 --> 00:27:23.440\nI actually had a slide made up for that.\n\n517\n00:27:23.440 --> 00:27:24.542\n>> 49152.\n\n518\n00:27:24.542 --> 00:27:27.209\n[LAUGH]\n>> If I would remember my slides.\n\n519\n00:27:27.209 --> 00:27:32.622\nSo 0 through 1023, those are what\nare called well-known port numbers and\n\n520\n00:27:32.622 --> 00:27:34.735\nthese are just for TCP and UDP.\n\n521\n00:27:34.735 --> 00:27:40.959\n1024 through 49151, those are registered\nport numbers, for all of these ports,\n\n522\n00:27:40.959 --> 00:27:46.010\nyou're not suppose to use them without\ntalking to the IANA first, right?\n\n523\n00:27:46.010 --> 00:27:50.617\nWhich is the let me see if I can remember\nthis, Internet association for numbering\n\n524\n00:27:50.617 --> 00:27:54.979\nor Internet authority for numbering and\naddressing or something like that.\n\n525\n00:27:54.979 --> 00:27:58.157\nBut the IANA they\nare the people responsible for\n\n526\n00:27:58.157 --> 00:28:04.209\nassigning these port numbers and they keep\nit pretty well locked down, 0 to 49151.\n\n527\n00:28:04.209 --> 00:28:07.110\n>> The Internet Assigned Numbers Authority\n[LAUGH]\n\n528\n00:28:07.110 --> 00:28:08.650\n>> I was close, I had the words, right?\n\n529\n00:28:08.650 --> 00:28:11.840\nSo Internet Assigned Numbers Authority.\n\n530\n00:28:11.840 --> 00:28:15.810\nThey are the ones handling that, but\nonce you get over 49151, you get\n\n531\n00:28:15.810 --> 00:28:20.740\nto 49152 all the way to 65535, like Ronnie\nsaid those are dynamic port numbers.\n\n532\n00:28:20.740 --> 00:28:23.610\nAnybody can use them to be\nable to communicate, so\n\n533\n00:28:23.610 --> 00:28:26.960\nwhen we start reaching out on the network\nthat's happening in the background.\n\n534\n00:28:26.960 --> 00:28:28.350\nBut on this lower port numbers,\n\n535\n00:28:28.350 --> 00:28:33.250\nwe've got protocols that all\nhave ports assigned to them.\n\n536\n00:28:33.250 --> 00:28:36.748\nSo for example, FTP has port 20 and 21.\n\n537\n00:28:36.748 --> 00:28:39.686\nSecure Shell, SSH uses port 22.\n\n538\n00:28:39.686 --> 00:28:41.790\nTelnet uses port 23.\n\n539\n00:28:41.790 --> 00:28:44.600\nThe ones that I've got up here on the\nscreen, these'll be in the show notes, so\n\n540\n00:28:44.600 --> 00:28:46.290\ndon't feel like you gotta\nscribble them down.\n\n541\n00:28:46.290 --> 00:28:49.480\nThese are the common ones that show up on\nthe exam, so you wanna memorize these.\n\n542\n00:28:49.480 --> 00:28:54.490\nBut not just a port number,\nalso whether they use TCP or UDP.\n\n543\n00:28:54.490 --> 00:28:58.400\nMost of them use TCP cuz we wanna know\nthat our data made it to the other side.\n\n544\n00:28:58.400 --> 00:29:01.280\nBut some of them use UDP and\nsome of them use both.\n\n545\n00:29:01.280 --> 00:29:07.220\nDNS uses both, it can use TCP,\nif you're doing DNSSEC, it'll use TCP.\n\n546\n00:29:07.220 --> 00:29:11.500\nBut it can use UDP also,\nbecause a DNS request is so small,\n\n547\n00:29:11.500 --> 00:29:12.730\nit'll fit in one segment.\n\n548\n00:29:12.730 --> 00:29:14.190\nSo we don't need acknowledgements and\nall that and\n\n549\n00:29:14.190 --> 00:29:17.050\nif it doesn't get through to the other\nside, we just send it again.\n\n550\n00:29:17.050 --> 00:29:19.587\nNetwork time, same way,\nit fits in one segment but\n\n551\n00:29:19.587 --> 00:29:23.082\nalso, if we did a retransmitting,\nit will be obsolete data anyways.\n\n552\n00:29:23.082 --> 00:29:28.503\nSo, we always need to get valid data,\nso we don't want retransmits with NTP.\n\n553\n00:29:28.503 --> 00:29:31.371\nThere's other ones like TFTP,\nthe Trivial File Transfer Protocol.\n\n554\n00:29:31.371 --> 00:29:35.076\nIt uses UDP, I don't think I put that one\non here or maybe it's on the other slide,\n\n555\n00:29:35.076 --> 00:29:36.702\nno, I didn't put that one on here.\n\n556\n00:29:36.702 --> 00:29:39.668\nThat's port 69, we'll actually\nuse it a little bit in the show,\n\n557\n00:29:39.668 --> 00:29:40.979\nso that's a good one to know.\n\n558\n00:29:40.979 --> 00:29:43.079\nBut you'll see some of other ones here and\n\n559\n00:29:43.079 --> 00:29:47.080\nnotice how when we get into all\nthe secure ones, they all use TCP, right?\n\n560\n00:29:47.080 --> 00:29:51.020\nBecause when you're encrypting data,\nevery single segment is important.\n\n561\n00:29:51.020 --> 00:29:53.370\nIf you lose one segment,\nall the data becomes useless,\n\n562\n00:29:53.370 --> 00:29:54.940\nyou can't decrypt the data anymore.\n\n563\n00:29:54.940 --> 00:29:57.635\nSo really important stuff to have,\nall right?\n\n564\n00:29:57.635 --> 00:30:00.628\nBut you'll see each one of these,\nthey're all very common protocols, and\n\n565\n00:30:00.628 --> 00:30:02.820\nthey've all got that port assigned to it.\n\n566\n00:30:02.820 --> 00:30:05.830\nAnd we can see it in action\nif I get back to my terminal.\n\n567\n00:30:05.830 --> 00:30:09.150\nLet me show you, for example,\nI'll use Telnet, right?\n\n568\n00:30:09.150 --> 00:30:12.100\nI'm gonna open up a connection\nto a web server out there.\n\n569\n00:30:12.100 --> 00:30:16.767\nThere's some people that made the entire\nmovie of Star Wars in Telnet, right?\n\n570\n00:30:16.767 --> 00:30:17.608\nWhich is kinda neat.\n\n571\n00:30:17.608 --> 00:30:22.354\n>> [LAUGH]\n>> So the website, or the address that\n\n572\n00:30:22.354 --> 00:30:27.471\nthey use, is towel.blinkenlights.nl,\nall right?\n\n573\n00:30:27.471 --> 00:30:31.926\n>> [LAUGH]\n>> So I'm just gonna do a lookup on their\n\n574\n00:30:31.926 --> 00:30:34.787\nIP address,\nI wanna keep track of their IP, okay?\n\n575\n00:30:34.787 --> 00:30:37.210\nAnd I'm gonna jump over\nto my other tab here.\n\n576\n00:30:37.210 --> 00:30:39.973\nAnd I'm gonna do a netstat -an,\n\n577\n00:30:39.973 --> 00:30:45.810\nwhich is gonna show me all the open\nTCP and UDP connections that I have.\n\n578\n00:30:45.810 --> 00:30:51.137\nNow if I run that, I'm gonna have\na ton of connections laid out in here.\n\n579\n00:30:51.137 --> 00:30:55.280\nIn fact, let me just change my screen\na little bit so this is easier to read.\n\n580\n00:30:55.280 --> 00:30:56.922\nThere we go.\n\n581\n00:30:56.922 --> 00:31:00.340\nAll right, let me get towards the top,\nhere we go, so\n\n582\n00:31:00.340 --> 00:31:02.690\nthese are all connections\nthat I have open.\n\n583\n00:31:02.690 --> 00:31:04.860\nYou'll see a source address which is me.\n\n584\n00:31:04.860 --> 00:31:09.904\nMy laptop is 10.1.230.241 and destination,\nthese are people that I'm talking to.\n\n585\n00:31:09.904 --> 00:31:12.418\nAnd you'll see source ports and\ndestination ports and\n\n586\n00:31:12.418 --> 00:31:13.990\nthey all get laid out here.\n\n587\n00:31:13.990 --> 00:31:18.950\nAnd you'll see, for example, whether I\nhave an established two way communication,\n\n588\n00:31:18.950 --> 00:31:22.290\nor here I've received\na synchronization message.\n\n589\n00:31:22.290 --> 00:31:25.720\nSo I need to be sending a SYNACK\nback to these people so\n\n590\n00:31:25.720 --> 00:31:27.690\nI can see what's going on on my system.\n\n591\n00:31:27.690 --> 00:31:30.500\nI'm listening, I'm waiting for\nsomebody to connect on these ports.\n\n592\n00:31:30.500 --> 00:31:33.866\nAll of this is happening in the\nbackground, but it is a lot of data, so\n\n593\n00:31:33.866 --> 00:31:35.679\nI'm gonna filter this a little bit.\n\n594\n00:31:35.679 --> 00:31:38.244\nLet me make my font a little larger.\n\n595\n00:31:38.244 --> 00:31:44.710\nI'm gonna filter this a little bit, so\nthat I just see the blinking lights guys.\n\n596\n00:31:44.710 --> 00:31:47.050\nSo I'm gonna look for just their IP.\n\n597\n00:31:47.050 --> 00:31:49.156\nSo, right now,\nI do not have a connection open to them.\n\n598\n00:31:49.156 --> 00:31:54.130\nIn my other tab, I'm gonna connect,\nlet me just change this here,\n\n599\n00:31:54.130 --> 00:31:57.203\nI'm gonna connect with them via Telnet.\n\n600\n00:31:57.203 --> 00:32:00.231\nSo I'm gonna fire up Telnet and\npoint to their server.\n\n601\n00:32:00.231 --> 00:32:06.880\nAnd it's gonna connect up and,\nwell here we go, it's gonna fire up.\n\n602\n00:32:08.454 --> 00:32:10.400\nAnd any time it's gonna start,\nwell I guess I don't have to wait for\n\n603\n00:32:10.400 --> 00:32:13.680\nit to start but\nbasically it's firing up right now and\n\n604\n00:32:13.680 --> 00:32:17.880\nas soon as this thing is done,\nit's gonna go and kinda kick in.\n\n605\n00:32:17.880 --> 00:32:19.420\nThere we go,\nnow it's actually gonna start the movie.\n\n606\n00:32:19.420 --> 00:32:19.990\nRight, so here we are.\n\n607\n00:32:19.990 --> 00:32:22.340\nWe're gonna watch the movie\nStar Wars in ASCII.\n\n608\n00:32:22.340 --> 00:32:24.670\nSo this is a telnet session\nthat is now running.\n\n609\n00:32:24.670 --> 00:32:26.230\nI'm transmitting data back and forth.\n\n610\n00:32:26.230 --> 00:32:29.710\nAnd with telnet I want to get\nevery single bit of data.\n\n611\n00:32:29.710 --> 00:32:32.220\nSo if I jump over to my terminal here,\n\n612\n00:32:32.220 --> 00:32:35.070\nI should see that I've\ngot a TCP session open.\n\n613\n00:32:35.070 --> 00:32:35.900\nAnd there it is.\n\n614\n00:32:35.900 --> 00:32:36.490\nI can see it.\n\n615\n00:32:36.490 --> 00:32:37.295\nI've got a connection.\n\n616\n00:32:37.295 --> 00:32:42.540\nMy laptop, 10.1.230.241,\nhas a source port of 52590.\n\n617\n00:32:42.540 --> 00:32:47.130\nThere's that randomly generated\none that's above 49,152.\n\n618\n00:32:47.130 --> 00:32:52.280\nAnd my destination is the blinking\nlight server on port 23,\n\n619\n00:32:52.280 --> 00:32:54.740\nthat's the port for telnet.\n\n620\n00:32:54.740 --> 00:32:57.920\nAnd as I scroll over,\nI've got an established session.\n\n621\n00:32:57.920 --> 00:33:03.031\nI did the three-way handshake and\nnow we've got two-way communications,\n\n622\n00:33:03.031 --> 00:33:07.520\nand if I scroll all the way over here,\nit's TCP version 4, right?\n\n623\n00:33:07.520 --> 00:33:10.900\nTCP is being used to do that lookup,\nright?\n\n624\n00:33:10.900 --> 00:33:13.310\nIf I were to do something\na little different, right,\n\n625\n00:33:13.310 --> 00:33:17.200\nthings like UDP are a little\nbit more difficult to show.\n\n626\n00:33:17.200 --> 00:33:19.880\nSomething, let me put at that,\n\n627\n00:33:19.880 --> 00:33:22.340\nUDP is difficult to show because\nit doesn't have a session.\n\n628\n00:33:22.340 --> 00:33:24.365\nIt comes and go so fast, right?\n\n629\n00:33:24.365 --> 00:33:29.190\nSo if I do, for example,\nan nslookup for a website.\n\n630\n00:33:29.190 --> 00:33:33.980\nI'm gonna do a DNS lookup and\nit's gonna use UDP to do it, right?\n\n631\n00:33:33.980 --> 00:33:37.390\nWell, if I do that,\nthe session comes and goes, so\n\n632\n00:33:37.390 --> 00:33:40.910\nby the time I get to my other window and\nI do a lookup, it's not gonna happen.\n\n633\n00:33:40.910 --> 00:33:49.902\nSo let's see if I can't maybe\nforce this to run really fast.\n\n634\n00:33:49.902 --> 00:33:52.826\nSo I'm going to do an nslookup and well,\n\n635\n00:33:52.826 --> 00:33:56.440\nI'm trying to think of\na good way to show this one.\n\n636\n00:33:56.440 --> 00:33:57.242\nIt's going to be kinda of hard.\n\n637\n00:33:57.242 --> 00:33:58.069\nMaybe I can do a,\n\n638\n00:33:58.069 --> 00:34:01.570\nlet's see if I have anything running\nright now just coincidentally.\n\n639\n00:34:01.570 --> 00:34:02.990\nMaybe I can luck out.\n\n640\n00:34:02.990 --> 00:34:04.910\nAnd I'm gonna do a quick grep for\n\n641\n00:34:04.910 --> 00:34:10.230\nUDP and do I happen to have\nany sessions open right now?\n\n642\n00:34:10.230 --> 00:34:10.790\nThere's something.\n\n643\n00:34:12.210 --> 00:34:13.770\nI don't know what it is,\nbut I've got something.\n\n644\n00:34:13.770 --> 00:34:15.950\nSo I've got a session open here,\n\n645\n00:34:15.950 --> 00:34:18.370\nand here's my laptop with\na randomly generated port.\n\n646\n00:34:18.370 --> 00:34:21.692\nI'm connected to this IP,\nwhich I don't recognize that IP, so\n\n647\n00:34:21.692 --> 00:34:23.360\nI should probably look that up.\n\n648\n00:34:23.360 --> 00:34:26.530\nNow, it's on port 443, which is SSL.\n\n649\n00:34:26.530 --> 00:34:30.860\nOkay, SSL normally uses TCP,\nso it's secure.\n\n650\n00:34:30.860 --> 00:34:31.760\nI need everything.\n\n651\n00:34:31.760 --> 00:34:34.690\nBut if I look over here,\nit's UDP version 4.\n\n652\n00:34:34.690 --> 00:34:37.160\nThat's a UDP connection for some reason.\n\n653\n00:34:37.160 --> 00:34:40.800\nIf I scroll over here,\nthere's no established message, right?\n\n654\n00:34:40.800 --> 00:34:44.160\nIt's not established cuz I'm just\nthrowing data at the system.\n\n655\n00:34:44.160 --> 00:34:46.110\nSo I don't know what that is.\n\n656\n00:34:46.110 --> 00:34:47.610\nI should probably look it up,\nfigure out what that IP is,\n\n657\n00:34:47.610 --> 00:34:48.970\nsee what my laptop is talking to.\n\n658\n00:34:48.970 --> 00:34:50.850\nIt's probably some Apple thing [LAUGH].\n\n659\n00:34:50.850 --> 00:34:52.190\nApple has all sorts of mess in there.\n\n660\n00:34:52.190 --> 00:34:54.510\nBut yeah,\nthat's the only connection I've got going.\n\n661\n00:34:54.510 --> 00:34:56.740\nAnd I don't know if I can\ntrigger something fast enough,\n\n662\n00:34:56.740 --> 00:35:01.480\nmaybe like a quick nslookup and\n\n663\n00:35:01.480 --> 00:35:05.709\nif I real quick do a UDP lookup, maybe\nthat session will still be sitting there.\n\n664\n00:35:08.408 --> 00:35:10.830\nJust double, nah, see it's already gone.\n\n665\n00:35:10.830 --> 00:35:14.030\nYeah, they come and go really fast and\nunless you hold that session open,\n\n666\n00:35:14.030 --> 00:35:15.380\nit's gonna disappear.\n\n667\n00:35:15.380 --> 00:35:19.920\nBut you guys can see how I do have that\nUDP and it's calling it udp4 which just\n\n668\n00:35:19.920 --> 00:35:24.920\nmean IP version 4 as opposed to UDP on top\nof IP version 6 like I've got right here.\n\n669\n00:35:24.920 --> 00:35:26.837\nBut all that's happening the background,\n\n670\n00:35:26.837 --> 00:35:29.330\nit's all part of the TCP/IP\nprotocols stack.\n\n671\n00:35:29.330 --> 00:35:31.400\nI'm just using UDP here in place of TCP.\n\n672\n00:35:32.800 --> 00:35:36.390\nThat's a pretty good run\ndown of how that functions.\n\n673\n00:35:36.390 --> 00:35:39.810\nJust be aware for the exam,\nexactly how TCP works.\n\n674\n00:35:39.810 --> 00:35:43.710\nWe want to understand how that functions,\nhow it does its job in the background.\n\n675\n00:35:43.710 --> 00:35:46.390\nAnd you want to have a good idea of\nthe common protocols that are out\n\n676\n00:35:46.390 --> 00:35:46.990\nthere, right?\n\n677\n00:35:46.990 --> 00:35:50.040\nIt would behoove you to\nmemorize some of these.\n\n678\n00:35:50.040 --> 00:35:52.340\nAnd they'll be in the show\nnotes if you need them.\n\n679\n00:35:52.340 --> 00:35:54.220\nThey do turn up on the exam.\n\n680\n00:35:54.220 --> 00:35:58.930\n>> Well, Don, thank you again for\nthat nice refreshment of the ideas here of\n\n681\n00:35:58.930 --> 00:36:04.150\nTCP and UDP as well as TCP/IP protocol\nstack that we just took a look at.\n\n682\n00:36:04.150 --> 00:36:07.590\nYou also want to make sure that you\ncompare this, too, and that you understand\n\n683\n00:36:07.590 --> 00:36:11.710\nwhere those layers match up in\nthe TCP/IP model and the OSI model.\n\n684\n00:36:11.710 --> 00:36:14.730\nThey sometimes kind of get you\non that in the exam as well.\n\n685\n00:36:14.730 --> 00:36:17.760\nJust try to make sure you understand that\nthe application layer wraps up those\n\n686\n00:36:17.760 --> 00:36:21.170\ntop three layers in the OSI model and\nwhere those things link up.\n\n687\n00:36:21.170 --> 00:36:23.020\nSo make sure you also pay attention there.\n\n688\n00:36:23.020 --> 00:36:26.080\nRemember that TCP establishes\nthat reliable communication or\n\n689\n00:36:26.080 --> 00:36:28.270\nthe idea of guaranteed delivery.\n\n690\n00:36:28.270 --> 00:36:30.115\nThat's the key phrase that\nDon kept pointing out.\n\n691\n00:36:30.115 --> 00:36:33.050\n>> [LAUGH]\n>> And of course UDP is best effort.\n\n692\n00:36:33.050 --> 00:36:35.634\nYou don't have to use\nthe United States Post Office on that one.\n\n693\n00:36:35.634 --> 00:36:37.905\n>> [LAUGH]\n>> But you do wanna remember that those\n\n694\n00:36:37.905 --> 00:36:42.717\ntwo terms are actually gonna be very\nimportant when we start to see those terms\n\n695\n00:36:42.717 --> 00:36:44.340\non the exam as well.\n\n696\n00:36:44.340 --> 00:36:48.630\nNow, in terms of what we normally do\nin networking, also take a look there.\n\n697\n00:36:48.630 --> 00:36:51.640\nMost of the traffic that we do tend\nto implement is gonna be based on\n\n698\n00:36:51.640 --> 00:36:54.360\nthe software and\nwhat it needs to have happen so you and\n\n699\n00:36:54.360 --> 00:36:57.080\nI don't have to worry about\nwhether it's TCP or UDP.\n\n700\n00:36:57.080 --> 00:36:58.670\nOur software will normally request and\n\n701\n00:36:58.670 --> 00:37:02.780\ncreate what it needs to to make sure\nour data gets over to the other side.\n\n702\n00:37:02.780 --> 00:37:06.600\nWell, that's a great place for us to\nalso go ahead and end this episode then.\n\n703\n00:37:06.600 --> 00:37:10.260\nSigning off for ITProTV,\nI'm your host Ronnie Wong.\n\n704\n00:37:10.260 --> 00:37:11.170\n>> And I'm Don Pezet.\n\n705\n00:37:11.170 --> 00:37:14.417\n>> Stay tuned right here for\nmore of CCENT shows.\n\n706\n00:37:14.417 --> 00:37:23.350\n[MUSIC]\n\n",
          "vimeoId": "173658699"
        },
        {
          "description": null,
          "length": "1873",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-3-network_topologies-070516-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-3-network_topologies-070516-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-3-network_topologies-070516-1-sm.jpg",
          "title": "Network Topologies",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.392 --> 00:00:15.130\nWelcome to another great episode,\nright here, on ITProTV.\n\n3\n00:00:15.130 --> 00:00:18.790\nI'm your host Ronnie Wong and\ntoday we're taking that Cisco CCENT.\n\n4\n00:00:18.790 --> 00:00:21.530\nGetting ready for that exam.\n\n5\n00:00:21.530 --> 00:00:23.950\nNow we're continuing on with\nour networking fundamentals and\n\n6\n00:00:23.950 --> 00:00:26.880\nwho better to help us in our\nstudios today, Mr. Don Pezet.\n\n7\n00:00:26.880 --> 00:00:28.100\nDon, welcome back to our studios.\n\n8\n00:00:28.100 --> 00:00:32.010\n>> Thanks for having me back Ronnie, ready\nto dive right back in to our concepts and\n\n9\n00:00:32.010 --> 00:00:35.110\ntheories part of this course where we get\nan understanding of some of the basic\n\n10\n00:00:35.110 --> 00:00:37.760\nfundamental knowledge we\nneed to build on before we\n\n11\n00:00:37.760 --> 00:00:41.520\ndive into the really fun stuff and get our\nhands dirty working with Cisco equipment.\n\n12\n00:00:41.520 --> 00:00:44.510\nIn this episode we're going to be\nfocusing on network topologies.\n\n13\n00:00:44.510 --> 00:00:47.500\nAnd that means just our overall\nnetwork architecture or design.\n\n14\n00:00:47.500 --> 00:00:50.350\nThere are several different styles\nof network that are out there.\n\n15\n00:00:50.350 --> 00:00:52.550\nAnd Cisco has their own best practices.\n\n16\n00:00:52.550 --> 00:00:54.770\nSo that's where this is going\nto deviate a little bit.\n\n17\n00:00:54.770 --> 00:00:58.380\nI know some of you have probably\nachieved your Network+ certification and\n\n18\n00:00:58.380 --> 00:01:01.420\nyou learned the topologies there\nas far as CompTIA puts them out.\n\n19\n00:01:01.420 --> 00:01:04.880\nBut Cisco has their own way of looking\nat things, and it's really important for\n\n20\n00:01:04.880 --> 00:01:08.630\nthe exam that you understand\nwhat Cisco is looking for.\n\n21\n00:01:08.630 --> 00:01:10.720\nNow, there's a reason why it's different.\n\n22\n00:01:10.720 --> 00:01:13.510\nIt's not just Cisco being different for\ndifference's sake.\n\n23\n00:01:13.510 --> 00:01:15.920\nIt's that Cisco actually makes switches.\n\n24\n00:01:15.920 --> 00:01:16.720\nCompTIA doesn't.\n\n25\n00:01:16.720 --> 00:01:17.880\nAnd so with CompTIA,\n\n26\n00:01:17.880 --> 00:01:21.960\nthey're trying to keep with general ideas\nthat apply to pretty much any vendor.\n\n27\n00:01:21.960 --> 00:01:25.610\nBut Cisco says, look, we make a whole\nline of switches and routers and\n\n28\n00:01:25.610 --> 00:01:29.170\nfirewalls and here's how they should\nbe implemented in your environment, so\n\n29\n00:01:29.170 --> 00:01:32.710\nit is a little bit different, and\nthat's why this is important to know.\n\n30\n00:01:32.710 --> 00:01:38.100\nNow, in the Cisco world, they divide\nup equipment in the three classes\n\n31\n00:01:38.100 --> 00:01:43.480\nof equipment and Cisco calls it a tiered,\nor a multi-tier network architecture.\n\n32\n00:01:43.480 --> 00:01:48.210\nThey have core equipment, distribution\nequipment, and access equipment.\n\n33\n00:01:48.210 --> 00:01:51.820\nAnd it lays out kind of like\nthe diagram I've got on my laptop here,\n\n34\n00:01:51.820 --> 00:01:54.552\nso basically you got these three tiers.\n\n35\n00:01:54.552 --> 00:01:58.930\nThe core, like its name implies is\nthe heart of your network, that is\n\n36\n00:01:58.930 --> 00:02:03.470\nthe middle of your network where people\nare trying to go to access other networks.\n\n37\n00:02:03.470 --> 00:02:05.920\nSo the core is really critical.\n\n38\n00:02:05.920 --> 00:02:09.100\nThis is typically where you\ngot your fastest equipment.\n\n39\n00:02:09.100 --> 00:02:13.500\nYou need things to move as fast as\npossible through the core that means\n\n40\n00:02:13.500 --> 00:02:17.730\nyou're gonna make as few routing decisions\nas possible as few filtering decisions and\n\n41\n00:02:17.730 --> 00:02:20.830\nthings like that's all\ndown here at your core.\n\n42\n00:02:20.830 --> 00:02:25.650\nNow, your core may also be connected to\nwide area network links that's the edge\n\n43\n00:02:25.650 --> 00:02:26.880\nof you network.\n\n44\n00:02:26.880 --> 00:02:29.490\nAnd those wide array network\nlinks are gonna be slower.\n\n45\n00:02:29.490 --> 00:02:31.950\nSo while I say that core\nis all about speed,\n\n46\n00:02:31.950 --> 00:02:34.550\nthere are parts of it\nthat aren't exactly fast.\n\n47\n00:02:34.550 --> 00:02:35.970\nBut we're focusing on speed, so\n\n48\n00:02:35.970 --> 00:02:40.060\nthat means we need to eliminate any\nunnecessary traffic on those links.\n\n49\n00:02:40.060 --> 00:02:44.640\nThe core should be carrying\nthe bare minimum of data.\n\n50\n00:02:44.640 --> 00:02:46.140\nJust data it needs to cross the core.\n\n51\n00:02:46.140 --> 00:02:48.900\nAnything unnecessary stuff\ngets trimmed off early on.\n\n52\n00:02:48.900 --> 00:02:51.480\nWhere does it get turned off?\n\n53\n00:02:51.480 --> 00:02:52.920\nThat's the distribution layer.\n\n54\n00:02:52.920 --> 00:02:55.270\nThe distribution layer's where\nall of our logic happens.\n\n55\n00:02:55.270 --> 00:02:57.490\nAll of your big routing decisions.\n\n56\n00:02:57.490 --> 00:02:59.460\nAll of your multi pathing.\n\n57\n00:02:59.460 --> 00:03:03.860\nAll of your firewall filtering a lot\nof times will happen in distribution.\n\n58\n00:03:03.860 --> 00:03:07.210\nYour redundancy and redundant links.\n\n59\n00:03:07.210 --> 00:03:09.380\nAll this stuff is happening\nright here at distribution.\n\n60\n00:03:09.380 --> 00:03:12.110\nIf you're running a routing protocol\nwhich we're going to learn about later in\n\n61\n00:03:12.110 --> 00:03:12.810\nthe series.\n\n62\n00:03:12.810 --> 00:03:14.960\nThat's gonna run here at\nthe distribution layer.\n\n63\n00:03:14.960 --> 00:03:16.630\nNow notice how I have a firewall up here.\n\n64\n00:03:16.630 --> 00:03:19.170\nFirewalls can actually\napply in either place.\n\n65\n00:03:19.170 --> 00:03:20.250\nAt the core level,\n\n66\n00:03:20.250 --> 00:03:23.770\nthey're normally hardware firewalls\nbecause they're attached to the WAN.\n\n67\n00:03:23.770 --> 00:03:25.050\nTheir attached to ISPs.\n\n68\n00:03:25.050 --> 00:03:28.860\nOn the distribution layer, there're\nnormally access control lists that run\n\n69\n00:03:28.860 --> 00:03:31.570\nright on the routers or\nswitches themselves.\n\n70\n00:03:31.570 --> 00:03:35.170\nSo in theory you could have a firewall\nhere at the distribution layer, but\n\n71\n00:03:35.170 --> 00:03:38.380\nit's not very common because most\nfirewalls can't handle the packet\n\n72\n00:03:38.380 --> 00:03:40.160\nthroughput that you're gonna\nhave at your distribution layer.\n\n73\n00:03:40.160 --> 00:03:43.270\nSo that's why I don't have a firewall\nillustrated in distribution layer.\n\n74\n00:03:44.410 --> 00:03:46.180\nNow notice the access layer.\n\n75\n00:03:46.180 --> 00:03:48.640\nAt the access layer I just have a switch,\n\n76\n00:03:48.640 --> 00:03:51.960\njust a regular old run of\nthe mill layer two switch.\n\n77\n00:03:51.960 --> 00:03:54.420\nAt the access layer we\nare not worried about speed,\n\n78\n00:03:54.420 --> 00:03:57.840\nwe are not worried about security so\nmuch, we'll see some later.\n\n79\n00:03:57.840 --> 00:04:00.150\nWhat we are really worried\nabout here is port density.\n\n80\n00:04:00.150 --> 00:04:03.540\nI want as many ports as possible.\n\n81\n00:04:03.540 --> 00:04:06.980\nWell, at the distribution layer, I'm gonna\nhave these layer three switches that\n\n82\n00:04:06.980 --> 00:04:12.220\nare redundant, and are really well built,\nand are really, really expensive.\n\n83\n00:04:12.220 --> 00:04:15.210\nAt the access layer,\nI need as many ports as I can get, and\n\n84\n00:04:15.210 --> 00:04:19.150\nif I use the same type of switch,\nit's gonna get expensive really fast.\n\n85\n00:04:19.150 --> 00:04:21.720\nSo at the access where we're\nnormally using cheaper switches.\n\n86\n00:04:21.720 --> 00:04:24.440\nLower end switches that\njust have 48 ports.\n\n87\n00:04:24.440 --> 00:04:31.070\nOr you can get Cisco 4500s and 6500s that\nwill have hundreds of ports on them.\n\n88\n00:04:31.070 --> 00:04:36.840\nAnd I might have a 10 gig core and\na 10 gig distribution layer.\n\n89\n00:04:36.840 --> 00:04:39.700\nBut at the access layer I'm\ngonna have all 108 ports.\n\n90\n00:04:39.700 --> 00:04:42.680\nThat way I can aggregate all\nthose 100 meg ports into a nice\n\n91\n00:04:42.680 --> 00:04:45.470\nbig 10 gig trunk link and\nthey get full bandwidth.\n\n92\n00:04:45.470 --> 00:04:47.920\nOr I might have gig links down\nhere at the access layer,\n\n93\n00:04:47.920 --> 00:04:51.290\nthat's more common to have gigabit\nethernet links, and then 10 gig or\n\n94\n00:04:51.290 --> 00:04:56.140\neven 40 gig ethernet uplinks at\nthe distribution layer and into the core.\n\n95\n00:04:56.140 --> 00:05:00.980\nSo, at access, they are normally cheaper\nswitches that are lower in functionality.\n\n96\n00:05:00.980 --> 00:05:04.730\nBut our high end port number\nto build out that network.\n\n97\n00:05:04.730 --> 00:05:07.920\nSo when we go shopping for Cisco\nequipment, when you go to buy switches and\n\n98\n00:05:07.920 --> 00:05:11.640\nrouters, they're typically designed to\nfall into one of these three tiers,\n\n99\n00:05:11.640 --> 00:05:14.230\ncore, distribution or access.\n\n100\n00:05:14.230 --> 00:05:17.920\nAnd if I jump over to Cisco's website,\nand let's go shopping.\n\n101\n00:05:17.920 --> 00:05:21.200\nI'm gonna go to their products and\nwe'll go down to switches.\n\n102\n00:05:21.200 --> 00:05:23.560\nLittle assembly going by some switches,\nright.\n\n103\n00:05:23.560 --> 00:05:25.150\nSo, we go into their product list.\n\n104\n00:05:25.150 --> 00:05:29.100\nThey're gonna list all the different\nfamilies of switches that they have.\n\n105\n00:05:29.100 --> 00:05:31.290\nWe'll pass on chatting with their support.\n\n106\n00:05:31.290 --> 00:05:33.620\nAnd, so, here's a bunch of different\nswitches they've got available and\n\n107\n00:05:33.620 --> 00:05:34.810\nsee how they've divided it.\n\n108\n00:05:34.810 --> 00:05:37.850\nHere's campus LAN switches, access.\n\n109\n00:05:37.850 --> 00:05:41.280\nCampus LAN switches, core and\ndistribution, right.\n\n110\n00:05:41.280 --> 00:05:45.330\nCore switches and distribution switches\nare typically the same hardware.\n\n111\n00:05:45.330 --> 00:05:46.980\nThe difference is on\nthe distribution ones.\n\n112\n00:05:46.980 --> 00:05:49.920\nThat's where I set up my\nrouting protocols and ACLs and\n\n113\n00:05:49.920 --> 00:05:53.870\non core it's just VLANs and straight\nmove data as fast as you can, right?\n\n114\n00:05:53.870 --> 00:05:56.890\nSo different type of configuration,\nbut same basic hardware.\n\n115\n00:05:56.890 --> 00:06:00.380\nOn the access though,\nthe different switches all together.\n\n116\n00:06:00.380 --> 00:06:02.799\nSo let's take a look at some of these.\n\n117\n00:06:04.550 --> 00:06:09.460\nSo when I go to Campus LAN Switches- Core\nand Distribution.\n\n118\n00:06:09.460 --> 00:06:13.500\nSee how we've got this Cisco Catalyst\n6800, 6500, 49, 4500 and 7000.\n\n119\n00:06:13.500 --> 00:06:17.360\nThere's really only four or\n\n120\n00:06:17.360 --> 00:06:21.599\nfive different switches here,\nbut when I go to Access.\n\n121\n00:06:22.610 --> 00:06:25.840\nThere's quite a few different\nswitches 3650s, 3750s, and\n\n122\n00:06:25.840 --> 00:06:27.540\nso on, different numbering.\n\n123\n00:06:27.540 --> 00:06:29.470\nNotice the 4500, 4500 was on both right?\n\n124\n00:06:30.870 --> 00:06:35.470\nBecause depending on the control module\nyou put in there it can do the core role\n\n125\n00:06:35.470 --> 00:06:37.610\nor it can to the access role.\n\n126\n00:06:37.610 --> 00:06:40.104\nIt's normally an access switch,\nthat's where we normally see this one.\n\n127\n00:06:40.104 --> 00:06:41.050\nAll right?\n\n128\n00:06:41.050 --> 00:06:43.980\nNow, these switches, if you were to\nlook at them, they vary quite a bit.\n\n129\n00:06:43.980 --> 00:06:48.530\nSo for example the 3560,\nwhich is a really popular switch,\n\n130\n00:06:48.530 --> 00:06:53.030\nthe 3650 also, but the 3560's probably the\nmost popular one, we'll take the x model,\n\n131\n00:06:53.030 --> 00:06:54.520\nthat's the newest one.\n\n132\n00:06:54.520 --> 00:06:58.370\nAnd if I pull it up,\nit's a one use switch,\n\n133\n00:06:58.370 --> 00:07:03.646\nwhich means it's only, see, what's a rack\nunit these days running, 1.75 inches.\n\n134\n00:07:03.646 --> 00:07:04.900\nSo 1.75 inches tall and\n\n135\n00:07:04.900 --> 00:07:08.670\nit's got 48 ports on it with a nice\nbig uplink module right here.\n\n136\n00:07:08.670 --> 00:07:12.090\nSee how they've got this uplink and\nthese are gig ports that are,\n\n137\n00:07:12.090 --> 00:07:13.400\nactually these are 10 gig ports.\n\n138\n00:07:13.400 --> 00:07:15.610\nSo this one has 10 gig ports for\nthe uplink and\n\n139\n00:07:15.610 --> 00:07:17.820\nthese are all gig ports here for\nyour devices.\n\n140\n00:07:17.820 --> 00:07:22.940\nSo you plug in one gigabit devices and\nthey share that 10 gigabit uplink.\n\n141\n00:07:22.940 --> 00:07:24.390\nThink about that uplink, right.\n\n142\n00:07:24.390 --> 00:07:30.520\nIf I have a single 10 gigabit uplink and\nI've got 48 gigabit ports,\n\n143\n00:07:30.520 --> 00:07:33.730\nif I got 48 gigabit ports I could\nbe moving 48 gigabits of data and\n\n144\n00:07:33.730 --> 00:07:36.990\nI've only got one 10 gigabit uplink.\n\n145\n00:07:36.990 --> 00:07:38.840\nThat means they're gonna\nshare that uplink and\n\n146\n00:07:38.840 --> 00:07:40.580\nnow I've got a bottleneck in my network.\n\n147\n00:07:40.580 --> 00:07:44.100\nBut what are the odds of all 48 of\nyour workstations communicating\n\n148\n00:07:44.100 --> 00:07:44.770\nat the same time?\n\n149\n00:07:44.770 --> 00:07:49.190\nIt's pretty low so we can kind of hedge\nour bets on that and save some money.\n\n150\n00:07:49.190 --> 00:07:51.048\nYou can get hardware that's\na little more economical.\n\n151\n00:07:51.048 --> 00:07:57.678\nIf I have 48 ports of gigabit traffic and\nI want a 48 gigabit uplink.\n\n152\n00:07:57.678 --> 00:07:59.322\nThat's gonna be expensive, right.\n\n153\n00:07:59.322 --> 00:08:00.053\nWell, they don't make that.\n\n154\n00:08:00.053 --> 00:08:03.882\nI'd have to get two 40 gig uplinks to be\nable to do that and bond them together, so\n\n155\n00:08:03.882 --> 00:08:06.870\nyou actually end up with\nan 80 gigabits of uplink.\n\n156\n00:08:06.870 --> 00:08:08.160\nAnd those are pretty pricey.\n\n157\n00:08:08.160 --> 00:08:09.598\nIn fact,\nit's not even supported on this switch.\n\n158\n00:08:09.598 --> 00:08:11.970\nThere's not even an option for me here.\n\n159\n00:08:11.970 --> 00:08:15.600\nAll right, so that's the thing that we're\ngonna run into with these access switches.\n\n160\n00:08:15.600 --> 00:08:20.610\nNow there are some like that 4500\nwhere it's a chassis-based switch.\n\n161\n00:08:20.610 --> 00:08:25.080\nSo instead of being one\nfixed configuration switch,\n\n162\n00:08:25.080 --> 00:08:29.200\nit's a chassis with modules that you can\nadd into it, and that's what we have here.\n\n163\n00:08:29.200 --> 00:08:32.918\nMy laptop is actually plugged into\nprobably this switch right here,\n\n164\n00:08:32.918 --> 00:08:36.908\nwhere we've got modules inserted into\nit to provide the functionality.\n\n165\n00:08:36.908 --> 00:08:38.149\nDo you remember, Ronnie?\n\n166\n00:08:38.149 --> 00:08:38.748\nI think we have a 4506, right?\n\n167\n00:08:38.748 --> 00:08:39.733\n>> 4506, yep.\n\n168\n00:08:39.733 --> 00:08:40.770\n>> So that's the one.\n\n169\n00:08:40.770 --> 00:08:43.820\nBut you'll see there's different models,\nlike this one here, the really big one,\n\n170\n00:08:43.820 --> 00:08:47.740\nthe 4512 I believe, where it's got\nmultiple controllers in it and\n\n171\n00:08:47.740 --> 00:08:51.140\nhigh redundancy, but you can have\nhundreds and hundreds of ports.\n\n172\n00:08:51.140 --> 00:08:55.950\nI believe was have 220 ports in ours and\nthat's just for our studio right here.\n\n173\n00:08:55.950 --> 00:09:00.970\nBut if you had an enterprise,\na university campus,\n\n174\n00:09:00.970 --> 00:09:04.260\nyou might need many of these\nswitches to provide enough ports for\n\n175\n00:09:04.260 --> 00:09:07.000\nall of the work stations, all the network\njacks throughout your buildings,\n\n176\n00:09:07.000 --> 00:09:09.990\nyour infrastructure,\nthat really can be quite large.\n\n177\n00:09:09.990 --> 00:09:13.190\nSo when we deploy these switches,\nthey are high end switches.\n\n178\n00:09:13.190 --> 00:09:18.130\nBut we may just be focused on sheer port\ndensity, getting as many ports as we can\n\n179\n00:09:18.130 --> 00:09:20.530\nwith as fast of communication as possible,\nall right.\n\n180\n00:09:20.530 --> 00:09:23.130\nThat's what's happening\nat the access layer.\n\n181\n00:09:23.130 --> 00:09:24.590\nBut when we get to the core,\n\n182\n00:09:24.590 --> 00:09:27.270\nthe core is where things get\na little bit different, right.\n\n183\n00:09:27.270 --> 00:09:30.220\nAnd you'll see that 4500 creeps up again.\n\n184\n00:09:30.220 --> 00:09:33.920\nBut you'll also see things like\nthe 7000 series Nexus switches,\n\n185\n00:09:33.920 --> 00:09:36.170\nwhich run a special operating system.\n\n186\n00:09:36.170 --> 00:09:40.180\nThe Nexus switches are typically used\nby Internet service providers, but\n\n187\n00:09:40.180 --> 00:09:42.740\nyou're seeing a lot of enterprises\nstart to deploy these things.\n\n188\n00:09:42.740 --> 00:09:44.045\nThey're big, right?\n\n189\n00:09:44.045 --> 00:09:45.690\n>> [LAUGH]\n>> This one here\n\n190\n00:09:45.690 --> 00:09:48.490\nis the one that's probably\nthe most well known.\n\n191\n00:09:48.490 --> 00:09:52.290\nIt probably stands about\nthis tall from the ground.\n\n192\n00:09:52.290 --> 00:09:54.660\nIt's about half of a rack,\na normal 42U rack.\n\n193\n00:09:54.660 --> 00:09:56.490\nThis thing is pretty much the whole thing.\n\n194\n00:09:56.490 --> 00:09:59.170\nSo they can be really big,\nbut they don't have to be.\n\n195\n00:09:59.170 --> 00:10:02.460\nThey can be smaller like some of\nthese other models, which are still\n\n196\n00:10:02.460 --> 00:10:06.630\npretty large switches, but really\ndesigned for Internet service providers.\n\n197\n00:10:06.630 --> 00:10:12.795\nYou also have the 4500s and the 6500s,\nthe 6800s, which are all kind of similar.\n\n198\n00:10:12.795 --> 00:10:16.819\nNotice the 6500s look\na lot like the 4500s.\n\n199\n00:10:16.819 --> 00:10:18.160\nThey look very similar.\n\n200\n00:10:18.160 --> 00:10:21.040\nBut they have a bigger back\nplane on the back end.\n\n201\n00:10:21.040 --> 00:10:24.000\nSo these will have like 192 gigabit\nback plane or they've got some\n\n202\n00:10:24.000 --> 00:10:26.460\nthat are even larger now to be able\nto handle your ten gig networks.\n\n203\n00:10:26.460 --> 00:10:29.630\nSo you have a huge amount of bandwidth\nbetween these cards to be able to\n\n204\n00:10:29.630 --> 00:10:30.700\nmove that data.\n\n205\n00:10:30.700 --> 00:10:34.330\nThese are great for throwing in your\ndistribution network or even in your core,\n\n206\n00:10:34.330 --> 00:10:36.320\nif you're just trying to move data fast.\n\n207\n00:10:36.320 --> 00:10:38.632\nBut you don't need high\nport density in your core.\n\n208\n00:10:38.632 --> 00:10:42.120\nSo oftentimes, you'll go with\nthe smaller models, like these.\n\n209\n00:10:42.120 --> 00:10:47.352\nThe old, some routers that kinda fall in\nthis model like the 7200, which you'll see\n\n210\n00:10:47.352 --> 00:10:52.400\npeople still use, but basically different\nsolutions for where you're deploying.\n\n211\n00:10:52.400 --> 00:10:55.151\n>> Now, Don, before you move on from\nthere, you mentioned the term backplane,\n\n212\n00:10:55.151 --> 00:10:57.959\nand that might be something that's brand\nnew for our users or for our watchers.\n\n213\n00:10:57.959 --> 00:10:58.730\n>> Okay.\n\n214\n00:10:58.730 --> 00:11:00.040\n>> Let's talk about that more in a moment.\n\n215\n00:11:00.040 --> 00:11:02.800\n>> All right so, every switch has\na backplane and what a backplane is,\n\n216\n00:11:02.800 --> 00:11:03.930\nis really just a circuit board.\n\n217\n00:11:03.930 --> 00:11:06.715\nRight?\nWhen you look at one of these 1U switches\n\n218\n00:11:06.715 --> 00:11:10.133\nlike this one, okay, well,\nwhat we're seeing here,\n\n219\n00:11:10.133 --> 00:11:13.420\nit's not gonna let me get\nrid of that pop-up, is it?\n\n220\n00:11:13.420 --> 00:11:15.250\nLet me refresh that.\n\n221\n00:11:15.250 --> 00:11:16.230\nWhen you look at this switch,\n\n222\n00:11:16.230 --> 00:11:18.730\nyou'll see it's got a bunch of\nports on the front of it, right?\n\n223\n00:11:18.730 --> 00:11:20.970\nWell, in the back of the switch\nthere's a circuit board.\n\n224\n00:11:20.970 --> 00:11:22.790\nAll these ports run to a circuit board.\n\n225\n00:11:22.790 --> 00:11:25.790\nAnd the circuit board only has so\nmuch bandwidth that it can move.\n\n226\n00:11:25.790 --> 00:11:27.420\nAnd so on some of these switches,\n\n227\n00:11:27.420 --> 00:11:30.438\nyou have what are called blocking and\nnon-blocking switches.\n\n228\n00:11:30.438 --> 00:11:34.950\nA non-blocking switch is where\nthe backplane is able to handle\n\n229\n00:11:34.950 --> 00:11:38.760\nthe full bandwidth traffic for\nevery single port at the same time.\n\n230\n00:11:38.760 --> 00:11:40.741\nSo if I have 48 gigabit ports,\n\n231\n00:11:40.741 --> 00:11:45.160\nthe backplane will be at\nleast 48 gigabit in size.\n\n232\n00:11:45.160 --> 00:11:46.580\nNow, why do I say at least?\n\n233\n00:11:46.580 --> 00:11:48.330\nWell, you've got your uplinks also, and\n\n234\n00:11:48.330 --> 00:11:50.310\nthe traffic you receive\nfrom other switches.\n\n235\n00:11:50.310 --> 00:11:54.850\nSo, if I want a true\nnon-blocking 48 gigabit switch,\n\n236\n00:11:54.850 --> 00:11:59.830\nif it's got 48 ports, the backplane\nwill normally be closer to 64, or\n\n237\n00:11:59.830 --> 00:12:03.640\neven 72 gigabit, to be able to handle\nall the traffic of those ports and\n\n238\n00:12:03.640 --> 00:12:06.310\nthe uplinks, so\nyou'll seem them higher like that.\n\n239\n00:12:06.310 --> 00:12:08.240\nWhere it gets really tricky\nare the giant switches though.\n\n240\n00:12:08.240 --> 00:12:10.210\nWhen you've got big switches like these-\n>> [LAUGH]\n\n241\n00:12:10.210 --> 00:12:13.360\n>> Where they may have 16 cards in them,\n\n242\n00:12:13.360 --> 00:12:16.330\nand they're all 48 gig,\nor you got ten gig cards,\n\n243\n00:12:16.330 --> 00:12:19.780\nyou see these four of these\n40 gig cards in here.\n\n244\n00:12:19.780 --> 00:12:23.471\nSo you have huge amounts of bandwidth,\nso they need hundreds of gigabits of\n\n245\n00:12:23.471 --> 00:12:27.130\nbandwidth on the backplane,\non the circuit board on the back end.\n\n246\n00:12:27.130 --> 00:12:30.880\nAnd if we exceed the bandwidth in\nthat board, now we get contention.\n\n247\n00:12:30.880 --> 00:12:32.820\nNow you become a blocking switch.\n\n248\n00:12:32.820 --> 00:12:35.430\nA blocking switch will tell ports,\nhey, you gotta stop for\n\n249\n00:12:35.430 --> 00:12:38.070\na second while other people talk,\nand now it's your turn.\n\n250\n00:12:38.070 --> 00:12:40.802\nWe gotta block traffic cuz there's\nnot enough bandwidth to handle them.\n\n251\n00:12:40.802 --> 00:12:42.379\nThat's gonna influence your decision too.\n\n252\n00:12:42.379 --> 00:12:46.820\nWhen you buy these switches, you've\ngotta research what that backplane is.\n\n253\n00:12:46.820 --> 00:12:51.880\nOn those access switches, one thing that\npeople will commonly run into, let me\n\n254\n00:12:51.880 --> 00:12:57.108\nget back here, on the access switches\nis that 3560s are pretty inexpensive.\n\n255\n00:12:57.108 --> 00:13:01.063\nYou can get them for,\nlet's just say, around $2,000.\n\n256\n00:13:01.063 --> 00:13:03.808\nI know, if you're buying home switches,\nlike, that's outrageous,\n\n257\n00:13:03.808 --> 00:13:05.800\nI can get a home switch for 50 bucks!\n\n258\n00:13:05.800 --> 00:13:08.515\nWell, the switch you buy for\nyour home is, well, it's garbage.\n\n259\n00:13:08.515 --> 00:13:09.081\n>> [LAUGH]\n>> Yeah,\n\n260\n00:13:09.081 --> 00:13:12.811\nit'll have a very small backplane, it\ndoesn't have any management capabilities,\n\n261\n00:13:12.811 --> 00:13:15.460\nit's really not\nan enterprise class switch.\n\n262\n00:13:15.460 --> 00:13:20.150\nSo, for an enterprise class switch, $2,000\nis actually a pretty reasonable price, and\n\n263\n00:13:20.150 --> 00:13:25.060\n3560s are there, 3750s,\nthey'll be closer to $4,000 and\n\n264\n00:13:25.060 --> 00:13:28.160\nyou'll say that's twice as much,\nI'll get two of these guys down here and\n\n265\n00:13:28.160 --> 00:13:30.740\nI don't care if they break,\nI got a second one.\n\n266\n00:13:30.740 --> 00:13:34.230\nYou can do that but\nthe 3750s are non-blocking.\n\n267\n00:13:34.230 --> 00:13:36.430\nEvery port has the bandwidth it needs.\n\n268\n00:13:36.430 --> 00:13:38.480\nThe 3560s have contention.\n\n269\n00:13:38.480 --> 00:13:40.210\nThey're oversubscribed.\n\n270\n00:13:40.210 --> 00:13:42.990\nThat means ports are sharing bandwidth.\n\n271\n00:13:42.990 --> 00:13:45.810\nWhen you look at the front of a Cisco\nswitch, if it's a blocking switch,\n\n272\n00:13:45.810 --> 00:13:49.870\nthere will actually be little yellow lines\nthat draw boxes around some of the ports.\n\n273\n00:13:49.870 --> 00:13:53.080\nAnd it'll show where they're divided\nup into eight port groups, or\n\n274\n00:13:53.080 --> 00:13:54.450\nsometimes six port groups.\n\n275\n00:13:54.450 --> 00:13:57.500\nAnd so we'll say these six ports\nare sharing bandwidth, these eight\n\n276\n00:13:57.500 --> 00:14:01.965\nports are sharing bandwidth, versus a 3750\nwhere there's just one big yellow block.\n\n277\n00:14:01.965 --> 00:14:03.554\n>> [LAUGH]\n>> They've all got the bandwidth\n\n278\n00:14:03.554 --> 00:14:04.857\nthey need and that's it.\n\n279\n00:14:04.857 --> 00:14:08.041\nSo it's important to read the technical\nand engineering specifications of\n\n280\n00:14:08.041 --> 00:14:11.000\na switch before you buy it so\nyou know what you're getting into.\n\n281\n00:14:11.000 --> 00:14:14.250\nThere's a reason expensive\nswitches are expensive, and\n\n282\n00:14:14.250 --> 00:14:16.390\nthere's a reason why\ncheap switches are cheap.\n\n283\n00:14:16.390 --> 00:14:19.950\nAnd it typically comes down to throughput,\nhow much data they can move\n\n284\n00:14:19.950 --> 00:14:22.110\nsimultaneously, and\nthat's really important.\n\n285\n00:14:23.110 --> 00:14:25.880\nEspecially important when we're\ndoing our network design.\n\n286\n00:14:25.880 --> 00:14:28.340\nSo when you're picking your switches for\nCore, Distribution,\n\n287\n00:14:28.340 --> 00:14:31.610\nAccess you need to make sure you're\ngetting the right switch for the job.\n\n288\n00:14:31.610 --> 00:14:35.100\nI don't mind having blocking switches\ndown at the access layer cuz I know that\n\n289\n00:14:35.100 --> 00:14:38.050\nall my workstations are not gonna\nbe talking at the same time.\n\n290\n00:14:38.050 --> 00:14:41.990\nBut if it's in my server room,\nI don't want to use cheap switches there.\n\n291\n00:14:41.990 --> 00:14:44.650\nI want my servers to be able to\nuse their full bandwidth and\n\n292\n00:14:44.650 --> 00:14:48.280\nthat's not gonna happen if I use cheap\naccess switches to do it, right?\n\n293\n00:14:48.280 --> 00:14:51.790\nSo what we end up with in a server\nroom is a little bit different.\n\n294\n00:14:51.790 --> 00:14:54.330\nIn the server room,\nyou have what's called a collapsed core.\n\n295\n00:14:54.330 --> 00:14:58.620\nAnd a collapsed core is where your\nrouting, switching, firewall,\n\n296\n00:14:58.620 --> 00:15:01.570\nall that type of activity\ngets dropped into one layer.\n\n297\n00:15:01.570 --> 00:15:05.680\nAnd your access layer is still there but\nthey're higher end switches.\n\n298\n00:15:05.680 --> 00:15:08.825\nSo that you can move data\nin a non-blocking manner.\n\n299\n00:15:08.825 --> 00:15:11.570\nAt home, you have a completely\ncollapsed model, right?\n\n300\n00:15:11.570 --> 00:15:14.190\nIf you were to, well,\nmy house is a bad example.\n\n301\n00:15:14.190 --> 00:15:16.050\nIf you go to most people's houses,\nwhat do they have?\n\n302\n00:15:16.050 --> 00:15:19.500\nThey have that little Linksys router\nthat is a wireless access point.\n\n303\n00:15:19.500 --> 00:15:22.270\nIt's a switch, it's a router,\nand it plugs into the WAN.\n\n304\n00:15:22.270 --> 00:15:25.680\nIt's providing all three tiers' job.\n\n305\n00:15:25.680 --> 00:15:29.940\nIt's doing all three of these\ncollapsed into one layer.\n\n306\n00:15:29.940 --> 00:15:32.320\nBut there's still core functionality,\nright?\n\n307\n00:15:32.320 --> 00:15:34.270\nYour cable or DSL plugs into it.\n\n308\n00:15:34.270 --> 00:15:35.680\nThere's still distribution.\n\n309\n00:15:35.680 --> 00:15:37.780\nIt's a router,\nit's making routing decisions.\n\n310\n00:15:37.780 --> 00:15:39.250\nAnd it's still access.\n\n311\n00:15:39.250 --> 00:15:41.580\nIt's got a wireless access point and\nit's got network ports for\n\n312\n00:15:41.580 --> 00:15:43.180\nyou to plug your workstations into.\n\n313\n00:15:43.180 --> 00:15:44.636\nIt's doing the job of all three roles.\n\n314\n00:15:44.636 --> 00:15:47.651\nSo you can collapse these,\nthe roles still exist.\n\n315\n00:15:47.651 --> 00:15:50.055\nIn an enterprise environment though,\nyou're gonna split them out.\n\n316\n00:15:50.055 --> 00:15:53.459\nAnd even in a home environment like mine,\nI split some of them out.\n\n317\n00:15:53.459 --> 00:15:57.771\nI have a firewall which actually\ndoes my core end distribution.\n\n318\n00:15:57.771 --> 00:15:59.383\nMy cable modem plugs into it.\n\n319\n00:15:59.383 --> 00:16:00.855\nAnd it is my router.\n\n320\n00:16:00.855 --> 00:16:03.212\nAnd then I have a couple of\nswitches throughout my house,\n\n321\n00:16:03.212 --> 00:16:04.490\nthat's my access layer.\n\n322\n00:16:04.490 --> 00:16:06.880\nAnd those switches,\nthey were 50 bucks a piece.\n\n323\n00:16:06.880 --> 00:16:08.440\nI didn't spend a lot of money on those.\n\n324\n00:16:08.440 --> 00:16:11.710\nMy firewall router, I did spend\na lot of money on that one, and so\n\n325\n00:16:11.710 --> 00:16:14.250\nthat's giving me that reliable\ncommunication that I need.\n\n326\n00:16:14.250 --> 00:16:19.350\nYou have to build the right solution for\nyour environment and that's what Cisco's\n\n327\n00:16:19.350 --> 00:16:22.919\nthree tier networking model is all about,\nso expect to see this on the exam.\n\n328\n00:16:24.220 --> 00:16:28.220\nAll right now once we have an idea of the\ntype of equipment that we're gonna get.\n\n329\n00:16:28.220 --> 00:16:31.510\nThen we need to figure out\nhow we're gonna arrange it.\n\n330\n00:16:31.510 --> 00:16:33.820\nAnd this is where we get\ninto our network topologies.\n\n331\n00:16:33.820 --> 00:16:39.070\nAnd the most common topology is\nthis guy right here, a star.\n\n332\n00:16:39.070 --> 00:16:41.920\nEthernet networks\nare multiple access networks.\n\n333\n00:16:41.920 --> 00:16:44.970\nThat means that I can have more than\none device plugged into the same link.\n\n334\n00:16:44.970 --> 00:16:48.300\nAnd so here I've got one switch and\nfour different devices plugged in.\n\n335\n00:16:48.300 --> 00:16:51.120\nThey're all able to talk to each other and\ncommunicate and\n\n336\n00:16:51.120 --> 00:16:53.360\neverything works just fine.\n\n337\n00:16:53.360 --> 00:16:58.820\nNow there use to be ring networks where\nonly one person could talk at a time and\n\n338\n00:16:58.820 --> 00:17:01.400\nthey had to all be interconnected.\n\n339\n00:17:01.400 --> 00:17:02.530\nWe've moved away from that.\n\n340\n00:17:02.530 --> 00:17:05.020\nThere are good things about that network\ndesign and there were bad things.\n\n341\n00:17:05.020 --> 00:17:08.310\nThe bad thing was mostly the way\nthat the cabling had to be designed.\n\n342\n00:17:08.310 --> 00:17:10.590\nWe don't have that problem any more.\n\n343\n00:17:10.590 --> 00:17:13.110\nSo a star network like\nthis is the most common.\n\n344\n00:17:13.110 --> 00:17:18.260\nIf a link in this star network were to\nfail, only that device would be affected.\n\n345\n00:17:18.260 --> 00:17:22.020\nIf this cable came unplugged,\nonly this laptop would stop working.\n\n346\n00:17:22.020 --> 00:17:24.440\nEverybody else would still\nbe functioning fine.\n\n347\n00:17:24.440 --> 00:17:27.410\nThe only negative about a star is\nif this switch fails, what happens?\n\n348\n00:17:27.410 --> 00:17:28.370\nWell the whole network goes down.\n\n349\n00:17:28.370 --> 00:17:30.740\nI've got a single point of failure\nright in the middle of my network.\n\n350\n00:17:30.740 --> 00:17:34.700\nBut it's very flexible, very easy to\nmanager with such a range like this.\n\n351\n00:17:34.700 --> 00:17:37.670\nIn an enterprise though your star\nis going to get a lot more complex.\n\n352\n00:17:37.670 --> 00:17:41.490\nRight, in an enterprise a star\nmight look a little more like this.\n\n353\n00:17:42.770 --> 00:17:46.840\nAnd what we're seeing here still a star,\n\n354\n00:17:46.840 --> 00:17:52.490\nI still have a core but\nover that core I've got other switches.\n\n355\n00:17:52.490 --> 00:17:54.460\nI have got multiple tiers of switches.\n\n356\n00:17:54.460 --> 00:17:55.950\nSo this might be my core switch and\n\n357\n00:17:55.950 --> 00:17:59.480\nthen I got my access switch out here\nwhere my work station, my servers,\n\n358\n00:17:59.480 --> 00:18:04.140\nmy printers all those different\ndevices plug in to access the network.\n\n359\n00:18:04.140 --> 00:18:07.440\nThat's all a part of\nbuilding that network to be\n\n360\n00:18:09.250 --> 00:18:11.130\nable to handle the amount of machines.\n\n361\n00:18:11.130 --> 00:18:13.490\nAnd as the network grows,\nI just plug in more switches.\n\n362\n00:18:13.490 --> 00:18:15.030\nPlug in more switches, more laptops.\n\n363\n00:18:15.030 --> 00:18:17.140\nIt's all gonna keep on growing,\ngrowing, growing.\n\n364\n00:18:17.140 --> 00:18:20.090\nIt might not be a perfectly\narranged star like this one, but\n\n365\n00:18:20.090 --> 00:18:22.220\nit'll typically looks something like this.\n\n366\n00:18:22.220 --> 00:18:26.720\nAnd if one switch fails, only the devices\nplugged in to that switch get affected.\n\n367\n00:18:26.720 --> 00:18:30.020\nAt the core, I better use high\nquality ingredients there, right?\n\n368\n00:18:30.020 --> 00:18:33.310\nSo I need to make sure I get rid of\nthe power supplies, or controllers.\n\n369\n00:18:33.310 --> 00:18:36.320\nCuz if this switch fails now\nthe network becomes segregated.\n\n370\n00:18:36.320 --> 00:18:39.810\nYou've got little pockets of functionality\nand everybody can't see each other.\n\n371\n00:18:39.810 --> 00:18:42.180\nAll right, so that's a typical star and\n\n372\n00:18:42.180 --> 00:18:45.735\nthat's normally what you're gonna see\nout in the real world today are stars.\n\n373\n00:18:45.735 --> 00:18:46.775\nStar networks like these.\n\n374\n00:18:47.805 --> 00:18:48.585\nBut it's not the only type.\n\n375\n00:18:48.585 --> 00:18:51.235\nI mentioned rings,\nyou're not gonna see rings on the exam,\n\n376\n00:18:51.235 --> 00:18:55.805\nI doubt you'll see any out there in real\nlife, in fiber, you see it sometimes.\n\n377\n00:18:55.805 --> 00:18:58.645\nThere's bus networks,\nyou're really not gonna see those either.\n\n378\n00:18:58.645 --> 00:19:02.000\nThe other one that you will see,\nthough, are mesh networks.\n\n379\n00:19:02.000 --> 00:19:05.500\nWith a mesh network, we interconnect\nour devices for redundancy.\n\n380\n00:19:05.500 --> 00:19:07.820\nAnd you see this on routers a lot, okay?\n\n381\n00:19:07.820 --> 00:19:12.020\nIf I'm worried about failure, and\nI want to make sure my network can survive\n\n382\n00:19:12.020 --> 00:19:14.740\nfailure, a mesh network will give that me,\nall right?\n\n383\n00:19:14.740 --> 00:19:17.480\nSo see how each router\nhas three connections?\n\n384\n00:19:17.480 --> 00:19:19.780\nEach router is connected\nto every other router.\n\n385\n00:19:19.780 --> 00:19:23.460\nSo, for example, if I have traffic on\nthe bottom left router and it's going to\n\n386\n00:19:23.460 --> 00:19:29.040\nthe top left router and this link right\nhere were to fail, is my network down?\n\n387\n00:19:29.040 --> 00:19:32.550\nNo, my bottom left router can\njust go up to the top right and\n\n388\n00:19:32.550 --> 00:19:33.300\nthen over to the top left.\n\n389\n00:19:33.300 --> 00:19:35.020\nIt's got another route that it can follow.\n\n390\n00:19:35.020 --> 00:19:36.530\nI've got redundant paths.\n\n391\n00:19:36.530 --> 00:19:38.590\nI've got a lot of redundant paths, right?\n\n392\n00:19:38.590 --> 00:19:41.160\nThis is a full mesh network.\n\n393\n00:19:41.160 --> 00:19:47.950\nWell, these are great except there's\ntwo real problems, the first problem is\n\n394\n00:19:47.950 --> 00:19:53.710\nport density, if I have four routers\nthen in order to have a full mesh,\n\n395\n00:19:53.710 --> 00:19:58.210\nthere's a really simple formula N minus\none, the number of routers minus one.\n\n396\n00:19:58.210 --> 00:20:00.570\nSo I've got four routers\nfour minus one is three,\n\n397\n00:20:00.570 --> 00:20:03.390\nthat means every router would need\nto have three network adapters.\n\n398\n00:20:03.390 --> 00:20:06.210\nIf I want to build a full mesh.\n\n399\n00:20:06.210 --> 00:20:10.340\nIf I want to add another router,\nso I decide that it's time for\n\n400\n00:20:10.340 --> 00:20:15.440\nme to grow my network and add a fifth\nrouter, well, now I've got five.\n\n401\n00:20:15.440 --> 00:20:17.090\nN minus one is four.\n\n402\n00:20:17.090 --> 00:20:19.940\nNow every router is going\nto need four connections.\n\n403\n00:20:19.940 --> 00:20:24.140\nSo I've got to go and upgrade all of\nmy routers to add a fourth interface.\n\n404\n00:20:24.140 --> 00:20:26.820\nAnd I gotta buy a new router\nthat has four interfaces.\n\n405\n00:20:26.820 --> 00:20:31.580\nAnd from there, now I can go through and\nI can start to link these together.\n\n406\n00:20:31.580 --> 00:20:37.090\nAnd so I can map these routers over and\nget that built up.\n\n407\n00:20:37.090 --> 00:20:39.580\nThat means I've gotta go and\nrun more cables.\n\n408\n00:20:39.580 --> 00:20:43.340\nWell, if this is a local area network,\nI might be fine with that, right?\n\n409\n00:20:43.340 --> 00:20:44.890\nBut if this is a wide area network,\n\n410\n00:20:44.890 --> 00:20:50.020\nif these are T1 lines are metropolitan\nEthernet, fiber optic lines.\n\n411\n00:20:50.020 --> 00:20:54.200\nI gotta go in by four more of these lines.\n\n412\n00:20:54.200 --> 00:20:58.560\nIf I can remember my own n-1 formula and\nwhat have I done here.\n\n413\n00:20:58.560 --> 00:21:01.480\nI've made the wimpiest line possible.\n\n414\n00:21:01.480 --> 00:21:03.730\nAll right, so basically we go through and\n\n415\n00:21:03.730 --> 00:21:07.850\nwe start running that out And\nwe're gonna have to add more and\n\n416\n00:21:07.850 --> 00:21:12.490\nmore links to be able to get this\nsetup just the way that we want it.\n\n417\n00:21:12.490 --> 00:21:15.330\nEvery router's gonna be\nconnected to this new system.\n\n418\n00:21:15.330 --> 00:21:19.400\nAnd that's going to equate\nto a lot of extra hardware.\n\n419\n00:21:19.400 --> 00:21:25.200\nSo that's problem number one that\nreally boils down to sheer cost.\n\n420\n00:21:25.200 --> 00:21:30.040\nEvery line is going to cost me money and\nthen now I have a full mesh network that\n\n421\n00:21:30.040 --> 00:21:33.570\nis moderately satanic.\n\n422\n00:21:33.570 --> 00:21:35.490\nI'm printing up a pentagram.\n\n423\n00:21:35.490 --> 00:21:39.060\nI've got the mesh topology as I\ncontinue adding more routers,\n\n424\n00:21:39.060 --> 00:21:40.950\nit's gonna get more and\nmore expensive to maintain this.\n\n425\n00:21:40.950 --> 00:21:42.570\nAll right, so that's problem number one.\n\n426\n00:21:42.570 --> 00:21:45.040\nProblem number two is just\nthe feasibility of it.\n\n427\n00:21:45.040 --> 00:21:49.060\nWhen you go buy a router,\nif I have ten routers,\n\n428\n00:21:49.060 --> 00:21:52.040\nthen I'm gonna need nine connections.\n\n429\n00:21:52.040 --> 00:21:55.190\nHow many routers do you see\nwith nine interfaces on them?\n\n430\n00:21:55.190 --> 00:21:57.980\nWell, you don't see a lot in the small and\nmedium size, but\n\n431\n00:21:57.980 --> 00:22:00.710\nwhen you get to the enterprise\nsize there's plenty, right?\n\n432\n00:22:00.710 --> 00:22:04.310\nBut, they're expensive, it's a lot\nof money, so we get back to cost.\n\n433\n00:22:04.310 --> 00:22:06.050\nBut, if I have one hundred routers,\n\n434\n00:22:06.050 --> 00:22:09.430\nninety nine ninety nine interfaces on\nevery router, that's even less common.\n\n435\n00:22:09.430 --> 00:22:12.340\nSo now I really start running into\nproblems with just the feasibility\n\n436\n00:22:12.340 --> 00:22:14.080\nof creating this design.\n\n437\n00:22:14.080 --> 00:22:16.270\nSo it's rare that you see full meshes.\n\n438\n00:22:16.270 --> 00:22:19.900\nWhat you normally see is what's\ncalled a hybrid, or a partial mesh.\n\n439\n00:22:19.900 --> 00:22:23.690\nWith a partial mesh,\nwe can achieve redundancy but\n\n440\n00:22:23.690 --> 00:22:25.880\nnot have to have a huge\namount of interfaces.\n\n441\n00:22:25.880 --> 00:22:29.210\nWe ditched the whole n minus one thing and\nwe just say look,\n\n442\n00:22:29.210 --> 00:22:32.870\nI'm gonna make sure that I have at\nleast two paths through my network.\n\n443\n00:22:32.870 --> 00:22:34.170\nOr maybe three or four paths.\n\n444\n00:22:34.170 --> 00:22:37.630\nIn this environment, if I'm on the router\nall the way over here to the left.\n\n445\n00:22:37.630 --> 00:22:40.430\nAnd I wanna get all the way over\nhere to the right I've got several\n\n446\n00:22:40.430 --> 00:22:40.930\ndifferent paths.\n\n447\n00:22:40.930 --> 00:22:45.180\nI can go across the top,\nI could go across the bottom,\n\n448\n00:22:45.180 --> 00:22:48.900\nI could start on the bottom and jump\nup to the top and come across that way.\n\n449\n00:22:48.900 --> 00:22:51.410\nYou've got several different\npaths you can follow and\n\n450\n00:22:51.410 --> 00:22:54.220\nnow I get the advantage of a full mesh.\n\n451\n00:22:54.220 --> 00:22:56.600\nBut most of my routers\nonly have two interfaces.\n\n452\n00:22:56.600 --> 00:22:59.470\nGot two interfaces here,\ntwo here, two here.\n\n453\n00:22:59.470 --> 00:23:00.760\nThis guy's got three interfaces.\n\n454\n00:23:00.760 --> 00:23:01.720\nThis guy has three interfaces.\n\n455\n00:23:01.720 --> 00:23:03.480\nThis one has four, right?\n\n456\n00:23:03.480 --> 00:23:04.670\nMaybe I'm too cheap for that.\n\n457\n00:23:04.670 --> 00:23:06.770\nSo I drop one of these links.\n\n458\n00:23:06.770 --> 00:23:11.250\nOkay, well, I still have three\npaths across the network now.\n\n459\n00:23:11.250 --> 00:23:15.410\nI can go across the top I can start across\nthe top and cut down to the bottom or\n\n460\n00:23:15.410 --> 00:23:16.690\nI can just go across the bottom.\n\n461\n00:23:16.690 --> 00:23:21.550\nRight, three different ways and\nI've done it without having the cost and\n\n462\n00:23:21.550 --> 00:23:22.900\nburden of a full mesh.\n\n463\n00:23:22.900 --> 00:23:26.910\nMy biggest routers, I've got two routers\nthat would need three interfaces each.\n\n464\n00:23:26.910 --> 00:23:28.960\nAll the other routers\nonly need two interfaces.\n\n465\n00:23:28.960 --> 00:23:31.420\nThis brings the cost down and\nkeeps the benefit up.\n\n466\n00:23:31.420 --> 00:23:35.980\nAll right so this is a partial mesh or\non the exam it will be called a hybrid.\n\n467\n00:23:35.980 --> 00:23:37.740\nWhere I'm mixing together.\n\n468\n00:23:37.740 --> 00:23:42.020\nYou're kind of mixing a mesh network\nwith a star network to create this.\n\n469\n00:23:42.020 --> 00:23:43.950\nAnd in this example, I used routers,\n\n470\n00:23:43.950 --> 00:23:46.650\nin the first example I used\nworkstations and printers.\n\n471\n00:23:46.650 --> 00:23:47.400\nIt's the same.\n\n472\n00:23:47.400 --> 00:23:49.640\nYou can have a star network\nwith your routers too.\n\n473\n00:23:49.640 --> 00:23:53.273\nThat's getting to be less and less common,\nwith cloud technologies these days, but\n\n474\n00:23:53.273 --> 00:23:54.236\nit is still possible.\n\n475\n00:23:54.236 --> 00:23:57.256\nAnd you can have a full mesh\nwith your laptops if you want.\n\n476\n00:23:57.256 --> 00:23:58.643\nAgain, very uncommon,\n\n477\n00:23:58.643 --> 00:24:02.219\nbecause how many network interfaces\ndo you have on your laptop?\n\n478\n00:24:02.219 --> 00:24:03.182\nUsually not many.\n\n479\n00:24:03.182 --> 00:24:07.140\nSo, it's not common, but\nit is certainly possible, right?\n\n480\n00:24:07.140 --> 00:24:09.710\nSo, those are some of the different\nnetwork topologies that we need to be\n\n481\n00:24:09.710 --> 00:24:14.920\nfamiliar with as we get out there into\nthe real world, or just on the exam.\n\n482\n00:24:14.920 --> 00:24:20.580\nAll right, now one last thing that I want\nto mention here that may seem unrelated,\n\n483\n00:24:20.580 --> 00:24:24.060\nbut it is important Is talking\nabout the cabling, all right.\n\n484\n00:24:24.060 --> 00:24:28.990\nWhen we start plugging our devices in, our\nservers, our laptops, our workstations,\n\n485\n00:24:28.990 --> 00:24:32.580\nour printers, they're designed\nto plug into our switches.\n\n486\n00:24:32.580 --> 00:24:35.860\nSo when you have access switches, or core\nswitches or whatever you plug a device in,\n\n487\n00:24:35.860 --> 00:24:36.750\nit's going to work.\n\n488\n00:24:36.750 --> 00:24:38.840\nThat's normal network connectivity.\n\n489\n00:24:38.840 --> 00:24:40.940\nMaybe it's fiber, maybe it's copper.\n\n490\n00:24:40.940 --> 00:24:41.630\nDoesn't matter right?\n\n491\n00:24:41.630 --> 00:24:43.010\nYou just plug in and off you go.\n\n492\n00:24:44.070 --> 00:24:48.170\nBut when I plug a switch\nto another switch,\n\n493\n00:24:48.170 --> 00:24:50.130\nthat's a different story, all right?\n\n494\n00:24:50.130 --> 00:24:51.960\nThat's a different type of connection.\n\n495\n00:24:51.960 --> 00:24:57.270\nWith networks we expect a node or\na router, firewall,\n\n496\n00:24:57.270 --> 00:25:02.220\nlaptop, desktop, printer, we expect nodes\nlike those to be plugged into switches.\n\n497\n00:25:02.220 --> 00:25:06.350\nWhat we don't expect, is we don't expect\na laptop to be plugged into a laptop, or\n\n498\n00:25:06.350 --> 00:25:09.920\na printer to be plugged into a laptop,\nright, direct connections like that.\n\n499\n00:25:09.920 --> 00:25:13.450\nAnd we don't expect switches\nto be plugged into switches.\n\n500\n00:25:13.450 --> 00:25:17.640\nWhen you do that, if you're using\nfiber it handles it just fine.\n\n501\n00:25:17.640 --> 00:25:19.790\nRight.\nFibers ring anyway it deals with itself\n\n502\n00:25:19.790 --> 00:25:20.850\nand it's no big deal.\n\n503\n00:25:20.850 --> 00:25:22.310\nBut if it's copper cabling,\n\n504\n00:25:22.310 --> 00:25:25.970\nwhen you plug that in,\nit's expecting something different.\n\n505\n00:25:25.970 --> 00:25:29.640\nWhen you look at a normal network cable,\nthere's eight wires inside of it.\n\n506\n00:25:29.640 --> 00:25:32.090\nIf it's a Cat-5 or Cat-6 network cable,\n\n507\n00:25:32.090 --> 00:25:34.170\nit would have eight copper\nwires inside of it.\n\n508\n00:25:34.170 --> 00:25:37.750\nAnd two of those wires are responsible for\ntransmitting traffic and\n\n509\n00:25:37.750 --> 00:25:40.200\ntwo are responsible for receiving traffic.\n\n510\n00:25:40.200 --> 00:25:43.750\nNow, those are flipped on\nthe opposite ends of the cable.\n\n511\n00:25:43.750 --> 00:25:48.080\nOne end of the cable on the laptop\nside might be transmitting and\n\n512\n00:25:48.080 --> 00:25:50.410\non the switch side it's\nreceiving that data, right?\n\n513\n00:25:50.410 --> 00:25:51.900\nSo that's the flip.\n\n514\n00:25:51.900 --> 00:25:57.700\nWell if I plug a switch into a switch,\nthe switch is actually expect the transmit\n\n515\n00:25:57.700 --> 00:26:01.250\nto be on the same transmit line and the\nreceive to be on the same receive line.\n\n516\n00:26:01.250 --> 00:26:05.682\nIt doesn't expect them to flip like it\ndoes between a laptop and a switch.\n\n517\n00:26:05.682 --> 00:26:09.860\nAnd so in that scenario,\nwe're gonna run into two choices.\n\n518\n00:26:09.860 --> 00:26:13.210\nChoice number one is to\nuse a crossover cable.\n\n519\n00:26:13.210 --> 00:26:14.860\nA crossover cable is where the receive and\n\n520\n00:26:14.860 --> 00:26:18.020\nthe transmit are flipped on the other end,\nso they map up the same.\n\n521\n00:26:18.020 --> 00:26:23.510\nA crossover cable is what we'd\nnormally use between switches, but\n\n522\n00:26:23.510 --> 00:26:29.080\nalmost every Cisco switch sold today\nhas a feature on it called MDIX.\n\n523\n00:26:30.590 --> 00:26:35.070\nMDIX is a little auto detect technique\nwhere it can look at the cable and\n\n524\n00:26:35.070 --> 00:26:38.000\nit can say, this really should\nbe a crossover cable and\n\n525\n00:26:38.000 --> 00:26:41.130\nso I'm gonna manually flip\nthe transmit and receive,\n\n526\n00:26:41.130 --> 00:26:43.760\ninstead of having it be done by the cable\nwe're going to do it in the switch.\n\n527\n00:26:43.760 --> 00:26:44.520\nI shouldn't say manually.\n\n528\n00:26:44.520 --> 00:26:45.900\nIt's automatic.\nIt'll automatically flip that so,\n\n529\n00:26:45.900 --> 00:26:46.810\nwe don't have to worry about it.\n\n530\n00:26:46.810 --> 00:26:50.130\nSo I can use standard cabling\nbetween the switches and\n\n531\n00:26:50.130 --> 00:26:51.920\nnot having to worry about crossovers.\n\n532\n00:26:51.920 --> 00:26:53.690\nBut not every switch has that.\n\n533\n00:26:53.690 --> 00:26:58.310\nSo if you've got a mixture of Cisco\nswitches and third party switches,\n\n534\n00:26:58.310 --> 00:27:02.930\nthe third party switches, maybe they're\nHP or Juniper, god forbid Netgear,\n\n535\n00:27:02.930 --> 00:27:05.990\nsomething like that, right,\nthey may or may not support MDIX.\n\n536\n00:27:05.990 --> 00:27:07.510\nYou gotta check.\n\n537\n00:27:07.510 --> 00:27:08.510\nIf they do great.\n\n538\n00:27:08.510 --> 00:27:10.150\nUse whatever capability that you want.\n\n539\n00:27:10.150 --> 00:27:12.960\nBut if they don't,\nyou're going to need crossover cables.\n\n540\n00:27:12.960 --> 00:27:16.330\nSo just double check that before\nrunning cables between your switches,\n\n541\n00:27:16.330 --> 00:27:17.790\notherwise the links won't come up.\n\n542\n00:27:18.810 --> 00:27:20.440\nSo that's an important thing to remember.\n\n543\n00:27:20.440 --> 00:27:22.670\nAnd I had to look it up myself,\nRonnie, before the show.\n\n544\n00:27:22.670 --> 00:27:27.320\nCuz MDIX, I've seen it many, many times\nover the last 20 years and it's very,\n\n545\n00:27:27.320 --> 00:27:28.340\nvery common.\n\n546\n00:27:28.340 --> 00:27:31.100\nAnd I never actually looked\nup what it stood for.\n\n547\n00:27:31.100 --> 00:27:36.270\nAnd MDIX stands for is,\nmedium dependent interface.\n\n548\n00:27:36.270 --> 00:27:39.580\nRight, so our interfaces do depend\non a particular type of medium,\n\n549\n00:27:39.580 --> 00:27:41.140\na particular type of cable.\n\n550\n00:27:41.140 --> 00:27:44.420\nMedium dependent interface -X.\n\n551\n00:27:44.420 --> 00:27:44.960\n>> Crossover.\n\n552\n00:27:44.960 --> 00:27:45.500\n>> Crossover.\n\n553\n00:27:45.500 --> 00:27:46.900\nYeah the X is short for crossover.\n\n554\n00:27:46.900 --> 00:27:47.460\nWhich I didn't know.\n\n555\n00:27:47.460 --> 00:27:49.320\nThat was the part I didn't know about.\n\n556\n00:27:49.320 --> 00:27:52.120\nAnd so, that means that it will\nautomatically see that we should have\n\n557\n00:27:52.120 --> 00:27:54.280\na crossover and\nit will flip to make it do that.\n\n558\n00:27:54.280 --> 00:27:59.180\nAnd I'm pretty certain every Cisco\nswitch that's sold today does it, but\n\n559\n00:27:59.180 --> 00:28:01.595\nwhen you go out in the real world,\nCisco switches last forever.\n\n560\n00:28:01.595 --> 00:28:03.000\n>> [LAUGH]\n>> It's not uncommon to\n\n561\n00:28:03.000 --> 00:28:04.920\nrun into Cisco switches that\nhave been in the field for\n\n562\n00:28:04.920 --> 00:28:07.230\nten years and\nthey are still running great.\n\n563\n00:28:07.230 --> 00:28:09.060\nAnd they may not support MDIX.\n\n564\n00:28:09.060 --> 00:28:09.910\nYou may bump onto that.\n\n565\n00:28:09.910 --> 00:28:14.500\nSo I know our 4,500 in there is\nlittle dated and it doesn't support\n\n566\n00:28:14.500 --> 00:28:17.940\nMDIX on some of its plays some of these\nplay that does some that doesn't so\n\n567\n00:28:17.940 --> 00:28:22.790\nyou gotta check for that too, when you can\nrun into situations where mixed support.\n\n568\n00:28:22.790 --> 00:28:26.210\nAnd in those scenario it's usually is\nyou just run the cross over cable that\n\n569\n00:28:26.210 --> 00:28:29.050\nyou need, you can take any cable and\ncut the end off of it and\n\n570\n00:28:29.050 --> 00:28:31.410\nthen recrimp it down the cross over.\n\n571\n00:28:31.410 --> 00:28:34.160\nThat can be a problem if you\nhave certified cables though.\n\n572\n00:28:34.160 --> 00:28:36.460\nIf you have certified cables,\nyou're going to need somebody to come and\n\n573\n00:28:36.460 --> 00:28:38.520\ntest and re-certify the cable.\n\n574\n00:28:38.520 --> 00:28:41.740\nOr it's usually easier to buy them as\ncrossovers in the first place, right?\n\n575\n00:28:41.740 --> 00:28:43.780\nSo always double check\nthat if you need it.\n\n576\n00:28:43.780 --> 00:28:46.670\nCertified cable, that's not something\nthat most of us have to deal with, but\n\n577\n00:28:46.670 --> 00:28:49.550\nif you're a contractor that's putting\nin cable, it will likely be part of\n\n578\n00:28:49.550 --> 00:28:51.700\nthe contract, that you certify\nthe cable is up to standard.\n\n579\n00:28:53.660 --> 00:28:56.850\nRonnie, I think that's about it for\nnetwork topologies.\n\n580\n00:28:56.850 --> 00:28:59.910\nRemember on the exam that 3-tier model,\nthat's a Cisco thing.\n\n581\n00:28:59.910 --> 00:29:02.480\nOther vendors,\nthey might use the same principles, but\n\n582\n00:29:02.480 --> 00:29:06.520\nthey don't call it out like that,\nso core, distribution, and access.\n\n583\n00:29:06.520 --> 00:29:08.500\nAnd remember that we can\nhave a collapsed core.\n\n584\n00:29:08.500 --> 00:29:11.230\nWhere the core and\nthe distribution are combined together and\n\n585\n00:29:11.230 --> 00:29:13.260\nthat's very common\nespecially in server rooms,\n\n586\n00:29:13.260 --> 00:29:16.060\nwhere you don't necessarily\nneed that separation anymore.\n\n587\n00:29:16.060 --> 00:29:19.500\nWe'll see later on in the series,\nmore so in the CC&A episodes,\n\n588\n00:29:19.500 --> 00:29:22.890\nwhere we'll tackle layer three switching,\nwhere your switch becomes the router.\n\n589\n00:29:22.890 --> 00:29:25.129\nAnd that really blurs\nthe lines between those tiers.\n\n590\n00:29:26.420 --> 00:29:26.950\n>> All right, Don.\n\n591\n00:29:26.950 --> 00:29:28.540\nWell, thank you again for that reminder.\n\n592\n00:29:28.540 --> 00:29:31.360\nAnd if you have just gone through,\nlike we've said,\n\n593\n00:29:31.360 --> 00:29:35.180\npossibly your CompTIA Network+,\nand you're going, this all review.\n\n594\n00:29:35.180 --> 00:29:36.480\nMaybe I should skip this.\n\n595\n00:29:36.480 --> 00:29:37.460\nWe understand.\n\n596\n00:29:37.460 --> 00:29:40.925\nBut a lot of times you may just want\nthat extra review to make sure that you\n\n597\n00:29:40.925 --> 00:29:42.935\nknow that you're heading\ninto the Cisco world.\n\n598\n00:29:42.935 --> 00:29:46.465\nAnd so what we've actually done\nhere is actually realize that what\n\n599\n00:29:46.465 --> 00:29:49.445\nwe have of course, is that three\nnetwork tier design that you have to\n\n600\n00:29:49.445 --> 00:29:52.700\nvery much pay attention to,\nas well as those topologies.\n\n601\n00:29:52.700 --> 00:29:56.410\nAnd then we even threw a little bit of\nthe physical cabling in there to help us\n\n602\n00:29:56.410 --> 00:29:57.450\nout as well.\n\n603\n00:29:57.450 --> 00:29:59.550\nDon, any other things that\nwe have to worry about?\n\n604\n00:29:59.550 --> 00:30:02.270\n>> We actually had a good question\npop up in the chat room there.\n\n605\n00:30:02.270 --> 00:30:03.420\nSo let me just throw this one in.\n\n606\n00:30:03.420 --> 00:30:05.860\nJeff asked about whether or\nnot MDIX impacts performance, right?\n\n607\n00:30:05.860 --> 00:30:09.462\nWould I be better off putting a crossover\ncable in or if I use a straight one and\n\n608\n00:30:09.462 --> 00:30:11.613\nMDIX kicks in, does that hurt performance?\n\n609\n00:30:11.613 --> 00:30:14.320\nAnd the answer is absolutely\nno performance hit.\n\n610\n00:30:14.320 --> 00:30:15.570\nAll it does is it says all right,\n\n611\n00:30:15.570 --> 00:30:18.540\nstuff coming in on this wire\nnormally would be transmit,\n\n612\n00:30:18.540 --> 00:30:21.710\nI'm now gonna treat it as receive,\nand the opposite for the other wire.\n\n613\n00:30:21.710 --> 00:30:25.760\nSo it actually treats it exactly the same,\nso there's no performance hit with MDIX,\n\n614\n00:30:25.760 --> 00:30:28.440\nit's really a hardware thing,\nnot a software thing.\n\n615\n00:30:28.440 --> 00:30:32.820\nSo it doesn't really impact anything and\nthat knocks it out.\n\n616\n00:30:32.820 --> 00:30:35.130\nSo, it's entirely up to you.\n\n617\n00:30:35.130 --> 00:30:38.480\nI think if you were to go into our\nwiring closet here at the studios,\n\n618\n00:30:38.480 --> 00:30:40.755\nI don't think we have a crossover\ncable in there anywhere and\n\n619\n00:30:40.755 --> 00:30:43.045\nthere's several places where\nyou'd normally need one.\n\n620\n00:30:43.045 --> 00:30:45.705\nSo we just run them as regular cable.\n\n621\n00:30:45.705 --> 00:30:48.195\nIt's easy enough.\n\n622\n00:30:48.195 --> 00:30:51.175\n>> All right, well that's a great question\nfor us to have at the end of the show.\n\n623\n00:30:51.175 --> 00:30:52.090\nA really interesting question,\n\n624\n00:30:52.090 --> 00:30:54.585\ncuz I had never thought about that\nbefore in terms of performance.\n\n625\n00:30:54.585 --> 00:30:57.215\nIt's a great place for\nus to also end this episode.\n\n626\n00:30:57.215 --> 00:31:00.705\nSo, signing off for ITProTV,\nI've been your host Ronnie Wong.\n\n627\n00:31:00.705 --> 00:31:01.545\n>> And I'm Don Pezet.\n\n628\n00:31:01.545 --> 00:31:05.062\n>> Stay tuned for more CCENT content.\n\n629\n00:31:05.062 --> 00:31:12.880\n[MUSIC]\n\n",
          "vimeoId": "173658701"
        },
        {
          "description": "In this episode, Ronnie and Don provide a refresher on IPv4 addressing.  They introduce the concepts of an IP address and it’s purpose.  They also show the breakdown of the address into the network and host portions of the address to indicate how devices are recognized as being on the same network or different networks. The guys also do a run down of the glassful addressing scheme, demonstrating how it has changed by using subnet masks too.",
          "length": "2028",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-4-1-understanding_ipv4-070616-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-4-1-understanding_ipv4-070616-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-4-1-understanding_ipv4-070616-1-sm.jpg",
          "title": "Understanding IPv4",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.209 --> 00:00:17.030\nWelcome to another great episode here\non ITProTV I'm your host, Ronnie Wong.\n\n3\n00:00:17.030 --> 00:00:20.272\nAnd today we're taking\na look at Cisco CCENT.\n\n4\n00:00:20.272 --> 00:00:23.380\nNow we're specifically getting into\nthe realm of understanding IPv4,\n\n5\n00:00:23.380 --> 00:00:27.110\nand in our studios today we have Mr.\nDon Pezet to help us.\n\n6\n00:00:27.110 --> 00:00:28.090\nWelcome back to our studios, Don.\n\n7\n00:00:28.090 --> 00:00:28.790\n>> Hey, Ronnie.\n\n8\n00:00:28.790 --> 00:00:30.070\nThanks for having me back on the show.\n\n9\n00:00:30.070 --> 00:00:31.570\nAnd, yeah,\nI'm pretty excited to jump in and\n\n10\n00:00:31.570 --> 00:00:35.580\ntackle what's really the most\nprolific routing protocol, or\n\n11\n00:00:35.580 --> 00:00:40.090\njust networking protocol in general,\nfound on the globe today and that's IPv4.\n\n12\n00:00:40.090 --> 00:00:44.350\nNow, I know in an earlier show I mentioned\nIPv4 is being replaced by IPv6 so\n\n13\n00:00:44.350 --> 00:00:46.450\nyou might be wondering why are we\nstill learning about it, well,\n\n14\n00:00:46.450 --> 00:00:50.000\nthat's because it's still\nused almost everywhere.\n\n15\n00:00:50.000 --> 00:00:53.690\nIPv4 is the most commonly used\nnetworking protocol on the planet.\n\n16\n00:00:54.780 --> 00:00:57.590\nIPv6 is coming, but\nit hasn't quite replaced it yet.\n\n17\n00:00:57.590 --> 00:00:59.930\nNow we are going to learn about\nIPv6 in another episode but\n\n18\n00:00:59.930 --> 00:01:01.350\nlet's focus on IPv4 for\n\n19\n00:01:01.350 --> 00:01:05.650\nright now, because even on the exam it's\nthe one that you're gonna see the most.\n\n20\n00:01:05.650 --> 00:01:09.379\nAll right, now IPv4, it stands for\nInternet Protocol version 4, and\n\n21\n00:01:09.379 --> 00:01:13.310\ndon't worry, theres no version 1, 2,\nor 3 that we need to worry about.\n\n22\n00:01:13.310 --> 00:01:17.380\nThose were kind of like,\nnot evaluation, but research and\n\n23\n00:01:17.380 --> 00:01:19.950\ndevelopment type releases\nthat never quite made it out.\n\n24\n00:01:19.950 --> 00:01:24.400\nSo IPV4 is the only one that we\nreally see of those early versions.\n\n25\n00:01:24.400 --> 00:01:28.860\nAnd what it was designed to do was to\nmake it where you could have a really\n\n26\n00:01:28.860 --> 00:01:29.760\nlarge network.\n\n27\n00:01:29.760 --> 00:01:32.070\nA network like the internet.\n\n28\n00:01:32.070 --> 00:01:34.980\nAnd have a unique address for\nevery machine that was out there.\n\n29\n00:01:34.980 --> 00:01:37.910\nBecause if you've got a million\ncomputers on the network,\n\n30\n00:01:37.910 --> 00:01:40.220\nthey've all gotta be able\nto tell each other apart.\n\n31\n00:01:40.220 --> 00:01:42.060\nAnd so we need some way to do that, and\n\n32\n00:01:42.060 --> 00:01:45.460\nI know what you might be thinking is\nwe talked about MAC addresses, right?\n\n33\n00:01:45.460 --> 00:01:47.800\nMedia Access Control addresses, and\n\n34\n00:01:47.800 --> 00:01:52.460\nhow every network adaptor that you buy\nhas a MAC address burned into it, right?\n\n35\n00:01:52.460 --> 00:01:59.450\nSo If everybody already has a unique Mac\naddress, why do I need an IP address also?\n\n36\n00:01:59.450 --> 00:02:01.230\nWhy do I need a second address?\n\n37\n00:02:01.230 --> 00:02:05.180\nAnd the reasoning is,\nwhen Mac addresses were created,\n\n38\n00:02:05.180 --> 00:02:09.600\nthey didn't include a way to\ndifferentiate one network from another.\n\n39\n00:02:09.600 --> 00:02:13.340\nMac addresses were designed to\nbe used within one network.\n\n40\n00:02:13.340 --> 00:02:15.860\nWell, the internet is not one network.\n\n41\n00:02:15.860 --> 00:02:19.500\nThe internet is actually thousands\nof networks all strung together and\n\n42\n00:02:19.500 --> 00:02:23.330\nhooked up so that the machines can\nsee each other and communicate.\n\n43\n00:02:23.330 --> 00:02:26.200\nIt's a big, big world out there.\n\n44\n00:02:26.200 --> 00:02:29.110\nAnd so when you fire up your computer,\nand go to browse the network,\n\n45\n00:02:29.110 --> 00:02:31.780\nyou don't wanna see every\ncomputer across the entire globe.\n\n46\n00:02:31.780 --> 00:02:34.180\nYou just wanna see people right\nthere in the building with you.\n\n47\n00:02:34.180 --> 00:02:36.340\nThat's what MAC address is really good at.\n\n48\n00:02:36.340 --> 00:02:42.310\nBut IP addresses, they include a way\nto differentiate not just the host,\n\n49\n00:02:42.310 --> 00:02:44.010\nbut the network that you're on.\n\n50\n00:02:44.010 --> 00:02:47.810\nSo now you can recognize separate networks\nand know when you need to go through\n\n51\n00:02:47.810 --> 00:02:50.880\na router to get somewhere,\nversus just being able to go directly and\n\n52\n00:02:50.880 --> 00:02:53.130\ntalk to somebody right there\non the network with you.\n\n53\n00:02:53.130 --> 00:02:56.640\nSo that really works out well,\nit's what it was designed to do.\n\n54\n00:02:56.640 --> 00:03:00.290\nThe problem with IPv4, the reason it's\nbeing replaced is not its function.\n\n55\n00:03:00.290 --> 00:03:01.040\nIt functions great.\n\n56\n00:03:01.040 --> 00:03:02.650\nIt really does a good job.\n\n57\n00:03:02.650 --> 00:03:04.100\nBut it is dated, right?\n\n58\n00:03:04.100 --> 00:03:07.560\nI mean this was created in the late 70s,\nearly 80s.\n\n59\n00:03:07.560 --> 00:03:09.730\nReally gained popularity\nthroughout the 1990s.\n\n60\n00:03:09.730 --> 00:03:12.940\nSo you're talking about a 30 or\n40 year old protocol.\n\n61\n00:03:12.940 --> 00:03:17.530\nAnd it's not really kept with some\nof the features that we need today.\n\n62\n00:03:17.530 --> 00:03:18.900\nIt's just missing a few things.\n\n63\n00:03:18.900 --> 00:03:22.830\nBut the biggest limitation, because all\nof the other stuff can be worked around,\n\n64\n00:03:22.830 --> 00:03:25.550\nis simply the address base, right.\n\n65\n00:03:25.550 --> 00:03:32.510\nThe address base for\nIPv4 is about 4.3 Billion IP addresses and\n\n66\n00:03:32.510 --> 00:03:37.160\nwhen they were creating this,\nthink back to the 1970s 1980s.\n\n67\n00:03:37.160 --> 00:03:40.000\nIf you were creating a network, and\n\n68\n00:03:40.000 --> 00:03:42.290\nyou had to pick an address size\nthey just looked at the planet,\n\n69\n00:03:42.290 --> 00:03:46.950\nand they said look the earth's\npopulation is around 4 billion.\n\n70\n00:03:46.950 --> 00:03:50.740\nIf we have 4 billion addresses everyone\non the planet could have one address,\n\n71\n00:03:50.740 --> 00:03:51.810\nthat's perfect.\n\n72\n00:03:51.810 --> 00:03:54.050\nAnd the reality is, back then,\n\n73\n00:03:54.050 --> 00:03:56.870\nthe reality is not everyone is\ngonna have a computer, right?\n\n74\n00:03:56.870 --> 00:04:00.720\nBecause back then computers were giant and\nthey're really expensive.\n\n75\n00:04:00.720 --> 00:04:04.825\nMaybe every company will have one computer\nand people use dummy terminals Right.\n\n76\n00:04:04.825 --> 00:04:08.945\nBut not every body will have an I.P.\nThey won't have a computer.\n\n77\n00:04:08.945 --> 00:04:10.015\nBut things changed didn't they.\n\n78\n00:04:10.015 --> 00:04:11.635\nThen we looked at today, right.\n\n79\n00:04:11.635 --> 00:04:16.145\nAnd I mean you can just on my person I\nhave multiple devices that need I.P.\n\n80\n00:04:16.145 --> 00:04:16.685\naddresses.\n\n81\n00:04:16.685 --> 00:04:20.225\nYou might have laptop, desk top, tablet.\n\n82\n00:04:20.225 --> 00:04:20.815\n>> Phones.\n\n83\n00:04:20.815 --> 00:04:22.255\n>> Phones absolutely phones.\n\n84\n00:04:22.255 --> 00:04:23.635\nMaybe even a smart watch.\n\n85\n00:04:23.635 --> 00:04:29.350\nYou've got your router your switches\nyour firewalls your access points.\n\n86\n00:04:29.350 --> 00:04:30.210\nGo consumer.\n\n87\n00:04:30.210 --> 00:04:34.050\nYour televisions,\nyour Blu-ray players, your Xbox or\n\n88\n00:04:34.050 --> 00:04:38.550\nPlayStation, Roku, Amazon Fire,\nwhatever comes out next.\n\n89\n00:04:38.550 --> 00:04:44.420\nThis plethora of devices and that's not\neven including the internet of things.\n\n90\n00:04:44.420 --> 00:04:49.200\nYour refrigerator, oven,\nyour scale, all plugged in and\n\n91\n00:04:49.200 --> 00:04:51.400\nwanting to be able to\ncommunicate on the Internet.\n\n92\n00:04:51.400 --> 00:04:55.720\nSo now not only do we expect\neverybody to need at least one IP,\n\n93\n00:04:55.720 --> 00:04:58.520\nwe can expect to need many IPs.\n\n94\n00:04:58.520 --> 00:05:02.430\nYou can take somebody like me,\nmy household, where there's four of us,\n\n95\n00:05:02.430 --> 00:05:03.920\nmy wife and two kids.\n\n96\n00:05:03.920 --> 00:05:09.080\nAnd of the four of us we probably\nconsume upward to 30 IP addresses\n\n97\n00:05:09.080 --> 00:05:14.280\nbetween all the different devices that\nwe've got And so that became a problem.\n\n98\n00:05:14.280 --> 00:05:18.100\nThe earth's population today\nis over six billion people and\n\n99\n00:05:18.100 --> 00:05:23.860\nwhen one person needs many, many IPs,\nIPV4 is just not big enough.\n\n100\n00:05:23.860 --> 00:05:26.490\nAnd so\nthe IPV4 address space has been consumed.\n\n101\n00:05:26.490 --> 00:05:31.850\nAnd now we're in this little bit of\na contention, or over-subscription,\n\n102\n00:05:31.850 --> 00:05:35.620\nthat when you want to go and\nget public IPs We got a real problem.\n\n103\n00:05:35.620 --> 00:05:38.570\nThere's not a lot available and so\nyou've gotta fill out some forms and\n\n104\n00:05:38.570 --> 00:05:41.890\nall of this stuff to make\nsure you can get those IP's.\n\n105\n00:05:41.890 --> 00:05:46.220\nSo IPv6 is designed to fix that and\nwe'll take a look at IPv6 down the road.\n\n106\n00:05:46.220 --> 00:05:49.800\nBut as we look at IPv4 you're\ngonna notice this recurring theme,\n\n107\n00:05:49.800 --> 00:05:52.830\nthat we're constantly talking about\nnot having enough addresses and\n\n108\n00:05:52.830 --> 00:05:55.720\nthings we can do to make sure\nthat we do have enough addresses.\n\n109\n00:05:55.720 --> 00:05:58.440\nKeep that in mind as we go through,\nand we work with it.\n\n110\n00:05:58.440 --> 00:06:00.610\nNow, I've been talking about IP before,\n\n111\n00:06:00.610 --> 00:06:03.280\nbut we haven't really talked\nabout the address itself.\n\n112\n00:06:03.280 --> 00:06:05.340\nYou likely have seen\nthese addresses before.\n\n113\n00:06:05.340 --> 00:06:08.470\nThey're made up of four numbers,\nstrung together with periods.\n\n114\n00:06:08.470 --> 00:06:10.500\nThey call it a dotted decimal notation,\nright?\n\n115\n00:06:10.500 --> 00:06:11.710\nLet me show you here on my laptop.\n\n116\n00:06:11.710 --> 00:06:17.830\nSo, for example, the network adapter\non my laptop Has received an IP address\n\n117\n00:06:17.830 --> 00:06:23.390\nof 10.1.230.195 and\nit has a subnet mask of 255.255.255.0 and\n\n118\n00:06:23.390 --> 00:06:25.589\na router of 10.1.230.1.\n\n119\n00:06:25.589 --> 00:06:26.102\nAll right?\n\n120\n00:06:26.102 --> 00:06:29.740\nThis is a typical example\nof an IP address.\n\n121\n00:06:29.740 --> 00:06:32.960\nAnd so let's take a look at\nexactly what we're looking at.\n\n122\n00:06:32.960 --> 00:06:36.220\nFirst off, the IP address itself, right?\n\n123\n00:06:38.310 --> 00:06:40.025\nIt's four numbers.\n\n124\n00:06:40.025 --> 00:06:42.480\n10.1.230.195. Right?\nSo that's my IP address on my system.\n\n125\n00:06:43.500 --> 00:06:45.710\nNow, that number, let me just copy and\n\n126\n00:06:45.710 --> 00:06:50.630\nthrow it back here,\nthat number is my laptop, okay?\n\n127\n00:06:50.630 --> 00:06:53.960\nSo my laptop is represented on the network\nwith that address and if somebody wants to\n\n128\n00:06:53.960 --> 00:06:57.730\ntalk to me, that's the address that\nthey're going to go to and then I had that\n\n129\n00:06:57.730 --> 00:07:03.020\nsubnet mask that was in there, and\nthen I had the router that was in there.\n\n130\n00:07:03.020 --> 00:07:06.550\nThose were the three pieces of\ninformation that were tied to my laptop.\n\n131\n00:07:06.550 --> 00:07:09.740\nNow, the IP address,\nit's made up of four numbers.\n\n132\n00:07:09.740 --> 00:07:15.410\nAnd I mentioned how part of that\nrepresents the network that I am on,\n\n133\n00:07:15.410 --> 00:07:18.570\nand part of it represents my host, okay?\n\n134\n00:07:18.570 --> 00:07:21.060\nRonnie, what IP address do\nyou have on your laptop?\n\n135\n00:07:21.060 --> 00:07:24.190\nWe'll take a look at Ronnie's address,\ntoo.\n\n136\n00:07:24.190 --> 00:07:29.210\nRonnie is on the same network as me and\nso part of my address is gonna match\n\n137\n00:07:29.210 --> 00:07:31.450\npart of his address so\nthat we know we're on the same network.\n\n138\n00:07:31.450 --> 00:07:33.130\nRight, what's your address, Ronnie?\n\n139\n00:07:33.130 --> 00:07:34.306\nRonnie\n>> It's 10.1.230.\n\n140\n00:07:34.306 --> 00:07:37.820\n21, all right.\n\n141\n00:07:37.820 --> 00:07:41.130\nSo this one is me and this one is Ronnie.\n\n142\n00:07:41.130 --> 00:07:41.630\nAll right.\n\n143\n00:07:42.650 --> 00:07:45.021\nSo those two addresses,\nwe're on the same network.\n\n144\n00:07:45.021 --> 00:07:49.934\nAnd if that's all the information I had\nwas just this bit right here, I could look\n\n145\n00:07:49.934 --> 00:07:55.220\nat it and say well you know Sure enough,\nthere's this little section right, whoops.\n\n146\n00:07:55.220 --> 00:08:00.916\n[LAUGH] There's this little section\nright here Where our addresses match.\n\n147\n00:08:00.916 --> 00:08:04.612\nMine's 10.1.230, his is 10.1.230.\n\n148\n00:08:04.612 --> 00:08:07.889\nAnd mine ends in 195, his ends in 21.\n\n149\n00:08:07.889 --> 00:08:08.617\nThose are different.\n\n150\n00:08:08.617 --> 00:08:13.784\nWe could guess, we can assume,\nif I can click on the right thing here,\n\n151\n00:08:13.784 --> 00:08:19.980\nthat 10.1.230 must be the network,\nand that the rest of it is the host.\n\n152\n00:08:19.980 --> 00:08:22.060\nBut that's an assumption,\nhow do I know that?\n\n153\n00:08:22.060 --> 00:08:23.060\nI could be wrong.\n\n154\n00:08:23.060 --> 00:08:31.517\nI could have another host on\nthe network that is 10.1.231.50, right?\n\n155\n00:08:31.517 --> 00:08:34.430\nAnd then is that one on\nthe same network as us or not?\n\n156\n00:08:34.430 --> 00:08:35.940\nI can't really tell.\n\n157\n00:08:35.940 --> 00:08:39.580\nJust based on the address,\nI don't have a way to know that.\n\n158\n00:08:39.580 --> 00:08:43.210\nWell, there actually is a way to tell,\nthere's two different ways to tell.\n\n159\n00:08:43.210 --> 00:08:45.580\nThere's the old way and the new way.\n\n160\n00:08:45.580 --> 00:08:50.670\nThe old way was that you had what\nwas called a classful address.\n\n161\n00:08:50.670 --> 00:08:55.640\nIn the 70s and 80s, even in the early 90s,\nclassful addresses were very common.\n\n162\n00:08:55.640 --> 00:08:58.275\nIP addresses fell into\none of three classes.\n\n163\n00:08:58.275 --> 00:09:01.510\nIt's actually five classes, but\nthree that we care about for the exam.\n\n164\n00:09:01.510 --> 00:09:08.415\nSo there was the Class A, Class B,\nand Class C addresses, okay?\n\n165\n00:09:08.415 --> 00:09:12.060\nClass A addresses were really easy\nto spot because their first digit,\n\n166\n00:09:12.060 --> 00:09:13.740\nthe first number here, right?\n\n167\n00:09:13.740 --> 00:09:15.485\nSee where I've got a 10 on these guys?\n\n168\n00:09:15.485 --> 00:09:22.180\nTheir first number was 1 through 127,\nokay?\n\n169\n00:09:22.180 --> 00:09:27.118\nSo if a number started with 1 to a 127,\nI knew it was a Class A.\n\n170\n00:09:27.118 --> 00:09:33.446\nAnd if it was a Class B,\nit was 128 through 191.\n\n171\n00:09:33.446 --> 00:09:38.845\nAnd if it was a Class C,\nit was 192 through 223.\n\n172\n00:09:38.845 --> 00:09:41.739\nSo I could just look at an address, and\n\n173\n00:09:41.739 --> 00:09:47.450\nthat would tell me if it was a Class A,\nClass B, or Class C address.\n\n174\n00:09:47.450 --> 00:09:51.711\nAnd if it was a Class A,\njust the first number,\n\n175\n00:09:51.711 --> 00:09:58.613\njust that first number was the network,\nand everything else was the host.\n\n176\n00:09:58.613 --> 00:10:03.654\nIf it was a Class B, so if that number\nwas 128 to 191, well, then I would\n\n177\n00:10:03.654 --> 00:10:08.328\nknow the first two numbers were\nthe network, and the rest was the host.\n\n178\n00:10:08.328 --> 00:10:13.802\nAnd if that first number was 192 to 223,\nI would know that the first\n\n179\n00:10:13.802 --> 00:10:19.032\nthree numbers were the network ID,\nand the last part was the host ID.\n\n180\n00:10:19.032 --> 00:10:21.917\nSo you had this network ID and\nhost ID, and\n\n181\n00:10:21.917 --> 00:10:27.880\nif two hosts were on the same network,\nthey could talk to each other directly.\n\n182\n00:10:27.880 --> 00:10:30.450\nBut if two hosts run different networks,\n\n183\n00:10:30.450 --> 00:10:33.470\nthey'd have to go through\na router to get to each other.\n\n184\n00:10:33.470 --> 00:10:36.110\nSo assuming we had a classful system here,\n\n185\n00:10:36.110 --> 00:10:40.590\nI could see these started with 10s, and\nthat meant that we're in a Class A.\n\n186\n00:10:40.590 --> 00:10:44.980\nAnd Class A says that just\nthe first number is the network ID.\n\n187\n00:10:44.980 --> 00:10:49.028\nSo all three of these addresses that\nI've written here on the screen are all\n\n188\n00:10:49.028 --> 00:10:50.195\nin the same network.\n\n189\n00:10:50.195 --> 00:10:54.890\nIn fact, we could go crazy and\nhave something completely different.\n\n190\n00:10:56.540 --> 00:10:58.080\nI'm not good at making up addresses, but\n\n191\n00:10:58.080 --> 00:11:02.400\nsomething like that,\nwhere it's completely different down here.\n\n192\n00:11:02.400 --> 00:11:05.730\nBut this computer would be on the same\nnetwork as the other three because they\n\n193\n00:11:05.730 --> 00:11:11.070\nall start with 10, and\n10 falls inside of Class A, all right?\n\n194\n00:11:11.070 --> 00:11:15.670\nNow classful networks, they worked\nout pretty well back then, right?\n\n195\n00:11:15.670 --> 00:11:17.620\nBecause you could just look\nat that first digit and\n\n196\n00:11:17.620 --> 00:11:20.320\nyou would know exactly what was going on,\nright?\n\n197\n00:11:20.320 --> 00:11:22.632\nBut there were some problems.\n\n198\n00:11:22.632 --> 00:11:27.534\nSo for example, if I wanted to build\na network and I wanted a Class A,\n\n199\n00:11:27.534 --> 00:11:32.352\nI wanted that big network, well,\nI could go and apply and get one.\n\n200\n00:11:32.352 --> 00:11:35.222\nBut there's only 127 of them.\n\n201\n00:11:35.222 --> 00:11:38.761\nTechnically, there's only 126\ncuz 127 is a little special,\n\n202\n00:11:38.761 --> 00:11:42.067\nwe'll talk about it later, but\nthere were only 126 of them.\n\n203\n00:11:42.067 --> 00:11:46.948\nSo assume that 126 companies went out\nthere and said hey, we need Class As, and\n\n204\n00:11:46.948 --> 00:11:47.884\nthey got them.\n\n205\n00:11:47.884 --> 00:11:50.250\nWell, now they're all gone.\n\n206\n00:11:50.250 --> 00:11:53.790\nNobody else on the entire planet can\nhave a Class A, there's none left.\n\n207\n00:11:53.790 --> 00:11:55.430\nThey've just all been given out.\n\n208\n00:11:55.430 --> 00:11:58.188\nSo that was a problem with\na classful system, and\n\n209\n00:11:58.188 --> 00:12:01.496\nthat's why we don't really\nfollow the classes anymore.\n\n210\n00:12:01.496 --> 00:12:06.852\nIt's rare that you find a router or\nLayer 3 device that still obeys classes.\n\n211\n00:12:06.852 --> 00:12:10.000\nEven on the workstation side,\nthey don't obey classes anymore.\n\n212\n00:12:10.000 --> 00:12:13.800\nThe classes have been\nreplaced with subnet masks.\n\n213\n00:12:13.800 --> 00:12:18.300\nSubnet masks allow us to do all sorts\nof different things with the network.\n\n214\n00:12:18.300 --> 00:12:21.520\nAnd we're not forced to adhere to these\n\n215\n00:12:21.520 --> 00:12:24.560\nrigid classes that were defined before,\nright?\n\n216\n00:12:24.560 --> 00:12:27.200\nWith the classes, they were kind\nof nice cuz you could quickly and\n\n217\n00:12:27.200 --> 00:12:28.740\neasily provision out networks.\n\n218\n00:12:28.740 --> 00:12:31.560\nAnd you didn't have to worry about things,\n\n219\n00:12:31.560 --> 00:12:33.990\nlike calculating subnets,\nthat it was all super easy.\n\n220\n00:12:33.990 --> 00:12:36.979\nJust based on the class,\nI knew exactly what to look for for\n\n221\n00:12:36.979 --> 00:12:40.529\nthe network to find out if two systems\nwere on the same network or not.\n\n222\n00:12:40.529 --> 00:12:44.170\nBut they have their limitations and mostly\nfocused around the quantity of them.\n\n223\n00:12:44.170 --> 00:12:47.606\nThat you just didn't have that many\nnetworks inside of it, all right?\n\n224\n00:12:47.606 --> 00:12:52.770\nNow, when it came to picking a network,\nhow did I know which class to use?\n\n225\n00:12:52.770 --> 00:12:56.422\nWhat did it matter whether was the first\nnumber that represent of the network or\n\n226\n00:12:56.422 --> 00:12:59.481\nthe second or the third, or\nall three what did is matter, right?\n\n227\n00:12:59.481 --> 00:13:01.079\nIt was all about the size.\n\n228\n00:13:01.079 --> 00:13:06.200\nA Class A network can consist of up to\n\n229\n00:13:06.200 --> 00:13:12.017\n16.7 million IP addresses, okay?\n\n230\n00:13:12.017 --> 00:13:14.323\nI should probably put it's approximate,\nright?\n\n231\n00:13:14.323 --> 00:13:16.990\nThe actual number, do I have\nthe actual number written somewhere?\n\n232\n00:13:16.990 --> 00:13:24.439\nIt's 16,777,214,\na number I'm never gonna remember.\n\n233\n00:13:24.439 --> 00:13:26.002\nAnd for the exam,\nyou're not gonna need that one either.\n\n234\n00:13:26.002 --> 00:13:29.445\nBut just to put it into perspective,\na Class A network,\n\n235\n00:13:29.445 --> 00:13:32.745\nwhere only the first number\nrepresents the network,\n\n236\n00:13:32.745 --> 00:13:37.309\nleaves all three of these other numbers\navailable to represent the host.\n\n237\n00:13:37.309 --> 00:13:41.589\nAnd it could be up to 16.7 million IPs.\n\n238\n00:13:41.589 --> 00:13:43.603\nThat's a big network, isn't it?\n\n239\n00:13:43.603 --> 00:13:48.690\nMost businesses, really any business,\nis not going to have 16.7 million IPs.\n\n240\n00:13:48.690 --> 00:13:51.940\nIn fact, if you look at the list of\nClass As that were actually issued,\n\n241\n00:13:51.940 --> 00:13:54.020\nit's made up of some\npretty interesting people.\n\n242\n00:13:54.020 --> 00:13:59.320\nFor example, Apple computers,\nApple applied and got a Class A.\n\n243\n00:13:59.320 --> 00:14:02.054\nAnd their vision back then was hey,\nwhen we sell a Mac,\n\n244\n00:14:02.054 --> 00:14:04.263\nwe're gonna include an IP address with it.\n\n245\n00:14:04.263 --> 00:14:07.598\nAnd could Apple sell 16.7 million Macs?\n\n246\n00:14:07.598 --> 00:14:11.138\nCertainly, right now, they never\ndid start issuing IPs like that,\n\n247\n00:14:11.138 --> 00:14:15.063\nthat never happened, but they have that\nClass A, even to this very moment.\n\n248\n00:14:15.063 --> 00:14:18.183\nApple is under a lot of pressure\nright now to give it back,\n\n249\n00:14:18.183 --> 00:14:21.030\nbut they still have\nthat Class A right now.\n\n250\n00:14:21.030 --> 00:14:23.900\nAnother one, Ford Motor Company,\nFord did the same thing.\n\n251\n00:14:23.900 --> 00:14:27.465\nThey said, hey, can we get a Class A\nbecause every time we sell a truck,\n\n252\n00:14:27.465 --> 00:14:30.333\nwe're gonna include an IP\naddress with it in the future.\n\n253\n00:14:30.333 --> 00:14:33.387\nNever happened and Ford has\nactually given most of it back now.\n\n254\n00:14:33.387 --> 00:14:35.567\nThey've actually done the right thing,\nunlike Apple.\n\n255\n00:14:35.567 --> 00:14:39.620\n[LAUGH] So those are the kinds of\ncompanies that were reaching out there and\n\n256\n00:14:39.620 --> 00:14:40.695\ngetting Class As.\n\n257\n00:14:40.695 --> 00:14:44.725\nMore commonly, companies\nare getting Class Bs and Class Cs.\n\n258\n00:14:44.725 --> 00:14:52.292\nA Class B contains 65,535 addresses,\nright?\n\n259\n00:14:52.292 --> 00:14:55.160\nThat's a much more realistic number,\nright?\n\n260\n00:14:55.160 --> 00:14:59.072\nPeople are going to have\nthousands of computers.\n\n261\n00:14:59.072 --> 00:15:00.785\nIf you're a school or a university,\n\n262\n00:15:00.785 --> 00:15:04.058\nthe idea of having thousands of\ncomputers is very realistic, right?\n\n263\n00:15:04.058 --> 00:15:06.166\nSo that's the size of a Class B.\n\n264\n00:15:06.166 --> 00:15:13.141\nAnd a Class C, that's the smallest\none at basically, 254 addresses.\n\n265\n00:15:13.141 --> 00:15:18.330\nAnd I guess I should really correct\nthis one cuz it's 65,534 hosts.\n\n266\n00:15:18.330 --> 00:15:22.420\nAnd we'll see why those numbers\nchange a little bit later on, but\n\n267\n00:15:22.420 --> 00:15:24.840\nnow we have a much, much smaller network.\n\n268\n00:15:24.840 --> 00:15:27.601\nSo maybe you have something like\nthe ITProTV studios here, right?\n\n269\n00:15:27.601 --> 00:15:33.247\nIn our studios, we have, I don't know,\nprobably 110 IPs that we actually use.\n\n270\n00:15:33.247 --> 00:15:36.547\nSo we don't need a big\nnetwork like this Class B,\n\n271\n00:15:36.547 --> 00:15:39.051\nwe can get by with a smaller network.\n\n272\n00:15:39.051 --> 00:15:43.744\nOr in your own home, right,\nyou'd just need 254 IPs and that's fine.\n\n273\n00:15:43.744 --> 00:15:46.306\nBut think about the waste, right?\n\n274\n00:15:46.306 --> 00:15:48.040\nYou waste a lot of IPs with this stuff.\n\n275\n00:15:49.040 --> 00:15:52.097\nLet's say you work for a company,\nand you have 300 computers.\n\n276\n00:15:52.097 --> 00:15:56.897\nI have 300 computers, so a Class C is just\ntoo small, so it's not big enough, righy?\n\n277\n00:15:56.897 --> 00:15:58.246\nI got 300 computers.\n\n278\n00:15:58.246 --> 00:15:59.514\nSo I have to go up to a Class B.\n\n279\n00:15:59.514 --> 00:16:03.789\nAnd at a Class B,\nI now get 65,534 addresses.\n\n280\n00:16:03.789 --> 00:16:10.067\nI only needed 300, so\nnow I'm wasting 65,234 addresses.\n\n281\n00:16:10.067 --> 00:16:11.790\nThat's wasteful.\n\n282\n00:16:11.790 --> 00:16:15.720\nAnd that's why we've run out\nof address in the IPv4 space.\n\n283\n00:16:15.720 --> 00:16:19.162\nThat they have to issue\nthese wasteful amounts.\n\n284\n00:16:19.162 --> 00:16:20.771\nWell, that changed over the years.\n\n285\n00:16:20.771 --> 00:16:24.467\nIn the CCNA routing and switching show,\nwe'll cover what's called variable\n\n286\n00:16:24.467 --> 00:16:27.939\nlength subnet masking where you can\ncreate all sorts of crazy things, but\n\n287\n00:16:27.939 --> 00:16:30.900\nfor the CC and T level,\nwe don't even worry about that.\n\n288\n00:16:30.900 --> 00:16:35.460\nJust know that it has its\noriginally configured.\n\n289\n00:16:35.460 --> 00:16:38.660\nThese are the sizes of\nthe networks that we hand out, and\n\n290\n00:16:38.660 --> 00:16:42.680\nthey can be very wasteful, so\nit's not terribly efficient, all right.\n\n291\n00:16:42.680 --> 00:16:45.628\nNow, where do subnet masks\nfactor into all of this?\n\n292\n00:16:45.628 --> 00:16:51.184\nSo we saw that my network adaptor had\na subnet mask of 255.255.255.0, right.\n\n293\n00:16:51.184 --> 00:16:52.811\nWhat does that mean?\n\n294\n00:16:52.811 --> 00:16:57.039\nWell, what it means is that yes,\nmy address starts with a 10, and so\n\n295\n00:16:57.039 --> 00:16:59.345\ntechnically that should be a Class A.\n\n296\n00:16:59.345 --> 00:17:04.190\nBut the ITPro studios aren't that big, so\nI don't need that big an address space.\n\n297\n00:17:04.190 --> 00:17:06.550\nSo instead, what I'm doing is,\n\n298\n00:17:06.550 --> 00:17:10.120\nI'm telling the system ignore\nwhat that first number is.\n\n299\n00:17:10.120 --> 00:17:13.000\nI don't care which class that we're\nI'm following, cuz I'm not following\n\n300\n00:17:13.000 --> 00:17:18.017\nthe classes, and instead,\npay attention to this subnet mask, right.\n\n301\n00:17:19.120 --> 00:17:22.250\nAnd what the subnet mask is doing\nis it's telling the computer\n\n302\n00:17:22.250 --> 00:17:26.450\nwhich numbers are part of the network, and\nwhich numbers are part of the host, right,\n\n303\n00:17:26.450 --> 00:17:28.910\nthe network ID and the host ID.\n\n304\n00:17:28.910 --> 00:17:34.290\nAnd anywhere, I've got a 255,\nthat is the network ID.\n\n305\n00:17:34.290 --> 00:17:37.810\nAnd anywhere I have a 0,\nthat's the host ID.\n\n306\n00:17:37.810 --> 00:17:42.670\nSo there's three primary subnet\nmasks that we'll see out and\n\n307\n00:17:42.670 --> 00:17:46.470\nabout, and\nthey are these three right here.\n\n308\n00:17:46.470 --> 00:17:49.060\nThere's others that you'll\nlearn about in CCNA routing and\n\n309\n00:17:49.060 --> 00:17:51.910\nswitching when we do VLSM,\nbut for right now,\n\n310\n00:17:51.910 --> 00:17:54.310\nthere's three that we need to\npay attention to, these guys.\n\n311\n00:17:54.310 --> 00:17:57.790\nThe first one is what used\nto be a Class A, right?\n\n312\n00:17:57.790 --> 00:18:02.280\nThe first number is gonna\nrepresent the network ID, and\n\n313\n00:18:02.280 --> 00:18:05.470\nthe other three numbers\nare gonna represent the host ID.\n\n314\n00:18:05.470 --> 00:18:07.670\nThe second one is what\nused to be a Class B.\n\n315\n00:18:07.670 --> 00:18:10.420\nThe first two numbers\nrepresent the network ID and\n\n316\n00:18:10.420 --> 00:18:12.230\nthe last two represent the host.\n\n317\n00:18:12.230 --> 00:18:16.400\nAnd then the third one here is what used\nto be a Class C, the first three numbers.\n\n318\n00:18:16.400 --> 00:18:19.510\nBut the cool part here is that we\ncan apply these to any address.\n\n319\n00:18:19.510 --> 00:18:25.167\nSo when you look at my network adapter,\nI have what would normally be a Class A.\n\n320\n00:18:25.167 --> 00:18:29.960\nBut I'm using this subnet mask,\nwhich says the first three numbers,\n\n321\n00:18:29.960 --> 00:18:33.549\n10.1.230, that's part of my network ID.\n\n322\n00:18:33.549 --> 00:18:39.570\nAnd the last number, 195, that's my\nhost ID, that identifies my laptop.\n\n323\n00:18:39.570 --> 00:18:44.110\nThere may be many other computers\non the 10.1.230 network, but\n\n324\n00:18:44.110 --> 00:18:46.490\nI'm the only one that ends in 195,\nall right?\n\n325\n00:18:46.490 --> 00:18:50.349\nIt's very similar to a postal address,\nso if you were to take our building, for\n\n326\n00:18:50.349 --> 00:18:51.282\nexample, right?\n\n327\n00:18:51.282 --> 00:18:57.832\nSo the building that we're in\nright now is 6933 NW 4th Blvd.\n\n328\n00:18:57.832 --> 00:18:59.834\nOkay, so what does that mean?\n\n329\n00:18:59.834 --> 00:19:02.166\nWell, NW 4th Blvd,\nthat's the street that we're on, and\n\n330\n00:19:02.166 --> 00:19:04.108\nthat's the street right\noutside the wall there.\n\n331\n00:19:04.108 --> 00:19:07.380\n6933, that's our building.\n\n332\n00:19:07.380 --> 00:19:09.990\nThere's plenty of other\npeople on this street.\n\n333\n00:19:09.990 --> 00:19:17.220\nSo for example,\nthere's a 6931 NW 4th Blvd, okay.\n\n334\n00:19:17.220 --> 00:19:21.965\nThey're on the same street as us, but\nthey have a different building number.\n\n335\n00:19:21.965 --> 00:19:26.452\nWe are the only 6933 on NW 4th Blvd.\n\n336\n00:19:26.452 --> 00:19:32.369\nNow, I don't know if there is one,\nbut I imagine there's a NW 5th Blvd,\n\n337\n00:19:32.369 --> 00:19:36.006\nand so there might be a 6933 NW 5th Blvd.\n\n338\n00:19:36.006 --> 00:19:37.555\nAnd that would be okay.\n\n339\n00:19:37.555 --> 00:19:41.169\nIt's okay because they can have 6933,\nand I can have 6933,\n\n340\n00:19:41.169 --> 00:19:43.425\ncuz we're on different streets, right?\n\n341\n00:19:43.425 --> 00:19:48.620\nThey're on NW 5th Blvd, I'm on 4th Blvd,\nso we don't have overlap, right.\n\n342\n00:19:48.620 --> 00:19:49.470\nWe're still unique.\n\n343\n00:19:50.520 --> 00:19:55.295\nBut if I'm standing here in my\nbuilding and I wanna go to 6931,\n\n344\n00:19:55.295 --> 00:19:59.233\nI don't need to pull up Google Maps or\nget directions.\n\n345\n00:19:59.233 --> 00:20:01.240\nI'm right here on the same street,\nthat's our neighbor.\n\n346\n00:20:01.240 --> 00:20:03.600\nI can just walk out the door,\nand there they are.\n\n347\n00:20:03.600 --> 00:20:06.618\nI can go right to them,\nright off of my street.\n\n348\n00:20:06.618 --> 00:20:10.960\nIf I wanna go to 6933 NW 5th Blvd,\nI don't know where that is,\n\n349\n00:20:10.960 --> 00:20:13.226\nnot even entirely sure it exists.\n\n350\n00:20:13.226 --> 00:20:16.451\nI don't know where that is, so\nI might need Google Maps, or\n\n351\n00:20:16.451 --> 00:20:18.847\nI might need some help\nfinding my way there.\n\n352\n00:20:18.847 --> 00:20:24.870\nAnd in the networking world, you don't\nuse Google Maps, you use routers, right?\n\n353\n00:20:24.870 --> 00:20:27.207\nThe routers will tell you\nhow to get to that network.\n\n354\n00:20:27.207 --> 00:20:33.160\nSo going back up to this example,\nRonnie and I on the 10.1.230 network.\n\n355\n00:20:33.160 --> 00:20:37.450\nAnd so my laptop can talk to his laptop,\nand I don't have to get routers involved.\n\n356\n00:20:37.450 --> 00:20:38.140\nHe's just right there.\n\n357\n00:20:38.140 --> 00:20:39.758\nI can just talk directly to him.\n\n358\n00:20:39.758 --> 00:20:43.252\nWe both start with 10.1.230, and\n\n359\n00:20:43.252 --> 00:20:48.404\nwe're using that\n255.255.255.0 subnet mask.\n\n360\n00:20:48.404 --> 00:20:51.462\nSo that means the first three numbers\nare part of the network ID, and\n\n361\n00:20:51.462 --> 00:20:53.189\nthe last number is part of the host ID.\n\n362\n00:20:53.189 --> 00:20:58.344\nSo as long as somebody starts with\n10.1.230, I can talk directly to them.\n\n363\n00:20:58.344 --> 00:21:04.210\nBut if they start with 10.1.231,\nthat's a different network.\n\n364\n00:21:04.210 --> 00:21:08.650\nIt's really close, but it's a different\nnetwork, and I don't know how to go to it.\n\n365\n00:21:08.650 --> 00:21:11.430\nSo I'm gonna have to go to a router.\n\n366\n00:21:11.430 --> 00:21:15.750\nAnd that's the third piece\nof information that we see\n\n367\n00:21:15.750 --> 00:21:18.534\nright here on my network adapter.\n\n368\n00:21:18.534 --> 00:21:24.000\nI've got an IP address, I've got\na subnet mask, and I've got a router.\n\n369\n00:21:24.000 --> 00:21:27.870\nIf I wanna talk to somebody\non a different network,\n\n370\n00:21:27.870 --> 00:21:30.710\nthis is the router that I'm gonna\nuse to get there, all right?\n\n371\n00:21:30.710 --> 00:21:32.730\nIf I don't intend to talk to\nanybody on a different network,\n\n372\n00:21:32.730 --> 00:21:33.970\nI don't need a router ID.\n\n373\n00:21:33.970 --> 00:21:35.810\nI can just use an IP and a subnet mask.\n\n374\n00:21:35.810 --> 00:21:37.569\nThat's all I really need.\n\n375\n00:21:37.569 --> 00:21:40.872\nBut in this day and age, you're pretty\nmuch guaranteed to want to go out to\n\n376\n00:21:40.872 --> 00:21:43.773\nthe Internet, and so\nyou're going to need a router ID for that.\n\n377\n00:21:43.773 --> 00:21:45.048\nSo you've got to have that put in.\n\n378\n00:21:45.048 --> 00:21:47.045\n>> Now Don,\nI know that on Windows machine,\n\n379\n00:21:47.045 --> 00:21:50.730\nI don't normally see the term router,\nI see the term default gateway.\n\n380\n00:21:50.730 --> 00:21:52.350\nIs that the same thing\nthat we're talking about?\n\n381\n00:21:52.350 --> 00:21:56.405\n>> Yeah, there's different terms for\nit, so you'll see on a Mac,\n\n382\n00:21:56.405 --> 00:21:58.268\nthey just call it the router.\n\n383\n00:21:58.268 --> 00:22:00.393\nOn Windows,\nthey do call it a default gateway.\n\n384\n00:22:00.393 --> 00:22:03.538\nIn Cisco land, right, when we go to\nconfigure this, we'll see they have\n\n385\n00:22:03.538 --> 00:22:07.088\nmore than one term of it, but they usually\ncall it a gateway of last resort, right,\n\n386\n00:22:07.088 --> 00:22:10.286\nor a default gateway, sometimes will\nbe the terminology they use there.\n\n387\n00:22:10.286 --> 00:22:12.697\nSo different terms, but\nit's the same thing, right.\n\n388\n00:22:12.697 --> 00:22:13.410\nIt's a router.\n\n389\n00:22:13.410 --> 00:22:16.040\nIt's the device that we're\ngonna be communicating through\n\n390\n00:22:16.040 --> 00:22:20.340\nto get to other networks, and it all\nreally refers back to the same thing.\n\n391\n00:22:20.340 --> 00:22:22.250\nAnd you might have more than one router.\n\n392\n00:22:22.250 --> 00:22:23.030\nThis is the default one.\n\n393\n00:22:23.030 --> 00:22:24.460\nThis is the one that we're gonna go to,\nbut\n\n394\n00:22:24.460 --> 00:22:26.030\nthere might be others\nthat are on the network.\n\n395\n00:22:26.030 --> 00:22:28.680\nAnd throughout the later parts of\nthe show, not this episode but\n\n396\n00:22:28.680 --> 00:22:30.840\nthe series,\nwe're gonna configure a router, and\n\n397\n00:22:30.840 --> 00:22:33.260\nsee how we get one of those\nput in place to function.\n\n398\n00:22:33.260 --> 00:22:36.654\nAll right, now, let's talk a little\nbit about the numbers themselves.\n\n399\n00:22:36.654 --> 00:22:39.859\nWhen we look at these numbers,\nthey're what's called dotted decimal.\n\n400\n00:22:39.859 --> 00:22:43.104\nThe dotted part, right, that's easy\nenough, there's dots, the periods.\n\n401\n00:22:43.104 --> 00:22:46.340\nBut the decimal, what does that mean?\n\n402\n00:22:46.340 --> 00:22:47.575\nWell, what it means,\n\n403\n00:22:47.575 --> 00:22:51.808\nis that the numbers we're seeing\nare using base-ten mathematics, right.\n\n404\n00:22:51.808 --> 00:22:55.952\nBase-ten mathematics is what we as human\nbeings learn in school when you grow\n\n405\n00:22:55.952 --> 00:22:56.663\nup, right.\n\n406\n00:22:56.663 --> 00:23:00.603\nThe way base-ten mathematics\nworks is that every\n\n407\n00:23:00.603 --> 00:23:05.589\nnumber is represented by a value\nthat is 0 through 9, right.\n\n408\n00:23:05.589 --> 00:23:09.193\nAnd as I count up,\nwell in computer land, you start at 0,\n\n409\n00:23:09.193 --> 00:23:12.325\nwe normally start at 1,\nbut 0 you count up to 9.\n\n410\n00:23:12.325 --> 00:23:14.330\nAnd what happens when you get to 9?\n\n411\n00:23:14.330 --> 00:23:16.770\nYou go from one digit to two digits,\nright.\n\n412\n00:23:16.770 --> 00:23:21.500\nAnd so you have a tens place holder and\na ones place holder.\n\n413\n00:23:21.500 --> 00:23:27.803\nSo I now have 0 through 9, followed by\nanother number of 0 through 9, right.\n\n414\n00:23:27.803 --> 00:23:34.410\nSo for example,\nthis might be 4 versus 14, right?\n\n415\n00:23:34.410 --> 00:23:37.700\nMy tens placeholder is the 1, and\nthen my one's placeholder is the 4.\n\n416\n00:23:37.700 --> 00:23:40.509\nAnd as I keep going up,\nI'm gonna get all the way up to 99, and\n\n417\n00:23:40.509 --> 00:23:41.795\nthen what's gonna happen?\n\n418\n00:23:41.795 --> 00:23:46.816\nI'm gonna add a third value, right,\n0 through 9, 0 through 9, 0 through 9.\n\n419\n00:23:46.816 --> 00:23:49.368\nSo I might have 114, right?\n\n420\n00:23:49.368 --> 00:23:52.924\nMy hundreds placeholders,\nmy tens placeholder, and\n\n421\n00:23:52.924 --> 00:23:56.800\nmy ones placeholder And\nthey're all in increments of ten.\n\n422\n00:23:56.800 --> 00:23:59.980\nThat's why they call these\nbase ten mathematics.\n\n423\n00:23:59.980 --> 00:24:03.330\nBut base ten mathematics doesn't work so\nwell inside of a computer or\n\n424\n00:24:03.330 --> 00:24:05.780\ninside of a router or switch or whatever.\n\n425\n00:24:05.780 --> 00:24:08.900\nThey are relying on electrical impulses.\n\n426\n00:24:08.900 --> 00:24:12.230\nSo they're sending electricity\nover a copper wire, or\n\n427\n00:24:12.230 --> 00:24:15.460\nmaybe it's light waves over glass,\nfiber optics.\n\n428\n00:24:15.460 --> 00:24:20.040\nBut either way they're sending a signal,\nand those signals work in binary.\n\n429\n00:24:20.040 --> 00:24:22.150\nBinary has two values.\n\n430\n00:24:22.150 --> 00:24:26.210\nOn or off, true or false,\npositive or negative, one or\n\n431\n00:24:26.210 --> 00:24:29.080\nzero, That's what binary is all about,\ntwo values.\n\n432\n00:24:29.080 --> 00:24:33.240\nOn copper, what you’re usually\nlooking at is either a positive or\n\n433\n00:24:33.240 --> 00:24:35.020\na negative electrical charge.\n\n434\n00:24:35.020 --> 00:24:37.140\nOr it might be a positive or\na neutral charge,\n\n435\n00:24:37.140 --> 00:24:40.020\nor a charge versus an absence of a charge.\n\n436\n00:24:40.020 --> 00:24:42.060\nThat’s what it’s looking for on that line.\n\n437\n00:24:42.060 --> 00:24:44.140\nWith fiber optics it's bursts of light.\n\n438\n00:24:44.140 --> 00:24:45.625\nIs the light lit, is the light not lit?\n\n439\n00:24:45.625 --> 00:24:48.670\n[LAUGH] It's kind of simple on that one.\n\n440\n00:24:48.670 --> 00:24:51.420\nAnd so\nit's able to correspond to binary values.\n\n441\n00:24:51.420 --> 00:24:52.840\nIt can't do zero through nine.\n\n442\n00:24:52.840 --> 00:24:56.140\nIf you've got a copper wire and\nyou're sending electricity on it,\n\n443\n00:24:56.140 --> 00:24:59.800\nhow do you represent eight,\nhow do you represent three?\n\n444\n00:24:59.800 --> 00:25:04.890\nIf you did levels of electrical charge,\nstrength, amperage, or something, voltage.\n\n445\n00:25:06.080 --> 00:25:08.100\nWell, things can cause\ninterference with that.\n\n446\n00:25:08.100 --> 00:25:12.260\nIt's much better to just say a positive\nvalue of any strength counts as a one and\n\n447\n00:25:12.260 --> 00:25:14.000\nnegative value of any\nstrength counts as a zero.\n\n448\n00:25:14.000 --> 00:25:17.322\nThat's much easier and\nit resists interference.\n\n449\n00:25:17.322 --> 00:25:21.050\nAnd so that's why we have a binary\nsystem inside of our computers.\n\n450\n00:25:21.050 --> 00:25:26.780\nSo whenever we look at these numbers\nthis is what we see, 10.1.230.1, or\n\n451\n00:25:26.780 --> 00:25:33.668\nwe see 255.255.255.0, but the computer on\nthe back end is turning these into binary.\n\n452\n00:25:33.668 --> 00:25:38.610\nAnd with binary it's a weird, weird world.\n\n453\n00:25:38.610 --> 00:25:41.550\nWith binary the way it\nworks is an IP address,\n\n454\n00:25:41.550 --> 00:25:45.609\neach of these numbers is\nrepresented by an 8-bit value.\n\n455\n00:25:45.609 --> 00:25:48.210\nSo 8-bits, eight ones and zeroes.\n\n456\n00:25:48.210 --> 00:25:50.720\nAnd so these are actually called octets.\n\n457\n00:25:50.720 --> 00:25:53.650\nAn octet is eight binary bits.\n\n458\n00:25:53.650 --> 00:25:56.900\nSo eight binary bits,\nit's going to be zeroes and ones.\n\n459\n00:25:56.900 --> 00:26:00.270\nSo that's all you have is\nzero through one with binary.\n\n460\n00:26:00.270 --> 00:26:02.540\nAnd if you want to\nrepresent bigger numbers,\n\n461\n00:26:02.540 --> 00:26:07.130\nyou continue to add to it, zero through\none, zero through one, zero through one.\n\n462\n00:26:07.130 --> 00:26:08.990\nIt's not like ours.\n\n463\n00:26:08.990 --> 00:26:12.030\nSo when we talk about base ten,\nyou can have all sorts of values.\n\n464\n00:26:12.030 --> 00:26:13.460\nWith binary you can't.\n\n465\n00:26:13.460 --> 00:26:19.410\nSo if I had a three bit value,\nthere's only so much I could have.\n\n466\n00:26:19.410 --> 00:26:21.300\nI could have 001.\n\n467\n00:26:21.300 --> 00:26:23.382\nI could have 010.\n\n468\n00:26:23.382 --> 00:26:28.091\nI could have 011, 100,\n\n469\n00:26:28.091 --> 00:26:32.988\n101, 110, and 111.\n\n470\n00:26:32.988 --> 00:26:34.509\nIs that all of them?\n\n471\n00:26:34.509 --> 00:26:35.089\nOne, two, three, four.\n\n472\n00:26:35.089 --> 00:26:36.505\nNo, I left somebody out.\nAll zeroes.\n\n473\n00:26:36.505 --> 00:26:40.510\n[LAUGH] As humans,\nwe forget to start at all zeroes.\n\n474\n00:26:40.510 --> 00:26:44.870\nSo, when we lay it out, these are really\nall the possible combinations that I can\n\n475\n00:26:44.870 --> 00:26:47.130\nhave and that's it.\n\n476\n00:26:47.130 --> 00:26:49.060\nVersus with decimal,\nif I had three digits,\n\n477\n00:26:49.060 --> 00:26:51.710\nI could have a thousand\ndifferent combinations.\n\n478\n00:26:51.710 --> 00:26:53.800\n000 all the way up to 999.\n\n479\n00:26:53.800 --> 00:26:57.890\nHere, I have eight, eight different\ncombinations and that's it.\n\n480\n00:26:57.890 --> 00:27:00.770\nSo, binary bits are strange.\n\n481\n00:27:00.770 --> 00:27:04.090\nAnd, as a result, they're very\ndifficult for us to read as humans.\n\n482\n00:27:04.090 --> 00:27:05.680\nBut for\nthe exam we need to know how to do this.\n\n483\n00:27:05.680 --> 00:27:08.920\nYou need to understand how to\nconvert binary into decimal and\n\n484\n00:27:08.920 --> 00:27:10.300\nsee how this all works out.\n\n485\n00:27:10.300 --> 00:27:13.720\nNow let's talk about basic\nbinary conversions, all right?\n\n486\n00:27:13.720 --> 00:27:17.870\nWhen I wanna convert a number from decimal\nto binary, it can be a little challenging\n\n487\n00:27:17.870 --> 00:27:23.685\nbut I've got eight bits and the eight bits\nmight be written something like this.\n\n488\n00:27:23.685 --> 00:27:26.130\n10101100.\n\n489\n00:27:26.130 --> 00:27:30.370\nSo there's eight bits,\nsome are ones and some are zeroes.\n\n490\n00:27:30.370 --> 00:27:31.900\nWhat does that mean?\n\n491\n00:27:31.900 --> 00:27:34.060\nWell, to us it doesn't\nreally mean anything, right?\n\n492\n00:27:34.060 --> 00:27:36.140\nBut to a computer it's gonna look at it,\n\n493\n00:27:36.140 --> 00:27:40.500\nand each of these bits has\na value assigned to it.\n\n494\n00:27:40.500 --> 00:27:42.960\nAnd the values break down like this.\n\n495\n00:27:42.960 --> 00:27:46.480\nThe very first bit is worth one.\n\n496\n00:27:46.480 --> 00:27:49.120\nThe next bit is worth two.\n\n497\n00:27:49.120 --> 00:27:52.008\nAnd then four.\n\n498\n00:27:52.008 --> 00:27:54.620\nAnd then eight.\n\n499\n00:27:54.620 --> 00:27:56.321\nAnd then 16, 32.\n\n500\n00:27:56.321 --> 00:27:57.490\n64 and 128.\n\n501\n00:27:57.490 --> 00:28:00.500\nNotice how the numbers\nare doubling each time.\n\n502\n00:28:00.500 --> 00:28:03.355\nThey're doubling in size because\nthis is base two mathematics.\n\n503\n00:28:03.355 --> 00:28:04.460\nThat makes sense, right?\n\n504\n00:28:04.460 --> 00:28:05.980\nWe double each time.\n\n505\n00:28:05.980 --> 00:28:08.685\nAnd some of those numbers\nmight sound familiar to you.\n\n506\n00:28:08.685 --> 00:28:12.215\nMaybe you've done a memory upgrade, and\nyou go to buy memory and you find 64,\n\n507\n00:28:12.215 --> 00:28:16.945\nwell, maybe not 64-gig sticks,\n>> [LAUGH]\n\n508\n00:28:16.945 --> 00:28:19.154\n>> But you'll see 32-gig sticks or\n\n509\n00:28:19.154 --> 00:28:20.975\n16-gigs, 8-gigs, 4-gigs, right?\n\n510\n00:28:20.975 --> 00:28:23.875\nThose memory sizes,\nthose are based on binary values, too, and\n\n511\n00:28:23.875 --> 00:28:26.780\nso that's why we fall into these numbers.\n\n512\n00:28:26.780 --> 00:28:30.200\nSo the first,\nif I write it backwards here,\n\n513\n00:28:30.200 --> 00:28:35.820\nthe highest bit, what would be\nthe first one here technically is 128.\n\n514\n00:28:35.820 --> 00:28:36.580\nAnd then you've got 64.\n\n515\n00:28:36.580 --> 00:28:38.980\nAnd then you've got 32.\n\n516\n00:28:38.980 --> 00:28:42.820\nAnd then you've got 16.\n\n517\n00:28:42.820 --> 00:28:45.380\nAnd 8.\n\n518\n00:28:47.160 --> 00:28:47.660\nAnd 4.\n\n519\n00:28:48.720 --> 00:28:51.240\nI'm just dividing in half each time.\n\n520\n00:28:51.240 --> 00:28:53.080\nYou don't even really\nhave to memorize these.\n\n521\n00:28:53.080 --> 00:28:57.280\nYou need to know them for the exam, but\nif you just divide them in half each time,\n\n522\n00:28:57.280 --> 00:28:59.460\nit's not like you have to\nmemorize the whole table.\n\n523\n00:28:59.460 --> 00:29:05.784\nSo when I write a value out,\nlike 10101100,\n\n524\n00:29:05.784 --> 00:29:10.525\nwhen I write that out,\n\n525\n00:29:10.525 --> 00:29:17.420\neach of those ones or each of those zeroes\ncorresponds to one of these placeholders.\n\n526\n00:29:17.420 --> 00:29:19.870\nAnd after that it's really\njust simple mathematics.\n\n527\n00:29:19.870 --> 00:29:24.140\nI've got a 1 for 128 so\nI'm gonna start with 128.\n\n528\n00:29:24.140 --> 00:29:27.420\nAnd then I'm gonna add to it, not 64,\n\n529\n00:29:27.420 --> 00:29:32.289\nbecause I have a zero there, but\nI have 32, so I'm gonna add to it 32.\n\n530\n00:29:32.289 --> 00:29:37.120\nAnd then not 16 because I have a 0,\nbut I've got an 8 with a 1, so\n\n531\n00:29:37.120 --> 00:29:38.050\nI'm gonna add 8.\n\n532\n00:29:38.050 --> 00:29:43.995\nAnd then I'm gonna add 4, and I'm not\ngonna add 2 or 1 because they have zeroes.\n\n533\n00:29:43.995 --> 00:29:44.665\nRight?\n\n534\n00:29:44.665 --> 00:29:48.795\nAnd if I add all that up, I'll get\nthe number that's represented here.\n\n535\n00:29:48.795 --> 00:29:51.215\nAnd now I get to try and\ndo that in my head really quick.\n\n536\n00:29:51.215 --> 00:29:51.725\n>> 172.\n\n537\n00:29:51.725 --> 00:29:52.315\n>> Thank you, Ronnie.\n\n538\n00:29:52.315 --> 00:29:53.705\nYou saved my bacon.\n\n539\n00:29:53.705 --> 00:29:54.665\nAll right, 172.\n\n540\n00:29:54.665 --> 00:29:57.405\nFast math is not my strong point.\n\n541\n00:29:57.405 --> 00:29:58.555\nSo those add up to 172.\n\n542\n00:29:58.555 --> 00:30:02.585\nSo the number that I just made up off\nof the top of my head, that I mean,\n\n543\n00:30:02.585 --> 00:30:06.430\nI just made it up,\nwell that corresponds to 172.\n\n544\n00:30:08.100 --> 00:30:09.930\nTo us, we see 172.\n\n545\n00:30:09.930 --> 00:30:12.780\nThat's a number that as human\nbeings we can grasp pretty easily.\n\n546\n00:30:12.780 --> 00:30:15.790\nBut to a computer it sees 10101100.\n\n547\n00:30:15.790 --> 00:30:18.970\nThat's eight bits and\n\n548\n00:30:18.970 --> 00:30:23.450\nthat eight-bit octet is what makes\nup this number in the IP address.\n\n549\n00:30:23.450 --> 00:30:28.630\nSo when you write an IP address,\nyou're writing this number here,\n\n550\n00:30:28.630 --> 00:30:32.760\nthat actually corresponds to\nfour eight-bit numbers and\n\n551\n00:30:32.760 --> 00:30:35.310\nif you add that together you\nget 32 bits all together.\n\n552\n00:30:35.310 --> 00:30:39.703\nIPv4 uses a 32-bit addressing format,\n\n553\n00:30:39.703 --> 00:30:44.760\nand it's those 32 bits\nthat sets our limit.\n\n554\n00:30:44.760 --> 00:30:48.630\nThat's why we can only have\n4.3 billion IP addresses,\n\n555\n00:30:48.630 --> 00:30:53.450\nbecause with a 32-bit number you can\nonly represent 4.3 billion numbers.\n\n556\n00:30:53.450 --> 00:30:54.260\nAnd that's where our limit is.\n\n557\n00:30:54.260 --> 00:30:58.340\nAnd there's no way to fix that other\nthan going to a higher bit number.\n\n558\n00:30:58.340 --> 00:31:01.667\nIPv6 uses a 128-bit number,\nsignficantly larger.\n\n559\n00:31:01.667 --> 00:31:04.440\nThat's why its address space is massive.\n\n560\n00:31:04.440 --> 00:31:05.920\nWe'll talk about it in the IPv6 episodes.\n\n561\n00:31:06.990 --> 00:31:11.770\nBut basically this number that we're\nseeing here looks pretty simple to us, but\n\n562\n00:31:11.770 --> 00:31:14.740\nto the computer,\nit's actually a string of 32 bits and\n\n563\n00:31:14.740 --> 00:31:16.730\nthe subnet mask gets applied to that.\n\n564\n00:31:16.730 --> 00:31:20.050\nI wanna show you guys some examples of\nthat, and then show you how this all gets\n\n565\n00:31:20.050 --> 00:31:22.740\nused in a computer, but I know I'm\nrunning out of time on this episode.\n\n566\n00:31:22.740 --> 00:31:23.910\nSo we need to tackle that.\n\n567\n00:31:23.910 --> 00:31:26.960\nBut I wanted to make sure you guys had\na basic idea of how the IPv4 address\n\n568\n00:31:26.960 --> 00:31:29.496\nis structured and\nwhere these numbers come from.\n\n569\n00:31:29.496 --> 00:31:30.440\nNo, they're not just made up,\n\n570\n00:31:30.440 --> 00:31:33.390\nthey're not things that we just\nthought of because we were bored.\n\n571\n00:31:33.390 --> 00:31:37.450\nThese are numbers that actually have\na meaning and it's kind of important.\n\n572\n00:31:37.450 --> 00:31:41.000\nYou know, the one I didn't point out,\nlet me just tackle this real quick,\n\n573\n00:31:41.000 --> 00:31:42.150\nis the 255s.\n\n574\n00:31:42.150 --> 00:31:45.670\n255 is eight ones, right?\n\n575\n00:31:45.670 --> 00:31:47.230\nZero is eight zeroes.\n\n576\n00:31:47.230 --> 00:31:49.070\n255 is eight ones.\n\n577\n00:31:49.070 --> 00:31:53.360\nSo that's the highest number you can\nrepresent inside of one of these octets.\n\n578\n00:31:53.360 --> 00:31:55.875\nSo your octets will always\nbe between zero and 255.\n\n579\n00:31:55.875 --> 00:32:00.885\nIf you ever see an IP address and\nsomebody's written 300.whatever,\n\n580\n00:32:00.885 --> 00:32:03.245\nthat's not a valid address cuz\nyou can't do it in 8 bits.\n\n581\n00:32:03.245 --> 00:32:05.725\nIt's always something that fits in 8 bits,\nand\n\n582\n00:32:05.725 --> 00:32:07.785\nthat's another kind of constraint\non what those numbers are.\n\n583\n00:32:08.935 --> 00:32:10.155\nAll right.\nWell, Ronnie, why don't we do this?\n\n584\n00:32:10.155 --> 00:32:11.205\nWhy don't we stop here.\n\n585\n00:32:11.205 --> 00:32:14.500\nAnd we've seen the basics\nof an IP address.\n\n586\n00:32:14.500 --> 00:32:17.380\nLet's come back in a part two, and\nin part two what I want to do is\n\n587\n00:32:17.380 --> 00:32:20.270\nshow you guys putting this in practice,\nactually using it.\n\n588\n00:32:20.270 --> 00:32:24.420\nAnd so we'll whip up a couple of different\naddresses and take a look at how those\n\n589\n00:32:24.420 --> 00:32:28.118\nsubnet masks apply, and then I want to\nshow you how routers get involved in this.\n\n590\n00:32:28.118 --> 00:32:31.200\nAnd we'll kinda run through the process\nof how a packet gets routed through our\n\n591\n00:32:31.200 --> 00:32:33.390\nsystems as it moves from\npoint A to point B.\n\n592\n00:32:33.390 --> 00:32:35.996\nSo, that'll all be good\nstuff to see in part two.\n\n593\n00:32:35.996 --> 00:32:38.150\n>> All right.\nWell, that's a great reminder for\n\n594\n00:32:38.150 --> 00:32:42.790\nus to actually think about a couple of\nthings as we get ready for the CCENT exam.\n\n595\n00:32:42.790 --> 00:32:45.660\n>> One, you do need to know the binary.\n\n596\n00:32:45.660 --> 00:32:49.430\nThe very fact is you may just be\nasked simple questions on conversion,\n\n597\n00:32:49.430 --> 00:32:50.160\nbut overall,\n\n598\n00:32:50.160 --> 00:32:53.660\nyou've got to learn this binary system\nif you're gonna get through the exam.\n\n599\n00:32:53.660 --> 00:32:55.390\nSpeed and accuracy is the key.\n\n600\n00:32:55.390 --> 00:32:57.950\nDo not wait till the day of the exam or\nthe day before the exam and\n\n601\n00:32:57.950 --> 00:33:00.590\ngo, I should've memorized that.\n\n602\n00:33:00.590 --> 00:33:02.465\nBecause you're not gonna\nactually want to do that.\n\n603\n00:33:02.465 --> 00:33:04.580\n>> [LAUGH]\n>> So practice now, so go ahead and\n\n604\n00:33:04.580 --> 00:33:05.720\nget to practicing.\n\n605\n00:33:05.720 --> 00:33:07.690\nAnd remember,\nlimit yourself to those eight bits,\n\n606\n00:33:07.690 --> 00:33:09.900\nmake sure you get that\nnotion down as well.\n\n607\n00:33:09.900 --> 00:33:14.480\nAnd of course, then the basic fundamentals\nof the IP version four address,\n\n608\n00:33:14.480 --> 00:33:16.570\nthe network portion, and the host portion.\n\n609\n00:33:16.570 --> 00:33:19.830\nBe able to actually identify\nhow you actually do see\n\n610\n00:33:19.830 --> 00:33:22.040\neach of those portions\nin the address as well.\n\n611\n00:33:22.040 --> 00:33:25.360\nWe've got a lot more to go in\npracticing now, actually where\n\n612\n00:33:25.360 --> 00:33:28.610\nthose addresses are going to go, so\nwe're gonna save that for our part two.\n\n613\n00:33:28.610 --> 00:33:32.090\nJust like Don said, great place for\nus to sign off right now.\n\n614\n00:33:32.090 --> 00:33:34.790\nFor ITProTV, I've been your host,\nRonnie Wong.\n\n615\n00:33:34.790 --> 00:33:35.710\n>> And I'm Don Pezet.\n\n616\n00:33:35.710 --> 00:33:38.623\n>> Stay tuned right here for\nmore CCENT content.\n\n617\n00:33:38.623 --> 00:33:47.850\n[MUSIC]\n\n",
          "vimeoId": "173779143"
        },
        {
          "description": "In this episode, Ronnie and Don continue to help us to understand how IP addresses are used in delivering data.  They show the data delivery process using IP addresses and MAC addresses.  They guys take the time to review how to identify ip addresses that are on the same network too.   At the end they mention that Private IP addresses and their ranges that are used internally and not on the internet to help provide the number of IP addresses that companies may use without having to register the addresses with the IANA.",
          "length": "2411",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-4-2-understanding_ipv4_pt.2-070616-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-4-2-understanding_ipv4_pt.2-070616-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-4-2-understanding_ipv4_pt.2-070616-1-sm.jpg",
          "title": "Understanding IPv4 Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.168 --> 00:00:10.168\n[MUSIC]\n\n2\n00:00:12.433 --> 00:00:12.933\nWelcome to another great\nepisode right here on ITProTV.\n\n3\n00:00:15.750 --> 00:00:21.000\nI'm your host Ronnie Wong and today we're\ntaking a look at Cisco CCENT content.\n\n4\n00:00:21.000 --> 00:00:22.821\nGetting ready for that exam, and\n\n5\n00:00:22.821 --> 00:00:26.147\nwe're specifically going back\ninto understanding IPv4.\n\n6\n00:00:26.147 --> 00:00:26.848\nThere was so\n\n7\n00:00:26.848 --> 00:00:31.209\nmuch content in our first episode that\nwe needed a second episode as well.\n\n8\n00:00:31.209 --> 00:00:35.243\nAnd back with us in our studio today is\ngonna be Don Pezet helping us to fill out\n\n9\n00:00:35.243 --> 00:00:36.832\nthe idea of the theoretical.\n\n10\n00:00:36.832 --> 00:00:39.260\nAnd going into the practical\ngap of some of these things.\n\n11\n00:00:39.260 --> 00:00:40.330\nSo thank you for being here, Don.\n\n12\n00:00:40.330 --> 00:00:41.930\n>> Thanks for having me back, Ronnie.\n\n13\n00:00:41.930 --> 00:00:44.720\nYeah, one of the things I wanted to double\nback on was to make sure that we covered\n\n14\n00:00:44.720 --> 00:00:48.488\nexactly how these IP addresses and\nsubnet masks are mixing together, right?\n\n15\n00:00:48.488 --> 00:00:51.190\nAnd you're gonna see more of it if you\ngo on to CNC routing and switching.\n\n16\n00:00:51.190 --> 00:00:54.140\nBut at this level we need to make sure we\nunderstand what those masks are doing.\n\n17\n00:00:54.140 --> 00:00:55.690\nAnd so\nwe're going to run through some examples.\n\n18\n00:00:55.690 --> 00:00:58.420\nI want to show you how routers are going\n\n19\n00:00:58.420 --> 00:01:01.770\nto deal with this traffic when they see it\nand why it's so important for us to know.\n\n20\n00:01:01.770 --> 00:01:04.530\nSo let's just start off with\na basic example, right?\n\n21\n00:01:04.530 --> 00:01:07.110\nAn example of a couple of\ndifferent IP addresses\n\n22\n00:01:07.110 --> 00:01:09.290\nthat are trying to talk on the network.\n\n23\n00:01:09.290 --> 00:01:12.220\nAnd we'll do some decimal\nto binary conversions and\n\n24\n00:01:12.220 --> 00:01:13.878\nget a kinda chance to see that.\n\n25\n00:01:13.878 --> 00:01:16.110\nI'll try and pick some easier numbers so\nI can do them in my head.\n\n26\n00:01:16.110 --> 00:01:20.016\nIt's hard sometimes to do binary\nconversions if you pick the numbers that\n\n27\n00:01:20.016 --> 00:01:20.903\nare difficult.\n\n28\n00:01:20.903 --> 00:01:24.770\nSo let's just run through\na few examples here.\n\n29\n00:01:24.770 --> 00:01:29.770\nLet's say that I've got three machines\non my network and I want to determine\n\n30\n00:01:29.770 --> 00:01:33.670\nif they're able to communicate to each\nother with a router or without a router?\n\n31\n00:01:33.670 --> 00:01:35.278\nAre they on the same subnet?\n\n32\n00:01:35.278 --> 00:01:36.520\nAnd how does a router see this?\n\n33\n00:01:36.520 --> 00:01:37.384\nRight.\n\n34\n00:01:37.384 --> 00:01:39.695\nSo let's throw a few\nIP's here on the screen.\n\n35\n00:01:39.695 --> 00:01:46.798\nSo I'm going to punch in,\nlet's say we've got 196.168.0.200.\n\n36\n00:01:46.798 --> 00:01:52.092\n192.168.0.37 and\n\n37\n00:01:52.092 --> 00:01:57.584\n192.168.1.128.\n\n38\n00:01:57.584 --> 00:01:59.930\nOkay, so those are three IP addresses.\n\n39\n00:01:59.930 --> 00:02:02.156\nI've got three machines\nat those addresses.\n\n40\n00:02:02.156 --> 00:02:08.534\nAnd on my networks,\nI'm using a 255.255.255.0 subnet mask.\n\n41\n00:02:08.534 --> 00:02:09.152\nOkay.\n\n42\n00:02:09.152 --> 00:02:14.783\nSo, assuming that I've got these three\nmachines with that subnet mask in place.\n\n43\n00:02:14.783 --> 00:02:17.919\nAre they able to talk to each other\nwithout going through a router or\n\n44\n00:02:17.919 --> 00:02:19.810\nare they going to need a router?\n\n45\n00:02:19.810 --> 00:02:23.864\nNow, visually you should already\nbe able to answer this, right?\n\n46\n00:02:23.864 --> 00:02:26.540\nBecause 255.255.255,\n\n47\n00:02:26.540 --> 00:02:31.553\nthat's telling me the first three\noctets are part of the network ID.\n\n48\n00:02:31.553 --> 00:02:33.886\nAnd for\ntwo computers to talk without a router,\n\n49\n00:02:33.886 --> 00:02:35.645\nthey need to be on the same network.\n\n50\n00:02:35.645 --> 00:02:42.074\nSo if I look at these first two,\n192.168.0, they match.\n\n51\n00:02:42.074 --> 00:02:45.360\nThey're on the same network, they can\ntalk without going through a router.\n\n52\n00:02:45.360 --> 00:02:50.190\nBut if I go down to this next guy,\n192.168.1, there's a difference.\n\n53\n00:02:50.190 --> 00:02:51.440\nSo difference,\n\n54\n00:02:51.440 --> 00:02:54.820\nthey're not gonna be able to talk to each\nother without going through a router.\n\n55\n00:02:54.820 --> 00:02:57.725\nSo, it's pretty easy\nto visually spot this,\n\n56\n00:02:57.725 --> 00:03:00.708\nas long as we're using\nstandard subnet masks.\n\n57\n00:03:00.708 --> 00:03:03.183\nWhen you apply this in a more\ncomplex manner though,\n\n58\n00:03:03.183 --> 00:03:04.881\nusing a variable like subnet mask.\n\n59\n00:03:04.881 --> 00:03:07.809\nIt becomes very difficult, and\nyou can't visually determine it any more.\n\n60\n00:03:07.809 --> 00:03:10.059\nSo let me show you what the computer\nis doing on the back end,\n\n61\n00:03:10.059 --> 00:03:12.230\nto make sure that it\ndoesn't make a mistake.\n\n62\n00:03:12.230 --> 00:03:16.610\nThe first thing that it does,\nis it converts this number from decimal\n\n63\n00:03:16.610 --> 00:03:19.940\ninto binary,\nbecause that's what it's going to use.\n\n64\n00:03:19.940 --> 00:03:22.890\nFortunately, all three of\nmine start with 192.168, so\n\n65\n00:03:22.890 --> 00:03:25.890\nthat makes life a little easier for me.\n\n66\n00:03:25.890 --> 00:03:29.590\nSo when I convert these, I'm gonna go back\nup to my little placeholder chart, and\n\n67\n00:03:29.590 --> 00:03:30.330\nget this converted.\n\n68\n00:03:30.330 --> 00:03:31.930\nNow just a quick tip here.\n\n69\n00:03:31.930 --> 00:03:34.655\nOn the exam, when you go and\nsit down to take the exam,\n\n70\n00:03:34.655 --> 00:03:38.244\nthey're gonna give you some dry erase\nboards or some pieces of paper.\n\n71\n00:03:38.244 --> 00:03:40.075\nThey're blank, absolutely nothing on them.\n\n72\n00:03:40.075 --> 00:03:43.693\nAnd when you sit down to take the exam you\ncan write things on there to help you with\n\n73\n00:03:43.693 --> 00:03:44.760\nyour problems.\n\n74\n00:03:44.760 --> 00:03:49.447\nOne of the first things I do is write\nthese numbers across the top of my board.\n\n75\n00:03:49.447 --> 00:03:54.369\n128, 64, 32 and that way anytime I\nneed to do a binary conversion I can\n\n76\n00:03:54.369 --> 00:03:56.588\njust jump right to this and use it.\n\n77\n00:03:56.588 --> 00:03:59.630\nAnd it saves me a little bit of time,\nhelps me with those conversions.\n\n78\n00:03:59.630 --> 00:04:05.460\nSo if I'm trying to convert 192, we're\ngonna need to do a little math here, okay.\n\n79\n00:04:05.460 --> 00:04:08.140\n192, is it bigger than 128?\n\n80\n00:04:08.140 --> 00:04:09.950\nYes, so I know I'm gonna need 128.\n\n81\n00:04:09.950 --> 00:04:12.794\nAnd now I need to start\nthinking about my math, right.\n\n82\n00:04:12.794 --> 00:04:17.621\nSo I've got 192-128, all right.\n\n83\n00:04:17.621 --> 00:04:19.407\nAnd what does that equal?\n\n84\n00:04:19.407 --> 00:04:20.152\n>> 64.\n\n85\n00:04:20.152 --> 00:04:22.150\n>> 64, perfect,\nthis is gonna be an easy one.\n\n86\n00:04:22.150 --> 00:04:23.986\nAnd then the next number is 64.\n\n87\n00:04:23.986 --> 00:04:26.176\nIs 64 bigger than 64?\n\n88\n00:04:26.176 --> 00:04:28.660\nRight, well I guess I should say bigger or\nequal to, right.\n\n89\n00:04:28.660 --> 00:04:31.712\nSo it is equal, that's exactly right,\nI want that one.\n\n90\n00:04:31.712 --> 00:04:36.130\nSo now I say 64-64=0.\n\n91\n00:04:36.130 --> 00:04:40.221\nAnd then is 0 greater than or\nequal to well, any of these other numbers?\n\n92\n00:04:40.221 --> 00:04:41.217\nNo.\n\n93\n00:04:41.217 --> 00:04:42.684\nSo I'm not, oops [LAUGH],\n\n94\n00:04:42.684 --> 00:04:47.239\nI'm not going to need any of these other\nguys if I can keep my mouse under control.\n\n95\n00:04:47.239 --> 00:04:48.476\nSo I can zero them out.\n\n96\n00:04:48.476 --> 00:04:55.124\nSo 192 written in binary is\ngonna be 11000000, right?\n\n97\n00:04:55.124 --> 00:04:58.172\nThat's 192 written in binary.\n\n98\n00:04:58.172 --> 00:05:02.282\nSo, I can jump down here to my\nnumbers that I'm converting and\n\n99\n00:05:02.282 --> 00:05:05.060\neach one of them starts with that 192.\n\n100\n00:05:05.060 --> 00:05:07.770\nSo, I'm gonna pop that out there and\n\n101\n00:05:07.770 --> 00:05:11.030\nI'll just throw a little\ndecimal on the end of each one.\n\n102\n00:05:11.030 --> 00:05:12.552\nOkay, now when we see\nit there's a decimal,\n\n103\n00:05:12.552 --> 00:05:14.996\nwhen the computer sees it it actually\ndoesn't put the decimal in there,\n\n104\n00:05:14.996 --> 00:05:15.691\nit leaves them out.\n\n105\n00:05:15.691 --> 00:05:19.543\nBecause it doesn't care, it knows every\neight is the end of the number, but for\n\n106\n00:05:19.543 --> 00:05:20.357\nus we have them.\n\n107\n00:05:20.357 --> 00:05:21.646\nMy next number is 168, so\n\n108\n00:05:21.646 --> 00:05:25.330\nI'm gonna basically repeat that same\nprocess that we just went through.\n\n109\n00:05:25.330 --> 00:05:28.530\nSo I'm gonna clear out these numbers,\nand we'll start it again.\n\n110\n00:05:28.530 --> 00:05:30.890\nSo 168, is it bigger than 128?\n\n111\n00:05:30.890 --> 00:05:31.554\nYes.\n\n112\n00:05:31.554 --> 00:05:38.181\nAnd so I need 168-128 which equals 40.\n\n113\n00:05:38.181 --> 00:05:39.360\nIs 40 greater than or equal to 64?\n\n114\n00:05:39.360 --> 00:05:42.150\nNo, so I'll throw in a 0.\n\n115\n00:05:42.150 --> 00:05:44.730\nIs 40 greater than or equal to 32?\n\n116\n00:05:44.730 --> 00:05:45.380\nYes.\n\n117\n00:05:45.380 --> 00:05:47.036\nSo I'll throw in a 1, right?\n\n118\n00:05:47.036 --> 00:05:49.264\n40-32=8.\n\n119\n00:05:49.264 --> 00:05:51.819\nIs 8 greater than or equal to 16?\n\n120\n00:05:51.819 --> 00:05:52.816\nNo.\n\n121\n00:05:52.816 --> 00:05:54.883\nIs 8 greater than or equal to 8?\n\n122\n00:05:54.883 --> 00:05:56.075\nYes.\n\n123\n00:05:56.075 --> 00:06:00.117\nSo I'll subtract out 8, and\nwe're left with nothing.\n\n124\n00:06:00.117 --> 00:06:03.467\nSo now I can zero out everything else.\n\n125\n00:06:03.467 --> 00:06:10.091\nSo 168 written in binary is 101011000.\n\n126\n00:06:10.091 --> 00:06:11.494\nThat's it in binary.\n\n127\n00:06:11.494 --> 00:06:12.916\nNow, I know what you're thinking,\nin real lifeline,\n\n128\n00:06:12.916 --> 00:06:13.925\nyou're never going to have to do this.\n\n129\n00:06:13.925 --> 00:06:14.751\nAnd that's true.\n\n130\n00:06:14.751 --> 00:06:16.832\n>> [LAUGH]\n>> But on the exam you will so\n\n131\n00:06:16.832 --> 00:06:18.302\nmake sure you know how to do this.\n\n132\n00:06:18.302 --> 00:06:21.480\nAt least until after you pass the exam,\nthen you can forget it all.\n\n133\n00:06:21.480 --> 00:06:24.779\nAnd you can use the subnet calculators on\nthe internet, like everybody else does.\n\n134\n00:06:24.779 --> 00:06:27.375\n>> [LAUGH]\n>> For these guys that all have 168 for\n\n135\n00:06:27.375 --> 00:06:29.990\nthe next value,\nthat's what I'm gonna throw in here.\n\n136\n00:06:29.990 --> 00:06:31.170\nSo I'm gonna pop that in.\n\n137\n00:06:31.170 --> 00:06:33.583\nThat's 168 for each of those guys.\n\n138\n00:06:33.583 --> 00:06:34.693\nOkay.\n\n139\n00:06:34.693 --> 00:06:36.810\nNow, things get a little different.\n\n140\n00:06:36.810 --> 00:06:37.730\nI've got 0s.\n\n141\n00:06:37.730 --> 00:06:39.790\nI don't even have to go to\nthe calculator for that one, right?\n\n142\n00:06:39.790 --> 00:06:44.700\nI can just say a 0 is eight 0s.\n\n143\n00:06:44.700 --> 00:06:48.500\nRight, it's as simple\nas that since it's 0.\n\n144\n00:06:48.500 --> 00:06:52.190\nBut 1,\nthat's gonna require a little more effort.\n\n145\n00:06:52.190 --> 00:06:55.060\nSo I can come up here but\n1 matches 1 right here.\n\n146\n00:06:55.060 --> 00:06:57.200\nSo again, I don't really need to\nrun through the whole process,\n\n147\n00:06:57.200 --> 00:07:02.113\nI can just say that that's\ngoing to be .000001, okay?\n\n148\n00:07:02.113 --> 00:07:06.370\nSo we can get that punched in there,\nso there's that third octet.\n\n149\n00:07:06.370 --> 00:07:11.064\nAnd then the last part comes down to the\nfourth octet where I've got 200, 37, and\n\n150\n00:07:11.064 --> 00:07:11.591\n128.\n\n151\n00:07:11.591 --> 00:07:14.489\nSo I'm gonna need to convert these but\nlet's try and do it a little more quickly.\n\n152\n00:07:14.489 --> 00:07:15.807\nSee if we can do it in our heads, right?\n\n153\n00:07:15.807 --> 00:07:21.140\n200, I know I'm gonna need 128,\n200 minus 128 is what, 72?\n\n154\n00:07:21.140 --> 00:07:25.220\n72 is bigger than 64 so\nI know I'll need that, right?\n\n155\n00:07:25.220 --> 00:07:28.959\nAnd I know that 128 plus 64 is 192.\n\n156\n00:07:28.959 --> 00:07:31.933\n200 minus 192 is 8.\n\n157\n00:07:31.933 --> 00:07:36.210\nAnd so I've got 8 down here and so\nI know it's gonna be 11001, right?\n\n158\n00:07:36.210 --> 00:07:40.780\nAnd so I can come down and\nwrite this to help\n\n159\n00:07:40.780 --> 00:07:46.050\nme not forget, 11001 with all 0s for\nthe remainder.\n\n160\n00:07:46.050 --> 00:07:48.790\nAll right, so\nthat's 200 written in binary.\n\n161\n00:07:48.790 --> 00:07:52.822\nAny kind of short cut that you can come up\nwith you should take cuz remember the exam\n\n162\n00:07:52.822 --> 00:07:54.916\nis timed and you don't have a ton of time.\n\n163\n00:07:54.916 --> 00:07:58.120\nSo you need to get these answers\nin place as fast as you can.\n\n164\n00:07:58.120 --> 00:08:02.296\nConvert as little to binary as\nnecessary to solve a question.\n\n165\n00:08:02.296 --> 00:08:06.956\nThen I've got 37, which I can look\ndown line here, I've got 32, and\n\n166\n00:08:06.956 --> 00:08:11.780\nI know that after 32, actually here,\nlet's just kind of clear this out.\n\n167\n00:08:11.780 --> 00:08:14.610\nSo, after 32 I still have eight left,\nright?\n\n168\n00:08:14.610 --> 00:08:15.480\nSorry, I'm doing 37.\n\n169\n00:08:15.480 --> 00:08:19.280\nSo I have five left, so I know I'm gonna\nneed four, and I'm gonna need one.\n\n170\n00:08:19.280 --> 00:08:21.470\nSo this is gonna end up being 0,\n0, 1, 0, 0, 1, 0, 1.\n\n171\n00:08:21.470 --> 00:08:26.640\nSo we'll come in and punch that in.\n\n172\n00:08:26.640 --> 00:08:30.560\nAnd my head's gonna cover it up, so\nwe might need to get rid of my head.\n\n173\n00:08:30.560 --> 00:08:32.190\nAnd so I'm just gonna punch that in\n\n174\n00:08:33.340 --> 00:08:37.440\nwith a bunch of extra decimals cuz\nthat's the best way to go about that.\n\n175\n00:08:37.440 --> 00:08:38.500\nAnd then the last one is 128.\n\n176\n00:08:38.500 --> 00:08:41.320\nThat one's super easy, right,\nbecause I got 128 right here, so\n\n177\n00:08:41.320 --> 00:08:46.200\nI know that one's gonna be\n.1 followed by all 0's.\n\n178\n00:08:47.840 --> 00:08:50.740\nThe subnet mask is also going\nto be easy because of the 255.\n\n179\n00:08:50.740 --> 00:08:56.720\nIf I were to add all these numbers,\n128 plus 64 plus 32 plus 16.\n\n180\n00:08:56.720 --> 00:09:00.050\nThat's gonna add up to 255.\n\n181\n00:09:00.050 --> 00:09:03.570\nSo anywhere there's a 255, that's all 1s.\n\n182\n00:09:03.570 --> 00:09:05.490\nAnd then I've got the 0.\n\n183\n00:09:05.490 --> 00:09:08.250\nThere's the subnet mask\nconverted into binary.\n\n184\n00:09:08.250 --> 00:09:14.725\nSo with that done, I now have all of\nmy numbers converted in to binary.\n\n185\n00:09:14.725 --> 00:09:16.145\nAnd what do I see?\n\n186\n00:09:16.145 --> 00:09:21.365\nWell what I see is that the subnet\nmask has ones on one side and\n\n187\n00:09:21.365 --> 00:09:22.425\nzeros on the other.\n\n188\n00:09:22.425 --> 00:09:27.115\nA subnet mask will always have ones\non the left, zeros on the right.\n\n189\n00:09:27.115 --> 00:09:27.905\nNo mixing.\n\n190\n00:09:27.905 --> 00:09:30.785\nRight.\nSubnet masks can not mix ones and zeros.\n\n191\n00:09:30.785 --> 00:09:32.560\nI can't have zeros on the left.\n\n192\n00:09:32.560 --> 00:09:35.520\nAnd I can't have 1's and\nthen 0's and then 1's again.\n\n193\n00:09:35.520 --> 00:09:38.900\nA subnet mask is always 1's on\nthe left and always 0's on the right.\n\n194\n00:09:38.900 --> 00:09:44.780\nAnd the reason is, where the 1's stop,\nthat's the end of my network ID, right?\n\n195\n00:09:44.780 --> 00:09:49.080\nWhen a computer looks at this,\nthe computer's actually gonna get rid of\n\n196\n00:09:49.080 --> 00:09:52.190\nAll of these decimals,\nright, all the periods.\n\n197\n00:09:53.370 --> 00:09:54.990\nBecause the computer doesn't need those,\nright?\n\n198\n00:09:54.990 --> 00:09:57.160\nThose are there to help us as humans.\n\n199\n00:09:57.160 --> 00:10:00.400\nSo on a computer, it's gonna come in and\nit's gonna wipe those out.\n\n200\n00:10:00.400 --> 00:10:01.370\nLet me just get those out of there.\n\n201\n00:10:03.250 --> 00:10:06.890\nAnd so I'll make it look a little\nmore like what the computer sees.\n\n202\n00:10:06.890 --> 00:10:10.170\nIt's gonna look at those addresses,\nand it's gonna say, okay,\n\n203\n00:10:10.170 --> 00:10:14.240\nlet me follow the 1s, and where the 1s\nend, that's the end of the network.\n\n204\n00:10:14.240 --> 00:10:19.610\nAnd so basically it draws a box,\nwhich I'm having a hard time doing.\n\n205\n00:10:19.610 --> 00:10:23.300\nIt draws a box like this, and then it\nsays, okay, if I'm looking at these\n\n206\n00:10:23.300 --> 00:10:28.210\nnumbers, the network IDs have to match for\nthem to communicate.\n\n207\n00:10:28.210 --> 00:10:30.656\nAnd if you look at that third address,\nwhere's the difference?\n\n208\n00:10:30.656 --> 00:10:32.230\nIt's It's way down here at the very end.\n\n209\n00:10:32.230 --> 00:10:34.490\nIt's so close, right.\n\n210\n00:10:34.490 --> 00:10:36.620\nRight there we've got 24 bits.\n\n211\n00:10:36.620 --> 00:10:39.840\nAnd the first 23 bits all match, but\n\n212\n00:10:39.840 --> 00:10:43.450\nthat 24th bit is different, so\nit knows that on two different networks.\n\n213\n00:10:43.450 --> 00:10:45.490\nAnd since they're on different networks,\n\n214\n00:10:45.490 --> 00:10:48.810\nit's going to have to go\nthrough a router to get there.\n\n215\n00:10:48.810 --> 00:10:50.620\nIt can't go direct.\n\n216\n00:10:50.620 --> 00:10:54.090\nBut if they're the same,\nlike the first two, it can go direct.\n\n217\n00:10:54.090 --> 00:10:56.950\nSo that's what the routers\nare doing on the back end.\n\n218\n00:10:56.950 --> 00:11:00.280\nThat's what your PC, your laptop,\nyour desktop, your mobile devices,\n\n219\n00:11:00.280 --> 00:11:02.140\nthat's exactly what they're\ndoing on the back end.\n\n220\n00:11:02.140 --> 00:11:04.588\nIs converting them into binary,\nand looking for\n\n221\n00:11:04.588 --> 00:11:08.542\nwhere the ones of the subnet mask, stop\nand that's how it knows where it ends.\n\n222\n00:11:09.600 --> 00:11:11.380\nIn the old classful system,\nit didn't do that,\n\n223\n00:11:11.380 --> 00:11:13.590\nit just looked at the first number, right?\n\n224\n00:11:13.590 --> 00:11:18.610\nBut in the modern non-classful systems,\nit's just looking for\n\n225\n00:11:18.610 --> 00:11:19.880\nwhere the ones of the subnet mask stop.\n\n226\n00:11:20.900 --> 00:11:23.550\nAll right, so what happens on the backend?\n\n227\n00:11:23.550 --> 00:11:26.930\nWell, I've got a little\nworksheet that I've made.\n\n228\n00:11:26.930 --> 00:11:31.880\nThis is Microsoft Visio, and\nI wanted to show you guys what exactly\n\n229\n00:11:31.880 --> 00:11:36.550\nhappens When data comes from one\nsystem and goes out to another.\n\n230\n00:11:36.550 --> 00:11:42.270\nAll right, let's say that I've got two\nsystems right here on the same network.\n\n231\n00:11:42.270 --> 00:11:47.457\nSo I've got 192.168.0.100 and\nit's gonna be talking to 192.168.0.1.\n\n232\n00:11:47.457 --> 00:11:48.105\nAll right?\n\n233\n00:11:48.105 --> 00:11:49.580\nTwo hosts that are on the same network.\n\n234\n00:11:49.580 --> 00:11:52.769\nNow how do I know they're\non the same network?\n\n235\n00:11:52.769 --> 00:11:53.965\nSee that /24?\n\n236\n00:11:53.965 --> 00:11:57.410\n/24 that's subnet shorthand notation.\n\n237\n00:11:57.410 --> 00:11:59.130\nWhen we talked about subnet masks.\n\n238\n00:11:59.130 --> 00:12:02.620\nLet me go back to where I\nmention these guys right here.\n\n239\n00:12:02.620 --> 00:12:06.670\nThere's three real subnet masks that\nwe see used on a common base that\n\n240\n00:12:06.670 --> 00:12:11.100\nare considered standard subnet masks that\ncorrespond to the old class A, B and C.\n\n241\n00:12:11.100 --> 00:12:16.070\nAnd if I were to convert these\ninto binary, well, it's a lot less\n\n242\n00:12:16.070 --> 00:12:20.700\npainful than what we just went through,\nright, because it's mostly 255s and 0s.\n\n243\n00:12:20.700 --> 00:12:23.400\nOr I shouldn't say mostly.\n\n244\n00:12:23.400 --> 00:12:26.340\nIt's all 255s and\n0s is kinda the whole point.\n\n245\n00:12:26.340 --> 00:12:31.310\nSo if I were to convert these over,\nI'll see that\n\n246\n00:12:32.370 --> 00:12:38.190\nthey look something like this and\nlet me just lay these out.\n\n247\n00:12:38.190 --> 00:12:40.960\nAnd what you're gonna see is how those\n\n248\n00:12:40.960 --> 00:12:45.370\nones start creeping over a little\nfurther for each one, okay.\n\n249\n00:12:45.370 --> 00:12:47.010\nAnd remember that these are octets.\n\n250\n00:12:47.010 --> 00:12:49.000\nThere's eight bits in each number.\n\n251\n00:12:49.000 --> 00:12:50.180\nSo, when I've got 255.0.0.0,\n\n252\n00:12:50.180 --> 00:12:54.340\nthere's eight bits right here\nthat are part of the network ID.\n\n253\n00:12:54.340 --> 00:13:00.730\nBut when I get to the Class B subnet mask\nright 255.255 now I've got two 8 bit\n\n254\n00:13:00.730 --> 00:13:06.940\noctets or 16 bits and here with the class\nC I've got three 8 bit octets or 24 bits.\n\n255\n00:13:07.995 --> 00:13:13.225\nSo there's subnet shorthand that\ninstead of writing it out like this,\n\n256\n00:13:13.225 --> 00:13:20.890\nyou could instead write it as a /8, a.\n\n257\n00:13:20.890 --> 00:13:25.800\nSlash 16 or a slash 24.\n\n258\n00:13:25.800 --> 00:13:29.540\nBasically saying there are eight ones.\n\n259\n00:13:29.540 --> 00:13:30.160\nOr 16 ones.\n\n260\n00:13:30.160 --> 00:13:31.610\nOr 24 ones in the subnet mask.\n\n261\n00:13:31.610 --> 00:13:34.220\nSo on the exam,\nyou could see it written either way.\n\n262\n00:13:34.220 --> 00:13:36.880\nThey might give you a subnet\nmask written this way.\n\n263\n00:13:36.880 --> 00:13:39.160\nOr they might say, yeah it's a /24.\n\n264\n00:13:39.160 --> 00:13:40.480\nOr it's a /8.\n\n265\n00:13:40.480 --> 00:13:42.540\nSo you need to make sure that\nyou understand what that is.\n\n266\n00:13:42.540 --> 00:13:45.770\nNow if I look at a /8 and I didn't know\nwhat it was, well what would I have to do?\n\n267\n00:13:45.770 --> 00:13:47.070\nI'd have to write it in binary.\n\n268\n00:13:47.070 --> 00:13:49.800\nI'd write eight ones, and\nthen it's a 32 bit address so\n\n269\n00:13:49.800 --> 00:13:51.230\neverything else would be a zero.\n\n270\n00:13:51.230 --> 00:13:54.240\nAnd then I'd convert that back\ninto decimal, And get 255.0.0.0.\n\n271\n00:13:54.240 --> 00:13:55.940\nThat takes a long time.\n\n272\n00:13:55.940 --> 00:14:00.860\nDon't do it that way, just memorize it.\n\n273\n00:14:00.860 --> 00:14:03.939\nMemorize it that a /8 is 255.0.0.0.\n\n274\n00:14:03.939 --> 00:14:05.149\nA /16 is 255.255.0.0.\n\n275\n00:14:05.149 --> 00:14:06.640\nAnd a /24 is 255.255.255.0.\n\n276\n00:14:06.640 --> 00:14:11.440\nAll right, but once we've got that,\n\n277\n00:14:12.660 --> 00:14:18.230\nnow we can go in and we can start to\nuse these in a more practical sense.\n\n278\n00:14:18.230 --> 00:14:22.010\nSo with the router it looks at this and\nit says these are /24s so\n\n279\n00:14:22.010 --> 00:14:23.960\nthe first 3 octets have to match.\n\n280\n00:14:23.960 --> 00:14:24.690\n255, 255, 255, 0.\nI'm 192.168.0 and this\n\n281\n00:14:24.690 --> 00:14:25.410\nrouter is 192.168.0.\n\n282\n00:14:25.410 --> 00:14:29.200\nSo when it goes to build the data,\n\n283\n00:14:29.200 --> 00:14:33.740\nremember the OSI model?\n\n284\n00:14:33.740 --> 00:14:38.500\nAs we go down the OSI model, I'm in\nsome application up at layer seven and\n\n285\n00:14:38.500 --> 00:14:41.080\nthen I go down to layer six,\nlayer five, layer four.\n\n286\n00:14:41.080 --> 00:14:42.580\nI get to layer three.\n\n287\n00:14:42.580 --> 00:14:45.950\nAt layer three,\nI put in the source IP address.\n\n288\n00:14:45.950 --> 00:14:46.866\nThis is coming from me.\n\n289\n00:14:46.866 --> 00:14:48.390\nI'm 192.168.0.100.\n\n290\n00:14:48.390 --> 00:14:53.450\nSo, for the source IP address,\nwe have to put that in, right.\n\n291\n00:14:53.450 --> 00:14:55.140\nAnd so we put in 192.168.0.100.\n\n292\n00:14:55.140 --> 00:14:59.180\nThat's where this traffic is coming from.\n\n293\n00:14:59.180 --> 00:15:01.510\nAnd then the destination,\nwhere is it going to?\n\n294\n00:15:01.510 --> 00:15:04.990\nWell, it's going to 192.168.0.1.\n\n295\n00:15:04.990 --> 00:15:08.410\nIt's coming from me, and\nit's going to the router.\n\n296\n00:15:09.550 --> 00:15:11.570\nAnd then the source MAC address.\n\n297\n00:15:11.570 --> 00:15:12.120\nRight?\n\n298\n00:15:12.120 --> 00:15:13.630\nWho am I?\nWhat's my MAC address?\n\n299\n00:15:13.630 --> 00:15:14.560\nIt's gonna put that in there.\n\n300\n00:15:14.560 --> 00:15:16.970\nNow, I don't know my MAC address,\nI need to find it.\n\n301\n00:15:16.970 --> 00:15:20.030\nI don't know if the,\ndoes the Network Utility show me that?\n\n302\n00:15:21.560 --> 00:15:24.560\nOne of these programs actually shows\nme the hardware idea on my MAC.\n\n303\n00:15:24.560 --> 00:15:25.860\nI can do it from the command line, easy.\n\n304\n00:15:25.860 --> 00:15:26.750\nOf there is, all right.\n\n305\n00:15:26.750 --> 00:15:28.920\nSo here's my MAC address, right.\n\n306\n00:15:28.920 --> 00:15:32.850\nThe MAC address for\nmy network adaptor on my laptop.\n\n307\n00:15:32.850 --> 00:15:37.260\nAnd so I can go in here and\non the Layer 2 Header,\n\n308\n00:15:37.260 --> 00:15:40.870\nthat source MAC address\nis going to be my laptop.\n\n309\n00:15:40.870 --> 00:15:44.990\nNow Cisco doesn't normally write it\nthis way Microsoft writes it this way.\n\n310\n00:15:44.990 --> 00:15:46.080\nApple writes it this way.\n\n311\n00:15:46.080 --> 00:15:47.770\nMost of Unix distros write it this way.\n\n312\n00:15:47.770 --> 00:15:50.960\nActually, Microsoft sometimes does\nhyphens, they get a little squirrelly and\n\n313\n00:15:50.960 --> 00:15:53.480\ndecide that they want to use\nhyphens instead of colons.\n\n314\n00:15:53.480 --> 00:15:55.233\nSo you can see it written that way too.\n\n315\n00:15:55.233 --> 00:15:58.780\nIt's like every vendor wants to\nrepresent it a little differently.\n\n316\n00:15:58.780 --> 00:16:00.181\nCisco is no exception.\n\n317\n00:16:00.181 --> 00:16:04.835\nWhat they normally do is write it as four\nnumbers And a period for, I say numbers,\n\n318\n00:16:04.835 --> 00:16:07.377\nnumbers or letters cuz it's hexadecimal.\n\n319\n00:16:07.377 --> 00:16:09.770\nSo they normally write it in this style,\nokay?\n\n320\n00:16:09.770 --> 00:16:11.750\nSo that's my MAC address.\n\n321\n00:16:12.840 --> 00:16:16.810\nAnd then it's gotta put the MAC\naddress of who we're about to talk to.\n\n322\n00:16:16.810 --> 00:16:20.140\nAnd we're on the same network\nas that Router 1 and so\n\n323\n00:16:20.140 --> 00:16:23.960\nwe can just put their MAC address in\nthere, whatever it happens to be, okay.\n\n324\n00:16:23.960 --> 00:16:28.090\nSo that's happening all the time in\nthe background when you talk to another\n\n325\n00:16:28.090 --> 00:16:29.320\nhost, right?\n\n326\n00:16:29.320 --> 00:16:31.900\nLet me show you in a real world example.\n\n327\n00:16:31.900 --> 00:16:35.240\nI'm gonna pull up a terminal\nhere on my laptop, okay.\n\n328\n00:16:35.240 --> 00:16:40.842\nSo my laptop, I've got more network\nadapters than I really should,\n\n329\n00:16:40.842 --> 00:16:45.488\nbut this is me right here, 10.1.230.195.\n\n330\n00:16:45.488 --> 00:16:48.853\nOkay, so that's my IP address and\nyou can see my MAC address right there, so\n\n331\n00:16:48.853 --> 00:16:51.170\nthat's the information on my laptop.\n\n332\n00:16:51.170 --> 00:16:55.485\nIf I wanna talk to somebody else on\nthe 10.1.230 network, I can, right.\n\n333\n00:16:55.485 --> 00:16:58.588\nThe Layer 3 data will be IP addresses.\n\n334\n00:16:58.588 --> 00:17:00.720\nThe Layer 2 data will be\ntheir MAC address, so\n\n335\n00:17:00.720 --> 00:17:04.220\nI need to know the person's MAC\naddress that I wanna talk to.\n\n336\n00:17:04.220 --> 00:17:05.410\nSo let's say I wanted to talk to Ronnie.\n\n337\n00:17:05.410 --> 00:17:08.090\nRonnie, what was the IP of your device?\n\n338\n00:17:08.090 --> 00:17:12.522\nOr actually, we still have it\nin our show notes, don't we?\n\n339\n00:17:12.522 --> 00:17:14.685\n>> .21.\n>> .21, so if I wanted to talk to him,\n\n340\n00:17:14.685 --> 00:17:19.090\nokay, I can reach out to him and\nsay hey, what's your MAC address?\n\n341\n00:17:19.090 --> 00:17:22.330\nThe way it works is we use a protocol\ncalled ARP, address resolution protocol.\n\n342\n00:17:22.330 --> 00:17:27.685\nAnd with ARP you send out a broadcast, you\nsend out this big message to everyone and\n\n343\n00:17:27.685 --> 00:17:32.513\nyou say, hey, everybody,\nI'm looking for 10.1.230.21.\n\n344\n00:17:32.513 --> 00:17:33.468\nAre you out there?\n\n345\n00:17:33.468 --> 00:17:37.090\nIf you're out there,\nI need to know your MAC address, okay?\n\n346\n00:17:37.090 --> 00:17:39.250\nAnd then what's gonna happen\nis Ronnie will hear that.\n\n347\n00:17:39.250 --> 00:17:41.700\nHis laptop will hear that and\nrespond back and say, hey, that's me.\n\n348\n00:17:41.700 --> 00:17:43.540\nThat's me, there's my MAC address.\n\n349\n00:17:43.540 --> 00:17:46.070\nAnd we'll learn it, and\nwe'll add it to our ARP cache.\n\n350\n00:17:46.070 --> 00:17:47.650\nSo any time we go to talk,\n\n351\n00:17:47.650 --> 00:17:51.930\nwe're gonna look at our ARP cache first\nto see if we already know that person.\n\n352\n00:17:51.930 --> 00:17:56.060\nIf I'm gonna talk to Ronnie,\nhe's 10.1.230.21.\n\n353\n00:17:56.060 --> 00:18:00.240\nSo on my laptop, if I do an arp -a,\nit'll show me my ARP cache.\n\n354\n00:18:00.240 --> 00:18:04.360\nAnd I've talked to a lot of people\non the network, including Ronnie.\n\n355\n00:18:04.360 --> 00:18:06.150\nI've talked to him before.\n\n356\n00:18:06.150 --> 00:18:10.140\nAnd when I talked to him,\nI learned his MAC address right here, so\n\n357\n00:18:10.140 --> 00:18:15.840\nI already know his media access control\naddress, so that's the data that would go\n\n358\n00:18:15.840 --> 00:18:19.260\nin that communication if I was\ntalking to his laptop, right?\n\n359\n00:18:19.260 --> 00:18:23.165\nSo if I go back to my worksheet,\nto that destination MAC address,\n\n360\n00:18:23.165 --> 00:18:26.076\nI can now populate that\nbecause I know the value.\n\n361\n00:18:26.076 --> 00:18:28.919\n>> [LAUGH]\n>> Well, the formatting and\n\n362\n00:18:28.919 --> 00:18:33.680\neverything in on that end so\na little beyond what I wanted.\n\n363\n00:18:33.680 --> 00:18:36.730\nBut anyhow so we'll put in whatever\nhis address happens to be,\n\n364\n00:18:36.730 --> 00:18:39.890\nsomething like that.\n\n365\n00:18:39.890 --> 00:18:43.500\nAnd now I've got that destination\nMAC address in place, okay.\n\n366\n00:18:43.500 --> 00:18:48.800\nSo now my packet is formed and\nit's a packet when we're talking Layer 3.\n\n367\n00:18:48.800 --> 00:18:51.520\nBy the time we get down to Layer 2,\nit's now a frame.\n\n368\n00:18:51.520 --> 00:18:55.150\nAnd so my frame is now formed with\nthe proper Layer 2 and Layer 3 data, and\n\n369\n00:18:55.150 --> 00:18:56.540\nI can throw it on the network.\n\n370\n00:18:56.540 --> 00:18:59.440\nAnd it's gonna go on the network,\nand it's gonna reach that next host,\n\n371\n00:18:59.440 --> 00:19:02.710\nRonnie's laptop or whatever it is,\nand he's gonna look at it, and\n\n372\n00:19:02.710 --> 00:19:03.900\nhe's gonna look at the Layer 2 data.\n\n373\n00:19:03.900 --> 00:19:05.229\nIs it destined for me?\n\n374\n00:19:05.229 --> 00:19:08.210\nIn this case, it is, yeah,\nit's destined for Ronnie's laptop.\n\n375\n00:19:08.210 --> 00:19:12.380\nSo then it moves up to Layer 3,\nis the IP address for me?\n\n376\n00:19:12.380 --> 00:19:15.560\nAnd yes, it's his IP address and so\nthen it moves on up the OSI model.\n\n377\n00:19:16.860 --> 00:19:23.040\nBut what if I'm talking to somebody on\na completely different network, okay?\n\n378\n00:19:23.040 --> 00:19:24.145\nNow things get a little different.\n\n379\n00:19:24.145 --> 00:19:26.963\nLet me go back to my terminal, and\n\n380\n00:19:26.963 --> 00:19:32.812\nlet's say that I want to talk to\nsomebody out on the Internet, okay.\n\n381\n00:19:32.812 --> 00:19:36.342\nLet's do ITProTV, so\nI'm gonna ping itpro.tv.\n\n382\n00:19:36.342 --> 00:19:37.523\nThere we go.\n\n383\n00:19:37.523 --> 00:19:43.066\nOur server is 192.124.249.106.\n\n384\n00:19:43.066 --> 00:19:45.539\nThat's the IP address of our server.\n\n385\n00:19:45.539 --> 00:19:49.476\nAnd I just talked to it, right,\nbecause I was able to ping it.\n\n386\n00:19:49.476 --> 00:19:51.700\nSo I could ping it,\nI'm talking to that server.\n\n387\n00:19:51.700 --> 00:19:56.840\nNow if I do an arp -a and I look at my ARP\ncache, I just talked to that machine so\n\n388\n00:19:56.840 --> 00:19:57.930\nI should see it in here, shouldn't I?\n\n389\n00:19:59.260 --> 00:20:01.107\nNo, notice all the IPs in here.\n\n390\n00:20:01.107 --> 00:20:05.850\nSee how they're all 10.1.230s,\nevery one of them?\n\n391\n00:20:05.850 --> 00:20:07.910\nAnd I don't see that other address at all.\n\n392\n00:20:07.910 --> 00:20:11.495\nIn fact,\nI'll do a quick grep search for that.\n\n393\n00:20:11.495 --> 00:20:15.770\nI'm gonna search for that IP,\nand I'm getting nothing.\n\n394\n00:20:15.770 --> 00:20:16.977\n>> [LAUGH]\n>> All right,\n\n395\n00:20:16.977 --> 00:20:21.225\nthe reason is if somebody's on a different\nnetwork, I can't send out a broadcast.\n\n396\n00:20:21.225 --> 00:20:25.062\nI can't yell out to the whole world and\nsay, hey everybody!\n\n397\n00:20:25.062 --> 00:20:26.772\nI'm looking for this IP.\n\n398\n00:20:27.842 --> 00:20:30.842\nAnd then everybody in the world\nhas to ignore that except for\n\n399\n00:20:30.842 --> 00:20:33.772\nthe one person that's the right one and\nthey would answer back.\n\n400\n00:20:33.772 --> 00:20:34.612\nThat's not realistic.\n\n401\n00:20:34.612 --> 00:20:38.050\nOn a massive network like the Internet,\nwe can't do that.\n\n402\n00:20:38.050 --> 00:20:43.691\nSo instead I look at this\naddress 192.124.249.106,\n\n403\n00:20:43.691 --> 00:20:47.429\nand is that in the 10.1.230 network?\n\n404\n00:20:47.429 --> 00:20:51.830\nNo, so I've got to go through\na router to get there.\n\n405\n00:20:51.830 --> 00:20:56.520\nSo if I wanna get to that public address,\nI'm gonna have to go through a router.\n\n406\n00:20:56.520 --> 00:20:59.428\nSo let's go back to my example here and\nchange this a little bit.\n\n407\n00:20:59.428 --> 00:21:04.299\nLet's say that I'm on my PC and\nI wanna browse to, maybe I'll do\n\n408\n00:21:04.299 --> 00:21:09.455\na DNS lookups against Google's DNS\nserver or something like that.\n\n409\n00:21:09.455 --> 00:21:13.303\nSo let's change some of\nthese IPs way out here.\n\n410\n00:21:15.852 --> 00:21:19.660\nGoogle has a DNS server, 8.8.8.8, right?\n\n411\n00:21:19.660 --> 00:21:25.130\nSo way out there, we've got this 8.8.8.8\nDNS server that I wanna talk to, okay?\n\n412\n00:21:25.130 --> 00:21:28.860\nSo back here when I build my packet\nthe source IP is me, 192.168.0.100 and\n\n413\n00:21:28.860 --> 00:21:32.520\nI wanna talk to 8.8.8.8,\n\n414\n00:21:32.520 --> 00:21:37.750\nthat's who I wanna talk to, okay?\n\n415\n00:21:37.750 --> 00:21:42.060\nWell, my source MAC address,\nthat's me, but\n\n416\n00:21:42.060 --> 00:21:45.170\nmy destination MAC address, I can't\nreach out to Google and talk to them.\n\n417\n00:21:45.170 --> 00:21:46.800\nI can't say, hey,\nGoogle what's your MAC address?\n\n418\n00:21:46.800 --> 00:21:47.639\nThey're not going to tell me.\n\n419\n00:21:47.639 --> 00:21:51.660\nI don't want to go to Google anyway\nbecause they're on a different network.\n\n420\n00:21:51.660 --> 00:21:52.980\nI don't know how to get there.\n\n421\n00:21:52.980 --> 00:21:54.900\nI need to go to a router.\n\n422\n00:21:54.900 --> 00:21:58.910\nSo what I have is a packet that,\nI'll lay it here for you.\n\n423\n00:21:58.910 --> 00:22:04.390\nA packet that's destined for Google,\nbut I need it to go this router first.\n\n424\n00:22:04.390 --> 00:22:07.920\nAnd you can't have more than\none IP destination in a packet.\n\n425\n00:22:07.920 --> 00:22:09.180\nSo how do we do that?\n\n426\n00:22:09.180 --> 00:22:09.978\nWell, the answer is we don't.\n\n427\n00:22:09.978 --> 00:22:12.630\nAt Layer 3, the source and\n\n428\n00:22:12.630 --> 00:22:17.210\nthe destination are the end points of\nthe trip, the beginning and the end.\n\n429\n00:22:17.210 --> 00:22:18.160\nI'm the beginning.\n\n430\n00:22:18.160 --> 00:22:20.230\nGoogle server's the end.\n\n431\n00:22:20.230 --> 00:22:25.790\nThen at Layer 2, at the frame, here's\nwhere we put what we're actually doing.\n\n432\n00:22:25.790 --> 00:22:27.390\nThis is where the real work happens.\n\n433\n00:22:27.390 --> 00:22:31.460\nThe source MAC is me,\nthe destination MAC, I say look,\n\n434\n00:22:31.460 --> 00:22:34.570\nI need to go through my router, and\nso I'm gonna do a broadcast and\n\n435\n00:22:34.570 --> 00:22:40.410\nthis is gonna be whatever\nR1's MAC address will be, okay?\n\n436\n00:22:40.410 --> 00:22:44.090\nSo I'm gonna send that message out and\nit's gonna go to R1's MAC address.\n\n437\n00:22:44.090 --> 00:22:46.700\nThat's who I'm talking to, okay?\n\n438\n00:22:46.700 --> 00:22:50.150\nFor the whole rest of the journey,\nthat's not good.\n\n439\n00:22:50.150 --> 00:22:51.790\nThis is just the next hop.\n\n440\n00:22:51.790 --> 00:22:54.410\nLayer 2 represents\nthe next hop of the trip.\n\n441\n00:22:54.410 --> 00:22:57.090\nLayer 3 represents the whole journey.\n\n442\n00:22:57.090 --> 00:22:59.970\nBut now I can take this frame and\nthrow it on the network and\n\n443\n00:22:59.970 --> 00:23:02.437\nit's gonna cross the network\nover to Router 1.\n\n444\n00:23:02.437 --> 00:23:05.390\nAnd at Router 1, it's gonna receive it.\n\n445\n00:23:05.390 --> 00:23:08.670\nIt's gonna look at Layer 2 and\nit's gonna say, this is destined for me.\n\n446\n00:23:08.670 --> 00:23:10.070\nThis is my data.\n\n447\n00:23:10.070 --> 00:23:11.680\nAnd then it's gonna go up to Layer 3 and\nit's gonna say,\n\n448\n00:23:11.680 --> 00:23:14.810\nwait a minute, 8.8.8.8, that's not me.\n\n449\n00:23:14.810 --> 00:23:15.850\nI'm 192.168.0.1, that's not me.\n\n450\n00:23:15.850 --> 00:23:21.400\nAnd if this were a PC, if it were\na desktop, it would just throw it away.\n\n451\n00:23:21.400 --> 00:23:24.620\nBut it's router and\nit says, that's not me.\n\n452\n00:23:24.620 --> 00:23:28.010\nBut I know the way to get there,\nso let me help you out.\n\n453\n00:23:28.010 --> 00:23:31.350\nAnd now it gets ready to forward\nthat frame along somewhere else.\n\n454\n00:23:31.350 --> 00:23:32.560\nNow it's not really a frame any more.\n\n455\n00:23:32.560 --> 00:23:35.190\nIt's a packet while it's\ninside of the router.\n\n456\n00:23:35.190 --> 00:23:39.660\nAnd so the router's gonna have to rebuild\nthat as a new frame to send it along.\n\n457\n00:23:39.660 --> 00:23:40.948\nRouters are Layer 3 devices, so\n\n458\n00:23:40.948 --> 00:23:43.300\nwhen they work with this stuff\nthey're working at Layer 3.\n\n459\n00:23:43.300 --> 00:23:45.970\nThey're working at the packet level.\n\n460\n00:23:45.970 --> 00:23:49.670\nSo routers used to be called packet\nrouters cuz that was kinda what they did.\n\n461\n00:23:49.670 --> 00:23:51.049\nSwitches used to be called frame routers,\n\n462\n00:23:51.049 --> 00:23:53.558\nand they don't call them that any more\nbecause it's to stinking confusing.\n\n463\n00:23:53.558 --> 00:23:58.555\nBut now we still have the differentiation\nwhere on a router we're dealing with\n\n464\n00:23:58.555 --> 00:23:59.245\npackets.\n\n465\n00:23:59.245 --> 00:24:02.601\nSo It receives it and it says,\nyou're trying to get to 8.8.8.8,\n\n466\n00:24:02.601 --> 00:24:03.874\nI know how to get you there.\n\n467\n00:24:03.874 --> 00:24:07.638\nI'm not directly connected to it, but\nI know this other router over here,\n\n468\n00:24:07.638 --> 00:24:10.470\nrouter 2, and\nrouter 2 can get you to Google.\n\n469\n00:24:10.470 --> 00:24:14.900\nSo I'm gonna send that\npacket over to router 2.\n\n470\n00:24:14.900 --> 00:24:22.020\nNow when it does that at Layer 3,\nLayer 3 data is the trip, right?\n\n471\n00:24:22.020 --> 00:24:24.220\nThe beginning and the end of my trip.\n\n472\n00:24:24.220 --> 00:24:27.292\nAnd so the source IP,\nthat's gonna stay me, right?\n\n473\n00:24:27.292 --> 00:24:30.577\nIt's still gonna be 192.168.0.100.\n\n474\n00:24:30.577 --> 00:24:34.610\nThe destination IP,\nthat's gonna stay Google, right?\n\n475\n00:24:34.610 --> 00:24:39.050\nIn fact for this whole trip,\nthat's never going to change.\n\n476\n00:24:39.050 --> 00:24:39.970\nThe source and\n\n477\n00:24:39.970 --> 00:24:44.440\nthe destination IPs are always going\nto stay the same when we communicate,\n\n478\n00:24:44.440 --> 00:24:48.620\nbecause that's where we're going,\nthat's where we're trying to get to.\n\n479\n00:24:48.620 --> 00:24:54.530\nSo I need those both to be together,\nto be kind of part of this operation.\n\n480\n00:24:54.530 --> 00:24:57.553\nAnd so\nI can really go down the line here and\n\n481\n00:24:57.553 --> 00:25:02.300\njust kinda delete these\nother source IPs and\n\n482\n00:25:02.300 --> 00:25:06.680\ndestination IPs that are out here,\nand just paste that in.\n\n483\n00:25:06.680 --> 00:25:08.070\nCuz that's never gonna change.\n\n484\n00:25:08.070 --> 00:25:10.810\nThat is gonna be the same\nacross the whole journey.\n\n485\n00:25:10.810 --> 00:25:14.420\nAll right, but\nwhat is going to change is the next hop.\n\n486\n00:25:14.420 --> 00:25:17.660\nThe next hop is gonna change\nbased on where I'm at.\n\n487\n00:25:17.660 --> 00:25:22.650\nAnd up here router 1 going to router 2,\nwell it is a different network.\n\n488\n00:25:22.650 --> 00:25:24.950\nThat's the 192.168.5 network.\n\n489\n00:25:24.950 --> 00:25:28.500\nBut I don't care about that as much\nas I do the MAC address to get from\n\n490\n00:25:28.500 --> 00:25:31.380\nthis hop to this hop to cross that line.\n\n491\n00:25:31.380 --> 00:25:35.240\nSo when router 1 rebuilds the frame,\nbecause it had\n\n492\n00:25:35.240 --> 00:25:39.250\nto decode it down to a packet to work with\nit, so it stripped off layer two header.\n\n493\n00:25:39.250 --> 00:25:42.190\nWhen it goes to send it along it's\ngotta build a new Layer 2 header.\n\n494\n00:25:42.190 --> 00:25:47.870\nAnd for the source MAC address,\nit's gonna put its own MAC address, right.\n\n495\n00:25:47.870 --> 00:25:50.080\nCuz now the frame is coming from router 1.\n\n496\n00:25:50.080 --> 00:25:55.490\nAnd the destination is gonna be\nrouter 2's MAC address, right.\n\n497\n00:25:55.490 --> 00:25:59.080\nBecause the next hop is router 2.\n\n498\n00:25:59.080 --> 00:26:03.830\nThe source and destination IP are still\nthe same, but the next hop is router 2.\n\n499\n00:26:03.830 --> 00:26:06.640\nRouter 2 is going to receive that,\nand it's gonna say, okay,\n\n500\n00:26:06.640 --> 00:26:09.930\nthe MAC address is me, so at Layer 2,\nthis is mine, strips that off.\n\n501\n00:26:09.930 --> 00:26:14.780\nAt Layer 3, it looks at the IP, and it\nsays, that's not me, I'm not 8.8.8.8, but\n\n502\n00:26:14.780 --> 00:26:16.360\nI know how to get there.\n\n503\n00:26:16.360 --> 00:26:19.210\nAnd so it then rebuilds the frame.\n\n504\n00:26:19.210 --> 00:26:22.110\nThe source and\ndestination IP stay the same.\n\n505\n00:26:22.110 --> 00:26:24.070\nBut the MAC address has changed.\n\n506\n00:26:24.070 --> 00:26:27.680\nThe source MAC address become\nrouter 2's MAC address.\n\n507\n00:26:27.680 --> 00:26:29.580\nOkay, now, why do we change that?\n\n508\n00:26:29.580 --> 00:26:31.630\nWell, because whoever I'm talking\nto is gonna have to reply,\n\n509\n00:26:31.630 --> 00:26:33.720\nit's gonna have to come back, right?\n\n510\n00:26:33.720 --> 00:26:35.000\nAnd so\nthey need to know how to get back to me.\n\n511\n00:26:35.000 --> 00:26:37.460\nAnd that's why these MAC\naddresses have to change.\n\n512\n00:26:37.460 --> 00:26:40.390\nAnd the destination MAC address, well,\nrouter 2's not directly attached\n\n513\n00:26:40.390 --> 00:26:46.320\nto Google either, so they can't do it,\nthey're gonna put router 3's MAC address.\n\n514\n00:26:46.320 --> 00:26:46.970\nAll right.\n\n515\n00:26:46.970 --> 00:26:50.700\nAnd so then that frame is gonna hit\nthe wire, cross over to router 3, and\n\n516\n00:26:50.700 --> 00:26:52.190\nrouter 3 is gonna receive it.\n\n517\n00:26:52.190 --> 00:26:54.770\nRouter 3's gonna look at it,\nsay that MAC address is me,\n\n518\n00:26:54.770 --> 00:27:00.070\nstrips off the Layer 2 header, gets to\nLayer 3 and says 8.8.8.8 that's not me,\n\n519\n00:27:00.070 --> 00:27:03.990\nbut I am plugged into that network.\n\n520\n00:27:03.990 --> 00:27:06.500\nIt's plugged into the 8.8.8 network so\n\n521\n00:27:06.500 --> 00:27:09.340\nit can talk to the server\nthat I'm trying to get to.\n\n522\n00:27:09.340 --> 00:27:15.140\nSo unlike everybody else, it can actually\nfigure out Google's MAC address right?\n\n523\n00:27:15.140 --> 00:27:18.230\nSo, at the Layer 2 side,\nthe source MAC address is gonna change,\n\n524\n00:27:18.230 --> 00:27:19.050\njust like we've seen.\n\n525\n00:27:19.050 --> 00:27:23.240\nThis is gonna become router\n3's MAC Address, right?\n\n526\n00:27:23.240 --> 00:27:27.550\nAnd then, for the destination,\nthis is where it can get\n\n527\n00:27:28.690 --> 00:27:31.760\nGoogle's MAC Address, or\nwhoever it is that I'm talking to, right?\n\n528\n00:27:31.760 --> 00:27:33.600\nServer 1, whatever it is.\n\n529\n00:27:33.600 --> 00:27:34.950\nIt can get their actual MAC Address.\n\n530\n00:27:34.950 --> 00:27:41.700\nBecause they're on the same network,\nrouter 3 can just send out a broadcast.\n\n531\n00:27:41.700 --> 00:27:45.420\nIt can send out a broadcast and\nsay, hey I need to find 8.8.8.8,\n\n532\n00:27:45.420 --> 00:27:48.650\nit crosses the line, and that server\nthen responds, says hey that's me.\n\n533\n00:27:48.650 --> 00:27:49.830\nHere's my MAC address.\n\n534\n00:27:49.830 --> 00:27:54.614\nAnd when they talk, SRV1 is gonna see\nthis communication coming from me.\n\n535\n00:27:54.614 --> 00:28:00.629\nComing from 192.168.0.100, and\nit's gonna see it with whose MAC Address?\n\n536\n00:28:00.629 --> 00:28:05.456\nIt sees 192.168.0.100 coming from router\n\n537\n00:28:05.456 --> 00:28:10.289\n3's MAC Address, so\nthat's how it's gonna learn it.\n\n538\n00:28:11.470 --> 00:28:12.910\nAnd I messed up my little box.\n\n539\n00:28:12.910 --> 00:28:15.720\nSo, it's gonna learn it that\nway with the wrong MAC Address.\n\n540\n00:28:15.720 --> 00:28:16.737\nWell, is it really wrong?\n\n541\n00:28:16.737 --> 00:28:19.499\nIt's not wrong, because when it replies,\n\n542\n00:28:19.499 --> 00:28:23.541\nit's not on the 192.168.0.100 network,\nis it?\n\n543\n00:28:23.541 --> 00:28:24.981\nIt's going to have to use a router.\n\n544\n00:28:24.981 --> 00:28:27.190\nAnd what router is it gonna use?\n\n545\n00:28:27.190 --> 00:28:29.830\nWell, it's gonna use router 3.\n\n546\n00:28:29.830 --> 00:28:33.860\nSo on the return trip,\nit's the exact opposite process.\n\n547\n00:28:33.860 --> 00:28:35.710\nThe source and\ndestination stay the same, but\n\n548\n00:28:35.710 --> 00:28:39.600\nthe MAC Address changes to\nreflect each hop along the way.\n\n549\n00:28:39.600 --> 00:28:40.880\nAll right?\n\n550\n00:28:40.880 --> 00:28:45.630\nSo when we talk about subnets, when we\ntalk about how we divide these networks up\n\n551\n00:28:45.630 --> 00:28:49.405\nand having to go through a router,\nthe IPs can't work by themselves.\n\n552\n00:28:49.405 --> 00:28:51.245\nYou've gotta have MAC addresses, too.\n\n553\n00:28:51.245 --> 00:28:55.685\nThe Layer 2 addressing is what's\nactually doing the real work.\n\n554\n00:28:55.685 --> 00:28:59.375\nIt's the one that's moving\nthe data from point A to point B,\n\n555\n00:28:59.375 --> 00:29:01.585\nand getting us across the network.\n\n556\n00:29:01.585 --> 00:29:05.075\nAnd, if you don't have that Layer\n2 side of things squared away,\n\n557\n00:29:05.075 --> 00:29:06.375\nit's not gonna function.\n\n558\n00:29:06.375 --> 00:29:08.195\nSo, we need Layer 2 addresses.\n\n559\n00:29:08.195 --> 00:29:09.665\nBut Layer 2 addresses aren't routable.\n\n560\n00:29:09.665 --> 00:29:11.530\nThey're only good for next hops.\n\n561\n00:29:11.530 --> 00:29:15.490\nSo we used the Layer 3\naddresses to the beginning and\n\n562\n00:29:15.490 --> 00:29:19.360\nthe end of the trip and\nthat's all a part of this communications.\n\n563\n00:29:19.360 --> 00:29:23.210\nSo routers while they are Layer 3 devices,\n\n564\n00:29:23.210 --> 00:29:25.590\nthey're constantly building\nLayer 2 headers, aren't they?\n\n565\n00:29:25.590 --> 00:29:27.910\nThey're stripping off Layer 2 headers and\nthey receive stuff and\n\n566\n00:29:27.910 --> 00:29:31.070\nthey're Layer 2 headers to rebuild\nthe frame and send it along, and\n\n567\n00:29:31.070 --> 00:29:32.825\nhave that traffic\ndirected from end to end.\n\n568\n00:29:32.825 --> 00:29:35.590\nReal important process\nto understand there.\n\n569\n00:29:35.590 --> 00:29:36.950\nThat's what routers do.\n\n570\n00:29:36.950 --> 00:29:38.820\nRouters are doing this all the time.\n\n571\n00:29:38.820 --> 00:29:41.710\nMillions of packets per\nsecond in a lot of cases.\n\n572\n00:29:41.710 --> 00:29:46.880\nAnd they're just very efficient at moving\nthat along and knowing where to send it.\n\n573\n00:29:46.880 --> 00:29:48.695\nIt's got to know the router to contact,\n\n574\n00:29:48.695 --> 00:29:50.960\ncuz it might have five\ndifferent paths it can go on.\n\n575\n00:29:50.960 --> 00:29:51.850\nIt's gotta pick the right path.\n\n576\n00:29:51.850 --> 00:29:54.420\nAnd we'll see how that works\nlater on in the series.\n\n577\n00:29:54.420 --> 00:29:57.720\n>> All right, Don, so let me make sure\nI get this concept in my head here.\n\n578\n00:29:57.720 --> 00:30:02.198\nAs it moves through all those routers,\nthe source and destination IP address.\n\n579\n00:30:02.198 --> 00:30:03.850\n>> Mm-hm.\n>> Shouldn't change.\n\n580\n00:30:03.850 --> 00:30:06.210\nBut is the MAC addresses that will.\n\n581\n00:30:06.210 --> 00:30:07.870\n>> Right.\nThe Layer 3 data stays the same.\n\n582\n00:30:07.870 --> 00:30:09.880\nBecause if we change then,\nnow we're going the wrong direction.\n\n583\n00:30:09.880 --> 00:30:10.380\n>> Right.\n>> Right.\n\n584\n00:30:10.380 --> 00:30:12.410\nSo the Layer 3 data always stays the same.\n\n585\n00:30:12.410 --> 00:30:13.900\nLayer 2 changes.\n\n586\n00:30:13.900 --> 00:30:17.300\nIf we were to change the source IP, people\nwouldn't know how to reply back to us.\n\n587\n00:30:17.300 --> 00:30:19.320\nAnd if we change the destination IP,\nnow we're going the wrong the place.\n\n588\n00:30:19.320 --> 00:30:20.290\nSo those always stay the same.\n\n589\n00:30:21.440 --> 00:30:24.380\nNow there is one thing I forgot to\nmention in the last episode that I wanna\n\n590\n00:30:24.380 --> 00:30:26.130\ntackle here before we wrap this one up.\n\n591\n00:30:26.130 --> 00:30:30.070\nWe talked about IP address ranges and\nI talked about class A's, class B's, and\n\n592\n00:30:30.070 --> 00:30:34.420\nclass C's and\nI mentioned how we're kinda running out.\n\n593\n00:30:34.420 --> 00:30:38.170\nNow, nobody really feels the pain of that,\nwe're not actually running out and\n\n594\n00:30:38.170 --> 00:30:42.040\nthe main reason is there's\nactually IPs set aside for\n\n595\n00:30:42.040 --> 00:30:44.710\nprivate use versus public use.\n\n596\n00:30:44.710 --> 00:30:48.090\nIt used to be, back in the day,\nthat if you wanted an IP address,\n\n597\n00:30:48.090 --> 00:30:51.170\nyou had to go to the IANA, and\nyou had to register that address.\n\n598\n00:30:51.170 --> 00:30:53.250\nI know we did mention\nthat in another episode.\n\n599\n00:30:53.250 --> 00:30:56.020\nSo, you’ve got to register the address,\nand when you get it,\n\n600\n00:30:56.020 --> 00:31:00.510\nyou’re the only person in the entire\nplanet that has that address.\n\n601\n00:31:00.510 --> 00:31:02.750\nNobody else has that same address.\n\n602\n00:31:02.750 --> 00:31:04.720\nAnd those are the addresses\nthat we are running out of.\n\n603\n00:31:04.720 --> 00:31:05.410\nOkay?\n\n604\n00:31:05.410 --> 00:31:08.810\nBut they were smart and they said,\nnot everybody needs a public address,\n\n605\n00:31:08.810 --> 00:31:12.560\nnot everybody needs their refrigerator\nto be directly on the Internet.\n\n606\n00:31:12.560 --> 00:31:17.090\nSo we might give them a private IP\naddress, an IP address that's not unique\n\n607\n00:31:17.090 --> 00:31:20.990\nthroughout the world, but\nthat's unique in their building.\n\n608\n00:31:20.990 --> 00:31:23.600\nAnd that's what I'm using here on\nmy laptop, Ronnie on his laptop,\n\n609\n00:31:23.600 --> 00:31:27.330\nall the devices here at the studio,\nwere using these private IPs.\n\n610\n00:31:27.330 --> 00:31:29.540\nPrivate IPs aren’t suitable\nto use on the Internet.\n\n611\n00:31:29.540 --> 00:31:32.370\nIn fact, Internet service providers\nare required to drop private IPs,\n\n612\n00:31:32.370 --> 00:31:33.810\nthey’re not allowed to go out.\n\n613\n00:31:33.810 --> 00:31:36.940\nSo we usually couple this with another\ntechnology that we’ll learn about later,\n\n614\n00:31:36.940 --> 00:31:40.240\ncalled network address\ntranslation to hide the IPs.\n\n615\n00:31:40.240 --> 00:31:42.860\nBut those private IPs are important\nbecause you don’t have to register them.\n\n616\n00:31:42.860 --> 00:31:45.470\nAnybody can use them and you can use\nthem to your heart’s content and\n\n617\n00:31:45.470 --> 00:31:48.170\nthere’s even a class A set aside.\n\n618\n00:31:48.170 --> 00:31:50.993\nSo if you need 16.7 million\nIP's you can get it and\n\n619\n00:31:50.993 --> 00:31:53.391\nyou don't even have to\nregister it with INA.\n\n620\n00:31:53.391 --> 00:31:55.167\nYou can just do it on your own and\nthat's it.\n\n621\n00:31:55.167 --> 00:31:58.241\nI want to talk about those ranges\nreal quick, so you know them,\n\n622\n00:31:58.241 --> 00:32:00.045\nbecause they may turn up on the exam.\n\n623\n00:32:00.045 --> 00:32:01.438\nSo let me just bring this up here.\n\n624\n00:32:01.438 --> 00:32:04.968\nIn the last episode we talked about\nClass A, Class B, Class C, and\n\n625\n00:32:04.968 --> 00:32:08.020\nthose first numbers and\nhow they matter, right.\n\n626\n00:32:08.020 --> 00:32:11.310\nThere's actually a couple of\nthose that are set aside.\n\n627\n00:32:11.310 --> 00:32:17.114\nSo the way I should have written\nthis is a Class A was 1-9 And\n\n628\n00:32:17.114 --> 00:32:21.050\nthen 11-126.\n\n629\n00:32:21.050 --> 00:32:22.820\n127 is our loopback address, right?\n\n630\n00:32:22.820 --> 00:32:29.390\nSo if you ever see 127.0.0.1,\nthat's like an alias that means yourself.\n\n631\n00:32:29.390 --> 00:32:31.190\nIf you wanna talk to yourself, right?\n\n632\n00:32:31.190 --> 00:32:36.080\nIf I go to my terminal and\nI ping 127.0.0.1,\n\n633\n00:32:36.080 --> 00:32:40.420\nwhat I'm pinging here is myself,\nright, it's a loopback.\n\n634\n00:32:40.420 --> 00:32:44.240\nAnd so we can't really use that address,\nsince it's looping right back to us.\n\n635\n00:32:44.240 --> 00:32:49.450\nSo class A is really 1-9 and then 11-126.\n\n636\n00:32:54.260 --> 00:32:56.196\nClass B's get a little tricky, right?\n\n637\n00:32:56.196 --> 00:33:02.871\nBecause, it's actually 128-172.15,\n\n638\n00:33:02.871 --> 00:33:05.910\nand then it's 172.\n\n639\n00:33:05.910 --> 00:33:06.445\n>> 32.\n\n640\n00:33:06.445 --> 00:33:12.860\n>> 32-191, so kind of a weird gap\nthat happens in between there.\n\n641\n00:33:12.860 --> 00:33:16.160\nI'm not entirely sure why they did that,\nbut they did.\n\n642\n00:33:16.160 --> 00:33:22.500\nAnd then Class Cs, technically start,\n\n643\n00:33:22.500 --> 00:33:29.783\nat well it's 192.0-192.167.\n\n644\n00:33:29.783 --> 00:33:32.865\nAnd then it skips over and does,\n\n645\n00:33:32.865 --> 00:33:37.669\nI'm trying to keep this\nstraight in my head here.\n\n646\n00:33:37.669 --> 00:33:38.869\n>> 169.\n\n647\n00:33:38.869 --> 00:33:45.190\n>> It's 192.169-223,\nthese weird gaps, all right.\n\n648\n00:33:45.190 --> 00:33:47.209\nSo what are these gaps?\n\n649\n00:33:47.209 --> 00:33:50.300\nIt's probably not good to memorize it\nthis way cuz it's hard to grasp, right.\n\n650\n00:33:50.300 --> 00:33:54.300\nWhat the gaps are is that there's an RFC,\nthe IEEE,\n\n651\n00:33:54.300 --> 00:33:57.390\nthe organization that creates these\nstandards and bodies and stuff,\n\n652\n00:33:57.390 --> 00:34:02.900\nthey put out various rules and\na lot of this is all dictated by the ISO,\n\n653\n00:34:02.900 --> 00:34:04.970\nthe various standards\norganizations that are out there.\n\n654\n00:34:04.970 --> 00:34:07.390\nBut there's RFC 1918.\n\n655\n00:34:07.390 --> 00:34:11.950\nAnd that's the RFC that set\naside the private addresses.\n\n656\n00:34:11.950 --> 00:34:14.840\nAnd what it did is it\nset aside one Class A.\n\n657\n00:34:14.840 --> 00:34:19.950\nAnd the Class A that it\nset aside is 10.x.x.x.\n\n658\n00:34:19.950 --> 00:34:23.450\nAll right so\ntechnically it's the 10.0.0.0 /8.\n\n659\n00:34:23.450 --> 00:34:28.025\nThat Class A we'll just set aside for\nprivate use.\n\n660\n00:34:28.025 --> 00:34:29.850\n[INAUDIBLE], how do you spell RFC?\n\n661\n00:34:29.850 --> 00:34:33.990\nSo that's the Class A that was set aside.\n\n662\n00:34:33.990 --> 00:34:38.400\nFor the Class Bs they\nwent kind of crazy and\n\n663\n00:34:38.400 --> 00:34:45.020\nthey did 172.16.0.0 all\nthe way through 172.31.0.0.\n\n664\n00:34:45.020 --> 00:34:47.500\nThose are the Class Bs\nthat they set aside.\n\n665\n00:34:47.500 --> 00:34:50.740\nTechnically that is a /12.\n\n666\n00:34:50.740 --> 00:34:53.310\nClass Bs are /16s.\n\n667\n00:34:53.310 --> 00:34:55.480\nSo what they did is they set\naside more than one Class B.\n\n668\n00:34:55.480 --> 00:35:00.990\nThey set aside, effectively,\n16 Class Bs for whatever reason.\n\n669\n00:35:00.990 --> 00:35:04.725\nAnd then after that they did Class Cs and\nClass Cs they went really crazy but\n\n670\n00:35:04.725 --> 00:35:06.303\nat least the numbers match up.\n\n671\n00:35:06.303 --> 00:35:11.196\nThey set aside 192.168.0.0 and\n\n672\n00:35:11.196 --> 00:35:19.560\nit's actually 0.0 all the way\nthrough 192.168.255.0.\n\n673\n00:35:19.560 --> 00:35:22.560\nAnd that's actually a /16.\n\n674\n00:35:22.560 --> 00:35:25.600\nThey set aside 256 class Cs.\n\n675\n00:35:25.600 --> 00:35:28.640\nSo they set aside one class A,\n\n676\n00:35:28.640 --> 00:35:33.330\n16 class Bs, and 256 class Cs.\n\n677\n00:35:33.330 --> 00:35:36.600\nAnd you can use any of these\nin your own networks and\n\n678\n00:35:36.600 --> 00:35:37.820\nyou don't have to register them.\n\n679\n00:35:37.820 --> 00:35:40.540\nSo here in the studio we use 10.1.230.\n\n680\n00:35:40.540 --> 00:35:44.030\nTechnically that's in this Class A but\nwe use it as a /24.\n\n681\n00:35:44.030 --> 00:35:45.580\nSo we use it as this down there.\n\n682\n00:35:46.610 --> 00:35:47.790\nWe can use that to our hearts content.\n\n683\n00:35:47.790 --> 00:35:48.700\nWe don't have to register it.\n\n684\n00:35:48.700 --> 00:35:52.920\nBut if we go to the Internet we have to\nget changed into an actual public IP.\n\n685\n00:35:52.920 --> 00:35:55.220\nSo these are considered private IPs.\n\n686\n00:35:55.220 --> 00:35:56.700\nSome people call them fake IPs.\n\n687\n00:35:56.700 --> 00:35:59.540\nThey're not fake, they're real,\nthey're just not public.\n\n688\n00:35:59.540 --> 00:36:00.960\nYou can't use them out on the Internet.\n\n689\n00:36:00.960 --> 00:36:03.640\nThey're for private use only.\n\n690\n00:36:03.640 --> 00:36:06.950\nThese guys up here, these are public.\n\n691\n00:36:06.950 --> 00:36:09.450\nThese are ones that if you use it,\nyou need to be unique.\n\n692\n00:36:09.450 --> 00:36:13.520\nYou need to be the only one on the entire\nplanet that's using that address,\n\n693\n00:36:13.520 --> 00:36:15.300\nnobody else can use it.\n\n694\n00:36:15.300 --> 00:36:15.890\nAll right.\n\n695\n00:36:15.890 --> 00:36:19.220\nSo that's why we have these\nweird little gaps and\n\n696\n00:36:19.220 --> 00:36:21.940\nhonestly it's probably not\nworth memorizing it this way.\n\n697\n00:36:21.940 --> 00:36:28.040\nIt's better to just kinda remember\nthe main numbers here like this and then\n\n698\n00:36:28.040 --> 00:36:33.320\njust remember that we do have some blocks\nthat are set aside here for private use.\n\n699\n00:36:33.320 --> 00:36:34.320\nAnd those are very common.\n\n700\n00:36:34.320 --> 00:36:38.140\nYou'll notice in most of my examples,\nI'm using these internal addresses.\n\n701\n00:36:38.140 --> 00:36:40.690\nBe careful,\ncuz sometimes you can get tricked, right?\n\n702\n00:36:40.690 --> 00:36:42.760\nLike Class C is with a 192.\n\n703\n00:36:42.760 --> 00:36:45.440\nDid you notice the IP address for ITProTV?\n\n704\n00:36:47.120 --> 00:36:54.100\nWhen I did a,\nlet me do a quick nslookup for itpro.tv.\n\n705\n00:36:54.100 --> 00:36:56.280\nFor our website, it's 192.124.249.106.\n\n706\n00:36:56.280 --> 00:36:59.315\nAt first glance you might\nthink that's a private IP.\n\n707\n00:36:59.315 --> 00:37:02.378\nThat server has a private IP,\nbut it's not, it's public.\n\n708\n00:37:02.378 --> 00:37:08.662\n192.124, if I look, that's not 192.168.\n\n709\n00:37:08.662 --> 00:37:14.573\n192.124 is a perfectly valid public IP and\nthat's what's on our web server.\n\n710\n00:37:14.573 --> 00:37:17.470\nIt's actually on our firewall but anyhow\nthat's the address that's out there.\n\n711\n00:37:17.470 --> 00:37:22.190\nSo be careful on the exam,\nmake sure you understand these ranges so\n\n712\n00:37:22.190 --> 00:37:24.470\nyou know the difference between\na public and a private IP.\n\n713\n00:37:24.470 --> 00:37:27.450\nAnd when we get into the network\naddress translation section\n\n714\n00:37:27.450 --> 00:37:28.340\nthat will be really important,\n\n715\n00:37:28.340 --> 00:37:31.480\nthat's in the CCNA routing and switching\nside of the world, we'll see it there.\n\n716\n00:37:31.480 --> 00:37:34.860\nBut here at the CCENT level,\nwe at least need to know these ranges.\n\n717\n00:37:36.380 --> 00:37:38.940\nAll right, Ronnie, I think that's\na pretty good stopping point for IPv4.\n\n718\n00:37:38.940 --> 00:37:42.550\nWe still have IPv6 to talk about, which\nwe'll tackle in the next episode, and\n\n719\n00:37:42.550 --> 00:37:45.080\nwe're gonna be using these addresses\nall throughout the series.\n\n720\n00:37:45.080 --> 00:37:49.890\nNow, if you feel overwhelmed, this was\na lot of information in two episodes.\n\n721\n00:37:49.890 --> 00:37:54.019\nIPv4 is a big deal, subnetting is a big\ndeal, and it can be kind of overwhelming.\n\n722\n00:37:55.140 --> 00:37:57.150\nBe sure to check out\nour network plus show.\n\n723\n00:37:57.150 --> 00:38:01.350\nIn the network plus show, we spend, we\ndid like eight episodes, didn't we Ronny?\n\n724\n00:38:01.350 --> 00:38:04.760\nWe stretched out really big to go in\ndepth in IPv4 and how it works and\n\n725\n00:38:04.760 --> 00:38:06.370\nhow you work with it.\n\n726\n00:38:06.370 --> 00:38:08.950\nSo, if you need something a little bit\nslower pace, definitely jump over there.\n\n727\n00:38:08.950 --> 00:38:11.793\nBut here for the CCENT, these\nare the basics that we need to know, and\n\n728\n00:38:11.793 --> 00:38:13.770\nwhat they expect you to have ready for\nthe exam.\n\n729\n00:38:14.920 --> 00:38:15.420\n>> All right, Don.\n\n730\n00:38:15.420 --> 00:38:17.890\nWell, thank you again for\nhelping us to refresh.\n\n731\n00:38:17.890 --> 00:38:20.840\nIf it’s been a while since\nyou’ve actually done any of\n\n732\n00:38:20.840 --> 00:38:24.120\nthis binary conversion to decimal and\ndecimal to binary,\n\n733\n00:38:24.120 --> 00:38:28.950\nmake sure you go over that practice now\nbefore you get into the exam as well.\n\n734\n00:38:28.950 --> 00:38:33.930\nAnd also that table or that chart,\nthat diagram, I'm trying to make sure I\n\n735\n00:38:33.930 --> 00:38:34.923\nremember what he-\n>> [LAUGH]\n\n736\n00:38:34.923 --> 00:38:37.447\n>> The diagram that Dan, Dan.\n\n737\n00:38:37.447 --> 00:38:40.010\nDon actually worked with and\nshown us the process,\n\n738\n00:38:40.010 --> 00:38:43.750\nthe communication process through\nthe actual routing process as well.\n\n739\n00:38:43.750 --> 00:38:48.160\nRemember in that one the source and\ndestination IP address will not change,\n\n740\n00:38:48.160 --> 00:38:51.660\nbut the source and\ndestination Mac addresses will change.\n\n741\n00:38:51.660 --> 00:38:54.120\nIt actually is gonna be great for\nyou to go ahead and\n\n742\n00:38:54.120 --> 00:38:58.430\nmake sure you get that process in your\nhead and just hammered down that way, so\n\n743\n00:38:58.430 --> 00:39:01.060\nthat if you see something like that,\nsimilarly, as you actually go towards\n\n744\n00:39:01.060 --> 00:39:04.280\nthe exam you'll know exactly what\nwe're talking about there too.\n\n745\n00:39:04.280 --> 00:39:07.640\nAnd then of course that review\nof those private IP addresses.\n\n746\n00:39:07.640 --> 00:39:09.949\nThe RFC 1918 addresses.\n\n747\n00:39:09.949 --> 00:39:13.372\nRemember that this technology,\nthose IP addresses along with network\n\n748\n00:39:13.372 --> 00:39:16.907\naddress translation, and even another\none that will cover in routing and\n\n749\n00:39:16.907 --> 00:39:19.645\nswitching variable in subnet mask,\nis really what helps\n\n750\n00:39:19.645 --> 00:39:23.490\nus to reduce the number of those public\nIP addresses that we were running out of.\n\n751\n00:39:23.490 --> 00:39:26.710\nAnd these are the addresses that\nwe do not have to register.\n\n752\n00:39:26.710 --> 00:39:29.870\nYou should know those ranges,\nmake sure you know those ranges and\n\n753\n00:39:29.870 --> 00:39:31.190\nyou're not gonna get confused by them.\n\n754\n00:39:31.190 --> 00:39:34.570\nBe sure you can identify the difference\nbetween public and private as well.\n\n755\n00:39:34.570 --> 00:39:39.110\nAll that is actually great testable\nmaterial that you've just got to know,\n\n756\n00:39:39.110 --> 00:39:41.520\njust off the back of your hand.\n\n757\n00:39:41.520 --> 00:39:44.700\nYou just know that it's actually\nright there without having to\n\n758\n00:39:44.700 --> 00:39:45.660\ntry and think about.\n\n759\n00:39:45.660 --> 00:39:49.400\nCuz speed and accuracy is also\nthe key to the exam as well.\n\n760\n00:39:49.400 --> 00:39:53.330\nSo, that's a great place for\nus to go and end this episode.\n\n761\n00:39:53.330 --> 00:39:57.440\nSigning off for ITProTV,\nI've been your host Ronnie Wong.\n\n762\n00:39:57.440 --> 00:39:58.370\n>> And I'm Don Pezet.\n\n763\n00:39:58.370 --> 00:40:00.965\n>> Stay tuned right here for\nmore CCENT content.\n\n764\n00:40:00.965 --> 00:40:10.560\n[SOUND]\n\n",
          "vimeoId": "173781111"
        },
        {
          "description": "In this episode, Ronnie and Don review the IPv6 concepts found in CCENT exam objectives.  They explain the fundamental improvements included in IPv6 include IPSec, QoS and even other protocols that currently require an addition to IPv4.  But the major improvements deals with the address space size and IP Mobility are key features for most networks, according to the guys.  Don then reviews the most common format of IPv6 addresses and the different types of IPv6 addresses you will encounter in IPv6 networks.",
          "length": "1998",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-5-understanding_ipv6-070616-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-5-understanding_ipv6-070616-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-5-understanding_ipv6-070616-1-sm.jpg",
          "title": "Understanding IPv6",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.294 --> 00:00:15.395\nWelcome to another great\nepisode right here on ITProTV.\n\n3\n00:00:15.395 --> 00:00:19.558\nI'm your host Ronnie Wong and today\nwe're taking a look at Cisco's CCENT.\n\n4\n00:00:19.558 --> 00:00:23.410\nWe're getting ready to take that exam, and\nwhat we're actually going to be doing here\n\n5\n00:00:23.410 --> 00:00:27.260\nis we are going to be focusing\non understanding IPv6.\n\n6\n00:00:27.260 --> 00:00:32.230\nBut the real question that we all\nhave is what happened to IPv5, and\n\n7\n00:00:32.230 --> 00:00:34.560\nhere to help us answer that\nquestion is Mr. Don Pezet.\n\n8\n00:00:34.560 --> 00:00:38.210\nI'm joking Don, but\nIPv6 is actually what we're here for\n\n9\n00:00:38.210 --> 00:00:41.430\nso that is what we really\nwant to learn about.\n\n10\n00:00:41.430 --> 00:00:42.932\n>> Let's dive right into this turkey, now.\n\n11\n00:00:42.932 --> 00:00:44.370\nIf you've been watching all or\nour episodes,\n\n12\n00:00:44.370 --> 00:00:47.240\nyou know that we tackled IPv4 in\nthe last couple of episodes and\n\n13\n00:00:47.240 --> 00:00:48.660\nnow we are gonna take a look at IPv6.\n\n14\n00:00:48.660 --> 00:00:52.190\nI know you are joking, Ronnie, but a lot\nof people have asked that very question.\n\n15\n00:00:52.190 --> 00:00:54.350\nWhat happened to IPv5?\n\n16\n00:00:54.350 --> 00:00:57.403\nAnd actually, it got skipped,\nthere is no IPv5.\n\n17\n00:00:57.403 --> 00:01:01.696\nAnd the reason, I've heard different\nstories but the most plausible story I\n\n18\n00:01:01.696 --> 00:01:06.430\nheard is that a company actually had\na trademark for IPv5 for something else.\n\n19\n00:01:06.430 --> 00:01:09.447\nSo instead of worrying about trademark\ndisputes, they just skipped right over and\n\n20\n00:01:09.447 --> 00:01:10.017\nwent to IPv6.\n\n21\n00:01:10.017 --> 00:01:10.586\nAnd that's it.\n\n22\n00:01:10.586 --> 00:01:11.400\n>> Sounds good.\n\n23\n00:01:11.400 --> 00:01:16.100\n>> But IPv6, we did talk about\nbriefly in the last episode which was\n\n24\n00:01:16.100 --> 00:01:17.830\nwhat it's purpose was.\n\n25\n00:01:17.830 --> 00:01:19.570\nIPv4 obviously works.\n\n26\n00:01:19.570 --> 00:01:22.500\nThe bulk of the world is using it,\nand even though we're running low on\n\n27\n00:01:22.500 --> 00:01:26.790\nIPs we've kinda found ways to work around\nthat and people are doing just fine.\n\n28\n00:01:26.790 --> 00:01:29.690\nSo why fix something that's not broken?\n\n29\n00:01:29.690 --> 00:01:34.730\nWell it's not so much about being broken\nas it is about just not being the best.\n\n30\n00:01:34.730 --> 00:01:35.280\nRight?\n\n31\n00:01:35.280 --> 00:01:39.310\nYou could say the horse drawn\ncarriage wasn't broken, it was fine.\n\n32\n00:01:39.310 --> 00:01:43.340\nBut I'll take a ride in a combustion\nengine vehicle any day over a horse drawn\n\n33\n00:01:43.340 --> 00:01:45.370\ncarriage because I need\nto get somewhere fast.\n\n34\n00:01:45.370 --> 00:01:49.450\nAnd that's what IPv6 helps us with, not so\nmuch speed, but other functionality.\n\n35\n00:01:49.450 --> 00:01:54.250\nWith IPv4, they didn't know all\nthe things they'd need down the road.\n\n36\n00:01:54.250 --> 00:01:57.160\nThey didn't know how many\nIPs people would consume.\n\n37\n00:01:57.160 --> 00:02:01.240\nThey didn't think about services like\nquality of service where we might want to\n\n38\n00:02:01.240 --> 00:02:05.230\ncontrol bandwidth and give priority to\nsome traffic and no priority to others.\n\n39\n00:02:05.230 --> 00:02:08.130\nThey didn't know about encryption and\nsecurity.\n\n40\n00:02:08.130 --> 00:02:11.040\nIPv4 was created when\nthe world was a better place.\n\n41\n00:02:11.040 --> 00:02:13.190\nWhen the internet was a little more\ntrustworthy where there were only\n\n42\n00:02:13.190 --> 00:02:14.640\nprofessionals that were on there.\n\n43\n00:02:14.640 --> 00:02:17.760\nBut in today's world,\nit's a stinking nightmare, right?\n\n44\n00:02:17.760 --> 00:02:21.170\nThe internet is the least trustful\nnetwork in the entire planet.\n\n45\n00:02:21.170 --> 00:02:26.240\nAnd when we use TCPIP,\nIPv4 we're having to stack on quality\n\n46\n00:02:26.240 --> 00:02:31.110\nof service as a kludge, reusing fields\nthat weren't really designed for that.\n\n47\n00:02:31.110 --> 00:02:35.930\nAnd so in a lot of ways we're using\nIPv4 very, very inefficiently.\n\n48\n00:02:35.930 --> 00:02:39.310\nAnd so with IPv6 they set out to fix that.\n\n49\n00:02:39.310 --> 00:02:42.965\nNow, what they really set out to fix in\nthe very beginning was simply the address\n\n50\n00:02:42.965 --> 00:02:43.580\nsize.\n\n51\n00:02:43.580 --> 00:02:48.170\nThe original version of IPv6\nwas identical to IPv4 in\n\n52\n00:02:48.170 --> 00:02:52.275\nalmost every way except\na bigger address space.\n\n53\n00:02:52.275 --> 00:02:53.819\nLet's talk about that address space.\n\n54\n00:02:53.819 --> 00:02:58.830\nIn IPv4, an address is made\nup of a 32 bit binary number.\n\n55\n00:02:58.830 --> 00:03:00.200\nIt's a 32 bit address.\n\n56\n00:03:00.200 --> 00:03:06.200\nAnd as a result, you can have, in the last\nepisode I said roughly 4.3 billion IPs.\n\n57\n00:03:06.200 --> 00:03:10.136\nSo the entire IPv4 address pool\nis around 4.3 billion IPs, and\n\n58\n00:03:10.136 --> 00:03:14.651\nactually I've got the number,\nhere's the number right here on my laptop.\n\n59\n00:03:14.651 --> 00:03:21.040\nIPv4, it's actually 4,294,967,296.\n\n60\n00:03:21.040 --> 00:03:21.900\nThat's how may IPs there are.\n\n61\n00:03:23.120 --> 00:03:25.720\nWell the world's population is 6 billion.\n\n62\n00:03:25.720 --> 00:03:31.010\nSo if every person on the planet needs\none IP, that's not enough, right.\n\n63\n00:03:31.010 --> 00:03:31.920\nAnd they knew that.\n\n64\n00:03:31.920 --> 00:03:33.160\nThey knew that was gonna happen.\n\n65\n00:03:33.160 --> 00:03:35.730\nThey didn't know it back in\nthe 70s when this was created.\n\n66\n00:03:35.730 --> 00:03:38.654\nBut by the time the early 9's\nrolled around they knew about it.\n\n67\n00:03:38.654 --> 00:03:42.270\nAnd so that's when IPv6 was\noriginally proposed was in 1988 was\n\n68\n00:03:42.270 --> 00:03:47.180\nthe first time and\n1992 was one of the major milestones.\n\n69\n00:03:47.180 --> 00:03:53.750\nWhere they say hey let's go to IPv6 and\nwe're gonna go up to a 128-bit address.\n\n70\n00:03:53.750 --> 00:03:57.230\nSo IPv4, that's 32-bit, right.\n\n71\n00:03:57.230 --> 00:03:59.770\nAnd that's where we get that number from.\n\n72\n00:03:59.770 --> 00:04:05.795\nIPv6 is 64-bit.\n\n73\n00:04:05.795 --> 00:04:06.689\n>> 128-bit.\n\n74\n00:04:06.689 --> 00:04:08.128\n>> 128 yeah, I keep myself honest there.\n\n75\n00:04:08.128 --> 00:04:09.800\nThere we go 128-bit.\n\n76\n00:04:09.800 --> 00:04:11.990\n128, that's big, right?\n\n77\n00:04:11.990 --> 00:04:15.110\nIf it were 64-bit,\nthat would be twice as big.\n\n78\n00:04:15.110 --> 00:04:17.000\nWell, it's not actually twice, right?\n\n79\n00:04:17.000 --> 00:04:20.660\nThis is binary, so\nwith every bit you add you're doubling it.\n\n80\n00:04:20.660 --> 00:04:24.100\nSo if we add 32-bits you're\ndoubling it 32 times.\n\n81\n00:04:24.100 --> 00:04:26.660\nIf we add, we go up to 128, right,\n\n82\n00:04:26.660 --> 00:04:28.604\nwe're adding 90-\n>> 96.\n\n83\n00:04:28.604 --> 00:04:29.320\n>> 96 bits.\n\n84\n00:04:29.320 --> 00:04:33.260\nSo we're doubling it 96 times,\nit gets massive.\n\n85\n00:04:33.260 --> 00:04:35.950\nIn fact, I don't even know the name for\nthe number.\n\n86\n00:04:35.950 --> 00:04:39.170\nThis is roughly 4.3 billion.\n\n87\n00:04:39.170 --> 00:04:40.680\nI know a billion.\n\n88\n00:04:40.680 --> 00:04:44.510\nWhen you get into IPv6, that number-\n>> [LAUGH]\n\n89\n00:04:44.510 --> 00:04:46.550\n>> Well, here it is, okay?\n\n90\n00:04:46.550 --> 00:04:49.460\nAnd it's kinda going off my screen, here.\n\n91\n00:04:49.460 --> 00:04:52.430\nSo let's just zoom out so\nwe can see the whole number.\n\n92\n00:04:52.430 --> 00:04:57.790\nThis is how many IP addresses you\nhave in the IPv6 address space.\n\n93\n00:04:57.790 --> 00:04:58.740\nIt's big.\n\n94\n00:04:58.740 --> 00:05:00.300\nIt's really, really big.\n\n95\n00:05:00.300 --> 00:05:02.790\nIt's hard to even fathom\nhow big this number is.\n\n96\n00:05:02.790 --> 00:05:06.320\nSo the way I like to think about it,\nthe way I like to put it in perspective,\n\n97\n00:05:06.320 --> 00:05:12.340\nis in IPv4 the address space\nis roughly 4.3 billion.\n\n98\n00:05:12.340 --> 00:05:15.030\nThe Earth's population is 6 billion.\n\n99\n00:05:15.030 --> 00:05:19.099\nUnder IPv6 you could\ngive every single person,\n\n100\n00:05:19.099 --> 00:05:25.970\nall 6 billion people on the Earth,\nyou could give everybody 4.3 billion IPs.\n\n101\n00:05:25.970 --> 00:05:27.550\nThat's how many IPs there are.\n\n102\n00:05:27.550 --> 00:05:30.481\nEvery single person could\nhave 4.3 billion IPs and\n\n103\n00:05:30.481 --> 00:05:34.270\nyou still won't have used up\nthe entire address space.\n\n104\n00:05:34.270 --> 00:05:35.120\nWhen they developed IPv6,\n\n105\n00:05:35.120 --> 00:05:38.930\nthey said look, we made a mistake once,\nwe're not making it again.\n\n106\n00:05:38.930 --> 00:05:40.660\nWe're gonna make so many IPs.\n\n107\n00:05:40.660 --> 00:05:43.400\nNow, eventually we'll end\nup like Star Trek, right?\n\n108\n00:05:43.400 --> 00:05:45.890\nMultiple planets and\ngalaxies and all that stuff and\n\n109\n00:05:45.890 --> 00:05:49.070\nwe'll run out of IPs but\nthat's a bit down the road.\n\n110\n00:05:49.070 --> 00:05:52.773\nSo this should last us for at least 100\nyears before we have to change again.\n\n111\n00:05:52.773 --> 00:05:57.060\nIPv4 didn't even last us 15 years\nbefore we started feeling the pressure.\n\n112\n00:05:57.060 --> 00:06:01.020\nThis one will last a long, long time,\nit's a massive address space.\n\n113\n00:06:01.020 --> 00:06:05.990\nSo when it was originally proposed,\nback in the early 90s, that was its goal.\n\n114\n00:06:05.990 --> 00:06:07.350\nBigger address space, that's it.\n\n115\n00:06:07.350 --> 00:06:09.830\nNo other changes,\njust bigger address space.\n\n116\n00:06:09.830 --> 00:06:12.070\nWell, then something happened.\n\n117\n00:06:12.070 --> 00:06:16.891\nIn 1996, we started to see the dot com\nboom, all these online pet shops and\n\n118\n00:06:16.891 --> 00:06:18.070\nthings like that.\n\n119\n00:06:18.070 --> 00:06:18.970\nIt was just crazy stuff.\n\n120\n00:06:18.970 --> 00:06:21.130\nIf you remember the Super Bowl\ncommercials, it was outrageous.\n\n121\n00:06:21.130 --> 00:06:23.290\nThese companies that weren't\nmaking any money but\n\n122\n00:06:23.290 --> 00:06:24.960\ninvestors were dumping\na ton of cash into them.\n\n123\n00:06:24.960 --> 00:06:27.020\nAnd so what were those companies doing?\n\n124\n00:06:27.020 --> 00:06:31.960\nThey were investing in the IPv4\ninfrastructure, right?\n\n125\n00:06:31.960 --> 00:06:34.240\nSo all these ISPs were\ngetting tons of money.\n\n126\n00:06:34.240 --> 00:06:37.457\nAnd then, in 1999,\nthe dot com bubble burst and\n\n127\n00:06:37.457 --> 00:06:40.102\nall those companies went out of business.\n\n128\n00:06:40.102 --> 00:06:45.390\nNow the ISPs had all this infrastructure\nthat was designed around the IPv4 network.\n\n129\n00:06:45.390 --> 00:06:49.083\nAnd it was well under its\nmaximum utilization so\n\n130\n00:06:49.083 --> 00:06:53.063\nthey said you know what,\nlet's hold off on IPv6.\n\n131\n00:06:53.063 --> 00:06:55.317\nWe're not gonna jump to that right now,\n\n132\n00:06:55.317 --> 00:06:59.600\nlet's wait until we really use\nup what we've got with IPv4.\n\n133\n00:06:59.600 --> 00:07:05.811\nAnd years went by, decades went by and\nwe didn't move to IPv6.\n\n134\n00:07:05.811 --> 00:07:06.937\nBut they didn't sit idle.\n\n135\n00:07:06.937 --> 00:07:09.070\nThey used that time to their best ability.\n\n136\n00:07:09.070 --> 00:07:12.756\nAnd in the earlier days,\nwe're talking about the late 90s and\n\n137\n00:07:12.756 --> 00:07:16.999\nthe beginning of the 2000s,\nthey started adding features to IPv6.\n\n138\n00:07:16.999 --> 00:07:21.649\nThey added some really cool stuff like\nIPsec encryption is built into the IPv6\n\n139\n00:07:21.649 --> 00:07:22.790\nprotocol.\n\n140\n00:07:22.790 --> 00:07:24.630\nSo if you want an encrypted session,\n\n141\n00:07:24.630 --> 00:07:27.320\nyou can actually do it right\nthere natively in the protocol.\n\n142\n00:07:27.320 --> 00:07:30.140\nWe don't need an add-on\nlike we do with IPv4.\n\n143\n00:07:30.140 --> 00:07:32.140\nWith IPv6 it's built into the protocol.\n\n144\n00:07:32.140 --> 00:07:33.520\nYou want quality of service?\n\n145\n00:07:33.520 --> 00:07:34.070\nGreat.\n\n146\n00:07:34.070 --> 00:07:37.580\nThe fields are already available and\nit's actually made for quality of service.\n\n147\n00:07:37.580 --> 00:07:40.540\nWe're not taking type of service and\nmanipulating it like in IPv4,\n\n148\n00:07:40.540 --> 00:07:44.250\nwe're actually using something\ndesigned for quality of service.\n\n149\n00:07:44.250 --> 00:07:47.257\nIf a new service comes out that\nwe've never even thought of before,\n\n150\n00:07:47.257 --> 00:07:48.272\nsomething brand new.\n\n151\n00:07:48.272 --> 00:07:50.967\nWell they left these\nexpandable headers in IPv6 so\n\n152\n00:07:50.967 --> 00:07:54.425\nyou can add in these services that\nnobody's even thought of yet.\n\n153\n00:07:54.425 --> 00:07:57.409\nThey can throw them in there,\nand it'll work out just fine.\n\n154\n00:07:57.409 --> 00:07:59.302\nSo they really planned this one out.\n\n155\n00:07:59.302 --> 00:08:02.960\nOne of my favorite features, IP mobility.\n\n156\n00:08:02.960 --> 00:08:04.820\nI can have an IP address and\n\n157\n00:08:04.820 --> 00:08:08.960\nI can move from network to network to\nnetwork and keep the same IP address.\n\n158\n00:08:08.960 --> 00:08:12.170\nThink about your cell phone, right,\nyour cell phone has a phone number.\n\n159\n00:08:12.170 --> 00:08:15.870\nAnd I might get on the phone right now and\nI call Ronnie on my cell phone and\n\n160\n00:08:15.870 --> 00:08:18.360\nthen I go get in the car and\nI drive 200 miles.\n\n161\n00:08:18.360 --> 00:08:21.610\nAnd we have the longest most\nboring conversation on the planet.\n\n162\n00:08:21.610 --> 00:08:22.750\nAnd over the two hours,\n\n163\n00:08:22.750 --> 00:08:25.680\nI'm jumping from cell phone tower to\ncell phone tower to cell phone tower.\n\n164\n00:08:25.680 --> 00:08:27.590\nI might even be going\nfrom carrier to carrier.\n\n165\n00:08:27.590 --> 00:08:31.350\nFrom Verizon to AT&T to T-Mobile or\nwhatever.\n\n166\n00:08:31.350 --> 00:08:33.310\nBut my call never drops.\n\n167\n00:08:33.310 --> 00:08:35.330\nNow did my phone number change?\n\n168\n00:08:35.330 --> 00:08:37.600\nAs I drove from city to city,\ndid my phone number change?\n\n169\n00:08:37.600 --> 00:08:38.270\nAbsolutely not, right?\n\n170\n00:08:38.270 --> 00:08:39.510\nThe phone number follows you.\n\n171\n00:08:39.510 --> 00:08:42.750\nIPv6 addresses can do the same thing,\nyou have IP mobility.\n\n172\n00:08:42.750 --> 00:08:46.360\nYour one IP address can follow you as you\ngo from home to work to school, wherever.\n\n173\n00:08:46.360 --> 00:08:49.240\nSo, you can jump from wireless\nnetwork to wireless network and\n\n174\n00:08:49.240 --> 00:08:50.630\nkeep streaming that video.\n\n175\n00:08:50.630 --> 00:08:52.970\nThat's the kind of stuff\nthat's built into IPv6.\n\n176\n00:08:52.970 --> 00:08:55.000\nIt's really awesome,\nyou really want it, right?\n\n177\n00:08:55.000 --> 00:08:56.960\nI mean, these are features we want.\n\n178\n00:08:56.960 --> 00:08:59.720\nBut it's slow to adopt, right?\n\n179\n00:08:59.720 --> 00:09:04.030\nThe ISPs are still heavily invested in\nIP before, they're slowly transitioning.\n\n180\n00:09:04.030 --> 00:09:08.990\nSo for example here, at ITProTV,\nour studios are fully set up for IPv6.\n\n181\n00:09:08.990 --> 00:09:12.230\nAll of our gear supports it,\nall of our operating systems support it,\n\n182\n00:09:12.230 --> 00:09:15.478\nour wireless equipment everything 100%\nof our equipment support IPv6 but\n\n183\n00:09:15.478 --> 00:09:21.090\nour ISP, the service provider where\nwe get our metro internet from,\n\n184\n00:09:21.090 --> 00:09:21.820\nthey dont support IPv6 yet.\n\n185\n00:09:21.820 --> 00:09:26.320\nThey're still in testing and so\nif we're to go IPv6 it would only be\n\n186\n00:09:26.320 --> 00:09:30.310\nin our network, and as soon as we to go to\nthe internet we'd have to switch to IPv6.\n\n187\n00:09:30.310 --> 00:09:32.880\nSome ISPs have been a little\nmore progressive and so\n\n188\n00:09:32.880 --> 00:09:36.120\nthey've already got IPv6 rolled out and\nyou might be able to deploy it right now.\n\n189\n00:09:36.120 --> 00:09:41.550\nAnd there's many systems, Amazon,\nEbay, Microsoft's website,\n\n190\n00:09:41.550 --> 00:09:47.460\nFacebook, they've all got IPv6 servers up\nand you can communicate fully using IPv6.\n\n191\n00:09:47.460 --> 00:09:50.550\nWorks great, so\nwe're getting there, right?\n\n192\n00:09:50.550 --> 00:09:53.080\nSo in the meantime,\nwhat do we need know about IPv6?\n\n193\n00:09:53.080 --> 00:09:56.960\nWell, we need to understand that it does\nfunction a little differently than IPv4.\n\n194\n00:09:56.960 --> 00:09:59.780\nIt's designed to fix all the problems,\nright?\n\n195\n00:09:59.780 --> 00:10:02.290\nIn IPv4,\nyou had three types of communications.\n\n196\n00:10:02.290 --> 00:10:05.830\nYou had unicast, multicast,\nand broadcast, right?\n\n197\n00:10:05.830 --> 00:10:09.100\nA unicast, that was a message\nbetween one host and another host,\n\n198\n00:10:09.100 --> 00:10:10.630\njust two people talking, a unicast.\n\n199\n00:10:12.160 --> 00:10:13.470\nA broadcast.\n\n200\n00:10:13.470 --> 00:10:16.540\nThat was when one host needed to\ntalk to everybody out there and\n\n201\n00:10:16.540 --> 00:10:17.820\nI talked about it when\nwe talked about ARP.\n\n202\n00:10:17.820 --> 00:10:20.830\nAddress resolution protocol, that we\nsent out a broadcast on the network.\n\n203\n00:10:20.830 --> 00:10:23.080\nHey everybody I need to know this.\n\n204\n00:10:23.080 --> 00:10:25.585\nAnd everybody hears it but\nonly one person responds.\n\n205\n00:10:25.585 --> 00:10:30.635\nBroadcasts are really inefficient and\nso IPv6 does away with those.\n\n206\n00:10:30.635 --> 00:10:33.725\nSo unicast is one host\ntalking to one host,\n\n207\n00:10:33.725 --> 00:10:35.703\nbroadcast is one host\ntalking to everybody.\n\n208\n00:10:35.703 --> 00:10:38.394\nAnd in-between is a multi-cast.\n\n209\n00:10:38.394 --> 00:10:42.360\nA multi-cast where one host\ntalks to a couple of people.\n\n210\n00:10:42.360 --> 00:10:44.930\nNot everybody, not one person,\nbut a couple of people.\n\n211\n00:10:44.930 --> 00:10:45.825\nPeople opt-in.\n\n212\n00:10:45.825 --> 00:10:49.600\nAnd multi-casts weren't really\nwell developed under IPv4.\n\n213\n00:10:49.600 --> 00:10:51.836\nWe've got them but\nthey're not really well used.\n\n214\n00:10:51.836 --> 00:10:54.910\nIn IPv6, they're required.\n\n215\n00:10:54.910 --> 00:10:57.199\nIn IPv6 they throw away broadcast,\nno more broadcast.\n\n216\n00:10:58.290 --> 00:11:02.500\nBut you have multicast, so anything\nthat you would have used a broadcast for\n\n217\n00:11:02.500 --> 00:11:06.350\nbefore, now you can use a multicast, and\nthat means less traffic on the network.\n\n218\n00:11:06.350 --> 00:11:09.510\nI don't have to bother everybody in\nthe network when I'm just looking for\n\n219\n00:11:09.510 --> 00:11:10.430\none person.\n\n220\n00:11:10.430 --> 00:11:14.860\nOr if I'm requesting a DHCP address,\nI just need the DHCP servers to hear me.\n\n221\n00:11:14.860 --> 00:11:18.080\nI don't need the printer down\nin the mailroom to hear me so\n\n222\n00:11:18.080 --> 00:11:20.160\nnow things are a lot more controlled.\n\n223\n00:11:20.160 --> 00:11:22.340\nBut that means that\naddresses are different.\n\n224\n00:11:22.340 --> 00:11:24.510\nSo let's talk about those addresses.\n\n225\n00:11:24.510 --> 00:11:27.800\nFirst off, they're 128 bit addresses,\nso they're long.\n\n226\n00:11:27.800 --> 00:11:31.790\nAnd because they are long, if you were to\nwrite them in binary it's 128 1s and 0s.\n\n227\n00:11:31.790 --> 00:11:32.790\nIt's too much.\n\n228\n00:11:32.790 --> 00:11:35.370\nSo they're represented\nin hexadecimal numbers.\n\n229\n00:11:35.370 --> 00:11:38.688\nSo let me give you an example here on\nmy computer of a hexadecimal number.\n\n230\n00:11:38.688 --> 00:11:42.290\nIn decimal, what do we have?\n\n231\n00:11:42.290 --> 00:11:46.380\nWe have well 0-9, right,\nthat's how we represent everything.\n\n232\n00:11:46.380 --> 00:11:52.780\nIn binary, we had just 0-1,\nbut in hexadecimal,\n\n233\n00:11:53.790 --> 00:11:59.060\nhexadecimal, there we go,\nit's a little bit on the different side,\n\n234\n00:11:59.060 --> 00:12:03.750\nbecause it's 0-F, okay, 0-F.\n\n235\n00:12:03.750 --> 00:12:06.630\nNow, what do I mean there, 0-F?\n\n236\n00:12:06.630 --> 00:12:11.460\nWell, the way it works, is it's zero,\none, two, three, four, five, six,\n\n237\n00:12:11.460 --> 00:12:12.270\nseven, eight, nine.\n\n238\n00:12:12.270 --> 00:12:15.630\nAnd when it gets to nine,\ninstead of rolling over to two digits,\n\n239\n00:12:15.630 --> 00:12:20.190\nit continues on with A, B, C, D E and F.\n\n240\n00:12:20.190 --> 00:12:24.610\nAnd so what you end up with is 16 values.\n\n241\n00:12:24.610 --> 00:12:28.360\nZero through F, all the way to 16,\nbefore we go to the next digit.\n\n242\n00:12:28.360 --> 00:12:32.010\nWhen you get to 17, now you have to have\ntwo digits, and then you go up from there.\n\n243\n00:12:32.010 --> 00:12:36.590\nSo hexadecimal numbers can fit a much\nlarger number in a smaller space.\n\n244\n00:12:36.590 --> 00:12:37.570\nIt's still big though.\n\n245\n00:12:37.570 --> 00:12:39.790\nThis address base is massive.\n\n246\n00:12:39.790 --> 00:12:45.250\nSo when you get an IPv6 address,\nthey're typically, very, very long, okay?\n\n247\n00:12:45.250 --> 00:12:51.160\nThey're typically written as eight\n4-character hexadecimal numbers, right?\n\n248\n00:12:51.160 --> 00:12:57.470\nSo you end up with eight times four is 32,\nso 32 characters, but they're hexadecimal.\n\n249\n00:12:57.470 --> 00:13:00.140\nSo each character can represent up to 16.\n\n250\n00:13:00.140 --> 00:13:04.360\nVersus a 32 bit binary number where each\ncharacter can only represent two values.\n\n251\n00:13:04.360 --> 00:13:06.800\nHere, each character represents 16.\n\n252\n00:13:06.800 --> 00:13:08.300\nMuch, much larger.\n\n253\n00:13:08.300 --> 00:13:12.030\nSo when you see an IPv6 address it's\ntypically going to look something\n\n254\n00:13:12.030 --> 00:13:12.850\nlike this.\n\n255\n00:13:12.850 --> 00:13:16.200\nLet me just kind of make\nup an example here.\n\n256\n00:13:16.200 --> 00:13:19.200\nIt's gonna be letters and numbers.\n\n257\n00:13:19.200 --> 00:13:23.960\nAll between zero through nine and\nA through F.\n\n258\n00:13:23.960 --> 00:13:27.489\nAnd so we might have something like,\nI'll try and\n\n259\n00:13:27.489 --> 00:13:31.278\nbe at least a little creative\nwith some of this stuff.\n\n260\n00:13:34.012 --> 00:13:37.683\nAnd, let's see, one, two, three,\n\n261\n00:13:37.683 --> 00:13:42.520\nfour, five, six, seven, and there, A.\n\n262\n00:13:42.520 --> 00:13:45.680\nAll right so there is a fully written out,\nIPv6 address, all right?\n\n263\n00:13:46.710 --> 00:13:47.520\nIt's long.\n\n264\n00:13:47.520 --> 00:13:48.590\nCan you memorize that?\n\n265\n00:13:48.590 --> 00:13:50.250\nYou could, but it's not realistic.\n\n266\n00:13:50.250 --> 00:13:52.630\nIPv4 addresses we remember\nthose all the time.\n\n267\n00:13:52.630 --> 00:13:53.860\nIPv6 addresses?\n\n268\n00:13:53.860 --> 00:13:56.080\nA little too much of them to remember.\n\n269\n00:13:56.080 --> 00:13:57.540\nBut you're gonna leverage DNS,\n\n270\n00:13:57.540 --> 00:14:00.730\nthe domain naming system to be able\nto use names instead of addresses.\n\n271\n00:14:00.730 --> 00:14:04.310\nThat's gonna become critical with IPv6 so,\nyou don't have to memorize these.\n\n272\n00:14:04.310 --> 00:14:07.930\nBut there's ways you can make them\nshorter, or a little easier to handle.\n\n273\n00:14:07.930 --> 00:14:12.270\nThings like these leading zeros,\nyou can leave those off.\n\n274\n00:14:12.270 --> 00:14:20.870\nWhen I write an address like 192.168.0.1,\nwhat that actually is is 192.168.000.001.\n\n275\n00:14:20.870 --> 00:14:24.620\nBut we leave those leading zeros off and\nyou can do the same thing in IPv6.\n\n276\n00:14:24.620 --> 00:14:30.480\nSo, for example,\nI can take this address and\n\n277\n00:14:30.480 --> 00:14:37.290\nI can rewrite it and take off the leading\nzeros to make it a little bit shorter.\n\n278\n00:14:37.290 --> 00:14:40.690\nRight, anywhere I've got a zero on\nthe left I can take those out and\n\n279\n00:14:40.690 --> 00:14:42.510\nnow the address is a bit shorter.\n\n280\n00:14:42.510 --> 00:14:45.260\nOkay, let's assume the address\nwas a little bit different.\n\n281\n00:14:45.260 --> 00:14:49.338\nLet's say that these were zeros also,\nokay.\n\n282\n00:14:49.338 --> 00:14:53.070\nWell, any time I have more\nthan one zero in a row,\n\n283\n00:14:53.070 --> 00:14:55.270\nwe can collapse those together too.\n\n284\n00:14:55.270 --> 00:15:02.840\nSo I could come in and\nI could say FE80:: 1234 and so on.\n\n285\n00:15:02.840 --> 00:15:06.740\nWhat's going to happen is when the system\ninterprets those double colons,\n\n286\n00:15:06.740 --> 00:15:09.640\nit's gonna say everything\nbetween these colons is a zero.\n\n287\n00:15:09.640 --> 00:15:14.925\nAnd it's gonna calculate how many fields\nwe have, one, two, three, four, five, six,\n\n288\n00:15:14.925 --> 00:15:20.125\nso there must be two fields in\nbetween which becomes the 00 up here.\n\n289\n00:15:20.125 --> 00:15:22.755\nNow it also means that we can't\nuse that shortcut more than once.\n\n290\n00:15:22.755 --> 00:15:27.628\nFor example if I had something like this\n\n291\n00:15:32.842 --> 00:15:34.455\nAll right, is that enough?\n\n292\n00:15:34.455 --> 00:15:35.456\nI'm short one.\n\n293\n00:15:35.456 --> 00:15:36.066\nThere we go.\n\n294\n00:15:36.066 --> 00:15:36.750\nAll right.\n\n295\n00:15:36.750 --> 00:15:38.670\nSo if I had something like this.\n\n296\n00:15:38.670 --> 00:15:39.220\nRight?\n\n297\n00:15:39.220 --> 00:15:42.104\nSee how I've got a big block of zeros\nhere, and I've got a block of zeroes here.\n\n298\n00:15:42.104 --> 00:15:46.565\nWell, if I were to\nabbreviate those down and\n\n299\n00:15:46.565 --> 00:15:50.072\nturn those into the double colon.\n\n300\n00:15:50.072 --> 00:15:54.371\nIf I did the double colon here and I did\nthe double colon here The system's gonna\n\n301\n00:15:54.371 --> 00:15:58.819\nlook at it and it's gonna say everything\nbetween these colons is a zero, right?\n\n302\n00:15:58.819 --> 00:16:01.735\nAnd I've got one, two,\nthree, four fields, so\n\n303\n00:16:01.735 --> 00:16:05.340\nI've got four fields of zeros\nthat are missing, okay?\n\n304\n00:16:05.340 --> 00:16:08.270\nIs it one here and three here?\n\n305\n00:16:08.270 --> 00:16:12.370\nIs it two here and two here, or\nis it three here and one here?\n\n306\n00:16:12.370 --> 00:16:14.020\nIt doesn't know, it can't figure it out.\n\n307\n00:16:14.020 --> 00:16:16.170\nSo the double colon shortcut\ncan only be used once.\n\n308\n00:16:16.170 --> 00:16:19.690\nI would have to write this like that.\n\n309\n00:16:19.690 --> 00:16:21.910\nSo it knew that, yes,\nthere's two here, right?\n\n310\n00:16:21.910 --> 00:16:24.030\nSo you can only use\nthat shortcut one time.\n\n311\n00:16:24.030 --> 00:16:26.650\nBut it does make the address\na little shorter and\n\n312\n00:16:26.650 --> 00:16:28.490\ncan really make things easier on you.\n\n313\n00:16:28.490 --> 00:16:31.840\nSo IPv6 addresses don't have to be\nthese giant, long, crazy numbers.\n\n314\n00:16:31.840 --> 00:16:36.130\nThey can be really short If you\ncollapse the numbers down a bit and\n\n315\n00:16:36.130 --> 00:16:37.410\npick smart numbers.\n\n316\n00:16:37.410 --> 00:16:40.630\nThat's what we normally try to do.\n\n317\n00:16:40.630 --> 00:16:41.507\nAll right, now,\n\n318\n00:16:41.507 --> 00:16:45.320\nremember in IPV4 that the first octet\ntold us a little bit about the address.\n\n319\n00:16:45.320 --> 00:16:46.940\nIf it was class A, Class B, Class C.\n\n320\n00:16:46.940 --> 00:16:48.430\nOr at least back in the classical days.\n\n321\n00:16:48.430 --> 00:16:49.652\nNow, not so much.\n\n322\n00:16:49.652 --> 00:16:55.870\nIn IPv6, the first field here actually\ntells us a good bit about the address,\n\n323\n00:16:55.870 --> 00:16:57.700\nif it's a unicast address.\n\n324\n00:16:57.700 --> 00:17:03.040\nWell, with unicast addresses, there's\npublic and private, just like with IPv4,\n\n325\n00:17:03.040 --> 00:17:11.280\nand the public ones all fall in\nthe 2000/3 network, all right?\n\n326\n00:17:11.280 --> 00:17:14.850\nSo they're typically going to\nstart with 200, all right?\n\n327\n00:17:14.850 --> 00:17:18.680\nIf you see 200,\nnow they go all the way up even higher.\n\n328\n00:17:18.680 --> 00:17:23.450\nThey go all the way up to E00, like that.\n\n329\n00:17:23.450 --> 00:17:25.300\nSo the beginning is 2000.\n\n330\n00:17:25.300 --> 00:17:27.120\nIt goes all the way up to E.\n\n331\n00:17:27.120 --> 00:17:28.540\nSo if it starts with a number like that,\n\n332\n00:17:28.540 --> 00:17:31.180\nthose are the public addresses that\nare being registered right now.\n\n333\n00:17:31.180 --> 00:17:34.040\nIf you go to the INA and\nregister, those are the ranges.\n\n334\n00:17:34.040 --> 00:17:38.610\nNow obviously, that's leaving out big\nswaths of the network, and that's fine.\n\n335\n00:17:38.610 --> 00:17:41.410\nThere's so many, we can reserve big\naddresses and it's not a big deal.\n\n336\n00:17:41.410 --> 00:17:44.290\nBut these are the blocks that\nare kinda being set aside for\n\n337\n00:17:44.290 --> 00:17:46.810\nprivate unicast environments.\n\n338\n00:17:46.810 --> 00:17:50.302\nAnd so, these are what are called\nglobal unicast addresses.\n\n339\n00:17:50.302 --> 00:17:51.740\nGlobal unicast.\n\n340\n00:17:51.740 --> 00:17:56.690\nAnd by global, we mean that if you have\none of these addresses, you should be\n\n341\n00:17:56.690 --> 00:18:01.080\nthe only person in the entire planet\non the globe that has that address.\n\n342\n00:18:01.080 --> 00:18:03.190\nThat's a global unicast, all right?\n\n343\n00:18:03.190 --> 00:18:08.670\nThere's other ones that you'll see,\nfor example, Link Local Unicast.\n\n344\n00:18:08.670 --> 00:18:12.950\nThese are ones that are intended to be\nused only internally on your network for\n\n345\n00:18:12.950 --> 00:18:14.050\nyour next hop.\n\n346\n00:18:14.050 --> 00:18:16.370\nRemember how MAC addresses are used for\nnext hop under IPv4?\n\n347\n00:18:16.370 --> 00:18:19.018\nWell, these Link Local\nare kind of like that.\n\n348\n00:18:19.018 --> 00:18:21.300\nIf I wanted to hop from\nmy laptop to Ronnie's and\n\n349\n00:18:21.300 --> 00:18:25.020\nwe're just right here on the same network,\nwe can use Link Local addresses.\n\n350\n00:18:25.020 --> 00:18:30.102\nAnd they're easy to spot because\nthey fall in the FE8/10 network,\n\n351\n00:18:30.102 --> 00:18:33.740\nwhich means they almost\nalways start with FE8.\n\n352\n00:18:33.740 --> 00:18:35.850\nThere's actually a few other\nvalues that can turn up, but\n\n353\n00:18:35.850 --> 00:18:38.840\nFE80 is typically what you're gonna see.\n\n354\n00:18:38.840 --> 00:18:42.620\nAnd it's such a massive space\nthat it's pretty common.\n\n355\n00:18:42.620 --> 00:18:45.420\nFE80s is what you're gonna see for that.\n\n356\n00:18:45.420 --> 00:18:49.780\nYou may have Windows machines,\nor OS 10 machines, Linux boxes.\n\n357\n00:18:49.780 --> 00:18:53.940\nIf you've got IPv6 turned on, you'll at\na minimum have a Link Local address and\n\n358\n00:18:53.940 --> 00:18:54.650\nit'll start with FE80.\n\n359\n00:18:54.650 --> 00:18:57.700\nNow FE8 addresses are not routable.\n\n360\n00:18:57.700 --> 00:18:58.910\nYou can't route them across the Internet.\n\n361\n00:18:58.910 --> 00:19:01.804\nThey're just designed for\nlocal communications.\n\n362\n00:19:01.804 --> 00:19:06.240\nAll right, another thing that\nwe have are private addresses.\n\n363\n00:19:06.240 --> 00:19:10.670\nSo if you've got private addresses, these\nwould be like the old RFC 1918 addresses.\n\n364\n00:19:10.670 --> 00:19:13.740\nIf I use any of these guys,\nI've gotta register them with the IANA.\n\n365\n00:19:13.740 --> 00:19:17.060\nBut if I just wanna create my own\nprivate network with static IPs,\n\n366\n00:19:17.060 --> 00:19:20.930\nI can use what are called-\n>> Unique locals.\n\n367\n00:19:20.930 --> 00:19:22.870\n>> My unique locals, yes thank you Ronnie.\n\n368\n00:19:22.870 --> 00:19:24.590\nHaving a little brain freeze there for\na minute.\n\n369\n00:19:24.590 --> 00:19:27.130\nA unique local unicast address.\n\n370\n00:19:27.130 --> 00:19:29.930\nAnd these guys start, it's kinda weird.\n\n371\n00:19:29.930 --> 00:19:35.050\nThey technically start with FC00/7, right?\n\n372\n00:19:35.050 --> 00:19:36.840\nThat's the network that's set aside.\n\n373\n00:19:36.840 --> 00:19:39.918\nOkay, but if you read the standard,\nthe way the standard reads is,\n\n374\n00:19:39.918 --> 00:19:42.970\nyou're not suppose to actually\nuse the very first network.\n\n375\n00:19:42.970 --> 00:19:49.610\nSo, almost everybody starts with FD00 and\nthen builds from there, okay?\n\n376\n00:19:49.610 --> 00:19:52.390\nAnd so it's a little bit tricky, and\n\n377\n00:19:52.390 --> 00:19:54.890\na lot of textbooks,\na lot of examples just the FD0.\n\n378\n00:19:54.890 --> 00:19:58.085\nBut for exam,\nremember that it actually starts with FC0.\n\n379\n00:19:58.085 --> 00:19:59.720\nFC0 is the beginning of the range.\n\n380\n00:19:59.720 --> 00:20:01.710\nThese are private addresses.\n\n381\n00:20:01.710 --> 00:20:05.210\nYou can use them on your internal network\nand set up routes and networks and so\n\n382\n00:20:05.210 --> 00:20:07.760\non, and not have to register with the INA.\n\n383\n00:20:07.760 --> 00:20:13.625\nSo for example, I'll show you guys\na real world example that I' like to do,\n\n384\n00:20:13.625 --> 00:20:19.035\nis, let's say that under IPv4\nyou have 192.168.0.0 and\n\n385\n00:20:19.035 --> 00:20:24.740\n192.168.1.0, 192.168.2.0 as your networks.\n\n386\n00:20:24.740 --> 00:20:27.340\nAll right, so\nthat's what you've been using under IPv4.\n\n387\n00:20:27.340 --> 00:20:31.581\nIf I were to set up private networks for\nyou, and\n\n388\n00:20:31.581 --> 00:20:37.305\nset them up with IPv6,\na lot of times what I'll do is I'll say,\n\n389\n00:20:37.305 --> 00:20:45.490\nwe're gonna do FD00 colon 192 colon 168\ncolon 0 colon 0, right, and then, 1.\n\n390\n00:20:45.490 --> 00:20:46.616\nThis is IP address 1.\n\n391\n00:20:46.616 --> 00:20:49.890\nI use the double colons to\nshorten this up, right?\n\n392\n00:20:49.890 --> 00:20:51.670\nAnd I could even shorten it more.\n\n393\n00:20:51.670 --> 00:20:54.628\nBut if this was the IP\naddress of a single machine,\n\n394\n00:20:54.628 --> 00:20:58.310\nwe could say this one's gonna be dot 1,\nor dot 2, or dot 3.\n\n395\n00:20:58.310 --> 00:21:03.490\nYou can kind of mimic your IPv4\naddress space if you want, and\n\n396\n00:21:03.490 --> 00:21:06.660\ncreate all of the old\nnetworks that you had.\n\n397\n00:21:06.660 --> 00:21:11.280\nInstead of dots, I'm doing colons\nto create the network, and\n\n398\n00:21:11.280 --> 00:21:15.870\nthen I can specify the hosts\nthat are inside of it, right?\n\n399\n00:21:15.870 --> 00:21:17.120\nOr whatever it is.\n\n400\n00:21:17.120 --> 00:21:19.920\nAnd so now, these addresses\nbecome a lot easier to use.\n\n401\n00:21:19.920 --> 00:21:26.350\nIn fact, if I use my shortcuts and\nwrite it this way, right?\n\n402\n00:21:26.350 --> 00:21:30.785\nWhat I'm looking at,\nlet me write it that way, there.\n\n403\n00:21:30.785 --> 00:21:34.170\nIs basically, I've got 192.168.0.1,\n192.168.1.254, but\n\n404\n00:21:34.170 --> 00:21:38.060\nwritten as an IPv6 address and their in\nthat private space so I can use that.\n\n405\n00:21:38.060 --> 00:21:40.187\nThat makes migrating to\nIPv6 a lot less painful,\n\n406\n00:21:40.187 --> 00:21:43.290\ncuz now they're numbers that\nare at least familiar to me.\n\n407\n00:21:43.290 --> 00:21:45.520\nBut if I'm starting from scratch,\nI don't bother with this.\n\n408\n00:21:45.520 --> 00:21:50.150\nWe'll usually get assigned a network\nfrom our ISP, and the address base is so\n\n409\n00:21:50.150 --> 00:21:54.340\ngigantic that when you sign up for\ninternet service from a company and\n\n410\n00:21:54.340 --> 00:21:56.840\nthey're giving out\nGlobal Unicast addresses,\n\n411\n00:21:56.840 --> 00:21:58.750\nthey're normally going to give you a /64.\n\n412\n00:21:58.750 --> 00:22:03.622\nSo for example, maybe they give me\n\n413\n00:22:03.622 --> 00:22:08.723\n2003:12CF:009D.\n\n414\n00:22:08.723 --> 00:22:13.590\nJust trying to make something up here,\n:1234, right?\n\n415\n00:22:13.590 --> 00:22:15.060\nAnd a /64.\n\n416\n00:22:15.060 --> 00:22:20.330\nSo they're telling me what\nmy first four fields are,\n\n417\n00:22:20.330 --> 00:22:22.780\nthe first 64 bits of my 128 bit address.\n\n418\n00:22:22.780 --> 00:22:27.019\nThe other 128 bits are there for\nme to use as I choose, right?\n\n419\n00:22:27.019 --> 00:22:28.518\n128 bits.\n\n420\n00:22:28.518 --> 00:22:30.016\nOr, I mean, I'm sorry, the other 64 bits.\n\n421\n00:22:30.016 --> 00:22:30.758\nLet me get this right.\n\n422\n00:22:30.758 --> 00:22:31.571\nThe other 64 bits.\n\n423\n00:22:31.571 --> 00:22:33.313\n64 bits.\n\n424\n00:22:33.313 --> 00:22:36.506\nIPv4 was only 32 bit.\n\n425\n00:22:36.506 --> 00:22:38.167\n4.3 billion addresses for the whole thing.\n\n426\n00:22:38.167 --> 00:22:39.677\nHere, they're giving me 64 bits.\n\n427\n00:22:39.677 --> 00:22:45.710\nI've got way more then a class\nA available for me to use.\n\n428\n00:22:45.710 --> 00:22:48.160\nAnd so, we'll just use those ranges.\n\n429\n00:22:48.160 --> 00:22:51.490\nWe'll give every machine a public IP.\n\n430\n00:22:51.490 --> 00:22:53.840\nNow, I know what you're thinking.\n\n431\n00:22:53.840 --> 00:22:55.210\nI don't want every machine\nto have a public IP.\n\n432\n00:22:55.210 --> 00:22:57.780\nThen the Internet can get to my machines.\n\n433\n00:22:57.780 --> 00:22:58.664\nWell, that's not true, right?\n\n434\n00:22:58.664 --> 00:23:00.740\nAnd technically, the Internet can\nget to your machines right now.\n\n435\n00:23:00.740 --> 00:23:01.360\nHow do you stop it?\n\n436\n00:23:01.360 --> 00:23:03.320\nA firewall, right?\n\n437\n00:23:03.320 --> 00:23:07.100\nYou'll need a firewall or a router\nthat's doing filtering to control what\n\n438\n00:23:07.100 --> 00:23:09.190\naccess is allowed in from the Internet.\n\n439\n00:23:09.190 --> 00:23:12.850\nSome people feel that NAT routers\nprotect them, which they really don't.\n\n440\n00:23:12.850 --> 00:23:14.670\nYou really need to have\na firewall in place, and\n\n441\n00:23:14.670 --> 00:23:15.760\nthat's just more true under IPv6.\n\n442\n00:23:15.760 --> 00:23:19.860\nUnder IPv6, if all of your machines\nhave true public addresses,\n\n443\n00:23:19.860 --> 00:23:21.710\nyou'll need a firewall to protect them.\n\n444\n00:23:21.710 --> 00:23:25.520\nBecause otherwise, yes, the Internet\nwill have access to your machines.\n\n445\n00:23:25.520 --> 00:23:27.740\nThat's not something that you want, right?\n\n446\n00:23:27.740 --> 00:23:30.954\nBut because you have such a big network\nlike this, we can reuse it, and\n\n447\n00:23:30.954 --> 00:23:32.550\nuse that throughout our network.\n\n448\n00:23:32.550 --> 00:23:35.230\nThat's a very,\nvery common scenario under IPv6.\n\n449\n00:23:35.230 --> 00:23:38.200\nThey want to eliminate using\nthose private addresses.\n\n450\n00:23:38.200 --> 00:23:41.510\nYou don't need the private addresses,\nbecause the address space is so big.\n\n451\n00:23:43.080 --> 00:23:44.436\nAll right, let's see.\n\n452\n00:23:44.436 --> 00:23:48.100\nOne other thing to think\nabout any cast addresses.\n\n453\n00:23:48.100 --> 00:23:49.860\nAny cast addresses are kinda neat.\n\n454\n00:23:49.860 --> 00:23:52.966\nUnder IPv4,\nif I have an IP assigned to my laptop,\n\n455\n00:23:52.966 --> 00:23:56.598\nlet's say I give my laptop 192.168.0.200.\n\n456\n00:23:56.598 --> 00:24:02.855\nAnd then Ronnie gives his laptop\n192.168.0.200 well what's gonna happen?\n\n457\n00:24:02.855 --> 00:24:04.119\nIt's a duplicate IP, right?\n\n458\n00:24:04.119 --> 00:24:08.192\nWe get an IP collision and\none of the machines is not gonna work.\n\n459\n00:24:08.192 --> 00:24:12.561\nBut in IPv6 if I assign\nthe same IP to more than one\n\n460\n00:24:12.561 --> 00:24:15.840\ninterface on the same device.\n\n461\n00:24:15.840 --> 00:24:20.860\nOr to more than one device it looks\nat it and says you're doing Anycast.\n\n462\n00:24:20.860 --> 00:24:23.670\nThe same IP, just Anycast.\n\n463\n00:24:23.670 --> 00:24:27.640\nThat means, I'm now gonna load\nbalance between the two systems.\n\n464\n00:24:27.640 --> 00:24:30.630\nIt's super easy to load\nbalance under IPv6.\n\n465\n00:24:30.630 --> 00:24:32.382\nUnder IPv4, we need a load balancer.\n\n466\n00:24:32.382 --> 00:24:34.590\nHardware or software that's\nactually distributing traffic\n\n467\n00:24:34.590 --> 00:24:36.050\nacross multiple addresses.\n\n468\n00:24:36.050 --> 00:24:38.790\nIn IPv6, it's built into the protocol.\n\n469\n00:24:38.790 --> 00:24:40.840\nYou just assign the same\nIP in more than one place.\n\n470\n00:24:40.840 --> 00:24:43.575\nIf I have a server with two network cards,\nand I want them to be redundant.\n\n471\n00:24:43.575 --> 00:24:46.256\nSo if one network card fails,\nthe other one's still running.\n\n472\n00:24:46.256 --> 00:24:49.400\nOr I wanna distribute my traffic\nacross the two network cards.\n\n473\n00:24:49.400 --> 00:24:53.410\nSo maybe they're both gig adapters,\nand I want two gigs of bandwidth.\n\n474\n00:24:53.410 --> 00:24:55.690\nI just assign the same\nIP to both interfaces.\n\n475\n00:24:55.690 --> 00:24:59.490\nAnd now Anycast kicks in and\nI'm communicating on both cards.\n\n476\n00:24:59.490 --> 00:25:01.330\nIf I have two routers and\n\n477\n00:25:01.330 --> 00:25:04.590\nI want fail over of one router\nfails the other one takes over.\n\n478\n00:25:04.590 --> 00:25:08.360\nI just assign them the same IP and\nnow I've got Anycast in place.\n\n479\n00:25:08.360 --> 00:25:10.090\nOur nodes when our laptops,\n\n480\n00:25:10.090 --> 00:25:13.550\ndesktops when they go to talk they'll\njust go to the first address they find.\n\n481\n00:25:13.550 --> 00:25:14.830\nWhichever one is nearest to them.\n\n482\n00:25:14.830 --> 00:25:17.280\nI could have the same IP\nin more than one location,\n\n483\n00:25:17.280 --> 00:25:20.800\nand people would just go to the one\nthat was geographically closer to them.\n\n484\n00:25:20.800 --> 00:25:22.680\nAnycast addresses are really cool.\n\n485\n00:25:22.680 --> 00:25:24.530\nThey actually talked about\ndropping them at one point.\n\n486\n00:25:24.530 --> 00:25:26.450\nAnd Ronnie,\nyou've been teaching Cisco a long time,\n\n487\n00:25:26.450 --> 00:25:28.960\ndo you remember the old slide that\nwas like, Anycast addresses are gone.\n\n488\n00:25:28.960 --> 00:25:29.500\n>> Right.\n\n489\n00:25:29.500 --> 00:25:30.415\n>> Well they're back again.\n\n490\n00:25:30.415 --> 00:25:30.960\n>> [LAUGH]\n>> And\n\n491\n00:25:30.960 --> 00:25:33.380\nabout four years ago they brought\nthem back into the standard.\n\n492\n00:25:33.380 --> 00:25:34.880\nAnd it's a really cool feature.\n\n493\n00:25:34.880 --> 00:25:36.190\nI was surprised when they dropped it.\n\n494\n00:25:36.190 --> 00:25:38.830\nI think they were just trying\nto retool how that functioned.\n\n495\n00:25:38.830 --> 00:25:42.770\nAnd now it's a really great solution for\nmaking things redundant and reliable.\n\n496\n00:25:44.310 --> 00:25:45.680\nAll right.\n\n497\n00:25:45.680 --> 00:25:50.070\nNow, as far as assigning IPv6 addresses,\nwe're gonna see it later on in the series.\n\n498\n00:25:50.070 --> 00:25:53.070\nWe haven't really been jumping into\nrouter command lines or anything.\n\n499\n00:25:53.070 --> 00:25:56.190\nBut I do wanna show you\nan example of what it's like.\n\n500\n00:25:56.190 --> 00:25:58.790\nAnd so I'm gonna take a router here.\n\n501\n00:25:59.960 --> 00:26:03.530\nAnd so this is a Cisco router\nthat I'm about to log into.\n\n502\n00:26:03.530 --> 00:26:08.040\nLet me just get into\nthe command prompt here.\n\n503\n00:26:08.040 --> 00:26:11.440\nAnd when you buy a Cisco router,\nevery Cisco router and\n\n504\n00:26:11.440 --> 00:26:13.760\nevery Cisco switch today support IPv6.\n\n505\n00:26:13.760 --> 00:26:15.400\nAll of them do.\n\n506\n00:26:15.400 --> 00:26:17.120\nIt's just usually turned off and so\n\n507\n00:26:17.120 --> 00:26:20.090\nyou might have to turn that\non to get that support.\n\n508\n00:26:20.090 --> 00:26:24.150\nSo I'm gonna just make sure\nthat's turned on for this device.\n\n509\n00:26:24.150 --> 00:26:28.790\nAnd once that's turned on now we're able\nto assign IPv6 addresses to our interfaces\n\n510\n00:26:28.790 --> 00:26:29.360\nand other things.\n\n511\n00:26:29.360 --> 00:26:31.808\nSo if I were to get into\nan interface on this one.\n\n512\n00:26:31.808 --> 00:26:36.497\nI could assign it an IP address,\nlike 192.168.0.1.\n\n513\n00:26:36.497 --> 00:26:38.387\nSo I'm just going to give it that address,\nand\n\n514\n00:26:38.387 --> 00:26:41.120\nmy head is going to cover up\npart of this but there we go.\n\n515\n00:26:41.120 --> 00:26:43.150\nSo now it's got an IPv4 address.\n\n516\n00:26:43.150 --> 00:26:45.800\nBut I can also give it an IPv6 address.\n\n517\n00:26:45.800 --> 00:26:51.560\nAnd when I do that I just need to tell\nit the address that I want to give it.\n\n518\n00:26:51.560 --> 00:26:53.380\nWhatever that range happens to be.\n\n519\n00:26:53.380 --> 00:27:00.260\nActually, we can just do that\nto save us a little bit of time.\n\n520\n00:27:00.260 --> 00:27:03.310\nAnd, instead of a subnet mask,\nIPv6 addresses are so\n\n521\n00:27:03.310 --> 00:27:07.680\nlarge, that you normally just\ntype it in as a subnet shorthand.\n\n522\n00:27:07.680 --> 00:27:10.270\nWhoops, I put a space in there,\nand didn't need it.\n\n523\n00:27:10.270 --> 00:27:14.010\nThere we go, and so\nnow I have assigned an IPv6 address, and\n\n524\n00:27:14.010 --> 00:27:17.290\nif we take a look at how that looks.\n\n525\n00:27:17.290 --> 00:27:21.530\nSo, if I do a Show IP interface brief.\n\n526\n00:27:22.750 --> 00:27:29.785\nOkay, I can see that this interface has\na 192.168.0.1 that's the IPv4 address.\n\n527\n00:27:29.785 --> 00:27:37.400\nAnd if I do a show IPv6 interface\nbrief and I look at that.\n\n528\n00:27:37.400 --> 00:27:39.350\nSee how I have the address\nthat I assigned.\n\n529\n00:27:40.380 --> 00:27:43.140\nAnd then I've got another\naddress right here an FE80.\n\n530\n00:27:43.140 --> 00:27:45.940\nYou will always have a link local address.\n\n531\n00:27:45.940 --> 00:27:47.560\nWhen you talk to somebody\non the same network as you,\n\n532\n00:27:47.560 --> 00:27:49.770\nyou're gonna use that link local address.\n\n533\n00:27:49.770 --> 00:27:51.160\nSo, you'll always have it.\n\n534\n00:27:51.160 --> 00:27:51.810\nI didn't assign it.\n\n535\n00:27:51.810 --> 00:27:52.990\nYou guys saw the communication.\n\n536\n00:27:52.990 --> 00:27:55.640\nI didn't give it, it got that on it's own.\n\n537\n00:27:55.640 --> 00:27:57.760\nNow, how did it get the addresses?\n\n538\n00:27:57.760 --> 00:28:00.110\nWell, it uses a system called EUI64.\n\n539\n00:28:01.260 --> 00:28:04.380\nEUI64 is where we\nautomatically generate an IP.\n\n540\n00:28:04.380 --> 00:28:08.070\nThe address space is so\nbig that you can auto-generate IPs and\n\n541\n00:28:08.070 --> 00:28:10.350\nthe odds of you having\na collision are pretty low.\n\n542\n00:28:12.030 --> 00:28:15.100\nBut we still need a way to safely do that,\nto try and minimize collisions.\n\n543\n00:28:15.100 --> 00:28:17.766\nSo we don't wanna guess an IP that\nsomebody else is already using.\n\n544\n00:28:17.766 --> 00:28:22.150\nSo with a link local, it does that\nFE80 at the beginning, and then colon,\n\n545\n00:28:22.150 --> 00:28:23.940\ncolon, right, so all zeros.\n\n546\n00:28:23.940 --> 00:28:25.920\nBut for the last 64-bits,\n\n547\n00:28:25.920 --> 00:28:31.670\nwe need a unique 64-bit hexadecimal\nnumber to identify this machine.\n\n548\n00:28:32.710 --> 00:28:36.570\nWouldn't it be nice if we already\nhad a unique hexadecimal number that\n\n549\n00:28:36.570 --> 00:28:38.090\nidentified this machine?\n\n550\n00:28:38.090 --> 00:28:38.790\nBut we do.\n\n551\n00:28:38.790 --> 00:28:39.520\nThe Mac address.\n\n552\n00:28:40.520 --> 00:28:42.770\nEvery interface has a Mac address.\n\n553\n00:28:42.770 --> 00:28:45.450\nIf I do a show interface for that adapter.\n\n554\n00:28:46.740 --> 00:28:49.620\nI can find its hardware\naddress in here somewhere.\n\n555\n00:28:50.630 --> 00:28:52.630\nHere's the hardware address for this one.\n\n556\n00:28:52.630 --> 00:28:55.240\nSo here's the hardware address.\n\n557\n00:28:55.240 --> 00:28:58.372\nEvery interface has a Mac\naddress assigned to it.\n\n558\n00:28:58.372 --> 00:29:02.440\nIt's 48-bits and it's hexadecimal,\nand in theory it's unique.\n\n559\n00:29:02.440 --> 00:29:03.828\nWouldn't it be nice if we could use that?\n\n560\n00:29:03.828 --> 00:29:06.168\nWell we could, except it's only 48-bits.\n\n561\n00:29:06.168 --> 00:29:08.100\nWe need 64-bits.\n\n562\n00:29:08.100 --> 00:29:13.127\nSo, for EUI64, what it does is\nit takes the Mac address and\n\n563\n00:29:13.127 --> 00:29:18.167\nit sticks a few extra bits in\nthere it get it up to 64-bits.\n\n564\n00:29:18.167 --> 00:29:19.340\nIt adds 16-bits.\n\n565\n00:29:19.340 --> 00:29:25.240\nAnd the way it does that is by injecting\nin the middle of the Mac address, FFFE.\n\n566\n00:29:27.040 --> 00:29:27.830\nRIght?\n\n567\n00:29:27.830 --> 00:29:30.470\nThat is right Okay thank you.\n\n568\n00:29:30.470 --> 00:29:32.290\nFFFE, it injects that in the middle.\n\n569\n00:29:32.290 --> 00:29:35.060\nAnd so, when you look at my\naddress from that last screen,\n\n570\n00:29:35.060 --> 00:29:37.510\nlet me get back to that last screen.\n\n571\n00:29:39.360 --> 00:29:43.340\nRight here, and you look at that\naddress that was auto generated\n\n572\n00:29:44.780 --> 00:29:48.540\nright here it's FE80 and\nthen a bunch of 0's.\n\n573\n00:29:48.540 --> 00:29:54.995\nAnd then here's my Mac address with FF,\nif I can highlight come on you can do it.\n\n574\n00:29:54.995 --> 00:29:58.710\n[LAUGH] There we go With FF: FE,\n\n575\n00:29:58.710 --> 00:30:03.420\nadded to the middle of them.\n\n576\n00:30:03.420 --> 00:30:07.900\nMy mMac address was C801, 0D, BC00,\n000A and then they've injected FF:FE\n\n577\n00:30:07.900 --> 00:30:11.800\nright into the middle of it to\nstretch it out to give it 64-bits.\n\n578\n00:30:11.800 --> 00:30:16.280\nSo now, it was able to auto generate\nan address and I'm talking on the network.\n\n579\n00:30:16.280 --> 00:30:18.050\nI'm talking on my local network.\n\n580\n00:30:18.050 --> 00:30:22.290\nWhen we add a static IP,\nnow we can get out there and\n\n581\n00:30:22.290 --> 00:30:24.600\ntalk to our routers and our other devices.\n\n582\n00:30:24.600 --> 00:30:28.950\nNow I gave it just that .1,\nI gave it that first IP but\n\n583\n00:30:28.950 --> 00:30:31.280\nI could've used the UI64 here also.\n\n584\n00:30:31.280 --> 00:30:37.520\nIf I jump back into that interface,\nI could've done the same thing.\n\n585\n00:30:39.420 --> 00:30:42.210\nSo let me pull up where I\nassigned it that address.\n\n586\n00:30:42.210 --> 00:30:46.950\nAnd I'm gonna remove that address and\nI'm gonna reassign it.\n\n587\n00:30:46.950 --> 00:30:53.135\nAnd this time when I do it,\nI'm gonna say, IPv6 address fd00::,\n\n588\n00:30:53.135 --> 00:30:56.855\nso just all zeros, /64 and\n\n589\n00:30:56.855 --> 00:31:01.250\nthen I'm gonna add eui-64\nto the end of the line.\n\n590\n00:31:01.250 --> 00:31:01.900\nOkay.\n\n591\n00:31:01.900 --> 00:31:06.470\nAnd when I do that, I'm telling it,\nhey, this is your network but\n\n592\n00:31:06.470 --> 00:31:10.500\nI want you to generate the last 64-bits.\n\n593\n00:31:10.500 --> 00:31:14.798\nAnd so now,\nwhen I do a show IPv6 interface brief and\n\n594\n00:31:14.798 --> 00:31:16.761\nI look at my addresses.\n\n595\n00:31:16.761 --> 00:31:18.374\nSee how I've got that FD00 and\n\n596\n00:31:18.374 --> 00:31:22.340\nit ends in the exact same thing as the one\nabove it because it's doing EUI64.\n\n597\n00:31:22.340 --> 00:31:26.700\nSo neat way to automatically generate\nthose IPs and have them available for\n\n598\n00:31:26.700 --> 00:31:29.669\nus so that we can jump out any\ncommunicative talk on the network.\n\n599\n00:31:30.720 --> 00:31:35.030\nSo IPv6 as far as getting it setup\nis really very similar to IPv4.\n\n600\n00:31:35.030 --> 00:31:38.790\nFor the exam you need to understand\nthe format of the addresses and\n\n601\n00:31:38.790 --> 00:31:40.210\nthe different address types.\n\n602\n00:31:40.210 --> 00:31:42.736\nThe unicast, the global unique unicast,\n\n603\n00:31:42.736 --> 00:31:47.102\nthe local unique ones as well as\nthe Anycast addresses that are out there.\n\n604\n00:31:47.102 --> 00:31:48.480\nSo you need to understand how those work.\n\n605\n00:31:48.480 --> 00:31:49.860\nUnderstand the link local addresses.\n\n606\n00:31:49.860 --> 00:31:50.618\nThose are important.\n\n607\n00:31:50.618 --> 00:31:54.440\nIn the CC&A routing and security shows,\nwhen we jump into the next exam.\n\n608\n00:31:54.440 --> 00:31:56.477\nThat's where we're going to\ndive into routing protocols.\n\n609\n00:31:56.477 --> 00:32:00.323\nAnd for routing protocols,\nthey run differently for IPv4 than IPv6.\n\n610\n00:32:00.323 --> 00:32:02.714\nSo we'll actually have to get in and\ndo a lot more configuration and\n\n611\n00:32:02.714 --> 00:32:03.880\nlearn about those.\n\n612\n00:32:03.880 --> 00:32:04.876\nBut for this episode,\n\n613\n00:32:04.876 --> 00:32:07.714\nwhat I want to do is make sure you\nguys understood what IPv6 was.\n\n614\n00:32:07.714 --> 00:32:10.902\nHow it worked and\njust kind of how it differs from IPv4.\n\n615\n00:32:10.902 --> 00:32:12.924\nAnd I think we've pretty\nmuch seen that here.\n\n616\n00:32:12.924 --> 00:32:14.660\nRonnie, can you think\nanything I've left out?\n\n617\n00:32:14.660 --> 00:32:16.690\n>> Not really.\nRemember that that's the way that we're\n\n618\n00:32:16.690 --> 00:32:17.390\nall heading, right?\n\n619\n00:32:17.390 --> 00:32:20.206\nEveryone is going from IPv4 to IPv6.\n\n620\n00:32:20.206 --> 00:32:23.600\nAnd you as someone that wants to\nget certified in Cisco, as well as\n\n621\n00:32:23.600 --> 00:32:28.450\nbe a good network technician, having the\nbasic foundations here is going to be key.\n\n622\n00:32:28.450 --> 00:32:30.750\nMaking sure you understand something\nthat was a little bit hard for\n\n623\n00:32:30.750 --> 00:32:33.590\nme at the beginning is to realize\nthat I'm gonna end up with\n\n624\n00:32:33.590 --> 00:32:37.860\nmultiple IP addresses just as\na normal basis for my machine.\n\n625\n00:32:37.860 --> 00:32:42.290\nThe link local, the local unicast,\nand the global unicast.\n\n626\n00:32:42.290 --> 00:32:44.020\nAll those actually do come into play and\n\n627\n00:32:44.020 --> 00:32:46.160\nhelp us to make our\nnetworks more efficiently.\n\n628\n00:32:46.160 --> 00:32:46.810\nAll that's key.\n\n629\n00:32:46.810 --> 00:32:49.270\nMake sure you can identify those as well.\n\n630\n00:32:49.270 --> 00:32:50.210\nSo, thank you Don,\n\n631\n00:32:50.210 --> 00:32:54.880\nfor helping us to get at least started if\nwe haven't actually been there before.\n\n632\n00:32:54.880 --> 00:32:59.400\nOr reminding us of some of the other\nthings we have to be remembering for\n\n633\n00:32:59.400 --> 00:33:00.260\nthat example.\n\n634\n00:33:00.260 --> 00:33:02.212\nWell, that's a great place for\nus to sign off then.\n\n635\n00:33:02.212 --> 00:33:05.260\nFor ITPro TV,\nI've been your host, Ronnie Wong.\n\n636\n00:33:05.260 --> 00:33:06.250\n>> And I am Don Pezet.\n\n637\n00:33:06.250 --> 00:33:10.256\n>> Stay tuned right here for\nmore CCENT content.\n\n638\n00:33:10.256 --> 00:33:18.520\n[MUSIC]\n\n",
          "vimeoId": "173781171"
        },
        {
          "description": "In this episode, Ronnie and Don introduce the major products that a CEENT will likely encounter in production.  They mainly focus in on Routers and Switches and mention the Cisco ASA (Firewall Appliance).  This introduction they give includes describing what a technician is expecting to see and know and introduces the basic hardware setup.  Every certified professional should be familiar with most of the concept introduced in this episode.",
          "length": "1806",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-6-introduction_to_cisco_hardware-070716-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-6-introduction_to_cisco_hardware-070716-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-6-introduction_to_cisco_hardware-070716-1-sm.jpg",
          "title": "Introduction to Cisco Hardware",
          "transcript": "WEBVTT\n\n1\n00:00:00.095 --> 00:00:10.095\n[MUSIC]\n\n2\n00:00:12.093 --> 00:00:14.784\nWelcome to another great\nepisode right here on ITProTV.\n\n3\n00:00:14.784 --> 00:00:19.191\nI'm your host Ronnie Wong and today\nwe're taking you at Cisco CCENT content,\n\n4\n00:00:19.191 --> 00:00:23.665\nwe're getting ready to take that exam,\nand we've been talking about theory,\n\n5\n00:00:23.665 --> 00:00:26.250\nnetwork fundamental for a while now.\n\n6\n00:00:26.250 --> 00:00:29.470\nBut we also need some more practical\nthings to work on as well.\n\n7\n00:00:29.470 --> 00:00:31.660\nAnd so welcome back to our studios Don,\n\n8\n00:00:31.660 --> 00:00:33.828\nas he actually helps us out\nwith some hardware here.\n\n9\n00:00:33.828 --> 00:00:35.470\n>> All right Ronnie,\nglad to be back on the show and\n\n10\n00:00:35.470 --> 00:00:37.540\nkind of glad to have a little fun.\n\n11\n00:00:37.540 --> 00:00:40.100\nThe last few episodes we spent really\ntalking about theories and concepts.\n\n12\n00:00:40.100 --> 00:00:42.410\nBut like you said,\nwe need a practical understanding.\n\n13\n00:00:42.410 --> 00:00:46.020\nAnd so on this episode what I wanna do, is\nI wanna introduce you to the Cisco product\n\n14\n00:00:46.020 --> 00:00:49.480\nline, and go through some of the different\nrouters and switches that they sell.\n\n15\n00:00:49.480 --> 00:00:51.030\nWe're kind of focused on routers and\nswitchers here,\n\n16\n00:00:51.030 --> 00:00:53.330\nbut there are firewalls and\nmany other devices.\n\n17\n00:00:53.330 --> 00:00:54.990\nCisco makes all sorts of stuff.\n\n18\n00:00:54.990 --> 00:00:56.840\nBut the routers and\nswitches are what we were care about.\n\n19\n00:00:56.840 --> 00:00:59.420\nSo, I wanna see the product lines and\nshow those to you and\n\n20\n00:00:59.420 --> 00:01:03.180\nalso talk about some of the different\nhardware that goes into those devices,\n\n21\n00:01:03.180 --> 00:01:06.140\ncuz it can be a little bit\ninteresting when you go to purchase.\n\n22\n00:01:06.140 --> 00:01:10.770\nSo, the first thing is we need to remember\nthat Cisco is really well known for\n\n23\n00:01:10.770 --> 00:01:12.340\nthree primary products.\n\n24\n00:01:12.340 --> 00:01:15.444\nTheir routers, their switches and\ntheir firewalls.\n\n25\n00:01:15.444 --> 00:01:18.550\nNow their routers, that just call\nthem Cisco routers, their switches,\n\n26\n00:01:18.550 --> 00:01:22.160\nthey call those the Cisco catalyst\nswitches, and their firewalls\n\n27\n00:01:22.160 --> 00:01:26.830\nare the Cisco ASA appliances, or\nthe Adaptive Security Appliances.\n\n28\n00:01:26.830 --> 00:01:28.186\nI guess I got a little double\nappliancy there for a second.\n\n29\n00:01:28.186 --> 00:01:31.995\n>> [LAUGH]\n>> The terminology has changed\n\n30\n00:01:31.995 --> 00:01:33.630\na little bit over the years.\n\n31\n00:01:33.630 --> 00:01:36.410\nFor example, their routers,\nthey used to just call them routers.\n\n32\n00:01:36.410 --> 00:01:40.090\nNow they call them ISRs,\nIntegrated Services Router.\n\n33\n00:01:40.090 --> 00:01:42.970\nAnd the reason they call them ISRs\nis because they do a lot more\n\n34\n00:01:42.970 --> 00:01:43.750\nthan just route.\n\n35\n00:01:43.750 --> 00:01:44.870\nThey used to just route.\n\n36\n00:01:44.870 --> 00:01:48.980\nBut now, they can be voice over\nIP aggregators for phone calls.\n\n37\n00:01:48.980 --> 00:01:50.456\nThey can be firewalls.\n\n38\n00:01:50.456 --> 00:01:51.954\nThey can be VPN concentrators.\n\n39\n00:01:51.954 --> 00:01:54.450\nThe router can do a lot\nmore than just route.\n\n40\n00:01:54.450 --> 00:01:58.030\nSo they call it an integrated\nservices router, an ISR.\n\n41\n00:01:58.030 --> 00:01:59.010\nSame thing with the firewalls.\n\n42\n00:01:59.010 --> 00:02:01.158\nThe firewalls used to just be firewalls,\nthey would filter traffic.\n\n43\n00:02:01.158 --> 00:02:04.538\nBut now they terminate VPNs,\nthey provide proxy connections,\n\n44\n00:02:04.538 --> 00:02:07.303\nthey provide all sorts of fancy bells and\nwhistles.\n\n45\n00:02:07.303 --> 00:02:12.380\nAnd so they call them Adaptive Security\nAppliances, they do a lot more.\n\n46\n00:02:12.380 --> 00:02:14.303\nSwitches, they're pretty\nmuch still switches, right?\n\n47\n00:02:14.303 --> 00:02:17.587\n[LAUGH] You do have the catalyst switches,\ntheir main line,\n\n48\n00:02:17.587 --> 00:02:20.960\nwhich are traditional layer 2 and\nlayer 3 switches.\n\n49\n00:02:20.960 --> 00:02:27.370\nThey do have their Nexus switches,\nwhich are really\n\n50\n00:02:27.370 --> 00:02:31.720\ndesigned for enterprise type environments,\nwhere you have storage area networks,\n\n51\n00:02:31.720 --> 00:02:36.540\nor virtualized networking, where they\ncall it software-defined networking, SDN.\n\n52\n00:02:36.540 --> 00:02:40.060\nSo those are very, very high end,\nand those aren't on the CCNA, or\n\n53\n00:02:40.060 --> 00:02:44.270\neven the regular CCNP routing switching\ndoesn't go into those either.\n\n54\n00:02:44.270 --> 00:02:46.480\nSo, those are, kinda, special,\nbut they are out there.\n\n55\n00:02:46.480 --> 00:02:50.280\nFor the most part, though, we're looking\nat the regular routers, regular firewalls,\n\n56\n00:02:50.280 --> 00:02:52.800\nregular switches,\nthey're just really fancy, right,\n\n57\n00:02:52.800 --> 00:02:55.250\nand I get that question a lot,\nfrom people.\n\n58\n00:02:55.250 --> 00:02:59.280\nWhy would I buy a Cisco switch for $2,000,\nwhen I can go and get a NETGEAR switch,\n\n59\n00:02:59.280 --> 00:03:02.265\nwith the same amount of ports,\nfor $200, right?\n\n60\n00:03:02.265 --> 00:03:04.880\nIt really is a 10 times price difference.\n\n61\n00:03:04.880 --> 00:03:08.400\nAnd the reason is, if you're just\ngoing on port density, yeah,\n\n62\n00:03:08.400 --> 00:03:10.490\nyou get a better deal with NETGEAR, fine.\n\n63\n00:03:10.490 --> 00:03:14.400\nBut understand that on the Cisco router,\nyou have a lot of features,\n\n64\n00:03:14.400 --> 00:03:17.330\na lot of bells and whistles,\nespecially in terms of management.\n\n65\n00:03:17.330 --> 00:03:19.923\nAnd you also have a bigger back plane,\n\n66\n00:03:19.923 --> 00:03:25.042\nwhich means if I have two 48 port\nswitches, they're not created equal.\n\n67\n00:03:25.042 --> 00:03:29.810\nOne 48 port switch might\nonly have a 6 gig backplane.\n\n68\n00:03:29.810 --> 00:03:32.150\nAnd now my ports are all\nsharing bandwidth and\n\n69\n00:03:32.150 --> 00:03:34.470\nI can't fully take advantage of\nthe bandwidth that's on there.\n\n70\n00:03:34.470 --> 00:03:38.310\nAnother 48 port switch might\nhave a 72 gig backplane, and\n\n71\n00:03:38.310 --> 00:03:41.600\nnow every single port on the switch\ncan run at full capacity, and\n\n72\n00:03:41.600 --> 00:03:43.910\nI can take full advantage of\nthe bandwidth that I've got.\n\n73\n00:03:43.910 --> 00:03:44.926\nThat's gonna impact the price.\n\n74\n00:03:44.926 --> 00:03:48.260\nSo there's a lot more to look\nat than just port density.\n\n75\n00:03:48.260 --> 00:03:51.780\nAnd not every gigabit switch\nis created the same and\n\n76\n00:03:51.780 --> 00:03:53.220\nthere's things that set them apart.\n\n77\n00:03:53.220 --> 00:03:55.905\nNow that being said,\nCisco is still expensive.\n\n78\n00:03:55.905 --> 00:04:00.090\n[LAUGH] If you find a competitor\nswitch that is identical feature wise,\n\n79\n00:04:00.090 --> 00:04:03.540\nCisco will normally be a little more and\nthere's two big reasons for that.\n\n80\n00:04:03.540 --> 00:04:04.650\nOne is name brand, right.\n\n81\n00:04:04.650 --> 00:04:06.840\nCisco is the market leader\nin networking equipment.\n\n82\n00:04:06.840 --> 00:04:08.550\nThey have been for many, many years.\n\n83\n00:04:08.550 --> 00:04:10.440\nSo they can charge a premium.\n\n84\n00:04:10.440 --> 00:04:15.920\nThe second thing is, Cisco did a really\ngreat thing which is their IOS,\n\n85\n00:04:15.920 --> 00:04:19.910\nthe Cisco Inner Network Operating System\nthat we're gonna see in the next episode.\n\n86\n00:04:19.910 --> 00:04:24.660\nThe IOS is the same on their switches,\non their routers, and for\n\n87\n00:04:24.660 --> 00:04:26.010\nthe most part, on their ASAs.\n\n88\n00:04:26.010 --> 00:04:27.850\nIt's a little bit different on their ASAs.\n\n89\n00:04:27.850 --> 00:04:31.348\nSo if you learn how to work with\none device, you can jump over and\n\n90\n00:04:31.348 --> 00:04:34.590\nwork with the others and\nit's easy to move back and forth.\n\n91\n00:04:34.590 --> 00:04:37.374\nAnd as an employer,\nwhen you're hiring new employees,\n\n92\n00:04:37.374 --> 00:04:40.738\nit's very easy to find people that\nare trained in Cisco equipment and\n\n93\n00:04:40.738 --> 00:04:43.058\nget them jumped in and\nworking right on day one,\n\n94\n00:04:43.058 --> 00:04:47.190\nversus if you have third-party equipment\nwhere they might not be familiar with it.\n\n95\n00:04:47.190 --> 00:04:49.210\nNow that we've got a learning\ncurve to go through.\n\n96\n00:04:49.210 --> 00:04:52.460\nSo those are some of the reasons why we\nhave such a price disparity between CISCO\n\n97\n00:04:52.460 --> 00:04:53.930\nand other vendors, all right.\n\n98\n00:04:53.930 --> 00:04:57.390\nBut enough talking about price, let's\njust pretend like money is no object for\n\n99\n00:04:57.390 --> 00:05:00.620\na minute and\nlet's take a look at Cisco's product line.\n\n100\n00:05:00.620 --> 00:05:01.954\nSo I've got Cisco's web\npage pulled up here.\n\n101\n00:05:01.954 --> 00:05:04.140\nAnd if you go up to products and services,\n\n102\n00:05:04.140 --> 00:05:06.970\nremember how I said Cisco\nmakes a lot of stuff?\n\n103\n00:05:06.970 --> 00:05:11.380\nWell, you'll notice right off\nthe bat there are a lot of switches,\n\n104\n00:05:11.380 --> 00:05:13.750\nrouters and other devices in here.\n\n105\n00:05:13.750 --> 00:05:16.822\nWe'll see routers, security, switches.\n\n106\n00:05:16.822 --> 00:05:20.789\nBut you'll also see a lot of other things\nlike networking software IOS and NX-OS,\n\n107\n00:05:20.789 --> 00:05:22.785\nthat's what runs on the Nexus switches.\n\n108\n00:05:22.785 --> 00:05:27.277\nInfrastructure software like Cisco ONE,\nHyperconverged Infrastructure,\n\n109\n00:05:27.277 --> 00:05:31.700\nCisco Meraki, Aironet, all the other\ndifferent products they have.\n\n110\n00:05:31.700 --> 00:05:32.845\nIt's really a lot of stuff.\n\n111\n00:05:32.845 --> 00:05:35.860\nBut for the exam,\nwe're gonna focus on routers and switches.\n\n112\n00:05:35.860 --> 00:05:36.800\nLet's start with switches.\n\n113\n00:05:38.130 --> 00:05:41.540\nNow, on the Cisco switch line, we saw this\na little bit in the last episode where I\n\n114\n00:05:41.540 --> 00:05:43.350\ntalked about multitiered architecture.\n\n115\n00:05:43.350 --> 00:05:47.060\nHow you have an access layer,\na distribution layer and a core layer.\n\n116\n00:05:47.060 --> 00:05:50.651\nSo when you go shopping for a switch,\nthat's how Cisco arranges these things.\n\n117\n00:05:50.651 --> 00:05:54.880\nYou've got your core distribution switches\nand you got your access switches.\n\n118\n00:05:54.880 --> 00:05:57.350\nAccess switches focus\nprimarily on port density,\n\n119\n00:05:57.350 --> 00:05:59.790\ngiving you many ports as possible.\n\n120\n00:05:59.790 --> 00:06:02.490\nCore switches focus on bandwidth,\n\n121\n00:06:02.490 --> 00:06:05.010\ngetting as much data moving\nthrough them as possible.\n\n122\n00:06:05.010 --> 00:06:08.200\nAnd as a result, a core distribution\nswitches are usually fancier.\n\n123\n00:06:08.200 --> 00:06:11.100\nThey got more features and\nthus they're more expensive.\n\n124\n00:06:11.100 --> 00:06:13.770\nAccess switches are normally less fancy.\n\n125\n00:06:13.770 --> 00:06:17.880\nThey have less features, cuz they're\njust solely focused on port density,\n\n126\n00:06:17.880 --> 00:06:20.120\nand that makes them less expensive.\n\n127\n00:06:20.120 --> 00:06:24.840\nNow on the access switch side, what you're\ngonna find is that most access switches\n\n128\n00:06:24.840 --> 00:06:27.640\nare what are called fixed\nconfiguration switches.\n\n129\n00:06:27.640 --> 00:06:32.501\nOn the access side, the two most popular\nmodels are the 3650 and the 3750,\n\n130\n00:06:32.501 --> 00:06:34.944\nwhich I said and then I don't see it here.\n\n131\n00:06:34.944 --> 00:06:37.710\nBut the 3750 is very, very common.\n\n132\n00:06:37.710 --> 00:06:42.440\nThe 3650 also and\nthen we've also got the 2960.\n\n133\n00:06:42.440 --> 00:06:45.980\nThe 2960 is primarily a layer 2 switch,\n\n134\n00:06:45.980 --> 00:06:49.340\nit's really just designed to move\ndata from one port to another.\n\n135\n00:06:49.340 --> 00:06:54.050\nIt has light layer 3 functionality so it\ncan do basic routing but that's about it,\n\n136\n00:06:54.050 --> 00:06:56.600\nit's really designed for\nlayer 2 functionality.\n\n137\n00:06:56.600 --> 00:07:00.170\nThis is probably the least expensive of\nthe business-class switches from Cisco.\n\n138\n00:07:00.170 --> 00:07:03.977\nThey have those cheapy ones, I don't\nlike to talk about those [LAUGH] and\n\n139\n00:07:03.977 --> 00:07:06.810\nso, but of their really business class,\nthese guys.\n\n140\n00:07:06.810 --> 00:07:09.130\nThe 2960's kind of that entry point.\n\n141\n00:07:09.130 --> 00:07:13.620\nAnd if you look at a 2960,\nthese are fixed configuration switches.\n\n142\n00:07:13.620 --> 00:07:18.040\nIn other words, if I buy one and\nit's got 48 ports in it, then that's it,\n\n143\n00:07:18.040 --> 00:07:18.938\nit's got 48 ports.\n\n144\n00:07:18.938 --> 00:07:22.815\nIf I buy a 24 port model,\nit's got 24 ports.\n\n145\n00:07:22.815 --> 00:07:26.155\nSee this big open space here,\nI can't do anything with that.\n\n146\n00:07:26.155 --> 00:07:28.735\nI can't go on and buy a 24 port module and\nstick it in there.\n\n147\n00:07:28.735 --> 00:07:32.855\nThis is fixed configuration, so when you\nbuy it, it's got the set of ports and\n\n148\n00:07:32.855 --> 00:07:34.095\nthat's it.\n\n149\n00:07:34.095 --> 00:07:37.060\nNow, notice on the right side\nthese weird little ports.\n\n150\n00:07:37.060 --> 00:07:40.015\nThese are called SFPs and I'm gonna show\nyou a physical switch here in a minute,\n\n151\n00:07:40.015 --> 00:07:41.068\nwe'll get a chance to see these.\n\n152\n00:07:41.068 --> 00:07:44.067\nBut these are SFPs,\nare small form factor ports and\n\n153\n00:07:44.067 --> 00:07:49.018\nyou can buy these little adapters to stick\nin there, to make them copper, or fiber or\n\n154\n00:07:49.018 --> 00:07:50.782\nthere's a few other things.\n\n155\n00:07:50.782 --> 00:07:55.452\nYou can do multi mode fibers, single mode\nfibers, sometimes you can do 10 gig or\n\n156\n00:07:55.452 --> 00:07:56.819\n40 gig connections.\n\n157\n00:07:56.819 --> 00:07:58.852\nA lot of times they're\njust gigabit connections,\n\n158\n00:07:58.852 --> 00:08:00.373\nit depends on the switch that you buy.\n\n159\n00:08:00.373 --> 00:08:01.064\nAnd again,\n\n160\n00:08:01.064 --> 00:08:06.080\non a fixed configuration switch,\nthe way you buy it is the way that it is.\n\n161\n00:08:06.080 --> 00:08:09.140\nBut there are some switches\nthat are modular switches.\n\n162\n00:08:09.140 --> 00:08:12.080\nWe don't normally see modular switches\non the access layer, except for\n\n163\n00:08:12.080 --> 00:08:17.130\nthe 4500 series, so\nif I go back to the product line page,\n\n164\n00:08:17.130 --> 00:08:21.310\none of the first access switches\nin the list was the 4500E.\n\n165\n00:08:21.310 --> 00:08:25.090\nAnd if I go into that 4500E, you'll notice\nthat these are the bigger switches.\n\n166\n00:08:25.090 --> 00:08:28.180\nAnd I think I showed these on\nthe show the other day, and\n\n167\n00:08:28.180 --> 00:08:30.680\nwith these what you're\nactually buying is a chassis.\n\n168\n00:08:30.680 --> 00:08:33.070\nThey got a couple power supplies in it and\na big open chassis and\n\n169\n00:08:33.070 --> 00:08:34.850\nyou can throw line cards into them.\n\n170\n00:08:34.850 --> 00:08:40.320\nSo when you buy it you can mix and\nmatch cards to get exactly what you need.\n\n171\n00:08:40.320 --> 00:08:44.530\nMaybe I need 100 ports\nthat are gigabit ports.\n\n172\n00:08:44.530 --> 00:08:49.010\nAnd I need another hundred ports\nthat are gigabit ports with POE and\n\n173\n00:08:49.010 --> 00:08:52.360\nI need 12 fiber ports\nthat are ten gig each.\n\n174\n00:08:52.360 --> 00:08:56.130\nWell, I can buy the appropriate cards and\ninsert them into this unit.\n\n175\n00:08:56.130 --> 00:08:58.660\nModular switches are nice, because\nyou can change them after the fact.\n\n176\n00:08:58.660 --> 00:09:00.500\nThey can change according to your needs.\n\n177\n00:09:00.500 --> 00:09:02.900\nFixed configurations\njust kind of lock you in.\n\n178\n00:09:02.900 --> 00:09:04.690\nAnd so\nyou've got to buy new switches to upgrade.\n\n179\n00:09:04.690 --> 00:09:06.590\nIt makes things a little more challenging.\n\n180\n00:09:06.590 --> 00:09:09.330\nThe same thing happens at core and\ndistribution.\n\n181\n00:09:09.330 --> 00:09:10.330\nBut when you get to core and\n\n182\n00:09:10.330 --> 00:09:13.580\ndistribution, you're much more likely\nto see modular switches, right.\n\n183\n00:09:13.580 --> 00:09:17.190\nSo if I go back to their product line and\ngo down to Core and\n\n184\n00:09:17.190 --> 00:09:21.240\nDistribution, which, where did I go,\nhere, Core and Distribution.\n\n185\n00:09:21.240 --> 00:09:25.940\nThat we're gonna see the 6800 series\nwhich are a high end modular switches.\n\n186\n00:09:25.940 --> 00:09:29.760\nYou got the 6500 which probably\ntheir most common core switch.\n\n187\n00:09:29.760 --> 00:09:31.879\nYou've got the 4500-X.\n\n188\n00:09:31.879 --> 00:09:35.720\n4500-X is weird, it's not like\nthe 4500-E that we saw a moment ago.\n\n189\n00:09:35.720 --> 00:09:40.480\nIf you look really close,\nthese are sort of modular, sort of fixed.\n\n190\n00:09:40.480 --> 00:09:42.280\nThey're kind of bizarre little switches.\n\n191\n00:09:42.280 --> 00:09:44.010\nLet me show you one a little bit.\n\n192\n00:09:44.010 --> 00:09:45.944\nLet me see if I can make\nthat picture bigger.\n\n193\n00:09:45.944 --> 00:09:47.240\nI will try, there we go.\n\n194\n00:09:47.240 --> 00:09:52.295\nAll right, so when I look at\nthe Cisco 4500-X, what I'm seeing\n\n195\n00:09:52.295 --> 00:09:57.537\nhere is these ports, which are all SFPs,\nright, there's 24 SFPs.\n\n196\n00:09:57.537 --> 00:10:01.585\nAnd they're all fixed, those are all\nlocked into place, that's there.\n\n197\n00:10:01.585 --> 00:10:04.910\nBut on the right side you\nkinda see that screw, and\n\n198\n00:10:04.910 --> 00:10:08.080\nthat, I guess this is the end\nof the picture, I can't.\n\n199\n00:10:08.080 --> 00:10:09.090\nWhat's it doing?\n\n200\n00:10:09.090 --> 00:10:11.940\nIt's not letting me see\nthe rest of that picture.\n\n201\n00:10:11.940 --> 00:10:16.350\nBut basically that's a little module\nthat you can change in and out.\n\n202\n00:10:16.350 --> 00:10:20.720\nSo if you want a couple of ten\ngig ports or a 40 gig port,\n\n203\n00:10:20.720 --> 00:10:25.570\nor multiple one gig ports, you can put\nin different adapters to achieve that.\n\n204\n00:10:25.570 --> 00:10:28.710\nSo it's got that functionality kind\nof built right into that switch.\n\n205\n00:10:28.710 --> 00:10:31.420\nIt's a mixture of fixed and modular.\n\n206\n00:10:32.610 --> 00:10:35.430\nWe get this same type of\nthing on our routers.\n\n207\n00:10:35.430 --> 00:10:39.090\nExcept routers are almost, always modular.\n\n208\n00:10:39.090 --> 00:10:40.080\nWhen you buy a router,\n\n209\n00:10:40.080 --> 00:10:44.330\nit will normally only have one or\ntwo ports built in to the router itself.\n\n210\n00:10:44.330 --> 00:10:48.070\nSo if I go back up here to Products\n& Services, like I'm gonna try.\n\n211\n00:10:48.070 --> 00:10:50.744\nIf I go to Product & Services.\n\n212\n00:10:50.744 --> 00:10:54.670\n[LAUGH] Apparently I've\nbroken the Internet here.\n\n213\n00:10:54.670 --> 00:10:58.705\nBut if I go to Products & Services, and\nI go to the routers, when we jump into\n\n214\n00:10:58.705 --> 00:11:02.700\nthe routers you'll see where they\nusually have two ports built into them.\n\n215\n00:11:02.700 --> 00:11:05.810\nMost Cisco routers have\neither two fast Ethernet or\n\n216\n00:11:05.810 --> 00:11:09.280\ntwo gigabit Ethernet ports\nbuilt in to the router.\n\n217\n00:11:09.280 --> 00:11:13.860\nSo, if I'm just looking to route between\ntwo hundred megabit networks, or\n\n218\n00:11:13.860 --> 00:11:18.210\ntwo gigabit networks, I can probably deal\nwith the ports that come in the router.\n\n219\n00:11:18.210 --> 00:11:22.760\nBut, if I wanna start connecting to a WAN,\na wide area network,\n\n220\n00:11:22.760 --> 00:11:26.230\nwell Cisco knows there's a number of\ndifferent WAN types that are out there.\n\n221\n00:11:26.230 --> 00:11:30.030\nAnd so, instead of making multiple\nrouters, they make one router and\n\n222\n00:11:30.030 --> 00:11:33.790\nyou can change out the modules\nin it to achieve what you need.\n\n223\n00:11:33.790 --> 00:11:36.740\nIf I start with the branch routers, so\nthese would be routers that are out\n\n224\n00:11:36.740 --> 00:11:40.030\nin your branch offices,\nyour small to medium size offices.\n\n225\n00:11:40.030 --> 00:11:42.360\nYou can see where we've\ngot the 4000 series,\n\n226\n00:11:42.360 --> 00:11:45.810\nthe 800 series, these are very\ncommon routers that are out there.\n\n227\n00:11:45.810 --> 00:11:49.610\nThe 4000 is the common model that\nyou're gonna see deployed today.\n\n228\n00:11:49.610 --> 00:11:53.390\nAnd when you take a look at it,\nnotice how they call it out as\n\n229\n00:11:53.390 --> 00:11:58.910\nan Integrated Services Router an ISR And\nwhen we look at the picture of it,\n\n230\n00:11:58.910 --> 00:12:03.570\nyou'll see where it's got some\nports built right into the router.\n\n231\n00:12:03.570 --> 00:12:07.520\nAnd then it's got these big,\ngrated areas over here, okay?\n\n232\n00:12:07.520 --> 00:12:11.880\nThose are little hatches that you can open\nup, and you can slide modules in there.\n\n233\n00:12:11.880 --> 00:12:16.070\nSo if you've got a serial based T1\nline you can buy a T1 module and\n\n234\n00:12:16.070 --> 00:12:16.980\nchuck it in there.\n\n235\n00:12:16.980 --> 00:12:20.190\nIf you've got fiber optic metro\nEthernet you could throw a fiber optic\n\n236\n00:12:20.190 --> 00:12:21.240\nmodule in there.\n\n237\n00:12:21.240 --> 00:12:25.019\nIf you have MPLS running on some crazy\ncircuit you can get the module and\n\n238\n00:12:25.019 --> 00:12:26.054\nthrow it in there.\n\n239\n00:12:26.054 --> 00:12:29.785\nIf you have DSL you can get a DSL\nasynchronous serial port and\n\n240\n00:12:29.785 --> 00:12:31.360\nyou chuck that in there.\n\n241\n00:12:31.360 --> 00:12:36.130\nThere's a few different technologies that\nyou can get, and you can mix and match.\n\n242\n00:12:36.130 --> 00:12:38.630\nIf you have four T1s,\nyou can get four modules.\n\n243\n00:12:38.630 --> 00:12:40.790\nOr sometimes, there's one module\nwith four ports on it, right?\n\n244\n00:12:40.790 --> 00:12:43.710\nIt just depends on what it is\nthat you're trying to achieve.\n\n245\n00:12:43.710 --> 00:12:45.690\nThe branch routers are small.\n\n246\n00:12:45.690 --> 00:12:46.570\nThey're small physically.\n\n247\n00:12:46.570 --> 00:12:48.230\nThey're usually one or two U, right?\n\n248\n00:12:48.230 --> 00:12:50.430\nThat one's two U right there.\n\n249\n00:12:50.430 --> 00:12:53.760\nSo in networking equipment,\nif you are not familiar with it,\n\n250\n00:12:53.760 --> 00:12:56.680\nwe measure things in what\nare called rack units or RUs.\n\n251\n00:12:56.680 --> 00:12:59.573\nAnd a rack unit is 1.75 inches.\n\n252\n00:12:59.573 --> 00:13:02.982\nSo when you go to a server room and\nsee those big tall racks,\n\n253\n00:13:02.982 --> 00:13:04.940\nthose are normally 42 U racks.\n\n254\n00:13:04.940 --> 00:13:07.948\nAnd so if you do a 42 times 1.75,\nit ends up being,\n\n255\n00:13:07.948 --> 00:13:13.510\nI'm not good at math, so\naround like 70 inches tall,\n\n256\n00:13:13.510 --> 00:13:16.700\nwhich is a little taller than\nwhat we normally are, right?\n\n257\n00:13:16.700 --> 00:13:18.410\nSo that's how we kind of measure racks.\n\n258\n00:13:18.410 --> 00:13:21.540\nAnd they've got little markings\non that side that show they\n\n259\n00:13:21.540 --> 00:13:22.960\ncan hold 42 Us of equipment.\n\n260\n00:13:22.960 --> 00:13:26.850\nWell if you have a router that's two U,\nyou can fit 21 of them in a rack.\n\n261\n00:13:26.850 --> 00:13:29.320\nSo that's where that unit\nof measurement comes from.\n\n262\n00:13:29.320 --> 00:13:33.235\nMost branch routers are just one\nU in size 1.75 inches tall but\n\n263\n00:13:33.235 --> 00:13:37.380\nsome are a little bigger because\nthey've got extra modules in them.\n\n264\n00:13:37.380 --> 00:13:40.599\nIt's usually the ones who are going to be\nsupporting voice over IP if you're doing\n\n265\n00:13:40.599 --> 00:13:43.910\nvoice over IP you want to have some\nextra modules in that to power that.\n\n266\n00:13:43.910 --> 00:13:48.110\nOr you can actually get full on switch\nmodules to chuck in there and now you have\n\n267\n00:13:48.110 --> 00:13:51.950\na switch built into your router you have\none device that's doing both things and\n\n268\n00:13:51.950 --> 00:13:54.790\nit's a powerful option to\nhave at a branch office.\n\n269\n00:13:54.790 --> 00:13:56.730\nYou wouldn't wanna do that at your core.\n\n270\n00:13:56.730 --> 00:14:00.230\nA switch in a router is never gonna\nperform the same as an actual switch.\n\n271\n00:14:01.720 --> 00:14:05.770\nSo if I back up here and leave the branch\nand head back to the home office.\n\n272\n00:14:05.770 --> 00:14:07.780\nSo those are branch routers.\n\n273\n00:14:07.780 --> 00:14:12.910\nIf I move to Network Edge and Aggregation,\nthis is what we would have in a business.\n\n274\n00:14:12.910 --> 00:14:16.680\nYour core is focused on moving\ndata as quickly as possible.\n\n275\n00:14:16.680 --> 00:14:20.890\nAnd it's your edge where were connected\nto our ISPs in our branch offices, and\n\n276\n00:14:20.890 --> 00:14:22.400\nall that happening through the core.\n\n277\n00:14:22.400 --> 00:14:25.130\nAnd so they call this network edge and\naggregation.\n\n278\n00:14:25.130 --> 00:14:30.160\nAnd you'll see the 1000 Series, the 5000\nSeries, these routers are pretty similar.\n\n279\n00:14:30.160 --> 00:14:33.160\nNotice some of these look\nlike giant switches, right.\n\n280\n00:14:33.160 --> 00:14:36.580\nThey look like the 6500 series switches or\nwhatever.\n\n281\n00:14:36.580 --> 00:14:39.420\nAnd If you're in a massive\nenterprise you might have\n\n282\n00:14:39.420 --> 00:14:42.480\nhundreds of lines running\nout to your branches and\n\n283\n00:14:42.480 --> 00:14:46.470\nyou would need a giant router to be able\nto handle that and these are all modular.\n\n284\n00:14:47.860 --> 00:14:50.790\nThe 1000 series is probably the most\ncommon that people purchase today just\n\n285\n00:14:50.790 --> 00:14:52.090\nbecause of it's price point.\n\n286\n00:14:52.090 --> 00:14:55.450\nBut when you look at these you'll see that\nthere is a one new model right here that\n\n287\n00:14:55.450 --> 00:14:58.460\nhas a bunch of ports in it and\nit is lightly modular.\n\n288\n00:14:58.460 --> 00:15:01.050\nYou can add cards to it to\nchange what you've got.\n\n289\n00:15:01.050 --> 00:15:03.820\nBut then there's the massive ones\nthat have tons of cards in there,\n\n290\n00:15:03.820 --> 00:15:05.110\nagain to meet your needs.\n\n291\n00:15:05.110 --> 00:15:08.100\nSo you kind of pick and choose,\nyou buy the router that's suited for\n\n292\n00:15:08.100 --> 00:15:09.130\nyour environment.\n\n293\n00:15:09.130 --> 00:15:12.680\nIf it's a branch office with one T1 line,\nyou don't need a giant router for\n\n294\n00:15:12.680 --> 00:15:14.490\nthat, you can buy a smaller one.\n\n295\n00:15:14.490 --> 00:15:16.520\nThe advantage of buying a bigger\none is that it's modular.\n\n296\n00:15:16.520 --> 00:15:19.930\nYou can add more interfaces to\nadapt to your company's needs.\n\n297\n00:15:19.930 --> 00:15:22.550\nAll right well these pictures\nare a little hard to see, so\n\n298\n00:15:22.550 --> 00:15:25.960\nwhat I wanna do now is I wanna show\nyou guys actual physical equipment, so\n\n299\n00:15:25.960 --> 00:15:28.300\nyou can get an idea of\nwhat this looks like.\n\n300\n00:15:28.300 --> 00:15:30.721\nAnd behind me here I've\ngot a couple of devices.\n\n301\n00:15:30.721 --> 00:15:31.978\nLet me start with this one.\n\n302\n00:15:31.978 --> 00:15:38.200\nSo this is a 3560 switch.\n\n303\n00:15:38.200 --> 00:15:42.350\nAnd the 3560 is really, really common.\n\n304\n00:15:42.350 --> 00:15:46.180\nIf you go to buy a switch today\nwe saw the 3560 as one that is,\n\n305\n00:15:46.180 --> 00:15:47.400\ncurrently on the market.\n\n306\n00:15:47.400 --> 00:15:52.100\nAnd what it does is it gives\nyou 48 gigabit ports and\n\n307\n00:15:52.100 --> 00:15:54.460\nfour of those SFP ports on the end.\n\n308\n00:15:54.460 --> 00:15:56.216\nNow the SFP ports are gigabit.\n\n309\n00:15:56.216 --> 00:16:00.632\nThere is one model that comes, it has\na ten gigabit adapter you can pop into it.\n\n310\n00:16:00.632 --> 00:16:02.107\nThis one doesn't have that.\n\n311\n00:16:02.107 --> 00:16:04.227\nBut those are used for uplinks, right.\n\n312\n00:16:04.227 --> 00:16:07.497\nSo, we've got 48 ports for\nworkstations and then,\n\n313\n00:16:07.497 --> 00:16:12.830\nwe can uplink right up to our distribution\nswitches and then ultimately, our core.\n\n314\n00:16:12.830 --> 00:16:14.390\nSo, that that functionality is there.\n\n315\n00:16:14.390 --> 00:16:18.350\n>> Now Don, before you go on, I see\nthis one says PoE, what's that about?\n\n316\n00:16:18.350 --> 00:16:20.440\n>> That's a big differentiator\nright there because it changes\n\n317\n00:16:20.440 --> 00:16:21.243\nthe price of the switch.\n\n318\n00:16:21.243 --> 00:16:23.530\n>> [LAUGH]\n>> When you buy a switch these days,\n\n319\n00:16:23.530 --> 00:16:26.860\nthere's normal ports and\nthere's POE ports and there's POE Plus.\n\n320\n00:16:26.860 --> 00:16:28.340\nI guess we need to remember that.\n\n321\n00:16:28.340 --> 00:16:30.360\nPOE is Power Over Ethernet.\n\n322\n00:16:30.360 --> 00:16:32.750\nIf you have Voice Over IP phones,\n\n323\n00:16:32.750 --> 00:16:35.840\nyou usually have to have a wall\nadapter to plug it in for power.\n\n324\n00:16:35.840 --> 00:16:40.240\nBut if you have a POE switch like\nthis one, it can provide power,\n\n325\n00:16:40.240 --> 00:16:42.850\nprovides current,\nright over the network cable.\n\n326\n00:16:42.850 --> 00:16:45.230\nSo when you plug in the network cable now,\nthe phone gets power.\n\n327\n00:16:45.230 --> 00:16:46.580\nYou don't need a separate power cord.\n\n328\n00:16:46.580 --> 00:16:47.920\n>> Nice.\n>> That's a really nice thing to have,\n\n329\n00:16:47.920 --> 00:16:49.590\nbut you've got to have\na switch that supports it.\n\n330\n00:16:49.590 --> 00:16:53.630\nSo this one actually says right up here,\nlike Ronnie pointed out, POE.\n\n331\n00:16:53.630 --> 00:16:57.590\nThis one says Catalyst 3560 Series,\nPOE-48.\n\n332\n00:16:57.590 --> 00:16:58.990\nIt's 48 ports.\n\n333\n00:16:58.990 --> 00:17:01.450\nNow, it's actually 52 ports.\n\n334\n00:17:01.450 --> 00:17:06.130\nIt's 48 POE ports and\nthen 4 more SFT ports, but\n\n335\n00:17:06.130 --> 00:17:08.130\nCisco's not counting those, right?\n\n336\n00:17:08.130 --> 00:17:12.700\nNow when you look at this switch, see how\nthe ports are divided up here like this?\n\n337\n00:17:12.700 --> 00:17:16.060\nOn this switch,\nwe have what's called over subscription.\n\n338\n00:17:16.060 --> 00:17:19.640\nThere's more ports that\nare available on the back plane.\n\n339\n00:17:19.640 --> 00:17:22.240\nAnd so, whenever that happens,\nwhat Cisco will do is,\n\n340\n00:17:22.240 --> 00:17:27.160\nthey'll draw these little boxes around\nit to show where we have contention.\n\n341\n00:17:27.160 --> 00:17:30.240\nLike these ports are one big group,\nso technically,\n\n342\n00:17:30.240 --> 00:17:32.500\none device in here could\ncontend with another device.\n\n343\n00:17:32.500 --> 00:17:34.080\nOther switches might\nhave these even smaller.\n\n344\n00:17:34.080 --> 00:17:35.710\nI'll show you that in a minute.\n\n345\n00:17:35.710 --> 00:17:37.770\nOther switches might\nbe fully non-blocking.\n\n346\n00:17:37.770 --> 00:17:41.610\nLike if I had a 3750, those things\nevery port has full bandwidth.\n\n347\n00:17:41.610 --> 00:17:45.540\nAnd so, you won't see these little boxes\ndrawn like what we're seeing here.\n\n348\n00:17:45.540 --> 00:17:49.840\nYour SFP ports almost always have\ndedicated access to the backplane.\n\n349\n00:17:49.840 --> 00:17:52.210\nSo if I have 4 gigabit SFP ports,\n\n350\n00:17:52.210 --> 00:17:55.300\nthen they each have a full\ngigabit to the backplane.\n\n351\n00:17:55.300 --> 00:17:56.330\nThere's also P ports.\n\n352\n00:17:56.330 --> 00:18:00.560\nThey're modular, so when you buy\nyour switch Let me pop that out.\n\n353\n00:18:00.560 --> 00:18:02.740\nThey're just empty little\nports like that and then,\n\n354\n00:18:02.740 --> 00:18:08.440\nyou buy the SFP adaptors like this one and\nthey pop in and they convert that port.\n\n355\n00:18:08.440 --> 00:18:09.670\nThis is a fiber optic one.\n\n356\n00:18:09.670 --> 00:18:13.860\nSo if I need a fiber cable, I can pop that\nin and now, I've got a fiber adaptor.\n\n357\n00:18:13.860 --> 00:18:17.470\nI can do single mode or multi-mode,\nwhatever it is I'm trying to do.\n\n358\n00:18:17.470 --> 00:18:19.670\nIf I'm short distance or long distance or\n\n359\n00:18:19.670 --> 00:18:23.580\nyou can get copper adaptors to pop in here\nand now, you got a copper connection.\n\n360\n00:18:23.580 --> 00:18:25.270\nConnect like another port, like these.\n\n361\n00:18:25.270 --> 00:18:29.040\nNot POE, but\nanother port nonetheless, all right.\n\n362\n00:18:29.040 --> 00:18:31.770\nNow, this is a fixed configuration switch.\n\n363\n00:18:31.770 --> 00:18:33.290\nI cannot change any of these ports.\n\n364\n00:18:33.290 --> 00:18:34.200\nIt was bought this way.\n\n365\n00:18:34.200 --> 00:18:34.910\nThat's how it is.\n\n366\n00:18:34.910 --> 00:18:37.410\nIt's permanent and that's that, okay.\n\n367\n00:18:37.410 --> 00:18:39.310\nThe only thing I can\nchange out are my SFPs.\n\n368\n00:18:39.310 --> 00:18:40.600\nEverything else is fixed.\n\n369\n00:18:40.600 --> 00:18:42.720\nOn the router I'm about to show you,\nwe'll see modules.\n\n370\n00:18:42.720 --> 00:18:46.190\nBefore I move on from this,\nI do want to show you one more thing and\n\n371\n00:18:46.190 --> 00:18:48.160\nthat's on the backside of the switch.\n\n372\n00:18:49.580 --> 00:18:53.130\nThere's another port that's gonna\nbe really important to us and\n\n373\n00:18:53.130 --> 00:18:55.285\nthat is the power port right?\n\n374\n00:18:55.285 --> 00:18:56.293\n>> [LAUGH]\n>> You got to have power or\n\n375\n00:18:56.293 --> 00:18:57.340\nthe thing's not going to work.\n\n376\n00:18:57.340 --> 00:18:58.590\nSo we need power and\n\n377\n00:18:58.590 --> 00:19:01.510\nevery Cisco device is going to have\nat least one power connection.\n\n378\n00:19:01.510 --> 00:19:04.840\nSome of the modular devices will have\nwhere you can insert modular power\n\n379\n00:19:04.840 --> 00:19:05.620\nsupplies.\n\n380\n00:19:05.620 --> 00:19:09.190\nAnd if it's a POE device, there will\nbe special power supplies for POE and\n\n381\n00:19:09.190 --> 00:19:11.265\nspecial power supplies for not POE.\n\n382\n00:19:11.265 --> 00:19:12.510\nBecause if the switch is providing power,\n\n383\n00:19:12.510 --> 00:19:14.510\nit needs a lot more electricity\nthan a normal switch.\n\n384\n00:19:14.510 --> 00:19:16.470\nThey have different adaptors for that.\n\n385\n00:19:16.470 --> 00:19:19.250\nNow, this is fixed configuration,\nso there's no modular power supply.\n\n386\n00:19:19.250 --> 00:19:21.450\nIt's built in and I've only got one.\n\n387\n00:19:21.450 --> 00:19:23.280\nSo, see this connector over here?\n\n388\n00:19:23.280 --> 00:19:26.460\nIf I want to do redundant power supplies,\nI can.\n\n389\n00:19:26.460 --> 00:19:27.560\nIt's just external.\n\n390\n00:19:27.560 --> 00:19:30.910\nCisco sells this little rack mount kit\nthat has three power supplies in it and\n\n391\n00:19:30.910 --> 00:19:32.490\nyou can run it to your switches.\n\n392\n00:19:32.490 --> 00:19:36.350\nAnd now, if this power supply were to\nfail, this one would still be running and\n\n393\n00:19:36.350 --> 00:19:37.400\nwe'd be operational.\n\n394\n00:19:37.400 --> 00:19:40.130\nSo, you can introduce a redundant\npower supply in a device.\n\n395\n00:19:40.130 --> 00:19:42.850\nWhen you're not using it, there's a metal\nplate that's supposed to cover that up.\n\n396\n00:19:42.850 --> 00:19:44.460\nAnd you want to leave that\nthere because otherwise,\n\n397\n00:19:44.460 --> 00:19:46.230\nyou're going to mess up your device.\n\n398\n00:19:46.230 --> 00:19:51.170\nRight, and I guess the last port, which is\nalso important is this guy, right here.\n\n399\n00:19:51.170 --> 00:19:53.850\nEvery Cisco device,\nevery router, every switch,\n\n400\n00:19:53.850 --> 00:19:58.690\nevery firewall somewhere on the device\nhas a port labeled CONSOLE.\n\n401\n00:19:58.690 --> 00:20:01.840\nAnd it'll have a light blue color to it,\neither in the name or\n\n402\n00:20:01.840 --> 00:20:02.540\nin the box drawn around it.\n\n403\n00:20:02.540 --> 00:20:05.070\nThere'll be something\nthat makes it light blue.\n\n404\n00:20:05.070 --> 00:20:08.120\nWhen you first connect to\na Cisco device to manage it and\n\n405\n00:20:08.120 --> 00:20:11.170\nwork with it, you're going to need\nto connect to that console port.\n\n406\n00:20:11.170 --> 00:20:13.550\nSo, you need to familiarize\nyourself with where it is.\n\n407\n00:20:13.550 --> 00:20:17.650\nFind it and then, know to use that, right?\n\n408\n00:20:17.650 --> 00:20:19.440\nOn this switch, it's on the back side.\n\n409\n00:20:19.440 --> 00:20:21.160\nOn some devices it's on the front side, so\n\n410\n00:20:21.160 --> 00:20:23.830\nyou may have to hunt\naround to find it a bit.\n\n411\n00:20:23.830 --> 00:20:26.730\nThe other thing is,\nnotice all these screws here on the back?\n\n412\n00:20:26.730 --> 00:20:28.290\nWe can unscrew this and open up the lid,\n\n413\n00:20:28.290 --> 00:20:31.750\nbut there's not really any field\nserviceable modules inside of here.\n\n414\n00:20:31.750 --> 00:20:34.910\nIn older Cisco equipment, there used to be\nmodules you could buy to drop inside of\n\n415\n00:20:34.910 --> 00:20:36.790\nthem, so\npeople would have to open them up.\n\n416\n00:20:36.790 --> 00:20:38.860\nNone of the newer Cisco\nequipment has that any more.\n\n417\n00:20:38.860 --> 00:20:40.770\nIt's all done with\nmodules that slide in it.\n\n418\n00:20:40.770 --> 00:20:44.030\nThis is fixed configuration, so there\nshould never be a reason to open this up.\n\n419\n00:20:45.630 --> 00:20:47.590\nAll right, so\nthat's a fixed configuration.\n\n420\n00:20:47.590 --> 00:20:49.620\nRonnie, let's switch out for\nthis router over here.\n\n421\n00:20:49.620 --> 00:20:51.940\nWe're going to move over\nto a modular device.\n\n422\n00:20:51.940 --> 00:20:53.170\nSo, I've got a Cisco router here.\n\n423\n00:20:53.170 --> 00:20:59.005\nThis is a 2821, and the the 2821 is\nnot in the current product line.\n\n424\n00:20:59.005 --> 00:21:00.335\nSo if you were to go and\n\n425\n00:21:00.335 --> 00:21:05.765\nbuy a Cisco router today, you're going to\nsee one of the 1000s or whatever instead.\n\n426\n00:21:05.765 --> 00:21:07.105\nBut I had this one laying around and\n\n427\n00:21:07.105 --> 00:21:10.520\nI wanted to show it to you,\nbecause it's got a fully modular backend.\n\n428\n00:21:10.520 --> 00:21:15.070\nIf you buy a router like this, actually,\nthese routers are pretty inexpensive.\n\n429\n00:21:15.070 --> 00:21:15.600\nYou go on eBay.\n\n430\n00:21:15.600 --> 00:21:16.910\nThey're great for studying.\n\n431\n00:21:16.910 --> 00:21:19.550\nIf you're studying for this exam and\nyou want to have physical equipment.\n\n432\n00:21:19.550 --> 00:21:24.200\nCisco 2821's are the best, because they'll\nrun the latest IOS, and they're cheap, so\n\n433\n00:21:24.200 --> 00:21:25.240\nit's a great way to learn it.\n\n434\n00:21:25.240 --> 00:21:29.140\nEvery command you need for CCNA and\neven CCNP is supported on them.\n\n435\n00:21:29.140 --> 00:21:32.160\nSo, that's why we had these laying around.\n\n436\n00:21:32.160 --> 00:21:34.610\nWhen you buy a 2821,\nit's got two ports built into it and\n\n437\n00:21:34.610 --> 00:21:36.970\nI know the glare on the metal\nmakes it hard to see.\n\n438\n00:21:36.970 --> 00:21:40.490\nBut there's these two gigabit ethernet\nports right here, G0/0 and G0/1.\n\n439\n00:21:40.490 --> 00:21:44.200\nThese are my two gigabit ports.\n\n440\n00:21:44.200 --> 00:21:48.750\nEverything else on the back are all\nthese little modular adapters.\n\n441\n00:21:48.750 --> 00:21:52.790\nAnd if I take a screwdriver here, I'm just\ngoing to pop this cover off real quick.\n\n442\n00:21:52.790 --> 00:21:58.190\nWhat you'll see is, that I've got\nthis giant slot on the backend and\n\n443\n00:21:58.190 --> 00:22:02.120\nif I pop that open,\nyou can see right into the router.\n\n444\n00:22:02.120 --> 00:22:03.660\nAnd see that connector down there?\n\n445\n00:22:03.660 --> 00:22:05.760\nI can buy what's called\na network module and\n\n446\n00:22:05.760 --> 00:22:07.770\nthe network module can pop right in there.\n\n447\n00:22:07.770 --> 00:22:11.330\nPlug into that and now,\nI've added some extended ports.\n\n448\n00:22:11.330 --> 00:22:15.360\nNetwork modules are the older style and\nyou can recognize them because this like,\n\n449\n00:22:15.360 --> 00:22:16.660\nslant that's on the side.\n\n450\n00:22:16.660 --> 00:22:19.260\nSee how it slants out\nfrom where the screw is?\n\n451\n00:22:19.260 --> 00:22:21.840\nNow on the newer devices,\nwe have what are called service modules.\n\n452\n00:22:21.840 --> 00:22:25.210\nAnd the service modules actually have\na flat end that is rounded on the corners,\n\n453\n00:22:25.210 --> 00:22:26.486\nso it looks a little different.\n\n454\n00:22:26.486 --> 00:22:29.470\nAnd they actually sell an adapter\nto use network modules like this\n\n455\n00:22:29.470 --> 00:22:31.090\nin a service module slot.\n\n456\n00:22:31.090 --> 00:22:35.250\nBut these large ones are great for\nadding high density ports or\n\n457\n00:22:35.250 --> 00:22:38.076\neven entire switches right\ninto the back of the router.\n\n458\n00:22:38.076 --> 00:22:41.910\nThis particular router has has two\nof those network module slots.\n\n459\n00:22:41.910 --> 00:22:43.350\nDepending on the size of your router,\n\n460\n00:22:43.350 --> 00:22:45.340\nyou may or may not have enough room for\ntwo of them.\n\n461\n00:22:45.340 --> 00:22:48.110\nSo, it may be kind of a shorted like this.\n\n462\n00:22:48.110 --> 00:22:51.320\nThe other thing you're going to notice is,\nall these small ports up here.\n\n463\n00:22:51.320 --> 00:22:53.559\nSo these guys,\nthat one's already unscrewed, perfect.\n\n464\n00:22:54.710 --> 00:22:58.640\nThese are WIC slots and\n\n465\n00:22:58.640 --> 00:23:03.060\na WIC slot is stands for\nWAN interface card, okay.\n\n466\n00:23:03.060 --> 00:23:04.560\nAnd like the name implies,\n\n467\n00:23:04.560 --> 00:23:07.980\nthese are for plugging into the WAN,\nthe Wide Area Network.\n\n468\n00:23:07.980 --> 00:23:11.070\nSo if I need a connection,\nlet's bump this off Ronnie.\n\n469\n00:23:11.070 --> 00:23:11.860\n>> Okay.\n\n470\n00:23:11.860 --> 00:23:16.570\n>> If I need a connection to a T1 line or\nsomething like that,\n\n471\n00:23:16.570 --> 00:23:18.319\nI go out and I can buy one of these.\n\n472\n00:23:18.319 --> 00:23:23.392\nIt's a WAN Interface Card and\nthis one is for a T1 line.\n\n473\n00:23:23.392 --> 00:23:27.430\nSo, if I've got a 1.544 mega bit\nserial line coming in to my building,\n\n474\n00:23:27.430 --> 00:23:28.810\nI can buy this adapter.\n\n475\n00:23:28.810 --> 00:23:32.630\nI can pop in at the back of the router and\nnow, I've got the port that I need.\n\n476\n00:23:32.630 --> 00:23:34.350\nLet's see that here in the sky cam.\n\n477\n00:23:34.350 --> 00:23:39.480\nSo these little cards,\nthere's not a whole lot to them.\n\n478\n00:23:39.480 --> 00:23:40.530\nThere we go.\n\n479\n00:23:40.530 --> 00:23:42.990\nThere's not a whole lot to them.\n\n480\n00:23:42.990 --> 00:23:46.683\nYou'll see the circuitry that powers\nit and then, you'll see the ports for\n\n481\n00:23:46.683 --> 00:23:49.002\nwhatever it is that\nyou're trying to support.\n\n482\n00:23:49.002 --> 00:23:52.663\nIn this case, it's a serial line and\nit's got some indicator lights on here so\n\n483\n00:23:52.663 --> 00:23:56.169\nI can see whether it's performing\nthe way that it's supposed to perform.\n\n484\n00:23:56.169 --> 00:23:57.114\nAnd that's how these work.\n\n485\n00:23:57.114 --> 00:23:58.283\nNow when you bind them,\n\n486\n00:23:58.283 --> 00:24:01.950\nthese are really nice because they\nwork in all the different routers.\n\n487\n00:24:01.950 --> 00:24:08.190\nSo you could have a 1000 series or\na 2821 like we have or a 2921 or whatever.\n\n488\n00:24:08.190 --> 00:24:10.150\nAnd it's these same cards.\n\n489\n00:24:10.150 --> 00:24:12.090\nThere are three different\nlevels of the card though.\n\n490\n00:24:12.090 --> 00:24:15.710\nThere's the original WIC, right,\nwhich is this one an original?\n\n491\n00:24:15.710 --> 00:24:16.400\n>> I think it is.\n\n492\n00:24:16.400 --> 00:24:19.040\n>> Yeah, this is an original WIC,\na WAN interface card.\n\n493\n00:24:19.040 --> 00:24:23.270\nWhich on a T1 the original\nWIC is perfectly fine.\n\n494\n00:24:23.270 --> 00:24:25.370\nBut a T1 is only 1.5 megabit.\n\n495\n00:24:25.370 --> 00:24:28.220\nWhen we started moving in\nthe things like Metro Ethernet and\n\n496\n00:24:28.220 --> 00:24:30.220\nnow you had a hundred megabit connection.\n\n497\n00:24:30.220 --> 00:24:33.740\nThe band width on the back end of\na regular WIC wasn't enough to handle it.\n\n498\n00:24:33.740 --> 00:24:37.730\nSo, this is still the current model sold\nfor a T1, if you need to buy one you’ll\n\n499\n00:24:37.730 --> 00:24:41.270\nget the original WIC just like\nthis it's still what they sell.\n\n500\n00:24:41.270 --> 00:24:45.950\nBut if you wanna get something higher,\none of the Metro E connections or\n\n501\n00:24:45.950 --> 00:24:47.700\na gig connection or something like that.\n\n502\n00:24:47.700 --> 00:24:50.190\nThen you're gonna move up\nto what's call an HWIC,\n\n503\n00:24:50.190 --> 00:24:53.350\nwhich is a high speed WAN interface card.\n\n504\n00:24:53.350 --> 00:24:55.880\nAnd now they even have the new one,\nthe EHWIC,\n\n505\n00:24:55.880 --> 00:24:58.110\nthe enhanced high speed\nWAN interface card.\n\n506\n00:24:58.110 --> 00:25:02.380\nAnd if you're gonna buy a switch module,\nwith 24 gigabyte ports.\n\n507\n00:25:02.380 --> 00:25:06.150\nThat's a lot of bandwidth and the regular\nWIC's and the HWIC's can't handle that so\n\n508\n00:25:06.150 --> 00:25:07.770\nyou have to get an EHWIC.\n\n509\n00:25:07.770 --> 00:25:10.770\nWell when you look at the back of your\nrouter all of those empty slots that we\n\n510\n00:25:10.770 --> 00:25:14.340\nhave those they'll have\nit written right by them.\n\n511\n00:25:14.340 --> 00:25:17.840\nIs it a WIC slot,\nan HWIC slot, or an EHWIC slot?\n\n512\n00:25:17.840 --> 00:25:19.590\nIt'll be written right on the router.\n\n513\n00:25:19.590 --> 00:25:21.010\nSo you'll be able to see that.\n\n514\n00:25:21.010 --> 00:25:23.330\nAnd know exactly which\ncard can go in there.\n\n515\n00:25:23.330 --> 00:25:25.820\nBut you can also see it when\nyou're shopping for your router.\n\n516\n00:25:25.820 --> 00:25:27.020\nAny time I pull up a router.\n\n517\n00:25:27.020 --> 00:25:32.890\nSo for example if I were to take\none of these here like I've\n\n518\n00:25:32.890 --> 00:25:34.900\ngot the web page pulled up here.\n\n519\n00:25:34.900 --> 00:25:37.130\nSo I've got the 1,000 series\npulled up right here.\n\n520\n00:25:37.130 --> 00:25:39.030\nWhen you go into it you've\ngot your models over here.\n\n521\n00:25:39.030 --> 00:25:41.890\nAnd then you've got these data sheets and\nliterature.\n\n522\n00:25:41.890 --> 00:25:43.990\nAnd interfaces and modules.\n\n523\n00:25:43.990 --> 00:25:47.270\nSo when I'm looking at a 1000 series,\nI can click on interfaces and\n\n524\n00:25:47.270 --> 00:25:51.560\nmodules and it's gonna show me all\nthe different thing that I can buy.\n\n525\n00:25:51.560 --> 00:25:52.780\nThere's the service processor.\n\n526\n00:25:52.780 --> 00:25:55.250\nThat's the actually CPU for the unit.\n\n527\n00:25:55.250 --> 00:26:00.130\nBut if I scroll down a little bit, we'll\nstart to find all these other adapters.\n\n528\n00:26:00.130 --> 00:26:05.520\nAnd this one uses the SPAs, the shared\nport adapters which is a newer version.\n\n529\n00:26:05.520 --> 00:26:06.400\nNotice these SPAs?\n\n530\n00:26:06.400 --> 00:26:07.830\nThese aren't WAN interface cards.\n\n531\n00:26:07.830 --> 00:26:12.520\nThese are all gigabit ethernet or\n40 gigabit, ten gigabit.\n\n532\n00:26:12.520 --> 00:26:17.020\nThese are designed for like Metro E or\ninternal ethernet networks.\n\n533\n00:26:17.020 --> 00:26:23.069\nLet me go back to, like Branch Routers.\n\n534\n00:26:23.069 --> 00:26:24.462\nAnd we'll pull it up there and\n\n535\n00:26:24.462 --> 00:26:27.380\nsee some of the different adapters\nthat are available for us.\n\n536\n00:26:27.380 --> 00:26:30.730\nSo I'll take a let's do a 4000 series.\n\n537\n00:26:32.020 --> 00:26:37.000\nAnd, you know the 4000, shoot,\nthat's a bad example isn't it?\n\n538\n00:26:37.000 --> 00:26:39.110\nWhen you pull up a router,\nyou'll be able to see it, and\n\n539\n00:26:39.110 --> 00:26:43.670\nhere we've got like Cisco Unity Express,\nthat's the voice over IP controller.\n\n540\n00:26:43.670 --> 00:26:47.020\nSo if I wanna provide voice over IP,\nI want Cisco Unity Express, and\n\n541\n00:26:47.020 --> 00:26:49.410\nyou'll see here that it\ncomes as a network module or\n\n542\n00:26:49.410 --> 00:26:51.670\na service module they can\nbe added to the switch.\n\n543\n00:26:51.670 --> 00:26:55.040\nAnd as we look, we see that it's\nsupported on all these different models.\n\n544\n00:26:55.040 --> 00:26:56.900\nThe ones may or\nmay not be able to support that.\n\n545\n00:26:56.900 --> 00:26:58.080\nSo as you go through and look,\n\n546\n00:26:58.080 --> 00:27:01.490\nyou've gotta make sure that\nyou've got that functionality.\n\n547\n00:27:01.490 --> 00:27:05.050\nAnd that'll tell you right there\nin the specs for that router.\n\n548\n00:27:05.050 --> 00:27:07.520\nAlways look that up before you make\nyour purchase to make sure you can get\n\n549\n00:27:07.520 --> 00:27:08.740\nthe modules that you need.\n\n550\n00:27:08.740 --> 00:27:12.070\nYou might have to move to a different\nrouter to achieve what you wanted.\n\n551\n00:27:12.070 --> 00:27:13.470\nThat 4000 series router or\n\n552\n00:27:13.470 --> 00:27:16.700\nthe 1000 router we were looking at\na moment ago they're really nice.\n\n553\n00:27:16.700 --> 00:27:20.770\nBut if I want a serial T1 module\nthey don't make it for that router.\n\n554\n00:27:20.770 --> 00:27:24.540\nAnd so that router is not designed for\nthat I need to get a different router.\n\n555\n00:27:24.540 --> 00:27:27.280\nDon't just buy one because it has\na higher number make sure you get the one\n\n556\n00:27:27.280 --> 00:27:28.490\nthat meets your needs.\n\n557\n00:27:28.490 --> 00:27:32.500\n>> Now Don on these different modules here\nare they like when we talk about the term\n\n558\n00:27:32.500 --> 00:27:33.290\nhot swappable?\n\n559\n00:27:33.290 --> 00:27:36.620\nCan we just leave the device plugged\non and then just swap them out or\n\n560\n00:27:36.620 --> 00:27:38.040\ndo we need to shut the device down?\n\n561\n00:27:38.040 --> 00:27:40.370\n>> You almost always need to\nshut the device down right?\n\n562\n00:27:40.370 --> 00:27:43.110\nSome of the really expensive stuff.\n\n563\n00:27:43.110 --> 00:27:45.060\nSome of the nexus switches and those guys.\n\n564\n00:27:45.060 --> 00:27:47.581\nIf you're in an ISP like\na service provider environment.\n\n565\n00:27:47.581 --> 00:27:50.310\nSome of those have hot pluggable modules.\n\n566\n00:27:50.310 --> 00:27:54.510\nBut pretty much everything in\nthe enterprise class, the business class,\n\n567\n00:27:54.510 --> 00:27:57.060\nsmall, medium, large,\npretty much all that stuff,\n\n568\n00:27:57.060 --> 00:27:59.760\neverything that I've shown you,\nit's called Swap Only.\n\n569\n00:27:59.760 --> 00:28:03.890\nSo, if I wanna change out the module\nI have to power the unit down,\n\n570\n00:28:03.890 --> 00:28:06.190\nchange module out, power back up.\n\n571\n00:28:06.190 --> 00:28:09.650\nNow, I know that sounds annoying, and some\nof you probably think, wow, for this price\n\n572\n00:28:09.650 --> 00:28:14.580\nwe should really not have to do that, but\nhow often do you change these modules?\n\n573\n00:28:14.580 --> 00:28:15.650\nYou normally never do.\n\n574\n00:28:15.650 --> 00:28:17.840\nWhen you put that router in,\nit's configured the way you wanted it.\n\n575\n00:28:17.840 --> 00:28:20.020\nYou swapped the modules ahead of time.\n\n576\n00:28:20.020 --> 00:28:21.650\nAnd now you never change it again.\n\n577\n00:28:21.650 --> 00:28:24.500\nIf you need redundancy,\nyou bring up a second router.\n\n578\n00:28:24.500 --> 00:28:26.530\nAnd so now it's not a big\ndeal to shut one down and\n\n579\n00:28:26.530 --> 00:28:28.320\nchange the card because\nthe other one's doing the job.\n\n580\n00:28:28.320 --> 00:28:31.670\nSo we don't really have that problem,\nand there wasn't a need for\n\n581\n00:28:31.670 --> 00:28:33.650\nthem to integrate that hotspot\nfunctionality into it.\n\n582\n00:28:33.650 --> 00:28:34.940\nAnd so they didn't.\n\n583\n00:28:34.940 --> 00:28:37.160\nOn a service provider,\nthat's different right?\n\n584\n00:28:37.160 --> 00:28:39.760\nThey can't afford downtime,\nthey need to be up all the time and so\n\n585\n00:28:39.760 --> 00:28:41.880\nthey have integrated that hot\nplug functionality in there.\n\n586\n00:28:43.290 --> 00:28:45.600\nAll right, now Ronnie I have\nmore that I want to show here.\n\n587\n00:28:45.600 --> 00:28:48.800\nI want to show some better graphics to\n\n588\n00:28:48.800 --> 00:28:51.240\ndetail how these ports are numbered and\nso on.\n\n589\n00:28:51.240 --> 00:28:53.614\nI know it's hard to see on\nthe physical equipment sometime.\n\n590\n00:28:53.614 --> 00:28:56.310\nSo I wanna show this but\nI know we're out of time on this episode.\n\n591\n00:28:56.310 --> 00:28:58.390\nSo let's break this one up and\ndo a part two.\n\n592\n00:28:58.390 --> 00:29:03.080\nAnd we'll tackle how these ports get\nnamed so that we can identify them.\n\n593\n00:29:03.080 --> 00:29:06.750\nAnd I wanna tackle how to get connected\nto the device for the first time.\n\n594\n00:29:06.750 --> 00:29:08.790\nIf you just got a brand new switch or\nrouter.\n\n595\n00:29:08.790 --> 00:29:10.090\nHow do you even get in to that thing?\n\n596\n00:29:10.090 --> 00:29:12.840\nSo we'll tackle all of that and\nwe'll do it in our part two.\n\n597\n00:29:12.840 --> 00:29:13.750\n>> Sounds great Don.\n\n598\n00:29:13.750 --> 00:29:16.760\nThat's a great idea for us to\nactually come back and see some more.\n\n599\n00:29:16.760 --> 00:29:19.480\nRemember that a lot of times\nyou may be able to get by\n\n600\n00:29:19.480 --> 00:29:22.300\non just learning some of the theory,\na lot of the time.\n\n601\n00:29:22.300 --> 00:29:23.780\nOnce you head into the world of Cisco,\n\n602\n00:29:23.780 --> 00:29:26.810\nthey expect you to know even\nabout the hardware a little bit.\n\n603\n00:29:26.810 --> 00:29:29.065\nAnd that's what we've actually\nseen here in this episode.\n\n604\n00:29:29.065 --> 00:29:31.605\nAnd remember that these ports\nare actually very important for us, and\n\n605\n00:29:31.605 --> 00:29:33.645\nalso these different modules that we have.\n\n606\n00:29:33.645 --> 00:29:37.395\nAnd getting some hands-on experience\nif you can, is always gonna be key.\n\n607\n00:29:37.395 --> 00:29:40.565\nBut at least right here you get to see\nthem, and you actually get to see how\n\n608\n00:29:40.565 --> 00:29:43.842\nthey come apart and Don has actually\nexplained a little bit more.\n\n609\n00:29:43.842 --> 00:29:45.692\nAnd now we're actually gonna\nget some more in a part two.\n\n610\n00:29:45.692 --> 00:29:48.302\nSo we want you to come back for\nthat as well.\n\n611\n00:29:48.302 --> 00:29:50.682\n>> Great place for us to go ahead and\nend this episode then.\n\n612\n00:29:50.682 --> 00:29:53.532\nFor ITProTV, I'm your host Ronnie Wong.\n\n613\n00:29:53.532 --> 00:29:54.562\n>> And I'm Don Pezet.\n\n614\n00:29:54.562 --> 00:29:57.208\n>> We'll see you next time for\nmore CCENT content.\n\n615\n00:29:57.208 --> 00:30:06.070\n[MUSIC]\n\n",
          "vimeoId": "174201502"
        },
        {
          "description": "In this episode, Ronnie and continue with the hardware introduction but now focusing on on the interfaces and how they are named.  They describe some of the network modules, WICS, HWICS and EHWICS.  With that basic introduction to the hardware done, the guys show how to start a basic configuration on a cisco router.  Don shows us what happens and describes the information displayed when a router or switch is powered on.  They list the basic software and additional equipment needed to connect to the router.",
          "length": "2031",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-6-introduction_to_cisco_hardware_pt.2-070716-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-6-introduction_to_cisco_hardware_pt.2-070716-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-6-introduction_to_cisco_hardware_pt.2-070716-1-sm.jpg",
          "title": "Introduction to Cisco Hardware Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.350 --> 00:00:15.121\nWelcome to another great\nepisode right here on ITPro.TV.\n\n3\n00:00:15.121 --> 00:00:20.380\nI'm your host Ronnie Wong, and today we're\ncarrying on with some Cisco CCENT content.\n\n4\n00:00:20.380 --> 00:00:24.390\nWe're getting ready to face that exam, and\nwe're taking a look at some additional\n\n5\n00:00:24.390 --> 00:00:28.820\nhardware challenges that you may not have\ncome across before at the CCENT level.\n\n6\n00:00:28.820 --> 00:00:30.460\nAnd now we're actually into part two.\n\n7\n00:00:30.460 --> 00:00:32.850\nSo go back, make sure you\nactually watch that part one.\n\n8\n00:00:32.850 --> 00:00:34.160\nBut now we're continuing in this part two.\n\n9\n00:00:34.160 --> 00:00:35.990\nAnd with us again is gonna be Don Pezet.\n\n10\n00:00:35.990 --> 00:00:37.320\nDon, welcome back to our studios.\n\n11\n00:00:37.320 --> 00:00:38.350\n>> Thanks for having me back, Ronnie.\n\n12\n00:00:38.350 --> 00:00:40.060\nAnd for those of you that\nwatched the last episode,\n\n13\n00:00:40.060 --> 00:00:42.500\nwe kind of went over some of the different\nhardware available from Cisco,\n\n14\n00:00:42.500 --> 00:00:45.960\nthe different routers and switches and\nthe different tiers of hardware,\n\n15\n00:00:45.960 --> 00:00:49.460\nhow some of them are modular, and some\nof them are fixed configuration devices.\n\n16\n00:00:49.460 --> 00:00:54.540\nAnd now what I want to do is talk a little\nbit about how the devices handle their\n\n17\n00:00:54.540 --> 00:00:57.130\nports, because we know that\nmost of them are modular,\n\n18\n00:00:57.130 --> 00:00:58.780\nthat we can change things out.\n\n19\n00:00:58.780 --> 00:01:00.900\nHow do we identify what ports we've got?\n\n20\n00:01:00.900 --> 00:01:04.480\nAnd it's critical because when you\nlog into a router or a switch for\n\n21\n00:01:04.480 --> 00:01:07.830\nthe first time, you may see a network\ncable plugged into the front of it and\n\n22\n00:01:07.830 --> 00:01:10.530\nyou may wanna change\nthe configuration of that port.\n\n23\n00:01:10.530 --> 00:01:12.680\nHow do you know how to find that port,\nright?\n\n24\n00:01:12.680 --> 00:01:17.780\nIf I have ten different cables, I could\naccidentally access the wrong cords,\n\n25\n00:01:17.780 --> 00:01:20.390\nand put the wrong configurations there,\nand really mess things up.\n\n26\n00:01:20.390 --> 00:01:24.620\nAnd the way the Cisco handles naming can\nbe a little bit confusing sometimes.\n\n27\n00:01:24.620 --> 00:01:26.925\nSo, let's walk through how it works.\n\n28\n00:01:26.925 --> 00:01:31.258\nWith a Cisco switch,\neven on a fixed configuration switch where\n\n29\n00:01:31.258 --> 00:01:36.087\neverything is built in, every port\nwill have two numbers, all right?\n\n30\n00:01:36.087 --> 00:01:39.137\nAnd the reason is Cisco's kind of\ntaking into account modular switches,\n\n31\n00:01:39.137 --> 00:01:42.100\neven on a fixed configuration switch or\na fixed configuration router.\n\n32\n00:01:42.100 --> 00:01:44.515\nWhich I don't think they have any\nfixed configuration routers anymore.\n\n33\n00:01:44.515 --> 00:01:48.607\nBut the idea is they want to create a\nconsistent environment across their entire\n\n34\n00:01:48.607 --> 00:01:49.800\nproduct line.\n\n35\n00:01:49.800 --> 00:01:53.270\nSo that you're working just one way as\nyou move across the different devices,\n\n36\n00:01:53.270 --> 00:01:55.460\ninstead of having to learn more\nthan one way to do things.\n\n37\n00:01:55.460 --> 00:01:59.670\nSo for example,\nif I buy a fixed configuration switch,\n\n38\n00:02:00.750 --> 00:02:03.690\nI don't have slots or modules, right?\n\n39\n00:02:03.690 --> 00:02:06.960\nOn a modular switch or modular router,\nI might have modules and\n\n40\n00:02:06.960 --> 00:02:08.110\nI might have slots on them.\n\n41\n00:02:08.110 --> 00:02:10.730\nAnd then I have my ports\nthat are built in.\n\n42\n00:02:10.730 --> 00:02:15.720\nSo what Cisco does, is they actually\ntreat the motherboard as a slot,\n\n43\n00:02:15.720 --> 00:02:16.770\ntechnically a module.\n\n44\n00:02:16.770 --> 00:02:19.160\nSo if I were to crack open a router or\ncrack open a switch,\n\n45\n00:02:19.160 --> 00:02:20.280\nthere's a motherboard inside of there.\n\n46\n00:02:20.280 --> 00:02:23.310\nAnd they treat that as a module.\n\n47\n00:02:23.310 --> 00:02:27.900\nAnd any port that's built into\nthe motherboard is a part of that module.\n\n48\n00:02:27.900 --> 00:02:32.690\nSo every Cisco device has what's\ncalled module zero, so just zero.\n\n49\n00:02:33.710 --> 00:02:36.490\nAnd on that module,\nit'll then have a number of ports.\n\n50\n00:02:36.490 --> 00:02:37.540\nAnd where it gets a little tricky,\n\n51\n00:02:37.540 --> 00:02:40.470\nis if it's a router,\nit starts numbering with zero.\n\n52\n00:02:40.470 --> 00:02:45.320\nSo if I have two ports, I'll have a zero\nslash zero, and a zero slash one.\n\n53\n00:02:45.320 --> 00:02:48.860\nIf I'm on a switch though,\nthey start numbering with one.\n\n54\n00:02:48.860 --> 00:02:49.520\nOkay?\n\n55\n00:02:49.520 --> 00:02:51.270\nAnd why is that?\n\n56\n00:02:51.270 --> 00:02:53.390\nWell, honestly I don't know\nwhy they did that, but\n\n57\n00:02:53.390 --> 00:02:55.970\nI know it makes a little more sense on\na switch because when you look at the face\n\n58\n00:02:55.970 --> 00:03:00.570\nplate, it's port one all the way to port\n48 or port one to port 24 or whatever.\n\n59\n00:03:00.570 --> 00:03:02.800\nOn a router,\nyou never really look at the face plate.\n\n60\n00:03:02.800 --> 00:03:06.170\nYou plug in the cables and you're done and\nso they start numbering on those as zero,\n\n61\n00:03:06.170 --> 00:03:08.020\nbut it does make things\na little confusing.\n\n62\n00:03:08.020 --> 00:03:12.010\nSo lets take a look real quick at a device\nand I'll walk you through how this works.\n\n63\n00:03:12.010 --> 00:03:16.440\nSo, here I've got a picture of\na Cisco 2900 series router.\n\n64\n00:03:16.440 --> 00:03:19.450\nThe top part here, that's what the face\nplate of the router looks like.\n\n65\n00:03:19.450 --> 00:03:21.650\nIf I were to stick it in a rack,\nthat's the front of it and\n\n66\n00:03:21.650 --> 00:03:23.550\nthere's not a whole heck of\na lot to see on the front.\n\n67\n00:03:24.610 --> 00:03:27.560\nIn fact, a lot of people have taken\nto calling this the back because it's\n\n68\n00:03:27.560 --> 00:03:28.880\nIt's not particularly useful.\n\n69\n00:03:28.880 --> 00:03:32.280\nYou really just have the power button and\nthe power cable, right?\n\n70\n00:03:32.280 --> 00:03:35.320\nSo you can turn it on and off, you plug\nin your power cable and that's it.\n\n71\n00:03:35.320 --> 00:03:40.260\nAs far as the front of a 2900,\nthe real work happens on the back.\n\n72\n00:03:40.260 --> 00:03:43.280\nAnd if we look at the back,\nat the top right,\n\n73\n00:03:43.280 --> 00:03:45.820\nis where I have my integrated ports.\n\n74\n00:03:45.820 --> 00:03:49.460\nThese ports, see how they're built\ninto the frame of this device?\n\n75\n00:03:49.460 --> 00:03:52.370\nThey're directly attached\nto the motherboard.\n\n76\n00:03:52.370 --> 00:03:56.020\nAnd that means that they're\nin the first module.\n\n77\n00:03:56.020 --> 00:04:00.740\nSo these ports are gonna be\nreferenced as zero slash something.\n\n78\n00:04:00.740 --> 00:04:03.460\nZero for the motherboard slash something.\n\n79\n00:04:03.460 --> 00:04:04.100\nOkay.\n\n80\n00:04:04.100 --> 00:04:08.430\nNow if I look really closely and\nlet me zoom in on this a bit,\n\n81\n00:04:10.030 --> 00:04:14.380\nif we look really closely, you'll see\nwhere they've actually written the name\n\n82\n00:04:14.380 --> 00:04:18.310\nof these ports, on the port, right.\n\n83\n00:04:18.310 --> 00:04:22.621\nSo I can see that this\none is labeled GE0/2 and\n\n84\n00:04:22.621 --> 00:04:28.440\nthe one beneath it is GE0/1 and\nthe one beside that is GE0/0.\n\n85\n00:04:28.440 --> 00:04:30.710\nThey've actually written\nthe name right on the port.\n\n86\n00:04:30.710 --> 00:04:32.420\nIt's pretty convenient, right?\n\n87\n00:04:32.420 --> 00:04:34.400\nThey can do that because these are fixed.\n\n88\n00:04:34.400 --> 00:04:35.470\nThey're built in.\n\n89\n00:04:35.470 --> 00:04:37.360\nThey're a part of the motherboard.\n\n90\n00:04:37.360 --> 00:04:39.800\nAnd notice how their positioning\ndoesn't really matter?\n\n91\n00:04:39.800 --> 00:04:46.493\nLike GE0/0 is up here, but\nGE0/1 is down here and GE0/2 is up here.\n\n92\n00:04:46.493 --> 00:04:50.315\nIt's hap hazard and that's because\nit's built in, they can do that.\n\n93\n00:04:50.315 --> 00:04:52.925\nIt doesn't really matter, they're\ngonna write the number on there and\n\n94\n00:04:52.925 --> 00:04:54.375\nnow I know exactly which one.\n\n95\n00:04:54.375 --> 00:04:59.065\nJust know that in this name,\nwhile GE, that's the speed.\n\n96\n00:04:59.065 --> 00:05:04.322\nOn modern routers you're going to see E,\nFE,\n\n97\n00:05:04.322 --> 00:05:09.150\nGE or TE for a couple of different\nport types that you'll see.\n\n98\n00:05:09.150 --> 00:05:13.130\nYou've got E, which is just ethernet.\n\n99\n00:05:13.130 --> 00:05:16.440\nNow ethernet is only ten megabit,\nand I know what you're thinking,\n\n100\n00:05:16.440 --> 00:05:19.330\nwhy would I have a ten megabit port or\nan old ethernet port?\n\n101\n00:05:19.330 --> 00:05:22.540\nWell, you still see it on some devices for\ntheir management port.\n\n102\n00:05:22.540 --> 00:05:25.040\nFor managing the router and you don't\nneed a lot of bandwidth for that.\n\n103\n00:05:25.040 --> 00:05:26.760\nSo you do see it from time to time.\n\n104\n00:05:26.760 --> 00:05:28.900\nLike on 7200 series routers.\n\n105\n00:05:28.900 --> 00:05:31.280\nThen we have got fast ethernet.\n\n106\n00:05:31.280 --> 00:05:35.270\nNow on older routers it was written as FA,\non newer routers it is written as FE.\n\n107\n00:05:35.270 --> 00:05:37.080\nBoth names work when you\nare configuring the router.\n\n108\n00:05:37.080 --> 00:05:40.990\nBut it is fast ethernet and\nfast ethernet means it's 100 megabit.\n\n109\n00:05:40.990 --> 00:05:43.230\nGE is gigabit ethernet.\n\n110\n00:05:43.230 --> 00:05:46.380\nAnd it is pretty much always\ncalled GE as opposed to like GI,\n\n111\n00:05:46.380 --> 00:05:48.570\nbut both work in the config.\n\n112\n00:05:48.570 --> 00:05:53.200\nSo gigabit ethernet, that's 1,000\nmegabit and now we've got ten gigabit\n\n113\n00:05:53.200 --> 00:05:58.120\nethernet which are the T's and that's\ngonna be, well ten gigs of bandwidth.\n\n114\n00:05:58.120 --> 00:06:00.450\nSo the name is telling me\nthe speed of the port.\n\n115\n00:06:00.450 --> 00:06:04.870\nI know these are gigabit ports and\nthen 0/2, the 0 tells me it's built into\n\n116\n00:06:04.870 --> 00:06:09.160\nthe motherboard and /2 tells me\nthat it is the third port, right?\n\n117\n00:06:09.160 --> 00:06:10.600\nIn our mind we have to correct for that,\n\n118\n00:06:10.600 --> 00:06:13.890\nit's the third port,\ncuz it starts numbering with 0.\n\n119\n00:06:13.890 --> 00:06:18.240\nNow for a built in port,\nthat works out really well.\n\n120\n00:06:18.240 --> 00:06:24.090\nBut for our modular ports,\nthings get a little weird, right?\n\n121\n00:06:24.090 --> 00:06:26.780\nSo when we go to a modular port like this,\n\n122\n00:06:26.780 --> 00:06:29.570\nit's not built into\nthe motherboard anymore, right?\n\n123\n00:06:29.570 --> 00:06:31.410\nWell, sort of.\n\n124\n00:06:31.410 --> 00:06:34.030\nNotice I've got two different\nsets of ports here.\n\n125\n00:06:34.030 --> 00:06:36.390\nWhen we talk about these modules,\n\n126\n00:06:36.390 --> 00:06:40.220\nthese modules up here actually\ndo plug into the motherboard.\n\n127\n00:06:40.220 --> 00:06:43.860\nAnd so\nthese are going to start with a 0 also.\n\n128\n00:06:43.860 --> 00:06:49.340\nBut then inside of that,\nif you look, I've got EHWIC 0.\n\n129\n00:06:49.340 --> 00:06:51.470\nI guess it's kind of hard to see that.\n\n130\n00:06:51.470 --> 00:06:53.080\nThere we go, EHWIC 0.\n\n131\n00:06:53.080 --> 00:06:57.900\nThis is an enhanced high speed\nWAN interface card, 0, all right.\n\n132\n00:06:57.900 --> 00:07:01.300\nAnd then I've got 1, which apparently\nthey didn't write on this router,\n\n133\n00:07:01.300 --> 00:07:02.970\nand then I've got 2, and then I'll have 3.\n\n134\n00:07:02.970 --> 00:07:08.740\nThere's four ports on the back of\nthis router, so EHWIC 0, 1, 2, and 3.\n\n135\n00:07:08.740 --> 00:07:11.970\nSo ports that are plugged\nin here will be 0 for\n\n136\n00:07:11.970 --> 00:07:16.130\nthe motherboard, / and\nthen the number of the H wick.\n\n137\n00:07:16.130 --> 00:07:20.980\nLike this would be 0 for this H wick and\nthen / and then a number for\n\n138\n00:07:20.980 --> 00:07:23.260\nthe port on the H wick.\n\n139\n00:07:23.260 --> 00:07:26.670\nRight, because we have a number\nof different cards and\n\n140\n00:07:26.670 --> 00:07:30.180\nadaptors that we can buy and\nthrow into these slots.\n\n141\n00:07:30.180 --> 00:07:34.400\nSo here I'll just chuck\na couple of H wicks in there.\n\n142\n00:07:34.400 --> 00:07:39.080\nAnd so when I do that I'm\nnow adding interfaces and\n\n143\n00:07:39.080 --> 00:07:40.650\nif you look at the interfaces.\n\n144\n00:07:40.650 --> 00:07:44.640\nSee how I've got four ethernet ports here?\n\n145\n00:07:44.640 --> 00:07:46.240\nI think these are actually fast ethernet.\n\n146\n00:07:46.240 --> 00:07:50.060\nAnd then I've got an ISDN BRI here,\nand a DSL here.\n\n147\n00:07:50.060 --> 00:07:52.502\nSo I've got more than\none port on the H wick.\n\n148\n00:07:52.502 --> 00:07:57.093\nSo it would be 0 for\nthe motherboard, /0 for\n\n149\n00:07:57.093 --> 00:08:00.289\nthis H wick or 1 for this H wick.\n\n150\n00:08:00.289 --> 00:08:02.902\nAnd then slash,\nfollowed by the port number.\n\n151\n00:08:02.902 --> 00:08:07.110\nAnd so this would be zero through four and\nthis would be zero and one.\n\n152\n00:08:07.110 --> 00:08:10.030\nSorry, zero through three,\nI gotta get my mind straight.\n\n153\n00:08:10.030 --> 00:08:14.920\nSo if I wanted to reference this\nport right here, this would be,\n\n154\n00:08:14.920 --> 00:08:16.490\nassuming it's fast ethernet, right?\n\n155\n00:08:16.490 --> 00:08:20.370\nThis would be fe 0 slash 0 slash 1.\n\n156\n00:08:20.370 --> 00:08:24.140\nRight?\n0 for the motherboard, 0 for\n\n157\n00:08:24.140 --> 00:08:28.630\nthe H wick and one because it's\nthe second port on the module.\n\n158\n00:08:28.630 --> 00:08:29.920\nSee how confusing that gets?\n\n159\n00:08:29.920 --> 00:08:31.240\nIt gets really confusing.\n\n160\n00:08:31.240 --> 00:08:34.190\nAnd so understanding that number is\nreally important because we don't want to\n\n161\n00:08:34.190 --> 00:08:37.490\ngo into the router and I'm like,\nI want to modify this port, so\n\n162\n00:08:37.490 --> 00:08:39.390\nI'm going to go into zero\nslash zero slash two.\n\n163\n00:08:40.440 --> 00:08:43.280\nWell, zero slash zero slash two\nis actually this port here and\n\n164\n00:08:43.280 --> 00:08:46.850\nnow I'm configuring the wrong port and\nI mess up my router's configuration.\n\n165\n00:08:46.850 --> 00:08:50.280\nSo I've got to remember these\nstart numbering at 0, all right.\n\n166\n00:08:50.280 --> 00:08:55.540\nThe other thing is these H wicks are\nconsidered to be part of the motherboard.\n\n167\n00:08:55.540 --> 00:08:59.544\nBeneath that, I've got a network\nmodule and the network module side, so\n\n168\n00:08:59.544 --> 00:09:02.260\nactually this is a service module slot.\n\n169\n00:09:02.260 --> 00:09:06.180\nThe service module slot,\nI can add things into also, right?\n\n170\n00:09:06.180 --> 00:09:08.800\nAnd when you go to add something\ninto these service module slots,\n\n171\n00:09:08.800 --> 00:09:11.040\nwell there's two things you can add in.\n\n172\n00:09:11.040 --> 00:09:12.760\nYou can add traditional\nnetwork modulating.\n\n173\n00:09:12.760 --> 00:09:15.430\nThis is a traditional\nnetwork module right here.\n\n174\n00:09:15.430 --> 00:09:17.840\nNow see how it's got\nthe slants on the side?\n\n175\n00:09:17.840 --> 00:09:19.200\nI pointed it out in the last episode.\n\n176\n00:09:19.200 --> 00:09:21.980\nIf you're going to use a network\nmodule in a service module slot,\n\n177\n00:09:21.980 --> 00:09:24.760\nthey have this adapter that you\nhave to get to throw in there.\n\n178\n00:09:24.760 --> 00:09:27.200\nSo you can still use them,\nthey are compatible.\n\n179\n00:09:28.500 --> 00:09:33.110\nSo you'll throw that adapter\non something like that.\n\n180\n00:09:33.110 --> 00:09:36.180\nThen you'll chuck the network\nmodule right on top of it.\n\n181\n00:09:36.180 --> 00:09:38.280\nThen it plugs in and there you go.\n\n182\n00:09:38.280 --> 00:09:42.460\nThe network modules are not\nconsidered part of the mother board.\n\n183\n00:09:42.460 --> 00:09:46.550\nSo this is my first network module,\nso it will be network module one.\n\n184\n00:09:46.550 --> 00:09:47.970\nEverything else started with a zero.\n\n185\n00:09:47.970 --> 00:09:49.840\nThis is going to start with a one.\n\n186\n00:09:49.840 --> 00:09:51.980\nSo this will be one slash and\n\n187\n00:09:51.980 --> 00:09:57.040\nthen some network modules\nactually have WIC slots on them.\n\n188\n00:09:57.040 --> 00:10:01.120\nAnd so it'd be 1/ followed by the WIC\nslot number, followed by the port number.\n\n189\n00:10:01.120 --> 00:10:03.300\nThis one has just integrated ports on it.\n\n190\n00:10:03.300 --> 00:10:06.010\nSo this port here would be 1/0/0.\n\n191\n00:10:06.010 --> 00:10:12.710\n1 for network module 1, /0,\nit's built in to the network module.\n\n192\n00:10:12.710 --> 00:10:15.280\nSlash zero,\nit's the first port on the module.\n\n193\n00:10:15.280 --> 00:10:16.710\nIt's actually the only\nport on this module.\n\n194\n00:10:18.180 --> 00:10:21.900\nAll right, so\nthat's how those get numbered but\n\n195\n00:10:21.900 --> 00:10:25.760\nif I have a service module,\nservice modules are the new style which\n\n196\n00:10:25.760 --> 00:10:30.740\nI thought I had one parked around here\nsomewhere and if I have a service module.\n\n197\n00:10:30.740 --> 00:10:33.090\nLike this guy hiding down here.\n\n198\n00:10:34.330 --> 00:10:36.660\nThere we go.\nI can take this guy and pop it in there.\n\n199\n00:10:36.660 --> 00:10:39.370\nNow service modules,\nthey don't have that adapter, right?\n\n200\n00:10:39.370 --> 00:10:41.830\nBut they're numbered the exact same way.\n\n201\n00:10:41.830 --> 00:10:44.770\nAnd here I've got a little 24 port switch.\n\n202\n00:10:44.770 --> 00:10:49.040\nSo this 24 port switch, its actually\ngot 23 fast ethernet ports and\n\n203\n00:10:49.040 --> 00:10:50.500\n1 gigabit port on it.\n\n204\n00:10:50.500 --> 00:10:53.180\nSo it's designed to make\nthe switch be part of your router.\n\n205\n00:10:53.180 --> 00:10:54.890\nBut this is going to be.\n\n206\n00:10:54.890 --> 00:10:57.950\nOne, for the network module, slash zero,\n\n207\n00:10:57.950 --> 00:11:01.230\nbecause all these ports are built\nin the network module, slash, and\n\n208\n00:11:01.230 --> 00:11:04.440\nthen because it's a switch,\nit's numbered one through 24.\n\n209\n00:11:04.440 --> 00:11:06.280\nWe get tricky now.\n\n210\n00:11:06.280 --> 00:11:08.510\nNow it's a switch crossing\nover into router land and so\n\n211\n00:11:08.510 --> 00:11:10.890\nit starts to get a little bit muddled.\n\n212\n00:11:10.890 --> 00:11:14.230\nNow, I'll be honest with you, it is hard\nto remember this numbering convention.\n\n213\n00:11:14.230 --> 00:11:17.310\nAnd it gets even harder when you\njump into the bigger switches.\n\n214\n00:11:17.310 --> 00:11:18.490\nLike if I jump in to a 45O6E,\n\n215\n00:11:18.490 --> 00:11:22.690\nright, that big access switch\nthat we saw in the last episode.\n\n216\n00:11:22.690 --> 00:11:24.330\nThey're fully modular.\n\n217\n00:11:24.330 --> 00:11:28.250\nAnd with these guys,\nthey've got a supervisor module up top and\n\n218\n00:11:28.250 --> 00:11:31.810\nthey'll be integrated ports built\nright in to the supervisor module.\n\n219\n00:11:31.810 --> 00:11:34.430\nSo here I've got eight SFP ports.\n\n220\n00:11:34.430 --> 00:11:35.060\nRight?\n\n221\n00:11:35.060 --> 00:11:40.210\nBut then we start adding all these blades\nin and they might be 48 port or 24 port,\n\n222\n00:11:40.210 --> 00:11:46.730\nthey might be sfp's or manual RJ45 plugs\nit just depends on your configuration.\n\n223\n00:11:46.730 --> 00:11:50.130\nAnd so on this Cisco actually\ndoes us a little favor, and\n\n224\n00:11:50.130 --> 00:11:52.470\nwrites the slot number beside each one.\n\n225\n00:11:52.470 --> 00:11:57.780\nAnd so, if I'm looking at the first port\nhere, this would be 5 slash 1, right?\n\n226\n00:11:57.780 --> 00:12:02.750\nI'm on card number 5, and\nit's port number 1 on that card.\n\n227\n00:12:02.750 --> 00:12:03.350\nRight?\n\n228\n00:12:03.350 --> 00:12:07.560\nOr card number six and the third port,\nthat would be six slash three.\n\n229\n00:12:07.560 --> 00:12:11.260\nSo the numbering is kind of\nwritten right on the device and\n\n230\n00:12:11.260 --> 00:12:15.070\nthat makes it a little easier to handle.\n\n231\n00:12:15.070 --> 00:12:17.920\nLet me show you another little\nillustration that I made.\n\n232\n00:12:17.920 --> 00:12:20.200\nSo here's that 2921 with a couple\nof modules added to it and\n\n233\n00:12:20.200 --> 00:12:23.800\nI just kind of written how\nthese things are numbered.\n\n234\n00:12:23.800 --> 00:12:29.880\nSo when we look at it, we've got\nlike S zero slash one slash zero.\n\n235\n00:12:29.880 --> 00:12:31.120\nZero for the motherboard.\n\n236\n00:12:31.120 --> 00:12:33.440\nWell, S is serial I guess I didn't\nmention that one earlier so\n\n237\n00:12:33.440 --> 00:12:35.500\nS is another one you might see Serial.\n\n238\n00:12:35.500 --> 00:12:36.490\nZero for the motherboard.\n\n239\n00:12:36.490 --> 00:12:43.060\n1 because it is in the H WIC 1 slot and\nthen zero is the first port on that card.\n\n240\n00:12:43.060 --> 00:12:47.785\nVersus these guys that are serial zero\nslash zero slash zero through zero slash\n\n241\n00:12:47.785 --> 00:12:50.680\nzero slash three for\nthose ports, all right?\n\n242\n00:12:50.680 --> 00:12:57.590\nAnd then I, I'm glad I pulled this up,\ncuz I actually mislabeled these guys.\n\n243\n00:12:57.590 --> 00:13:00.021\nSee how I put them as\nFE1/1 through FE1/24.\n\n244\n00:13:00.021 --> 00:13:01.230\nIt's actually not right.\n\n245\n00:13:01.230 --> 00:13:02.045\nIt would be 1/0.\n\n246\n00:13:02.045 --> 00:13:06.290\n/1 and 1/0/24 and that would be how those\n\n247\n00:13:06.290 --> 00:13:11.800\nare actually named because it's one for\nthe network module,\n\n248\n00:13:11.800 --> 00:13:16.740\nzero because these are built into the\nmodule and one through 24 for the ports.\n\n249\n00:13:16.740 --> 00:13:20.420\nIf I had HWIC slot on here then that would\nincrement that middle number, right.\n\n250\n00:13:20.420 --> 00:13:23.660\nSo that numbering does get a little bit\ntricky on these we've got to remember.\n\n251\n00:13:23.660 --> 00:13:24.850\nHow that's being numbered.\n\n252\n00:13:24.850 --> 00:13:27.530\nNow, in real life land I'll\nbe honest with you guys,\n\n253\n00:13:27.530 --> 00:13:29.690\nI don't normally fuss over this too much.\n\n254\n00:13:29.690 --> 00:13:32.320\nAnd the reason is I can\njump into the router or\n\n255\n00:13:32.320 --> 00:13:36.100\ninto the switch and\nfrom the IOS we can pull up a port list.\n\n256\n00:13:36.100 --> 00:13:38.200\nAnd it's far easier to see\nthe names from there, and\n\n257\n00:13:38.200 --> 00:13:39.470\nfigure out what corresponds where.\n\n258\n00:13:39.470 --> 00:13:40.470\nAnd so that's what I normally do.\n\n259\n00:13:40.470 --> 00:13:43.300\nOne of the first things I do\nwhen I connect to a router or\n\n260\n00:13:43.300 --> 00:13:47.950\nswitch is run a command called\nshow IP interface brief and\n\n261\n00:13:47.950 --> 00:13:52.020\nit gives you a list of all the interfaces\nand all the IP addresses assigned to them.\n\n262\n00:13:52.020 --> 00:13:55.200\nBeing able to quickly see those\ninterfaces gives you all the names and\n\n263\n00:13:55.200 --> 00:13:58.040\nnumbering right there so\nthat you don't have to have it memorized.\n\n264\n00:13:58.040 --> 00:14:01.700\nAnd that's kind of nice because it\ndoes get confusing with what's being\n\n265\n00:14:01.700 --> 00:14:03.170\nnumbered what.\n\n266\n00:14:03.170 --> 00:14:03.730\nAll right.\n\n267\n00:14:03.730 --> 00:14:05.550\nSo, let's talk about.\n\n268\n00:14:05.550 --> 00:14:08.930\nLet's say that you looked at this and\nyou're just mind blown.\n\n269\n00:14:08.930 --> 00:14:11.570\nHow am I supposed to remember\nthe names of all these ports?\n\n270\n00:14:11.570 --> 00:14:13.980\nSo we want to do it the Don way,\nwe want to get connected.\n\n271\n00:14:13.980 --> 00:14:17.230\nWell we need to get connected to\nour device for the first time.\n\n272\n00:14:17.230 --> 00:14:21.870\nAnd remember what I said earlier is\nthat every device has a console port.\n\n273\n00:14:21.870 --> 00:14:24.540\nSee this port it's labeled light blue,\nright?\n\n274\n00:14:24.540 --> 00:14:27.000\nYou can always spot it,\nit would be light blue.\n\n275\n00:14:27.000 --> 00:14:30.610\nYour Cisco device when you buy it,\nit will come with a cable.\n\n276\n00:14:30.610 --> 00:14:31.650\nAnd let me show you the cable.\n\n277\n00:14:31.650 --> 00:14:33.060\nI'll just hold it up to the camera.\n\n278\n00:14:33.060 --> 00:14:36.480\nIt will come with a cable that\nlooks something like this.\n\n279\n00:14:36.480 --> 00:14:38.170\nCan we make me bigger?\n\n280\n00:14:38.170 --> 00:14:40.170\nSo it's just a light blue cable.\n\n281\n00:14:40.170 --> 00:14:44.380\nIt corresponds with the port color so\nthat you can see what it is.\n\n282\n00:14:44.380 --> 00:14:47.170\nAnd on one end, it's an RJ45 plug.\n\n283\n00:14:47.170 --> 00:14:48.400\nRight?\nThat's what's designed to plug into\n\n284\n00:14:48.400 --> 00:14:49.370\nthat port.\n\n285\n00:14:49.370 --> 00:14:52.540\nNow there was a micro USB, or\na mini USB on that one also.\n\n286\n00:14:52.540 --> 00:14:55.270\nCisco to my knowledge they never\nactually put out that cable.\n\n287\n00:14:55.270 --> 00:14:57.250\nThey planned on doing\nit as a USB cable and\n\n288\n00:14:57.250 --> 00:14:59.810\nI don't know if they\nfinally evolved past that.\n\n289\n00:14:59.810 --> 00:15:02.390\nBut you typically have an RJ45 plug\n\n290\n00:15:02.390 --> 00:15:05.310\njust like this one that you can\nplug right into the device.\n\n291\n00:15:05.310 --> 00:15:09.450\nOn the other end, this is the end that's\na problem, it's a serial connection.\n\n292\n00:15:09.450 --> 00:15:13.870\nIt's a nine-pin RS-232 serial connection.\n\n293\n00:15:13.870 --> 00:15:18.360\nAnd if I was doing this show in 1998,\nall of you would say yeah,\n\n294\n00:15:18.360 --> 00:15:20.670\nI can finally use that\nserial port on my computer.\n\n295\n00:15:20.670 --> 00:15:24.560\nBut it's 2016, you don't have a serial\nport on your computer anymore.\n\n296\n00:15:24.560 --> 00:15:26.750\nIf you do, It's well past time for\nyou to upgrade.\n\n297\n00:15:26.750 --> 00:15:29.270\nSo, nobody has a serial port on\nthe back of their computer anymore.\n\n298\n00:15:29.270 --> 00:15:31.060\nSo, you're probably\nthinking what I'm thinking,\n\n299\n00:15:31.060 --> 00:15:34.540\nwhich is why does Cisco still give us\na cord with that stinking port on it?\n\n300\n00:15:34.540 --> 00:15:38.050\nAnd the reason is yeah,\nyou might not have a serial port, but\n\n301\n00:15:38.050 --> 00:15:41.460\nit is very common to buy these.\n\n302\n00:15:41.460 --> 00:15:44.820\nThese are nine pin serial to USB adapters.\n\n303\n00:15:44.820 --> 00:15:46.930\nRight?\nThey cost maybe $15.\n\n304\n00:15:46.930 --> 00:15:48.009\nThey're not expensive.\n\n305\n00:15:48.009 --> 00:15:52.660\nAnd every network admin should have\none of these things not just for\n\n306\n00:15:52.660 --> 00:15:54.914\nCisco but HP, Dell, Juniper.\n\n307\n00:15:54.914 --> 00:15:58.416\nWhoever else it is that you manage, you'll\nend up needing a serial port sooner or\n\n308\n00:15:58.416 --> 00:16:00.478\nlater to connect to these\ndevices All right, so\n\n309\n00:16:00.478 --> 00:16:02.451\nwe need to get connected\nto the Cisco device.\n\n310\n00:16:02.451 --> 00:16:05.650\nI'm gonna need this\nserial device to do it.\n\n311\n00:16:05.650 --> 00:16:08.890\nSo I'm gonna take that cable and\nthe nine pin serial connector and\n\n312\n00:16:08.890 --> 00:16:11.890\nI'm just gonna plug it into this\nlittle USB adapter that I've got, and\n\n313\n00:16:11.890 --> 00:16:13.980\nI'm gonna throw it onto my computer.\n\n314\n00:16:13.980 --> 00:16:17.400\nThat's the first thing I'm\ngonna need to get connected.\n\n315\n00:16:17.400 --> 00:16:20.810\nThe second thing that I'm gonna need\nis some kind of a software to do\n\n316\n00:16:20.810 --> 00:16:21.690\nthe connection.\n\n317\n00:16:21.690 --> 00:16:26.010\nThat console port on the back,\nit basically functions like an old modem.\n\n318\n00:16:26.010 --> 00:16:29.320\nI know a lot of you are probably\nyoung enough that you've never\n\n319\n00:16:29.320 --> 00:16:32.270\nhad the joy of using a modem,\nbut for any of you that are over,\n\n320\n00:16:32.270 --> 00:16:37.110\nsay 35 years old, you've dealt with\nmodems at some point more than likely.\n\n321\n00:16:37.110 --> 00:16:41.890\nAnd the way they worked is they\ntransmitted digital signals as analog.\n\n322\n00:16:41.890 --> 00:16:45.030\nSo it's gotta convert your ones and\nzeros into\n\n323\n00:16:45.030 --> 00:16:48.840\nwhat sounds like loud screeching noises\nbeing sent over a copper phone line.\n\n324\n00:16:48.840 --> 00:16:52.060\nSo that's how the console port works\non the back of these routers, switches,\n\n325\n00:16:52.060 --> 00:16:53.020\nand firewalls.\n\n326\n00:16:53.020 --> 00:16:56.630\nSo I need some kind of a program\nthat understands that,\n\n327\n00:16:56.630 --> 00:16:59.850\nthat understands what those creatures are\ncan turn that back in to ones and zeros so\n\n328\n00:16:59.850 --> 00:17:02.010\nI can actually see what's\ngoing on on the screen.\n\n329\n00:17:02.010 --> 00:17:03.690\nSo we're gonna need a program for that.\n\n330\n00:17:03.690 --> 00:17:07.630\nIf you're running Windows, the most common\nprogram that's alters a program called\n\n331\n00:17:07.630 --> 00:17:12.230\nPuTTY and I'll put the link to it in\nthe show note seeing get it P-U-T-T-Y.\n\n332\n00:17:12.230 --> 00:17:16.470\nPuTTY is free, you can go and\ndownload it, I think it's open source.\n\n333\n00:17:16.470 --> 00:17:18.760\nDid they give out the source code?\n\n334\n00:17:18.760 --> 00:17:20.150\n>> I don't know.\n>> It may not be open source, but\n\n335\n00:17:20.150 --> 00:17:23.020\nit's definitely free, so you can\ndownload it, throw it on your computer.\n\n336\n00:17:23.020 --> 00:17:27.000\nIt does serial communications which is\nperfect for console connectivity, but\n\n337\n00:17:27.000 --> 00:17:28.800\nit also does TeleNet and SSH.\n\n338\n00:17:28.800 --> 00:17:31.900\nWhich means you can use it even\nbeyond the initial configuration, and\n\n339\n00:17:31.900 --> 00:17:34.930\nthat's important because we don't to\nkeep using a console cable forever.\n\n340\n00:17:34.930 --> 00:17:37.440\nEvery time I manage a router I don't\nwant to think I'm gonna get my cable and\n\n341\n00:17:37.440 --> 00:17:41.275\nplug in because what if the router\nis in Hawaii and I'm in Florida?\n\n342\n00:17:41.275 --> 00:17:43.390\n>> [LAUGH]\n>> Well it's a good excuse for a trip but\n\n343\n00:17:43.390 --> 00:17:45.590\nif I'm in a hurry, I need to be\nable to get to it over the network.\n\n344\n00:17:45.590 --> 00:17:48.660\nSo usually you only use\na console cable on day one.\n\n345\n00:17:48.660 --> 00:17:52.140\nThe initial configuration to get\nthe router switch turned on, and\n\n346\n00:17:52.140 --> 00:17:54.840\nthen you do everything else\nvia the network, all right?\n\n347\n00:17:54.840 --> 00:17:58.650\nI mentioned PuTTY,\nanother one that's out there is SecureCRT.\n\n348\n00:17:58.650 --> 00:18:01.470\nSecureCRT also does SSH, a great program.\n\n349\n00:18:01.470 --> 00:18:03.950\nI usually use a program called Royal TS.\n\n350\n00:18:03.950 --> 00:18:07.770\nRoyal TS works on Windows and Mac,\nthat's why I use it, cuz I go back and\n\n351\n00:18:07.770 --> 00:18:09.000\nforth between the two.\n\n352\n00:18:09.000 --> 00:18:15.980\nIt does Telnet, SSH, serial connectivity,\nremote desktop, VNC, it does everything.\n\n353\n00:18:15.980 --> 00:18:18.640\nSo I have all my stuff kind of\nconsolidated and I really like that one.\n\n354\n00:18:18.640 --> 00:18:21.840\nIt's a little pricey but it's worth it.\n\n355\n00:18:21.840 --> 00:18:24.720\nOn the Mac side there's another program\ncalled serial which is what I'm\n\n356\n00:18:24.720 --> 00:18:25.910\ngonna use here on the show.\n\n357\n00:18:25.910 --> 00:18:28.340\nWhich is another great one for\njust console connectivity,\n\n358\n00:18:28.340 --> 00:18:31.440\ndoesn't do all the other stuff it just\ndoes console connectivity and that's it.\n\n359\n00:18:31.440 --> 00:18:33.750\nSo all different solutions but\n\n360\n00:18:33.750 --> 00:18:38.080\nyou need to find a terminal program\nthat will do serial communications,\n\n361\n00:18:38.080 --> 00:18:41.170\nand in the Windows world PuTTY is\nkind of the de facto standard.\n\n362\n00:18:41.170 --> 00:18:44.140\nIf you read Cisco technical manuals\nthey almost always show PuTTY\n\n363\n00:18:44.140 --> 00:18:46.000\nas their sample program.\n\n364\n00:18:46.000 --> 00:18:49.060\nAll right, so\nI'm gonna plug in this USB cable and\n\n365\n00:18:49.060 --> 00:18:51.610\nI'm gonna fire up my terminal programs.\n\n366\n00:18:51.610 --> 00:18:55.030\nSo let me jump over to my\nterminal program here.\n\n367\n00:18:56.570 --> 00:18:59.840\nOkay, when you launch your terminal\nprogram, it's gonna be different for\n\n368\n00:18:59.840 --> 00:19:03.600\nyou based on the program that you use,\nbut you're gonna be presented\n\n369\n00:19:03.600 --> 00:19:07.880\nwith this screen right here where you have\nto pick your Line Settings, all right?\n\n370\n00:19:07.880 --> 00:19:08.900\nAnd this is really important.\n\n371\n00:19:08.900 --> 00:19:12.250\nNow I'll be honest with you guys,\nCisco is really well known for\n\n372\n00:19:12.250 --> 00:19:13.530\nhaving their console ports out there.\n\n373\n00:19:13.530 --> 00:19:18.290\nAnd so almost all terminal software is\nalready set up the right way, okay?\n\n374\n00:19:18.290 --> 00:19:19.760\nSo you probably don't\nhave to change anything.\n\n375\n00:19:19.760 --> 00:19:21.260\nYou can just hit OK.\n\n376\n00:19:21.260 --> 00:19:23.930\nBut just in case let's run through\nthe setting and explain what they are and\n\n377\n00:19:23.930 --> 00:19:26.090\nshow how they're important.\n\n378\n00:19:26.090 --> 00:19:27.270\nFirst is Baud Rate.\n\n379\n00:19:27.270 --> 00:19:30.640\nBaud Rate is bits per second: how\nmany bits can we send per second?\n\n380\n00:19:30.640 --> 00:19:32.850\nWhat's the speed of the connection?\n\n381\n00:19:32.850 --> 00:19:34.890\nAnd all Cisco routers and\n\n382\n00:19:34.890 --> 00:19:39.610\nswitches are set to 9600 Baud by\ndefault which is 9600 bits per second.\n\n383\n00:19:39.610 --> 00:19:42.760\nNow a serial port can push up to 115,000.\n\n384\n00:19:42.760 --> 00:19:46.830\nSo if I drop that down and\nkind of look at my options.\n\n385\n00:19:48.190 --> 00:19:49.240\nThere we go.\n\n386\n00:19:49.240 --> 00:19:52.645\nWe should see there 115,000,\nthis one actually goes beyond.\n\n387\n00:19:52.645 --> 00:19:54.610\n>> [LAUGH\n>> I'm not entirely sure you can achieve\n\n388\n00:19:54.610 --> 00:19:57.970\nthese speeds, but\n115,000 is usually what we max out on,\n\n389\n00:19:57.970 --> 00:20:00.630\nbut this one's definitely going above it.\n\n390\n00:20:00.630 --> 00:20:02.670\nBut you'll see there's\nplenty of higher speed.\n\n391\n00:20:02.670 --> 00:20:04.370\nWhy wouldn't we use a higher speed?\n\n392\n00:20:04.370 --> 00:20:06.540\nWell, the reality is when we connect\nto the console we're just seeing text\n\n393\n00:20:06.540 --> 00:20:08.260\non the screen, we don't need speed.\n\n394\n00:20:08.260 --> 00:20:10.880\nSo Cisco picked a nice, low number so\n\n395\n00:20:10.880 --> 00:20:13.960\nthey knew that everybody's\nserial port would support it.\n\n396\n00:20:13.960 --> 00:20:16.570\nNow once we do our initial configuration,\nwe'll switch over to the network and\n\n397\n00:20:16.570 --> 00:20:20.070\nthen you've got gigabit speed or\nhundred megabit or ten gig or\n\n398\n00:20:20.070 --> 00:20:22.098\nwhatever gigs that you've got,\nway faster than this.\n\n399\n00:20:22.098 --> 00:20:25.040\nThis is 9.6 kilobits per second.\n\n400\n00:20:25.040 --> 00:20:28.580\nThis is slow but you won't notice\nthat because it's just text,\n\n401\n00:20:28.580 --> 00:20:32.430\nit'll come up perfectly fast,\n9600 is the speed though.\n\n402\n00:20:32.430 --> 00:20:34.210\nThen the data bits, okay?\n\n403\n00:20:34.210 --> 00:20:37.330\nThe way a serial connection\nworks is it sends data in order.\n\n404\n00:20:37.330 --> 00:20:40.240\nWhat it's saying is we're gonna\nsend eight bits and then stop,\n\n405\n00:20:40.240 --> 00:20:42.990\nand then we'll send eight bits and\nthen stop.\n\n406\n00:20:42.990 --> 00:20:45.880\nSome systems use more, some systems\nuse less, and you kind of pick and\n\n407\n00:20:45.880 --> 00:20:47.000\nchoose how you wanna do it.\n\n408\n00:20:47.000 --> 00:20:49.000\nCisco systems use eight bits.\n\n409\n00:20:49.000 --> 00:20:51.350\nNotice there's a stop bit.\n\n410\n00:20:51.350 --> 00:20:56.010\nAfter every eight bits, it then sends\na message saying we stopped, right?\n\n411\n00:20:56.010 --> 00:20:58.540\nAnd it's one bit by default,\nbut some systems can do two,\n\n412\n00:20:58.540 --> 00:21:00.940\njust to make doubly sure\nthat you know to stop.\n\n413\n00:21:00.940 --> 00:21:02.860\nIn this case,\nit's just gonna do one, all right?\n\n414\n00:21:02.860 --> 00:21:04.820\nCisco systems do one.\n\n415\n00:21:04.820 --> 00:21:06.020\nAnd then parity.\n\n416\n00:21:06.020 --> 00:21:09.010\nParity is another bit that we can\nsend that helps to detect corruption\n\n417\n00:21:09.010 --> 00:21:09.940\non the line.\n\n418\n00:21:09.940 --> 00:21:12.730\nBut with Cisco devices, because we're\nreally just talking about this little\n\n419\n00:21:12.730 --> 00:21:15.740\ncable, there's not going to\nbe corruption on the line.\n\n420\n00:21:15.740 --> 00:21:18.980\nSo, there's no point in doing parity,\nso we don't, so it's set to none.\n\n421\n00:21:18.980 --> 00:21:22.200\nSome people call this eight and one\nwhich is a really common configuration.\n\n422\n00:21:22.200 --> 00:21:25.710\nBut it's eight data bits,\nno parity, one stop bit.\n\n423\n00:21:25.710 --> 00:21:28.860\nNow almost every terminal\nprogram supports flow control.\n\n424\n00:21:28.860 --> 00:21:30.760\nWhich means we could increase or\n\n425\n00:21:30.760 --> 00:21:33.400\ndecrease the speed people\nare communicating on the fly.\n\n426\n00:21:33.400 --> 00:21:34.890\nCisco equipment doesn't support that.\n\n427\n00:21:34.890 --> 00:21:37.040\nIf you turn it on,\nit just doesn't get used.\n\n428\n00:21:37.040 --> 00:21:38.660\nBut the actual setting is for\nit to be turned off and\n\n429\n00:21:38.660 --> 00:21:39.690\nyou'll see mine is entirely off.\n\n430\n00:21:39.690 --> 00:21:43.690\nAll right,\nthese are the settings that I want.\n\n431\n00:21:43.690 --> 00:21:48.330\nAnd when I say okay to that,\nI'm not listening on my serial port.\n\n432\n00:21:48.330 --> 00:21:49.430\nListening for communications.\n\n433\n00:21:49.430 --> 00:21:51.910\nAnd what we can do, you know Ronnie,\nI think I'm gonna change it up.\n\n434\n00:21:51.910 --> 00:21:53.270\nLet's use that router.\n\n435\n00:21:53.270 --> 00:21:57.100\nSo what we're gonna do is we're\ngonna plug this console cable\n\n436\n00:21:57.100 --> 00:21:59.850\ninto the router that's behind me and\nyou guys can't see the router,\n\n437\n00:21:59.850 --> 00:22:02.410\nit's back on a cart But\nRonnie's gonna plug that in.\n\n438\n00:22:02.410 --> 00:22:06.900\nAnd if we watch my computer, what's\ngonna happen is this serial program,\n\n439\n00:22:06.900 --> 00:22:10.090\nit's just kind of sitting here right now,\nokay?\n\n440\n00:22:10.090 --> 00:22:12.770\nBut in just a moment as soon\nas that router powers on,\n\n441\n00:22:12.770 --> 00:22:15.420\nwe're gonna start seeing activity.\n\n442\n00:22:15.420 --> 00:22:16.470\nAnd there it is.\n\n443\n00:22:16.470 --> 00:22:21.740\nYou know you're connected properly if\nyou start to see output like this, okay?\n\n444\n00:22:21.740 --> 00:22:26.740\nI'm seeing output because that router is\nbooting up and routers are a lot like PCs,\n\n445\n00:22:26.740 --> 00:22:30.560\nyou're gonna see a little bit that's kind\nof like the BIOS, right, the basic input,\n\n446\n00:22:30.560 --> 00:22:32.770\noutputs, operating system.\n\n447\n00:22:32.770 --> 00:22:36.330\nNow we've got this system bootstrap,\nthe bootstrap\n\n448\n00:22:36.330 --> 00:22:39.680\nis the bootloader it's what's saying, all\nright, I'm going to turn on the hardware.\n\n449\n00:22:39.680 --> 00:22:42.550\nI'm going to get the processor running,\ngoing to get the memory running, I'm going\n\n450\n00:22:42.550 --> 00:22:45.260\nthe get the fans, you can probably hear\nthe fans I'm going to get the fans\n\n451\n00:22:45.260 --> 00:22:49.050\nrunning, and it's going to take those\nfans to 100%, so nice and loud.\n\n452\n00:22:49.050 --> 00:22:52.010\nAnd after it's done testing them\nit'll then bring the fans back down\n\n453\n00:22:52.010 --> 00:22:55.280\nto a normal speed and\nthen you'll be good to go.\n\n454\n00:22:55.280 --> 00:22:58.690\nSo that's happening right\nhere during the boot process.\n\n455\n00:22:58.690 --> 00:23:00.680\nAnd I'm seeing the text.\n\n456\n00:23:00.680 --> 00:23:04.760\nThose settings in my serial program,\nif I had chosen any of them incorrectly,\n\n457\n00:23:04.760 --> 00:23:08.550\nI'd either be seeing absolutely\nnothing here, or garbled text.\n\n458\n00:23:08.550 --> 00:23:11.360\nIf you start seeing garbled text, it\nnormally means you have the speed wrong.\n\n459\n00:23:11.360 --> 00:23:14.980\nAnd so maybe you set it too high or too\nlow, you need to go in and adjust that.\n\n460\n00:23:14.980 --> 00:23:17.490\nBut what you should be\nseeing is this text,\n\n461\n00:23:17.490 --> 00:23:20.500\nright here on the screen,\nAs the system boots up.\n\n462\n00:23:20.500 --> 00:23:22.520\nLet me describe what's happening here.\n\n463\n00:23:22.520 --> 00:23:24.300\nIt initialized my hardware.\n\n464\n00:23:24.300 --> 00:23:26.830\nThis router,\nwe need to upgrade this router.\n\n465\n00:23:26.830 --> 00:23:32.230\nThis router has 262 megs of memory,\nwhich is actually 256\n\n466\n00:23:32.230 --> 00:23:36.910\nmegs is what it actually is but\nit's booting up and\n\n467\n00:23:36.910 --> 00:23:42.660\nthen once it powers on the hardware It's\nthen looking for the operating system.\n\n468\n00:23:42.660 --> 00:23:45.760\nAnd you know it's found the operating\nsystem when you start to see\n\n469\n00:23:45.760 --> 00:23:47.170\nthis right here.\n\n470\n00:23:47.170 --> 00:23:51.010\nThe operating system is stored\ncompressed on the hard drive.\n\n471\n00:23:51.010 --> 00:23:51.940\nIt's zipped up.\n\n472\n00:23:51.940 --> 00:23:55.556\nIt's actually like a g zip,\na Unix zip program.\n\n473\n00:23:55.556 --> 00:23:59.448\nSo it's gonna read it off of flash\nmemory that's on the mother board.\n\n474\n00:23:59.448 --> 00:24:01.189\nKind of like a hard drive, right?\n\n475\n00:24:01.189 --> 00:24:04.886\nSo it's gonna read it from the flash\nmemory, and then it's gonna uncompress it.\n\n476\n00:24:04.886 --> 00:24:08.090\nAnd it's gonna, or decompress,\nit's gonna decompress it.\n\n477\n00:24:08.090 --> 00:24:09.740\nAnd decompress it right into RAM.\n\n478\n00:24:09.740 --> 00:24:11.890\nSo now, the operating system\nhas been copied into RAM,\n\n479\n00:24:11.890 --> 00:24:14.310\nand it's much larger\nthan it originally was.\n\n480\n00:24:14.310 --> 00:24:17.100\nAnd then,\nit's ready to boot the operating system.\n\n481\n00:24:17.100 --> 00:24:18.540\nSo that's what this part here is.\n\n482\n00:24:18.540 --> 00:24:21.610\nWhen it's self-decompressing the image,\nit's getting it decompressed,\n\n483\n00:24:21.610 --> 00:24:25.640\ngetting it copied into RAM, and\nnow the actual operating system boots.\n\n484\n00:24:25.640 --> 00:24:30.140\nAnd when it boots, that's when\nyou start to see the copyright,\n\n485\n00:24:30.140 --> 00:24:33.670\nand other information that comes up\nas a part of that process, all right?\n\n486\n00:24:33.670 --> 00:24:36.220\nAnd you're gonna see it\nreinitialize the hardware.\n\n487\n00:24:36.220 --> 00:24:39.310\nNow, I do wanna point out one\nthing before we go too far.\n\n488\n00:24:39.310 --> 00:24:43.200\nWay back here,\nmy boot loader was 12.4, okay?\n\n489\n00:24:43.200 --> 00:24:47.940\nYou have an operating system version.\n\n490\n00:24:47.940 --> 00:24:50.960\nAnd the current operating system\nversion for most routers and\n\n491\n00:24:50.960 --> 00:24:53.653\nswitches is either 15.1 or 15.2.\n\n492\n00:24:53.653 --> 00:24:57.510\n12.4 sounds really old but\nit's actually not that old.\n\n493\n00:24:57.510 --> 00:25:00.100\nCisco went from 12.4 right to 15.0.\n\n494\n00:25:00.100 --> 00:25:01.860\nThey skipped everything in between.\n\n495\n00:25:01.860 --> 00:25:03.620\nThey skipped 13 and 14, went right to 15.\n\n496\n00:25:03.620 --> 00:25:06.130\nNot sure why they did that but they did.\n\n497\n00:25:06.130 --> 00:25:09.530\nSo, 12.4 may actually be current for\nyour device.\n\n498\n00:25:09.530 --> 00:25:12.910\nSome devices, 12.4 is still current,\nand still supported by Cisco, but\n\n499\n00:25:12.910 --> 00:25:14.920\nmost are in the 15's, all right.\n\n500\n00:25:14.920 --> 00:25:17.930\nBut this is not my\noperating system version.\n\n501\n00:25:17.930 --> 00:25:19.970\nThis is my bootstrap version.\n\n502\n00:25:19.970 --> 00:25:21.410\nThis is built into the motherboard.\n\n503\n00:25:21.410 --> 00:25:24.250\nWhen this router was originally purchased,\nit had 12.4 on it.\n\n504\n00:25:24.250 --> 00:25:27.380\nYou cannot upgrade your bootstrap.\n\n505\n00:25:27.380 --> 00:25:29.280\nOnly Cisco can upgrade the bootstrap.\n\n506\n00:25:29.280 --> 00:25:30.730\nSo when you buy a device,\n\n507\n00:25:30.730 --> 00:25:33.650\nit's got the Bootstrap it's gotta have\nuntil you get rid of the device, right?\n\n508\n00:25:33.650 --> 00:25:36.140\nSo don't worry about that\nversion number there.\n\n509\n00:25:36.140 --> 00:25:38.750\nThe number I worry about\nis down below further\n\n510\n00:25:38.750 --> 00:25:41.410\nwhen it actually load\nthe operating system.\n\n511\n00:25:41.410 --> 00:25:45.130\nAnd if I continue to scroll down to\nwhere it's loading our operating system\n\n512\n00:25:45.130 --> 00:25:49.160\nwe get this line and this is the important\none because this is the actual\n\n513\n00:25:49.160 --> 00:25:51.730\noperating system that\nI'm running right here.\n\n514\n00:25:51.730 --> 00:25:53.950\nSo it says Cisco IOS Software, 2800.\n\n515\n00:25:53.950 --> 00:26:00.840\nAnd if I continue to look over this\nis version 15.1 sub release 1T.\n\n516\n00:26:00.840 --> 00:26:04.220\nOkay, what that is telling me\nis that my major version is 15.\n\n517\n00:26:04.220 --> 00:26:06.290\nRight?\nSo this is iOS version 15.\n\n518\n00:26:06.290 --> 00:26:09.100\nAnd then I've got a sub\nversion of point one.\n\n519\n00:26:09.100 --> 00:26:13.070\nSo inside of the 15 release cycle we\ngot 15.0, 15.1, now we have 15.2.\n\n520\n00:26:13.070 --> 00:26:18.970\nBut there was a bug in 15.1\nwhen it first came out so\n\n521\n00:26:18.970 --> 00:26:22.420\nthey had to do a minor\nrevision Which is one.\n\n522\n00:26:23.430 --> 00:26:28.490\nAs they find bugs or\nsecurity exploits they need to patch,\n\n523\n00:26:28.490 --> 00:26:33.290\nwe might have 15.1.2, 15.1.5,\nsometimes it gets really high.\n\n524\n00:26:33.290 --> 00:26:33.900\nI've seen 15.1.\n\n525\n00:26:33.900 --> 00:26:39.730\nWell there's been 46 updates to 15.1 but\nthey hadn't gone to 15.2 yet,\n\n526\n00:26:39.730 --> 00:26:44.720\nthat happens, and eventually we're going\nto get to 15.3 and 15.4, and sooner or\n\n527\n00:26:44.720 --> 00:26:49.810\nlater Cisco will say hey, it's time to\ngo to 16, but that hasn't happened yet.\n\n528\n00:26:49.810 --> 00:26:52.270\nSo this router is running the latest and\n\n529\n00:26:52.270 --> 00:26:55.420\ngreatest firmware,\neven though that bootstrap is dates.\n\n530\n00:26:55.420 --> 00:26:56.810\nSo just be aware of that.\n\n531\n00:26:56.810 --> 00:26:58.680\nBut it's gonna boot up, and\n\n532\n00:26:58.680 --> 00:27:02.980\nas soon as it's done booting,\nyou'll get a summary of the hardware.\n\n533\n00:27:02.980 --> 00:27:04.090\nSo here's my summary.\n\n534\n00:27:04.090 --> 00:27:05.750\nThis is a Cisco 2821.\n\n535\n00:27:05.750 --> 00:27:10.020\nIt's got 2 gigabit Ethernet interfaces and\nit's got 1 serial interface.\n\n536\n00:27:10.020 --> 00:27:13.310\nAnd if I were to look at the back of it,\nthe 2 Gigabit Ethernet interfaces\n\n537\n00:27:13.310 --> 00:27:16.220\nare integrated into the motherboard,\nthey're built in.\n\n538\n00:27:16.220 --> 00:27:19.460\nThat serial interface is\nan HWIC that we've added to it.\n\n539\n00:27:19.460 --> 00:27:24.050\nIt's that modular card so\nit recognizes that hardware.\n\n540\n00:27:24.050 --> 00:27:27.900\nAnd then down below,\nI get a system configuration dialogue.\n\n541\n00:27:27.900 --> 00:27:30.270\nThis system just booted up for\nthe first time, and so\n\n542\n00:27:30.270 --> 00:27:33.400\nit's asking if I want to\ndo automatic configuration.\n\n543\n00:27:33.400 --> 00:27:34.770\nWell, I'm going to say no to that.\n\n544\n00:27:34.770 --> 00:27:37.940\nBut, know for\nyourself that if you wanna do a quick and\n\n545\n00:27:37.940 --> 00:27:40.520\neasy config,\nI guess we could say yes to it.\n\n546\n00:27:40.520 --> 00:27:43.830\nIf we say yes,\nit's gonna walk us through a simple wizard\n\n547\n00:27:43.830 --> 00:27:47.600\nthat'll give us our basic configuration\nto get things set up, right?\n\n548\n00:27:47.600 --> 00:27:49.940\nSo if we run through the basic steps.\n\n549\n00:27:49.940 --> 00:27:53.300\nLet me see if I can't get this to maybe\nfit on my screen a little better.\n\n550\n00:27:54.390 --> 00:27:57.370\nIf we run through the basic steps it's\ngoing to let us assign an IP address to\n\n551\n00:27:57.370 --> 00:27:59.590\nthe router and\nall the other things that you need to do.\n\n552\n00:27:59.590 --> 00:28:01.640\nSo would I like to enter\nthe basic management setup?\n\n553\n00:28:01.640 --> 00:28:03.090\nI'll say yes to that.\n\n554\n00:28:03.090 --> 00:28:05.420\nAnd so now it's going to ask me\nto set a name for the router.\n\n555\n00:28:05.420 --> 00:28:06.190\nWhat do I want to call it?\n\n556\n00:28:06.190 --> 00:28:07.120\nWell, maybe I want to call it R1.\n\n557\n00:28:07.120 --> 00:28:08.630\nIt's going to be Router 1, right?\n\n558\n00:28:08.630 --> 00:28:09.440\nSo now I've given it a name.\n\n559\n00:28:09.440 --> 00:28:11.480\nDo I want to set a password for it?\n\n560\n00:28:11.480 --> 00:28:12.850\nSure, I'll do cisco123.\n\n561\n00:28:12.850 --> 00:28:14.830\nThat's going to be my password.\n\n562\n00:28:14.830 --> 00:28:15.490\nRight?\n\n563\n00:28:15.490 --> 00:28:16.780\nDo I want an enable password?\n\n564\n00:28:16.780 --> 00:28:19.630\nAnd we're going to talk about what\nthese passwords are later on.\n\n565\n00:28:19.630 --> 00:28:20.960\nI can punch in a password for that.\n\n566\n00:28:20.960 --> 00:28:23.110\nMaybe I'll do the same thing, right?\n\n567\n00:28:23.110 --> 00:28:24.920\nI can't do the same thing.\n\n568\n00:28:24.920 --> 00:28:26.170\nI'll do Cisco 321, all right?\n\n569\n00:28:26.170 --> 00:28:27.237\nAnd then a vty.\n\n570\n00:28:27.237 --> 00:28:27.840\n>> [LAUGH]\n>> It's, you know,\n\n571\n00:28:27.840 --> 00:28:30.980\nall these different passwords\nthat we can set, you know?\n\n572\n00:28:30.980 --> 00:28:32.520\nDo I want to set up snmp.\n\n573\n00:28:32.520 --> 00:28:35.480\nAnd here's the list of my interfaces.\n\n574\n00:28:35.480 --> 00:28:37.130\nRight?\nSo if you get really confused, and\n\n575\n00:28:37.130 --> 00:28:39.950\nyou don't remember how your interfaces\nare numbered, you can look right here, and\n\n576\n00:28:39.950 --> 00:28:43.432\nsee how I've got gigabit ethernet 0/0 and\n\n577\n00:28:43.432 --> 00:28:48.390\n0/1, the 0 indicating they're\nintegrated into the mother board, and\n\n578\n00:28:48.390 --> 00:28:51.400\nI've got my first port and\nmy second port, 0 and 1.\n\n579\n00:28:51.400 --> 00:28:54.020\nBut beneath it,\nlook at that serial 0/0/0, right?\n\n580\n00:28:55.140 --> 00:28:57.850\nThe first zero indicates\nit's on the motherboard,\n\n581\n00:28:57.850 --> 00:29:01.460\nthe second zero indicates it's\nin the first WIC slot, and\n\n582\n00:29:01.460 --> 00:29:04.790\nthe third zero indicates it's\nthe first port on that WIC.\n\n583\n00:29:04.790 --> 00:29:07.580\nThat WIC only has one port,\nso that's all it's got.\n\n584\n00:29:07.580 --> 00:29:12.070\nSo serial 000 When you see a port\nthat only has two numbers,\n\n585\n00:29:12.070 --> 00:29:14.210\nthat usually means it's\ndirectly on the motherboard.\n\n586\n00:29:14.210 --> 00:29:18.360\nAnd if it's got three numbers, that lets\nyou know that it's an add on of some sort.\n\n587\n00:29:18.360 --> 00:29:20.400\nEither in a network module or\nin a wick slot.\n\n588\n00:29:20.400 --> 00:29:22.360\nSo we got that different naming.\n\n589\n00:29:22.360 --> 00:29:25.140\nAnd then the speed of the port\nis indicated in the name,\n\n590\n00:29:25.140 --> 00:29:28.810\nthese are gigabit ports, not fast\nethernet which will be a 100 megabit.\n\n591\n00:29:28.810 --> 00:29:31.200\nThey are not 10 gigabit ethernet,\nor the name would say that, right?\n\n592\n00:29:31.200 --> 00:29:33.290\nThis is the maximum speed of the port.\n\n593\n00:29:33.290 --> 00:29:37.510\nThis port could run at 100 megabit or it\ncould even run at ten megabit if I wanted\n\n594\n00:29:37.510 --> 00:29:39.840\nbut this is the maximum speed\nthat is supported right there.\n\n595\n00:29:41.790 --> 00:29:45.660\nSo we can see that here in the setup,\nI'm going to abort this setup.\n\n596\n00:29:45.660 --> 00:29:49.890\nLet me just abort that and\nif I didn't want to run the setup,\n\n597\n00:29:49.890 --> 00:29:53.630\nthen as soon as it gets happy again, it's\ngoing to drop me to my command prompt.\n\n598\n00:29:53.630 --> 00:29:57.610\nAnd from my command prompt, I can run that\ncommand I mentioned earlier, which was,\n\n599\n00:29:57.610 --> 00:30:01.620\nshow IP interface brief.\n\n600\n00:30:02.680 --> 00:30:05.680\nAnd that's going to give me\na summary of the interfaces,\n\n601\n00:30:05.680 --> 00:30:08.200\nexactly what the wizard was\nshowing me a minute ago.\n\n602\n00:30:08.200 --> 00:30:09.470\nAnd so, when I log in on the router, and\n\n603\n00:30:09.470 --> 00:30:12.480\nyou're going to see me do this here on the\nshow, because it's really engrained in my\n\n604\n00:30:12.480 --> 00:30:16.510\nbeing, anytime I log in to a new router or\nswitch, its the first command I run.\n\n605\n00:30:16.510 --> 00:30:18.070\nShow IP interface brief.\n\n606\n00:30:18.070 --> 00:30:21.100\nI just need to get a summary of the ports\ncuz I don't necessarily know the numbers.\n\n607\n00:30:21.100 --> 00:30:22.930\nRight?\nIt's hard to memorize those.\n\n608\n00:30:22.930 --> 00:30:26.640\nSo, that makes it easy to jump in and\nget working with a new device.\n\n609\n00:30:26.640 --> 00:30:28.380\nRight?\nSo, here we're seeing a router.\n\n610\n00:30:28.380 --> 00:30:30.570\nIf we were seeing a switch it\nwould be very, very similar.\n\n611\n00:30:30.570 --> 00:30:32.860\nIt wouldn't say router in the prompt,\nit would say switch.\n\n612\n00:30:32.860 --> 00:30:35.270\nBut otherwise,\nI could do a show IP interface brief and\n\n613\n00:30:35.270 --> 00:30:36.550\nsee a list of all the switch ports.\n\n614\n00:30:36.550 --> 00:30:38.170\nThere'll be a lot more of them, right?\n\n615\n00:30:38.170 --> 00:30:40.140\nHere I've got three ports.\n\n616\n00:30:40.140 --> 00:30:42.930\nBut on the switch, like,\nthe switch behind me, there's 52 ports.\n\n617\n00:30:42.930 --> 00:30:44.990\nI'll see 52 ports listed out on my screen.\n\n618\n00:30:44.990 --> 00:30:45.990\nIt's a lot.\n\n619\n00:30:45.990 --> 00:30:50.430\nIf I went to a bigger switch, right,\nlet's see, do I have a big switch we can?\n\n620\n00:30:50.430 --> 00:30:54.250\nYeah, surely there's a big\nswitch I can get into.\n\n621\n00:30:56.200 --> 00:30:57.780\nLet me do this guy.\n\n622\n00:30:59.530 --> 00:31:00.270\nMaybe.\n\n623\n00:31:00.270 --> 00:31:01.930\nIf I jump into a bigger switch, though,\n\n624\n00:31:01.930 --> 00:31:06.450\nyou'll see where you might have hundreds\nof ports, because it's a big switch.\n\n625\n00:31:06.450 --> 00:31:10.740\nThis one, if it every comes up,\nis a 4506 like I showed you guys.\n\n626\n00:31:10.740 --> 00:31:13.180\nYou know, one of those modular switches?\n\n627\n00:31:13.180 --> 00:31:15.520\nAnd it does have hundreds of ports in it.\n\n628\n00:31:15.520 --> 00:31:18.740\nIf I do a show version.\n\n629\n00:31:19.980 --> 00:31:22.555\nWe can come in here and\nit'll give me the summary of ports, and\n\n630\n00:31:22.555 --> 00:31:26.380\nsee how I've got 192\nFastEthernet Interfaces.\n\n631\n00:31:26.380 --> 00:31:27.490\nThat's a lot of ports.\n\n632\n00:31:27.490 --> 00:31:31.510\nI've also got 50 gigabit Ethernet\ninterfaces on this one, and\n\n633\n00:31:31.510 --> 00:31:37.060\nif I were to do my trusty\nshow IP interface brief,\n\n634\n00:31:37.060 --> 00:31:42.080\nand start to list that, I'm gonna have\nscreen after screen after screen of ports.\n\n635\n00:31:42.080 --> 00:31:46.790\nAnd see how those giga ports up\nhere are two, slash, whatever?\n\n636\n00:31:46.790 --> 00:31:50.050\nThat's the second slot in the switch.\n\n637\n00:31:50.050 --> 00:31:52.730\nAnd then, we've got fast ethernet\nports that are three slash whatever.\n\n638\n00:31:52.730 --> 00:31:55.710\nNow, I'm in the third slot,\nand the fourth slot, and\n\n639\n00:31:55.710 --> 00:31:57.260\nthe fifth slot and the sixth slot.\n\n640\n00:31:57.260 --> 00:31:59.410\nThere's six slots on\nthis particular switch.\n\n641\n00:31:59.410 --> 00:32:01.560\nAnd then we got a couple of virtual\nadapters down at the bottom.\n\n642\n00:32:01.560 --> 00:32:03.280\nWe'll talk about those\nlater in the series.\n\n643\n00:32:03.280 --> 00:32:08.130\nBut, you may see a ton of interfaces,\nbecause it's a big device.\n\n644\n00:32:08.130 --> 00:32:10.710\nBut they are named\nbasically that same way.\n\n645\n00:32:10.710 --> 00:32:13.920\nI know these are modules\non that switch and\n\n646\n00:32:13.920 --> 00:32:15.580\nthe ports that are numbered\ninside of them.\n\n647\n00:32:15.580 --> 00:32:17.420\nAnd I can also see which ones\nof them are up and down.\n\n648\n00:32:17.420 --> 00:32:19.820\nIt is kind of a nice thing to see.\n\n649\n00:32:19.820 --> 00:32:23.620\nBut now, we are connected to our router or\nwe are connected to our switch and\n\n650\n00:32:23.620 --> 00:32:25.060\nwe are ready to do the configuration.\n\n651\n00:32:25.060 --> 00:32:27.160\nBut it is kind of hard to do\nthe configuration if we don't know\n\n652\n00:32:27.160 --> 00:32:27.720\nthe command line.\n\n653\n00:32:27.720 --> 00:32:30.050\nSo that is what we are going to be\ntaking a look at in the next episode.\n\n654\n00:32:30.050 --> 00:32:33.340\nIs getting introduced to the Cisco command\nline and how we can work with it and\n\n655\n00:32:33.340 --> 00:32:36.980\nuse it to really kind of get our\nsystems going the way that we want.\n\n656\n00:32:36.980 --> 00:32:39.110\nSo that's what we're gonna take a look\nat in the next one, but I think, Ronnie,\n\n657\n00:32:39.110 --> 00:32:42.950\nthis has been a pretty good wrap up\nof how the ports get numbered and\n\n658\n00:32:42.950 --> 00:32:46.800\nhow we can initially get connected\nto our devices to work with it.\n\n659\n00:32:46.800 --> 00:32:50.170\n>> All right, well, Don, thank you again\nfor helping us to get introduced and\n\n660\n00:32:50.170 --> 00:32:52.950\nfeeling a little bit more comfortable\nwith working with the hardware.\n\n661\n00:32:52.950 --> 00:32:55.860\nWe also want to make sure that we remember\nthat as we get connected that very\n\n662\n00:32:55.860 --> 00:32:58.470\nfirst time we're going to\nneed that console cable and\n\n663\n00:32:58.470 --> 00:33:00.060\nyou also want to remember those settings.\n\n664\n00:33:00.060 --> 00:33:02.850\nI know that it sounds strange for\nsomething you might prepare for for\n\n665\n00:33:02.850 --> 00:33:06.320\nthe exam but you never know where\neasy points can come from so\n\n666\n00:33:06.320 --> 00:33:08.270\nmake sure you also take a look at that.\n\n667\n00:33:08.270 --> 00:33:10.930\nDon also introduced us of course\nof the port naming right,\n\n668\n00:33:10.930 --> 00:33:13.100\nthe nomenclature that's\nnormally used there.\n\n669\n00:33:13.100 --> 00:33:16.220\nAnd even though it's not something\nthat we're really dependent upon,\n\n670\n00:33:16.220 --> 00:33:21.140\nit really does help if you can take a look\nat a router or a switch and understand\n\n671\n00:33:21.140 --> 00:33:25.390\nthe basics and the background behind that,\nand then that Show IP Interface Brief\n\n672\n00:33:25.390 --> 00:33:29.600\nis a command that you're gonna use all the\ntime, so don't overlook that one as well.\n\n673\n00:33:29.600 --> 00:33:32.260\nBut besides that we do have\na lot more coming up for us.\n\n674\n00:33:32.260 --> 00:33:35.000\nBut this is a great place for\nus to end this episode as well.\n\n675\n00:33:35.000 --> 00:33:36.630\nSo signing off for IT Pro TV.\n\n676\n00:33:36.630 --> 00:33:38.510\nI've been your host Ronnie Wong.\n\n677\n00:33:38.510 --> 00:33:39.460\n>> And I'm Don Pezet.\n\n678\n00:33:39.460 --> 00:33:43.142\n>> Stay tuned right here for\nmore CCENT content.\n\n679\n00:33:43.142 --> 00:33:50.860\n[MUSIC]\n\n",
          "vimeoId": "174201503"
        },
        {
          "description": "In this episode, Ronnie and Don begin working with the command line interface (CLI) to the Cisco Internetwork Operating System (IOS).  They introduce the interface and demonstrate how to navigate through the commands and demonstrate several of the commands.  The guys emphasize a working familiarity and comfort for the CCENT candidate with the CLI they will be expected to have before sitting for the exam.  Practice is key!",
          "length": "2318",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-7-introduction_to_the_ios_cli-070716-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-7-introduction_to_the_ios_cli-070716-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-7-introduction_to_the_ios_cli-070716-1-sm.jpg",
          "title": "Introduction to the IOS CLI",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.768 --> 00:00:15.880\nWelcome to another great\nepisode right here on ITProTV.\n\n3\n00:00:15.880 --> 00:00:20.770\nI'm your host Ronnie Wong, and today we're\ncontinuing on with some CCENT content,\n\n4\n00:00:20.770 --> 00:00:23.460\ngetting ready for\nthat exam that's coming up.\n\n5\n00:00:23.460 --> 00:00:28.390\nAnd what we want to do of course is go\ninto the command-line interface and\n\n6\n00:00:28.390 --> 00:00:30.050\nwe have Don Pezet here to help us.\n\n7\n00:00:30.050 --> 00:00:30.620\nWelcome back Don.\n\n8\n00:00:30.620 --> 00:00:32.130\n>> Thanks for\nhaving me on the show, Ronnie.\n\n9\n00:00:32.130 --> 00:00:37.650\nYeah, in the last episode we kind of ended\nby accessing the console port of a router,\n\n10\n00:00:37.650 --> 00:00:38.900\nor maybe a switch, I don't remember.\n\n11\n00:00:38.900 --> 00:00:40.390\nOne of those devices, and\n\n12\n00:00:40.390 --> 00:00:42.520\ngetting to where we could see\nthe command line in interface.\n\n13\n00:00:42.520 --> 00:00:46.200\nWell, if this is your very first\ntime connecting to a Cisco device,\n\n14\n00:00:46.200 --> 00:00:49.230\nit's kind of intimidating because you're\ndropped off at a command line interface\n\n15\n00:00:49.230 --> 00:00:51.210\nwith very little help.\n\n16\n00:00:51.210 --> 00:00:54.700\nNow, I know in the last one we got in\nthere and it had a wizard, you could walk\n\n17\n00:00:54.700 --> 00:00:58.080\nthrough it which was kind of nice,\nbut that's not normally what you see.\n\n18\n00:00:58.080 --> 00:01:00.750\nWhat you normally get is\ndropped right to a prompt.\n\n19\n00:01:00.750 --> 00:01:01.892\nSo let's get right to it.\n\n20\n00:01:01.892 --> 00:01:04.330\nI wanna show you guys,\nwhen you plug in a console or\n\n21\n00:01:04.330 --> 00:01:07.320\ncable into a Cisco device,\nthis is typically what you get.\n\n22\n00:01:07.320 --> 00:01:09.740\nA message like this,\nit will either be router or\n\n23\n00:01:09.740 --> 00:01:14.160\nswitch, console zero is now available,\nPress RETURN to get started.\n\n24\n00:01:14.160 --> 00:01:19.018\nAnd you'll press return to get started and\nyou'll be greeted with a prompt like this,\n\n25\n00:01:19.018 --> 00:01:23.560\nRouter> or Switch> and that's it.\n\n26\n00:01:23.560 --> 00:01:26.680\nAnd now you're left to your own devices,\nso what do you do?\n\n27\n00:01:26.680 --> 00:01:27.660\nWell, you get to work.\n\n28\n00:01:27.660 --> 00:01:29.470\nIf you know the commands you\nchurn right into it, but\n\n29\n00:01:29.470 --> 00:01:32.710\nif you don't know the commands,\nit's hard to get anything done.\n\n30\n00:01:32.710 --> 00:01:36.810\nSo in this episode, we're gonna introduce\nyou to this command line interface and\n\n31\n00:01:36.810 --> 00:01:37.969\nshow you how it all works.\n\n32\n00:01:39.290 --> 00:01:42.570\nFirst thing I wanna mention,\nis that Cisco routers, and\n\n33\n00:01:42.570 --> 00:01:46.750\nCisco switches,\nall run the same operating system.\n\n34\n00:01:46.750 --> 00:01:52.530\nKind of like you might have a Windows\nmachine, or a Mac OS machine, or Linux, on\n\n35\n00:01:52.530 --> 00:01:56.450\na Cisco device you have what's called the\nIOS, the internetwork operating system.\n\n36\n00:01:56.450 --> 00:01:59.944\nAnd I know some of you are out there\nthinking, no, that's iPhone operating\n\n37\n00:01:59.944 --> 00:02:03.670\nsystem, but it's funny story, it's been\nthe Cisco IOS for a long, long time.\n\n38\n00:02:03.670 --> 00:02:05.540\nAnd so, when Apple released the iPhone,\n\n39\n00:02:05.540 --> 00:02:08.130\nthey actually had to license\nthat name from Cisco.\n\n40\n00:02:08.130 --> 00:02:11.450\nSo for every iPhone they sell,\nCisco gets a little bit of money,\n\n41\n00:02:11.450 --> 00:02:14.400\nbecause of the naming,\nbut it's a Cisco IOS.\n\n42\n00:02:14.400 --> 00:02:18.580\nAnd so the command line that I'm looking\nat here is the Cisco IOS command-line\n\n43\n00:02:18.580 --> 00:02:22.800\ninterface, and it's kind of neat because\nthe command line interface has become so\n\n44\n00:02:22.800 --> 00:02:28.200\npervasive, so many people learn this way\nthat there are many, HP ProCurve and\n\n45\n00:02:28.200 --> 00:02:31.670\nNetgear type switches,\nwhere they mimic the same interface.\n\n46\n00:02:31.670 --> 00:02:34.820\nSo the commands you use here are the same,\nand it's just because Cisco is so\n\n47\n00:02:34.820 --> 00:02:36.810\nprolific in the industry.\n\n48\n00:02:36.810 --> 00:02:39.000\nBut the way the interface works\nis pretty straightforward.\n\n49\n00:02:39.000 --> 00:02:39.800\nYou have a prompt, so\n\n50\n00:02:39.800 --> 00:02:44.490\nif we look at mine, my prompt is\nRouter> okay, what does that tell me?\n\n51\n00:02:44.490 --> 00:02:47.170\nWell the first part here is\njust the name of the device.\n\n52\n00:02:47.170 --> 00:02:50.300\nIf you're buying a router\nthe default name is Router.\n\n53\n00:02:50.300 --> 00:02:52.040\nIf you're buying a switch\nthe default name is switch,\n\n54\n00:02:52.040 --> 00:02:54.460\nif you're buying a firewall\nthe default name is ASA.\n\n55\n00:02:54.460 --> 00:02:56.780\nAnd so\nit'll just have that name right there.\n\n56\n00:02:56.780 --> 00:03:01.580\nAnd then after that is\na little greater than sign.\n\n57\n00:03:01.580 --> 00:03:05.680\nThe greater than sign is telling\nme what permissions I have.\n\n58\n00:03:05.680 --> 00:03:07.520\nThere's two different symbols\nyou're gonna see here.\n\n59\n00:03:07.520 --> 00:03:11.450\nA greater than sign or a pound symbol,\na pound symbol like that.\n\n60\n00:03:12.470 --> 00:03:16.850\nThe greater than sign tells me I'm in\nwhat's called unprivileged user mode.\n\n61\n00:03:16.850 --> 00:03:19.690\nUnprivileged user mode is\njust a regular old user.\n\n62\n00:03:19.690 --> 00:03:22.910\nA regular user can see\ninformation about the switch, or\n\n63\n00:03:22.910 --> 00:03:27.010\nsee information about the router,\nbut they can't do anything to it.\n\n64\n00:03:27.010 --> 00:03:29.160\nSo this is like what we\nmight give to our help desk.\n\n65\n00:03:29.160 --> 00:03:32.830\nWe want them to be able to see and\nmonitor, but not actually change.\n\n66\n00:03:32.830 --> 00:03:35.930\nAn administrator though, an administrator\nneeds to be able to get in here and\n\n67\n00:03:35.930 --> 00:03:37.120\nchange things.\n\n68\n00:03:37.120 --> 00:03:40.400\nAnd so they're gonna want to move\ninto what's called privileged mode.\n\n69\n00:03:40.400 --> 00:03:43.720\nPrivileged mode is where we elevate the\npermissions to give us the access to go in\n\n70\n00:03:43.720 --> 00:03:44.720\nand change things.\n\n71\n00:03:44.720 --> 00:03:49.390\nAnd when you're in privileged mode that\nprompt'll change to say router and\n\n72\n00:03:49.390 --> 00:03:50.938\na pound symbol.\n\n73\n00:03:50.938 --> 00:03:53.350\nSo we're gonna see those in just\na moment as we move through these.\n\n74\n00:03:53.350 --> 00:03:54.970\nBut that's the prompt that I'm looking at.\n\n75\n00:03:54.970 --> 00:03:57.310\nAnd then I get my flashing cursor.\n\n76\n00:03:57.310 --> 00:04:00.860\nSo now it's up to me to type\nthe commands to do stuff.\n\n77\n00:04:00.860 --> 00:04:05.205\nNow, I'm gonna teach you guys\nthe single most important command.\n\n78\n00:04:05.205 --> 00:04:08.030\nRonnie's laughing cuz he knows\nexactly what I'm about to say.\n\n79\n00:04:08.030 --> 00:04:10.530\nOut of all the commands,\nthere's thousands of commands.\n\n80\n00:04:10.530 --> 00:04:15.010\nThere's really one that stands out above\nit all and it's the question mark.\n\n81\n00:04:15.010 --> 00:04:19.480\nThe Cisco command line interface has what\nit's called a context sensitive help.\n\n82\n00:04:19.480 --> 00:04:22.765\nWhich means you can type a question\nmark pretty much anywhere and\n\n83\n00:04:22.765 --> 00:04:25.250\nit'll help you out based\non what you're typing.\n\n84\n00:04:25.250 --> 00:04:29.360\nSo for example if I'm sitting at a prompt,\njust sitting here confused.\n\n85\n00:04:29.360 --> 00:04:31.300\nI can type a question mark, and\n\n86\n00:04:31.300 --> 00:04:36.020\nit will give me a list of all\nthe different commands that I can type.\n\n87\n00:04:36.020 --> 00:04:39.130\nSo here's all the commands that I can\ntype, and there's more than'll fit in my\n\n88\n00:04:39.130 --> 00:04:42.730\nscreen so it's giving me more prompt, it's\nalphabetized and we got all the way to\n\n89\n00:04:42.730 --> 00:04:46.620\nthe m's but there's still more beneath it,\nand so I've got a more prompt for that.\n\n90\n00:04:47.870 --> 00:04:50.650\nNow, each command is listed here, so\n\n91\n00:04:50.650 --> 00:04:53.830\nit gives me the name of the command and\nthen a description.\n\n92\n00:04:53.830 --> 00:04:56.760\nSo for\nexample the enable command right here.\n\n93\n00:04:56.760 --> 00:04:59.340\nEnable, turn on privileged commands.\n\n94\n00:05:00.420 --> 00:05:03.840\nAnd I've got disable,\nturn off privileged commands.\n\n95\n00:05:03.840 --> 00:05:06.930\nSo right now I'm in\nthe unprivileged user mode,\n\n96\n00:05:06.930 --> 00:05:09.540\nif I wanna get to the privileged mode,\nwhat command am I gonna use?\n\n97\n00:05:09.540 --> 00:05:13.540\nEnable, it's right there,\nthat's the command that I wanna use.\n\n98\n00:05:13.540 --> 00:05:17.030\nNow, when I run that command it's gonna\ntake an action on the router and then I\n\n99\n00:05:17.030 --> 00:05:19.990\ncan run a different command like disable\nand it'll take an action on the router.\n\n100\n00:05:19.990 --> 00:05:22.620\nI get that nice and laid out for me here.\n\n101\n00:05:22.620 --> 00:05:25.830\nNow as we go through these commands,\nsome people start to panic,\n\n102\n00:05:25.830 --> 00:05:30.270\nlike I gotta memorize all these stuff for\nthe exam, and you'll certainly do better\n\n103\n00:05:30.270 --> 00:05:32.950\nif you memorize the commands,\nyou definitely wanna do that.\n\n104\n00:05:32.950 --> 00:05:36.420\nBut if you forget a command it's not the\nend of the world, because on the exam you\n\n105\n00:05:36.420 --> 00:05:39.280\nhave simulation questions where\nsimulates you being in the router or\n\n106\n00:05:39.280 --> 00:05:42.125\nswitch and guess what,\nthe question mark works.\n\n107\n00:05:42.125 --> 00:05:46.125\nYou can use the question mark, the context\nsensitive help right there on the exam and\n\n108\n00:05:46.125 --> 00:05:49.005\nthat's super beneficial,\nbut it eats up time.\n\n109\n00:05:49.005 --> 00:05:52.785\nYou've only got so much time on the exam,\nif you know the command to type,\n\n110\n00:05:52.785 --> 00:05:54.145\nyou can just type it and that's it.\n\n111\n00:05:54.145 --> 00:05:56.025\nIf you don't know the command,\nyou do a question mark and\n\n112\n00:05:56.025 --> 00:05:59.305\nthen you read through this whole list\nuntil you find the one you're looking for\n\n113\n00:05:59.305 --> 00:06:00.865\nand it just slows you down too much.\n\n114\n00:06:00.865 --> 00:06:03.506\nSo you don't wanna rely on it but\nit is there on the exam,\n\n115\n00:06:03.506 --> 00:06:05.259\nyou can use context sensitive help.\n\n116\n00:06:06.800 --> 00:06:07.980\nNow if I wanna advance forward,\n\n117\n00:06:07.980 --> 00:06:11.930\nI've got this more prompt, if you press\nEnter, it moves you forward one line.\n\n118\n00:06:11.930 --> 00:06:14.570\nSo I can move forward one\nline at a time with Enter.\n\n119\n00:06:14.570 --> 00:06:18.600\nOr if I press space,\nit'll move me the rest of the way.\n\n120\n00:06:18.600 --> 00:06:21.270\nAnd I've got even more commands, so\nI gotta hit space one more time.\n\n121\n00:06:21.270 --> 00:06:23.700\nSo a little over two pages of commands.\n\n122\n00:06:23.700 --> 00:06:25.800\nEach page is about 24 commands, so\n\n123\n00:06:25.800 --> 00:06:28.580\nI've got a little over 50 commands\navailable for me from this prompt.\n\n124\n00:06:29.750 --> 00:06:33.450\nNow some of the commands\nare single-word commands.\n\n125\n00:06:33.450 --> 00:06:35.170\nI just type the word and I press Enter.\n\n126\n00:06:36.200 --> 00:06:42.090\nOther commands require modifiers,\nrequire additional things applied to them.\n\n127\n00:06:42.090 --> 00:06:47.550\nSo when I run a command, sometimes\nit is as simple as running enable.\n\n128\n00:06:47.550 --> 00:06:51.030\nI want to get to privilege mode, so\nI type enable, now I'm in privilege mode.\n\n129\n00:06:51.030 --> 00:06:56.202\nSee how my prompt changed\nfrom Router> to Router#.\n\n130\n00:06:56.202 --> 00:06:59.060\nNow I'm in privilege mode and\nI can make changes to the router.\n\n131\n00:06:59.060 --> 00:07:03.730\nIf I want to get out of that,\nI can type disable and\n\n132\n00:07:03.730 --> 00:07:06.150\nnow I'm back to the greater than.\n\n133\n00:07:06.150 --> 00:07:09.490\nThose are single word commands,\nhow do I know they're single word?\n\n134\n00:07:09.490 --> 00:07:13.585\nWell, if I do enable space and\nthen a question mark,\n\n135\n00:07:13.585 --> 00:07:18.240\nit'll show me any modifiers and\nit turns out there actually are modifiers.\n\n136\n00:07:18.240 --> 00:07:20.790\nI could say enable and\nthen a privileged level.\n\n137\n00:07:21.830 --> 00:07:24.360\nTypically when we're in\nthe unprivileged level it's level zero,\n\n138\n00:07:24.360 --> 00:07:26.850\nand when we're at the privileged level,\nwe're at level 15.\n\n139\n00:07:26.850 --> 00:07:28.930\nLevel 15 can do whatever they want,\nlevel zero can't do anything.\n\n140\n00:07:30.070 --> 00:07:34.170\nLevels 1 through 14 don't actually exist,\nyou can create them yourself.\n\n141\n00:07:34.170 --> 00:07:37.140\nYou can make them and give people\ndifferent levels of permissions.\n\n142\n00:07:37.140 --> 00:07:39.600\nAnd so that's what it's talking\nabout here with those and the views.\n\n143\n00:07:39.600 --> 00:07:42.340\nIf you go on to to do the CCNA security,\nyou'll learn about those and\n\n144\n00:07:42.340 --> 00:07:43.590\nhow to set them up.\n\n145\n00:07:43.590 --> 00:07:48.870\nBut notice this entry right here,\ncr, that's carriage return or enter.\n\n146\n00:07:48.870 --> 00:07:52.630\nIn other words, I can type this command\nand then press Enter, and it'll run.\n\n147\n00:07:52.630 --> 00:07:53.512\nAny time you see that cr,\n\n148\n00:07:53.512 --> 00:07:55.823\nit's telling you to run the command\nby itself with no modifiers.\n\n149\n00:07:55.823 --> 00:07:59.385\nOther commands require a modifier.\n\n150\n00:07:59.385 --> 00:08:04.002\nSo for\nexample Let's say I do the show command,\n\n151\n00:08:04.002 --> 00:08:07.260\nshow by itself doesn't work.\n\n152\n00:08:07.260 --> 00:08:11.990\nSo if I press Enter, it's telling me I\nneed to do more, and I can type show ?,\n\n153\n00:08:11.990 --> 00:08:15.430\nfor a list of subcommands,\nI've gotta have a subcommand on this one.\n\n154\n00:08:15.430 --> 00:08:18.570\nNow, the show command is\na really powerful command.\n\n155\n00:08:18.570 --> 00:08:22.860\nIf the question mark is the most\nimportant, show comes in second place.\n\n156\n00:08:22.860 --> 00:08:25.620\nShow is how we learn what\nour router is doing and\n\n157\n00:08:25.620 --> 00:08:27.660\nyou can get a ton of information.\n\n158\n00:08:27.660 --> 00:08:28.430\nIf I do show ?,\n\n159\n00:08:28.430 --> 00:08:34.360\nI'm gonna get a list of all the different\nthings that I can see about this router.\n\n160\n00:08:34.360 --> 00:08:38.400\nAnd if I just keep advancing, it's\npage after page after page of data and\n\n161\n00:08:38.400 --> 00:08:41.890\nit's gonna list it out, and I'll be\nable to see the commands that I can use.\n\n162\n00:08:41.890 --> 00:08:46.260\nNow, each of these commands may\nhave additional subcommands,\n\n163\n00:08:46.260 --> 00:08:48.850\nso sometimes things can get\nnested deeper and deeper and\n\n164\n00:08:48.850 --> 00:08:53.450\ndeeper and when that happens,\nnow I might need to do another question\n\n165\n00:08:53.450 --> 00:08:57.660\nmark to see what additional modifiers I\nhave and continue to work from there.\n\n166\n00:08:57.660 --> 00:09:00.510\n>> So Don can you show us some\nexamples of that multilevel\n\n167\n00:09:00.510 --> 00:09:01.470\nthat you are talking about?\n\n168\n00:09:01.470 --> 00:09:05.430\n>> Yeah, and most of the commands that we\nuse aren't multilevel, but there's a few.\n\n169\n00:09:05.430 --> 00:09:10.460\nFor example, the copy command, copy is how\nwe move files and folders around, right?\n\n170\n00:09:10.460 --> 00:09:14.430\nSo when you copy something, we've gotta\ncopy from one place to another, so\n\n171\n00:09:14.430 --> 00:09:16.350\nthere's two levels of that command.\n\n172\n00:09:16.350 --> 00:09:19.740\nNow notice when I ran copy here\nI got unrecognized command,\n\n173\n00:09:19.740 --> 00:09:21.140\nthe command doesn't exist.\n\n174\n00:09:21.140 --> 00:09:24.750\nOkay well, it exists,\nI know it exists, why don't I have it?\n\n175\n00:09:24.750 --> 00:09:28.270\nWell, if I copy a file,\nI'm making a change to the router and\n\n176\n00:09:28.270 --> 00:09:31.870\nI'm in unprivileged mode, so I'm not\nallowed to make that change and so for\n\n177\n00:09:31.870 --> 00:09:34.190\nme the command doesn't even exists.\n\n178\n00:09:34.190 --> 00:09:38.900\nIf I do that question mark, and look, copy\nis not even in the list that comes up.\n\n179\n00:09:38.900 --> 00:09:42.790\nBut if I enable,\nnow I'm in privilege mode and\n\n180\n00:09:42.790 --> 00:09:47.250\nwhen I look I should see the copy\ncommand right there and so\n\n181\n00:09:47.250 --> 00:09:51.050\nnow I can use the copy command to\nget in and change the file system.\n\n182\n00:09:51.050 --> 00:09:54.550\nSo if I do copy and a question\nmark I'll see all the sources, so\n\n183\n00:09:54.550 --> 00:09:59.370\nthis is where I can get stuff from, and\nso I might be copying from an FTP server,\n\n184\n00:09:59.370 --> 00:10:03.750\na TFTP server, or whatever and\nthen if I type something,\n\n185\n00:10:03.750 --> 00:10:08.790\nmaybe I do got some config\nfile laying around right?\n\n186\n00:10:08.790 --> 00:10:10.520\nAnd then I give it\nanother question mark and\n\n187\n00:10:10.520 --> 00:10:14.300\nnow I've got destinations,\nwhere else can I send it to?\n\n188\n00:10:14.300 --> 00:10:18.610\nAnd so I might be sending it to an FTP\nserver and so I can come in and\n\n189\n00:10:18.610 --> 00:10:24.160\npunch in whatever that is and\ngive it a name there,\n\n190\n00:10:24.160 --> 00:10:27.530\nand so now I'm copying from one location\nto another, so it's multiple levels.\n\n191\n00:10:27.530 --> 00:10:31.160\nSometimes, you'll see when we get to\ninterfaces, like Ronnie you've done ISDN,\n\n192\n00:10:31.160 --> 00:10:34.730\nthere might be five or\nsix different modifiers we need to provide\n\n193\n00:10:34.730 --> 00:10:37.560\nif we're setting up that kind of\nstuff,iIt can get really complex.\n\n194\n00:10:37.560 --> 00:10:39.150\nYou just keep using\nthe question mark over and\n\n195\n00:10:39.150 --> 00:10:42.620\nover again until you find our exactly\nwhat it is that you need to provide.\n\n196\n00:10:42.620 --> 00:10:45.470\n>> And Don, I remember that a lot\nof the commands, they're normally\n\n197\n00:10:45.470 --> 00:10:49.540\ndesigned to be short enough where they\nfit on the screen majority of times too.\n\n198\n00:10:49.540 --> 00:10:51.910\nBut sometimes,\nthey do extend out much longer.\n\n199\n00:10:51.910 --> 00:10:55.140\n>> Yeah and they can even like wrap on\nthe screen, they can hit the end and\n\n200\n00:10:55.140 --> 00:10:59.620\nwhat happens is if I just start typing\nsomething really long here right,\n\n201\n00:10:59.620 --> 00:11:02.360\neventually I'm gonna reach\nthe edge of my window and\n\n202\n00:11:02.360 --> 00:11:05.850\nI've got my window size set pretty\nhigh and my head's gonna cover this.\n\n203\n00:11:05.850 --> 00:11:09.430\nBut eventually it'll wrap around and\nwhat happens is, notice my prompt,\n\n204\n00:11:09.430 --> 00:11:10.920\nI've got this dollar sign?\n\n205\n00:11:10.920 --> 00:11:13.460\nThat dollar sign is telling me\nthere's something to the left of this,\n\n206\n00:11:13.460 --> 00:11:16.010\nthat had to scroll off\nto fit the rest of it.\n\n207\n00:11:16.010 --> 00:11:18.590\nSo if you ever see that dollar sign appear\nit just means your command is really,\n\n208\n00:11:18.590 --> 00:11:21.240\nreally long, and\nit's exceeded what will fit on the screen.\n\n209\n00:11:22.860 --> 00:11:24.810\nAll right,\nanother thing about that question mark,\n\n210\n00:11:24.810 --> 00:11:27.284\nis you can use the question mark\nin the middle of a command.\n\n211\n00:11:27.284 --> 00:11:33.050\nSo if I start typing something like en for\nenable, I can do\n\n212\n00:11:33.050 --> 00:11:37.966\nquestion mark right here and it's going to\nshow me every command that starts with en.\n\n213\n00:11:37.966 --> 00:11:41.115\nSo if I wanna know every command\nthat starts with the letter c,\n\n214\n00:11:41.115 --> 00:11:45.125\nI can do c question mark and here is every\ncommand that starts with the letter c.\n\n215\n00:11:45.125 --> 00:11:47.752\nSo you can quickly find a command if\nyou kind of know a part of it but\n\n216\n00:11:47.752 --> 00:11:49.664\nyou don't necessarily\nknow the whole thing.\n\n217\n00:11:49.664 --> 00:11:53.716\nMaybe you forget how to spell interface,\nyou can do a in question mark and\n\n218\n00:11:53.716 --> 00:11:54.520\nsee how it is.\n\n219\n00:11:54.520 --> 00:11:56.570\nSo that gives us a way to quickly find it.\n\n220\n00:11:56.570 --> 00:11:59.450\nThere's also a neat thing here too,\nnotice how when I do c?,\n\n221\n00:11:59.450 --> 00:12:03.290\nthere's a ton of commands\nthat start with c, right?\n\n222\n00:12:03.290 --> 00:12:07.850\nBut if I do co?,\nthere's only four commands and\n\n223\n00:12:07.850 --> 00:12:10.680\nif I do cop?, there's only one command.\n\n224\n00:12:11.960 --> 00:12:17.790\nIf you type enough letters that\nonly one command matches up,\n\n225\n00:12:17.790 --> 00:12:21.240\nthen there's actually a neat little trick\nyou could do to save you time typing.\n\n226\n00:12:21.240 --> 00:12:23.831\nOkay, so for example, let me do cr?,\n\n227\n00:12:23.831 --> 00:12:27.840\nsee how crypto is the only\ncommand that starts with cr?\n\n228\n00:12:27.840 --> 00:12:32.680\nWhen I'm typing, I could type cr,\nand I could press the tab key and\n\n229\n00:12:32.680 --> 00:12:35.205\nthat does what's called tab auto-complete.\n\n230\n00:12:35.205 --> 00:12:38.215\nIf there's only one command that matches\nthe letters you've typed so far,\n\n231\n00:12:38.215 --> 00:12:41.465\nyou can hit tab and it'll type\nthe rest of the command for you.\n\n232\n00:12:41.465 --> 00:12:43.685\nSo now I don't have to type\nout some big long command and\n\n233\n00:12:43.685 --> 00:12:46.200\nI can just type out the bare\nminimum that I need.\n\n234\n00:12:46.200 --> 00:12:51.270\nOkay and it's kind of neat because if\nI have a command like enable, right?\n\n235\n00:12:51.270 --> 00:12:56.730\nI know that that's gonna move me into\nthe enabled privilege user mode, right?\n\n236\n00:12:56.730 --> 00:13:01.610\nWell if I'm doing en?, say it's the only\ncommand that starts with en, well,\n\n237\n00:13:01.610 --> 00:13:02.830\nI've got choices here.\n\n238\n00:13:02.830 --> 00:13:07.080\nI can type en and\nhit tab and press enter and\n\n239\n00:13:07.080 --> 00:13:09.990\nit typed it for me, and\nI finished it, right?\n\n240\n00:13:09.990 --> 00:13:14.230\nOr I could just type en by itself and\npress enter.\n\n241\n00:13:14.230 --> 00:13:16.390\nThere's only one command\nthat starts with en, so\n\n242\n00:13:16.390 --> 00:13:20.090\nthe router knows what I'm talking about,\nit understands what I'm trying to do.\n\n243\n00:13:20.090 --> 00:13:24.250\nOkay, but I have to type enough\nletters to make it unique.\n\n244\n00:13:24.250 --> 00:13:30.830\nSo going back to my copy example,\nas I kick myself out of the router,\n\n245\n00:13:30.830 --> 00:13:34.770\nwith copy, there was more than\none command that started with co.\n\n246\n00:13:34.770 --> 00:13:35.970\nSo if I just run co and\n\n247\n00:13:35.970 --> 00:13:39.320\npress Enter, I get ambiguous command,\nI didn't type enough letters.\n\n248\n00:13:39.320 --> 00:13:42.170\nI have to type enough\nletters to make this unique.\n\n249\n00:13:42.170 --> 00:13:45.530\nBut Tab autocomplete is a great way to\nsave time when you're typing commands.\n\n250\n00:13:45.530 --> 00:13:49.440\n>> So Don I know that this is\na question that I ended up having\n\n251\n00:13:49.440 --> 00:13:51.900\nbefore I went into\nthe exam a lot of times.\n\n252\n00:13:51.900 --> 00:13:55.590\nA lot of times we go and we find a lab on\nthe Internet and we start following it and\n\n253\n00:13:55.590 --> 00:13:58.990\nthey simply just use abbreviations\nlike what you're using en and\n\n254\n00:13:58.990 --> 00:14:03.220\nstuff what do you think on\nthe exam is that a good practice?\n\n255\n00:14:03.220 --> 00:14:07.340\n>> I try not to, on the exam when\nyou're in a simulation you can use\n\n256\n00:14:07.340 --> 00:14:09.650\nthe abbreviations they work just fine,\nright?\n\n257\n00:14:09.650 --> 00:14:11.180\nBut when you get to the questions,\n\n258\n00:14:11.180 --> 00:14:14.400\nthe multiple choice questions,\nthey'll all have the commands written out.\n\n259\n00:14:14.400 --> 00:14:17.450\nSo, if you've gotten used to these\nabbreviations, seeing them written out\n\n260\n00:14:17.450 --> 00:14:19.830\nmight be a little different for you,\nit might not be what you're used to.\n\n261\n00:14:19.830 --> 00:14:21.970\nI encourage people to write\nout the full commands.\n\n262\n00:14:21.970 --> 00:14:24.320\nIn real life land, you're gonna use\nthe abbreviations all the time,\n\n263\n00:14:24.320 --> 00:14:27.840\nthey save a ton of time, but,\nlearn the full commands.\n\n264\n00:14:27.840 --> 00:14:30.680\nThat way you'll remember what they are\neven if you're typing the short commands,\n\n265\n00:14:30.680 --> 00:14:32.370\nmake sure you learn the full commands.\n\n266\n00:14:32.370 --> 00:14:35.220\nAnd Tab Auto Complete will type them\nout for you so you can see a lot of it,\n\n267\n00:14:35.220 --> 00:14:37.200\nit's not that big of a deal.\n\n268\n00:14:37.200 --> 00:14:41.350\nAll right, let's talk a little\nbit more about privileges, right?\n\n269\n00:14:41.350 --> 00:14:43.660\nUnderstand that there's privileged\nmode and unprivileged mode and\n\n270\n00:14:43.660 --> 00:14:46.190\nin privileged mode you\nhave a lot more commands.\n\n271\n00:14:46.190 --> 00:14:49.350\nSo when I was in unprivileged mode and\n\n272\n00:14:49.350 --> 00:14:55.190\nI did a, I keep logging out by accident,\nI just mean to get out of [INAUDIBLE].\n\n273\n00:14:55.190 --> 00:14:56.880\nBut when I'm in unprivileged mode,\n\n274\n00:14:56.880 --> 00:15:00.690\nthere we go, what you can do is you\ncan do like the show command and\n\n275\n00:15:00.690 --> 00:15:03.500\na question mark and you'll see the stuff\nthat you have available, right?\n\n276\n00:15:03.500 --> 00:15:05.940\nOr you can just do the straight\nup question mark and\n\n277\n00:15:05.940 --> 00:15:07.570\nsee the commands that are available.\n\n278\n00:15:07.570 --> 00:15:13.120\nAnd so I had a little over two pages\nof command here, so about 50 commands.\n\n279\n00:15:13.120 --> 00:15:17.770\nBut when I enable and do a question mark,\nI've got one, two, three,\n\n280\n00:15:17.770 --> 00:15:22.350\nfour, five, four and\na half, pages of commands.\n\n281\n00:15:22.350 --> 00:15:25.600\nSo I've got double the commands\nwhen I'm in privilege mode,\n\n282\n00:15:25.600 --> 00:15:28.150\nthere's a lot more available to us here.\n\n283\n00:15:28.150 --> 00:15:32.140\nIf a command is not available to our\nprivilege level, so if I disable and\n\n284\n00:15:32.140 --> 00:15:36.930\ngo back here and I run a command like\nreload, reload would reboot the router.\n\n285\n00:15:36.930 --> 00:15:38.730\nWell I don't have that command.\n\n286\n00:15:38.730 --> 00:15:41.610\nSo see what it does it thinks\nthat I'm typing the name of\n\n287\n00:15:41.610 --> 00:15:43.280\nanother host to try to connect to it.\n\n288\n00:15:43.280 --> 00:15:46.690\nBecause the reload command doesn't\nexist as far as its concerned,\n\n289\n00:15:46.690 --> 00:15:48.490\nI don't have that permission, right.\n\n290\n00:15:48.490 --> 00:15:52.710\nIf I do re ?,\nreload is not even in the commands.\n\n291\n00:15:52.710 --> 00:15:58.280\nBut if I enable' and do re?, reload's\nright there, I can reboot the router.\n\n292\n00:15:58.280 --> 00:16:00.790\nYou don't want just a regular\nuser rebooting the router,\n\n293\n00:16:00.790 --> 00:16:02.210\nyou need to have the privilege for it.\n\n294\n00:16:02.210 --> 00:16:06.163\nSo understand that the available\ncommands change based on your context.\n\n295\n00:16:06.163 --> 00:16:08.905\nI find this happens a lot,\nyou're on the exam, you're under pressure,\n\n296\n00:16:08.905 --> 00:16:10.597\nyou jump into a command and\nit doesn't work.\n\n297\n00:16:10.597 --> 00:16:13.534\nWell you probably just at\nthe wrong privilege level.\n\n298\n00:16:13.534 --> 00:16:16.520\nAnd privilege level isn't the only thing.\n\n299\n00:16:16.520 --> 00:16:18.160\nI'm in privilege level now.\n\n300\n00:16:18.160 --> 00:16:22.410\nPrivilege level let me do pretty much\nwhatever I want to do to the router or\n\n301\n00:16:22.410 --> 00:16:25.410\nswitch but\nI can't actually configure it from here.\n\n302\n00:16:25.410 --> 00:16:26.350\nRight?\nI can reboot it.\n\n303\n00:16:26.350 --> 00:16:30.280\nI could see all sorts of stuff but\nI can't change it.\n\n304\n00:16:30.280 --> 00:16:32.690\nTo change it,\nI've gotta get into configuration mode.\n\n305\n00:16:32.690 --> 00:16:35.340\nAll right, so we have a configure command.\n\n306\n00:16:35.340 --> 00:16:37.360\nIf you're in unprivileged mode,\n\n307\n00:16:37.360 --> 00:16:39.900\nthe configuration command\ndoesn't even show up.\n\n308\n00:16:39.900 --> 00:16:43.400\nBut when you're privileged,\nyou can go in here, and\n\n309\n00:16:43.400 --> 00:16:45.180\nyou've got the configure command.\n\n310\n00:16:45.180 --> 00:16:47.720\nThat lets you enter configuration mode.\n\n311\n00:16:47.720 --> 00:16:51.630\nThere's a couple of different ways\nthat you can do configuration.\n\n312\n00:16:51.630 --> 00:16:53.770\nThere's two that we\nreally care about here.\n\n313\n00:16:53.770 --> 00:16:55.560\nConfigure memory.\n\n314\n00:16:55.560 --> 00:16:57.520\nAnd configure terminal.\n\n315\n00:16:58.890 --> 00:17:00.310\nConfigure memory.\n\n316\n00:17:00.310 --> 00:17:03.090\nThat lets you modify\nthe router's configuration.\n\n317\n00:17:03.090 --> 00:17:06.470\nIn a way that will take effect\nthe next time you reboot.\n\n318\n00:17:06.470 --> 00:17:09.040\nSo I can make a bunch of changes\nthey don't take effect now.\n\n319\n00:17:09.040 --> 00:17:12.310\nAnd the next time I reboot\nthe router those will kick in.\n\n320\n00:17:12.310 --> 00:17:15.240\nIt's called modifying the start up config.\n\n321\n00:17:15.240 --> 00:17:18.460\nThere's two different configurations\non your router, a startup config and\n\n322\n00:17:18.460 --> 00:17:19.660\na running config.\n\n323\n00:17:19.660 --> 00:17:21.340\nThe startup config is what\nyou use when you boot up,\n\n324\n00:17:21.340 --> 00:17:25.880\nand then there's the running config,\nwhich is what you're running right now.\n\n325\n00:17:25.880 --> 00:17:29.330\nWhen I modify memory,\nif I do configure memory.\n\n326\n00:17:29.330 --> 00:17:31.480\nI'm modifying what will happen\nthe next time I boot up.\n\n327\n00:17:31.480 --> 00:17:33.000\nThat's not normally what we want.\n\n328\n00:17:33.000 --> 00:17:35.410\nWe normally want configure terminal.\n\n329\n00:17:35.410 --> 00:17:39.210\nI want to modify what's running\non the device right now and\n\n330\n00:17:39.210 --> 00:17:41.540\nI know I keep saying router,\nbut it's the same on a switch.\n\n331\n00:17:41.540 --> 00:17:43.120\nExact same on a switch.\n\n332\n00:17:43.120 --> 00:17:44.730\nSo when I go to do configure,\n\n333\n00:17:44.730 --> 00:17:47.890\nif I just press Enter it's going\nto ask me which one did I mean.\n\n334\n00:17:47.890 --> 00:17:50.150\nDid I mean terminal, memory, network?\n\n335\n00:17:50.150 --> 00:17:51.020\nWhich one did I mean.\n\n336\n00:17:52.210 --> 00:17:59.220\nBut if I type it out I can\ndo Configure terminal and\n\n337\n00:17:59.220 --> 00:18:02.370\nnow it's going to take me into where\nI'm modifying what's running right now.\n\n338\n00:18:02.370 --> 00:18:04.600\nAnd on the internet you can\nsee everyone does conf t.\n\n339\n00:18:04.600 --> 00:18:05.426\nNice and short.\n\n340\n00:18:05.426 --> 00:18:08.790\nBut as configure terminal I'm now\nmodifying what's running on the router\n\n341\n00:18:08.790 --> 00:18:11.110\nright at this very moment.\n\n342\n00:18:11.110 --> 00:18:12.760\nAnd notice how my prompt changed.\n\n343\n00:18:12.760 --> 00:18:13.950\nI'm still in privilege mode.\n\n344\n00:18:13.950 --> 00:18:14.825\nSee that pound sign?\n\n345\n00:18:14.825 --> 00:18:16.780\nI'm still in privilege mode, but\n\n346\n00:18:16.780 --> 00:18:20.390\nnow I've got the config note that lets\nme know I am also in configuration mode.\n\n347\n00:18:20.390 --> 00:18:24.550\nI am now able to make changes to\nthe router and modify what we can do.\n\n348\n00:18:24.550 --> 00:18:26.940\nAnd if you thought we had\na lot of commands before.\n\n349\n00:18:26.940 --> 00:18:31.030\nNow, once you're in configuration mode,\nthere are a ton of commands.\n\n350\n00:18:32.132 --> 00:18:33.420\nAnd they're just gonna come in here, and\n\n351\n00:18:33.420 --> 00:18:37.540\nlist out, you'll see where it's just\nscreen after screen of command.\n\n352\n00:18:37.540 --> 00:18:40.730\nThere is a ton of stuff that's\navailable in configuration mode,\n\n353\n00:18:40.730 --> 00:18:43.210\nbecause you're changing\nthe way the router behaves.\n\n354\n00:18:43.210 --> 00:18:45.560\nYou're doing a lot of different stuff.\n\n355\n00:18:45.560 --> 00:18:47.390\nAnd you need the commands to support that.\n\n356\n00:18:47.390 --> 00:18:50.470\nNow, for the exam you don't have to know\nall of the commands which is good because\n\n357\n00:18:50.470 --> 00:18:52.250\nthere's literally thousands of them.\n\n358\n00:18:52.250 --> 00:18:54.917\nBut we do have some important\nones that we need to learn and\n\n359\n00:18:54.917 --> 00:18:56.765\nwe're gonna see a few in this episode.\n\n360\n00:18:56.765 --> 00:19:00.012\nBut most of them we're gonna see spread\nthroughout the whole rest of the series as\n\n361\n00:19:00.012 --> 00:19:01.842\nwe learn how to configure\ndifferent things.\n\n362\n00:19:01.842 --> 00:19:04.375\n>> Now, Don, I saw the end when\nyou typed in configure and\n\n363\n00:19:04.375 --> 00:19:06.979\nyou didn't actually type in the last part,\nterminal.\n\n364\n00:19:06.979 --> 00:19:11.192\nIt also ended up having some square\nbrackets at the end there and\n\n365\n00:19:11.192 --> 00:19:12.790\nsaid terminal inside.\n\n366\n00:19:12.790 --> 00:19:13.510\nWhat's that about?\n\n367\n00:19:14.640 --> 00:19:16.525\n>> All right, so\nwhen you see square brackets,\n\n368\n00:19:16.525 --> 00:19:20.200\nthat usually means it's an optional\nthing and you get more than one choice.\n\n369\n00:19:20.200 --> 00:19:22.060\nBut the square brackets\nsay what's the default?\n\n370\n00:19:22.060 --> 00:19:23.040\n>> Okay.\n>> If I were to ignore it and\n\n371\n00:19:23.040 --> 00:19:25.050\njust press Enter,\nthat's gonna be the default.\n\n372\n00:19:25.050 --> 00:19:29.620\nSo let me bring that back up, so\nI'm gonna run configure, wait,\n\n373\n00:19:29.620 --> 00:19:30.540\nI'm gonna leave that off, right?\n\n374\n00:19:30.540 --> 00:19:31.840\nSo I'm just gonna run configure.\n\n375\n00:19:31.840 --> 00:19:34.530\nSo I didn't tell it what I wanted,\nand it's giving me a choice.\n\n376\n00:19:34.530 --> 00:19:37.120\nDo I want terminal, memory, or network?\n\n377\n00:19:37.120 --> 00:19:40.280\nOr like Ronnie indicated, see how it's\ngot terminal written in square brackets?\n\n378\n00:19:40.280 --> 00:19:41.420\nSo terminal's twice.\n\n379\n00:19:41.420 --> 00:19:44.220\nAnd that's telling me if I just press\nEnter, that's gonna be the default.\n\n380\n00:19:44.220 --> 00:19:46.920\nThat's what it's gonna do and\nI'm gonna configure terminal.\n\n381\n00:19:46.920 --> 00:19:49.260\nIf I want memory or\nnetwork I'm gonna have to type it in.\n\n382\n00:19:49.260 --> 00:19:52.580\nSo I could just type configure and\npress Enter twice.\n\n383\n00:19:52.580 --> 00:19:56.530\nAnd now I'm in there modifying what's\ngonna be running here in a few moments.\n\n384\n00:19:56.530 --> 00:19:57.500\nAll right.\n\n385\n00:19:57.500 --> 00:20:00.940\nSo once we're in our configuration now\nwe can start working with the device,\n\n386\n00:20:00.940 --> 00:20:02.130\nmaking changes.\n\n387\n00:20:02.130 --> 00:20:05.730\nAnd when we're done we need to\nget out of configuration mode.\n\n388\n00:20:05.730 --> 00:20:08.390\nAnd to get out of configuration mode\nthere's few different ways to do it.\n\n389\n00:20:08.390 --> 00:20:11.900\nBut what we're normally going\nto use the end command.\n\n390\n00:20:13.090 --> 00:20:15.730\nAnd get you out of configuration.\n\n391\n00:20:15.730 --> 00:20:18.080\nSo when I type end there I am,\nI'm out of the configuration.\n\n392\n00:20:18.080 --> 00:20:21.100\nThere's actually a keyboard shortcut for\nit, too.\n\n393\n00:20:21.100 --> 00:20:24.270\nSo if I get back into configure terminal,\ncontrol z, and\n\n394\n00:20:24.270 --> 00:20:25.630\nI can't show it on the screen.\n\n395\n00:20:25.630 --> 00:20:26.360\nBut control z.\n\n396\n00:20:26.360 --> 00:20:28.910\nI guess it does show up on the screen.\n\n397\n00:20:28.910 --> 00:20:30.500\nControl z will get you out of config also.\n\n398\n00:20:30.500 --> 00:20:34.980\nSo end and control z will both\nexit the configuration mode, but\n\n399\n00:20:34.980 --> 00:20:36.090\nthey keep you in privileged mode.\n\n400\n00:20:36.090 --> 00:20:37.910\nSee how I'm still privileged.\n\n401\n00:20:37.910 --> 00:20:40.270\nBut I'm not in configuration mode anymore.\n\n402\n00:20:40.270 --> 00:20:43.950\nSo configure terminal will get me\ninto the configuration mode for\n\n403\n00:20:43.950 --> 00:20:46.310\nmodifying what's running\non the router right now.\n\n404\n00:20:46.310 --> 00:20:50.130\nAnd then and or control z will get\nme out of configuration mode and\n\n405\n00:20:50.130 --> 00:20:51.520\nback to my regular privilege file.\n\n406\n00:20:52.690 --> 00:20:54.340\nThere is another command which\nyou probably saw me type\n\n407\n00:20:54.340 --> 00:20:55.930\nearlier which is Exit.\n\n408\n00:20:55.930 --> 00:20:57.670\nExit's kind of a weird one.\n\n409\n00:20:57.670 --> 00:21:00.380\nExit sometimes gets you out\nof configuration mode and\n\n410\n00:21:00.380 --> 00:21:01.100\nit some times doesn't.\n\n411\n00:21:02.290 --> 00:21:05.010\nIf I type it right now yes it'll\ntake me out of configuration mode.\n\n412\n00:21:05.010 --> 00:21:08.210\nAnd so I've gotten in the habit\nof using exit over end.\n\n413\n00:21:08.210 --> 00:21:12.850\nBut when you're in configuration mode,\nyou can issue commands that\n\n414\n00:21:12.850 --> 00:21:17.330\nare global configuration commands,\nthat affect the entire device.\n\n415\n00:21:17.330 --> 00:21:19.760\nAnd you can issue commands\nthat affect individual things,\n\n416\n00:21:19.760 --> 00:21:21.590\nlike individual interfaces.\n\n417\n00:21:21.590 --> 00:21:26.310\nAnd when you're working on an individual\ninterface, you end up deeper in config.\n\n418\n00:21:26.310 --> 00:21:28.510\nExit will just take you back\nout to the global mode.\n\n419\n00:21:28.510 --> 00:21:31.360\nI know that sounds a little confusing,\nlet me show you what I mean.\n\n420\n00:21:31.360 --> 00:21:33.730\nLet's say I want to change\nthe name of the router.\n\n421\n00:21:33.730 --> 00:21:35.042\nI want to change its name,\n\n422\n00:21:35.042 --> 00:21:38.632\nthat's a global command that's going\nto affect the router as a whole.\n\n423\n00:21:38.632 --> 00:21:41.370\nSo if I jump into configure terminal.\n\n424\n00:21:42.890 --> 00:21:44.846\nAnd I issue the host name command.\n\n425\n00:21:44.846 --> 00:21:50.050\nThe host name command if I look at its\nhelp lets me change the name of the router\n\n426\n00:21:50.050 --> 00:21:52.380\nand so I change its name to R1.\n\n427\n00:21:52.380 --> 00:21:56.430\nAnd because I’m modifying the running\nconfig I did configure terminal\n\n428\n00:21:56.430 --> 00:21:57.840\nthe name of the router\nchanges immediately.\n\n429\n00:21:57.840 --> 00:22:02.760\nSee how that command took immediate\neffect, and now I've got that name.\n\n430\n00:22:02.760 --> 00:22:07.405\nIf I had done it configure memory, I'd\nstill be called a router til I rebooted.\n\n431\n00:22:07.405 --> 00:22:11.970\nThen that's a global command.\n\n432\n00:22:11.970 --> 00:22:16.580\nIf I type Exit right now, it's gonna get\nme out of configuration, and that's that.\n\n433\n00:22:16.580 --> 00:22:21.580\nSo, global commands are issued right\nhere from the name config prompt,\n\n434\n00:22:21.580 --> 00:22:23.030\nso when you see config.\n\n435\n00:22:23.030 --> 00:22:26.234\nBut what if I wanna modify\nan individual interface?\n\n436\n00:22:26.234 --> 00:22:32.819\nSo I wanna get into one of my\ninterfaces like interface gi1/0.\n\n437\n00:22:32.819 --> 00:22:35.130\nOkay, so I wanna get in and\nmodify that one.\n\n438\n00:22:35.130 --> 00:22:38.590\nThat's my gigabit ethernet 1/0 interface.\n\n439\n00:22:38.590 --> 00:22:42.143\nAnd notice how my prompt\nchanged to config-if,\n\n440\n00:22:42.143 --> 00:22:47.160\ncommands that I issue now\nare applying just to this interface.\n\n441\n00:22:47.160 --> 00:22:52.840\nSo I could issue shutdown to turn it\noff or no shutdown to turn it on.\n\n442\n00:22:52.840 --> 00:22:56.090\nMost of your commands have two forms,\nthe command itself.\n\n443\n00:22:56.090 --> 00:22:59.070\nWhich performs an action\nI shutdown the port.\n\n444\n00:22:59.070 --> 00:23:02.290\nOr no shutdown, which is do the opposite.\n\n445\n00:23:02.290 --> 00:23:04.400\nDon't shut it down, turn it on, right.\n\n446\n00:23:04.400 --> 00:23:05.940\nSo we don't have two\ndifferent commands to learn.\n\n447\n00:23:05.940 --> 00:23:10.470\nI don't have shutdown and turn on,\nI just have shutdown and no shutdown.\n\n448\n00:23:10.470 --> 00:23:12.515\nIt's nice cuz any time you\nmake a you make a mistake.\n\n449\n00:23:12.515 --> 00:23:14.005\nYou put in a bad command.\n\n450\n00:23:14.005 --> 00:23:15.945\nYou just run the same command and\nput no before it.\n\n451\n00:23:15.945 --> 00:23:16.615\nYou'll undo it.\n\n452\n00:23:16.615 --> 00:23:18.815\nRight?\nSo, that makes life a little bit easier.\n\n453\n00:23:18.815 --> 00:23:23.145\nBut these commands that I am issuing\nare only applying to this one interface.\n\n454\n00:23:23.145 --> 00:23:25.515\nThat's why the prompt says config-if.\n\n455\n00:23:25.515 --> 00:23:28.155\nI'm just working on one interface.\n\n456\n00:23:29.230 --> 00:23:33.140\nNow, if I type end or if I hit control z,\n\n457\n00:23:33.140 --> 00:23:36.755\neither one, it's going to take\nme completely out of config.\n\n458\n00:23:36.755 --> 00:23:41.320\nI'm out of configuration and here I am.\n\n459\n00:23:42.890 --> 00:23:49.850\nBut if I had been in that interface and\nbeen working with it here.\n\n460\n00:23:49.850 --> 00:23:52.650\nAnd I had typed Exit instead.\n\n461\n00:23:52.650 --> 00:23:54.830\nInstead of taking me all\nthe way out of config,\n\n462\n00:23:54.830 --> 00:23:57.980\nit would just take me up\nto the global prompt.\n\n463\n00:23:57.980 --> 00:24:00.080\nAnd so see how I'm back at R1(config).\n\n464\n00:24:00.080 --> 00:24:01.497\nThis is the global configuration mode.\n\n465\n00:24:01.497 --> 00:24:05.974\nSo I've got interface configuration mode,\nand I've got global configuration mode.\n\n466\n00:24:05.974 --> 00:24:09.461\nOne changes the whole router,\none just changes a single interface.\n\n467\n00:24:09.461 --> 00:24:12.248\nAnd we're gonna see that\nAll throughout the series.\n\n468\n00:24:12.248 --> 00:24:14.303\nSo, for example, if I create a router,\n\n469\n00:24:14.303 --> 00:24:18.600\nnow I've got config-router because\nI'm working in a routing protocol.\n\n470\n00:24:18.600 --> 00:24:23.820\nOr if I do a network map or\nany number of other things to get set up,\n\n471\n00:24:23.820 --> 00:24:26.060\nyou'll see that prompt\nchange to reflect it.\n\n472\n00:24:26.060 --> 00:24:28.210\nOr even subinterfaces.\n\n473\n00:24:28.210 --> 00:24:33.950\nIf I do a gi zero slash zero point one.\n\n474\n00:24:34.990 --> 00:24:38.360\nMy head's gonna cover this up.\n\n475\n00:24:38.360 --> 00:24:42.670\nBut if we go in here and do a, you know,\nit's not gonna let me do that.\n\n476\n00:24:42.670 --> 00:24:44.330\nLet me just do that.\n\n477\n00:24:44.330 --> 00:24:45.080\nThere we go.\n\n478\n00:24:45.080 --> 00:24:46.100\nSo now, I'm doing a sub interface.\n\n479\n00:24:46.100 --> 00:24:48.200\nAnd see how it changed to config-subif,\nright?\n\n480\n00:24:48.200 --> 00:24:52.993\nSo, these are all changing\nto reflect where I'm at, and\n\n481\n00:24:52.993 --> 00:24:56.740\nthat Ctrl+Z will always take\nyou completely out of config.\n\n482\n00:24:56.740 --> 00:24:57.860\nNo matter what prompt you're in,\n\n483\n00:24:57.860 --> 00:25:00.990\nit will take you completely\nout of config if you type end.\n\n484\n00:25:00.990 --> 00:25:03.660\nBut if you type exit,\nit just takes you up one layer.\n\n485\n00:25:03.660 --> 00:25:05.050\nAnd now, you can continue to work, right?\n\n486\n00:25:05.050 --> 00:25:08.150\nSo expect to see that prompt\nchange as you work with the CLI.\n\n487\n00:25:08.150 --> 00:25:10.490\n>> Now, Don, how do we know that after\nwe've entered these commands that\n\n488\n00:25:10.490 --> 00:25:15.030\nthe effects, or the commands that you\ntyped in, have absolutely taken place,\n\n489\n00:25:15.030 --> 00:25:16.930\nwhat can we do to to show ourselves that?\n\n490\n00:25:16.930 --> 00:25:19.790\n>> All right, so hopefully it's\na change you just see on the screen,\n\n491\n00:25:19.790 --> 00:25:21.990\nlike when I change the host name,\nI see it on the screen.\n\n492\n00:25:21.990 --> 00:25:24.540\nBut there was that\ninterface that I turned on.\n\n493\n00:25:24.540 --> 00:25:25.540\nHow do I know it's on?\n\n494\n00:25:25.540 --> 00:25:28.950\nWell, we've got our show commands where\nyou can go through and look at those.\n\n495\n00:25:28.950 --> 00:25:31.500\nAnd you're gonna learn a ton of show\ncommands throughout this series, so\n\n496\n00:25:31.500 --> 00:25:33.440\nI don't wanna try and\ntackle a bunch of them now.\n\n497\n00:25:33.440 --> 00:25:36.040\nBut there is one really\nimportant show command.\n\n498\n00:25:36.040 --> 00:25:37.940\nRemember the two configs I talked about?\n\n499\n00:25:37.940 --> 00:25:40.520\nThe running config and the startup config?\n\n500\n00:25:40.520 --> 00:25:42.520\nWell, let me show you the running config.\n\n501\n00:25:42.520 --> 00:25:47.060\nOn my system,\nif I type show running-config,\n\n502\n00:25:47.060 --> 00:25:50.700\nthat's gonna show me the configuration\nthat's running on the router right now.\n\n503\n00:25:50.700 --> 00:25:53.890\nAnd when it shows it to me,\nit's gonna show it to me in a neat way.\n\n504\n00:25:53.890 --> 00:25:57.850\nIt's basically a list of all\nthe commands I would have to type\n\n505\n00:25:57.850 --> 00:26:01.690\nto get this router set back up\nthe way that it is right now.\n\n506\n00:26:01.690 --> 00:26:06.190\nAnd so, if I scroll through it,\nlet me zoom out a bit here cuz it's a lot.\n\n507\n00:26:06.190 --> 00:26:10.260\nAs I scroll through it, I'll find parts\nwhere there's the interfaces, right?\n\n508\n00:26:10.260 --> 00:26:13.520\nAnd here's where I created\nthat GigabitEthernet0/0.1.\n\n509\n00:26:13.520 --> 00:26:15.890\nIt's showing up right here.\n\n510\n00:26:15.890 --> 00:26:20.474\nNotice on GigabitEthernet0/0,\nit's showing as shut down.\n\n511\n00:26:20.474 --> 00:26:26.750\nBut if I look at GigabitEthernet1/0,\nI went a little too far there.\n\n512\n00:26:26.750 --> 00:26:28.350\nSee how it doesn't have\na shut down command?\n\n513\n00:26:28.350 --> 00:26:29.910\nI did a no shut down, so it's gone.\n\n514\n00:26:29.910 --> 00:26:31.330\nThis is turned on, right?\n\n515\n00:26:31.330 --> 00:26:34.020\nI can verify it right here\nin the configuration.\n\n516\n00:26:34.020 --> 00:26:37.830\nAnd notice how some of these commands,\nif I can not scroll too crazy,\n\n517\n00:26:37.830 --> 00:26:39.880\nsee how they have a space before them?\n\n518\n00:26:39.880 --> 00:26:42.770\nThat's telling me I did this not\nin the global configuration, but\n\n519\n00:26:42.770 --> 00:26:44.280\nin an interface, right?\n\n520\n00:26:44.280 --> 00:26:45.350\nUnderneath it.\n\n521\n00:26:45.350 --> 00:26:46.140\nAnd so, as you look at it,\n\n522\n00:26:46.140 --> 00:26:49.520\nthere is actually a hierarchy\nto the way all of this is listed\n\n523\n00:26:49.520 --> 00:26:53.830\nas far as global commands versus interface\ncommands or router commands, right?\n\n524\n00:26:53.830 --> 00:26:57.516\nI don't think I entered enough for\nit to save the router that I put in, so\n\n525\n00:26:57.516 --> 00:26:58.752\nit probably went away.\n\n526\n00:26:58.752 --> 00:27:02.658\nBut you'll see console and auxiliary and\nso on, all listed right in here,\n\n527\n00:27:02.658 --> 00:27:03.285\nall right?\n\n528\n00:27:03.285 --> 00:27:06.197\nSo show running-config.\n\n529\n00:27:06.197 --> 00:27:12.921\nYou can also do show startup-config,\nLike that.\n\n530\n00:27:12.921 --> 00:27:17.010\nAnd it's gonna show you what your router's\ngonna boot the next time it boots up.\n\n531\n00:27:17.010 --> 00:27:18.518\nAnd as we start to look at mine,\n\n532\n00:27:18.518 --> 00:27:22.063\nwhat we're gonna see is some of those\ncommands are missing, all right?\n\n533\n00:27:22.063 --> 00:27:27.930\nSo if I look at GigabitEthernet1/0 or 0/0,\nsee how they got IP addressed on them?\n\n534\n00:27:27.930 --> 00:27:30.260\nI didn't have IP addresses a second ago.\n\n535\n00:27:30.260 --> 00:27:31.590\nWhere did those come from?\n\n536\n00:27:31.590 --> 00:27:35.890\nWell, when I booted up, I had a different\nconfig, and I've changed it since then.\n\n537\n00:27:37.100 --> 00:27:40.340\nIf I reboot right now,\nI'm gonna go back to this config, right?\n\n538\n00:27:40.340 --> 00:27:42.209\nI'm gonna lose the changes that I made.\n\n539\n00:27:43.600 --> 00:27:45.500\nI need to save my config.\n\n540\n00:27:45.500 --> 00:27:47.220\nI'm modifying what's running.\n\n541\n00:27:47.220 --> 00:27:50.700\nI need to make sure that gets\nbacked to what starts up next time.\n\n542\n00:27:50.700 --> 00:27:53.060\nSo, when I wanna save my configuration,\n\n543\n00:27:53.060 --> 00:27:57.877\nthe command you use is\ncopy running-config,\n\n544\n00:27:57.877 --> 00:28:02.420\nand then startup-config.\n\n545\n00:28:02.420 --> 00:28:06.580\nI'm copying the configuration from what's\nrunning on the system right now, and\n\n546\n00:28:06.580 --> 00:28:10.390\nI'm copying it to what I'm\ngonna start up with next time.\n\n547\n00:28:10.390 --> 00:28:12.730\nThis command saves your configuration.\n\n548\n00:28:12.730 --> 00:28:15.950\nSo I'm gonna run that, and\nit's gonna back it up right now.\n\n549\n00:28:15.950 --> 00:28:18.350\nAnd it's just warning me that I'm\nattempting to override my NVRAM.\n\n550\n00:28:18.350 --> 00:28:19.080\nI'm okay with that.\n\n551\n00:28:19.080 --> 00:28:20.120\nI'm gonna run it.\n\n552\n00:28:20.120 --> 00:28:22.320\nAnd now,\nit's gonna back up that configuration.\n\n553\n00:28:22.320 --> 00:28:24.560\nAnd now, the next time I reboot,\n\n554\n00:28:24.560 --> 00:28:26.955\nit'll have exactly what I've\ngot configured right now.\n\n555\n00:28:26.955 --> 00:28:28.370\nIt's setup exactly the way I want.\n\n556\n00:28:28.370 --> 00:28:32.400\nSo that was copy,\nrunning-config, startup-config.\n\n557\n00:28:32.400 --> 00:28:34.210\nAnd you can abbreviate\nthat down quite a bit.\n\n558\n00:28:34.210 --> 00:28:35.870\nYou can say copy run start.\n\n559\n00:28:37.820 --> 00:28:38.780\nAnd that'll do the same thing.\n\n560\n00:28:38.780 --> 00:28:40.500\nYou're just abbreviating those names down.\n\n561\n00:28:40.500 --> 00:28:42.450\nIt knows the names to use.\n\n562\n00:28:42.450 --> 00:28:45.090\nAnd so, it can put them in and\nback it up that way.\n\n563\n00:28:45.090 --> 00:28:48.150\nNow, on the Internet, you'll see a lot\nof people use a different command.\n\n564\n00:28:48.150 --> 00:28:49.960\nThey use the write memory command.\n\n565\n00:28:49.960 --> 00:28:53.656\nAnd the main reason people like to\nuse this command is cuz you can\n\n566\n00:28:53.656 --> 00:28:56.880\nabbreviate it all the way down to WR and\nit'll back up.\n\n567\n00:28:56.880 --> 00:28:58.850\nSo, if I wanna save my configuration,\nI can just type WR.\n\n568\n00:28:58.850 --> 00:29:00.180\nIt's really short, people love it.\n\n569\n00:29:00.180 --> 00:29:00.790\nAll right.\n\n570\n00:29:00.790 --> 00:29:02.030\nThe problem is, is this is a really,\n\n571\n00:29:02.030 --> 00:29:04.440\nreally, really,\nreally,really, old command.\n\n572\n00:29:04.440 --> 00:29:09.030\nAnd back in IOS 11.3, Cisco announced\nthey were gonna to retire that command,\n\n573\n00:29:09.030 --> 00:29:10.310\nit was going to go away.\n\n574\n00:29:10.310 --> 00:29:13.511\nThat you need to be using copy\nrunning-config start-config.\n\n575\n00:29:13.511 --> 00:29:17.374\nSo, then 12.0 came out,\nand 12.1 through 4.\n\n576\n00:29:17.374 --> 00:29:20.550\nAnd now, 15.0 through 3 are out.\n\n577\n00:29:20.550 --> 00:29:23.860\nAnd Cisco is still saying, hey, we're\ngonna retire that command eventually, but\n\n578\n00:29:23.860 --> 00:29:25.090\nthey haven't actually retired it yet.\n\n579\n00:29:25.090 --> 00:29:27.140\nSo people do love it,\nyou won't see it in the exam.\n\n580\n00:29:27.140 --> 00:29:29.890\nIn fact, I'm not even sure if\nthis one works on the exam.\n\n581\n00:29:29.890 --> 00:29:33.300\nOn the exam, you definitely wouldn't use\ncopy running-config, startup-config.\n\n582\n00:29:33.300 --> 00:29:35.660\nIn real life, use whatever\ncommand makes you happy, right?\n\n583\n00:29:35.660 --> 00:29:37.620\nBut on the exam, we've gotta make\nsure we do it the right way.\n\n584\n00:29:37.620 --> 00:29:38.760\nSo, we don't wanna use WR.\n\n585\n00:29:38.760 --> 00:29:42.264\nWe wanna use copy running-config,\nstartup-config,\n\n586\n00:29:42.264 --> 00:29:43.660\nto save that configuration.\n\n587\n00:29:43.660 --> 00:29:46.420\n>> Now, Don, I just saw you did\nsomething there that was amazing.\n\n588\n00:29:46.420 --> 00:29:50.216\nYou typed copy run start quicker than\nI can actually watch you type it.\n\n589\n00:29:50.216 --> 00:29:53.211\n>> [LAUGH]\n>> How in the world did you do that, Don?\n\n590\n00:29:53.211 --> 00:29:55.275\n>> There's a lot of keyboard shortcuts,\nand\n\n591\n00:29:55.275 --> 00:29:57.350\nif you learn them it\nsaves you a lot of time.\n\n592\n00:29:57.350 --> 00:29:58.650\nAnd on the exam,\nyou don't have a lot of time, so\n\n593\n00:29:58.650 --> 00:29:59.940\nyou definitely wanna\ntake advantage of them.\n\n594\n00:29:59.940 --> 00:30:01.680\nLet me show you the keyboard shortcuts.\n\n595\n00:30:01.680 --> 00:30:04.020\nSo, what Ronny said was\nI just miraculously,\n\n596\n00:30:04.020 --> 00:30:06.360\nall of a sudden typed a command, right?\n\n597\n00:30:06.360 --> 00:30:11.960\nAnd what I'm actually doing is using\nthe up and down arrow keys on my computer.\n\n598\n00:30:11.960 --> 00:30:12.930\nWhen you press up and\n\n599\n00:30:12.930 --> 00:30:16.870\ndown, you can scroll back and\nforward through your command history.\n\n600\n00:30:16.870 --> 00:30:20.440\nSo actually, if you do,\nI think it's Show History, is that right?\n\n601\n00:30:20.440 --> 00:30:21.680\nShow History?\nThere.\n\n602\n00:30:21.680 --> 00:30:24.300\nThe router keeps track of all\nthe commands that you've been typing.\n\n603\n00:30:24.300 --> 00:30:27.960\nAnd so, you can press up and down to\nscroll back and forward through those.\n\n604\n00:30:27.960 --> 00:30:29.850\nSo if you need to run a command over and\nover again,\n\n605\n00:30:29.850 --> 00:30:33.650\nyou can save a lot of time just by hitting\nup and down to move back and forth.\n\n606\n00:30:33.650 --> 00:30:34.700\nAll right?\n\n607\n00:30:34.700 --> 00:30:36.690\nIf for\nsome reason your arrow keys don't work,\n\n608\n00:30:36.690 --> 00:30:38.900\nsometimes when you have a terminal\nthe arrow keys don't work.\n\n609\n00:30:38.900 --> 00:30:42.320\nYou can use Ctrl+P and Ctrl+N.\n\n610\n00:30:42.320 --> 00:30:45.390\nCtrl+P for previous,\nCtrl+N for next, right?\n\n611\n00:30:45.390 --> 00:30:49.440\nThose are the equivalent of up and\ndown when you're typing a command.\n\n612\n00:30:49.440 --> 00:30:54.526\nAnother one that I like to do is\nsometimes I'll make a mistake, right?\n\n613\n00:30:54.526 --> 00:31:00.684\nMaybe I'm typing my command, and\nsay I left the o out on copy, right?\n\n614\n00:31:00.684 --> 00:31:03.281\nWell, I could hit the left arrow key and\n\n615\n00:31:03.281 --> 00:31:06.679\neventually get back to that\nto put that o in, okay?\n\n616\n00:31:06.679 --> 00:31:10.880\nOr, if I'm already at the end here,\nI can hit Ctrl+A.\n\n617\n00:31:10.880 --> 00:31:13.880\nCtrl+A jumps your cursor to\nthe beginning of the line.\n\n618\n00:31:13.880 --> 00:31:16.530\nSo now I can just jump right over and\nstick that O in there.\n\n619\n00:31:16.530 --> 00:31:21.760\nCtrl+A jumps you to the beginning,\nCtrl+E jumps you to the end, right?\n\n620\n00:31:21.760 --> 00:31:24.666\nE for end, A for Alpha, I don't know.\n\n621\n00:31:24.666 --> 00:31:26.120\n>> [LAUGH]\n>> The first letter in the alphabet.\n\n622\n00:31:26.120 --> 00:31:29.550\nWhatever A stands for, I'm sure there's\nsome word that means a beginning.\n\n623\n00:31:29.550 --> 00:31:32.910\nBut Ctrl+A for the beginning,\nCtrl+E for the end.\n\n624\n00:31:32.910 --> 00:31:34.680\nThose are nice little shortcuts\nto be able to jump around.\n\n625\n00:31:34.680 --> 00:31:37.760\nI don't think the shortcuts will\nturn up on the exam, but just for\n\n626\n00:31:37.760 --> 00:31:41.580\nyour own sanity, they do save you a lot\nof time and they're pretty useful.\n\n627\n00:31:41.580 --> 00:31:42.910\nIf you go to Cisco's website,\n\n628\n00:31:42.910 --> 00:31:46.000\nthey've got a ton of keyboard\nshortcuts that are out there.\n\n629\n00:31:46.000 --> 00:31:49.880\nLet me show two more here\nthat are kind of important.\n\n630\n00:31:49.880 --> 00:31:54.301\nOne thing that happens to me a lot,\nis I'll be typing and\n\n631\n00:31:54.301 --> 00:31:57.240\nsomething'll happen on the router, right?\n\n632\n00:31:57.240 --> 00:31:59.796\nAnd it'll kind of mess up what I'm doing.\n\n633\n00:31:59.796 --> 00:32:02.084\nLet me show you real quick here.\n\n634\n00:32:02.084 --> 00:32:04.797\nActually, I'm gonna have\nto make a quick change.\n\n635\n00:32:04.797 --> 00:32:07.513\nLet's see,\n\n636\n00:32:10.797 --> 00:32:13.304\nI have some things set a little bit\ndifferent than the normal router, there.\n\n637\n00:32:13.304 --> 00:32:14.960\nNow I'm set up like a normal router,\nright?\n\n638\n00:32:14.960 --> 00:32:19.080\nSo say I got out of configuration and I\nget a little message on the screen telling\n\n639\n00:32:19.080 --> 00:32:21.716\nme that somebody configured the router,\nright?\n\n640\n00:32:21.716 --> 00:32:24.856\nThose messages, they're helpful,\nthey tell me what's going on but\n\n641\n00:32:24.856 --> 00:32:27.490\nthey can also interrupt\nyou while you're typing.\n\n642\n00:32:27.490 --> 00:32:31.950\nSo I might be in my configuration and\nI go in and\n\n643\n00:32:31.950 --> 00:32:36.030\nI make some changes,\nI modify my hostname and\n\n644\n00:32:36.030 --> 00:32:41.420\nI get out and\nI start typing to backup my configuration.\n\n645\n00:32:41.420 --> 00:32:45.630\nAnd I was in the middle of my command and\nthis message popped up.\n\n646\n00:32:45.630 --> 00:32:50.180\nWell, if I scroll over, you can see right\nhere where I continued typing at the end\n\n647\n00:32:50.180 --> 00:32:52.690\nof that message but\nI'm all kind of screwed up now, right?\n\n648\n00:32:53.770 --> 00:33:00.320\nSo if that happens, you can hit Ctrl+R,\nCtrl+R is for repaint, or redraw.\n\n649\n00:33:00.320 --> 00:33:03.363\nIt repaints the line that you were typing,\nand I can see where, yeah,\n\n650\n00:33:03.363 --> 00:33:04.869\nI got completely messed up there.\n\n651\n00:33:04.869 --> 00:33:09.980\nAnd so I can back up and\nI can say copy running-config and so on.\n\n652\n00:33:09.980 --> 00:33:13.140\nSo any time you hit Ctrl+R,\nit just redraws your line, so\n\n653\n00:33:13.140 --> 00:33:17.040\nif a message comes up and\ninterrupts you, then you can do that.\n\n654\n00:33:17.040 --> 00:33:18.260\nThe thing I had to change on my router,\n\n655\n00:33:18.260 --> 00:33:21.240\nI had my router set to\nautomatically redraw my line.\n\n656\n00:33:21.240 --> 00:33:22.680\nIt's a neat little feature, again, and\n\n657\n00:33:22.680 --> 00:33:24.430\nnot something that's gonna\nshow up on the exam.\n\n658\n00:33:24.430 --> 00:33:30.090\nBut in real life, there's this\nthing called synchronous logging.\n\n659\n00:33:30.090 --> 00:33:32.922\nAnd synchronous logging\njust tells the router hey,\n\n660\n00:33:32.922 --> 00:33:36.715\nif I'm in the middle of typing a command,\nsee how I had typed C-O-P,\n\n661\n00:33:36.715 --> 00:33:40.537\nthis message came up and then it\nautomatically redrew the line for me?\n\n662\n00:33:40.537 --> 00:33:44.502\nThat's like automatically hitting Ctrl+R,\nso I always turn that on,\n\n663\n00:33:44.502 --> 00:33:47.960\nbut it's not on by default,\nit's not on the exam either.\n\n664\n00:33:47.960 --> 00:33:51.102\nSo on the exam when you start typing\ncommands, you could very well have\n\n665\n00:33:51.102 --> 00:33:54.046\na message interrupt you and\nCtrl+R is pretty handy, all right?\n\n666\n00:33:54.046 --> 00:33:57.933\nAnother one that's handy\nis on routers by default,\n\n667\n00:33:57.933 --> 00:34:01.122\nif you type a command that doesn't exist.\n\n668\n00:34:01.122 --> 00:34:07.930\nSo remember for an unprivileged user,\nthe reload command doesn't exist, right?\n\n669\n00:34:07.930 --> 00:34:13.240\nIf I just type reload, it assumes that\nthat's a host that's out there, right?\n\n670\n00:34:13.240 --> 00:34:16.350\nThat that's a host and\nwe need to go look it up via DNS.\n\n671\n00:34:16.350 --> 00:34:20.960\nAnd I've got DNS turned off on mine but\nif it was turned on, it would start trying\n\n672\n00:34:20.960 --> 00:34:24.830\nand it would fail to look it up cuz\nreload's not a valid host name.\n\n673\n00:34:24.830 --> 00:34:27.460\nAnd it's gonna try and fail, and then try\nagain and fail, and then try again and\n\n674\n00:34:27.460 --> 00:34:31.210\nfail, 15 seconds each time, 45 seconds.\n\n675\n00:34:31.210 --> 00:34:33.070\nSo, any time you type a bad command,\n\n676\n00:34:33.070 --> 00:34:36.470\nyou have to sit and wait 45 seconds,\nit's like a penalty.\n\n677\n00:34:36.470 --> 00:34:41.570\nI just had a typo, but now, I get\npenalized 45 seconds, and that stinks.\n\n678\n00:34:41.570 --> 00:34:43.340\nIt stinks on the exam, but in real life,\n\n679\n00:34:43.340 --> 00:34:46.850\nit really stinks,\ncuz you're just wasting time, right?\n\n680\n00:34:46.850 --> 00:34:52.159\nSo there's a keyboard shortcut,\nwhich is Ctrl+Shift+6.\n\n681\n00:34:52.159 --> 00:34:57.320\nCtrl+Shift+6 aborts a command,\nit cancels it, okay?\n\n682\n00:34:57.320 --> 00:35:03.307\nSo if I were to turn on, let me get\nback into my configuration here and\n\n683\n00:35:03.307 --> 00:35:06.578\nturn on ip domain-lookup, there.\n\n684\n00:35:06.578 --> 00:35:11.200\nAll right, I had turned off domain\nlookups, domain lookups are on by default.\n\n685\n00:35:11.200 --> 00:35:16.060\nSo if I'm a regular Joe Schmoe user and\nI'm at that unprivileged user prompt and\n\n686\n00:35:16.060 --> 00:35:18.550\nI type reload,\nit's gonna try and look it up.\n\n687\n00:35:18.550 --> 00:35:21.950\nAnd see how it says translating reload\ndomain server, it's looking up DNS and\n\n688\n00:35:21.950 --> 00:35:25.080\nnow I'm stuck, I'm sitting here,\nI can't do anything.\n\n689\n00:35:25.080 --> 00:35:28.910\nWell, I can do one thing, I can wait for\n45 seconds, I don't wanna.\n\n690\n00:35:28.910 --> 00:35:32.796\nSo if you are in a hurry,\nyou can hit Ctrl+Shift+6 and\n\n691\n00:35:32.796 --> 00:35:37.523\nit sends the abort command and\neventually, it's gonna abort out.\n\n692\n00:35:37.523 --> 00:35:40.430\n[LAUGH] And\nI must not have gotten it in time.\n\n693\n00:35:40.430 --> 00:35:42.868\nSo the first lookup had already finished\nand now it's doing the second one.\n\n694\n00:35:42.868 --> 00:35:45.496\nSo it'll abort the second one and\nthen it'll drop out and\n\n695\n00:35:45.496 --> 00:35:47.200\nput me on the regular command.\n\n696\n00:35:47.200 --> 00:35:49.450\nAnd so\nI won't have to wait the full 45 seconds,\n\n697\n00:35:49.450 --> 00:35:52.240\nI'll wait a smaller portion\nof that eventually.\n\n698\n00:35:52.240 --> 00:35:53.560\nMy terminal might not be sending it,\n\n699\n00:35:53.560 --> 00:35:58.250\nsome terminals don't send the shortcut,\nI bet mine's not.\n\n700\n00:35:58.250 --> 00:36:05.599\nSo Ctrl+Shift+6 though, it's a weird one\nto [CROSSTALK] yeah, it's kind of strange.\n\n701\n00:36:05.599 --> 00:36:09.640\nLet me think of another command I might\nbe able to use that would pull that.\n\n702\n00:36:09.640 --> 00:36:11.028\nYeah, see that never aborted.\n\n703\n00:36:11.028 --> 00:36:12.960\nSee how it says Bad IP address?\n\n704\n00:36:12.960 --> 00:36:17.798\nIt would normally say aborting command\nif it did, for some reason it didn't.\n\n705\n00:36:17.798 --> 00:36:21.958\nWe could do like an SSH attempt, right, so\n\n706\n00:36:21.958 --> 00:36:26.538\nif I try to SSH into some\nkinda host out there.\n\n707\n00:36:26.538 --> 00:36:29.002\nShoot, I don't have IPs assigned\non the router [LAUGH] right now.\n\n708\n00:36:29.002 --> 00:36:33.075\nBut if I did that and it was trying and\nwaiting, you'd hit Ctrl+Shift+6 and\n\n709\n00:36:33.075 --> 00:36:33.990\nit would abort.\n\n710\n00:36:33.990 --> 00:36:37.915\nSo, just another example of\na keyboard shortcut that's handy.\n\n711\n00:36:37.915 --> 00:36:38.785\nJust be aware,\n\n712\n00:36:38.785 --> 00:36:42.555\njust like what I bumped into, sometimes\nthe keyboard shortcuts don't work.\n\n713\n00:36:42.555 --> 00:36:46.885\nSometimes, your arrow keys don't work and\nit's nice to have Ctrl+P and Ctrl+N.\n\n714\n00:36:46.885 --> 00:36:51.155\nSometimes, like this one, Ctrl+Shift+6, is\njust not passing through to that host, so\n\n715\n00:36:51.155 --> 00:36:52.705\nyou might have to experiment a bit and\n\n716\n00:36:52.705 --> 00:36:54.425\nthat's gonna vary based\non your terminal program.\n\n717\n00:36:54.425 --> 00:36:57.810\nSome terminal programs work with\nall the shortcuts, some don't, so\n\n718\n00:36:57.810 --> 00:37:00.280\njust kind of keep that in mind\nas you work with the commands.\n\n719\n00:37:01.850 --> 00:37:02.853\nAll right, Ronnie,\n\n720\n00:37:02.853 --> 00:37:06.048\nI think that's probably a pretty\ngood rundown of the basics of IOS.\n\n721\n00:37:06.048 --> 00:37:08.450\nNotice that we didn't\nreally configure anything?\n\n722\n00:37:08.450 --> 00:37:10.516\nWell, the whole rest of this\nseries is configuring stuff.\n\n723\n00:37:10.516 --> 00:37:12.800\nWe're gonna learn about configuring\nswitches, configuring routers,\n\n724\n00:37:12.800 --> 00:37:15.530\nall the different pieces inside of it,\nso we're gonna see a lot more.\n\n725\n00:37:15.530 --> 00:37:18.690\nBut as far as your basic command\nline interface instructions,\n\n726\n00:37:18.690 --> 00:37:21.290\nthose are the ones that you're\ngonna use every single day.\n\n727\n00:37:22.440 --> 00:37:26.930\n>> All right, well, Don, thank you again\nfor introducing us to the IOS command\n\n728\n00:37:26.930 --> 00:37:30.940\nline interface, getting us familiar\nat least with the basic commands and\n\n729\n00:37:30.940 --> 00:37:33.032\nwhat we're normally gonna end up seeing.\n\n730\n00:37:33.032 --> 00:37:36.210\nWe wanna be able to distinguish between\nuser mode and of course the privilege\n\n731\n00:37:36.210 --> 00:37:41.060\nmode, and even that global configuration\nmode as well, so that you can actually\n\n732\n00:37:41.060 --> 00:37:44.560\nbe able to say I know that I'm\ntyping commands in the right place.\n\n733\n00:37:44.560 --> 00:37:47.908\nThat is half the battle is actually\ngetting in there and doing that.\n\n734\n00:37:47.908 --> 00:37:51.716\nAnd so if you don't see a command that\nyou're expecting to see in that particular\n\n735\n00:37:51.716 --> 00:37:55.244\nmode, make sure you check out what mode\nthat you're actually typing in and\n\n736\n00:37:55.244 --> 00:37:57.610\nthat will normally help you out as well.\n\n737\n00:37:57.610 --> 00:37:59.640\nLearning some of the basic\ncommands that we saw here,\n\n738\n00:37:59.640 --> 00:38:04.240\nthe show commands especially, they enable\nto get you into that privilege mode.\n\n739\n00:38:04.240 --> 00:38:07.100\nThe ability to do all those\nthings is gonna be key as we\n\n740\n00:38:07.100 --> 00:38:11.868\nmove on through the entire series, so make\nsure you do take time to do that as well.\n\n741\n00:38:11.868 --> 00:38:14.750\nYou wanna continue to become faster and\n\n742\n00:38:14.750 --> 00:38:19.240\nfaster at these commands because on\nthe exam, speed and accuracy is key.\n\n743\n00:38:19.240 --> 00:38:22.390\nWell, that's a great place for\nus to also end this episode, then.\n\n744\n00:38:22.390 --> 00:38:25.880\nSigning off for ITProTV,\nI've been your host, Ronnie Wong.\n\n745\n00:38:25.880 --> 00:38:26.900\n>> And, I'm Don Pezet.\n\n746\n00:38:26.900 --> 00:38:30.643\n>> Stay tuned right here for\nmore CCENT episodes.\n\n747\n00:38:30.643 --> 00:38:38.280\n[MUSIC]\n\n",
          "vimeoId": "174201504"
        },
        {
          "description": "In this episode, Ronnie and Don show how to get Cisco device ready for a production network.  Using the CLI, they show basic configuration for access passwords and setting the clock on a device.  They discuss how important it is to set and how to configure passwords.  They also demonstrate the way to protect these passwords through the CLI.  The guys also take a look and show how to set the clock on a Cisco device to the proper time and timezone.  This time configuration is important for synchronizing logs across multiple devices within your management domain.",
          "length": "2203",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-8-1-inital_device_configuration-071316-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-8-1-inital_device_configuration-071316-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-8-1-inital_device_configuration-071316-1-sm.jpg",
          "title": "Initial Device Configuration",
          "transcript": "WEBVTT\n\n1\n00:00:00.093 --> 00:00:10.093\n[MUSIC]\n\n2\n00:00:12.383 --> 00:00:14.960\nWelcome to another great\nepisode right here on ITProTV.\n\n3\n00:00:14.960 --> 00:00:17.210\nI'm your host Ronnie Wong and\n\n4\n00:00:17.210 --> 00:00:22.030\ntoday we're continuing on with some Cisco\nCCENT episodes that we've been doing and\n\n5\n00:00:22.030 --> 00:00:26.530\nwe've just kind of taking look a little\nbit about the command line interface, but\n\n6\n00:00:26.530 --> 00:00:29.090\nthere's more practical\nthings we can do with it.\n\n7\n00:00:29.090 --> 00:00:30.990\nAnd here to help us out is Mr. Don Pezet.\n\n8\n00:00:30.990 --> 00:00:31.870\nDon, welcome back.\n\n9\n00:00:31.870 --> 00:00:32.760\n>> Thanks for having me back, Ronnie.\n\n10\n00:00:32.760 --> 00:00:35.400\nYeah, in the last episode,\nwe got a chance to get our feet wet with\n\n11\n00:00:35.400 --> 00:00:38.380\nthe command line interface, and\nwe were just kind of exploring a bit.\n\n12\n00:00:38.380 --> 00:00:39.930\nWe didn't really configure anything.\n\n13\n00:00:39.930 --> 00:00:43.896\nSo, what I wanna do in this episode, and\nit'll be more than one episode, as well as\n\n14\n00:00:43.896 --> 00:00:47.523\nthe follow ups here, but what I wanna do\nis walk you through some of the basics\n\n15\n00:00:47.523 --> 00:00:51.408\ncommands that you're gonna put into any\nCisco router switch that you work with.\n\n16\n00:00:51.408 --> 00:00:55.551\nI kind of have this template that I use\nthat every time I get a new router or\n\n17\n00:00:55.551 --> 00:00:58.314\na new switch,\nthere's this set of about 30 or\n\n18\n00:00:58.314 --> 00:01:03.170\n40 commands that I put in there to get\nthe device to work the way that I wanted.\n\n19\n00:01:03.170 --> 00:01:06.450\nAnd it's not just my own preference,\nlike this is how I feel it should be.\n\n20\n00:01:06.450 --> 00:01:09.530\nThere's things that you really should\nconfigure to ensure that your router is\n\n21\n00:01:09.530 --> 00:01:10.380\ngonna work properly.\n\n22\n00:01:10.380 --> 00:01:13.670\nAnd so we're gonna see that stuff right\nthrough here and I know said router,\n\n23\n00:01:13.670 --> 00:01:15.300\nI am going to use a switch.\n\n24\n00:01:15.300 --> 00:01:17.650\nEverything are going to\nsee on these episodes,\n\n25\n00:01:17.650 --> 00:01:19.980\nwill work on a router or a switch.\n\n26\n00:01:19.980 --> 00:01:21.070\nThey both run the iOS.\n\n27\n00:01:21.070 --> 00:01:22.900\nThe Cisco Network Operating System.\n\n28\n00:01:22.900 --> 00:01:25.785\nSo they take the same commands,\nand they work the same way.\n\n29\n00:01:25.785 --> 00:01:29.130\nThere's really only a little difference in\nbetween the two when it comes to a basic\n\n30\n00:01:29.130 --> 00:01:30.160\nconfiguration like this.\n\n31\n00:01:30.160 --> 00:01:32.710\nAnd so anywhere there is a difference,\nI'll be sure to highlight that so\n\n32\n00:01:32.710 --> 00:01:33.640\nyou know about it.\n\n33\n00:01:33.640 --> 00:01:34.870\nBut I'll be honest with you guys.\n\n34\n00:01:34.870 --> 00:01:37.220\nOut of all the commands\nthat we're about to see,\n\n35\n00:01:37.220 --> 00:01:40.500\nthe only ones that are different are when\nwe assign IP addresses to the device.\n\n36\n00:01:40.500 --> 00:01:42.610\nEverything else is done exactly the same.\n\n37\n00:01:42.610 --> 00:01:46.040\nSo you can create one template and you\ncan reuse it for all of your routers and\n\n38\n00:01:46.040 --> 00:01:47.010\nall of your switches.\n\n39\n00:01:47.010 --> 00:01:49.240\nRight, now,\nyou certainly don't have to do this.\n\n40\n00:01:49.240 --> 00:01:52.590\nIf you get a brand new switch from Cisco,\nyou cut open the box,\n\n41\n00:01:52.590 --> 00:01:53.650\nyou take the switch out.\n\n42\n00:01:53.650 --> 00:01:56.410\nYou can stick it in the rack,\napply power, and\n\n43\n00:01:56.410 --> 00:01:58.550\nstart plugging computers into it, right?\n\n44\n00:01:58.550 --> 00:02:00.900\nEvery computer that you plug in will\nbe able to see the other computers.\n\n45\n00:02:00.900 --> 00:02:03.250\nIt will work right out of the box.\n\n46\n00:02:03.250 --> 00:02:06.577\nBut, you'll lose out on almost\nall of the management and\n\n47\n00:02:06.577 --> 00:02:08.391\nall of the advanced features.\n\n48\n00:02:08.391 --> 00:02:11.690\nAnd there's a ton of stuff in there that's\nnot gonna be working exactly the way that\n\n49\n00:02:11.690 --> 00:02:12.730\nyou want it.\n\n50\n00:02:12.730 --> 00:02:15.600\nYou really need to get in there and\ndo some basic configuration on it.\n\n51\n00:02:15.600 --> 00:02:17.770\nIt's even more so important for routers.\n\n52\n00:02:17.770 --> 00:02:20.942\nIf you take a brand new router out\nof the box, you cut open the box,\n\n53\n00:02:20.942 --> 00:02:23.859\nyou stick it in the rack, and\npower it on, it does nothing.\n\n54\n00:02:23.859 --> 00:02:25.123\n>> [LAUGH]\n>> Because your router won't\n\n55\n00:02:25.123 --> 00:02:25.995\nhave IP addresses.\n\n56\n00:02:25.995 --> 00:02:28.285\nWithout IP addresses,\nit can't talk on the network.\n\n57\n00:02:28.285 --> 00:02:31.475\nSo, a router that can't talk on\nthe network can't route, and\n\n58\n00:02:31.475 --> 00:02:33.750\nyou've got a dead box\nsitting there on the network.\n\n59\n00:02:33.750 --> 00:02:38.120\nSo, on a router you absolutely need to do\nsome basic configuration on it on a switch\n\n60\n00:02:38.120 --> 00:02:40.270\nits a little more optional, all right.\n\n61\n00:02:40.270 --> 00:02:43.790\nSo, what I wanna do is walk you\nthrough a brand new switch and\n\n62\n00:02:43.790 --> 00:02:45.430\nall the different things\nwe can configure on so\n\n63\n00:02:45.430 --> 00:02:48.630\nI've got a switch pulled up right\nhere we take a look at my connection.\n\n64\n00:02:48.630 --> 00:02:52.180\nI'm connected via the console port just\nlike we saw in the last episode and\n\n65\n00:02:52.180 --> 00:02:57.090\nyou can see where I powered this switch\non, let me get back up to it here, so\n\n66\n00:02:57.090 --> 00:02:58.860\nright about here.\n\n67\n00:02:58.860 --> 00:03:02.110\nSo I flipped the power switch and\nthen the thing turn on, right?\n\n68\n00:03:02.110 --> 00:03:05.073\nSo you can see I was erasing\nthe config from before.\n\n69\n00:03:05.073 --> 00:03:08.667\nAnd so here it goes booting up and I know\nit's booting cuz I see the operating\n\n70\n00:03:08.667 --> 00:03:11.000\nsystem decoding,\n>> Decompressing.\n\n71\n00:03:11.000 --> 00:03:12.017\n>> Decompressing, thank you Ronnie.\n\n72\n00:03:12.017 --> 00:03:16.760\nSo it's extract that and throwing into the\nRAMs and boots the operating system up.\n\n73\n00:03:16.760 --> 00:03:20.800\nAnd then I get my end user license\nagreement stuff that pops up.\n\n74\n00:03:20.800 --> 00:03:23.860\nThe warnings about encryption\nprotocols and so on.\n\n75\n00:03:23.860 --> 00:03:26.240\nI get the summary of the hardware and\n\n76\n00:03:26.240 --> 00:03:30.420\neventually we'll see press\nReturn to get started.\n\n77\n00:03:30.420 --> 00:03:32.555\nAll right, so guess what I did?\n\n78\n00:03:32.555 --> 00:03:33.138\nI press Return.\n>> [LAUGH]\n\n79\n00:03:33.138 --> 00:03:34.287\n>> [LAUGH] So I press Return to\n\n80\n00:03:34.287 --> 00:03:35.290\nget started.\n\n81\n00:03:35.290 --> 00:03:38.570\nNow, on a brand new switch when\nyou press Return to get started,\n\n82\n00:03:38.570 --> 00:03:43.090\nwhat you're going to see\nis this message right here.\n\n83\n00:03:43.090 --> 00:03:45.390\nWould you like to enter\nthe initial configuration dialog?\n\n84\n00:03:45.390 --> 00:03:48.978\nAnd I know I mention this briefly on the\nlast episode, it's a simple wizard you can\n\n85\n00:03:48.978 --> 00:03:52.046\nwalk through that will asked you to\npick an IP Address and a host name and\n\n86\n00:03:52.046 --> 00:03:55.510\na few other little things to get\na basic configuration on the device.\n\n87\n00:03:55.510 --> 00:03:59.443\nOn the exam we need to know that\nwizard exist, but in real life,\n\n88\n00:03:59.443 --> 00:04:03.541\nnot in real life, but on the exam,\nyou need to not use the wizard.\n\n89\n00:04:03.541 --> 00:04:04.795\n>> [LAUGH]\n>> You need to know all\n\n90\n00:04:04.795 --> 00:04:05.730\nthe commands by hand.\n\n91\n00:04:05.730 --> 00:04:08.420\nHow to enter in each individual one,\nright?\n\n92\n00:04:08.420 --> 00:04:10.500\nSo while the wizard is somewhat nice,\n\n93\n00:04:10.500 --> 00:04:13.120\nit's not something we're gonna\nbe able to use on the exam.\n\n94\n00:04:13.120 --> 00:04:17.000\nSo, what are some of the things that\nwe need to configure, all right.\n\n95\n00:04:17.000 --> 00:04:20.465\nWell, the first thing that I'll\nusually configure on a new device is\n\n96\n00:04:20.465 --> 00:04:21.880\nthe host name, right?\n\n97\n00:04:21.880 --> 00:04:24.200\nSo see how mine is just named switch.\n\n98\n00:04:24.200 --> 00:04:28.140\nWell, if I have a hundred switches,\nthey're all going to be named switch,\n\n99\n00:04:28.140 --> 00:04:32.230\nright out of the box, and so that's not\nthe most helpful name in the world.\n\n100\n00:04:32.230 --> 00:04:33.698\nSo I'll probably want to rename this.\n\n101\n00:04:33.698 --> 00:04:37.227\nAnd so\nI'm gonna jump into my configuration, and\n\n102\n00:04:37.227 --> 00:04:43.590\nonce I'm in my configuration, I can use\nthe #hostname command to define that name.\n\n103\n00:04:43.590 --> 00:04:45.880\nSo I might wanna call it anything.\n\n104\n00:04:45.880 --> 00:04:50.590\nYou can give it a name based on its\ncompany, location, maybe its purpose.\n\n105\n00:04:50.590 --> 00:04:53.130\nThis might be a sales switch\nversus a marketing switch.\n\n106\n00:04:53.130 --> 00:04:54.380\nWhatever it is you wanna name it.\n\n107\n00:04:54.380 --> 00:04:58.489\nSo I might call mine itprotv-sw01, right?\n\n108\n00:04:58.489 --> 00:05:00.650\nSo this is ITProTV switch number 1.\n\n109\n00:05:00.650 --> 00:05:01.910\nAnd just give it a name.\n\n110\n00:05:01.910 --> 00:05:03.840\nYou can do uppercase and\nlowercase letters.\n\n111\n00:05:03.840 --> 00:05:06.640\nYou can do numbers,\nhyphens, and underscores.\n\n112\n00:05:06.640 --> 00:05:09.470\nBut you can't do punctuation and\nyou can't do spaces.\n\n113\n00:05:09.470 --> 00:05:11.200\nSo just be aware that there are limits and\n\n114\n00:05:11.200 --> 00:05:14.540\nI believe there's a 16 character\nlimit if I remember right.\n\n115\n00:05:14.540 --> 00:05:19.000\nIt doesn't say, but I'm pretty sure\nthere's a length limit on it also,\n\n116\n00:05:19.000 --> 00:05:20.330\nabout 16 characters.\n\n117\n00:05:20.330 --> 00:05:24.530\nSo within those limits, you can call\nit pretty much anything that you want.\n\n118\n00:05:24.530 --> 00:05:27.060\nAnd that way you can recognize\nexactly what device this is.\n\n119\n00:05:27.060 --> 00:05:30.010\nThat's real important for people like me,\nwhere I might be connected to five\n\n120\n00:05:30.010 --> 00:05:33.470\ndifferent devices at once and\nI start to get my windows mixed up.\n\n121\n00:05:33.470 --> 00:05:35.640\nAnd all of a sudden issuing\na command on the wrong router or\n\n122\n00:05:35.640 --> 00:05:38.080\non the wrong switch and\nnow I break something, right.\n\n123\n00:05:38.080 --> 00:05:39.500\nSo we always wanna make\nsure we've got that named.\n\n124\n00:05:41.410 --> 00:05:45.240\nAfter configuring a host name, there's a\nlot of other things that we can configure.\n\n125\n00:05:45.240 --> 00:05:48.190\nBut I do wanna show you two convenience\ncommands right here from the very\n\n126\n00:05:48.190 --> 00:05:49.450\nbeginning that are important.\n\n127\n00:05:49.450 --> 00:05:54.065\nThese are both completely optional but\nthere things that will slow you down in\n\n128\n00:05:54.065 --> 00:05:56.250\nreal life if you're not aware of it,\nright?\n\n129\n00:05:56.250 --> 00:06:00.310\nThe first one I wanna show you\nis when we issue commands,\n\n130\n00:06:00.310 --> 00:06:02.000\nespecially if you're getting started out.\n\n131\n00:06:02.000 --> 00:06:03.760\nYou just started with Cisco,\n\n132\n00:06:03.760 --> 00:06:07.290\nit's really easy to forget to go\ninto configuration mode, right?\n\n133\n00:06:07.290 --> 00:06:12.279\nAnd so I might be sitting at my\nprivilege mode prompt like this.\n\n134\n00:06:12.279 --> 00:06:16.073\nAnd when I go to type a command,\nI might type a configuration command and\n\n135\n00:06:16.073 --> 00:06:18.680\ntype it right here into privileged mode.\n\n136\n00:06:18.680 --> 00:06:21.420\nAnd so what's gonna happen is\nthat command's not gonna work,\n\n137\n00:06:21.420 --> 00:06:23.140\nI'll get an error, right.\n\n138\n00:06:23.140 --> 00:06:27.230\nWell, if it's a two part command, if I do\nsomething like #hostname itprotv-sw01,\n\n139\n00:06:27.230 --> 00:06:31.320\nthat command I just ran, well,\nit's gonna know it's a command.\n\n140\n00:06:31.320 --> 00:06:32.840\nCuz it has more than one part.\n\n141\n00:06:32.840 --> 00:06:35.030\nAnd so it's just gonna say\ninvalid input detected.\n\n142\n00:06:35.030 --> 00:06:37.260\nThis is not a valid command, right?\n\n143\n00:06:37.260 --> 00:06:41.641\nBut if it's a single part of command,\nlike if I just type #hostname,\n\n144\n00:06:41.641 --> 00:06:44.750\nit's gonna try and do a DNS lookup, okay.\n\n145\n00:06:44.750 --> 00:06:49.190\nAnd when it goes to do that dns lookup,\na couple of things can happen.\n\n146\n00:06:49.190 --> 00:06:53.300\nNow, on my switch it is not configured for\nthe network at all yet, right?\n\n147\n00:06:53.300 --> 00:06:55.660\nIt's a brand new switch,\nit's not fully configured.\n\n148\n00:06:55.660 --> 00:06:58.700\nAnd so it immediately fails out and\nI get that error.\n\n149\n00:06:58.700 --> 00:07:03.160\nBut on a router, or if I had already\nassigned an IP address to this switch,\n\n150\n00:07:03.160 --> 00:07:06.640\nthen what would happen here is it\nwould try and do a DNS lookup.\n\n151\n00:07:06.640 --> 00:07:11.630\nIt would try and reach out to a DNS server\nand say, hey, he just typed in host name,\n\n152\n00:07:11.630 --> 00:07:14.310\ndoes that correspond to\na computer on the network?\n\n153\n00:07:14.310 --> 00:07:17.580\nIf it does, can I have that IP address so\nI can reach out to it.\n\n154\n00:07:17.580 --> 00:07:19.610\nThe only problem is I don't\nhave any DNS servers, so\n\n155\n00:07:19.610 --> 00:07:21.145\nsee how it tried to do a broadcast?\n\n156\n00:07:21.145 --> 00:07:26.370\n255.255.255.255, that's a broadcast,\ntrying to send a message to everybody.\n\n157\n00:07:26.370 --> 00:07:28.650\nAnd now it's gonna wait for\na DNS server to respond.\n\n158\n00:07:28.650 --> 00:07:32.590\nNow I've got no network connection, so it\ndoesn't happen, and it immediately fails.\n\n159\n00:07:32.590 --> 00:07:35.150\nBut if I had a network connection,\nit'd wait 15 seconds.\n\n160\n00:07:35.150 --> 00:07:37.930\nAnd then when it failed,\nit would try again.\n\n161\n00:07:37.930 --> 00:07:40.410\nAnd when that failed,\nit would try one more time.\n\n162\n00:07:40.410 --> 00:07:42.900\nIt would try three times for 45 seconds.\n\n163\n00:07:42.900 --> 00:07:49.780\nSo any time I typed a single word and\ngot a mistake I be penalized 45 seconds.\n\n164\n00:07:49.780 --> 00:07:52.878\nI sit here and wait for\nthose errors to come across the screen and\n\n165\n00:07:52.878 --> 00:07:54.179\nthat's super annoying.\n\n166\n00:07:54.179 --> 00:07:57.789\nSo, one of the first things that\nI like to do on my routers and\n\n167\n00:07:57.789 --> 00:08:00.257\nswitches is to disable that DNS lookup.\n\n168\n00:08:00.257 --> 00:08:06.790\nAnd you can do that by saying,\nno ip domain-lookup.\n\n169\n00:08:06.790 --> 00:08:10.727\nThere we go, no ip domain-lookup.\n\n170\n00:08:10.727 --> 00:08:13.875\nAnd what that's gonna do is\nif you make that mistake and\n\n171\n00:08:13.875 --> 00:08:18.610\ntype a single name like that when you run\nit, it not gonna do the DS lookup anymore.\n\n172\n00:08:18.610 --> 00:08:22.929\nSee how I don't see the 255.255.255.255?\n\n173\n00:08:22.929 --> 00:08:24.316\nIt didn't do that broadcast.\n\n174\n00:08:24.316 --> 00:08:28.620\nAnd it just immediately said,\nunknown command or computer name, right?\n\n175\n00:08:28.620 --> 00:08:30.770\nSo that's gonna save me a lot of time.\n\n176\n00:08:30.770 --> 00:08:32.670\nOn the exam that's kind of useful.\n\n177\n00:08:32.670 --> 00:08:36.330\nBut in real life it's absolutely useful\nbecause it gets really frustrating.\n\n178\n00:08:36.330 --> 00:08:39.080\nAnd, if you're just getting started\nout you will make that mistake\n\n179\n00:08:39.080 --> 00:08:39.980\nmore than often.\n\n180\n00:08:39.980 --> 00:08:42.700\nI've been working with Cisco equipment for\nthan 16 years.\n\n181\n00:08:42.700 --> 00:08:46.480\nI still make that mistake where sometimes\nI forget to get into configuration mode\n\n182\n00:08:46.480 --> 00:08:49.933\nand then I'm sitting there staring at\nthat DNS lookup which is super annoying.\n\n183\n00:08:50.960 --> 00:08:51.940\nAll right.\n\n184\n00:08:51.940 --> 00:08:54.370\nThat's one convenience\ncommand that I like to issue.\n\n185\n00:08:54.370 --> 00:08:57.350\nAnother one that I like to\nissue is logging synchronous.\n\n186\n00:08:57.350 --> 00:08:58.720\nYou probably already noticed it.\n\n187\n00:08:58.720 --> 00:09:05.040\nBut sometimes as we get in and configure\nthings, we get in, we make our changes.\n\n188\n00:09:05.040 --> 00:09:06.409\nYou know, I set my host names.\n\n189\n00:09:06.409 --> 00:09:11.182\nI set my host name to itprotv-sw02.\n\n190\n00:09:11.182 --> 00:09:11.801\nRight.\n\n191\n00:09:11.801 --> 00:09:14.109\nAnd when I get out of configuration,\n\n192\n00:09:14.109 --> 00:09:17.690\nI might be typing a command\nlike copy running-, men.\n\n193\n00:09:18.880 --> 00:09:23.180\nRight in the middle of typing,\na log message popped up, right?\n\n194\n00:09:23.180 --> 00:09:26.190\nIt popped up saying, hey,\nit was configured by the console.\n\n195\n00:09:26.190 --> 00:09:26.910\nWell that's wonderful.\n\n196\n00:09:26.910 --> 00:09:29.240\nI know it was configured by the console,\nI'm the one who did it, right?\n\n197\n00:09:29.240 --> 00:09:30.810\nSo the message didn't really help me, and\n\n198\n00:09:30.810 --> 00:09:34.060\nwhat it did was interrupt\nme while I'm typing.\n\n199\n00:09:34.060 --> 00:09:36.140\nAnd so now where was I?\n\n200\n00:09:36.140 --> 00:09:38.480\nDid I hit the O for config or not?\n\n201\n00:09:38.480 --> 00:09:40.180\nI don't see an O here but\nI might have hit it.\n\n202\n00:09:40.180 --> 00:09:42.540\nI don't know because those\nlog messages are in the way.\n\n203\n00:09:42.540 --> 00:09:45.520\nIn the last episode I showed you\nwhere you could hit control R.\n\n204\n00:09:45.520 --> 00:09:48.115\nAnd you could redraw that line, right?\n\n205\n00:09:48.115 --> 00:09:50.300\nControl R is redraw or repaint.\n\n206\n00:09:50.300 --> 00:09:52.330\nAnd it puts that line back up.\n\n207\n00:09:52.330 --> 00:09:54.710\nAnd so now I can say, well,\nI actually spelled that wrong.\n\n208\n00:09:54.710 --> 00:09:57.090\nAnd I can go and finish it.\n\n209\n00:09:57.090 --> 00:10:00.730\nBut we can actually tell the router\nto do this automatically.\n\n210\n00:10:00.730 --> 00:10:04.625\nI'm plugged into the console on\nthis router and on this switch.\n\n211\n00:10:04.625 --> 00:10:10.535\nAnd so if I get into my configuration, you\ncan actually configure the console port.\n\n212\n00:10:10.535 --> 00:10:13.680\nI'm gonna say line con 0 right.\n\n213\n00:10:14.970 --> 00:10:17.760\nThat's gonna move me into my console port.\n\n214\n00:10:17.760 --> 00:10:23.540\nAnd there's nick command called logging\nsynchronous all right logging synchronous.\n\n215\n00:10:23.540 --> 00:10:27.360\nAnd what that command does is it tells\nthe system if I'm in the middle of typing\n\n216\n00:10:27.360 --> 00:10:32.260\nsomething and a log message comes\nup automatically redraw my line.\n\n217\n00:10:32.260 --> 00:10:35.360\nPut it back on the screen reprint it,\nget it on the screen so\n\n218\n00:10:35.360 --> 00:10:37.590\nnow I don't have to worry\nabout that interruption.\n\n219\n00:10:37.590 --> 00:10:38.140\nRight?\n\n220\n00:10:38.140 --> 00:10:43.480\nSo now if I were to get out of config and\nstart running copy, running.\n\n221\n00:10:45.010 --> 00:10:46.240\nI still get the log message.\n\n222\n00:10:46.240 --> 00:10:48.220\nIt popped up while I was typing.\n\n223\n00:10:48.220 --> 00:10:51.920\nBut then it automatically redraw\nthat line right there and\n\n224\n00:10:51.920 --> 00:10:56.140\nnow I'll just continue typing\nas if nothing happened, right?\n\n225\n00:10:56.140 --> 00:10:58.540\nSo, it's a nice little feature to have it,\nit's a convenience feature,\n\n226\n00:10:58.540 --> 00:11:01.360\nyou start it you don't have to turn it\non but it'll save you a lot of time.\n\n227\n00:11:01.360 --> 00:11:03.844\nAll right,\ndisabling the domain look up and\n\n228\n00:11:03.844 --> 00:11:07.684\nturning on snychronous logging\ngoes to they're essential for me.\n\n229\n00:11:07.684 --> 00:11:11.543\nI always turn those on just because it is\nabsolutely going to save me some time,\n\n230\n00:11:11.543 --> 00:11:12.076\nalright?\n\n231\n00:11:12.076 --> 00:11:16.990\nBut, there's a lot more that we can do on\nthe devices that's a little more critical.\n\n232\n00:11:16.990 --> 00:11:20.000\nI call these convenience features,\nbecause as far as your end users,\n\n233\n00:11:20.000 --> 00:11:21.560\nthis will not impact them one single bit.\n\n234\n00:11:21.560 --> 00:11:25.080\nEnd users won't see the benefit\nof that at all, alright?\n\n235\n00:11:25.080 --> 00:11:27.660\nBut us as admins, we benefit.\n\n236\n00:11:27.660 --> 00:11:29.430\nIt makes our lives easier.\n\n237\n00:11:29.430 --> 00:11:30.530\nAll right.\nLet's start with some of the other\n\n238\n00:11:30.530 --> 00:11:31.210\nthings that we can do.\n\n239\n00:11:32.230 --> 00:11:34.780\nWhen you first power on your switch or\n\n240\n00:11:34.780 --> 00:11:37.450\nyour router,\nyou may get exactly what I did.\n\n241\n00:11:37.450 --> 00:11:41.370\nWhere it boots up and you get to\nwhere it shows the start up wizard,\n\n242\n00:11:41.370 --> 00:11:44.760\ndo you want to run\nthe configuration wizard,\n\n243\n00:11:44.760 --> 00:11:47.290\nyou need to kind of run through\nthat simple set of script, right?\n\n244\n00:11:48.580 --> 00:11:53.840\nOr you might get a prompt and\nsome little errors pop up on the screen.\n\n245\n00:11:53.840 --> 00:11:55.570\nErrors that look like,\n\n246\n00:11:55.570 --> 00:11:59.300\nI've got them way back here in my\nhistory somewhere, right here.\n\n247\n00:11:59.300 --> 00:12:02.410\nSo you're making some errors like this,\nokay.\n\n248\n00:12:02.410 --> 00:12:06.310\nI've got error opening tftp looking for\na network config.\n\n249\n00:12:06.310 --> 00:12:09.730\nError opening tftp looking for\ncisconet.confg, okay.\n\n250\n00:12:09.730 --> 00:12:11.180\nWhat are these?\n\n251\n00:12:11.180 --> 00:12:13.827\nWell, if you have a DACP\nserver on your network and\n\n252\n00:12:13.827 --> 00:12:19.720\nyour DACP server is issuing out a boot\npiece or a boot protocol server.\n\n253\n00:12:19.720 --> 00:12:23.560\nYour Cisco switch router will see that and\nit'll say hey I don't have a config.\n\n254\n00:12:23.560 --> 00:12:26.320\nInstead of going through the wizard\n\n255\n00:12:26.320 --> 00:12:30.250\nmaybe I can find my configuration\nup here on a boot protocol server.\n\n256\n00:12:30.250 --> 00:12:33.270\nAnd so\nwe have a DHP server here in the studio\n\n257\n00:12:33.270 --> 00:12:35.840\nthat hands out a boot protocol server.\n\n258\n00:12:35.840 --> 00:12:37.650\nAnd we do that cause we\nhave voice over IP phones.\n\n259\n00:12:37.650 --> 00:12:41.000\nOur VOIP phones pick up that server,\nthey get their configuration, and\n\n260\n00:12:41.000 --> 00:12:43.100\nthey boot from that server.\n\n261\n00:12:43.100 --> 00:12:45.840\nBut my switches and routers,\nthey can use that server too.\n\n262\n00:12:45.840 --> 00:12:51.070\nAnd when they do it, Cisco has a set of\nfile names that they look for by default.\n\n263\n00:12:51.070 --> 00:12:52.422\nThis is network-config.\n\n264\n00:12:52.422 --> 00:12:56.574\nThere is cisconet.confg, there is router.\n\n265\n00:12:56.574 --> 00:13:02.935\nI think it's ciscortr.cfg,\nthere is router-confg.\n\n266\n00:13:02.935 --> 00:13:04.750\nThere are a couple of default names.\n\n267\n00:13:04.750 --> 00:13:06.050\nAnd so, it's gonna look for that server,\n\n268\n00:13:06.050 --> 00:13:07.980\nand it's looked to see if\nany of those files exist.\n\n269\n00:13:07.980 --> 00:13:11.040\nAnd if they do,\nit will download the config from them.\n\n270\n00:13:11.040 --> 00:13:12.980\nThat's nice if you have that\nenvironment set up, but\n\n271\n00:13:12.980 --> 00:13:15.520\nI'll be honest with you,\nvery few people do that.\n\n272\n00:13:15.520 --> 00:13:19.170\nAnd that's because TFTP doesn't\nuse authentication, and\n\n273\n00:13:19.170 --> 00:13:20.800\nit's completely unencrypted.\n\n274\n00:13:20.800 --> 00:13:24.440\nSo it's a very easy thing for\nan attacker to exploit.\n\n275\n00:13:24.440 --> 00:13:27.550\nThey can bring up their own fake server,\nand start handing out fake configs and\n\n276\n00:13:27.550 --> 00:13:30.170\ntake your network down so\nmost people don't use this.\n\n277\n00:13:30.170 --> 00:13:32.970\nIn fact most people like me disable it.\n\n278\n00:13:32.970 --> 00:13:34.740\nI don't want that to happen.\n\n279\n00:13:34.740 --> 00:13:39.610\nAnd so that is an example of one\nservice that runs on Cisco devices.\n\n280\n00:13:39.610 --> 00:13:42.240\nIt's running in the background and\nwe don't normally notice it.\n\n281\n00:13:42.240 --> 00:13:45.660\nIt's there for certain scenarios but\nmost of us don't want it.\n\n282\n00:13:45.660 --> 00:13:47.800\nAlright, so\nI'm gonna turn that service off.\n\n283\n00:13:47.800 --> 00:13:50.020\nI'm gonna get back into my configuration.\n\n284\n00:13:51.080 --> 00:13:55.940\nAnd I'm gonna say no service config,\nright, that's\n\n285\n00:13:55.940 --> 00:13:59.860\ngonna turn off that auto configuration\nservice to make sure that doesn't happen.\n\n286\n00:13:59.860 --> 00:14:04.170\nIf you run service question mark, you'll\nget a list of all the different services\n\n287\n00:14:04.170 --> 00:14:06.630\nthat run in the background\non a Cisco router.\n\n288\n00:14:06.630 --> 00:14:09.560\nSome are on by default,\nsome are off by default.\n\n289\n00:14:09.560 --> 00:14:12.340\nConfig is on by default.\n\n290\n00:14:12.340 --> 00:14:14.610\nAnd it does a TFTP load of config files.\n\n291\n00:14:14.610 --> 00:14:16.150\nSo I'm turning that off.\n\n292\n00:14:16.150 --> 00:14:18.090\nAnd I turn that off on\npretty much all equipment.\n\n293\n00:14:18.090 --> 00:14:21.480\nI didn't know anybody that\nactually uses TFTP configs\n\n294\n00:14:21.480 --> 00:14:22.810\nto boot their routers and switches.\n\n295\n00:14:22.810 --> 00:14:24.660\nRight?\nSo, I'm just going to turn that one off.\n\n296\n00:14:25.740 --> 00:14:27.260\nThere are other ones\nthat I want on though.\n\n297\n00:14:27.260 --> 00:14:31.750\nFor example if we scroll down a little\nbit, you'll see password encryption.\n\n298\n00:14:31.750 --> 00:14:32.890\nThat sounds good doesn't it?\n\n299\n00:14:32.890 --> 00:14:34.760\nDon't I want my passwords to be encrypted?\n\n300\n00:14:34.760 --> 00:14:37.400\nWell, this service is\nactually off by default.\n\n301\n00:14:37.400 --> 00:14:39.270\nPasswords are not encrypted by default.\n\n302\n00:14:39.270 --> 00:14:41.030\nNow that sounds pretty crazy doesn't it?\n\n303\n00:14:41.030 --> 00:14:42.500\nBut there's kind of a history to it.\n\n304\n00:14:42.500 --> 00:14:46.040\nWell actually here,\nlet's take a look at that.\n\n305\n00:14:46.040 --> 00:14:47.610\nSo, if we want to talk about that right?\n\n306\n00:14:49.290 --> 00:14:53.110\nOn my router switch,\nif it's brand new like this one,\n\n307\n00:14:53.110 --> 00:14:56.810\nsomebody could walk up to it and\nplug in a console cable.\n\n308\n00:14:56.810 --> 00:14:58.920\nAnd when they do,\nthey're going to see this right here.\n\n309\n00:14:58.920 --> 00:15:02.950\nThe switch name, console zero is now\navailable, press return to get started.\n\n310\n00:15:02.950 --> 00:15:07.210\nAnd if they're daring enough and they\npress return, they get the unprivileged\n\n311\n00:15:07.210 --> 00:15:10.090\nmode prompted and from the unprivileged\nmode, what can they do?\n\n312\n00:15:10.090 --> 00:15:10.710\nNot much.\n\n313\n00:15:10.710 --> 00:15:12.290\nThey can see my system.\n\n314\n00:15:12.290 --> 00:15:13.900\nThey can run commands.\n\n315\n00:15:13.900 --> 00:15:16.110\nThey can look at what's available.\n\n316\n00:15:16.110 --> 00:15:18.930\nThey get a read only view of the system.\n\n317\n00:15:18.930 --> 00:15:22.180\nBut if they type enable,\nthey get a privileged mode prompt and\n\n318\n00:15:22.180 --> 00:15:24.310\nnow they can do whatever they want.\n\n319\n00:15:24.310 --> 00:15:27.190\nSo, if someone has physical\naccess to my router or\n\n320\n00:15:27.190 --> 00:15:30.730\nswitch they can plug into the console\nport and do whatever they want.\n\n321\n00:15:30.730 --> 00:15:33.150\nI should probably put a password on that,\nright?\n\n322\n00:15:33.150 --> 00:15:38.790\nWell, the way we apply a password\nis if you jump into configuration,\n\n323\n00:15:38.790 --> 00:15:43.300\nyou can type enable password and then\nwhatever you want that password to be.\n\n324\n00:15:43.300 --> 00:15:44.710\nRight?\nI'm going to set mine to cisco123.\n\n325\n00:15:44.710 --> 00:15:47.997\nRight, all super secure, cisco123.\n\n326\n00:15:47.997 --> 00:15:49.755\nSo now I've got a password.\n\n327\n00:15:49.755 --> 00:15:55.925\nAnd so now, if somebody walks up to this\ndevice, presses return to get started,\n\n328\n00:15:55.925 --> 00:16:00.024\ntypes enable,\nnow they get prompted for a password.\n\n329\n00:16:00.024 --> 00:16:01.303\nThey've got another password, right.\n\n330\n00:16:01.303 --> 00:16:03.091\nSo punch it in.\n\n331\n00:16:03.091 --> 00:16:04.620\nAnd now they're enabled.\n\n332\n00:16:04.620 --> 00:16:06.220\nThat works.\nThat's great.\n\n333\n00:16:06.220 --> 00:16:09.160\nBut, if we take a look at\nthe running configuration,\n\n334\n00:16:09.160 --> 00:16:10.950\nlet's look at how that's stored.\n\n335\n00:16:10.950 --> 00:16:14.570\nIn my running configuration,\nright here on the first screen,\n\n336\n00:16:14.570 --> 00:16:17.882\nenable password cisco123 in plain text.\n\n337\n00:16:17.882 --> 00:16:20.930\nIf somebody's walking behind me\nwhile I'm looking at this config,\n\n338\n00:16:20.930 --> 00:16:22.480\nyou'll see it written\nright there on the screen.\n\n339\n00:16:22.480 --> 00:16:24.670\nIt's easy to shoulder surf and\nget that password, right.\n\n340\n00:16:24.670 --> 00:16:27.470\nEven if there's now somebody\nwalking behind me, if I\n\n341\n00:16:27.470 --> 00:16:31.570\nback up these configurations toward to\na network share somewhere, anybody who has\n\n342\n00:16:31.570 --> 00:16:36.220\naccess to that network share can open that\nfile and see the password right there.\n\n343\n00:16:36.220 --> 00:16:40.860\nIf somebody has physical access to\nthe router, then on a router with internal\n\n344\n00:16:40.860 --> 00:16:46.180\nflash, they can turn on the router and in\nthe boot process they can abort the boot.\n\n345\n00:16:46.180 --> 00:16:49.350\nAnd then can go in and\nthey can look at the config file.\n\n346\n00:16:49.350 --> 00:16:51.350\nAnd they can the password are out of it.\n\n347\n00:16:51.350 --> 00:16:54.370\nIf that has removable flash,\nthings woke up to the router and\n\n348\n00:16:54.370 --> 00:16:56.010\npop the flash card right\nout of front of us.\n\n349\n00:16:56.010 --> 00:16:59.870\nLike this one, this one behind me\nhere has that removable flash and\n\n350\n00:16:59.870 --> 00:17:02.690\nso I were to pop that card right out.\n\n351\n00:17:02.690 --> 00:17:03.920\nNow, I've got the card in my hand,\n\n352\n00:17:03.920 --> 00:17:06.430\nI can take this in a normal\ncompact flash reader somewhere.\n\n353\n00:17:06.430 --> 00:17:08.000\nWas that router on?\n\n354\n00:17:08.000 --> 00:17:10.020\nYou're not supposed to use\nthat while the router is on.\n\n355\n00:17:10.020 --> 00:17:12.473\n>> [LAUGH]\n>> So but anyhow, what do they care?\n\n356\n00:17:12.473 --> 00:17:13.310\nThey're the attacker.\n\n357\n00:17:13.310 --> 00:17:16.500\n[LAUGH] So they pop it out of the router,\nstick it in a computer and read it.\n\n358\n00:17:16.500 --> 00:17:17.660\nAnd now they've got the password.\n\n359\n00:17:17.660 --> 00:17:22.640\nThey go put it back in the router and\nwe might be none the wiser, right?\n\n360\n00:17:22.640 --> 00:17:23.590\nSo, that's bad.\n\n361\n00:17:23.590 --> 00:17:26.050\nWe want it to be encrypted in some way.\n\n362\n00:17:26.050 --> 00:17:29.170\nAnd so that's gonna be my next step,\nis to make sure that it's encrypted.\n\n363\n00:17:29.170 --> 00:17:31.660\nSo, if we jump back\ninto our configuration,\n\n364\n00:17:31.660 --> 00:17:36.440\nwe can say, service password-encryption.\n\n365\n00:17:36.440 --> 00:17:40.050\nOkay, and\nthat's gonna turn on password encryption.\n\n366\n00:17:40.050 --> 00:17:43.270\nYou do no service to turn it off,\nservice to turn it on.\n\n367\n00:17:43.270 --> 00:17:44.930\nI'm turning on that service.\n\n368\n00:17:44.930 --> 00:17:49.470\nAnd now, if I do a show running-config,\nwhen I go and\n\n369\n00:17:49.470 --> 00:17:52.270\nlook at that configuration,\nwhat am I gonna see?\n\n370\n00:17:52.270 --> 00:17:57.358\nEnable password 7 and then it jumble\nmess of numbers and letters, okay?\n\n371\n00:17:57.358 --> 00:18:01.500\nWell, that 7, what that means\nis it's a hint to the system.\n\n372\n00:18:01.500 --> 00:18:03.350\nLike hey, what you're about to\nsee is not the actual password.\n\n373\n00:18:03.350 --> 00:18:06.760\nMy password is not 08224 blah blah blah,\nright.\n\n374\n00:18:06.760 --> 00:18:09.950\nIt's saying that this is\nencrypted using Cisco\n\n375\n00:18:09.950 --> 00:18:13.530\ntype seven encryption it's actually\nnot true, the encryption is hashing.\n\n376\n00:18:13.530 --> 00:18:17.320\nSo, it's a hashed value,it\ntook what I typed,\n\n377\n00:18:17.320 --> 00:18:21.660\nfed it through a formula that then\nresulted in this hash right here.\n\n378\n00:18:21.660 --> 00:18:26.370\nAnd the next time I log in when I provide\na password, so if I log back out, and\n\n379\n00:18:26.370 --> 00:18:30.500\nI come in, and I enable,\nand I provide a password,\n\n380\n00:18:30.500 --> 00:18:34.360\nit's gonna take what I typed and it's\ngonna run it through that same formula.\n\n381\n00:18:34.360 --> 00:18:37.380\nAnd if it gets the same result\nas what's stored in config,\n\n382\n00:18:37.380 --> 00:18:39.000\nthen I typed in the right password.\n\n383\n00:18:39.000 --> 00:18:41.340\nI type in the wrong password so\nit prompts me again.\n\n384\n00:18:41.340 --> 00:18:44.340\nIf I type in the right password,\nnow I get in.\n\n385\n00:18:44.340 --> 00:18:46.550\nIt never actually decrypts it, right?\n\n386\n00:18:46.550 --> 00:18:48.420\nIt's one way encryption.\n\n387\n00:18:48.420 --> 00:18:49.390\nIt's a hash.\n\n388\n00:18:49.390 --> 00:18:52.070\nSo, it's always encrypting not decrypting.\n\n389\n00:18:52.070 --> 00:18:54.630\nIt encrypted my password\nwhen I put it in config, and\n\n390\n00:18:54.630 --> 00:18:58.130\nit just encrypted what I typed and\ncompared the result, all right.\n\n391\n00:18:58.130 --> 00:18:59.660\nSounds like a pretty good solution.\n\n392\n00:18:59.660 --> 00:19:04.550\n>> Now, Don, with all the people talking\nabout how insecure passwords are.\n\n393\n00:19:04.550 --> 00:19:07.380\nThis level seven password,\ncompletely secure?\n\n394\n00:19:07.380 --> 00:19:08.470\nOr in the middle?\n\n395\n00:19:08.470 --> 00:19:09.690\nOr kind of on the weak side?\n\n396\n00:19:09.690 --> 00:19:11.369\n>> Not even close, right.\n\n397\n00:19:11.369 --> 00:19:12.113\n>> [LAUGH]\n>> So,\n\n398\n00:19:12.113 --> 00:19:14.170\nlet's put times onto this stuff, right.\n\n399\n00:19:14.170 --> 00:19:18.890\nSo, the original password system, was part\nof Cisco iOS, back when I started, right.\n\n400\n00:19:18.890 --> 00:19:22.510\nSo back with the 11.0s in 1999 or so,\n\n401\n00:19:22.510 --> 00:19:27.198\nthey added the password\nencryption around the same time.\n\n402\n00:19:27.198 --> 00:19:30.578\n1999, 2000 somewhere in there,\nthe ability to encrypt it.\n\n403\n00:19:30.578 --> 00:19:34.721\nAnd back then it was actually pretty\ndecent, for a little while, for three or\n\n404\n00:19:34.721 --> 00:19:38.500\nfour years, not for very long and\nthen somebody broke it.\n\n405\n00:19:38.500 --> 00:19:41.070\nThere were only so many combinations\nthat you could have inside of it.\n\n406\n00:19:41.070 --> 00:19:43.370\nIt wasn't a very strong hash.\n\n407\n00:19:43.370 --> 00:19:48.950\nAnd so, they brute forced and they managed\nto, basically, create a way to reverse it.\n\n408\n00:19:48.950 --> 00:19:51.920\nAnd so they are able to reverse\ntype seven passwords and\n\n409\n00:19:51.920 --> 00:19:53.350\nit's not even hard to do, right?\n\n410\n00:19:53.350 --> 00:19:57.470\nSo, for example,\nif I do a show running-config and\n\n411\n00:19:57.470 --> 00:20:00.820\nI'm gonna copy that value, right.\n\n412\n00:20:00.820 --> 00:20:05.300\nThen from there,\nwhat we can do is we can jump out to\n\n413\n00:20:05.300 --> 00:20:09.040\nlike just do a Google search and\nif we reach out and, here,\n\n414\n00:20:09.040 --> 00:20:13.448\nlet me just fire up a little Safari and\nlet me do a Google search.\n\n415\n00:20:13.448 --> 00:20:17.283\nFor decrypt Cisco Type 7,\n\n416\n00:20:17.283 --> 00:20:23.350\nwell yeah, just Type 7 will be fine.\n\n417\n00:20:23.350 --> 00:20:25.060\nSo I'll decrypt that and\n\n418\n00:20:25.060 --> 00:20:26.960\nif I look down the list here I'll\nsee some different websites.\n\n419\n00:20:26.960 --> 00:20:30.860\nI'll take the very first link here,\nPacketLife.net, they've got a Cisco Type 7\n\n420\n00:20:30.860 --> 00:20:36.830\nReverser and if I go in here, I'm gonna\npaste in that hash that I just copied.\n\n421\n00:20:36.830 --> 00:20:40.910\nAnd hit reverse, and\nthere's my password, right?\n\n422\n00:20:40.910 --> 00:20:42.390\nJust took a second to do it.\n\n423\n00:20:42.390 --> 00:20:45.240\nSo if somebody has access to my\nphysical router, physical switch or\n\n424\n00:20:45.240 --> 00:20:49.690\nthey have access to the config file,\nit's trivial for them to decode it.\n\n425\n00:20:49.690 --> 00:20:51.730\nDoesn't mean that it's worthless, right?\n\n426\n00:20:51.730 --> 00:20:53.040\nIt's that it's trivial.\n\n427\n00:20:53.040 --> 00:20:55.370\nAt a minimum it gives me shoulder\nsurfing protection, right?\n\n428\n00:20:55.370 --> 00:20:59.630\nIf somebody's walking behind me and\nas they're walking by,\n\n429\n00:20:59.630 --> 00:21:02.290\nthey see this on my screen.\n\n430\n00:21:02.290 --> 00:21:05.176\nThey would have to memorize that real\nquick and I don't know about you guys, but\n\n431\n00:21:05.176 --> 00:21:06.571\nI can't memorize things that quick.\n\n432\n00:21:06.571 --> 00:21:09.632\nIt would protect you from me\nshoulder surfing at least, but\n\n433\n00:21:09.632 --> 00:21:12.910\nit's not gonna protect you\nfrom any of the other ways.\n\n434\n00:21:12.910 --> 00:21:14.470\nNow, Cisco recognized that and\n\n435\n00:21:14.470 --> 00:21:18.610\nso what they did is they rolled out\na different method to handle that.\n\n436\n00:21:18.610 --> 00:21:22.130\nSo I'm gonna do a no enable\npassword to remove that password.\n\n437\n00:21:22.130 --> 00:21:22.700\nSo now it's removed.\n\n438\n00:21:22.700 --> 00:21:24.210\nI don't have a password at all.\n\n439\n00:21:24.210 --> 00:21:28.970\nAnd this time, instead of saying enable\npassword, I'm gonna say enable secret.\n\n440\n00:21:28.970 --> 00:21:33.500\nAnd I'll provide my super secure\npassword of cisco123, okay.\n\n441\n00:21:33.500 --> 00:21:38.200\nWhat this is telling it to do is don't\ndo a type seven password, right?\n\n442\n00:21:38.200 --> 00:21:41.830\nInstead, let's do an md5 hash.\n\n443\n00:21:41.830 --> 00:21:47.402\nMD5 is the message digest five and it's\na very trusted security hashing algorithm.\n\n444\n00:21:47.402 --> 00:21:49.377\nIt's been around for quite some time and\n\n445\n00:21:49.377 --> 00:21:52.540\nit's much more secure than\njust the Cisco type seven.\n\n446\n00:21:52.540 --> 00:21:59.940\nSo when I do enable secret cisco 123 and\nthen I do a show running-config.\n\n447\n00:21:59.940 --> 00:22:02.020\nWhen I look at that password in here,\n\n448\n00:22:02.020 --> 00:22:07.880\nI'm gonna see enable secret 5 because\nit's an MD5 checksum or a hash.\n\n449\n00:22:07.880 --> 00:22:12.700\nAnd then when I look over here,\nI'll see the hash that it created, right.\n\n450\n00:22:12.700 --> 00:22:15.410\nAnd so\nthat's right there is a jumbled mess and\n\n451\n00:22:15.410 --> 00:22:20.130\nif somebody got this, there's not really\na great attack that'll work against this.\n\n452\n00:22:20.130 --> 00:22:21.740\nMD5 is very difficult to compromise.\n\n453\n00:22:21.740 --> 00:22:24.490\nIt would take an attacker\npotentially years\n\n454\n00:22:24.490 --> 00:22:27.540\nto be able to figure out what might\npassword was to get into this system.\n\n455\n00:22:27.540 --> 00:22:28.830\nAnd by that point,\nwe should have changed it.\n\n456\n00:22:28.830 --> 00:22:31.140\nYou should be doing password\nrotation anyway, and so\n\n457\n00:22:31.140 --> 00:22:32.650\nwe're going to be protected.\n\n458\n00:22:32.650 --> 00:22:36.210\nSo this is the way that we want\nto assign enable passwords now.\n\n459\n00:22:36.210 --> 00:22:39.620\nYou don't wanna rely on\nthe old password system\n\n460\n00:22:39.620 --> 00:22:41.200\nbecause it's just not secure anymore.\n\n461\n00:22:41.200 --> 00:22:42.310\nThings change.\n\n462\n00:22:42.310 --> 00:22:43.870\nThere will be a time,\n\n463\n00:22:43.870 --> 00:22:48.440\nmaybe five years from now, where I'm\nfilming this same show and I say, yeah,\n\n464\n00:22:48.440 --> 00:22:52.620\nMD5 used to be good, now anybody\ncan decrypt it, go to this website.\n\n465\n00:22:52.620 --> 00:22:53.330\nThat's not today.\n\n466\n00:22:53.330 --> 00:22:58.540\nToday, MB5 is fine but it's already being\nreplaced by other things like Sha1 or\n\n467\n00:22:58.540 --> 00:23:00.150\nSha1 is being replaced, so Sha256 and\n\n468\n00:23:00.150 --> 00:23:04.110\nthen some of the other guys that are now\nkinda taking over in the hashing world.\n\n469\n00:23:04.110 --> 00:23:07.620\nSo we'll see that change as time goes on.\n\n470\n00:23:07.620 --> 00:23:11.560\nAll right, now one thing worth mentioning\nhere also is that you can have both.\n\n471\n00:23:11.560 --> 00:23:14.365\nYou can have a secret and\nregular password.\n\n472\n00:23:14.365 --> 00:23:17.620\nThey can't be the same, so\nif I try and do an enable password and\n\n473\n00:23:17.620 --> 00:23:21.040\nI set it to cisco123,\nit won't let me do it.\n\n474\n00:23:21.040 --> 00:23:22.920\nIt's gonna tell me that they're the same.\n\n475\n00:23:22.920 --> 00:23:26.620\nAnd the reason it won't let me do\nit is because if they're the same,\n\n476\n00:23:26.620 --> 00:23:28.330\nsomebody can just decrypt the weak one.\n\n477\n00:23:28.330 --> 00:23:30.610\nAnd now they know the secure one, right.\n\n478\n00:23:30.610 --> 00:23:34.270\nBut if I make it cisco321,\nit'll let me do that.\n\n479\n00:23:34.270 --> 00:23:37.550\nBut as long as you have a secret set,\nthat's the only one that's gonna get used.\n\n480\n00:23:37.550 --> 00:23:39.100\nThis password won't get used.\n\n481\n00:23:39.100 --> 00:23:43.727\nIf I get out of here, so I'm a person\nwho just walked up to this router and\n\n482\n00:23:43.727 --> 00:23:47.816\nplugged right in and\nmaybe I know the regular enable password,\n\n483\n00:23:47.816 --> 00:23:50.611\nIf I try to plug that in, it doesn't work.\n\n484\n00:23:50.611 --> 00:23:54.483\nIt doesn't work because I have a secret so\nI'm gonna plug in the secret and\n\n485\n00:23:54.483 --> 00:23:55.178\nthere we go.\n\n486\n00:23:55.178 --> 00:23:59.362\nSo as a result I don't normally set\nan enable password I just do the enable\n\n487\n00:23:59.362 --> 00:24:01.222\nsecret and that's it, right.\n\n488\n00:24:01.222 --> 00:24:03.030\nThat's gonna give you\nthe security we want.\n\n489\n00:24:03.030 --> 00:24:05.991\nLater on, I'll show you guys how to set\nthis up for a username and a password.\n\n490\n00:24:05.991 --> 00:24:08.906\nAnd then we'll move away from even the\nsecret and we'll just use usernames and\n\n491\n00:24:08.906 --> 00:24:09.709\npasswords instead.\n\n492\n00:24:09.709 --> 00:24:14.137\nThose are a lot better, especially for\nthose of you that go on to CCNA Security.\n\n493\n00:24:14.137 --> 00:24:17.235\nYou'll see where you can even attach\njust a Windows Active Directory and\n\n494\n00:24:17.235 --> 00:24:19.710\nyou can log in with your\nWindows account right here.\n\n495\n00:24:19.710 --> 00:24:23.330\nAnd that gets you even better security, so\nthere's a lot of different options here.\n\n496\n00:24:23.330 --> 00:24:27.488\nBut on a base level, you really do need to\nset an enable secret just to stop somebody\n\n497\n00:24:27.488 --> 00:24:31.436\nfrom walking up and physically plugging\nin and trying to get into the system.\n\n498\n00:24:31.436 --> 00:24:33.314\nNow there's another thing\nthat's pretty important for\n\n499\n00:24:33.314 --> 00:24:34.534\nus to get set on our routers early on.\n\n500\n00:24:34.534 --> 00:24:37.140\nAnd it's one that sometimes\nI forget to do right away.\n\n501\n00:24:37.140 --> 00:24:40.030\nYou guys have probably already noticed it\non the screen is that every time an error\n\n502\n00:24:40.030 --> 00:24:43.500\nmessage pops up or a notification,\nthe time on it is wrong.\n\n503\n00:24:43.500 --> 00:24:46.280\nI need to get the clock\nset properly on my system.\n\n504\n00:24:46.280 --> 00:24:50.050\nAnd there's a few reasons for this, the\nmain reason is that as an administrator,\n\n505\n00:24:50.050 --> 00:24:52.870\nwe need to know that when we're getting\ninformational or warning alerts,\n\n506\n00:24:52.870 --> 00:24:53.900\nthat the time is right.\n\n507\n00:24:53.900 --> 00:24:57.500\nBecause we might need to synchronize\nour logs at multiple devices and\n\n508\n00:24:57.500 --> 00:24:59.840\nwe need to make sure that\nthey all have the same time.\n\n509\n00:24:59.840 --> 00:25:02.860\nSo getting a clock set is pretty\nimportant but it's also important for\n\n510\n00:25:02.860 --> 00:25:04.230\nthings like encryption, right?\n\n511\n00:25:04.230 --> 00:25:08.700\nBecause IP sec or a lot of VPNs,\nthey'll use the time stamp,\n\n512\n00:25:08.700 --> 00:25:10.310\nto help the tech, replay attacks.\n\n513\n00:25:10.310 --> 00:25:14.030\nWhen somebody holds the packet and\nretransmits it later on and\n\n514\n00:25:14.030 --> 00:25:17.240\nso, if the time is wrong, in your device,\nit will stop those from working.\n\n515\n00:25:17.240 --> 00:25:18.785\nSo we need to get the clock set.\n\n516\n00:25:18.785 --> 00:25:21.594\nUnfortunately, Cisco doesnt know\nwhat time it is where you are, so\n\n517\n00:25:21.594 --> 00:25:24.272\nwhen they ship you the device,\nthe time is almost always wrong.\n\n518\n00:25:24.272 --> 00:25:27.510\nAnd if we look at mine, I've got\nsome messages that have popped up.\n\n519\n00:25:27.510 --> 00:25:31.570\nThat are saying it's March 1st,\na little after midnight.\n\n520\n00:25:31.570 --> 00:25:35.040\nWell, it's not March 1st,\nit's not a little after midnight and\n\n521\n00:25:35.040 --> 00:25:37.590\nthey don't show it here,\nbut if I look at the year.\n\n522\n00:25:37.590 --> 00:25:43.565\nIf I do a show clock, whoops, show clock,\nit actually thinks it's 1993.\n\n523\n00:25:43.565 --> 00:25:44.520\n>> [LAUGH]\n>> And no,\n\n524\n00:25:44.520 --> 00:25:47.198\nwe haven't invented an ITProTV time\nmachine, we just dress that way.\n\n525\n00:25:47.198 --> 00:25:49.740\n>> [LAUGH]\n>> But it's not 1993, right?\n\n526\n00:25:49.740 --> 00:25:52.102\nSo we need to get this\nset to be correct and\n\n527\n00:25:52.102 --> 00:25:55.610\nthere are a number of things\nI need to correct here.\n\n528\n00:25:55.610 --> 00:25:58.960\nOne keeping the notice right off\nis that it does default to UTC,\n\n529\n00:25:58.960 --> 00:26:01.630\nso it's that Universal Time Code or\n\n530\n00:26:01.630 --> 00:26:04.390\nGMT, Greenwich Mean Time-\n>> Zulu.\n\n531\n00:26:04.390 --> 00:26:06.172\n>> Zulu Time,\nthere's a number of names for it.\n\n532\n00:26:06.172 --> 00:26:10.816\nBut that kind of default time zone and\nmany security professionals out there will\n\n533\n00:26:10.816 --> 00:26:13.490\ntell you to leave all of\nyour equipment at UTC.\n\n534\n00:26:13.490 --> 00:26:16.500\nAnd that way it's easy to synchronize\nyour logs between devices.\n\n535\n00:26:16.500 --> 00:26:18.150\nIf you aggregate all your logs together,\n\n536\n00:26:18.150 --> 00:26:20.090\nyou can easily identify\nwhen things happen.\n\n537\n00:26:20.090 --> 00:26:23.130\nBut UTCs kind of annoying,\nbecause, like for us,\n\n538\n00:26:23.130 --> 00:26:27.730\nwe're in the Eastern Time Zone here\nin the US, so it's UTC-5 for us.\n\n539\n00:26:27.730 --> 00:26:28.912\nSo any time I see this,\n\n540\n00:26:28.912 --> 00:26:32.040\nI have to subtract five from it\nto figure out what time it is.\n\n541\n00:26:32.040 --> 00:26:35.069\nSo you can set the clock for\nyour own local time zone and\n\n542\n00:26:35.069 --> 00:26:37.164\nstill maintain UTC functionality.\n\n543\n00:26:37.164 --> 00:26:39.300\nLet me show you what I'm talking about.\n\n544\n00:26:39.300 --> 00:26:41.720\nFirst thing,\nI need to set the clock, right?\n\n545\n00:26:41.720 --> 00:26:47.010\nSo when I go in to set that,\nI need to tell it what time it is here.\n\n546\n00:26:47.010 --> 00:26:51.695\nAnd so I'm gonna say, clock set,\nand let me clarify real quick,\n\n547\n00:26:51.695 --> 00:26:53.930\ncuz you might be thinking, wait Don,\nyou're not in config mode.\n\n548\n00:26:53.930 --> 00:26:57.280\nWell, this is one of the only\nconfig commands that we issue\n\n549\n00:26:57.280 --> 00:26:58.940\noutside of configuration.\n\n550\n00:26:58.940 --> 00:27:02.260\nAnd the reason is, if this went into\nmy configuration and I set the clock,\n\n551\n00:27:02.260 --> 00:27:04.180\nwhat's gonna happen every time I boot?\n\n552\n00:27:04.180 --> 00:27:06.980\nIt's gonna go back to this wrong time,\nit was right once.\n\n553\n00:27:06.980 --> 00:27:07.860\nNow it's wrong forever.\n\n554\n00:27:09.060 --> 00:27:13.320\nIf I set it here It's outside if config,\nit's not stored in the config file.\n\n555\n00:27:13.320 --> 00:27:16.700\nInstead it's being stored\nin the hardware clock\n\n556\n00:27:16.700 --> 00:27:18.610\non the motherboard of your router or\nswitch.\n\n557\n00:27:18.610 --> 00:27:22.190\nAnd is their own dedicated clock and\nthat's what we're setting, so\n\n558\n00:27:22.190 --> 00:27:23.460\nI don't need to do this one in config.\n\n559\n00:27:23.460 --> 00:27:25.048\nIt's a little bit different\nthan everything else.\n\n560\n00:27:25.048 --> 00:27:28.968\nSo I'm gonna say clock set and\nI'm gonna tell the time and\n\n561\n00:27:28.968 --> 00:27:31.181\nit looks like it is 11:49.\n\n562\n00:27:31.181 --> 00:27:33.916\nI'll just make up the seconds,\nI don't know what seconds it is right now.\n\n563\n00:27:33.916 --> 00:27:39.377\nAnd then I'm gonna say that it\nis July 13th 2016, all right?\n\n564\n00:27:39.377 --> 00:27:42.772\nSo clock is set and\nthere we go, all right.\n\n565\n00:27:42.772 --> 00:27:46.003\nNow when I did that, I set 11:49 and\nI shouldn't have done that.\n\n566\n00:27:46.003 --> 00:27:48.177\nIt's 11:49 Eastern Standard Time.\n\n567\n00:27:48.177 --> 00:27:55.802\nBut we're GMT -5, so I need to add\n5 to that and make it 16:49, right?\n\n568\n00:27:55.802 --> 00:27:59.031\nThat's the actual time in UTC right\nnow and just subtract five and\n\n569\n00:27:59.031 --> 00:28:00.860\nnow you're at our time zone, okay.\n\n570\n00:28:00.860 --> 00:28:06.480\nSo, now that I've got that time set my\nlogs will have the proper time on them.\n\n571\n00:28:06.480 --> 00:28:10.220\nAll right, the only negative is in my\nmind, I've constantly got to do this minus\n\n572\n00:28:10.220 --> 00:28:13.670\nfive and where it gets really hard\nis if we have Daylight Savings Time.\n\n573\n00:28:13.670 --> 00:28:17.320\nCuz now, I have to subtract not just the\nfive, I've gotta subtract, well, four for\n\n574\n00:28:17.320 --> 00:28:18.530\nus when we're in Daylight Savings Time.\n\n575\n00:28:18.530 --> 00:28:20.580\nNow if you're in the US\nyou're familiar with this,\n\n576\n00:28:20.580 --> 00:28:22.930\nif you're outside of the US\nyou might not have that.\n\n577\n00:28:22.930 --> 00:28:23.690\nIn the United States,\n\n578\n00:28:23.690 --> 00:28:28.015\nwe have this really annoying thing which\nis twice a year we adjust our clocks.\n\n579\n00:28:28.015 --> 00:28:33.315\nWhen summer starts, we spring forward,\nwe move forward an hour.\n\n580\n00:28:33.315 --> 00:28:36.705\nAnd then when the fall comes,\nthe end of summer, we go back an hour, so\n\n581\n00:28:36.705 --> 00:28:38.705\nour clocks have to be adjusted.\n\n582\n00:28:38.705 --> 00:28:40.765\nHere in the Eastern Time Zone,\nwe're normally minus four, but\n\n583\n00:28:40.765 --> 00:28:43.170\nduring daylight time we're minus four.\n\n584\n00:28:43.170 --> 00:28:45.680\nSo, I have to tell the router\nthat I do that and\n\n585\n00:28:45.680 --> 00:28:47.780\nI have to tell it my own time-zone.\n\n586\n00:28:47.780 --> 00:28:50.830\nSo I could leave it in UTC,\nif that's what I want to do, I'm done.\n\n587\n00:28:50.830 --> 00:28:52.240\nEverything is gonna work out great.\n\n588\n00:28:52.240 --> 00:28:56.830\nWhen those log messages come up,\nthey've now got that proper time, and\n\n589\n00:28:56.830 --> 00:28:58.193\nit's in UTC, okay.\n\n590\n00:28:58.193 --> 00:29:02.143\nBut if we wanna customize it for\nour timezone, here's what we need to do we\n\n591\n00:29:02.143 --> 00:29:05.731\nneed to get in our configuration and\nwe need to tell it our tie zone.\n\n592\n00:29:05.731 --> 00:29:10.690\nI'm gonna say clock timezone and\nthen I need to give my timezone a name and\n\n593\n00:29:10.690 --> 00:29:13.470\nyou can call it whatever you want.\n\n594\n00:29:13.470 --> 00:29:15.026\nBut I'm gonna call mine EST,\n\n595\n00:29:15.026 --> 00:29:17.834\nEastern Standard Time that\nwhat we normally call it.\n\n596\n00:29:17.834 --> 00:29:21.466\nAnd then the important part is right\nhere I need to tell it my offset,\n\n597\n00:29:21.466 --> 00:29:22.948\nthat normally we are -5.\n\n598\n00:29:22.948 --> 00:29:26.698\nAnd so I'm gonna say clock\ntimezone EST -5 and so,\n\n599\n00:29:26.698 --> 00:29:32.030\nit just adjusted my clock and so\nnow it subtracted those 5 hours.\n\n600\n00:29:32.030 --> 00:29:35.930\nBut the problem is, we're not -5 right\nnow, we're in Daylight Savings Time, so\n\n601\n00:29:35.930 --> 00:29:38.750\nI need to tell it we observe\nDaylight Saving Time, not everywhere does.\n\n602\n00:29:38.750 --> 00:29:42.720\nIf you're in a country that doesn't do it,\nor if you're in what is it here in the US?\n\n603\n00:29:42.720 --> 00:29:46.233\nLike Arizona, the whole state of Arizona\ndoesn't do Daylight Saving Time.\n\n604\n00:29:46.233 --> 00:29:51.359\nSo for you, you may be done but for us we\nneed to say clock summer time, so that it\n\n605\n00:29:51.359 --> 00:29:56.756\nknows that we observe daylight savings,\nit actually got a hyphen, doesn't it.\n\n606\n00:29:56.756 --> 00:29:57.663\n>> Summer-time.\n\n607\n00:29:57.663 --> 00:30:00.969\n>> So summer-time and then I need to\ntell it that that's gonna be EDT and\n\n608\n00:30:00.969 --> 00:30:04.170\nthat's just a name I'm making up,\nyou call it whatever you want.\n\n609\n00:30:04.170 --> 00:30:05.930\nThis is Eastern Daylight Time.\n\n610\n00:30:05.930 --> 00:30:09.425\nAnd then, I need to throw kind of\nan unusual keyword on the end of that.\n\n611\n00:30:09.425 --> 00:30:14.440\nI need to say recurring, by default\nthe command only takes effect once.\n\n612\n00:30:14.440 --> 00:30:17.980\nI need you to recur every year, so\nI'm gonna add that recurring time to it.\n\n613\n00:30:17.980 --> 00:30:23.020\nAnd as soon as I do that, my clock adjusts\nagain and now my clock is actually wrong,\n\n614\n00:30:23.020 --> 00:30:25.040\nnow it thinks that it's 12:51.\n\n615\n00:30:25.040 --> 00:30:27.880\nI should have set it proper for\n\n616\n00:30:27.880 --> 00:30:32.280\nthe daylight saving or for\nthe standard time before and I didn't.\n\n617\n00:30:32.280 --> 00:30:35.500\nSo, I'm gonna I need to get out and\ncorrect my clock a little bit once more.\n\n618\n00:30:35.500 --> 00:30:42.038\nSo I'm gonna pull out that command that I\nused earlier and I'm gonna change that so\n\n619\n00:30:42.038 --> 00:30:46.608\nthat it now reflects the local\ntime which is 11:51.\n\n620\n00:30:46.608 --> 00:30:53.281\nAll right, so now, when my cloud comes up,\nI can see, when I do that.\n\n621\n00:30:53.281 --> 00:30:58.984\nThat I mean Eastern Daylight Time and\nit's 11:51, July 13, 2016.\n\n622\n00:30:58.984 --> 00:31:04.093\nNow this set up properly but there's\none more thing I need to be aware of.\n\n623\n00:31:04.093 --> 00:31:08.236\nI've gotta be careful because when I get\ninto my config and I do something and\n\n624\n00:31:08.236 --> 00:31:10.840\nmake a change and\nI get out of my config, right?\n\n625\n00:31:10.840 --> 00:31:15.285\nI'm gonna get a little pop up message and\nlook at the time,\n\n626\n00:31:15.285 --> 00:31:20.018\nit says July 13th 15:51,\nthat's still UTC, right?\n\n627\n00:31:20.018 --> 00:31:23.695\nSo some parts of my router\nswitch are still showing UTC,\n\n628\n00:31:23.695 --> 00:31:26.930\nother parts are showing\nmy local time zone.\n\n629\n00:31:26.930 --> 00:31:31.270\nThat gets confusing, it's easy to mix\nup times and now we can make mistakes.\n\n630\n00:31:31.270 --> 00:31:35.238\nThe time is technically correct,\nI'm just seeing different times, so\n\n631\n00:31:35.238 --> 00:31:38.959\nI wanna adjust those log messages,\nso that they show my local time.\n\n632\n00:31:38.959 --> 00:31:41.536\nAnd when I do that, I need still need to\nbe careful cuz what if somebody doesn't\n\n633\n00:31:41.536 --> 00:31:42.564\nknow I'm showing local time?\n\n634\n00:31:42.564 --> 00:31:46.270\nWhat if they assume that it's UTC and now\nthe log has become even harder to read.\n\n635\n00:31:46.270 --> 00:31:50.862\nSo I can choose to stick my time zone\nname in that log message also and\n\n636\n00:31:50.862 --> 00:31:54.154\nwe do that by modifying\nthe timestamp service.\n\n637\n00:31:54.154 --> 00:31:57.374\nRemember the services we saw at\nthe beginning of the episode the password\n\n638\n00:31:57.374 --> 00:32:00.488\nencryption service or the network\nconfig service, we turn some off,\n\n639\n00:32:00.488 --> 00:32:01.251\nwe turn some on.\n\n640\n00:32:01.251 --> 00:32:03.773\nThe timestamp service is\nrunning all the time.\n\n641\n00:32:03.773 --> 00:32:07.170\nAnd it's, like its name implies,\nsetting this time stamp.\n\n642\n00:32:07.170 --> 00:32:09.790\nAnd so\nwe can customize the way that it works.\n\n643\n00:32:09.790 --> 00:32:16.600\nIn your configuration, if you run, service\ntimestamps, and then do a ?, you'll\n\n644\n00:32:16.600 --> 00:32:21.590\nsee you can customize the timestamps for\nthe logs, as well as the debugs.\n\n645\n00:32:21.590 --> 00:32:23.980\nWe'll see debugs in the CCNA show, but\n\n646\n00:32:23.980 --> 00:32:26.600\nhere I just need to\nmodify it from my logs.\n\n647\n00:32:26.600 --> 00:32:31.430\nAnd with the logs, you can tell it to show\nthe date and time, which is what it does\n\n648\n00:32:31.430 --> 00:32:35.270\nby default, that the alternate mode is up\ntime, which shows how many minutes and\n\n649\n00:32:35.270 --> 00:32:37.860\nseconds it's been since the router or\nswitch booted up.\n\n650\n00:32:37.860 --> 00:32:40.300\nThat's not a terribly useful\nnumber in my opinion, but\n\n651\n00:32:40.300 --> 00:32:45.920\nyou get it to show that, and then,\nyou can tell it show the local time.\n\n652\n00:32:45.920 --> 00:32:50.100\nBut if you do that,\nyou also want to add show-timezone,\n\n653\n00:32:50.100 --> 00:32:53.640\nbecause you want people to know what\ntimezone is being reflected in, whether or\n\n654\n00:32:53.640 --> 00:32:55.240\nnot due day light time and all that.\n\n655\n00:32:55.240 --> 00:33:00.865\nSo am gonna add to the end of this,\nthe local time and\n\n656\n00:33:00.865 --> 00:33:03.620\nshow-timezone.\n\n657\n00:33:03.620 --> 00:33:10.095\nSo the full command is service timestamps\nlog datetime localtime show-timezone.\n\n658\n00:33:10.095 --> 00:33:11.300\n>> [LAUGH]\n>> It's\n\n659\n00:33:11.300 --> 00:33:13.350\none of the longer commands that we type.\n\n660\n00:33:13.350 --> 00:33:17.815\nBut it's all modifying how those\ntimestamps are gonna be displayed.\n\n661\n00:33:17.815 --> 00:33:24.154\nAnd if I get out of my configuration now,\nwait for the message to pop up and now,\n\n662\n00:33:24.154 --> 00:33:29.165\nit tells me July 13th 11:53\nAM Eastern Daylight Time.\n\n663\n00:33:29.165 --> 00:33:32.675\nI can tell exactly what timezone it is,\nthe time is correct.\n\n664\n00:33:32.675 --> 00:33:35.830\nSo, as a human being I can read this and\nit makes sense.\n\n665\n00:33:35.830 --> 00:33:39.890\nBut if I feed this into security software\nthat is trying to synchronize logs,\n\n666\n00:33:39.890 --> 00:33:43.240\nit can recognize the timezone and\nadjust it back to UTC, so\n\n667\n00:33:43.240 --> 00:33:45.710\nit can synchronize everything properly.\n\n668\n00:33:45.710 --> 00:33:48.680\nSo, setting the clock is a little\nmore involved than just going in and\n\n669\n00:33:48.680 --> 00:33:49.780\nchanging the time.\n\n670\n00:33:49.780 --> 00:33:52.587\nWe normally want to go a step beyond that,\nright.\n\n671\n00:33:53.620 --> 00:33:56.880\nThe other thing is,\nwhen you set the time by hand,\n\n672\n00:33:56.880 --> 00:34:02.200\nit's really difficult to get tons of\ndevices all to have the exact same time.\n\n673\n00:34:02.200 --> 00:34:06.370\nSo you might choose these network time\nserver instead of setting it by hand.\n\n674\n00:34:06.370 --> 00:34:10.420\nAnd if you wanna do that, that's fine it's\ncompletely supported inside of the config.\n\n675\n00:34:10.420 --> 00:34:13.290\nAll we have to do is get\ninto configuration, and\n\n676\n00:34:13.290 --> 00:34:16.090\nyou're gonna use the NTP server command.\n\n677\n00:34:16.090 --> 00:34:17.790\nNTP is the Network Time Protocol.\n\n678\n00:34:17.790 --> 00:34:19.900\nYou'll say NTP server.\n\n679\n00:34:19.900 --> 00:34:23.660\nAnd then the Host name or IP address\nof a time server on your network.\n\n680\n00:34:23.660 --> 00:34:26.645\nA lot of people use some of the public\nones that are free out there like\n\n681\n00:34:26.645 --> 00:34:30.580\npool.ntp.org or\nyou might choose to set up your own.\n\n682\n00:34:30.580 --> 00:34:32.100\nYou might have your own time server.\n\n683\n00:34:32.100 --> 00:34:35.730\nBut one of the common examples I use is\nif you're in a Windows active directory\n\n684\n00:34:35.730 --> 00:34:39.480\nenvironment, every active directory\ndomain controller is a time server.\n\n685\n00:34:39.480 --> 00:34:42.580\nSo you can point your Cisco\ndevices at that domain controller.\n\n686\n00:34:42.580 --> 00:34:46.700\nAnd now, your work stations, your domain\ncontroller, your switches, your routers,\n\n687\n00:34:46.700 --> 00:34:47.820\nthey'll all have the same time.\n\n688\n00:34:47.820 --> 00:34:50.460\nIf you have Voice-over IP\nphones they can use that too.\n\n689\n00:34:50.460 --> 00:34:54.430\nAnd now the time that's displayed on phone\nwill match the time on the computer and\n\n690\n00:34:54.430 --> 00:34:57.530\nlet me tell you, in real life land\nif those two times are different,\n\n691\n00:34:57.530 --> 00:35:00.570\nyou will get employees complaining to\nyou non-stop, it's super annoying.\n\n692\n00:35:00.570 --> 00:35:02.890\nI don't know why people fixate on this so\nmuch.\n\n693\n00:35:02.890 --> 00:35:06.370\nBut if you synchronize to a time server,\nit will be the same everywhere.\n\n694\n00:35:06.370 --> 00:35:08.580\nNow everything is synchronized.\n\n695\n00:35:08.580 --> 00:35:12.400\nAll right, now we haven't configured an IP\naddress or DNS servers on this switch yet\n\n696\n00:35:12.400 --> 00:35:14.280\nso if I run that, it's gonna fail.\n\n697\n00:35:14.280 --> 00:35:16.845\nI could go ahead and\npoint it to an IP like that, and\n\n698\n00:35:16.845 --> 00:35:20.878\nnow I'll start synchronizing time, but\nI still don't have an IP address, so\n\n699\n00:35:20.878 --> 00:35:22.423\nI can't actually talk that.\n\n700\n00:35:22.423 --> 00:35:26.397\nThat's another piece of setup that we're\ngoing to need to do going forward, but\n\n701\n00:35:26.397 --> 00:35:29.050\nnow we're setup to get\na network time source.\n\n702\n00:35:29.050 --> 00:35:32.810\nAnd if we do that on all of our devices,\nthe times will be synchronized within\n\n703\n00:35:32.810 --> 00:35:36.280\nnanoseconds of each other, very, very\naccurate, great way to have your time set.\n\n704\n00:35:37.720 --> 00:35:41.930\nAll right, now that takes care of some\nof the basic security on this system and\n\n705\n00:35:41.930 --> 00:35:43.640\ngetting the clock set.\n\n706\n00:35:43.640 --> 00:35:47.370\nI have a lot more to talk about as far as\nthe initial configuration of a router or\n\n707\n00:35:47.370 --> 00:35:49.390\na switch, but\nI know I'm out of time on this episode.\n\n708\n00:35:49.390 --> 00:35:52.340\nSo, Ronnie, let's break this up and\ndo a part two on it so\n\n709\n00:35:52.340 --> 00:35:54.040\nwe can run through some\nof the other things.\n\n710\n00:35:54.040 --> 00:35:56.450\nWe need to get an IP address assigned\non this thing so it can talk,\n\n711\n00:35:56.450 --> 00:35:57.745\nas well as some other settings.\n\n712\n00:35:57.745 --> 00:35:59.770\nSo that's all going to be\ncoming up in the next part.\n\n713\n00:36:00.780 --> 00:36:04.390\n>> All right, so Don, thank you again for\nshowing us at least the basics here.\n\n714\n00:36:04.390 --> 00:36:07.220\nAnd this gives us great\npractice in the command line.\n\n715\n00:36:07.220 --> 00:36:11.030\nAnd gives us practical things that we can\ndo to ensure that when we set up a router\n\n716\n00:36:11.030 --> 00:36:14.470\nor a switch, that we have at least\nthese configurations on them.\n\n717\n00:36:14.470 --> 00:36:16.390\nGives you more time and more practice, and\n\n718\n00:36:16.390 --> 00:36:19.030\nthat's what you actually need\nwhen getting ready for that exam.\n\n719\n00:36:19.030 --> 00:36:20.900\nSo it's a great place for\nus to also end this episode.\n\n720\n00:36:20.900 --> 00:36:23.970\nAnd because there's a lot more that means\nthere's going to be a part two for us.\n\n721\n00:36:23.970 --> 00:36:28.930\nSo it's a great place for\nus again to say, hey, we're signing off.\n\n722\n00:36:28.930 --> 00:36:31.960\nFor ITProTV, I'm your host Ronnie Wong.\n\n723\n00:36:31.960 --> 00:36:32.760\n>> And I'm Don Pezet.\n\n724\n00:36:32.760 --> 00:36:34.148\n>> And we'll see you next time.\n\n725\n00:36:34.148 --> 00:36:42.830\n[MUSIC]\n\n",
          "vimeoId": "174813942"
        },
        {
          "description": "In this episode, Ronnie and Don continue with the initial device configuration using the CLI.  They demonstrate how to setup a cisco device for management not only from the console but also for remote access as well.  The guys demonstrate the access connection using password protection and telnet access.  This is configuration that is necessary for management access from across multiple networks.",
          "length": "1990",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-8-2-inital_device_configuration_pt.2-071816-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-8-2-inital_device_configuration_pt.2-071816-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-8-2-inital_device_configuration_pt.2-071816-1-sm.jpg",
          "title": "Initial Device Configuration Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.073 --> 00:00:10.073\n[MUSIC]\n\n2\n00:00:12.279 --> 00:00:15.170\nWelcome to another great\nepisode right here on ITProTV.\n\n3\n00:00:15.170 --> 00:00:19.835\nI'm your host Ronny Wong, and today\nyou're watching the CISCO CCENT show.\n\n4\n00:00:19.835 --> 00:00:23.970\nAnd we've, in the middle of a part\ntwo of initial device configuration.\n\n5\n00:00:23.970 --> 00:00:27.160\nAnd back with us to share more\ninformation's gonna be Mr. Don Pezet.\n\n6\n00:00:27.160 --> 00:00:28.160\nWelcome back to our studios, Don.\n\n7\n00:00:28.160 --> 00:00:29.590\n>> Thanks for having me back Ronny,\n\n8\n00:00:29.590 --> 00:00:31.590\nand ready to continue on\nwith our initial stuff.\n\n9\n00:00:31.590 --> 00:00:34.470\nIf you didn't watch the first episode\nwhat we're doing is we're running through\n\n10\n00:00:34.470 --> 00:00:36.640\nsome of the commands that you're\ngonna configure on routers and\n\n11\n00:00:36.640 --> 00:00:38.010\nswitches when you first get them.\n\n12\n00:00:38.010 --> 00:00:40.200\nTo get them set up to\nworking the way that we want.\n\n13\n00:00:40.200 --> 00:00:43.450\nAnd if you didn't watch episode one\nwhat we saw in the last episode\n\n14\n00:00:43.450 --> 00:00:44.280\nwas some basic stuff.\n\n15\n00:00:44.280 --> 00:00:48.290\nAssigning a host name, more importantly\nwe assigned a system clock.\n\n16\n00:00:48.290 --> 00:00:50.640\nAnd we started kinda getting the time\nconfigured on our device and\n\n17\n00:00:50.640 --> 00:00:52.060\nwe talked about how important that was.\n\n18\n00:00:52.060 --> 00:00:54.160\nAnd we through a couple of\nconvenience commands in there.\n\n19\n00:00:54.160 --> 00:00:56.200\nWell now we're gonna\ncontinue on with that and\n\n20\n00:00:56.200 --> 00:00:59.490\nhit some things that are actually\nkinda critical and important.\n\n21\n00:00:59.490 --> 00:01:05.690\nOne thing I wanna point out is we don't\nfilm all these episodes on the same day.\n\n22\n00:01:05.690 --> 00:01:08.265\nSo we actually filmed the episode\nthat you guys just watched,\n\n23\n00:01:08.265 --> 00:01:10.138\npart one probably three or four days ago.\n\n24\n00:01:10.138 --> 00:01:12.590\nAnd we turned off all the switches and\nrouters and\n\n25\n00:01:12.590 --> 00:01:14.940\nwent home for the weekend and all that.\n\n26\n00:01:14.940 --> 00:01:18.280\nAnd now that I'm back,\nI'm connected into my switch and\n\n27\n00:01:18.280 --> 00:01:19.937\nI'm noticing a little bit of\na problem with the switch.\n\n28\n00:01:19.937 --> 00:01:22.140\nAll right let me show you what I'm\ntalking about instead of just rambling.\n\n29\n00:01:22.140 --> 00:01:26.740\nSo here's the console of the switch that\nwe we're configuring in episode one.\n\n30\n00:01:26.740 --> 00:01:29.561\nAnd we configure the time on it, right?\n\n31\n00:01:29.561 --> 00:01:32.963\nWell we configured a password also so\nI guess I need to type that in.\n\n32\n00:01:32.963 --> 00:01:38.897\nBut we configure a time on it and\nif I do a show clock,\n\n33\n00:01:38.897 --> 00:01:43.425\nI can see my time is wrong again.\n\n34\n00:01:43.425 --> 00:01:44.595\nWhat the heck happened here?\n\n35\n00:01:44.595 --> 00:01:46.695\nWhy is the time wrong on my device?\n\n36\n00:01:46.695 --> 00:01:52.890\nIt thinks that it's February 28,\n1993 again and that's just not right.\n\n37\n00:01:52.890 --> 00:01:54.810\nOkay, well, two things happened.\n\n38\n00:01:54.810 --> 00:01:56.640\nOne, we turned the power off.\n\n39\n00:01:56.640 --> 00:01:59.990\nSo the switch was powered\noff over the weekend.\n\n40\n00:01:59.990 --> 00:02:02.300\nAnd that's not normally a big deal.\n\n41\n00:02:02.300 --> 00:02:05.260\nIn real life land, you don't normally\npower off equipment for long periods of\n\n42\n00:02:05.260 --> 00:02:08.100\ntime, you bought the equipment, you're\ngonna use it, so it'll stay powered on.\n\n43\n00:02:08.100 --> 00:02:10.920\nBut the other thing is this switch is,\n\n44\n00:02:10.920 --> 00:02:13.500\nit's actually just a bit\nover three years old.\n\n45\n00:02:13.500 --> 00:02:16.010\nEvery switch and every router has\na little battery inside of it and\n\n46\n00:02:16.010 --> 00:02:18.850\nthe battery is a three year battery.\n\n47\n00:02:18.850 --> 00:02:22.440\nYour router and your switch,\nthey'll run for ten years, no problem.\n\n48\n00:02:22.440 --> 00:02:26.650\nI constantly find people running Cisco\nequipment that's ten years or more old and\n\n49\n00:02:26.650 --> 00:02:30.220\nas long as you're okay with the speed cuz\na lot of it will just be faster than that\n\n50\n00:02:30.220 --> 00:02:31.660\nthen it worked perfectly fine.\n\n51\n00:02:31.660 --> 00:02:34.430\nBut those batteries go bad and\nyou don't normally notice it.\n\n52\n00:02:34.430 --> 00:02:37.290\nYou don't notice it until you power\nthe equipment off like we did and\n\n53\n00:02:37.290 --> 00:02:38.460\nleave it off for an extended period.\n\n54\n00:02:38.460 --> 00:02:39.750\nWe left it off for three days.\n\n55\n00:02:39.750 --> 00:02:42.090\nSo my time is gone.\n\n56\n00:02:42.090 --> 00:02:44.090\nSo now we gotta go and reset the time.\n\n57\n00:02:44.090 --> 00:02:46.670\nWell you might remember in the last\nepisode one other thing that we did is we\n\n58\n00:02:46.670 --> 00:02:48.150\nset up a network time server.\n\n59\n00:02:48.150 --> 00:02:51.470\nIf you have a network time server,\nthat battery doesn't really matter anymore\n\n60\n00:02:51.470 --> 00:02:54.530\nbecause when your switch or router boots\nup it's gonna reach out to the network\n\n61\n00:02:54.530 --> 00:02:55.870\ntime server and\nsay tell me the right time.\n\n62\n00:02:55.870 --> 00:02:57.520\nAnd it'll fix itself all right?\n\n63\n00:02:57.520 --> 00:03:02.760\nSo that didn't happen for me we set\na time server and it's not working.\n\n64\n00:03:02.760 --> 00:03:03.610\nAnd then why is that?\n\n65\n00:03:03.610 --> 00:03:06.850\nWell, out of all the commands\nwe saw in the last episode.\n\n66\n00:03:06.850 --> 00:03:10.890\nWe never actually assigned\nan IP address to our switch.\n\n67\n00:03:10.890 --> 00:03:13.620\nIf we have no IP address,\nwe can't talk in the IP network.\n\n68\n00:03:13.620 --> 00:03:15.898\nThat means I can't get to the time server,\nat all.\n\n69\n00:03:15.898 --> 00:03:19.090\nAnd you might've noticed that\nbecause when I set the time server,\n\n70\n00:03:19.090 --> 00:03:20.670\nI tried typing a name at first.\n\n71\n00:03:20.670 --> 00:03:22.190\nI couldn't do a DNS look up, either.\n\n72\n00:03:22.190 --> 00:03:24.530\nBecause I didn't have an IP\naddress I couldn't talk.\n\n73\n00:03:24.530 --> 00:03:27.620\n>> So I switched it to an IP but either\nway we're not able to work with that.\n\n74\n00:03:27.620 --> 00:03:29.590\nSo, let's take a look at that\nagain here on the switch.\n\n75\n00:03:29.590 --> 00:03:33.220\nI'm gonna bounce back and\nforth between a switch and a router today.\n\n76\n00:03:33.220 --> 00:03:36.140\nSo I'm gonna change my\nhostname real quick.\n\n77\n00:03:36.140 --> 00:03:38.660\nAnd I'm gonna put it back\nto the default of switch.\n\n78\n00:03:38.660 --> 00:03:41.900\nJust so I can remember which device I'm on\nand not have some crazy convoluted name.\n\n79\n00:03:41.900 --> 00:03:46.240\nSo the device that I'm on here is\njust called switch and that's it.\n\n80\n00:03:46.240 --> 00:03:49.380\nAnd if we take a look\nat the configuration.\n\n81\n00:03:51.440 --> 00:03:53.480\nIf I can spell that right.\n\n82\n00:03:53.480 --> 00:03:57.060\nIf we take a look at the configuration\nI'll see in here where my time server is\n\n83\n00:03:57.060 --> 00:03:57.770\nstill defined right.\n\n84\n00:03:57.770 --> 00:04:01.940\nHere's where we set the time zone and we\nset it to recurring and as we keep paging\n\n85\n00:04:01.940 --> 00:04:04.900\nthrough this stuff eventually in here\nwe'll find the time server right.\n\n86\n00:04:04.900 --> 00:04:06.280\nActually I might have passed it.\n\n87\n00:04:06.280 --> 00:04:10.860\nWhere we define the time server that we\nwere gonna use, no haven't passed it yet.\n\n88\n00:04:10.860 --> 00:04:12.050\nAnd we can hunt down and find it now.\n\n89\n00:04:13.060 --> 00:04:16.392\nNow remember one of the tips I mentioned\nin the last episode is, instead of me\n\n90\n00:04:16.392 --> 00:04:19.671\nhaving to hunt line by line and try and\nfind where the time servers defined,\n\n91\n00:04:19.671 --> 00:04:21.735\nsee how it turned out to\nbe the very last thing.\n\n92\n00:04:21.735 --> 00:04:23.420\n[LAUGH] There's that time server.\n\n93\n00:04:23.420 --> 00:04:26.010\nI could have done something like this,\n\n94\n00:04:26.010 --> 00:04:31.080\na show running-config, and I could've\npiped that into the include command.\n\n95\n00:04:31.080 --> 00:04:35.585\nAnd said, show me the lines, but only\ninclude lines that have the key word ntp.\n\n96\n00:04:35.585 --> 00:04:38.765\nAnd if I had done that, I would've\nimmediately saw what I wanted and\n\n97\n00:04:38.765 --> 00:04:40.175\nnot had the sift to the whole rest of it.\n\n98\n00:04:40.175 --> 00:04:42.665\nBut I am set for a time server,\nit's just not working.\n\n99\n00:04:42.665 --> 00:04:45.022\nI need an IP address to be\nable to talk on the network.\n\n100\n00:04:45.022 --> 00:04:48.585\nIf I were to try and ping 10.1.230.2, it's\ngonna fail because I don't have an IP.\n\n101\n00:04:51.305 --> 00:04:53.265\nSo let's see how we assign an IP.\n\n102\n00:04:53.265 --> 00:04:55.697\nNow to assign an IP,\nI wanna start on a router first.\n\n103\n00:04:55.697 --> 00:04:57.765\nSo Ronny,\ncan you move us over to the router?\n\n104\n00:04:57.765 --> 00:05:01.150\nOn a router, routers are designed\nto be on more than one network and\n\n105\n00:05:01.150 --> 00:05:03.550\nso they've got interfaces\nacross the back of them.\n\n106\n00:05:03.550 --> 00:05:07.070\nAnd each interface is designed\nto be on a different network.\n\n107\n00:05:07.070 --> 00:05:10.000\nSo Ronny just moved my console\nover to the router and\n\n108\n00:05:10.000 --> 00:05:12.130\nyou'll see it's trying to do\nthat initial config dialog.\n\n109\n00:05:12.130 --> 00:05:14.710\nI'm just gonna say no to that.\n\n110\n00:05:14.710 --> 00:05:17.580\nAnd on this router,\nwhat I need to do is go through and\n\n111\n00:05:17.580 --> 00:05:21.560\nassign an IP address to\nthe interfaces that I want to talk on.\n\n112\n00:05:21.560 --> 00:05:22.448\nSo on this router,\n\n113\n00:05:22.448 --> 00:05:25.845\nthe gigabit zero slash zero interface\nis plugged in to ITProTV network.\n\n114\n00:05:25.845 --> 00:05:29.931\nSo I wanna give it an IP address\non gigabit zero slash zero.\n\n115\n00:05:29.931 --> 00:05:34.960\nSo as soon as it lets me in, there we go,\nI'm gonna go ahead and enable it.\n\n116\n00:05:34.960 --> 00:05:37.070\nAnd this router's at factory default.\n\n117\n00:05:37.070 --> 00:05:39.960\nSo all the things we did in the last\nepisode I'd probably want to do here, but\n\n118\n00:05:39.960 --> 00:05:41.900\nfor the sake of time I'm not going to.\n\n119\n00:05:41.900 --> 00:05:44.850\nBut, I will do a show,\nactually I don't need to do command,\n\n120\n00:05:44.850 --> 00:05:48.230\nI'll do show ip interface brief.\n\n121\n00:05:48.230 --> 00:05:51.240\nAnd so on this router it's got\njust a handful of interfaces.\n\n122\n00:05:51.240 --> 00:05:54.370\nZero slash zero, zero slash one,\nand serial zero, zero, zero.\n\n123\n00:05:54.370 --> 00:05:55.480\nAll right?\n\n124\n00:05:55.480 --> 00:05:59.010\nNotice how GigabitEthernet0/1 and\nzero, zero,\n\n125\n00:05:59.010 --> 00:06:02.190\nzero are both administratively\ndown right now.\n\n126\n00:06:02.190 --> 00:06:07.650\nBut look at GigabitEthernet0/0,\nit's got an IP address and it's up.\n\n127\n00:06:07.650 --> 00:06:08.847\nI didn't do that.\n\n128\n00:06:08.847 --> 00:06:14.880\nWell unlike a switch routers ship with\nthe majority of their interfaces disabled.\n\n129\n00:06:14.880 --> 00:06:17.010\nOn a switch all of the interfaces\nare turned on out of the box,\n\n130\n00:06:17.010 --> 00:06:18.350\nrouters are not like that.\n\n131\n00:06:18.350 --> 00:06:22.650\nBut on most of the new routers\nthey'll take the very first port so\n\n132\n00:06:22.650 --> 00:06:25.210\nin my case that's this zero slash zero.\n\n133\n00:06:25.210 --> 00:06:29.280\nThey'll take the very first port and\nthey'll turn it on and set it up for DHCP.\n\n134\n00:06:30.410 --> 00:06:32.940\nNow, that's helpful,\ncuz you can plug in the switch and\n\n135\n00:06:32.940 --> 00:06:34.550\nimmediately get to it via the network.\n\n136\n00:06:34.550 --> 00:06:37.700\nIt's not so helpful because I don't\nnecessarily know the IP until I connect,\n\n137\n00:06:37.700 --> 00:06:39.260\nso I still need to use the console cable.\n\n138\n00:06:39.260 --> 00:06:42.300\nOr, I've gotta to go dig through my\nDHCP server and see what address we got.\n\n139\n00:06:42.300 --> 00:06:44.950\nSo I debate how helpful this is.\n\n140\n00:06:44.950 --> 00:06:47.660\nBut it booted up and\nit got a DHCP address, and\n\n141\n00:06:47.660 --> 00:06:52.780\nthat means if the router wanted to\ncontact that time server it could.\n\n142\n00:06:52.780 --> 00:06:55.100\nWell I say it could its taking,\nthere we go.\n\n143\n00:06:56.220 --> 00:06:57.800\nRemember how TCP works?\n\n144\n00:06:57.800 --> 00:07:01.592\nWell ICNP doesn't really use TCP but\nit is doing an art broadcast.\n\n145\n00:07:01.592 --> 00:07:04.290\nWe've gotta find the MAC address of\nthat node before we can talk to it.\n\n146\n00:07:04.290 --> 00:07:07.900\nSo it's sent out an art broadcast, and\nthe first two pings failed while we were\n\n147\n00:07:07.900 --> 00:07:09.390\nwaiting on that art\nbroadcast to come back.\n\n148\n00:07:09.390 --> 00:07:11.620\nAnd as soon as it came back,\nwe started succeeding.\n\n149\n00:07:11.620 --> 00:07:14.170\nSo that's why my first\ntwo failed right there.\n\n150\n00:07:14.170 --> 00:07:16.150\nBut now we're good, I can talk, and\n\n151\n00:07:16.150 --> 00:07:19.820\nI haven't done one single bit\nof configuration on this router.\n\n152\n00:07:19.820 --> 00:07:22.630\nI haven't gone into configuration mode,\nand it's already talking on the network.\n\n153\n00:07:23.780 --> 00:07:26.810\nBut the odds are we're\ngoing to want a static IP.\n\n154\n00:07:26.810 --> 00:07:30.380\nAnd so the way we do that is by going\ninto the interface and assigning it.\n\n155\n00:07:30.380 --> 00:07:31.820\nSo I'm gonna get into my configuration.\n\n156\n00:07:31.820 --> 00:07:37.450\nI'm gonna get into interface\ngigabitEthernet 0/0.\n\n157\n00:07:37.450 --> 00:07:42.317\nAnd in that interface,\nI'm gonna issue the IP address command.\n\n158\n00:07:42.317 --> 00:07:48.177\nAnd I'm gonna give it 10.1.230.242,\nand I'll give it a subnet mask.\n\n159\n00:07:48.177 --> 00:07:52.524\nAnd the subnet mask that we're using\nhere is just a standard class C, so\n\n160\n00:07:52.524 --> 00:07:55.071\nI'll do 255.255.255.0.\n\n161\n00:07:55.071 --> 00:07:56.478\nThat's the IP address.\n\n162\n00:07:56.478 --> 00:08:02.329\nNow because this is GI zero slash zero and\nthat interface is already turned on.\n\n163\n00:08:02.329 --> 00:08:04.672\nI can just run that\ncommand I'm kind of done.\n\n164\n00:08:04.672 --> 00:08:05.769\nI've got an ip now.\n\n165\n00:08:05.769 --> 00:08:12.260\nBut if this was on gi0/1 or the serial\ninterfaces, they were shut down.\n\n166\n00:08:12.260 --> 00:08:15.840\nSo I would need to do a no\nshutdown to turn the port on.\n\n167\n00:08:15.840 --> 00:08:19.600\nI don't need it on this one but I've kind\nof gotten in the habit of doing it because\n\n168\n00:08:19.600 --> 00:08:22.550\nyou don't necessarily know is this\nthe default when it's turned on or not and\n\n169\n00:08:22.550 --> 00:08:24.009\nit's just easier to issue the command.\n\n170\n00:08:25.190 --> 00:08:26.920\nBut now I've got an IP and\n\n171\n00:08:26.920 --> 00:08:32.000\nas soon as a router has an IP it's ready\nto go and can talk on that network.\n\n172\n00:08:32.000 --> 00:08:34.630\nWe're gonna talk about\nother networks later on,\n\n173\n00:08:34.630 --> 00:08:36.750\nhow do we get to networks\nbeyond this one but for\n\n174\n00:08:36.750 --> 00:08:39.780\nright now, we just have that network and\nwe're ready to communicate.\n\n175\n00:08:39.780 --> 00:08:41.990\nSo, now if I do a show IP interface brief,\n\n176\n00:08:44.210 --> 00:08:48.710\nI should see that IP address assigned and\nI can see that it was manually assigned.\n\n177\n00:08:48.710 --> 00:08:53.020\nAnd manually type that one in and\nI'm now got an IP and I can talk right.\n\n178\n00:08:53.020 --> 00:08:56.240\nThat's a critical thing we would\nnormally to our other interfaces and\n\n179\n00:08:56.240 --> 00:08:58.990\nassigned IP address as to them too.\n\n180\n00:08:58.990 --> 00:09:02.890\nNow I assigned the static\nIP I could have just as well,\n\n181\n00:09:02.890 --> 00:09:08.330\ndone a IP address dhcp, and\nnow we'll get the address dynamically.\n\n182\n00:09:08.330 --> 00:09:10.840\nBut on your network you don't\nnormally want that, we have support.\n\n183\n00:09:10.840 --> 00:09:13.760\nIf it's a WAN interface,\nmaybe you're plugging a cable modem or\n\n184\n00:09:13.760 --> 00:09:18.170\na DSL into it and you need to get a dhcp\naddress from your ISP you can do that.\n\n185\n00:09:18.170 --> 00:09:22.220\nBut on your land side you almost always\ndo statics because you don't want your\n\n186\n00:09:22.220 --> 00:09:25.590\ndefault gateways to change or\nmanagement IPs and so on.\n\n187\n00:09:25.590 --> 00:09:27.510\nAll right, so\nrouters are pretty cut and dry.\n\n188\n00:09:27.510 --> 00:09:30.350\nIf I wanna assign them an IP,\nI go into the physical interface and\n\n189\n00:09:30.350 --> 00:09:33.240\nI give them an IP address and\nnow they've got it.\n\n190\n00:09:33.240 --> 00:09:35.250\nBut let's switch back to our switch and\n\n191\n00:09:35.250 --> 00:09:37.210\nwe're gonna see something\na little different.\n\n192\n00:09:37.210 --> 00:09:40.630\nNow our switch has a lot more\nports than the router does.\n\n193\n00:09:40.630 --> 00:09:42.840\nMy router had three ports and that's it.\n\n194\n00:09:42.840 --> 00:09:45.190\nMy switch has 52 ports.\n\n195\n00:09:45.190 --> 00:09:49.250\nI've got 4800 megabit ports, I've got\nfour gigabit ports down there at the end.\n\n196\n00:09:49.250 --> 00:09:50.660\nIt's got a lot of ports.\n\n197\n00:09:50.660 --> 00:09:54.860\nSo Ronnie just moved my console over so\nnow I'm on the switch, and if I do a show\n\n198\n00:09:54.860 --> 00:10:01.470\nIP interface brief on the switch I can\nsee all those ports go rattling by.\n\n199\n00:10:01.470 --> 00:10:05.110\nAnd most of them are unset,\nthey have no address.\n\n200\n00:10:05.110 --> 00:10:07.930\nAnd they're down, but\nthey're not administratively down.\n\n201\n00:10:07.930 --> 00:10:10.660\nAdministratively down means we put\nthe shut down command in there like we\n\n202\n00:10:10.660 --> 00:10:11.680\nsaw on the router.\n\n203\n00:10:11.680 --> 00:10:14.010\nOn the switch they're down just\ncuz they're not plugged in.\n\n204\n00:10:14.010 --> 00:10:15.560\nIf I plug something in, they'll come up.\n\n205\n00:10:16.580 --> 00:10:18.710\nAnd none of them have IP addresses.\n\n206\n00:10:18.710 --> 00:10:22.460\nSo as I look at that list,\nlet's say I wanna give it an IP address,\n\n207\n00:10:22.460 --> 00:10:26.960\nwell these ports are not routed ports.\n\n208\n00:10:26.960 --> 00:10:29.340\nIn other words they're not\ndesigned to have an IP address.\n\n209\n00:10:29.340 --> 00:10:33.800\nIf I jump into my configuration,\nand I get into interface.\n\n210\n00:10:33.800 --> 00:10:40.210\nLet me do fa0/20, for example,\nI'm going to get into this interface, and\n\n211\n00:10:40.210 --> 00:10:46.300\nI'm going to say #ip address 10.1.230.243\nand a standard class C soda mask.\n\n212\n00:10:46.300 --> 00:10:47.710\nI get an error.\n\n213\n00:10:47.710 --> 00:10:51.540\nThe address part of that, see my little,\nwhat's that called, a caret?\n\n214\n00:10:51.540 --> 00:10:53.000\n>> Caret.\n>> Something like that, so\n\n215\n00:10:53.000 --> 00:10:56.080\nI get a warning telling me hey that\nthey lost me right there at this d,\n\n216\n00:10:56.080 --> 00:11:00.660\nthey were okay with IP space ad, but\nas soon as I hit that d, they lost me and\n\n217\n00:11:00.660 --> 00:11:01.950\nwhat I typed made no sense.\n\n218\n00:11:01.950 --> 00:11:04.200\nAll right,\nif you have an IP question mark,\n\n219\n00:11:04.200 --> 00:11:08.460\nyou'll see that, it was IP admission\nthat it was keying off of.\n\n220\n00:11:08.460 --> 00:11:10.230\nThere's no IP address, right?\n\n221\n00:11:10.230 --> 00:11:11.960\nI can't assign an IP address.\n\n222\n00:11:11.960 --> 00:11:14.705\nAnd that's because it's\nnot a layer three port.\n\n223\n00:11:14.705 --> 00:11:16.195\nIt's a layer two port.\n\n224\n00:11:16.195 --> 00:11:19.995\nOn a switch the layer two ports\nthey don't support IP addresses.\n\n225\n00:11:19.995 --> 00:11:24.225\nNow if it's a layer three switch, a layer\nthree switch basically has a router\n\n226\n00:11:24.225 --> 00:11:27.960\nbuilt into it right so it's able to do\nlayer three and layer two switching.\n\n227\n00:11:27.960 --> 00:11:32.200\nEven on a layer three switch though,\nyou would have to issue the command no\n\n228\n00:11:32.200 --> 00:11:36.420\nswitchport to turn off\nthe layer two functionality and\n\n229\n00:11:36.420 --> 00:11:38.550\nflip it into layer three mode, right?\n\n230\n00:11:38.550 --> 00:11:40.670\nIf I'm on a layer three switch,\nthat'll work, it did.\n\n231\n00:11:40.670 --> 00:11:42.651\nSo, apparently I'm on\na layer three switch.\n\n232\n00:11:42.651 --> 00:11:44.280\n>> [LAUGH]\n>> If I was on a layer two switch,\n\n233\n00:11:44.280 --> 00:11:49.290\nthat wouldn't work and now I would\nbasically just have a port that was dead.\n\n234\n00:11:49.290 --> 00:11:53.190\nBut now I can come in, and if I do IP ad,\nsee how now I can do an ip address?\n\n235\n00:11:53.190 --> 00:11:54.590\nAnd I can go in and I can assign it.\n\n236\n00:11:54.590 --> 00:11:58.300\nWe're gonna talk more about layer\nthree switches in the CCNA Routing and\n\n237\n00:11:58.300 --> 00:11:59.200\nSwitching show.\n\n238\n00:11:59.200 --> 00:12:02.200\nBut for this one, for CCENT,\nwe don't need to worry about it.\n\n239\n00:12:02.200 --> 00:12:05.350\nSo I'm gonna put this back to\na switchport and leave me be.\n\n240\n00:12:05.350 --> 00:12:10.420\nAll right, so if those are all layer two\nports, this switch needs an IP address.\n\n241\n00:12:10.420 --> 00:12:13.430\nIt needs an IP address so the switch\nitself can talk to the network but so\n\n242\n00:12:13.430 --> 00:12:14.530\nI can talk to the switch.\n\n243\n00:12:14.530 --> 00:12:16.660\nI want to be able to\nremotely manage the switch.\n\n244\n00:12:16.660 --> 00:12:19.300\nI don't wanna have to plug a console\ncable in every time I control it.\n\n245\n00:12:19.300 --> 00:12:24.010\nI want to be able to ssh into it and\nget a secure shell, or maybe telnet, or\n\n246\n00:12:24.010 --> 00:12:25.050\nmaybe use the web interface!\n\n247\n00:12:25.050 --> 00:12:27.340\nRight, they all have web interfaces.\n\n248\n00:12:27.340 --> 00:12:30.240\nIf I want to do that stuff the switch\nneeds to have an IP that refers to\n\n249\n00:12:30.240 --> 00:12:32.022\nthe switch itself,\nto the management plane.\n\n250\n00:12:32.022 --> 00:12:36.660\nAll right, and the way that I can\ndo that is by assigning one, but\n\n251\n00:12:36.660 --> 00:12:39.140\nnot to a physical interface.\n\n252\n00:12:39.140 --> 00:12:43.020\nWhen I did show IP interface brief,\nup at the very top,\n\n253\n00:12:43.020 --> 00:12:47.020\nyou might have noticed the very\nfirst port in the list, well,\n\n254\n00:12:47.020 --> 00:12:49.960\nnotice that it doesn't scroll\noff my screen is VLAN1.\n\n255\n00:12:51.180 --> 00:12:55.210\nI've got a virtual interface,\na fake interface that's called VLAN1.\n\n256\n00:12:55.210 --> 00:12:58.730\nThat does not correspond to a physical\nport anywhere on the switch,\n\n257\n00:12:58.730 --> 00:13:02.730\nthat's a virtual port that's floating\non the back plane of the switch.\n\n258\n00:13:02.730 --> 00:13:06.960\nAnd it is there to act like a layer three\n\n259\n00:13:06.960 --> 00:13:10.250\nport that we can assign an IP address\nto and we can remotely manage.\n\n260\n00:13:10.250 --> 00:13:14.010\nTechnically, your switch will\nhave a virtual interface, for\n\n261\n00:13:14.010 --> 00:13:15.850\nevery VLAN that's present.\n\n262\n00:13:15.850 --> 00:13:20.160\nIf I create three more VLANs,\nthen I would have a VLAN1,\n\n263\n00:13:20.160 --> 00:13:23.480\nVLAN2, VLAN3 or whatever interface\nthat were tied to those VLANs.\n\n264\n00:13:23.480 --> 00:13:26.460\nIf I create VLAN500,\nI'll have an interface called VLAN500.\n\n265\n00:13:26.460 --> 00:13:30.100\nAnd I can choose to use it or\nI can choose not to use it.\n\n266\n00:13:30.100 --> 00:13:33.430\nOn a switch these v lan interfaces\nare typically used for management.\n\n267\n00:13:33.430 --> 00:13:37.520\nOn every switch we use these for\nmanagement, so we normally just have an IP\n\n268\n00:13:37.520 --> 00:13:41.580\non v lan one, and the other v lans\nare defined, but don't have IPs.\n\n269\n00:13:41.580 --> 00:13:44.160\nOn only our three switch\nwe do routing though, and\n\n270\n00:13:44.160 --> 00:13:47.190\nthe switch is typically your default\ngateway, so every v lan will have an IP.\n\n271\n00:13:47.190 --> 00:13:51.230\nWe'll get a chance to\nsee that in a CC nation.\n\n272\n00:13:51.230 --> 00:13:54.640\nBut for VLAN1, that's were I'm\ngoing to assign my management IP.\n\n273\n00:13:54.640 --> 00:13:56.860\nIf I want this switch to get, oops-\n>> [LAUGH]\n\n274\n00:13:56.860 --> 00:13:58.010\n>> If I want this switch to be able to get\n\n275\n00:13:58.010 --> 00:13:58.870\nout the Internet for\n\n276\n00:13:58.870 --> 00:14:03.700\nexample, I'm going to need to assign\nan IP address to that interface.\n\n277\n00:14:03.700 --> 00:14:06.430\nSo, I'm gonna jump in in my configuration.\n\n278\n00:14:06.430 --> 00:14:10.870\nAnd I'm gonna do interface VLAN1, okay?\n\n279\n00:14:10.870 --> 00:14:14.970\nNow I'm in that virtual interface, and\nI'm gonna say ip address 10.1.230.243 and\n\n280\n00:14:14.970 --> 00:14:22.340\nI'll give it that class C subnet mask\nlike I did on the other ones so that I\n\n281\n00:14:22.340 --> 00:14:26.720\ncan get that assigned, and once that's in\nplace, see how that work with no problem?\n\n282\n00:14:26.720 --> 00:14:28.930\nNow, be careful here.\n\n283\n00:14:28.930 --> 00:14:30.830\nSometimes, that's all I need to do.\n\n284\n00:14:30.830 --> 00:14:35.180\nOn most switches, the VLAN one\ninterface is turned on by default, but\n\n285\n00:14:35.180 --> 00:14:38.260\nall of your other VLAN interfaces\nare typically shut down by default.\n\n286\n00:14:38.260 --> 00:14:40.940\nSo I've kind of gotten in\nthe habit of doing a no shutdown.\n\n287\n00:14:40.940 --> 00:14:42.350\nJust to be on the safe side.\n\n288\n00:14:42.350 --> 00:14:43.790\nWith VLAN1, it's not normally necessary.\n\n289\n00:14:43.790 --> 00:14:47.250\nWith every other VLAN number, it typically\nis necessary to do a no shutdown,\n\n290\n00:14:47.250 --> 00:14:49.090\notherwise the virtual interface is down.\n\n291\n00:14:49.090 --> 00:14:51.500\nYour virtual interface will always be up,\n\n292\n00:14:51.500 --> 00:14:55.140\nas long as you have at least one\nphysical port assigned to that VLAN.\n\n293\n00:14:55.140 --> 00:14:58.770\nIf I don't have any physical\nports assigned to that VLAN,\n\n294\n00:14:58.770 --> 00:15:02.700\nthen the VLAN interface will go down, and\nthat's okay cuz no ports are using it so\n\n295\n00:15:02.700 --> 00:15:04.320\nit doesn't matter anyway.\n\n296\n00:15:04.320 --> 00:15:07.720\nBut for management purposes, I need\nan IP on the switch so that it can talk.\n\n297\n00:15:07.720 --> 00:15:09.330\nI'm gonna assign it to VLAN1 and\n\n298\n00:15:09.330 --> 00:15:13.710\nI'm typically gonna have at least one\nport on VLAN1, so I'm covered there.\n\n299\n00:15:13.710 --> 00:15:14.980\nI could also have a trunk.\n\n300\n00:15:14.980 --> 00:15:16.430\nA trunk will keep this up also.\n\n301\n00:15:16.430 --> 00:15:18.210\nI don't necessarily have to\nhave a physical port assigned,\n\n302\n00:15:18.210 --> 00:15:18.990\nif there's a trunk.\n\n303\n00:15:18.990 --> 00:15:20.280\nI'll at least know the VLAN is active.\n\n304\n00:15:21.420 --> 00:15:24.100\nAll right, now that I've got that\nIP I should be able to talk to\n\n305\n00:15:24.100 --> 00:15:25.420\nthe network, right?\n\n306\n00:15:25.420 --> 00:15:27.360\nIf I do a show IP interface brief\n\n307\n00:15:28.870 --> 00:15:32.110\nI can see that IP assigned\nright there at the top.\n\n308\n00:15:32.110 --> 00:15:34.960\nSo I do have that ip assigned\njust like on the router.\n\n309\n00:15:34.960 --> 00:15:40.640\nAnd if I do a ping to somebody\non the network I can now ping.\n\n310\n00:15:40.640 --> 00:15:44.850\nAll right so that time server\nthat's on my network 10.1.230.2 or\n\n311\n00:15:44.850 --> 00:15:46.040\nwhoever I sent it to.\n\n312\n00:15:46.040 --> 00:15:50.130\nNow, I'll be able to get to it and other\nnetwork functionality is gonna work too.\n\n313\n00:15:50.130 --> 00:15:52.910\nThings like, setting up DNS.\n\n314\n00:15:52.910 --> 00:15:54.900\nWell actually you know I do\nstill have a slight problem.\n\n315\n00:15:54.900 --> 00:15:57.037\nLet's say I wanna set up DNS to work,\nright?\n\n316\n00:15:57.037 --> 00:16:00.231\nBecause right now if I get in\na configuration and I say,\n\n317\n00:16:00.231 --> 00:16:01.978\nntp server Pool.ntp.org.\n\n318\n00:16:01.978 --> 00:16:02.596\nAll right.\n\n319\n00:16:02.596 --> 00:16:03.704\nThat's gonna fail.\n\n320\n00:16:03.704 --> 00:16:07.760\nIt's failing because I don't\nhave any DNS servers to find.\n\n321\n00:16:07.760 --> 00:16:08.320\nRight.\n\n322\n00:16:08.320 --> 00:16:11.070\nAnd even if I did have them to find,\nI can't get to them.\n\n323\n00:16:11.070 --> 00:16:13.970\nSo for example, let's say I want\nto use Google's DNS servers.\n\n324\n00:16:13.970 --> 00:16:22.470\nI could come in here and\nI could say IP name-server.\n\n325\n00:16:22.470 --> 00:16:26.950\nAnd uploading Google Xena server,\nalright same thing on a router right?\n\n326\n00:16:26.950 --> 00:16:30.780\nSo what I just did that v-lan\ninterface that is on a switch.\n\n327\n00:16:30.780 --> 00:16:32.770\nOn a router it would be on\na physical interface but\n\n328\n00:16:32.770 --> 00:16:35.930\neverything else we are going to do on this\nshow is the same on switches and routers.\n\n329\n00:16:35.930 --> 00:16:38.000\nSo I am going to dns server set so\n\n330\n00:16:38.000 --> 00:16:43.860\nnow if I say ntp server pool dot ntp\ndot org that should work shouldn't it?\n\n331\n00:16:43.860 --> 00:16:48.670\nWell, no because I can't get to 8.8.8.8.\n\n332\n00:16:48.670 --> 00:16:50.700\nI can't get there.\n\n333\n00:16:50.700 --> 00:16:54.090\nBecause, 8.8.8 is on\na different network than me.\n\n334\n00:16:54.090 --> 00:16:54.920\nI'm on the 10.1.230 network.\n\n335\n00:16:54.920 --> 00:16:57.750\nSo, I need to go through a router.\n\n336\n00:16:57.750 --> 00:16:59.630\nBut I don't know what\nrouter to go through.\n\n337\n00:16:59.630 --> 00:17:02.410\nIf I was a router, well,\nthe router would know.\n\n338\n00:17:02.410 --> 00:17:04.170\nThe router would have routes to get there.\n\n339\n00:17:04.170 --> 00:17:05.280\nBut I'm a switch.\n\n340\n00:17:05.280 --> 00:17:07.780\nAnd as a switch,\nI don't know how to get there.\n\n341\n00:17:07.780 --> 00:17:13.250\nSo what my switch needs is the same\nthing a PC or a laptop, a tablet needs.\n\n342\n00:17:13.250 --> 00:17:18.500\nThey need an IP, they need a subnet\nmask and they need a default gateway.\n\n343\n00:17:18.500 --> 00:17:20.020\nI don't have a default gateway.\n\n344\n00:17:20.020 --> 00:17:23.680\nNow this is a tricky one,\nit's hard to remember for the exam.\n\n345\n00:17:23.680 --> 00:17:26.510\nWhen I assigned an IP,\nI went into the VLAN interface.\n\n346\n00:17:26.510 --> 00:17:28.980\nAnd I assigned an IP and\nthat's cuz I could have a different IP for\n\n347\n00:17:28.980 --> 00:17:30.640\neach VLAN if I want.\n\n348\n00:17:30.640 --> 00:17:33.540\nBut I can only have one default gateway.\n\n349\n00:17:33.540 --> 00:17:35.220\nThere's only one default I can go to.\n\n350\n00:17:35.220 --> 00:17:38.450\nIf I have more than one default,\nwhich is the default of the defaults?\n\n351\n00:17:38.450 --> 00:17:39.040\nRight?\nWe don't know.\n\n352\n00:17:39.040 --> 00:17:40.670\nSo you can only have one default gateway.\n\n353\n00:17:40.670 --> 00:17:44.920\nAnd so as a result, you configure\nthis one in the global configuration.\n\n354\n00:17:44.920 --> 00:17:49.190\nNot inside a VLAN one, not inside any\nother VLAN, but right here from global.\n\n355\n00:17:49.190 --> 00:17:53.959\nWe can come in and\nwe can say: IP, default gateway,\n\n356\n00:17:53.959 --> 00:17:56.240\nand then the address of that gateway.\n\n357\n00:17:56.240 --> 00:18:00.520\nAnd so I'm going to punch in,\nwhat was our default gateway?\n\n358\n00:18:00.520 --> 00:18:01.178\nIs it that one?\n>> Mm-hm.\n\n359\n00:18:01.178 --> 00:18:02.575\n>> 10.1.230.1\n>> Helps if you know your default gateway.\n\n360\n00:18:02.575 --> 00:18:03.605\nAll right.\n\n361\n00:18:03.605 --> 00:18:07.525\nSo now, I just plugged in that IP which\nis a firewall here in the building.\n\n362\n00:18:07.525 --> 00:18:11.275\nSo we can get to it and\nget out to the internet.\n\n363\n00:18:11.275 --> 00:18:12.835\nSo, if I do a ping to 8.8.8.8.\n\n364\n00:18:12.835 --> 00:18:16.585\nNow, I can ping out to the internet.\n\n365\n00:18:16.585 --> 00:18:21.160\nRight?\nI had an IP address, a subnet mask and\n\n366\n00:18:21.160 --> 00:18:24.526\nin default gateway,and even better\nif I get back in configuration.\n\n367\n00:18:24.526 --> 00:18:29.830\nI should be able to say ntp\nserver pool.in.ntp.org and\n\n368\n00:18:29.830 --> 00:18:32.927\nthis time it should be able\nto do that dnsl couplet.\n\n369\n00:18:32.927 --> 00:18:37.230\nI forgot something, all right so\nI defined a name lookup server,\n\n370\n00:18:37.230 --> 00:18:40.060\nright, if I look in my running config.\n\n371\n00:18:40.060 --> 00:18:45.190\nAnd I'm gonna filter that with\nthe include command to just look for\n\n372\n00:18:45.190 --> 00:18:47.690\nanything with the word name in it, right?\n\n373\n00:18:47.690 --> 00:18:51.750\nSo, I'm gonna filter that down,\nthere we go and\n\n374\n00:18:51.750 --> 00:18:55.885\nso I defined a name server right here so\nthat I can do name lookups.\n\n375\n00:18:57.485 --> 00:19:02.085\nBut, let me just change that a little bit\nand look for anything with domain in it.\n\n376\n00:19:02.085 --> 00:19:04.941\nI showed you guys how I\nlike to disable domain look\n\n377\n00:19:06.002 --> 00:19:08.512\nbecause of the delay it causes\nwhen it can't do a lookup.\n\n378\n00:19:08.512 --> 00:19:11.172\nWell now I can talk to the network and\n\n379\n00:19:11.172 --> 00:19:14.612\nI've got a valid DNS server,\nit's okay to turn that back on.\n\n380\n00:19:14.612 --> 00:19:19.562\nSo I just need to issue a ip domain-lookup\nand now I'll be able to do those domain\n\n381\n00:19:19.562 --> 00:19:23.132\nlookups, or at least I think I will so\nlet's test that out.\n\n382\n00:19:23.132 --> 00:19:25.644\nI'll do ntp server pool.ntp.org.\n\n383\n00:19:26.760 --> 00:19:28.000\nAnd there we go.\n\n384\n00:19:28.000 --> 00:19:31.330\nTranslates it and\nit's able to find out what the IP is.\n\n385\n00:19:31.330 --> 00:19:34.820\nIt doesn't show me what the IP is,\nit shows me the IP of my DNS server.\n\n386\n00:19:34.820 --> 00:19:37.040\nBut it says,\nit was okay I was able to do the look up.\n\n387\n00:19:37.040 --> 00:19:42.530\nAnd if I take a look at my running config,\nI'll just abbreviate that this time and\n\n388\n00:19:42.530 --> 00:19:44.620\nI'm gonna include NTP.\n\n389\n00:19:44.620 --> 00:19:46.990\nWhen I look at it, there it is.\n\n390\n00:19:46.990 --> 00:19:48.310\nIt pulled this external IP.\n\n391\n00:19:48.310 --> 00:19:50.110\nNow I do still have my other NTP server,\n\n392\n00:19:50.110 --> 00:19:52.860\nwhich I don't think\nactually is an NTP server,\n\n393\n00:19:52.860 --> 00:19:56.730\nso let me just get rid of that one, so\nI'll do a no and I'll knock that one out.\n\n394\n00:19:56.730 --> 00:19:57.860\nAll right.\n\n395\n00:19:57.860 --> 00:19:59.520\nBut now I've got a time server.\n\n396\n00:19:59.520 --> 00:20:03.530\nSo even if I don't have a good\nbattery in my switch, if it reboots,\n\n397\n00:20:03.530 --> 00:20:07.380\nif it loses power for a long period\nof time and the battery is dead.\n\n398\n00:20:07.380 --> 00:20:10.490\nAs soon as it boots up it will\nreach out to that time server and\n\n399\n00:20:10.490 --> 00:20:11.880\nit will set its time.\n\n400\n00:20:11.880 --> 00:20:14.270\nSo the time was way wrong at\nthe beginning of the show.\n\n401\n00:20:14.270 --> 00:20:18.370\nIf I do a show clock now,\nit's got me Monday, July 18,\n\n402\n00:20:18.370 --> 00:20:21.960\n2016 at 10:00 AM Eastern Daylight Time.\n\n403\n00:20:21.960 --> 00:20:24.260\nEverything set right and\nI didn't have to do it.\n\n404\n00:20:24.260 --> 00:20:27.190\nHaving an NTP server is really\nvaluable being able to.\n\n405\n00:20:27.190 --> 00:20:28.340\nTalk to the NTP servers,\n>> [LAUGH]\n\n406\n00:20:28.340 --> 00:20:29.690\n>> Even more valuable,\n\n407\n00:20:29.690 --> 00:20:31.000\nin order to get that working.\n\n408\n00:20:31.000 --> 00:20:32.960\nSo that's going to solve\nthat problem right there.\n\n409\n00:20:32.960 --> 00:20:37.420\nWe now have an IP address, and\nwe've got our time setting.\n\n410\n00:20:37.420 --> 00:20:39.060\nWe've got DNS working properly, too.\n\n411\n00:20:39.060 --> 00:20:40.450\nSo now I can test really anything.\n\n412\n00:20:40.450 --> 00:20:44.510\nIf I want to test ping itpro.tv,\nit can resolve that.\n\n413\n00:20:44.510 --> 00:20:46.230\nAnd so\nI get the IP address of our web site.\n\n414\n00:20:46.230 --> 00:20:49.690\nAnd we can test with pings and traceroute\nand all the other things that we want.\n\n415\n00:20:49.690 --> 00:20:50.790\nThose are now set.\n\n416\n00:20:51.920 --> 00:20:57.260\nSo, we're pretty good there, and\nthat's pretty much that one.\n\n417\n00:20:57.260 --> 00:20:59.220\nI do want to mention a few other things.\n\n418\n00:20:59.220 --> 00:21:01.900\nWhat I normally configure at\nthis point is connectivity.\n\n419\n00:21:01.900 --> 00:21:04.890\nI want to be able to remotely connect to\nthis device instead of using the console\n\n420\n00:21:04.890 --> 00:21:06.370\ncable like I'm using now.\n\n421\n00:21:06.370 --> 00:21:10.690\nThere's three ways to get connected\nto a Cisco device via the network.\n\n422\n00:21:10.690 --> 00:21:13.200\nThe first way Is using the console cable.\n\n423\n00:21:13.200 --> 00:21:14.470\nAll right?\nWhich is what I've been doing this\n\n424\n00:21:14.470 --> 00:21:15.020\nshow so far.\n\n425\n00:21:15.020 --> 00:21:17.550\nIt's great if you've got physical\nproximity to your equipment, but\n\n426\n00:21:17.550 --> 00:21:19.420\neven when you're in the same building,\n\n427\n00:21:19.420 --> 00:21:21.330\nthe equipment's usually in\nsome network closet somewhere.\n\n428\n00:21:21.330 --> 00:21:22.280\nAnd you don't want to have to go there.\n\n429\n00:21:22.280 --> 00:21:23.730\nYou wanna be able to sit at your desk and\ndo it.\n\n430\n00:21:23.730 --> 00:21:25.480\nSo that's not the greatest way.\n\n431\n00:21:25.480 --> 00:21:27.620\nAnother way is the web interface.\n\n432\n00:21:27.620 --> 00:21:29.710\nEvery switch and\nrouter has a web interface.\n\n433\n00:21:29.710 --> 00:21:32.920\nIt might be turned off, but you can\nturn it on and there's a web interface.\n\n434\n00:21:32.920 --> 00:21:37.130\nIt's not very user friendly\nit's pretty simplistic but\n\n435\n00:21:37.130 --> 00:21:39.460\nit is there and\nyou could technically use it.\n\n436\n00:21:39.460 --> 00:21:42.230\nBut you probably won't,\nyou'll probably turn it off.\n\n437\n00:21:42.230 --> 00:21:46.055\nAnd then the third way is\nwe can use Shell access.\n\n438\n00:21:46.055 --> 00:21:49.475\nAnd there's Telnet and SSH,\nwhich are effectively the same thing.\n\n439\n00:21:49.475 --> 00:21:50.835\nThe difference is encryption.\n\n440\n00:21:50.835 --> 00:21:54.165\nTelnet is unencrypted over the network,\nbut you can connect to the switch and\n\n441\n00:21:54.165 --> 00:21:57.385\naccess the command line, or\nthe router and access the command line.\n\n442\n00:21:57.385 --> 00:21:58.537\nSSH, same thing.\n\n443\n00:21:58.537 --> 00:22:01.167\nYou can come over the network and\nyou can access the command line.\n\n444\n00:22:01.167 --> 00:22:03.247\nBut everything you do is fully encrypted.\n\n445\n00:22:03.247 --> 00:22:05.847\nAnd so, the official stance from Cisco is,\n\n446\n00:22:05.847 --> 00:22:09.987\nthe number one best way to connect\nto your equipment is with SSH.\n\n447\n00:22:09.987 --> 00:22:14.950\nDon't use a web interface, don't use\ntelnet, just use SSH I guess there is\n\n448\n00:22:14.950 --> 00:22:18.040\na fourth way that's probably worth\nmentioning which is the ASDM, no the SDM.\n\n449\n00:22:18.040 --> 00:22:22.980\nAnd the Cisco Configuration,\nwhat is it Cisco Configuration Manager?\n\n450\n00:22:22.980 --> 00:22:23.710\n>> Professional.\n\n451\n00:22:23.710 --> 00:22:26.680\n>> Cisco configuration professional, CCP.\n\n452\n00:22:26.680 --> 00:22:29.200\nSo, The STM and the CCP.\n\n453\n00:22:29.200 --> 00:22:34.320\nI'm not a big fan of either,\nI really never use them ever except\n\n454\n00:22:34.320 --> 00:22:37.150\noccasionally to show people and\nexplain why I don't use them.\n\n455\n00:22:37.150 --> 00:22:41.815\nBut the STM, it's the switch\n>> [CROSSTALK] Security\n\n456\n00:22:41.815 --> 00:22:43.350\n>> Security device manager?\n\n457\n00:22:43.350 --> 00:22:43.850\n>> Device manager.\n\n458\n00:22:44.890 --> 00:22:46.890\n>> It's called a security device\nmanager but it works on routers and\n\n459\n00:22:46.890 --> 00:22:47.630\nswitches tutors.\n\n460\n00:22:47.630 --> 00:22:51.760\nThe ASDM which for the ASA In the SDM\nwhich is for routers and switches.\n\n461\n00:22:51.760 --> 00:22:54.770\nIt's a job application that\nyou can run on your desktop.\n\n462\n00:22:54.770 --> 00:22:57.060\nAnd the CISCO configuration professional,\nsame thing.\n\n463\n00:22:57.060 --> 00:22:59.910\nIt's a job application,\nit's really the same application.\n\n464\n00:22:59.910 --> 00:23:04.090\nThe difference is the SDM is\ndefined to connect to one system,\n\n465\n00:23:04.090 --> 00:23:06.350\nthe CCP is designed to connect to many.\n\n466\n00:23:06.350 --> 00:23:08.145\nI think it's ten is the limit?\n\n467\n00:23:08.145 --> 00:23:09.364\n>> Yeah that sounds right.\n\n468\n00:23:09.364 --> 00:23:11.480\n[LAUGH]\n>> Pretty sure it's got a limit of ten.\n\n469\n00:23:11.480 --> 00:23:14.360\nBut, if you're in a small environment\nthese are supposed to be easy to\n\n470\n00:23:14.360 --> 00:23:17.020\nuse interfaces, but I'll tell you guys,\nthey're written in Java,\n\n471\n00:23:17.020 --> 00:23:18.660\nwhich means they're slow, right?\n\n472\n00:23:18.660 --> 00:23:20.530\nJava is extremely slow.\n\n473\n00:23:20.530 --> 00:23:25.660\nNormally people write in Java because you\ncan then run on Windows or Mac or Linux,\n\n474\n00:23:25.660 --> 00:23:28.470\nbut these are Windows only even though\nthey're written in Java, and they're slow,\n\n475\n00:23:28.470 --> 00:23:32.490\nand they're super flaky, and a lot of time\nCisco doesn't keep them up to date with\n\n476\n00:23:32.490 --> 00:23:35.140\nthe latest version of Java, so you end up\nhaving to run an older version of Java,\n\n477\n00:23:35.140 --> 00:23:37.125\nwhich makes your computer not secure.\n\n478\n00:23:37.125 --> 00:23:40.745\nSo even Cisco doesn't\npush very hard on those.\n\n479\n00:23:40.745 --> 00:23:42.395\nThey used to be on the exam.\n\n480\n00:23:42.395 --> 00:23:43.895\nThey're not even on the exam anymore.\n\n481\n00:23:43.895 --> 00:23:47.885\nSo I'm not gonna tackle those, but\njust be aware that there are some GUI's,\n\n482\n00:23:47.885 --> 00:23:50.335\nGraphical User Interfaces available for\nrouters and switches.\n\n483\n00:23:50.335 --> 00:23:52.540\nThey're just terrible and\nyou don't wanna use them.\n\n484\n00:23:52.540 --> 00:23:55.665\nAll right, so\nafter that we've seen console.\n\n485\n00:23:55.665 --> 00:23:58.912\nThat leaves the web interface and\nthe SSH Internet.\n\n486\n00:23:58.912 --> 00:24:02.162\nBoth of those require us to have an IP\naddress assigned, which we just did.\n\n487\n00:24:02.162 --> 00:24:04.762\nSo now that I've got an IP address,\nin theory,\n\n488\n00:24:04.762 --> 00:24:07.920\nI could start to use telnet in SSH and\nthe web interface.\n\n489\n00:24:07.920 --> 00:24:10.218\nAll right, but there's a few things that\nI'll probably have to do ahead of time.\n\n490\n00:24:10.218 --> 00:24:15.470\nRight, let's see if I'm even able to get\ninto the web interface on this switch.\n\n491\n00:24:15.470 --> 00:24:19.300\nSo I assigned it an IP address, and\nI imagine it is disabled by default.\n\n492\n00:24:19.300 --> 00:24:21.290\nI'm gonna fire up a web browser and\njust try and\n\n493\n00:24:21.290 --> 00:24:24.740\nbrowse to that switch's IP address, okay?\n\n494\n00:24:24.740 --> 00:24:28.728\nIf you get a prompt for a username and\na password, then it's set up.\n\n495\n00:24:28.728 --> 00:24:31.850\nRight, and so it's set up for a web\ninterface, and I don't have a username,\n\n496\n00:24:31.850 --> 00:24:33.670\nwe just have the enable\npassword that we've been doing.\n\n497\n00:24:33.670 --> 00:24:37.320\nSo I'm gonna punch in cisco123,\nand I'm gonna log in.\n\n498\n00:24:37.320 --> 00:24:40.760\nAnd here it is, the blazing,\namazing web interface for the switch.\n\n499\n00:24:40.760 --> 00:24:42.780\nAll right,\ncouple of challenges that we've got.\n\n500\n00:24:42.780 --> 00:24:45.030\nFirst off, I did this unsecure.\n\n501\n00:24:45.030 --> 00:24:48.710\nI connected with regular HTTP,\nand I just sent\n\n502\n00:24:48.710 --> 00:24:52.270\nmy enable password right over the network\nunencrypted, so that's not very good.\n\n503\n00:24:52.270 --> 00:24:55.290\nI probably want to use SSL instead, right?\n\n504\n00:24:55.290 --> 00:24:58.810\nBut it was turned on for HTTP for default,\nso I've kind of made myself vulnerable,\n\n505\n00:24:58.810 --> 00:25:00.000\nI need to fix that.\n\n506\n00:25:00.000 --> 00:25:03.540\nThe other thing is once you're in you\nwill notice this web interface is not\n\n507\n00:25:03.540 --> 00:25:05.680\nall that spectacular, right?\n\n508\n00:25:05.680 --> 00:25:06.980\nIt's got an option to\ntelnet to the router.\n\n509\n00:25:06.980 --> 00:25:09.220\nThat actually doesn't work in any\nmodern web browser anymore, so\n\n510\n00:25:09.220 --> 00:25:10.480\nthat's effectively broken.\n\n511\n00:25:10.480 --> 00:25:13.665\nWe've got show interfaces, a few other\nthings, or we've got the Web Console.\n\n512\n00:25:13.665 --> 00:25:18.783\nSome switches, like the 3750,\nhave a beautiful console you can get to.\n\n513\n00:25:18.783 --> 00:25:22.099\nIt shows you a picture of the switch and\nall of the interfaces light up to show you\n\n514\n00:25:22.099 --> 00:25:24.540\nwhich ones have a link in them,\nwhich ones don't.\n\n515\n00:25:24.540 --> 00:25:27.530\nYou can click on them and\nassign a VLAN, it's beautiful, right?\n\n516\n00:25:27.530 --> 00:25:31.670\nThe big switches, the 4500s and\n6500s, they don't have that.\n\n517\n00:25:31.670 --> 00:25:33.480\nThe low end switches,\nthey don't have it either.\n\n518\n00:25:33.480 --> 00:25:35.740\nSo it's only a couple of\nswitches that have that.\n\n519\n00:25:35.740 --> 00:25:39.530\nSo most of them you click on this web\nconsole, and you get 404 Not Found, right.\n\n520\n00:25:39.530 --> 00:25:42.400\nSo this web interface is\nnot that terribly useful.\n\n521\n00:25:42.400 --> 00:25:44.790\nBut you can do things\nlike show interfaces, and\n\n522\n00:25:44.790 --> 00:25:46.780\nit'll give you the show interface output.\n\n523\n00:25:46.780 --> 00:25:50.050\nYou can do the show diagnostic log for\ntech support,\n\n524\n00:25:50.050 --> 00:25:51.960\nyou can monitor performance on a router.\n\n525\n00:25:51.960 --> 00:25:54.440\nYou can also access the command line.\n\n526\n00:25:54.440 --> 00:25:58.280\nAnd so\nI can jump into the command line and\n\n527\n00:25:58.280 --> 00:26:01.340\nI can issue commands like show version.\n\n528\n00:26:03.278 --> 00:26:07.400\nAnd it's gonna execute that command and\nthen show me the output right here.\n\n529\n00:26:07.400 --> 00:26:10.850\nSo we're able to actually interact\nwith the device to some degree.\n\n530\n00:26:10.850 --> 00:26:15.100\nIf I want to do a show interface, or\nshow IP interface brief, I can do that.\n\n531\n00:26:15.100 --> 00:26:16.070\nAnd I can see it.\n\n532\n00:26:16.070 --> 00:26:20.470\nSo I'm effectively in the CLI, but\ndoing it through my web browser.\n\n533\n00:26:20.470 --> 00:26:23.300\nSo it's not the greatest solution in\nthe planet, but it certainly does work and\n\n534\n00:26:23.300 --> 00:26:24.710\nit's certainly there.\n\n535\n00:26:24.710 --> 00:26:27.290\nAgain, I'll be honest with you guys,\nin real life I normally disable this.\n\n536\n00:26:27.290 --> 00:26:29.940\nI don't want the web interface running\nbecause it's really just increasing my\n\n537\n00:26:29.940 --> 00:26:30.860\nattack surface, right?\n\n538\n00:26:30.860 --> 00:26:32.040\nIt's one more thing to worry about.\n\n539\n00:26:32.040 --> 00:26:33.170\nSo you might want to turn that off.\n\n540\n00:26:33.170 --> 00:26:36.330\nIf you're gonna keep it on,\nyou do need to configure SSL for it.\n\n541\n00:26:36.330 --> 00:26:39.820\nAnd I'm pretty sure that\nis not on by default, yeah.\n\n542\n00:26:39.820 --> 00:26:44.152\nSo if I try and get to it, actually,\nI'm getting a cypher mismatch on this one.\n\n543\n00:26:44.152 --> 00:26:49.440\nSo some of the modern web browsers\nblock older versions of SSL.\n\n544\n00:26:49.440 --> 00:26:52.420\nAnd some of the Cisco switches haven't\nbeen updated to do the newer versions.\n\n545\n00:26:52.420 --> 00:26:53.960\nThe latest switches do it.\n\n546\n00:26:53.960 --> 00:26:54.700\nSome of the older ones,\n\n547\n00:26:54.700 --> 00:26:56.810\nif you've got one that's a few years old,\nmight not be able to.\n\n548\n00:26:56.810 --> 00:26:59.260\nSo you need to go and do a firmware\nupdate, I'm probably out of date on mine.\n\n549\n00:27:00.340 --> 00:27:02.560\nAll right, so those are all\nchallenges with the web interface.\n\n550\n00:27:02.560 --> 00:27:05.860\nAnd again, another reason why we don't\nuse that as our primary interface.\n\n551\n00:27:05.860 --> 00:27:09.280\nAnd instead, we'll use SSH, all right?\n\n552\n00:27:09.280 --> 00:27:10.970\nSo what I'm gonna do is on my switch,\n\n553\n00:27:10.970 --> 00:27:14.028\nthere's two commands that help\nus to tailor that web interface.\n\n554\n00:27:14.028 --> 00:27:18.547\nI'm gonna get in my configuration,\nand what I can issue here is, well,\n\n555\n00:27:18.547 --> 00:27:21.840\nif you take a look at the running config.\n\n556\n00:27:21.840 --> 00:27:25.480\nAnd you look for anything in http in it,\nyou'll see two commands, right?\n\n557\n00:27:25.480 --> 00:27:31.270\nOne is ip http server and the other\nip http secure-server, all right.\n\n558\n00:27:31.270 --> 00:27:38.190\nIf I want to be SSL only,\nI can just say no ip http server.\n\n559\n00:27:38.190 --> 00:27:42.020\nAnd that's gonna leave the secure\nserver and turn off the non-secure.\n\n560\n00:27:42.020 --> 00:27:45.910\nSo now I will only accept SSL,\nand I won't accept unencrypted.\n\n561\n00:27:45.910 --> 00:27:46.980\nThat's a good idea.\n\n562\n00:27:46.980 --> 00:27:48.681\nIf you're gonna keep that web interface,\n\n563\n00:27:48.681 --> 00:27:50.483\nthat's the minimum thing\nthat you wanna do.\n\n564\n00:27:50.483 --> 00:27:54.626\nIf you wanna get rid of\nthe whole thing though,\n\n565\n00:27:54.626 --> 00:27:58.567\nthen you can say no ip http secure-server.\n\n566\n00:27:58.567 --> 00:28:03.660\nWhoops, and if you can get the command,\nand now http is completely disabled.\n\n567\n00:28:03.660 --> 00:28:05.880\nThere's no web interface\non the switch anymore.\n\n568\n00:28:05.880 --> 00:28:06.806\nAnd that's what I normally do.\n\n569\n00:28:06.806 --> 00:28:12.303\nIf you want to run this, I do encourage\nyou to watch our CCNA Security show.\n\n570\n00:28:12.303 --> 00:28:16.030\nCuz in there we show how to assign\nACLs to really control who's able to\n\n571\n00:28:16.030 --> 00:28:16.990\naccess the website.\n\n572\n00:28:16.990 --> 00:28:20.170\nSo you can stop unauthorized people\nfrom even being able to get to the site.\n\n573\n00:28:20.170 --> 00:28:23.540\nIt's a little bit beyond what CCNT covers,\nso I don't want to tackle it here.\n\n574\n00:28:23.540 --> 00:28:26.400\nBut just know that it's very easy to\ndisable this, and now it's not a problem.\n\n575\n00:28:26.400 --> 00:28:29.260\nSo that's what I've just done,\nI've turned off the web server entirely.\n\n576\n00:28:29.260 --> 00:28:34.500\nAnd so if I were to fire up a browser now,\nand I were to browse to that IP address,\n\n577\n00:28:35.840 --> 00:28:42.015\nand even if I were to do it unsecurely,\nwhen I browse to it, page isn't working.\n\n578\n00:28:42.015 --> 00:28:44.135\nDidn't send any data, empty response.\n\n579\n00:28:44.135 --> 00:28:46.615\nI'm not able to get to that page, right?\n\n580\n00:28:46.615 --> 00:28:50.695\nSo now I'm a little more secure cuz I'm\nnot running that web interface, okay.\n\n581\n00:28:50.695 --> 00:28:54.951\nAnd what that leaves us with\nis console and telnet or SSH.\n\n582\n00:28:54.951 --> 00:28:58.246\nAll right, now,\ntelnet is the old way of connecting but\n\n583\n00:28:58.246 --> 00:29:00.085\nyou can still do it if you want.\n\n584\n00:29:00.085 --> 00:29:01.895\nIf you have older equipment,\nyou might need to use that, or\n\n585\n00:29:01.895 --> 00:29:03.700\nif you have some specific reason.\n\n586\n00:29:03.700 --> 00:29:07.750\nBut in real life land,\nyou typically don't want to use telnet, so\n\n587\n00:29:07.750 --> 00:29:09.370\nwe'll probably want to disable that.\n\n588\n00:29:09.370 --> 00:29:10.590\nYou don't have to, but you certainly can.\n\n589\n00:29:11.810 --> 00:29:15.226\nIf we want to use SSH,\nSSH actually works really well,\n\n590\n00:29:15.226 --> 00:29:20.300\nexcept it's got one requirement\nthat's gonna cause us a problem.\n\n591\n00:29:20.300 --> 00:29:23.050\nSSH is not turned on on\ndefault on my equipment\n\n592\n00:29:23.050 --> 00:29:27.480\nbecause right now my equipment\nonly has a password.\n\n593\n00:29:27.480 --> 00:29:30.970\nSSH requires a username and a password.\n\n594\n00:29:30.970 --> 00:29:33.510\nIf I get out of this,\nlet me get out of here.\n\n595\n00:29:33.510 --> 00:29:38.470\nWhen I first go to the console, there's\nno username and password at all, right?\n\n596\n00:29:38.470 --> 00:29:42.460\nAnd then when I enable, it only asks\nme for a password, it never asks for\n\n597\n00:29:42.460 --> 00:29:43.780\na username.\n\n598\n00:29:43.780 --> 00:29:47.750\nAnd because it never asks for\na username, SSH is not working.\n\n599\n00:29:47.750 --> 00:29:53.240\nSo even though my system might support\nSSH, right, so I did show ip ssh,\n\n600\n00:29:53.240 --> 00:29:57.480\nand I can see ssh is enabled,\nI'm running version 1.99, right?\n\n601\n00:29:57.480 --> 00:29:59.812\nSo even though I support SSH,\nit's not gonna work,\n\n602\n00:29:59.812 --> 00:30:02.680\ncuz I don't have the right username and\npassword.\n\n603\n00:30:02.680 --> 00:30:05.441\nAnd this might actually show up on\nthe exam, so let me mention it.\n\n604\n00:30:05.441 --> 00:30:09.808\nVersion 1.99, if you're familiar with SSH,\nyou probably know that there's SSH version\n\n605\n00:30:09.808 --> 00:30:12.113\n1 and version 2, and\nthat there is no 1.99.\n\n606\n00:30:12.113 --> 00:30:14.238\n>> [LAUGH]\n>> So, what the heck is this?\n\n607\n00:30:14.238 --> 00:30:18.637\nWell, it's actually in\nthe SSH standard that if your\n\n608\n00:30:18.637 --> 00:30:22.939\ndevice supports both SSH version 1 and\nversion 2,\n\n609\n00:30:22.939 --> 00:30:26.867\nthen you have to show\nyour version as 1.99.\n\n610\n00:30:26.867 --> 00:30:30.069\nAnd that's how devices are able to\nrecognize and support version 1 and\n\n611\n00:30:30.069 --> 00:30:30.670\nversion 2.\n\n612\n00:30:30.670 --> 00:30:33.496\nSo when you see 1.99,\nthat's not a real version,\n\n613\n00:30:33.496 --> 00:30:38.530\nthat's just a piece of advisement that you\ntell people that, hey, I support 1 and 2.\n\n614\n00:30:38.530 --> 00:30:41.220\nAny security professional will tell you,\ndisable 1.\n\n615\n00:30:41.220 --> 00:30:44.916\nAnd as soon as you disable version 1\non your switch or router, then when you\n\n616\n00:30:44.916 --> 00:30:48.691\nrun show ip ssh it'll actually say\nversion 2 instead of version 1.99.\n\n617\n00:30:48.691 --> 00:30:50.310\nBut for right now, that's what it's got.\n\n618\n00:30:50.310 --> 00:30:54.060\nSo I just brought that up to show\nthat it is indeed turned on.\n\n619\n00:30:54.060 --> 00:30:57.680\nNow, even though it's turned on, it's\nnot working, because of the username and\n\n620\n00:30:57.680 --> 00:30:58.620\npassword thing.\n\n621\n00:30:58.620 --> 00:31:02.330\nSo I need to get my device set\nup to support usernames and\n\n622\n00:31:02.330 --> 00:31:05.910\npasswords and\nthen I'll be able to use SSH.\n\n623\n00:31:05.910 --> 00:31:08.390\nEven telnet might not\nbe working right now.\n\n624\n00:31:08.390 --> 00:31:11.910\nIf I fire up a terminal and try and\ntelnet, let's see what happens here.\n\n625\n00:31:11.910 --> 00:31:13.672\nLet me make this font a little bigger so\n\n626\n00:31:13.672 --> 00:31:15.941\nwe'll actually be able\nto see what's going on.\n\n627\n00:31:15.941 --> 00:31:22.271\nAnd if I try and telnet into that,\nto 10.1.230.243,\n\n628\n00:31:22.271 --> 00:31:26.920\nI get Password required, but none set.\n\n629\n00:31:26.920 --> 00:31:29.520\nI have a password,\nI have an enable password.\n\n630\n00:31:29.520 --> 00:31:32.380\nWell, this is talking\nabout a VTY password,\n\n631\n00:31:32.380 --> 00:31:36.220\nVTY is the virtual teletype, or\nwhat our virtual terminals use.\n\n632\n00:31:36.220 --> 00:31:39.470\nSo I need a VTY password\nbefore I can get in.\n\n633\n00:31:39.470 --> 00:31:42.370\nSo even telnet is turned on, but\n\n634\n00:31:42.370 --> 00:31:44.450\nnot working right now\nbecause of my configuration.\n\n635\n00:31:44.450 --> 00:31:47.526\nAnd so, technically, SSH and\ntelnet are both not working.\n\n636\n00:31:47.526 --> 00:31:49.719\nAnd what I want to do is show\nyou how to get those up and\n\n637\n00:31:49.719 --> 00:31:52.336\ngoing cuz they are important,\nbut I know we're out of time.\n\n638\n00:31:52.336 --> 00:31:54.982\nSo we're going to have to go on to a Part\n3 so we can get this configured, and\n\n639\n00:31:54.982 --> 00:31:57.280\nthen once we've got that,\nwe can stop using the console cable.\n\n640\n00:31:57.280 --> 00:32:00.935\nRight, then we can just use SSH to\nconnect in and work with the equipment.\n\n641\n00:32:00.935 --> 00:32:04.465\nAnd we can do it from the comfort of our\nown office, even though the switch or\n\n642\n00:32:04.465 --> 00:32:08.050\nrouter might be thousands of miles away,\nand it's just a much better solution.\n\n643\n00:32:08.050 --> 00:32:11.792\n>> Yeah, Don, I like that solution because\nit really does help keep us out of that\n\n644\n00:32:11.792 --> 00:32:12.824\nnetworking closet.\n\n645\n00:32:12.824 --> 00:32:17.619\nWhich there can be many devices\nthat are extremely loud and noisy.\n\n646\n00:32:17.619 --> 00:32:20.585\nAnd all the sudden, in the comfort\nof your own air conditioned office,\n\n647\n00:32:20.585 --> 00:32:23.360\nyou're ready to actually\ndo some more configuration.\n\n648\n00:32:23.360 --> 00:32:25.340\nBut that does bring us to\na good stopping point.\n\n649\n00:32:25.340 --> 00:32:29.050\nAnd remember that what we're seeing here,\nagain, is the initial device setup,\n\n650\n00:32:29.050 --> 00:32:32.260\nwhat we want to get done before we\nput everything into action, and\n\n651\n00:32:32.260 --> 00:32:33.390\neverything that we need.\n\n652\n00:32:33.390 --> 00:32:36.800\nSo Don showed us how to be able to\nput an IP address on these devices,\n\n653\n00:32:36.800 --> 00:32:38.060\nwhether they're a router or a switch.\n\n654\n00:32:38.060 --> 00:32:41.210\nHe also showed us that there's many\ndifferent ways that we can now get\n\n655\n00:32:41.210 --> 00:32:44.650\naccess to the device for\ncontrol and management as well.\n\n656\n00:32:44.650 --> 00:32:46.330\nAnd there is more to come,\n\n657\n00:32:46.330 --> 00:32:50.740\nand that means we are going to be in\na Part 3 of Initial Device Configuration.\n\n658\n00:32:50.740 --> 00:32:52.560\nBut we're gonna save that for next time.\n\n659\n00:32:52.560 --> 00:32:54.640\nSigning off now for ITProTV,\n\n660\n00:32:54.640 --> 00:32:57.260\nI've been your host Ronnie Wong\n>> And I'm Don Pezet.\n\n661\n00:32:57.260 --> 00:32:59.837\n>> Stay tuned right here for\nmore CCENT shows.\n\n662\n00:32:59.837 --> 00:33:09.837\n[SOUND]\n\n",
          "vimeoId": "175535449"
        },
        {
          "description": "In this episode, Ronnie and Don continue with configuring stronger security access.  They demonstrate configuring SSH and AAA new-model (local database) for a stronger security than just password security.  Don also shows how to generate a new digital certificate for security use.",
          "length": "1802",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-8-3-inital_device_configuration_pt.3-071816-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-8-3-inital_device_configuration_pt.3-071816-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-1-8-3-inital_device_configuration_pt.3-071816-1-sm.jpg",
          "title": "Initial Device Configuration Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.136 --> 00:00:14.551\nWelcome to another great\nepisode right here ITProTV.\n\n3\n00:00:14.551 --> 00:00:17.000\nI'm your host Ronnie Wong, and\n\n4\n00:00:17.000 --> 00:00:20.310\ntoday your watching CISCO CCENT shows that\nwe are actually continuing on with, and\n\n5\n00:00:20.310 --> 00:00:24.850\nwhere on the mist of device\nconfiguration and a part 3.\n\n6\n00:00:24.850 --> 00:00:28.170\nTrying to finish up a few different things\nthat we wanna ensure that are happening on\n\n7\n00:00:28.170 --> 00:00:30.630\nour router and\nour switches before we implement them.\n\n8\n00:00:30.630 --> 00:00:31.790\nAnd here to help us out Mr. Don Pezet.\n\n9\n00:00:31.790 --> 00:00:32.590\nWelcome back Don!\n\n10\n00:00:32.590 --> 00:00:34.350\n>> Thanks for welcoming back, Ronnie.\n\n11\n00:00:34.350 --> 00:00:37.390\nAnd are you ready to kinda wrap this\none out at the end of last step.\n\n12\n00:00:37.390 --> 00:00:40.070\nThis episode we started talking\nabout Telnet and SSH Access.\n\n13\n00:00:40.070 --> 00:00:42.110\nAnd we saw how neither of\nthem are working right now.\n\n14\n00:00:42.110 --> 00:00:46.920\nOur switch or our router has an IP so\nwe can remotely connect to it but\n\n15\n00:00:46.920 --> 00:00:48.430\nit's just not working properly.\n\n16\n00:00:48.430 --> 00:00:50.710\nUnless cuz we're still missing\nsome prerequisites, right?\n\n17\n00:00:50.710 --> 00:00:54.320\nSo, I wanna start with Telnet and getting\nit work even though you're not gonna use\n\n18\n00:00:54.320 --> 00:00:56.410\nit in real life because\nit's still on the exam.\n\n19\n00:00:56.410 --> 00:00:57.210\nSo, we need to know that.\n\n20\n00:00:57.210 --> 00:00:58.570\nAnd then I'll show you how\nto turn off Telnet and\n\n21\n00:00:58.570 --> 00:01:01.900\nwe can just go straight out to ssh, and\nthat's what you'll use in real life.\n\n22\n00:01:01.900 --> 00:01:06.350\nNow, by default, when you assign\nan IP address to a router or\n\n23\n00:01:06.350 --> 00:01:08.670\nswitch, it has Telnet turned on.\n\n24\n00:01:08.670 --> 00:01:12.200\nAnd so TelNet is technically\nfunctional but if you try and\n\n25\n00:01:12.200 --> 00:01:14.340\nconnect, you're gonna get an error.\n\n26\n00:01:14.340 --> 00:01:18.200\nAnd we saw the error in the last episode,\nwhich was this error right here.\n\n27\n00:01:18.200 --> 00:01:20.430\nPassword required, but none set.\n\n28\n00:01:20.430 --> 00:01:24.440\nSo if I try and connect, that's what I'm\ngonna get, and TelNet is not gonna work.\n\n29\n00:01:24.440 --> 00:01:29.530\nNow I've already got a password, I've got\nan enable password, defined on my switch.\n\n30\n00:01:29.530 --> 00:01:32.750\nSo when I first get connected,\nI can type enable, and\n\n31\n00:01:32.750 --> 00:01:34.400\nit is prompting me for a password.\n\n32\n00:01:34.400 --> 00:01:38.070\nBut that is not the password that\nTalmed is talking about, all right?\n\n33\n00:01:38.070 --> 00:01:41.400\nThere's actually a separate set of\npasswords that we can assign to our\n\n34\n00:01:41.400 --> 00:01:44.660\nconsole port and to our VTY port.\n\n35\n00:01:44.660 --> 00:01:47.950\nNow VTY, VTY stands for virtual teletype.\n\n36\n00:01:47.950 --> 00:01:50.770\nAnd that's what the telnet and\nSSH command lines are.\n\n37\n00:01:50.770 --> 00:01:53.720\nThat's the sessions that they\nconnect to and they use that VTY.\n\n38\n00:01:53.720 --> 00:01:55.680\nProtocol to be able to communicate.\n\n39\n00:01:55.680 --> 00:02:00.490\nOn a router,\nthere are five VTY connections by default.\n\n40\n00:02:00.490 --> 00:02:04.260\nOn a switch,\nthere's 16 VTY connections by default.\n\n41\n00:02:04.260 --> 00:02:05.640\nNot entirely sure why there are, but,\n>> [LAUGH]\n\n42\n00:02:05.640 --> 00:02:07.630\n>> That is how it works out.\n\n43\n00:02:07.630 --> 00:02:09.980\nAnd those VTY's are sitting\nthere waiting for connections.\n\n44\n00:02:09.980 --> 00:02:11.260\nThey're virtual connections.\n\n45\n00:02:11.260 --> 00:02:13.470\nSo, on a router, if you want 16,\nyou just make 16.\n\n46\n00:02:13.470 --> 00:02:17.255\nIt doesn't cost you any money, but\nthere's not really any point in having it.\n\n47\n00:02:17.255 --> 00:02:21.960\nThe are used almost exclusively\nby network admins, and\n\n48\n00:02:21.960 --> 00:02:25.680\nif you have more than five network admins\nworking in the same router at the same\n\n49\n00:02:25.680 --> 00:02:29.080\ntime you've got bigger problems\nthan how many V2I lines you've got.\n\n50\n00:02:29.080 --> 00:02:32.150\nSo it's not usually an issue,\nwe don't worry about the quantity.\n\n51\n00:02:32.150 --> 00:02:35.740\nBut the quantity is important when\nwe go to assign passwords to them.\n\n52\n00:02:35.740 --> 00:02:39.520\nI need to stick passwords on my V2I\nlines so that Telnet will function.\n\n53\n00:02:39.520 --> 00:02:41.880\nIf I don't have that done,\nTelnet's not gonna function.\n\n54\n00:02:41.880 --> 00:02:44.690\nAnd I need to make sure\nI get all of the lines.\n\n55\n00:02:44.690 --> 00:02:49.630\nFor example, on a router,\nI would be modifying line VTY04.\n\n56\n00:02:49.630 --> 00:02:56.350\nWhat that says is to modify lines 0\nthrough 4, the five lines that I have.\n\n57\n00:02:56.350 --> 00:02:58.630\nIf I do that on a switch that works.\n\n58\n00:02:58.630 --> 00:03:01.600\nBut on a switch, you have 0 through 15.\n\n59\n00:03:01.600 --> 00:03:06.060\nSo if I do 0 through 4, the first\nfive ports will have a password and\n\n60\n00:03:06.060 --> 00:03:09.850\nthen the 6th port through the 16th\nport won't have a password.\n\n61\n00:03:09.850 --> 00:03:12.780\nSo all an attacker has to do in\ngenerate enough traffic to fill up\n\n62\n00:03:12.780 --> 00:03:15.840\nthe first five lines and then the next\nline they hit has no password.\n\n63\n00:03:15.840 --> 00:03:18.890\nThat's why Cisco disables connectivity\nwhen a password is not set.\n\n64\n00:03:18.890 --> 00:03:20.400\nSo that's why I'm getting that error.\n\n65\n00:03:20.400 --> 00:03:23.570\nBecause they don't want attackers to be\nable to get in if you've accidentally not\n\n66\n00:03:23.570 --> 00:03:24.820\nlabeled all these ports.\n\n67\n00:03:24.820 --> 00:03:26.800\nSo let's see how we do it.\n\n68\n00:03:26.800 --> 00:03:30.140\nFirst off, let's look at how our\nfunctionality is right now, okay?\n\n69\n00:03:30.140 --> 00:03:33.610\nSo when I hit the console of my switch,\nI press enter and\n\n70\n00:03:33.610 --> 00:03:36.390\nI get an unprivileged mode prompt.\n\n71\n00:03:36.390 --> 00:03:40.610\nI type enable and then I'm prompted for\nthe password that we set in part one.\n\n72\n00:03:40.610 --> 00:03:45.440\nIf I try and telnet when I telnet\nin I get password required but\n\n73\n00:03:45.440 --> 00:03:47.150\nnone set and I fail to connect.\n\n74\n00:03:47.150 --> 00:03:49.130\nSo that's where we're at right now.\n\n75\n00:03:49.130 --> 00:03:52.150\nWell the first thing I want to do is\nI want to assign a console password.\n\n76\n00:03:52.150 --> 00:03:54.820\nSo you got to provide a password\njust to get into the console.\n\n77\n00:03:54.820 --> 00:04:00.463\nSo, to do that, I'm gonna jump\nin into my configuration, And\n\n78\n00:04:00.463 --> 00:04:03.970\nI'm gonna say line con 0.\n\n79\n00:04:03.970 --> 00:04:07.580\nSo, I'm getting in to\nmy console interface.\n\n80\n00:04:07.580 --> 00:04:12.670\nAnd in my console interface, I can say\npassword, and then I can set a password.\n\n81\n00:04:12.670 --> 00:04:17.070\nNow, be careful, by default this password\nis stored unencrypted in the config.\n\n82\n00:04:17.070 --> 00:04:20.370\nIf we have the service password\nencryption option turned on,\n\n83\n00:04:20.370 --> 00:04:23.490\nthen it'll encrypt it with a type seven,\nwhich is not the strongest in the world,\n\n84\n00:04:23.490 --> 00:04:26.480\nbut you would need physical access\nto the router to use this anyway.\n\n85\n00:04:26.480 --> 00:04:28.810\nIt's not that big of a deal, or switch.\n\n86\n00:04:28.810 --> 00:04:30.750\nI'm going to say password cisco123.\n\n87\n00:04:30.750 --> 00:04:34.810\nNow, I've got a password\non my console port.\n\n88\n00:04:34.810 --> 00:04:37.420\nThere's one other command\nthat's worthwhile here.\n\n89\n00:04:37.420 --> 00:04:40.890\nWhen somebody plugs into the console,\nthey can type in the password, and\n\n90\n00:04:40.890 --> 00:04:42.240\nnow they're logged in.\n\n91\n00:04:42.240 --> 00:04:44.840\nWell, console ports aren't\nlike network jacks.\n\n92\n00:04:44.840 --> 00:04:47.160\nWhen you unplug a network jack,\nthe link light goes off.\n\n93\n00:04:47.160 --> 00:04:49.820\nA console port is always up.\n\n94\n00:04:49.820 --> 00:04:52.620\nSo when somebody is done, if they just\nunplug from the console and walk away,\n\n95\n00:04:52.620 --> 00:04:54.240\nthey're still logged in.\n\n96\n00:04:54.240 --> 00:04:56.290\nSomebody else could plug into\nthe console and it's already logged in.\n\n97\n00:04:56.290 --> 00:04:59.010\nThey'd have to remember to log\nout every time they were done.\n\n98\n00:04:59.010 --> 00:05:02.954\nWell, we can set an exec-timeout.\n\n99\n00:05:04.000 --> 00:05:08.050\nAlright, and in fact most driver switches\nalready have an exec-timeout by default.\n\n100\n00:05:08.050 --> 00:05:09.700\nExec, that's the execution prompt.\n\n101\n00:05:09.700 --> 00:05:11.040\nThe prompt that we're in.\n\n102\n00:05:11.040 --> 00:05:14.240\nAnd it's gonna set a timeout to say,\nif the prompt is ever idle for\n\n103\n00:05:14.240 --> 00:05:17.120\na certain amount of time,\njust automatically log out.\n\n104\n00:05:17.120 --> 00:05:20.480\nAnd you can define what that\ntime is in minutes, in seconds.\n\n105\n00:05:20.480 --> 00:05:24.400\nSo if I want it to be 15 minutes\nI could say, 15 and then 0.\n\n106\n00:05:24.400 --> 00:05:28.800\nAnd so after 15 minutes if nobody has\ntyped a command in this console we'll log\n\n107\n00:05:28.800 --> 00:05:30.960\nthem out requiring the password again,\nright?\n\n108\n00:05:30.960 --> 00:05:32.450\nNow in a lab, that's really annoying,\n\n109\n00:05:32.450 --> 00:05:37.140\nso in a lab environment I'll normally\ndo 0 0 so that it never times out.\n\n110\n00:05:37.140 --> 00:05:40.460\nSo that I can stay logged into the console\nforever and it's never gonna log me out.\n\n111\n00:05:40.460 --> 00:05:43.480\nBut in real life land you'll normally\nwanna set that to five minutes or\n\n112\n00:05:43.480 --> 00:05:45.680\nten minutes,\nthat way if you ever unplug and\n\n113\n00:05:45.680 --> 00:05:48.180\nforget to log out,\nit'll log you out for you, right?\n\n114\n00:05:48.180 --> 00:05:52.660\nSo I usually do something like five and\nset that to five minutes and\n\n115\n00:05:52.660 --> 00:05:54.860\nnow it'll log me out, all right?\n\n116\n00:05:54.860 --> 00:05:59.160\nSo that's my console port, and\nif I were to exit out of this switch now\n\n117\n00:06:00.270 --> 00:06:05.630\nI go to log into my console, and\nwell it didn't ask me for my password.\n\n118\n00:06:05.630 --> 00:06:06.610\nWhy is that?\n\n119\n00:06:06.610 --> 00:06:08.030\nWell, it's because I'm still connected.\n\n120\n00:06:08.030 --> 00:06:09.180\nI actually need to save this.\n\n121\n00:06:09.180 --> 00:06:11.740\nI'm going to be upset about that for\na little while.\n\n122\n00:06:11.740 --> 00:06:13.475\nAnd I actually didn't\nissue the login command.\n\n123\n00:06:13.475 --> 00:06:15.029\n>> [LAUGH]\n>> That's another part.\n\n124\n00:06:15.029 --> 00:06:18.300\nThere's this other function that\nI kind of forgot about there, so\n\n125\n00:06:18.300 --> 00:06:20.370\nlet me get back in line com zero.\n\n126\n00:06:20.370 --> 00:06:22.630\nIf you just run the command login.\n\n127\n00:06:23.670 --> 00:06:25.470\nThat's gonna tell it to require a login.\n\n128\n00:06:25.470 --> 00:06:27.510\nThat's on by default on some equipment.\n\n129\n00:06:27.510 --> 00:06:29.240\nApparently on this equipment is not.\n\n130\n00:06:29.240 --> 00:06:32.030\nSo I'm now assigned a password\nto the console port, and\n\n131\n00:06:32.030 --> 00:06:35.280\nI've told it to require a login\nto be able to get into it.\n\n132\n00:06:35.280 --> 00:06:37.510\nI need to do the same thing for my VTYs.\n\n133\n00:06:37.510 --> 00:06:40.440\nThe VTYs are a remote connection.\n\n134\n00:06:40.440 --> 00:06:43.190\nBut it's still treated like the console,\nin a way.\n\n135\n00:06:43.190 --> 00:06:45.260\nSo they're considered lines also.\n\n136\n00:06:45.260 --> 00:06:51.900\nI'm gonna say line vty, and you could\nmodify just one vty line, like vty 0.\n\n137\n00:06:51.900 --> 00:06:55.380\nBut you've got more than one, so\nyou really need to do them all.\n\n138\n00:06:55.380 --> 00:06:59.630\nOn a router, I would say line vty 0 4.\n\n139\n00:06:59.630 --> 00:07:02.033\nOn a switch, we need to say,\nline vty 0 15,\n\n140\n00:07:02.033 --> 00:07:04.530\nbecause of the different\namount of vty lines.\n\n141\n00:07:04.530 --> 00:07:07.560\nI'm going to switch, so\nI'm going to do 0 15.\n\n142\n00:07:07.560 --> 00:07:10.900\nAnd I'm going to use the same\ncommands I used on the console port,\n\n143\n00:07:10.900 --> 00:07:14.530\nI'm going to say, password cisco123 and\n\n144\n00:07:14.530 --> 00:07:18.775\nI'm going to say,\nlogin to require login access.\n\n145\n00:07:18.775 --> 00:07:23.090\nOkay, right there,\nwe should now have enough for\n\n146\n00:07:23.090 --> 00:07:25.960\ntelnet to work and for\nit to ask for those passwords.\n\n147\n00:07:25.960 --> 00:07:27.220\nSo, let's test it out.\n\n148\n00:07:27.220 --> 00:07:30.500\nI'm gonna go back to my command prompt,\nand when I go to telnet,\n\n149\n00:07:30.500 --> 00:07:35.650\nto that host,\nnow I get user access verification.\n\n150\n00:07:35.650 --> 00:07:39.080\nSo, it's asking for user verification,\nand it's asking for a password.\n\n151\n00:07:39.080 --> 00:07:41.380\nNow, I'm getting a warning\npopping up telling me that,\n\n152\n00:07:41.380 --> 00:07:43.960\nKerberos has no default realm defined.\n\n153\n00:07:43.960 --> 00:07:45.240\nWell that's a warning.\n\n154\n00:07:45.240 --> 00:07:47.620\nI can actually ignore that, but\npassword prompt is what I want.\n\n155\n00:07:47.620 --> 00:07:49.220\nThe warning just popped up right there.\n\n156\n00:07:49.220 --> 00:07:53.181\nSo it kind of looks like it's part of it,\nbut I can type in my password and\n\n157\n00:07:53.181 --> 00:07:53.918\nI can log in.\n\n158\n00:07:53.918 --> 00:07:55.509\nI'm now telnetted into the switch.\n\n159\n00:07:55.509 --> 00:07:58.244\nI'm connected to the switch via\nthe network instead of the console.\n\n160\n00:07:58.244 --> 00:08:00.207\nI could unplug my console cable and go.\n\n161\n00:08:00.207 --> 00:08:02.149\nNow, what is this Kerberos?\n\n162\n00:08:02.149 --> 00:08:07.134\nWell, Kerberos, it's open source,\nopen standard authentication\n\n163\n00:08:07.134 --> 00:08:12.170\nmechanism that was created years ago for\nLDAP environments.\n\n164\n00:08:12.170 --> 00:08:14.180\nMicrosoft's Windows Active Directory\nuses it.\n\n165\n00:08:14.180 --> 00:08:15.720\nOpen LDAP uses it.\n\n166\n00:08:15.720 --> 00:08:17.760\nApple's Open Directory uses it.\n\n167\n00:08:17.760 --> 00:08:20.550\nSo, a lot of people use Kerberos for\nauthentication and\n\n168\n00:08:20.550 --> 00:08:24.180\nthat means that I could get my router\nswitch to authenticate against\n\n169\n00:08:24.180 --> 00:08:26.040\nthe Windows Active Directory if I wanted.\n\n170\n00:08:26.040 --> 00:08:28.700\nAnd now I log in with the same account\nin Windows as I do on the switch.\n\n171\n00:08:28.700 --> 00:08:31.070\nI don't have that set up,\nwhich is why I'm getting that warning.\n\n172\n00:08:31.070 --> 00:08:32.350\nI'm gonna ignore that.\n\n173\n00:08:32.350 --> 00:08:35.500\nNow, I'm Telnetted into the switch,\nand that's great.\n\n174\n00:08:35.500 --> 00:08:39.460\nI can enable, punch in my enable password,\nand I can get to work.\n\n175\n00:08:39.460 --> 00:08:42.040\nThe problem here is everything\nI'm doing is being sent across\n\n176\n00:08:42.040 --> 00:08:43.360\nthe network unencrypted.\n\n177\n00:08:43.360 --> 00:08:46.240\nIf somebody's running a sniffer,\nthey can see this, they can read it,\n\n178\n00:08:46.240 --> 00:08:49.290\nthey now know my enable password,\nthey know the telnet password too.\n\n179\n00:08:49.290 --> 00:08:50.700\nThey know all the passwords.\n\n180\n00:08:50.700 --> 00:08:52.440\nI just lost all of my security.\n\n181\n00:08:52.440 --> 00:08:55.530\nSo Telnet was great in the 1980s and\n\n182\n00:08:55.530 --> 00:09:01.230\nit was great even in the early 1990s but\nwe're in 2016, this is ancient.\n\n183\n00:09:01.230 --> 00:09:05.740\nYou shouldn't be using Telnet,\ninstead we need to use SSH.\n\n184\n00:09:05.740 --> 00:09:10.010\nAll right, well if I go,\nlet me get out of this switch here and\n\n185\n00:09:10.010 --> 00:09:10.880\ngo back to my console.\n\n186\n00:09:12.000 --> 00:09:14.170\nSo I'm gonna get back\ninto my configuration and\n\n187\n00:09:14.170 --> 00:09:17.360\nI'm gonna get back into line, vty 0 15.\n\n188\n00:09:17.360 --> 00:09:21.960\nThere's another command here,\n#transport input.\n\n189\n00:09:21.960 --> 00:09:23.167\nThis is saying,\n\n190\n00:09:23.167 --> 00:09:29.132\nwhat network transport protocols do I want\nto allow to send input to these, VTYs?\n\n191\n00:09:29.132 --> 00:09:33.780\nAnd by default, you'll have SSH and\nTelnet both turned on.\n\n192\n00:09:33.780 --> 00:09:36.783\nSo right now, I've got both SSH and\nTelnet that are turned on, so\n\n193\n00:09:36.783 --> 00:09:38.100\nit's basically set to All.\n\n194\n00:09:38.100 --> 00:09:39.510\nThat's the default.\n\n195\n00:09:39.510 --> 00:09:43.590\nBut I can come in here and\nI can define one or more that I want.\n\n196\n00:09:43.590 --> 00:09:47.060\nNow on a switch, you'll usually just see\nthese, on our router you'll see some more,\n\n197\n00:09:47.060 --> 00:09:50.910\nespecially if you have\nthe Advanced Enterprise iOS installed,\n\n198\n00:09:50.910 --> 00:09:55.790\nyou'll have like all sorts of\nTelnet 32 70, and v.34 and\n\n199\n00:09:55.790 --> 00:09:59.360\nall these different ones\nthat'll show up in there.\n\n200\n00:09:59.360 --> 00:10:02.350\nSwitches don't normally have those,\nusually just Telnet and SSH.\n\n201\n00:10:02.350 --> 00:10:07.500\nSo if you transport imput ssh,\njust by itself,\n\n202\n00:10:07.500 --> 00:10:12.380\nwhat that does right there is\ntells it to only allow ssh.\n\n203\n00:10:12.380 --> 00:10:16.800\nIf I did transport input telnet,\nit would only allow telnet.\n\n204\n00:10:16.800 --> 00:10:20.810\nIf I did transport input ssh telnet,\nnow I'm making a list, right?\n\n205\n00:10:20.810 --> 00:10:23.550\nIt'll support both,\nwhich I could have just used all.\n\n206\n00:10:23.550 --> 00:10:25.210\nOn a switch that's all you'd have, but\n\n207\n00:10:25.210 --> 00:10:27.770\non a router there's like ten different\nprotocols that are supported.\n\n208\n00:10:27.770 --> 00:10:31.420\nSo you might want to filter it down to\njust SSH and Telnet so you can do that.\n\n209\n00:10:31.420 --> 00:10:35.880\nBut normally I just run transport,\ninput ssh and that’s it.\n\n210\n00:10:35.880 --> 00:10:40.010\nAnd if I do a show run, and\n\n211\n00:10:40.010 --> 00:10:45.120\nlet me begin with a, I'm gonna use the\nbegin command to begin with the word line.\n\n212\n00:10:45.120 --> 00:10:46.540\nI'm going to spell begin right.\n\n213\n00:10:48.210 --> 00:10:53.790\nWhen I look at that config now see how\nit's just transport input ssh, and\n\n214\n00:10:53.790 --> 00:10:59.690\nalso notice how I have line vty 0 4 and\nthen line vty 5 15.\n\n215\n00:10:59.690 --> 00:11:02.410\nI configured both at\nthe same time which is fine.\n\n216\n00:11:02.410 --> 00:11:03.290\nThere's the password and\n\n217\n00:11:03.290 --> 00:11:06.380\nthe login command I inserted and\nthere\\s transport input ssh.\n\n218\n00:11:06.380 --> 00:11:11.500\nSo at this point I'm no longer allowing\nTelnet and if I jump over to my command\n\n219\n00:11:11.500 --> 00:11:17.070\nprompt and try and Telnet, I get Unable\nto connect to remote host right.\n\n220\n00:11:17.070 --> 00:11:19.160\nIt completely refused the connection.\n\n221\n00:11:19.160 --> 00:11:21.800\nWe're not able to get to it,\nTelnet's disabled.\n\n222\n00:11:23.040 --> 00:11:25.430\nSo, I'm ready to SSH, right?\n\n223\n00:11:25.430 --> 00:11:27.290\nI turned on SSH, we know it's running.\n\n224\n00:11:27.290 --> 00:11:32.830\nSo if I do ssh to 10.1.230.243,\nthat's gonna work.\n\n225\n00:11:32.830 --> 00:11:34.365\nWell Not really.\n\n226\n00:11:34.365 --> 00:11:35.095\nIt's trying to connect.\n\n227\n00:11:35.095 --> 00:11:37.505\nSee how it's trying to connect,\nand it sees a certificate.\n\n228\n00:11:37.505 --> 00:11:39.325\nAnd I'll just say yes,\nI wanna support that.\n\n229\n00:11:39.325 --> 00:11:42.367\nAnd we go to connect, all right?\n\n230\n00:11:42.367 --> 00:11:44.675\nBut, look at what it's done.\n\n231\n00:11:44.675 --> 00:11:50.480\nIt changed the host name\nto donpezet@10.1.230.243.\n\n232\n00:11:50.480 --> 00:11:52.250\nDon Pezet, is my user name, on my laptop.\n\n233\n00:11:53.270 --> 00:11:56.460\nSo, SSH requires a user name.\n\n234\n00:11:56.460 --> 00:11:59.280\nThey had to get it from somewhere so,\nit took the user name, I'm logged in with.\n\n235\n00:11:59.280 --> 00:12:01.540\nSo, if I come in here and\nI punch in the enable password.\n\n236\n00:12:01.540 --> 00:12:02.980\nLet me just punch in Cisco123.\n\n237\n00:12:02.980 --> 00:12:06.190\nThat's gonna fail.\n\n238\n00:12:06.190 --> 00:12:09.130\nBecause there is no user,\nDon Pezet, on the router.\n\n239\n00:12:09.130 --> 00:12:11.710\nThe router or switch,\nnever asked me for a user name.\n\n240\n00:12:11.710 --> 00:12:14.360\nSo I need to get the router switch\nsetup to support usernames and\n\n241\n00:12:14.360 --> 00:12:16.100\npasswords before SSH will work.\n\n242\n00:12:16.100 --> 00:12:18.960\nThere is actually a few things we\nneed to do before SSH will work.\n\n243\n00:12:18.960 --> 00:12:22.160\nBecause the other problem I am going\nto have is this certificate that\n\n244\n00:12:22.160 --> 00:12:22.740\nwas generated.\n\n245\n00:12:22.740 --> 00:12:24.950\nWhere did that certificate come from?\n\n246\n00:12:24.950 --> 00:12:26.100\nI didn't create it.\n\n247\n00:12:26.100 --> 00:12:29.230\nWell, the router created it by\ndefault when it made it, and it may or\n\n248\n00:12:29.230 --> 00:12:31.670\nmay not be at the security level\nthat we want it to be at, so\n\n249\n00:12:31.670 --> 00:12:32.840\nwe may need to go in and tweak that.\n\n250\n00:12:32.840 --> 00:12:34.320\nSo I'll show you how to do that too.\n\n251\n00:12:34.320 --> 00:12:37.790\nBut as it stands,\nSSH is not actually working for me.\n\n252\n00:12:37.790 --> 00:12:39.490\nIt's turned on, but it's not working.\n\n253\n00:12:39.490 --> 00:12:41.500\nSo the first step in getting SSH up and\ngoing for\n\n254\n00:12:41.500 --> 00:12:44.660\nus is gonna be making our router\nswitch accept usernames and\n\n255\n00:12:44.660 --> 00:12:47.910\npasswords instead of just a password,\nso we gotta get that upgraded.\n\n256\n00:12:47.910 --> 00:12:49.350\nSo I'm going to get back into my switch.\n\n257\n00:12:49.350 --> 00:12:51.130\nAnd, well,\nit looks like I timed out a bit.\n\n258\n00:12:51.130 --> 00:12:55.140\nBut it's an opportunity for me to show the\nconsole password is now working, right?\n\n259\n00:12:55.140 --> 00:12:58.488\nWhen we issued that login command that got\nthat console password working properly.\n\n260\n00:12:58.488 --> 00:13:01.180\nSo I've gotta provide a password\nto get into the console,\n\n261\n00:13:01.180 --> 00:13:03.630\ninstead of just walking right\ninto unprivileged mode.\n\n262\n00:13:03.630 --> 00:13:07.900\nAnd then when I enable, I have to provide\nthe enable secret to be able to get in.\n\n263\n00:13:07.900 --> 00:13:09.510\nAnd now I'm in my configuration.\n\n264\n00:13:09.510 --> 00:13:12.660\nAll right, now you might have noticed as\nyou poked around the running config of\n\n265\n00:13:12.660 --> 00:13:16.600\nvarious routers and switches, that there's\nan interesting little line in here\n\n266\n00:13:16.600 --> 00:13:20.320\nthat says, no triple a new-model,\nall right?\n\n267\n00:13:20.320 --> 00:13:20.880\nIt's a weird line.\n\n268\n00:13:20.880 --> 00:13:23.420\nIf you haven't worked on the Cisco world,\nyou might not know what that means.\n\n269\n00:13:23.420 --> 00:13:28.230\nAnd this is exactly why we only have\na password instead of a username.\n\n270\n00:13:28.230 --> 00:13:30.540\nIn Cisco devices,\nyou have what's called Triple A.\n\n271\n00:13:30.540 --> 00:13:33.850\nIt's authentication,\nauthorization, and accounting.\n\n272\n00:13:34.990 --> 00:13:38.520\nThey are the security subsystem\nthat handles every kind of login.\n\n273\n00:13:38.520 --> 00:13:41.240\nAuthentication, that's prompting for\ncredentials.\n\n274\n00:13:41.240 --> 00:13:42.999\nIs the person who they say they are?\n\n275\n00:13:44.160 --> 00:13:45.600\nAuthorization.\n\n276\n00:13:45.600 --> 00:13:48.250\nOnce we know who they are,\nwhat are they authorized to do?\n\n277\n00:13:48.250 --> 00:13:50.370\nWhat privileges do they\nhave in the system?\n\n278\n00:13:50.370 --> 00:13:52.010\nAnd then accounting.\n\n279\n00:13:52.010 --> 00:13:54.580\nHow do we keep a record of what they did?\n\n280\n00:13:54.580 --> 00:13:56.120\nA logging system, right?\n\n281\n00:13:56.120 --> 00:13:59.080\nAnd those three pieces make up Triple A.\n\n282\n00:13:59.080 --> 00:14:03.310\nAnd the old model of Triple A was\njust to have a password and\n\n283\n00:14:03.310 --> 00:14:04.890\nyou walked right in and\nyou do what you wanted.\n\n284\n00:14:04.890 --> 00:14:06.530\nYou handled your logs right on the router.\n\n285\n00:14:06.530 --> 00:14:10.230\nBut the new model of Triple A is\nwhere you can authenticate against\n\n286\n00:14:10.230 --> 00:14:14.085\nActive Directories and LDAP servers,\nyou can authenticate against Radius and\n\n287\n00:14:14.085 --> 00:14:16.280\nTACACS Plus and\nall these other crazy things.\n\n288\n00:14:16.280 --> 00:14:18.910\nYou can keep extensive logging locally or\nremotely.\n\n289\n00:14:18.910 --> 00:14:20.910\nYou can do all sorts of amazing bells and\nwhistles.\n\n290\n00:14:20.910 --> 00:14:23.470\nThat's all fine and good,\nI just want one feature.\n\n291\n00:14:23.470 --> 00:14:24.270\nUsernames and passwords.\n\n292\n00:14:24.270 --> 00:14:25.850\nI want a username and\npassword database and\n\n293\n00:14:25.850 --> 00:14:27.680\nI just want it right here on this device.\n\n294\n00:14:27.680 --> 00:14:31.540\nSo the way we do that,\nis by getting into configuration.\n\n295\n00:14:31.540 --> 00:14:35.420\nAnd in the configuration\nsaying #aaa new-model.\n\n296\n00:14:35.420 --> 00:14:38.260\nMove us to the new model, I don't\nwant the old one with just passwords,\n\n297\n00:14:38.260 --> 00:14:40.540\nI want the new model of usernames and\npasswords.\n\n298\n00:14:40.540 --> 00:14:42.964\nNow that means I need to create\na username and password,\n\n299\n00:14:42.964 --> 00:14:45.110\notherwise I'm gonna be in real trouble.\n\n300\n00:14:45.110 --> 00:14:46.140\nIf I go in new-model and\n\n301\n00:14:46.140 --> 00:14:49.600\nI don't create some usernames,\nI'm going to end up locking myself out.\n\n302\n00:14:49.600 --> 00:14:54.190\nSo I'm going to create a username for\na user and maybe I'll create one\n\n303\n00:14:54.190 --> 00:14:57.690\njust called admin or whatever it is\nthat you want to make, you choose that.\n\n304\n00:14:58.880 --> 00:15:02.840\nFor that user we also need to\nspecify a privilege level.\n\n305\n00:15:02.840 --> 00:15:05.530\nNow there's really only two\nprivilege levels by default.\n\n306\n00:15:05.530 --> 00:15:07.690\nThere's zero which is\nthe unpublished mode and\n\n307\n00:15:07.690 --> 00:15:12.990\nfifteen which is the full\non access privilege mode.\n\n308\n00:15:12.990 --> 00:15:15.850\nBut there's 1 through 14 in between it.\n\n309\n00:15:15.850 --> 00:15:19.820\nSo if I do username admin privilege?\n\n310\n00:15:19.820 --> 00:15:22.770\nI'll see where I can set 0 through 15.\n\n311\n00:15:22.770 --> 00:15:25.530\nWell 1 through 14 don't actually exist.\n\n312\n00:15:25.530 --> 00:15:26.320\nWe can create those.\n\n313\n00:15:26.320 --> 00:15:29.190\nAnd for those of you that go\non to the CCN8 security you'll\n\n314\n00:15:29.190 --> 00:15:30.910\nsee how to create those and\nwork with them.\n\n315\n00:15:30.910 --> 00:15:34.370\nBut for the rest of us, there's just 0 and\n15, 0 being unprivileged,\n\n316\n00:15:34.370 --> 00:15:35.410\n15 being privileged.\n\n317\n00:15:35.410 --> 00:15:38.180\nSo I wanna create a privilege\nlevel 15 account,\n\n318\n00:15:38.180 --> 00:15:41.240\none that has the access to be\nable to work on this system.\n\n319\n00:15:41.240 --> 00:15:44.310\nAnd then I need to set a password, but\n\n320\n00:15:44.310 --> 00:15:49.371\nbe careful because we have password but\nwe also have secret.\n\n321\n00:15:49.371 --> 00:15:53.315\nAnd like we learn with the enable password\nwhich one do we want to use, secret.\n\n322\n00:15:53.315 --> 00:15:57.236\nYeah, privilege of, I mean, password\nwill be unencrypted, maybe type seven\n\n323\n00:15:57.236 --> 00:16:00.640\nencrypted which we know is a joke,\nso it's not going to be very good.\n\n324\n00:16:00.640 --> 00:16:03.350\nSo we need to do a secret and\nI'll set that password.\n\n325\n00:16:03.350 --> 00:16:07.230\nI'll just stick with my cisco123 because\nI'm exercising the greatest in security\n\n326\n00:16:07.230 --> 00:16:09.040\npractices here.\n\n327\n00:16:09.040 --> 00:16:10.320\nAnd now I've got a username.\n\n328\n00:16:10.320 --> 00:16:12.770\nAll right, a username and password.\n\n329\n00:16:12.770 --> 00:16:15.380\nAnd that's gonna change\nthe way this device functions.\n\n330\n00:16:15.380 --> 00:16:18.800\nIf I, let me save,\nI haven't saved in a long time, have I?\n\n331\n00:16:18.800 --> 00:16:21.390\nSo let me go ahead and save this.\n\n332\n00:16:21.390 --> 00:16:25.630\nAnd if I were to get out of\nthe system now, when I'm in exit out,\n\n333\n00:16:25.630 --> 00:16:30.520\nwhen I go to access the console, well I'm\nstill authenticated from last time so\n\n334\n00:16:30.520 --> 00:16:32.000\nit didn't prompt me for password.\n\n335\n00:16:32.000 --> 00:16:36.020\nBut when I go to enable,\nit's still just a password, okay?\n\n336\n00:16:36.020 --> 00:16:37.130\nAnd that's to be expected.\n\n337\n00:16:37.130 --> 00:16:39.920\nIt's just a password because that's\nall I'm connecting with, and\n\n338\n00:16:39.920 --> 00:16:42.960\nthat's what I've got defined on the VTY.\n\n339\n00:16:42.960 --> 00:16:44.580\nBut, or on the console.\n\n340\n00:16:44.580 --> 00:16:46.870\nBut if I use a VTY,\nit's a different story.\n\n341\n00:16:46.870 --> 00:16:50.590\nNow I disabled TelNet, so\nlet me turn TelNet back on.\n\n342\n00:16:50.590 --> 00:16:56.000\nSo I'm gonna get back in here and I'll say\ntransport input all to turn that back on.\n\n343\n00:16:56.000 --> 00:17:02.900\nAnd if I try and telnet in again, when I\ntelnet, now it's asking for a username.\n\n344\n00:17:02.900 --> 00:17:04.650\nAnd I can provide that username.\n\n345\n00:17:04.650 --> 00:17:07.080\nAnd I can provide the password.\n\n346\n00:17:07.080 --> 00:17:11.320\nSo now, when I remote in It's asking for\na username and a password instead of\n\n347\n00:17:11.320 --> 00:17:16.030\njust a password, and that's what was\nrequired to get SSH to work, okay?\n\n348\n00:17:16.030 --> 00:17:19.960\nNow on your device that\nmay be all you need.\n\n349\n00:17:19.960 --> 00:17:22.270\nThat may be the only thing you\nneed to get connected in, so\n\n350\n00:17:22.270 --> 00:17:27.020\nI might be able to connect\nin with SSH now if I say ssh\n\n351\n00:17:27.020 --> 00:17:31.820\nAdmin is the username I created,\n@10.1.230.243.\n\n352\n00:17:31.820 --> 00:17:38.160\nAnd it's gonna connect and prompt for a\npassword, I'll say Cisco 123, and I'm in.\n\n353\n00:17:38.160 --> 00:17:39.020\nReally easy to get it going.\n\n354\n00:17:40.120 --> 00:17:42.420\nThat might be how easy it is for you.\n\n355\n00:17:42.420 --> 00:17:45.940\nOften times it's not,\noften times still not working, and\n\n356\n00:17:45.940 --> 00:17:48.540\nit comes down to that certificate.\n\n357\n00:17:48.540 --> 00:17:52.130\nMy system all ready had a pre-generated\ncertificate on so I was able to use it.\n\n358\n00:17:52.130 --> 00:17:53.600\nAnd now I'm in and I'm done.\n\n359\n00:17:53.600 --> 00:17:57.380\nSo the systems don't have a pre-generated\ncertificate or they do but\n\n360\n00:17:57.380 --> 00:17:58.780\nit's not a very strong one.\n\n361\n00:17:58.780 --> 00:18:01.420\nIt might not even be strong enough for\nSSH version 2.\n\n362\n00:18:01.420 --> 00:18:04.720\nSo I might be forced to use\nSSH version 1 because of that.\n\n363\n00:18:04.720 --> 00:18:07.120\nSo we may need to regenerate\nthe certificate, and\n\n364\n00:18:07.120 --> 00:18:10.530\nthere's a few steps to get that done and\nget it put in place.\n\n365\n00:18:10.530 --> 00:18:14.260\nI typically don't trust the certificates\nthat come with equipment and\n\n366\n00:18:14.260 --> 00:18:17.750\nusually regenerate my own anyway\neven if they are strong enough.\n\n367\n00:18:17.750 --> 00:18:20.260\nLinksys, which at the time\nwas owned by Cisco,\n\n368\n00:18:20.260 --> 00:18:24.150\nit's not owned by Cisco anymore, but\nLinksys got under some fire where\n\n369\n00:18:24.150 --> 00:18:28.950\nthey had used the same private key on\nevery single router they had sent out.\n\n370\n00:18:28.950 --> 00:18:32.370\nSo they sent out hundreds of thousands of\nrouters all with the same private key.\n\n371\n00:18:32.370 --> 00:18:34.980\nSo if you just trusted the certificate,\nthat was already there,\n\n372\n00:18:36.250 --> 00:18:39.820\nanybody had that certificate, and so\nit really wasn't security at all.\n\n373\n00:18:39.820 --> 00:18:41.930\nThey fixed that since then,\nit's not a big deal.\n\n374\n00:18:41.930 --> 00:18:46.130\nI think it was either TP link or\nD link that fell under the same thing, and\n\n375\n00:18:46.130 --> 00:18:46.700\nhad that same problem.\n\n376\n00:18:46.700 --> 00:18:50.000\nSo ever since then I just am not trust\nof the I always generate my own.\n\n377\n00:18:50.000 --> 00:18:53.250\nSo if we wanna generate our own,\nit's really not that bad, let me show you.\n\n378\n00:18:54.390 --> 00:18:56.640\nSo let me, first let me get\nout of my remote connection,\n\n379\n00:18:56.640 --> 00:18:58.540\nI'm gonna do this on the consul.\n\n380\n00:18:58.540 --> 00:19:03.400\nSo, first off, I'm gonna turn off tell net\nbecause I just wanted to use that to show\n\n381\n00:19:03.400 --> 00:19:05.680\nyou guys that it was prompting for\na username and a password.\n\n382\n00:19:05.680 --> 00:19:09.310\nSo, I'm gonna put it back\nto transport input ssh.\n\n383\n00:19:09.310 --> 00:19:12.145\n[LAUGH] How do you spell ssh?\n\n384\n00:19:12.145 --> 00:19:13.570\n>> [LAUGH]\n>> And get that put in.\n\n385\n00:19:13.570 --> 00:19:16.250\nAll right, now,\nI want to deal with the certificate.\n\n386\n00:19:16.250 --> 00:19:19.640\nTo generate a certificate, there's some\ninformation you have to have, right?\n\n387\n00:19:19.640 --> 00:19:20.930\nYou have to have a hostname.\n\n388\n00:19:20.930 --> 00:19:22.650\nMy hostname right now is switch.\n\n389\n00:19:22.650 --> 00:19:24.280\nThat's not a valid hostname, right?\n\n390\n00:19:24.280 --> 00:19:25.940\nSo it's gonna make me change my hostname.\n\n391\n00:19:25.940 --> 00:19:29.460\nSo I'm gonna set my hostname\nto itprotv-sw02, right, so\n\n392\n00:19:29.460 --> 00:19:32.660\nnow I've got a hostname.\n\n393\n00:19:32.660 --> 00:19:35.340\nThen I need a domain name, right?\n\n394\n00:19:35.340 --> 00:19:38.160\nNow, your domain name is your DNS\nsuffix that you use to look up.\n\n395\n00:19:38.160 --> 00:19:40.250\nIf you separate DHCP\nyou probably have one.\n\n396\n00:19:40.250 --> 00:19:42.540\nIf you don't use DHCP though,\nyou don't have one and\n\n397\n00:19:42.540 --> 00:19:45.180\nyou need a valid DNS name\nto generate a certificate.\n\n398\n00:19:45.180 --> 00:19:51.490\nSo I need to say, IP domain dash name and\n\n399\n00:19:51.490 --> 00:19:56.550\nthat's gonna let me set what my domain is,\nand I'm just gonna say lab.itpro.tv.\n\n400\n00:19:56.550 --> 00:19:59.130\nSo now I've got a fully\nqualified host name.\n\n401\n00:19:59.130 --> 00:20:02.580\nI'm itpro.tv-sw02.lab.itpro.tv, right?\n\n402\n00:20:04.310 --> 00:20:08.700\nNow that I've got that name, I can go and\nI can generate a certificate.\n\n403\n00:20:08.700 --> 00:20:12.160\nAnd to generate a certificate,\nwe use the crypto command.\n\n404\n00:20:12.160 --> 00:20:13.740\nNow, here's one problem.\n\n405\n00:20:13.740 --> 00:20:15.310\nIf you're watching and\n\n406\n00:20:15.310 --> 00:20:18.790\nyou live in the United States, that crypto\ncommand is going to work just fine.\n\n407\n00:20:18.790 --> 00:20:22.450\nBut if you live in Europe or\nAsia, Australia,\n\n408\n00:20:22.450 --> 00:20:26.160\nsomewhere like that, you might find\nthat you don't have the crypto command.\n\n409\n00:20:26.160 --> 00:20:31.170\nAnd that's because the US Government made\na law that said when we export devices for\n\n410\n00:20:31.170 --> 00:20:33.540\nencryption, the encryption has\nto be disabled by default.\n\n411\n00:20:33.540 --> 00:20:37.550\nAnd it is, so we send you guys\ndevices that are effectively crippled.\n\n412\n00:20:37.550 --> 00:20:40.020\nSo you can then upgrade the device, or\n\n413\n00:20:40.020 --> 00:20:43.450\nput the crypto back onto it if you want,\nand then you'll have that command.\n\n414\n00:20:43.450 --> 00:20:47.500\nSo if you ever find the crypto command is\nmissing, you might not be supporting it.\n\n415\n00:20:47.500 --> 00:20:54.540\nIf you do a show version, in your show\nversion output you'll see your IOS.\n\n416\n00:20:54.540 --> 00:20:55.440\nAnd so I'm running on a 12.2.\n\n417\n00:20:55.440 --> 00:20:56.840\nThose are actually an old IOS.\n\n418\n00:20:56.840 --> 00:20:59.230\nThat's why I had that SSL problem earlier.\n\n419\n00:20:59.230 --> 00:21:05.360\nBut when you look at the file name for\nyour IOS, if it's got a k9 in it like\n\n420\n00:21:05.360 --> 00:21:10.080\nthis, so that k9 right there, that lets me\nknow that I've got encryption features.\n\n421\n00:21:10.080 --> 00:21:12.920\nIf you don't have a k9 in the file\nname then you probably don't\n\n422\n00:21:12.920 --> 00:21:16.190\nhave the encryption features, and so\nthat's going to be a problem for you.\n\n423\n00:21:16.190 --> 00:21:18.670\nAnd so if you don't have the crypto\ncommand that may be a, and\n\n424\n00:21:18.670 --> 00:21:21.430\nSSH will not work without crypto,\nyou got to have it.\n\n425\n00:21:21.430 --> 00:21:23.490\nSo I want to generate\na certificate though, and\n\n426\n00:21:23.490 --> 00:21:24.480\nuse that crypto command to do it.\n\n427\n00:21:24.480 --> 00:21:29.730\nI'm going to say crypto key, gen rsa.\n\n428\n00:21:29.730 --> 00:21:32.800\nWe're gonna generate\nan rsa encryption key.\n\n429\n00:21:32.800 --> 00:21:36.820\nWhich is a private key stored in\ncertificate format for us to use.\n\n430\n00:21:36.820 --> 00:21:40.530\nAnd when you run that, it's gonna\nask you how many bits to make it.\n\n431\n00:21:40.530 --> 00:21:43.920\nNow, notice I can do 512 bits if I wanted.\n\n432\n00:21:43.920 --> 00:21:46.680\nThat's not enough enough for SSH.\n\n433\n00:21:46.680 --> 00:21:50.040\nSSH version 1 needs 768 bits.\n\n434\n00:21:50.040 --> 00:21:54.420\nSSH version 2 needs 2048,\nI believe, it needs a full set.\n\n435\n00:21:54.420 --> 00:21:58.010\nBut you'll see where\nthey do 1024 sometimes,\n\n436\n00:21:58.010 --> 00:22:00.890\nit's up to you to pick\nthe level of security you want.\n\n437\n00:22:00.890 --> 00:22:02.350\nI'm gonna go as strong as I can.\n\n438\n00:22:02.350 --> 00:22:05.110\nI'm gonna go all the way up to 2048,\nall right?\n\n439\n00:22:05.110 --> 00:22:09.000\nAnd when I do that, I know I'll\nhave enough for SSH version one and\n\n440\n00:22:09.000 --> 00:22:12.050\nversion two, that it's nice and\nstrong, and I can use either protocol.\n\n441\n00:22:12.050 --> 00:22:16.150\nI can even turn off SSH version one,\nand just force version two.\n\n442\n00:22:16.150 --> 00:22:19.790\nNow, if you do this on emulated hardware,\nit happens very fast.\n\n443\n00:22:19.790 --> 00:22:21.830\nSo in lab environments,\nyou see it's fast, but\n\n444\n00:22:21.830 --> 00:22:25.780\nwhen you do it on physical hardware,\nthe switches don't have hardware for\n\n445\n00:22:25.780 --> 00:22:27.890\nencryption built into them,\nnot like a firewall.\n\n446\n00:22:27.890 --> 00:22:30.320\nAnd so it'll take a moment for\nit to generate that certificate.\n\n447\n00:22:30.320 --> 00:22:34.440\nThe bigger the bits that you use,\nthe longer it takes to generate the cert.\n\n448\n00:22:34.440 --> 00:22:38.320\nBut as soon as it's done, I will have\na certificate that is generated based on\n\n449\n00:22:38.320 --> 00:22:42.860\nthe information that I provided it and\nI'll be able to use it and support SSH.\n\n450\n00:22:42.860 --> 00:22:46.250\nThat's kind of an important step\nof getting SHH up and going and\n\n451\n00:22:46.250 --> 00:22:47.870\nwe're working in our environment.\n\n452\n00:22:47.870 --> 00:22:50.570\nSo we're going to, I was about to say\nwe're going to wait for that to happen,\n\n453\n00:22:50.570 --> 00:22:51.870\nbut it did just finish.\n\n454\n00:22:51.870 --> 00:22:53.710\nIt's now got a certificate.\n\n455\n00:22:53.710 --> 00:22:56.640\nThat certificate is stored\nin your configuration.\n\n456\n00:22:56.640 --> 00:22:59.240\nIf I do a show running dash config and\n\n457\n00:22:59.240 --> 00:23:03.180\nlook at my configuration you'll\nsee a note in here somewhere.\n\n458\n00:23:03.180 --> 00:23:04.950\nHere we go.\n\n459\n00:23:04.950 --> 00:23:09.240\nCrypto pki trustpoint, that's me setting\nmyself up as a self-signed root.\n\n460\n00:23:10.270 --> 00:23:13.630\nAnd then right after that,\nhere's my certificate.\n\n461\n00:23:13.630 --> 00:23:16.610\nSo that's the certificate\nthat we just generated.\n\n462\n00:23:16.610 --> 00:23:19.810\nStored right here in our\nrunning configuration.\n\n463\n00:23:19.810 --> 00:23:22.270\nIt also gets stored in\nthe start up configuration so\n\n464\n00:23:22.270 --> 00:23:23.950\nwhen you reboot, you don't lose it.\n\n465\n00:23:23.950 --> 00:23:27.120\nWell, I haven't saved yet, so if I were to\nreboot right now, I'd lose my certificate.\n\n466\n00:23:27.120 --> 00:23:32.580\nSo I'm gonna do a copy running config\nstart up config and backup my config.\n\n467\n00:23:33.780 --> 00:23:34.950\nAnd now it'll be part of the start up.\n\n468\n00:23:34.950 --> 00:23:37.030\nBut it is actually stored a little\nbit different in the startup.\n\n469\n00:23:37.030 --> 00:23:39.770\nIf I do a show startup-config.\n\n470\n00:23:39.770 --> 00:23:42.390\nAnd we get to those certificates lines,\n\n471\n00:23:42.390 --> 00:23:45.410\nyou see how the certificate\nisn't actually stored here.\n\n472\n00:23:45.410 --> 00:23:48.879\nYou see how it's actually\nreferring to a file in the NVRam.\n\n473\n00:23:48.879 --> 00:23:52.173\nSo when I saved, it took\nthe certificate out of the config and\n\n474\n00:23:52.173 --> 00:23:54.895\nstore it in the NVRam so\nit would be waiting for us.\n\n475\n00:23:54.895 --> 00:23:59.880\nBut if we do a show runn, and\nwe take a look at the running config, and\n\n476\n00:23:59.880 --> 00:24:03.970\nwe get into that,\nthe certificate is still there.\n\n477\n00:24:03.970 --> 00:24:05.960\nSo you are running from it in RAM,\nbut when you save it,\n\n478\n00:24:05.960 --> 00:24:07.410\nit splits it out into a separate file.\n\n479\n00:24:07.410 --> 00:24:09.470\nSo just a little FYI on that.\n\n480\n00:24:09.470 --> 00:24:12.120\nBut I got a certificate now,\nI'm set up for SSH,\n\n481\n00:24:12.120 --> 00:24:15.100\nI'm set up to only use SSH,\nwe should be good to go.\n\n482\n00:24:15.100 --> 00:24:17.240\nThe only thing I haven't\ndone is alter whether or\n\n483\n00:24:17.240 --> 00:24:19.690\nnot we support SSH version one or\nversion two.\n\n484\n00:24:19.690 --> 00:24:23.010\nThat right now, if I do a show ip ssh,\nI've got that 1.99.\n\n485\n00:24:23.010 --> 00:24:24.860\nSo I'm supporting both.\n\n486\n00:24:24.860 --> 00:24:29.610\nVersion one and version two\nwell in the config if you do ip\n\n487\n00:24:29.610 --> 00:24:34.470\nssh you’ll see right here where\nyou could specify a version and\n\n488\n00:24:34.470 --> 00:24:38.610\nthis the syntax here is actually\nnot really all that clear.\n\n489\n00:24:38.610 --> 00:24:43.830\nIf I just say one then I’ll just support\nversion 1, if I say 2 all just for\n\n490\n00:24:43.830 --> 00:24:49.320\nversion 2 if I say 1 space 2,\nI'll support both and\n\n491\n00:24:49.320 --> 00:24:53.790\nI'll always try version 1 first and\nthen I'll try version 2.\n\n492\n00:24:53.790 --> 00:24:58.930\nIf I say 2, 1, I'll try version 2\nfirst and then I'll try version 1.\n\n493\n00:24:58.930 --> 00:25:00.915\nThat's normally what you want is 2, 1.\n\n494\n00:25:00.915 --> 00:25:01.997\nIf you're gonna support both.\n\n495\n00:25:01.997 --> 00:25:06.885\nNormally want I want though is to just\nsupport two and so by doing that IP ssh\n\n496\n00:25:06.885 --> 00:25:12.075\nversion 2, I'm telling the routers\nwhich not to support version one and\n\n497\n00:25:12.075 --> 00:25:17.525\nif I do a show IP ssh now see how\nit doesn't say 1.99 any more now\n\n498\n00:25:17.525 --> 00:25:21.736\nit just says version 2, and that's because\nI disabled version 1 support, right?\n\n499\n00:25:21.736 --> 00:25:25.480\nSo in theory I should be able to ssh into\nthis device unless I forgot anything\n\n500\n00:25:25.480 --> 00:25:26.680\nI don't think I did.\n\n501\n00:25:26.680 --> 00:25:28.270\nSo I've got a user name created.\n\n502\n00:25:28.270 --> 00:25:29.950\nI've got a certificate in place.\n\n503\n00:25:29.950 --> 00:25:31.250\nWe should be good to go.\n\n504\n00:25:31.250 --> 00:25:34.900\nSo I'm gonna go and re-attempt to sshn.\n\n505\n00:25:34.900 --> 00:25:43.140\nI'll say ssh admin@10.1.230.243, and\nit should prompt me for a password.\n\n506\n00:25:43.140 --> 00:25:46.860\nI'll provide my password,\nand I'm in, right?\n\n507\n00:25:46.860 --> 00:25:48.400\nSo, I'm in, I'm connected.\n\n508\n00:25:48.400 --> 00:25:51.640\nI'm using SSH, so\neverything I send is being encrypted, and\n\n509\n00:25:51.640 --> 00:25:54.210\nwhen I enable, I can jump right in.\n\n510\n00:25:54.210 --> 00:25:56.630\nAnd now I'm able to work on the device.\n\n511\n00:25:56.630 --> 00:25:59.930\nAll right,\nright here we're pretty good to go.\n\n512\n00:25:59.930 --> 00:26:00.870\nWe could stop.\n\n513\n00:26:00.870 --> 00:26:04.990\nYou could actually go a step further and\nconfigure triple A authentication to say\n\n514\n00:26:04.990 --> 00:26:07.610\nlook at the user and\nif the user's privilege level 15,\n\n515\n00:26:07.610 --> 00:26:10.160\nskip the unprivileged prompt and\ntake them right to privilege.\n\n516\n00:26:10.160 --> 00:26:13.210\nYou can do that.\nWe covered that in the CCNA security show.\n\n517\n00:26:13.210 --> 00:26:15.370\nSo there is a little bit more\nyou can do with triple a.\n\n518\n00:26:15.370 --> 00:26:16.460\nI shouldn't say a little.\n\n519\n00:26:16.460 --> 00:26:18.520\nThere's a lot more that\nyou can do in triple a.\n\n520\n00:26:18.520 --> 00:26:19.760\nBut for the basics.\n\n521\n00:26:19.760 --> 00:26:24.090\nTo get a router up to where I can securely\nconnect to it in a trustworthy fashion.\n\n522\n00:26:24.090 --> 00:26:25.310\nThis is it right here.\n\n523\n00:26:25.310 --> 00:26:27.380\nSo let's recap because\nI know that was a lot.\n\n524\n00:26:27.380 --> 00:26:28.740\nLet's recap those commands and\n\n525\n00:26:28.740 --> 00:26:31.210\nI'll put the commands in the show\nnotes to so you've got them.\n\n526\n00:26:31.210 --> 00:26:33.310\nBut if we do a show running-config.\n\n527\n00:26:33.310 --> 00:26:35.840\nActually let me use my other\nscreen it's easier to read.\n\n528\n00:26:37.270 --> 00:26:40.670\nSo if we take a look at that config you'll\nsee each of the different things that\n\n529\n00:26:40.670 --> 00:26:41.650\nwe had to do.\n\n530\n00:26:41.650 --> 00:26:43.740\nYou'll see where we define the host name.\n\n531\n00:26:43.740 --> 00:26:45.680\nBecause we had to have that, right?\n\n532\n00:26:45.680 --> 00:26:49.570\nWe switched to triple A new model,\nand we created that user account.\n\n533\n00:26:49.570 --> 00:26:51.360\nAnd I can go on and\ncreate more user accounts.\n\n534\n00:26:51.360 --> 00:26:54.510\nSo every user could have their own\naccount if I wanted to go that route.\n\n535\n00:26:54.510 --> 00:26:55.500\nAnd then as we continue on,\n\n536\n00:26:55.500 --> 00:26:58.970\nyou'll see where we defined\nthe domain name right there.\n\n537\n00:26:58.970 --> 00:27:00.970\nWe needed that for the certificate.\n\n538\n00:27:00.970 --> 00:27:04.360\nAnd there's the certificate going\nby that we created with the crypto\n\n539\n00:27:04.360 --> 00:27:06.250\nkeygen rsa command.\n\n540\n00:27:06.250 --> 00:27:10.510\nAnd beyond that we got what we\nrestricted at down the ssh version 2.\n\n541\n00:27:10.510 --> 00:27:15.660\nAnd if I all the way down\nto the vt white lines,\n\n542\n00:27:15.660 --> 00:27:22.755\nway down here we'll see, we're we limited\nit to just ssh and we disabled telnet.\n\n543\n00:27:22.755 --> 00:27:27.695\nOkay, now remember that I had assigned\na password to the console and\n\n544\n00:27:27.695 --> 00:27:31.095\nI had assigned a password to the vty and\nthey're still there, right?\n\n545\n00:27:31.095 --> 00:27:34.540\nAnd I'd used the login command\nto turn on login functions.\n\n546\n00:27:34.540 --> 00:27:35.890\nAnd that's now gone from the vty.\n\n547\n00:27:35.890 --> 00:27:39.890\nAnd that's because the log in is no longer\nbeing handled by the command prompt's\n\n548\n00:27:39.890 --> 00:27:41.720\nlog in it's being handled by triple a.\n\n549\n00:27:41.720 --> 00:27:43.370\nAnd so the log in function is now gone.\n\n550\n00:27:43.370 --> 00:27:46.850\nIn fact, when I try to put it back, you'll\nsee that it gives me a little error.\n\n551\n00:27:46.850 --> 00:27:51.700\nIf I do like a line vty 04 and\nI say login, incomplete command.\n\n552\n00:27:51.700 --> 00:27:53.200\nThat command worked before.\n\n553\n00:27:53.200 --> 00:27:56.220\nUnder AAA new model,\nlogin is no longer handled this way.\n\n554\n00:27:56.220 --> 00:27:59.250\nSo, it's handled by AAA, and so now\nwe've got the authentication parameters,\n\n555\n00:27:59.250 --> 00:28:01.550\nwe can start to define,\nit gets a little bit more complex.\n\n556\n00:28:01.550 --> 00:28:03.650\nWe don't really need that cuz\nwe see it's already working.\n\n557\n00:28:03.650 --> 00:28:05.820\nWith the defaults the way\nthat we gotta send.\n\n558\n00:28:05.820 --> 00:28:09.990\nBut now, my switch has a reliable clock\nsource, we're getting a valid time,\n\n559\n00:28:09.990 --> 00:28:13.030\nI've got my host name,\nI can SSH into it to manage it.\n\n560\n00:28:13.030 --> 00:28:17.000\nWe did some convenience commands,\nlike a logging synchronous so\n\n561\n00:28:17.000 --> 00:28:19.640\nour commands weren't constantly\ngetting overwritten, and\n\n562\n00:28:19.640 --> 00:28:22.880\nour timestamps are nice and\nclean in our logs.\n\n563\n00:28:22.880 --> 00:28:27.000\nThis device now has a good solid\ninitial configuration on it.\n\n564\n00:28:27.000 --> 00:28:30.510\nIf this were a router or a switch,\nit's not ready for me to customize it for\n\n565\n00:28:30.510 --> 00:28:32.400\nall the unique things it's gonna do.\n\n566\n00:28:32.400 --> 00:28:36.590\nBut otherwise that whole set of commands\nwe just saw over the last three parts,\n\n567\n00:28:36.590 --> 00:28:40.050\nI keep those like, well,\nI guess you can't really see it.\n\n568\n00:28:40.050 --> 00:28:43.010\nBut I keep those like this,\nit's a thing that I can cut and paste.\n\n569\n00:28:43.010 --> 00:28:47.900\nWhen I get a new router or a switch I just\ncopy that whole chunk of commands and\n\n570\n00:28:47.900 --> 00:28:49.020\nI just paste it right in.\n\n571\n00:28:49.020 --> 00:28:52.670\nAll I do is change the host name and the\nIP address and I paste it right in, and\n\n572\n00:28:52.670 --> 00:28:54.470\nnow that device has the base\nconfiguration on it.\n\n573\n00:28:54.470 --> 00:28:58.240\nThe only thing I have to do by hand are\nthe unique things that just apply to that\n\n574\n00:28:58.240 --> 00:29:00.260\none device and\nthen we can throw it out into production.\n\n575\n00:29:00.260 --> 00:29:04.070\nSo those are things that I do on every\nrouter and every switch that I work on.\n\n576\n00:29:05.770 --> 00:29:09.360\n>> All right, well, Don, thank you again\nfor showing us how to get a device setup\n\n577\n00:29:09.360 --> 00:29:12.420\ninitially so that we can get it\nready now for, well, routing and\n\n578\n00:29:12.420 --> 00:29:15.460\nswitching and doing all the things\nwe want it to do on our network.\n\n579\n00:29:15.460 --> 00:29:17.620\nThere's a lot of commands here,\nso make sure you go back and\n\n580\n00:29:17.620 --> 00:29:19.400\nreview each of these three episodes.\n\n581\n00:29:19.400 --> 00:29:23.150\nYou may say, well,\nis this really exam topics?\n\n582\n00:29:23.150 --> 00:29:26.380\nWell, there's a lot of small things in\nthere that are actually exam topics.\n\n583\n00:29:26.380 --> 00:29:27.900\nYou may not be so told here.\n\n584\n00:29:27.900 --> 00:29:30.490\nMake sure you actually configure\nall these things at one time.\n\n585\n00:29:30.490 --> 00:29:33.310\nBut each one of these elements\nthey're actually testable material so\n\n586\n00:29:33.310 --> 00:29:36.580\nmake sure you go back over them and\nmake sure you check things out.\n\n587\n00:29:36.580 --> 00:29:39.520\nRemember that the goal here is practice,\npractice, practice.\n\n588\n00:29:39.520 --> 00:29:41.970\nSpeed and accuracy is the key to the exam.\n\n589\n00:29:41.970 --> 00:29:44.710\nWell, this is a great place for\nus to end this episode then.\n\n590\n00:29:44.710 --> 00:29:48.270\nSigning off for IT Pro TV,\nI've been your host Ronnie Wong.\n\n591\n00:29:48.270 --> 00:29:49.470\n>> And I'm Don Pezet.\n\n592\n00:29:49.470 --> 00:29:52.260\n>> Stay tuned right here for\nmore CCENT shows.\n\n",
          "vimeoId": "175535448"
        }
      ],
      "title": "Network Fundamentals"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Ronnie and Don introduce LAN Switching.  They discuss the basics of layer 2 switching concepts: the basic differences between a hub (layer 1) and switch (layer 2).  The way switches build the mac address table and how switches forward unicasts and broadcasts.  Using a switch, Don demonstrates how the switch builds mac address table and the show commands that reveal that table.",
          "length": "1973",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-2-1-lan_switching-070816-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-2-1-lan_switching-070816-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-2-1-lan_switching-070816-1-sm.jpg",
          "title": "LAN Switching",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.191 --> 00:00:13.001\nWelcome to another great\nepisode right here on ITProTV.\n\n3\n00:00:15.510 --> 00:00:19.560\nI'm your host Ronnie Wong, and\ntoday we're taking a look at Cisco CCENT.\n\n4\n00:00:19.560 --> 00:00:23.710\nWe're getting ready for that exam, and\nwe're continuing on in our series here,\n\n5\n00:00:23.710 --> 00:00:28.290\nand we've now moved into LAN technologies,\nreally the idea of switching.\n\n6\n00:00:28.290 --> 00:00:30.160\nAnd who better to help us than Mr.\nDon Pezet.\n\n7\n00:00:30.160 --> 00:00:31.540\nDon, welcome back to our studios.\n\n8\n00:00:31.540 --> 00:00:32.500\n>> Thanks for having me back, Ronnie.\n\n9\n00:00:32.500 --> 00:00:34.790\nAnd yeah, I'm excited to dive\nright back into switches.\n\n10\n00:00:34.790 --> 00:00:39.720\nIn our last episode, we really got our\nbeaks wet with getting into the Cisco CLI\n\n11\n00:00:39.720 --> 00:00:42.120\nand starting to see how to work\nwith some of this equipment.\n\n12\n00:00:42.120 --> 00:00:45.450\nBut we didn't actually achieve anything,\ndid we, right?\n\n13\n00:00:45.450 --> 00:00:47.270\nWe saw how to move around in the prompt.\n\n14\n00:00:47.270 --> 00:00:49.350\nWe saw how to save our config.\n\n15\n00:00:49.350 --> 00:00:50.860\nBut we didn't actually configure anything.\n\n16\n00:00:50.860 --> 00:00:53.780\nSo in this episode we're gonna\nstart taking a look at switches and\n\n17\n00:00:53.780 --> 00:00:55.850\nhow they work and what they do.\n\n18\n00:00:55.850 --> 00:00:59.200\nAnd start to get a chance to see how\nto configure and work with the device.\n\n19\n00:00:59.200 --> 00:01:02.210\nAnd so we're going to run through\na series of episodes here on switching,\n\n20\n00:01:02.210 --> 00:01:05.010\nall covering the basics that\nwe need to be aware of.\n\n21\n00:01:05.010 --> 00:01:08.325\nDo understand there are a ton of\nfeatures inside of a Cisco switch.\n\n22\n00:01:08.325 --> 00:01:10.405\nAnd you certainly don’t have\nto use them all right, but\n\n23\n00:01:10.405 --> 00:01:12.795\nyou need to identify\nthe ones are useful to you.\n\n24\n00:01:12.795 --> 00:01:16.675\nMany are on by default, and so they're\nalready working or doing great things.\n\n25\n00:01:16.675 --> 00:01:21.085\nBut there are many features on a switch\nthat are just turned off by default and if\n\n26\n00:01:21.085 --> 00:01:24.935\nyou don’t know how to turn them on you're\nkind of wasting the functionality and\n\n27\n00:01:24.935 --> 00:01:26.535\nthe real power of your switch.\n\n28\n00:01:26.535 --> 00:01:28.385\nBut let’s start with the default stuff,\n\n29\n00:01:28.385 --> 00:01:30.750\nthe things that a switch\nis normally doing, okay?\n\n30\n00:01:30.750 --> 00:01:32.110\nThe first thing that we\nneed to identify for\n\n31\n00:01:32.110 --> 00:01:36.250\nthe exam is the difference\nbetween a switch and a hub.\n\n32\n00:01:36.250 --> 00:01:38.960\nI know when you go to the store you\ndon't find hubs very often anymore.\n\n33\n00:01:38.960 --> 00:01:40.830\nThere are still some that are out there.\n\n34\n00:01:40.830 --> 00:01:44.400\nHubs were the original technology\nthat switches replaced.\n\n35\n00:01:44.400 --> 00:01:47.470\nAnd I remember when this was\nhappening in the late 90s and\n\n36\n00:01:47.470 --> 00:01:51.270\nearly 2000s, where everybody was\nmoving over to switch-based networks.\n\n37\n00:01:51.270 --> 00:01:55.640\nAnd at the time, you could get hubs for\nabout $10 a port.\n\n38\n00:01:55.640 --> 00:01:59.840\nSo if you needed a ten port hub\nyou get one for about $100.\n\n39\n00:01:59.840 --> 00:02:01.592\nAnd if you needed 20 port hub,\nit's about $200.\n\n40\n00:02:01.592 --> 00:02:04.430\nThat was about the pricing,\nthis was a long time ago.\n\n41\n00:02:05.660 --> 00:02:09.840\nThen the switches came along and\nthey were like ten times the price.\n\n42\n00:02:09.840 --> 00:02:13.250\nThey were $100 a port, if I wanted\ns five port switch it was $500.\n\n43\n00:02:13.250 --> 00:02:17.380\nIt was ridiculously priced,\nand way back then I said,\n\n44\n00:02:17.380 --> 00:02:20.530\nI don't understand why switches are so\nmuch more expensive, what they do?\n\n45\n00:02:20.530 --> 00:02:24.270\nAnd learning how they function, learning\nwhat they do is really what helps us\n\n46\n00:02:24.270 --> 00:02:26.540\nidentify why they're so valuable and\nuseful in your network.\n\n47\n00:02:27.640 --> 00:02:28.660\nLet's start with a hub.\n\n48\n00:02:28.660 --> 00:02:31.520\nLet's start with the old way and\nwhat's wrong with it.\n\n49\n00:02:31.520 --> 00:02:34.610\nSo I've got a little diagram whipped up\nhere with kind of a basic network, right.\n\n50\n00:02:34.610 --> 00:02:37.850\nI've got two laptops and\na server plugged into a switch.\n\n51\n00:02:37.850 --> 00:02:41.500\nAnd if a laptop wants to talk\nto another laptop, right?\n\n52\n00:02:41.500 --> 00:02:42.996\nThese two laptops wanna\ntalk to each other or\n\n53\n00:02:42.996 --> 00:02:44.864\nmaybe one of these laptops\nwants to talk to the server.\n\n54\n00:02:44.864 --> 00:02:46.570\nI guess that's a little more realistic,\nright?\n\n55\n00:02:46.570 --> 00:02:49.470\nSo a laptop wants to reach out and\ntalk to that server.\n\n56\n00:02:49.470 --> 00:02:52.140\nWell, it's going to send a frame\n\n57\n00:02:52.140 --> 00:02:56.160\nacross this cable into the port of\nthe hub that it's plugged into, okay?\n\n58\n00:02:56.160 --> 00:02:57.790\nSo what does a hub do?\n\n59\n00:02:57.790 --> 00:03:00.110\nWell, it takes the traffic\nin that one port and\n\n60\n00:03:00.110 --> 00:03:03.040\nthen it amplifies it because\nhubs are repeaters, right?\n\n61\n00:03:03.040 --> 00:03:04.620\nYour electrical signals start to weaken.\n\n62\n00:03:04.620 --> 00:03:08.128\nRonnie, do you remember what's\nthe maximum length of an Ethernet cable?\n\n63\n00:03:08.128 --> 00:03:10.949\n>> It's usually going to be 100 meters or\n328 feet.\n\n64\n00:03:10.949 --> 00:03:14.418\n>> So if we need a cable more than\n328 feet, we need a repeater and\n\n65\n00:03:14.418 --> 00:03:16.430\na hub can certainly do that, right.\n\n66\n00:03:16.430 --> 00:03:21.340\nSo now I could have 656 feet,\nI guess, this is rough,\n\n67\n00:03:21.340 --> 00:03:24.450\non the fly math, but\nyou can use that hub to repeat it.\n\n68\n00:03:24.450 --> 00:03:27.980\nBut it's going to take your electrical\nsignal in, it's going to amplify it, and\n\n69\n00:03:27.980 --> 00:03:32.950\nthen it's going to send it out\nevery single port on the hub.\n\n70\n00:03:32.950 --> 00:03:35.680\nThat's all a hub does, it's a dumb device.\n\n71\n00:03:35.680 --> 00:03:39.380\nIt's practically a layer 1 device because\nit just takes the electrical impulses and\n\n72\n00:03:39.380 --> 00:03:41.580\nsends them right back out\nall the other interfaces.\n\n73\n00:03:41.580 --> 00:03:43.440\nIt doesn't actually look\nat your data at all.\n\n74\n00:03:43.440 --> 00:03:48.060\nSo what that looks like, if we go back to\nmy diagram, is when this laptop goes to to\n\n75\n00:03:48.060 --> 00:03:52.860\ntalk to that server, the message goes in\nthe port that laptop is plugged into,\n\n76\n00:03:52.860 --> 00:03:56.590\nand then it comes out\nevery single other port.\n\n77\n00:03:56.590 --> 00:03:58.299\nAll right now, why does that matter?\n\n78\n00:03:58.299 --> 00:04:03.304\nWell it matters because if I go back to\nthis diagram, well I've got one host,\n\n79\n00:04:03.304 --> 00:04:08.590\nthis guy, this laptop, that is just trying\nto talk to this server way over here.\n\n80\n00:04:08.590 --> 00:04:10.990\nAnd I've drawn a line that we can't see,\nthere.\n\n81\n00:04:10.990 --> 00:04:15.310\nSo I've got this one laptop that's\ntrying to talk to that one host.\n\n82\n00:04:15.310 --> 00:04:19.600\nBut now everybody gets it, including\nthis laptop here that just happens to be\n\n83\n00:04:19.600 --> 00:04:22.440\nplugged into the same hub,\nkind of in the middle of this mess, right?\n\n84\n00:04:22.440 --> 00:04:24.550\nAnd so what does that laptop do?\n\n85\n00:04:24.550 --> 00:04:26.420\nWell, remember our OSI model.\n\n86\n00:04:26.420 --> 00:04:31.080\nIt receives the frame, receives it\nas electrical impulses at layer 1.\n\n87\n00:04:31.080 --> 00:04:32.680\nThen it converts it into ones and zeros.\n\n88\n00:04:32.680 --> 00:04:35.750\nAt layer 2, it looks at the source and\ndestination MAC address.\n\n89\n00:04:35.750 --> 00:04:37.870\nThe source MAC address is this laptop.\n\n90\n00:04:37.870 --> 00:04:41.950\nThe destination MAC address is the server,\nnot this laptop.\n\n91\n00:04:41.950 --> 00:04:46.440\nSo it receives it, it decodes it,\nit looks at layer 2, says it's not for\n\n92\n00:04:46.440 --> 00:04:48.180\nme and it throws it away.\n\n93\n00:04:48.180 --> 00:04:50.760\nSo we just wasted a little time\non that computer, didn't we?\n\n94\n00:04:50.760 --> 00:04:53.158\nNot a bunch, just a little bit.\n\n95\n00:04:53.158 --> 00:04:56.219\nOkay, so that's one problem with a hub.\n\n96\n00:04:56.219 --> 00:05:00.487\nThe other problem with a hub is\nthat with Ethernet networks,\n\n97\n00:05:00.487 --> 00:05:03.580\nonly one person can talk at a time.\n\n98\n00:05:03.580 --> 00:05:06.400\nIf two people talk at the same time,\n\n99\n00:05:06.400 --> 00:05:10.670\nthere are electrical impulses going across\nthe wire and they hit each other, and\n\n100\n00:05:10.670 --> 00:05:14.260\nwhen they do, the signals get garbled,\nand they call that a collision.\n\n101\n00:05:14.260 --> 00:05:19.740\nSo a collision is when two people talk at\nthe same time and the data gets corrupted.\n\n102\n00:05:19.740 --> 00:05:24.730\nNow the Ethernet protocol, it's actually\ngot a plan for this, its called CSMACD,\n\n103\n00:05:24.730 --> 00:05:29.590\ncarrier sense multiple access\ncollision detection, all right.\n\n104\n00:05:29.590 --> 00:05:32.550\nCarrier sense multiple access,\nwhen you go and\n\n105\n00:05:32.550 --> 00:05:35.330\ntalk on the network,\nyou don't talk right away.\n\n106\n00:05:35.330 --> 00:05:39.860\nYou do a carrier sense and you look for\nmultiple access, you listen, right?\n\n107\n00:05:39.860 --> 00:05:42.350\nIt's like looking both ways\nbefore crossing the street,\n\n108\n00:05:42.350 --> 00:05:46.290\nthat's how CSMA/CD networks work, is\nthat if your laptop is about to talk, or\n\n109\n00:05:46.290 --> 00:05:49.720\ndesktop workstation, whatever it is,\nif you're about to talk, you listen.\n\n110\n00:05:49.720 --> 00:05:51.510\nIs anybody else talking right now?\n\n111\n00:05:51.510 --> 00:05:54.370\nIf they are, you wait,\nI don't want to talk at the same time.\n\n112\n00:05:54.370 --> 00:05:58.132\nBut if you listen and it's quiet,\nthen you go ahead and talk.\n\n113\n00:05:58.132 --> 00:06:00.580\nAll right, I'm going to talk,\nit's my turn, right.\n\n114\n00:06:00.580 --> 00:06:03.198\nNow just because you talked\ndoesn't mean you're safe.\n\n115\n00:06:03.198 --> 00:06:07.630\nWhat if Ronnie's laptop is listening, and\nmy laptop is listening at the same time?\n\n116\n00:06:07.630 --> 00:06:10.300\nWe both hear a quiet network,\nwe both go to talk.\n\n117\n00:06:10.300 --> 00:06:12.540\nNow we get a collision, so\nthat's where the second part comes in,\n\n118\n00:06:12.540 --> 00:06:13.730\ncollision detection.\n\n119\n00:06:13.730 --> 00:06:17.260\nAnytime you talk, you then listen\non the line, and you say hm,\n\n120\n00:06:17.260 --> 00:06:18.840\ndo I hear anybody else?\n\n121\n00:06:18.840 --> 00:06:22.920\nAnd when you hear,\nyou see Ronnie's packet coming, or\n\n122\n00:06:22.920 --> 00:06:26.280\nRonnie's frame coming to me, and\nit's gonna be all corrupt and messed up.\n\n123\n00:06:26.280 --> 00:06:28.730\nSo if I get a corrupt and messed up frame,\n\n124\n00:06:28.730 --> 00:06:33.810\ncoming in on my line, I'm gonna assume\nthat mine was corrupt and messed up also.\n\n125\n00:06:33.810 --> 00:06:36.195\nAnd so as soon as that happens and\nmy laptop knows there was a problem,\n\n126\n00:06:36.195 --> 00:06:37.773\nRonnie's laptop knows there was a problem.\n\n127\n00:06:37.773 --> 00:06:41.210\nWe've detected the collision,\nand now we gotta retransmit.\n\n128\n00:06:41.210 --> 00:06:44.470\nBut we don't just retransmit\nimmediately cuz what's gonna happen?\n\n129\n00:06:44.470 --> 00:06:46.260\nRonnie and I are both gonna\nretransmit at the same time,\n\n130\n00:06:46.260 --> 00:06:47.510\nwe're just gonna collide again.\n\n131\n00:06:47.510 --> 00:06:49.929\nSo there's this hold down\ntimer that comes in and\n\n132\n00:06:49.929 --> 00:06:51.990\nit basically sets a random interval.\n\n133\n00:06:51.990 --> 00:06:55.190\nSo it's different and\nI'll wait a few milliseconds or\n\n134\n00:06:55.190 --> 00:06:58.620\nRonnie will wait a few more milliseconds,\nthat way we could talk and not collide.\n\n135\n00:06:58.620 --> 00:07:02.130\nThat is happening all the time\non a hub-based network.\n\n136\n00:07:02.130 --> 00:07:06.150\nAnd when we communicate like this where\nthat traffic is coming out every port,\n\n137\n00:07:06.150 --> 00:07:12.090\nwhen one person talks, everybody else\nis receiving, nobody else can talk.\n\n138\n00:07:12.090 --> 00:07:18.350\nThey've all got to wait and that makes\nhub networks slower, and if it's a small\n\n139\n00:07:18.350 --> 00:07:21.550\nnetwork, if you've got five computers,\nor ten computers, it's not a big deal.\n\n140\n00:07:21.550 --> 00:07:25.610\nIf you've got 50 or 60 computers,\nit's still not that big of a deal.\n\n141\n00:07:25.610 --> 00:07:31.030\nBut right around 80 computers or so,\nthat's where things start to slow down.\n\n142\n00:07:31.030 --> 00:07:32.735\nAnd by the time you get to 2 or\n\n143\n00:07:32.735 --> 00:07:36.023\n300 computers it just\ndoesn't function anymore.\n\n144\n00:07:36.023 --> 00:07:38.855\nAll right, and back in the day,\na network of 2 or\n\n145\n00:07:38.855 --> 00:07:43.060\n300 computers is pretty unusual,\ntoday it is extremely common.\n\n146\n00:07:43.060 --> 00:07:45.400\nGo to any school,\ngo to any office building and\n\n147\n00:07:45.400 --> 00:07:47.990\nyou'll find a network with more than 2 or\n300 computers.\n\n148\n00:07:47.990 --> 00:07:50.172\nAnd a hub-based network just can't do it.\n\n149\n00:07:50.172 --> 00:07:54.580\nSo what they had to start doing was\nbreaking up the collision domain,\n\n150\n00:07:54.580 --> 00:07:56.256\nseparating the network.\n\n151\n00:07:56.256 --> 00:07:59.402\nAnd originally they were doing it with\nthese devices called bridges, and.\n\n152\n00:07:59.402 --> 00:08:02.360\nTechnically the switches we use\ntoday are multi port bridges, so\n\n153\n00:08:02.360 --> 00:08:03.721\nyou might see that term used.\n\n154\n00:08:03.721 --> 00:08:06.920\nYou'll see it in technical manuals a lot\nwhere they call a switch a bridge.\n\n155\n00:08:06.920 --> 00:08:09.380\nThe original bridges only had two ports.\n\n156\n00:08:09.380 --> 00:08:13.450\nYou had two different sides and you could\nuse it to divide your network in half.\n\n157\n00:08:13.450 --> 00:08:19.260\nAnd all a bridge did was\nbasically filter the traffic\n\n158\n00:08:19.260 --> 00:08:24.020\npassing from one port to another, and\nthat's exactly what a switch does.\n\n159\n00:08:24.020 --> 00:08:27.260\nSo let me show you the same\nscenario using a switch.\n\n160\n00:08:27.260 --> 00:08:32.460\nHere, I've got these laptops and\nI've got that server floating out here.\n\n161\n00:08:32.460 --> 00:08:35.557\nAnd if a laptop wants to talk to a server,\n\n162\n00:08:35.557 --> 00:08:40.748\nwhen that data goes into the switch\ninstead of going out every port,\n\n163\n00:08:40.748 --> 00:08:45.231\nit just goes out the port\nthe server is on, and that's it.\n\n164\n00:08:45.231 --> 00:08:48.600\nAnd that means all the other ports,\nthey don't get any traffic at all.\n\n165\n00:08:49.720 --> 00:08:53.800\nAnd now if somebody else wants to talk,\nif I have two devices that I wanna talk.\n\n166\n00:08:53.800 --> 00:08:57.310\nIn theory, they can talk at the same\ntime and there'll be no collision\n\n167\n00:08:57.310 --> 00:09:00.160\nbecause their ports weren't\ninvolved in this communication.\n\n168\n00:09:00.160 --> 00:09:06.040\nAnd the way a switch is able to do that,\nis that a switch is true layer two device.\n\n169\n00:09:06.040 --> 00:09:10.360\nIt looks at the frame on the network,\nit decodes it to layer one and layer two.\n\n170\n00:09:10.360 --> 00:09:13.610\nAnd in layer two it looks the source and\ndestination MAC address.\n\n171\n00:09:13.610 --> 00:09:18.120\nAnd so when that data comes in here\non port one, it looks at it and\n\n172\n00:09:18.120 --> 00:09:21.860\nit says, hey,\nthere's a source MAC address on this.\n\n173\n00:09:21.860 --> 00:09:27.150\nSo I now know the computer\nthat is on that port and\n\n174\n00:09:27.150 --> 00:09:29.809\nso it can fill that out.\n\n175\n00:09:29.809 --> 00:09:30.885\nI'll just make one up.\n\n176\n00:09:30.885 --> 00:09:34.760\nAnd it'll say,\nthis MAC address is on port 1.\n\n177\n00:09:34.760 --> 00:09:38.840\nAnd as the computers talk,\nthe switch is constantly learning.\n\n178\n00:09:38.840 --> 00:09:44.240\nAnd so it's coming in and\nputting in whatever those\n\n179\n00:09:44.240 --> 00:09:47.980\nMAC addresses are for\neach individual port as it learns it.\n\n180\n00:09:49.160 --> 00:09:50.975\nAnd then that way when you go to talk,\n\n181\n00:09:50.975 --> 00:09:55.620\nif this MAC address on port one goes\nto talk to this other MAC address,\n\n182\n00:09:55.620 --> 00:10:00.178\nthe switch can send it directly to that\nport and not get anyone else involved.\n\n183\n00:10:00.178 --> 00:10:05.160\nSo a layer two switch maintains\nwhat's called a MAC address table.\n\n184\n00:10:06.220 --> 00:10:09.480\nAnd the MAC address table\nis storing just a list of\n\n185\n00:10:09.480 --> 00:10:13.780\nwhat MAC addresses are on what ports, and\nthat's a critical function of a switch.\n\n186\n00:10:13.780 --> 00:10:15.490\nI'm gonna show you on a real\nswitch in just a moment,\n\n187\n00:10:15.490 --> 00:10:17.580\nand we'll run through that same process.\n\n188\n00:10:17.580 --> 00:10:19.866\nBut that allows us to communicate, and\n\n189\n00:10:19.866 --> 00:10:22.997\ncommunicate without\ninvolving unnecessary ports.\n\n190\n00:10:22.997 --> 00:10:26.504\n>> Now Don, you've mentioned\nsomething that bears repeating here,\n\n191\n00:10:26.504 --> 00:10:29.886\nis that MAC address table is filled\nwith the source MAC address and\n\n192\n00:10:29.886 --> 00:10:32.380\nnot the destination MAC address right?\n\n193\n00:10:32.380 --> 00:10:35.000\n>> Right, yeah,\nthe switch is listening for\n\n194\n00:10:35.000 --> 00:10:39.780\nwhen we talk and every operating system\nthese days chatters more than it should.\n\n195\n00:10:39.780 --> 00:10:43.113\nSo if you plug a Windows machine in,\nWindows does this Internet check, where it\n\n196\n00:10:43.113 --> 00:10:46.073\nsees if it can get to the Internet,\nso it starts talking immediately.\n\n197\n00:10:46.073 --> 00:10:48.053\nIf you plug a Mac in, they run Bonjour,\n\n198\n00:10:48.053 --> 00:10:49.768\nBonjour never shuts off-\n>> [LAUGH]\n\n199\n00:10:49.768 --> 00:10:51.450\n>> That thing always talks.\n\n200\n00:10:51.450 --> 00:10:53.310\nBut there are some other devices,\nlike network printers,\n\n201\n00:10:53.310 --> 00:10:55.880\nwhere you might plug them in and\nthey stay completely silent and\n\n202\n00:10:55.880 --> 00:10:57.690\nthey never talk, until you talk to them.\n\n203\n00:10:58.690 --> 00:11:02.730\nNot all devices do that, most devices\nrun some sort of protocol to make them\n\n204\n00:11:02.730 --> 00:11:06.440\nautomatically be detected on the network\nand so they'll talk at some point.\n\n205\n00:11:06.440 --> 00:11:07.820\nAnd the switch will see them talk,\n\n206\n00:11:07.820 --> 00:11:11.800\nand it will pay attention to the source\nMAC address and record it on a port.\n\n207\n00:11:11.800 --> 00:11:16.460\nIt doesn't record destination because\nwhen it's receiving a frame it doesn't\n\n208\n00:11:16.460 --> 00:11:17.930\nnecessarily know where it's gonna go yet.\n\n209\n00:11:17.930 --> 00:11:20.740\nSo it can't record the destination there,\nit's gotta do the source.\n\n210\n00:11:20.740 --> 00:11:24.370\nAnd over time that table builds up and\ngets better and better and better.\n\n211\n00:11:24.370 --> 00:11:26.320\nUntil it knows where everybody is, and\n\n212\n00:11:26.320 --> 00:11:30.150\nnow everybody can be directed\nstraight to the correct port.\n\n213\n00:11:30.150 --> 00:11:34.004\nNow, what if I'd plug in\na devise that doesn't talk?\n\n214\n00:11:34.004 --> 00:11:37.240\nMaybe I've got some kind of security\nsniffer or something like that, so\n\n215\n00:11:37.240 --> 00:11:38.681\nI plug it in, it doesn't talk.\n\n216\n00:11:38.681 --> 00:11:40.399\nAnd I'm on a computer on the network and\n\n217\n00:11:40.399 --> 00:11:42.644\nI try to connect to that\ndevise that doesn't talk.\n\n218\n00:11:42.644 --> 00:11:46.353\nThe switch isn't gonna know where it is,\nso what does the switch do?\n\n219\n00:11:46.353 --> 00:11:47.784\nIt behaves like a hub.\n\n220\n00:11:47.784 --> 00:11:49.700\nIt does what's called frame flooding.\n\n221\n00:11:49.700 --> 00:11:53.110\nFrame flooding is exactly what\nwe saw in the hub diagram.\n\n222\n00:11:53.110 --> 00:11:56.513\nSo if I reach out trying to talk to the\nsecurity device the switch is gonna say\n\n223\n00:11:56.513 --> 00:11:57.225\nyou know what?\n\n224\n00:11:57.225 --> 00:12:02.610\nI don't know where that one is, so let\nme just flood it out all the interfaces.\n\n225\n00:12:02.610 --> 00:12:06.000\nBut it only has to do it one time\nbecause what's gonna happen?\n\n226\n00:12:06.000 --> 00:12:07.890\nThat device is gonna reply to me.\n\n227\n00:12:07.890 --> 00:12:10.650\nI send a message to that device,\nthat device is now gonna reply.\n\n228\n00:12:10.650 --> 00:12:13.731\nAnd as soon as that device replies,\nnow the switch learns you,\n\n229\n00:12:13.731 --> 00:12:15.141\nnow the switch goes got you!\n\n230\n00:12:15.141 --> 00:12:17.287\nNow let me add you to\nthe MAC address table,\n\n231\n00:12:17.287 --> 00:12:21.310\nand now everything else can be sent\ndirectly to that individual port.\n\n232\n00:12:21.310 --> 00:12:22.660\nSo the key thing about a switch,\n\n233\n00:12:22.660 --> 00:12:26.990\nthe key thing to remember is that you\ncould have multiple communications going\n\n234\n00:12:26.990 --> 00:12:32.400\non at the same time and they're not\ngoing to interfere with each other.\n\n235\n00:12:32.400 --> 00:12:36.869\nSo I could have several\ndifferent ports that\n\n236\n00:12:36.869 --> 00:12:41.227\nwere all talking and not have a collision.\n\n237\n00:12:41.227 --> 00:12:44.520\nThe hardest part of this is actually\ndrawing the lines apparently.\n\n238\n00:12:44.520 --> 00:12:48.760\nSo I could have a couple of different\nports all talking to each other.\n\n239\n00:12:48.760 --> 00:12:53.952\nAnd because they're just involving\neach other, there's no collision.\n\n240\n00:12:53.952 --> 00:12:57.859\nSo this green communication, this red\ncommunication, they're not bumping into\n\n241\n00:12:57.859 --> 00:13:02.010\neach other, the switch is keeping them\nseparate and we don't have collisions.\n\n242\n00:13:02.010 --> 00:13:05.050\nNow it also means something else,\nwith a hub\n\n243\n00:13:05.050 --> 00:13:09.840\nbecause everything is replicated out\nof every port if it's 100 megabit hub,\n\n244\n00:13:09.840 --> 00:13:12.390\nit can never move more\nthan 100 megabits of data.\n\n245\n00:13:12.390 --> 00:13:16.200\nIf it's a gigabit hub, it can never\nmove more than a gigabit of data.\n\n246\n00:13:16.200 --> 00:13:20.160\nSo a hub would always have a back plane\nthat was equal to the size of whatever\n\n247\n00:13:20.160 --> 00:13:21.940\nthe port bandwidth was.\n\n248\n00:13:21.940 --> 00:13:25.812\nBut on a switch,\nlet's say that this is a gigabit switch.\n\n249\n00:13:25.812 --> 00:13:33.705\nI could be moving a gigabit between\nthis laptop and the server.\n\n250\n00:13:33.705 --> 00:13:38.164\nI could be moving another gigabit between\nwhatever devices are plugged in here in\n\n251\n00:13:38.164 --> 00:13:42.920\nthis red loop, and another gigabit\nbetween these devices in the green loop.\n\n252\n00:13:42.920 --> 00:13:47.800\nAnd because the traffic is being\nsent directly to those hosts,\n\n253\n00:13:47.800 --> 00:13:48.580\nit's not colliding.\n\n254\n00:13:48.580 --> 00:13:51.450\nI'm not getting collisions,\nthese can be going on at the same time.\n\n255\n00:13:53.130 --> 00:13:56.500\nAnd if they are,\nI'm now moving 3 gigabits of data.\n\n256\n00:13:56.500 --> 00:13:57.310\nSo on a switch,\n\n257\n00:13:57.310 --> 00:14:00.830\nit's gonna have a back plane that\nexceeds the bandwidth of the ports.\n\n258\n00:14:00.830 --> 00:14:04.900\nAnd ideally, it'll have a back plane\nbig enough to equal all of the ports,\n\n259\n00:14:04.900 --> 00:14:06.380\nso that everybody can talk.\n\n260\n00:14:06.380 --> 00:14:08.549\nBut sometimes it's half that, and I've\ntalked about that in an earlier episode.\n\n261\n00:14:08.549 --> 00:14:10.253\nSo we might have an over\nsubscribed switch,\n\n262\n00:14:10.253 --> 00:14:11.920\nbut you'll usually have more bandwidth.\n\n263\n00:14:11.920 --> 00:14:14.680\nAnd that drove up the cost\nof switches back in the day.\n\n264\n00:14:14.680 --> 00:14:18.290\nNow in today's world,\nthe price of switches came down,\n\n265\n00:14:18.290 --> 00:14:22.560\nthat's why nobody sells hubs anymore,\nyou always get switches.\n\n266\n00:14:22.560 --> 00:14:25.990\nKey concepts remember from\nthe exam though is that on switch,\n\n267\n00:14:25.990 --> 00:14:27.960\nwe don't have collisions.\n\n268\n00:14:27.960 --> 00:14:29.715\nEven we do a broadcast, we do broadcast,\n\n269\n00:14:29.715 --> 00:14:32.484\nit's gonna go out every port no\nmatter what, it's a broadcast.\n\n270\n00:14:32.484 --> 00:14:36.346\nBut even when you do a broadcast you're\nnot gonna have a collision because on\n\n271\n00:14:36.346 --> 00:14:40.290\nthe switch, every single port\u007f\nhas it's own memory buffer.\n\n272\n00:14:40.290 --> 00:14:43.740\nAnd so when you plug your PC\ninto a port or your printer or\n\n273\n00:14:43.740 --> 00:14:47.700\nwhatever, it now is talking not to\nthe person on the other end, but\n\n274\n00:14:47.700 --> 00:14:50.040\ntalking to the port on the switch.\n\n275\n00:14:50.040 --> 00:14:56.450\nAnd when we send our data up to that port\nif the switch sees somebody else talking,\n\n276\n00:14:56.450 --> 00:14:59.260\nit just buffers your data and\nsends it along in just a moment and so\n\n277\n00:14:59.260 --> 00:15:00.910\nyou don't have collisions.\n\n278\n00:15:00.910 --> 00:15:03.910\nOn a hub network, there used to always\nbe a collision light on the hub and\n\n279\n00:15:03.910 --> 00:15:05.920\nit would blink away when\ncollisions happened.\n\n280\n00:15:05.920 --> 00:15:08.090\nOn switches,\nwe don't have collision lights anymore and\n\n281\n00:15:08.090 --> 00:15:09.738\nthat's because collisions don't occur.\n\n282\n00:15:09.738 --> 00:15:11.939\nIt can occur under really\nrare circumstances,\n\n283\n00:15:11.939 --> 00:15:14.330\nnormally it's an attack that causes it.\n\n284\n00:15:14.330 --> 00:15:18.010\nSo under normal circumstances\na switch does not get collisions.\n\n285\n00:15:18.010 --> 00:15:20.040\nWe still have one broadcast domain.\n\n286\n00:15:20.040 --> 00:15:22.985\nIf I send a broadcast,\nit is gonna go out every port, but\n\n287\n00:15:22.985 --> 00:15:24.876\nI've got many collision domains.\n\n288\n00:15:24.876 --> 00:15:28.800\nEvery single port is it's\nown collision domain.\n\n289\n00:15:28.800 --> 00:15:33.240\nSo that's it conceptually,\nlet's see this in real life.\n\n290\n00:15:33.240 --> 00:15:36.582\nSo my laptop, I've got a network\nadapter on my laptop and\n\n291\n00:15:36.582 --> 00:15:39.798\nI'm just gonna go in to my,\njust a preference of zero.\n\n292\n00:15:39.798 --> 00:15:43.160\nAnd let's find out what my MAC\naddress is on my network adapter.\n\n293\n00:15:43.160 --> 00:15:48.690\nSo from my network adapter, I'm plugged\nin to a Cisco 3560 switch behind me.\n\n294\n00:15:48.690 --> 00:15:53.337\nAnd when I plugged in I haven't talk or\nanything like that, but\n\n295\n00:15:53.337 --> 00:15:58.000\nI am probably generating just\ngeneric operating system data.\n\n296\n00:15:58.000 --> 00:16:00.350\nMy network adapter is set for DHCP, so\n\n297\n00:16:00.350 --> 00:16:03.956\nI'm certain I've at least sent\none broadcast out to say.\n\n298\n00:16:03.956 --> 00:16:05.932\nIs there a DHCP server out there and\n\n299\n00:16:05.932 --> 00:16:09.540\nas soon as I did that the switch\nshould have learned me.\n\n300\n00:16:09.540 --> 00:16:14.760\nAnd here's my MAC address and I'm just\ngonna remember that it ends in 8a85.\n\n301\n00:16:14.760 --> 00:16:20.630\nMAC addresses are 48 bits, the first half\nof it is identifying who made my hardware.\n\n302\n00:16:20.630 --> 00:16:24.460\nSo I'm on an Apple laptop and so\nthat's gonna be Apple, right?\n\n303\n00:16:24.460 --> 00:16:26.390\nBut then the last part of it here,\n\n304\n00:16:26.390 --> 00:16:30.040\nthe other 24 bits,\nthis is identifying me specifically.\n\n305\n00:16:30.040 --> 00:16:32.527\nSo, Ronnie's got an Apple laptop also, so\n\n306\n00:16:32.527 --> 00:16:36.470\nhe's likely starts with\n38:c9:86 just like mine does.\n\n307\n00:16:36.470 --> 00:16:38.780\nBut then the last part here for\nhis is gonna be different.\n\n308\n00:16:38.780 --> 00:16:42.415\nAll right, so I'm just gonna remember\nthis last little bit cuz that will be\n\n309\n00:16:42.415 --> 00:16:44.395\nenough for me to find myself, 8a:85.\n\n310\n00:16:44.395 --> 00:16:47.275\nAnd I'm gonna go and take a look at\nthat switch that I'm plugged into.\n\n311\n00:16:48.775 --> 00:16:51.215\nAnd this switch is at\nit's default setting, so\n\n312\n00:16:51.215 --> 00:16:54.345\nthere's really nothing special done to it,\nbasically just turned it on.\n\n313\n00:16:54.345 --> 00:16:58.595\nSo this would be the equivalent of\nif I got a switch out of the box\n\n314\n00:16:58.595 --> 00:17:02.465\nfrom just getting something new,\nplug in and powering it on.\n\n315\n00:17:02.465 --> 00:17:03.900\nSo that's all I've done.\n\n316\n00:17:03.900 --> 00:17:11.580\nAnd on the switch,\nif I run show mac address-table, okay?\n\n317\n00:17:11.580 --> 00:17:16.380\nSo that's show mac address-table.\n\n318\n00:17:16.380 --> 00:17:20.480\nAnd when I run that command, it's gonna\nshow me the MAC address table, and\n\n319\n00:17:20.480 --> 00:17:22.290\nit's gonna show me what it's learned.\n\n320\n00:17:22.290 --> 00:17:23.790\nAnd see how it's tracking it?\n\n321\n00:17:23.790 --> 00:17:27.980\nI've got the MAC address and\nI've got the port that it's learned on.\n\n322\n00:17:27.980 --> 00:17:30.180\nNow, the first block here are all CPU,\nright,\n\n323\n00:17:30.180 --> 00:17:32.290\nthese are virtual interfaces\nthat are part of the switch.\n\n324\n00:17:32.290 --> 00:17:34.990\nWe're gonna learn more about\nthose when we get to VLANs.\n\n325\n00:17:34.990 --> 00:17:39.630\nBut as I scroll down, eventually I'll get\nto the physical ones, the real ones, okay.\n\n326\n00:17:39.630 --> 00:17:41.833\nAnd so here's the real ones and\n\n327\n00:17:41.833 --> 00:17:46.424\nI can see that it learned 38c9.86 right,\nwhich is Apple.\n\n328\n00:17:46.424 --> 00:17:49.880\n02.8a85, there is that 8a85,\n\n329\n00:17:49.880 --> 00:17:55.800\nthis is me on port fa0/1, and\nsee where it says dynamic.\n\n330\n00:17:55.800 --> 00:17:58.880\nDynamic means it learned it,\nit didn't know that before,\n\n331\n00:17:58.880 --> 00:18:02.380\nit just learned it now and\nknows that MAC address is on that port.\n\n332\n00:18:02.380 --> 00:18:06.180\nAll these static ones up here, these are\nones that have been manually entered in.\n\n333\n00:18:06.180 --> 00:18:11.010\nAnd what these are is every\nphysical interface on your switch\n\n334\n00:18:11.010 --> 00:18:12.430\nhas its own MAC address.\n\n335\n00:18:12.430 --> 00:18:16.400\nAnd so these are all MAC addresses\nattached to the ports of my switch.\n\n336\n00:18:16.400 --> 00:18:18.710\nIf I have a 24 port switch,\nthere'll be 24 of these.\n\n337\n00:18:18.710 --> 00:18:20.880\nIf I have a 48 port switch,\nthere'll be 48 of these.\n\n338\n00:18:20.880 --> 00:18:22.700\nAnd so that's what all of these are.\n\n339\n00:18:22.700 --> 00:18:26.870\nSo a lot of times what I'll do is\nwhen I run show mac address-table,\n\n340\n00:18:26.870 --> 00:18:29.350\nI'll add a little more to the command.\n\n341\n00:18:29.350 --> 00:18:31.450\nYou can do what's called command piping.\n\n342\n00:18:31.450 --> 00:18:35.760\nYou can take the output of one command and\nsend it to another command.\n\n343\n00:18:35.760 --> 00:18:37.640\nAnd you do that with the pipe symbol.\n\n344\n00:18:37.640 --> 00:18:39.810\nOn your keyboard it's two vertical lines,\n\n345\n00:18:39.810 --> 00:18:41.970\nit's usually right above your return or\nenter key.\n\n346\n00:18:41.970 --> 00:18:44.290\nIf you have an international keyboard,\n\n347\n00:18:44.290 --> 00:18:47.510\nit could be different but\nlook for that vertical line.\n\n348\n00:18:47.510 --> 00:18:50.560\nAnd I'm gonna pipe that\ninto the exclude command.\n\n349\n00:18:50.560 --> 00:18:53.910\nExclude let's you, well,\nexclude something.\n\n350\n00:18:53.910 --> 00:18:58.010\nI want to exclude any line\nthat includes the word CPU.\n\n351\n00:18:58.010 --> 00:19:04.150\nSo, run show mac address-table,\nand exclude any line with CPU,\n\n352\n00:19:04.150 --> 00:19:08.320\nand that way I see a MAC address table\nthat's a little more meaningful for me.\n\n353\n00:19:08.320 --> 00:19:10.700\nRight now,\nI'm just seeing the physical ports.\n\n354\n00:19:10.700 --> 00:19:14.620\nNow the switch behind me is 48 ports and\n\n355\n00:19:14.620 --> 00:19:18.480\nI'm plugged into port number 1,\nthe other 47 ports are empty.\n\n356\n00:19:18.480 --> 00:19:20.960\nSo it hasn't learned anybody on them yet.\n\n357\n00:19:20.960 --> 00:19:21.780\nSo let's do that.\n\n358\n00:19:21.780 --> 00:19:23.580\nRonnie, would you mind\nplugging into a port?\n\n359\n00:19:23.580 --> 00:19:25.220\nJust pick a port at random.\n\n360\n00:19:25.220 --> 00:19:26.650\nAnd so Ronnie's plugging into a port.\n\n361\n00:19:26.650 --> 00:19:28.140\nI feel like a magician here.\n\n362\n00:19:28.140 --> 00:19:30.570\nI have no idea what port he plugged in to,\nI didn't see it.\n\n363\n00:19:30.570 --> 00:19:33.618\nThere's nothing up my sleeve, although\nI do see an interface just came up.\n\n364\n00:19:33.618 --> 00:19:34.489\nSo I guess that's kinda cheating.\n\n365\n00:19:34.489 --> 00:19:38.830\nPort 42 just came up so\nI kinda know that he plugged into port 42.\n\n366\n00:19:38.830 --> 00:19:43.150\nBut even if I didn't know that, I can\ncome and look at that table again, and\n\n367\n00:19:43.150 --> 00:19:43.990\nwhat am I gonna see?\n\n368\n00:19:43.990 --> 00:19:47.600\nWell, I don't see Ronnie,\nright, what's going on?\n\n369\n00:19:47.600 --> 00:19:50.990\nWell, there's actually a few different\nthings that are going on right now.\n\n370\n00:19:50.990 --> 00:19:54.960\nWhen Ronnie plugged into that port, it's\nactually doing loop detection right now.\n\n371\n00:19:54.960 --> 00:19:58.090\nIt's checking to see if he's created\na loop on the network, and if he has,\n\n372\n00:19:58.090 --> 00:20:00.240\nit's gonna protect us from that,\ncuz loops are really bad.\n\n373\n00:20:00.240 --> 00:20:01.760\nWe'll talk about them later.\n\n374\n00:20:01.760 --> 00:20:05.150\nBut as soon as it's done\nwith the loop detection, and\n\n375\n00:20:05.150 --> 00:20:07.910\nit knows that there's no loop,\nRonnie's gonna be allowed to talk\n\n376\n00:20:07.910 --> 00:20:09.990\non the network and\nusually it takes about 30 seconds.\n\n377\n00:20:09.990 --> 00:20:12.330\nAnd so, Ronnie's looking back\nthere now and I'm waiting for\n\n378\n00:20:12.330 --> 00:20:13.910\nthe light to go orange to green.\n\n379\n00:20:13.910 --> 00:20:16.930\nWhen you first plug a network cable in,\nit'll go orange,\n\n380\n00:20:16.930 --> 00:20:19.740\nthe link light will go orange letting you\nknow that it's doing loop detection and\n\n381\n00:20:19.740 --> 00:20:21.910\nthen it'll go green to let\nyou know that it's active.\n\n382\n00:20:21.910 --> 00:20:25.460\nSo he's green now and\nif I rerun that MAC address table.\n\n383\n00:20:25.460 --> 00:20:26.370\nThere he is.\n\n384\n00:20:26.370 --> 00:20:30.190\nIt's learned his MAC address and\nyou have completely different MAC address.\n\n385\n00:20:30.190 --> 00:20:32.525\n>> It's because I have\na network adapter plugged in.\n\n386\n00:20:32.525 --> 00:20:33.350\n[LAUGH]\n>> All right,\n\n387\n00:20:33.350 --> 00:20:35.600\nso, Ronnie's on an Apple\ncomputer just like me.\n\n388\n00:20:35.600 --> 00:20:39.875\nExcept, he's using a third party,\nwhat is that like a USB adapter?\n\n389\n00:20:39.875 --> 00:20:40.460\n>> Yep.\n>> Okay.\n\n390\n00:20:40.460 --> 00:20:42.290\nSo, a different vendor.\n\n391\n00:20:42.290 --> 00:20:45.540\nBut, his network cable is showing\nup right here on port 42 and\n\n392\n00:20:45.540 --> 00:20:47.340\nit's learned his MAC address.\n\n393\n00:20:47.340 --> 00:20:52.360\nSo if I want to talk to him, I can send\nmy message out, the switch will see it,\n\n394\n00:20:52.360 --> 00:20:56.900\nthe switch will decode the layer 2 data\nand as soon as it does that, it'll see\n\n395\n00:20:56.900 --> 00:21:02.930\nthat I'm trying to talk to him and it'll\nsend my data right from Port 1 to Port 42.\n\n396\n00:21:02.930 --> 00:21:05.760\nAnd it won't get any other port involved.\n\n397\n00:21:05.760 --> 00:21:08.340\nIt's just gonna go straight to him.\n\n398\n00:21:08.340 --> 00:21:09.910\nBut if I send a broadcast out,\n\n399\n00:21:09.910 --> 00:21:14.010\nit will send the broadcast out to\nevery port that's involved, okay?\n\n400\n00:21:14.010 --> 00:21:16.940\nIf you look over here, you'll see\nthat I'm in what's called Vlan 1.\n\n401\n00:21:16.940 --> 00:21:20.060\nWe're gonna talk about virtual\nlocal area networks later on.\n\n402\n00:21:20.060 --> 00:21:23.670\nBut every port is in Vlan 1 by default.\n\n403\n00:21:23.670 --> 00:21:27.494\nSo that means that's one\nbig broadcast domain.\n\n404\n00:21:27.494 --> 00:21:30.752\nAnd so if I run the show vlan command,\nI can see, whoops.\n\n405\n00:21:30.752 --> 00:21:35.840\nI can see Vlan 1 here and\nall the ports that are attached to it.\n\n406\n00:21:35.840 --> 00:21:37.530\nAnd it's pretty much every port.\n\n407\n00:21:37.530 --> 00:21:43.610\nAll 48 ports and the uplinks down there\nare all considered part of Vlan 1.\n\n408\n00:21:43.610 --> 00:21:47.780\nThat's my broadcast domain.\n\n409\n00:21:47.780 --> 00:21:50.700\nBut my collision domain is just\nbetween me and the individual port.\n\n410\n00:21:50.700 --> 00:21:51.780\nAnd so I can start talking.\n\n411\n00:21:51.780 --> 00:21:53.050\nIt'll go to the individual port.\n\n412\n00:21:53.050 --> 00:21:55.910\nAnd ultimate,\nit'll make it over to Ronnie.\n\n413\n00:21:55.910 --> 00:21:57.414\nAt least, that's what we hope, right?\n\n414\n00:21:57.414 --> 00:21:59.970\n[LAUGH] The traffic gets to Ronnie and\nhe can talk.\n\n415\n00:21:59.970 --> 00:22:01.910\nNow, there is something\nneat that can happen here.\n\n416\n00:22:01.910 --> 00:22:04.300\nLet me pull that MAC address\ntable back up there.\n\n417\n00:22:04.300 --> 00:22:08.770\nSo, what we're looking at here is\none MAC address to one port and\n\n418\n00:22:08.770 --> 00:22:12.160\nthat is usually what you're gonna see but\nnot always.\n\n419\n00:22:12.160 --> 00:22:15.380\nLet's plug in something\na little crazy here.\n\n420\n00:22:15.380 --> 00:22:19.760\nI'm gonna plug in a cable\nall the way over on port 48.\n\n421\n00:22:19.760 --> 00:22:20.310\nAll right.\n\n422\n00:22:20.310 --> 00:22:24.940\nAnd what I'm plugging is an uplink,\na link to another switch, right?\n\n423\n00:22:24.940 --> 00:22:29.534\nSo, we've got a big switch here in\nthe studio, a 4500 that is, we saw it in\n\n424\n00:22:29.534 --> 00:22:33.360\na earlier episode, it's got, I don't know,\na 190 ports or something like that.\n\n425\n00:22:33.360 --> 00:22:37.420\nAnd so, I'm gonna plug it in,\nit's gonna do loop detection and\n\n426\n00:22:37.420 --> 00:22:40.950\nas it does that loop detection,\nit's gonna clear that and go green.\n\n427\n00:22:40.950 --> 00:22:42.080\nAnd now it's gonna allow to communicate.\n\n428\n00:22:42.080 --> 00:22:46.830\nNow, on that switch are a ton of devices.\n\n429\n00:22:46.830 --> 00:22:48.076\nNot one laptop.\n\n430\n00:22:48.076 --> 00:22:51.952\nThere'll be our camera controllers,\nour video switches,\n\n431\n00:22:51.952 --> 00:22:55.524\nthe little servers we have in\nthe back room will show up,\n\n432\n00:22:55.524 --> 00:22:57.228\nwireless access-\n>> Everything.\n\n433\n00:22:57.228 --> 00:22:59.086\n[LAUGH]\n>> All of our cell phones, tablets,\n\n434\n00:22:59.086 --> 00:23:00.789\nall sorts of crazy junk,\nis on that big switch.\n\n435\n00:23:02.030 --> 00:23:05.160\nBut to this switch,\nit's all coming over the uplink.\n\n436\n00:23:05.160 --> 00:23:08.800\nAnd so,\nit's all going to show up on one port.\n\n437\n00:23:08.800 --> 00:23:09.800\nAnd, have we gone green?\n\n438\n00:23:09.800 --> 00:23:10.680\nWe've gone green.\n\n439\n00:23:10.680 --> 00:23:13.454\nSo, if I pull up my MAC address table now,\nright,\n\n440\n00:23:13.454 --> 00:23:17.650\n[LAUGH] if I can keep my mouse under\ncontrol, there's port 1 there.\n\n441\n00:23:17.650 --> 00:23:19.870\nThere's me on port 1.\n\n442\n00:23:19.870 --> 00:23:22.020\nAnd somewhere in here,\nI'll find Ronnie on port 42.\n\n443\n00:23:22.020 --> 00:23:23.700\nI guess I've already passed you.\n\n444\n00:23:23.700 --> 00:23:25.830\nSo, you're in here somewhere.\n\n445\n00:23:25.830 --> 00:23:29.250\nBut then there's all these\nother guys on port 48.\n\n446\n00:23:29.250 --> 00:23:35.350\nIf you have more than one MAC address on a\nsingle port, that means you got an uplink.\n\n447\n00:23:35.350 --> 00:23:37.620\nOn the other end of this\ncable there's either a hub or\n\n448\n00:23:37.620 --> 00:23:40.540\na switch or something on the other end.\n\n449\n00:23:40.540 --> 00:23:44.230\nOr it could be a server that's\nrunning VMware or Hyper-V, so\n\n450\n00:23:44.230 --> 00:23:46.200\nyou've got a bunch of virtual machines.\n\n451\n00:23:46.200 --> 00:23:48.910\nThey're usually easy to spot because\nthey use fake MAC addresses.\n\n452\n00:23:50.090 --> 00:23:53.420\nBut if this is a real machine, like in\nthis case I've got a real switch on\n\n453\n00:23:53.420 --> 00:23:58.060\nthe other side, I'm gonna have more than\none MAC address showing up on that port.\n\n454\n00:23:58.060 --> 00:24:02.889\nAnd that's because I may have more than\none uplink to more than one switch.\n\n455\n00:24:02.889 --> 00:24:06.848\nAnd if that's the case, I need to know\nwhich port to go through to get there.\n\n456\n00:24:06.848 --> 00:24:11.075\nSo for example,\nlet's see I think I have a different\n\n457\n00:24:11.075 --> 00:24:14.917\ndiagram I can show you,\nbut just as an example,\n\n458\n00:24:14.917 --> 00:24:20.411\nif I had more than one uplink I would\nneed to know which one to follow.\n\n459\n00:24:20.411 --> 00:24:24.140\nSo like here I've got a central switch and\nthen I've got these two remote switches.\n\n460\n00:24:24.140 --> 00:24:26.200\nSo if I have traffic coming\ninto the central switch and\n\n461\n00:24:26.200 --> 00:24:31.190\nit's destined for this laptop way down\nhere, I need to know which uplink to use.\n\n462\n00:24:31.190 --> 00:24:34.240\nDon't send the traffic over this uplink,\ncuz that's not where the laptop is.\n\n463\n00:24:34.240 --> 00:24:37.450\nInstead, send the traffic over this\nuplink, so it can come down and\n\n464\n00:24:37.450 --> 00:24:38.660\nget to the destination.\n\n465\n00:24:38.660 --> 00:24:41.720\nWhen you have multiple switches\nyou are going to uplink them.\n\n466\n00:24:41.720 --> 00:24:45.260\nYou're gonna connect them together\nto create your one big network, and\n\n467\n00:24:45.260 --> 00:24:47.290\nwe need to know which uplink to use.\n\n468\n00:24:47.290 --> 00:24:49.379\nAnd that's exactly what's happening here.\n\n469\n00:24:49.379 --> 00:24:51.433\nIs it's learning about that big switch and\n\n470\n00:24:51.433 --> 00:24:55.041\nall of the different MAC addresses that\nare out there and populating them.\n\n471\n00:24:55.041 --> 00:25:01.111\nSo whereas I only had two MAC\naddresses in the routing table before,\n\n472\n00:25:01.111 --> 00:25:04.000\nnow I've got 50 and 62 now.\n\n473\n00:25:04.000 --> 00:25:05.687\nYou can see it's growing.\n\n474\n00:25:05.687 --> 00:25:07.523\nEntries will make it into\nthe MAC addresses table and\n\n475\n00:25:07.523 --> 00:25:09.180\nthey won't stay there forever.\n\n476\n00:25:09.180 --> 00:25:12.400\nSometimes devices just aren't talking yet\nso they don't make it in there.\n\n477\n00:25:12.400 --> 00:25:15.800\nI know we've got well over a 100 devices,\nonly 60 have talked so far, so\n\n478\n00:25:15.800 --> 00:25:17.560\nthat's what I've learned and added.\n\n479\n00:25:17.560 --> 00:25:20.133\nBut if somebody stops talking, let's say,\n\n480\n00:25:20.133 --> 00:25:24.547\nRonnie unplugs his network adaptor and\nwalks off and heads off to McDonalds.\n\n481\n00:25:24.547 --> 00:25:30.440\nThen eventually his MAC address entry is\ngonna age out, so yeah, he just unplugged.\n\n482\n00:25:30.440 --> 00:25:34.160\nSo his MAC address entry is gonna age out,\nit doesn't keep it forever, and\n\n483\n00:25:34.160 --> 00:25:35.690\nthere's a default timer in there.\n\n484\n00:25:35.690 --> 00:25:37.401\nI believe it's three minutes,\nit might be five.\n\n485\n00:25:37.401 --> 00:25:38.149\n>> Three to five, yes.\n\n486\n00:25:38.149 --> 00:25:40.170\n>> It's somewhere between three and\nfive minutes.\n\n487\n00:25:40.170 --> 00:25:44.770\nWhere it will eventually age that entry\nout and remove it from MAC address table.\n\n488\n00:25:44.770 --> 00:25:46.480\nNow, why do we do that?\n\n489\n00:25:46.480 --> 00:25:48.610\nWell if he just unplugged and walked away,\n\n490\n00:25:48.610 --> 00:25:52.790\nwhen he comes back in later, he may\nplug into a different port somewhere.\n\n491\n00:25:52.790 --> 00:25:55.754\nThe switch doesn't assume that he's\nalways gonna plug into the same port and\n\n492\n00:25:55.754 --> 00:25:58.499\nif he plugs into a different port\nsomewhere, we'll just relearn him.\n\n493\n00:25:58.499 --> 00:26:01.590\nAnd get him back in and\nbe able to communicate.\n\n494\n00:26:01.590 --> 00:26:04.590\nSo that does happen rather frequently\nespecially if you have mobile\n\n495\n00:26:04.590 --> 00:26:06.070\ndevices on your network.\n\n496\n00:26:06.070 --> 00:26:08.900\nWell lot of buildings are wireless these\ndays, so it's not such a big deal.\n\n497\n00:26:08.900 --> 00:26:12.222\nBut even with wireless it can be a\nproblem, because if you're walking through\n\n498\n00:26:12.222 --> 00:26:14.804\nthe building and\njumping from access point to access point.\n\n499\n00:26:14.804 --> 00:26:18.269\nYour MAC address is now moving from port\nto port, because the different access\n\n500\n00:26:18.269 --> 00:26:21.150\npoints are plugged into to\ndifferent ports on the switch.\n\n501\n00:26:21.150 --> 00:26:25.280\nSo the switch is always paying attention\nthat learning it and keeping track of it.\n\n502\n00:26:25.280 --> 00:26:28.742\nSo that's a constant thing that's going\non, and just getting it populated.\n\n503\n00:26:28.742 --> 00:26:30.938\nThere we see,\nRonnie just plugged into port 18, and\n\n504\n00:26:30.938 --> 00:26:32.290\nit's gonna do that loop detect.\n\n505\n00:26:32.290 --> 00:26:35.377\nI should have turned loop\ndetection off before this show,\n\n506\n00:26:35.377 --> 00:26:37.271\nI guess that would have been smart.\n\n507\n00:26:37.271 --> 00:26:39.484\nLet me do that real quick.\n\n508\n00:26:42.075 --> 00:26:43.669\nWe're gonna talk about spanning\ntree in another episode.\n\n509\n00:26:43.669 --> 00:26:45.990\nSo I'm just gonna quickly\nturn off loop detection, so\n\n510\n00:26:45.990 --> 00:26:47.865\nthis port will come up and I guess I did.\n\n511\n00:26:47.865 --> 00:26:49.853\nAfter the facts we're still gonna\nhave to weight it, aren't we?\n\n512\n00:26:49.853 --> 00:26:51.438\n>> [LAUGH]\n>> Sometimes you just can't win.\n\n513\n00:26:51.438 --> 00:26:55.909\nBut he plugged into a different port and\neventually, I'll see him show up on that\n\n514\n00:26:55.909 --> 00:26:59.470\nnew port, as soon as it's\nconvinced that there's no loop.\n\n515\n00:26:59.470 --> 00:27:01.105\nThe image'll take a moment for\nthat to happen.\n\n516\n00:27:01.105 --> 00:27:03.582\nYou just went green and so you're on what?\n\n517\n00:27:03.582 --> 00:27:05.455\nPort 18?\n\n518\n00:27:05.455 --> 00:27:07.293\nAnd now I have to wait for\nyour laptop to talk.\n\n519\n00:27:07.293 --> 00:27:08.781\n>> [LAUGH]\n>> I just I scrolled past it.\n\n520\n00:27:08.781 --> 00:27:10.552\nIt was up there, right there.\n\n521\n00:27:10.552 --> 00:27:15.390\nSo now it's learned him on that new port,\nso it recognized that he moved.\n\n522\n00:27:15.390 --> 00:27:19.910\nIt knows that you should never\nhave a MAC address on two ports.\n\n523\n00:27:19.910 --> 00:27:23.260\nIf one MAC address shows up on two\ndifferent ports, what does that mean?\n\n524\n00:27:23.260 --> 00:27:25.110\nIt means I have a loop on the network.\n\n525\n00:27:25.110 --> 00:27:27.590\nYou should never have\na loop on your network.\n\n526\n00:27:27.590 --> 00:27:30.902\nBut it can happen for example,\nin this topology here,\n\n527\n00:27:30.902 --> 00:27:35.296\nwhat if I ran another uplink cable\nbetween these two switches down here?\n\n528\n00:27:35.296 --> 00:27:36.464\nI would have a loop.\n\n529\n00:27:36.464 --> 00:27:40.090\nAnd so Cisco switches feature a technology\ncalled spanning tree that provides a loop\n\n530\n00:27:40.090 --> 00:27:42.730\nprevention and\nit will stop that loop from happening.\n\n531\n00:27:42.730 --> 00:27:45.800\nIt can't physically unplug the cable for\nyou, it's not gonna do that, but\n\n532\n00:27:45.800 --> 00:27:48.340\nit'll turn off one of the ports,\nand it'll stop the loop.\n\n533\n00:27:48.340 --> 00:27:50.223\nIt's a really neat technology\nthat we're gonna see.\n\n534\n00:27:50.223 --> 00:27:53.537\nWe actually tackled that one more in\nthe CC native routing switching than\n\n535\n00:27:53.537 --> 00:27:54.090\nwe do here.\n\n536\n00:27:54.090 --> 00:27:55.970\nI don't think we cover\nit really at all here.\n\n537\n00:27:55.970 --> 00:28:00.150\nBut be aware, that spanning tree is there,\nit does loop protection, and\n\n538\n00:28:00.150 --> 00:28:01.220\nit's turned on by default.\n\n539\n00:28:01.220 --> 00:28:03.980\nYou don't have to configure it, you have\nto turn it off if you don't want it.\n\n540\n00:28:03.980 --> 00:28:07.625\nIt's on by default, so\na neat technology there.\n\n541\n00:28:07.625 --> 00:28:11.050\nWell I know I said we were gonna\nconfigure some things Ronnie, but\n\n542\n00:28:11.050 --> 00:28:15.450\nat the end of the day, [LAUGH] we really\njust saw a couple of show commands there.\n\n543\n00:28:15.450 --> 00:28:18.752\nSo show mac address- table,\nthat's a really important one.\n\n544\n00:28:18.752 --> 00:28:22.247\nI do wanna show you one other one,\nwhich is if you're ever trying\n\n545\n00:28:22.247 --> 00:28:26.667\nto troubleshoot connectivity and\nyou're troubleshooting it from the switch.\n\n546\n00:28:26.667 --> 00:28:31.020\nYour switch maintains it's own ARP table,\nan Address Resolution Protocol table.\n\n547\n00:28:31.020 --> 00:28:34.870\nAnd you can use the switch's ARP table for\ntroubleshooting sometimes.\n\n548\n00:28:34.870 --> 00:28:38.570\nIf it's a true layer two switch,\nit's not gonna be all that effective.\n\n549\n00:28:38.570 --> 00:28:41.002\nBut if it's a layer three switch and\nit's on various networks,\n\n550\n00:28:41.002 --> 00:28:42.318\nthe ARP table can be really handy.\n\n551\n00:28:42.318 --> 00:28:46.383\nSo if you ever need it, and we'll\nprobably see it later on in the series,\n\n552\n00:28:46.383 --> 00:28:50.664\nyou can just run show arp, and that'll\nshow you the ARP table on the switch.\n\n553\n00:28:50.664 --> 00:28:53.455\nNow I don't have an IP on this device.\n\n554\n00:28:53.455 --> 00:28:57.694\nAnd so if I don't have an IP address, then\nI'm not gonna be able to communicate, and\n\n555\n00:28:57.694 --> 00:28:59.563\ntalk to people, and all that stuff.\n\n556\n00:28:59.563 --> 00:29:04.230\nSo I'd have to give my device an IP\nbefore I could actually start talking.\n\n557\n00:29:04.230 --> 00:29:07.436\nSo if I give myself an IP\naddress real quick,\n\n558\n00:29:07.436 --> 00:29:12.218\nI guess if I gave myself a valid IP,\nthat would make a difference.\n\n559\n00:29:15.063 --> 00:29:20.313\nSo I'm just gonna give myself\nan IP address real quick, and\n\n560\n00:29:20.313 --> 00:29:25.993\nlet me ping out to a device on\nthe network, so yeah, that works.\n\n561\n00:29:25.993 --> 00:29:28.840\nSo I'm just generating\na little bit of traffic here.\n\n562\n00:29:28.840 --> 00:29:33.980\nNow when I do a show arp, I can see\nwhere I'm maintaining an arp table.\n\n563\n00:29:33.980 --> 00:29:37.312\nSo if your switch has an IP address,\nif it's functioning at layer three,\n\n564\n00:29:37.312 --> 00:29:39.317\nthen you're gonna be\nable to see this data.\n\n565\n00:29:39.317 --> 00:29:42.410\nAnd so I can see,\nmy address that I gave myself and\n\n566\n00:29:42.410 --> 00:29:45.294\nI can see the device that\nI just send a ping to.\n\n567\n00:29:45.294 --> 00:29:48.558\nThat I can see that I learned its\nMAC address and I put in here.\n\n568\n00:29:48.558 --> 00:29:51.318\nThis is layer three learning right,\n\n569\n00:29:51.318 --> 00:29:55.335\nI send a ping to do it I\ngenerated that traffic myself.\n\n570\n00:29:55.335 --> 00:29:59.216\nThe MAC address table we saw a moment ago,\nthat's layer two.\n\n571\n00:29:59.216 --> 00:30:01.992\nWell layer two we don't care\nwhat protocol you're running.\n\n572\n00:30:01.992 --> 00:30:05.407\nYou could be running IPS/SPX,\nTCP/IP, Banyan VINES,\n\n573\n00:30:05.407 --> 00:30:07.995\nwhatever it is you want it doesn't matter.\n\n574\n00:30:07.995 --> 00:30:12.288\nIt's Ethernet that we're looking at and so\nthat's why we see the MAC address cuz no\n\n575\n00:30:12.288 --> 00:30:15.440\nmatter what, here,\nI had to have an IP address.\n\n576\n00:30:15.440 --> 00:30:18.800\nI had to have tcip configured to be\nable to look at the arc table and\n\n577\n00:30:18.800 --> 00:30:22.820\nsee the mapping between the IP address and\nthe MAC address.\n\n578\n00:30:22.820 --> 00:30:27.160\nBy default, your switch doesn't care about\nIP addresses cuz that's layer three.\n\n579\n00:30:27.160 --> 00:30:29.110\nSwitches are layer two devices.\n\n580\n00:30:29.110 --> 00:30:31.658\nBut we'll see that line really\nget blurred in ccna routing and\n\n581\n00:30:31.658 --> 00:30:33.825\nswitching when we talk\nabout layer three switches.\n\n582\n00:30:33.825 --> 00:30:37.037\nIt combines the router and\nthe switch together.\n\n583\n00:30:37.037 --> 00:30:41.350\nWell, we've taken a look at how switches\nfunction and we understand how they work.\n\n584\n00:30:41.350 --> 00:30:43.506\nWe understand the difference\nbetween them and a hub.\n\n585\n00:30:43.506 --> 00:30:45.837\nThe next step is getting\nthe switch configured and\n\n586\n00:30:45.837 --> 00:30:49.720\nthrowing it into our environment and we'll\nsee there there is a lot of neat stuff.\n\n587\n00:30:49.720 --> 00:30:52.086\nI know I mentioned very\nbriefly in this episode VLANs,\n\n588\n00:30:52.086 --> 00:30:53.431\nVirtual Local Area Networks.\n\n589\n00:30:53.431 --> 00:30:56.720\nThose are really important on the exam,\nand super important in real life.\n\n590\n00:30:56.720 --> 00:30:59.050\nAnd so that's what we're gonna\nbe tackling in the next episode.\n\n591\n00:30:59.050 --> 00:31:00.530\nBut as far as this episode is concerned,\n\n592\n00:31:00.530 --> 00:31:02.910\nI think is a pretty good\nstopping point for us.\n\n593\n00:31:02.910 --> 00:31:05.277\n>> Well, Don thank you for\nintroducing us to that concept,\n\n594\n00:31:05.277 --> 00:31:08.548\nthat layer two concept of working with\nthe switch right here at the beginning.\n\n595\n00:31:08.548 --> 00:31:10.161\nShowing us that MAC address table,\n\n596\n00:31:10.161 --> 00:31:12.597\nmaking sure that we understand\nas we plug devices in.\n\n597\n00:31:12.597 --> 00:31:16.305\nIt's going to learn the source\nMAC address of those devices, and\n\n598\n00:31:16.305 --> 00:31:18.950\nadd it into that MAC\naddress table as well.\n\n599\n00:31:18.950 --> 00:31:21.609\nRemember that a switch really\ndoes three basic things for us.\n\n600\n00:31:21.609 --> 00:31:24.710\nIt allows us to build a ford\nbetween two different ports.\n\n601\n00:31:24.710 --> 00:31:27.140\nAnd if we do have traffic going\nfrom one port to another,\n\n602\n00:31:27.140 --> 00:31:31.710\nit allows us to do that or\nour devices can also sent a broadcast.\n\n603\n00:31:31.710 --> 00:31:36.000\nAnd in that situation that, remember\nthat switch does not stop a broadcast.\n\n604\n00:31:36.000 --> 00:31:40.660\nIt's very easy to get that idea that\nthe mentality of saying, I know that a hub\n\n605\n00:31:40.660 --> 00:31:43.800\ndoesn't stop a broadcast, but\ndoes a switch stop a broadcast?\n\n606\n00:31:43.800 --> 00:31:49.010\nNo switch does not stop a broadcast either\nor broadcast right out of there as well.\n\n607\n00:31:49.010 --> 00:31:52.260\nAnd so getting these concepts down that\nallow us to actually see how the switch\n\n608\n00:31:52.260 --> 00:31:56.830\nworks is a great foundational beginning as\nwe actually have more concepts to come.\n\n609\n00:31:56.830 --> 00:31:59.760\nDon, any other things that we\ncan think of for the exam for\n\n610\n00:31:59.760 --> 00:32:01.950\nthem to think about in switching?\n\n611\n00:32:01.950 --> 00:32:02.730\n>> Those are the main things.\n\n612\n00:32:02.730 --> 00:32:06.860\nRemember some of the terms like mac\naddress-table, remember frame flooding.\n\n613\n00:32:06.860 --> 00:32:09.959\nI guess there's a chance you might see\nmention of what's called a cam table.\n\n614\n00:32:09.959 --> 00:32:14.827\nThe cam table is the hardware on the\nswitch mother board where the MAC address\n\n615\n00:32:14.827 --> 00:32:15.977\ntable is stored.\n\n616\n00:32:15.977 --> 00:32:18.180\nThere's actually several other\nthings that are stored there too.\n\n617\n00:32:18.180 --> 00:32:21.350\nBut it's really just\nreferencing the physical memory\n\n618\n00:32:21.350 --> 00:32:22.696\non the mother board of the switch.\n\n619\n00:32:22.696 --> 00:32:26.180\nEvery switch has it,\nevery switch has that cam table and\n\n620\n00:32:26.180 --> 00:32:28.140\nthe MAC address table is stored there.\n\n621\n00:32:28.140 --> 00:32:29.408\nThe exams probably not\ngoing to hit on that.\n\n622\n00:32:29.408 --> 00:32:31.312\nThey're really going to focus\non the software side, and\n\n623\n00:32:31.312 --> 00:32:33.185\nthat's where it's called,\nthe mac address-table.\n\n624\n00:32:33.185 --> 00:32:35.960\n>> Well that's a great wrap up for\nus, then.\n\n625\n00:32:35.960 --> 00:32:38.200\nSo we're gonna take this\nopportunity to sign out.\n\n626\n00:32:38.200 --> 00:32:40.886\nFor ITPro.TV,\nI've been your host, Ronnie Wong.\n\n627\n00:32:40.886 --> 00:32:41.834\n>> And I'm Don Pezet.\n\n628\n00:32:41.834 --> 00:32:45.883\n>> Stay tuned right here,\nfor more CCENT episodes.\n\n629\n00:32:45.883 --> 00:32:53.440\n[SOUND]\n\n",
          "vimeoId": "174809882"
        },
        {
          "description": "In this episode, Ronnie and Don show how to create and work with VLANs.  The guys talk about how to segment a switch using VLANs.  They demonstrate how to create VLANs and assign ports into VLANs.  On a switch, you can create data VLANsand voice VLANs.  Even though a single port cannot be part of 2 data VLANs; a single port can be in a data VLAN and a voice VLAN at the same time, Don shows us.",
          "length": "1848",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-2-2-1-vlans-070816-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-2-2-1-vlans-070816-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-2-2-1-vlans-070816-1-sm.jpg",
          "title": "VLANs",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.413 --> 00:00:14.673\nWelcome to another great\nepisode right here on ITProTV.\n\n3\n00:00:14.673 --> 00:00:16.868\nI'm your host, Ronnie Wong, and\n\n4\n00:00:16.868 --> 00:00:21.160\ntoday we're continuing on with\nsome Cisco CCENT episodes.\n\n5\n00:00:21.160 --> 00:00:23.860\nAnd we're actually moving into\nthe realm of LAN switching.\n\n6\n00:00:23.860 --> 00:00:27.240\nWe've already done one episode where Don\nhas helped us out a little bit more.\n\n7\n00:00:27.240 --> 00:00:29.660\nAnd now we're getting a little bit\nmore technically involved into it.\n\n8\n00:00:29.660 --> 00:00:32.700\nI'm gonna talk about\nthe mysterious world of VLANs.\n\n9\n00:00:32.700 --> 00:00:34.914\nAnd so Don, welcome back to our show.\n\n10\n00:00:34.914 --> 00:00:35.849\n>> Thanks for having me back Ronnie.\n\n11\n00:00:35.849 --> 00:00:39.585\nAnd in our last episode we talked a little\nbit about how switches function, and\n\n12\n00:00:39.585 --> 00:00:41.009\nwe saw the MAC address table.\n\n13\n00:00:41.009 --> 00:00:43.438\nAnd how it maps those addresses to ports,\nand so\n\n14\n00:00:43.438 --> 00:00:45.630\nwe saw the basic functioning of a switch.\n\n15\n00:00:45.630 --> 00:00:49.251\nAnd iIf you didn't watch the episode, but\nif you did watch the episode, basically we\n\n16\n00:00:49.251 --> 00:00:52.285\nsaw what a switch is like when you take\nit right out of the box from cisco.\n\n17\n00:00:52.285 --> 00:00:54.721\nAnd you just power it on,\nno configuration or\n\n18\n00:00:54.721 --> 00:00:57.330\nanything like that you just power it on.\n\n19\n00:00:57.330 --> 00:01:00.340\nSo if you buy a 48 port switch or\n\n20\n00:01:00.340 --> 00:01:04.410\na 24 port switch, every port is\nbasically connected together.\n\n21\n00:01:04.410 --> 00:01:08.290\nSo if I buy a 48 port switch I take\nit out of the box, I power it on.\n\n22\n00:01:08.290 --> 00:01:10.600\nI should be able to plug\nin 48 computers and\n\n23\n00:01:10.600 --> 00:01:13.110\nthey'll all see each other,\none big happy family.\n\n24\n00:01:13.110 --> 00:01:14.760\nAnd that's probably what you want,\n\n25\n00:01:14.760 --> 00:01:19.000\nin most networks that is exactly\nwhat you want, but not always.\n\n26\n00:01:19.000 --> 00:01:21.690\nAs your company grows in size,\nas it gets bigger and bigger and\n\n27\n00:01:21.690 --> 00:01:24.340\nbigger broadcasts can\nbecome a bit of a problem.\n\n28\n00:01:24.340 --> 00:01:26.410\nWIth switches, you have a number\nof different collision domains,\n\n29\n00:01:26.410 --> 00:01:28.450\nbut you've only have one\nbig broadcast domain.\n\n30\n00:01:28.450 --> 00:01:32.660\nIf somebody sends a broadcast out, it does\na frame flood just like a hub would, and\n\n31\n00:01:32.660 --> 00:01:35.410\nit sends the broadcast\nout every other port.\n\n32\n00:01:35.410 --> 00:01:39.520\nAnd the more systems you have\nbroadcasting, it gets worse and\n\n33\n00:01:39.520 --> 00:01:40.100\nworse and worse.\n\n34\n00:01:40.100 --> 00:01:42.093\nActually, before the show, Ronnie and\n\n35\n00:01:42.093 --> 00:01:45.502\nI were talking about a private school\nhere in town that we helped out.\n\n36\n00:01:45.502 --> 00:01:49.024\nThey have a elementary school,\na middle school, and\n\n37\n00:01:49.024 --> 00:01:53.740\na high school all joined with fiber,\nall in one big flat network.\n\n38\n00:01:53.740 --> 00:01:57.540\nSo they've got several thousand\nmachines that are all in one network.\n\n39\n00:01:57.540 --> 00:02:01.070\nAnd because it's all one big flat network,\n\n40\n00:02:01.070 --> 00:02:05.950\nif one person broadcasts from anywhere\non the campus, everybody hears it.\n\n41\n00:02:05.950 --> 00:02:08.209\nWell they have a ton of Apple devices, and\n\n42\n00:02:08.209 --> 00:02:10.944\nApple devices broadcast like nobody else-\n>> [LAUGH]\n\n43\n00:02:10.944 --> 00:02:12.600\n>> They are the king of broadcasting.\n\n44\n00:02:12.600 --> 00:02:17.760\nSo between their iPads and\niPhones, their MacBooks and iMacs,\n\n45\n00:02:17.760 --> 00:02:22.820\ntheir Apple TVs, the Apple TVs\nare the worst, all those things.\n\n46\n00:02:22.820 --> 00:02:29.250\nThey are pushing literary hundreds of\nthousands of broadcasts per second.\n\n47\n00:02:29.250 --> 00:02:34.150\nSo that's a lot of traffic and you got\nall of your devices are receiving this\n\n48\n00:02:34.150 --> 00:02:38.510\ncommunications and having to deal with\nit and it becomes a bit of a mess.\n\n49\n00:02:38.510 --> 00:02:43.730\nSo ideally what you do is split up\nyour network, divide the network up.\n\n50\n00:02:43.730 --> 00:02:45.493\nIf I had a thousand machines,\n\n51\n00:02:45.493 --> 00:02:49.451\nwouldn't it be nice to break it\nup into 5 networks of 200 each.\n\n52\n00:02:49.451 --> 00:02:53.600\nSo now i've got 200 machines,\n200 machines, 200 machines and so on.\n\n53\n00:02:53.600 --> 00:02:56.550\nSo now I never have more than 200\nmachines broadcasting to each\n\n54\n00:02:56.550 --> 00:02:57.799\nother that are affected by a broadcast.\n\n55\n00:02:58.880 --> 00:03:01.810\nNow, the challenge with that is\nthe old way of doing it was you had to\n\n56\n00:03:01.810 --> 00:03:04.850\nbuy separate switches, and so\nnow I've got all these different switches.\n\n57\n00:03:04.850 --> 00:03:07.510\nOne switch for the marketing department,\na different switch for\n\n58\n00:03:07.510 --> 00:03:11.310\nthe sales department and so on,\nand that's not always practical.\n\n59\n00:03:11.310 --> 00:03:14.300\nIt's really not practical\nwhen you talk about uplinks.\n\n60\n00:03:14.300 --> 00:03:16.800\nBecause if I have two switches and\nI want to connect them together,\n\n61\n00:03:16.800 --> 00:03:18.230\nI've got to run an uplink.\n\n62\n00:03:18.230 --> 00:03:22.183\nWell, if I have more than one set\nof switches for different company,\n\n63\n00:03:22.183 --> 00:03:24.714\nI have to uplink all\nthese things together.\n\n64\n00:03:24.714 --> 00:03:28.414\nAnd I start to loose some of the benefits\nof that broadcast protection,\n\n65\n00:03:28.414 --> 00:03:30.810\nso that's where vlans come in.\n\n66\n00:03:30.810 --> 00:03:33.843\nWhat VLANs are,\nare virtual local area networks.\n\n67\n00:03:33.843 --> 00:03:36.140\nThey're effectively virtual switches.\n\n68\n00:03:36.140 --> 00:03:40.540\nYou can take one switch,\nmaybe it's a 24 or a 48 port bit.\n\n69\n00:03:40.540 --> 00:03:44.130\nMaybe you've got 224\nports in a giant 4,500.\n\n70\n00:03:44.130 --> 00:03:48.630\nSo a 6,500, you can have many,\nmany hundreds of ports.\n\n71\n00:03:48.630 --> 00:03:53.586\nSo you can take those ports and\ndivide them up into virtual switches.\n\n72\n00:03:53.586 --> 00:03:55.830\nI know it kinda sounds like\nthe ramblings of a mad man here, so\n\n73\n00:03:55.830 --> 00:03:57.020\nlet me show you guys an example.\n\n74\n00:03:57.020 --> 00:03:59.363\nI've got a diagram,\nhere I've got a traditional switch.\n\n75\n00:03:59.363 --> 00:04:03.323\nAnd this is exactly how any Cisco switch\nis gonna be when you take it out of\n\n76\n00:04:03.323 --> 00:04:04.780\nthe box and power it on.\n\n77\n00:04:04.780 --> 00:04:08.190\nEvery Cisco device is\nconfigure from the factory, so\n\n78\n00:04:08.190 --> 00:04:11.383\nthat all the switch ports\nare in the same network.\n\n79\n00:04:11.383 --> 00:04:13.941\nIt is in a VLAN, but\nthere's only one VLAN by default.\n\n80\n00:04:13.941 --> 00:04:17.169\nIt's VLAN 1, virtual local area number 1.\n\n81\n00:04:17.169 --> 00:04:19.395\nSo it's the only you can count\non being on all your switches.\n\n82\n00:04:19.395 --> 00:04:24.389\nSo when I plug a laptop into port two,\nand I plug a laptop into port 12.\n\n83\n00:04:24.389 --> 00:04:27.616\nAnd I plug a server into port 20 or\nwhatever it is,\n\n84\n00:04:27.616 --> 00:04:30.484\nthey're all gonna be\nable to see each other.\n\n85\n00:04:30.484 --> 00:04:33.383\nThey're in one broadcast domain,\nthey can find each other and talk and\n\n86\n00:04:33.383 --> 00:04:34.408\nexchange information.\n\n87\n00:04:34.408 --> 00:04:40.850\nBut I could configure VLANs and\ndivide that up.\n\n88\n00:04:40.850 --> 00:04:46.500\nI can take ports and I can move them\ninto these different virtual switches.\n\n89\n00:04:46.500 --> 00:04:50.510\nSo now I've taken that switch and\ndivided it up into three virtual switches.\n\n90\n00:04:50.510 --> 00:04:53.150\nAnd I've managed to plug\nthis laptop into nothing, so\n\n91\n00:04:53.150 --> 00:04:54.570\nI'm gonna move that laptop there.\n\n92\n00:04:54.570 --> 00:04:58.120\nSo [LAUGH] now I've got\nthese devices plugged in and\n\n93\n00:04:58.120 --> 00:05:02.438\nthe two laptops,\nthese guys are plugged into the same VLAN.\n\n94\n00:05:02.438 --> 00:05:04.290\nAnd so they're able to see each other.\n\n95\n00:05:04.290 --> 00:05:08.419\nIf this laptop sends out a broadcast,\nthis laptop is gonna receive it.\n\n96\n00:05:08.419 --> 00:05:11.990\nAnd if this laptop sends out a broadcast,\nthe other laptop will receive it.\n\n97\n00:05:11.990 --> 00:05:15.560\nBut the server is never going\nto receive either of those.\n\n98\n00:05:15.560 --> 00:05:18.550\nBecause the server is plugged\nover here into the red VLAN.\n\n99\n00:05:18.550 --> 00:05:21.476\nThe laptops are on the green VLAN,\nand so they're separate.\n\n100\n00:05:21.476 --> 00:05:26.150\nI've created the effect of having\nmultiple physical switches.\n\n101\n00:05:26.150 --> 00:05:27.968\nI've isolated these hosts.\n\n102\n00:05:27.968 --> 00:05:31.340\nNow that's all this one problem,\nbut it causes another.\n\n103\n00:05:31.340 --> 00:05:34.830\nIt solves the problem of shrinking\nmy broadcast domain down.\n\n104\n00:05:34.830 --> 00:05:38.796\nLaptops are on one servers on another,\nmaybe these are access points over here,\n\n105\n00:05:38.796 --> 00:05:39.742\nor who knows what.\n\n106\n00:05:39.742 --> 00:05:41.995\nYou have different devices\non different VLANs.\n\n107\n00:05:41.995 --> 00:05:44.520\nYou can create practically\nas many as you want.\n\n108\n00:05:45.800 --> 00:05:47.360\nCisco could just have a limit.\n\n109\n00:05:47.360 --> 00:05:49.870\nWhen you create a VLAN,\nthe VLAN has a number, and\n\n110\n00:05:49.870 --> 00:05:52.500\nthe number, I said one was the default.\n\n111\n00:05:52.500 --> 00:05:58.035\nIf the number's gonna be between 1 and\n4,094, because it's a 12 bit value.\n\n112\n00:05:58.035 --> 00:06:02.637\nThere's 12 bits that are set aside to\nbe able to use for the VLAN number and\n\n113\n00:06:02.637 --> 00:06:08.120\nit's actually 0 through 4,095, but\nthe usable ones are 1 through 4,094.\n\n114\n00:06:08.120 --> 00:06:12.603\nSo in theory, you could have 4,094 VLANs,\n\n115\n00:06:12.603 --> 00:06:15.850\nbut there's a lot of Cisco devices\nthat just don't support that many.\n\n116\n00:06:15.850 --> 00:06:18.810\nIn fact, many of them don't even\nsupport the higher numbers they just\n\n117\n00:06:18.810 --> 00:06:22.641\nsupport the lower numbers up to 1,023,\nif I remember right.\n\n118\n00:06:22.641 --> 00:06:28.350\nTechnically, it's 1,005, we\"ll see\nit in a switch here in a little bit.\n\n119\n00:06:28.350 --> 00:06:30.371\nBut you're not normally going\nto have that many VLANs,\n\n120\n00:06:30.371 --> 00:06:32.529\nhow many virtual networks do\nyou need in your environment?\n\n121\n00:06:32.529 --> 00:06:35.231\nI've worked in some small environments\nI've worked in some really,\n\n122\n00:06:35.231 --> 00:06:36.740\nreally large environments.\n\n123\n00:06:36.740 --> 00:06:39.950\nAnd even in the really large\nenvironments never see the need for\n\n124\n00:06:39.950 --> 00:06:44.100\nmore than 20 or\n30 of these virtual networks.\n\n125\n00:06:44.100 --> 00:06:46.740\nI've also worked in really small\nenvironments where we needed\n\n126\n00:06:46.740 --> 00:06:47.610\n20 or 30 also.\n\n127\n00:06:47.610 --> 00:06:51.750\nSo for example, Ronnie and I used to\nwork together at a training company and\n\n128\n00:06:51.750 --> 00:06:53.170\nwe had eight classrooms.\n\n129\n00:06:53.170 --> 00:06:55.590\nAnd a lot of times in those\nclassrooms we'd run hacking courses.\n\n130\n00:06:55.590 --> 00:06:59.619\nI said we, I never did, it was Mike and\nI don't know if you did or not Ronnie?\n\n131\n00:06:59.619 --> 00:07:00.810\n>> No. [LAUGH] >> But you remember?\n\n132\n00:07:00.810 --> 00:07:03.283\n>> Right.\n>> When Mike would run a hacking course,\n\n133\n00:07:03.283 --> 00:07:05.479\nall the other classrooms were targets.\n\n134\n00:07:05.479 --> 00:07:08.414\n[LAUGH] And so if you wanted\nyour class to go off smoothly,\n\n135\n00:07:08.414 --> 00:07:12.550\nyou needed to isolate it off, and so\nwe used VLANs for every single classroom.\n\n136\n00:07:12.550 --> 00:07:14.580\nSo it was a small organization, but\n\n137\n00:07:14.580 --> 00:07:18.310\nwe had everything broken up into VLANs\nto create the isolation that we needed.\n\n138\n00:07:18.310 --> 00:07:21.790\nSo you've got to evaluate your environment\nto determine how many of these VLANs\n\n139\n00:07:21.790 --> 00:07:23.340\nyou're gonna need.\n\n140\n00:07:23.340 --> 00:07:25.400\nOnce you divide it up,\n\n141\n00:07:25.400 --> 00:07:29.220\nnow you've got the slight problem of\nhow do you communicate between them.\n\n142\n00:07:29.220 --> 00:07:34.010\nWe go back to my diagram, my laptops\nare isolated from that server over here.\n\n143\n00:07:34.010 --> 00:07:36.590\nHow do these laptops talk to that server?\n\n144\n00:07:36.590 --> 00:07:40.560\nWell technically,\nthese are like separate switches.\n\n145\n00:07:40.560 --> 00:07:42.620\nAnd how do I allow two switches\nto talk to each other?\n\n146\n00:07:43.980 --> 00:07:46.730\nI put an uplink cable in,\nand I could do that here.\n\n147\n00:07:46.730 --> 00:07:51.427\nI could come in and\nI could take an uplink cable and\n\n148\n00:07:51.427 --> 00:07:54.986\nI could run from one port to another.\n\n149\n00:07:54.986 --> 00:07:58.377\nAnd now they're uplinked, and\nnow the laptops can see the server.\n\n150\n00:07:58.377 --> 00:08:00.535\nBut here's the problem\nwith an uplink cable.\n\n151\n00:08:00.535 --> 00:08:04.745\nNow I've effectively connected\nthese two VLANs together.\n\n152\n00:08:04.745 --> 00:08:06.244\nAnd now it's one broadcast domain again.\n\n153\n00:08:06.244 --> 00:08:07.314\n>> [LAUGH]\n>> So\n\n154\n00:08:07.314 --> 00:08:10.070\nI've defeated the whole\npurpose of having a VLAN.\n\n155\n00:08:10.070 --> 00:08:12.030\nSo you don't want to do this.\n\n156\n00:08:12.030 --> 00:08:16.210\nInstead, what you need to\ndo is put in a router.\n\n157\n00:08:16.210 --> 00:08:21.065\nIf I have a router, where one interface\nplugs into the green VLAN and\n\n158\n00:08:21.065 --> 00:08:23.475\none interface plugs into the red VLAN.\n\n159\n00:08:23.475 --> 00:08:27.115\nThe router can now control traffic\nmoving between the two VLANs.\n\n160\n00:08:27.115 --> 00:08:32.445\nAnd the nice part about this is that\nrouters do not forward broadcasts.\n\n161\n00:08:32.445 --> 00:08:34.285\nA router will never forward a broadcast.\n\n162\n00:08:34.285 --> 00:08:36.960\nA router will only forward a unicast.\n\n163\n00:08:36.960 --> 00:08:39.620\nThere are some little tricks you can do to\nconfigure where it will take a broadcast\n\n164\n00:08:39.620 --> 00:08:40.900\nand convert it to a unicast, but\n\n165\n00:08:40.900 --> 00:08:43.750\nat the end of the day it's\nonly sending out unicasts.\n\n166\n00:08:43.750 --> 00:08:48.850\nAnd so unicast traffic would exit\nthe green VLAN, go to the router,\n\n167\n00:08:48.850 --> 00:08:51.600\nand then get sent over to the red VLAN and\nvice versa.\n\n168\n00:08:51.600 --> 00:08:55.330\nSo my broadcast stays separated,\nmy VLAN stays separated.\n\n169\n00:08:55.330 --> 00:08:56.500\nAnd we're safe.\n\n170\n00:08:56.500 --> 00:09:01.090\nThat's the idea behind having\na virtual local area network.\n\n171\n00:09:01.090 --> 00:09:02.785\nWe can isolate these out.\n\n172\n00:09:02.785 --> 00:09:06.135\n>> So Don, it doesn't matter if\nthey're on the same physical switch,\n\n173\n00:09:06.135 --> 00:09:09.542\nthat they're actually connected in,\none on port 12, one on 24,\n\n174\n00:09:09.542 --> 00:09:12.430\nif they're on separate VLANs\nwe still need a router.\n\n175\n00:09:12.430 --> 00:09:12.960\n>> That's right.\n\n176\n00:09:12.960 --> 00:09:15.920\nYep, because there's no other way to\ncommunicate unless you run an uplink\n\n177\n00:09:15.920 --> 00:09:18.400\ncable, which again,\ndefeats the whole purpose, right?\n\n178\n00:09:18.400 --> 00:09:20.390\nAll right,\nlet me show you guys on an actual switch.\n\n179\n00:09:20.390 --> 00:09:21.710\nLet me switch over here.\n\n180\n00:09:21.710 --> 00:09:23.580\nLet me switch to my switch.\n\n181\n00:09:23.580 --> 00:09:26.250\nAll right, so I've got a couple of\nswitches laying around here and\n\n182\n00:09:26.250 --> 00:09:27.430\nI'll just start on.\n\n183\n00:09:27.430 --> 00:09:29.260\nWhich one do I want to start on?\n\n184\n00:09:29.260 --> 00:09:31.370\nI'll start on this guy.\n\n185\n00:09:31.370 --> 00:09:32.040\nAll right.\n\n186\n00:09:32.040 --> 00:09:35.520\nSo this is my core switch NY core 01.\n\n187\n00:09:35.520 --> 00:09:40.900\nAnd on this switch, let me just show you\nkind of the default VLAN configuration.\n\n188\n00:09:40.900 --> 00:09:42.190\nSo I'm going to do a show VLAN.\n\n189\n00:09:42.190 --> 00:09:43.720\nThis command is incredibly useful.\n\n190\n00:09:43.720 --> 00:09:44.680\nShow VLAN.\n\n191\n00:09:44.680 --> 00:09:48.380\nAnd it's going to show me the VLANs\nthat exists on this switch right now.\n\n192\n00:09:48.380 --> 00:09:51.870\nAnd so I can see I have a default VLAN,\nright here, VLAN 1.\n\n193\n00:09:51.870 --> 00:09:53.460\nAnd I can see all my ports.\n\n194\n00:09:53.460 --> 00:09:58.160\nThis is a 24 port switch and it's got\ntwo gigabit ports on the end of it.\n\n195\n00:09:58.160 --> 00:10:04.750\nAnd so every port,\nport Fa1/0/1 all the way through Gi1/0/2,\n\n196\n00:10:04.750 --> 00:10:09.730\nall of them are in VLAN 1 and\nVLAN 1 is named the default VLAN.\n\n197\n00:10:09.730 --> 00:10:10.430\nRight?\nSo,\n\n198\n00:10:10.430 --> 00:10:13.140\nif I plug anybody into any port,\nthey're going to be there.\n\n199\n00:10:13.140 --> 00:10:14.858\nThat's the VLAN we can expect to see.\n\n200\n00:10:14.858 --> 00:10:19.086\nThere's a few others that show up,\n1,002, 1,003, 1,004, 1,005.\n\n201\n00:10:19.086 --> 00:10:20.880\nWhat the heck are these?\n\n202\n00:10:20.880 --> 00:10:21.490\nOkay.\n\n203\n00:10:21.490 --> 00:10:23.311\nWell notice the status as VLANs.\n\n204\n00:10:23.311 --> 00:10:27.477\nThey show as active/unsupoprted.\n\n205\n00:10:27.477 --> 00:10:32.680\nIt's actually unsupervised or\nwhatever it stands for.\n\n206\n00:10:32.680 --> 00:10:37.310\nBut what that's telling me is that\nthese are VLANs that are active but\n\n207\n00:10:37.310 --> 00:10:40.450\nare unsupported by\nthe hardware on my switch.\n\n208\n00:10:40.450 --> 00:10:42.210\nLook at what these are setup for.\n\n209\n00:10:42.210 --> 00:10:44.240\nFDDI and token ring.\n\n210\n00:10:44.240 --> 00:10:46.990\nFDDI is an older fiber optic protocol and\n\n211\n00:10:46.990 --> 00:10:52.370\ntoken ring is a really old Ethernet,\nit's not Ethernet it's token ring.\n\n212\n00:10:52.370 --> 00:10:53.940\nIt's own thing.\n\n213\n00:10:53.940 --> 00:10:56.490\nBut basically a replacement for\nEthernet networks.\n\n214\n00:10:56.490 --> 00:10:57.940\nAnd token ring was big back in the 80's.\n\n215\n00:10:57.940 --> 00:10:58.810\nIt's not any more.\n\n216\n00:10:58.810 --> 00:11:01.900\nI don't have any token ring interfaces so\nI can't use it.\n\n217\n00:11:01.900 --> 00:11:04.500\nBut Cisco reserves these VLANs for\n\n218\n00:11:04.500 --> 00:11:09.290\nbackwards compatibility, because you\nmight have a network that mixes both.\n\n219\n00:11:09.290 --> 00:11:13.760\nThat mixes fity with Ethernet or\nit mixes token ring with Ethernet.\n\n220\n00:11:13.760 --> 00:11:16.420\nAnd now I need to have those VLANs\nset up to be able to handle that.\n\n221\n00:11:16.420 --> 00:11:21.230\nSo these four are special\nVLANs that are set aside and\n\n222\n00:11:21.230 --> 00:11:22.890\nI'm not suppose to mess with them, right.\n\n223\n00:11:22.890 --> 00:11:24.530\nFor the most part you just\nignore those four and\n\n224\n00:11:24.530 --> 00:11:26.320\nthat's four numbers that you can't use.\n\n225\n00:11:26.320 --> 00:11:29.490\nAll the other numbers you can use,\nthose four, sorry can't use them.\n\n226\n00:11:29.490 --> 00:11:30.380\nAll right.\n\n227\n00:11:30.380 --> 00:11:34.220\nBut I've only got VLAN 1 by default,\nall my ports are combined.\n\n228\n00:11:34.220 --> 00:11:38.300\nIf I create my own VLANs\nnow I can get in and\n\n229\n00:11:38.300 --> 00:11:42.690\nstart to tweak how things work and\nstart moving things off of it, okay.\n\n230\n00:11:42.690 --> 00:11:46.730\nSo to create a VLAN is\nactually really easy.\n\n231\n00:11:46.730 --> 00:11:47.800\nAnd one more thing while I'm in here.\n\n232\n00:11:47.800 --> 00:11:52.400\nI ran show VLAN, and show VLAN will give\nyou the output of which VLANs you have and\n\n233\n00:11:52.400 --> 00:11:56.150\nthen right after it you get\na detailed break down of the VLANs.\n\n234\n00:11:56.150 --> 00:11:57.750\nIt lays out a little\nmore information on it.\n\n235\n00:11:57.750 --> 00:12:00.687\nLike I can see which ones are Ethernet and\nFDDI,\n\n236\n00:12:00.687 --> 00:12:05.420\ntoken ring I can see other kinds of\nthings and my remote span and so on.\n\n237\n00:12:05.420 --> 00:12:09.950\nIf you want to trim that down a little\nbit you can do a show VLAN brief.\n\n238\n00:12:09.950 --> 00:12:13.590\nAnd show VLAN brief will just show you the\ntop part which is almost always the part\n\n239\n00:12:13.590 --> 00:12:14.180\nthat we want.\n\n240\n00:12:14.180 --> 00:12:15.880\nThe rest of it we don't really care about.\n\n241\n00:12:15.880 --> 00:12:17.773\nSo I usually run show VLAN brief.\n\n242\n00:12:17.773 --> 00:12:19.409\nAs opposed to just show of VLAN.\n\n243\n00:12:19.409 --> 00:12:24.648\nAll right, if i want to create a VLAN\nit's actually really easy, first off\n\n244\n00:12:24.648 --> 00:12:30.072\nI need to get into my configuration and\nthen I can create VLANs one of two ways.\n\n245\n00:12:30.072 --> 00:12:36.430\nI can create it ahead of time or\nI can create it on the fly.\n\n246\n00:12:36.430 --> 00:12:37.260\nOkay.\n\n247\n00:12:37.260 --> 00:12:40.080\nIf I create a VLAN ahead of time,\nI make the VLAN.\n\n248\n00:12:40.080 --> 00:12:43.450\nAnd then I go to each port that I wanna\nmove into it and I move it into the VLAN.\n\n249\n00:12:44.900 --> 00:12:48.800\nOr I can do it on the fly\nwhere I don't create the VLAN,\n\n250\n00:12:48.800 --> 00:12:52.930\nI go straight to a port and I assign\nthe port to a VLAN that doesn't exist.\n\n251\n00:12:52.930 --> 00:12:55.470\nAnd when I do that it will\ncreate the VLAN at that time.\n\n252\n00:12:55.470 --> 00:12:56.670\nAll right.\n\n253\n00:12:56.670 --> 00:12:58.440\nSo let me show you both ways.\n\n254\n00:12:58.440 --> 00:13:01.030\nLet's say that I want to create a VLAN for\nmy marketing department.\n\n255\n00:13:01.030 --> 00:13:03.770\nSo in config,\nI'm just going to type VLAN 10.\n\n256\n00:13:03.770 --> 00:13:06.730\nI'm picking the number ten,\nbecause I like it, right?\n\n257\n00:13:06.730 --> 00:13:10.570\nYou can pick whatever number you want\nwithin the limits of your system.\n\n258\n00:13:10.570 --> 00:13:12.680\nNow, if you want to see what numbers\nare supported by your switch,\n\n259\n00:13:12.680 --> 00:13:16.990\nyou can always get back out to the global\nprompt and you can just run VLAN?\n\n260\n00:13:16.990 --> 00:13:17.830\nAnd it' will show you.\n\n261\n00:13:17.830 --> 00:13:20.290\nThis one supports one through 4,000 and\n94.\n\n262\n00:13:20.290 --> 00:13:22.200\nAlmost every modern switch\nis going to do that,\n\n263\n00:13:22.200 --> 00:13:25.090\nbut if you have an older one in your\nnetwork you might want to hold yourself\n\n264\n00:13:25.090 --> 00:13:27.410\nto the lower numbers that way\nyou don't cause a problem.\n\n265\n00:13:27.410 --> 00:13:30.870\nI generally try to stay below 1,023 just\n\n266\n00:13:30.870 --> 00:13:33.230\nin the event that there is\nsomething old out there.\n\n267\n00:13:33.230 --> 00:13:37.180\nIt does happen, and\nwe're going to talk about VTP later on and\n\n268\n00:13:37.180 --> 00:13:39.640\nVTP really likes it if you stay\nwith the lower numbers if you can.\n\n269\n00:13:39.640 --> 00:13:43.070\nand the reality is most people are going\nto have more than 1,000 VLANs anyway so\n\n270\n00:13:43.070 --> 00:13:44.960\nit's not really a problem.\n\n271\n00:13:44.960 --> 00:13:48.230\nAlright well, I was creating VLAN 10 and\nwhen I ran VLAN 10,\n\n272\n00:13:48.230 --> 00:13:53.020\nthat command right there, that basically\ncreates a VLAN I've now got that VLAN\n\n273\n00:13:53.020 --> 00:13:57.850\ncreated on my system, I could stop right\nhere but I do like to give it a name,\n\n274\n00:13:57.850 --> 00:14:00.420\na name so I can remember why\nI'm creating this thing.\n\n275\n00:14:00.420 --> 00:14:01.570\nYou don't have to give it a name,\n\n276\n00:14:01.570 --> 00:14:04.130\nthe system will auto\ngenerate one if you don't.\n\n277\n00:14:04.130 --> 00:14:06.080\nBut if you do, now we can see it.\n\n278\n00:14:06.080 --> 00:14:07.470\nNow it is just for us, right.\n\n279\n00:14:07.470 --> 00:14:09.720\nAs a network administrator,\nyou will see that name.\n\n280\n00:14:09.720 --> 00:14:12.270\nNo one else will see it unless\nthey log into the router, right,\n\n281\n00:14:12.270 --> 00:14:14.910\nthat's a Cisco thing and\nit'll show up in here.\n\n282\n00:14:14.910 --> 00:14:20.570\nIf I get out of my config, and I do a show\nVLAN, that one's gonna turn up in here.\n\n283\n00:14:22.350 --> 00:14:26.740\nAnd now I can see where I've got VLAN 1,\nwhich is the default.\n\n284\n00:14:26.740 --> 00:14:30.320\nAnd then right after that I've\ngot VLAN 10, which is Marketing.\n\n285\n00:14:30.320 --> 00:14:33.140\nIt's active, but\nit's got no ports assigned to it, right.\n\n286\n00:14:33.140 --> 00:14:36.360\nRemember what I'm doing here is\nI'm creating the VLAN first, and\n\n287\n00:14:36.360 --> 00:14:38.390\nthen I'm gonna come back in.\n\n288\n00:14:38.390 --> 00:14:40.580\nAnd assign ports to it, okay?\n\n289\n00:14:40.580 --> 00:14:42.650\nSo now, I'm gonna go and do that.\n\n290\n00:14:42.650 --> 00:14:47.350\nI'm gonna jump into my configuration and\nI've got 24 ports on this switch.\n\n291\n00:14:47.350 --> 00:14:53.465\nSo let's say that I want ports\nmaybe one through ten on VLAN 10.\n\n292\n00:14:53.465 --> 00:14:59.265\nAnd then I want 11 through 20 on VLAN 20,\nright, so those are gonna be my two VLANs.\n\n293\n00:14:59.265 --> 00:15:02.440\nI want a VLAN for my sales network but\nI haven't made that one yet.\n\n294\n00:15:02.440 --> 00:15:05.800\nSo what I'm gonna do from here is\nI'm gonna get into my config and\n\n295\n00:15:05.800 --> 00:15:07.290\nI'm gonna go and modify some ports.\n\n296\n00:15:07.290 --> 00:15:09.430\nNow I can do the ports one at a time,\nlet's start that way.\n\n297\n00:15:09.430 --> 00:15:11.790\nWe'll go one at a time and\nthen I'll show you guys a shortcut.\n\n298\n00:15:11.790 --> 00:15:19.255\nSo, if I wanna do this one at a time\nI can jump into interface fa1/0/1.\n\n299\n00:15:19.255 --> 00:15:23.037\nRight, so I'm gonna jump into\nthat first interface, and\n\n300\n00:15:23.037 --> 00:15:26.124\nfrom here I can say\nswitchport access VLAN, and\n\n301\n00:15:26.124 --> 00:15:30.190\nthen I can tell it the VLAN that\nI want it to be on, all right?\n\n302\n00:15:30.190 --> 00:15:31.465\nThe switchport command is key,\n\n303\n00:15:31.465 --> 00:15:34.280\ncause that's telling that I'm modifying\nthe way the switch functions, right?\n\n304\n00:15:34.280 --> 00:15:35.850\nI released on that interface.\n\n305\n00:15:35.850 --> 00:15:38.490\nAnd I'm telling it that I\nwant it to be an access port.\n\n306\n00:15:38.490 --> 00:15:40.640\nIn other words I'm gonna plug in\na workstation into this thing.\n\n307\n00:15:40.640 --> 00:15:41.860\nNot a, another switch.\n\n308\n00:15:41.860 --> 00:15:44.780\nIf it was a switch it needs to\nbe an up link right a trunk.\n\n309\n00:15:44.780 --> 00:15:46.940\nIn this case I just need\nit to be an access.\n\n310\n00:15:46.940 --> 00:15:49.201\nAnd then I'm gonna tell it which VLAN,\n\n311\n00:15:49.201 --> 00:15:51.882\nthis one's going to be\na marketing VLAN 10.\n\n312\n00:15:51.882 --> 00:15:55.136\nAll right I can then go and\nrepeat that for\n\n313\n00:15:55.136 --> 00:15:58.696\nports two through nine and\nget those set up.\n\n314\n00:15:58.696 --> 00:16:04.984\nAnd then I'm gonna go\nto interface FA1/0/11.\n\n315\n00:16:04.984 --> 00:16:08.480\nAnd I'm gonna say\nswitchport access vlan 20.\n\n316\n00:16:08.480 --> 00:16:11.600\nI can just use my uploader\nthere to save some time, right?\n\n317\n00:16:11.600 --> 00:16:13.140\nPull up my command history.\n\n318\n00:16:13.140 --> 00:16:15.780\nNow, this one's gonna be a little\ndifferent when I run this.\n\n319\n00:16:15.780 --> 00:16:17.660\nvlan 10, I already made, right?\n\n320\n00:16:17.660 --> 00:16:21.480\nWe created it, it's in placed,\nI can see it right up here on my screen.\n\n321\n00:16:21.480 --> 00:16:24.850\nI've got that vlan right there, so\nit's already made and it's in placed and\n\n322\n00:16:24.850 --> 00:16:26.560\nit's working great.\n\n323\n00:16:26.560 --> 00:16:29.285\nvlan 20 doesn't exist, so\nwhat's gonna happen when I assign it?\n\n324\n00:16:29.285 --> 00:16:32.820\nWell, this is called on\nthe fly vlan creation.\n\n325\n00:16:32.820 --> 00:16:35.560\nSo when I run it, it's going to\nsee the vlan doesn't exist and\n\n326\n00:16:35.560 --> 00:16:37.090\nit's gonna make it for me.\n\n327\n00:16:37.090 --> 00:16:39.963\nSo I didn't even have to make it,\nit's already done,\n\n328\n00:16:39.963 --> 00:16:41.781\nthere we go, creating vlan 20.\n\n329\n00:16:41.781 --> 00:16:45.959\nAnd if I get out of my configuration and\ndo a show vlan brief.\n\n330\n00:16:47.660 --> 00:16:54.050\nWhen I do a show vlan brief, I can jump\nin and see I have vlan 10 as marketing.\n\n331\n00:16:55.050 --> 00:17:00.310\nAnd it's already got\nFa1/0/1 assigned to it.\n\n332\n00:17:00.310 --> 00:17:04.802\nAnd I've got vlan 20 which is Fa1/0/11 or\nyou assigned.\n\n333\n00:17:04.802 --> 00:17:08.162\nBut, see the name that\nit gave it VLAN0020.\n\n334\n00:17:08.162 --> 00:17:11.810\nWell, if that's what I want then,\nI can remember that hey,\n\n335\n00:17:11.810 --> 00:17:14.320\nit's VLAN0020, who cares and\nthat name works fine.\n\n336\n00:17:14.320 --> 00:17:16.770\nBut I want that to be for\nmy sales team, and so\n\n337\n00:17:16.770 --> 00:17:18.740\nI wanna remember that that's\ngonna be the sales team.\n\n338\n00:17:18.740 --> 00:17:21.680\nOr maybe it's the IT department or\nwherever I need to give it that name.\n\n339\n00:17:21.680 --> 00:17:24.300\nSo I'm gonna jump back into configuration,\n\n340\n00:17:24.300 --> 00:17:27.530\nI'll type it out like\na responsible instructor.\n\n341\n00:17:27.530 --> 00:17:33.790\nConfigure terminal, and I'll say vlan 20,\nand I'm gonna give it a name of Sales.\n\n342\n00:17:33.790 --> 00:17:37.460\nOkay, now vlan 20 already existed,\nso when I ran the vlan 20 command,\n\n343\n00:17:37.460 --> 00:17:38.740\nthat didn't create it.\n\n344\n00:17:38.740 --> 00:17:42.440\nIt was already there, now I'm just\nmodifying it and giving it a name.\n\n345\n00:17:42.440 --> 00:17:44.830\nSo that when I do that\nshow vlan brief this time,\n\n346\n00:17:44.830 --> 00:17:49.730\nnow I can see that it's called sales.\n\n347\n00:17:49.730 --> 00:17:51.850\nAnd I can remember what those are for,\nall right.\n\n348\n00:17:51.850 --> 00:17:56.500\nSo I've created two vlans and\nI've assigned an individual port to each.\n\n349\n00:17:56.500 --> 00:17:59.790\nThe challenge here though is that you're\nnormally going to be assigning a lot of\n\n350\n00:17:59.790 --> 00:18:00.750\nports to each, right.\n\n351\n00:18:00.750 --> 00:18:01.890\nNot just one port.\n\n352\n00:18:01.890 --> 00:18:05.960\nSo I said that I wanted ports one through\nten to be on the marketing vlan and\n\n353\n00:18:05.960 --> 00:18:07.620\nI wanted 11 through 20 to be on sales.\n\n354\n00:18:07.620 --> 00:18:10.430\nWell I don't wanna have to go through and\nenter the command in ten times,\n\n355\n00:18:10.430 --> 00:18:12.000\nor 20 times.\n\n356\n00:18:12.000 --> 00:18:13.390\nCisco knows that, and so\n\n357\n00:18:13.390 --> 00:18:16.528\nwhat Cisco did is they introduced\nwhat's called the range command.\n\n358\n00:18:16.528 --> 00:18:21.050\nAnd the range command lets you modify\nmore than one interface at the same time.\n\n359\n00:18:21.050 --> 00:18:24.750\nThe syntax for it's really,\nreally picky, but it saves you so\n\n360\n00:18:24.750 --> 00:18:26.880\nmuch time that you won't mind.\n\n361\n00:18:26.880 --> 00:18:29.960\nBecause imagine if you're working\non a switch with 200 ports.\n\n362\n00:18:29.960 --> 00:18:32.680\nThere's no way you're going to go\nthrough and do something 200 times, so\n\n363\n00:18:32.680 --> 00:18:35.120\nthe range command,\nas picky as it is, it saves you so\n\n364\n00:18:35.120 --> 00:18:37.460\nmuch time that it's absolutely worth it,\nall right.\n\n365\n00:18:37.460 --> 00:18:42.665\nSo what I'm going to do is in\nconfiguration, instead of saying\n\n366\n00:18:42.665 --> 00:18:47.874\ninterface fa1/0/1 and\ngoing through individual ports,\n\n367\n00:18:47.874 --> 00:18:51.824\nI'm gonna say interface range fa1/0/1.\n\n368\n00:18:51.824 --> 00:18:52.350\nAnd then I'll do a space- space.\n\n369\n00:18:52.350 --> 00:18:57.590\nAnd those spaces are important,\nthat's why I say them.\n\n370\n00:18:57.590 --> 00:18:59.750\nIt is really picky.\n\n371\n00:18:59.750 --> 00:19:01.150\nAnd then, 10.\n\n372\n00:19:01.150 --> 00:19:04.560\nI'm telling it that I want to\nmodify ports 1 through 10.\n\n373\n00:19:04.560 --> 00:19:07.190\nAnd when I run that, look at my prompt.\n\n374\n00:19:07.190 --> 00:19:11.600\nNow it's not just config-if,\nit's config-if-range, right?\n\n375\n00:19:11.600 --> 00:19:19.220\nI'm doing more than one port and so\nnow when I say switchport access vlan 10,\n\n376\n00:19:19.220 --> 00:19:23.619\nthey're all going to get moved to vlan 10.\n\n377\n00:19:23.619 --> 00:19:26.822\nAnd if I do the same thing for\n\n378\n00:19:26.822 --> 00:19:31.419\nports 11 through 20 I can come in and\n\n379\n00:19:31.419 --> 00:19:35.894\nsay that I want them to be on vlan 20.\n\n380\n00:19:35.894 --> 00:19:40.030\nAnd it's gonna move all of\nthose over to vlan 20, right.\n\n381\n00:19:40.030 --> 00:19:44.870\nSo modifying multiple ports at the same\ntime, absolutely a handy thing to do.\n\n382\n00:19:46.690 --> 00:19:48.020\nNow we just see if actually worked.\n\n383\n00:19:48.020 --> 00:19:50.440\nYou always want to verify\nyour commands right?\n\n384\n00:19:50.440 --> 00:19:51.710\nEspecially on the exam.\n\n385\n00:19:51.710 --> 00:19:54.030\nIf you issue a command,\ndon't just assume it works.\n\n386\n00:19:54.030 --> 00:19:54.860\nAlways go and verify.\n\n387\n00:19:54.860 --> 00:19:57.610\nSo I'm gonna do a show vlan brief.\n\n388\n00:19:57.610 --> 00:20:00.790\nAnd just make sure I still\nhave vlans ten and 20, but\n\n389\n00:20:00.790 --> 00:20:02.980\nnow they have ports attached to them.\n\n390\n00:20:02.980 --> 00:20:07.762\nAnd sure enough as I look at that\nI've got all these ports assigned to\n\n391\n00:20:07.762 --> 00:20:09.090\nvlan 10 and vlan 20.\n\n392\n00:20:09.090 --> 00:20:11.860\nThey're fully populated and\nnow they're ready to go.\n\n393\n00:20:11.860 --> 00:20:14.860\nNow I don't have any workstations\nplugged in to them, so that's no fun.\n\n394\n00:20:14.860 --> 00:20:16.930\nBut at least they're up and\nthey're running.\n\n395\n00:20:16.930 --> 00:20:20.508\nI've now divided my switch\ninto three switches,\n\n396\n00:20:20.508 --> 00:20:24.777\nthree virtual switches,\nvlan 1, vlan 10, vlan 20.\n\n397\n00:20:24.777 --> 00:20:27.884\n>> All right so Don,\nnow that we've created those two vlans,\n\n398\n00:20:27.884 --> 00:20:31.722\nis it possible then for a single port\nto be in both vlan 10 and vlan 20?\n\n399\n00:20:31.722 --> 00:20:36.225\n>> Okay, so, it's certainly,\nwhen you first hear the question,\n\n400\n00:20:36.225 --> 00:20:39.100\ncome'mon Ronnie, the whole point of\ndividing the networks is to divide it.\n\n401\n00:20:39.100 --> 00:20:42.130\nWhy would I want one port\non two different vlans?\n\n402\n00:20:42.130 --> 00:20:44.900\nThere's actually several scenarios\nwhere you would, indeed, want that.\n\n403\n00:20:44.900 --> 00:20:47.340\nAnd one of the best examples\nis voice-over IP, right?\n\n404\n00:20:47.340 --> 00:20:51.910\nIf you've ever done voice-over IP and\nyou get those voice over IP phones.\n\n405\n00:20:51.910 --> 00:20:55.410\nThey almost always have two\nnetwork jacks on the back.\n\n406\n00:20:55.410 --> 00:20:57.680\nOne network jack is designed\nto run to the wall and\n\n407\n00:20:57.680 --> 00:21:00.420\nanother network jack is designed\nto run into your computer.\n\n408\n00:21:00.420 --> 00:21:04.800\nThere's many many business offices out\nthere where they only have one network\n\n409\n00:21:04.800 --> 00:21:08.520\njack in their office, and so\nif your computer's plugged into it.\n\n410\n00:21:08.520 --> 00:21:12.770\nAnd then you get a voice over IP phone\nthere's not enough jacks on the wall.\n\n411\n00:21:12.770 --> 00:21:15.680\nAnd so what they do is they build\na switch into the phone, and\n\n412\n00:21:15.680 --> 00:21:17.710\nthat way you can plug\nthe phone in to the wall and\n\n413\n00:21:17.710 --> 00:21:21.280\nyou can plug your PC in to the phone and\nthey can share that wall jack.\n\n414\n00:21:21.280 --> 00:21:26.250\nThe problem with that is that your\ncomputer is now battling your phone for\n\n415\n00:21:26.250 --> 00:21:27.530\nbandwidth.\n\n416\n00:21:27.530 --> 00:21:29.700\nAnd that can hurt the quality\nof your phone call.\n\n417\n00:21:29.700 --> 00:21:33.310\nAnd quality is really important when\nyou're dealing with voice over IP.\n\n418\n00:21:33.310 --> 00:21:35.100\nSo, what do we do about it?\n\n419\n00:21:35.100 --> 00:21:38.050\nWell, if we can put\nthem on separate vlans,\n\n420\n00:21:38.050 --> 00:21:42.810\nwhere the voice traffic is on one vlan,\nand the data traffic is on another vlan.\n\n421\n00:21:42.810 --> 00:21:45.950\nNow, we can use what's called\nquality of service, right?\n\n422\n00:21:45.950 --> 00:21:50.310\nQuality of service, or QoS,\nis a network protocol that is,\n\n423\n00:21:50.310 --> 00:21:53.290\nit's not really going to be on this exam.\n\n424\n00:21:53.290 --> 00:21:55.060\nIn fact it's not even on the CCNA,\n\n425\n00:21:55.060 --> 00:21:59.550\nit's really like a CCNP level-type thing\nor service provider really gets into it.\n\n426\n00:21:59.550 --> 00:22:02.600\nBut what it is, is a way that you can\nbasically set rules on your network,\n\n427\n00:22:02.600 --> 00:22:07.160\nthat says this traffic is more\nimportant than this other traffic.\n\n428\n00:22:07.160 --> 00:22:10.682\nBy default, switches do what is\ncalled FIFO, first in, first out.\n\n429\n00:22:10.682 --> 00:22:14.062\nJust, whoever got here first that's\nthe first person going out and that's it.\n\n430\n00:22:14.062 --> 00:22:16.100\nBut with quality of service\nwe can influence that.\n\n431\n00:22:16.100 --> 00:22:20.900\nWe can say well, I know this PC\nwas first for watching Netflix but\n\n432\n00:22:20.900 --> 00:22:22.620\nhere comes this voice traffic and\nthat's more important.\n\n433\n00:22:22.620 --> 00:22:24.260\nAm gonna let it skip\nthe line in the buffer and\n\n434\n00:22:24.260 --> 00:22:27.220\njump right to the output queue and\nget out there on to the network.\n\n435\n00:22:27.220 --> 00:22:28.840\nSo voice trafficking gets prioritized.\n\n436\n00:22:28.840 --> 00:22:31.700\nAnd there are several different ways,\nquality of service,\n\n437\n00:22:31.700 --> 00:22:35.910\nI mean we could do 20 episodes\nseries on just quality of service.\n\n438\n00:22:35.910 --> 00:22:40.520\nIt's a real end up thing but\nwith voice you almost always have it.\n\n439\n00:22:40.520 --> 00:22:43.940\nAnd so, having your voice traffic on\none vlan and your computer traffic,\n\n440\n00:22:43.940 --> 00:22:48.900\nyour data traffic on another vlan and\nthen having those on the same port\n\n441\n00:22:48.900 --> 00:22:52.450\nallows us to use quality of service to\ninfluence one over the other, all right.\n\n442\n00:22:52.450 --> 00:22:55.800\nLet me show you how that works and\njust as an example.\n\n443\n00:22:55.800 --> 00:22:58.080\nSo, first off,\nI'm gonna create two new vlans.\n\n444\n00:22:58.080 --> 00:23:01.480\nSo, I'm gonna get back to my\nconfiguration and I'm gonna do vlan 30,\n\n445\n00:23:01.480 --> 00:23:03.530\nwhich is going to be my data vlan.\n\n446\n00:23:04.730 --> 00:23:11.070\nAnd then I'm gonna do vlan 40, and\nI'm gonna call that my voice vlan.\n\n447\n00:23:11.070 --> 00:23:11.580\nOkay?\n\n448\n00:23:15.160 --> 00:23:20.570\nSo, I want my PC data to be on vlan 30 and\nI want my voice data to be on vlan 40.\n\n449\n00:23:20.570 --> 00:23:22.330\nThe names don't actually matter.\n\n450\n00:23:22.330 --> 00:23:24.920\nSo they're just standard\nrun of the mill vlans.\n\n451\n00:23:24.920 --> 00:23:26.620\nNothing too crazy and special there.\n\n452\n00:23:26.620 --> 00:23:29.670\nIt's the ports that are gonna\nbe different, okay.\n\n453\n00:23:29.670 --> 00:23:30.920\nAnd what I need to do from here,\n\n454\n00:23:30.920 --> 00:23:33.790\nis I need to get into the port\nthat's plugged in on this one.\n\n455\n00:23:33.790 --> 00:23:35.170\nSo let's say that it's port 21, right.\n\n456\n00:23:36.300 --> 00:23:41.250\nSo if I do a show,\nlet me show you something neat.\n\n457\n00:23:41.250 --> 00:23:42.170\nI want to look at port 21.\n\n458\n00:23:42.170 --> 00:23:44.920\nI want to look at what that\nconfiguration looks like.\n\n459\n00:23:44.920 --> 00:23:47.700\nSo what I could do is I could\nsay show running-config.\n\n460\n00:23:47.700 --> 00:23:51.690\nAnd when you run that it's gonna\nshow me the running config which is\n\n461\n00:23:51.690 --> 00:23:53.694\ngonna show me every single port.\n\n462\n00:23:53.694 --> 00:23:57.143\nAnd so I can scroll through here until\neventually I get to port 21, and\n\n463\n00:23:57.143 --> 00:23:58.710\nI can see how it's configured.\n\n464\n00:23:58.710 --> 00:24:01.854\nRight, and so right there,\nI see port 21 wasn't configured.\n\n465\n00:24:01.854 --> 00:24:05.450\nWell, the bigger your switch is, the\nlonger it takes to scroll through that.\n\n466\n00:24:05.450 --> 00:24:08.450\nIf you have 200 ports, you're talking\nabout a lot of pages and then you tap,\n\n467\n00:24:08.450 --> 00:24:10.170\ntap, tap, tap, it gets super annoying.\n\n468\n00:24:10.170 --> 00:24:16.240\nSo, what you could do is you could run\nshow running-config interface fa1/0/21,\n\n469\n00:24:16.240 --> 00:24:21.940\nin other words, show me the running\nconfiguration just for this one interface.\n\n470\n00:24:21.940 --> 00:24:25.270\nOn a router that's not terribly useful,\non a switch, absolutely,\n\n471\n00:24:25.270 --> 00:24:27.170\nyou'll use this command\na lot in real life land.\n\n472\n00:24:27.170 --> 00:24:28.840\nAnd on the exam,\nit just saves you a little bit of time.\n\n473\n00:24:28.840 --> 00:24:30.320\nSo now instead of having to hunt for\n\n474\n00:24:30.320 --> 00:24:33.080\nthat interface,\nI get the interface right there.\n\n475\n00:24:33.080 --> 00:24:36.350\nAnd I see that port 21 is at\nits default configuration and\n\n476\n00:24:36.350 --> 00:24:38.200\nnotice there's no VLAN assigned?\n\n477\n00:24:38.200 --> 00:24:39.912\nThat means that it's on VLAN1.\n\n478\n00:24:39.912 --> 00:24:42.640\nVLAN1 is the default so\nit doesn't show up in the configuration.\n\n479\n00:24:44.270 --> 00:24:47.261\nAll right,\nI'm gonna get back into configuration and\n\n480\n00:24:47.261 --> 00:24:49.674\nI'll get into interface fa1/0/21.\n\n481\n00:24:49.674 --> 00:24:55.235\nAll right, so I'm in this interface, and\nif I wanna assign it to a access VLAN,\n\n482\n00:24:55.235 --> 00:24:59.220\nright, for the PC,\nI set that my data VLAN was VLAN 30.\n\n483\n00:24:59.220 --> 00:25:04.200\nSo I'm gonna say switchport\naccess VLAN 30 right.\n\n484\n00:25:05.390 --> 00:25:11.490\nSo now my data,\nmy regular PC data is gonna be on VLAN 30.\n\n485\n00:25:11.490 --> 00:25:13.939\nNext, I can say switchport.\n\n486\n00:25:17.107 --> 00:25:18.670\nVoice VLAN.\n\n487\n00:25:18.670 --> 00:25:22.405\nAnd I can give it a different VLAN number,\nand I'm gonna give it 40, all right.\n\n488\n00:25:22.405 --> 00:25:25.880\nThat's gonna tell this port,\nhey, watch for traffic on here.\n\n489\n00:25:25.880 --> 00:25:31.620\nAnd if you see a VOIP phone, if you see\na Cisco detectable VOIP phone on the line,\n\n490\n00:25:31.620 --> 00:25:33.910\nput it's traffic on VLAN 40.\n\n491\n00:25:33.910 --> 00:25:39.950\nNow, if you have Cisco handsets,\ndata tech is automatically works great.\n\n492\n00:25:39.950 --> 00:25:44.790\nIf you have Polycom or\nMicrotel or somebody like that,\n\n493\n00:25:44.790 --> 00:25:48.070\nsome of them do support this,\nwork well with it, some don't.\n\n494\n00:25:48.070 --> 00:25:50.960\nAnd so there is actually another way that\nwe might need to set this up if you have\n\n495\n00:25:50.960 --> 00:25:52.270\nunsupported handsets.\n\n496\n00:25:52.270 --> 00:25:55.380\nBut if you have Cisco handsets,\nthis'll automatically detect, and\n\n497\n00:25:55.380 --> 00:25:57.960\nit'll put them on the right VLANs.\n\n498\n00:25:57.960 --> 00:26:01.460\nNow, as far as this exam,\nthe CCENT is concerned,\n\n499\n00:26:01.460 --> 00:26:03.060\nthose are the commands you need to know.\n\n500\n00:26:03.060 --> 00:26:07.940\nBut I do wanna show you one more command\nthat is really typically used here.\n\n501\n00:26:07.940 --> 00:26:11.050\nBecause we're normally combining\nthis with quality of service, right?\n\n502\n00:26:11.050 --> 00:26:14.720\nAnd for quality of service to work,\nyou actually have to turn it on.\n\n503\n00:26:14.720 --> 00:26:19.668\nSo I'm gonna say, mls qos trust cos.\n\n504\n00:26:19.668 --> 00:26:24.810\n[LAUGH]\nSo what is all of this, right?\n\n505\n00:26:24.810 --> 00:26:29.740\nWell, mls is the underlying\nswitch management that we have.\n\n506\n00:26:29.740 --> 00:26:32.530\nAnd we're telling it to\ndo quality of service and\n\n507\n00:26:32.530 --> 00:26:36.870\nwe're gonna trust the class of service\nthat we're receiving from the phone.\n\n508\n00:26:36.870 --> 00:26:40.220\nThe phone is gonna tell\nus that it's important.\n\n509\n00:26:40.220 --> 00:26:43.420\nAnd we're gonna trust it that\nit is important, all right?\n\n510\n00:26:43.420 --> 00:26:45.520\nAnd that way we can forward\nit along the interfaces and\n\n511\n00:26:45.520 --> 00:26:47.490\nit'll stay important as\nit crosses the network.\n\n512\n00:26:47.490 --> 00:26:51.825\nYou don't always wanna run this command\nbecause if you run it on a port that is\n\n513\n00:26:51.825 --> 00:26:55.956\nopen to a hacker, a hacker could plug in,\nput themselves on VLAN 40 and\n\n514\n00:26:55.956 --> 00:27:00.510\nthen say their classes services\nare more important than everyone else.\n\n515\n00:27:00.510 --> 00:27:02.580\nAnd then they can start running\nnetwork scan and all that,\n\n516\n00:27:02.580 --> 00:27:04.970\nthen they're running with\nhigh priority on the network.\n\n517\n00:27:04.970 --> 00:27:08.630\nBut if it's a void phone on the other end,\nwe trust it, we trust the class of\n\n518\n00:27:08.630 --> 00:27:10.740\nservices coming in on it and\nwe'll trust that and allow it in.\n\n519\n00:27:10.740 --> 00:27:15.020\nSo that's another command that's almost\nalways coupled with the voice VLAN,\n\n520\n00:27:15.020 --> 00:27:17.870\nthat's why I mention it here but\nlikely it won't show up on the exam.\n\n521\n00:27:17.870 --> 00:27:19.750\nThat's more of a real life command.\n\n522\n00:27:19.750 --> 00:27:24.550\nBut this is the important one here,\nmy port is now on two different VLANs,\n\n523\n00:27:24.550 --> 00:27:25.550\nall right.\n\n524\n00:27:25.550 --> 00:27:27.710\nAnd depending on the device I plug in,\na newer device.\n\n525\n00:27:27.710 --> 00:27:30.760\nIf I just plug in a laptop,\nit's only gonna be on VLAN 30.\n\n526\n00:27:30.760 --> 00:27:35.100\nIf I only plug in a phone,\nit's only gonna be on VLAN 40.\n\n527\n00:27:35.100 --> 00:27:39.323\nBut if I plug a laptop into a phone,\nand the phone into the port,\n\n528\n00:27:39.323 --> 00:27:42.590\nnow it's gonna be on VLAN 30 and 40.\n\n529\n00:27:42.590 --> 00:27:48.440\n>> And if I get out in my configuration\nand do a show VLAN brief.\n\n530\n00:27:50.370 --> 00:27:53.170\nWhen I do that show VLAN brief, I can see\n\n531\n00:27:54.530 --> 00:27:58.820\nport 21 doing something that I'd\nsaid shouldn't ever happened, right.\n\n532\n00:27:58.820 --> 00:28:03.150\nI got one port showing up on\ntwo different VLANs right here.\n\n533\n00:28:03.150 --> 00:28:08.127\nVLAN 30 and VLAN 40 both have fa1/0/21\ndepending on the type of device\n\n534\n00:28:08.127 --> 00:28:10.513\nthat gets plugged into them, right.\n\n535\n00:28:10.513 --> 00:28:13.879\nSo that's a great example right there\nof when you might have one port on more\n\n536\n00:28:13.879 --> 00:28:15.200\nthan one VLAN.\n\n537\n00:28:15.200 --> 00:28:18.620\nThere is another scenario\ntoo that's worth mentioning.\n\n538\n00:28:18.620 --> 00:28:21.970\nAnd that is if I'm\nuplinking between switches.\n\n539\n00:28:21.970 --> 00:28:24.049\nWhen you uplink between switches,\n\n540\n00:28:24.049 --> 00:28:28.170\nyou probably want that uplink to\ncarry traffic for more than one VLAN.\n\n541\n00:28:28.170 --> 00:28:31.190\nSo now I've got more than one\nVLAN crossing the same interface.\n\n542\n00:28:31.190 --> 00:28:34.190\nBut that's a pretty big topic, and\nI know we're running low on time.\n\n543\n00:28:34.190 --> 00:28:35.820\nRonnie's giving me the eye over here.\n\n544\n00:28:35.820 --> 00:28:39.788\nSo, what we'll have to do is a part two on\nthat one to show when you uplink between\n\n545\n00:28:39.788 --> 00:28:43.540\nswitches, you can send all of your\nVLAN traffic over the same link.\n\n546\n00:28:43.540 --> 00:28:44.900\nWhich makes things really efficient but\n\n547\n00:28:44.900 --> 00:28:46.380\nit does require a little\nbit of configuration,\n\n548\n00:28:46.380 --> 00:28:49.230\na little bit of thought ahead of time\nto get it set up the way you want.\n\n549\n00:28:49.230 --> 00:28:52.760\nAnd so that's another scenario where you\nmight have one port on more than one VLAN.\n\n550\n00:28:54.020 --> 00:28:55.390\n>> Well Don, thank you again for\n\n551\n00:28:55.390 --> 00:28:59.050\nactually introducing us to these VLAN\nconcepts right here at the beginning.\n\n552\n00:28:59.050 --> 00:29:02.950\nMaking sure you understand the VLAN\ncreation is actually a very key\n\n553\n00:29:02.950 --> 00:29:04.800\naspect that you'll face on the exam.\n\n554\n00:29:04.800 --> 00:29:06.412\nBoth ways is very important.\n\n555\n00:29:06.412 --> 00:29:09.390\nWhether you create the VLAN first or\nwhether you do it on the fly,\n\n556\n00:29:09.390 --> 00:29:12.640\nyou need to understand at least\nthe basic syntax for that.\n\n557\n00:29:12.640 --> 00:29:14.730\nAnd make sure you understand\nwhat's behind it.\n\n558\n00:29:14.730 --> 00:29:16.480\nAlso of course the verification.\n\n559\n00:29:16.480 --> 00:29:19.828\nYou need to get used to actually\nlearning these different show commands.\n\n560\n00:29:19.828 --> 00:29:23.220\nAfter a while what tends to happen very\nquickly is you tend to rely only on\n\n561\n00:29:23.220 --> 00:29:24.340\none show command.\n\n562\n00:29:24.340 --> 00:29:28.151\nOn these exams, knowing those different\nshow commands, the show VLAN,\n\n563\n00:29:28.151 --> 00:29:31.542\nshow VLAN brief, show interface,\nlike what Don also showed us.\n\n564\n00:29:31.542 --> 00:29:35.421\nThese are very important parts of what\nyou will also be tested on as well, so\n\n565\n00:29:35.421 --> 00:29:38.050\nthat you can see exactly what you need to.\n\n566\n00:29:38.050 --> 00:29:40.050\nIn our small testing environment,\n\n567\n00:29:40.050 --> 00:29:42.990\nour running configuration\ngenerally is fairly small.\n\n568\n00:29:42.990 --> 00:29:45.330\nWe just go, well,\nwe'll do the show running config.\n\n569\n00:29:45.330 --> 00:29:48.190\nBut remember on a real production,\nnow, those things can be huge.\n\n570\n00:29:48.190 --> 00:29:51.110\nSo being able to actually kind of just\nlimit yourself to what you need to see is\n\n571\n00:29:51.110 --> 00:29:52.430\nvery key too.\n\n572\n00:29:52.430 --> 00:29:53.825\nBut then, also at the end here,\n\n573\n00:29:53.825 --> 00:29:58.040\nwhere he also showed us the configuration\nbetween voice VLANs and data VLANs.\n\n574\n00:29:58.040 --> 00:30:02.792\nA single port can only be a part of one\ndata VLAN but if you actually do need that\n\n575\n00:30:02.792 --> 00:30:07.397\nparticular port to run voice and\nof course, data, then Don also showed us\n\n576\n00:30:07.397 --> 00:30:12.331\na configuration for a voice VLAN as well\nas a data VLAN and a single port on both.\n\n577\n00:30:12.331 --> 00:30:14.600\nSo, remember those concepts\nthat we'll see, too.\n\n578\n00:30:14.600 --> 00:30:17.772\nAnd there's still a ton more\nto go in LAN switching, and\n\n579\n00:30:17.772 --> 00:30:20.485\nDon is chomping at the bit\nto also get into that.\n\n580\n00:30:20.485 --> 00:30:21.046\n>> [LAUGH]\n>> So\n\n581\n00:30:21.046 --> 00:30:24.642\nwhat we're gonna do is we're gonna\ngo ahead and break right now, and\n\n582\n00:30:24.642 --> 00:30:26.705\nwe're coming back for then a part two?\n\n583\n00:30:26.705 --> 00:30:27.870\n>> Part two.\n\n584\n00:30:27.870 --> 00:30:31.035\n>> A part two for more LAN switching.\n\n585\n00:30:31.035 --> 00:30:32.535\nGreat place for us to sign off.\n\n586\n00:30:32.535 --> 00:30:35.145\nFor ITProTV,\nI've been your host Ronnie Wong.\n\n587\n00:30:35.145 --> 00:30:36.095\n>> And I'm Don Pezet.\n\n588\n00:30:36.095 --> 00:30:39.088\n>> Stay tuned right here for\nmore CCENT episodes.\n\n589\n00:30:39.088 --> 00:30:48.010\n[MUSIC]\n\n",
          "vimeoId": "174809881"
        },
        {
          "description": "In this episode, Ronnie and Don show how to create a consistent layer 2 environment with multiple switches by using layer 2 trunking.  They demonstrate how to configure both ISL and 802.1q trunking and how to verify trunking is working.  They also emphasize the need and use of trunks to allow for multiple VLANs to communicate across multiple switches.",
          "length": "2201",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-2-2-2-vlans_pt.2-070816-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-2-2-2-vlans_pt.2-070816-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-2-2-2-vlans_pt.2-070816-1-sm.jpg",
          "title": "VLANs Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.298 --> 00:00:14.330\nWelcome to another great\nepisode right here on ITProTV.\n\n3\n00:00:14.330 --> 00:00:20.088\nI'm your host Ronnie Wong, and today we're\ncontinuing on with some Cisco CCENT.\n\n4\n00:00:20.088 --> 00:00:23.028\nAnd we're actually moving into\nthe realm of well, trunking,\n\n5\n00:00:23.028 --> 00:00:25.856\nwe've talked about working\nwith individual switches, but\n\n6\n00:00:25.856 --> 00:00:28.696\nnow when we actually start\nworking with multiple switches.\n\n7\n00:00:28.696 --> 00:00:31.678\nWe're gonna get into the realm of\ntrunking, and who better to help us than,\n\n8\n00:00:31.678 --> 00:00:33.715\nwell, Mr. Don Pezet himself,\nwelcome back Don.\n\n9\n00:00:33.715 --> 00:00:36.241\n>> [INAUDIBLE] Ronnie, thanks for\nhaving me on the show, and\n\n10\n00:00:36.241 --> 00:00:38.353\nwhen we think of trunking,\nwhat do we think of?\n\n11\n00:00:38.353 --> 00:00:39.630\nI think of Antiques Roadshow, right?\n\n12\n00:00:39.630 --> 00:00:40.216\n>> [LAUGH] That's right.\n\n13\n00:00:40.216 --> 00:00:41.456\n>> We're gonna break out some trunks,\n\n14\n00:00:41.456 --> 00:00:42.999\nwe're gonna see if we\ngot stuff in the attic.\n\n15\n00:00:42.999 --> 00:00:46.690\n[LAUGH] So, one of the things we talked\nabout right at the end of the last episode\n\n16\n00:00:46.690 --> 00:00:51.150\nwas how there's certain situations\nwhere you might wanna have\n\n17\n00:00:51.150 --> 00:00:54.060\nmore than one VLAN on the same interface.\n\n18\n00:00:54.060 --> 00:00:56.080\nAnd I said that's not really common,\n\n19\n00:00:56.080 --> 00:00:59.130\nit's not something you normally want\ncuz VLANs are all about isolation.\n\n20\n00:00:59.130 --> 00:01:00.665\nWe're trying to separate traffic, so\n\n21\n00:01:00.665 --> 00:01:03.604\nlet me bring up the scenario that we\nwere going through in the last episode.\n\n22\n00:01:03.604 --> 00:01:08.365\nSo here I've got a switch and I've got a\ncouple of laptops plugged into a VLAN, and\n\n23\n00:01:08.365 --> 00:01:10.025\na server plugged into VLAN.\n\n24\n00:01:10.025 --> 00:01:11.080\nI've isolated things,\n\n25\n00:01:11.080 --> 00:01:14.150\nI've created that separation\nthe way that I wanted to, right?\n\n26\n00:01:14.150 --> 00:01:16.590\nI want my server room separate\nfrom my workstations.\n\n27\n00:01:16.590 --> 00:01:20.530\nAnd maybe I've got a firewall or a router\nthat's controlling traffic between these\n\n28\n00:01:20.530 --> 00:01:23.830\ntwo, but they're separated and isolate it.\n\n29\n00:01:23.830 --> 00:01:27.580\nAs my network grows,\nI might add more switches.\n\n30\n00:01:27.580 --> 00:01:33.850\nAnd as I add more switches, I need to\nuplink the VLAN so that they work.\n\n31\n00:01:33.850 --> 00:01:38.500\nSo for example, if I have my green VLAN\non this switch at the bottom left and\n\n32\n00:01:38.500 --> 00:01:41.080\nthen I have my green VLAN\nat the switch up top.\n\n33\n00:01:41.080 --> 00:01:43.940\nAnd I have my green VLAN over here\nat the switch on the bottom right.\n\n34\n00:01:43.940 --> 00:01:48.060\nI've got one VLAN that's now\non more than one switch.\n\n35\n00:01:48.060 --> 00:01:53.280\nWell, the switches don't know that that's\nthe same VLAN, so how do we connect it?\n\n36\n00:01:53.280 --> 00:01:55.280\nHow do we let them know\nthat's the same VLAN?\n\n37\n00:01:55.280 --> 00:01:57.400\nWell, the easiest way is do uplink cables.\n\n38\n00:01:57.400 --> 00:02:01.810\nI can take a crossover cable,\nplug it into the green VLAN on one switch.\n\n39\n00:02:01.810 --> 00:02:04.310\nAnd plug it in the green\nVLAN on another and\n\n40\n00:02:04.310 --> 00:02:06.080\nthat's exactly what I've\ndone here in the diagram.\n\n41\n00:02:06.080 --> 00:02:08.610\nThat uplinks those VLANs.\n\n42\n00:02:08.610 --> 00:02:12.606\nAnd so now, the laptop here at the left\nthat's on the green VLAN will be able to\n\n43\n00:02:12.606 --> 00:02:15.434\nsee the laptop on the right\nthat's on the green VLAN and\n\n44\n00:02:15.434 --> 00:02:17.915\nthey're passing through\nthat little switch.\n\n45\n00:02:17.915 --> 00:02:21.789\nNow at first glance, this looks like\na good solution but it's actually not.\n\n46\n00:02:21.789 --> 00:02:25.700\nWell, I guess it is if you\nonly have a couple of VLANs.\n\n47\n00:02:25.700 --> 00:02:30.230\nBut the more VLANs you have,\nthe more of a problem this is going to be.\n\n48\n00:02:30.230 --> 00:02:34.830\nSo for example,in my diagram, I've also\ngot a red and a blue VLAN, all right?\n\n49\n00:02:34.830 --> 00:02:36.890\nSo I need to uplink those also.\n\n50\n00:02:36.890 --> 00:02:39.322\nWell, that means I'm gonna\nneed to run more cables.\n\n51\n00:02:39.322 --> 00:02:44.187\nEvery VLAN is going to need its own uplink\nand so as we continue to add uplinks here,\n\n52\n00:02:44.187 --> 00:02:45.963\nI've uplinked red and blue.\n\n53\n00:02:45.963 --> 00:02:48.350\nLook at these switches.\n\n54\n00:02:48.350 --> 00:02:50.057\nThe switch that has red,\n\n55\n00:02:50.057 --> 00:02:54.289\ngreen and blue, I'm losing four\nof my ports just to uplinks.\n\n56\n00:02:54.289 --> 00:02:57.697\nAnd if we continue adding more and\nmore VLANs we're gonna lose more and\n\n57\n00:02:57.697 --> 00:03:01.293\nmore ports to uplinks until you get\nto the point where you have 48 VLANs.\n\n58\n00:03:01.293 --> 00:03:03.805\nAnd now, you're entire 48 port\nswitch is full of uplinks, and\n\n59\n00:03:03.805 --> 00:03:06.630\nyou've got nowhere to\nplug computers anymore.\n\n60\n00:03:06.630 --> 00:03:09.750\nNow, that's obviously a problem,\nwe don't wanna get to that point.\n\n61\n00:03:09.750 --> 00:03:12.940\nIf you've only got a couple of VLANs,\nmaybe this works it out okay.\n\n62\n00:03:12.940 --> 00:03:16.040\nBut if these switches are in different\nparts of your building, now you're having\n\n63\n00:03:16.040 --> 00:03:20.100\nto run multiple cables in between\neach of your little data closets.\n\n64\n00:03:20.100 --> 00:03:23.780\nAnd that's just again, more cabling,\nmore infrastructure, more cost.\n\n65\n00:03:23.780 --> 00:03:25.000\nYou do get one little advantage,\n\n66\n00:03:25.000 --> 00:03:27.950\nwhich is that each have their own\nindependent bandwidth, right?\n\n67\n00:03:27.950 --> 00:03:30.740\nSo say these are gig links,\nthe blue VLAN would have 1 gig,\n\n68\n00:03:30.740 --> 00:03:33.700\nthe red VLAN would have 1 gig,\nthe green VLAN would have 1 gig.\n\n69\n00:03:33.700 --> 00:03:36.700\nBut if I'm not under a bandwidth\nconstraint what I can do,\n\n70\n00:03:36.700 --> 00:03:39.640\nis I can share the uplink.\n\n71\n00:03:39.640 --> 00:03:43.030\nAnd instead of running individual\nuplinks through each VLAN,\n\n72\n00:03:43.030 --> 00:03:45.390\nI can use what's called trunking.\n\n73\n00:03:45.390 --> 00:03:50.610\nAnd when you run a trunkline it is one\nline like this line right here but\n\n74\n00:03:50.610 --> 00:03:53.857\nit carries more than one VLAN's traffic.\n\n75\n00:03:53.857 --> 00:03:56.938\nSo, this one line could carry red, green,\n\n76\n00:03:56.938 --> 00:04:01.115\nand blue these three VLANs all\nacross one line, all right?\n\n77\n00:04:01.115 --> 00:04:05.360\nThat means that I only need one cable\nrun in between each of my switches.\n\n78\n00:04:05.360 --> 00:04:10.200\nAnd now I'm not eating up all my\nports just to get uplinks in place.\n\n79\n00:04:10.200 --> 00:04:14.960\nI might chose to run more cables, just for\nredundancy's sake but I don't have to.\n\n80\n00:04:14.960 --> 00:04:17.890\nAnd notice how I don't have\nthese ports inside of a VLAN and\n\n81\n00:04:17.890 --> 00:04:21.680\nthat's because they're actually\ninside of all of the VLANs, right?\n\n82\n00:04:21.680 --> 00:04:24.490\nNow there's positives to this model and\nnegatives to this model.\n\n83\n00:04:24.490 --> 00:04:28.726\nOn a positive side, it's far less cabling\nand it's much easier to manage and\n\n84\n00:04:28.726 --> 00:04:30.695\nwe get easy control of our network.\n\n85\n00:04:30.695 --> 00:04:34.704\nOn a negative side it is shared bandwidth,\nso now the VLANs are competing with each\n\n86\n00:04:34.704 --> 00:04:38.150\nother for bandwidth but\nthere's still separate collision domains.\n\n87\n00:04:38.150 --> 00:04:39.225\nThey're still isolated,\n\n88\n00:04:39.225 --> 00:04:42.131\nthey can't see each other even though\nthey're going over the same line.\n\n89\n00:04:42.131 --> 00:04:45.173\nSo those are a couple of things that\nwe need to think about as we start to\n\n90\n00:04:45.173 --> 00:04:46.730\nget these trunks set up.\n\n91\n00:04:46.730 --> 00:04:49.910\nThat they usually are the right thing for\nmost of us new.\n\n92\n00:04:49.910 --> 00:04:53.560\nMost of us bandwidth contention is not\nproblem on our local area network.\n\n93\n00:04:53.560 --> 00:04:55.680\nBandwidth contention is almost\nalways a problem on your WAN,\n\n94\n00:04:55.680 --> 00:04:56.920\non your wide area network.\n\n95\n00:04:56.920 --> 00:04:58.868\nWell, routers don't support VLANs.\n\n96\n00:04:58.868 --> 00:05:00.396\nRouters go between VLANs, but\n\n97\n00:05:00.396 --> 00:05:03.347\na router itself doesn't\nparticipate in a VLAN operation.\n\n98\n00:05:03.347 --> 00:05:07.818\nThere's one exception on that, but I'm not\ngonna get into it crazy exceptions right\n\n99\n00:05:07.818 --> 00:05:11.390\nnow but for the most part we're\nnot gonna do a VLAN on a router.\n\n100\n00:05:11.390 --> 00:05:13.810\nAnd so that's not a problem there.\n\n101\n00:05:13.810 --> 00:05:16.541\nHere on the LAN,\nwe've got tons of bandwidths typically,\n\n102\n00:05:16.541 --> 00:05:18.954\nyou've got gigabit network or\n10 gigs networks.\n\n103\n00:05:18.954 --> 00:05:22.376\nI might have a gigabit switch and\nthese uplinks might be 10 gigabit or\n\n104\n00:05:22.376 --> 00:05:26.151\neven 40 gigabit uplinks, so now I've\ngot to ton of bandwidths available.\n\n105\n00:05:26.151 --> 00:05:29.531\nI've got this plug in to the last port of\nthe switch and I'm just doing that out of\n\n106\n00:05:29.531 --> 00:05:32.070\nhabit because almost every\nswitch has their access ports.\n\n107\n00:05:32.070 --> 00:05:34.723\nAnd the uplinks are down at the end,\nthe SOP connectors or\n\n108\n00:05:34.723 --> 00:05:37.050\nwhatever, so\nthat's what you'd normally see.\n\n109\n00:05:37.050 --> 00:05:41.078\nBut technically, you can use any of these\nports as an uplink to connect to another\n\n110\n00:05:41.078 --> 00:05:43.460\nswitch, it doesn't have\nto be down at the end.\n\n111\n00:05:44.820 --> 00:05:48.990\nNow, one of the big challenges it is\ncreates is I created a VLAN to isolate\n\n112\n00:05:48.990 --> 00:05:52.640\ntraffic, now I'm merging it all\ntogether on that line, right?\n\n113\n00:05:52.640 --> 00:05:55.510\nSo how do we actually keep it separate?\n\n114\n00:05:55.510 --> 00:05:58.340\nWell, your switches actually have\nsome little tricks they use,\n\n115\n00:05:58.340 --> 00:06:00.070\nthere's two different ways they can do it.\n\n116\n00:06:00.070 --> 00:06:05.510\nBut what they have to do is on one end\nof the cable the first switch has to\n\n117\n00:06:05.510 --> 00:06:09.310\nlabel or identify the traffic, the frames,\nas they're going across, right?\n\n118\n00:06:09.310 --> 00:06:11.775\nSo it's got to identify the frames and\n\n119\n00:06:11.775 --> 00:06:15.096\nmark them in some way as\nbeing on a particular VLAN.\n\n120\n00:06:15.096 --> 00:06:18.101\nAnd that way, when the frame crosses\nthe line to the other switch,\n\n121\n00:06:18.101 --> 00:06:20.797\nthe other switch can receive it and\nit will see that marker.\n\n122\n00:06:20.797 --> 00:06:24.652\nIt will look at it and say this is\non VLAN 10 or that one's on VLAN 20.\n\n123\n00:06:24.652 --> 00:06:29.410\nAnd it splits them back up again and\nputs them on their appropriate VLAN.\n\n124\n00:06:29.410 --> 00:06:33.620\nSo, the clients that are plugged in,\nthe PCs, laptops, desktops,\n\n125\n00:06:33.620 --> 00:06:37.080\nwhatever they are that are plugged in,\nthey never see each other.\n\n126\n00:06:37.080 --> 00:06:39.830\nThey never cross the VLAN boundary.\n\n127\n00:06:39.830 --> 00:06:44.160\nBut on that one length they're technically\ntogether, but the switches are merging\n\n128\n00:06:44.160 --> 00:06:47.000\nthem together and splitting them\nback out again before we see it.\n\n129\n00:06:47.000 --> 00:06:48.750\nSo as an end user, we're never exposed,\n\n130\n00:06:48.750 --> 00:06:52.110\nthat we never have the opportunity\nto do what's called VLAN hopping.\n\n131\n00:06:52.110 --> 00:06:56.930\nThere's certain attacks that people can do\nto try and jump from one VLAN to another.\n\n132\n00:06:56.930 --> 00:07:00.669\nAnd there are ways to pull it off,\nthe problem is the reverse trip.\n\n133\n00:07:00.669 --> 00:07:04.620\nThe traffic never comes back to you cuz\nit doesn't know to jump back to you.\n\n134\n00:07:04.620 --> 00:07:07.525\nSo VLAN hopping's not an attack that\nmost of us have to worry about but\n\n135\n00:07:07.525 --> 00:07:09.695\nbasically the switch is\ngoing to isolate that out.\n\n136\n00:07:09.695 --> 00:07:12.130\nNow I mentioned there\nis two ways to do it.\n\n137\n00:07:12.130 --> 00:07:17.929\nThere's one way that is the most common,\nthere's what's called 802.1Q trunking.\n\n138\n00:07:17.929 --> 00:07:21.589\nAll right, 802.1Q packet, shoot.\n\n139\n00:07:21.589 --> 00:07:23.647\n>> Encapsulation [LAUGH]\n>> It's a tagging,\n\n140\n00:07:23.647 --> 00:07:24.582\nI gotta say it right here.\n\n141\n00:07:24.582 --> 00:07:28.124\nAll right, 802.1Q VLAN tagging,\nthat's the official name for this one.\n\n142\n00:07:28.124 --> 00:07:32.570\nI guess the official name is\nIEEE 802.1Q VLAN tagging.\n\n143\n00:07:32.570 --> 00:07:34.990\nThis is the most common,\nbecause there's an IEEE standard.\n\n144\n00:07:34.990 --> 00:07:38.560\nAnd like that name implies, it's an open\nstandard that anyone can implement.\n\n145\n00:07:38.560 --> 00:07:43.400\nSo if you have Cisco switches,\nHP, Juniper, Extreme Networks,\n\n146\n00:07:43.400 --> 00:07:47.310\nwhoever it is that you have, they all\nsupport 802.1q VLAN tagging, all right?\n\n147\n00:07:48.620 --> 00:07:52.763\nThe other option is something called ISL,\ninter-switch link.\n\n148\n00:07:52.763 --> 00:07:57.139\nISL is Cisco proprietary, so if you just\nhave Cisco switches, you can use ISL.\n\n149\n00:07:57.139 --> 00:07:58.713\nBut, if you have mixed vendors,\n\n150\n00:07:58.713 --> 00:08:01.364\nnobody else that I've ever\nencountered supports ISL.\n\n151\n00:08:01.364 --> 00:08:08.285\nThey'd have to license it from Cisco, and\nnobody does, cuz 802.1Q is perfectly fine.\n\n152\n00:08:08.285 --> 00:08:10.060\nWell why do we even have to?\n\n153\n00:08:10.060 --> 00:08:12.531\nWell it kinda goes back to\nthe origin of all of these.\n\n154\n00:08:12.531 --> 00:08:17.540\nCisco is really the company that\npioneered and push forward VLANs.\n\n155\n00:08:17.540 --> 00:08:20.569\nThere was a lot of resistance to VLANs\nin the early days and most companies and\n\n156\n00:08:20.569 --> 00:08:22.622\neven the IEEE really didn't\nwant to get involved.\n\n157\n00:08:22.622 --> 00:08:25.535\nWe'll see that when you get to\nthe spanning tree sections,\n\n158\n00:08:25.535 --> 00:08:28.460\nthat there's a lot of\ncrazy stuff happens there.\n\n159\n00:08:28.460 --> 00:08:31.138\nBut with Cisco they recognized\na lot of problems early.\n\n160\n00:08:31.138 --> 00:08:35.840\nAnd one of the problems they recognize\nwere the uplinks between VLANS.\n\n161\n00:08:35.840 --> 00:08:39.140\nAnd so they came up with a technology that\nworked well for the hardware at the time.\n\n162\n00:08:40.920 --> 00:08:43.330\nWhen we do the marker, I said,\n\n163\n00:08:43.330 --> 00:08:46.240\nwe had we had to mark a frame\nbefore it crosses the line.\n\n164\n00:08:46.240 --> 00:08:48.653\nThe two different protocols\ndo it two different ways.\n\n165\n00:08:48.653 --> 00:08:52.780\n802.1q VLAN tagging, it does a tag.\n\n166\n00:08:52.780 --> 00:08:57.893\nWhat it does it takes the frame,\nit opens it up it reaches into\n\n167\n00:08:57.893 --> 00:09:04.220\nthe layer two header and\nit adds about 16 bytes to the header.\n\n168\n00:09:04.220 --> 00:09:09.130\nAnd in those 16 bytes there's 12 bits\nthat are set aside for the VLAN ID.\n\n169\n00:09:09.130 --> 00:09:12.760\nThe VLAN ID is one through 4094 and\nthat fits in 12 bits.\n\n170\n00:09:12.760 --> 00:09:17.730\nAnd so it's injecting data\ninto the header of that frame.\n\n171\n00:09:17.730 --> 00:09:20.467\nWell when it does that, that's great,\ncuz it goes to the other side, and\n\n172\n00:09:20.467 --> 00:09:21.536\nthe other side receives it.\n\n173\n00:09:21.536 --> 00:09:24.782\nAnd it can look for that header, and right\nthere in the layer two header it'll see,\n\n174\n00:09:24.782 --> 00:09:28.010\nyeah, this is on VLAN 10 or\nVLAN 20, that works really well.\n\n175\n00:09:28.010 --> 00:09:33.895\nThe negative about it though is that when\nyou tag that frame the frame size changes.\n\n176\n00:09:33.895 --> 00:09:37.160\nIt gets bigger, now the frame is\nbigger than it was originally.\n\n177\n00:09:37.160 --> 00:09:40.423\nSo what's gonna happen to the checksum,\nthe CRC that's on that frame?\n\n178\n00:09:40.423 --> 00:09:41.705\n>> Not gonna match.\n\n179\n00:09:41.705 --> 00:09:45.090\n>> It's not valid the data's\ngonna get looked at as corrupted.\n\n180\n00:09:45.090 --> 00:09:51.800\nSo what happens is the switch, when it\ntags it, it has to calculate a new CRC.\n\n181\n00:09:51.800 --> 00:09:54.670\nIt's gotta rebuild the checks\non it after it tags it, and\n\n182\n00:09:54.670 --> 00:09:56.810\nthat means the switch is\ngonna have to do some work.\n\n183\n00:09:56.810 --> 00:10:00.050\nAnd when all of this was being\nbatted around, back in the 1990s and\n\n184\n00:10:00.050 --> 00:10:03.990\nearly 2000s, most of the switches\nout there couldn't handle it.\n\n185\n00:10:03.990 --> 00:10:07.120\nCisco switches could, cuz they were making\nsome of the best on the market, but\n\n186\n00:10:07.120 --> 00:10:08.480\nthe other vendors really couldn't.\n\n187\n00:10:08.480 --> 00:10:10.849\nAnd so while Cisco was reaching\nout to the IEEE saying,\n\n188\n00:10:10.849 --> 00:10:14.403\nwe need to do stuff like this, everybody\nelse was saying no, no, don't do this,\n\n189\n00:10:14.403 --> 00:10:15.816\nour hardware can't handle it.\n\n190\n00:10:15.816 --> 00:10:19.207\nAnd so\nthat was a big negative with 802.1q.\n\n191\n00:10:19.207 --> 00:10:21.302\nWell they came up with some solutions,\nworked around it,\n\n192\n00:10:21.302 --> 00:10:22.790\nI'll talk about it in a minute.\n\n193\n00:10:22.790 --> 00:10:26.250\nBut that was how that one worked,\nnow we don't worry about that today.\n\n194\n00:10:26.250 --> 00:10:28.690\nToday, even the cheapest\nswitch on the market.\n\n195\n00:10:28.690 --> 00:10:31.860\nIf you go down to switch discount city,\nor wherever and\n\n196\n00:10:31.860 --> 00:10:35.490\nget the cheapest thing you can buy,\nthe hardware is leaps and\n\n197\n00:10:35.490 --> 00:10:38.590\nbounds beyond what it used to be and\nyou can do tagging with no big deal.\n\n198\n00:10:38.590 --> 00:10:41.870\nCalculating checksum is next to invisible.\n\n199\n00:10:41.870 --> 00:10:44.930\nCuz it's done in hardware,\nyou've got what are called ASICS,\n\n200\n00:10:44.930 --> 00:10:47.460\nApplication specific integrated circuits.\n\n201\n00:10:47.460 --> 00:10:50.390\nAnd ASICS are running right on the mother\nboard specifically designed to\n\n202\n00:10:50.390 --> 00:10:52.690\ncalculate those CRTs and\nit does it very, very fast.\n\n203\n00:10:52.690 --> 00:10:56.943\nSo a.21q is perfectly fine today,\nand that's why everybody runs it.\n\n204\n00:10:56.943 --> 00:10:58.760\nIt's open standard and it works great.\n\n205\n00:10:59.950 --> 00:11:02.603\nBut in the olden days,\nsome hardware couldn't handle it.\n\n206\n00:11:02.603 --> 00:11:06.500\nAnd so Cisco wanted to make things\nas efficient as possible, and so\n\n207\n00:11:06.500 --> 00:11:08.000\nthey created ISL.\n\n208\n00:11:08.000 --> 00:11:13.241\nISL was the interswitch link and\ninstead of tagging it encapsulated it.\n\n209\n00:11:13.241 --> 00:11:18.000\nRonnie mentioned encapsulation earlier,\nwhat it would do is take the original\n\n210\n00:11:18.000 --> 00:11:23.560\nframe and it would wrap it up in another\nframe build a frame around the first one.\n\n211\n00:11:23.560 --> 00:11:26.954\nAnd when it did that,\nthe original frame was unmodified,\n\n212\n00:11:26.954 --> 00:11:29.389\nwhich means that it's CRC was just fine.\n\n213\n00:11:29.389 --> 00:11:33.569\nAnd then when it encapsulated it,\nin the encapsulation header,\n\n214\n00:11:33.569 --> 00:11:36.838\nit would stick a little note\nsaying what VLAN it is.\n\n215\n00:11:36.838 --> 00:11:39.075\nNow if you've never dealt\nwith encapsulation,\n\n216\n00:11:39.075 --> 00:11:42.270\nthe example I use is kind of gross,\nbut think of a candy bar.\n\n217\n00:11:42.270 --> 00:11:44.850\nYou ever go to the grocery store, and\nyou're in the grocery store aisle, and\n\n218\n00:11:44.850 --> 00:11:47.500\nright there they've got all the candy\nthey want you to impulse buy.\n\n219\n00:11:47.500 --> 00:11:51.170\nAnd there's a Snickers bar, so\nyou pick up that Snickers bar.\n\n220\n00:11:51.170 --> 00:11:53.057\nI'm going to buy it, and\nit's in a little wrapper.\n\n221\n00:11:53.057 --> 00:11:56.682\nWell when they made that candy bar,\nit wasn't on a wrapper.\n\n222\n00:11:56.682 --> 00:11:59.340\nIt was on a big sheet with\nhundreds of other candy bars.\n\n223\n00:11:59.340 --> 00:12:02.010\nWell imagine if they had shipped that\ncandy bar to the grocery store and\n\n224\n00:12:02.010 --> 00:12:02.744\nnever wrapped it.\n\n225\n00:12:02.744 --> 00:12:05.011\n>> [LAUGH]\n>> It'd be sitting right there on\n\n226\n00:12:05.011 --> 00:12:07.853\nthe shelf and maybe it's a little melted,\ngot a bunch of dust on it and\n\n227\n00:12:07.853 --> 00:12:10.420\nwho knows what else,\nit'd be pretty darn gross.\n\n228\n00:12:10.420 --> 00:12:13.255\nBut they wrap it up in that wrapper so\nit's nice and clean, you open it up and\n\n229\n00:12:13.255 --> 00:12:14.254\nyou can eat the candy bar.\n\n230\n00:12:14.254 --> 00:12:15.640\nI know, it's gross.\n\n231\n00:12:15.640 --> 00:12:19.430\nThat's exactly how encapsulation works\nhere in ISL minus the dust part.\n\n232\n00:12:19.430 --> 00:12:23.710\nThat we take the original frame and\nwe wrap it up in an ISL wrapper.\n\n233\n00:12:23.710 --> 00:12:26.580\nAnd when it gets to the other side,\nthe other switch can look at it and\n\n234\n00:12:26.580 --> 00:12:29.820\njust look at the wrapper, and written\nright on the wrapper it says, VLAN 10.\n\n235\n00:12:29.820 --> 00:12:33.240\nSo it can tear open the wrapper and\nthrow that frame right onto VLAN 10 and\n\n236\n00:12:33.240 --> 00:12:34.370\noff it goes.\n\n237\n00:12:34.370 --> 00:12:36.800\nBecause it's not calculating CRCs,\nit's more efficient.\n\n238\n00:12:36.800 --> 00:12:39.140\nAnd back in the day we worried about that.\n\n239\n00:12:39.140 --> 00:12:44.270\nToday we don't, and as a result,\nnext to nobody runs ISL.\n\n240\n00:12:44.270 --> 00:12:46.938\nEven on all Cisco equipment,\nbecause you know that one day,\n\n241\n00:12:46.938 --> 00:12:49.935\nyou might introduce a non Cisco device,\nyou might as well go .1q.\n\n242\n00:12:49.935 --> 00:12:54.672\nSo even on Cisco devices, the default\nis 802.1q for all modern switches.\n\n243\n00:12:54.672 --> 00:12:57.958\nIf you have older switches,\nit might still default to ISL, and\n\n244\n00:12:57.958 --> 00:13:00.758\nISL is still supported,\neven on the newer switches.\n\n245\n00:13:00.758 --> 00:13:02.700\nSo it is definitely one that's out there.\n\n246\n00:13:02.700 --> 00:13:05.340\nThey just work different ways.\n\n247\n00:13:05.340 --> 00:13:08.350\nNow, I mentioned that\n802.1q had little tricks\n\n248\n00:13:08.350 --> 00:13:10.070\nthat you could use to\nmake it more efficient.\n\n249\n00:13:10.070 --> 00:13:11.570\nYou don't really need them any more,\n\n250\n00:13:11.570 --> 00:13:15.530\nbut one trick that we had was\nwhat was called a native VLAN.\n\n251\n00:13:15.530 --> 00:13:19.140\nIf we go back to my diagram,\nand we look at this.\n\n252\n00:13:19.140 --> 00:13:23.530\nSo I've got a red,\na green, and a blue VLAN.\n\n253\n00:13:23.530 --> 00:13:25.302\nAnd if I look at my network,\n\n254\n00:13:25.302 --> 00:13:29.091\nI might determine that the green\nVLAN is the busiest VLAN.\n\n255\n00:13:29.091 --> 00:13:32.269\nIt's the one that's got the most ports,\nit's got the most traffic moving over it.\n\n256\n00:13:32.269 --> 00:13:35.660\nIn 802.1q, you can identity one and\n\n257\n00:13:35.660 --> 00:13:41.380\nonly one, native VLAN, and\nthe native VLAN will not be tagged.\n\n258\n00:13:41.380 --> 00:13:45.860\nThose frames will be sent across the lines\nwould no tag with them whatsoever.\n\n259\n00:13:45.860 --> 00:13:48.800\nAnd if I don't tag them that means that\n\n260\n00:13:48.800 --> 00:13:51.350\nI don't have to recalculate\nthe CRC which is nice and fast.\n\n261\n00:13:51.350 --> 00:13:55.839\nSo you identify your busiest VLAN and\nthen on both sides of the cable.\n\n262\n00:13:55.839 --> 00:13:58.107\nSo on this port, on this switch and\n\n263\n00:13:58.107 --> 00:14:02.498\non this port down here on the other\nswitch, we identify that VLAN.\n\n264\n00:14:02.498 --> 00:14:04.394\nSo let say the green VLAN is VLAN 10.\n\n265\n00:14:04.394 --> 00:14:07.642\nSo I would make VLAN 10,\nthe native VLAN on this port and\n\n266\n00:14:07.642 --> 00:14:10.020\nthe native VLAN on this port.\n\n267\n00:14:10.020 --> 00:14:13.480\nAnything for the red and\nthe blue VLANs would need to be tagged.\n\n268\n00:14:13.480 --> 00:14:15.836\nBut anything on the green VLAN would\nnot be tagged then the other side would\n\n269\n00:14:15.836 --> 00:14:16.444\nunderstand that.\n\n270\n00:14:16.444 --> 00:14:19.010\nYou have to be careful with native VLANs.\n\n271\n00:14:19.010 --> 00:14:23.837\nBecause if I make the native VLAN 5 up\nhere, and the native VLAN 10 down here,\n\n272\n00:14:23.837 --> 00:14:27.605\nwhen my traffic crosses the wire,\nit's crossing VLANs too.\n\n273\n00:14:27.605 --> 00:14:29.129\nIt's going from ten to five or vice versa.\n\n274\n00:14:29.129 --> 00:14:32.540\nSo I've got to make sure I've configured\nit on both ends of the cable.\n\n275\n00:14:32.540 --> 00:14:34.170\nNative VLANs are very important.\n\n276\n00:14:34.170 --> 00:14:36.210\nISL doesn't have that\nbecause it doesn't need it.\n\n277\n00:14:36.210 --> 00:14:38.938\nEverything in ISL is marked,\neverything's encapsulated.\n\n278\n00:14:38.938 --> 00:14:44.059\nBut in 802.1q, you can pick one VLAN,\nand it can be on tag.\n\n279\n00:14:44.059 --> 00:14:47.744\nAnd you pick it on the cable, so I could\nhave one native VLAN on this cable, and\n\n280\n00:14:47.744 --> 00:14:50.499\nI could have a different native\nVLAN on this other cable.\n\n281\n00:14:50.499 --> 00:14:53.508\nIt just needs to be on both ends of\nthat cable that I configure it and\n\n282\n00:14:53.508 --> 00:14:54.785\nmake sure it's accurate.\n\n283\n00:14:54.785 --> 00:14:57.490\nSo that helps me to\nremove some of that load.\n\n284\n00:14:57.490 --> 00:14:58.690\nBut I'll be honest with you guys,\n\n285\n00:14:58.690 --> 00:15:01.030\nin today's modern networks\nyou don't need to do it.\n\n286\n00:15:01.030 --> 00:15:03.651\nIt's really not gonna gain\nyou any performance gain but\n\n287\n00:15:03.651 --> 00:15:04.771\nthe function is there.\n\n288\n00:15:04.771 --> 00:15:10.002\n>> Now Don, in a previous episode you had\nmentioned the idea of the default VLAN and\n\n289\n00:15:10.002 --> 00:15:13.767\na lot of times on the switches\nthat's VLAN 1 by default.\n\n290\n00:15:13.767 --> 00:15:15.785\nIs that always gonna be our native VLAN?\n\n291\n00:15:15.785 --> 00:15:17.922\n>> It is by default, right?\n\n292\n00:15:17.922 --> 00:15:20.800\nSo VLAN1,\nall your ports are on VLAN 1 by default.\n\n293\n00:15:20.800 --> 00:15:25.464\nVLAN 1 is your default VLAN,\nso far as a native, 208.1q.\n\n294\n00:15:25.464 --> 00:15:27.632\nYou can override that,\nyou can change it to something else.\n\n295\n00:15:27.632 --> 00:15:30.220\nVLAN 1's not always gonna\nbe your busiest VLAN.\n\n296\n00:15:30.220 --> 00:15:33.890\nIn fact, most people just use VLAN 1 for\nmanagement.\n\n297\n00:15:33.890 --> 00:15:37.177\nBeing able to SSH into your switch and\ncontrol it, and that's it.\n\n298\n00:15:37.177 --> 00:15:39.180\nOr use SNMP to monitor it, and that's it.\n\n299\n00:15:39.180 --> 00:15:41.910\nThey don't use it for\nmoving regular data traffic for end users.\n\n300\n00:15:41.910 --> 00:15:44.220\nSo all of your end users are gonna\nbe at different VLANs, anyway so\n\n301\n00:15:44.220 --> 00:15:47.003\nyou may need to override what that native\nVLAN is and you can certainly do that.\n\n302\n00:15:47.003 --> 00:15:49.800\nBut definitely something that\nyou want to be aware of.\n\n303\n00:15:49.800 --> 00:15:55.784\nWell, we've talked a lot about trunks but\nwe haven't actually seen them yet.\n\n304\n00:15:55.784 --> 00:16:00.694\nSo let's jump over to some equipment and\nget a chance to see it.\n\n305\n00:16:00.694 --> 00:16:04.978\nNow what I've got here, let me show you,\nis a little triangle of switches.\n\n306\n00:16:04.978 --> 00:16:07.347\nAnd this is gonna be a little bit\nblurry cuz I'm zooming in so far.\n\n307\n00:16:07.347 --> 00:16:12.026\nBut I've got NYACCESS1,\nNYCORE1, and NYCORE2.\n\n308\n00:16:12.026 --> 00:16:12.789\nOkay.\n\n309\n00:16:12.789 --> 00:16:17.747\nAnd notice how we've got this Port\n24 on this switch that's run up\n\n310\n00:16:17.747 --> 00:16:20.195\nfrom NYACCESS1 up to NYCORE1.\n\n311\n00:16:20.195 --> 00:16:23.712\nAnd over here, we've got Port 24 and\n23 running between these.\n\n312\n00:16:23.712 --> 00:16:25.586\nBut Port 24 is the one I'm gonna use.\n\n313\n00:16:25.586 --> 00:16:30.551\nSo we've got these links running\nbetween the different devices,\n\n314\n00:16:30.551 --> 00:16:35.680\nand if I want to configure those\nto be a trunk, I certainly can.\n\n315\n00:16:35.680 --> 00:16:37.750\nAnd I can even mix and match.\n\n316\n00:16:37.750 --> 00:16:42.360\nI can have this one be ISL and\nI can have this one 802.1q.\n\n317\n00:16:42.360 --> 00:16:44.019\nIn real life land,\nyou'd be crazy to do it.\n\n318\n00:16:44.019 --> 00:16:44.786\n>> [LAUGH]\n>> Because it's\n\n319\n00:16:44.786 --> 00:16:45.910\njust a maintenance nightmare.\n\n320\n00:16:45.910 --> 00:16:49.990\nYou typically want to use the same\ntrunking everywhere if you can, but\n\n321\n00:16:49.990 --> 00:16:51.170\nwe can configure this to be trunks.\n\n322\n00:16:51.170 --> 00:16:54.520\nNow, important little not here.\n\n323\n00:16:54.520 --> 00:17:00.170\nSome Cisco switches will auto trunk all\non their own without even asking you,\n\n324\n00:17:00.170 --> 00:17:02.900\nand it will just build a trunk and\noff you go.\n\n325\n00:17:02.900 --> 00:17:03.950\nSome Cisco switches don't.\n\n326\n00:17:03.950 --> 00:17:06.212\nYou have to read the documentation to see.\n\n327\n00:17:06.212 --> 00:17:09.606\nUsually the lower end ones,\nlike this is a 2960.\n\n328\n00:17:09.606 --> 00:17:12.170\nUsually the lower end\nones will auto trunk.\n\n329\n00:17:12.170 --> 00:17:16.660\nAnd then the higher end or the mid tier\nlike this 3750, it won't auto trunk.\n\n330\n00:17:16.660 --> 00:17:21.380\nSo sometimes you may find you just plug\nin a cable and it's already trunking.\n\n331\n00:17:21.380 --> 00:17:23.720\nI might have that happening right now.\n\n332\n00:17:23.720 --> 00:17:24.310\nOkay.\n\n333\n00:17:24.310 --> 00:17:25.240\nLet's see.\n\n334\n00:17:25.240 --> 00:17:29.460\nIf I look at NYCORE1, these three switches\nare configured basically out of the box.\n\n335\n00:17:29.460 --> 00:17:31.710\nThey had a name assigned to them and\nthat's about it.\n\n336\n00:17:31.710 --> 00:17:35.440\nSo NYCore1 should have two\nconnection over to core2.\n\n337\n00:17:35.440 --> 00:17:38.190\nI'm going to shut one of them off so\nit's just a single connection, and\n\n338\n00:17:38.190 --> 00:17:40.760\nthen NYCore1 has a connection\nover to NYAccess1.\n\n339\n00:17:40.760 --> 00:17:43.587\nSo those should be showing up and\nthey may or may not be trunking.\n\n340\n00:17:43.587 --> 00:17:47.226\nI'm gonna look at ports 24 and\n22 on NYCore1.\n\n341\n00:17:47.226 --> 00:17:47.780\nThose are the ports that\nI'm going to look at.\n\n342\n00:17:47.780 --> 00:17:54.970\nSo let me get over to NYCore1,\nand we'll dive into those ports.\n\n343\n00:17:54.970 --> 00:18:00.645\nNow when I get into the switch if\nI do a show running dash config,\n\n344\n00:18:00.645 --> 00:18:05.030\nfa1/0/24.\n\n345\n00:18:05.030 --> 00:18:06.670\nThat is apparently not\nthe right port number.\n\n346\n00:18:06.670 --> 00:18:11.496\nIt was fa1/0/24.\n\n347\n00:18:11.496 --> 00:18:13.268\nLooks right.\n\n348\n00:18:13.268 --> 00:18:17.910\nWell let's see maybe it's actually\na gig port seems to be upset.\n\n349\n00:18:17.910 --> 00:18:19.743\nNo, I'm doing wrong syntax.\n\n350\n00:18:19.743 --> 00:18:24.489\nIt should be show running-config\ninterface fa1/0/24.\n\n351\n00:18:24.489 --> 00:18:25.409\nThere we go.\n\n352\n00:18:25.409 --> 00:18:27.675\nI can see there's no configuration on it,\nokay?\n\n353\n00:18:27.675 --> 00:18:33.971\nSo it's at it's defaults, and\nif I look at 22 which is the other LAN.\n\n354\n00:18:33.971 --> 00:18:35.637\nIt said it's default also.\n\n355\n00:18:35.637 --> 00:18:38.296\nSo this is not being\nconfigured in any way.\n\n356\n00:18:38.296 --> 00:18:42.954\nIf you run show interface trunk.\n\n357\n00:18:42.954 --> 00:18:46.737\nIt'll give you a list of all of your\ninterfaces that are currently trunking and\n\n358\n00:18:46.737 --> 00:18:48.310\nnone of mine are trunking.\n\n359\n00:18:48.310 --> 00:18:49.780\nAll right?\nSo I know that I'm not\n\n360\n00:18:49.780 --> 00:18:52.300\nautomatically trunking\nwith anybody right now.\n\n361\n00:18:52.300 --> 00:18:52.840\nAll right.\n\n362\n00:18:52.840 --> 00:18:56.360\nBut if I were then,\nthat would show up right here.\n\n363\n00:18:56.360 --> 00:18:59.590\nAlways double check that because your\nswitch just might all ready be trunking\n\n364\n00:18:59.590 --> 00:19:02.010\neven though you don't know about it, okay?\n\n365\n00:19:02.010 --> 00:19:05.420\nNow if I wanna configure the trunk,\nit's actually pretty easy to do,\n\n366\n00:19:05.420 --> 00:19:07.430\nI just need to get into the inner phases.\n\n367\n00:19:07.430 --> 00:19:11.820\nI'm going to, actually I'm gonna turn\noff one interface just real quick.\n\n368\n00:19:11.820 --> 00:19:15.895\nI wanna turn off Interface fa1/0/23.\n\n369\n00:19:15.895 --> 00:19:18.748\nI've got two links between me and\nthe other.\n\n370\n00:19:18.748 --> 00:19:20.610\nThis is core one and core two.\n\n371\n00:19:20.610 --> 00:19:23.950\nAnd so I'm gonna just shut down\none of those interfaces, and\n\n372\n00:19:23.950 --> 00:19:27.330\nthat way I've only got\nport 24 running between.\n\n373\n00:19:27.330 --> 00:19:29.360\nI just wanna avoid confusion, right?\n\n374\n00:19:29.360 --> 00:19:32.960\nSo port 24 on this switch,\nis running to NYCORE2.\n\n375\n00:19:32.960 --> 00:19:37.150\nAnd port 22 on this switch,\nis running down to NYaccess1.\n\n376\n00:19:37.150 --> 00:19:38.429\nThose are my two connections.\n\n377\n00:19:38.429 --> 00:19:41.203\nAnd I want to configure\nthem both to be trunk.\n\n378\n00:19:41.203 --> 00:19:43.728\nSo I could use the range command and\ndo this at the same time, but\n\n379\n00:19:43.728 --> 00:19:44.928\nI'm going to do it separate.\n\n380\n00:19:44.928 --> 00:19:48.188\nCuz I'm gonna do one as is ISL and\none as .1qq.\n\n381\n00:19:48.188 --> 00:19:50.603\nIn real life we usually keep them\nthe same, but I'll go ahead and\n\n382\n00:19:50.603 --> 00:19:51.643\ndo the two different ways.\n\n383\n00:19:51.643 --> 00:19:52.242\nAll right?\n\n384\n00:19:52.242 --> 00:19:57.810\nI'm going to get into\ninterface fa1/0/23 24,\n\n385\n00:19:57.810 --> 00:20:01.959\nwhich is my connection over to NYCORE2.\n\n386\n00:20:01.959 --> 00:20:06.670\nAnd on this one,\nI need to do a few things.\n\n387\n00:20:06.670 --> 00:20:10.620\nFirst off,\nif I don't tell it what protocol to use.\n\n388\n00:20:10.620 --> 00:20:13.310\nThen it's gonna auto-negotiate a protocol.\n\n389\n00:20:13.310 --> 00:20:14.720\nAnd when it auto-negotiates a protocol.\n\n390\n00:20:14.720 --> 00:20:18.930\nIt could end up ISL, it could end up 82.1\nq, I don't necessarily know, all right?\n\n391\n00:20:18.930 --> 00:20:21.210\nI don't like to auto negotiate anything.\n\n392\n00:20:21.210 --> 00:20:23.130\nI like things to be manual.\n\n393\n00:20:23.130 --> 00:20:26.590\nI like to put them in, so I know that it's\neither trunking or it's not trunking.\n\n394\n00:20:26.590 --> 00:20:27.870\nI don't trust negotiations.\n\n395\n00:20:27.870 --> 00:20:32.900\nSo, I'm gonna manually tell it,\nwhat protocol I want it to run.\n\n396\n00:20:32.900 --> 00:20:36.580\nSo, we can just give it\nthe switchport trunk.\n\n397\n00:20:38.020 --> 00:20:39.190\nAnd if you pull up your question mark,\n\n398\n00:20:39.190 --> 00:20:42.280\nyou'll see where we can\nspecify the encapsulation.\n\n399\n00:20:42.280 --> 00:20:45.970\nNow, if I'm doing 802.1q,\ndoes it do encapsulation?\n\n400\n00:20:45.970 --> 00:20:50.630\nNo, but it still uses that keyword\nhere in the command line, and\n\n401\n00:20:50.630 --> 00:20:53.212\nthat's because Cisco added ISL first.\n\n402\n00:20:53.212 --> 00:20:54.186\n[INAUDIBLE] got it.\n\n403\n00:20:54.186 --> 00:20:56.362\nSo, I guess a switchport\ntrunk encapsulation,\n\n404\n00:20:56.362 --> 00:20:57.590\nand if I do a question mark.\n\n405\n00:20:57.590 --> 00:20:59.680\nI can see what I support.\n\n406\n00:20:59.680 --> 00:21:02.702\nI support 802.1Q, I support ISL,\nand I support Negotiate.\n\n407\n00:21:02.702 --> 00:21:03.974\nNegotiate's the default.\n\n408\n00:21:03.974 --> 00:21:05.820\nI don’t want to use that.\n\n409\n00:21:05.820 --> 00:21:08.460\nI'm gonna force this one to use ISL,\nright?\n\n410\n00:21:08.460 --> 00:21:11.260\nSwitchboard trunk encapsulation, ISL.\n\n411\n00:21:11.260 --> 00:21:13.310\nSo now it's going to use\nthe Cisco proprietary one.\n\n412\n00:21:14.600 --> 00:21:18.640\nNow, it is also still set to\nnegotiate something else.\n\n413\n00:21:18.640 --> 00:21:23.060\nYour ports can either be access ports or\ntrunk ports.\n\n414\n00:21:23.060 --> 00:21:26.530\nAn access port should have just one\ncomputer on the other end of it.\n\n415\n00:21:26.530 --> 00:21:28.580\nA laptop, a desktop, something like that.\n\n416\n00:21:28.580 --> 00:21:30.270\nA trunk port could have a switch.\n\n417\n00:21:30.270 --> 00:21:32.570\nSo tons of MAC addresses and all of that.\n\n418\n00:21:32.570 --> 00:21:36.820\nSo your switchboard has a mode:\nan access mode, or a trunk mode, and\n\n419\n00:21:36.820 --> 00:21:38.660\nby default it negotiates between the two.\n\n420\n00:21:38.660 --> 00:21:41.050\nIf it sees a trunking protocol,\nit goes to trunk mode.\n\n421\n00:21:41.050 --> 00:21:43.360\nIf it sees a workstation,\nit goes to access mode.\n\n422\n00:21:43.360 --> 00:21:46.095\nI can leave it negotiating or\nI can force it.\n\n423\n00:21:46.095 --> 00:21:46.865\nI'm gonna force it.\n\n424\n00:21:46.865 --> 00:21:51.085\nI'm gonna say switchport mode trunk.\n\n425\n00:21:51.085 --> 00:21:55.525\nThat means any time this port\nturns on it's gonna try and trunk.\n\n426\n00:21:55.525 --> 00:21:56.125\nRight.\n\n427\n00:21:56.125 --> 00:21:58.195\nAnd see how the port just failed?\n\n428\n00:21:58.195 --> 00:22:00.955\nThe port went down and\nit's gonna come back up.\n\n429\n00:22:00.955 --> 00:22:02.315\nRight.\nAnd already has went down and\n\n430\n00:22:02.315 --> 00:22:04.060\nup really fast Okay.\n\n431\n00:22:04.060 --> 00:22:08.720\nSo what happened there is the other\nside wasn't set to trunk yet.\n\n432\n00:22:08.720 --> 00:22:11.400\nAnd so when I turned it on,\nturned on trunking.\n\n433\n00:22:11.400 --> 00:22:15.000\nThe other side kind of rebelled and\nthe line went down.\n\n434\n00:22:15.000 --> 00:22:16.400\nWell, mine said okay.\n\n435\n00:22:16.400 --> 00:22:17.320\nYou're not going to trunk.\n\n436\n00:22:17.320 --> 00:22:21.570\nSo let's go into access mode and\nflipped back to access mode.\n\n437\n00:22:21.570 --> 00:22:25.619\nSo I may not want that either,\nand I can say switch port.\n\n438\n00:22:25.619 --> 00:22:28.349\nNonegotiate, and that's gonna tell it.\n\n439\n00:22:28.349 --> 00:22:30.533\nHey, when you come up I\nwant you to trunk and\n\n440\n00:22:30.533 --> 00:22:33.100\nI don't care what happens\non the other side.\n\n441\n00:22:33.100 --> 00:22:34.217\nYou're going to trunk and\n\n442\n00:22:34.217 --> 00:22:37.381\nif the other person can't deal with\nit then they just can't deal with it.\n\n443\n00:22:37.381 --> 00:22:40.109\nSo now I'm set for ISL.\n\n444\n00:22:40.109 --> 00:22:46.560\nI'm set to be in trunk mode by default,\nand I'm refusing to negotiate.\n\n445\n00:22:46.560 --> 00:22:47.730\nI will be ISL.\n\n446\n00:22:47.730 --> 00:22:48.800\nI will be trunking.\n\n447\n00:22:48.800 --> 00:22:51.380\nI don't care what the other side says.\n\n448\n00:22:51.380 --> 00:22:53.120\nThat's now configured.\n\n449\n00:22:53.120 --> 00:22:58.010\nAnd if I get out of my configuration\ninto a show interface trunk,\n\n450\n00:22:59.450 --> 00:23:01.400\ninstead of getting nothing back.\n\n451\n00:23:01.400 --> 00:23:06.630\nNow I get that I've got a trunk\non port Fa1/0 Size 24 and\n\n452\n00:23:06.630 --> 00:23:10.950\nand I can see that it is ISL and\nI'm actively trunking all right.\n\n453\n00:23:10.950 --> 00:23:14.123\nSo I'm now carrying more than\nVLAN in this interface, and\n\n454\n00:23:14.123 --> 00:23:18.218\nif you look I've got VLANs allowed\non the trunk 1-4094 right.\n\n455\n00:23:18.218 --> 00:23:21.669\nI'm allowing any VLAN to cross the trunk,\nbut I only have so\n\n456\n00:23:21.669 --> 00:23:23.545\nmany that are active right now.\n\n457\n00:23:23.545 --> 00:23:25.711\nI've got 1,10, 20, 30 and 40.\n\n458\n00:23:25.711 --> 00:23:28.025\nThose are the ones that we made\nin the last episode, right.\n\n459\n00:23:28.025 --> 00:23:29.030\nThey're still hanging around.\n\n460\n00:23:29.030 --> 00:23:30.290\nSo they show up here, and\n\n461\n00:23:30.290 --> 00:23:32.210\nthose are the ones that I'm\nactually sending across the wire.\n\n462\n00:23:32.210 --> 00:23:34.600\nWe're not gonna send\nVLAN's that aren't used.\n\n463\n00:23:34.600 --> 00:23:35.800\nBecause, what's the point in that?\n\n464\n00:23:35.800 --> 00:23:36.700\nThey're not being used.\n\n465\n00:23:36.700 --> 00:23:39.130\nSo it's just picking the ones\nthat are truly active.\n\n466\n00:23:40.820 --> 00:23:44.519\nAll right now, that's configuring ISL.\n\n467\n00:23:44.519 --> 00:23:47.195\n802.1Q, almost identical.\n\n468\n00:23:47.195 --> 00:23:47.931\nAll right.\n\n469\n00:23:47.931 --> 00:23:51.866\nIf I get back into my configuration,\nI'll do a configure terminal.\n\n470\n00:23:51.866 --> 00:23:56.530\nAnd this time I'm going to\nget into interface Fa1/0/22\n\n471\n00:23:56.530 --> 00:23:59.496\nthat's my connection to NYaccess1.\n\n472\n00:23:59.496 --> 00:24:01.560\nThe other switches on my network.\n\n473\n00:24:01.560 --> 00:24:06.374\nAnd I'm gonna say #switchport\ntrunk encapsulation and\n\n474\n00:24:06.374 --> 00:24:13.903\nthen I'm gonna use 802.1q and the way\nCisco writes it is dot1q, D-O-T-1-Q.\n\n475\n00:24:13.903 --> 00:24:17.214\nSo I'm telling it that I\nwanna do 802.lq this time.\n\n476\n00:24:17.214 --> 00:24:22.711\nI'll say, switchport mode trunk, so it\nknows that I wanna be a trunk by default.\n\n477\n00:24:22.711 --> 00:24:26.919\nAnd I'll say, switchport no negotiate, so\n\n478\n00:24:26.919 --> 00:24:33.689\nthat it knows I don't care what the other\nside says, I want to be a trunk.\n\n479\n00:24:33.689 --> 00:24:35.104\nNow, I can stop right here.\n\n480\n00:24:35.104 --> 00:24:39.056\nI'm configured for 802.1q or\n\n481\n00:24:39.056 --> 00:24:44.191\nI can go one more step and\nI can say, switchport\n\n482\n00:24:44.191 --> 00:24:49.207\ntrunk native and\nI can specify a native vlan.\n\n483\n00:24:49.207 --> 00:24:52.367\nThe default is gonna be vlan 1,\nbut I could say,\n\n484\n00:24:52.367 --> 00:24:57.000\nswitchport trunk native vlan 10 or\n20, or 30 or whatever.\n\n485\n00:24:57.000 --> 00:24:58.780\nAnd that's now gonna become\nthe native VLAN, and\n\n486\n00:24:58.780 --> 00:25:00.520\nI can do that on the other side too.\n\n487\n00:25:00.520 --> 00:25:03.980\nIf this is an ISL port,\nthis setting does absolutely nothing.\n\n488\n00:25:03.980 --> 00:25:05.784\nBut if it's an 802.1q trunk,\n\n489\n00:25:05.784 --> 00:25:09.883\nnow it's gonna make it where traffic on\nthis particular VLAN will not be tagged.\n\n490\n00:25:09.883 --> 00:25:12.040\nAnd the theory is it improves performance.\n\n491\n00:25:12.040 --> 00:25:13.710\nIn reality,\nit doesn't do anything anymore.\n\n492\n00:25:13.710 --> 00:25:15.950\n15 years ago, yes.\n\n493\n00:25:15.950 --> 00:25:18.950\nWe're in 2016 now, it's not gonna help.\n\n494\n00:25:18.950 --> 00:25:20.380\nSo I'm not gonna set that.\n\n495\n00:25:20.380 --> 00:25:21.245\nIf you do set it here,\n\n496\n00:25:21.245 --> 00:25:24.385\njust remember you've got to go to the\nother side of the cable and set it there.\n\n497\n00:25:24.385 --> 00:25:27.535\nAlso they need to match on\nboth ends of that cable,\n\n498\n00:25:27.535 --> 00:25:30.900\notherwise you'll get cross\ntraffic on your VLANs.\n\n499\n00:25:30.900 --> 00:25:33.565\nSo we'll leave that one out,\nbut this one's now set.\n\n500\n00:25:33.565 --> 00:25:35.438\nI'm gonna get out of my config and\njust verify.\n\n501\n00:25:35.438 --> 00:25:42.440\nWe always wanna verify, so\nshow interface trunk or turnk.\n\n502\n00:25:42.440 --> 00:25:43.480\nThere we go.\n\n503\n00:25:43.480 --> 00:25:45.290\nAnd I should have two trunks now.\n\n504\n00:25:45.290 --> 00:25:47.963\nI've got one on port 22,\nand one on port 24.\n\n505\n00:25:47.963 --> 00:25:51.498\nThe one that's on port 22,\nI can see it's using 802.1q and\n\n506\n00:25:51.498 --> 00:25:54.760\nthe other one is using isl,\nand they are both trunking.\n\n507\n00:25:54.760 --> 00:25:57.620\nIf I had modified the Native vlan,\nI would see it right here.\n\n508\n00:25:57.620 --> 00:25:58.310\nRight now, we're all good.\n\n509\n00:25:59.370 --> 00:26:01.740\nSo I've now got the two\ndifferent trunks running.\n\n510\n00:26:01.740 --> 00:26:06.580\nAnd this is on my core router,\nthis guy right here,\n\n511\n00:26:06.580 --> 00:26:10.140\nNYCORE1, now has it configured\non this port and this port.\n\n512\n00:26:10.140 --> 00:26:12.120\nSo I need to jump to\nthe other ends of the line.\n\n513\n00:26:12.120 --> 00:26:15.055\nOber here,\non NYCORE2 I need to get this port set up,\n\n514\n00:26:15.055 --> 00:26:18.560\nand down here on NYACCESS1 I\nneed to get this port set up.\n\n515\n00:26:18.560 --> 00:26:20.370\nAnd it's really the same exact commands,\nand\n\n516\n00:26:20.370 --> 00:26:23.440\nI just need to make sure I don't screw\nup the native V LAN or whatever.\n\n517\n00:26:23.440 --> 00:26:25.424\nSo let's jump down to NYACCESS1.\n\n518\n00:26:25.424 --> 00:26:28.900\nIt was using 801.1q,\nand we'll start there.\n\n519\n00:26:28.900 --> 00:26:34.500\nSo I'm gonna jump down to NYACCESS1.\n\n520\n00:26:34.500 --> 00:26:38.290\nAnd on this guy, we just need to get\nhim setup basically that same way.\n\n521\n00:26:38.290 --> 00:26:41.130\nSo I'm going to enable,\nand before I enable,\n\n522\n00:26:41.130 --> 00:26:44.980\nI'm gonna do a show interface trunk and\nsee what I get.\n\n523\n00:26:46.820 --> 00:26:49.438\nI haven't configured this switch,\nhaven't even logged in.\n\n524\n00:26:49.438 --> 00:26:50.698\nAnd look what it's doing.\n\n525\n00:26:50.698 --> 00:26:55.850\nI'm already trunking for\n802.1q on port 24.\n\n526\n00:26:55.850 --> 00:26:56.899\nHow did that happen?\n\n527\n00:26:56.899 --> 00:27:01.305\nThis switch, the 2960 auto trunks.\n\n528\n00:27:01.305 --> 00:27:03.900\nSee how that mode is set to auto?\n\n529\n00:27:03.900 --> 00:27:06.510\nIt's automatically trunked for me.\n\n530\n00:27:06.510 --> 00:27:09.746\nNow at first glance you might say,\nthat's nice.\n\n531\n00:27:09.746 --> 00:27:10.296\n>> [LAUGH]\n>> That was the\n\n532\n00:27:10.296 --> 00:27:10.833\neasiest configuration ever.\n\n533\n00:27:10.833 --> 00:27:12.369\nThis one's already done, but\n\n534\n00:27:12.369 --> 00:27:15.390\nlet me give the horror story of\nwhy you don't wanna use this.\n\n535\n00:27:15.390 --> 00:27:17.861\nWhat if a hacker plugs into your network?\n\n536\n00:27:17.861 --> 00:27:20.524\nYou have an office where\nsomebody moved their desk,\n\n537\n00:27:20.524 --> 00:27:25.330\nand now there's a wall jack that's\nsitting there that's not being monitored.\n\n538\n00:27:25.330 --> 00:27:27.480\nAnd so they plugged their laptop in.\n\n539\n00:27:27.480 --> 00:27:33.350\nAnd then they start spoofing 802.1q\ntraffic and they activate the trunk.\n\n540\n00:27:33.350 --> 00:27:35.000\nWhat's the hacker gonna see?\n\n541\n00:27:35.000 --> 00:27:37.760\nThey're gonna see traffic for\neveryone of your VLANs.\n\n542\n00:27:37.760 --> 00:27:40.392\nThey would see traffic for\nVLAN 1, 10, 20, 30, 40.\n\n543\n00:27:40.392 --> 00:27:43.035\nThey'd see traffic for all those vlans.\n\n544\n00:27:43.035 --> 00:27:47.665\nWe don't want that, and\nthat's why I don't like auto negotiation.\n\n545\n00:27:47.665 --> 00:27:49.684\nI don't like that.\nI turn it off on all of my ports because I\n\n546\n00:27:49.684 --> 00:27:51.637\ndon't want it to negotiate out.\n\n547\n00:27:51.637 --> 00:27:53.527\nIf it's an access port,\nI want it to be an access port.\n\n548\n00:27:53.527 --> 00:27:55.207\nIf it's a trunk, I want it to be a trunk.\n\n549\n00:27:55.207 --> 00:27:58.417\nI manually set it, and\nany security book is gonna tell you that.\n\n550\n00:27:58.417 --> 00:28:02.417\nIn the CCENT book, they might not, because\nyou've got the two different features.\n\n551\n00:28:02.417 --> 00:28:04.627\nYou've got convenience versus security.\n\n552\n00:28:04.627 --> 00:28:07.297\nAs far as convenience, I'm done.\n\n553\n00:28:07.297 --> 00:28:12.490\nThis was easy, but obviously convenience\nis not always the winning factor here.\n\n554\n00:28:12.490 --> 00:28:14.520\nSo we definitely wanna keep that in mind.\n\n555\n00:28:14.520 --> 00:28:15.690\nSo I'm gonna go ahead and\n\n556\n00:28:15.690 --> 00:28:18.930\nmanually set this even though\nit's technically already working.\n\n557\n00:28:18.930 --> 00:28:20.390\nI'm gonna jump into my configuration.\n\n558\n00:28:20.390 --> 00:28:23.802\nI'm gonna get into interface f fa0/24.\n\n559\n00:28:23.802 --> 00:28:28.203\nI'm gonna say, switchport trunk\n\n560\n00:28:28.203 --> 00:28:34.433\nencapsulation this is an interesting one.\n\n561\n00:28:34.433 --> 00:28:38.658\nSo I went to do tab auto complete and\nencapsulation didn't show up.\n\n562\n00:28:38.658 --> 00:28:42.230\nI can't set my encapsulation.\n\n563\n00:28:42.230 --> 00:28:43.792\nNow what is that?\n\n564\n00:28:43.792 --> 00:28:46.110\nNormally, I'd just say,\nI don't remember the command.\n\n565\n00:28:46.110 --> 00:28:47.053\nBut in this case, I do.\n\n566\n00:28:47.053 --> 00:28:52.905\nThe reason it's not here this 2960 doesnt\nsupport ISL, it only supports 802.1q.\n\n567\n00:28:52.905 --> 00:28:59.253\nSo there is no encapsulation for me to\npick so the command is not even there.\n\n568\n00:28:59.253 --> 00:29:02.733\nThe switch port trunk encapsulation is\nmissing because this one only supports\n\n569\n00:29:02.733 --> 00:29:03.450\n802.1q.\n\n570\n00:29:03.450 --> 00:29:05.860\nAgain, you've got to read the manual\nof your switch when you buy, so\n\n571\n00:29:05.860 --> 00:29:07.710\nyou know what features are supported.\n\n572\n00:29:07.710 --> 00:29:10.030\nSo that's good, I've got that.\n\n573\n00:29:10.030 --> 00:29:13.310\nI can come in and\nI can say switchport mode trunk.\n\n574\n00:29:13.310 --> 00:29:16.817\nSo now it's gonna trunk by\ndefault which it already is,\n\n575\n00:29:16.817 --> 00:29:19.965\nand then I'm gonna say\nswitchport no negotiate.\n\n576\n00:29:19.965 --> 00:29:22.537\nSo it's not gonna negotiate trunk or\naccess status,\n\n577\n00:29:22.537 --> 00:29:24.850\nit's just gonna manually trunk.\n\n578\n00:29:24.850 --> 00:29:29.459\nAnd now if I get out of my config, and\n\n579\n00:29:29.459 --> 00:29:33.165\nI do a show interface trunk.\n\n580\n00:29:33.165 --> 00:29:34.092\nI can see that it's trunking.\n\n581\n00:29:34.092 --> 00:29:36.458\nReally not much has changed here.\n\n582\n00:29:36.458 --> 00:29:40.360\nI'm still 802.1q, but\nnotice the mode is now on instead of auto.\n\n583\n00:29:40.360 --> 00:29:43.030\nI'm not negotiating and that's it.\n\n584\n00:29:43.030 --> 00:29:46.191\nSo that one is done.\nLet me do a copy running-config\n\n585\n00:29:46.191 --> 00:29:50.116\nstartup-config and save my configuration.\n\n586\n00:29:50.116 --> 00:29:53.971\nAnd always a good idea to save otherwise\nsomebody trips over a power cable,\n\n587\n00:29:53.971 --> 00:29:55.201\nyou lose all your work.\n\n588\n00:29:55.201 --> 00:30:00.920\nSo that leaves one more switch for me\nwhich is this guy way over here NYCORE2.\n\n589\n00:30:00.920 --> 00:30:05.494\nAnd it's got port 24 connected and I wanna\nget that one set up for ISL this time.\n\n590\n00:30:05.494 --> 00:30:10.413\nAnd so I'm gonna jump over to it and\nget it going.\n\n591\n00:30:10.413 --> 00:30:16.545\nSo here is my NYCORE2,\nand we'll just enable.\n\n592\n00:30:16.545 --> 00:30:23.180\nI'm gonna do a show interface trunk like\nI've been doing and it's not trunking.\n\n593\n00:30:24.930 --> 00:30:28.227\nThe 2960 auto trunk it aurto negotiated,\nthe 3750 isn't.\n\n594\n00:30:28.227 --> 00:30:31.382\nIt differs from model to model,\nbe aware of that.\n\n595\n00:30:31.382 --> 00:30:38.954\nSo I'm gonna jump in to my configuration,\nI'm gonna get into interface fa1/0/24.\n\n596\n00:30:38.954 --> 00:30:46.120\nAnd I'm gonna say switchport trunk\nencapsulation and this time I want isl.\n\n597\n00:30:47.210 --> 00:30:51.161\nSo switchport trunk encapsulation isl,\nI can then say switchport mode trunk.\n\n598\n00:30:51.161 --> 00:30:55.381\nBecause I want to trunk,\nand switchport nonegotiate,\n\n599\n00:30:55.381 --> 00:30:58.920\nto stop it from autonegotiating.\n\n600\n00:30:58.920 --> 00:31:02.590\nNow it's going to trunk, or it's just\nnot going to work, one or the other.\n\n601\n00:31:02.590 --> 00:31:07.491\nAnd so that's gonna be put in place,\nI can get out of that config,\n\n602\n00:31:07.491 --> 00:31:10.181\nand I can do a show interface trunk.\n\n603\n00:31:10.181 --> 00:31:11.978\nAnd now, port 24 is trunking.\n\n604\n00:31:11.978 --> 00:31:14.920\nIt shows us isl,\nit's trunking, the mode is on.\n\n605\n00:31:14.920 --> 00:31:18.180\nI know it says native VLAN, but sil\ndoesn't technically have a native VLAN.\n\n606\n00:31:18.180 --> 00:31:21.800\nIt's just there cuz that's what\nthe UI shows and it's up and going.\n\n607\n00:31:21.800 --> 00:31:25.450\nI've now got valid trunks\nbetween my three switches.\n\n608\n00:31:25.450 --> 00:31:29.340\nSo now I've got these links between\neach of the three switches.\n\n609\n00:31:29.340 --> 00:31:31.130\nWe saw here in the diagram.\n\n610\n00:31:31.130 --> 00:31:37.744\nSo this link and this link are both\nable to carry more than one VLAN.\n\n611\n00:31:37.744 --> 00:31:39.839\nThere is a little tiny problem\nthat we've got though, and\n\n612\n00:31:39.839 --> 00:31:41.530\nyou might have noticed this already.\n\n613\n00:31:41.530 --> 00:31:45.873\nThat I've got a trunk on NYCORE1,\nwhat VLANs did I have?\n\n614\n00:31:45.873 --> 00:31:47.755\nLet me get back up to NYCORE1.\n\n615\n00:31:47.755 --> 00:31:52.688\nOn NYCORE1, I had VLAN 1, 10, 20, 30, 40.\n\n616\n00:31:52.688 --> 00:31:55.521\nSo I'm gonna do a show VLAN brief.\n\n617\n00:31:55.521 --> 00:31:58.029\nI see those VLAN that we made\nin the earlier episodes.\n\n618\n00:31:58.029 --> 00:32:00.397\nMarketing, sales, data, voice.\n\n619\n00:32:00.397 --> 00:32:02.859\nWell, I've got trunks to the other guys.\n\n620\n00:32:02.859 --> 00:32:09.710\nAnd when I do a show int trunk, I can see\nthat I'm sending VLANs 10, 20, 30 and 40.\n\n621\n00:32:09.710 --> 00:32:14.229\nWhen I jump over to these other ones\nthough, and you probably notice this\n\n622\n00:32:14.229 --> 00:32:19.390\non NYCORE2, that yes I'm showing a trunk\nbut look what VLANs I'm pushing.\n\n623\n00:32:19.390 --> 00:32:22.060\nVLANs allowed and active, one.\n\n624\n00:32:22.060 --> 00:32:25.200\nVLANs in spanning tree forwarding\nstate and not pruned, none.\n\n625\n00:32:25.200 --> 00:32:29.280\nThat means I'm not actually carrying\nany traffic over this line.\n\n626\n00:32:29.280 --> 00:32:33.620\nAnd the reason is if anything\ncomes in on VLAN 10, VLAN 20,\n\n627\n00:32:33.620 --> 00:32:38.350\nVLAN 30, VLAN 40, I don't know those VLANs\non this switch and so I ignore them and\n\n628\n00:32:38.350 --> 00:32:39.281\nI throw the traffic away, all right.\n\n629\n00:32:40.310 --> 00:32:43.800\nJust having the switch configured for\na trunk is not enough.\n\n630\n00:32:43.800 --> 00:32:47.990\nWe need to tell it the VLANs exist,\nand we can do that manually or\n\n631\n00:32:47.990 --> 00:32:50.740\nthere's a little protocol\nthat can help us.\n\n632\n00:32:50.740 --> 00:32:53.370\nI'm just gonna do it manually here\ncuz I'm out of time [LAUGH] but\n\n633\n00:32:53.370 --> 00:32:56.720\nin the next episode we'll get a chance\nto see doing it automatically.\n\n634\n00:32:56.720 --> 00:33:00.100\nBut what I really need to do is\non this switch, if I come in and\n\n635\n00:33:00.100 --> 00:33:06.030\njust create VLAN 10, VLAN 20,\nVLAN 30, VLAN 40, okay.\n\n636\n00:33:06.030 --> 00:33:10.730\nI'm just typing those commands in so\nit creates each VLAN.\n\n637\n00:33:12.040 --> 00:33:17.630\nNow when I do a show vlan brief,\nThere we go.\n\n638\n00:33:17.630 --> 00:33:20.226\nI can see that I know about VLAN 10,\n20, 30, and 40.\n\n639\n00:33:20.226 --> 00:33:21.240\nThere they are, right.\n\n640\n00:33:21.240 --> 00:33:26.330\nSo I know they exist and so\nnow when I do a show int trunk,\n\n641\n00:33:27.820 --> 00:33:31.750\nI can see that I'm allowing\nthose VLANs to cross, okay.\n\n642\n00:33:31.750 --> 00:33:34.570\nBut notice there is still one problem\ndown here, VLANs that are not permitted.\n\n643\n00:33:34.570 --> 00:33:36.196\nI've only got one, VLAN 1.\n\n644\n00:33:36.196 --> 00:33:37.210\nWhat about the other VLANs?\n\n645\n00:33:37.210 --> 00:33:39.234\nWell the other VLANs are being pruned,\n\n646\n00:33:39.234 --> 00:33:41.695\nbecause I don't have any\nports in those VLANs.\n\n647\n00:33:41.695 --> 00:33:45.503\nIf you don't have any port in\nthe VLAN you don't need the traffic,\n\n648\n00:33:45.503 --> 00:33:47.140\nand so you can throw it away.\n\n649\n00:33:47.140 --> 00:33:49.365\nBut there's still a problem\nthat can happen there.\n\n650\n00:33:49.365 --> 00:33:53.271\nIf I go back to my diagram that\nI showed you guys earlier, here,\n\n651\n00:33:53.271 --> 00:33:58.286\nthere may be a situation where let's say\nthat I've got the green VLAN down here,\n\n652\n00:33:58.286 --> 00:34:01.110\nand the green VLAN over here.\n\n653\n00:34:01.110 --> 00:34:06.500\nBut on this switch up top, maybe I\ndon't have the green VLAN there, right.\n\n654\n00:34:06.500 --> 00:34:09.450\nSo now I need the green\nVLAN on the left switch\n\n655\n00:34:09.450 --> 00:34:11.440\nto connect to the green\nVLAN on the right switch.\n\n656\n00:34:11.440 --> 00:34:13.050\nThey go through this core switch and\n\n657\n00:34:13.050 --> 00:34:15.880\nthe core switch doesn't have\nany ports on the green VLAN.\n\n658\n00:34:15.880 --> 00:34:19.200\nSo what's the core switch gonna do if it\nreceives any traffic for the green VLAN?\n\n659\n00:34:19.200 --> 00:34:22.760\nIt's gonna throw it away,\njust gonna toss it, right.\n\n660\n00:34:22.760 --> 00:34:26.200\nSo we have to tell the switch\nthat that VLAN exists so\n\n661\n00:34:26.200 --> 00:34:29.430\nthat it knows not to throw that\ntraffic away and not to prune it.\n\n662\n00:34:29.430 --> 00:34:33.990\nIf you have a trunk that\nwill keep that VLAN open,\n\n663\n00:34:33.990 --> 00:34:37.420\nkeep it existing, and\nallow the traffic to flow through it.\n\n664\n00:34:37.420 --> 00:34:41.290\nThat's why it's important that we go\nto every single switch in our entire\n\n665\n00:34:41.290 --> 00:34:44.810\nenvironment and tell it about VLANs\neven if it doesn't have any ports on it.\n\n666\n00:34:44.810 --> 00:34:49.930\nSo I might have a switch\nthat's entirely in vlan10 but\n\n667\n00:34:49.930 --> 00:34:53.880\nI'm gonna tell it that VLAN 20, 30, and\n40 exist so that it knows about them and\n\n668\n00:34:53.880 --> 00:34:56.440\nit will allow traffic to flow\nthrough if that's necessary.\n\n669\n00:34:56.440 --> 00:34:58.860\nAnd that would be necessary\nhere on this core switch.\n\n670\n00:34:58.860 --> 00:35:03.020\nIt's got to know about that VLAN or it's\ngonna trim it, or it's called pruning,\n\n671\n00:35:03.020 --> 00:35:05.700\nit's gonna prune it and then it won't\nallow that traffic to get through and\n\n672\n00:35:05.700 --> 00:35:09.470\nI'll have two isolated\nsegments of the green VLAN.\n\n673\n00:35:09.470 --> 00:35:11.630\nThese nodes will see each\nother on this switch,\n\n674\n00:35:11.630 --> 00:35:13.860\nthe nodes over on the other\nswitch will see each other, but\n\n675\n00:35:13.860 --> 00:35:17.260\nthey won't be able to cross because that\nmiddle switch will be pruning them off.\n\n676\n00:35:17.260 --> 00:35:19.500\nSo that's a key thing\nto remember with VLANs.\n\n677\n00:35:19.500 --> 00:35:20.970\nWhen we define a trunk,\n\n678\n00:35:20.970 --> 00:35:23.490\nwe need the switches to be aware\nof what VLANs are out there.\n\n679\n00:35:25.070 --> 00:35:26.600\nAll right, so, we've seen the manual way.\n\n680\n00:35:26.600 --> 00:35:28.260\nI definitely want to show\nyou guys the automatic\n\n681\n00:35:28.260 --> 00:35:30.300\nway where they learn from each other.\n\n682\n00:35:30.300 --> 00:35:34.750\nWe'll tackle that in, I don't know,\nRonnie, what Part 2, Part 3, Part 12,\n\n683\n00:35:34.750 --> 00:35:35.520\nwhatever it is.\n\n684\n00:35:35.520 --> 00:35:37.804\nWe'll add on those episodes so\nthat we can get to that and\n\n685\n00:35:37.804 --> 00:35:40.977\na couple of other little topics that I\nwant to cover when it comes to trunking.\n\n686\n00:35:40.977 --> 00:35:44.768\n>> All right, well Don, thank you again\nfor helping us out when we start working\n\n687\n00:35:44.768 --> 00:35:48.250\nwith multiple switches and\nVLANs across multiple switches.\n\n688\n00:35:48.250 --> 00:35:51.937\nRemember that for us to do that we need\nto be able to set those trunks and\n\n689\n00:35:51.937 --> 00:35:54.989\nwe have two types that we can\nthink about here, the ISL and\n\n690\n00:35:54.989 --> 00:35:59.110\nof course that 802.1Q are the two\ndifferent methods thay we have.\n\n691\n00:35:59.110 --> 00:36:01.220\nMake sure you know how to configure both.\n\n692\n00:36:01.220 --> 00:36:03.950\nAlso of course in dealing with\nthat that last thing that\n\n693\n00:36:03.950 --> 00:36:05.630\nDon mentioned is very important.\n\n694\n00:36:05.630 --> 00:36:08.950\nThat all of the VLANs do need to\nshow up between those switches\n\n695\n00:36:08.950 --> 00:36:13.860\neven if you have a switch that doesn't\nhave an actual port in one of those VLANs.\n\n696\n00:36:13.860 --> 00:36:17.090\nYou still need that particular\nswitch to also show that VLAN so\n\n697\n00:36:17.090 --> 00:36:20.970\nthat traffic can continue to move\nthroughout for that VLAN as well.\n\n698\n00:36:20.970 --> 00:36:24.420\nWell that's a great place for\nus to also end this episode then.\n\n699\n00:36:24.420 --> 00:36:27.920\nSigning off for ITProTV,\nI've been your host Ronnie Wong.\n\n700\n00:36:27.920 --> 00:36:29.020\n>> And I'm Don Pezet.\n\n701\n00:36:29.020 --> 00:36:32.802\n>> Stay tuned right here for\nmore CCENT episodes.\n\n702\n00:36:32.802 --> 00:36:41.140\n[MUSIC]\n\n",
          "vimeoId": "174809880"
        },
        {
          "description": "In this episode, Ronnie and Don continue with some advanced VLANs management using VTP (VLAN Trunking Protocol).  They discuss the purpose and show how to configure VTP across multiple switches.  Using VTP they show how VLAN configuration propagate across multiple switches.  The guys demonstrate not only enabling VTP but the different VTP modes: Server, Client and Transparent.",
          "length": "2161",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-2-2-3-vlans_pt.3-071116-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-2-2-3-vlans_pt.3-071116-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-2-2-3-vlans_pt.3-071116-1-sm.jpg",
          "title": "VLANs Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.271 --> 00:00:12.811\nWelcome to another great\nepisode right here on ITProTV.\n\n3\n00:00:15.570 --> 00:00:17.030\nI'm your host Ronnie Wang.\n\n4\n00:00:17.030 --> 00:00:20.390\nAnd today we're continuing\nwith some Cisco CCENT.\n\n5\n00:00:20.390 --> 00:00:24.360\nWe're getting ready to face that exam and\nwe're actually inside of the area of\n\n6\n00:00:24.360 --> 00:00:29.090\nLAN switching going into VLANs and we're\nactually in the midst of a part three.\n\n7\n00:00:29.090 --> 00:00:32.660\nSo back with us in our studios\ntoday is gonna be Mr. Don Pezet.\n\n8\n00:00:32.660 --> 00:00:34.170\nDon, welcome back to our studios.\n\n9\n00:00:34.170 --> 00:00:35.050\n>> Thanks for having me back, Ronnie.\n\n10\n00:00:35.050 --> 00:00:37.200\nReady to dive in and\nhopefully wrap up VLANs.\n\n11\n00:00:37.200 --> 00:00:41.230\nI know I've gone on for two episodes now,\nand we do have a bit more to cover.\n\n12\n00:00:41.230 --> 00:00:42.190\nIn the last episode,\n\n13\n00:00:42.190 --> 00:00:46.480\nlet's kinda recap a bit, we created\nsome trunks in between our switches so\n\n14\n00:00:46.480 --> 00:00:51.780\nthat we could have a single link between\nthe switches carrying more than one VLAN.\n\n15\n00:00:51.780 --> 00:00:53.540\nAnd at the end of the episode,\n\n16\n00:00:53.540 --> 00:00:55.840\nI highlighted one of\nthe problems that can cause.\n\n17\n00:00:55.840 --> 00:00:58.120\nRIght, one of the issues\nthat we might have and\n\n18\n00:00:58.120 --> 00:01:02.200\nlet me get back to a little\ndiagram that I had and\n\n19\n00:01:02.200 --> 00:01:06.440\nI was trying to highlight the problem\nthat was going to be created.\n\n20\n00:01:06.440 --> 00:01:09.630\nIf we have three switches, like what\nI've got here in the diagram, and\n\n21\n00:01:09.630 --> 00:01:14.020\nthey're each linked by an uplink, and\nthese uplinks are trunking, right, then\n\n22\n00:01:14.020 --> 00:01:18.450\nwhat I'm saying is that basically this one\ncable is now carrying more than on VLAN.\n\n23\n00:01:18.450 --> 00:01:21.510\nAnd we talked about\n801.2q VLAN tagging and\n\n24\n00:01:21.510 --> 00:01:26.110\nwe talked about ISL VLAN encapsulation,\nand how the switches are able to\n\n25\n00:01:26.110 --> 00:01:30.010\ntell what VLAN traffic belongs on, and\nput it together on the same link and\n\n26\n00:01:30.010 --> 00:01:33.350\ntake it apart again on the other side,\nso we saw all that.\n\n27\n00:01:33.350 --> 00:01:38.580\nBut the challenge that I mentioned at the\nend of the episode was, if I have a green\n\n28\n00:01:38.580 --> 00:01:43.620\nVLAN on this switch and it sends\ntraffic on the green VLAN up to this\n\n29\n00:01:43.620 --> 00:01:49.690\nmiddle switch, the middle switch does not\nhave any active ports on the green VLAN,\n\n30\n00:01:49.690 --> 00:01:53.360\nand the middle switch doesn't\neven know about the green VLAN.\n\n31\n00:01:53.360 --> 00:01:54.778\nSo what it's going to do?\n\n32\n00:01:54.778 --> 00:01:58.780\nIt's gonna receive that traffic and say,\nI don't have any port on the green VLAN or\n\n33\n00:01:58.780 --> 00:02:00.800\nI don't even know what the green VLAN is?\n\n34\n00:02:00.800 --> 00:02:02.770\nI'm gonna throw the traffic away.\n\n35\n00:02:02.770 --> 00:02:08.560\nIt's not going to send it along to the\nother side, to the other switch, right.\n\n36\n00:02:08.560 --> 00:02:12.360\nNow, there's two different statuses\nwe need to worry about here.\n\n37\n00:02:12.360 --> 00:02:16.550\nWhen we create a VLAN,\nthere's whether the VLAN exists or not.\n\n38\n00:02:16.550 --> 00:02:18.710\nRight, so just simple VLAN existence.\n\n39\n00:02:18.710 --> 00:02:19.620\nThat's coming into play.\n\n40\n00:02:19.620 --> 00:02:24.170\nAnd then the second thing is whether or\nnot we have any active ports.\n\n41\n00:02:24.170 --> 00:02:27.140\nSo for example,\nthis switch up here at the top,\n\n42\n00:02:27.140 --> 00:02:32.300\nit might not have the green VLAN or\nit may, right, whether it exist or not.\n\n43\n00:02:32.300 --> 00:02:34.410\nAnd if it does have the green VLAN,\n\n44\n00:02:34.410 --> 00:02:37.950\nit might not have any\nactive ports in that VLAN.\n\n45\n00:02:37.950 --> 00:02:39.490\nSo if I look down here at this switch.\n\n46\n00:02:39.490 --> 00:02:42.460\nYeah, this switch has all\nits ports in the green VLAN.\n\n47\n00:02:42.460 --> 00:02:44.850\nIt might know about the red VLAN.\n\n48\n00:02:44.850 --> 00:02:49.200\nBut if red vlan traffic comes down this\nwire to it, it doesn't have any ports, so\n\n49\n00:02:49.200 --> 00:02:50.340\nit just throws it away.\n\n50\n00:02:50.340 --> 00:02:52.490\nWhat's the point in even learning it?\n\n51\n00:02:52.490 --> 00:02:53.220\nOkay.\n\n52\n00:02:53.220 --> 00:02:55.800\nWell, if you take a look\nat the green VLAN,\n\n53\n00:02:55.800 --> 00:03:01.250\nwhere it's on these two switches, if this\nmiddle switch knows about the green VLAN,\n\n54\n00:03:01.250 --> 00:03:03.550\neven though it doesn't\nhave any active ports,\n\n55\n00:03:03.550 --> 00:03:07.520\nit will be smart enough to know I've got\na trunk here and I've got a trunk here.\n\n56\n00:03:07.520 --> 00:03:10.880\nIt's got two trunks,\nthese two uplink cables.\n\n57\n00:03:10.880 --> 00:03:14.090\nSo when it receives green VLAN traffic,\nit's not gonna just say,\n\n58\n00:03:14.090 --> 00:03:16.490\nhey, I've got no green VLAN so\nI'm gonna throw it away.\n\n59\n00:03:16.490 --> 00:03:20.460\nIt says, all right, let me just send it\nto this other trunk, and sends it along.\n\n60\n00:03:20.460 --> 00:03:22.940\nAnd now the green VLAN is happy.\n\n61\n00:03:22.940 --> 00:03:29.750\nIn order for that to happen, this switch\nneeds to know the green VLAN exists, okay?\n\n62\n00:03:29.750 --> 00:03:32.300\nAnd how do we know if a VLAN exists?\n\n63\n00:03:32.300 --> 00:03:35.900\nWell, every switch maintains\nwhat's called a VLAN database.\n\n64\n00:03:35.900 --> 00:03:40.030\nAnd the VLAN database is where we have\nthat listing of what VLANs exist.\n\n65\n00:03:40.030 --> 00:03:44.880\nIf I jump over to my switches\nI can take a look at that.\n\n66\n00:03:44.880 --> 00:03:48.090\nAnd in the last episode we created\na handful of VLANs, right?\n\n67\n00:03:48.090 --> 00:03:53.715\nAnd the command that I used to look\nat those VLANs was show VLAN brief,\n\n68\n00:03:53.715 --> 00:03:55.940\nright or show VLAN either one.\n\n69\n00:03:55.940 --> 00:03:57.890\nAnd when we go in we can see\nthe VLANs that we created.\n\n70\n00:03:57.890 --> 00:04:00.940\nSo in the last episode I made well,\nI didn't make.\n\n71\n00:04:00.940 --> 00:04:03.300\nBut VLAN one,\nthat exists by default, right?\n\n72\n00:04:03.300 --> 00:04:04.680\nEvery switch has it.\n\n73\n00:04:04.680 --> 00:04:09.285\nWe made VLAN 10 for marketing,\nVLAN 20 for sales, V-land 30 and 40 for\n\n74\n00:04:09.285 --> 00:04:12.940\ndata and voice, and\nwe assigned ports to them, right?\n\n75\n00:04:12.940 --> 00:04:15.630\nWhen you run show VLAN, what you're\ndoing is you're telling the switch, hey,\n\n76\n00:04:15.630 --> 00:04:18.390\nshow me your VLAN database.\n\n77\n00:04:18.390 --> 00:04:20.750\nNow, this is one of the very,\n\n78\n00:04:20.750 --> 00:04:26.900\nvery rare items that's not actually\nstored in your router's configuration.\n\n79\n00:04:26.900 --> 00:04:32.540\nIf I do a show running-config, and\nI take a look at the switches running\n\n80\n00:04:32.540 --> 00:04:37.380\nconfiguration, when I go in and look\nat it, I'm going to see the interfaces.\n\n81\n00:04:37.380 --> 00:04:41.260\nI'm gonna see their configurations and\nas I scroll through,\n\n82\n00:04:41.260 --> 00:04:46.560\nI see VLAN internal allocation policy\nascending, which just means as we\n\n83\n00:04:46.560 --> 00:04:50.180\nassign the VLAN it starts from lowest to\nhighest as opposed to highest to lowest.\n\n84\n00:04:50.180 --> 00:04:51.590\nThat's not exciting.\n\n85\n00:04:51.590 --> 00:04:56.180\nAnd as we keep looking, I get to\nthe interfaces and I see here where\n\n86\n00:04:56.180 --> 00:04:59.880\nsome of the interfaces are assigned to\nVLAN, this one's assigned to VLAN 10.\n\n87\n00:04:59.880 --> 00:05:03.220\nBut remember, VLAN 10 for\nme is the marketing VLAN.\n\n88\n00:05:03.220 --> 00:05:07.200\nOr VLAN 20, down here,\nthat's the sales VLAN.\n\n89\n00:05:07.200 --> 00:05:09.790\nI don't see that it's named marketing or\nsales.\n\n90\n00:05:09.790 --> 00:05:13.460\nIn fact, I don't see that here in\nthe configuration anywhere, right?\n\n91\n00:05:13.460 --> 00:05:16.620\nWhere do I see those names\nthat I assigned to the VLANs.\n\n92\n00:05:16.620 --> 00:05:19.190\nAnd sure to answer is you don't,\nyou don't see them.\n\n93\n00:05:19.190 --> 00:05:23.420\nAnd there might be VLANs that you've\ncreated that don't have any active ports.\n\n94\n00:05:23.420 --> 00:05:29.520\nSo for example if I come in to my\nconfiguration and I do VLAN 50 and\n\n95\n00:05:29.520 --> 00:05:32.780\nI'll give it a name, maybe this is\ngonna be my server VLAN, right?\n\n96\n00:05:32.780 --> 00:05:35.490\nSo be just servers, all right.\n\n97\n00:05:35.490 --> 00:05:42.140\nWell I know that VLAN exists if I do a\nshow VLAN brief, when I look at the output\n\n98\n00:05:42.140 --> 00:05:47.450\nfor show VLAN brief I can see that VLAN\n50 exist all right and it's active.\n\n99\n00:05:47.450 --> 00:05:51.360\nIt's got no ports assigned to it but\nit is active all right.\n\n100\n00:05:51.360 --> 00:05:56.180\nIf I look at my running configuration\nthough VLAN 50 isn't gonna show up there.\n\n101\n00:05:56.180 --> 00:06:00.120\nAnd the reason is this stuff is stored\nexternally in a VLAN data base.\n\n102\n00:06:00.120 --> 00:06:03.710\nWe haven't really messed with the file\nsystems on our switches yet, but\n\n103\n00:06:03.710 --> 00:06:07.180\nif you runt the DIR command,\nwhich is the Directory command,\n\n104\n00:06:07.180 --> 00:06:09.340\nit will show the file\nsystem of your switch.\n\n105\n00:06:09.340 --> 00:06:12.644\nIt will show what's stored in flash,\nand when I look in the flash,\n\n106\n00:06:12.644 --> 00:06:15.063\nI'll see some files like the IOS image,\nright.\n\n107\n00:06:15.063 --> 00:06:17.680\nThat's the operating system that\nI booted when the system came up.\n\n108\n00:06:17.680 --> 00:06:22.208\nWe're gonna look more at that in another\nepisode,but right beneath it I've got\n\n109\n00:06:22.208 --> 00:06:24.240\nvlan.dat.\n\n110\n00:06:24.240 --> 00:06:27.140\nThat is the VLAN database, all right?\n\n111\n00:06:27.140 --> 00:06:28.710\nAnd how do we view the VLAN database?\n\n112\n00:06:28.710 --> 00:06:29.995\nYou don't.\n\n113\n00:06:29.995 --> 00:06:31.060\n>> [LAUGH]\n>> It's a binary file.\n\n114\n00:06:31.060 --> 00:06:32.330\nYou're not able to open it directly.\n\n115\n00:06:32.330 --> 00:06:33.653\nYou have to open it through show commands.\n\n116\n00:06:33.653 --> 00:06:37.942\nSo running show VLAN brief of show VLAN,\nthat's looking into this database and\n\n117\n00:06:37.942 --> 00:06:41.719\nshowing me what's in there,\nwhat ports are assigned to what VLANs and\n\n118\n00:06:41.719 --> 00:06:42.760\nwhat VLANs exist.\n\n119\n00:06:42.760 --> 00:06:45.490\nSo that's all being stored right\nthere in that VLAN database.\n\n120\n00:06:45.490 --> 00:06:49.910\nAnd every switch has\nits own VLAN database.\n\n121\n00:06:49.910 --> 00:06:53.520\nAnd that's important, because if I\njump down to my next switch, right?\n\n122\n00:06:53.520 --> 00:06:58.190\nSo if I jump down to CORE2 here, right,\nthis is another switch that I've got.\n\n123\n00:06:58.190 --> 00:07:04.517\nIt is trunked to CORE1, so CORE1 and\nCORE2 have a trunk together.\n\n124\n00:07:04.517 --> 00:07:07.270\nIf I do a show interfaces trunk, and\n\n125\n00:07:07.270 --> 00:07:12.344\ntake a look at that port 24 is trunking\nbetween those two switches and\n\n126\n00:07:12.344 --> 00:07:17.519\nswitch, NY CORE1,\nit's got VLAN 10, 20, 30, 40, 50.\n\n127\n00:07:17.519 --> 00:07:18.762\nIt's got all the names.\n\n128\n00:07:18.762 --> 00:07:25.550\nBut here on CORE2, if I do a show\nVLAN brief it just has VLAN 1.\n\n129\n00:07:25.550 --> 00:07:27.820\nWell in the end those automatic\nVLANs are kind of ignored.\n\n130\n00:07:27.820 --> 00:07:29.190\nBut it just says VLAN 1.\n\n131\n00:07:29.190 --> 00:07:34.510\nIt has no idea that VLAN 10, 20,\n30, 40, 50 it does not exist.\n\n132\n00:07:34.510 --> 00:07:40.090\nSo, if any traffic crosses that\ntrunk over to here on those VLANs,\n\n133\n00:07:40.090 --> 00:07:41.650\nwords gonna throw it away.\n\n134\n00:07:41.650 --> 00:07:44.769\nAll right, we're gonna act like it doesn’t\nexist, and that's a bit of a problem.\n\n135\n00:07:44.769 --> 00:07:49.020\nOn NY core 2,\nif I do a show interfaces trunk, and\n\n136\n00:07:49.020 --> 00:07:54.187\nI look at that trunk interface,\nsee it says VLANs allowed and\n\n137\n00:07:54.187 --> 00:07:59.990\nactive in the management domain And\nthe only VLAN listed is VLAN 1.\n\n138\n00:07:59.990 --> 00:08:00.657\nThat's it.\n\n139\n00:08:00.657 --> 00:08:02.570\nOnly that one VLAN.\n\n140\n00:08:02.570 --> 00:08:07.054\nIf I look at that from core\none's perspective though,\n\n141\n00:08:07.054 --> 00:08:09.688\nif I do a show interfaces trunk.\n\n142\n00:08:09.688 --> 00:08:14.642\nAnd I look at that same link,\nthat port 24, look at my allowed VLANs.\n\n143\n00:08:14.642 --> 00:08:18.436\nVLANs allowed an active,\n1, 10, 20, 30, 40, 50.\n\n144\n00:08:18.436 --> 00:08:20.668\nI'm allowing all of those\nVLANs to cross the line and\n\n145\n00:08:20.668 --> 00:08:24.040\nthe other switch is throwing them away,\nand that's a problem.\n\n146\n00:08:24.040 --> 00:08:28.540\nWhat's going on is that\nthe VLAN database on NYCORE1\n\n147\n00:08:28.540 --> 00:08:32.550\nis different than the VLAN\ndatabase on NYCORE2.\n\n148\n00:08:32.550 --> 00:08:34.890\nAnd so\nI've got to synchronize those two so\n\n149\n00:08:34.890 --> 00:08:37.980\nthat they understand to\nallow that traffic to flow.\n\n150\n00:08:37.980 --> 00:08:40.300\nThere's two ways to do it,\nthere's a manual way and\n\n151\n00:08:40.300 --> 00:08:45.210\nan automatic way and normally,\npeople prefer automatic.\n\n152\n00:08:45.210 --> 00:08:47.513\nI'll argue with that,\na lot of times I like manual, but\n\n153\n00:08:47.513 --> 00:08:50.464\nthis is one case where automatic is\nreally kind of a handy thing to have.\n\n154\n00:08:50.464 --> 00:08:54.180\nBecause the switches can just talk\nto each other and learn and adapt.\n\n155\n00:08:54.180 --> 00:08:55.510\nBut if we wanna do it manually,\nyou certainly can.\n\n156\n00:08:55.510 --> 00:09:00.660\nAll you have to do is, any time you create\na new VLAN, like I just created VLAN 50.\n\n157\n00:09:00.660 --> 00:09:04.280\nWell I now need to connect to every switch\n\n158\n00:09:04.280 --> 00:09:08.150\nthat's involved in that VLAN and\ncreate the VLAN there.\n\n159\n00:09:08.150 --> 00:09:12.920\nSo if I jump over to NYCORE2,\nI can go into configuration\n\n160\n00:09:14.200 --> 00:09:19.030\nand I can run VLAN 50 and I can get out.\n\n161\n00:09:19.030 --> 00:09:24.011\nAnd now vlan 50 exists here, and\nif I do a show interfaces trunk.\n\n162\n00:09:24.011 --> 00:09:28.728\nNow I'll see that VLAN 50 has\nbeen added to that trunk.\n\n163\n00:09:28.728 --> 00:09:32.930\nBut if you have two switches,\nit's no that big of a deal.\n\n164\n00:09:32.930 --> 00:09:35.824\nIf you have 200 switches,\nwe gotta work that out for you.\n\n165\n00:09:35.824 --> 00:09:40.393\nYou gotta think of all 200 of\nthose switches and the VLAN 50.\n\n166\n00:09:40.393 --> 00:09:41.753\nNot only that, notice my other problem.\n\n167\n00:09:41.753 --> 00:09:46.443\nVlan is spanning tree forwarding state and\nnot pruned.\n\n168\n00:09:46.443 --> 00:09:48.430\nVLAN 1's the only one that wasn't pruned.\n\n169\n00:09:48.430 --> 00:09:49.630\nWhat does that mean?\n\n170\n00:09:49.630 --> 00:09:54.483\nWell it means I know about VLAN 50,\nand I'll allow it to cross the line,\n\n171\n00:09:54.483 --> 00:09:57.633\nbut I don't have any\nactive ports in VLAN 50.\n\n172\n00:09:57.633 --> 00:10:00.044\nAnd since I don't have any\nactive ports in VLAN 50,\n\n173\n00:10:00.044 --> 00:10:02.740\nI'm just gonna throw that traffic away.\n\n174\n00:10:02.740 --> 00:10:03.500\nWhy keep it?\n\n175\n00:10:03.500 --> 00:10:04.620\nI don't need it.\nI'm gonna throw it away.\n\n176\n00:10:05.800 --> 00:10:10.400\nIf I were to take even one\nport on this switch, so\n\n177\n00:10:10.400 --> 00:10:16.852\nif I get into configuration and\nget into interface fa1/0/1.\n\n178\n00:10:16.852 --> 00:10:22.792\nI'll just hit the very first port, and\nI'm gonna throw that one into VLAN 50.\n\n179\n00:10:22.792 --> 00:10:25.588\nNow I've got a port in 50.\n\n180\n00:10:25.588 --> 00:10:28.042\nIt's going to be shut down isn't it?\n\n181\n00:10:28.042 --> 00:10:29.692\nYou need to have a link light,\n\n182\n00:10:29.692 --> 00:10:32.995\nyou need it to light up to show\nsomething is plugged into it.\n\n183\n00:10:32.995 --> 00:10:35.850\nBut let me just show you\nwhat I'm talking about.\n\n184\n00:10:35.850 --> 00:10:39.750\nIf I do a show VLAN brief now,\nI have a port assigned to VLAN 50.\n\n185\n00:10:39.750 --> 00:10:44.521\nSo when I look at my VLAN output,\nthere's VLAN 50 and\n\n186\n00:10:44.521 --> 00:10:48.505\nit has one port assigned to it, 1/0/1.\n\n187\n00:10:48.505 --> 00:10:49.245\nNotice the name?\n\n188\n00:10:50.995 --> 00:10:52.975\nI named it on the other side,\nwhat did I name it?\n\n189\n00:10:52.975 --> 00:10:53.754\nServers.\n>> Servers.\n\n190\n00:10:53.754 --> 00:10:56.057\n>> Right,\nthis switch has no idea about that name.\n\n191\n00:10:56.057 --> 00:10:58.427\nI'd have to name it here too, so\nthat it knows what it is, but\n\n192\n00:10:58.427 --> 00:11:00.347\notherwise just going to\ngive it a default name.\n\n193\n00:11:00.347 --> 00:11:03.119\nSo I've got a port in that VLAN.\n\n194\n00:11:03.119 --> 00:11:04.699\nThe problem is, well let's see,\n\n195\n00:11:04.699 --> 00:11:07.545\nmaybe I left it out maybe something\nis plugged into that port.\n\n196\n00:11:07.545 --> 00:11:09.316\nThere is a neat little command,\nI use it a ton.\n\n197\n00:11:09.316 --> 00:11:14.177\nWe use it a lot on the router side\nwhich is show ip interface is brief.\n\n198\n00:11:14.177 --> 00:11:19.180\nAnd when you run that command, sorry\nsingular interface brief, there you go.\n\n199\n00:11:19.180 --> 00:11:22.627\nWhen you run that it shows whether\nyour interface is are up or down and\n\n200\n00:11:22.627 --> 00:11:25.010\nwhen I look at 1/0/1 right here.\n\n201\n00:11:25.010 --> 00:11:28.800\nIs showing is down,\ndown there's nothing plug into it.\n\n202\n00:11:28.800 --> 00:11:30.280\nPort number 12 is up, that's a good one.\n\n203\n00:11:30.280 --> 00:11:35.570\nSo if you have a port assign to a VLAN,\nbut it's unplugged.\n\n204\n00:11:35.570 --> 00:11:37.260\nIs there any point in us\nreceiving traffic for it?\n\n205\n00:11:37.260 --> 00:11:39.275\nIt's unplugged, so\nit treats it as not existing.\n\n206\n00:11:39.275 --> 00:11:43.868\nSo let me take port number 12, and\nwell put that one into VLAN 50.\n\n207\n00:11:43.868 --> 00:11:49.161\nSo if I get into interface fa 1/0/12,\n\n208\n00:11:49.161 --> 00:11:53.600\nwe can throw that one into vlan 50.\n\n209\n00:11:53.600 --> 00:11:55.816\nNow we'll have a better example.\n\n210\n00:11:55.816 --> 00:12:00.518\nSo now that I've got that port up,\nif I do a show interfaces trunk and\n\n211\n00:12:00.518 --> 00:12:05.651\nI take a look at it, see how vlan 50\nis now in the allowed and forwarding.\n\n212\n00:12:05.651 --> 00:12:07.317\nIt's not being pruned anymore.\n\n213\n00:12:07.317 --> 00:12:10.137\nSo that one's being allowed to pass\nthrough, and now we're good, but\n\n214\n00:12:10.137 --> 00:12:11.790\nit took a lot of work to do that.\n\n215\n00:12:11.790 --> 00:12:13.697\nSo if I wanna handle this manually,\n\n216\n00:12:13.697 --> 00:12:16.378\nI'm gonna have to get kind\nof involved in it here.\n\n217\n00:12:16.378 --> 00:12:19.471\nAnd if I have a switch and\nthere's 100 VLANs.\n\n218\n00:12:19.471 --> 00:12:22.674\nI don't wanna have to assign-\n>> [LAUGH]\n\n219\n00:12:22.674 --> 00:12:24.774\n>> An active port to each individual VLAN,\n\n220\n00:12:24.774 --> 00:12:26.822\nthat becomes a little bit of a problem.\n\n221\n00:12:26.822 --> 00:12:28.550\nSo the switch needs to be aware of it.\n\n222\n00:12:28.550 --> 00:12:32.253\nFortunately if it has a trunk,\nit'll treat the trunk as being active for\n\n223\n00:12:32.253 --> 00:12:36.154\nall of those ports and so then it'll\nbring these up and start to handle that.\n\n224\n00:12:36.154 --> 00:12:44.060\nSo for example, when I go back to core 1,\non core 1, there we go.\n\n225\n00:12:44.060 --> 00:12:46.090\nIt's got two trunks.\n\n226\n00:12:46.090 --> 00:12:48.464\nSo when we do a show interfaces trunk,\n\n227\n00:12:48.464 --> 00:12:53.156\nit's gotta trunk to actually it's\nonly got one trunk, doesn't it?\n\n228\n00:12:53.156 --> 00:12:55.050\nSo I need to configure\nanother trunk on it.\n\n229\n00:12:55.050 --> 00:12:58.173\nIf I have two trunks, then it'll be\nsmart enough to know, you know what?\n\n230\n00:12:58.173 --> 00:13:01.554\nI might not have active ports, but\nI bet somebody on the other end does.\n\n231\n00:13:01.554 --> 00:13:03.782\nAnd that's when it's gonna go ahead and\nbring those active.\n\n232\n00:13:03.782 --> 00:13:12.450\nSo what I need to do is get an extra trunk\nwhich I need to do that on fa1/0/22.\n\n233\n00:13:12.450 --> 00:13:16.111\nThat's my connection to the other switch,\nand\n\n234\n00:13:16.111 --> 00:13:20.139\nI'm just gonna say switchport\ntrunk encap dot1q,\n\n235\n00:13:20.139 --> 00:13:24.451\nswitchport mode trunk, and\nswitchport nonegotiate.\n\n236\n00:13:24.451 --> 00:13:29.320\nThose are the commands we saw in the last\nepisode to quickly turn on a trunk.\n\n237\n00:13:29.320 --> 00:13:31.950\nAnd now that I have two trunks,\n\n238\n00:13:31.950 --> 00:13:36.730\nwhen I do a show interfaces\ntrunk I'll see the two trunks.\n\n239\n00:13:36.730 --> 00:13:38.630\nAnd now I'm smart enough to know that hey,\n\n240\n00:13:38.630 --> 00:13:41.570\neven if I don't have an active port,\nin a VLAN.\n\n241\n00:13:41.570 --> 00:13:43.065\nI'm still going to allow it to flow.\n\n242\n00:13:43.065 --> 00:13:44.875\nI'm still gonna allow it\nflow across the line.\n\n243\n00:13:44.875 --> 00:13:48.710\nNotice how pot 22, down here,\nis showing as none for being active.\n\n244\n00:13:48.710 --> 00:13:50.411\nWe have to give it a minute to shake out.\n\n245\n00:13:50.411 --> 00:13:53.952\nThe trunk just came up, but\nafter a moment, that'll populate and\n\n246\n00:13:53.952 --> 00:13:56.177\nwe'll start to see VLANs moving over it.\n\n247\n00:13:56.177 --> 00:13:59.254\nAssuming I've got the other\nend configured properly too,\n\n248\n00:13:59.254 --> 00:14:01.780\nto allow that trunk to build up and\ncome up.\n\n249\n00:14:01.780 --> 00:14:04.867\nBecause I did a nonegotiate,\nthat's gonna force it to go active,\n\n250\n00:14:04.867 --> 00:14:08.354\nregardless of what the other side is\ndoing, and so we should be fine there.\n\n251\n00:14:08.354 --> 00:14:15.112\nSo what will be nice is if we\ndidn't have to do this manually.\n\n252\n00:14:15.112 --> 00:14:19.360\nDoing things manually can be challenging,\ndoing it automatic is a little bit nicer.\n\n253\n00:14:19.360 --> 00:14:21.220\nAnd to do thing automatically,\n\n254\n00:14:21.220 --> 00:14:26.850\nCisco created a proprietor protocol\ncalled VTP the VLAN Trunking Protocol.\n\n255\n00:14:26.850 --> 00:14:28.170\nIt is Cisco proprietary.\n\n256\n00:14:28.170 --> 00:14:31.230\nSo it'll work on Cisco equipment it\nwon't work on third party it self.\n\n257\n00:14:31.230 --> 00:14:34.003\nIf you have third party equipment,\nyou gotta have to do things by hand.\n\n258\n00:14:34.003 --> 00:14:37.307\nYou're gonna have to go and manually\ndefine your VLANs on every single switch,\n\n259\n00:14:37.307 --> 00:14:38.554\nso that they're aware then.\n\n260\n00:14:38.554 --> 00:14:40.362\nBut in Cisco LAN, we can turn on VTP.\n\n261\n00:14:40.362 --> 00:14:44.497\nAnd with VTP, the switches will\nstart to talk to each other, and\n\n262\n00:14:44.497 --> 00:14:47.801\nthey'll say hey,\nI know about VLAN 50, do you?\n\n263\n00:14:47.801 --> 00:14:50.952\nAnd the other switch will say no,\nI haven't seen that one.\n\n264\n00:14:50.952 --> 00:14:52.544\nLet me add that to my database,\nand it'll add it.\n\n265\n00:14:52.544 --> 00:14:53.805\nAnd you named it servers?\n\n266\n00:14:53.805 --> 00:14:56.966\nGreat, I wanna it servers too, and it'll\nput it in there and it'll name it, and\n\n267\n00:14:56.966 --> 00:14:58.310\noff it goes.\n\n268\n00:14:58.310 --> 00:15:01.170\nAnd so\nas we add new switches to our environment,\n\n269\n00:15:01.170 --> 00:15:03.260\nwe don't have to go and\ndefine the VLANs everywhere.\n\n270\n00:15:03.260 --> 00:15:07.150\nIt's gonna happen automatically, and if\nyou've got two switches or five switches,\n\n271\n00:15:07.150 --> 00:15:09.370\nit's probably not a big deal.\n\n272\n00:15:09.370 --> 00:15:13.480\nBut if you've 200 or 500 switches, it's\nnice to be able to create a VLAN once.\n\n273\n00:15:13.480 --> 00:15:16.580\nAnd know that it's gonna propagate out\nthrough your entire environment and\n\n274\n00:15:16.580 --> 00:15:18.280\nall your switches will learn.\n\n275\n00:15:18.280 --> 00:15:20.960\nFortunately, VTP's really easy to set up.\n\n276\n00:15:20.960 --> 00:15:24.959\nIn fact, you can normally turn it on and\nget it running with just one command.\n\n277\n00:15:24.959 --> 00:15:26.959\nWith VTP, you have what's called a domain.\n\n278\n00:15:26.959 --> 00:15:29.572\nAnd the domain defines\nyour switch boundary,\n\n279\n00:15:29.572 --> 00:15:33.668\nbecause you might have several\ndifferent departments in your company.\n\n280\n00:15:33.668 --> 00:15:37.608\nAnd maybe just wanna exchange VLAN\ndata with switches in your department.\n\n281\n00:15:37.608 --> 00:15:42.050\nSo you define the VTP domain name,\nand it's a name that you make up.\n\n282\n00:15:42.050 --> 00:15:44.968\nIt doesn't have to be registered like\nan internet domain name or anything,\n\n283\n00:15:44.968 --> 00:15:46.532\na word is normally what you come up with.\n\n284\n00:15:46.532 --> 00:15:53.080\nSo I might create a VTP domain called\nITPro TV, and then on any switch.\n\n285\n00:15:53.080 --> 00:15:56.870\nThat I set with a VTP domain name of\nITProTV, they'll see each other and\n\n286\n00:15:56.870 --> 00:15:58.270\nthey'll start to learn.\n\n287\n00:15:58.270 --> 00:15:59.060\nIt's as simple as that.\n\n288\n00:15:59.060 --> 00:16:00.560\nThat one command will do it.\n\n289\n00:16:00.560 --> 00:16:02.439\nThere's a lot more that we\nmight want to tweak, but\n\n290\n00:16:02.439 --> 00:16:04.592\nthat's the one command that\nwill basically get it set up.\n\n291\n00:16:04.592 --> 00:16:06.807\nNow, key thing to remember about VTP.\n\n292\n00:16:06.807 --> 00:16:12.910\nVTP is convenient, but\nit only works over trunk links.\n\n293\n00:16:12.910 --> 00:16:15.560\nSo, if you don't have trunks,\nVTP doesn't work.\n\n294\n00:16:15.560 --> 00:16:19.540\nIf you're just running standard uplinks,\nif you're uplinking a port on Vlan 1\n\n295\n00:16:19.540 --> 00:16:25.010\nto another port somewhere else on Vlan,\nI think it was this example that I gave.\n\n296\n00:16:25.010 --> 00:16:29.460\nIf we're running dedicated uplinks like\nthis, these are technically access ports,\n\n297\n00:16:29.460 --> 00:16:30.050\nnot trunk ports.\n\n298\n00:16:30.050 --> 00:16:32.040\nThey don't carry more than one vlan, so\n\n299\n00:16:32.040 --> 00:16:35.710\nthis is just the green vlan on this link,\nand just the green vlan on this link.\n\n300\n00:16:35.710 --> 00:16:37.810\nJust the red vlan on these others.\n\n301\n00:16:37.810 --> 00:16:39.040\nVTP won't work.\n\n302\n00:16:39.040 --> 00:16:44.570\nVTP only runs over trunks, so\nin my environment where I have\n\n303\n00:16:44.570 --> 00:16:50.460\nbasically this setup, where I've got\nNYCORE1, NYCORE2, and NYACCESS1.\n\n304\n00:16:50.460 --> 00:16:53.450\nAnd they all have trunks in between them.\n\n305\n00:16:53.450 --> 00:16:58.720\nAs long as I'm trunking, I can turn on VTP\nand they'll start to exchange information.\n\n306\n00:16:58.720 --> 00:17:00.300\nSo let's see that happen.\n\n307\n00:17:00.300 --> 00:17:04.440\nIf I go and\ntake a look at NYCORE2 real quick.\n\n308\n00:17:04.440 --> 00:17:07.570\nLet's just take a quick peek at NYCORE2.\n\n309\n00:17:07.570 --> 00:17:10.072\nOn this one when I do a show vlan brief,\n\n310\n00:17:10.072 --> 00:17:14.063\nright now it nows about VLAN 1\ncuz you always have that one and\n\n311\n00:17:14.063 --> 00:17:18.618\nVLAN 50 because I manually told\nit that VLAN 50 existed, right?\n\n312\n00:17:18.618 --> 00:17:25.881\nBut it doesn't know about 10, 20, 30,\n40 and it doesn't know about VLAN 50.\n\n313\n00:17:25.881 --> 00:17:27.366\nVLAN 50's name.\nIt knows about VLAN 50,\n\n314\n00:17:27.366 --> 00:17:29.540\nit just doesn't know it has a name.\n\n315\n00:17:29.540 --> 00:17:32.920\nRight, so that's what NYCORE2 knows.\n\n316\n00:17:32.920 --> 00:17:37.720\nIt could learn a lot from NYCORE1 if\nthey were exchanging information, okay?\n\n317\n00:17:37.720 --> 00:17:43.990\nIf you run show vtp status, you can see\nwhat VLAN trunking protocol's doing.\n\n318\n00:17:43.990 --> 00:17:47.920\nVTP's actually turned on on\nalmost every single Cisco switch.\n\n319\n00:17:47.920 --> 00:17:50.590\nIt's on, it's just not configured to run.\n\n320\n00:17:50.590 --> 00:17:55.180\nWhen you do show vtp status, you'll see\nthat it's capable of running a couple of\n\n321\n00:17:55.180 --> 00:17:58.900\ndifferent versions and see what it says,\nVTP version running 1.\n\n322\n00:17:58.900 --> 00:18:00.360\nIt's actually running.\n\n323\n00:18:00.360 --> 00:18:01.728\nIt's running in version 1.\n\n324\n00:18:01.728 --> 00:18:05.540\nThere's three different versions of VTP,\nVTP 1, 2 and 3.\n\n325\n00:18:05.540 --> 00:18:06.624\n>> [LAUGH]\n>> I guess that was probably the dumbest\n\n326\n00:18:06.624 --> 00:18:08.100\nthing I'm gonna say this whole episode.\n\n327\n00:18:08.100 --> 00:18:12.538\nBut the three different versions,\nVTP 1 is kind of a default standard,\n\n328\n00:18:12.538 --> 00:18:17.580\nworks on all Cisco equipment, VTP 2\nintroduced the additional VLAN numbers.\n\n329\n00:18:17.580 --> 00:18:22.106\nIn VTP1, you can only do VLANs 1\nthrough 1024, or 1023, I think,\n\n330\n00:18:22.106 --> 00:18:23.730\nis where it cuts off.\n\n331\n00:18:23.730 --> 00:18:28.305\nBut, when you go to VTP version 2 then you\ncan do the higher numbers all the way to\n\n332\n00:18:28.305 --> 00:18:28.830\n4094.\n\n333\n00:18:28.830 --> 00:18:30.000\nIf you're not using the higher numbers,\n\n334\n00:18:30.000 --> 00:18:31.950\nthen there's really no benefit\nof going to version 2.\n\n335\n00:18:31.950 --> 00:18:37.320\nWhen you go to version 3, that's when\nyou can do things like creating enhanced\n\n336\n00:18:37.320 --> 00:18:39.860\nauthentication, your username and\npassword, that kind of settings, and\n\n337\n00:18:39.860 --> 00:18:42.400\nget a little more advanced\nwith it in version 3.\n\n338\n00:18:42.400 --> 00:18:44.550\nBut if you're not worried\nabout those things,\n\n339\n00:18:44.550 --> 00:18:47.820\nthen version 1 is perfectly fine and\nwe can stick with that.\n\n340\n00:18:47.820 --> 00:18:49.590\nSo I'm already running version 1.\n\n341\n00:18:49.590 --> 00:18:52.510\nBut look at VTP domain name, it's empty.\n\n342\n00:18:53.710 --> 00:18:58.000\nWhen you buy a Cisco switch,\nthe VTP domain name is set to null.\n\n343\n00:18:58.000 --> 00:18:59.420\nNull is just another word for empty.\n\n344\n00:18:59.420 --> 00:19:03.580\nAnd that means this switch is\ngonna come up and if somebody else\n\n345\n00:19:03.580 --> 00:19:07.960\nis running VTP with a domain name, we'll\njust learn their domain name and use it.\n\n346\n00:19:07.960 --> 00:19:09.520\nWe'll copy what's in place.\n\n347\n00:19:09.520 --> 00:19:11.430\nSo if you've already got VTP in place,\n\n348\n00:19:11.430 --> 00:19:13.660\nwhen you take that brand-new\nCisco switch out of the box,\n\n349\n00:19:13.660 --> 00:19:18.330\nit'll automatically join VTP and\nit'll automatically learn all your VLANs.\n\n350\n00:19:18.330 --> 00:19:21.750\nBut in my environment,\nI've got three switches.\n\n351\n00:19:21.750 --> 00:19:23.020\nNone of them have VTP configured.\n\n352\n00:19:23.020 --> 00:19:24.440\nThey're all null.\n\n353\n00:19:24.440 --> 00:19:25.750\nAnd so it doesn't work.\n\n354\n00:19:25.750 --> 00:19:28.490\nIt's turned on but\nit's not actually doing anything.\n\n355\n00:19:28.490 --> 00:19:31.590\nI need to give it a domain name\nbefore it can do something.\n\n356\n00:19:31.590 --> 00:19:36.470\nSo, if I go up to NYCORE1,\nI can take this guy and\n\n357\n00:19:36.470 --> 00:19:39.550\nI can give it a VTP domain name.\n\n358\n00:19:39.550 --> 00:19:44.200\nSo, I'm gonna get into my\nconfiguration and I'm gonna type,\n\n359\n00:19:44.200 --> 00:19:46.040\nvtp domain and then I'll give it a name.\n\n360\n00:19:46.040 --> 00:19:48.060\nAnd I'll just do ITProTV, right?\n\n361\n00:19:48.060 --> 00:19:49.960\nYou can do whatever name you want.\n\n362\n00:19:49.960 --> 00:19:51.840\nAnd see how it said it changed.\n\n363\n00:19:51.840 --> 00:19:56.750\nVTP domain name changed from\nNULL to ITProTV, all right?\n\n364\n00:19:56.750 --> 00:19:59.207\nNow that that's done, I'm running VTP.\n\n365\n00:19:59.207 --> 00:20:02.635\nI'm up and\nI'm sharing that information from NYCORE1.\n\n366\n00:20:02.635 --> 00:20:06.325\n>> Now Don, on this VTP domain name,\nis it case sensitive?\n\n367\n00:20:06.325 --> 00:20:08.155\nDo I have to worry about\nthat between switches or\n\n368\n00:20:08.155 --> 00:20:10.675\ncould i actually do\na combination of different ones?\n\n369\n00:20:10.675 --> 00:20:13.215\n>> It is case-sensitive,\nwe do need to have that name match.\n\n370\n00:20:13.215 --> 00:20:16.745\nI did, I probably shouldn't have but I did\nlike capitol I capitol T and so on, so\n\n371\n00:20:16.745 --> 00:20:18.317\nI need to do that everywhere else, right?\n\n372\n00:20:18.317 --> 00:20:19.905\nIt's really a literal programming.\n\n373\n00:20:19.905 --> 00:20:21.650\nIt expects it to be a certain way.\n\n374\n00:20:21.650 --> 00:20:25.060\nSo, in my case I did it this way,\nI'll do the same on the other switches.\n\n375\n00:20:25.060 --> 00:20:28.710\nA lot of times, I'll just use all lower\ncase because it's easier to remember.\n\n376\n00:20:28.710 --> 00:20:30.610\nBut I've defined that name,\n\n377\n00:20:30.610 --> 00:20:34.290\nI've put it in place and\nnow I'm sending out VTP messages every so\n\n378\n00:20:34.290 --> 00:20:39.360\noften to let people know about that\ndomain and to look for neighbors, right?\n\n379\n00:20:39.360 --> 00:20:44.140\nIf I run show vtp status and take a look\nat it now, I can see that I am up and\n\n380\n00:20:44.140 --> 00:20:46.270\nrunning, so I'm up and communicating.\n\n381\n00:20:46.270 --> 00:20:50.790\nAs I look down here, I can see that\nI'm operating in VTP Mode: server,\n\n382\n00:20:50.790 --> 00:20:54.720\nso I'm up and I'm running as VTP and\nI've got a domain name.\n\n383\n00:20:54.720 --> 00:20:58.400\nNow, what about my other switches?\n\n384\n00:20:58.400 --> 00:20:59.720\nWell, if I wait long enough,\n\n385\n00:20:59.720 --> 00:21:01.970\nthe other switches will actually\nlearn this on their own.\n\n386\n00:21:01.970 --> 00:21:06.580\nSo on CORE2 here,\nif I just do a show vtp status, and\n\n387\n00:21:06.580 --> 00:21:11.490\nI run that, see how it's already\nlearned domain name ITProTV?\n\n388\n00:21:11.490 --> 00:21:12.750\nI didn't tell it to do that.\n\n389\n00:21:12.750 --> 00:21:13.990\nI didn't come and configure it.\n\n390\n00:21:13.990 --> 00:21:15.480\nIt was set to null.\n\n391\n00:21:15.480 --> 00:21:17.480\nBecause it was set to null,\nit was just waiting for\n\n392\n00:21:17.480 --> 00:21:20.260\nsomebody else to announce a name and\nnow we've learned it.\n\n393\n00:21:20.260 --> 00:21:21.010\nI may not want that.\n\n394\n00:21:21.010 --> 00:21:24.520\nI may want this to be on a different\ndomain and if that's the case, I need to\n\n395\n00:21:24.520 --> 00:21:27.300\ncome in here and change that domain\nname and now it'll be a separate one.\n\n396\n00:21:27.300 --> 00:21:28.330\nBut otherwise it's learned it.\n\n397\n00:21:28.330 --> 00:21:32.000\nAnd my other switch,\nassuming that it's got a valid trunk,\n\n398\n00:21:32.000 --> 00:21:34.120\nright, cuz remember this\nall runs over trunks, so\n\n399\n00:21:34.120 --> 00:21:38.200\nassuming this guy has a valid trunk,\nthen it should have learned it, too.\n\n400\n00:21:38.200 --> 00:21:41.210\nAnd earlier my trunk didn't come up, so\nwe may not have a valid trunk on this one.\n\n401\n00:21:41.210 --> 00:21:42.780\nSo we'll find out right here.\n\n402\n00:21:42.780 --> 00:21:47.250\nIf I do a show vtp status,\nit did learn it, ITProTV.\n\n403\n00:21:47.250 --> 00:21:48.680\nI said we didn't have a valid trunk.\n\n404\n00:21:48.680 --> 00:21:50.470\nI probably just didn't wait long enough.\n\n405\n00:21:50.470 --> 00:21:51.890\nI am an impatient person.\n\n406\n00:21:51.890 --> 00:21:56.130\nSo if I do a show interfaces trunk,\nwe should that that trunk is up, and\n\n407\n00:21:56.130 --> 00:21:56.990\nit is, there we go.\n\n408\n00:21:56.990 --> 00:21:58.290\nAll right, so it's looking okay on here.\n\n409\n00:21:59.740 --> 00:22:04.330\nAll right, so now we're running VTP,\nwhat does that mean?\n\n410\n00:22:04.330 --> 00:22:07.150\nWell, it means that each of our switches\nshould be learning the VLANs and\n\n411\n00:22:07.150 --> 00:22:08.362\nwe kind of already see it here.\n\n412\n00:22:08.362 --> 00:22:11.836\nI haven't used NYACCESS1 one this episode.\n\n413\n00:22:11.836 --> 00:22:16.290\nIt's now go5 5 VLANs, 10,\n20, 30, 40, 50 in VLAN 1.\n\n414\n00:22:16.290 --> 00:22:20.882\nLet's look at ACCESS2 or\nCORE2 is the one I was using earlier.\n\n415\n00:22:20.882 --> 00:22:26.660\nNow in CORE2 earlier when I did a show\nvlan brief, it only had VLAN1 and 50.\n\n416\n00:22:26.660 --> 00:22:28.550\nAnd 50 didn't have a name.\n\n417\n00:22:28.550 --> 00:22:31.440\nWell, now,\nI'm gonna start learning from the network.\n\n418\n00:22:31.440 --> 00:22:34.826\nAnd when I learn from the network,\nwe should see some new stuff pop up.\n\n419\n00:22:34.826 --> 00:22:40.371\nSo if I get in here and\ndo a show vlan brief, and I run that,\n\n420\n00:22:40.371 --> 00:22:46.857\nnow I've got VLAN 10, 20,\n30, 40 and 50 has its name.\n\n421\n00:22:46.857 --> 00:22:49.594\nNotice my ports are still\nassigned just like they were.\n\n422\n00:22:49.594 --> 00:22:51.161\nThis has nothing to do with\nport assignments, right?\n\n423\n00:22:51.161 --> 00:22:54.710\nSo it doesn't mess with any of that but\nnow, the VLAN has its name.\n\n424\n00:22:54.710 --> 00:22:59.170\nWe're now synchronizing our VLAN\ndatabase between the switches, and\n\n425\n00:22:59.170 --> 00:23:00.200\nthey're learning.\n\n426\n00:23:00.200 --> 00:23:03.850\nAnd now when I create a new VLAN, I create\nit in one place, and everybody else just\n\n427\n00:23:03.850 --> 00:23:08.590\nlearns it, and it makes life a lot easier,\nassuming you have all Cisco equipment.\n\n428\n00:23:08.590 --> 00:23:10.370\nVTP is Cisco proprietary.\n\n429\n00:23:10.370 --> 00:23:12.930\nI'm not familiar with any third\nparties that support VTP.\n\n430\n00:23:12.930 --> 00:23:15.330\nThey'd have to license it from Cisco.\n\n431\n00:23:15.330 --> 00:23:17.130\nI don't know anybody that's done that.\n\n432\n00:23:17.130 --> 00:23:21.580\nSome other vendors have similar\ntechnologies, but VTP is a Cisco thing.\n\n433\n00:23:21.580 --> 00:23:23.390\nNow once those are created, I'm done.\n\n434\n00:23:23.390 --> 00:23:27.830\nI can kick back, I can walk away, and in\nthe future, anytime I need to create a new\n\n435\n00:23:27.830 --> 00:23:31.330\nVLAN, I just go to one switch and\ncreate it, and it'll learn on the others.\n\n436\n00:23:31.330 --> 00:23:34.800\nSo for example, if I go here to CORE1 and\n\n437\n00:23:34.800 --> 00:23:39.190\nI get into configuration,\nand I say VLAN 60, right?\n\n438\n00:23:39.190 --> 00:23:44.050\nMaybe this is gonna be my research VLAN,\nso I give it a name like Research, right?\n\n439\n00:23:44.050 --> 00:23:47.310\nSo now I have VLAN 60, and it's Research.\n\n440\n00:23:47.310 --> 00:23:52.079\nWell, that's been created,\nand if I wait patiently,\n\n441\n00:23:52.079 --> 00:23:56.442\nand then jump over to\nanother switch like this one,\n\n442\n00:23:56.442 --> 00:24:02.620\nI can do a Show VLAN brief, and\neventually, VLAN 60 will show up.\n\n443\n00:24:02.620 --> 00:24:04.643\nNow I lucked out here, and\nit was pretty fast, right?\n\n444\n00:24:04.643 --> 00:24:06.289\nThere's VLAN 60 called research.\n\n445\n00:24:06.289 --> 00:24:09.608\nVTP works on these little\nbroadcasts that it sends out and\n\n446\n00:24:09.608 --> 00:24:11.900\nthere is a timer associated with them.\n\n447\n00:24:11.900 --> 00:24:14.130\nAnd I think the timer's 30\nseconds by default, but\n\n448\n00:24:14.130 --> 00:24:15.740\nevery 30 seconds it sends out a message.\n\n449\n00:24:15.740 --> 00:24:17.890\nIt could be 10 seconds, so\ndon't quote me on that one.\n\n450\n00:24:17.890 --> 00:24:21.550\nBut that means you might have to wait\na moment before those VLANs show up.\n\n451\n00:24:21.550 --> 00:24:23.200\nAnd if your network is really big,\n\n452\n00:24:23.200 --> 00:24:27.105\nyou might have to go switch to switch\nto switch to switch, leapfrog style.\n\n453\n00:24:27.105 --> 00:24:29.800\nBecause you might have to go five switches\ndeep before you can finally get there, so\n\n454\n00:24:29.800 --> 00:24:30.910\nthat could take even longer.\n\n455\n00:24:30.910 --> 00:24:34.350\nIt could potentially be 30 seconds\neach hop to let that propagate out.\n\n456\n00:24:34.350 --> 00:24:37.783\nSo when you create a VLAN, you might need\nto just sit back and wait a few minutes,\n\n457\n00:24:37.783 --> 00:24:40.821\njust to make sure everybody learns\nabout it before you start using it.\n\n458\n00:24:40.821 --> 00:24:45.019\n>> Now, Don, I've been on a network,\nin which we've had multiple switches, and\n\n459\n00:24:45.019 --> 00:24:48.411\nI tried to do what you just did,\nwhich was to go to that switch, and\n\n460\n00:24:48.411 --> 00:24:49.677\ntried to create a VLAN.\n\n461\n00:24:49.677 --> 00:24:52.180\nAnd it told me I wasn't able to do so,\nwhat's going on there?\n\n462\n00:24:52.180 --> 00:24:56.730\n>> All right, so what I've done right here\nis a 100% complete default configuration,\n\n463\n00:24:56.730 --> 00:24:58.550\nso everything behaves very nicely, right?\n\n464\n00:24:58.550 --> 00:25:01.690\nBut what Ronnie's talking about is\na configuration that's moved beyond\n\n465\n00:25:01.690 --> 00:25:02.380\nthe defaults, right?\n\n466\n00:25:02.380 --> 00:25:04.850\nThere's a lot more to VCP than\njust a domain name, right?\n\n467\n00:25:04.850 --> 00:25:06.920\nAll I configured was just the domain name,\nright?\n\n468\n00:25:06.920 --> 00:25:08.450\nBut if we do a show VTPstatus,\n\n469\n00:25:08.450 --> 00:25:11.860\nyou'll see there's a bunch of other\nthings that we can kind of tweak.\n\n470\n00:25:11.860 --> 00:25:15.360\nI mentioned the version number, right.\n\n471\n00:25:15.360 --> 00:25:19.570\nYou could actually come in and\nsay VTP version 2, VTP version 3, and\n\n472\n00:25:19.570 --> 00:25:21.122\nchange to those other version modes.\n\n473\n00:25:21.122 --> 00:25:23.840\nAnd that'll impact whether or\nnot you're able to exchange data.\n\n474\n00:25:23.840 --> 00:25:27.220\nFor example, if you go to VTP version 3,\n\n475\n00:25:27.220 --> 00:25:30.990\nthere's only one server where\nyou can configure the VLAN.\n\n476\n00:25:30.990 --> 00:25:35.350\nAnd everywhere else,\nyou're kind of a read-only mode, right?\n\n477\n00:25:35.350 --> 00:25:37.080\nYou won't be allowed to create VLANs.\n\n478\n00:25:37.080 --> 00:25:41.130\nIn VTB version 1, we can create the same\nthing by setting up servers and\n\n479\n00:25:41.130 --> 00:25:43.690\nclients, which we'll see in just a moment.\n\n480\n00:25:43.690 --> 00:25:44.970\nWe've got the domain name.\n\n481\n00:25:44.970 --> 00:25:47.170\nThe pruning mode I'll talk\nabout a little later.\n\n482\n00:25:47.170 --> 00:25:51.810\nVTP traps generation, anytime there's\na change in VTP, we might wanna send SNMP\n\n483\n00:25:51.810 --> 00:25:57.650\ntraps to a simple network\nmanagement protocol server.\n\n484\n00:25:57.650 --> 00:26:01.110\nThat's keeping track of all of our logs,\nso you can generate those log messengers.\n\n485\n00:26:01.110 --> 00:26:03.840\nGot my device ID and\nwhen it was last modified.\n\n486\n00:26:03.840 --> 00:26:07.080\nBut right here,\nI've got my VTP Operating Mode.\n\n487\n00:26:07.080 --> 00:26:12.550\nRight now, I'm a server, a server is\nallowed to create and learn VLANs.\n\n488\n00:26:12.550 --> 00:26:15.600\nSo I can make VLANs right here and\nI'll teach other people about them or\n\n489\n00:26:15.600 --> 00:26:17.420\nI can learn from other people,\nI can do both.\n\n490\n00:26:17.420 --> 00:26:20.580\nBut there's two other modes\nthat I can pick from.\n\n491\n00:26:20.580 --> 00:26:24.350\nAnother mode is I can say,\nclient, VTP mode client.\n\n492\n00:26:24.350 --> 00:26:28.260\nAnd when you're in client\nmode you can learn VLANs, but\n\n493\n00:26:28.260 --> 00:26:31.380\nyou can't create them yourself, all right?\n\n494\n00:26:31.380 --> 00:26:33.860\nNow, why would I want that,\nwhy would I want to stop creation?\n\n495\n00:26:33.860 --> 00:26:36.840\nWell, let's say you have\nfive network admins and\n\n496\n00:26:36.840 --> 00:26:38.882\nyou've got a network of 200 switches.\n\n497\n00:26:38.882 --> 00:26:41.330\nWell, let's say Ronnie and I are admins,\n\n498\n00:26:41.330 --> 00:26:45.340\nso Ronnie logs into one switch and\nhe creates VLAN 70.\n\n499\n00:26:45.340 --> 00:26:48.240\nI log into another switch and\nI create VLAN 70.\n\n500\n00:26:48.240 --> 00:26:51.090\nWe don't see each other's because\nwe're doing it at the same time.\n\n501\n00:26:51.090 --> 00:26:56.090\nWe both create vlan 70, thinking that\nit's brand new, that we're creating it,\n\n502\n00:26:56.090 --> 00:26:59.370\nand maybe I put some sensitive\nsecurity stuff on mine.\n\n503\n00:26:59.370 --> 00:27:01.940\nMeanwhile, Ronnie is setting up\na guest wireless network, for\n\n504\n00:27:01.940 --> 00:27:03.670\njust anybody to access that's pubic.\n\n505\n00:27:03.670 --> 00:27:07.130\nWell, the VLAN I just creating\nthinking it was secure, is now public,\n\n506\n00:27:07.130 --> 00:27:08.045\ninadvertently, right?\n\n507\n00:27:08.045 --> 00:27:10.200\nBecause we both did it at the same time,\nright?\n\n508\n00:27:10.200 --> 00:27:14.930\nBut, If we had required those VLANs only\nbe created from a server and we designate\n\n509\n00:27:14.930 --> 00:27:18.450\none server, then Ronnie and I would\nhave to be logged into the same switch.\n\n510\n00:27:18.450 --> 00:27:22.130\nWhich means we'll be able to see each\nother, we'd know we were in there, right?\n\n511\n00:27:22.130 --> 00:27:24.990\nAnd once you can do that, I can say,\nwait, Ronnie's doing something.\n\n512\n00:27:24.990 --> 00:27:29.620\nOr if Ronnie creates VLAN 70, I'll see\nthat on my screen that VLAN 70 now exists,\n\n513\n00:27:29.620 --> 00:27:30.800\nand it's immediate.\n\n514\n00:27:30.800 --> 00:27:32.943\nSo it avoids conflicts like that.\n\n515\n00:27:32.943 --> 00:27:36.569\nIf you're the sole network\nadministrator for your entire company,\n\n516\n00:27:36.569 --> 00:27:37.636\nyou might not care.\n\n517\n00:27:37.636 --> 00:27:40.940\nYou might just leave ' all servers and\nyou can create VLANs anywhere you want.\n\n518\n00:27:40.940 --> 00:27:43.141\nBut if you got more\nthan one network admin,\n\n519\n00:27:43.141 --> 00:27:45.907\nit's a good idea to have just one server,\nall right?\n\n520\n00:27:45.907 --> 00:27:49.318\nI know some of you are thinking right now,\nwell, if I just have one server,\n\n521\n00:27:49.318 --> 00:27:51.880\nwhat happens if that server fails, right?\n\n522\n00:27:51.880 --> 00:27:55.090\nWell, you can't create VLANs for a moment.\n\n523\n00:27:55.090 --> 00:27:58.210\nYou just go to any of your clients and\nyou can promote any client up to a server,\n\n524\n00:27:58.210 --> 00:27:58.980\nit's a simple command.\n\n525\n00:28:00.015 --> 00:28:02.335\nVTP mode client that makes you a client,\n\n526\n00:28:02.335 --> 00:28:04.387\nVTP mode server now you're a server,\nright?\n\n527\n00:28:04.387 --> 00:28:07.005\nSo it's really easy to change,\nno reason to block that one.\n\n528\n00:28:07.005 --> 00:28:10.785\nYou don't need to set up redundant servers\nor back up plans or anything like that.\n\n529\n00:28:10.785 --> 00:28:13.225\nAny client can become a server and\nin theory,\n\n530\n00:28:13.225 --> 00:28:16.275\nas long as your network is healthy they'll\nall have the same database, right?\n\n531\n00:28:16.275 --> 00:28:18.525\nThey're all exchanging the VLAN database.\n\n532\n00:28:18.525 --> 00:28:21.111\nSo they should all have\nan identical database and\n\n533\n00:28:21.111 --> 00:28:24.278\nthat means we can promote any\nclient to become that server.\n\n534\n00:28:24.278 --> 00:28:28.420\nAll right, so let's see that here,\non NYCORE2, right now I'm a server.\n\n535\n00:28:28.420 --> 00:28:32.233\nI'm gonna say,\nwell let me into configuration, and\n\n536\n00:28:32.233 --> 00:28:35.700\nthen I'll say vtp mode client, all right?\n\n537\n00:28:35.700 --> 00:28:40.160\nWhen I become a client now it says setting\ndevice for VTP client mode for VLANS.\n\n538\n00:28:40.160 --> 00:28:44.800\nAnd if I do a show VTP status,\nwhat I'm gonna see in here is\n\n539\n00:28:44.800 --> 00:28:48.950\nthat my mode has now magically changed,\nso tht I'm a client.\n\n540\n00:28:48.950 --> 00:28:53.413\nAnd as a client,\nif I go in to my configuration,\n\n541\n00:28:53.413 --> 00:28:57.776\nI can type VLAN 70 and\nI get an error, right?\n\n542\n00:28:57.776 --> 00:29:01.899\nVTP vlan configuration not allowed\nwhen device is in CLIENT mode,\n\n543\n00:29:01.899 --> 00:29:03.880\nI can't create vlans.\n\n544\n00:29:03.880 --> 00:29:07.950\nI can go and create it on the server,\nand then have you learned here, right?\n\n545\n00:29:07.950 --> 00:29:14.380\nSo I can just jump over to CORE1, and on\nCORE1, I can jump into my configuration.\n\n546\n00:29:14.380 --> 00:29:21.420\nI can say vlan 70, I can give it a name,\nmaybe this one is Development, all right?\n\n547\n00:29:21.420 --> 00:29:24.120\nAnd I can do all that\nup here on the server.\n\n548\n00:29:24.120 --> 00:29:26.010\nAnd now when I come down\nhere to the client,\n\n549\n00:29:26.010 --> 00:29:27.780\nit wasn't able to create it, right?\n\n550\n00:29:27.780 --> 00:29:32.290\nBecause it was in client mode, but it\nwill learn it just fine and we'll get it.\n\n551\n00:29:32.290 --> 00:29:36.940\nSo it's basically got a read-only\ncopy of the VLAN database.\n\n552\n00:29:36.940 --> 00:29:37.570\nTo an extent, right?\n\n553\n00:29:37.570 --> 00:29:39.040\nBecause we can still learn and add to it.\n\n554\n00:29:40.470 --> 00:29:42.310\nNormally what we do is we go\nthrough our entire network and\n\n555\n00:29:42.310 --> 00:29:46.200\nwe set all of our switches to be\nclients and we set one to be a server.\n\n556\n00:29:46.200 --> 00:29:47.310\nUsually your biggest switch or\n\n557\n00:29:47.310 --> 00:29:49.710\nwhoever's in the core that's\na good one to make as your server.\n\n558\n00:29:50.750 --> 00:29:53.020\nThere is one other mode\nthat's worth mentioning and\n\n559\n00:29:53.020 --> 00:29:55.690\nthat's VTP mode transparent.\n\n560\n00:29:55.690 --> 00:30:00.550\nNormally, what happens with our switches,\nlet me get back to my diagram,\n\n561\n00:30:00.550 --> 00:30:03.340\nis that if I create a VLAN\nup here on my core.\n\n562\n00:30:03.340 --> 00:30:07.263\nIt sends that out along the trunks as\nan advertisement to the other switches and\n\n563\n00:30:07.263 --> 00:30:09.900\nthey learn it and they benefit, right?\n\n564\n00:30:09.900 --> 00:30:14.760\nBut let's say I had a tiered model,\nsomething a little more like this.\n\n565\n00:30:14.760 --> 00:30:17.710\nWhere my servers up here at the top and\n\n566\n00:30:17.710 --> 00:30:20.360\nit sends a message out down\nto this switch over here.\n\n567\n00:30:20.360 --> 00:30:22.850\nThis switch is gonna receive that\nvtp message, it's going to learn it.\n\n568\n00:30:22.850 --> 00:30:26.960\nAnd then it's going to send it along\nto this other switch over here, right?\n\n569\n00:30:26.960 --> 00:30:29.820\nSo it's relaying that message.\n\n570\n00:30:29.820 --> 00:30:33.430\nWell, any VTP server and\nany VTP client will do that,\n\n571\n00:30:33.430 --> 00:30:35.860\nthey'll relay the VTP messages.\n\n572\n00:30:35.860 --> 00:30:40.340\nBut what if I've got this one\nset up as like a DMZ switch and\n\n573\n00:30:40.340 --> 00:30:42.700\nI don't want it to be a part of VTP?\n\n574\n00:30:42.700 --> 00:30:45.500\nWell, I could turn off VTP on it,\nI could disable VTP.\n\n575\n00:30:45.500 --> 00:30:50.530\nAnd if I do that, now any VTP message that\ncomes along here, I'm just going to drop.\n\n576\n00:30:51.790 --> 00:30:54.440\nWell, that means they never get\nrelayed to this switch down here and\n\n577\n00:30:54.440 --> 00:30:55.630\nthat's a problem.\n\n578\n00:30:55.630 --> 00:30:57.700\nSo instead of disabling VTP,\n\n579\n00:30:57.700 --> 00:31:02.600\nwhat's better to do is to put this switch\nin what's called VTP transparent mode.\n\n580\n00:31:02.600 --> 00:31:05.930\nTransparent mode says if\nI receive a VTP message,\n\n581\n00:31:05.930 --> 00:31:09.230\nI'm gonna ignore,\nbecause I don't wanna participate in VTP.\n\n582\n00:31:09.230 --> 00:31:12.860\nBut I'll still forward it along\nto other switches because\n\n583\n00:31:12.860 --> 00:31:14.350\nthey might not want to ignore it.\n\n584\n00:31:14.350 --> 00:31:17.740\nThey may care about it and now I'm gonna\nforward it along to allow them to have it.\n\n585\n00:31:17.740 --> 00:31:23.430\nSo VTP transparent mode is\nthe equivalent of disabling VTP,\n\n586\n00:31:23.430 --> 00:31:26.570\nbut at the same time,\nnot breaking VTP for everybody else.\n\n587\n00:31:26.570 --> 00:31:29.060\nIt's the cleaner,\nsafer way to take care of that.\n\n588\n00:31:29.060 --> 00:31:33.920\nSo to do that, all we have to do Is jump\n\n589\n00:31:33.920 --> 00:31:37.320\nover to our switch that's in question,\nso maybe I'll take ACCESS1 down here.\n\n590\n00:31:38.720 --> 00:31:42.971\nMaybe ACCESS1 is gonna be in my DMZ, and\nso I don't want all my VLANs out there.\n\n591\n00:31:42.971 --> 00:31:46.908\nI don't want a hacker to potentially\ntry and seize VLAN traffic or\n\n592\n00:31:46.908 --> 00:31:51.131\nsomething like that, so I jump in here and\nget in the configuration and\n\n593\n00:31:51.131 --> 00:31:53.580\nI say VTP mode transparent, all right?\n\n594\n00:31:53.580 --> 00:31:58.307\nWhen I go into transparent mode,\nI'm no longer going to pay attention to\n\n595\n00:31:58.307 --> 00:32:03.720\nthe V-data that comes in and I'm just\ngoing to forward it along to other people.\n\n596\n00:32:03.720 --> 00:32:06.290\nSo if I do a show vlan brief,\n\n597\n00:32:06.290 --> 00:32:10.980\nwell, when I look at my VLAN database,\nall the VLANs are still there, right?\n\n598\n00:32:10.980 --> 00:32:12.900\nWell, that's because I've\nalready processed them,\n\n599\n00:32:12.900 --> 00:32:16.140\nthey're already a part\nof my VLAN database.\n\n600\n00:32:16.140 --> 00:32:18.830\nBut if I were to flush out\nthis VLAN database and\n\n601\n00:32:18.830 --> 00:32:23.780\nbring my system back up as transparent,\nit wouldn't know about these VLANs.\n\n602\n00:32:23.780 --> 00:32:28.073\nIn fact, if I just go up to CORE1,\n\n603\n00:32:28.073 --> 00:32:33.301\nand let me get into Configuration,\nand I'll create a vlan 80.\n\n604\n00:32:33.301 --> 00:32:38.160\nAnd I'll give it a name of,\nthis will be my Executive Network, right?\n\n605\n00:32:38.160 --> 00:32:39.410\nSo now I've got vlan 80.\n\n606\n00:32:39.410 --> 00:32:44.260\nThat vtp message is gonna go out,\nand CORE2 should receive it.\n\n607\n00:32:44.260 --> 00:32:48.824\nSo on CORE2, if I do a show vlan brief,\nvlan 80 should turn up pretty quick,\n\n608\n00:32:48.824 --> 00:32:50.775\nthere it is, good old vlan 80.\n\n609\n00:32:50.775 --> 00:32:56.625\nAnd then if I go down to ACCESS1,\nwell, let's see if it gets vlan 80.\n\n610\n00:32:56.625 --> 00:32:59.730\nAnd when I look there it goes.\n\n611\n00:32:59.730 --> 00:33:00.580\nNo vlan 80.\n\n612\n00:33:00.580 --> 00:33:04.550\nSo as of now,\nI'm no longer learning anymore VLANs.\n\n613\n00:33:04.550 --> 00:33:07.330\nBut what about all these that I learned,\nalready?\n\n614\n00:33:07.330 --> 00:33:09.199\nWell I got two choices\nabout what I wanna do.\n\n615\n00:33:09.199 --> 00:33:13.480\nOne, I could go through and\ndelete each one of these individually.\n\n616\n00:33:13.480 --> 00:33:17.050\nI could go in and do a no vlan 10,\nno vlan 20, no vlan 30.\n\n617\n00:33:17.050 --> 00:33:18.840\nAll right, that'll get rid of them.\n\n618\n00:33:18.840 --> 00:33:21.660\nOr, I could delete my vlan database.\n\n619\n00:33:21.660 --> 00:33:25.278\nI could delete the vlan database and\nthen reboot, and when the switch reboots,\n\n620\n00:33:25.278 --> 00:33:28.960\nit'll create a new empty database, and\nnow I won't know about them all right?\n\n621\n00:33:28.960 --> 00:33:30.380\nOne little problem with that.\n\n622\n00:33:30.380 --> 00:33:34.800\nIf I delete the vlan database,\nand then I reboot this switch\n\n623\n00:33:34.800 --> 00:33:38.524\nmy VTP domain name is going to be\nnull again, and what's gonna happen?\n\n624\n00:33:38.524 --> 00:33:42.260\nI'm gonna learn the other guy's and I'm\ngonna bring their stuff right back in and\n\n625\n00:33:42.260 --> 00:33:43.550\nget put right back in place.\n\n626\n00:33:43.550 --> 00:33:47.280\nSo, I really need to go through and\ndo a no vlan blah blah blah,\n\n627\n00:33:47.280 --> 00:33:51.290\nor when I boot it back up, I need to\nmake sure my trunks are shut down, and\n\n628\n00:33:51.290 --> 00:33:53.870\nthat way I won't get the VTP messages and\nlearn them.\n\n629\n00:33:53.870 --> 00:33:57.490\nPut myself in VTP transparent mode,\nand now I'll be nice and clean, and\n\n630\n00:33:57.490 --> 00:34:01.830\nanything else that I receive I'll\njust forward along, all right.\n\n631\n00:34:01.830 --> 00:34:04.720\nThat's pretty much all that\nwe need to know about VTP.\n\n632\n00:34:04.720 --> 00:34:07.756\nThere's a few other settings, if you poke\naround with it like we can set a VTP\n\n633\n00:34:07.756 --> 00:34:10.390\npassword, if we wanna require\nswitches to authenticate.\n\n634\n00:34:10.390 --> 00:34:13.990\nYou just say VTP password, followed by\nwhatever you want that password to be.\n\n635\n00:34:13.990 --> 00:34:15.760\nEvery switch would have\nto have that password.\n\n636\n00:34:15.760 --> 00:34:18.240\nIf they didn't, then they wouldn't\nbe able to get the vlans,\n\n637\n00:34:18.240 --> 00:34:19.890\nthey wouldn't be able to participate.\n\n638\n00:34:19.890 --> 00:34:23.180\nSo, the key take aways here,\nwe've got the different client modes,\n\n639\n00:34:23.180 --> 00:34:28.450\nthe client server and so on, and\nthen we've got the version numbers and\n\n640\n00:34:28.450 --> 00:34:31.030\npasswords, those things\nthat are kind of optional.\n\n641\n00:34:31.030 --> 00:34:34.190\nRemember that setting a domain name\nis really what turns all this on.\n\n642\n00:34:34.190 --> 00:34:37.380\nSo at a minimum,\nyou gotta set a VTP domain name.\n\n643\n00:34:37.380 --> 00:34:39.260\nAfter that,\nthe client-server transparent mode, and\n\n644\n00:34:39.260 --> 00:34:44.060\nthat's kind of optional, that's just for\ntweaking and optimizing your environment.\n\n645\n00:34:44.060 --> 00:34:47.050\nRonnie, there's one more thing that I\ndidn't get to which is VLAN pruning,\n\n646\n00:34:47.050 --> 00:34:48.799\nI think we're gonna have\nto go on a Part Four.\n\n647\n00:34:48.799 --> 00:34:49.584\n>> [LAUGH]\n>> I hate to do it,\n\n648\n00:34:49.584 --> 00:34:52.587\nbut we need to go onto a part four\nbecause I need to show VTP or VLAN\n\n649\n00:34:52.587 --> 00:34:56.520\npruning which lets us optimize our network\na little bit to make it more efficient.\n\n650\n00:34:56.520 --> 00:34:58.860\nSo let's let's tackle\nthat in the next episode.\n\n651\n00:34:58.860 --> 00:35:03.260\n>> It sounds great so we're gonna\ncontinue on to part four with our VLANs.\n\n652\n00:35:03.260 --> 00:35:05.310\nRemember that what we've taken\na look at here today, right,\n\n653\n00:35:05.310 --> 00:35:08.190\nis really the idea of learning\nabout that VLAN database and\n\n654\n00:35:08.190 --> 00:35:13.085\nthose VTP, VLAN trunking protocol,\nI can't remember,\n\n655\n00:35:13.085 --> 00:35:17.085\nI was about to say virtual trunking\nprotocol, but VLAN trunking protocol.\n\n656\n00:35:17.085 --> 00:35:20.073\nTake a look at those configurations and\nunderstand those different modes.\n\n657\n00:35:20.073 --> 00:35:23.265\nThose are gonna be key for\nyou as you're getting ready for the exam.\n\n658\n00:35:23.265 --> 00:35:27.660\nSpeed and accuracy, again, is key to you\nbeing successful on the exam as well.\n\n659\n00:35:27.660 --> 00:35:30.390\nSo make sure you can configure\nthem quickly, make sure you can\n\n660\n00:35:30.390 --> 00:35:33.600\nactually take a look at some of these\nshow commands that Don also showed you,\n\n661\n00:35:33.600 --> 00:35:38.380\nthat show VTP status as the best command\nthat you're actually gonna end up using,\n\n662\n00:35:38.380 --> 00:35:41.725\nespecially when you're\ntroubleshooting with the VTP.\n\n663\n00:35:41.725 --> 00:35:44.655\nWell, that's a great place for\nus to also end this episode then.\n\n664\n00:35:44.655 --> 00:35:48.275\nSigning off for ITProTV,\nI've been your host, Ronnie Wong.\n\n665\n00:35:48.275 --> 00:35:49.335\n>> And I'm Don Pezet.\n\n666\n00:35:49.335 --> 00:35:52.892\n>> Stay tuned right here for\nmore CCENT episodes.\n\n667\n00:35:52.892 --> 00:36:00.970\n[MUSIC]\n\n",
          "vimeoId": "174809879"
        },
        {
          "description": "In this episode, Ronnie and Don continue to show how to work with multiple switches and multiple VLANs efficiently.  They introduce the idea of VTP pruning.  They show how this prevents sending VLAN traffic to switches that do not have any active ports in those VLANs.  The guys take  a moment to explain how this optimizes bandwidth usage across trunk links.",
          "length": "1716",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-2-2-4-vlans_pt.4-071116-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-2-2-4-vlans_pt.4-071116-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-2-2-4-vlans_pt.4-071116-1-sm.jpg",
          "title": "VLANs Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.005 --> 00:00:10.005\n[MUSIC]\n\n2\n00:00:12.235 --> 00:00:12.884\nWelcome to another great\nepisode right here on ITProTV.\n\n3\n00:00:15.560 --> 00:00:17.200\nI'm your host, Ronnie Wong, and\n\n4\n00:00:17.200 --> 00:00:21.270\nwe are continuing on with\nsome Cisco CCENT episodes.\n\n5\n00:00:21.270 --> 00:00:24.710\nAnd we're in the middle of LAN switching\ntechnologies, specifically going into,\n\n6\n00:00:24.710 --> 00:00:26.320\nwell, a part four.\n\n7\n00:00:26.320 --> 00:00:28.115\nNot exactly unprecedented for us.\n\n8\n00:00:28.115 --> 00:00:30.180\n>> [LAUGH]\n>> But it is actually getting as long as\n\n9\n00:00:30.180 --> 00:00:32.460\nsome of the movie series that\nyou've been watching here.\n\n10\n00:00:32.460 --> 00:00:35.880\nBack with us though is gonna be Mr.\nDon Pezet, as we continue on with VLANs.\n\n11\n00:00:35.880 --> 00:00:36.621\nWelcome back, Don.\n\n12\n00:00:36.621 --> 00:00:39.878\n>> All right, Ronnie, well, I hope\nwe don't jump the shark on this one.\n\n13\n00:00:39.878 --> 00:00:42.330\n>> Aw [LAUGH].\n>> We covered a lot of VLAN technologies.\n\n14\n00:00:42.330 --> 00:00:45.260\nAnd there was just one topic that\nwe didn't get to that I really\n\n15\n00:00:45.260 --> 00:00:47.760\nwanted to make sure that we covered,\nand that's VLAN pruning.\n\n16\n00:00:47.760 --> 00:00:49.680\nI know I've thrown that\nword out a few times.\n\n17\n00:00:49.680 --> 00:00:53.160\nWe haven't really talked\nabout what it is and\n\n18\n00:00:53.160 --> 00:00:54.940\nhow it is gonna take\neffect in our environment.\n\n19\n00:00:54.940 --> 00:00:58.147\nSo I wanna build on the environment\nthat we built in the last episode,\n\n20\n00:00:58.147 --> 00:01:01.870\nand show you guys how VLAN pruning works\nand the different ways that we can do it.\n\n21\n00:01:01.870 --> 00:01:04.830\nCuz there is more than one way,\nof course that makes sense.\n\n22\n00:01:04.830 --> 00:01:07.500\nSo let me just show you guys\nthis example right here.\n\n23\n00:01:07.500 --> 00:01:11.670\nIn this example, I've got a core switch\nwith a red and a light blue VLAN.\n\n24\n00:01:12.720 --> 00:01:17.050\nNow by default, these network cables here,\nthese trunk links,\n\n25\n00:01:17.050 --> 00:01:21.380\nare going to be carrying that traffic for\nthe red and the light blue VLAN.\n\n26\n00:01:21.380 --> 00:01:23.230\nBut if you look down here at this switch,\n\n27\n00:01:23.230 --> 00:01:26.850\nthis switch at the bottom left\nis entirely in the green VLAN.\n\n28\n00:01:26.850 --> 00:01:30.280\nSo, what's it gonna do with the red and\nthe blue traffic?\n\n29\n00:01:30.280 --> 00:01:31.410\nIt's gonna throw it out, right?\n\n30\n00:01:31.410 --> 00:01:32.700\nThere's no extra trunk here.\n\n31\n00:01:32.700 --> 00:01:34.564\nThere's one way in and\none way out of this switch.\n\n32\n00:01:34.564 --> 00:01:38.980\nSo if this switch has no red or\nblue ports, it doesn't need the traffic.\n\n33\n00:01:38.980 --> 00:01:40.400\nBut it's too late at that point.\n\n34\n00:01:40.400 --> 00:01:44.050\nThe traffic's already made it down\nto the switch, but we throw it out.\n\n35\n00:01:44.050 --> 00:01:47.360\nWhat that means is that we're\nwasting bandwidth, right?\n\n36\n00:01:47.360 --> 00:01:50.940\nThis green VLAN does need to\ncommunicate over this link, but\n\n37\n00:01:50.940 --> 00:01:54.090\nnow it's sharing the bandwidth\nwith the red and the blue.\n\n38\n00:01:54.090 --> 00:01:57.750\nWouldn't it be nice if this\nswitch could say hey, look guys,\n\n39\n00:01:57.750 --> 00:02:03.200\nI've only got ports on the green VLAN,\nso don't send me red and blue stuff.\n\n40\n00:02:03.200 --> 00:02:07.380\nIf the switch up here, my core switch,\nif it knew not to send red and\n\n41\n00:02:07.380 --> 00:02:09.310\nblue traffic over this link,\nit could stop that.\n\n42\n00:02:09.310 --> 00:02:12.410\nAnd now we get more bandwidth\non this link, right?\n\n43\n00:02:12.410 --> 00:02:17.090\nIt's making my VLAN topology\nmore efficient, optimizing it.\n\n44\n00:02:17.090 --> 00:02:19.000\nBut it can be a little bit tricky.\n\n45\n00:02:19.000 --> 00:02:20.710\nIt's tricky because we've\ngot to go through and\n\n46\n00:02:20.710 --> 00:02:24.460\nfigure out exactly where\nto trim off VLANs.\n\n47\n00:02:24.460 --> 00:02:29.470\nSo to make life easier for\nus, VTP can actually do it.\n\n48\n00:02:29.470 --> 00:02:32.440\nWe saw the VLAN Trunking Protocol\nin the last episode.\n\n49\n00:02:32.440 --> 00:02:37.210\nAnd with VTP, it can jump in and\nautomatically add or\n\n50\n00:02:37.210 --> 00:02:44.000\nremove VLANs to a link based on whether or\nnot there's actually ports in that VLAN.\n\n51\n00:02:44.000 --> 00:02:46.500\nAnd that's gonna make things\na lot more efficient.\n\n52\n00:02:46.500 --> 00:02:50.610\nIt's gonna optimize bandwidth, and\nit's not gonna send traffic to a switch\n\n53\n00:02:50.610 --> 00:02:52.520\nif the switch doesn't\nactually need that traffic.\n\n54\n00:02:52.520 --> 00:02:54.370\nIt's going to lift it off of that line.\n\n55\n00:02:54.370 --> 00:02:56.920\nOn a small network,\nwe might not worry about it.\n\n56\n00:02:56.920 --> 00:03:01.280\nBut if you have 200 switches spread out\nbetween multiple buildings on a campus,\n\n57\n00:03:01.280 --> 00:03:05.600\nthere are tons of times where\nyou've got VLAN traffic that has no\n\n58\n00:03:05.600 --> 00:03:07.090\nbusiness being in one particular building,\nbut\n\n59\n00:03:07.090 --> 00:03:10.110\nit's all being sent there anyway\nbecause the trunk is carrying it.\n\n60\n00:03:10.110 --> 00:03:13.020\nAnd that's just wasting\nresources on your uplinks.\n\n61\n00:03:13.020 --> 00:03:16.190\nYour uplinks are probably\nalready oversubscribed.\n\n62\n00:03:16.190 --> 00:03:21.680\nIn other words, I might have 48 gigabit\nports here, and a single 1 gigabit uplink.\n\n63\n00:03:21.680 --> 00:03:23.000\nI'm oversubscribed.\n\n64\n00:03:23.000 --> 00:03:25.280\nOr I might have 48 gigabit ports and\n\n65\n00:03:25.280 --> 00:03:28.450\njust a 10 gigabit uplink,\nI'm already oversubscribed.\n\n66\n00:03:28.450 --> 00:03:32.460\nI could potentially have 48 gigs of data,\nbut only a 10 gig link.\n\n67\n00:03:32.460 --> 00:03:35.920\nSo I need to do things as\noptimally as possible.\n\n68\n00:03:35.920 --> 00:03:38.750\nAnywhere I can make this more efficient,\nI need to do it.\n\n69\n00:03:38.750 --> 00:03:42.174\nWell, let's see the automatic way first.\n\n70\n00:03:42.174 --> 00:03:45.110\nVTP, the VLAN Trunking Protocol,\nif we have it turned on,\n\n71\n00:03:45.110 --> 00:03:47.620\nwe know we're already\nlearning about the VLANs.\n\n72\n00:03:47.620 --> 00:03:51.510\nWe're learning about VLANs we don't\neven have in some cases, right?\n\n73\n00:03:51.510 --> 00:03:57.710\nSo for example, if I take NYCORE2 which\nwe configured VTP on in the last episode.\n\n74\n00:03:57.710 --> 00:04:02.590\nIf I jump in here and\ntake a look at its configuration, so\n\n75\n00:04:02.590 --> 00:04:08.230\nif I do a show vtp status,\nI can see that we left it in Client mode.\n\n76\n00:04:08.230 --> 00:04:10.219\nSo I'm in VTP Client mode,\n\n77\n00:04:10.219 --> 00:04:14.899\nand I'm learning about VLANs\nfrom a server somewhere, right?\n\n78\n00:04:14.899 --> 00:04:16.240\nI know I'm learning them.\n\n79\n00:04:16.240 --> 00:04:20.930\nBecause when I do a show vlan brief,\nI've got a bunch of VLANs that show up,\n\n80\n00:04:20.930 --> 00:04:23.910\neven ones that I don't\nhave ports assigned to.\n\n81\n00:04:23.910 --> 00:04:29.091\nSo notice here on CORE2,\nit's got VLAN 1 with a ton of ports.\n\n82\n00:04:29.091 --> 00:04:32.088\nAnd it's got VLAN 50 with two ports.\n\n83\n00:04:32.088 --> 00:04:39.250\nBut VLAN 10, 20, 30, 40, and 70 and 80,\nwe don't have any active ports on them.\n\n84\n00:04:39.250 --> 00:04:44.180\nAnd if I do a show interfaces trunk, well,\n\n85\n00:04:44.180 --> 00:04:48.080\nI'm moving all of those\nVLANs across the interface.\n\n86\n00:04:48.080 --> 00:04:52.935\nSo that means I'm receiving traffic\nfrom VLAN 10, 20, 30, 40, 60, 70,\n\n87\n00:04:52.935 --> 00:04:55.155\nand 80 and I'm just throwing it away.\n\n88\n00:04:55.155 --> 00:04:59.115\nThe traffic I receive on VLAN 1 and\nthe traffic I receive on VLAN 50,\n\n89\n00:04:59.115 --> 00:05:00.134\nI'm using that.\n\n90\n00:05:00.134 --> 00:05:02.260\nBut everything else, I'm throwing away.\n\n91\n00:05:02.260 --> 00:05:03.260\nAnd that's the default,\n\n92\n00:05:03.260 --> 00:05:06.870\nthat's how this functions by default\nbecause they assume we want that.\n\n93\n00:05:07.890 --> 00:05:11.120\nBut if we want it to be a little bit\nmore optimized, we can do pruning.\n\n94\n00:05:11.120 --> 00:05:13.930\nAnd you'll notice the way this\nis written where it says,\n\n95\n00:05:13.930 --> 00:05:17.530\nvlans in spanning tree\nforwarding state and not pruned.\n\n96\n00:05:17.530 --> 00:05:18.280\nAll right, what does that mean?\n\n97\n00:05:18.280 --> 00:05:22.090\nWell, spanning tree forwarding state,\nI mentioned this briefly.\n\n98\n00:05:22.090 --> 00:05:25.300\nThere's a protocol running on every\nCisco switch called spanning tree.\n\n99\n00:05:25.300 --> 00:05:29.420\nIt's 802.1D or 802.1w,\nthere's two different versions of it.\n\n100\n00:05:29.420 --> 00:05:31.850\nAnd what spanning tree\ndoes is loop detection.\n\n101\n00:05:31.850 --> 00:05:34.463\nIf it finds a loop, it fixes the loop.\n\n102\n00:05:34.463 --> 00:05:36.420\nAnd it fixed it by shutting a port down.\n\n103\n00:05:36.420 --> 00:05:39.010\nSo I might have a VLAN that is shut\n\n104\n00:05:39.010 --> 00:05:41.460\ndown because it's preventing\nsome kind of a loop, right.\n\n105\n00:05:41.460 --> 00:05:44.070\nSo it's saying these are VLANs\nthat are in the forwarding state.\n\n106\n00:05:44.070 --> 00:05:45.430\nThey're not looped, they're forwarding.\n\n107\n00:05:45.430 --> 00:05:46.610\nIt's allowed.\n\n108\n00:05:46.610 --> 00:05:51.940\nAnd they're not pruned, not pruned by VTP.\n\n109\n00:05:51.940 --> 00:05:55.510\nVTP can prune off a VLAN and take it out,\nto make things more efficient.\n\n110\n00:05:55.510 --> 00:05:58.230\nSo these are the winners,\nthese are the people that made the cut,\n\n111\n00:05:58.230 --> 00:06:01.110\nthat weren't a loop and\nweren't getting pruned by VTP.\n\n112\n00:06:01.110 --> 00:06:03.910\nWell, VTP doesn't prune by default.\n\n113\n00:06:03.910 --> 00:06:09.600\nIf I do a show vtp status, and\nI take a look at my VTP configuration,\n\n114\n00:06:09.600 --> 00:06:14.020\nI can find right here VTP Prruning Mode,\nDisabled.\n\n115\n00:06:14.020 --> 00:06:16.110\nI'm not pruning, all right.\n\n116\n00:06:16.110 --> 00:06:19.410\nBut if I turn that on,\nVTP will start talking.\n\n117\n00:06:19.410 --> 00:06:22.420\nAnd anywhere it can\nidentify a wasted VLAN,\n\n118\n00:06:22.420 --> 00:06:25.900\nit'll remove it from the trunks that\nwe don't have to deal with it, right.\n\n119\n00:06:25.900 --> 00:06:29.670\nSo if I want to turn that on,\nI can just jump up to my server.\n\n120\n00:06:29.670 --> 00:06:32.594\nAnd so NYCORE1 is my server.\n\n121\n00:06:32.594 --> 00:06:39.460\nAnd I'm gonna get into configuration,\nand I'm gonna say, vtp pruning.\n\n122\n00:06:39.460 --> 00:06:40.909\nAs simple as that,\nthat command right there.\n\n123\n00:06:40.909 --> 00:06:45.660\nWhen I run vtp pruning,\npruning is now switched on, okay?\n\n124\n00:06:45.660 --> 00:06:46.702\nSo I'm pruning VLANs.\n\n125\n00:06:46.702 --> 00:06:52.560\nIf there's any wasted traffic, I'm gonna\nprune them off and not send them along.\n\n126\n00:06:52.560 --> 00:06:59.840\nAnd if I go down to CORE2 and\nI do a show vtp status, whoops.\n\n127\n00:06:59.840 --> 00:07:03.480\nI'm typing somewhere,\njust not in this window, there we go.\n\n128\n00:07:03.480 --> 00:07:07.710\nAnd I do a show vtp status,\nsee that VTP Pruning Mode is now enabled.\n\n129\n00:07:07.710 --> 00:07:12.200\nYou turn on the server, and\nthe setting propagates with the database.\n\n130\n00:07:12.200 --> 00:07:14.585\nMy clients, they'll learn it.\n\n131\n00:07:14.585 --> 00:07:15.970\nThey'll learn it, they'll get it set.\n\n132\n00:07:15.970 --> 00:07:18.180\nSo I don't have to go to every switch\nin my environment to turn it on.\n\n133\n00:07:18.180 --> 00:07:21.310\nI just turn it on the server,\nand it turns on everywhere.\n\n134\n00:07:21.310 --> 00:07:22.600\nNow we're pruning.\n\n135\n00:07:22.600 --> 00:07:27.300\nSo now, if I have VLANS that I don't need,\nI'll lift the traffic off of the trunk.\n\n136\n00:07:27.300 --> 00:07:29.470\nNow I'm gonna stall for a second, here.\n\n137\n00:07:29.470 --> 00:07:30.410\nCuz this one's a little slow.\n\n138\n00:07:30.410 --> 00:07:34.460\nIt does take a moment for\nit to kick in and put that in action.\n\n139\n00:07:34.460 --> 00:07:36.960\nSo I probably won't see\nanything right away.\n\n140\n00:07:36.960 --> 00:07:39.430\nMaybe it'll make a liar of me and\nwork really fast.\n\n141\n00:07:39.430 --> 00:07:44.439\nSo if I do a show VLAN brief,\nI see all the VLANs that exist.\n\n142\n00:07:44.439 --> 00:07:50.110\nAnd if I do a show interfaces trunk, now I\ncan look and, yeah, they're still there.\n\n143\n00:07:50.110 --> 00:07:52.660\nSo I need to wait a little bit and\nlet that kinda sort out.\n\n144\n00:07:52.660 --> 00:07:55.184\nIt's got to shake it out, and\nfigure out what to exclude and\n\n145\n00:07:55.184 --> 00:07:56.205\nget those off of there.\n\n146\n00:07:56.205 --> 00:07:58.088\nPruning just turned on.\n\n147\n00:07:58.088 --> 00:08:00.518\nSo some of these will have to age out, but\n\n148\n00:08:00.518 --> 00:08:04.930\nsoon it's going to identify that\nwe don't need some of these VLANs.\n\n149\n00:08:04.930 --> 00:08:06.340\nAnd so it's going to remove them,\n\n150\n00:08:06.340 --> 00:08:11.280\nbecause we don't have interfaces on those\nVLANs and get that kind of squared away.\n\n151\n00:08:11.280 --> 00:08:15.960\nSo while we're waiting on that, let me\nshow you the manual way of doing it,\n\n152\n00:08:15.960 --> 00:08:17.270\nbecause you might not be using VTP.\n\n153\n00:08:17.270 --> 00:08:20.460\nYou might have third party\nswitches that don't support VTP or\n\n154\n00:08:21.600 --> 00:08:24.730\nyou might have a switch in\ntransparent mode, like I do, right?\n\n155\n00:08:24.730 --> 00:08:30.090\nI took NYACCESS1 down here, and\nI put it in transparent mode.\n\n156\n00:08:30.090 --> 00:08:34.830\nAnd when you're in transparent mode,\nyou don't get all the benefits of vtp.\n\n157\n00:08:34.830 --> 00:08:37.720\nSo when I look at my vtp status here,\n\n158\n00:08:37.720 --> 00:08:42.410\nI'll see that I'm currently\nin transparent mode, right?\n\n159\n00:08:42.410 --> 00:08:45.360\nAnd notice my VTP Pruning Mode, disabled.\n\n160\n00:08:45.360 --> 00:08:48.680\nIt's not pruning for me so\nI can't really do any of that.\n\n161\n00:08:48.680 --> 00:08:54.200\nBut when I look at the interfaces,\nI can still go in and manually prune them.\n\n162\n00:08:54.200 --> 00:09:00.140\nOn this switch, on NYACCESS1,\nif I do a show vlan brief and\n\n163\n00:09:00.140 --> 00:09:03.005\ntake a look at what's on it,\nit's got all these vlans.\n\n164\n00:09:03.005 --> 00:09:07.890\nBut technically V-LAN one is the only\none that I have ports on, so\n\n165\n00:09:07.890 --> 00:09:11.920\nany traffic I receive on V-LANs 10\nthrough 70, I'm not using that,\n\n166\n00:09:11.920 --> 00:09:15.080\nthat's just a waste\nthat's being sent to me.\n\n167\n00:09:15.080 --> 00:09:18.860\nAnd if I do a show interface trunk, and\n\n168\n00:09:18.860 --> 00:09:23.610\ntake a look at it,\nI am moving all of those V-LANs right?\n\n169\n00:09:23.610 --> 00:09:27.730\nAnd they're coming at me from core one.\n\n170\n00:09:27.730 --> 00:09:32.560\nAnd so I can jump over to core 1 and tell\ncore 1, hey, don't send those VLANs to me.\n\n171\n00:09:32.560 --> 00:09:34.480\nRight?\nStop it from sending.\n\n172\n00:09:34.480 --> 00:09:37.420\nThere's really no point in\nstopping it on the receiving side,\n\n173\n00:09:37.420 --> 00:09:40.980\ncuz if you think about it,\nthink in terms of your bandwidth.\n\n174\n00:09:40.980 --> 00:09:41.570\nRight?\n\n175\n00:09:41.570 --> 00:09:44.590\nThat if I stop it here\non the receiving side.\n\n176\n00:09:44.590 --> 00:09:46.350\nThe traffic has already made it to me.\n\n177\n00:09:46.350 --> 00:09:48.190\nIt's already wasted the bandwidth.\n\n178\n00:09:48.190 --> 00:09:49.990\nI'm not saving myself any time.\n\n179\n00:09:49.990 --> 00:09:53.890\nBut if I can stop it up on core one from\neven sending it to me in the first place,\n\n180\n00:09:53.890 --> 00:09:55.640\ndon't send me those vlans!\n\n181\n00:09:55.640 --> 00:09:57.940\nThen, I'm saving bandwidth.\n\n182\n00:09:57.940 --> 00:10:01.190\nSo I'm gonna go to core one and\nget that set up.\n\n183\n00:10:01.190 --> 00:10:04.700\nAnd so on core one, if we go in and\n\n184\n00:10:04.700 --> 00:10:08.700\ndo that, well manually because\nwe don't have VTP on access one.\n\n185\n00:10:08.700 --> 00:10:11.510\nWe can do it manually\nright on an interface.\n\n186\n00:10:12.540 --> 00:10:15.540\nSo let me get in here.\n\n187\n00:10:15.540 --> 00:10:19.350\nAnd I've got to remember\nwhich interface that is.\n\n188\n00:10:19.350 --> 00:10:24.640\nSo my connection on core one\nover to access one is FA1/0/22.\n\n189\n00:10:24.640 --> 00:10:30.130\nAlright, that's the interface\nthat's running over to access one.\n\n190\n00:10:30.130 --> 00:10:33.080\nSo I'm going to get into my configuration,\nand\n\n191\n00:10:33.080 --> 00:10:36.563\nI'm going to get into interface, Fa1/0/21.\n\n192\n00:10:36.563 --> 00:10:40.210\nSo now, I'm in the interface that's\nconnected over to that other switch.\n\n193\n00:10:40.210 --> 00:10:41.569\n>> Should be 22.\n\n194\n00:10:41.569 --> 00:10:42.290\n>> Is it 22?\n\n195\n00:10:42.290 --> 00:10:43.912\n>> Yeah.\n>> It's right there on the screen.\n\n196\n00:10:43.912 --> 00:10:45.260\n>> [LAUGH]\n>> Why am I not paying attention?\n\n197\n00:10:45.260 --> 00:10:46.490\nThere we go.\nThank you, Ronnie.\n\n198\n00:10:46.490 --> 00:10:47.980\nAll right, so\nI'm going to get into the right interface,\n\n199\n00:10:47.980 --> 00:10:49.940\nbecause that does make a difference, and\n\n200\n00:10:49.940 --> 00:10:55.340\nnow I'm going to tweak which vlans\nare allowed to be sent over this link.\n\n201\n00:10:55.340 --> 00:10:58.210\nAnd the way we do that is with\nour switchport commands like\n\n202\n00:10:58.210 --> 00:10:59.630\nwe've already seen.\n\n203\n00:10:59.630 --> 00:11:02.150\nAnd so I'm gonna come in here\nwith the switchport command and\n\n204\n00:11:02.150 --> 00:11:06.800\nI'm just gonna say\nswitchport trunk allowed.\n\n205\n00:11:06.800 --> 00:11:11.030\nAnd then we can define the vlans\nthat are allowed to cross this link.\n\n206\n00:11:11.030 --> 00:11:13.340\nAnd there is several\ndifferent ways to do this.\n\n207\n00:11:13.340 --> 00:11:17.540\nIf I did a question mark here, you'll see,\nshoot, allowed vlan question mark,\n\n208\n00:11:17.540 --> 00:11:19.580\nthere we go, now we'll see all\nthe different ways that we can do it.\n\n209\n00:11:19.580 --> 00:11:25.890\nSorry, so, switch port trunk allowed\nvlan and then we make a list.\n\n210\n00:11:25.890 --> 00:11:28.340\nAnd you can make the list\nseveral different ways.\n\n211\n00:11:28.340 --> 00:11:31.780\nOkay, we can say allowed VLAN all.\n\n212\n00:11:31.780 --> 00:11:33.810\nEvery VLAN's allowed across the line.\n\n213\n00:11:33.810 --> 00:11:35.760\nWe can say allowed VLAN none.\n\n214\n00:11:35.760 --> 00:11:38.750\nNo VLAN's allowed across the line.\n\n215\n00:11:38.750 --> 00:11:42.647\nOr we can say allowed VLAN except.\n\n216\n00:11:42.647 --> 00:11:47.010\nEverybody except this list\nthat I'm about to make.\n\n217\n00:11:47.010 --> 00:11:47.960\nRight?\n\n218\n00:11:47.960 --> 00:11:52.870\nOr we can say VLAN, or\nsorry allowed VLAN and\n\n219\n00:11:52.870 --> 00:11:55.200\nthen the list of the ones\nthat we do want to make.\n\n220\n00:11:56.350 --> 00:11:59.610\nNow once you create your initial\nlist then you can add and\n\n221\n00:11:59.610 --> 00:12:04.280\nremove VLANs very easily too so it's easy\nto work with to kind of customize this.\n\n222\n00:12:04.280 --> 00:12:07.720\nIt's not as easy as automatic like a VTP.\n\n223\n00:12:07.720 --> 00:12:13.660\nBut I could come in and I could say,\nif I just want VLAN1, that's it, okay?\n\n224\n00:12:13.660 --> 00:12:16.160\nI just want VLAN1.\n\n225\n00:12:16.160 --> 00:12:21.020\nThen the easy way to do it is will be to\nsay switch port trunk allowed VLAN1 and\n\n226\n00:12:21.020 --> 00:12:22.270\nthat's it.\n\n227\n00:12:22.270 --> 00:12:26.910\nNow VLAN1 is the only VLAN that\nis allowed to cross that line.\n\n228\n00:12:26.910 --> 00:12:30.172\nAll right, now if I want to verify that\nI can run the show interfaces trunk.\n\n229\n00:12:30.172 --> 00:12:32.760\nI might teach you guys another\nneat little command here.\n\n230\n00:12:32.760 --> 00:12:35.890\nWhen you're in config mode you can't\nuse your show commands, right.\n\n231\n00:12:35.890 --> 00:12:41.495\nSo if I do show interfaces\ntrunk I get an error, right?\n\n232\n00:12:41.495 --> 00:12:43.525\nShow commands don't work in config.\n\n233\n00:12:43.525 --> 00:12:47.525\nBut if you add the word do before that,\n\n234\n00:12:47.525 --> 00:12:51.025\nthat says do the command\noutside of configuration.\n\n235\n00:12:51.025 --> 00:12:53.175\nSo now I don't have to get out of\nconfiguration and come back in.\n\n236\n00:12:53.175 --> 00:12:54.005\nSo I'm gonna do that.\n\n237\n00:12:54.005 --> 00:12:56.435\nI'm gonna say, do show interfaces trunk.\n\n238\n00:12:56.435 --> 00:13:00.685\nAnd now I can look, and\nif I look down at that port 22,\n\n239\n00:13:00.685 --> 00:13:04.960\nvlans in spanning tree forwarding\nstate and not pruned none.\n\n240\n00:13:04.960 --> 00:13:05.760\nWhat's that all about?\n\n241\n00:13:05.760 --> 00:13:08.920\nWell, as soon as I configured this,\nthe trunk dropped, and\n\n242\n00:13:08.920 --> 00:13:10.810\nnow the trunk's coming back up and\nrenegotiating.\n\n243\n00:13:10.810 --> 00:13:14.870\nSo if I wait just a moment,\nthat'll change, and it'll become VLAN one.\n\n244\n00:13:14.870 --> 00:13:16.860\nNotice port 24 is one and 50.\n\n245\n00:13:16.860 --> 00:13:18.290\nVTP pruning finally worked.\n\n246\n00:13:18.290 --> 00:13:19.340\nRemember we were waiting on that?\n\n247\n00:13:19.340 --> 00:13:20.690\nBut we'll come back to that.\n\n248\n00:13:20.690 --> 00:13:23.120\nSo port 22 though is now saying none.\n\n249\n00:13:23.120 --> 00:13:27.040\nUp here I can see vlans allowed an active\nvlan 1, so I just have to wait for\n\n250\n00:13:27.040 --> 00:13:31.680\nthat to negotiate, but I do see it's\nworking because it's allowing vlan 1.\n\n251\n00:13:31.680 --> 00:13:37.020\nIf I want to add vlan 2 to the list well,\nI can bring that\n\n252\n00:13:37.020 --> 00:13:42.690\ncommand back up that I entered a moment\nago right here, and I can do it as a list.\n\n253\n00:13:42.690 --> 00:13:47.390\nI could say I want vlan 1, 2.\n\n254\n00:13:47.390 --> 00:13:49.700\nAnd my head's going to cover that.\n\n255\n00:13:49.700 --> 00:13:52.618\nThere we go.\nSo switchport trunk allowed vlan 1, 2.\n\n256\n00:13:52.618 --> 00:13:54.580\nRIght?\nAnd I can even add other ones,\n\n257\n00:13:54.580 --> 00:13:58.910\ncomma five seven, you know whatever\nit is that you want to fit in there.\n\n258\n00:13:58.910 --> 00:14:03.250\nI guess I should probably pick VLANs that\nexist so I've got VLAN 10 and VLAN 20.\n\n259\n00:14:03.250 --> 00:14:04.730\nSo I'm adding these.\n\n260\n00:14:04.730 --> 00:14:06.040\nI can even do ranges.\n\n261\n00:14:06.040 --> 00:14:11.740\nI could say 21 through 29,\nwhich is a little hyphen.\n\n262\n00:14:11.740 --> 00:14:13.040\n21 through 29.\n\n263\n00:14:13.040 --> 00:14:14.800\nSo you can do ranges too.\n\n264\n00:14:14.800 --> 00:14:19.990\nAnd now it's going to add all of those\nto the list of Vlans that are allowed,\n\n265\n00:14:19.990 --> 00:14:20.920\n1, 10, 20, and 21 through 29.\n\n266\n00:14:20.920 --> 00:14:28.220\nAnd if I take a look at my trunk interface\nnow I can see that it's got 1, 10, and 20.\n\n267\n00:14:28.220 --> 00:14:30.190\nIf I look up here it's actually 1,10,\n20-29.\n\n268\n00:14:30.190 --> 00:14:34.870\n21 through 29 don't show up because\nI haven't created VLANs for those.\n\n269\n00:14:34.870 --> 00:14:37.750\nSo the VLANs don't exist,\nthere's no point in allowing them, right?\n\n270\n00:14:37.750 --> 00:14:40.093\nThey have to be allowed and active.\n\n271\n00:14:40.093 --> 00:14:45.200\nWhile 21-29 aren't active, I never made\nthem, so that's why they're not here.\n\n272\n00:14:45.200 --> 00:14:48.268\nBut I can see right here,\nVLANs allowed on trunk, 1, 10, 20 to 29.\n\n273\n00:14:48.268 --> 00:14:53.000\nNow, let's say I decide I wanna\nprune off 24 for some reason.\n\n274\n00:14:53.000 --> 00:14:57.720\nI don’t have to redefine my list, I can\njust take that command of what I did and\n\n275\n00:14:57.720 --> 00:14:58.510\nchange it a little bit.\n\n276\n00:14:58.510 --> 00:15:03.305\nIf I wanna remove 24,\nafter that VLAN command,\n\n277\n00:15:03.305 --> 00:15:09.937\nyou'll see where you can do add and\nremove and so, I can remove 24.\n\n278\n00:15:09.937 --> 00:15:15.979\nAnd so when I removed 24, that's gonna\nspecifically take 24 off the list.\n\n279\n00:15:15.979 --> 00:15:21.034\nAnd when I do a show interface trunk,\nnow I can see 1, 10,\n\n280\n00:15:21.034 --> 00:15:26.480\n20-23, 25-29, skips 24 cuz I removed it.\n\n281\n00:15:26.480 --> 00:15:30.070\nAnd I can add it right\nback in just by saying,\n\n282\n00:15:30.070 --> 00:15:32.110\ninstead of remove, I wanna say, add.\n\n283\n00:15:33.710 --> 00:15:39.080\nAnd we'll add it back in and\nnow 24 will be back as a part of that.\n\n284\n00:15:39.080 --> 00:15:42.883\nSo, when we take a look at that now\n20 through 29 are back again, right.\n\n285\n00:15:42.883 --> 00:15:47.318\nSo, what I normally do is I say,\nlook if I just wanna exclude one or\n\n286\n00:15:47.318 --> 00:15:51.999\ntwo VLANs I'll normally do an allowed\nvlan all and then go through and\n\n287\n00:15:51.999 --> 00:15:54.360\nremove the ones I want to exclude.\n\n288\n00:15:54.360 --> 00:15:58.782\nIf I just want to allow a couple, I'll\ncome through and do allowed VLAN none and\n\n289\n00:15:58.782 --> 00:16:01.340\nthen add in just the ones that I want,\nright?\n\n290\n00:16:01.340 --> 00:16:03.860\nThat's a little bit easier or\nyou can manipulate the list.\n\n291\n00:16:03.860 --> 00:16:05.316\nAll of them achieved the same goal,\n\n292\n00:16:05.316 --> 00:16:09.420\nthough, they allow us to control\nwhat VLANs run on that link.\n\n293\n00:16:09.420 --> 00:16:14.590\nSo, just be aware that, note that there's\nmore than one way to go about that.\n\n294\n00:16:14.590 --> 00:16:18.670\nMaking a list, add,\nexcept, none, all, remove.\n\n295\n00:16:18.670 --> 00:16:22.251\nAll different ways that we can kind of\ntweak that and it's done manually so\n\n296\n00:16:22.251 --> 00:16:24.642\nwe're not dependent on\ntechnologies like VTP.\n\n297\n00:16:24.642 --> 00:16:29.224\n>> Now Don, we have a question in our\nchat room that asks about the idea,\n\n298\n00:16:29.224 --> 00:16:32.780\ndoes using the none,\ndoes that even prevent VLAN1?\n\n299\n00:16:32.780 --> 00:16:34.671\nAnd I think what they're talking\nabout is the native VLAN idea.\n\n300\n00:16:34.671 --> 00:16:37.460\n>> Yeah, well, VLAN1's magic.\n\n301\n00:16:37.460 --> 00:16:43.494\nIt's kinda tricky, and I'll tell you\nthe answer to your question is yes and no.\n\n302\n00:16:43.494 --> 00:16:48.010\n[LAUGH]\nSo yes, if you try and\n\n303\n00:16:48.010 --> 00:16:50.910\nexclude VLAN1,\nit will let you do it, okay?\n\n304\n00:16:52.260 --> 00:16:53.940\nAs far as the command output.\n\n305\n00:16:53.940 --> 00:16:56.463\nBut know,\nin real life land if you look at the line,\n\n306\n00:16:56.463 --> 00:16:59.053\nVLAN1 traffic's still crossing the line,\nokay?\n\n307\n00:16:59.053 --> 00:17:03.688\nSo VLAN1 traffic with just\na few really fringe exceptions\n\n308\n00:17:03.688 --> 00:17:07.573\nwill pretty much always cross the line,\nright?\n\n309\n00:17:07.573 --> 00:17:10.488\nSo if you're trying to handle\nexclusions really strictly,\n\n310\n00:17:10.488 --> 00:17:14.880\nthe recommendation is not to use VLAN1,\ndon't put any traffic on VLAN1, right?\n\n311\n00:17:14.880 --> 00:17:18.590\nAnd if you do that, then it doesn't matter\nif it's set to be on a line there won't be\n\n312\n00:17:18.590 --> 00:17:20.817\nany traffic on so\nit's not consuming bandwidth.\n\n313\n00:17:20.817 --> 00:17:22.322\nBut even if you go through and\n\n314\n00:17:22.322 --> 00:17:26.423\nexclude it, it'll say that it's excluded\nbut the traffic will still flow.\n\n315\n00:17:26.423 --> 00:17:29.530\nAnd if it's your native VLAN, you can\nend up with other problems there too.\n\n316\n00:17:29.530 --> 00:17:32.430\nSo you really want to be\ncareful about excluding VLAN1.\n\n317\n00:17:32.430 --> 00:17:35.760\nIf it's your management network,\nyou typically do want it up and running.\n\n318\n00:17:35.760 --> 00:17:38.670\nBut you might be uplinking it manually,\ntrying to do some kind of out of band\n\n319\n00:17:38.670 --> 00:17:41.820\nmanagement in which case you don't\nnecessarily want that on your trunks.\n\n320\n00:17:41.820 --> 00:17:45.120\nSo you can go through and exclude it and\ntry and block it that way.\n\n321\n00:17:45.120 --> 00:17:49.130\nIt'll work in certain scenarios but\nmost scenarios it won't.\n\n322\n00:17:50.770 --> 00:17:54.470\nAll right, so let's take a look at VTP,\nthe automatic pruning, right,\n\n323\n00:17:54.470 --> 00:17:56.090\nwhat I was stalling for.\n\n324\n00:17:56.090 --> 00:17:59.360\nEarlier, we configured\nautomatic pruning in VTP.\n\n325\n00:17:59.360 --> 00:18:03.830\nAnd on NYCORE2, I had made the comment\nthat we didn't have a whole lot of VLANs\n\n326\n00:18:03.830 --> 00:18:07.100\nhere, but we were receiving\nthe traffic for all of them.\n\n327\n00:18:07.100 --> 00:18:11.393\nSo once we configure that pruning, if I\nscroll back in my history here, when I\n\n328\n00:18:11.393 --> 00:18:16.890\nlooked at my uplink, it was carrying 1,\n10, 20, 30, 40, 50, 60, 70, 80.\n\n329\n00:18:16.890 --> 00:18:19.420\nIt was carrying all those VLANs.\n\n330\n00:18:19.420 --> 00:18:21.890\nBut we turned on VTP pruning.\n\n331\n00:18:21.890 --> 00:18:26.170\nIf I keep scrolling back,\nVTP pruning mode is enabled, right?\n\n332\n00:18:26.170 --> 00:18:28.980\nSo it is turned on and\nI said I just needed to wait for\n\n333\n00:18:28.980 --> 00:18:30.600\nit to sort itself out, okay?\n\n334\n00:18:30.600 --> 00:18:34.590\nWell, it's had time now,\nit should have sorted itself out.\n\n335\n00:18:34.590 --> 00:18:39.552\nAnd so I'm gonna do a show vlan brief,\nand when I take a look at it,\n\n336\n00:18:39.552 --> 00:18:44.721\nI still know about all the VLANs,\nright, so they all still show up.\n\n337\n00:18:44.721 --> 00:18:49.948\nAnd if I do a show interfaces trunk,\nand I take a look here,\n\n338\n00:18:49.948 --> 00:18:54.985\nnow I see vlans allowed and\nactive, there they all are.\n\n339\n00:18:54.985 --> 00:19:00.970\nVlans in spanning tree forwarding\nstate and not pruned 1, 10 and 20.\n\n340\n00:19:00.970 --> 00:19:03.436\nOkay, why do I see 1, 10 and 20?\n\n341\n00:19:03.436 --> 00:19:06.070\nI must had active ports on 1, 10 and 20.\n\n342\n00:19:06.070 --> 00:19:11.210\nLet's verify that with\na quick show vlan brief.\n\n343\n00:19:11.210 --> 00:19:15.000\nAnd when I look at my vlans,\nwell, vlan 10 and\n\n344\n00:19:15.000 --> 00:19:17.950\n20 don't actually have any ports on them.\n\n345\n00:19:17.950 --> 00:19:20.670\nOkay so, why are those showing as active?\n\n346\n00:19:20.670 --> 00:19:23.850\nWell maybe I had some ports and\nit hasn't sorted itself out, or\n\n347\n00:19:23.850 --> 00:19:25.680\nit might not be done\nsorting itself out yet.\n\n348\n00:19:25.680 --> 00:19:27.706\nIt does take it a little bit of\ntime to get kinda cleaned up.\n\n349\n00:19:27.706 --> 00:19:31.401\nSo, it may not have remove those, but\nit has already removed the other ones.\n\n350\n00:19:31.401 --> 00:19:32.758\n10 and 20 are gone.\n\n351\n00:19:32.758 --> 00:19:34.362\nThey've been removed, and\nthey're not in there.\n\n352\n00:19:34.362 --> 00:19:37.916\nAll right, so, so far,\npruning is starting to work out a bit,\n\n353\n00:19:37.916 --> 00:19:40.414\nit's still got a little\nbit more work to do.\n\n354\n00:19:40.414 --> 00:19:43.133\nLet's take a look at it from\nthe other end, cuz remember,\n\n355\n00:19:43.133 --> 00:19:44.800\npruning is done both ways.\n\n356\n00:19:44.800 --> 00:19:49.219\nSo if I go up to NYCORE1 and\ndo a show interfaces trunk and\n\n357\n00:19:49.219 --> 00:19:54.577\ntake a look at what's in there,\nI can see, and it's down to 10 and\n\n358\n00:19:54.577 --> 00:20:00.029\n20 here so it's this side is more\nthan likely making the mistake and\n\n359\n00:20:00.029 --> 00:20:03.530\nso it will prune those off eventually.\n\n360\n00:20:03.530 --> 00:20:06.127\nNow notice vlans in spanning tree\nforwarding state and not pruned and\n\n361\n00:20:06.127 --> 00:20:07.255\nit's got 10 and 20 in it.\n\n362\n00:20:07.255 --> 00:20:10.395\nIt doesn't have vlan1 in the list, right?\n\n363\n00:20:10.395 --> 00:20:12.005\nThis goes back to that\nquestion from the chatroom.\n\n364\n00:20:12.005 --> 00:20:14.525\nIt's showing that it's not there but\nin actuality,\n\n365\n00:20:14.525 --> 00:20:15.935\nit is transmitting across the line.\n\n366\n00:20:15.935 --> 00:20:19.465\nIt is there, but\nit just hasn't kind of cleared itself yet.\n\n367\n00:20:19.465 --> 00:20:21.943\nSo, sometimes you might\nhave to reboot a switch.\n\n368\n00:20:21.943 --> 00:20:24.600\nWorse case scenario, I can always\nblow away the vlan database and\n\n369\n00:20:24.600 --> 00:20:25.482\nbring it back again.\n\n370\n00:20:25.482 --> 00:20:28.765\nAnd as long as you have VTP, it'll\nrepopulate and you'll be back in business,\n\n371\n00:20:28.765 --> 00:20:30.360\nit's not that big of a deal.\n\n372\n00:20:30.360 --> 00:20:33.400\nAnd then it'll clean up really nice and\nVTP pruning will work.\n\n373\n00:20:33.400 --> 00:20:36.270\nBut given enough time,\nit will sort itself out.\n\n374\n00:20:36.270 --> 00:20:38.164\nAnd I can see it's already\npruned off a lot of them.\n\n375\n00:20:38.164 --> 00:20:41.716\n30, 40, 50, 60, 70, 80,\nthose are all gone.\n\n376\n00:20:41.716 --> 00:20:45.262\nIt's just a matter of time\nbefore the other ones go, but\n\n377\n00:20:45.262 --> 00:20:47.440\nit is an exercise in patience.\n\n378\n00:20:47.440 --> 00:20:48.940\nVTP, it's a timer based protocol, and\n\n379\n00:20:48.940 --> 00:20:51.045\nwe'll see this again with\nother protocols out there.\n\n380\n00:20:51.045 --> 00:20:54.070\nTimer-based ones, you just have to wait.\n\n381\n00:20:54.070 --> 00:20:56.940\nYou got to wait for them to do their\nthing and kinda get through it.\n\n382\n00:20:56.940 --> 00:20:59.360\nIf you try and rush it,\nthat's when mistakes happen.\n\n383\n00:20:59.360 --> 00:21:00.576\nThat's when you can break things.\n\n384\n00:21:00.576 --> 00:21:04.045\nThat in time, this will clear itself,\nand then we'll have the right VLANs.\n\n385\n00:21:04.045 --> 00:21:07.079\nAnd I could just sit here and run show\ninterfaces trunk over and over and\n\n386\n00:21:07.079 --> 00:21:08.404\nover again until it happens.\n\n387\n00:21:08.404 --> 00:21:12.120\nIn the CCNA routing and switching, we'll\nlearn about some debug commands where\n\n388\n00:21:12.120 --> 00:21:14.930\nyou can actually watch it happening,\nwhich is another way to see it.\n\n389\n00:21:14.930 --> 00:21:18.868\nBut for right now, just patience is gonna\nbe our troubleshooting tool on this one,\n\n390\n00:21:18.868 --> 00:21:20.510\nand it'll clear.\n\n391\n00:21:20.510 --> 00:21:25.230\nSo all right,\nI think that's about it for VTP pruning.\n\n392\n00:21:25.230 --> 00:21:29.700\nThe only other thing I do want to show\nyou guys is, with VTP, it's kind of nice,\n\n393\n00:21:29.700 --> 00:21:32.280\nbecause you can blow away your\nentire VLAN database, and\n\n394\n00:21:32.280 --> 00:21:35.130\nwhen you reboot your switch,\nit'll just relearn it from the network.\n\n395\n00:21:35.130 --> 00:21:36.534\nSo let me show you how that works.\n\n396\n00:21:36.534 --> 00:21:39.910\nI'm gonna take my NYCORE2 and\n\n397\n00:21:39.910 --> 00:21:43.890\nI pointed out in the last episode\nthat we had that vlan.dat file.\n\n398\n00:21:43.890 --> 00:21:48.640\nThat if I do a dir and\npull up its directory,\n\n399\n00:21:48.640 --> 00:21:53.300\nit's got all these files, including\nvlan.dat, that's the VLAN database.\n\n400\n00:21:53.300 --> 00:21:57.588\nIf I delete that,\nif you just run del vlan.dat,\n\n401\n00:21:57.588 --> 00:22:01.660\nyou can delete the file and\nthere goes my VLAN database.\n\n402\n00:22:01.660 --> 00:22:05.030\nOkay, it's gonna delete it out and\nnow I don't have a VLAN database.\n\n403\n00:22:05.030 --> 00:22:10.180\nWell if I'm running VTP, what's gonna\nhappen is it's going to clear it,\n\n404\n00:22:10.180 --> 00:22:12.590\nit's gonna basically relearn\nit from the other side.\n\n405\n00:22:12.590 --> 00:22:17.140\nWe cleared VTP, now it's gonna relearn\nit from the other system or back again.\n\n406\n00:22:17.140 --> 00:22:19.690\nBut if I reboot, well,\nthe same thing's gonna happen.\n\n407\n00:22:19.690 --> 00:22:21.840\nWe're gonna reboot and\nit's gonna remember that, hey,\n\n408\n00:22:21.840 --> 00:22:25.470\nI'm a part of VTP, I'm gonna get those\nsettings and bring them in, all right?\n\n409\n00:22:25.470 --> 00:22:29.530\nNow, once it gets them, then you've\ngot the data, and you're happy,\n\n410\n00:22:29.530 --> 00:22:31.980\nand it's relearned, and\nnow it's nice and clear.\n\n411\n00:22:31.980 --> 00:22:33.660\nAnd it's a good way to\nkind of reset things.\n\n412\n00:22:33.660 --> 00:22:39.110\nNow, the reason I bring it up\nhere is because if you go out and\n\n413\n00:22:39.110 --> 00:22:41.580\nyou buy a switch from eBay,\nor something like that.\n\n414\n00:22:41.580 --> 00:22:44.940\nYou go and you buy a used switch,\nand you bring it in your network,\n\n415\n00:22:44.940 --> 00:22:49.260\na lot of people will delete the startup\nconfig so it boots up fresh and clean.\n\n416\n00:22:49.260 --> 00:22:51.176\nBut they won't delete the VLAN database.\n\n417\n00:22:51.176 --> 00:22:54.686\nAnd so when the switch comes up, it might\nhave a bunch of VLANs left over from\n\n418\n00:22:54.686 --> 00:22:56.871\nsome previous person\nthat owned that switch.\n\n419\n00:22:56.871 --> 00:22:58.346\nOr, it doesn't have to be eBay, right?\n\n420\n00:22:58.346 --> 00:22:59.384\nThis could be your own switch.\n\n421\n00:22:59.384 --> 00:23:01.015\nMaybe you had it in research and\ndevelopment and\n\n422\n00:23:01.015 --> 00:23:02.417\nnow you're moving it into production.\n\n423\n00:23:02.417 --> 00:23:07.380\nAnd so you clear the configuration,\nand the VLANs stay behind, all right?\n\n424\n00:23:07.380 --> 00:23:08.380\nIf that happens,\n\n425\n00:23:08.380 --> 00:23:12.990\nyou need to clear your configuration and\ndelete the VLAN database, right?\n\n426\n00:23:12.990 --> 00:23:15.260\nIt's an extra step that we\nneed to do on switches.\n\n427\n00:23:15.260 --> 00:23:16.509\nOn routers, you just have the config.\n\n428\n00:23:16.509 --> 00:23:19.653\nOn switches, you've got the config and\nthe VLAN database.\n\n429\n00:23:19.653 --> 00:23:23.030\nBecause remember, that's where\nthe VLANs are actually stored.\n\n430\n00:23:23.030 --> 00:23:26.512\nAnd I don't want a switch to come\nup with a bunch of junk VLANs and\n\n431\n00:23:26.512 --> 00:23:30.471\nthen use VTP to throw the junk VLANs\nthroughout my entire environment.\n\n432\n00:23:30.471 --> 00:23:32.909\nI could have those junk\nVLANs on 200 switches, and\n\n433\n00:23:32.909 --> 00:23:34.594\nnow I've got a real problem, okay?\n\n434\n00:23:34.594 --> 00:23:37.330\nSo definitely double-check that.\n\n435\n00:23:37.330 --> 00:23:38.800\nWhenever you clear\nthe configuration of a switch,\n\n436\n00:23:38.800 --> 00:23:41.970\nmake sure that you clear out\nthat VLAN database also.\n\n437\n00:23:41.970 --> 00:23:45.293\n>> Now Don, I had one other question\nhere that just popped in my mind.\n\n438\n00:23:45.293 --> 00:23:50.615\nNow that I have those VLANs created,\nthe 10, 20, all the different ones, and\n\n439\n00:23:50.615 --> 00:23:55.862\nI've added interfaces into a VLAN Well,\nwhat happens if I delete that vlan out and\n\n440\n00:23:55.862 --> 00:23:58.880\nthose interfaces,\ndo they go back to vlan 1?\n\n441\n00:23:58.880 --> 00:24:00.880\nThe ones that were sitting in,\nlet's say, vlan 20?\n\n442\n00:24:00.880 --> 00:24:03.420\n>> So, I'm gonna say sort of.\n\n443\n00:24:03.420 --> 00:24:06.604\n[LAUGH] What actually happens\nis if I delete the vlan, and\n\n444\n00:24:06.604 --> 00:24:09.940\nI have ports assigned to it,\nright, let me just show you.\n\n445\n00:24:09.940 --> 00:24:12.610\nI'll take core one and show you up here.\n\n446\n00:24:12.610 --> 00:24:14.620\nI'll show you kind of what happens.\n\n447\n00:24:14.620 --> 00:24:18.300\nScroll like crazy is what I'm gonna do and\neventually get to the right device,\n\n448\n00:24:18.300 --> 00:24:19.100\nthere, okay.\n\n449\n00:24:19.100 --> 00:24:22.740\nSo if I do a show vlan brief,\nall right, and\n\n450\n00:24:22.740 --> 00:24:27.210\nI pull this up, what you're gonna see\nis like let's say the sales vlan, okay,\n\n451\n00:24:27.210 --> 00:24:35.100\nsee how ports 11 through 19\nare in the sales vlan, okay.\n\n452\n00:24:35.100 --> 00:24:37.690\nWhat happens if I delete the sales vlan,\nokay?\n\n453\n00:24:37.690 --> 00:24:38.770\nWell, I'll show you.\n\n454\n00:24:38.770 --> 00:24:44.060\nI'm gonna go into configuration,\nI'm gonna say no vlan 20, all right?\n\n455\n00:24:44.060 --> 00:24:46.690\nI'm killing vlan 20, it's gone.\n\n456\n00:24:46.690 --> 00:24:49.730\nSo what happens to ports 11 through 19?\n\n457\n00:24:49.730 --> 00:24:56.980\nWell, if I do a show vlan,\nI'm gonna see that vlan 20 is gone.\n\n458\n00:24:56.980 --> 00:25:02.413\nAnd if I look at all the ports in my\nlist 11 through 20, they're gone, right?\n\n459\n00:25:02.413 --> 00:25:04.874\nPorts 11 through 20 no longer exist.\n\n460\n00:25:04.874 --> 00:25:08.694\nWell, it's not that they no longer exist,\nit's that they're tied to a bad vlan.\n\n461\n00:25:08.694 --> 00:25:10.575\nAnd so they're no longer able to talk.\n\n462\n00:25:10.575 --> 00:25:12.420\nThey're all disabled,\nthey're effectively disabled.\n\n463\n00:25:12.420 --> 00:25:15.640\nThey'll have link lights, computers will\nthink that they're up, but they're not\n\n464\n00:25:15.640 --> 00:25:19.580\ngonna be able to talk to anybody, cuz the\nvlan they are attached to is now disabled.\n\n465\n00:25:19.580 --> 00:25:26.883\nIf I do a show running-config, and\nI jump forward to ports 11 through 20,\n\n466\n00:25:26.883 --> 00:25:31.433\nI'll see they're still\nassigned to vlan 20.\n\n467\n00:25:31.433 --> 00:25:33.270\nThey still have it assigned there, right?\n\n468\n00:25:33.270 --> 00:25:35.540\nSo as far as they're concerned,\nthey're still on vlan 20.\n\n469\n00:25:35.540 --> 00:25:40.330\nSo, I could go in and just say, switch\nport access vlan 1 on all those, move\n\n470\n00:25:40.330 --> 00:25:43.413\nthem right back to vlan 1, and now they're\nhappy and they're on a real vlan again.\n\n471\n00:25:44.470 --> 00:25:49.000\nOr if I recreate vlan 20,\nit'll just rejoin it again.\n\n472\n00:25:49.000 --> 00:25:51.020\nSo if I get back into configuration and\n\n473\n00:25:51.020 --> 00:25:55.820\nI say vlan 20 and I've already forgotten\nwhat they were, let's say it's Accounting.\n\n474\n00:25:55.820 --> 00:25:57.100\nWait.\n>> Sales.\n\n475\n00:25:57.100 --> 00:26:01.400\n>> Sales, all right, let me vlan 20, and\nI'll give it a name of Sales, there we go.\n\n476\n00:26:01.400 --> 00:26:04.190\nAnd now vlan 20 exists again.\n\n477\n00:26:04.190 --> 00:26:06.260\nSo when I do a show vlan brief,\n\n478\n00:26:06.260 --> 00:26:11.330\nall those ports will jump right back into\ntheir home vlan nice and cozy, okay.\n\n479\n00:26:11.330 --> 00:26:15.520\nSo while the vlan was disabled,\ntechnically, they're not part of any vlan.\n\n480\n00:26:17.070 --> 00:26:18.630\nYou could argue they're part of vlan 1,\nbut\n\n481\n00:26:18.630 --> 00:26:20.130\nthey're not receiving vlan 1's traffic.\n\n482\n00:26:20.130 --> 00:26:23.450\nThey're not receiving any traffic\nwhile they're in that disabled state\n\n483\n00:26:23.450 --> 00:26:26.330\nuntil we put them back into\nsome kind of valid vlan.\n\n484\n00:26:26.330 --> 00:26:28.210\nOtherwise, they just sit there isolated,\nright?\n\n485\n00:26:28.210 --> 00:26:32.319\nSo, if somehow you accidentally\nwiped out your vlan database for\n\n486\n00:26:32.319 --> 00:26:36.352\nall of your switches, maybe you\nbrought up a rogue VTP switch and\n\n487\n00:26:36.352 --> 00:26:39.808\nit wiped all of your vlan configurations,\nall right.\n\n488\n00:26:39.808 --> 00:26:44.060\nYour port assignments are still there,\nyour trunk configurations are still there.\n\n489\n00:26:44.060 --> 00:26:48.192\nAll that's really gone is the definition\nof which vlans exist and their names.\n\n490\n00:26:48.192 --> 00:26:51.039\nAnd you can really quickly just\nthrow those right back in there,\n\n491\n00:26:51.039 --> 00:26:53.950\nand all your switches will recover and\nyou're back in business.\n\n492\n00:26:53.950 --> 00:26:58.001\nSo losing the vlan database is not the end\nof the world, it's not that big of a deal.\n\n493\n00:26:58.001 --> 00:27:00.576\nIf you're using VTP,\nyou've already got more copies of it,\n\n494\n00:27:00.576 --> 00:27:04.240\nany client will have a copy of it,\nand you can bring it right back up.\n\n495\n00:27:04.240 --> 00:27:08.682\nBut if you're not using VTP, just having\nto manually jump in there and redefine\n\n496\n00:27:08.682 --> 00:27:13.005\nthose vlans is not that big of a deal,\nand your network will come back online.\n\n497\n00:27:13.005 --> 00:27:17.461\nAll right, well, Ronnie, I think that's\nabout all I've got on vlan pruning and\n\n498\n00:27:17.461 --> 00:27:19.540\nVTP, and really, vlans in general.\n\n499\n00:27:19.540 --> 00:27:22.200\nThey are a really important\nfeature of Cisco switches.\n\n500\n00:27:22.200 --> 00:27:26.180\nIt's one of the things that sets them\napart from those lower end cheap switches,\n\n501\n00:27:26.180 --> 00:27:29.866\nis that we can start to create all of\nthese really neat segments inside of our\n\n502\n00:27:29.866 --> 00:27:33.986\nnetwork that match up with how we use our\ncomputers, and that's a valuable thing.\n\n503\n00:27:33.986 --> 00:27:35.873\n>> All right, well, Don,\nthank you again for\n\n504\n00:27:35.873 --> 00:27:38.410\nintroducing that concept\nto us of the VTP pruning.\n\n505\n00:27:38.410 --> 00:27:42.020\nIt really is a technology to help us\nto make sure that we don't try and\n\n506\n00:27:42.020 --> 00:27:45.140\noverload those trunks in between,\n\n507\n00:27:45.140 --> 00:27:48.660\nespecially when we don't need traffic\ngoing into other switches as well.\n\n508\n00:27:48.660 --> 00:27:51.770\nAnd so, just turning it on is\nactually kind of the hardest command,\n\n509\n00:27:51.770 --> 00:27:53.015\nI think, that you actually showed us.\n\n510\n00:27:53.015 --> 00:27:54.120\n>> [LAUGH]\n>> All the other commands,\n\n511\n00:27:54.120 --> 00:27:58.320\nwe already saw before, so they should\nbe there and easy for you to practice.\n\n512\n00:27:58.320 --> 00:28:02.130\nRemember that that’s the whole goal and\nidea, is to eliminate those vlans that you\n\n513\n00:28:02.130 --> 00:28:05.040\nreally don’t need going across\nthose trunk links as well, and\n\n514\n00:28:05.040 --> 00:28:08.870\ntake a look at this entire little\nmini series with N of course.\n\n515\n00:28:08.870 --> 00:28:12.700\nWhen you talk about learning about vlans,\nwe have a great introduction right here,\n\n516\n00:28:12.700 --> 00:28:15.520\nand this should help round it out for\nus as well.\n\n517\n00:28:15.520 --> 00:28:18.880\nWell, that brings us to a great place for\nus to also end this episode then.\n\n518\n00:28:18.880 --> 00:28:22.850\nSigning off for ITProTV,\nI've been your host, Ronnie Wong.\n\n519\n00:28:22.850 --> 00:28:23.850\n>> And I'm Don Pezet.\n\n520\n00:28:23.850 --> 00:28:27.030\n>> Stay tuned right here for\nmore CCENT episodes.\n\n521\n00:28:28.574 --> 00:28:35.880\n[MUSIC]\n\n",
          "vimeoId": "174813946"
        },
        {
          "description": "In this episode, Ronnie and Don show how to use Layer 2 discovery protocols.  CDP and LLDP are two protocols used.   They configure and discuss the usage of both protocols.  CDP is Cisco proprietary and LLDP is open standard and works with non Cisco equipment.  These discovery protocols work with devices that support either or both of these protocols.  The guys also show how to discover machines connected to Cisco switches by using the ARP and mac address table.",
          "length": "1709",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-2-3-layer_2_discovery_protocols-071116-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-2-3-layer_2_discovery_protocols-071116-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-2-3-layer_2_discovery_protocols-071116-1-sm.jpg",
          "title": "Layer 2 Discovery Protocols",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.314 --> 00:00:14.620\nWelcome to another great\nepisode right here on ITProTV.\n\n3\n00:00:14.620 --> 00:00:16.387\nI'm your host Ronnie Wong, and\n\n4\n00:00:16.387 --> 00:00:20.651\nwe're continuing on with some Cisco CCENT\nepisodes that we've been doing.\n\n5\n00:00:20.651 --> 00:00:24.600\nAnd what we wanna do today of course is\nto move a little bit further into our LAN\n\n6\n00:00:24.600 --> 00:00:25.731\nswitching content.\n\n7\n00:00:25.731 --> 00:00:28.800\nI'm gonna be talking about Cisco\ndiscovery protocol as well.\n\n8\n00:00:28.800 --> 00:00:30.610\nAnd who better to help us then Mr.\nDon Pezet.\n\n9\n00:00:30.610 --> 00:00:32.050\nDon, welcome back to our studios.\n\n10\n00:00:32.050 --> 00:00:33.050\n>> Thanks for having me back Ronnie.\n\n11\n00:00:33.050 --> 00:00:35.940\nReady to dive into some layer\ntwo discovery in this episode.\n\n12\n00:00:35.940 --> 00:00:40.800\nAnd what we're gonna look at is kind\nof like how you learn your network.\n\n13\n00:00:40.800 --> 00:00:42.900\nAnd I'll give you just a great example.\n\n14\n00:00:42.900 --> 00:00:46.250\nIf you go to work somewhere brand new,\nright, so you get a new job,\n\n15\n00:00:46.250 --> 00:00:49.400\nyou go in and\nyou sit down to manage their network.\n\n16\n00:00:49.400 --> 00:00:52.170\nWell, there's some basic\nstuff you expect to get.\n\n17\n00:00:52.170 --> 00:00:56.020\nYou expect somebody to have some\nnice little diagrams that show\n\n18\n00:00:56.020 --> 00:00:59.750\nhow the network is arranged, that show\nwhat cables are plugged in where, and\n\n19\n00:00:59.750 --> 00:01:02.380\nwhat device hierarchy is out there.\n\n20\n00:01:02.380 --> 00:01:03.890\nYou kind of expect to have that.\n\n21\n00:01:03.890 --> 00:01:05.530\nBut, I'll be honest with you guys,\n\n22\n00:01:05.530 --> 00:01:09.530\nmost companies don't do a good\njob of maintaining documentation.\n\n23\n00:01:09.530 --> 00:01:14.380\nSo you walk into a server room and you see\nrouters, you see switches, it's all there.\n\n24\n00:01:14.380 --> 00:01:18.110\nAnd you see a giant spaghetti mess\nof cabling in front of them and\n\n25\n00:01:18.110 --> 00:01:20.620\nyou have no idea what plugs into what.\n\n26\n00:01:20.620 --> 00:01:23.570\nAnd so one day you get a message\nfrom a router saying that one of\n\n27\n00:01:23.570 --> 00:01:26.530\nthe interfaces went down and\na link is down and you're like,\n\n28\n00:01:26.530 --> 00:01:30.400\nwell I don't know what that is,\nwhat's even plugged into that link?\n\n29\n00:01:30.400 --> 00:01:31.490\nI don't know.\n\n30\n00:01:31.490 --> 00:01:34.100\nSo what Cisco has done\nis they've built a few\n\n31\n00:01:34.100 --> 00:01:38.298\ndifferent technologies into their routers\nand switches to help you figure that out.\n\n32\n00:01:38.298 --> 00:01:43.530\nIt help you figure out how everything\nis arranged even without going and\n\n33\n00:01:43.530 --> 00:01:47.970\ntracing the cables because, I mean I\ncould, I could go to the router and\n\n34\n00:01:47.970 --> 00:01:51.690\nfind the cable and then slowly\ntrace it back, following the cable.\n\n35\n00:01:51.690 --> 00:01:54.685\nAnd it gets into the big mess and\nyou got sort through all that and\n\n36\n00:01:54.685 --> 00:01:57.930\nsift through and eventually try and\nfind the other end.\n\n37\n00:01:57.930 --> 00:02:02.689\nWell, that might be a 30 foot cable or\ncould be a 300 foot cable for that matter.\n\n38\n00:02:02.689 --> 00:02:06.210\nAnd you needed to follow the whole\nlink and it takes a long time.\n\n39\n00:02:06.210 --> 00:02:09.380\nIf you have toning equipment, you could\nhook up a toner on one side and then\n\n40\n00:02:09.380 --> 00:02:12.730\nfollow it with a little receiver until\nyou figure out where that cable runs,\n\n41\n00:02:12.730 --> 00:02:16.740\nbut that requires unplugging one end of\nthe cable which you might not want to do.\n\n42\n00:02:16.740 --> 00:02:19.260\nSo the Cisco technologies\nbuilt into their routers and\n\n43\n00:02:19.260 --> 00:02:23.320\nswitches let us find out where these\ncables run without unplugging them\n\n44\n00:02:23.320 --> 00:02:26.700\nwhile they're active without interfering\nwith communications in any way.\n\n45\n00:02:26.700 --> 00:02:30.570\nSo if I ever go to work on a network that\nI've never worked on before and they tell\n\n46\n00:02:30.570 --> 00:02:34.590\nme, sorry we don't have any documentation\nas far as what plugs in where.\n\n47\n00:02:34.590 --> 00:02:36.240\nFirst off I'm not surprised, and\n\n48\n00:02:36.240 --> 00:02:40.410\nsecondly I don't panic because I've got\nthe technologies to learn the network.\n\n49\n00:02:40.410 --> 00:02:43.030\nSo let me show you how that works, okay.\n\n50\n00:02:43.030 --> 00:02:47.610\nIf we have a diagram like this, well I\ncan look and I can see, all right well,\n\n51\n00:02:47.610 --> 00:02:51.780\nport 23 here on this switch is\nrunning to port 23 on this switch,\n\n52\n00:02:51.780 --> 00:02:55.050\nand port 24 on this switch runs\ndown to port 23 on this one.\n\n53\n00:02:55.050 --> 00:02:57.460\nIt's in the diagram, I've got it, okay.\n\n54\n00:02:57.460 --> 00:03:02.000\nBut if I go there and they don't have a\ndiagram like this, then they're just gonna\n\n55\n00:03:02.000 --> 00:03:08.460\ndrop me right into maybe even consoles or\nmaybe I can SSH into the devices.\n\n56\n00:03:08.460 --> 00:03:11.480\nAnd I get into the command prompt and\nthat's it, okay.\n\n57\n00:03:11.480 --> 00:03:17.270\nWell from here we can actually\nfigure out what's plugged in where.\n\n58\n00:03:17.270 --> 00:03:19.720\nThe key protocol we're gonna use\nis the one that Ronnie mentioned,\n\n59\n00:03:19.720 --> 00:03:21.780\nCisco Discovery Protocol,\nor CDP, all right.\n\n60\n00:03:22.870 --> 00:03:27.410\nLike it's name implies, Cisco Discovery\nProtocol was created by Cisco, and so\n\n61\n00:03:27.410 --> 00:03:30.700\nlike many protocols it\nis Cisco proprietary.\n\n62\n00:03:30.700 --> 00:03:35.700\nIf I'm just trying to discover Cisco\nequipment, CDP works great and\n\n63\n00:03:35.700 --> 00:03:36.296\nI can find it.\n\n64\n00:03:36.296 --> 00:03:42.500\nEven better, CDP is turned on on Cisco\nrouters and switches by default.\n\n65\n00:03:42.500 --> 00:03:46.890\nSo without me doing a thing\nCDP should already be running.\n\n66\n00:03:46.890 --> 00:03:49.720\nSo here I am on CORE1, and if I run,\n\n67\n00:03:49.720 --> 00:03:54.530\nshow cdp, that's gonna give me\ninformation about CDP itself.\n\n68\n00:03:54.530 --> 00:03:57.420\nAnd it's gonna tell me that it is running\n\n69\n00:03:57.420 --> 00:03:59.730\nmy global CDP information\nis that it's running.\n\n70\n00:03:59.730 --> 00:04:03.840\nWe are sending advertisements\nevery 60 seconds.\n\n71\n00:04:03.840 --> 00:04:07.718\nSo every 60 seconds we're sending\nout a little beacon message saying,\n\n72\n00:04:07.718 --> 00:04:11.440\nhey I'm NYCORE1#, who are you?\n\n73\n00:04:11.440 --> 00:04:14.380\nRight, so every 60 seconds\nwe're telling people about us.\n\n74\n00:04:14.380 --> 00:04:18.480\nAnd hopefully every 60 seconds\nthey are telling us about them.\n\n75\n00:04:18.480 --> 00:04:21.097\nSo I should be learning NYACCESS1 and\nNYCORE2,\n\n76\n00:04:21.097 --> 00:04:25.500\nevery 60 seconds they should be\ntelling me that they're out there.\n\n77\n00:04:25.500 --> 00:04:27.960\nI can see I have a holdtime\nvalue of a 180 seconds.\n\n78\n00:04:27.960 --> 00:04:34.650\nAnd what that means is that if somebody\ngoes offline I'll wait 180 seconds,\n\n79\n00:04:34.650 --> 00:04:39.660\nor 3 minutes, before I age them out and\ntake them out of my CDP database.\n\n80\n00:04:39.660 --> 00:04:41.560\nI'm getting communications\nevery 60 seconds so\n\n81\n00:04:41.560 --> 00:04:45.200\nthey'd have to be offline for\n3 minutes before I flag them as off.\n\n82\n00:04:45.200 --> 00:04:47.750\nAnd then I can see that\nI'm running in CDP version\n\n83\n00:04:47.750 --> 00:04:49.920\ntwo mode that's enabled by default.\n\n84\n00:04:49.920 --> 00:04:52.950\nThere's CDP version one which carried\na little less information that\n\n85\n00:04:52.950 --> 00:04:53.790\nCDP version two.\n\n86\n00:04:53.790 --> 00:04:55.860\nNow it carries some\nadditional information.\n\n87\n00:04:55.860 --> 00:04:58.740\nMost Cisco equipment does\nCDP version two by default.\n\n88\n00:04:59.810 --> 00:05:04.930\nNow, show CDP just tells\nme that I'm running CDP.\n\n89\n00:05:04.930 --> 00:05:10.100\nShow CDP neighbors,\nthat's the command that's really handy.\n\n90\n00:05:10.100 --> 00:05:14.650\nWhat this is going to show me\nis any Cisco equipment that is\n\n91\n00:05:14.650 --> 00:05:16.790\ndirectly plugged into this switch.\n\n92\n00:05:16.790 --> 00:05:19.845\nNow that's an important piece right there,\nit's got to be directly plugged in.\n\n93\n00:05:19.845 --> 00:05:25.215\nSo for example if I run show cdp\nneighbors on this top switch up here,\n\n94\n00:05:25.215 --> 00:05:28.265\nit should see both of these switches\ndown at the bottom because they're both\n\n95\n00:05:28.265 --> 00:05:30.495\nplugged into this switch.\n\n96\n00:05:30.495 --> 00:05:35.115\nBut if I run show cdp neighbors on this\nswitch, it has one uplink to the core and\n\n97\n00:05:35.115 --> 00:05:39.300\nso it's only going to see the core,\nit's not going to see this other switch.\n\n98\n00:05:39.300 --> 00:05:42.280\nCDP only shows you stuff\ndirectly plugged in.\n\n99\n00:05:42.280 --> 00:05:46.580\nRemember the name of this episode,\nlayer two discovery protocols.\n\n100\n00:05:46.580 --> 00:05:48.760\nCDP is a layer two protocol.\n\n101\n00:05:48.760 --> 00:05:53.460\nIt doesn't use layer three, it doesn't\nuse IP addresses, so it's not routable.\n\n102\n00:05:53.460 --> 00:05:56.400\nIt can only pass between\nlayer two devices, so\n\n103\n00:05:56.400 --> 00:05:58.480\nit's just gonna show us\nthings directly connected.\n\n104\n00:05:58.480 --> 00:06:02.530\nIt's neat because we can use CDP\nto determine if a link is up,\n\n105\n00:06:02.530 --> 00:06:05.400\neven if IP is completely configured wrong.\n\n106\n00:06:05.400 --> 00:06:07.490\nLet's say these were routers\ninstead of switches.\n\n107\n00:06:07.490 --> 00:06:12.190\nI might have 192.168.1.1 on this\ninterface and 172.16.0.1 on this\n\n108\n00:06:12.190 --> 00:06:16.750\nother interface,\ntwo completely different networks.\n\n109\n00:06:16.750 --> 00:06:20.450\nIP is not gonna work, IP is broken,\nbut CDP will still work.\n\n110\n00:06:20.450 --> 00:06:21.840\nI'll still see that neighbor.\n\n111\n00:06:21.840 --> 00:06:24.670\nSo it's a great way to see if the line\nis even functioning in the first place.\n\n112\n00:06:25.670 --> 00:06:26.410\nAll right, so\n\n113\n00:06:26.410 --> 00:06:31.640\nif I run show cdp neighbors, that's gonna\nshow me anybody directly plugged in.\n\n114\n00:06:31.640 --> 00:06:34.860\nAnd I get a couple of results there,\ndon't I, all right.\n\n115\n00:06:34.860 --> 00:06:35.390\nLet's look at that.\n\n116\n00:06:35.390 --> 00:06:36.960\nI've got NYACCESS1.\n\n117\n00:06:38.080 --> 00:06:45.460\nNYACCESS1 is plugged into my\ninterface Fas 1/0/22, right.\n\n118\n00:06:45.460 --> 00:06:49.810\nNow I know exactly what port ACCESS1\nis plugged into on this switch.\n\n119\n00:06:49.810 --> 00:06:50.410\nEven better,\n\n120\n00:06:50.410 --> 00:06:55.660\nif I scroll all the way over here\nthe port ID on the other end, Fas 0/24.\n\n121\n00:06:55.660 --> 00:07:01.540\nSo it's port 22 on my end,\nit's port 24 on the other end.\n\n122\n00:07:01.540 --> 00:07:04.930\nNow I don't have to go\ntrace a cable at all.\n\n123\n00:07:04.930 --> 00:07:08.310\nIt can be in a cable management\nbox where it's all closed up and\n\n124\n00:07:08.310 --> 00:07:12.411\nzip tied together and there might\nbe 1,000 cables bundled together.\n\n125\n00:07:12.411 --> 00:07:17.383\nI don't care which cable it is because\nI know on NYCORE1 it's port 22,\n\n126\n00:07:17.383 --> 00:07:19.800\nand on NYACCESS1 it's port 24.\n\n127\n00:07:19.800 --> 00:07:22.940\nI know the ends of that cable,\nI can now go and find them, right.\n\n128\n00:07:22.940 --> 00:07:25.340\nI can unplug them or\nmove them or recrimp them or\n\n129\n00:07:25.340 --> 00:07:27.770\nwhatever it is I need to do to\nget them functioning again.\n\n130\n00:07:27.770 --> 00:07:30.520\nI know where they're plugged in, right.\n\n131\n00:07:30.520 --> 00:07:32.690\nI also get some other information, right.\n\n132\n00:07:32.690 --> 00:07:34.590\nThe hold down timer,\n\n133\n00:07:34.590 --> 00:07:37.070\nhow has long has it been since I've\nheard from that person, right?\n\n134\n00:07:37.070 --> 00:07:38.800\nRemember my hold down\ntimer is 160 seconds.\n\n135\n00:07:38.800 --> 00:07:41.400\nSo we start counting down from-\n>> 180.\n\n136\n00:07:41.400 --> 00:07:43.380\n>> Sorry, 180 seconds.\n\n137\n00:07:43.380 --> 00:07:44.680\nWell we're down to 147 here,\n\n138\n00:07:44.680 --> 00:07:47.550\nthat means I haven't heard from\nthat person in 33 seconds.\n\n139\n00:07:47.550 --> 00:07:49.470\nIs that bad?\n\n140\n00:07:49.470 --> 00:07:52.120\nNo, remember we send\nmessages every 60 seconds.\n\n141\n00:07:52.120 --> 00:07:55.883\nNow if this gets below 120,\nthat's a bit of a problem.\n\n142\n00:07:55.883 --> 00:07:59.365\nIf it gets below 120 it's been over\na minute since I've heard from the other\n\n143\n00:07:59.365 --> 00:08:01.067\nperson, they might be down, right.\n\n144\n00:08:01.067 --> 00:08:04.610\nAnd so you can sit here and run show cdp\nneighbors over and over and over again.\n\n145\n00:08:04.610 --> 00:08:10.848\nAnd you should never see anybody below a\n120 because we should be getting messages.\n\n146\n00:08:10.848 --> 00:08:12.460\nAnd if you just keep running it over and\nover and\n\n147\n00:08:12.460 --> 00:08:15.880\nover again you'll see the numbers\nslowly tick down, right.\n\n148\n00:08:15.880 --> 00:08:18.050\nI'm just running that same\ncommand over and over.\n\n149\n00:08:18.050 --> 00:08:22.220\nIt's gonna tick down until\nit gets close to a 120 and\n\n150\n00:08:22.220 --> 00:08:26.450\nthen they'll refresh, right, if I stall\nfor 20 more seconds you'll see it.\n\n151\n00:08:26.450 --> 00:08:28.250\nSo that's happening all the time.\n\n152\n00:08:28.250 --> 00:08:32.410\nIt's just running in the background, kinda\ndoing it's thing, learning the neighbors.\n\n153\n00:08:32.410 --> 00:08:34.410\nI also have that capability column, and\n\n154\n00:08:34.410 --> 00:08:37.200\nthe capability is telling me\nwhat kind of device it is.\n\n155\n00:08:37.200 --> 00:08:41.140\nIn this case I can see it's got an S\nwhich lets me know that it's a switch,\n\n156\n00:08:41.140 --> 00:08:43.500\nright, and we're at 120 seconds.\n\n157\n00:08:43.500 --> 00:08:46.850\nThere we go, bumps right back up to\n180 and starts ticking down again.\n\n158\n00:08:46.850 --> 00:08:49.400\nWe kinda saw that kind of\nroll over right there.\n\n159\n00:08:49.400 --> 00:08:52.200\nOver here, the capability though,\nthat I see S, it's a switch, right.\n\n160\n00:08:52.200 --> 00:08:56.020\nAnd if I look up here at my table\nI get that legend that tells me,\n\n161\n00:08:56.020 --> 00:08:57.790\nyes S is a switch, right.\n\n162\n00:08:57.790 --> 00:09:03.364\nI see I, I means it supports IGMP,\nthe Internet Group Management Protocol,\n\n163\n00:09:03.364 --> 00:09:07.247\nwhich lets me do multicast communications,\nright.\n\n164\n00:09:07.247 --> 00:09:10.865\nIf there was a router out there I would\nsee R for router, or transparent bridge,\n\n165\n00:09:10.865 --> 00:09:13.896\nsource route bridge,\ndifferent types of devices in to identify.\n\n166\n00:09:13.896 --> 00:09:16.866\nSo it's telling me what\nthat type of device is, and\n\n167\n00:09:16.866 --> 00:09:19.370\nthen even better what the model number is.\n\n168\n00:09:19.370 --> 00:09:25.057\nI can see the one switch is a 2960,\nthe other switches are 3750s, right.\n\n169\n00:09:25.057 --> 00:09:28.460\n3750 version two is being\nkind of clipped there.\n\n170\n00:09:28.460 --> 00:09:32.010\nCan only fit so much on the screen so\nit is truncating some of the data.\n\n171\n00:09:32.010 --> 00:09:35.680\nNow, if I wanna see that\ndata that's being truncated,\n\n172\n00:09:35.680 --> 00:09:39.050\nI can do show cdp neighbors detail.\n\n173\n00:09:39.050 --> 00:09:41.220\nAnd now I'll see the additional\ndata that was being hid from me.\n\n174\n00:09:41.220 --> 00:09:42.670\nI'll show you that in just a moment.\n\n175\n00:09:42.670 --> 00:09:47.120\nBut before I do that,\nnotice that I've got two NYCORE2s.\n\n176\n00:09:47.120 --> 00:09:49.540\nThat doesn't mean that there's\ntwo switches with the same name,\n\n177\n00:09:49.540 --> 00:09:51.120\nalthough that is certainly possible.\n\n178\n00:09:51.120 --> 00:09:55.050\nIn this case it means that I've got\ntwo connections to the same switch.\n\n179\n00:09:55.050 --> 00:10:00.835\nMy port 23 and port 24 are plugged into\nport 23 and 24 on the other switch, right.\n\n180\n00:10:00.835 --> 00:10:03.890\nI've got two connections\nto the same switch.\n\n181\n00:10:03.890 --> 00:10:07.050\nMaybe I'm trying to do redundancy or\n\n182\n00:10:07.050 --> 00:10:09.210\nincrease my bandwidth by bonding links,\nor whatever.\n\n183\n00:10:09.210 --> 00:10:12.239\nFor whatever reason I've got two links\nbetween me and the other switch.\n\n184\n00:10:13.860 --> 00:10:17.320\nAll right,\nnow if I run show cdp neighbors detail\n\n185\n00:10:18.330 --> 00:10:21.380\nnow it's gonna show me the full set of\ninformation without truncating it and\n\n186\n00:10:21.380 --> 00:10:25.400\nthere's a lot more than what we\njust saw in that little table.\n\n187\n00:10:25.400 --> 00:10:30.470\nSo the first values come up here,\nhere is NYACCESS1.\n\n188\n00:10:30.470 --> 00:10:36.120\nNow for\nNYACCESS1 I can see that it's a 2960 and\n\n189\n00:10:36.120 --> 00:10:39.410\nnow I see the full model number,\nit's a 2960-24TC-S.\n\n190\n00:10:39.410 --> 00:10:43.770\nSo it's got 24 ports, it's all ethernet,\nit's not POE, all right.\n\n191\n00:10:43.770 --> 00:10:49.079\nI can see that my interface was fa1/0/22,\nwe saw that before in my hold time.\n\n192\n00:10:50.080 --> 00:10:57.840\nI can also see the IOS version,\nit's running 15.0(2)SE9.\n\n193\n00:10:57.840 --> 00:11:00.030\nI can see exactly what version\nof IOS it's running and\n\n194\n00:11:00.030 --> 00:11:03.170\nI can even get the IOS header right here,\nall right.\n\n195\n00:11:03.170 --> 00:11:08.290\nThen I get more CDP data, what its\nnative VLAN is, what its duplex is.\n\n196\n00:11:08.290 --> 00:11:11.340\nIt's a lot of information\nabout that device.\n\n197\n00:11:11.340 --> 00:11:14.320\nAnd let me just scroll\ndown a little bit more and\n\n198\n00:11:14.320 --> 00:11:17.640\nthen I get the power management\ninformation right there, okay.\n\n199\n00:11:17.640 --> 00:11:20.800\nIf the switch had an IP address,\nI'd see the IP address listed here.\n\n200\n00:11:20.800 --> 00:11:24.729\nThe switch doesn't have an IP assigned to\nit right now which is a nice part about\n\n201\n00:11:24.729 --> 00:11:27.942\nlayer two discovery,\nyou don't need an IP address to see this,\n\n202\n00:11:27.942 --> 00:11:29.212\nthis is all at layer two.\n\n203\n00:11:29.212 --> 00:11:32.895\nAnd then after that I get NYCORE2 and\nthe same type of information.\n\n204\n00:11:32.895 --> 00:11:37.517\nThe platform, I can see this one is\na 3750v2-24PS, this one is POE-capable,\n\n205\n00:11:37.517 --> 00:11:41.105\nright, it's right there\non the model number.\n\n206\n00:11:42.160 --> 00:11:46.765\nAnd I can see the IOS version,\nthis one is running 15.0 also,\n\n207\n00:11:46.765 --> 00:11:48.705\nright, same IOS version.\n\n208\n00:11:48.705 --> 00:11:51.468\nSo I can look at all that information and\nsee it, and then for\n\n209\n00:11:51.468 --> 00:11:53.990\neach of the other ones that\nare here in my list, okay.\n\n210\n00:11:53.990 --> 00:11:58.420\nNow show cdp neighbor detail is nice\nif you have a small network, right.\n\n211\n00:11:58.420 --> 00:12:01.520\nIf I only have three switches or\nthree routers or\n\n212\n00:12:01.520 --> 00:12:05.230\nwhatever, I can just show cdp neighbors\ndetail and I'll see the information.\n\n213\n00:12:05.230 --> 00:12:07.410\nBut if you have a ton\nof devices out there,\n\n214\n00:12:07.410 --> 00:12:09.580\nyou don't want to have to\nscroll through all of them.\n\n215\n00:12:09.580 --> 00:12:14.580\nSo instead of show cdp neighbors detail,\nwhat you'll probably use is show cdp\n\n216\n00:12:15.580 --> 00:12:19.080\nentry and\nthen the name of the device you wanna see.\n\n217\n00:12:19.080 --> 00:12:23.430\nI just want to see NYACCESS1,\nI don't wanna see the other guys.\n\n218\n00:12:23.430 --> 00:12:28.540\nAnd now it will give me the detailed\noutput just for NYACCESS1 and that's it.\n\n219\n00:12:28.540 --> 00:12:31.250\nSo if you have hundreds of devices that\nare turning up, that's a great way to\n\n220\n00:12:31.250 --> 00:12:35.980\nfilter it down and shrink the amount\nof information that you see, all right.\n\n221\n00:12:35.980 --> 00:12:38.840\nThere's a few other things\nthat we can do with cdp.\n\n222\n00:12:38.840 --> 00:12:42.320\nThere's show cdp traffic,\nwhich is a nice one.\n\n223\n00:12:42.320 --> 00:12:44.954\nIf you're not seeing somebody\nthat you expect to see,\n\n224\n00:12:44.954 --> 00:12:47.970\nit maybe that cdp is tuned off.\n\n225\n00:12:47.970 --> 00:12:52.650\nAnd so you can come in here and look and\nsee, am I actually moving cdp data, and\n\n226\n00:12:52.650 --> 00:12:57.940\nI can see here that I've sent\na 139 cdp messages to myself and\n\n227\n00:12:57.940 --> 00:13:00.800\nI've received 96,\nwe've had input of 96 of them.\n\n228\n00:13:00.800 --> 00:13:05.060\nSo I'm definitely sending more than\nI'm receiving but the other guys\n\n229\n00:13:05.060 --> 00:13:08.080\nare talking to me and I get a little\nmore information there, all right.\n\n230\n00:13:09.720 --> 00:13:12.950\nIf cdp was turned off when we ran\n\n231\n00:13:12.950 --> 00:13:17.240\nshow cdp back at the very beginning it\nwould have told me that it was turned off.\n\n232\n00:13:17.240 --> 00:13:22.130\nBut you can actually turn cdp on and\noff on an individual interface basis also.\n\n233\n00:13:22.130 --> 00:13:27.190\nAnd if you do that now that one\ninterface won't be running cdp anymore,\n\n234\n00:13:27.190 --> 00:13:31.770\nso you can run show cdp interface and\n\n235\n00:13:31.770 --> 00:13:38.670\nit will tell you the cdp configuration for\neach of your individual interfaces, right.\n\n236\n00:13:38.670 --> 00:13:40.680\nAnd you can be a little more specific.\n\n237\n00:13:40.680 --> 00:13:45.150\nIf you don't wanna scroll through them all\nlike that you can say show cdp interface\n\n238\n00:13:45.150 --> 00:13:47.690\nand then you can tell it exactly\nwhich interface you wanna look at.\n\n239\n00:13:47.690 --> 00:13:50.950\nSo maybe I wanna look at fa1/0/24 and\n\n240\n00:13:50.950 --> 00:13:53.398\nnow I'll just get the information for\nthat one interface.\n\n241\n00:13:53.398 --> 00:13:57.200\nSo if it has been turn off on\nan interface I'll see it here, right.\n\n242\n00:13:57.200 --> 00:14:00.710\nKeep in mind the cdp is running\non Cisco routers and switches,\n\n243\n00:14:00.710 --> 00:14:02.150\nit's running by default.\n\n244\n00:14:02.150 --> 00:14:05.680\nOn ASA's it's actually not\nsupported on most ASAs, but\n\n245\n00:14:05.680 --> 00:14:07.370\nthe ones that it is it's\nturned off by default.\n\n246\n00:14:07.370 --> 00:14:09.260\nSo ASAs you won't find.\n\n247\n00:14:09.260 --> 00:14:13.620\nBut switches, routers, their voice over\nIP phones, the aironet access points,\n\n248\n00:14:13.620 --> 00:14:16.970\nall the mariachi equipment,\nthey're running cdp by default and\n\n249\n00:14:16.970 --> 00:14:18.610\nyou'll detect them and\nyou'll see them right here.\n\n250\n00:14:19.770 --> 00:14:23.880\nNow, if we wanna turn off cdp we can,\nright, you can turn it off globally or\n\n251\n00:14:23.880 --> 00:14:26.460\nyou can turn it off on\na per interface basis.\n\n252\n00:14:26.460 --> 00:14:29.140\nAnd so\nthere's two different commands for that.\n\n253\n00:14:29.140 --> 00:14:35.350\nIf I jump in to my configuration, and\nlet's say I just wanna turn it off for\n\n254\n00:14:35.350 --> 00:14:40.380\nport 24,\nI can get into interface fa1/0/24.\n\n255\n00:14:40.380 --> 00:14:46.750\nAnd if you do a no cdp,\nyou'll see it right there, no cdp enable.\n\n256\n00:14:46.750 --> 00:14:52.250\nNo cdp enable says turn off cdp for\nthis interface.\n\n257\n00:14:52.250 --> 00:14:55.670\nCdp enable turns it on,\nno cdp enable turns it off.\n\n258\n00:14:55.670 --> 00:14:58.709\nSo now I'm not participating\nin cdp on this interface.\n\n259\n00:14:59.790 --> 00:15:03.380\nKey thing to remember is that I've already\nlearned the stuff on the interface and\n\n260\n00:15:03.380 --> 00:15:04.778\nam gonna hold that for a 180 seconds.\n\n261\n00:15:04.778 --> 00:15:08.280\nOkay, so I'm gonna wait for\nthat to time out before it goes away.\n\n262\n00:15:08.280 --> 00:15:12.739\nSo if I were to do a show cdp\nneighbors right now I'll still see\n\n263\n00:15:12.739 --> 00:15:15.135\nsomebody on port 24, right.\n\n264\n00:15:15.135 --> 00:15:18.024\nThere's NYCORE2 on port 24, but\n\n265\n00:15:18.024 --> 00:15:23.813\nremember how it aged down to 120\nseconds before and then it flipped up?\n\n266\n00:15:23.813 --> 00:15:26.848\nThis time it's gonna age\nto 120 seconds and then\n\n267\n00:15:26.848 --> 00:15:31.730\nit's gonna continue to go down until it\ngets to 0 when it will finally disappear.\n\n268\n00:15:31.730 --> 00:15:35.750\nSo if I were to sit here and\nrun this command over and over again,\n\n269\n00:15:35.750 --> 00:15:39.180\nwell we're at 128 seconds and\nthen as soon as that ticks down\n\n270\n00:15:39.180 --> 00:15:42.730\nthe other one is gonna flip over and\ngo back to 180 seconds.\n\n271\n00:15:42.730 --> 00:15:46.960\nBut the one on port 24 is\ngonna continue below 120.\n\n272\n00:15:46.960 --> 00:15:50.060\nSee how I'm not receiving\nmessages anymore.\n\n273\n00:15:50.060 --> 00:15:52.410\nAnd so now it's being aged out.\n\n274\n00:15:52.410 --> 00:15:56.490\nAnd once that ages out, I'm no longer\nusing cdp on that interface, right.\n\n275\n00:15:56.490 --> 00:15:58.280\nSo I just turned it off on\nan individual interface.\n\n276\n00:15:58.280 --> 00:16:02.015\nYou can turn it off globally too,\nthe command is a little different, right.\n\n277\n00:16:02.015 --> 00:16:08.154\nInside of an interface it's no CDP enable.\n\n278\n00:16:08.154 --> 00:16:15.280\nBut at the global prompt if I want to turn\nit off for everybody, it's no CDP run.\n\n279\n00:16:15.280 --> 00:16:19.498\nI stop CDP from running all together,\nwhen you run No CDP run,\n\n280\n00:16:19.498 --> 00:16:22.188\nthat kills of CDP for the whole device.\n\n281\n00:16:22.188 --> 00:16:25.951\nAnd now if I do a show CDP neighbors,\n\n282\n00:16:25.951 --> 00:16:31.107\nCDP is not enabled,\nit's completely shut off.\n\n283\n00:16:31.107 --> 00:16:34.395\nSo I don't have to wait for things to\nage out or anything, it's just gone.\n\n284\n00:16:34.395 --> 00:16:37.406\nAnd if I do a show CDP,\nCDP is not enabled.\n\n285\n00:16:37.406 --> 00:16:39.905\nRight now, it's just completely\nturned off on this advice.\n\n286\n00:16:39.905 --> 00:16:42.450\nSo pretty easy to work with that.\n\n287\n00:16:42.450 --> 00:16:44.893\nIt's on by default, so\nthat's pretty much it.\n\n288\n00:16:44.893 --> 00:16:47.276\nBut it's a great way to\nbuild out that network map.\n\n289\n00:16:47.276 --> 00:16:50.389\nIf you go to work somewhere and\nthey don't have a map for you,\n\n290\n00:16:50.389 --> 00:16:52.296\nthis is a great way to build that map.\n\n291\n00:16:52.296 --> 00:16:55.569\nAnd now you can have the Visio documents,\nor whatever it is that you work with,\n\n292\n00:16:55.569 --> 00:16:57.318\nso you know where the heck everything is.\n\n293\n00:16:57.318 --> 00:16:59.140\nThat's a pretty handy thing.\n\n294\n00:16:59.140 --> 00:17:03.175\n>> Now Don, you said that it pretty\nmuch takes three minutes before that CDP\n\n295\n00:17:03.175 --> 00:17:07.488\ninformation ages out, is there anyway\nthat we can change that information?\n\n296\n00:17:07.488 --> 00:17:10.877\n>> Yeah, it's all customizable if\nyou jump in your configuration and\n\n297\n00:17:10.877 --> 00:17:14.800\ndo a CDP question mark, you'll see where\nyou can change your hold down timer,\n\n298\n00:17:14.800 --> 00:17:16.651\nyou can change your regular timers.\n\n299\n00:17:16.651 --> 00:17:19.582\nSo you can make it where your\nadvertising far more frequently or\n\n300\n00:17:19.582 --> 00:17:22.600\nwhatever you can tweak all of those,\njust be careful.\n\n301\n00:17:22.600 --> 00:17:25.560\nIf you change the timers on one,\nyou probably want to change your timers\n\n302\n00:17:25.560 --> 00:17:28.920\nthroughout the entire environment,\nnot just on one.\n\n303\n00:17:28.920 --> 00:17:32.768\nSo that way everybody kind of\nmaking the same decisions,\n\n304\n00:17:32.768 --> 00:17:34.860\nunderstanding the same data.\n\n305\n00:17:34.860 --> 00:17:39.170\nSo that CDP, the Cisco Discovery Protocol,\npretty straight forward, pretty useful.\n\n306\n00:17:39.170 --> 00:17:42.690\nI do wanna talk about another\nprotocol out there called LLDP.\n\n307\n00:17:42.690 --> 00:17:46.296\nLLDP is the link layer discovery protocol,\n\n308\n00:17:46.296 --> 00:17:50.530\nand what LLDP does is\nthe same exact thing.\n\n309\n00:17:50.530 --> 00:17:52.930\nThe difference is it's\nnot Cisco proprietary.\n\n310\n00:17:52.930 --> 00:17:57.690\nLLDP is an IEEE standard, anybody can\nsupport it, so a lot of vendors do.\n\n311\n00:17:57.690 --> 00:18:02.746\nSo your router or your switch may already\nbe running LLDP, not everyone is.\n\n312\n00:18:02.746 --> 00:18:06.568\nLet me just do a show lldp,\nand mine is not enabled.\n\n313\n00:18:06.568 --> 00:18:11.840\nSo if I wanna use lldp,\nI can go on to configuration do lldp run.\n\n314\n00:18:11.840 --> 00:18:16.220\nIt's nice because lldp uses\nthe exact same command as CDP.\n\n315\n00:18:16.220 --> 00:18:18.440\nAnywhere you CDP, change the name to LLDP.\n\n316\n00:18:18.440 --> 00:18:21.420\nSo globally, it's lldp run.\n\n317\n00:18:21.420 --> 00:18:24.079\nOn an interface it would be lldp enable.\n\n318\n00:18:24.079 --> 00:18:28.605\nThe timers, the commands, show lldp\nneighbor, show lldp entry, and so\n\n319\n00:18:28.605 --> 00:18:30.430\non is all done the same thing.\n\n320\n00:18:30.430 --> 00:18:34.700\nSo lldp, it's anywhere you have a cdp,\nchange it to lldp.\n\n321\n00:18:35.840 --> 00:18:38.576\nAnd if I turn that on,\non my other devices, so\n\n322\n00:18:38.576 --> 00:18:41.168\nI've got a couple of other switches here.\n\n323\n00:18:41.168 --> 00:18:43.518\nLet me just turn it on, on them too.\n\n324\n00:18:43.518 --> 00:18:46.740\nSo I'm just gonna through into lldp run.\n\n325\n00:18:46.740 --> 00:18:49.665\nQuick word of caution,\nif you have any older iOSs,\n\n326\n00:18:49.665 --> 00:18:54.500\nsome of the older iOSs don't support LDP\nand so you might have a problem there.\n\n327\n00:18:54.500 --> 00:18:56.496\nBut I'm just gonna get them turned on.\n\n328\n00:18:56.496 --> 00:19:00.880\nAll the modern stuff does and\non the exam everything will.\n\n329\n00:19:00.880 --> 00:19:04.755\nSo it's on,\nlldp has timers just like cdp does.\n\n330\n00:19:04.755 --> 00:19:07.452\nIt has all the same stuff as cdp, so\nwe might have to wait a little bit.\n\n331\n00:19:07.452 --> 00:19:12.016\nBut if I do a show lldp neighbors,\n\n332\n00:19:12.016 --> 00:19:16.748\nand run that I should be learning.\n\n333\n00:19:16.748 --> 00:19:17.451\nThere we go.\n\n334\n00:19:17.451 --> 00:19:19.710\nAnd I'm learning and\nit looks just like cdp.\n\n335\n00:19:19.710 --> 00:19:24.590\nIt's tweaked a little bit, router bridge,\ntelephone, docsis cable device.\n\n336\n00:19:24.590 --> 00:19:27.570\nIt's a little more informative as\nfar as what the device is, and\n\n337\n00:19:27.570 --> 00:19:29.120\nthen you see the information about it.\n\n338\n00:19:29.120 --> 00:19:31.290\nThe whole down timer capabilities and\nso on.\n\n339\n00:19:31.290 --> 00:19:34.720\nSo very, very similar to cdp but\nit's an open standard.\n\n340\n00:19:34.720 --> 00:19:38.368\nSo a lot of people choose to use lldp\ninstead because now we can start to detect\n\n341\n00:19:38.368 --> 00:19:39.572\nthird party equipment.\n\n342\n00:19:39.572 --> 00:19:43.862\nSo I might have pro curve switches or\nJuniper firewalls or whatever and\n\n343\n00:19:43.862 --> 00:19:47.590\nnow be able to detect those and\nwork with them too.\n\n344\n00:19:47.590 --> 00:19:52.440\nSo on the later two discovery side as far\nas mapping our network infrastructure\n\n345\n00:19:52.440 --> 00:19:54.640\nit's really easy using\ntechniques like this or\n\n346\n00:19:54.640 --> 00:19:57.645\nusing cdp or lldp,\nthey both do a great job.\n\n347\n00:19:58.715 --> 00:20:03.362\nThey don't help us map work stations,\nlaptops and severs though, do they?\n\n348\n00:20:03.362 --> 00:20:05.225\nThat's a bit of a challenge that we have.\n\n349\n00:20:05.225 --> 00:20:08.385\nLaptops, work stations, servers,\nthey don't run cdp or lldp, so\n\n350\n00:20:08.385 --> 00:20:09.725\nwe can't discover them that way.\n\n351\n00:20:09.725 --> 00:20:12.435\nYour phones maybe, but\nyour work stations you can't.\n\n352\n00:20:12.435 --> 00:20:16.280\nSo if I need to map those, there's\nactually other techniques we can use and\n\n353\n00:20:16.280 --> 00:20:18.160\nwe kinda saw it in an earlier episode.\n\n354\n00:20:18.160 --> 00:20:21.580\nThe MAC address table is\na great way to find devices.\n\n355\n00:20:21.580 --> 00:20:24.629\nSo if I wanna do something like that,\nif I wanna on and find a device,\n\n356\n00:20:24.629 --> 00:20:26.086\nlet me show you how I would do it.\n\n357\n00:20:26.086 --> 00:20:28.277\nLet me get into a terminal here.\n\n358\n00:20:28.277 --> 00:20:32.620\nLet's say that I wanna figure out\nwhere Ronnie's Laptop is plugged into.\n\n359\n00:20:32.620 --> 00:20:34.799\nI know that Ronnie's laptop\nis on the network and\n\n360\n00:20:34.799 --> 00:20:36.880\nI need to figure out\nwhere it's plugged into.\n\n361\n00:20:36.880 --> 00:20:42.210\nSo what you can do,\nlet me just pull this up.\n\n362\n00:20:42.210 --> 00:20:45.809\nSo this is the switch,\nI'm gonna make that a little bigger so\n\n363\n00:20:45.809 --> 00:20:47.371\nwe'll be able to read it.\n\n364\n00:20:47.371 --> 00:20:50.232\nSo this is the switch that Ronnie and\nI are both plugged into.\n\n365\n00:20:50.232 --> 00:20:54.662\nIt's a 4500 and\nwhat I can do is I can connect to it, and\n\n366\n00:20:54.662 --> 00:20:58.745\nI can find his laptop thanks\nto the Mac address table.\n\n367\n00:20:58.745 --> 00:21:02.201\nNow Ronnie,\nwhat IP address does your laptop have?\n\n368\n00:21:02.201 --> 00:21:03.080\n>> IP address.\n\n369\n00:21:03.080 --> 00:21:04.132\n>> Yep.\n\n370\n00:21:04.132 --> 00:21:06.916\n>> 10.1.230.21.\n\n371\n00:21:06.916 --> 00:21:10.481\n>> All right, so if he tells me that,\nand I may find that through DNS or\n\n372\n00:21:10.481 --> 00:21:13.297\nthrough something else,\nbut I know his IP address.\n\n373\n00:21:13.297 --> 00:21:14.751\nWhat port is he plugged into?\n\n374\n00:21:14.751 --> 00:21:20.420\nWell IPs, that's layer three, so\nthat's gonna be hard for me to match up.\n\n375\n00:21:20.420 --> 00:21:24.209\nBut from the switch, what I can do,\nis I can ping his IP address.\n\n376\n00:21:24.209 --> 00:21:28.960\nI'm gonna ping 10.1.230.21,\nand so I'm able to ping it.\n\n377\n00:21:28.960 --> 00:21:34.410\nAnd when I do a show arp,\nI should have an arp entry for his laptop.\n\n378\n00:21:34.410 --> 00:21:37.940\nAnd sure enough, there it is, 10.1.230.21.\n\n379\n00:21:37.940 --> 00:21:42.070\nAnd thanks to that arp entry\nI can find his MAC address.\n\n380\n00:21:42.070 --> 00:21:43.230\nThere's his MAC address.\n\n381\n00:21:43.230 --> 00:21:46.518\nHis Mac address ends in 2ed9.\n\n382\n00:21:46.518 --> 00:21:49.420\nSo I'm gonna remember that, 2ed9.\n\n383\n00:21:49.420 --> 00:21:53.940\nNow, I can do a show mac address-table.\n\n384\n00:21:53.940 --> 00:21:57.332\nAnd when I run that command,\nI can look in here for 2ed9-\n\n385\n00:21:57.332 --> 00:21:58.081\n>> [LAUGH]\n\n386\n00:21:58.081 --> 00:21:59.311\n>> And I'll know exactly what\n\n387\n00:21:59.311 --> 00:22:00.492\nport it's plugged into.\n\n388\n00:22:00.492 --> 00:22:02.006\nAnd I can just do that real quick, right?\n\n389\n00:22:02.006 --> 00:22:03.085\n>> Yeah.\n>> Well-\n\n390\n00:22:03.085 --> 00:22:03.614\n>> [LAUGH]\n\n391\n00:22:03.614 --> 00:22:04.903\n>> Yeah, it's a big MAC address table.\n\n392\n00:22:04.903 --> 00:22:06.835\nYou'll see we've got a bunch of devices.\n\n393\n00:22:06.835 --> 00:22:08.899\nAt least 100 devices\nplugged into this switch.\n\n394\n00:22:08.899 --> 00:22:12.500\nSo what I probably need to do\nis filter this a little bit.\n\n395\n00:22:12.500 --> 00:22:15.360\nSo I'm gonna run show mac address-table\nand I'm gonna pipe that into\n\n396\n00:22:15.360 --> 00:22:18.670\nthe exclude command or actually,\nI'm gonna use include.\n\n397\n00:22:18.670 --> 00:22:19.870\nInclude will be easier.\n\n398\n00:22:19.870 --> 00:22:25.698\nSo I'm gonna say, take that output\nof the mac address-table command and\n\n399\n00:22:25.698 --> 00:22:29.181\nonly include line that have 2ed9 in them.\n\n400\n00:22:29.181 --> 00:22:32.660\nSo it'll minimize the amount of\nlines that I see, so I can find it.\n\n401\n00:22:32.660 --> 00:22:37.611\nAnd right here, it found his MAC address,\nthere's Ronnie's MAC address right here.\n\n402\n00:22:37.611 --> 00:22:42.688\nAnd if I look over it's\non FastEthernet5/33.\n\n403\n00:22:42.688 --> 00:22:45.750\nNow I know which port on that\nswitch he's plugged into.\n\n404\n00:22:45.750 --> 00:22:48.945\nHe's on blade 5, port 33,\nI can go right there and\n\n405\n00:22:48.945 --> 00:22:51.584\nfind the cable that\nRonnie is plugged into.\n\n406\n00:22:51.584 --> 00:22:55.371\nSo if we know a machine's MAC address or\nits IP address,\n\n407\n00:22:55.371 --> 00:22:57.395\nwe can use the IP to find a MAC.\n\n408\n00:22:57.395 --> 00:22:58.583\nAnd once we have a MAC address,\n\n409\n00:22:58.583 --> 00:23:01.750\nwe can use a MAC address table to\nfigure out where they're plugged into.\n\n410\n00:23:01.750 --> 00:23:04.070\nSo if you're trying to\nmap your server room,\n\n411\n00:23:04.070 --> 00:23:05.990\nyou got a hundred servers that\nare plugged into switches.\n\n412\n00:23:05.990 --> 00:23:09.504\nAnd you don't wanna trace every single\ncable through the cable management,\n\n413\n00:23:09.504 --> 00:23:10.921\nyou can use the MAC addresses.\n\n414\n00:23:10.921 --> 00:23:13.154\nHunt them down, map them out, and\n\n415\n00:23:13.154 --> 00:23:16.770\nnow you've got that\ndocumentation that you need.\n\n416\n00:23:16.770 --> 00:23:18.480\nThat's a real handy technique,\n\n417\n00:23:18.480 --> 00:23:21.730\nwhere it gets a little tricky is\nif there's an uplink involved.\n\n418\n00:23:21.730 --> 00:23:25.330\nBecause I might trace Ronnie's interface\nback to an uplink to another switch.\n\n419\n00:23:25.330 --> 00:23:28.650\nSo then I have to go to that switch and\nlook up its mac address-table.\n\n420\n00:23:28.650 --> 00:23:30.920\nSo how do I know if this is an uplink?\n\n421\n00:23:30.920 --> 00:23:34.544\nWell, I'm gonna look and\nsee if there's more than one interface or\n\n422\n00:23:34.544 --> 00:23:36.523\nmore than one MAC address tied to it.\n\n423\n00:23:36.523 --> 00:23:39.530\nSo remember that include\ncommand I used a minute ago.\n\n424\n00:23:39.530 --> 00:23:44.383\nI'm gonna change that include command and\ninstead of including 2ed, I'm gonna say,\n\n425\n00:23:44.383 --> 00:23:45.506\ninclude 5/33.\n\n426\n00:23:45.506 --> 00:23:50.489\nSo show me every MAC address tied to 5/33,\nand there's only one.\n\n427\n00:23:50.489 --> 00:23:53.319\nIf I got more than one,\nI would know it was an uplink, and\n\n428\n00:23:53.319 --> 00:23:55.983\nI need to go check my other\nswitches until I found it.\n\n429\n00:23:55.983 --> 00:23:58.369\nSo you might have to stumble\naround a bit before you find it.\n\n430\n00:23:58.369 --> 00:24:01.744\nBut it's way faster than tracing\na cable through a server, and\n\n431\n00:24:01.744 --> 00:24:03.601\nthis will help you find that data.\n\n432\n00:24:03.601 --> 00:24:07.839\nSo the next time you go into a network and\nthey don't give you a network diagram,\n\n433\n00:24:07.839 --> 00:24:08.673\ndon't panic.\n\n434\n00:24:08.673 --> 00:24:10.320\nYou can figure it out.\n\n435\n00:24:10.320 --> 00:24:13.110\nAnd on the exam,\nyou could potentially have\n\n436\n00:24:13.110 --> 00:24:15.690\na simulation question where\nthey don't give you on that.\n\n437\n00:24:15.690 --> 00:24:18.540\nAnd now, you're like, well,\nI'm supposed to configure something but\n\n438\n00:24:18.540 --> 00:24:20.840\nI don't know what cable runs\nbetween these two hosts.\n\n439\n00:24:20.840 --> 00:24:21.960\nYou can figure it out.\n\n440\n00:24:21.960 --> 00:24:25.810\nUse CDP, use LLDP,\nuse the Mac address tables.\n\n441\n00:24:25.810 --> 00:24:29.560\nWhatever technique it is that it takes for\nyou to find out where that's plugged into,\n\n442\n00:24:29.560 --> 00:24:32.061\nit's all right there\nbuilt into the switch.\n\n443\n00:24:33.485 --> 00:24:38.405\nAll right, there are other things that we\ncan do on layer two and even layer three.\n\n444\n00:24:38.405 --> 00:24:39.475\nReally wanna get crazy.\n\n445\n00:24:39.475 --> 00:24:44.035\nBut I think we've already gone a little\nbit beyond what's on the CCENT exam.\n\n446\n00:24:44.035 --> 00:24:45.762\nSo we're pretty well covered here.\n\n447\n00:24:45.762 --> 00:24:48.772\nJust remember when you're learning these,\nCDP and\n\n448\n00:24:48.772 --> 00:24:51.622\nLLDP are configured exactly the same.\n\n449\n00:24:51.622 --> 00:24:55.462\nSo you learn one set of commands, and\nyou just swap out CDP for LLDP, and\n\n450\n00:24:55.462 --> 00:24:56.452\nit's the same commands.\n\n451\n00:24:56.452 --> 00:24:58.222\nThat makes life really easy.\n\n452\n00:24:58.222 --> 00:25:01.292\nThe biggest advantage of the LLDP is\nit supports third party equipment.\n\n453\n00:25:01.292 --> 00:25:02.452\nRight?\nMultiple vendors.\n\n454\n00:25:02.452 --> 00:25:06.910\nSo most people are moving to LLDP, and\nyou're seeing less and less of CDP.\n\n455\n00:25:06.910 --> 00:25:11.050\nThe other thing is on the exam,\ndon't assume that CDP will be enabled.\n\n456\n00:25:11.050 --> 00:25:15.130\nIt normally is enabled on equipment,\nbut security professionals hate CDP, so\n\n457\n00:25:15.130 --> 00:25:18.210\nsecurity professionals almost\nalways get you to disable CDP.\n\n458\n00:25:18.210 --> 00:25:20.900\nSo you turn it on when you need it and\nthen turn it off again.\n\n459\n00:25:20.900 --> 00:25:23.190\nSo from that aspect,\nyou want to assume it's disabled.\n\n460\n00:25:23.190 --> 00:25:24.890\nI guess let me talk about that.\n\n461\n00:25:24.890 --> 00:25:26.500\nWhy would a security\nprofessional hate CDP?\n\n462\n00:25:26.500 --> 00:25:30.759\nWell one of the things is it\ndoesn't do authentication.\n\n463\n00:25:30.759 --> 00:25:33.929\nSo anybody can intercept CDP packets and\nsee what data is inside,\n\n464\n00:25:33.929 --> 00:25:37.230\nor technically the frames, and\nsee what's inside of them.\n\n465\n00:25:37.230 --> 00:25:39.910\nWell what's inside of them\nincludes my iOS version, right?\n\n466\n00:25:39.910 --> 00:25:44.120\nSo let's say on mine,\nlet me do a show cdp neighbors here.\n\n467\n00:25:44.120 --> 00:25:47.320\nSo I'm going to do a show cdp neighbors\nand boy, we got a lot of stuff.\n\n468\n00:25:47.320 --> 00:25:50.260\nSo some phones and a 35 50.\n\n469\n00:25:50.260 --> 00:25:52.030\n35 50s are old switches.\n\n470\n00:25:52.030 --> 00:25:54.370\nThat's not a new switch by any means.\n\n471\n00:25:54.370 --> 00:25:55.970\nThis must be the one at Nate's desk.\n\n472\n00:25:55.970 --> 00:25:58.310\nSo I'm gonna copy that, all right.\n\n473\n00:25:58.310 --> 00:26:03.900\nAnd I'm gonna say, show cdp entry and\nthrow in that name, okay.\n\n474\n00:26:03.900 --> 00:26:08.760\nSo, here I see this 3550, and see 3550's\nare old switches, copyright through 2009.\n\n475\n00:26:08.760 --> 00:26:11.230\nSo, this is probably running an older iOS.\n\n476\n00:26:11.230 --> 00:26:13.030\nI think this is Nate's test switch.\n\n477\n00:26:13.030 --> 00:26:18.148\nAnd if I look over here the iOS\nversion is 12.2 release 44.\n\n478\n00:26:18.148 --> 00:26:19.710\nThat's an old iOS.\n\n479\n00:26:21.010 --> 00:26:25.536\nAs an attacker all I have to do is\nsay hey this is 12.2 release 44.\n\n480\n00:26:25.536 --> 00:26:28.440\nLet me go see if there's\na 12.2 release 45.\n\n481\n00:26:28.440 --> 00:26:31.580\nAnd if there's a release 45 let me\nlook at what they fixed because\n\n482\n00:26:31.580 --> 00:26:33.530\nwhatever they fixed is broken here.\n\n483\n00:26:33.530 --> 00:26:35.270\nAnd now I know an exploit I can use.\n\n484\n00:26:35.270 --> 00:26:38.430\nOr hey, this is 12.2 let me go\ntake a look on 12.3 or 12.4.\n\n485\n00:26:38.430 --> 00:26:40.190\nWhat security fixes went in?\n\n486\n00:26:40.190 --> 00:26:43.850\nWhatever security fixes went in, those are\nexploits that will work on this device.\n\n487\n00:26:43.850 --> 00:26:50.740\nSo we can use that iOS numbering to\nfigure out ways to attack that system.\n\n488\n00:26:50.740 --> 00:26:52.970\nAnd that's definitely not\nsomething that you want.\n\n489\n00:26:52.970 --> 00:26:55.470\nRight?\nYou're giving that information away.\n\n490\n00:26:55.470 --> 00:27:00.070\nSo by disabling CDP, we make sure that\npeople can't find that information.\n\n491\n00:27:00.070 --> 00:27:03.080\nThey can't get that extra data, and\nnow they have to work a little harder.\n\n492\n00:27:03.080 --> 00:27:05.680\nThere's other ways for them to get it,\nbut it makes them have to work harder.\n\n493\n00:27:05.680 --> 00:27:08.740\nAnd you definitely want the attackers to\nhave to work hard to get at your network.\n\n494\n00:27:08.740 --> 00:27:12.410\nSo that's why a lot of\nprofessionals have a disabled CDP.\n\n495\n00:27:12.410 --> 00:27:13.470\nAnd it's easy enough, right?\n\n496\n00:27:13.470 --> 00:27:17.969\nYou jump into global configuration, no CDP\nrun, no LLDP run, and now they're off.\n\n497\n00:27:19.510 --> 00:27:21.440\nAll right, Ryan it's probably\na pretty good stopping point for\n\n498\n00:27:21.440 --> 00:27:22.485\nus before I ramble on.\n\n499\n00:27:22.485 --> 00:27:24.260\n>> [LAUGH]\n>> Too much more.\n\n500\n00:27:24.260 --> 00:27:25.070\n>> Well, Don again,\n\n501\n00:27:25.070 --> 00:27:29.140\nthank you for helping us with learning\nabout the layer 2 discovery protocols.\n\n502\n00:27:29.140 --> 00:27:32.120\nThese are very important the way\nthat Don described them.\n\n503\n00:27:32.120 --> 00:27:36.310\nA lot of times that is exactly what you'll\nrun into, is just a bunch of cables.\n\n504\n00:27:36.310 --> 00:27:39.600\nAnd then you're trying to figure out what\nDon just showed us a couple of ways to\n\n505\n00:27:39.600 --> 00:27:40.960\nbe able to do that.\n\n506\n00:27:40.960 --> 00:27:43.048\nIf you're only having all Cisco equipment,\nCDP,\n\n507\n00:27:43.048 --> 00:27:46.460\nyou have third-party equipment that you\nalso wanna be able to do this with,\n\n508\n00:27:46.460 --> 00:27:50.860\nyou're gonna run LLDP as well, and\nthen Don also added in a little bit more.\n\n509\n00:27:50.860 --> 00:27:54.800\nHow do you find something like\na workstation or a server on your switch?\n\n510\n00:27:54.800 --> 00:27:56.410\nAnd what port is it plugged into?\n\n511\n00:27:56.410 --> 00:27:59.730\nHe showed us the ability to do this\nby using the MAC address table and\n\n512\n00:27:59.730 --> 00:28:02.400\nby using ARP I think is the other\none you actually showed\n\n513\n00:28:02.400 --> 00:28:03.160\nus there\n>> Show ARP\n\n514\n00:28:03.160 --> 00:28:05.590\n>> So show ARP and being able to do that\n\n515\n00:28:05.590 --> 00:28:10.285\nall these are great tools for you as\nyou head into the CCNT exam as well.\n\n516\n00:28:10.285 --> 00:28:13.265\nWell that's a great place for\nus to end this episode then.\n\n517\n00:28:13.265 --> 00:28:16.645\nSigning off for ITProTV,\nI've been your host Ronnie Wong.\n\n518\n00:28:16.645 --> 00:28:17.625\n>> And I'm Don Pezet.\n\n519\n00:28:17.625 --> 00:28:20.440\n>> Stay tuned right for\nmore CCENT episodes.\n\n520\n00:28:20.440 --> 00:28:29.240\n[SOUND]\n\n",
          "vimeoId": "174813945"
        },
        {
          "description": "In this episode, Ronnie and Don introduce layer 2 security concepts.  They talk about the need for it and how to configure it.  Even though there are other more complex methods (802.1x), the guys start with the basics and configuration of port security.  They talk about how to put a limit on the number of mac addresses each port will allow to connect.  Don and Ronnie show the default settings of port configuration and show how to manipulate and change the default settings to get port security working exactly how you may need to work.",
          "length": "2682",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-2-4-port_security-071216-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-2-4-port_security-071216-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-2-4-port_security-071216-1-sm.jpg",
          "title": "Port Security",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.226 --> 00:00:15.141\nWelcome to another great\nepisode right here on ITProTV.\n\n3\n00:00:15.141 --> 00:00:19.765\nI'm your host, Ronnie Wong and we\nare continuing on with some Cisco CCENT.\n\n4\n00:00:19.765 --> 00:00:23.175\nWe're right here in the midst of\ntalking about LAN switching and\n\n5\n00:00:23.175 --> 00:00:27.281\nwe're actually kind of bringing this\ntoward the end of this by taking a look at\n\n6\n00:00:27.281 --> 00:00:28.960\nmore port security.\n\n7\n00:00:28.960 --> 00:00:33.110\nSo, who do we have with us in our studio\ntoday is Mr. Don Pezet, Don, welcome back.\n\n8\n00:00:33.110 --> 00:00:36.030\n>> Thanks for having me back Ronnie, and\nexcited to dive right back into switching.\n\n9\n00:00:36.030 --> 00:00:38.870\nOne of the more advanced\ntopics as far as switches go,\n\n10\n00:00:38.870 --> 00:00:41.870\nwe're gonna talk about\nsomething called Port Security.\n\n11\n00:00:41.870 --> 00:00:45.930\nAnd I kind of mention in one of\nthe other episodes on VLANs,\n\n12\n00:00:45.930 --> 00:00:50.550\nwhere I said if you have a unsecured\nport in your building, in theory,\n\n13\n00:00:50.550 --> 00:00:53.650\nsomebody could plug in and\ngain access to your network.\n\n14\n00:00:53.650 --> 00:00:56.780\nAnd that's a problem that\na lot of companies have.\n\n15\n00:00:56.780 --> 00:01:00.300\nWhat you'll find is pay attention\nthe next time you walk into a hospital or\n\n16\n00:01:00.300 --> 00:01:01.600\na business office.\n\n17\n00:01:01.600 --> 00:01:04.010\nAs you walk into the lobby,\njust look around at the walls and\n\n18\n00:01:04.010 --> 00:01:05.160\nyou'll see network jacks.\n\n19\n00:01:05.160 --> 00:01:08.460\nThere's network jacks all over the place\nand what will happen is somebody will\n\n20\n00:01:08.460 --> 00:01:11.630\ninstall a network jack, because there\nis a desk right there with a computer.\n\n21\n00:01:11.630 --> 00:01:13.580\nAnd then over time they will decide,\nyou know what?\n\n22\n00:01:13.580 --> 00:01:17.490\nI want to move that desk over here to this\nother wall and they move the desk and\n\n23\n00:01:17.490 --> 00:01:18.600\nthey leave the jack.\n\n24\n00:01:18.600 --> 00:01:19.980\nYou know because the jack\nis installed in the wall.\n\n25\n00:01:19.980 --> 00:01:22.200\nYou're not going to take\nit out of the wall are you?\n\n26\n00:01:22.200 --> 00:01:25.600\nSo they leave it, well now you've\ngot this exposed network jack.\n\n27\n00:01:25.600 --> 00:01:27.390\nAnd somebody who walks into your building,\n\n28\n00:01:27.390 --> 00:01:29.710\nsomebody who's physically\npresent in your building.\n\n29\n00:01:29.710 --> 00:01:33.550\nCould take a laptop, or a mini computer\nany number of devices these days,\n\n30\n00:01:33.550 --> 00:01:36.740\ntablets whatever, and\nplug right into the jack.\n\n31\n00:01:36.740 --> 00:01:39.240\nOn your wireless network you\nmight have wireless passwords.\n\n32\n00:01:39.240 --> 00:01:41.080\nYou might have security of some sort.\n\n33\n00:01:41.080 --> 00:01:44.240\nYou might be hiding your\nwireless SSIDs those kinda things\n\n34\n00:01:44.240 --> 00:01:46.520\nthat help to prevent unauthorized access.\n\n35\n00:01:46.520 --> 00:01:50.240\nBut on a network jack\nsomebody just plugs right in.\n\n36\n00:01:50.240 --> 00:01:54.930\nWell, there's a few different techniques\nthat we can use to prevent that.\n\n37\n00:01:54.930 --> 00:01:58.803\nThe best technique is to use\na protocol called 802.1x.\n\n38\n00:01:58.803 --> 00:02:00.070\n802.1x is authentication,\n\n39\n00:02:00.070 --> 00:02:02.870\nit's actually the same type of\nauthentication used at wireless networks.\n\n40\n00:02:02.870 --> 00:02:05.160\nBut you can use on your physical jack.\n\n41\n00:02:05.160 --> 00:02:07.710\nSo if somebody's physically\nplugs into a network jack,\n\n42\n00:02:07.710 --> 00:02:11.600\nthey've got to provide a certificate\nto verify who they are.\n\n43\n00:02:11.600 --> 00:02:15.760\nIt's doubtful that 802.1x will show\nup on the CCENT exam except for\n\n44\n00:02:15.760 --> 00:02:17.520\nmany in concept to know what it is.\n\n45\n00:02:17.520 --> 00:02:19.530\nIt is just simply\nauthentication on that link.\n\n46\n00:02:19.530 --> 00:02:22.780\nWe talk more about it\nin the CCNP shows but\n\n47\n00:02:22.780 --> 00:02:27.520\nthere are other technologies we can\nuse to help minimize that risk.\n\n48\n00:02:27.520 --> 00:02:30.770\nTo help take away some of\nthe possibilities of somebody that's\n\n49\n00:02:30.770 --> 00:02:33.910\nunauthorized, plugging into the network,\nand gaining access, right?\n\n50\n00:02:33.910 --> 00:02:36.810\nNow, before I dive into\nall the advance security,\n\n51\n00:02:36.810 --> 00:02:40.120\nport security functionality, let me just\ntalk about the easiest solution to this.\n\n52\n00:02:40.120 --> 00:02:43.600\nWhich is, any time that you have\nan exposed jack in your building,\n\n53\n00:02:43.600 --> 00:02:44.360\nif you move a desk and\n\n54\n00:02:44.360 --> 00:02:48.430\nnow you've got this jack sitting out\nthere, you should disable the jack, right?\n\n55\n00:02:48.430 --> 00:02:49.420\nThere's two ways to do it.\n\n56\n00:02:49.420 --> 00:02:52.820\nOne, that network jack runs back\nto a server closet somewhere, and\n\n57\n00:02:52.820 --> 00:02:56.770\nit plugs into the switch, unplug it\nfrom the switch, that's it, right?\n\n58\n00:02:56.770 --> 00:02:59.280\nThe simplest solution is\nusually the best solution.\n\n59\n00:02:59.280 --> 00:03:01.280\nIf somebody unauthorized\nwalks in the building and\n\n60\n00:03:01.280 --> 00:03:04.080\nplugs their cable in,\nthey won't even get a link light,\n\n61\n00:03:04.080 --> 00:03:07.880\nbecause the other end of the cable is\nunplugged, that is the easiest solution.\n\n62\n00:03:07.880 --> 00:03:10.980\nIf you don't wanna unplug the cable,\nyou can leave it plugged into the switch.\n\n63\n00:03:10.980 --> 00:03:13.530\nAnd in the switch's configuration,\nyou can go into that interface and\n\n64\n00:03:13.530 --> 00:03:15.970\nyou just use the shutdown\ncommand to shut it down.\n\n65\n00:03:15.970 --> 00:03:19.400\nNow the port's shut down, if somebody\nplugs in, they're not gonna get a link\n\n66\n00:03:19.400 --> 00:03:22.930\nlight and it's not gonna function, and we\ndon't have to worry about moving cables.\n\n67\n00:03:22.930 --> 00:03:25.260\nIt's low tech, it's not advanced,\n\n68\n00:03:25.260 --> 00:03:28.985\nit's not gonna be in some hacker\nprotection movie or anything like that.\n\n69\n00:03:28.985 --> 00:03:30.930\n>> [LAUGH]\n>> But it's the most effective.\n\n70\n00:03:30.930 --> 00:03:34.300\nIf you have ports that aren't in use,\nshut them down.\n\n71\n00:03:34.300 --> 00:03:38.548\nAnd then, all we have to worry about\nare the ports that are in use.\n\n72\n00:03:38.548 --> 00:03:42.130\nAll right, well, if I've got a port\nthat's in use, what can I do there?\n\n73\n00:03:42.130 --> 00:03:45.410\nWell, let me give you an example\nof one of the risks that we have.\n\n74\n00:03:45.410 --> 00:03:48.550\nI guess I can give you\nthe attacked kind of way but\n\n75\n00:03:49.820 --> 00:03:51.760\nlet's give our employee\nthe benefit of a doubt and\n\n76\n00:03:51.760 --> 00:03:54.980\nlooks on an accidental type\nof thing that could happen.\n\n77\n00:03:54.980 --> 00:03:57.740\nMaybe there is an employee\n\n78\n00:03:57.740 --> 00:04:00.400\nwho from time to time has to\nbring their kids into the office,\n\n79\n00:04:00.400 --> 00:04:05.220\nright, maybe the school pick up schedule\nor daycare just quite lined up right?\n\n80\n00:04:05.220 --> 00:04:09.570\nSo for a little bit of time each week they\nhave to bring their child into the office.\n\n81\n00:04:09.570 --> 00:04:13.710\nAnd when they bring their child in, the\nchild sits there in a chair and is bored,\n\n82\n00:04:13.710 --> 00:04:15.110\nand doesn't have anything to do.\n\n83\n00:04:15.110 --> 00:04:17.890\nSo they decide it would be nice if\nthey could work on their homework,\n\n84\n00:04:17.890 --> 00:04:20.320\nif I could give them a laptop and\nthey could do some work.\n\n85\n00:04:20.320 --> 00:04:23.950\nBut their laptop is not allowed on\nthe company wireless, it's not authorized.\n\n86\n00:04:23.950 --> 00:04:26.160\nSo how can we give them internet access?\n\n87\n00:04:26.160 --> 00:04:30.120\nWell, I've got this network jack on\nthe wall that I plug my own computer into,\n\n88\n00:04:30.120 --> 00:04:35.520\nwhat if I brought one of those\nLinksys wireless routers from home.\n\n89\n00:04:35.520 --> 00:04:38.390\nAnd I plugged that into the wall and\nthen I could plug my computer and\n\n90\n00:04:38.390 --> 00:04:42.540\nmy child's laptop into that access point,\nor you connect wirelessly.\n\n91\n00:04:42.540 --> 00:04:43.820\nNow they can get internet access.\n\n92\n00:04:43.820 --> 00:04:47.540\nI can share my connection with\nthese other people, right?\n\n93\n00:04:47.540 --> 00:04:50.370\nWell it wasn't malicious,\n\n94\n00:04:50.370 --> 00:04:54.840\nthey weren't setting out to steal the\ncompany's ideas or hack into the network.\n\n95\n00:04:54.840 --> 00:04:56.690\nThey just wanted their kid to have\nsomething to do while they were\n\n96\n00:04:56.690 --> 00:04:57.950\nsitting there in the office.\n\n97\n00:04:57.950 --> 00:05:01.700\nBut what they did is they created\na rogue wireless network.\n\n98\n00:05:01.700 --> 00:05:03.480\nA wireless network that\nis probably not secured,\n\n99\n00:05:03.480 --> 00:05:07.410\nthat is more than likely using a default\npassword, or maybe no password at all.\n\n100\n00:05:07.410 --> 00:05:10.490\nAnd now, anybody in the area can\nconnect on that wireless and\n\n101\n00:05:10.490 --> 00:05:11.980\nthey've got access to\nyour business network.\n\n102\n00:05:13.000 --> 00:05:17.210\nEven if it wasn't wireless, if it was\njust wired, their child's laptop,\n\n103\n00:05:17.210 --> 00:05:21.060\nit can have viruses, or malware, or\nit can have other things that are on it.\n\n104\n00:05:21.060 --> 00:05:25.170\nThat is now plugged into your network and\nis now potentially trying to exploit\n\n105\n00:05:25.170 --> 00:05:27.200\nthe other systems on your\nnetwork all accidental.\n\n106\n00:05:27.200 --> 00:05:30.980\nRight now, the whole story is giving\npeople the benefit of the doubt.\n\n107\n00:05:30.980 --> 00:05:31.790\nAll right, but\n\n108\n00:05:31.790 --> 00:05:35.150\nit could be malicious too, it could be\na hell of an hacking into this company.\n\n109\n00:05:35.150 --> 00:05:39.460\nSo, I don't know if you're\nfamiliar with the pane boxes,\n\n110\n00:05:39.460 --> 00:05:43.400\nright, this little wall\nplug type computers.\n\n111\n00:05:43.400 --> 00:05:47.410\nThat you can sneak into a company,\nyou can plug into a wall and they'll just\n\n112\n00:05:47.410 --> 00:05:51.850\nsit there and record data, they'll\nrecord everything that they can see.\n\n113\n00:05:51.850 --> 00:05:55.070\nAnd if they take the network\njack from the wall and\n\n114\n00:05:55.070 --> 00:05:58.870\nplug it into the poem box and they run\nfrom the poem box back to the computer,\n\n115\n00:05:58.870 --> 00:06:00.340\nyou might not even know it's there.\n\n116\n00:06:00.340 --> 00:06:03.850\nBut now, it's recording everything\ngoing through your computer,\n\n117\n00:06:03.850 --> 00:06:06.740\nthat's an unauthorized machine on\nthe network, that's malicious, right?\n\n118\n00:06:06.740 --> 00:06:08.430\nThat's somebody trying\nto intercept their data.\n\n119\n00:06:08.430 --> 00:06:12.454\nSo what can we do to protect\nour network from that?\n\n120\n00:06:12.454 --> 00:06:15.380\nWell, 802.1x is the best way to do it.\n\n121\n00:06:15.380 --> 00:06:16.680\nIf we require authentication, and\n\n122\n00:06:16.680 --> 00:06:20.285\nsomebody puts another device on that's\nnot authorized, it's gonna get blocked.\n\n123\n00:06:20.285 --> 00:06:23.260\nBut 802.1x requires\na lot of infrastructure.\n\n124\n00:06:23.260 --> 00:06:26.670\nYou've gotta have certificate servers and\nthis other stuff in place to do it, so\n\n125\n00:06:26.670 --> 00:06:28.310\nit's not exactly easy.\n\n126\n00:06:28.310 --> 00:06:32.620\nBut built into your switch there's a few\neasy techniques that you can turn on and\n\n127\n00:06:32.620 --> 00:06:34.860\nport security is the best example of that.\n\n128\n00:06:34.860 --> 00:06:38.490\nWhat port security does is it lets us\nmonitor what devices are plugged into\n\n129\n00:06:38.490 --> 00:06:42.620\na port and take action when\ncertain events happen, all right.\n\n130\n00:06:42.620 --> 00:06:43.830\nSo, for example though,\n\n131\n00:06:43.830 --> 00:06:48.850\nthe way I like to use it is, I'll monitor\nthe amount of MAC addresses on a port.\n\n132\n00:06:48.850 --> 00:06:53.410\nAnd if I ever see more than one\nMAC address at the same time,\n\n133\n00:06:53.410 --> 00:06:54.220\nwhat does that mean?\n\n134\n00:06:54.220 --> 00:06:57.110\nWhen do we see more than one\nMAC address on a single port?\n\n135\n00:06:57.110 --> 00:06:59.710\nWhen its an uplink,\nwhen somebody plugs in a hub or\n\n136\n00:06:59.710 --> 00:07:03.530\na switch, now you'll see more than one\nMAC address on a single port, right?\n\n137\n00:07:03.530 --> 00:07:05.880\nAnd so if I don't want people up-linking,\n\n138\n00:07:05.880 --> 00:07:08.410\nI don't want any unauthorized\nswitches on my network.\n\n139\n00:07:08.410 --> 00:07:11.930\nI can say, if you ever see more\nthan one MAC address on a port,\n\n140\n00:07:11.930 --> 00:07:15.090\nshut the port down and it'll take\nthat action, it'll shut it down.\n\n141\n00:07:15.090 --> 00:07:17.520\nNormally the port works just\nfine with one mac address.\n\n142\n00:07:17.520 --> 00:07:20.000\nI might not even care what\nthat mac address is but\n\n143\n00:07:20.000 --> 00:07:22.200\nif there's more than one, shut it down.\n\n144\n00:07:22.200 --> 00:07:23.670\nBut we can get a lot more specific.\n\n145\n00:07:23.670 --> 00:07:27.520\nWe can say, this one mac address is\nthe only mac address allowed to talk\n\n146\n00:07:27.520 --> 00:07:28.640\non that port.\n\n147\n00:07:28.640 --> 00:07:32.650\nAnd if somebody else talks on the port,\nshut it down or send an alert or\n\n148\n00:07:32.650 --> 00:07:35.220\nsend us a warning, there's\ndifferent actions that we can take.\n\n149\n00:07:35.220 --> 00:07:37.920\nShut it down is normally what I do, right.\n\n150\n00:07:37.920 --> 00:07:40.920\nNow that sounds pretty good,\nhey I've got this network jack and\n\n151\n00:07:40.920 --> 00:07:44.090\nhere's the only Mac address that's\nallowed to run on that port.\n\n152\n00:07:44.090 --> 00:07:46.890\nThere's a negative to it which is that\nMac address is really aren't that\n\n153\n00:07:46.890 --> 00:07:48.070\nhard to spoof.\n\n154\n00:07:48.070 --> 00:07:52.487\nSo for example an attacker could take\na software based network adapter and\n\n155\n00:07:52.487 --> 00:07:53.994\nchange its Mac address.\n\n156\n00:07:53.994 --> 00:07:56.522\nSo if they know an authorized\nMac address on the network,\n\n157\n00:07:56.522 --> 00:08:00.365\nthey could then impersonate it, so it's\nnot a foolproof perfect method, right, and\n\n158\n00:08:00.365 --> 00:08:02.068\nthat's where 802.1x comes in.\n\n159\n00:08:02.068 --> 00:08:03.994\nBut at least it's better than nothing.\n\n160\n00:08:03.994 --> 00:08:07.068\nAnd it's going to deter the average\nhacker that's out there,\n\n161\n00:08:07.068 --> 00:08:10.374\nthe average person that's just\ntrying to explore the network, and\n\n162\n00:08:10.374 --> 00:08:12.480\nthe accidental exploits that can happen.\n\n163\n00:08:12.480 --> 00:08:15.210\nSo, let's take a look at port security and\nI'll show you how it works and\n\n164\n00:08:15.210 --> 00:08:15.900\nhow we can get it set up.\n\n165\n00:08:17.360 --> 00:08:19.300\nI'm gonna start here on this switch.\n\n166\n00:08:19.300 --> 00:08:22.160\nAnd this switch is basically\nwith the default config.\n\n167\n00:08:22.160 --> 00:08:26.930\nI haven't really done anything to it,\nso it's still just named switch, right.\n\n168\n00:08:26.930 --> 00:08:31.050\nAnd it doesn't have much beyond the basic,\nnormal configuration on it.\n\n169\n00:08:31.050 --> 00:08:34.760\nAnd what we're gonna do is we're\ngonna get port security turned on.\n\n170\n00:08:34.760 --> 00:08:37.210\nNow, port security is\nturned off by default.\n\n171\n00:08:37.210 --> 00:08:43.540\nSo if I do a show port-security, that's\ngonna give me a summary of port security\n\n172\n00:08:43.540 --> 00:08:47.780\nconfigured on this device and show me\nall the ports and their current status.\n\n173\n00:08:47.780 --> 00:08:50.740\nWell if it's not turned on\nyou'll have no ports and\n\n174\n00:08:50.740 --> 00:08:56.210\nso I've got this nice little blank area\nhere in between these two dash lines,\n\n175\n00:08:56.210 --> 00:08:58.210\ncuz port security is not on by default.\n\n176\n00:08:58.210 --> 00:09:02.050\nSo this is one of those features that's\nbuilt into every Cisco switch, but\n\n177\n00:09:02.050 --> 00:09:03.360\nit's not turned on.\n\n178\n00:09:03.360 --> 00:09:04.550\nSo if you don't turn it on,\n\n179\n00:09:04.550 --> 00:09:07.010\nif you don't know about it,\nit's something you're wasting.\n\n180\n00:09:07.010 --> 00:09:08.279\nYou're not taking\nadvantage of that resource.\n\n181\n00:09:09.510 --> 00:09:12.630\nAnd it's showing me the amount of mac\naddresses that is currently got recorded.\n\n182\n00:09:12.630 --> 00:09:16.130\nIt's telling me zero and\nthe MAC address limit in the system.\n\n183\n00:09:16.130 --> 00:09:20.140\nThis particular switch could track\na little over 6,000 mac addresses,\n\n184\n00:09:20.140 --> 00:09:21.825\nmost switches have far more than that.\n\n185\n00:09:21.825 --> 00:09:23.255\nThis is a pretty low end switch.\n\n186\n00:09:23.255 --> 00:09:24.425\nBut the bigger your switch,\n\n187\n00:09:24.425 --> 00:09:28.395\nthe more MAC addresses that\nyou can track on the system.\n\n188\n00:09:28.395 --> 00:09:33.947\nSo it's got a limit here that one port\ncan't have more than 6144 addresses.\n\n189\n00:09:33.947 --> 00:09:36.027\nThat's significantly higher than\nthe limit that I normally want.\n\n190\n00:09:36.027 --> 00:09:40.037\nAll right, so let's see about\ngetting port security turned on.\n\n191\n00:09:40.037 --> 00:09:43.817\nThe first thing about port security is\nthat we need to remember that it is turned\n\n192\n00:09:43.817 --> 00:09:46.647\non on a port by port basis.\n\n193\n00:09:46.647 --> 00:09:49.147\nSo you don't have to turn it on for\nthe whole switch.\n\n194\n00:09:49.147 --> 00:09:50.707\nYou turn it on on individual ports.\n\n195\n00:09:50.707 --> 00:09:54.860\nAnd that's important because you probably\nhave a legitimate uplinks in your system.\n\n196\n00:09:54.860 --> 00:09:56.470\nIf I've got an uplink\nbetween one switch and\n\n197\n00:09:56.470 --> 00:09:59.100\nanother, I don't need to\nrun port security on that.\n\n198\n00:09:59.100 --> 00:10:00.410\nIt's an uplink, right?\n\n199\n00:10:00.410 --> 00:10:02.840\nSo we don't necessarily\nwant it on on every port.\n\n200\n00:10:02.840 --> 00:10:04.860\nWe want it turned it on for\nour access ports.\n\n201\n00:10:04.860 --> 00:10:08.430\nThe ports where you've got work stations,\nlaptops, printers,\n\n202\n00:10:08.430 --> 00:10:10.030\nthose kind of devices plugged in.\n\n203\n00:10:10.030 --> 00:10:12.860\nThat's where we want\nto have port security.\n\n204\n00:10:12.860 --> 00:10:16.500\nNow when I configure it,\nI normally use the range command.\n\n205\n00:10:16.500 --> 00:10:19.240\nBecause I do want to configure\nit on a bunch of ports.\n\n206\n00:10:19.240 --> 00:10:20.560\nThis switch has 48 ports.\n\n207\n00:10:20.560 --> 00:10:27.420\nSo I might do something like\ninterface range fa0/1- 48, all right?\n\n208\n00:10:28.540 --> 00:10:33.040\nAnd so now I'm configuring port\nsecurity on all 48 ports, right?\n\n209\n00:10:33.040 --> 00:10:35.370\nAnd so I can get this set up and\ndo in bulk.\n\n210\n00:10:35.370 --> 00:10:37.300\nBut I'm gonna start out\nwith just a single port.\n\n211\n00:10:37.300 --> 00:10:42.520\nI'm gonna configure it just on fa0/1,\nthe very first port.\n\n212\n00:10:42.520 --> 00:10:46.310\nAnd I believe I'm plugged into\nport one is that correct?\n\n213\n00:10:46.310 --> 00:10:49.250\nSo let's see, nope I'm in two so\nRonnie is plugged into port one.\n\n214\n00:10:49.250 --> 00:10:52.335\nSo, now that I'm jiggling the cable,\nwe're disconnecting stuff.\n\n215\n00:10:52.335 --> 00:10:53.280\n>> [LAUGH]\n>> But anyhow,\n\n216\n00:10:53.280 --> 00:10:56.430\nlet's so port two since that's\nthe one that I'm plugged into.\n\n217\n00:10:56.430 --> 00:10:59.150\nSo, I'm plugged into\nport two on this system.\n\n218\n00:10:59.150 --> 00:11:02.900\nAnd right now,\nport two is not running port security.\n\n219\n00:11:02.900 --> 00:11:04.900\nIf I want to turn it on, it's really easy.\n\n220\n00:11:04.900 --> 00:11:09.000\nYou just type port security,\nlike that, and it's gonna turn on.\n\n221\n00:11:10.000 --> 00:11:12.220\nSo now I'm running port security.\n\n222\n00:11:12.220 --> 00:11:14.180\nWell, I got an error.\n\n223\n00:11:14.180 --> 00:11:15.960\nWhy did, well, I got an error\ncuz I did the wrong command.\n\n224\n00:11:15.960 --> 00:11:19.770\nShoot, I need to do\nswitchport port security.\n\n225\n00:11:19.770 --> 00:11:23.280\nRemember from the VLAN episode, we use\nthe switchport command to say that we're\n\n226\n00:11:23.280 --> 00:11:27.530\nworking with a switch port versus\na routing port and port security.\n\n227\n00:11:27.530 --> 00:11:30.340\nNow when I go to turn it on,\nI'm gonna get this error, right.\n\n228\n00:11:30.340 --> 00:11:33.670\nI expected to get an error because we\nhaven't actually configured it yet.\n\n229\n00:11:33.670 --> 00:11:35.070\nThere's a few problems here.\n\n230\n00:11:35.070 --> 00:11:37.890\nIt's telling me that\nthis is a dynamic port.\n\n231\n00:11:37.890 --> 00:11:39.690\nWhat does that mean.\n\n232\n00:11:39.690 --> 00:11:43.570\nWell remember on some switches we\ncan dynamically negotiate a trunk.\n\n233\n00:11:43.570 --> 00:11:46.890\nSo that means that sometimes\nthis port can be a trunk and\n\n234\n00:11:46.890 --> 00:11:49.680\nsometimes this port\ncould be an access port.\n\n235\n00:11:49.680 --> 00:11:52.170\nWe don't want port security\non a trunk port, and so\n\n236\n00:11:52.170 --> 00:11:54.070\nthat's why it's stopping me,\ncommand rejected.\n\n237\n00:11:54.070 --> 00:11:58.470\nI can't turn on port security because\nI could potentially become a trunk.\n\n238\n00:11:58.470 --> 00:12:00.200\nSo, before we get it turned on,\n\n239\n00:12:00.200 --> 00:12:03.970\nthere's a little bit of groundwork\nwe need to do to get this set up.\n\n240\n00:12:03.970 --> 00:12:07.340\nThe first thing we need to do is to\nflag our port as an access port.\n\n241\n00:12:07.340 --> 00:12:11.820\nSo I'm gonna say switchport mode access,\nall right?\n\n242\n00:12:11.820 --> 00:12:13.960\nWe could say switchboard mode\ntrunk to become a trunk.\n\n243\n00:12:13.960 --> 00:12:16.350\nSwitchboard mode access means\nwe are going to be an access.\n\n244\n00:12:16.350 --> 00:12:19.930\nNow this command technically means that\nwe are going to become an access port by\n\n245\n00:12:19.930 --> 00:12:20.860\ndefault.\n\n246\n00:12:20.860 --> 00:12:23.550\nBut potentially,\nsome switches could still trunk.\n\n247\n00:12:23.550 --> 00:12:28.160\nSo I normally follow this up with\nswitch port, nonegotiate just to\n\n248\n00:12:28.160 --> 00:12:31.510\nmake sure that under no circumstances\ndo we negotiate becoming a trunk.\n\n249\n00:12:31.510 --> 00:12:33.580\nThat this will be an access port.\n\n250\n00:12:33.580 --> 00:12:34.950\nAnd that's it.\n\n251\n00:12:34.950 --> 00:12:36.010\nOkay.\n\n252\n00:12:36.010 --> 00:12:38.420\nSo now I've got that set up,\nand I'm an access port.\n\n253\n00:12:38.420 --> 00:12:41.100\nSo now, I could turn on port security.\n\n254\n00:12:41.100 --> 00:12:44.940\nBut just turning it on is going to\naccept some of the defaults that are in\n\n255\n00:12:44.940 --> 00:12:47.900\nthe system and the defaults might\nnot match up with what I want so\n\n256\n00:12:47.900 --> 00:12:49.720\nI'll probably need to tweak it some more.\n\n257\n00:12:49.720 --> 00:12:52.002\nBut am gonna go ahead and\nrerun command for a moment ago,\n\n258\n00:12:52.002 --> 00:12:58.190\nswitchport port-security, and\nnow it's running, as easy as that.\n\n259\n00:12:58.190 --> 00:13:02.675\nIf I do a show port-security.\n\n260\n00:13:02.675 --> 00:13:04.385\nI'll get that summary screen.\n\n261\n00:13:04.385 --> 00:13:08.465\nAnd now I can see where port\nsecurity is turned on for fa0/2.\n\n262\n00:13:08.465 --> 00:13:13.765\nAnd I can see that it's got\na maximum MAC address count,\n\n263\n00:13:13.765 --> 00:13:15.860\nso it's set to a maximum of 1.\n\n264\n00:13:15.860 --> 00:13:20.980\nIf there's ever two MAC addresses on this\nport, it's gonna throw up an error and\n\n265\n00:13:20.980 --> 00:13:21.630\nit's gonna shut it down.\n\n266\n00:13:22.720 --> 00:13:24.860\nI can see the current address count.\n\n267\n00:13:24.860 --> 00:13:26.740\nSo am currently at one address, right.\n\n268\n00:13:26.740 --> 00:13:28.910\nSo I have a maximum of one.\n\n269\n00:13:28.910 --> 00:13:30.820\nI currently have one, so I'm okay.\n\n270\n00:13:30.820 --> 00:13:34.400\nAnd then I've got my security\nviolation count, right.\n\n271\n00:13:34.400 --> 00:13:36.890\nSo what happens if there's a violation?\n\n272\n00:13:36.890 --> 00:13:39.390\nWell I'm not in violation right now,\nit says zero.\n\n273\n00:13:39.390 --> 00:13:41.220\nIf I was in violation it would say one,\nright?\n\n274\n00:13:41.220 --> 00:13:43.470\nSo this is not in violation.\n\n275\n00:13:43.470 --> 00:13:46.020\nIf we were in violation what would we do?\n\n276\n00:13:46.020 --> 00:13:47.480\nWe'd shut the port down.\n\n277\n00:13:48.800 --> 00:13:52.550\nSo if more than one MAC address shows\nup on here it's gonna shut down.\n\n278\n00:13:52.550 --> 00:13:56.760\nLet's see that, Ronnie I've got this\nuplink cable to the ITProTV studios.\n\n279\n00:13:56.760 --> 00:13:58.090\nCould you plug that into port two for me?\n\n280\n00:13:58.090 --> 00:14:01.180\nSo, Ronnie's gonna plug\nthis cable into port two.\n\n281\n00:14:01.180 --> 00:14:05.230\nNow, my laptop was plugged in, so\nthere was only one MAC address.\n\n282\n00:14:05.230 --> 00:14:09.070\nWhen he plugs that uplink in, that's\nto the studio network, and the ITProTV\n\n283\n00:14:09.070 --> 00:14:13.890\nstudios, we've probably got between 60 and\n100 machines that are out there.\n\n284\n00:14:13.890 --> 00:14:17.470\nAnd so that's a lot of MAC addresses\nthat are about to show up.\n\n285\n00:14:17.470 --> 00:14:20.970\nMore than just one MAC address.\n\n286\n00:14:20.970 --> 00:14:22.750\nWhich means I'm gonna go into violation.\n\n287\n00:14:22.750 --> 00:14:24.847\nAnd it just happened right there.\n\n288\n00:14:24.847 --> 00:14:27.249\nSo this little message\njust popped up right here.\n\n289\n00:14:27.249 --> 00:14:31.560\nPM-4-ERR_DISABLE.\n\n290\n00:14:31.560 --> 00:14:33.810\nThat's error disabled.\n\n291\n00:14:33.810 --> 00:14:35.580\nIt just disabled a port.\n\n292\n00:14:35.580 --> 00:14:39.890\nAnd if I look, it says, psecure-violation,\nor port security violation,\n\n293\n00:14:39.890 --> 00:14:43.650\nerror detected on port two,\nit's now in the error disabled state.\n\n294\n00:14:45.110 --> 00:14:48.460\nIt flagged the security warning and\nit shut the port down.\n\n295\n00:14:48.460 --> 00:14:50.045\nSo, I've got that big message right here.\n\n296\n00:14:50.045 --> 00:14:55.720\nPORT_SECURITY_2_PSECURE_VIOLATION Security\nviolation occurred.\n\n297\n00:14:55.720 --> 00:14:59.170\nUsed by MAC address and\nthen it lists a MAC address.\n\n298\n00:14:59.170 --> 00:15:00.930\nNow, who's MAC address is that?\n\n299\n00:15:00.930 --> 00:15:01.585\nProbably not mine.\n\n300\n00:15:01.585 --> 00:15:02.700\nIts' one of the studio networks.\n\n301\n00:15:02.700 --> 00:15:05.690\nYou know, somebody out there was\nthe first one, and that was okay, but\n\n302\n00:15:05.690 --> 00:15:07.990\nthen the second one,\nthat triggered the failure.\n\n303\n00:15:09.150 --> 00:15:13.920\nAnd if I do a show port-security, and\n\n304\n00:15:13.920 --> 00:15:19.480\nI take a look at it now I can see my\nmaximum addresses were set to one.\n\n305\n00:15:19.480 --> 00:15:21.980\nMy current addresses are zero, right?\n\n306\n00:15:21.980 --> 00:15:23.120\nNo addresses.\n\n307\n00:15:23.120 --> 00:15:26.600\nAnd that's because I have one\nviolation and it shut the port down.\n\n308\n00:15:26.600 --> 00:15:29.920\nThe port is shut down right now,\nall right?\n\n309\n00:15:29.920 --> 00:15:33.170\nNow this is a special kind of shutdown,\n\n310\n00:15:33.170 --> 00:15:35.560\na different shutdown\nthan we might be used to.\n\n311\n00:15:35.560 --> 00:15:36.690\nRight?\nBecause, for example,\n\n312\n00:15:36.690 --> 00:15:40.830\nI could go into configure terminal,\nI could go into an interface like Ronnie's\n\n313\n00:15:40.830 --> 00:15:46.030\ninterface, fa0/1, and\nI can type the shutdown command, right?\n\n314\n00:15:46.030 --> 00:15:48.400\nSo I just shut down port one.\n\n315\n00:15:48.400 --> 00:15:50.340\nPort one is shut down,\nport two is shut down.\n\n316\n00:15:50.340 --> 00:15:52.882\nBut port two is technically\nerror disabled, right?\n\n317\n00:15:52.882 --> 00:15:59.185\nSo if I do a show IP interface brief, I'm\ngonna see something kind of interesting.\n\n318\n00:15:59.185 --> 00:16:06.442\nI'm gonna see that port one is\nadministratively down, all right?\n\n319\n00:16:06.442 --> 00:16:09.090\nAdministratively down,\nthat means I manually shut it down.\n\n320\n00:16:09.090 --> 00:16:11.598\nBut port two just shows as down-down,\n\n321\n00:16:11.598 --> 00:16:14.730\nwhich is the equivalent\nof being unplugged.\n\n322\n00:16:14.730 --> 00:16:15.730\nIt looks like it's unplugged.\n\n323\n00:16:15.730 --> 00:16:17.510\nNo, it's not unplugged,\nmy cable is in there.\n\n324\n00:16:17.510 --> 00:16:20.340\nIt's got a link light on the switch,\nI can see that.\n\n325\n00:16:20.340 --> 00:16:23.100\nBut it's showing as down-down, and\nthat's because it's error disabled.\n\n326\n00:16:23.100 --> 00:16:24.980\nIt is a disabled port.\n\n327\n00:16:24.980 --> 00:16:29.671\nIf I do a show interface fa0/2,\n\n328\n00:16:29.671 --> 00:16:35.260\nwhen I look at it here,\nit's gonna show as fa0/2\n\n329\n00:16:35.260 --> 00:16:40.130\nis down, line protocol is down,\nerr-disabled.\n\n330\n00:16:40.130 --> 00:16:42.590\nSo it's showing me that it is\nin the error disabled state.\n\n331\n00:16:43.650 --> 00:16:50.440\nNow, that means nobody can talk on this\nport until this error gets cleared, okay?\n\n332\n00:16:50.440 --> 00:16:51.450\nSo how do we clear it?\n\n333\n00:16:51.450 --> 00:16:52.760\nWell, let's do the manual,\n\n334\n00:16:52.760 --> 00:16:54.590\nwe'll talk about the automatic\nway a little bit later.\n\n335\n00:16:54.590 --> 00:16:57.190\nRonnie, would you mind flipping\nme back to port two, please?\n\n336\n00:16:57.190 --> 00:16:58.650\nSo Ronnie's gonna correct the error,\nright?\n\n337\n00:16:58.650 --> 00:16:59.920\nHe's gonna take the uplink away.\n\n338\n00:16:59.920 --> 00:17:03.580\nAnd so\nall those MAC addresses are gone now.\n\n339\n00:17:03.580 --> 00:17:05.280\nAnd he's gonna plug in my cable.\n\n340\n00:17:05.280 --> 00:17:09.140\nAnd my cable is carrying just\none MAC address, and that's it.\n\n341\n00:17:09.140 --> 00:17:12.210\nSo he's gonna plug that in,\nand that's gonna take effect.\n\n342\n00:17:13.270 --> 00:17:16.580\nIf I do a show mac address-table, and\n\n343\n00:17:16.580 --> 00:17:20.250\nI look at the MAC address table,\nwell there's all these statics, right.\n\n344\n00:17:20.250 --> 00:17:21.640\nLet me exclude those.\n\n345\n00:17:21.640 --> 00:17:28.160\nSo I'm gonna exclude all the CPUs,\nand it hasn't learned my MAC address.\n\n346\n00:17:28.160 --> 00:17:32.430\nAnd if I do a show ip interface brief,\nand I take a look,\n\n347\n00:17:32.430 --> 00:17:36.560\nport 2 is still showing as down-down.\n\n348\n00:17:36.560 --> 00:17:38.120\nWe fixed the error.\n\n349\n00:17:38.120 --> 00:17:39.390\nBut once it's shutdown,\n\n350\n00:17:39.390 --> 00:17:43.310\nthe port stays shutdown until\na network admin gets involved.\n\n351\n00:17:43.310 --> 00:17:44.790\nSomebody violated our policy.\n\n352\n00:17:44.790 --> 00:17:47.010\nNow the port's shutdown,\nand that's just how it is.\n\n353\n00:17:47.010 --> 00:17:51.800\nAnd now it's up to me as an administrator\nto get in there and fix it.\n\n354\n00:17:51.800 --> 00:17:54.390\nAnd so I can jump in to interface fa0/2.\n\n355\n00:17:54.390 --> 00:17:57.670\nAnd the way we reset it is by\nshutting down the port manually.\n\n356\n00:17:57.670 --> 00:18:00.080\nSo I just manually shut it down.\n\n357\n00:18:00.080 --> 00:18:03.730\nAnd then I'll do a no shutdown,\nto turn it back on.\n\n358\n00:18:03.730 --> 00:18:07.930\nOkay, shutting it down and then doing a no\nshutdown, that wakes the port back up.\n\n359\n00:18:07.930 --> 00:18:10.450\nAnd now as long as there's\nonly one Mac address on it,\n\n360\n00:18:10.450 --> 00:18:13.720\nit'll be happy and\nwe won't be in violation.\n\n361\n00:18:13.720 --> 00:18:21.180\nSo now if I do a show interface fa0/2,\nit now shows as up-up connected.\n\n362\n00:18:21.180 --> 00:18:23.640\nSo no more error disabled.\n\n363\n00:18:23.640 --> 00:18:32.240\nAnd if I do a show port-security,\nI can see it is back to a happy state.\n\n364\n00:18:32.240 --> 00:18:36.430\nNow, the reason it's manual like this is,\nif somebody violates your policy and\n\n365\n00:18:36.430 --> 00:18:39.290\nthe port gets shutdown, and\nthey just unplug it and\n\n366\n00:18:39.290 --> 00:18:42.140\nput it back, well,\nthen it would go healthy again.\n\n367\n00:18:42.140 --> 00:18:45.250\nAnd we might not ever\nknow that that happened.\n\n368\n00:18:45.250 --> 00:18:46.120\nWe want to know that happened.\n\n369\n00:18:46.120 --> 00:18:50.600\nI want to know that Bob down in accounting\ntried to plug in an unauthorized device.\n\n370\n00:18:50.600 --> 00:18:54.340\nOr that an intruder got into Sally's\noffice and tried to intercept her data.\n\n371\n00:18:54.340 --> 00:18:55.640\nI wanna know that.\n\n372\n00:18:55.640 --> 00:18:58.050\nAnd so that's why the shutdown\nis kind of permanent by default.\n\n373\n00:18:58.050 --> 00:19:00.380\nAnd we might not want that,\nwe can certainly tweak these values.\n\n374\n00:19:00.380 --> 00:19:03.410\nYou can change it quite a bit\nto modify that behavior.\n\n375\n00:19:03.410 --> 00:19:06.950\nLet me show you some of the ways\nthat we can modify that.\n\n376\n00:19:06.950 --> 00:19:11.170\nI'm gonna get into interface fa0/2 again.\n\n377\n00:19:11.170 --> 00:19:15.210\nAnd if you run the switchport\nport-security command, and\n\n378\n00:19:15.210 --> 00:19:18.920\nthen do a question mark, you'll see it's\ngot a few neat little options in here like\n\n379\n00:19:18.920 --> 00:19:21.850\naging, mac-address,\nmaximum, and violation.\n\n380\n00:19:23.070 --> 00:19:24.370\nLet's talk about aging first, right?\n\n381\n00:19:24.370 --> 00:19:28.710\nAging, when we learn a MAC address,\nhow long do we hold it?\n\n382\n00:19:28.710 --> 00:19:32.570\nDo we hold it for 30 seconds,\n5 minutes, how long?\n\n383\n00:19:32.570 --> 00:19:34.850\nIf somebody unplugs their laptop and\n\n384\n00:19:34.850 --> 00:19:39.060\nwalks away, how long do we wait\nbefore we take that MAC address out?\n\n385\n00:19:39.060 --> 00:19:42.110\nBecause if a hacker comes in and\nthey unplug somebody's laptop and\n\n386\n00:19:42.110 --> 00:19:43.870\nthen they plug in their device,\n\n387\n00:19:43.870 --> 00:19:47.180\nthere was one MAC address before,\nnow there's one MAC address now.\n\n388\n00:19:47.180 --> 00:19:47.809\nIt's not a violation.\n\n389\n00:19:49.080 --> 00:19:53.431\nBut if I do aging, they unplug the old\ndevice and I'm still holding that address.\n\n390\n00:19:53.431 --> 00:19:55.733\nAnd I plug in the new device,\nnow there's two MAC addresses and\n\n391\n00:19:55.733 --> 00:19:56.815\nnow we've got a violation.\n\n392\n00:19:56.815 --> 00:20:00.460\nNow, that can cause a bit of a problem\nif you're doing a warranty exchange,\n\n393\n00:20:00.460 --> 00:20:02.970\nsomebody has to replace\ntheir network adapter.\n\n394\n00:20:02.970 --> 00:20:06.760\nNow they've gotta unplug and wait the\naging time before they plug in their next\n\n395\n00:20:06.760 --> 00:20:08.550\none, otherwise it will create a violation.\n\n396\n00:20:08.550 --> 00:20:13.450\nBut we can certainly configure that and\ndefine how we want that aging to work.\n\n397\n00:20:13.450 --> 00:20:17.760\nIf we want it to be static, we statically\nset aging for a particular address.\n\n398\n00:20:17.760 --> 00:20:21.030\nWe can do a time, which is what\nwe normally see, a time window.\n\n399\n00:20:21.030 --> 00:20:25.830\nOr an aging type, on the aging type,\nthere's absolute and inactivity.\n\n400\n00:20:25.830 --> 00:20:30.090\nAbsolute means you hold it, no matter\nwhat, whether it's active or not.\n\n401\n00:20:30.090 --> 00:20:32.520\nAnd inactivity means we just\nhold it while it's inactive.\n\n402\n00:20:34.060 --> 00:20:37.880\nWe don't necessarily need to hold\nit while there is a link light.\n\n403\n00:20:37.880 --> 00:20:40.630\nSo those are one thing that we can\njump in there and kind of tweak.\n\n404\n00:20:40.630 --> 00:20:42.030\nI don't normally mess with those, though,\n\n405\n00:20:42.030 --> 00:20:43.799\ncuz the other options\nare a little more relevant.\n\n406\n00:20:44.970 --> 00:20:49.600\nMaximum is where we can tweak how many\nMAC addresses are allowed to show up.\n\n407\n00:20:50.600 --> 00:20:52.860\nUsually one is what we want,\nand that's the default.\n\n408\n00:20:52.860 --> 00:20:55.020\nSo if that's what you want,\nyou don't have to set this.\n\n409\n00:20:55.020 --> 00:20:57.310\nBut you might want to allow for\na few more.\n\n410\n00:20:57.310 --> 00:21:01.100\nMaybe you say all right, I know that\nsometimes we have to replace a network\n\n411\n00:21:01.100 --> 00:21:03.790\nadapter, or somebody unplugs one\ncomputer to plug in another one.\n\n412\n00:21:03.790 --> 00:21:06.830\nAnd I know that happens, so\nI'm gonna go ahead and authorize two.\n\n413\n00:21:06.830 --> 00:21:10.340\nNot three or more, so if they plug\nin a switch, that'll trigger things.\n\n414\n00:21:10.340 --> 00:21:12.545\nBut if they just do one or\ntwo, then that's okay.\n\n415\n00:21:12.545 --> 00:21:14.185\nWe can set what that maximum is.\n\n416\n00:21:15.285 --> 00:21:17.494\nAnd on my switch,\nthe maximum is 6,144, but\n\n417\n00:21:17.494 --> 00:21:19.665\nthat's because it's this particular model.\n\n418\n00:21:19.665 --> 00:21:22.095\nYour switch might have a higher maximum or\nit might have a lower maximum.\n\n419\n00:21:22.095 --> 00:21:23.826\nIt just depends on the model\nof switch you have.\n\n420\n00:21:23.826 --> 00:21:27.450\n>> Now Don, on this port security, does\nthe number of MAC addresses that we're\n\n421\n00:21:27.450 --> 00:21:31.297\nsetting here, does that matter if we were\nto use anything like what we were talking\n\n422\n00:21:31.297 --> 00:21:33.930\nabout in an earlier episode,\nsuch as VoIP phones?\n\n423\n00:21:33.930 --> 00:21:37.730\nDo I need to actually say, I need one or\ntwo at least for the VoIP phone, and\n\n424\n00:21:37.730 --> 00:21:38.400\nthen this?\n\n425\n00:21:38.400 --> 00:21:39.300\n>> Yeah.\n>> Okay.\n\n426\n00:21:39.300 --> 00:21:40.310\n>> Great point there.\n\n427\n00:21:40.310 --> 00:21:43.090\nIf we have a VoIP phone,\nif we're doing voice VLANs,\n\n428\n00:21:43.090 --> 00:21:46.210\nthen you'll have your PC plugged into your\nphone, your phone plugged into the wall.\n\n429\n00:21:46.210 --> 00:21:47.700\nThat's two MAC addresses, right?\n\n430\n00:21:47.700 --> 00:21:51.520\nSo we need to bump this maximum up to\ntwo to allow for the phone and the PC.\n\n431\n00:21:51.520 --> 00:21:53.680\nAbsolutely, yeah,\nI didn't even think about it.\n\n432\n00:21:53.680 --> 00:21:55.461\n>> Yeah, it just came to my head.\n\n433\n00:21:55.461 --> 00:21:56.460\n[LAUGH]\n>> So\n\n434\n00:21:56.460 --> 00:21:59.000\nthat's another thing that\nwe can set as the maximum.\n\n435\n00:21:59.000 --> 00:22:02.320\nAnother thing that we'll probably wanna\nlook at is the violation command.\n\n436\n00:22:02.320 --> 00:22:03.777\nSo when we go to setup port security,\n\n437\n00:22:03.777 --> 00:22:06.225\nwe've got three different\nviolation modes we can pick from.\n\n438\n00:22:06.225 --> 00:22:10.134\nThere is protect, restrict, and\nshutdown, and shutdown is the default.\n\n439\n00:22:10.134 --> 00:22:13.160\nThat's the one we're gonna see\nmost in this episode, where hey,\n\n440\n00:22:13.160 --> 00:22:15.290\nif there is a violation,\nturn the port off.\n\n441\n00:22:15.290 --> 00:22:17.870\nJust shut it down, and\nit's gonna stay shutdown.\n\n442\n00:22:17.870 --> 00:22:21.620\nIt's gonna stay shutdown, until an admin\ncomes in and turns support back on.\n\n443\n00:22:21.620 --> 00:22:24.580\nAnd you do a shutdown, and\nthen a no shutdown command.\n\n444\n00:22:24.580 --> 00:22:26.680\nAnd that'll turn it back on and reset it.\n\n445\n00:22:26.680 --> 00:22:30.260\nSo that's usually what we want,\nwe want to get a network admin involved.\n\n446\n00:22:30.260 --> 00:22:32.410\nBut there's other settings\nthat are available.\n\n447\n00:22:32.410 --> 00:22:34.390\nSo for example, protect and restrict.\n\n448\n00:22:34.390 --> 00:22:37.100\nWith protect, protect is kind\nof one of the interesting ones.\n\n449\n00:22:37.100 --> 00:22:42.056\nIt says, look, if we're limited to one MAC\naddress and a second MAC address shows up,\n\n450\n00:22:42.056 --> 00:22:45.110\nthen what we''re gonna do is we're gonna\nstop that second address from talking.\n\n451\n00:22:45.110 --> 00:22:47.860\nWe're gonna protect our network, we're not\ngonna allow that second address to go.\n\n452\n00:22:47.860 --> 00:22:49.360\nThe first address can still talk.\n\n453\n00:22:49.360 --> 00:22:52.079\nThe first person is still\ncommunicating just fine,\n\n454\n00:22:52.079 --> 00:22:53.884\nthe second person is now blocked.\n\n455\n00:22:53.884 --> 00:22:56.550\nAnd it's not gonna generate a log message,\nit's not gonna do warnings.\n\n456\n00:22:56.550 --> 00:22:58.540\nIt's not gonna get\na network admin involved.\n\n457\n00:22:58.540 --> 00:23:00.360\nIt's just gonna stop the second person.\n\n458\n00:23:00.360 --> 00:23:04.190\nSo they plug in, and\nthey effectively see no link, and\n\n459\n00:23:04.190 --> 00:23:06.470\nthat's the end of their communication.\n\n460\n00:23:06.470 --> 00:23:08.360\nRestrict takes it a little bit further.\n\n461\n00:23:08.360 --> 00:23:10.570\nRestrict really does\nthe same thing as protect.\n\n462\n00:23:10.570 --> 00:23:12.350\nThe first person is able to talk.\n\n463\n00:23:12.350 --> 00:23:16.360\nThat violating address, the second address\nor whatever we're set to, comes along.\n\n464\n00:23:16.360 --> 00:23:19.170\nIt violates and\nit stops them from talking, but\n\n465\n00:23:19.170 --> 00:23:21.730\nit also generates log messages.\n\n466\n00:23:21.730 --> 00:23:24.330\nSo it generates messages\nin the switch's logs.\n\n467\n00:23:24.330 --> 00:23:27.760\nAnd that way, we can then go and configure\nthings like SNMP traps based off of that,\n\n468\n00:23:27.760 --> 00:23:29.320\nor email alerts or whatever.\n\n469\n00:23:29.320 --> 00:23:31.820\nBy default it throws it right\ninto the logs on the switch, and\n\n470\n00:23:31.820 --> 00:23:32.830\nwe know what happened.\n\n471\n00:23:32.830 --> 00:23:36.327\nSo as network admin,\nI didn't have to get involved.\n\n472\n00:23:36.327 --> 00:23:39.736\nBut I do have a record of what happened,\nso I know that it occurred.\n\n473\n00:23:39.736 --> 00:23:42.475\nAnd I can go in and see that, and\ntalk to the necessary people and\n\n474\n00:23:42.475 --> 00:23:44.040\ntake whatever precautions I need.\n\n475\n00:23:44.040 --> 00:23:45.618\nSo it's kind of a nice little step.\n\n476\n00:23:45.618 --> 00:23:48.477\nSo just to kinda recap the three here.\n\n477\n00:23:48.477 --> 00:23:52.864\nWe've got protect, which allows\nthe right person to communicate and\n\n478\n00:23:52.864 --> 00:23:55.830\nblocks everybody else, with no logs.\n\n479\n00:23:55.830 --> 00:24:00.204\nThere's restrict, that allows the right\nperson to talk, blocks everybody else, and\n\n480\n00:24:00.204 --> 00:24:02.108\ngenerates log messages and an alert.\n\n481\n00:24:02.108 --> 00:24:04.061\nAnd then lastly, there's shutdown.\n\n482\n00:24:04.061 --> 00:24:06.836\nAnd that blocks everybody,\neven the right person.\n\n483\n00:24:06.836 --> 00:24:09.577\nAs soon as the violation happens,\nthe port get's shut down.\n\n484\n00:24:09.577 --> 00:24:12.846\nThe first two are nice because we\ndon't have to get involved as admins,\n\n485\n00:24:12.846 --> 00:24:15.311\nthe last one shut down,\nwe'll have to get involved.\n\n486\n00:24:15.311 --> 00:24:19.941\nAll right, so those are some of the things\nthat we can adjust, but there is one\n\n487\n00:24:19.941 --> 00:24:24.569\nmore thing that I want to show you guys\nwhich is, when we set up port security,\n\n488\n00:24:24.569 --> 00:24:29.700\nyou'll notice that I've got the option\nin here to set a MAC address, okay.\n\n489\n00:24:29.700 --> 00:24:33.580\nIf I set a maximum of one I'm only gonna\nallow one MAC address on this port.\n\n490\n00:24:34.780 --> 00:24:37.130\nI'm not saying what MAC address that is.\n\n491\n00:24:37.130 --> 00:24:41.970\nSo an attacker could unplug a computer,\nwait for whatever the aging time is,\n\n492\n00:24:41.970 --> 00:24:43.990\nmaybe it's three minutes,\nthey wait a few minutes, and\n\n493\n00:24:43.990 --> 00:24:46.410\nthen they can plug in their attack box.\n\n494\n00:24:46.410 --> 00:24:49.860\nAnd once they plug in their attack box,\nit's just one MAC address.\n\n495\n00:24:49.860 --> 00:24:50.660\nSo that's okay.\n\n496\n00:24:50.660 --> 00:24:53.990\nThey're still within the limits and\nwe allow them to communicate.\n\n497\n00:24:53.990 --> 00:24:59.720\nBut what I could do is statically\ndefine a MAC address and\n\n498\n00:24:59.720 --> 00:25:02.430\nsay this is the MAC address\nthat's going to be allowed.\n\n499\n00:25:02.430 --> 00:25:06.810\nSo for\nexample we can take my network adaptor.\n\n500\n00:25:06.810 --> 00:25:07.950\nRight.\n\n501\n00:25:07.950 --> 00:25:10.840\nWe kind of already know my Mac\naddress because it's in the,\n\n502\n00:25:12.270 --> 00:25:13.960\nlet's pull it up here,\nin the address table.\n\n503\n00:25:15.230 --> 00:25:19.160\nI'm going to figure out what my Mac\naddress, so there's my Mac address.\n\n504\n00:25:20.210 --> 00:25:23.300\nSo what I could do is I can\ntake that Mac address and\n\n505\n00:25:23.300 --> 00:25:26.420\nstatically set it on this port.\n\n506\n00:25:26.420 --> 00:25:32.692\nAnd so, if I do something like this, if I\nsay, switchport, port-security maximum 1.\n\n507\n00:25:32.692 --> 00:25:35.258\nI'm only gonna allow one Mac address and\nthat's the default,\n\n508\n00:25:35.258 --> 00:25:37.207\nI technically didn't\nhave to do that command.\n\n509\n00:25:37.207 --> 00:25:43.038\nAnd then I'm gonna say,\nswitchport port-security mac-address and\n\n510\n00:25:43.038 --> 00:25:46.150\nI'm gonna paste in my address.\n\n511\n00:25:46.150 --> 00:25:51.280\nOkay, and so what I'm doing\nthere is I'm statically defining\n\n512\n00:25:51.280 --> 00:25:55.870\nthis is the Mac address that's\ngoing to be on the port, all right?\n\n513\n00:25:55.870 --> 00:25:57.460\nAnd I'm getting a duplicate here.\n\n514\n00:25:57.460 --> 00:25:58.470\nFound duplicate Mac address.\n\n515\n00:25:58.470 --> 00:26:00.240\nAnd that's because I'm already up.\n\n516\n00:26:00.240 --> 00:26:03.710\nIf I shut the port down, okay so\nI'm just gonna shut it down.\n\n517\n00:26:03.710 --> 00:26:05.250\nThat's gonna clear out\nthe Mac address table, and\n\n518\n00:26:05.250 --> 00:26:09.620\nI'm gonna rerun that command there right.\n\n519\n00:26:09.620 --> 00:26:12.910\nSo it's not on the Mac address table,\nbecause I'm not plugged in now right.\n\n520\n00:26:12.910 --> 00:26:14.550\nI did a shutdown on the port.\n\n521\n00:26:14.550 --> 00:26:21.706\nAnd if I take a look in my MAC address\ntable, what I'm gonna see is it's empty,\n\n522\n00:26:21.706 --> 00:26:26.703\nbut, if I take a look at\nthe interface configuration.\n\n523\n00:26:26.703 --> 00:26:33.210\nI can see that my MAC address Is\nnow hard coded to this port okay.\n\n524\n00:26:33.210 --> 00:26:36.550\nSo switch port port-security\nmac-address and my mac all right.\n\n525\n00:26:36.550 --> 00:26:39.490\nI'm not plugging in the port right now.\n\n526\n00:26:39.490 --> 00:26:44.097\nThe port shut down but that Mac address is\nhard set doesn't matter if it's the Mac\n\n527\n00:26:44.097 --> 00:26:46.670\ntable or not, it's now right here.\n\n528\n00:26:46.670 --> 00:26:51.670\nAnd if I take a look at my port security,\nit's going to show I have\n\n529\n00:26:51.670 --> 00:26:56.710\na maximum address count of 1, and\nI have a current address count of 1.\n\n530\n00:26:56.710 --> 00:27:01.510\nMy Mac address table is empty,\nbut I still have\n\n531\n00:27:01.510 --> 00:27:05.450\na Mac address count of one because\nit's statically defined on this port.\n\n532\n00:27:05.450 --> 00:27:08.440\nAnd if anybody else plugs into this port,\nthere's gonna be violation.\n\n533\n00:27:08.440 --> 00:27:12.750\nSo if I do a no shutdown,\nmy Mac address is gonna come up, right?\n\n534\n00:27:12.750 --> 00:27:14.830\nI'm now plugged into this port.\n\n535\n00:27:14.830 --> 00:27:16.930\nAnd so it's gonna learn that and\nI'll have to give it a second for\n\n536\n00:27:16.930 --> 00:27:17.990\nthe loop protection.\n\n537\n00:27:17.990 --> 00:27:21.953\nIn fact, let me just turn off\nthe loop protection on this one.\n\n538\n00:27:24.988 --> 00:27:25.890\nReal quick.\n\n539\n00:27:25.890 --> 00:27:27.890\nI'm gonna turn off loop protection\nwhich is not the greatest idea but\n\n540\n00:27:27.890 --> 00:27:30.390\nI just want the port to\nwork a little faster.\n\n541\n00:27:30.390 --> 00:27:31.263\nSo there.\nSo it's gonna come up.\n\n542\n00:27:31.263 --> 00:27:34.060\nAnd when it comes up,\nit's gonna learn my Mac address.\n\n543\n00:27:34.060 --> 00:27:36.370\nAnd it's gonna throw it in\nthe Mac address table and\n\n544\n00:27:36.370 --> 00:27:39.560\nthat port is limited to\njust one Mac address.\n\n545\n00:27:39.560 --> 00:27:40.490\nRight?\n\n546\n00:27:40.490 --> 00:27:45.110\nBut that's okay,\nbecause I've only got one MAC address.\n\n547\n00:27:45.110 --> 00:27:48.200\nWhen I take a look at that MAC\naddress table, there I am,\n\n548\n00:27:48.200 --> 00:27:50.470\nthere's my MAC address on port two.\n\n549\n00:27:50.470 --> 00:27:52.634\nAnd if I do a show port-security\n\n550\n00:27:54.570 --> 00:27:59.270\nI can see that I'm still okay, and\nmy violation count is 0, right?\n\n551\n00:27:59.270 --> 00:28:01.450\nWe haven't violated, I'm okay.\n\n552\n00:28:01.450 --> 00:28:06.580\nBut now, if I were to unplug my laptop,\nRonnie can you unplug me please?\n\n553\n00:28:06.580 --> 00:28:13.060\nSo he's gonna unplug me, and\nnow when I do a show mac address-table.\n\n554\n00:28:13.060 --> 00:28:17.680\nAnd I'll exclude the CPU stuff all right.\n\n555\n00:28:17.680 --> 00:28:19.230\nSo Mac table is empty.\n\n556\n00:28:19.230 --> 00:28:24.030\nIf I do a show port-security\nit still remembers my address.\n\n557\n00:28:24.030 --> 00:28:27.760\nRight so it's got 1 and 1 Ronnie,\nlet's plug your laptop into that port.\n\n558\n00:28:27.760 --> 00:28:29.860\nSo now Ronnie's gonna plug into port 2.\n\n559\n00:28:29.860 --> 00:28:32.750\nRonnie has a different\nMAC address than me.\n\n560\n00:28:32.750 --> 00:28:34.680\nTechnically I have a maximum of one.\n\n561\n00:28:34.680 --> 00:28:36.110\nMy MAC address isn't\non the port right now.\n\n562\n00:28:36.110 --> 00:28:38.480\nSo if he plugs in, he would be one.\n\n563\n00:28:38.480 --> 00:28:41.110\nBut because I statically attached\nthe MAC address to that port,\n\n564\n00:28:41.110 --> 00:28:44.780\nwhen he plugs in, it's not gonna\nmatter that my laptop's not there.\n\n565\n00:28:44.780 --> 00:28:46.790\nIt's gonna see that\nthe wrong MAC address is in.\n\n566\n00:28:46.790 --> 00:28:48.638\nAnd right away,\nyou guys see how fast that was.\n\n567\n00:28:48.638 --> 00:28:51.330\nThere's that psecure-violation, right?\n\n568\n00:28:51.330 --> 00:28:54.480\nHe tripped the warning and\nnow the port is shut down.\n\n569\n00:28:54.480 --> 00:29:01.720\nIf I do a, show port-security, now I\ncan see that my violation count is 1,\n\n570\n00:29:01.720 --> 00:29:05.560\nand that means it took the action and\nthe action was to shut down, right.\n\n571\n00:29:05.560 --> 00:29:08.350\nSo it remembers the MAC\naddress on that port\n\n572\n00:29:08.350 --> 00:29:10.310\nbecause we've statically assigned it,\nall right.\n\n573\n00:29:10.310 --> 00:29:13.400\nNow the thing about the MAC\naddress assignment like that.\n\n574\n00:29:13.400 --> 00:29:15.290\nIt's something you were looking at and\nprobably thinking, wow,\n\n575\n00:29:15.290 --> 00:29:16.240\nthat's a great idea.\n\n576\n00:29:16.240 --> 00:29:16.880\nI really should do that.\n\n577\n00:29:16.880 --> 00:29:18.940\nWe should statically\nassign the MAC addresses.\n\n578\n00:29:18.940 --> 00:29:20.960\nWell, imagine if you will.\n\n579\n00:29:20.960 --> 00:29:22.510\nYou go to work somewhere new.\n\n580\n00:29:22.510 --> 00:29:23.710\nAnd they don't know about this technology.\n\n581\n00:29:23.710 --> 00:29:24.740\nSo you just introduce them to it.\n\n582\n00:29:24.740 --> 00:29:25.870\nYou teach them about port security.\n\n583\n00:29:25.870 --> 00:29:27.440\nWe should really have this.\n\n584\n00:29:27.440 --> 00:29:29.310\nAnd they say, okay, great, let's do it.\n\n585\n00:29:29.310 --> 00:29:32.285\nCan you go ahead and configure that up for\nall 1,500 of our computers?\n\n586\n00:29:32.285 --> 00:29:34.430\n>> [LAUGH] No.\n\n587\n00:29:34.430 --> 00:29:38.690\n>> Yeah, then you're like, well, okay,\nI'm sure you guys have a list of all 1,\n\n588\n00:29:38.690 --> 00:29:40.500\n500 MAC addresses and\nwhat ports they're on, right?\n\n589\n00:29:40.500 --> 00:29:43.678\nDo you have that for me?\n[LAUGH] And they're not gonna have it,\n\n590\n00:29:43.678 --> 00:29:44.560\nright?\n\n591\n00:29:44.560 --> 00:29:48.560\nSo going and gather all of those MAC\naddresses, that's a lot of work.\n\n592\n00:29:48.560 --> 00:29:49.870\nIt's hard to do.\n\n593\n00:29:49.870 --> 00:29:53.840\nSo Cisco created a neat little feature\ncalled sticky MACs which is kinda neat.\n\n594\n00:29:53.840 --> 00:29:56.930\nWell we can statically assign the Mac\naddresses even if we don't know them.\n\n595\n00:29:56.930 --> 00:30:01.210\nAnd what it does is it just says hey\nlook the first Mac address I encounter\n\n596\n00:30:01.210 --> 00:30:03.540\nI'm gonna marry that\none to this port okay.\n\n597\n00:30:03.540 --> 00:30:05.220\nSo let me show you how we\ncan do that with Ronnie.\n\n598\n00:30:05.220 --> 00:30:06.480\nRonnie are you unplugged right now?\n\n599\n00:30:06.480 --> 00:30:07.518\n>> No not yet.\n>> Go ahead and unplug yours.\n\n600\n00:30:07.518 --> 00:30:08.700\n>> Okay.\n\n601\n00:30:08.700 --> 00:30:12.090\nAnd let's say that I want to get this\nconfigured for port number one, right?\n\n602\n00:30:12.090 --> 00:30:15.170\nSo don't plug in just yet.\n\n603\n00:30:15.170 --> 00:30:18.302\nSo I'm going to go into port one and\n\n604\n00:30:18.302 --> 00:30:24.041\nif I take a look at my running-config for\ninterface fa0/1.\n\n605\n00:30:24.041 --> 00:30:26.329\nSo right now it's just shutdown and\n\n606\n00:30:26.329 --> 00:30:29.540\nthere's no security\nconfiguration on it at all.\n\n607\n00:30:29.540 --> 00:30:32.240\nSo I'm gonna do a no shutdown\nto turn it back on and\n\n608\n00:30:32.240 --> 00:30:35.480\nI need to get into the interface first,\nor the right interface.\n\n609\n00:30:35.480 --> 00:30:37.640\nThere we go, and there we go.\n\n610\n00:30:37.640 --> 00:30:39.890\nAll right, so I'm gonna turn the port on.\n\n611\n00:30:39.890 --> 00:30:41.730\nAnd now I'm gonna come in and\nget it configured.\n\n612\n00:30:41.730 --> 00:30:45.600\nSo I'm going to say switch port,\nport dash security, to turn that on.\n\n613\n00:30:45.600 --> 00:30:50.210\nAnd, I forgot,\nI gotta do a switch port mode access and\n\n614\n00:30:50.210 --> 00:30:52.690\na switch port no negotiate.\n\n615\n00:30:52.690 --> 00:30:54.030\n>> And Don that brings us to a good point,\n\n616\n00:30:54.030 --> 00:30:57.860\nwe had question in our chatroom\nabout that switch port no negotiate.\n\n617\n00:30:57.860 --> 00:31:00.990\nSomebody says, if you go ahead and make it\nan access port, shouldn't it stay there?\n\n618\n00:31:00.990 --> 00:31:01.899\nDo we really need the no negotiate?\n\n619\n00:31:01.899 --> 00:31:04.510\n>> It depends on the switch, right?\n\n620\n00:31:04.510 --> 00:31:07.560\nSome of the switches will still\nauto negotiate certain things,\n\n621\n00:31:07.560 --> 00:31:10.900\neven if they're set to an access.\n\n622\n00:31:10.900 --> 00:31:13.820\nOn most of them, you can get away with\njust doing switchport mode access.\n\n623\n00:31:15.080 --> 00:31:18.060\nWith switchport mode trunk,\nthe no negotiate's more important, right?\n\n624\n00:31:18.060 --> 00:31:20.650\nCuz we can negotiate the different\ntrunk protocols, and so\n\n625\n00:31:20.650 --> 00:31:22.050\nwe can force a single one.\n\n626\n00:31:22.050 --> 00:31:24.560\nSo it just kinda depends on\nwhich one you're working on.\n\n627\n00:31:24.560 --> 00:31:25.950\nI've kinda made it a habit\nof always doing it.\n\n628\n00:31:27.360 --> 00:31:30.200\nAll right, so\nI've got switchport port-security.\n\n629\n00:31:30.200 --> 00:31:31.110\nAnd I'm turning that on.\n\n630\n00:31:31.110 --> 00:31:36.760\nI'm gonna say switchport\nport-security maximum 1.\n\n631\n00:31:36.760 --> 00:31:40.580\nWhich again, technically I don't\nneed because that's the default.\n\n632\n00:31:40.580 --> 00:31:44.720\nAnd then I'm going to say\nswitch port port-security and\n\n633\n00:31:44.720 --> 00:31:48.740\nwhat I want to do is I want to\nassign a MAC address, right?\n\n634\n00:31:48.740 --> 00:31:51.280\nBut I don't know Ronny's MAC address and\nI don't want to go and\n\n635\n00:31:51.280 --> 00:31:53.420\ngather that information in and\nput it in, right?\n\n636\n00:31:53.420 --> 00:31:55.220\nI don't want to have to go and do that so\n\n637\n00:31:55.220 --> 00:32:00.010\nthere is a little key word you can\nthrow right after it that says sticky.\n\n638\n00:32:00.010 --> 00:32:02.320\nIf you throw the word sticky at the end,\nright?\n\n639\n00:32:02.320 --> 00:32:06.501\nWhat that does is it says, look for\nthe first valid Mac address that gets\n\n640\n00:32:06.501 --> 00:32:10.412\nplugged into this thing and\nthen we're gonna add that to the port.\n\n641\n00:32:10.412 --> 00:32:12.328\nSo before we do that, let me just verify.\n\n642\n00:32:12.328 --> 00:32:18.780\nIf I go in to my show, mac address-table,\nand I'll exclude all the cpu stuff.\n\n643\n00:32:19.860 --> 00:32:21.550\nI've got no mac addresses in my table,\nright?\n\n644\n00:32:21.550 --> 00:32:26.590\nAnd, if I do a show running-config for\ninterface fa0/1, I can see it's turned on,\n\n645\n00:32:26.590 --> 00:32:30.540\nit's got sticky set up, but,\nit has no mac address, okay?\n\n646\n00:32:30.540 --> 00:32:32.710\nRonnie, go ahead and plug your cable in.\n\n647\n00:32:32.710 --> 00:32:36.250\nAnd, I should have turned off protection\nbut it'll figure out pretty fast.\n\n648\n00:32:36.250 --> 00:32:40.370\nAll right so he's gonna plug in and\nit's gonna turn the port on and\n\n649\n00:32:40.370 --> 00:32:44.730\nit's gonna do the loop guard stuff so\nit's gonna try and figure all that out.\n\n650\n00:32:44.730 --> 00:32:48.250\nBut once that's done,\nit's gonna see his Mac address.\n\n651\n00:32:48.250 --> 00:32:51.530\nNow, I have a maximum of one and\nhe's one so we're clear, right?\n\n652\n00:32:51.530 --> 00:32:52.890\nNo violation.\n\n653\n00:32:52.890 --> 00:32:58.140\nBut it's also going to learn his Mac\naddress and add it to the interface So\n\n654\n00:32:58.140 --> 00:33:03.850\nif I do a show port-security,\nI can see Port 1 is already up and\n\n655\n00:33:03.850 --> 00:33:07.370\nit's got a maximum one and\none address has been learnt.\n\n656\n00:33:07.370 --> 00:33:14.170\nAnd if I do a show running-config for\nfa0/1, look what it did.\n\n657\n00:33:14.170 --> 00:33:18.100\nHere is the sticky command that I put in,\nand right after it,\n\n658\n00:33:18.100 --> 00:33:23.540\nswitchport port-security mac-address\nsticky, and there is Ronnie's MAC address.\n\n659\n00:33:23.540 --> 00:33:26.430\nIt learned it and\nit put it into the config.\n\n660\n00:33:26.430 --> 00:33:31.620\nOkay, so now it's sticky, it's in my\nrunning config, not in my startup config.\n\n661\n00:33:31.620 --> 00:33:35.690\nIf I do a show of startup-config and\nI go in and\n\n662\n00:33:35.690 --> 00:33:37.610\nI look at that interface, it's not there.\n\n663\n00:33:37.610 --> 00:33:40.070\nRight, so on fa0/1 it's not showing up.\n\n664\n00:33:40.070 --> 00:33:42.060\nSo it is learning them.\n\n665\n00:33:42.060 --> 00:33:44.490\nSo I can turn this on and let it learn.\n\n666\n00:33:44.490 --> 00:33:50.060\nAnd then every now and then, reach out to\nthat switch and back up the config, right?\n\n667\n00:33:50.060 --> 00:33:52.400\nI need to save the running\nconfig to the startup config.\n\n668\n00:33:52.400 --> 00:33:57.560\nAnd that way, we'll have it and\nnow even if I reboot the switch,\n\n669\n00:33:57.560 --> 00:34:03.190\nwhen I reboot it, it's gonna run the\nstartup config and we'll be able to see,\n\n670\n00:34:03.190 --> 00:34:06.850\nwhere his Mac address has made\nit into the startup config.\n\n671\n00:34:06.850 --> 00:34:10.190\nSo, even if I reboot, if he unplugs or\nwhatever his Mac address is now on there.\n\n672\n00:34:10.190 --> 00:34:11.040\nSo, that's a quick and\n\n673\n00:34:11.040 --> 00:34:14.490\neasy way to get this configured\nin a new environment, right?\n\n674\n00:34:14.490 --> 00:34:17.330\nIn an existing environment that's\nalready using static assignments,\n\n675\n00:34:17.330 --> 00:34:19.620\nany time that you buy a new computer or\nbuy a new laptop,\n\n676\n00:34:19.620 --> 00:34:22.110\nyou'll need to get the Mac address and\nadd it to your switches.\n\n677\n00:34:22.110 --> 00:34:27.550\nAnd when you buy an iPad and\niPhone, a new tablet, a laptop,\n\n678\n00:34:27.550 --> 00:34:32.760\na desktop they almost always print the Mac\naddress on the outside of the box.\n\n679\n00:34:32.760 --> 00:34:35.370\nIt's part of the process that they do so\nthat it makes it easy for\n\n680\n00:34:35.370 --> 00:34:38.100\nus to get that record even before\nthe computer's been unboxed and\n\n681\n00:34:38.100 --> 00:34:39.540\nget it added to our network equipment.\n\n682\n00:34:39.540 --> 00:34:45.040\nSo definitely an easy kinda way to go\nabout that and get it put in place.\n\n683\n00:34:45.040 --> 00:34:48.620\nAll right, so that's pretty much it,\nlet's see, did I have anything?\n\n684\n00:34:48.620 --> 00:34:51.940\nAnd you have one more thing that I\nwanna talk about with port security.\n\n685\n00:34:51.940 --> 00:34:56.390\nIt's possible that you wanna shut the port\ndown and get that to stop, right?\n\n686\n00:34:57.420 --> 00:35:00.180\nBut you don't wanna get\ninvolve as the network admin.\n\n687\n00:35:00.180 --> 00:35:02.930\nYou don't wanna have to get a support\nticket every time somebody trips/s\n\n688\n00:35:02.930 --> 00:35:04.700\na violation and go and deal with it.\n\n689\n00:35:04.700 --> 00:35:08.830\nSo what you could do is instead of\ndoing a forced shut down like this,\n\n690\n00:35:08.830 --> 00:35:12.250\nwell a permanent shut down,\nis you can do a temporary one.\n\n691\n00:35:12.250 --> 00:35:14.550\nWe actually set the switch up\nwhere it says, hey look, yes,\n\n692\n00:35:14.550 --> 00:35:15.470\nwe're gonna shut the port down.\n\n693\n00:35:15.470 --> 00:35:17.740\nIf there's a violation,\nwe're gonna shut it down.\n\n694\n00:35:17.740 --> 00:35:21.960\nAnd then maybe wait five minutes and\nin five minutes bring the port back up.\n\n695\n00:35:21.960 --> 00:35:25.220\nSo now, we're not gonna make it where\npeople have to do a support ticket.\n\n696\n00:35:25.220 --> 00:35:28.160\nIf they trip the violation, they can\njust wait a certain amount of time, and\n\n697\n00:35:28.160 --> 00:35:29.350\nthen everything'll be okay.\n\n698\n00:35:29.350 --> 00:35:32.840\nAnd they can plug in and communicate,\nand every thing runs great, right?\n\n699\n00:35:32.840 --> 00:35:36.290\nDoing that really isn't that hard, but\nit's not a function of port security.\n\n700\n00:35:36.290 --> 00:35:38.490\nIt's a function of\nthe error disabled state.\n\n701\n00:35:38.490 --> 00:35:42.150\nWhen a port goes error disabled, there's\na number of things that can cause that.\n\n702\n00:35:42.150 --> 00:35:44.700\nThere's actually like 20 different\nconditions that can cause a port to go\n\n703\n00:35:44.700 --> 00:35:47.010\nerror disabled,\nport security is only one of them.\n\n704\n00:35:47.010 --> 00:35:49.110\nAnd by default when you go error disabled,\n\n705\n00:35:49.110 --> 00:35:53.680\nthe port is stuck until you shut it\ndown and do a no shut down and reset it.\n\n706\n00:35:53.680 --> 00:35:57.900\nBut we can change air disabled to function\na little different and say every so often,\n\n707\n00:35:57.900 --> 00:36:01.060\nevery three minutes, every five minutes,\nwhatever it is we want, every, let's just\n\n708\n00:36:01.060 --> 00:36:04.570\nsay five minutes, every five minutes I\nwant you to try and turn the port back on.\n\n709\n00:36:04.570 --> 00:36:06.950\nOkay, and then it can jump in and do that.\n\n710\n00:36:06.950 --> 00:36:09.310\nAnd so\nwe do that from our global configuration.\n\n711\n00:36:09.310 --> 00:36:11.480\nIf I get back into my\nglobal configuration,\n\n712\n00:36:13.330 --> 00:36:16.880\nIf I spell this stuff right it\nworks a little better, there we go.\n\n713\n00:36:16.880 --> 00:36:19.020\nAnd I'm not gonna go into an interface,\nright?\n\n714\n00:36:19.020 --> 00:36:21.350\nThis is a global setting on the switch and\n\n715\n00:36:21.350 --> 00:36:24.410\nwhat I'm gonna do is I'm gonna say,\nerrdisable.\n\n716\n00:36:24.410 --> 00:36:29.930\nAll right, and then I will say\nrecovery and I'll give it an interval.\n\n717\n00:36:29.930 --> 00:36:33.930\nI'll say hey after a certain amount\nof time, I want you to try and\n\n718\n00:36:33.930 --> 00:36:36.490\nrecover ports that have gone in the air,\ndisabled.\n\n719\n00:36:36.490 --> 00:36:39.005\nDon't wait for me.\nYou go ahead and do it for me.\n\n720\n00:36:39.005 --> 00:36:42.965\nAnd we can define that right\nhere in terms of seconds.\n\n721\n00:36:42.965 --> 00:36:45.685\nSo if I want it to be five minutes,\nthat's 300 seconds.\n\n722\n00:36:45.685 --> 00:36:50.610\nSo I'm gonna say every 300 seconds,\nif a port has gone near disabled.\n\n723\n00:36:50.610 --> 00:36:51.620\nShut it down and do a.\n\n724\n00:36:51.620 --> 00:36:53.830\nYou try and reset the port and\nbring it back on.\n\n725\n00:36:55.250 --> 00:36:56.270\nNow, this isn't enough.\n\n726\n00:36:56.270 --> 00:36:57.580\nI mean, it sounds like enough,\nbut it's not.\n\n727\n00:36:57.580 --> 00:36:59.690\nRemember how I said there's\n20 different conditions,\n\n728\n00:36:59.690 --> 00:37:03.306\nor even more I think,\nthat can actually trigger air disabled?\n\n729\n00:37:03.306 --> 00:37:06.840\nI need to tell it which\nconditions allow recovery.\n\n730\n00:37:06.840 --> 00:37:12.730\nAnd so I need to say errdisable recovery\nand then tell it which protocols.\n\n731\n00:37:12.730 --> 00:37:15.080\nIf you do a question mark,\nyou'll see some of the different ones.\n\n732\n00:37:15.080 --> 00:37:19.350\nThere's this cause, and\nthen here's all the causes.\n\n733\n00:37:19.350 --> 00:37:22.340\nAnd I said 20, I think I might\nhave been a little short on that.\n\n734\n00:37:22.340 --> 00:37:23.880\n>> [LAUGH]\n>> It looks like about 25.\n\n735\n00:37:23.880 --> 00:37:25.540\nThese are all different things.\n\n736\n00:37:25.540 --> 00:37:27.640\nThey could cause a port\nto go error disabled.\n\n737\n00:37:27.640 --> 00:37:31.970\nAll sorts of stuff, ARC inspection,\nBPDU guard and these other things but\n\n738\n00:37:31.970 --> 00:37:37.220\nthe one that we're talking about is\nthis guy right here, psecure-violation.\n\n739\n00:37:37.220 --> 00:37:44.909\nAnd so all I have to do is say errdisable\nrecovery cause psecure-violation.\n\n740\n00:37:44.909 --> 00:37:48.211\nAnd when we do that,\nnow we're saying just for\n\n741\n00:37:48.211 --> 00:37:53.610\nport security every five minutes\nreset the port if it's been tripped.\n\n742\n00:37:53.610 --> 00:37:54.930\nAnd if the violation is still there,\n\n743\n00:37:54.930 --> 00:37:57.830\nif there's still too many MAC addresses,\nkeep it shut down.\n\n744\n00:37:57.830 --> 00:38:01.030\nBut if the violation is gone go ahead and\nlet the port come back up.\n\n745\n00:38:01.030 --> 00:38:03.020\nWe'll still get logs, so\nwe'll now that it happened.\n\n746\n00:38:03.020 --> 00:38:04.770\nIt'll be in our logging.\n\n747\n00:38:04.770 --> 00:38:05.600\nBut at the same time.\n\n748\n00:38:05.600 --> 00:38:08.620\nWe don't have to have a support ticket\nopened up to be able to go in and\n\n749\n00:38:08.620 --> 00:38:09.480\nreset the port.\n\n750\n00:38:09.480 --> 00:38:12.400\nIt's just automatic based on time.\n\n751\n00:38:12.400 --> 00:38:15.440\n>> Now Don we have a couple\nquestions in our chat room here.\n\n752\n00:38:15.440 --> 00:38:20.073\nAnd one is I think we're getting a little\nbit of confusing about the idea of what to\n\n753\n00:38:20.073 --> 00:38:23.617\ndo when we talk about protect and\nrestrict and the shutdown and\n\n754\n00:38:23.617 --> 00:38:27.387\na couple of people are seeing if\nyou can actually re explain that.\n\n755\n00:38:27.387 --> 00:38:30.996\nCuz one of them is actually saying\nI believe or what they thought was\n\n756\n00:38:30.996 --> 00:38:35.185\nthe belief was that Protect really\ndidn't do anything with the SMP logging,\n\n757\n00:38:35.185 --> 00:38:37.040\nwhereas restrict did.\n\n758\n00:38:37.040 --> 00:38:41.550\nAnd so at this point maybe we can\njust clarify that a little bit.\n\n759\n00:38:41.550 --> 00:38:46.400\n>> Yeah, so the way that modes work is\nsimple, kinda based on the name here.\n\n760\n00:38:46.400 --> 00:38:49.150\nYou have protect, restrict, and shutdown.\n\n761\n00:38:49.150 --> 00:38:49.990\nShutdown's the default.\n\n762\n00:38:49.990 --> 00:38:50.500\nIt's the easy one.\n\n763\n00:38:50.500 --> 00:38:52.130\nIt shuts the interface down.\n\n764\n00:38:52.130 --> 00:38:54.160\nAnd then what you have left\nare protect and restrict, right?\n\n765\n00:38:54.160 --> 00:38:56.420\nThese are the three\nmodes of what we can do.\n\n766\n00:38:56.420 --> 00:39:04.050\nAnd basically the way these work is\nprotect doesn't actually do anything.\n\n767\n00:39:04.050 --> 00:39:07.530\nI shouldn't say it doesn't do anything,\nit generates a log, right?\n\n768\n00:39:07.530 --> 00:39:12.140\nSo if there is a violation,\nit generates a log message,\n\n769\n00:39:12.140 --> 00:39:14.700\nand so if I were to say that, right?\n\n770\n00:39:14.700 --> 00:39:17.080\nNow instead of shutting the port down,\nif there's a violation,\n\n771\n00:39:17.080 --> 00:39:18.090\nit'll generate a log message.\n\n772\n00:39:18.090 --> 00:39:22.770\nAnd if you do a show logging,\nyou'll see your switch log, and\n\n773\n00:39:22.770 --> 00:39:23.800\nyou get all of these informations.\n\n774\n00:39:23.800 --> 00:39:26.910\nAnd see my PORT_SECURITY logs right here?\n\n775\n00:39:26.910 --> 00:39:28.900\nRight, that's the log that gets generated.\n\n776\n00:39:28.900 --> 00:39:32.660\nAnd if we have SNMP traps configured,\nit can send that to an SNMP server so\n\n777\n00:39:32.660 --> 00:39:34.610\nyou get a notification that way.\n\n778\n00:39:34.610 --> 00:39:38.570\nThere's even more complex ways you can\nset up email notifications and things.\n\n779\n00:39:38.570 --> 00:39:40.580\nBut by default it won't do\nthe email notifications.\n\n780\n00:39:40.580 --> 00:39:44.580\nSo that's what protect does, but\nit doesn't actually stop us, right?\n\n781\n00:39:44.580 --> 00:39:48.250\nIt lets the violation occur,\nit lets the bad stuff happen but\n\n782\n00:39:48.250 --> 00:39:50.370\nit just gives us a notification, right?\n\n783\n00:39:50.370 --> 00:39:53.910\nAnd then restrict that's where\nit actually does something.\n\n784\n00:39:53.910 --> 00:39:58.400\nIt says, all right, lets say I have\na maximum of five addresses set And\n\n785\n00:39:58.400 --> 00:40:00.130\na six address comes along.\n\n786\n00:40:01.200 --> 00:40:04.738\nIt's going to let the first five keep\ntalking because at a maximum of five\n\n787\n00:40:04.738 --> 00:40:05.957\nthe first five are okay.\n\n788\n00:40:05.957 --> 00:40:08.212\nIt's going to let those\nguys keep talking and\n\n789\n00:40:08.212 --> 00:40:11.132\nthe six guy that comes along\nit's going to suppress them.\n\n790\n00:40:11.132 --> 00:40:13.454\nIt's going to stop that\nsix address from talking.\n\n791\n00:40:13.454 --> 00:40:17.716\nIf I have a maximum of one,\nI have one computer, it's allowed to talk.\n\n792\n00:40:17.716 --> 00:40:22.530\nIf a second address shows up,\nnow it's gonna stop that one.\n\n793\n00:40:22.530 --> 00:40:26.400\nSo for example, the voiceover IP phone,\nthis scenario that Ronnie gave us,\n\n794\n00:40:26.400 --> 00:40:29.730\nright, I have a PC plugged into the phone\nand the phone plugged into the wall.\n\n795\n00:40:29.730 --> 00:40:32.720\nWhen I turn the phone on,\nwho's going to talk first?\n\n796\n00:40:32.720 --> 00:40:34.050\nThe phone, right?\n\n797\n00:40:34.050 --> 00:40:36.707\nAnd so if I have a maximum of one and\nI'm set to restrict.\n\n798\n00:40:36.707 --> 00:40:40.510\nThe phone will come up and\nit will be able to talk.\n\n799\n00:40:40.510 --> 00:40:43.780\nAnd then the PC comes up and\nit's MAC address comes along and\n\n800\n00:40:43.780 --> 00:40:45.440\nthat's a second address.\n\n801\n00:40:45.440 --> 00:40:47.760\nAnd now that's a violation.\n\n802\n00:40:47.760 --> 00:40:51.490\nIf I'm in restrict mode\nthe PC won't be able to talk.\n\n803\n00:40:51.490 --> 00:40:53.740\nThe phone can talk but the PC can't.\n\n804\n00:40:53.740 --> 00:40:55.050\nAnd I've seen this a lot of times.\n\n805\n00:40:55.050 --> 00:40:57.080\nA lot of people look at and\nthey think it's a trunk problem right.\n\n806\n00:40:57.080 --> 00:40:58.890\nYou know maybe the VLAN\naren't set up right.\n\n807\n00:40:58.890 --> 00:41:01.180\nThe voice VLAN's working\nthe data VLAN's not.\n\n808\n00:41:01.180 --> 00:41:03.100\nBut in reality it ends\nup being port security.\n\n809\n00:41:03.100 --> 00:41:06.720\nThey went with a default of a maximum of\none, you get two MAC addresses, right?\n\n810\n00:41:06.720 --> 00:41:09.920\nSo if I had it set to two, the phone and\n\n811\n00:41:09.920 --> 00:41:14.420\nthe PC, now they both come up, the two MAC\naddresses go in, and they're both happy.\n\n812\n00:41:14.420 --> 00:41:17.980\nIf a third one were to creep up somehow,\nright, maybe somebody daisy chains phones,\n\n813\n00:41:17.980 --> 00:41:18.628\nI don't know.\n\n814\n00:41:18.628 --> 00:41:21.860\n>> [LAUGH]\n>> But now it's the additional MAC\n\n815\n00:41:21.860 --> 00:41:24.800\naddresses that will be suppressed,\nthey won't be allowed to communicate.\n\n816\n00:41:24.800 --> 00:41:25.310\nRight.\n\n817\n00:41:25.310 --> 00:41:26.460\nAnd then that last one, to shut down.\n\n818\n00:41:26.460 --> 00:41:28.960\nNow, I do wanna throw a fair warning in,\nhere.\n\n819\n00:41:28.960 --> 00:41:31.040\nThis stuff is effective, it does work.\n\n820\n00:41:31.040 --> 00:41:33.550\nUnless somebody spoofs their Mac address,\nright?\n\n821\n00:41:33.550 --> 00:41:39.030\nA talented hacker could plug in\na sniffing device in between a laptop and\n\n822\n00:41:39.030 --> 00:41:41.130\na wall jack or a desktop and a wall jack.\n\n823\n00:41:41.130 --> 00:41:43.790\nAnd yeah the port is\ngonna get shut down fine.\n\n824\n00:41:43.790 --> 00:41:48.620\nBut they can intercept traffic and learn\nthe MAC address of the workstation and\n\n825\n00:41:48.620 --> 00:41:50.990\nthen they can clone the MAC address for\ntheir own use.\n\n826\n00:41:50.990 --> 00:41:55.058\nIn fact, you could take even the cheapest\nwireless access point, you know,\n\n827\n00:41:55.058 --> 00:41:58.064\nthe $50 Linksys Wireless Router\nyou buy at Best Buy and\n\n828\n00:41:58.064 --> 00:42:01.208\nyou could configure it with\nMAC address spoofing, right?\n\n829\n00:42:01.208 --> 00:42:04.801\nAnd they almost all support that where you\ncan spoof a MAC address on the external\n\n830\n00:42:04.801 --> 00:42:05.990\ninterface.\n\n831\n00:42:05.990 --> 00:42:10.365\nAnd if they're doing network address\ntranslation they'll hide all the computers\n\n832\n00:42:10.365 --> 00:42:14.675\nbehind it and that router will look at one\ndevice with the MAC address of the PCs, or\n\n833\n00:42:14.675 --> 00:42:16.255\nwhatever that are behind it.\n\n834\n00:42:16.255 --> 00:42:20.040\nSo some of the plugins,\nand you don't see it.\n\n835\n00:42:20.040 --> 00:42:24.858\nSo anybody with moderate hacking or\nsecurity skills, anybody that spends\n\n836\n00:42:24.858 --> 00:42:29.840\na little bit of time on Google to do some\nresearch, can kinda get around this.\n\n837\n00:42:29.840 --> 00:42:33.570\nIt's not a foolproof method, but\nit will stop the average person.\n\n838\n00:42:33.570 --> 00:42:36.610\nAnd at a minimum it will create some log\nmessages, so you're aware of what goes on,\n\n839\n00:42:36.610 --> 00:42:38.710\nso you can take action based on that.\n\n840\n00:42:38.710 --> 00:42:42.860\nReally a better option than\nthis is to go with 802.1x,\n\n841\n00:42:42.860 --> 00:42:46.970\nwhich is not a part of this exam, but\nthat one, you have to have a certificate.\n\n842\n00:42:46.970 --> 00:42:49.860\nYou have to authenticate\nto be able to get in there.\n\n843\n00:42:49.860 --> 00:42:53.300\nAnd if you don't, then you can't\nconnect no matter what you do.\n\n844\n00:42:53.300 --> 00:42:55.820\nAnd actually, while I was talking,\nI kind of rambled on a bit there.\n\n845\n00:42:55.820 --> 00:43:01.538\nYou'll see a little message\npopped up PM-4-ERR_RECOVER.\n\n846\n00:43:01.538 --> 00:43:04.050\nFive minutes must have gone by.\n\n847\n00:43:04.050 --> 00:43:07.090\nSo it's trying to recover\nthat port that failed and\n\n848\n00:43:07.090 --> 00:43:10.430\nif the violation is gone the port's\nnow going to go active and work.\n\n849\n00:43:10.430 --> 00:43:12.885\nIf the port If it's still in\nviolation it will stay shut down.\n\n850\n00:43:15.187 --> 00:43:18.005\nAll right Ronnie, I think that's\na pretty good run down of port security.\n\n851\n00:43:18.005 --> 00:43:20.625\nIt's neat technology,\nI don't mean to kind of poo poo it.\n\n852\n00:43:20.625 --> 00:43:21.535\nIt's good technology.\n\n853\n00:43:21.535 --> 00:43:22.755\nA lot of places use it.\n\n854\n00:43:22.755 --> 00:43:25.972\nIt's a great way to to kind of keep\ncontrol of what devices on are the network\n\n855\n00:43:25.972 --> 00:43:28.792\nbut you'll usually want to go a little\nstep further to make sure your network is\n\n856\n00:43:28.792 --> 00:43:29.362\ntruly secure.\n\n857\n00:43:30.382 --> 00:43:34.382\n>> Well excellent Don thank you for\nreminding us that we do have to understand\n\n858\n00:43:34.382 --> 00:43:38.472\nthe basics of port security, getting it\nimplemented, remember there are going\n\n859\n00:43:38.472 --> 00:43:42.202\nto be defaults if you just type in that\nswitch port port dash security but\n\n860\n00:43:42.202 --> 00:43:46.970\nyou can also go in there and actually\nmodify and change it up just a little bit.\n\n861\n00:43:46.970 --> 00:43:49.490\nSo that it can actually meet\nthe needs of what you want.\n\n862\n00:43:49.490 --> 00:43:53.012\nIf you are using shut down that by\ndefault also remember that you have to do\n\n863\n00:43:53.012 --> 00:43:55.842\nthat shut down and\nno shut down after you actually create or\n\n864\n00:43:55.842 --> 00:43:58.985\nfix the error that you haven't placed or\nis not gonna come back.\n\n865\n00:43:58.985 --> 00:44:03.239\nJust simply replacing it is not go or\nunplugging cable, plugging the right one\n\n866\n00:44:03.239 --> 00:44:07.370\nback in is just not going to work for\nus but it's a great place for us to begin.\n\n867\n00:44:07.370 --> 00:44:09.140\nMake sure you do practice this.\n\n868\n00:44:09.140 --> 00:44:11.240\nBecause it can be a little\nbit confusing if you don't.\n\n869\n00:44:11.240 --> 00:44:13.790\nJust learning about the commands itself.\n\n870\n00:44:13.790 --> 00:44:15.280\nSo please do practice this.\n\n871\n00:44:15.280 --> 00:44:18.850\nSpeed and accuracy is the key\nto overcoming this exam.\n\n872\n00:44:18.850 --> 00:44:22.120\nAnd you've gotta get faster\nat doing this by far.\n\n873\n00:44:22.120 --> 00:44:25.090\nWell that's a great place for\nus to also end this episode.\n\n874\n00:44:25.090 --> 00:44:27.921\nSigning off for\nITProTV I've been your host Ronnie Wong.\n\n875\n00:44:27.921 --> 00:44:29.074\n>> And I'm Don Pezet.\n\n876\n00:44:29.074 --> 00:44:31.540\n>> Stay tuned right here for\nmore of CCENT episodes.\n\n877\n00:44:31.540 --> 00:44:41.540\n[MUSIC]\n\n",
          "vimeoId": "175690281"
        }
      ],
      "title": "LAN Switching Fundamentals"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Ronnie and Don review the basic routing concepts.  They review the routing basics.  The guys discuss how a router builds its routing table through directly connected routes, static assignments and routing protocols.  Routing protocols are the preferred method when you have multiple routers and there are many advantages to using them, they explain.   Don and Ronnie also take a few moments to describe the difference between Distance Vector and Link State Protocols too.   Lastly, they mention how a cisco router deals with the possibility of multiple routes to the same destination from multiple protocols by using Administrative Distance—the trustworthiness of a route protocol and the load balancing that can occur if  multiple routes have the same metric.",
          "length": "2305",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-3-1-routing_protocols-071216-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-3-1-routing_protocols-071216-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-3-1-routing_protocols-071216-1-sm.jpg",
          "title": "Routing Protocols",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.262 --> 00:00:12.731\nWelcome back to another great\nepisode right here on ITProTV.\n\n3\n00:00:15.750 --> 00:00:17.350\nI'm your host Ronnie Wong and\n\n4\n00:00:17.350 --> 00:00:21.660\ntoday we're taking look at\nCisco CCENT shows as we continue on.\n\n5\n00:00:21.660 --> 00:00:25.270\nAnd we're specifically diving into\nrouting, which is actually one of\n\n6\n00:00:25.270 --> 00:00:28.830\nthe biggest topics that you'll face,\nof course, in routing and switching.\n\n7\n00:00:28.830 --> 00:00:31.940\nIt's at least the other half if not\ntwo thirds of what we're seeing here.\n\n8\n00:00:31.940 --> 00:00:34.550\nAnd back with us to help us to\nunderstand a little bit more about\n\n9\n00:00:34.550 --> 00:00:35.380\nit is Mr. Don Pezet.\n\n10\n00:00:35.380 --> 00:00:36.620\nDon, welcome back to our studios.\n\n11\n00:00:36.620 --> 00:00:38.090\n>> Thanks for\nhaving me back on the show Ronnie.\n\n12\n00:00:38.090 --> 00:00:39.700\nAnd yeah, you're kind of\nswitching gears a little bit.\n\n13\n00:00:39.700 --> 00:00:41.620\nWe've been covering switching and\nother topics but\n\n14\n00:00:41.620 --> 00:00:43.540\nnow we're going to jump\ninto that world of routing.\n\n15\n00:00:43.540 --> 00:00:48.280\nSo I wanted to start this segment off with\nreally just kind of a high level overview\n\n16\n00:00:48.280 --> 00:00:49.850\nof routing.\n\n17\n00:00:49.850 --> 00:00:52.900\nBack when we we're talking about IPv4 and\nIPv6 we couldn't help but\n\n18\n00:00:52.900 --> 00:00:53.810\ntalk about routing.\n\n19\n00:00:53.810 --> 00:00:58.050\nAnd we ran through a whole process\nabout how routers take a frame and\n\n20\n00:00:58.050 --> 00:01:01.780\nthey forward it along from router to\nrouter to router and how the frame is\n\n21\n00:01:01.780 --> 00:01:04.930\nconstantly being rewritten as that\ndata moves across the network.\n\n22\n00:01:04.930 --> 00:01:07.856\nAnd that's really\nimportant to understand but\n\n23\n00:01:07.856 --> 00:01:10.935\now does a router know where to send stuff,\nright?\n\n24\n00:01:10.935 --> 00:01:12.986\nI mean understanding\nthe frame being changed,\n\n25\n00:01:12.986 --> 00:01:16.630\nunderstanding how to get to that next hop,\nthat's one part of the journey.\n\n26\n00:01:16.630 --> 00:01:21.370\nBut the other part is the router has\nto have a good picture of the network.\n\n27\n00:01:21.370 --> 00:01:25.220\nImagine trying to go to a restaurant and\nyou don't know where it is.\n\n28\n00:01:25.220 --> 00:01:26.790\nAnd you fire up a GPS,\n\n29\n00:01:26.790 --> 00:01:31.560\na GPS unit that would normally give you\ndirections, and it doesn't know the roads.\n\n30\n00:01:31.560 --> 00:01:34.922\nIf it doesn't know the roads to\nget somewhere that's a problem.\n\n31\n00:01:34.922 --> 00:01:37.000\nI mean even when it does know the roads,\nlike the one in my car,\n\n32\n00:01:37.000 --> 00:01:40.700\nI've got one of those annoying GPSs where\nyou have to update it every year and\n\n33\n00:01:40.700 --> 00:01:44.040\nif you haven't updated it there might be\nnew roads that it doesn't know about.\n\n34\n00:01:44.040 --> 00:01:47.670\nThere's a better path that I can take but\nthe GPS doesn't know it.\n\n35\n00:01:47.670 --> 00:01:51.810\nSo now the router is not\nmaking efficient decisions.\n\n36\n00:01:51.810 --> 00:01:54.340\nSo what happens is what a router has to do\n\n37\n00:01:54.340 --> 00:01:57.870\nis it has to be configured to do\nwhat's called optimal routing,\n\n38\n00:01:57.870 --> 00:02:02.400\nhelping you find the best way\nto get from point A to point B.\n\n39\n00:02:02.400 --> 00:02:05.119\nAnd if it's not then it's\ndoing sub-optimal routing, and\n\n40\n00:02:05.119 --> 00:02:09.000\nsub-optimal routing will either result in\npoor performance or failure to connect.\n\n41\n00:02:09.000 --> 00:02:11.090\nYou might not be able to\nget to where you're going.\n\n42\n00:02:11.090 --> 00:02:14.497\nSo how do routers do all this stuff,\nright?\n\n43\n00:02:14.497 --> 00:02:17.540\nWell, some of it's actually really,\nreally simple.\n\n44\n00:02:17.540 --> 00:02:20.840\nWhen we talk about next hops and\nframe rewrites and all that,\n\n45\n00:02:20.840 --> 00:02:24.600\nthat's happening on what's called\na directly connected interface.\n\n46\n00:02:24.600 --> 00:02:27.170\nSo for example, let's take a look\nat this diagram that I've got.\n\n47\n00:02:27.170 --> 00:02:31.200\nSo I've got a simple topology\nwhipped up here with four networks.\n\n48\n00:02:31.200 --> 00:02:32.720\nI've got three routers.\n\n49\n00:02:32.720 --> 00:02:36.308\nWe've got the 192.168.0 network\nall the way over to the left and\n\n50\n00:02:36.308 --> 00:02:40.620\nthe 172.16.0 network all\nthe way over to the right.\n\n51\n00:02:40.620 --> 00:02:44.690\nAnd in between we've got\ntwo smaller networks,\n\n52\n00:02:44.690 --> 00:02:47.850\nthe 192.168.1 and 192.168.2 networks.\n\n53\n00:02:47.850 --> 00:02:50.390\nThere's four networks.\n\n54\n00:02:50.390 --> 00:02:52.150\nNow when you turn a router on,\n\n55\n00:02:52.150 --> 00:02:55.380\nwhen you push that power button,\nthe router has interfaces.\n\n56\n00:02:55.380 --> 00:02:58.230\nAnd the interfaces get\nplug in the networks and\n\n57\n00:02:58.230 --> 00:03:01.300\nthose are called directly\nconnected interfaces.\n\n58\n00:03:01.300 --> 00:03:07.420\nIn other words router one is directly\nconnected to 192.168.0.0 and\n\n59\n00:03:07.420 --> 00:03:11.700\nrouter one is directly\nconnected to 192.168.1.0.\n\n60\n00:03:11.700 --> 00:03:15.828\nSo router one will know\nabout those two routes, and\n\n61\n00:03:15.828 --> 00:03:20.630\nif it gets traffic coming\nfrom 192.168.0.0 and\n\n62\n00:03:20.630 --> 00:03:26.693\nthe traffic is destined for\n192.168.1, it knows how to do that.\n\n63\n00:03:26.693 --> 00:03:29.450\nIt can say, hey I'm gonna steer\nthat traffic right over there.\n\n64\n00:03:29.450 --> 00:03:32.810\nI can do an ARP broadcast\nright out of this interface\n\n65\n00:03:32.810 --> 00:03:37.690\nto find the MAC address of your\ndestination, put that MAC address in\n\n66\n00:03:37.690 --> 00:03:42.310\nthe layer two header as the destination\nMAC address, and send it along, right.\n\n67\n00:03:42.310 --> 00:03:44.050\nIt can handle that entire communication.\n\n68\n00:03:44.050 --> 00:03:48.350\nA router taken right out of the box,\nonce you assign IPs to it,\n\n69\n00:03:48.350 --> 00:03:50.780\ncan then route between the networks\nthat it's plugged into.\n\n70\n00:03:50.780 --> 00:03:54.120\nVery simple, it knows how to do it.\n\n71\n00:03:54.120 --> 00:03:57.300\nWhere things get more challenging\nthough are the routes that aren't\n\n72\n00:03:57.300 --> 00:03:59.160\ndirectly connected, right.\n\n73\n00:03:59.160 --> 00:04:02.860\nSo router one has this cable that runs\nthrough router two, that's great.\n\n74\n00:04:02.860 --> 00:04:07.250\nBut router two is plugged\ninto the 192.168.2 network.\n\n75\n00:04:08.290 --> 00:04:10.624\nRouter one is not directly\nconnected to that.\n\n76\n00:04:10.624 --> 00:04:15.770\nSo how does router one know\nhow to get to 192.168.2.0?\n\n77\n00:04:15.770 --> 00:04:17.820\nIt doesn't.\n\n78\n00:04:17.820 --> 00:04:21.250\nWhen you first turn it on it\ndoesn't know about that network,\n\n79\n00:04:21.250 --> 00:04:23.910\nwe have to teach it about that network.\n\n80\n00:04:23.910 --> 00:04:25.330\nThe same thing goes for router two.\n\n81\n00:04:25.330 --> 00:04:29.005\nRouter two doesn't know about 192.168.0.\n\n82\n00:04:29.005 --> 00:04:30.700\nIt doesn't know that network is there.\n\n83\n00:04:30.700 --> 00:04:33.470\nSo as far as router two is concerned\nthat network doesn't exist and\n\n84\n00:04:33.470 --> 00:04:35.670\nit can't move traffic there.\n\n85\n00:04:35.670 --> 00:04:40.200\nSo when we go to configure a router,\nthis is a pretty important step.\n\n86\n00:04:40.200 --> 00:04:43.360\nWe start by letting it know about\nthe networks it's directly connected to,\n\n87\n00:04:43.360 --> 00:04:44.290\nthat's kind of step one.\n\n88\n00:04:44.290 --> 00:04:47.280\nAnd then step two we've gotta teach it\n\n89\n00:04:47.280 --> 00:04:50.460\nabout all the other routes\nthat are out there.\n\n90\n00:04:50.460 --> 00:04:53.620\nNow the trick about teaching a router\nis there's two ways to do it.\n\n91\n00:04:53.620 --> 00:04:56.370\nThere's a manual way and an automatic way.\n\n92\n00:04:56.370 --> 00:04:59.460\nThe manual way is where we as humans\nsit down right in front of it,\n\n93\n00:04:59.460 --> 00:05:03.310\nwe get into the console prompt,\nand we start typing in the routes.\n\n94\n00:05:03.310 --> 00:05:04.920\nHey, you wanna get to network A?\n\n95\n00:05:04.920 --> 00:05:07.340\nGo to this router, you wanna get to\nnetwork B, go to this other router,\n\n96\n00:05:07.340 --> 00:05:08.680\nnetwork C and so on.\n\n97\n00:05:08.680 --> 00:05:11.518\nSo for example on router two I might say,\n\n98\n00:05:11.518 --> 00:05:17.294\nhey if you wanna get to 192.168.0.0,\nthen the next hop is router one.\n\n99\n00:05:17.294 --> 00:05:23.220\nBut if you want to get to 172.16.0.0,\nthen the next hop is router 3.\n\n100\n00:05:23.220 --> 00:05:28.400\nI have to type that in on the router\nto teach it those routes.\n\n101\n00:05:28.400 --> 00:05:31.930\nAnd typing that in can take time,\nright, it's not really ideal.\n\n102\n00:05:31.930 --> 00:05:34.400\nYou can make mistakes, that happens a lot.\n\n103\n00:05:34.400 --> 00:05:35.690\nYou can leave routes out.\n\n104\n00:05:35.690 --> 00:05:37.620\nEvery time you add a new route\nyou've got to go and edit all\n\n105\n00:05:37.620 --> 00:05:41.010\nyour router configurations to add that\nin it's a lot of work to do it manually.\n\n106\n00:05:41.010 --> 00:05:44.480\nSo in an ideal world we go\nto the automatic route.\n\n107\n00:05:44.480 --> 00:05:46.660\nWe have what it called routing protocols.\n\n108\n00:05:46.660 --> 00:05:49.600\nAnd the routing protocols let\nthe routers talk to each other.\n\n109\n00:05:49.600 --> 00:05:54.991\nSo for example router one is\ndirectly connected to 192.168.0.\n\n110\n00:05:54.991 --> 00:05:59.030\nSo router one could talk to router two and\nsay, hey I know about this network,\n\n111\n00:05:59.030 --> 00:06:00.410\ndo you know about it?\n\n112\n00:06:00.410 --> 00:06:03.000\nAnd router two would say,\nno I don't know that one but\n\n113\n00:06:03.000 --> 00:06:06.560\nyou know what I'm going to add it to\nmy list so I know about it now, and\n\n114\n00:06:06.560 --> 00:06:08.750\nif I get any traffic from that network,\nI'll send it to you.\n\n115\n00:06:08.750 --> 00:06:10.650\nYou're the best way to get there, right.\n\n116\n00:06:10.650 --> 00:06:12.280\nThey talk to each other.\n\n117\n00:06:12.280 --> 00:06:15.020\nThe best part about that\nis if I add new routes, or\n\n118\n00:06:15.020 --> 00:06:17.330\nif the network changes,\nthe routers figure it out.\n\n119\n00:06:17.330 --> 00:06:20.100\nThey just figure it out on their own,\nand they build out that path and\n\n120\n00:06:20.100 --> 00:06:21.330\nthey get everything set up, and\n\n121\n00:06:21.330 --> 00:06:25.190\nthey run, hopefully, just great,right,\nthat's kind of the goal there.\n\n122\n00:06:25.190 --> 00:06:26.800\nBut it's gonna take some\nwork to get that set up so\n\n123\n00:06:26.800 --> 00:06:30.560\nthere's a few things we've gotta do to get\nthe routers up and doing that, all right.\n\n124\n00:06:30.560 --> 00:06:34.750\nNow when I talk about teaching the router,\nteaching the router about these routes,\n\n125\n00:06:34.750 --> 00:06:35.970\nhow to get there.\n\n126\n00:06:35.970 --> 00:06:39.400\nWhat your router does is your\nrouter maintains a little database,\n\n127\n00:06:39.400 --> 00:06:42.200\na little database of the routes and\nhow to get there, and\n\n128\n00:06:42.200 --> 00:06:44.270\nthat database is called a routing table.\n\n129\n00:06:44.270 --> 00:06:46.940\nEvery router has a routing table.\n\n130\n00:06:46.940 --> 00:06:52.640\nAnd so when you look at the routing table\nit's basically a list of what's a network,\n\n131\n00:06:52.640 --> 00:06:55.730\nhow do I get there, and\nwhat's the metric for it, all right.\n\n132\n00:06:55.730 --> 00:06:57.940\nSo for example router one.\n\n133\n00:06:57.940 --> 00:07:01.780\nRouter one is directly\nconnected to 192.168.0.0, so\n\n134\n00:07:01.780 --> 00:07:04.389\nit's gonna add that to its list.\n\n135\n00:07:05.530 --> 00:07:08.630\nAnd it's gonna say,\nall right 192.168.0.0/24.\n\n136\n00:07:08.630 --> 00:07:12.960\nAnd if I wanna get to that,\nthe destination for\n\n137\n00:07:12.960 --> 00:07:15.610\nit is, usually it's an interface, right.\n\n138\n00:07:15.610 --> 00:07:20.260\nSo maybe like GI0/0, that's all I\ncan get to it via this interface.\n\n139\n00:07:20.260 --> 00:07:21.560\nAnd the metric?\n\n140\n00:07:21.560 --> 00:07:27.090\nWell the metric is a measurement of\nhow good or bad the route is, right.\n\n141\n00:07:27.090 --> 00:07:31.260\nA good route will have a good really\nmetric, a bad route will have a bad one.\n\n142\n00:07:31.260 --> 00:07:36.200\nThe way the metric works is just kind of,\nit's hard to explain without\n\n143\n00:07:36.200 --> 00:07:40.495\ngetting into solid terms because there so\nmany different types of metrics, right.\n\n144\n00:07:40.495 --> 00:07:41.785\nThink about restaurants.\n\n145\n00:07:41.785 --> 00:07:43.765\nWhen you go to a restaurant\nhow do they rank restaurants?\n\n146\n00:07:43.765 --> 00:07:45.215\nWell there's normally the star waiting,\n\n147\n00:07:45.215 --> 00:07:47.950\nhey this is a three star restaurant,\nthis is a one star restaurant.\n\n148\n00:07:47.950 --> 00:07:50.765\nWell a three star restaurant\nis better than a one star, so\n\n149\n00:07:50.765 --> 00:07:52.585\nthat's the one you wanna go to, right.\n\n150\n00:07:52.585 --> 00:07:53.675\nWell that's how the routes are.\n\n151\n00:07:53.675 --> 00:07:56.005\nThe routes get a grade,\nthey get rank, right.\n\n152\n00:07:56.005 --> 00:07:58.795\nYou know this is a tree star route,\nthis is a one star route.\n\n153\n00:07:58.795 --> 00:08:00.349\nAnd then we have to pick the best ones.\n\n154\n00:08:00.349 --> 00:08:05.620\nWell a directly connected route\nlike this is the best it can get.\n\n155\n00:08:05.620 --> 00:08:10.583\nNobody can teach us a better route than\nsomething that's directly connected.\n\n156\n00:08:10.583 --> 00:08:12.439\nAnd so that's going to be the best metric.\n\n157\n00:08:12.439 --> 00:08:17.940\nAnd when it come to metrics, lower\nnumbers are better than higher numbers.\n\n158\n00:08:17.940 --> 00:08:21.612\nSo the metric for\ndirectly connected router is gonna be 0.\n\n159\n00:08:21.612 --> 00:08:24.082\nThis is the best route I can have,\nit's a 0.\n\n160\n00:08:24.082 --> 00:08:26.344\nNobody can do better 0, that's it.\n\n161\n00:08:26.344 --> 00:08:30.016\nSo that's the route, if somebody\nhas another route that's higher,\n\n162\n00:08:30.016 --> 00:08:30.897\nfine whatever.\n\n163\n00:08:30.897 --> 00:08:33.570\nI'll use it as backup, but\nit's not gonna be the main one that I use.\n\n164\n00:08:34.860 --> 00:08:37.870\nAnd so your router, when you flip that\npower switch, this is what it's doing,\n\n165\n00:08:37.870 --> 00:08:41.980\nit's going through and it's taking\nits directly connected networks and\n\n166\n00:08:41.980 --> 00:08:44.040\nit's adding them to the routing table.\n\n167\n00:08:45.050 --> 00:08:50.830\nAnd so it's gonna punch those in so that\nit knows how to get to those networks.\n\n168\n00:08:50.830 --> 00:08:54.562\nAs long as it's got a link light, it will\nknow it, it's now in the routing table.\n\n169\n00:08:54.562 --> 00:08:59.446\nAnd any time it receives traffic, it does\na look up against the routing table.\n\n170\n00:08:59.446 --> 00:09:04.805\nSo if there is a computer on\nthe 192.168.0.0 netowrk and\n\n171\n00:09:04.805 --> 00:09:09.419\nit's sending traffic to 192.168.1.200.\n\n172\n00:09:09.419 --> 00:09:15.920\nThat's gonna come to router 1, and router\n1 is gonna run down the routing table.\n\n173\n00:09:15.920 --> 00:09:18.230\nIt search to the top and\nit works it way down.\n\n174\n00:09:18.230 --> 00:09:22.196\nIt's sorts the network in order\nbased by what called their prefix.\n\n175\n00:09:22.196 --> 00:09:25.830\nThe prefix is the network\nID of the address.\n\n176\n00:09:25.830 --> 00:09:27.630\nRouter doesn't care about host IDs.\n\n177\n00:09:27.630 --> 00:09:29.610\nHost ids aren't gonna\ninfluence your route.\n\n178\n00:09:29.610 --> 00:09:33.957\nI'm not gonna send traffic one way for\none host and one way for different host.\n\n179\n00:09:33.957 --> 00:09:36.855\nIn the CCNP training, I'll teach you how\nto do that if you really want to, but\n\n180\n00:09:36.855 --> 00:09:38.800\nthere's not normally a need to do it.\n\n181\n00:09:38.800 --> 00:09:42.200\nSo it's normally basing it on\nthe network or the prefix.\n\n182\n00:09:42.200 --> 00:09:47.640\nSo in a /24, that means the first 24\nbits are the prefix, the network ID.\n\n183\n00:09:47.640 --> 00:09:53.548\nSo if I get traffic going to 192.168.1,\nwell that's on my Gi1/0 interface.\n\n184\n00:09:53.548 --> 00:09:58.520\nSo we can throw it right at that\ninterface and we can get to that host.\n\n185\n00:09:58.520 --> 00:10:02.770\nBut if receive traffic from this network\nand it's destined for 192.168.2,\n\n186\n00:10:02.770 --> 00:10:05.635\nrouter 1 looks at the routing table and\nwhat does it find?\n\n187\n00:10:05.635 --> 00:10:09.320\n>> Nothing.\n>> Nothing, yeah, it has no entry.\n\n188\n00:10:09.320 --> 00:10:14.449\nAnd so it reaches back to me,\nit says hey, destination unreachable.\n\n189\n00:10:14.449 --> 00:10:16.684\nThat's the warning,\nif you're doing pings, you'll see it.\n\n190\n00:10:16.684 --> 00:10:17.556\nDestination unreachable.\n\n191\n00:10:17.556 --> 00:10:19.820\nWe can't get to that network, I'm sorry.\n\n192\n00:10:19.820 --> 00:10:20.750\nI don't have a route for it.\n\n193\n00:10:20.750 --> 00:10:22.700\nI don't know how to get there.\n\n194\n00:10:22.700 --> 00:10:26.580\nSo this routing table is very,\nvery important, and\n\n195\n00:10:26.580 --> 00:10:30.060\nthe routing table can be very small like\nthis when you first power on a router.\n\n196\n00:10:30.060 --> 00:10:35.960\nBut the bigger that routing table gets,\nwell it becomes very complex to set up,\n\n197\n00:10:35.960 --> 00:10:38.340\nand the metrics become\neven harder to track.\n\n198\n00:10:38.340 --> 00:10:39.775\nLet's talk a little bit\nmore about that metric.\n\n199\n00:10:39.775 --> 00:10:46.070\nWhen we deal with a metric, the metric\ncan be a number of different things.\n\n200\n00:10:46.070 --> 00:10:48.863\nThe most simple metric that you're\ngonna see is what's called hop count.\n\n201\n00:10:48.863 --> 00:10:53.600\nA hop count is how many routers do I\nhave to go through to get to a network?\n\n202\n00:10:53.600 --> 00:10:56.117\nSo for example, here's 172.16.0.0.\n\n203\n00:10:56.117 --> 00:11:01.380\nRouter 3 is directly\nplugged into that network.\n\n204\n00:11:02.580 --> 00:11:07.118\nSo for router 3 the destination for\nthat is a directly connected interface.\n\n205\n00:11:07.118 --> 00:11:08.783\nSo it's gonna have a metric of 0.\n\n206\n00:11:08.783 --> 00:11:11.210\nI don't have to go to any\nrouters to get there.\n\n207\n00:11:11.210 --> 00:11:15.740\nRouter 3 can go directly to\nthat network and there it is.\n\n208\n00:11:15.740 --> 00:11:17.848\nNow router 2 on the other hand,\n\n209\n00:11:17.848 --> 00:11:22.935\nit wants to be able to get to 172.16.0\nalso, but it can't go direct.\n\n210\n00:11:22.935 --> 00:11:25.798\nIt's not directly plugged in,\nit's on these other two networks.\n\n211\n00:11:25.798 --> 00:11:28.940\nSo if it wants to get there,\nit has to go through router 3.\n\n212\n00:11:28.940 --> 00:11:33.063\nAnd so for its destination, it's gonna\nsay the destination is router 3.\n\n213\n00:11:33.063 --> 00:11:35.543\nAnd it will normally be the IP address for\nrouter three, so\n\n214\n00:11:35.543 --> 00:11:37.729\nwhatever IP address router\n3 has on this network.\n\n215\n00:11:37.729 --> 00:11:39.760\nWe'll see that more later on.\n\n216\n00:11:39.760 --> 00:11:43.206\nSo the destination is gonna be router\n3 and its metric is gonna be 1.\n\n217\n00:11:43.206 --> 00:11:45.680\nI have to go through one\nrouter to get there.\n\n218\n00:11:45.680 --> 00:11:48.170\nI'm one hop away from that network.\n\n219\n00:11:48.170 --> 00:11:52.376\nI can jump from router 2 to router 3, and\nthen router 3 is directly on it, one hop.\n\n220\n00:11:52.376 --> 00:11:56.230\nWell router 2 then jumps over to router 1.\n\n221\n00:11:56.230 --> 00:12:01.340\nRouter 1 wants to be able to get to\n172.16.00, but it can't go direct.\n\n222\n00:12:01.340 --> 00:12:06.173\nIn fact, it can't go directly to router 3\neither, it's gotta go through router 2.\n\n223\n00:12:06.173 --> 00:12:10.701\nSo router 1's destination is\nactually gonna be router 2,\n\n224\n00:12:10.701 --> 00:12:13.110\nand its metric is going to be 2.\n\n225\n00:12:13.110 --> 00:12:19.200\nIt has to go through two routers or two\nhops before it gets to that destination.\n\n226\n00:12:19.200 --> 00:12:24.300\nAnd so that metric is tracking how\nfar away am I from that network.\n\n227\n00:12:25.380 --> 00:12:30.352\nIf another network were to come online or\nanother link, so\n\n228\n00:12:30.352 --> 00:12:33.809\nmaybe let's create another link here.\n\n229\n00:12:33.809 --> 00:12:38.075\nSo if another link comes up on\nthe network, maybe I get bored one day.\n\n230\n00:12:38.075 --> 00:12:40.192\nAnd so I run a backup like this,\n\n231\n00:12:40.192 --> 00:12:44.980\nnow router 1 has a direct connection\nover to that other network.\n\n232\n00:12:44.980 --> 00:12:48.700\nThat would be one hop away,\nversus going through router 2,\n\n233\n00:12:48.700 --> 00:12:50.640\nwhich would be two hops away.\n\n234\n00:12:50.640 --> 00:12:54.630\nOne hop is shorter than two hops,\nI'm gonna prefer one hop.\n\n235\n00:12:54.630 --> 00:12:58.440\nSo the router can use the metric\nto decide what is the best\n\n236\n00:12:58.440 --> 00:13:02.270\nroute to get to a destination and\nchoose the optimal path,\n\n237\n00:13:02.270 --> 00:13:04.220\nthat's what routing\nprotocols are all about.\n\n238\n00:13:04.220 --> 00:13:07.360\nAnd hopefully,\nthis is happening automatically.\n\n239\n00:13:07.360 --> 00:13:09.573\nIf we're manually putting the routes in,\n\n240\n00:13:09.573 --> 00:13:13.137\nthen any time we introduce a new path\nlike this, we would have to go and\n\n241\n00:13:13.137 --> 00:13:17.267\nmanually tell the router I need you to\nprefer this way versus the other way.\n\n242\n00:13:17.267 --> 00:13:18.938\nWe've got to teach it how to do that.\n\n243\n00:13:18.938 --> 00:13:22.640\nSo routing table maintenance,\nthat's an important thing.\n\n244\n00:13:22.640 --> 00:13:26.580\nYour routers are constantly building their\ntable and updating it and refreshing it.\n\n245\n00:13:26.580 --> 00:13:29.390\nAnd as they populate more and\nmore information,\n\n246\n00:13:29.390 --> 00:13:34.500\nit's all gonna get laid out in here\nto identify what is the best router,\n\n247\n00:13:34.500 --> 00:13:37.619\nworst router or so on,\nall as part of that process.\n\n248\n00:13:39.370 --> 00:13:41.520\nLet's look a little more\nat the routing table here.\n\n249\n00:13:41.520 --> 00:13:45.228\nI've got router 1's routing table kind\nof fully fleshed out on this one.\n\n250\n00:13:45.228 --> 00:13:50.239\nIf it wants to get to 172.16 or\nif it wants to get to 192.168.2\n\n251\n00:13:50.239 --> 00:13:54.645\nit cannot directly plug in and so\nit's got to go through router 2.\n\n252\n00:13:54.645 --> 00:13:58.810\nAnd so it puts those entries in there and\nit tracks their metric.\n\n253\n00:13:58.810 --> 00:14:01.330\nThe directly connected networks though,\nthey're plugged right in.\n\n254\n00:14:01.330 --> 00:14:04.360\nSo we can get right to them,\nwe don't have to go through any other\n\n255\n00:14:04.360 --> 00:14:07.630\nrouters to get there, and\nthe other routers are building it.\n\n256\n00:14:07.630 --> 00:14:10.924\nNow when they build the routing table,\nnotice how I've got this organized.\n\n257\n00:14:10.924 --> 00:14:14.780\nThey're from lowest to highest.\n\n258\n00:14:14.780 --> 00:14:16.697\nYour routing table is put\nin a particular order.\n\n259\n00:14:16.697 --> 00:14:18.440\nSee this is all catched into RAM.\n\n260\n00:14:18.440 --> 00:14:19.737\nIt's running in the RAM on the router.\n\n261\n00:14:19.737 --> 00:14:22.340\nSo that it can make decisions very fast.\n\n262\n00:14:22.340 --> 00:14:25.530\nThe longer the router spends\nlooking up against this table,\n\n263\n00:14:25.530 --> 00:14:29.102\nthe longer it's holding a packet and\nnot forwarding it.\n\n264\n00:14:29.102 --> 00:14:32.247\nWe wanna move packets through\nthe router as fast as possible.\n\n265\n00:14:32.247 --> 00:14:35.180\nSo it will built this\nrouting table in RAM,\n\n266\n00:14:35.180 --> 00:14:38.693\nin what's called the control\nplane of the router.\n\n267\n00:14:38.693 --> 00:14:42.088\nAnd then it's gonna take that table,\ncompile it and\n\n268\n00:14:42.088 --> 00:14:46.650\nstick it into hardware on the router\nin what's called the data plane.\n\n269\n00:14:46.650 --> 00:14:49.817\nThe data plane is what connects\nthe different interfaces of the router\n\n270\n00:14:49.817 --> 00:14:50.620\ntogether.\n\n271\n00:14:50.620 --> 00:14:52.476\nSo if I have five interfaces on my router,\n\n272\n00:14:52.476 --> 00:14:54.499\nit's kind of like the back\nplane on a switch.\n\n273\n00:14:54.499 --> 00:14:59.080\nThere's a data plane which lets them\nmove packets from one port to another.\n\n274\n00:14:59.080 --> 00:15:01.800\nBut a router can't just move\na packet from one port to another,\n\n275\n00:15:01.800 --> 00:15:04.950\nit's gotta re-write the layer two header,\nthat's just part of what it does.\n\n276\n00:15:04.950 --> 00:15:08.781\nThe frame rewrite, and so it's gonna have\nto do that and it's gonna do it in RAM.\n\n277\n00:15:08.781 --> 00:15:11.414\nSo it can do it very quickly and\nthen thow it on the other interface.\n\n278\n00:15:11.414 --> 00:15:17.286\nSo to speed up look ups against the table,\nit sorts them in order.\n\n279\n00:15:17.286 --> 00:15:22.170\nFrom the smallest prefix,\ntechnically that's not the smallest.\n\n280\n00:15:22.170 --> 00:15:25.168\nThe largest prefix down to the smallest.\n\n281\n00:15:25.168 --> 00:15:28.039\nA /16 network is much,\nmuch larger than a /24.\n\n282\n00:15:28.039 --> 00:15:31.283\nSo I say,\nsmallest cuz it's a smaller number.\n\n283\n00:15:31.283 --> 00:15:34.556\n16 is less than 24, but\nwhen we talk about prefixes,\n\n284\n00:15:34.556 --> 00:15:37.850\nthe smaller that number is,\nthe bigger the network is.\n\n285\n00:15:37.850 --> 00:15:43.172\nA class A that has 16.7 million IPs,\nis only a /8.\n\n286\n00:15:43.172 --> 00:15:49.103\nAnd a class C,\nthat only has 255 IPs, is a /24.\n\n287\n00:15:49.103 --> 00:15:52.580\nSo the bigger the prefix number,\nthe smaller the network.\n\n288\n00:15:52.580 --> 00:15:58.222\nBut it puts it in order like this, so that\nif it gets a packet that's destined for\n\n289\n00:15:58.222 --> 00:16:04.811\n192.168.2 it can skip right down\nthe list until it hits the 192.168.2s.\n\n290\n00:16:04.811 --> 00:16:09.581\nAnd if there’s ever overlap\nbetween two different networks,\n\n291\n00:16:09.581 --> 00:16:13.900\nit can jump in and\ntake the one is the most specific.\n\n292\n00:16:13.900 --> 00:16:19.257\nSo, for\nexample I might have an entry in here for,\n\n293\n00:16:19.257 --> 00:16:23.094\n192.168.0.0/16.\n\n294\n00:16:23.094 --> 00:16:28.480\nAnd I've got an entry for 192.168.2.0/24.\n\n295\n00:16:28.480 --> 00:16:32.922\nIf I have traffic that's\ngoing to 192.168.2.1 and\n\n296\n00:16:32.922 --> 00:16:37.207\nit starts going down the line,\nthis matches, doesn't it?\n\n297\n00:16:37.207 --> 00:16:45.060\n192.168.2.1 is in\nthe 192.168.0.0/16 network, right.\n\n298\n00:16:45.060 --> 00:16:50.474\nBut it is also in the 192.168.2.0/24\nit's in both networks.\n\n299\n00:16:50.474 --> 00:16:53.380\nSo, which one is the router prefer?\n\n300\n00:16:53.380 --> 00:16:57.030\nThe router will always prefer\nthe most specific route.\n\n301\n00:16:57.030 --> 00:17:00.440\nThe more specific the route,\nthe more detailed that information,\n\n302\n00:17:00.440 --> 00:17:02.730\nit's the more likely\nthe information is accurate.\n\n303\n00:17:02.730 --> 00:17:06.480\nThe bigger the route, the bigger the\nnetwork, the more likely it is that it's\n\n304\n00:17:06.480 --> 00:17:11.000\na general route that isn't as specific,\nthat doesn't have as good information.\n\n305\n00:17:11.000 --> 00:17:12.710\nSo it's going to go for\nthe one that's most specific,\n\n306\n00:17:12.710 --> 00:17:16.670\nthe one with the largest subnet mask,\nright.\n\n307\n00:17:16.670 --> 00:17:18.180\nSo this one has a /24.\n\n308\n00:17:18.180 --> 00:17:21.640\nThat's bigger than the /16, so\nthe network ID is more specific.\n\n309\n00:17:21.640 --> 00:17:23.000\nThat's the one it will prefer.\n\n310\n00:17:23.000 --> 00:17:25.510\nAnd then we'll send this over to router 2,\nright?\n\n311\n00:17:25.510 --> 00:17:28.590\nSo, that's the way\nthe routing table works.\n\n312\n00:17:28.590 --> 00:17:31.710\nIt's basically learning all this\ninformation, getting it put in place and\n\n313\n00:17:31.710 --> 00:17:33.170\ndefining a destination.\n\n314\n00:17:33.170 --> 00:17:35.700\nAnd the destination,\nit's usually gonna be one of three things.\n\n315\n00:17:35.700 --> 00:17:37.360\nIt's either gonna be an interface.\n\n316\n00:17:37.360 --> 00:17:42.621\nSo, you'll see an entry in here, little\nsay like Gi0/0 or it'll be an IP address,\n\n317\n00:17:42.621 --> 00:17:47.753\nso I might see 192.168.0.2, or\nwhatever IP address it happens to have.\n\n318\n00:17:47.753 --> 00:17:48.850\nI'm kinda running out of room there.\n\n319\n00:17:49.880 --> 00:17:51.600\nSo it may be something like that.\n\n320\n00:17:51.600 --> 00:17:54.850\nOr there is one other entry\nthat we're not gonna get into\n\n321\n00:17:54.850 --> 00:17:57.260\nin this series where it's null, all right?\n\n322\n00:17:57.260 --> 00:17:59.110\nNull is where I throw the traffic away.\n\n323\n00:17:59.110 --> 00:18:01.030\nHey, if I get traffic on this network,\nthrow it away.\n\n324\n00:18:01.030 --> 00:18:05.940\nRight, and usually that's done to suppress\nroutes and if you go on to do CCNP routing\n\n325\n00:18:05.940 --> 00:18:09.570\nand switching, I'll show how that gets\nused, route summaries will use it too.\n\n326\n00:18:09.570 --> 00:18:11.600\nThere's a few scenarios\nwhere that gets used.\n\n327\n00:18:11.600 --> 00:18:14.600\nBut typically you're gonna have one\nof those three things as far as\n\n328\n00:18:14.600 --> 00:18:16.170\nwhere your destination happens to be.\n\n329\n00:18:16.170 --> 00:18:22.260\nAll right, let's talk a little\nbit about metrics, right.\n\n330\n00:18:22.260 --> 00:18:25.890\nSo on the metrics side I gave\nan example here of hop count.\n\n331\n00:18:25.890 --> 00:18:28.460\nHop count is a very, very common metric.\n\n332\n00:18:28.460 --> 00:18:33.250\nIt's one that is used by what\nare called distance vector protocols.\n\n333\n00:18:33.250 --> 00:18:35.300\nI guess, let's start there.\n\n334\n00:18:35.300 --> 00:18:39.030\nThere's two schools of thought\non how to do routing protocols.\n\n335\n00:18:39.030 --> 00:18:44.080\nThere's distance vector protocols and\nthere's link state protocols, all right.\n\n336\n00:18:44.080 --> 00:18:45.230\nThose are our two categories.\n\n337\n00:18:45.230 --> 00:18:46.700\nThere's a few other categories, but for\n\n338\n00:18:46.700 --> 00:18:49.640\nthis show those are the only two\nwe need to concern ourselves with.\n\n339\n00:18:49.640 --> 00:18:53.700\nA distance vector protocol like its\nname implies, focuses on distance.\n\n340\n00:18:53.700 --> 00:18:55.540\nIt thinks about hop count.\n\n341\n00:18:55.540 --> 00:18:58.700\nIf I'm on my laptop over on\nthe 192.168.0 network, and\n\n342\n00:18:58.700 --> 00:19:03.360\nI wanna get to somebody way\nover here on the 192.168.1\n\n343\n00:19:03.360 --> 00:19:07.950\nnetwork I've got a few different\nways that I can go, right?\n\n344\n00:19:07.950 --> 00:19:12.811\nIf I were to jump in and go,\nlet me just draw a line here.\n\n345\n00:19:12.811 --> 00:19:15.890\nLet's see how good of\na line I can draw today.\n\n346\n00:19:15.890 --> 00:19:17.300\nUsually they're pretty bad.\n\n347\n00:19:18.870 --> 00:19:20.860\nAll right, I have not disappointed.\n\n348\n00:19:20.860 --> 00:19:21.480\nOkay.\n\n349\n00:19:21.480 --> 00:19:26.580\nSo, if I'm crossing like this, right,\nif I'm doing a distance factor protocol,\n\n350\n00:19:26.580 --> 00:19:27.740\nit's gonna look at this path.\n\n351\n00:19:27.740 --> 00:19:31.988\nAs I hit my first router, first router\ndoesn't really count and then I go, one,\n\n352\n00:19:31.988 --> 00:19:36.470\ntwo, three routers to my destination,\nright?\n\n353\n00:19:36.470 --> 00:19:38.650\nSo I've got a three hop path.\n\n354\n00:19:38.650 --> 00:19:41.480\nI've got to go through three\nrouters to get to that destination.\n\n355\n00:19:43.100 --> 00:19:46.966\nOn the other hand if I go\nthe bottom route, right.\n\n356\n00:19:46.966 --> 00:19:51.571\nIf I go the bottom route I'm gonna pass\nthrough router A down to router D up to\n\n357\n00:19:51.571 --> 00:19:54.160\nrouter E and over to my destination.\n\n358\n00:19:54.160 --> 00:19:58.260\nI'm gonna hit that first router,\nthen I'm gonna go one, two, and I'm over.\n\n359\n00:19:58.260 --> 00:20:01.220\nSo, going across the top,\nI've got three hops.\n\n360\n00:20:01.220 --> 00:20:03.300\nGoing across the bottom,\nI've only got two hops.\n\n361\n00:20:03.300 --> 00:20:04.016\nWhich one's shorter?\n\n362\n00:20:04.016 --> 00:20:06.860\nThe two-hop path, right?\n\n363\n00:20:06.860 --> 00:20:09.240\nThis is a hop count, right?\n\n364\n00:20:09.240 --> 00:20:12.400\nAnd for a distance vector protocol,\nthat's what it relies on.\n\n365\n00:20:12.400 --> 00:20:15.080\nThat's what it uses, and\nthat's how it makes its decision.\n\n366\n00:20:15.080 --> 00:20:18.230\nIf this bottom route were to fail,\nthe top route is still there,\n\n367\n00:20:18.230 --> 00:20:19.160\nwe'll start to use it.\n\n368\n00:20:19.160 --> 00:20:22.154\nHey, it's now the best route\nbecause the shorter one's gone.\n\n369\n00:20:22.154 --> 00:20:26.560\nBut when the shorter route comes back,\nwe'll flip back over to it again, right.\n\n370\n00:20:26.560 --> 00:20:29.220\nDistance vector protocols\nprefer the shortest path.\n\n371\n00:20:30.750 --> 00:20:33.960\nThe alternative is a link state protocol.\n\n372\n00:20:33.960 --> 00:20:37.995\nAnd a link state protocol looks\nat a lot of other stuff, right.\n\n373\n00:20:37.995 --> 00:20:43.820\nThere's a problem with hop count, and\nthe problem comes in with bandwidth.\n\n374\n00:20:43.820 --> 00:20:48.060\nHere's that same exact typology, but\nI've written bandwidth on it, okay.\n\n375\n00:20:48.060 --> 00:20:53.290\nSo if we look across the top here, let me\njust adjust this a little bit, all right.\n\n376\n00:20:53.290 --> 00:20:58.120\nIf we look at the top path,\nI've got one gig, one gig, one gig.\n\n377\n00:20:58.120 --> 00:21:01.710\nThat's a gigabit network\nall the way across.\n\n378\n00:21:01.710 --> 00:21:05.630\nIf I look at the bottom,\nI've got 1.544 megabit, and 768 K.\n\n379\n00:21:05.630 --> 00:21:08.990\nThese are T1s or fractional T1s, right?\n\n380\n00:21:08.990 --> 00:21:10.990\nA much lower bandwidth.\n\n381\n00:21:10.990 --> 00:21:14.910\nWell, the top path is a three hop path.\n\n382\n00:21:14.910 --> 00:21:17.120\nThe bottom path is only two hops.\n\n383\n00:21:17.120 --> 00:21:19.140\nWhich one is the distance\nvector gonna choose?\n\n384\n00:21:19.140 --> 00:21:19.980\n>> Two hop.\n\n385\n00:21:19.980 --> 00:21:21.000\n>> It's gonna choose the two hop.\n\n386\n00:21:21.000 --> 00:21:22.000\nIt cares about distance.\n\n387\n00:21:22.000 --> 00:21:23.140\nThat's all that it cares about.\n\n388\n00:21:23.140 --> 00:21:26.470\nAnd in this case it's gonna choose\na suboptimal route, isn't it?\n\n389\n00:21:26.470 --> 00:21:28.910\nIt could've had a gigabit of bandwidth.\n\n390\n00:21:28.910 --> 00:21:30.530\nBut instead it gets 1.5 megabit.\n\n391\n00:21:30.530 --> 00:21:33.196\nIt doesn't even get that really get 768k,\nright?\n\n392\n00:21:33.196 --> 00:21:37.850\nBecause you're limited to the lowest\nbandwidth of the whole link, right?\n\n393\n00:21:37.850 --> 00:21:42.360\nI can't send 1.5 megabits of traffic as\nwhats gonna happen when it hits this link?\n\n394\n00:21:42.360 --> 00:21:44.700\nIt's gonna get queued and\nthrottled and eventually policed.\n\n395\n00:21:44.700 --> 00:21:47.090\nAnd so it's gonna drop that traffic and\nits not gonna make it through.\n\n396\n00:21:47.090 --> 00:21:50.430\nSo, this is not gonna be\na great connection for me.\n\n397\n00:21:50.430 --> 00:21:52.760\nIt works, I'll get to where I'm going.\n\n398\n00:21:52.760 --> 00:21:55.000\nIt's just I'll get there slow.\n\n399\n00:21:55.000 --> 00:21:57.770\nI could have taken the better\nroute up here, right?\n\n400\n00:21:57.770 --> 00:22:00.250\nA distance vector protocol\ndoesn't take that into account.\n\n401\n00:22:00.250 --> 00:22:03.270\nRight, they just look at hop count,\nthat's their metric.\n\n402\n00:22:03.270 --> 00:22:05.600\nA link state protocol on the other hand.\n\n403\n00:22:05.600 --> 00:22:07.630\nLink state protocols can\nbe a little more advanced.\n\n404\n00:22:07.630 --> 00:22:09.692\nThey look at bandwidth.\n\n405\n00:22:09.692 --> 00:22:12.480\nAll right, now when they look at\nbandwidth we have one gigabit here,\n\n406\n00:22:12.480 --> 00:22:16.400\none gigabit here, one gigabit here\nversus down here 1.5 megabits,\n\n407\n00:22:16.400 --> 00:22:20.550\n768K it's gonna look at those and\nsay a gigabit, that's better.\n\n408\n00:22:20.550 --> 00:22:22.770\nWe're gonna look at that and\nwe're gonna use it, okay.\n\n409\n00:22:22.770 --> 00:22:26.740\nSo, it's using bandwidth to make it's\ndecision to figure out the path across.\n\n410\n00:22:26.740 --> 00:22:30.988\nNow, the most common links state\nprotocol is a protocol called OSPF,\n\n411\n00:22:30.988 --> 00:22:34.690\nthat you'll learn about\nin the CCNA set show.\n\n412\n00:22:34.690 --> 00:22:37.270\nWith OSPF they don't call it bandwidth,\nthey call it cost.\n\n413\n00:22:37.270 --> 00:22:40.210\nRight, they went through a very simple\nformula that converts the numbers and\n\n414\n00:22:40.210 --> 00:22:41.450\nit's called costs.\n\n415\n00:22:41.450 --> 00:22:44.600\nSo, you might hear bandwidth referred\nto as cost in terms of OSPF,\n\n416\n00:22:44.600 --> 00:22:47.463\nin terms of other protocols it may\nactually be called bandwidth, but\n\n417\n00:22:47.463 --> 00:22:50.952\nwith link state protocol they look at that\nand that influences their decision and\n\n418\n00:22:50.952 --> 00:22:53.460\nas a result,\nthey're gonna make a better decision.\n\n419\n00:22:53.460 --> 00:22:55.990\nA better decision based on\nthe information they had.\n\n420\n00:22:55.990 --> 00:22:58.300\nSo, Link-State's a little more advanced.\n\n421\n00:22:58.300 --> 00:23:02.684\nNow, it wouldn't be a Cisco show, if I\ndidn't mention Cisco's on take on this.\n\n422\n00:23:02.684 --> 00:23:05.701\nCisco didn't like Link-State protocols.\n\n423\n00:23:05.701 --> 00:23:06.651\n>> [LAUGH]\n>> And\n\n424\n00:23:06.651 --> 00:23:08.800\nthey didn't like Disk Inspector either.\n\n425\n00:23:08.800 --> 00:23:10.562\nAnd so they said, we just can do better.\n\n426\n00:23:10.562 --> 00:23:15.660\n[LAUGH] And so they came up with\na hybrid that combines the two,\n\n427\n00:23:15.660 --> 00:23:19.850\nthat combines the easy configuration\nof a distance vector protocol,\n\n428\n00:23:19.850 --> 00:23:22.510\nwith the advanced logic\nof a link state protocol.\n\n429\n00:23:22.510 --> 00:23:25.290\nAnd their hybrid protocol they created,\n\n430\n00:23:25.290 --> 00:23:29.170\nit's technically called an advanced\ndistance vector protocol.\n\n431\n00:23:29.170 --> 00:23:32.660\nIt functions just like distance vector\nlike we saw back here, all right.\n\n432\n00:23:32.660 --> 00:23:37.890\nBut the big difference is that\nit pays attention to bandwidth.\n\n433\n00:23:37.890 --> 00:23:39.970\nIt actually pays attention\nto several things.\n\n434\n00:23:39.970 --> 00:23:45.780\nSo for an advanced hybrid\ndistance vector protocol,\n\n435\n00:23:45.780 --> 00:23:48.850\nit looks at bandwidth, delay, right?\n\n436\n00:23:48.850 --> 00:23:51.470\nHow long does it take to send traffic\nover the line and get a response back?\n\n437\n00:23:51.470 --> 00:23:52.550\nWhat's the delay.\n\n438\n00:23:52.550 --> 00:23:57.148\nIt takes a look at the reliability,\nhow long has the line been up for?\n\n439\n00:23:57.148 --> 00:23:58.880\nIs the line unstable?\n\n440\n00:23:58.880 --> 00:24:00.892\nI don't wanna send\ntraffic if it's unstable.\n\n441\n00:24:00.892 --> 00:24:03.874\nIt looks at the load,\nhow busy is the line?\n\n442\n00:24:03.874 --> 00:24:08.110\nSure it's nice that this is a gigabit\nup here but if it's at 99% utilization,\n\n443\n00:24:08.110 --> 00:24:12.370\nI'd rather go down here because I'll have\navailability if the load is too high.\n\n444\n00:24:12.370 --> 00:24:14.880\nSo, I did bandwidth,\n\n445\n00:24:14.880 --> 00:24:18.820\ndelay, load, reliability MTU-\n>> MTU.\n\n446\n00:24:18.820 --> 00:24:20.530\nMTU is Maximum Transmission Unit,\n\n447\n00:24:20.530 --> 00:24:25.660\nhow many bytes of data can I send in\none frame across that line, right.\n\n448\n00:24:25.660 --> 00:24:27.260\nAnd routers think in terms of packets, but\n\n449\n00:24:27.260 --> 00:24:28.670\nthey build a frame\nbefore sending it along.\n\n450\n00:24:28.670 --> 00:24:30.460\nSo what's the maximum transmission unit?\n\n451\n00:24:30.460 --> 00:24:32.469\nAnd we'll see that nobody\nactually uses that but\n\n452\n00:24:32.469 --> 00:24:34.345\nthat is a metric that's available.\n\n453\n00:24:34.345 --> 00:24:39.250\nSo this are all different metrics that\nrouters can use and they make decisions.\n\n454\n00:24:39.250 --> 00:24:44.295\nSo we saw hop count, we saw bandwidth,\n\n455\n00:24:44.295 --> 00:24:49.655\nwhich can also be called cost,\nwe saw delay, load, reliability, and MTU.\n\n456\n00:24:49.655 --> 00:24:52.740\nA lot of different metrics that\nare out there that we can use.\n\n457\n00:24:52.740 --> 00:24:56.230\nIf you run a routing protocol,\none of the automatic methods,\n\n458\n00:24:56.230 --> 00:24:57.780\nthen it'll pick for you.\n\n459\n00:24:57.780 --> 00:25:01.680\nBut if you are manually entering in the\nroutes on these routers and telling them\n\n460\n00:25:01.680 --> 00:25:05.690\nhow to get from point A to point B, then\nit's up to you to figure out which metric\n\n461\n00:25:05.690 --> 00:25:09.540\nyou wanna use as you make that\ndecision and as you plug that data in.\n\n462\n00:25:09.540 --> 00:25:11.960\nLooking at bandwidth is\na pretty good idea, right.\n\n463\n00:25:11.960 --> 00:25:14.680\nWe wanna make sure that we're making\nintelligent decisions based on\n\n464\n00:25:14.680 --> 00:25:15.590\nwhat we've got.\n\n465\n00:25:15.590 --> 00:25:18.470\nAnd so at a minimum you're gonna use\nbandwidth when you kind of plan out\n\n466\n00:25:18.470 --> 00:25:21.068\nthose routes.\n\n467\n00:25:21.068 --> 00:25:26.100\nAll right, now, when we set up routes,\nthere's what are called route sources,\n\n468\n00:25:26.100 --> 00:25:28.480\nwhere do we learn a route from.\n\n469\n00:25:28.480 --> 00:25:30.290\nAnd when you connect to a router and\n\n470\n00:25:30.290 --> 00:25:34.610\nyou take a look at its routing table,\nIt'll have what the network is, and\n\n471\n00:25:34.610 --> 00:25:37.710\nwhere you are going, but it'll also\nhave where it learned it from, right?\n\n472\n00:25:37.710 --> 00:25:39.630\nWhere did you get this route from?\n\n473\n00:25:39.630 --> 00:25:43.020\nAnd I kind of gave some examples\nalready back when I was showing\n\n474\n00:25:43.020 --> 00:25:45.530\nthese little routing tables here.\n\n475\n00:25:45.530 --> 00:25:48.970\nWhen you learn a route,\nit will have an extra entry in here and\n\n476\n00:25:48.970 --> 00:25:52.040\nit's gonna be usually,\none of three things, okay.\n\n477\n00:25:52.040 --> 00:25:54.330\nIt could be that it's directly connected,\nso\n\n478\n00:25:54.330 --> 00:25:57.250\nit will have a C beside it to let you\nknow that it's directly connected.\n\n479\n00:25:57.250 --> 00:25:59.550\nWe didn't have to learn about it\nbecause we are directly plugged in.\n\n480\n00:26:00.790 --> 00:26:03.850\nIt could also be a letter\nother than C which\n\n481\n00:26:03.850 --> 00:26:06.960\nwill be identifying that you\nlearned it from a routing protocol.\n\n482\n00:26:06.960 --> 00:26:13.590\nSo there's EIGRP and\nOSPF and RIP, IS-IS, BGPs.\n\n483\n00:26:13.590 --> 00:26:15.600\nAll these different routing\nprotocols out there.\n\n484\n00:26:15.600 --> 00:26:19.920\nAnd so they may be a letter beside it\nthat identifies which protocol it was.\n\n485\n00:26:19.920 --> 00:26:22.050\nAnd then there's an S.\n\n486\n00:26:22.050 --> 00:26:23.660\nS is static.\n\n487\n00:26:23.660 --> 00:26:26.660\nStatic, those are routes that you\nmanually told the router about.\n\n488\n00:26:26.660 --> 00:26:29.860\nSo I said, here's a route that\nyou are going to use that static.\n\n489\n00:26:29.860 --> 00:26:34.710\nSo those are what we're normally going to\nsee, directly connected, static routes, or\n\n490\n00:26:34.710 --> 00:26:38.630\ndynamic routes that we learned through\nsome kind of a routing protocol.\n\n491\n00:26:38.630 --> 00:26:42.320\nIdeally, we'll use dynamic routes all\nthe time if we can, but if you can't,\n\n492\n00:26:42.320 --> 00:26:48.905\nthen you can always jump in and\nmanually put a route in if you have to.\n\n493\n00:26:49.970 --> 00:26:51.690\nIdeally, we want to do it dynamic.\n\n494\n00:26:51.690 --> 00:26:53.470\nThere is one other special\nroute that I want to mention.\n\n495\n00:26:53.470 --> 00:26:55.260\nIt's called a gateway of last resort.\n\n496\n00:26:55.260 --> 00:26:57.600\nWhen we do a lookup\nagainst our routing table,\n\n497\n00:26:58.750 --> 00:27:03.605\nif this router gets traffic destined for\nlet's say 10.1.1.1,\n\n498\n00:27:03.605 --> 00:27:07.830\nit's gonna run down the routing table and\nthere's no match.\n\n499\n00:27:07.830 --> 00:27:09.960\nAnd so what happens to the traffic\nthat doesn't match anything in\n\n500\n00:27:09.960 --> 00:27:11.310\nthe routing table?\n\n501\n00:27:11.310 --> 00:27:12.230\nDestination unreachable.\n\n502\n00:27:12.230 --> 00:27:14.000\nWe throw it out, right?\n\n503\n00:27:14.000 --> 00:27:17.010\nBut, what if your router's\nconnected to the Internet?\n\n504\n00:27:17.010 --> 00:27:18.540\nIf you're connected to the Internet,\n\n505\n00:27:18.540 --> 00:27:22.380\nthere are thousands upon thousands\nof routes out there on the Internet.\n\n506\n00:27:22.380 --> 00:27:23.460\nActually hundreds of thousands,\n\n507\n00:27:23.460 --> 00:27:26.531\nI believe the Internet routing\ntable's over 200,000 routes now.\n\n508\n00:27:26.531 --> 00:27:29.220\nSo you got a huge amount of routes.\n\n509\n00:27:29.220 --> 00:27:31.650\nAre you going to have all\nthose in your routing table?\n\n510\n00:27:31.650 --> 00:27:34.020\nNo.\nYou usually don't have enough memory.\n\n511\n00:27:34.020 --> 00:27:36.970\nIf you have one of the really big CISCO\nswitches, the ones that are designed for\n\n512\n00:27:36.970 --> 00:27:40.130\nISP's, or CISCO routers,\nsorry that are designed for ISP's,\n\n513\n00:27:40.130 --> 00:27:44.250\nthey have a ton of memory in there so they\ncan hold the full Internet routing table.\n\n514\n00:27:44.250 --> 00:27:46.870\nBut most of the enterprise\nclass routers and\n\n515\n00:27:46.870 --> 00:27:48.880\nthe routers that you use\nin small offices and\n\n516\n00:27:48.880 --> 00:27:52.000\nmedium offices, they don't have enough\nmemory to store the full routing table.\n\n517\n00:27:52.000 --> 00:27:54.530\nSo instead, they have which called\nthe gateway of last resort.\n\n518\n00:27:54.530 --> 00:27:58.480\nThis says hey, if I have traffic that\ndoesn't match any of these networks,\n\n519\n00:27:58.480 --> 00:28:00.060\ndon't just throw it out.\n\n520\n00:28:00.060 --> 00:28:04.960\nGo to this default gateway, this other\nperson, and they'll help us get there.\n\n521\n00:28:04.960 --> 00:28:07.340\nAnd it's normally your ISP.\n\n522\n00:28:07.340 --> 00:28:12.910\nIf I have a router that has\na metro ethernet, or a T1 line, or\n\n523\n00:28:12.910 --> 00:28:18.060\nwhatever that connects me to the ISP, then\nI'll set the ISP up as a default route.\n\n524\n00:28:18.060 --> 00:28:20.520\nAnd that way, when I try to go\nto some Internet network, yeah,\n\n525\n00:28:20.520 --> 00:28:22.970\nthe Internet networks aren't\ngonna be in my routing table.\n\n526\n00:28:22.970 --> 00:28:24.640\nBut I'll still be able to\nsend it out to the ISP,\n\n527\n00:28:24.640 --> 00:28:28.840\nand they'll forward it out to the\nInternet, to get the rest of the way out.\n\n528\n00:28:28.840 --> 00:28:30.540\nAll right, if you ever wanna see it,\n\n529\n00:28:30.540 --> 00:28:35.660\nif you ever get bored, you can browse,\nthere's a website called potaroo.\n\n530\n00:28:35.660 --> 00:28:42.190\nAnd potaroo has a, let me just see\nif I can find it here real quick,\n\n531\n00:28:42.190 --> 00:28:45.730\nthey have a neat little BGP\ntable that they layout and\n\n532\n00:28:45.730 --> 00:28:50.180\nthey show exactly what the current\nInternet utilization is, here we go.\n\n533\n00:28:50.180 --> 00:28:51.320\nSo they map this out.\n\n534\n00:28:51.320 --> 00:28:52.000\nIt's really cool,\n\n535\n00:28:52.000 --> 00:28:55.790\ncuz they're showing how over the years\nthe amount of routes have increased.\n\n536\n00:28:55.790 --> 00:29:01.355\nAnd I said 200,000,\nI was off by a significant amount.\n\n537\n00:29:01.355 --> 00:29:01.994\n>> [LAUGH]\n>> So,\n\n538\n00:29:01.994 --> 00:29:06.150\nthere's over 600,000 routes in\nthe BGP routing table right now.\n\n539\n00:29:06.150 --> 00:29:10.120\nSo if you were an Internet service\nprovider, and you were bringing up a true\n\n540\n00:29:10.120 --> 00:29:15.300\nbackbone class router, you'd have\nupwards of 600,000 routes on there.\n\n541\n00:29:15.300 --> 00:29:16.900\nIt's more than a normal router can handle.\n\n542\n00:29:16.900 --> 00:29:19.200\nSo that's a lot, that is big.\n\n543\n00:29:19.200 --> 00:29:21.070\nAnd the Internet is just\nconstantly growing.\n\n544\n00:29:21.070 --> 00:29:22.780\nSo you know you expect to\nkind of see that continue.\n\n545\n00:29:23.920 --> 00:29:27.610\nAll right, now one other thing\nthat I need to mention, and\n\n546\n00:29:27.610 --> 00:29:30.942\nI'm trying to stay kinda conceptual here,\nright, high level.\n\n547\n00:29:30.942 --> 00:29:33.762\nWe're gonna see implementing\na routing protocol,\n\n548\n00:29:33.762 --> 00:29:36.342\nwe're gonna see implementing\nstatic foot routes and so on.\n\n549\n00:29:36.342 --> 00:29:38.710\nWe're gonna see that in other\nepisodes as we move forward.\n\n550\n00:29:38.710 --> 00:29:42.130\nBut at a conceptual level, there is\nan important concept we need to know,\n\n551\n00:29:42.130 --> 00:29:46.980\nwhich is occasionally we can learn\na route from more than one source.\n\n552\n00:29:46.980 --> 00:29:50.740\nWe can learn the same exact\nroute more than one way.\n\n553\n00:29:50.740 --> 00:29:55.720\nSo for example I might be learning a route\nthrough a distance vector protocol and\n\n554\n00:29:55.720 --> 00:29:58.890\nat the same time I've learned\nroute through a static entry.\n\n555\n00:29:58.890 --> 00:30:00.790\nOr maybe I've got it\ndirectly connected and\n\n556\n00:30:00.790 --> 00:30:03.230\nI learn it through a link\nstate protocol also.\n\n557\n00:30:03.230 --> 00:30:07.930\nIf I learn the same route more than\none way, which one do I prefer?\n\n558\n00:30:07.930 --> 00:30:12.770\nWell Cisco has an order of preference,\na list that they use to dictate\n\n559\n00:30:12.770 --> 00:30:15.410\nwhich routes get preference\nwhen making a decision.\n\n560\n00:30:15.410 --> 00:30:17.930\nAnd this is really just\npicking between protocols.\n\n561\n00:30:17.930 --> 00:30:20.870\nIf you're only running one protocol\nthan this won't really matter to you.\n\n562\n00:30:20.870 --> 00:30:24.590\nBut if you have more than one protocol\nrunning, you could learn that same route,\n\n563\n00:30:24.590 --> 00:30:26.220\nand you've gotta make a decision.\n\n564\n00:30:26.220 --> 00:30:29.210\nAnd so the way it works\n\n565\n00:30:29.210 --> 00:30:33.040\nis CISCO uses something called\nan Administrative Distance, all right.\n\n566\n00:30:33.040 --> 00:30:35.020\nThis is the Administrative Distance\nright here.\n\n567\n00:30:35.020 --> 00:30:39.190\nIt's a list where CISCO dictates\nwho they prefer the most.\n\n568\n00:30:39.190 --> 00:30:41.850\nAnd who's number one on that list?\n\n569\n00:30:41.850 --> 00:30:43.710\nA directly connected interface.\n\n570\n00:30:43.710 --> 00:30:46.480\nHard to get better than\na directly connected interface.\n\n571\n00:30:46.480 --> 00:30:49.370\nAnd so the administrative distance for\nthat is a 0.\n\n572\n00:30:49.370 --> 00:30:53.140\nWe're saying that this is the best\nsource of information that we can ever\n\n573\n00:30:53.140 --> 00:30:54.820\nget, all right.\n\n574\n00:30:54.820 --> 00:30:57.400\nA static route has a value of 1.\n\n575\n00:30:57.400 --> 00:31:02.220\nAnd that 1 means, hey,\nsomebody manually put this in here,\n\n576\n00:31:02.220 --> 00:31:05.770\nI assume they know what they're talking\nabout so we're gonna accept it.\n\n577\n00:31:05.770 --> 00:31:10.150\nThe router in Cisco in general, they\nassume that you know what you're doing.\n\n578\n00:31:10.150 --> 00:31:13.470\nThey may not be right, [LAUGH] but\nthat's the assumption they make, and\n\n579\n00:31:13.470 --> 00:31:15.329\nso you get the next best preference.\n\n580\n00:31:16.430 --> 00:31:20.690\nAfter that, everything you see in\nthis list are dynamic protocols.\n\n581\n00:31:20.690 --> 00:31:23.530\nBGP, EIGRP, RIP, OSPF.\n\n582\n00:31:23.530 --> 00:31:27.760\nWe have the border gateway protocol,\nthe enhanced interior gateway routing\n\n583\n00:31:27.760 --> 00:31:33.050\nprotocol, the open shortest path first\nprotocol, the router information protocol.\n\n584\n00:31:33.050 --> 00:31:36.515\nThen we've got the external and\ninternal versions of some of them.\n\n585\n00:31:36.515 --> 00:31:38.040\nSome of them have internal and\n\n586\n00:31:38.040 --> 00:31:41.647\nexternal which is your private\nnetwork versus the Internet, right?\n\n587\n00:31:41.647 --> 00:31:43.895\nAnd the preference they're listed.\n\n588\n00:31:43.895 --> 00:31:47.210\nCISCO prefers external BGP first, and for\n\n589\n00:31:47.210 --> 00:31:50.000\nthose of you who go on to the CCNP\nyou will learn about the BGP.\n\n590\n00:31:50.000 --> 00:31:54.770\nOn the CCNA, you don't get it so you don't\nhave to worry about that one too much.\n\n591\n00:31:54.770 --> 00:31:56.260\nEIGRP is next.\n\n592\n00:31:56.260 --> 00:31:57.869\nWell that's CISCO's own protocol.\n\n593\n00:31:57.869 --> 00:32:00.840\nCISCO made the enhanced interior\ngateway routing protocol.\n\n594\n00:32:00.840 --> 00:32:04.410\nThat's the advanced Distance vector\nprotocol I mentioned earlier, the hybrid,\n\n595\n00:32:04.410 --> 00:32:05.279\nthat's their's.\n\n596\n00:32:05.279 --> 00:32:08.960\nEnhanced Interior Gateway Routing\nProtocol, and so they prefer it.\n\n597\n00:32:08.960 --> 00:32:10.610\nAfter that is OSPF,\n\n598\n00:32:10.610 --> 00:32:14.290\nOpen Shortest Path First, the most popular\nrouting protocol on the planet, right.\n\n599\n00:32:14.290 --> 00:32:16.650\nThis is the one that most people use.\n\n600\n00:32:16.650 --> 00:32:20.570\nAnd then after that is RIP,\nthe Router Information Protocol.\n\n601\n00:32:20.570 --> 00:32:24.340\nIn the CCENT exam you're\nexpected to know RIP.\n\n602\n00:32:24.340 --> 00:32:28.430\nIn the CCNA Routing and\nSwitching you'll learn OSPF and EIGRP.\n\n603\n00:32:28.430 --> 00:32:31.900\nRIP is really not used by people\nanymore but it's very simple so\n\n604\n00:32:31.900 --> 00:32:34.210\nit's a great foundational way\nto learn routing protocols.\n\n605\n00:32:34.210 --> 00:32:37.355\nSo we're gonna see it, we'll have some\nshows that focus on it coming up,\n\n606\n00:32:37.355 --> 00:32:38.180\nall right.\n\n607\n00:32:38.180 --> 00:32:39.760\nAnd then after that we've got external or\n\n608\n00:32:39.760 --> 00:32:41.540\ninterval versions of\nsome of the protocols.\n\n609\n00:32:41.540 --> 00:32:44.200\nThink of this as like a list\nof ranks trustworthiness.\n\n610\n00:32:44.200 --> 00:32:46.380\nHow trusty is that route?\n\n611\n00:32:46.380 --> 00:32:50.440\nSo if I learn a route via EIGRP and\nI learn of the OSPF,\n\n612\n00:32:50.440 --> 00:32:56.430\nI'll prefer the EIGRP route over the OSPF\none cuz the EIGRP route is more trusty.\n\n613\n00:32:56.430 --> 00:33:00.590\nOSPF just uses bandwidth,\nbut EIGRP uses bandwidth and\n\n614\n00:33:00.590 --> 00:33:03.780\ndelay by default so\nit's gonna make a smarter decision.\n\n615\n00:33:03.780 --> 00:33:04.880\nRIP just uses hop count, and\n\n616\n00:33:04.880 --> 00:33:07.200\nwe've already seen that hop\ncount's not very accurate, right.\n\n617\n00:33:07.200 --> 00:33:10.520\nSo it's ranking them\nbased on that accuracy.\n\n618\n00:33:10.520 --> 00:33:13.340\nBut static and connected,\nthose trump them all, all right.\n\n619\n00:33:13.340 --> 00:33:16.930\nThose are absolutely preferred and\nso those come up to the top.\n\n620\n00:33:16.930 --> 00:33:20.820\nIt is worth mentioning that the maximum\nadministrative distance is 255, and\n\n621\n00:33:20.820 --> 00:33:21.870\nif you learn a route and\n\n622\n00:33:21.870 --> 00:33:25.420\nit gets an administrative distance\nof 255 that means it's unreachable.\n\n623\n00:33:25.420 --> 00:33:28.360\nTechnically it's unknown but\nyou can't get to it.\n\n624\n00:33:28.360 --> 00:33:32.800\nSo 255 is an infinite metric, you can't\nget to it, it's a dead route, all right.\n\n625\n00:33:32.800 --> 00:33:35.900\nSo you'll see that sometimes when you're\ndoing route suppression you're trying to\n\n626\n00:33:35.900 --> 00:33:38.390\ndisable a route and\nyou can manipulate that.\n\n627\n00:33:38.390 --> 00:33:41.325\nThat's not something you'll\ndo on the CCNT exam.\n\n628\n00:33:41.325 --> 00:33:43.950\nBut these are administrative distances,\nthey are important on the exam,\n\n629\n00:33:43.950 --> 00:33:45.540\nthey do expect you to memorize them.\n\n630\n00:33:45.540 --> 00:33:49.970\nThe BGP one you could probably skip,\nbut if you're gonna go on to CCNP\n\n631\n00:33:49.970 --> 00:33:53.271\nyou'll need to know it so\nI recommend just memorizing it now too.\n\n632\n00:33:53.271 --> 00:33:57.650\nBut memorize this list so you know which\nprotocols are more important than others\n\n633\n00:33:57.650 --> 00:33:59.550\nand it's the administrative\ndistance that does it.\n\n634\n00:33:59.550 --> 00:34:01.480\nWhen we go to configure these\nprotocols you're gonna see this,\n\n635\n00:34:01.480 --> 00:34:02.830\nthe administrative distance will show up.\n\n636\n00:34:02.830 --> 00:34:04.690\nSo I'll highlight that when we do RIP and\n\n637\n00:34:04.690 --> 00:34:06.710\nwhen we do static routes\nwe'll get a chance to see it.\n\n638\n00:34:08.560 --> 00:34:12.505\nAll right, but that's pretty much the\nbreakdown of how these routing protocols\n\n639\n00:34:12.505 --> 00:34:15.905\nwork, how they go about making\nthe decisions and learning.\n\n640\n00:34:15.905 --> 00:34:17.575\nThe way they talk is different.\n\n641\n00:34:17.575 --> 00:34:20.705\nIt's different for each protocol, so we'll\nhit those in the appropriate shows when we\n\n642\n00:34:20.705 --> 00:34:24.060\ncover each protocol to make sure\nthat we don't create confusion.\n\n643\n00:34:24.060 --> 00:34:27.030\nIt's best to learn the protocols one\nby one instead of trying to blend\n\n644\n00:34:27.030 --> 00:34:27.590\nthem together.\n\n645\n00:34:27.590 --> 00:34:29.520\nSo that's why I wanted to\nstay high level here and\n\n646\n00:34:29.520 --> 00:34:31.670\njust talk about what\nyour routers are doing.\n\n647\n00:34:31.670 --> 00:34:34.725\nIf you have a router with an empty\nrouting table, it's not a router.\n\n648\n00:34:34.725 --> 00:34:36.300\n>> [LAUGH]\n>> It can't make decisions,\n\n649\n00:34:36.300 --> 00:34:37.930\nit can't route traffic.\n\n650\n00:34:37.930 --> 00:34:41.230\nSo the routing table is critical,\nyou've got to have that database.\n\n651\n00:34:41.230 --> 00:34:43.680\nAnd how you get the information\nin there is up to you, but\n\n652\n00:34:43.680 --> 00:34:46.150\nit's gotta have that information otherwise\nit's not gonna be able to do its job.\n\n653\n00:34:47.290 --> 00:34:49.900\n>> So Don, one question about\nthat administrative distance and\n\n654\n00:34:49.900 --> 00:34:51.590\nthe routing protocols themselves.\n\n655\n00:34:51.590 --> 00:34:55.920\nIf I have a router that learns from two\ndifferent sources, you talk about which\n\n656\n00:34:55.920 --> 00:34:59.660\none gets entered in to the routing table\nby using the administrative distance.\n\n657\n00:34:59.660 --> 00:35:04.450\nWell, a RIP router might say, hey I\nbelieve I have the best administrative\n\n658\n00:35:04.450 --> 00:35:07.560\ndistance and\nOSPF believes it has the best.\n\n659\n00:35:07.560 --> 00:35:11.270\nSo in that sense they still just say let's\ndefault to the administrative distance and\n\n660\n00:35:11.270 --> 00:35:13.592\nthat's what get entered in there right?\n\n661\n00:35:13.592 --> 00:35:14.156\n>> Yeah.\n\n662\n00:35:14.156 --> 00:35:15.680\nSo let me clarify that a bit Ronnie.\n\n663\n00:35:15.680 --> 00:35:18.460\nSo the routing protocols don't know\nabout the administrative distance,\n\n664\n00:35:18.460 --> 00:35:19.490\nthey don't even know it exists.\n\n665\n00:35:19.490 --> 00:35:22.130\nSo RIP has no knowledge of\nadministrative distance and\n\n666\n00:35:22.130 --> 00:35:24.260\nOSPF has no knowledge of\nadministrative distance.\n\n667\n00:35:24.260 --> 00:35:25.316\nThat's a CISCO mechanism.\n\n668\n00:35:25.316 --> 00:35:26.130\n>> Okay.\n>> So that that's\n\n669\n00:35:26.130 --> 00:35:30.350\nbuilt into the router itself and it\nprioritizes the protocols based on that.\n\n670\n00:35:30.350 --> 00:35:31.220\nThe routing protocols,\n\n671\n00:35:31.220 --> 00:35:36.850\nall they know is their metric, right,\nand OSPF uses bandwidth as metric.\n\n672\n00:35:36.850 --> 00:35:39.320\nRIP uses hop count,\nthose are not compatible metrics.\n\n673\n00:35:39.320 --> 00:35:40.980\nThey can't even do the comparison.\n\n674\n00:35:40.980 --> 00:35:46.220\nSo when they look at each other a OSPF\nrouter might be on a gig link and\n\n675\n00:35:46.220 --> 00:35:48.920\nso its metric might be 100.\n\n676\n00:35:48.920 --> 00:35:53.250\nWell RIP would look at that and\nsee it and say woo that's 100 hops and\n\n677\n00:35:53.250 --> 00:35:54.040\nit doesn't makes sense, right.\n\n678\n00:35:54.040 --> 00:35:55.960\nThat's too far,\nyou can't have it that far.\n\n679\n00:35:55.960 --> 00:35:58.360\nSo it breaks it,\nthose can't be compared so\n\n680\n00:35:58.360 --> 00:36:00.495\nit's up to the router\nto make that decision.\n\n681\n00:36:00.495 --> 00:36:01.240\n>> Awesome.\n>> And\n\n682\n00:36:01.240 --> 00:36:05.100\nif you got all Cisco then I just showed\nyou how they make that decision.\n\n683\n00:36:05.100 --> 00:36:07.030\nIf you have Juniper or\n\n684\n00:36:07.030 --> 00:36:10.770\nsomebody else's routers in there,\nthey make a decision different ways.\n\n685\n00:36:10.770 --> 00:36:13.140\nThey don't necessarily use\nCisco's administrative distant.\n\n686\n00:36:13.140 --> 00:36:15.020\nSome of them do but most of them don't.\n\n687\n00:36:15.020 --> 00:36:18.085\nAnd so you've got to figure that out.\n\n688\n00:36:18.085 --> 00:36:23.490\nNow one thing I didn't mention is it is\npossible that I could learn one route,\n\n689\n00:36:23.490 --> 00:36:27.670\ntwo different ways, right, two different\npaths to get to a destination.\n\n690\n00:36:27.670 --> 00:36:29.960\nAnd if they've got the same\nadministrative distance and\n\n691\n00:36:29.960 --> 00:36:35.070\nif they've got the same metric,\nthey're now two equal paths.\n\n692\n00:36:35.070 --> 00:36:38.610\nIf that happens,\nthey both make it in the routing table.\n\n693\n00:36:38.610 --> 00:36:40.734\nAnd some routing protocols\nwill load balance,\n\n694\n00:36:40.734 --> 00:36:43.790\nit will load balance across\nthe links which is really cool.\n\n695\n00:36:43.790 --> 00:36:46.847\nOther routing protocols, like RIP,\nwill just kinda freak out [LAUGH] and\n\n696\n00:36:46.847 --> 00:36:47.960\nnot take advantage of it.\n\n697\n00:36:47.960 --> 00:36:52.230\nSo there are times where you could\nload balance, and that's really cool.\n\n698\n00:36:52.230 --> 00:36:54.770\nThat's where you've got a really\nwell converged network and\n\n699\n00:36:54.770 --> 00:36:58.040\nyour data is able to move very reliably\nacross it if it's designed that way.\n\n700\n00:36:58.040 --> 00:37:00.909\nBut it does take some work, some planning,\nto get that configured and done right.\n\n701\n00:37:02.430 --> 00:37:04.380\nAll right Ronnie, that's a pretty\ngood rundown of the overview.\n\n702\n00:37:04.380 --> 00:37:07.020\nIf I go any further I'm gonna get into\nspecifics and I wanna save that for\n\n703\n00:37:07.020 --> 00:37:07.690\nthe upcoming episodes.\n\n704\n00:37:07.690 --> 00:37:10.740\nWe're gonna do episodes on static routing,\nwe're gonna do episodes on RIP,\n\n705\n00:37:10.740 --> 00:37:13.810\nwe're gonna get to see them in detail and\nhow to apply them and troubleshoot them.\n\n706\n00:37:13.810 --> 00:37:15.020\nSo don't worry if you're thinking,\n\n707\n00:37:15.020 --> 00:37:16.570\ngosh Don you were a little\nlight on the details.\n\n708\n00:37:16.570 --> 00:37:19.350\nIn fact I didn't go to\na console a single time here.\n\n709\n00:37:19.350 --> 00:37:20.410\nDon't worry, we will get there.\n\n710\n00:37:20.410 --> 00:37:22.400\nI just wanna make sure that we\nunderstand the concepts and\n\n711\n00:37:22.400 --> 00:37:24.640\nthe basics before we\nmoved on to that point.\n\n712\n00:37:24.640 --> 00:37:27.194\n>> All right, Don.\nWell thank you again for helping remind us\n\n713\n00:37:27.194 --> 00:37:31.298\nthat we are actually into a show in which\nwe're also doing not only switching but\n\n714\n00:37:31.298 --> 00:37:31.859\nrouting.\n\n715\n00:37:31.859 --> 00:37:36.833\nAnd those basic understanding of how the\nrouting table begins to be built there is\n\n716\n00:37:36.833 --> 00:37:38.890\na key concept for us in the CCENT.\n\n717\n00:37:38.890 --> 00:37:42.790\nWe also want to make sure that we\nmemorize those administrative distances.\n\n718\n00:37:42.790 --> 00:37:44.210\nIt sounds kind of funny.\n\n719\n00:37:44.210 --> 00:37:46.770\nYou're saying, I don't believe\nI have to do more memorization.\n\n720\n00:37:46.770 --> 00:37:50.900\nBut imagine this, it's easy points for\nyou on the exam just by memorization, so\n\n721\n00:37:50.900 --> 00:37:52.750\nyou want to get to that as well.\n\n722\n00:37:52.750 --> 00:37:55.695\nRemember that we also need to be able to\ndistinguish the difference between of\n\n723\n00:37:55.695 --> 00:37:58.700\ncourse distance vector and\nlink state to a routing protocols too.\n\n724\n00:37:58.700 --> 00:38:01.260\nBut all those are key concepts and\nwe're gonna see all the details,\n\n725\n00:38:01.260 --> 00:38:03.460\nlike Don said, in future episodes.\n\n726\n00:38:03.460 --> 00:38:05.870\nSo stick with us for more of that as well.\n\n727\n00:38:05.870 --> 00:38:09.230\nGreat place for\nus to also sign off on this episode.\n\n728\n00:38:09.230 --> 00:38:12.610\nSo for us here at ITProTV I've\nbeen your host Ronnie Wong.\n\n729\n00:38:12.610 --> 00:38:13.540\n>> And I'm Don Pezet.\n\n730\n00:38:13.540 --> 00:38:17.527\n>> Stay tuned right here for\nmore CCENT episodes.\n\n731\n00:38:17.527 --> 00:38:25.280\n[MUSIC]\n\n",
          "vimeoId": "174813943"
        },
        {
          "description": "In this episode, Ronnie and Don show basic routing between connected networks and interfaces on a router.  They explain that routing normally requires  moving traffic between 2 networks on different interfaces.  To route traffic to different networks residing off the same interfaces requires configuring sub interfaces and trunks.  This is used when we need Inter-VLAN Routing.  They show how to configure the switch and the router to do the inter-VLAN routing.",
          "length": "2149",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-3-2-router_on_a_stick-071816-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-3-2-router_on_a_stick-071816-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-3-2-router_on_a_stick-071816-1-sm.jpg",
          "title": "Router on a Stick",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.127 --> 00:00:15.033\nWelcome back to another great\nepisode right here on ITProTV.\n\n3\n00:00:15.033 --> 00:00:18.787\nI'm your host Ronnie Wong and\nyou're actually tuning in to, well,\n\n4\n00:00:18.787 --> 00:00:20.450\nthe Cisco CCENT shows.\n\n5\n00:00:20.450 --> 00:00:21.830\nAnd we are now moving onto,\n\n6\n00:00:21.830 --> 00:00:24.840\nwell, a topic that can be a little\nbit more confusing to us.\n\n7\n00:00:24.840 --> 00:00:28.420\nBut, here to help us to dispel\nthis topic of a router on a stick,\n\n8\n00:00:28.420 --> 00:00:29.560\nis gonna be Mr. Don Pezet.\n\n9\n00:00:29.560 --> 00:00:30.940\nDon welcome back to our studios.\n\n10\n00:00:30.940 --> 00:00:32.392\n>> Thanks for having me back Ronnie.\n\n11\n00:00:32.392 --> 00:00:35.250\nAll right, in our last episode we\nwere talking about routing, and\n\n12\n00:00:35.250 --> 00:00:36.340\nhow routing functions and\n\n13\n00:00:36.340 --> 00:00:38.850\nhow routers able to make their decisions\nto get from point A to point B.\n\n14\n00:00:38.850 --> 00:00:42.130\nIn this episode, we're gonna start\nseeing that actually happen, right?\n\n15\n00:00:42.130 --> 00:00:44.770\nBecause we've kind of been seeing\nfundamentals and theory up until now.\n\n16\n00:00:44.770 --> 00:00:46.920\nLet's see it in action.\n\n17\n00:00:46.920 --> 00:00:50.330\nWell, from basic router to function,\nlet's just say you have the most basic\n\n18\n00:00:50.330 --> 00:00:53.220\nrouter you're gonna have,\nit's a router with two interfaces, right.\n\n19\n00:00:53.220 --> 00:00:55.400\nSome routes on one side,\nsome routes on the other side.\n\n20\n00:00:55.400 --> 00:00:58.940\nAnd when it receives traffic on one\ninterface, if it's destined for\n\n21\n00:00:58.940 --> 00:01:01.690\nthe other side it just routes it to\nthe other interface, and sends it along.\n\n22\n00:01:01.690 --> 00:01:03.410\nVery, very simple process.\n\n23\n00:01:03.410 --> 00:01:07.459\nEvery single router can do\nthis out of the box, right.\n\n24\n00:01:07.459 --> 00:01:11.200\nAnd so typically, all of your routers\nare going to have at least two interfaces,\n\n25\n00:01:11.200 --> 00:01:12.970\nthat's how it's going to be.\n\n26\n00:01:12.970 --> 00:01:15.940\nWhether it's the cheapest router\nthat you can buy down at the local\n\n27\n00:01:15.940 --> 00:01:16.980\nelectronic store.\n\n28\n00:01:16.980 --> 00:01:20.120\nOr if it's the most expensive\nrouter you can by from Cisco,\n\n29\n00:01:20.120 --> 00:01:22.050\nthey're gonna have a minimum\nof two interfaces.\n\n30\n00:01:22.050 --> 00:01:25.670\nSo the general rule is you\nneed two interfaces to route.\n\n31\n00:01:25.670 --> 00:01:28.350\nRouter on a stick, we're gonna see\na little bit later in the episode.\n\n32\n00:01:28.350 --> 00:01:31.400\nThat's where we have just\none interface on the router.\n\n33\n00:01:31.400 --> 00:01:32.480\nAnd we're still able to route it.\n\n34\n00:01:32.480 --> 00:01:35.492\nThey call it on a stick because you\njust have the one link to it kinda like\n\n35\n00:01:35.492 --> 00:01:36.631\na popsicle stick I guess.\n\n36\n00:01:36.631 --> 00:01:39.280\n>> [LAUGH]\n>> Yeah one link to that router.\n\n37\n00:01:39.280 --> 00:01:42.490\nAnd even then you still have\nmore than one interface.\n\n38\n00:01:42.490 --> 00:01:47.740\nIt's one physical interface but you can\nsubdivide it into virtual interfaces.\n\n39\n00:01:47.740 --> 00:01:51.040\nAnd now, you've got many,\nmany interfaces and you're able to route.\n\n40\n00:01:51.040 --> 00:01:53.660\nSo you still end up with more than\none interface to be able to route but\n\n41\n00:01:53.660 --> 00:01:56.600\nthey're just not all physical,\nsome of them are virtual.\n\n42\n00:01:56.600 --> 00:01:58.560\nBut let's take a look at the basic\nphysical functionality and\n\n43\n00:01:58.560 --> 00:01:59.990\nthen we'll get into the virtual side.\n\n44\n00:01:59.990 --> 00:02:02.080\nSo, I've got a router here,\nlet me just pull this up.\n\n45\n00:02:02.080 --> 00:02:04.850\nThis is a I believe it's a Cisco 2911,\n\n46\n00:02:04.850 --> 00:02:08.420\nlet's find out for certain so\nI know what hardware we're working with.\n\n47\n00:02:08.420 --> 00:02:10.650\nSo, I'm gonna do a quick show version.\n\n48\n00:02:10.650 --> 00:02:13.000\nAnd in the output,\nit'll tell me what the router is.\n\n49\n00:02:13.000 --> 00:02:15.970\nSo, I can see right here,\nit's a Cisco 2911.\n\n50\n00:02:15.970 --> 00:02:21.360\nAnd I'm running the 15 point something\niOS, that's the British app.\n\n51\n00:02:21.360 --> 00:02:23.200\nI'm running 15.2 several of these four,\n\n52\n00:02:23.200 --> 00:02:27.380\nso that's pretty current\nas far as these routers go.\n\n53\n00:02:27.380 --> 00:02:29.160\nSo, I'm pretty current on this one,\n\n54\n00:02:29.160 --> 00:02:32.480\nI've got good hardware and\nhow many interfaces do I have?\n\n55\n00:02:32.480 --> 00:02:37.270\nWell, I can see that I've got 3 gigabit\ninterfaces and two serial interfaces.\n\n56\n00:02:37.270 --> 00:02:40.830\nSo, that's a lot of interfaces, five\ninterfaces I can choose to route between.\n\n57\n00:02:40.830 --> 00:02:44.289\nThe router's gonna have at least two,\ntypically, this one certainly does.\n\n58\n00:02:45.330 --> 00:02:49.140\nAll right, so if I wanna get\nrouting set up, how do I do it?\n\n59\n00:02:49.140 --> 00:02:50.390\nWell it might already be set up.\n\n60\n00:02:50.390 --> 00:02:53.210\nIf this router's already in\nproduction you might already have it.\n\n61\n00:02:53.210 --> 00:02:56.290\nThe key piece of a router\nis the routing table.\n\n62\n00:02:56.290 --> 00:02:58.940\nA router cannot route traffic\nunless it has a routing table and\n\n63\n00:02:58.940 --> 00:03:01.300\nthat's what we learned\nabout in the last episode.\n\n64\n00:03:01.300 --> 00:03:02.020\nBut.\n\n65\n00:03:02.020 --> 00:03:04.100\nWe just looked at a drawing I made.\n\n66\n00:03:04.100 --> 00:03:06.670\nThe real routing table is\nright here on the router.\n\n67\n00:03:06.670 --> 00:03:11.560\nIf you run show IP route, you can see the\nnetworks that the router knows about, and\n\n68\n00:03:11.560 --> 00:03:13.480\nwhere it can send them, right.\n\n69\n00:03:13.480 --> 00:03:17.250\nNow, my router is not too terribly\nexciting, but lets look at what we've got.\n\n70\n00:03:17.250 --> 00:03:21.420\nThe first part of the screen up here,\nthis is a legend.\n\n71\n00:03:21.420 --> 00:03:24.990\nA legend that's helping us understand\nthe codes that we're gonna see on the next\n\n72\n00:03:24.990 --> 00:03:25.950\nfew lines.\n\n73\n00:03:25.950 --> 00:03:29.670\nSo, you kind of ignore this part,\nif you gotta memorize you don't need it so\n\n74\n00:03:29.670 --> 00:03:32.020\nall that really doesn't matter.\n\n75\n00:03:32.020 --> 00:03:35.180\nThen, we've got the gateway\nof last resort.\n\n76\n00:03:35.180 --> 00:03:37.040\nIf we get traffic destined for\n\n77\n00:03:37.040 --> 00:03:39.730\na network that we don't know about,\nwhere do we send it?\n\n78\n00:03:39.730 --> 00:03:41.760\nAnd this is your usually Internet\nservice provider that's you,\n\n79\n00:03:41.760 --> 00:03:42.680\nyou're gonna point at.\n\n80\n00:03:42.680 --> 00:03:45.640\nWell, I don't have one so again,\nthis line is not so important.\n\n81\n00:03:45.640 --> 00:03:49.230\nSo my actual routing table\nis this guy right down here,\n\n82\n00:03:49.230 --> 00:03:50.470\nthese three lines, all right.\n\n83\n00:03:50.470 --> 00:03:51.110\nAll right.\n\n84\n00:03:51.110 --> 00:03:54.790\nAnd according to this,\nI have two interfaces.\n\n85\n00:03:54.790 --> 00:03:59.060\nAnd if I look at them on the left side\nhere, there's a C and there's an L.\n\n86\n00:03:59.060 --> 00:04:03.130\nAnd if I look up here at the legend,\nI can see what those are.\n\n87\n00:04:03.130 --> 00:04:07.190\nOne is C, a directly connected route.\n\n88\n00:04:07.190 --> 00:04:10.540\nA route for\na network that I'm plugged into.\n\n89\n00:04:10.540 --> 00:04:13.250\nAnd L if we find L in our list.\n\n90\n00:04:13.250 --> 00:04:14.940\nIt’s right here at the beginning.\n\n91\n00:04:14.940 --> 00:04:20.630\nLocal, that's an IP address or\na network that's directly assigned to me.\n\n92\n00:04:20.630 --> 00:04:23.180\nAll right, and if you look these\nare actually a part of the same network.\n\n93\n00:04:23.180 --> 00:04:24.830\nIt’s not two interfaces.\n\n94\n00:04:24.830 --> 00:04:27.480\nIt’s two routes to the same interface.\n\n95\n00:04:27.480 --> 00:04:31.110\nSee how they both go\nto GigabitEthernel0/0.\n\n96\n00:04:31.110 --> 00:04:34.990\nIt's two routes,\nnot necessarily two interfaces.\n\n97\n00:04:34.990 --> 00:04:38.219\nAnd one route is for\nthe 192.168.0 network.\n\n98\n00:04:38.219 --> 00:04:45.095\n192.168.0/24 is available via this\ndirectly connected interface.\n\n99\n00:04:45.095 --> 00:04:47.475\nGI0/0 is plugged right into that network.\n\n100\n00:04:47.475 --> 00:04:52.040\nBut there's a /32 afterwards.\n\n101\n00:04:52.040 --> 00:04:56.889\nI have an IP address,\nmy IP address is 192.168.16.1, so\n\n102\n00:04:56.889 --> 00:05:02.573\nif I get traffic for 192.168.16.1,\ndo I need to route it somewhere?\n\n103\n00:05:02.573 --> 00:05:06.130\nNo, that's me, it's destined for me.\n\n104\n00:05:06.130 --> 00:05:09.140\nAnd so we add a local route for\nthat one that says that's us,\n\n105\n00:05:09.140 --> 00:05:11.500\ndon't route it somewhere else,\njust handle it.\n\n106\n00:05:11.500 --> 00:05:13.790\nThese are the two routes\nthat I know about.\n\n107\n00:05:13.790 --> 00:05:15.870\nNow, how do I learn those?\n\n108\n00:05:15.870 --> 00:05:18.130\nThat's what this left side is telling me,\nright?\n\n109\n00:05:18.130 --> 00:05:19.320\nHow did I learn it?\n\n110\n00:05:19.320 --> 00:05:23.300\nI learned this first one cuz I'm directly\nconnect, I'm directly plugged into it.\n\n111\n00:05:23.300 --> 00:05:27.535\nIf I were to run a show\nip interface brief,\n\n112\n00:05:27.535 --> 00:05:31.045\nI'll see my list of interfaces and\n\n113\n00:05:31.045 --> 00:05:36.985\nGigabitEthernet0/0 is 192.168.16.1.\n\n114\n00:05:36.985 --> 00:05:41.250\nIt's directly plugged into\nthat network and it is up, up.\n\n115\n00:05:41.250 --> 00:05:43.930\nThe links are up and it's running.\n\n116\n00:05:43.930 --> 00:05:47.580\nI've got other interfaces that\nare just not plugged in, right.\n\n117\n00:05:47.580 --> 00:05:50.810\nSo they're all shut down and not turned\non and just sitting there, okay.\n\n118\n00:05:50.810 --> 00:05:54.484\nIf I were to go configure one I could turn\non, I could actually get up and running so\n\n119\n00:05:54.484 --> 00:05:55.628\nmaybe I do that, right.\n\n120\n00:05:55.628 --> 00:05:58.139\nLet's take GigabitEthernet0/1.\n\n121\n00:05:58.139 --> 00:06:03.785\nI'm gonna jump into my configuration and\nonce I'm in my configuration I'll get\n\n122\n00:06:03.785 --> 00:06:09.190\ninto interface GigabitEthernet0/1 and\nI'm gonna sign on an IP address.\n\n123\n00:06:09.190 --> 00:06:15.907\nI'm gonna give it 172.16.0.1 and\ni'll give it a class B subnet mask,\n\n124\n00:06:15.907 --> 00:06:21.260\nwhich is harder to type than\nyou would think apparently.\n\n125\n00:06:21.260 --> 00:06:23.385\nThere we go.\nSo I'm giving the class B subnet mask.\n\n126\n00:06:23.385 --> 00:06:25.920\n172.16 is technically a class B.\n\n127\n00:06:25.920 --> 00:06:29.470\nWe don't really follow classes anymore but\nif we did that is what it should be.\n\n128\n00:06:29.470 --> 00:06:33.400\nAnd I will say no shutdown\nto turn the interface on.\n\n129\n00:06:33.400 --> 00:06:37.300\nNow, this router that I'm on,\nit's actually in London, and\n\n130\n00:06:37.300 --> 00:06:39.830\nI'm in Florida, so\nit's a bit of a ways away.\n\n131\n00:06:39.830 --> 00:06:41.450\nI don't actually know if\nthere's a cable in it.\n\n132\n00:06:41.450 --> 00:06:44.780\nSo, when I do a no shutdown,\nthe interface is gonna come up, and\n\n133\n00:06:44.780 --> 00:06:47.260\nif there's a cable in it,\nit's gonna stay up.\n\n134\n00:06:47.260 --> 00:06:49.840\nBut if there's no cable in it, what's\ngonna happen is it's gonna come up and\n\n135\n00:06:49.840 --> 00:06:51.190\nthen go back down again.\n\n136\n00:06:51.190 --> 00:06:53.580\nAnd so, I see that it was down.\n\n137\n00:06:53.580 --> 00:06:56.190\nAnd then it just came up cuz I\nissued a no shut down, right?\n\n138\n00:06:56.190 --> 00:07:00.930\nSo it came up, and it stayed as now up and\nit looks like there's a cable in there,\n\n139\n00:07:00.930 --> 00:07:01.770\ncuz it's staying up.\n\n140\n00:07:01.770 --> 00:07:05.080\nIf it then went down again, I'd know\nthat it was probably unplugged, right?\n\n141\n00:07:05.080 --> 00:07:12.087\nSo, now if I do a show ip interface brief,\nI can see that gi0/0 has an IP and\n\n142\n00:07:12.087 --> 00:07:18.930\ngi0/1 has an IP and if I scroll over,\nthey're both up and up.\n\n143\n00:07:18.930 --> 00:07:23.920\nThe reason I'm stressing the status of the\nlink being up is that an interface will or\n\n144\n00:07:23.920 --> 00:07:28.050\na network will only make it in the routing\ntable if the network is actually up.\n\n145\n00:07:28.050 --> 00:07:30.570\nIf it's reachable If it's not\nreachable the link is down,\n\n146\n00:07:30.570 --> 00:07:32.790\nthere's no point of adding\nit to the running table.\n\n147\n00:07:32.790 --> 00:07:36.295\nSo for example, if I took this\nother interface, GI0/2, right?\n\n148\n00:07:36.295 --> 00:07:39.320\nI could get into configuration.\n\n149\n00:07:40.720 --> 00:07:44.969\nI can get into interface GI0/2.\n\n150\n00:07:44.969 --> 00:07:48.514\nI'll give it an IP address of 10.\n\n151\n00:07:48.514 --> 00:07:49.864\nLet's just go big, right?\n\n152\n00:07:49.864 --> 00:07:51.153\n10.0.0.1.\n\n153\n00:07:51.153 --> 00:07:54.658\nAnd I'll make that a straight\nup class A nice and big right?\n\n154\n00:07:54.658 --> 00:07:58.921\n16 million IPs at my disposal and\nI'm gonna leave it shut down.\n\n155\n00:07:58.921 --> 00:08:00.794\nI'm not going to do a no\nshutdown on this one.\n\n156\n00:08:00.794 --> 00:08:06.721\nAnd so, when I get out of that config and\nI do a show ip interface brief,\n\n157\n00:08:06.721 --> 00:08:11.820\nI'll see that IP address\nassigned to the interface.\n\n158\n00:08:11.820 --> 00:08:16.570\nBut if I look at it's status over here,\nit's administratively down and down.\n\n159\n00:08:16.570 --> 00:08:18.930\nSo, it's not a up and happy interface.\n\n160\n00:08:18.930 --> 00:08:19.450\nOkay.\n\n161\n00:08:19.450 --> 00:08:22.380\nNow if you've ever wondered\nwhy there's two columns here,\n\n162\n00:08:22.380 --> 00:08:24.370\nlike why does it say up up or down down?\n\n163\n00:08:24.370 --> 00:08:25.450\nWhat's the point in that?\n\n164\n00:08:25.450 --> 00:08:28.614\nWell there is actually the possibility\nthat you could have a line that's up down.\n\n165\n00:08:28.614 --> 00:08:29.183\nAll right.\n\n166\n00:08:29.183 --> 00:08:33.120\nThe first line is the status and\nthis is usually the physical status.\n\n167\n00:08:33.120 --> 00:08:34.850\nWe're talking about layer one here.\n\n168\n00:08:34.850 --> 00:08:37.130\nEthernet jack that means\ndo we have a link light?\n\n169\n00:08:37.130 --> 00:08:39.080\nRight?\nOn a serial connection are we getting\n\n170\n00:08:39.080 --> 00:08:43.100\na pins in a rts or cts or\nare we getting those signals in place?\n\n171\n00:08:43.100 --> 00:08:47.355\nSo if you have it down in the first\ncolumn, the status column,\n\n172\n00:08:47.355 --> 00:08:49.090\nthat's usually a physical problem.\n\n173\n00:08:49.090 --> 00:08:52.830\nThe cable has come unplugged or\nthe cable is wired incorrectly,\n\n174\n00:08:52.830 --> 00:08:55.250\nsome kind of physical issue.\n\n175\n00:08:55.250 --> 00:08:58.620\nThe second column is protocol,\nand that's software, right?\n\n176\n00:08:58.620 --> 00:09:01.450\nNow we're talking about ethernet,\nnot layer three.\n\n177\n00:09:01.450 --> 00:09:04.530\nYour IP address could be completely wrong,\nright?\n\n178\n00:09:04.530 --> 00:09:06.710\nBut layer two, your data link layer.\n\n179\n00:09:06.710 --> 00:09:13.420\nSo if it's an ethernet, or token ring,\nor HDLC, whatever T1's use these days.\n\n180\n00:09:13.420 --> 00:09:16.095\nPPP is that protocol happy so\n\n181\n00:09:16.095 --> 00:09:18.210\nthat we're able to even send\nstuff over the interface.\n\n182\n00:09:18.210 --> 00:09:22.610\nAll right, so this is usually\na hardware vs a software problem.\n\n183\n00:09:22.610 --> 00:09:25.120\nSo it's possible my hardware is fine but\nthe software isn't, and\n\n184\n00:09:25.120 --> 00:09:26.430\nI might see an up down.\n\n185\n00:09:26.430 --> 00:09:29.200\nThat's why I have those two\ndifferent columns there.\n\n186\n00:09:29.200 --> 00:09:31.440\nAll right, but\nin this case mine are up up except for\n\n187\n00:09:31.440 --> 00:09:33.210\nthis one that is administratively down.\n\n188\n00:09:33.210 --> 00:09:39.350\nNow as I created those, I'm now directly\nconnected to three different networks.\n\n189\n00:09:39.350 --> 00:09:40.410\nSo my router will know that.\n\n190\n00:09:40.410 --> 00:09:44.090\nI don't have to teach the router that,\nit knows it based on the interfaces.\n\n191\n00:09:44.090 --> 00:09:50.770\nAnd so if I do a show ip route, what\nI'm gonna see is the 172.16 network and\n\n192\n00:09:50.770 --> 00:09:56.960\nthe 192.168.16 network and\nnot the ten.network.\n\n193\n00:09:56.960 --> 00:10:00.866\nAll right, I don't see the ten.network\nbecause yes i'm directly connected, but\n\n194\n00:10:00.866 --> 00:10:01.974\nthe interface is down.\n\n195\n00:10:01.974 --> 00:10:04.834\nSo I can't send traffic\nover that interface, so\n\n196\n00:10:04.834 --> 00:10:09.298\nthere is no point in putting it in the\nrouting table unless we can actually get\n\n197\n00:10:09.298 --> 00:10:13.439\nthere, if I were to jump into that\ninterface, and do a no, shut down.\n\n198\n00:10:14.760 --> 00:10:17.392\nAnd hope that the cable is perfect right.\n\n199\n00:10:17.392 --> 00:10:21.800\nIf that link comes up then it\nwill show up in a routing table.\n\n200\n00:10:21.800 --> 00:10:24.352\nBut if it's unplugged which\nI am pretty sure it is,\n\n201\n00:10:24.352 --> 00:10:27.050\nlet me just pull up show\nIP address brief here.\n\n202\n00:10:27.050 --> 00:10:31.152\nSo it's unplugged and so\nwhat do I get down, down down and\n\n203\n00:10:31.152 --> 00:10:35.863\nsince it is down it's not going to\nmake it into the routing table.\n\n204\n00:10:35.863 --> 00:10:39.164\nAnd so when I do a show ip route,\neven though it's not administratively shut\n\n205\n00:10:39.164 --> 00:10:41.140\ndown, the ten dot doesn't\nmake it in there.\n\n206\n00:10:41.140 --> 00:10:43.839\nThe interface has to be up to make it in.\n\n207\n00:10:43.839 --> 00:10:44.739\nAll right, so\n\n208\n00:10:44.739 --> 00:10:49.990\nthe routing table here is growing based\njust on what we're directly plugged into.\n\n209\n00:10:49.990 --> 00:10:52.620\nThe router knows the networks\nit's directly plugged into.\n\n210\n00:10:52.620 --> 00:10:59.010\nAnd, you'll always get these two\nentries in here, one for the network\n\n211\n00:10:59.010 --> 00:11:03.840\nyou're actually connected to and another\none that is for the IP assigned to you.\n\n212\n00:11:03.840 --> 00:11:07.962\nSo you'll get a C and an L for\neach of the network you're plugged in to.\n\n213\n00:11:07.962 --> 00:11:09.440\nAll right, when you show and\n\n214\n00:11:09.440 --> 00:11:12.620\nIP route, by default it shows\nyou the whole routing table.\n\n215\n00:11:12.620 --> 00:11:15.240\nBut you can actually modify that\ncommand a little bit more and\n\n216\n00:11:15.240 --> 00:11:18.150\nspecify what routing\nsources you wanna see.\n\n217\n00:11:18.150 --> 00:11:22.270\nSo for example, I could say show ip\nroute and get the whole thing, or\n\n218\n00:11:22.270 --> 00:11:25.650\nI can say show ip route connected,\nand now I'm\n\n219\n00:11:25.650 --> 00:11:30.030\nonly gonna see the directly connected\nroutes, which is all I've got right now.\n\n220\n00:11:30.030 --> 00:11:34.370\nI could also say, just show me the rip or\n\n221\n00:11:34.370 --> 00:11:37.510\nOSPF or EIGRP, whatever protocol,\njust show me those route.\n\n222\n00:11:37.510 --> 00:11:39.190\nAnd I don't have any of those right now,\nright?\n\n223\n00:11:39.190 --> 00:11:40.780\nSo that's one way to see it.\n\n224\n00:11:40.780 --> 00:11:43.860\nIf you have a lot of directly\nconnected interfaces,\n\n225\n00:11:43.860 --> 00:11:45.690\nthe routing table starts getting\nbigger and bigger and bigger,\n\n226\n00:11:45.690 --> 00:11:47.260\nand it's kind of annoying\nto see both of these.\n\n227\n00:11:47.260 --> 00:11:52.390\nSo there's a lot of times where, what I'll\ndo is, I will do a show ip route, and\n\n228\n00:11:52.390 --> 00:11:55.440\nI'll pipe it into the exclude command,\nokay.\n\n229\n00:11:56.940 --> 00:12:02.954\nYou can exclude lines that start with\nthat capital L by just saying, exclude L.\n\n230\n00:12:02.954 --> 00:12:05.887\nBut you have to be careful cuz that's\ngoing to exclude lines from your\n\n231\n00:12:05.887 --> 00:12:08.633\nlegend also, so up here in my legend,\nsee all those capital Ls.\n\n232\n00:12:08.633 --> 00:12:12.210\nSo I normally make sure to just add\none more space to the end of that.\n\n233\n00:12:12.210 --> 00:12:16.100\nSo what I'm saying is, show ip route,\nI'm piping that in to exclude and\n\n234\n00:12:16.100 --> 00:12:19.180\nthen excluding L followed by a space.\n\n235\n00:12:19.180 --> 00:12:22.746\nAnd when you run that what\nyou're gonna get is see how\n\n236\n00:12:22.746 --> 00:12:27.386\nI still have these Ls up here, but\nthe local ones are gone from here.\n\n237\n00:12:27.386 --> 00:12:30.220\nAll right so it's removed, so\nyou can kind of thin it down a little bit.\n\n238\n00:12:31.830 --> 00:12:34.590\nYou will notice though that\neverything is still listed twice.\n\n239\n00:12:34.590 --> 00:12:35.780\nWhy is that?\n\n240\n00:12:35.780 --> 00:12:39.670\nWell the first entry is\nshowing me what I'm getting\n\n241\n00:12:39.670 --> 00:12:42.390\nif we were in a classful world.\n\n242\n00:12:42.390 --> 00:12:47.131\nIn a classful world,\n172.16.0.0 is supposed to be a /16 and\n\n243\n00:12:47.131 --> 00:12:49.966\nso I see that network right here is a /16.\n\n244\n00:12:49.966 --> 00:12:53.944\n192.168.16.0 is suppose to be a class C.\n\n245\n00:12:53.944 --> 00:12:55.369\nThat's a /24.\n\n246\n00:12:55.369 --> 00:12:57.390\nBut it well actually\nit's showing up as /24 so\n\n247\n00:12:57.390 --> 00:12:59.472\neverything is behaving\nthe was it's suppose to.\n\n248\n00:12:59.472 --> 00:13:02.980\nSo when you look at this it looks a little\nredundant, it doesn't make sense.\n\n249\n00:13:02.980 --> 00:13:05.730\nBut where it makes sense is if\nyou start breaking the rules.\n\n250\n00:13:05.730 --> 00:13:10.480\nIf you start doing IP's that\naren't In the right subnet.\n\n251\n00:13:10.480 --> 00:13:16.465\nSo for example if I were to get in\nhere and get into interface gi0/0,\n\n252\n00:13:16.465 --> 00:13:20.218\nand I were to say,\nwell let me do gi0/1 and\n\n253\n00:13:20.218 --> 00:13:24.276\nI'll say ip address 172.16.0.0 and\n\n254\n00:13:24.276 --> 00:13:28.940\nI'm going to use a class c subnet mask,\nall right.\n\n255\n00:13:28.940 --> 00:13:34.512\nSo 172 has 16.0 under a class\nb that would be 0 through 255.\n\n256\n00:13:34.512 --> 00:13:38.360\nBut now I'm saying no it's\ngot to be 172.16.0, and\n\n257\n00:13:38.360 --> 00:13:41.290\nthen we've got a host ID here at the end.\n\n258\n00:13:41.290 --> 00:13:43.420\nSo, that's a much smaller network.\n\n259\n00:13:43.420 --> 00:13:48.870\nAnd technically, it's not conforming\nto what that standard should be, right?\n\n260\n00:13:48.870 --> 00:13:51.810\nSo, as I get in here, if I can type, then\n\n261\n00:13:54.570 --> 00:13:58.610\nwe can jump out,\nsorry my focus keeps changing here.\n\n262\n00:13:58.610 --> 00:13:59.426\nThere we go.\n\n263\n00:13:59.426 --> 00:14:03.930\nAll right, so\nI'm gonna get out of that interface and\n\n264\n00:14:03.930 --> 00:14:06.843\njust do a show ip interface brief.\n\n265\n00:14:06.843 --> 00:14:08.885\nAnd I'm gonna see that my\nIP didn't really change.\n\n266\n00:14:08.885 --> 00:14:11.562\nI'm still 172.16.0.1.\n\n267\n00:14:11.562 --> 00:14:16.280\nAnd if I do a show ip route, now it'll\nmake a little more sense that I get that.\n\n268\n00:14:16.280 --> 00:14:21.740\nBecause what I'm gonna see here Is that,\ndid I not do it right?\n\n269\n00:14:21.740 --> 00:14:26.250\nIs that 172.16.0.2/16 but\nwe should have put it in.\n\n270\n00:14:26.250 --> 00:14:28.080\nAfter all that did I put\nthe wrong subnet mask?\n\n271\n00:14:28.080 --> 00:14:29.360\nLet me get back in and fix that.\n\n272\n00:14:29.360 --> 00:14:31.520\nSo, it is important to be able\nto see those subnet mask so\n\n273\n00:14:31.520 --> 00:14:33.300\nyou can spot when you have those issues.\n\n274\n00:14:33.300 --> 00:14:36.750\nAnd show ip interface brief doesn't\ngive you a subnet mask, so that\n\n275\n00:14:36.750 --> 00:14:40.950\ndoesn't work out so well but apparently\nI didn't Enter that command right.\n\n276\n00:14:40.950 --> 00:14:41.950\nSo let me fix that.\n\n277\n00:14:41.950 --> 00:14:44.616\nI'm gonna put in 172.16.0.1, and\n\n278\n00:14:44.616 --> 00:14:49.824\nI'm gonna use a 255.255.255.0, which\nis what I thought I did a minute ago.\n\n279\n00:14:49.824 --> 00:14:54.550\nSo let me do that, and I'll do a show IP\nroute, and we'll see if that fixes itself.\n\n280\n00:14:54.550 --> 00:14:55.710\nThere we go.\n\n281\n00:14:55.710 --> 00:14:59.468\nSo now what I see is 172.16.0.0/16.\n\n282\n00:14:59.468 --> 00:15:02.836\nThat's what it would be\na in a classical world but\n\n283\n00:15:02.836 --> 00:15:07.230\nI'm using it as 172.16.0.0/24, right?\n\n284\n00:15:07.230 --> 00:15:10.887\nAnd that's not so important to us right\nnow but in the CCNA show we're gonna\n\n285\n00:15:10.887 --> 00:15:14.780\ndo variable length subnet masks and\nthis becomes really, really important cuz\n\n286\n00:15:14.780 --> 00:15:18.345\nyou can take one network and break it\nup into a bunch of smaller networks.\n\n287\n00:15:18.345 --> 00:15:22.331\nAnd you're see the nested like\nthis in the GUI or in the CLI so,\n\n288\n00:15:22.331 --> 00:15:25.412\nit makes a lot more sense\nwhy we would have that.\n\n289\n00:15:25.412 --> 00:15:29.178\nBut remember that when the router\ngoes to find a route, so\n\n290\n00:15:29.178 --> 00:15:34.128\nif it receives traffic,\nit's destined for 192.168.16.5.\n\n291\n00:15:34.128 --> 00:15:35.795\nIt's gonna take it and\nrun it through this routing table.\n\n292\n00:15:35.795 --> 00:15:40.900\nIt's gonna start at the top and\nrun down the list looking for a match.\n\n293\n00:15:40.900 --> 00:15:42.233\nAnd if there is more than one match,\n\n294\n00:15:42.233 --> 00:15:44.193\nit's going to use the one\nthat is the most specific.\n\n295\n00:15:44.193 --> 00:15:50.607\nSo a /32 would trump a /24, right, we want\n/32 because that's very very specific.\n\n296\n00:15:50.607 --> 00:15:52.046\nYou can't get anymore specific.\n\n297\n00:15:52.046 --> 00:15:53.989\nBut a /24 is good enough.\n\n298\n00:15:53.989 --> 00:15:55.149\nThat's the only thing we have.\n\n299\n00:15:55.149 --> 00:15:59.278\nThat will steer us in the right direction.\n\n300\n00:15:59.278 --> 00:16:04.260\nNow that we've got this routing table, the\nrouting table is populated purely based\n\n301\n00:16:04.260 --> 00:16:06.620\non interfaces that we have\ndirectly connected to networks.\n\n302\n00:16:06.620 --> 00:16:09.130\nAnd it's normally going to be\nphysical interfaces like this.\n\n303\n00:16:09.130 --> 00:16:10.680\nSo as I look over here at the destination,\n\n304\n00:16:10.680 --> 00:16:14.560\nsee how the destinations are Gi\nzero slash one, Gi zero slash 0,\n\n305\n00:16:14.560 --> 00:16:18.920\nthey're physical interfaces, that's\nwhat I expect But, you can have virtual\n\n306\n00:16:18.920 --> 00:16:22.450\ninterfaces also remember on switches\nyou have tons of virtual interfaces.\n\n307\n00:16:22.450 --> 00:16:26.650\nYou have vlan1, vlan1000 what ever\nthose vlan interfaces that you create.\n\n308\n00:16:26.650 --> 00:16:29.960\nWell, routers are layers 3 devices,\nthey don't pay attention to vlans.\n\n309\n00:16:29.960 --> 00:16:34.560\nThey don't know the vlans exist, I think I\nmade that comment and episode earlier was\n\n310\n00:16:34.560 --> 00:16:39.120\nit routers don't know about vlan And then\nI made a little side comment about well,\n\n311\n00:16:39.120 --> 00:16:44.540\nthere is kind of one exception and\nthe one exception is router on a stick.\n\n312\n00:16:44.540 --> 00:16:47.450\nWith router on a stick,\nI might only have one interface, right, so\n\n313\n00:16:47.450 --> 00:16:50.210\nlet's say that Gi0/0 is\nmy only interface so\n\n314\n00:16:50.210 --> 00:16:55.960\nI am going to and shut down 0/1.\n\n315\n00:16:55.960 --> 00:17:01.540\nAnd I'll do a show ip route, so\nthat I've only got one interface,\n\n316\n00:17:01.540 --> 00:17:04.930\nthe 192.168.16, this guy right here,\nthat's all I've got.\n\n317\n00:17:04.930 --> 00:17:06.850\nI can't be a very effective router.\n\n318\n00:17:06.850 --> 00:17:10.850\nI can route the 192.168.16.0 network\nback to the 192.168.16.0 network,\n\n319\n00:17:10.850 --> 00:17:16.430\nwhich there's no point in doing, cuz those\nhosts could communicate locally anyway.\n\n320\n00:17:16.430 --> 00:17:17.820\nI'm not a router.\n\n321\n00:17:17.820 --> 00:17:24.426\nBut if this is the only interface I have,\nwe can take advantage of 802.1Q trunking.\n\n322\n00:17:24.426 --> 00:17:26.880\nAll right, on my switch,\n\n323\n00:17:26.880 --> 00:17:32.380\nI can configure the port that\ngoes to the router to be a trunk.\n\n324\n00:17:32.380 --> 00:17:33.660\nAnd then on the router,\n\n325\n00:17:33.660 --> 00:17:37.440\nI can create virtual interfaces\nthat are mapped to the vlans.\n\n326\n00:17:37.440 --> 00:17:40.630\nAnd that's going to allow me\nto route between vlans and\n\n327\n00:17:40.630 --> 00:17:44.510\nnow I've become an effective router,\neven though I've only got one interface.\n\n328\n00:17:44.510 --> 00:17:46.860\nFrom a performance\nstandpoint it's not great.\n\n329\n00:17:46.860 --> 00:17:49.260\nWhen I have separate interfaces\nlike I had a moment ago right.\n\n330\n00:17:49.260 --> 00:17:51.200\nI've got 3 gigabyte interfaces.\n\n331\n00:17:51.200 --> 00:17:55.240\nI can route that traffic and\nhave over a full gigabyte.\n\n332\n00:17:55.240 --> 00:17:57.930\nIf they're all running at full\nspeed we'd get about a gig and\n\n333\n00:17:57.930 --> 00:18:01.450\na half of bandwidth total because\nthey contend with each other right.\n\n334\n00:18:01.450 --> 00:18:04.420\nTraffic comes in one is going out\nthe other actually the full duplex.\n\n335\n00:18:04.420 --> 00:18:09.090\nSo you'd get quite a bit,\nbecause they're physical interfaces.\n\n336\n00:18:09.090 --> 00:18:11.690\nBut when it's a virtual\ninterface the traffic comes\n\n337\n00:18:11.690 --> 00:18:14.190\nin the physical interface and\nit goes out the physical interface.\n\n338\n00:18:14.190 --> 00:18:16.070\nAnd so,\nall that contention is on one link.\n\n339\n00:18:16.070 --> 00:18:18.290\nSo it's not\u007f as good performance wise.\n\n340\n00:18:18.290 --> 00:18:22.980\nBut you can take that one interface and\nstretch it to really do a lot.\n\n341\n00:18:22.980 --> 00:18:26.800\nAnd so let me show you how that works.\n\n342\n00:18:26.800 --> 00:18:31.110\nLet's say that I've got\n192.168.16.17.18.19 and\n\n343\n00:18:31.110 --> 00:18:33.960\nthose all correspond to different\nVLANs that are out there.\n\n344\n00:18:33.960 --> 00:18:37.680\nI might have VLAN 16,\n17, 18, 19 and so on.\n\n345\n00:18:37.680 --> 00:18:40.640\nI can create virtual interfaces for\neach one of those.\n\n346\n00:18:40.640 --> 00:18:43.180\nNow my work actually is\ngonna start on the switch.\n\n347\n00:18:43.180 --> 00:18:48.370\nSo I'm gonna jump over to my switch,\nwhich is this NYCORE1 sitting down here.\n\n348\n00:18:48.370 --> 00:18:54.310\nSo here's my switch, and on my switch,\nI'm gonna create a couple of VLANs,\n\n349\n00:18:54.310 --> 00:18:58.370\nand so I might have a sales VLAN,\na marketing VLAN, and so on.\n\n350\n00:18:58.370 --> 00:18:59.490\nIn fact, I might already have.\n\n351\n00:18:59.490 --> 00:19:02.350\nSome VLANs.\n\n352\n00:19:02.350 --> 00:19:04.430\nLet's see what I have.\n\n353\n00:19:04.430 --> 00:19:05.950\nSo on this switch, no, no VLANs.\n\n354\n00:19:06.990 --> 00:19:11.690\nSo, I'm gonna create VLAN 10,\nVLAN 20, oops, not VLAN 0.\n\n355\n00:19:11.690 --> 00:19:12.550\n20, 30 and 40.\n\n356\n00:19:12.550 --> 00:19:13.270\nOkay, so\n\n357\n00:19:13.270 --> 00:19:19.160\nI'm just creating a handful of VLANs here,\nand if I take a look at it, I've now got.\n\n358\n00:19:19.160 --> 00:19:19.850\n10, 20, 30 and 40.\n\n359\n00:19:19.850 --> 00:19:23.850\n40 hasn't shown up yet,\ncuz I haven't exited the prompt.\n\n360\n00:19:23.850 --> 00:19:26.420\nAnd now 40 should show up, there it is.\n\n361\n00:19:26.420 --> 00:19:28.020\nAll right, so I got 10, 20, 30 and 40.\n\n362\n00:19:28.020 --> 00:19:32.900\nAnd on the switch I can\ngo into int vlan 10 and\n\n363\n00:19:32.900 --> 00:19:36.120\nI can give it an address on that vlan.\n\n364\n00:19:36.120 --> 00:19:39.474\nSo I can say that's gonna be 192.168.10.2.\n\n365\n00:19:41.320 --> 00:19:42.860\nAnd give it an address.\n\n366\n00:19:42.860 --> 00:19:46.380\nAnd I'll do it no shut down, cuz I think\nthose are shut down by default, and so\n\n367\n00:19:46.380 --> 00:19:50.740\nthen I can go and do the same thing for\n20 and 30 and each of the other VLANs.\n\n368\n00:19:51.810 --> 00:19:56.060\nI'm just gonna come in and\ngive them that IP and turn them off okay?\n\n369\n00:19:56.060 --> 00:19:58.310\nSo each one just getting\nit kind of fired up.\n\n370\n00:19:58.310 --> 00:20:00.670\nAnd actually, it looks like they were\nup by default on this switch, so\n\n371\n00:20:00.670 --> 00:20:02.290\nI don't have to do the no shutdown.\n\n372\n00:20:03.330 --> 00:20:07.300\nAnd I can just run through,\nassigning IPs to my heart's content.\n\n373\n00:20:07.300 --> 00:20:11.120\nAnd this is kind of the tedious work\nthat you have to do when you set up\n\n374\n00:20:11.120 --> 00:20:12.200\na new network.\n\n375\n00:20:12.200 --> 00:20:14.680\nBut once you get it set in place,\nyou don't have to do it ever again.\n\n376\n00:20:14.680 --> 00:20:15.319\nSo it's kinda nice.\n\n377\n00:20:16.650 --> 00:20:17.340\nSo here's 40.\n\n378\n00:20:17.340 --> 00:20:17.840\nAll right.\n\n379\n00:20:21.890 --> 00:20:24.360\nSo on my switch if I do\na show IP interface brief,\n\n380\n00:20:25.980 --> 00:20:29.970\nI'll see that I now have those 4 vlan\ninterfaces created right here, 10, 20,\n\n381\n00:20:29.970 --> 00:20:32.480\n30 and 40 and\nI've got an IP on each right.\n\n382\n00:20:32.480 --> 00:20:37.460\nAnd I can configure the connection\nto the router to be a trunk.\n\n383\n00:20:37.460 --> 00:20:41.700\nIf I do a show cdb neighbors,\nI can see where my connection to NYEDGE1,\n\n384\n00:20:41.700 --> 00:20:43.450\nthat's my router, is on Fas 1/0/1.\n\n385\n00:20:43.450 --> 00:20:48.030\nSo I'm going to get into configuration and\n\n386\n00:20:48.030 --> 00:20:54.900\nget into Fas 1/0 /1 and\nI'm gonna say switchport trunk\n\n387\n00:20:54.900 --> 00:21:00.470\nencap dot1q, I think the switch only\nsupports 1q, nope, I guess it does both.\n\n388\n00:21:00.470 --> 00:21:02.690\nIf it only supports one then\nyou'll get an error there.\n\n389\n00:21:02.690 --> 00:21:04.340\nIt has to be 802.1q.\n\n390\n00:21:04.340 --> 00:21:06.730\nCisco routers don't recognize ISL at all.\n\n391\n00:21:06.730 --> 00:21:09.960\nSo you can't do ISL for\nthis, it's gotta be 802.1q.\n\n392\n00:21:09.960 --> 00:21:13.980\nAnd then I can say switch port\nmode trunk and I'll do switch\n\n393\n00:21:13.980 --> 00:21:18.250\nport no negotiate just to make sure\nit always does .1q no negotiation.\n\n394\n00:21:18.250 --> 00:21:20.880\nThis port is now going to trunk.\n\n395\n00:21:20.880 --> 00:21:22.200\nSo that's gonna reset the port.\n\n396\n00:21:22.200 --> 00:21:23.680\nThe port just reset.\n\n397\n00:21:23.680 --> 00:21:25.310\nAnd now, I'm trunking.\n\n398\n00:21:25.310 --> 00:21:26.810\nSo what does it mean when I trunk?\n\n399\n00:21:26.810 --> 00:21:30.060\nI'm sending all of those\nVLANs to the router.\n\n400\n00:21:30.060 --> 00:21:31.820\nIf I do a show interface trunk.\n\n401\n00:21:32.920 --> 00:21:38.150\nI can see that on port Fa1/01,\nI'm sending traffic from VLAN 1,\n\n402\n00:21:38.150 --> 00:21:42.150\n10, 20, 30 and 40,\nall across that line to the router.\n\n403\n00:21:42.150 --> 00:21:42.920\nOkay.\n\n404\n00:21:42.920 --> 00:21:47.740\nNow normally a router is gonna receive\nthis and completely ignore the VLAN tags.\n\n405\n00:21:47.740 --> 00:21:51.160\nAnd so it's gonna view all that\ntraffic as being on the same network.\n\n406\n00:21:52.490 --> 00:21:56.660\nSo when that happens it breaks everything.\n\n407\n00:21:56.660 --> 00:21:59.170\nSo we gotta teach the router\nabout these VLANs.\n\n408\n00:21:59.170 --> 00:22:01.320\nAnd you know I just got a bunch\nof messages about those\n\n409\n00:22:01.320 --> 00:22:02.880\nVLAN interfaces coming up.\n\n410\n00:22:02.880 --> 00:22:05.510\nSince I didn't have any\nphysical interfaces on them,\n\n411\n00:22:05.510 --> 00:22:07.040\nthey didn't actually come up.\n\n412\n00:22:07.040 --> 00:22:10.660\nBut as soon as I created a trunk, it\nviewed all of them as having at least one\n\n413\n00:22:10.660 --> 00:22:12.440\nphysical interface,\nsince they all came up at once.\n\n414\n00:22:12.440 --> 00:22:15.360\nThat's what that message is.\n\n415\n00:22:15.360 --> 00:22:16.370\nAll right, so\n\n416\n00:22:16.370 --> 00:22:20.250\nI'm gonna switch back over to my EDGE\nguy here if I can get him on my screen.\n\n417\n00:22:21.830 --> 00:22:25.460\nAnd we're gonna teach it\nabout those networks.\n\n418\n00:22:25.460 --> 00:22:31.100\nSo right now, all of that traffic\nis coming in interface gi 0/0.\n\n419\n00:22:31.100 --> 00:22:35.990\nBut when I look at it,\nit is all fully prepared for that, right?\n\n420\n00:22:35.990 --> 00:22:39.350\nOn GI 0/0 it's got this 192.168.16.1 and\nthat's it.\n\n421\n00:22:39.350 --> 00:22:44.680\nI need to create subinterfaces, virtual\ninterfaces for each of those VLANs.\n\n422\n00:22:44.680 --> 00:22:46.730\nAnd I'll just do 10 through 40.\n\n423\n00:22:46.730 --> 00:22:52.020\nSo, the way we do that is we get into\nconfiguration and we do #interface.\n\n424\n00:22:52.020 --> 00:22:54.455\ngi0/0, but you don't stop there.\n\n425\n00:22:54.455 --> 00:22:59.015\nYou add a decimal point,\nand then a number, and\n\n426\n00:22:59.015 --> 00:23:01.425\nthat's gonna create a virtual interface.\n\n427\n00:23:01.425 --> 00:23:05.555\nI'm taking my physical interface, and\nbreaking it up, into a smaller pace.\n\n428\n00:23:05.555 --> 00:23:08.640\nSo I can say interface gi0/0.10.\n\n429\n00:23:08.640 --> 00:23:09.790\nNow the number doesn't actually matter.\n\n430\n00:23:09.790 --> 00:23:11.750\nYou can pick whatever number you want.\n\n431\n00:23:11.750 --> 00:23:13.440\nIt doesn't matter, but in real life,\n\n432\n00:23:13.440 --> 00:23:16.150\nlet me tell you you normally want this\nto correspond with a VLAN number,\n\n433\n00:23:16.150 --> 00:23:18.810\notherwise it gets really\nconfusing really fast, right.\n\n434\n00:23:18.810 --> 00:23:20.950\nSo I usually pick the VLAN number but\nyou don't have to.\n\n435\n00:23:22.320 --> 00:23:25.060\nSo now I'm in interface gi0/0.10.\n\n436\n00:23:25.060 --> 00:23:28.950\nA new interface has been\ncreated on this router and\n\n437\n00:23:28.950 --> 00:23:32.110\nI can give myself an IP\naddress on that interface.\n\n438\n00:23:32.110 --> 00:23:33.470\nBut if I do it, I'm going to get an error.\n\n439\n00:23:33.470 --> 00:23:34.400\nLet me show you.\n\n440\n00:23:34.400 --> 00:23:36.810\nSo if I try to assign dot 1 to it.\n\n441\n00:23:36.810 --> 00:23:39.780\nIt's an error.\n\n442\n00:23:39.780 --> 00:23:43.350\nAnd it's warning me that\nit's a sub-interface and\n\n443\n00:23:43.350 --> 00:23:46.330\nyou really can't do that unless\nthis is a part of a trunk.\n\n444\n00:23:46.330 --> 00:23:48.812\nSo I need to tell it that I'm\ntrunking on this interface.\n\n445\n00:23:48.812 --> 00:23:51.928\nAnd I need to tell it that for\nthis sub interface,\n\n446\n00:23:51.928 --> 00:23:54.592\nit corresponds to a particular v-land.\n\n447\n00:23:54.592 --> 00:23:58.785\nAnd I do that by saying\nencapsulation.1q and\n\n448\n00:23:58.785 --> 00:24:04.170\nthen the vLAN number and\nI'm going to say this is vLAN 10.\n\n449\n00:24:04.170 --> 00:24:10.080\nNow it knows that this interface is\na trunk, and that anything tagged for\n\n450\n00:24:10.080 --> 00:24:16.510\nvLAN 10 Is going to be well on this\nparticular interface, this sub-interface.\n\n451\n00:24:16.510 --> 00:24:20.970\nAnd now I can assign that IP address,\nI don't get an error.\n\n452\n00:24:20.970 --> 00:24:21.800\nOkay?\n\n453\n00:24:21.800 --> 00:24:23.680\nI'm going to do a no shut down,\n\n454\n00:24:23.680 --> 00:24:26.410\njust to make sure this interface\nisn't shut down by default.\n\n455\n00:24:26.410 --> 00:24:28.800\nOn a lot of routers,\nthe interfaces are shutdown by defaults.\n\n456\n00:24:28.800 --> 00:24:30.340\nI'm just gonna issue that\nto be on the safe side.\n\n457\n00:24:30.340 --> 00:24:33.330\nI'm pretty sure this one isn't cuz I\nthink I got a pop-up for a minute ago, or\n\n458\n00:24:33.330 --> 00:24:34.500\nyou don't know I didn't, did I?\n\n459\n00:24:34.500 --> 00:24:37.090\nAll right, well either I didn't\nget a pop-up now either, so\n\n460\n00:24:37.090 --> 00:24:38.570\nit looks like it was on by default.\n\n461\n00:24:38.570 --> 00:24:41.620\nSo, now I can move through and\nI can do my other interfaces, right?\n\n462\n00:24:41.620 --> 00:24:42.370\nThe 20, 30 and 40.\n\n463\n00:24:42.370 --> 00:24:46.760\nAnd this is where you're\nusing your up arrow for\n\n464\n00:24:46.760 --> 00:24:51.220\nyour command history is really handy,\nbecause you can just scroll right back up,\n\n465\n00:24:51.220 --> 00:24:55.260\nand grab those lines from before, and\nthen edit them to meet your needs.\n\n466\n00:24:55.260 --> 00:24:58.020\nSo I'm just gonna bump this one up to 20,\nand\n\n467\n00:24:58.020 --> 00:25:02.500\ncontinue doing that same thing as I do 30.\n\n468\n00:25:02.500 --> 00:25:04.700\nAnd then we'll knock out 40.\n\n469\n00:25:04.700 --> 00:25:08.680\nLet's make sure I keep\nit straight in my head.\n\n470\n00:25:08.680 --> 00:25:09.550\nThat's the hardest part.\n\n471\n00:25:09.550 --> 00:25:11.400\nSome of this stuff is\neasier to do in Notepad.\n\n472\n00:25:11.400 --> 00:25:14.300\nAnd then just cut and\npaste the configuration in.\n\n473\n00:25:14.300 --> 00:25:16.470\nAnd before I go too far.\n\n474\n00:25:16.470 --> 00:25:17.990\nThat error message that popped up.\n\n475\n00:25:17.990 --> 00:25:19.580\nIt actually mentioned ISL.\n\n476\n00:25:19.580 --> 00:25:21.760\nAnd I said that the routers\ndon't support ISL.\n\n477\n00:25:21.760 --> 00:25:23.190\nWhoops.\n\n478\n00:25:23.190 --> 00:25:25.640\nThis one might, since that error\nmessage indicated it's wrong.\n\n479\n00:25:25.640 --> 00:25:26.220\nI'm kind of curious.\n\n480\n00:25:26.220 --> 00:25:30.130\nI'd just wanna see that of my own benefit,\nwe'll see if supports it.\n\n481\n00:25:30.130 --> 00:25:32.670\nThis will gonna be 0.40 and\nI'll assign an IP.\n\n482\n00:25:32.670 --> 00:25:37.420\nAnd then, I wanna check out any\nencapsulation, just to see.\n\n483\n00:25:38.680 --> 00:25:41.690\nIf this one does, this will be the first\nswitch I've seen that supports it.\n\n484\n00:25:41.690 --> 00:25:43.610\nYeah it doesn't have ISL on the list.\n\n485\n00:25:43.610 --> 00:25:46.410\nSo I guess maybe there\nis a switch somewhere,\n\n486\n00:25:46.410 --> 00:25:47.950\na router somewhere that supports ISL.\n\n487\n00:25:47.950 --> 00:25:50.800\nI've never seen a router that supported\nISL, that command's not even here.\n\n488\n00:25:50.800 --> 00:25:54.105\nBut that error message made me think,\nanyhow.\n\n489\n00:25:54.105 --> 00:25:55.625\nAll right.\nSo, now\n\n490\n00:25:55.625 --> 00:25:57.325\nlet's take a look at that configuration.\n\n491\n00:25:57.325 --> 00:26:03.085\nSo, if I do a show running config and\nlet's get down to the interface.\n\n492\n00:26:03.085 --> 00:26:05.775\nNow, I had Gi0/0 before.\n\n493\n00:26:05.775 --> 00:26:07.120\nThat's not new.\n\n494\n00:26:07.120 --> 00:26:11.905\nBut, underneath it, I now have 0/0.10 and\n.20 and 30 and .40.\n\n495\n00:26:11.905 --> 00:26:17.670\nAnd each one of them is assigned\nto a VLAN at dot1Q tag, right?\n\n496\n00:26:17.670 --> 00:26:19.710\nAnd they've got an IP address.\n\n497\n00:26:19.710 --> 00:26:23.980\nAnd as long as the parents interfaces up,\nall of these sub-interfaces to be up to.\n\n498\n00:26:23.980 --> 00:26:26.970\nIf I shut down the parent interface, it\njust send all these sub-interfaces, right?\n\n499\n00:26:26.970 --> 00:26:29.130\nSo they're all tied to\nthat parent interface.\n\n500\n00:26:30.280 --> 00:26:33.850\nThe parent interface we don't\nnormally use except in 82.1 queue,\n\n501\n00:26:33.850 --> 00:26:36.900\nyou have a native VLAN,\na VLAN that's not tagged.\n\n502\n00:26:36.900 --> 00:26:39.390\nAnd a native VLAN gets sent\nto the parent interface.\n\n503\n00:26:39.390 --> 00:26:42.040\nSo my native VLAN is VLAN1 and so\n\n504\n00:26:42.040 --> 00:26:45.190\nwhatever is on that parent interface\nis gonna be V-land one traffic.\n\n505\n00:26:45.190 --> 00:26:48.200\nThat's why I'm not creating\nsub-interface for V-land 1.\n\n506\n00:26:48.200 --> 00:26:53.400\nBut if I do a show, IP interface brief,\nlook at what I get now.\n\n507\n00:26:53.400 --> 00:26:55.460\nI'm not a one interface router anymore.\n\n508\n00:26:55.460 --> 00:27:02.160\nNow I've got five interfaces all based\noff of gi0/0, and they've all got IPs.\n\n509\n00:27:02.160 --> 00:27:04.630\nAnd they're all up and up.\n\n510\n00:27:04.630 --> 00:27:06.250\nAnd if I take a look at my route,\n\n511\n00:27:06.250 --> 00:27:11.940\nshow ip route, I'll see that I have\nroutes to all of those networks, right?\n\n512\n00:27:11.940 --> 00:27:13.900\nI got the 10., the 16.,\nthe 20, the 30, the 40.\n\n513\n00:27:13.900 --> 00:27:19.350\nAnd I wanna look at their\ndestinations over here,\n\n514\n00:27:19.350 --> 00:27:22.250\nthey're all being routed\nto those sub interfaces.\n\n515\n00:27:22.250 --> 00:27:26.220\nAnd the subinterfaces know to tag the\ninformation for that appropriate VLAN, so\n\n516\n00:27:26.220 --> 00:27:27.240\nthey can get there.\n\n517\n00:27:27.240 --> 00:27:29.720\nWe now are a multi interface router,\n\n518\n00:27:29.720 --> 00:27:34.300\nand we can test that out by trying\nto ping across those networks.\n\n519\n00:27:34.300 --> 00:27:35.955\nNow, before I I did that ping.\n\n520\n00:27:35.955 --> 00:27:40.855\nI'm gonna do a show arp, and look at\nmy address resolution protocol table.\n\n521\n00:27:40.855 --> 00:27:43.305\nIn my arp table, I have my IPs.\n\n522\n00:27:43.305 --> 00:27:45.105\nSo, these are all my IPs that I have.\n\n523\n00:27:45.105 --> 00:27:48.822\nAnd, I have the mac address that in\nthe interface that they're on, and\n\n524\n00:27:48.822 --> 00:27:51.685\nsee how they're being tracked\nacross those sub interfaces.\n\n525\n00:27:51.685 --> 00:27:54.705\nWell, if I start pinging the switch,\n\n526\n00:27:54.705 --> 00:27:59.390\nthe switch was 10.2 and 20.2 and 30.2.\n\n527\n00:27:59.390 --> 00:28:02.650\nSee how that first ping failed.\n\n528\n00:28:02.650 --> 00:28:05.690\nA dot means a failure,\nan exclamation point means a success and\n\n529\n00:28:05.690 --> 00:28:07.040\nthe first one failed.\n\n530\n00:28:07.040 --> 00:28:12.800\nWell, it did in our broadcast and it took\nthe switch long enough to respond but\n\n531\n00:28:12.800 --> 00:28:16.170\nthe first one failed but then I got\nthe response and the second one succeeded.\n\n532\n00:28:16.170 --> 00:28:19.430\nThat actually happens in Windows and\nLinux and Mac OS2 but\n\n533\n00:28:19.430 --> 00:28:22.290\nyou don't normally see it because\nthey have a longer time out value,\n\n534\n00:28:22.290 --> 00:28:24.980\nSysco's time out value is really short so\nyou see it.\n\n535\n00:28:24.980 --> 00:28:27.890\nBut each of the other\nones are getting through.\n\n536\n00:28:27.890 --> 00:28:30.370\nIf I were to do another ping,\nso watch this one.\n\n537\n00:28:30.370 --> 00:28:33.330\nSo my first ping failed,\nwhen I pinged 192.168.40.2.\n\n538\n00:28:33.330 --> 00:28:38.900\nIf I ping it again all five succeed,\ncuz the arp cache is taking care of it.\n\n539\n00:28:38.900 --> 00:28:40.530\nI don't have to do a broadcast anymore.\n\n540\n00:28:40.530 --> 00:28:46.560\nIf I do a show arp, I'll see a lot more\nin my resolution protocol table, right?\n\n541\n00:28:46.560 --> 00:28:50.960\nSo I've got 192.168.40.2 I've got the MAC\naddress that I learned for it, and\n\n542\n00:28:50.960 --> 00:28:56.600\nit's tied to GigabetEthernet0/0.40,\nit's tied to that sub interface.\n\n543\n00:28:56.600 --> 00:29:02.370\nAnd I'm now able to communicate to all my\nvlans, all off of one physical interface.\n\n544\n00:29:02.370 --> 00:29:05.690\nI'm gonna do a show ip route, and\n\n545\n00:29:05.690 --> 00:29:11.250\nI'm gonna filter it just to include\nlines that start with C space.\n\n546\n00:29:11.250 --> 00:29:13.540\nAll right?\nAnd so, I'll just see those connected.\n\n547\n00:29:13.540 --> 00:29:15.670\nAnd right there I can see\nthe different networks.\n\n548\n00:29:15.670 --> 00:29:17.550\nAnd see how it has sorted them?\n\n549\n00:29:17.550 --> 00:29:22.910\nSee how it has put 192.168.10 first, even\nthough the parent interface is 192.168.16?\n\n550\n00:29:22.910 --> 00:29:26.980\nRemember what I said about the routing\ntable, it sorts them by prefix.\n\n551\n00:29:26.980 --> 00:29:28.620\nAnd so, they are in order, right?\n\n552\n00:29:28.620 --> 00:29:32.140\n10, 16, 20, 30, 40,\nthey're in numerical order.\n\n553\n00:29:32.140 --> 00:29:33.880\nAnd that's the speed of the look ups.\n\n554\n00:29:33.880 --> 00:29:36.360\nIt can do look ups very\nfast if they're in order.\n\n555\n00:29:36.360 --> 00:29:37.310\nIf they're not in order,\n\n556\n00:29:37.310 --> 00:29:41.690\nit would have to read the entire table\nevery time it did a route look up.\n\n557\n00:29:41.690 --> 00:29:44.220\nBut if they're in order,\nit starts at the top and\n\n558\n00:29:44.220 --> 00:29:47.240\nit works its way down and the only\ntime it has to read the whole table\n\n559\n00:29:47.240 --> 00:29:49.580\nis if you're hitting the very\nlast route in there.\n\n560\n00:29:49.580 --> 00:29:52.280\nBut if you've got 50 routes and you're\n\n561\n00:29:52.280 --> 00:29:56.230\nsending traffic to the route that's number\nfive, it's only gotta go one through five.\n\n562\n00:29:56.230 --> 00:29:57.395\nIt finds the target and it goes to it.\n\n563\n00:29:57.395 --> 00:29:58.335\nIt didn't have to read the whole table.\n\n564\n00:29:58.335 --> 00:29:59.715\nThat's why it sorts it like that.\n\n565\n00:29:59.715 --> 00:30:01.035\nIt will put it in order.\n\n566\n00:30:01.035 --> 00:30:03.175\nYou cannot, to my knowledge,\nalter that order.\n\n567\n00:30:03.175 --> 00:30:03.715\nIt does it.\n\n568\n00:30:03.715 --> 00:30:04.495\nIt optimizes it.\n\n569\n00:30:04.495 --> 00:30:06.745\nIt is actually done in\nthe hardware on the backend so\n\n570\n00:30:06.745 --> 00:30:09.895\nthat it can move data on the data\nplane very, very quickly.\n\n571\n00:30:09.895 --> 00:30:11.405\nThat's got it in place.\n\n572\n00:30:11.405 --> 00:30:15.245\nI'm able to ping between\nthose different VLANs now.\n\n573\n00:30:15.245 --> 00:30:19.690\nIf I were to take a workstation and\nplug it in to one of these VLANs, and\n\n574\n00:30:19.690 --> 00:30:25.700\nset their default gateway to 192.168.20.1,\nor whichever network they're on,\n\n575\n00:30:25.700 --> 00:30:30.090\nthey can now route through me and\naccess every one of my VLANs.\n\n576\n00:30:30.090 --> 00:30:31.200\nRemember the only negative on this,\n\n577\n00:30:31.200 --> 00:30:36.400\nthat the only real negative on this is\nperformance, that all these VLANs are now\n\n578\n00:30:36.400 --> 00:30:42.240\nsharing GI0/0 gigabit Ethernet\nis full duplex, always.\n\n579\n00:30:42.240 --> 00:30:45.320\nSo, I could receive a gig and send a gig.\n\n580\n00:30:45.320 --> 00:30:49.600\nBut, if I'm routing, I'm going to\ngo up and down, the same line.\n\n581\n00:30:49.600 --> 00:30:52.120\nSo, I really get performances,\nmore like half duplex.\n\n582\n00:30:52.120 --> 00:30:54.630\nBecause if I send a megadata up,\n\n583\n00:30:54.630 --> 00:30:57.140\nthat megadata has to come back\ndown to get to the other V Lan.\n\n584\n00:30:57.140 --> 00:31:02.520\nSo now, I'm always consuming that\ntransmit and receive wires all the time.\n\n585\n00:31:02.520 --> 00:31:04.730\nAnd I'm not the only one doing it.\n\n586\n00:31:04.730 --> 00:31:07.840\nEverybody else that is communicating\non the network is doing the same thing.\n\n587\n00:31:07.840 --> 00:31:10.260\nSo you start to lose\nthe full duplex capability.\n\n588\n00:31:10.260 --> 00:31:15.710\nAnd now, you are also sharing this single\ngigabit uplink across all your VLANs.\n\n589\n00:31:15.710 --> 00:31:19.030\nYou have effectively throttled\nyour inter VLAN traffic to 1 gig.\n\n590\n00:31:19.030 --> 00:31:20.090\nAll right.\n\n591\n00:31:20.090 --> 00:31:21.860\nNow that may be fine for you.\n\n592\n00:31:21.860 --> 00:31:23.710\nIf we're sharing this because\nof an Internet connection then\n\n593\n00:31:23.710 --> 00:31:26.020\nour internet connection\nis only 50 megabit.\n\n594\n00:31:26.020 --> 00:31:29.070\nWhat do we care if we're throttling\nto a gig it's no big deal.\n\n595\n00:31:29.070 --> 00:31:32.190\nBut if you got iSCSI and.\n\n596\n00:31:32.190 --> 00:31:34.030\nYou want the best performance\nout of it possible.\n\n597\n00:31:34.030 --> 00:31:35.690\nThis is terrible, right?\n\n598\n00:31:35.690 --> 00:31:37.289\nSo you're better off having\nphysical interfacing.\n\n599\n00:31:38.350 --> 00:31:39.810\nI have five viewings.\n\n600\n00:31:39.810 --> 00:31:41.260\nI can get a router with five interfaces.\n\n601\n00:31:41.260 --> 00:31:42.780\nIt's going to cost more money, right?\n\n602\n00:31:42.780 --> 00:31:43.800\nIt's going to be a bigger router.\n\n603\n00:31:43.800 --> 00:31:48.060\nThis is a 2911, I'll have to go to a 2921\nif I want to get those extra interfaces.\n\n604\n00:31:48.060 --> 00:31:50.210\nSo it'll cost a bit more, right?\n\n605\n00:31:50.210 --> 00:31:51.620\nBut I'll get the performance that I need.\n\n606\n00:31:51.620 --> 00:31:54.334\nI'll get those extra gig interfaces and\nI'll get the performance and\n\n607\n00:31:54.334 --> 00:31:55.303\nthe routing that I want.\n\n608\n00:31:55.303 --> 00:31:59.150\nSo physical interfaces are always best,\nbut if you are on a budget or you don't\n\n609\n00:31:59.150 --> 00:32:03.187\nnecessarily care about performance Router\non a stick, like this, works great.\n\n610\n00:32:03.187 --> 00:32:07.840\nI'll tell you guys in real life land,\nI don't normally set up router on a stick.\n\n611\n00:32:07.840 --> 00:32:10.210\nIf you're a small enough company\nto not care about the bandwidth,\n\n612\n00:32:10.210 --> 00:32:12.510\nthen you're a small enough company\nthat you don't need multiple VLANs.\n\n613\n00:32:12.510 --> 00:32:13.970\nAnd so, this doesn't really come in handy.\n\n614\n00:32:13.970 --> 00:32:16.750\nSo it's great in a lab environment, great\nin a learning and testing environment, but\n\n615\n00:32:16.750 --> 00:32:19.710\nin production,\nit's rare that you do router on a stick.\n\n616\n00:32:19.710 --> 00:32:22.590\nInstead, you're gonna\ndo physical interfaces.\n\n617\n00:32:22.590 --> 00:32:25.720\nThat's typically the way that you're\ngonna go about it, or even better,\n\n618\n00:32:25.720 --> 00:32:28.150\nyou're gonna do Layer 3 switches.\n\n619\n00:32:28.150 --> 00:32:31.313\nA Layer 3 switch is a switch\nthat can route itself, right?\n\n620\n00:32:31.313 --> 00:32:33.527\nAnd let me just show you real quick,\ncuz the switch I have is Layer 3.\n\n621\n00:32:33.527 --> 00:32:39.630\nSo if I go back over to my NYCORE1 switch,\nthis guy, and get connected into it.\n\n622\n00:32:42.330 --> 00:32:45.040\nThis switch, it's probably\nturned off by default I imagine.\n\n623\n00:32:46.100 --> 00:32:48.670\nIf I do a, show ip route,\non this, it's actually turned on.\n\n624\n00:32:48.670 --> 00:32:50.030\nLet me go and turn that off, real quick.\n\n625\n00:32:50.030 --> 00:32:53.230\nSo, I'm going to do a,\nno ip routing, there, all right.\n\n626\n00:32:53.230 --> 00:32:54.240\nSo on a Layer 3 switch,\n\n627\n00:32:54.240 --> 00:32:56.570\nlayer 3 functionality is\nnormally turned off by default.\n\n628\n00:32:56.570 --> 00:32:58.035\nSo if you do a, show ip route,\n\n629\n00:32:58.035 --> 00:33:00.600\nyou'll get something like this,\ngateway is empty, right?\n\n630\n00:33:00.600 --> 00:33:03.230\nCan't get anywhere, it's just not working.\n\n631\n00:33:03.230 --> 00:33:08.540\nBut if its a Layer 3 switch, you can run,\nip routing, and that'll turn it on.\n\n632\n00:33:08.540 --> 00:33:12.640\nAnd now, if you've got IP addresses on\nyour VLAN interfaces like I do, right?\n\n633\n00:33:12.640 --> 00:33:16.550\nSo if I do a, show ip interface brief, and\n\n634\n00:33:16.550 --> 00:33:19.320\ntake a look at those VLANs\nthat are right at the top.\n\n635\n00:33:19.320 --> 00:33:23.700\nSo we assigned IP addresses to all\nof those VLAN interfaces, right?\n\n636\n00:33:23.700 --> 00:33:27.350\nSo if I turn on layer three functionality,\nas soon as that happens, I can do a,\n\n637\n00:33:27.350 --> 00:33:31.430\nshow ip route, and now I'm routing.\n\n638\n00:33:31.430 --> 00:33:33.420\nAnd if you look at the destination for\nall of these,\n\n639\n00:33:33.420 --> 00:33:35.560\nthe destination of those\nvirtual interfaces.\n\n640\n00:33:35.560 --> 00:33:37.520\nAnd those are not real\ninterfaces on the switch,\n\n641\n00:33:37.520 --> 00:33:40.030\nthey're floating on\nthe backplane of the switch.\n\n642\n00:33:40.030 --> 00:33:44.360\nAnd the backplane on your switch,\nit'll have 32 gigs of bandwidth.\n\n643\n00:33:44.360 --> 00:33:48.770\nSome of them have hundreds of gigs,\ntons of bandwidth on that backplane,\n\n644\n00:33:48.770 --> 00:33:50.520\nand that's where you're routing.\n\n645\n00:33:50.520 --> 00:33:52.530\nSo your performance goes through the roof.\n\n646\n00:33:52.530 --> 00:33:56.840\nLayer 3 routing like this on a switch\nis really awesome for VLAN routing.\n\n647\n00:33:56.840 --> 00:34:00.390\nSo when it comes to inter-VLAN routing,\nthat's normally what we're gonna use, and\n\n648\n00:34:00.390 --> 00:34:03.160\nwe'll see that in the CCNA routing and\nswitching show.\n\n649\n00:34:03.160 --> 00:34:07.130\nBut for CCENT, the only one they really\nwhat you know about are the physical\n\n650\n00:34:07.130 --> 00:34:10.073\ninterfaces, and the router on\nthe stick that we saw a moment ago.\n\n651\n00:34:10.073 --> 00:34:13.196\nI just wanted to throw this one in so\nguys knew that this is what I would do in\n\n652\n00:34:13.196 --> 00:34:15.555\nproduction versus the other\ntwo that certainly work,\n\n653\n00:34:15.555 --> 00:34:17.106\nbut aren't necessarily as ideal.\n\n654\n00:34:17.106 --> 00:34:20.980\nAll right, Ronnie that's a pretty\ngood stopping point for this one.\n\n655\n00:34:20.980 --> 00:34:24.190\nWe do need to take a look at static\nroutes and dynamic routes, and\n\n656\n00:34:24.190 --> 00:34:25.830\nhow we manipulate the routing table.\n\n657\n00:34:25.830 --> 00:34:28.880\nEverything we've seen here is pretty\nmuch the router doing it for us.\n\n658\n00:34:28.880 --> 00:34:31.200\nSo we'll get to those in\nsome upcoming episodes.\n\n659\n00:34:31.200 --> 00:34:35.670\nBut, as far as router on a stick and\njust basic interface routing, that's it.\n\n660\n00:34:35.670 --> 00:34:37.640\nAnd that's all we need to know for\nthe exam.\n\n661\n00:34:37.640 --> 00:34:38.400\n>> All right, Don.\n\n662\n00:34:38.400 --> 00:34:39.873\nWell that's a lot of material for us,\n\n663\n00:34:39.873 --> 00:34:42.160\nespecially this router on\na stick configuration.\n\n664\n00:34:42.160 --> 00:34:44.060\nIt is one of the more confusing\nthings that I learned about,\n\n665\n00:34:44.060 --> 00:34:45.014\nwhen I first started my CCNA.\n\n666\n00:34:45.014 --> 00:34:49.082\nAnd so, when you actually are taking a\nlook at it, remember that what you have to\n\n667\n00:34:49.082 --> 00:34:52.784\ndo is on the switch side, make sure\nthat end is configured as a trunk, and\n\n668\n00:34:52.784 --> 00:34:55.530\nthen the subinterface\nis on the router side.\n\n669\n00:34:55.530 --> 00:34:57.580\nBe able to take a look\nat those show commands,\n\n670\n00:34:57.580 --> 00:34:59.890\nthat Don told you about, as well.\n\n671\n00:34:59.890 --> 00:35:02.430\nYou've got to get used\nto looking at those,\n\n672\n00:35:02.430 --> 00:35:06.140\neven though we tend to run to the one\ncommand that shows everything, right?\n\n673\n00:35:06.140 --> 00:35:08.010\nShow running-config.\n\n674\n00:35:08.010 --> 00:35:11.650\nYou might find yourself, especially on the\nexam where you don't have that available.\n\n675\n00:35:11.650 --> 00:35:14.630\nSo make sure you run through some of these\nother show commands as well that will\n\n676\n00:35:14.630 --> 00:35:16.310\nshow you that same information.\n\n677\n00:35:16.310 --> 00:35:19.320\nAnd that will help get you straight when\nyou actually are there on the exam and\n\n678\n00:35:19.320 --> 00:35:20.880\nwondering, how do I verify this?\n\n679\n00:35:20.880 --> 00:35:23.550\nHow do I actually show that all these\nthings are working the way that\n\n680\n00:35:23.550 --> 00:35:24.480\nthey need to?\n\n681\n00:35:24.480 --> 00:35:27.560\nBut this is a great setup for\nus if we are building our own lab,\n\n682\n00:35:27.560 --> 00:35:31.480\nand it's a great place for\nus to also end this episode as well.\n\n683\n00:35:31.480 --> 00:35:34.177\nSo signing off for ITProTV,\nI've been your host Ronnie Wong.\n\n684\n00:35:34.177 --> 00:35:36.120\n>> And I'm Don Pezet.\n\n685\n00:35:36.120 --> 00:35:38.762\n>> Stay tuned right here for\nmore CCENT episodes.\n\n686\n00:35:38.762 --> 00:35:48.762\n[MUSIC]\n\n",
          "vimeoId": "175535447"
        },
        {
          "description": "In this episode, Ronnie and Don show how to manually configure routes that are not directly connected.  They show this configuration is great for controlling the routing table but it also drawbacks too.  These include poor scalability and unidirectional routing according according to guys.  Don also configure how to prefer one static route over another by implementing a higher administrative distance.",
          "length": "1759",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-3-3-1-static_routes-071916-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-3-3-1-static_routes-071916-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-3-3-1-static_routes-071916-1-sm.jpg",
          "title": "Static Routes",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.979 --> 00:00:15.200\nWelcome to another great\nepisode right here on IT ProTV.\n\n3\n00:00:15.200 --> 00:00:20.100\nI'm your host Ronnie Wong and you've tuned\nin to the CISCO CCENT show today and\n\n4\n00:00:20.100 --> 00:00:22.290\nwe're continuing on, well, in routing.\n\n5\n00:00:22.290 --> 00:00:25.260\nAnd who better to help us in that than Mr.\nDon Pezet himself?\n\n6\n00:00:25.260 --> 00:00:26.290\nWelcome back to our studios, Don.\n\n7\n00:00:26.290 --> 00:00:27.550\n>> Thanks for having me back, Ronnie.\n\n8\n00:00:27.550 --> 00:00:28.870\nReady to dive right back in.\n\n9\n00:00:28.870 --> 00:00:31.670\nAnd in the last couple of episodes,\nwe've been talking about routing, right.\n\n10\n00:00:31.670 --> 00:00:35.370\nWe saw a directly connected routes and\nrouter on stick and\n\n11\n00:00:35.370 --> 00:00:36.760\nfancy things like that.\n\n12\n00:00:36.760 --> 00:00:41.840\nBut what we're gonna look at now is\nactually adding routes to our router.\n\n13\n00:00:41.840 --> 00:00:43.840\nThere are routes that your router\nisn't going to know about.\n\n14\n00:00:43.840 --> 00:00:47.130\nAnd so we need to make sure that\nthe router is able to learn that,\n\n15\n00:00:47.130 --> 00:00:47.800\none way or another.\n\n16\n00:00:47.800 --> 00:00:50.030\nThe only way we've really seen\nare the directly connected routes.\n\n17\n00:00:50.030 --> 00:00:53.290\nSay if I've got a direct interface\nplugged in that's wonderful, and\n\n18\n00:00:53.290 --> 00:00:56.090\nI'm going to see and\nknow about that network.\n\n19\n00:00:56.090 --> 00:01:00.520\nBut the more routers I have and the more\nnetworks I have, the less likely I'm gonna\n\n20\n00:01:00.520 --> 00:01:04.190\nbe able to directly plug every\nrouter to every network.\n\n21\n00:01:04.190 --> 00:01:07.080\nImagine trying to have a router plugged\ninto every network across the globe\n\n22\n00:01:07.080 --> 00:01:07.760\nlike the internet is.\n\n23\n00:01:07.760 --> 00:01:09.090\nIt's just not possible.\n\n24\n00:01:09.090 --> 00:01:14.840\nSo what we need is a neighborhood\nof routers or like a mesh, right.\n\n25\n00:01:14.840 --> 00:01:19.800\nJust a bunch of routers that work\ntogether to create the whole network.\n\n26\n00:01:19.800 --> 00:01:24.640\nAnd so we've gotta have some way to let\nour router know where to get to other\n\n27\n00:01:24.640 --> 00:01:28.550\nnetworks, to be able to get there and the\nother routers they have to pass through.\n\n28\n00:01:28.550 --> 00:01:30.840\nNow, there's two primary ways to do this.\n\n29\n00:01:30.840 --> 00:01:34.510\nThere's static routing and\nthere's dynamic routing.\n\n30\n00:01:34.510 --> 00:01:38.570\nSo dynamic routing is the most popular,\nit's also the most convenient.\n\n31\n00:01:38.570 --> 00:01:39.670\nThat's where you just tell the routers,\n\n32\n00:01:39.670 --> 00:01:42.730\nhey look, I'd really love to teach\nyou the routes, but I'm kind of busy.\n\n33\n00:01:42.730 --> 00:01:45.060\nSo why don't you guys just talk\namongst yourselves, right?\n\n34\n00:01:45.060 --> 00:01:47.950\nAnd the routers will start talking to\neach other and exchanging information and\n\n35\n00:01:47.950 --> 00:01:50.730\nfiguring out the best way to\nget from point A to point B,\n\n36\n00:01:50.730 --> 00:01:52.420\nand it's all done automatically.\n\n37\n00:01:52.420 --> 00:01:53.780\nThat's kind of the way we wanna do it, and\n\n38\n00:01:53.780 --> 00:01:56.570\nthat's what we're gonna see\nin the next few episodes.\n\n39\n00:01:56.570 --> 00:01:59.530\nBut in this episode,\nwe're gonna go a little hardcore.\n\n40\n00:01:59.530 --> 00:02:01.850\nWe're gonna go with static routing.\n\n41\n00:02:01.850 --> 00:02:05.700\nStatic routing is where the router really\ndoesn't learn anything from other routers.\n\n42\n00:02:05.700 --> 00:02:07.710\nThe router learns from us.\n\n43\n00:02:07.710 --> 00:02:09.700\nWe as human beings get in there and\n\n44\n00:02:09.700 --> 00:02:13.250\nmanually tell it how to be able\nto get to a different network.\n\n45\n00:02:13.250 --> 00:02:16.590\nNow, there's pros and cons for\nthis technique, right?\n\n46\n00:02:16.590 --> 00:02:21.150\nOn the positive side it is\nthe least resource intensive.\n\n47\n00:02:21.150 --> 00:02:23.520\nWe just get in there, we tell it all\nthe routes, and that's the end of it.\n\n48\n00:02:23.520 --> 00:02:26.840\nWith a dynamic routing protocol,\nthe routers have to keep talking.\n\n49\n00:02:26.840 --> 00:02:30.610\nAnd anytime the network changes, a new\nrouter comes up, an old router fails,\n\n50\n00:02:30.610 --> 00:02:34.680\nanything changes, it's gotta rebuild\nits map, and that takes resources.\n\n51\n00:02:34.680 --> 00:02:36.020\nStatic routes don't have that.\n\n52\n00:02:36.020 --> 00:02:40.370\nWe tell it the route, and\nthat's it, that's good.\n\n53\n00:02:40.370 --> 00:02:43.310\nIt's also very easy to put in.\n\n54\n00:02:43.310 --> 00:02:45.090\nWe don't have to worry about\nit getting overwritten.\n\n55\n00:02:45.090 --> 00:02:48.140\nStatic routes are viewed\nin very high regard.\n\n56\n00:02:48.140 --> 00:02:51.440\nI know we talked about administrative\ndistance in an earlier episode.\n\n57\n00:02:51.440 --> 00:02:54.960\nMost of our dynamic routing protocols have\nadministrative distances of 90 and higher.\n\n58\n00:02:54.960 --> 00:02:55.470\nRight?\n\n59\n00:02:55.470 --> 00:02:57.380\nReally high numbers.\n\n60\n00:02:57.380 --> 00:03:02.300\nA directly connected route is\na administrative distance of zero.\n\n61\n00:03:02.300 --> 00:03:05.100\nAnd a static route has\nan administrative distance of one.\n\n62\n00:03:05.100 --> 00:03:07.620\nAnd that means a static route will\n\n63\n00:03:07.620 --> 00:03:11.960\noverride any other dynamic routes out\nthere by default, unless we mess with it.\n\n64\n00:03:11.960 --> 00:03:13.670\nIt will override the dynamic routes.\n\n65\n00:03:13.670 --> 00:03:15.550\nSo when you put a static route in,\n\n66\n00:03:15.550 --> 00:03:19.180\nyou know it's going to work\nWell within limits, right?\n\n67\n00:03:19.180 --> 00:03:20.230\nThis is where the cons come in.\n\n68\n00:03:21.300 --> 00:03:22.730\nWe get involved, humans.\n\n69\n00:03:22.730 --> 00:03:25.090\nAnd when humans get involved,\nhumans make mistakes.\n\n70\n00:03:25.090 --> 00:03:26.650\nSo they're error prone.\n\n71\n00:03:26.650 --> 00:03:28.620\nYou can put in a bad static route.\n\n72\n00:03:28.620 --> 00:03:31.080\nAnd now the router is gonna assume\nyou knew what you were doing and\n\n73\n00:03:31.080 --> 00:03:32.440\nit's gonna send traffic the wrong way.\n\n74\n00:03:32.440 --> 00:03:33.770\nSo we've gotta make sure we do it right.\n\n75\n00:03:33.770 --> 00:03:36.460\nBut I mean, you could you can make\nthat argument about any technology.\n\n76\n00:03:36.460 --> 00:03:42.130\nYou could say, I love Windows except when\nI make a mistake, then I hate Windows.\n\n77\n00:03:42.130 --> 00:03:45.100\nWell you made the mistake,\nnot necessarily Windows,\n\n78\n00:03:45.100 --> 00:03:47.510\nalthough they made plenty of\nmistakes there [LAUGH] too.\n\n79\n00:03:47.510 --> 00:03:53.980\nSo on our routers, static routing is very\nconvenient, very resource friendly, right?\n\n80\n00:03:53.980 --> 00:03:54.980\nIt really doesn't require much.\n\n81\n00:03:54.980 --> 00:03:58.870\nSo your cheap router can handle\nhundreds of static routes,\n\n82\n00:03:58.870 --> 00:04:01.880\nwhereas it wouldn't be able to handle\nthat many dynamic routes, necessarily.\n\n83\n00:04:01.880 --> 00:04:04.750\nSo making sure that we've\ngot that in place is good.\n\n84\n00:04:04.750 --> 00:04:06.510\nSome of the other negatives.\n\n85\n00:04:06.510 --> 00:04:07.670\nUpdating, right?\n\n86\n00:04:07.670 --> 00:04:11.690\nEvery time we add a new router, every time\nwe add a new route, we've gotta go and\n\n87\n00:04:11.690 --> 00:04:12.900\nplug that into our router.\n\n88\n00:04:12.900 --> 00:04:15.050\nIf we just have one router\nit's not that big of a deal.\n\n89\n00:04:15.050 --> 00:04:16.620\nBut what if you have 50 routers?\n\n90\n00:04:16.620 --> 00:04:18.320\nAnd you add a new network?\n\n91\n00:04:18.320 --> 00:04:20.990\nYou gotta go to all 50 routers and\nput that route in.\n\n92\n00:04:20.990 --> 00:04:22.250\nThat's not a lot of fun.\n\n93\n00:04:22.250 --> 00:04:26.100\nIt's a lot of manual labor to get\nout there and put those routes in.\n\n94\n00:04:26.100 --> 00:04:29.140\nSo static routes don't scale very well.\n\n95\n00:04:29.140 --> 00:04:31.640\nWe use them in small environments\nbecause they're simple.\n\n96\n00:04:31.640 --> 00:04:33.560\nYou put them in place and you're done.\n\n97\n00:04:33.560 --> 00:04:38.590\nWe also use them in environments where\nthere's only one way in, and one way out.\n\n98\n00:04:38.590 --> 00:04:39.330\nThink about your home.\n\n99\n00:04:39.330 --> 00:04:41.010\nMy home, I have a cable modem.\n\n100\n00:04:41.010 --> 00:04:43.770\nI've got cable high speed\nInternet that comes in my house,\n\n101\n00:04:43.770 --> 00:04:45.410\nthat runs through my firewall.\n\n102\n00:04:45.410 --> 00:04:48.190\nMy firewall really just\nhas two connections,\n\n103\n00:04:48.190 --> 00:04:51.920\none that points to internet and\none that points to my home network.\n\n104\n00:04:51.920 --> 00:04:57.260\nNow, if your home network is 192.168.0.0,\nlike most people's, well,\n\n105\n00:04:57.260 --> 00:05:00.270\nthat's one route and\nyou're directly connected to it.\n\n106\n00:05:00.270 --> 00:05:05.070\nThe other interface is plugged in to\nyour ISP and that's one connection,\n\n107\n00:05:05.070 --> 00:05:07.100\nright to the ISP,\nyou're directly connected to it.\n\n108\n00:05:07.100 --> 00:05:10.410\nSo you'll put in a single static route,\n\n109\n00:05:10.410 --> 00:05:14.710\nthat says send all of my traffic out\nthe the ISP, its the only other way to go,\n\n110\n00:05:14.710 --> 00:05:19.870\njust send it out there and\nget it along to that system and that's it.\n\n111\n00:05:19.870 --> 00:05:20.810\nOne route.\n\n112\n00:05:20.810 --> 00:05:23.710\nIf you only got one way in and done way\nout, that's all you need is one route in\n\n113\n00:05:23.710 --> 00:05:26.130\nyour business and\nthat's your default gateway, right.\n\n114\n00:05:26.130 --> 00:05:29.530\nYou're, well what Cisco calls,\nthe gateway of last resort.\n\n115\n00:05:29.530 --> 00:05:31.140\nSo we're gonna talk about static routes.\n\n116\n00:05:31.140 --> 00:05:33.970\nWe're also gonna talk about those default\nroutes because those are an important\n\n117\n00:05:33.970 --> 00:05:37.280\nexample of static routing, right?\n\n118\n00:05:37.280 --> 00:05:37.890\nSo enough talking.\n\n119\n00:05:37.890 --> 00:05:41.040\nLet me show you a little\ntopology that I've worked up.\n\n120\n00:05:41.040 --> 00:05:42.460\nMaybe bring this diagram up.\n\n121\n00:05:42.460 --> 00:05:43.340\nHere we go.\n\n122\n00:05:43.340 --> 00:05:46.130\nSo I've got a network topology worked\nup that looks like this, okay?\n\n123\n00:05:46.130 --> 00:05:47.920\nI've got six routers.\n\n124\n00:05:47.920 --> 00:05:53.810\nAnd router one is directly plugged\ninto the 192.168.0.0 network.\n\n125\n00:05:53.810 --> 00:05:57.110\nAnd router six is directly plugged\ninto the 172.16.0.0 network, right?\n\n126\n00:05:57.110 --> 00:06:00.230\nSo those two networks are out there.\n\n127\n00:06:00.230 --> 00:06:03.100\nBut there's a lot of other\nrouters in between them.\n\n128\n00:06:03.100 --> 00:06:06.210\nThere's actually four routers that are in\nbetween router one and router six.\n\n129\n00:06:06.210 --> 00:06:09.540\nAnd those routers have to\nget connected somehow.\n\n130\n00:06:09.540 --> 00:06:11.592\nSo there's all these other networks.\n\n131\n00:06:11.592 --> 00:06:14.127\nThere's the 192.168.1 network here, and\n\n132\n00:06:14.127 --> 00:06:17.200\nthat's actually shared\nbetween these three routers.\n\n133\n00:06:17.200 --> 00:06:20.268\nI've got the 192.168.2 network,\nthe 192.168.3 network, the four and\n\n134\n00:06:20.268 --> 00:06:20.905\nthe five network.\n\n135\n00:06:20.905 --> 00:06:22.300\nYou can start to see my pattern.\n\n136\n00:06:22.300 --> 00:06:25.225\nAll these networks are out there.\n\n137\n00:06:25.225 --> 00:06:28.536\nSo when I power on\na router like router four,\n\n138\n00:06:28.536 --> 00:06:33.140\nrouter four is directly\nplugged into 192.168.2.\n\n139\n00:06:33.140 --> 00:06:36.000\nIt's also directly plugged into 192.168.4.\n\n140\n00:06:36.000 --> 00:06:38.530\nSo it's gonna know about\nthose two networks.\n\n141\n00:06:38.530 --> 00:06:44.810\nBut it's not going to know about any of\nthe other networks that are out there.\n\n142\n00:06:44.810 --> 00:06:47.980\nSo let's take a look at just\nrouter one and router two.\n\n143\n00:06:47.980 --> 00:06:52.390\nRouter one is directly\nplugged in to 192.168.0 and\n\n144\n00:06:52.390 --> 00:06:55.260\nrouter one is directly\nplugged in to 192.168.1.0.\n\n145\n00:06:55.260 --> 00:06:59.660\nRouter two is also\nplugged into 192.168.1.0.\n\n146\n00:06:59.660 --> 00:07:03.650\nSo router two and\nrouter one can talk to each other.\n\n147\n00:07:03.650 --> 00:07:08.120\nBut router two isn't going\nto know about 192.168.0.0.\n\n148\n00:07:08.120 --> 00:07:12.740\nThat network is not going to\nshow up in its routing table.\n\n149\n00:07:12.740 --> 00:07:14.380\nSo it's not gonna know how to get there.\n\n150\n00:07:14.380 --> 00:07:17.800\nIf I want it to know how to get there,\nI'm gonna have to tell it.\n\n151\n00:07:17.800 --> 00:07:19.510\nAnd I can do that with a static route.\n\n152\n00:07:19.510 --> 00:07:20.330\nSo let see that.\n\n153\n00:07:20.330 --> 00:07:25.510\nLet me jump over to my routers and\non my routers.\n\n154\n00:07:25.510 --> 00:07:26.950\nOops, [LAUGH] there we go.\n\n155\n00:07:26.950 --> 00:07:31.720\nLet me just start here on router one and\non router one what I wanna do is\n\n156\n00:07:31.720 --> 00:07:36.610\nverify that I have the routes\nthat I'm talking about.\n\n157\n00:07:36.610 --> 00:07:38.560\nSo I'm gonna do a show\nIP interface briefly.\n\n158\n00:07:38.560 --> 00:07:43.515\nAnd I can see right here that I've got\ngigabitethernet as 0/0 on the 192.168.0\n\n159\n00:07:43.515 --> 00:07:48.420\nnetwork, and gigabitethernet at 1/0\nis on the 192.168.1 network, right?\n\n160\n00:07:48.420 --> 00:07:51.756\nSo router one knows about\nthose two networks.\n\n161\n00:07:51.756 --> 00:07:54.615\nAnd if I switch over to router two,\n\n162\n00:07:54.615 --> 00:07:59.160\non router two I can run through\nthe same basic process.\n\n163\n00:08:00.730 --> 00:08:02.450\nI'll do a show ip interface brief.\n\n164\n00:08:04.820 --> 00:08:10.054\nAnd I can see that it's got\nGigabitEthernet1/0 is 192.168.1.\n\n165\n00:08:10.054 --> 00:08:13.320\nAnd GigabitEthernet2/0's\n192.168.2 is a different network,\n\n166\n00:08:13.320 --> 00:08:15.540\nI don't really care about that one.\n\n167\n00:08:15.540 --> 00:08:20.540\nNow, I don't see 192.168.0.0,\nI don't see that network in here.\n\n168\n00:08:20.540 --> 00:08:25.720\nAnd if I do a show ip route, and\nlook at the routes that I've learned.\n\n169\n00:08:25.720 --> 00:08:27.425\nI don't see it there either, all right.\n\n170\n00:08:27.425 --> 00:08:30.844\nI only see my directly connected routes\nlike we saw in the last episode.\n\n171\n00:08:30.844 --> 00:08:35.980\nSo what do I need to do to make it\nwhere I can see those other routes?\n\n172\n00:08:35.980 --> 00:08:37.900\nI can teach it the route.\n\n173\n00:08:37.900 --> 00:08:39.350\nI need to know how to get there.\n\n174\n00:08:39.350 --> 00:08:44.140\nHow am I gonna get from this\nrouter to that other network?\n\n175\n00:08:44.140 --> 00:08:47.029\nWell, if I go back to my topology,\n\n176\n00:08:47.029 --> 00:08:52.124\nrouter 2 is plugged into\nthe 192.168.1 network.\n\n177\n00:08:52.124 --> 00:08:55.860\nIt could go to router 1 and get there.\n\n178\n00:08:55.860 --> 00:08:58.760\nAll right now,\nhow are we gonna find router 1?\n\n179\n00:08:58.760 --> 00:09:00.203\nThere's two different ways to do it.\n\n180\n00:09:00.203 --> 00:09:04.997\nOn a multi-access network like this\none where I've got multiple nodes,\n\n181\n00:09:04.997 --> 00:09:08.020\nwe normally do it based on IP address.\n\n182\n00:09:08.020 --> 00:09:12.610\nI can tell router 2, any traffic that\nyou receive for the 192.168.0.0 network,\n\n183\n00:09:12.610 --> 00:09:16.740\nsend it to router 1's IP address,\nall right?\n\n184\n00:09:16.740 --> 00:09:17.875\nSo send it over to router 1.\n\n185\n00:09:19.140 --> 00:09:21.065\nIf it's a point-to-point network though,\n\n186\n00:09:21.065 --> 00:09:23.600\nif I have a network like here\nbetween router 2 and router 4.\n\n187\n00:09:23.600 --> 00:09:26.770\nSee how there's just a single link there\nand there's only two routers on that link?\n\n188\n00:09:27.770 --> 00:09:30.380\nIf that's the case,\non router 2 I could say hey,\n\n189\n00:09:30.380 --> 00:09:31.950\nany traffic you receive on that network.\n\n190\n00:09:31.950 --> 00:09:33.629\nSend it out this interface.\n\n191\n00:09:33.629 --> 00:09:34.530\nJust throw it out the interface.\n\n192\n00:09:35.640 --> 00:09:38.650\nAnd by doing that, there's only one person\non the other end of that interface.\n\n193\n00:09:38.650 --> 00:09:40.050\nAnd we can get over there and\n\n194\n00:09:40.050 --> 00:09:42.670\nwe don't necessarily have to know\nthe IP of the person on the other end.\n\n195\n00:09:42.670 --> 00:09:44.930\nThat only works on point-to-point links.\n\n196\n00:09:44.930 --> 00:09:46.270\nBecause if it's a multi point leaf.\n\n197\n00:09:46.270 --> 00:09:47.780\nIf it's like this one down here.\n\n198\n00:09:47.780 --> 00:09:50.861\nIf router 2 is sent out this interface,\nhow would it know which to go to,\n\n199\n00:09:50.861 --> 00:09:52.470\nrouter 3 or router 1?\n\n200\n00:09:52.470 --> 00:09:53.660\nIt wouldn't, right?\n\n201\n00:09:53.660 --> 00:09:58.700\nSo on a point to point interface, we can\nsend routed traffic to the interface.\n\n202\n00:09:58.700 --> 00:10:01.170\nBut on any other network,\nwe need to send our routed traffic\n\n203\n00:10:01.170 --> 00:10:05.140\nto an IP address of the router that's\ngonna get us to the destination.\n\n204\n00:10:05.140 --> 00:10:10.880\nSo in my scenario, router 2 needs to\nget that traffic over to router 1.\n\n205\n00:10:10.880 --> 00:10:14.200\nAnd if it's going to do that, it needs\nto do it by router 1's IP address.\n\n206\n00:10:14.200 --> 00:10:15.770\nSo I need to know router 1's IP address.\n\n207\n00:10:15.770 --> 00:10:19.120\nNow, router 1 has two\ndifferent IP addresses.\n\n208\n00:10:19.120 --> 00:10:21.652\nIt has 192..168.0.1, and\n\n209\n00:10:21.652 --> 00:10:26.645\nit has 192.168.1.1,\nit's plugged into two different networks.\n\n210\n00:10:26.645 --> 00:10:30.209\nI have to make sure I use an IP\naddress that I can reach.\n\n211\n00:10:30.209 --> 00:10:34.947\nI can't get to 192.168.0.1.\n\n212\n00:10:34.947 --> 00:10:38.640\nIf I try and ping it I don't have a route,\nthat's the whole problem, right.\n\n213\n00:10:38.640 --> 00:10:41.791\nSo I can’t use that IP,\nit's just not gonna get me there.\n\n214\n00:10:41.791 --> 00:10:45.645\nAll right, but\nit has an IP on 192.168.1 and\n\n215\n00:10:45.645 --> 00:10:51.482\nI have an IP on 192.168.1, so\nthat's a network we can communicate on.\n\n216\n00:10:51.482 --> 00:10:53.058\nAnd if I just test that out,\n\n217\n00:10:53.058 --> 00:10:58.219\nI should be able to ping that router on\nthe 192.168.1 network, and there we go.\n\n218\n00:10:58.219 --> 00:10:59.409\nSee how I ping it.\n\n219\n00:10:59.409 --> 00:11:02.511\nSo all I need to do is get a route thrown\nin my routing table that it will tell us\n\n220\n00:11:02.511 --> 00:11:04.130\nhow to get to that network.\n\n221\n00:11:04.130 --> 00:11:08.570\nAnd if we jump into our configuration,\nthe command to do that is really easy.\n\n222\n00:11:08.570 --> 00:11:10.765\nAll we have to do is say, ip route and\n\n223\n00:11:10.765 --> 00:11:13.631\nthen the network that we\nwanna add a route for.\n\n224\n00:11:13.631 --> 00:11:17.220\nIn my case, it's the 192.168.0.0 network.\n\n225\n00:11:18.380 --> 00:11:20.620\nAnd then I need to\nprovide the subnet mask.\n\n226\n00:11:20.620 --> 00:11:23.969\nAnd the subnet mask is just\nwritten in normal notation, so,\n\n227\n00:11:23.969 --> 00:11:28.320\nthe dotted decimal notation\n255.255.255.0 for this network.\n\n228\n00:11:28.320 --> 00:11:30.020\nAnd then, I need to tell it, where to go?\n\n229\n00:11:31.040 --> 00:11:33.470\nThis is the network, how do I get there?\n\n230\n00:11:33.470 --> 00:11:38.270\nNow, if, this was a point to point link,\nI can specify an interface.\n\n231\n00:11:38.270 --> 00:11:42.871\nSee all these links here, I could point\nit to a fast ethernet, or an ethernet,\n\n232\n00:11:42.871 --> 00:11:47.754\ngigabit ethernet, whatever it is that I\nwanna point to and get it forwarded along,\n\n233\n00:11:47.754 --> 00:11:48.274\nright.\n\n234\n00:11:48.274 --> 00:11:52.500\nOr I could send it to an IP address.\n\n235\n00:11:52.500 --> 00:11:55.082\nAnd that's what you are gonna be doing,\nnine times out of ten,\n\n236\n00:11:55.082 --> 00:11:58.580\nunless it's a point to point link, you are\ngoing to be sending it to an IP address.\n\n237\n00:11:58.580 --> 00:12:03.443\nAnd so, I'm gonna take mine and I'm gonna\nadd in the IP address to that router,\n\n238\n00:12:03.443 --> 00:12:08.036\n192.168.1.1, all right,\nthat was the IP that I could reach.\n\n239\n00:12:08.036 --> 00:12:13.323\nIf I put in 0.1, I can't route a network\nto a gateway that's in that same network,\n\n240\n00:12:13.323 --> 00:12:16.420\ncuz I can't get to the network\nin the first place.\n\n241\n00:12:16.420 --> 00:12:17.790\nRight, so that wouldn't work.\n\n242\n00:12:17.790 --> 00:12:20.730\nI've gotta use the IP that\nI can actually get to.\n\n243\n00:12:20.730 --> 00:12:24.320\nOnce that's in place,\nwe can verify it by doing show ip route.\n\n244\n00:12:25.380 --> 00:12:29.750\nAnd when you look at your routing table,\nyou should have a new route in there.\n\n245\n00:12:29.750 --> 00:12:32.620\nAnd I can see,\nI've got a static right here.\n\n246\n00:12:32.620 --> 00:12:34.460\nNotice my directly connected ones.\n\n247\n00:12:34.460 --> 00:12:38.044\nThe directly connected ones will\nhave a network like 192.168.1.0.\n\n248\n00:12:38.044 --> 00:12:40.954\nAnd see how it says is directly connected,\nand\n\n249\n00:12:40.954 --> 00:12:44.290\nI can get to it via GigabitEthernet1/0.\n\n250\n00:12:44.290 --> 00:12:48.382\nAll right, so\nI'm routing that traffic out an interface.\n\n251\n00:12:48.382 --> 00:12:50.548\nBut the one that I just put it in,\n\n252\n00:12:50.548 --> 00:12:55.400\n192.168.0.0 says that I\ncan get to it via an IP.\n\n253\n00:12:55.400 --> 00:13:00.626\nRight, I need to send\nthe traffic to that router\n\n254\n00:13:00.626 --> 00:13:05.076\nif I wanna be able to get to that network.\n\n255\n00:13:05.076 --> 00:13:07.330\nAll right, and if we test that out,\nthat should work.\n\n256\n00:13:07.330 --> 00:13:10.900\nI try and ping 192.168.0.1,\nI couldn't ping that a moment ago, and\n\n257\n00:13:10.900 --> 00:13:15.020\nnow I can because now I\nknow a route to get there.\n\n258\n00:13:16.250 --> 00:13:19.510\nNow, on the exam,\nlet me just show you a quick little trick.\n\n259\n00:13:19.510 --> 00:13:23.590\nShow ip route is nice cuz you can look at\nthe routing table and you can see things,\n\n260\n00:13:23.590 --> 00:13:28.550\nbut the more complex the network, the\nbigger that routing table is going to get.\n\n261\n00:13:28.550 --> 00:13:32.850\nSo, maybe not on a CCNT,\nas we moving like CCNP on a higher levels,\n\n262\n00:13:32.850 --> 00:13:35.480\nyou have hundreds or\neven thousands of routes.\n\n263\n00:13:35.480 --> 00:13:39.087\nSo, to save a little time, what you\ncan do is you can say show ip route,\n\n264\n00:13:39.087 --> 00:13:43.730\nand then you can type in the networker\nIP that you are trying to get to.\n\n265\n00:13:43.730 --> 00:13:47.870\nAnd by doing that, it will show you\njust the route that you're looking for.\n\n266\n00:13:47.870 --> 00:13:51.230\nAnd so,\nI can see that I have a static route\n\n267\n00:13:51.230 --> 00:13:55.160\nthat's pointing to that network via\n192.168.1.1, so I can see it right there.\n\n268\n00:13:57.000 --> 00:13:59.750\nNow, let's say I had\na point to point link.\n\n269\n00:13:59.750 --> 00:14:04.349\nIf I go back to my topology, I have\na point to point link between router 2 and\n\n270\n00:14:04.349 --> 00:14:05.083\nrouter 4.\n\n271\n00:14:05.083 --> 00:14:09.690\nRouter 4 knows about the 192.168.4\nnetwork, router 2 doesn't.\n\n272\n00:14:09.690 --> 00:14:11.670\nSo if I want router 2 to be\nable to get to that network,\n\n273\n00:14:11.670 --> 00:14:14.920\nI'm going to need to\nput in a static route.\n\n274\n00:14:14.920 --> 00:14:18.420\nOkay, now when I do that,\nif this were a point to point link,\n\n275\n00:14:18.420 --> 00:14:20.430\nI could just point it to the interface.\n\n276\n00:14:20.430 --> 00:14:23.530\nNow point to point links are typically\nserial interfaces like T1s,\n\n277\n00:14:23.530 --> 00:14:25.410\nright frame relay, that kind of thing.\n\n278\n00:14:25.410 --> 00:14:27.070\nMine's an ethernet interface.\n\n279\n00:14:27.070 --> 00:14:29.630\nEthernet is not normally point to point.\n\n280\n00:14:29.630 --> 00:14:32.980\nEthernet is a multi-access\nnetwork just by default.\n\n281\n00:14:32.980 --> 00:14:37.510\nBut if you've run a crossover cable and it\nis a point to point, you still can do it.\n\n282\n00:14:37.510 --> 00:14:39.580\nYou can route that traffic\nout of that interface.\n\n283\n00:14:39.580 --> 00:14:42.700\nSo if I take router 2 and go and\n\n284\n00:14:42.700 --> 00:14:47.680\nadd that other route and just point it to\nthat interface we can achieve our goal.\n\n285\n00:14:47.680 --> 00:14:53.090\nSo when I look at my interfaces I can\n\n286\n00:14:53.090 --> 00:14:58.130\nsee that I've got 192.168.1,\nwhich is pointing towards router 1.\n\n287\n00:14:58.130 --> 00:15:02.250\nAnd I've got 192.168.2 that's\npointing over towards router 4.\n\n288\n00:15:02.250 --> 00:15:07.660\nAnd so I could get into my configuration\nand say ip route 192.168.4.0 with that\n\n289\n00:15:07.660 --> 00:15:13.300\nclass C mask that we've been using,\nand then I can tell it, hey,\n\n290\n00:15:13.300 --> 00:15:19.640\nwhen you wanna get to that one,\nyou need to go out, interface GI/0.\n\n291\n00:15:19.640 --> 00:15:22.790\nI am not giving it an IP address to go to.\n\n292\n00:15:22.790 --> 00:15:24.795\nI am giving it an interface.\n\n293\n00:15:24.795 --> 00:15:27.635\nI am saying send the traffic\nout that interface.\n\n294\n00:15:27.635 --> 00:15:30.910\nAnd on a point to point link there is\nonly one other person on the other side.\n\n295\n00:15:30.910 --> 00:15:33.530\nThey're going to get that traffic.\n\n296\n00:15:33.530 --> 00:15:38.012\nAnd when I look at my routing table,\nit's not gonna look too much different.\n\n297\n00:15:38.012 --> 00:15:44.619\nSee right here, I have got the 192.168.0\nand it says via 192.168.1.1.\n\n298\n00:15:44.619 --> 00:15:49.919\nBut 192.168.4 shows as directly connected.\n\n299\n00:15:49.919 --> 00:15:51.562\nGigabitEthernet2/0.\n\n300\n00:15:51.562 --> 00:15:53.165\nIt's a point-to-point link.\n\n301\n00:15:53.165 --> 00:15:55.890\nSo it's showing it as if\nit were directly connected.\n\n302\n00:15:55.890 --> 00:15:57.760\nWe're directly plugged\ninto the other node.\n\n303\n00:15:57.760 --> 00:16:01.840\nBut I'm now routing with a destination\nof an interface instead of an IP.\n\n304\n00:16:01.840 --> 00:16:05.960\nAnd if I were to try and\nping across to that network it may or\n\n305\n00:16:05.960 --> 00:16:07.960\nmay not work since I didn't\ntest it before hand.\n\n306\n00:16:07.960 --> 00:16:10.050\nBut it's gonna try and\nsend that across the line.\n\n307\n00:16:10.050 --> 00:16:12.460\nI say it may not work because\nit is an ethernet network.\n\n308\n00:16:12.460 --> 00:16:15.210\nAnd on an ethernet network\nyou have more than one node.\n\n309\n00:16:15.210 --> 00:16:18.150\nSo if it were a serial network\nthen it would go across just fine.\n\n310\n00:16:18.150 --> 00:16:21.100\nYeah, in this case it's\nnot making it across.\n\n311\n00:16:21.100 --> 00:16:24.820\nThere's also a few other things to\nthink about when we set this up.\n\n312\n00:16:24.820 --> 00:16:28.230\nWhen I start sending\nthe traffic across the line.\n\n313\n00:16:28.230 --> 00:16:31.050\nI need to worry about\nthe return trip also.\n\n314\n00:16:31.050 --> 00:16:35.280\nThe person on the other end doesn't\nnecessarily know how to make it back\n\n315\n00:16:35.280 --> 00:16:36.790\nto us right.\n\n316\n00:16:36.790 --> 00:16:39.210\nRoutes always have two directions.\n\n317\n00:16:39.210 --> 00:16:41.074\nSo for example let's say.\n\n318\n00:16:41.074 --> 00:16:46.058\nWell, let me get my topology back up and\nI'll show you what I mean.\n\n319\n00:16:46.058 --> 00:16:49.308\nSo if we take a look at the topology, and\nlet's see where that traffic just went.\n\n320\n00:16:49.308 --> 00:16:55.728\nRouter two has an IP of 192.168.2.2\nright here on this interface Gi2/0.\n\n321\n00:16:55.728 --> 00:17:00.806\nAnd router four has an IP of\n192.168.2.4 right here on Gi2/0.\n\n322\n00:17:00.806 --> 00:17:02.412\nSo obviously we're gonna\nbe able to ping there.\n\n323\n00:17:02.412 --> 00:17:03.808\nIt's the same network.\n\n324\n00:17:03.808 --> 00:17:09.390\nThen router four has 192.168.4.4\nover here on this interface.\n\n325\n00:17:09.390 --> 00:17:14.470\nSo my traffic left router two, crossed\nover to router four on this interface,\n\n326\n00:17:14.470 --> 00:17:19.730\njumped over to the other interface to hit\nits target, and that was router four.\n\n327\n00:17:19.730 --> 00:17:22.140\nRouter four knows about these\ntwo different networks, right,\n\n328\n00:17:22.140 --> 00:17:26.050\nbecause router four is plugged\ndirectly into both of those networks.\n\n329\n00:17:26.050 --> 00:17:30.740\nAnd so router four was able to then\nreply back, and get the message to me.\n\n330\n00:17:30.740 --> 00:17:35.694\nRouter six is also on\nthe 192.168.4 network.\n\n331\n00:17:35.694 --> 00:17:39.300\nSo, router six is plugged right in\nthere right alongside router four.\n\n332\n00:17:39.300 --> 00:17:45.370\nNow, the thing is router six doesn't\nknow about the 192.168.2 network.\n\n333\n00:17:45.370 --> 00:17:51.070\nSo watch what happens if I try and\nping all the way across to that.\n\n334\n00:17:51.070 --> 00:17:54.384\nI was able to ping 192.168.4.4.\n\n335\n00:17:54.384 --> 00:17:55.656\nThat's router four.\n\n336\n00:17:55.656 --> 00:17:58.734\nIf I try and ping 192.168.4.6.\n\n337\n00:17:58.734 --> 00:18:01.010\nthat's router six.\n\n338\n00:18:01.010 --> 00:18:05.900\nNow, I already know that I can\nget the 192.168.4 network, but\n\n339\n00:18:05.900 --> 00:18:08.240\nthis is failing, right?\n\n340\n00:18:08.240 --> 00:18:11.180\nWhy?\nI know I can get to that network, right?\n\n341\n00:18:11.180 --> 00:18:15.060\nThe problem is I'm not just\ngetting to the network.\n\n342\n00:18:15.060 --> 00:18:18.010\nI'm passing through the network, and\nwhen I pass through the network.\n\n343\n00:18:18.010 --> 00:18:19.780\nThat means I'm moving\nbeyond the gateway for\n\n344\n00:18:19.780 --> 00:18:23.950\nthat network, and all the nodes\nthat are behind that network.\n\n345\n00:18:23.950 --> 00:18:29.170\nAll of the work stations,\nthe laptops, printers, other routers.\n\n346\n00:18:29.170 --> 00:18:30.560\nThey need to know how to get back.\n\n347\n00:18:30.560 --> 00:18:33.080\nThey need to know how to\nmake the return trip.\n\n348\n00:18:33.080 --> 00:18:37.740\nSo my traffic makes it all the way\nover to that other router.\n\n349\n00:18:37.740 --> 00:18:39.840\nIt passes across that line.\n\n350\n00:18:39.840 --> 00:18:42.660\nIt makes it all the way to the other\nrouter, and the router receives it.\n\n351\n00:18:42.660 --> 00:18:45.100\nIt's getting my ping, and then it says.\n\n352\n00:18:45.100 --> 00:18:45.860\nOkay, I need to reply.\n\n353\n00:18:46.926 --> 00:18:48.182\nI don't know how to get back to that guy.\n\n354\n00:18:48.182 --> 00:18:50.846\nIf we look at router six's routing table.\n\n355\n00:18:50.846 --> 00:18:57.748\nSo if we jump over to router six,\nand do a show ip route on this one.\n\n356\n00:18:57.748 --> 00:19:02.920\nWe'll see that it's completely\nmissing that route.\n\n357\n00:19:02.920 --> 00:19:06.650\nSo when I pull up the show ip route here,\nany moment now.\n\n358\n00:19:07.930 --> 00:19:09.320\nYou know what?\nI might have disconnected.\n\n359\n00:19:09.320 --> 00:19:09.820\nLet me reconnect.\n\n360\n00:19:09.820 --> 00:19:10.725\nThere we go.\n\n361\n00:19:10.725 --> 00:19:14.500\nAll right, so when I pull up its routing\ntable, it's got a lot of routes.\n\n362\n00:19:14.500 --> 00:19:20.514\nIt's got the 192.168.4 network, but\nit doesn't have the 192.168.2 network.\n\n363\n00:19:20.514 --> 00:19:22.688\nSo it doesn't know the return trip.\n\n364\n00:19:22.688 --> 00:19:27.308\nSo I've gotta get in here,\nand teach it the return trip.\n\n365\n00:19:27.308 --> 00:19:33.319\nI've gotta come in and\nsay, ip route 192.168.2.0.\n\n366\n00:19:33.319 --> 00:19:36.500\nI have to tell it where this\ntraffic is coming from, and\n\n367\n00:19:36.500 --> 00:19:38.722\nthen I need to tell it how to get there.\n\n368\n00:19:38.722 --> 00:19:44.174\nAnd router six can get there by passing\nthrough router two, router four.\n\n369\n00:19:44.174 --> 00:19:48.524\nSo I'm gonna punch in 192.168.4.4.\n\n370\n00:19:48.524 --> 00:19:52.182\nThat's the ip address of router four\non a network that I know about.\n\n371\n00:19:52.182 --> 00:19:53.760\nOn a network that I can reach.\n\n372\n00:19:53.760 --> 00:19:59.130\nThe router has to have path to get to\nthis gateway, or it's not going to work.\n\n373\n00:19:59.130 --> 00:20:03.400\nNow once I've got that in,\nI can do show ip route.\n\n374\n00:20:03.400 --> 00:20:06.890\nAnd now I've got a route\nin my routing table for\n\n375\n00:20:06.890 --> 00:20:11.700\nthe 192.168.2 network right there and\nI can get to it.\n\n376\n00:20:11.700 --> 00:20:20.380\nSo now if I jump back over to router two,\non router two I can retry that ping.\n\n377\n00:20:20.380 --> 00:20:22.540\nAnd a moment ago it failed completely.\n\n378\n00:20:22.540 --> 00:20:24.360\nNow it succeeds completely.\n\n379\n00:20:24.360 --> 00:20:27.940\nI've accounted for\nboth paths of the journey all right.\n\n380\n00:20:27.940 --> 00:20:31.230\nNow hopefully you can start to see right\nthere the challenge that comes up with\n\n381\n00:20:31.230 --> 00:20:32.070\nstatic routes.\n\n382\n00:20:32.070 --> 00:20:33.400\nStatic routes work, right.\n\n383\n00:20:33.400 --> 00:20:36.090\nMy network is now routing, that's great.\n\n384\n00:20:36.090 --> 00:20:38.736\nBut those are the routes I had to\nput in just to get this leg of\n\n385\n00:20:38.736 --> 00:20:39.768\nthe journey working.\n\n386\n00:20:39.768 --> 00:20:43.195\nI would have to continue to teach\nthe router about any network it wasn't\n\n387\n00:20:43.195 --> 00:20:43.947\nplugged into.\n\n388\n00:20:43.947 --> 00:20:47.360\nSo router six,\nI would have to add routes for\n\n389\n00:20:47.360 --> 00:20:51.798\n192.168.2, 192.168.3.1.0.\n\n390\n00:20:51.798 --> 00:20:57.015\nI would have to add all these routes,\nand when I had them all punched in.\n\n391\n00:20:57.015 --> 00:20:59.740\nThen, it would know the way to go.\n\n392\n00:20:59.740 --> 00:21:02.101\nWell I might have to punch some in twice,\n\n393\n00:21:02.101 --> 00:21:05.794\nbecause I have more than one path\nto get to the network, right?\n\n394\n00:21:05.794 --> 00:21:09.693\nRouter six,\nif it needs to get to 192.168.0.0.\n\n395\n00:21:09.693 --> 00:21:11.270\nIt could go two different ways.\n\n396\n00:21:11.270 --> 00:21:14.860\nIt could go across the top, or\nit could go across the bottom.\n\n397\n00:21:14.860 --> 00:21:17.680\nSo it could go via router five,\nor it could go via router four.\n\n398\n00:21:17.680 --> 00:21:20.080\nEither one Could get it to that network.\n\n399\n00:21:21.540 --> 00:21:23.690\nSo, how do we handle that?\n\n400\n00:21:23.690 --> 00:21:24.830\nYou can add two routes.\n\n401\n00:21:24.830 --> 00:21:25.505\nIt does something kind of neat.\n\n402\n00:21:25.505 --> 00:21:26.454\nLet me show you what it does.\n\n403\n00:21:26.454 --> 00:21:30.053\nSo, I'm gonna jump over to that router,\nrouter six and\n\n404\n00:21:30.053 --> 00:21:32.436\nwe're gonna add two static routes.\n\n405\n00:21:32.436 --> 00:21:36.456\nSo I'm gonna jump into configure terminal,\nand\n\n406\n00:21:36.456 --> 00:21:43.235\nI'm gonna say ip route\n192.168.0.0 255.255.255.0.\n\n407\n00:21:43.235 --> 00:21:47.865\nWhoops, that is a whole lot of 255s, and\nthen I'm gonna tell it how to get there.\n\n408\n00:21:47.865 --> 00:21:50.726\nI'm gonna tell it that it can\nget there via router four.\n\n409\n00:21:50.726 --> 00:21:54.939\nSo that's 192.168.4.4, I'll put that in.\n\n410\n00:21:54.939 --> 00:21:59.389\nAnd then I'm gonna tell it it can\nget to this same network via 5.5,\n\n411\n00:21:59.389 --> 00:22:01.092\nvia router five, right.\n\n412\n00:22:01.092 --> 00:22:06.460\nI now have two routes to 192.168.0.0.\n\n413\n00:22:06.460 --> 00:22:10.220\nAnd if I do a show ip route, and\ntake a look at my routing table.\n\n414\n00:22:10.220 --> 00:22:11.550\nLook what happened.\n\n415\n00:22:11.550 --> 00:22:14.390\nThey both made it into the routing table.\n\n416\n00:22:14.390 --> 00:22:16.850\nI have two routes to get there.\n\n417\n00:22:16.850 --> 00:22:18.420\nSo what happens now?\n\n418\n00:22:19.750 --> 00:22:21.226\nNow it's kind of neat.\n\n419\n00:22:21.226 --> 00:22:23.818\nCisco routers have a technology\nin the background called\n\n420\n00:22:23.818 --> 00:22:25.117\nCisco Express Forwarding.\n\n421\n00:22:25.117 --> 00:22:28.195\nIt's CEF, you might have seen\nit in the configuration.\n\n422\n00:22:28.195 --> 00:22:30.165\nLet me see if it shows up.\n\n423\n00:22:30.165 --> 00:22:32.065\nIt's usually on by default.\n\n424\n00:22:32.065 --> 00:22:34.585\nSo when you take a look at your\nrunning configuration on your router,\n\n425\n00:22:34.585 --> 00:22:37.915\na lot of times you'll spot a line\nin here that'll say ip cef.\n\n426\n00:22:39.635 --> 00:22:40.985\nRight here, ip cef.\n\n427\n00:22:40.985 --> 00:22:42.725\nAll right.\nIt's actually turned off for ipv6 but\n\n428\n00:22:42.725 --> 00:22:44.425\nit's on for ip.\n\n429\n00:22:44.425 --> 00:22:47.115\nSo ip cef, Cisco Express Forwarding.\n\n430\n00:22:47.115 --> 00:22:50.600\nWhat it's doing is it's saying hey,\nif I have two routes to get somewhere.\n\n431\n00:22:50.600 --> 00:22:52.290\nI'm gonna load balance.\n\n432\n00:22:52.290 --> 00:22:55.780\nI'm gonna load balance my traffic to\nincrease performance and reliability and\n\n433\n00:22:55.780 --> 00:22:57.190\nredundancy and all that other magic.\n\n434\n00:22:57.190 --> 00:23:01.080\nIt's gonna take advantage of what you've\ngot and that may be what you want, or\n\n435\n00:23:01.080 --> 00:23:02.490\nit may not be what you want.\n\n436\n00:23:02.490 --> 00:23:05.270\nBecause your topology might be special.\n\n437\n00:23:05.270 --> 00:23:07.170\nRight, everybody's special.\n\n438\n00:23:07.170 --> 00:23:08.870\nSo, your,\n[LAUGH] topology might be special.\n\n439\n00:23:08.870 --> 00:23:13.480\nIn other words up top, this might be\na 100 megabit link but across the bottom,\n\n440\n00:23:13.480 --> 00:23:15.700\nit might be a 1.5 megabit T1.\n\n441\n00:23:15.700 --> 00:23:18.410\nSo, it might be a slower\nconnection on the bottom route,\n\n442\n00:23:18.410 --> 00:23:21.560\na faster connection on the top route,\nso, I've got a preference.\n\n443\n00:23:21.560 --> 00:23:24.340\nI prefer the top route\nover the bottom route.\n\n444\n00:23:24.340 --> 00:23:25.600\nSo when you put static routes in,\n\n445\n00:23:25.600 --> 00:23:28.580\nif you put more than one route\nto the same destination.\n\n446\n00:23:28.580 --> 00:23:30.910\nIt's normally a good idea\nto put a metric on there.\n\n447\n00:23:30.910 --> 00:23:33.430\nTechnically static routes\ndon't have metrics, right.\n\n448\n00:23:33.430 --> 00:23:35.870\nWhen I look at router six's routing table.\n\n449\n00:23:35.870 --> 00:23:39.530\nSo let's just get back into good old\nrouter six and do a show ip route.\n\n450\n00:23:40.600 --> 00:23:42.296\nThere we go.\nThat when you look at it,\n\n451\n00:23:42.296 --> 00:23:45.041\nsee these numbers that\nare in the square brackets?\n\n452\n00:23:45.041 --> 00:23:46.735\nThat's two different things.\n\n453\n00:23:46.735 --> 00:23:49.831\nThe number on the left that's\nmy administrative distance.\n\n454\n00:23:49.831 --> 00:23:54.085\nRemember, directly connected routes\nhave an administrative distance of 0,\n\n455\n00:23:54.085 --> 00:23:55.420\nstatics have an AD of 1.\n\n456\n00:23:55.420 --> 00:24:01.300\nEIGRP is 90, OSPF is 110, RIP is 120,\nthose are all administrative distances.\n\n457\n00:24:01.300 --> 00:24:03.370\nAnd so that first number is\nthe administrative distance.\n\n458\n00:24:03.370 --> 00:24:06.530\nAll my static routes have an AD of 1, and\n\n459\n00:24:06.530 --> 00:24:09.200\nthat's normally how you're gonna leave it,\nright?\n\n460\n00:24:09.200 --> 00:24:11.400\nThe second number is my metric.\n\n461\n00:24:11.400 --> 00:24:14.420\nRemember when we talked about distance\nfactor protocols, and how hop\n\n462\n00:24:14.420 --> 00:24:18.750\ncount as a metric, or link state protocols\nand how they use bandwidth as a metric?\n\n463\n00:24:18.750 --> 00:24:21.300\nHere there is no metric, it's just 0.\n\n464\n00:24:21.300 --> 00:24:25.220\nSo these two routes both have a metric of\n0, and they both have an administrative\n\n465\n00:24:25.220 --> 00:24:27.570\ndistance of 1, and\nthey both point to the same network.\n\n466\n00:24:27.570 --> 00:24:31.360\nThat is a three way tie,\nthey both make it into the routing table.\n\n467\n00:24:31.360 --> 00:24:32.849\nBut it doesn't have to be that way.\n\n468\n00:24:32.849 --> 00:24:36.583\nI could take one of those routes and\nadjust it.\n\n469\n00:24:36.583 --> 00:24:41.570\nSo I'm gonna remove one of those routes,\nI'll remove the route to 5.5, okay?\n\n470\n00:24:41.570 --> 00:24:44.412\nSo I'm just gonna run the same command and\nstick the word no before it.\n\n471\n00:24:44.412 --> 00:24:46.579\nAnd I'm gonna put the route back in.\n\n472\n00:24:46.579 --> 00:24:49.889\nBut instead of pressing Enter, and\nmy head's gonna cover this one up.\n\n473\n00:24:49.889 --> 00:24:53.108\nBut if I do a little question mark here,\n\n474\n00:24:53.108 --> 00:24:58.490\nyou'll see where I can add a distance\nmetric to the route, okay?\n\n475\n00:24:58.490 --> 00:25:00.416\nNow, what is a distance metric?\n\n476\n00:25:00.416 --> 00:25:02.796\nWell, that's measuring\nthe distance to the destination.\n\n477\n00:25:02.796 --> 00:25:07.677\nAnd this allows me to stick a little bit\nof preference onto what we're about to do.\n\n478\n00:25:07.677 --> 00:25:10.944\nAnd so, I can pick a number,\nany number between 1 and 255.\n\n479\n00:25:10.944 --> 00:25:12.797\nI'm gonna pick 2, right?\n\n480\n00:25:12.797 --> 00:25:16.352\nSo I'm gonna pop in the number 2,\nand I'll press Enter on that.\n\n481\n00:25:16.352 --> 00:25:23.763\nSo the full command reads #ip route\n192.168.0.0 255.255.255.0 and\n\n482\n00:25:23.763 --> 00:25:28.897\nthen the destination of 192.168.5.5,\nand then a 2.\n\n483\n00:25:28.897 --> 00:25:30.982\nThat's the metric that I'm adding onto it.\n\n484\n00:25:30.982 --> 00:25:36.639\nAnd now when I do a show ip route I\ncan take a look at my routing table.\n\n485\n00:25:36.639 --> 00:25:43.864\nAnd what I'll see in here is\nthe routes to get to 192.168.0.0.\n\n486\n00:25:43.864 --> 00:25:46.952\nWell not the routes, I see the route,\nI only see one, okay?\n\n487\n00:25:46.952 --> 00:25:50.551\nI only see one,\nbecause this is the best route, and\n\n488\n00:25:50.551 --> 00:25:54.590\nonly the best route makes\nit into the routing table.\n\n489\n00:25:54.590 --> 00:25:57.220\nThe other route is no longer the best.\n\n490\n00:25:57.220 --> 00:26:01.329\nAnd because it's not the best,\nit disappears, right?\n\n491\n00:26:01.329 --> 00:26:03.862\nNow, it doesn't mean it's gone forever,\nit'll come back.\n\n492\n00:26:03.862 --> 00:26:08.074\nSee how this one says you\ncan get to 192.168.0.0 by\n\n493\n00:26:08.074 --> 00:26:11.559\ngoing through 192.168.4.4, right?\n\n494\n00:26:11.559 --> 00:26:18.380\nAnd the 192.168.4 network is\ndirectly plugged in to my gi1/0.\n\n495\n00:26:18.380 --> 00:26:20.035\nLet's say that interface failed.\n\n496\n00:26:20.035 --> 00:26:24.489\nIf the gi1/0 interface were to fail,\nI'm just gonna shut it down, okay?\n\n497\n00:26:24.489 --> 00:26:27.655\nCan I get to 192.168.4.4 now?\n\n498\n00:26:27.655 --> 00:26:29.600\nNo, I can't get there.\n\n499\n00:26:29.600 --> 00:26:30.993\nAnd since that's gone,\n\n500\n00:26:30.993 --> 00:26:34.518\nI've now got a static route that\npoints to an IP I can't get to.\n\n501\n00:26:34.518 --> 00:26:36.249\nSo what's gonna happen\nto the static route?\n\n502\n00:26:36.249 --> 00:26:37.902\nIt's gonna come out of the routing table.\n\n503\n00:26:37.902 --> 00:26:42.813\nAnd so now when I do a show\nip route the 192.168.0.0\n\n504\n00:26:42.813 --> 00:26:48.111\nroute that was in there,\nthat was pointing to router 4, is gone.\n\n505\n00:26:48.111 --> 00:26:51.354\nAnd now the route to router 5 is there.\n\n506\n00:26:51.354 --> 00:26:54.802\nAnd look at that distance,\nthe administrative distance is now at 2.\n\n507\n00:26:54.802 --> 00:26:56.566\nThe metric is still a 0, right?\n\n508\n00:26:56.566 --> 00:26:58.615\nBecause static routes don't have a metric.\n\n509\n00:26:58.615 --> 00:27:01.888\nBut the distance, the administrative\ndistance, has become a 2.\n\n510\n00:27:01.888 --> 00:27:07.105\nSo now, I've set up a hierarchy,\na preference amongst my static routes.\n\n511\n00:27:07.105 --> 00:27:09.641\nMy other route is prefered, but\nif it fails for some reason,\n\n512\n00:27:09.641 --> 00:27:11.346\nthis guy's waiting in the background.\n\n513\n00:27:11.346 --> 00:27:15.250\nAnd yeah, this going over T1s,\nbut at least it works.\n\n514\n00:27:15.250 --> 00:27:17.420\nAnd if the other link comes back up,\nright?\n\n515\n00:27:17.420 --> 00:27:22.370\nSo if I do a quick no shutdown\nI'm bringing that other link up.\n\n516\n00:27:22.370 --> 00:27:27.950\nAs soon as that other link comes up,\nthat will go back into the routing table.\n\n517\n00:27:27.950 --> 00:27:32.020\nAnd when it goes back into the routing\ntable, see how it's already flipped?\n\n518\n00:27:32.020 --> 00:27:35.520\nIt's already pointing to router 4 again,\nit's that fast.\n\n519\n00:27:35.520 --> 00:27:39.097\nSo the router is monitoring for that\naction, monitoring for that to happen.\n\n520\n00:27:39.097 --> 00:27:43.270\nAnd as soon as it happens, it takes the\naction, and it gets us in place, right?\n\n521\n00:27:43.270 --> 00:27:45.300\nSo really neat functionality there.\n\n522\n00:27:45.300 --> 00:27:49.413\nYou can build this up, but\nit requires a lot of this up here, right?\n\n523\n00:27:49.413 --> 00:27:51.605\nWe're having to plan it out,\nand think about it, and\n\n524\n00:27:51.605 --> 00:27:53.400\nget those settings put in place.\n\n525\n00:27:53.400 --> 00:27:56.800\nWith a dynamic routing protocol it\nwould have figured all this out for us.\n\n526\n00:27:56.800 --> 00:27:58.370\nWe wouldn't have had to\nhave done all of this.\n\n527\n00:27:58.370 --> 00:27:59.900\nIt would have done it for us,\n\n528\n00:27:59.900 --> 00:28:02.505\nand that's really the advantage\nof a dynamic routing protocol.\n\n529\n00:28:02.505 --> 00:28:06.080\nBut statics can achieve everything\na dynamic routing protocol can achieve,\n\n530\n00:28:06.080 --> 00:28:08.148\nit just takes a lot more work.\n\n531\n00:28:08.148 --> 00:28:09.190\nSo all right,\n\n532\n00:28:09.190 --> 00:28:13.040\nRonnie, I do have some other things that I\nneeded to talk about with static routes.\n\n533\n00:28:13.040 --> 00:28:15.480\nI didn't talk about\nfloating static routes,\n\n534\n00:28:15.480 --> 00:28:18.400\nwhich we need to discuss a little bit,\nand a few other things.\n\n535\n00:28:18.400 --> 00:28:22.345\nI didn't talk about IPv6 either, so\nwe need to see some IPv6 static routes.\n\n536\n00:28:22.345 --> 00:28:26.701\nSo why don't we do a part two on this one,\nand we'll tackle those technologies and\n\n537\n00:28:26.701 --> 00:28:29.561\nmake sure that we get it nice and\nexhaustive, right?\n\n538\n00:28:29.561 --> 00:28:30.779\n[LAUGH]\n>> All right, well Don,\n\n539\n00:28:30.779 --> 00:28:34.358\nthank you again for introducing us\nto that concept of static routes.\n\n540\n00:28:34.358 --> 00:28:37.376\nRemember that the key here, especially\nwhen you're taking a look at it,\n\n541\n00:28:37.376 --> 00:28:39.680\nis that they have to be\nconfigured on both sides.\n\n542\n00:28:39.680 --> 00:28:43.330\nYou may be able to get traffic going one\nway, but remember that the other side also\n\n543\n00:28:43.330 --> 00:28:47.130\nneeds that route as well, and\nwe need to understand the configuration.\n\n544\n00:28:47.130 --> 00:28:51.122\nSo Don showed us a couple of great\nexamples there on how we can actually use\n\n545\n00:28:51.122 --> 00:28:55.194\nstatic routes very effectively in what\nwe need to do, and the scale of it.\n\n546\n00:28:55.194 --> 00:28:57.546\nAnd remember to take a look at\nthese pros and cons as well.\n\n547\n00:28:57.546 --> 00:29:00.075\nWell, that's a great place for\nus to go ahead and\n\n548\n00:29:00.075 --> 00:29:02.614\nstop as we head into a part\ntwo of Static Routing.\n\n549\n00:29:02.614 --> 00:29:06.145\nSo signing off for ITProTV,\nI've been your host Ronnie Wong.\n\n550\n00:29:06.145 --> 00:29:07.167\n>> And I'm Don Pezet.\n\n551\n00:29:07.167 --> 00:29:11.332\n>> Stay tuned right here for\nmore CCENT shows.\n\n552\n00:29:11.332 --> 00:29:18.485\n[MUSIC]\n\n",
          "vimeoId": "175692000"
        },
        {
          "description": "In this episode, Ronnie and Don show how to configure default routes and floating static routes.  The guys show the need to configure a default route.  This is a route in our routing table for any route that doesn’t match any other route in the table that can be configured.  They also show configuring a back up static route in the possibility that a dynamic route may fail.  This is called a floating static route.  This allows you maintain a static route without it overwriting the current dynamic route unless that dynamic route fails.",
          "length": "1344",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-3-3-2-static_routes_pt.2-071916-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-3-3-2-static_routes_pt.2-071916-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-3-3-2-static_routes_pt.2-071916-1-sm.jpg",
          "title": "Static Routes Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.870 --> 00:00:14.390\nWelcome to another great\nepisode right here on ITProTV.\n\n3\n00:00:14.390 --> 00:00:19.890\nI'm your host, Ronnie Wong, and\nyou've turned in to the CISCO CCENT show.\n\n4\n00:00:19.890 --> 00:00:23.770\nWe're continuing in a part two,\ntaking look at static routes and\n\n5\n00:00:23.770 --> 00:00:25.170\nwho better to help us in well Mr.\nDon Pezet.\n\n6\n00:00:25.170 --> 00:00:26.840\nDon, welcome back to our studios.\n\n7\n00:00:26.840 --> 00:00:28.200\n>> Thanks for having me back Ronnie,\n\n8\n00:00:28.200 --> 00:00:32.060\nready to dive right back in You know after\nthe last show, where we did static routes,\n\n9\n00:00:32.060 --> 00:00:34.786\nwe were kind of talking about some of\nthe things that I didn't quite get to.\n\n10\n00:00:34.786 --> 00:00:36.320\n[LAUGH] There was actually\nmore than I thought.\n\n11\n00:00:36.320 --> 00:00:37.670\nSo we are going to\ntackle those right here.\n\n12\n00:00:37.670 --> 00:00:40.210\nThere is a few odds and ends that we need\nto be aware of with static routes and\n\n13\n00:00:40.210 --> 00:00:42.790\nsome different ways that\nwe can make use of them.\n\n14\n00:00:42.790 --> 00:00:48.260\nOne thing that we did was we focused\non IPV4 for the whole episode.\n\n15\n00:00:48.260 --> 00:00:50.080\nOn the exam IPV4 is the most prevalent.\n\n16\n00:00:50.080 --> 00:00:55.210\nRight, but you may see some IPv6 also so\nmay need to create some IPv6 data grounds.\n\n17\n00:00:55.210 --> 00:00:59.680\nIt's done exactly the same as you do for\nIPv4, you just use IPv6 addresses.\n\n18\n00:00:59.680 --> 00:01:02.760\nWell, I guess not exactly the same,\nthe command is a little bit different.\n\n19\n00:01:02.760 --> 00:01:04.070\nLet me show you what I mean.\n\n20\n00:01:04.070 --> 00:01:06.740\nWe haven't really worked with\nIPv6 all that much in this show.\n\n21\n00:01:06.740 --> 00:01:12.300\nSo for example,\nif I'm gonna be doing IPv6 on a router\n\n22\n00:01:12.300 --> 00:01:15.780\nI need to go into sign IPv6\naddresses to my interfaces.\n\n23\n00:01:15.780 --> 00:01:20.830\nBut even before that, you're not\nactually routing for IPv6 by default.\n\n24\n00:01:20.830 --> 00:01:22.540\nSo we need to get that turned on.\n\n25\n00:01:22.540 --> 00:01:24.900\nSo I'm gonna jump into\nmy configuration and\n\n26\n00:01:24.900 --> 00:01:29.396\nI'm gonna issue the IPv6\nunicast-routing command.\n\n27\n00:01:29.396 --> 00:01:35.660\nIt's IPv6 unicast-routing and\nwhen you run that now you're routing for\n\n28\n00:01:35.660 --> 00:01:40.055\nIPv6, assuming you have IPV6 interfaces,\nwhich I don't.\n\n29\n00:01:40.055 --> 00:01:44.550\nThe neat thing about IPV6 is most\nof the commands are identical\n\n30\n00:01:44.550 --> 00:01:46.940\nto IPV4 you just change them a little bit.\n\n31\n00:01:46.940 --> 00:01:51.870\nSo for example,\nwhen I do show ip interface brief\n\n32\n00:01:51.870 --> 00:01:56.670\nthat shows me all of my interfaces and\ntheir IPv4 data.\n\n33\n00:01:56.670 --> 00:01:57.170\nRight.\n\n34\n00:01:58.170 --> 00:02:02.480\nBut if I change that to\nshow IPv6 interface brief.\n\n35\n00:02:02.480 --> 00:02:08.625\nRight, so instead of IP I say IPv6, Now\nit's gonna show me the IPv6 interfaces and\n\n36\n00:02:08.625 --> 00:02:12.225\naddresses, and I don't have any addresses.\n\n37\n00:02:12.225 --> 00:02:15.045\nUnder IPv4, I would do show ip route.\n\n38\n00:02:15.045 --> 00:02:19.325\nUnder IPv6, we can do show IPv6 route.\n\n39\n00:02:19.325 --> 00:02:21.805\nAnd keep getting disconnected today,\nthere we go.\n\n40\n00:02:21.805 --> 00:02:25.925\nSo, there's my IPv4 route, but\nif I do a show IPv6 route,\n\n41\n00:02:25.925 --> 00:02:28.855\nit'll show me my IPv6 routing table,\nand I'll see don't have anything.\n\n42\n00:02:28.855 --> 00:02:31.350\nI just have a multicast\nthat's going to null.\n\n43\n00:02:31.350 --> 00:02:38.350\nSo, I'm not actually routing for\nIPv6 yet, I'm just routing for IPv4.\n\n44\n00:02:38.350 --> 00:02:38.890\nRight?\n\n45\n00:02:38.890 --> 00:02:41.340\nWell I turned on IPv6 routing,\nthe only reason I'm not routing for\n\n46\n00:02:41.340 --> 00:02:43.760\nIPv6 is I just haven't\nconfigured some interfaces.\n\n47\n00:02:43.760 --> 00:02:48.540\nSo, for example, if I want to go and get,\nlet me get some interfaces set up here.\n\n48\n00:02:48.540 --> 00:02:51.690\nSo we'll do, what do I have?\n\n49\n00:02:51.690 --> 00:02:54.240\n00 and 10, or One zero and two zero.\n\n50\n00:02:54.240 --> 00:03:00.240\nSo, let me get into some\nof my interfaces and if\n\n51\n00:03:00.240 --> 00:03:06.150\nI take a look at gi0/0 it has no address,\nthat's not really fun, 1/0 there we are.\n\n52\n00:03:06.150 --> 00:03:07.720\nSo this one has 192.168.4.4 and that's it.\n\n53\n00:03:07.720 --> 00:03:12.210\nI'm gonna get into that interface and\nam wanna add IPv6 address.\n\n54\n00:03:12.210 --> 00:03:18.900\nNow, when you add an IPv4 address,\nyou say Ip address and the address.\n\n55\n00:03:18.900 --> 00:03:23.140\nWell, with IPv6, you say IPv6 address and\nthen the address, right.\n\n56\n00:03:23.140 --> 00:03:27.940\nAnd IPv6 addresses don't have to\nbe crazy difficult to remember.\n\n57\n00:03:27.940 --> 00:03:32.720\nIn fact, a lot of times I like to mirror\nIPv4 addresses just to keep it simple.\n\n58\n00:03:32.720 --> 00:03:38.690\nSo I might say fd00 which is usually where\nwe kind of start our private addressing,\n\n59\n00:03:38.690 --> 00:03:43.740\nand then if you just do ::192:168:4:4\n\n60\n00:03:43.740 --> 00:03:47.490\nwe can actually keep our IPv4 address but\nuse it in the IPv6 world.\n\n61\n00:03:47.490 --> 00:03:50.800\nNow the only negative is I'm\ngoing to do a /64 on this\n\n62\n00:03:50.800 --> 00:03:53.900\nwhich means all of my IPv4 networks\nare going to get collapsed together.\n\n63\n00:03:53.900 --> 00:03:56.460\nBut that's actually okay under IPv6.\n\n64\n00:03:56.460 --> 00:04:00.610\nBecause you don't have broadcasts, and so\nit's okay to have it all merge together.\n\n65\n00:04:00.610 --> 00:04:01.840\nIn my case, it won't matter.\n\n66\n00:04:01.840 --> 00:04:06.060\nSo here, I'm assigning an IPv6 address and\nthe subnet mask, and\n\n67\n00:04:06.060 --> 00:04:08.110\nnow I've got that address.\n\n68\n00:04:08.110 --> 00:04:11.510\nAnd I can get into another\ninterface like my gi2/0,\n\n69\n00:04:11.510 --> 00:04:16.800\nand if I look at it, it's got, whoops.\n\n70\n00:04:16.800 --> 00:04:20.240\nIf I do #do show run, there you go.\n\n71\n00:04:20.240 --> 00:04:28.040\nIt's got an IPv4 address of 2.4, so I'll\ngive it an IPv6 address of 192:168: 2.4.\n\n72\n00:04:28.040 --> 00:04:29.760\nLike that.\n\n73\n00:04:29.760 --> 00:04:32.350\nAnd, shoot, they're in the same\nnetwork because I did a /64.\n\n74\n00:04:32.350 --> 00:04:35.400\nSo I'm going to have to change that up,\njust a little bit.\n\n75\n00:04:35.400 --> 00:04:38.360\nAnd add an extra number there.\n\n76\n00:04:38.360 --> 00:04:39.080\nAll right.\n\n77\n00:04:39.080 --> 00:04:42.290\nSo now I've got these two different\ninterfaces on two different,\n\n78\n00:04:42.290 --> 00:04:43.920\nIPv6 networks.\n\n79\n00:04:43.920 --> 00:04:46.430\nAnd if I get out of my configuration and\n\n80\n00:04:46.430 --> 00:04:51.840\nI do a show IPv6 route,\nI now have an IPv6 routing table.\n\n81\n00:04:51.840 --> 00:04:56.450\nI have two directly connected interfaces\non two different IPv6 networks.\n\n82\n00:04:56.450 --> 00:04:58.320\nOne is on FD00 and then all zeroes.\n\n83\n00:04:58.320 --> 00:05:00.500\nThe other one's on FD00:1 and\nthen all zeroes.\n\n84\n00:05:00.500 --> 00:05:03.230\nSo two different networks.\n\n85\n00:05:04.450 --> 00:05:08.220\nIf I wanna do a static route for\nIPv6, it's the same as IPv4.\n\n86\n00:05:08.220 --> 00:05:13.120\nI get it in my configuration and\ninstead of saying ip route,\n\n87\n00:05:13.120 --> 00:05:16.960\nI say IPv6 route, and then the network.\n\n88\n00:05:16.960 --> 00:05:19.160\nSo maybe I'm doing fd00:2: :/64 like that.\n\n89\n00:05:19.160 --> 00:05:23.410\nAnd then I tell it how\nwe're gonna get there.\n\n90\n00:05:23.410 --> 00:05:27.950\nAnd it could be an interface or\nit could be an IP.\n\n91\n00:05:27.950 --> 00:05:29.560\nSo I might be doing this via\n\n92\n00:05:31.550 --> 00:05:34.930\nyou know some other IP that's\nout there and I can put that in.\n\n93\n00:05:34.930 --> 00:05:37.890\nAnd I just made this IP up so there's\nnobody that actually corresponds to that.\n\n94\n00:05:37.890 --> 00:05:40.760\nSo when I do a show IPv6 route and\n\n95\n00:05:40.760 --> 00:05:45.520\nI take a look at that routing table I\nnow have a static route right there.\n\n96\n00:05:45.520 --> 00:05:48.910\nStill has an administrative distance\nof one still has no metric.\n\n97\n00:05:48.910 --> 00:05:51.310\nHere's the network and it's via this IP.\n\n98\n00:05:51.310 --> 00:05:52.420\nIt's really the same.\n\n99\n00:05:52.420 --> 00:05:56.890\nSo the only thing that's different\nhere is the form of the address right.\n\n100\n00:05:56.890 --> 00:06:01.650\nSo the nice part is all the IPv4\ncommands you just change IP to IPv6 and\n\n101\n00:06:01.650 --> 00:06:03.250\nnow you've got the IPv6 commands.\n\n102\n00:06:03.250 --> 00:06:06.980\nIt's real easy to make that jump\nfrom IPv4 to IPv6, not a big deal.\n\n103\n00:06:08.622 --> 00:06:11.990\nAll right, another thing that I didn't\nshow is that when we look at our rounding\n\n104\n00:06:11.990 --> 00:06:16.500\ntable, one of the first routes that pops\nup is actually not in the table itself but\n\n105\n00:06:16.500 --> 00:06:20.220\nup top, this Gateway of last resort, okay.\n\n106\n00:06:20.220 --> 00:06:24.340\nThe Gateway of last resort is the router\nthat you're gonna go to in the event that\n\n107\n00:06:24.340 --> 00:06:26.920\nyou're trying to get somewhere\nthat doesn't match any\n\n108\n00:06:26.920 --> 00:06:28.970\nof the other network, okay.\n\n109\n00:06:28.970 --> 00:06:33.680\nSo when I look at a network, so\nfor example, in my topology here.\n\n110\n00:06:34.960 --> 00:06:38.870\nLet's pretend for a minute that router\n6 is connected to the internet.\n\n111\n00:06:38.870 --> 00:06:41.300\nThis 172.16 network over\nhere is the internet.\n\n112\n00:06:41.300 --> 00:06:45.040\nAnd so it knows about all of\nthese networks on the back end.\n\n113\n00:06:46.260 --> 00:06:49.640\nMaybe we sat there and put in all the\nstatics or ran a dynamic routing protocol.\n\n114\n00:06:49.640 --> 00:06:51.750\nI'm using a dynamic routing protocol here.\n\n115\n00:06:51.750 --> 00:06:54.710\nSo router 6 has learned about\nall these internal networks.\n\n116\n00:06:54.710 --> 00:06:57.780\nBut it's connected to\nthe internet out here, and\n\n117\n00:06:57.780 --> 00:07:01.810\nout on the internet there are hundreds\nof thousands of networks and\n\n118\n00:07:01.810 --> 00:07:03.790\nwe don't know them all they're\nnot in our routing table.\n\n119\n00:07:03.790 --> 00:07:08.200\nSo if we try to get to one of those\nnetworks, what's gonna happen?\n\n120\n00:07:08.200 --> 00:07:11.120\nWe're not gonna get there, we're\ngonna get destination unreachable and\n\n121\n00:07:11.120 --> 00:07:12.080\nthat's the end of it.\n\n122\n00:07:12.080 --> 00:07:13.430\nOkay?\n\n123\n00:07:13.430 --> 00:07:16.020\nOr we could create\na gateway of last resort.\n\n124\n00:07:16.020 --> 00:07:18.950\nAnd the easiest way to create a gateway\nof last resort is with a static route.\n\n125\n00:07:18.950 --> 00:07:20.540\nAnd let me show you on router 6.\n\n126\n00:07:20.540 --> 00:07:25.808\nSo I'll get back to my console and\nget onto router 6.\n\n127\n00:07:25.808 --> 00:07:28.280\nSo router 6, I can see gateway of\nlast resort is not where it's at.\n\n128\n00:07:28.280 --> 00:07:29.680\nSo if it receives traffic for\n\n129\n00:07:29.680 --> 00:07:32.450\nany network that's not on this list,\nit's just gonna throw it away.\n\n130\n00:07:32.450 --> 00:07:33.430\nIt can't get to it.\n\n131\n00:07:33.430 --> 00:07:35.530\nSo there's nothing it can do.\n\n132\n00:07:35.530 --> 00:07:43.870\nBut if I get into configuration,\nI can say IP route, and then do all zeros.\n\n133\n00:07:43.870 --> 00:07:47.540\nAll zeros for the network, and\nall zeros for the subnet mask.\n\n134\n00:07:47.540 --> 00:07:48.760\nWhen you do all zeros,\n\n135\n00:07:48.760 --> 00:07:52.367\nthat tells the router that you're\ntalking about a default route.\n\n136\n00:07:52.367 --> 00:07:57.075\nIn other words, this is anybody who\ndoesn't match the rest of the list.\n\n137\n00:07:57.075 --> 00:07:59.545\nAnd now you can tell it where to go.\n\n138\n00:07:59.545 --> 00:08:04.500\nAnd if it's a serial line you might\nsay send it out that serial interface.\n\n139\n00:08:04.500 --> 00:08:07.490\nOr if it's a metro ethernet or\ncable modem or\n\n140\n00:08:07.490 --> 00:08:10.830\nwhatever, you're gonna wanna point\nto the gateway on that network.\n\n141\n00:08:10.830 --> 00:08:14.530\nAnd so maybe that's 172.16.0.2 or\nsomething like that, right?\n\n142\n00:08:14.530 --> 00:08:19.400\nSo you'll put in what that destination is.\n\n143\n00:08:19.400 --> 00:08:22.870\nAnd now when you take\na look at your route map.\n\n144\n00:08:22.870 --> 00:08:24.090\nIf I do a show ip route.\n\n145\n00:08:24.090 --> 00:08:27.510\nYou'll see two new things,\n\n146\n00:08:27.510 --> 00:08:31.355\nthe first thing is I've gotta new\nstatic route right here that says the.\n\n147\n00:08:31.355 --> 00:08:37.195\n[NOISE] That I can get to\n0.0.0.0/0 via this ip, right?\n\n148\n00:08:37.195 --> 00:08:41.275\nIt's a static route so\nit got an ambit distance of 1/0 and\n\n149\n00:08:41.275 --> 00:08:46.005\ngot an S over on the left side but\nalso has a star and that asterisk if you\n\n150\n00:08:46.005 --> 00:08:51.010\nlook up the legend tells you that its\na candidate to be the default route.\n\n151\n00:08:51.010 --> 00:08:54.980\nYou can only have one default route, so\nif there's more than one, they all become\n\n152\n00:08:54.980 --> 00:08:58.850\ncandidates, and somebody gets chosen\nto be the actual default route.\n\n153\n00:08:58.850 --> 00:09:02.090\nSo the star doesn't mean that\nyou have the default route,\n\n154\n00:09:02.090 --> 00:09:05.700\nit means that you could possibly\nbecome the default route.\n\n155\n00:09:05.700 --> 00:09:11.430\nAnd then you have to look up here to see\nwho actually became the default route and\n\n156\n00:09:11.430 --> 00:09:15.860\nin my case the Gateway of last resort\nis 172.16.0.2 via network 0.0.0.0\n\n157\n00:09:15.860 --> 00:09:21.000\nwhich is this routes so\nit did become the default route.\n\n158\n00:09:21.000 --> 00:09:26.390\nSo now any traffic I receive that doesn't\nmatch all these other networks to my list\n\n159\n00:09:26.390 --> 00:09:29.920\nI can still get back them by sending\nit along Via that default route, so\n\n160\n00:09:29.920 --> 00:09:31.372\nit's a pretty important one.\n\n161\n00:09:31.372 --> 00:09:33.990\nIn IPV6 it's done pretty\nmuch the same way,\n\n162\n00:09:33.990 --> 00:09:38.540\nlet me switch to my router that has IPv6,\nwhere did we do that router, four, three?\n\n163\n00:09:38.540 --> 00:09:39.740\n>> I think four.\n\n164\n00:09:39.740 --> 00:09:41.010\n>> Router four.\n\n165\n00:09:41.010 --> 00:09:42.210\nAll right, there.\n\n166\n00:09:42.210 --> 00:09:48.000\nSo Let's see if it was actually this\none I kind of lost track of my routers.\n\n167\n00:09:48.000 --> 00:09:49.070\nYeah this one.\n\n168\n00:09:49.070 --> 00:09:51.540\nSo router four has some IPV6 action and\n\n169\n00:09:51.540 --> 00:09:55.700\nwhen i run the show IPv6 route and\nlook at my routing table here\n\n170\n00:09:55.700 --> 00:09:59.130\nI don't see a default route i just\nsee my standard routes, okay?\n\n171\n00:09:59.130 --> 00:10:03.180\nSo I can jump into my configurations and\nthe main reason I don't see\n\n172\n00:10:03.180 --> 00:10:06.420\nit here is in IPv6, we don't know why\nwe have to aesthetically set a gateway.\n\n173\n00:10:06.420 --> 00:10:10.130\nBut if you have a router that's out there,\nyou can advertise itself as a gateway and\n\n174\n00:10:10.130 --> 00:10:10.680\nwe learn it.\n\n175\n00:10:10.680 --> 00:10:15.010\nKinda like DHCP that's usually the better\nway to handle it, but you can tell it.\n\n176\n00:10:15.010 --> 00:10:21.242\nAnd when you tell it, you basically\njust need to step in and say IPv6 route.\n\n177\n00:10:21.242 --> 00:10:26.150\nAnd then remember how we put it for\nIPv4, where we did all 0s?\n\n178\n00:10:26.150 --> 00:10:29.410\nWell we're gonna do all 0s for IPv6 also.\n\n179\n00:10:29.410 --> 00:10:33.245\nBut with IPv6, we have nice little\nshorthand notations we can use.\n\n180\n00:10:33.245 --> 00:10:38.811\nSo when you do all 0s in IPv6 you can\nactually abbreviate it to ::/0 like that.\n\n181\n00:10:38.811 --> 00:10:40.716\nSo it's actually easier than IPv6.\n\n182\n00:10:40.716 --> 00:10:44.459\nColon colon means an IPv6\naddress that's all zeros and\n\n183\n00:10:44.459 --> 00:10:47.220\n/0 means a subnet mask of all zeros.\n\n184\n00:10:47.220 --> 00:10:51.530\nSo this is the equivalent of what we\ndid in IPv4 just a lot easier to type.\n\n185\n00:10:51.530 --> 00:10:53.600\nAnd then we tell it who\nwe're gonna send it to.\n\n186\n00:10:53.600 --> 00:10:56.720\nSo maybe it's somebody like that.\n\n187\n00:10:56.720 --> 00:11:01.170\nSo I can punch that in and\nnow I've got a default route and so\n\n188\n00:11:01.170 --> 00:11:07.920\nwhen I do a show IPv6 route\nI can spot it right there.\n\n189\n00:11:07.920 --> 00:11:10.200\nNow notice I don't have the asterisk.\n\n190\n00:11:10.200 --> 00:11:12.310\nAnd I don't have that gateway\nof last resort marker.\n\n191\n00:11:12.310 --> 00:11:16.650\nThat's because in IPv6 you can\nhave more than one gateway, so\n\n192\n00:11:16.650 --> 00:11:18.390\nthere is no default anymore.\n\n193\n00:11:18.390 --> 00:11:22.250\nAnd it'll figure it's own way out using\nmulticast and other neighbor discoveries.\n\n194\n00:11:22.250 --> 00:11:25.190\nSo there's some advanced\ninfrastructure that it does that.\n\n195\n00:11:25.190 --> 00:11:27.660\nBut the static route itself.\n\n196\n00:11:27.660 --> 00:11:31.600\nGoes in the same way as what we\ndid in IPv4, so pretty easy to do.\n\n197\n00:11:32.730 --> 00:11:37.950\nAll right, another thing worth mentioning,\nin the last episode,\n\n198\n00:11:37.950 --> 00:11:42.350\nI showed you guys how we could set\nup like a back-up static route.\n\n199\n00:11:42.350 --> 00:11:45.680\nOn router, let me see, it was on\nrouter six I believe, where we did it.\n\n200\n00:11:45.680 --> 00:11:51.110\nOn router six, we set up two routes\nto get to the 192.168.0 network, so\n\n201\n00:11:51.110 --> 00:11:56.760\nam gonna do my show running-config,\nam gonna pipe that in the include command,\n\n202\n00:11:56.760 --> 00:12:01.070\nam gonna look for ip route, so am gonna\nfind any static route that I put in, and\n\n203\n00:12:01.070 --> 00:12:06.940\nwe put in two static routes, for the\n192.168.0 network, you can see both here.\n\n204\n00:12:06.940 --> 00:12:09.840\nAnd remember how I manipulated .metric,\n\n205\n00:12:09.840 --> 00:12:13.020\nto make it where one route\nwas prefered over the other.\n\n206\n00:12:13.020 --> 00:12:17.350\nAll right, that was just me setting\na preference between static routes.\n\n207\n00:12:17.350 --> 00:12:24.040\nBut you can actually use this to create\nwhat's called a floating static route.\n\n208\n00:12:24.040 --> 00:12:27.695\nA floating static route Is one\nthat sits in the background,\n\n209\n00:12:27.695 --> 00:12:29.645\nthat we don't normally pay attention to.\n\n210\n00:12:29.645 --> 00:12:32.445\nOkay?\nWe dont pay attention to it because theres\n\n211\n00:12:32.445 --> 00:12:35.605\nsome other way there we're\nlearning things that's better.\n\n212\n00:12:35.605 --> 00:12:37.855\nIf you looked at my routing table,\n\n213\n00:12:39.085 --> 00:12:44.770\nyou might have noticed that I have\nstatic routes, I have connected routes.\n\n214\n00:12:44.770 --> 00:12:47.930\nAnd I've got these O routes, OSPF.\n\n215\n00:12:47.930 --> 00:12:50.740\nI'm learning routes via OSPF.\n\n216\n00:12:50.740 --> 00:12:54.940\nAlright and that means I've got\na dynamic routing protocol running.\n\n217\n00:12:54.940 --> 00:12:59.701\nAnd with dynamic routing protocols\nthey have a higher administrative\n\n218\n00:12:59.701 --> 00:13:02.370\ndistance than static routes, right?\n\n219\n00:13:02.370 --> 00:13:05.540\nSo the routes that we put in for\n192.168.0, they're right here.\n\n220\n00:13:05.540 --> 00:13:10.700\nAnd they're taking precedence over OSPF\nbecause their admin distance is 1 and\n\n221\n00:13:10.700 --> 00:13:13.190\nOSPF's admin distance is 110.\n\n222\n00:13:13.190 --> 00:13:16.990\nOkay, if I were to remove\nthose static routes.\n\n223\n00:13:16.990 --> 00:13:20.350\nThis 192.168.00 would be replaced by\n\n224\n00:13:20.350 --> 00:13:23.930\nan OSPF route to that same network that's\njust being hidden in the background.\n\n225\n00:13:23.930 --> 00:13:24.590\nAll right?\n\n226\n00:13:24.590 --> 00:13:25.440\nLet's see that.\n\n227\n00:13:25.440 --> 00:13:27.740\nSo I'm going to go and take those.\n\n228\n00:13:27.740 --> 00:13:29.320\nI'm just going to say no IP route.\n\n229\n00:13:29.320 --> 00:13:29.820\nOops.\n\n230\n00:13:30.820 --> 00:13:33.560\nIf I get in CONFIG this will\nwork a little bit better and\n\n231\n00:13:33.560 --> 00:13:38.200\nI can probably just find the command\nroute and put that in, or not.\n\n232\n00:13:38.200 --> 00:13:39.835\nSo I'll do [LAUGH] no IP route.\n\n233\n00:13:39.835 --> 00:13:45.580\n192.168.0.0 and\nI have the two different destinations.\n\n234\n00:13:45.580 --> 00:13:46.660\nSo I got to do this twice.\n\n235\n00:13:46.660 --> 00:13:49.928\nSo one of them was via 192.168.4.4.\n\n236\n00:13:49.928 --> 00:13:53.864\nI’ll remove that one and I’m gonna do\nthe same thing to remove 5.5, okay.\n\n237\n00:13:53.864 --> 00:13:56.880\nSo I just removed those two\nstatic routes that we put in.\n\n238\n00:13:56.880 --> 00:13:58.740\nNotice how I didn’t\nhave to put the metric.\n\n239\n00:13:58.740 --> 00:14:01.530\nWhen I removed 5.5 cuz it knew\nwhich one I was talking about.\n\n240\n00:14:01.530 --> 00:14:02.830\nI didn't have to do that.\n\n241\n00:14:02.830 --> 00:14:05.620\nIf you provide the metric,\nI think it gives you an error.\n\n242\n00:14:05.620 --> 00:14:11.760\nBut now, if I do a show ip route, am I\ngoing to have no route to 192.168.0.0?\n\n243\n00:14:11.760 --> 00:14:17.310\nNo, the statics will be gone,\nbut the OSPF will pop in.\n\n244\n00:14:17.310 --> 00:14:17.990\nAnd so there it is.\n\n245\n00:14:17.990 --> 00:14:18.770\nThere's the OSPF route.\n\n246\n00:14:18.770 --> 00:14:21.550\nAnd see how OSPF has figured\nout two different ways for\n\n247\n00:14:21.550 --> 00:14:23.230\nme to get to that network?\n\n248\n00:14:23.230 --> 00:14:24.380\nAnd so now I'm load balancing.\n\n249\n00:14:24.380 --> 00:14:26.240\nIt knows that, it put that in place.\n\n250\n00:14:26.240 --> 00:14:31.607\nBut if I look at my topology, Right here,\n\n251\n00:14:31.607 --> 00:14:35.250\nOSPF is saying, look,\nyou can go across the top.\n\n252\n00:14:35.250 --> 00:14:39.850\nOr you can go across the bottom, and\neither way will get you over here.\n\n253\n00:14:39.850 --> 00:14:42.130\nAnd these are all gigabit links so\nthey're equal.\n\n254\n00:14:42.130 --> 00:14:44.700\nIt's a gigabit across the top,\nit's a gigabit across the bottom.\n\n255\n00:14:44.700 --> 00:14:48.040\nThese are equal paths so\nit puts them both in and it load balances.\n\n256\n00:14:48.040 --> 00:14:51.940\nSo OSPF is doing that for me and it's\nlearning all that and it's automatic and\n\n257\n00:14:51.940 --> 00:14:52.940\nthat's normally what we want.\n\n258\n00:14:54.170 --> 00:14:56.250\nBut what if OSPF freaks out?\n\n259\n00:14:56.250 --> 00:15:00.130\nWhat if something bad happens and\nOSPF stops\n\n260\n00:15:00.130 --> 00:15:03.490\ncarrying that network across the line or\nsomething happens that breaks OSPF.\n\n261\n00:15:03.490 --> 00:15:06.320\nThen I am going to loose that network,\nit's gone.\n\n262\n00:15:06.320 --> 00:15:10.300\nSo I might want to have static\nroutes that act as back ups.\n\n263\n00:15:10.300 --> 00:15:12.030\nThat are floating static routes.\n\n264\n00:15:12.030 --> 00:15:14.060\nThat are hiding behind the scenes.\n\n265\n00:15:14.060 --> 00:15:16.630\nThat I am not using normally.\n\n266\n00:15:16.630 --> 00:15:18.090\nPut it there if I need them.\n\n267\n00:15:18.090 --> 00:15:19.810\nWell, the problem is if I\nput a static router and\n\n268\n00:15:19.810 --> 00:15:22.600\nthe administrative distance is so\nlow, it's gonna over-ride\n\n269\n00:15:22.600 --> 00:15:26.000\nmy dynamic routing protocol and so it is\ngoing to be the one who takes effect.\n\n270\n00:15:26.000 --> 00:15:30.540\nSo if I want it to be in the background\nhiding out, I need to put the static\n\n271\n00:15:30.540 --> 00:15:35.440\nroute in and give it a metric that is, no\nmetric, sorry, an administrative distance\n\n272\n00:15:35.440 --> 00:15:39.910\nthat is higher than the administrative\ndistance of my dynamic routing protocol.\n\n273\n00:15:39.910 --> 00:15:42.525\nIn that way the dynamic routing\nprotocol can win, right?\n\n274\n00:15:42.525 --> 00:15:47.220\nSo, on router 6 if I wanna put in\na backup route to 192.168.0.0,\n\n275\n00:15:47.220 --> 00:15:52.204\nthat would work even if the IPB6, the OFCS\nrouter goes away then we just need to get\n\n276\n00:15:52.204 --> 00:15:54.683\nthat higher administrative distance.\n\n277\n00:15:54.683 --> 00:15:57.116\nSo now that it's in there\nhow do we verify it works.\n\n278\n00:15:57.116 --> 00:16:00.839\nWell it's actually kind of hard because\n[LAUGH] In theory, what we just did,\n\n279\n00:16:00.839 --> 00:16:04.650\nis we put a round in the we intentionally\nwanted to be suppressed right.\n\n280\n00:16:04.650 --> 00:16:09.642\nSo, if I look at my routing table,\nI'm just gonna do a show IP route,\n\n281\n00:16:09.642 --> 00:16:16.117\nwhen I find that 192.168.0.0, there it is,\nand It's not in there, right?\n\n282\n00:16:16.117 --> 00:16:19.683\nIt's not in there because we\ngave it a metric of 111 and\n\n283\n00:16:19.683 --> 00:16:23.640\nas long as it got a metric of 111,\nit's not going to show up.\n\n284\n00:16:23.640 --> 00:16:26.380\nEven if I do like a show ip route static.\n\n285\n00:16:27.880 --> 00:16:31.111\nIt's not gonna show up because that's\nonly gonna show me static routes that\n\n286\n00:16:31.111 --> 00:16:32.636\nare actually in the routing table.\n\n287\n00:16:32.636 --> 00:16:36.754\nIn fact, the only way I'm gonna be able to\nsee this Is if I do a show running config,\n\n288\n00:16:36.754 --> 00:16:40.635\nand I hunt down the line, and ill use the\ninclude command to make it a little bit\n\n289\n00:16:40.635 --> 00:16:44.450\nfaster, but we can look and we can\nsee that it is in the running config.\n\n290\n00:16:44.450 --> 00:16:46.420\nNow I could always do a quick test, right?\n\n291\n00:16:46.420 --> 00:16:49.835\nI could suppress the route from ospf, or\n\n292\n00:16:49.835 --> 00:16:53.960\nI could just kill ospf and\nthat would stop right?\n\n293\n00:16:53.960 --> 00:16:56.385\nSo lets pretend that ospf breaks, right?\n\n294\n00:16:56.385 --> 00:17:00.671\nSo you probably don't wanna\ndo this in real life, but\n\n295\n00:17:00.671 --> 00:17:03.730\nI'll just do a no router ospf 100.\n\n296\n00:17:03.730 --> 00:17:04.868\nI'm just gonna kill that.\n\n297\n00:17:04.868 --> 00:17:07.387\nFor those of you that go on to do\nthe CCNA, you'll learn all about OSPF.\n\n298\n00:17:07.387 --> 00:17:08.849\nSo I'm just gonna kill OSPF.\n\n299\n00:17:08.849 --> 00:17:11.910\nAll my OSPF routes are gonna\ncome out of the routing tables.\n\n300\n00:17:11.910 --> 00:17:13.890\nSo I just dumped the whole database.\n\n301\n00:17:13.890 --> 00:17:18.410\nAnd as soon as that happens other\nroutes can now kick in right.\n\n302\n00:17:18.410 --> 00:17:24.714\nSo the OSPF routes to 192.168.0.0\nthey had an admin distance of\n\n303\n00:17:24.714 --> 00:17:31.917\n110 now what I should see is if I do\na show ip route I have 192.168.0.0 and\n\n304\n00:17:31.917 --> 00:17:36.636\nit's static but\nit's got an admin distance of 111.\n\n305\n00:17:36.636 --> 00:17:42.510\nAnd because it was higher than OSPF's 110,\nwe let OSPF win.\n\n306\n00:17:42.510 --> 00:17:45.810\nSo on the exam, remember, administrator\ndistances are really important.\n\n307\n00:17:45.810 --> 00:17:47.830\nThey set the default of preference.\n\n308\n00:17:47.830 --> 00:17:52.320\nAnd the default is that statics always\nwin unless there's a direct connected.\n\n309\n00:17:52.320 --> 00:17:54.910\nBut you can change it, and\nnow you've modified the rules.\n\n310\n00:17:54.910 --> 00:17:57.990\nNow you've made it where a static\ndoesn't always have to win.\n\n311\n00:17:57.990 --> 00:18:05.060\nAnd if I get ospf back in action,\nlet me just fire this up real quick.\n\n312\n00:18:05.060 --> 00:18:10.190\nAnd I'm just gonna do the bare minimum\ncommands to get ospf running, there we go.\n\n313\n00:18:10.190 --> 00:18:12.860\nSo that's gonna kick in,\nI'm gonna start learning routes again,\n\n314\n00:18:12.860 --> 00:18:17.490\nI'll learn those routes back and\nwhen I do a show IP route.\n\n315\n00:18:17.490 --> 00:18:22.240\nI'll see where that static route has now\ngone, and the OSPF routes are back and\n\n316\n00:18:22.240 --> 00:18:23.000\nthey've taken precedence.\n\n317\n00:18:23.000 --> 00:18:26.260\nSo I now have what's\ncalled a floating static.\n\n318\n00:18:26.260 --> 00:18:29.730\nIt's a static route, it's there, but\nit's floating in the background.\n\n319\n00:18:29.730 --> 00:18:32.410\nAnd I don't normally use\nit with routes like these.\n\n320\n00:18:32.410 --> 00:18:34.450\nI normally use it with default routes.\n\n321\n00:18:34.450 --> 00:18:38.960\nSo we've put a default route here in as\na static, I might be getting my default\n\n322\n00:18:38.960 --> 00:18:44.100\nroute from a routing protocol like OSPF,\nor EIGRP, or RIP.\n\n323\n00:18:44.100 --> 00:18:46.450\nThey can all give me a default route.\n\n324\n00:18:46.450 --> 00:18:48.022\nAnd if I'm getting it that way,\n\n325\n00:18:48.022 --> 00:18:50.476\nI may prefer that versus\nmy static default route.\n\n326\n00:18:50.476 --> 00:18:53.770\nAnd my static default route might\njust be my backup scenario.\n\n327\n00:18:53.770 --> 00:18:56.770\nHey, if this route isn't coming in,\nuse mine.\n\n328\n00:18:56.770 --> 00:19:00.010\nIt's all done just by modifying that\nadministrative distance, all right?\n\n329\n00:19:00.010 --> 00:19:02.380\nSo that's what is a floating static route.\n\n330\n00:19:03.660 --> 00:19:07.050\nAll right, I think that's a pretty\ngood rundown of static routes.\n\n331\n00:19:07.050 --> 00:19:09.750\nI can't think of anything else that\nI need to really mention on these.\n\n332\n00:19:09.750 --> 00:19:10.810\nRonnie, can you think\nof anything I missed?\n\n333\n00:19:10.810 --> 00:19:12.480\n>> Well, I just have a question.\n\n334\n00:19:12.480 --> 00:19:15.820\nCan we do the same thing with IPv6\non the floating static routes.\n\n335\n00:19:15.820 --> 00:19:19.018\n>> Yeah, the administrative\ndistances are actually the same.\n\n336\n00:19:19.018 --> 00:19:21.526\nRemember the ADs?\n\n337\n00:19:21.526 --> 00:19:24.088\nThat's something that Cisco just made up,\njust came out of their head,\n\n338\n00:19:24.088 --> 00:19:24.677\nand that was it.\n\n339\n00:19:24.677 --> 00:19:30.235\nSo when they did the IPv6 protocols,\nthey just reused the same ADS.\n\n340\n00:19:30.235 --> 00:19:36.025\nSo when I use OSPF in IPV6 it still\nhas an admin distance of 110.\n\n341\n00:19:36.025 --> 00:19:40.015\nAnd if I use a static router, an IPV6,\nit still has an admin distance of one, so\n\n342\n00:19:40.015 --> 00:19:44.295\nyou can easily just tack that number right\non there and then we're in business.\n\n343\n00:19:44.295 --> 00:19:46.395\nI do want to mention one other thing.\n\n344\n00:19:46.395 --> 00:19:48.530\nRonnie had asked the question earlier.\n\n345\n00:19:48.530 --> 00:19:51.510\nEarlier in the episode, I mentioned\nhow the two pass in my network.\n\n346\n00:19:51.510 --> 00:19:53.198\nLet me bring up my topology real quick.\n\n347\n00:19:53.198 --> 00:19:56.570\nThe two paths in my network, I said they\nwere all gig links across the top and\n\n348\n00:19:56.570 --> 00:19:58.150\nall gig links across the bottom.\n\n349\n00:19:58.150 --> 00:19:59.090\nThey actually aren't.\n\n350\n00:19:59.090 --> 00:20:01.200\nMy links across the bottom\nare 100 megabyte.\n\n351\n00:20:01.200 --> 00:20:03.688\nAnd so, I've got gig across the top and\n100 meg across the bottom.\n\n352\n00:20:03.688 --> 00:20:07.390\nAnd we're running ISP and we're like, why\nwasn't load balancing across those links?\n\n353\n00:20:07.390 --> 00:20:10.490\nAnd this is an OSPF show, so\nI don't wanna dive into it too deep.\n\n354\n00:20:10.490 --> 00:20:14.330\nJust to mention here In OSPF it\nactually treats hundred megabit and\n\n355\n00:20:14.330 --> 00:20:15.350\ngigabit the same.\n\n356\n00:20:15.350 --> 00:20:17.610\nAnd so it views those same and\nthat's why it's all bouncing.\n\n357\n00:20:17.610 --> 00:20:19.680\nEven though the lines\nare not necessarily equal.\n\n358\n00:20:19.680 --> 00:20:22.220\nAnd so here's a chance where I might say\n\n359\n00:20:22.220 --> 00:20:25.480\nif I can't trust OSPF maybe I want\nto use a static to overwrite it.\n\n360\n00:20:25.480 --> 00:20:29.380\nAnd say, prefer the top route versus\nthe bottom and use statics to do that.\n\n361\n00:20:29.380 --> 00:20:33.000\nYou can certainly achieve\nthat by putting it in place.\n\n362\n00:20:33.000 --> 00:20:34.750\nIt's kind of a shortcoming of it.\n\n363\n00:20:34.750 --> 00:20:38.068\nFor those of you who go on to CC&A,\nyou'll learn more about OSPF and\n\n364\n00:20:38.068 --> 00:20:39.070\nsee how that works.\n\n365\n00:20:39.070 --> 00:20:43.050\nBut that's why it's treating those\nthe same, so, but otherwise,\n\n366\n00:20:43.050 --> 00:20:44.830\nthat's pretty much it for static routes.\n\n367\n00:20:44.830 --> 00:20:48.700\nJust know in real life land, you're\nprobably only gonna have one static route\n\n368\n00:20:48.700 --> 00:20:50.550\non a router and\nthat's gonna be the default route.\n\n369\n00:20:50.550 --> 00:20:53.960\nAnd that's probably the only time you'll\nuse them except maybe for backups.\n\n370\n00:20:53.960 --> 00:20:56.382\nIf you have routers that only\nhave one way in and one way out.\n\n371\n00:20:56.382 --> 00:20:58.217\nAll they need is a default router,\nand that is it.\n\n372\n00:20:58.217 --> 00:21:01.700\nBut when you have routers with more than\none interface and tons of networks that\n\n373\n00:21:01.700 --> 00:21:05.200\nare out there, that is where dynamic\nrouting protocol really comes in handy.\n\n374\n00:21:05.200 --> 00:21:07.675\nAnd that's what we are going to see in\nupcoming episodes when we will start to\n\n375\n00:21:07.675 --> 00:21:08.780\nlearn about those.\n\n376\n00:21:08.780 --> 00:21:11.392\nAnd that's really where you want to be.\n\n377\n00:21:11.392 --> 00:21:13.770\nAll right Ronnie, lets wrap this one up\nhere because I'm kind of excited to get to\n\n378\n00:21:13.770 --> 00:21:17.082\ndynamic routing protocols so\nwe will move on to the fun stuff next.\n\n379\n00:21:17.082 --> 00:21:18.740\n>> All right well Don, thank you again for\n\n380\n00:21:18.740 --> 00:21:23.570\nhelping us to complete some of the topics\nthat we have here with static routing.\n\n381\n00:21:23.570 --> 00:21:26.950\nRemember that we took a look here\nat setting up the default route.\n\n382\n00:21:26.950 --> 00:21:30.780\nYou want to make sure that you do type\nin that particular command correctly.\n\n383\n00:21:30.780 --> 00:21:33.370\nRemember, it's those four zeros\nwith the dots in between and\n\n384\n00:21:33.370 --> 00:21:36.760\nfour more at the end there to\nset up that default route.\n\n385\n00:21:36.760 --> 00:21:39.060\nAnd also the floating routes, as well.\n\n386\n00:21:39.060 --> 00:21:41.760\nThere's floating static routes\nthat really help us out\n\n387\n00:21:41.760 --> 00:21:45.795\nwhen we do think that we might need\na backup to our dynamic routing protocols.\n\n388\n00:21:45.795 --> 00:21:49.640\nAnd we set that idea of the administrative\ndistance just a little bit higher\n\n389\n00:21:49.640 --> 00:21:51.430\nthan the routing protocol that we need.\n\n390\n00:21:51.430 --> 00:21:53.330\nSo that if something happens\nwith that routing protocol.\n\n391\n00:21:53.330 --> 00:21:56.420\nThat particular static route can\nthen enter into the routing table.\n\n392\n00:21:56.420 --> 00:21:58.750\nWe get everything fixed and\nnow comes back.\n\n393\n00:21:58.750 --> 00:22:01.895\nWe do not have to worry about actually\nentering in a new static route for\n\n394\n00:22:01.895 --> 00:22:02.870\nus as well.\n\n395\n00:22:02.870 --> 00:22:05.430\nWell that is a great place for\nus to end this episode then and\n\n396\n00:22:05.430 --> 00:22:07.520\nget started into another one.\n\n397\n00:22:07.520 --> 00:22:11.020\nSo signing off for\nITProTV I've been your host Ronny Wong.\n\n398\n00:22:11.020 --> 00:22:11.930\n>> And I'm Don Pezet.\n\n399\n00:22:11.930 --> 00:22:15.167\n>> Stay tuned right here for\nmore CCENT shows.\n\n400\n00:22:15.167 --> 00:22:24.020\n[MUSIC]\n\n",
          "vimeoId": "175691632"
        },
        {
          "description": "In this episode, Ronnie and Don introduce the distance vector protocol of RIP, routing information protocol.  This protocol is a good protocol to start learning how dynamic protocols work.  They discuss metric of hop count and the pitfall of distance vector routing, routing loops.  The guys introduce max hop count, split horizon and poison reverse as technology that can prevent routing loops.",
          "length": "2144",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-3-4-1-routing_information_protocol-071916-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-3-4-1-routing_information_protocol-071916-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-3-4-1-routing_information_protocol-071916-1-sm.jpg",
          "title": "Routing Information Protocol",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.100 --> 00:00:15.103\nWelcome back to another great\nepisode right here on ITProTV.\n\n3\n00:00:15.103 --> 00:00:16.531\nI am your host, Ronnie Wong.\n\n4\n00:00:16.531 --> 00:00:20.730\nAnd we are continuing on\nwith our Cisco CCENT show.\n\n5\n00:00:20.730 --> 00:00:23.130\nAnd we've been taking a look\nat static routing recently but\n\n6\n00:00:23.130 --> 00:00:24.720\nnow we are turning that page.\n\n7\n00:00:24.720 --> 00:00:27.540\nAnd we're heading into\nthe realm of dynamic routing.\n\n8\n00:00:27.540 --> 00:00:29.550\nAnd who better to help us than Mr.\nDon Pezet?\n\n9\n00:00:29.550 --> 00:00:30.840\nDon, welcome back to our studios.\n\n10\n00:00:30.840 --> 00:00:31.930\n>> Thanks for having me back, Ronnie.\n\n11\n00:00:31.930 --> 00:00:33.040\nAnd yeah, this is exciting.\n\n12\n00:00:33.040 --> 00:00:34.700\nBecause the dynamic routing protocols.\n\n13\n00:00:34.700 --> 00:00:36.660\nThat's what we're going to want to use.\n\n14\n00:00:36.660 --> 00:00:40.660\nNow we're gonna be diving into one\nprotocol in particular here and\n\n15\n00:00:40.660 --> 00:00:44.360\nthat's gonna be the routing\ninformation protocol or RIP.\n\n16\n00:00:44.360 --> 00:00:47.520\nAnd RIP is one of the oldest of\nthe dynamic routing protocol.\n\n17\n00:00:47.520 --> 00:00:53.160\nIt's been around a long time and it's not\nthe most effective or efficient protocol.\n\n18\n00:00:53.160 --> 00:00:56.580\nSo it's not one that you're gonna\nsee in production very often.\n\n19\n00:00:56.580 --> 00:00:58.340\nYou do see it pop up from time to time.\n\n20\n00:00:58.340 --> 00:00:59.950\nBut there's far better\nchoices that are out there.\n\n21\n00:00:59.950 --> 00:01:01.940\nSo if you know that already,\n\n22\n00:01:01.940 --> 00:01:05.700\nthen you might be asking yourself,\nwhy are we wasting time on RIP?\n\n23\n00:01:05.700 --> 00:01:09.970\nWell, if you've never messed with\na dynamic routing protocol, RIP is\n\n24\n00:01:09.970 --> 00:01:15.170\nthe greatest learning protocol there is\nbecause it behaves in a very predictable,\n\n25\n00:01:15.170 --> 00:01:17.130\nvery understandable manner and\n\n26\n00:01:17.130 --> 00:01:20.250\nwe can use that to demonstrate\nconcepts that are really important,\n\n27\n00:01:20.250 --> 00:01:25.430\nso that when we get to the complex routing\nprotocols, OSPF and EIGRP, you'll have\n\n28\n00:01:25.430 --> 00:01:28.870\na better understanding of the foundations\nto build on the complexities on top of it.\n\n29\n00:01:28.870 --> 00:01:32.230\nSo even though we don't necessarily\nuse RIP in production any more,\n\n30\n00:01:32.230 --> 00:01:34.520\nit is still a great learning protocol.\n\n31\n00:01:34.520 --> 00:01:35.750\nIt is on the exam.\n\n32\n00:01:35.750 --> 00:01:37.260\nIt is what they expect you to know for\nCCENT,\n\n33\n00:01:37.260 --> 00:01:40.020\nbecause of the foundational knowledge.\n\n34\n00:01:40.020 --> 00:01:41.210\nSo that's where we're gonna start off.\n\n35\n00:01:41.210 --> 00:01:44.450\nSo If your one of those people\nthat are saying RIP is stupid and\n\n36\n00:01:44.450 --> 00:01:47.020\nyou skip the episode,\nit's going to hurt you in the long run,\n\n37\n00:01:47.020 --> 00:01:49.490\nyou definitely want to make\nsure you learn this one.\n\n38\n00:01:49.490 --> 00:01:53.910\nThe key thing about RIP is it's one of the\noriginal protocols, so it's very simple.\n\n39\n00:01:53.910 --> 00:01:55.720\nAnd because it's simple, it's easy for\n\n40\n00:01:55.720 --> 00:01:59.140\nus to understand all the little\nnuances of how it makes decisions.\n\n41\n00:01:59.140 --> 00:02:00.939\nSo let's talk about how\nit makes those decisions.\n\n42\n00:02:02.080 --> 00:02:06.160\nRIP is a text book\ndistance vector protocol.\n\n43\n00:02:06.160 --> 00:02:08.460\nWe talk about distance vector\nprotocols in a different episode and\n\n44\n00:02:08.460 --> 00:02:12.460\nabout how a distance vector protocol\nlooks at something called hop count.\n\n45\n00:02:12.460 --> 00:02:16.590\nIt pays attention to how many routers\nare between us and our destination.\n\n46\n00:02:16.590 --> 00:02:20.710\nHow many hops we have to pass through\nbetween us and somewhere else.\n\n47\n00:02:20.710 --> 00:02:24.860\nAnd it uses that as a measure of which\npath is going to be better or worse.\n\n48\n00:02:24.860 --> 00:02:27.750\nRight?\nI've got a little diagram here on my desk.\n\n49\n00:02:27.750 --> 00:02:32.240\nAnd if I'm on router one and\nI have a workstation that wants\n\n50\n00:02:32.240 --> 00:02:34.890\nto get to the 172.16 network\nway over here on the right.\n\n51\n00:02:34.890 --> 00:02:36.920\nI've got two different\nways I can get there.\n\n52\n00:02:36.920 --> 00:02:39.870\nRouter one can go down to router three.\n\n53\n00:02:39.870 --> 00:02:42.210\nTo router five and over.\n\n54\n00:02:42.210 --> 00:02:46.090\nOr router one could go up to router two,\nover router four,\n\n55\n00:02:46.090 --> 00:02:48.480\ndown to router five and over, right?\n\n56\n00:02:48.480 --> 00:02:50.940\nTwo different paths to the same place.\n\n57\n00:02:50.940 --> 00:02:54.300\nWell with the routing information\nprotocol these routers all start\n\n58\n00:02:54.300 --> 00:02:55.730\ntalking to each other.\n\n59\n00:02:55.730 --> 00:02:59.450\nAnd so they learn about the network and\nthey learn about it in terms of hop count.\n\n60\n00:02:59.450 --> 00:03:01.820\nAnd that's what I demonstrated\nin the other episode.\n\n61\n00:03:01.820 --> 00:03:06.390\nWell, what it's gonna find out is that\nrouter one could go across the top route,\n\n62\n00:03:06.390 --> 00:03:12.500\nand it would be one, two, three hops\nbefore it gets to the destination network.\n\n63\n00:03:12.500 --> 00:03:15.620\nOr it could go across the bottom,\nand it would be one, two hops,\n\n64\n00:03:15.620 --> 00:03:17.780\nand then it gets to the destination.\n\n65\n00:03:17.780 --> 00:03:19.370\nThree hops versus two hops.\n\n66\n00:03:19.370 --> 00:03:20.540\nWho are we going to pick?\n\n67\n00:03:20.540 --> 00:03:21.580\nTwo hops.\n\n68\n00:03:21.580 --> 00:03:24.160\nIt's less router so it's obviously faster.\n\n69\n00:03:24.160 --> 00:03:25.740\nAlright, that's the way we want to go and\n\n70\n00:03:25.740 --> 00:03:27.950\nthat's the way that routing\ninformation protocol works.\n\n71\n00:03:27.950 --> 00:03:29.980\nSuper simple to figure out that path.\n\n72\n00:03:29.980 --> 00:03:33.750\nThere's no crazy formula,\nthere's no algorithm we have to run.\n\n73\n00:03:33.750 --> 00:03:35.330\nWell, technically there is.\n\n74\n00:03:35.330 --> 00:03:37.320\nAs simple as that looks,\nthere is actually a formula.\n\n75\n00:03:37.320 --> 00:03:39.860\nI doubt it will show up on the exam,\nbut just in case It's called and\n\n76\n00:03:39.860 --> 00:03:43.760\nI kind on a cheating look it's\ncalled the bellman ford algorithm.\n\n77\n00:03:43.760 --> 00:03:47.810\nAnd it's just a simple matter of counting\nrouters and which number is bigger and\n\n78\n00:03:47.810 --> 00:03:48.900\nwhich number is smaller.\n\n79\n00:03:48.900 --> 00:03:50.900\nIt's not anything too crazy there.\n\n80\n00:03:52.150 --> 00:03:56.870\nNow do remember that we can have ties that\nwhen you have a routing topology it's\n\n81\n00:03:56.870 --> 00:03:59.720\npossible that you could have the same\namount of hops in two different way so\n\n82\n00:03:59.720 --> 00:04:01.310\nlets had in an extra router.\n\n83\n00:04:01.310 --> 00:04:05.040\nSo, now, I've got routers two,\nfour and six across the top and\n\n84\n00:04:05.040 --> 00:04:07.770\nI've got three, five and\nsix across the bottom.\n\n85\n00:04:07.770 --> 00:04:08.640\nIn this scenario,\n\n86\n00:04:08.640 --> 00:04:13.630\nRIP is going to look at it and\nit's gonna see that it is two equal pads.\n\n87\n00:04:13.630 --> 00:04:16.480\nAnd with RIP it can do\nequal cost load balancing.\n\n88\n00:04:16.480 --> 00:04:20.220\nIn other words both of these routes\nwould make it in the routing table, and\n\n89\n00:04:20.220 --> 00:04:22.590\nif we're running Cisco Express\nforwarding it's gonna take that and\n\n90\n00:04:22.590 --> 00:04:25.478\nload balance our traffic across\nthe two different paths.\n\n91\n00:04:25.478 --> 00:04:29.710\nSo RIP will take care of that for us if\nwe've got the extra networks there, or\n\n92\n00:04:29.710 --> 00:04:32.300\nthe extra paths available.\n\n93\n00:04:32.300 --> 00:04:35.330\nThis scenario,\nthey're both looked at as the same.\n\n94\n00:04:36.520 --> 00:04:40.490\nNow RIP is very simple and\nit works on a very simple mechanism.\n\n95\n00:04:40.490 --> 00:04:41.930\nWe just count routers.\n\n96\n00:04:41.930 --> 00:04:45.330\nThat means, on a positive side,\nRIP super efficient.\n\n97\n00:04:45.330 --> 00:04:50.330\nYou can have, literally, the cheapest\nrouter you can buy with the smallest\n\n98\n00:04:50.330 --> 00:04:55.190\namount of RAM, and it just, lowest amount\nof resources, and it'll run RIP just fine.\n\n99\n00:04:55.190 --> 00:04:59.130\nBecause all it's doing is talking\nto its neighbor and saying,\n\n100\n00:04:59.130 --> 00:05:02.560\nhere's the routes I know about, and\nhere's how many hops the way they are.\n\n101\n00:05:02.560 --> 00:05:06.940\nAnd, we learn to route, all we do is to\ntake the route we learned and however many\n\n102\n00:05:06.940 --> 00:05:09.970\nhops the other person is advertising,\nwe just add one to it, all right?\n\n103\n00:05:09.970 --> 00:05:12.570\nWell, I just learned it so\nI thought more hops, so we just added one.\n\n104\n00:05:12.570 --> 00:05:17.480\nSo all your router is doing\nis adding one to a number.\n\n105\n00:05:17.480 --> 00:05:19.330\nThat's not hard.\n\n106\n00:05:19.330 --> 00:05:23.080\nAnd it does get a little complex\nthe bigger the network gets,\n\n107\n00:05:23.080 --> 00:05:24.690\nthe harder it becomes to work.\n\n108\n00:05:24.690 --> 00:05:28.260\nAnd so RIP actually does have a maximum\npath and the maximum path is 15 hops.\n\n109\n00:05:29.460 --> 00:05:33.330\nThat 15 hops means our network\ncan't grow to be gigantic.\n\n110\n00:05:33.330 --> 00:05:35.350\nAfter 15 hops RIP kind of breaks.\n\n111\n00:05:35.350 --> 00:05:42.200\nSo the most complex math that RIP\nwould ever have to do is 14 plus one.\n\n112\n00:05:42.200 --> 00:05:45.790\nSo if you can do 14 plus one in your head,\nyou are fully capable of doing RIP routing\n\n113\n00:05:45.790 --> 00:05:47.960\nright there in your mind which\nhopefully you're able to.\n\n114\n00:05:47.960 --> 00:05:50.490\nSo that's as complex as RIP gets,\nreally simple.\n\n115\n00:05:51.568 --> 00:05:53.020\nBut the trade-off for\n\n116\n00:05:53.020 --> 00:05:57.120\nbeing simple is that it can\nsometimes make bad decisions, right?\n\n117\n00:05:57.120 --> 00:05:59.120\nFor example,\nI'm just looking at hop count.\n\n118\n00:06:00.370 --> 00:06:02.130\nBut what are the bandwidth of these lines?\n\n119\n00:06:02.130 --> 00:06:04.620\nWhat are the other\ncharacteristics of these lines?\n\n120\n00:06:04.620 --> 00:06:08.820\nThere might be certain things that make\none path preferable to another, and\n\n121\n00:06:08.820 --> 00:06:11.080\nhop count doesn't reflect it, right?\n\n122\n00:06:11.080 --> 00:06:14.270\nSo for example let's slap some\nbandwidths on these lines.\n\n123\n00:06:14.270 --> 00:06:18.420\nNow when I look at it,\nI can see that across the top,\n\n124\n00:06:18.420 --> 00:06:21.000\nI've got 100Mb, 100Mb, 100Mb.\n\n125\n00:06:21.000 --> 00:06:25.440\nSo if I go Router two, four,\nsix, it's 100Mb the whole way.\n\n126\n00:06:25.440 --> 00:06:32.074\nDown on the bottom, I've got routers\nthree, five, six and I've got 10MB,10MB.\n\n127\n00:06:32.074 --> 00:06:33.910\nWell, I've only got got 10MB down here,\n\n128\n00:06:33.910 --> 00:06:39.080\nI got 100MB up here, okay, ten times\nthe bandwidth across the top line, right?\n\n129\n00:06:39.080 --> 00:06:44.230\nSo, as human beings we can look at that\nand this is my kind of math right here.\n\n130\n00:06:44.230 --> 00:06:45.870\nIs 100 bigger than ten?\n\n131\n00:06:45.870 --> 00:06:46.590\nYes.\n\n132\n00:06:46.590 --> 00:06:47.580\nI want to go 100.\n\n133\n00:06:47.580 --> 00:06:49.440\nIt's as simple as that.\n\n134\n00:06:49.440 --> 00:06:50.470\nRIP can't do that.\n\n135\n00:06:50.470 --> 00:06:52.110\nRIP isn't capable of doing that.\n\n136\n00:06:52.110 --> 00:06:55.150\nRIP's metric is simply hop count.\n\n137\n00:06:55.150 --> 00:07:00.230\nThe metric it uses for\ncalculating distance is purely hop count.\n\n138\n00:07:00.230 --> 00:07:01.260\nThat's it.\n\n139\n00:07:01.260 --> 00:07:03.880\nSo it doesn't pay attention to bandwidth,\nload,\n\n140\n00:07:03.880 --> 00:07:08.510\nreliability, MTU,\nwhat's the other one, delay?\n\n141\n00:07:08.510 --> 00:07:10.240\n>> Delay.\n>> It doesn't take into account any of\n\n142\n00:07:10.240 --> 00:07:12.210\nthose other metrics we talked\nabout in the other episode,\n\n143\n00:07:12.210 --> 00:07:16.100\nit just looks at hop count, and\nas a result it can make bad decisions.\n\n144\n00:07:16.100 --> 00:07:21.680\nNow it's not making a wrong decision,\nit will always find you a valid route.\n\n145\n00:07:21.680 --> 00:07:24.670\nSo even if I send traffic across\nthe bottom, it's still a valid route,\n\n146\n00:07:24.670 --> 00:07:28.170\nI still get to the network I was\ngetting to, it's just slower.\n\n147\n00:07:28.170 --> 00:07:31.550\nAnd so\nwhat that's called is sub-optimal routing.\n\n148\n00:07:31.550 --> 00:07:32.580\nOkay.\n\n149\n00:07:32.580 --> 00:07:36.190\nWhen traffic goes, from the first\nnetwork over to the second network.\n\n150\n00:07:36.190 --> 00:07:39.540\nIf I go across the bottom path,\nthat's not the optimal path.\n\n151\n00:07:39.540 --> 00:07:40.720\nIt's not the best path.\n\n152\n00:07:40.720 --> 00:07:42.910\nThe best path, is across the top, right?\n\n153\n00:07:42.910 --> 00:07:46.400\nSo I'm in an environment,\nthat can create, sub-optimal routes.\n\n154\n00:07:46.400 --> 00:07:49.583\nThey're still valid,\nthey're just not the best, right?\n\n155\n00:07:49.583 --> 00:07:53.239\nAnd if I put in a protocol,\nlike OSPF or EIGRP.\n\n156\n00:07:53.239 --> 00:07:55.893\nThose guys, they look at bandwidth.\n\n157\n00:07:55.893 --> 00:07:59.706\nThey make better decisions and\nthey'll give me a more optimal experience,\n\n158\n00:07:59.706 --> 00:08:01.982\nand they're also designed to scale bigger.\n\n159\n00:08:01.982 --> 00:08:06.158\nAnd so that makes them a little more\nattractive to businesses and enterprises,\n\n160\n00:08:06.158 --> 00:08:08.790\nand that's why we don't see RIP in play,\nright?\n\n161\n00:08:08.790 --> 00:08:12.652\nThe other thing about RIP is\nit's a timer based protocol.\n\n162\n00:08:12.652 --> 00:08:15.637\nSo when our network,\nwhen we start bringing up new routers,\n\n163\n00:08:15.637 --> 00:08:19.513\nby default RIP is sending out these\nlittle advertisements, these messages.\n\n164\n00:08:19.513 --> 00:08:23.142\nSo, every 30 seconds,\nrouter one is gonna say, hey,\n\n165\n00:08:23.142 --> 00:08:28.058\nI'm connected to 192.168.0, and\nso it's gonna send a message out\n\n166\n00:08:28.058 --> 00:08:32.841\ninto this network here and router two and\nrouter three are gonna hear that.\n\n167\n00:08:32.841 --> 00:08:38.215\nEvery 30 seconds, they're gonna hear\nthat that network exists, okay.\n\n168\n00:08:38.215 --> 00:08:43.449\nAnd then every 30 seconds, these routers\nwill advertise to their neighbor, right.\n\n169\n00:08:43.449 --> 00:08:46.765\nAnd then every 30 seconds,\nthe neighbor will advertise down the line.\n\n170\n00:08:46.765 --> 00:08:51.379\nSo if you think about it,\nrouter one can generate a message and\n\n171\n00:08:51.379 --> 00:08:54.150\nit passes down here to router three.\n\n172\n00:08:54.150 --> 00:08:58.160\nWell thirty seconds could pass by\nbefore it goes to router five.\n\n173\n00:08:58.160 --> 00:09:01.709\n30 seconds more could pass by\nbefore it gets to router six.\n\n174\n00:09:01.709 --> 00:09:06.011\nSo it could take a minute and a half for\nour route to make it all the way across.\n\n175\n00:09:06.011 --> 00:09:07.153\nNow that's pretty unusual, right?\n\n176\n00:09:07.153 --> 00:09:08.773\nThat would be worst case scenario.\n\n177\n00:09:08.773 --> 00:09:11.442\nBecause it all depends on\nwhere the timer is right?\n\n178\n00:09:11.442 --> 00:09:15.038\nI might have a router that's already\nat the 15 second mark when it learns\n\n179\n00:09:15.038 --> 00:09:15.798\nabout a route.\n\n180\n00:09:15.798 --> 00:09:17.590\nAnd so\nit tells it's neighbor 15 seconds later.\n\n181\n00:09:17.590 --> 00:09:21.219\nSo it's usually much faster, but\nit could be up to 30 seconds.\n\n182\n00:09:21.219 --> 00:09:23.293\nSo worst case scenario\nit could be a minute and\n\n183\n00:09:23.293 --> 00:09:25.660\na half before router six learns about it.\n\n184\n00:09:25.660 --> 00:09:30.363\nWell if I have a network failure, like\nlet's say this link right here were to\n\n185\n00:09:30.363 --> 00:09:35.079\nfail, pow, router six needs to learn,\nhey, I should go across that path.\n\n186\n00:09:35.079 --> 00:09:38.303\nBut it might take 30 seconds for\nrouter three to tell router five, and\n\n187\n00:09:38.303 --> 00:09:41.350\nit might take 30 more seconds for\nrouter five to tell router six.\n\n188\n00:09:41.350 --> 00:09:42.586\nAnd then router six learns and\n\n189\n00:09:42.586 --> 00:09:45.269\nsays, let me stop sending\ntraffic across the bottom path.\n\n190\n00:09:45.269 --> 00:09:49.300\nI'm gonna send traffic across the top\npath, cuz it's still good right?\n\n191\n00:09:49.300 --> 00:09:52.360\nBut that was a minute of\ndowntime that just happened.\n\n192\n00:09:52.360 --> 00:09:55.680\nAnd maybe your business is okay with that,\nmaybe that's fine.\n\n193\n00:09:55.680 --> 00:09:58.500\nMaybe you've got a mission\ncritical system, or\n\n194\n00:09:58.500 --> 00:10:02.713\nmaybe it's not mission critical,\nmaybe it's just really important.\n\n195\n00:10:02.713 --> 00:10:05.917\nMaybe you run a call center and\nyou have all voice over IP phones.\n\n196\n00:10:05.917 --> 00:10:10.683\nAnd so for a solid minute, all your phone\nlines are dead and then it kicks back on.\n\n197\n00:10:10.683 --> 00:10:14.926\nWell that means your entire company for a\nwhole minute wasn't able to do their job.\n\n198\n00:10:14.926 --> 00:10:17.493\nIt wasn't mission critical, but\nit was annoying as heck right?\n\n199\n00:10:17.493 --> 00:10:20.739\nSo That's the type of thing that we\nwant to prevent and RIP just cant do it.\n\n200\n00:10:20.739 --> 00:10:24.332\nSo those are reasons why we don't\nsee RIP in production anymore.\n\n201\n00:10:24.332 --> 00:10:28.396\nThe other protocols like OSPF and EIGRP,\nthey're what are called trigger-based.\n\n202\n00:10:28.396 --> 00:10:30.922\nSo when an event happens,\nthey immediately send out a message.\n\n203\n00:10:30.922 --> 00:10:32.228\nThey don't wait.\n\n204\n00:10:32.228 --> 00:10:34.985\nAnd the other thing is,\nwhen RIP sends an advertisement out,\n\n205\n00:10:34.985 --> 00:10:37.169\nit sends its whole routing table,\neverything.\n\n206\n00:10:37.169 --> 00:10:42.261\nEvery 30 seconds, it sends its whole\nrouting table, not in just what changed.\n\n207\n00:10:42.261 --> 00:10:45.535\nSo, the bigger the routing table,\nthe bigger those advertisements are.\n\n208\n00:10:45.535 --> 00:10:48.111\nSo, it's not terribly\nefficient on the network, but\n\n209\n00:10:48.111 --> 00:10:52.750\nthanks to our limit of 15 hops, that\nkeeps the routing table kind of small.\n\n210\n00:10:52.750 --> 00:10:56.470\nAnd in a large network where you\nmight have thousands of routes,\n\n211\n00:10:56.470 --> 00:11:00.150\nRIP just can't handle it,\nOSPF and EIGRP can.\n\n212\n00:11:00.150 --> 00:11:02.136\nBut remember that hop count,\nthat's really important.\n\n213\n00:11:02.136 --> 00:11:05.234\nWhen we call this a distance\nvector program or protocol,\n\n214\n00:11:05.234 --> 00:11:06.791\neach word means something.\n\n215\n00:11:06.791 --> 00:11:07.976\nAll right, so distance.\n\n216\n00:11:07.976 --> 00:11:12.112\nDistance means hop count,\nhow far away am I from that distance.\n\n217\n00:11:12.112 --> 00:11:16.720\nAnd then vector means which\ndirection do I need to go in.\n\n218\n00:11:16.720 --> 00:11:21.234\nRouter three may have more than one\ninterface, so it learns that if three\n\n219\n00:11:21.234 --> 00:11:25.612\nhops away from the 192.16,\nall right here it would be two hops.\n\n220\n00:11:25.612 --> 00:11:28.587\nIt learns just two hops\naway from 172.16.00.\n\n221\n00:11:28.587 --> 00:11:32.491\nThe distance is two hops, and\nthe vector is this interface right here.\n\n222\n00:11:32.491 --> 00:11:34.945\nWe're gonna go out this\ninterface to get to router five.\n\n223\n00:11:34.945 --> 00:11:39.337\nAnd that's our distance vector that makes\nup the distance vector protocol which is\n\n224\n00:11:39.337 --> 00:11:42.220\nwhat the Bellman-Ford Algorithm\nis all about.\n\n225\n00:11:42.220 --> 00:11:45.612\nSo a fairly simple process\nwith the way it now works.\n\n226\n00:11:45.612 --> 00:11:50.440\nNow there are two different\nversions of RIP that you'll see.\n\n227\n00:11:50.440 --> 00:11:55.592\nThe original version of RIP that came out,\nRIP version one, was a classfull protocol.\n\n228\n00:11:55.592 --> 00:11:56.802\nRemember how I said this was old?\n\n229\n00:11:56.802 --> 00:11:57.693\nIt is really old.\n\n230\n00:11:57.693 --> 00:12:02.222\nThe early days of IP before when\neverybody still followed the class A,\n\n231\n00:12:02.222 --> 00:12:04.391\nclass B, class C nomenclature.\n\n232\n00:12:04.391 --> 00:12:09.858\nAnd so in the original version of RIP, it\nwould exchange routes with other people,\n\n233\n00:12:09.858 --> 00:12:12.527\nand it would do it without a subnet mask.\n\n234\n00:12:12.527 --> 00:12:13.366\nIt would share a route.\n\n235\n00:12:13.366 --> 00:12:18.870\nIt would say, hey, I am connected to\n192.168.0.0 and that's it, right?\n\n236\n00:12:18.870 --> 00:12:22.166\nWell, the other side\nwouldn't get a subnet mask.\n\n237\n00:12:22.166 --> 00:12:23.869\nAnd so how would it know?\n\n238\n00:12:23.869 --> 00:12:28.974\nFor example, I've got 172.16.0.0/16.\n\n239\n00:12:28.974 --> 00:12:32.256\nWhat if I was doing that as a /24 instead?\n\n240\n00:12:32.256 --> 00:12:33.125\nCan I do that?\n\n241\n00:12:33.125 --> 00:12:34.907\nYeah, I can do that just fine.\n\n242\n00:12:34.907 --> 00:12:37.971\nBut RIP version one would see that and\nit would advertise it.\n\n243\n00:12:37.971 --> 00:12:42.517\nAnd it would say, hey,\nI've got 172.16.0.0/24,\n\n244\n00:12:42.517 --> 00:12:45.209\nwell, it wouldn't put in the /24.\n\n245\n00:12:45.209 --> 00:12:49.440\nSo when router five received it,\nit would look at that first octet, and\n\n246\n00:12:49.440 --> 00:12:50.716\nit would see 172.\n\n247\n00:12:50.716 --> 00:12:55.524\nAnd it would say 172 is a class B,\nso this must be 255.255.0.0 right?\n\n248\n00:12:55.524 --> 00:12:58.273\nIt would make it a /16.\n\n249\n00:12:58.273 --> 00:12:59.976\nThat can be problematic.\n\n250\n00:12:59.976 --> 00:13:07.068\nBecause what if, on the other side\nof my network, I have 172.16.1.0/24?\n\n251\n00:13:07.068 --> 00:13:11.796\nI have 172.16.0.0/24 on one side, and\n\n252\n00:13:11.796 --> 00:13:15.793\n172.16.1.0/24 on the other.\n\n253\n00:13:15.793 --> 00:13:17.086\nThat's two different networks.\n\n254\n00:13:17.086 --> 00:13:19.458\nRight, they're two different class C’s.\n\n255\n00:13:19.458 --> 00:13:22.813\nBut because route version one\ndoesn't share a subnet mask,\n\n256\n00:13:22.813 --> 00:13:25.593\nit would look at both of\nthese as the same network.\n\n257\n00:13:25.593 --> 00:13:30.782\nIt would see this network\nas 172.16.0.0/16 and\n\n258\n00:13:30.782 --> 00:13:36.678\nit would see this network\nover here as 172.16.0.0/16.\n\n259\n00:13:36.678 --> 00:13:39.791\nNow, I have a segmented network.\n\n260\n00:13:39.791 --> 00:13:42.071\nSome traffic will make\nit to the right network,\n\n261\n00:13:42.071 --> 00:13:44.072\nsome traffic make it to the left network.\n\n262\n00:13:44.072 --> 00:13:45.836\nI'm not gonna have\ncomplete communications.\n\n263\n00:13:45.836 --> 00:13:49.520\nAnd the network on the right will not be\nable to talk to the network on the left\n\n264\n00:13:49.520 --> 00:13:52.857\nbecause the routers are going to\nthink they're already there and so\n\n265\n00:13:52.857 --> 00:13:54.807\nthey're not gonna route the traffic.\n\n266\n00:13:54.807 --> 00:13:56.761\nSo RIP version one can be problematic.\n\n267\n00:13:56.761 --> 00:14:01.063\nFor the exam,\nremember that RIP version one is classful.\n\n268\n00:14:01.063 --> 00:14:04.952\nAnd when you turn on rip,\ndepending on your IOS version,\n\n269\n00:14:04.952 --> 00:14:08.283\nmost Cisco IOS versions\ndefault to version one.\n\n270\n00:14:08.283 --> 00:14:12.462\nSome of the very latest and greatest,\nsome of the newer 15.2's that are out and\n\n271\n00:14:12.462 --> 00:14:14.861\n15.3's actually default to version two.\n\n272\n00:14:14.861 --> 00:14:17.957\nBut most of what you encounter out\nthere in real life is gonna default to\n\n273\n00:14:17.957 --> 00:14:18.594\nversion one.\n\n274\n00:14:18.594 --> 00:14:19.687\nSo when we turn on RIP,\n\n275\n00:14:19.687 --> 00:14:23.094\none of the first things we need to do\nis to flip it into version two mode.\n\n276\n00:14:23.094 --> 00:14:26.333\nAnd version two operates almost\nidentically to version one.\n\n277\n00:14:26.333 --> 00:14:30.449\nThe big difference in version\ntwo when it sends a route out,\n\n278\n00:14:30.449 --> 00:14:32.602\nit also sends the subnet mask.\n\n279\n00:14:32.602 --> 00:14:36.806\nSo instead of just advertising 172.16.1.0,\n\n280\n00:14:36.806 --> 00:14:40.665\nit says that this is 172.16.1.0/24.\n\n281\n00:14:40.665 --> 00:14:46.469\nIt sends the subnet mask along with it and\nnow we can handle classless routing.\n\n282\n00:14:46.469 --> 00:14:51.580\nSo moving from RIP version one to RIP\nversion 2 gives us classless routing.\n\n283\n00:14:51.580 --> 00:14:54.066\nThe other big improvement we\nget with rip version two?\n\n284\n00:14:54.066 --> 00:14:57.861\nIn RIP version one,\neverything is done with a broadcast.\n\n285\n00:14:57.861 --> 00:15:01.159\nSo when router one goes to\nadvertise its routing table,\n\n286\n00:15:01.159 --> 00:15:03.274\nit does a broadcast on the network.\n\n287\n00:15:03.274 --> 00:15:06.384\nThat means every router is gonna see it,\nwhich is good, but\n\n288\n00:15:06.384 --> 00:15:10.677\nit also means every network printer,\nevery laptop, every cell phone or tablet,\n\n289\n00:15:10.677 --> 00:15:14.124\neverything else on the network is\ngonna see that broadcast also.\n\n290\n00:15:14.124 --> 00:15:15.348\nAnd again if they ignore it.\n\n291\n00:15:15.348 --> 00:15:17.842\nSo we're kind of wasting\nthe time of all those machines.\n\n292\n00:15:17.842 --> 00:15:20.324\nIn RIP version two they switched\nto a multicast address.\n\n293\n00:15:20.324 --> 00:15:22.668\nAnd that way they send one message and\n\n294\n00:15:22.668 --> 00:15:26.383\nit can go out to anybody who\nis listening for RIP messages.\n\n295\n00:15:26.383 --> 00:15:28.983\nSo your phone and In your printer,\nthey're not gonna do that, so\n\n296\n00:15:28.983 --> 00:15:30.084\nthey're not gonna get it.\n\n297\n00:15:30.084 --> 00:15:33.007\nBut the routers will, so\nit's much more efficient.\n\n298\n00:15:33.007 --> 00:15:36.419\nRip version 2 is more efficient,\nand it's classless.\n\n299\n00:15:36.419 --> 00:15:40.665\nBut otherwise, every weakness that RIP\nversion one has, RIP version two has also.\n\n300\n00:15:40.665 --> 00:15:43.390\nSo, we still have hop count\nthat comes into play, and\n\n301\n00:15:43.390 --> 00:15:46.492\nwe definitely don't get the great\nperformance out of that.\n\n302\n00:15:46.492 --> 00:15:50.230\nThere are some other weaknesses that\nyou need to be aware of with any\n\n303\n00:15:50.230 --> 00:15:51.846\ndistance vector protocol.\n\n304\n00:15:51.846 --> 00:15:52.479\nI say any.\n\n305\n00:15:52.479 --> 00:15:56.489\nThat's important because We're not gonna\nsee it in this show, but in the CCNA show,\n\n306\n00:15:56.489 --> 00:16:00.890\nwe're gonna cover EIGRP, Cisco's Enhanced\nInterior Gateway Routing Protocol.\n\n307\n00:16:00.890 --> 00:16:05.530\nAnd if you remember from earlier,\nI called it a hybrid routing protocol.\n\n308\n00:16:05.530 --> 00:16:08.580\nWell it's actually an advanced\ndistance vector protocol,\n\n309\n00:16:08.580 --> 00:16:11.660\nwhich means that EIGRP is\nactually is distance vector.\n\n310\n00:16:11.660 --> 00:16:16.080\nAnd so the weaknesses I'm about to\ntalk about in RIP are in EIGRP also.\n\n311\n00:16:16.080 --> 00:16:17.399\nSo we've got a plan for that.\n\n312\n00:16:17.399 --> 00:16:20.284\nLet me clarify,\ncuz I am being a little cryptic here and\n\n313\n00:16:20.284 --> 00:16:22.710\nthat's not gonna achieve anything.\n\n314\n00:16:22.710 --> 00:16:25.520\nSo, RIP has a few weaknesses.\n\n315\n00:16:25.520 --> 00:16:31.116\nOne of the biggest weaknesses for RIP is\nthat when you advertise out a network,\n\n316\n00:16:31.116 --> 00:16:35.280\nthat network goes across and\ngets learned by other routers, right?\n\n317\n00:16:35.280 --> 00:16:36.410\nThat's what we want.\n\n318\n00:16:36.410 --> 00:16:39.870\nRouter one tells router two, and\nrouter two tells router four, and\n\n319\n00:16:39.870 --> 00:16:42.860\nrouter four tells router three,\nand that's how everybody learns.\n\n320\n00:16:42.860 --> 00:16:46.810\nIn RIP, you only talk to your neighbors.\n\n321\n00:16:46.810 --> 00:16:48.540\nYou don't talk to anybody else.\n\n322\n00:16:48.540 --> 00:16:52.130\nSo for example, I've got 192.168.0.0.\n\n323\n00:16:52.130 --> 00:16:54.370\nRouter one is zero hops away.\n\n324\n00:16:54.370 --> 00:16:56.360\nRouter one is directly connected.\n\n325\n00:16:56.360 --> 00:16:58.170\nSo router one tells router two,\n\n326\n00:16:58.170 --> 00:17:01.780\nhey router two, I'm directly connected\nto this network, isn't that awesome?\n\n327\n00:17:01.780 --> 00:17:03.676\nAnd router two says,\nyeah, that is awesome.\n\n328\n00:17:03.676 --> 00:17:06.140\nYou can't get better\nthan directly connected.\n\n329\n00:17:06.140 --> 00:17:09.750\nSo it adds that network\nto its routing table, but\n\n330\n00:17:09.750 --> 00:17:12.320\nwhen router two does it,\nit adds it as one hop away.\n\n331\n00:17:12.320 --> 00:17:15.550\nIt says I'm one hop away because\nI have to go through router one.\n\n332\n00:17:15.550 --> 00:17:19.660\nWell when router two advertises\nthat to router four over here,\n\n333\n00:17:19.660 --> 00:17:21.120\nit's gonna tell router four.\n\n334\n00:17:21.120 --> 00:17:24.560\nAnd when it does it it's gonna say, hey\nrouter four, I know about 192.168.0.0 and\n\n335\n00:17:24.560 --> 00:17:25.390\nI'm one hop away.\n\n336\n00:17:25.390 --> 00:17:31.790\nAnd so router four is gonna learn it and\nhe's gonna say, well if he's\n\n337\n00:17:31.790 --> 00:17:37.630\none hop away, then I must be two hops\naway because I have to go to router two.\n\n338\n00:17:37.630 --> 00:17:40.020\nBut that's all router four knows.\n\n339\n00:17:40.020 --> 00:17:43.680\nRouter four doesn't know\nthat router one exists.\n\n340\n00:17:43.680 --> 00:17:47.010\nIt doesn't know the router's name, it\ndoesn't know what protocol it's running,\n\n341\n00:17:47.010 --> 00:17:50.300\nit doesn't know anything\nabout router one at all.\n\n342\n00:17:50.300 --> 00:17:53.730\nAll it knows is that router\ntwo is one hop away.\n\n343\n00:17:53.730 --> 00:17:57.690\nSo there is another router out there,\nbut that's all we know.\n\n344\n00:17:57.690 --> 00:17:59.800\nOkay, now why is that important?\n\n345\n00:17:59.800 --> 00:18:01.290\nCuz, technically we don't care.\n\n346\n00:18:01.290 --> 00:18:03.110\nRouter four is never gonna\ntalk to router one anyway.\n\n347\n00:18:03.110 --> 00:18:06.349\nRouter four has to send its stuff to\nrouter two cuz router two's in between\n\n348\n00:18:06.349 --> 00:18:08.210\nthem so it's gonna have to send it there.\n\n349\n00:18:08.210 --> 00:18:09.550\nSo why does it matter?\n\n350\n00:18:09.550 --> 00:18:11.260\nWell, the reason it matters,\n\n351\n00:18:11.260 --> 00:18:15.680\nis that potentially the router on\nthe other end, could be ourselves.\n\n352\n00:18:15.680 --> 00:18:18.990\nIt could be our own route\ncoming back to us, and\n\n353\n00:18:18.990 --> 00:18:20.920\nwe're learning our own route again.\n\n354\n00:18:20.920 --> 00:18:21.580\nRight?\n\n355\n00:18:21.580 --> 00:18:23.985\nAnd that's when we start\nto run into a problem.\n\n356\n00:18:23.985 --> 00:18:25.780\n>> And you end up with-.\n\n357\n00:18:25.780 --> 00:18:28.140\nI thought I had a little\npicture somewhere.\n\n358\n00:18:28.140 --> 00:18:30.170\nThere.\nWe can end up with something crazy like\n\n359\n00:18:30.170 --> 00:18:34.250\nthis, where a route comes around and\ngets advertised out.\n\n360\n00:18:34.250 --> 00:18:38.701\nSo router one advertises router two,\nrouter two advertises router four, router\n\n361\n00:18:38.701 --> 00:18:43.237\nfour advertises router three, router\nthree advertises back to router one.\n\n362\n00:18:43.237 --> 00:18:47.192\nTechnically, router one is\nlearning its on route again.\n\n363\n00:18:47.192 --> 00:18:51.320\nIt's learning it back,\nbut it doesn't know that.\n\n364\n00:18:51.320 --> 00:18:55.800\nIt doesn't know it because it has no\nidea who's on the backend of that route.\n\n365\n00:18:55.800 --> 00:19:00.140\nAnd that's a weakness that all\ndistance vector protocols have.\n\n366\n00:19:00.140 --> 00:19:03.870\nThey have no idea who's\nbeyond their neighbor.\n\n367\n00:19:03.870 --> 00:19:05.900\nRouter one only knows about router two and\nthree,\n\n368\n00:19:05.900 --> 00:19:08.290\nit doesn't know anything\nabout router four.\n\n369\n00:19:08.290 --> 00:19:10.630\nAnd router four doesn't know\nanything about router one.\n\n370\n00:19:10.630 --> 00:19:12.760\nSo, it just has no visibility.\n\n371\n00:19:14.060 --> 00:19:18.820\nSo, distance vector protocols\nhave to incorporate a few safety\n\n372\n00:19:18.820 --> 00:19:22.500\nfeatures that kick in to help make sure\nwe don't end up with routing loops,\n\n373\n00:19:22.500 --> 00:19:26.779\nwhere it just spirals around like this and\nwe end up with really suboptimal\n\n374\n00:19:26.779 --> 00:19:32.020\nrouting or incomplete routing where you\njust can't even get to your destination.\n\n375\n00:19:32.020 --> 00:19:33.990\nSo let's run through some\nof those technologies and\n\n376\n00:19:33.990 --> 00:19:36.600\nI'll show you how it tries to save itself.\n\n377\n00:19:36.600 --> 00:19:39.170\nThe first technology is probably\nthe most important one and\n\n378\n00:19:39.170 --> 00:19:41.060\nit's called split horizon.\n\n379\n00:19:41.060 --> 00:19:45.680\nSo, in terms of routes,\n\n380\n00:19:45.680 --> 00:19:50.280\nwhen we advertise a route to somebody,\nwe're usually telling\n\n381\n00:19:50.280 --> 00:19:52.290\nthem a route to get to a network\nthat they don't know how to get to.\n\n382\n00:19:52.290 --> 00:19:54.200\nSo they have no way to get there.\n\n383\n00:19:54.200 --> 00:19:55.730\nWe tell them how to get there.\n\n384\n00:19:55.730 --> 00:19:59.330\nBut occasionally, they might also\nhave a route to the same network and\n\n385\n00:19:59.330 --> 00:20:00.320\nthey would need to share that with us.\n\n386\n00:20:00.320 --> 00:20:03.880\nSo we have two-way exchanges\nof routing information.\n\n387\n00:20:03.880 --> 00:20:08.470\nWell, when there's a two-way exchange,\nthere's always a risk\n\n388\n00:20:08.470 --> 00:20:14.010\nthat that other router could be\ntelling me my own route back again.\n\n389\n00:20:14.010 --> 00:20:19.140\nSo router two is one hop away\nfrom the 192.168.0 network.\n\n390\n00:20:19.140 --> 00:20:23.460\nRouter two can go right over to router\none and get there, it's one hop away.\n\n391\n00:20:23.460 --> 00:20:26.930\nSo it tells router four,\nhey, I'm one hop away.\n\n392\n00:20:26.930 --> 00:20:29.440\nSo router four adds it to the routing\ntable and says, all right.\n\n393\n00:20:29.440 --> 00:20:31.930\nI'm router four I'm two hops away.\n\n394\n00:20:31.930 --> 00:20:35.610\nSo router four could\npotentially tell router two,\n\n395\n00:20:35.610 --> 00:20:37.770\nhey, I've got a route to 192.168.0.\n\n396\n00:20:37.770 --> 00:20:39.830\nIsn't that nice?\n\n397\n00:20:39.830 --> 00:20:42.110\nNow, what's router two gonna do?\n\n398\n00:20:42.110 --> 00:20:46.025\nRouter two is gonna say, well,\nI've got this route through router one.\n\n399\n00:20:46.025 --> 00:20:48.050\nIt's one hop away.\n\n400\n00:20:48.050 --> 00:20:51.400\nYou're telling me that\nyou're two hops away.\n\n401\n00:20:51.400 --> 00:20:54.455\nSo if I learn your route,\nI would have to go one more.\n\n402\n00:20:54.455 --> 00:20:56.430\nI'd be three hops away.\n\n403\n00:20:56.430 --> 00:21:00.580\nSo I could go one and I'm there, or\n\n404\n00:21:00.580 --> 00:21:05.210\nI could go one, two,\nthree, and then I'm there.\n\n405\n00:21:05.210 --> 00:21:07.470\nAll right, do you see how I went?\n\n406\n00:21:07.470 --> 00:21:09.290\nI went from router two to router four.\n\n407\n00:21:09.290 --> 00:21:13.351\nRouter four back to router two,\nover to router one on the end.\n\n408\n00:21:13.351 --> 00:21:15.610\nNow, you might think, wait a minute.\n\n409\n00:21:15.610 --> 00:21:16.655\nI'm not gonna do that.\n\n410\n00:21:16.655 --> 00:21:17.400\nIt's my own router.\n\n411\n00:21:17.400 --> 00:21:18.130\nI'm learning it back.\n\n412\n00:21:18.130 --> 00:21:21.320\nBut remember, as distance vector protocol\nI have no idea who the neighbor is.\n\n413\n00:21:21.320 --> 00:21:24.378\nRouter four is telling\nme he's two hops away.\n\n414\n00:21:24.378 --> 00:21:30.120\nI don't know that the first hop in his\nlist is me because I don't see that.\n\n415\n00:21:30.120 --> 00:21:31.910\nI don't have that visibility.\n\n416\n00:21:31.910 --> 00:21:35.910\nBut it's not gonna be a problem\nbecause that's two hops away.\n\n417\n00:21:35.910 --> 00:21:37.800\nI've got a one hop route,\nthat's better, so\n\n418\n00:21:37.800 --> 00:21:40.090\nit's not gonna make it in\nmy routing table, is it?\n\n419\n00:21:40.090 --> 00:21:42.500\nWell, what if there's a failure?\n\n420\n00:21:42.500 --> 00:21:43.710\nWhat if there's a failure on the network?\n\n421\n00:21:44.820 --> 00:21:48.260\nSo my link from router\ntwo to router one fails.\n\n422\n00:21:49.630 --> 00:21:54.230\nRouter four is telling me it's route and\nsaying, hey, I'm two hops away.\n\n423\n00:21:54.230 --> 00:21:55.450\nAnd I didn't care a minute ago.\n\n424\n00:21:55.450 --> 00:21:56.910\nI was like, well, your route's stupid so\n\n425\n00:21:56.910 --> 00:21:58.400\nI'm not going to put\nthat on my routing table.\n\n426\n00:21:58.400 --> 00:22:01.730\nI've got one hop,\nyou can keep your two hops and that's it.\n\n427\n00:22:01.730 --> 00:22:05.920\nBut now that I lost my connection,\nI'm gonna look at router four and say wow,\n\n428\n00:22:05.920 --> 00:22:06.858\nyou're two hops away.\n\n429\n00:22:06.858 --> 00:22:08.940\nI got nothing.\n\n430\n00:22:08.940 --> 00:22:10.259\nI'm gonna put your route\nin the routing table.\n\n431\n00:22:11.360 --> 00:22:12.300\nWell, what happens then?\n\n432\n00:22:12.300 --> 00:22:19.090\nI'm putting my own route back in my own\nrouting table, and it was two hops away.\n\n433\n00:22:19.090 --> 00:22:20.780\nI'm gonna add it back in as three hops.\n\n434\n00:22:21.790 --> 00:22:25.230\nSo now when I get traffic from\nthe 192.168.0 number, what's gonna happen?\n\n435\n00:22:25.230 --> 00:22:27.490\nI'm gonna send it to router four.\n\n436\n00:22:27.490 --> 00:22:29.440\nRouter four's gonna send it back to me.\n\n437\n00:22:29.440 --> 00:22:30.960\nAnd then I'm gonna send it\nback to router four and\n\n438\n00:22:30.960 --> 00:22:32.750\nrouter four is gonna send it back to me.\n\n439\n00:22:32.750 --> 00:22:34.480\nI now have a loop, right?\n\n440\n00:22:34.480 --> 00:22:36.760\nAnd that loop is gonna go forever.\n\n441\n00:22:36.760 --> 00:22:38.200\nI've created a routing loop in my network.\n\n442\n00:22:39.430 --> 00:22:40.560\nSo how do we fix that?\n\n443\n00:22:40.560 --> 00:22:42.580\nHow do we prevent that from happening?\n\n444\n00:22:42.580 --> 00:22:46.500\nWell, we have a technology\ncalled split horizon.\n\n445\n00:22:46.500 --> 00:22:50.070\nAnd split horizon is\na really simple concept.\n\n446\n00:22:50.070 --> 00:22:54.370\nIt says,\nif you learn a route on an interface,\n\n447\n00:22:54.370 --> 00:22:59.250\nnever advertise that exact same\nroute out the same interface.\n\n448\n00:22:59.250 --> 00:23:03.310\nThere's no point in me advertising out the\ninterface I learned it on cuz there's no\n\n449\n00:23:03.310 --> 00:23:04.720\nway I can make that better.\n\n450\n00:23:04.720 --> 00:23:08.030\nNow it's different if I learned\nit via another interface and\n\n451\n00:23:08.030 --> 00:23:09.120\nI actually have an improvement.\n\n452\n00:23:09.120 --> 00:23:09.970\nThat's different.\n\n453\n00:23:09.970 --> 00:23:13.440\nBut if I'm just reflecting the same route,\nthat's bad.\n\n454\n00:23:13.440 --> 00:23:16.580\nAnd so, your routers have split horizon.\n\n455\n00:23:16.580 --> 00:23:19.980\nThey split that interface to say I'll\nallow that route to come in, and\n\n456\n00:23:19.980 --> 00:23:22.920\nwhen I advertise it out, I'll advertise\nit everywhere else, but not on that link.\n\n457\n00:23:23.940 --> 00:23:26.250\nThink of it as like a joke.\n\n458\n00:23:26.250 --> 00:23:29.452\nMaybe I tell Ronnie a joke, why did\nthe chicken cross the road or whatever,\n\n459\n00:23:29.452 --> 00:23:31.280\nand it's hilarious and everybody laughs.\n\n460\n00:23:31.280 --> 00:23:33.770\nAnd then the next day we come into\nthe office and Ronnie says to me, hey,\n\n461\n00:23:33.770 --> 00:23:35.800\nDon, I got a new joke.\n\n462\n00:23:35.800 --> 00:23:36.380\nI'm like okay.\n\n463\n00:23:36.380 --> 00:23:38.360\nAnd he says why did\nthe chicken cross the road?\n\n464\n00:23:38.360 --> 00:23:41.190\nAnd I'm thinking, well,\nI told you that joke, Ronnie.\n\n465\n00:23:41.190 --> 00:23:42.600\nI'm not gonna laugh at that.\n\n466\n00:23:42.600 --> 00:23:45.890\nThere's no point in Ronnie telling\nme the same joke I told him\n\n467\n00:23:45.890 --> 00:23:47.260\nbecause I'm the one who told him.\n\n468\n00:23:47.260 --> 00:23:48.350\nIt's not gonna be funny.\n\n469\n00:23:48.350 --> 00:23:49.426\nSame thing with a route.\n\n470\n00:23:49.426 --> 00:23:51.804\nIf router two told router\nfour about the route,\n\n471\n00:23:51.804 --> 00:23:55.200\nthere's no point in router four\ntelling it back, and so it won't.\n\n472\n00:23:55.200 --> 00:23:58.596\nAnd that's a rule that's\nimplemented in Cisco routers.\n\n473\n00:23:58.596 --> 00:24:00.210\nIt's not a part of the standard.\n\n474\n00:24:00.210 --> 00:24:03.340\nThat other routing vendors have\ndifferent ways of handling it.\n\n475\n00:24:03.340 --> 00:24:05.460\nSome of them just use split\nhorizon just like this.\n\n476\n00:24:05.460 --> 00:24:08.760\nBut on Cisco they use split horizon and\nthat stops this from happening.\n\n477\n00:24:08.760 --> 00:24:10.490\nWe won't learn it.\n\n478\n00:24:10.490 --> 00:24:13.340\nAll right so\nsplit horizon it works pretty well.\n\n479\n00:24:13.340 --> 00:24:17.970\nBut let's just say for a moment that\nwe choose to disable split horizon.\n\n480\n00:24:17.970 --> 00:24:18.770\nIt's on by default.\n\n481\n00:24:18.770 --> 00:24:19.930\nThere's no configuration for\n\n482\n00:24:19.930 --> 00:24:22.630\nsplit horizon as far as turning\nit on because it's already on.\n\n483\n00:24:22.630 --> 00:24:24.200\nIt's built into your router.\n\n484\n00:24:24.200 --> 00:24:26.270\nBut there are some scenarios\nwhere you might turn it off.\n\n485\n00:24:26.270 --> 00:24:28.260\nProbably not on the exam, but\n\n486\n00:24:28.260 --> 00:24:32.140\nif you're doing point to multi-point\nframe relay, you will typically turn it\n\n487\n00:24:32.140 --> 00:24:35.380\noff there because you have more than\none point on the end of your link and\n\n488\n00:24:35.380 --> 00:24:38.730\nyou need to be able to advertise a route\nback out the same interface it came in on.\n\n489\n00:24:38.730 --> 00:24:42.490\nSo, in those scenarios if I don't\nhave split-horizon protecting me,\n\n490\n00:24:42.490 --> 00:24:43.880\ndo I get routing loops?\n\n491\n00:24:43.880 --> 00:24:48.260\nWell no, I actually have another\ntechnology that's helping me.\n\n492\n00:24:48.260 --> 00:24:53.040\nAnd that is when we start learning\nthese routes, we pay attention to\n\n493\n00:24:53.040 --> 00:24:57.700\na few other things, mainly we have this\nneat one called 'Count to Infinity'.\n\n494\n00:24:57.700 --> 00:25:02.040\nLet me go back to our scenario here,\nand we had that link fail.\n\n495\n00:25:02.040 --> 00:25:02.610\nRight?\n\n496\n00:25:02.610 --> 00:25:04.710\nAnd when the link failed, all of a sudden,\n\n497\n00:25:04.710 --> 00:25:07.480\nrouter four is a route\nthat I've been ignoring.\n\n498\n00:25:07.480 --> 00:25:09.040\nI start paying attention to it.\n\n499\n00:25:09.040 --> 00:25:11.150\nI'm like, wow,\nthat route is not so bad anymore.\n\n500\n00:25:11.150 --> 00:25:14.550\nI had a one hop route to\nget to the destination.\n\n501\n00:25:14.550 --> 00:25:16.070\nBut now that it's failed,\n\n502\n00:25:16.070 --> 00:25:18.970\nthere's this two hop route coming\nfrom router four that I like.\n\n503\n00:25:18.970 --> 00:25:22.010\nNow, I don't know that it\nwas actually router four\n\n504\n00:25:22.010 --> 00:25:24.120\nto me to router one to the destination,\nright?\n\n505\n00:25:24.120 --> 00:25:25.460\nThat that was the two hops.\n\n506\n00:25:25.460 --> 00:25:30.120\nbut I learn it as three hops and\nI put in my routing table.\n\n507\n00:25:30.120 --> 00:25:32.500\nNow, router four was learning it for me.\n\n508\n00:25:32.500 --> 00:25:35.543\nSo when I learn it as a three hop route,\nwhat do I do?\n\n509\n00:25:35.543 --> 00:25:39.660\nI start advertising it\nas a three hop route.\n\n510\n00:25:39.660 --> 00:25:44.800\nAnd router four learns it as a three hop\nround and says you were telling me it was\n\n511\n00:25:44.800 --> 00:25:48.530\ntwo hops a minute ago,\nnow you're telling me it's three hops.\n\n512\n00:25:48.530 --> 00:25:53.250\nSo I need to advertise it out\nas three hops and we bump it up\n\n513\n00:25:53.250 --> 00:25:57.230\nto four hops and then we bump it up\nto five hops and advertise down.\n\n514\n00:25:57.230 --> 00:26:00.100\nNow we advertise it as six hops and\nseven hops and eight hops.\n\n515\n00:26:00.100 --> 00:26:02.180\nSo we start going up.\n\n516\n00:26:02.180 --> 00:26:04.960\nAnd we're trapped in what's\ncalled count to infinity.\n\n517\n00:26:04.960 --> 00:26:08.450\nCount to infinity means this metric is\ngonna keep going up, and up, and up,\n\n518\n00:26:08.450 --> 00:26:10.360\nand up forever, right?\n\n519\n00:26:10.360 --> 00:26:13.890\nAnd if I let that happen, the routers\nwill just constantly advertise back and\n\n520\n00:26:13.890 --> 00:26:15.370\nforth and that metric will get bigger,\nand bigger,\n\n521\n00:26:15.370 --> 00:26:18.110\nand bigger until the number gets big\nenough to fill up the address space.\n\n522\n00:26:18.110 --> 00:26:19.810\nAnd then it usually crashes\nthe routing protocol.\n\n523\n00:26:19.810 --> 00:26:22.530\nWhich is not good cuz then you\ndump your whole routing table.\n\n524\n00:26:22.530 --> 00:26:23.620\nI know we've got a bad route.\n\n525\n00:26:23.620 --> 00:26:26.380\nBut if you have any good routes,\nthey're now gone too.\n\n526\n00:26:26.380 --> 00:26:31.350\nSo every routing protocol leverages\nwhat's called a maximum metric.\n\n527\n00:26:31.350 --> 00:26:34.150\nThe metric just has a maximum number that\nsays hey we're not going to let it go any\n\n528\n00:26:34.150 --> 00:26:37.160\nhigher than this and if you remember from\nearlier in the episode I said RIP has\n\n529\n00:26:37.160 --> 00:26:43.680\na maximum hop count of 15 that if we\nhit more than 15 hops that's That's it.\n\n530\n00:26:43.680 --> 00:26:45.240\nThat's just too far.\n\n531\n00:26:45.240 --> 00:26:47.290\nWell, that's exactly\nwhat's gonna happen here.\n\n532\n00:26:47.290 --> 00:26:49.210\nThis is gonna count all the way up to 15.\n\n533\n00:26:49.210 --> 00:26:54.100\nAnd the instant I hear a route being\nadvertised to me with a metric of 15,\n\n534\n00:26:54.100 --> 00:26:57.900\nI'm gonna look at it and say,\nwell, I would be 16 hops away.\n\n535\n00:26:57.900 --> 00:27:00.130\nThat's a bad route, and\nit's gonna throw it away.\n\n536\n00:27:00.130 --> 00:27:02.180\nSo Router 2 will throw it away,\n\n537\n00:27:02.180 --> 00:27:05.180\nwhich means it won't have anything\nto advertise to Router 4.\n\n538\n00:27:05.180 --> 00:27:08.910\nSo router 4's finally gonna lose\nit's route to router two and\n\n539\n00:27:08.910 --> 00:27:10.060\nthen it's gonna leave.\n\n540\n00:27:10.060 --> 00:27:15.510\nSo when this link fails, if split-horizon\nis turned on, it's already not a problem.\n\n541\n00:27:15.510 --> 00:27:16.370\nRight.\nThe routes gonna\n\n542\n00:27:16.370 --> 00:27:17.838\ndrop out of these routers then that's it.\n\n543\n00:27:17.838 --> 00:27:21.550\nBut if split-horizon is turned off\nthese two will bounce back and\n\n544\n00:27:21.550 --> 00:27:24.340\nforth as that metric counts\nall the way up to 15 and\n\n545\n00:27:24.340 --> 00:27:27.660\nthen moral will disappear and\nit will exit.\n\n546\n00:27:27.660 --> 00:27:29.940\nAnd then I don't have\na loop anymore right.\n\n547\n00:27:29.940 --> 00:27:31.900\nSo it kinda self heals.\n\n548\n00:27:31.900 --> 00:27:33.919\nSplit horizon prevents\nit in the first place\n\n549\n00:27:35.450 --> 00:27:37.840\nmaximum metrics prevent it\nfrom getting out of hand.\n\n550\n00:27:37.840 --> 00:27:40.690\nPrevent us to count to\ninfinity if it does happen so\n\n551\n00:27:40.690 --> 00:27:45.374\none is preventative, one is proactive and\nthe other one is reactive.\n\n552\n00:27:45.374 --> 00:27:48.170\nSplit horizon is proactive, and\nthen maximum metric that is also reactive.\n\n553\n00:27:48.170 --> 00:27:49.730\nThey stop it from becoming a problem.\n\n554\n00:27:49.730 --> 00:27:55.160\nThose two combined, will prevent\nthe majority of routing loops inside of\n\n555\n00:27:55.160 --> 00:27:57.670\na distance vector protocol.\n\n556\n00:27:57.670 --> 00:27:59.280\nThe IGRP uses it, RIP uses it.\n\n557\n00:27:59.280 --> 00:28:03.280\nOSPF actually Just a little bit smarter,\nso it doesn't have these problems.\n\n558\n00:28:03.280 --> 00:28:06.340\nBut the IGPR rip absolutely\nmake use of these and\n\n559\n00:28:06.340 --> 00:28:08.220\nthey're able to take advantage of it.\n\n560\n00:28:08.220 --> 00:28:10.690\nThere is one more that I want to mention,\n\n561\n00:28:10.690 --> 00:28:12.990\nand it's a technology\ncalled poison reverse.\n\n562\n00:28:12.990 --> 00:28:16.910\nOkay, this whole scenario\ncould have been avoided\n\n563\n00:28:16.910 --> 00:28:21.980\nif router 2 would've communicated\nthat its link failed, all right.\n\n564\n00:28:21.980 --> 00:28:25.600\nAnd they actually do because there's\na technology called poison reverse.\n\n565\n00:28:25.600 --> 00:28:28.700\nAnd the way that poison\nreverse works is like this.\n\n566\n00:28:28.700 --> 00:28:33.270\nWith router 2, it was learning this\nroute and then the link failed.\n\n567\n00:28:33.270 --> 00:28:37.530\nWell, when router two is learning a real\nroute, it told it to router four and\n\n568\n00:28:37.530 --> 00:28:41.050\nrouter four learned that route and\nthe whole loop happened\n\n569\n00:28:41.050 --> 00:28:45.460\nbecause router four didn't know that route\nwas bad and was sending me a bad route.\n\n570\n00:28:45.460 --> 00:28:46.810\nRouter four just didn't know.\n\n571\n00:28:46.810 --> 00:28:50.810\nRouter four has no idea this physical link\nwent down somewhere else in the network.\n\n572\n00:28:50.810 --> 00:28:51.330\nAll right.\n\n573\n00:28:51.330 --> 00:28:53.210\nBecause router two didn't tell it.\n\n574\n00:28:53.210 --> 00:28:56.150\nRouter two just immediately\nsaid hey get me a new route and\n\n575\n00:28:56.150 --> 00:28:58.380\nbecause RIP is a timer-based\nprotocol anyway,\n\n576\n00:28:58.380 --> 00:29:02.090\nthere's a 30 second window where we're not\ntelling anybody that we lost that route.\n\n577\n00:29:02.090 --> 00:29:05.850\nAnd so in that 30 second window\nis where the loop comes in.\n\n578\n00:29:05.850 --> 00:29:09.530\nAnd once the loop is there,\nit's there until something stops it, and\n\n579\n00:29:09.530 --> 00:29:13.710\nthat's where count to infinity happens and\nmaximum metrics kick in.\n\n580\n00:29:13.710 --> 00:29:20.370\nBut what poison reverse does is it says\nhey, the moment we have a failure.\n\n581\n00:29:20.370 --> 00:29:22.910\nRouter two loses that link.\n\n582\n00:29:22.910 --> 00:29:25.940\nIt immediately poisons its route.\n\n583\n00:29:25.940 --> 00:29:29.550\nThe route that it was advertising,\nit was advertising as one hop away.\n\n584\n00:29:29.550 --> 00:29:31.940\nRouter two could get to\n192.168.0 in one hop.\n\n585\n00:29:31.940 --> 00:29:36.250\nIt could go to router one\ninto its destination but\n\n586\n00:29:36.250 --> 00:29:39.970\nas soon as that failure happens,\nrouter two will send out a poison.\n\n587\n00:29:39.970 --> 00:29:44.210\nAnd the way a poison works is\nit just takes the metric, and\n\n588\n00:29:44.210 --> 00:29:45.520\nmoves it up to the maximum value.\n\n589\n00:29:45.520 --> 00:29:47.790\nSo it was advertising\n192.168.0.0 as a metric of one.\n\n590\n00:29:47.790 --> 00:29:51.300\nNow it's going to advertise\nit as a metric of 15.\n\n591\n00:29:51.300 --> 00:29:55.100\nAnd so when router four sees that,\nrouter four is going to say, whoa, 15!\n\n592\n00:29:55.100 --> 00:29:56.880\nYou were one hop away, now you're 15.\n\n593\n00:29:56.880 --> 00:29:58.500\nThat would put me at 16.\n\n594\n00:29:58.500 --> 00:29:59.490\nForget that.\n\n595\n00:29:59.490 --> 00:30:03.430\nI'm gonna throw my route away too, and so\nwe're basically telling router four to\n\n596\n00:30:03.430 --> 00:30:07.280\nthrow our route away we're saying\nhey our route is no longer good.\n\n597\n00:30:07.280 --> 00:30:09.280\nIf we just remove it\nfrom a routing table and\n\n598\n00:30:09.280 --> 00:30:12.940\nthat's it, it's gonna take up to 30\nseconds for our neighbor to see it and\n\n599\n00:30:12.940 --> 00:30:17.060\neven longer for neighbors down the line\nbut if we immediately poison it.\n\n600\n00:30:17.060 --> 00:30:21.100\nThat'll take it out and now router 4 is\nnot gonna tell us our own route back again\n\n601\n00:30:21.100 --> 00:30:23.880\nbecause it's got a terrible metric, so\n\n602\n00:30:23.880 --> 00:30:28.020\nit's not gonna share a metric with us\nthat's this horrible and it goes away.\n\n603\n00:30:28.020 --> 00:30:29.820\nThat's called poison reverse.\n\n604\n00:30:29.820 --> 00:30:34.910\nWe're poisoning the route out so that we\ndon't get the on route coming back to us.\n\n605\n00:30:34.910 --> 00:30:37.250\nWe don't get that reverse\nroute coming back in, and so\n\n606\n00:30:37.250 --> 00:30:38.920\nthat happens it's very simple.\n\n607\n00:30:38.920 --> 00:30:44.670\nThis is really the same thing as a maximum\nmetric, we're just saving some time.\n\n608\n00:30:44.670 --> 00:30:48.160\nInstead of making it have to\nloop around to count up to 15,\n\n609\n00:30:48.160 --> 00:30:51.960\nwe're just immediately putting it\nto 15 and that stops it, right.\n\n610\n00:30:51.960 --> 00:30:53.570\nAnd that's called poison reverse.\n\n611\n00:30:53.570 --> 00:30:59.240\nSo between split horizon,\nmaximum metrics and poison reverse.\n\n612\n00:30:59.240 --> 00:31:03.610\nThat's three different technologies\nthat are all making sure\n\n613\n00:31:03.610 --> 00:31:05.720\nthat we don't end up with a loop.\n\n614\n00:31:05.720 --> 00:31:10.020\nRip in EIGRP need all three\nof those technologies or\n\n615\n00:31:10.020 --> 00:31:12.180\nyou will get routing\nloops in your network.\n\n616\n00:31:12.180 --> 00:31:14.120\nAnd the routing loops\nwill lead to bad traffic.\n\n617\n00:31:14.120 --> 00:31:17.380\nIt will read to not just\nsub-optimal traffic but\n\n618\n00:31:17.380 --> 00:31:21.470\nit will lead to incomplete routes, routes\nthat are just invalid and totally looped.\n\n619\n00:31:22.640 --> 00:31:26.270\nOSPF, a link state protocol like OSPF,\n\n620\n00:31:26.270 --> 00:31:30.660\nit works a completely different way so\nit doesn't get looped.\n\n621\n00:31:30.660 --> 00:31:32.360\nIt's loop free from end to end.\n\n622\n00:31:32.360 --> 00:31:33.910\nIt doesn't need any of these technologies.\n\n623\n00:31:33.910 --> 00:31:36.320\nOSPF doesn't need poison reverse.\n\n624\n00:31:36.320 --> 00:31:37.800\nIt doesn't need split horizon.\n\n625\n00:31:37.800 --> 00:31:42.342\nIt doesn't need maximum\nmetrics it has them right?\n\n626\n00:31:42.342 --> 00:31:47.245\nIt does use, absolutely uses maximum\nmetrics but it doesn't have to.\n\n627\n00:31:47.245 --> 00:31:52.007\nBecause it has its own loop prevention and\nwe'll see how that works in the CCNA show\n\n628\n00:31:52.007 --> 00:31:56.010\nBut that's poison reverse and\nit is kind of important because that,\n\n629\n00:31:56.010 --> 00:31:59.945\ncount to infinity, all of these\ndifferent things can lead to really\n\n630\n00:31:59.945 --> 00:32:03.860\nbad networks where you're looping\nyour traffic and that's it.\n\n631\n00:32:03.860 --> 00:32:06.340\nI guess it's worth mentioning, I don't\nknow if it would be on the exam, but\n\n632\n00:32:06.340 --> 00:32:07.970\nTTLs, right?\n\n633\n00:32:07.970 --> 00:32:12.870\nEvery packet that you send on the network\nhas a time to live assigned to it.\n\n634\n00:32:12.870 --> 00:32:16.800\nAnd every time you pass through a router,\nthe time to live is decremented by one.\n\n635\n00:32:16.800 --> 00:32:18.070\nSo when you end up in a loop,\n\n636\n00:32:18.070 --> 00:32:22.420\nevery router you pass through,\nyou're reducing that TTL by one.\n\n637\n00:32:22.420 --> 00:32:25.570\nAs it gets smaller and smaller,\nand when the TTL gets to zero,\n\n638\n00:32:25.570 --> 00:32:27.830\nthey don't forward your repacket anymore,\nthey just delete it.\n\n639\n00:32:27.830 --> 00:32:29.490\nThey're like it's been\nrattling around too long.\n\n640\n00:32:29.490 --> 00:32:33.800\nSo if a loop does happen, and\nthe packet's still just rattling around,\n\n641\n00:32:33.800 --> 00:32:36.180\nthere's that TTL mechanism\nthat can help us.\n\n642\n00:32:36.180 --> 00:32:38.130\nTTLs don't remove the loop, though.\n\n643\n00:32:38.130 --> 00:32:39.910\nThe loop is still there.\n\n644\n00:32:39.910 --> 00:32:42.135\nThey just stop you from\nrattling around forever.\n\n645\n00:32:42.135 --> 00:32:46.520\nIf you rattle around forever,\nevery packet that gets sent is gonna start\n\n646\n00:32:46.520 --> 00:32:48.530\nrattling around forever, and\nthere will be more and more and\n\n647\n00:32:48.530 --> 00:32:51.930\nmore, until you run out of bandwidth and\nyour whole network shuts down.\n\n648\n00:32:51.930 --> 00:32:53.360\nSo TTLs try and stop that.\n\n649\n00:32:53.360 --> 00:32:56.770\nThey don't to a great job of it though,\nthey're not terribly effective, but\n\n650\n00:32:56.770 --> 00:32:57.590\nthey do happen.\n\n651\n00:32:57.590 --> 00:33:01.560\nAnd if you ever just fire up\na simple ping, like if I try and\n\n652\n00:33:01.560 --> 00:33:04.260\nping out to the internet or\nsomething like that.\n\n653\n00:33:04.260 --> 00:33:07.810\nWhen you send a ping,\nyou'll notice a TTL right there,\n\n654\n00:33:07.810 --> 00:33:09.840\nthat time to live, and mine's a 57.\n\n655\n00:33:09.840 --> 00:33:11.483\nWell, it's not 57.\n\n656\n00:33:11.483 --> 00:33:13.250\nMine's actually 64.\n\n657\n00:33:13.250 --> 00:33:16.015\nWhen it left my workstation it was a 64,\nand\n\n658\n00:33:16.015 --> 00:33:19.350\nI passed through a number of routers\non my way to that destination.\n\n659\n00:33:19.350 --> 00:33:22.320\nAnd when I get my reply back,\nI can see my time was a 57.\n\n660\n00:33:22.320 --> 00:33:28.330\nSo that means that I passed through seven\nrouters between me and this destination.\n\n661\n00:33:28.330 --> 00:33:32.150\nIf I ping different locations on\nthe internet, so maybe if I try and\n\n662\n00:33:32.150 --> 00:33:34.840\nping, I don't know, itpro.tv.\n\n663\n00:33:34.840 --> 00:33:37.650\nSee how my TTL is at 56?\n\n664\n00:33:37.650 --> 00:33:39.980\nI'm eight routers away from that one.\n\n665\n00:33:39.980 --> 00:33:43.750\nIf I ping somebody right\nhere on the network with me,\n\n666\n00:33:43.750 --> 00:33:47.290\nif I ping my default gateway,\nmy TTL's a full 64.\n\n667\n00:33:47.290 --> 00:33:48.610\nI didn't pass through a single router.\n\n668\n00:33:48.610 --> 00:33:50.900\nI went right to the default gateway and\nback again.\n\n669\n00:33:50.900 --> 00:33:52.280\nThere's my full TTL.\n\n670\n00:33:52.280 --> 00:33:56.230\nWell, your operating system\ndetermines the TTL, not the router.\n\n671\n00:33:56.230 --> 00:33:59.230\nThe routers see what's already there and\njust accrement it by one.\n\n672\n00:33:59.230 --> 00:34:03.940\nSo my operating system could choose to\nhave a TTL of 256 if they wanted or 255.\n\n673\n00:34:03.940 --> 00:34:05.770\nI figure the maximum\nTTL is I think is 255.\n\n674\n00:34:05.770 --> 00:34:10.850\nSo it could be very high or it could be\nvery low, it just depends on your OS.\n\n675\n00:34:10.850 --> 00:34:12.830\nYou're the one who influences that.\n\n676\n00:34:12.830 --> 00:34:15.060\nAnd you'll see a lot of times,\nthe pink man lets you adjust it,\n\n677\n00:34:15.060 --> 00:34:17.100\nand you can tweak it, and mess with it.\n\n678\n00:34:17.100 --> 00:34:19.370\nBut that's another technology\nthat’s back there to stop loops and\n\n679\n00:34:19.370 --> 00:34:22.250\nhelp prevent things like just inspect\nthe protocols for malfunctioning.\n\n680\n00:34:23.650 --> 00:34:28.700\nAll right, I think we've seen enough\nto understand how RIP works, but\n\n681\n00:34:28.700 --> 00:34:30.770\nwe haven't actually seen it work.\n\n682\n00:34:30.770 --> 00:34:32.870\nSo we need to get in the configuration and\nput in place and\n\n683\n00:34:32.870 --> 00:34:35.870\nget our routers exchanging information and\ntalking and being happy, and\n\n684\n00:34:35.870 --> 00:34:36.850\nthat's what gonna come up next.\n\n685\n00:34:36.850 --> 00:34:38.695\nI know I'm way over on time for\nthis episode.\n\n686\n00:34:38.695 --> 00:34:41.450\nWe're gonna have to do that in part two.\n\n687\n00:34:41.450 --> 00:34:42.136\n>> All right, Don.\n\n688\n00:34:42.136 --> 00:34:45.330\nWell thank you again for\nintroducing us to the concepts of RIP.\n\n689\n00:34:45.330 --> 00:34:47.630\nThe idea here,\nrouting information protocol.\n\n690\n00:34:47.630 --> 00:34:51.410\nI know it sounds funny but do note that\nthat's what that acronym does stand for.\n\n691\n00:34:51.410 --> 00:34:52.530\nThere are two versions of it.\n\n692\n00:34:52.530 --> 00:34:54.240\nRIP version one, version two.\n\n693\n00:34:54.240 --> 00:34:58.110\nThey'll distinguish the difference between\nwhether one actually supports subnet, or\n\n694\n00:34:58.110 --> 00:34:59.572\nit doesn't support subnets.\n\n695\n00:34:59.572 --> 00:35:01.390\nThose are also important concepts too.\n\n696\n00:35:01.390 --> 00:35:05.670\nAnd then Don also talked about the idea\nof some of those loop prevention.\n\n697\n00:35:05.670 --> 00:35:09.547\nMake sure you go over that,\ncount to infinity, the split horizon,\n\n698\n00:35:09.547 --> 00:35:11.605\nas well as the poison reverse.\n\n699\n00:35:11.605 --> 00:35:14.255\nUnderstanding those concepts\nare also going to be key to you.\n\n700\n00:35:14.255 --> 00:35:18.615\nAlso being able to be\nsuccessful on the exam as well.\n\n701\n00:35:18.615 --> 00:35:22.075\nWell, we still have to actually take\na look at a configuration episode then\n\n702\n00:35:22.075 --> 00:35:25.135\non RIP, but that's actually\ngoing to be saved for part two.\n\n703\n00:35:25.135 --> 00:35:27.400\nSo it's a great place for\nus to also sign off.\n\n704\n00:35:27.400 --> 00:35:29.680\nFor ITProTV, I've been your host,\nRonnie Wong.\n\n705\n00:35:29.680 --> 00:35:30.910\n>> And I'm Don Pezet.\n\n706\n00:35:30.910 --> 00:35:35.349\n>> Stay tuned right here for\nmore Cisco CCENT shows.\n\n707\n00:35:35.349 --> 00:35:39.670\n[MUSIC]\n\n708\n00:35:39.670 --> 00:35:42.641\n[SOUND]\n\n",
          "vimeoId": "175691088"
        },
        {
          "description": "In this episode, Ronnie and Don show how to configure and verify implementing RIP.  They show configuring both RIP and RIPv2 and discuss the differences.  They also show how to verify not only RIP operations and routing but debugging and timers as well.",
          "length": "2508",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-3-4-2-routing_information_protocol_pt.2-072016-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-3-4-2-routing_information_protocol_pt.2-072016-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-3-4-2-routing_information_protocol_pt.2-072016-1-sm.jpg",
          "title": "Routing Information Protocol Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.005 --> 00:00:02.529\n[SOUND]\n\n2\n00:00:02.529 --> 00:00:12.009\n[MUSIC]\n\n3\n00:00:12.009 --> 00:00:13.050\nWelcome back to another great\nepisode right here on ITProTV.\n\n4\n00:00:15.310 --> 00:00:16.880\nI'm your host Ronnie Wong.\n\n5\n00:00:16.880 --> 00:00:20.490\nAnd you've actually turned\ninto the Cisco CCENT show.\n\n6\n00:00:20.490 --> 00:00:23.750\nAnd we're actually in the middle of taking\na look at routing information protocol.\n\n7\n00:00:23.750 --> 00:00:26.580\nWe're in a part two, and\nwho better to help us to complete\n\n8\n00:00:26.580 --> 00:00:28.860\nour knowledge set about that than Mr.\nDon Pezet?\n\n9\n00:00:28.860 --> 00:00:30.710\nDon, welcome back.\n>> Thanks for having me back Ronnie.\n\n10\n00:00:30.710 --> 00:00:33.260\nReady to dive right back in and\nkind of wrap up.\n\n11\n00:00:33.260 --> 00:00:35.270\nIn the last episode we\nstarted talking about RIP,\n\n12\n00:00:35.270 --> 00:00:39.780\nthe Routing Information Protocol, and\nwe learned all about how it worked and\n\n13\n00:00:39.780 --> 00:00:43.630\nsome of its good parts and some of its bad\nparts and all that entertaining stuff.\n\n14\n00:00:43.630 --> 00:00:45.567\nBut the one thing we didn't do,\nis actually use the darn thing.\n\n15\n00:00:45.567 --> 00:00:48.034\n>> [LAUGH]\n>> So we never actually configured it.\n\n16\n00:00:48.034 --> 00:00:50.547\nSo that's what we are going to be taking\na look at right here in this episode,\n\n17\n00:00:50.547 --> 00:00:51.588\nis how do we get it configured?\n\n18\n00:00:51.588 --> 00:00:56.220\nHow do we make sure it's working, and how\ndo we troubleshoot it if it's not working?\n\n19\n00:00:56.220 --> 00:00:58.150\nSo we're gonna do that.\n\n20\n00:00:58.150 --> 00:01:00.870\nLet's start off by taking a look\nat my topology real quick, so\n\n21\n00:01:00.870 --> 00:01:02.290\nthis is the topology I have.\n\n22\n00:01:02.290 --> 00:01:05.560\nI have six routers, and\nthe routers are kinda spread out and\n\n23\n00:01:05.560 --> 00:01:06.830\nconnected different ways.\n\n24\n00:01:06.830 --> 00:01:11.360\nRouters 1, 2, and 3, they're all right\nhere together, they can see each\n\n25\n00:01:11.360 --> 00:01:15.440\nother on this one network, 192.168.1.0 So\nthere's a switch right here.\n\n26\n00:01:15.440 --> 00:01:18.100\nAnd these three routers are all\nplugged into it and happy.\n\n27\n00:01:18.100 --> 00:01:21.536\nMost of the other routers have point\nto point links that are connecting them\n\n28\n00:01:21.536 --> 00:01:22.090\ntogether.\n\n29\n00:01:22.090 --> 00:01:25.320\nAnd each of those point to point\nlinks are separate networks.\n\n30\n00:01:25.320 --> 00:01:27.900\nAnd that's part of the problem that\nwe saw in the episode yesterday,\n\n31\n00:01:27.900 --> 00:01:31.690\nwas how these routers aren't going to know\nabout those networks because they're not\n\n32\n00:01:31.690 --> 00:01:33.070\ndirectly plugged into them.\n\n33\n00:01:33.070 --> 00:01:35.830\nRouter four does not have\na direct connection in\n\n34\n00:01:35.830 --> 00:01:38.580\nthis network between router three and\nrouter five.\n\n35\n00:01:38.580 --> 00:01:44.370\nSo I'm gonna have to teach it about that\nnetwork, and I can do that manually.\n\n36\n00:01:44.370 --> 00:01:45.740\nI can do it with static routes, but\n\n37\n00:01:45.740 --> 00:01:48.650\nwith RIP the routers will just\nstart to talk to each other.\n\n38\n00:01:48.650 --> 00:01:50.640\nThey'll exchange information and\n\n39\n00:01:50.640 --> 00:01:53.890\nthey'll learn about the networks\nwithout me having to do it.\n\n40\n00:01:53.890 --> 00:01:57.970\nAnd that means if I add or change the\nnetwork, well, they'll react and learn it.\n\n41\n00:01:57.970 --> 00:01:59.870\nSo that's what we want to get set up.\n\n42\n00:01:59.870 --> 00:02:03.560\nNow if I wanna look at the actual\nsubnets here, let me just change that.\n\n43\n00:02:03.560 --> 00:02:06.200\nAnd here I've got them all laid out for\nus.\n\n44\n00:02:06.200 --> 00:02:08.095\nLet's use router four\nas our guinea pig here.\n\n45\n00:02:08.095 --> 00:02:11.818\nSo router four is directly plugged\ninto the 192.168.2.0 network and\n\n46\n00:02:11.818 --> 00:02:13.688\nthe 192.168.4.0 network.\n\n47\n00:02:13.688 --> 00:02:14.935\nRight so directly plugged in.\n\n48\n00:02:16.165 --> 00:02:18.247\nIt'll know about those already\nwithout me lifting a finger.\n\n49\n00:02:18.247 --> 00:02:23.992\nBut if I wanted to know about 192.168.1\n.0, .3, .5, all these other networks,\n\n50\n00:02:23.992 --> 00:02:28.282\nand the 172.16 network way up there,\nI'm gonna have to teach it.\n\n51\n00:02:28.282 --> 00:02:31.206\nSo what we're gonna do is\nwe're gonna do a quick and\n\n52\n00:02:31.206 --> 00:02:34.220\neasy configuration of\nRIP across the board.\n\n53\n00:02:34.220 --> 00:02:37.030\nGet it turned on and\nsee those routes get learned.\n\n54\n00:02:37.030 --> 00:02:39.310\nOkay, so\ngetting it configured is pretty easy, and\n\n55\n00:02:39.310 --> 00:02:41.960\nit doesn't really matter where we start\nin this because none of the routers\n\n56\n00:02:41.960 --> 00:02:43.580\nare running a dynamic routing protocol.\n\n57\n00:02:43.580 --> 00:02:46.920\nSo, I'll just start with router one and\nkind of move across the line and\n\n58\n00:02:46.920 --> 00:02:47.550\nget it set up.\n\n59\n00:02:47.550 --> 00:02:52.140\nNow, the key thing to remember about\nthis configuration is that rip is slow.\n\n60\n00:02:52.140 --> 00:02:54.670\nAnd, it's not slow like\nit's gonna take me days.\n\n61\n00:02:54.670 --> 00:02:56.010\nThe configuration's really fast.\n\n62\n00:02:56.010 --> 00:02:59.180\nIt just takes time for\nit to propagate out.\n\n63\n00:02:59.180 --> 00:03:02.030\nEach hop could take up\nto 30 seconds to learn.\n\n64\n00:03:02.030 --> 00:03:05.300\nSo CISCO has this word,\nthey call it network convergence.\n\n65\n00:03:05.300 --> 00:03:06.950\nI guess it's a phrase not a word.\n\n66\n00:03:06.950 --> 00:03:13.230\nNetwork convergence that when every\nrouter knows about every route,\n\n67\n00:03:13.230 --> 00:03:16.740\nwhen they all have the same routing table,\nthe metrics would be different, right?\n\n68\n00:03:16.740 --> 00:03:17.870\nBut the networks would be the same.\n\n69\n00:03:17.870 --> 00:03:20.720\nSo we now have the same networks in\nthe routing table across the board.\n\n70\n00:03:20.720 --> 00:03:22.820\nYour network is said to be converged.\n\n71\n00:03:22.820 --> 00:03:27.080\nAnd RIP is slow to converge\nbecause of the 30 second timers.\n\n72\n00:03:27.080 --> 00:03:31.180\nSo in theory, worst case scenario,\nit could take 30 seconds for\n\n73\n00:03:31.180 --> 00:03:35.371\nrouter 1 to tell router 2\nabout the 192.168.0 network.\n\n74\n00:03:35.371 --> 00:03:38.428\nAnd it could take 30 seconds more for\nrouter 2 to tell router 4.\n\n75\n00:03:38.428 --> 00:03:41.840\nIt could take 30 seconds more for\nrouter 4 to tell router 6.\n\n76\n00:03:41.840 --> 00:03:45.120\nSo, worse case scenario, 90 seconds, for\n\n77\n00:03:45.120 --> 00:03:48.350\nthe route to propagate from router\none all the way to router six.\n\n78\n00:03:48.350 --> 00:03:49.880\nIn reality, it's gonna happen much faster.\n\n79\n00:03:49.880 --> 00:03:52.820\nIt'll probably happen within 15 seconds,\nbut we need to remember that.\n\n80\n00:03:52.820 --> 00:03:56.510\nSo when you're configuring RIP, what I'll\nnormally do is turn it on a one router,\n\n81\n00:03:56.510 --> 00:03:59.470\nand then just move on and\ndo the next without verifying it.\n\n82\n00:03:59.470 --> 00:04:03.410\nAnd roll it out across and\nthen go back and verify after the fact,\n\n83\n00:04:03.410 --> 00:04:04.730\nto make sure that it's working.\n\n84\n00:04:04.730 --> 00:04:05.810\nSo, let's do that.\n\n85\n00:04:05.810 --> 00:04:10.901\nI'm gonna jump over to R1, and so\nhere I am on good old trusty R1.\n\n86\n00:04:10.901 --> 00:04:15.542\nAnd I'm gonna get into my configuration,\nand I guess one of the first\n\n87\n00:04:15.542 --> 00:04:20.830\nthings that I should check is,\nam I already running a routing protocol?\n\n88\n00:04:20.830 --> 00:04:22.250\nCuz maybe I am.\n\n89\n00:04:22.250 --> 00:04:26.480\nSo you can run show ip protocols.\n\n90\n00:04:26.480 --> 00:04:28.160\nIt's kind of a handy command.\n\n91\n00:04:28.160 --> 00:04:30.720\nAnd show ip protocols\nwill tell you if you're\n\n92\n00:04:30.720 --> 00:04:32.820\ncurrently running a routing protocol.\n\n93\n00:04:32.820 --> 00:04:36.690\nSo if I was running RIP, or OSPF,\nEIGRP, it would show up right here, and\n\n94\n00:04:36.690 --> 00:04:37.410\nI would know it.\n\n95\n00:04:37.410 --> 00:04:38.010\nOkay?\n\n96\n00:04:38.010 --> 00:04:40.500\nI'm not.\nIt just says, IP Routing is NSF aware.\n\n97\n00:04:40.500 --> 00:04:43.520\nRight?\nAnd that means that there's certain\n\n98\n00:04:43.520 --> 00:04:46.480\nroute technologies where a router\nwill advertise itself, and\n\n99\n00:04:46.480 --> 00:04:48.600\nif a router is advertising itself,\nwe'll learn it.\n\n100\n00:04:48.600 --> 00:04:49.130\nRight?\n\n101\n00:04:49.130 --> 00:04:54.340\nBut not, I'm not gonna say that nobody\nuses that, but very few people use that,\n\n102\n00:04:54.340 --> 00:04:57.400\nso we're NSF aware but we're just sitting\nthere and not doing anything with it.\n\n103\n00:04:57.400 --> 00:05:00.450\nEverything else is empty, so\nI'm not running a routing protocol.\n\n104\n00:05:00.450 --> 00:05:02.130\nSo when I look at my routing table,\n\n105\n00:05:02.130 --> 00:05:05.240\nI'm only going to see\ndirectly connected routes.\n\n106\n00:05:05.240 --> 00:05:07.640\nAnd sure enough that's all I see,\nthe CNLs right?\n\n107\n00:05:07.640 --> 00:05:12.310\nC's directly connected, L is a local IP,\nright so IP is assigned to my own machine.\n\n108\n00:05:13.400 --> 00:05:15.980\nI'm gonna jump into configuration, and\n\n109\n00:05:15.980 --> 00:05:22.500\ninside of configuration\nI'm gonna say router rip.\n\n110\n00:05:22.500 --> 00:05:25.560\nThat is going to start\na routing information protocol\n\n111\n00:05:25.560 --> 00:05:27.880\ninstance on this router.\n\n112\n00:05:27.880 --> 00:05:30.520\nNow, it technically hasn't started yet.\n\n113\n00:05:30.520 --> 00:05:35.110\nSo, for example, if I just type router\nrip and then I type end and I get out.\n\n114\n00:05:35.110 --> 00:05:37.240\nAnd I do a show IP protocols.\n\n115\n00:05:39.320 --> 00:05:43.250\nWhen I run that, see how I'm not running\nrip, so it hasn't actually started yet.\n\n116\n00:05:43.250 --> 00:05:45.990\nWhen you run that command,\nwhen you say router rip,\n\n117\n00:05:45.990 --> 00:05:49.300\nyou're telling the router\nI am Intend to start rip.\n\n118\n00:05:49.300 --> 00:05:54.058\nAnd you have to advertise at least one\nnetwork before it will actually do\n\n119\n00:05:54.058 --> 00:05:55.620\nanything.\n\n120\n00:05:55.620 --> 00:05:58.130\nSo, we need to think about our interfaces.\n\n121\n00:05:58.130 --> 00:06:00.730\nI'm going to do a show ip interface brief.\n\n122\n00:06:02.470 --> 00:06:06.430\nAnd I've got two interfaces with networks.\n\n123\n00:06:06.430 --> 00:06:09.260\nThe 192.168.0 network and\nthe 192.168.1 network.\n\n124\n00:06:09.260 --> 00:06:14.230\nAnd with rip, the way we advertise\na network is we say network\n\n125\n00:06:14.230 --> 00:06:16.930\nfollowed by the network\nthat we wanna advertise.\n\n126\n00:06:16.930 --> 00:06:17.870\nThen we press Enter.\n\n127\n00:06:17.870 --> 00:06:18.910\nAll right.\nNow notice\n\n128\n00:06:18.910 --> 00:06:21.050\nI didn't do a subnet mask, all right?\n\n129\n00:06:21.050 --> 00:06:26.280\nI didn't do a subnet mask because RIP,\nin RIP version 1, is classable by default.\n\n130\n00:06:26.280 --> 00:06:29.790\nSo it's gonna look at that first octet,\nwhich is a 192, and\n\n131\n00:06:29.790 --> 00:06:31.490\nit's gonna say, that's a class C.\n\n132\n00:06:31.490 --> 00:06:35.733\nSo it's gonna use the first three octets\nfor the network ID, and the last octet for\n\n133\n00:06:35.733 --> 00:06:36.421\nthe host ID.\n\n134\n00:06:36.421 --> 00:06:39.180\nAnd so that's where it's\ngonna get that information.\n\n135\n00:06:39.180 --> 00:06:42.410\nAnd that means I need to do\nthe other network separately.\n\n136\n00:06:43.880 --> 00:06:45.710\nNow I'm advertising those two networks.\n\n137\n00:06:45.710 --> 00:06:47.630\nNow when I say advertising,\nwhat do I mean?\n\n138\n00:06:47.630 --> 00:06:51.690\nWell, I mean that I'm sending\nRIP data out these interfaces.\n\n139\n00:06:51.690 --> 00:06:55.870\nEvery 30 seconds I'm sending a message out\nthese interfaces that tell people hey,\n\n140\n00:06:55.870 --> 00:06:57.430\nthese are the networks I know about.\n\n141\n00:06:57.430 --> 00:06:58.260\nDo you know about them?\n\n142\n00:06:59.300 --> 00:07:00.750\nIf they do, they ignore us.\n\n143\n00:07:00.750 --> 00:07:03.330\nIf they don't,\nthey add it to the routing table.\n\n144\n00:07:03.330 --> 00:07:05.020\nBut I'm also receiving.\n\n145\n00:07:05.020 --> 00:07:09.100\nI'm listening on the interface and\nif somebody out there is telling me about\n\n146\n00:07:09.100 --> 00:07:13.460\nthe routes, then I'm gonna listen and\nadd them to my routing table too.\n\n147\n00:07:13.460 --> 00:07:15.215\nSo, we're listening and learning.\n\n148\n00:07:15.215 --> 00:07:17.550\nWell, yeah, listening and learning.\n\n149\n00:07:17.550 --> 00:07:19.039\nWe're transmitting and receiving.\n\n150\n00:07:19.039 --> 00:07:23.065\nOr sending and receiving I think is the\nofficial rip terminology if we want to be\n\n151\n00:07:23.065 --> 00:07:24.780\nreally thorough about that.\n\n152\n00:07:24.780 --> 00:07:26.655\nSo now, I'm running rip.\n\n153\n00:07:26.655 --> 00:07:30.245\nAnd if I do a show ip protocols,\nI can look, and\n\n154\n00:07:30.245 --> 00:07:36.433\ninstead of getting that I'm just NSF\naware, now I get Routing Protocol is rip.\n\n155\n00:07:36.433 --> 00:07:40.137\nAnd here it lays out everything\nthat we're doing and\n\n156\n00:07:40.137 --> 00:07:45.371\nnotice right here are my interfaces\nGigabitEthernet0/0 and 1/0.\n\n157\n00:07:45.371 --> 00:07:50.408\nI'm sending RIP version 1, it defaults to\nversion 1, we know version 2 is out there\n\n158\n00:07:50.408 --> 00:07:54.898\nwe want to run version 2 and I'm going\nto leave it at version 1 for right now.\n\n159\n00:07:54.898 --> 00:08:00.044\nAnd then I'm receiving 1 and 2 I'll\nactually receive either one I don't care.\n\n160\n00:08:00.044 --> 00:08:02.925\nBut I'm only sending version 1 updates,\nthat's the default.\n\n161\n00:08:02.925 --> 00:08:05.910\nSo I am sending and\nreceiving on those interfaces.\n\n162\n00:08:05.910 --> 00:08:07.830\nAnd here's the networks\nthat I'm routing for.\n\n163\n00:08:07.830 --> 00:08:10.690\nAnd my routing information sources.\n\n164\n00:08:10.690 --> 00:08:13.800\nThese are other people on\nthe network that I'm talking to.\n\n165\n00:08:13.800 --> 00:08:15.640\nIn other words, my neighbors, right?\n\n166\n00:08:15.640 --> 00:08:17.280\nAnd who's my neighbor right now?\n\n167\n00:08:17.280 --> 00:08:19.471\nNobody, cuz I've only done one router,\nright?\n\n168\n00:08:19.471 --> 00:08:22.606\nSo, let's jump through and\nget the other routers configured, and\n\n169\n00:08:22.606 --> 00:08:26.071\nthen we'll take a look at what this is\nlike when we have neighbors, right?\n\n170\n00:08:26.071 --> 00:08:29.540\nCuz otherwise, we're gonna be lonely,\nnobody wants to be lonely.\n\n171\n00:08:29.540 --> 00:08:30.702\nAll right, so, let's jump in here, and\n\n172\n00:08:30.702 --> 00:08:32.510\nthe other routers will be able to\ngo a little bit faster, right?\n\n173\n00:08:32.510 --> 00:08:36.016\nSo, what you can do is just\njump right into configuration.\n\n174\n00:08:36.016 --> 00:08:39.140\nYou can say router rip, and then advertise\nthe networks you're plugged into.\n\n175\n00:08:39.140 --> 00:08:42.174\nAnd if you don't remember your networks,\nI always just cheat and\n\n176\n00:08:42.174 --> 00:08:46.110\ndo a show IP interface brief because I can\nget the networks right from there, right?\n\n177\n00:08:46.110 --> 00:08:52.752\nSo I've got 192.168.1.0 and 2.0.\n\n178\n00:08:52.752 --> 00:08:57.402\nAll right, so now this guy is running\nrip and then I'll just continue down\n\n179\n00:08:57.402 --> 00:09:01.757\nthe line doing that exact same thing\non each one of these, all right?\n\n180\n00:09:01.757 --> 00:09:05.894\nIt'll be a little bit different\nwhen we get to router six\n\n181\n00:09:05.894 --> 00:09:10.837\nbecause router six has a 172 network but\nthat's not a big deal.\n\n182\n00:09:10.837 --> 00:09:13.604\nSo we'll be able to deal\nwith that easy enough.\n\n183\n00:09:13.604 --> 00:09:16.470\nThe difference there is that it just\nhas a different subnet mask, right?\n\n184\n00:09:16.470 --> 00:09:17.710\nSo we just have to account for that.\n\n185\n00:09:19.160 --> 00:09:24.070\nAnd almost done,\ngot a couple more to get through.\n\n186\n00:09:24.070 --> 00:09:25.330\nYou start to get kinda used to this.\n\n187\n00:09:25.330 --> 00:09:27.559\nThe nice part about rip is that\nbecause it's classful right now,\n\n188\n00:09:27.559 --> 00:09:28.743\nI don't have to do a subnet masks.\n\n189\n00:09:28.743 --> 00:09:33.257\nSo it's certainly a little bit\nfaster as far as punching these in,\n\n190\n00:09:33.257 --> 00:09:35.846\nI just need to look at it and identify.\n\n191\n00:09:35.846 --> 00:09:40.339\nNow, neat thing here,\nlet's say I put it in as 4.4 like that,\n\n192\n00:09:40.339 --> 00:09:42.560\nlike I put on the specific IP in.\n\n193\n00:09:42.560 --> 00:09:46.673\nWell rip doesn't care\nabout that specific IP.\n\n194\n00:09:46.673 --> 00:09:49.925\nSo what it's gonna do if I\ndo a show running-config and\n\n195\n00:09:49.925 --> 00:09:54.449\nI get down to the rip section, then\nI'll see that it actually changes that,\n\n196\n00:09:54.449 --> 00:09:58.503\nso let me pull up the running-config\non this one and I'll show you.\n\n197\n00:09:58.503 --> 00:10:02.106\nIf I get all the way to the bottom and\nwe find the rip part,\n\n198\n00:10:02.106 --> 00:10:06.560\nhere we go, see how it stripped\nout the host part of that address?\n\n199\n00:10:06.560 --> 00:10:08.720\nSo it doesn't care about that,\nand it converts it for me.\n\n200\n00:10:08.720 --> 00:10:12.010\nSo you can kind of put it in either way,\nand it fixes that.\n\n201\n00:10:12.010 --> 00:10:14.162\nAnother thing that can save you time,\nactually,\n\n202\n00:10:14.162 --> 00:10:16.836\nlet me show you on another router so\nwe can save even more time.\n\n203\n00:10:16.836 --> 00:10:21.619\nOn router 5, if I ever just wanna\nquickly verify my configuration,\n\n204\n00:10:21.619 --> 00:10:24.593\nall I have to do is do\na show running config.\n\n205\n00:10:24.593 --> 00:10:27.054\nBut the more that's in\nyour running config,\n\n206\n00:10:27.054 --> 00:10:30.048\nthe more you have to sift\nthrough to get there, right?\n\n207\n00:10:30.048 --> 00:10:35.165\nSo when I go through here and configure\nthis, if I just want to really quick see\n\n208\n00:10:35.165 --> 00:10:40.787\nthe configuration for rip, on most Cisco\nswitches, you have the section command.\n\n209\n00:10:40.787 --> 00:10:47.170\nI can do show running-config and\nI can pipe that into the section command.\n\n210\n00:10:47.170 --> 00:10:50.510\nAnd I can tell it to say show\nme the running config, and\n\n211\n00:10:50.510 --> 00:10:53.700\njust show me the section for rip.\n\n212\n00:10:53.700 --> 00:10:56.780\nAnd when you run that,\nit's gonna look to the configuration and\n\n213\n00:10:56.780 --> 00:10:58.790\njust show me that block, all right?\n\n214\n00:10:58.790 --> 00:11:00.115\nThat's a little better than include.\n\n215\n00:11:00.115 --> 00:11:04.940\nCuz if I'd done include rip,\nI would have only gotten this line, but\n\n216\n00:11:04.940 --> 00:11:09.505\nbecause I used the section command,\nI got the whole block for rip, and\n\n217\n00:11:09.505 --> 00:11:11.620\nthat's really handy to\nbe able to see that.\n\n218\n00:11:11.620 --> 00:11:15.785\n>> Now Don, let me ask you a question\nabout using that pipe command there.\n\n219\n00:11:15.785 --> 00:11:18.651\nIs that case sensitive when you so\nthat section and rip, or\n\n220\n00:11:18.651 --> 00:11:22.232\ncan I just type in R-I-P in all capital\nletters and it would show up too?\n\n221\n00:11:22.232 --> 00:11:24.626\n>> So the command itself,\nthe word section,\n\n222\n00:11:24.626 --> 00:11:27.093\nthat's not case sensitive\nas far as I know.\n\n223\n00:11:27.093 --> 00:11:30.321\nBut the word rip that I was looking for,\nthat is, and if you capitalize it,\n\n224\n00:11:30.321 --> 00:11:31.460\nthat'll mess things up.\n\n225\n00:11:31.460 --> 00:11:32.180\nSo, yeah,\n\n226\n00:11:32.180 --> 00:11:36.480\nthat one, you have to think about how\nthe casing is in the config itself.\n\n227\n00:11:36.480 --> 00:11:39.600\nBut I use that a lot for any of the other\nrouting protocols you'll see where we do\n\n228\n00:11:39.600 --> 00:11:43.760\nOSPF and the IGRP and same thing, we just\nhunt for that section, to get the config.\n\n229\n00:11:43.760 --> 00:11:47.320\nAll right, now, my last router is the one\nthat's a little bit different, right?\n\n230\n00:11:47.320 --> 00:11:51.160\nRouter 6 has extra networks,\nit has three networks.\n\n231\n00:11:51.160 --> 00:11:56.230\nAnd of those three networks, it's got\na 172 network that the others didn't have.\n\n232\n00:11:56.230 --> 00:12:01.130\nSo it's a little bit different, and\nlet me just get into that configuration,\n\n233\n00:12:01.130 --> 00:12:03.960\nand I'll do a show ip interface brief.\n\n234\n00:12:03.960 --> 00:12:06.510\nWhoops, I'll use my do commands\nsince I'm in config, and\n\n235\n00:12:06.510 --> 00:12:07.891\nI can see those three networks.\n\n236\n00:12:07.891 --> 00:12:09.919\nSo, I'm just gonna say router rip,\nand then,\n\n237\n00:12:09.919 --> 00:12:12.072\neach of the networks that\nI wanna participate in.\n\n238\n00:12:12.072 --> 00:12:17.013\nSo there's 4.0, there's 5.0,\nand then there's that 172,\n\n239\n00:12:17.013 --> 00:12:21.968\nnow that's a class B, and so\nwhen I put it in here, it's 172.16.\n\n240\n00:12:21.968 --> 00:12:25.140\nAnd anything else doesn't really matter,\nI could put any number I want.\n\n241\n00:12:25.140 --> 00:12:30.550\nWell as long as it's, I can't put\nanything 255 or something high like that.\n\n242\n00:12:30.550 --> 00:12:33.580\nBut I can put in a number like that\nbecause at the end of the day,\n\n243\n00:12:34.620 --> 00:12:39.850\nit's going to convert that\nto 172.16.0.0 because it\n\n244\n00:12:39.850 --> 00:12:45.710\nknows 172 corresponds to a class B and the\nfirst two octets are what matters, right?\n\n245\n00:12:45.710 --> 00:12:47.420\nSo it's gonna fix that for\nme and get it put in place.\n\n246\n00:12:47.420 --> 00:12:50.720\nNow I don't encourage you to put\njust random numbers in there.\n\n247\n00:12:50.720 --> 00:12:53.430\nYou wanna keep it consistent so\nyou understand what you're typing, right?\n\n248\n00:12:53.430 --> 00:12:55.690\nBut I just wanted to\nshow you that does work.\n\n249\n00:12:55.690 --> 00:12:59.810\nAll right, so now I have rip running\nacross my entire organization.\n\n250\n00:12:59.810 --> 00:13:02.680\nAll six routers are running rip and\nthey're advertising their networks.\n\n251\n00:13:02.680 --> 00:13:05.240\nAnd all of them are running\nin the default form of rip.\n\n252\n00:13:05.240 --> 00:13:10.170\nWhich means if I do a show IP protocol and\n\n253\n00:13:10.170 --> 00:13:14.560\ntake a look at it,\nthey're all sending in rip version 1.\n\n254\n00:13:14.560 --> 00:13:18.080\nIt's nice that they can receive version\n2 but nobody's sending version 2.\n\n255\n00:13:18.080 --> 00:13:22.340\nSo my entire environment\nis in rip version 1 and\n\n256\n00:13:22.340 --> 00:13:24.800\nthat means that we're\noperating in classful manner.\n\n257\n00:13:24.800 --> 00:13:28.190\nThe routes are being handed out\nwith no subnet mask, all right?\n\n258\n00:13:28.190 --> 00:13:31.470\nNow I'm gonna jump back to router 1,\nthe very first one I did.\n\n259\n00:13:31.470 --> 00:13:34.445\nAnd on this one,\nif you do a show ip route,\n\n260\n00:13:34.445 --> 00:13:40.490\nwhat you'll see is the routing table's\ngonna come up and now I'm learning routes.\n\n261\n00:13:40.490 --> 00:13:43.306\nAnd I've already learned\nthe 172.16 network.\n\n262\n00:13:43.306 --> 00:13:45.430\nDid that take a minute and a half?\n\n263\n00:13:45.430 --> 00:13:48.280\nNo, I mean, well, sure, I rambled on\na little bit for a few seconds there.\n\n264\n00:13:48.280 --> 00:13:50.080\nBut that minute and\na half I mentioned earlier,\n\n265\n00:13:50.080 --> 00:13:52.260\nthat would be the worst case scenario.\n\n266\n00:13:52.260 --> 00:13:54.450\nThe odds are we're gonna\nlearn it a lot faster.\n\n267\n00:13:54.450 --> 00:13:58.126\nIn fact, by the time I ran show ip route,\nI had already known about it for\n\n268\n00:13:58.126 --> 00:13:58.936\n13 seconds.\n\n269\n00:13:58.936 --> 00:14:01.287\nSo it had been there for a little while.\n\n270\n00:14:01.287 --> 00:14:04.250\nIt actually learned two\ndifferent routes to get there.\n\n271\n00:14:04.250 --> 00:14:07.320\nNow, how do I know which routes\nare coming from rip, and\n\n272\n00:14:07.320 --> 00:14:09.040\nwhich are coming from other sources?\n\n273\n00:14:09.040 --> 00:14:11.980\nWell, there's two ways,\non the left side I've got the r, right?\n\n274\n00:14:11.980 --> 00:14:15.090\nThat r is a great indicator that hey,\nthis is a rip route.\n\n275\n00:14:15.090 --> 00:14:17.110\nThe other thing is\nthe administrative distance.\n\n276\n00:14:17.110 --> 00:14:22.580\nRip has an admin distance of 120,\nso I see it right there, 120.\n\n277\n00:14:22.580 --> 00:14:27.300\nNow, I said the routes were being\nhanded out without a subnet mask.\n\n278\n00:14:27.300 --> 00:14:31.380\nBut if you look down the line,\nevery one of these has a subnet mask.\n\n279\n00:14:31.380 --> 00:14:34.640\nSo I must be wrong, right?\n\n280\n00:14:34.640 --> 00:14:36.900\nThese are obviously handing out\na subnet mask, aren't they?\n\n281\n00:14:36.900 --> 00:14:42.036\nWell, no, when the routes come from rip\nand get put into the routing table,\n\n282\n00:14:42.036 --> 00:14:45.260\nin the rip database,\nthey have no subnet mask.\n\n283\n00:14:45.260 --> 00:14:47.060\nWhen they get put into the routing table,\n\n284\n00:14:47.060 --> 00:14:50.262\nthe router is adding the subnet mask\nbased on the information that it has.\n\n285\n00:14:50.262 --> 00:14:55.679\nAnd the information it has is that 192\nshould be a class c in a classful network.\n\n286\n00:14:56.740 --> 00:14:59.590\nBut what if you're in a classless network?\n\n287\n00:14:59.590 --> 00:15:03.720\nWhat if you're manipulating things to\noperate it in a different manner, right?\n\n288\n00:15:03.720 --> 00:15:06.259\nLet me show you what I mean,\nI'm gonna jump over to router 6.\n\n289\n00:15:06.259 --> 00:15:10.436\nNow on router 6, it's interface,\nwhat interface is that, GI,\n\n290\n00:15:10.436 --> 00:15:15.146\nI don't know, something or another,\nlet's pull up the interface here.\n\n291\n00:15:15.146 --> 00:15:19.556\nAll right, so, interface gi0/0,\nif I do a show run and\n\n292\n00:15:19.556 --> 00:15:23.253\nI pull it up for\ninterface gi0/0, all right?\n\n293\n00:15:23.253 --> 00:15:27.890\nThere's the interface and you can see\nwhere I've assigned it ip address\n\n294\n00:15:27.890 --> 00:15:32.006\n172.16.0.6 255.255.0.0, all right?\n\n295\n00:15:32.006 --> 00:15:33.698\nWell let's change that\naround a little bit.\n\n296\n00:15:33.698 --> 00:15:37.442\nLet's say that I get into interface gi0/0.\n\n297\n00:15:37.442 --> 00:15:44.019\nAnd I'm gonna say ip address 172.16.6.6,\nall right?\n\n298\n00:15:44.019 --> 00:15:48.165\nAnd I'm gonna make it a class c,\n255.255.255.0.\n\n299\n00:15:48.165 --> 00:15:53.426\nSo, that means the first three octets\nare gonna be part of the network ID and\n\n300\n00:15:53.426 --> 00:15:58.786\nthat means, 172.16.6 is the network ID and\n.6 is me, all right?\n\n301\n00:15:58.786 --> 00:16:01.940\nWell, how does RIP see that?\n\n302\n00:16:01.940 --> 00:16:06.308\nOkay now let's see I'm\nwanna go into route rip and\n\n303\n00:16:06.308 --> 00:16:12.757\nI'm wanna say network 172.16.6.0\nbecause it is a class C now so\n\n304\n00:16:12.757 --> 00:16:17.868\nI have to give it that\nthird octet 172.16.6.0.\n\n305\n00:16:17.868 --> 00:16:23.141\nWell, if I do a show run and I look for\nthe rip section, I can find it,\n\n306\n00:16:23.141 --> 00:16:29.088\nand it's still 172 16.0.0.\n\n307\n00:16:29.088 --> 00:16:30.242\nWhy is that?\n\n308\n00:16:30.242 --> 00:16:33.192\nWell, because it's looking at that\nfirst octet, it's converting it.\n\n309\n00:16:33.192 --> 00:16:36.752\nNow, even when we go classless,\nit will still look this way.\n\n310\n00:16:36.752 --> 00:16:40.482\nAnd this includes 16.6, so\nthat's actually all right.\n\n311\n00:16:40.482 --> 00:16:43.452\nBut where my problem is gonna be\nis how this is getting advertised.\n\n312\n00:16:43.452 --> 00:16:45.272\nNow it is gonna get\nadvertised to the neighbors.\n\n313\n00:16:45.272 --> 00:16:46.762\nNow if I take a look at the neighbors, so\n\n314\n00:16:46.762 --> 00:16:49.720\nif I just over to,\nI'm gonna do somebody really close.\n\n315\n00:16:49.720 --> 00:16:52.490\nRouter six talks directly to\nrouter four and router five.\n\n316\n00:16:52.490 --> 00:16:55.210\nSo I am going to go look at router five.\n\n317\n00:16:55.210 --> 00:16:59.040\nAnd so on router five,\n\n318\n00:16:59.040 --> 00:17:03.640\nI am going to pull up its\n\n319\n00:17:05.550 --> 00:17:09.620\nrouting table and what I should see\nis 172.16.6 as a /24, but I don't.\n\n320\n00:17:09.620 --> 00:17:13.290\nI see 172.16.00/16 and that is a problem.\n\n321\n00:17:13.290 --> 00:17:17.650\nThat's a problem because I might\nbe overlapping network somewhere.\n\n322\n00:17:17.650 --> 00:17:20.360\nLet me show you what I mean\nby overlapping networks.\n\n323\n00:17:20.360 --> 00:17:25.090\nYou can't have a router with two\ninterfaces in the same network.\n\n324\n00:17:25.090 --> 00:17:27.780\nIn IPv6 you can, in IPv4 you can.\n\n325\n00:17:27.780 --> 00:17:30.960\nIn IPv4, if you have two\ninterfaces on the same network,\n\n326\n00:17:30.960 --> 00:17:32.580\nthe router gets really upset.\n\n327\n00:17:32.580 --> 00:17:33.170\nOkay.\n\n328\n00:17:33.170 --> 00:17:35.490\nSo, well here, I'll show you.\n\n329\n00:17:35.490 --> 00:17:40.050\nSo on router six here, I think I have\nan extra interface on this thing.\n\n330\n00:17:40.050 --> 00:17:41.020\nLet's find out.\n\n331\n00:17:41.020 --> 00:17:44.450\nI guess I could always\ncreate a fake interface too.\n\n332\n00:17:44.450 --> 00:17:46.670\nI've got this ancient Ethernet interface,\n\n333\n00:17:46.670 --> 00:17:48.750\nthis is a management\ninterface I'm not using.\n\n334\n00:17:48.750 --> 00:17:51.160\nThis Ethernet interface is\nsitting here with no IP.\n\n335\n00:17:51.160 --> 00:17:54.860\nSo if I try to give it an IP address in\nthe same range as the other interface,\n\n336\n00:17:54.860 --> 00:17:56.080\nit'll complain.\n\n337\n00:17:56.080 --> 00:18:01.290\nSo if I get into interface e0/0 and\nI say IP address 172.16.6.7, right?\n\n338\n00:18:01.290 --> 00:18:05.490\nSo I'm just moving up to the next IP.\n\n339\n00:18:05.490 --> 00:18:10.190\nWhen I do that, see how I get\nthe IP overlaps with GI 0/0, so\n\n340\n00:18:10.190 --> 00:18:11.280\nit stops me from doing that.\n\n341\n00:18:11.280 --> 00:18:13.710\nI can't have two interfaces\nin the same network.\n\n342\n00:18:13.710 --> 00:18:18.520\nSimilarly, if I get two different\nroutes to the same network,\n\n343\n00:18:18.520 --> 00:18:19.640\nI'm going to pick one or the other.\n\n344\n00:18:19.640 --> 00:18:20.850\nOne is going to be better than the other.\n\n345\n00:18:20.850 --> 00:18:23.000\nAnd if we are stripping\nof the subnet mask.\n\n346\n00:18:23.000 --> 00:18:28.200\nI could have two networks that were\nactually separate that look like the same.\n\n347\n00:18:28.200 --> 00:18:29.890\nAnd it creates a conflict.\n\n348\n00:18:29.890 --> 00:18:35.891\nSo here, I have got 172.16.6 and\nit's a slash 24 somewhere else\n\n349\n00:18:35.891 --> 00:18:41.905\nI can have 172.16.5 as a slash 24 and\nnow I would have a conflict.\n\n350\n00:18:41.905 --> 00:18:45.720\nLet me jump over to router one and\nI'll create that I'll keep it close.\n\n351\n00:18:46.840 --> 00:18:47.630\nHow close do I wanna go?\n\n352\n00:18:47.630 --> 00:18:49.370\nLet's build on my topology here.\n\n353\n00:18:49.370 --> 00:18:53.400\nSo router five is connected to router six,\nI'm gonna create 172.16.3 and\n\n354\n00:18:53.400 --> 00:18:56.090\nI'm gonna create it over\nhere in router three.\n\n355\n00:18:56.090 --> 00:18:59.680\nSo just right in between these three\nrouters right here, nice and small so\n\n356\n00:18:59.680 --> 00:19:00.900\nI'm gonna jump over on router 3.\n\n357\n00:19:00.900 --> 00:19:05.500\nAnd on router three I'm just\ngonna create that new network.\n\n358\n00:19:06.670 --> 00:19:08.700\nSo a do I have an extra\ninterface laying around?\n\n359\n00:19:10.360 --> 00:19:11.080\nI probably do.\n\n360\n00:19:11.080 --> 00:19:12.240\nI got a couple.\n\n361\n00:19:12.240 --> 00:19:13.250\nI'll take gi0/0.\n\n362\n00:19:13.250 --> 00:19:16.050\nSo I'm gonna get into configuration and\nget into gi0/0.\n\n363\n00:19:16.050 --> 00:19:24.810\nI'm gonna say IP address172.16.3.3 and\nI'll give it a 255.255.255.0.\n\n364\n00:19:24.810 --> 00:19:28.320\nNow does this overlap with 172.16.6?\n\n365\n00:19:28.320 --> 00:19:32.470\nNo, it doesn't overlap because\nwe've got 255.255.255.0.\n\n366\n00:19:32.470 --> 00:19:36.650\nThis first three octets\nare part of the network id.\n\n367\n00:19:36.650 --> 00:19:39.710\nAnd here the first reactants are 172.16.3.\n\n368\n00:19:39.710 --> 00:19:43.830\nOn the other router it's\n172.16.6 they're different.\n\n369\n00:19:43.830 --> 00:19:46.210\nIt's not an overlap right.\n\n370\n00:19:46.210 --> 00:19:48.770\nSo I'll do a no shut down on that.\n\n371\n00:19:48.770 --> 00:19:52.180\nAnd I'll get into router rip and\n\n372\n00:19:52.180 --> 00:19:57.090\ninside of the router configuration\nhere I'll just say Network 172.16.3.0.\n\n373\n00:19:57.090 --> 00:20:01.690\nSo now I'm advertising that network.\n\n374\n00:20:01.690 --> 00:20:06.100\nNow here's where the problem with\nthe classes comes in is that\n\n375\n00:20:06.100 --> 00:20:11.080\nif I take a look at that section,\nit will have converted it to 172.16.0.0,\n\n376\n00:20:11.080 --> 00:20:16.970\nbecause rip version 1 is class\ndoesn't care what subnet mask.\n\n377\n00:20:16.970 --> 00:20:20.070\nAnd that means I'm now\nadvertising it as 172.16.0.0.\n\n378\n00:20:20.070 --> 00:20:24.650\nAnd that's gonna cause\na real problem on router 5.\n\n379\n00:20:24.650 --> 00:20:26.470\nI just did that on router 3.\n\n380\n00:20:26.470 --> 00:20:28.320\nRouter 6 already 172.16.6.\n\n381\n00:20:28.320 --> 00:20:32.330\nRouter 5 is in the middle.\n\n382\n00:20:32.330 --> 00:20:34.780\nSo what is router 5 going to see?\n\n383\n00:20:34.780 --> 00:20:38.380\nIt's gonna see 172.16.0.0/16\nin both directions.\n\n384\n00:20:38.380 --> 00:20:43.370\nIt's not gonna be able to\ndifferentiate between the two.\n\n385\n00:20:43.370 --> 00:20:47.330\nAnd as long as these interfaces are the\nsame- actually I was about to say the same\n\n386\n00:20:47.330 --> 00:20:50.050\nbandwidth, but rip doesn't care about\nbandwidth, it just acres about hop count.\n\n387\n00:20:50.050 --> 00:20:52.050\nThey're both going to be one hop away.\n\n388\n00:20:52.050 --> 00:20:54.160\nAnd so reap,\nis gonna look at them as equal.\n\n389\n00:20:54.160 --> 00:20:56.720\nAnd it's gonna load balance\nwhen it shouldn't be.\n\n390\n00:20:56.720 --> 00:20:58.370\nSo let's go see if that's happening.\n\n391\n00:20:58.370 --> 00:21:03.679\nSo, if I go to router five, and\non router five I'm just gonna do a show\n\n392\n00:21:03.679 --> 00:21:09.726\nIP route again, and\nsure enough there's 172-16-0-0 as a /16,\n\n393\n00:21:09.726 --> 00:21:15.920\nnot as a /24 and I can see that I can\nget to it in two different directions.\n\n394\n00:21:15.920 --> 00:21:19.480\nOne via router 6 and\nthe other via router 3, right?\n\n395\n00:21:19.480 --> 00:21:24.895\nSo what's gonna happen is,\nwhen router 5 receives traffic for\n\n396\n00:21:24.895 --> 00:21:31.430\n172.16.6.sometimes it will send it\nto router six and it will work.\n\n397\n00:21:32.610 --> 00:21:35.360\nBut 50 percent of the time it is\ngoing to send it to router three and\n\n398\n00:21:35.360 --> 00:21:38.360\nit will fail, because Cisco express\nforwarding is going to load balance.\n\n399\n00:21:38.360 --> 00:21:40.610\nSo half the traffic is\ngoing to go the wrong way.\n\n400\n00:21:40.610 --> 00:21:41.725\nAnd when we receive traffic for\n\n401\n00:21:41.725 --> 00:21:46.830\n172.16.3 half of that traffic will go to\nrouter three and it will be right, and\n\n402\n00:21:46.830 --> 00:21:49.290\nthe other half of the traffic will go\nto router six and it will be wrong.\n\n403\n00:21:49.290 --> 00:21:51.880\nAnd you end up with intermittent\nnetwork connectivity.\n\n404\n00:21:51.880 --> 00:21:54.590\nIt's really hard to troubleshoot this\nstuff because you're like, well,\n\n405\n00:21:54.590 --> 00:21:56.430\nsometimes it works and sometimes it.\n\n406\n00:21:56.430 --> 00:21:58.300\nAlice in accounting is\ngetting through just fine but\n\n407\n00:21:58.300 --> 00:22:01.190\nBob over in marketing can't get there,\nwhat the heck is going on?\n\n408\n00:22:01.190 --> 00:22:04.040\nAnd it's the router being confused.\n\n409\n00:22:04.040 --> 00:22:06.260\nSo, how do we fix that?\n\n410\n00:22:06.260 --> 00:22:11.640\nWell, in, we don't have to\nbecause is classed by default.\n\n411\n00:22:11.640 --> 00:22:17.370\nIn it's classed by default to, although it\ncan operate in a classful note if we want.\n\n412\n00:22:17.370 --> 00:22:20.060\nBut in RIP, it's classful by default.\n\n413\n00:22:20.060 --> 00:22:25.600\nSo we need to tell RIP to stop doing that,\nstop being classful.\n\n414\n00:22:25.600 --> 00:22:28.270\nAnd the easiest way to do that,\nis to go and put an inversion 2.\n\n415\n00:22:28.270 --> 00:22:30.890\nSo RIP version 2 takes care of that.\n\n416\n00:22:30.890 --> 00:22:34.400\nSo if I jump around to all of my routers,\nand\n\n417\n00:22:34.400 --> 00:22:38.100\nput them all into version 2 mode,\nthat will take care of that.\n\n418\n00:22:38.100 --> 00:22:41.140\nNow, I want to make a change\nacross multiple routers.\n\n419\n00:22:41.140 --> 00:22:42.490\nThere's a few different\nways we can do that, but\n\n420\n00:22:42.490 --> 00:22:45.250\nlet me show you a kind of\na cheating way that I like to use.\n\n421\n00:22:45.250 --> 00:22:48.520\nIf you just fire up any\ncommon text editor, right?\n\n422\n00:22:48.520 --> 00:22:52.250\nDoesn't really matter what you have,\nit can be Windows Notepad, or whatever.\n\n423\n00:22:52.250 --> 00:22:57.150\nYou can come in, and you can type\na series of Cisco commands, and copy and\n\n424\n00:22:57.150 --> 00:22:58.160\npaste them.\n\n425\n00:22:58.160 --> 00:23:04.790\nSo I might say, enable, configure\nterminal, right, and then router rip,\n\n426\n00:23:06.240 --> 00:23:11.160\nversion two, and\nthen to get out of configuration, right?\n\n427\n00:23:11.160 --> 00:23:13.000\nSo these are the commands I wanna run.\n\n428\n00:23:13.000 --> 00:23:14.570\nI wanna get into my configuration.\n\n429\n00:23:14.570 --> 00:23:15.860\nI wanna get into router rip.\n\n430\n00:23:15.860 --> 00:23:17.990\nAnd I wanna say, version two.\n\n431\n00:23:17.990 --> 00:23:20.400\nThat's gonna put us into\nthe version two mode.\n\n432\n00:23:20.400 --> 00:23:22.640\nAnd if I take this,\nI can just copy and paste it.\n\n433\n00:23:22.640 --> 00:23:25.180\nLet me make sure there's an extra\ncarriage return at the end.\n\n434\n00:23:25.180 --> 00:23:27.370\nI'm just going to take that and\ncopy and paste it.\n\n435\n00:23:27.370 --> 00:23:31.920\nAnd now, I can just jump through each\nrouter, and just paste that right in.\n\n436\n00:23:33.030 --> 00:23:33.540\nAnd there it goes.\n\n437\n00:23:33.540 --> 00:23:35.640\nSee how it jumped into config,\njumped into the router.\n\n438\n00:23:35.640 --> 00:23:37.350\nSet the version, and jumped out.\n\n439\n00:23:37.350 --> 00:23:40.140\nSo anytime you need to make\nbulk changes like this.\n\n440\n00:23:40.140 --> 00:23:42.710\nCopy and paste is your friend.\n\n441\n00:23:42.710 --> 00:23:44.640\nSo I'm gonna go through and do this.\n\n442\n00:23:44.640 --> 00:23:49.120\nNow when I did it notice here on router\n6 how it was already in configuration?\n\n443\n00:23:49.120 --> 00:23:50.610\nSo when I ran enable I command failed and\n\n444\n00:23:50.610 --> 00:23:52.607\nwhen I ran configure terminal\nthat command failed.\n\n445\n00:23:52.607 --> 00:23:57.000\nBut that's okay because I was already\nin config and then router RIP worked,\n\n446\n00:23:57.000 --> 00:23:58.655\nversion 2 worked and so on.\n\n447\n00:23:58.655 --> 00:24:00.547\nLet's see what effect\nthat had on our routers.\n\n448\n00:24:00.547 --> 00:24:05.430\nSo on Router 1,\nI'm gonna do show ip protocols.\n\n449\n00:24:06.770 --> 00:24:08.560\nAnd I see that I'm still running RIP.\n\n450\n00:24:08.560 --> 00:24:11.480\nBut now I'm only sending and\nreceiving in version 2.\n\n451\n00:24:11.480 --> 00:24:13.530\nI'm no longer supporting version 1.\n\n452\n00:24:13.530 --> 00:24:15.430\nVersion 1 is turned off on this router,\nand\n\n453\n00:24:15.430 --> 00:24:17.350\nit's turned off on all\nmy other routers too.\n\n454\n00:24:17.350 --> 00:24:19.330\nSo I'm no longer operating\nin version 1 mode.\n\n455\n00:24:19.330 --> 00:24:24.120\nAnd that means when I transmit,\nI'm sending not just the network, but\n\n456\n00:24:24.120 --> 00:24:26.590\nI'm also transmitting the subnet mask,\nokay.\n\n457\n00:24:26.590 --> 00:24:30.790\nAnd that's an important thing to note\nbecause when I look at the config,\n\n458\n00:24:30.790 --> 00:24:36.900\nif I jump over to router 6 and I look\nat the config here, What I'm gonna see,\n\n459\n00:24:36.900 --> 00:24:39.740\nso, I'm just gonna do a show run and\nI'm gonna pull the rip section.\n\n460\n00:24:39.740 --> 00:24:44.460\nI'm gonna see that technically, the\nnetwork statement is still wrong, right.\n\n461\n00:24:44.460 --> 00:24:47.470\nWhen I look at this, the network\nstatement still says, 172.16.0.0 but\n\n462\n00:24:47.470 --> 00:24:49.840\nI am sending the subnet mask.\n\n463\n00:24:50.960 --> 00:24:54.660\nWhat this line now reads is\nthat it's now saying, look for\n\n464\n00:24:54.660 --> 00:25:00.220\nany interface that happens\nto be in 172.16.0.0 And\n\n465\n00:25:00.220 --> 00:25:04.560\nwhatever network they have,\nlet's advertise that with its subnet mask.\n\n466\n00:25:04.560 --> 00:25:09.270\nSo this one command could be encompassing\nmore than one network, right?\n\n467\n00:25:09.270 --> 00:25:13.910\nSo for example,\nI'm gonna create some loopback interfaces.\n\n468\n00:25:13.910 --> 00:25:16.560\nLoopback interfaces are fake interfaces,\nthey're virtual.\n\n469\n00:25:16.560 --> 00:25:20.510\nThey're always up, and any traffic just\ncomes right back to the router again.\n\n470\n00:25:20.510 --> 00:25:21.960\nSo they always show as online.\n\n471\n00:25:21.960 --> 00:25:23.600\nSo if you're ever doing testing or\nwhatever,\n\n472\n00:25:23.600 --> 00:25:25.140\nloopback interface is a really handy.\n\n473\n00:25:25.140 --> 00:25:28.620\nSo I'm gonna say, interface loopback0.\n\n474\n00:25:28.620 --> 00:25:31.820\nSo I'm creating a brand new interface.\n\n475\n00:25:31.820 --> 00:25:32.550\nAll right?\n\n476\n00:25:32.550 --> 00:25:38.680\nAnd it's gonna come up, they're always up,\nso that's just gonna pop up.\n\n477\n00:25:38.680 --> 00:25:46.240\nAnd I'll say, ip address 172.16.100.6 and\nI'll stick a class C on this one, right?\n\n478\n00:25:46.240 --> 00:25:48.430\nSo I'm gonna Stick with that whole,\n255.255.0.\n\n479\n00:25:48.430 --> 00:25:49.140\nAnd then.\n\n480\n00:25:49.140 --> 00:25:54.580\nI shouldnt have to do another shutdown,\nit's already up.\n\n481\n00:25:54.580 --> 00:25:56.390\nBut just to be on the safe side.\n\n482\n00:25:56.390 --> 00:25:59.990\nThen I'm going to create\na interface loopback1.\n\n483\n00:26:01.530 --> 00:26:05.400\nAnd I'll give this an IP address of,\nmaybe.\n\n484\n00:26:05.400 --> 00:26:06.470\nThat was 100.\n\n485\n00:26:06.470 --> 00:26:07.391\nSo maybe I'll do 101.\n\n486\n00:26:07.391 --> 00:26:09.430\n>>\n>> And\n\n487\n00:26:09.430 --> 00:26:12.140\nthen I'll do loopback2,\nand I'll make that 102.\n\n488\n00:26:12.140 --> 00:26:16.440\nSo I'm creating these different networks,\nnow each one it, oops,\n\n489\n00:26:16.440 --> 00:26:18.590\nI got the wrong IP didn't I?\n\n490\n00:26:18.590 --> 00:26:19.660\nMath not my strong point.\n\n491\n00:26:20.790 --> 00:26:22.550\nAll right, so\nif I get out of my config and\n\n492\n00:26:22.550 --> 00:26:26.020\nI take a look at show IP interface\nbrief now I've got some new interfaces.\n\n493\n00:26:26.020 --> 00:26:27.540\nRight?\nThere's some new interfaces in town,\n\n494\n00:26:27.540 --> 00:26:28.565\nthese loop backs down here.\n\n495\n00:26:28.565 --> 00:26:35.040\nAnd it's 172.16.100.101.102 they're\n/24s they're in separate networks.\n\n496\n00:26:35.040 --> 00:26:37.630\nI didn't get any overlap warnings right?\n\n497\n00:26:37.630 --> 00:26:39.740\nI showed you the overlap warning\nearlier I didn't get that here.\n\n498\n00:26:39.740 --> 00:26:41.630\nSo they're all happy,\n\n499\n00:26:41.630 --> 00:26:46.110\nwell now that they're up we should\nbe sharing that information.\n\n500\n00:26:46.110 --> 00:26:48.680\nIf I look at my running config and\nI pull the rip section.\n\n501\n00:26:49.800 --> 00:26:53.830\nWhen I looked there, I don't have an entry\nfor each of those networks individually.\n\n502\n00:26:53.830 --> 00:27:01.670\nI just have network 172.16.0.0, and that\nis encompassing all of these interfaces.\n\n503\n00:27:01.670 --> 00:27:03.510\nBut I'm gonna advertise them\nwith the subnet mask, so\n\n504\n00:27:03.510 --> 00:27:05.900\nif that's gonna make things happy,\nall right?\n\n505\n00:27:05.900 --> 00:27:09.050\nAnd if I were to go into config and\ngo under router rip and\n\n506\n00:27:09.050 --> 00:27:13.420\nput one of these in specifically,\nso I'll just do 100.0 right?\n\n507\n00:27:13.420 --> 00:27:17.160\nI'm just gonna punch that in, if you do a?\n\n508\n00:27:17.160 --> 00:27:20.280\nafter it, you'll see there's no\nopportunity for me to put a subnet mask.\n\n509\n00:27:20.280 --> 00:27:23.340\nThere's just press enter and that's it.\n\n510\n00:27:23.340 --> 00:27:28.180\nAnd if I pull up that rip config and\n\n511\n00:27:28.180 --> 00:27:32.720\ntake a look at it, eventually it'll\ncome up, it still disregarded it.\n\n512\n00:27:32.720 --> 00:27:35.910\nSo I don't need to go back and update\nthis, there's no point in doing that.\n\n513\n00:27:35.910 --> 00:27:38.840\nBut I am, now, advertising the correct\nnetworks, or at least I think I am.\n\n514\n00:27:38.840 --> 00:27:43.380\nLet's go jump over to router one,\nand see what we actually got, right?\n\n515\n00:27:43.380 --> 00:27:46.930\nSo I'm going to do a show ip route,\nand take a look at that routing table.\n\n516\n00:27:46.930 --> 00:27:49.080\nAnd, hm.\n\n517\n00:27:49.080 --> 00:27:50.010\nI still have 172.16.0.0/16.\n\n518\n00:27:50.010 --> 00:27:51.660\nWhat the heck is going on?\n\n519\n00:27:51.660 --> 00:27:55.970\n>> I think I know what the answer is, Don.\n\n520\n00:27:55.970 --> 00:27:59.420\nIf you actually do the show\nip protocols again.\n\n521\n00:27:59.420 --> 00:28:02.230\nI think I see a line in there\nthat tells me what's going on.\n\n522\n00:28:02.230 --> 00:28:05.120\nSo when we look in here,\nWIP has a neat little feature.\n\n523\n00:28:05.120 --> 00:28:09.580\nI know I talk about it being old and\nnot too fancy and all that stuff.\n\n524\n00:28:09.580 --> 00:28:13.460\nBut it does have a neat feature in there,\nwhich is listed right here.\n\n525\n00:28:13.460 --> 00:28:15.600\nAutomatic network summarization.\n\n526\n00:28:15.600 --> 00:28:19.420\nNow, if you look at the exam\nobjectives for the CC ENT For\n\n527\n00:28:19.420 --> 00:28:24.150\nRIP it specifically says to exclude route\nsummarization, so don't talk about it.\n\n528\n00:28:24.150 --> 00:28:27.500\nBut we do have to talk about it at least\na little bit cuz it's on by default.\n\n529\n00:28:27.500 --> 00:28:31.860\nAnd what route summarization does is it\nsays anytime you cross a major boundary,\n\n530\n00:28:31.860 --> 00:28:36.060\nso when you go from a class A to a class B\nor a class B to a class C, even if you're\n\n531\n00:28:36.060 --> 00:28:42.340\nnot classful, it will take your routes and\nit will roll them up into one big route.\n\n532\n00:28:42.340 --> 00:28:46.880\nAnd so it's taking all my /24s and\nrolling them up into a /16.\n\n533\n00:28:46.880 --> 00:28:48.770\nThat's called route summarization.\n\n534\n00:28:48.770 --> 00:28:52.230\nAnd as long as that's on,\nmy network is going to stay broken.\n\n535\n00:28:52.230 --> 00:28:53.740\nSo I'm gonna need to fix that.\n\n536\n00:28:53.740 --> 00:28:57.280\nAnd in real life land, we almost\nalways disable automatic summarization\n\n537\n00:28:57.280 --> 00:28:58.810\nbecause you can manually summarize.\n\n538\n00:28:58.810 --> 00:29:01.700\nYou can put it where you want it and\nnow you've got control over it.\n\n539\n00:29:01.700 --> 00:29:03.830\nBut here it's automatic and\nit's causing me problems, so\n\n540\n00:29:03.830 --> 00:29:05.000\nI need to get that disabled.\n\n541\n00:29:05.000 --> 00:29:07.650\nAnd I need to get that\ndisabled everywhere.\n\n542\n00:29:07.650 --> 00:29:10.200\nCuz any of my routers can\ndo that summarization.\n\n543\n00:29:10.200 --> 00:29:14.210\nSo, I'm gonna use my little notepad trick\nagain and I'm gonna come in here and\n\n544\n00:29:14.210 --> 00:29:19.310\nI'm gonna say, no auto-summary.\n\n545\n00:29:19.310 --> 00:29:20.850\nAnd if I spell it right,\nit'll work better.\n\n546\n00:29:20.850 --> 00:29:23.420\nSo, no auto-summary.\n\n547\n00:29:23.420 --> 00:29:26.710\nAnd that's the command that's gonna\ngo through and fix that for me.\n\n548\n00:29:26.710 --> 00:29:29.960\nSo I'm gonna copy and\npaste that into each one.\n\n549\n00:29:29.960 --> 00:29:31.570\nAnd pretty sure is no auto-summary.\n\n550\n00:29:31.570 --> 00:29:32.540\nI guess I could be wrong in that.\n\n551\n00:29:32.540 --> 00:29:33.680\nLet's find out.\nNope, that's right.\n\n552\n00:29:33.680 --> 00:29:35.460\nOkay.\nSo, I'm gonna jump through and\n\n553\n00:29:35.460 --> 00:29:36.550\npaste that into each router.\n\n554\n00:29:36.550 --> 00:29:38.800\nNow, here's where things\nget a little tricky.\n\n555\n00:29:38.800 --> 00:29:40.240\nRIP is timer based.\n\n556\n00:29:40.240 --> 00:29:42.880\nSo I'm making this change.\n\n557\n00:29:42.880 --> 00:29:45.520\nThe old route is going to\nstay in my routing table.\n\n558\n00:29:45.520 --> 00:29:48.730\nIt's going to stay in the routing table\nfor a little while until it ages out.\n\n559\n00:29:48.730 --> 00:29:52.390\nAnd I have to wait for it to age out,\none of those RIP timers has to expire.\n\n560\n00:29:52.390 --> 00:29:55.750\nSo, worst case scenario,\nI might have to wait a minute and\n\n561\n00:29:55.750 --> 00:29:57.230\na half for that route to go away.\n\n562\n00:29:57.230 --> 00:29:59.300\nI think it will be much faster.\n\n563\n00:29:59.300 --> 00:30:04.420\nSo if I do a show IP route I'm\nactually seeing a mixture now.\n\n564\n00:30:04.420 --> 00:30:05.710\nNotice I've got 172.16.0.0?\n\n565\n00:30:05.710 --> 00:30:11.160\nIt's still showing up but if I look I've\nalso got 172.16.6.0, dot 100, dot 101.\n\n566\n00:30:11.160 --> 00:30:14.970\nAll those individual routes and\n\n567\n00:30:14.970 --> 00:30:18.950\nI'm making it into my routing\ntable exactly like I wanted.\n\n568\n00:30:18.950 --> 00:30:22.480\nNow it's functioning properly and\nI'm getting the correct route and\n\n569\n00:30:22.480 --> 00:30:24.345\nI'm operating on a class list manner.\n\n570\n00:30:24.345 --> 00:30:29.050\n172.16.100.0 is showing\nas a slash 24 because now\n\n571\n00:30:29.050 --> 00:30:32.750\nthe sum that maxed is being\ntransmitted along with the network.\n\n572\n00:30:32.750 --> 00:30:35.010\nThat's exactly what we want.\n\n573\n00:30:35.010 --> 00:30:38.890\nAnd this other one, if I just wait\na little while, it'll age out.\n\n574\n00:30:38.890 --> 00:30:42.050\nSee this timer over here\nthat shows at 26 seconds.\n\n575\n00:30:42.050 --> 00:30:45.025\nIf I just keep watching that,\neventually it'll go away.\n\n576\n00:30:45.025 --> 00:30:51.060\nAnd notice how that 172.16.0.0 now\nhas a minute and ten seconds on it.\n\n577\n00:30:51.060 --> 00:30:53.490\nWell rip sends an update every 30 seconds.\n\n578\n00:30:53.490 --> 00:30:54.960\nIt's been a minute and ten seconds here.\n\n579\n00:30:54.960 --> 00:30:57.460\nI should have received\ntwo updates in this time.\n\n580\n00:30:57.460 --> 00:30:58.410\nAnd I haven't.\n\n581\n00:30:58.410 --> 00:31:00.440\nSo I'm not getting that update anymore.\n\n582\n00:31:00.440 --> 00:31:03.730\nAnd if I just keep watching, I forget\nwhat the actual hold down timer is.\n\n583\n00:31:03.730 --> 00:31:06.850\nI feel like it's way\nlonger than I wanna wait.\n\n584\n00:31:06.850 --> 00:31:08.000\nIsn't it five minutes?\n\n585\n00:31:09.020 --> 00:31:11.700\nActually, if we do a show ip rip,\nit'll tell us.\n\n586\n00:31:11.700 --> 00:31:13.050\nShow I-\n>> I\n\n587\n00:31:13.050 --> 00:31:14.660\n>> Show IP protocols that gives\n\n588\n00:31:14.660 --> 00:31:15.590\nyou some timer information.\n\n589\n00:31:15.590 --> 00:31:17.440\n>> Sure, it's in there somewhere.\n\n590\n00:31:17.440 --> 00:31:20.190\nWe can find out what that timer is\ninstead of trying to make it up.\n\n591\n00:31:20.190 --> 00:31:21.290\nSo here we go.\n\n592\n00:31:21.290 --> 00:31:23.390\nSo we look at our timer, here it is.\n\n593\n00:31:23.390 --> 00:31:26.060\nSo we've got invalid after 180 seconds.\n\n594\n00:31:26.060 --> 00:31:30.860\nSo I've gotta wait three minutes and\nthen it'll flag it as invalid.\n\n595\n00:31:30.860 --> 00:31:32.950\nBut then it goes into hold down.\n\n596\n00:31:32.950 --> 00:31:33.990\nThat means when it's invalid,\n\n597\n00:31:33.990 --> 00:31:36.040\nit doesn't necessarily come\nright out of the routing table.\n\n598\n00:31:36.040 --> 00:31:37.540\nIt just knows that it's not valid.\n\n599\n00:31:37.540 --> 00:31:39.150\nSo it holds it in the database.\n\n600\n00:31:39.150 --> 00:31:41.580\nIt will most likely pop out\nof the routing table, but\n\n601\n00:31:41.580 --> 00:31:43.030\nit's sitting there in the database.\n\n602\n00:31:43.030 --> 00:31:45.440\nAnd then it'll still hold it for\nthree more minutes.\n\n603\n00:31:45.440 --> 00:31:48.210\nAnd if we still don't get an update,\nnow we consider it dead,\n\n604\n00:31:48.210 --> 00:31:50.110\nand we flush it out, right?\n\n605\n00:31:50.110 --> 00:31:52.750\nSo it's gonna get flushed,\nbut it just takes time, and\n\n606\n00:31:52.750 --> 00:31:54.490\nwe just have to wait a little bit.\n\n607\n00:31:54.490 --> 00:31:56.920\nYou'll see those updates going\nevery 30 seconds right there.\n\n608\n00:31:56.920 --> 00:32:00.061\nSo while I wait on that,\nlet me show you two other commands.\n\n609\n00:32:00.061 --> 00:32:01.634\nI was using show IP protocols.\n\n610\n00:32:01.634 --> 00:32:04.618\nAnd like Ronnie said, it's got most of\nthe information we need right there.\n\n611\n00:32:04.618 --> 00:32:06.342\nSo that's kind of my go to command.\n\n612\n00:32:06.342 --> 00:32:08.220\nBut you can also do is show IP rip, and\n\n613\n00:32:08.220 --> 00:32:11.490\nyou'll see where you can view\nthe database and the neighbors.\n\n614\n00:32:11.490 --> 00:32:13.470\nSo show IP rip neighbors.\n\n615\n00:32:13.470 --> 00:32:16.760\nWell, that'll show me people that\nI've statically assigned a neighbor\n\n616\n00:32:16.760 --> 00:32:18.300\nrelationship with.\n\n617\n00:32:18.300 --> 00:32:20.360\nYou don't normally need\nto statically assign it.\n\n618\n00:32:20.360 --> 00:32:23.010\nThere are some types of networks\nthat don't allow broadcasts, and\n\n619\n00:32:23.010 --> 00:32:23.990\nthat can break rip.\n\n620\n00:32:23.990 --> 00:32:25.480\nIt can break rip version one.\n\n621\n00:32:25.480 --> 00:32:28.120\nIn rip version two, you have multi-casts,\nand that's normally fine.\n\n622\n00:32:28.120 --> 00:32:30.570\nBut show rip neighbors and\nshow you your static neighbors.\n\n623\n00:32:30.570 --> 00:32:32.560\nAnd show ip rip database.\n\n624\n00:32:32.560 --> 00:32:35.190\nThat'll show you information\nabout the routing database.\n\n625\n00:32:35.190 --> 00:32:38.730\nSome of these routes are great,\nand some of these routes are bad.\n\n626\n00:32:38.730 --> 00:32:42.680\nA bad route won't make it into\nthe routing table, a good route will.\n\n627\n00:32:42.680 --> 00:32:46.810\nBut what's cool is you can see things\nlike the auto-summaries, right?\n\n628\n00:32:46.810 --> 00:32:49.220\nSo there's an auto-summary showing up for\none of these networks.\n\n629\n00:32:49.220 --> 00:32:53.100\nNow, this auto-summary doesn't affect me\nbecause I followed a classful boundary\n\n630\n00:32:53.100 --> 00:32:59.460\nanyway, so it's okay, but if I had run\nthis While the 172.16 network was in here.\n\n631\n00:32:59.460 --> 00:33:01.000\nWhich, actually we can see it right there,\n\n632\n00:33:01.000 --> 00:33:02.580\nthere's that auto-summary\nstill sitting there.\n\n633\n00:33:02.580 --> 00:33:03.140\nRight?\n\n634\n00:33:03.140 --> 00:33:09.030\nIt might be out of my routing table\nby now, let's see if it's out.\n\n635\n00:33:09.030 --> 00:33:12.240\nHere, 172.16.0.0/16 is possibly down.\n\n636\n00:33:12.240 --> 00:33:15.240\nThree minutes went by so\nwe know it's invalid.\n\n637\n00:33:15.240 --> 00:33:17.230\nAnd now we're doing the hold down.\n\n638\n00:33:17.230 --> 00:33:18.650\n180 seconds on hold down.\n\n639\n00:33:18.650 --> 00:33:21.950\nAnd when 180 seconds on hold down\nis up then it's going to come out.\n\n640\n00:33:21.950 --> 00:33:25.800\nSo even after it comes out though\nI can still see it in the database\n\n641\n00:33:25.800 --> 00:33:26.780\nbefore it gets flushed.\n\n642\n00:33:26.780 --> 00:33:30.960\nThe flush timer was 240 seconds so\nthat's like six more minutes.\n\n643\n00:33:30.960 --> 00:33:34.560\nSo it'll take a little bit longer for\nthat to actually come out but\n\n644\n00:33:34.560 --> 00:33:35.370\nyou can see it right there.\n\n645\n00:33:35.370 --> 00:33:37.960\nShow ip rip database is\na neat way to see that.\n\n646\n00:33:37.960 --> 00:33:42.160\nProbably a little overkill for CCENT, but\n\n647\n00:33:42.160 --> 00:33:44.650\nthere is another command I wanna show\nyou for troubleshooting purposes.\n\n648\n00:33:44.650 --> 00:33:48.520\nIf things just aren't working,\nwe can do what's called a debug.\n\n649\n00:33:48.520 --> 00:33:53.520\nThere's a lot going on behind the scenes\non a router and we don't see it.\n\n650\n00:33:53.520 --> 00:33:54.560\nIt's kind of invisible to us.\n\n651\n00:33:54.560 --> 00:33:56.030\nThe router hides it from us.\n\n652\n00:33:56.030 --> 00:33:58.400\nEven the logs, when you do a show logging?\n\n653\n00:33:58.400 --> 00:34:01.750\nYou'll get log information, and there's\nthings that are happening here, but\n\n654\n00:34:01.750 --> 00:34:03.880\nthat's a pittance of\nwhat's actually going on.\n\n655\n00:34:03.880 --> 00:34:07.410\nSee how there's no information\nin here about rip at all?\n\n656\n00:34:07.410 --> 00:34:09.370\nI turned on rip,\nI'm syncing with neighbors,\n\n657\n00:34:09.370 --> 00:34:11.470\nall this stuff is happening and\nI don't see it.\n\n658\n00:34:11.470 --> 00:34:14.050\nWell, there's a debug command\n\n659\n00:34:14.050 --> 00:34:18.070\nthat lets you see the hidden stuff\nthat's going on behind the scenes.\n\n660\n00:34:18.070 --> 00:34:20.950\nWe have to be careful with\ndebugs because debugs can show\n\n661\n00:34:20.950 --> 00:34:22.880\nus way more information than we want.\n\n662\n00:34:22.880 --> 00:34:27.320\nAnd if we're SSH'ed in to the router it\ncan actually overwhelm your shell session\n\n663\n00:34:27.320 --> 00:34:28.680\nand lock you out of the router.\n\n664\n00:34:28.680 --> 00:34:32.620\nSo, Sysco recommends that you\ndon't do debugs via telnet or\n\n665\n00:34:32.620 --> 00:34:36.515\nSSH that you do debugs\nvia the console cable.\n\n666\n00:34:36.515 --> 00:34:37.165\nAll right.\n\n667\n00:34:37.165 --> 00:34:41.455\nBut in reality, debugs are actually\nokay as long as you filter them down.\n\n668\n00:34:41.455 --> 00:34:42.425\nAll right?\n\n669\n00:34:42.425 --> 00:34:44.175\nThere's a command called debug all.\n\n670\n00:34:44.175 --> 00:34:46.485\nAnd if you run that and\nyou're telnetted in or SSHed in,\n\n671\n00:34:46.485 --> 00:34:47.595\nyou will lock yourself out.\n\n672\n00:34:47.595 --> 00:34:48.425\nThat's it.\n\n673\n00:34:48.425 --> 00:34:50.690\nEven on a console you're gonna get so\n\n674\n00:34:50.690 --> 00:34:54.360\nmuch information that there's\nno way you can process it.\n\n675\n00:34:54.360 --> 00:34:57.120\nBut if you do debug?, you'll see, and\n\n676\n00:34:57.120 --> 00:35:00.330\nyou can filter this down to\na lot of individual things.\n\n677\n00:35:00.330 --> 00:35:04.960\nSo you can say, just show me the extended\ninformation for one thing in particular.\n\n678\n00:35:04.960 --> 00:35:10.540\nAnd so I'm going to run debug ip rip,\njust show me the rip information.\n\n679\n00:35:10.540 --> 00:35:12.510\nAnd we'll see I'm gonna\nget a good bit of data.\n\n680\n00:35:12.510 --> 00:35:15.190\nBut it's not gonna be\nan overwhelming amount of data.\n\n681\n00:35:15.190 --> 00:35:20.000\nEvery 30 seconds I should start to\nsee messages coming in and going out.\n\n682\n00:35:20.000 --> 00:35:22.510\nAnd so right here I'm\nsending a version two update.\n\n683\n00:35:22.510 --> 00:35:24.580\nRight so there I just sent two updates.\n\n684\n00:35:24.580 --> 00:35:25.670\nAnd you'll see my update.\n\n685\n00:35:25.670 --> 00:35:27.380\nMy entire routing table.\n\n686\n00:35:27.380 --> 00:35:31.460\nThat's one of the negatives of rip it\nsends the entire routing table every time\n\n687\n00:35:31.460 --> 00:35:32.740\nand then I receive.\n\n688\n00:35:32.740 --> 00:35:34.850\nI'm gonna do an undebug all.\n\n689\n00:35:34.850 --> 00:35:36.490\nThat turns off debugging.\n\n690\n00:35:36.490 --> 00:35:39.370\nOtherwise, my screen's just\ngonna keep populating with data.\n\n691\n00:35:39.370 --> 00:35:44.280\nBut what we can see here is where\nI'm sending my version two updates.\n\n692\n00:35:44.280 --> 00:35:48.090\nAnd then I can see where I'm receiving\nversion two updates from somebody else.\n\n693\n00:35:48.090 --> 00:35:50.800\nThis is a great way to see whether I'm\n\n694\n00:35:50.800 --> 00:35:53.290\nactually hearing from the that\nperson on the other side.\n\n695\n00:35:53.290 --> 00:35:56.650\nAnd if I have something\nlike a version mismatch\n\n696\n00:35:56.650 --> 00:35:58.730\nit'll show up here in the debug right.\n\n697\n00:35:58.730 --> 00:36:03.000\nSo for example, I'm on a lets see\nI'm on router one right now right.\n\n698\n00:36:03.000 --> 00:36:05.990\nLet's say I got to router three and\nput it back in version one mode.\n\n699\n00:36:05.990 --> 00:36:10.540\nWell, router one is not receiving version\none, I'm just receiving version two.\n\n700\n00:36:10.540 --> 00:36:13.520\nSo, I'll lose router three's routes.\n\n701\n00:36:13.520 --> 00:36:16.700\nSo let me jump over to router three and\ndo just that.\n\n702\n00:36:16.700 --> 00:36:21.570\nSo on router three, I'm going to\njump back into my configuration and\n\n703\n00:36:21.570 --> 00:36:26.020\nI'm going to say router rip version one.\n\n704\n00:36:26.020 --> 00:36:28.730\nI'm going to put myself back\nin version one mode, okay?\n\n705\n00:36:28.730 --> 00:36:33.010\nAnd now that I'm now in back in version\none mode, I'll see that I'm sending and\n\n706\n00:36:33.010 --> 00:36:34.990\nreceiving just version one.\n\n707\n00:36:36.030 --> 00:36:36.610\nOkay.\n\n708\n00:36:36.610 --> 00:36:40.270\nNow, on this one,\nit's going to lose all of it's rip routes.\n\n709\n00:36:40.270 --> 00:36:44.000\nIf I do a show ip route I still\nhave my rip routes, okay?\n\n710\n00:36:44.000 --> 00:36:49.510\nBut, if you look at their timers,\ntheir timers are already over 30 seconds\n\n711\n00:36:49.510 --> 00:36:53.170\nbecause the next update that came\nin was a version two update.\n\n712\n00:36:53.170 --> 00:36:56.690\nAnd so if I keep running show ip route,\nI'm gonna see those timers getting higher\n\n713\n00:36:56.690 --> 00:37:01.270\nand higher and higher because\nI'm not getting updates anymore.\n\n714\n00:37:01.270 --> 00:37:02.340\nAll right?\n\n715\n00:37:02.340 --> 00:37:08.460\nAnd if I do a debug ip rig,\nI'll see that I am receiving the updates.\n\n716\n00:37:08.460 --> 00:37:10.100\nI just can't use them.\n\n717\n00:37:10.100 --> 00:37:12.430\nSo if I wait just a moment here,\nthere we go.\n\n718\n00:37:12.430 --> 00:37:14.960\nLet me do an undebug all real quick.\n\n719\n00:37:14.960 --> 00:37:18.610\nI can see that I just received\nan update from router one.\n\n720\n00:37:18.610 --> 00:37:21.790\nI received an update from 192.168.1.1,\nand if I look\n\n721\n00:37:21.790 --> 00:37:26.780\nit's ignore version two\npacket illegal version right.\n\n722\n00:37:26.780 --> 00:37:30.120\nSo if I'm wondering why all my routes\naren't getting updates I can look and\n\n723\n00:37:30.120 --> 00:37:31.590\nI can see there's a mismatch.\n\n724\n00:37:31.590 --> 00:37:33.310\nThe debug will show me that.\n\n725\n00:37:33.310 --> 00:37:34.530\nIf I do show logging and\n\n726\n00:37:34.530 --> 00:37:38.830\nI look in my logs,\nwell those made it in there too, right.\n\n727\n00:37:38.830 --> 00:37:42.650\nSo I can see that in the log, but\nthere's things that don't make it in.\n\n728\n00:37:42.650 --> 00:37:44.860\nLike my successful communications, right.\n\n729\n00:37:44.860 --> 00:37:47.320\nAll of those running tables, those don't\nmake it in and you don't see it there.\n\n730\n00:37:47.320 --> 00:37:51.230\nSo, there's a balance you have to make\nbetween just looking in your logs and\n\n731\n00:37:51.230 --> 00:37:52.860\nlooking at the debug output.\n\n732\n00:37:52.860 --> 00:37:55.830\nThat's going to pop up in there and\nwe'll see it.\n\n733\n00:37:55.830 --> 00:37:59.520\nBy now, router one should be all happy and\nour routes should be all learned and\n\n734\n00:37:59.520 --> 00:38:00.510\nconvenient.\n\n735\n00:38:00.510 --> 00:38:03.900\nOn router one, we should have a nice\nconsistent routing table now.\n\n736\n00:38:03.900 --> 00:38:05.920\nI've broken router three, haven't I?\n\n737\n00:38:05.920 --> 00:38:08.000\nRouter three's stuff\nis going to be broken.\n\n738\n00:38:08.000 --> 00:38:10.700\nBut everybody else should be happy.\n\n739\n00:38:10.700 --> 00:38:13.767\nRouter three has 172.16.3.0\nthat I created earlier, so\n\n740\n00:38:13.767 --> 00:38:15.890\nits updates are over two minutes now.\n\n741\n00:38:15.890 --> 00:38:20.070\nBut if I look at some of these other\nnetworks, they're all up and happy.\n\n742\n00:38:20.070 --> 00:38:25.176\nI've got two routes to everything,\nbecause router\n\n743\n00:38:25.176 --> 00:38:30.450\none is connected to routers three and\nrouter two.\n\n744\n00:38:30.450 --> 00:38:32.590\nRight, so router one is these two choices.\n\n745\n00:38:32.590 --> 00:38:35.340\nRouter three is not sending me\nupdates anymore, router two is.\n\n746\n00:38:35.340 --> 00:38:40.080\nSo when I look at my routing table,\nsee how I've got all these double routes.\n\n747\n00:38:40.080 --> 00:38:41.810\nThese load balanced routes, and\n\n748\n00:38:41.810 --> 00:38:45.500\nhow one of them has received\nupdates within 30 seconds.\n\n749\n00:38:45.500 --> 00:38:47.890\nBut the other hasn't received\nupdates in over two minutes.\n\n750\n00:38:47.890 --> 00:38:50.210\nAnd so when I start to look\nat that routing table,\n\n751\n00:38:50.210 --> 00:38:51.990\nit's gonna change here soon.\n\n752\n00:38:51.990 --> 00:38:54.350\nBecause these guys are gonna hit\nthat three minute mark, right.\n\n753\n00:38:54.350 --> 00:38:56.460\nIn 11 more seconds they are gonna\nhit that three minute mark,\n\n754\n00:38:56.460 --> 00:38:58.860\nand they're gonna be\nflagged as possibly down.\n\n755\n00:38:58.860 --> 00:39:03.750\nSo if I just keep running this,\none second off I was so close.\n\n756\n00:39:05.050 --> 00:39:07.530\nJust do one more, there we go.\n\n757\n00:39:07.530 --> 00:39:10.300\nWe've crossed that three minute mark,\nwhich is 180 seconds.\n\n758\n00:39:10.300 --> 00:39:12.640\nAnd so now those are gonna\nget flagged as possibly down.\n\n759\n00:39:12.640 --> 00:39:14.150\nSo that's possibly down.\n\n760\n00:39:14.150 --> 00:39:15.510\nThe other one is still up though, right?\n\n761\n00:39:15.510 --> 00:39:17.130\nI got an update within four seconds.\n\n762\n00:39:17.130 --> 00:39:20.190\nAnd so\nwe're gonna see that start to take effect.\n\n763\n00:39:20.190 --> 00:39:21.910\nAnd now, they've all been removed.\n\n764\n00:39:21.910 --> 00:39:24.300\nSee how I just have the ones that are up?\n\n765\n00:39:24.300 --> 00:39:28.780\nWhy keep a possibly down route if I\nhave a good version of it in tow?\n\n766\n00:39:28.780 --> 00:39:32.010\nAnd so, the good version is in and\nthe possibly down one stayed out.\n\n767\n00:39:32.010 --> 00:39:35.100\nNow, earlier the possibly down\none stayed in there, didn't it?\n\n768\n00:39:35.100 --> 00:39:35.660\nRight?\nAnd\n\n769\n00:39:35.660 --> 00:39:38.770\nI can even see where other ones\nstayed in that were possibly down.\n\n770\n00:39:38.770 --> 00:39:41.930\nThe reason they stayed in,\nis I have no other routes to that network.\n\n771\n00:39:41.930 --> 00:39:47.240\nThere is no other route so a possibly\ndown-route is better than no route at all,\n\n772\n00:39:47.240 --> 00:39:49.370\nand so it stays in and it keeps it, right?\n\n773\n00:39:49.370 --> 00:39:50.400\nSo that's all a part of rip,\n\n774\n00:39:50.400 --> 00:39:53.340\ntrying to make the best decision it\ncan with the information it has.\n\n775\n00:39:53.340 --> 00:39:56.630\nThe problem is that rip just doesn't\nhave a lot of information and\n\n776\n00:39:56.630 --> 00:40:00.170\nthe information it does have, is just\nnot very timely, it's not very fast.\n\n777\n00:40:00.170 --> 00:40:05.160\nSo it's got to work it, but\nif I do a show IP rip database and\n\n778\n00:40:05.160 --> 00:40:08.570\nI go in here,\nall of those possibly down networks,\n\n779\n00:40:08.570 --> 00:40:11.760\nthey'll be in here,\nthey'll be setting down, yeah, right here.\n\n780\n00:40:11.760 --> 00:40:14.890\nSo there's the possibly down network but\nnot in my routing table but\n\n781\n00:40:14.890 --> 00:40:17.220\nthere's still in a rip database,\nall right.\n\n782\n00:40:17.220 --> 00:40:18.600\nSo that's pretty much how rip works.\n\n783\n00:40:18.600 --> 00:40:20.030\nI don't know how went\nlong in this episode, but\n\n784\n00:40:20.030 --> 00:40:21.320\nI wanted to make sure\nthat I got it in there.\n\n785\n00:40:21.320 --> 00:40:24.930\nI think I wanna a little bit beyond what\nyou actually need to know for the CCNT\n\n786\n00:40:24.930 --> 00:40:28.590\nexam, but I think it's important that you\nhave a good foundational knowledge of\n\n787\n00:40:28.590 --> 00:40:33.080\nnot just the concepts but the actual\npracticality that rip is a good protocol.\n\n788\n00:40:33.080 --> 00:40:37.120\nYou can use rip,\nsmall businesses really it works out.\n\n789\n00:40:37.120 --> 00:40:41.950\nSomewhere that has like a critical,\nmission critical systems you don't want to\n\n790\n00:40:41.950 --> 00:40:46.030\nhave a minute and a half of downtime or\nthree minutes to detect a failed route.\n\n791\n00:40:46.030 --> 00:40:48.810\nYou want to detect a failed\nroute right away and\n\n792\n00:40:48.810 --> 00:40:50.810\nrip is just not the greatest for that.\n\n793\n00:40:50.810 --> 00:40:51.770\n>> Well, Don, thank you for\n\n794\n00:40:51.770 --> 00:40:56.360\nhelping us out in rip and showing us\nthe configuration as well as verification.\n\n795\n00:40:56.360 --> 00:40:59.840\nRip even though you might not see\nit in many production networks\n\n796\n00:40:59.840 --> 00:41:01.040\nit is a great one for\n\n797\n00:41:01.040 --> 00:41:05.130\nyou to start off with if you haven't been\ndealing with routing protocols before.\n\n798\n00:41:05.130 --> 00:41:08.540\nDon showed you that you can actually\nfollow those steps there and\n\n799\n00:41:08.540 --> 00:41:11.990\nsee where it actually works out so\nit's very much predictable and\n\n800\n00:41:11.990 --> 00:41:15.890\nallows you to get some experience into\na routing protocol, you can set it up and\n\n801\n00:41:15.890 --> 00:41:18.690\npractice with it and\ntest with it and figure it out.\n\n802\n00:41:18.690 --> 00:41:23.170\nMake sure you remember those\nauto dash summary commands.\n\n803\n00:41:23.170 --> 00:41:25.740\nThose are going to be very important\nto you especially when you don't get\n\n804\n00:41:25.740 --> 00:41:27.840\nthe routes showing up\nthe way that you need to.\n\n805\n00:41:27.840 --> 00:41:31.040\nThat's the great place for\nus to also end this episode then.\n\n806\n00:41:31.040 --> 00:41:34.130\nSigning off for IT pro TV,\nI've been your host Ronnie Hoang.\n\n807\n00:41:34.130 --> 00:41:37.869\n>> And I'm Don Pezet\n>> Stay tuned right here for\n\n808\n00:41:37.869 --> 00:41:39.922\nmore CCENT episodes\n\n809\n00:41:39.922 --> 00:41:47.890\n[MUSIC]\n\n",
          "vimeoId": "175691276"
        }
      ],
      "title": "Routing Fundamentals"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Ronnie and Don show how to configure DHCP as a service running on the router.  They discuss briefly the DHCP process and demonstrate how to configure a DHCP server on the router along with options.  The guys also show how to configure a router interface to get an address from cisco dhcp server and how to setup options—additional information that can be handed out with dhcp",
          "length": "2124",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-4-1-dynamic_host_configuration_protocol-072016-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-4-1-dynamic_host_configuration_protocol-072016-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-4-1-dynamic_host_configuration_protocol-072016-1-sm.jpg",
          "title": "Dynamic Host Configuration Protocol",
          "transcript": "WEBVTT\n\n1\n00:00:00.106 --> 00:00:10.106\n[MUSIC]\n\n2\n00:00:12.242 --> 00:00:15.580\nWelcome back to another great\nepisode right here on ITProTV.\n\n3\n00:00:15.580 --> 00:00:17.040\nI'm your host Ronnie Wong.\n\n4\n00:00:17.040 --> 00:00:20.270\nAnd today,\nyou're watching the Cisco CCENT show.\n\n5\n00:00:20.270 --> 00:00:22.730\nWe're about to take a look at\nsome infrastructure services.\n\n6\n00:00:22.730 --> 00:00:25.920\nAnd who better to help us understand that\nin the world of Cisco than Mr. Don Pezet?\n\n7\n00:00:25.920 --> 00:00:26.610\nDon, welcome back.\n\n8\n00:00:26.610 --> 00:00:28.420\n>> Thanks for\nhaving me on the show Ronnie and yeah.\n\n9\n00:00:28.420 --> 00:00:30.055\nThis is a neat section of the exam, right?\n\n10\n00:00:30.055 --> 00:00:31.380\nInfrastructure services.\n\n11\n00:00:31.380 --> 00:00:34.350\nBecause there's a lot of really\ncool things that your routers and\n\n12\n00:00:34.350 --> 00:00:38.080\nswitches can do that just aren't\nturned on by default, right.\n\n13\n00:00:38.080 --> 00:00:41.300\nYour routers are set to route and\nyour switches are set to switch, and\n\n14\n00:00:41.300 --> 00:00:44.040\nthey're not necessarily\nset to do additions or\n\n15\n00:00:44.040 --> 00:00:46.520\nany other kind of magic that we\nmight want to get configured.\n\n16\n00:00:46.520 --> 00:00:47.310\nBut it doesn't mean they can't,\n\n17\n00:00:47.310 --> 00:00:49.930\nit just means we haven't turned it on,\nwe haven't configured it.\n\n18\n00:00:49.930 --> 00:00:52.870\nSo we're gonna run through, over the next\nfew episodes, several of these services,\n\n19\n00:00:52.870 --> 00:00:55.100\nand the one we're gonna\nstart with Is DHCP.\n\n20\n00:00:55.100 --> 00:01:00.530\nDHCP is the Dynamic Host Configuration\nProtocol, and what it does is\n\n21\n00:01:00.530 --> 00:01:05.240\nit provides us way to automatically issue\nIP addresses out there on our network.\n\n22\n00:01:05.240 --> 00:01:07.960\nThis is really important especially in\ntoday's world, we have the whole bring\n\n23\n00:01:07.960 --> 00:01:12.610\nyour own device movement, that in the old\ndays when you just had desktops, and\n\n24\n00:01:12.610 --> 00:01:15.450\nif your company had 20 desktops\nyou put them in and that was it.\n\n25\n00:01:15.450 --> 00:01:18.320\nYou would just go around and\ngive each one a static IP address and\n\n26\n00:01:18.320 --> 00:01:19.480\nthat was the end of it.\n\n27\n00:01:19.480 --> 00:01:22.700\nBut now people have laptops,\nthey come in to work, they leave work.\n\n28\n00:01:22.700 --> 00:01:26.110\nThey jump to network to network, they have\ncellphone and tablets, and so we wanna\n\n29\n00:01:26.110 --> 00:01:29.960\nmake sure that we can just automatically\ngive them an IP address so we don't have\n\n30\n00:01:29.960 --> 00:01:33.164\nto go and assign it and get involve every\ntime a new device enters the network.\n\n31\n00:01:33.164 --> 00:01:35.280\nDHCP is what does that.\n\n32\n00:01:35.280 --> 00:01:37.450\nNow, I'm probably not\ntelling you anything new,\n\n33\n00:01:37.450 --> 00:01:40.950\nbecause almost everyone\nuses DHCP on their network.\n\n34\n00:01:40.950 --> 00:01:44.690\nAnd, as a result,\nyou probably already have a DHCP server.\n\n35\n00:01:44.690 --> 00:01:47.190\nSo why would you want to\nrun one on your router?\n\n36\n00:01:47.190 --> 00:01:49.190\nThe short answer is,\nyou probably wouldn't.\n\n37\n00:01:49.190 --> 00:01:54.260\nA LINUX server, a Windows server,\nMAC-OS with a server app, your firewall,\n\n38\n00:01:54.260 --> 00:01:56.840\nall those guys can run DHCP servers, also.\n\n39\n00:01:56.840 --> 00:02:01.820\nAnd having it on an actual server,\nis usually the best way to go about\n\n40\n00:02:01.820 --> 00:02:06.270\nit because it'll wipe all of the database\nto the hard drive, and if you reboot,\n\n41\n00:02:06.270 --> 00:02:08.660\nall of the DHCP leases are still there.\n\n42\n00:02:08.660 --> 00:02:12.550\nOn a router, it can do the same thing\nexcept it stores it all in RAM.\n\n43\n00:02:12.550 --> 00:02:15.700\nAnd so if we reboot the router,\nit kinda loses all the leases that has,\n\n44\n00:02:15.700 --> 00:02:17.930\nand that's not necessarily\ngreatest thing in the world.\n\n45\n00:02:17.930 --> 00:02:21.760\nSo we can use our router as a DHCP server,\n\n46\n00:02:21.760 --> 00:02:25.640\nbut we certainly don't have to,\nand it is turned off by default.\n\n47\n00:02:25.640 --> 00:02:27.210\nBut if you're setting\nup a new branch office,\n\n48\n00:02:27.210 --> 00:02:30.700\nand at the branch office you've\ngot just five computers.\n\n49\n00:02:30.700 --> 00:02:33.190\nAnd so you put in a Cisco router,\nlike a 2911, and\n\n50\n00:02:33.190 --> 00:02:38.680\non the 2911 you buy the 16 port switch\nmodule and you stick it in there,\n\n51\n00:02:38.680 --> 00:02:42.930\nand you get the advanced security\nservices iOS and you stick it on there.\n\n52\n00:02:42.930 --> 00:02:47.490\nNow you have a router firewall\nswitch all in one unit.\n\n53\n00:02:47.490 --> 00:02:51.540\nAnd because it's doing all of that, you\nmight want it to be the DHCP server also.\n\n54\n00:02:51.540 --> 00:02:55.070\nSo we can dive right into our router,\nand we can get that set up.\n\n55\n00:02:55.070 --> 00:02:57.190\nNow, setting up the ACP is not that hard.\n\n56\n00:02:57.190 --> 00:03:00.990\nWe start by, well turning on the DHCP\nservice, that's kind of important.\n\n57\n00:03:00.990 --> 00:03:03.770\nWe've gotta turn that service on,\nit is not on by default.\n\n58\n00:03:03.770 --> 00:03:06.400\nAnd then second,\nwe need to create a pool of IPs.\n\n59\n00:03:06.400 --> 00:03:10.540\nJust a collection of IP addresses that\nwe're gonna hand out to clients, right?\n\n60\n00:03:10.540 --> 00:03:12.000\nSo let's look at my topology.\n\n61\n00:03:12.000 --> 00:03:16.710\nSo on my topology here I've got\nrouter 1 that's plugged into this\n\n62\n00:03:16.710 --> 00:03:18.720\nkind of cloud network, right.\n\n63\n00:03:18.720 --> 00:03:23.240\nAnd router 2 and router 3 are plugged into\nthis cloud network also, this 192.168.1.0.\n\n64\n00:03:23.240 --> 00:03:25.258\nLet me switch my physical topology, here.\n\n65\n00:03:25.258 --> 00:03:27.830\nSo they're gi1/0 interfaces.\n\n66\n00:03:27.830 --> 00:03:30.170\nThey're all on the same network.\n\n67\n00:03:30.170 --> 00:03:34.590\nWell right now I've got static IP\naddresses assigned to all of these guys.\n\n68\n00:03:34.590 --> 00:03:38.950\nIt's 192.168.1.1 for router 1,\n.2 for router 2 and .3 for router 3.\n\n69\n00:03:38.950 --> 00:03:42.050\nBut maybe I want these to be dynamic,\nright?\n\n70\n00:03:42.050 --> 00:03:46.210\nMaybe these are cable modems that\nare connecting up to an ISP.\n\n71\n00:03:46.210 --> 00:03:50.040\nWell the ISP is gonna be issuing us an IP\naddress so the ISP would be our DHCP\n\n72\n00:03:50.040 --> 00:03:54.280\nserver, and some of our routers\nwould be clients, so we can do both.\n\n73\n00:03:54.280 --> 00:03:56.400\nI'm gonna make router 1 the DHCP server.\n\n74\n00:03:56.400 --> 00:03:59.110\nIt's gonna be the one\nthat hands out addresses.\n\n75\n00:03:59.110 --> 00:04:04.130\nAne we'll make router 2 and router 3\nthe clients, so that when they go and\n\n76\n00:04:04.130 --> 00:04:09.190\nboot up an ASPRN IP address, they'll reach\nout and get that IP right from router one.\n\n77\n00:04:09.190 --> 00:04:12.630\nAll right.\nSo let's go in and set up a server.\n\n78\n00:04:12.630 --> 00:04:16.330\nI'm gonna jump over to router one and\nwe'll get it set up.\n\n79\n00:04:16.330 --> 00:04:17.180\nAll right, so\n\n80\n00:04:17.180 --> 00:04:21.520\nthe first thing that we need to do is get\nthat DHCP service up and running, right.\n\n81\n00:04:21.520 --> 00:04:24.300\nSo I'm gonna get into Configuration.\n\n82\n00:04:24.300 --> 00:04:26.950\nAnd the command is really easy,\nright, it's just service DHCP.\n\n83\n00:04:26.950 --> 00:04:30.940\nKind of like when we had service password\ndash encryption or service time stamps,\n\n84\n00:04:30.940 --> 00:04:32.580\nhere we have service DHCP.\n\n85\n00:04:32.580 --> 00:04:35.660\nThat's going to enable the DHCP\nfunctions on this router, right.\n\n86\n00:04:35.660 --> 00:04:39.950\nIf I don't do that all the other commands\nI put in, it will accept them but\n\n87\n00:04:39.950 --> 00:04:41.170\nit's not actually gonna work, right.\n\n88\n00:04:41.170 --> 00:04:43.550\nSo this is kind of a critical thing,\nthat's gonna turn the service on.\n\n89\n00:04:43.550 --> 00:04:47.360\nNow if I just turn that on and\nwalk away, I haven't actually done\n\n90\n00:04:47.360 --> 00:04:50.210\nanything on the router other than turn\nthe service on so it's not doing anything.\n\n91\n00:04:50.210 --> 00:04:53.180\nI haven't created a rogue DHCP server or\nanything like that, but\n\n92\n00:04:53.180 --> 00:04:54.230\nit's now up and running.\n\n93\n00:04:54.230 --> 00:04:56.960\nIf you're not going to use\nDHCP you should turn this off,\n\n94\n00:04:56.960 --> 00:05:00.750\nbecause well, it's increasing\nyour attack surface, right.\n\n95\n00:05:00.750 --> 00:05:02.700\nIt's an extra thing for\nan attacker to target.\n\n96\n00:05:02.700 --> 00:05:04.470\nIf you're not using it,\nyou should turn it off.\n\n97\n00:05:04.470 --> 00:05:06.500\nThat's why it's off, by default.\n\n98\n00:05:06.500 --> 00:05:08.460\nAll right, now, I need to create my pool.\n\n99\n00:05:08.460 --> 00:05:11.350\nThe pool of addresses that I'm\ngonna hand out to people so\n\n100\n00:05:11.350 --> 00:05:14.000\nthat they can get IP addresses.\n\n101\n00:05:14.000 --> 00:05:20.394\nWell, if I look at my interfaces,\nif I do a show IP interface brief,\n\n102\n00:05:20.394 --> 00:05:26.589\nthat interface gi1/0 is\non the 192.168.1 network.\n\n103\n00:05:26.589 --> 00:05:31.480\nSo, I need to create a pool of 192.168.1\naddresses that I can hand out to people.\n\n104\n00:05:31.480 --> 00:05:32.650\nSo, I'm gonna create that pool.\n\n105\n00:05:32.650 --> 00:05:39.260\nI'll say IP DHCP pool, and\nthen I'll give it a name, all right?\n\n106\n00:05:39.260 --> 00:05:40.930\nI'm just gonna call mine itprotv-lab.\n\n107\n00:05:40.930 --> 00:05:43.710\nYou can call yours whatever you want.\n\n108\n00:05:43.710 --> 00:05:47.030\nThe name is case sensitive, so\nif I do capital letters now,\n\n109\n00:05:47.030 --> 00:05:48.980\nI need to do capital letters forever,\nright?\n\n110\n00:05:48.980 --> 00:05:51.880\nIf I do all lower case, you stay all lower\ncase, it's up to you how you want to go.\n\n111\n00:05:51.880 --> 00:05:53.710\nJust remember the case, it is important.\n\n112\n00:05:53.710 --> 00:05:54.450\nAll right.\n\n113\n00:05:54.450 --> 00:05:55.920\nSo my prompt is gonna change.\n\n114\n00:05:55.920 --> 00:05:58.520\nNow, I'm in the dhcp-config prompt.\n\n115\n00:05:58.520 --> 00:06:01.510\nAnd so from here, I can define the pool.\n\n116\n00:06:01.510 --> 00:06:04.030\nAnd defining the pool can\nbe as simple as one line.\n\n117\n00:06:04.030 --> 00:06:11.800\nWe can just say, network 192.168.1.0,\nfollowed by the subnet mask.\n\n118\n00:06:13.120 --> 00:06:16.960\nAll right, so I can run that right there,\nand now I've got a pool of addresses.\n\n119\n00:06:18.190 --> 00:06:20.140\nOnly there's a little problem.\n\n120\n00:06:20.140 --> 00:06:23.100\nBy default, it grabs the whole network.\n\n121\n00:06:23.100 --> 00:06:28.930\nSo I just created a pool that encompasses\nthe entire 192.168.1.0 network.\n\n122\n00:06:28.930 --> 00:06:31.360\nThe whole thing is now wrapped up.\n\n123\n00:06:31.360 --> 00:06:35.930\nSo if I wanna give out addresses,\nI may want that right?\n\n124\n00:06:35.930 --> 00:06:40.520\nIf this were a really small network,\nlike a /30 that only has two IPs in it,\n\n125\n00:06:40.520 --> 00:06:41.850\nthere's only one IP to hand out,\n\n126\n00:06:41.850 --> 00:06:45.010\nI might wanna do it this way where\nthe whole thing is wrapped up.\n\n127\n00:06:45.010 --> 00:06:48.090\nBut the odds are, I'm using other IPs for\nother things here.\n\n128\n00:06:48.090 --> 00:06:50.710\nAnd so\nI'll probably wanna shrink the pool down,\n\n129\n00:06:50.710 --> 00:06:52.730\nand there is not an easy way to do that.\n\n130\n00:06:52.730 --> 00:06:54.520\nAnd in fact, you can't even do that,\nfrom inside of the pool,\n\n131\n00:06:54.520 --> 00:06:56.230\nyou have to do it from\noutside of the pool.\n\n132\n00:06:56.230 --> 00:06:59.990\nIf I get out of the pool we can\nadd what are called exclusions.\n\n133\n00:06:59.990 --> 00:07:03.570\nWe can exclude certain IP's from the pool.\n\n134\n00:07:03.570 --> 00:07:07.700\nSo let's say that I want my\npool to be 192.168.1.100,\n\n135\n00:07:07.700 --> 00:07:11.240\nall the way through to 192.168.1.150.\n\n136\n00:07:11.240 --> 00:07:13.290\n>> Right, so I'm gonna have 51 IP's.\n\n137\n00:07:13.290 --> 00:07:17.980\nIf I want to to that I need to\nexclude all the other IP's.\n\n138\n00:07:17.980 --> 00:07:23.025\nSo I'm going to say IP DHCP excluded\n\n139\n00:07:23.025 --> 00:07:30.380\ndash address, and then I'm gonna tell\nit the address that I want to exclude.\n\n140\n00:07:30.380 --> 00:07:30.990\nOkay?\n\n141\n00:07:30.990 --> 00:07:34.180\nAnd notice how, when I do the help,\nit's telling me I can put in an IP,\n\n142\n00:07:34.180 --> 00:07:37.190\nand it's telling me the low IP address.\n\n143\n00:07:38.190 --> 00:07:42.560\nIf I just put in one IP,\nthen I'm excluding just that one address.\n\n144\n00:07:42.560 --> 00:07:50.362\nSo if I say 192.168.1.100 I'm\nonly excluding 192.168.1.100,\n\n145\n00:07:50.362 --> 00:07:55.111\nbut I want to exclude 1 all\nthe way through 99, right?\n\n146\n00:07:55.111 --> 00:07:57.970\nSo I'm gonna start with 1 and\nif I do a question mark,\n\n147\n00:07:57.970 --> 00:08:01.868\nnow it says where I can put it on high\naddress, the other end of the range.\n\n148\n00:08:01.868 --> 00:08:05.757\nAnd so I'm going to punch in 192.168.1.99.\n\n149\n00:08:05.757 --> 00:08:08.810\nSo this is going to exclude 1 through 99.\n\n150\n00:08:08.810 --> 00:08:11.680\nAnd then I can do the same thing.\n\n151\n00:08:11.680 --> 00:08:13.984\nExcept I can go 151.\n\n152\n00:08:15.220 --> 00:08:17.110\nAll the way through 254, right?\n\n153\n00:08:19.170 --> 00:08:24.530\nAnd so now I've excluded one through\n99 and then the pool starts at 100.\n\n154\n00:08:24.530 --> 00:08:27.500\nThe pool runs to 150 and\nthen I've excluded 151 through 254.\n\n155\n00:08:27.500 --> 00:08:29.760\nI've shrunk the pool.\n\n156\n00:08:31.270 --> 00:08:35.250\nSo when I define the pool up here,\nyes it was the whole network.\n\n157\n00:08:35.250 --> 00:08:38.170\nIf I left it just like that, it wouldn't\nhave done the whole network but\n\n158\n00:08:38.170 --> 00:08:41.820\nnow I've used exclusion to\nshrink that down, all right.\n\n159\n00:08:41.820 --> 00:08:47.280\nAnd if you look in the config to see how\nthat looks, if I do a show running-config,\n\n160\n00:08:47.280 --> 00:08:49.960\nyou'll see the pool define\nseparately from the exclusions.\n\n161\n00:08:49.960 --> 00:08:54.950\nSee how the exclusions were one of\nthe first things that I saw right here.\n\n162\n00:08:54.950 --> 00:08:57.690\nAnd then I'm seeing\nthe pool right afterwards.\n\n163\n00:08:57.690 --> 00:09:00.100\nOkay, so\nthe exclusion are stored separately.\n\n164\n00:09:00.100 --> 00:09:03.060\nIt's kinda weird, I'm not exactly sure\nwhy they do that, there's probably\n\n165\n00:09:03.060 --> 00:09:07.670\nsome engineering reason for it but\nthe pool is right here and it's defined.\n\n166\n00:09:07.670 --> 00:09:10.120\nNow technically, technically I'm done.\n\n167\n00:09:10.120 --> 00:09:14.180\nI've now configured DHCP,\nI've got a pool, I'm a server.\n\n168\n00:09:15.190 --> 00:09:18.010\nAnd I'm gonna start\nlistening on my interfaces.\n\n169\n00:09:18.010 --> 00:09:22.420\nNow, I have an interface on\nthe 192.16.1.8.1 network.\n\n170\n00:09:22.420 --> 00:09:25.970\nAnd so I'm listening on that interface and\nif I see a DHCP request come in on that\n\n171\n00:09:25.970 --> 00:09:28.350\ninterface, I'll issue them\nan IP from this pool.\n\n172\n00:09:29.680 --> 00:09:32.270\nIf I hear a request come in\non a different interface,\n\n173\n00:09:32.270 --> 00:09:33.600\nI'll got more interfaces, right?\n\n174\n00:09:33.600 --> 00:09:38.300\nIf I do a show IP interface brief,\nI've got 192.168.0.1\n\n175\n00:09:38.300 --> 00:09:42.755\nif I get a request on that\ninterface I don't have a pool for\n\n176\n00:09:42.755 --> 00:09:45.890\n192.168.0 so I'll ignore it,\nand that'll be the end of it.\n\n177\n00:09:45.890 --> 00:09:51.050\nSo I'm only running it here on this\ninterface, GI1/0 for those other routers.\n\n178\n00:09:51.050 --> 00:09:55.240\nAnd as for right now this moment they\ncould connect and get their address, but\n\n179\n00:09:55.240 --> 00:09:57.160\nthat's all I'm going to give them.\n\n180\n00:09:57.160 --> 00:10:00.730\nI'm going to give them an IP address and\nI'm gonna give them a subnet.\n\n181\n00:10:00.730 --> 00:10:03.240\nThat's the two pieces of information\nthat I've got, and I'll give it to them,\n\n182\n00:10:03.240 --> 00:10:04.980\nand they come up and running.\n\n183\n00:10:04.980 --> 00:10:06.980\nFor a router, that's probably enough.\n\n184\n00:10:06.980 --> 00:10:09.780\nIf it's just a router on the other end,\nthat's probably all we need.\n\n185\n00:10:09.780 --> 00:10:10.430\nWe're done.\n\n186\n00:10:10.430 --> 00:10:11.420\nWe're now a dhcp server.\n\n187\n00:10:12.440 --> 00:10:15.780\nBut if it's a work station or a server or\n\n188\n00:10:15.780 --> 00:10:19.590\nsomething like that, there's usually some\nmore information we want to hand out.\n\n189\n00:10:19.590 --> 00:10:23.340\nWe typically want to give them\na DNS server to use, right?\n\n190\n00:10:23.340 --> 00:10:25.300\nWho are you gonna use for name lookups?\n\n191\n00:10:25.300 --> 00:10:28.380\nWe also want to give\nthem a default gateway.\n\n192\n00:10:28.380 --> 00:10:30.240\nHey if you need to get to a route\nthat's not on your routing table,\n\n193\n00:10:30.240 --> 00:10:31.160\nwho do you go to?\n\n194\n00:10:31.160 --> 00:10:31.980\nDefault gateway.\n\n195\n00:10:31.980 --> 00:10:33.640\nSo if I'm setting this up for\n\n196\n00:10:33.640 --> 00:10:36.870\na branch office,\nI wanna configure those other options.\n\n197\n00:10:36.870 --> 00:10:38.770\nAnd there's a lot of different\noptions that we can use.\n\n198\n00:10:38.770 --> 00:10:40.780\nSo I'm gonna jump back\ninto my configuration.\n\n199\n00:10:40.780 --> 00:10:44.160\nAnd I'm gonna get back into my pool.\n\n200\n00:10:44.160 --> 00:10:48.710\nSo, I'm gonna say ip dhcp pool, and here's\nwhere that case sensitivity comes in.\n\n201\n00:10:48.710 --> 00:10:51.230\nI've gotta remember exactly\nhow I typed it last time.\n\n202\n00:10:51.230 --> 00:10:54.020\nI've got in the habit of just using all\nlowercase so I don't have to worry about.\n\n203\n00:10:54.020 --> 00:10:58.330\nBut you might have used upper case,\nin which case you'd need to remember them.\n\n204\n00:10:58.330 --> 00:11:02.110\nOnce I'm in the pool,\nnow I can start to define my options.\n\n205\n00:11:02.110 --> 00:11:05.610\nAnd if you do a question mark, you'll\nsee there's a ton of options in here.\n\n206\n00:11:05.610 --> 00:11:09.934\nAnd the ones we really care are ones\nlike DNS server, default-router,\n\n207\n00:11:09.934 --> 00:11:13.985\ndomain-name those are ones we normally\nhand out, but you'll see there's other\n\n208\n00:11:13.985 --> 00:11:17.795\nthings in here like a lease time how long\nis the address gonna be valid for you can\n\n209\n00:11:17.795 --> 00:11:23.555\ndefine network numbers, you can define\nother options the raw dhcp options there's\n\n210\n00:11:23.555 --> 00:11:27.955\nall sort of things that you can configure\nin here based on what you want all right.\n\n211\n00:11:27.955 --> 00:11:31.490\nBut at a minimum we're normally\ngonna do a default-router, right?\n\n212\n00:11:31.490 --> 00:11:35.545\nSo I'll say the default router for\nthis network is gonna be me.\n\n213\n00:11:35.545 --> 00:11:36.190\n192.168.1.1.\nYou put in\n\n214\n00:11:36.190 --> 00:11:38.300\nwhoever your default gate link is.\n\n215\n00:11:38.300 --> 00:11:44.240\nThen I might say DNS server and give them\none or more IP addresses to use for DNS.\n\n216\n00:11:44.240 --> 00:11:47.890\nI'm just gonna give them\nGoogle's DNS server.\n\n217\n00:11:47.890 --> 00:11:49.590\nAnd I may or may not want to do this but\n\n218\n00:11:49.590 --> 00:11:52.970\nyou usually do a DNS suffix,\nright your search list.\n\n219\n00:11:52.970 --> 00:11:57.670\nAnd so for that you would say domain-name\nand whatever DNS domain name you're using.\n\n220\n00:11:57.670 --> 00:12:01.680\nWe're using lab.itpro.tv,\nand now I've got that.\n\n221\n00:12:01.680 --> 00:12:03.480\nThis is a little more like\nwhat a workstation or\n\n222\n00:12:03.480 --> 00:12:06.475\na server is going to want, because\nthey're gonna use all this information.\n\n223\n00:12:06.475 --> 00:12:10.155\nA router might not ever use this\ninformation, but a workstation or\n\n224\n00:12:10.155 --> 00:12:13.105\nserver will, and so\nit's important to have it.\n\n225\n00:12:13.105 --> 00:12:16.025\nAnd if I take a look at\nthe configuration now,\n\n226\n00:12:17.125 --> 00:12:21.585\nwhat we're gonna see is that pool has a\nlittle more to it, and now it's got those\n\n227\n00:12:21.585 --> 00:12:26.665\noptions stored alongside the network, and\nnow we're a little more full featured.\n\n228\n00:12:26.665 --> 00:12:28.460\nWe're able to do a lot more.\n\n229\n00:12:28.460 --> 00:12:31.910\nSo Don if what you were talking about\nearlier with the two different interfaces\n\n230\n00:12:31.910 --> 00:12:35.430\ncan I set up another DHCP pool for\nthat other interface and\n\n231\n00:12:35.430 --> 00:12:36.680\nit runs at the same time?\n\n232\n00:12:36.680 --> 00:12:39.560\n>> Yeah, and\nin fact you have to create a second pool.\n\n233\n00:12:39.560 --> 00:12:44.420\nI created one called itvpro lab well maybe\nI've got a marketing team that's plugged\n\n234\n00:12:44.420 --> 00:12:45.180\ninto a different port.\n\n235\n00:12:45.180 --> 00:12:48.700\nAnd so I would create a marketing\nteam pool and they would have an IP\n\n236\n00:12:48.700 --> 00:12:52.710\npool of addresses that corresponded\nto the IP of that interface.\n\n237\n00:12:52.710 --> 00:12:54.300\nSo each one, it just matches up IPs.\n\n238\n00:12:54.300 --> 00:12:55.365\nThat's how it knows which.\n\n239\n00:12:55.365 --> 00:12:57.665\nWhich pool goes to which interface.\n\n240\n00:12:57.665 --> 00:13:01.695\nDACPV 6 is a little bit different,\nwith DACPV 6 you create a pool,\n\n241\n00:13:01.695 --> 00:13:03.815\nand you have to attach\nthe pool to an interface.\n\n242\n00:13:03.815 --> 00:13:07.955\nNow that the exam objectives\nCCENT don't include that,\n\n243\n00:13:07.955 --> 00:13:12.315\nand even in real life DHCP is not\nreally necessary for IPV 6 so\n\n244\n00:13:12.315 --> 00:13:15.455\nmost people don't use it, but\nI'll put in the show notes an example of\n\n245\n00:13:15.455 --> 00:13:18.710\na DACPV 6 configuration you\ndon't need to know for the exam.\n\n246\n00:13:18.710 --> 00:13:19.740\nI'm just putting there for your benefit.\n\n247\n00:13:19.740 --> 00:13:22.830\nIf you're curious to see how to do it for\nIPv6, it'll be in the show notes.\n\n248\n00:13:22.830 --> 00:13:29.100\nAll right, let's talk a little bit\nabout those raw options, right?\n\n249\n00:13:29.100 --> 00:13:30.880\nIn DHCP, you have options.\n\n250\n00:13:30.880 --> 00:13:33.120\nAnd every option has\na number assigned to it.\n\n251\n00:13:33.120 --> 00:13:36.410\nSo when we talk about default router,\nDNS server,\n\n252\n00:13:36.410 --> 00:13:38.460\ndomain name They have\na number assigned to them.\n\n253\n00:13:38.460 --> 00:13:39.350\nI can't remember the numbers.\n\n254\n00:13:39.350 --> 00:13:42.500\nIt will be like number one,\nor 53, or whatever, and\n\n255\n00:13:42.500 --> 00:13:43.960\nthose numbers correspond to the option.\n\n256\n00:13:43.960 --> 00:13:45.770\nThey're well known options.\n\n257\n00:13:45.770 --> 00:13:49.150\nBut there's other options\nthat are not commonly used,\n\n258\n00:13:49.150 --> 00:13:51.710\nthey're less frequently used,\nbut they're still important.\n\n259\n00:13:51.710 --> 00:13:54.020\nAnd so, if we wanna define those\nwe actually have to use the option\n\n260\n00:13:54.020 --> 00:13:55.210\ncommand for it.\n\n261\n00:13:55.210 --> 00:14:00.710\nAnd if you run option ?, you'll see that\nyou can put in the DHCP option code.\n\n262\n00:14:00.710 --> 00:14:03.680\nThe number that corresponds to the option.\n\n263\n00:14:03.680 --> 00:14:08.420\nSo if you have a special option that\nyou want to put in there, you can.\n\n264\n00:14:08.420 --> 00:14:12.120\nA great example, if you remember way\nback to one of our first episodes,\n\n265\n00:14:12.120 --> 00:14:16.240\nwhen we did the initial configuration of\na router or switch, the router switch had\n\n266\n00:14:16.240 --> 00:14:21.260\nbooted up and it was trying to get\na configuration from the network, right?\n\n267\n00:14:21.260 --> 00:14:23.480\nIt booted up with no configuration,\nand so it went looking for\n\n268\n00:14:23.480 --> 00:14:26.250\na TFTP server out there to\nautomatically configure it.\n\n269\n00:14:26.250 --> 00:14:26.920\nAll right.\n\n270\n00:14:26.920 --> 00:14:30.240\nWell how's it gonna find a TFTP server?\n\n271\n00:14:30.240 --> 00:14:32.820\nWe use a DHCP option to tell it.\n\n272\n00:14:32.820 --> 00:14:37.830\nSo it boots up, uses DHCP to get\nan address, and DHCP can tell it\n\n273\n00:14:37.830 --> 00:14:42.670\na server to go to and a file to get to\ndownload and find that auto configuration.\n\n274\n00:14:42.670 --> 00:14:46.530\nAnd we can do that with these\noptions to really customize things.\n\n275\n00:14:46.530 --> 00:14:50.790\nNow, if I want to go that route,\nif I want to have a network configuration\n\n276\n00:14:50.790 --> 00:14:53.660\nI probably wanna be really\nreally specific with it.\n\n277\n00:14:53.660 --> 00:14:59.020\nAnd so, you can create pools just for\na single particular host, right?\n\n278\n00:14:59.020 --> 00:15:02.060\nSo for example,\nthe way I'm configured right now,\n\n279\n00:15:02.060 --> 00:15:04.475\nif I were to take one of my other routers,\nlet's say router 2.\n\n280\n00:15:04.475 --> 00:15:08.325\nI want router 2 to connect up and\njust grab an IP address from the pool.\n\n281\n00:15:08.325 --> 00:15:10.895\nSo I can configure it as a client and\nit'll do it.\n\n282\n00:15:10.895 --> 00:15:12.085\nWell let's do that.\n\n283\n00:15:12.085 --> 00:15:13.555\nWe've seen the server side.\n\n284\n00:15:13.555 --> 00:15:16.145\nI said our servers up and\nrunning but is it?\n\n285\n00:15:16.145 --> 00:15:17.105\nLet's find out, right?\n\n286\n00:15:17.105 --> 00:15:19.365\nSo I'm gonna take router 2 and\n\n287\n00:15:19.365 --> 00:15:23.220\non router 2 right now it's got\na static IP address, right?\n\n288\n00:15:23.220 --> 00:15:29.790\nSo if I do a enable and\na show IP interface brief.\n\n289\n00:15:29.790 --> 00:15:35.170\nI'll see that it's GI1/0 right here,\nif you look at it, it's got an IP address.\n\n290\n00:15:35.170 --> 00:15:38.020\nAnd see the method how\nthe method says NVRAM?\n\n291\n00:15:38.020 --> 00:15:39.744\nThat means it was in the startup config,\n\n292\n00:15:39.744 --> 00:15:42.698\nwhen this router booted up that IP\naddress was in the configuration.\n\n293\n00:15:42.698 --> 00:15:48.385\nIt's a static IP,\nwell I'm gonna go into configuration and\n\n294\n00:15:48.385 --> 00:15:54.529\ngo into interface gi1/0, and\nI'm gonna say IP address DCHP.\n\n295\n00:15:54.529 --> 00:15:57.479\nSo instead of manually assigning the IP,\n\n296\n00:15:57.479 --> 00:16:01.030\nnow I'm gonna tell it exactly what I want,\nokay.\n\n297\n00:16:01.030 --> 00:16:02.563\nTo get it from DHCP.\n\n298\n00:16:02.563 --> 00:16:09.884\nAnd if I do a show startup-config for\nint gi1/0.\n\n299\n00:16:09.884 --> 00:16:11.000\nDoes not that work for startup-config?\n\n300\n00:16:11.000 --> 00:16:12.020\nI guess it doesn't.\n\n301\n00:16:12.020 --> 00:16:14.982\nSo if I just do a show a start-up config,\nright?\n\n302\n00:16:14.982 --> 00:16:19.826\nAnd I find gi1/0, see how the IP address\nis statically assigned right there, right?\n\n303\n00:16:20.890 --> 00:16:25.561\nBut if I do a show running config and\nI look at gi1/0,\n\n304\n00:16:25.561 --> 00:16:28.312\nif I type it right, there we go.\n\n305\n00:16:28.312 --> 00:16:31.120\nNow it doesn't have a static\nIP anymore except for DHCP.\n\n306\n00:16:31.120 --> 00:16:34.360\nAnd if I do a show ip interface brief,\n\n307\n00:16:34.360 --> 00:16:39.233\nI can see that it got an address\n192.168.1.100, right?\n\n308\n00:16:39.233 --> 00:16:44.630\nThe first IP in the pool that wasn't\nexcluded, and the source is DHCP.\n\n309\n00:16:45.640 --> 00:16:49.820\nI didn't have to give the router an IP\naddress, it got it on its own, right?\n\n310\n00:16:49.820 --> 00:16:51.210\nAnd it got other stuff too.\n\n311\n00:16:51.210 --> 00:16:55.110\nIt got a domain name to use and\na DNS server to use and\n\n312\n00:16:55.110 --> 00:16:56.360\nall of those other things.\n\n313\n00:16:56.360 --> 00:16:58.539\nSo if I were to try and\ndo a name lookup right right now,\n\n314\n00:16:58.539 --> 00:17:00.047\nI've got a DNS server that I can use.\n\n315\n00:17:00.047 --> 00:17:02.534\nAnd I've got a default gateway to use and\nso\n\n316\n00:17:02.534 --> 00:17:05.030\nthat information was garnered from DHCP.\n\n317\n00:17:05.030 --> 00:17:08.542\nAnd if I do a show IP route and\nI look up my routing table, see how I have\n\n318\n00:17:08.542 --> 00:17:13.940\na gateway of last resort to 192.168.1.1\nand it showing is static, right?\n\n319\n00:17:13.940 --> 00:17:16.020\nBut look at the administrative\ndistance on that,\n\n320\n00:17:16.020 --> 00:17:18.655\na static route normally has\nan administrative distance of 1.\n\n321\n00:17:18.655 --> 00:17:20.906\nThis has an admin distance of 254.\n\n322\n00:17:20.906 --> 00:17:21.580\nWhat does that mean?\n\n323\n00:17:21.580 --> 00:17:24.400\nIt means we learned it from DHCP.\n\n324\n00:17:24.400 --> 00:17:25.790\nAnything else can overwrite it.\n\n325\n00:17:25.790 --> 00:17:29.610\nAny other routing protocol or static\ndirectly connected can overwrite but\n\n326\n00:17:29.610 --> 00:17:32.170\nI got it from DHCP,\nI'm putting it my routing table.\n\n327\n00:17:32.170 --> 00:17:33.810\nNow I've got a default gateway, all right.\n\n328\n00:17:33.810 --> 00:17:37.940\nSo, all that's happening, and\nthis router is configured and ready to go.\n\n329\n00:17:37.940 --> 00:17:40.999\nIt should be able to ping 192.168.1.101.\n\n330\n00:17:40.999 --> 00:17:43.510\nCan talk across that network and\nit worked great.\n\n331\n00:17:43.510 --> 00:17:48.530\nSo, basic DHCP options working just fine,\nokay?\n\n332\n00:17:48.530 --> 00:17:50.220\nLet's go a little more advanced.\n\n333\n00:17:50.220 --> 00:17:53.860\nLet's say that router three,\nthis guy down here, router three,\n\n334\n00:17:53.860 --> 00:17:55.300\nit's a brand new router.\n\n335\n00:17:55.300 --> 00:17:57.690\nI'm going to take it out on the box and\npower it on.\n\n336\n00:17:57.690 --> 00:18:00.960\nI want it to download a configuration\nfile I've already written.\n\n337\n00:18:00.960 --> 00:18:03.080\nSo maybe when we ordered the router,\nCisco said,\n\n338\n00:18:03.080 --> 00:18:05.040\nokay you'll get the router in three days.\n\n339\n00:18:05.040 --> 00:18:08.500\nSo during those three days I sent\ndown a rote, the configuration out,\n\n340\n00:18:08.500 --> 00:18:12.310\nexactly as I wanted it for that router,\nand I stuck it on a TFTP server.\n\n341\n00:18:12.310 --> 00:18:15.960\nAnd I want it so that when somebody brings\nthat router and plugs it in and turns it\n\n342\n00:18:15.960 --> 00:18:19.980\non, it's just gonna go and download\nit's config and be ready to rock, right.\n\n343\n00:18:19.980 --> 00:18:23.040\nIn order to do that I just\nneed one piece of information.\n\n344\n00:18:23.040 --> 00:18:24.800\nI need the MAC address to that router.\n\n345\n00:18:24.800 --> 00:18:30.010\nI need to know the media access control\naddress, the hardware ID for that router.\n\n346\n00:18:30.010 --> 00:18:32.390\nAnd when you order a router from Cisco,\nif you're a big company,\n\n347\n00:18:32.390 --> 00:18:34.520\nyou order tons of them,\nthey'll send you the MAC addresses.\n\n348\n00:18:34.520 --> 00:18:37.290\nBut if not, as soon as you get the MAC\naddress is written on the outside of\n\n349\n00:18:37.290 --> 00:18:39.770\nthe box and so you can get it and\nplug it into your server.\n\n350\n00:18:39.770 --> 00:18:45.090\nBut I can tell DHCP to look for\nthat hardware address.\n\n351\n00:18:45.090 --> 00:18:48.770\nAnd give it particular settings\nto send it to one place.\n\n352\n00:18:48.770 --> 00:18:49.610\nIf I don't know the hardware address,\n\n353\n00:18:49.610 --> 00:18:53.240\nI can go generic and I can say,\nhere's a generic config that I've written\n\n354\n00:18:53.240 --> 00:18:55.530\nthat maybe doesn't include\nthings like IP addresses.\n\n355\n00:18:55.530 --> 00:18:59.420\nBut it has things like the domain name or\nall those other convenience commands,\n\n356\n00:18:59.420 --> 00:19:02.010\nlike logging synchronous and stuff that\nare kind of a default that I use so\n\n357\n00:19:02.010 --> 00:19:02.980\nit can bring that in.\n\n358\n00:19:02.980 --> 00:19:04.270\nYou can kind of go that way and\ngo generic.\n\n359\n00:19:04.270 --> 00:19:08.060\nSo it's up to you if you want to go really\nspecific or if you want to go generic.\n\n360\n00:19:08.060 --> 00:19:10.853\nSo let me show you how it'd\nwork if we went specific.\n\n361\n00:19:10.853 --> 00:19:14.810\nI'm gonna go to Router 1,\nRouter 1 is my DHCP server, okay?\n\n362\n00:19:14.810 --> 00:19:20.030\nAnd I'm gonna set up a really\nspecific scope just for\n\n363\n00:19:20.030 --> 00:19:22.980\nRouter three, so that we can\nuse Router three's auto config.\n\n364\n00:19:22.980 --> 00:19:25.024\nBefore I can do that I need\nRouter three's MAC address.\n\n365\n00:19:25.024 --> 00:19:28.687\nSo I'm gonna ping 192.168.1.3.\n\n366\n00:19:28.687 --> 00:19:29.950\nIts got a static IP so I can do that.\n\n367\n00:19:29.950 --> 00:19:34.590\nAnd when I do show arp I'll see\nRouter three's mac address right here\n\n368\n00:19:34.590 --> 00:19:35.970\nin my arp table.\n\n369\n00:19:35.970 --> 00:19:39.200\nSo am just gonna copy that so\nthat I've got it.\n\n370\n00:19:39.200 --> 00:19:42.110\nSo now I've got Router\nthree's MAC address.\n\n371\n00:19:42.110 --> 00:19:46.720\nAnd I can jump into my configuration and\nI'm gonna create a pool just for\n\n372\n00:19:46.720 --> 00:19:48.420\nRouter three, okay?\n\n373\n00:19:48.420 --> 00:19:55.930\nSo I'm gonna say IP DHCP pool, and I'll\nsay that it's the r3-autoconfig, right?\n\n374\n00:19:55.930 --> 00:19:59.538\nJust a name I'm making up out of my head,\nnot that you have to follow that naming\n\n375\n00:19:59.538 --> 00:20:02.175\nconvention, but\nthat's the pool that I'm gonna make.\n\n376\n00:20:02.175 --> 00:20:09.785\nAnd when I define that pool, I want it\nto have one single IP address in it.\n\n377\n00:20:09.785 --> 00:20:14.550\nSo I'm gonna say host 192.168.\n\n378\n00:20:14.550 --> 00:20:16.401\nWhat do I want it to be?\n\n379\n00:20:16.401 --> 00:20:21.056\nI'll say 1.200 and\nthen the subnet mask, okay?\n\n380\n00:20:21.056 --> 00:20:23.980\nNow, before I defined a range.\n\n381\n00:20:23.980 --> 00:20:26.770\nI said network, and\nI specified the network and subnet mask.\n\n382\n00:20:26.770 --> 00:20:27.901\nNow I'm just saying host.\n\n383\n00:20:27.901 --> 00:20:30.650\nOkay, one particular host.\n\n384\n00:20:31.930 --> 00:20:33.980\nI have an exclusion that\nincludes this though, so\n\n385\n00:20:33.980 --> 00:20:36.560\nI'm gonna have to take that\nout of the exclusion, right?\n\n386\n00:20:36.560 --> 00:20:39.311\nWell I guess could have just picked,\nlet me change that.\n\n387\n00:20:39.311 --> 00:20:43.980\nI'll pick an IP that's in the pool that's\nallowed already, so I'll do like 149.\n\n388\n00:20:43.980 --> 00:20:45.688\nSo now it's got 149.\n\n389\n00:20:45.688 --> 00:20:49.260\nAnd then,\nhow do I know who is gonna match this?\n\n390\n00:20:49.260 --> 00:20:51.780\nBecause now I've got two pools\nthat are in the same IP range.\n\n391\n00:20:51.780 --> 00:20:55.690\nSo what I'm gonna do is I'm\ngonna say hardware-address and\n\n392\n00:20:55.690 --> 00:20:57.570\nI'm gonna paste in that MAC address.\n\n393\n00:20:57.570 --> 00:21:02.040\nSo now if somebody boots up and\nthis is their MAC address,\n\n394\n00:21:02.040 --> 00:21:06.030\nthey'll get their configuration from\nthis pool, not from the other pool.\n\n395\n00:21:06.030 --> 00:21:08.140\nIf I don't know the MAC address or\nif it's somebody I've never seen before,\n\n396\n00:21:08.140 --> 00:21:09.210\nthey'll go to the other pool.\n\n397\n00:21:09.210 --> 00:21:11.420\nThat's how we separate that out, and\n\n398\n00:21:11.420 --> 00:21:15.510\nfrom here, now I can do things like\ntell it a bootfile to look for.\n\n399\n00:21:15.510 --> 00:21:21.220\nSo the bootfile, I want it to look for\na file called r3-config.txt.\n\n400\n00:21:21.220 --> 00:21:24.730\nWhatever I gave it that file name for\non my TFTP server.\n\n401\n00:21:24.730 --> 00:21:27.240\nSo now it'll know exactly\nwhat file to look for.\n\n402\n00:21:27.240 --> 00:21:28.980\nAnd then I need to tell\nit where to get it.\n\n403\n00:21:28.980 --> 00:21:30.703\nAnd there's two way to do that.\n\n404\n00:21:30.703 --> 00:21:32.680\nThere's #option 66.\n\n405\n00:21:32.680 --> 00:21:36.462\nWhere I can tell it a server name, right?\n\n406\n00:21:36.462 --> 00:21:40.350\nSo I can tell it, hey option 66\npoints you to ftp.itpro.tv, right?\n\n407\n00:21:40.350 --> 00:21:44.200\nThere you go, and\nthat's where you can get it or TFTP or\n\n408\n00:21:44.200 --> 00:21:46.570\nwhatever that server name is.\n\n409\n00:21:46.570 --> 00:21:48.571\nBut I don't have DNS\nservers assigned here.\n\n410\n00:21:48.571 --> 00:21:50.663\nSo I probably want to use\nan IP address instead.\n\n411\n00:21:50.663 --> 00:21:54.870\nInstead of option 66,\nyou can use option 150.\n\n412\n00:21:54.870 --> 00:21:58.940\nAnd option 150 lets you do\nan IP address instead, okay?\n\n413\n00:21:58.940 --> 00:22:01.380\nAnd when you do the IP address,\nyou just come in here and\n\n414\n00:22:01.380 --> 00:22:02.970\nyou tell it what you want.\n\n415\n00:22:02.970 --> 00:22:04.780\nNow option 150 is kind of a weird one.\n\n416\n00:22:04.780 --> 00:22:06.760\nCuz you have to tell it that\nyou're giving it an IP.\n\n417\n00:22:06.760 --> 00:22:09.630\nSo I'll say option 150 IP and then\n\n418\n00:22:09.630 --> 00:22:13.800\nthe IP address of that server whatever\nit happens to be, maybe it's .200, okay?\n\n419\n00:22:13.800 --> 00:22:19.280\nSo now it'll know an IP address to\nlook at and a file name to get.\n\n420\n00:22:19.280 --> 00:22:22.520\nSo when that node boots up\nit'll get this address and\n\n421\n00:22:22.520 --> 00:22:24.880\nit'll know where to look\nto find that configuration.\n\n422\n00:22:24.880 --> 00:22:27.670\nIf we take a look at how that\nis in the running config,\n\n423\n00:22:29.110 --> 00:22:31.030\nwe'll see it all kind of brought together.\n\n424\n00:22:31.030 --> 00:22:35.890\nSo here it is,\nif a host boots up with this MAC address,\n\n425\n00:22:35.890 --> 00:22:39.020\nthey will get this IP, this one IP, right?\n\n426\n00:22:39.020 --> 00:22:41.091\nSo it's like a DSP reservation.\n\n427\n00:22:41.091 --> 00:22:43.865\nAnd then they'll know to\nlook to this server, and\n\n428\n00:22:43.865 --> 00:22:46.130\nget this file to auto config, right?\n\n429\n00:22:46.130 --> 00:22:48.390\nAnd that's the secret sauce\nof auto configuration.\n\n430\n00:22:48.390 --> 00:22:50.968\nNow, on the exam they don't want you\nto memorize these option numbers,\n\n431\n00:22:50.968 --> 00:22:53.181\nthey don't want you to memorize\nhow to set up for auto config.\n\n432\n00:22:53.181 --> 00:22:56.955\nWhat they want you to know is that we have\nthese options and that they are available\n\n433\n00:22:56.955 --> 00:23:00.890\nand that you can do all sorts of\namazing things with these options.\n\n434\n00:23:00.890 --> 00:23:02.758\nMicrosoft uses them for, what was it?\n\n435\n00:23:02.758 --> 00:23:05.005\nNetwork access control, NAC?\n\n436\n00:23:05.005 --> 00:23:07.465\nWhere you can keep people on\nthe network or off the network.\n\n437\n00:23:07.465 --> 00:23:10.575\nVoid phones use them to get\nauto-configuration updates.\n\n438\n00:23:10.575 --> 00:23:13.745\nThey'll update their operating\nsystem using these DHCP options.\n\n439\n00:23:13.745 --> 00:23:15.926\nAll sorts of crazy things\nyou can do with this, right?\n\n440\n00:23:15.926 --> 00:23:17.995\nSo I just wanted to show you\nguys an example of that,\n\n441\n00:23:17.995 --> 00:23:19.765\nusing one of those raw option numbers.\n\n442\n00:23:19.765 --> 00:23:20.913\nThey're there for a reason.\n\n443\n00:23:20.913 --> 00:23:25.023\nBecause there's just a ton of options that\ndon't necessarily have a friendly name cuz\n\n444\n00:23:25.023 --> 00:23:26.270\nnot everybody uses them.\n\n445\n00:23:26.270 --> 00:23:29.420\nBut now, we're up and\nrunning as the DHCP server, and\n\n446\n00:23:29.420 --> 00:23:34.100\nwe got a really broad pool, but\nwe've also got a very specific pool.\n\n447\n00:23:34.100 --> 00:23:37.990\nAnd if I go to Router three and configure\nit, as long as I didn't mess up that\n\n448\n00:23:37.990 --> 00:23:42.205\nMac address, I should be able\nto jump into configuration,\n\n449\n00:23:42.205 --> 00:23:47.080\njump in to interface g1/0 and\nsay IP address DHCP.\n\n450\n00:23:48.340 --> 00:23:53.645\nIt should grab an IP address and\nit should be 149, unless I screwed it up.\n\n451\n00:23:53.645 --> 00:23:56.952\nAnd if I do a show IP interface brief,\n\n452\n00:23:56.952 --> 00:24:02.736\nI can see that it doesn't have\nanything yet It's negotiating.\n\n453\n00:24:02.736 --> 00:24:04.280\nAnd there we go, it's negotiating.\n\n454\n00:24:04.280 --> 00:24:09.794\nAnd so it just got an IP address, and\nI must have messed up the Mac address.\n\n455\n00:24:09.794 --> 00:24:13.060\nSee how it got 192.168.1.101.\n\n456\n00:24:13.060 --> 00:24:14.580\nRIght?\nThat's from my general pool.\n\n457\n00:24:14.580 --> 00:24:17.390\nIt didn't get the specific one, so\nI might have done the wrong Mac address.\n\n458\n00:24:17.390 --> 00:24:19.880\nWhat I should have done,\ninstead of manipulating the ARP cache,\n\n459\n00:24:19.880 --> 00:24:23.610\nwas just to have gone to router three and\ndone a show interface, gi1/0.\n\n460\n00:24:23.610 --> 00:24:29.655\nAnd then we can get the hardware\naddress right out of here.\n\n461\n00:24:29.655 --> 00:24:32.570\nDoes that look different or\nis that the same?\n\n462\n00:24:32.570 --> 00:24:33.515\n>> It looks the same to me.\n\n463\n00:24:33.515 --> 00:24:34.400\n[LAUGH]\n>> Is it?\n\n464\n00:24:34.400 --> 00:24:35.480\n>> But I'm not sure.\n\n465\n00:24:35.480 --> 00:24:36.290\n>> All right.\nWell, so\n\n466\n00:24:36.290 --> 00:24:38.650\nwe can get it right here from the router\nitself instead of learning it and\n\n467\n00:24:38.650 --> 00:24:39.540\nthrowing it in there.\n\n468\n00:24:39.540 --> 00:24:42.640\nBut then it's gonna come up and\nget an address right from that pool and\n\n469\n00:24:42.640 --> 00:24:43.150\nrun from there.\n\n470\n00:24:43.150 --> 00:24:46.230\nSo neat stuff that you can do\nto get these things set up and\n\n471\n00:24:46.230 --> 00:24:48.190\nget it tied in place and up with dhcp.\n\n472\n00:24:48.190 --> 00:24:50.490\nNow, troubleshooting.\n\n473\n00:24:50.490 --> 00:24:53.730\nIf I wanna troubleshoot and\nfind out what's going on with dhcp,\n\n474\n00:24:53.730 --> 00:24:57.280\nthere's a couple of neat commands that\nwe can use to watch this whole process.\n\n475\n00:24:57.280 --> 00:24:57.780\nRight?\n\n476\n00:24:58.840 --> 00:25:01.790\nWhen I did this dhcp\nnegotiation to get the address,\n\n477\n00:25:01.790 --> 00:25:03.995\nthe only real message I saw\nwas this one right here.\n\n478\n00:25:03.995 --> 00:25:05.740\nDHCP-6-ADDRESS_ASSIGN.\n\n479\n00:25:05.740 --> 00:25:08.510\nSo I saw that I got an address.\n\n480\n00:25:08.510 --> 00:25:09.670\nWhat if I didn't get an address?\n\n481\n00:25:09.670 --> 00:25:11.340\nI didn't get an address at all?\n\n482\n00:25:11.340 --> 00:25:15.130\nWell there's a debug command we can use\nto see the DHCP process going on in\n\n483\n00:25:15.130 --> 00:25:16.400\nthe background.\n\n484\n00:25:16.400 --> 00:25:19.680\nSo for example,\nif I go into interface g1/0,\n\n485\n00:25:19.680 --> 00:25:24.390\nI'm going to shut it down, all right,\nso I'm turning that interface off.\n\n486\n00:25:24.390 --> 00:25:25.985\nDid I just lock myself out of the router?\n\n487\n00:25:25.985 --> 00:25:27.750\n>> [LAUGH]\n>> I don't think.\n\n488\n00:25:27.750 --> 00:25:29.460\nAll right, so there we go.\n\n489\n00:25:29.460 --> 00:25:31.890\nSo I just shut down that interface down.\n\n490\n00:25:31.890 --> 00:25:37.180\nAnd then, what I'm gonna do is,\nI'm gonna say debug ip dhcp.\n\n491\n00:25:38.200 --> 00:25:39.680\nSorry.\nIt's debug dhcp, isn't it?\n\n492\n00:25:40.720 --> 00:25:41.416\nThere we go.\n\n493\n00:25:41.416 --> 00:25:43.020\n>> Ip dhcp.\n\n494\n00:25:43.020 --> 00:25:45.960\nSo debug ip dhcp is when we\nare debugging the server.\n\n495\n00:25:45.960 --> 00:25:47.920\n>> Right.\n>> Debug dhcp is the client.\n\n496\n00:25:47.920 --> 00:25:49.010\nYeah, it's easy to mix them up.\n\n497\n00:25:49.010 --> 00:25:50.310\nSo debug dhcp.\n\n498\n00:25:50.310 --> 00:25:54.820\nAnd see how it says dhcp client\nactivity debugging as being on?\n\n499\n00:25:54.820 --> 00:25:55.930\nThe other one is for the server.\n\n500\n00:25:55.930 --> 00:26:01.165\nIf I say, debug ip dhcp, you can do\nthe server side and monitor that.\n\n501\n00:26:01.165 --> 00:26:04.365\nAnd so\nwe can start to see that dhcp activity,\n\n502\n00:26:04.365 --> 00:26:07.425\nlike there's me giving up the address I\nhad because the interface was shut down.\n\n503\n00:26:08.495 --> 00:26:10.650\nAnd I can go over to router one, and\n\n504\n00:26:10.650 --> 00:26:16.550\non router one,\nI can say debug ip dhcp server.\n\n505\n00:26:16.550 --> 00:26:18.540\nApparently I have to go a little\nbit further than that, and\n\n506\n00:26:18.540 --> 00:26:20.060\nI can specify what it\nis that I'm watching.\n\n507\n00:26:20.060 --> 00:26:21.530\nAnd I'm gonna do packet,\nthat's the best one,\n\n508\n00:26:21.530 --> 00:26:24.530\nyou see all the packets that\nare going across as we set that up.\n\n509\n00:26:24.530 --> 00:26:28.840\nYou can do events which is a little\nmore clean, but I'm gonna do packet.\n\n510\n00:26:28.840 --> 00:26:33.280\nNow over on router three,\nI can turn that interface on.\n\n511\n00:26:33.280 --> 00:26:35.200\nAnd the neat part about this is,\n\n512\n00:26:35.200 --> 00:26:39.820\nbecause I'm debugging on both ends,\nif one end can't connect to the other,\n\n513\n00:26:39.820 --> 00:26:43.420\nI'll be able to quickly see, are the\nbroadcasts even making it to the server?\n\n514\n00:26:43.420 --> 00:26:45.360\nMaybe it's not even getting to\nthe server in the first place, so\n\n515\n00:26:45.360 --> 00:26:48.010\nnow it's not a server problem, it's some\nkind of network connectivity problem.\n\n516\n00:26:48.010 --> 00:26:50.640\nWe can start to isolate\nwhere that issue is.\n\n517\n00:26:50.640 --> 00:26:52.470\nSo the debugging becomes really friendly.\n\n518\n00:26:53.530 --> 00:26:57.406\nIf I do a no shutdown,\nI was wondering why that was not working.\n\n519\n00:26:57.406 --> 00:26:58.220\n[LAUGH] There we go.\n\n520\n00:26:58.220 --> 00:26:59.436\nSee all this output that I get?\n\n521\n00:26:59.436 --> 00:27:04.055\nIt's really neat cu what\nwe're seeing here is the DHCP\n\n522\n00:27:04.055 --> 00:27:08.975\nclient process started and\nthen we're going to send out our request.\n\n523\n00:27:08.975 --> 00:27:11.490\nRonnie, there's a pneumonic for\nthis, right?\n\n524\n00:27:11.490 --> 00:27:12.155\n>> DORA.\n\n525\n00:27:12.155 --> 00:27:15.285\nThe idea here is that there's\na 4-step process in DHCP.\n\n526\n00:27:15.285 --> 00:27:19.425\nOne, of course, is actually the beginning\nof discover, then there's an offer,\n\n527\n00:27:19.425 --> 00:27:21.135\na request and acknowledgement.\n\n528\n00:27:21.135 --> 00:27:23.525\nIt all begins with the client\nsending out that discover and\n\n529\n00:27:23.525 --> 00:27:25.560\nyou can see it right there in the debug.\n\n530\n00:27:25.560 --> 00:27:29.020\nThat second or third line, or\nwhatever, maybe fifth line, sorry.\n\n531\n00:27:29.020 --> 00:27:30.040\n>> Well you got a couple, right?\n\n532\n00:27:30.040 --> 00:27:32.300\nSo here you've got\nStarting DHCP discover right?\n\n533\n00:27:32.300 --> 00:27:34.900\nBut technically,\nthese are the actual discovers right here.\n\n534\n00:27:34.900 --> 00:27:36.500\nSo, it does the discover, right?\n\n535\n00:27:36.500 --> 00:27:37.763\nWe'll do the DORA thing.\n\n536\n00:27:37.763 --> 00:27:39.740\nSo that's discover, and\nthen there's an offer.\n\n537\n00:27:39.740 --> 00:27:43.140\nThe offer comes from the server,\nthe server offers us an address.\n\n538\n00:27:43.140 --> 00:27:46.860\nAnd so I can see that I'm receiving\nsome kind of information, right?\n\n539\n00:27:46.860 --> 00:27:48.320\nOffer received, there's the o.\n\n540\n00:27:48.320 --> 00:27:52.980\nAnd then if we like the offer, if we're\ngonna go with it,then there's the request.\n\n541\n00:27:52.980 --> 00:27:56.860\nWe tell the server that we like\nthat address and we want to use it.\n\n542\n00:27:56.860 --> 00:28:01.140\nAnd then we request it and\nthe server will acknowledge it to us and\n\n543\n00:28:01.140 --> 00:28:02.150\nallocate us the address.\n\n544\n00:28:02.150 --> 00:28:04.950\nAnd if I look down, I don't think it\nactually says acknowledge does it?\n\n545\n00:28:04.950 --> 00:28:08.320\nIt says allocated, yep, so\nit tells us that we got it.\n\n546\n00:28:08.320 --> 00:28:10.590\nSo there's our DORA.\n\n547\n00:28:10.590 --> 00:28:13.910\nIt's actually acknowledged, but\nin the debug, they just say allocated.\n\n548\n00:28:13.910 --> 00:28:16.140\nBut there it is where you get the address,\nso I can see the whole process.\n\n549\n00:28:16.140 --> 00:28:19.060\nSo if there's a breakdown anywhere\nalong the lines, I can spot it.\n\n550\n00:28:19.060 --> 00:28:23.180\nOr if I'm getting information\nfrom a rogue DHCP server,\n\n551\n00:28:23.180 --> 00:28:24.290\nI'll be able to spot that here too.\n\n552\n00:28:24.290 --> 00:28:27.520\nIf I have more than one DHCP server,\nI'll see all their traffic and\n\n553\n00:28:27.520 --> 00:28:29.830\nbe able to watch and\ncatch out what's going on.\n\n554\n00:28:29.830 --> 00:28:32.280\nI'm gonna turn that debug off.\n\n555\n00:28:32.280 --> 00:28:34.440\nIf I go to the server side,\n\n556\n00:28:34.440 --> 00:28:38.750\non the server side I can see the same\nthing, except on the server side it's\n\n557\n00:28:38.750 --> 00:28:41.690\na lot busier cuz it's getting DHCP\nrequests from all sorts of stuff.\n\n558\n00:28:41.690 --> 00:28:46.720\nBut I can look in here and\nsee that I received a discover.\n\n559\n00:28:46.720 --> 00:28:51.330\nAnd so then we sent out an offer,\nwhich will show up in here somewhere.\n\n560\n00:28:51.330 --> 00:28:53.770\nHere's the sending DHCP offer.\n\n561\n00:28:53.770 --> 00:28:56.320\nAnd then they sent us back a request.\n\n562\n00:28:56.320 --> 00:28:57.890\nThere's the request received.\n\n563\n00:28:57.890 --> 00:29:03.330\nAnd at the end of the day, we sent\nthe DHCP acknowledge, the ACK right there.\n\n564\n00:29:03.330 --> 00:29:05.328\nSo the full DORA we see it\nright there on the server.\n\n565\n00:29:05.328 --> 00:29:08.550\nSo if we're debugging it, we can spot\nexactly where that problem happens.\n\n566\n00:29:08.550 --> 00:29:11.290\nNow the debugs are great,\nthey show us a ton of information.\n\n567\n00:29:11.290 --> 00:29:14.270\nBut there's some other things\nthat we need to be aware of too.\n\n568\n00:29:14.270 --> 00:29:18.240\nFor example, my pool is 51 IPs in size.\n\n569\n00:29:18.240 --> 00:29:21.910\nSo what happens when I have\n52 computers on the network?\n\n570\n00:29:21.910 --> 00:29:25.432\nWell whoever number 52 is, they're out of\nluck, they're not going to get an address.\n\n571\n00:29:25.432 --> 00:29:28.103\nAnd so I may need to monitor\nthe utilization of my pool,\n\n572\n00:29:28.103 --> 00:29:29.218\nhow things are going.\n\n573\n00:29:29.218 --> 00:29:33.321\nAnd so we've got some commands outside\nof debugs, we don't have to use debugs.\n\n574\n00:29:33.321 --> 00:29:36.121\nIf you do show ip dhcp and\na question mark,\n\n575\n00:29:36.121 --> 00:29:40.530\nyou'll see there's a number of\nthings that you can look at.\n\n576\n00:29:40.530 --> 00:29:42.048\nWe've got bindings, right?\n\n577\n00:29:42.048 --> 00:29:45.440\nBindings, those are my leases, those\nare IP addresses that I've issued out.\n\n578\n00:29:45.440 --> 00:29:49.393\nAnd you've also got the pool right\nhere where we can look at the pool and\n\n579\n00:29:49.393 --> 00:29:52.489\nthe pool's information,\nand that's really handy.\n\n580\n00:29:52.489 --> 00:29:56.928\nBecause when we take a look at these,\nlike if I do show ip dhcp binding,\n\n581\n00:29:56.928 --> 00:30:02.975\nI can take a look and here's the addresses\nI've issued out so far, 100, 103, 149.\n\n582\n00:30:02.975 --> 00:30:06.561\nAnd 149 down here,\nthis is that static one that I made for\n\n583\n00:30:06.561 --> 00:30:09.720\nrouter three that didn't\nwork a minute ago.\n\n584\n00:30:09.720 --> 00:30:11.190\nAnd it's neat because\nI can look up here and\n\n585\n00:30:11.190 --> 00:30:15.210\nI can see the people that\nwe've issued out addresses to.\n\n586\n00:30:15.210 --> 00:30:18.910\nAnd when I look up here, I'm actually\nnot seeing that hardware ID so\n\n587\n00:30:18.910 --> 00:30:21.470\nI got the hardware ID\nwrong on the other one.\n\n588\n00:30:21.470 --> 00:30:24.430\nIt's got a much longer\nhardware ID listed right here.\n\n589\n00:30:24.430 --> 00:30:27.180\nSo that's the ID that I really need to\ngo and put in to get that straight.\n\n590\n00:30:27.180 --> 00:30:29.380\nI'm not quite sure why it's\ngoing all crazy like that.\n\n591\n00:30:29.380 --> 00:30:32.410\nBut anyhow, so that's how I'd go and\nfix that problem.\n\n592\n00:30:32.410 --> 00:30:33.670\nSo we can see the bindings.\n\n593\n00:30:33.670 --> 00:30:37.000\nAnd I can do show ip dhcp pool.\n\n594\n00:30:37.000 --> 00:30:38.520\nAnd we run that,\nwe take a look at the pool and\n\n595\n00:30:38.520 --> 00:30:40.980\nhere's where we get the statistics for\nthe pool.\n\n596\n00:30:40.980 --> 00:30:43.580\nSo here's my itprotv-lab.\n\n597\n00:30:43.580 --> 00:30:47.330\nAnd in the lab, I can see that I've\ngot a utilization mark high and low.\n\n598\n00:30:47.330 --> 00:30:51.820\nAnd this is in percentages, not in\nthe number of IPs, there's only 51 IPs.\n\n599\n00:30:51.820 --> 00:30:55.315\nSo right now my highest utilization\nwould be 100%, lowest is zero,\n\n600\n00:30:55.315 --> 00:30:59.180\nit's kind of a useless number when\nit's used like it is right now.\n\n601\n00:30:59.180 --> 00:31:02.460\nRight now, I have two leased addresses.\n\n602\n00:31:02.460 --> 00:31:06.420\nI have 254 addresses total,\nbut I'm excluding 204 of them.\n\n603\n00:31:06.420 --> 00:31:09.710\nAnd so I'm just two addresses down and\n\n604\n00:31:09.710 --> 00:31:11.640\nI've got the remainder\nof the pool available.\n\n605\n00:31:11.640 --> 00:31:15.910\nSo we can get an idea of how much\nof our pool is actually being used\n\n606\n00:31:15.910 --> 00:31:17.750\nversus just sitting there empty.\n\n607\n00:31:17.750 --> 00:31:19.314\nAnd right now,\nI'm basically sitting there empty.\n\n608\n00:31:19.314 --> 00:31:22.940\nAll right, you can also see the static\none that I made down here that has that\n\n609\n00:31:22.940 --> 00:31:24.270\naddress issued out.\n\n610\n00:31:24.270 --> 00:31:27.790\nAnd so it's got a total address of 1,\nand a leased address of 1, so\n\n611\n00:31:27.790 --> 00:31:30.680\nit's fully subscribed right now,\nit's completely used.\n\n612\n00:31:30.680 --> 00:31:33.810\nAnd so it's unable to function.\n\n613\n00:31:35.150 --> 00:31:38.230\nAll right, there's other\ncommands in here we can look at.\n\n614\n00:31:38.230 --> 00:31:40.910\nIf you do show ip dhcp server,\nfor example,\n\n615\n00:31:40.910 --> 00:31:42.860\nyou can take a look at the statistics.\n\n616\n00:31:42.860 --> 00:31:44.590\nKnew that was in there somewhere.\n\n617\n00:31:44.590 --> 00:31:46.070\nAnd we can look at\nthe statistics here too.\n\n618\n00:31:46.070 --> 00:31:50.022\nAnd this is neat because you can track\nnot just how many IPs you've issued but\n\n619\n00:31:50.022 --> 00:31:52.199\nhow many requests you've been getting.\n\n620\n00:31:52.199 --> 00:31:57.692\nSo I can see I've received four discovers\nand that I've actually acknowledged,\n\n621\n00:31:57.692 --> 00:32:02.230\nsomewhere in here we'll see I've\nacknowledged a certain amount,\n\n622\n00:32:02.230 --> 00:32:03.832\nand wait, right here.\n\n623\n00:32:03.832 --> 00:32:06.397\nI've offered four and acknowledged four.\n\n624\n00:32:06.397 --> 00:32:09.499\nIf I've offered four and\nacknowledged two, what does that mean?\n\n625\n00:32:09.499 --> 00:32:12.654\nThat means there's another DHCP server on\nthe network that's acknowledging people\n\n626\n00:32:12.654 --> 00:32:14.000\nand so I'm getting ignored.\n\n627\n00:32:14.000 --> 00:32:16.840\nYou can spot things like that and\ntroubleshoot it based on these numbers.\n\n628\n00:32:16.840 --> 00:32:19.240\nDown here, we've got these 0s\ncuz these are forwarded ones.\n\n629\n00:32:19.240 --> 00:32:22.090\nThese are ones that I didn't handle but\nI forward it to somebody else.\n\n630\n00:32:22.090 --> 00:32:26.660\nThat's not on the exam but if you have\nto deal with IP helper addresses,\n\n631\n00:32:26.660 --> 00:32:28.590\nthat's what makes those populate.\n\n632\n00:32:28.590 --> 00:32:31.680\nBut right here, I can see that\nI've been offering addresses and\n\n633\n00:32:31.680 --> 00:32:34.340\nthey've been getting accepted, so\nI've been acknowledging those.\n\n634\n00:32:34.340 --> 00:32:38.510\nSo that's all information that we can\nsee behind the scenes when we run DHCP.\n\n635\n00:32:38.510 --> 00:32:39.930\nAnd for troubleshooting,\n\n636\n00:32:39.930 --> 00:32:44.330\nthere's not too much to DHCP because\nit's mostly a broadcast operation.\n\n637\n00:32:44.330 --> 00:32:47.010\nSo between the d-bugs and\nthese handful of show commands,\n\n638\n00:32:47.010 --> 00:32:49.010\nwe can usually see\neverything that we need.\n\n639\n00:32:49.010 --> 00:32:52.360\n>> Now Don, when we set up\nDHCP the way that you showed,\n\n640\n00:32:52.360 --> 00:32:55.790\nnormally on DHCP we have that lease\ntime that's usually a default.\n\n641\n00:32:55.790 --> 00:32:56.890\nDoes this one do the same thing?\n\n642\n00:32:56.890 --> 00:33:00.200\nIt just says there's a certain\nnumber of days, and that's it.\n\n643\n00:33:00.200 --> 00:33:02.350\n>> It does.\nI didn't bother to set it, did I?\n\n644\n00:33:02.350 --> 00:33:04.180\nSo if I-\n>> No, that's fine.\n\n645\n00:33:04.180 --> 00:33:05.630\n>> It's all within the limits\nof your own patience, right?\n\n646\n00:33:05.630 --> 00:33:09.903\nSo when I define the pool,\nI created the ITProTV lab pool.\n\n647\n00:33:09.903 --> 00:33:12.029\nThere's a bunch of options in there and\n\n648\n00:33:12.029 --> 00:33:15.133\none of the options that I\ndidn't bother to set was lease.\n\n649\n00:33:15.133 --> 00:33:17.573\nAnd that's where you can\nset the lease times.\n\n650\n00:33:17.573 --> 00:33:18.480\nSo I went with the default.\n\n651\n00:33:18.480 --> 00:33:21.940\nAnd so when I looked at the bindings\na minute ago, they had that default time.\n\n652\n00:33:21.940 --> 00:33:25.340\nI didn't pay attention to it,\nI think it's one day isn't it?\n\n653\n00:33:25.340 --> 00:33:27.000\nI guess we can scroll back and find that.\n\n654\n00:33:27.000 --> 00:33:29.028\nSo when I was looking at\nthe leases that were in here.\n\n655\n00:33:29.028 --> 00:33:34.016\nSee, we've got these lease expirations and\ntoday is July 20th.\n\n656\n00:33:34.016 --> 00:33:38.030\nThese are set to expire at July 21st, so\nit's 24 hours, that's the default, right?\n\n657\n00:33:38.030 --> 00:33:39.880\nSo they're expiring one day from now.\n\n658\n00:33:40.950 --> 00:33:45.060\nWhat if you work at a coffee shop and so,\n\n659\n00:33:45.060 --> 00:33:48.680\npeople come in for 30 minutes, have some\ncoffee, use internet and then they leave.\n\n660\n00:33:48.680 --> 00:33:51.180\nI don't want them to necessarily\nhold an address all day long,\n\n661\n00:33:51.180 --> 00:33:52.490\ncuz they were only here 30 minutes.\n\n662\n00:33:52.490 --> 00:33:54.610\nSo, I might wanna lease\ntime that's shorter.\n\n663\n00:33:54.610 --> 00:33:57.500\nOr what if you have all desktops\nthat never really move around.\n\n664\n00:33:57.500 --> 00:34:00.240\nI might want lease times that\nare longer because there's no need for\n\n665\n00:34:00.240 --> 00:34:01.590\nthem to change IPs.\n\n666\n00:34:01.590 --> 00:34:04.890\nSo you can adjust that lease\ntime inside of the pool.\n\n667\n00:34:04.890 --> 00:34:09.240\nSo I got back into my pool by saying,\nip dhcp pool, and the name.\n\n668\n00:34:09.240 --> 00:34:12.330\nAnd then I can just say, lease and\nyou can specify the time.\n\n669\n00:34:12.330 --> 00:34:13.610\nYou can even go infinite if you want.\n\n670\n00:34:13.610 --> 00:34:15.740\nIf you got a massive pool,\nyou can do that.\n\n671\n00:34:15.740 --> 00:34:17.330\nOr you can set it to something else.\n\n672\n00:34:17.330 --> 00:34:19.860\nNow notice the time is in days.\n\n673\n00:34:19.860 --> 00:34:23.770\nSo when I go and specify this, I can set\nlike one day, and then I can set hours.\n\n674\n00:34:23.770 --> 00:34:27.439\nSo if I wanna do one hour,\nI would actually have to do say 0 1.\n\n675\n00:34:27.439 --> 00:34:29.870\nZero days, one hour.\n\n676\n00:34:29.870 --> 00:34:31.800\nAnd now it's nice and short, and\n\n677\n00:34:31.800 --> 00:34:34.690\nwhen people get that lease,\nit'll be a short one.\n\n678\n00:34:34.690 --> 00:34:37.180\nOr if I wanna go long,\nI can say 30 days or whatever.\n\n679\n00:34:37.180 --> 00:34:40.520\nYou can specify it right here and now you\nhave adjusted that lease time, per pool.\n\n680\n00:34:41.605 --> 00:34:43.212\n>> All right, Don.\nWell, thank you again for\n\n681\n00:34:43.212 --> 00:34:45.397\nintroducing us to that DHCP concept.\n\n682\n00:34:45.397 --> 00:34:49.229\nIf you haven't seen it before, most of\nus might have seen it somewhere else but\n\n683\n00:34:49.229 --> 00:34:51.275\nnot on a router or on a Cisco switch.\n\n684\n00:34:51.275 --> 00:34:54.595\nAnd on some Cisco switches, you'll be\nable to do it but on some, you won't, so\n\n685\n00:34:54.595 --> 00:34:55.285\njust remember that.\n\n686\n00:34:55.285 --> 00:34:58.285\nAlso take a look at that process,\nmake sure you understand\n\n687\n00:34:58.285 --> 00:35:02.245\nthe DORA process as well, and\nthe configurations that Don showed us.\n\n688\n00:35:02.245 --> 00:35:04.450\nWell, that's a great place for\nus to sign off.\n\n689\n00:35:04.450 --> 00:35:09.420\nFor this episode then, for ITProTV,\nI've been your host, Ronny Wong.\n\n690\n00:35:09.420 --> 00:35:10.500\n>> And I'm Dan Pozet.\n\n691\n00:35:10.500 --> 00:35:13.768\n>> Stay tuned right here for\nmore Cisco CCENT episodes.\n\n692\n00:35:13.768 --> 00:35:23.768\n[MUSIC]\n\n",
          "vimeoId": "175690280"
        },
        {
          "description": "In this episode, Ronnie and Don show how to configure a Cisco router as a NTP server and NTP client.  They discuss the importance of NTP for networking devices.  The guys show the commands to configure a Cisco router as a NTP master and client.  They also show how to verify the configuration.",
          "length": "1317",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-4-2-network_time_protocol-072116-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-4-2-network_time_protocol-072116-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-4-2-network_time_protocol-072116-1-sm.jpg",
          "title": "Network Time Protocol",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.136 --> 00:00:15.100\nWelcome back to another\ngreat episode on ITProTV.\n\n3\n00:00:15.100 --> 00:00:19.270\nI'm your host, Ronnie Wong, and\ntoday you've tuned into the Cisco CCENT\n\n4\n00:00:19.270 --> 00:00:22.330\nshow where we're talking about\ninfrastructure services.\n\n5\n00:00:22.330 --> 00:00:24.580\nAnd who better to help us out\nwith that but Mr. Don Pezet.\n\n6\n00:00:24.580 --> 00:00:25.820\nDon, welcome back to our studios.\n\n7\n00:00:25.820 --> 00:00:26.950\n>> Thanks, for having me back, Ronnie.\n\n8\n00:00:26.950 --> 00:00:28.820\nYeah, we're continuing on with services.\n\n9\n00:00:28.820 --> 00:00:32.470\nAnd we got a chance to see DHCP and\na few other little odds and ends.\n\n10\n00:00:32.470 --> 00:00:34.450\nThere's another service\nthat I do wanna talk about.\n\n11\n00:00:34.450 --> 00:00:38.780\nIn an earlier episode, back in our initial\nsetup episode, I showed how to connect\n\n12\n00:00:38.780 --> 00:00:42.750\nyour router or switch to a network timed\nprotocol server, to point it to a server\n\n13\n00:00:42.750 --> 00:00:45.950\nout on the internet or somewhere\nelse like that to get a time source.\n\n14\n00:00:45.950 --> 00:00:46.610\nRight.\n\n15\n00:00:46.610 --> 00:00:48.980\nWell, it's possible that\nyou don't wanna do that,\n\n16\n00:00:48.980 --> 00:00:51.260\nthat you don't wanna use an internet\nsource, somebody that's out there.\n\n17\n00:00:51.260 --> 00:00:55.150\nInstead, you wanna set\nup your own time source.\n\n18\n00:00:55.150 --> 00:00:57.030\nAnd, every Cisco router and\n\n19\n00:00:57.030 --> 00:01:01.110\nevery Cisco switch is actually capable of\nbecoming its own time server if it wants.\n\n20\n00:01:01.110 --> 00:01:04.290\nNow, I shouldn't say it that way,\nbecoming its own time server.\n\n21\n00:01:04.290 --> 00:01:06.360\nIt doesn't matter to a device if\nit's its own time server that just\n\n22\n00:01:06.360 --> 00:01:07.370\nmeans you set the clock.\n\n23\n00:01:07.370 --> 00:01:08.000\nRight.\n\n24\n00:01:08.000 --> 00:01:11.790\nWhat I mean is being a time server for\nthe other devices on your network.\n\n25\n00:01:11.790 --> 00:01:14.960\nNow, let's talk a little bit\nabout why we'd want to do that.\n\n26\n00:01:14.960 --> 00:01:19.483\nThe example I gave in that episode was\nthat we might wanna use a service like\n\n27\n00:01:19.483 --> 00:01:21.216\nntp.org, right?\n\n28\n00:01:21.216 --> 00:01:26.418\nNtp.org is like a non-profit organization\nthat apparently has a very slow website.\n\n29\n00:01:26.418 --> 00:01:28.240\n>> [LAUGH]\n>> And [LAUGH], so\n\n30\n00:01:28.240 --> 00:01:31.490\nI guess I may want to go\nto plain old ntp.org.\n\n31\n00:01:31.490 --> 00:01:33.580\nLet's see if we can get to it.\n\n32\n00:01:33.580 --> 00:01:34.155\nAnd there we go.\n\n33\n00:01:34.155 --> 00:01:35.310\nNtp.org.\n\n34\n00:01:35.310 --> 00:01:37.860\nAnd it's a non-profit\norganization where they basically\n\n35\n00:01:37.860 --> 00:01:42.010\nhave these time servers that are available\non the internet, and a lot of us use it.\n\n36\n00:01:42.010 --> 00:01:44.200\nI know I use it for\na number of different things.\n\n37\n00:01:44.200 --> 00:01:46.260\nBut one of the problems with ntp.org.\n\n38\n00:01:46.260 --> 00:01:48.000\nI shouldn't say the problem, right?\n\n39\n00:01:48.000 --> 00:01:53.780\nIt's one of the characteristic of ntp.org\nis it's actually made up of volunteers.\n\n40\n00:01:53.780 --> 00:01:56.630\nIt's not like the US Naval Observatory.\n\n41\n00:01:56.630 --> 00:02:01.850\nThis is anybody on the entire planet\nwho wants to make a public time server\n\n42\n00:02:01.850 --> 00:02:04.410\ncan join ntp.org and make it available.\n\n43\n00:02:04.410 --> 00:02:10.530\nAnd so as a result the time that we get\nfrom them is good, but it's not perfect.\n\n44\n00:02:10.530 --> 00:02:14.180\nYou could have an attack vector here you\nknow somebody could bring up a malicious\n\n45\n00:02:14.180 --> 00:02:15.390\nserver at ntp.org.\n\n46\n00:02:15.390 --> 00:02:17.280\nThey usually catch those\nthings pretty quick.\n\n47\n00:02:17.280 --> 00:02:21.700\nOr it may not be malicious is could\njust be off a few tenths of a second or\n\n48\n00:02:21.700 --> 00:02:23.170\nsomething of that nature.\n\n49\n00:02:23.170 --> 00:02:25.880\nAnd that can lead to\nproblems down the road.\n\n50\n00:02:25.880 --> 00:02:28.920\nSo, while it is a good time source and\nit's reliable for\n\n51\n00:02:28.920 --> 00:02:31.920\nmost of us to use for home and\nnon-critical systems,\n\n52\n00:02:31.920 --> 00:02:37.550\nif you've got critical infrastructure you\nprobably won't want to rely on the pool.\n\n53\n00:02:37.550 --> 00:02:38.940\nLook, little known fact,\n\n54\n00:02:38.940 --> 00:02:44.430\nwhen you reach out to ntp.org a lot of\ntimes people put in pool.ntp.org or\n\n55\n00:02:44.430 --> 00:02:49.290\nyou can do the numbers before zero, one,\ntwo, three or four dot pool.ntp.org.\n\n56\n00:02:49.290 --> 00:02:50.490\nThose are aliases.\n\n57\n00:02:50.490 --> 00:02:52.675\nAnd there's aliases for\nthe main system, but\n\n58\n00:02:52.675 --> 00:02:55.185\nthere's aliases for\neach country inside of it.\n\n59\n00:02:55.185 --> 00:02:56.895\nSo, when you start going\ninside of the pool.\n\n60\n00:02:56.895 --> 00:03:00.215\nLet me see if I can,\nif it will come up for me.\n\n61\n00:03:00.215 --> 00:03:02.265\nInside of the pool you've then\ngot the various countries.\n\n62\n00:03:02.265 --> 00:03:07.345\nIf I'm in the US,\nI can do zero.us.pool.ntp.org or\n\n63\n00:03:07.345 --> 00:03:11.660\none, two, three and four.us.pool.ntp.org.\n\n64\n00:03:11.660 --> 00:03:14.928\nThose aliases, they really only\npoint to one server for you.\n\n65\n00:03:14.928 --> 00:03:18.800\nAnd at ntp.org they change\nthose once an hour.\n\n66\n00:03:18.800 --> 00:03:20.070\nSo every hour they change.\n\n67\n00:03:20.070 --> 00:03:23.840\nSo when you synchronize your time it's\nrare that you're synchronizing against\n\n68\n00:03:23.840 --> 00:03:25.530\nthe same server.\n\n69\n00:03:25.530 --> 00:03:29.330\nAnd because you're moving from server to\nserver and these are somewhat random, that\n\n70\n00:03:29.330 --> 00:03:33.450\nmeans that your time can vary just through\nthe nature of which server you touch not\n\n71\n00:03:33.450 --> 00:03:39.110\ndue some kind of fractional second loss\nby your internal clock or whatever.\n\n72\n00:03:39.110 --> 00:03:41.880\nSo it's not the most\nreliable source to use.\n\n73\n00:03:41.880 --> 00:03:44.195\nIf you're just looking to get a base\ntime set to your environment and\n\n74\n00:03:44.195 --> 00:03:47.220\nyou don't wanna set the infrastructure and\nntp.org does a great job of it.\n\n75\n00:03:47.220 --> 00:03:51.680\nBut if you want it to be truly reliable\nyou can take one of your routers or\n\n76\n00:03:51.680 --> 00:03:56.340\nswitches and\nyou can set it as your own time source.\n\n77\n00:03:56.340 --> 00:03:59.870\nAll right, now when we do that we're\njust gonna go through here and\n\n78\n00:03:59.870 --> 00:04:03.840\nI guess before I do that I need to\nmake sure that my time is right.\n\n79\n00:04:03.840 --> 00:04:08.180\nAnd my time if this is a brand\nnew router is probably wrong and\n\n80\n00:04:08.180 --> 00:04:11.330\nI guess I can do a quick show clock and\nfind out and,\n\n81\n00:04:11.330 --> 00:04:16.240\nthat's pretty close, 9:38:29,\nthat's pretty close.\n\n82\n00:04:16.240 --> 00:04:17.420\nThursday July 21st, 2016.\n\n83\n00:04:17.420 --> 00:04:18.360\nRight?\n\n84\n00:04:18.360 --> 00:04:21.140\nSo my time looks good on\nthis particular system.\n\n85\n00:04:21.140 --> 00:04:26.130\nIf it wasn't I could always set it, just\nremember the command it was clock set, and\n\n86\n00:04:26.130 --> 00:04:26.670\nthen the time.\n\n87\n00:04:26.670 --> 00:04:30.000\nSo if I was 09:38:29 on July 21st, 2016,\n\n88\n00:04:30.000 --> 00:04:34.710\nI can punch in like that and set my clock.\n\n89\n00:04:34.710 --> 00:04:40.510\nThe problem is, you're never going\nto be accurate to the second,\n\n90\n00:04:40.510 --> 00:04:43.770\nbecause it probably took me\na second to type July 21st,\n\n91\n00:04:43.770 --> 00:04:48.940\n2016 and that means, I'm actually at\n9:38 and 30 seconds by that point.\n\n92\n00:04:48.940 --> 00:04:50.820\nSo, I'm gonna be off by at least a second,\n\n93\n00:04:50.820 --> 00:04:54.780\nwhen you type it in manually, but\nit's just kind of a way to get started.\n\n94\n00:04:54.780 --> 00:04:59.230\nIf I wanted to be a little more accurate,\nI could go ahead and sync this system\n\n95\n00:04:59.230 --> 00:05:04.740\nagainst a server, let it sync its clock\nand then turn the server off, right.\n\n96\n00:05:04.740 --> 00:05:07.740\nSo for example if I wanted to\ngo that route, on the router,\n\n97\n00:05:07.740 --> 00:05:08.990\nI can just jump into config.\n\n98\n00:05:10.270 --> 00:05:13.620\nAnd in my configuration I can come in and\nI can say,\n\n99\n00:05:13.620 --> 00:05:16.890\nntp server and then point it to a server.\n\n100\n00:05:16.890 --> 00:05:21.800\nAnd maybe it is somebody\nout there on the internet,\n\n101\n00:05:21.800 --> 00:05:25.910\nlike, pool.ntp.org, and\npoint it to that server.\n\n102\n00:05:25.910 --> 00:05:28.400\nLet it reach out and\nsynchronize against that server.\n\n103\n00:05:28.400 --> 00:05:30.045\nNow I don't have dns set up so\nmines going to fail.\n\n104\n00:05:30.045 --> 00:05:33.320\nAnd then once it syncs to the server\nthen you can just go in and\n\n105\n00:05:33.320 --> 00:05:37.700\ndo a no and turn that right off again and\nnow we're not synchronizing right?\n\n106\n00:05:37.700 --> 00:05:41.070\nSince I don't have DNS turned\non I have to do it my IP.\n\n107\n00:05:41.070 --> 00:05:46.250\nSo maybe I say ntp server and I'll point\nto a device that's out there like that.\n\n108\n00:05:46.250 --> 00:05:49.050\nAnd then as soon as it's set\nI can just turn it off again.\n\n109\n00:05:49.050 --> 00:05:49.560\nOkay.\n\n110\n00:05:49.560 --> 00:05:53.880\nSo now I'll know that at least\nmy clock is set correctly.\n\n111\n00:05:53.880 --> 00:05:55.520\nAnd now I can become my own server.\n\n112\n00:05:56.670 --> 00:06:00.340\nNow, to become your own server is\nreally not a hard thing to do.\n\n113\n00:06:00.340 --> 00:06:03.340\nThe router and the switches,\nthey're capable of doing it, but\n\n114\n00:06:03.340 --> 00:06:04.820\nthey don't do it by default.\n\n115\n00:06:04.820 --> 00:06:07.520\nWe have to tell it that we\nwant it to do that, all right.\n\n116\n00:06:07.520 --> 00:06:11.340\nAnd they way that we do that is by\njumping into our configuration and\n\n117\n00:06:11.340 --> 00:06:13.720\nissuing a single command, right?\n\n118\n00:06:13.720 --> 00:06:15.570\nThere's this one command\nthat knocks it out.\n\n119\n00:06:15.570 --> 00:06:18.350\nAnd that is #ntp master.\n\n120\n00:06:19.450 --> 00:06:24.330\nThe ntp master command is what tells you\nthat you are now a core time server.\n\n121\n00:06:24.330 --> 00:06:27.800\nIn the world of time protocols,\nthis probably won't be on the exam but\n\n122\n00:06:27.800 --> 00:06:31.370\njust in the world of time protocols,\nyou have what are called stratums.\n\n123\n00:06:31.370 --> 00:06:35.445\nAnd the master server,\nthe central main clock for\n\n124\n00:06:35.445 --> 00:06:38.850\nthe whole thing is stratum zero, right?\n\n125\n00:06:38.850 --> 00:06:40.260\nIt's the heart.\n\n126\n00:06:40.260 --> 00:06:44.040\nAnd then that master,\nfeeds a series of these other clocks and\n\n127\n00:06:44.040 --> 00:06:46.190\nthey become stratum one clock.\n\n128\n00:06:46.190 --> 00:06:49.400\nAnd those feed another set of clocks\nwhich are stratum twp clocks.\n\n129\n00:06:49.400 --> 00:06:52.060\nAnd then those feed yet another and those\nare stratum three and it goes on and on.\n\n130\n00:06:52.060 --> 00:06:52.797\nI forget what the maximum is.\n\n131\n00:06:52.797 --> 00:06:53.544\nOr do I have it written down?\n\n132\n00:06:53.544 --> 00:06:54.480\n>> 15.\n>> 15.\n\n133\n00:06:54.480 --> 00:06:57.330\nAll right, up to 15 tiers out.\n\n134\n00:06:57.330 --> 00:07:00.180\nSo when you synchronize\nto pull that ntp.org\n\n135\n00:07:00.180 --> 00:07:02.190\nthe odds are you are not\nsyncing against the master.\n\n136\n00:07:02.190 --> 00:07:05.760\nIn fact it is extremely unlikely that\nyou are syncing against the master.\n\n137\n00:07:05.760 --> 00:07:09.760\nSo instead you are syncing against\na stratum three or stratum four,\n\n138\n00:07:09.760 --> 00:07:11.000\nmaybe even a stratum five machine.\n\n139\n00:07:11.000 --> 00:07:13.690\nIt just depends on how deep that's gone.\n\n140\n00:07:13.690 --> 00:07:16.870\nBut it should be okay,\ncuz all the times are synchronized.\n\n141\n00:07:16.870 --> 00:07:21.280\nNow, I know one thing that I usually\nget asked is, well, if I'm syncing\n\n142\n00:07:21.280 --> 00:07:25.915\nto a machine, and it's syncing to another\nand another and another, we're five deep.\n\n143\n00:07:25.915 --> 00:07:28.620\nAren't we loosing a little bit of time for\neach sync?\n\n144\n00:07:28.620 --> 00:07:31.870\nWell, you would,\nexcept it corrects for that.\n\n145\n00:07:31.870 --> 00:07:36.160\nWhenever you synchronize with a time\nserver you actually measure the latency\n\n146\n00:07:36.160 --> 00:07:40.310\nbetween you and the time server so\nthat when it provides you the time,\n\n147\n00:07:40.310 --> 00:07:42.440\nyou're able to adjust it for\nthe latency that you received.\n\n148\n00:07:42.440 --> 00:07:45.360\nAnd that way the time you end up having\nis exactly the same as the time that's\n\n149\n00:07:45.360 --> 00:07:46.150\non the server.\n\n150\n00:07:46.150 --> 00:07:47.720\nSo that's a part of the ntp protocol.\n\n151\n00:07:47.720 --> 00:07:50.510\nIt handles that, automatically,\nas part of it's function.\n\n152\n00:07:50.510 --> 00:07:53.201\nSo, we don't have to worry\nabout us being slightly behind.\n\n153\n00:07:53.201 --> 00:07:56.631\nSynchronizing against a stratum five\nserver, should be just as good,\n\n154\n00:07:56.631 --> 00:07:59.044\nas synchronizing against\na stratum zero server.\n\n155\n00:07:59.044 --> 00:08:01.558\nWe're just wanting to make sure that\nit's not getting overwhelmed, so\n\n156\n00:08:01.558 --> 00:08:04.520\nwe don't send all of our traffic\nto the stratum zero server.\n\n157\n00:08:04.520 --> 00:08:09.021\nSo when I say ntp master,\nI'm basically telling my system,\n\n158\n00:08:09.021 --> 00:08:12.570\nyou're an ntp server, and you're the core.\n\n159\n00:08:12.570 --> 00:08:14.210\nYou're the central person, right?\n\n160\n00:08:14.210 --> 00:08:18.790\nSo that will immediately disable\nme syncing against anybody else.\n\n161\n00:08:18.790 --> 00:08:19.780\nMaybe I don't want that.\n\n162\n00:08:19.780 --> 00:08:23.097\nMaybe I want to be a server, but\nI still wanna sync against somebody else,\n\n163\n00:08:23.097 --> 00:08:24.000\nall right.\n\n164\n00:08:24.000 --> 00:08:26.280\nIf you want that, what you have\nto do is a little bit different.\n\n165\n00:08:26.280 --> 00:08:29.076\nIf we look at that command, ntp master,\nand then do a question mark,\n\n166\n00:08:29.076 --> 00:08:31.455\nyou'll see where I can provide\na stratum number, right?\n\n167\n00:08:31.455 --> 00:08:34.520\nAnd here's where I can say all right,\nI'm stratum 5.\n\n168\n00:08:34.520 --> 00:08:42.071\nThere's actually four other servers, and\nI'm gonna do a ntp server 10.1.230.2.\n\n169\n00:08:42.071 --> 00:08:44.895\nAnd so now I'm gonna sync my\ntime against that system.\n\n170\n00:08:44.895 --> 00:08:49.255\nAnd that system must be stratum 4,\nbecause I'm stratum 5, right?\n\n171\n00:08:49.255 --> 00:08:52.010\nntp doesn't have a way for\nme to see my route, right,\n\n172\n00:08:52.010 --> 00:08:55.140\nit's not like I can run traceroute, and\nsee how many time servers I went through.\n\n173\n00:08:55.140 --> 00:08:57.360\nSo we have to tell it that it's stratum 5.\n\n174\n00:08:57.360 --> 00:08:59.380\nIt doesn't actually change the function,\nreally.\n\n175\n00:08:59.380 --> 00:09:02.290\nIt just lets us know when\nwe talk to somebody else,\n\n176\n00:09:02.290 --> 00:09:06.700\nwe tell them that we're stratum 5,\nif they inquire as part of the query.\n\n177\n00:09:06.700 --> 00:09:10.070\nNow, in my environment,\nthough, I don't wanna do that.\n\n178\n00:09:10.070 --> 00:09:12.770\nI wanna set up my own internal service,\nand so\n\n179\n00:09:12.770 --> 00:09:15.247\nI'm gonna do ntp master by itself, right?\n\n180\n00:09:16.310 --> 00:09:18.295\nNot 5, just I'm the core.\n\n181\n00:09:18.295 --> 00:09:22.854\nNow, the reason I wanna do this,\nthere's certain protocols like Kerberos,\n\n182\n00:09:22.854 --> 00:09:27.082\nipsec, network encryption,\nthose protocols, they use time stamps.\n\n183\n00:09:27.082 --> 00:09:31.874\nAnd they use time stamps as part of their\nauthentication because they wanna track if\n\n184\n00:09:31.874 --> 00:09:36.118\na packet has been sent across the network,\nand somebody intercepts it and\n\n185\n00:09:36.118 --> 00:09:40.750\nholds it and then replays it later,\nwe need to know that happened, right?\n\n186\n00:09:40.750 --> 00:09:44.370\nSo, for example, I know Ronnie's\nabout to log into a website.\n\n187\n00:09:44.370 --> 00:09:46.180\nAnd so, he's on the network.\n\n188\n00:09:46.180 --> 00:09:48.070\nHe browses the website,\nand he goes to log in.\n\n189\n00:09:48.070 --> 00:09:49.570\nI'm running a sniffer, and I capture that.\n\n190\n00:09:49.570 --> 00:09:52.590\nNow, I capture it, but\nit's encrypted, right?\n\n191\n00:09:52.590 --> 00:09:54.320\nIt's all encrypted, I can't read it.\n\n192\n00:09:54.320 --> 00:09:56.530\nWell, now it's up to me to decrypt it.\n\n193\n00:09:56.530 --> 00:09:59.220\nOr I could just hold onto it,\nand I can say, you know what?\n\n194\n00:09:59.220 --> 00:10:02.210\nI know Ronnie logged in,\nso now I'm gonna wait.\n\n195\n00:10:02.210 --> 00:10:05.230\nIn 20 minutes from now,\nI'm gonna replay his traffic, and\n\n196\n00:10:05.230 --> 00:10:07.070\nI throw it back on the network again.\n\n197\n00:10:07.070 --> 00:10:10.072\nIt's encrypted, but the other side can\ndecrypt it, so they decrypt it and\n\n198\n00:10:10.072 --> 00:10:11.360\nthey see the login again.\n\n199\n00:10:11.360 --> 00:10:14.494\nI never decrypted it, I never saw\nhis password, but I just sent it and\n\n200\n00:10:14.494 --> 00:10:16.150\nreauthenticated, right?\n\n201\n00:10:16.150 --> 00:10:17.760\nSo how do we prevent that?\n\n202\n00:10:17.760 --> 00:10:18.600\nWell, a time stamp.\n\n203\n00:10:18.600 --> 00:10:20.910\nSo there's a time stamp in the packet.\n\n204\n00:10:20.910 --> 00:10:24.260\nAs it gets decoded,\nthe time stamp is encountered.\n\n205\n00:10:24.260 --> 00:10:28.180\nAnd if it's too far off,\nwe throw it away, right?\n\n206\n00:10:28.180 --> 00:10:31.050\nSo let's say that you wanted\nto attack somebody's network.\n\n207\n00:10:31.050 --> 00:10:33.980\nAnd you just couldn't break in,\nyou couldn't find a great way to do it.\n\n208\n00:10:33.980 --> 00:10:36.430\nntp is a way that we can do it.\n\n209\n00:10:36.430 --> 00:10:39.730\nIf I know they're sinking\nagainst pool.ntp.org,\n\n210\n00:10:39.730 --> 00:10:43.970\nI can do a DNS poisoning attack and\nredirect them to my time server.\n\n211\n00:10:43.970 --> 00:10:47.000\nAnd I could start issuing out different\ntimes, every time somebody queried me,\n\n212\n00:10:47.000 --> 00:10:50.360\nI could give them a time that's one hour\noff, just like randomly assigning it.\n\n213\n00:10:50.360 --> 00:10:53.681\nSo now you've got computers and hardware\nall across the network at all different\n\n214\n00:10:53.681 --> 00:10:55.950\ntimes, and all the encryption breaks.\n\n215\n00:10:55.950 --> 00:10:59.110\nAnd either that's gonna cause a denial\nof service, the network's gonna go down.\n\n216\n00:10:59.110 --> 00:11:03.390\nOr some systems, if they fail to encrypt,\nwill fill back over to unencrypted, and so\n\n217\n00:11:03.390 --> 00:11:04.930\nnow we can intercept and read traffic.\n\n218\n00:11:04.930 --> 00:11:07.410\nSo that's a very real\nthreat that companies have.\n\n219\n00:11:07.410 --> 00:11:10.320\nSo instead of relying on\nsomebody on the Internet, we may\n\n220\n00:11:10.320 --> 00:11:13.470\nchoose to have it entirely internal,\nand ntp master will let us do that.\n\n221\n00:11:13.470 --> 00:11:16.950\nSo now I am the master of\nmy own time domain, and\n\n222\n00:11:16.950 --> 00:11:18.000\npeople can synchronize off of me.\n\n223\n00:11:18.000 --> 00:11:20.500\nI can set up my own stratum 1 and\nstratum 2 if I want, or\n\n224\n00:11:20.500 --> 00:11:24.220\nI can just have them all come\nright from this box, all right.\n\n225\n00:11:24.220 --> 00:11:28.580\nAnd so now, I can jump over to any old\nclient, and they can synchronize up and\n\n226\n00:11:28.580 --> 00:11:30.000\nget the right time.\n\n227\n00:11:30.000 --> 00:11:36.120\nSo, if I take a look at this machine,\nif I do a show ip int brief,\n\n228\n00:11:36.120 --> 00:11:41.565\nthis machine is 192.168.1.1, all right.\n\n229\n00:11:41.565 --> 00:11:45.380\nI'm gonna jump over to one of\nmy other routers, router 2.\n\n230\n00:11:45.380 --> 00:11:50.510\nSo over on router 2, we can go in and\nget it set up as a ntp client now, right?\n\n231\n00:11:50.510 --> 00:11:53.404\nSo I'll do ntp server 192.168.1.1.\n\n232\n00:11:53.404 --> 00:11:57.480\nI'll punch that in, and I'll get out.\n\n233\n00:11:57.480 --> 00:12:01.810\nNow, on the router 1,\nwe've set up authentication, right?\n\n234\n00:12:01.810 --> 00:12:03.770\nWe've set up a key, we need that.\n\n235\n00:12:03.770 --> 00:12:07.010\nOn router 2, I'm just pointing to\nthe server, no authentication.\n\n236\n00:12:07.010 --> 00:12:09.177\nSo if I do a show clock,\nwhat am I gonna get?\n\n237\n00:12:10.420 --> 00:12:12.318\nWell, it synchronized, right?\n\n238\n00:12:12.318 --> 00:12:14.117\nIt actually synchronized with the server,\n\n239\n00:12:14.117 --> 00:12:16.360\neven though I haven't put\nin the authentication key.\n\n240\n00:12:16.360 --> 00:12:17.130\nNow why is that?\n\n241\n00:12:17.130 --> 00:12:20.370\nWell, ntp does some weird\nstuff with authentication.\n\n242\n00:12:20.370 --> 00:12:23.970\nAnd in this case,\nwhat it's doing is basically,\n\n243\n00:12:23.970 --> 00:12:27.390\nit's saying, I'm not authenticated.\n\n244\n00:12:27.390 --> 00:12:30.550\nI can't verify the authenticity\nof that server, but\n\n245\n00:12:30.550 --> 00:12:32.810\nI'm still gonna sync my clock to it,\nright?\n\n246\n00:12:32.810 --> 00:12:35.490\nSo I'm getting time from\nan untrusted source.\n\n247\n00:12:35.490 --> 00:12:38.730\nAnd that's kind of what ntp does,\nis you'll still authenticate, I mean,\n\n248\n00:12:38.730 --> 00:12:42.560\nyou won't authenticate, but you'll still\nget the time, but it's not verified.\n\n249\n00:12:42.560 --> 00:12:46.880\nSo it's not a foolproof method, it's\nnot gonna stop you from authenticating.\n\n250\n00:12:46.880 --> 00:12:52.690\nYou'll still see the time, but you're not\nable to verify it's from a trusted source.\n\n251\n00:12:52.690 --> 00:12:55.451\nSo if we wanna verify that it is from\na trusted source, we need to go a step\n\n252\n00:12:55.451 --> 00:12:58.089\nfurther, and we need to add that\nauthentication key on the client.\n\n253\n00:12:58.089 --> 00:13:01.334\nSo on the client, I'm gonna get\nback into my configuration, and\n\n254\n00:13:01.334 --> 00:13:03.108\nwe're gonna add the key over here.\n\n255\n00:13:03.108 --> 00:13:06.575\nI'm gonna say ntp authentication-key 1.\n\n256\n00:13:06.575 --> 00:13:10.535\nAnd then I'm gonna provide the key.\n\n257\n00:13:10.535 --> 00:13:12.215\nAnd the number doesn't\nhave to match the server.\n\n258\n00:13:12.215 --> 00:13:13.673\nSo on the server, it happened to be key 1.\n\n259\n00:13:13.673 --> 00:13:18.840\nHere, it might be key 5, it doesn't really\nmatter as long as the key is what matches.\n\n260\n00:13:18.840 --> 00:13:23.922\nAnd so I’m gonna tell it that it’s an md5\nkey, and I’ll put in cisco123, all right?\n\n261\n00:13:23.922 --> 00:13:29.217\nNow, once I’ve got that in there,\nnow it’s got the key,\n\n262\n00:13:29.217 --> 00:13:32.690\nI need to tell it ntp trusted-key 1.\n\n263\n00:13:32.690 --> 00:13:35.714\nAnd if I used key 5 a minute ago,\nI’d say trusted-key 5 here,\n\n264\n00:13:35.714 --> 00:13:37.280\nthat does have to match.\n\n265\n00:13:37.280 --> 00:13:39.360\nSo I'm telling it that's\nthe key that I trust.\n\n266\n00:13:39.360 --> 00:13:43.130\nAnd I'll tell it ntp authenticate,\nall right?\n\n267\n00:13:43.130 --> 00:13:46.410\nSo now when I reach out to the server,\nI am going to authenticate.\n\n268\n00:13:46.410 --> 00:13:49.860\nI'm gonna make sure that that is\na valid server that I'm connecting to.\n\n269\n00:13:49.860 --> 00:13:57.330\nAnd from here, I can also say ntp server\n192.168.1.1, like we did a minute ago.\n\n270\n00:13:57.330 --> 00:14:01.600\nAnd I'm gonna add to that key 1.\n\n271\n00:14:01.600 --> 00:14:04.858\nAnd so now I know when I connect to that\nserver to send the key because I might\n\n272\n00:14:04.858 --> 00:14:06.620\nconnect to more than one server.\n\n273\n00:14:06.620 --> 00:14:09.600\nAnd I might have different keys for\neach server.\n\n274\n00:14:09.600 --> 00:14:10.879\nIf I didn't provide that,\n\n275\n00:14:10.879 --> 00:14:14.171\nthen every server would use the only\ntrusted key that I had, that one.\n\n276\n00:14:14.171 --> 00:14:16.793\nAnd here,\nwe can specify it on a per server basis so\n\n277\n00:14:16.793 --> 00:14:19.422\nthat's kind of nice if you\nreally wanna go crazy.\n\n278\n00:14:19.422 --> 00:14:24.087\nNow when I reach out to that server, I'm\ngonna reach out, and I'm gonna talk to it,\n\n279\n00:14:24.087 --> 00:14:28.228\nand when I do that, I'm gonna be doing\nit with this authentication key, so\n\n280\n00:14:28.228 --> 00:14:30.640\nI can verify that that\nis a trusted source.\n\n281\n00:14:30.640 --> 00:14:32.880\nThat is the server that I\nintended to talk to and\n\n282\n00:14:32.880 --> 00:14:35.080\nnot somebody that's masquerading as it.\n\n283\n00:14:35.080 --> 00:14:39.514\nAnd if I get out of my config,\nI can do a show clock.\n\n284\n00:14:39.514 --> 00:14:42.850\nAnd, well, I guess I already had the right\ntime, so that's not spectacular.\n\n285\n00:14:42.850 --> 00:14:45.710\nBut I can do a show ntp status.\n\n286\n00:14:45.710 --> 00:14:49.220\nAnd look at my status, and\nI can see my clock is synchronized.\n\n287\n00:14:49.220 --> 00:14:52.890\nNow, my stratum is showing a stratum 9,\nwhich is a little unusual, right?\n\n288\n00:14:52.890 --> 00:14:57.600\nSo I've got clock is synchronized,\nstratum 9, reference is 192.168.1.1.\n\n289\n00:14:57.600 --> 00:15:01.545\nI set my other clock up as the master,\nit should be stratum 0, right?\n\n290\n00:15:01.545 --> 00:15:04.590\nIt is the heart of the environment.\n\n291\n00:15:04.590 --> 00:15:08.450\nAnd so, I'm one hop away, I should\nbe showing a stratum 1, and I'm not.\n\n292\n00:15:08.450 --> 00:15:12.938\nIf I jump over to the server,\nwhich is just router 1 for me, and\n\n293\n00:15:12.938 --> 00:15:18.784\ndo a show ntp status, I can see that its\nclock is synchronized, it's stratum 8,\n\n294\n00:15:18.784 --> 00:15:23.403\nand it's reference is 127.127.1.1,\nwho is that?\n\n295\n00:15:23.403 --> 00:15:28.443\nWell, that's a loop back, right, anything\nthat starts with 127 is a loop back,\n\n296\n00:15:28.443 --> 00:15:30.720\nit's not just 127.0.0.1.\n\n297\n00:15:30.720 --> 00:15:34.461\nSo, in this case, it is its own reference,\nbut for some reason or another,\n\n298\n00:15:34.461 --> 00:15:36.107\nit thinks that it's stratum 8.\n\n299\n00:15:36.107 --> 00:15:39.950\nAnd that's more than likely because\nI synced to pull that ntp.org first.\n\n300\n00:15:39.950 --> 00:15:41.880\nAnd when I did that, those guys,\n\n301\n00:15:41.880 --> 00:15:46.880\nI probably was a ntp server from the core,\nso it bumped me up.\n\n302\n00:15:46.880 --> 00:15:50.900\nIf I reboot,\nthat should go back down to stratum 0.\n\n303\n00:15:50.900 --> 00:15:55.374\nOr I guess I could just set\nit stratum 1 for kicks, so\n\n304\n00:15:55.374 --> 00:16:00.077\nif I get in here and do that,\nif I say like ntp master 1.\n\n305\n00:16:00.077 --> 00:16:02.122\nNow my stratum is gonna change.\n\n306\n00:16:02.122 --> 00:16:05.330\nAnd so if I do a show ntp\nstatus it might take a moment.\n\n307\n00:16:05.330 --> 00:16:06.310\nBut there we go.\n\n308\n00:16:06.310 --> 00:16:11.274\nSee how I'm now showing as stratum 1 and\nthe reference is showing as .LOCL., right?\n\n309\n00:16:11.274 --> 00:16:13.080\nSo I am using myself.\n\n310\n00:16:13.080 --> 00:16:17.870\nAnd the next time these clients\nconnect and synchronize with me,\n\n311\n00:16:17.870 --> 00:16:20.760\nwhich probably won't happen right away.\n\n312\n00:16:20.760 --> 00:16:23.500\nLet me trigger it by\nreissuing the server command.\n\n313\n00:16:23.500 --> 00:16:27.890\nSo, I'm gonna a no server and then we'll\njust punch it right back again and\n\n314\n00:16:27.890 --> 00:16:29.440\nthat should cause it to\nauthentic right then.\n\n315\n00:16:30.550 --> 00:16:33.894\nAnd we should see that\nwe become stratum 2.\n\n316\n00:16:33.894 --> 00:16:37.730\nI'm showing as unsynchronized right now\ncuz I'm reaching out to that server.\n\n317\n00:16:37.730 --> 00:16:42.867\nAnd now I show as synchronized, stratum 2,\nand my reference is 192.168.1.1.\n\n318\n00:16:42.867 --> 00:16:44.779\nSo I'm reaching out to that one and\ngetting it.\n\n319\n00:16:44.779 --> 00:16:47.835\nOkay, so I am talking and\nI'm exchanging that information.\n\n320\n00:16:47.835 --> 00:16:53.310\nI can also do show ntp associations.\n\n321\n00:16:53.310 --> 00:16:55.430\nThat's another one where I can\nsee the servers I'm connected to.\n\n322\n00:16:55.430 --> 00:16:57.010\nSo if I'm connected to more than one.\n\n323\n00:16:57.010 --> 00:17:00.730\nAnd this is nice because right here,\nremember I said ntp tracks the delay?\n\n324\n00:17:00.730 --> 00:17:02.260\nI can see the delay right there.\n\n325\n00:17:02.260 --> 00:17:06.650\nSo it knows that delay\nis 32.126 milliseconds.\n\n326\n00:17:06.650 --> 00:17:11.552\nSo any time that I get from that server,\nI need to offset by 32.126 milliseconds\n\n327\n00:17:11.552 --> 00:17:14.800\ncuz that's the delay\nthe network is being created.\n\n328\n00:17:14.800 --> 00:17:17.060\nAnd that's how I get it\nback to the correct time.\n\n329\n00:17:17.060 --> 00:17:19.786\nSo if you need to be able to see\nthat information, we can see like,\n\n330\n00:17:19.786 --> 00:17:23.011\nhow often we're polling it, and\nhow far away it is reachability-wise, and\n\n331\n00:17:23.011 --> 00:17:25.170\nall that other good stuff,\nis right in here.\n\n332\n00:17:25.170 --> 00:17:28.709\nSo right now, it's a system peer,\nI'm connected to it, and the little tilde,\n\n333\n00:17:28.709 --> 00:17:30.850\nlet's me know that it's configured.\n\n334\n00:17:30.850 --> 00:17:35.900\nAll right, now aren't every server\ngoing to show as configured?\n\n335\n00:17:35.900 --> 00:17:37.600\nDoesn't that just make sense?\n\n336\n00:17:37.600 --> 00:17:40.578\nWell, you don't have to hard\nset NTP servers like this.\n\n337\n00:17:40.578 --> 00:17:44.135\nThere's actually a neat little feature\nthat most people don't use, which is,\n\n338\n00:17:44.135 --> 00:17:47.520\nyou can set up a time server so\nthat people don't have to query it.\n\n339\n00:17:47.520 --> 00:17:50.300\nWhere it just broadcasts out, right?\n\n340\n00:17:50.300 --> 00:17:52.974\nThink about like, there used to\nbe a phone number you could call.\n\n341\n00:17:52.974 --> 00:17:55.150\nIf you wanted to know what time it was,\nyou could call this phone number and\n\n342\n00:17:55.150 --> 00:17:59.478\nit would say at the sound of the beep,\nthe time is blah, blah, blah, beep, right?\n\n343\n00:17:59.478 --> 00:18:02.600\nSo anybody who wanted, could just\nlisten in and hear what time it was.\n\n344\n00:18:02.600 --> 00:18:04.480\nWell, your router can do that, too.\n\n345\n00:18:04.480 --> 00:18:06.920\nIt can just broadcast out the time.\n\n346\n00:18:06.920 --> 00:18:10.260\nAnd then, anybody out there who wants\nto know the time can just listen in and\n\n347\n00:18:10.260 --> 00:18:10.990\nhear that broadcast.\n\n348\n00:18:10.990 --> 00:18:13.302\nNow it's not broadcasting\nevery single second.\n\n349\n00:18:13.302 --> 00:18:15.360\nI think it's every 30 seconds by default.\n\n350\n00:18:15.360 --> 00:18:19.160\nBut it throws out that time on the network\nand other people can just listen and\n\n351\n00:18:19.160 --> 00:18:21.090\ncatch it and record it that way.\n\n352\n00:18:21.090 --> 00:18:24.290\nIf you wanna configure that,\nit’s done on the interface.\n\n353\n00:18:24.290 --> 00:18:28.680\nSo, if I look at my interfaces,\nI’ve got 192.168.1.1,\n\n354\n00:18:28.680 --> 00:18:32.110\nis the address I’m using,\nthat's my GigabitEthernet1/0.\n\n355\n00:18:32.110 --> 00:18:37.443\nIf I get into interface\ngi1/0 you can say NTP\n\n356\n00:18:37.443 --> 00:18:43.040\nbroadcast, and now I'm gonna broadcast\nthe time out on this interface.\n\n357\n00:18:43.040 --> 00:18:46.780\nAnd if you do a question mark on it,\nsee how it's got client?\n\n358\n00:18:46.780 --> 00:18:47.600\nYou can be the client.\n\n359\n00:18:47.600 --> 00:18:51.320\nYou can listen to NTP broadcast\non a particular interface.\n\n360\n00:18:51.320 --> 00:18:54.160\nYou can also hard set things\nlike a destination or\n\n361\n00:18:54.160 --> 00:18:58.550\na key if you wanna do the authentication\nkey on your broadcasts also.\n\n362\n00:18:58.550 --> 00:19:00.200\nNormally, if you're just broadcasting out,\n\n363\n00:19:00.200 --> 00:19:02.670\nthere's not a whole lot of\npoint in doing authentication.\n\n364\n00:19:02.670 --> 00:19:07.080\nBut now as soon as I do that,\nI'm broadcasting out on the line.\n\n365\n00:19:07.080 --> 00:19:09.380\nAnd I can go to any of my other devices,\n\n366\n00:19:09.380 --> 00:19:14.860\ndevices that support NTP broadcast at\nleast, and I can go to their interface.\n\n367\n00:19:14.860 --> 00:19:18.727\nSo if I look at this guy,\nit would be interface gi1/0.\n\n368\n00:19:18.727 --> 00:19:22.494\nSo I can get into gi1/0 and here,\n\n369\n00:19:22.494 --> 00:19:26.770\nI can say ntp broadcast client, right?\n\n370\n00:19:26.770 --> 00:19:28.740\nThere's where I can specify that client.\n\n371\n00:19:28.740 --> 00:19:31.240\nAnd now I'm listening for the broadcast.\n\n372\n00:19:31.240 --> 00:19:32.740\nI don't have to hard set a server.\n\n373\n00:19:32.740 --> 00:19:35.840\nI could have more than one server, or\nI could change out from one server to\n\n374\n00:19:35.840 --> 00:19:37.500\nanother, and\nI wouldn't have to reconfigure my clients.\n\n375\n00:19:37.500 --> 00:19:39.770\nThey're just listening for\na broadcast from somebody, and\n\n376\n00:19:39.770 --> 00:19:42.810\nas long as somebody's out there throwing\nit on the network, they'll hear it.\n\n377\n00:19:42.810 --> 00:19:44.990\nSo, it's a neat little feature of NTP.\n\n378\n00:19:44.990 --> 00:19:49.088\nA lot of people don't use it, but\nit's there, it works really well.\n\n379\n00:19:49.088 --> 00:19:50.995\nYou can get that set up and\nnow it's in place.\n\n380\n00:19:50.995 --> 00:19:54.700\nSo kinda interesting\nfunctionality there for it.\n\n381\n00:19:54.700 --> 00:19:56.855\nAll right, let's see,\ndid I leave anything out on that?\n\n382\n00:19:56.855 --> 00:19:59.986\nThere's some other things that go a little\nbit more advanced on this one, but\n\n383\n00:19:59.986 --> 00:20:02.850\nthat's probably really\nall we need right there.\n\n384\n00:20:02.850 --> 00:20:04.670\nWe saw setting up a NTP server.\n\n385\n00:20:04.670 --> 00:20:06.320\nWe saw setting up authentication so\n\n386\n00:20:06.320 --> 00:20:08.600\nwe can verify that the server\nis who it says it is.\n\n387\n00:20:08.600 --> 00:20:10.120\nWe saw where we could set up broadcasts.\n\n388\n00:20:10.120 --> 00:20:13.580\nSo a little more excitement than\nwhat you have with normal NTP.\n\n389\n00:20:13.580 --> 00:20:17.250\nBut the big advantage here is that you\nnow have an internal time source that\n\n390\n00:20:17.250 --> 00:20:17.950\nyou control.\n\n391\n00:20:17.950 --> 00:20:19.410\nYou're not relying on the Internet.\n\n392\n00:20:19.410 --> 00:20:22.040\nThere's no external attack that\ncan be perpetrated against this.\n\n393\n00:20:22.040 --> 00:20:24.280\nThat it's your own equipment.\n\n394\n00:20:24.280 --> 00:20:28.680\nAnd if I set all of my devices, all of\nmy phones, my desktops, my servers, my\n\n395\n00:20:28.680 --> 00:20:32.580\nrouters, my switches, all to synchronize\nfrom right here, anytime I wanna change or\n\n396\n00:20:32.580 --> 00:20:36.100\ncorrect the time, I just go right\nhere to this one place and change it.\n\n397\n00:20:36.100 --> 00:20:38.870\nEverybody else synchronizes and\nnow we're all in sync.\n\n398\n00:20:38.870 --> 00:20:41.860\nIt really is nice to\nhave all the phones and\n\n399\n00:20:41.860 --> 00:20:45.140\ndesktops where their clocks all\ndisplay the same information.\n\n400\n00:20:45.140 --> 00:20:46.580\nEmployees really do appreciate that.\n\n401\n00:20:46.580 --> 00:20:49.970\nAnd it's just neat functionality\nbaked right into the system.\n\n402\n00:20:49.970 --> 00:20:53.779\n>> All right, Don, well, thank you for\nintroducing us to that NTP,\n\n403\n00:20:53.779 --> 00:20:57.604\nthe Network Time Protocol, and\nhow to set up a server internally.\n\n404\n00:20:57.604 --> 00:21:01.387\nRemember that on the exam, even though\nyou might not get as in-depth as what Don\n\n405\n00:21:01.387 --> 00:21:05.228\nshowed you here, it is important that you\nactually know how to configure that NTP\n\n406\n00:21:05.228 --> 00:21:09.090\nmaster, as well as how you get a client\nto connect to that master as well.\n\n407\n00:21:09.090 --> 00:21:12.350\nAnd you wanna focus in on those\nparticular configurations too.\n\n408\n00:21:12.350 --> 00:21:16.024\nAlso, of course, the show commands are\nvery important, and the CCENT level you\n\n409\n00:21:16.024 --> 00:21:19.428\nhave to be able to actually know those\nshow commands, so make sure you check\n\n410\n00:21:19.428 --> 00:21:22.688\nthose out to verify that you are\nconnecting to the right server as well.\n\n411\n00:21:22.688 --> 00:21:27.590\nAnd don't get fooled by that 127.127.1.1.\n\n412\n00:21:27.590 --> 00:21:30.540\nA lot of us might look at that and go,\nI don't have clue where that's going.\n\n413\n00:21:30.540 --> 00:21:34.303\nBut remember, that's just another name for\nwell, your own loopback address, and\n\n414\n00:21:34.303 --> 00:21:38.210\nthat can actually kinda get a little bit\ntricky especially on the exam as well.\n\n415\n00:21:38.210 --> 00:21:40.800\nWell, that's a great place for\nus to end this episode then.\n\n416\n00:21:40.800 --> 00:21:44.020\nSigning off for ITProTV,\nI've been your host Ronnie Wong.\n\n417\n00:21:44.020 --> 00:21:44.990\n>> And I'm Don Pezet.\n\n418\n00:21:44.990 --> 00:21:47.946\n>> Stay tuned right here for\nmore CCENT shows.\n\n419\n00:21:47.946 --> 00:21:54.346\n[MUSIC]\n\n",
          "vimeoId": "175826992"
        },
        {
          "description": "In this episode, Ronnie and Don introduce Standard Access Control Lists (ACL).  They show it’s configuration and discuss it’s usage.  The guys discuss how to configure them logically first to help us to understand how they work.  They also emphasize that we can create standard numbered ACLs or named ACLs.  With the numbered ACLs, it is not easy to edit a misconfiguration—entire list must be removed, then recreated and applied, according to the guys.  With the named ACLs, it allows you to edit the ACLs entries easily.  The demonstrate the syntax on configuring it on the router.",
          "length": "2295",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-4-3-1-access_control_lists-072216-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-4-3-1-access_control_lists-072216-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-4-3-1-access_control_lists-072216-1-sm.jpg",
          "title": "Access Control Lists",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.189 --> 00:00:15.294\nWelcome back to another great\nepisode right here on ITProTV.\n\n3\n00:00:15.294 --> 00:00:19.920\nI'm your host, Ronnie Wong, and\nyou've tuned into the Cisco CCENT show.\n\n4\n00:00:19.920 --> 00:00:24.930\nWe're taking a look more now at\nAccess Control List a big, gigantic topic.\n\n5\n00:00:24.930 --> 00:00:26.240\nSomething you will be tested on.\n\n6\n00:00:26.240 --> 00:00:28.430\nBut who better to help us,\nthan Mr. Don Pezet.\n\n7\n00:00:28.430 --> 00:00:30.335\nDon, welcome back.\n>> Thanks for having me back Ronnie.\n\n8\n00:00:30.335 --> 00:00:33.760\nYeah, Access Control Lists are something\nthat, they always turn up on the exams.\n\n9\n00:00:33.760 --> 00:00:37.560\nAnd there's actually a couple of\ndifferent kinds of Access Control Lists.\n\n10\n00:00:37.560 --> 00:00:40.490\nAnd on the CCENT they start\nwith the most basic kind,\n\n11\n00:00:40.490 --> 00:00:43.840\nwhat's called a standard ACL,\nAccess Control List.\n\n12\n00:00:43.840 --> 00:00:47.080\nThe extended ones are the ones\nthey use the most in real life and\n\n13\n00:00:47.080 --> 00:00:49.850\nthose are on ccna exam not on the ccent.\n\n14\n00:00:49.850 --> 00:00:53.140\nSo that gives us a great\nopportunity to start with\n\n15\n00:00:53.140 --> 00:00:57.240\nthe standard acl of the more simple ones\nand that way we can make sure we learn our\n\n16\n00:00:57.240 --> 00:01:01.110\nfoundation we understand the topic before\nwe make it more complex for the next exam.\n\n17\n00:01:01.110 --> 00:01:04.920\nSo let's start with what the heck\nan access control list is.\n\n18\n00:01:04.920 --> 00:01:09.340\nWell, when you set up routers on\na network, we've seen it in our earlier\n\n19\n00:01:09.340 --> 00:01:12.920\nepisodes, that if a router has\nan interface on two different networks,\n\n20\n00:01:12.920 --> 00:01:16.290\nit can immediately route\nbetween those two networks.\n\n21\n00:01:16.290 --> 00:01:17.790\nThey're directly connected,\nit knows about it,\n\n22\n00:01:17.790 --> 00:01:19.790\nthey go on the routing table,\nit can route.\n\n23\n00:01:19.790 --> 00:01:22.290\nIf we throw a routing\nprotocol on top of it.\n\n24\n00:01:22.290 --> 00:01:23.820\nThey can route even more, right?\n\n25\n00:01:23.820 --> 00:01:26.810\nAll the networks they see in the routing\ntable, they can now forward.\n\n26\n00:01:26.810 --> 00:01:32.050\nBy default, a router will\nroute any traffic it receives.\n\n27\n00:01:32.050 --> 00:01:33.670\nIt doesn't care who it's from.\n\n28\n00:01:33.670 --> 00:01:38.200\nAs long as there's a valid source IP and\na valid destination IP, it will route it.\n\n29\n00:01:38.200 --> 00:01:41.340\nIt doesn't care if it's\nlegitimate traffic or hackers.\n\n30\n00:01:41.340 --> 00:01:44.730\nIt doesn't care if it's somebody that\nshould be allowed or should be on it,\n\n31\n00:01:44.730 --> 00:01:47.690\nit will forward everything.\n\n32\n00:01:47.690 --> 00:01:48.940\nAnd that may be what we want.\n\n33\n00:01:48.940 --> 00:01:52.650\nYou may want your router to forward\neverything, that's just default function.\n\n34\n00:01:52.650 --> 00:01:57.620\nBut we can use access control lists\nto influence that, to reach in and\n\n35\n00:01:57.620 --> 00:02:00.480\nsay, well,\nI wanna allow this traffic through, but\n\n36\n00:02:00.480 --> 00:02:02.670\nI don't wanna allow this\nother traffic through.\n\n37\n00:02:02.670 --> 00:02:05.940\nAnd you can be really specific or\nyou can be really generalized.\n\n38\n00:02:05.940 --> 00:02:08.940\nIt's kind of up to you\nhow you want to do it but\n\n39\n00:02:08.940 --> 00:02:13.895\nwe can get those lists put in and now we\ncan protect our network or influence it.\n\n40\n00:02:13.895 --> 00:02:17.320\nIt's like using your router as a firewall,\nright?\n\n41\n00:02:17.320 --> 00:02:18.490\nA firewall does the same thing.\n\n42\n00:02:18.490 --> 00:02:21.060\nIt filters traffic that's\npassing through the system.\n\n43\n00:02:21.060 --> 00:02:25.640\nThe big difference is that with a router,\nit's not like a firewall.\n\n44\n00:02:25.640 --> 00:02:28.670\nWhere firewalls are designed to look\nall the way up the OSI model, right?\n\n45\n00:02:28.670 --> 00:02:31.610\nEven all the way up to the application\nlayer to see what web browser you're using\n\n46\n00:02:31.610 --> 00:02:34.220\nwhen you browse, they can look and\nsee stuff like that.\n\n47\n00:02:34.220 --> 00:02:35.040\nA router doesn't.\n\n48\n00:02:35.040 --> 00:02:36.320\nWhat does a router look at?\n\n49\n00:02:36.320 --> 00:02:39.550\nWell, it sees layer two data,\ncuz it's got to translate that.\n\n50\n00:02:39.550 --> 00:02:42.770\nBut layer three data is what it's\nreally looking at, source and\n\n51\n00:02:42.770 --> 00:02:44.500\ndestination IP address.\n\n52\n00:02:44.500 --> 00:02:47.400\nWell, router can look at layer four,\nTCP and\n\n53\n00:02:47.400 --> 00:02:49.840\nUDP, and layer five and\nsee some session information.\n\n54\n00:02:49.840 --> 00:02:52.030\nBut they really don't go beyond that.\n\n55\n00:02:52.030 --> 00:02:55.790\nLayer five is about the highest in the OSI\nmodel that they're gonna reach up.\n\n56\n00:02:55.790 --> 00:02:58.460\nWith Access Control Lists,\nwe can step in and\n\n57\n00:02:58.460 --> 00:03:00.980\nuse that information to make decisions.\n\n58\n00:03:00.980 --> 00:03:02.450\nA standard ACL,\n\n59\n00:03:02.450 --> 00:03:07.200\nthe one that we're gonna write,\npays attention to your source IP address.\n\n60\n00:03:07.200 --> 00:03:11.010\nSo for any traffic that comes through,\nany packet that we're looking at passing\n\n61\n00:03:11.010 --> 00:03:14.830\nthrough the network, it's going to look\nat the source IP and make a decision.\n\n62\n00:03:14.830 --> 00:03:17.110\nIs that traffic allowed or is it blocked?\n\n63\n00:03:17.110 --> 00:03:19.420\nIt's permit and\ndeny is the official terminology.\n\n64\n00:03:19.420 --> 00:03:22.660\nDo I permit the traffic through or\ndo I deny the traffic.\n\n65\n00:03:22.660 --> 00:03:25.530\nOkay.\nNow, what happens if I deny the traffic?\n\n66\n00:03:25.530 --> 00:03:27.680\nWe just throw it away we throw it away and\nthat's it.\n\n67\n00:03:27.680 --> 00:03:32.440\nSo if my laptop is on the deny list,\nand I start sending traffic,\n\n68\n00:03:32.440 --> 00:03:35.510\nmy source IP is on the deny list,\nthe router sees it and\n\n69\n00:03:35.510 --> 00:03:38.970\nthrows it away, my laptop is sitting\nhere saying what the heck is going on?\n\n70\n00:03:38.970 --> 00:03:40.140\nI'm not getting any replies back.\n\n71\n00:03:40.140 --> 00:03:41.430\nWe don't even get a message back.\n\n72\n00:03:41.430 --> 00:03:43.310\nThat's it, it just gets thrown away.\n\n73\n00:03:43.310 --> 00:03:45.980\nSo we wait for\nour session to time out and then it ends.\n\n74\n00:03:45.980 --> 00:03:48.670\nThat's all that happens, and we get\nthat we can't connect to the network or\n\n75\n00:03:48.670 --> 00:03:50.860\nwhatever error it is you\nget on your machine.\n\n76\n00:03:50.860 --> 00:03:54.360\nBut that means I was trying to\naccess some system that I shouldn't\n\n77\n00:03:54.360 --> 00:03:55.830\nhave been allowed to get to, right?\n\n78\n00:03:55.830 --> 00:04:00.630\nThat's kind of the whole point is that we\ncan control who can get to what networks.\n\n79\n00:04:00.630 --> 00:04:02.360\nSo for example.\n\n80\n00:04:02.360 --> 00:04:05.530\nSo let's take a look at my topology\nhere that I've been using for our labs.\n\n81\n00:04:05.530 --> 00:04:08.070\nAnd I've got router 6 way\nover here in the corner.\n\n82\n00:04:08.070 --> 00:04:11.840\nAnd say our router 6 is plugged\ninto this 172.16.0.0 network.\n\n83\n00:04:11.840 --> 00:04:14.280\nLet's pretend for a moment that\nthat's my server room, right?\n\n84\n00:04:14.280 --> 00:04:17.950\nThis is where all of my servers are and\nthey're on this 172.16 network.\n\n85\n00:04:17.950 --> 00:04:22.870\nAnd out and about in my environment,\nI've got all these little clouds.\n\n86\n00:04:22.870 --> 00:04:27.850\nAnd when I look at those clouds some\nof them like the 192.168.0.0 here.\n\n87\n00:04:27.850 --> 00:04:31.560\nMaybe that's one of my branch offices or\n\n88\n00:04:31.560 --> 00:04:33.510\nsome network that's\nreally important to me.\n\n89\n00:04:33.510 --> 00:04:36.400\nMeanwhile other networks\nlike this one right here,\n\n90\n00:04:36.400 --> 00:04:40.370\nthat might be a metro ethernet\nnode that's controlled by my ISP.\n\n91\n00:04:40.370 --> 00:04:44.490\nAnd so I don't want the ISP to be\nable to get to my server room.\n\n92\n00:04:44.490 --> 00:04:48.670\nBut I do want my branch office to\nbe able to get to the server room.\n\n93\n00:04:48.670 --> 00:04:54.700\nSo I can create an access list that\nallowed some IP's and didn't allow others.\n\n94\n00:04:54.700 --> 00:04:59.287\nSo if I wanna allow 192 168 00 and\nI want to deny 192 168 1.0,\n\n95\n00:04:59.287 --> 00:05:03.403\nI can create an access list\nthat does that, right?\n\n96\n00:05:03.403 --> 00:05:06.690\nNow Let's not think about\nthe commands just yet,\n\n97\n00:05:06.690 --> 00:05:08.480\nlet's think about the concept, okay?\n\n98\n00:05:08.480 --> 00:05:10.200\nSo, if I wanna create an ACL, right?\n\n99\n00:05:10.200 --> 00:05:12.900\nSo, these suppose to be my ACL example.\n\n100\n00:05:12.900 --> 00:05:16.530\nSo, I might create a line/my first line,\nright?\n\n101\n00:05:16.530 --> 00:05:21.430\nSo, line 1 might say that I\nwant to permit 192.168.0.0/24\n\n102\n00:05:21.430 --> 00:05:27.000\nthat's my branch office,\nI want to allow that.\n\n103\n00:05:27.000 --> 00:05:35.870\nAnd my second line might say to deny\n192.168.1.0/24, that's the ISP.\n\n104\n00:05:35.870 --> 00:05:41.570\nSo I've got my branch office and\nI've got my ISP.\n\n105\n00:05:41.570 --> 00:05:43.959\nSo now I'm kind of setting up\nwhat I'm trying to achieve.\n\n106\n00:05:45.020 --> 00:05:49.160\nWhen you create an Access Control List\nlike it's name implies access control,\n\n107\n00:05:49.160 --> 00:05:52.640\nwhere we're eliminating who can do what,\nand then list, it's a list,\n\n108\n00:05:52.640 --> 00:05:54.460\na list of rules.\n\n109\n00:05:54.460 --> 00:05:57.780\nEach of these lines\nare basically a rule for\n\n110\n00:05:57.780 --> 00:05:59.230\nwhat traffic we're going to allow and\ndeny.\n\n111\n00:05:59.230 --> 00:06:03.810\nAnd that rule is actually\ncalled an access control entry.\n\n112\n00:06:03.810 --> 00:06:05.240\nOr an ACE.\n\n113\n00:06:05.240 --> 00:06:10.550\nSo you've got ACL which\nis Access Control List.\n\n114\n00:06:10.550 --> 00:06:15.530\nAnd ACE which is Access Control Entry,\nright?\n\n115\n00:06:15.530 --> 00:06:19.010\nSo an Access Control List is made\nup of many Access Control Entries.\n\n116\n00:06:19.010 --> 00:06:21.370\nIt can be as few as one,\nor it can be hundreds.\n\n117\n00:06:21.370 --> 00:06:23.570\nThey can be really, really big.\n\n118\n00:06:23.570 --> 00:06:27.360\nNow when we build these,\nwe build the list and\n\n119\n00:06:27.360 --> 00:06:30.580\nwe attach it to\nan interface on our router.\n\n120\n00:06:30.580 --> 00:06:34.410\nAnd the router will now apply\nthe traffic to the interface.\n\n121\n00:06:34.410 --> 00:06:36.620\nAnd you actually make\na choice when you apply it,\n\n122\n00:06:36.620 --> 00:06:39.720\nyou say is this applying to incoming\ntraffic or outgoing traffic.\n\n123\n00:06:39.720 --> 00:06:41.830\nRight, so\nit applies in a particular direction.\n\n124\n00:06:41.830 --> 00:06:44.950\nSo, if this is my incoming traffic,\nI would say as traffic comes in,\n\n125\n00:06:44.950 --> 00:06:46.750\nrun it through this list.\n\n126\n00:06:46.750 --> 00:06:50.270\nAnd if it matches something here\nthen we need to take an action.\n\n127\n00:06:50.270 --> 00:06:54.590\nNow, the bigger your list is,\nthe most work it is for\n\n128\n00:06:54.590 --> 00:06:56.890\nthe router to run the traffic\nthrough the list.\n\n129\n00:06:56.890 --> 00:07:00.680\nIf you have a firewall,\nfirewalls have hardware built in them,\n\n130\n00:07:00.680 --> 00:07:03.100\nspecifically designed to do this.\n\n131\n00:07:03.100 --> 00:07:07.100\nRouters have hardware build into\nthem specifically designed to route,\n\n132\n00:07:07.100 --> 00:07:08.550\nnot to filter.\n\n133\n00:07:08.550 --> 00:07:11.220\nAnd so the filtering can create\na little bit of a burden.\n\n134\n00:07:11.220 --> 00:07:14.740\nWell, the ACLs that we're gonna use in\nthis show were called standard ACLs and\n\n135\n00:07:14.740 --> 00:07:18.140\nmost Cisco routers can do standard\nACLs at near wire speeds so\n\n136\n00:07:18.140 --> 00:07:19.740\nyou can make them as bg as you want.\n\n137\n00:07:19.740 --> 00:07:22.830\nThe extended ones that you'll\nlearn about in the CCNA show,\n\n138\n00:07:22.830 --> 00:07:25.670\nthose are a little more intensive and so\nyou don't wanna make list that are really,\n\n139\n00:07:25.670 --> 00:07:28.620\nreally massive cuz it will start to\nhurt the performance of your router.\n\n140\n00:07:28.620 --> 00:07:31.780\nBut, for the ones that we use on this\nshow, you can go crazy with them.\n\n141\n00:07:31.780 --> 00:07:34.000\nRight?\nCreate as much as you want.\n\n142\n00:07:34.000 --> 00:07:38.800\nSo, when I create this Access Control\nList, I'm building up a list of rules.\n\n143\n00:07:38.800 --> 00:07:43.396\nAnd, the rules are applied in order,\nfrom top to bottom.\n\n144\n00:07:43.396 --> 00:07:47.605\nSo when traffic comes in,\nlets say that my source address is\n\n145\n00:07:47.605 --> 00:07:52.841\n192.168.1.55, so it takes my traffic and\nlooks at line 1.\n\n146\n00:07:52.841 --> 00:07:57.996\nAnd it says okay,\nam I in the 192.168.0.0/24 network?\n\n147\n00:07:57.996 --> 00:08:03.943\nWell no, I'm 192.168.1.25 or\nwhatever number I said a second ago.\n\n148\n00:08:03.943 --> 00:08:05.440\nSo it says nope, that's not a match.\n\n149\n00:08:05.440 --> 00:08:06.296\nI'll move to the next one.\n\n150\n00:08:06.296 --> 00:08:07.774\nAnd it moves to Line 2.\n\n151\n00:08:07.774 --> 00:08:12.710\nAnd Line 2 says all right\nare you in 192.168.1.0/24?\n\n152\n00:08:12.710 --> 00:08:13.930\nYes, yes I am.\n\n153\n00:08:13.930 --> 00:08:17.700\nAnd so it matches and\nit takes whatever action I define.\n\n154\n00:08:17.700 --> 00:08:18.900\nMy action is deny.\n\n155\n00:08:18.900 --> 00:08:21.357\nSo I want to deny the traffic,\ndon't let them through.\n\n156\n00:08:21.357 --> 00:08:23.900\nAnd I'm dropped, right?\n\n157\n00:08:23.900 --> 00:08:28.540\nBut it is applied in order and\nthat's really important because\n\n158\n00:08:28.540 --> 00:08:31.960\nI might have some problems\nwith the order of my lines.\n\n159\n00:08:31.960 --> 00:08:35.200\nThe main area where we have a problem\nis there's actually a secret line\n\n160\n00:08:35.200 --> 00:08:37.160\ndown at the bottom that we can't see.\n\n161\n00:08:37.160 --> 00:08:40.047\nThere's what's called\nan implicit Deny All.\n\n162\n00:08:40.047 --> 00:08:43.110\nIt's implied that there's\nthat there's this other line.\n\n163\n00:08:43.110 --> 00:08:48.540\nWhat if my source address is 192.168.2.25?\n\n164\n00:08:48.540 --> 00:08:54.110\nWell I don't match the first line and\nI don't match the second line.\n\n165\n00:08:54.110 --> 00:08:55.599\nSo what's left, what do I do?\n\n166\n00:08:56.780 --> 00:09:01.190\nWell the default is if you don't match\nany line in the axis control list,\n\n167\n00:09:01.190 --> 00:09:02.540\nit's gonna throw it away.\n\n168\n00:09:02.540 --> 00:09:05.609\nSo we can say there's a Line x, right,\n\n169\n00:09:05.609 --> 00:09:11.370\nthis unsung hero that's in\nthe background that just says Deny all.\n\n170\n00:09:11.370 --> 00:09:13.850\nIf you don't match the list,\nwe're gonna throw you out and\n\n171\n00:09:13.850 --> 00:09:15.770\nthat's the end of it, okay?\n\n172\n00:09:15.770 --> 00:09:18.630\nSo always be aware of that.\n\n173\n00:09:18.630 --> 00:09:22.390\nOn the exam they'll show you access lists,\nand they're only gonna show you the lines\n\n174\n00:09:22.390 --> 00:09:24.790\nthat you actually type,\nthe lines you see in the config.\n\n175\n00:09:24.790 --> 00:09:27.010\nYou never see this Deny all.\n\n176\n00:09:27.010 --> 00:09:28.200\nIt doesn't show up in the config.\n\n177\n00:09:28.200 --> 00:09:31.470\nIt doesn't show up in the show access\ndash list command or anything like that.\n\n178\n00:09:31.470 --> 00:09:33.690\nYou'll never see it,\nbut it is there, right?\n\n179\n00:09:33.690 --> 00:09:35.680\nIt is there and it is taking an action.\n\n180\n00:09:35.680 --> 00:09:40.150\nAnd this is a great way to get tripped up\non the exam because sometimes we can have\n\n181\n00:09:40.150 --> 00:09:43.750\naccess lists that are written in a way\nthat doesn't make a lot of sense.\n\n182\n00:09:43.750 --> 00:09:48.960\nFor example if I told you,\nhey I need an access list that\n\n183\n00:09:48.960 --> 00:09:56.229\nonly allows 192.168.1.0 to get\nthrough that network, right?\n\n184\n00:09:56.229 --> 00:09:57.810\nI only wanna allow that.\n\n185\n00:09:57.810 --> 00:10:00.036\nAnd so somebody comes in and writes\nan access list that looks like this.\n\n186\n00:10:00.036 --> 00:10:07.130\nThat says Permit 192.168 .1.0/24, okay?\n\n187\n00:10:07.130 --> 00:10:11.044\nDoes that line permit 192.168.1.0\nto get through the network?\n\n188\n00:10:11.044 --> 00:10:13.630\nYes, what about all the other networks?\n\n189\n00:10:13.630 --> 00:10:15.951\nWhat about 192.168.2.0 or 3.0?\n\n190\n00:10:15.951 --> 00:10:17.052\nWhat about those guys?\n\n191\n00:10:17.052 --> 00:10:17.819\n>> Denied.\n\n192\n00:10:17.819 --> 00:10:22.143\n>> They're denied and it's because there's\nthat extra line that we don't oops,\n\n193\n00:10:22.143 --> 00:10:23.868\nthat we don't see right there.\n\n194\n00:10:23.868 --> 00:10:26.418\nAnd it's denying everybody else.\n\n195\n00:10:26.418 --> 00:10:27.610\nAnd we could write that.\n\n196\n00:10:27.610 --> 00:10:31.070\nYou could actually create\na line here that said it, but\n\n197\n00:10:31.070 --> 00:10:35.200\nwhat would actually happen is you'd\nbe creating a line like that and\n\n198\n00:10:35.200 --> 00:10:37.820\nthere would still be\nthe other one that's there.\n\n199\n00:10:37.820 --> 00:10:40.780\nSo you're kind of just wasting resources\non the router by creating that extra line.\n\n200\n00:10:40.780 --> 00:10:43.410\nIt's already got that default behavior,\nokay?\n\n201\n00:10:43.410 --> 00:10:44.830\nSo we've always got to remember that.\n\n202\n00:10:44.830 --> 00:10:47.130\nYou also have to be really\ncareful if somebody says,\n\n203\n00:10:47.130 --> 00:10:48.610\nhey I need you to write a list.\n\n204\n00:10:48.610 --> 00:10:51.922\nMaybe I find out that Ronnie's\nlaptop has a virus on it and\n\n205\n00:10:51.922 --> 00:10:54.200\nhe's spamming the network with junk.\n\n206\n00:10:54.200 --> 00:10:57.490\nAnd so I'm like,\nboy I just need to block Ronnie's laptop.\n\n207\n00:10:57.490 --> 00:11:01.759\nSo I create an ACL and I put Line 1, and\n\n208\n00:11:01.759 --> 00:11:07.105\nI'll just say Deny Ronnie's laptop, right?\n\n209\n00:11:07.105 --> 00:11:09.260\nAnd we'd put it in by IP or whatever.\n\n210\n00:11:09.260 --> 00:11:15.230\nIf I just do that, here's my ACL, I'm\njust denying Ronnie, what's gonna happen?\n\n211\n00:11:15.230 --> 00:11:16.690\nNobody's gonna be able to talk.\n\n212\n00:11:16.690 --> 00:11:21.540\nNobody can talk because there's\nan implicit Deny all right after that.\n\n213\n00:11:21.540 --> 00:11:23.990\nSo no matter what my IP address is,\n\n214\n00:11:23.990 --> 00:11:28.280\nif I have Ronnie's laptop he'll match\nthis first line and he'll get blocked.\n\n215\n00:11:28.280 --> 00:11:32.070\nIf I don't have Ronnie's laptop though if\nI'm anybody else it won't match that line.\n\n216\n00:11:32.070 --> 00:11:35.190\nAnd it will move to the implicit line and\nit will block us.\n\n217\n00:11:35.190 --> 00:11:38.740\nSo we've always gotta be aware of that\nwhen we create an access control list\n\n218\n00:11:38.740 --> 00:11:40.455\nthere's that implicit Deny all.\n\n219\n00:11:40.455 --> 00:11:44.550\nAll right, now I've just been writing\nthese in kind of a conceptual way here,\n\n220\n00:11:44.550 --> 00:11:47.160\nnot actually using the commands\nwe're going to see on the router.\n\n221\n00:11:47.160 --> 00:11:49.670\nAnd the reason I'm doing that is there's\nanother thing we need to be aware of about\n\n222\n00:11:49.670 --> 00:11:51.420\nhow we list IPs.\n\n223\n00:11:51.420 --> 00:11:58.670\nBut let me show you how I would write this\nACL right here based on an actual need.\n\n224\n00:11:58.670 --> 00:12:01.443\nSo what I want to do, so for example,\n\n225\n00:12:01.443 --> 00:12:04.230\nRonnie, do you know what your\nlaptop's actual IP address is?\n\n226\n00:12:04.230 --> 00:12:06.481\nWe'll use your real IP,\nwe're gonna disclose it.\n\n227\n00:12:06.481 --> 00:12:07.332\n>> If I can find it.\n\n228\n00:12:07.332 --> 00:12:09.390\n[LAUGH]\n>> When I create an access control list,\n\n229\n00:12:09.390 --> 00:12:14.420\nyou start by saying access- list, and\nthen you assign it a number, right?\n\n230\n00:12:14.420 --> 00:12:19.210\nLet me switch over to an actual\nrouter here and I'll show you this.\n\n231\n00:12:19.210 --> 00:12:22.330\nWe'll do router 6.\n\n232\n00:12:22.330 --> 00:12:26.960\nAll right, so on router 6,\nlet me just get into good old router 6.\n\n233\n00:12:26.960 --> 00:12:32.440\nAnd I'm gonna get into configuration,\nand I'm gonna do access-list, all right?\n\n234\n00:12:32.440 --> 00:12:34.470\nWhen you create an access list,\n\n235\n00:12:34.470 --> 00:12:37.100\nthe next thing it wants you\nto do is to give it a number.\n\n236\n00:12:37.100 --> 00:12:40.870\nAccess lists have numbers assigned to\nthem, and the numbers are important.\n\n237\n00:12:40.870 --> 00:12:46.600\nOn the the CCENT exam, you're going\nto use standard access control lists.\n\n238\n00:12:46.600 --> 00:12:51.020\nAnd standard access control\nlists are numbered 1 through 99.\n\n239\n00:12:51.020 --> 00:12:56.632\nOr we have an expanded range of\n1300 through 1999, all right?\n\n240\n00:12:56.632 --> 00:13:00.062\nWhen these originally came out,\nyou only had 1 through 99.\n\n241\n00:13:00.062 --> 00:13:03.171\nAnd there were some companies\nout there that said, hey Cisco,\n\n242\n00:13:03.171 --> 00:13:06.460\nwe have more than 99 access lists,\nwhat do we do\"?\n\n243\n00:13:06.460 --> 00:13:09.496\nAnd Cisco said, put in more routers.\n\n244\n00:13:09.496 --> 00:13:11.430\n>> [LAUGH]\n>> [LAUGH] Which is good for them,\n\n245\n00:13:11.430 --> 00:13:13.600\nI suppose, but not good for\nus as the customer.\n\n246\n00:13:13.600 --> 00:13:15.760\nSo after a few years, they expanded it.\n\n247\n00:13:15.760 --> 00:13:20.488\nAnd instead of just 1 through 99,\nwe now also have 1300 through1999,\n\n248\n00:13:20.488 --> 00:13:23.190\nwhich is another 700 access lists.\n\n249\n00:13:23.190 --> 00:13:26.500\nSo now you can have up\nto 799 access lists.\n\n250\n00:13:26.500 --> 00:13:29.810\nThat'll probably cover you\nas far as standard ACLs go.\n\n251\n00:13:29.810 --> 00:13:31.260\nBut notice all these other ones, right?\n\n252\n00:13:31.260 --> 00:13:34.850\nWe've got extended ACLs,\nyou've got MAC address ACLs.\n\n253\n00:13:34.850 --> 00:13:36.580\nThat's for doing layer 2 filtering.\n\n254\n00:13:36.580 --> 00:13:40.600\nYou've got, I'm not seeing it,\nbut there's IPX/SPX access list.\n\n255\n00:13:40.600 --> 00:13:43.880\nThere's AppleTalk and DECnet,\nall these other protocols.\n\n256\n00:13:43.880 --> 00:13:47.260\nThere's some gaps in these numbers and\nthose would be protocols they've left off.\n\n257\n00:13:47.260 --> 00:13:50.000\nDepending on the feature set\nyou have on your router,\n\n258\n00:13:50.000 --> 00:13:51.340\nyou may not support some protocols.\n\n259\n00:13:51.340 --> 00:13:54.250\nSo if I don't have the enterprise\nfeature set then I can't do IPX /SPX or\n\n260\n00:13:54.250 --> 00:13:57.470\nI'm not gonna see their ACLs, all right?\n\n261\n00:13:57.470 --> 00:13:59.320\nBut we're gonna need to give it a number.\n\n262\n00:13:59.320 --> 00:14:01.000\nThere is actually a way to give it a name.\n\n263\n00:14:01.000 --> 00:14:04.350\nWe'll see that later on, but\nnormally it's going to be a number.\n\n264\n00:14:04.350 --> 00:14:06.210\nSo I'm just gonna create access-list 1.\n\n265\n00:14:06.210 --> 00:14:12.730\nAnd by giving it a number, the router\nnow knows that I'm doing a standard ACL.\n\n266\n00:14:12.730 --> 00:14:17.670\nStandard ACLs filter based\non source IP address alone.\n\n267\n00:14:17.670 --> 00:14:19.250\nAnd that's it,\nthat's the only thing they use for\n\n268\n00:14:19.250 --> 00:14:21.430\nfiltering is just the source address.\n\n269\n00:14:21.430 --> 00:14:26.280\nAn extended ACL can use the source\naddress, the destination address,\n\n270\n00:14:26.280 --> 00:14:28.860\nthe source protocol,\nthe destination protocol.\n\n271\n00:14:28.860 --> 00:14:32.485\nI could filter just Telnet traffic from\nRonnie's laptop going to this particular\n\n272\n00:14:32.485 --> 00:14:34.019\nserver, very advanced, right?\n\n273\n00:14:34.019 --> 00:14:36.480\nExtended ACLs are awesome.\n\n274\n00:14:36.480 --> 00:14:38.700\nBut on this exam they just want\nus to focus on standard and\n\n275\n00:14:38.700 --> 00:14:41.460\nstandard is just based on source IP.\n\n276\n00:14:41.460 --> 00:14:45.578\nNow just because extended ACLs are awesome\ndoesn't mean I always want to use them cuz\n\n277\n00:14:45.578 --> 00:14:47.630\nstandard ACLs are more efficient.\n\n278\n00:14:47.630 --> 00:14:48.780\nI'll get better performance.\n\n279\n00:14:48.780 --> 00:14:52.590\nSo anytime you can use\na standard ACL you should.\n\n280\n00:14:52.590 --> 00:14:56.460\nBut if you need something a little more\ngranular you'll end up going extended.\n\n281\n00:14:56.460 --> 00:14:59.540\nAnd more often than not I find myself\ngoing extended, but I always look for\n\n282\n00:14:59.540 --> 00:15:01.850\nthat opportunity to use\nstandard whenever I have it.\n\n283\n00:15:01.850 --> 00:15:04.880\nSo in my scenario,\nI wanna block Ronnie's laptop.\n\n284\n00:15:04.880 --> 00:15:07.540\nI don't want Ronnie to be able\nto communicate on my network.\n\n285\n00:15:07.540 --> 00:15:11.240\nAnd so I'm gonna use his\nsource IP address to block it.\n\n286\n00:15:11.240 --> 00:15:15.620\nSo I'm gonna say access-list 1, and\nthen you'll see where I can permit or\n\n287\n00:15:15.620 --> 00:15:16.760\nI can deny.\n\n288\n00:15:16.760 --> 00:15:19.860\nThere is a remark, which is where\nyou kind of put a note in the ACL,\n\n289\n00:15:19.860 --> 00:15:22.470\njust some text so you can remember\nwhat the heck you were doing.\n\n290\n00:15:22.470 --> 00:15:23.110\nI'm not gonna use that.\n\n291\n00:15:23.110 --> 00:15:24.600\nSo I'm gonna deny.\n\n292\n00:15:24.600 --> 00:15:26.650\nI want to deny Ronnie.\n\n293\n00:15:26.650 --> 00:15:29.115\nNow I need to put him in here and\nthere's a few ways to do it.\n\n294\n00:15:29.115 --> 00:15:33.500\nYou'll see I can do a hostname, right,\nif I have the DNS name for him.\n\n295\n00:15:33.500 --> 00:15:36.340\nOr I can do his IP address, or\n\n296\n00:15:36.340 --> 00:15:40.860\nI could say any, if I wanted to\nblock anybody, or I could say host.\n\n297\n00:15:40.860 --> 00:15:43.470\nWell host it says is a single address.\n\n298\n00:15:44.750 --> 00:15:46.570\nCan't I just do a single address here?\n\n299\n00:15:46.570 --> 00:15:47.518\nWell, yes and no.\n\n300\n00:15:47.518 --> 00:15:52.128\nYes you can, but\nwhen you do it here it doesn't know if\n\n301\n00:15:52.128 --> 00:15:56.951\nyou're talking about an entire network or\na single IP.\n\n302\n00:15:56.951 --> 00:16:01.030\nAnd so,\nyou have to clarify that by saying host.\n\n303\n00:16:01.030 --> 00:16:05.570\nIt knows I'm talking about a single IP,\nI'm just talking about Ronnie.\n\n304\n00:16:05.570 --> 00:16:08.050\nSo, I'm gonna say access-list 1,\ndeny host.\n\n305\n00:16:08.050 --> 00:16:09.127\nAnd then, Ronnie, what's your IP?\n\n306\n00:16:09.127 --> 00:16:12.590\n>> 10.1.230.195.\n\n307\n00:16:12.590 --> 00:16:13.180\n>> There we go.\n\n308\n00:16:13.180 --> 00:16:13.820\nRight there.\n\n309\n00:16:13.820 --> 00:16:18.040\nSo, I'm gonna deny Ronnie,\nand that's it, right?\n\n310\n00:16:18.040 --> 00:16:19.530\nSo now, I'm blocking his laptop.\n\n311\n00:16:19.530 --> 00:16:23.969\nIf I see any traffic that has\na source address of 10.1.230.195,\n\n312\n00:16:23.969 --> 00:16:25.050\nI'm gonna throw it away.\n\n313\n00:16:25.050 --> 00:16:29.710\nNow, if I stop right here,\nI'm blocking Ronnie.\n\n314\n00:16:29.710 --> 00:16:31.030\nI've achieved my goal.\n\n315\n00:16:31.030 --> 00:16:33.090\nI'm also blocking everybody else.\n\n316\n00:16:33.090 --> 00:16:38.310\nIf I do a show access-list,\nI can see the access list.\n\n317\n00:16:38.310 --> 00:16:39.780\nAnd see how it just shows the one deny?\n\n318\n00:16:39.780 --> 00:16:43.040\nIt doesn't show the implicit deny,\nbut it's there.\n\n319\n00:16:43.040 --> 00:16:44.240\nThere is an implicit deny.\n\n320\n00:16:44.240 --> 00:16:46.620\nEveryone else is being blocked.\n\n321\n00:16:46.620 --> 00:16:47.910\nSo I need to add to it.\n\n322\n00:16:47.910 --> 00:16:55.106\nI need to say access-list 1 permit any.\n\n323\n00:16:55.106 --> 00:16:57.940\nI'm permitting everyone else.\n\n324\n00:16:57.940 --> 00:16:58.810\nNow, I know what you're thinking.\n\n325\n00:16:58.810 --> 00:17:01.270\nHey, I just blocked Ronnie, but\nnow I'm permitting anybody.\n\n326\n00:17:01.270 --> 00:17:03.110\nDoesn't that include Ronnie?\n\n327\n00:17:03.110 --> 00:17:04.050\nYes, yes it does.\n\n328\n00:17:04.050 --> 00:17:06.340\nThat permit any does include Ronnie.\n\n329\n00:17:06.340 --> 00:17:11.830\nBut it's not a problem because\nthe access-list is applied in order.\n\n330\n00:17:11.830 --> 00:17:15.716\nSo, all the traffic that comes in will\nbe run against this first line which is,\n\n331\n00:17:15.716 --> 00:17:17.510\nthey number in 10, so it's line 10.\n\n332\n00:17:17.510 --> 00:17:18.940\nSo it's gonna apply\nagainst this first one.\n\n333\n00:17:18.940 --> 00:17:21.070\nSo if it is Ronnie, he's gonna deny.\n\n334\n00:17:21.070 --> 00:17:24.730\nHe's gonna get blocked, and\nit doesn't read the rest of the list.\n\n335\n00:17:24.730 --> 00:17:27.930\nThe first match you hit,\nthat's the one that applies.\n\n336\n00:17:27.930 --> 00:17:28.960\nEverything else is ignored.\n\n337\n00:17:30.100 --> 00:17:32.908\nIf it's somebody else,\nlike my laptop, I'm .21.\n\n338\n00:17:32.908 --> 00:17:35.376\nAnd so, 10.1.230.21 comes along,\n\n339\n00:17:35.376 --> 00:17:39.450\nit doesn't match this line, so\nit moves to the next, and I get permitted.\n\n340\n00:17:39.450 --> 00:17:40.330\nAnd now, I'm allowed through.\n\n341\n00:17:40.330 --> 00:17:42.070\nAnd if there were more lines,\nI'd ignore those.\n\n342\n00:17:42.070 --> 00:17:43.710\nI wouldn't hit those, right?\n\n343\n00:17:43.710 --> 00:17:47.300\nNow, we have to be really careful\nabout that because, all right,\n\n344\n00:17:47.300 --> 00:17:49.920\nI saw that Ronnie's machine was infected.\n\n345\n00:17:49.920 --> 00:17:51.535\nAnd then I find out that\nsomeone else in the office,\n\n346\n00:17:51.535 --> 00:17:52.861\ntheir machine's infected too, right?\n\n347\n00:17:52.861 --> 00:17:55.650\nAnd they're 10.1.230.196.\n\n348\n00:17:55.650 --> 00:18:03.143\nSo, I jump into this router real quick,\nand I say access-list 1 deny 10.1.230.196.\n\n349\n00:18:03.143 --> 00:18:05.463\nAll right?\nSo, I'm gonna deny them, too.\n\n350\n00:18:05.463 --> 00:18:10.105\nWell, I get access rule can't be\nconfigured at a higher sequence\n\n351\n00:18:10.105 --> 00:18:13.250\nnumber as it is part of the existing\nrule at sequence number 20.\n\n352\n00:18:13.250 --> 00:18:15.600\nWhat does that mean?\n\n353\n00:18:15.600 --> 00:18:21.010\nWell, when you add these rules,\nthey're being added in order.\n\n354\n00:18:21.010 --> 00:18:21.640\nI had line 10.\n\n355\n00:18:21.640 --> 00:18:23.450\nI had line 20.\n\n356\n00:18:23.450 --> 00:18:26.760\nI just tried to add line 30.\n\n357\n00:18:26.760 --> 00:18:30.310\nAnd so, when it tried to add line 30,\nit was trying to deny 10.1.230.196.\n\n358\n00:18:30.310 --> 00:18:33.356\nThe problem is line 20 is permit any.\n\n359\n00:18:33.356 --> 00:18:39.830\nSo, if 10.1.230.196 came along,\nit would match line 20 and be permitted.\n\n360\n00:18:39.830 --> 00:18:44.480\nIt would never have the chance to hit\nline 30 where it would be blocked.\n\n361\n00:18:44.480 --> 00:18:49.050\nAnd so, the rule would work, and\nthe router stopped me from doing that.\n\n362\n00:18:49.050 --> 00:18:51.700\nIf you're running a 15 point IoS,\nit'll do that.\n\n363\n00:18:51.700 --> 00:18:52.840\nYou'll get that warning.\n\n364\n00:18:52.840 --> 00:18:56.991\nIf you're running a 12.4 or earlier, and\nI know a lot of people think 12.4 is old.\n\n365\n00:18:56.991 --> 00:18:59.512\nRemember that Cisco went\nright from 12.4 to 15.0.\n\n366\n00:18:59.512 --> 00:19:00.130\nThey jumped.\n\n367\n00:19:00.130 --> 00:19:04.600\nAnd there are many 12.4s that are still\nsupported by Cisco right now,\n\n368\n00:19:04.600 --> 00:19:07.780\nso it's very realistic that\nyou'll encounter that.\n\n369\n00:19:07.780 --> 00:19:09.670\nIf you encounter a 12.4 system,\nit won't warn you,\n\n370\n00:19:09.670 --> 00:19:11.690\nit will let you make the mistake.\n\n371\n00:19:11.690 --> 00:19:14.620\nAnd so, now you've got\na rule in that doesn't work.\n\n372\n00:19:14.620 --> 00:19:17.870\nSo, the order of these\nrules is really important.\n\n373\n00:19:17.870 --> 00:19:22.770\nWell, if I know what I'm gonna be doing,\nif I know the ACL\n\n374\n00:19:22.770 --> 00:19:25.180\nexactly as I'm want o write it, and\nI'm not gonna need to change it,\n\n375\n00:19:25.180 --> 00:19:29.720\nI can just go in and put all the rule\nin in order and it works out great.\n\n376\n00:19:29.720 --> 00:19:30.622\nBut that never happens.\n\n377\n00:19:30.622 --> 00:19:32.266\nIt never happens in real life.\n\n378\n00:19:32.266 --> 00:19:33.428\nThings change, right?\n\n379\n00:19:33.428 --> 00:19:35.840\nAnd so, we need to go in and edit the ACL.\n\n380\n00:19:35.840 --> 00:19:39.280\nAnd when you go to edit the ACL the\nproblem is there's not a great way to do\n\n381\n00:19:39.280 --> 00:19:41.200\nit with numbered ACLs.\n\n382\n00:19:41.200 --> 00:19:44.338\nWith numbered ACLs,\nwhen I look at the running configuration\n\n383\n00:19:46.559 --> 00:19:49.036\nif I find the ACL,\nit'll be down towards the bottom.\n\n384\n00:19:49.036 --> 00:19:52.260\nI probably shoulda used of\nthe seek commands to find it but\n\n385\n00:19:52.260 --> 00:19:54.040\nit’ll turn up, there it is.\n\n386\n00:19:54.040 --> 00:19:57.450\nWhen it throws it in, see how there's\nno line numbers, or anything?\n\n387\n00:19:57.450 --> 00:20:00.750\nSo, there's no way for\nme to jump in there and reorganize these.\n\n388\n00:20:00.750 --> 00:20:04.640\nWhat you have to do is delete\nthe whole access list and\n\n389\n00:20:04.640 --> 00:20:07.345\nput it back in in the right order.\n\n390\n00:20:07.345 --> 00:20:08.785\nWell, that can be problematic.\n\n391\n00:20:08.785 --> 00:20:11.165\nIf I delete the ACL,\nall my protection is now gone.\n\n392\n00:20:11.165 --> 00:20:13.055\nAnd then, I've gotta re-write it.\n\n393\n00:20:13.055 --> 00:20:14.675\nAnd then, my protection is back again.\n\n394\n00:20:14.675 --> 00:20:17.325\nSo, what we normally end up doing,\nis creating a new ACL.\n\n395\n00:20:17.325 --> 00:20:20.525\nSo, anytime I want to change it,\nI create access list two.\n\n396\n00:20:20.525 --> 00:20:21.055\nOr three.\n\n397\n00:20:21.055 --> 00:20:21.865\nOr four.\n\n398\n00:20:21.865 --> 00:20:24.735\nAnd then I can switch over t,\nthe new ACL and delete the old one.\n\n399\n00:20:24.735 --> 00:20:26.670\nIt's a lot of work, right?\n\n400\n00:20:26.670 --> 00:20:30.530\nSo, a while back Cisco introduced\na different way to solve that.\n\n401\n00:20:30.530 --> 00:20:32.690\nIt also solved the limit of the numbers.\n\n402\n00:20:32.690 --> 00:20:37.030\nWith the numbers,\nI only had 799 possible standard ACLs.\n\n403\n00:20:37.030 --> 00:20:40.260\nSo, they introduced a system where,\ninstead of a number, we could use a name.\n\n404\n00:20:40.260 --> 00:20:41.910\nI could create a named ACL.\n\n405\n00:20:41.910 --> 00:20:45.990\nNow, I have a lot more than\n799 possible combinations.\n\n406\n00:20:45.990 --> 00:20:48.970\nAnd I can give it a name\nthat's meaningful, right?\n\n407\n00:20:48.970 --> 00:20:51.790\nI can control who's allowed\nto access something,\n\n408\n00:20:51.790 --> 00:20:54.610\nand the name of the ACL can\nreflect what that is, right?\n\n409\n00:20:54.610 --> 00:20:58.460\nSo, I might create an ACL and\n\n410\n00:20:58.460 --> 00:21:02.790\ngive it a name like Incoming Traffic so\n\n411\n00:21:02.790 --> 00:21:06.360\nI know that, this is the ACL that applies\nto any incoming traffic on this router.\n\n412\n00:21:06.360 --> 00:21:09.110\nOr I might call it outgoing LAN traffic or\nsomething like that.\n\n413\n00:21:09.110 --> 00:21:11.140\nYou can give it a name that's\nmeaningful to you, and\n\n414\n00:21:11.140 --> 00:21:14.990\nthat's a big deal because having them\nnamed does make it a lot easier.\n\n415\n00:21:14.990 --> 00:21:18.518\nThe other advantage about having it named\nis it gives you a chance to go in and\n\n416\n00:21:18.518 --> 00:21:19.190\nedit the ACL.\n\n417\n00:21:19.190 --> 00:21:23.880\nYou'll actually see the line numbers, and\nso you can change things based on that.\n\n418\n00:21:23.880 --> 00:21:28.220\nWhen I created an access list\na minute ago, I said access-list, and\n\n419\n00:21:28.220 --> 00:21:30.520\nthe very next thing is it\nmade me give it a number.\n\n420\n00:21:30.520 --> 00:21:34.514\nAnd if you look at the options in\nhere that's my only choice, okay?\n\n421\n00:21:34.514 --> 00:21:39.438\nBut if you do ip access-list and\nthen a question mark,\n\n422\n00:21:39.438 --> 00:21:46.298\nyou'll see where I can create extended and\nstandard ACLs without a number.\n\n423\n00:21:46.298 --> 00:21:47.948\nAll right?\nAnd the reasons it's doing it without\n\n424\n00:21:47.948 --> 00:21:50.570\na number is because I'm gonna\ngive it a name instead.\n\n425\n00:21:50.570 --> 00:21:54.480\nAnd when it was a number, the router could\nuse the number to identify whether it was\n\n426\n00:21:54.480 --> 00:21:55.940\nstandard or extended.\n\n427\n00:21:55.940 --> 00:21:58.190\nBut if I'm using a name, it has no idea.\n\n428\n00:21:58.190 --> 00:22:01.650\nAnd so, I have to tell it\nI'm creating a standard ACL.\n\n429\n00:22:01.650 --> 00:22:04.990\nAnd now, I can give it a number if\nI want to go that route, or a name.\n\n430\n00:22:04.990 --> 00:22:07.790\nNow, why would I give it a number here\n\n431\n00:22:07.790 --> 00:22:09.860\nanyway if I could have\ndone it the shorter way?\n\n432\n00:22:09.860 --> 00:22:15.990\nIf I give it a number here,\nI can say IP access-list standard two, and\n\n433\n00:22:15.990 --> 00:22:20.610\nthen I can come in and create a named ACL\nthat just happens to be named the number.\n\n434\n00:22:20.610 --> 00:22:23.400\nAnd now, I'll be able to edit it and\nrearrange it.\n\n435\n00:22:23.400 --> 00:22:24.880\nBut it you're gonna go to this trouble,\n\n436\n00:22:24.880 --> 00:22:26.850\nit's usually better to just go ahead and\ngive it a name.\n\n437\n00:22:26.850 --> 00:22:30.721\nAnd I'm gonna call mine incoming-traffic.\n\n438\n00:22:30.721 --> 00:22:31.690\nAll right?\n\n439\n00:22:31.690 --> 00:22:34.840\nSo, I'm now creating an ACL\ncalled incoming-traffic,\n\n440\n00:22:34.840 --> 00:22:38.090\nand my prompt changes to config-STD.\n\n441\n00:22:38.090 --> 00:22:42.108\nSo it's a standard named ACL, right?\n\n442\n00:22:42.108 --> 00:22:42.940\nNACL.\n\n443\n00:22:42.940 --> 00:22:45.770\nNow, I can start to put my lines in.\n\n444\n00:22:45.770 --> 00:22:49.990\nAnd when you put the lines in, you can\njust start by saying permit or deny and\n\n445\n00:22:49.990 --> 00:22:51.430\nit'll auto number them.\n\n446\n00:22:51.430 --> 00:22:55.180\nOr you can actually give\nthem your own number.\n\n447\n00:22:55.180 --> 00:22:56.820\nSo, lets repeat what we did a minute ago.\n\n448\n00:22:56.820 --> 00:23:02.090\nI can say I wanna deny Ronnie,\nwhich was 10.1.2, need to say\n\n449\n00:23:02.090 --> 00:23:07.538\ndeny host 10.1.230.195, all right?\n\n450\n00:23:07.538 --> 00:23:10.330\nAnd then permit any, right?\n\n451\n00:23:10.330 --> 00:23:14.000\nThat's the ACL that I created\na moment ago for Ronnie.\n\n452\n00:23:14.000 --> 00:23:18.232\nAnd if I get out of that,\nand I do a show access-list,\n\n453\n00:23:18.232 --> 00:23:22.853\nI've got two ACLs that\nare effectively the same, right?\n\n454\n00:23:22.853 --> 00:23:25.643\nThey both say deny 10.1.230.195.\n\n455\n00:23:25.643 --> 00:23:30.660\nThe only difference is this one\nhas a number, this one has a name.\n\n456\n00:23:30.660 --> 00:23:31.610\nRight?\n\n457\n00:23:31.610 --> 00:23:34.700\nBut with the numbered one,\nI wasn't able to come in and\n\n458\n00:23:34.700 --> 00:23:35.870\nadd that entry to block 196.\n\n459\n00:23:35.870 --> 00:23:39.560\nBut if I want to do it with a named ACL,\n\n460\n00:23:39.560 --> 00:23:43.890\nI can actually go in, and\nsee the big gap between these, 10 and 20?\n\n461\n00:23:43.890 --> 00:23:47.505\nI can do 11 or 12 or 14, 17, 18, 19.\n\n462\n00:23:47.505 --> 00:23:49.300\nAll the numbers in between.\n\n463\n00:23:49.300 --> 00:23:52.141\nAnd I can insert something\nin between the rules.\n\n464\n00:23:52.141 --> 00:23:55.849\nSo, if I go into that access list again,\n\n465\n00:23:55.849 --> 00:24:00.990\nif I say ip access-list\nstandard incoming-traffic.\n\n466\n00:24:00.990 --> 00:24:05.946\nAnd I get into the ACL,\nI could say 15 deny\n\n467\n00:24:05.946 --> 00:24:10.110\nhost 10.1.230.196.\n\n468\n00:24:10.110 --> 00:24:15.150\nNow, by giving it a number,\nI'm putting it in between lines 10 and 20.\n\n469\n00:24:15.150 --> 00:24:22.000\nAnd if I do a show access list, and\nI look at it, right there, it's in there.\n\n470\n00:24:22.000 --> 00:24:23.820\nNow, notice the way it's been written.\n\n471\n00:24:23.820 --> 00:24:27.505\nSee how line 15 is\nappearing before line 10?\n\n472\n00:24:27.505 --> 00:24:28.710\nWhy is that?\n\n473\n00:24:28.710 --> 00:24:32.510\nWell, there's actually something\ninteresting that happens on the back end,\n\n474\n00:24:32.510 --> 00:24:35.637\nand Cisco hasn't enlightened us\nas to exactly what's going on.\n\n475\n00:24:35.637 --> 00:24:39.897\nBut these ACLs, we write them in a way\nthat's human readable, and then the router\n\n476\n00:24:39.897 --> 00:24:44.380\ntakes them and compiles them so it can\nrun them in hardware as fast as possible.\n\n477\n00:24:44.380 --> 00:24:48.090\nAnd when it does that, there are times\nwhere it makes the decision to\n\n478\n00:24:48.090 --> 00:24:50.220\nrearrange the ACL to make it run faster.\n\n479\n00:24:50.220 --> 00:24:51.180\nAnd that's what's happening here,\n\n480\n00:24:51.180 --> 00:24:55.710\nis it's actually going to be applying\nline 15 first, for whatever reason.\n\n481\n00:24:55.710 --> 00:24:58.550\nIt's identified somehow,\nit's probably just the,\n\n482\n00:24:58.550 --> 00:25:01.960\nif I were to write this out in binary,\nwhere the bit difference is,\n\n483\n00:25:01.960 --> 00:25:06.170\nthat it's able to identify 196 faster\nthan it's able to identify 195.\n\n484\n00:25:06.170 --> 00:25:08.340\nSo you may see it rearrange like that.\n\n485\n00:25:08.340 --> 00:25:10.540\nBut the important structure is there.\n\n486\n00:25:10.540 --> 00:25:14.230\nAll my denies are up first, and\nmy permit is down at the bottom.\n\n487\n00:25:14.230 --> 00:25:16.460\nSo this ACL is gonna work\nthe way I intended it,\n\n488\n00:25:16.460 --> 00:25:20.375\nit's gonna block those two hosts,\nand it's gonna allow everybody else.\n\n489\n00:25:20.375 --> 00:25:22.650\nThr best part about a named ACL,\nthough, is that I can get in here and\n\n490\n00:25:22.650 --> 00:25:26.060\nI can edit this, and\nI never have to turn the ACL off.\n\n491\n00:25:26.060 --> 00:25:27.600\nIt's on and running the whole time,\n\n492\n00:25:27.600 --> 00:25:30.490\nand that means I never let\nmalicious traffic through.\n\n493\n00:25:30.490 --> 00:25:32.120\nI never had to turn off my security wall.\n\n494\n00:25:32.120 --> 00:25:34.590\nI tweaked it, and we get it,\nand we put it in place.\n\n495\n00:25:34.590 --> 00:25:38.700\nIt's kind of a nice thing to have, and get\neverything working the way that we want.\n\n496\n00:25:38.700 --> 00:25:39.240\nAll right?\n\n497\n00:25:39.240 --> 00:25:41.280\nAnd you can even add other things to it.\n\n498\n00:25:41.280 --> 00:25:46.410\nSo, when I did 10, or whatever,\nI can do nine and question mark.\n\n499\n00:25:46.410 --> 00:25:48.680\nAnd see I've got that deny and permit?\n\n500\n00:25:48.680 --> 00:25:52.360\nAnd you also have exit,\nwhich just gets you out of the ACL.\n\n501\n00:25:52.360 --> 00:25:55.400\nSo we can get in, and we can put in\neach of these different entries, and\n\n502\n00:25:55.400 --> 00:25:58.370\nbuild it up the way that we\nwant with the line numbers.\n\n503\n00:25:58.370 --> 00:26:01.230\nIf you leave the line number off,\nso if I just come through and\n\n504\n00:26:01.230 --> 00:26:03.250\nI say permit whatever and\n\n505\n00:26:03.250 --> 00:26:06.620\nI don't do a line number, it's just\ngonna add it to the end of the list.\n\n506\n00:26:06.620 --> 00:26:10.400\nSo, in this case, it would create line 30,\nand then 40, and 50, and so\n\n507\n00:26:10.400 --> 00:26:11.770\non just by adding it there.\n\n508\n00:26:11.770 --> 00:26:13.480\nSo, you don't have to do the numbers.\n\n509\n00:26:13.480 --> 00:26:16.280\nUsually, when I first create an ACL,\nI don't do the numbers.\n\n510\n00:26:16.280 --> 00:26:17.650\nSo just let it assign it.\n\n511\n00:26:17.650 --> 00:26:19.440\nBut then, anytime I go and edit the ACL,\n\n512\n00:26:19.440 --> 00:26:22.402\nI've gotta use the numbers to keep\nthe order the way that I want it.\n\n513\n00:26:23.662 --> 00:26:24.620\nAll right.\n\n514\n00:26:24.620 --> 00:26:28.230\nNow, when I created this ACL, and\nI'm gonna work with named ACLs the rest of\n\n515\n00:26:28.230 --> 00:26:32.620\nthe show because usually on the exam\nthe named ACLs are the ones that show up.\n\n516\n00:26:32.620 --> 00:26:33.825\nYou might see the other ones.\n\n517\n00:26:33.825 --> 00:26:36.920\nBut the other ones, just remember they're\nreally annoyingly difficult to edit\n\n518\n00:26:36.920 --> 00:26:39.470\ncuz you pretty much have to wipe\nout the ACL and recreate it.\n\n519\n00:26:39.470 --> 00:26:41.800\n>> Named ACLs are easier,\nthat's why they stress them on the exam.\n\n520\n00:26:42.940 --> 00:26:45.330\nSo, when I created this entry,\nand I came in and\n\n521\n00:26:45.330 --> 00:26:50.660\nI said I wanted to deny a host, I was\nsaying that I wanted to deny just Ronnie.\n\n522\n00:26:50.660 --> 00:26:56.980\nIf I had done his IP instead, if I had\nsaid I wanted to deny 10.1.230.195,\n\n523\n00:26:56.980 --> 00:27:02.000\nthe router doesn't know if I'm talking\nabout an individual host or a network.\n\n524\n00:27:02.000 --> 00:27:06.020\nWell, if I press Enter, it's gonna\nassume I'm talking about a host.\n\n525\n00:27:06.020 --> 00:27:09.570\nBut maybe I wasn't talking about a host,\nmaybe I was talking about a network.\n\n526\n00:27:09.570 --> 00:27:12.520\nSo, if you do a question mark,\nyou'll see where I could press Enter.\n\n527\n00:27:12.520 --> 00:27:15.870\nAnd If I press Enter, it's gonna\nassume I'm talking about a host.\n\n528\n00:27:15.870 --> 00:27:19.870\nOr I can type in Wildcard bits, all right?\n\n529\n00:27:19.870 --> 00:27:22.150\nNow, for those of you that have worked\nwith Cisco equipment for a while,\n\n530\n00:27:22.150 --> 00:27:25.840\nthis used to be called a wildcard mask,\nand now they've changed to wildcard bits.\n\n531\n00:27:25.840 --> 00:27:27.230\nAnd the reason is there was so\n\n532\n00:27:27.230 --> 00:27:32.110\nmuch confusion between how wildcard\nbits worked and how subnet masks worked.\n\n533\n00:27:32.110 --> 00:27:36.240\nAnd when the call them masks, wildcard\nmask, subnet mask, really confusing.\n\n534\n00:27:36.240 --> 00:27:42.320\nWildcard bits allow me to match\non parts of the IP address.\n\n535\n00:27:42.320 --> 00:27:45.380\nWhen we talk about subnet mask,\na subnet mast lets you do two things.\n\n536\n00:27:45.380 --> 00:27:50.080\nIt lets you see what's the network ID,\nand it lets you see what's the host ID.\n\n537\n00:27:50.080 --> 00:27:52.010\nSo, if I wanna block an entire network,\n\n538\n00:27:52.010 --> 00:27:54.690\nI probably don't care about this\npart that's Ronnie's host ID.\n\n539\n00:27:54.690 --> 00:27:56.630\nI probably care about this\npart that's the network ID.\n\n540\n00:27:56.630 --> 00:28:01.157\nI wanna block anybody whose\naddress starts with 10.1.230.\n\n541\n00:28:01.157 --> 00:28:01.979\nAll right?\nAnd so,\n\n542\n00:28:01.979 --> 00:28:05.350\nwe can do that easily with wildcard bits.\n\n543\n00:28:05.350 --> 00:28:09.660\nI can say the first three octets\nare all that I care about.\n\n544\n00:28:09.660 --> 00:28:12.790\nAnd the last octet,\nI really don't care what it is.\n\n545\n00:28:12.790 --> 00:28:15.080\nAnd the way we identify\nthat is through binary.\n\n546\n00:28:15.080 --> 00:28:19.107\nWhen we break a number up like this, let\nme go to my little notepad screen here.\n\n547\n00:28:19.107 --> 00:28:24.890\nSo, if I have a number like 192.168.0.1,\n192.168.0.55,\n\n548\n00:28:24.890 --> 00:28:31.331\nmaybe some other networks that are out\nthere, 192.168.10 10.200, right?\n\n549\n00:28:31.331 --> 00:28:35.162\nIf I were to convert these into binary,\nwell, they look a certain way, right?\n\n550\n00:28:35.162 --> 00:28:37.694\nThey have 32 ones and zeros.\n\n551\n00:28:37.694 --> 00:28:43.206\nSo, 192.168.0.1 would be,\n\n552\n00:28:43.206 --> 00:28:50.453\nwhat is that, 1100000.1010100 0?\n\n553\n00:28:50.453 --> 00:28:51.830\nFact check me on this one, Ronnie.\n\n554\n00:28:51.830 --> 00:28:52.610\nI think I'm right.\n\n555\n00:28:52.610 --> 00:28:53.110\n>> Yeah.\n\n556\n00:28:55.160 --> 00:28:58.389\n>> This is, when you do binary\nto decimal conversions or\n\n557\n00:28:58.389 --> 00:29:03.290\nvisa versa in your head, in a hurry,\nthere's always that chance for a mistake.\n\n558\n00:29:03.290 --> 00:29:04.253\nAll right.\n\n559\n00:29:04.253 --> 00:29:08.590\nSo, there's 192.168.0.1 written in binary.\n\n560\n00:29:08.590 --> 00:29:11.250\nAnd if I do the same for these other guys,\nthey'll be a little bit easier cuz they\n\n561\n00:29:11.250 --> 00:29:12.840\nall kinda start with the same thing,\nright?\n\n562\n00:29:12.840 --> 00:29:16.962\nThey all start with 192.168.something.\n\n563\n00:29:16.962 --> 00:29:18.740\nSo, I'm just gonna kinda paste that in.\n\n564\n00:29:19.860 --> 00:29:24.050\nThis guys a 10, though, so\nI need the 8-bit, and I need the 2-bit.\n\n565\n00:29:24.050 --> 00:29:26.890\nAnd then,\nwhy do I pick hard numbers, Ronnie?\n\n566\n00:29:26.890 --> 00:29:28.840\n55, and you know what,\nI'm gonna change these guys.\n\n567\n00:29:28.840 --> 00:29:30.789\nThis guy's gonna be 8.\n\n568\n00:29:30.789 --> 00:29:33.800\n>> [LAUGH]\n>> And this guy's gonna be 16.\n\n569\n00:29:33.800 --> 00:29:37.460\nSo, sometimes we can craft the numbers\nto make our life a little easier.\n\n570\n00:29:37.460 --> 00:29:43.250\nSo, let's see, that's gonna need the\n8-bit, and you are gonna need the 16-bit.\n\n571\n00:29:43.250 --> 00:29:44.330\nThere, all right.\n\n572\n00:29:44.330 --> 00:29:46.850\nSo, there's those three\nhosts written in binary.\n\n573\n00:29:46.850 --> 00:29:52.220\nWhen I give a subnet mask,\nlet's say these are all Class C's, right?\n\n574\n00:29:52.220 --> 00:29:53.515\nSo 255.255.255.0.\n\n575\n00:29:53.515 --> 00:29:58.970\nAnd so, that would be all these 1's,\nand then a zero.\n\n576\n00:29:58.970 --> 00:30:02.790\nOne of the key rules about\na subnet mask is a subnet mask,\n\n577\n00:30:02.790 --> 00:30:07.900\nthe one's are always on the left and\nthe zero's are always on the right.\n\n578\n00:30:07.900 --> 00:30:11.310\nSo, the network ID is always on the left,\nthe host ID is always on the right.\n\n579\n00:30:11.310 --> 00:30:15.220\nAnd so, when I match with the subnet mask,\nI can match an entire network.\n\n580\n00:30:15.220 --> 00:30:17.540\nAnd I can match a host ID if I want,\nbut that's it, right?\n\n581\n00:30:17.540 --> 00:30:18.450\nThose are kind of my limits.\n\n582\n00:30:18.450 --> 00:30:19.890\nThat's how it's going to work.\n\n583\n00:30:19.890 --> 00:30:22.910\nSo, if I wanna permit 192.168.0, whatever,\n\n584\n00:30:22.910 --> 00:30:28.241\nI can do that with the subnet mask, right?\n\n585\n00:30:28.241 --> 00:30:31.186\nBut what if I had branch offices, and\n\n586\n00:30:31.186 --> 00:30:36.033\nevery branch office was\n192.168 dot something, and\n\n587\n00:30:36.033 --> 00:30:40.514\nevery branch office had\na security camera at .200?\n\n588\n00:30:40.514 --> 00:30:47.720\nAnd so, I wanna write a list\nthat matches 192.168.1.200,\n\n589\n00:30:47.720 --> 00:30:54.242\n192.168.2.200, 192.168.3.200?\n\n590\n00:30:54.242 --> 00:30:55.775\nLike that, okay?\n\n591\n00:30:55.775 --> 00:31:00.065\nWell, these guys are not\nin the same network.\n\n592\n00:31:00.065 --> 00:31:01.605\nAnd I need them to start with 192.168.1.\n\n593\n00:31:01.605 --> 00:31:03.685\nAnd I need them to end with 200.\n\n594\n00:31:03.685 --> 00:31:06.975\nThe only part I don't care\nabout is the third octet.\n\n595\n00:31:06.975 --> 00:31:08.735\nCan a subnet mask do that for me?\n\n596\n00:31:08.735 --> 00:31:12.145\nCan I have ones for\nthe first two octets, zero for\n\n597\n00:31:12.145 --> 00:31:14.835\nthe third octet, and\nthen ones for the fourth octet?\n\n598\n00:31:14.835 --> 00:31:15.401\n>> No.\n>> No,\n\n599\n00:31:15.401 --> 00:31:17.160\nyou can't do that with a subnet mask.\n\n600\n00:31:17.160 --> 00:31:21.600\nSo, subnet masks don't lend themselves\nto being flexible enough to use with\n\n601\n00:31:21.600 --> 00:31:23.060\naccess lists.\n\n602\n00:31:23.060 --> 00:31:27.400\nSo, instead, Cisco created what\nare called wildcard bits, and\n\n603\n00:31:27.400 --> 00:31:29.290\nthey said instead of\nmatching on a network or\n\n604\n00:31:29.290 --> 00:31:33.110\nmatching on a host,\nyou can match on the raw bits themselves.\n\n605\n00:31:33.110 --> 00:31:37.810\nYou can say look for these bits,\nand just match on that.\n\n606\n00:31:37.810 --> 00:31:41.230\nAnd the way they do it is\nsimilar to a subnet mask.\n\n607\n00:31:41.230 --> 00:31:46.700\nBasically, they say anywhere you put a\nzero, that's something that has to match.\n\n608\n00:31:47.760 --> 00:31:50.500\nWe're demanding this number\nmatch a certain value.\n\n609\n00:31:50.500 --> 00:31:54.474\nAnd anywhere we put a 1, that's\nsomething that doesn't have to match,\n\n610\n00:31:54.474 --> 00:31:56.473\nthat can be whatever we want it to be.\n\n611\n00:31:56.473 --> 00:32:02.968\nSo, if I'm trying to get these guys,\nthe 192.168.0 network,\n\n612\n00:32:02.968 --> 00:32:08.644\nWhat I could do is I could use\na wildcard mask, or wildcard bits.\n\n613\n00:32:08.644 --> 00:32:10.920\nLet's use the right terminology.\n\n614\n00:32:10.920 --> 00:32:15.540\nAnd my wildcard bits, I would do\nzeros where I needed it to match.\n\n615\n00:32:15.540 --> 00:32:23.035\nI need them to start with 192.168.0 and\nthen ones where they don't have to match.\n\n616\n00:32:23.035 --> 00:32:27.998\nOkay, well, assuming this is\na standard class C-type solution,\n\n617\n00:32:27.998 --> 00:32:32.012\nlook at the wildcard bits\ncompared to the subnet mask.\n\n618\n00:32:32.012 --> 00:32:33.192\nThey're reversed.\n\n619\n00:32:33.192 --> 00:32:39.761\nThis would be 0.0.0.255\nversus 255.255.255.0.\n\n620\n00:32:39.761 --> 00:32:42.791\nSo in the early days when\npeople starting writing ACLs,\n\n621\n00:32:42.791 --> 00:32:45.701\nit was really just the subnet\nmask turned backwards.\n\n622\n00:32:45.701 --> 00:32:49.702\nAnd so that's what people started doing,\nis they would say hey,\n\n623\n00:32:49.702 --> 00:32:53.789\nI'm gonna write an ACL, and\nwhen I write that ACL, I want to deny.\n\n624\n00:32:53.789 --> 00:32:58.632\nHere, let me reset this list cuz\nmy list is getting a little messy.\n\n625\n00:32:58.632 --> 00:33:04.413\nSo I can say no 10, no 15 and no 20.\n\n626\n00:33:04.413 --> 00:33:06.889\nRight, so I'm just kind of wiping\nout the lines inside of this ACL.\n\n627\n00:33:06.889 --> 00:33:11.804\nSo I could come in and\nI could say deny 192.168.0.0,\n\n628\n00:33:11.804 --> 00:33:15.357\nand I want to deny that whole network,\nright?\n\n629\n00:33:15.357 --> 00:33:21.817\nAnd so instead of 255.255.255.0, I would\njust write 0.0.0.255, reversing it.\n\n630\n00:33:21.817 --> 00:33:24.720\nAnd so\nnow I'm denying the 192.168.0 network.\n\n631\n00:33:24.720 --> 00:33:28.322\nAnd then I could say permit 192.168.1.0,\n\n632\n00:33:28.322 --> 00:33:32.635\n0.0.0.255, right,\njust reversing the subnet mask.\n\n633\n00:33:32.635 --> 00:33:39.467\nIf I had a class B like 172.16,\nI could say permit 172.16.0.0 and\n\n634\n00:33:39.467 --> 00:33:46.009\ninstead of 255.255.0.0,\nI could say 0.0.255.255.\n\n635\n00:33:46.009 --> 00:33:49.139\nSo, if we're just\nreversing the subnet mask,\n\n636\n00:33:49.139 --> 00:33:54.079\nwhy bother having a different notation,\nwhy not just use the subnet mask?\n\n637\n00:33:54.079 --> 00:33:58.987\nAnd the reason is for scenarios\nlike this one where I wanna match\n\n638\n00:33:58.987 --> 00:34:01.867\non something in the middle, right?\n\n639\n00:34:01.867 --> 00:34:04.345\nOr more than one place\nthroughout the address.\n\n640\n00:34:04.345 --> 00:34:05.925\nI can't do that with a subnet mask.\n\n641\n00:34:05.925 --> 00:34:10.575\nIf I wanted to match these guys,\nI can actually write\n\n642\n00:34:10.575 --> 00:34:15.660\nan ACL that used a wildcard\nmask of 0.0.255.0.\n\n643\n00:34:15.660 --> 00:34:20.620\nAnd what I'm saying here is\nthe first two octets have to match,\n\n644\n00:34:20.620 --> 00:34:24.371\nyou've gotta start with the 192.168.\n\n645\n00:34:24.371 --> 00:34:26.590\nThe third octet can be whatever you want.\n\n646\n00:34:26.590 --> 00:34:29.730\nI don't care if it's 1, or 2, or\n3, that doesn't matter to me.\n\n647\n00:34:29.730 --> 00:34:34.010\nAnd then the fourth octet,\nit has to be .200.\n\n648\n00:34:34.010 --> 00:34:38.330\nSo now I'm matching just .200 at\nall of my branch offices, and so\n\n649\n00:34:38.330 --> 00:34:41.630\nI can create a rule that says only allow\nthese people to get to the security\n\n650\n00:34:41.630 --> 00:34:43.130\ncameras at all the branch offices.\n\n651\n00:34:43.130 --> 00:34:44.680\nAnd now we can restrict things.\n\n652\n00:34:44.680 --> 00:34:48.910\nAnd I worked for a bank years ago,\nand we did this with our ATM machines.\n\n653\n00:34:48.910 --> 00:34:50.917\nWe only wanted the servers to be\nable to get to the ATM machines.\n\n654\n00:34:50.917 --> 00:34:53.043\nWe didn't want the whole company\nbeing able to get to an ATM machine.\n\n655\n00:34:53.043 --> 00:34:58.190\nSo we used rules just like this to make\nsure that it just isolated the ATM.\n\n656\n00:34:58.190 --> 00:35:01.600\nAnd that's something you\ncan't do with a subnet mask.\n\n657\n00:35:01.600 --> 00:35:04.530\nSo we need wild card\nbits to do it instead.\n\n658\n00:35:04.530 --> 00:35:09.260\nAll right, now they'll take it\neasy on you on the CCENT exam and\n\n659\n00:35:09.260 --> 00:35:11.850\nit will usually be variations of class A,\nB, and C, and so\n\n660\n00:35:11.850 --> 00:35:15.510\nit will be reversing these\nsubnet masks for the most part.\n\n661\n00:35:15.510 --> 00:35:16.740\nBut know that you can do it this way.\n\n662\n00:35:16.740 --> 00:35:19.240\nAnd when you get to the CCNA,\nthat's where we get really hard.\n\n663\n00:35:19.240 --> 00:35:20.770\nWe do the variable length subnet masks and\n\n664\n00:35:20.770 --> 00:35:24.230\nyou end up with wildcard masks that\nlook like all sorts of crazy things.\n\n665\n00:35:24.230 --> 00:35:26.190\nWe'll see that in the CCNA show.\n\n666\n00:35:26.190 --> 00:35:30.320\nBut for now, understand that that's\nhow wildcard masks are used.\n\n667\n00:35:30.320 --> 00:35:33.502\nSo when I look at my topology,\nif I come in and\n\n668\n00:35:33.502 --> 00:35:37.630\nI have my router over here\nconnected to the server room and\n\n669\n00:35:37.630 --> 00:35:42.018\nI wanna start filtering out\nnetworks that are getting to it.\n\n670\n00:35:42.018 --> 00:35:47.478\nIf I want to allow 192.168.0.0 but\nI wanna block 192.168.1.0,\n\n671\n00:35:47.478 --> 00:35:50.587\nthen the ACL is going to\nlook something like this.\n\n672\n00:35:50.587 --> 00:35:53.561\nI'm going to come in and\n\n673\n00:35:53.561 --> 00:35:58.327\nlet me do no 10, no 20 and no 30.\n\n674\n00:35:58.327 --> 00:36:00.918\nAll right, I'm gonna block the ISP, right?\n\n675\n00:36:00.918 --> 00:36:04.458\nSo I'm going to say deny,\nI guess that would help.\n\n676\n00:36:04.458 --> 00:36:11.339\nAnd then I'm gonna say 192.168.1.0,\n0.0.0.255, right?\n\n677\n00:36:11.339 --> 00:36:16.216\nThe opposite of subnet mask, so\nanybody who starts with 192.168.1.0, or\n\n678\n00:36:16.216 --> 00:36:20.381\nanybody that starts with 192.168.1,\nis going to get blocked.\n\n679\n00:36:20.381 --> 00:36:23.573\nEverything else is gonna get blocked,\nalso.\n\n680\n00:36:23.573 --> 00:36:29.810\nSo now I can say permit any, and\neverybody else will get through, right?\n\n681\n00:36:29.810 --> 00:36:31.980\nAnd I can start listing other IPs and\nso on.\n\n682\n00:36:31.980 --> 00:36:35.300\nBut that wildcard bit,\nthat's important, right?\n\n683\n00:36:35.300 --> 00:36:36.630\nAnd that's different.\n\n684\n00:36:36.630 --> 00:36:38.290\nIt's easy to confuse with the subnet mask.\n\n685\n00:36:38.290 --> 00:36:39.998\nThat's why I'm stressing it so\nimportantly,\n\n686\n00:36:39.998 --> 00:36:41.884\nthat we need to make sure\nthat we keep that straight.\n\n687\n00:36:41.884 --> 00:36:47.804\nBut once we've got that in place, now\nI've got an access list that's written so\n\n688\n00:36:47.804 --> 00:36:52.869\nthat it will deny anybody\nwho starts with 192.168.1.0.\n\n689\n00:36:52.869 --> 00:36:56.660\nAnd it's gonna let everybody else through.\n\n690\n00:36:56.660 --> 00:36:58.214\nNow I'm running short on time but\n\n691\n00:36:58.214 --> 00:37:00.830\nwe still need to do a slightly\nmore complex access list.\n\n692\n00:37:00.830 --> 00:37:02.850\nSo we'll kinda flesh this\nout a little bit more.\n\n693\n00:37:02.850 --> 00:37:04.260\nBut we also need to see them in actions.\n\n694\n00:37:04.260 --> 00:37:07.310\nSo I've gotta show all you guys how to\nget them attached and how to use them.\n\n695\n00:37:07.310 --> 00:37:08.650\nBut we're gonna have to\ngo on to a part two for\n\n696\n00:37:08.650 --> 00:37:11.280\nthat cuz I just kinda run\non too long on this one.\n\n697\n00:37:11.280 --> 00:37:14.468\nBut it is important that we understand\nit because this is the foundation you're\n\n698\n00:37:14.468 --> 00:37:16.239\ngonna use to build onto\nwith extended ACLs.\n\n699\n00:37:16.239 --> 00:37:17.783\nAnd if you don't get this part right,\n\n700\n00:37:17.783 --> 00:37:19.820\nyou're really gonna screw\nup the extended ACLs.\n\n701\n00:37:21.050 --> 00:37:24.560\n>> Access lists are one of the most\nimportant things that you will end up\n\n702\n00:37:24.560 --> 00:37:26.970\nhaving to configure on a router,\nespecially in production.\n\n703\n00:37:26.970 --> 00:37:31.160\nGetting it wrong can cause problems and so\nthis is why you want to pay attention now,\n\n704\n00:37:31.160 --> 00:37:33.550\ngetting those foundational concepts down.\n\n705\n00:37:33.550 --> 00:37:36.530\nRemember that here Don showed us\nthe idea of creating a numbered,\n\n706\n00:37:36.530 --> 00:37:38.570\nas well as a named access list.\n\n707\n00:37:38.570 --> 00:37:40.969\nAnd you want to make sure also that\nyou understand the difference between\n\n708\n00:37:40.969 --> 00:37:41.568\npermit and deny.\n\n709\n00:37:41.568 --> 00:37:45.072\nAnd I know that sounds silly, but it's\nvery easy to gloss over that when you're\n\n710\n00:37:45.072 --> 00:37:48.601\nactually reading those access control\nlists, and think that it's all right.\n\n711\n00:37:48.601 --> 00:37:50.556\nBut make sure you take a look at each and\nevery line and\n\n712\n00:37:50.556 --> 00:37:53.510\nunderstand what we've actually\nbeen taking a look at here, too.\n\n713\n00:37:53.510 --> 00:37:55.470\nWell, that's a great place for\nus to end this episode then, and\n\n714\n00:37:55.470 --> 00:37:58.310\nwe're gonna come back for\na part two on Access Control Lists.\n\n715\n00:37:58.310 --> 00:38:01.620\nSigning off for ITProTV,\nI've been your host, Ronnie Wong.\n\n716\n00:38:01.620 --> 00:38:02.530\n>> And I'm Don Pezet.\n\n717\n00:38:02.530 --> 00:38:07.119\n>> Stay tuned right here for\nmore CCENT episodes.\n\n718\n00:38:07.119 --> 00:38:15.200\n[MUSIC]\n\n",
          "vimeoId": "175876441"
        },
        {
          "description": "In this episode, Ronnie and Don continue with Access Control Lists (ACL).  They move behind talking about the theory of the configuration to configuring it on a router and verifying it working too.  They also take the time to discuss some of the configuration pitfalls. The guys remind us to check the configuration and several details you need to master before CCENT.",
          "length": "2037",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-4-3-2-access_control_lists_pt.2-072216-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-4-3-2-access_control_lists_pt.2-072216-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-4-3-2-access_control_lists_pt.2-072216-1-sm.jpg",
          "title": "Access Control Lists Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.009 --> 00:00:10.009\n[MUSIC]\n\n2\n00:00:12.201 --> 00:00:15.046\nWelcome back to another great\nepisode right here on ITProTV.\n\n3\n00:00:15.046 --> 00:00:18.740\nI'm your host, Ronnie Wong, and\nyou've tuned into the Cisco CCENT show.\n\n4\n00:00:18.740 --> 00:00:23.780\nWe're actually in the middle of a part\ntwo on access control lists, and\n\n5\n00:00:23.780 --> 00:00:26.170\nwe have Mr. Don Pezet back with us,\nhelping us out here.\n\n6\n00:00:26.170 --> 00:00:27.460\nDon, welcome back to our studios.\n\n7\n00:00:27.460 --> 00:00:28.560\n>> Thanks for having me back, Ronnie.\n\n8\n00:00:28.560 --> 00:00:31.330\nWe've got to continue on with\nACLs because we really only got\n\n9\n00:00:31.330 --> 00:00:32.060\nthrough about half of it.\n\n10\n00:00:32.060 --> 00:00:34.050\nWe talked about how the ACLs\nare structured, and\n\n11\n00:00:34.050 --> 00:00:37.000\nI showed you guys how to write an ACL,\nbut we never actually put it in place.\n\n12\n00:00:37.000 --> 00:00:40.660\nSo we wrote an ACL, but it's doing\nnothing until we truly activate it and\n\n13\n00:00:40.660 --> 00:00:43.800\nget it up and running, so that's what\nwe're going to take a look at right here.\n\n14\n00:00:43.800 --> 00:00:47.290\nSo, let's back up a pace and\nlook at our topology.\n\n15\n00:00:47.290 --> 00:00:48.850\nAnd I want to show you what\nwe're going to try to achieve.\n\n16\n00:00:48.850 --> 00:00:50.360\nSo, here is my topology right now.\n\n17\n00:00:50.360 --> 00:00:56.545\nI've got router six way over here\nplugged in to the 172.16.0.0 network.\n\n18\n00:00:56.545 --> 00:01:01.660\nAnd I'm going to pretend\nthat is my server room.\n\n19\n00:01:01.660 --> 00:01:07.850\nAnd way over here on the left, I've got\nrouter 1 that has the 192.168.0 network,\n\n20\n00:01:07.850 --> 00:01:11.210\nand it's got the 192.168.1.0 network.\n\n21\n00:01:11.210 --> 00:01:16.272\nAnd I want to make sure\nthat the 192.168.1.0\n\n22\n00:01:16.272 --> 00:01:19.830\nnetwork cannot access my server room.\n\n23\n00:01:19.830 --> 00:01:24.590\nBut I want to make sure that the 192.168.0\nnetwork can access my server room.\n\n24\n00:01:24.590 --> 00:01:28.640\nAll right, so we're going to create\nACL's that build that in place.\n\n25\n00:01:28.640 --> 00:01:32.370\nNow, when we build the ACL,\nwe need to specify what we are doing.\n\n26\n00:01:32.370 --> 00:01:34.920\nAnd there is really two\napproaches to creating an ACL.\n\n27\n00:01:34.920 --> 00:01:41.170\nOne approach is to deny everything and\njust permit the things that are important.\n\n28\n00:01:41.170 --> 00:01:43.890\nThe other option is to\npermit everything and\n\n29\n00:01:43.890 --> 00:01:45.800\ndeny just the things that are important.\n\n30\n00:01:45.800 --> 00:01:48.530\nAnd the way you decide which route you're\ngoing to go on is which you have more of.\n\n31\n00:01:48.530 --> 00:01:50.670\nAm I going to be blocking\nmore things than permitting?\n\n32\n00:01:50.670 --> 00:01:53.700\nIf that's the case,\nI need to do the deny everything.\n\n33\n00:01:53.700 --> 00:01:57.170\nIf I'm permitting more things than I'm\ndenying, then I need to permit everything.\n\n34\n00:01:57.170 --> 00:02:01.160\nSo it's just trying to keep the list as\nsmall as possible, based on our own needs.\n\n35\n00:02:01.160 --> 00:02:05.550\nSo, for me, I'm really just denying\nthe 192.168.1.0 and that's it, and\n\n36\n00:02:05.550 --> 00:02:08.920\nI'm pretty much permitting\neverything else.\n\n37\n00:02:08.920 --> 00:02:13.360\nSo I'm going to write a list that is\ngoing to permit everything except for\n\n38\n00:02:13.360 --> 00:02:15.250\nthat one network.\n\n39\n00:02:15.250 --> 00:02:21.470\nIf this was a case of I was going to\nbe just permitting this one network and\n\n40\n00:02:21.470 --> 00:02:24.550\ndenying everything else, I would write\na list that was built like that.\n\n41\n00:02:24.550 --> 00:02:27.640\nAnd let me show you the difference\nof what I'm talking about, right?\n\n42\n00:02:27.640 --> 00:02:30.921\nSo, on router six, the way I could\nwrite this is two different ways.\n\n43\n00:02:30.921 --> 00:02:35.655\nSo let's say that my goal was just to deny\n\n44\n00:02:35.655 --> 00:02:40.401\nthe 192.168.1.0 network.\n\n45\n00:02:40.401 --> 00:02:43.675\nThat's my goal,\njust to deny that one network.\n\n46\n00:02:43.675 --> 00:02:48.570\nWell, when I get into the router,\nI can create a very simple ACL,\n\n47\n00:02:48.570 --> 00:02:54.267\nlike access List1, and\nif I just wanted to deny 192.168.1.0,\n\n48\n00:02:54.267 --> 00:03:00.510\nI could say deny 192.168.1.0\nwith a 0.0.0.255 subnet mask.\n\n49\n00:03:00.510 --> 00:03:07.980\nAnd oops, it helps if I get\ninto configuration first.\n\n50\n00:03:07.980 --> 00:03:11.650\nA lot of the config commands don't\nwork outside of configuration.\n\n51\n00:03:11.650 --> 00:03:13.540\nSo we'll get that thrown in,\nthere we go, all right.\n\n52\n00:03:13.540 --> 00:03:15.474\nSo now I've created that ACL.\n\n53\n00:03:15.474 --> 00:03:18.712\nAnd I also need to say,\naccess-list 1 permit any,\n\n54\n00:03:18.712 --> 00:03:22.220\notherwise everybody else\nis going to get denied.\n\n55\n00:03:22.220 --> 00:03:22.800\nOkay.\n\n56\n00:03:22.800 --> 00:03:28.640\nSo now what I've got is a list\nthat denies certain people and\n\n57\n00:03:28.640 --> 00:03:29.960\nallows everybody else through.\n\n58\n00:03:29.960 --> 00:03:31.950\nAll right, that's one way to write a list.\n\n59\n00:03:31.950 --> 00:03:36.140\nIf this were the opposite though,\nif I was just permitting one network and\n\n60\n00:03:36.140 --> 00:03:41.990\ndenying everybody else, then I might say\nsomething like access list 2 permit.\n\n61\n00:03:41.990 --> 00:03:46.130\nAnd I'm just going to permit\nthe 192.168.0.0 network.\n\n62\n00:03:46.130 --> 00:03:47.120\nSo I'll punch that in.\n\n63\n00:03:48.380 --> 00:03:50.890\nAnd then I'll stop right there.\n\n64\n00:03:50.890 --> 00:03:54.250\nI can stop right there because of\nthe implicit denial that's at the end.\n\n65\n00:03:54.250 --> 00:03:54.810\nRight.\n\n66\n00:03:54.810 --> 00:03:59.250\nSo now when I do a show access list,\nI've got two very different lists.\n\n67\n00:03:59.250 --> 00:04:04.630\nThe first one denies some people and\npermits everything else.\n\n68\n00:04:04.630 --> 00:04:07.700\nThe second list permits some people and\n\n69\n00:04:07.700 --> 00:04:12.050\nthen denies everything else,\ntwo different ways of writing the list.\n\n70\n00:04:12.050 --> 00:04:14.880\nYou might find you're in a 50-50 scenario,\nhalf the traffic you're permitting,\n\n71\n00:04:14.880 --> 00:04:16.860\nhalf you're denying, and then it really\ndoesn't matter which way you go,\n\n72\n00:04:16.860 --> 00:04:18.520\nyou just have to keep it\nstraight in your head.\n\n73\n00:04:18.520 --> 00:04:21.530\nBut normally we look at whichever one\nwe're going to do the most of, and\n\n74\n00:04:21.530 --> 00:04:22.950\nthat's how we build the list.\n\n75\n00:04:22.950 --> 00:04:28.630\nSo, in my scenario, I really just want\nto the block the 192.68.1.0 network.\n\n76\n00:04:28.630 --> 00:04:30.480\nI want to allow everything else through.\n\n77\n00:04:30.480 --> 00:04:33.980\nSo I'm going to be using a permit any\nstatement to allow everybody else in\n\n78\n00:04:33.980 --> 00:04:35.140\nlike this.\n\n79\n00:04:35.140 --> 00:04:37.840\nBut I'm also doing to do a name\nACL instead of another one.\n\n80\n00:04:37.840 --> 00:04:41.198\nSo I'm going to say IP access dash list.\n\n81\n00:04:41.198 --> 00:04:46.183\nStandard incoming-traffic.\n\n82\n00:04:46.183 --> 00:04:49.306\nSo I'm going to create an acl\ncalled incoming traffic.\n\n83\n00:04:49.306 --> 00:04:53.060\nAnd I'm going to be placing it on\nrouter 6 to filter anything coming in\n\n84\n00:04:53.060 --> 00:04:54.800\nto limit that traffic.\n\n85\n00:04:54.800 --> 00:05:03.870\nAnd I'm going to start by saying\ndeny 192.168.0.0, sorry .1.0, right?\n\n86\n00:05:03.870 --> 00:05:06.010\nIf I go back to my diagram,\n\n87\n00:05:06.010 --> 00:05:10.181\nthe network that I'm wanting to block is\nthis network right here, 192.168.1.0.\n\n88\n00:05:10.181 --> 00:05:12.380\nI'm going to allow this network.\n\n89\n00:05:12.380 --> 00:05:16.070\nWell, I could allow it specifically, or\nI could just catch it with a permit any,\n\n90\n00:05:16.070 --> 00:05:18.270\nit's kind of up to me\nhow I want to do that.\n\n91\n00:05:18.270 --> 00:05:21.530\nSo when I go and say I'm going to deny it,\nI'm going to deny that network,\n\n92\n00:05:21.530 --> 00:05:26.330\nand then I'll put in the wild\ncard mask for that network.\n\n93\n00:05:26.330 --> 00:05:28.750\nNow I can just first enter,\nthat line is done.\n\n94\n00:05:28.750 --> 00:05:32.120\nBut because we're in a lab,\nI want to make sure this is working.\n\n95\n00:05:32.120 --> 00:05:38.500\nAnd so, I'm going to add one extra\nnote here, the word log, okay?\n\n96\n00:05:38.500 --> 00:05:42.570\nBy default, when traffic gets denied,\nit just gets thrown away, and that's it.\n\n97\n00:05:42.570 --> 00:05:45.900\nBut if I have the log keyword,\nnow when traffic gets denied,\n\n98\n00:05:45.900 --> 00:05:48.470\nit'll actually make a log entry,\nso I'll know that it happened.\n\n99\n00:05:48.470 --> 00:05:53.330\nNow, that seems like a good idea,\nat first glance and on paper it does.\n\n100\n00:05:53.330 --> 00:05:55.860\nBut if you do this on a production router,\n\n101\n00:05:55.860 --> 00:05:59.360\nremember that your router is moving\nthousands of packets per second.\n\n102\n00:05:59.360 --> 00:06:03.172\nAnd you're going to get denies all\nthroughout the day, just happens right?\n\n103\n00:06:03.172 --> 00:06:04.750\nI mean, that's the way things go.\n\n104\n00:06:04.750 --> 00:06:08.670\nSo, your logs will fill up with a ton\nof junk, and you don't want that.\n\n105\n00:06:08.670 --> 00:06:12.190\nSo, you want to be pretty sparing\nwith using the log command.\n\n106\n00:06:12.190 --> 00:06:15.090\nAnd usually denies aren't\nwhat we want to log.\n\n107\n00:06:15.090 --> 00:06:16.170\nIf somebody gets denied,\n\n108\n00:06:16.170 --> 00:06:18.640\nthat means it works the way it was\nsupposed to, they got blocked.\n\n109\n00:06:18.640 --> 00:06:21.390\nWe normally want to to log success.\n\n110\n00:06:21.390 --> 00:06:24.006\nI want to know when somebody's\nsuccessfully reached this network,\n\n111\n00:06:24.006 --> 00:06:27.040\nbecause maybe they weren’t supposed to,\nand now I at least have a record of it.\n\n112\n00:06:28.040 --> 00:06:31.690\nAll right, now, if I stop right here,\nI'm going to be in trouble.\n\n113\n00:06:31.690 --> 00:06:37.670\nSo, I want to add a permit any to\nthe end to permit everybody else.\n\n114\n00:06:37.670 --> 00:06:40.540\nRight now, everybody else is going to\nget through, I’m not going to log that.\n\n115\n00:06:40.540 --> 00:06:42.190\nBecause that is everybody else.\n\n116\n00:06:42.190 --> 00:06:47.030\nWell, normally I wouldn't log that but\nbecause this is on the show,\n\n117\n00:06:47.030 --> 00:06:49.520\nI probably want to see a record of\nwhen something is permitted, and\n\n118\n00:06:49.520 --> 00:06:52.530\nwhen it doesn't, so\nI can get an idea of what's going on.\n\n119\n00:06:52.530 --> 00:06:54.170\nSo I might want to change that.\n\n120\n00:06:54.170 --> 00:06:58.740\nNow, I do have to be careful here,\nif I just say permit any log like that, so\n\n121\n00:06:58.740 --> 00:07:01.000\nI get duplicate permit statement ignored.\n\n122\n00:07:01.000 --> 00:07:05.920\nIt's trying to create a new line,\nas opposed to replacing the existing line.\n\n123\n00:07:05.920 --> 00:07:08.920\nIf I do a show access-list,\n\n124\n00:07:08.920 --> 00:07:13.300\nI can see the access list that I'm\nwriting and that line is line 20.\n\n125\n00:07:13.300 --> 00:07:16.440\nSo instead of adding a new line,\nI can replace the existing one,\n\n126\n00:07:16.440 --> 00:07:19.920\nby saying 20 permit any log.\n\n127\n00:07:19.920 --> 00:07:23.160\nAnd it was actually smart\nenough to append it for\n\n128\n00:07:23.160 --> 00:07:25.880\nme, so it's already got it on there,\nit already knows what I was doing.\n\n129\n00:07:25.880 --> 00:07:29.430\nBut if I had written it this way,\nI wouldn't have got the error.\n\n130\n00:07:29.430 --> 00:07:30.360\nWell, I guess it's going\n\n131\n00:07:30.360 --> 00:07:32.630\nto throw me the error there because\nit's exactly duplicated now.\n\n132\n00:07:32.630 --> 00:07:36.890\nI could always remove the entry also,\nso no 20, and\n\n133\n00:07:36.890 --> 00:07:41.610\nI could say permit any log,\nall three result in the exact same thing.\n\n134\n00:07:41.610 --> 00:07:44.210\nI get what I want, but\nthis way at least I don't get an error.\n\n135\n00:07:44.210 --> 00:07:46.800\nSo now I've got the ACL\nwritten the way I want it,\n\n136\n00:07:46.800 --> 00:07:48.420\nit's going to block that one network.\n\n137\n00:07:48.420 --> 00:07:50.800\nAnd everything else is\ngoing to get through, okay?\n\n138\n00:07:50.800 --> 00:07:52.510\nNow, I haven't turned it on yet.\n\n139\n00:07:52.510 --> 00:07:56.548\nBefore I turn it on I want to verify\nthat I can communicate first, anyway.\n\n140\n00:07:56.548 --> 00:08:00.659\nAnd then this is Cisco's recommendation,\nwhen you configure a network,\n\n141\n00:08:00.659 --> 00:08:02.690\ndon't turn your ACLs on right away.\n\n142\n00:08:02.690 --> 00:08:05.649\nBuild your network, get everything set up,\nand test your network,\n\n143\n00:08:05.649 --> 00:08:08.710\nmake sure your network functions,\nthen turn on the ACL's.\n\n144\n00:08:08.710 --> 00:08:10.740\nBecause if you turn\nthe ACL's on right away and\n\n145\n00:08:10.740 --> 00:08:13.140\nsomething doesn't work,\nwhere's the problem?\n\n146\n00:08:13.140 --> 00:08:13.715\nCould be an ACL.\n\n147\n00:08:13.715 --> 00:08:16.990\nCould be layer one, layer two, could\nbe connectivity, could be IP address,\n\n148\n00:08:16.990 --> 00:08:18.470\ncould be any number of things.\n\n149\n00:08:18.470 --> 00:08:21.730\nSo if you leave the ACL's off,\nget you base network set up,\n\n150\n00:08:21.730 --> 00:08:24.030\nnow it's easier to troubleshoot,\nall right.\n\n151\n00:08:24.030 --> 00:08:25.170\nSo before I turn this on,\n\n152\n00:08:25.170 --> 00:08:28.660\nI'm just gonna make sure can I even\ncommunicate in the first place?\n\n153\n00:08:28.660 --> 00:08:30.440\nHere I am worried about this network,\n\n154\n00:08:30.440 --> 00:08:33.650\ngetting to my server room,\ncan it even get there in the first place?\n\n155\n00:08:33.650 --> 00:08:34.150\nI don't know.\n\n156\n00:08:35.230 --> 00:08:38.280\nAnd then this other network,\ncan it even get to my server?\n\n157\n00:08:38.280 --> 00:08:39.200\nI don't know.\n\n158\n00:08:39.200 --> 00:08:41.020\nSo I'm gonna jump to Router 1 and\nI'm gonna test that.\n\n159\n00:08:41.020 --> 00:08:43.429\nNow neat little thing about ping.\n\n160\n00:08:43.429 --> 00:08:46.670\nI'm gonna use the ping command\non Router 1 to test the network.\n\n161\n00:08:46.670 --> 00:08:50.775\nWhen you run ping on a router,\nso on Router 1 if I try and\n\n162\n00:08:50.775 --> 00:08:56.700\nping 172.16.0.0 or 172.16.0.6,\nthat's this router's interface.\n\n163\n00:08:56.700 --> 00:08:58.170\nIf I try and ping that,\n\n164\n00:08:58.170 --> 00:09:01.340\nwhat's gonna happen is my router's\ngonna look at its routing table and\n\n165\n00:09:01.340 --> 00:09:06.080\nit's gonna say which of my two\ninterfaces are closest to that network?\n\n166\n00:09:06.080 --> 00:09:08.690\nAnd it's gonna see that this\ninterface is the closest.\n\n167\n00:09:08.690 --> 00:09:13.570\nAnd so when it sends the ping\nthe source IP address of that ping\n\n168\n00:09:13.570 --> 00:09:15.830\nwill be the IP address on this interface.\n\n169\n00:09:15.830 --> 00:09:18.530\nBut with the pin command of the CISCO\nrouter you can actually tell it to use\n\n170\n00:09:18.530 --> 00:09:20.190\na different interface as the source so\n\n171\n00:09:20.190 --> 00:09:22.780\nI'm going tell it to use this\ninterface as the source.\n\n172\n00:09:22.780 --> 00:09:26.630\nAnd that's gonna be important here\nbecause my ACL is gonna be blocking\n\n173\n00:09:26.630 --> 00:09:29.680\ntraffic on this network and\nnot on this traffic.\n\n174\n00:09:29.680 --> 00:09:33.470\nSo if I'm using tell\na pin to troubleshoot,\n\n175\n00:09:33.470 --> 00:09:37.950\nI can use pin with a different source,\nto flip between blocked traffic and\n\n176\n00:09:37.950 --> 00:09:40.450\nallowed traffic, and\nthat's really super handy.\n\n177\n00:09:40.450 --> 00:09:45.760\nSo I'm gonna jump over to Router 1, and\non Router 1 we're gonna test this out.\n\n178\n00:09:45.760 --> 00:09:50.620\nSo on Router 1, if I do a,\nshow ip int brief.\n\n179\n00:09:50.620 --> 00:09:51.757\nI can see I've got two interfaces.\n\n180\n00:09:51.757 --> 00:09:57.160\nOne's on 192.168.0,\nthe other's on 192.168.1.\n\n181\n00:09:57.160 --> 00:10:01.814\nAnd if I just run ping 172.16.0.6.\n\n182\n00:10:01.814 --> 00:10:06.200\nI know I'm pinging that server network,\nbut which interface am I using?\n\n183\n00:10:07.210 --> 00:10:08.440\nI may not know.\n\n184\n00:10:08.440 --> 00:10:11.040\nIf all I have is visibility\nof this router right here,\n\n185\n00:10:11.040 --> 00:10:13.380\nI may not know which interface\nis considered closer.\n\n186\n00:10:13.380 --> 00:10:15.652\nI could probably look at the routing\ntable and it would tell me, right.\n\n187\n00:10:15.652 --> 00:10:20.940\nIf you do a show ip route,\nlike show ip route.\n\n188\n00:10:20.940 --> 00:10:22.750\nAnd then the IP you're about to ping.\n\n189\n00:10:22.750 --> 00:10:23.760\nIt'll tell you what route you'll use,\n\n190\n00:10:23.760 --> 00:10:25.610\nand that'll tell you\nthe interface it's gonna use.\n\n191\n00:10:25.610 --> 00:10:29.099\nSo I can see that mine's actually\ngonna go GigabitEthernet1/0.\n\n192\n00:10:29.099 --> 00:10:31.370\nSo it's kind of tucked away\nin all the metric there.\n\n193\n00:10:31.370 --> 00:10:35.360\nBut if I just wanna be certain,\nI can come through and I can say,\n\n194\n00:10:35.360 --> 00:10:39.460\nI'm gonna ping it and instead of\npressing Enter like I normally would do,\n\n195\n00:10:39.460 --> 00:10:43.290\nif you do a question mark you'll see\nthere's a source command you can provide.\n\n196\n00:10:43.290 --> 00:10:46.060\nActually, you know what, we don't have it.\n\n197\n00:10:46.060 --> 00:10:48.650\nIf I just run Ping,\nI would go into my Enhanced mode, but\n\n198\n00:10:48.650 --> 00:10:51.860\nI'm actually not in Privileged mode\nright now is what my problem is.\n\n199\n00:10:51.860 --> 00:10:58.742\nSo if I get into the Privileged prompt\nI can ping 172.16.0.6 and now when I do\n\n200\n00:10:58.742 --> 00:11:05.160\na question mark I get a lot more options\nincluding the one I want which is source.\n\n201\n00:11:05.160 --> 00:11:10.245\nAnd so if I type source, now I can tell it\nwhat interface I want to use as a Source\n\n202\n00:11:10.245 --> 00:11:15.187\nor I can just give it the straight up IP\naddress that I want to use as a source.\n\n203\n00:11:15.187 --> 00:11:20.926\nSo what I’m gonna do is,\nI’m gonna try and ping 172.16.0.6 and\n\n204\n00:11:20.926 --> 00:11:25.809\nfor my source I’m gonna use 192.168.0.1,\nokay?\n\n205\n00:11:25.809 --> 00:11:30.210\nNow looking at my router topology\nthat's this interface here.\n\n206\n00:11:30.210 --> 00:11:32.500\nI'll do 1.1 in a minute,\nthat's this other interface.\n\n207\n00:11:32.500 --> 00:11:37.774\nSo when I send that ping, it's sourcing\nit from the 192.168.0 network.\n\n208\n00:11:37.774 --> 00:11:38.453\nAnd if I try and\n\n209\n00:11:38.453 --> 00:11:42.662\nsource it from the 192.168.1 network\nI'm getting through also, all right?\n\n210\n00:11:42.662 --> 00:11:45.710\nThis is important, so now I know that\nI at least have base connectivity.\n\n211\n00:11:46.900 --> 00:11:51.040\nAnd now I can put the ACL in place and\ncontrol things.\n\n212\n00:11:51.040 --> 00:11:53.880\nNow putting an ACL in\nplace is a little tricky.\n\n213\n00:11:53.880 --> 00:11:56.300\nI find that when it comes\nto putting an ACL in place,\n\n214\n00:11:56.300 --> 00:11:58.670\na picture is worth 1,000 words.\n\n215\n00:11:58.670 --> 00:12:00.340\nYou need a picture so\n\n216\n00:12:00.340 --> 00:12:04.950\nthat you can understand how the flow\nof traffic is going to work here, okay?\n\n217\n00:12:04.950 --> 00:12:08.560\nWhen I apply an ACL,\nit gets attached to an interface.\n\n218\n00:12:08.560 --> 00:12:11.150\nAnd my router has three\ndifferent interfaces.\n\n219\n00:12:11.150 --> 00:12:14.280\nRight, and\nlet me switch my other one here.\n\n220\n00:12:14.280 --> 00:12:19.357\nThe router has three different interfaces,\nGi1/0, Gi0/0 and Fa2/0.\n\n221\n00:12:19.357 --> 00:12:19.919\nAll right.\n\n222\n00:12:19.919 --> 00:12:25.990\nAnd when I apply the ACL I have to tell\nit whether the traffic is coming in or\n\n223\n00:12:25.990 --> 00:12:27.950\nif the traffic is going out.\n\n224\n00:12:27.950 --> 00:12:30.560\nRight, incoming or outgoing.\n\n225\n00:12:30.560 --> 00:12:33.980\nNow my traffic is coming\nfrom way over here Router 1.\n\n226\n00:12:33.980 --> 00:12:35.400\nAnd it's crossing the network it actually\n\n227\n00:12:35.400 --> 00:12:37.110\nhas two different paths across\nthe network doesn't it?\n\n228\n00:12:37.110 --> 00:12:41.000\nAnd as it crosses the network\nit's gonna reach Router 6 and\n\n229\n00:12:41.000 --> 00:12:44.080\nthat traffic is going to come in Gi1/0 or\n\n230\n00:12:44.080 --> 00:12:48.920\nit could come in Fa2/0 and\nit's gonna come in\n\n231\n00:12:48.920 --> 00:12:53.150\nthose interfaces It's gonna rattle around\nthe routing table here inside the router.\n\n232\n00:12:53.150 --> 00:12:58.350\nAnd then it's gonna go out the GI0/0\ninterface on it's way over.\n\n233\n00:12:58.350 --> 00:12:59.310\nOkay?\n\n234\n00:12:59.310 --> 00:13:03.080\nSo when I apply the ACL,\nwhere do I put it?\n\n235\n00:13:03.080 --> 00:13:04.840\nWell, I've got a few different choices.\n\n236\n00:13:04.840 --> 00:13:07.733\nI can apply it as N on this interface.\n\n237\n00:13:07.733 --> 00:13:10.653\nI would have to apply it as N on this\nother interface too to make sure I got\n\n238\n00:13:10.653 --> 00:13:11.159\nthem both.\n\n239\n00:13:12.180 --> 00:13:15.550\nOr I could apply it as\nout on this interface.\n\n240\n00:13:15.550 --> 00:13:19.190\nNow, you might think to yourself,\nwell the path of least resistance here,\n\n241\n00:13:19.190 --> 00:13:23.610\nI can apply it one place versus two,\nthat's gonna be the best route, all right?\n\n242\n00:13:23.610 --> 00:13:24.769\nAnd you'd be wrong.\n\n243\n00:13:24.769 --> 00:13:28.360\n[LAUGH] It's not that you're wrong,\nit would work, right?\n\n244\n00:13:28.360 --> 00:13:28.990\nYou could do that.\n\n245\n00:13:28.990 --> 00:13:33.030\nBut we also wanna think about how\nefficient this is going to be.\n\n246\n00:13:33.030 --> 00:13:36.680\nIf I apply at as outgoing on this\ninterface, yes, it's going to work.\n\n247\n00:13:36.680 --> 00:13:40.670\nYes, I'm gonna block that traffic, it's\ngonna work the way that I wanna it, okay?\n\n248\n00:13:40.670 --> 00:13:43.390\nBut there's two little problems with it,\nokay?\n\n249\n00:13:43.390 --> 00:13:49.613\nProblem number one, this router has an IP\naddress on that interface 172.16.0.6.\n\n250\n00:13:49.613 --> 00:13:53.265\nWhen I ping across,\nif I ping that interface.\n\n251\n00:13:53.265 --> 00:13:55.599\nI never actually hit\nthe physical interface and\n\n252\n00:13:55.599 --> 00:13:57.700\nthat means the ACL won't apply to me.\n\n253\n00:13:57.700 --> 00:14:01.140\nI'm gonna come in this interface, and\nI'm gonna hit the router and stop, and so\n\n254\n00:14:01.140 --> 00:14:02.140\nit's not going to apply.\n\n255\n00:14:02.140 --> 00:14:04.310\nSo it won't work for the router's IP.\n\n256\n00:14:04.310 --> 00:14:07.590\nIt'll work for the rest of the network but\nnot the router's own IP.\n\n257\n00:14:07.590 --> 00:14:10.270\nThat may not be a big deal, if that's\nnot a big deal then I don't care,\n\n258\n00:14:10.270 --> 00:14:13.130\nthat works fine, I apply it one place and\nI'm done, all right?\n\n259\n00:14:13.130 --> 00:14:14.350\nBut that may be a big deal.\n\n260\n00:14:14.350 --> 00:14:17.750\nHey, I don't want this network seeing\nanything on this other network.\n\n261\n00:14:17.750 --> 00:14:19.680\nSo I need it to block even that IP,\n\n262\n00:14:19.680 --> 00:14:22.810\nall right, in which case we\ndon't wanna do this interface.\n\n263\n00:14:22.810 --> 00:14:25.250\nThe other thing is performance.\n\n264\n00:14:25.250 --> 00:14:27.380\nThink about what happens to the packets.\n\n265\n00:14:27.380 --> 00:14:30.325\nThe packets come into the router,\nthe router looks for incoming ACL's,\n\n266\n00:14:30.325 --> 00:14:32.020\nit doesn't have one.\n\n267\n00:14:32.020 --> 00:14:34.667\nThen the router decodes up\nto the layer three data.\n\n268\n00:14:34.667 --> 00:14:36.432\nI guess it does that\nbefore the ACL lookup, but\n\n269\n00:14:36.432 --> 00:14:39.462\nit decodes the layer three data, and\nthen it runs it against the routing table,\n\n270\n00:14:39.462 --> 00:14:40.744\nand it looks for the right route.\n\n271\n00:14:40.744 --> 00:14:43.260\nAnd it says,\nthis needs to go over to Gi0/0.\n\n272\n00:14:43.260 --> 00:14:45.078\nIt takes it and\nroutes it over that interface.\n\n273\n00:14:45.078 --> 00:14:48.003\nAnd it goes to send it on the interface\nand it looks for an ACL there and it says,\n\n274\n00:14:48.003 --> 00:14:50.760\noop, nope, this is blocked and\nit throws it away.\n\n275\n00:14:50.760 --> 00:14:53.390\nThat means we did\na routing table lookup for\n\n276\n00:14:53.390 --> 00:14:56.570\nno reason at all cuz we just\nthrew the traffic away, right?\n\n277\n00:14:56.570 --> 00:15:01.860\nSo if possible,\nyou generally want to do incoming ACLs\n\n278\n00:15:01.860 --> 00:15:05.690\nbecause you can filter the traffic\nbefore it gets routed.\n\n279\n00:15:05.690 --> 00:15:09.130\nRight, and if we do that we save\nourselves a routing table lookup.\n\n280\n00:15:09.130 --> 00:15:13.270\nThe traffic comes in, we decode to layer\nthree which we're gonna have to do anyway,\n\n281\n00:15:13.270 --> 00:15:14.690\nand then we run it against the ACL.\n\n282\n00:15:14.690 --> 00:15:16.130\nIf it's blocked we throw it away,\n\n283\n00:15:16.130 --> 00:15:18.900\nif it's permitted then we do\nthe routing table lookup,\n\n284\n00:15:18.900 --> 00:15:22.180\nthen we send it to the other interface and\nit's gonna perform better right.\n\n285\n00:15:22.180 --> 00:15:24.345\nSo that's one way to handle this.\n\n286\n00:15:24.345 --> 00:15:26.170\nNow there's different recommendations\nyou'll see out there.\n\n287\n00:15:26.170 --> 00:15:27.730\nCisco likes to say hey,\n\n288\n00:15:27.730 --> 00:15:31.440\nyou should put your ACLs as close to\nthe originating traffic as possible.\n\n289\n00:15:31.440 --> 00:15:32.990\nBlock it as early as you can.\n\n290\n00:15:32.990 --> 00:15:34.320\nIf you're being general,\n\n291\n00:15:34.320 --> 00:15:37.030\nblock it as close to the destination\nif you're trying to be specific.\n\n292\n00:15:37.030 --> 00:15:40.530\nSo that means we can apply the ACL\nanywhere in this path, right?\n\n293\n00:15:40.530 --> 00:15:44.500\nI can apply the ACLs back here on\nRouter 4 and Router 5 if I wanted, but\n\n294\n00:15:44.500 --> 00:15:46.420\nit's getting more and more complex.\n\n295\n00:15:46.420 --> 00:15:49.570\nSo a little more ideally,\nwe wanna keep it here on Router 6.\n\n296\n00:15:49.570 --> 00:15:52.350\nAnd I can just apply it on\nboth of these interfaces.\n\n297\n00:15:52.350 --> 00:15:56.134\nAnd catch the traffic as\nit's coming in and stop it.\n\n298\n00:15:56.134 --> 00:16:00.052\nAnd in that way I block it, it doesn't\nget routed and it does make the hop.\n\n299\n00:16:00.052 --> 00:16:02.581\nOkay now I've got two interfaces.\n\n300\n00:16:02.581 --> 00:16:04.378\nDo I have to create two ACLs?\n\n301\n00:16:04.378 --> 00:16:05.906\nNo.\nYou can reuse an ACL to your\n\n302\n00:16:05.906 --> 00:16:06.728\nheart's content.\n\n303\n00:16:06.728 --> 00:16:08.922\nI can put the same ACL on\nboth these interfaces, and\n\n304\n00:16:08.922 --> 00:16:12.200\nit's going to work just fine, and so\nthat's exactly what I'm going to do.\n\n305\n00:16:12.200 --> 00:16:15.000\nI'm going to apply it on both interfaces.\n\n306\n00:16:15.000 --> 00:16:17.160\nSo I'll start on Gi/0 and\nthen I'll get to FA2/0 next.\n\n307\n00:16:17.160 --> 00:16:19.360\nSo let's start with Gi1/0.\n\n308\n00:16:19.360 --> 00:16:25.180\nSo I'm going to get onto router 6, and\n\n309\n00:16:25.180 --> 00:16:32.920\non router 6 I'm gonna do a show ip int br,\njust so I can verify those interfaces.\n\n310\n00:16:32.920 --> 00:16:36.500\nAnd gi1/0 is gonna be the first\none that I start with.\n\n311\n00:16:36.500 --> 00:16:40.590\nSo I'm gonna get into int gi1/0,\nand now I need to assign it, okay.\n\n312\n00:16:40.590 --> 00:16:44.690\nNow assigning an ACL,\nwhen we go to actually attach the thing,\n\n313\n00:16:44.690 --> 00:16:47.130\nthere's a few different ways to do it.\n\n314\n00:16:47.130 --> 00:16:54.500\nAnd the common way is to say ip\naccess-group, and assign it.\n\n315\n00:16:54.500 --> 00:16:59.320\nAll right, and when you assign it, we're,\nbasically, gonna specify the number, or\n\n316\n00:16:59.320 --> 00:17:00.490\nthe name of the ACL.\n\n317\n00:17:00.490 --> 00:17:06.872\nSo, ip access-group, and\nmine is just called, incoming-traffic.\n\n318\n00:17:06.872 --> 00:17:11.830\nOkay, if it was named one, or 50, or\nwhatever, that would work, certainly.\n\n319\n00:17:11.830 --> 00:17:15.250\nBut, in this case,\nit's just going to be incoming-traffic.\n\n320\n00:17:15.250 --> 00:17:15.780\nRight?\n\n321\n00:17:15.780 --> 00:17:18.910\nAnd I can't stop there, the next thing\nI need to specify is the direction.\n\n322\n00:17:18.910 --> 00:17:20.930\nIs it supplying me incoming traffic or\noutgoing?\n\n323\n00:17:20.930 --> 00:17:24.430\nI can actually have more than\none ACL on the same interface.\n\n324\n00:17:24.430 --> 00:17:29.630\nI can have an incoming and\nan outgoing for every protocol.\n\n325\n00:17:29.630 --> 00:17:33.526\nSo for example I can have\nan incoming IPv4, an outgoing IPv4,\n\n326\n00:17:33.526 --> 00:17:36.350\nan incoming IPv6 and\nthen an outgoing IPv6.\n\n327\n00:17:36.350 --> 00:17:38.920\nI can have four ACLs right\nhere in this one interface.\n\n328\n00:17:38.920 --> 00:17:41.140\nYou can go crazy with this stuff.\n\n329\n00:17:41.140 --> 00:17:43.350\nBut, I just have an incoming and so\n\n330\n00:17:43.350 --> 00:17:47.250\nI'm gonna say ip access-group\nincoming-traffic in.\n\n331\n00:17:47.250 --> 00:17:50.280\nKind of nice cuz it matches the name\nof the ACL, I'll know I did it right,\n\n332\n00:17:50.280 --> 00:17:51.630\nthis is incoming traffic.\n\n333\n00:17:51.630 --> 00:17:55.310\nIf I had put this ACL\non the other interface,\n\n334\n00:17:55.310 --> 00:17:59.190\nthe interface that faced the 172.16\nnetwork, this would have to be out.\n\n335\n00:17:59.190 --> 00:18:01.060\nIt's called incoming traffic,\nbut it'd have to be applied on\n\n336\n00:18:01.060 --> 00:18:04.090\nthe outbound direction because we're\ngoing out that interface, all right?\n\n337\n00:18:04.090 --> 00:18:08.240\nSo I just applied it and actually I\nalready got something hitting on my logs.\n\n338\n00:18:08.240 --> 00:18:10.585\nCuz we're logging the NE traffic.\n\n339\n00:18:10.585 --> 00:18:12.515\nI'm running rip in the background and so\n\n340\n00:18:12.515 --> 00:18:14.535\nthe routing information protocol\nis sending routing updates.\n\n341\n00:18:14.535 --> 00:18:16.685\nSo I'm going to start seeing\nactivity right away even though I\n\n342\n00:18:16.685 --> 00:18:18.270\nhaven't actually done anything.\n\n343\n00:18:18.270 --> 00:18:20.290\nThe other thing is I've only\napplied it to one interface.\n\n344\n00:18:20.290 --> 00:18:23.010\nI need to go and\napply it to my other interface too.\n\n345\n00:18:23.010 --> 00:18:25.010\nSo, the other interface was my fa2/0.\n\n346\n00:18:25.010 --> 00:18:28.421\nAnd so\nI'm gonna get in interface fa2/0 and\n\n347\n00:18:28.421 --> 00:18:31.530\nI'm gonna apply that\naccess group there also.\n\n348\n00:18:31.530 --> 00:18:36.730\nSo, now I have one acl applied\non two different interfaces.\n\n349\n00:18:36.730 --> 00:18:42.800\nIf I do a show access-list I can see it's\nalready started getting some traffic.\n\n350\n00:18:42.800 --> 00:18:46.530\nI know that, because when I see this line,\n20 permit any, it's got an entry,\n\n351\n00:18:46.530 --> 00:18:48.320\n1 match, right?\n\n352\n00:18:48.320 --> 00:18:50.930\nOne packet has come through\nthat's matched that entry.\n\n353\n00:18:50.930 --> 00:18:52.980\nOn my deny side, nothing.\n\n354\n00:18:52.980 --> 00:18:56.600\nNow, I've got logging turned on, so if I\nwanna see what that one packet was that\n\n355\n00:18:56.600 --> 00:19:01.220\nmatched, I can drop out of my config and\nI can do show logging, and it will be down\n\n356\n00:19:01.220 --> 00:19:04.980\nat the end of my log, where it\nlogged that traffic and here it is.\n\n357\n00:19:04.980 --> 00:19:09.039\nI've got this logging entry\nincoming-traffic permitted\n\n358\n00:19:09.039 --> 00:19:11.646\n192.168.4.4 1 packet.\n\n359\n00:19:11.646 --> 00:19:15.130\nOkay?\nWell 4.4 is Router 4, it sent a rip\n\n360\n00:19:15.130 --> 00:19:18.520\nbroadcast and I'm sure I saw that and\npermitted it through and it got logged.\n\n361\n00:19:18.520 --> 00:19:21.680\nThis is a great example of how\nif I have logging turned on for\n\n362\n00:19:21.680 --> 00:19:24.630\nany it's gonna fill up\nmy logs pretty quick.\n\n363\n00:19:24.630 --> 00:19:29.170\nSo you know what, I'm gonna modify\nthat ACL and turn off logging for\n\n364\n00:19:29.170 --> 00:19:29.930\njust any traffic.\n\n365\n00:19:29.930 --> 00:19:33.450\nI'm just gonna log denies and not permits.\n\n366\n00:19:33.450 --> 00:19:35.790\nSo I'm gonna go back in the configuration,\nand\n\n367\n00:19:35.790 --> 00:19:41.386\nI'll say ip access-list\nstandard incoming-traffic,\n\n368\n00:19:41.386 --> 00:19:45.620\nand be careful cuz if you spell your ACL\nwrong, it's gonna create an all new ACL\n\n369\n00:19:45.620 --> 00:19:48.190\nwith the other name, and now you think\nyou're editing your ACL and you're not.\n\n370\n00:19:48.190 --> 00:19:50.530\nSo you gotta make sure you\nspell it the same each time.\n\n371\n00:19:50.530 --> 00:19:52.080\nAnd I'm gonna say, No 20.\n\n372\n00:19:52.080 --> 00:19:54.160\nAnd then 20 permit any.\n\n373\n00:19:54.160 --> 00:19:57.710\nAnd I'm just leading the log off on that.\n\n374\n00:19:57.710 --> 00:19:58.760\nRight?\nSo this time\n\n375\n00:19:58.760 --> 00:20:00.950\nI'll only log it on my denies.\n\n376\n00:20:00.950 --> 00:20:05.350\nNow, for a brief moment there, when I did\nthe no 20, I started denying traffic.\n\n377\n00:20:05.350 --> 00:20:06.770\nAnd so we got a deny right here,\n\n378\n00:20:06.770 --> 00:20:09.940\nthis IP access log where it,\nthat's still a permit.\n\n379\n00:20:09.940 --> 00:20:10.690\nWasn't it?\n\n380\n00:20:10.690 --> 00:20:12.880\nBut if anybody tried to communicate\nwhile that permit was turned off,\n\n381\n00:20:12.880 --> 00:20:14.350\nwe would have gotten a deny.\n\n382\n00:20:14.350 --> 00:20:17.890\nSometimes these log messages are delayed\na little bit cuz the router's busy\n\n383\n00:20:17.890 --> 00:20:19.460\nrouting and it takes a moment to display.\n\n384\n00:20:19.460 --> 00:20:25.290\nAll right so if I look at my Access\nlist now, it's set to permit\n\n385\n00:20:25.290 --> 00:20:31.800\nanybody without logging and it's set to\ndeny the 192.168.1.0 network with logging.\n\n386\n00:20:31.800 --> 00:20:34.540\nNow one of the negatives of\nthe show access-list command\n\n387\n00:20:34.540 --> 00:20:37.010\nis it doesn't show me where\nthis is applied, right?\n\n388\n00:20:37.010 --> 00:20:42.680\nIf I do a show interface gi0/0,\nI didn't mess with that interface.\n\n389\n00:20:42.680 --> 00:20:46.060\nBut when you look at the show\ninterface information, oops sorry.\n\n390\n00:20:46.060 --> 00:20:48.300\nThe show IP interface.\n\n391\n00:20:48.300 --> 00:20:51.395\nJust doing show interface like that,\nthat's layer two data.\n\n392\n00:20:51.395 --> 00:20:54.710\nACLs are filtering by IPs and\nthat's layer three data.\n\n393\n00:20:54.710 --> 00:20:58.200\nSo I need to show ip interface gi0/0.\n\n394\n00:20:58.200 --> 00:21:02.530\nAnd when I look at this output for\nthat gigabit interface\n\n395\n00:21:02.530 --> 00:21:07.860\nI can see right here outgoing and\ninbound ACL's not set, right?\n\n396\n00:21:07.860 --> 00:21:09.760\nAnd so I can continue.\n\n397\n00:21:09.760 --> 00:21:12.190\nAnd look at my other\ninterfaces like gi1/0, and\n\n398\n00:21:12.190 --> 00:21:18.020\nwhen I look at that one I can see I've\ngot an inbound ACL of incoming traffic,\n\n399\n00:21:18.020 --> 00:21:20.060\nso we can kind of spot where that is.\n\n400\n00:21:20.060 --> 00:21:25.536\nIt's also in our config, so if I do\na show running-config interface gi1/0,\n\n401\n00:21:25.536 --> 00:21:27.936\nit'll show up right there.\n\n402\n00:21:27.936 --> 00:21:31.480\nIP access-group, incoming-traffic, in.\n\n403\n00:21:31.480 --> 00:21:34.630\nAll right so the ACL's in place, and\nit looks like it's working right,\n\n404\n00:21:34.630 --> 00:21:36.110\nwe see some activity.\n\n405\n00:21:36.110 --> 00:21:39.440\nLet's jump over to router one and\nsee what it looks like over there.\n\n406\n00:21:39.440 --> 00:21:45.100\nSo I'm gonna jump over to router one, and\nboth of my pings were successful earlier,\n\n407\n00:21:45.100 --> 00:21:48.010\nwhen I pinged from either\nof the two networks, right?\n\n408\n00:21:48.010 --> 00:21:51.110\nSo I've got both of those\nshowing as successful.\n\n409\n00:21:51.110 --> 00:21:53.540\nWell if I try and\nping from the 192.168.0 network,\n\n410\n00:21:53.540 --> 00:21:59.040\nthat should still succeed because that\nwill get caught by the permit any.\n\n411\n00:21:59.040 --> 00:22:00.280\nAnd it does.\n\n412\n00:22:00.280 --> 00:22:02.360\nBut when I ping from the 1.\n\n413\n00:22:02.360 --> 00:22:08.210\nnetwork, that one's being denied, and\nso what I should get is a failure, okay?\n\n414\n00:22:08.210 --> 00:22:09.855\nNow what do I actually see?\n\n415\n00:22:09.855 --> 00:22:11.523\nU.U.U, all right?\n\n416\n00:22:11.523 --> 00:22:15.380\nWhat that means is I send a ping.\n\n417\n00:22:15.380 --> 00:22:16.150\nOkay?\n\n418\n00:22:16.150 --> 00:22:17.680\nAnd the ping went to the other side,\n\n419\n00:22:17.680 --> 00:22:21.050\nand the other side just blocked it and\nthrew it away.\n\n420\n00:22:21.050 --> 00:22:24.900\nNow when it does that it\ndoesn't answer me back.\n\n421\n00:22:24.900 --> 00:22:27.940\nAnd if it had answered me back,\nI would've gotten five dots.\n\n422\n00:22:27.940 --> 00:22:28.650\nRight?\nFive dots,\n\n423\n00:22:28.650 --> 00:22:31.530\nwhich is the other side saying,\ndestination unreachable.\n\n424\n00:22:31.530 --> 00:22:33.070\nBut, instead, I got U.U.U.\n\n425\n00:22:33.070 --> 00:22:36.750\nAnd what that's telling me is in\nthis scenario, they timed out.\n\n426\n00:22:36.750 --> 00:22:40.650\nI sent the information, and\nI just never got the message back.\n\n427\n00:22:40.650 --> 00:22:42.990\nThat timeout window is just\nreally small in Cisco equipment.\n\n428\n00:22:42.990 --> 00:22:44.220\nI never got a reply back.\n\n429\n00:22:44.220 --> 00:22:45.660\nThat destination is\neffectively unreachable.\n\n430\n00:22:45.660 --> 00:22:47.100\nI can't get there.\n\n431\n00:22:47.100 --> 00:22:49.232\nI've got a route.\n\n432\n00:22:49.232 --> 00:22:50.868\nI've got a route to get there.\n\n433\n00:22:50.868 --> 00:22:52.660\nBut I'm not actually getting there.\n\n434\n00:22:52.660 --> 00:22:53.920\nAll right.\n\n435\n00:22:53.920 --> 00:22:54.900\nSo.\n\n436\n00:22:54.900 --> 00:22:55.690\nI'm being blocked.\n\n437\n00:22:55.690 --> 00:22:58.190\nNow how do I know I'm actually being\nblocked and it's not just a bad network?\n\n438\n00:22:58.190 --> 00:22:59.360\nWell, we have logging turned on.\n\n439\n00:22:59.360 --> 00:23:03.650\nSo I should be able to jump over and\nI sent five pings, so\n\n440\n00:23:03.650 --> 00:23:08.790\non router six the log should've kicked\nin and I should have five blocks.\n\n441\n00:23:08.790 --> 00:23:11.290\nNow when I look at it one\nlog message is up, and\n\n442\n00:23:11.290 --> 00:23:13.822\nyes I see where it denied 192.168.1.1.\n\n443\n00:23:13.822 --> 00:23:19.930\nSo it denied me, but\nsee how it says 1 packet?\n\n444\n00:23:19.930 --> 00:23:20.490\nI sent five.\n\n445\n00:23:20.490 --> 00:23:23.030\nWhy does it say it denied one?\n\n446\n00:23:23.030 --> 00:23:27.460\nWell what's actually happening\nhere is the logs are throttled.\n\n447\n00:23:27.460 --> 00:23:31.210\nIf it logged every single packet, and\nyou're pushing thousands per second,\n\n448\n00:23:31.210 --> 00:23:32.590\nit would get overwhelmed.\n\n449\n00:23:32.590 --> 00:23:36.710\nSo it will usually log the first packet\nand then pause for a few minutes and\n\n450\n00:23:36.710 --> 00:23:38.900\nthen log in another and pause and so on.\n\n451\n00:23:38.900 --> 00:23:40.770\nSo you may only see one.\n\n452\n00:23:40.770 --> 00:23:45.345\nBut if I do a show access-list,\nwhen I look,\n\n453\n00:23:45.345 --> 00:23:50.155\nsee my deny up here,\nand it says 5 matches.\n\n454\n00:23:50.155 --> 00:23:52.465\nSo it did actually block all five.\n\n455\n00:23:52.465 --> 00:23:55.363\nYou can't trust the log to be a proper\nreflection of the number of packets,\n\n456\n00:23:55.363 --> 00:23:56.335\nthere's just too many.\n\n457\n00:23:56.335 --> 00:23:58.244\nYour log is only so big.\n\n458\n00:23:58.244 --> 00:24:00.596\nSo this number is much more accurate.\n\n459\n00:24:00.596 --> 00:24:03.700\nI don't see who it was But\nI know there were 5 matches and\n\n460\n00:24:03.700 --> 00:24:06.221\nI've already got 39 matches on my permit.\n\n461\n00:24:06.221 --> 00:24:09.942\nIf I were to login to a production system,\nI could show you ones that have millions\n\n462\n00:24:09.942 --> 00:24:13.281\nof matches on them, cuz if you haven't\nrebooted the device in a while and\n\n463\n00:24:13.281 --> 00:24:16.180\nit's been running,\nit'll add up really really fast.\n\n464\n00:24:16.180 --> 00:24:19.200\nThese numbers can get pretty big,\nbut it's tracking the statistics.\n\n465\n00:24:19.200 --> 00:24:21.570\nAnd you can quickly see whether or\nnot these things are working and\n\n466\n00:24:21.570 --> 00:24:23.440\nthat's pretty handy to be able to do.\n\n467\n00:24:24.630 --> 00:24:25.840\n>> Now Don, I have a question.\n\n468\n00:24:25.840 --> 00:24:29.005\nSince we now have attached that\naccess list to the interface,\n\n469\n00:24:29.005 --> 00:24:32.995\nit's on the interface, so\nthe access list is there.\n\n470\n00:24:32.995 --> 00:24:34.225\nIf I change that keyword,\n\n471\n00:24:34.225 --> 00:24:38.975\ninstead of in to out, we're still\ngoing through that access list, right?\n\n472\n00:24:38.975 --> 00:24:41.757\n>> Yes, so a few different things can\nhappen here, right, and they're all bad.\n\n473\n00:24:41.757 --> 00:24:44.000\n>> [LAUGH]\n>> So let's see each of them.\n\n474\n00:24:44.000 --> 00:24:51.849\nSo on router six if I do a show\nrunning-config for interface gi1/0.\n\n475\n00:24:51.849 --> 00:24:56.383\nOkay, so looking at this interface,\nwhen the traffic comes through,\n\n476\n00:24:56.383 --> 00:25:00.900\nthe incoming traffic is being\nflowed through that ACL, right?\n\n477\n00:25:00.900 --> 00:25:02.807\nLet's say I did what\nRonnie just suggested.\n\n478\n00:25:02.807 --> 00:25:07.979\nI get into interface gi1/0,\nand I say #ip access-group,\n\n479\n00:25:07.979 --> 00:25:13.553\nincoming-traffic I'm gonna spell\neverything wrong here, out.\n\n480\n00:25:13.553 --> 00:25:16.820\nSo now I'm applying to outbound traffic.\n\n481\n00:25:16.820 --> 00:25:20.540\nWell, what's gonna happen are two\nthings that are not what I want.\n\n482\n00:25:20.540 --> 00:25:26.190\nFirst off,\nif I do a show running-config int gi1/0,\n\n483\n00:25:26.190 --> 00:25:30.510\nyou'll notice that it's still applied for\nincoming also.\n\n484\n00:25:30.510 --> 00:25:34.134\nI'm now using the same ACL for\nincoming and outgoing.\n\n485\n00:25:34.134 --> 00:25:38.470\nAll right, so that's the first thing,\nis it doesn't replace the other one.\n\n486\n00:25:38.470 --> 00:25:42.570\nYour in is separate from your out and\nyou can have them be the same ACL.\n\n487\n00:25:42.570 --> 00:25:44.320\nThe biggest problem I'm gonna\nhave here though is that this is\n\n488\n00:25:44.320 --> 00:25:49.020\nnot going to be written correctly for\nthis type of traffic to work.\n\n489\n00:25:49.020 --> 00:25:52.609\nIf I look at my ACL,\nif I pull up that access list and\n\n490\n00:25:52.609 --> 00:25:56.547\ntake a look at how it's written,\nthis guy right here.\n\n491\n00:25:56.547 --> 00:26:00.330\nWell, let's think about it in\nterms of outbound traffic, okay?\n\n492\n00:26:00.330 --> 00:26:03.870\nWhat outbound traffic am\nI gonna have on gi1/0?\n\n493\n00:26:03.870 --> 00:26:09.332\nMy ping, let me over to my diagram,\nmy ping leaves R1,\n\n494\n00:26:09.332 --> 00:26:14.936\ncrosses the network and\nit's going to come in Gi1/0.\n\n495\n00:26:14.936 --> 00:26:19.900\nIt's gonna get routed over to this other\ninterface to ping the destination, and\n\n496\n00:26:19.900 --> 00:26:23.310\nthen we're gonna get\na reply that comes back.\n\n497\n00:26:23.310 --> 00:26:27.960\nSo it's actually the reply that\nthe outbound rule is going to apply to.\n\n498\n00:26:27.960 --> 00:26:33.025\nWell, the reply will have a source\nof 172.16.0.6, that's what I pinged.\n\n499\n00:26:33.025 --> 00:26:39.156\nAnd it'll have a destination\nof 192.168.0.1 or 192.168.1.1.\n\n500\n00:26:39.156 --> 00:26:41.572\nIt flips the source and the destination.\n\n501\n00:26:41.572 --> 00:26:47.503\nSo as a result the source is 172.16.0.6,\nand if I look at that ACL,\n\n502\n00:26:47.503 --> 00:26:52.341\nI've got deny 192.168.1.0\nOn the reply traffic,\n\n503\n00:26:52.341 --> 00:26:59.860\nthe source will never be 192.168.1.0,\nand so that one's never going to match.\n\n504\n00:26:59.860 --> 00:27:02.790\nAnd then we get to the permit,\nthe permit is any.\n\n505\n00:27:02.790 --> 00:27:05.050\nIt's gonna permit everybody and\nit's gonna get through.\n\n506\n00:27:05.050 --> 00:27:09.428\nSo this deny will be effectively useless\nif I apply it in the wrong direction.\n\n507\n00:27:09.428 --> 00:27:11.276\nIf I wanna apply in the wrong\ndirection like that,\n\n508\n00:27:11.276 --> 00:27:14.240\nI need to move it over to the interface\nwhere that would be correct.\n\n509\n00:27:14.240 --> 00:27:15.740\nAlways think of the interfaces.\n\n510\n00:27:15.740 --> 00:27:19.040\nOn the exam, they'll give you a quick,\n\n511\n00:27:19.040 --> 00:27:22.950\nsometimes the give a picture of the\nrouters, sometimes they just tell you that\n\n512\n00:27:22.950 --> 00:27:25.500\nthis router is connected to this router,\nis connected to this router.\n\n513\n00:27:25.500 --> 00:27:28.290\nAnd what I'll do is I'll take the little\ndry erase board they give me and\n\n514\n00:27:28.290 --> 00:27:29.540\njust draw a picture.\n\n515\n00:27:29.540 --> 00:27:32.090\nAnd you draw a quick picture\nif they don't give you one.\n\n516\n00:27:32.090 --> 00:27:33.660\nAnd that way you can\nlook at the interfaces,\n\n517\n00:27:33.660 --> 00:27:36.530\nyou can say all right, I'm coming in this\ninterface, I'm going out that interface.\n\n518\n00:27:36.530 --> 00:27:38.980\nAnd that's how you can keep\nthose directions straight.\n\n519\n00:27:38.980 --> 00:27:42.032\nIn production land, and\nin real life, you can apply the ACL,\n\n520\n00:27:42.032 --> 00:27:45.700\nif you don't see your matches going up,\nthat's a problem, right?\n\n521\n00:27:45.700 --> 00:27:47.087\nMatches aren't going up,\nI neet to fix that.\n\n522\n00:27:47.087 --> 00:27:51.495\nOkay, but in the test you're not\ngonna have traffic on the lines, so\n\n523\n00:27:51.495 --> 00:27:53.480\nyou can't trust the matches.\n\n524\n00:27:53.480 --> 00:27:56.110\nMaybe you can generate some pings and\nget them to show up, but\n\n525\n00:27:56.110 --> 00:27:58.320\notherwise there's no traffic on\nthe network for you to look at.\n\n526\n00:27:58.320 --> 00:28:01.370\nSo it's always better to just make\nsure you know the right direction.\n\n527\n00:28:01.370 --> 00:28:03.960\nAnd I find that a picture\nis worth a thousand words,\n\n528\n00:28:03.960 --> 00:28:06.860\nyou'll know which interfaces are in,\nwhich interfaces are out.\n\n529\n00:28:06.860 --> 00:28:09.390\nAnd you'll be in good shape there.\n\n530\n00:28:09.390 --> 00:28:11.190\nAll right, I do wanna point\nout one more thing and for\n\n531\n00:28:11.190 --> 00:28:14.310\nthose of you that are security focused\nyou probably already spotted it.\n\n532\n00:28:14.310 --> 00:28:17.790\nWhen I did my ping from router one,\nit was pretty easy for\n\n533\n00:28:17.790 --> 00:28:20.110\nme to change my IP address, right.\n\n534\n00:28:20.110 --> 00:28:24.310\nWhen I did a ping,\nI could source it from 192.168.1 or\n\n535\n00:28:24.310 --> 00:28:26.990\nI could source it from 192.168.0.\n\n536\n00:28:26.990 --> 00:28:30.891\nWhen I sourced it from 192.168.0, I was\nstill able to make it to the destination,\n\n537\n00:28:30.891 --> 00:28:33.680\neven though I passed it\nthrough that bad network.\n\n538\n00:28:33.680 --> 00:28:37.705\nWhich means anybody on the bad\nnetwork could spoof my IP.\n\n539\n00:28:37.705 --> 00:28:42.305\nIt could spoof any IP really, and\nsend it along and bypass ACLs.\n\n540\n00:28:42.305 --> 00:28:47.108\nACLs are vulnerable to spoofing, so\nyou've gotta make sure that you take\n\n541\n00:28:47.108 --> 00:28:50.598\nprecautions on your network\nto prevent IP spoofing.\n\n542\n00:28:50.598 --> 00:28:52.734\nAnd there's a number of ways to do that.\n\n543\n00:28:52.734 --> 00:28:55.184\nRonnie, you guys cover that in\nCCNET Security, didn't you?\n\n544\n00:28:55.184 --> 00:28:56.043\n>> We do.\n\n545\n00:28:56.043 --> 00:28:59.306\n>> So you can definitely check out\nthe CCNET security show for that, but\n\n546\n00:28:59.306 --> 00:29:00.390\nACLs are not perfect.\n\n547\n00:29:00.390 --> 00:29:03.240\nThey're not designed to be\nthe only security solution,\n\n548\n00:29:03.240 --> 00:29:05.040\nIPs can still be spoofed.\n\n549\n00:29:05.040 --> 00:29:06.976\nIf you had a CISCO ASA, the firewalls,\n\n550\n00:29:06.976 --> 00:29:09.864\nthey have what's called\nDepacketing Inspection or DPI.\n\n551\n00:29:09.864 --> 00:29:12.432\nAnd with DPI, they can look in there and\nthey can spot things like when\n\n552\n00:29:12.432 --> 00:29:14.780\nMac addresses aren't matching\nlike they're supposed to, or\n\n553\n00:29:14.780 --> 00:29:17.620\nwhen a packet's been modified,\nwhen the header's incorrect.\n\n554\n00:29:17.620 --> 00:29:19.870\nAnd they can locate when\nspoofing is occurring.\n\n555\n00:29:19.870 --> 00:29:23.630\nSo you've always gotta be sensitive to\nthat, there are ways to get around ACLs,\n\n556\n00:29:23.630 --> 00:29:26.025\nand it can be as simple as\nchanging your IP address.\n\n557\n00:29:26.025 --> 00:29:28.860\nIf I blocked Ronnie's laptop\nbecause he had a virus,\n\n558\n00:29:28.860 --> 00:29:32.829\nall he has to do is release his DACP\naddress and get a different address, and\n\n559\n00:29:32.829 --> 00:29:34.900\nnow he's not being blocked anymore.\n\n560\n00:29:34.900 --> 00:29:35.980\nHe's got a different IP.\n\n561\n00:29:35.980 --> 00:29:39.240\nSo that is a vulnerability\nthat these ACLs have.\n\n562\n00:29:39.240 --> 00:29:42.880\nBut you can be really specific with them,\nyou can be really granular.\n\n563\n00:29:42.880 --> 00:29:46.360\nAnd if you do that, you can make it where\nif somebody changes their IP, they're\n\n564\n00:29:46.360 --> 00:29:49.910\ndenied, cuz you were permitting specific\nIPs and that kind of helps to stop that.\n\n565\n00:29:49.910 --> 00:29:54.030\nSo just be aware that,\nACLs are not foolproof.\n\n566\n00:29:54.030 --> 00:29:57.450\nFor the exam,\nthey want you to be able to write ACLs, so\n\n567\n00:29:57.450 --> 00:29:58.270\nyou need to know how to write them.\n\n568\n00:29:58.270 --> 00:30:01.361\nYou might get a simulation question\nthat says you need to block\n\n569\n00:30:01.361 --> 00:30:03.095\nthis traffic from host A to host B.\n\n570\n00:30:03.095 --> 00:30:06.307\nAll right, so\ndefinitely know that.The other thing is\n\n571\n00:30:06.307 --> 00:30:10.220\nyou'll wanna make sure that\nyou know how to read an ACL.\n\n572\n00:30:10.220 --> 00:30:13.307\nIf they give you an ACL that's\nten lines long and they say,\n\n573\n00:30:13.307 --> 00:30:16.029\nhost A is trying to talk to host B,\nwill it succeed?\n\n574\n00:30:16.029 --> 00:30:17.492\nYou need to be able to read the list.\n\n575\n00:30:17.492 --> 00:30:19.893\nGo from top to bottom, and\nremember, the first match,\n\n576\n00:30:19.893 --> 00:30:21.437\nthat's the one that takes effect.\n\n577\n00:30:21.437 --> 00:30:24.440\nEverything else gets ignored,\nso you need to know that.\n\n578\n00:30:24.440 --> 00:30:26.180\nAnd if you read through and\nyou don't match anything,\n\n579\n00:30:26.180 --> 00:30:28.350\nyou need to know there's\nan implicit denial.\n\n580\n00:30:28.350 --> 00:30:31.450\nThis is how Cisco separates\nout the people who studied\n\n581\n00:30:31.450 --> 00:30:34.040\ncontent versus the people who\njust tried to learn on their own.\n\n582\n00:30:34.040 --> 00:30:37.270\nThey'll know if you recognize it\nbecause of these hidden lines.\n\n583\n00:30:37.270 --> 00:30:40.440\nSo if you see a ten line ACL,\nyou need to be able to read through it and\n\n584\n00:30:40.440 --> 00:30:42.450\ndetermine whether traffic will succeed or\nfail.\n\n585\n00:30:42.450 --> 00:30:43.820\nThat's an important skill to have, and\n\n586\n00:30:43.820 --> 00:30:46.930\nthe best way to get it is\njust a practice right?\n\n587\n00:30:46.930 --> 00:30:50.290\nWhip up a couple of routers,\nyou can use simulated ones or real ones,\n\n588\n00:30:50.290 --> 00:30:51.860\nthey all work the same these days.\n\n589\n00:30:51.860 --> 00:30:53.880\nAnd throw some ACLs on there.\n\n590\n00:30:53.880 --> 00:30:55.290\nTry and filter some traffic.\n\n591\n00:30:55.290 --> 00:30:58.333\nWe just did standard ACLs, so\nwe're only filtering based on source IP.\n\n592\n00:30:58.333 --> 00:31:01.468\nWhen you go to CCNA you've\ngotta do extended ACLs.\n\n593\n00:31:01.468 --> 00:31:05.410\nYou filter by source and destination and\neven protocol if you want.\n\n594\n00:31:05.410 --> 00:31:06.640\nThose can be a lot more powerful.\n\n595\n00:31:06.640 --> 00:31:10.030\nThose are a ton more flexible as\nfar as applying them on inbound or\n\n596\n00:31:10.030 --> 00:31:12.650\noutbound traffic,\nbecause you can do a ton of neat stuff.\n\n597\n00:31:12.650 --> 00:31:16.270\nBut with standard ACLs,\nit's just the source IP,\n\n598\n00:31:16.270 --> 00:31:20.990\nthat's all we look at, and that makes\nit where direction is super important.\n\n599\n00:31:20.990 --> 00:31:25.110\nSo having in versus out,\ncan cause an ACL to break.\n\n600\n00:31:25.110 --> 00:31:27.940\nHaving the order of the list\nis written in being incorrect,\n\n601\n00:31:27.940 --> 00:31:29.080\nthat can cause the list to break.\n\n602\n00:31:29.080 --> 00:31:32.760\nThere's a number of things that can cause\nan ACL to not work the way you wanted to,\n\n603\n00:31:32.760 --> 00:31:35.650\nso you need to be familiar with that\nformat so you can even troubleshoot ACLs.\n\n604\n00:31:35.650 --> 00:31:38.650\nYou might have a simulation question that\nsays, the ACL's already in place but\n\n605\n00:31:38.650 --> 00:31:39.940\nit's not working right.\n\n606\n00:31:39.940 --> 00:31:42.100\nAnd you go and look at it and\nit's in the wrong order, so\n\n607\n00:31:42.100 --> 00:31:44.360\nyou need to know how to remove\nan entry and move the entry.\n\n608\n00:31:44.360 --> 00:31:46.930\nYou need to know how to do those things,\nand you need to know that for\n\n609\n00:31:46.930 --> 00:31:51.490\nreal life, too, so the exam is really\nclose to real life on this one.\n\n610\n00:31:51.490 --> 00:31:53.030\n>> All right, Don,\nwell thank you again for\n\n611\n00:31:53.030 --> 00:31:56.860\nhelping us to complete the idea here\nof taking a look at standard ACLs.\n\n612\n00:31:56.860 --> 00:31:58.920\nDo not think that you\nwon't see them again.\n\n613\n00:31:58.920 --> 00:31:59.910\nYou'll see them over and\n\n614\n00:31:59.910 --> 00:32:03.770\nover again as you continue on towards\nother Cisco certifications as well.\n\n615\n00:32:03.770 --> 00:32:07.230\nThe only thing that I can add\nin Don's great summary there,\n\n616\n00:32:07.230 --> 00:32:09.060\nis remember that it's\nreally a two step process.\n\n617\n00:32:09.060 --> 00:32:10.980\nYou can create the ACL and\n\n618\n00:32:10.980 --> 00:32:14.490\nif you're like me you'd then go okay\nI've created the ACL and I'm done.\n\n619\n00:32:14.490 --> 00:32:18.370\nAnd then I forget about the second part\nwhich is to apply it to the interfaces,\n\n620\n00:32:18.370 --> 00:32:20.500\nand also remember the direction.\n\n621\n00:32:20.500 --> 00:32:21.899\nSo that's why I asked that question.\n\n622\n00:32:21.899 --> 00:32:25.003\nI know that Don may not believe me but\nI did know the difference.\n\n623\n00:32:25.003 --> 00:32:27.007\n>> [LAUGH]\n>> But overall though,\n\n624\n00:32:27.007 --> 00:32:29.950\nmake sure you understand\nthat directionality as well.\n\n625\n00:32:29.950 --> 00:32:33.364\nBut remember, create the ACL and\napply it to an interface,\n\n626\n00:32:33.364 --> 00:32:37.615\nand that's where that access-group\ncomes in, or IP access group, no?\n\n627\n00:32:37.615 --> 00:32:38.648\n>> Yeah, it's IP access.\n\n628\n00:32:38.648 --> 00:32:39.693\n>> It's IP access dash group.\n\n629\n00:32:39.693 --> 00:32:40.992\nSee, I am forgetting stuff.\n\n630\n00:32:40.992 --> 00:32:41.874\n>> Syntax is important.\n\n631\n00:32:41.874 --> 00:32:44.690\n>> It is important, so\nmake sure you do that, yeah.\n\n632\n00:32:44.690 --> 00:32:46.535\n>> And it is also important\nto remember that on the exam,\n\n633\n00:32:46.535 --> 00:32:48.630\nwhen you're on the simulations,\nthe question mark works.\n\n634\n00:32:48.630 --> 00:32:49.900\nYou can do the context sensitive help.\n\n635\n00:32:49.900 --> 00:32:53.562\nSo if you forget, you can do access and\nhit Tab auto complete.\n\n636\n00:32:53.562 --> 00:32:57.290\nAnd when it doesn't fill out, you say,\nwhat am I gonna do, IP access and so on.\n\n637\n00:32:57.290 --> 00:32:59.110\nSo you can kinda stumble\nthrough it that way.\n\n638\n00:32:59.110 --> 00:33:00.820\nBut obviously if you had it memorized,\n\n639\n00:33:00.820 --> 00:33:04.430\nyou can put in a lot faster which you\ncan increase your odds of success.\n\n640\n00:33:04.430 --> 00:33:07.608\nI do wanna mention one last thing, cuz I\nsaid when I applied that access list that\n\n641\n00:33:07.608 --> 00:33:09.364\nI applied it directly to the interface,\nand\n\n642\n00:33:09.364 --> 00:33:12.420\nI said there was more than one way to do\nit, but then I only showed you one way.\n\n643\n00:33:12.420 --> 00:33:15.470\nOn the exam there's only one way,\nthe access group.\n\n644\n00:33:15.470 --> 00:33:17.810\nFor those of you that\nmove on like the CCNP,\n\n645\n00:33:17.810 --> 00:33:21.980\nthere's other things like policy\nbased routes and route maps,\n\n646\n00:33:21.980 --> 00:33:26.980\nand other filters like prefix list\nthat you can use, that use ACLs and\n\n647\n00:33:26.980 --> 00:33:30.485\napply to interfaces a different way,\nand they're very, very powerful.\n\n648\n00:33:30.485 --> 00:33:31.496\nAnd they're also very, very complex.\n\n649\n00:33:31.496 --> 00:33:33.016\nSo for\nthose of you that go onto the CCNP side,\n\n650\n00:33:33.016 --> 00:33:34.385\nyou'll get a chance to see all of those.\n\n651\n00:33:34.385 --> 00:33:37.913\nIf you're curious, you can always jump\nover to that show and check them out.\n\n652\n00:33:37.913 --> 00:33:39.744\n>> All right, Don,\nthat sounds like a great place for\n\n653\n00:33:39.744 --> 00:33:40.775\nus to end this episode then.\n\n654\n00:33:40.775 --> 00:33:43.875\nSigning off for ITProTV,\nI've been your host Ronnie Wong.\n\n655\n00:33:43.875 --> 00:33:44.919\n>> And I'm Don Pezet.\n\n656\n00:33:44.919 --> 00:33:48.543\n>> Stay tuned right here for\nmore CCENT episodes.\n\n657\n00:33:48.543 --> 00:33:57.480\n[MUSIC]\n\n",
          "vimeoId": "176163170"
        },
        {
          "description": "In this episode, Ronnie and Don explain a fairly universal technology called Network Address Translation.  This technology has help slow down the consumption of the IPv4 address space on the internet by translating one address into another ip address.  There are 3 methods:  Static NAT, Dynamic NAT and Port Address Translation (PAT) also called NAT Overload, according to the guys.  They describe how NAT works and then show the configuration of Static NAT, a one to one translation.",
          "length": "2227",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-4-4-1-network_address_translation-072116-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-4-4-1-network_address_translation-072116-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-4-4-1-network_address_translation-072116-1-sm.jpg",
          "title": "Network Address Translation",
          "transcript": "WEBVTT\n\n1\n00:00:00.022 --> 00:00:10.022\n[MUSIC]\n\n2\n00:00:12.280 --> 00:00:14.654\nWelcome to another great episode,\nright here on ITProTV.\n\n3\n00:00:14.654 --> 00:00:16.233\nI'm your host, Ronnie Wong.\n\n4\n00:00:16.233 --> 00:00:18.479\nAnd you've tuned in to\nthe Cisco CCENT show,\n\n5\n00:00:18.479 --> 00:00:22.290\nwhere what we're doing is talking\nabout infrastructure services.\n\n6\n00:00:22.290 --> 00:00:26.261\nWe're about to talk about one of the more\ncommon elements that we see just about\n\n7\n00:00:26.261 --> 00:00:30.314\neverywhere inside of networks here, but\na bit confusing to have to configure.\n\n8\n00:00:30.314 --> 00:00:33.180\nWho better help us through\nthat than Mister Don Pezet?\n\n9\n00:00:33.180 --> 00:00:34.556\nDon, welcome back to our studios.\n\n10\n00:00:34.556 --> 00:00:35.826\n>> Thanks for\nhaving me back on the show, Ronnie.\n\n11\n00:00:35.826 --> 00:00:39.238\nIn this episode, we're gonna talk\nabout network address translation.\n\n12\n00:00:39.238 --> 00:00:41.709\nAnd I'll say,\nof all the different topics that we cover,\n\n13\n00:00:41.709 --> 00:00:44.139\nthis is probably the one that's,\nit's not confusing.\n\n14\n00:00:44.139 --> 00:00:45.848\nIt's easy to understand what it does, but\n\n15\n00:00:45.848 --> 00:00:48.560\nit is a little bit harder to configure\nthen some of the other things.\n\n16\n00:00:48.560 --> 00:00:51.870\nIt's several commands we're going to\nhave to learn, but it is important.\n\n17\n00:00:51.870 --> 00:00:54.810\nLet's just start with the basics,\nwhat is network address translation?\n\n18\n00:00:55.860 --> 00:00:59.920\nOccasionally, as we have traffic\nthat passes through a router,\n\n19\n00:00:59.920 --> 00:01:04.880\nwe may need to get the router to\nchange the IP address of the packets.\n\n20\n00:01:04.880 --> 00:01:07.143\nChange it to something else\nbefore sending it along.\n\n21\n00:01:07.143 --> 00:01:11.015\nIt's kind of like putting a disguise\non the data before sending it along.\n\n22\n00:01:11.015 --> 00:01:14.490\nWe do that for a few different reasons.\n\n23\n00:01:14.490 --> 00:01:21.000\nThe main reason is because we're probably\nusing private IPs on our inside network.\n\n24\n00:01:21.000 --> 00:01:25.693\nPrivate IPs, we've talked about\nthese in earlier episodes,\n\n25\n00:01:25.693 --> 00:01:31.183\nare the RFC 1918 addresses,\nthings like 192.168.0.0,\n\n26\n00:01:31.183 --> 00:01:35.812\nor 172.16 all the way through 172.31.0.0.\n\n27\n00:01:35.812 --> 00:01:38.280\n10.\nanything, those are private IPs.\n\n28\n00:01:38.280 --> 00:01:40.680\nThey're private,\nyou can use them on your own network, and\n\n29\n00:01:40.680 --> 00:01:43.456\nyou do not have to register\nthem with the IANA.\n\n30\n00:01:43.456 --> 00:01:45.380\nBut the trade-off for\n\n31\n00:01:45.380 --> 00:01:50.150\nhaving these practically unlimited IPs is\nthat they're not allowed on the Internet.\n\n32\n00:01:50.150 --> 00:01:53.282\nIf you try and go on the internet\nusing one of those IP addresses,\n\n33\n00:01:53.282 --> 00:01:56.542\nyour internet service provider is\nrequired to drop that traffic.\n\n34\n00:01:56.542 --> 00:01:57.760\nThat's part of the requirements for\n\n35\n00:01:57.760 --> 00:02:00.280\nconnecting to an internet backbone\nis they have to throw it away.\n\n36\n00:02:00.280 --> 00:02:04.395\nSo if you try and route anywhere outside\nof your organization on those IPs,\n\n37\n00:02:04.395 --> 00:02:05.518\nit's gonna break.\n\n38\n00:02:05.518 --> 00:02:11.206\nWhat we can do is we can have a router\nthat sits in-between our network and\n\n39\n00:02:11.206 --> 00:02:14.760\nthe Internet, and\nit can translate the IPs.\n\n40\n00:02:14.760 --> 00:02:19.494\nIt can take the private IPs and\nswap them out for public IPs.\n\n41\n00:02:19.494 --> 00:02:21.637\nThen throw them out on the internet.\n\n42\n00:02:21.637 --> 00:02:24.645\nIt's gonna go out on the internet,\nout to a server somewhere or whatever.\n\n43\n00:02:24.645 --> 00:02:28.436\nThat server's gonna reply\nback to the public IP.\n\n44\n00:02:28.436 --> 00:02:31.546\nWhen it replies back, your router\nwill receive it, and it will take it.\n\n45\n00:02:31.546 --> 00:02:32.949\nIt'll rip out that public IP.\n\n46\n00:02:32.949 --> 00:02:38.020\nIt'll put the private IP back in and send\nit back in to the client on the inside.\n\n47\n00:02:38.020 --> 00:02:40.390\nAs a client,\nwe never even know that happens.\n\n48\n00:02:40.390 --> 00:02:42.530\nIt's completely invisible to us.\n\n49\n00:02:42.530 --> 00:02:47.743\nBut on the server side, it's having to\nrewrite every single packet you send\n\n50\n00:02:47.743 --> 00:02:53.452\nto include that new source IP address to\nchange it and make it something different.\n\n51\n00:02:53.452 --> 00:02:57.292\nThat's the basics of network\naddress translation, and\n\n52\n00:02:57.292 --> 00:02:59.776\nit's done pretty much everywhere.\n\n53\n00:02:59.776 --> 00:03:02.280\nIf you think about your home router.\n\n54\n00:03:02.280 --> 00:03:04.930\nIf you have a cable modem or DSL.\n\n55\n00:03:04.930 --> 00:03:07.312\nYour cable provider,\nor whoever your ISP is,\n\n56\n00:03:07.312 --> 00:03:09.952\nthey probably only give\nyou one public IP address.\n\n57\n00:03:09.952 --> 00:03:11.700\nThat's gonna run into your cable modem,\nand\n\n58\n00:03:11.700 --> 00:03:14.040\nyou can plug your cable modem\nright into your laptop.\n\n59\n00:03:14.040 --> 00:03:16.220\nOr your DSL,\nplug it right into your laptop.\n\n60\n00:03:16.220 --> 00:03:20.530\nAnd now your laptop gets a true\npublic IP address on the internet.\n\n61\n00:03:20.530 --> 00:03:24.850\nBut in this day and age, even at home,\nmost of us have multiple devices.\n\n62\n00:03:24.850 --> 00:03:28.420\nSo instead of running to your computer,\nyou're gonna run it to a router.\n\n63\n00:03:28.420 --> 00:03:29.810\nNow the router has the public IP.\n\n64\n00:03:29.810 --> 00:03:31.660\nWhat do all your other machines have?\n\n65\n00:03:31.660 --> 00:03:32.370\n>> Private.\n\n66\n00:03:32.370 --> 00:03:33.300\n>> Private IPs.\n\n67\n00:03:33.300 --> 00:03:34.634\nAnd so we've gotta take those and\ntranslate them.\n\n68\n00:03:34.634 --> 00:03:39.058\nEven the cheapest router you buy down at\nthe electronics store is gonna be doing\n\n69\n00:03:39.058 --> 00:03:40.878\nnetwork address translation.\n\n70\n00:03:40.878 --> 00:03:44.947\nThat's probably the most common use case\nscenario for network address translation,\n\n71\n00:03:44.947 --> 00:03:47.250\nbut it's not the only one, right?\n\n72\n00:03:47.250 --> 00:03:51.070\nThat, what I just described to you, is\nactually something a little bit different\n\n73\n00:03:51.070 --> 00:03:53.160\nthan what we normally consider as NAT.\n\n74\n00:03:53.160 --> 00:03:55.759\nNAT, the true form of NAT,\n\n75\n00:03:55.759 --> 00:04:01.307\nis simply changing one IP\naddress into one other address.\n\n76\n00:04:01.307 --> 00:04:03.540\nThat we usually use with servers.\n\n77\n00:04:03.540 --> 00:04:06.938\nI might have a server that I want\nto be visible to the Internet.\n\n78\n00:04:06.938 --> 00:04:10.250\nSo I want to take a public IP and\nattach it to the server.\n\n79\n00:04:10.250 --> 00:04:13.010\nBut I don't want the server\ndirectly connected to the Internet.\n\n80\n00:04:13.010 --> 00:04:16.468\nI wanna have firewalls and other things\nin-between it to be able to filter it.\n\n81\n00:04:16.468 --> 00:04:19.056\nSo I may give the server a private IP.\n\n82\n00:04:19.056 --> 00:04:22.977\nI take that server and say,\nany time it passes through this firewall,\n\n83\n00:04:22.977 --> 00:04:24.580\nchange it to this public IP.\n\n84\n00:04:24.580 --> 00:04:26.980\nIt's a one to one mapping.\n\n85\n00:04:26.980 --> 00:04:30.690\nNetwork address translation\nis a one to one mapping.\n\n86\n00:04:30.690 --> 00:04:33.920\nOne internal IP maps to one public IP.\n\n87\n00:04:33.920 --> 00:04:35.580\nThat doesn't work at home, does it?\n\n88\n00:04:35.580 --> 00:04:39.610\nAt home, if I'm browsing out to\nthe Internet on five different devices,\n\n89\n00:04:39.610 --> 00:04:41.690\nI'm gonna need five public IPs.\n\n90\n00:04:41.690 --> 00:04:43.828\nWell, I don't have five public IPs.\n\n91\n00:04:43.828 --> 00:04:48.589\nWhat we normally do is network\naddress translation combined\n\n92\n00:04:48.589 --> 00:04:51.211\nwith port address translation.\n\n93\n00:04:51.211 --> 00:04:53.698\nWhat is port address translation?\n\n94\n00:04:53.698 --> 00:04:57.444\nWe don't just change the IP address.\n\n95\n00:04:57.444 --> 00:05:02.181\nWe also change the port number, the port\nnumber that comes from the session layer,\n\n96\n00:05:02.181 --> 00:05:03.814\nall the way up at layer five.\n\n97\n00:05:03.814 --> 00:05:06.449\nAt layer four,\nwe have the transport layer, and\n\n98\n00:05:06.449 --> 00:05:10.064\nyou choose whether you're going\nto run TCP or UDP, the OSI model.\n\n99\n00:05:10.064 --> 00:05:14.663\nWe're gonna choose TCP or UDP, and if we\ngo TCP or UDP, we also have a port number.\n\n100\n00:05:14.663 --> 00:05:16.762\nThe port number comes\nfrom the session layer.\n\n101\n00:05:16.762 --> 00:05:21.226\nWhen I'm browsing to a website, the web\nserver's probably running on port 80 or\n\n102\n00:05:21.226 --> 00:05:22.009\nport 443.\n\n103\n00:05:22.009 --> 00:05:24.297\nIf I'm going to an FTP server,\nit's port 21.\n\n104\n00:05:24.297 --> 00:05:26.800\nIf I'm going to SSH, it's port 22.\n\n105\n00:05:26.800 --> 00:05:29.527\nThey've all got these port\nnumbers assigned to them, and so\n\n106\n00:05:29.527 --> 00:05:31.880\nthe other end knows\nwhat I'm talking about.\n\n107\n00:05:31.880 --> 00:05:34.420\nWell, I also have my own port number\n\n108\n00:05:34.420 --> 00:05:37.870\nthat happens whenever I\nbrowse to a system out there.\n\n109\n00:05:37.870 --> 00:05:40.697\nFor example, let me just a whip\nup a web browser here and\n\n110\n00:05:40.697 --> 00:05:42.121\nI'll show you what I mean.\n\n111\n00:05:42.121 --> 00:05:49.361\nIf I go to, we'll do ITProTV,\nso let me get to a terminal.\n\n112\n00:05:49.361 --> 00:05:53.731\nI'm just gonna do a quick nslookup to\nfind out what the ITProTV site's IP is,\n\n113\n00:05:53.731 --> 00:05:54.954\ncuz I don't know it.\n\n114\n00:05:54.954 --> 00:05:55.681\nHere it is.\n\n115\n00:05:55.681 --> 00:05:58.506\nHere's an example where\nwe have to be careful.\n\n116\n00:05:58.506 --> 00:06:03.045\nThe IP address for\nITProTV, 192.124.249.106.\n\n117\n00:06:03.045 --> 00:06:08.070\nAt first glance, that might look\nlike a private IP, but it's not.\n\n118\n00:06:08.070 --> 00:06:12.914\nThe private IP, the RFC 1918 for\na class C is 192.168,\n\n119\n00:06:12.914 --> 00:06:16.301\nand our address starts with 192.124.\n\n120\n00:06:16.301 --> 00:06:19.943\nSo while it might look like a private\nIP at first, that is a public IP.\n\n121\n00:06:19.943 --> 00:06:22.640\nThat's our real IP out\nthere in the Internet.\n\n122\n00:06:22.640 --> 00:06:26.380\nIf you do a lookup right now on your own\nsystem you should get the same IP for\n\n123\n00:06:26.380 --> 00:06:28.516\nour server, but\nthat's where our server is.\n\n124\n00:06:30.490 --> 00:06:32.960\nOn most of your computers,\nyou can do like a netstat.\n\n125\n00:06:32.960 --> 00:06:36.160\nI'm gonna do a netstat -an and\n\n126\n00:06:36.160 --> 00:06:40.600\nI'm gonna filter that down to just our IP.\n\n127\n00:06:40.600 --> 00:06:45.899\nI can see that I don't currently have any\nsessions open to the ITProTV website.\n\n128\n00:06:45.899 --> 00:06:48.154\nNo sessions open whatsoever.\n\n129\n00:06:48.154 --> 00:06:53.048\nI'm gonna go to my web browser and\nI'm gonna browse to itpro.tv.\n\n130\n00:06:53.048 --> 00:06:56.196\nIt's gonna pull up our website,\nand while it's doing that,\n\n131\n00:06:56.196 --> 00:07:00.140\nI'm gonna come back here and I'm gonna\nrerun that netstat, and there we go.\n\n132\n00:07:00.140 --> 00:07:01.910\nI can see that I opened up a session.\n\n133\n00:07:01.910 --> 00:07:04.180\nLet's look at the data that we got here.\n\n134\n00:07:04.180 --> 00:07:05.580\nMy laptop.\n\n135\n00:07:05.580 --> 00:07:08.640\nMy laptop is 10.1.230.21.\n\n136\n00:07:08.640 --> 00:07:10.150\nThat's my laptop.\n\n137\n00:07:10.150 --> 00:07:11.936\nAnd that is a private IP, isn't it?\n\n138\n00:07:11.936 --> 00:07:14.820\n10.1.230, that's a RFC 1918 address.\n\n139\n00:07:14.820 --> 00:07:16.987\nThat is not allowed to go on the Internet.\n\n140\n00:07:16.987 --> 00:07:23.787\nOver here, I reached out to a server,\n192.124.249.106.\n\n141\n00:07:23.787 --> 00:07:27.178\nThe port number I reached\nout to was port 443.\n\n142\n00:07:27.178 --> 00:07:28.850\nThat's SSL.\n\n143\n00:07:28.850 --> 00:07:33.970\nNow, if Ronnie were to fire up his\nlaptop and go to the ITProTV website.\n\n144\n00:07:33.970 --> 00:07:38.170\nHe would be connecting to this\nsame server on the same port, and\n\n145\n00:07:38.170 --> 00:07:41.060\nhe and\nI are passing through the same firewall.\n\n146\n00:07:41.060 --> 00:07:44.490\nSo we're both get\ntranslated to the same IP.\n\n147\n00:07:44.490 --> 00:07:48.077\nIf you go to a website like,\nhere I'll go to our,\n\n148\n00:07:48.077 --> 00:07:52.289\nwe have a neat little website called,\nshowmemy.info.\n\n149\n00:07:52.289 --> 00:07:55.503\nIt's a web server and all it does\nis tell me what my IP address is.\n\n150\n00:07:55.503 --> 00:08:00.610\nWhen I go to that site it's telling\nme my IP address is 209.251.159.179.\n\n151\n00:08:00.610 --> 00:08:02.436\nBut it isn't, is it?\n\n152\n00:08:02.436 --> 00:08:06.023\nIf I Well, here, we can actually pull\nthis right off of showmemy.info.\n\n153\n00:08:06.023 --> 00:08:10.610\nIf I do an nslookup of showmemy.info,\n\n154\n00:08:10.610 --> 00:08:14.645\nright, there's its IP address.\n\n155\n00:08:14.645 --> 00:08:19.296\nAnd if I do a netstat, and\nI'll filter that just for that address,\n\n156\n00:08:19.296 --> 00:08:24.695\nI can see all the sessions that I just\nopened, so I reached out to that server,\n\n157\n00:08:24.695 --> 00:08:31.118\nand my IP was 10.1.230.21,\nthat server 50.16.169.34, right?\n\n158\n00:08:31.118 --> 00:08:36.563\nNow, when I left my laptop,\nI left as 10.1.230.21,\n\n159\n00:08:36.563 --> 00:08:39.236\nright, that's what I left as.\n\n160\n00:08:39.236 --> 00:08:46.293\nBut when I got to the server,\nI was 209.251.159.179.\n\n161\n00:08:46.293 --> 00:08:47.369\nHow did that happen?\n\n162\n00:08:47.369 --> 00:08:50.582\nWell, our firewall,\nthe firewall sitting in between us and\n\n163\n00:08:50.582 --> 00:08:53.110\nthe Internet translated\nmy IP to that address.\n\n164\n00:08:53.110 --> 00:08:58.670\nNow Ronnie, if you go to showmemy.info,\nwhat IP address do you show as?\n\n165\n00:08:58.670 --> 00:08:59.490\nIt should be the same one.\n\n166\n00:08:59.490 --> 00:09:01.740\nRonnie and\nI are going through the same firewall.\n\n167\n00:09:01.740 --> 00:09:04.240\nWe've got the same public IP.\n\n168\n00:09:04.240 --> 00:09:09.454\nSo, Ronnie and I are both gonna\nget translated to 209.251.159.179.\n\n169\n00:09:09.454 --> 00:09:12.380\nThat means we're sharing an IP.\n\n170\n00:09:12.380 --> 00:09:13.710\nThat's not nat.\n\n171\n00:09:13.710 --> 00:09:15.590\nI mean it is nat in a way,\nbut it's not just nat.\n\n172\n00:09:15.590 --> 00:09:20.550\nBecause if it was just nat, this IP would\nbe assigned to one of us, to me and\n\n173\n00:09:20.550 --> 00:09:21.460\nnot Ronnie.\n\n174\n00:09:21.460 --> 00:09:24.510\nAnd the reason it does that is,\nwhen we go to the web server,\n\n175\n00:09:24.510 --> 00:09:26.480\nthe web server has to reply to us.\n\n176\n00:09:26.480 --> 00:09:28.214\nSo what's the web server gonna reply to?\n\n177\n00:09:28.214 --> 00:09:31.362\nIt's not gonna reply to 10.1.230.21.\n\n178\n00:09:31.362 --> 00:09:36.827\nIt's gonna reply to 209.251.159.179.\n\n179\n00:09:36.827 --> 00:09:40.608\nAnd if that's being shared by Ronnie and\nI, how does the router know or\n\n180\n00:09:40.608 --> 00:09:43.150\nthe firewall know who to send that to?\n\n181\n00:09:43.150 --> 00:09:47.310\nIt doesn't know, it might send it to\nRonnie, it might send it to me, who knows?\n\n182\n00:09:47.310 --> 00:09:50.970\nAnd even, let's take Ronnie\nout of the picture, right?\n\n183\n00:09:50.970 --> 00:09:55.685\nLet's say that I go to cnn.com, right?\n\n184\n00:09:55.685 --> 00:09:59.325\nSo I go to cnn.com, and I'm gonna do\nit again over here on this other tab.\n\n185\n00:09:59.325 --> 00:10:04.667\nSo I'm opening up more than one window,\nor more than one tab, to cnn.com, okay.\n\n186\n00:10:04.667 --> 00:10:08.978\nAnd then if I click on this\nheadline to read the article,\n\n187\n00:10:08.978 --> 00:10:14.210\nhow did it know that it was this tab and\nnot this other tab, right?\n\n188\n00:10:14.210 --> 00:10:17.170\nSee how this tab went to the article,\nthis other tab didn't, so\n\n189\n00:10:17.170 --> 00:10:18.650\nhow did it know to do that?\n\n190\n00:10:18.650 --> 00:10:21.910\nWell it knew to do it\nbecause of the port numbers,\n\n191\n00:10:21.910 --> 00:10:26.020\nbecause of the layer 5 port numbers\nthat are being attached to all of this.\n\n192\n00:10:26.020 --> 00:10:31.100\nSo if I go back to my Terminal here,\nand hang on,\n\n193\n00:10:31.100 --> 00:10:34.260\nlet's get rid of some of this junk,\nI have too much stuff on my screen.\n\n194\n00:10:34.260 --> 00:10:37.770\nIf I get back to my Terminal, see how\nI have a destination port, port 80,\n\n195\n00:10:37.770 --> 00:10:39.950\nwhere I was reaching out to that server.\n\n196\n00:10:39.950 --> 00:10:44.258\nBut I also have a source port, and\nthe source ports are randomly generated\n\n197\n00:10:44.258 --> 00:10:47.889\nsomewhere between, what, it's like-\n>> 49,152.\n\n198\n00:10:47.889 --> 00:10:50.257\n>> 49,152 and 65,535,\n\n199\n00:10:50.257 --> 00:10:55.732\nsome random knowledge that a mind like\nRonnie's is able to trap and mine is not.\n\n200\n00:10:55.732 --> 00:10:59.375\nSo [LAUGH] I can see we generated,\nand you see there's kind of an order.\n\n201\n00:10:59.375 --> 00:11:04.860\nThere was 57518, 19, 20, 21,\njust kinda going up the list there.\n\n202\n00:11:04.860 --> 00:11:07.240\nEach connection gets\nits own source number.\n\n203\n00:11:07.240 --> 00:11:11.330\nSo when nat kicks in,\nNetwork Address Translation,\n\n204\n00:11:11.330 --> 00:11:16.560\nit's changing my IP from\nthe private IP to the public IP.\n\n205\n00:11:16.560 --> 00:11:20.550\nAnd when it does it,\nit leaves this source port number alone.\n\n206\n00:11:20.550 --> 00:11:24.590\nAnd by leaving that number alone,\nwhen somebody replies,\n\n207\n00:11:24.590 --> 00:11:30.310\nthey'll reply to the public IP with\na destination of this port number.\n\n208\n00:11:30.310 --> 00:11:34.359\nAnd that port number's tied to me,\nand so now the firewall knows,\n\n209\n00:11:34.359 --> 00:11:39.574\nthis is coming in on 57521, that goes\nto Don, but it's coming in on 62111?\n\n210\n00:11:39.574 --> 00:11:43.650\nThat goes to Ronnie, and so\nit can tell based on that port number.\n\n211\n00:11:43.650 --> 00:11:46.130\nBut the port numbers\nare randomly generated.\n\n212\n00:11:46.130 --> 00:11:50.269\nIt's randomly generated between 49,152 and\n65,535, and\n\n213\n00:11:50.269 --> 00:11:52.243\nthat's a lot of numbers, right?\n\n214\n00:11:52.243 --> 00:11:55.318\nThat's over 15,000 port numbers.\n\n215\n00:11:55.318 --> 00:11:59.882\nBut that means there's a 1\nin 15,000 chance that Ronnie\n\n216\n00:11:59.882 --> 00:12:03.076\ncould pick the same port number as me.\n\n217\n00:12:03.076 --> 00:12:07.240\nAnd 1 in 15,000, that is way better\nthan any lottery's odds, and\n\n218\n00:12:07.240 --> 00:12:11.560\nsomebody wins the lottery every stinking\nweek, not me, but somebody does, right?\n\n219\n00:12:11.560 --> 00:12:15.204\nSo 1 in 15,000,\nthat's not astronomical, and\n\n220\n00:12:15.204 --> 00:12:19.322\nthat means duplicates absolutely\nwill happen, absolutely.\n\n221\n00:12:19.322 --> 00:12:23.870\nIt's a guarantee that at least once a day,\na duplicate is happening on your network.\n\n222\n00:12:23.870 --> 00:12:25.940\nSo, how do we resolve that?\n\n223\n00:12:25.940 --> 00:12:29.030\nWell, the short answer is, if you're doing\nnat, you don't, you can't resolve it.\n\n224\n00:12:29.030 --> 00:12:32.100\nNetwork Address Translation\nis a one-to-one mapping.\n\n225\n00:12:32.100 --> 00:12:37.280\nBut if we combine it with Port Address\nTranslation, now we can get around it.\n\n226\n00:12:38.520 --> 00:12:41.830\nPat, or Port Address Translation,\nmost of the time, is doing nothing.\n\n227\n00:12:41.830 --> 00:12:45.020\nIf there's no duplicate ports,\nit just lets you keep the same port.\n\n228\n00:12:45.020 --> 00:12:48.920\nYes, your IP changes, but\nyour port stays the same, and off you go,\n\n229\n00:12:48.920 --> 00:12:50.060\neverything's happy.\n\n230\n00:12:50.060 --> 00:12:54.300\nBut on those rare occasions when a\nduplicate does happen, Ronnie goes to CNN,\n\n231\n00:12:54.300 --> 00:12:58.180\nI go to CNN at the same, we both randomly\npicked the same port number, and\n\n232\n00:12:58.180 --> 00:13:00.000\nwe go out and hit the firewall.\n\n233\n00:13:00.000 --> 00:13:03.810\nPat kicks in and says, that's a duplicate.\n\n234\n00:13:03.810 --> 00:13:06.322\nI'm gonna change Ronnie's port and\njust move it up by one or\n\n235\n00:13:06.322 --> 00:13:07.588\nhowever many other numbers.\n\n236\n00:13:07.588 --> 00:13:10.770\nYou're gonna change his port number,\nand then send it out.\n\n237\n00:13:10.770 --> 00:13:13.180\nAnd it's gonna go out, and it's gonna\nreach all the way out to CNN or whoever,\n\n238\n00:13:13.180 --> 00:13:16.390\nand they're gonna reply back\nto this new port number.\n\n239\n00:13:16.390 --> 00:13:20.010\nAnd when it comes back through our\nfirewall or through our router,\n\n240\n00:13:20.010 --> 00:13:24.570\nit'll see that new port number and\nconvert it back to the old one.\n\n241\n00:13:24.570 --> 00:13:28.820\nSo maybe I went out as 57521 and\nthere was a duplicate, so\n\n242\n00:13:28.820 --> 00:13:31.452\nthe router changed me to 57528.\n\n243\n00:13:31.452 --> 00:13:35.754\nBut when it sees the 57528 come back in,\nit just changes it back to 57521 and\n\n244\n00:13:35.754 --> 00:13:37.820\nsends it to me, so I'm none the wiser.\n\n245\n00:13:37.820 --> 00:13:41.740\nYour clients, the end users,\nhave no idea any of this happened.\n\n246\n00:13:41.740 --> 00:13:43.769\nRight, it's just being\nhandled by the routers and\n\n247\n00:13:43.769 --> 00:13:47.180\nfirewalls that the data transmits through,\nand it's getting translated.\n\n248\n00:13:47.180 --> 00:13:53.440\nSo what you normally think of as nat\nis actually nat and pat combined.\n\n249\n00:13:53.440 --> 00:13:57.505\nAnd that's important to understand because\nCisco is really specific about this.\n\n250\n00:13:57.505 --> 00:14:00.801\nAnd so on the exam,\nunderstand that if they just say nat,\n\n251\n00:14:00.801 --> 00:14:06.270\nthat that means one-to-one mappings, where\nwe're not messing with the port numbers.\n\n252\n00:14:06.270 --> 00:14:10.454\nAnd when they say pat, that's when\nwe're doing where people can share IPs.\n\n253\n00:14:10.454 --> 00:14:13.740\nAnd they actually have another term for\nthat, they call it overloading, right?\n\n254\n00:14:13.740 --> 00:14:19.270\nNormally, a single IP address is designed\nto carry traffic for a single machine.\n\n255\n00:14:19.270 --> 00:14:21.870\nBut when we do pat,\nwe can now share, right?\n\n256\n00:14:21.870 --> 00:14:24.520\nHere in the studio, we have this one\npublic IP that we're all sharing.\n\n257\n00:14:24.520 --> 00:14:26.500\nWe're overloading that IP,\n\n258\n00:14:26.500 --> 00:14:30.120\nwe're telling it to do a heck of a lot\nmore than what it would normally do.\n\n259\n00:14:30.120 --> 00:14:32.620\nAnd by overloading it, we can share,\n\n260\n00:14:32.620 --> 00:14:34.710\nwe can really maximize what\nthat IP gets used for.\n\n261\n00:14:34.710 --> 00:14:36.450\nNow there are limits, right?\n\n262\n00:14:36.450 --> 00:14:38.570\nThere's only 15,000 ports available.\n\n263\n00:14:38.570 --> 00:14:43.350\nSo what happens if I have 15,000 machines,\nand everybody opens up two tabs?\n\n264\n00:14:43.350 --> 00:14:45.340\nWell, I mean,\nyou saw when I connected to one server,\n\n265\n00:14:45.340 --> 00:14:46.630\nI opened up four different ports.\n\n266\n00:14:46.630 --> 00:14:49.560\nSo when you connect to one server, it's\nvery common to open up many, many ports.\n\n267\n00:14:49.560 --> 00:14:52.310\nSo you could run out of ports.\n\n268\n00:14:52.310 --> 00:14:56.140\nThey call it port starvation, where\nyou run out of port numbers on an IP.\n\n269\n00:14:56.140 --> 00:14:59.620\nSo you can't overload it too far,\nthere are limits.\n\n270\n00:14:59.620 --> 00:15:03.240\nBut how many people have 15,000\ncomputers all tucked behind one IP,\n\n271\n00:15:03.240 --> 00:15:04.180\nthat's pretty uncommon.\n\n272\n00:15:04.180 --> 00:15:07.330\nSo if that's the case,\nyou'd need more than one IP anyway.\n\n273\n00:15:07.330 --> 00:15:10.960\nSo when we go to implement network\naddress translation on a Cisco router or\n\n274\n00:15:10.960 --> 00:15:14.460\nswitch, firewall,\nI don't think any of the switches do it,\n\n275\n00:15:14.460 --> 00:15:16.240\nit's really routers and firewalls.\n\n276\n00:15:16.240 --> 00:15:17.670\nBut if we go to implement this,\n\n277\n00:15:17.670 --> 00:15:22.740\nthat we just have to be aware of the\ndifferent modes that it can operate in.\n\n278\n00:15:22.740 --> 00:15:25.890\nSo, I know I don't have a ton\nof time in this episode, so\n\n279\n00:15:25.890 --> 00:15:29.175\nI'm gonna start off with\nthe most straightforward mode,\n\n280\n00:15:29.175 --> 00:15:33.870\nwhich is just straight up Network Address\nTranslation, a one to one mapping where I\n\n281\n00:15:33.870 --> 00:15:37.917\nconvert a source IP into a different\nIP and cross a network, all right.\n\n282\n00:15:37.917 --> 00:15:40.894\nLet's start simple so that we\nunderstand it, and then in part two,\n\n283\n00:15:40.894 --> 00:15:44.620\nwe'll go to the more complex ones and see\nthe full implementation of it, all right?\n\n284\n00:15:44.620 --> 00:15:47.270\nSo what's sort of my topology here?\n\n285\n00:15:47.270 --> 00:15:50.230\nI've got three routers, these are the\nrouters I've been using the whole series.\n\n286\n00:15:50.230 --> 00:15:54.514\nRouters 2, 4, and 6, and\nback in the static routing episode,\n\n287\n00:15:54.514 --> 00:15:57.513\nI highlighted a little\nproblem with routers.\n\n288\n00:15:57.513 --> 00:16:00.487\nWhen routers come up,\nthey have to build a routing table, and\n\n289\n00:16:00.487 --> 00:16:03.647\nthe routing table includes their\ndirectly connected networks.\n\n290\n00:16:03.647 --> 00:16:07.599\nSo Router 2 is connected to Router 4,\nRouter 4 is connected to Router 6.\n\n291\n00:16:07.599 --> 00:16:10.864\nThat means that router 4 knows\nabout both of these other routers.\n\n292\n00:16:10.864 --> 00:16:13.870\nSo it's gonna be able to talk to them and\nit's no big deal.\n\n293\n00:16:13.870 --> 00:16:17.570\nBut router 2 does not know about router 6.\n\n294\n00:16:17.570 --> 00:16:19.750\nThey're not directly\nplugged into each other.\n\n295\n00:16:19.750 --> 00:16:24.420\nAnd so if router 2 tries to ping across\ninto router 4, that's gonna work.\n\n296\n00:16:24.420 --> 00:16:26.850\nBut if it tries to ping\nall the way to router 6,\n\n297\n00:16:26.850 --> 00:16:30.610\nwe won't be able to get replies back\nunless router 6 knows our route.\n\n298\n00:16:31.870 --> 00:16:35.580\nWell, in an earlier episode we turned on\nRIP and so we have that, that's working.\n\n299\n00:16:35.580 --> 00:16:40.900\nIf I jump over to my routers, which I have\nparked around here somewhere, here we go.\n\n300\n00:16:40.900 --> 00:16:43.690\nIf I jump over to my routers,\nwe're running RIP right now.\n\n301\n00:16:43.690 --> 00:16:48.580\nAnd so actually, let me go back to my\ntopology and show you guys the networks.\n\n302\n00:16:48.580 --> 00:16:52.147\nSo the networks that I've\ngot between these routers,\n\n303\n00:16:52.147 --> 00:16:58.754\nwe've got 192.168.2.0 right here and\nwe've got 192.168.4.0 right here.\n\n304\n00:16:58.754 --> 00:17:01.512\nSo those are my two different\nnetworks that we've got and\n\n305\n00:17:01.512 --> 00:17:03.880\nrouter 4 is the only\nthat's plugged into both.\n\n306\n00:17:03.880 --> 00:17:07.400\nI'm running RIP right now so they should\nbe exchanging that information and\n\n307\n00:17:07.400 --> 00:17:11.538\nthen we should have it and\nbeing nice and communicable.\n\n308\n00:17:11.538 --> 00:17:14.769\nSo well now, diseases are communicable,\nI guess, but\n\n309\n00:17:14.769 --> 00:17:17.397\nwe are communicating\n[LAUGH] on our networks.\n\n310\n00:17:17.397 --> 00:17:19.145\nYeah, anyhow,\nthat's gonna go downhill fast.\n\n311\n00:17:19.145 --> 00:17:20.608\n[CROSSTALK]\n>> Let me ask you a question since we're\n\n312\n00:17:20.608 --> 00:17:23.345\nactually right there and you just showed\nus those two different networks, right?\n\n313\n00:17:23.345 --> 00:17:25.540\n>> Mm-hm.\n>> You said that normally when we're doing\n\n314\n00:17:25.540 --> 00:17:30.670\nthat, that it's actually normally a public\nIP address and then a private IP address.\n\n315\n00:17:30.670 --> 00:17:32.480\nBut there,\nthey're both private IP addresses.\n\n316\n00:17:32.480 --> 00:17:35.165\nSo NAT's perfectly fine even\nif we run it in between there?\n\n317\n00:17:35.165 --> 00:17:39.020\n>> Yeah, NAT, we normally use it\nin between us and the Internet cuz\n\n318\n00:17:39.020 --> 00:17:42.030\nwe're trying to hide private IPs, but you\ncan use it inside of your business, too.\n\n319\n00:17:42.030 --> 00:17:43.990\nYou can use it on internal systems.\n\n320\n00:17:43.990 --> 00:17:47.100\nIn fact, there's a number of\nareas where you might do that.\n\n321\n00:17:47.100 --> 00:17:50.520\nFor example,\nlet's say that you're a small business.\n\n322\n00:17:50.520 --> 00:17:52.530\nAnd so you just get started.\n\n323\n00:17:52.530 --> 00:17:53.880\nYou've only got 50 computers.\n\n324\n00:17:53.880 --> 00:17:55.242\nAnd so you do what everybody does.\n\n325\n00:17:55.242 --> 00:17:58.322\nAnd you set up your\nnetwork as 192.168.0.0,\n\n326\n00:17:58.322 --> 00:18:00.880\nthe most common network in the planet.\n\n327\n00:18:00.880 --> 00:18:02.780\nAnd that gives you 254 IPs,\nmore than enough for\n\n328\n00:18:02.780 --> 00:18:05.390\nthe machines you've got on your network.\n\n329\n00:18:05.390 --> 00:18:08.030\nSo that's it,\nyou pick that network and you go.\n\n330\n00:18:08.030 --> 00:18:11.243\nWell, as time goes by, you work on\na partnership with another company,\n\n331\n00:18:11.243 --> 00:18:13.523\nanother small business,\nand you decide to merge.\n\n332\n00:18:13.523 --> 00:18:21.110\nWell, their computers are 192.168.0.0,\nand your computers are 192.168.0.0.\n\n333\n00:18:21.110 --> 00:18:22.200\nYou're the same.\n\n334\n00:18:22.200 --> 00:18:25.480\nYou can't route between networks that\nare in the same subnet because they\n\n335\n00:18:25.480 --> 00:18:27.170\nthink they're on the same network.\n\n336\n00:18:27.170 --> 00:18:28.622\nSo how do you communicate with them?\n\n337\n00:18:28.622 --> 00:18:33.320\nYou can't, it's the same subnet,\nyou duplicated IPs.\n\n338\n00:18:33.320 --> 00:18:37.135\nOr you could get a connection between\nthe two networks so you could run NAT and\n\n339\n00:18:37.135 --> 00:18:38.334\nyou could hide the IPs.\n\n340\n00:18:38.334 --> 00:18:43.400\nYou could convert one side to 192.168.1.0\nas it passed through the routers.\n\n341\n00:18:43.400 --> 00:18:46.597\nAnd you could convert the other side\nto 192.168.2.0 as it passed through\n\n342\n00:18:46.597 --> 00:18:48.660\nthe router or\nwhatever IPs you wanted to pick.\n\n343\n00:18:48.660 --> 00:18:52.579\nSo you could be using NAT internally to\nmask those systems with private IPs so\n\n344\n00:18:52.579 --> 00:18:54.181\nit doesn't have to be public.\n\n345\n00:18:54.181 --> 00:18:55.580\n>> Cool.\n\n346\n00:18:55.580 --> 00:19:00.000\n>> So on my systems right now, if I take\na look at router 4, router 4 is directly\n\n347\n00:19:00.000 --> 00:19:05.330\nplugged into 192.168.2, and\nit's directly plugged into 192.168.4.\n\n348\n00:19:05.330 --> 00:19:09.432\nSo that's working fine and\nit doesn't need RIP.\n\n349\n00:19:09.432 --> 00:19:12.970\nAnd so, I'm gonna turn off RIP on this\nrouter because it doesn't need it to see\n\n350\n00:19:12.970 --> 00:19:15.050\nthe two networks that are involved.\n\n351\n00:19:15.050 --> 00:19:20.260\nNow when I do that, what's gonna\nhappen is, router 2 and router 6,\n\n352\n00:19:20.260 --> 00:19:24.060\neven though they're running RIP, they\ndon't have anybody to talk to anymore.\n\n353\n00:19:24.060 --> 00:19:26.266\nThey're gonna be trying to exchange\nRIP routes to router 4, and\n\n354\n00:19:26.266 --> 00:19:27.630\nrouter 4 is gonna ignore them.\n\n355\n00:19:27.630 --> 00:19:30.860\nSo router 2 and router 6 are gonna\nlose sight of each other.\n\n356\n00:19:30.860 --> 00:19:36.381\nAnd now, router 2 won't necessarily\nknow how to get to 192.168.4.\n\n357\n00:19:36.381 --> 00:19:37.060\nIt doesn't know how to get there.\n\n358\n00:19:38.890 --> 00:19:42.960\nSo we might solve that by doing something\nlike setting up a default gateway.\n\n359\n00:19:42.960 --> 00:19:45.880\nThat's what we would do on our home\nrouters, set up a default gateway and\n\n360\n00:19:45.880 --> 00:19:48.610\nsay, if router 2 wants to get to\na network it doesn't know about,\n\n361\n00:19:48.610 --> 00:19:50.270\nit needs to go to router 4.\n\n362\n00:19:50.270 --> 00:19:53.770\nAnd on router 6, I could set up a default\ngateway there, and say if it wants to get\n\n363\n00:19:53.770 --> 00:19:57.429\nback, we can turn that on, and now they'll\nbe able to route between each other.\n\n364\n00:19:58.760 --> 00:20:03.680\nBut when we do it,\nwe're routing with our internal IPs.\n\n365\n00:20:03.680 --> 00:20:09.490\nSo, for example, I'll turn RIP back\non just to get the routes in place.\n\n366\n00:20:09.490 --> 00:20:10.620\nSo, I'll turn that back on.\n\n367\n00:20:12.140 --> 00:20:14.380\nSo if I jump over to router 2 right now,\n\n368\n00:20:14.380 --> 00:20:17.650\nI don't have static routes because\nRIP is taking care of it for me.\n\n369\n00:20:17.650 --> 00:20:23.387\nSo if I do a show ip route, I'm not\nplugged into 192.168.4, but I do see it.\n\n370\n00:20:23.387 --> 00:20:25.610\nI see it cuz RIP is telling me about it.\n\n371\n00:20:25.610 --> 00:20:29.800\nAnd if I were to try and reach out to that\nother router, let's set that router up for\n\n372\n00:20:29.800 --> 00:20:33.170\ntelnet cuz I don't think I have\nauthentication turned on on this one,\n\n373\n00:20:33.170 --> 00:20:33.740\nif I remember right.\n\n374\n00:20:33.740 --> 00:20:37.120\nSo let me just really quickly\nget this one set up for telnet.\n\n375\n00:20:37.120 --> 00:20:40.478\nSo if I wanna telnet into it,\nI need to enable secret,\n\n376\n00:20:40.478 --> 00:20:42.807\nwhich I'll just make cisco123.\n\n377\n00:20:42.807 --> 00:20:45.507\nI need to get into line vty 0 4 and\n\n378\n00:20:45.507 --> 00:20:50.147\nissue the login command, and\nit needs a password, too.\n\n379\n00:20:50.147 --> 00:20:53.630\nAnd so we'll get that set, there we go.\n\n380\n00:20:53.630 --> 00:20:56.880\nSo now we're set up to where we\ncan telnet into this router.\n\n381\n00:20:56.880 --> 00:21:02.830\nSo router 6, if I do a show ip int br,\nis 192.168.4.6, okay?\n\n382\n00:21:05.860 --> 00:21:09.530\nAnd if I I jump over to router 2,\nI should be able to telnet into that.\n\n383\n00:21:09.530 --> 00:21:16.465\nIf I telnet into 192.168.4.6, I'm gonna\nget connected and I'm gonna log in.\n\n384\n00:21:17.735 --> 00:21:21.575\nAnd if I do a show user,\nI can see who's logged in.\n\n385\n00:21:21.575 --> 00:21:27.610\nAnd I can see that I'm logged in on a vty,\nand way over here, I can see my location.\n\n386\n00:21:27.610 --> 00:21:30.700\nMy location is 192.168.2.2.\n\n387\n00:21:30.700 --> 00:21:32.970\nThere's that private IP of mine.\n\n388\n00:21:32.970 --> 00:21:35.520\nAnd on an internal network like this,\nthat's fine.\n\n389\n00:21:35.520 --> 00:21:40.270\nBut if I were telnetting to somebody\nexternal that had a public IP, well,\n\n390\n00:21:40.270 --> 00:21:43.010\nthey're not gonna know to\nbe able to respond to me.\n\n391\n00:21:43.010 --> 00:21:46.000\nSo I'm gonna need to translate\nthat to something different.\n\n392\n00:21:46.000 --> 00:21:49.375\nAnd so we normally translate it to\na public IP address of some sort so\n\n393\n00:21:49.375 --> 00:21:51.684\nthat we can communicate across and\nsee that.\n\n394\n00:21:51.684 --> 00:21:54.430\nSo I'm gonna create that\nfake kind of environment.\n\n395\n00:21:54.430 --> 00:21:58.020\nWhat I'm gonna do is I'm gonna\ntake this network right here and\n\n396\n00:21:58.020 --> 00:22:02.450\nI'm gonna turn it into a public range,\nto a public network and\n\n397\n00:22:02.450 --> 00:22:06.050\nget these guys set up as if\nthey were on a public network.\n\n398\n00:22:06.050 --> 00:22:11.360\nSo on router 4,\nI guess that it's gi1/0 interface.\n\n399\n00:22:11.360 --> 00:22:15.644\nSo on router 4,\nI'm gonna go and change that.\n\n400\n00:22:15.644 --> 00:22:21.016\nAnd we'll setup its gi1/0\nto have a public address.\n\n401\n00:22:21.016 --> 00:22:22.250\nI'll just give them our\naddress here at the studio.\n\n402\n00:22:22.250 --> 00:22:27.406\nSo I'll say ip address 209.251.159.\n\n403\n00:22:27.406 --> 00:22:29.000\nIt's something at router 4 so\nwe'll just do that.\n\n404\n00:22:29.000 --> 00:22:31.550\nI'm gonna cheat the IPs to make it easier.\n\n405\n00:22:31.550 --> 00:22:35.050\nSo I'm gonna change it\nto that public network.\n\n406\n00:22:35.050 --> 00:22:38.140\nAnd at this point, RIP isn't really gonna\nhelp me much so I might as well just turn\n\n407\n00:22:38.140 --> 00:22:42.200\nRIP back off again since my IPs\nare gonna become a little crazy.\n\n408\n00:22:42.200 --> 00:22:47.008\nSo now I've got this public IP or\nthis public network that I'm attached to.\n\n409\n00:22:47.008 --> 00:22:51.112\nAnd I'm gonna go to router 6, and\non router 6, I'll do the same thing.\n\n410\n00:22:51.112 --> 00:22:56.510\nI'm gonna get rid of its 192.168.4\naddress and I'm gonna make it a public.\n\n411\n00:22:56.510 --> 00:23:02.736\nSo I'll say ip address 209.251.159.6,\n\n412\n00:23:02.736 --> 00:23:06.581\nand we'll get that one assigned.\n\n413\n00:23:06.581 --> 00:23:08.570\nAnd I might as well turn off RIP on it,\ntoo.\n\n414\n00:23:08.570 --> 00:23:10.219\nYou don't run RIP on the Internet.\n\n415\n00:23:10.219 --> 00:23:14.895\n[LAUGH] That would be a bad decision,\nso I'll just get rid of RIP there, too.\n\n416\n00:23:14.895 --> 00:23:20.234\nSo now, when I look at its routing table,\nI can see the 209.251.159\n\n417\n00:23:20.234 --> 00:23:26.420\nnetwork that I'm a part of and it's up and\nI'm now a public Internet router.\n\n418\n00:23:26.420 --> 00:23:29.532\nNow on my routing table,\nI don't have any gateway of last resort.\n\n419\n00:23:29.532 --> 00:23:33.126\nSo I'm only gonna be able to talk\nto people that I know about,\n\n420\n00:23:33.126 --> 00:23:37.505\nwhich in my case is 172.16.0.0 and\n209.251.159.\n\n421\n00:23:37.505 --> 00:23:41.152\nRouter 2 is still in 192.168.2,\n\n422\n00:23:41.152 --> 00:23:45.480\nwhich is no longer in\nrouter 6's routing table.\n\n423\n00:23:45.480 --> 00:23:47.570\nSo router 6 does not know\nhow to reply to that.\n\n424\n00:23:47.570 --> 00:23:49.070\nI can't get back to it.\n\n425\n00:23:49.070 --> 00:23:52.623\nAnd so if I try and do that,\nif I try and go back to router 2 and\n\n426\n00:23:52.623 --> 00:23:55.910\nrepeat what I did just a moment ago,\nit's gonna fail.\n\n427\n00:23:55.910 --> 00:24:00.964\nIn fact,\nit's already failed [LAUGH] because\n\n428\n00:24:00.964 --> 00:24:07.492\nmy telnet session is trapped\nin that router, there we go.\n\n429\n00:24:07.492 --> 00:24:11.408\nThere's a weird keyboard shortcut that\nyou can hit to get out of telnet sessions\n\n430\n00:24:11.408 --> 00:24:11.999\nlike that.\n\n431\n00:24:11.999 --> 00:24:16.106\nWhich is Ctrl+Shift+6,\nand then the letter x.\n\n432\n00:24:16.106 --> 00:24:19.416\nGet it, Ctrl+Shift+6, let go,\nand then hit the letter x.\n\n433\n00:24:19.416 --> 00:24:21.240\nIt's a weird one, won't be on the exam.\n\n434\n00:24:21.240 --> 00:24:24.240\nBut in real life, if that ever happens\nto you, that's what I just had to do.\n\n435\n00:24:24.240 --> 00:24:27.910\nAll right, and so now,\nI'm back into good old Router 2.\n\n436\n00:24:27.910 --> 00:24:33.428\nAnd if do a show ip route,\nI don't have a route to 209.215.159.\n\n437\n00:24:33.428 --> 00:24:34.850\nI don't even know how to get there.\n\n438\n00:24:34.850 --> 00:24:37.920\nSo maybe I set myself up\nwith a default gateway.\n\n439\n00:24:37.920 --> 00:24:40.720\nI'll say ip route 0.0.0.0, and\n\n440\n00:24:40.720 --> 00:24:46.580\nI'm gonna point that over to 192.168.2.4,\nover to Router 4, right?\n\n441\n00:24:47.620 --> 00:24:52.110\nRouter 4 is in between the two networks,\nand so it knows how to get there, right?\n\n442\n00:24:52.110 --> 00:24:55.830\nAnd so by doing that, now if I try and\n\n443\n00:24:55.830 --> 00:25:00.296\ntelnet to 209.251.159.6,\n\n444\n00:25:00.296 --> 00:25:06.009\nmy default route will get used,\nI'll go to Router 4.\n\n445\n00:25:06.009 --> 00:25:09.520\nI'll hit Router 4, and\nRouter 4 will send me to Router 6.\n\n446\n00:25:09.520 --> 00:25:14.074\nBut now Router 6 has to reply to me,\nand I'm 192.168.2.2 and\n\n447\n00:25:14.074 --> 00:25:17.150\nRouter 6 doesn't know\nhow to get back to that.\n\n448\n00:25:17.150 --> 00:25:20.390\nIt's a private IP, it shouldn't be\nout there on the Internet anyway, and\n\n449\n00:25:20.390 --> 00:25:21.660\nI can't connect, right?\n\n450\n00:25:21.660 --> 00:25:23.600\nSo I've got that break in routing.\n\n451\n00:25:23.600 --> 00:25:27.250\nNow if this is private, I can just go and\ncorrect this with some static routes or\n\n452\n00:25:27.250 --> 00:25:28.870\na routing protocol or whatever.\n\n453\n00:25:28.870 --> 00:25:30.630\nBut this is the Internet, so\n\n454\n00:25:30.630 --> 00:25:33.860\nI can't control the other end,\nI've gotta fix it myself.\n\n455\n00:25:33.860 --> 00:25:38.420\nAnd the best way to fix it is to\ntell the router in the middle, hey,\n\n456\n00:25:38.420 --> 00:25:41.780\nI can't send 192.168.2.0\nout to the Internet.\n\n457\n00:25:41.780 --> 00:25:46.640\nSo, as that traffic passes from Router\n2 into Router 4, we need to change it.\n\n458\n00:25:46.640 --> 00:25:49.620\nWe need to translate it\ninto a public IP and\n\n459\n00:25:49.620 --> 00:25:54.210\nthen send it across the wire\nover to Router 6, okay.\n\n460\n00:25:54.210 --> 00:25:57.796\nThat will work because by the time we\nget to Router 6, now it's a public IP,\n\n461\n00:25:57.796 --> 00:26:01.650\nRouter 6 can reply back to Router 4.\n\n462\n00:26:01.650 --> 00:26:06.440\nRouter 4 can untranslate it and\nsend it back to Router 2, right?\n\n463\n00:26:06.440 --> 00:26:08.080\nWe just need to get it configured,\nso let's do that.\n\n464\n00:26:09.170 --> 00:26:15.530\nOver on Router 4, what I'm gonna do\nis I'm gonna create one to one nat.\n\n465\n00:26:15.530 --> 00:26:17.400\nOne to one nat is the true version of nat,\n\n466\n00:26:17.400 --> 00:26:18.552\nit's the kind of nat that\nyou never do at home.\n\n467\n00:26:18.552 --> 00:26:23.380\nI'm gonna assign one IP to one client,\nokay?.\n\n468\n00:26:23.380 --> 00:26:25.440\nSo I'm just gonna go in here and\ntie that in.\n\n469\n00:26:25.440 --> 00:26:29.065\nAnd the way we do it is with a command\nthat, it's a little bit long, but\n\n470\n00:26:29.065 --> 00:26:30.920\nat least, it's a single command.\n\n471\n00:26:30.920 --> 00:26:36.590\nWe're gonna say ip nat,\nso I'm turning on nat.\n\n472\n00:26:36.590 --> 00:26:41.650\nAnd then I need to tell it who my\ninside IPs are and my outside IPs.\n\n473\n00:26:41.650 --> 00:26:44.686\nMy inside, those are my privates,\nright, the private IPs.\n\n474\n00:26:44.686 --> 00:26:47.887\nSo, I'm gonna say inside source, and\n\n475\n00:26:47.887 --> 00:26:53.690\nthe inside source is gonna be a static IP,\na particular person.\n\n476\n00:26:53.690 --> 00:26:57.878\nAnd in my case, it's 192.168.2.2,\nthat's Router 2.\n\n477\n00:26:57.878 --> 00:27:01.771\nSo I'm gonna say whenever Router\n2 passes through the system,\n\n478\n00:27:01.771 --> 00:27:04.520\nI'm gonna change it to\na different address.\n\n479\n00:27:04.520 --> 00:27:12.097\nAnd so that different address is\ngoing to be 209.251.159.2, right?\n\n480\n00:27:12.097 --> 00:27:16.877\nSo I'm gonna translate it, so\nwhenever I see inside traffic\n\n481\n00:27:16.877 --> 00:27:21.097\ncoming from a static IP of 192.168.2.2,\n\n482\n00:27:21.097 --> 00:27:24.957\ntranslate it to 209.251.159.2.\n\n483\n00:27:24.957 --> 00:27:29.020\nThis is one to one nat or standard nat.\n\n484\n00:27:29.020 --> 00:27:33.420\nOkay, now, once I've entered in that\ncommand, I've now configured nat, but\n\n485\n00:27:33.420 --> 00:27:35.060\nit's not actually working yet.\n\n486\n00:27:35.060 --> 00:27:38.313\nAnd the reason is I'm using these\nwords like inside and outside.\n\n487\n00:27:38.313 --> 00:27:41.020\nThe router doesn't know who is inside and\nwho is outside.\n\n488\n00:27:41.020 --> 00:27:45.420\nI need to tell it which interfaces are\ninside and which interfaces are outside.\n\n489\n00:27:45.420 --> 00:27:50.696\nAnd so if I do a show ip int br,\nI can see that my 192.168.2 network,\n\n490\n00:27:50.696 --> 00:27:54.258\nthat's on gi2/0,\nthat's gonna be my inside.\n\n491\n00:27:54.258 --> 00:27:57.610\nAnd the 209.251,\nthat's gonna be my outside.\n\n492\n00:27:57.610 --> 00:28:05.490\nSo I'm gonna get into int gi2/0,\nand I'm gonna say ip nat inside.\n\n493\n00:28:05.490 --> 00:28:07.890\nSo it knows that this interface is inside.\n\n494\n00:28:07.890 --> 00:28:14.290\nAnd then I'm gonna get up to gi1/0,\nand I'm gonna say ip nat outside.\n\n495\n00:28:14.290 --> 00:28:17.440\nNow it knows which interface is inside,\nand which interface is outside.\n\n496\n00:28:17.440 --> 00:28:22.219\nAnd nat only works when traffic crosses\nfrom an inside interface to an outside\n\n497\n00:28:22.219 --> 00:28:25.243\ninterface, or vice versa,\noutside to inside.\n\n498\n00:28:25.243 --> 00:28:30.147\nIf you go inside to inside, or\noutside to outside, it doesn't translate.\n\n499\n00:28:30.147 --> 00:28:33.879\nOr if you go inside to an unlabeled,\nor outside to an unlabeled,\n\n500\n00:28:33.879 --> 00:28:35.490\nit doesn't translate.\n\n501\n00:28:35.490 --> 00:28:39.370\nSo it only translates when you go inside\nto outside, or outside to inside.\n\n502\n00:28:39.370 --> 00:28:43.005\nYou can do reverse nat, you can nat\nthe other way around if you need to.\n\n503\n00:28:43.005 --> 00:28:45.552\nAnd that's part of what you would need\nto do if you had two businesses using\n\n504\n00:28:45.552 --> 00:28:47.120\nthe same subnet.\n\n505\n00:28:47.120 --> 00:28:50.010\nBut now that it's in place, it's working.\n\n506\n00:28:50.010 --> 00:28:51.160\nWell, we assume it's working.\n\n507\n00:28:51.160 --> 00:28:52.790\nNow how do we verify it?\n\n508\n00:28:52.790 --> 00:28:56.910\nWhen it does translations like these, it\ntakes a few seconds to send data out, and\n\n509\n00:28:56.910 --> 00:28:58.290\nwe gotta wait for a reply.\n\n510\n00:28:58.290 --> 00:29:00.019\nSo the router keeps a table.\n\n511\n00:29:00.019 --> 00:29:03.649\nThere's a table,\nif you run show ip nat translations,\n\n512\n00:29:03.649 --> 00:29:07.292\nit will show you all\nthe translations that are going on.\n\n513\n00:29:07.292 --> 00:29:08.376\nAnd right now,\n\n514\n00:29:08.376 --> 00:29:13.980\nI can see where it's mapping an inside\nlocal to an inside global, right?\n\n515\n00:29:13.980 --> 00:29:20.110\nInside local means this is a local IP\naddress, it's locally unique just to us.\n\n516\n00:29:20.110 --> 00:29:26.030\nInside global means this is a globally\nunique address, this is a public IP.\n\n517\n00:29:26.030 --> 00:29:31.382\nSo I've got my private local address\nchanging into a global public address,\n\n518\n00:29:31.382 --> 00:29:37.247\n192.168.2.2 converting into 209.251.159.2,\nright?\n\n519\n00:29:37.247 --> 00:29:39.338\nThis should be working,\nI'm gonna say should,\n\n520\n00:29:39.338 --> 00:29:41.480\ncuz I need my out in case it doesn’t work.\n\n521\n00:29:41.480 --> 00:29:46.950\nBut if I jump over to Router 2,\nwhat I'm gonna do is, kind of going back\n\n522\n00:29:46.950 --> 00:29:52.560\nto our diagram here, I’m gonna send\na ping from Router 2 through to Router 6.\n\n523\n00:29:52.560 --> 00:29:56.670\nNow when I cross through Router 4,\nI'm going in the inside interface and\n\n524\n00:29:56.670 --> 00:29:58.210\ngoing out the outside interface.\n\n525\n00:29:58.210 --> 00:30:02.490\nSo it should see my source IP and\ntranslate it, okay.\n\n526\n00:30:02.490 --> 00:30:06.110\nNow, the hard thing about ping\nis pings happen really fast.\n\n527\n00:30:06.110 --> 00:30:08.290\nAnd so it's difficult to run them and\nthen go and\n\n528\n00:30:08.290 --> 00:30:10.790\nsee if the translation is occurring.\n\n529\n00:30:10.790 --> 00:30:17.315\nSo when I ping 209.251.159.6,\nthat failed a moment ago.\n\n530\n00:30:17.315 --> 00:30:20.080\nThis time, I should be passing\nthrough the router and getting there.\n\n531\n00:30:20.080 --> 00:30:23.320\nAnd so sure enough,\nI can see that I am able to ping Router 6.\n\n532\n00:30:23.320 --> 00:30:28.608\nRouter 6 does not know how\nto get to 192.168.2.2.\n\n533\n00:30:28.608 --> 00:30:30.850\nBut somehow it's able to talk to me.\n\n534\n00:30:30.850 --> 00:30:32.530\nSo I must be getting translated.\n\n535\n00:30:32.530 --> 00:30:35.740\nWell, it's hard to tell,\nbecause if I jump over to Router 4, and\n\n536\n00:30:35.740 --> 00:30:40.660\nI do a show ip nat translations,\nthey were still there.\n\n537\n00:30:40.660 --> 00:30:43.180\nA lot of times, they've exited\nthe table by the time you get here, and\n\n538\n00:30:43.180 --> 00:30:43.800\nyou can't see it.\n\n539\n00:30:43.800 --> 00:30:46.592\nBut I guess I got here fast enough, and\n\n540\n00:30:46.592 --> 00:30:51.132\nI can see 192.168.2.2 was\nsending icmp traffic,\n\n541\n00:30:51.132 --> 00:30:55.508\nthey were sending pings to 209.251.159.6.\n\n542\n00:30:55.508 --> 00:31:00.534\nAnd when that happened,\nwe translated it to 209.251.159.2.\n\n543\n00:31:00.534 --> 00:31:03.950\nIt changed my IP in transit, all right.\n\n544\n00:31:03.950 --> 00:31:07.770\nNotice on the outside local,\noutside global, it didn't change those.\n\n545\n00:31:07.770 --> 00:31:10.290\nWe didn't translate who we were going to,\nwe translated us,\n\n546\n00:31:10.290 --> 00:31:13.120\nwe translated the source,\nnot the destination.\n\n547\n00:31:13.120 --> 00:31:15.940\nYou can translate\nthe destination if you want,\n\n548\n00:31:15.940 --> 00:31:17.810\nnot a lot of scenarios\nwhere you need that.\n\n549\n00:31:17.810 --> 00:31:20.150\nWe're normally translating the source.\n\n550\n00:31:20.150 --> 00:31:23.480\nNow another way I could have seen this is\nif I used any protocol that was in any way\n\n551\n00:31:23.480 --> 00:31:24.180\ntraceable, right?\n\n552\n00:31:24.180 --> 00:31:28.793\nSo, like Router 2, if I open up that\ntelnet session, remember earlier,\n\n553\n00:31:28.793 --> 00:31:32.674\nlet me see if I can scroll back and\nfind it, when I telnetted in,\n\n554\n00:31:32.674 --> 00:31:37.150\nI saw that I was on the vty, and\nthis is me telnetting into Router 6.\n\n555\n00:31:37.150 --> 00:31:43.080\nAnd on Router 6, it was able to\nsee that I was 192.168.2.2, okay.\n\n556\n00:31:43.080 --> 00:31:49.005\nWell, watch what happens now if\nI telnet into 209.251.159.6.\n\n557\n00:31:49.005 --> 00:31:50.230\nI'm gonna telnet into that one.\n\n558\n00:31:52.070 --> 00:31:54.896\nAnd once I'm in,\nI've got a Router 6 prompt.\n\n559\n00:31:54.896 --> 00:31:59.080\nSo I'm telnetting into that router,\nI'm gonna do a show user.\n\n560\n00:31:59.080 --> 00:32:03.080\nAnd there I am logged in, so\nI'm logged into vty 0, and\n\n561\n00:32:03.080 --> 00:32:06.587\nmy IP address, 209.251.159.2.\n\n562\n00:32:06.587 --> 00:32:08.582\nIt sees me as the translated IP.\n\n563\n00:32:08.582 --> 00:32:14.467\nRouter 6 has no idea that\n192.168.2.2 even exists.\n\n564\n00:32:14.467 --> 00:32:17.786\nIt just thinks I'm 209.251.159.2.\n\n565\n00:32:17.786 --> 00:32:21.590\nAnd as long as I stay connected,\nthat's all router six is going to see.\n\n566\n00:32:21.590 --> 00:32:25.320\nIn the meantime, router four is\nsitting right in between, and\n\n567\n00:32:25.320 --> 00:32:27.000\nit's translating that traffic.\n\n568\n00:32:27.000 --> 00:32:28.970\nAnd so, if I look at my translations,\n\n569\n00:32:28.970 --> 00:32:32.060\nsee the ICMP ones are already\ngone cuz they closed.\n\n570\n00:32:32.060 --> 00:32:35.010\nBut this Telnet connection's\ngonna stay open as long as I keep\n\n571\n00:32:35.010 --> 00:32:36.390\nthe Telnet session open.\n\n572\n00:32:36.390 --> 00:32:38.805\nSo here's me on the inside,\n\n573\n00:32:38.805 --> 00:32:44.360\n192.168.2.2 with one of those\nrandomly generated port numbers.\n\n574\n00:32:44.360 --> 00:32:46.670\nIt generated a port under 49,152\nit's not supposed to do that,\n\n575\n00:32:46.670 --> 00:32:48.802\nbut Cisco broke the rules.\n\n576\n00:32:48.802 --> 00:32:53.231\nSo anyhow there it is on the inside and\nit got translated to\n\n577\n00:32:53.231 --> 00:32:58.510\n209.251.159.2 and\nsee how it's still 48982?\n\n578\n00:32:58.510 --> 00:33:01.870\nWe're doing one-to-one mappings, so\nwe don't need port address translations.\n\n579\n00:33:01.870 --> 00:33:03.010\nWe don't need to change the port number,\n\n580\n00:33:03.010 --> 00:33:05.260\nthey stay the same,\ncuz I'm just one machine.\n\n581\n00:33:05.260 --> 00:33:07.630\nRight, one to one NAT doesn't need that.\n\n582\n00:33:07.630 --> 00:33:11.538\nAnd so it's translating us over and\nsending us out to the other side.\n\n583\n00:33:11.538 --> 00:33:15.760\nAnd it's gonna continue doing that every\nkeystroke, every time I press Enter,\n\n584\n00:33:15.760 --> 00:33:20.410\nevery time I do anything in this Telnet\nsession, it's getting translated.\n\n585\n00:33:20.410 --> 00:33:26.910\nSo if I do an enable, we'll put in the\nright password, do a show running-config.\n\n586\n00:33:26.910 --> 00:33:30.150\nAll of this stuff is being translated\nas it passes through router four.\n\n587\n00:33:30.150 --> 00:33:33.960\nNow that does create a little\nbit of a burden on router four.\n\n588\n00:33:33.960 --> 00:33:36.236\nThe more traffic it's moving\nthe more it's gotta translate.\n\n589\n00:33:36.236 --> 00:33:40.162\nAnd when it translates, we're digging into\nthat packet and changing layer three data\n\n590\n00:33:40.162 --> 00:33:43.300\nwhich means we have to rewrite\nthe layer two header completely.\n\n591\n00:33:43.300 --> 00:33:44.430\nSo that is a bit of work.\n\n592\n00:33:44.430 --> 00:33:47.230\nRouters do this stuff all the time\nthough and so they do it in hardware and\n\n593\n00:33:47.230 --> 00:33:48.550\nthey do it pretty efficiently.\n\n594\n00:33:48.550 --> 00:33:51.100\nSo you can get in there and\ntry out everything that you need and\n\n595\n00:33:51.100 --> 00:33:52.029\ncommunicate across.\n\n596\n00:33:53.440 --> 00:33:56.310\nThis is the most simple form of NAT.\n\n597\n00:33:56.310 --> 00:33:58.880\nWhat it really boiled down\nto were three commands.\n\n598\n00:33:58.880 --> 00:34:03.230\nSo if we pull those back up,\nI'm gonna just try and\n\n599\n00:34:03.230 --> 00:34:04.860\ngrab all the NAT commands at once.\n\n600\n00:34:06.300 --> 00:34:08.350\nWhen, take a look at those commands again.\n\n601\n00:34:08.350 --> 00:34:10.130\nIt helps if I'm on the right router.\n\n602\n00:34:10.130 --> 00:34:13.639\nRouter six isn't the one doing NAT,\nit's router four that's doing the NAT.\n\n603\n00:34:14.770 --> 00:34:18.190\nSo if I come in here and\ntake a look at the NAT commands.\n\n604\n00:34:18.190 --> 00:34:21.710\nThe big command was the one where I\nactually did the one-to-one mapping.\n\n605\n00:34:21.710 --> 00:34:25.040\nWhere I said ip NAT,\nso I'm turning on NAT.\n\n606\n00:34:25.040 --> 00:34:31.455\nThe inside source, who's on the inside,\nwas a static address of 192.168.2.2.\n\n607\n00:34:31.455 --> 00:34:33.038\nAnd then who am I gonna change them into?\n\n608\n00:34:33.038 --> 00:34:35.330\nThis is the ip I change them into.\n\n609\n00:34:35.330 --> 00:34:38.490\nAnd then I flagged my interfaces\nas either inside or outside so\n\n610\n00:34:38.490 --> 00:34:40.220\nthe communication could go.\n\n611\n00:34:40.220 --> 00:34:43.160\nThis is the most simple form of NAT.\n\n612\n00:34:43.160 --> 00:34:45.990\nThis is the one they would\nuse if you had servers\n\n613\n00:34:45.990 --> 00:34:48.150\nthat you wanted to give\na public IP to the server, but\n\n614\n00:34:48.150 --> 00:34:51.190\nyou didn't want the server to actually\nhave the IP internally, right.\n\n615\n00:34:51.190 --> 00:34:53.070\nBy doing it as a NAT mapping,\nI could quickly and\n\n616\n00:34:53.070 --> 00:34:55.460\neasily point this to another\nserver if I wanted to, right.\n\n617\n00:34:55.460 --> 00:34:57.820\nAs opposed to having it tied to\none server, I'd have to go and\n\n618\n00:34:57.820 --> 00:34:59.670\nchange IPs to move it.\n\n619\n00:34:59.670 --> 00:35:01.280\nHere I can move right in the NAT rule.\n\n620\n00:35:01.280 --> 00:35:03.600\nThis is nice cuz my servers can\nstill have internal IPs and\n\n621\n00:35:03.600 --> 00:35:06.563\nI can manage them that way, but they're\npublic when they go out to the Internet.\n\n622\n00:35:08.310 --> 00:35:10.170\nBut, aside from the server scenario,\n\n623\n00:35:10.170 --> 00:35:12.380\nthis is not something you're\ngonna use very often.\n\n624\n00:35:12.380 --> 00:35:15.610\nBecause normally we don’t have enough\nIPs laying around to give every one of\n\n625\n00:35:15.610 --> 00:35:17.560\nour machines a single IP.\n\n626\n00:35:17.560 --> 00:35:21.170\nSo, we’re normally going to do\none of the other two methods of\n\n627\n00:35:21.170 --> 00:35:22.420\nNAT that we’re gonna see in part two.\n\n628\n00:35:22.420 --> 00:35:24.595\nSo, there’s three methods total,\nwe need to know all three.\n\n629\n00:35:24.595 --> 00:35:26.625\nThis is the simply the first, and easiest.\n\n630\n00:35:27.845 --> 00:35:30.372\nAll right, Ronnie, well that's probably\na good spot for us to stop on this one.\n\n631\n00:35:30.372 --> 00:35:31.885\n>> [LAUGH]\n>> I've got more we definitely want to\n\n632\n00:35:31.885 --> 00:35:34.835\ntackle, but it is kind of a complex topic.\n\n633\n00:35:34.835 --> 00:35:37.035\nChanging the IPs as we\npass through systems.\n\n634\n00:35:37.035 --> 00:35:40.535\nBut it's important, and\nit's something that everybody does.\n\n635\n00:35:40.535 --> 00:35:43.135\nWhen we get to the third method,\nthat's the one that everybody does, and so\n\n636\n00:35:43.135 --> 00:35:46.030\nit's something that you will definitely\nuse out there in the real world.\n\n637\n00:35:46.030 --> 00:35:46.780\n>> Well again, thank you,\n\n638\n00:35:46.780 --> 00:35:49.990\nDon, for helping us on this\nparticular infrastructure service\n\n639\n00:35:49.990 --> 00:35:53.360\nthat we definitely need to understand\nat least the basic configurations.\n\n640\n00:35:53.360 --> 00:35:55.800\nUsually if there is a missing command,\n\n641\n00:35:55.800 --> 00:35:57.960\nthat's normally when NAT\nalso ends up failing.\n\n642\n00:35:57.960 --> 00:36:02.430\nAnd I know that I've always forgotten\nto put the ip nat inside or outside.\n\n643\n00:36:02.430 --> 00:36:06.465\nMake sure you remember that when you start\nreviewing those configurations as well.\n\n644\n00:36:06.465 --> 00:36:10.500\nBecause on the exam you're not gonna have\ntime again to go, I wonder what's wrong.\n\n645\n00:36:10.500 --> 00:36:13.220\nYou just need to know whether those\ncommands are actually there, and\n\n646\n00:36:13.220 --> 00:36:15.345\nwhether they're actually correct,\nof course.\n\n647\n00:36:15.345 --> 00:36:16.615\nAnd you have to do it quickly.\n\n648\n00:36:16.615 --> 00:36:18.165\n>> My favorite is when\nyou get them backwards.\n\n649\n00:36:18.165 --> 00:36:19.115\n>> Yeah.\n>> When you label the inside and\n\n650\n00:36:19.115 --> 00:36:19.925\noutside backwards.\n\n651\n00:36:19.925 --> 00:36:20.458\nThat's always fun.\n\n652\n00:36:20.458 --> 00:36:22.025\n[LAUGH]\n>> Yeah, it's always fun until you\n\n653\n00:36:22.025 --> 00:36:23.746\nactually do it in real life.\n\n654\n00:36:23.746 --> 00:36:24.901\n>> [LAUGH]\n>> And then it's not so fun, and\n\n655\n00:36:24.901 --> 00:36:25.655\nyou're having to trace it down.\n\n656\n00:36:25.655 --> 00:36:27.200\nBut yeah, I've done that too.\n\n657\n00:36:27.200 --> 00:36:29.575\nSo you do actually see that.\n\n658\n00:36:29.575 --> 00:36:30.865\nBut take a look here.\n\n659\n00:36:30.865 --> 00:36:34.185\nBecause this is probably the second\nmost common form that you see.\n\n660\n00:36:34.185 --> 00:36:35.635\nWe still actually have\nthe most common form.\n\n661\n00:36:35.635 --> 00:36:39.150\nAnd then we have one that Don's gonna\nshow us on a pool of things, or\n\n662\n00:36:39.150 --> 00:36:41.670\na pool of addresses that's actually\ngonna help us out as well.\n\n663\n00:36:41.670 --> 00:36:45.240\nBut overall though, this is a great\nplace to start, review those commands,\n\n664\n00:36:45.240 --> 00:36:46.890\nit's really gonna help us out.\n\n665\n00:36:46.890 --> 00:36:51.180\nSo we're gonna go ahead and call it,\nfor today on this show, signing off for\n\n666\n00:36:51.180 --> 00:36:54.210\nITProTV, I've been your host Ronnie Wong.\n\n667\n00:36:54.210 --> 00:36:55.150\n>> And I'm Don Pezet.\n\n668\n00:36:55.150 --> 00:36:58.775\n>> Stay tuned right here for\nmore CCENT episodes.\n\n669\n00:36:58.775 --> 00:37:07.440\n[SOUND]\n\n",
          "vimeoId": "175827681"
        },
        {
          "description": "In this episode, Ronnie and Don continue with configuring NAT.  They show how to configure Dynamic NAT and PAT (or NAT Overload). They discuss the use case scenario of both configurations, how to configure it and  how to verify it’s operation on a router.  The guys show why PAT is the most often used in networks.",
          "length": "2068",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-4-4-2-network_address_translation_pt.2-072216-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-4-4-2-network_address_translation_pt.2-072216-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-4-4-2-network_address_translation_pt.2-072216-1-sm.jpg",
          "title": "Network Address Translation Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.085 --> 00:00:10.085\n[MUSIC]\n\n2\n00:00:12.050 --> 00:00:14.866\nWelcome to another great\nepisode right here on ITProTV.\n\n3\n00:00:14.866 --> 00:00:19.125\nI'm your host, Ronnie Wang, and today,\nyou are watching the Cisco CCENT show, and\n\n4\n00:00:19.125 --> 00:00:22.556\nwe are in the middle of talking about\nsome infrastructure services or\n\n5\n00:00:22.556 --> 00:00:25.480\nwe are in a part two on\nnetwork address translation.\n\n6\n00:00:25.480 --> 00:00:28.569\nAnd back to help us to complete that idea,\nis going to be Mr.\n\n7\n00:00:28.569 --> 00:00:30.810\nDon [INAUDIBLE] welcome back\n>> Thanks, Ronnie.\n\n8\n00:00:30.810 --> 00:00:33.850\nWe left off in the middle of\nnetwork address translation.\n\n9\n00:00:33.850 --> 00:00:35.300\nWe covered some really important concepts.\n\n10\n00:00:35.300 --> 00:00:38.050\nWe talked about what network\naddress translation is, and\n\n11\n00:00:38.050 --> 00:00:40.930\nwe saw our first demonstration\nof it in action.\n\n12\n00:00:40.930 --> 00:00:43.350\nUnfortunately, that demonstration\nwas pretty specific,\n\n13\n00:00:43.350 --> 00:00:46.910\nwe were translating one\naddress to one other address.\n\n14\n00:00:46.910 --> 00:00:49.640\nThat was one-to-one static NAT.\n\n15\n00:00:49.640 --> 00:00:52.570\nAnd that works great for servers,\nfor systems where you want to\n\n16\n00:00:52.570 --> 00:00:57.310\nassign a public IP to an internal IP and\nmap that out, that works wonderfully.\n\n17\n00:00:57.310 --> 00:01:00.530\nAnd I've used it a lot in that\nenvironment, it doesn't work so\n\n18\n00:01:00.530 --> 00:01:02.105\nwell for workstations, right?\n\n19\n00:01:02.105 --> 00:01:05.250\nBecause I might have a thousand\nworkstations, and I don't want go in and\n\n20\n00:01:05.250 --> 00:01:08.630\nput a thousand entries in there for\nthose workstations.\n\n21\n00:01:08.630 --> 00:01:11.680\nThe other thing is you know when you\ngive someone a static public IP.\n\n22\n00:01:11.680 --> 00:01:15.380\nSo I'm mapping their public\nIP to their private IP.\n\n23\n00:01:15.380 --> 00:01:18.030\nI usually do that because I want\nto provide some kind of service,\n\n24\n00:01:18.030 --> 00:01:21.600\nlike a web server or\na file server or something like that.\n\n25\n00:01:21.600 --> 00:01:24.740\nSo I always want people to be able\nto reach in on the same address.\n\n26\n00:01:24.740 --> 00:01:26.130\nBut if it is just somebody's work station,\n\n27\n00:01:26.130 --> 00:01:30.910\nand they're browsing out to the Internet,\nthey don't need the same IP every time.\n\n28\n00:01:30.910 --> 00:01:34.030\nAnd if I have things like laptops\non the internet coming in and\n\n29\n00:01:34.030 --> 00:01:35.540\ngoing out of the network, well,\n\n30\n00:01:35.540 --> 00:01:39.760\nI don't necessarily want them to\nmonopolize the IP all the time.\n\n31\n00:01:39.760 --> 00:01:43.000\nSo, the next type of NAT I want to\nshow you tries to resolve that.\n\n32\n00:01:43.000 --> 00:01:44.390\nNow, I will be honest with you,\n\n33\n00:01:44.390 --> 00:01:48.460\nthis is the least popular form\nof NAT that we're going to see.\n\n34\n00:01:48.460 --> 00:01:51.700\nWhat we can do is,\nwe can set up what's called dynamic NAT.\n\n35\n00:01:51.700 --> 00:01:54.460\nDynamic NAT is still a one to one mapping.\n\n36\n00:01:54.460 --> 00:01:59.110\nIt's still one internal IP,\nmapped to one external IP, and that's it.\n\n37\n00:01:59.110 --> 00:02:02.570\nI should say it's one inside\nIP mapped to one outside IP,\n\n38\n00:02:02.570 --> 00:02:04.550\nbecause it's not necessarily the Internet,\nright?\n\n39\n00:02:04.550 --> 00:02:06.230\nBut the inside and outside.\n\n40\n00:02:06.230 --> 00:02:08.920\nSo, it's still one to one, but\n\n41\n00:02:08.920 --> 00:02:12.590\ninstead of statically assigning them,\nwe create a pool.\n\n42\n00:02:12.590 --> 00:02:13.960\nKind of like a DHCP pool.\n\n43\n00:02:13.960 --> 00:02:17.080\nHere's this pool of outside IPs.\n\n44\n00:02:17.080 --> 00:02:20.190\nAnd when our inside systems go outside,\n\n45\n00:02:20.190 --> 00:02:24.740\nthey'll grab the first available IP out of\nthat pool, and they'll start to use it.\n\n46\n00:02:24.740 --> 00:02:26.940\nIt's not statically sent to them,\nit's first come, first serve.\n\n47\n00:02:26.940 --> 00:02:28.915\nThey just grab what's available.\n\n48\n00:02:28.915 --> 00:02:31.585\nAnd they're going to use it\nuntil they start to idle.\n\n49\n00:02:31.585 --> 00:02:34.655\nAnd if they idle for too long,\nthe IP goes back in the pool.\n\n50\n00:02:34.655 --> 00:02:37.105\nAnd the next time they go out\nthey may get a different IP.\n\n51\n00:02:37.105 --> 00:02:37.665\nRight?\n\n52\n00:02:37.665 --> 00:02:39.145\nVery, very similar to DHCP.\n\n53\n00:02:39.145 --> 00:02:43.945\nThe difference is, with DHCP,\nyou're being given an IP address, and\n\n54\n00:02:43.945 --> 00:02:45.850\nyou actually have that one address.\n\n55\n00:02:45.850 --> 00:02:50.960\nWith dynamic nat using a pool, you don't\nactually assign the IP to yourself.\n\n56\n00:02:50.960 --> 00:02:55.610\nYou still have your internal IP, but\nnow you've got this external IP, also,\n\n57\n00:02:55.610 --> 00:02:57.060\nthat is really invisible to you.\n\n58\n00:02:57.060 --> 00:02:59.760\nYou don't even know about it because\nyou're being translated as you\n\n59\n00:02:59.760 --> 00:03:01.092\ncross the network.\n\n60\n00:03:01.092 --> 00:03:03.310\nAll right, on a positive side,\n\n61\n00:03:03.310 --> 00:03:06.030\nwe can handle a number of machines\nwithout having to statically define them.\n\n62\n00:03:06.030 --> 00:03:08.560\nOn a negative side, it's still 1-to-1.\n\n63\n00:03:08.560 --> 00:03:11.850\nSo if I have a pool of 15 IP's, well,\n\n64\n00:03:11.850 --> 00:03:15.230\nthe first 15 people that go out,\nwill get IP's.\n\n65\n00:03:15.230 --> 00:03:17.730\nAnd they'll have a one to one IP,\nand they go out to the Internet.\n\n66\n00:03:17.730 --> 00:03:21.290\nThe 16th person that comes along,\npulls empty.\n\n67\n00:03:21.290 --> 00:03:25.810\nThey can still go outside, but\nthey just wont' get a outside IP.\n\n68\n00:03:25.810 --> 00:03:27.090\nAnd so, when they try to go outside,\n\n69\n00:03:27.090 --> 00:03:30.100\nthey're still going to have their inside\nIP, and it's going to fail to route.\n\n70\n00:03:30.100 --> 00:03:32.400\nThey're going to fail to\nget to their destination.\n\n71\n00:03:32.400 --> 00:03:35.680\nSo that's kind of the trade\noff that we end up with here.\n\n72\n00:03:35.680 --> 00:03:39.554\nIt sounds like a good idea, but it's not\nreally something we use in practice, but\n\n73\n00:03:39.554 --> 00:03:40.912\nit is on the exam, so [LAUGH].\n\n74\n00:03:40.912 --> 00:03:44.584\nLet's take a look at how it works, and\nit's important to learn it because we're\n\n75\n00:03:44.584 --> 00:03:47.435\ngoing to extend it in a moment and\nmake it really useful.\n\n76\n00:03:47.435 --> 00:03:50.205\nBut the way that it is,\nwe just need to change it.\n\n77\n00:03:50.205 --> 00:03:51.725\nRight now, we have router two,\n\n78\n00:03:51.725 --> 00:03:57.185\nthis guy, when he passes through router\nfour he's on the 192.168.2 network.\n\n79\n00:03:57.185 --> 00:04:01.663\nBut then, when it jumps over\nto router six, router six.\n\n80\n00:04:01.663 --> 00:04:03.085\nThat's the 209.251.159 network right?\n\n81\n00:04:03.085 --> 00:04:07.000\nThat's where we left off\nfrom the last episode, and\n\n82\n00:04:07.000 --> 00:04:09.650\nwe did a one to one mapping for\nrouter two.\n\n83\n00:04:09.650 --> 00:04:13.420\nSo they would always get the same IP.\n\n84\n00:04:13.420 --> 00:04:19.585\nAnd I forgot what IP we assigned it,\nbut it it will be 209.251.159.2.\n\n85\n00:04:19.585 --> 00:04:21.375\nI guess you know you could just go and\nlook.\n\n86\n00:04:21.375 --> 00:04:22.352\n>> [LAUGH]\n>> It's in the router\n\n87\n00:04:22.352 --> 00:04:23.305\nconfiguration, right?\n\n88\n00:04:23.305 --> 00:04:26.755\nSo router 4 is the router\nsitting in between.\n\n89\n00:04:26.755 --> 00:04:32.935\nAnd if I take a look at router 4, and I'm\njust going to do a show running config,\n\n90\n00:04:32.935 --> 00:04:37.685\nand I'm going to include\nany line with the word nat.\n\n91\n00:04:37.685 --> 00:04:41.185\nWe can find the static nat\nmapping that we put in place.\n\n92\n00:04:41.185 --> 00:04:42.615\nAnd Ronnie's mind's like a steel trap.\n\n93\n00:04:42.615 --> 00:04:43.590\nIt was dot 2.\n\n94\n00:04:43.590 --> 00:04:45.700\nSo here's that line where we mapped it.\n\n95\n00:04:45.700 --> 00:04:51.800\nWe said we've got a static inside\nIP 192.168.2.2, whenever that\n\n96\n00:04:51.800 --> 00:04:57.820\ninside person goes outside change them to\nthis address, and that's always running.\n\n97\n00:04:57.820 --> 00:05:01.410\nIf I do a show IP nat translations and\n\n98\n00:05:01.410 --> 00:05:06.270\nI run that, even though that computer's\nnot talking, I still see the translation\n\n99\n00:05:06.270 --> 00:05:10.480\ncause it's static, it's put there\nregardless of whether we talk it's.\n\n100\n00:05:10.480 --> 00:05:13.590\nIf I were to start talking remember\nfrom last episode, we'll see TCP, UDP,\n\n101\n00:05:13.590 --> 00:05:17.620\nIC&P, those communications get listed\nhere as it talks across the network.\n\n102\n00:05:18.890 --> 00:05:22.270\nSo what I'm going to do\nis I'm going to remove\n\n103\n00:05:22.270 --> 00:05:26.262\nthat static net mapping that we put in,\nso I'm just going to copy that line and\n\n104\n00:05:26.262 --> 00:05:29.700\nI'm going to throw it back\nin here with a no before it.\n\n105\n00:05:29.700 --> 00:05:33.850\nSo just running the same exact line but\nwith the word no before to take it out.\n\n106\n00:05:33.850 --> 00:05:39.080\nAnd now when I do a Show IP Nat\nTranslations, I have no translations.\n\n107\n00:05:39.080 --> 00:05:40.700\nI've effectively disabled nat.\n\n108\n00:05:40.700 --> 00:05:44.160\nNow, I still have my interfaces\nlabeled as inside and outside, so\n\n109\n00:05:44.160 --> 00:05:45.650\nI do still have that.\n\n110\n00:05:45.650 --> 00:05:46.380\nBut technically,\n\n111\n00:05:46.380 --> 00:05:50.179\nnat is not working because I have\nno nat definitions in place.\n\n112\n00:05:51.296 --> 00:05:55.070\nNow I'm going to put a new definition\nin place that instead of saying\n\n113\n00:05:55.070 --> 00:05:59.730\nrouter two always gets this IP, I'm going\nto say that people on the inside of my\n\n114\n00:05:59.730 --> 00:06:05.070\nnetwork are allowed to grab an IP\nas they pass through the system.\n\n115\n00:06:05.070 --> 00:06:07.500\nAnd they'll grab that IP from a pool.\n\n116\n00:06:08.610 --> 00:06:09.420\nNow, to get this configured,\n\n117\n00:06:09.420 --> 00:06:11.500\nthere's actually three different\nthings we're going to have to do.\n\n118\n00:06:11.500 --> 00:06:13.040\nWe're going to have to create a pool,\nright?\n\n119\n00:06:13.040 --> 00:06:15.540\nThat's kind of important, so that ought\nto be the first thing I do is create\n\n120\n00:06:15.540 --> 00:06:18.260\na pool of addresses available for\npeople to use.\n\n121\n00:06:18.260 --> 00:06:21.300\nThen I have to create\nan access control list.\n\n122\n00:06:21.300 --> 00:06:25.160\nAnd the ACL is going to identify\nwho is allowed to use the pool.\n\n123\n00:06:25.160 --> 00:06:28.190\nSo I'm doing basically\nthe inside people and\n\n124\n00:06:28.190 --> 00:06:29.870\nthe outside addresses\nthey're going to get.\n\n125\n00:06:29.870 --> 00:06:34.130\nThe ACL defines the inside people and the\npool defines the IP's that they'll get,\n\n126\n00:06:34.130 --> 00:06:38.290\nand then the third thing is we need to use\nan IP net command to tie them up together,\n\n127\n00:06:38.290 --> 00:06:40.800\nto tie the ACL and\nthe pool together and use it.\n\n128\n00:06:40.800 --> 00:06:44.790\nSo we go from a one line configuration\nlike we had it with static net,\n\n129\n00:06:44.790 --> 00:06:47.460\nto having a three line configuration,\nor even more,\n\n130\n00:06:47.460 --> 00:06:51.230\ndepending on how complex we get with\nour ACL to get that set up, all right?\n\n131\n00:06:51.230 --> 00:06:52.170\nSo let's start with a pool.\n\n132\n00:06:52.170 --> 00:06:53.560\nWe'll get that one created.\n\n133\n00:06:53.560 --> 00:06:54.990\nSo from the command prompt here,\n\n134\n00:06:54.990 --> 00:07:00.010\nwhat I'm going to do is I'm going to say\nIP net pool, and then I'll give it a name.\n\n135\n00:07:00.010 --> 00:07:02.440\nI'm going to call mine the itprotv-lab,\nright?\n\n136\n00:07:02.440 --> 00:07:04.560\nSo I'm creating a pool for\nthe itprotv-lab,\n\n137\n00:07:04.560 --> 00:07:09.730\nand then I just need to tell it\nthe IP range that I'm going to use.\n\n138\n00:07:09.730 --> 00:07:14.310\nAnd we do the beginning and the end.\n\n139\n00:07:14.310 --> 00:07:19.119\nSo maybe I want to do 209.251.159.200,\nand I'm going to go all the way to, and\n\n140\n00:07:19.119 --> 00:07:24.010\nthis is going to be long so, yep,\nthere we go, 209.251.159.210, all right?\n\n141\n00:07:24.010 --> 00:07:29.176\nOr, I don't know,\nit can go even higher, 250, right?\n\n142\n00:07:29.176 --> 00:07:32.890\nSo I'm going to create\na pool of 51 addresses, and\n\n143\n00:07:32.890 --> 00:07:37.450\nthis pool is going to be sitting\nthere available to people to grab and\n\n144\n00:07:37.450 --> 00:07:39.870\nthose that get the first\naddress out of it.\n\n145\n00:07:39.870 --> 00:07:42.850\nNow we do have a little bit more that\nwe need to add to that line because\n\n146\n00:07:42.850 --> 00:07:45.000\nI'm giving you the IPs, but also,\n\n147\n00:07:45.000 --> 00:07:48.090\nyou need to know the subnet mass\nthat's being attached to it.\n\n148\n00:07:48.090 --> 00:07:51.830\nSo let me just add that to the end, and\nI'm going to screen wrap a bit here,\n\n149\n00:07:51.830 --> 00:07:53.770\nbut here you go.\n\n150\n00:07:53.770 --> 00:07:57.461\nSo I'm going to say netmask, and then\nI'm going to provide what the mask is.\n\n151\n00:07:57.461 --> 00:08:00.669\nAnd in my case,\nI'm just using a 255.255.255.0,\n\n152\n00:08:00.669 --> 00:08:03.018\nbut you'll put in whatever\nit is that you need.\n\n153\n00:08:03.018 --> 00:08:06.851\nAnd my screen is wrapped in the prompt,\nsee the dollar sign there?\n\n154\n00:08:06.851 --> 00:08:11.775\nSo the full command is ip\nnet pool the name of the net\n\n155\n00:08:11.775 --> 00:08:17.287\nfollowed by the beginning ip and\nthe end ip of the pool and\n\n156\n00:08:17.287 --> 00:08:22.234\nthen lastly the net mask\nof that pool is gonna use.\n\n157\n00:08:22.234 --> 00:08:26.800\nOnce you got that created, you've now\ncreated a bucket or a bag of IPs.\n\n158\n00:08:26.800 --> 00:08:28.702\nAnd they're just sitting there.\n\n159\n00:08:28.702 --> 00:08:31.393\nThey're waiting, right?\nI've got 51 IP's that are sitting there\n\n160\n00:08:31.393 --> 00:08:35.030\nwaiting for the first person\nto come along and grab them.\n\n161\n00:08:35.030 --> 00:08:36.330\nOkay.\n\n162\n00:08:36.330 --> 00:08:38.910\nSo now we need to define\nwho is allowed to use them.\n\n163\n00:08:38.910 --> 00:08:42.570\nAnd you can be very specific or\nyou can be really, really general.\n\n164\n00:08:42.570 --> 00:08:44.690\nWe need an access control list to do this.\n\n165\n00:08:44.690 --> 00:08:47.230\nIf you want anybody to be\nable to use these IPs,\n\n166\n00:08:47.230 --> 00:08:50.620\nthen you could write a really simple\naccess control list that did that.\n\n167\n00:08:50.620 --> 00:08:56.480\nAnd you could say\naccess-list 1 permit any.\n\n168\n00:08:56.480 --> 00:08:57.630\nJust like that.\n\n169\n00:08:57.630 --> 00:09:00.840\nAnd now I've got an ACL that would\npermit anybody to use this or\n\n170\n00:09:00.840 --> 00:09:02.390\nI might wanna be really specific.\n\n171\n00:09:02.390 --> 00:09:05.565\nRemember my topology I got\na lot of networks, right?\n\n172\n00:09:05.565 --> 00:09:09.209\nI've got this 192.168.1 network,\n192.168 0.\n\n173\n00:09:09.209 --> 00:09:15.260\nSo I might wanna limit it to just\nthe 192.168.2.0 network and I can do that.\n\n174\n00:09:15.260 --> 00:09:18.690\nOr I can even limit it to particular IPs,\nright?\n\n175\n00:09:18.690 --> 00:09:22.060\nJust however powerful I wanna get\nwith the access control list.\n\n176\n00:09:22.060 --> 00:09:24.220\nBut, in my case,\nI'm not really worried about that.\n\n177\n00:09:24.220 --> 00:09:25.810\nI just want anybody in the inside of my\n\n178\n00:09:25.810 --> 00:09:27.680\ncompanies allowed to be\nNATed on the way out.\n\n179\n00:09:27.680 --> 00:09:30.270\nThat's probably the most common way of\nusing it so that's what I'm gonna do.\n\n180\n00:09:30.270 --> 00:09:32.929\nI'm gonna keep my ACL nice and general.\n\n181\n00:09:34.210 --> 00:09:34.960\nAll right.\n\n182\n00:09:34.960 --> 00:09:38.750\nSo, there's my access list and\nit's letting every body through.\n\n183\n00:09:38.750 --> 00:09:40.220\nSo, that's stage 2.\n\n184\n00:09:40.220 --> 00:09:41.880\nStage 1 was create a pool.\n\n185\n00:09:41.880 --> 00:09:43.820\nStage 2 was create and access list.\n\n186\n00:09:43.820 --> 00:09:47.120\nStage 3 is to tie them together.\n\n187\n00:09:47.120 --> 00:09:49.370\nAnd so here comes the big command.\n\n188\n00:09:49.370 --> 00:09:50.930\nIt's actually not so big this time.\n\n189\n00:09:50.930 --> 00:09:55.280\nWe're gonna say, ip nat inside source.\n\n190\n00:09:55.280 --> 00:09:57.920\nSo, so far this is exactly\nlike the other command.\n\n191\n00:09:57.920 --> 00:09:58.660\nIP NAP.\n\n192\n00:09:58.660 --> 00:10:00.880\nI'm turning on network added translation,\n\n193\n00:10:00.880 --> 00:10:04.450\ninside source where\nthe inside IP is coming from.\n\n194\n00:10:04.450 --> 00:10:08.080\nNow, in the last example I said static,\nand then I told the IP, right?\n\n195\n00:10:08.080 --> 00:10:09.920\nThat's how I did a one-to-one mapping.\n\n196\n00:10:09.920 --> 00:10:14.380\nBut this time I'm gonna say list one.\n\n197\n00:10:14.380 --> 00:10:16.820\nIn other words,\nit's coming from a n access list.\n\n198\n00:10:16.820 --> 00:10:18.720\nAnd my access list permits anybody.\n\n199\n00:10:18.720 --> 00:10:23.633\nSo I've really opened it up to all\nthe IPs on the inside of my network,\n\n200\n00:10:23.633 --> 00:10:25.348\ninstead of just one IP.\n\n201\n00:10:25.348 --> 00:10:28.982\nSo that's the inside part and\nthen with the last example of static,\n\n202\n00:10:28.982 --> 00:10:32.110\nthe next thing I put in the IP\naddress I was adding to.\n\n203\n00:10:32.110 --> 00:10:34.850\nThis time, I'm not adding to one IP,\nI'm adding to a pool.\n\n204\n00:10:34.850 --> 00:10:40.540\nAnd so I'm gonna say pool itprotv-lab,\nright?\n\n205\n00:10:40.540 --> 00:10:43.730\nSo my inside is coming\nfrom an access list.\n\n206\n00:10:43.730 --> 00:10:45.800\nIn my case, access list number one.\n\n207\n00:10:45.800 --> 00:10:48.910\nAnd the outside is coming from\na pool called itprotv lab and\n\n208\n00:10:48.910 --> 00:10:53.230\nthe pool name is case sensitive so\nmake sure you get that case set, right?\n\n209\n00:10:53.230 --> 00:10:56.210\nOtherwise, it's gonna look for\na pool that doesn't exist and\n\n210\n00:10:56.210 --> 00:10:57.410\nit'll think that it's empty.\n\n211\n00:10:57.410 --> 00:11:00.550\nThen it would be able\nto issue out addresses.\n\n212\n00:11:00.550 --> 00:11:03.420\nNow if I was starting from scratch,\nI would need to go and\n\n213\n00:11:03.420 --> 00:11:07.350\nlabel my interfaces as being\nIP net inside, IP net outside.\n\n214\n00:11:07.350 --> 00:11:09.910\nBut we still have those labeled\nfrom the last example, and\n\n215\n00:11:09.910 --> 00:11:12.890\nI can verify that by looking\nat the running configuration.\n\n216\n00:11:12.890 --> 00:11:17.222\nIf I dive into my running\nconfiguration here,\n\n217\n00:11:17.222 --> 00:11:22.890\nI can spot where I've got\nip net outside on gi 1/0.\n\n218\n00:11:22.890 --> 00:11:26.270\nAnd on gi2/0 ip net inside.\n\n219\n00:11:26.270 --> 00:11:28.190\nSo those are already labeled for me.\n\n220\n00:11:28.190 --> 00:11:29.160\nThat doesn't change.\n\n221\n00:11:29.160 --> 00:11:30.040\nSo I'll stick with that.\n\n222\n00:11:31.450 --> 00:11:33.510\nAll right so we're pretty good now.\n\n223\n00:11:33.510 --> 00:11:34.130\nRight?\n\n224\n00:11:34.130 --> 00:11:35.480\nIn theory it should work.\n\n225\n00:11:35.480 --> 00:11:40.170\nIf I do a show ip nat\ntranslations I can run that and\n\n226\n00:11:40.170 --> 00:11:41.760\nI don't have any translations.\n\n227\n00:11:41.760 --> 00:11:46.050\nWith a static translation it's always\nthere, but this is dynamic NAT.\n\n228\n00:11:46.050 --> 00:11:50.920\nDynamic NAT only appears when you use it,\nso, let's use it.\n\n229\n00:11:50.920 --> 00:11:53.150\nThe example we used in\nthe last episode was,\n\n230\n00:11:53.150 --> 00:11:57.720\nI did a Telnet session from router two,\nall the way over to router six.\n\n231\n00:11:57.720 --> 00:12:00.990\nAnd so when I did that,\nrouter six if I wasn't NATing,\n\n232\n00:12:00.990 --> 00:12:04.540\nrouter six would see\na connection from 192.168.2.2.\n\n233\n00:12:04.540 --> 00:12:08.700\nBut if I'm being translated here on\nrouter 4, then router 6 should see\n\n234\n00:12:08.700 --> 00:12:12.766\na connection coming from 209.251.159\nsomething in that pool, right?\n\n235\n00:12:12.766 --> 00:12:15.950\nThat's what it should see.\n\n236\n00:12:15.950 --> 00:12:19.880\nSo let's jump over to router 2 and\ngive that a test.\n\n237\n00:12:19.880 --> 00:12:22.350\nSo on router 2,\nI'm just gonna get logged in.\n\n238\n00:12:23.800 --> 00:12:32.505\nAnd once I'm in,\nI'm gonna Telnet to 209.251.159.6.\n\n239\n00:12:32.505 --> 00:12:35.900\nAll right, I'm gonna reach out to it,\nand let's see if we get there.\n\n240\n00:12:35.900 --> 00:12:39.470\nNow, if the nad is broken, or if the IP is\nwrong then we're gonna fail to connect and\n\n241\n00:12:39.470 --> 00:12:41.040\nwe're gonna have to do\nsome troubleshooting.\n\n242\n00:12:41.040 --> 00:12:44.630\nBut in my case I do get my telnet session,\nand I'm in.\n\n243\n00:12:44.630 --> 00:12:45.870\nI'm connected to router 6.\n\n244\n00:12:45.870 --> 00:12:49.775\nNow, I'm gonna do a show user to see\nwhat IP address I'm showing up as.\n\n245\n00:12:49.775 --> 00:12:54.605\nAnd if I look,\nI'm connected on a vty line, and my IP,\n\n246\n00:12:54.605 --> 00:12:57.972\n209.251.159.200.\n\n247\n00:12:57.972 --> 00:12:59.617\nThe first IP from that pool.\n\n248\n00:12:59.617 --> 00:13:02.380\nI just grabbed the first IP that\nwas there, and I ran with it.\n\n249\n00:13:03.490 --> 00:13:08.360\nAnd we can see that over on router 4.\n\n250\n00:13:08.360 --> 00:13:10.000\nShoot, I should've left that session open.\n\n251\n00:13:10.000 --> 00:13:13.290\nHang on, let me just reconnect and\nget that back in place.\n\n252\n00:13:13.290 --> 00:13:16.260\nI want to leave my session open, so\nthe translation will still be there.\n\n253\n00:13:16.260 --> 00:13:18.880\nI closed my Telnet session,\nso what's going to happen?\n\n254\n00:13:18.880 --> 00:13:20.410\nIf that session idles out long enough,\n\n255\n00:13:20.410 --> 00:13:22.440\nit'll disappear from\nthe translation table.\n\n256\n00:13:22.440 --> 00:13:24.890\nSo that's why I just\nopened it back up again.\n\n257\n00:13:24.890 --> 00:13:28.440\nSo on router 4,\nI'm gonna do a show IP nat translations.\n\n258\n00:13:28.440 --> 00:13:33.100\nAnd when I run that here we go I can see,\nmy old connection is still there.\n\n259\n00:13:33.100 --> 00:13:37.363\nI guess I didn't have to rush on that,\nbut I can see my inside local.\n\n260\n00:13:37.363 --> 00:13:43.210\n192.168.2.2 was opening a connection\nto 209.251.159.6 on port 23.\n\n261\n00:13:43.210 --> 00:13:44.940\nJust telling that.\n\n262\n00:13:44.940 --> 00:13:49.850\nAnd then it got translated\nthe destination stay the same.\n\n263\n00:13:49.850 --> 00:13:50.870\nWe didn't mess with that.\n\n264\n00:13:50.870 --> 00:13:54.556\nBut on the source side I got translated to\n\n265\n00:13:54.556 --> 00:13:59.510\n209.251.159.200 and\nmy port didn't translate, right?\n\n266\n00:13:59.510 --> 00:14:02.240\nAnd that's because I'm not\ndoing port address translation.\n\n267\n00:14:02.240 --> 00:14:04.370\nWe don't need to do\nport translations here.\n\n268\n00:14:04.370 --> 00:14:07.730\nWith dynamic NAT is a one to one mapping.\n\n269\n00:14:07.730 --> 00:14:12.880\nNow that I've grabbed .200, nobody else\ncan use it while I'm using it, all right?\n\n270\n00:14:12.880 --> 00:14:16.700\nNow, over time my sessions will age out,\nso there's only one session now.\n\n271\n00:14:16.700 --> 00:14:20.020\nAnd if I close that session over time,\nit'll age out.\n\n272\n00:14:20.020 --> 00:14:24.110\nAnd when that happens, when all\nthe sessions age out, this guy right here,\n\n273\n00:14:24.110 --> 00:14:27.030\nthe reservation, will go away, right?\n\n274\n00:14:27.030 --> 00:14:31.320\nAnd that may take a little\nwhile if I exit out of that.\n\n275\n00:14:31.320 --> 00:14:35.900\nThe time it takes for a session to end is\nbased on the protocol you're using and\n\n276\n00:14:35.900 --> 00:14:36.640\nother things.\n\n277\n00:14:36.640 --> 00:14:40.200\nSo Telnet will actually release that\nreally quick, but it's using TCP.\n\n278\n00:14:40.200 --> 00:14:42.760\nAnd TCP does that three way handshake.\n\n279\n00:14:42.760 --> 00:14:46.740\nAnd to save time, it'll hold that\nsession open a little bit longer,\n\n280\n00:14:46.740 --> 00:14:47.830\neven though I'm not using it anymore.\n\n281\n00:14:47.830 --> 00:14:52.370\nAnymore and so it might take a moment for\nthat section to actually age out and\n\n282\n00:14:52.370 --> 00:14:56.910\nif you look there's actually a way,\nlet's see if I can remember the command.\n\n283\n00:14:56.910 --> 00:15:01.140\nIt's not on the exam but there's\na way to view details on all of this.\n\n284\n00:15:01.140 --> 00:15:08.770\nShow translations verbose where you\ncan see the age of the translations.\n\n285\n00:15:08.770 --> 00:15:11.670\nSo here's my Telnet session right up here,\nand\n\n286\n00:15:11.670 --> 00:15:15.260\nbeneath it I can see it was created\none minute and 53 seconds ago.\n\n287\n00:15:15.260 --> 00:15:21.690\nIt was used for 34 seconds, and it's\ngot 25 seconds left before it ages out.\n\n288\n00:15:21.690 --> 00:15:25.460\nIf I use it again, then it's gonna\nhave more time before it ages out.\n\n289\n00:15:25.460 --> 00:15:28.960\nSo if I just sit here and run this over\nand over and over again, I'm down to three\n\n290\n00:15:28.960 --> 00:15:33.920\nseconds, one second, zero seconds that\nshould be aging out, and there it goes.\n\n291\n00:15:33.920 --> 00:15:38.620\nSo if I do show ip nat translations,\nnow a session's gone, but\n\n292\n00:15:38.620 --> 00:15:42.690\nnotice how the big session, the\nreservation, that's still there, right?\n\n293\n00:15:42.690 --> 00:15:46.650\nI'm still holding onto .200 even\nthough I'm not talking anymore, and\n\n294\n00:15:46.650 --> 00:15:49.220\nthat takes a little bit longer to age out.\n\n295\n00:15:49.220 --> 00:15:54.280\nAnd so when you look at it here,\nI've actually got 24 hours left.\n\n296\n00:15:55.280 --> 00:15:57.614\nThe default translation time is 24 hours.\n\n297\n00:15:57.614 --> 00:16:00.434\nWe can tweak that and adjust it,\nbut the default is 24 hours.\n\n298\n00:16:00.434 --> 00:16:03.470\nSo I'm not holding that,\neven if I close my laptop and go home and\n\n299\n00:16:03.470 --> 00:16:07.481\nAnd, that's the end of the day for me,\nI'm still gonna hold it for that 24 hours.\n\n300\n00:16:07.481 --> 00:16:15.270\nThat means I have to have a pool as big\nas the amount of computers that I've got.\n\n301\n00:16:15.270 --> 00:16:20.320\nIf I have 50 computers, I need a pool of\n50 IPs and if a guest comes to visit,\n\n302\n00:16:20.320 --> 00:16:22.180\nmy pool needs to be 51 IPs.\n\n303\n00:16:22.180 --> 00:16:24.660\nAnd that's the real challenge\nwith dynamic NAT like this is,\n\n304\n00:16:24.660 --> 00:16:27.500\nnobody's got that many\npublic IPs laying around.\n\n305\n00:16:27.500 --> 00:16:30.060\nIf you had that many\npublic IPs laying around,\n\n306\n00:16:30.060 --> 00:16:31.870\nyou probably wouldn't bother\nwith the private IPs at all.\n\n307\n00:16:31.870 --> 00:16:35.620\nYou would just assign public IPs\nto your workstations, use DHCP.\n\n308\n00:16:35.620 --> 00:16:40.090\nSo, it's not a realistic scenario,\nbut it sets us up for the next\n\n309\n00:16:40.090 --> 00:16:43.890\nmethod of deploying NAT, which is the\nmethod that we're all really going to use.\n\n310\n00:16:43.890 --> 00:16:46.630\n>> Now Don before you move on there\nwould you do a show run for me and\n\n311\n00:16:46.630 --> 00:16:48.690\nlet's see the configuration again.\n\n312\n00:16:48.690 --> 00:16:52.480\nBecause I know that there's something that\nI normally end up doing by mistake here,\n\n313\n00:16:52.480 --> 00:16:54.830\nwhich is forgetting that word netmask.\n\n314\n00:16:54.830 --> 00:16:57.980\nSo even when I do a question\nmark at the end, there it is.\n\n315\n00:16:57.980 --> 00:17:00.230\nYeah when you do a question\nmark there at the end, and\n\n316\n00:17:00.230 --> 00:17:01.710\nI see it actually with the help and\n\n317\n00:17:01.710 --> 00:17:06.630\nit says netmask, I just automatically\nstart typing in the network mask itself.\n\n318\n00:17:06.630 --> 00:17:10.130\nAnd so I just wanted to point that\nout because I see myself doing it and\n\n319\n00:17:10.130 --> 00:17:13.120\nI know that might be something that,\nif we're not really used to doing it,\n\n320\n00:17:13.120 --> 00:17:16.650\nthat we just go, I'll just bypass it,\nand then I get the wrong entry in there.\n\n321\n00:17:16.650 --> 00:17:19.160\n>> It is a weird one because\nthe beginning address,\n\n322\n00:17:19.160 --> 00:17:22.730\nthe ending address, these guys,\n[INAUDIBLE] I think.\n\n323\n00:17:22.730 --> 00:17:25.470\nThose guys, you don't have to put\na keyword on them but for netmask,\n\n324\n00:17:25.470 --> 00:17:27.200\nyou actually have to put a keyword in.\n\n325\n00:17:27.200 --> 00:17:30.680\nThat little word right there, and\nif you don't, it does generate an error.\n\n326\n00:17:30.680 --> 00:17:35.000\nAll right, so little bit harder to set up,\ncuz it took three steps, right?\n\n327\n00:17:35.000 --> 00:17:38.180\nWell, the next method is also three steps,\n\n328\n00:17:38.180 --> 00:17:42.800\nit does take a little bit more work, and\nthe next method is gonna use a pool also.\n\n329\n00:17:42.800 --> 00:17:45.730\nWhat we just saw was dynamic NAT.\n\n330\n00:17:45.730 --> 00:17:48.810\nNow, I'm gonna show you dynamic PAT,\nall right?\n\n331\n00:17:48.810 --> 00:17:52.430\nDynamic PAT is what we're doing,\nport address translation and\n\n332\n00:17:52.430 --> 00:17:55.400\nthat allows us to overload an IP address.\n\n333\n00:17:55.400 --> 00:17:57.200\nRemember I talked about that at\nthe end of the last episode,\n\n334\n00:17:57.200 --> 00:18:01.930\nan IP address is designed to handle\nthe traffic for one computer.\n\n335\n00:18:01.930 --> 00:18:04.940\nBut we can share an IP across\nmore than one computer, but\n\n336\n00:18:04.940 --> 00:18:07.160\nwe're considered to be overloading it.\n\n337\n00:18:07.160 --> 00:18:10.070\nThere's only so many port numbers\nthat are available for a session and\n\n338\n00:18:10.070 --> 00:18:13.840\nif you have too many computers behind an\nIP you can exceed what it's capable of so\n\n339\n00:18:13.840 --> 00:18:15.540\nthere is a limit to this.\n\n340\n00:18:15.540 --> 00:18:19.570\nBut we can overload an IP and\nwe can actually throw a couple of hundred,\n\n341\n00:18:19.570 --> 00:18:22.985\nmaybe even a couple of thousand\nmachines behind a single IP and\n\n342\n00:18:22.985 --> 00:18:24.825\nnot really notice any problems.\n\n343\n00:18:24.825 --> 00:18:28.165\nNow, once you get into the thousands,\nyou do actually start to run into a few\n\n344\n00:18:28.165 --> 00:18:31.185\nproblems, so\nyou may need more IPs available.\n\n345\n00:18:31.185 --> 00:18:35.555\nWell fortunately, this next method,\nwe can combine it with a pool and\n\n346\n00:18:35.555 --> 00:18:36.925\nwe can have multiple IPs available.\n\n347\n00:18:36.925 --> 00:18:39.210\nSo there's a few different\nways to implement this.\n\n348\n00:18:39.210 --> 00:18:39.960\nBut before I do that,\n\n349\n00:18:39.960 --> 00:18:44.020\nthe first thing I'm gonna do is I'm gonna\nturn off the NAT that we just configured.\n\n350\n00:18:44.020 --> 00:18:47.370\nSo I'm gonna copy that line real quick and\n\n351\n00:18:47.370 --> 00:18:50.730\nI'm just gonna do a no\nfollowed by that line.\n\n352\n00:18:50.730 --> 00:18:53.060\nAnd notice what I get here right,right,\n\n353\n00:18:53.060 --> 00:18:57.950\nit tells me that my pool is in use,\ncannot destroy, right.\n\n354\n00:18:57.950 --> 00:19:01.240\nI tried to turn off NAT but\nsomebody is using it.\n\n355\n00:19:01.240 --> 00:19:04.070\nNow, this can be a little tricky if\nyou're running this in the field,\n\n356\n00:19:04.070 --> 00:19:05.120\nin the lab it's easy.\n\n357\n00:19:05.120 --> 00:19:11.142\nIn the lab I can do\na clear ip nat translation\n\n358\n00:19:11.142 --> 00:19:15.480\n* and that's gonna wipe out all\nthe translations reset everything and\n\n359\n00:19:15.480 --> 00:19:17.710\nlet me in and in a lab that works great.\n\n360\n00:19:17.710 --> 00:19:19.770\nBut let me tell you what\nhappens in real life land.\n\n361\n00:19:19.770 --> 00:19:21.700\nWhen you run this command,\nclear ip net translation *,\n\n362\n00:19:21.700 --> 00:19:25.400\nit clears out the translations, but\nthen people just start talking again.\n\n363\n00:19:25.400 --> 00:19:27.810\nAnd so\nthe translations come right back again.\n\n364\n00:19:27.810 --> 00:19:30.800\nSo it's actually kinda challenging\nto turn off NAT in production.\n\n365\n00:19:30.800 --> 00:19:34.380\nAnd the best way to do it,\nis to shut down your interface first,\n\n366\n00:19:34.380 --> 00:19:38.860\nto stop traffic and\nthen you can clear the translation, right.\n\n367\n00:19:38.860 --> 00:19:41.380\nIf you're in a mission critical\nenvironment and you can't shut down\n\n368\n00:19:41.380 --> 00:19:44.640\nthe interface, the other option is to\ntweak your access control list, and\n\n369\n00:19:44.640 --> 00:19:48.220\nto block everybody from using that and\nclear the translations.\n\n370\n00:19:48.220 --> 00:19:51.100\nNow that they're blocked from being able\nto use it, you can reconfigure it and\n\n371\n00:19:51.100 --> 00:19:52.510\nthen open up the ACL again.\n\n372\n00:19:52.510 --> 00:19:54.030\nThat way you never had to\nshut down your interface.\n\n373\n00:19:54.030 --> 00:19:57.300\nSo, just a few different ways to go about\nit but for me that should be enough.\n\n374\n00:19:57.300 --> 00:20:01.080\nAlthough I did talk a little longer than\nI meant to, so maybe, nope, there we go,\n\n375\n00:20:01.080 --> 00:20:04.670\nI was able to disable it and\nnow we've got NAT turned off.\n\n376\n00:20:04.670 --> 00:20:08.350\nOkay, so, now that NAT's turned off, we're\ngoing to take a look at the third method.\n\n377\n00:20:08.350 --> 00:20:12.250\nThe third method is where we overload an\nIP and there's two different types of IPs\n\n378\n00:20:12.250 --> 00:20:15.790\nthat we can overload, and it depends\non what you're trying to achieve.\n\n379\n00:20:15.790 --> 00:20:21.690\nMost commonly, what we do is we say\neverybody on one side of the router,\n\n380\n00:20:21.690 --> 00:20:24.370\nas they pass through\nthe router gets translated\n\n381\n00:20:24.370 --> 00:20:28.380\nto whatever IP address is on\nthe external interface of that router.\n\n382\n00:20:28.380 --> 00:20:31.480\nThat's what almost all of your home\nrouters are doing if you have an ASA\n\n383\n00:20:31.480 --> 00:20:33.810\nfirewall, if you have anything\nplugged into a cable modem or\n\n384\n00:20:33.810 --> 00:20:36.180\nDSL, that's almost always what you do.\n\n385\n00:20:36.180 --> 00:20:38.300\nThe ISP gives you one IP address and\n\n386\n00:20:38.300 --> 00:20:41.370\nthat one IP address is on the public\ninterface of your router.\n\n387\n00:20:41.370 --> 00:20:44.680\nAnd so on the private interface of your\nrouter you want all of that traffic\n\n388\n00:20:44.680 --> 00:20:46.130\nto just share that one address.\n\n389\n00:20:46.130 --> 00:20:52.060\nSo you're overloading an IP that's\nright here on the router, okay?\n\n390\n00:20:52.060 --> 00:20:55.760\nThe other option though is\nyou could overload a pool,\n\n391\n00:20:55.760 --> 00:20:58.630\nremember the pool I made\na minute ago had 51 IPs.\n\n392\n00:20:58.630 --> 00:21:02.230\nSo what happens when\nthe 52nd person comes along?\n\n393\n00:21:02.230 --> 00:21:05.020\nThey're out of luck, no more IPs, right?\n\n394\n00:21:05.020 --> 00:21:09.480\nIf I overload the pool though\nwhat it'll do is the first 50\n\n395\n00:21:09.480 --> 00:21:14.270\npeople that come along will\nget their own one-to-one IP.\n\n396\n00:21:14.270 --> 00:21:18.247\nThe 51st person will get\ntheir own one-to-one IP,\n\n397\n00:21:18.247 --> 00:21:22.060\nthe 52nd person will\nshare the 51st person's.\n\n398\n00:21:22.060 --> 00:21:24.970\nSo the 51st person would lose\ntheir own one to one IP and\n\n399\n00:21:24.970 --> 00:21:26.860\nnow it becomes a one to many, right?\n\n400\n00:21:26.860 --> 00:21:28.170\nSo when you overload a pool,\n\n401\n00:21:28.170 --> 00:21:31.830\nyou're really overloading the last\naddress in that pool, not the whole pool.\n\n402\n00:21:31.830 --> 00:21:33.930\nEverybody in the beginning\ngets their own one to one and\n\n403\n00:21:33.930 --> 00:21:35.970\nthe last IP gets overloaded.\n\n404\n00:21:35.970 --> 00:21:40.090\nSo to do that, actually it's kind of easy,\nwe just take the example that I\n\n405\n00:21:40.090 --> 00:21:44.880\njust did a moment ago and you just add\nthe word overload to the end of it.\n\n406\n00:21:44.880 --> 00:21:48.165\nWhen you go to create that, when you\ncreate that pool you just stick the word\n\n407\n00:21:48.165 --> 00:21:50.410\noverload on there, and\nnow you're overloading it.\n\n408\n00:21:50.410 --> 00:21:55.180\nSo that big long line where I\nactually tied it all together,\n\n409\n00:21:55.180 --> 00:21:56.970\nthis line right here, where I said.\n\n410\n00:21:56.970 --> 00:22:00.550\nActually I deleted the pool while ago\ninstead of deleting the NAT translation,\n\n411\n00:22:00.550 --> 00:22:01.750\nI should've done that.\n\n412\n00:22:01.750 --> 00:22:05.360\nBut, anyhow,\non this line where I turned it on,\n\n413\n00:22:05.360 --> 00:22:10.780\nif I just add the word overload to\nthe end, now it's not just doing that,\n\n414\n00:22:10.780 --> 00:22:13.500\nnow it's doing PAT,\nit's doing port address translation.\n\n415\n00:22:13.500 --> 00:22:16.590\nAnd everybody that hits this pool is\ngoing to get a one to one except for\n\n416\n00:22:16.590 --> 00:22:17.230\nthe last person.\n\n417\n00:22:17.230 --> 00:22:20.230\nAnd the last person is\ngoing to share their IP\n\n418\n00:22:20.230 --> 00:22:22.280\nwith everybody else that comes along.\n\n419\n00:22:22.280 --> 00:22:26.450\nSo now I'm doing NAT for the first\n50 cuz it's a 51 IP pool, NAT for\n\n420\n00:22:26.450 --> 00:22:31.650\nthe first 50 and NAT and PAT for\neverybody else after that, all right?\n\n421\n00:22:31.650 --> 00:22:34.250\nBut even this, is pretty uncommon,\nwe don't know if we have a pool.\n\n422\n00:22:34.250 --> 00:22:36.700\nIf you had thousands of computers, and\n\n423\n00:22:36.700 --> 00:22:38.540\nyou're worried about too\nmany port conflicts,\n\n424\n00:22:38.540 --> 00:22:42.340\nyou might set up a pool of public IPs, the\nNAT people behind so it's not a problem.\n\n425\n00:22:42.340 --> 00:22:43.670\nBut more commonly,\n\n426\n00:22:43.670 --> 00:22:46.280\nwe're just grabbing the external\ninterface of the router, all right?\n\n427\n00:22:46.280 --> 00:22:50.589\nSo, on this router for example,\nif I do a show ip interface brief,\n\n428\n00:22:52.020 --> 00:22:56.773\nit's got a public IP of 209.251.159.4.\n\n429\n00:22:56.773 --> 00:22:59.460\nAnd so, I can just say hey look,\nanybody on the inside network,\n\n430\n00:22:59.460 --> 00:23:02.480\nwhen they pass through,\njust translate them to this one public IP.\n\n431\n00:23:02.480 --> 00:23:05.830\nI'll share it, the router will\nshare the IP with the client.\n\n432\n00:23:05.830 --> 00:23:09.600\nAnd this is the most common\nmethod of doing it right and\n\n433\n00:23:09.600 --> 00:23:13.350\nit's actually kind of easy because\nI don't have to set up a pool.\n\n434\n00:23:13.350 --> 00:23:16.740\nCuz we just have a public IP on this\ninterface that we're already using.\n\n435\n00:23:16.740 --> 00:23:20.630\nWe can even use this with DACP so\nif our public interface changes\n\n436\n00:23:20.630 --> 00:23:22.563\nit can automatically NAT to\nwhatever the new address is.\n\n437\n00:23:23.720 --> 00:23:26.940\nSo the way we do it is kind\nof like with the pools.\n\n438\n00:23:26.940 --> 00:23:29.370\nWe have a couple of steps, right?\n\n439\n00:23:29.370 --> 00:23:30.500\nWe do need an ACL,\n\n440\n00:23:30.500 --> 00:23:33.990\nwe need an access control list that\nidentifies whose allowed to be NATted.\n\n441\n00:23:33.990 --> 00:23:35.810\nAnd I already have one, right?\n\n442\n00:23:35.810 --> 00:23:38.040\nThe one we made earlier in the show,\nthis one that permits anybody.\n\n443\n00:23:38.040 --> 00:23:40.840\nSo I'm gonna allow anybody to get\nNATted as they pass through the system,\n\n444\n00:23:40.840 --> 00:23:42.140\nall right.\n\n445\n00:23:42.140 --> 00:23:45.930\nAnd then, I need to tell it\nwhat I\"m going to NAT to.\n\n446\n00:23:45.930 --> 00:23:48.460\nBefore I created a pool,\nI don't have to create a pool this time,\n\n447\n00:23:48.460 --> 00:23:50.586\ncuz it's just going to grab\nthe IP from the interface.\n\n448\n00:23:50.586 --> 00:23:54.171\nSo it's really just two steps,\ncreate an ACL and\n\n449\n00:23:54.171 --> 00:23:57.417\nthen tie the ACL to an interface IP,\nright.\n\n450\n00:23:57.417 --> 00:23:59.142\nThat's what this next\ncommand is going to do.\n\n451\n00:23:59.142 --> 00:24:05.140\nSo I'm going to say ip\nnat inside source list 1.\n\n452\n00:24:05.140 --> 00:24:08.970\nSo the inside people are gonna\nbe a part of access list 1.\n\n453\n00:24:08.970 --> 00:24:11.130\nSo whatever access list 1 says,\nthose are my inside people.\n\n454\n00:24:12.170 --> 00:24:16.600\nAnd now, for my outside, what are we\ngonna become as we translate through?\n\n455\n00:24:16.600 --> 00:24:21.170\nWell, before,\nthis is where I said pool itprotv-lab.\n\n456\n00:24:21.170 --> 00:24:24.810\nThis time, though,\nI'm gonna say interface, and\n\n457\n00:24:24.810 --> 00:24:27.965\nI'm gonna specify the gi1/0 interface.\n\n458\n00:24:27.965 --> 00:24:31.480\nSo I'm saying basically,\nwhen somebody comes through,\n\n459\n00:24:31.480 --> 00:24:34.240\njust use whatever IP address is on gi1/0.\n\n460\n00:24:34.240 --> 00:24:36.483\nIf the IP changes,\nif it's DHCP, who cares?\n\n461\n00:24:36.483 --> 00:24:38.510\nJust use whatever it has right now.\n\n462\n00:24:38.510 --> 00:24:42.440\nNow if I stop right here,\nthe first person is gonna be really happy.\n\n463\n00:24:42.440 --> 00:24:44.100\nThe second person and\neverybody else is not gonna be so\n\n464\n00:24:44.100 --> 00:24:45.920\nhappy, because it's a one-to-one mapping.\n\n465\n00:24:45.920 --> 00:24:48.190\nAnd technically,\nthe router is already the first person.\n\n466\n00:24:48.190 --> 00:24:50.570\nSo I doubt you're gonna\nhave many happy campers.\n\n467\n00:24:50.570 --> 00:24:54.443\nSo we need to remember to add\nthe word overload to the end.\n\n468\n00:24:54.443 --> 00:24:58.743\nNow I'm allowing more than one\nmachine to share that IP and\n\n469\n00:24:58.743 --> 00:25:01.570\nnow it's gonna do port translation.\n\n470\n00:25:01.570 --> 00:25:06.110\nIf I have two machines that happen to use\nthe same source port when they're going\n\n471\n00:25:06.110 --> 00:25:09.600\nout, it'll change one of them\nto use a different port.\n\n472\n00:25:09.600 --> 00:25:12.000\nAnd then it'll change it back\nwhen the reply comes back, so\n\n473\n00:25:12.000 --> 00:25:13.150\nthe end stations never know it.\n\n474\n00:25:13.150 --> 00:25:15.110\nThey never know they duplicated a port,\nbut\n\n475\n00:25:15.110 --> 00:25:17.070\nthe router takes care of it and\nwe move on.\n\n476\n00:25:17.070 --> 00:25:19.721\nOkay, now once this is in place,\n\n477\n00:25:19.721 --> 00:25:24.370\nif I do a show ip nat translations,\noops, I'm in config.\n\n478\n00:25:26.160 --> 00:25:28.710\nI can see that I don't have\nany translations, right?\n\n479\n00:25:28.710 --> 00:25:31.570\nSo, if I, there we go.\n\n480\n00:25:31.570 --> 00:25:32.990\nI've got no translations.\n\n481\n00:25:32.990 --> 00:25:34.293\nWell, same thing with the pool,\n\n482\n00:25:34.293 --> 00:25:36.830\nI had no translations until\nI generated some traffic.\n\n483\n00:25:36.830 --> 00:25:38.690\nSo let's go and generate some traffic.\n\n484\n00:25:38.690 --> 00:25:43.288\nNow on this router,\nits public IP was 209.251.159.4.\n\n485\n00:25:43.288 --> 00:25:47.256\nSo when router 2 goes out,\nthat's what it should show up as now,\n\n486\n00:25:47.256 --> 00:25:51.480\nit should show up as .4 even\nthough that's not its own IP.\n\n487\n00:25:51.480 --> 00:25:54.890\nSo let me run over to router 2.\n\n488\n00:25:54.890 --> 00:25:56.360\nThere we go.\n\n489\n00:25:56.360 --> 00:26:00.322\nAnd on router 2, I'm just gonna do a show\nip interface brief to show that I don't\n\n490\n00:26:00.322 --> 00:26:03.257\nhave a 209.254 address or\n251, whatever it is.\n\n491\n00:26:03.257 --> 00:26:09.883\nAnd I'm gonna telnet to 209.251.159.6.\n\n492\n00:26:09.883 --> 00:26:12.130\nSo I'm connecting over to router 6.\n\n493\n00:26:12.130 --> 00:26:13.739\nAnd I get in, so that's a good sign.\n\n494\n00:26:13.739 --> 00:26:16.240\nRight, it means that I'm\nmore than likely got NATted.\n\n495\n00:26:16.240 --> 00:26:21.290\nAnd if I do a show user,\nI can see right here, that I got NATted\n\n496\n00:26:21.290 --> 00:26:26.455\nto 209.251.159.4, the address of router 4.\n\n497\n00:26:26.455 --> 00:26:31.041\nSo if I jump back over to router 4,\nso here I am on router 4, and\n\n498\n00:26:31.041 --> 00:26:36.210\nI rerun show ip nat translations,\nthere's the translation.\n\n499\n00:26:36.210 --> 00:26:42.860\nAnd what you'll see, whoops,\nlet me get this straight here,\n\n500\n00:26:42.860 --> 00:26:46.800\nis that I'm 192.168.2.2 on the inside, and\nI became 209.251.159.4 on the outside.\n\n501\n00:26:49.665 --> 00:26:52.385\nBut I don't have one of\nthe big reservations.\n\n502\n00:26:52.385 --> 00:26:54.355\nRemember the big reservations that\nwe saw before where it didn't\n\n503\n00:26:54.355 --> 00:26:57.765\nsay TCP on the side, it said dash, dash,\ndash and the other things were dashed out.\n\n504\n00:26:57.765 --> 00:27:01.975\nThis is extremely temporary,\nthis is not like a one-to-one assignment.\n\n505\n00:27:01.975 --> 00:27:05.065\nI'm overloading an IP so\nit doesn't belong to me, so\n\n506\n00:27:05.065 --> 00:27:08.375\nthe router doesn't need to keep track\nof a one-to-one, so it doesn't.\n\n507\n00:27:08.375 --> 00:27:11.200\nAnd all I have is the session\nthat I just opened.\n\n508\n00:27:11.200 --> 00:27:14.774\nAnd I'm reaching out to 209.251.159.6.\n\n509\n00:27:14.774 --> 00:27:19.281\nNow also notice that when I reached out\nto that external person I'm using Telnet\n\n510\n00:27:19.281 --> 00:27:20.430\nwhich is port 23.\n\n511\n00:27:20.430 --> 00:27:23.980\nAnd so the destination port for\nboth of those is 23.\n\n512\n00:27:23.980 --> 00:27:25.185\nIt didn't mess with that, right?\n\n513\n00:27:25.185 --> 00:27:27.409\nCuz the other side needs to\nknow that we're using Telnet.\n\n514\n00:27:27.409 --> 00:27:28.853\nBut look at my source port.\n\n515\n00:27:28.853 --> 00:27:34.144\nOn the inside, when I reached out,\nit was 192.168.2.2,\n\n516\n00:27:34.144 --> 00:27:36.935\nand my port was 53358, right?\n\n517\n00:27:36.935 --> 00:27:42.847\nThat's the randomly generated port that\nI picked between 49,152 and 65,535.\n\n518\n00:27:42.847 --> 00:27:46.201\nIf you look at my translation,\n\n519\n00:27:46.201 --> 00:27:52.007\nI became 209.251.159.4:4096.\n\n520\n00:27:52.007 --> 00:27:54.860\nIt changed my port number, right?\n\n521\n00:27:54.860 --> 00:27:56.467\nWhy'd it do that?\n\n522\n00:27:56.467 --> 00:27:59.610\nWell, it did that to make sure I\ndon't conflict with anybody else.\n\n523\n00:27:59.610 --> 00:28:03.780\nIf somebody else is telnetting\nout with a source port of 53358,\n\n524\n00:28:03.780 --> 00:28:08.690\nit won't be able to know which one to\nreply back to when it comes to us.\n\n525\n00:28:08.690 --> 00:28:12.061\nSo by changing it,\nit ensures that I'm now unique.\n\n526\n00:28:12.061 --> 00:28:14.667\nAnd when it does it,\nit kinda broke the rules a bit, didn't it?\n\n527\n00:28:14.667 --> 00:28:20.680\nIt went well beyond 49152 this\nis way down in the 4,000s.\n\n528\n00:28:20.680 --> 00:28:23.950\nTechnically, that's a registered\nport number, right?\n\n529\n00:28:23.950 --> 00:28:26.740\nI don't think we really talked\nabout port numbers all that much.\n\n530\n00:28:26.740 --> 00:28:30.985\nBut 1 through 1024 are what are called\nwell-known port numbers and the INA has\n\n531\n00:28:30.985 --> 00:28:35.900\ndefined those and those are set in stone\nand they rarely, rarely, rarely change.\n\n532\n00:28:35.900 --> 00:28:41.993\nBut 1025 all the way through 49151, those\nare called registered ports which means,\n\n533\n00:28:41.993 --> 00:28:46.450\nif you're gonna use them,\nyou're supposed to go to the INA and\n\n534\n00:28:46.450 --> 00:28:49.310\nsay what your protocol is and\nfill out some forms and pay some money and\n\n535\n00:28:49.310 --> 00:28:50.820\nthen now your protocol\nis assigned to that.\n\n536\n00:28:50.820 --> 00:28:54.630\nSo for example,\nMicrosoft's Remote Desktop Protocol.\n\n537\n00:28:54.630 --> 00:28:56.320\nIt uses port 3389.\n\n538\n00:28:56.320 --> 00:28:58.466\nSo they went to the INA,\nand they registered that.\n\n539\n00:28:58.466 --> 00:29:00.842\nAnd you can pull up the list\nof registered ports, and\n\n540\n00:29:00.842 --> 00:29:03.320\nyou'll see 3389 is Microsoft RDP.\n\n541\n00:29:03.320 --> 00:29:06.033\nWell, 4096, what is that?\n\n542\n00:29:06.033 --> 00:29:09.630\nI don't know, it could very\nwell be registered to somebody.\n\n543\n00:29:09.630 --> 00:29:12.790\nBut, because we're doing translation,\n\n544\n00:29:12.790 --> 00:29:15.236\nthe work station doesn't\nhave to know about that.\n\n545\n00:29:15.236 --> 00:29:18.780\nAnd the server that we're reaching out to,\nas long as our destination port\n\n546\n00:29:18.780 --> 00:29:22.680\nisn't 4096 also, then we're not really\ngonna have any problems there either.\n\n547\n00:29:22.680 --> 00:29:24.410\nSo, it's breaking the rules a bit and\n\n548\n00:29:24.410 --> 00:29:29.830\nit does that to maximize the amount of\nmachines that could be behind this one IP.\n\n549\n00:29:30.890 --> 00:29:34.550\nIf I went just 49152 all\nthe way through 65535,\n\n550\n00:29:34.550 --> 00:29:38.290\nthat's only a little\nmore than 15,000 ports.\n\n551\n00:29:38.290 --> 00:29:42.866\nIf I had 15,000 people all Telnet,\nall to the same destination, I know,\n\n552\n00:29:42.866 --> 00:29:43.566\n>> [LAUGH]\n\n553\n00:29:43.566 --> 00:29:45.630\n>> This gets really astronomical odds.\n\n554\n00:29:45.630 --> 00:29:48.740\nBut, if they all Telnet in to the same\ndestination, I would have a problem.\n\n555\n00:29:48.740 --> 00:29:52.150\nI'd have a port conflict, and I'd be out\nof ports to be able to negotiate it.\n\n556\n00:29:52.150 --> 00:29:54.820\nSo by breaking the rules and going bigger,\n\n557\n00:29:54.820 --> 00:29:57.260\nnow they have 40 or\n50,000 ports that are available.\n\n558\n00:29:57.260 --> 00:30:00.900\nSo 40 or 50,000 people would all have to\ngo to the same destination using the same\n\n559\n00:30:00.900 --> 00:30:03.930\nprotocol before we had a true conflict.\n\n560\n00:30:03.930 --> 00:30:05.150\nAnd lets face it,\n\n561\n00:30:05.150 --> 00:30:08.820\nif you've got 50,000 people all\nbeing NATted behind a single IP, you\n\n562\n00:30:08.820 --> 00:30:12.880\nprobably have the money to get a second IP\nor even a couple of a hundred IPs, right?\n\n563\n00:30:12.880 --> 00:30:15.230\nSo instead of NATting to a single IP,\nlike I'm doing,\n\n564\n00:30:15.230 --> 00:30:18.550\nyou would NAT to a pool,\nyou'd set up a pool and go that way.\n\n565\n00:30:18.550 --> 00:30:21.999\nOr you'd divide into subnets and\ngive each subnet their own public IP.\n\n566\n00:30:21.999 --> 00:30:24.430\nYou can certainly do that,\nyou'll have the infrastructure.\n\n567\n00:30:24.430 --> 00:30:29.820\nSo this is really set to scale very,\nvery large, and it certainly can.\n\n568\n00:30:29.820 --> 00:30:33.960\nAnd it solves that problem of\nhaving tons of private IPs\n\n569\n00:30:33.960 --> 00:30:36.530\nall stuck behind one public IP.\n\n570\n00:30:36.530 --> 00:30:39.190\nSo this is what your home routers do.\n\n571\n00:30:39.190 --> 00:30:41.970\nThis is what they do out of hand,\nit's their default configuration.\n\n572\n00:30:41.970 --> 00:30:46.065\nThey overload whatever IP is\non their public interface.\n\n573\n00:30:46.065 --> 00:30:49.250\nAnd the nice part about this is\nbecause it's tied to the interface,\n\n574\n00:30:49.250 --> 00:30:53.230\nif my public interface were to change IPs.\n\n575\n00:30:54.360 --> 00:30:59.954\nSo I can get into,\ngi1/0 and change its IP.\n\n576\n00:30:59.954 --> 00:31:05.970\nIf I were to go, ip address 209.251.159.,\ndo 104 this time, okay.\n\n577\n00:31:07.780 --> 00:31:10.910\nSo when I bump it up like that,\nmaybe I'm using DHCP so\n\n578\n00:31:10.910 --> 00:31:12.980\nmy IP changes every now and then.\n\n579\n00:31:12.980 --> 00:31:17.070\nSo when that happens,\nmy nodes, all right, well,\n\n580\n00:31:17.070 --> 00:31:18.880\nI got disconnected because my IP changed.\n\n581\n00:31:18.880 --> 00:31:21.568\nBut when I go and reach back out,\nI'm able to get out.\n\n582\n00:31:21.568 --> 00:31:26.920\nAnd when I do a show user, I can see\nthat I'm now being mapped on 104.\n\n583\n00:31:26.920 --> 00:31:30.697\nMy old session disconnected, so\nit's still showing as sitting there, but\n\n584\n00:31:30.697 --> 00:31:33.892\nmy new session is right here,\nand I'm connected via the new IP.\n\n585\n00:31:33.892 --> 00:31:37.350\nSo that's great for branch offices\nwhere you may not have a static IP.\n\n586\n00:31:37.350 --> 00:31:40.100\nIn a home office, you've probably got\na static IP, right, not a big deal.\n\n587\n00:31:40.100 --> 00:31:45.100\nBut in a branch office, you may have a\nbroadband connection and that IP changes.\n\n588\n00:31:45.100 --> 00:31:48.061\nAll right, so\nthat is the most common and let me,\n\n589\n00:31:48.061 --> 00:31:52.406\nRonnie had a good idea there earlier\nabout, it happens once in a while.\n\n590\n00:31:52.406 --> 00:31:53.490\n>> [LAUGH]\n>> About bringing up that config.\n\n591\n00:31:53.490 --> 00:31:56.322\n>> So\nlet's just bring up that config real quick\n\n592\n00:31:56.322 --> 00:31:58.400\nand-\n>> No respect.\n\n593\n00:31:58.400 --> 00:32:02.256\n>> And [LAUGH] see those lines,\n[LAUGH] like the Rodney Dangerfield of IT.\n\n594\n00:32:02.256 --> 00:32:03.250\n>> I know.\n\n595\n00:32:03.250 --> 00:32:05.855\n>> So the commands I entered in\nwere really pretty simple, right?\n\n596\n00:32:05.855 --> 00:32:09.945\nWe had to create an access list and I went\nsuper simple, I just said access-list 1\n\n597\n00:32:09.945 --> 00:32:13.390\npermit any, I permitted everybody\nto be able to use this.\n\n598\n00:32:13.390 --> 00:32:16.640\nAnd then we did ip nat\ninside source list 1, and\n\n599\n00:32:16.640 --> 00:32:22.100\nthen the interface that we're tied to,\nin my case, GigabitEthernet1/0.\n\n600\n00:32:22.100 --> 00:32:25.160\nOkay, when we define that,\nnow we're NATing.\n\n601\n00:32:25.160 --> 00:32:27.057\nBut that overload keyword\nthere at the end,\n\n602\n00:32:27.057 --> 00:32:30.145\nI'm gonna give everybody motion\nsickness if I keep zooming like this.\n\n603\n00:32:30.145 --> 00:32:32.700\n>> [LAUGH]\n>> This overload command here at the end,\n\n604\n00:32:32.700 --> 00:32:36.350\nthat's the secret to doing\nport address translation.\n\n605\n00:32:36.350 --> 00:32:39.461\nSo on the exam, you may hear them\ncall it PAT, they may call it\n\n606\n00:32:39.461 --> 00:32:43.858\nPort Address Translation, they might call\nit IP Overloading, or NAT Overloading.\n\n607\n00:32:43.858 --> 00:32:45.471\nThere's different terminology there, but\n\n608\n00:32:45.471 --> 00:32:48.550\nit's all gonna use those keywords right\nthere, so be on the lookout for that.\n\n609\n00:32:48.550 --> 00:32:49.940\nIt is really, really important.\n\n610\n00:32:51.170 --> 00:32:56.154\nAll right, Ronnie, I think that we have\ncovered NAT as extensively as we need to.\n\n611\n00:32:56.154 --> 00:32:59.203\nRemember, there's three different modes,\nyou're expected to know all three.\n\n612\n00:32:59.203 --> 00:33:01.590\nThey're all useful in their\nown particular areas.\n\n613\n00:33:01.590 --> 00:33:04.180\nI've used method one,\nstatic one-to-one's, and\n\n614\n00:33:04.180 --> 00:33:07.790\nI've used method three,\nNAT Overload extensively in production.\n\n615\n00:33:07.790 --> 00:33:10.540\nThe dynamic pool, I think I've only\nused that in production one place,\n\n616\n00:33:10.540 --> 00:33:12.755\none place that just happened\nto have a ton of public IPs.\n\n617\n00:33:12.755 --> 00:33:14.410\nYou'll find that with schools and\nuniversities,\n\n618\n00:33:14.410 --> 00:33:17.640\nsometimes they have a ton of public IPs,\nand so you may use it there too.\n\n619\n00:33:17.640 --> 00:33:21.760\nBut that one, definitely the least\ncommon of the three scenarios.\n\n620\n00:33:21.760 --> 00:33:25.000\n>> Well, Don, thank you again for helping\nus to fill out the remainder of that,\n\n621\n00:33:25.000 --> 00:33:28.320\neven though we took a look\nat static NAT in part one.\n\n622\n00:33:28.320 --> 00:33:31.110\nWe did take a look at the configuration\nof dynamic and, of course,\n\n623\n00:33:31.110 --> 00:33:33.880\nof the NAT Overload in this part, as well.\n\n624\n00:33:33.880 --> 00:33:37.630\nYou do need to make sure you take\na look at those configurations\n\n625\n00:33:37.630 --> 00:33:39.410\nthrough that running config.\n\n626\n00:33:39.410 --> 00:33:43.000\nI can't tell you what's on the exam, but\nI guarantee you that one of those things\n\n627\n00:33:43.000 --> 00:33:46.510\nthat you have to actually know is hey,\nhow does that actually appear,\n\n628\n00:33:46.510 --> 00:33:49.340\nand you've gotta make sure that\nyou mark those keywords in there.\n\n629\n00:33:49.340 --> 00:33:51.280\nThe one that always got\nme was the netmask,\n\n630\n00:33:51.280 --> 00:33:52.960\nwhenever I've actually implemented it.\n\n631\n00:33:52.960 --> 00:33:56.450\nAnd then forgetting that\nkeyword at the end of overload.\n\n632\n00:33:56.450 --> 00:33:59.420\nSo even if you have everything else set\nup there, you don't have that keyword\n\n633\n00:33:59.420 --> 00:34:02.900\noverload, you're not actually doing\nthat port address translation as well.\n\n634\n00:34:02.900 --> 00:34:05.827\nBut these are, again,\nwhen you're taking a look at technologies\n\n635\n00:34:05.827 --> 00:34:08.750\nthat you'll see just about everywhere\non just about every network.\n\n636\n00:34:08.750 --> 00:34:11.710\nWell, that's a great place for\nus to also sign off then.\n\n637\n00:34:11.710 --> 00:34:14.620\nFor ITProTV,\nI've been your host Ronnie Wong.\n\n638\n00:34:14.620 --> 00:34:15.540\n>> And I'm Don Pezet.\n\n639\n00:34:15.540 --> 00:34:20.178\n>> Stay tuned right here for\nmore CCENT episodes.\n\n640\n00:34:20.178 --> 00:34:28.130\n[MUSIC]\n\n",
          "vimeoId": "175876435"
        }
      ],
      "title": "Infrastructure Services"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Ronnie and Don show us some of the maintenance task that a Cisco Profession must understand and configure, specifically setting up a remote syslog server. They talk about reason to configure it and demonstrates the it’s configuration and then show the output.  This, the guys point out, is essential to provide solid information for troubleshooting and maintaining multiple Cisco devices.",
          "length": "1991",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-5-1-1-device_management-080116-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-5-1-1-device_management-080116-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-5-1-1-device_management-080116-1-sm.jpg",
          "title": "Device Management",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.222 --> 00:00:12.801\nWelcome to another great\nepisode right here on ITProTV.\n\n3\n00:00:15.190 --> 00:00:22.280\nI'm your host Ronnie Wong and today,\nyou're actually watching the Cisco CCENT.\n\n4\n00:00:22.280 --> 00:00:25.130\nNow, when we're actually taking a look,\nwe've already gone through and\n\n5\n00:00:25.130 --> 00:00:27.050\nconfigured routers and switches.\n\n6\n00:00:27.050 --> 00:00:28.220\nAnd they're up and running.\n\n7\n00:00:28.220 --> 00:00:32.400\nAnd so we've actually gone\nthrough quite a bit of things.\n\n8\n00:00:32.400 --> 00:00:35.240\nBut what we actually need to know is\nwhat else is there left to do and\n\n9\n00:00:35.240 --> 00:00:38.140\nwho better to help us ask that\nquestion than Mr. Don Pezet.\n\n10\n00:00:38.140 --> 00:00:40.640\nDon, what do we really have left to do?\n\n11\n00:00:40.640 --> 00:00:44.150\nWe've got routers running,\nwe've got switches running, that's it.\n\n12\n00:00:44.150 --> 00:00:47.660\n>> You have to be asking that question by\nthis point cuz we've seen a ton of stuff,\n\n13\n00:00:47.660 --> 00:00:50.180\nbut the reality is you\ncould stop right there.\n\n14\n00:00:50.180 --> 00:00:53.720\nHey, I've configured everything,\nit's doing what I want it to do, I'm done.\n\n15\n00:00:53.720 --> 00:00:56.040\nBut now you settle into maintenance mode,\nright?\n\n16\n00:00:56.040 --> 00:00:59.990\nMaintenance mode is you just need to\nkeep your equipment running and healthy.\n\n17\n00:00:59.990 --> 00:01:02.880\nAnd so there's some services that\nare built into Cisco devices that make\n\n18\n00:01:02.880 --> 00:01:03.560\nthat easier.\n\n19\n00:01:03.560 --> 00:01:05.440\nBecause things do go wrong, right?\n\n20\n00:01:05.440 --> 00:01:08.570\nYour average Cisco switch, right,\n\n21\n00:01:08.570 --> 00:01:11.490\nI've got a 3560 or\nsomething like that behind me here.\n\n22\n00:01:11.490 --> 00:01:14.290\nA switch like that,\nthey can run ten years.\n\n23\n00:01:14.290 --> 00:01:16.630\nThe hardware is built really, really well.\n\n24\n00:01:16.630 --> 00:01:19.930\nEven in poor cooling conditions\nthey'll run seven years.\n\n25\n00:01:19.930 --> 00:01:23.450\nSo this equipment will be around\nawhile if you take care of it.\n\n26\n00:01:23.450 --> 00:01:27.360\nNow, there's physical care, things\nlike brushing the dust off it, right,\n\n27\n00:01:27.360 --> 00:01:30.150\nbut there's also\nthe software side of things.\n\n28\n00:01:30.150 --> 00:01:32.651\nThe software management,\nthe device management that we need to\n\n29\n00:01:32.651 --> 00:01:35.450\nbe doing to maintain and\nkeep our devices healthy and running.\n\n30\n00:01:35.450 --> 00:01:38.070\nSo we're gonna show you a couple of\ndifferent services in this episode and\n\n31\n00:01:38.070 --> 00:01:41.010\nover the next few episodes that\nare kind of additional things\n\n32\n00:01:41.010 --> 00:01:42.160\nthat are certainly optional.\n\n33\n00:01:42.160 --> 00:01:44.968\nRight, these all things consider\nare off by default, but\n\n34\n00:01:44.968 --> 00:01:48.474\nthat we might wanna configure to make\nthings run a little more smoothly.\n\n35\n00:01:48.474 --> 00:01:51.669\nNow the first one that I wanna start off\nwith is probably the most important and\n\n36\n00:01:51.669 --> 00:01:53.220\nthat is syslog.\n\n37\n00:01:53.220 --> 00:01:54.440\nEvery Cisco router and\n\n38\n00:01:54.440 --> 00:01:58.090\nevery Cisco switch maintains a log of the\nevents that are happening on it, right?\n\n39\n00:01:58.090 --> 00:02:00.040\nLet's take a look at this\nrouter here that I'm in.\n\n40\n00:02:00.040 --> 00:02:02.720\nSo I'm connected to\nthe console of a router and\n\n41\n00:02:02.720 --> 00:02:06.210\nwhen I look at the router\nif I run show logging.\n\n42\n00:02:06.210 --> 00:02:09.290\nOr I usually just type show log\nbecause that's what I think about,\n\n43\n00:02:09.290 --> 00:02:11.440\nI wanna see the logs, but\nit's actually show logging.\n\n44\n00:02:11.440 --> 00:02:16.780\nWhen you run that, [LAUGH], so\nI'm not in the privileged mode prompt.\n\n45\n00:02:16.780 --> 00:02:20.900\nSo it's not gonna let me do it and I can't\nspell enable, so let me do that again.\n\n46\n00:02:20.900 --> 00:02:21.930\nSo if I do a show logging,\n\n47\n00:02:21.930 --> 00:02:26.330\nthere we go, now I'm seeing\nthe logs on this particular device.\n\n48\n00:02:26.330 --> 00:02:29.920\nAnd so any event that has happened on\nthe device will get logged right here and\n\n49\n00:02:29.920 --> 00:02:31.680\nwe've seen this throughout this series,\nright?\n\n50\n00:02:31.680 --> 00:02:34.550\nSimple things like if I\nget into configuration and\n\n51\n00:02:34.550 --> 00:02:36.440\nI change something like the hostname.\n\n52\n00:02:36.440 --> 00:02:42.130\nSo maybe I call this LAB-ROUTER1 or\n01 or whatever I want to call it.\n\n53\n00:02:42.130 --> 00:02:45.550\nSo I go in and\nI change its name and I get out.\n\n54\n00:02:45.550 --> 00:02:47.890\nThat little message that just\npopped up on the screen,\n\n55\n00:02:47.890 --> 00:02:50.190\nthat is what's called a syslog message.\n\n56\n00:02:50.190 --> 00:02:53.120\nNow, we just call them log messages\non the Cisco device itself.\n\n57\n00:02:53.120 --> 00:02:56.000\nBut there's actually a service running\nin the background called syslog,\n\n58\n00:02:56.000 --> 00:02:58.060\nthe system logs service.\n\n59\n00:02:58.060 --> 00:03:01.829\nAnd it's the same syslog daemon that's\nfound on Unix-based systems and\n\n60\n00:03:01.829 --> 00:03:03.113\nLinux-based systems.\n\n61\n00:03:03.113 --> 00:03:05.830\nEven Mac OS runs the same system.\n\n62\n00:03:05.830 --> 00:03:09.930\nAnd so the neat part about this is because\nit's the same system as what's run\n\n63\n00:03:09.930 --> 00:03:11.270\non those other platforms.\n\n64\n00:03:11.270 --> 00:03:14.800\nWe can actually transport these\nlog messages somewhere else.\n\n65\n00:03:14.800 --> 00:03:18.440\nThe default is that these log messages\nare what are called buffered, right?\n\n66\n00:03:18.440 --> 00:03:20.170\nWhen I run show logging,\n\n67\n00:03:20.170 --> 00:03:24.680\nI'm actually looking at the buffer\nright here on this particular device.\n\n68\n00:03:24.680 --> 00:03:27.600\nAnd when I run that,\nnotice I've got this message right here.\n\n69\n00:03:27.600 --> 00:03:31.240\nIt says syslog logging:\nenabled (0 messages dropped,\n\n70\n00:03:31.240 --> 00:03:35.112\n3 messages rate-limited,\n0 flushed) and so on, right?\n\n71\n00:03:35.112 --> 00:03:36.510\nAnd so I get these little notes up here.\n\n72\n00:03:36.510 --> 00:03:38.340\nI know something's going on.\n\n73\n00:03:38.340 --> 00:03:42.250\nBut when I look down here,\nI don't have any log messages.\n\n74\n00:03:42.250 --> 00:03:43.825\nI know stuff has happened, right?\n\n75\n00:03:43.825 --> 00:03:48.270\nConsole logging, level debugging,\n17 messages logged.\n\n76\n00:03:48.270 --> 00:03:52.650\nSo 17 messages have popped up\nsince this syslog service started.\n\n77\n00:03:52.650 --> 00:03:53.750\nWhere are they?\n\n78\n00:03:53.750 --> 00:03:57.020\nNormally, they would appear\nright down here at the bottom.\n\n79\n00:03:57.020 --> 00:04:00.070\nWell, on some Cisco equipment,\n\n80\n00:04:00.070 --> 00:04:03.810\nthe logging is displayed to screen and\nthat's it, okay?\n\n81\n00:04:03.810 --> 00:04:07.060\nNow when I say screen, what we're\ntalking about here is the console port.\n\n82\n00:04:07.060 --> 00:04:09.730\nI'm plugged directly into\nthe console port of this router.\n\n83\n00:04:09.730 --> 00:04:14.469\nAnd so when I went into configuration and\nmade some changes and then got out,\n\n84\n00:04:14.469 --> 00:04:18.620\nthat little message pops up\nright here on my console.\n\n85\n00:04:18.620 --> 00:04:21.530\nNow if I was plugged into\nthe console I saw it,\n\n86\n00:04:21.530 --> 00:04:24.070\nif I wasn't plugged into the console.\n\n87\n00:04:24.070 --> 00:04:28.610\nIt's gone forever and I'll never\nsee it again and that's not ideal.\n\n88\n00:04:28.610 --> 00:04:33.030\nSo some equipment, actually a lot of\nthe equipment it comes configured\n\n89\n00:04:33.030 --> 00:04:36.280\nto save it into the buffer,\ninto RAM by default.\n\n90\n00:04:36.280 --> 00:04:38.080\nAll right, some equipment doesn't, right.\n\n91\n00:04:38.080 --> 00:04:41.920\nThis router, I did a factory reset\nof this morning before the show.\n\n92\n00:04:41.920 --> 00:04:45.510\nBy default, it is not configured\nto store the logs and buffer.\n\n93\n00:04:45.510 --> 00:04:49.590\nSo if I wanna do that in config,\nI can run logging.\n\n94\n00:04:49.590 --> 00:04:50.610\nAnd if you do a question mark,\n\n95\n00:04:50.610 --> 00:04:54.477\nyou'll see all the different things you\ncan log to and boy, is there a lot, right?\n\n96\n00:04:55.570 --> 00:04:59.270\nBut the key one that I care about\nis this guy right here, buffered.\n\n97\n00:05:00.340 --> 00:05:04.870\nIf you run logging buffered, like that.\n\n98\n00:05:04.870 --> 00:05:08.580\nThat's gonna tell it from now\non when a log message happens,\n\n99\n00:05:08.580 --> 00:05:13.190\ndon't just display it on the screen,\nsave it in your memory buffers also.\n\n100\n00:05:13.190 --> 00:05:16.880\nSo now when I get out of config,\nI'm gonna see that little message, right?\n\n101\n00:05:16.880 --> 00:05:19.990\nIt was displayed on screen, so\nI saw it in my console just like before.\n\n102\n00:05:19.990 --> 00:05:23.600\nBut now if I do a show logging,\nwhen I go and look at this,\n\n103\n00:05:23.600 --> 00:05:29.170\nI see the same messages as before, but\nthere is the log message, right there.\n\n104\n00:05:29.170 --> 00:05:31.980\nIt's now saved in memory and\nthat's important because\n\n105\n00:05:31.980 --> 00:05:35.820\nI'm not gonna be plugged into\nthe console all the time on a device.\n\n106\n00:05:35.820 --> 00:05:38.000\nI'm very rarely gonna be\nplugged into the console.\n\n107\n00:05:38.000 --> 00:05:40.390\nSo if something's going\nwrong with the router or\n\n108\n00:05:40.390 --> 00:05:42.850\nsomething's going wrong with the switch\nand I plug into that console,\n\n109\n00:05:42.850 --> 00:05:46.120\nI wanna see the messages that\nwere displayed beforehand.\n\n110\n00:05:46.120 --> 00:05:50.350\nAnd so by running logging\nbuffered it turns that on.\n\n111\n00:05:50.350 --> 00:05:55.183\nNow notice the buffer is only four\nkilobytes in size, 4096 bytes.\n\n112\n00:05:55.183 --> 00:05:55.920\nThat's not a ton.\n\n113\n00:05:57.000 --> 00:05:59.100\nWell, they're just little text messages.\n\n114\n00:05:59.100 --> 00:06:03.780\nEach text message is 2 or\n300 bytes, it's not very big.\n\n115\n00:06:03.780 --> 00:06:08.510\nSo when you have 4,096 bytes,\nyou've got a ton of room there for\n\n116\n00:06:08.510 --> 00:06:11.400\nlog messages and\nit's probably more than enough, right?\n\n117\n00:06:11.400 --> 00:06:13.390\nBut you can adjust it, you can tweak it.\n\n118\n00:06:13.390 --> 00:06:17.250\nThat same command, logging buffer,\nif you continue it on and\n\n119\n00:06:17.250 --> 00:06:20.920\ndo a question mark, you'll see where\nyou can specify the buffer size.\n\n120\n00:06:20.920 --> 00:06:25.190\nNow I could make it the maximum number if\nI wanted, I don't even know what that is.\n\n121\n00:06:25.190 --> 00:06:27.210\nWe've got bytes, kilobytes, megabytes,\n\n122\n00:06:27.210 --> 00:06:30.490\ncould make it two gigs if we wanted to,\nright?\n\n123\n00:06:30.490 --> 00:06:33.600\nBut that memory's gotta\ncome from somewhere.\n\n124\n00:06:33.600 --> 00:06:37.770\nIt's taking memory away from your router\nand giving it to the logging buffer.\n\n125\n00:06:37.770 --> 00:06:40.710\nSo you don't wanna go crazy with this,\nyou can make it a little bit bigger but\n\n126\n00:06:40.710 --> 00:06:42.290\nI generally don't advise it.\n\n127\n00:06:42.290 --> 00:06:45.520\nInstead, what I advise is\nleave it at the small size,\n\n128\n00:06:45.520 --> 00:06:47.610\nleave it at the very minimum, 4,096.\n\n129\n00:06:47.610 --> 00:06:52.700\nAnd instead send a copy of your\nlogs somewhere else, right?\n\n130\n00:06:52.700 --> 00:06:55.460\nNow there's two main\nreasons I recommend that.\n\n131\n00:06:55.460 --> 00:06:57.400\nThe first reason we just\nsaw is you only have so\n\n132\n00:06:57.400 --> 00:06:59.100\nmuch memory available for these logs.\n\n133\n00:06:59.100 --> 00:07:02.450\nAnd if I'm troubleshooting,\nI want as much information as I can get.\n\n134\n00:07:02.450 --> 00:07:05.820\nSo I need a bigger log buffer.\n\n135\n00:07:05.820 --> 00:07:09.240\nAnd I didn't even mention that\nthis log buffer is just in RAM, so\n\n136\n00:07:09.240 --> 00:07:10.850\nwhat happens when my router reboots?\n\n137\n00:07:10.850 --> 00:07:13.900\nIt goes away, it's gone,\nright, it's temporary memory.\n\n138\n00:07:13.900 --> 00:07:17.760\nAnd if I'm troubleshooting\nsomething like a router crash,\n\n139\n00:07:17.760 --> 00:07:21.700\nso once a day my router is crashing\nat noon and I wanna know why.\n\n140\n00:07:21.700 --> 00:07:26.460\nWell it crashes, it boots back up, now\nlogs are empty, I don't know why, right?\n\n141\n00:07:26.460 --> 00:07:29.250\nSo I need that to be stored somewhere\n\n142\n00:07:29.250 --> 00:07:32.120\nbetter than in the RAM of the router,\nright?\n\n143\n00:07:32.120 --> 00:07:35.870\nThe second reason is if somebody were\nto hack into this router or switch,\n\n144\n00:07:35.870 --> 00:07:40.400\nif they were to break in,\nwhat is a hacker's first goal?\n\n145\n00:07:40.400 --> 00:07:42.350\nA lot of people think,\nhey a hacker is gonna get my network and\n\n146\n00:07:42.350 --> 00:07:44.110\nthey are trying to get data.\n\n147\n00:07:44.110 --> 00:07:47.060\nWell, that's their ultimate goal,\nthey want to get that data.\n\n148\n00:07:47.060 --> 00:07:50.430\nBut their first priority is clearing logs.\n\n149\n00:07:50.430 --> 00:07:52.026\nThey gotta cover their tracks.\n\n150\n00:07:52.026 --> 00:07:55.279\nIf the logs are there, I can see\nwhat they did, I can figure it out,\n\n151\n00:07:55.279 --> 00:07:58.496\nI can follow it back and I can\nincriminate them in the court of law.\n\n152\n00:07:58.496 --> 00:08:01.231\nSo hackers will typically target the logs.\n\n153\n00:08:01.231 --> 00:08:05.298\nSo if I store them somewhere else,\nand somebody hacks into this router,\n\n154\n00:08:05.298 --> 00:08:08.170\nI still have the logs,\nI've still got a safe.\n\n155\n00:08:08.170 --> 00:08:11.824\nSo we wanna send those logs somewhere\nother than the memory of your router,\n\n156\n00:08:11.824 --> 00:08:14.847\nyour switch, your firewall,\nall CISCO equipment, right?\n\n157\n00:08:14.847 --> 00:08:16.098\nYour access points,\n\n158\n00:08:16.098 --> 00:08:20.548\nall of them support logging their events\nto a sys log server somewhere else.\n\n159\n00:08:20.548 --> 00:08:22.710\nAnd it's really not that hard to set up.\n\n160\n00:08:22.710 --> 00:08:25.830\nWhen I ran logging?,\nlet me pull that back up again.\n\n161\n00:08:25.830 --> 00:08:28.450\nLogging?, we got a ton of stuff here,\nright?\n\n162\n00:08:28.450 --> 00:08:30.370\nAll sorts of different\nthings that we can tweak.\n\n163\n00:08:30.370 --> 00:08:32.806\nOn the CCENT exam,\nthey don't expect you to know all these.\n\n164\n00:08:32.806 --> 00:08:34.158\nSome of them are really useful though.\n\n165\n00:08:34.158 --> 00:08:37.821\nI think if you go on to do,\nRon do you do these in CCNA security,\n\n166\n00:08:37.821 --> 00:08:40.340\nsome of the severity levels and all that?\n\n167\n00:08:40.340 --> 00:08:43.410\n>> We did some severity levels in\nterms of the different messages, but\n\n168\n00:08:43.410 --> 00:08:45.930\nwe didn't really do some of these\nthat we're seeing right here.\n\n169\n00:08:45.930 --> 00:08:48.530\n>> There's some really advanced\nstuff like facilities where you can\n\n170\n00:08:48.530 --> 00:08:51.590\ndictate certain messages go one way,\nother messages go different way.\n\n171\n00:08:51.590 --> 00:08:53.150\nYou kinda tweak what's get logged.\n\n172\n00:08:53.150 --> 00:08:56.850\nYou can even fire up the embedded\nevent manager to take\n\n173\n00:08:56.850 --> 00:09:00.680\naction when certain things are logged,\nbut for the CCNT exam,\n\n174\n00:09:00.680 --> 00:09:02.840\nthere's really just two\nthings that we need to know.\n\n175\n00:09:02.840 --> 00:09:04.150\nOne, logging buffered.\n\n176\n00:09:04.150 --> 00:09:06.790\nWe need to save our logs into RAM.\n\n177\n00:09:06.790 --> 00:09:10.790\nAnd two, we need to be able to\nexport our logs somewhere else, and\n\n178\n00:09:10.790 --> 00:09:13.370\nthat's that very first entry right here.\n\n179\n00:09:13.370 --> 00:09:16.780\nWe can take our log messages and\nsend them to another server.\n\n180\n00:09:16.780 --> 00:09:19.587\nNow the server has to be\nconfigured to be a sys log server.\n\n181\n00:09:19.587 --> 00:09:23.233\nFortunately, every Linux box on\nthe planet has Syslog built into it and\n\n182\n00:09:23.233 --> 00:09:27.182\nyou can just fire up that daemon and,\nwell, the daemon's already running,\n\n183\n00:09:27.182 --> 00:09:30.014\nyou just need to open up the port so\npeople can connect.\n\n184\n00:09:30.014 --> 00:09:31.988\nAnd now you can send your logs there.\n\n185\n00:09:31.988 --> 00:09:34.757\nThere's tons of third-party\nsyslog servers out there.\n\n186\n00:09:34.757 --> 00:09:36.887\nThere's free ones like the one\nI'll use here on the show.\n\n187\n00:09:36.887 --> 00:09:40.987\nThere's paid ones like the kiwi syslog\nserver that is a great product.\n\n188\n00:09:40.987 --> 00:09:44.027\nThere's tons of other systems\nout there that will do it too.\n\n189\n00:09:44.027 --> 00:09:46.327\nIt's up to you to choose\nwhich one you want.\n\n190\n00:09:46.327 --> 00:09:50.107\nBut getting it configured on this end,\nsuper simple.\n\n191\n00:09:50.107 --> 00:09:52.400\nAll we have to do is come in and\n\n192\n00:09:52.400 --> 00:09:58.060\ntell it the server that we want to\nconnect it to by host name or IP address.\n\n193\n00:09:58.060 --> 00:10:00.130\nSo I've got a syslog\nserver parked over here,\n\n194\n00:10:00.130 --> 00:10:01.680\nthis is a Windows based syslog server.\n\n195\n00:10:01.680 --> 00:10:04.650\nNow Windows doesn't actually have\nsyslog built into it by default, so\n\n196\n00:10:04.650 --> 00:10:07.210\nthis is a third party\nprogram called TFTPD32.\n\n197\n00:10:07.210 --> 00:10:11.540\nIt's a free program, you can go and\ndownload it, and it does its job.\n\n198\n00:10:11.540 --> 00:10:14.780\nIt's not the most robust program,\nbut in a pinch, it, at a minimum,\n\n199\n00:10:14.780 --> 00:10:17.050\ngets you a nice little syslog server.\n\n200\n00:10:17.050 --> 00:10:20.600\nSo it's sitting here and\nit's waiting, it's waiting for\n\n201\n00:10:20.600 --> 00:10:22.730\npeople to send it syslog messages.\n\n202\n00:10:22.730 --> 00:10:28.503\nAnd so it's sitting right here at\n10.1.230.210 just waiting, right?\n\n203\n00:10:28.503 --> 00:10:34.143\nNow I can jump over to my router and in my\nrouter's config all I have to do is say,\n\n204\n00:10:34.143 --> 00:10:37.720\nlogging 10.1.230.210.\n\n205\n00:10:37.720 --> 00:10:41.840\nAnd when I run that, from now on,\nwhen I generate log messages,\n\n206\n00:10:41.840 --> 00:10:45.190\nI won't just hold them here, although\nI will, I will have them here, but\n\n207\n00:10:45.190 --> 00:10:48.110\nI'll also send a copy to that server.\n\n208\n00:10:48.110 --> 00:10:52.530\nThat's important, because now,\nas changes happen to the system,\n\n209\n00:10:52.530 --> 00:10:57.430\nas interfaces go down or come up, as the\nclock gets reset, as all these different\n\n210\n00:10:57.430 --> 00:11:01.310\nthings that happen on a work station or\na router or switch, whatever.\n\n211\n00:11:01.310 --> 00:11:04.600\nWell, it's all getting logged over here,\ntoo.\n\n212\n00:11:04.600 --> 00:11:08.660\nOkay, now notice how I haven't actually\nseen the messages pop up just yet.\n\n213\n00:11:08.660 --> 00:11:10.760\nThere's two things that happen here, and\n\n214\n00:11:10.760 --> 00:11:13.150\nI'm not sure which one\nit's gonna be on this one.\n\n215\n00:11:13.150 --> 00:11:16.280\nOne, the Windows firewall could be\nblocking my messages from getting through,\n\n216\n00:11:16.280 --> 00:11:17.940\nwhich I don't think\nthat's the case in here.\n\n217\n00:11:17.940 --> 00:11:20.270\nThe other one is, I just turned it on.\n\n218\n00:11:20.270 --> 00:11:23.900\nAnd so see how this message was\ngenerated saying that I saved my config?\n\n219\n00:11:23.900 --> 00:11:30.540\nAnd then meanwhile, in the background,\nwe've got SYS-6-LOGGINGHOST_STARTSTOP.\n\n220\n00:11:30.540 --> 00:11:35.040\nIt just started logging to the host\nafter that first message and\n\n221\n00:11:35.040 --> 00:11:37.670\nso I don't have one\nthat was actually sent.\n\n222\n00:11:37.670 --> 00:11:39.850\nBut that's gonna be my problem here, but\n\n223\n00:11:39.850 --> 00:11:42.190\nlet's assume that that's not\nmy problem for a moment.\n\n224\n00:11:42.190 --> 00:11:44.674\nIf it was the Windows Firewall,\nsee what it's saying here?\n\n225\n00:11:44.674 --> 00:11:50.419\nLogging to host 10.1.230.210 on port 514.\n\n226\n00:11:50.419 --> 00:11:54.111\nIt's sending messages on port 514 over to\nthe other side and so I need to make sure\n\n227\n00:11:54.111 --> 00:11:57.420\nthe firewall's allowing that and\nallowing it to pass through.\n\n228\n00:11:57.420 --> 00:12:00.333\nIn Linux, you've got IP tables\nthat could be blocking it.\n\n229\n00:12:00.333 --> 00:12:03.508\nIn Mac OS X you have their,\nnot Gatekeeper, but,\n\n230\n00:12:03.508 --> 00:12:06.088\nI think they just call theirs Firewall.\n\n231\n00:12:06.088 --> 00:12:07.516\n>> Firewall.\n>> Yeah, or something cheesy, like that.\n\n232\n00:12:07.516 --> 00:12:10.370\nAnd then, in Windows,\nyou have the Windows Firewall.\n\n233\n00:12:10.370 --> 00:12:13.900\nSo you may need to approve\nthat to allow it through, and\n\n234\n00:12:13.900 --> 00:12:17.150\nthat's not that big of a deal, and,\nfrom mine, I can just double check.\n\n235\n00:12:17.150 --> 00:12:19.770\nI should already be allowing that through.\n\n236\n00:12:19.770 --> 00:12:21.772\nBut if not, I can add it real quick.\n\n237\n00:12:21.772 --> 00:12:24.710\nAnd I'm just gonna check\nmy config here and see.\n\n238\n00:12:24.710 --> 00:12:26.428\nYou know,\nactually I don't have it in here.\n\n239\n00:12:26.428 --> 00:12:28.550\nI am gonna go ahead and\nallow it real quick and\n\n240\n00:12:28.550 --> 00:12:33.000\nthen once it's in,\nthat'll be one less thing to worry about.\n\n241\n00:12:33.000 --> 00:12:36.730\nThe other thing I need to worry about\nbefore I just consider this done and\n\n242\n00:12:36.730 --> 00:12:42.120\ncheck it off my list of things to do,\nwhen we log to a syslog server, you've\n\n243\n00:12:42.120 --> 00:12:48.600\nalways gotta remember that a syslog server\ncan be used for more than one client.\n\n244\n00:12:48.600 --> 00:12:52.940\nSo I might have 50 different routers and\n50 different switches and\n\n245\n00:12:52.940 --> 00:12:56.460\n50 different firewalls all logging\nto the same syslog server.\n\n246\n00:12:56.460 --> 00:13:00.350\nNow on a positive side, that means when I\nwant to see logs for any of my equipment,\n\n247\n00:13:00.350 --> 00:13:01.800\nI just have to go one place.\n\n248\n00:13:01.800 --> 00:13:03.160\nI go to this one syslog server and\n\n249\n00:13:03.160 --> 00:13:05.569\nthere's the logs for\nall of my equipment right in one place.\n\n250\n00:13:06.800 --> 00:13:10.860\nOn a negative side, when things\nget aggregated like that together,\n\n251\n00:13:10.860 --> 00:13:14.922\nthings like your time stamps,\nyour clock become really important.\n\n252\n00:13:14.922 --> 00:13:16.689\nAnd I know I covered\nthat in another episode,\n\n253\n00:13:16.689 --> 00:13:18.607\nbut let's just kinda\nrehash it here real quick.\n\n254\n00:13:18.607 --> 00:13:22.420\nCuz when you use a syslog server,\nhaving your time is really important.\n\n255\n00:13:22.420 --> 00:13:27.590\nSo what I want to do is\nmake sure that I'm able\n\n256\n00:13:27.590 --> 00:13:31.900\nto have an accurate time on my system,\nwhich let's see if I do real quick.\n\n257\n00:13:31.900 --> 00:13:34.680\nShow clock and August 1st.\n\n258\n00:13:34.680 --> 00:13:36.820\nIt says I'm in UTC in 14:47.\n\n259\n00:13:36.820 --> 00:13:41.250\nThat is actually, that's wrong, isn't it?\n\n260\n00:13:41.250 --> 00:13:45.130\nThe date is right, it is August 1st 2016,\nbut I believe that time is wrong.\n\n261\n00:13:45.130 --> 00:13:46.830\nI'm in UTC so who knows.\n\n262\n00:13:46.830 --> 00:13:49.920\nBut let's go and\nat least get it put in my time zone.\n\n263\n00:13:49.920 --> 00:13:54.400\nAnd when your aggregating logs, a lot\nof people do prefer to leave it in UTC,\n\n264\n00:13:54.400 --> 00:13:55.960\nleave it in that Universal Time.\n\n265\n00:13:55.960 --> 00:13:58.750\nSo let's just assume for\na moment that time is right.\n\n266\n00:13:58.750 --> 00:14:01.320\nBut if you wanna change the time zone,\nwell,\n\n267\n00:14:01.320 --> 00:14:03.280\nback in the initial device\nconfiguration episodes,\n\n268\n00:14:03.280 --> 00:14:06.610\nI showed you guys how we can do that\nwith the logging timestamps command.\n\n269\n00:14:06.610 --> 00:14:07.400\nAnd when you do that,\n\n270\n00:14:07.400 --> 00:14:11.080\nit's important that you include\nthe time zone with the log messages.\n\n271\n00:14:11.080 --> 00:14:12.540\nBecause otherwise,\n\n272\n00:14:12.540 --> 00:14:16.040\nthis is the log message as it's\ngonna be seen on the syslog server.\n\n273\n00:14:16.040 --> 00:14:17.340\nIs it telling me what timezone that's in?\n\n274\n00:14:18.590 --> 00:14:19.150\nNo.\n\n275\n00:14:19.150 --> 00:14:20.965\nAnd that can really\nlead to some confusion.\n\n276\n00:14:20.965 --> 00:14:23.876\nSo we might wanna follow\nthis up with a few commands,\n\n277\n00:14:23.876 --> 00:14:26.133\nthings like identifying our timezone.\n\n278\n00:14:26.133 --> 00:14:33.308\nSo I'm gonna come in here and\njust say clock timezone EST -5.\n\n279\n00:14:33.308 --> 00:14:37.102\nSo I'm telling it that I'm in the\nEastern Standard Time and that it is -5.\n\n280\n00:14:37.102 --> 00:14:41.180\nI'm going to tell it that I do\nobserve daylight savings time.\n\n281\n00:14:41.180 --> 00:14:45.190\nSo I'll say clock summer-time recurring.\n\n282\n00:14:45.190 --> 00:14:50.310\nOops, clock summer-time, I need to give\nit a name, which I'll call EDT recurring.\n\n283\n00:14:50.310 --> 00:14:51.750\nThere we go.\nAll right, so\n\n284\n00:14:51.750 --> 00:14:54.790\nnow it knows that I observe\ndaylight savings time also.\n\n285\n00:14:54.790 --> 00:14:59.320\nAnd I've already got a host name,\nso it will identify me that way.\n\n286\n00:14:59.320 --> 00:15:05.150\nI can say service timestamp log datetime.\n\n287\n00:15:05.150 --> 00:15:07.781\nSo I want to include the date and\ntime in all of my log messages.\n\n288\n00:15:07.781 --> 00:15:10.485\nAnd then I need to add the localtime.\n\n289\n00:15:10.485 --> 00:15:13.240\nSo I'm not gonna do it in UTC,\nI'm gonna do it in my localtime.\n\n290\n00:15:13.240 --> 00:15:17.480\nAnd that means I need to include my\ntimezone with the log messages so\n\n291\n00:15:17.480 --> 00:15:20.860\npeople don't get confused as\nto what time it actually is.\n\n292\n00:15:20.860 --> 00:15:24.640\nNow I usually just hit the up arrow and\nadd the same thing for\n\n293\n00:15:24.640 --> 00:15:28.100\nthe debug command while I'm in here,\njust to keep it the same.\n\n294\n00:15:28.100 --> 00:15:30.320\nWhen you do debugs,\nyou get log messages also, and\n\n295\n00:15:30.320 --> 00:15:33.820\nI like them to be kinda timed the same\nway, so I'm just gonna add that.\n\n296\n00:15:33.820 --> 00:15:37.760\nNow ideally, we'll leverage a time server.\n\n297\n00:15:37.760 --> 00:15:41.012\nLeveraging a time server is really\nimportant with Syslog 2 because,\n\n298\n00:15:41.012 --> 00:15:44.662\nif all of your systems are off by a couple\nof seconds, that can be problematic.\n\n299\n00:15:44.662 --> 00:15:49.774\nIf I think that a router is malfunctioning\nand at 12:01 everyday it resets,\n\n300\n00:15:49.774 --> 00:15:53.848\nI might wanna see the logs for\nall of my equipment at 12:01.\n\n301\n00:15:53.848 --> 00:15:56.151\nWhat's everybody else doing at 12:01?\n\n302\n00:15:56.151 --> 00:16:00.068\nBut if their times are all a little bit\noff, that can be a bit of a problem.\n\n303\n00:16:00.068 --> 00:16:03.246\nSo in that scenario I might\nneed to use a time server.\n\n304\n00:16:03.246 --> 00:16:07.483\nSo let me look up a time\nserver to use real quick.\n\n305\n00:16:07.483 --> 00:16:10.934\nI'll just use pool.ntp.org.\n\n306\n00:16:10.934 --> 00:16:14.080\nJust going to grab one of\ntheir IP addresses to use.\n\n307\n00:16:15.710 --> 00:16:17.370\nAnd so,\nI'm just going to come in real quick and\n\n308\n00:16:17.370 --> 00:16:22.880\nsay ntp server and chuck in a time.\n\n309\n00:16:22.880 --> 00:16:24.770\nAnd so, now I'm going to\nstart synchronizing my time\n\n310\n00:16:24.770 --> 00:16:25.970\nagainst the time server.\n\n311\n00:16:25.970 --> 00:16:26.680\nRight?\n\n312\n00:16:26.680 --> 00:16:30.660\nIf I go and use that same time server\non all of my equipment, then all of my\n\n313\n00:16:30.660 --> 00:16:34.900\nequipment should have identical times and\nbe logging with the correct time zone.\n\n314\n00:16:34.900 --> 00:16:38.870\nSo now I can see August 1st, it's 10:50\nAM, and looking at the clock there,\n\n315\n00:16:38.870 --> 00:16:43.580\nthat's accurate, and it's saying EDT, so\nI know that's in daylight time, right?\n\n316\n00:16:43.580 --> 00:16:47.850\nAnd so, all those log entries have been\ncreated, and time it properly, all right?\n\n317\n00:16:47.850 --> 00:16:50.640\nLet's see what that looks\nlike on the syslog server.\n\n318\n00:16:50.640 --> 00:16:54.300\nSo if I jump over to the syslog server,\na minute ago it had nothing,\n\n319\n00:16:54.300 --> 00:16:56.780\nnow when I look at it,\nI can see I've got some entries.\n\n320\n00:16:56.780 --> 00:16:59.430\nAnd let me make that window\na little bit bigger for us so\n\n321\n00:16:59.430 --> 00:17:01.610\nwe can actually see the message.\n\n322\n00:17:01.610 --> 00:17:06.150\nWhat I'm seeing in here is the date,\nright?\n\n323\n00:17:06.150 --> 00:17:07.390\nAugust 1st.\n\n324\n00:17:07.390 --> 00:17:11.350\nAnd see the first couple of messages\nhere where they say August 1st at 14:48,\n\n325\n00:17:11.350 --> 00:17:12.880\nand that's it.\n\n326\n00:17:12.880 --> 00:17:14.990\nNo time zone, no other information.\n\n327\n00:17:14.990 --> 00:17:17.880\nI just have to assume that's UTC.\n\n328\n00:17:17.880 --> 00:17:19.340\nMaybe it is, maybe it isn't.\n\n329\n00:17:19.340 --> 00:17:20.740\nAnd then I see this one.\n\n330\n00:17:20.740 --> 00:17:23.000\nAugust 1st, 10:50AM EDT.\n\n331\n00:17:23.000 --> 00:17:26.630\nThe time zone is included\nright there in the time stamp.\n\n332\n00:17:26.630 --> 00:17:27.750\nAnd as I look across,\n\n333\n00:17:27.750 --> 00:17:32.400\nI'll see it's SYS-5-CONFIG message, and\nconfigured from console by console, right?\n\n334\n00:17:32.400 --> 00:17:35.070\nSo we know that somebody got in and\nmade a change at this time.\n\n335\n00:17:35.070 --> 00:17:38.260\nAnd as I scroll over a little more,\nI can see where it came from.\n\n336\n00:17:38.260 --> 00:17:41.500\n10.1.230.135, and so, now I know that's\nthe system where that was made on.\n\n337\n00:17:41.500 --> 00:17:48.570\nNow, where that can get a little tricky is\nyou might have more than one IP address\n\n338\n00:17:48.570 --> 00:17:53.210\non a device, and that happens, so we\nmight want to statically assign a source.\n\n339\n00:17:53.210 --> 00:17:55.410\nYou actually do have a couple\nof options for that.\n\n340\n00:17:55.410 --> 00:17:58.530\nI don't know if it'll turn up on the exam,\nbut in real life,\n\n341\n00:17:58.530 --> 00:18:03.270\nit can be a bit problematic that if\nyou get into your configuration,\n\n342\n00:18:04.480 --> 00:18:08.290\nyou can do a logging, and\nthen when you do logging?\n\n343\n00:18:08.290 --> 00:18:11.180\nAnd look in there, you'll find\none that says source-interface.\n\n344\n00:18:11.180 --> 00:18:13.180\nThat guy right there, all right?\n\n345\n00:18:13.180 --> 00:18:16.770\nIf I have a router, my router might\nhave three or four different interfaces.\n\n346\n00:18:16.770 --> 00:18:20.970\nSo I generate syslog messages, I can be\ngenerating messages from one interface or\n\n347\n00:18:20.970 --> 00:18:24.090\nanother, and on the syslog server,\nit might look like two routers,\n\n348\n00:18:24.090 --> 00:18:27.340\nwhen in reality, it's just one router,\nit's got more than one IP, right?\n\n349\n00:18:27.340 --> 00:18:31.520\nSo, what a lot of people\nlike to do is to assign\n\n350\n00:18:31.520 --> 00:18:37.740\na basically individual interface\nto act as that source.\n\n351\n00:18:37.740 --> 00:18:41.650\nAnd so\nyou can say logging source-interface, and\n\n352\n00:18:41.650 --> 00:18:46.410\nthen specify the interface that you want\nto use to source all these messages.\n\n353\n00:18:46.410 --> 00:18:49.430\nSo for me, it might be gi0/0, right?\n\n354\n00:18:49.430 --> 00:18:53.970\nSo I'm saying anytime I generate a log\nmessage, regardless of where I'm sending\n\n355\n00:18:53.970 --> 00:18:58.820\nit to, always flag the source IP as\nwhatever IP address is on gi0/0.\n\n356\n00:18:58.820 --> 00:19:01.000\nSo now I now could have 5 IPs,\n\n357\n00:19:01.000 --> 00:19:04.560\nor 20 IPs, but my syslog messages\nwill always come from the same host.\n\n358\n00:19:04.560 --> 00:19:07.620\nThat's another really useful feature\nto always find the messages for\n\n359\n00:19:07.620 --> 00:19:08.539\nthat one particular host.\n\n360\n00:19:09.590 --> 00:19:12.710\nNow, if we want to get\na little more advanced.\n\n361\n00:19:12.710 --> 00:19:14.980\nLet's go a little bit more advanced.\n\n362\n00:19:14.980 --> 00:19:17.280\nWhat happens if gI0/0 goes down?\n\n363\n00:19:17.280 --> 00:19:22.185\nIf that interface fails,\nall of my other interfaces might be up and\n\n364\n00:19:22.185 --> 00:19:25.855\nperfectly happy, but\nnow I can't send syslog messages anymore.\n\n365\n00:19:25.855 --> 00:19:26.515\nSo now,\n\n366\n00:19:26.515 --> 00:19:30.395\nmy logs aren't being sent off during\na moment of failure when I need them.\n\n367\n00:19:30.395 --> 00:19:34.215\nAnd so,\nwhat a lot of us do out in real life land\n\n368\n00:19:34.215 --> 00:19:38.180\nis we don't like to marry syslog to\na particular interface like I just did.\n\n369\n00:19:38.180 --> 00:19:42.900\nBut instead, marry it to a virtual\ninterface that is always online.\n\n370\n00:19:42.900 --> 00:19:45.250\nOkay, now, if you do that,\n\n371\n00:19:45.250 --> 00:19:48.800\nyou certainly can do that,\nit's just a little bit tricky.\n\n372\n00:19:48.800 --> 00:19:52.580\nSo, on Cisco routers, we have what\nare called loopback interfaces.\n\n373\n00:19:52.580 --> 00:19:54.390\nLoopback interfaces are virtual,\nthey're fake,\n\n374\n00:19:54.390 --> 00:19:58.470\nthey're not real, it's kind of on a switch\nyou have those VLAN interfaces, and\n\n375\n00:19:58.470 --> 00:20:02.220\nthe VLAN interfaces are virtual,\nthey're on the back plain of the switch.\n\n376\n00:20:02.220 --> 00:20:06.550\nWell, loop back interfaces are effectively\non the back plane of the router.\n\n377\n00:20:06.550 --> 00:20:09.120\nThey don't physically exist,\nbut logically they do,\n\n378\n00:20:09.120 --> 00:20:12.170\nand as a result, they're always up.\n\n379\n00:20:12.170 --> 00:20:13.520\nAs long as your router's powered on,\n\n380\n00:20:13.520 --> 00:20:15.670\nthat loopback interface\nis always going to be up.\n\n381\n00:20:15.670 --> 00:20:19.124\nSo if we source our syslog messages\nfrom a loopback interface,\n\n382\n00:20:19.124 --> 00:20:20.700\nit's always going to be up.\n\n383\n00:20:20.700 --> 00:20:22.700\nI'm always going to be able to source it.\n\n384\n00:20:22.700 --> 00:20:25.320\nAnd that means I'll be able to\ntransmit those syslog messages\n\n385\n00:20:25.320 --> 00:20:27.280\non any of my other available interfaces.\n\n386\n00:20:27.280 --> 00:20:28.560\nBut it'll always show us the same IP.\n\n387\n00:20:28.560 --> 00:20:30.220\nIt's a really hand trick.\n\n388\n00:20:30.220 --> 00:20:35.890\nThe challenge is really\nthe round-trip side of things.\n\n389\n00:20:35.890 --> 00:20:37.510\nSo, let me show you what I mean by that.\n\n390\n00:20:37.510 --> 00:20:41.630\nSo, on my router,\nI've got only one IP right now.\n\n391\n00:20:41.630 --> 00:20:46.098\nSo, if I do a show IP interface brief,\nI've got 10.1.230.135, okay.\n\n392\n00:20:46.098 --> 00:20:49.717\nAnd I'm sending my syslog messages\nto a server that's out there,\n\n393\n00:20:49.717 --> 00:20:53.520\n10.1.230.210 were on the same network.\n\n394\n00:20:53.520 --> 00:20:57.910\nWell, a router can't have two\ninterfaces on the same network.\n\n395\n00:20:57.910 --> 00:20:59.580\nSo if I create a loop back interface,\n\n396\n00:20:59.580 --> 00:21:02.570\nit's going to have to have an IP\naddress on a different network.\n\n397\n00:21:02.570 --> 00:21:07.800\nWell, if I'm on one network, and\nthe server is on a different network,\n\n398\n00:21:07.800 --> 00:21:09.920\nwhat's going to happen when I go\nto communicate with the server?\n\n399\n00:21:09.920 --> 00:21:13.390\nI'm going to pass through a router, well,\nI am a router, so that kind of works out.\n\n400\n00:21:13.390 --> 00:21:16.440\nBut that server is going to have\nto know how to get back to me.\n\n401\n00:21:16.440 --> 00:21:18.720\nAnd what a lot of people do is when\nthey set a loopback interface,\n\n402\n00:21:18.720 --> 00:21:20.470\nthey give it a fake IP.\n\n403\n00:21:20.470 --> 00:21:22.860\nAnd the server might not\nknow how to get back to it.\n\n404\n00:21:22.860 --> 00:21:24.920\nSo you might have to\ntake a few extra steps.\n\n405\n00:21:24.920 --> 00:21:27.240\nWhat I always recommend is\ncreate a management network.\n\n406\n00:21:27.240 --> 00:21:29.710\nCreate a management network that's\njust used for this purpose,\n\n407\n00:21:29.710 --> 00:21:31.630\nfor syslog and other things.\n\n408\n00:21:31.630 --> 00:21:33.070\nKey thing about syslog?\n\n409\n00:21:33.070 --> 00:21:36.950\nIt sends the messages in unencrypted\nplaintext across the network.\n\n410\n00:21:36.950 --> 00:21:38.770\nSo you don't want people\nintercepting that anyway.\n\n411\n00:21:38.770 --> 00:21:41.920\nSo shifting that off to a dedicated\nnetwork is kind of a good idea\n\n412\n00:21:41.920 --> 00:21:43.860\nto prevent people from intercepting that,\nall right?\n\n413\n00:21:43.860 --> 00:21:46.440\nSo, let me show you creating\na loopback interface.\n\n414\n00:21:46.440 --> 00:21:48.870\nI feel like we did it in another episode,\nbut just in case we didn't,\n\n415\n00:21:48.870 --> 00:21:50.690\nlet me do it here.\n\n416\n00:21:50.690 --> 00:21:54.767\nWhen I ran show IP interface brief up\nhere, you saw I had three interfaces.\n\n417\n00:21:54.767 --> 00:21:58.791\nGIO00, GI01 and serial 000, right?\n\n418\n00:21:58.791 --> 00:22:02.450\nI'm going to get into configuration and\nI'm going to say,\n\n419\n00:22:02.450 --> 00:22:05.660\ninterface loopback and\nthen a number, right?\n\n420\n00:22:05.660 --> 00:22:10.500\nAnd the number can be really,\nreally big from 0 through 2 billion or\n\n421\n00:22:10.500 --> 00:22:11.750\nsomething crazy like that, right?\n\n422\n00:22:11.750 --> 00:22:13.180\nI'm going to create loopback 0.\n\n423\n00:22:13.180 --> 00:22:16.750\nAnd you can have more than one loopback\nif you need them, you just, it's one,\n\n424\n00:22:16.750 --> 00:22:18.460\ntwo, three and so on.\n\n425\n00:22:18.460 --> 00:22:19.620\nNow, as soon as I did that,\n\n426\n00:22:19.620 --> 00:22:23.820\na message popped up on my screen letting\nme know that it changed state to up.\n\n427\n00:22:23.820 --> 00:22:25.450\nLoopbacks are always up.\n\n428\n00:22:25.450 --> 00:22:26.690\nThey're logical interfaces.\n\n429\n00:22:26.690 --> 00:22:27.720\nThere's no physical cable.\n\n430\n00:22:27.720 --> 00:22:29.650\nSo it came up immediately.\n\n431\n00:22:29.650 --> 00:22:32.410\nAnd that's the real advantage of\na loopback is that it's always going to be\n\n432\n00:22:32.410 --> 00:22:34.110\nup and available.\n\n433\n00:22:34.110 --> 00:22:39.032\nSo now that I'm in it, I can give it an IP\naddress, but let's say that i wanted to\n\n434\n00:22:39.032 --> 00:22:43.590\ngive it an IP address on the same\nnetwork as my other equipment, I can't,\n\n435\n00:22:43.590 --> 00:22:46.039\nit overlaps, it won't let me do that.\n\n436\n00:22:46.039 --> 00:22:48.720\nSo, I'm going to have to give it\nan IP address on a different network.\n\n437\n00:22:51.310 --> 00:22:55.720\nMaybe I'll create an all new network,\n233, right?\n\n438\n00:22:55.720 --> 00:22:57.230\nSo now it's got the IP address,\n10.1.233.244, and\n\n439\n00:22:57.230 --> 00:22:59.510\nit let me do that just fine.\n\n440\n00:22:59.510 --> 00:23:04.310\nOkay, and now I could come in here and\nI could say,\n\n441\n00:23:04.310 --> 00:23:11.455\nlogging source-interface loopback zero,\nor just lo0 to abbreviate, right?\n\n442\n00:23:11.455 --> 00:23:14.615\nSo now,\nevery time I generate a syslog message,\n\n443\n00:23:14.615 --> 00:23:18.400\nI'm going to source it from 10.1.233.244.\n\n444\n00:23:18.400 --> 00:23:22.176\nAnd when that goes out, it's going to hit\nmy routing table, and it's going to see\n\n445\n00:23:22.176 --> 00:23:26.147\nthat it can get to 10.1.230.200 via\nthis interface is going to go there.\n\n446\n00:23:26.147 --> 00:23:29.457\nBut the server's going to receive it,\n\n447\n00:23:29.457 --> 00:23:33.937\nthe server's got to be able to\nrespond back to acknowledge it, right?\n\n448\n00:23:33.937 --> 00:23:35.927\nAnd that's not going to happen, the\nserver's not going to know its way back.\n\n449\n00:23:35.927 --> 00:23:39.600\nNow, fortunately,\nmost syslog traffic is sent data UDP, so\n\n450\n00:23:39.600 --> 00:23:41.170\nit's thrown on the network.\n\n451\n00:23:41.170 --> 00:23:44.530\nAnd if it doesn't make it,\nit doesn't make it, hopefully it does.\n\n452\n00:23:44.530 --> 00:23:48.385\nSo, it doesn't necessarily matter if the\nserver can respond back in this scenario.\n\n453\n00:23:48.385 --> 00:23:50.390\nSyslog is not really a two way thing.\n\n454\n00:23:50.390 --> 00:23:52.758\nWe send our logs, and that's that.\n\n455\n00:23:52.758 --> 00:23:55.136\nSo, this may actually work out just fine.\n\n456\n00:23:55.136 --> 00:23:57.790\nLet's jump over to our server and\nsee if we got it.\n\n457\n00:23:57.790 --> 00:24:04.048\nAnd I see that I got a message here\nthat originated from 10.1.233.244.\n\n458\n00:24:04.048 --> 00:24:05.470\nOkay, so it did work.\n\n459\n00:24:05.470 --> 00:24:06.810\nI've got my messages and\n\n460\n00:24:06.810 --> 00:24:10.580\nnow it's being sourced from\nan interface that will always be up.\n\n461\n00:24:10.580 --> 00:24:15.307\nBut just on a side note, if I jump into\nmy command prompt here I'm not gonna\n\n462\n00:24:15.307 --> 00:24:19.180\nbe able to ping it, or\nI assume I'm not gonna be able to.\n\n463\n00:24:19.180 --> 00:24:21.380\nYeah, I can't ping it,\ncuz I don't know about that network.\n\n464\n00:24:21.380 --> 00:24:23.590\nIt doesn't exist as far as\nthe server is concerned.\n\n465\n00:24:23.590 --> 00:24:25.900\nSo the server's receiving that traffic and\n\n466\n00:24:25.900 --> 00:24:28.210\nif it was TCP this wouldn't\nwork out at all, right.\n\n467\n00:24:28.210 --> 00:24:31.710\nBut it's UDP so I get it, it comes right\nin, and now I've got those messages.\n\n468\n00:24:31.710 --> 00:24:35.050\nSo just be aware that in real life land\nthat when you source on a loopback,\n\n469\n00:24:35.050 --> 00:24:37.650\nyou really should make it so\nthat your servers have a return trip, so\n\n470\n00:24:37.650 --> 00:24:39.680\nthey can get back to\nwhatever network you choose.\n\n471\n00:24:39.680 --> 00:24:43.530\nBut even if you don't, it does still work,\nand I can send these messages out on\n\n472\n00:24:43.530 --> 00:24:47.960\nany of my interfaces and\nit'll always show as being from that IP.\n\n473\n00:24:47.960 --> 00:24:52.700\nSo now I can come in and I can filter and\nfind those logs super easy, right?\n\n474\n00:24:52.700 --> 00:24:56.930\nAnd on my server, most TFTP servers\nsupport saving this to the hard drive.\n\n475\n00:24:56.930 --> 00:24:58.100\nSo it's not just being stored in RAM,\n\n476\n00:24:58.100 --> 00:24:59.940\nwe're not taking away a ton\nof RAM from the server.\n\n477\n00:24:59.940 --> 00:25:02.510\nAnd if the server reboots,\nI keep all my logs.\n\n478\n00:25:02.510 --> 00:25:07.240\nI can now keep years and years and\nyears of syslog data right here,\n\n479\n00:25:07.240 --> 00:25:10.900\nunlike on the router where I might\nonly have a few days' worth,\n\n480\n00:25:10.900 --> 00:25:13.470\nmaybe even a few hours\nworth on a busy router.\n\n481\n00:25:13.470 --> 00:25:17.650\nSo, on this router, If I just do\na show logging and I come in here,\n\n482\n00:25:17.650 --> 00:25:20.400\nI'll see all these different log\nmessages that we've been queuing up.\n\n483\n00:25:20.400 --> 00:25:24.340\nWell, over time,\nthat buffer will fill up and\n\n484\n00:25:24.340 --> 00:25:27.460\nit will overwrite the oldest stuff\nto make room for the newer stuff.\n\n485\n00:25:27.460 --> 00:25:31.741\nBut if I'm sending it out to a server, I'm\nokay because there's that data over there\n\n486\n00:25:31.741 --> 00:25:34.899\nin the other server, and\nI can have gigabytes of it, if I want.\n\n487\n00:25:34.899 --> 00:25:37.940\nEventually you got to flush it out,\nit gets too big, but it can get stored in\n\n488\n00:25:37.940 --> 00:25:41.540\na database, query gets it and you pull the\ninformation, really, really handy stuff.\n\n489\n00:25:43.150 --> 00:25:47.287\nAll right, Ronnie can you think of\nanything I have left out on syslog?\n\n490\n00:25:47.287 --> 00:25:50.532\nI know there's a ton more that I\ncould talk about that is just not on\n\n491\n00:25:50.532 --> 00:25:52.110\nthe CCENT exam.\n\n492\n00:25:52.110 --> 00:25:55.330\nYou do set things like severity level and\nso\n\n493\n00:25:55.330 --> 00:25:57.969\non, let's talk about that just briefly and\nI know I've got a few minutes left.\n\n494\n00:25:59.600 --> 00:26:02.640\nBy default,\nanything that makes it into your log,\n\n495\n00:26:02.640 --> 00:26:06.300\ninto the buffer is gonna be\nsent to the syslog server,\n\n496\n00:26:06.300 --> 00:26:11.070\nbut not everything makes it into your log,\nfor example, debugs.\n\n497\n00:26:11.070 --> 00:26:15.610\nSo if I drop here to my command prompt and\nI do a debug IP\n\n498\n00:26:15.610 --> 00:26:19.760\npacket which is a nice command cuz\nthis one generates a ton of data.\n\n499\n00:26:19.760 --> 00:26:23.580\nNow every single IP packet that is passing\nthrough this router starts getting\n\n500\n00:26:23.580 --> 00:26:24.860\ndisplayed on my screen.\n\n501\n00:26:24.860 --> 00:26:28.090\nIt's a ton of data, and\nI see it right here on my screen.\n\n502\n00:26:28.090 --> 00:26:30.670\nIn fact let me just turn that off\ncuz otherwise I'm gonna go crazy\n\n503\n00:26:30.670 --> 00:26:31.770\nhere, all right.\n\n504\n00:26:31.770 --> 00:26:33.650\nSo I just saw all that stuff on my screen.\n\n505\n00:26:34.840 --> 00:26:38.920\nNow if I do a show log,\nis that where it ended up?\n\n506\n00:26:38.920 --> 00:26:44.410\nWell, when I do a show logging I see\nthis data, and sure enough there it is.\n\n507\n00:26:44.410 --> 00:26:47.680\nSo all of that data was\nbeing put into my logs and\n\n508\n00:26:47.680 --> 00:26:50.820\ntransmitted to the syslog server,\nwasn't it?\n\n509\n00:26:50.820 --> 00:26:53.630\nWell, I don't necessarily want that.\n\n510\n00:26:53.630 --> 00:26:57.860\nI don't necessarily want to send a ton\nof data over there and, if I look,\n\n511\n00:26:57.860 --> 00:27:00.130\nit didn't actually make it here,\nall right?\n\n512\n00:27:00.130 --> 00:27:04.660\nAnd the reason is, that every\ntime you generate a log message,\n\n513\n00:27:04.660 --> 00:27:06.420\nit has what's called a severity level.\n\n514\n00:27:06.420 --> 00:27:09.790\nAnd you'll see it on some of them, it'll\nactually say it, some of them it won't.\n\n515\n00:27:09.790 --> 00:27:13.930\nBut these are debugs,\ndebugs have their own severity level.\n\n516\n00:27:13.930 --> 00:27:17.970\nAnd so when you look up here and\nlook at these settings at the very top of\n\n517\n00:27:17.970 --> 00:27:22.810\nthe show logging command, right now\nmy console is set to show debugging.\n\n518\n00:27:22.810 --> 00:27:26.900\nAnd my monitor which would be if I was\nSSHed in, is set to debugging, and\n\n519\n00:27:26.900 --> 00:27:28.830\nmy buffer logging are set to debugging.\n\n520\n00:27:28.830 --> 00:27:32.230\nSo they're all set to show\nthat debugging data and\n\n521\n00:27:32.230 --> 00:27:34.240\nthe amount of messages\nthat are being sent.\n\n522\n00:27:34.240 --> 00:27:37.410\nWell, for\nconsole it can display a lot of stuff, but\n\n523\n00:27:37.410 --> 00:27:41.730\nwhen it comes to syslog,\nsyslog gets overwhelmed.\n\n524\n00:27:41.730 --> 00:27:43.870\nWe look down here,\nI've got trap logging and\n\n525\n00:27:43.870 --> 00:27:47.040\nthe level is set to just informational,\nit's a different level.\n\n526\n00:27:47.040 --> 00:27:51.200\nAnd only 31 messages were sent,\nas opposed to 147 or 165,\n\n527\n00:27:51.200 --> 00:27:56.490\nbecause a network connection\nlike that can get overwhelmed.\n\n528\n00:27:56.490 --> 00:28:01.477\nSo, you can tweak that if you need to,\nusing that same logging command.\n\n529\n00:28:01.477 --> 00:28:06.502\nIf you do logging severity, whoops.\n\n530\n00:28:06.502 --> 00:28:09.310\nSorry, logging,\nI've got the wrong command don't I.\n\n531\n00:28:09.310 --> 00:28:11.177\nIt's the logging command.\n\n532\n00:28:11.177 --> 00:28:12.339\nWe can go in here and\n\n533\n00:28:12.339 --> 00:28:17.160\nwe can tweak our rate limit right there\nof how many messages per second we send.\n\n534\n00:28:17.160 --> 00:28:19.326\nSo you can increase or decrease that,\n\n535\n00:28:19.326 --> 00:28:24.007\nand then you can also set the severity\nlevel, which apparently I'm screwing up.\n\n536\n00:28:24.007 --> 00:28:27.945\n>> [CROSSTALK] facility here is that-\n>> Well, the facility is for,\n\n537\n00:28:27.945 --> 00:28:31.320\nwith syslog, you have these\nthings called a facility, and\n\n538\n00:28:31.320 --> 00:28:35.170\neach error message can be kind of\ndropped into these categories.\n\n539\n00:28:35.170 --> 00:28:38.093\nAnd there's two or three categories that\nare used by default, but there's actually\n\n540\n00:28:38.093 --> 00:28:40.830\nanother eight or nine that are available\nfor you to use however you want.\n\n541\n00:28:40.830 --> 00:28:44.050\nSo you could actually create one facility\nfor switches, and one facility for\n\n542\n00:28:44.050 --> 00:28:45.980\nrouters, and one facility for firewalls.\n\n543\n00:28:45.980 --> 00:28:48.218\nAnd now when you go in and\nlook at facility seven,\n\n544\n00:28:48.218 --> 00:28:49.975\nyou know that that's all firewalls.\n\n545\n00:28:49.975 --> 00:28:52.477\nSo you look at facility eight and\nthat's all routers, and so\n\n546\n00:28:52.477 --> 00:28:54.720\nyou can spot that\ninformation right in there.\n\n547\n00:28:54.720 --> 00:28:59.310\nBut the one that I want is, you know what,\nI'm looking in the wrong place.\n\n548\n00:28:59.310 --> 00:29:04.400\nIt's buried under traps,\nif I do logging traps, oops.\n\n549\n00:29:04.400 --> 00:29:07.040\nIt's not traps,\nit's actually just trap by itself.\n\n550\n00:29:07.040 --> 00:29:08.370\nThere we go, that's what I'm looking for.\n\n551\n00:29:08.370 --> 00:29:10.190\nSo here's the severity levels\nthat I was talking about.\n\n552\n00:29:10.190 --> 00:29:11.950\nI knew I wasn't crazy.\n\n553\n00:29:11.950 --> 00:29:16.001\nYou have these seven severity levels, and\nthey're identified by name and by number.\n\n554\n00:29:16.001 --> 00:29:18.004\nSo if you look over\nhere on the right side,\n\n555\n00:29:18.004 --> 00:29:21.530\nsee how I've got this severity level 1,\nall the way, or 0 through 7.\n\n556\n00:29:21.530 --> 00:29:23.660\nI guess there's 8 all\ntogether if you count 0.\n\n557\n00:29:23.660 --> 00:29:26.810\nSo, 0 through 7, 8 severity levels.\n\n558\n00:29:26.810 --> 00:29:29.758\nEvery log message is classified\nas a particular severity level.\n\n559\n00:29:29.758 --> 00:29:34.620\nFor my syslog server,\nit was set to informational.\n\n560\n00:29:34.620 --> 00:29:37.135\nAnd see how informational\nis severity level 6?\n\n561\n00:29:37.135 --> 00:29:41.370\nThat means that it's gonna log\nanything 6 or higher, all right.\n\n562\n00:29:41.370 --> 00:29:45.175\n0 is considered the highest,\nI know it's the lowest number but\n\n563\n00:29:45.175 --> 00:29:47.095\nit's the highest, which is an emergency.\n\n564\n00:29:47.095 --> 00:29:49.475\nThis is something really,\nreally bad happened, right,\n\n565\n00:29:49.475 --> 00:29:54.105\nsomething usually it's critical\nenough to stop the IOS from running.\n\n566\n00:29:54.105 --> 00:29:55.830\nSo it's usually something really bad.\n\n567\n00:29:55.830 --> 00:29:57.870\nThen you've got 1,\nwhich are alerts, right?\n\n568\n00:29:57.870 --> 00:29:59.978\nThere's a problem, and\nimmediate action is needed.\n\n569\n00:29:59.978 --> 00:30:00.670\nYou've got 2,\n\n570\n00:30:00.670 --> 00:30:04.800\nwhich is a critical condition,\nthings like interfaces going down.\n\n571\n00:30:04.800 --> 00:30:07.480\nYou've got 3, which are error conditions.\n\n572\n00:30:07.480 --> 00:30:10.360\nYou've got 4, which is down here,\nwhich are warnings.\n\n573\n00:30:10.360 --> 00:30:13.420\nWarnings, you don't necessarily\nhave an action you take, but\n\n574\n00:30:13.420 --> 00:30:15.740\nyou just need to be aware\nthat something is occurring.\n\n575\n00:30:15.740 --> 00:30:19.371\nYou've got 5 which are notifications,\nnormal but significant.\n\n576\n00:30:19.371 --> 00:30:21.192\n>> [LAUGH]\n>> Things like a reboot,\n\n577\n00:30:21.192 --> 00:30:22.401\nfall under normal.\n\n578\n00:30:22.401 --> 00:30:26.360\nYou've got 6 which are informational, hey,\njust information, something happened.\n\n579\n00:30:26.360 --> 00:30:30.200\nSomebody configured something via\nthe console, it's informational.\n\n580\n00:30:30.200 --> 00:30:33.345\nBut then you start getting into 7,\n7 is debugging.\n\n581\n00:30:33.345 --> 00:30:36.750\nDebugging, that's all the stuff that\nwas flooding my screen a moment ago.\n\n582\n00:30:36.750 --> 00:30:41.133\nAnd I saw that on my console, because\nconsole logging was set to debugging.\n\n583\n00:30:41.133 --> 00:30:44.720\nSo it's getting 7 and higher,\nin other words, it's giving me everything.\n\n584\n00:30:44.720 --> 00:30:48.640\nBut when I sent to a syslog server,\nit was defaulting to information,\n\n585\n00:30:48.640 --> 00:30:50.410\nwhich is 6 and higher.\n\n586\n00:30:50.410 --> 00:30:52.930\nSo it's getting everything\nexcept debugging.\n\n587\n00:30:52.930 --> 00:30:55.226\nIf you getting too much,\nyou might want to leave off information.\n\n588\n00:30:55.226 --> 00:30:57.097\nYou might wanna come in here and say 5,\n\n589\n00:30:57.097 --> 00:30:59.989\nand so now it's gonna be doing\nnotifications and higher, or\n\n590\n00:30:59.989 --> 00:31:03.160\nmaybe you just want the bad stuff 4 and\nhigher, all right.\n\n591\n00:31:03.160 --> 00:31:05.406\nSo, I set it to 4 and\nI'm getting warnings and higher.\n\n592\n00:31:05.406 --> 00:31:09.673\nSo you can tweak this, if you want your\ndebug to go to the syslog server you'll\n\n593\n00:31:09.673 --> 00:31:13.760\nneed to make that 7, or I'm doing\nthe numbers, you can just do the name.\n\n594\n00:31:13.760 --> 00:31:17.010\nSo I could just come in here and\nsay logging trap debugging, and\n\n595\n00:31:17.010 --> 00:31:19.240\nnow it's gonna send the debugs up there.\n\n596\n00:31:19.240 --> 00:31:22.100\nOr I could say logging\ntrap informational and\n\n597\n00:31:22.100 --> 00:31:23.370\nnow it's gonna send it that way, right?\n\n598\n00:31:23.370 --> 00:31:26.630\nSo you can tweak one information\nbeing sent to the syslog server.\n\n599\n00:31:26.630 --> 00:31:28.080\nJust be really careful, right?\n\n600\n00:31:28.080 --> 00:31:31.540\nReally careful because you can send so\nmuch data\n\n601\n00:31:31.540 --> 00:31:35.020\nthat it overwhelms the connection and\nnow you start losing log messages.\n\n602\n00:31:35.020 --> 00:31:37.110\nYou think they're being sent and\nthey're not.\n\n603\n00:31:37.110 --> 00:31:39.170\nWell, I guess the alternative\nis you turn off logging,\n\n604\n00:31:39.170 --> 00:31:41.510\nnow you're losing the messages\ntoo cuz it's not being logged.\n\n605\n00:31:41.510 --> 00:31:45.310\nSo it's up to you to figure out which\none works best in your environment and\n\n606\n00:31:45.310 --> 00:31:46.370\nget that set up.\n\n607\n00:31:46.370 --> 00:31:50.201\nSo, definitely something to think about,\nbut I think that's about it for syslog,\n\n608\n00:31:50.201 --> 00:31:53.370\nfor the CCENT exam I wouldn't\nsweat it too much as far as\n\n609\n00:31:53.370 --> 00:31:55.340\nmemorizing all these levels.\n\n610\n00:31:55.340 --> 00:31:58.400\nBut just be aware of them, and they were\nkind of buried away under that command.\n\n611\n00:31:58.400 --> 00:32:01.630\nLogging, trap, followed by what\nyou wanted to filter it down to.\n\n612\n00:32:02.670 --> 00:32:04.640\n>> All right, Don, well,\nthank you, again, for\n\n613\n00:32:04.640 --> 00:32:07.740\nat least showing us the way that\nwe can get those messages from\n\n614\n00:32:07.740 --> 00:32:12.200\noff of our particular console that we\nnormally see printed onto our screen.\n\n615\n00:32:12.200 --> 00:32:13.530\nDirected to, of course,\n\n616\n00:32:13.530 --> 00:32:17.840\na remote server which is gonna give us\nthe ability to have it saved somewhere,\n\n617\n00:32:17.840 --> 00:32:20.870\nthen we can examine it for\ntroubleshooting later on if we need to.\n\n618\n00:32:20.870 --> 00:32:23.680\nWe also in this episode took a look\nat how we configure that, so\n\n619\n00:32:23.680 --> 00:32:28.050\nremember that we want to make sure that we\nunderstand those commands in particular.\n\n620\n00:32:28.050 --> 00:32:31.470\nDon also gave us a little bit of a chance\nhere to actually see a little bit more in\n\n621\n00:32:31.470 --> 00:32:35.260\ndepth in that as well, by showing us the\ninformational levels that we also have to\n\n622\n00:32:35.260 --> 00:32:38.330\nworry about, the severity levels, and some\nof the things that we can do with that.\n\n623\n00:32:38.330 --> 00:32:40.600\nAnd so you see that even though\nthat's really about three or\n\n624\n00:32:40.600 --> 00:32:44.190\nfour commands overall [LAUGH] that\nwe took a look at in this episode,\n\n625\n00:32:44.190 --> 00:32:45.460\nthere's really a lot more to this.\n\n626\n00:32:45.460 --> 00:32:48.800\nAnd as you actually get higher and\nhigher into your certification goals\n\n627\n00:32:48.800 --> 00:32:51.170\nyou'll probably see more use for\nthose later on.\n\n628\n00:32:51.170 --> 00:32:53.610\nBut that's a great place for\nus to end this episode then.\n\n629\n00:32:53.610 --> 00:32:56.970\nSigning off for ITProTV,\nI've been your host Ronnie Wong.\n\n630\n00:32:56.970 --> 00:32:57.910\n>> And I'm Don Pezet.\n\n631\n00:32:57.910 --> 00:33:01.908\n>> Stay tuned right here for\nmore CCENT episodes.\n\n632\n00:33:01.908 --> 00:33:08.320\n[MUSIC]\n\n",
          "vimeoId": "177230172"
        },
        {
          "description": "In this episode, Ronnie and Don continue with additional maintenance task of backing up routing configurations to a remote server.  This primary task, they demonstrate, helps to insure that the configuration is saved in the event of equipment failure or misconfigurations. They also show some of the pitfalls of configuration restorations that can occur if not careful.",
          "length": "1714",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-5-1-2-device_management_pt.2-080116-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-5-1-2-device_management_pt.2-080116-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-5-1-2-device_management_pt.2-080116-1-sm.jpg",
          "title": "Device Management Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.310 --> 00:00:15.445\nWelcome to another great episode,\nright here on ITProTV.\n\n3\n00:00:15.445 --> 00:00:16.873\nI'm your host, Ronnie Wong.\n\n4\n00:00:16.873 --> 00:00:19.269\nAnd you're actually watching\nthe CISCO CCENT show,\n\n5\n00:00:19.269 --> 00:00:22.781\nwhere we're actually taking a look at some\nof the other things that we need to do\n\n6\n00:00:22.781 --> 00:00:25.810\nbesides just getting routers and\nswitches up and running.\n\n7\n00:00:25.810 --> 00:00:29.480\nWe're ready to take a look at syslog log\na little bit, but now there's other things\n\n8\n00:00:29.480 --> 00:00:32.525\nthat we need to do which is gonna be\nsomething like back up and restore.\n\n9\n00:00:32.525 --> 00:00:34.405\nAnd who better to help us\nwith that than Mr Don Pezet?\n\n10\n00:00:34.405 --> 00:00:35.715\nDon, welcome back to our studios.\n\n11\n00:00:35.715 --> 00:00:36.665\n>> Thanks for having me back, Ronnie.\n\n12\n00:00:36.665 --> 00:00:40.105\nYeah, in the last episode we talked about\nsyslog, and I was stressing how important\n\n13\n00:00:40.105 --> 00:00:42.555\nit was to get your logs off\nof your equipment, right?\n\n14\n00:00:42.555 --> 00:00:44.505\nIt's great to have it on the equipment,\nwonderful.\n\n15\n00:00:44.505 --> 00:00:48.785\nBut if we can store it somewhere else on a\nserver, now, if the equipment gets reset,\n\n16\n00:00:48.785 --> 00:00:50.185\nor a hacker breaks in and\n\n17\n00:00:50.185 --> 00:00:53.110\nthey clear their tracks,\nyou've still got a backup somewhere else.\n\n18\n00:00:53.110 --> 00:00:56.390\nWell, there's really only one\nother thing on a router or\n\n19\n00:00:56.390 --> 00:00:58.930\nswitch that we care about that\ndifferentiates it from any other\n\n20\n00:00:58.930 --> 00:01:01.240\npiece of hardware, and\nthat's its configuration.\n\n21\n00:01:01.240 --> 00:01:03.700\nSure would be nice if we could get\nthe configuration off of there, too.\n\n22\n00:01:03.700 --> 00:01:06.690\nNow there's two main reasons for this one.\n\n23\n00:01:06.690 --> 00:01:08.820\nOne is just simple backup.\n\n24\n00:01:08.820 --> 00:01:13.430\nIf I have a router that fails, and I have\na Cisco SmartNet agreement with advanced\n\n25\n00:01:13.430 --> 00:01:17.170\nreplacement, I call them up and\nI say, look, my 2911 just failed.\n\n26\n00:01:17.170 --> 00:01:20.720\nAnd so they drop a 2911 in the mail,\nand I get it the next day.\n\n27\n00:01:20.720 --> 00:01:21.930\nOr if you have four hour replacement,\n\n28\n00:01:21.930 --> 00:01:24.460\nthey'll have a tech out there in four\nhours, they'll replace it, right?\n\n29\n00:01:24.460 --> 00:01:26.370\nWell, when they replace it,\nwhat are they gonna do?\n\n30\n00:01:26.370 --> 00:01:28.360\nThey're gonna put in a brand new 2911.\n\n31\n00:01:28.360 --> 00:01:33.440\nAnd it's gonna be set for factory default,\nso now we gotta get reconfigured.\n\n32\n00:01:33.440 --> 00:01:35.810\nWell, if I have my\nconfiguration backed up,\n\n33\n00:01:35.810 --> 00:01:38.870\nI can just reapply the config\nto the new box and I'm done.\n\n34\n00:01:38.870 --> 00:01:40.160\nIt's that simple, right?\n\n35\n00:01:40.160 --> 00:01:44.020\nSo you can get it set up really nice and\nquickly if you've got the config.\n\n36\n00:01:44.020 --> 00:01:47.360\nThe other reason is, and we can go\nback to the hacker side of things, but\n\n37\n00:01:47.360 --> 00:01:52.310\nlet's just say that maybe you hire\na junior network admin and they're one of\n\n38\n00:01:52.310 --> 00:01:55.275\nthose people that gets out there and does\nchanges without doing change management.\n\n39\n00:01:55.275 --> 00:01:57.240\n>> [LAUGH]\n>> And so, one day you come in and\n\n40\n00:01:57.240 --> 00:01:59.230\na router's just not working.\n\n41\n00:01:59.230 --> 00:02:00.660\nWell, you ever ask somebody,\n\n42\n00:02:00.660 --> 00:02:02.470\nthey're having a problem with\ntheir computer, I can't print!\n\n43\n00:02:02.470 --> 00:02:05.250\nAnd you say, well,\nhave you changed anything recently?\n\n44\n00:02:05.250 --> 00:02:07.230\nNope, I haven't changed a thing.\n\n45\n00:02:07.230 --> 00:02:09.900\nWell, I did install that one software,\nI did do this other thing, and\n\n46\n00:02:09.900 --> 00:02:11.430\nthey never tell you the truth.\n\n47\n00:02:11.430 --> 00:02:13.180\nThat's how junior network admins will be,\nright?\n\n48\n00:02:13.180 --> 00:02:16.100\nSo they're gonna say I\ndidn't change anything.\n\n49\n00:02:16.100 --> 00:02:19.820\nWell, all right, let's take a look at\nthe current config and let's compare it to\n\n50\n00:02:19.820 --> 00:02:24.390\nthis backup that I took last night,\nand let's see any differences.\n\n51\n00:02:24.390 --> 00:02:25.250\nWhat's different?\n\n52\n00:02:25.250 --> 00:02:27.810\nWell, whatever changed, that's more\nthan likely what your problem is.\n\n53\n00:02:27.810 --> 00:02:31.350\nSo now you can easily track when\nchanges happen to your system.\n\n54\n00:02:31.350 --> 00:02:34.310\nA great reason to do these backups and\nhave them stored somewhere else.\n\n55\n00:02:34.310 --> 00:02:37.915\nSo, fortunately, there's a handful of\ndifferent ways that we can do backups\n\n56\n00:02:37.915 --> 00:02:41.060\nof our configs right from within\nthe Cisco routers and switches.\n\n57\n00:02:41.060 --> 00:02:43.670\nNow, when you do the backups,\n\n58\n00:02:43.670 --> 00:02:46.030\nwe're really just copying\nthe configuration somewhere else.\n\n59\n00:02:46.030 --> 00:02:47.210\nAnd the config, what is it?\n\n60\n00:02:47.210 --> 00:02:50.720\nIt's really just a list of all\nthe commands you'd have to type\n\n61\n00:02:50.720 --> 00:02:51.480\nto get a router or\n\n62\n00:02:51.480 --> 00:02:54.970\nswitch configured right back to the way\nit was before you had your problem.\n\n63\n00:02:54.970 --> 00:02:59.840\nSo you could, in theory,\njust do a show running dash config and\n\n64\n00:02:59.840 --> 00:03:01.530\ncopy everything on the screen and\npaste it, right?\n\n65\n00:03:01.530 --> 00:03:03.150\nBut that's kind of a bit\nof a manual process.\n\n66\n00:03:03.150 --> 00:03:06.250\nWe can actually do it from\nthe file system commands right\n\n67\n00:03:06.250 --> 00:03:08.220\ninside of our switch and router.\n\n68\n00:03:08.220 --> 00:03:11.860\n>> Now, Don, before you go any further,\nmaybe there's people that are just getting\n\n69\n00:03:11.860 --> 00:03:16.200\ninto this, and they're probably wondering\nwhy is it such a big deal, Don?\n\n70\n00:03:16.200 --> 00:03:18.900\nWhen I take a look at the configs, cuz\nI've really been working in this testing\n\n71\n00:03:18.900 --> 00:03:23.780\nenvironment, I only have to really\nconfigure a couple of interfaces.\n\n72\n00:03:23.780 --> 00:03:29.170\nI have a small access list, what's\nthe big deal about backing that up, Don?\n\n73\n00:03:29.170 --> 00:03:32.470\n>> Well, I guess you can make\nthe argument that if it was a router, and\n\n74\n00:03:32.470 --> 00:03:34.570\nyou're running a dynamic routing protocol,\n\n75\n00:03:34.570 --> 00:03:37.130\nit's just gonna learn all\nits routes again, anyway.\n\n76\n00:03:37.130 --> 00:03:39.734\nAnd maybe you have a standard template for\nyour equipment with the username and\n\n77\n00:03:39.734 --> 00:03:42.600\npassword, whatever, you cut and\npaste it, and you're done.\n\n78\n00:03:42.600 --> 00:03:45.110\nYou could make the argument that\nI don't need to back it up.\n\n79\n00:03:45.110 --> 00:03:50.490\nBut what if it's a switch with 400 ports,\nand some ports are on VLAN 7,\n\n80\n00:03:50.490 --> 00:03:55.350\nand other ports are on VLAN 23, and you've\ngot 400 all assigned to different VLANs.\n\n81\n00:03:55.350 --> 00:03:58.030\nYou're not gonna remember which ports\nare on which VLANs, and all that.\n\n82\n00:03:58.030 --> 00:04:02.340\nAnd the access control list, you're not\ngonna remember exactly what every line is\n\n83\n00:04:02.340 --> 00:04:05.750\nunless you're some kind of\ndocumentation master, which nobody is.\n\n84\n00:04:05.750 --> 00:04:08.174\nSo it's better to just have\nthat backup of the file.\n\n85\n00:04:08.174 --> 00:04:09.240\nYou can quickly fill it on there, and\n\n86\n00:04:09.240 --> 00:04:11.015\nyou know you wouldn't make any mistakes,\nall right?\n\n87\n00:04:11.015 --> 00:04:12.730\nSo, let's see how that works.\n\n88\n00:04:12.730 --> 00:04:15.500\nWell, on my router,\nwe've been doing this the whole series,\n\n89\n00:04:15.500 --> 00:04:18.910\nevery time I wanna save my configuration,\nwhat's the command that I run?\n\n90\n00:04:18.910 --> 00:04:25.430\nWell, we run copy running-config\nstartup-config, right?\n\n91\n00:04:25.430 --> 00:04:31.060\nWe're copying from one file in our\nNVRAM to another file in our NVRAM.\n\n92\n00:04:31.060 --> 00:04:34.710\nNow remember that you have a couple of\ndifferent types of memory in your router\n\n93\n00:04:34.710 --> 00:04:36.070\nand your switch, right?\n\n94\n00:04:36.070 --> 00:04:41.268\nYou have your flash, which is kinda like\nthe hard drive for the router switch.\n\n95\n00:04:41.268 --> 00:04:43.520\nFlash memory is where your\noperating system is stored.\n\n96\n00:04:43.520 --> 00:04:45.651\nSo every time you boot up,\nyour operating system is right there,\n\n97\n00:04:45.651 --> 00:04:46.478\nyou can boot it, right?\n\n98\n00:04:46.478 --> 00:04:47.701\nThat's flash.\n\n99\n00:04:47.701 --> 00:04:52.604\nThen you have your RAM,\nRAM is your Random Access Memory, right?\n\n100\n00:04:52.604 --> 00:04:53.410\n>> Right.\n[LAUGH]\n\n101\n00:04:53.410 --> 00:04:54.050\n>> [LAUGH] And\n\n102\n00:04:54.050 --> 00:04:56.280\nthat's where everything\nis stored temporarily.\n\n103\n00:04:56.280 --> 00:04:58.620\nSo when you boot up,\nyour operating system's copied into RAM,\n\n104\n00:04:58.620 --> 00:04:59.160\nand you run from it.\n\n105\n00:04:59.160 --> 00:05:02.230\nRAM is much faster than flash,\nso that's why we run from it.\n\n106\n00:05:02.230 --> 00:05:05.920\nBut every time you reboot your system,\nthe RAM gets erased.\n\n107\n00:05:05.920 --> 00:05:10.590\nSo what I'm effectively doing here\nis copying the config from RAM,\n\n108\n00:05:10.590 --> 00:05:14.150\nthe running config, and I'm copying\nit to flash, the start up config.\n\n109\n00:05:14.150 --> 00:05:16.670\nExcept it's not actually going in flash,\n\n110\n00:05:16.670 --> 00:05:20.700\nthere's a special little bit\nof memory called the NV RAM.\n\n111\n00:05:20.700 --> 00:05:22.672\nNV Ram is non-volatile RAM, and\n\n112\n00:05:22.672 --> 00:05:26.540\nit's RAM that doesn't get\nerased every time you reboot.\n\n113\n00:05:26.540 --> 00:05:31.772\nNow on older routers and switches they\nactually had a separate chip for NV RAM.\n\n114\n00:05:31.772 --> 00:05:33.550\nOn modern routers and\n\n115\n00:05:33.550 --> 00:05:36.470\nswitches, it's actually just\na little partition on the flash.\n\n116\n00:05:36.470 --> 00:05:42.310\nSo it is actually flash, but it's still\ncalled NV RAM in the Cisco world because\n\n117\n00:05:42.310 --> 00:05:44.590\nbackwards compatibility and\nall that stuff.\n\n118\n00:05:44.590 --> 00:05:49.530\nSo the command I'm running here,\ncopy running, -config startup-config.\n\n119\n00:05:49.530 --> 00:05:55.510\nWhat it can actually be called\nis copy ram:running-config.\n\n120\n00:05:55.510 --> 00:05:58.476\nThis doesn't actually work,\nI'm just saying it as a reference.\n\n121\n00:05:58.476 --> 00:06:02.650\n>> [LAUGH]\n>> And then nvram:startup-config, right?\n\n122\n00:06:02.650 --> 00:06:03.670\nAnd that actually does work,\n\n123\n00:06:03.670 --> 00:06:06.600\nright there we can address the nvram\nas a filesystem if we want.\n\n124\n00:06:06.600 --> 00:06:10.440\nSo it's really copying from one type\nof memory to another type of memory.\n\n125\n00:06:10.440 --> 00:06:13.880\nAnd the reason I highlight\nthat is that when you do copy\n\n126\n00:06:13.880 --> 00:06:17.870\nyou can copy between all sorts of\ndifferent things, not just memory.\n\n127\n00:06:17.870 --> 00:06:19.600\nIf you do a copy question mark,\n\n128\n00:06:19.600 --> 00:06:23.660\nyou'll see a whole list of the stuff\nthat you can copy back and forth from.\n\n129\n00:06:23.660 --> 00:06:26.660\nSo, for example, we'll see flash.\n\n130\n00:06:26.660 --> 00:06:27.890\nThat one's kind of important, right?\n\n131\n00:06:27.890 --> 00:06:30.720\nThat's how we copy our IOS files.\n\n132\n00:06:30.720 --> 00:06:32.940\nWe can do FTP.\n\n133\n00:06:32.940 --> 00:06:37.810\nI can copy and config my FTP server and\nbring it down, or\n\n134\n00:06:37.810 --> 00:06:39.570\nHTTP if I have it on a web server.\n\n135\n00:06:39.570 --> 00:06:42.320\nI can do nvram we saw that one before.\n\n136\n00:06:42.320 --> 00:06:44.610\nWe've got our running config and\nour startup config.\n\n137\n00:06:44.610 --> 00:06:47.990\nYou've got the secure copy protocol,\nSCP, right?\n\n138\n00:06:47.990 --> 00:06:52.270\nOur normal things like FTP and\nTFTP, they're unencrypted.\n\n139\n00:06:52.270 --> 00:06:54.960\nThe whole config is being sent\nover the network unencrypted.\n\n140\n00:06:54.960 --> 00:06:58.980\nBut if I use SCP, well,\nnow it's building up an SSH connection.\n\n141\n00:06:58.980 --> 00:07:01.640\nIt's building up an encrypted tunnel\nbetween us and the server and\n\n142\n00:07:01.640 --> 00:07:02.460\ncopying the file that way.\n\n143\n00:07:02.460 --> 00:07:04.730\nSo, SCP is much more secure.\n\n144\n00:07:04.730 --> 00:07:08.240\nWe've also got our, TFTP,\nI think I already mentioned.\n\n145\n00:07:08.240 --> 00:07:11.040\nxmodem.\nIf you have to use xmodem you're really in\n\n146\n00:07:11.040 --> 00:07:12.120\na bad spot.\n\n147\n00:07:12.120 --> 00:07:13.840\nIf you have a Cisco switch or\n\n148\n00:07:13.840 --> 00:07:17.050\na router that doesn't have any kind of\nremovable memory, and you hose the IOS and\n\n149\n00:07:17.050 --> 00:07:23.210\nit won't boot anymore, your only option\nis to connect up via a console cable and\n\n150\n00:07:23.210 --> 00:07:28.310\ntransfer the IOS file to it using xmodem,\na very old analog modem transfer program.\n\n151\n00:07:28.310 --> 00:07:31.550\nAnd the biggest problem\nwith it is simply speed.\n\n152\n00:07:31.550 --> 00:07:37.580\nThe console port defaults to 9600 bods or\nbits per second, that's 9.6k.\n\n153\n00:07:37.580 --> 00:07:41.340\nIt's incredibly slow,\nit'll take hours to copy an IOS file,\n\n154\n00:07:41.340 --> 00:07:43.520\neven the smallest IOS file,\nto your system.\n\n155\n00:07:43.520 --> 00:07:44.640\nIt's painful.\n\n156\n00:07:44.640 --> 00:07:45.810\nI've done it because I've had to.\n\n157\n00:07:45.810 --> 00:07:49.090\nI would never do it because I wanted to,\nbut it is certainly an option.\n\n158\n00:07:49.090 --> 00:07:52.966\nAnd ymodem, ymodem's just a little\nbit better than xmodem, but\n\n159\n00:07:52.966 --> 00:07:54.806\nneither's as good as zmodem.\n\n160\n00:07:54.806 --> 00:07:58.454\nI wish I could say I was joking there, but\nthere are actually zmodem, xmodem, ymodem,\n\n161\n00:07:58.454 --> 00:08:01.980\nKermit, Kermit's another one, but I don't\nthink Kermit's in the list anymore.\n\n162\n00:08:01.980 --> 00:08:04.555\nI used to have Kermit as an option.\n\n163\n00:08:04.555 --> 00:08:07.474\nYeah, so anyhow, so\nwe can copy between all sorts of things.\n\n164\n00:08:07.474 --> 00:08:11.402\nAnd the whole reason I mention it here is\nnot to bring back some crazy nostalgia\n\n165\n00:08:11.402 --> 00:08:15.900\nover modem protocols, but to show you\nhow we can use this to back things up.\n\n166\n00:08:15.900 --> 00:08:19.731\nI can say, copy running-config.\n\n167\n00:08:19.731 --> 00:08:24.260\nAnd then instead of copy\nit to my start up config,\n\n168\n00:08:24.260 --> 00:08:28.685\nI could copy it to tftp:// and\nthen a server.\n\n169\n00:08:28.685 --> 00:08:31.695\nSo maybe I've got a server\nsitting out there like this.\n\n170\n00:08:31.695 --> 00:08:33.755\nAnd then I could specify a file name.\n\n171\n00:08:33.755 --> 00:08:38.460\nAnd so I might call this like r1-running,\n\n172\n00:08:38.460 --> 00:08:41.340\nwhich I'll try and\nspell right, .txt, right?\n\n173\n00:08:41.340 --> 00:08:45.470\nAnd so now it's gonna copy my running\nconfiguration to a text file and\n\n174\n00:08:45.470 --> 00:08:47.690\nstick it on that TFTP server.\n\n175\n00:08:47.690 --> 00:08:49.010\nOr, you could actually do it this way.\n\n176\n00:08:49.010 --> 00:08:52.930\nYou could say, copy running-config\ntftp: and just press Enter.\n\n177\n00:08:52.930 --> 00:08:55.150\nAnd when you do that,\nit's gonna ask you, all right,\n\n178\n00:08:55.150 --> 00:08:56.255\nwhat's the IP address of the server?\n\n179\n00:08:56.255 --> 00:08:58.292\nAll right, 10.1.10.4.\n\n180\n00:08:58.292 --> 00:08:59.880\nOkay, what do I want to call it?\n\n181\n00:08:59.880 --> 00:09:02.470\nAnd it even suggests a file name,\nhow about this name?\n\n182\n00:09:02.470 --> 00:09:03.940\nWell, I don't like that name.\n\n183\n00:09:03.940 --> 00:09:06.605\nSo I'm gonna make it r1-running.txt.\n\n184\n00:09:06.605 --> 00:09:09.840\nAnd then when I run that, now it's\ngonna reach out to that server and\n\n185\n00:09:09.840 --> 00:09:10.390\ntry to upload it.\n\n186\n00:09:10.390 --> 00:09:12.840\nI've got a little problem,\nthat server doesn't exist.\n\n187\n00:09:12.840 --> 00:09:14.740\nSo it's trying to reach out to\na server that doesn't exist,\n\n188\n00:09:14.740 --> 00:09:16.265\nthat's not gonna get too far.\n\n189\n00:09:16.265 --> 00:09:21.060\nActually, I guess I did have another\nserver I could have send that to.\n\n190\n00:09:21.060 --> 00:09:25.450\nBut TFTP, what I'm using here, is not what\nmost of you guys are gonna use anymore.\n\n191\n00:09:25.450 --> 00:09:28.170\nTFTP, it doesn't support usernames and\npassword,\n\n192\n00:09:28.170 --> 00:09:31.100\nit's Trivial File Transfer Protocol,\nso you use it for\n\n193\n00:09:31.100 --> 00:09:33.162\nsending data that you don't\nnecessarily care about.\n\n194\n00:09:33.162 --> 00:09:34.664\nAnd a config?\n\n195\n00:09:34.664 --> 00:09:36.451\nWell, that's kind of\nsomething that I care about.\n\n196\n00:09:36.451 --> 00:09:41.254\nSo a lot of times instead of using TFTP,\nwe're gonna use other things,\n\n197\n00:09:41.254 --> 00:09:45.120\nlike SCP, right, for\nsecure copy, or straight up FTP.\n\n198\n00:09:45.120 --> 00:09:50.088\nSo I believe I have a server parked\nat 10.1.230.210, if I remember right.\n\n199\n00:09:50.088 --> 00:09:53.312\nLet's see if this one will work for us.\n\n200\n00:09:53.312 --> 00:09:55.588\nAnd so I'm just gonna run that,\nit's gonna reach out to that server, and\n\n201\n00:09:55.588 --> 00:09:57.630\nassuming it's there,\nthat'll connect up and start to upload.\n\n202\n00:09:57.630 --> 00:10:01.170\nNow when it uploads, you're gonna\nsee one of two things, either a dot\n\n203\n00:10:01.170 --> 00:10:04.880\nlike I'm seeing, which is bad, or\nan exclamation point, which is good.\n\n204\n00:10:04.880 --> 00:10:06.660\nAn exclamation point\nmeans it's copying data.\n\n205\n00:10:06.660 --> 00:10:10.170\nAnd your configs are pretty small,\nso you'll normally only see two or\n\n206\n00:10:10.170 --> 00:10:12.400\nthree of those exclamation points.\n\n207\n00:10:12.400 --> 00:10:15.410\nIf you're copying something\nlike the actual iOS file,\n\n208\n00:10:15.410 --> 00:10:18.850\nwhich we'll see in the upgrade episode,\nthere you might see\n\n209\n00:10:18.850 --> 00:10:22.740\nthousands of exclamation points as\nit copies the size of that file.\n\n210\n00:10:22.740 --> 00:10:25.520\nAll right, well instead of trying to hit\na TFTP server that doesn't even exist,\n\n211\n00:10:25.520 --> 00:10:26.500\nlet's hit a real server.\n\n212\n00:10:26.500 --> 00:10:29.310\nNow I don't really have a TFTP\nserver laying around because\n\n213\n00:10:29.310 --> 00:10:33.960\nthat's just the old way of doing things,\nso we're normally gonna use SCP or FTP.\n\n214\n00:10:33.960 --> 00:10:36.690\nThey both work the same way,\nthe difference is one is encrypted and\n\n215\n00:10:36.690 --> 00:10:37.665\none is not.\n\n216\n00:10:37.665 --> 00:10:40.220\nFTP's easier to get up and running because\nyou don't have to worry about certificates\n\n217\n00:10:40.220 --> 00:10:43.270\nand all that mess,\nSCP you do have a little bit more to do.\n\n218\n00:10:43.270 --> 00:10:46.490\nBut when we go to copy,\nit's pretty much the same thing.\n\n219\n00:10:46.490 --> 00:10:50.570\nInstead of saying, I didn't actually\nrun that command earlier, did I?\n\n220\n00:10:50.570 --> 00:10:54.170\nSo I'm gonna copy my running config and\nI'm gonna send it to an FTP server.\n\n221\n00:10:54.170 --> 00:10:56.510\nAnd I could just press Enter and\nfeed it the details, but\n\n222\n00:10:56.510 --> 00:10:58.700\nI'm just gonna type it all\nhere into one line, right?\n\n223\n00:10:58.700 --> 00:11:04.750\nSo I'm gonna send it to ftp://10.1.230.21,\nand I wanna give it a name.\n\n224\n00:11:04.750 --> 00:11:09.310\nI'm gonna call this r1-running.txt, okay?\n\n225\n00:11:09.310 --> 00:11:11.440\nWell, if I run this right\nnow it's gonna fail,\n\n226\n00:11:11.440 --> 00:11:15.200\nand the main reason is my FTP server\nrequires a username and a password.\n\n227\n00:11:15.200 --> 00:11:16.696\nSo if I wanna add a username and\na password,\n\n228\n00:11:16.696 --> 00:11:18.730\nthere's a couple of\ndifferent ways I can do it.\n\n229\n00:11:18.730 --> 00:11:23.890\nThe easiest way is to add\nit right here into the URL.\n\n230\n00:11:24.930 --> 00:11:30.310\nSo I'm saying that I want to\nsend it to ftp://admin:cisco123.\n\n231\n00:11:30.310 --> 00:11:34.315\nSo that means username admin, password,\n\n232\n00:11:34.315 --> 00:11:39.330\ncisco123@10.1.230.21, that's\nthe server I'm connecting to, and\n\n233\n00:11:39.330 --> 00:11:42.840\nthen the filename that I want\nit to have when it copies over.\n\n234\n00:11:42.840 --> 00:11:47.000\nSo I'm gonna run that, and it's just\ngonna verify the IP address and filename.\n\n235\n00:11:47.000 --> 00:11:48.420\nAnd I'll run it and here it goes.\n\n236\n00:11:48.420 --> 00:11:51.640\nIn the background it's connecting to\nthe FTP server and it's uploading.\n\n237\n00:11:51.640 --> 00:11:52.890\nI can see successful.\n\n238\n00:11:52.890 --> 00:11:54.780\nIt uploaded 1254 bytes, right?\n\n239\n00:11:55.960 --> 00:11:59.140\nMassive amount of data,\none full kilobyte of data.\n\n240\n00:11:59.140 --> 00:12:01.750\nSo it uploads it and\nnow it's on the server.\n\n241\n00:12:01.750 --> 00:12:03.450\nNow that mysterious server?\n\n242\n00:12:03.450 --> 00:12:04.710\nIt's actually my laptop.\n\n243\n00:12:04.710 --> 00:12:07.630\nAnd so if I browse here into this folder,\n\n244\n00:12:07.630 --> 00:12:11.310\nI can see there's the file that\nit just created, r1-running.txt.\n\n245\n00:12:11.310 --> 00:12:17.460\nAnd if I open that file up, here it is,\nand it backed up that configuration.\n\n246\n00:12:17.460 --> 00:12:20.580\nNow when you look at the configuration,\nit's gonna give you a nice little time\n\n247\n00:12:20.580 --> 00:12:24.790\nstamp up here at the top, the last\nconfiguration change was made at 11:07.\n\n248\n00:12:24.790 --> 00:12:29.250\nNVRAM config was last updated at 11:17,\nso that means somebody made a change,\n\n249\n00:12:29.250 --> 00:12:32.610\nand about ten minutes later it looks\nlike they saved it, all right?\n\n250\n00:12:32.610 --> 00:12:35.850\nBut looking at the running config,\nit's all laid out here, and\n\n251\n00:12:35.850 --> 00:12:37.560\nI can see that data.\n\n252\n00:12:37.560 --> 00:12:42.040\nNow remember this is my running\nconfiguration, I may not have saved\n\n253\n00:12:42.040 --> 00:12:45.540\nmy running configuration to Flash yet,\nor to the NV RAM.\n\n254\n00:12:45.540 --> 00:12:50.371\nSo if it hasn't saved, my start-up\nconfig might actually be different.\n\n255\n00:12:50.371 --> 00:12:55.120\nSo I might want to back up my running and\nmy start-up config.\n\n256\n00:12:55.120 --> 00:12:57.030\nRunning is what I'm running right now.\n\n257\n00:12:57.030 --> 00:12:59.900\nThat's what my users are experiencing, but\nmy start-up config might be different.\n\n258\n00:12:59.900 --> 00:13:03.880\nSo I'm gonna run that same command and\nback up the start-up config.\n\n259\n00:13:03.880 --> 00:13:08.510\nWell, before I run it this time,\nlast time I stuck the username and\n\n260\n00:13:08.510 --> 00:13:10.970\npassword right here in the command line.\n\n261\n00:13:10.970 --> 00:13:13.130\nOkay?\nLet me show you another way to do that.\n\n262\n00:13:13.130 --> 00:13:15.205\nI'm gonna get in to configuration, and\n\n263\n00:13:15.205 --> 00:13:19.171\nthere’s two little command that we can\nrun in here, ip ftp, and then if you do\n\n264\n00:13:19.171 --> 00:13:23.660\na question mark you'll see where you can\nprovide the username and the password.\n\n265\n00:13:23.660 --> 00:13:31.070\nSo I'm gonna say, ip ftp username admin,\nip ftp password cisco123.\n\n266\n00:13:31.070 --> 00:13:34.420\nAll right, so there's the username and\npassword that I wanna use for\n\n267\n00:13:34.420 --> 00:13:35.880\nFTP from now on.\n\n268\n00:13:35.880 --> 00:13:39.570\nAnd so now when I do an FTP connection,\nit's gonna use these usernames and\n\n269\n00:13:39.570 --> 00:13:43.930\npasswords as opposed to me having to\nput it in the command line every time.\n\n270\n00:13:43.930 --> 00:13:45.888\nThat's gonna equate to\na shorter command for me.\n\n271\n00:13:45.888 --> 00:13:52.590\nAll right, now that's in my running\nconfig, not in my startup config.\n\n272\n00:13:52.590 --> 00:13:57.130\nSo if I come in here and I back up\nmy configuration like I did before,\n\n273\n00:13:57.130 --> 00:14:00.120\nwell, I can leave the username and\npassword out, which is nice.\n\n274\n00:14:00.120 --> 00:14:02.810\nAlthough I just deleted the server,\nso let me try and\n\n275\n00:14:02.810 --> 00:14:07.770\nget this somewhat back\nto the way I want it.\n\n276\n00:14:07.770 --> 00:14:11.441\nAll right, so\nI'm saying copy running-config\n\n277\n00:14:11.441 --> 00:14:16.730\nftp://10.1.230.21 /r1-running.text, okay.\n\n278\n00:14:16.730 --> 00:14:21.600\nAnd I'm gonna run that to\nbackup that configuration file.\n\n279\n00:14:21.600 --> 00:14:22.430\nThere it goes.\n\n280\n00:14:22.430 --> 00:14:25.320\nNow I already had a running config file,\nand that one's now been overwritten.\n\n281\n00:14:25.320 --> 00:14:27.360\nAnd now I'm just gonna hit my up arrow and\n\n282\n00:14:27.360 --> 00:14:29.360\nI'm gonna change that\nfrom running to startup.\n\n283\n00:14:30.600 --> 00:14:36.360\nSo now I'm gonna do startup-config,\nand I'll run that, okay?\n\n284\n00:14:36.360 --> 00:14:37.545\nSo now, shoot.\n\n285\n00:14:37.545 --> 00:14:40.030\n[LAUGH] I made an amateur mistake there.\n\n286\n00:14:40.030 --> 00:14:43.500\nSo I told it to copy the startup-config,\nwhich is what I wanted, but\n\n287\n00:14:43.500 --> 00:14:45.390\nI didn't change the file name.\n\n288\n00:14:45.390 --> 00:14:49.080\nSo even though it was the startup-config,\nI backed it up to that other file.\n\n289\n00:14:49.080 --> 00:14:51.160\nSee right there where it\nconfirmed the filename?\n\n290\n00:14:51.160 --> 00:14:55.110\nI should have paid attention, I just hit\nEnter, and I backed it up as r1-running.\n\n291\n00:14:55.110 --> 00:14:59.320\nSo I wanted that to actually\ngo to r1-startup.txt so\n\n292\n00:14:59.320 --> 00:15:02.070\nthat I would have the two separate files.\n\n293\n00:15:02.070 --> 00:15:04.580\nNow I need to repeat the earlier backup\n\n294\n00:15:04.580 --> 00:15:08.990\nto make sure that I get the running-config\nput back the way it was.\n\n295\n00:15:08.990 --> 00:15:09.910\nThere we go.\n\n296\n00:15:09.910 --> 00:15:11.260\nAll right.\n\n297\n00:15:11.260 --> 00:15:13.586\nNow, if I were to go to that server,\n\n298\n00:15:13.586 --> 00:15:17.940\nlet me just kinda close out of some\nof this stuff and go to my folder.\n\n299\n00:15:20.302 --> 00:15:22.830\nMacs are really bad about letting\nthe file show up right away.\n\n300\n00:15:22.830 --> 00:15:23.830\nThe file is there.\n\n301\n00:15:23.830 --> 00:15:25.000\nIf I wait just a moment, it'll pop up.\n\n302\n00:15:25.000 --> 00:15:29.270\nBut I'll have those two files in place,\nand I'll be able to see them.\n\n303\n00:15:29.270 --> 00:15:35.850\nAnd I can always crank it right out of the\nstraight up terminal, and we'll see that.\n\n304\n00:15:37.030 --> 00:15:38.300\nThere they are.\n\n305\n00:15:38.300 --> 00:15:38.880\nSo, yeah.\n\n306\n00:15:38.880 --> 00:15:41.580\nGood old Mac's not showing me\nthe files that I know I've got.\n\n307\n00:15:41.580 --> 00:15:45.673\nSo I've got r1-running and\nr1-startup, both sitting right there.\n\n308\n00:15:45.673 --> 00:15:49.625\nAnd if I take a look inside of them,\nlike if I just do a more, and\n\n309\n00:15:49.625 --> 00:15:54.250\nI take a look at the running config,\nthat's what we saw a moment ago.\n\n310\n00:15:54.250 --> 00:15:58.478\nSo here's that running configuration, and\nremember the FTP username and password.\n\n311\n00:15:58.478 --> 00:16:01.425\nHere they are,\nstored right after this license command.\n\n312\n00:16:01.425 --> 00:16:08.334\nOkay, if I do the same thing and\nI look at the startup File, right?\n\n313\n00:16:08.334 --> 00:16:12.978\nAnd I come down, and I find the license,\nand the IP FTP commands are missing,\n\n314\n00:16:12.978 --> 00:16:13.810\nright?\n\n315\n00:16:13.810 --> 00:16:15.100\nTwo different configs.\n\n316\n00:16:15.100 --> 00:16:18.210\nThat's why it's always handy to back\nup both of them, cuz you don't know\n\n317\n00:16:18.210 --> 00:16:21.030\nwhoever the last person was,\nthey might not have saved the startup.\n\n318\n00:16:21.030 --> 00:16:23.780\nAnd so if they haven't,\nthen it may be missing some things.\n\n319\n00:16:23.780 --> 00:16:25.850\nSo I always like to back them both up,\nright?\n\n320\n00:16:25.850 --> 00:16:28.290\nRunning is probably more important,\nbut if I'm trying to look for\n\n321\n00:16:28.290 --> 00:16:30.660\nchanges, I don't just want what's running.\n\n322\n00:16:30.660 --> 00:16:32.880\nI also want the startup to\nbe able to compare those and\n\n323\n00:16:32.880 --> 00:16:34.300\nbe able to look at the difference.\n\n324\n00:16:34.300 --> 00:16:35.580\nBut now, I've got them backed up.\n\n325\n00:16:35.580 --> 00:16:39.070\nSo they're backed up right here on my\nsystem, I've got access to them, and\n\n326\n00:16:39.070 --> 00:16:41.590\nnow I can take a look at them and\nstart to work with them.\n\n327\n00:16:41.590 --> 00:16:44.610\nOkay, now, when I say start to\nwork with them, what do I mean?\n\n328\n00:16:44.610 --> 00:16:46.170\nWell, for the most part,\nI'm just gonna let it sit here.\n\n329\n00:16:46.170 --> 00:16:48.260\nI'm not gonna mess with it at all.\n\n330\n00:16:48.260 --> 00:16:50.400\nBut what if something goes wrong?\n\n331\n00:16:50.400 --> 00:16:52.820\nSomething goes wrong, somebody\nmesses something up on the system,\n\n332\n00:16:52.820 --> 00:16:54.730\nthings start to change, right?\n\n333\n00:16:54.730 --> 00:16:58.140\nWell, then I might need to get in there\nand kinda tweak those settings and\n\n334\n00:16:58.140 --> 00:17:01.480\nadjust it, right, and get things\nrestored back to the way they were.\n\n335\n00:17:01.480 --> 00:17:04.360\nIf Cisco sends me a factory\ndefault router or switch,\n\n336\n00:17:04.360 --> 00:17:07.445\nthen getting it restored is\nnot really that big of a deal.\n\n337\n00:17:07.445 --> 00:17:11.157\nI can copy all this and paste it right\ninto the terminal on the new system, and\n\n338\n00:17:11.157 --> 00:17:13.850\nnow it's configured, and I'm done.\n\n339\n00:17:13.850 --> 00:17:16.950\nOr if it's on the network, I can copy\nit over the network easy enough.\n\n340\n00:17:16.950 --> 00:17:20.100\nIf you've got an interface set for DHCP,\nthen it can already see the network.\n\n341\n00:17:20.100 --> 00:17:22.880\nWe can copy the file down, or\nwe can get set back up in no time.\n\n342\n00:17:22.880 --> 00:17:23.920\nLet me show you that.\n\n343\n00:17:23.920 --> 00:17:29.780\nI'm gonna take this router, and\nI'm just gonna clear it's configuration.\n\n344\n00:17:29.780 --> 00:17:33.500\nSo if you ever need to do\nthis on a router or switch,\n\n345\n00:17:33.500 --> 00:17:37.020\nyou can just do erase startup-config.\n\n346\n00:17:37.020 --> 00:17:40.564\nAnd when you run that,\nit's gonna erase the startup config.\n\n347\n00:17:40.564 --> 00:17:42.650\nNow, that's the name of the command.\n\n348\n00:17:42.650 --> 00:17:44.330\nI guess that was kinda dumb for\nme to say that.\n\n349\n00:17:44.330 --> 00:17:46.420\nBut, so there it goes, it erases it.\n\n350\n00:17:46.420 --> 00:17:48.140\nAnd, I still have my running config.\n\n351\n00:17:48.140 --> 00:17:52.770\nSee how my router is still called\nlab-router1, and all, that hasn't changed.\n\n352\n00:17:52.770 --> 00:17:54.500\nBut the startup config is gone.\n\n353\n00:17:54.500 --> 00:17:56.760\nSo, if I reload, what's gonna happen?\n\n354\n00:17:56.760 --> 00:17:59.130\nWell it's gonna say,\nhey you haven't saved your config.\n\n355\n00:17:59.130 --> 00:18:00.060\nWell that's exactly what I want.\n\n356\n00:18:00.060 --> 00:18:01.720\nSo I'm gonna say no,\nI don't want to save it.\n\n357\n00:18:01.720 --> 00:18:05.300\nI want no start up config and\nnow it's going to reboot and\n\n358\n00:18:05.300 --> 00:18:09.230\nwhen it reboots, it has no configuration,\nno configuration whatsoever.\n\n359\n00:18:09.230 --> 00:18:13.130\nSo this is gonna be what it's like if\nCisco were to mail me a new router.\n\n360\n00:18:13.130 --> 00:18:15.829\nSo I get the brand new router, I plug\nit in on my network and I turn it on.\n\n361\n00:18:16.860 --> 00:18:17.530\nIt's got no config.\n\n362\n00:18:17.530 --> 00:18:22.591\nIt's gonna come up, it's gonna ask me\ndo I want to go through the easy setup?\n\n363\n00:18:22.591 --> 00:18:23.221\n>> Initial Startup Wizard.\n\n364\n00:18:23.221 --> 00:18:24.581\n>> Initial Startup Wizard,\nthank you, Ronnie.\n\n365\n00:18:24.581 --> 00:18:25.649\nDo I want to go through that?\n\n366\n00:18:25.649 --> 00:18:28.750\nWell, no.\nI want it to be back the way that it was.\n\n367\n00:18:28.750 --> 00:18:30.430\nAnd so I've got two choices right?\n\n368\n00:18:30.430 --> 00:18:32.720\nChoice one, I can go to my backup.\n\n369\n00:18:33.750 --> 00:18:36.510\nI can copy everything that's in this file.\n\n370\n00:18:36.510 --> 00:18:39.210\nSo I can just highlight it all and\ncopy it.\n\n371\n00:18:39.210 --> 00:18:43.010\nI can open up a console connection\nto the router, go into config, and\n\n372\n00:18:43.010 --> 00:18:44.290\njust paste it in.\n\n373\n00:18:44.290 --> 00:18:46.050\nPaste it in exactly like it is, all right?\n\n374\n00:18:47.210 --> 00:18:48.050\nIt works and it doesn't work.\n\n375\n00:18:48.050 --> 00:18:49.390\nLet me tell you the big problem.\n\n376\n00:18:49.390 --> 00:18:53.250\nMost terminal programs don't have that\nbig of a buffer for copy and paste.\n\n377\n00:18:53.250 --> 00:18:56.900\nAnd so what'll happen is it'll start\npasting, and you'll get about halfway, and\n\n378\n00:18:56.900 --> 00:18:57.920\nthen it'll stop.\n\n379\n00:18:57.920 --> 00:18:59.610\nOkay, it'll stop and\nit doesn't quite work.\n\n380\n00:19:00.850 --> 00:19:02.290\nHere's the other problem.\n\n381\n00:19:02.290 --> 00:19:06.800\nWhen you do a copy and paste like that,\nyou're not replacing the configuration.\n\n382\n00:19:06.800 --> 00:19:10.410\nTechnically, what you're doing\nis merging the configuration.\n\n383\n00:19:10.410 --> 00:19:12.400\nSo when you merge,\nlet me highlight a problem you got.\n\n384\n00:19:13.610 --> 00:19:17.090\nOn Cisco routers, most of the interfaces\nare shut down by default.\n\n385\n00:19:18.170 --> 00:19:21.280\nSo if I were to look at the interface\nconfig it would actually say shut down\n\n386\n00:19:21.280 --> 00:19:22.640\nright on the interface.\n\n387\n00:19:22.640 --> 00:19:27.210\nWell if we look at my backups for an\ninterface that is not shut down, right, so\n\n388\n00:19:27.210 --> 00:19:32.840\nif I come in here and I find an interface\nthat's not shut down like GI0/0.\n\n389\n00:19:32.840 --> 00:19:35.880\nSee how on GI0/1 it's actually got\nthe shutdown command there, but\n\n390\n00:19:35.880 --> 00:19:38.210\non this one it doesn't\nhave the shutdown command.\n\n391\n00:19:38.210 --> 00:19:40.680\nIt doesn't have no shutdown, right?\n\n392\n00:19:40.680 --> 00:19:45.000\nSo if the interface already has shut down\nand I paste this into the interface,\n\n393\n00:19:46.040 --> 00:19:49.290\nthe shutdown command is gonna stay\nthere and it's gonna stay shut down.\n\n394\n00:19:49.290 --> 00:19:53.450\nI merged my configuration\nfrom what was backed up and\n\n395\n00:19:53.450 --> 00:19:55.000\nwhatever's on the router right now.\n\n396\n00:19:55.000 --> 00:19:58.030\nNow if I just did a clean reset on it,\nthat's probably not that big of a deal.\n\n397\n00:19:58.030 --> 00:20:00.850\nThe shutdown interfaces are probably\nmy biggest problem, right?\n\n398\n00:20:00.850 --> 00:20:04.430\nBut the other thing is,\nif it has some kind of configuration,\n\n399\n00:20:04.430 --> 00:20:07.305\nI'm just trying to put it back to the way\nit was, I don't wanna do a merge.\n\n400\n00:20:07.305 --> 00:20:09.145\nSo copy and\npaste doesn't work out so well.\n\n401\n00:20:09.145 --> 00:20:13.145\nAll right, so instead what I wanna\ndo is replace the startup config and\n\n402\n00:20:13.145 --> 00:20:14.425\nreboot the router.\n\n403\n00:20:14.425 --> 00:20:16.005\nWhen you replace the startup config and\n\n404\n00:20:16.005 --> 00:20:19.775\nthen reboot, now it's not a merge anymore,\nit's a clean swap.\n\n405\n00:20:19.775 --> 00:20:22.495\nAnd there's another reason and\nyou know what, I don't have it here so\n\n406\n00:20:22.495 --> 00:20:24.345\nI can't show it to you.\n\n407\n00:20:24.345 --> 00:20:27.258\nBut, when you look at your running config,\n\n408\n00:20:27.258 --> 00:20:31.916\nyour running config will oftentimes\nhave certificates stored in it.\n\n409\n00:20:31.916 --> 00:20:34.410\nYou'll actually see the certificates\nin the running config.\n\n410\n00:20:34.410 --> 00:20:38.230\nWhen you look at the startup config, a lot\nof times it won't have the certificates in\n\n411\n00:20:38.230 --> 00:20:40.860\nthere, it'll have pointers\nto the certificate.\n\n412\n00:20:40.860 --> 00:20:43.852\nAnd that can be a problem if I just have\npointers to the certificates I don't\n\n413\n00:20:43.852 --> 00:20:45.577\nactually have the certificates anymore.\n\n414\n00:20:45.577 --> 00:20:49.139\nSo having a backup of the running config\ncan be more useful for this, for restoring\n\n415\n00:20:49.139 --> 00:20:53.210\na router, because it'll actually have the\ncertificates right there in the config.\n\n416\n00:20:53.210 --> 00:20:55.960\nLet me see if I can show you that real\nquick cuz I do wanna make sure you guys\n\n417\n00:20:55.960 --> 00:20:57.410\nhave a good understanding of that.\n\n418\n00:20:57.410 --> 00:21:02.523\nI'm just gonna terminate\nthe initial configuration dialog.\n\n419\n00:21:02.523 --> 00:21:03.790\nLet me just get through that.\n\n420\n00:21:03.790 --> 00:21:05.870\nAnd then I'll generate\na certificate real quick just so\n\n421\n00:21:05.870 --> 00:21:07.390\nyou guys can kind of see\nhow those get stored.\n\n422\n00:21:08.460 --> 00:21:12.640\nSo eventually it'll let me get through,\nwhen you say no to the wizard,\n\n423\n00:21:12.640 --> 00:21:15.740\nit's actually applying a default config\nanyway whether you want it or not.\n\n424\n00:21:15.740 --> 00:21:18.674\nSo it does take just a moment,\nthere we go.\n\n425\n00:21:18.674 --> 00:21:25.370\nAll right, so, whoops,\nthe easiest way to see this is if I run,\n\n426\n00:21:25.370 --> 00:21:29.595\nlet's do, #ip http secure-server.\n\n427\n00:21:29.595 --> 00:21:32.650\nSo, if I turn on this secure server,\nit has to have a certificate.\n\n428\n00:21:32.650 --> 00:21:34.700\nSo, it's gonna quickly generate one for\nme, right?\n\n429\n00:21:34.700 --> 00:21:37.370\nBut if you've turned on SSH,\nyou're gonna have that in there.\n\n430\n00:21:37.370 --> 00:21:39.260\nI just got the SSH-enabled prompt, right?\n\n431\n00:21:39.260 --> 00:21:41.050\nQuick and easy way to get that going.\n\n432\n00:21:41.050 --> 00:21:47.680\nWell, if I do a copy running-config\nstartup-config, right?\n\n433\n00:21:47.680 --> 00:21:49.170\nSo, I just backed up my configuration.\n\n434\n00:21:49.170 --> 00:21:52.750\nSo, running and startup should now\nbe identical, but they aren't.\n\n435\n00:21:52.750 --> 00:21:55.000\nI'm gonna keep getting\nthose config prompts.\n\n436\n00:21:55.000 --> 00:21:58.840\nLet me do a no service\nconfig to stop that.\n\n437\n00:21:58.840 --> 00:22:03.390\nAll right, if I do a show running-config,\n\n438\n00:22:03.390 --> 00:22:08.100\nwhen I run that, right here in the config,\nthere's the certificate, right?\n\n439\n00:22:08.100 --> 00:22:11.200\nThe actual certificate\nstored in the configuration.\n\n440\n00:22:11.200 --> 00:22:18.430\nBut if I do a show startup-config, and\nI run that, I don't have the certificate.\n\n441\n00:22:18.430 --> 00:22:23.364\nInstead what I have is,\nif you need the certificate,\n\n442\n00:22:23.364 --> 00:22:29.526\nit's stored right here in\nnvram:IOS-Self-Sig#2.cer, right?\n\n443\n00:22:29.526 --> 00:22:30.440\nWhat if I don't have that file?\n\n444\n00:22:30.440 --> 00:22:34.860\nIf I don't have that file I don't have\nthat certificate, and I've lost it, right?\n\n445\n00:22:34.860 --> 00:22:38.065\nSo this is another example where\nhaving the startup config is useful,\n\n446\n00:22:38.065 --> 00:22:39.816\nhaving the running config is useful.\n\n447\n00:22:39.816 --> 00:22:42.000\nHaving both is even better, right?\n\n448\n00:22:42.000 --> 00:22:43.430\nThat's gonna give me\neverything that I need.\n\n449\n00:22:44.690 --> 00:22:48.020\nAll right, so I wanna get this router\nput back to the way that it was.\n\n450\n00:22:48.020 --> 00:22:50.686\nI want it back up and put in place.\n\n451\n00:22:50.686 --> 00:22:54.675\nBut as it is now if I take a look at it,\nwell it did get a dhcp address on one\n\n452\n00:22:54.675 --> 00:22:58.195\ninterface cuz that's apparently\nthe default config here but\n\n453\n00:22:58.195 --> 00:23:00.240\nit is annoying me with a few things.\n\n454\n00:23:00.240 --> 00:23:02.850\nThese messages keep popping up,\nmy synchronous logging is gone,\n\n455\n00:23:02.850 --> 00:23:04.150\nmy host name is gone.\n\n456\n00:23:04.150 --> 00:23:10.966\nSo fortunately I can do\na copy ftp://admin:cisco123,\n\n457\n00:23:10.966 --> 00:23:13.825\nthat's my user account.\n\n458\n00:23:13.825 --> 00:23:20.894\n@10.1.230.21/r1-running.txt.\n\n459\n00:23:20.894 --> 00:23:23.629\nSo I'm gonna grab that running config\ncuz I know it's got the certificates and\n\n460\n00:23:23.629 --> 00:23:25.150\nall that other good stuff.\n\n461\n00:23:25.150 --> 00:23:29.170\nAnd I'm gonna send it to startup.config.\n\n462\n00:23:29.170 --> 00:23:33.280\nI'm gonna overwrite my startup\nconfig with the running fig.\n\n463\n00:23:33.280 --> 00:23:37.000\nNow if I'm worried about a merge,\ncuz a merge is still possible, and\n\n464\n00:23:37.000 --> 00:23:40.170\nI can't remember if I actually saved\nmy config at this point or not.\n\n465\n00:23:40.170 --> 00:23:44.360\nBut if I'm worried about a merge,\nthen I might wanna go ahead and\n\n466\n00:23:44.360 --> 00:23:45.850\nerase that start-up one more time.\n\n467\n00:23:45.850 --> 00:23:49.790\nI'm gonna say erase startup-config\njust to make sure that it is empty.\n\n468\n00:23:49.790 --> 00:23:52.130\nAnd I'm gonna let that continue.\n\n469\n00:23:52.130 --> 00:23:55.385\nSo now I know the start-up\nconfig is empty, so\n\n470\n00:23:55.385 --> 00:23:58.410\nwhen I copy it down, this is going to be.\n\n471\n00:23:58.410 --> 00:24:00.112\nShoot, I didn't save that command, did I?\n\n472\n00:24:00.112 --> 00:24:00.697\nThere.\n\n473\n00:24:00.697 --> 00:24:04.821\n[LAUGH] So I know that it's going\nto be a good clean startup config.\n\n474\n00:24:04.821 --> 00:24:06.369\nAnd so I can send that over.\n\n475\n00:24:06.369 --> 00:24:09.838\nIt's reaching out to the FTP server,\nit's downloading that config file, and\n\n476\n00:24:09.838 --> 00:24:12.590\nit's writing it into the start up config.\n\n477\n00:24:12.590 --> 00:24:15.960\nAnd now, all I have to do is well,\none of two things,\n\n478\n00:24:15.960 --> 00:24:18.870\nnormally I would reboot,\nreboot is what we wanna do.\n\n479\n00:24:18.870 --> 00:24:23.286\nBut you could say copy startup-config\n\n480\n00:24:23.286 --> 00:24:27.370\nrunning-config, this is the opposite\nof what we normally do.\n\n481\n00:24:27.370 --> 00:24:30.270\nNormally we're saving our running\nto startup, this is the opposite,\n\n482\n00:24:30.270 --> 00:24:31.980\nI could say copy the startup to running.\n\n483\n00:24:31.980 --> 00:24:35.960\nThis would merge it up into running but\nif I'm worried about that merge,\n\n484\n00:24:35.960 --> 00:24:36.810\nthat's not what I wanna do.\n\n485\n00:24:36.810 --> 00:24:42.793\nI just wanna reload, and\nwhen I reload, I'm gonna confirm that.\n\n486\n00:24:42.793 --> 00:24:47.449\nIt's got a nice, shiny startup config that\nI just recovered from my FTP server, and\n\n487\n00:24:47.449 --> 00:24:50.673\nthis router will be back to\nexactly how it was when I got it.\n\n488\n00:24:50.673 --> 00:24:53.429\nNow I know I talked a lot,\nas I tend to do, so\n\n489\n00:24:53.429 --> 00:24:56.350\nthis episode ended up being 30 minutes.\n\n490\n00:24:56.350 --> 00:25:00.630\nBut in real life land you can get a new\nrouter, plug your console into it,\n\n491\n00:25:00.630 --> 00:25:04.540\npower it on, copy the config from FTP and\nreload it and\n\n492\n00:25:04.540 --> 00:25:07.540\nhave it fully configured and ready to\ndeploy within a matter of minutes.\n\n493\n00:25:07.540 --> 00:25:10.450\nI mean the reload is what takes\nthe longest amount of time in this whole\n\n494\n00:25:10.450 --> 00:25:13.550\nprocess, the rest of it is super easy.\n\n495\n00:25:13.550 --> 00:25:14.990\nAnd once it's done you're\nback up in business.\n\n496\n00:25:14.990 --> 00:25:19.820\nSo it's kind of nice that I don't\ncare about this hardware at all.\n\n497\n00:25:19.820 --> 00:25:22.680\nI can swap the hard route\nat a moments notice and\n\n498\n00:25:22.680 --> 00:25:26.080\nthe whole config can be dropped\nin in just a matter of moments.\n\n499\n00:25:26.080 --> 00:25:29.365\nAnd here I used FTP for\neverything, I could've used SCP,\n\n500\n00:25:29.365 --> 00:25:30.935\nright, the secure copy protocol.\n\n501\n00:25:30.935 --> 00:25:35.575\nIt's actually the same exact syntax,\nyou just use SCP anywhere you used FTP and\n\n502\n00:25:35.575 --> 00:25:39.725\nthen you send it oer secure and encrypted\nif you got a server that supports SCP.\n\n503\n00:25:39.725 --> 00:25:43.722\nSo, you've got options, use the one\nthat fits best with your environment.\n\n504\n00:25:43.722 --> 00:25:46.292\nIf you have a dedicated management network\nyou might not care about the encryption\n\n505\n00:25:46.292 --> 00:25:48.772\nside of things, so FTP works really well.\n\n506\n00:25:48.772 --> 00:25:53.192\nTFTP does still work, that used to be\nwhat we always used in Cisco land but\n\n507\n00:25:53.192 --> 00:25:58.500\nthese days it's TFTP is far less common\nthan the other guys that are out there.\n\n508\n00:25:58.500 --> 00:25:59.950\nI kinda want to wait for\nthis guy to reboot,\n\n509\n00:25:59.950 --> 00:26:02.980\njust so we can see the whole config is\nactually recovered and back in place.\n\n510\n00:26:02.980 --> 00:26:04.740\nWhile we're waiting on that,\n\n511\n00:26:04.740 --> 00:26:08.570\nI'm trying to think if there's\nanything else worth mentioning here.\n\n512\n00:26:08.570 --> 00:26:10.230\nWe're gonna see these copy commands again,\n\n513\n00:26:10.230 --> 00:26:14.420\nwhen we talk about the iOS files,\ncuz when you want to upgrade your iOS or\n\n514\n00:26:14.420 --> 00:26:17.380\nback up the iOS,\nyou'll use these same copy commands.\n\n515\n00:26:17.380 --> 00:26:19.760\nYou'll use an FTP server,\njust like I'm doing here so\n\n516\n00:26:19.760 --> 00:26:23.230\nthat you can move that data back and\nforth, so that's a common thing.\n\n517\n00:26:23.230 --> 00:26:26.220\nI guess another thing worth mentioning\nis that the FTP password is stored in my\n\n518\n00:26:26.220 --> 00:26:30.890\nconfig, right, from when we did the IP,\nFTP user name, and so on.\n\n519\n00:26:30.890 --> 00:26:34.320\nSo you wanna make sure that you have your\nservice password encryption turned on.\n\n520\n00:26:34.320 --> 00:26:36.330\nIt's garbage encryption but\nit's better than nothing and\n\n521\n00:26:36.330 --> 00:26:40.580\nat least it will make sure that it gets\nthat type seven encryption in place.\n\n522\n00:26:40.580 --> 00:26:42.610\nAll right,\nlooks like my router just rebooted and so\n\n523\n00:26:42.610 --> 00:26:47.160\nsure enough I can see LAB-ROUTER01,\nright so it's got that.\n\n524\n00:26:47.160 --> 00:26:51.880\nAnd if I do a show running-config and\nwe start to take a look at the config,\n\n525\n00:26:51.880 --> 00:26:58.030\nI can see my time zone stuff was set,\nthere's my IP username and password that\n\n526\n00:26:58.030 --> 00:27:02.860\nwere stored in the config, and the other\ninformation all right along in there.\n\n527\n00:27:02.860 --> 00:27:07.320\nSo now I'm back up and\nI'm restored and, we're in business,\n\n528\n00:27:07.320 --> 00:27:10.220\nright, so up and\nrunning within a matter of moments.\n\n529\n00:27:10.220 --> 00:27:15.160\nReally easy way, far harder to do like\na Windows, a Linux server router switches,\n\n530\n00:27:15.160 --> 00:27:18.280\nfirewalls, simple config file and\nyou're done.\n\n531\n00:27:18.280 --> 00:27:19.950\n>> All right Don, well thank you again for\n\n532\n00:27:19.950 --> 00:27:22.770\nshowing us that idea of\nbacking up our configs.\n\n533\n00:27:22.770 --> 00:27:25.570\nRemember that what we also saw here\nis back up of the running config as\n\n534\n00:27:25.570 --> 00:27:30.310\nwell as the start up config and Don talked\nabout both and why they are necessary.\n\n535\n00:27:30.310 --> 00:27:33.890\nWe do have to actually bring a router\nback online even if one dies and\n\n536\n00:27:33.890 --> 00:27:35.310\nwe need to bring a new one in.\n\n537\n00:27:35.310 --> 00:27:37.400\nDon also showed us how we\ncan actually get that up and\n\n538\n00:27:37.400 --> 00:27:39.660\nrunning just within a few minutes as well.\n\n539\n00:27:39.660 --> 00:27:42.180\nTold us to also look for\nsome different pitfalls there too,\n\n540\n00:27:42.180 --> 00:27:46.280\nremember that there is a merge that\ncan happen, so you wanna be careful.\n\n541\n00:27:46.280 --> 00:27:49.070\nMake sure you review this episode and\ngo over that, and\n\n542\n00:27:49.070 --> 00:27:53.050\nunderstand what can happen if you actually\nend up copying something back into\n\n543\n00:27:53.050 --> 00:27:56.550\na running config, that it will\nend up merging the files again.\n\n544\n00:27:56.550 --> 00:27:59.770\nRemember how Don showed us how to\nmake sure that that doesn't happen,\n\n545\n00:27:59.770 --> 00:28:01.900\nthat's also key for us as well.\n\n546\n00:28:01.900 --> 00:28:05.820\nSo great things for us to be able to\nmanage and maintain our routers and\n\n547\n00:28:05.820 --> 00:28:09.940\nour switches by taking a look at this and\nworking with FTP in saving\n\n548\n00:28:09.940 --> 00:28:14.190\nthe configs somewhere else, instead\nof the actually router switch itself.\n\n549\n00:28:14.190 --> 00:28:17.790\nWell great place for us to end this\nepisode then, signing off for ITProTV,\n\n550\n00:28:17.790 --> 00:28:19.700\nI've been your host Ronnie Wong.\n\n551\n00:28:19.700 --> 00:28:20.570\n>> And I'm Don Pezet.\n\n552\n00:28:20.570 --> 00:28:25.302\n>> Stay tune right here for\nmore Cisco CCENT episodes.\n\n553\n00:28:25.302 --> 00:28:32.080\n[MUSIC]\n\n",
          "vimeoId": "177230181"
        },
        {
          "description": "In this episode, Ronnie and Don show us the basic device security that every cisco technician should know how to configure: using passwords, limiting access to ssh and using access-list to control access to the router.  The use of passwords is just the first step to implementing basic security, the guys tell us. They also talk about setting up username/password to provide authentication and password protection.  Don and Ronnie also discuss the importance of limiting access using SSH only and using an access-list to control access by source ip address.  They also mention that when applying the standard ACL to the VTY line you must use access-class apply.",
          "length": "2260",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-5-2-device_security-080216-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-5-2-device_security-080216-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-5-2-device_security-080216-1-sm.jpg",
          "title": "Device Security",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.200 --> 00:00:14.591\nWelcome to another great\nepisode here on ITProTV.\n\n3\n00:00:14.591 --> 00:00:20.110\nI'm your host Ronnie Wong, and today\nyou're actually the Cisco CCENT show.\n\n4\n00:00:20.110 --> 00:00:23.020\nWe're actually continuing on with a little\nbit of the other things that we do\n\n5\n00:00:23.020 --> 00:00:25.780\nbesides just getting routers and\nswitches ready to work, and\n\n6\n00:00:25.780 --> 00:00:28.630\nnow we're delving into\nthe realm of device security.\n\n7\n00:00:28.630 --> 00:00:30.810\nAnd who better to help us\nout than Mr Don Pezet.\n\n8\n00:00:30.810 --> 00:00:31.700\nDon, welcome back.\n\n9\n00:00:31.700 --> 00:00:32.990\n>> Thanks for having me back Ronnie.\n\n10\n00:00:32.990 --> 00:00:34.790\nWe've been doing some\ninfrastructure management,\n\n11\n00:00:34.790 --> 00:00:38.700\nsome additional features that we can turn\non inside of our routers and switches.\n\n12\n00:00:38.700 --> 00:00:40.030\nAnd we're just gonna carry on with that.\n\n13\n00:00:40.030 --> 00:00:41.830\nWe're gonna do a little\nbit of security now.\n\n14\n00:00:41.830 --> 00:00:44.388\nLet me just say right here at\nthe beginning of the episode\n\n15\n00:00:44.388 --> 00:00:47.329\nthat if you really want to see\nthe exciting stuff with security,\n\n16\n00:00:47.329 --> 00:00:50.878\nyou should definitely check out the CCNA\nsecurity show because we go in deep.\n\n17\n00:00:50.878 --> 00:00:54.561\nBut at the CCNT level they want us to at\nleast know some of the basics to secure\n\n18\n00:00:54.561 --> 00:00:57.489\nour devices better, or\nbetter then they are out of the box.\n\n19\n00:00:57.489 --> 00:01:01.647\nNow out of the box there's actually very\nlittle security enabled on a router at\n\n20\n00:01:01.647 --> 00:01:02.810\nall, right.\n\n21\n00:01:02.810 --> 00:01:04.900\nLet me show you here with\nthe one that I've got.\n\n22\n00:01:04.900 --> 00:01:08.150\nThis is the same router we used\nin the previous episodes for\n\n23\n00:01:08.150 --> 00:01:10.640\nbacking up the config or whatever.\n\n24\n00:01:10.640 --> 00:01:14.630\nSo it's a fairly stock configuration.\n\n25\n00:01:14.630 --> 00:01:18.010\nI'm plugged into the console port,\nand I press Enter, and\n\n26\n00:01:18.010 --> 00:01:22.992\nI get my unprivileged user mode prompt,\nmy exact prompt, right.\n\n27\n00:01:22.992 --> 00:01:23.840\nAnd if I enable,\n\n28\n00:01:23.840 --> 00:01:28.130\nI can get right into my privilege mode\nprompt with no password whatsoever, right.\n\n29\n00:01:28.130 --> 00:01:31.830\nSo no password needed to jump right into\nthis router and get to work and start\n\n30\n00:01:31.830 --> 00:01:35.160\nmaking changes and doing all the things\nthat we probably don't want people doing.\n\n31\n00:01:35.160 --> 00:01:39.050\nWell, at a minimum,\nwhen you do apply a password.\n\n32\n00:01:39.050 --> 00:01:41.660\nAnd we've talked about passwords in\nprevious episodes so I'm going to move\n\n33\n00:01:41.660 --> 00:01:45.950\nthrough this kind of quickly cuz I don't\nwant to double up on the content here.\n\n34\n00:01:45.950 --> 00:01:47.680\nBut setting a password is important.\n\n35\n00:01:47.680 --> 00:01:50.610\nAnd there's two forums of password\nsettings, that we have our\n\n36\n00:01:50.610 --> 00:01:53.810\nbasic local authentication then we have\nsomethings that's a little more advanced.\n\n37\n00:01:53.810 --> 00:01:56.460\nAnd so\nlet's just kind of review that real quick.\n\n38\n00:01:56.460 --> 00:02:00.970\nFirst off, if I just want to have\nsome basic passwords on my system,\n\n39\n00:02:00.970 --> 00:02:05.260\nright, I know that on the enable prompt,\non the privileged mode prompt,\n\n40\n00:02:05.260 --> 00:02:07.140\nI need to have a password there.\n\n41\n00:02:07.140 --> 00:02:11.480\nAnd we've got the enable password\ncommand where you can come in and\n\n42\n00:02:11.480 --> 00:02:14.370\npunch in a password like cisco123 and\noff you go.\n\n43\n00:02:14.370 --> 00:02:17.920\nBut that's stored unencrypted\nin our configuration, right.\n\n44\n00:02:17.920 --> 00:02:23.003\nSo if do that and I store it and\nI do a show running-config.\n\n45\n00:02:23.003 --> 00:02:27.493\nAnd I'm gonna filter that to include\nlines with the word password,\n\n46\n00:02:27.493 --> 00:02:32.480\nthat I can look into config and there\nit is stored right there in plain text.\n\n47\n00:02:32.480 --> 00:02:37.970\nIn fact you can see the FTP password\nthat I stored in the earlier episode.\n\n48\n00:02:37.970 --> 00:02:39.960\nIt's kinda right there,\nit's in plain text also.\n\n49\n00:02:39.960 --> 00:02:42.670\nThat's a problem with those passwords,\nright.\n\n50\n00:02:42.670 --> 00:02:47.310\nSo we know that we've got service\npassword encryption that we can turn on.\n\n51\n00:02:47.310 --> 00:02:50.180\nAnd when you turn that on that's gonna\ntell it to encrypt the passwords in\n\n52\n00:02:50.180 --> 00:02:50.740\nthe config but\n\n53\n00:02:50.740 --> 00:02:55.470\nit does it with that old Cisco type\n7 encryption which is reversible.\n\n54\n00:02:55.470 --> 00:02:59.220\nYou can go out on the Internet, it'll take\nyou less than a minute of Google searching\n\n55\n00:02:59.220 --> 00:03:01.150\nto find a way to reverse that one.\n\n56\n00:03:01.150 --> 00:03:02.370\nAnd so even though,\n\n57\n00:03:02.370 --> 00:03:07.370\nlooking at my config, those passwords are\nnow encrypted, it's not terribly secure.\n\n58\n00:03:07.370 --> 00:03:08.650\nThat's gonna stop a shoulder surfer.\n\n59\n00:03:08.650 --> 00:03:10.620\nIt's gonna stop somebody from\nlooking over my shoulder.\n\n60\n00:03:10.620 --> 00:03:13.110\nBut it's not going to\nreally protect my system.\n\n61\n00:03:13.110 --> 00:03:17.845\nSo what I really need to do is\nget rid of that password, and\n\n62\n00:03:17.845 --> 00:03:21.830\ninstead do an enable secret, like that.\n\n63\n00:03:21.830 --> 00:03:26.260\nSo when we do a secret, it's gonna\nmake sure that it's MD5 hashed, right.\n\n64\n00:03:26.260 --> 00:03:29.590\nSo it's not just a Cisco type 7 password,\n\n65\n00:03:29.590 --> 00:03:35.390\nthat instead it's gonna have that basic\nlevel of non-reversible encryption or\n\n66\n00:03:35.390 --> 00:03:38.760\nhashing applied to it and\nnow it's much more secure, right.\n\n67\n00:03:38.760 --> 00:03:40.970\nEven better,\nif somebody walks up to my system and\n\n68\n00:03:40.970 --> 00:03:45.870\nplugs into the console, right, so\nthey get the press Return to get started.\n\n69\n00:03:45.870 --> 00:03:48.030\nThey get to an unprivileged prompt, right.\n\n70\n00:03:48.030 --> 00:03:49.660\nSo now they're in, aren't they?\n\n71\n00:03:49.660 --> 00:03:51.200\nWell, they can't really do much.\n\n72\n00:03:51.200 --> 00:03:54.660\nIf they try to get into configuration,\nthat command doesn't work unprivileged.\n\n73\n00:03:54.660 --> 00:03:57.380\nBut if they enable,\nnow they have to provide that password.\n\n74\n00:03:57.380 --> 00:04:00.890\nSo now we have a just\na basic level of security.\n\n75\n00:04:00.890 --> 00:04:05.120\nNow if we want to apply that basic level\nof security to our console interface,\n\n76\n00:04:05.120 --> 00:04:07.230\ninto our VTY lines like for Tellnet or\n\n77\n00:04:07.230 --> 00:04:10.790\nSSH, I do need to go a little\nstep further, right.\n\n78\n00:04:10.790 --> 00:04:12.560\nThat if I get into my configuration,\n\n79\n00:04:12.560 --> 00:04:18.780\nI can get into line console 0 where\nI can issue the login command, right.\n\n80\n00:04:18.780 --> 00:04:21.930\nNow, notice the login command is telling\nme login is disabled on line 0 until\n\n81\n00:04:21.930 --> 00:04:23.290\na password is set.\n\n82\n00:04:23.290 --> 00:04:27.070\nAnd so if you do password you'll see\nwhere you can assign a password.\n\n83\n00:04:27.070 --> 00:04:30.644\nBut it still a type 7 or\nan unencrypted password.\n\n84\n00:04:30.644 --> 00:04:34.594\nSo it is not the greatest in the world,\nbut at least it is a password and\n\n85\n00:04:34.594 --> 00:04:37.660\nnow I can require a login on my console.\n\n86\n00:04:37.660 --> 00:04:39.910\nOn the VTY lines they're\na little different.\n\n87\n00:04:39.910 --> 00:04:44.290\nIf I switch over to my VTYs I can say,\nlog in.\n\n88\n00:04:44.290 --> 00:04:48.180\nAnd it's actually doing the same, talking\nabout that password, kind of complaining.\n\n89\n00:04:48.180 --> 00:04:51.505\nAnd so I can come in and I can punch\nin that cisco123 password again,\n\n90\n00:04:51.505 --> 00:04:55.550\nre-issue log in, and now it's going\nto require login on the V2Is.\n\n91\n00:04:55.550 --> 00:04:59.510\nNow, the V2I, it's kind of funny,\neven if I didn't issue the login command\n\n92\n00:04:59.510 --> 00:05:03.160\nit actually won't let you telnet\nin unless a password is set.\n\n93\n00:05:03.160 --> 00:05:06.240\nSo if somebody had tried to telnet in,\nit wouldn't have worked,\n\n94\n00:05:06.240 --> 00:05:07.770\neven without a password.\n\n95\n00:05:07.770 --> 00:05:09.150\nThe console, on the other hand, does.\n\n96\n00:05:09.150 --> 00:05:11.509\nSo that's why it's so important that\nwe assign passwords to these things.\n\n97\n00:05:13.080 --> 00:05:17.470\nNow if I were to come in here and,\nlet me just, well I don't need to save for\n\n98\n00:05:17.470 --> 00:05:20.120\nthis one, I'll just get out of my console.\n\n99\n00:05:20.120 --> 00:05:24.100\nAnd when I come back in, see how it\nimmediately asks me for a password?\n\n100\n00:05:24.100 --> 00:05:26.630\nIt didn't take me to\nthe unprivileged prompt.\n\n101\n00:05:26.630 --> 00:05:31.240\nI need to punch in the old cisco123,\nand now I'm at the unprivileged prompt.\n\n102\n00:05:31.240 --> 00:05:34.490\nAnd I can enable and\npunch in that password, and\n\n103\n00:05:34.490 --> 00:05:35.910\nnow I'm in the privilege prompt.\n\n104\n00:05:35.910 --> 00:05:37.210\nAnd they can be different passwords,\n\n105\n00:05:37.210 --> 00:05:40.410\nyou might have one that you share with\nthe help desk and one that you don't, but\n\n106\n00:05:40.410 --> 00:05:41.815\nyou just need to have those passwords set.\n\n107\n00:05:41.815 --> 00:05:45.420\nNow there's a couple of negatives with\nthis method, we've seen some, right.\n\n108\n00:05:45.420 --> 00:05:47.340\nThe passwords are somewhat\nweakly encrypted.\n\n109\n00:05:48.540 --> 00:05:52.680\nIf I do a show running-config and\nI start to look at my configuration.\n\n110\n00:05:52.680 --> 00:05:56.352\nThe enable secret, that one's nice and\nencrypted, I'm safe there, right.\n\n111\n00:05:56.352 --> 00:05:59.786\nBut if I go down all\nthe way to the VTYs and\n\n112\n00:05:59.786 --> 00:06:03.780\nthe console, these guys are stored weakly.\n\n113\n00:06:03.780 --> 00:06:06.070\nAnd how can I get around that?\n\n114\n00:06:06.070 --> 00:06:09.180\nI didn't have a secret command I\ncould issue on those interfaces.\n\n115\n00:06:09.180 --> 00:06:13.480\nWell the trick here is to not\nuse these passwords at all.\n\n116\n00:06:13.480 --> 00:06:16.170\nAnd instead move away from\nbasic local authentication and\n\n117\n00:06:16.170 --> 00:06:18.710\ngo to something a little more advanced,\nlike Triple A.\n\n118\n00:06:18.710 --> 00:06:21.160\nAnd I know we talked about Triple A in\nanother episode, at least briefly,\n\n119\n00:06:21.160 --> 00:06:23.060\ntoo because it's part of SSH.\n\n120\n00:06:23.060 --> 00:06:24.130\nWhat Triple A does is it says,\n\n121\n00:06:24.130 --> 00:06:28.400\nwe're not just gonna use a password,\nwe're gonna use a username and a password.\n\n122\n00:06:28.400 --> 00:06:29.850\nWe're gonna use both.\n\n123\n00:06:29.850 --> 00:06:32.630\nAnd that's really important because\nit's gonna give us that extra level\n\n124\n00:06:32.630 --> 00:06:33.640\nauthentication.\n\n125\n00:06:33.640 --> 00:06:37.127\nAnd when we use a username and\npassword, we can do MD5 hashes for it,\n\n126\n00:06:37.127 --> 00:06:41.070\neven on the console or\nthe V2I lines if we want to, all right.\n\n127\n00:06:41.070 --> 00:06:43.800\nIt's not the default, but\nwe certainly can do it.\n\n128\n00:06:43.800 --> 00:06:45.180\nNow, I say it's not the default.\n\n129\n00:06:45.180 --> 00:06:46.430\nHow do I know that?\n\n130\n00:06:46.430 --> 00:06:48.840\nWhen you look in\nthe running configuration,\n\n131\n00:06:48.840 --> 00:06:53.290\nthere's a line in there if you hunt for\nit that has Triple A in it.\n\n132\n00:06:53.290 --> 00:06:56.360\nAnd it will say no\nTriple A new dash model.\n\n133\n00:06:56.360 --> 00:06:59.010\nSo that's telling us we're in\nthe old model of Triple A,\n\n134\n00:06:59.010 --> 00:07:01.040\nthat means we're just doing passwords.\n\n135\n00:07:01.040 --> 00:07:03.529\nThe new model uses a username and\npassword, right.\n\n136\n00:07:03.529 --> 00:07:07.666\nThe new model, and remember Triple A,\nit's authentication,\n\n137\n00:07:07.666 --> 00:07:10.530\nauthorization, and accounting.\n\n138\n00:07:10.530 --> 00:07:14.190\nAuthentication, proving that\nyou are who you say you are.\n\n139\n00:07:14.190 --> 00:07:17.220\nAuthorization, once we know who you\nare what are you authorized to do,\n\n140\n00:07:17.220 --> 00:07:19.200\nwhat permissions do you have?\n\n141\n00:07:19.200 --> 00:07:20.710\nAnd then accounting, all right.\n\n142\n00:07:20.710 --> 00:07:23.530\nNow that you're in and\nwe know what you can do, what did you do?\n\n143\n00:07:23.530 --> 00:07:25.340\nLet's keep a record of what you did.\n\n144\n00:07:25.340 --> 00:07:29.770\nThese are the three pieces of\ngood security on a Cisco device.\n\n145\n00:07:29.770 --> 00:07:32.660\nAnd so in the old model,\nyou really don't have much of that at all,\n\n146\n00:07:32.660 --> 00:07:34.770\nyou just have a password and\nthat's it, right.\n\n147\n00:07:34.770 --> 00:07:39.364\nWe don't have any accounting, and really\nwe don't have true authorization because\n\n148\n00:07:39.364 --> 00:07:42.697\nyou just enable and\nnow you've got your full access, right.\n\n149\n00:07:42.697 --> 00:07:46.866\nSo we can switch that by\nsaying Triple A new-model and\n\n150\n00:07:46.866 --> 00:07:51.380\nnow we're the new model which\ngives us a lot more power.\n\n151\n00:07:51.380 --> 00:07:52.945\nWe just have to make sure that\nwe create a user account.\n\n152\n00:07:52.945 --> 00:07:56.806\nSo I am going to come in here and\nsay username admin, I'm gonna create that\n\n153\n00:07:56.806 --> 00:08:00.608\nadmin account, and I am going to set\nmy privilege level And remember with\n\n154\n00:08:00.608 --> 00:08:05.130\nprivilege levels, this exam there's only\ntwo you have to worry about, 0 and 15.\n\n155\n00:08:05.130 --> 00:08:09.330\n0 is the unprivileged user,\nthe lowest level of permissions, and\n\n156\n00:08:09.330 --> 00:08:14.560\nthen 15 is a privileged user, somebody\nwho has full access to the system.\n\n157\n00:08:14.560 --> 00:08:17.970\n1 through 14 don't technically exist,\nthey're nothing, so\n\n158\n00:08:17.970 --> 00:08:20.400\nif we assign one through 14,\nwe don't really achieve anything.\n\n159\n00:08:20.400 --> 00:08:23.470\nIf you go on to do CCNA security, you'll\nlearn how you can set those up to create\n\n160\n00:08:23.470 --> 00:08:25.070\ncustom permissions to\ndo whatever you want.\n\n161\n00:08:25.070 --> 00:08:27.920\nBut I'm gonna make this one\nan administrator, so I'll do privilege 15.\n\n162\n00:08:27.920 --> 00:08:33.120\nAnd then I'm gonna say secrets,\nand assign that password cisco123.\n\n163\n00:08:34.150 --> 00:08:37.940\nSo now I've got a username and\na password, and because I did a secret,\n\n164\n00:08:37.940 --> 00:08:44.790\nIf I take a look at my running*config and\nI hunt down that user account.\n\n165\n00:08:44.790 --> 00:08:49.000\nSo I'm just gonna hunt down any line\nthat has user in it, there it is.\n\n166\n00:08:49.000 --> 00:08:52.550\nAnd I can see that password has\nbeen hashed and stored securely.\n\n167\n00:08:53.840 --> 00:08:57.920\nBut I still have those other usernames and\npasswords that are laying around, so\n\n168\n00:08:57.920 --> 00:09:00.460\non my VTYs and my console,\nI still have those things.\n\n169\n00:09:00.460 --> 00:09:01.800\nIs that a problem?\n\n170\n00:09:02.990 --> 00:09:06.290\nIt can be, in theory I'm in the new model,\nso it's always gonna ask for\n\n171\n00:09:06.290 --> 00:09:07.230\na user name and a password.\n\n172\n00:09:07.230 --> 00:09:10.030\nSo there's other passwords\nthat were laying around\n\n173\n00:09:10.030 --> 00:09:12.960\nthat don't really do anything anymore,\nthey're not actually used.\n\n174\n00:09:12.960 --> 00:09:17.020\nIn fact, if I were to go to line con 0 and\nissued the login command,\n\n175\n00:09:17.020 --> 00:09:19.460\nsee how it says incomplete command?\n\n176\n00:09:19.460 --> 00:09:23.790\nThat worked before under the old model,\nit doesn't work on the new model.\n\n177\n00:09:23.790 --> 00:09:26.710\nSo that means the password command I\nput on this console is actually not\n\n178\n00:09:26.710 --> 00:09:29.640\nbeing used anymore and\nsame thing for the vty.\n\n179\n00:09:29.640 --> 00:09:34.470\nIf I go to the vty zero four and\nI issue login, same thing.\n\n180\n00:09:34.470 --> 00:09:38.930\nSo those old passwords I put in,\nyeah they're encrypted weekly and\n\n181\n00:09:38.930 --> 00:09:40.250\nthey're stored there but\nit doesn't matter,\n\n182\n00:09:40.250 --> 00:09:43.200\nthey're not being used anymore,\nor does it?\n\n183\n00:09:43.200 --> 00:09:46.220\nIf I leave them there,\nsomebody could decrypt them and\n\n184\n00:09:46.220 --> 00:09:50.350\nlook at them, and maybe I re-used\nthat password somewhere else.\n\n185\n00:09:50.350 --> 00:09:52.730\nSo, now that they're not needed,\nI need to get rid of those.\n\n186\n00:09:52.730 --> 00:09:57.380\nSo in my vty lines here,\nI'm just gonna do no password, and\n\n187\n00:09:57.380 --> 00:10:01.720\nthen in my console I'll do the same thing.\n\n188\n00:10:01.720 --> 00:10:03.140\nI'm just going to get\nrid of those passwords.\n\n189\n00:10:03.140 --> 00:10:05.330\nThey're not being used\nanyway at this point.\n\n190\n00:10:05.330 --> 00:10:07.360\nOnce you're in the new model these\npasswords are no longer being used, so\n\n191\n00:10:07.360 --> 00:10:08.920\nyou might as well just\nget them out of there and\n\n192\n00:10:08.920 --> 00:10:13.200\nthere's one less thing to be stored and\nsitting around.\n\n193\n00:10:13.200 --> 00:10:15.180\n>> Now, Don,\nsince we're talking about passwords,\n\n194\n00:10:15.180 --> 00:10:18.720\nwe know that today that password weakness,\nif you look anywhere on the Internet,\n\n195\n00:10:18.720 --> 00:10:21.590\nit tells you that people\nre-use passwords all the time.\n\n196\n00:10:21.590 --> 00:10:25.320\nAnd they have it as less\ncomplexity than they need to.\n\n197\n00:10:25.320 --> 00:10:28.490\nIs there a way on the Cisco router that\nwe can change of the stuff like that,\n\n198\n00:10:28.490 --> 00:10:31.570\nlike the password age or\neven requiring some complexity?\n\n199\n00:10:31.570 --> 00:10:32.640\n>> Yeah, so Ronnie,\n\n200\n00:10:32.640 --> 00:10:35.680\nby default there really isn't any\nkind of restriction on these things.\n\n201\n00:10:35.680 --> 00:10:38.980\nAnd So you can set your\npassword whatever you want.\n\n202\n00:10:38.980 --> 00:10:43.850\nIf I drop in here and I say username\nadmin, privilege 15, secret 1, right?\n\n203\n00:10:46.090 --> 00:10:48.790\nWell, I picked a bad example.\n\n204\n00:10:48.790 --> 00:10:50.260\nI just have an A there.\n\n205\n00:10:50.260 --> 00:10:51.530\nAll right.\n\n206\n00:10:51.530 --> 00:10:54.650\nWhen I did 1, it's assuming that I'm\nabout to apply an encrypted password.\n\n207\n00:10:54.650 --> 00:10:56.680\nAnd 1 is the encryption scheme.\n\n208\n00:10:56.680 --> 00:10:59.610\nLike 7, or 5, so that's why 1 didn't work.\n\n209\n00:10:59.610 --> 00:11:00.590\nBut I just did a.\n\n210\n00:11:00.590 --> 00:11:02.470\nSo a lowercase a, that's my password now.\n\n211\n00:11:02.470 --> 00:11:03.460\nAnd that's it.\n\n212\n00:11:03.460 --> 00:11:05.480\nSo it really doesn't\nenforce any complexity.\n\n213\n00:11:05.480 --> 00:11:08.760\nAnd there's not a whole lot\nof options in here for us.\n\n214\n00:11:08.760 --> 00:11:11.900\nSo, for\nexample I can set a minimum length.\n\n215\n00:11:11.900 --> 00:11:18.430\nI can come in and say like security\npasswords minimum dash length.\n\n216\n00:11:19.470 --> 00:11:20.790\nAnd right there define hey,\n\n217\n00:11:20.790 --> 00:11:24.430\nif you're going to have a password its\ngot to be at least five characters long.\n\n218\n00:11:24.430 --> 00:11:26.290\nAnd so now,\nevery time I create a user account,\n\n219\n00:11:26.290 --> 00:11:28.460\nit's gonna have to be at\nleast five characters long.\n\n220\n00:11:28.460 --> 00:11:33.280\nBut that's about it,\nthere's not a ton in here as far as that.\n\n221\n00:11:33.280 --> 00:11:35.580\nNow when we do ASAs on the firewalls,\n\n222\n00:11:35.580 --> 00:11:40.010\nthey have a ton of different commands\nyou can issue for complexity and so on.\n\n223\n00:11:40.010 --> 00:11:41.000\nAnd we don't really see it here.\n\n224\n00:11:41.000 --> 00:11:43.810\nAnd the reason is if you're\ngonna go through this length\n\n225\n00:11:43.810 --> 00:11:47.750\nto manage the passwords, well somebody\nwould be have to be able to log in and\n\n226\n00:11:47.750 --> 00:11:49.870\nmodify a user account\nto change the password.\n\n227\n00:11:49.870 --> 00:11:51.390\nSo that means they had\nalready had to be an admin,\n\n228\n00:11:51.390 --> 00:11:53.450\nwhich means they could\ndisable any policies.\n\n229\n00:11:53.450 --> 00:11:55.150\nAnd policies aren't terribly effective.\n\n230\n00:11:55.150 --> 00:11:58.870\nSo, what you normally do is use\na special part of triple A.\n\n231\n00:11:58.870 --> 00:12:01.970\nWith triple A,\nthe default is authenticating as this\n\n232\n00:12:01.970 --> 00:12:04.990\nlocal user database\nright here on my router.\n\n233\n00:12:04.990 --> 00:12:08.680\nBut I can configure triple A to\nauthenticate against radius or\n\n234\n00:12:08.680 --> 00:12:09.860\ntack x servers.\n\n235\n00:12:09.860 --> 00:12:13.450\nYou can actually set it up to authenticate\nagainst a Microsoft Active Directory.\n\n236\n00:12:13.450 --> 00:12:16.290\nAnd so in the Microsoft Active Directory\nyou could have user accounts with password\n\n237\n00:12:16.290 --> 00:12:19.780\nexpiration policies and minimum\npassword links and reused policies and\n\n238\n00:12:19.780 --> 00:12:21.570\nall that other stuff, and\n\n239\n00:12:21.570 --> 00:12:24.610\nwhen a user logs into the router they\nlog in with their windows account.\n\n240\n00:12:24.610 --> 00:12:26.260\nOr they log in with their\nOpenLDAP account or\n\n241\n00:12:26.260 --> 00:12:28.740\nwhatever RADIUS server\nthey're connected to.\n\n242\n00:12:28.740 --> 00:12:32.140\nI worked for a bank and when we logged in,\nwe logged in with a username and\n\n243\n00:12:32.140 --> 00:12:35.600\nthen our password was generated by\none of those RSA SecurID tokens.\n\n244\n00:12:35.600 --> 00:12:38.420\nSo I'd have to put in my token\nplus a PIN number to log in.\n\n245\n00:12:38.420 --> 00:12:41.130\nAnd so my password was always\ndifferent when I logged in.\n\n246\n00:12:41.130 --> 00:12:44.840\nThat stuff is really powerful,\nAAA can do all of that.\n\n247\n00:12:44.840 --> 00:12:46.950\nAnd for those of you that go\non to the CCNA security show,\n\n248\n00:12:46.950 --> 00:12:48.710\nwe cover setting some of that up in there.\n\n249\n00:12:48.710 --> 00:12:53.570\nBut at this level, really, we're somewhat\nlimited to just that minimum password\n\n250\n00:12:53.570 --> 00:12:54.970\nlength and getting that set.\n\n251\n00:12:54.970 --> 00:12:58.490\nSo just a couple different things we can\ndo to kinda tweak that, a little bit.\n\n252\n00:12:58.490 --> 00:13:02.220\nNow there's a few other things that we can\ndo here to help increase the security on\n\n253\n00:13:02.220 --> 00:13:03.050\nour router.\n\n254\n00:13:03.050 --> 00:13:07.900\nFor example, when I get this set up,\nlet's see, is SSH running?\n\n255\n00:13:07.900 --> 00:13:09.710\nDo a quick double-check and see.\n\n256\n00:13:09.710 --> 00:13:13.640\nAll right, so right now on my system,\nSSH is disabled.\n\n257\n00:13:13.640 --> 00:13:17.510\nAnd if I wanna turn on SSH,\nI know in the initial set-up episode,\n\n258\n00:13:17.510 --> 00:13:21.390\nI went through this whole process\nof generating a router name and\n\n259\n00:13:21.390 --> 00:13:25.750\na domain name and\na custom certificate and all that stuff.\n\n260\n00:13:25.750 --> 00:13:29.460\nIf you ever wanna get SSH turned on\njust quick and dirty The easiest way\n\n261\n00:13:29.460 --> 00:13:33.880\nis to come in and say http or\n\n262\n00:13:33.880 --> 00:13:37.890\nip http secure-server.\n\n263\n00:13:37.890 --> 00:13:42.490\nThat's going to turn on the secure web\nserver which needs and SSL certificate so\n\n264\n00:13:42.490 --> 00:13:44.430\nits actually going to\ngenerate a self signed one.\n\n265\n00:13:44.430 --> 00:13:46.740\nAnd at the same time, see what it did.\n\n266\n00:13:46.740 --> 00:13:47.640\nIt turns on SSH.\n\n267\n00:13:47.640 --> 00:13:49.410\nIt actually meets all of\nthe minimum requirements.\n\n268\n00:13:49.410 --> 00:13:51.090\nIt's not the greatest thing in the world,\nright.\n\n269\n00:13:51.090 --> 00:13:53.700\nThe certificate is the bare minimum and\nit is auto generated.\n\n270\n00:13:53.700 --> 00:13:56.960\nSo there's a couple of prediction attacks\nthat can be pulled off across that.\n\n271\n00:13:56.960 --> 00:13:59.410\nBut if you ever just need\nto quickly get SSH up and\n\n272\n00:13:59.410 --> 00:14:01.590\nrunning, that's a good way to do it.\n\n273\n00:14:01.590 --> 00:14:03.480\nAnd you can always turn\nright back around and\n\n274\n00:14:03.480 --> 00:14:07.980\nturn that server off again, but\nSSH is still up and running.\n\n275\n00:14:09.080 --> 00:14:10.630\nAnd we're in business there.\n\n276\n00:14:10.630 --> 00:14:13.610\nSo I've got SSH up and going,\nwe're good to go there.\n\n277\n00:14:13.610 --> 00:14:16.770\nSo now I can start remotely\nconnecting into the system.\n\n278\n00:14:16.770 --> 00:14:19.770\nNow, as soon as turn on SSH,\n\n279\n00:14:19.770 --> 00:14:24.080\nthe router is now listening to SSH\nconnections on all of its interfaces.\n\n280\n00:14:24.080 --> 00:14:28.120\nAnd anybody from anywhere can try and\nconnect and get in.\n\n281\n00:14:28.120 --> 00:14:32.060\nWith SSH, I don't really worry about that\nso much, because well, they have to have\n\n282\n00:14:32.060 --> 00:14:34.370\na username and a password and\nall that other good stuff, right?\n\n283\n00:14:34.370 --> 00:14:39.360\nSo if we come in And somebody tries to SSH\n\n284\n00:14:39.360 --> 00:14:43.910\ninto that router, well, they're gonna\nhave to have a username and a password.\n\n285\n00:14:43.910 --> 00:14:46.890\nAnd even if they know the username, they'd\nhave to try and brute-force the password.\n\n286\n00:14:46.890 --> 00:14:51.880\nAnd actually, I've forgotten\nthe IP address to that router.\n\n287\n00:14:51.880 --> 00:14:56.570\nSo let me pull that up real quick,\nwith a show ip interface brief.\n\n288\n00:14:56.570 --> 00:14:58.010\nAnd it is 10.1.230.135.\n\n289\n00:14:58.010 --> 00:15:00.329\nSo I'm gonna try and\nconnect into that one.\n\n290\n00:15:01.550 --> 00:15:03.790\nAnd I'll just do ssh admin@10.1.230.135.\n\n291\n00:15:03.790 --> 00:15:10.060\nAnd when I connect in, I should be able to\nlog in with that username and password.\n\n292\n00:15:10.060 --> 00:15:13.810\nNow, it's showing me\nthe SHA256 fingerprint\n\n293\n00:15:13.810 --> 00:15:15.010\nthat I'm getting from that system.\n\n294\n00:15:15.010 --> 00:15:18.890\nAnd asking me,\nis that actually who I think it is.\n\n295\n00:15:18.890 --> 00:15:20.980\nAll right, I'm gonna blindly say yes.\n\n296\n00:15:20.980 --> 00:15:22.310\nNow How do I know that?\n\n297\n00:15:22.310 --> 00:15:26.510\nWell, what I should do is I should look\nat this fingerprint right here and\n\n298\n00:15:26.510 --> 00:15:29.110\nkind of keep track of what that is.\n\n299\n00:15:29.110 --> 00:15:34.290\nAnd then on the router itself\nthey show me that fingerprint so\n\n300\n00:15:34.290 --> 00:15:37.640\nthat I can look at right here and\nsee and match that up.\n\n301\n00:15:37.640 --> 00:15:39.510\nAnd I'm not good at\nmemorizing these numbers so\n\n302\n00:15:39.510 --> 00:15:40.990\nI'm gonna just leave it be there.\n\n303\n00:15:40.990 --> 00:15:43.820\nBut that's how you match it up and\nyou make sure that it is actually\n\n304\n00:15:43.820 --> 00:15:45.310\nthe person that you think\nyou're connecting to.\n\n305\n00:15:45.310 --> 00:15:50.500\nAll right, but once I'm in it's now gonna\nask me to provide that password and\n\n306\n00:15:50.500 --> 00:15:51.230\nnow I'm connected.\n\n307\n00:15:51.230 --> 00:15:53.990\nAll right, so I had to know username and\nthe password to get there.\n\n308\n00:15:53.990 --> 00:15:56.479\nBut if I know those I can get in.\n\n309\n00:15:56.479 --> 00:15:57.282\nAll right.\n\n310\n00:15:57.282 --> 00:16:02.161\nNow when I connect,\nIf I do a show users I can see where I'm\n\n311\n00:16:02.161 --> 00:16:06.330\nconnected on the VTY and\nI am logged in as admin and\n\n312\n00:16:06.330 --> 00:16:11.170\nI am coming from my laptop, 10.1.230.21.\n\n313\n00:16:11.170 --> 00:16:15.240\nNow, that means that every time someone\nconnects I build a TCP session with\n\n314\n00:16:15.240 --> 00:16:18.711\nthem so I've got to know their\nIP address to talk to them.\n\n315\n00:16:18.711 --> 00:16:21.660\nAnd that means we could actually\napply access control lists,\n\n316\n00:16:21.660 --> 00:16:25.080\nACLs, to filter who's\nallowed to even connect.\n\n317\n00:16:25.080 --> 00:16:30.110\nThat's important, because even with SSH\nturned on, telnet is still enabled.\n\n318\n00:16:30.110 --> 00:16:33.450\nAnd unless we manually go in and\nturn telnet off, it's still running.\n\n319\n00:16:33.450 --> 00:16:36.170\nSo, if I drop back to my console and\n\n320\n00:16:36.170 --> 00:16:42.070\nI try to telnet to 10.1.230.135,\ntelnet's still on.\n\n321\n00:16:42.070 --> 00:16:46.590\nAnd now I can send my username and\npassword and I'm logging in plain text,\n\n322\n00:16:46.590 --> 00:16:48.650\nunencrypted, that's bad.\n\n323\n00:16:48.650 --> 00:16:51.640\nSo, what we normally want to do is\ncarry this a little bit more by\n\n324\n00:16:51.640 --> 00:16:56.840\nturning off Telnet and restricting what\nIP addresses are allowed to connect.\n\n325\n00:16:56.840 --> 00:16:59.590\nAll right so,\na few different ways that we can do that.\n\n326\n00:16:59.590 --> 00:17:01.570\nLet's start with the easy part.\n\n327\n00:17:01.570 --> 00:17:03.370\nWell, you know, no,\nlet's start with the hard part.\n\n328\n00:17:03.370 --> 00:17:07.140\nSo the hard part is, if I want to\nrestrict who's allowed to connect,\n\n329\n00:17:07.140 --> 00:17:10.300\nwhat I need to do is create\nan access control list,\n\n330\n00:17:10.300 --> 00:17:13.800\na list of what IPs are approved and\nwhat IPs aren't.\n\n331\n00:17:13.800 --> 00:17:16.910\nRight, so who's going to be\nallowed to get into this system.\n\n332\n00:17:16.910 --> 00:17:19.850\nAnd the best way to do\nthat is to create an ACL.\n\n333\n00:17:19.850 --> 00:17:22.030\nAnd this is where it gets a little weird.\n\n334\n00:17:22.030 --> 00:17:25.680\nOn most Cisco equipment it won't\nlet you use a named ACL for\n\n335\n00:17:25.680 --> 00:17:27.760\nthis one you have to use a numbered ACL.\n\n336\n00:17:27.760 --> 00:17:31.181\nSo, I know we always try to use named\nACL's when we can, and on the latest and\n\n337\n00:17:31.181 --> 00:17:33.767\ngreatest equipment,\nthe equipment that you buy today.\n\n338\n00:17:33.767 --> 00:17:37.067\nSome of them do support named ACL's for\nthis but get in the habit of using\n\n339\n00:17:37.067 --> 00:17:40.587\na numbered ACL because a lot of the\nequipment that's out there, even some of\n\n340\n00:17:40.587 --> 00:17:45.600\nthe equipment that still on sale right at\nthis moment, don't actually support ACL's.\n\n341\n00:17:45.600 --> 00:17:47.070\nFor this particular use, for\n\n342\n00:17:47.070 --> 00:17:50.860\nblocking access to the VTYs,\nVTYs are a little special.\n\n343\n00:17:50.860 --> 00:17:55.110\nSo I'm gonna create an access list,\nand I'm just gonna do a standard ACL.\n\n344\n00:17:55.110 --> 00:17:56.424\nSo I'll do access-list 1.\n\n345\n00:17:56.424 --> 00:17:58.860\nNow remember we have standard and\nextended.\n\n346\n00:17:58.860 --> 00:18:01.020\nStandard allows us to\nfilter by source IP only,\n\n347\n00:18:01.020 --> 00:18:04.320\nand then extended let's us do source or\ndestination and protocol.\n\n348\n00:18:04.320 --> 00:18:06.350\nI don't really care about destination or\n\n349\n00:18:06.350 --> 00:18:08.880\nprotocol because I already know\nwhat those are going to be.\n\n350\n00:18:08.880 --> 00:18:11.620\nIt's going to be SSH, and\nit's going to be this host.\n\n351\n00:18:11.620 --> 00:18:13.580\nThe source IP is all I care about.\n\n352\n00:18:13.580 --> 00:18:18.590\nI need to create an access list that\napproves the administration machines,\n\n353\n00:18:18.590 --> 00:18:22.390\nthe network admin stations,\nmy laptop, Ronnie's laptop,\n\n354\n00:18:22.390 --> 00:18:24.600\nwhoever it is that's going to\nbe administering my equipment.\n\n355\n00:18:24.600 --> 00:18:27.720\nI need them to be in this list, all right?\n\n356\n00:18:27.720 --> 00:18:30.540\nAnd so I'm gonna come in and add that,\nand maybe I've got a whole network.\n\n357\n00:18:30.540 --> 00:18:33.560\nMaybe all of my admins are on\nthe 192.168.0.0 network.\n\n358\n00:18:33.560 --> 00:18:39.400\nSo I'll create an access list entry\n\n359\n00:18:39.400 --> 00:18:43.580\nfor them, and actually if I write\nit correctly, it'll work better.\n\n360\n00:18:43.580 --> 00:18:44.916\n>> [LAUGH]\n>> There we go,\n\n361\n00:18:44.916 --> 00:18:47.030\naccess-list 1 permit\n192.168.0.0.0.0.0.255.\n\n362\n00:18:47.030 --> 00:18:51.440\nSo in other words Anybody who's IP\naddress starts with 192.168.0 will be\n\n363\n00:18:51.440 --> 00:18:52.400\nallowed to connect.\n\n364\n00:18:52.400 --> 00:18:56.370\nAnd when I say allowed to connect,\nthat doesn't mean they jump right in and\n\n365\n00:18:56.370 --> 00:18:58.000\nget a privilege mode prompt.\n\n366\n00:18:58.000 --> 00:19:00.835\nI mean they're allowed to connect\nto send a username and password.\n\n367\n00:19:00.835 --> 00:19:03.095\nSo they still have to plus my username and\npassword, but\n\n368\n00:19:03.095 --> 00:19:06.035\nif they're not in this IP range,\nI'm going to block them.\n\n369\n00:19:06.035 --> 00:19:11.245\nAll right, now, personally, I like to add\none more thing, which is the log command.\n\n370\n00:19:11.245 --> 00:19:14.355\nI like to keep a log of\nwhen people connected.\n\n371\n00:19:14.355 --> 00:19:18.035\nAnd so, by doing this, if we coupled\nit with sending our syslog messages to\n\n372\n00:19:18.035 --> 00:19:21.620\nanother server, I'll now have\na record of people connecting.\n\n373\n00:19:21.620 --> 00:19:24.300\nBecause if somebody connects,\nand they don't go into config,\n\n374\n00:19:24.300 --> 00:19:25.680\nI have no record of it.\n\n375\n00:19:25.680 --> 00:19:28.570\nIf they connected to go in to\nconfig when they exit config,\n\n376\n00:19:28.570 --> 00:19:30.730\nyou always get that little\nmessaging that you were there.\n\n377\n00:19:30.730 --> 00:19:32.990\nBut otherwise you don't know\nthat they're connected.\n\n378\n00:19:32.990 --> 00:19:37.180\nBy throwing a log on this one, I'll be\nable to see, see who connected right.\n\n379\n00:19:37.180 --> 00:19:41.700\nNow, my laptop Is 10.1.230.21,\nif I recall correctly.\n\n380\n00:19:41.700 --> 00:19:46.260\nI actually think I have two\ndifferent IP's on my system, so\n\n381\n00:19:46.260 --> 00:19:51.050\nlet me just figure out\nwhat my laptop's IP's are.\n\n382\n00:19:51.050 --> 00:19:52.620\nAll right, I've got 21, and 241.\n\n383\n00:19:52.620 --> 00:19:55.100\nOkay, so\nI've got two different IP's on my laptop.\n\n384\n00:19:55.100 --> 00:19:57.920\nOne's a physical network adapter,\none's a wireless adapter.\n\n385\n00:19:57.920 --> 00:20:01.310\nSo let's say that I wanted to\n\n386\n00:20:01.310 --> 00:20:06.170\nmake it where my laptop was allowed to\nconnect, maybe on the physical adaptor.\n\n387\n00:20:06.170 --> 00:20:08.650\nBut I don't want it to be able\nto connect on the wireless.\n\n388\n00:20:08.650 --> 00:20:09.570\nOr vice versa.\n\n389\n00:20:09.570 --> 00:20:12.570\nI wanna allow one and block the other.\n\n390\n00:20:12.570 --> 00:20:13.810\nWell, I can do that.\n\n391\n00:20:13.810 --> 00:20:16.320\nOr I can even block Ronnie's laptop,\nfor example.\n\n392\n00:20:16.320 --> 00:20:17.340\nI guess we can do that.\n\n393\n00:20:17.340 --> 00:20:18.225\nRonnie, what's your IP?\n\n394\n00:20:18.225 --> 00:20:18.900\n10.1.230.195.\n\n395\n00:20:18.900 --> 00:20:19.600\n>> 195.\n\n396\n00:20:19.600 --> 00:20:23.100\n>> On the physical adapter.\n\n397\n00:20:23.100 --> 00:20:23.600\n>> All right.\n\n398\n00:20:23.600 --> 00:20:28.130\nSo we'll allow me, and we'll block Ronnie.\n\n399\n00:20:28.130 --> 00:20:29.390\nWe're not going to let him in.\n\n400\n00:20:29.390 --> 00:20:34.470\nSo I'm going to come in and just add\none more entry here that will say,\n\n401\n00:20:34.470 --> 00:20:36.730\npermit, and I want to add my laptop.\n\n402\n00:20:36.730 --> 00:20:41.520\nAnd so I'm going to say,\nhost 10.1.230.21, and I'm going to log.\n\n403\n00:20:41.520 --> 00:20:43.600\nAnd I want to keep a record\nof when I connect.\n\n404\n00:20:43.600 --> 00:20:48.150\nAnd I'll add another line for 241,\nthat's my laptop also, all right.\n\n405\n00:20:48.150 --> 00:20:51.060\nNow, at the end of this there's a deny.\n\n406\n00:20:51.060 --> 00:20:53.440\nThere's an implicit deny all, right?\n\n407\n00:20:53.440 --> 00:20:56.750\nSo, anybody else, anybodys who's not\non this list is going to get denied,\n\n408\n00:20:56.750 --> 00:20:57.760\nincluding Ronnie.\n\n409\n00:20:57.760 --> 00:21:01.600\nI could leave it at that but\nyou might want a record of denies too.\n\n410\n00:21:01.600 --> 00:21:03.600\nLike who tried to connect?\n\n411\n00:21:03.600 --> 00:21:05.970\nNormally I don't worry about denies,\nI worry about permits,\n\n412\n00:21:05.970 --> 00:21:07.470\nthose are the ones I want to log.\n\n413\n00:21:07.470 --> 00:21:12.660\nBut I'm gonna go ahead and\njust manually add a deny here to the end.\n\n414\n00:21:12.660 --> 00:21:15.470\nAnd I'll just deny any,\nwhich is the implicit rule, but\n\n415\n00:21:15.470 --> 00:21:16.660\nI'm gonna add log to it.\n\n416\n00:21:16.660 --> 00:21:18.880\nI'm just doing this for\nthe show, in real-life land,\n\n417\n00:21:18.880 --> 00:21:21.100\nI usually don't log denies.\n\n418\n00:21:21.100 --> 00:21:23.330\nBecause a deny means\nthe list did it's job.\n\n419\n00:21:23.330 --> 00:21:23.830\nIt worked.\n\n420\n00:21:23.830 --> 00:21:25.380\nSomebody tried to get in and\nthey were stopped.\n\n421\n00:21:26.420 --> 00:21:26.980\nThat worked.\n\n422\n00:21:26.980 --> 00:21:30.250\nThe only thing you possibly see is if\nsomebody's port scanning or whatever.\n\n423\n00:21:30.250 --> 00:21:31.350\nAnd there's other ways to see that.\n\n424\n00:21:31.350 --> 00:21:33.110\nSo I don't normally log this.\n\n425\n00:21:33.110 --> 00:21:35.440\nBut I do log the successes.\n\n426\n00:21:35.440 --> 00:21:38.050\nI wanna know when people\nare connected to my equipment.\n\n427\n00:21:38.050 --> 00:21:40.430\nAnd that's more dangerous in a way, right?\n\n428\n00:21:40.430 --> 00:21:43.900\nCuz now here's somebody who\ncould actually make changes or\n\n429\n00:21:43.900 --> 00:21:45.530\nat least try in brute force.\n\n430\n00:21:45.530 --> 00:21:48.650\nAll right, so now that I've got the access\nlist, I need to apply it to the VTYs.\n\n431\n00:21:48.650 --> 00:21:51.130\nSo I'm gonna get into line vty 0 4.\n\n432\n00:21:51.130 --> 00:21:54.670\nAnd the order to apply this is weird.\n\n433\n00:21:54.670 --> 00:21:55.470\nRemember when we applied\n\n434\n00:21:55.470 --> 00:22:00.330\nan access list to an interface we\nused the access-group command.\n\n435\n00:22:00.330 --> 00:22:03.440\nWell, when you're on a line,\nit's not an access group.\n\n436\n00:22:03.440 --> 00:22:04.390\nIt's an access class.\n\n437\n00:22:04.390 --> 00:22:07.850\nBecause this is not technically an\ninterface and it's a little bit different.\n\n438\n00:22:07.850 --> 00:22:13.552\nSo what we have to do is come in and\nsay ip, whoops, hang on, I've got it right\n\n439\n00:22:13.552 --> 00:22:19.130\nthere, access-class.\n\n440\n00:22:19.130 --> 00:22:21.300\nNot quite sure why it didn't\ntake it a minute ago.\n\n441\n00:22:21.300 --> 00:22:25.460\nSo access-class And\nthen we can tell it the number and\n\n442\n00:22:25.460 --> 00:22:28.570\nnotice this one actually\ndoes support a name.\n\n443\n00:22:28.570 --> 00:22:31.500\nSo, I could have used a name\nbased CL on this particular OIS\n\n444\n00:22:31.500 --> 00:22:32.490\non some equipment you can't.\n\n445\n00:22:32.490 --> 00:22:35.080\nSo, that's why I went ahead and did a\nnumbered and so I'm going to go ahead and\n\n446\n00:22:35.080 --> 00:22:36.430\nprovide my numbered one.\n\n447\n00:22:36.430 --> 00:22:38.476\nSo, I'll say access-class 1.\n\n448\n00:22:38.476 --> 00:22:42.220\nAnd then you still have\nto provide a direction\n\n449\n00:22:42.220 --> 00:22:46.400\nbecause this could be applying\nto VTY connections coming in.\n\n450\n00:22:46.400 --> 00:22:49.980\nOr once I'm logged in, I could Telnet or\nSSH out into other people.\n\n451\n00:22:49.980 --> 00:22:50.820\nAnd so those applied out.\n\n452\n00:22:50.820 --> 00:22:51.710\nWe don't normally do it that way.\n\n453\n00:22:51.710 --> 00:22:53.840\nSo in my case I'm doing in, right?\n\n454\n00:22:53.840 --> 00:22:56.390\nSo now, anybody who tries to Telnet or\n\n455\n00:22:56.390 --> 00:23:00.250\nSSH into this device is gonna get\nfiltered through that access list.\n\n456\n00:23:00.250 --> 00:23:04.830\nAnd that's gonna check them and\nmake sure that they're blocked, right?\n\n457\n00:23:04.830 --> 00:23:10.060\nSo, if I come over here and try it again\nWell I was able to telnet a moment ago.\n\n458\n00:23:10.060 --> 00:23:14.716\nAnd so if I try to telnet again well,\nhere I am, I'm unable to get right in.\n\n459\n00:23:14.716 --> 00:23:19.300\nOkay?&nbsp;Oh I&nbsp;should have\nlooked at what IP I came in.\n\n460\n00:23:19.300 --> 00:23:22.510\nBut, I'll do SSH also,\nlet's just&nbsp;do the whole thing.\n\n461\n00:23:22.510 --> 00:23:27.050\nSo I'm going to SSH in this time, so\nI'm reaching out to connect in And\n\n462\n00:23:27.050 --> 00:23:30.440\nI'm going to punch in my password and\nI'll do a show users.\n\n463\n00:23:30.440 --> 00:23:33.310\nAnd so I'm connecting in, and\nI'm connecting in via 10.1.230.21, right,\n\n464\n00:23:33.310 --> 00:23:34.820\nthat's my IP.\n\n465\n00:23:34.820 --> 00:23:38.050\nAnd I'm able to connect in and get in.\n\n466\n00:23:38.050 --> 00:23:41.380\nNow meanwhile, back here on the console,\nhere's some log messages.\n\n467\n00:23:41.380 --> 00:23:46.020\nAccess list 1 permitted, I see\na connection came in from 10.2.230.21 and\n\n468\n00:23:46.020 --> 00:23:48.060\nwe permitted it.\n\n469\n00:23:48.060 --> 00:23:51.609\nOkay so that session was allowed\nto come in, and there it is.\n\n470\n00:23:51.609 --> 00:23:55.979\nAnd we can see user admin\nexited the tty session, and so\n\n471\n00:23:55.979 --> 00:23:59.781\nit's got a record of\nthat that I disconnected.\n\n472\n00:23:59.781 --> 00:24:01.740\nSo we can see what's going on.\n\n473\n00:24:01.740 --> 00:24:04.780\nI know when somebody connected,\nand I know when they disconnected.\n\n474\n00:24:04.780 --> 00:24:08.580\nIt's all right there in my log\nmessages and I have a record of it.\n\n475\n00:24:08.580 --> 00:24:12.120\nNow Ronnie, why don't you try and\ntelnet or SSH in.\n\n476\n00:24:12.120 --> 00:24:16.387\nAnd Ronnie is not in my list, right, so\nhe should get denied, and there it is.\n\n477\n00:24:16.387 --> 00:24:19.574\nAccess list 1 denied, 10.1.230.195.\n\n478\n00:24:19.574 --> 00:24:23.666\nSo Ronnie tried to connect,\nhe was denied in, and it was blocked.\n\n479\n00:24:23.666 --> 00:24:28.543\nNow, the key thing to remember for\nthe exam, we created an access list and\n\n480\n00:24:28.543 --> 00:24:33.420\nI applied it directly to the VTY,\nnot to the interface, all right?\n\n481\n00:24:33.420 --> 00:24:37.549\nI could have gone into interface GI0/0 and\napplied this ACL there, all right?\n\n482\n00:24:37.549 --> 00:24:41.470\nBut, there's a little kind of a secret,\nit's not a secret, but\n\n483\n00:24:41.470 --> 00:24:44.030\nit's just one of those deep\ndocumented facts about Cisco\n\n484\n00:24:45.630 --> 00:24:49.210\nthe access list you apply to your\ninterfaces apply to your routed traffic.\n\n485\n00:24:49.210 --> 00:24:51.500\nTraffic passing through the router.\n\n486\n00:24:51.500 --> 00:24:55.530\nThis is not traffic passing through\nthe router, this is traffic destined for\n\n487\n00:24:55.530 --> 00:24:59.020\nthe router itself, and so\nthose ACLs don't work.\n\n488\n00:24:59.020 --> 00:25:01.670\nThey don't filter it because the traffic's\nnot passing through the router.\n\n489\n00:25:01.670 --> 00:25:03.730\nSo, if I had applied this\nonto a physical interface,\n\n490\n00:25:03.730 --> 00:25:05.560\nit would have not achieved my goal.\n\n491\n00:25:05.560 --> 00:25:08.841\nBut applying it to the VTYs works perfect,\nall right?\n\n492\n00:25:08.841 --> 00:25:11.658\nAnd I doubt this will show up on the exam,\nbut you know how we always say that\n\n493\n00:25:11.658 --> 00:25:14.173\nrouters are layer three devices,\nthey handle packets, right?\n\n494\n00:25:14.173 --> 00:25:16.485\nPackets are the data\nmoving through the router.\n\n495\n00:25:16.485 --> 00:25:21.078\nWhen the data's going to the router,\ntechnically they are still packets,\n\n496\n00:25:21.078 --> 00:25:24.590\nright, it's layer three data, but\nbecause it's destined for the router,\n\n497\n00:25:24.590 --> 00:25:27.030\nthe router passes up higher\nup into that OSI model.\n\n498\n00:25:27.030 --> 00:25:29.290\nSo you'll see some documents where they\ncall them datagrams at that point,\n\n499\n00:25:29.290 --> 00:25:30.470\nit's kind of confusing.\n\n500\n00:25:30.470 --> 00:25:32.950\nRouters normally handle packets,\nbut traffic for\n\n501\n00:25:32.950 --> 00:25:34.470\nthe router itself is\nconsidered a datagram.\n\n502\n00:25:34.470 --> 00:25:38.881\nIt's just a weird nomenclature thing,\nthey are all ultimately packets though.\n\n503\n00:25:38.881 --> 00:25:42.105\nBut that's why we have to make sure we\napply that access list to the VTYs and\n\n504\n00:25:42.105 --> 00:25:45.189\nnot to the physical interface,\ncuz otherwise they just don't work.\n\n505\n00:25:45.189 --> 00:25:48.210\nAll right, so what we saw right\nthere worked really well.\n\n506\n00:25:48.210 --> 00:25:51.970\nI'm now able to limit the IPs that\nare allowed to connect to this device.\n\n507\n00:25:51.970 --> 00:25:54.840\nI do need to do one more thing though,\nwhich is to get rid of Telnet.\n\n508\n00:25:54.840 --> 00:25:58.200\nEven for the approved IPs,\nI don't want people come in using Telnet.\n\n509\n00:25:58.200 --> 00:26:00.880\nSo I'm gonna use\nthe transport input command,\n\n510\n00:26:00.880 --> 00:26:04.880\nand that's where we can come in and\nlimit what we're allowed to connect with.\n\n511\n00:26:04.880 --> 00:26:08.260\nMaybe I want Telnet and SSH, R login, pad,\n\n512\n00:26:08.260 --> 00:26:10.350\nall these different\nprotocols that can connect.\n\n513\n00:26:10.350 --> 00:26:12.840\nBut normally, we just want SSH.\n\n514\n00:26:12.840 --> 00:26:17.310\nSo I'm gonna say transport input ssh,\nand that's it.\n\n515\n00:26:17.310 --> 00:26:22.650\nAnd when I do that, now SSH is the only\nallowed transport on this interface.\n\n516\n00:26:22.650 --> 00:26:27.920\nSo if I go back to my console here,\nthis is on my own laptop, and\n\n517\n00:26:27.920 --> 00:26:32.060\nI try and telnet in,\nI immediately get connection refused.\n\n518\n00:26:32.060 --> 00:26:37.700\nMy IP address is in the approved list, I'm\nallowed to connect, but Telnet's disabled.\n\n519\n00:26:37.700 --> 00:26:42.900\nBut if I try and SSH in,\nthen I reach out and slowly but\n\n520\n00:26:42.900 --> 00:26:45.900\nsurely, there we go,\nI get connected, right?\n\n521\n00:26:45.900 --> 00:26:49.821\nSo now I've restricted the IPs that can\nconnect and I've restricted the protocols.\n\n522\n00:26:49.821 --> 00:26:52.414\nNow we're in pretty good shape.\n\n523\n00:26:52.414 --> 00:26:55.810\nAll right,\nI wanna show you guys one more thing.\n\n524\n00:26:55.810 --> 00:27:00.970\nI know I'm running short on time, but\nlet me turn Telnet back on real quick.\n\n525\n00:27:00.970 --> 00:27:05.310\nSo, I'm just gonna say,\ntransport input all.\n\n526\n00:27:05.310 --> 00:27:07.140\nAnd, that's gonna turn\non all the protocols.\n\n527\n00:27:07.140 --> 00:27:09.726\nI could have said SSH and\nTelnet, but I'm a lazy typer.\n\n528\n00:27:09.726 --> 00:27:12.591\nSo, I'm gonna turn them all on,\nand now I can Telnet again.\n\n529\n00:27:12.591 --> 00:27:17.352\nAnd, the reason I want to do that is\nI want to show you guys another quick\n\n530\n00:27:17.352 --> 00:27:20.285\nthing that we can enable on these systems.\n\n531\n00:27:20.285 --> 00:27:24.468\nIn real life land, as you've worked with\nequipment, you might have noticed where\n\n532\n00:27:24.468 --> 00:27:28.368\nsometimes you connect to a server or\nyou connect to an FTP server, whatever.\n\n533\n00:27:28.368 --> 00:27:33.600\nAnd a little message pops up that says,\nunauthorized use is prohibited.\n\n534\n00:27:33.600 --> 00:27:36.440\nAll people will be prosecuted\nto the extent of the law,\n\n535\n00:27:36.440 --> 00:27:38.410\nor crazy things like that.\n\n536\n00:27:38.410 --> 00:27:41.460\nAnd we usually kind of laugh at that like,\nhere's this stupid message.\n\n537\n00:27:41.460 --> 00:27:43.030\nIt's not gonna stop anybody.\n\n538\n00:27:43.030 --> 00:27:44.890\nHere's a message, I'll just press Enter.\n\n539\n00:27:44.890 --> 00:27:46.170\nDefeated that, right?\n\n540\n00:27:46.170 --> 00:27:48.460\nIt doesn't actually do anything.\n\n541\n00:27:48.460 --> 00:27:53.950\nWell what those are, those little\nlegal disclaimers that come up\n\n542\n00:27:53.950 --> 00:27:57.530\nwhen you connect, they're really a product\nof the United States judicial system.\n\n543\n00:27:57.530 --> 00:28:00.030\nThat we have this thing\ncalled due diligence.\n\n544\n00:28:00.030 --> 00:28:03.770\nThat when you have a router that's\nconnected to the Internet, the Internet is\n\n545\n00:28:03.770 --> 00:28:07.920\na public network, that is freely available\nfor anyone on the planet to use.\n\n546\n00:28:07.920 --> 00:28:11.040\nSo, when you connect to the Internet,\nthere's an understanding\n\n547\n00:28:11.040 --> 00:28:13.920\nthat you're allowed to pass\nthrough other people's equipment.\n\n548\n00:28:13.920 --> 00:28:15.540\nAnd when a router is\nconnected to the Internet,\n\n549\n00:28:15.540 --> 00:28:20.890\nand the Internet is a free network, you\nshould have access to that router, right?\n\n550\n00:28:20.890 --> 00:28:22.730\nIt's there, it's there for you to access.\n\n551\n00:28:22.730 --> 00:28:26.660\nSo there's a assumption that when\nyou connect a router to the network,\n\n552\n00:28:26.660 --> 00:28:29.580\nto the Internet,\nthat it's available for public use.\n\n553\n00:28:29.580 --> 00:28:30.790\nBut it may not be.\n\n554\n00:28:30.790 --> 00:28:35.050\nBut if a hacker breaks into that router,\nand you track them down and\n\n555\n00:28:35.050 --> 00:28:38.580\ntake them to court, the hacker can\ntestify in front of a judge, hey,\n\n556\n00:28:38.580 --> 00:28:41.970\nit was on the Internet,\nI thought it was available for me to use.\n\n557\n00:28:41.970 --> 00:28:45.519\nAnd the judge will say, you're right,\nthat's it, and the case gets thrown out,\n\n558\n00:28:45.519 --> 00:28:47.157\nand you wasted all your time, right?\n\n559\n00:28:47.157 --> 00:28:51.289\nBut, if you post a sign that says\nthis router is for private use only,\n\n560\n00:28:51.289 --> 00:28:54.994\nyou're not allowed to use it,\nnow the hacker can say, well,\n\n561\n00:28:54.994 --> 00:28:59.153\nit was connected to the Internet,\nI thought it was available for me.\n\n562\n00:28:59.153 --> 00:29:02.303\nAnd, you can say well there was\na posted sign, it was right here,\n\n563\n00:29:02.303 --> 00:29:04.720\nyou ignored the sign and went in anyway.\n\n564\n00:29:04.720 --> 00:29:08.050\nI did my due diligence,\nI warned you and you did it anyway.\n\n565\n00:29:08.050 --> 00:29:09.870\nIt's just like no trespassing signs.\n\n566\n00:29:09.870 --> 00:29:13.180\nIf you stick a no trespassing sign\non the fence outside your house,\n\n567\n00:29:13.180 --> 00:29:15.490\nanybody can ignore the sign and\nwalk right past it.\n\n568\n00:29:15.490 --> 00:29:19.390\nBut you did your due diligence, you\nwarned those people, they did it anyway.\n\n569\n00:29:19.390 --> 00:29:22.540\nRight, so,\nthat's what these little legal banners,\n\n570\n00:29:22.540 --> 00:29:26.980\nthese simple license agreements, whatever\nthey are, that's what their goal is,\n\n571\n00:29:26.980 --> 00:29:28.780\njust to show that you did due diligence.\n\n572\n00:29:28.780 --> 00:29:31.650\nAnd we can do those on our routers and\nour switches too.\n\n573\n00:29:31.650 --> 00:29:33.020\nIt's a good idea to do that.\n\n574\n00:29:33.020 --> 00:29:36.330\nIt's a good idea to that because if\nyou're connected to the Internet,\n\n575\n00:29:36.330 --> 00:29:37.658\nyou're gonna be constantly scanned.\n\n576\n00:29:37.658 --> 00:29:39.670\nPeople are gonna try and access you're\nequipment, you need to show it.\n\n577\n00:29:39.670 --> 00:29:42.780\nIt takes a minute to write one\nof these little banners so\n\n578\n00:29:42.780 --> 00:29:44.180\nlet me show you how they work.\n\n579\n00:29:44.180 --> 00:29:46.696\nThere's two different\nbanners that we can do.\n\n580\n00:29:46.696 --> 00:29:50.614\nSo when you're logged into your equipment,\nthe command is banner.\n\n581\n00:29:50.614 --> 00:29:51.839\nAnd if you do a question mark,\n\n582\n00:29:51.839 --> 00:29:54.390\nyou'll see there's actually\na bunch of different banners.\n\n583\n00:29:54.390 --> 00:29:56.480\nThere's only two that\nwe really care about.\n\n584\n00:29:56.480 --> 00:29:59.360\nEach one is a little banner message\nthat will come up at certain times.\n\n585\n00:29:59.360 --> 00:30:02.169\nSome of them you'll never use,\nlike slip-ppp.\n\n586\n00:30:02.169 --> 00:30:06.995\nIf you have a dial-up user, when they\ndial up on their 56k modem or whatever,\n\n587\n00:30:06.995 --> 00:30:09.700\nthis is a message they'll see.\n\n588\n00:30:09.700 --> 00:30:12.695\nMost people don't use that anymore so\nit's not terribly useful.\n\n589\n00:30:12.695 --> 00:30:15.250\nPrompt-timeout, if somebody's\nbeen sitting in a prompt for\n\n590\n00:30:15.250 --> 00:30:18.770\nlong enough that it's gonna disconnect\nthem, this is the message that pops up.\n\n591\n00:30:18.770 --> 00:30:19.820\nWell, they're getting disconnected.\n\n592\n00:30:19.820 --> 00:30:20.810\nWho cares what message they see?\n\n593\n00:30:20.810 --> 00:30:21.970\nWe don't normally set that.\n\n594\n00:30:21.970 --> 00:30:28.391\nBut the two that we do set are these two\nright here, login and motd, all right?\n\n595\n00:30:28.391 --> 00:30:31.020\nMotd is message of the day.\n\n596\n00:30:31.020 --> 00:30:34.360\nAnd this one is displayed\nto users after they log in.\n\n597\n00:30:34.360 --> 00:30:36.550\nSo a user provides a username and\na password.\n\n598\n00:30:36.550 --> 00:30:38.728\nThey log in, and\nthey get a message of the day.\n\n599\n00:30:38.728 --> 00:30:41.800\nAlmost every Linux-based system does this,\nwhere you log in and\n\n600\n00:30:41.800 --> 00:30:45.160\nit tells you the version of the operating\nsystem and some other things.\n\n601\n00:30:45.160 --> 00:30:47.190\nWe might have the help\ndesk phone number and\n\n602\n00:30:47.190 --> 00:30:49.070\na few other things that\npop up on the screen.\n\n603\n00:30:49.070 --> 00:30:52.790\nOr, when we last did maintenance on it,\nwhose responsible for that equipment.\n\n604\n00:30:52.790 --> 00:30:57.100\nYou can have these kind of things\npop up right after the user logs in.\n\n605\n00:30:57.100 --> 00:31:02.160\nAnd so what we do is we say banner motd,\nand then if it's just going to be one\n\n606\n00:31:02.160 --> 00:31:06.650\nline like welcome to the system, we just\ntype that, right, welcome to the system.\n\n607\n00:31:06.650 --> 00:31:08.742\nVery, very exciting, all right?\n\n608\n00:31:08.742 --> 00:31:10.940\nBut you might want to be\nelaborate with these things.\n\n609\n00:31:10.940 --> 00:31:14.250\nYou might want to have a border\naround it and go all sorts of crazy,\n\n610\n00:31:14.250 --> 00:31:15.910\nyou can do neat stuff.\n\n611\n00:31:15.910 --> 00:31:20.200\nAnd if you want to do that, you can follow\nthis up with a special character, okay?\n\n612\n00:31:20.200 --> 00:31:20.731\nAny character.\n\n613\n00:31:20.731 --> 00:31:23.387\nAny key on your keyboard, you can use.\n\n614\n00:31:23.387 --> 00:31:27.144\nAnd when you press Enter, it's gonna let\nyou continue writing your banner as many\n\n615\n00:31:27.144 --> 00:31:29.611\nlines as you want until it\nsees that character again.\n\n616\n00:31:29.611 --> 00:31:30.984\nSo you need to pick a weird character.\n\n617\n00:31:30.984 --> 00:31:33.030\nA character you don't use very often.\n\n618\n00:31:33.030 --> 00:31:36.508\nIn the books, they use to always\nuse the carrot symbol like this.\n\n619\n00:31:36.508 --> 00:31:39.700\nBut you're seeing more and\nmore people dollar sign or hash sign,\n\n620\n00:31:39.700 --> 00:31:41.160\nwhatever it is that you want to use.\n\n621\n00:31:41.160 --> 00:31:43.200\nI'll do a dollar sign, okay?\n\n622\n00:31:43.200 --> 00:31:46.850\nSo, when I press Enter, see how now it's\nletting me enter in this text message and\n\n623\n00:31:46.850 --> 00:31:50.700\nI can type as much data as I want\nuntil I do a dollar sign and\n\n624\n00:31:50.700 --> 00:31:51.910\nthat lets it know that I'm done.\n\n625\n00:31:51.910 --> 00:31:55.725\nSo I might want to come in and\ndo something really flashy,\n\n626\n00:31:55.725 --> 00:31:59.230\nright, I'm gonna go a little\nFancy are style here.\n\n627\n00:31:59.230 --> 00:32:01.597\nWelcome to the system!!!\n\n628\n00:32:01.597 --> 00:32:06.069\nGot it have three exclamation points\nto let people know you're serious.\n\n629\n00:32:06.069 --> 00:32:08.900\nAnd there we go.\n\n630\n00:32:08.900 --> 00:32:12.440\nAll right, so you can create a little\nbanner that's pretty elaborate if you want\n\n631\n00:32:12.440 --> 00:32:13.182\nor very simple.\n\n632\n00:32:13.182 --> 00:32:16.520\nIt just depends on your job and then when\nyou're done, you do that same special\n\n633\n00:32:16.520 --> 00:32:19.440\ncharacter again and it knows that it's\nfinished and now you got this banner.\n\n634\n00:32:19.440 --> 00:32:21.440\nThis message of the day.\n\n635\n00:32:21.440 --> 00:32:24.380\nNow, message of the day is for\npeople that have already logged in.\n\n636\n00:32:24.380 --> 00:32:28.410\nSo, if this is a hacker, they've already\nlogged in, you're already kinda screwed.\n\n637\n00:32:28.410 --> 00:32:32.030\nSo, it doesn't help there, but this\nwould be more like for your employees.\n\n638\n00:32:32.030 --> 00:32:35.340\nOkay, but the other one,\nthe log in banner.\n\n639\n00:32:35.340 --> 00:32:36.890\nThe log in banner's a little more useful.\n\n640\n00:32:36.890 --> 00:32:39.700\nThe log in banner you'll\nsee when you connect.\n\n641\n00:32:39.700 --> 00:32:43.550\nAnd with protocols like SSH that\ndoesn't work out so well normally.\n\n642\n00:32:43.550 --> 00:32:45.470\nBecause you've already\nprovided the username and\n\n643\n00:32:45.470 --> 00:32:47.450\nyou're just sending the password\nalong as you connect.\n\n644\n00:32:47.450 --> 00:32:49.540\nThey've already got\nthe authentication information.\n\n645\n00:32:49.540 --> 00:32:54.280\nBut most SSH clients do support displaying\nthat message and so you'll see it.\n\n646\n00:32:54.280 --> 00:33:00.939\nSo I might wanna come in and\nset one like this where I say\n\n647\n00:33:03.020 --> 00:33:07.520\nUNAUTHORIZED ACCESS IS PROHIBITED.\n\n648\n00:33:08.530 --> 00:33:11.190\nAnd if you ever want and\nI'll put it in the show notes.\n\n649\n00:33:11.190 --> 00:33:13.820\nCisco has like a template\nmessage that you can use for\n\n650\n00:33:13.820 --> 00:33:16.040\nthis stuff if you're not\na creative legal type.\n\n651\n00:33:16.040 --> 00:33:19.450\nBut it basically just needs to\nbe really plain and clear that,\n\n652\n00:33:19.450 --> 00:33:20.670\nhey this is a private system.\n\n653\n00:33:20.670 --> 00:33:22.920\nSo, this is a private system.\n\n654\n00:33:24.060 --> 00:33:28.128\nPublic access is not permitted.\n\n655\n00:33:28.128 --> 00:33:34.011\nPlease disconnect immediately.\n\n656\n00:33:34.011 --> 00:33:35.780\nOr else.\n\n657\n00:33:35.780 --> 00:33:37.993\nThat way they know we mean business,\nright?\n\n658\n00:33:37.993 --> 00:33:39.260\n>> [LAUGH]\n>> Or else is important.\n\n659\n00:33:39.260 --> 00:33:42.759\nSo we'll get that in there and\nso now I've got a login banner.\n\n660\n00:33:43.850 --> 00:33:45.490\nAnd let's see how these play out.\n\n661\n00:33:45.490 --> 00:33:50.920\nSo if I go back to my, just my base\nprompt here, I'm gonna use telnet.\n\n662\n00:33:50.920 --> 00:33:53.600\nAnd I'm gonna telnet into that router.\n\n663\n00:33:53.600 --> 00:33:55.650\nAnd when I go to connect,\n\n664\n00:33:55.650 --> 00:34:00.480\nsee how immediately I get, well,\nI got Welcome to the system.\n\n665\n00:34:00.480 --> 00:34:01.940\nIt popped up,\nthere's that message of the day.\n\n666\n00:34:01.940 --> 00:34:04.552\nIt actually came up before I logged in.\n\n667\n00:34:04.552 --> 00:34:06.860\nAnd here's the unauthorized\naccess is prohibited.\n\n668\n00:34:06.860 --> 00:34:07.900\nI see it all.\n\n669\n00:34:07.900 --> 00:34:12.080\nAnd when I go to login, well,\nI can get in, and if I had an exec\n\n670\n00:34:12.080 --> 00:34:14.940\nbanner the exec banner would display right\nthere cuz I just got into the exec prompt.\n\n671\n00:34:16.070 --> 00:34:18.120\nWell, what if I do SSH?\n\n672\n00:34:18.120 --> 00:34:20.260\nSSH is where things get\na little bit weirder.\n\n673\n00:34:20.260 --> 00:34:23.660\nWhen I go to SSH, see how I didn't\nget the welcome to the system?\n\n674\n00:34:23.660 --> 00:34:26.290\nBut I did get the login banner.\n\n675\n00:34:26.290 --> 00:34:30.150\nAnd so now I can see it even\nbefore I provide my password.\n\n676\n00:34:30.150 --> 00:34:34.980\nAnd I get in, and\nthere's the message of the day, all right.\n\n677\n00:34:34.980 --> 00:34:37.170\nSo they're kind of reversed.\n\n678\n00:34:37.170 --> 00:34:39.290\nTelnet, the old protocol,\nhandled it one way and\n\n679\n00:34:39.290 --> 00:34:41.430\nif you've disabled telnet then\nyou don't worry about it.\n\n680\n00:34:41.430 --> 00:34:43.040\nSSH handles it differently.\n\n681\n00:34:43.040 --> 00:34:46.310\nAnd so on the exam we want\nto remember the SSH way.\n\n682\n00:34:46.310 --> 00:34:50.730\nThat the login banner shows\nup before the credentials.\n\n683\n00:34:50.730 --> 00:34:53.730\nThe message of the day shows\nup after the credentials.\n\n684\n00:34:53.730 --> 00:34:57.580\nSo if you're only going to set one,\nmake sure it's the login banner\n\n685\n00:34:57.580 --> 00:34:59.500\nbecause the login banner\nshows up before credentials.\n\n686\n00:34:59.500 --> 00:35:02.400\nSo that's what you need in the legal\nsystem to show that you did your due\n\n687\n00:35:02.400 --> 00:35:04.960\ndiligence, that you warned people\nto stay out of the system.\n\n688\n00:35:04.960 --> 00:35:09.270\nSo banner login,\nthat's before credentials.\n\n689\n00:35:09.270 --> 00:35:12.910\nBanner, motd, that's after credentials.\n\n690\n00:35:12.910 --> 00:35:15.500\nIf you're talking telnet,\nthey're both before the credentials,\n\n691\n00:35:15.500 --> 00:35:16.950\na little weird with telnet.\n\n692\n00:35:16.950 --> 00:35:19.318\nBut with SSH, this is the way it works.\n\n693\n00:35:19.318 --> 00:35:21.279\nAnd that's what you wanna remember for\nthe exam.\n\n694\n00:35:21.279 --> 00:35:25.970\n>> Now Don, is there any,\nI wanna say truth, but is there any real\n\n695\n00:35:25.970 --> 00:35:30.120\nweight that we have to put into\nthe message that we put on the log in?\n\n696\n00:35:30.120 --> 00:35:33.075\nYou always hear about this where\nsomebody said welcome to our system.\n\n697\n00:35:33.075 --> 00:35:34.950\n>> [LAUGHTER] You said welcome.\n\n698\n00:35:34.950 --> 00:35:39.150\nYeah, I've heard that, too,\nwhere you said welcome.\n\n699\n00:35:39.150 --> 00:35:40.950\nThat means I'm welcome to be here, right?\n\n700\n00:35:40.950 --> 00:35:43.150\nSo you could have conflicting messaging.\n\n701\n00:35:43.150 --> 00:35:45.428\nI'll be honest with you guys,\nI normally don't write these.\n\n702\n00:35:45.428 --> 00:35:49.271\nI normally just go to the legal department\nand say, hey guys I need a banner,\n\n703\n00:35:49.271 --> 00:35:53.176\na message that I can display on all of\nour equipment, internal and external,\n\n704\n00:35:53.176 --> 00:35:56.800\nto make sure we're very clear about\nhow you're not suppose to be here.\n\n705\n00:35:56.800 --> 00:36:01.124\nAnd I've had, like when I worked up\nin Washington, where they had a very,\n\n706\n00:36:01.124 --> 00:36:04.640\nvery specific message that even\nsited statutes and things.\n\n707\n00:36:04.640 --> 00:36:06.060\nIt was right there in the login banner.\n\n708\n00:36:06.060 --> 00:36:09.460\nAnd I've had other places,\nwhere they're a little less professional,\n\n709\n00:36:09.460 --> 00:36:13.880\nwhere they said just put a message in\nthat says get out or disconnect now.\n\n710\n00:36:13.880 --> 00:36:15.820\nIt is very clear, disconnect now.\n\n711\n00:36:15.820 --> 00:36:17.940\nAnd if you don't disconnect,\nwell then you didn't listen.\n\n712\n00:36:17.940 --> 00:36:20.110\nSo talk to your legal\ndepartment if you have one.\n\n713\n00:36:20.110 --> 00:36:22.130\nIf you don't, go to Cisco's website.\n\n714\n00:36:22.130 --> 00:36:23.780\nThey do have some template banners and\nstuff.\n\n715\n00:36:23.780 --> 00:36:26.030\nI'll put the link in the show notes so\nyou guys will have access to it.\n\n716\n00:36:26.030 --> 00:36:28.550\nAnd they've got a sample one you\ncan throw in that works truly well.\n\n717\n00:36:28.550 --> 00:36:31.150\nSo you don't have to get\ntoo terribly creative.\n\n718\n00:36:31.150 --> 00:36:32.950\nI mean, it'll see,\nwe'll put little stars around it and all,\n\n719\n00:36:32.950 --> 00:36:35.860\nwhich I like to do, I guess I get bored.\n\n720\n00:36:35.860 --> 00:36:40.780\nAll right, so, obviously not the cutting\nedge, be all end all of security, but\n\n721\n00:36:40.780 --> 00:36:43.600\nwhat we've seen in this episode are really\njust a couple of different techniques that\n\n722\n00:36:43.600 --> 00:36:46.060\nwe can apply to improve\nthe security of our device,\n\n723\n00:36:46.060 --> 00:36:49.160\nto help restrict access to it,\nand keep it a little bit safer.\n\n724\n00:36:49.160 --> 00:36:52.060\nFor those of you that wanna learn\nmore definitely check out our CCNA\n\n725\n00:36:52.060 --> 00:36:53.180\nsecurity show.\n\n726\n00:36:53.180 --> 00:36:56.180\nWe go into a lot more depth on ways\nthat those things can be configured.\n\n727\n00:36:57.180 --> 00:37:00.310\n>> Alright Don, well thank you for\nactually showing us these things that we\n\n728\n00:37:00.310 --> 00:37:03.790\nmay, even though we saw a lot of\ninside of the device configuration.\n\n729\n00:37:03.790 --> 00:37:07.560\nOr device set up initially\nin the series here.\n\n730\n00:37:07.560 --> 00:37:10.820\nIt's a great reminder that these are\nthings that we really need consider and\n\n731\n00:37:10.820 --> 00:37:13.890\nthe idea of adding these\nbanners in just adds\n\n732\n00:37:13.890 --> 00:37:17.650\none more layer of security that we need\nto think about in terms of warning and\n\n733\n00:37:17.650 --> 00:37:19.810\nof course messages for\nusers that do connect in.\n\n734\n00:37:19.810 --> 00:37:23.150\nWell, that's a great place for\nus to also end this episode then.\n\n735\n00:37:23.150 --> 00:37:26.480\nSigning off for\nIT Pro TV I've been your host Ronnie Wong.\n\n736\n00:37:26.480 --> 00:37:27.330\n>> And Don Pazet.\n\n737\n00:37:27.330 --> 00:37:30.374\n>> Stay tuned right here for\nmore CCENT episodes.\n\n738\n00:37:30.374 --> 00:37:37.107\n[MUSIC]\n\n",
          "vimeoId": "177450840"
        },
        {
          "description": "In this episode, Ronnie and Don show some of details about working with the CiscoIOS.  They show how to know about CiscoIOS updates and how to best use that information.  Don and Ronnie also show how to update the router IOS.  They also take a look at some commands to see the amount of RAM and storage available for the CiscoIOS.  These basic maintenance duties are part of every Cisco technician’s skill set.",
          "length": "2134",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-5-3-1-device_maintenance-080216-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-5-3-1-device_maintenance-080216-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-5-3-1-device_maintenance-080216-1-sm.jpg",
          "title": "Device Maintenance",
          "transcript": "WEBVTT\n\n1\n00:00:00.006 --> 00:00:10.006\n[MUSIC]\n\n2\n00:00:12.387 --> 00:00:15.010\nWelcome to another great\nepisode right here on IT ProTV.\n\n3\n00:00:15.010 --> 00:00:19.780\nI'm your host Ronnie Wong and you're\nactually watching the Cisco CCENT show but\n\n4\n00:00:19.780 --> 00:00:23.960\nwe're about to enter into the [INAUDIBLE]\nand realm of device maintenance.\n\n5\n00:00:23.960 --> 00:00:25.399\nWe've already talked about security,\n\n6\n00:00:25.399 --> 00:00:28.070\nwe've also talked about some of\nthe different things that we need to do.\n\n7\n00:00:28.070 --> 00:00:31.192\nBut now we actually get into some of\nthe interesting things that's a little bit\n\n8\n00:00:31.192 --> 00:00:31.816\nmore complex.\n\n9\n00:00:31.816 --> 00:00:35.145\nSo a great time for us to actually\npay attention a bit more and\n\n10\n00:00:35.145 --> 00:00:39.150\nwho better to help us out than Mr.\nDon Pezet, welcome back to our show.\n\n11\n00:00:39.150 --> 00:00:39.965\nThanks for having me back, Ronnie.\n\n12\n00:00:39.965 --> 00:00:44.350\nYeah, when your equipment is up and\nrunning, it's secured, it's doing its job,\n\n13\n00:00:44.350 --> 00:00:45.070\nyou're monitoring it,\n\n14\n00:00:45.070 --> 00:00:47.560\nthings are running fine, for the most\npart, you don't have to mess with it.\n\n15\n00:00:47.560 --> 00:00:50.690\nThat's the nice part about routers and\nswitches, you kind of do the set it and\n\n16\n00:00:50.690 --> 00:00:51.690\nforget it thing.\n\n17\n00:00:51.690 --> 00:00:54.210\nBut there are routine maintenance\nactivities we need to do\n\n18\n00:00:54.210 --> 00:00:56.530\nto keep the equipment up and\nhealthy, even beyond monitoring.\n\n19\n00:00:56.530 --> 00:01:00.850\nAnd one of the biggest things that we need\nto watch out for are updates from Cisco.\n\n20\n00:01:00.850 --> 00:01:04.490\nEvery router and every switch from\nCisco runs an operating system.\n\n21\n00:01:04.490 --> 00:01:07.630\nSo they all run the internetwork\nOperating System or iOS.\n\n22\n00:01:07.630 --> 00:01:10.090\nAnd the iOS gets updated\npretty frequently.\n\n23\n00:01:10.090 --> 00:01:14.240\nAny time a hacker finds some bug or\npokes a hole, or\n\n24\n00:01:14.240 --> 00:01:17.660\nsomething just isn't working right,\nthen Cisco releases updates for it.\n\n25\n00:01:17.660 --> 00:01:20.730\nAnd then there's two main types\nof updates that come out.\n\n26\n00:01:20.730 --> 00:01:25.190\nThere's the hot fixes that come out which\nare specifically fixing security holes,\n\n27\n00:01:25.190 --> 00:01:29.060\nright, so some kind of security problem\nhas been found, we need to get it fixed.\n\n28\n00:01:29.060 --> 00:01:32.140\nAnd then there's the feature updates\nwhere there might have been a bug,\n\n29\n00:01:32.140 --> 00:01:34.920\nsome piece of software just didn't work\nright and they get in and they fix it.\n\n30\n00:01:34.920 --> 00:01:35.720\nThey make it work better.\n\n31\n00:01:35.720 --> 00:01:37.750\nOr maybe they even add a new feature.\n\n32\n00:01:37.750 --> 00:01:38.890\nThat happens too.\n\n33\n00:01:38.890 --> 00:01:43.470\nSo when it's adding a new feature,\nwe don't necessarily need to do that right\n\n34\n00:01:43.470 --> 00:01:45.840\naway, we can wait and\ndo that whenever we want.\n\n35\n00:01:45.840 --> 00:01:49.910\nBut when it's a security hole,\nwe need to patch that as soon as possible.\n\n36\n00:01:49.910 --> 00:01:53.020\nSo we always need to pay attention\nto the release cycle from Cisco and\n\n37\n00:01:53.020 --> 00:01:55.190\nkeep our operating system up to date.\n\n38\n00:01:55.190 --> 00:01:58.700\nNow we haven't talked much in this series\nabout the operating system itself.\n\n39\n00:01:58.700 --> 00:01:59.730\nSo let's start right there.\n\n40\n00:01:59.730 --> 00:02:02.390\nLet's just kind of start with how we\nfigure out what version of operating\n\n41\n00:02:02.390 --> 00:02:03.190\nsystem we're running and\n\n42\n00:02:03.190 --> 00:02:06.240\nwhat the operating system names mean and\nthen all that other information.\n\n43\n00:02:06.240 --> 00:02:08.760\nSo we'll start right here on my router.\n\n44\n00:02:08.760 --> 00:02:12.860\nAnd my router is a little out of date,\nwhich is good cuz in this episode,\n\n45\n00:02:12.860 --> 00:02:15.330\nwe're gonna see how to upgrade\nour router and get it up to date.\n\n46\n00:02:15.330 --> 00:02:18.610\nSo when you log into a router,\nyou can run the,\n\n47\n00:02:18.610 --> 00:02:20.580\nwell, there's a few\ndifferent ways to see it.\n\n48\n00:02:20.580 --> 00:02:24.260\nProbably the best way to see this\nis to use the show version command.\n\n49\n00:02:24.260 --> 00:02:24.850\nAll right?\n\n50\n00:02:24.850 --> 00:02:29.400\nWhen you run show version, it's gonna\nshow you information about your hardware.\n\n51\n00:02:29.400 --> 00:02:33.750\nAnd some of it's not incredibly useful,\nlike here, my router uptime is 13 minutes.\n\n52\n00:02:33.750 --> 00:02:35.320\nAll right, router's been on for\n13 minutes.\n\n53\n00:02:35.320 --> 00:02:37.270\nWell, that's not useful to me right now,\n\n54\n00:02:37.270 --> 00:02:42.100\nbut if I think that a router might have\nrebooted overnight, I could go and look.\n\n55\n00:02:42.100 --> 00:02:45.320\nAnd if the uptime is eight days,\nI know it didn't reboot last night.\n\n56\n00:02:45.320 --> 00:02:47.920\nBut if the uptime is seven hours,\nI know it rebooted,\n\n57\n00:02:47.920 --> 00:02:51.150\nso you can kinda use that\nto find other information.\n\n58\n00:02:51.150 --> 00:02:56.240\nBut what I really wanted to find was this\nguy right here, System image file is,\n\n59\n00:02:56.240 --> 00:03:00.310\nand it's telling me about\nthe operating system that it booted.\n\n60\n00:03:00.310 --> 00:03:03.690\nNow you're gonna see the operating\nsystem listed more than one place,\n\n61\n00:03:03.690 --> 00:03:08.980\nlike right up here I can see I'm running\nthe Cisco IOS Software on a 2800 chassis.\n\n62\n00:03:08.980 --> 00:03:13.079\nAnd it's the C2800NM-ipvoicek9-m and\n\n63\n00:03:13.079 --> 00:03:17.594\nit's version 15.1, subrelease 1, track T.\n\n64\n00:03:17.594 --> 00:03:21.605\nThen down here I see system\nbootstrap version 12.4.\n\n65\n00:03:21.605 --> 00:03:24.180\nWell, the bootstrap, that's like the bios.\n\n66\n00:03:24.180 --> 00:03:26.840\nThat's the hardware and the motherboard\nthat boots the operating system.\n\n67\n00:03:26.840 --> 00:03:27.960\nSo I'm not really worried about that.\n\n68\n00:03:27.960 --> 00:03:31.860\nThat's not normally upgradeable so\nyou can't normally upgrade that.\n\n69\n00:03:31.860 --> 00:03:34.343\nBut the operating system up here,\nthat's what's really important to me.\n\n70\n00:03:34.343 --> 00:03:37.307\nAnd I can see this one is running 15.1.\n\n71\n00:03:37.307 --> 00:03:41.640\nAnd if I look down here, I can see\nthe actual file that's being loaded.\n\n72\n00:03:41.640 --> 00:03:45.240\nNow if you think about Windows or\nLinux or Mac OS,\n\n73\n00:03:45.240 --> 00:03:48.810\nwhen you look at their hard drive, they've\ngot a folder where they're installed into.\n\n74\n00:03:48.810 --> 00:03:51.320\nAnd in that folder, there are thousands,\n\n75\n00:03:51.320 --> 00:03:55.370\nor tens of thousands of files that\nmake up those operating systems.\n\n76\n00:03:55.370 --> 00:03:59.210\nBut on a Cisco router, or\na Cisco switch, there's one file.\n\n77\n00:03:59.210 --> 00:04:04.280\nThe entire operating system is\nstored in this one file right here.\n\n78\n00:04:04.280 --> 00:04:06.560\nNow it's a binary file, it ends in .bin.\n\n79\n00:04:06.560 --> 00:04:09.288\nAnd while it doesn't say it here,\nit is actually a zip archive,\n\n80\n00:04:09.288 --> 00:04:10.358\nit's been compressed.\n\n81\n00:04:10.358 --> 00:04:13.982\nWhen you boot up your router,\nit uncompresses that file and\n\n82\n00:04:13.982 --> 00:04:15.220\ncopies it into RAM.\n\n83\n00:04:15.220 --> 00:04:19.358\nAnd in RAM, it actually does kinda blow\nout into all these separate little files\n\n84\n00:04:19.358 --> 00:04:21.224\nthat make up the operating system.\n\n85\n00:04:21.224 --> 00:04:26.007\nBut when we look at it, like on\nthe router's hard drive on the flash,\n\n86\n00:04:26.007 --> 00:04:27.499\nwe just see one file.\n\n87\n00:04:27.499 --> 00:04:30.358\nAnd that's awesome because if you\nwanna upgrade your Cisco router,\n\n88\n00:04:30.358 --> 00:04:31.550\nyou just swap out that file.\n\n89\n00:04:31.550 --> 00:04:34.850\nYou wanna downgrade your router,\nswap out that file.\n\n90\n00:04:34.850 --> 00:04:37.980\nYou want to have more than one version\nof the operating system standing by so\n\n91\n00:04:37.980 --> 00:04:39.440\nyou can flip between them?\n\n92\n00:04:39.440 --> 00:04:41.580\nYou upgrade,\nupload more than one copy of the file.\n\n93\n00:04:41.580 --> 00:04:42.740\nIt's that easy.\n\n94\n00:04:42.740 --> 00:04:44.433\nIt's super simple to work with these.\n\n95\n00:04:44.433 --> 00:04:47.375\nThe other thing to be aware\nof though are the features.\n\n96\n00:04:47.375 --> 00:04:51.823\nNow, when you buy Cisco equipment, this\nvery moment if you go buy Cisco equipment,\n\n97\n00:04:51.823 --> 00:04:55.208\nthere's two different licensing\nmethodologies that are being\n\n98\n00:04:55.208 --> 00:04:57.630\nfollowed right now, right?\n\n99\n00:04:57.630 --> 00:05:02.260\nOne methodology is where the operating\nsystem file that you load\n\n100\n00:05:02.260 --> 00:05:04.590\ndetermines the features that you've got.\n\n101\n00:05:04.590 --> 00:05:08.310\nSo if I look at this file name,\nsee how it starts with c2800nm?\n\n102\n00:05:08.310 --> 00:05:09.310\nThat's my platform.\n\n103\n00:05:09.310 --> 00:05:10.443\nThat's the hardware.\n\n104\n00:05:10.443 --> 00:05:13.007\nThis iOS file is made for\na 2800 series router.\n\n105\n00:05:13.007 --> 00:05:16.162\nIf I have a 2900 series router,\nthis file will not work on it.\n\n106\n00:05:16.162 --> 00:05:19.170\nI'll have a c2900 file for that, right?\n\n107\n00:05:19.170 --> 00:05:20.883\nBut here it's a c2800.\n\n108\n00:05:20.883 --> 00:05:26.750\nThen I see ipvoice, that means that\nthis has the voiceover IP feature set.\n\n109\n00:05:26.750 --> 00:05:29.220\nThis one can be a Cisco call manager.\n\n110\n00:05:29.220 --> 00:05:31.490\nThen we can run some of the unified\ncommunications features on it,\n\n111\n00:05:31.490 --> 00:05:33.280\nit's got that feature set.\n\n112\n00:05:33.280 --> 00:05:34.690\nWhen you buy a router or\n\n113\n00:05:34.690 --> 00:05:38.190\na switch, it's normally gonna\ncome with what's called IP base.\n\n114\n00:05:38.190 --> 00:05:41.180\nIP base means it's got\nbasic IP functionality.\n\n115\n00:05:41.180 --> 00:05:43.680\nOn a switch,\nthat's layer two functionality.\n\n116\n00:05:43.680 --> 00:05:48.030\nOn a router, it's layer three and\njust the basic features, usually TCIP and\n\n117\n00:05:48.030 --> 00:05:49.870\nIP version four and IP version six.\n\n118\n00:05:49.870 --> 00:05:51.710\nRight?\nThat's what's in IP base.\n\n119\n00:05:51.710 --> 00:05:55.510\nBut you can get IP voice and\nnow it adds all the voice functions.\n\n120\n00:05:55.510 --> 00:06:01.150\nOr you can get IP advanced and now it's\ngot the advanced routing features,\n\n121\n00:06:01.150 --> 00:06:04.470\nthings like BGP are added in,\nright, that's not part of IT base.\n\n122\n00:06:04.470 --> 00:06:08.166\nOr we can go even further and\ndo the advanced enterprise.\n\n123\n00:06:08.166 --> 00:06:11.360\nAdvanced enterprise adds other\nprotocols like IPX, SPX, and\n\n124\n00:06:11.360 --> 00:06:14.130\nApple Talk that you don't\nhave in the normal trains.\n\n125\n00:06:14.130 --> 00:06:19.320\nSo you would have to go and buy a license\nfor the operating system that corresponded\n\n126\n00:06:19.320 --> 00:06:24.150\nto it and if your router ran hardware\nthat was based on images like this,\n\n127\n00:06:24.150 --> 00:06:27.840\nyou would need to get the correct image\nwhich you can download from Cisco.\n\n128\n00:06:27.840 --> 00:06:30.677\nI've actually got a window\npulled up here for this router.\n\n129\n00:06:30.677 --> 00:06:33.156\nSo on this router,\nif I were to go and buy a license,\n\n130\n00:06:33.156 --> 00:06:36.736\nI would go to Cisco's website, and\nwith Cisco, when you buy equipment,\n\n131\n00:06:36.736 --> 00:06:39.892\nyou get what's called a SmartNet\nagreement, like a warranty.\n\n132\n00:06:39.892 --> 00:06:42.026\nAnd that warranty lets you\nlog into their site and\n\n133\n00:06:42.026 --> 00:06:44.100\ndownload updates as they come out.\n\n134\n00:06:44.100 --> 00:06:49.700\nAnd so here I can see advanced enterprise\nservices, integrated voice and video,\n\n135\n00:06:49.700 --> 00:06:55.400\nwe've got IP services, advanced security\nthese are all different feature sets.\n\n136\n00:06:55.400 --> 00:06:59.825\nAll the way down to plain\nold IP Base right there.\n\n137\n00:06:59.825 --> 00:07:04.490\nC2800MN-IPbasek9, each of these\nare different feature sets.\n\n138\n00:07:04.490 --> 00:07:07.120\nYou'll always at a minimum have IP Base.\n\n139\n00:07:07.120 --> 00:07:09.450\nAnd then depending on what you bought\nwhen you bought the router, or\n\n140\n00:07:09.450 --> 00:07:11.380\nswitch, you may have more added onto it.\n\n141\n00:07:11.380 --> 00:07:13.750\nThat's what all these other files are.\n\n142\n00:07:13.750 --> 00:07:17.960\nNow what I'm looking at here is a 2800,\nwhich is not the latest and\n\n143\n00:07:17.960 --> 00:07:18.650\ngreatest router.\n\n144\n00:07:18.650 --> 00:07:22.555\nLet's move to a little more modern router.\n\n145\n00:07:22.555 --> 00:07:27.481\nSo if I jump into a, let's do a 2900, so\n\n146\n00:07:27.481 --> 00:07:32.288\nif I jump into a 29, we'll do 2911.\n\n147\n00:07:32.288 --> 00:07:37.222\nYeah, Software on Chassis, and\nwe take a look at the 2900.\n\n148\n00:07:37.222 --> 00:07:40.450\nI'm gonna go into IOS Software, and\nwe'll see what's available here.\n\n149\n00:07:40.450 --> 00:07:44.352\nNotice on the 2900,\nit doesn't have IP base,\n\n150\n00:07:44.352 --> 00:07:48.181\nIP advanced services,\nenterprise, whatever.\n\n151\n00:07:48.181 --> 00:07:51.430\nIt just has c2900 universal, right?\n\n152\n00:07:51.430 --> 00:07:53.156\nWhat does universal mean?\n\n153\n00:07:53.156 --> 00:07:58.975\nWell, universal means it has all\nthe features baked right into one file.\n\n154\n00:07:58.975 --> 00:08:01.851\nAnd when you load this on,\nthat doesn't mean you get everything.\n\n155\n00:08:01.851 --> 00:08:03.434\nIt means you get IP.\n\n156\n00:08:03.434 --> 00:08:10.560\nAnd when you buy this router, you get\na Cisco pack, a product activation key.\n\n157\n00:08:10.560 --> 00:08:13.090\nAnd you can plug that\nkey into the software,\n\n158\n00:08:13.090 --> 00:08:16.730\nand it unlocks the other features\nthat you need, all right?\n\n159\n00:08:16.730 --> 00:08:20.640\nSo that's the new licensing model\nthat you'll see on the newer gear.\n\n160\n00:08:20.640 --> 00:08:22.998\nRight now, Cisco is supporting both.\n\n161\n00:08:22.998 --> 00:08:26.990\nSo, in real-life land and\non the exam, you may see either one.\n\n162\n00:08:26.990 --> 00:08:30.500\nYou may see universal like this, or\nyou may see the other features, names,\n\n163\n00:08:30.500 --> 00:08:32.290\nthe feature set, right there.\n\n164\n00:08:32.290 --> 00:08:35.460\nBut know that probably within two years,\n\n165\n00:08:35.460 --> 00:08:37.950\nall Cisco equipment will use\nthese new universal images.\n\n166\n00:08:37.950 --> 00:08:40.580\nThat's where it's gonna be, but\nthat just hasn't happened yet, all right.\n\n167\n00:08:40.580 --> 00:08:42.670\nAnd so, then you have\na software key you plug in to\n\n168\n00:08:42.670 --> 00:08:43.939\nunlock the features that you need.\n\n169\n00:08:45.100 --> 00:08:48.640\nNow, the rest of the filename is\nkind of important also, right?\n\n170\n00:08:48.640 --> 00:08:50.880\nYou'll notice the k9\nthat I've been ignoring.\n\n171\n00:08:50.880 --> 00:08:54.040\nAnd I had the k9 over on My Equipment,\ntoo, right?\n\n172\n00:08:54.040 --> 00:08:56.360\nSo, on the k9, what is that?\n\n173\n00:08:56.360 --> 00:09:01.520\nWell, the United States has this law\nthat says when a US company exports\n\n174\n00:09:01.520 --> 00:09:04.448\nequipment to other countries they're not\nallowed to put hard encryption on there.\n\n175\n00:09:04.448 --> 00:09:06.850\nIn fact, 40-bit encryption\nis the highest they allow,\n\n176\n00:09:06.850 --> 00:09:08.400\nwhich is trivial to break these days.\n\n177\n00:09:08.400 --> 00:09:10.210\nSo it might as well not\nhave any encryption.\n\n178\n00:09:10.210 --> 00:09:12.840\nSo, when Cisco releases\noperating systems like this,\n\n179\n00:09:12.840 --> 00:09:14.430\nthey have to release two versions.\n\n180\n00:09:14.430 --> 00:09:17.360\nOne that has encryption, and\none that doesn't have encryption.\n\n181\n00:09:17.360 --> 00:09:20.835\nIf if has encryption,\nitl'l have a k9 in the name like this.\n\n182\n00:09:20.835 --> 00:09:23.535\nIf it doesn't have encryption,\nit won't have a K9.\n\n183\n00:09:23.535 --> 00:09:27.835\nSo when you buy your gear, if you're in\nthe US, you'll normally have IP based or\n\n184\n00:09:27.835 --> 00:09:28.935\nIP universal K9.\n\n185\n00:09:28.935 --> 00:09:32.045\nBut if you buy it in another\ncountry outside of the U.S.,\n\n186\n00:09:32.045 --> 00:09:36.075\nit'll normally be IP based or\nIP universal without the K9, right?\n\n187\n00:09:36.075 --> 00:09:38.780\nSo that K9 is kind of important there.\n\n188\n00:09:38.780 --> 00:09:43.836\nThe rest of it all has to do\nwith the release itself, okay?\n\n189\n00:09:43.836 --> 00:09:47.130\nThe mz, it used to have more\nmeaning than it does now.\n\n190\n00:09:47.130 --> 00:09:50.650\nBut typically it just means that this is\na binary release that is zip archived, and\n\n191\n00:09:50.650 --> 00:09:52.400\nit's got the operating system in it.\n\n192\n00:09:52.400 --> 00:09:56.808\nSo what's after that is\nreally what's important.\n\n193\n00:09:56.808 --> 00:09:57.910\n151-1.T.\n\n194\n00:09:57.910 --> 00:09:58.606\nOkay?\n\n195\n00:09:58.606 --> 00:09:59.119\nSo, 15.\n\n196\n00:09:59.119 --> 00:10:02.500\nThat's the primary operating system.\n\n197\n00:10:02.500 --> 00:10:07.270\nMost Cisco equipment these days ships\nwith a 15-point operating system.\n\n198\n00:10:07.270 --> 00:10:09.190\nThere are many that still have a 12-point,\nthough.\n\n199\n00:10:09.190 --> 00:10:11.360\nSome Cisco switches,\nthey still have a 12-point.\n\n200\n00:10:11.360 --> 00:10:13.920\nBut most systems have all been\nupgraded to 15s at this point.\n\n201\n00:10:13.920 --> 00:10:15.660\nNow, I know that seems\nlike a big difference.\n\n202\n00:10:15.660 --> 00:10:20.050\nCisco, when I started,\nI started with Cisco back in 1999 or 2000.\n\n203\n00:10:20.050 --> 00:10:24.712\nAnd back then we were running 11.0, 11.3.\n\n204\n00:10:24.712 --> 00:10:26.710\nThose were the OSs we were running then.\n\n205\n00:10:26.710 --> 00:10:28.810\nAnd then they went from 11 to 12.\n\n206\n00:10:28.810 --> 00:10:31.775\nAnd they went 12.1, 12.2, 12.3, 12.4.\n\n207\n00:10:31.775 --> 00:10:33.750\nAnd then they jumped to 15.0.\n\n208\n00:10:33.750 --> 00:10:35.980\nThey skipped 13 and 14,\njust went right to 15.\n\n209\n00:10:35.980 --> 00:10:38.600\nSo, it seems like a big gap,\nbut it's really not that big.\n\n210\n00:10:38.600 --> 00:10:44.600\nAnd now, we've got 15.1, 15.2, up to, I\nthink 15.4 is the highest I've seen today.\n\n211\n00:10:44.600 --> 00:10:46.590\nSo 15 is the major version.\n\n212\n00:10:46.590 --> 00:10:49.515\nAnd this 1 is my minor version, right?\n\n213\n00:10:49.515 --> 00:10:50.443\n15.1 is out.\n\n214\n00:10:50.443 --> 00:10:54.150\nIf 15.2 comes out,\nthere's a major version, and\n\n215\n00:10:54.150 --> 00:10:56.080\nit most likely has new features.\n\n216\n00:10:56.080 --> 00:10:58.212\nSo when you jump a major\nversion like that,\n\n217\n00:10:58.212 --> 00:11:01.010\nI guess that would would be\nconsidered a minor version.\n\n218\n00:11:01.010 --> 00:11:03.330\nIf you jump a major,\nyou're expecting big changes.\n\n219\n00:11:03.330 --> 00:11:06.520\nThe big change between 12 and\n15 was the licensing model.\n\n220\n00:11:06.520 --> 00:11:09.552\nUnder 12,\nit was always that file based feature set,\n\n221\n00:11:09.552 --> 00:11:10.987\nyour file determined the features you had.\n\n222\n00:11:10.987 --> 00:11:14.055\nIn 15, that's where they\nintroduced the licensing model.\n\n223\n00:11:14.055 --> 00:11:17.660\nBut you can see on this router,\nnot every 15 follows that.\n\n224\n00:11:17.660 --> 00:11:19.440\nSo, it gets kind of muddled.\n\n225\n00:11:19.440 --> 00:11:24.090\nThe next part though, that 1, if I get\na 15.2, the odds are it adds new features.\n\n226\n00:11:24.090 --> 00:11:26.315\nThat's usually how it works.\n\n227\n00:11:26.315 --> 00:11:28.130\n15.3 would add even more new features.\n\n228\n00:11:28.130 --> 00:11:30.760\nWell, with new features can\nsometimes cause new bugs.\n\n229\n00:11:30.760 --> 00:11:32.490\nSo I don't necessarily want that.\n\n230\n00:11:32.490 --> 00:11:38.570\nThe next part though -1, -1 tells me\nthough this was a hot fix, right?\n\n231\n00:11:38.570 --> 00:11:42.280\nSo 15.1, subrelease 1,\nthat let's me know there was a bug or\n\n232\n00:11:42.280 --> 00:11:46.230\na security exploit that was patched, and\nwe update it to, or we need to update.\n\n233\n00:11:46.230 --> 00:11:47.500\nThere might be a -2, -3.\n\n234\n00:11:47.500 --> 00:11:49.510\nThese little dashes like these,\n\n235\n00:11:49.510 --> 00:11:52.900\nyou want to do this upgrades\ntypically as soon as possible, right?\n\n236\n00:11:52.900 --> 00:11:55.090\nIf it's security, absolutely soon.\n\n237\n00:11:55.090 --> 00:11:59.600\nIf it's a bug fix, it depends on whether\nit's a bug in a feature you use or not.\n\n238\n00:11:59.600 --> 00:12:01.450\nIt might be a bug in\na feature you don't use.\n\n239\n00:12:01.450 --> 00:12:02.150\nSo what do you care?\n\n240\n00:12:02.150 --> 00:12:03.910\nIt has a bug in a DHCP server.\n\n241\n00:12:03.910 --> 00:12:05.170\nGreat, I don't use it.\n\n242\n00:12:05.170 --> 00:12:05.990\nWho cares, right?\n\n243\n00:12:05.990 --> 00:12:07.290\nSo you may not need to update.\n\n244\n00:12:07.290 --> 00:12:08.220\nAlways check that out.\n\n245\n00:12:08.220 --> 00:12:10.200\nDon't assume you have to update.\n\n246\n00:12:10.200 --> 00:12:11.140\nSometimes, it can hurt.\n\n247\n00:12:11.140 --> 00:12:13.710\nSometimes, you get an update and\nthere's some new bug introduced and\n\n248\n00:12:13.710 --> 00:12:14.540\nyou end up regretting it.\n\n249\n00:12:14.540 --> 00:12:15.450\nSo, always be careful with that.\n\n250\n00:12:16.470 --> 00:12:18.325\nBut if it's security,\nyou definitely wanna rush that out.\n\n251\n00:12:18.325 --> 00:12:20.600\nThen, this next part, this letter.\n\n252\n00:12:20.600 --> 00:12:22.300\nYou'll see different\nletters that come out.\n\n253\n00:12:22.300 --> 00:12:24.890\nA, T, X, M.\n\n254\n00:12:24.890 --> 00:12:26.550\nThere's a few different ones you'll see.\n\n255\n00:12:26.550 --> 00:12:29.325\nFor the most part,\nthey don't have a ton of meaning to us.\n\n256\n00:12:29.325 --> 00:12:31.630\nThere's some that really\nshould be a warning sign X.\n\n257\n00:12:31.630 --> 00:12:33.160\nYou never wanna run an X, right?\n\n258\n00:12:33.160 --> 00:12:34.470\nX is experimental.\n\n259\n00:12:34.470 --> 00:12:38.220\nThat means that Cisco has identified\na bug or a security exploit,\n\n260\n00:12:38.220 --> 00:12:40.270\nand they're testing a fix.\n\n261\n00:12:40.270 --> 00:12:41.830\nAnd here's one of the test releases.\n\n262\n00:12:41.830 --> 00:12:43.330\nYou don't want that in production.\n\n263\n00:12:43.330 --> 00:12:45.860\nNow, I've run those,\nwhere I had Cisco switches.\n\n264\n00:12:45.860 --> 00:12:49.820\nWe had, I think they were 3560s,\nif I remember right, that were deployed.\n\n265\n00:12:49.820 --> 00:12:50.930\nHundreds of them.\n\n266\n00:12:50.930 --> 00:12:53.280\nAnd I noticed they were all\nrebooting every two weeks.\n\n267\n00:12:53.280 --> 00:12:56.790\nThey all had this consistent pattern\nof rebooting every two weeks.\n\n268\n00:12:56.790 --> 00:12:57.940\nAnd so, there was a memory leak.\n\n269\n00:12:57.940 --> 00:13:02.550\nAnd so, I worked with a Cisco tech,\nthe technical assistance, and they helped\n\n270\n00:13:02.550 --> 00:13:06.960\nto isolate the memory leak, and they\ncreated an experimental release to fix it.\n\n271\n00:13:06.960 --> 00:13:08.790\nAnd they sent that to me,\nand I deployed it on 5.\n\n272\n00:13:08.790 --> 00:13:11.260\nI had hundreds of switches,\ndeployed it on 5.\n\n273\n00:13:11.260 --> 00:13:13.990\nAnd we waited, and\nwe saw that that was fixed.\n\n274\n00:13:13.990 --> 00:13:15.400\nAnd once we saw that it was fixed,\n\n275\n00:13:15.400 --> 00:13:18.780\nthen they turned that fix over\ninto a real release down the road.\n\n276\n00:13:18.780 --> 00:13:21.640\nI ran the experimental version\ncuz I was working with Cisco TAC.\n\n277\n00:13:21.640 --> 00:13:24.000\nOtherwise, I would not have\nrun an experimental version.\n\n278\n00:13:24.000 --> 00:13:25.890\nUsually, the Xs, you wanna stay away from.\n\n279\n00:13:25.890 --> 00:13:26.873\nAll right?\n\n280\n00:13:26.873 --> 00:13:31.280\nT, those are the technical or- Technical,\nyeah.\n\n281\n00:13:31.280 --> 00:13:34.180\nThey typically are testing out,\nI shouldn't say testing,\n\n282\n00:13:34.180 --> 00:13:37.778\nbut are releasing some functionality\ninto it that you may or may not need.\n\n283\n00:13:37.778 --> 00:13:40.290\nThe M are the mainline, and\nthat's what you normally wanna look for.\n\n284\n00:13:40.290 --> 00:13:42.090\nIf there's an M, that's the way to go.\n\n285\n00:13:42.090 --> 00:13:43.375\nOr if there's no letter at all, right?\n\n286\n00:13:43.375 --> 00:13:46.280\n[LAUGH] That's another one\nthat's a good one to run.\n\n287\n00:13:46.280 --> 00:13:49.055\nSo, just be aware X is the one\nyou kinda wanna stay away from.\n\n288\n00:13:49.055 --> 00:13:51.760\nAnd that's how those letters\nnormally work out to, all right?\n\n289\n00:13:51.760 --> 00:13:54.046\nAnd then the .bin just lets me\nknow there's a binary file, right?\n\n290\n00:13:54.046 --> 00:13:58.150\nAnd it's actually a zip, but even if you\ndecompress it, it still stays as a bin.\n\n291\n00:13:58.150 --> 00:14:00.940\nActually, if you decompress it,\nthe extension disappears all together.\n\n292\n00:14:00.940 --> 00:14:02.492\nBut it is still a binary\nfile at that point.\n\n293\n00:14:02.492 --> 00:14:03.610\nAll right.\n\n294\n00:14:03.610 --> 00:14:07.570\nSo, that's what we can get from the file\nname of our router when we look at it.\n\n295\n00:14:07.570 --> 00:14:10.540\nAnd when I look at that,\ndo I know if that's up to date or not?\n\n296\n00:14:10.540 --> 00:14:12.310\nI really don't.\n\n297\n00:14:12.310 --> 00:14:14.930\nI need to go to system's website and\nfind out if that's up to date.\n\n298\n00:14:14.930 --> 00:14:15.880\nIt may be, it may not be.\n\n299\n00:14:15.880 --> 00:14:20.040\nAnd if you go to support.cisco.com,\nand you log in, if you have a SmartNet\n\n300\n00:14:20.040 --> 00:14:23.280\nagreement, you can see if there's\nan update and download the update.\n\n301\n00:14:23.280 --> 00:14:25.980\nEven without a SmartNet agreement, you\ncan log in and see if there's an update.\n\n302\n00:14:25.980 --> 00:14:28.600\nI showed you guys this Cisco\nwebpage there a second ago,\n\n303\n00:14:28.600 --> 00:14:31.350\nand I'm not logged in right now,\nat least I don't think I am.\n\n304\n00:14:31.350 --> 00:14:33.390\nAnd, yeah, I'm not logged in.\n\n305\n00:14:33.390 --> 00:14:35.560\nIf I log in,\nI've got contracts that are tied to me, so\n\n306\n00:14:35.560 --> 00:14:37.520\nI see all the equipment\nthat I can download for.\n\n307\n00:14:37.520 --> 00:14:41.190\nBut here, I'm not even logged in, but\nI can still see that there's an update.\n\n308\n00:14:41.190 --> 00:14:42.670\nAnd see that little lock right there?\n\n309\n00:14:42.670 --> 00:14:44.470\nThat's telling me I don't have\npermission to download it, or\n\n310\n00:14:44.470 --> 00:14:46.630\nthat I need to log in to download it.\n\n311\n00:14:46.630 --> 00:14:48.777\nBut I can still see that\nthere's an update, and\n\n312\n00:14:48.777 --> 00:14:50.290\nit tells me a little bit about it.\n\n313\n00:14:50.290 --> 00:14:54.688\nAnd so, I can see for this 2900,\nI can go down here to the latest, and\n\n314\n00:14:54.688 --> 00:14:58.174\n15, 15.6, I think I said 15.4 earlier.\n\n315\n00:14:58.174 --> 00:15:01.240\n15.6.3M is out.\n\n316\n00:15:01.240 --> 00:15:03.310\nNow, that M tells me this is mainline.\n\n317\n00:15:03.310 --> 00:15:04.770\nI usually want this.\n\n318\n00:15:04.770 --> 00:15:07.960\nThat ED is early deployment.\n\n319\n00:15:07.960 --> 00:15:10.730\nThat means that Cisco's tested it.\n\n320\n00:15:10.730 --> 00:15:11.440\nIt's okay.\n\n321\n00:15:11.440 --> 00:15:14.350\nThey think it's okay,\nnow they're rolling it out to the world.\n\n322\n00:15:14.350 --> 00:15:17.160\nBut it hasn't been out there\nin the world very long, and so\n\n323\n00:15:17.160 --> 00:15:22.190\nit may not have been tested as\ngreat as you want it to be, right?\n\n324\n00:15:22.190 --> 00:15:24.014\nSo, notice up here I have\nthese suggested ones.\n\n325\n00:15:24.014 --> 00:15:29.940\n15.6.3 is out, but\nthey're not suggesting it.\n\n326\n00:15:29.940 --> 00:15:32.200\nThey're suggesting that I run 15.5 or\n15.4.\n\n327\n00:15:32.200 --> 00:15:33.075\nWhy is that?\n\n328\n00:15:33.075 --> 00:15:35.658\nWell, 15.5 is early deployment also.\n\n329\n00:15:35.658 --> 00:15:41.070\n15.4 MD mainline deployment,\nthis is the main one.\n\n330\n00:15:41.070 --> 00:15:43.750\nIt's rolled out, they've tested it,\nit's being run by thousands or\n\n331\n00:15:43.750 --> 00:15:46.440\ntens of thousands of customers\nall around the world.\n\n332\n00:15:46.440 --> 00:15:49.680\nYou can trust this is gonna be a stable,\nsafe release.\n\n333\n00:15:49.680 --> 00:15:54.199\nAnd there's no major security exploits\nthat would dictate we need to move up to\n\n334\n00:15:54.199 --> 00:15:56.604\na higher release than this one right now.\n\n335\n00:15:56.604 --> 00:15:58.776\nSo, that's normally what you're gonna do,\nis you're gonna look for\n\n336\n00:15:58.776 --> 00:15:59.399\nthe suggested one.\n\n337\n00:15:59.399 --> 00:16:00.820\nIt has a nice little star by it.\n\n338\n00:16:00.820 --> 00:16:01.767\nThat's the one you want.\n\n339\n00:16:01.767 --> 00:16:06.990\nUnless there's some specific reason where\nyou need to go higher than that, right?\n\n340\n00:16:06.990 --> 00:16:12.600\nAnd if I'm in the 15.4 release,\nI can see down here the latest for\n\n341\n00:16:12.600 --> 00:16:16.104\n15.4 is 15.4.3M5 with a star.\n\n342\n00:16:16.104 --> 00:16:17.425\nThat's the one that's suggested.\n\n343\n00:16:17.425 --> 00:16:22.860\nSo there's no 15.4.4 with\nthe security fix that I need, right?\n\n344\n00:16:22.860 --> 00:16:23.490\nIt's not there.\n\n345\n00:16:23.490 --> 00:16:25.118\nThis one is the one that I want.\n\n346\n00:16:25.118 --> 00:16:28.473\nIf I'm in a lab,\nI might try a 15.5 or 15.6.\n\n347\n00:16:28.473 --> 00:16:30.030\nI might go crazy, right?\n\n348\n00:16:30.030 --> 00:16:32.850\nBut in production,\nyou wanna stay stable and safe so\n\n349\n00:16:32.850 --> 00:16:34.930\nyou're gonna use what's suggested.\n\n350\n00:16:34.930 --> 00:16:35.430\nAnd then over here,\n\n351\n00:16:35.430 --> 00:16:38.600\nyou would just be able to download that\nfile and you're ready to do the update.\n\n352\n00:16:38.600 --> 00:16:42.070\nAnd see how we've got the universal\nwith k9 and the universal here.\n\n353\n00:16:42.070 --> 00:16:45.360\nSee how this one says no\npayload encryption but\n\n354\n00:16:45.360 --> 00:16:48.030\nit actually has the k9 in the name.\n\n355\n00:16:48.030 --> 00:16:48.753\nWhat's that about?\n\n356\n00:16:48.753 --> 00:16:54.010\nWell, Cisco started kind of skirting\nthe rules a bit on this one.\n\n357\n00:16:54.010 --> 00:16:58.606\nSo what's going on here is it's got k9 for\nSSH, so you can SSH into the router\n\n358\n00:16:58.606 --> 00:17:03.347\nitself and secure your management traffic,\nbut it has no payload encryption,\n\n359\n00:17:03.347 --> 00:17:06.910\nin other words, it has no ipsec and\nno VPN functionality.\n\n360\n00:17:06.910 --> 00:17:10.000\nSo it can't encrypt traffic\npassing through it.\n\n361\n00:17:10.000 --> 00:17:13.335\nIt can only encrypt traffic destined for\nthe device itself.\n\n362\n00:17:13.335 --> 00:17:16.009\nSo that's where it's kind\nof a blend of the two.\n\n363\n00:17:16.009 --> 00:17:17.040\nBut you've gotta pay attention to that.\n\n364\n00:17:17.040 --> 00:17:20.620\nThese two different versions that\nare following those US export laws.\n\n365\n00:17:20.620 --> 00:17:22.420\nIf you're in the US,\nyou don't really care about this.\n\n366\n00:17:22.420 --> 00:17:25.732\nBut if you're outside of the US,\nit does make a big difference.\n\n367\n00:17:25.732 --> 00:17:29.625\nAll right, the other thing that we\nneed to be aware of, when you go and\n\n368\n00:17:29.625 --> 00:17:32.311\nfind a new operating system release,\nis that,\n\n369\n00:17:32.311 --> 00:17:35.756\nover on the side here,\nit'll list how much memory you need.\n\n370\n00:17:35.756 --> 00:17:38.876\nAnd there's two different numbers you get,\nDRAM and Flash, all right?\n\n371\n00:17:38.876 --> 00:17:40.930\nFlash, that's your hard drive space.\n\n372\n00:17:40.930 --> 00:17:44.450\nHow much space is it gonna take\nme just to store this image?\n\n373\n00:17:44.450 --> 00:17:48.790\nThen you'll see I need 256 megs\nof Flash to store this image.\n\n374\n00:17:48.790 --> 00:17:52.490\nBut, when I boot up my router, it's gonna\ndecompress it and copy it into RAM.\n\n375\n00:17:52.490 --> 00:17:56.200\nAnd so I'm gonna need more RAM,\nI'm gonna need 512 megs of RAM.\n\n376\n00:17:56.200 --> 00:17:59.690\nWell for a 2911, I believe this\nis the base deployment side.\n\n377\n00:17:59.690 --> 00:18:02.613\nI think when you buy a 2911,\nthis is the minimum you can get,\n\n378\n00:18:02.613 --> 00:18:05.760\n256 and 512, but\nyou can get it much higher, right?\n\n379\n00:18:05.760 --> 00:18:09.536\nBe careful because as new versions\ncome out, especially these mainlines,\n\n380\n00:18:09.536 --> 00:18:11.011\nthat it can jump really high.\n\n381\n00:18:11.011 --> 00:18:13.832\nSo if we go back to\nthe original 15.0 release.\n\n382\n00:18:13.832 --> 00:18:16.308\nI'm just gonna go way back to that one,\nand I look at it.\n\n383\n00:18:16.308 --> 00:18:18.043\nWell, it's 256.\n\n384\n00:18:18.043 --> 00:18:19.880\nThat's not a great example then, is it?\n\n385\n00:18:19.880 --> 00:18:21.730\nSometimes you'll see\nwhere when you jump up,\n\n386\n00:18:21.730 --> 00:18:24.530\nit requires you to\nupgrade your memory also.\n\n387\n00:18:24.530 --> 00:18:27.014\nAnd this one's not gonna\nbe a good example.\n\n388\n00:18:27.014 --> 00:18:30.380\nLet's switch to a higher end 2900,\n\n389\n00:18:30.380 --> 00:18:35.241\nright, something that has\nthe big expansion ports on it.\n\n390\n00:18:35.241 --> 00:18:36.394\nSomething crazy like that.\n\n391\n00:18:36.394 --> 00:18:37.770\nAnd now the site's gonna run slow.\n\n392\n00:18:37.770 --> 00:18:42.480\nSo you'll find though sometimes where\nmaybe the base image only requires 128\n\n393\n00:18:42.480 --> 00:18:45.075\nmegs of Flash and 256 megs of RAM.\n\n394\n00:18:45.075 --> 00:18:46.835\nBut you get to advanced Enterprise and\n\n395\n00:18:46.835 --> 00:18:50.465\nnow you need 512 megs of Flash and\na gig or RAM.\n\n396\n00:18:50.465 --> 00:18:52.432\nYou really see that with the voice stuff,\nright?\n\n397\n00:18:52.432 --> 00:18:56.297\nSo if I take a, let's do a 3800.\n\n398\n00:18:56.297 --> 00:18:57.400\nWe'll go a little older.\n\n399\n00:18:57.400 --> 00:19:01.191\nSo I'm gonna take a 3845\njust to kinda show my point.\n\n400\n00:19:01.191 --> 00:19:02.711\n3845's a bigger router.\n\n401\n00:19:02.711 --> 00:19:04.070\nIt's a 2u if I remember right.\n\n402\n00:19:04.070 --> 00:19:06.160\nIt might be 4u, they're bigger.\n\n403\n00:19:06.160 --> 00:19:09.270\nAnd they usually used in\nvoice over IP deployment.\n\n404\n00:19:09.270 --> 00:19:11.660\nVoice over IP requires a lot of extra RAM.\n\n405\n00:19:11.660 --> 00:19:13.820\nSo when I dive into the iOS software for\nthis one,\n\n406\n00:19:13.820 --> 00:19:16.320\nwhat I should see is different\nmemory requirements.\n\n407\n00:19:16.320 --> 00:19:19.950\nSo when you go to buy a license for\nenhanced features,\n\n408\n00:19:19.950 --> 00:19:22.950\nyou might need to upgrade your memory too,\nto stay in line with it.\n\n409\n00:19:22.950 --> 00:19:24.290\nYeah, here's a great one.\n\n410\n00:19:24.290 --> 00:19:30.090\nAll right, so this is a 3845 and if I look\nat IP BASE, IP BASE k9 with encryption\n\n411\n00:19:30.090 --> 00:19:35.440\nneeds 64 megs of Flash and\nit needs 256 megs of RAM, right?\n\n412\n00:19:35.440 --> 00:19:42.046\nBut if I come over here and\nfind the voice, I'm going crazy.\n\n413\n00:19:42.046 --> 00:19:43.967\nHere, we'll do integrated voice and\nvideo, right?\n\n414\n00:19:43.967 --> 00:19:45.280\nSo I want to run this one.\n\n415\n00:19:45.280 --> 00:19:47.170\nWell, if I look at it's requirements.\n\n416\n00:19:47.170 --> 00:19:50.050\n128 mb of Flash, 512 megs of RAM, okay?\n\n417\n00:19:51.580 --> 00:19:53.150\nDifferent numbers.\n\n418\n00:19:53.150 --> 00:19:57.450\nThe universal iOSs don't have\nthat because it is one iOS file.\n\n419\n00:19:57.450 --> 00:20:00.259\nBut the file based feature ones,\nthey do have that.\n\n420\n00:20:00.259 --> 00:20:01.446\nThere are different requirements.\n\n421\n00:20:01.446 --> 00:20:04.921\nAnd even sometimes in the universals,\nyou'll see in the release notes that says\n\n422\n00:20:04.921 --> 00:20:08.670\nif you're going to be using all these\nfeatures at once, you need more memory.\n\n423\n00:20:08.670 --> 00:20:11.690\nAnd Cisco routers by and\nlarge you can pop the lid off of them.\n\n424\n00:20:11.690 --> 00:20:15.290\nAnd they've got memory chips right in\nthere that you can buy upgrade kits or\n\n425\n00:20:15.290 --> 00:20:15.950\nreplace yourself.\n\n426\n00:20:15.950 --> 00:20:17.490\nYou don't have to send it into Cisco.\n\n427\n00:20:17.490 --> 00:20:20.360\nSo you don't necessarily have to buy\nit with a certain amount of memory on\n\n428\n00:20:20.360 --> 00:20:22.460\nday one and now you're stuck,\nyou can upgrade them.\n\n429\n00:20:22.460 --> 00:20:25.430\nDo it through Cisco though,\ncuz they have approved memory.\n\n430\n00:20:25.430 --> 00:20:28.850\nAnd if you have unapproved memory inside\nof your router, they won't support you.\n\n431\n00:20:28.850 --> 00:20:30.760\nEven if you have a Smart Net agreement,\nthey won't support you.\n\n432\n00:20:30.760 --> 00:20:34.850\nSo you want to make sure that you\nalways use authorized memory, right?\n\n433\n00:20:34.850 --> 00:20:37.640\nSo, going back to my router back here.\n\n434\n00:20:37.640 --> 00:20:39.980\nI've got this, whatever it is, 2800,\n\n435\n00:20:39.980 --> 00:20:45.420\nand the 2800 series router's an older\nrouter, and I'm running a 15.1.\n\n436\n00:20:45.420 --> 00:20:49.063\nWell, because it's an older router,\nit's reached end of life and so\n\n437\n00:20:49.063 --> 00:20:51.050\n15.1 is the latest that I can get.\n\n438\n00:20:51.050 --> 00:20:54.400\nAnd so when I choose it,\nnotice over here I see all these files and\n\n439\n00:20:54.400 --> 00:20:56.894\nthe release date's on them, March 2015.\n\n440\n00:20:56.894 --> 00:20:58.913\nThat's not too terribly long ago but\n\n441\n00:20:58.913 --> 00:21:02.116\nthe odds are security exploits\nhave happened since then.\n\n442\n00:21:02.116 --> 00:21:05.345\nAnd that means that while this is a\nperfectly good router, that I can run it,\n\n443\n00:21:05.345 --> 00:21:08.273\nit'll route traffic, I probably\ndon't want to use it in production\n\n444\n00:21:08.273 --> 00:21:11.526\nbecause there could be security exploits\nthat are no longer being patched.\n\n445\n00:21:11.526 --> 00:21:15.327\nCisco equipment will run a long,\nlong time, it'll run ten years.\n\n446\n00:21:15.327 --> 00:21:19.963\nBut what Cisco does is they have this\nlife cycle where they will end of life\n\n447\n00:21:19.963 --> 00:21:21.031\nthe equipment.\n\n448\n00:21:21.031 --> 00:21:23.860\nWhich means they're gonna stop selling it,\nright?\n\n449\n00:21:23.860 --> 00:21:28.390\nBut they may continue to support it,\nso you may see end of sales dates and\n\n450\n00:21:28.390 --> 00:21:31.160\nend of support dates, also, EOS dates.\n\n451\n00:21:31.160 --> 00:21:33.804\nAnd with those, yeah, they might\nnot sell the equipment any more but\n\n452\n00:21:33.804 --> 00:21:35.370\nthey're still gonna support it.\n\n453\n00:21:35.370 --> 00:21:37.680\nAnd they'll usually go\nout about five years.\n\n454\n00:21:37.680 --> 00:21:41.630\nWell, once five years runs out, the\nequipment may still be perfectly good, but\n\n455\n00:21:41.630 --> 00:21:43.900\nthey're not gonna do software updates for\nit anymore.\n\n456\n00:21:43.900 --> 00:21:45.910\nSo you have to make a choice.\n\n457\n00:21:45.910 --> 00:21:49.720\nIf you don't care about security, if this\nis in front of a firewall or whatever, and\n\n458\n00:21:49.720 --> 00:21:52.180\nyou're not really worried about it,\nyou can continue to run it.\n\n459\n00:21:52.180 --> 00:21:54.320\nBut ideally,\nyou'd replace that equipment out.\n\n460\n00:21:54.320 --> 00:21:56.710\nMove into something that's\nstill under software support so\n\n461\n00:21:56.710 --> 00:21:59.480\nyou can keep those fixes coming in,\nall right?\n\n462\n00:21:59.480 --> 00:22:01.337\nWell, on my system, I wanna upgrade it.\n\n463\n00:22:01.337 --> 00:22:05.195\nBecause I'm running 15.1 right now, and\nI can see that actually I'm running,\n\n464\n00:22:05.195 --> 00:22:06.508\nwhat did I say I was running?\n\n465\n00:22:06.508 --> 00:22:10.272\n15.1.1, yeah 15.1.1, and\n\n466\n00:22:10.272 --> 00:22:16.836\nI know that 15.1.4 is out, so\nI want to bump it up to 15.1.4.\n\n467\n00:22:16.836 --> 00:22:19.399\nI also know that I'm running\nthe voice feature set,\n\n468\n00:22:19.399 --> 00:22:22.775\nand I'm not gonna be using voice, so\nmaybe I want to get rid of that and\n\n469\n00:22:22.775 --> 00:22:25.706\nmove to a different feature set\nto free up some RAM, right?\n\n470\n00:22:25.706 --> 00:22:28.780\nHaving that extra RAM would mean I\ncould have bigger routing tables or\n\n471\n00:22:28.780 --> 00:22:31.710\nhandle more NAT translations\nby having that extra space.\n\n472\n00:22:31.710 --> 00:22:33.590\nSo I don't want to run the extra\nfeatures if I don't need them.\n\n473\n00:22:33.590 --> 00:22:35.060\nOr maybe I'm just not licensed for it.\n\n474\n00:22:35.060 --> 00:22:37.210\nMaybe somebody put that iOS on here and\nI'm not licensed for it,\n\n475\n00:22:37.210 --> 00:22:39.590\nso I wanna get back to what we've got.\n\n476\n00:22:39.590 --> 00:22:42.290\nAll right, so in that case,\nI need to upgrade my iOS.\n\n477\n00:22:42.290 --> 00:22:46.820\nNow before I upgrade the iOS, I need to\nunderstand the file system on my router.\n\n478\n00:22:46.820 --> 00:22:49.500\nThe router has RAM and it's got flash.\n\n479\n00:22:49.500 --> 00:22:53.278\nIf you do show version and\nmove all the way down to the bottom\n\n480\n00:22:53.278 --> 00:22:57.844\nof the show version output,\nit will tell you how much memory you have.\n\n481\n00:22:57.844 --> 00:23:01.570\nAnd so, looking at mine, I can see that I\nactually have a gig of RAM in this system,\n\n482\n00:23:01.570 --> 00:23:02.709\nso that's right there.\n\n483\n00:23:02.709 --> 00:23:05.628\nAnd then right down here,\nI'll see my flash.\n\n484\n00:23:05.628 --> 00:23:08.187\nI've got 500 megs of flash.\n\n485\n00:23:08.187 --> 00:23:10.950\nSo 500 megs of flash and a gig of RAM.\n\n486\n00:23:10.950 --> 00:23:14.699\nWe saw that the latest version of my iOS,\nif I want to upgrade,\n\n487\n00:23:14.699 --> 00:23:18.827\nlet's say I want to go all out full\non Advanced Enterprise, right?\n\n488\n00:23:18.827 --> 00:23:22.971\nIt just needs 128 megs of flash and\n512 megs of RAM.\n\n489\n00:23:22.971 --> 00:23:24.514\nI've got double that, right?\n\n490\n00:23:24.514 --> 00:23:27.042\nAnd I've got quadruple\nthat on the flash side.\n\n491\n00:23:27.042 --> 00:23:30.070\nWhy would I want more\nthan what's required?\n\n492\n00:23:30.070 --> 00:23:32.290\nWell, these are the bare minimums.\n\n493\n00:23:32.290 --> 00:23:34.380\nSo if you want a bigger routing table,\nbigger things like that,\n\n494\n00:23:34.380 --> 00:23:35.340\nyou'll need more memory.\n\n495\n00:23:35.340 --> 00:23:36.630\nBut the other thing is,\n\n496\n00:23:36.630 --> 00:23:39.880\nwe might want to store more than\none copy of the operating system.\n\n497\n00:23:39.880 --> 00:23:42.710\nRight now I've only got one copy,\nthe operating system of mine.\n\n498\n00:23:42.710 --> 00:23:46.302\nIf I wanna upgrade it, I need to delete\nthe operating system that's on there and\n\n499\n00:23:46.302 --> 00:23:47.224\ncopy up the new one.\n\n500\n00:23:47.224 --> 00:23:48.286\nWell while I'm copying,\n\n501\n00:23:48.286 --> 00:23:50.846\nthe router technically doesn't\nhave an operating system, so\n\n502\n00:23:50.846 --> 00:23:53.809\nif I were to lose power or whatever,\nnow I'd be locked out of the system.\n\n503\n00:23:53.809 --> 00:23:55.029\nSo there's a moment of risk.\n\n504\n00:23:55.029 --> 00:23:59.962\nIf I can store more than one copy Now I'm\nsafe, now I can reboot, and I'd be okay.\n\n505\n00:23:59.962 --> 00:24:01.966\nYou can also quickly fail\nback if you have a problem,\n\n506\n00:24:01.966 --> 00:24:04.030\nif you run into a bug you can\nflip back to the other one.\n\n507\n00:24:04.030 --> 00:24:07.050\nSo, it's always nice to have\nsome extra flash if you can,\n\n508\n00:24:07.050 --> 00:24:10.540\nit's not always possible, but\nif you can get the extra flash.\n\n509\n00:24:10.540 --> 00:24:13.350\nExtra RAM is always nice too,\nit's usually not that\n\n510\n00:24:13.350 --> 00:24:16.870\nmuch more money to get it maxed out, and\nthat's kind of the way I usually go.\n\n511\n00:24:18.390 --> 00:24:20.920\nAll right, so\nif I want to see that, right?\n\n512\n00:24:20.920 --> 00:24:25.030\nNow, notice on this one\nit's got ATA Compactflash.\n\n513\n00:24:25.030 --> 00:24:28.100\nSometimes the flash is\nright on the motherboard.\n\n514\n00:24:28.100 --> 00:24:29.610\nOther times it's on a compactflash card.\n\n515\n00:24:29.610 --> 00:24:33.300\nThis one actually has a little CF card\nthat I can pop out, and that's nice, too,\n\n516\n00:24:33.300 --> 00:24:36.290\nso if I wanted to do an upgrade, I could\njust swap out the card and boot it up.\n\n517\n00:24:36.290 --> 00:24:39.760\nThe configuration is stored in VRAM,\nso that's okay, right?\n\n518\n00:24:39.760 --> 00:24:42.960\nThe NVRAM is stored separately on\nthis one, I've got 239K of that, and\n\n519\n00:24:42.960 --> 00:24:45.950\nI can swap the CF card and now I'm\nupgraded, that's another way to do it.\n\n520\n00:24:45.950 --> 00:24:48.120\nBut not every router has it, and very,\n\n521\n00:24:48.120 --> 00:24:50.510\nvery few switches have that,\nit's almost always a router thing.\n\n522\n00:24:51.850 --> 00:24:56.660\nAll right, from the command line,\nI can do show flash:.\n\n523\n00:24:56.660 --> 00:24:58.670\nAnd that's going to show\nme what's in flash.\n\n524\n00:24:58.670 --> 00:25:01.015\nAnd I can see right here is that file.\n\n525\n00:25:01.015 --> 00:25:06.154\nC2800nm.ipvoicek-9-mz.151-1.T.bin, right?\n\n526\n00:25:06.154 --> 00:25:06.967\nSo there's that file.\n\n527\n00:25:06.967 --> 00:25:07.530\nThat's where it came from, all right?\n\n528\n00:25:07.530 --> 00:25:10.462\nI see some other files here.\n\n529\n00:25:10.462 --> 00:25:14.790\nThis is the web interface for\nthe SDM, if I choose to run that,\n\n530\n00:25:14.790 --> 00:25:18.010\nI normally turn it off, so I might want\nto delete that to make some extra room.\n\n531\n00:25:18.010 --> 00:25:18.840\nIt's not very big though.\n\n532\n00:25:18.840 --> 00:25:19.740\nIt's, what was it?\n\n533\n00:25:19.740 --> 00:25:22.440\n40 megs?\n4 megs, it's not big at all.\n\n534\n00:25:22.440 --> 00:25:26.090\nSo I've got a lot of extra room, and it's\ntelling me here I've got that extra room.\n\n535\n00:25:26.090 --> 00:25:28.750\nIt's in bytes, we kind of have\nto convert it a little bit.\n\n536\n00:25:28.750 --> 00:25:33.380\nBut I've got 455 megs of space\navailable on this system, tons of room.\n\n537\n00:25:33.380 --> 00:25:34.910\nSo if I want to upgrade,\n\n538\n00:25:34.910 --> 00:25:38.620\nI just need to copy up my other file,\nthen tell it to boot from the new file.\n\n539\n00:25:39.810 --> 00:25:42.820\nWhen your system boots up by default,\nit looks for\n\n540\n00:25:42.820 --> 00:25:46.330\nthe first available iOS file it can find.\n\n541\n00:25:46.330 --> 00:25:48.660\nSo, see how each of these\nfiles has a number.\n\n542\n00:25:48.660 --> 00:25:50.840\nThat's the order they were copied in.\n\n543\n00:25:50.840 --> 00:25:53.930\nSo it's going to look at each of\nthese until it finds a bin file.\n\n544\n00:25:53.930 --> 00:25:55.540\nAnd the first one is this guy right here.\n\n545\n00:25:55.540 --> 00:25:56.940\nThat's what it's going to boot.\n\n546\n00:25:56.940 --> 00:26:00.810\nIf I copy up my new file, it's still\ngoing to boot from the old file first,\n\n547\n00:26:00.810 --> 00:26:02.910\nbecause it's number two,\nmy new file's going to be number six.\n\n548\n00:26:04.110 --> 00:26:06.620\nSo, I've got two choices\non how to handle that.\n\n549\n00:26:06.620 --> 00:26:10.200\nI can delete the old file, but\nI kind of like to keep them around.\n\n550\n00:26:10.200 --> 00:26:13.770\nThe other option is I can go into config,\nand I can use the boot command to specify\n\n551\n00:26:13.770 --> 00:26:15.930\nwhat file file to boot, and\nthat's what we normally want, and\n\n552\n00:26:15.930 --> 00:26:17.600\nyou might even see that\nin your config already.\n\n553\n00:26:17.600 --> 00:26:21.938\nIf you do a show running config,\nyou might see these guys right here,\n\n554\n00:26:21.938 --> 00:26:25.020\nboot-start-marker and boot-end-marker.\n\n555\n00:26:25.020 --> 00:26:31.500\nHere is where you can put in a list, in\norder, of what iOS files you want to boot.\n\n556\n00:26:31.500 --> 00:26:34.080\nTry and boot this one,\nunless it fails, then boot this one.\n\n557\n00:26:34.080 --> 00:26:35.290\nUnless it fails, then boot this one.\n\n558\n00:26:35.290 --> 00:26:38.680\nYou can have as many as you need until\nyou run out of space on your flash.\n\n559\n00:26:39.830 --> 00:26:40.710\nAll right.\nSo,\n\n560\n00:26:40.710 --> 00:26:43.800\nI need to get my new iOS in here,\nhow do I do that?\n\n561\n00:26:43.800 --> 00:26:47.670\nThe same way we did back up and restore\nconfigurations in the other episodes,\n\n562\n00:26:47.670 --> 00:26:50.090\nwe can back up and\nrestore iOS the same way.\n\n563\n00:26:50.090 --> 00:26:52.110\nWe can use the copy command.\n\n564\n00:26:52.110 --> 00:26:56.550\nNow, I have this iOS sitting right here,\nwhoops, actually,\n\n565\n00:26:56.550 --> 00:26:58.150\nI'm using a different command.\n\n566\n00:26:58.150 --> 00:27:00.190\nI showed you guys show flash.\n\n567\n00:27:00.190 --> 00:27:03.660\nShow flash is nice, but I work on\nUnix systems and Windows systems, so\n\n568\n00:27:03.660 --> 00:27:04.780\nI'm use to a lot of other things.\n\n569\n00:27:04.780 --> 00:27:09.710\nSo I started to run LS, which is the Unix\nlist command, and that one doesn't work.\n\n570\n00:27:09.710 --> 00:27:11.860\nBut DIR the Windows command.\n\n571\n00:27:11.860 --> 00:27:16.070\nCisco's actually alias to that to show\nflash, and so, you can use DIR, and\n\n572\n00:27:16.070 --> 00:27:18.360\nit even formats it like\nMicrosoft would've, so\n\n573\n00:27:18.360 --> 00:27:20.260\nit's kind of laid out\na little bit differently.\n\n574\n00:27:20.260 --> 00:27:24.210\nIt's really the same data as show flash,\njust kind of organized a little\n\n575\n00:27:24.210 --> 00:27:26.990\ndifferently on the screen, so\nyou can do whichever one you want.\n\n576\n00:27:26.990 --> 00:27:29.560\nBut I might want to back up\n\n577\n00:27:29.560 --> 00:27:33.000\nmy existing iOS before I start\nmessing with the system.\n\n578\n00:27:33.000 --> 00:27:35.940\nAnd so I'm going to take that,\nand I'm going to back it up.\n\n579\n00:27:35.940 --> 00:27:37.800\nAnd so the way we do that\nis doing the copy command,\n\n580\n00:27:37.800 --> 00:27:39.610\njust like in our other episode.\n\n581\n00:27:39.610 --> 00:27:43.996\nSo what I'm going to do is come\nin here and say copy flash, and\n\n582\n00:27:43.996 --> 00:27:46.246\nI'll paste in that file name.\n\n583\n00:27:46.246 --> 00:27:50.230\nAnd I'm going to send\nit up to an FTP server,\n\n584\n00:27:50.230 --> 00:27:52.910\nwhich is actually running on my laptop.\n\n585\n00:27:52.910 --> 00:27:56.280\nAnd, I don't remember if I saved\nmy username and password, so\n\n586\n00:27:56.280 --> 00:27:59.816\nlet me just put in\nadmin:cisco123 at there.\n\n587\n00:27:59.816 --> 00:28:03.430\nSo I'm going to throw my\ncredentials in line with that, so\n\n588\n00:28:03.430 --> 00:28:04.890\nthat I can upload it up to the server.\n\n589\n00:28:04.890 --> 00:28:07.960\nIt's going to verify the IP address,\nand verify that file name.\n\n590\n00:28:07.960 --> 00:28:09.510\nAnd now it's going to start the upload.\n\n591\n00:28:09.510 --> 00:28:11.100\nIt should connect up and\nstart uploading, and\n\n592\n00:28:11.100 --> 00:28:13.890\nwhen it does,\nyou'll see exclamation points.\n\n593\n00:28:13.890 --> 00:28:17.520\nEvery exclamation point represents\ngood data that was sent up.\n\n594\n00:28:17.520 --> 00:28:20.870\nIf my network gets interrupted,\nthen I might see a dot up here.\n\n595\n00:28:20.870 --> 00:28:24.670\nAnd a dot would be that a packet was\nmissed, or didn't connect, or whatever,\n\n596\n00:28:24.670 --> 00:28:25.960\nit has to retransmit.\n\n597\n00:28:25.960 --> 00:28:27.740\nBut exclamation points,\nthat's what I want to see.\n\n598\n00:28:27.740 --> 00:28:30.140\nIt's going to rattle\nalong as it copies it.\n\n599\n00:28:30.140 --> 00:28:32.890\nNow, this iOS image isn't that big.\n\n600\n00:28:32.890 --> 00:28:35.390\nIf I look at the size up here.\n\n601\n00:28:35.390 --> 00:28:38.300\nLet's see, we got bytes,\nkilobytes, it's only 52mB.\n\n602\n00:28:38.300 --> 00:28:39.040\nOkay?\n\n603\n00:28:39.040 --> 00:28:42.200\nAnd I'm copying it right\nover my ethernet network.\n\n604\n00:28:42.200 --> 00:28:44.370\nSo, it should copy pretty quick.\n\n605\n00:28:44.370 --> 00:28:45.330\nThere we go.\n\n606\n00:28:45.330 --> 00:28:47.480\nSo that didn't take too long, 35 seconds.\n\n607\n00:28:47.480 --> 00:28:49.480\nIt's certainly not running at\nthe full speed of the ports.\n\n608\n00:28:49.480 --> 00:28:52.450\nI'm on a gigabit port over here,\nI got a gig on my laptop.\n\n609\n00:28:52.450 --> 00:28:56.735\nIt took 35 seconds to do 52 megs,\nit's not the fastest thing in the world.\n\n610\n00:28:56.735 --> 00:29:00.445\nAnd the main limitation there is\nthe flash inside of the router.\n\n611\n00:29:00.445 --> 00:29:03.135\nWhen you boot the router up,\nthat's when it uses flash.\n\n612\n00:29:03.135 --> 00:29:05.365\nThe whole rest of time\nit's running from RAM.\n\n613\n00:29:05.365 --> 00:29:08.245\nSo Cisco doesn't put the most expensive\nflash on the planet in these things,\n\n614\n00:29:08.245 --> 00:29:10.605\nit is kind of slow so be ready for that.\n\n615\n00:29:10.605 --> 00:29:12.975\nAnd that's where it's\nimportant to have extra flash.\n\n616\n00:29:12.975 --> 00:29:15.300\nBecause if I want to upgrade the system,\n\n617\n00:29:15.300 --> 00:29:18.780\nI've got to copy my new\niOS down to this system.\n\n618\n00:29:18.780 --> 00:29:19.920\nI need room for it.\n\n619\n00:29:19.920 --> 00:29:21.400\nWhat if I don't have room?\n\n620\n00:29:21.400 --> 00:29:24.570\nIf I don't have room,\nI need to delete the existing one.\n\n621\n00:29:24.570 --> 00:29:28.640\nI need to say, delete flash and\nthrow in that file name.\n\n622\n00:29:28.640 --> 00:29:31.080\nI need to delete it to make room for\nthe new one.\n\n623\n00:29:31.080 --> 00:29:35.680\nWell, once I delete it,\nI've no longer got an iOS in flash.\n\n624\n00:29:35.680 --> 00:29:37.810\nAnd if I start copying the new iOS,\n\n625\n00:29:37.810 --> 00:29:42.810\nand it takes 15 minutes to copy, during\nthat 15 minute window, I've got no iOS.\n\n626\n00:29:42.810 --> 00:29:46.200\nIf the router reboots, it's going to\ngo into what's called RAM monitor mode,\n\n627\n00:29:46.200 --> 00:29:47.850\nwhich has no network\nconnectivity whatsoever.\n\n628\n00:29:47.850 --> 00:29:49.680\nSo I'm locked out.\n\n629\n00:29:49.680 --> 00:29:53.100\nAnd if this router, hey,\nI used to work in Seattle, and\n\n630\n00:29:53.100 --> 00:29:55.940\nI supported some routers that\nwere out in Washington, Hawaii.\n\n631\n00:29:55.940 --> 00:29:59.490\nSo I can't hop in a car and\ndrive to Hawaii, I'd love to go,\n\n632\n00:29:59.490 --> 00:30:02.830\nbut it's not somewhere you can get in\na matter of hours, it's a big deal.\n\n633\n00:30:02.830 --> 00:30:05.550\nSo you don't want to be in that situation,\n\n634\n00:30:05.550 --> 00:30:09.215\nthat's why it's nice if you have\nextra flash you can have two copies.\n\n635\n00:30:09.215 --> 00:30:12.430\nThe iOS, or even more right\nthere in the same flash, but\n\n636\n00:30:12.430 --> 00:30:15.290\nif you don't have room, then you're\ngoing to have to take that risk.\n\n637\n00:30:15.290 --> 00:30:17.750\nYou're going to have to clear that file\nout and copy it over the network and\n\n638\n00:30:17.750 --> 00:30:20.360\nhope your network is nice and\nstable during that time, or\n\n639\n00:30:20.360 --> 00:30:23.100\nhope that you have somebody\non site who can back you up.\n\n640\n00:30:23.100 --> 00:30:26.229\nThis is where swapping out compact\nflash cards can be a little bit faster\n\n641\n00:30:26.229 --> 00:30:26.758\nand safer.\n\n642\n00:30:27.976 --> 00:30:30.560\nAll right,\nnow I do have the latest iOS file.\n\n643\n00:30:30.560 --> 00:30:34.000\nSo that the latest iOS file that we\nsaw here on the website was this 15.1\n\n644\n00:30:34.000 --> 00:30:36.690\nreleased for this particular router.\n\n645\n00:30:36.690 --> 00:30:40.360\nAnd I've got that one sitting\non my FTP server right here.\n\n646\n00:30:40.360 --> 00:30:42.560\nSo I'm going to copy that one up.\n\n647\n00:30:42.560 --> 00:30:44.550\nSo I'm going to jump back to my router.\n\n648\n00:30:44.550 --> 00:30:46.190\nWhere did I park that?\n\n649\n00:30:46.190 --> 00:30:46.690\nHere.\n\n650\n00:30:48.540 --> 00:30:51.859\nAnd I'm just going to\nrun the copy command.\n\n651\n00:30:51.859 --> 00:30:56.099\nAnd I'm going to copy from my FTP server,\nand so\n\n652\n00:30:56.099 --> 00:31:03.428\nI'll punch those credentials in, and\nthere's the file that I'm copying down.\n\n653\n00:31:03.428 --> 00:31:06.280\nSo it's 15.1 subrelease 4, right?\n\n654\n00:31:06.280 --> 00:31:06.942\nNewer version.\n\n655\n00:31:06.942 --> 00:31:09.727\nAnd I'm going to send that to Flash.\n\n656\n00:31:09.727 --> 00:31:10.547\nAll right.\n\n657\n00:31:10.547 --> 00:31:13.547\nAnd so, it's going to verify that\nfilename, and I'm going to press Enter,\n\n658\n00:31:13.547 --> 00:31:16.610\nand now it's going to reach out and\nit's going to start copying it.\n\n659\n00:31:16.610 --> 00:31:20.410\nNow, my other file,\nthe file that was running was IP Voice.\n\n660\n00:31:20.410 --> 00:31:23.140\nIt was 52 megs, it wasn't very big.\n\n661\n00:31:23.140 --> 00:31:28.010\nThis new file, if I look at it,\nit is, how big is it?\n\n662\n00:31:28.010 --> 00:31:30.810\nIt is 68 megs, it's not much bigger.\n\n663\n00:31:30.810 --> 00:31:34.730\nYou'll find some iOS files that are 200,\n300 meg, some of them can be quite large,\n\n664\n00:31:34.730 --> 00:31:35.790\nespecially on switches.\n\n665\n00:31:35.790 --> 00:31:39.605\nSwitches tend to have a larger iOS file,\nI don't know why that is,\n\n666\n00:31:39.605 --> 00:31:41.720\nbecause it seems like switches\nhave less features, but\n\n667\n00:31:41.720 --> 00:31:44.200\nthey do have a larger iOS file for\nwhatever reason.\n\n668\n00:31:44.200 --> 00:31:47.514\nBut in this scenario,\nit's just going to start copying, and\n\n669\n00:31:47.514 --> 00:31:50.268\nhopefully it takes 35 seconds,\nand it's done.\n\n670\n00:31:50.268 --> 00:31:54.519\nBut here, it's not just reading from Flash\nlike we do before, it's writing to Flash,\n\n671\n00:31:54.519 --> 00:31:58.265\nand if you thought it was slow when it\nread, it's even slower when it writes.\n\n672\n00:31:58.265 --> 00:32:00.424\nSo it can take a little while for\nthis to happen.\n\n673\n00:32:00.424 --> 00:32:03.870\nFortunately, I had enough\nroom to store both images.\n\n674\n00:32:03.870 --> 00:32:06.380\nSo, even if I were to reboot right now,\nit's okay.\n\n675\n00:32:06.380 --> 00:32:08.550\nI've got the other images still there,\nwe'll boot off of that one.\n\n676\n00:32:08.550 --> 00:32:09.340\nThis one's incomplete,\n\n677\n00:32:09.340 --> 00:32:12.740\nand this one's gonna have a higher\nfile number anyway, right?\n\n678\n00:32:12.740 --> 00:32:14.480\nThe other one was file number two.\n\n679\n00:32:14.480 --> 00:32:16.010\nThis one is gonna be file number six,\n\n680\n00:32:16.010 --> 00:32:18.720\nor maybe even higher depending on\nif temporary files were created.\n\n681\n00:32:18.720 --> 00:32:19.610\nThen it can go beyond that.\n\n682\n00:32:19.610 --> 00:32:21.510\nSo, it's gonna copy up.\n\n683\n00:32:21.510 --> 00:32:23.610\nAnd when it is done, I've got two choices.\n\n684\n00:32:23.610 --> 00:32:27.030\nI can delete the original file,\nand then reboot.\n\n685\n00:32:27.030 --> 00:32:28.700\nThat's the easiest way.\n\n686\n00:32:28.700 --> 00:32:32.450\nOr I can go into config, and\nI can use the boot command, and\n\n687\n00:32:32.450 --> 00:32:34.730\nI can tell it that I\nwant to boot this file.\n\n688\n00:32:35.790 --> 00:32:39.290\nThat is a neat way to go, cuz then when\nI reboot, it is gonna reboot this file.\n\n689\n00:32:39.290 --> 00:32:40.790\nBut I still have the other one there.\n\n690\n00:32:40.790 --> 00:32:42.740\nSo, if things go south,\nif there's a problem,\n\n691\n00:32:42.740 --> 00:32:48.180\nI can quickly flip back to the other file,\nand now I'm back where I need to be.\n\n692\n00:32:48.180 --> 00:32:48.900\nNo harm, no foul.\n\n693\n00:32:48.900 --> 00:32:52.020\nI can test it out, make sure everything's\nokay and go that route, okay.\n\n694\n00:32:53.130 --> 00:32:54.830\nBut this upgrade's gonna continue now.\n\n695\n00:32:54.830 --> 00:32:57.100\nWhen it's done, you do have to reboot.\n\n696\n00:32:57.100 --> 00:32:59.880\nEvery Cisco device,\nat least every one that I've ever touched,\n\n697\n00:32:59.880 --> 00:33:03.180\nif you do an IOS upgrade,\nyou've got to reboot the device.\n\n698\n00:33:03.180 --> 00:33:06.126\nNow, if you have a zero downtime policy,\nif you're trying for\n\n699\n00:33:06.126 --> 00:33:09.390\na high availability,\nyou're gonna need more than one router.\n\n700\n00:33:09.390 --> 00:33:11.560\nAnd that way, when you're upgrading one,\n\n701\n00:33:11.560 --> 00:33:14.805\nthe other router is performing\nthe role and keeping your system up.\n\n702\n00:33:14.805 --> 00:33:16.740\nAnd when the first router is done,\n\n703\n00:33:16.740 --> 00:33:19.780\nits back on line,\nnow you can upgrade the second router.\n\n704\n00:33:19.780 --> 00:33:21.720\nAnd while its down,\nthe first router is doing its role.\n\n705\n00:33:21.720 --> 00:33:24.720\nSo you need redundancy for\nhigh availability.\n\n706\n00:33:24.720 --> 00:33:27.570\nIf you just have a single device, though,\nyou are gonna have downtime, right?\n\n707\n00:33:27.570 --> 00:33:28.660\nYou gotta reboot.\n\n708\n00:33:28.660 --> 00:33:30.650\nFortunately, the reboot's\nnot a long process.\n\n709\n00:33:30.650 --> 00:33:33.420\nIt takes two,\nthree minutes on most equipment, so\n\n710\n00:33:33.420 --> 00:33:34.420\nyou're back up pretty quickly.\n\n711\n00:33:34.420 --> 00:33:39.087\nBut if you're doing this remotely, boy,\nthere's that moment of nervous tension.\n\n712\n00:33:39.087 --> 00:33:41.229\n[LAUGH] You're like, okay,\nI rebooted this new OS.\n\n713\n00:33:42.250 --> 00:33:43.970\nI hope it boots, right?\n\n714\n00:33:43.970 --> 00:33:45.520\nWell, hopefully, you tested it out.\n\n715\n00:33:45.520 --> 00:33:47.280\nIn most environments,\nmost business environments,\n\n716\n00:33:47.280 --> 00:33:51.560\nyou'll have a local device that\nrepresents your remote devices, so\n\n717\n00:33:51.560 --> 00:33:53.420\nyou can test it out\nright there on premises.\n\n718\n00:33:53.420 --> 00:33:56.790\nSo, if you have a problem, you spot it\nright away before you deploy it out to\n\n719\n00:33:56.790 --> 00:33:58.160\na thousand routers out there in the field.\n\n720\n00:33:58.160 --> 00:34:00.140\nDefinitely something\nthat you want to test.\n\n721\n00:34:01.250 --> 00:34:02.140\nAll right.\n\n722\n00:34:02.140 --> 00:34:06.910\nRonnie, this one is copying over,\nI know we're short on time, too.\n\n723\n00:34:06.910 --> 00:34:08.280\nSo I kinda don't wanna wait for it.\n\n724\n00:34:08.280 --> 00:34:09.010\nWhy don't we do this?\n\n725\n00:34:09.010 --> 00:34:10.400\nWhy don't we do a part two?\n\n726\n00:34:10.400 --> 00:34:12.750\nBecause I need to boot into it and\nshow that it upgraded.\n\n727\n00:34:12.750 --> 00:34:15.460\nWe have a few other things that we need\nto do as a part of this process, too.\n\n728\n00:34:15.460 --> 00:34:19.580\nSo, I wanna show password recovery and\na few other neat features.\n\n729\n00:34:19.580 --> 00:34:20.870\nSo why don't we stop here?\n\n730\n00:34:20.870 --> 00:34:23.670\nAnd then, we'll come back with part\ntwo after this thing is done copying.\n\n731\n00:34:23.670 --> 00:34:25.620\nOf course, as I start talking,\nit finishes.\n\n732\n00:34:25.620 --> 00:34:29.870\nBut we'll come back, and we'll jump into\nthis one and get a chance to see the rest\n\n733\n00:34:29.870 --> 00:34:32.450\nof the upgrade as well as some\nof the other things we can do.\n\n734\n00:34:32.450 --> 00:34:33.570\nI mention ROM monitor mode.\n\n735\n00:34:33.570 --> 00:34:35.640\nI want to show that to you guys so\nyou can see what that's like,\n\n736\n00:34:35.640 --> 00:34:38.920\nand some of the other pitfalls we\nhave when we upgrade our OS's.\n\n737\n00:34:38.920 --> 00:34:41.430\nSo, let's stay tuned for that one.\n\n738\n00:34:41.430 --> 00:34:42.890\nSounds great, Don.\n\n739\n00:34:42.890 --> 00:34:44.520\nAnd when you actually take\na look at this episode,\n\n740\n00:34:44.520 --> 00:34:46.530\nremember that what we just saw here,\nright,\n\n741\n00:34:46.530 --> 00:34:50.290\nis we've talked a bit about understanding\nwhat that operating system file.\n\n742\n00:34:50.290 --> 00:34:53.250\nYou break down the name and\nthose different components really mean.\n\n743\n00:34:53.250 --> 00:34:55.825\nAnd it is something that you\nshould at least understand\n\n744\n00:34:55.825 --> 00:34:57.595\nthat what we want to do\nis run that latest and\n\n745\n00:34:57.595 --> 00:35:01.215\ngreatest one that we can help\nprevent things like security bugs.\n\n746\n00:35:01.215 --> 00:35:03.995\nAlso, we saw the beginning of\nthe process here of being able to\n\n747\n00:35:03.995 --> 00:35:07.780\nrun that on the router itself,\nwhere we're copying it down to the router.\n\n748\n00:35:07.780 --> 00:35:10.550\nBut what we're waiting for, of course,\nis actually more of where we actually\n\n749\n00:35:10.550 --> 00:35:13.970\nsee what we can do with it by actually\ngetting it to run and boot up,\n\n750\n00:35:13.970 --> 00:35:16.250\nand we're gonna save that for\nour part two.\n\n751\n00:35:16.250 --> 00:35:18.290\nSo, great place for\nus to end this episode.\n\n752\n00:35:18.290 --> 00:35:21.360\nSigning off for ITProTV,\nI've been your host, Ronnie Wong.\n\n753\n00:35:21.360 --> 00:35:22.260\nAnd I'm Don Pezet.\n\n754\n00:35:22.260 --> 00:35:26.211\nStay tuned right here for\nmore for more CCENT episodes.\n\n755\n00:35:26.211 --> 00:35:34.170\n[MUSIC]\n\n",
          "vimeoId": "177450839"
        },
        {
          "description": "In this episode, Ronnie and Don continue with device maintenance duties by show the completion of the IOS update.  Before completing the updates process, they guys also discuss not only updating the IOS to the router but also verifying the integrity of the file uploaded and setting the new IOS os the boot system image.  Along with this updating, they also demonstrate how to do a password recovery with setting the configuration register to do so.",
          "length": "1985",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-5-3-2-device_maintenance_pt.2-080216-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-5-3-2-device_maintenance_pt.2-080216-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-5-3-2-device_maintenance_pt.2-080216-1-sm.jpg",
          "title": "Device Maintenance Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.029 --> 00:00:10.029\n[MUSIC]\n\n2\n00:00:12.311 --> 00:00:15.280\nWelcome to another great\nepisode right here on ITProTV.\n\n3\n00:00:15.280 --> 00:00:19.400\nI'm your host Ronnie Wong and\nyou're watching the Cisco CCENT show.\n\n4\n00:00:19.400 --> 00:00:22.030\nWe're actually in the middle\nof a kind of mini series here.\n\n5\n00:00:22.030 --> 00:00:22.640\nA part two.\n\n6\n00:00:22.640 --> 00:00:25.580\nTalking about of course\ndevice maintenance.\n\n7\n00:00:25.580 --> 00:00:28.340\nNow, we've just seen the idea\nof setting it up in.\n\n8\n00:00:28.340 --> 00:00:31.270\nFor us to get an operating\nsystem back on the router, but\n\n9\n00:00:31.270 --> 00:00:34.720\nnow we need to see the rest, and Don Pezet\nis here to guide us through that.\n\n10\n00:00:34.720 --> 00:00:35.540\nDon, welcome back.\n\n11\n00:00:35.540 --> 00:00:37.690\n>> All right, Ryan,\nlet's pick back up where we left off.\n\n12\n00:00:37.690 --> 00:00:41.880\nSo we left off with uploading the iOS\nimage to our router, and now it's there.\n\n13\n00:00:41.880 --> 00:00:43.800\nAnd now we need to do something with it.\n\n14\n00:00:43.800 --> 00:00:47.350\nNow, your first temptation might be,\nhey I just finished the upload,\n\n15\n00:00:47.350 --> 00:00:51.100\nI'm gonna go delete the old IOS file and\noff we go.\n\n16\n00:00:51.100 --> 00:00:55.440\nBut let's step back, take a little steps\nof caution to make sure we're ready.\n\n17\n00:00:55.440 --> 00:00:58.390\nBecause while the router might be\nright behind you like it is for me,\n\n18\n00:00:58.390 --> 00:01:00.100\nthen you kind of have a safety net.\n\n19\n00:01:00.100 --> 00:01:01.240\nBut if it's a hundred or\n\n20\n00:01:01.240 --> 00:01:04.330\na thousand miles away, you wanna\nmake sure the upgrade goes smoothly.\n\n21\n00:01:04.330 --> 00:01:07.170\nSo let's run through a few little\nsafety checks before we go that far.\n\n22\n00:01:07.170 --> 00:01:12.040\nSo, on my router, let's jump down here and\nI finished my upload and\n\n23\n00:01:12.040 --> 00:01:14.680\nit tells me that it uploaded,\nthat the upload was okay.\n\n24\n00:01:14.680 --> 00:01:16.630\nSo I can count on that.\n\n25\n00:01:16.630 --> 00:01:17.800\nWell, it says it's okay.\n\n26\n00:01:17.800 --> 00:01:19.660\nThat just means all\nthe bytes copied over right,\n\n27\n00:01:19.660 --> 00:01:23.180\nbut it is still possible a file\ncould be corrupted or damaged.\n\n28\n00:01:23.180 --> 00:01:24.740\nIt could have been damaged when I got it.\n\n29\n00:01:24.740 --> 00:01:28.530\nIt could have been damaged after I\nuploaded it or during the upload.\n\n30\n00:01:28.530 --> 00:01:33.440\nIt could be that maybe I found\nthe iOS image by doing some\n\n31\n00:01:33.440 --> 00:01:36.720\nnefarious Google searching,\nand not from Cisco's website.\n\n32\n00:01:36.720 --> 00:01:40.730\nSo how do I know the image is\nactually as it was intended?\n\n33\n00:01:40.730 --> 00:01:42.340\nWell I can use the DIR or\n\n34\n00:01:42.340 --> 00:01:46.530\nthe show flash command, to verify\nthat the file did make it in there.\n\n35\n00:01:46.530 --> 00:01:50.690\nAnd so sure enough I can see it right\nhere, here's the new file that I uploaded\n\n36\n00:01:50.690 --> 00:01:55.112\nand if I look at the size, and can use the\nfile size to kinda verify things, right?\n\n37\n00:01:55.112 --> 00:01:59.756\nBut if I'm worried about data corruption,\na zero being changed to a 1, or\n\n38\n00:01:59.756 --> 00:02:03.930\na 1 changed to a zero is not going\nto impact the size of the file.\n\n39\n00:02:03.930 --> 00:02:08.500\nSo just because the file size is the same,\ndoesn't mean the file is actually intact.\n\n40\n00:02:08.500 --> 00:02:10.420\nSo, one of the things that Sysco does,\n\n41\n00:02:10.420 --> 00:02:14.250\nis whenever you download an iOS\nimage from them, if you just float.\n\n42\n00:02:14.250 --> 00:02:15.970\nThis is the iOS image.\n\n43\n00:02:15.970 --> 00:02:17.043\nActually, which one do I have?\n\n44\n00:02:17.043 --> 00:02:18.970\nDid I do the SNA version?\n\n45\n00:02:18.970 --> 00:02:21.730\nNow I gotta figure out\nwhich version I did.\n\n46\n00:02:21.730 --> 00:02:23.120\nI did not do the SNA version.\n\n47\n00:02:23.120 --> 00:02:25.500\nSo I've got advanced enterprise but\nnot with SNA.\n\n48\n00:02:25.500 --> 00:02:29.180\nSo if I come in and\nfind advanced enterprise in here,\n\n49\n00:02:29.180 --> 00:02:32.572\nthen what I can do is,\nactually where is it?\n\n50\n00:02:32.572 --> 00:02:34.980\n[LAUGH] Not the version that I want.\n\n51\n00:02:34.980 --> 00:02:37.970\nBut when they post them up to upload,\nyou can click on them, and\n\n52\n00:02:37.970 --> 00:02:43.480\nit'll actually show you\nan MD5 hash of that file.\n\n53\n00:02:43.480 --> 00:02:45.950\nAnd that's important because you\ncan use that to compare whether or\n\n54\n00:02:45.950 --> 00:02:48.970\nnot the file is actually intact or\nnot, right?\n\n55\n00:02:48.970 --> 00:02:51.010\nSo if you just see,\nlike if I float over this one,\n\n56\n00:02:51.010 --> 00:02:54.970\nthis is the file I've got right here,\nthe Advanced Enterprise K9MZ1514,\n\n57\n00:02:54.970 --> 00:02:59.370\nright that file name, matches\nexactly what I've got on my router.\n\n58\n00:02:59.370 --> 00:03:02.050\nAnd when I float over,\nit's telling me a little bit about it,\n\n59\n00:03:02.050 --> 00:03:04.900\nlike when it was released,\nand other data, and\n\n60\n00:03:04.900 --> 00:03:10.210\nright down here towards the bottom\nI can see MD5 checksum.\n\n61\n00:03:10.210 --> 00:03:11.310\nI'm gonna to copy that.\n\n62\n00:03:11.310 --> 00:03:15.080\nI'm gonna to try and copy that and\npaste it somewhere else.\n\n63\n00:03:15.080 --> 00:03:17.971\nSo I'm going to copy that and I'm going to\ntake it over to a little notepad program\n\n64\n00:03:17.971 --> 00:03:19.730\nthat I've got floating\naround here somewhere.\n\n65\n00:03:20.930 --> 00:03:22.190\nAnd I'm just gonna paste that in.\n\n66\n00:03:22.190 --> 00:03:25.040\nOkay, so, there's the MD5 checksum.\n\n67\n00:03:25.040 --> 00:03:28.850\nNow, on my computer,\nI can use a utility like MD5 sum\n\n68\n00:03:28.850 --> 00:03:32.780\nto run it against that iOS image and\nsee if it's messed up.\n\n69\n00:03:32.780 --> 00:03:34.470\nCould be corrupted,\ncould be tampered with.\n\n70\n00:03:35.630 --> 00:03:38.440\nA foreign state could've injected\na trojan, or something like that,\n\n71\n00:03:38.440 --> 00:03:41.090\ninto the iOS, and now I'm reporting\ndata back to another country.\n\n72\n00:03:41.090 --> 00:03:42.470\nWho knows?\n\n73\n00:03:42.470 --> 00:03:44.120\nWe could find out here with this checksum.\n\n74\n00:03:44.120 --> 00:03:46.430\nWell, the router can actually check it for\nus also.\n\n75\n00:03:46.430 --> 00:03:49.560\nSo if I'm worried about it being\ndamaged in transit to the router,\n\n76\n00:03:49.560 --> 00:03:52.288\ncause it could have,\nnetwork activities could have caused that.\n\n77\n00:03:52.288 --> 00:03:58.780\nSo I can go to the router, and I can have\nit check the md5 hash of that file, right?\n\n78\n00:03:58.780 --> 00:04:04.340\nSo if I want to do that, the command\nthat we're going to run is verify and\n\n79\n00:04:04.340 --> 00:04:06.130\nthen it can verify those md5 sums.\n\n80\n00:04:06.130 --> 00:04:07.910\nSee how it can verify, and we use /md5,\n\n81\n00:04:07.910 --> 00:04:11.350\nand then we tell it the file\nthat we wanna verify.\n\n82\n00:04:11.350 --> 00:04:17.730\nSo I wanna verify the image\nthat I just uploaded, right?\n\n83\n00:04:17.730 --> 00:04:21.070\nIf I just press Enter right now,\nwhat it's gonna do is it's gonna run\n\n84\n00:04:21.070 --> 00:04:23.810\nan md5 hash.file,\nit's gonna display it on the screen, and\n\n85\n00:04:23.810 --> 00:04:27.520\nI can then compare it to\nthe hash that I got from Cisco.\n\n86\n00:04:27.520 --> 00:04:31.270\nBut since I already know the hash from\nCisco, if you do a little question\n\n87\n00:04:31.270 --> 00:04:34.960\nmark you'll see where you can actually\npaste in the expected signature.\n\n88\n00:04:34.960 --> 00:04:37.710\nSo I'm going to paste that into the end,\nand so\n\n89\n00:04:37.710 --> 00:04:43.040\nnow it's going to run it against that and\ninstead of just showing me the hash,\n\n90\n00:04:43.040 --> 00:04:45.890\nit's gonna compare the two and\ntell me the result.\n\n91\n00:04:45.890 --> 00:04:47.720\nDo they match or do they not?\n\n92\n00:04:47.720 --> 00:04:50.790\nIf they match,\nI know this file is not corrupted.\n\n93\n00:04:50.790 --> 00:04:51.880\nIt's not been tampered with.\n\n94\n00:04:51.880 --> 00:04:56.140\nIt's in the exact same form as it\nwas when Cisco shipped it out.\n\n95\n00:04:56.140 --> 00:04:58.920\nIf they don't match,\nI know I've got an issue.\n\n96\n00:04:58.920 --> 00:05:02.150\nI know it was either corrupted in\nupload or it's been tampered with.\n\n97\n00:05:02.150 --> 00:05:05.260\nAnd I know I probably shouldn't proceed,\nright?\n\n98\n00:05:05.260 --> 00:05:07.065\nI should probably stop and\nlet it go with that.\n\n99\n00:05:07.065 --> 00:05:11.529\nNow, MD5 hashing, if you're on an ASA it\nactually runs really fast because they've\n\n100\n00:05:11.529 --> 00:05:13.870\ngot hardware that's designed for it.\n\n101\n00:05:13.870 --> 00:05:15.930\nOn a router and a switch they don't,\nso their doing it in software and\n\n102\n00:05:15.930 --> 00:05:16.570\nit can talk a little bit.\n\n103\n00:05:16.570 --> 00:05:17.880\nMine did just finish.\n\n104\n00:05:17.880 --> 00:05:23.140\nAnd when it's done hopefully what you\nsee is something like this, verified.\n\n105\n00:05:23.140 --> 00:05:25.790\nRight, we want it to be verified,\nif it's not verified it's bad.\n\n106\n00:05:25.790 --> 00:05:30.500\nAnd so there's the file and I can see\nthe hash that it calculated, right.\n\n107\n00:05:30.500 --> 00:05:33.920\nAnd it ends in f1dda and\napparently that matches the hash that we\n\n108\n00:05:33.920 --> 00:05:37.360\nPaste them into them, and it's happy,\nand everything's good, right.\n\n109\n00:05:37.360 --> 00:05:38.840\nSo I'm ready to proceed.\n\n110\n00:05:38.840 --> 00:05:42.470\nIf this didn't come back good, I'd want\nto delete the file and re-upload it.\n\n111\n00:05:42.470 --> 00:05:44.680\nOr go back and\ncheck my original file in the first place,\n\n112\n00:05:44.680 --> 00:05:47.390\nmaybe it was corrupted when I\neven got it in the beginning.\n\n113\n00:05:47.390 --> 00:05:50.770\nI've had that happen with Google Chrome,\nsometimes when you download a file,\n\n114\n00:05:50.770 --> 00:05:53.950\nit's like it doesn't close out\nthe last bit right sometimes and\n\n115\n00:05:53.950 --> 00:05:55.420\nyou end up with some mess ups there.\n\n116\n00:05:55.420 --> 00:05:57.630\nBut looks like my file was good.\n\n117\n00:05:57.630 --> 00:06:02.120\nSo, because I'm good,\nnow I can reboot and I can do my upgrade.\n\n118\n00:06:02.120 --> 00:06:06.010\nWell if I reboot right now it's just\ngoing to boot into the existing OS right?\n\n119\n00:06:06.010 --> 00:06:12.040\nSo when I look at show flash,\nthe old iOS file\n\n120\n00:06:12.040 --> 00:06:17.940\nhas a file number of three, and\nmy new one has a file number of six.\n\n121\n00:06:17.940 --> 00:06:19.370\nIt's gonna boot off\nthe first one it finds.\n\n122\n00:06:19.370 --> 00:06:22.480\nIt's gonna find this guy up here,\nand just gonna boot the old iOS.\n\n123\n00:06:22.480 --> 00:06:23.710\nSo I get two choices.\n\n124\n00:06:23.710 --> 00:06:25.250\nOne I could delete the old iOS.\n\n125\n00:06:25.250 --> 00:06:29.800\nAnd then when I reboot, the new one\nwill be the first one it finds.\n\n126\n00:06:29.800 --> 00:06:33.930\nOr I can use boot command to\ntell it what I want to boot.\n\n127\n00:06:33.930 --> 00:06:38.220\nAnd if I do a show running-config,\nthe boot commands are already in there,\n\n128\n00:06:38.220 --> 00:06:39.280\nsort of, right?\n\n129\n00:06:39.280 --> 00:06:41.350\nI've got a boot-start and\na boot-end-marker.\n\n130\n00:06:41.350 --> 00:06:44.120\nBut there's nothing in-between them,\nwhich means, the default.\n\n131\n00:06:44.120 --> 00:06:46.400\nIt's gonna boot with\nthe first one it finds.\n\n132\n00:06:46.400 --> 00:06:51.025\nBut I can go into configuration,\nand I can say, boot flash:/ and\n\n133\n00:06:51.025 --> 00:06:54.210\nI can point it to one of those files.\n\n134\n00:06:54.210 --> 00:06:57.300\nAnd so, shoot,\ndo I not get tab auto complete?\n\n135\n00:06:57.300 --> 00:06:58.170\nDarn it.\n\n136\n00:06:58.170 --> 00:07:00.870\nTab auto complete is kind of nice\nwhen you've got long file names.\n\n137\n00:07:00.870 --> 00:07:02.580\nSo, I'm gonna go up here and\ncopy that file name.\n\n138\n00:07:04.100 --> 00:07:07.780\nIf you try and type it out,\nI know it's probably just me, but\n\n139\n00:07:07.780 --> 00:07:10.700\nI can never seem to type\nit without getting typos.\n\n140\n00:07:10.700 --> 00:07:13.260\nSo what I'm gonna do is\nI'm gonna come in here and\n\n141\n00:07:13.260 --> 00:07:15.340\nI'm gonna tell it that I wanna boot, and.\n\n142\n00:07:15.340 --> 00:07:18.080\nI wasn't getting Tab autocomplete\ncuz I had the command wrong.\n\n143\n00:07:18.080 --> 00:07:20.360\nI was saying boot flash, and\nnotice what I've got here.\n\n144\n00:07:20.360 --> 00:07:22.860\nBootstrap, config, host, network, system.\n\n145\n00:07:22.860 --> 00:07:25.550\nI need to specify this system image file,\nso I was leaving that out.\n\n146\n00:07:25.550 --> 00:07:27.680\nThat's why I didn't have\nmy Tab autocomplete.\n\n147\n00:07:27.680 --> 00:07:30.329\nSo now I can say boot system flash.\n\n148\n00:07:31.330 --> 00:07:35.450\nAnd all right well,\nat least I got that file copied.\n\n149\n00:07:35.450 --> 00:07:38.900\nAnd so now I can point it to that file and\nthere we go.\n\n150\n00:07:38.900 --> 00:07:45.459\nSo the command is boot system flash:/ and\nthen the file.\n\n151\n00:07:45.459 --> 00:07:46.511\nNow once we've done that,\n\n152\n00:07:46.511 --> 00:07:49.045\nthat should be the end of that command and\nsure enough that's it.\n\n153\n00:07:49.045 --> 00:07:50.640\nSo we'll press Enter.\n\n154\n00:07:50.640 --> 00:07:54.910\nAnd I'm gonna take a look at how\nthat looks in my running config.\n\n155\n00:07:54.910 --> 00:07:58.109\nSo now when I look at running config,\nsee how boot-start and boot-end,\n\n156\n00:07:58.109 --> 00:07:59.769\nthey have something in between them.\n\n157\n00:07:59.769 --> 00:08:03.957\nAnd they're set to boot off\nof that other iOS file.\n\n158\n00:08:03.957 --> 00:08:08.930\nThis way I can keep my old iOS,\nand still boot off of my new OiS.\n\n159\n00:08:08.930 --> 00:08:11.867\nThat's really handy because if something\ngoes wrong, I can just come and use\n\n160\n00:08:11.867 --> 00:08:14.773\nthe boot command to point it back at the\nold iOS again and boot off the old one.\n\n161\n00:08:14.773 --> 00:08:17.270\nThis is overriding those file numbers.\n\n162\n00:08:17.270 --> 00:08:21.749\nNow quick word of caution,\nevery time I do a show running config,\n\n163\n00:08:21.749 --> 00:08:27.302\none of the things that it does, is right\nup at the top, it says version 15.1.\n\n164\n00:08:27.302 --> 00:08:32.958\nWell I'm upgrading from 15.1 subrelease 1,\nto 15.1 subrelease 4.\n\n165\n00:08:32.958 --> 00:08:37.420\nSo no big deal, they're both 15.1,\nbut what if I'm going to 15.2?\n\n166\n00:08:37.420 --> 00:08:40.954\nWell when you upgrade to 15.2\nthere might be new features.\n\n167\n00:08:40.954 --> 00:08:44.633\nAnd so the first time you boot, those new\nfeatures are gonna be at their default\n\n168\n00:08:44.633 --> 00:08:47.390\nsettings and\nthe config is gonna get modified.\n\n169\n00:08:47.390 --> 00:08:49.440\nIf I downgrade,\n\n170\n00:08:49.440 --> 00:08:54.070\nthere might be new features that\nwere in 15.2 that are not in 15.1.\n\n171\n00:08:54.070 --> 00:08:57.530\nAnd so when you downgrade,\nyou have to watch your first boot and\n\n172\n00:08:57.530 --> 00:09:00.370\nlook for errors, because those new\nfeatures will generate errors and\n\n173\n00:09:00.370 --> 00:09:02.380\nyou need to remove those from your config.\n\n174\n00:09:02.380 --> 00:09:05.240\nSo you always gotta watch for\nerrors during your first boot.\n\n175\n00:09:05.240 --> 00:09:08.727\nEven on a relatively safe one like\nwhat I'm about to do, this is a minor,\n\n176\n00:09:08.727 --> 00:09:09.764\nthese are hotfixes.\n\n177\n00:09:09.764 --> 00:09:13.610\nI still need to watch for\nerrors during that first boot.\n\n178\n00:09:13.610 --> 00:09:15.680\nSo I'm gonna keep an eye on it but\nat this point,\n\n179\n00:09:15.680 --> 00:09:17.550\nI've told it what I want it to boot.\n\n180\n00:09:17.550 --> 00:09:21.520\nAnd assuming everything is good, we should\nbe able to reboot and get the new iOS.\n\n181\n00:09:21.520 --> 00:09:27.710\nSo I'm gonna save my config,\nmostly because that boot\n\n182\n00:09:27.710 --> 00:09:30.840\ncommand that I issued right, I definitely\nneed that to be in my startup config.\n\n183\n00:09:30.840 --> 00:09:33.732\nSo I'm gonna save that and\nthen we're gonna reboot, and\n\n184\n00:09:33.732 --> 00:09:35.610\nwe reboot using the reload command.\n\n185\n00:09:35.610 --> 00:09:40.280\nAnd so we'll let it reload, and when it\nreloads it's gonna hit the bootstrap.\n\n186\n00:09:40.280 --> 00:09:42.822\nAnd remember, my bootstrap is ancient,\nit's the 12.4 bootstrap.\n\n187\n00:09:42.822 --> 00:09:45.154\nBut we don't care about that,\nwe can't upgrade that one and\n\n188\n00:09:45.154 --> 00:09:47.510\nit's just running right\nthere on the hardware.\n\n189\n00:09:47.510 --> 00:09:50.130\nAnd then it's gonna\ninitialize the flash and\n\n190\n00:09:50.130 --> 00:09:55.080\nit's not gonna find the first iOS image,\ninstead it's gonna look at the ME REM and\n\n191\n00:09:55.080 --> 00:10:00.160\nsee a particular image to boot and\nthen it's gonna boot that image.\n\n192\n00:10:00.160 --> 00:10:04.280\nIf something goes wrong, I'm gonna drop\ninto what's called a ROMMON mode and\n\n193\n00:10:04.280 --> 00:10:07.970\nI'll see a very basic prompt that's just\na greater than symbol and that's it.\n\n194\n00:10:07.970 --> 00:10:12.664\nBut assuming that everything goes write I\nshould see it find the operating system\n\n195\n00:10:12.664 --> 00:10:17.232\nimage file and start decompressing it\ninto RAM and booting the rest of the way.\n\n196\n00:10:17.232 --> 00:10:19.818\nNow I can see mine's initialized.\n\n197\n00:10:19.818 --> 00:10:24.685\nThe hardware, it did the memory check,\ninitializing ECC, it's firing up the RAM.\n\n198\n00:10:24.685 --> 00:10:28.150\nIt's identified that we have 1 gig of RAM,\nthat's great.\n\n199\n00:10:28.150 --> 00:10:31.604\nIt's Readonly ROMMON initialized,\nso the ROMMON has kicked in.\n\n200\n00:10:31.604 --> 00:10:35.670\nAnd at this point, it's looking for\nthat operating system.\n\n201\n00:10:35.670 --> 00:10:38.418\nAnd it's kind of stalling, so\nI'm a little worried about that.\n\n202\n00:10:38.418 --> 00:10:41.160\nNormally, it finds it and\nmoves on pretty quickly.\n\n203\n00:10:41.160 --> 00:10:43.660\nThis one is just kind of sitting here,\nso we're going to wait for a moment.\n\n204\n00:10:43.660 --> 00:10:44.714\nThere we go.\n\n205\n00:10:44.714 --> 00:10:47.220\nSo we've got this entry point complete.\n\n206\n00:10:47.220 --> 00:10:49.147\nJust took it a little while\nto process through and\n\n207\n00:10:49.147 --> 00:10:50.567\nnow it's decompressing an image.\n\n208\n00:10:50.567 --> 00:10:53.416\nNow what image is it decompressing?\n\n209\n00:10:53.416 --> 00:10:54.399\nI don't know, it didn't tell me.\n\n210\n00:10:54.399 --> 00:10:56.720\n[LAUGH] It doesn't tell us here.\n\n211\n00:10:56.720 --> 00:10:58.991\nI'm assuming it's the new one, but\n\n212\n00:10:58.991 --> 00:11:03.982\nthere is a possibility it could have tried\nto access the new one and had a problem.\n\n213\n00:11:03.982 --> 00:11:07.295\nAnd had to fail back to the old one\nthat might be what that pause was, or\n\n214\n00:11:07.295 --> 00:11:09.650\nit might have just been\nprocessing the new data.\n\n215\n00:11:09.650 --> 00:11:11.560\nWhen you use the boot command,\n\n216\n00:11:11.560 --> 00:11:14.430\nit's gotta initialize NV RAM\nbefore it can boot the OS.\n\n217\n00:11:14.430 --> 00:11:16.416\nNormally it doesn't have to do that,\nit can boot the OS right away and\n\n218\n00:11:16.416 --> 00:11:17.009\nthen hit the NV RAM.\n\n219\n00:11:17.009 --> 00:11:19.484\nSo things go in a little different order,\nand\n\n220\n00:11:19.484 --> 00:11:21.773\nwe may find that this\nis no problem at all.\n\n221\n00:11:21.773 --> 00:11:25.523\nSo here goes the booting up, and I can\nsee it's doing its other initialization.\n\n222\n00:11:25.523 --> 00:11:30.335\nAnd somewhere in here, there's all\nthese hardware checks that happen,\n\n223\n00:11:30.335 --> 00:11:32.980\nand for the most part we can ignore them.\n\n224\n00:11:32.980 --> 00:11:35.150\nSee all these memory requests and\nso on, and\n\n225\n00:11:35.150 --> 00:11:38.682\nit tells you if anything shows up as\nunknown, you might have a problem.\n\n226\n00:11:38.682 --> 00:11:41.410\nAnd none of mine is showing up as unknown,\nit's all supported hardware.\n\n227\n00:11:41.410 --> 00:11:44.540\nAnd so as it continues to boot,\nhere's what I'm looking for.\n\n228\n00:11:44.540 --> 00:11:48.495\nIt's identifying what IOS\nversion it's booting, and\n\n229\n00:11:48.495 --> 00:11:53.218\nif I scroll over,\nI can see it's booting 15.1 sub release 4.\n\n230\n00:11:53.218 --> 00:11:56.627\nSo it is booting the new OS,\nthat's exactly what we want.\n\n231\n00:11:56.627 --> 00:11:59.146\nAnd it's getting loaded up and\nin a moment,\n\n232\n00:11:59.146 --> 00:12:02.580\nit's gonna get to the part\nwhere it loads my config.\n\n233\n00:12:02.580 --> 00:12:06.060\nIt hasn't technically\nloaded my config yet,\n\n234\n00:12:06.060 --> 00:12:09.830\nit's just initializing the hardware and\nthen it's gonna run the config.\n\n235\n00:12:09.830 --> 00:12:13.690\nAnd when it does, we need to start\nwatching out for messages like these,\n\n236\n00:12:13.690 --> 00:12:14.844\nthese are warnings.\n\n237\n00:12:14.844 --> 00:12:17.270\nThey're telling me about\na default that might have changed.\n\n238\n00:12:17.270 --> 00:12:18.486\nSo here it's saying,\n\n239\n00:12:18.486 --> 00:12:22.199\nby default the following voice\nservers voip sub command is enabled.\n\n240\n00:12:22.199 --> 00:12:25.746\nAnd so it's telling me that it's doing\ntrusted authentication by default on\n\n241\n00:12:25.746 --> 00:12:27.992\nthis system,\nthat might not be what I'm use to.\n\n242\n00:12:27.992 --> 00:12:31.040\nSo if it's not what I'm use to,\nI need to go turn this command off.\n\n243\n00:12:31.040 --> 00:12:34.420\nBut I'm not using on the system anyways,\nso it doesn't really effect me,\n\n244\n00:12:34.420 --> 00:12:35.390\nso I can ignore it.\n\n245\n00:12:35.390 --> 00:12:37.850\nBut these are the types of messages\nthat we need to watch out for.\n\n246\n00:12:37.850 --> 00:12:42.040\nYou may also see errors here,\nthat pop-up after the return.\n\n247\n00:12:42.040 --> 00:12:45.080\nYou just check them out,\nwrite them down and you gotta go and\n\n248\n00:12:45.080 --> 00:12:46.190\nfigure out what those are.\n\n249\n00:12:46.190 --> 00:12:49.020\nThese are all things you need to do\nin testing before you roll this out\n\n250\n00:12:49.020 --> 00:12:50.570\ninto production.\n\n251\n00:12:50.570 --> 00:12:53.863\nBut I didn't get any errors other than\nthat one default command changing,\n\n252\n00:12:53.863 --> 00:12:55.335\nwhich didn't really affect me.\n\n253\n00:12:55.335 --> 00:13:01.215\nSo at this point, I should be able to get\nin here and use the router as expected.\n\n254\n00:13:01.215 --> 00:13:06.597\nIf I do a show version, I should see that\nI am running that 15.1 subrelease four.\n\n255\n00:13:06.597 --> 00:13:09.679\nAnd I'm also no longer\nrunning the voice service,\n\n256\n00:13:09.679 --> 00:13:12.410\nI flipped this over to\nadvanced Enterprise.\n\n257\n00:13:12.410 --> 00:13:17.212\nSo when I look up top here, I could\nsee that I'm running RELEASE SOFTWARE,\n\n258\n00:13:17.212 --> 00:13:19.195\nand it's AVDENTERPRISEK9,\n\n259\n00:13:19.195 --> 00:13:23.710\nit's not the voice set that I was\nrunning at the beginning of the show.\n\n260\n00:13:23.710 --> 00:13:26.970\nSo we're now upgraded and\nwe're good to go.\n\n261\n00:13:26.970 --> 00:13:29.410\nNow my next step is kind of up to me.\n\n262\n00:13:29.410 --> 00:13:32.465\nI could delete the old IOS or\nif I just rolled this out for\n\n263\n00:13:32.465 --> 00:13:36.598\nthe first time like I'm in a lab,\nI might want to hold that IOS for a while.\n\n264\n00:13:36.598 --> 00:13:40.190\nBecause who knows, I might need\nto roll back to it at some point.\n\n265\n00:13:40.190 --> 00:13:43.524\nAnd I've got the space for it, I've got\ntons of memory available on this router.\n\n266\n00:13:43.524 --> 00:13:46.839\nSo I'm not really worried about it,\nI'm just gonna leave it there.\n\n267\n00:13:46.839 --> 00:13:50.804\nThe other reason I might wanna leave it\nthere, is if something ever happens to\n\n268\n00:13:50.804 --> 00:13:54.900\ncorrupt this iOS image, then it can\nalways fail back to the other one.\n\n269\n00:13:54.900 --> 00:13:57.950\nWhen you boot up the system and if for\nsome reason it can't boot up off your main\n\n270\n00:13:57.950 --> 00:14:01.110\niOS image, it'll look for others to\nboot and it'll try to boot them too.\n\n271\n00:14:01.110 --> 00:14:03.912\nIf you've only got one well,\nyou've only got one.\n\n272\n00:14:03.912 --> 00:14:09.395\nSo it doesn't have anything else to\nboot for, and it drops into ROMMON.\n\n273\n00:14:09.395 --> 00:14:12.600\nLet's talk a little bit about ROMMON.\n\n274\n00:14:12.600 --> 00:14:16.990\nWhen you boot up your system, assuming\neverything works out right you should boot\n\n275\n00:14:16.990 --> 00:14:20.400\nright into your iOS, and you get the\nprompts and all that that we're used to.\n\n276\n00:14:20.400 --> 00:14:24.348\nBut there is a special mode called\nROMMON that is when things go bad right.\n\n277\n00:14:24.348 --> 00:14:26.940\nIt's a part of the bootstrap,\nit's built in to the mother board.\n\n278\n00:14:26.940 --> 00:14:28.120\nYou can't upgrade, you can't mess with it.\n\n279\n00:14:28.120 --> 00:14:32.865\nBut it's a very basic limited prompt\nthat you can get to that has two\n\n280\n00:14:32.865 --> 00:14:34.146\nmain functions.\n\n281\n00:14:34.146 --> 00:14:37.907\nOne function is that it can format your\nmemory right so if you have flash,\n\n282\n00:14:37.907 --> 00:14:39.880\nit can erase the flash for you.\n\n283\n00:14:39.880 --> 00:14:42.845\nSo if for some reason you have to\nswap out your flash memory chips,\n\n284\n00:14:42.845 --> 00:14:46.990\nROMMON model you can clear those out and\ngetting ready to receive files.\n\n285\n00:14:46.990 --> 00:14:49.380\nAnd then two,\nit lets you update your iOS image.\n\n286\n00:14:49.380 --> 00:14:52.638\nSo we can put a new iOS image\non there if it's gotten damaged.\n\n287\n00:14:52.638 --> 00:14:54.997\nI guess there's kind of a third\nreason we can get in there,\n\n288\n00:14:54.997 --> 00:14:57.010\nis it'll let us override our configs.\n\n289\n00:14:57.010 --> 00:15:01.180\nFor example, let's say you go on eBay and\nyou buy a used router.\n\n290\n00:15:01.180 --> 00:15:03.310\nAnd they ship it to your door,\nyou're very excited, you fire it up,\n\n291\n00:15:03.310 --> 00:15:04.680\nand it's got a password.\n\n292\n00:15:04.680 --> 00:15:07.410\nAnd you email the person, they say,\nwe don't know the password, and\n\n293\n00:15:07.410 --> 00:15:08.740\nyou bought it, it's yours.\n\n294\n00:15:08.740 --> 00:15:11.691\nWell you're locked out,\nif you go into ROMMON mode,\n\n295\n00:15:11.691 --> 00:15:14.193\nyou can tell it to bypass\nthe configuration.\n\n296\n00:15:14.193 --> 00:15:17.020\nAnd you can boot with no config,\nwhich means no password.\n\n297\n00:15:17.020 --> 00:15:19.298\nThen you can erase the config, set up\nyour own, and have your own password,\n\n298\n00:15:19.298 --> 00:15:19.874\nand now you get in.\n\n299\n00:15:19.874 --> 00:15:22.260\nSo we can use it for\nwhat's called password recovery.\n\n300\n00:15:22.260 --> 00:15:24.150\nYou can never recover the password,\n\n301\n00:15:24.150 --> 00:15:27.230\nyou can't figure out what the password\nwas, but you can certainly get rid of it.\n\n302\n00:15:27.230 --> 00:15:30.410\nAnd now you can get into the system,\nset a password, and have access to it.\n\n303\n00:15:30.410 --> 00:15:33.470\nSo ROMMON is part of\nwhat helps us do that.\n\n304\n00:15:33.470 --> 00:15:36.850\nROMMON actually,\nwe can call it a few different ways.\n\n305\n00:15:36.850 --> 00:15:38.106\nNormally it happens\nwhen there's a problem.\n\n306\n00:15:38.106 --> 00:15:42.230\nWell I don't have a problem, my file's not\ncorrupt, so how do I get into ROMMON mode?\n\n307\n00:15:42.230 --> 00:15:44.193\nWell there's a few\ndifferent ways to do it.\n\n308\n00:15:44.193 --> 00:15:48.815\nThe easiest way is when you first power\non a router there's a little five second\n\n309\n00:15:48.815 --> 00:15:53.507\nwindow when it boots that you can send\na break command via your console port, and\n\n310\n00:15:53.507 --> 00:15:56.121\nit'll stop the boot and\ndrop you to ROMMON.\n\n311\n00:15:56.121 --> 00:15:56.895\nSo that's one way.\n\n312\n00:15:56.895 --> 00:16:00.922\nAnother way is you can modify\nwhat's called a config register.\n\n313\n00:16:00.922 --> 00:16:02.840\nNow, config registers are a weird thing.\n\n314\n00:16:02.840 --> 00:16:07.740\nWhen you run show version the very\nlast line of show version,\n\n315\n00:16:07.740 --> 00:16:09.330\nI say it's the line watch I'll be wrong.\n\n316\n00:16:09.330 --> 00:16:10.520\nNope, it's the last line.\n\n317\n00:16:10.520 --> 00:16:11.970\nThe very last line is this guy right here.\n\n318\n00:16:11.970 --> 00:16:15.770\nConfiguration register and\nsee how mine says 0x2102?\n\n319\n00:16:16.920 --> 00:16:18.230\nWell the odds are yours does too.\n\n320\n00:16:18.230 --> 00:16:21.490\nThis is the default for\nmost Cisco equipment.\n\n321\n00:16:21.490 --> 00:16:27.050\nEach one of these are a one\nbyte value that represents\n\n322\n00:16:27.050 --> 00:16:30.740\na configuration, that represents\nsome kind of state of the system.\n\n323\n00:16:30.740 --> 00:16:32.500\nEach one has a little bit of meaning.\n\n324\n00:16:32.500 --> 00:16:37.407\nFor the exam, there's really only a couple\nthat we need to worry about, all right.\n\n325\n00:16:37.407 --> 00:16:40.490\n2102, that's normal operation.\n\n326\n00:16:40.490 --> 00:16:45.760\nThat means boot up the system, look for\nthe first IOS file and run it.\n\n327\n00:16:45.760 --> 00:16:49.860\nThen look for the start up config\nin NV RAM and run that too, right.\n\n328\n00:16:49.860 --> 00:16:52.520\nSo those are the things\nthat we want to do, but\n\n329\n00:16:52.520 --> 00:16:57.090\nyou can tell it boot up the system and\ndon't load IOS.\n\n330\n00:16:57.090 --> 00:16:58.910\nJust go right to RAM run.\n\n331\n00:16:58.910 --> 00:17:01.380\nOr you can tell it, load the iOS, but\n\n332\n00:17:01.380 --> 00:17:05.830\ndon't load the config all by\nchanging this config register.\n\n333\n00:17:05.830 --> 00:17:09.930\nNow, if you had access to the system,\nyou can go to config.\n\n334\n00:17:09.930 --> 00:17:16.718\nSo I can jump into my configuration,\nand I can say Config dash register,\n\n335\n00:17:16.718 --> 00:17:21.960\nand I can tell it what I want\nthat register to be, right.\n\n336\n00:17:21.960 --> 00:17:26.360\nAnd you know I said it was a binary\nearlier, actually hexadecimal value, so\n\n337\n00:17:26.360 --> 00:17:31.171\nit can be 0 through F, but we don't\nnormally see letters on these, but 2102 is\n\n338\n00:17:31.171 --> 00:17:36.156\nthe default, so I can say 0x2102, and\nthat's gonna put it back to the default.\n\n339\n00:17:36.156 --> 00:17:40.343\nBoot the system up, look for\nthe first iOS image and boot that, right.\n\n340\n00:17:40.343 --> 00:17:43.053\nBut if I don't know the password,\n\n341\n00:17:43.053 --> 00:17:48.201\nI might just want to bypass config so\nI can go to 2142, right.\n\n342\n00:17:48.201 --> 00:17:54.379\nChanging that value from 0 to 4 tells\nthe system hey when you boot up,\n\n343\n00:17:54.379 --> 00:18:00.170\nboot the system, load the first iOS,\ndon't load config.\n\n344\n00:18:00.170 --> 00:18:02.110\nAll right, so we can tell it to do that.\n\n345\n00:18:02.110 --> 00:18:06.270\nThe one to boot into ROMmon,\nif I remember right I think it's 2101,\n\n346\n00:18:06.270 --> 00:18:08.770\nsays boot and don't load the iOS.\n\n347\n00:18:08.770 --> 00:18:09.630\nYou don't normally want that.\n\n348\n00:18:09.630 --> 00:18:13.100\nYou don't normally want to go to ROMmon so\nI don't normally use that.\n\n349\n00:18:13.100 --> 00:18:16.720\nFor the exam the two you wanna remember,\n2102 normal operation.\n\n350\n00:18:16.720 --> 00:18:21.790\n2142, boot without config and\nthat's useful for password recovery.\n\n351\n00:18:21.790 --> 00:18:23.421\nThat's the scenario where we use that.\n\n352\n00:18:23.421 --> 00:18:29.150\nSo let's take a look at ROMman mode and\nhow that works all right.\n\n353\n00:18:29.150 --> 00:18:33.580\nIf I want to boot in a ROMmon, the first\nthing I need to do is turn the router off.\n\n354\n00:18:33.580 --> 00:18:36.237\nOkay, so I'm gonna just reach back\nhere and flip the old power button.\n\n355\n00:18:36.237 --> 00:18:41.497\nActually, before I do that, I just did\nan upgrade, anytime you do an upgrade,\n\n356\n00:18:41.497 --> 00:18:47.780\nit's a really good idea to jump in or not\nto jump in but to save your configuration.\n\n357\n00:18:47.780 --> 00:18:51.020\nEven though I haven't changed anything,\nI need to save it and\n\n358\n00:18:51.020 --> 00:18:53.960\nthe reason are those default\ncommands if I added new features\n\n359\n00:18:53.960 --> 00:18:56.160\nthere might be new commands and\nthe config is part of that.\n\n360\n00:18:56.160 --> 00:18:57.340\nAnd if I don't save my config now,\n\n361\n00:18:57.340 --> 00:19:00.510\nthe next time I boot any errors that\nI had are just gonna be back again.\n\n362\n00:19:00.510 --> 00:19:06.270\nSo, I need to make sure I save my\nconfiguration, just at least one time.\n\n363\n00:19:06.270 --> 00:19:09.810\nSo, I'm gonna do that real quick,\nso that I'm saved under the new OS.\n\n364\n00:19:09.810 --> 00:19:12.540\nAll right, now I need to boot the system.\n\n365\n00:19:12.540 --> 00:19:14.730\nAnd remember I said you\nhave a five second window?\n\n366\n00:19:14.730 --> 00:19:19.330\nThat five second window is from a cold\nboot, so when I first turn the system on.\n\n367\n00:19:19.330 --> 00:19:22.560\nIf just do a reload command,\nthat's not a cold boot.\n\n368\n00:19:22.560 --> 00:19:24.400\nIt doesn't count and\nthe break's not gonna work.\n\n369\n00:19:24.400 --> 00:19:30.220\nOkay, so what I'm gonna do is, let me just\nexit out, so I'm at the regular console,\n\n370\n00:19:30.220 --> 00:19:32.920\nand I'm gonna flip my power switch and\nturn the unit off, right?\n\n371\n00:19:32.920 --> 00:19:35.350\nSo it's completely off at this point.\n\n372\n00:19:35.350 --> 00:19:37.990\nAnd when I power it back on,\n\n373\n00:19:37.990 --> 00:19:39.770\nthere's gonna be a moment where\nI'll be able to break it.\n\n374\n00:19:39.770 --> 00:19:42.930\nNow, depending on the console\nsoftware you use,\n\n375\n00:19:42.930 --> 00:19:44.910\nsending a break can be\ndone different ways.\n\n376\n00:19:44.910 --> 00:19:46.970\nAnd some of them work, some of them don't.\n\n377\n00:19:46.970 --> 00:19:49.480\nLooking at this program,\nif I go up into my terminal menu,\n\n378\n00:19:49.480 --> 00:19:52.630\nsee how I've got send to break and\nI've got send to long break?\n\n379\n00:19:52.630 --> 00:19:54.100\nTwo different breaks.\n\n380\n00:19:54.100 --> 00:19:56.120\nSo one might work, one might not.\n\n381\n00:19:56.120 --> 00:19:58.610\nI might have to try some different ones,\nand\n\n382\n00:19:58.610 --> 00:20:01.260\nI may even have to try different software\nif this doesn't work for some reason.\n\n383\n00:20:01.260 --> 00:20:04.067\nSo we can kind of experiment\nwith a few different ways, but\n\n384\n00:20:04.067 --> 00:20:06.376\nyou've only got a brief\nwindow of time to do it.\n\n385\n00:20:06.376 --> 00:20:09.860\nSo, Ronnie would you mind\nflipping power on that?\n\n386\n00:20:09.860 --> 00:20:12.750\nAnd I'm gonna wait for\nthe first message to come up and\n\n387\n00:20:12.750 --> 00:20:14.610\nthen I'm gonna send my brake signal.\n\n388\n00:20:14.610 --> 00:20:17.310\nSee these little dots that are happening,\ninitializing memory.\n\n389\n00:20:17.310 --> 00:20:21.680\nThat's usually telling you the window\nof time you've got to send it.\n\n390\n00:20:21.680 --> 00:20:26.980\nAnd assuming you get it right what you\nshould see is what I just got right there.\n\n391\n00:20:26.980 --> 00:20:29.420\nReadonly ROMmon initialized.\n\n392\n00:20:29.420 --> 00:20:31.480\nI'm now in the ROM monitor, right?\n\n393\n00:20:31.480 --> 00:20:34.500\nThe prompt tells me that\nI'm in ROM monitor and\n\n394\n00:20:34.500 --> 00:20:37.770\nit tells me that this is\nmy very first command.\n\n395\n00:20:37.770 --> 00:20:39.020\nRight?\nThis number's gonna go up.\n\n396\n00:20:39.020 --> 00:20:40.850\nEvery command I issue,\nthe number will go up.\n\n397\n00:20:40.850 --> 00:20:41.800\nSo, I'm on command number one.\n\n398\n00:20:41.800 --> 00:20:44.130\nAnd then, I have a greater than prompt.\n\n399\n00:20:44.130 --> 00:20:46.780\nNow, the greater than prompt is not\nan unprivileged prompt like normal.\n\n400\n00:20:46.780 --> 00:20:48.440\nThis one lets you do stuff, right.\n\n401\n00:20:48.440 --> 00:20:50.600\nThere is only one prompt in ROM mon.\n\n402\n00:20:50.600 --> 00:20:53.400\nBut one thing you're gonna notice is that\na lot of the commands you're used to,\n\n403\n00:20:53.400 --> 00:20:54.640\nthey just don't work, right?\n\n404\n00:20:54.640 --> 00:20:59.495\nThis is a super duper\nduper duper small iOS,\n\n405\n00:20:59.495 --> 00:21:03.680\nright, the bulk of the commands,\njust not present.\n\n406\n00:21:03.680 --> 00:21:06.540\nif you do a question mark, you'll\nsee the commands that are available.\n\n407\n00:21:06.540 --> 00:21:09.500\nAnd you'll notice things like\nconfig are not there right?\n\n408\n00:21:09.500 --> 00:21:13.640\nWe've got confreg for\nchanging our config register, right.\n\n409\n00:21:13.640 --> 00:21:15.780\nIt's not even the same command as IOS,\nhere it's different.\n\n410\n00:21:15.780 --> 00:21:18.580\nSo it really is its own operating system.\n\n411\n00:21:18.580 --> 00:21:21.910\nBut what's here is pretty useful right?\n\n412\n00:21:21.910 --> 00:21:25.290\nWe've got options in here to be able\nto do things like resetting our flash,\n\n413\n00:21:25.290 --> 00:21:28.950\nto be able to format the flash and get\nthat set up, so we can initialize that.\n\n414\n00:21:28.950 --> 00:21:34.967\nYou've got other things in here that\nwill let you TFTP download, TFTP DNLD.\n\n415\n00:21:34.967 --> 00:21:40.576\nIf I want to copy an iOS down to the\nsystem, and this is in completely host,\n\n416\n00:21:40.576 --> 00:21:46.980\nit's got no iOS on it whatsoever,\nI can use TFTP DNLD to download a new one.\n\n417\n00:21:46.980 --> 00:21:50.460\nAnd what it's gonna tell me is in\norder to download from a TFDP server,\n\n418\n00:21:50.460 --> 00:21:53.490\nI need an IP address,\na subnet mask, a default gateway.\n\n419\n00:21:53.490 --> 00:21:55.030\nI need all of this stuff set, and so\n\n420\n00:21:55.030 --> 00:21:58.220\nit's giving me the instructions\non how to set those.\n\n421\n00:21:58.220 --> 00:22:00.610\nAnd once they're set,\nI can run TFDP DNLD, and\n\n422\n00:22:00.610 --> 00:22:03.600\nit'll download the iOS right from there,\nright?\n\n423\n00:22:03.600 --> 00:22:09.450\nSo I can have a router with a completely\nhosed IOS, and still get a clean input\n\n424\n00:22:09.450 --> 00:22:14.620\nright on there and off we go and the TFTP\nbe downloaded is still the best option.\n\n425\n00:22:14.620 --> 00:22:18.830\nYou'll see in here where\nyou actually can do xmodem.\n\n426\n00:22:18.830 --> 00:22:22.690\nSo via my terminal software,\nI could upload an ios file via xmodem\n\n427\n00:22:22.690 --> 00:22:26.405\nthat sounds easy because you don't need a\nnetwork adapter and it is pretty easy But\n\n428\n00:22:26.405 --> 00:22:30.070\nit's slow,\nit's gonna take 5 hours in some cases.\n\n429\n00:22:30.070 --> 00:22:37.950\nI mean, xmodem, it's on your console, your\nconsole is 9600 I think it's 9.6k default.\n\n430\n00:22:37.950 --> 00:22:39.700\nThat's really slow.\n\n431\n00:22:39.700 --> 00:22:42.340\nEven a 1 meg file takes a long time.\n\n432\n00:22:42.340 --> 00:22:44.990\nMy IOS image is 62 megs here.\n\n433\n00:22:44.990 --> 00:22:46.250\nIt would take a long, long time.\n\n434\n00:22:47.290 --> 00:22:50.060\nSo not necessarily the greatest\nway to go about that.\n\n435\n00:22:50.060 --> 00:22:52.800\nAll right, now I don't generally like to\nstay in ROM mon any longer than I have to.\n\n436\n00:22:52.800 --> 00:22:55.700\nI mean, you hear the fans on the router\nare amped up right now because the fan\n\n437\n00:22:55.700 --> 00:22:57.240\ncontrol software hasn't even loaded.\n\n438\n00:22:57.240 --> 00:22:58.900\nSo, I don't want to get out of it.\n\n439\n00:22:58.900 --> 00:23:02.510\nOnce you've repaired your iOS, you can\njust use the boot command to boot off it,\n\n440\n00:23:02.510 --> 00:23:04.540\nor the reset command to reset entirely.\n\n441\n00:23:04.540 --> 00:23:06.940\nI'm gonna use the boot command\nto boot the system up.\n\n442\n00:23:06.940 --> 00:23:11.350\nNow, when it boots up it's going to get\ninto my system and I'll be back to normal.\n\n443\n00:23:11.350 --> 00:23:14.590\nNow, let's say we want to\ndo a password recovery.\n\n444\n00:23:14.590 --> 00:23:16.260\nI don't know the password.\n\n445\n00:23:16.260 --> 00:23:21.280\nSo if I try and boot up,\nI can't get in to Config to tell\n\n446\n00:23:21.280 --> 00:23:25.000\nit I need to not load the Config.\n\n447\n00:23:25.000 --> 00:23:26.020\nI can't do it.\n\n448\n00:23:26.020 --> 00:23:28.600\nSo if you wanna do a password recovery on\na system and you absolutely do not know\n\n449\n00:23:28.600 --> 00:23:33.340\nthe password, what you normally wanna do\nis boot the system, and boot in a ROMmon.\n\n450\n00:23:33.340 --> 00:23:38.710\nAnd once you're in ROMmon,\nyou can use the conf reg command.\n\n451\n00:23:38.710 --> 00:23:43.407\nAnd you can change your\nconfiguration register to be\n\n452\n00:23:43.407 --> 00:23:46.832\n0X2142 and then you can reboot.\n\n453\n00:23:46.832 --> 00:23:51.561\nAnd when you boot what's gonna happen\nis it's gonna load the iOS, but\n\n454\n00:23:51.561 --> 00:23:52.696\nnot the config.\n\n455\n00:23:52.696 --> 00:23:53.993\nSo you'll get that message that says,\n\n456\n00:23:53.993 --> 00:23:56.890\ndo you want to do the initial\nconfiguration wizard and so on.\n\n457\n00:23:56.890 --> 00:24:00.468\nYou can say no, and\nif you do a show start up-config.\n\n458\n00:24:00.468 --> 00:24:03.240\nYou'll see the whole start\nup config right there.\n\n459\n00:24:03.240 --> 00:24:06.060\nAnd you can go in and\nmodify that and remove the password,\n\n460\n00:24:06.060 --> 00:24:08.790\nremove whatever you want and\nget back to where you wanna be.\n\n461\n00:24:08.790 --> 00:24:12.664\nSo kind of neat that you are able to\ndo that and get any recover the system.\n\n462\n00:24:12.664 --> 00:24:15.391\nI think we got enough time in the episode,\nlet me run through it and\n\n463\n00:24:15.391 --> 00:24:16.415\nshow you that process.\n\n464\n00:24:16.415 --> 00:24:18.890\n>> [LAUGH]\n>> Finally, those fans just ramped down.\n\n465\n00:24:18.890 --> 00:24:22.899\nOne of the more annoying aspects of ROMMON\nis that it doesn't load the fan management\n\n466\n00:24:22.899 --> 00:24:25.338\nsoftware, so\nyou kinda have to suffer through it.\n\n467\n00:24:25.338 --> 00:24:31.291\nSo let's pretend for a moment that I\nwant to do a password reset on this.\n\n468\n00:24:31.291 --> 00:24:36.194\nWell I'm gonna need to get back into\nROMMON if I wanna set the config register,\n\n469\n00:24:36.194 --> 00:24:40.480\nI guess I know the password here,\nI can just set it from this one.\n\n470\n00:24:40.480 --> 00:24:44.550\nBut I need to tell it to boot\nwithout loading that OS.\n\n471\n00:24:44.550 --> 00:24:47.760\nSo to do that we can just\nturn it back off again, and\n\n472\n00:24:47.760 --> 00:24:50.170\nwe're gonna hear our fans again,\nso this will be fun.\n\n473\n00:24:50.170 --> 00:24:55.102\nBut I'm gonna do a restart, and\nI'm gonna send that Ctrl+B or Cmd+B, or\n\n474\n00:24:55.102 --> 00:24:58.405\nwhatever it is that my\nsystem uses to send a break.\n\n475\n00:24:58.405 --> 00:25:02.460\nI'm gonna send that into the system,\nso it's doing that right now.\n\n476\n00:25:02.460 --> 00:25:06.660\nAnd I'm going to get back into ROMMON,\nand there we go.\n\n477\n00:25:07.670 --> 00:25:10.360\nAnd what I'm gonna do is\nuse the confreg command.\n\n478\n00:25:10.360 --> 00:25:15.908\nAnd I'm gonna say, 0x2142, so\nI'm gonna change that config register.\n\n479\n00:25:15.908 --> 00:25:18.543\nAnd it tells me I must reset or\npower cycle, in other words,\n\n480\n00:25:18.543 --> 00:25:20.130\nI can't just say, boot.\n\n481\n00:25:20.130 --> 00:25:22.331\nI've got to do a reset for\nthis to take effect.\n\n482\n00:25:22.331 --> 00:25:26.750\nSo I'm gonna type reset, and\nnow it's gonna reboot again.\n\n483\n00:25:26.750 --> 00:25:30.935\nBut this time, my configuration\nregister is set so that when it boots,\n\n484\n00:25:30.935 --> 00:25:34.448\nit will find the first iOS,\nignore the NVRAM, and boot up.\n\n485\n00:25:34.448 --> 00:25:36.300\nNow I am gonna have a little\nbit of a problem here.\n\n486\n00:25:36.300 --> 00:25:40.690\nIf I ignore the config,\nmy config has a boot command in it.\n\n487\n00:25:40.690 --> 00:25:44.260\nAnd the boot command tells it to\nboot my new iOS that I uploaded.\n\n488\n00:25:44.260 --> 00:25:46.320\nIf that boot command is gone,\nwhich iOS am I gonna boot?\n\n489\n00:25:47.760 --> 00:25:48.580\nI don't know.\n\n490\n00:25:48.580 --> 00:25:49.590\nWell if I do know,\n\n491\n00:25:49.590 --> 00:25:51.780\nif I know the file numbers then I\nknow which one it's gonna boot.\n\n492\n00:25:51.780 --> 00:25:55.773\nBut it may very well, it probably will,\njump back and boot the old iOS.\n\n493\n00:25:55.773 --> 00:25:57.062\nNow I'm okay with that right now,\n\n494\n00:25:57.062 --> 00:25:59.249\nbecause I'm not really messing\nwith my configurations.\n\n495\n00:25:59.249 --> 00:26:03.720\nBut if I'm just trying to get in and\nreset a password that's fine.\n\n496\n00:26:03.720 --> 00:26:06.090\nBut if I'm gonna do something\nlike merging the config,\n\n497\n00:26:06.090 --> 00:26:07.140\nI may need to worry about that.\n\n498\n00:26:07.140 --> 00:26:08.618\nI might have errors that get bought in.\n\n499\n00:26:08.618 --> 00:26:13.066\nSo always be aware of that, if you kept\nmore than one IOS lying around and\n\n500\n00:26:13.066 --> 00:26:15.990\nyou don't load your config file.\n\n501\n00:26:15.990 --> 00:26:18.057\nYou don't necessarily know which\nimage it's about to boost,\n\n502\n00:26:18.057 --> 00:26:19.229\nyou've got to pay attention to it.\n\n503\n00:26:19.229 --> 00:26:21.560\nSo I expect to see it load that voice one,\n\n504\n00:26:21.560 --> 00:26:26.034\nunless it was smart enough to know that\nI really wanted to go that other route.\n\n505\n00:26:26.034 --> 00:26:28.958\nSome systems will store those\nboot flags in different,\n\n506\n00:26:28.958 --> 00:26:32.130\nlike the really big switches,\nthe 6500s do.\n\n507\n00:26:32.130 --> 00:26:33.730\nSo even when the boot commands are gone,\n\n508\n00:26:33.730 --> 00:26:36.110\nthey still kind of honor\nwhat you wanted to boot.\n\n509\n00:26:36.110 --> 00:26:38.639\nI don't think this router will do it, I'm\npretty sure it doesn't have that hardware.\n\n510\n00:26:39.830 --> 00:26:43.142\nSo we'll give it a moment, we'll know here\nshortly as soon as the next status message\n\n511\n00:26:43.142 --> 00:26:44.482\ncomes up which one it's booting.\n\n512\n00:26:44.482 --> 00:26:47.227\nAnd a key thing here is\nI need to be careful,\n\n513\n00:26:47.227 --> 00:26:50.440\nbecause it's gonna boot with no config.\n\n514\n00:26:50.440 --> 00:26:53.000\nAnd so it's gonna ask me things like\nwhether I want to save my config.\n\n515\n00:26:53.000 --> 00:26:56.314\nAnd if I save it, I'm gonna basically say,\n\n516\n00:26:56.314 --> 00:27:02.100\nan empty config right on top of my good\nconfig that I just chose not to boot.\n\n517\n00:27:02.100 --> 00:27:04.900\nIt actually did boot my 1514,\nit booted the new one.\n\n518\n00:27:04.900 --> 00:27:07.562\nSo I am safe there, but\nit's gonna boot up, and\n\n519\n00:27:07.562 --> 00:27:11.502\nmy configuration register will be set,\nso it's not loading the iOS.\n\n520\n00:27:11.502 --> 00:27:15.352\nSo any time not it's gonna tell me if I\nwanna enter the initial configuration\n\n521\n00:27:15.352 --> 00:27:16.624\nwizard, which I do not.\n\n522\n00:27:16.624 --> 00:27:22.190\nNow once I get to a prompt, there's\ntwo different ways I can handle this.\n\n523\n00:27:22.190 --> 00:27:25.685\nIf I don't care about the password,\nif this is just used equipment,\n\n524\n00:27:25.685 --> 00:27:27.325\nI wanna get it reset to scratch.\n\n525\n00:27:27.325 --> 00:27:31.559\nThen what I'm gonna do is I'm gonna\nsay no on the configuration wizard and\n\n526\n00:27:31.559 --> 00:27:34.400\nthen I'll just type, erase startup-config.\n\n527\n00:27:34.400 --> 00:27:36.410\nErase the start up config and reboot.\n\n528\n00:27:36.410 --> 00:27:40.290\nAnd when you reboot, the system will\ncome up, and now it's nice and clean.\n\n529\n00:27:40.290 --> 00:27:42.350\nYou just need to remember to put\nthe configuration register back to\n\n530\n00:27:42.350 --> 00:27:42.989\nthe default value.\n\n531\n00:27:42.989 --> 00:27:48.013\nBut if the configuration is valuable\nto me, I need the configuration.\n\n532\n00:27:48.013 --> 00:27:53.640\nI just don't know the password, in that\nscenario, I don't wanna erase the startup.\n\n533\n00:27:53.640 --> 00:27:57.780\nWhat you wanna do is this, I'm going to\nenable, and see how I can enable without\n\n534\n00:27:57.780 --> 00:28:00.850\na password because the default\ndoes not have a password.\n\n535\n00:28:00.850 --> 00:28:05.450\nSo now I am at full privilege mode, and\n\n536\n00:28:05.450 --> 00:28:10.465\nI can do copy startup-config\nrunning-config.\n\n537\n00:28:10.465 --> 00:28:14.384\nI'm gonna take what's in the startup and\nmerge it into the running config.\n\n538\n00:28:14.384 --> 00:28:16.637\nNow the running config has\njust defaults right now.\n\n539\n00:28:16.637 --> 00:28:19.106\nSo I don't have to worry about\nanything crazy there, and\n\n540\n00:28:19.106 --> 00:28:20.862\nthe startup config is gonna get sent in.\n\n541\n00:28:20.862 --> 00:28:25.050\nNow I know what you're thinking wait Don,\nthe startup config has passwords.\n\n542\n00:28:25.050 --> 00:28:28.030\nWell it might but I'm already past those,\nI'm already logged in.\n\n543\n00:28:28.030 --> 00:28:30.716\nSo if there's an enable secret,\nI'm already enabled.\n\n544\n00:28:30.716 --> 00:28:33.578\nIf there's an SSH password,\na triple A user name and password,\n\n545\n00:28:33.578 --> 00:28:35.260\nI'm already past all of that.\n\n546\n00:28:35.260 --> 00:28:39.080\nSo it's okay for me to merge that in and\nI'm gonna merge it in, and\n\n547\n00:28:39.080 --> 00:28:41.990\nsee how my host name\njust became LAB-ROUTER10?\n\n548\n00:28:41.990 --> 00:28:44.575\nAnd my system clock just\nupdated from my NTP server.\n\n549\n00:28:44.575 --> 00:28:48.080\nRight now, it's started to do all those\nthings that are in my configuration.\n\n550\n00:28:48.080 --> 00:28:50.770\nAnd if I do a show running-config,\n\n551\n00:28:50.770 --> 00:28:54.220\nI can see where my passwords\nare set if I have it.\n\n552\n00:28:54.220 --> 00:28:55.159\nDid I not set passwords?\n\n553\n00:28:56.160 --> 00:28:56.919\nDarn it.\nWell any how.\n\n554\n00:28:56.919 --> 00:28:59.120\n>> [LAUGH]\n>> I had a password, but\n\n555\n00:28:59.120 --> 00:29:00.175\nI don't see it here.\n\n556\n00:29:00.175 --> 00:29:02.840\nIt would be md5 hashed.\n\n557\n00:29:02.840 --> 00:29:04.700\nSo can I reverse that?\n\n558\n00:29:04.700 --> 00:29:07.390\nNo, but I can change it.\n\n559\n00:29:07.390 --> 00:29:09.710\nSo if there was already one in here,\nI could just jump into config and\n\n560\n00:29:09.710 --> 00:29:16.000\nI could say username admin priv 15 secret,\nand then type in whatever I want.\n\n561\n00:29:16.000 --> 00:29:18.417\nAnd it's gonna overwrite\nthe password that was in there.\n\n562\n00:29:18.417 --> 00:29:22.510\nMy entire config stays is the same,\nbut now I know the password.\n\n563\n00:29:22.510 --> 00:29:25.920\nAnd so I've recovered, I haven't\nrecovered what the password was, but\n\n564\n00:29:25.920 --> 00:29:27.720\nI've set the password to\nsomething that I know.\n\n565\n00:29:27.720 --> 00:29:29.586\nSo now I'm able to get in and\nwork with the system.\n\n566\n00:29:29.586 --> 00:29:34.158\nAnd anywhere else that I've assigned\na password, I can get into the vtys and\n\n567\n00:29:34.158 --> 00:29:36.170\nmaybe I'll set a password here.\n\n568\n00:29:36.170 --> 00:29:38.697\nAnd so I can just overwrite that and\ndefine,\n\n569\n00:29:38.697 --> 00:29:42.742\nwhatever it is that we need to do we\ncan get it set and get it put in place.\n\n570\n00:29:42.742 --> 00:29:46.450\nAnd then when I'm done, all I have\nto do is save the configuration.\n\n571\n00:29:46.450 --> 00:29:53.360\nI can copy what's running over the start\nup and now, the next time I start it up,\n\n572\n00:29:53.360 --> 00:29:56.000\nit will be my full configuration but\nwith passwords that I know.\n\n573\n00:29:57.160 --> 00:30:01.020\nNow if I stop here, I'm gonna be\nreally sad the next time I reboot.\n\n574\n00:30:01.020 --> 00:30:04.657\nBecause if I do a show version\nat the bottom of that output,\n\n575\n00:30:04.657 --> 00:30:08.013\nI'll see that my config\nregister is still 2142.\n\n576\n00:30:08.013 --> 00:30:10.796\nSo the next time I reboot,\nwhat's gonna happen,\n\n577\n00:30:10.796 --> 00:30:14.060\nit's gonna go back to\nan empty startup config.\n\n578\n00:30:14.060 --> 00:30:16.720\nSo I need to put it back but fortunately,\n\n579\n00:30:16.720 --> 00:30:18.330\nI can get into configuration now and\nI can do it.\n\n580\n00:30:18.330 --> 00:30:23.362\nSo I can run the config-register\ncommand and I can put it back to 2102.\n\n581\n00:30:23.362 --> 00:30:28.808\nAnd when I do that,\nconfig-register 0x2102 now it knows,\n\n582\n00:30:28.808 --> 00:30:33.467\nhey, the next time I boot\nit's okay to run the startup.\n\n583\n00:30:33.467 --> 00:30:39.260\nAnd this is one of the few commands\nwhere you don't have to save it.\n\n584\n00:30:39.260 --> 00:30:44.394\nSo if I do a show version,\nI'll see that right now I'm 2142 but\n\n585\n00:30:44.394 --> 00:30:47.065\nat next boot, I'll be 2102.\n\n586\n00:30:47.065 --> 00:30:50.190\nSo it knows that it's gonna\nreset it the next time it boots.\n\n587\n00:30:50.190 --> 00:30:55.446\nAnd if I do a show running-config,\nthe config register is not in there.\n\n588\n00:30:55.446 --> 00:31:01.750\nI'm gonna include in the line with reg,\nit doesn't get stored in config.\n\n589\n00:31:01.750 --> 00:31:04.298\nSo you don't actually have to save,\nwhen you do the config-register command,\n\n590\n00:31:04.298 --> 00:31:05.091\nyou don't have to save.\n\n591\n00:31:05.091 --> 00:31:08.550\nIt's set and the next time I reboot,\nit'll be back to normal.\n\n592\n00:31:08.550 --> 00:31:12.210\nSo that's important if you want to make\nsure that you know your information,\n\n593\n00:31:12.210 --> 00:31:15.820\nyou know your password, and\neverything's gonna boot the right way.\n\n594\n00:31:15.820 --> 00:31:20.290\nYou gotta make sure that you get it\nput back when you're done, 2102.\n\n595\n00:31:20.290 --> 00:31:26.450\nI think that is about it, I don't think\nI have anything else on this one.\n\n596\n00:31:26.450 --> 00:31:31.158\nJust remember, even when you download\nan official iOS image right from Cisco's\n\n597\n00:31:31.158 --> 00:31:33.456\nwebsite know that it can be corrupted.\n\n598\n00:31:33.456 --> 00:31:37.450\nWeb browsers do it all the time, so we\nalways want to make sure we verify that.\n\n599\n00:31:37.450 --> 00:31:41.760\nAlways test new versions locally before\nyou deploy them remotely and if you don't\n\n600\n00:31:41.760 --> 00:31:45.757\nhave enough memory to store two iOSs,\nknow that when you delete the old iOS,\n\n601\n00:31:45.757 --> 00:31:49.701\nwhen you're uploading the new one,\nyou're vulnerable, you're weak.\n\n602\n00:31:49.701 --> 00:31:52.539\nthat if there's a power outage or\nanything like that you can lock yourself\n\n603\n00:31:52.539 --> 00:31:55.350\nout of the equipment, and so\nyou've got to make sure you plan for that.\n\n604\n00:31:55.350 --> 00:31:58.392\nHave somebody out there that's available\non site to be able to repair it, or\n\n605\n00:31:58.392 --> 00:32:00.924\nhave replacement equipment ready\nto ship on a moments notice.\n\n606\n00:32:00.924 --> 00:32:02.692\nThat is really, really critical.\n\n607\n00:32:02.692 --> 00:32:05.570\n>> All right Don, well thank you again for\n\n608\n00:32:05.570 --> 00:32:09.900\nat least demonstrating to us again what we\nhave to do to ensure we are getting that\n\n609\n00:32:09.900 --> 00:32:13.860\nnew iOS image where it will boot from\nthat one instead of the old one.\n\n610\n00:32:13.860 --> 00:32:17.375\nAs well as this idea of password recovery,\nit's one of the key things that we do\n\n611\n00:32:17.375 --> 00:32:19.636\nneed to make sure that we\nunderstand the process.\n\n612\n00:32:19.636 --> 00:32:24.498\nAnd those configuration registers are also\ngonna be there that very heavily testable\n\n613\n00:32:24.498 --> 00:32:25.490\nmaterial.\n\n614\n00:32:25.490 --> 00:32:29.245\nMake sure you know which one is actually\nwhich, and password recovery is at 2142.\n\n615\n00:32:29.245 --> 00:32:36.412\nAnd [LAUGH] I should know is, and\nof course, the other one is 2102 as well.\n\n616\n00:32:36.412 --> 00:32:38.974\nFor the regular start up\nin what we need to do.\n\n617\n00:32:38.974 --> 00:32:43.638\nBut those are always something that will\nbe very valuable to you in production,\n\n618\n00:32:43.638 --> 00:32:45.390\nas well as on the exam.\n\n619\n00:32:45.390 --> 00:32:48.765\nWell that's a great place for us to also\nend this episode then, signing off for\n\n620\n00:32:48.765 --> 00:32:50.825\nITPro.TV, I've been your host Ronnie Wong.\n\n621\n00:32:50.825 --> 00:32:52.027\n>> And I'm Don Pezet.\n\n622\n00:32:52.027 --> 00:32:54.911\n>> Stay tuned right here for\nmore CCENT episodes.\n\n623\n00:32:54.911 --> 00:33:01.554\n[SOUND]\n\n",
          "vimeoId": "177450838"
        },
        {
          "description": "In this episode, Ronnie and Don take us through the Cisco Troubleshooting Model that every CCENT candidate need to understand before the exam and also show an additional methodology using the OSI model to help isolate and resolve networking issues.  They also show the use of traceroute and pings when troubleshooting connectivity issues.",
          "length": "1875",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-5-4-1-troubleshooting_tools-080316-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-5-4-1-troubleshooting_tools-080316-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-5-4-1-troubleshooting_tools-080316-1-sm.jpg",
          "title": "Troubleshooting Tools",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.548 --> 00:00:14.789\nWelcome to another great\nepisode right here on ITProTV.\n\n3\n00:00:14.789 --> 00:00:18.695\nI'm your host Ronnie Wong, and\nyou're watching the Cisco's CCENT show,\n\n4\n00:00:18.695 --> 00:00:22.554\nwhere we're actually taking a look\nat some troubleshooting tools today.\n\n5\n00:00:22.554 --> 00:00:25.847\nAnd we want to make sure of course that we\nunderstand now that we've got everything\n\n6\n00:00:25.847 --> 00:00:27.676\nset up,\nwe need to know how to troubleshoot.\n\n7\n00:00:27.676 --> 00:00:30.793\nAnd we have Mr.\nTroubleshooter with us himself, Don Pezet.\n\n8\n00:00:30.793 --> 00:00:31.568\nDon, welcome back.\n\n9\n00:00:31.568 --> 00:00:32.577\n>> Thanks for having me back Ronnie.\n\n10\n00:00:32.577 --> 00:00:34.726\nYeah, in this episode we want\nto focus on troubleshooting.\n\n11\n00:00:34.726 --> 00:00:37.744\nAnd I know, if you've watched all of\nour episodes you've probably seen\n\n12\n00:00:37.744 --> 00:00:39.191\nme troubleshoot a problem or two.\n\n13\n00:00:39.191 --> 00:00:41.879\nWe do have issues that creep up\nas we configure our devices.\n\n14\n00:00:41.879 --> 00:00:45.389\nOne of the things that I like about\nnetworking, I'm a network guy.\n\n15\n00:00:45.389 --> 00:00:48.044\nI really enjoy working with routers and\nswitches and firewalls.\n\n16\n00:00:48.044 --> 00:00:51.443\nThat normally you configure them and\nthey work right.\n\n17\n00:00:51.443 --> 00:00:52.707\nIt's not like well,\n\n18\n00:00:52.707 --> 00:00:56.860\nmost computers if you think about\na computer it's binary data right?\n\n19\n00:00:56.860 --> 00:00:58.965\nZeros and ones,\nthings are either on and off.\n\n20\n00:00:58.965 --> 00:00:59.848\nThey work or they don't.\n\n21\n00:00:59.848 --> 00:01:02.415\nBut, if you ever used Microsoft Windows,\n\n22\n00:01:02.415 --> 00:01:06.049\n[LAUGH] then you this is gray area\nin between work, not work and\n\n23\n00:01:06.049 --> 00:01:10.284\nsort of work and that's kind of what\nwe've got in use to in computers.\n\n24\n00:01:10.284 --> 00:01:12.770\nWell on routers and switches,\nwe don't normally have that.\n\n25\n00:01:12.770 --> 00:01:15.710\nThere isn't normally a sort\nof work in the middle, but\n\n26\n00:01:15.710 --> 00:01:17.120\nthere're a lot of things\nthat can cause problems.\n\n27\n00:01:17.120 --> 00:01:22.203\nThings like bad routes on the network or\nOr misconfigured protocols and so on.\n\n28\n00:01:22.203 --> 00:01:24.910\nSo we need to have some\ntroubleshooting tools available.\n\n29\n00:01:24.910 --> 00:01:27.594\nThings to whip out of our tool kit and\nbe able to jump in and\n\n30\n00:01:27.594 --> 00:01:28.977\nstart to isolate a problem.\n\n31\n00:01:28.977 --> 00:01:33.569\nNow on the exam, there are some practical\nquestions, some actual hands on questions\n\n32\n00:01:33.569 --> 00:01:37.293\nwhere they'll give you some virtual\nrouters or virtual switchers.\n\n33\n00:01:37.293 --> 00:01:40.758\nAnd they'll tell you that they're\nexhibiting a certain problem,\n\n34\n00:01:40.758 --> 00:01:41.737\nyou need to fix it.\n\n35\n00:01:41.737 --> 00:01:44.231\nSo how do you do that, right?\n\n36\n00:01:44.231 --> 00:01:46.063\nWe need a formulaic approach, and\n\n37\n00:01:46.063 --> 00:01:49.738\nCisco does have an official approach\nto troubleshooting a problem.\n\n38\n00:01:49.738 --> 00:01:54.076\nAnd when you troubleshoot it, I find\nthat we don't need a whole ton of tools.\n\n39\n00:01:54.076 --> 00:01:58.441\nIf you really know your commands, if you\nknow how things are supposed to be set up,\n\n40\n00:01:58.441 --> 00:02:01.622\nyou really just need one command,\nshow running-config.\n\n41\n00:02:01.622 --> 00:02:03.370\n>> [LAUGH]\n>> You can look at the configuration.\n\n42\n00:02:03.370 --> 00:02:06.135\nAnd if you know all the commands, you can\nlook right through that configuration and\n\n43\n00:02:06.135 --> 00:02:06.779\nspot the problem.\n\n44\n00:02:06.779 --> 00:02:09.698\nThe thing is,\nthe configuration can be really big.\n\n45\n00:02:09.698 --> 00:02:12.904\nAnd the bigger the configuration is,\nthe longer it takes to skim through and\n\n46\n00:02:12.904 --> 00:02:15.223\nfind that problem and\nisolate it and troubleshoot it.\n\n47\n00:02:15.223 --> 00:02:17.156\nSo that's not always an option.\n\n48\n00:02:17.156 --> 00:02:20.063\nAnd the more complex your network is,\nright, in this show,\n\n49\n00:02:20.063 --> 00:02:23.149\nwe've really just been talking\nabout one router or one switch.\n\n50\n00:02:23.149 --> 00:02:25.102\nBut imagine if you have 100 routers.\n\n51\n00:02:25.102 --> 00:02:27.559\nThe problem may not exist on one router.\n\n52\n00:02:27.559 --> 00:02:29.842\nIt may exist on router number 55.\n\n53\n00:02:29.842 --> 00:02:33.908\nAnd so if I'm looking at the config of\nrouter 1, I'm not gonna see the problem.\n\n54\n00:02:33.908 --> 00:02:38.275\nSo while show running -config is usually\nmy go to command to be able to locate\n\n55\n00:02:38.275 --> 00:02:41.777\nproblems, it's not always\nthe best tool available for us.\n\n56\n00:02:41.777 --> 00:02:43.791\nSo, in this episode we're\ngonna run through the official\n\n57\n00:02:43.791 --> 00:02:44.785\ntroubleshooting process.\n\n58\n00:02:44.785 --> 00:02:47.983\nWe’ll get a chance to see some of\nthe tools that are available for us, and\n\n59\n00:02:47.983 --> 00:02:50.355\njust gonna run through that,\nand see what we expect.\n\n60\n00:02:50.355 --> 00:02:52.396\nNow, we're not gonna go\ncrazy complex on this.\n\n61\n00:02:52.396 --> 00:02:56.015\nIn the CCNA show,\nwe'll go through a little more but\n\n62\n00:02:56.015 --> 00:03:00.803\nreally in the CCNP show,\nthere's a whole core, a whole, you know.\n\n63\n00:03:00.803 --> 00:03:01.322\n>> Exam.\n\n64\n00:03:01.322 --> 00:03:04.011\n>> Exam,\nyeah that is just based on troubleshooting\n\n65\n00:03:04.011 --> 00:03:06.069\n>> Because you've got advance tools for\n\n66\n00:03:06.069 --> 00:03:08.899\nevery routing protocol,\nevery network protocol,\n\n67\n00:03:08.899 --> 00:03:13.030\nall the different hardware interface\ntypes, and layer two technologies.\n\n68\n00:03:13.030 --> 00:03:14.940\nThey all have their own\ntroubleshooting tools.\n\n69\n00:03:14.940 --> 00:03:18.474\nThere are hundreds upon hundreds\nof commands that are out there.\n\n70\n00:03:18.474 --> 00:03:22.084\nWe're gonna focus on the critical\nones that we use every single day.\n\n71\n00:03:22.084 --> 00:03:27.063\nAll right, let's start by talking about\nCisco's official methodology, right?\n\n72\n00:03:27.063 --> 00:03:30.033\nIn real life land, you can choose to\nfollow whatever methodology you want.\n\n73\n00:03:30.033 --> 00:03:31.245\nMaybe you don't even have a methodology.\n\n74\n00:03:31.245 --> 00:03:33.267\nYou just throw darts at the wall and\nsee what sticks.\n\n75\n00:03:33.267 --> 00:03:37.922\nBut on the exam, we need to have Cisco's\nmethodology, and it's three simple steps.\n\n76\n00:03:37.922 --> 00:03:41.267\nFirst is, perform fault isolation.\n\n77\n00:03:41.267 --> 00:03:44.572\nSomebody comes to you and\ntells you there's a problem.\n\n78\n00:03:44.572 --> 00:03:46.527\nThink about in the real world.\n\n79\n00:03:46.527 --> 00:03:49.120\nAlison Accounting calls you\non the phone and says, hey,\n\n80\n00:03:49.120 --> 00:03:50.533\nI think the internet's down.\n\n81\n00:03:50.533 --> 00:03:53.551\nI can't get to cnn.com.\n\n82\n00:03:53.551 --> 00:03:57.144\nAll right, well, for you,\nyou now need to establish,\n\n83\n00:03:57.144 --> 00:03:59.524\nis the whole Internet down, right?\n\n84\n00:03:59.524 --> 00:04:04.250\nIs the whole Internet, across\nthe entire planet down or is CNN down?\n\n85\n00:04:04.250 --> 00:04:08.490\nOr is it just Alice, or\nis it the entire accounting department?\n\n86\n00:04:08.490 --> 00:04:09.678\nIs it the floor she's on?\n\n87\n00:04:09.678 --> 00:04:11.022\nIs it the entire building?\n\n88\n00:04:11.022 --> 00:04:12.191\nWho can't get there?\n\n89\n00:04:12.191 --> 00:04:14.255\nHow big is this problem?\n\n90\n00:04:14.255 --> 00:04:15.972\nSo we need to isolate the problem.\n\n91\n00:04:15.972 --> 00:04:18.789\nWe need to figure out where\nthe problem's border is, all right?\n\n92\n00:04:18.789 --> 00:04:22.064\nAnd you can do this without,\nyou don't even need Cisco routers and\n\n93\n00:04:22.064 --> 00:04:22.833\ntools to do it.\n\n94\n00:04:22.833 --> 00:04:26.383\nSo Alice in accounting\nsays I can't get to CNN.\n\n95\n00:04:26.383 --> 00:04:27.617\nI think the Internet's down.\n\n96\n00:04:27.617 --> 00:04:29.953\nSo on my computer, I might go to CNN.\n\n97\n00:04:29.953 --> 00:04:31.727\nGo and fire up a web browser and\ngo to cnn.com.\n\n98\n00:04:31.727 --> 00:04:32.931\nCan I get there?\n\n99\n00:04:32.931 --> 00:04:36.976\nIf I can't, well now maybe it's the whole\nbuilding if I'm in the building with her.\n\n100\n00:04:36.976 --> 00:04:41.105\nIf I'm not in the building with her,\nthen maybe CNN is down.\n\n101\n00:04:41.105 --> 00:04:44.501\nMaybe it is something out there on\nthe internet or an ISP problem.\n\n102\n00:04:44.501 --> 00:04:46.767\nBut we need to isolate and\nfigure out where that problem is.\n\n103\n00:04:46.767 --> 00:04:49.784\nThat's kind of the first one, for\nthose of you coming in the CompTIA world,\n\n104\n00:04:49.784 --> 00:04:52.209\nwe usually call it as establishing\nthe scope of the problem.\n\n105\n00:04:52.209 --> 00:04:55.482\nBut Cisco calls it the you know,\nisolating that problem.\n\n106\n00:04:55.482 --> 00:04:59.289\nYou want to figure out exactly\nhow big that problem is.\n\n107\n00:04:59.289 --> 00:05:02.501\nAnd there's a second part to this\nmethodology that's kind of important.\n\n108\n00:05:02.501 --> 00:05:08.535\nThe official one is, perform fault\nisolation and document right?\n\n109\n00:05:08.535 --> 00:05:11.645\nIn a small company, you can do things\nflying by the seat of your pants.\n\n110\n00:05:11.645 --> 00:05:15.002\nBut in a large company, you'll have\na lot of problems come through.\n\n111\n00:05:15.002 --> 00:05:18.698\nAnd the problems need to be documented\nin an official ticketing system.\n\n112\n00:05:18.698 --> 00:05:21.971\nThe main reason is sometimes you\nget the same problem over again.\n\n113\n00:05:21.971 --> 00:05:25.269\nAnd I know I'm guilty of this,\nwhere I have two routers, and\n\n114\n00:05:25.269 --> 00:05:28.389\nthey have some kind of a problem,\nand I troubleshoot it.\n\n115\n00:05:28.389 --> 00:05:31.197\nI find the problem, I fix it, and\nI get it up and running and they're happy.\n\n116\n00:05:31.197 --> 00:05:35.322\nAnd then three months later, I get two\nmore routers that are having that same\n\n117\n00:05:35.322 --> 00:05:39.142\nproblem, and I'm thinking to myself what,\nwhat did I do to fix that?\n\n118\n00:05:39.142 --> 00:05:42.790\nI spent two hours trouble shooting it and\nfixing it and I can't remember what I did.\n\n119\n00:05:42.790 --> 00:05:45.166\nAnd now you've gotta do\nall that work over again.\n\n120\n00:05:45.166 --> 00:05:47.812\nSo we always want to make sure\nthat we document the problem.\n\n121\n00:05:47.812 --> 00:05:52.904\nAnd a trouble shooting,\ntrouble ticket system.\n\n122\n00:05:52.904 --> 00:05:53.989\nThat's what I'm trying to say.\n\n123\n00:05:53.989 --> 00:05:56.746\nA ticketing system is how we achieve that,\nright.\n\n124\n00:05:56.746 --> 00:05:58.865\nThey submit their problem in writing.\n\n125\n00:05:58.865 --> 00:05:59.718\nWe start troubleshooting.\n\n126\n00:05:59.718 --> 00:06:03.920\nWe document what we're finding as we\nisolate down to exactly who's affected.\n\n127\n00:06:03.920 --> 00:06:06.058\nHow big is the problem.\n\n128\n00:06:06.058 --> 00:06:08.050\nThen we move on to the second phase,\nright.\n\n129\n00:06:08.050 --> 00:06:11.665\nAnd the second phase is resolve or\nescalate.\n\n130\n00:06:11.665 --> 00:06:15.011\nNow that I know where the problem is,\nI've isolated the problem,\n\n131\n00:06:15.011 --> 00:06:16.097\nI need to resolve it.\n\n132\n00:06:16.097 --> 00:06:19.740\nAnd resolving it can be\na lot harder than it sounds.\n\n133\n00:06:19.740 --> 00:06:21.210\nYou've all probably\ndealt with this before.\n\n134\n00:06:21.210 --> 00:06:22.674\nSometimes it's really obvious.\n\n135\n00:06:22.674 --> 00:06:24.392\nHey, look, the cable's unplugged.\n\n136\n00:06:24.392 --> 00:06:25.845\nI'm gonna plug that back in.\n\n137\n00:06:25.845 --> 00:06:27.856\nProblem solved, right, resolved.\n\n138\n00:06:27.856 --> 00:06:32.012\nBut it might be, hm, I really don't\nknow what the problem is, but\n\n139\n00:06:32.012 --> 00:06:34.178\nlet me try this and see if it works.\n\n140\n00:06:34.178 --> 00:06:35.050\nWell, that didn't work.\n\n141\n00:06:35.050 --> 00:06:36.642\nAll right, let me undo that change.\n\n142\n00:06:36.642 --> 00:06:38.681\nLet me try another change,\nsee if that works.\n\n143\n00:06:38.681 --> 00:06:39.877\nNo, that didn't do it either.\n\n144\n00:06:39.877 --> 00:06:41.192\nLet me undo that one right?\n\n145\n00:06:41.192 --> 00:06:45.266\nYou might have to try two or three things\nas part of your isolation before you\n\n146\n00:06:45.266 --> 00:06:48.514\nactually figure out which one's\nthe true and correct fix.\n\n147\n00:06:48.514 --> 00:06:52.007\nAnd you need to be undoing anything\nthat you did that wasn't effective,\n\n148\n00:06:52.007 --> 00:06:55.213\ncuz you don't want to put a change and\nleave it there by accident and\n\n149\n00:06:55.213 --> 00:06:57.862\nnow you got some unauthorized\nchanged in the network.\n\n150\n00:06:57.862 --> 00:07:01.723\nSo you may have to go through a few steps\nbefore you are able to resolve that\n\n151\n00:07:01.723 --> 00:07:02.302\nproblem.\n\n152\n00:07:02.302 --> 00:07:04.239\nYou may not be able to resolve it.\n\n153\n00:07:04.239 --> 00:07:07.915\nIf you can't resolve it, if it's beyond\nyour abilities, you've looked at it for\n\n154\n00:07:07.915 --> 00:07:08.449\ntwo hours.\n\n155\n00:07:08.449 --> 00:07:09.930\nThe user has been down.\n\n156\n00:07:09.930 --> 00:07:13.248\nThey're really getting upset and\nlike, look I've got to get to CNN.\n\n157\n00:07:13.248 --> 00:07:14.785\nYou don't understand.\n\n158\n00:07:14.785 --> 00:07:17.202\nObviously something a little\nmore mission critical than that,\n\n159\n00:07:17.202 --> 00:07:18.329\nthen it's time to escalate.\n\n160\n00:07:18.329 --> 00:07:19.671\nAnd you say look, I can't resolve it.\n\n161\n00:07:19.671 --> 00:07:21.577\nLet me push it up to the next tier.\n\n162\n00:07:21.577 --> 00:07:23.428\nI might be tier one help desk.\n\n163\n00:07:23.428 --> 00:07:24.877\nSo I'm the person answering the phone.\n\n164\n00:07:24.877 --> 00:07:26.184\nNow it's time to go to tier two.\n\n165\n00:07:26.184 --> 00:07:27.950\nLet me send it up to the next\nto the network engineers.\n\n166\n00:07:27.950 --> 00:07:31.250\nLet me send it upstream to move to people\nthat are in a higher pay grade that maybe\n\n167\n00:07:31.250 --> 00:07:32.954\nthey'll be able to solve that problem.\n\n168\n00:07:32.954 --> 00:07:35.709\nAnd if they can't,\nthen they've got to escalate it.\n\n169\n00:07:35.709 --> 00:07:37.868\nIt goes up the tier to the next level.\n\n170\n00:07:37.868 --> 00:07:39.990\nAnd so that's just a process\nthat everybody to goes through.\n\n171\n00:07:39.990 --> 00:07:41.596\nDoesn't matter how smart you are.\n\n172\n00:07:41.596 --> 00:07:43.670\nThere's always somebody smarter out there,\nright.\n\n173\n00:07:43.670 --> 00:07:48.718\nSo if you can't solve it, hopefully you\nhave that other person you refer to.\n\n174\n00:07:48.718 --> 00:07:52.262\nIf you reached the point where\nyou just can't figure it out, and\n\n175\n00:07:52.262 --> 00:07:56.013\nyou are the top of the food chain,\nwell, then you can turn to Cisco.\n\n176\n00:07:56.013 --> 00:07:57.224\nIt's gonna cost you, right?\n\n177\n00:07:57.224 --> 00:08:01.193\nBut Cisco has their technical\nassistance center, the Cisco tech,\n\n178\n00:08:01.193 --> 00:08:05.240\nthat is manned 24 hours a day seven\ndays a week, 365 days a year.\n\n179\n00:08:05.240 --> 00:08:07.815\nYou can reach out to them, open up\nthe ticket, and start running through.\n\n180\n00:08:07.815 --> 00:08:11.830\nSo there is always somebody to escalate\nto, to try and solve your problem.\n\n181\n00:08:12.980 --> 00:08:14.960\nNow, that brings us to our third phase.\n\n182\n00:08:14.960 --> 00:08:18.470\nAnd the third phase is,\nverify and monitor resolution.\n\n183\n00:08:19.470 --> 00:08:22.950\nI may think that I resolved the problem,\nbut how do I know?\n\n184\n00:08:22.950 --> 00:08:24.130\nI need to verify.\n\n185\n00:08:24.130 --> 00:08:25.240\nShe said she couldn't get to CNN.\n\n186\n00:08:25.240 --> 00:08:27.340\nCan she get there now?\n\n187\n00:08:27.340 --> 00:08:28.190\nYes, all right.\n\n188\n00:08:28.190 --> 00:08:29.590\nWell, verified, done.\n\n189\n00:08:29.590 --> 00:08:32.740\nBut I need a monitor because maybe\nshe can get to see it now and\n\n190\n00:08:32.740 --> 00:08:34.570\nthen tomorrow she can't get there again.\n\n191\n00:08:34.570 --> 00:08:37.170\nAnd it turns out that I\nthought I fixed it but\n\n192\n00:08:37.170 --> 00:08:39.600\nwhat I'm actually dealing with\nis an intermittent problem.\n\n193\n00:08:39.600 --> 00:08:41.300\nA problem that comes and goes.\n\n194\n00:08:41.300 --> 00:08:45.970\nSo maybe during some times she can get\nto see an N and sometimes she can't.\n\n195\n00:08:45.970 --> 00:08:49.300\nAnd then I find out that there's\na time scheduled ACL that's\n\n196\n00:08:49.300 --> 00:08:50.930\nblocking web access during work hours.\n\n197\n00:08:50.930 --> 00:08:52.790\nShe's only supposed to be able\nto get there during lunch.\n\n198\n00:08:52.790 --> 00:08:55.360\nShe's outside to lunch,\nthat's breaking policy, right?\n\n199\n00:08:55.360 --> 00:08:56.400\nBut it was based on time.\n\n200\n00:08:56.400 --> 00:09:00.220\nI need a monitor to find that out and\nsee if that's what's actually happening.\n\n201\n00:09:00.220 --> 00:09:03.680\nIf I monitor and find that I didn't\nresolve the problem, I need to undo my\n\n202\n00:09:03.680 --> 00:09:07.100\nchange and then calculate what\nmy next change is going to be.\n\n203\n00:09:07.100 --> 00:09:11.100\nSo that's the three step\ntroubleshooting and\n\n204\n00:09:11.100 --> 00:09:13.880\nproblem resolution\nmethodology that Cisco has.\n\n205\n00:09:13.880 --> 00:09:17.410\nLet's go official terms here.\n\n206\n00:09:17.410 --> 00:09:21.630\nSo it's officially called\nthe Cisco Troubleshooting Methodology and\n\n207\n00:09:21.630 --> 00:09:27.740\nthose three steps, just to reiterate, it's\nperform, fault, isolation and document.\n\n208\n00:09:27.740 --> 00:09:32.630\nAnd then, we've got resolve or escalate,\nand then lastly, we've got verify and\n\n209\n00:09:32.630 --> 00:09:33.820\nmonitor resolutions.\n\n210\n00:09:33.820 --> 00:09:37.030\nThose are the three official phases\nthat you'll see on the exam.\n\n211\n00:09:37.030 --> 00:09:40.250\nThat's how we handle\na troubleshooting problem.\n\n212\n00:09:40.250 --> 00:09:42.820\n>> Now, Don, you and I,\nwe've been troubleshooting equipment for\n\n213\n00:09:42.820 --> 00:09:44.270\nquite a bit of time.\n\n214\n00:09:44.270 --> 00:09:48.240\nAnd of course, a lot of times,\nDon, it seems like magic here,\n\n215\n00:09:48.240 --> 00:09:50.710\nwhere I'll sit there and work on\nsomething and go Don, what is this?\n\n216\n00:09:50.710 --> 00:09:53.000\nAnd you just walk in and\ngo here's what it is.\n\n217\n00:09:53.000 --> 00:09:56.520\nSo it seems like I'm almost kind of\nlike do I really follow a methodology or\n\n218\n00:09:56.520 --> 00:10:01.520\nshould I just try and just shoot\nmultiple things at it and go hey.\n\n219\n00:10:01.520 --> 00:10:03.050\nI've got a 50 50 chance here.\n\n220\n00:10:03.050 --> 00:10:04.540\n>> Well you know it kinda depends, right?\n\n221\n00:10:04.540 --> 00:10:07.320\nSo if you take somebody like me,\nI've been working with Cisco equipment for\n\n222\n00:10:07.320 --> 00:10:09.790\na long time and\nin a lot of different environments.\n\n223\n00:10:09.790 --> 00:10:10.960\nI used to do field contracting.\n\n224\n00:10:10.960 --> 00:10:12.200\nSo I went to a number of networks.\n\n225\n00:10:12.200 --> 00:10:15.770\nI've seen a lot of weird stuff and so\nthere may be a problem that you've never\n\n226\n00:10:15.770 --> 00:10:19.560\nseen before and if you just ask me,\nmaybe I have seen it before.\n\n227\n00:10:19.560 --> 00:10:23.570\nI mean, yeah, I've seen that,\nyou just do this and it solves it, right?\n\n228\n00:10:23.570 --> 00:10:25.930\nBut if you do that every time,\neventually I'm gonna say,\n\n229\n00:10:25.930 --> 00:10:27.670\nwell, why do we even have Ronnie here?\n\n230\n00:10:27.670 --> 00:10:31.040\nWhy don't I just look at the problems and\nthen we can save ourselves an employee.\n\n231\n00:10:31.040 --> 00:10:32.890\nSo obviously you wanna be self-sufficient.\n\n232\n00:10:32.890 --> 00:10:37.260\nYou want to be able to resolve problems on\nyour own and only when you've run out of\n\n233\n00:10:37.260 --> 00:10:41.510\nideas do you then escalate up, because\notherwise you're never gonna learn.\n\n234\n00:10:41.510 --> 00:10:43.760\nSo you do need to at\nleast take a stab at it.\n\n235\n00:10:43.760 --> 00:10:48.650\nNow, where that gets challenging is if\nyou have no idea what the problem is.\n\n236\n00:10:48.650 --> 00:10:52.610\nSo, lets say that Alice can't get to CNN,\nand\n\n237\n00:10:52.610 --> 00:10:55.010\nyou fire up your web browser and\nyou can get to it just fine, and\n\n238\n00:10:55.010 --> 00:10:57.490\nyou talk to some other people,\nthey can get to it just fine, too.\n\n239\n00:10:57.490 --> 00:11:00.100\nSo it looks like it's just Alice.\n\n240\n00:11:00.100 --> 00:11:03.220\nSo what do we do now,\nwhere do we go from here?\n\n241\n00:11:03.220 --> 00:11:04.970\nWell, what I like to do,\n\n242\n00:11:04.970 --> 00:11:09.300\nand what I recommend everybody\ndoes is to leverage the OSI model.\n\n243\n00:11:09.300 --> 00:11:12.500\nThe OSI model is a great tool for\ntroubleshooting.\n\n244\n00:11:12.500 --> 00:11:14.800\nI know I mentioned that way back in\nthe beginning of this series, but\n\n245\n00:11:14.800 --> 00:11:16.110\nlet's actually talk about it here.\n\n246\n00:11:16.110 --> 00:11:19.510\nI've got the OSI model up here on my\nlaptop, and if you don't remember, it's\n\n247\n00:11:19.510 --> 00:11:24.740\nour seven layer model, for how network\ncommunications are carried out, okay?\n\n248\n00:11:24.740 --> 00:11:29.140\nAnd those even layers, normally we're\nidentifying network traffic with them,\n\n249\n00:11:29.140 --> 00:11:33.270\nbut we can use them to guide\nour trouble shooting also.\n\n250\n00:11:33.270 --> 00:11:34.960\nAnd it's up to you how you wanna do this.\n\n251\n00:11:34.960 --> 00:11:37.700\nSome people like to start at the top and\nwork their way down.\n\n252\n00:11:37.700 --> 00:11:39.990\nSome people like to start at\nthe bottom and work their way up.\n\n253\n00:11:39.990 --> 00:11:42.880\nI like to start at the bottom\nbecause it's easy.\n\n254\n00:11:42.880 --> 00:11:47.560\nStarting at the top is kinda hard, usually\nthe problem is up towards the top though,\n\n255\n00:11:47.560 --> 00:11:49.370\nthat's why a lot of people\nlike to start up at the top.\n\n256\n00:11:49.370 --> 00:11:50.660\nAll right, so\n\n257\n00:11:50.660 --> 00:11:55.350\nlet's walk through troubleshooting\nAlice's problem from an OSi perspective.\n\n258\n00:11:55.350 --> 00:11:57.730\nSo Alice can't get the CNN.\n\n259\n00:11:57.730 --> 00:11:59.970\nAll right, well,\nlet's start at the physical error.\n\n260\n00:11:59.970 --> 00:12:01.640\nIf she's gonna get on the network and\n\n261\n00:12:01.640 --> 00:12:04.260\ntalk, she needs a physical\nconnection to the network.\n\n262\n00:12:04.260 --> 00:12:07.260\nSo is her network cable plugged in?\n\n263\n00:12:07.260 --> 00:12:11.440\nAnd I know it sounds dumb,\nit sounds like one of those things that,\n\n264\n00:12:11.440 --> 00:12:14.540\nget her call tech support, and like well\nhave you tried rebooting your computer.\n\n265\n00:12:14.540 --> 00:12:15.790\nAnd you get angry for a second.\n\n266\n00:12:15.790 --> 00:12:18.870\nLike I'm gonna reboot, I'm an IT guy.\n\n267\n00:12:18.870 --> 00:12:20.835\nBut darn if it doesn't fix a lot of times.\n\n268\n00:12:20.835 --> 00:12:23.720\n>> [LAUGH]\n>> And yeah you should have tried it and\n\n269\n00:12:23.720 --> 00:12:24.825\nreboot, whatever.\n\n270\n00:12:24.825 --> 00:12:27.740\nReboots will often fix the problem but\nyou don't know the cause.\n\n271\n00:12:27.740 --> 00:12:28.980\nIt's not the greatest solution,\n\n272\n00:12:28.980 --> 00:12:32.820\nremember with any kind of troubleshooting\nwe're trying to come up with a resolution.\n\n273\n00:12:32.820 --> 00:12:35.800\nAnd you wanna treat the cause and\nnot the symptom.\n\n274\n00:12:35.800 --> 00:12:40.120\nSo she can't get to the Internet that's\nthe symptom, what's causing that?\n\n275\n00:12:40.120 --> 00:12:43.740\nAnd we need to fix that cause,\nwe don't need to fix the symptom.\n\n276\n00:12:43.740 --> 00:12:47.710\nSo the physical layer,\nthat is often times the cause.\n\n277\n00:12:47.710 --> 00:12:50.620\nA cable came loose, it's unplugged,\nshe can't get on the network.\n\n278\n00:12:50.620 --> 00:12:53.890\nHey she says she can't get to CNN, well,\nwhat about some other websites, can\n\n279\n00:12:53.890 --> 00:12:58.840\nyou get to CISCO.com or Apple.com, or some\nsite like that right, and maybe she can.\n\n280\n00:12:58.840 --> 00:13:03.380\nMaybe she can't let's establish where\nthat is, now the physical side it's easy.\n\n281\n00:13:03.380 --> 00:13:07.150\nYou got link lights on a cable\nplugged into her network card,\n\n282\n00:13:07.150 --> 00:13:08.440\nshe'll be able to see that.\n\n283\n00:13:08.440 --> 00:13:10.790\nWireless network is a little bit harder\nbecause you don't have link lights but\n\n284\n00:13:10.790 --> 00:13:14.720\nyour software will show you your wireless\nsignal and whether you're connected.\n\n285\n00:13:14.720 --> 00:13:17.930\nNow let's say you are connected,\nthen we get up to layer 2.\n\n286\n00:13:17.930 --> 00:13:22.510\nNow layer 2 on a traditional network is\ngonna be ethernet, your ethernet network.\n\n287\n00:13:22.510 --> 00:13:24.110\nAnd so we've got MAC addresses and\n\n288\n00:13:24.110 --> 00:13:27.750\nwe're doing communications\nvia ARP on the network.\n\n289\n00:13:27.750 --> 00:13:30.180\nThat one's pretty straightforward.\n\n290\n00:13:30.180 --> 00:13:34.600\nIf she's plugged into a switch, I should\nbe able to connect to the switch and\n\n291\n00:13:34.600 --> 00:13:37.350\nsee her in the MAC address table.\n\n292\n00:13:37.350 --> 00:13:39.000\nWhat's the MAC address for a computer?\n\n293\n00:13:39.000 --> 00:13:42.980\nDoes it show up in the MAC\naddress table of the switch.\n\n294\n00:13:42.980 --> 00:13:45.400\nIf it doesn't,\nI might have a layer 2 problem.\n\n295\n00:13:45.400 --> 00:13:51.580\nRemember that inside of a typical cat 5 or\ncat 6 cable, you've got eight wires.\n\n296\n00:13:51.580 --> 00:13:54.770\nWe use all eight on a gigabit network,\nwe use all eight.\n\n297\n00:13:54.770 --> 00:13:56.630\nOn a 100 megabit network,\nyou only use four.\n\n298\n00:13:56.630 --> 00:13:59.780\nBut it doesn't even take four\nwires to create the link light.\n\n299\n00:13:59.780 --> 00:14:02.600\nThe link light really just needs two wires\nto connect to get that link light going.\n\n300\n00:14:02.600 --> 00:14:04.620\nSo it is possible you could\nhave a link light going and\n\n301\n00:14:04.620 --> 00:14:06.030\nnot have a valid data path.\n\n302\n00:14:06.030 --> 00:14:07.710\nOr you could have unidirectional data.\n\n303\n00:14:07.710 --> 00:14:11.830\nCisco switches have a way to detect that,\nbut they don't do it by default.\n\n304\n00:14:11.830 --> 00:14:14.200\nSo we could have unidirectional data or\nsomething like that.\n\n305\n00:14:14.200 --> 00:14:18.060\nWe would see that at layer two I\nusually skip over this though.\n\n306\n00:14:18.060 --> 00:14:22.430\nIf, because if you ask Alice and\nshe says I can't get to CNN but\n\n307\n00:14:22.430 --> 00:14:23.910\nI can get to this other web site.\n\n308\n00:14:23.910 --> 00:14:27.090\nWell that pretty much rules out layer one,\ntwo and three,\n\n309\n00:14:27.090 --> 00:14:29.010\nyou know she's able to get other places.\n\n310\n00:14:29.010 --> 00:14:31.970\nBut if she can't get to any web site\nlike network communications are just not\n\n311\n00:14:31.970 --> 00:14:34.970\nworking for\nher we need to look at layer one and two.\n\n312\n00:14:34.970 --> 00:14:38.560\nLayer three is our network layer so\nthen I start looking at her IP address.\n\n313\n00:14:38.560 --> 00:14:39.530\nIs she using DHCP?\n\n314\n00:14:39.530 --> 00:14:42.200\nIf she is did she even get an IP address.\n\n315\n00:14:42.200 --> 00:14:45.250\nMaybe she didn't get an IP address at\nall and she's got one of those APIPA.\n\n316\n00:14:45.250 --> 00:14:49.440\nThe Automatic Private IP Addressing\nProtocol where you get a 169.254\n\n317\n00:14:49.440 --> 00:14:51.390\ndot something dot something address.\n\n318\n00:14:51.390 --> 00:14:55.140\nIf she has one of those she's not gonna\nbe able to get out to the internet.\n\n319\n00:14:55.140 --> 00:14:57.490\nSo is something wrong\nwith the DHCP server?\n\n320\n00:14:57.490 --> 00:14:59.390\nMaybe there's nothing wrong\nwith her computer at all.\n\n321\n00:14:59.390 --> 00:15:01.210\nThe DHCP is not handing\nout addresses anymore.\n\n322\n00:15:01.210 --> 00:15:02.510\nAnymore so I need to look at that.\n\n323\n00:15:02.510 --> 00:15:04.830\nI would see that at layer three.\n\n324\n00:15:04.830 --> 00:15:07.660\nOr if you use a static IP,\ndoes she have the right subnet mask?\n\n325\n00:15:07.660 --> 00:15:09.800\nDoes she have the right default gateway?\n\n326\n00:15:09.800 --> 00:15:13.180\nDid somebody bother to enter in DNS\nservers for doing name lookups?\n\n327\n00:15:13.180 --> 00:15:18.250\nMaybe she could get to CNN if she\ndid it by IP but not by name, right?\n\n328\n00:15:18.250 --> 00:15:21.170\nAnd so we start to see that right here,\nat layer 3.\n\n329\n00:15:21.170 --> 00:15:22.360\nThen we get to layer 4.\n\n330\n00:15:22.360 --> 00:15:25.370\nThere's not a whole heck of a lot\nto troubleshoot at layer 4.\n\n331\n00:15:25.370 --> 00:15:28.710\nLayer 4 is transport layer,\nso you get TCP and UDP.\n\n332\n00:15:28.710 --> 00:15:33.400\nOn her computer you can do a net stat,\nif it's Windows or Linux, and\n\n333\n00:15:33.400 --> 00:15:37.840\nthat works on OS10 also, so\nMac, Windows, Linux Net stat,\n\n334\n00:15:37.840 --> 00:15:40.430\nis a nice little utility that shows\nall your connections that are open.\n\n335\n00:15:40.430 --> 00:15:44.100\nSo, is she building a connection to CNN,\nor is she not?\n\n336\n00:15:44.100 --> 00:15:47.450\nIf it doesn't show up in there,\nfirewalls are often to blame.\n\n337\n00:15:47.450 --> 00:15:50.120\nMaybe there's a firewall that's\nactively stopping her from connecting\n\n338\n00:15:50.120 --> 00:15:51.210\nto that server.\n\n339\n00:15:51.210 --> 00:15:53.680\nThat would probably affect other people,\ntoo.\n\n340\n00:15:53.680 --> 00:15:55.035\nBut it could be a firewall\nrule that's just for her.\n\n341\n00:15:55.035 --> 00:15:56.706\nMaybe she's about to get fired and\n\n342\n00:15:56.706 --> 00:16:00.460\nthey don't normally tell the IT\ndepartment until after somebody's fired.\n\n343\n00:16:00.460 --> 00:16:03.645\nSo maybe she's about to be fired so\nthey've cut off her Internet access.\n\n344\n00:16:03.645 --> 00:16:09.060\nAnd we don't know that, so we'd find that\nas we started looking at those sessions.\n\n345\n00:16:09.060 --> 00:16:11.890\nSame thing goes for Layer 5, right,\nthey all get trapped into that.\n\n346\n00:16:11.890 --> 00:16:14.760\nNow once we get above that, we really\nget out of the networking realm, right.\n\n347\n00:16:14.760 --> 00:16:17.710\nNow we get into the software,\nthe desktop operating system software.\n\n348\n00:16:17.710 --> 00:16:19.920\nSo she's browsing to a website.\n\n349\n00:16:19.920 --> 00:16:22.200\nWell, you're not really gonna\nhave a problem with HTML.\n\n350\n00:16:22.200 --> 00:16:24.180\nWhat's happening at\nthe presentation layer but\n\n351\n00:16:24.180 --> 00:16:25.950\nyou might have a problem\nat the application layer.\n\n352\n00:16:25.950 --> 00:16:27.690\nHey, she can't get out to the Internet,\n\n353\n00:16:27.690 --> 00:16:30.620\nshe can't get to CNN\nusing Internet Explorer.\n\n354\n00:16:30.620 --> 00:16:34.700\nBut if she fires up Firefox or\nGoogle Chrome, maybe she does, right?\n\n355\n00:16:34.700 --> 00:16:36.780\nSo now we start to isolate\nit down to an application.\n\n356\n00:16:36.780 --> 00:16:40.030\nAnd if it's an application problem and\nyou're a network engineer,\n\n357\n00:16:40.030 --> 00:16:42.990\nthen you send it over to\nthe desktop support team, right?\n\n358\n00:16:42.990 --> 00:16:43.600\nIt's not the network.\n\n359\n00:16:43.600 --> 00:16:44.690\nThe network's fine.\n\n360\n00:16:44.690 --> 00:16:46.060\nThis is desktop support.\n\n361\n00:16:46.060 --> 00:16:48.300\nBut if you're in a smaller medium\nbusiness you probably do both.\n\n362\n00:16:48.300 --> 00:16:50.150\nSo you send it over to yourself.\n\n363\n00:16:50.150 --> 00:16:51.140\nBut you switch gears.\n\n364\n00:16:51.140 --> 00:16:53.730\nYou say all right, it's not gonna be\nthe router or the switch anymore.\n\n365\n00:16:53.730 --> 00:16:55.140\nI'm not gonna blame those guys.\n\n366\n00:16:55.140 --> 00:16:57.940\nLet me go look at the operating system and\nthe application.\n\n367\n00:16:57.940 --> 00:17:00.530\nSo by going from the bottom up,\n\n368\n00:17:00.530 --> 00:17:05.740\nwe can really focus in on our network\ngear, down here at the bottom.\n\n369\n00:17:05.740 --> 00:17:08.260\nVersus, the software and\napplications up at the top.\n\n370\n00:17:08.260 --> 00:17:11.002\nAnd so that's why as a network engineer,\nI like to start from the bottom.\n\n371\n00:17:11.002 --> 00:17:14.149\nIf you're a desktop support person,\nyou probably start at the top and\n\n372\n00:17:14.149 --> 00:17:15.065\nwork your way down.\n\n373\n00:17:15.065 --> 00:17:17.818\nJust different troubleshooting\nmethodologies for each, right?\n\n374\n00:17:17.818 --> 00:17:21.452\nNow for us, coming from the Cisco range,\nsome of these,\n\n375\n00:17:21.452 --> 00:17:25.370\nlike the physical side,\nit just takes visual inspection.\n\n376\n00:17:25.370 --> 00:17:26.590\nYou gotta go look at the equipment.\n\n377\n00:17:26.590 --> 00:17:27.320\nDo I have a link lights?\n\n378\n00:17:27.320 --> 00:17:28.250\nIs the cable plugged in?\n\n379\n00:17:28.250 --> 00:17:29.120\nIs it there?\n\n380\n00:17:29.120 --> 00:17:33.390\nRight, but other ones like network and\ndata link, we've got a lot of\n\n381\n00:17:33.390 --> 00:17:37.510\nutilities built right into our equipment\nthat we can use to be able to see that.\n\n382\n00:17:37.510 --> 00:17:42.220\nAll right, so let's take a look at some\nof those tools and how we can use them.\n\n383\n00:17:42.220 --> 00:17:46.370\nNow, I've got a router parked over here.\n\n384\n00:17:46.370 --> 00:17:49.760\nAnd, we've seen a lot of these\ntools just as the show went on.\n\n385\n00:17:49.760 --> 00:17:52.650\nBecause, well,\nsometimes things didn't work quite right.\n\n386\n00:17:52.650 --> 00:17:54.280\nBut, here I've got a router.\n\n387\n00:17:54.280 --> 00:17:59.570\nAnd, one of the tools that I like to use,\nis right off the bat, is ping.\n\n388\n00:17:59.570 --> 00:18:02.010\nThe ping utility is incredibly useful.\n\n389\n00:18:02.010 --> 00:18:04.709\nCuz it can really help you to\nestablish the scope of a problem.\n\n390\n00:18:05.830 --> 00:18:07.770\nWhen I do any kind of network testing,\n\n391\n00:18:07.770 --> 00:18:10.650\nI do what's called pinging\nfrom the inside out.\n\n392\n00:18:10.650 --> 00:18:12.610\nHow far out is my problem?\n\n393\n00:18:12.610 --> 00:18:16.965\nSo, Alice calls and says,\nhey, I can't get to CNN.\n\n394\n00:18:16.965 --> 00:18:18.210\nWell, can I get to CNN?\n\n395\n00:18:18.210 --> 00:18:20.250\nI can try and ping it.\n\n396\n00:18:20.250 --> 00:18:22.896\nNow, you have to be careful,\nsome websites do block pings.\n\n397\n00:18:22.896 --> 00:18:25.380\nI'm not doing DNS turn that on.\n\n398\n00:18:25.380 --> 00:18:28.150\nBut you can try and ping out to a site and\n\n399\n00:18:28.150 --> 00:18:30.850\nas long as the site allows pings\nthen you should get a response.\n\n400\n00:18:30.850 --> 00:18:32.460\nYou cal tell whether you can get there.\n\n401\n00:18:32.460 --> 00:18:36.430\nNow, I've got DNS turned off on mine,\nso I'm gonna configure that real quick.\n\n402\n00:18:36.430 --> 00:18:40.082\nSo I need to do an ip name-sever and\ngive it a server to use.\n\n403\n00:18:40.082 --> 00:18:45.079\nAnd then I need to say ip domain-lookup.\n\n404\n00:18:45.079 --> 00:18:51.030\nAnd now I can do pinging to cnn.com,\nthere we go.\n\n405\n00:18:51.030 --> 00:18:52.530\nI can ping cnn.com.\n\n406\n00:18:52.530 --> 00:18:56.480\nSo, if Alice is saying she\ncan't get to CNN, I can ping.\n\n407\n00:18:56.480 --> 00:19:00.780\nNow, ping is different than http, right?\n\n408\n00:19:00.780 --> 00:19:04.560\nI'm not proving here that I can connect\nit on port 80 and view a web page.\n\n409\n00:19:04.560 --> 00:19:08.710\nI'm just proving that at least using\nthe ICMP protocol, I can send an echo and\n\n410\n00:19:08.710 --> 00:19:10.090\nget a response back.\n\n411\n00:19:10.090 --> 00:19:14.690\nThis lets me rule out layer 1 and layer 2\nof the OSI model, and really layer 3 also.\n\n412\n00:19:14.690 --> 00:19:17.750\nMy IP addressing must be good or\nI wouldn't be able to get there and back.\n\n413\n00:19:17.750 --> 00:19:21.910\nSo, layer 1, 2 and 3, of the OSI model,\njust ruled out right here.\n\n414\n00:19:21.910 --> 00:19:25.720\nBut let's say that I pinged and\nI didn't get through, right?\n\n415\n00:19:25.720 --> 00:19:29.000\nFor some reason, I tried to ping\nthe server and it just did not connect.\n\n416\n00:19:29.000 --> 00:19:32.520\nThat means I'm having a failure\nsomewhere between here and there.\n\n417\n00:19:32.520 --> 00:19:34.930\nAnd there's two great\ntools that help with that.\n\n418\n00:19:34.930 --> 00:19:38.510\nPing is one of them, and\ntraceroute is the other, all right?\n\n419\n00:19:38.510 --> 00:19:39.670\nLet's start with ping.\n\n420\n00:19:39.670 --> 00:19:43.990\nWith ping what I can do,\nis I can ping from the inside out.\n\n421\n00:19:43.990 --> 00:19:46.357\nSo from the inside I mean ping myself.\n\n422\n00:19:46.357 --> 00:19:50.910\nSo on the router can I ping 127.0.0.1?\n\n423\n00:19:50.910 --> 00:19:54.945\nAll right, what does that\nmean when you ping 127.0.0.1?\n\n424\n00:19:54.945 --> 00:19:57.220\nWell you're pinging your loopback.\n\n425\n00:19:57.220 --> 00:20:02.440\nAnd by default, routers are a little\ndifferent than desktops or servers.\n\n426\n00:20:02.440 --> 00:20:06.730\nIn that your router doesn't answer\non 127.0.0.1 by default, right.\n\n427\n00:20:06.730 --> 00:20:09.530\nSo it doesn't actually answer on that IPU.\n\n428\n00:20:09.530 --> 00:20:10.390\nYou can make it that way.\n\n429\n00:20:10.390 --> 00:20:12.762\nYou can create a loopback and\nassign it and it'll work.\n\n430\n00:20:12.762 --> 00:20:15.274\nBut without a loop back you're\nnot gonna get a response.\n\n431\n00:20:15.274 --> 00:20:18.623\nBut if you ping one of your own IP's.\n\n432\n00:20:18.623 --> 00:20:22.425\nSo if i do a show IP int brief,\nI can see my IP address right there.\n\n433\n00:20:22.425 --> 00:20:28.020\nAnd I can try and ping 10.1.230.135,\nand I get a response.\n\n434\n00:20:28.020 --> 00:20:30.359\nNow what do I achieve by pinging myself?\n\n435\n00:20:31.400 --> 00:20:32.750\nI'm testing my software.\n\n436\n00:20:32.750 --> 00:20:36.940\nIs the TCPIP protocol stack\nworking on my router?\n\n437\n00:20:36.940 --> 00:20:40.160\nYes.\nI don't wanna say that it always will.\n\n438\n00:20:40.160 --> 00:20:41.870\nLike I've never seen this fail.\n\n439\n00:20:41.870 --> 00:20:43.370\nBut it potentially could fail.\n\n440\n00:20:43.370 --> 00:20:45.830\nIf my link was down, it would fail.\n\n441\n00:20:45.830 --> 00:20:47.766\nRight, if my physical interface was down.\n\n442\n00:20:47.766 --> 00:20:49.073\nBut assuming the physical interface is up,\n\n443\n00:20:49.073 --> 00:20:50.390\nyou should always be\nable to ping yourself.\n\n444\n00:20:51.660 --> 00:20:54.240\nAll right,\nthen we need to think about our route.\n\n445\n00:20:54.240 --> 00:20:57.070\nIf I receive traffic that's destined for\nanother network,\n\n446\n00:20:57.070 --> 00:21:00.620\nI need to route it out an interface\nto a gateway of some sort.\n\n447\n00:21:00.620 --> 00:21:03.920\nSo if I look at my routing table,\ndo I have a gateway?\n\n448\n00:21:03.920 --> 00:21:08.580\nI see that I've got a gateway\nof last resort here, 10.1.230.1.\n\n449\n00:21:08.580 --> 00:21:10.270\nCan I get to my gateway?\n\n450\n00:21:10.270 --> 00:21:13.680\nLet me try and ping my gateway.\n\n451\n00:21:13.680 --> 00:21:16.860\nIf I can't,\nthen I probably have a routing issue.\n\n452\n00:21:16.860 --> 00:21:22.430\nThat the desktop or server or switch or\nwhatever it is, can get to the gateway but\n\n453\n00:21:22.430 --> 00:21:25.466\nthen it can't get beyond it, it can't\nget out to the Internet or whatever.\n\n454\n00:21:25.466 --> 00:21:27.300\nThat maybe where our problem is.\n\n455\n00:21:27.300 --> 00:21:29.890\nAnd then we can go beyond it and try and\nping somebody out on the internet.\n\n456\n00:21:29.890 --> 00:21:32.920\nNow, the person I ping on\nthe internet might be a CNN.\n\n457\n00:21:32.920 --> 00:21:35.710\nOr I might say, you know what,\nlet me just ping somebody else.\n\n458\n00:21:35.710 --> 00:21:39.580\nLet me just test and see if general\ninternet traffic is working.\n\n459\n00:21:39.580 --> 00:21:41.870\nAnd I'm gonna ping by IP instead of name.\n\n460\n00:21:41.870 --> 00:21:44.518\nBecause I don't want DNS to come in and\ntake the results, right.\n\n461\n00:21:44.518 --> 00:21:47.240\nSo I'm just gonna do a regular IP lookup.\n\n462\n00:21:47.240 --> 00:21:48.720\nI can ping that, right.\n\n463\n00:21:48.720 --> 00:21:49.720\nNow, can I get to CNN?\n\n464\n00:21:49.720 --> 00:21:54.530\nNow here, I might factor in\nDNS by doing a name like that.\n\n465\n00:21:54.530 --> 00:21:56.990\nAnd now I've reached all\nthe way out to the destination.\n\n466\n00:21:56.990 --> 00:22:00.090\nIf I had a failure\nanywhere along this path\n\n467\n00:22:00.090 --> 00:22:02.230\nthen I would have identified\nwhere my issue is.\n\n468\n00:22:02.230 --> 00:22:04.520\nRight, so that's an easy way to do\nthat to run through with pings.\n\n469\n00:22:04.520 --> 00:22:07.480\nI could have saved a lot of time with\ntraceroute though because traceroute\n\n470\n00:22:07.480 --> 00:22:11.320\ndoes that same basic thing but\nin even more detail.\n\n471\n00:22:11.320 --> 00:22:15.550\nWhen I pinged my gateway, the gateway is\nright here on the same network as me.\n\n472\n00:22:15.550 --> 00:22:16.843\nSo, I just went straight to it.\n\n473\n00:22:16.843 --> 00:22:21.099\nBut when I did a ping to 4.2.2.1,\nor a ping out to CNN, those guys,\n\n474\n00:22:21.099 --> 00:22:24.960\nI probably had to pass through eight or\nnine routers to get to them.\n\n475\n00:22:26.370 --> 00:22:28.110\nWhose routers are those?\n\n476\n00:22:28.110 --> 00:22:28.660\n>> We don't know.\n\n477\n00:22:28.660 --> 00:22:32.200\n>> Yeah, I don't know, backbones,\nmy ISP, other people like that.\n\n478\n00:22:32.200 --> 00:22:35.200\nThere's other routers are sitting\nbetween me and that destination.\n\n479\n00:22:35.200 --> 00:22:36.390\nI don't see those.\n\n480\n00:22:36.390 --> 00:22:38.600\nAnd so if there was a failure\non that leg of a journey,\n\n481\n00:22:38.600 --> 00:22:40.160\nI know that it was that\nleg of the journey but\n\n482\n00:22:40.160 --> 00:22:43.710\nI don't know where in that journey\nthe failure actually happened.\n\n483\n00:22:43.710 --> 00:22:47.500\nSo traceroute lets me\nsee the whole journey.\n\n484\n00:22:47.500 --> 00:22:51.960\nIf I do a traceroute to somebody local,\nlike 10.1.230.1, that's my gateway.\n\n485\n00:22:51.960 --> 00:22:54.660\nIt's not really going to give me anything\ntoo exciting that I didn't get from\n\n486\n00:22:54.660 --> 00:22:56.821\nthe pings in the first place.\n\n487\n00:22:56.821 --> 00:22:59.544\nShoot, 10.1.230.1 for us is a firewall.\n\n488\n00:22:59.544 --> 00:23:01.550\nIt's actually blocking the trace\nto our communications.\n\n489\n00:23:01.550 --> 00:23:02.840\nSo I'm not gonna get\nanything exciting there.\n\n490\n00:23:02.840 --> 00:23:08.640\nBut what we'll normally see is\nthe IP we communicated to and\n\n491\n00:23:08.640 --> 00:23:11.130\nthen the latency of the connection.\n\n492\n00:23:11.130 --> 00:23:14.102\nWith pings it just told me\nif it got through or not.\n\n493\n00:23:14.102 --> 00:23:18.040\nWith traceroute it'll show me the fastest,\nlongest and\n\n494\n00:23:18.040 --> 00:23:20.400\naverage amount of latency on the link.\n\n495\n00:23:20.400 --> 00:23:22.680\nLet me hit somebody that's not a firewall.\n\n496\n00:23:22.680 --> 00:23:25.680\nSo I'm gonna go a little bit beyond and\nthere we go.\n\n497\n00:23:25.680 --> 00:23:27.040\nThat's what I wanted to see.\n\n498\n00:23:27.040 --> 00:23:31.780\nSo now, what I'm doing as I bounce\nthrough, is you'll see where I passed\n\n499\n00:23:31.780 --> 00:23:38.390\nthrough that firewall right there and\nit's showing 0 msec for this guy, okay.\n\n500\n00:23:38.390 --> 00:23:43.460\n4 msec was the longest, 0 milliseconds\nwas the fastest and it averaged 0 msec.\n\n501\n00:23:43.460 --> 00:23:46.768\nNow, that first one took a little bit\nlonger probably because of the route\n\n502\n00:23:46.768 --> 00:23:50.950\nlookup or whatever reason, but\nthen the rest then were all faster.\n\n503\n00:23:50.950 --> 00:23:53.710\nAfter that I see everybody\nelse that I passed through, so\n\n504\n00:23:53.710 --> 00:23:55.790\nI'm passing through gru.\n\n505\n00:23:55.790 --> 00:23:57.920\nGru is the Gainesville regional utilities.\n\n506\n00:23:57.920 --> 00:23:58.460\nThat's our ISP.\n\n507\n00:23:58.460 --> 00:23:59.833\nThat's who we get our fiber through.\n\n508\n00:23:59.833 --> 00:24:04.938\nAnd then after that I can see where gru\nhanded me off to level3 communications.\n\n509\n00:24:04.938 --> 00:24:07.793\nWell, we're in Gainesville, Florida,\nin the middle of the state.\n\n510\n00:24:07.793 --> 00:24:11.550\nThey sent us to Miami,\nMiami's down in the southeast.\n\n511\n00:24:11.550 --> 00:24:14.540\nI'm probably going the wrong way for\nthis server that I'm trying to get to,\n\n512\n00:24:14.540 --> 00:24:17.460\nwhich is somewhere else in the country.\n\n513\n00:24:17.460 --> 00:24:19.820\nBut that was the fastest path.\n\n514\n00:24:19.820 --> 00:24:21.080\nThen it looks like I passed\nthrough some kind of\n\n515\n00:24:21.080 --> 00:24:23.000\nfirewall that didn't answer a traceroute.\n\n516\n00:24:23.000 --> 00:24:26.250\nNot everybody answers to traceroutes,\nso expect to see that.\n\n517\n00:24:26.250 --> 00:24:29.451\nAnd then,\nwe hit the server I was trying to get to,\n\n518\n00:24:29.451 --> 00:24:32.700\n4.2.2.1, which is a DNS resolver.\n\n519\n00:24:32.700 --> 00:24:35.120\nSo it's a.resolvers.level3.net.\n\n520\n00:24:35.120 --> 00:24:37.100\nSo I was able to get to their DNS server.\n\n521\n00:24:37.100 --> 00:24:38.900\nBut I see the path that I followed.\n\n522\n00:24:38.900 --> 00:24:41.040\nAnd see how my path is eight hops?\n\n523\n00:24:41.040 --> 00:24:43.280\nI could've had a problem\nanywhere along the journey.\n\n524\n00:24:43.280 --> 00:24:46.410\nYou can actually look at this and find\nwhere your main latency is coming from.\n\n525\n00:24:46.410 --> 00:24:49.330\nSee how all the way through GRU's network?\n\n526\n00:24:49.330 --> 00:24:53.425\nMy latency was zero milliseconds,\nit's really, really fast right.\n\n527\n00:24:53.425 --> 00:24:58.340\nIt wasn't until hop number five,\nif you look over here under my head,\n\n528\n00:24:58.340 --> 00:25:01.120\nwhere we got to an average\nof four milliseconds right.\n\n529\n00:25:01.120 --> 00:25:04.090\nSo, now I'm up to four milliseconds,\nwhich is really not a lot, but\n\n530\n00:25:04.090 --> 00:25:07.200\nright after that,\nlook when I jumped to Miami.\n\n531\n00:25:07.200 --> 00:25:09.290\nSo when I went from Gainesville to Miami,\n\n532\n00:25:09.290 --> 00:25:14.040\nmy latency jumped to what are borderline\nunacceptable levels, 1.8 seconds.\n\n533\n00:25:14.040 --> 00:25:15.580\nThat's a long time.\n\n534\n00:25:15.580 --> 00:25:17.710\nThat's not a good connection.\n\n535\n00:25:17.710 --> 00:25:21.390\nAll right, and then after that we\nmade it all the way to the end and\n\n536\n00:25:21.390 --> 00:25:26.330\nnotice how I got a really latent\nconnection here to the Miami router.\n\n537\n00:25:26.330 --> 00:25:28.680\nThey're probably not\nprioritizing responses, but\n\n538\n00:25:28.680 --> 00:25:31.560\nto the actual node I connected to it\nwas back down to 20 milliseconds.\n\n539\n00:25:31.560 --> 00:25:34.280\nSo I'm able to get there and\nback in just 20 milliseconds\n\n540\n00:25:34.280 --> 00:25:36.340\nbecause that's the node\nthat I'm trying to talk to.\n\n541\n00:25:37.710 --> 00:25:38.610\nThat was only eight hops.\n\n542\n00:25:38.610 --> 00:25:42.220\nIf I try somebody else, let's do CNN, so\n\n543\n00:25:42.220 --> 00:25:45.356\nI don't think CNN answers to trace routes,\nbut we'll try it.\n\n544\n00:25:45.356 --> 00:25:49.200\nSo I want to try and reach out to them and\nnow it's going to fire up and\n\n545\n00:25:49.200 --> 00:25:54.340\nI was eight hops away earlier now I'm\nbouncing through, I went through gru.\n\n546\n00:25:54.340 --> 00:25:56.550\nGru sent me somewhere that\ndoesn't have a name lookup.\n\n547\n00:25:56.550 --> 00:25:59.770\nSo I don't know what city that's in and\nnow I'm probably hitting cnn.\n\n548\n00:25:59.770 --> 00:26:00.900\nI pretty sure block it.\n\n549\n00:26:00.900 --> 00:26:04.330\nSo there is a few denial service attacks\nthat can be pulled off where trace are out\n\n550\n00:26:04.330 --> 00:26:08.460\nor some people those, you can\nactually treat it and handle it, but\n\n551\n00:26:08.460 --> 00:26:10.440\nmost people just choose not to these days.\n\n552\n00:26:10.440 --> 00:26:12.440\nAll right, let's pick somebody different.\n\n553\n00:26:12.440 --> 00:26:16.170\nWe'll do like Google's DNS, like that.\n\n554\n00:26:16.170 --> 00:26:19.380\nAnd these guys I'm over ten hops away.\n\n555\n00:26:19.380 --> 00:26:22.430\nAnd not only am I over ten hops away,\nI'm hitting an MPLS network and so\n\n556\n00:26:22.430 --> 00:26:27.040\nI can see the MPLS labels that are being\napplied as we hop along that MPLS network.\n\n557\n00:26:27.040 --> 00:26:30.930\nBefore I get to Google's\nservers 12 hops away, so\n\n558\n00:26:30.930 --> 00:26:34.080\nnow I can isolate, am I having\na problem with this connection?\n\n559\n00:26:34.080 --> 00:26:36.120\nWhere is it happening?\n\n560\n00:26:36.120 --> 00:26:39.850\nSo, great tool to be able to see that and\nvisualize it.\n\n561\n00:26:39.850 --> 00:26:43.180\nJust be aware that a lot of\npeople do block tracer outs,\n\n562\n00:26:43.180 --> 00:26:44.600\nyou may see little gaps.\n\n563\n00:26:44.600 --> 00:26:45.800\nDon't worry about the gaps.\n\n564\n00:26:45.800 --> 00:26:47.390\nThere is nothing you can do about that.\n\n565\n00:26:47.390 --> 00:26:50.040\nBut you can at least see that path,\nthis is really handy.\n\n566\n00:26:50.040 --> 00:26:54.170\nI know we've had problems with our ISP,\nso GRU, they do a great job,\n\n567\n00:26:54.170 --> 00:26:55.990\nwe have a pretty reliable\nconnection with them.\n\n568\n00:26:55.990 --> 00:27:00.280\nBut there have been times where\nyou could get to some websites and\n\n569\n00:27:00.280 --> 00:27:01.920\nnot get to others.\n\n570\n00:27:01.920 --> 00:27:05.810\nAnd our connection to GRU was just fine,\nwe could get to GRU no problem but\n\n571\n00:27:05.810 --> 00:27:09.590\nonce you hit their network,\nif you were going to server's hosted\n\n572\n00:27:09.590 --> 00:27:12.000\neast of the Mississippi here\nin the US you could get to it.\n\n573\n00:27:12.000 --> 00:27:14.720\nAnd if you were going to server hosts\nwest of the Mississippi you couldn't.\n\n574\n00:27:14.720 --> 00:27:16.560\nThey had a break on the back bone.\n\n575\n00:27:16.560 --> 00:27:19.890\nSo their connection to the internet back\nbone they had multiple connections and\n\n576\n00:27:19.890 --> 00:27:20.990\nthey weren't failing over ride.\n\n577\n00:27:20.990 --> 00:27:24.560\nAnd so we lost some connectivity and\nmaintained others and it wasn't our fault.\n\n578\n00:27:24.560 --> 00:27:27.170\nIt was the ISP, so\nwe just had to track that down.\n\n579\n00:27:27.170 --> 00:27:30.370\nAnd tools like Trace Route\nreally make that handy.\n\n580\n00:27:30.370 --> 00:27:33.570\nAll right,\nnow I'm running here on the router.\n\n581\n00:27:33.570 --> 00:27:36.390\nBe careful with that,\nbecause when you run it from the router\n\n582\n00:27:36.390 --> 00:27:39.580\nit's running from the external IP\nof the router out to the Internet.\n\n583\n00:27:40.640 --> 00:27:45.150\nYou may need to run it from a workstation\nor some internal device to get a better\n\n584\n00:27:45.150 --> 00:27:47.360\nvision of it because\nhere I'm not being NATed.\n\n585\n00:27:47.360 --> 00:27:49.220\nI'm going right out to the Internet.\n\n586\n00:27:49.220 --> 00:27:51.210\nFrom the router you normally are.\n\n587\n00:27:51.210 --> 00:27:53.390\nFrom an internal device\nyou're getting added also.\n\n588\n00:27:53.390 --> 00:27:55.580\nAnd network addressing issues can\nalways be part of the problems.\n\n589\n00:27:55.580 --> 00:27:58.410\nSo, we definitely want to keep\nthat in mind as we plan out our\n\n590\n00:27:58.410 --> 00:27:59.430\ntroubleshooting methodology.\n\n591\n00:27:59.430 --> 00:28:03.330\nTest from different devices\nto see how that looks.\n\n592\n00:28:03.330 --> 00:28:05.100\nThe other thing you remember\nthough is on the router,\n\n593\n00:28:05.100 --> 00:28:08.460\nyou can manipulate who\nyour source interface is.\n\n594\n00:28:08.460 --> 00:28:13.227\nSo for example when I do a ping and\nI say ping 8.8.8.8, right?\n\n595\n00:28:13.227 --> 00:28:16.477\nWhat's its gonna do is going to\nlook at the routing table and\n\n596\n00:28:16.477 --> 00:28:19.300\nit's going to say how\ncan I get to 8.8.8.8?\n\n597\n00:28:19.300 --> 00:28:22.980\nSo it's going to look for a route and\nit's not going to find one.\n\n598\n00:28:22.980 --> 00:28:27.070\nI don't have a route to 8.8.8.8,\nso it's going to say, all right.\n\n599\n00:28:27.070 --> 00:28:30.060\nWell I have to use the default route.\n\n600\n00:28:30.060 --> 00:28:30.690\nThis guy.\nAnd\n\n601\n00:28:30.690 --> 00:28:32.720\nthe default route is\npointing to 10.1.230.1.\n\n602\n00:28:32.720 --> 00:28:37.100\nWhat's the closest interface\nI have to 10.1.230.1?\n\n603\n00:28:37.100 --> 00:28:39.975\nAnd it says, well,\nI've got this interface right here.\n\n604\n00:28:39.975 --> 00:28:42.330\nGigabitEthernet0/0.\n\n605\n00:28:42.330 --> 00:28:44.190\nAnd so that's the interface it uses.\n\n606\n00:28:44.190 --> 00:28:48.890\nSo every ping I send has\na source IP of this address.\n\n607\n00:28:48.890 --> 00:28:51.050\nWhat if I have more than\none interface though?\n\n608\n00:28:51.050 --> 00:28:56.100\nSo for example, if I have GI0/1\nconfigured with a different network.\n\n609\n00:28:56.100 --> 00:29:00.880\nWhen you run a ping,\nyou can ping out to a destination and\n\n610\n00:29:00.880 --> 00:29:08.668\nyou can use the source command to say\nthat I want the source to be gi0/1.\n\n611\n00:29:08.668 --> 00:29:11.934\nSo now it's going to source it not\nfrom the closest interface, but\n\n612\n00:29:11.934 --> 00:29:14.380\nfrom the interface we specify.\n\n613\n00:29:14.380 --> 00:29:19.150\nThat's a great way to test whether nat is\nworking and a great way to test whether or\n\n614\n00:29:19.150 --> 00:29:20.720\nnot route lookups are working properly.\n\n615\n00:29:20.720 --> 00:29:23.820\nAm I getting routed from one interface\nto the other as we pass out and\n\n616\n00:29:23.820 --> 00:29:25.090\nreturn trip traffic?\n\n617\n00:29:25.090 --> 00:29:28.730\nSo that source is kind of important\nit works on traceroute also, so\n\n618\n00:29:28.730 --> 00:29:35.140\nwith traceroute I can come in and say I\nwant a traceroute out to the internet and\n\n619\n00:29:35.140 --> 00:29:39.580\nsource that from gi0/1, and now it's\ngoing to do it from that other interface.\n\n620\n00:29:39.580 --> 00:29:41.060\nAlways remember that on router's and\n\n621\n00:29:41.060 --> 00:29:44.370\nswitches too, because on a switch you\nmight have multiple V-lan interfaces,\n\n622\n00:29:44.370 --> 00:29:47.560\nyou want to source it from one\nparticular V-lan versus another,\n\n623\n00:29:47.560 --> 00:29:51.770\nyou would definitely want to use that\nsource command to be able to do it.\n\n624\n00:29:51.770 --> 00:29:52.710\nAlright.\n\n625\n00:29:52.710 --> 00:29:54.270\nShoot.\nI have talked way longer than I thought.\n\n626\n00:29:54.270 --> 00:29:58.000\nI have a lot more that I want to show you\non not just ping, but on some other tools.\n\n627\n00:29:58.000 --> 00:30:01.420\nI want to talk about debugs a bit and\nhow we handle that output.\n\n628\n00:30:01.420 --> 00:30:02.850\nBut I know we're running short on time.\n\n629\n00:30:02.850 --> 00:30:05.500\nRonny, why don't we break this up and\nhave a part two.\n\n630\n00:30:05.500 --> 00:30:07.976\nI need to get into advanced mode pings.\n\n631\n00:30:07.976 --> 00:30:09.870\nSo we're going to talk\na little bit more about that,\n\n632\n00:30:09.870 --> 00:30:13.260\nand then we want to talk about debugs and\nsome of the neat things you can do.\n\n633\n00:30:13.260 --> 00:30:15.250\nI know we've seen debugs\nof it in other episodes,\n\n634\n00:30:15.250 --> 00:30:17.370\nbut definitely want to tackle that too.\n\n635\n00:30:17.370 --> 00:30:19.670\nSo we'll have to tackle that in part two.\n\n636\n00:30:19.670 --> 00:30:21.020\n>> Sounds good, Don.\n\n637\n00:30:21.020 --> 00:30:23.900\nRemember that what we took a look at\nin this episode was that basic Cisco\n\n638\n00:30:23.900 --> 00:30:25.446\ntroubleshooting methodology.\n\n639\n00:30:25.446 --> 00:30:27.640\nYou do want to make sure that you know\nthat when you're getting ready for\n\n640\n00:30:27.640 --> 00:30:28.600\nthe exam.\n\n641\n00:30:28.600 --> 00:30:31.700\nAnd also we did a little bit of some\nof the stuff that we'd done before\n\n642\n00:30:31.700 --> 00:30:33.420\nin our series here.\n\n643\n00:30:33.420 --> 00:30:36.050\nBut it's always good to have\na reminder of using ping and\n\n644\n00:30:36.050 --> 00:30:37.730\nof course trace route to help us out.\n\n645\n00:30:37.730 --> 00:30:40.290\nThere's even more that\nwe're going to see as well.\n\n646\n00:30:40.290 --> 00:30:43.480\nDon't forget that when you get ready for\nthe exam, you also want to make sure\n\n647\n00:30:43.480 --> 00:30:46.380\nthat you understand where would\nyou troubleshoot that device from,\n\n648\n00:30:46.380 --> 00:30:49.290\nwhether it's going to be the workstation,\nor from the router, or from the switch.\n\n649\n00:30:49.290 --> 00:30:54.280\nAll these are all also important concepts\nthat you've got to get solidified as yes,\n\n650\n00:30:54.280 --> 00:30:55.600\nyou go into the exam.\n\n651\n00:30:55.600 --> 00:30:57.300\nBut it is a great place for\nus to stop, and\n\n652\n00:30:57.300 --> 00:30:59.250\nthat means we're going\nto head into a part two.\n\n653\n00:30:59.250 --> 00:31:02.340\nSigning off for ITProTV,\nI'm your host, Ronnie Wong.\n\n654\n00:31:02.340 --> 00:31:03.260\n>> And I'm Don Pezet.\n\n655\n00:31:03.260 --> 00:31:07.048\n>> Stay tuned right here for\nmore CCENT episodes.\n\n656\n00:31:07.048 --> 00:31:15.450\n[MUSIC]\n\n",
          "vimeoId": "177713879"
        },
        {
          "description": "In this episode, Ronnie and Don continue with some additional troubleshooting using advanced pings and demonstrate the use of debugs.  They show a couple of different examples of how to change the pings to make it more useful in troubleshooting.  They also remind us about the importance of using the undebug all commands.",
          "length": "1914",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-5-4-2-troubleshooting_tools_pt.2-080316-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-5-4-2-troubleshooting_tools_pt.2-080316-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/cisco-ccent100105/cisco-ccent100105-5-4-2-troubleshooting_tools_pt.2-080316-1-sm.jpg",
          "title": "Troubleshooting Tools Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.285 --> 00:00:15.280\nWelcome back to another great\nepisode right here on ITProTV.\n\n3\n00:00:15.280 --> 00:00:19.210\nI'm your host Ronnie Wong and\nyou're watching the Cisco CCENT show.\n\n4\n00:00:19.210 --> 00:00:22.060\nWhere we're taking a look at\ntroubleshooting tools and some of\n\n5\n00:00:22.060 --> 00:00:25.540\nthe different methodologies that we've\npointed out from Cisco itself as well.\n\n6\n00:00:25.540 --> 00:00:28.485\nNow we're actually inside of a part\ntwo because we're just talking about\n\n7\n00:00:28.485 --> 00:00:29.310\nbasic pinging.\n\n8\n00:00:29.310 --> 00:00:32.355\nAnd now we actually have to see\na little bit more that ping can do,\n\n9\n00:00:32.355 --> 00:00:34.185\nwhich is actually kind of neat.\n\n10\n00:00:34.185 --> 00:00:37.015\nCuz I always thought ping was\njust returning an echo back and\n\n11\n00:00:37.015 --> 00:00:37.685\nthat's all you had.\n\n12\n00:00:37.685 --> 00:00:39.725\nBut here to show us more, Mr. Don Pezet.\n\n13\n00:00:39.725 --> 00:00:40.565\nDon, welcome back.\n\n14\n00:00:40.565 --> 00:00:41.747\n>> Thanks for having me back, Ronnie.\n\n15\n00:00:41.747 --> 00:00:44.887\nFor those of you if this is your first\nepisode, you're thinking good gosh,\n\n16\n00:00:44.887 --> 00:00:46.437\ndid they just do a whole episode on ping?\n\n17\n00:00:46.437 --> 00:00:47.544\n>> Yes [LAUGH].\n\n18\n00:00:47.544 --> 00:00:50.957\n>> We did a little more than ping, but\nwe really just brushed the surface.\n\n19\n00:00:50.957 --> 00:00:54.197\nWe were showing you how to use ping\nto find and isolate a problem.\n\n20\n00:00:54.197 --> 00:00:56.867\nWell, there's actually some really\nadvanced features inside of\n\n21\n00:00:56.867 --> 00:00:59.397\nthe Ping utility built into\na Cisco router that we don't\n\n22\n00:00:59.397 --> 00:01:00.917\nnormally see in other operating systems.\n\n23\n00:01:00.917 --> 00:01:02.320\nSo let me show you some of these,\n\n24\n00:01:02.320 --> 00:01:04.790\nI'm just gonna get logged\ninto my router right here.\n\n25\n00:01:04.790 --> 00:01:07.545\nAnd normally we do something\nreally simple, right?\n\n26\n00:01:07.545 --> 00:01:11.400\nWe do something like ping 8.8.8.8 and\nit sends our pings.\n\n27\n00:01:11.400 --> 00:01:13.370\nAnd we get one of three things back,\nright?\n\n28\n00:01:13.370 --> 00:01:15.870\nThe default is that it sends five pings.\n\n29\n00:01:15.870 --> 00:01:19.620\nAnd what I expect to see\nhere is either a dot, a u or\n\n30\n00:01:19.620 --> 00:01:21.270\nan exclamation point, all right?\n\n31\n00:01:21.270 --> 00:01:23.370\nA dot means that we timed out.\n\n32\n00:01:23.370 --> 00:01:27.060\nA u means that a router told us\nthe destination was unreachable.\n\n33\n00:01:27.060 --> 00:01:29.990\nAnd an exclamation point means\nwe successfully received an echo\n\n34\n00:01:29.990 --> 00:01:30.800\nfrom the destination.\n\n35\n00:01:30.800 --> 00:01:32.870\nThose are the three things\nthat we normally see.\n\n36\n00:01:32.870 --> 00:01:35.830\nSo, ideally we wanna get\nfive exclamation points.\n\n37\n00:01:35.830 --> 00:01:38.270\nWe send five pings, we get five responses.\n\n38\n00:01:38.270 --> 00:01:42.090\nAnd then it gives me my round trip\nminimum, average and maximum for\n\n39\n00:01:42.090 --> 00:01:44.030\nthat particular leg of the journey.\n\n40\n00:01:44.030 --> 00:01:48.550\nI can see that mine average drop to\nabout 22 milliseconds across five pings,\n\n41\n00:01:48.550 --> 00:01:52.120\nthat's the normal operation for\na ping, all right.\n\n42\n00:01:52.120 --> 00:01:54.190\nFew things that are different\nfrom other operating systems,\n\n43\n00:01:54.190 --> 00:01:57.600\nCisco uses a really short time out,\ntwo seconds.\n\n44\n00:01:57.600 --> 00:02:01.890\nOperating systems like Windows and\nOS10, we use five seconds by default.\n\n45\n00:02:01.890 --> 00:02:05.160\nSo on a Cisco system cuz it's so short,\n\n46\n00:02:05.160 --> 00:02:10.180\nit's not uncommon to see the first\nping fail because of ARP lookups.\n\n47\n00:02:10.180 --> 00:02:11.390\nThe first time you ping somebody,\n\n48\n00:02:11.390 --> 00:02:13.710\nyou have to do an address\nresolution protocol lookup.\n\n49\n00:02:13.710 --> 00:02:17.160\nAnd it normally happens fast enough that\nother operating systems don't detect it,\n\n50\n00:02:17.160 --> 00:02:18.670\nyour Cisco router will.\n\n51\n00:02:18.670 --> 00:02:21.040\nSo when I do something like show arp,\n\n52\n00:02:21.040 --> 00:02:25.170\nI can see that I've got a couple of\ndifferent IPs in my arp table, right?\n\n53\n00:02:25.170 --> 00:02:29.790\nWell, if I try and\nping an IP that's not in my arp table, so\n\n54\n00:02:29.790 --> 00:02:33.320\nI'm gonna ping this other IP,\nit's gonna reach out and ping to it.\n\n55\n00:02:33.320 --> 00:02:37.710\nAnd I might see a failure and\nthen some successes, right?\n\n56\n00:02:37.710 --> 00:02:40.240\nSee how I actually had two failures,\nwhich is a little uncommon.\n\n57\n00:02:40.240 --> 00:02:44.740\nBut I had two failures right there at\nthe beginning and then three successes.\n\n58\n00:02:44.740 --> 00:02:49.360\nIf I immediately repeat the ping,\nI should see five successes.\n\n59\n00:02:49.360 --> 00:02:51.055\nAnd if I look at my arp table,\n\n60\n00:02:51.055 --> 00:02:55.534\nwhat's going on is that 10.1.230.241\nis now in my arp table.\n\n61\n00:02:55.534 --> 00:02:59.390\nSo the second time I did a ping,\nit didn't have to do an arp broadcast.\n\n62\n00:02:59.390 --> 00:03:02.980\nIt already had it cached and it was able\nto reach right out and find that person.\n\n63\n00:03:02.980 --> 00:03:05.850\nSo, that's something we see on\nrouters that we don't see on\n\n64\n00:03:05.850 --> 00:03:09.060\nother equipment because of\nthat short time to live.\n\n65\n00:03:09.060 --> 00:03:10.477\nWell, I mean timeout.\n\n66\n00:03:10.477 --> 00:03:12.460\nTime to live is a little bit different,\nright?\n\n67\n00:03:12.460 --> 00:03:15.580\nTime to live is how many devices were\nallowed to pass through before we decide\n\n68\n00:03:15.580 --> 00:03:17.380\nthis thing is just dead in the water.\n\n69\n00:03:17.380 --> 00:03:20.550\nAnd these are all things\nthat can be adjusted.\n\n70\n00:03:20.550 --> 00:03:24.510\nIf you run ping question mark,\nyou'll see first off that\n\n71\n00:03:24.510 --> 00:03:29.330\nnot only can you ping an IP, but\nyou can ping by other protocols.\n\n72\n00:03:29.330 --> 00:03:33.249\nThe default is IP, but there's other\nthings like we can do IPv6 pings, right?\n\n73\n00:03:33.249 --> 00:03:36.853\nWhich it'll actually do that\nautomatically, it's smart enough to know\n\n74\n00:03:36.853 --> 00:03:41.980\nthat if I do ping to 192.168.0.1,\nit knows that I wanna do an IPv4 ping.\n\n75\n00:03:41.980 --> 00:03:43.220\nBut if I do a ping to fd00::75.\n\n76\n00:03:43.220 --> 00:03:47.746\nIt knows that's an IPv6 address and\n\n77\n00:03:47.746 --> 00:03:51.251\nit'll send it out that way.\n\n78\n00:03:51.251 --> 00:03:54.688\nI don't have an IPv6 address assigned\nright now, so it's not happy with it but\n\n79\n00:03:54.688 --> 00:03:56.660\nping will know that automatically.\n\n80\n00:03:56.660 --> 00:03:58.390\nSome of the other protocols it doesn't.\n\n81\n00:03:58.390 --> 00:04:00.699\nIf you look, we've got ipx.\n\n82\n00:04:00.699 --> 00:04:04.842\nIf you got an ipx spx network or\nAppleTalk, ethernet, MPLS,\n\n83\n00:04:04.842 --> 00:04:09.320\non some devices you may even have\nMAC address pings that you can do.\n\n84\n00:04:09.320 --> 00:04:10.440\nThis one doesn't have it.\n\n85\n00:04:10.440 --> 00:04:13.430\nAnd in fact, some of these that I have\nare because I have the enterprise\n\n86\n00:04:13.430 --> 00:04:15.470\nfeature set on here, so I have decnet.\n\n87\n00:04:15.470 --> 00:04:16.600\nYou may not see that.\n\n88\n00:04:16.600 --> 00:04:19.390\nDifferent iOS's have different\nprotocols that they support, you may or\n\n89\n00:04:19.390 --> 00:04:21.190\nmay not be able to see all of those.\n\n90\n00:04:21.190 --> 00:04:26.633\nBut we can specify the protocol and then\nwe specify after that who the host is,\n\n91\n00:04:26.633 --> 00:04:29.671\nright, and so like I did 8.8.8.8.\n\n92\n00:04:29.671 --> 00:04:32.246\nNow, I could stop right there or\nif you do a question mark,\n\n93\n00:04:32.246 --> 00:04:34.680\nyou could see this other\nthings we can start to modify.\n\n94\n00:04:34.680 --> 00:04:37.300\nAll right, the data pattern.\n\n95\n00:04:37.300 --> 00:04:38.116\nWhat's the data pattern?\n\n96\n00:04:38.116 --> 00:04:42.429\nWell, when you send the ping, a ping\nhas to have a little payload, right?\n\n97\n00:04:42.429 --> 00:04:45.530\nThere's a minimum size for\na packet that's largely cause the network.\n\n98\n00:04:45.530 --> 00:04:48.900\nSo what it does,\nit puts the alphabet in the ping.\n\n99\n00:04:48.900 --> 00:04:50.370\nA, B, C, D, all the way through Z.\n\n100\n00:04:50.370 --> 00:04:53.364\nAnd then it starts over again with A,\nfor whatever size payload we specify.\n\n101\n00:04:53.364 --> 00:04:55.380\nYou might wanna change that.\n\n102\n00:04:55.380 --> 00:04:57.390\nYou could put other data in there.\n\n103\n00:04:57.390 --> 00:05:01.490\nMaybe you're testing out some kind of\ndeep packet inspection on a firewall\n\n104\n00:05:01.490 --> 00:05:04.140\nthat's looking inside a packets for\na text string.\n\n105\n00:05:04.140 --> 00:05:07.480\nYou could inject that text string\ninto your ping and test it out.\n\n106\n00:05:07.480 --> 00:05:10.140\nNot a common thing, but\nsomething that would certainly work.\n\n107\n00:05:10.140 --> 00:05:15.390\nYou've got the df-bit,\nwhich is the do not fragment bit.\n\n108\n00:05:15.390 --> 00:05:20.440\nIf a frame sent on the network, I guess\nreally it's the segment at this point.\n\n109\n00:05:20.440 --> 00:05:24.880\nIf a segment is being sent on the network\nand it's bigger than the maximum\n\n110\n00:05:24.880 --> 00:05:28.740\ntransmission unit size, the MTU,\nwhich is normally 1,500 bytes.\n\n111\n00:05:28.740 --> 00:05:29.510\nWhat does it do?\n\n112\n00:05:29.510 --> 00:05:30.072\nIt's gotta fragment it.\n\n113\n00:05:30.072 --> 00:05:33.910\nIt's got to break it up into\nthese 1,500 byte segments.\n\n114\n00:05:33.910 --> 00:05:37.760\nIf we hit something like a frame\nrelay line or a PPP dialup line,\n\n115\n00:05:37.760 --> 00:05:40.910\nit might have a smaller MTU,\nit has to fragment it more.\n\n116\n00:05:40.910 --> 00:05:43.080\nWe have the df-bit set,\nit won't fragment it.\n\n117\n00:05:43.080 --> 00:05:44.970\nIt'll reject the packet.\n\n118\n00:05:44.970 --> 00:05:50.490\nSo I can test that out by turning on or\ndisabling the df-bit on my pings.\n\n119\n00:05:50.490 --> 00:05:52.750\nRight, am I able to\ncommunicate with that set.\n\n120\n00:05:52.750 --> 00:05:54.040\nYou can do the repeat count.\n\n121\n00:05:54.040 --> 00:05:54.990\nHow many do you wanna send?\n\n122\n00:05:54.990 --> 00:05:57.450\nDo I wanna just send the five by\ndefault or do I wanna send more?\n\n123\n00:05:57.450 --> 00:06:00.920\nMaybe I wanna send a hundred and you can\ntell it to do that and it'll send it.\n\n124\n00:06:00.920 --> 00:06:03.160\nYou can also do the size,\nhow big is the payload.\n\n125\n00:06:03.160 --> 00:06:06.520\nNow this is one that most\npeople never think about,\n\n126\n00:06:06.520 --> 00:06:09.410\nbut the payload of the packet\nmakes a difference.\n\n127\n00:06:09.410 --> 00:06:12.400\nI can give you a great story,\nan instructor that Ronnie and\n\n128\n00:06:12.400 --> 00:06:13.600\nI both used to work with.\n\n129\n00:06:13.600 --> 00:06:21.380\nHe had a problem where on his home network\nhe could connect and browse the Internet.\n\n130\n00:06:21.380 --> 00:06:23.560\nBut the instant he\nstarted streaming video,\n\n131\n00:06:23.560 --> 00:06:25.100\nthe connection really just broke down.\n\n132\n00:06:25.100 --> 00:06:28.590\nIt was really bad, he couldn't stream\nvideo but he could browse the web.\n\n133\n00:06:28.590 --> 00:06:31.940\nAnd so he called his ISP and he said,\nlook, there's something wrong,\n\n134\n00:06:31.940 --> 00:06:32.790\nI can't stream video.\n\n135\n00:06:32.790 --> 00:06:36.690\nAnd the ISP said well, we're sending\npings across the line just fine.\n\n136\n00:06:36.690 --> 00:06:40.531\nWell, the problem turned out\nto be the size of the data.\n\n137\n00:06:40.531 --> 00:06:42.868\nWhen you were sending pings,\nthey were nice and small and\n\n138\n00:06:42.868 --> 00:06:46.230\nthe payload was getting through just fine,\nso the pings were reliable.\n\n139\n00:06:46.230 --> 00:06:50.970\nBut when you increased the size and\nyou bumped up closer to the MTU, right?\n\n140\n00:06:50.970 --> 00:06:52.820\nSo you bumped it up to 1,500 bytes.\n\n141\n00:06:52.820 --> 00:06:59.200\nWhen you did that, now it was much, much\nlarger and the packets started to fail.\n\n142\n00:06:59.200 --> 00:07:00.125\nAnd they weren't crossing the network.\n\n143\n00:07:00.125 --> 00:07:02.280\nAnd they found where they just\nhad some signal strength issues.\n\n144\n00:07:02.280 --> 00:07:03.470\nAnd they were able to fix it.\n\n145\n00:07:03.470 --> 00:07:06.730\nBut being able to modify the size of\nthe packets that you're sending is\n\n146\n00:07:06.730 --> 00:07:08.130\na pretty handy thing.\n\n147\n00:07:08.130 --> 00:07:10.140\nYou've got the source we talked\nabout in the last episode.\n\n148\n00:07:10.140 --> 00:07:13.880\nWe can change which IP address we\nuse as the source IP for our pings.\n\n149\n00:07:13.880 --> 00:07:15.650\nYou can specify the timeout interval.\n\n150\n00:07:15.650 --> 00:07:18.142\nMaybe you don't want the two\nsecond CISCO timeout.\n\n151\n00:07:18.142 --> 00:07:21.770\nYou wanna go higher like Microsoft and\ngo to five seconds, you can do that.\n\n152\n00:07:21.770 --> 00:07:23.430\nAnd then validate.\n\n153\n00:07:23.430 --> 00:07:24.960\nDo we validate the reply data.\n\n154\n00:07:24.960 --> 00:07:27.700\nBy default,\nwe just get a reply and that's it.\n\n155\n00:07:27.700 --> 00:07:30.050\nWe don't really care about\nwhat's in the reply.\n\n156\n00:07:30.050 --> 00:07:32.090\nWe just make sure it came\nfrom the original source.\n\n157\n00:07:32.090 --> 00:07:32.930\nIf you wanna validate it,\n\n158\n00:07:32.930 --> 00:07:35.400\nyou've actually check in to make\nsure the sequence numbers match.\n\n159\n00:07:35.400 --> 00:07:38.390\nSo that you are getting the right\nresponse for the right ping.\n\n160\n00:07:38.390 --> 00:07:41.130\nCuz sometimes the response doesn't come\nout in order which indicates problems on\n\n161\n00:07:41.130 --> 00:07:43.560\nthe network and\nvalidate can check for that.\n\n162\n00:07:43.560 --> 00:07:46.360\nNow, you don't have to\nmemorize all these options,\n\n163\n00:07:46.360 --> 00:07:52.330\nbecause if you just run ping by itself,\nthen it will ask you each of them.\n\n164\n00:07:52.330 --> 00:07:53.670\nWhat protocol am I gonna use?\n\n165\n00:07:53.670 --> 00:07:55.701\nDefault as IP, that's what I want.\n\n166\n00:07:55.701 --> 00:07:56.805\nWho am I pinging?\n\n167\n00:07:56.805 --> 00:07:59.134\n8.8.8.8, that's who I wanna ping.\n\n168\n00:07:59.134 --> 00:08:00.525\nWhat's my repeat count?\n\n169\n00:08:00.525 --> 00:08:01.901\nFine, that's the default.\n\n170\n00:08:01.901 --> 00:08:05.700\nAnd we can go through and specify\nthe datagram size, 100 is the default.\n\n171\n00:08:05.700 --> 00:08:07.130\nSo I'll stick with that.\n\n172\n00:08:07.130 --> 00:08:10.490\nAnd then the timeout in seconds is 2,\nthat's the default.\n\n173\n00:08:10.490 --> 00:08:13.220\nAnd then do I want the extended commands.\n\n174\n00:08:13.220 --> 00:08:15.890\nAnd with the extended commands,\nif you say yes to that,\n\n175\n00:08:15.890 --> 00:08:18.310\nwe'll see additional things\nlike what's the source address.\n\n176\n00:08:18.310 --> 00:08:22.685\nAnd I can type in an IP or an interface\nand so I can source this on gi0/0.\n\n177\n00:08:22.685 --> 00:08:24.720\nActually it's gonna get mad at me here.\n\n178\n00:08:24.720 --> 00:08:27.190\nYou actually have to\ntype the whole name out,\n\n179\n00:08:27.190 --> 00:08:31.410\nwhich is super annoying,\nbut that's how it is.\n\n180\n00:08:31.410 --> 00:08:32.160\nNothing I can do about that.\n\n181\n00:08:32.160 --> 00:08:34.920\nSo we'll just type out gigabitethernet0/0.\n\n182\n00:08:34.920 --> 00:08:40.220\nThe type of service,\nnow TOS wasn't an option up here.\n\n183\n00:08:40.220 --> 00:08:41.120\nWhat is TOS?\n\n184\n00:08:41.120 --> 00:08:45.060\nWell, a lot of network use QoS,\nquality of service.\n\n185\n00:08:45.060 --> 00:08:48.270\nQuality of service is what we prioritized\ncertain traffic over other traffic.\n\n186\n00:08:48.270 --> 00:08:51.280\nWe say, traffic from my laptop\nis really important and\n\n187\n00:08:51.280 --> 00:08:53.270\ntraffic from Ronnie's\nlaptop is not important.\n\n188\n00:08:53.270 --> 00:08:57.950\nOr traffic from my Voice over IP phones\nis really important, traffic for\n\n189\n00:08:57.950 --> 00:08:59.460\nbrowse in the web is not.\n\n190\n00:08:59.460 --> 00:09:03.200\nAnd so to classify that traffic,\nthere's several different ways to do it.\n\n191\n00:09:03.200 --> 00:09:06.780\nThere's class of service,\nthere's options like that.\n\n192\n00:09:06.780 --> 00:09:10.320\nDSCP is how we normally do it, but\ntype of service is the original,\n\n193\n00:09:10.320 --> 00:09:14.885\nthe old way of doing it and so\nwe can apply a TOS to our pings.\n\n194\n00:09:14.885 --> 00:09:17.936\nAnd that way, you can see if\nthe performance changes based on which TOS\n\n195\n00:09:17.936 --> 00:09:19.447\nyou've got assigned to the ping.\n\n196\n00:09:19.447 --> 00:09:21.165\nYou can run it through and see.\n\n197\n00:09:21.165 --> 00:09:23.225\nAnd then you can change\nthe TOS to something else and\n\n198\n00:09:23.225 --> 00:09:24.815\nsee if it gets that other\nperformance profile.\n\n199\n00:09:24.815 --> 00:09:28.439\nNot something you're gonna need for\nCCNT, but maybe in real life.\n\n200\n00:09:29.460 --> 00:09:30.750\nAll right, I'm gonna leave mine as zero.\n\n201\n00:09:31.760 --> 00:09:34.160\nAnd then next we've got\nthat do not fragment bit.\n\n202\n00:09:34.160 --> 00:09:38.490\nSo do I want that set or not,\nthe default is no, so I'll leave it be.\n\n203\n00:09:38.490 --> 00:09:41.536\nOur ICMP packets,\nI mean they're really small anyways so\n\n204\n00:09:41.536 --> 00:09:43.340\nthey're not gonna fragment.\n\n205\n00:09:43.340 --> 00:09:45.720\nSo you could turn it on if you wanted but\nI'll leave it off.\n\n206\n00:09:45.720 --> 00:09:47.288\nAnd then validate the reply data, right?\n\n207\n00:09:47.288 --> 00:09:50.410\nSo all the options that we saw\na moment ago are all right here and\n\n208\n00:09:50.410 --> 00:09:52.110\nwe can kind of manipulate those.\n\n209\n00:09:52.110 --> 00:09:53.410\nAnd then here's the data pattern.\n\n210\n00:09:53.410 --> 00:09:55.730\nSee how the data pattern is 0xABCD?\n\n211\n00:09:55.730 --> 00:09:57.330\nThere's that alphabet, right?\n\n212\n00:09:57.330 --> 00:10:01.330\nABCD, that's what it's gonna rattle out,\nbut you can put whatever pattern you want.\n\n213\n00:10:01.330 --> 00:10:02.360\nIt is hexadecimal though,\n\n214\n00:10:02.360 --> 00:10:06.020\nso you are somewhat limited in\nthe words you could stick in there.\n\n215\n00:10:06.020 --> 00:10:10.298\nIf you wanna do cat, you're out of luck,\nbut dog, no, dog wouldn't be okay either.\n\n216\n00:10:10.298 --> 00:10:11.012\n>> Face?\n\n217\n00:10:11.012 --> 00:10:14.550\n>> Face, no, yeah, anything with a through\nf you could kind of work in there.\n\n218\n00:10:14.550 --> 00:10:18.200\nBut that's where you\nset that data pattern.\n\n219\n00:10:18.200 --> 00:10:21.170\nAnd then how do we wanna\nget our information back?\n\n220\n00:10:21.170 --> 00:10:24.378\nLoose, Strict, Record,\nTimestamp or Verbose?\n\n221\n00:10:24.378 --> 00:10:26.310\nThis is the amount of data\nthat you're getting back.\n\n222\n00:10:26.310 --> 00:10:29.270\nIf I want the full set of data,\nI can come in and say Verbose,\n\n223\n00:10:29.270 --> 00:10:36.140\nI really wanna get this information and\noops, I guess I should have just done a v.\n\n224\n00:10:37.220 --> 00:10:38.970\nWhy is it not taking verbose for me here?\n\n225\n00:10:40.260 --> 00:10:43.210\nI guess because I didn't\nprovide a capital v.\n\n226\n00:10:43.210 --> 00:10:44.501\nYeah, all right, well, there it goes.\n\n227\n00:10:44.501 --> 00:10:47.407\n>> [LAUGH]\n>> So I put it in verbose mode and\n\n228\n00:10:47.407 --> 00:10:50.230\nthen sweep range of sizes.\n\n229\n00:10:50.230 --> 00:10:51.650\nI knew I could specify one size.\n\n230\n00:10:51.650 --> 00:10:54.490\nBut here, it can sweep a range of sizes,\nit can get bigger and\n\n231\n00:10:54.490 --> 00:10:55.820\nsmaller based on what I want.\n\n232\n00:10:55.820 --> 00:10:57.430\nI'm gonna say no to that one.\n\n233\n00:10:57.430 --> 00:11:00.500\nAnd then off it goes pinging\nthe way that we want, all right?\n\n234\n00:11:00.500 --> 00:11:03.900\nThese are great tools to test how\nthe network is being handled.\n\n235\n00:11:03.900 --> 00:11:06.950\nAnd let me show you guys this in action,\nI'm gonna ping my laptop.\n\n236\n00:11:06.950 --> 00:11:08.714\nAnd before I do that,\nlet me fire up Wireshark.\n\n237\n00:11:09.830 --> 00:11:12.540\nAnd I'm just gonna get this one up and\ngoing.\n\n238\n00:11:12.540 --> 00:11:14.510\nAll right, so I've got Wireshark going and\n\n239\n00:11:14.510 --> 00:11:17.050\nrecording anything that's\nhitting my laptop.\n\n240\n00:11:17.050 --> 00:11:22.210\nAnd I'm gonna send just a regular\nping to my laptop, right?\n\n241\n00:11:22.210 --> 00:11:24.860\nSo five pings were sent,\nall of them normal.\n\n242\n00:11:24.860 --> 00:11:28.358\nIf I jump over to Wireshark, I can see it\ndid a phenomenal job at capturing that.\n\n243\n00:11:28.358 --> 00:11:30.975\n>> [LAUGH]\n>> Did I ping the wrong IP?\n\n244\n00:11:30.975 --> 00:11:31.860\nLet me restart this one.\n\n245\n00:11:33.770 --> 00:11:34.700\nAll right, so there we go.\n\n246\n00:11:34.700 --> 00:11:37.900\nGot it up and running,\nI'm gonna repeat that ping, there we go.\n\n247\n00:11:37.900 --> 00:11:41.420\nAnd when I jump back, I must not have\nclicked the start button hard enough.\n\n248\n00:11:41.420 --> 00:11:44.920\nI can see ten packets were captured, okay.\n\n249\n00:11:44.920 --> 00:11:46.200\nNow why ten?\n\n250\n00:11:46.200 --> 00:11:49.310\nWell, five I received and\nthen five I replied to.\n\n251\n00:11:49.310 --> 00:11:53.180\nSo I've got both the one from\nthe router and my reply to it.\n\n252\n00:11:53.180 --> 00:11:55.300\nSo if I look at the ones from the router,\n\n253\n00:11:55.300 --> 00:11:59.520\nhere's the five that came from\nthe router all laid out right here.\n\n254\n00:11:59.520 --> 00:12:01.200\nAnd I can see their payload and\n\n255\n00:12:01.200 --> 00:12:04.840\ninformation all right down\nhere as it was sent along.\n\n256\n00:12:04.840 --> 00:12:07.350\nAnd so\nI can see that there was ICMP data and\n\n257\n00:12:07.350 --> 00:12:10.330\nthe other information associated with it.\n\n258\n00:12:10.330 --> 00:12:13.420\nWe can look at the length,\nsee how they were all 114 bytes.\n\n259\n00:12:13.420 --> 00:12:18.730\nThey were all a consistent size for those\npings that were sent across, all right.\n\n260\n00:12:18.730 --> 00:12:21.670\nWell, if we go and\nwe manipulate our values.\n\n261\n00:12:21.670 --> 00:12:25.960\nIf I come in here and do that same ping,\nbut do the advanced commands.\n\n262\n00:12:25.960 --> 00:12:30.219\nSo I'm gonna send that same ping and\nwhoops, I got ahead of myself.\n\n263\n00:12:31.330 --> 00:12:32.470\nThere we go.\n\n264\n00:12:32.470 --> 00:12:35.995\nAnd maybe I'll do 10\nthis time instead of 5.\n\n265\n00:12:35.995 --> 00:12:39.320\nAnd for the datagram size,\nmaybe I'll do 500, right?\n\n266\n00:12:40.380 --> 00:12:43.955\nNow, I did 100 before,\nwe ended up with 114, why is that?\n\n267\n00:12:43.955 --> 00:12:46.045\nWell, 14 bytes for the header.\n\n268\n00:12:46.045 --> 00:12:48.585\nThe packet has to have a header,\nthe source destination and all that.\n\n269\n00:12:48.585 --> 00:12:51.034\nSo this is the datagram,\nthis is the ICMP data,\n\n270\n00:12:51.034 --> 00:12:53.189\nthe payload that was 114 extra bytes.\n\n271\n00:12:53.189 --> 00:12:56.895\nSo this should end up by 514 or\nsomething of that nature.\n\n272\n00:12:56.895 --> 00:13:00.485\nWe'll stick with the default timeout,\nI will do some extended commands though.\n\n273\n00:13:00.485 --> 00:13:03.605\nI'm not gonna change my source\ninterface or my type of service.\n\n274\n00:13:03.605 --> 00:13:06.095\nBut I wanna do that sweep range of sizes,\nright?\n\n275\n00:13:06.095 --> 00:13:09.730\nSo I'm gonna get down to my sweep\nrange of sizes, I'll say yes to that.\n\n276\n00:13:11.170 --> 00:13:15.529\nAnd my minimum size,\nI'm gonna set that to 400.\n\n277\n00:13:15.529 --> 00:13:18.261\nAnd my maximum size,\nI'll set to 600, all right?\n\n278\n00:13:18.261 --> 00:13:20.273\nNow notice it goes way higher.\n\n279\n00:13:20.273 --> 00:13:25.580\nI said most people use an MTU of 1,500\nbytes, this goes all the way up to 18,000.\n\n280\n00:13:25.580 --> 00:13:26.760\nWhy so high?\n\n281\n00:13:26.760 --> 00:13:29.320\n>> Well, you might be using\njumbo frames on your network.\n\n282\n00:13:29.320 --> 00:13:31.267\nJumbo frames usually have an MTU of 9,000.\n\n283\n00:13:31.267 --> 00:13:34.816\nSo I might wanna troubleshoot\nare jumbo frames working and\n\n284\n00:13:34.816 --> 00:13:38.300\nsee you can start to move with\nhigher numbers if you want.\n\n285\n00:13:38.300 --> 00:13:42.320\nAnd my sweep interval of 1, which means it\nwill send one of each packet at a certain\n\n286\n00:13:42.320 --> 00:13:45.750\nsize, as opposed to sending\nmultiple at a certain size.\n\n287\n00:13:45.750 --> 00:13:47.470\nAnd there they go, all right.\n\n288\n00:13:47.470 --> 00:13:49.210\nNow, I did a sweep and so\n\n289\n00:13:49.210 --> 00:13:54.820\nit's sending ten different sweeps of the\ndifferent sizes and they're going along.\n\n290\n00:13:54.820 --> 00:13:57.840\nAnd actually did have a few drops,\nsee those little dots that are in there?\n\n291\n00:13:57.840 --> 00:14:00.330\nSo there's a few that\ndidn't make it through.\n\n292\n00:14:00.330 --> 00:14:02.112\nAnd if I look back at Wireshark,\n\n293\n00:14:02.112 --> 00:14:08.350\nwWireshark's collecting all this data and\nslowly but surely.\n\n294\n00:14:08.350 --> 00:14:12.830\nIt's collecting all this data and I can\ncome in and I can look at it and see.\n\n295\n00:14:14.050 --> 00:14:16.060\nHang on, let me get down to the actual,\n\n296\n00:14:16.060 --> 00:14:17.670\nit's collecting a lot\nof data at this point.\n\n297\n00:14:17.670 --> 00:14:19.340\nI might need to filter it some more there.\n\n298\n00:14:19.340 --> 00:14:22.260\nThat if I start to take a look at it now,\nwhen I get over here,\n\n299\n00:14:22.260 --> 00:14:25.780\nsince I sent so many pings,\nI've got this sequence numbers, right?\n\n300\n00:14:25.780 --> 00:14:31.040\nAnd 35, 36, 37, am I replying to\nthe right sequence number, right,\n\n301\n00:14:31.040 --> 00:14:33.440\nthat was our valid option\nthat I didn't turn on.\n\n302\n00:14:33.440 --> 00:14:36.790\nBut look at the sizes of either\nlength is either climbing up, so\n\n303\n00:14:36.790 --> 00:14:41.350\nit went from 400 and it's going all\nthe way up to 600 and even higher.\n\n304\n00:14:41.350 --> 00:14:45.710\n614 is the highest that I got\nbecause I went up to 600 and\n\n305\n00:14:45.710 --> 00:14:47.680\nthen we got a 14 byte header\nstuck on top of that.\n\n306\n00:14:47.680 --> 00:14:52.130\nSo I can see each of this coming through\nand manipulating those pings and\n\n307\n00:14:52.130 --> 00:14:53.990\nchanging the way that that's behaving.\n\n308\n00:14:53.990 --> 00:14:59.550\nSo kind of a neat little process there and\nif you look at the raw data down here.\n\n309\n00:14:59.550 --> 00:15:02.112\nSee how it's all abcd, abcd?\n\n310\n00:15:02.112 --> 00:15:03.859\nIt's just that alphabet being repeated.\n\n311\n00:15:03.859 --> 00:15:05.590\nActually, it doesn't go\nall the way up to z.\n\n312\n00:15:05.590 --> 00:15:07.450\nIt used to,\nit used to do the whole alphabet.\n\n313\n00:15:07.450 --> 00:15:12.420\nBut now just abcd, laying it out there and\nwe've got that one kind of in place.\n\n314\n00:15:12.420 --> 00:15:13.700\nAnd that's just moving across the network.\n\n315\n00:15:13.700 --> 00:15:18.200\nSo a lot of neat stuff you can do with\nping to troubleshoot weird scenarios.\n\n316\n00:15:18.200 --> 00:15:20.470\nAnd it's not something that a lot\nof us would normally deal with but\n\n317\n00:15:20.470 --> 00:15:21.070\nit is available.\n\n318\n00:15:22.680 --> 00:15:25.260\nAll right, I think I have exhausted ping.\n\n319\n00:15:25.260 --> 00:15:26.722\n>> [LAUGH]\n>> There's really not much else that we\n\n320\n00:15:26.722 --> 00:15:27.280\ncan talk about on it.\n\n321\n00:15:27.280 --> 00:15:30.300\nSo the only other thing that I\nwant to talk about are debugs.\n\n322\n00:15:30.300 --> 00:15:34.570\nI know I used debugs in a few different\nepisodes, we saw some of them.\n\n323\n00:15:34.570 --> 00:15:38.710\nOne thing that I really wanna hit on is\nthe kind of the caution flag that we need\n\n324\n00:15:38.710 --> 00:15:39.940\nfor debugs.\n\n325\n00:15:39.940 --> 00:15:44.410\nWhen you debug on a system, right, there's\na lot of that your router is doing or\n\n326\n00:15:44.410 --> 00:15:47.100\nyour switch is doing behind\nthe scenes that we don't see, right?\n\n327\n00:15:47.100 --> 00:15:47.849\nJust hidden from us.\n\n328\n00:15:49.170 --> 00:15:50.910\nAnd we might wanna see that.\n\n329\n00:15:50.910 --> 00:15:52.380\nSo for example on this router,\n\n330\n00:15:52.380 --> 00:15:56.140\nlet's say that I decide that\nI wanna turn on rip, right?\n\n331\n00:15:56.140 --> 00:15:58.289\nSo I do router rip.\n\n332\n00:15:58.289 --> 00:16:03.012\nAnd I'll do version two,\nno auto-summary And\n\n333\n00:16:03.012 --> 00:16:07.269\nI'll do network 10.1.230.0.\n\n334\n00:16:07.269 --> 00:16:09.585\nI don't need a subnet mask for that.\n\n335\n00:16:09.585 --> 00:16:13.730\nAnd so now I've got rip turned on.\n\n336\n00:16:13.730 --> 00:16:16.410\nAnd it's running in the background.\n\n337\n00:16:16.410 --> 00:16:19.079\nEvery 30 seconds, it's sending a message\nout to other routers that are out\n\n338\n00:16:19.079 --> 00:16:21.020\nthere on the network and\nmaybe it's discovering some.\n\n339\n00:16:21.020 --> 00:16:22.466\nMaybe things are making it\ninto the routing table.\n\n340\n00:16:22.466 --> 00:16:25.710\nMaybe, maybe, maybe because I don't know,\nI don't see it,\n\n341\n00:16:25.710 --> 00:16:27.950\nit doesn't show me that, right?\n\n342\n00:16:27.950 --> 00:16:33.110\nAnd so, if I do a show ip route,\nand I've got no rip routes.\n\n343\n00:16:33.110 --> 00:16:36.090\nAnd I do a show ip protocols, and\n\n344\n00:16:36.090 --> 00:16:39.539\nI see that I've got no\nRouting Information Sources.\n\n345\n00:16:40.570 --> 00:16:41.370\nWhy not?\n\n346\n00:16:41.370 --> 00:16:43.580\nWhy am I not talking to anybody out there?\n\n347\n00:16:43.580 --> 00:16:44.870\nMaybe nobody's out there.\n\n348\n00:16:44.870 --> 00:16:47.430\nMaybe I'm all alone in\nthis imaginary world.\n\n349\n00:16:47.430 --> 00:16:52.220\nOr maybe they're out there, and they're in\nversion 1, and I'm in version 2, right?\n\n350\n00:16:52.220 --> 00:16:55.160\nI'm set to only send and\nreceive version 2 data.\n\n351\n00:16:55.160 --> 00:16:58.504\nOr maybe, they're just not talking to me,\nthey're out there, but\n\n352\n00:16:58.504 --> 00:17:00.071\nI'm not receiving their data.\n\n353\n00:17:00.071 --> 00:17:02.648\nI don't see any of that,\nall that's hidden.\n\n354\n00:17:02.648 --> 00:17:05.620\nSo we can use debug and lift the veil.\n\n355\n00:17:05.620 --> 00:17:10.666\nAnd see it, I can do a debug IP rip and\nnow, all the crazy stuff that RIP\n\n356\n00:17:10.666 --> 00:17:17.025\ndoes in the background, is gonna get\ndisplayed right here on my screen, right?\n\n357\n00:17:17.025 --> 00:17:18.985\nWell that's nice, I can see it.\n\n358\n00:17:18.985 --> 00:17:20.875\nWonderful, I'll know that it's working.\n\n359\n00:17:20.875 --> 00:17:24.220\nAt some point in the next 30 seconds, I'm\ngonna see where I send an advertisement.\n\n360\n00:17:24.220 --> 00:17:27.050\nAnd I should see when I'm\nreceiving advertisements.\n\n361\n00:17:27.050 --> 00:17:29.800\nSo if there's a conflict I should see why.\n\n362\n00:17:29.800 --> 00:17:32.204\nI should see it.\n\n363\n00:17:32.204 --> 00:17:34.470\nHere's the thing to remember about debugs.\n\n364\n00:17:34.470 --> 00:17:38.730\nDebugs don't always\nshow up on your screen.\n\n365\n00:17:38.730 --> 00:17:42.670\nWe can customize logging to dictate\nwhether or not they show up.\n\n366\n00:17:42.670 --> 00:17:44.146\nI'm plugging into the console.\n\n367\n00:17:44.146 --> 00:17:48.270\nAnd when you're plugged into the console\ndevice the default is that you will see\n\n368\n00:17:48.270 --> 00:17:50.490\nthe debug information, all right.\n\n369\n00:17:50.490 --> 00:17:53.490\nBut if you're looking at\nthe logs of your router it may or\n\n370\n00:17:53.490 --> 00:17:55.970\nmay not include the debug.\n\n371\n00:17:55.970 --> 00:17:58.869\nAnd if your terminal then via Telnet or\n\n372\n00:17:58.869 --> 00:18:02.773\nSSH usually you don't see\nthe debug information.\n\n373\n00:18:02.773 --> 00:18:04.426\nAll right, so here I see it.\n\n374\n00:18:04.426 --> 00:18:10.230\nI'm starting to get these messages\ncoming across for rip doing its thing.\n\n375\n00:18:10.230 --> 00:18:18.150\nIf I fire up a terminal, and I'm gonna SSH\ninto that router if I know its address.\n\n376\n00:18:18.150 --> 00:18:21.100\nAnd I don't think I ever created\na user account on that one, did I?\n\n377\n00:18:22.380 --> 00:18:23.480\nShoot, I didn't.\n\n378\n00:18:23.480 --> 00:18:25.190\nSo let me, well I can Telnet.\n\n379\n00:18:26.460 --> 00:18:27.640\nWe'll do good old-fashioned Telnet.\n\n380\n00:18:29.160 --> 00:18:33.195\nAnd if I connect via some [LAUGH].\n\n381\n00:18:33.195 --> 00:18:34.081\n>> The password [INAUDIBLE].\n\n382\n00:18:34.081 --> 00:18:38.853\n>> So if I connect via Telnet or\nSSH though, debugs are usually disabled.\n\n383\n00:18:38.853 --> 00:18:41.874\nAnd they're disabled because,\nyou can get so\n\n384\n00:18:41.874 --> 00:18:45.210\nmuch data that it overwhelms your session.\n\n385\n00:18:45.210 --> 00:18:46.830\nAnd then you get locked\nout of the system and\n\n386\n00:18:46.830 --> 00:18:49.570\nthey obviously don't want that right so.\n\n387\n00:18:49.570 --> 00:18:53.473\nSo, that's kind of why we\ndon't see that by default but,\n\n388\n00:18:53.473 --> 00:18:55.474\nyou certainly can change it.\n\n389\n00:18:55.474 --> 00:18:58.609\nThe trick with debugs is with great\npower comes great responsibility.\n\n390\n00:18:58.609 --> 00:19:03.890\nSo you should only debug what\nyou absolutely have to debug.\n\n391\n00:19:03.890 --> 00:19:04.660\nRight?\n\n392\n00:19:04.660 --> 00:19:06.350\nI wanted to troubleshoot rip.\n\n393\n00:19:06.350 --> 00:19:08.880\nSo I did a debug IP rip.\n\n394\n00:19:08.880 --> 00:19:10.830\nI could have done a debug all.\n\n395\n00:19:10.830 --> 00:19:12.200\nThat's a fun command.\n\n396\n00:19:12.200 --> 00:19:15.000\nNow it shows you everything that\nis going on on the background and\n\n397\n00:19:15.000 --> 00:19:17.880\nif you are not on the console,\nyou are guaranteed to get locked out.\n\n398\n00:19:17.880 --> 00:19:19.620\nIt is too much data.\n\n399\n00:19:19.620 --> 00:19:20.120\nAll right.\n\n400\n00:19:21.380 --> 00:19:23.390\nI just debugged RIP and that's it.\n\n401\n00:19:23.390 --> 00:19:25.560\nYou guys see what's coming up on\nmy screen, it's not a lot of data.\n\n402\n00:19:25.560 --> 00:19:26.330\nI can handle this.\n\n403\n00:19:26.330 --> 00:19:27.280\nI'm not gonna get locked out.\n\n404\n00:19:27.280 --> 00:19:27.920\nI can read it.\n\n405\n00:19:27.920 --> 00:19:31.437\nIt's all within my management purview.\n\n406\n00:19:31.437 --> 00:19:32.702\nI can handle it.\n\n407\n00:19:32.702 --> 00:19:33.460\nAt least, that's what I'm gonna say.\n\n408\n00:19:34.750 --> 00:19:37.370\nAll right, let me get Telnetted in.\n\n409\n00:19:37.370 --> 00:19:39.320\nOkay, so now I'm Telnetted in.\n\n410\n00:19:39.320 --> 00:19:43.170\nAnd whoops, and\nif I throw in my little password here,\n\n411\n00:19:43.170 --> 00:19:49.010\nI'm gonna do a show debug, and see how RIP\nprotocol debugging is turned on, okay?\n\n412\n00:19:49.010 --> 00:19:53.140\nAnd in the background here, I've got my\nlocal session, and I'm gonna wait for\n\n413\n00:19:53.140 --> 00:19:54.750\nthe next debug to come up.\n\n414\n00:19:54.750 --> 00:19:58.070\nAnd see how the debug showed up over\nhere in my console connection, and\n\n415\n00:19:58.070 --> 00:19:59.959\nit didn't show up in my Telnet session?\n\n416\n00:20:01.040 --> 00:20:05.230\nThe reasoning there is, Cisco doesn't\nwant to overwhelm my connection.\n\n417\n00:20:05.230 --> 00:20:06.500\nSo it's turned off.\n\n418\n00:20:06.500 --> 00:20:11.560\nIf we take a look at the configuration,\nif I do a show logging.\n\n419\n00:20:12.600 --> 00:20:13.930\nRight at the top it show logging.\n\n420\n00:20:13.930 --> 00:20:18.680\nYou've got console logging, monitor\nlogging, and buffer logging, right.\n\n421\n00:20:18.680 --> 00:20:19.630\nConsole logging.\n\n422\n00:20:19.630 --> 00:20:21.970\nThat's what I see when I'm\nplugged into the console port.\n\n423\n00:20:21.970 --> 00:20:22.530\nRight?\n\n424\n00:20:22.530 --> 00:20:28.310\nMonitor logging, that's what I see\nwhen I'm Telnetting or SSHing in.\n\n425\n00:20:28.310 --> 00:20:32.530\nBuffer logging, that's what I see\nwhen I run show logging, all right?\n\n426\n00:20:32.530 --> 00:20:38.060\nNow as it stands I've got debugging\nturned on for the console, I've\n\n427\n00:20:38.060 --> 00:20:42.900\ngot debugging turned on for the buffer,\nand on monitor I've got it disabled.\n\n428\n00:20:42.900 --> 00:20:45.910\nSo on monitor I'm not gonna\nsee anything that's going on.\n\n429\n00:20:45.910 --> 00:20:48.340\nSo I might wanna customize these a bit.\n\n430\n00:20:48.340 --> 00:20:51.140\nAnd there's a few things that I like\nto do to help me when it comes to\n\n431\n00:20:51.140 --> 00:20:52.210\ntroubleshooting.\n\n432\n00:20:52.210 --> 00:20:56.320\nFirst off, the console,\nI like to have that when I'm debugging.\n\n433\n00:20:56.320 --> 00:20:59.235\nIf it's been turned off for some reason,\nyou can fix that by saying,\n\n434\n00:20:59.235 --> 00:21:02.566\nlogging console, and then you can specify\nthe level of information you want.\n\n435\n00:21:02.566 --> 00:21:04.780\nI'm gonna say debugging right?\n\n436\n00:21:04.780 --> 00:21:08.190\nSo now when I'm on the console,\nI will see debugger and higher events.\n\n437\n00:21:08.190 --> 00:21:10.640\nI'll see everything on the console.\n\n438\n00:21:10.640 --> 00:21:17.900\nBut in my buffer, well, with debugs\nright now going to my buffer, I have to\n\n439\n00:21:17.900 --> 00:21:21.530\nworry about my buffer filling up, and then\nnew stuff will override the old stuff.\n\n440\n00:21:21.530 --> 00:21:25.310\nAnd if I'm debugging I should\nbe actively in the system.\n\n441\n00:21:25.310 --> 00:21:28.580\nI shouldn't be letting it run in the\nbackground and I come and check it later.\n\n442\n00:21:28.580 --> 00:21:30.820\nI need to be running, adjusting and\nturning it off when I'm done.\n\n443\n00:21:30.820 --> 00:21:35.700\nSo I usually don't like to send my debug\nto the buffer if I can avoid it, and so\n\n444\n00:21:35.700 --> 00:21:39.850\nwhen you look up here we can find\ninformational is the next best level and\n\n445\n00:21:39.850 --> 00:21:42.410\nso that's what I'm gonna\nset it to is informational.\n\n446\n00:21:42.410 --> 00:21:47.290\nSo now, everything except the debugs\nwill go into the buffer log.\n\n447\n00:21:47.290 --> 00:21:48.580\nThe console is still getting them.\n\n448\n00:21:48.580 --> 00:21:50.550\nI still see them appearing\nin the background.\n\n449\n00:21:50.550 --> 00:21:53.830\nBut the log isn't going to get them.\n\n450\n00:21:53.830 --> 00:21:57.890\nAnd then I can say logging monitor,\nis for Telmat and SSH.\n\n451\n00:21:59.970 --> 00:22:01.780\nHey, maybe I need to debug.\n\n452\n00:22:01.780 --> 00:22:04.620\nSo, I'm going to come in,\nand I'm going to say.\n\n453\n00:22:04.620 --> 00:22:08.660\nI'm not at that building, I can't go and\nplug into the console port, and\n\n454\n00:22:08.660 --> 00:22:09.950\nit's 1000 miles away.\n\n455\n00:22:09.950 --> 00:22:13.422\nI need to see those debug I'm going\nto turn it on for Telnet and SSH.\n\n456\n00:22:13.422 --> 00:22:14.781\nI'm just going to be careful.\n\n457\n00:22:14.781 --> 00:22:17.588\nI'm going to be careful to not to turn on\ntoo many debugs to not get overwhelmed.\n\n458\n00:22:17.588 --> 00:22:19.088\nSo I just turn that on.\n\n459\n00:22:19.088 --> 00:22:23.510\nAnd if I do a show logging, I can see that\nall three of them now have it turned on,\n\n460\n00:22:23.510 --> 00:22:27.275\nI've debugging turned on for\nthe monitoring interface, right?\n\n461\n00:22:27.275 --> 00:22:30.900\nBut you probably noticed,\nmessages are appearing in the background.\n\n462\n00:22:30.900 --> 00:22:33.540\nAnd I'm still not seeing anything here.\n\n463\n00:22:33.540 --> 00:22:38.299\nEven though I've turned on the ability to\nsee those log messages on my terminal.\n\n464\n00:22:38.299 --> 00:22:40.830\nThey are still hidden by default.\n\n465\n00:22:40.830 --> 00:22:43.680\nAnd the way you fix that\nis when you Telnet or\n\n466\n00:22:43.680 --> 00:22:49.510\nSSH in, you can issue\nthe command terminal monitor.\n\n467\n00:22:49.510 --> 00:22:52.400\nNow notice, I'm not in config.\n\n468\n00:22:52.400 --> 00:22:56.694\nI'm in my privilege mode\nprompt right here, router#.\n\n469\n00:22:56.694 --> 00:22:59.127\nOr pound symbol,\nwhatever you wanna call it.\n\n470\n00:22:59.127 --> 00:23:01.749\nThis is one of those few commands that you\nissue outside of config which means it's\n\n471\n00:23:01.749 --> 00:23:02.790\nnot saved in config.\n\n472\n00:23:02.790 --> 00:23:06.220\nSo every time you connect you'd\nhave to issue this command.\n\n473\n00:23:06.220 --> 00:23:10.230\nWhen I Telnet or SSH in,\nI can run terminal monitor, and\n\n474\n00:23:10.230 --> 00:23:13.750\nnow I'm gonna start getting the debugs,\nright here in my terminal session.\n\n475\n00:23:13.750 --> 00:23:17.790\nIf it overwhelms me,\nand I get disconnected.\n\n476\n00:23:17.790 --> 00:23:20.080\nRight, so\nI get disconnected by the foreign host, or\n\n477\n00:23:20.080 --> 00:23:24.840\nwhatever, when I reconnect in,\nit will be turned off, okay?\n\n478\n00:23:24.840 --> 00:23:28.430\nAnd that's so that I can recover and\nget back into the system.\n\n479\n00:23:28.430 --> 00:23:31.967\nAnd once I recover, or\ndo whatever I need to filter things down,\n\n480\n00:23:31.967 --> 00:23:34.995\nI can run terminal monitor again,\nand turn it back on.\n\n481\n00:23:34.995 --> 00:23:38.581\nAnd that command doesn't work\nfrom the console, if I try and\n\n482\n00:23:38.581 --> 00:23:42.532\ndo it from the console itself,\nsee how console already monitors.\n\n483\n00:23:42.532 --> 00:23:44.443\nIt's already on by\ndefault from the console,\n\n484\n00:23:44.443 --> 00:23:46.555\nit's just on the remote\nsessions where we need it.\n\n485\n00:23:46.555 --> 00:23:49.855\nSo on the exam, if you're Telneted or\nSSH into a device, and\n\n486\n00:23:49.855 --> 00:23:53.677\nyou need to pull up debugs,\nremember that terminal monitor command,\n\n487\n00:23:53.677 --> 00:23:55.647\nreally handy to be able to see that.\n\n488\n00:23:55.647 --> 00:23:57.806\nOkay, but\ndo be careful by getting overwhelmed.\n\n489\n00:23:57.806 --> 00:24:00.589\nThere's another command that I showed\nearlier in this series that's helpful.\n\n490\n00:24:00.589 --> 00:24:05.915\nWhen you're debugging all these messages\nkeep getting in your way of typing so\n\n491\n00:24:05.915 --> 00:24:09.302\nI always like to go in and\nespecially on the VTYs and\n\n492\n00:24:09.302 --> 00:24:12.630\nissue the log in synchronous command.\n\n493\n00:24:12.630 --> 00:24:15.091\nAnd that way every time a message\npops up it redraws my line and\n\n494\n00:24:15.091 --> 00:24:17.950\nI don't have to worry about\nthe message getting in the way.\n\n495\n00:24:17.950 --> 00:24:22.070\nWith something like debug IP rip,\nit's not a big deal.\n\n496\n00:24:22.070 --> 00:24:25.610\nBut what if I did something\ncrazy like debug IP packet?\n\n497\n00:24:26.710 --> 00:24:30.730\nThis one's gonna show me every IP\npacket that passes through the system.\n\n498\n00:24:30.730 --> 00:24:34.180\nAnd on a busy network that\ncan be a lot of information.\n\n499\n00:24:34.180 --> 00:24:37.190\nNow this router only has one\ninterface activated right now, so\n\n500\n00:24:37.190 --> 00:24:38.320\nthere's not gonna be a ton of data.\n\n501\n00:24:38.320 --> 00:24:43.300\nBut see how fast the log messages\nare moving back here in the console, and\n\n502\n00:24:43.300 --> 00:24:45.280\nsee how slow they\nare moving in my session?\n\n503\n00:24:46.330 --> 00:24:49.770\nI'm being rate limited,\nI'm exceeding what the session can handle.\n\n504\n00:24:49.770 --> 00:24:54.550\nAnd so, I'm actually only getting a small\nportion of the messages via this session,\n\n505\n00:24:54.550 --> 00:24:57.200\nit's not an accurate\nrepresentation of what's going on.\n\n506\n00:24:57.200 --> 00:24:59.830\nThat's one of the things we have\nto be careful about de-bugging.\n\n507\n00:24:59.830 --> 00:25:03.520\nAnd if I was de-bugging and\nstill logging to my main buffer,\n\n508\n00:25:03.520 --> 00:25:06.110\nthe buffer's gonna fill and\nI'm gonna start losing old messages.\n\n509\n00:25:06.110 --> 00:25:07.750\nFortunately I've got\nde-bugging turned off for\n\n510\n00:25:07.750 --> 00:25:09.750\nthe buffer so\nthat's not going to be a problem.\n\n511\n00:25:09.750 --> 00:25:12.930\nBut I am overwhelming my terminal.\n\n512\n00:25:12.930 --> 00:25:18.820\nAnd so if I can still type,\nI can do like a no terminal monitor and\n\n513\n00:25:18.820 --> 00:25:21.160\nor wait, I think it's actually terminal,\nno monitor, isn't it?\n\n514\n00:25:21.160 --> 00:25:25.090\nIt's a weird command,\nlet me try this again.\n\n515\n00:25:25.090 --> 00:25:29.200\nAnd, we can come in and we can tell it\nhey, we don't want a monitor anymore, and\n\n516\n00:25:29.200 --> 00:25:32.050\nwell, you know what it's going to get\nreally upset with me, there we go,\n\n517\n00:25:32.050 --> 00:25:33.660\nterminal no monitor.\n\n518\n00:25:33.660 --> 00:25:34.590\nIt's not in config so\n\n519\n00:25:34.590 --> 00:25:36.750\nthe command is a little bit\ndifferent than what we're used to.\n\n520\n00:25:36.750 --> 00:25:40.330\nSo now I can stop it and maybe recover and\nwork through things, right?\n\n521\n00:25:40.330 --> 00:25:44.820\nOr the one I always tell people\nto remember, undebug all, right.\n\n522\n00:25:44.820 --> 00:25:47.260\nUndebug all turns off all debugging.\n\n523\n00:25:47.260 --> 00:25:49.160\nAnd it turns it off immediately.\n\n524\n00:25:49.160 --> 00:25:51.990\nBut notice how my console\nis still running.\n\n525\n00:25:51.990 --> 00:25:55.120\nThat's because even\nthe console was overwhelmed.\n\n526\n00:25:55.120 --> 00:25:57.120\nIt had more data than it could display.\n\n527\n00:25:57.120 --> 00:25:59.100\nSo debugging is now off.\n\n528\n00:25:59.100 --> 00:26:01.420\nBut the console has to get caught up.\n\n529\n00:26:01.420 --> 00:26:04.450\nAnd so it's still getting caught up from\neverything that is logged in its buffer.\n\n530\n00:26:04.450 --> 00:26:06.960\nThat shows you how you can get\noverwhelmed on these sessions.\n\n531\n00:26:06.960 --> 00:26:09.480\nAnd, if I'm trying to type, my goodness.\n\n532\n00:26:09.480 --> 00:26:10.900\nSee how difficult it becomes to type?\n\n533\n00:26:10.900 --> 00:26:11.462\nWell, shoot.\n\n534\n00:26:11.462 --> 00:26:12.706\n>> [LAUGH]\n>> Of course,\n\n535\n00:26:12.706 --> 00:26:14.392\nI caught it right as it ended.\n\n536\n00:26:14.392 --> 00:26:17.410\nBut, as it tries to get caught up,\nsometimes you can't even type, and\n\n537\n00:26:17.410 --> 00:26:18.800\nthen it's just rattling on the screen, and\n\n538\n00:26:18.800 --> 00:26:20.140\nyou're effectively locked\nout of the device.\n\n539\n00:26:20.140 --> 00:26:22.090\nDefinitely not something\nthat you wanna have happen.\n\n540\n00:26:22.090 --> 00:26:24.770\nSo be careful with those\ndebugs that you use,\n\n541\n00:26:24.770 --> 00:26:27.440\nespecially when you're doing\nthem remotely like this.\n\n542\n00:26:28.690 --> 00:26:31.140\nShow debug is another nice command,\n\n543\n00:26:31.140 --> 00:26:33.130\ncuz it'll show you if any\ndebugging is turned on.\n\n544\n00:26:33.130 --> 00:26:35.900\nSee how mine says debugging\nhas been turned off?\n\n545\n00:26:35.900 --> 00:26:39.780\nThe other thing is, I was getting rate\nlimited on my terminal there, right?\n\n546\n00:26:39.780 --> 00:26:41.680\nHow do I know that was actually happening?\n\n547\n00:26:41.680 --> 00:26:44.020\nWell, if you do a show logging,\nyou can see it.\n\n548\n00:26:44.020 --> 00:26:45.410\nIt's in the output here.\n\n549\n00:26:45.410 --> 00:26:49.770\nNotice on my console,\n1,257 messages were logged.\n\n550\n00:26:49.770 --> 00:26:52.180\nAnd if I look at it while\nfiltering's disabled, and\n\n551\n00:26:52.180 --> 00:26:57.170\nthat's it, on my monitor,\ndebugging 6023 messages were logged,\n\n552\n00:26:57.170 --> 00:27:00.020\nand, you know I'm actually not\ngetting the rate limit data.\n\n553\n00:27:00.020 --> 00:27:02.980\nNormally it tells you right there\nif it was rate limited or not.\n\n554\n00:27:02.980 --> 00:27:04.440\nAnd I'm not seeing it on this one.\n\n555\n00:27:04.440 --> 00:27:07.140\nYeah and normally it'll tell you\nlike how many messages were dropped.\n\n556\n00:27:07.140 --> 00:27:08.890\nAnd I'm not seeing that on this one.\n\n557\n00:27:08.890 --> 00:27:10.940\nI don't know why it's not showing that.\n\n558\n00:27:10.940 --> 00:27:12.750\nBut you can get an idea\nof what's going on.\n\n559\n00:27:12.750 --> 00:27:13.900\nMaybe it's only the console.\n\n560\n00:27:15.010 --> 00:27:16.170\nBut it does happen.\n\n561\n00:27:16.170 --> 00:27:17.370\nI mean, you guys saw it right there.\n\n562\n00:27:17.370 --> 00:27:19.870\nWe were definitely not getting\nall of those messages.\n\n563\n00:27:19.870 --> 00:27:22.270\nAnd that's just a part of the process.\n\n564\n00:27:22.270 --> 00:27:25.060\nThat it can only send so much data.\n\n565\n00:27:25.060 --> 00:27:29.800\nI got 1200 messages on the console,\nI only got 600 on my terminal\n\n566\n00:27:29.800 --> 00:27:33.080\nmonitor because of that rate limiting\nwhere it was getting blocked down.\n\n567\n00:27:33.080 --> 00:27:35.290\nSo definitely something that happens.\n\n568\n00:27:35.290 --> 00:27:38.150\nIt can get even worse if you're using\nsyslog and sending off to another server\n\n569\n00:27:38.150 --> 00:27:40.880\nbecause now every message being generated\nhas to be sent over the network too and\n\n570\n00:27:40.880 --> 00:27:43.420\nit can really overwhelm\nthings pretty quick.\n\n571\n00:27:43.420 --> 00:27:47.290\nBut don't be afraid of the debug commands,\njust use them responsibly.\n\n572\n00:27:47.290 --> 00:27:49.490\nAlways filter it down to the bare minimum.\n\n573\n00:27:49.490 --> 00:27:51.290\nAnd for\nthose of you that go on to the CCMP,\n\n574\n00:27:51.290 --> 00:27:54.220\nI'll show you how you can filter down\nto a particular interface or an IP,\n\n575\n00:27:54.220 --> 00:27:56.980\nthere's all sorts of filters you\ncan apply, get really advanced.\n\n576\n00:27:56.980 --> 00:28:01.040\nBut at this stage just remember\nto target a protocol or\n\n577\n00:28:01.040 --> 00:28:02.070\nan area that you're troubleshooting.\n\n578\n00:28:02.070 --> 00:28:03.810\nSo I did debug IP RIP.\n\n579\n00:28:03.810 --> 00:28:04.660\nIt's pretty specific.\n\n580\n00:28:04.660 --> 00:28:06.970\nI just wanna see RIP data and that's it.\n\n581\n00:28:06.970 --> 00:28:09.430\nYou can do the same thing with DHCP.\n\n582\n00:28:09.430 --> 00:28:11.830\nI think I did that in another episode.\n\n583\n00:28:11.830 --> 00:28:14.790\nSo you can really target that down and\njust see what you want.\n\n584\n00:28:14.790 --> 00:28:16.570\nAnd then debugs are perfectly safe.\n\n585\n00:28:16.570 --> 00:28:19.490\nKey thing, remember to turn\nthem off when you're done.\n\n586\n00:28:19.490 --> 00:28:22.170\nWhen you're all done,\nundebug all, turn them off, and\n\n587\n00:28:22.170 --> 00:28:24.610\nthen that way they're not sitting there\neating up resources on your system.\n\n588\n00:28:25.650 --> 00:28:29.440\n>> Now, Don, a lot of us said,\nwe first started here on our CCENT,\n\n589\n00:28:29.440 --> 00:28:31.790\nand we've been doing things in the lab,\n\n590\n00:28:31.790 --> 00:28:34.620\ntroubleshooting is one of the big\nthings we have to worry about.\n\n591\n00:28:34.620 --> 00:28:38.070\nAny other hints that we can give to help,\nas far as getting ready for\n\n592\n00:28:38.070 --> 00:28:39.620\nthe exam on troubleshooting?\n\n593\n00:28:39.620 --> 00:28:42.490\n>> The last thing and\nit might turn up in the exam.\n\n594\n00:28:42.490 --> 00:28:45.010\nI've heard various people say this but,\n\n595\n00:28:45.010 --> 00:28:46.880\nthere are some problems that\nget beyond your ability.\n\n596\n00:28:46.880 --> 00:28:48.760\nYou might not be able to solve something.\n\n597\n00:28:48.760 --> 00:28:51.440\nAnd when that happens you need\nto call Cisco on the phone.\n\n598\n00:28:51.440 --> 00:28:54.050\nThey've got their support rep's and\nif you've got a smart net agreement you've\n\n599\n00:28:54.050 --> 00:28:56.530\ngot support, you can even call them and\nthey'll help you out.\n\n600\n00:28:56.530 --> 00:28:59.050\nThere are bugs, sometimes in the iOS.\n\n601\n00:28:59.050 --> 00:29:01.820\nAnd they can isolate them,\nfix them, and get you a new update.\n\n602\n00:29:01.820 --> 00:29:06.600\nOne of the first things they're\ngonna ask for is the tech output for\n\n603\n00:29:06.600 --> 00:29:07.792\nyour router or switch.\n\n604\n00:29:07.792 --> 00:29:11.410\nSo let me show you this interesting\ncommand on my router here.\n\n605\n00:29:11.410 --> 00:29:13.758\nIf I run show tech-support.\n\n606\n00:29:13.758 --> 00:29:14.316\nOkay.\n\n607\n00:29:14.316 --> 00:29:20.800\nShow tech-support,\nit runs a series of commands all at once.\n\n608\n00:29:20.800 --> 00:29:23.420\nAnd the idea is that you can\nset your terminal program.\n\n609\n00:29:23.420 --> 00:29:27.770\nIf you're consoled in, most consoles\nsupport recording the screen output.\n\n610\n00:29:27.770 --> 00:29:30.980\nOr if you're thumbed that under SSH\nthen you can just set your buffer for\n\n611\n00:29:30.980 --> 00:29:33.390\nwhatever terminal program\nyou're using to be really long.\n\n612\n00:29:33.390 --> 00:29:38.850\nAnd when you run show tech-support,\nit will run a ton of commands all at once.\n\n613\n00:29:38.850 --> 00:29:43.290\nShow version, show running-config,\nshow startup-config, show chassis,\n\n614\n00:29:43.290 --> 00:29:46.570\nshow hardware, show module, show license.\n\n615\n00:29:46.570 --> 00:29:51.490\nAll these different commands,\nand so it outputs a ton of data.\n\n616\n00:29:51.490 --> 00:29:53.990\nMost data that doesn't\nmean anything to us.\n\n617\n00:29:53.990 --> 00:29:58.110\nBut they can take this data and\nthey can feed it into their software and\n\n618\n00:29:58.110 --> 00:30:02.890\nnow they have an exact picture\nof what your router, or\n\n619\n00:30:02.890 --> 00:30:05.330\nswitch, or\nfirewall looks like at that moment.\n\n620\n00:30:05.330 --> 00:30:09.240\nAnd they can just go and\nsay all right well Dons got a 29 11 so\n\n621\n00:30:09.240 --> 00:30:11.080\nlet me go and grab a 29 11 of the shelf.\n\n622\n00:30:11.080 --> 00:30:13.178\nAnd I'm gonna throw that\nsame config on there and\n\n623\n00:30:13.178 --> 00:30:14.620\nnow I can run through and test it.\n\n624\n00:30:14.620 --> 00:30:18.460\nSo this has all the information that\ntech support person is going to need.\n\n625\n00:30:18.460 --> 00:30:23.420\nSo when you call Cisco tech it's usually\nbetter to just go ahead and run this ahead\n\n626\n00:30:23.420 --> 00:30:26.900\nof time and have it as a text file so\nyou can email or upload it to them.\n\n627\n00:30:26.900 --> 00:30:30.430\nYou guys see, though, it's a lot, so don't\njust assume you'll be able to copy and\n\n628\n00:30:30.430 --> 00:30:32.070\npaste it from your terminal program.\n\n629\n00:30:32.070 --> 00:30:33.230\nLook in your terminal program,\n\n630\n00:30:33.230 --> 00:30:36.670\nthey usually have an ability\nto record the data.\n\n631\n00:30:36.670 --> 00:30:39.760\nAnd so if you dig around in the settings\nfor your software you'll find where\n\n632\n00:30:39.760 --> 00:30:43.660\nyou've got that option to be\nable to do it somewhere in here.\n\n633\n00:30:43.660 --> 00:30:44.730\nIf I look at mine.\n\n634\n00:30:46.045 --> 00:30:49.530\nLet's see, I haven't done it with this\none, but I know like in putty you have\n\n635\n00:30:49.530 --> 00:30:52.200\nthe option to dump to a text file,\nthose are all different ones.\n\n636\n00:30:52.200 --> 00:30:55.300\nYou will just wanna basically research and\nfind out how to do that in your software.\n\n637\n00:30:55.300 --> 00:30:56.310\nThis command-\n>> [LAUGH]\n\n638\n00:30:56.310 --> 00:30:57.820\n>> It runs for a while, I mean,\n\n639\n00:30:57.820 --> 00:30:59.970\nit is outputting a lot of information.\n\n640\n00:30:59.970 --> 00:31:01.770\nSome of it is like show processes,\n\n641\n00:31:01.770 --> 00:31:05.100\nwhere it's showing you the CPU utilization\nof all the processes that are running.\n\n642\n00:31:05.100 --> 00:31:09.260\nYou have almost zero control over\nthese processes, but the Cisco guys,\n\n643\n00:31:09.260 --> 00:31:11.530\nthey can look at that and\nrecognize when, hey,\n\n644\n00:31:11.530 --> 00:31:13.320\nit looks like OSPF is\nspinning out of control.\n\n645\n00:31:13.320 --> 00:31:13.850\nWhy is that?\n\n646\n00:31:13.850 --> 00:31:15.370\nLet's go look at the OSPF database.\n\n647\n00:31:15.370 --> 00:31:15.910\nIt's in here, too.\n\n648\n00:31:15.910 --> 00:31:17.820\nAnd they again find all that and\ntroubleshoot.\n\n649\n00:31:17.820 --> 00:31:19.070\nSo great utility.\n\n650\n00:31:19.070 --> 00:31:21.060\nDon't be afraid to call support.\n\n651\n00:31:21.060 --> 00:31:22.720\nSometimes, it's out of your control.\n\n652\n00:31:22.720 --> 00:31:24.270\nIt's a problem in the iOS.\n\n653\n00:31:24.270 --> 00:31:27.390\nIt's a closed system, so\nonly Cisco can troubleshoot that,\n\n654\n00:31:27.390 --> 00:31:29.500\nand you've just gotta reach out to them.\n\n655\n00:31:29.500 --> 00:31:31.600\n>> All right Don, well thank you for\nhelping us out here.\n\n656\n00:31:31.600 --> 00:31:33.280\nAnd taking look at troubleshooting.\n\n657\n00:31:33.280 --> 00:31:36.050\nAnd those debug commands making sure\nthat we turn everything off when\n\n658\n00:31:36.050 --> 00:31:37.240\nwe're actually done.\n\n659\n00:31:37.240 --> 00:31:39.190\nThat brings us to the end\nof this episode then.\n\n660\n00:31:39.190 --> 00:31:42.532\nSigning off for ITPROTV,\nI've been your host, Ronny Wong.\n\n661\n00:31:42.532 --> 00:31:43.559\n>> And I'm Don Viset.\n\n662\n00:31:43.559 --> 00:31:45.917\n>> And we'll see you next time!\n\n663\n00:31:45.917 --> 00:31:50.885\n[SOUND]\n\n",
          "vimeoId": "177713878"
        }
      ],
      "title": "Infrastructure Maintenance"
    }
  ],
  "url": "ccent2017",
  "vLab": false
}
