{
  "description": "The Apple Certified Technical Coordinator certification is designed for anyone responsible for managing Apple computers and devices in a business environment. The exam is made up of content from the Support Essentials ACSP course, as well as content from the Server Essentials course which is covered in this show. Technologies covered include topics like network deployment, policy management, troubleshooting and using Open Directory for centralized user management.",
  "descriptionMD": "",
  "length": "68118",
  "name": "Certified Technical Coordinator 10.10",
  "practiceExam": false,
  "subtitle": "OS X Server Essentials 10.10",
  "tagUrl": "legacy",
  "topics": [
    {
      "episodes": [
        {
          "description": "In this episode Don walks us through the Apple Certified Technical Coordinator certification. He takes a look at the topics covered, as well as basic information on how to take the exam.",
          "length": "931",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-0-0-overview-030915-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-0-0-overview-030915-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-0-0-overview-030915-1-sm.jpg",
          "title": "Apple ACTC Overview",
          "transcript": "1\n00:00:00,000 --> 00:00:07,144\n[MUSIC]\n\n2\n00:00:07,144 --> 00:00:08,040\nIn this segment,\n\n3\n00:00:08,040 --> 00:00:11,569\nwe're gonna take a look at\nthe Apple Certified Technical Coordinator\n\n4\n00:00:11,569 --> 00:00:13,060\ncertification.\n\n5\n00:00:13,060 --> 00:00:16,820\nThe ACTC is the highest level\ncertification from Apple for\n\n6\n00:00:16,820 --> 00:00:17,820\nIT professionals.\n\n7\n00:00:17,820 --> 00:00:19,220\nNow, who is an IT professional?\n\n8\n00:00:19,220 --> 00:00:22,980\nWell, these are people that work in\nbusinesses, enterprises, government\n\n9\n00:00:22,980 --> 00:00:27,670\norganizations schools that are responsible\nfor supporting Apple computers.\n\n10\n00:00:27,670 --> 00:00:31,920\nRight.\nAnd this spans from MacBooks to Mac Pros\n\n11\n00:00:31,920 --> 00:00:36,040\nto iPads to iPhones, all the various\nApple devices that are out there.\n\n12\n00:00:36,040 --> 00:00:38,650\nMost of them are designed for\nconsumer level use.\n\n13\n00:00:38,650 --> 00:00:40,240\nRight.\nJust regular home users that have\n\n14\n00:00:40,240 --> 00:00:41,480\na single device.\n\n15\n00:00:41,480 --> 00:00:44,380\nBut when we deploy them in a corporate\nworld or an educational world,\n\n16\n00:00:44,380 --> 00:00:47,980\nwhere you might have hundreds,\nthousands, tens of thousands at Mac.\n\n17\n00:00:47,980 --> 00:00:51,210\nThere's actually some really cool\nadministrative software available\n\n18\n00:00:51,210 --> 00:00:55,330\nto help do that, to help provide a unified\nenvironment even though we have a large\n\n19\n00:00:55,330 --> 00:00:59,680\nquantity of these devices, and\nthat's what the ACTC is all about.\n\n20\n00:00:59,680 --> 00:01:04,500\nNow, if you've landed here,\nyou've probably already taken the ACSP,\n\n21\n00:01:04,500 --> 00:01:07,250\nthe Apple Certified Support Professional.\n\n22\n00:01:07,250 --> 00:01:12,540\nIf you haven't, the ACSP is the first\nstep along the way of getting your ACTC,\n\n23\n00:01:12,540 --> 00:01:14,696\nthe Apple Certified Technical Coordinator.\n\n24\n00:01:14,696 --> 00:01:16,850\nIf you're gonna be working\nas a help desk technician,\n\n25\n00:01:16,850 --> 00:01:20,030\nif you're gonna be helping\npeople work with their Macs,\n\n26\n00:01:20,030 --> 00:01:24,840\nthat's what the ACSP is designed for,\nthe Apple Certified Support Professional.\n\n27\n00:01:24,840 --> 00:01:27,360\nBut if you're gonna be running\na larger organization,\n\n28\n00:01:27,360 --> 00:01:30,840\nif you're gonna be the big picture person,\nthe person that says.\n\n29\n00:01:30,840 --> 00:01:33,280\nI've got hundreds of thousands of Macs.\n\n30\n00:01:33,280 --> 00:01:35,040\nHow do I get them all talking together?\n\n31\n00:01:35,040 --> 00:01:38,750\nHow do I get them able to locate\neach other across multiple networks?\n\n32\n00:01:38,750 --> 00:01:40,820\nHow do we provide that infrastructure?\n\n33\n00:01:40,820 --> 00:01:41,800\nThat's what the ACTC is for.\n\n34\n00:01:41,800 --> 00:01:42,300\nAll right.\n\n35\n00:01:43,370 --> 00:01:47,870\nNow where it gets confusing,\nis kind of how the exams are structured.\n\n36\n00:01:47,870 --> 00:01:51,800\nIf you want to get the Apple Certified\nTechnical Coordinator certification,\n\n37\n00:01:51,800 --> 00:01:54,080\nthere's actually two exams\nthat you have to take.\n\n38\n00:01:54,080 --> 00:01:58,790\nThere's the exam for the ACSP, for the\nApple Certified Sport Professional, and\n\n39\n00:01:58,790 --> 00:02:02,120\nthere's a separate one that's designed for\nserver.\n\n40\n00:02:02,120 --> 00:02:03,950\nLet me show you on Apple's website, so\n\n41\n00:02:03,950 --> 00:02:06,650\nwe can kind of make this\nas clear as possible.\n\n42\n00:02:06,650 --> 00:02:09,160\nApple's website is\ntraining.apple.com/certification,\n\n43\n00:02:09,160 --> 00:02:13,090\nand that's where they have all\ntheir certifications laid out.\n\n44\n00:02:13,090 --> 00:02:14,140\nThey've got certifications for\n\n45\n00:02:14,140 --> 00:02:17,110\nIT professionals,\nas well as creative professionals right.\n\n46\n00:02:17,110 --> 00:02:18,860\nThe design and graphics people.\n\n47\n00:02:18,860 --> 00:02:21,710\nFor us, we're dealing with\nthe IT professionals side.\n\n48\n00:02:21,710 --> 00:02:23,660\nAnd if you take a look,\nthey've got certifications for\n\n49\n00:02:23,660 --> 00:02:26,470\nthe different versions of\nMac OS that have come out.\n\n50\n00:02:26,470 --> 00:02:32,430\nSo we see 10.9 Mavericks and\n10.10 Yosemite, we're doing 10.10.\n\n51\n00:02:32,430 --> 00:02:35,050\nAnd if you jump in there,\nthey lay out the certifications.\n\n52\n00:02:35,050 --> 00:02:38,100\nNow there's the entry level\nApple Certified Associate, or\n\n53\n00:02:38,100 --> 00:02:39,740\nACA certifications.\n\n54\n00:02:39,740 --> 00:02:41,920\nThat's for people just getting started.\n\n55\n00:02:41,920 --> 00:02:43,850\nAnd they're really good certifications.\n\n56\n00:02:43,850 --> 00:02:45,640\nThe courses are fairly short.\n\n57\n00:02:45,640 --> 00:02:47,350\nThe exam fee is really low.\n\n58\n00:02:47,350 --> 00:02:49,690\nYou can take it right from\nthe comfort of your own home.\n\n59\n00:02:49,690 --> 00:02:52,160\nReally straightforward\ncertification to get.\n\n60\n00:02:52,160 --> 00:02:56,120\nIf you don't have any Apple certifications\nat all, that's really the place to start.\n\n61\n00:02:56,120 --> 00:02:57,560\nBut, it's not required.\n\n62\n00:02:57,560 --> 00:03:02,190\nIf you've been working with Macs for\nyears, you can skip right past the ACA and\n\n63\n00:03:02,190 --> 00:03:05,700\njump right up to the ACTC if you want,\nright.\n\n64\n00:03:05,700 --> 00:03:10,300\nNow, most people start with the ACSP,\nthe Apple Certified Support Professional.\n\n65\n00:03:10,300 --> 00:03:15,988\nThere's one exam that goes along with it,\nand that exam is called the OS 10 or OS X.\n\n66\n00:03:15,988 --> 00:03:18,040\nSupport Essentials 10.10 exam.\n\n67\n00:03:18,040 --> 00:03:21,110\nAll right, so\nthat's the first exam that we take.\n\n68\n00:03:22,120 --> 00:03:26,130\nIf you want your ACTC,\nyou need to take a second exam.\n\n69\n00:03:26,130 --> 00:03:28,750\nYou've got the Support Essentials exam and\n\n70\n00:03:28,750 --> 00:03:32,600\nthen you've also go\nthe OS X Server Essentials exam.\n\n71\n00:03:33,800 --> 00:03:37,290\nSupport Essentials,\nthat focuses on workstations,\n\n72\n00:03:37,290 --> 00:03:40,610\ndesktops, laptops how we keep them up and\nrunning and healthy.\n\n73\n00:03:40,610 --> 00:03:45,050\nBut the server essentials that\ndives into the server app and\n\n74\n00:03:45,050 --> 00:03:49,010\na lot of the extra infrastructure that\na regular end user is never gonna see or\n\n75\n00:03:49,010 --> 00:03:51,350\nknow about but\nthey're gonna use it all the time.\n\n76\n00:03:51,350 --> 00:03:54,980\nThey don't just realize it,\nit's all transparent in the background.\n\n77\n00:03:54,980 --> 00:03:59,030\nSo that's the server essentials one,\nnow you can take these out of order,\n\n78\n00:03:59,030 --> 00:04:00,200\nif you want.\n\n79\n00:04:00,200 --> 00:04:04,350\nIf you do the server essentials first,\nyou actually do get awarded the ACSP.\n\n80\n00:04:04,350 --> 00:04:06,820\nThey don't show that on the site,\nbut you do.\n\n81\n00:04:06,820 --> 00:04:10,640\nIf you take just the server essentials,\nyou will take the ACSP, but\n\n82\n00:04:10,640 --> 00:04:15,250\nyou still don't get the ACTC\nuntil you pass both of them.\n\n83\n00:04:15,250 --> 00:04:17,440\nRight, now if you're just getting started,\n\n84\n00:04:17,440 --> 00:04:19,580\nyou should definitely\ncheck out our ACSP show.\n\n85\n00:04:19,580 --> 00:04:22,860\nWe've already filmed all the material for\nthat 10.10 Yosemite.\n\n86\n00:04:22,860 --> 00:04:25,280\nYou can jump in there, watch it,\nget that certification.\n\n87\n00:04:25,280 --> 00:04:25,892\nThat's where you start.\n\n88\n00:04:25,892 --> 00:04:27,200\nAll right.\n\n89\n00:04:27,200 --> 00:04:31,330\nBut if you just wanna learn about\nserver or if you've already pass ACSP,\n\n90\n00:04:31,330 --> 00:04:36,670\nthen it's time to move into this one\ninto the OS 10 server essentials course.\n\n91\n00:04:36,670 --> 00:04:39,580\nAnd here's where we start to\nlearn the advance infrastructure.\n\n92\n00:04:39,580 --> 00:04:41,320\nWhen you've passed that exam,\n\n93\n00:04:41,320 --> 00:04:45,720\nyou're now awarded the Apple Certified\nTechnical Coordinator certification.\n\n94\n00:04:46,800 --> 00:04:48,940\nThere is an upgrade path,\nthat's what they're showing here,\n\n95\n00:04:48,940 --> 00:04:50,500\nthe re-certification exam.\n\n96\n00:04:50,500 --> 00:04:53,412\nIf you were certified under\n10.9 Mavericks, or 10.8, or\n\n97\n00:04:53,412 --> 00:04:56,920\nanything earlier, you can just\ntake the re-certification exam.\n\n98\n00:04:56,920 --> 00:05:01,660\nIt covers material from both of the other\nexams, though, so it's the same content.\n\n99\n00:05:01,660 --> 00:05:03,960\nYou still have to know\nthe same information, but\n\n100\n00:05:03,960 --> 00:05:05,660\nit's just all grouped\ntogether right there.\n\n101\n00:05:07,040 --> 00:05:09,950\nAll right, now,\nlet's talk a little bit about the exam.\n\n102\n00:05:09,950 --> 00:05:12,980\nOn Apple's website they had these\nexam preparation guides and\n\n103\n00:05:12,980 --> 00:05:15,850\nthey are great to use to\nstructure your studying.\n\n104\n00:05:15,850 --> 00:05:18,200\nThey're a great way to know\nwhat to expect on the exam.\n\n105\n00:05:18,200 --> 00:05:21,405\nAnd to make sure that you've learned all\nthe material that you need to learn,\n\n106\n00:05:21,405 --> 00:05:22,190\nright.\n\n107\n00:05:22,190 --> 00:05:23,580\nUse it as a checklist.\n\n108\n00:05:23,580 --> 00:05:25,340\nI'm gonna pull up the one for\nServer Essentials here.\n\n109\n00:05:25,340 --> 00:05:28,026\nI'll just go that exam\npreparation guide and\n\n110\n00:05:28,026 --> 00:05:31,072\nwe'll pull that one up We\nwill go in English today.\n\n111\n00:05:32,733 --> 00:05:33,453\nHere we go.\n\n112\n00:05:33,453 --> 00:05:34,869\nAnd in this document,\n\n113\n00:05:34,869 --> 00:05:38,760\nit will have everything you\nneed to know about the exam.\n\n114\n00:05:38,760 --> 00:05:41,235\nAnd they lay it out in a pretty\nstraightforward process.\n\n115\n00:05:41,235 --> 00:05:42,760\nRight.\nThey explain the certifications,\n\n116\n00:05:42,760 --> 00:05:46,210\nwhat I was just talking about a moment\nago, but here's the really cool part.\n\n117\n00:05:46,210 --> 00:05:49,000\nHere's where they tell you\nabout the exam itself.\n\n118\n00:05:49,000 --> 00:05:49,550\nAll right.\n\n119\n00:05:49,550 --> 00:05:50,800\nSo what do we need to know?\n\n120\n00:05:50,800 --> 00:05:53,907\nWell, the exam number is 9L0-525.\n\n121\n00:05:53,907 --> 00:05:56,140\nWe need to know that for\nwhen we schedule the exam.\n\n122\n00:05:56,140 --> 00:05:59,290\nWhen you're ready to sign up for\nit, you go to Apple's web site and\n\n123\n00:05:59,290 --> 00:06:00,710\nyou sign up to take that exam.\n\n124\n00:06:00,710 --> 00:06:06,690\nNow, the exam is proctored through\nApple Authorized Training Centers, AATCs.\n\n125\n00:06:06,690 --> 00:06:08,550\nAnd you can go to Apple's website and\ndo a search.\n\n126\n00:06:08,550 --> 00:06:10,670\nI'll put a link in the notes for this.\n\n127\n00:06:10,670 --> 00:06:14,400\nThat you can click on to go and\nfind the nearest testing center to you.\n\n128\n00:06:14,400 --> 00:06:16,120\nSometimes they're right in\nthe same city as you, and\n\n129\n00:06:16,120 --> 00:06:17,630\nthat works out really convenient.\n\n130\n00:06:17,630 --> 00:06:18,400\nSometimes you're like me.\n\n131\n00:06:18,400 --> 00:06:22,510\nI have to drive two hours away to get\nto the nearest AATC to take exams or\n\n132\n00:06:22,510 --> 00:06:23,990\nto take official courses.\n\n133\n00:06:23,990 --> 00:06:25,420\nSo you can jump over and do that.\n\n134\n00:06:25,420 --> 00:06:28,080\nBut you can find those\nlisted right on the website.\n\n135\n00:06:28,080 --> 00:06:30,430\nThe exam is a computer based exam.\n\n136\n00:06:30,430 --> 00:06:32,060\nIt's 80 questions long.\n\n137\n00:06:32,060 --> 00:06:33,740\nAnd you get two hours, all right.\n\n138\n00:06:33,740 --> 00:06:36,170\nSo two hours for\neighty questions really not that bad.\n\n139\n00:06:36,170 --> 00:06:38,840\nYou get about a minute and\na half per questions.\n\n140\n00:06:38,840 --> 00:06:39,720\nA little bit more.\n\n141\n00:06:39,720 --> 00:06:41,990\nAnd you jump through and\nyou take care of it.\n\n142\n00:06:41,990 --> 00:06:44,520\nMost of the questions are multiple choice.\n\n143\n00:06:44,520 --> 00:06:47,980\nBut there are some drag and\ndrop and visual elements as well,\n\n144\n00:06:47,980 --> 00:06:51,640\nwhere they'll show you a screen\ncapture of the server app, and\n\n145\n00:06:51,640 --> 00:06:54,970\nthey'll say, where would you go in\nthis to perform a certain action?\n\n146\n00:06:54,970 --> 00:06:55,740\nAnd so you've gotta click.\n\n147\n00:06:55,740 --> 00:06:57,540\nThey have hotspots on the image.\n\n148\n00:06:57,540 --> 00:06:59,050\nSo, you get different\nquestions of that nature.\n\n149\n00:06:59,050 --> 00:07:01,370\nBut, most of them\nare just multiple choice.\n\n150\n00:07:02,730 --> 00:07:07,630\nBe aware that on Apple exams,\nyou do get partial credit for questions.\n\n151\n00:07:07,630 --> 00:07:09,700\nSo, if you get a question\nthat says something like\n\n152\n00:07:10,890 --> 00:07:14,140\nchoose three of the following that\nprovides such and such feature,\n\n153\n00:07:14,140 --> 00:07:16,450\nand they give you a list of 10 items.\n\n154\n00:07:16,450 --> 00:07:20,260\nWell, if you get two of the three right,\nyou actually do get partial credit.\n\n155\n00:07:20,260 --> 00:07:22,230\nSome of the other exam vendors\nout there like Microsoft,\n\n156\n00:07:22,230 --> 00:07:24,180\nthey don't do partial credit,\nbut Apple does.\n\n157\n00:07:24,180 --> 00:07:27,100\nSo make sure even if\nyou're not positive of\n\n158\n00:07:27,100 --> 00:07:29,410\nthe answer that you at least go ahead and\nfill it in.\n\n159\n00:07:29,410 --> 00:07:31,499\nBecause the parts that you do get right,\nyou will get credit on.\n\n160\n00:07:32,880 --> 00:07:35,820\nThere's a couple of other things,\nthere is a little confusion.\n\n161\n00:07:35,820 --> 00:07:36,840\nLet's see, did they say it here?\n\n162\n00:07:36,840 --> 00:07:38,240\nYeah.\nThere's a little confusion on this\n\n163\n00:07:38,240 --> 00:07:42,382\nline right here, that the exam includes\nfive unscored demographic questions.\n\n164\n00:07:42,382 --> 00:07:43,750\nAll right.\n\n165\n00:07:43,750 --> 00:07:46,330\nThere's some people out there that say,\nwell what that means is you actually get\n\n166\n00:07:46,330 --> 00:07:48,790\n80 questions and\nfive of them are unscored.\n\n167\n00:07:48,790 --> 00:07:51,050\nBut what really is is\nthere's 85 questions.\n\n168\n00:07:51,050 --> 00:07:54,190\nThere's a little five question survey\nat the very beginning that asks some\n\n169\n00:07:54,190 --> 00:07:55,180\ndemographics.\n\n170\n00:07:55,180 --> 00:07:58,480\nBasically how much experience you have.\n\n171\n00:07:58,480 --> 00:07:59,640\nHave you worked with Apple products?\n\n172\n00:07:59,640 --> 00:08:00,820\nHow did you study?\n\n173\n00:08:00,820 --> 00:08:01,320\nThings like that.\n\n174\n00:08:01,320 --> 00:08:02,600\nAnd those are unscored.\n\n175\n00:08:02,600 --> 00:08:06,400\nBut you will have 80 actual\nscored questions on the exam\n\n176\n00:08:06,400 --> 00:08:07,490\nspread across two hours.\n\n177\n00:08:08,650 --> 00:08:14,080\nNow the exam covers a wide range of\ntopics and [LAUGH] they lay it out\n\n178\n00:08:14,080 --> 00:08:19,670\nin just like painful detail right here\nacross 30 pages or something like that.\n\n179\n00:08:19,670 --> 00:08:22,290\nBut I'm gonna go up to the table of\ncontents, it's a little bit easier to take\n\n180\n00:08:22,290 --> 00:08:26,570\nin the exam content's divided\nup into seven areas alright.\n\n181\n00:08:26,570 --> 00:08:30,840\nIt starts out with configuring and\nmonitoring OS X server, right.\n\n182\n00:08:30,840 --> 00:08:34,730\nWe need the server app to\nturn our Mac into a server.\n\n183\n00:08:34,730 --> 00:08:38,640\nAnd it adds a lot of functionality\nthat technically was there already but\n\n184\n00:08:38,640 --> 00:08:42,620\nnow becomes visible on the graphical user\ninterface It's all hidden by default.\n\n185\n00:08:42,620 --> 00:08:44,660\nSo we can bring that out\nwith a server app, but\n\n186\n00:08:44,660 --> 00:08:47,760\nwe need to understand, how do we install\nit, how do we get it configured,\n\n187\n00:08:47,760 --> 00:08:50,390\nhow do we get it running, and\nhow do we keep it running.\n\n188\n00:08:50,390 --> 00:08:52,130\nAnd that's what that first section covers.\n\n189\n00:08:52,130 --> 00:08:54,120\nThis is the biggest section\nof the entire exam.\n\n190\n00:08:54,120 --> 00:08:57,050\nA lot of the exam content comes from\nright out of this very first part.\n\n191\n00:08:58,290 --> 00:09:02,620\nThen it divides the rest of the content\ninto more specific areas, right.\n\n192\n00:09:02,620 --> 00:09:04,450\nPart two is configuring accounts.\n\n193\n00:09:04,450 --> 00:09:06,090\nThese are local user accounts for\n\n194\n00:09:06,090 --> 00:09:10,280\na Mac as well as centralized user\naccounts in an open directory.\n\n195\n00:09:10,280 --> 00:09:13,659\nIf you've never worked with open\ndirectory, it's really cool software,\n\n196\n00:09:13,659 --> 00:09:14,715\nit's very powerful and\n\n197\n00:09:14,715 --> 00:09:18,063\ndefinitely something you'll want if\nyou have more than a handful of Macs.\n\n198\n00:09:19,435 --> 00:09:23,580\nThen we do managing devices\nwith configuration profiles.\n\n199\n00:09:23,580 --> 00:09:26,810\nIf you just have one Mac, you set\nthings up right there on the Mac and\n\n200\n00:09:26,810 --> 00:09:28,120\nyou just do it by hand.\n\n201\n00:09:28,120 --> 00:09:30,640\nBut if you have 1000 Macs,\nyou dont want to have to go and\n\n202\n00:09:30,640 --> 00:09:33,750\nconfigure every single one of\nthem it would take forever.\n\n203\n00:09:33,750 --> 00:09:38,720\nSo with configuration profiles we can\ncreate a standard configuration for\n\n204\n00:09:38,720 --> 00:09:42,450\nour Macs, and we can roll that out, either\nroll it out after the Macs are already out\n\n205\n00:09:42,450 --> 00:09:45,070\nthere or\nwe can build it into our deployment image.\n\n206\n00:09:45,070 --> 00:09:47,801\nSo that when we first install\nMac OS on the system it's already\n\n207\n00:09:47,801 --> 00:09:51,055\nconfigured the way that we want it,\nit already has the software we need and\n\n208\n00:09:51,055 --> 00:09:52,803\nit's ready to run right out of the box.\n\n209\n00:09:54,219 --> 00:09:55,311\nPart four is sharing files.\n\n210\n00:09:55,311 --> 00:09:57,425\nRight.\nHow do we exchange information between our\n\n211\n00:09:57,425 --> 00:09:59,547\nsystems and\nthat one's pretty straight forward,\n\n212\n00:09:59,547 --> 00:10:00,990\nnot a whole ton to deal with there.\n\n213\n00:10:01,990 --> 00:10:03,990\nPart five is deployment solutions.\n\n214\n00:10:03,990 --> 00:10:07,810\nI mentioned just a minute ago that we\ncould make images that already have Mac OS\n\n215\n00:10:07,810 --> 00:10:11,160\nset up the way we want it and roll it out\nonto the network, well how do you do that?\n\n216\n00:10:11,160 --> 00:10:13,260\nThat's what we'll cover\nin deployment solutions.\n\n217\n00:10:13,260 --> 00:10:17,500\nWe'll get a chance to see how\nto do scheduled network repairs,\n\n218\n00:10:17,500 --> 00:10:19,980\nhow to build an image and\ndeploy it over the network and\n\n219\n00:10:19,980 --> 00:10:22,830\ndo a lot of this stuff without\neven having a USB key or\n\n220\n00:10:22,830 --> 00:10:25,820\nbootable media you can do it right from\nthe network, really cool stuff there.\n\n221\n00:10:27,120 --> 00:10:29,690\nPart six is providing network services.\n\n222\n00:10:29,690 --> 00:10:32,500\nAnd this one's actually a collection\nof different technologies.\n\n223\n00:10:32,500 --> 00:10:36,230\nIn the server app,\nthere's a lot of functionality in there.\n\n224\n00:10:36,230 --> 00:10:40,120\nThings like automatic updates and\ncashing services, DNS.\n\n225\n00:10:40,120 --> 00:10:43,120\nAll of these various network services that\n\n226\n00:10:43,120 --> 00:10:46,230\ntaken individually aren't all that\npowerful but put together as a whole,\n\n227\n00:10:46,230 --> 00:10:48,870\nreally creates an amazing\nnetwork infrastructure.\n\n228\n00:10:48,870 --> 00:10:50,140\nAnd we'll take a look at that in part six.\n\n229\n00:10:51,400 --> 00:10:54,360\nAnd then the very end, part seven,\nis collaborative services.\n\n230\n00:10:54,360 --> 00:10:58,030\nWe're gonna take a look at email and\nchat, FaceTime.\n\n231\n00:10:58,030 --> 00:11:01,180\nSome of the different ways that we\ncommunicate between our users and\n\n232\n00:11:01,180 --> 00:11:03,750\nhow we deploy that in\na server environment.\n\n233\n00:11:03,750 --> 00:11:07,220\nHow we can keep a lot of that local\ninstead of relying on internet services.\n\n234\n00:11:07,220 --> 00:11:09,770\nSo if we're trying to maintain privacy and\nsecurity.\n\n235\n00:11:09,770 --> 00:11:11,270\nWe don't wanna use an internet service for\n\n236\n00:11:11,270 --> 00:11:14,350\nthat we'll get a chance to\nsee how to use the server.\n\n237\n00:11:14,350 --> 00:11:16,520\nSo really powerful stuff.\n\n238\n00:11:16,520 --> 00:11:19,860\nIf you attended the ACSP training if you\nwatched that whole series of shows you\n\n239\n00:11:19,860 --> 00:11:23,970\nmight have said by the end of it, man Don\nnever launched that server app at a single\n\n240\n00:11:23,970 --> 00:11:26,900\ntime, and\nthe reason is we do it right here.\n\n241\n00:11:26,900 --> 00:11:30,470\nAll this is based on the server\napp inside of Mac OS, and\n\n242\n00:11:30,470 --> 00:11:33,670\na little bit of Remote Desktop, we'll see\nhow Remote Desktop goes in there too.\n\n243\n00:11:33,670 --> 00:11:35,290\nBut most of it's done with the server app,\n\n244\n00:11:35,290 --> 00:11:38,920\nwe'll get a chance to see all\nthe stuff that it can do, really cool.\n\n245\n00:11:38,920 --> 00:11:41,820\nYour regular end user doesn't\nneed this information.\n\n246\n00:11:41,820 --> 00:11:45,320\nYour help desk professional typically\ndoesn't need this information, but\n\n247\n00:11:45,320 --> 00:11:49,870\nif you're one of the system engineers or\neven an information system manager or\n\n248\n00:11:49,870 --> 00:11:51,000\nsomebody like that.\n\n249\n00:11:51,000 --> 00:11:53,930\nYou're the big picture guy, you're trying\nto think of the infrastructure that's\n\n250\n00:11:53,930 --> 00:11:56,652\nneeded to support your Macs,\nthis is what you want to know.\n\n251\n00:11:56,652 --> 00:11:58,000\nAll right.\n\n252\n00:11:58,000 --> 00:12:01,540\nSo it is an advanced topic for\nprerequisites,\n\n253\n00:12:01,540 --> 00:12:03,720\nApple doesn't really have\nany prerequisites for this.\n\n254\n00:12:03,720 --> 00:12:06,465\nAnybody can walk right in off of\nthe street and take this exam.\n\n255\n00:12:06,465 --> 00:12:09,690\nRight.\nThey'll probably fail, but they can do it.\n\n256\n00:12:09,690 --> 00:12:15,630\nWhat Apple recommends is that at a minimum\nyou do the ACSP for desktop support first.\n\n257\n00:12:15,630 --> 00:12:17,500\nThe Apple Certified Support Professional.\n\n258\n00:12:17,500 --> 00:12:22,430\nYou go ahead and take that Support Basics\nexam and get that under your belt.\n\n259\n00:12:22,430 --> 00:12:25,710\nBecause you don't wanna be trying\nto fix a server problem and\n\n260\n00:12:25,710 --> 00:12:28,120\nhave it actually just turn out to\nbe a Mac OS problem under the hood.\n\n261\n00:12:28,120 --> 00:12:31,210\nAnd it could have been something\nthat was easily prevented,\n\n262\n00:12:31,210 --> 00:12:32,790\nhad you known that\nunderlying infrastructure.\n\n263\n00:12:34,150 --> 00:12:34,980\nAll right.\n\n264\n00:12:34,980 --> 00:12:36,790\nI think that's really about it.\n\n265\n00:12:36,790 --> 00:12:41,520\nLet me just check my outline here and\nmake sure I haven't missed anything crazy.\n\n266\n00:12:41,520 --> 00:12:44,590\nThe only thing I didn't mention.\n\n267\n00:12:44,590 --> 00:12:48,250\nIf you take the exam and you do not pass,\nit's not the end of the world,\n\n268\n00:12:48,250 --> 00:12:49,380\nyou can retake it.\n\n269\n00:12:49,380 --> 00:12:53,010\nBut there is a seven-day cool\ndown period in between attempts.\n\n270\n00:12:53,010 --> 00:12:54,030\nSo if you take the exam and\n\n271\n00:12:54,030 --> 00:12:57,980\ndon't pass, you'll have to wait at least\na week before you can take the exam again.\n\n272\n00:12:57,980 --> 00:12:59,390\nSo just be aware of that.\n\n273\n00:12:59,390 --> 00:13:02,900\nThe exam is not the most\nchallenging in the world, but\n\n274\n00:13:02,900 --> 00:13:05,832\nit's covering a lot of topics that\nare things we don't work with every day.\n\n275\n00:13:05,832 --> 00:13:07,870\nAll right.\nI've set up a number of\n\n276\n00:13:07,870 --> 00:13:11,980\nApple Open Directory Environments,\nbut I haven't done one this week.\n\n277\n00:13:11,980 --> 00:13:13,520\nI don't do one last week.\n\n278\n00:13:13,520 --> 00:13:16,990\nSo these are technologies and skills\nwe don't work with every single day.\n\n279\n00:13:16,990 --> 00:13:20,560\nIt's easy to forget that, so you need to\nmake sure you hit the books and you study,\n\n280\n00:13:20,560 --> 00:13:23,220\nthat you watch the episodes,\nyou learn the content.\n\n281\n00:13:23,220 --> 00:13:25,491\nAnd then you'll be ready for\nthat exam and it wont be a problem.\n\n282\n00:13:25,491 --> 00:13:26,100\nRight.\nSo\n\n283\n00:13:26,100 --> 00:13:29,360\nthat's basically what we\ndo in this series, right.\n\n284\n00:13:29,360 --> 00:13:33,640\nIn the ITProTV series for ACSP we're\ngonna break all that up into episodes.\n\n285\n00:13:33,640 --> 00:13:35,720\nWe're gonna walk through using\nall the different technologies,\n\n286\n00:13:35,720 --> 00:13:37,040\nwe'll get a chance to see it.\n\n287\n00:13:37,040 --> 00:13:39,120\nI'll post show notes with each episode, so\n\n288\n00:13:39,120 --> 00:13:42,170\nyou'll have some notes that\nare available to be able to refer to.\n\n289\n00:13:42,170 --> 00:13:45,110\nAnd use those in your studies,\nit makes it really handy.\n\n290\n00:13:45,110 --> 00:13:49,940\nAnd then, as in show on ITProTV, if you\nhave questions while you're studying,\n\n291\n00:13:49,940 --> 00:13:51,970\nyou always have that opportunity to ask.\n\n292\n00:13:51,970 --> 00:13:56,580\nIf you're watching live, on ITProTV/live,\nyou can use the live chat room right\n\n293\n00:13:56,580 --> 00:14:00,250\nthere, post your questions and\nwe'll answer you during the show.\n\n294\n00:14:00,250 --> 00:14:01,610\nBut we're only live for\n\n295\n00:14:01,610 --> 00:14:04,170\na little while with Apple before\nwe move onto the next show.\n\n296\n00:14:04,170 --> 00:14:06,180\nSo if you're watching this\nrecording down the road,\n\n297\n00:14:06,180 --> 00:14:08,200\nthis is me talking to the future.\n\n298\n00:14:08,200 --> 00:14:11,970\nSo if you're watching this in the future,\nuse our forums.\n\n299\n00:14:11,970 --> 00:14:15,350\nOn every ITVPro page, you'll see\na link at the top that says Q&A.\n\n300\n00:14:15,350 --> 00:14:17,170\nIt's our question and answer forum.\n\n301\n00:14:17,170 --> 00:14:18,660\nYou can post your questions there.\n\n302\n00:14:18,660 --> 00:14:22,370\nAnd we'll get you the answers you need so\nthat you know the content and that way,\n\n303\n00:14:22,370 --> 00:14:23,520\nwhen you go to take the exam,\n\n304\n00:14:23,520 --> 00:14:26,670\nyou're walking in there with answers\nin your head and not with questions.\n\n305\n00:14:26,670 --> 00:14:28,880\nThat's our goal,\nwe wanna make sure that you're successful.\n\n306\n00:14:29,900 --> 00:14:34,000\nAlso remember that this is not\nnecessarily the course for everybody.\n\n307\n00:14:34,000 --> 00:14:37,150\nIf this sounded like a little more than\nyou wanted to know, that's fine, right.\n\n308\n00:14:37,150 --> 00:14:38,400\nWe've got our other courses.\n\n309\n00:14:38,400 --> 00:14:41,860\nWith your ITProTV subscription,\nyou have access to the whole library.\n\n310\n00:14:41,860 --> 00:14:44,290\nSo you can jump over and do the ACSP.\n\n311\n00:14:44,290 --> 00:14:45,960\nOr if you're just getting started out.\n\n312\n00:14:45,960 --> 00:14:48,880\nCheck out those ACAs,\nthe Apple Certified Associates.\n\n313\n00:14:48,880 --> 00:14:52,960\nThat's a much smaller set of data,\nApple publishes the full book for\n\n314\n00:14:52,960 --> 00:14:54,580\nfree right on the website.\n\n315\n00:14:54,580 --> 00:14:55,530\nYou should be able to study and\n\n316\n00:14:55,530 --> 00:14:59,080\nget at least the first ACA\ncertification in one, two weeks?\n\n317\n00:14:59,080 --> 00:15:02,060\nIf you're just trying to get\na certification on the resume real quick,\n\n318\n00:15:02,060 --> 00:15:06,360\nthe ACA is a great way to do\nthat this one is not like that.\n\n319\n00:15:06,360 --> 00:15:08,740\nThe ACTC is hard, it's a lot of content.\n\n320\n00:15:08,740 --> 00:15:11,000\nYou've really gotta learn it,\nand you've gotta work for it.\n\n321\n00:15:11,000 --> 00:15:13,270\nSo, it's gonna take a little\nbit of time to do it.\n\n322\n00:15:13,270 --> 00:15:16,330\nACA is the easy one,\nthe low hanging fruit.\n\n323\n00:15:16,330 --> 00:15:17,930\nHere's where we get to\nthe real stuff in ACTC.\n\n324\n00:15:19,260 --> 00:15:21,880\nWell if that sounds exciting to you,\nthen you are in the right place.\n\n325\n00:15:21,880 --> 00:15:25,026\nStay tuned,\nwe've got ACTC episodes coming up.\n\n326\n00:15:25,026 --> 00:15:31,169\n[MUSIC]\n\n",
          "vimeoId": "121773258"
        }
      ],
      "title": "ACTC 10.10 Overview"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Don walks us through how to install the Mac OS X Server App and provides a quick introduction to the various features inside the app. He also discusses the pre-requisites for installing as well as concerns when upgrading to a new version.",
          "length": "4298",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-1-1-installing_osx_server-030915-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-1-1-installing_osx_server-030915-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-1-1-installing_osx_server-030915-1-sm.jpg",
          "title": "Installing OS X Server",
          "transcript": "1\n00:00:00,000 --> 00:00:10,000\n[MUSIC]\n\n2\n00:00:15,170 --> 00:00:22,590\n[SOUND]\n\n3\n00:00:22,590 --> 00:00:33,380\n[MUSIC]\n\n4\n00:00:33,380 --> 00:00:35,791\nAll right, good morning,\ngood afternoon, and good evening.\n\n5\n00:00:35,791 --> 00:00:36,880\nAnd welcome back.\n\n6\n00:00:36,880 --> 00:00:38,290\nTo another episode of ITProTV.\n\n7\n00:00:38,290 --> 00:00:40,600\nI'm your host, Don Pezet.\n\n8\n00:00:40,600 --> 00:00:42,410\nBack today with a new episode.\n\n9\n00:00:42,410 --> 00:00:47,210\nWe're launching a new training series for\nthe Apple Certified Technical Coordinator.\n\n10\n00:00:47,210 --> 00:00:51,710\nAnd, the primary exam for the ACTC,\nwell you should have already taken\n\n11\n00:00:51,710 --> 00:00:56,730\nthe support professional exam, but we\nneed the server side of things for ACTC.\n\n12\n00:00:56,730 --> 00:00:59,400\nAnd that's what we're going\nto be kicking off today.\n\n13\n00:00:59,400 --> 00:01:00,060\nIn this segment,\n\n14\n00:01:00,060 --> 00:01:04,430\nwe're going to dive right in to getting\nthe serve app installed to convert your\n\n15\n00:01:04,430 --> 00:01:09,860\nMac from just being a regular desktop\nworkstation to being an actual server.\n\n16\n00:01:09,860 --> 00:01:13,440\nAnd the step one for that,\nis just getting the server app installed.\n\n17\n00:01:14,500 --> 00:01:16,910\nNow this is something that's\ndifferent than what it used to be.\n\n18\n00:01:16,910 --> 00:01:21,410\nIf you've never worked with Apple server\nproducts before than this is no big deal.\n\n19\n00:01:21,410 --> 00:01:22,800\nBut if you've got a good history of it,\n\n20\n00:01:22,800 --> 00:01:25,720\nif you worked with some of the original\nX servers they released and\n\n21\n00:01:25,720 --> 00:01:29,190\nthose guys things are a lot\ndifferent now than they used to be.\n\n22\n00:01:29,190 --> 00:01:34,040\nIt used to be that Apple released\na dedicated version of Mac OS\n\n23\n00:01:34,040 --> 00:01:36,400\nthat was Mac OS server.\n\n24\n00:01:36,400 --> 00:01:39,740\nAnd so you had to either buy your\nequipment with that preinstalled, or\n\n25\n00:01:39,740 --> 00:01:41,830\nyou had to go out and\nbuy this dedicated OS.\n\n26\n00:01:41,830 --> 00:01:43,960\nWell it's not like that anymore.\n\n27\n00:01:43,960 --> 00:01:47,830\nWhen you go to buy a Mac,\nwhether it's a workstation, a laptop.\n\n28\n00:01:47,830 --> 00:01:52,730\nYou know, whatever it is, a Mac Mini,\na Mac Book, a Mac Pro, whatever.\n\n29\n00:01:52,730 --> 00:01:56,170\nThey all ship with the regular\ndesktop operating system on them.\n\n30\n00:01:56,170 --> 00:01:57,630\nSo today that's Yosemite.\n\n31\n00:01:57,630 --> 00:02:02,530\nSo you'll get Mac OS 10.10 Yosemite\nready to go as a regular desktop.\n\n32\n00:02:02,530 --> 00:02:06,980\nAnd if you wanted to be a server,\nyou just go into the app store, and\n\n33\n00:02:06,980 --> 00:02:08,920\nyou buy the server app.\n\n34\n00:02:08,920 --> 00:02:12,730\nAnd it installs on that machine, and\nnow you've got a server, all right?\n\n35\n00:02:12,730 --> 00:02:16,350\nSo Apple doesn't have the dedicated\nOS like they did before.\n\n36\n00:02:16,350 --> 00:02:17,710\nNow it's just an app.\n\n37\n00:02:17,710 --> 00:02:20,600\nAnd there's pros and cons to that, right?\n\n38\n00:02:20,600 --> 00:02:25,490\nThe con, the negative side, is that your\ndesktop will be set up as a desktop.\n\n39\n00:02:25,490 --> 00:02:27,830\nThere's a lot of stuff configured\non your machine that's great for\n\n40\n00:02:27,830 --> 00:02:29,850\na home user, not so great on a server.\n\n41\n00:02:29,850 --> 00:02:33,927\nSo, we're going to have to do some tweaks\nto make our machines a little more\n\n42\n00:02:33,927 --> 00:02:34,870\nserver-like.\n\n43\n00:02:34,870 --> 00:02:38,980\nBut on a positive side,\ninstalling the app is a breeze, and\n\n44\n00:02:38,980 --> 00:02:41,930\nas updates come out, you don't\nhave to wait for a special server\n\n45\n00:02:41,930 --> 00:02:45,870\nversion to come out you get the update\nalong with the desktop users.\n\n46\n00:02:45,870 --> 00:02:49,270\nAnd the app store automatically\nupdates the server app too.\n\n47\n00:02:49,270 --> 00:02:54,020\nSo things become a lot more simple as far\nas management side and that's pretty cool.\n\n48\n00:02:55,050 --> 00:02:59,490\nNow, another nice positive about this is\nthat when they moved into the app store,\n\n49\n00:02:59,490 --> 00:03:02,360\nthey reduced the price\npretty significantly.\n\n50\n00:03:02,360 --> 00:03:05,270\nWhen you had to buy the dedicated version,\nit was fairly expensive.\n\n51\n00:03:05,270 --> 00:03:07,008\nNow the app is just $20.\n\n52\n00:03:07,008 --> 00:03:11,020\nYou go into the App Store and\nit's 19.99 US dollars.\n\n53\n00:03:11,020 --> 00:03:15,970\nOr 19 dollars and 99 cents,\nlet me clarify that.\n\n54\n00:03:15,970 --> 00:03:20,880\nSo its basically $20, and you buy the app,\nyou install it, and you're good to go.\n\n55\n00:03:20,880 --> 00:03:22,880\nIt's tied to your Apple ID,\nso you can go and\n\n56\n00:03:22,880 --> 00:03:24,670\ninstall it on more than one\nmachine if you need to.\n\n57\n00:03:24,670 --> 00:03:27,680\nNow you can create as many\nservices as you want.\n\n58\n00:03:27,680 --> 00:03:30,420\nIf you're studying at home,\nmakes it a breeze, right?\n\n59\n00:03:30,420 --> 00:03:33,840\nIt's just $20,\nit's not going to break the bank, right?\n\n60\n00:03:33,840 --> 00:03:35,510\nDo be aware of this, though.\n\n61\n00:03:35,510 --> 00:03:40,340\nThe server app is not backwards\ncompatible, all right?\n\n62\n00:03:40,340 --> 00:03:46,660\nSo what I mean by that is, if I bought the\nserver app when I was running Mavericks,\n\n63\n00:03:46,660 --> 00:03:51,650\nand now I upgrade to Yosemite I've got\nto buy the server app again all right.\n\n64\n00:03:51,650 --> 00:03:55,510\nUnder Mavericks the server app,\nI think the last version was 3.3.2.\n\n65\n00:03:55,510 --> 00:03:57,400\nAnd now under Yosemite, if I go and\n\n66\n00:03:57,400 --> 00:03:59,390\nget it today the current version is,\nI believe 4.0.3.\n\n67\n00:03:59,390 --> 00:04:03,530\nRight, these numbers might be different by\nthe time you actually watch this episode.\n\n68\n00:04:03,530 --> 00:04:07,361\nBut it's a 4.0 version\nversus the 3.0 version.\n\n69\n00:04:07,361 --> 00:04:10,620\nAnd if we go back to Mountain Lion it\nwas the two point whatever version.\n\n70\n00:04:10,620 --> 00:04:13,520\nSo it's changed with each OS.\n\n71\n00:04:13,520 --> 00:04:15,300\nSo when a new OS comes out,\n\n72\n00:04:15,300 --> 00:04:19,510\nthe server app actually stops\nworking until you buy the new app.\n\n73\n00:04:19,510 --> 00:04:20,020\nAll right?\n\n74\n00:04:20,020 --> 00:04:21,770\nAnd that's all part of\nthe upgrading process and\n\n75\n00:04:21,770 --> 00:04:24,020\nwe're going to talk about\nthe upgrade process later on.\n\n76\n00:04:24,020 --> 00:04:27,140\nBut let me tell you, at $20, and\nit's tied to your account so\n\n77\n00:04:27,140 --> 00:04:28,860\nyou can install it on\nmore than one machine.\n\n78\n00:04:28,860 --> 00:04:34,800\nThat is a steal compared to other people,\nlike Red Hat Linux and Microsoft Windows,\n\n79\n00:04:34,800 --> 00:04:38,270\nwhere your upgrades are typically\nhundreds, if not thousands, of dollars,\n\n80\n00:04:38,270 --> 00:04:41,350\nand they're not backwards compatible\neither, cause they're part of their OS.\n\n81\n00:04:41,350 --> 00:04:43,740\nYou're buying a whole new OS each time.\n\n82\n00:04:43,740 --> 00:04:44,940\nYou know you're just buying an app.\n\n83\n00:04:44,940 --> 00:04:47,770\nSo it really is a great model\nthat Apple's built out and\n\n84\n00:04:47,770 --> 00:04:50,460\nit does work really really well.\n\n85\n00:04:50,460 --> 00:04:54,150\nBut upgrades can be a little sensitive\nwe'll adjust those a little bit later.\n\n86\n00:04:54,150 --> 00:04:56,690\nBut let's put upgrades\nout of our minds for now.\n\n87\n00:04:56,690 --> 00:05:00,290\nLet's talk about just getting the server\nup and running in the beginning.\n\n88\n00:05:00,290 --> 00:05:03,320\nThis is the very first server that\nI want to fire up what do I do?\n\n89\n00:05:04,600 --> 00:05:09,340\nWell, before we go and do anything\ntoo terribly crazy with our system,\n\n90\n00:05:09,340 --> 00:05:13,760\nwe need to start by taking\na look at our system and\n\n91\n00:05:13,760 --> 00:05:16,690\nfiguring out what needs to change\nto make it more server like.\n\n92\n00:05:16,690 --> 00:05:18,970\nThis is before we even installed\nthe server app on here.\n\n93\n00:05:18,970 --> 00:05:20,510\nBefore we make that plunge.\n\n94\n00:05:20,510 --> 00:05:21,900\nWhat can we do?\n\n95\n00:05:21,900 --> 00:05:26,300\nSo I've got a machine here, this is\na machine running Yosemite 10.10 and\n\n96\n00:05:26,300 --> 00:05:29,730\nit's a stock install I\nhaven't done much to it.\n\n97\n00:05:29,730 --> 00:05:31,210\nIt's a virtual machine and so\n\n98\n00:05:31,210 --> 00:05:33,790\nI've installed some virtual machines\nadditions to it and that's it.\n\n99\n00:05:33,790 --> 00:05:36,230\nOtherwise this is stock Yosemite.\n\n100\n00:05:36,230 --> 00:05:40,060\nNow when I say we need to make it a little\nmore server-like what am I talking about.\n\n101\n00:05:40,060 --> 00:05:42,590\nWell there's a lot of apps and\nprograms and\n\n102\n00:05:42,590 --> 00:05:46,960\nthings that are on here that we don't\nreally need on a server, right?\n\n103\n00:05:46,960 --> 00:05:49,350\nDo I need iTunes on my server?\n\n104\n00:05:49,350 --> 00:05:50,370\nProbably not.\n\n105\n00:05:50,370 --> 00:05:52,960\nDo I need FaceTime or Message?\n\n106\n00:05:52,960 --> 00:05:54,330\nProbably not, right?\n\n107\n00:05:54,330 --> 00:05:55,490\nBut they're there.\n\n108\n00:05:55,490 --> 00:05:57,410\nNow, some of these we can remove.\n\n109\n00:05:57,410 --> 00:05:58,930\nSome of these, we can't.\n\n110\n00:05:58,930 --> 00:06:02,470\nFor example, FaceTime is a part of our OS.\n\n111\n00:06:02,470 --> 00:06:06,230\nAnd Apple doesn't want you to remove that,\nthat can cause so problems.\n\n112\n00:06:06,230 --> 00:06:07,320\nSo those are stuck.\n\n113\n00:06:08,510 --> 00:06:11,020\nBut if you have a Mac and\nyou fired it up and\n\n114\n00:06:11,020 --> 00:06:14,800\nit's got things like pages or\nnumbers, right?\n\n115\n00:06:14,800 --> 00:06:15,700\nThe iWorks suite,\n\n116\n00:06:15,700 --> 00:06:18,490\nif you've got stuff like that on there,\nyou don't need that on a server.\n\n117\n00:06:18,490 --> 00:06:21,500\nYou can go ahead and remove those,\nyou can pull those out of there and\n\n118\n00:06:21,500 --> 00:06:22,550\nuninstall them.\n\n119\n00:06:22,550 --> 00:06:26,620\nSo, when I go to build up a server\nthere's two approaches I take.\n\n120\n00:06:26,620 --> 00:06:30,130\nIf the machine is already up and\nrunning like my own laptop,\n\n121\n00:06:30,130 --> 00:06:33,780\nI might leave the programs on there\nbecause I use them, it's a task machine.\n\n122\n00:06:33,780 --> 00:06:38,000\nBut in a production environment, I almost\nalways start by wiping the machine and\n\n123\n00:06:38,000 --> 00:06:39,850\ndoing a clean install of Yosemite.\n\n124\n00:06:39,850 --> 00:06:42,790\nBecause I don't want a bunch\nof extra software on there.\n\n125\n00:06:42,790 --> 00:06:43,850\nRight?\n\n126\n00:06:43,850 --> 00:06:47,780\nThe next things is,\nwe need to remember what a server is.\n\n127\n00:06:47,780 --> 00:06:52,700\nA server is a computer located somewhere\non your network that's providing services,\n\n128\n00:06:52,700 --> 00:06:55,840\nthat's providing some kind of\nfunctionality to anybody on the network.\n\n129\n00:06:55,840 --> 00:06:56,390\nAll right.\n\n130\n00:06:56,390 --> 00:06:58,280\nSo I might have a MacBook.\n\n131\n00:06:58,280 --> 00:06:59,950\nI might have a Mac mini.\n\n132\n00:06:59,950 --> 00:07:02,120\nI might have an iPad or an iPhone.\n\n133\n00:07:02,120 --> 00:07:06,200\nAnd I want to connect to some shared\nservice on this server right.\n\n134\n00:07:06,200 --> 00:07:08,020\nFor example, messaging.\n\n135\n00:07:08,020 --> 00:07:10,440\nEvery Mac comes with the messaging app.\n\n136\n00:07:10,440 --> 00:07:13,640\nAnd messaging app will reach\nout to Apple's servers and\n\n137\n00:07:13,640 --> 00:07:16,280\nyou can chat via the internet, right.\n\n138\n00:07:16,280 --> 00:07:18,020\nBut what if I want a secure network?\n\n139\n00:07:18,020 --> 00:07:20,680\nI don't want these chat messages\ngoing out to the internet.\n\n140\n00:07:20,680 --> 00:07:25,590\nI can set up a Mac OS server,\nhave it running on my network, and\n\n141\n00:07:25,590 --> 00:07:27,780\nmy clients can connect to it, instead.\n\n142\n00:07:27,780 --> 00:07:30,610\nNot go out to the internet, now all\nthe chat messages stay internal, and\n\n143\n00:07:30,610 --> 00:07:31,490\nthey stay more secure.\n\n144\n00:07:32,620 --> 00:07:36,370\nIf I want my people to be able to\nuse that, I've got to have a server,\n\n145\n00:07:36,370 --> 00:07:39,770\nthat's running as a messaging server,\nand it needs to be on.\n\n146\n00:07:39,770 --> 00:07:41,580\nIt needs to be up and running.\n\n147\n00:07:41,580 --> 00:07:44,580\nIf I power that server off what\nhappens to my messaging server?\n\n148\n00:07:44,580 --> 00:07:45,270\nIt's off.\n\n149\n00:07:45,270 --> 00:07:50,320\nThe clients can't get to it, so we need\nto make sure our server is always on, and\n\n150\n00:07:50,320 --> 00:07:51,830\nalways reachable.\n\n151\n00:07:51,830 --> 00:07:55,460\nThere's two problems with the default\nconfiguration that can stop that.\n\n152\n00:07:55,460 --> 00:07:57,542\nProblem number one, power saving.\n\n153\n00:07:57,542 --> 00:07:58,167\nAll right?\n\n154\n00:07:58,167 --> 00:08:03,088\nIf we go into our energy saver, so if I\njust jump into my system preferences And\n\n155\n00:08:03,088 --> 00:08:04,543\ngo into energy saver.\n\n156\n00:08:04,543 --> 00:08:09,347\nThe default configuration for a Mac,\nand this is for a Mac Pro desktop or\n\n157\n00:08:09,347 --> 00:08:11,070\na MacBook laptop.\n\n158\n00:08:11,070 --> 00:08:14,410\nThey both come set up\nwhere they'll go to sleep,\n\n159\n00:08:14,410 --> 00:08:17,770\nafter a certain period of time even\nif they're on a power adapter.\n\n160\n00:08:17,770 --> 00:08:21,600\nHere you can see I'm on a MacBook so\nit shows battery and power adapter,\n\n161\n00:08:21,600 --> 00:08:25,630\neven on Power Adapter it's set for the\ncomputer to go to sleep after ten minutes.\n\n162\n00:08:25,630 --> 00:08:30,820\nNow, if this is my server and it goes to\nsleep, now nobody can connect to it and\n\n163\n00:08:30,820 --> 00:08:32,490\nit's not a very good server anymore,\nis it?\n\n164\n00:08:33,520 --> 00:08:38,830\nOn your server, you'll typically want to\ndisable your power saving features, okay?\n\n165\n00:08:38,830 --> 00:08:40,340\nI'm just gonna slide that\nall the way over to never.\n\n166\n00:08:40,340 --> 00:08:43,100\nAnd it's gonna warn me saying ooh,\nyou might not wanna do that.\n\n167\n00:08:43,100 --> 00:08:45,280\nWell, I do so I'll say okay.\n\n168\n00:08:45,280 --> 00:08:47,160\nAll right, so\nI'll just bump that over to never.\n\n169\n00:08:47,160 --> 00:08:50,930\nNow, the display sleep,\nI'm okay with the display going off.\n\n170\n00:08:50,930 --> 00:08:52,510\nI don't need to keep the screen on.\n\n171\n00:08:52,510 --> 00:08:54,230\nI'm not gonna be sitting at this machine.\n\n172\n00:08:54,230 --> 00:08:55,390\nIt's gonna be a server.\n\n173\n00:08:55,390 --> 00:08:58,010\nI'll stick it in a closet somewhere and\nforget about it, right?\n\n174\n00:08:58,010 --> 00:09:01,720\nI'll leave that set, but I'm gonna go\nahead and move the computer sleep,\n\n175\n00:09:01,720 --> 00:09:04,770\nall the way over so\nthe computer doesn't turn off all right.\n\n176\n00:09:04,770 --> 00:09:06,900\nAnother thing to think about\nis this option right here.\n\n177\n00:09:06,900 --> 00:09:09,850\nPut the hard disks to sleep when possible.\n\n178\n00:09:09,850 --> 00:09:11,300\nI like to leave this option on.\n\n179\n00:09:11,300 --> 00:09:14,400\nI leave it on because if the hard drives\naren't being used, you can put them to\n\n180\n00:09:14,400 --> 00:09:17,740\nsleep and it'll usually increase\nthe longevity of the drives.\n\n181\n00:09:17,740 --> 00:09:18,530\nIt'll make them last longer.\n\n182\n00:09:19,780 --> 00:09:24,660\nBut, if you're running a database\nserver or an email server, every time\n\n183\n00:09:24,660 --> 00:09:28,050\na new email comes in, if those drives\nare asleep, it's gotta spin them up.\n\n184\n00:09:28,050 --> 00:09:30,840\nWell, if they're SSD,\nthat's no big deal, right?\n\n185\n00:09:30,840 --> 00:09:33,790\nNo problem there at all,\njust off they go, powered up.\n\n186\n00:09:33,790 --> 00:09:37,450\nBut if it's a magnetic drive,\nif it's the traditional hard drive,\n\n187\n00:09:37,450 --> 00:09:40,260\nit's gotta spin those platters and\nthat takes a second.\n\n188\n00:09:40,260 --> 00:09:42,610\nAnd that can make the server seem slow.\n\n189\n00:09:42,610 --> 00:09:47,160\nIf performance is a concern, if I want\nthings to be running as fast as possible.\n\n190\n00:09:47,160 --> 00:09:48,180\nWe'll want to turn that option off.\n\n191\n00:09:49,270 --> 00:09:52,300\nNow the hard drives will\nstay spun up all the time.\n\n192\n00:09:52,300 --> 00:09:55,760\nAnd they'll be ready to rock\nthe moment that I need them.\n\n193\n00:09:55,760 --> 00:09:58,830\nThat's a big change from the power\nsaving settings that we'd normally want\n\n194\n00:09:58,830 --> 00:10:01,310\non a desktop or laptop but\nsomething that we need on a server.\n\n195\n00:10:02,800 --> 00:10:05,200\nAll right, so\nI've got that set, there we go,\n\n196\n00:10:05,200 --> 00:10:08,510\ncomputers not gonna sleep,\nand we're good to go.\n\n197\n00:10:08,510 --> 00:10:12,160\nThe other thing, the other setting I need\nto be aware of is in my network settings.\n\n198\n00:10:13,210 --> 00:10:15,720\nBy default your Mac will be set to use\n\n199\n00:10:15,720 --> 00:10:18,470\nDHCP the Dynamic Host\nConfiguration Protocol.\n\n200\n00:10:18,470 --> 00:10:21,470\nWhen it boots up, it's gonna send\na message at it's network adapter.\n\n201\n00:10:21,470 --> 00:10:24,250\nAnd it's gonna say hey\nI need an IP address.\n\n202\n00:10:24,250 --> 00:10:27,150\nAnd somebody on the network,\nwill respond back and\n\n203\n00:10:27,150 --> 00:10:28,920\nsay, here's an IP address you can use.\n\n204\n00:10:28,920 --> 00:10:30,360\nGood luck.\n\n205\n00:10:30,360 --> 00:10:32,490\nWell that's fine for\na desktop or a laptop.\n\n206\n00:10:32,490 --> 00:10:35,700\nWe don't really care what IP they have,\nas long as they have an IP.\n\n207\n00:10:36,830 --> 00:10:41,720\nBut on my server, if the IP address\nof a server keeps changing,\n\n208\n00:10:41,720 --> 00:10:43,440\nthat can cause problems.\n\n209\n00:10:43,440 --> 00:10:46,180\nNow, on my local network it's not\nsuch a big deal, cuz your Apples,\n\n210\n00:10:46,180 --> 00:10:48,140\nthey all run the Bonjour protocol.\n\n211\n00:10:48,140 --> 00:10:49,090\nThey'll find each other.\n\n212\n00:10:50,230 --> 00:10:53,110\nBut if I'm providing services for\npeople out on the Internet or\n\n213\n00:10:53,110 --> 00:10:57,010\nout onto other networks if I have more\nthan one network inside of my company\n\n214\n00:10:57,010 --> 00:10:59,980\nI don't want the IP address\nof my server to change.\n\n215\n00:10:59,980 --> 00:11:02,750\nSo a good idea,\nsomething you normally want to do,\n\n216\n00:11:02,750 --> 00:11:06,740\nis change your server over to\nhaving a static IP address.\n\n217\n00:11:06,740 --> 00:11:09,660\nStatic IP, that's just where we\nmanually assign the address,\n\n218\n00:11:09,660 --> 00:11:12,112\nso it will always be the same.\n\n219\n00:11:12,112 --> 00:11:14,379\nI'm gonna go down here into\nmy network system preference.\n\n220\n00:11:16,480 --> 00:11:20,510\nAnd here's my Ethernet adapter and\nyou can see I'm using DHCP right now.\n\n221\n00:11:20,510 --> 00:11:25,300\nI'm gonna go ahead and\nswitch that, to a static address.\n\n222\n00:11:25,300 --> 00:11:28,360\nI can see the address that I got here\nfrom the DHCP server I'm gonna give it\n\n223\n00:11:28,360 --> 00:11:29,600\na different one.\n\n224\n00:11:29,600 --> 00:11:33,660\nI'm gonna go up here and\nI'll change this to manual assignment, and\n\n225\n00:11:33,660 --> 00:11:36,260\nI'll give it an IP.\n\n226\n00:11:36,260 --> 00:11:39,419\nI'll make this one maybe 10.1.230.248.\n\n227\n00:11:39,419 --> 00:11:42,456\nNow I need to check with my network\nadmins to find an available IP,\n\n228\n00:11:42,456 --> 00:11:44,899\nI don't wanna take one that\nsomebody else is using.\n\n229\n00:11:44,899 --> 00:11:48,580\nBut I'll put that one, and\nset my default gateway.\n\n230\n00:11:48,580 --> 00:11:51,850\nNow, right here I can set\nmost of what I need, but\n\n231\n00:11:51,850 --> 00:11:53,810\nthere might be some other\nthings that I need to set.\n\n232\n00:11:53,810 --> 00:11:55,300\nI might need to dive into Advanced.\n\n233\n00:11:56,460 --> 00:12:00,570\nBecause in Advanced,\nthis is where we can set our DNS servers.\n\n234\n00:12:00,570 --> 00:12:03,130\nWho we are going to do name\nlook-ups against, right?\n\n235\n00:12:03,130 --> 00:12:06,810\nAnd right now I'm doing a name lookup\nagainst our own server here in the studio.\n\n236\n00:12:06,810 --> 00:12:08,950\nBut, I'm gonna change that eventually.\n\n237\n00:12:08,950 --> 00:12:12,400\nMaybe I want this server\nto be a DNS server, right.\n\n238\n00:12:12,400 --> 00:12:14,910\nAnd, if that's the case I may\nneed to change these values so\n\n239\n00:12:14,910 --> 00:12:16,770\nI look at myself instead.\n\n240\n00:12:16,770 --> 00:12:18,314\nBut, I'll leave them\nas they are right now.\n\n241\n00:12:18,314 --> 00:12:22,318\nImportant part,\nis that whenever I reboot this computer,\n\n242\n00:12:22,318 --> 00:12:27,453\nI now know it will always have\n10.1.230.248 as it's address.\n\n243\n00:12:27,453 --> 00:12:29,626\nThat's always going to be it's IP address.\n\n244\n00:12:29,626 --> 00:12:33,735\nWith DHCP, it could change from time\nto time, and that would be bad.\n\n245\n00:12:33,735 --> 00:12:35,581\nIt wouldn't be the end of the world.\n\n246\n00:12:35,581 --> 00:12:37,510\nMost of your services would be fine.\n\n247\n00:12:37,510 --> 00:12:40,250\nBut, especially your Internet services or\nthe ones that connect\n\n248\n00:12:40,250 --> 00:12:43,720\nacross multiple networks, those are the\nones that can start to be problematic.\n\n249\n00:12:43,720 --> 00:12:44,340\nAll right.\n\n250\n00:12:44,340 --> 00:12:48,360\nYou'll especially see that with websites,\nif you can do a Web server, and email.\n\n251\n00:12:48,360 --> 00:12:50,080\nRight?\nThose are the two big ones that\n\n252\n00:12:50,080 --> 00:12:51,685\nhave problems with changing IP's.\n\n253\n00:12:52,850 --> 00:12:54,110\nAll right.\nI'm now set to Manual.\n\n254\n00:12:54,110 --> 00:12:58,400\nI'll go ahead and say OK to that,\nand we'll just hit Apply.\n\n255\n00:12:58,400 --> 00:13:00,750\nNow I've got a nice static IP address.\n\n256\n00:13:00,750 --> 00:13:01,440\nAnd I'm in business.\n\n257\n00:13:01,440 --> 00:13:06,100\nNow, it's a good idea to test that static\nIP address to make sure it's working.\n\n258\n00:13:06,100 --> 00:13:09,230\nWe wanna test it now, because if\nI'm installing the server app and\n\n259\n00:13:09,230 --> 00:13:13,160\nI have a problem, I want to know that\nit's actually a server app problem and\n\n260\n00:13:13,160 --> 00:13:15,240\nnot a network infrastructure problem.\n\n261\n00:13:15,240 --> 00:13:16,382\nI'm just gonna do a quick test.\n\n262\n00:13:16,382 --> 00:13:19,990\nI'm gonna fire up my network utility and\n\n263\n00:13:19,990 --> 00:13:22,700\nI'm just gonna make sure that\nI can still ping my router.\n\n264\n00:13:23,842 --> 00:13:27,200\nI'm gonna ping to that one and I can see\nthat I'm able to get to the router just\n\n265\n00:13:27,200 --> 00:13:30,770\nfind and I'll try and\nping out to the Internet.\n\n266\n00:13:30,770 --> 00:13:34,040\nI'll ping some DNS server out there.\n\n267\n00:13:34,040 --> 00:13:35,170\nAnd I'm getting out to the Internet.\n\n268\n00:13:36,320 --> 00:13:40,100\nAnd then I'll just test the DNS\nserver by going to the lookup tab and\n\n269\n00:13:40,100 --> 00:13:42,909\ndoing a lookup for\nsomebody like Apple.com.\n\n270\n00:13:42,909 --> 00:13:47,340\nI'll just go lookup there and\nactually that failed for me so\n\n271\n00:13:47,340 --> 00:13:48,630\nI've got a problem with my DNS.\n\n272\n00:13:48,630 --> 00:13:52,700\nSee how it says lookup started, it went to\nlookup that address and I got a failure.\n\n273\n00:13:54,170 --> 00:13:57,640\nNow I guess it could be a fluke like\nmaybe it's just that one address,\n\n274\n00:13:57,640 --> 00:14:01,380\nI'll try another one but,\nnope, I've got a DNS problem.\n\n275\n00:14:01,380 --> 00:14:05,430\nThese are the things that we need to\nlocate prior to installing server, right.\n\n276\n00:14:05,430 --> 00:14:08,220\nLet me just go change those DNS servers,\nwe'll switch servers.\n\n277\n00:14:09,600 --> 00:14:13,280\nI'll jump back into my network\nsystem preference, and\n\n278\n00:14:13,280 --> 00:14:15,989\ninto my Adapter, I'll have to\ngo into the advanced settings.\n\n279\n00:14:17,010 --> 00:14:18,870\nAnd that's where I'll find DNS.\n\n280\n00:14:18,870 --> 00:14:20,090\nAnd look at that.\n\n281\n00:14:20,090 --> 00:14:23,820\nNow, this is something I've seen\nmany times throughout the years.\n\n282\n00:14:23,820 --> 00:14:28,600\nThere's something that happens when\nyou switch from DHCP to manual, where\n\n283\n00:14:28,600 --> 00:14:33,690\nwith DHCP you learn your IP, but you also\nlearn your DNS servers and your suffixes.\n\n284\n00:14:33,690 --> 00:14:34,520\nAll right.\n\n285\n00:14:34,520 --> 00:14:38,610\nBut when you switch, the first time you\ngo, they show up here on the screen.\n\n286\n00:14:38,610 --> 00:14:40,320\nAnd then after you apply, they disappear.\n\n287\n00:14:40,320 --> 00:14:41,260\nAnd that's what happened to me.\n\n288\n00:14:41,260 --> 00:14:42,740\nMy DNS servers are gone.\n\n289\n00:14:42,740 --> 00:14:44,990\nIf I hadn't tested, I wouldn't\nhave known that until later, and\n\n290\n00:14:44,990 --> 00:14:46,640\nthen I'd have a number of problems.\n\n291\n00:14:46,640 --> 00:14:48,650\nI'm gonna go in here and\njust repopulate those.\n\n292\n00:14:49,780 --> 00:14:52,980\nI'll put those values in, and\nI can set my search domain if I need it.\n\n293\n00:14:52,980 --> 00:14:53,780\nI don't really need it,\n\n294\n00:14:53,780 --> 00:14:57,360\nbut I'll go ahead and\nput it in anyway we'll just add those in.\n\n295\n00:14:58,610 --> 00:15:01,930\nAnd then I'll go ahead and apply that,\nand then we should be in business.\n\n296\n00:15:03,030 --> 00:15:06,830\nI'll jump back to my network utility,\nand we'll retry that look up.\n\n297\n00:15:06,830 --> 00:15:10,210\nI was trying to look up Apple.com.\n\n298\n00:15:10,210 --> 00:15:12,260\nAnd there we go,\nnow I'm getting an address.\n\n299\n00:15:12,260 --> 00:15:13,540\nOkay?\n\n300\n00:15:13,540 --> 00:15:14,880\nI've taken care of a few things.\n\n301\n00:15:14,880 --> 00:15:17,330\nNow, let's recap those\na little bit real quick.\n\n302\n00:15:17,330 --> 00:15:19,280\nUninstall software you don't need.\n\n303\n00:15:19,280 --> 00:15:21,420\nAny extra software that's\non there get it off,\n\n304\n00:15:21,420 --> 00:15:23,345\nuninstall any software you don't need.\n\n305\n00:15:23,345 --> 00:15:28,320\nSet a static IP address to make sure\nthat you're always able to get that\n\n306\n00:15:28,320 --> 00:15:32,080\nserver on the same address,\nand disable your sleep mode.\n\n307\n00:15:32,080 --> 00:15:34,310\nDon't let the system go to sleep,\notherwise people won't get to it,\n\n308\n00:15:34,310 --> 00:15:35,200\nall right?\n\n309\n00:15:35,200 --> 00:15:37,850\nNow, there's a lot more you could\ndo that I'm not gonna tackle here.\n\n310\n00:15:37,850 --> 00:15:39,560\nWe'll talk about it in later episodes.\n\n311\n00:15:39,560 --> 00:15:42,940\nThings like turning on the firewall,\nto help protect the system.\n\n312\n00:15:42,940 --> 00:15:45,790\nYour Mac has a built-in software firewall.\n\n313\n00:15:45,790 --> 00:15:47,350\nIt's disabled by default.\n\n314\n00:15:48,450 --> 00:15:51,274\nIf I go into my system preferences,\nand I go to security and\n\n315\n00:15:51,274 --> 00:15:55,193\nprivacy, There's a firewall\ntab right there.\n\n316\n00:15:55,193 --> 00:15:57,292\nAnd you see how the firewall's off?\n\n317\n00:15:57,292 --> 00:15:59,697\nIf this server's gonna be\nexposed to the Internet,\n\n318\n00:15:59,697 --> 00:16:02,167\nI really need to turn that on and\nlock the system down.\n\n319\n00:16:02,167 --> 00:16:04,050\nBut we'll see that in another episode.\n\n320\n00:16:04,050 --> 00:16:05,620\nThese are other things\nwe might need to do.\n\n321\n00:16:05,620 --> 00:16:08,564\nBut the ones that I've shown you so far,\nthose are the ones that you really,\n\n322\n00:16:08,564 --> 00:16:09,300\nreally should do.\n\n323\n00:16:09,300 --> 00:16:11,730\nAll right.\n\n324\n00:16:11,730 --> 00:16:14,710\nNow, unfortunately it won't give\nyou a warning if you don't do that.\n\n325\n00:16:14,710 --> 00:16:17,890\nIf you leave it on DHCP,\nif you leave it with sleep mode enabled.\n\n326\n00:16:17,890 --> 00:16:20,500\nDoesn't warn you it just assumes\nthat you know what you're doing.\n\n327\n00:16:20,500 --> 00:16:25,320\nAnd maybe that's true maybe it isn't,\nbut we need to take care of that.\n\n328\n00:16:25,320 --> 00:16:29,850\nOnce that's done now I just\nneed to install the server app.\n\n329\n00:16:29,850 --> 00:16:32,340\nAnd fortunately installing\nthe server app is really easy.\n\n330\n00:16:32,340 --> 00:16:36,440\nIf you go into your app store\nyou can do a quick search and\n\n331\n00:16:36,440 --> 00:16:40,990\nyou'll find if you just search for the\nword server It'll turn up in the results.\n\n332\n00:16:40,990 --> 00:16:46,820\nI'll just do a quick search for server,\nand there it is, OS X Server, all right?\n\n333\n00:16:46,820 --> 00:16:48,650\nAnd if I click on it,\nI can see that it's $19.99, and\n\n334\n00:16:48,650 --> 00:16:51,480\nI can purchase that, and\nwe'll be good to go.\n\n335\n00:16:51,480 --> 00:16:55,760\nNow, when you buy it, you are buying it\nfor the current version of the operating\n\n336\n00:16:55,760 --> 00:17:00,710\nsystem, so I'm in Yosemite and\nwhat's new in version 4.0.3?\n\n337\n00:17:00,710 --> 00:17:04,810\nVersion 4 is the Yosemite version\nof Server and so I can buy that and\n\n338\n00:17:04,810 --> 00:17:05,520\nI can install it.\n\n339\n00:17:05,520 --> 00:17:10,080\nNow, fortunately, once you bought it and\nit's attached to your account, you can log\n\n340\n00:17:10,080 --> 00:17:14,760\nin on as many machines as you want with\nyour App store account and install server.\n\n341\n00:17:14,760 --> 00:17:18,260\nSo, you don't have to buy this\n100 times to be on 100 servers.\n\n342\n00:17:18,260 --> 00:17:21,230\nYou just buy it once,\ninstall it over and over again.\n\n343\n00:17:21,230 --> 00:17:23,460\nSo I've bought this for myself.\n\n344\n00:17:23,460 --> 00:17:25,970\nActually, I bought it under\nmore than one account.\n\n345\n00:17:25,970 --> 00:17:28,330\nBut all I have to do to get\nthis installed is go and\n\n346\n00:17:28,330 --> 00:17:30,070\nsign in with one of those accounts.\n\n347\n00:17:30,070 --> 00:17:32,020\nActually, I don't remember\nif I'm signed in or not.\n\n348\n00:17:32,020 --> 00:17:32,820\nI am not.\n\n349\n00:17:32,820 --> 00:17:34,080\nSo let's do this.\n\n350\n00:17:34,080 --> 00:17:36,330\nLet's pause here for just a second,\nand I'm going to go and\n\n351\n00:17:36,330 --> 00:17:37,650\nget signed in with my account.\n\n352\n00:17:37,650 --> 00:17:41,070\nAnd then once I'm signed in,\nwe'll go ahead and jump in there, and\n\n353\n00:17:41,070 --> 00:17:42,610\nget a chance to see that\ninstallation process.\n\n354\n00:17:42,610 --> 00:17:44,570\nThis is really straightforward, all right?\n\n355\n00:17:44,570 --> 00:17:47,205\nSo let's pause here,\nwe'll be back in just a moment.\n\n356\n00:17:47,205 --> 00:17:54,503\n[SOUND] [SOUND] All right,\nwelcome back everybody.\n\n357\n00:17:54,503 --> 00:17:57,310\nSo during the break I just\nlogged in on my Apple ID.\n\n358\n00:17:57,310 --> 00:18:01,330\nAnd so now, when I go to that page of\nview the server app in the app store,\n\n359\n00:18:01,330 --> 00:18:02,550\ninstead of seeing dollar signs,\n\n360\n00:18:02,550 --> 00:18:07,120\nI now see the install button because I've\nalready purchased the app, all right?\n\n361\n00:18:07,120 --> 00:18:11,200\nNow, before I click that install button\nthere is one more thing I need to check.\n\n362\n00:18:11,200 --> 00:18:11,930\nAnd that's whether or\n\n363\n00:18:11,930 --> 00:18:16,310\nnot my computer meets the hardware\nrequirements to be able to install server.\n\n364\n00:18:16,310 --> 00:18:19,130\nNow, we kind of already\nknow that it does because\n\n365\n00:18:19,130 --> 00:18:21,330\nwe got to this screen in the first place.\n\n366\n00:18:21,330 --> 00:18:25,570\nThe OS X server itself,\ndoesn't have hardware requirements.\n\n367\n00:18:25,570 --> 00:18:27,000\nIt doesn't list any.\n\n368\n00:18:27,000 --> 00:18:29,930\nBut it's tied to the version\nof your operating system.\n\n369\n00:18:29,930 --> 00:18:33,920\nSo if I want to install this\nversion 4.03 of the server app is\n\n370\n00:18:33,920 --> 00:18:35,350\ntied to Yosemite 10.10.\n\n371\n00:18:35,350 --> 00:18:38,610\nSo the hardware requirements for\n\n372\n00:18:38,610 --> 00:18:43,060\nthe server are the same as the hardware\nrequirements for the base OS.\n\n373\n00:18:43,060 --> 00:18:45,840\nSo if your machine is\ncapable of running Yosemite\n\n374\n00:18:45,840 --> 00:18:48,660\nthen you're capable of\nrunning the server app.\n\n375\n00:18:48,660 --> 00:18:50,980\nNow, how do we know if its\ncapable of running Yosemite?\n\n376\n00:18:50,980 --> 00:18:55,040\nMaybe you've got a maverick server and\nyou're thinking of upgrading it to\n\n377\n00:18:55,040 --> 00:18:57,280\nYosemite and\nthe Yosemite version of the server app.\n\n378\n00:18:58,330 --> 00:19:02,050\nWell, you need to verify that your\nhardware is capable of doing it.\n\n379\n00:19:02,050 --> 00:19:04,790\nLet me bring up my show notes here.\n\n380\n00:19:04,790 --> 00:19:07,150\nI went ahead and\nput the requirements in the show notes.\n\n381\n00:19:07,150 --> 00:19:09,120\nThese are the show notes that\nI'll post with the episode.\n\n382\n00:19:09,120 --> 00:19:11,040\nYou guys will get these\na little bit later.\n\n383\n00:19:11,040 --> 00:19:13,450\nYosemite's hardware requirements\nare really straightforward.\n\n384\n00:19:13,450 --> 00:19:14,540\nAll right?\n\n385\n00:19:14,540 --> 00:19:17,690\nIf you want to install\nYosemite on your machine,\n\n386\n00:19:17,690 --> 00:19:22,510\nyou need to meet the hardware requirements\nand you need to have a system that\n\n387\n00:19:22,510 --> 00:19:27,426\nwas capable of running Snow Leopard\nv10.6.8 or higher, right?\n\n388\n00:19:27,426 --> 00:19:28,650\nIf you want to do the upgrade,\n\n389\n00:19:28,650 --> 00:19:32,080\nyou can't upgrade a machine that's running\nsomething older than Snow Leopard on it.\n\n390\n00:19:32,080 --> 00:19:33,780\nYou can only upgrade Snow Leopard and\nhigher, but\n\n391\n00:19:33,780 --> 00:19:38,600\nyou can still do a clean install, if you\nwant, even if you're running an older OS.\n\n392\n00:19:38,600 --> 00:19:40,540\nThing is, you have to have the hardware.\n\n393\n00:19:40,540 --> 00:19:42,460\nYou have to have at least 2 GB of ram and\n\n394\n00:19:42,460 --> 00:19:45,600\nat least 8 GB of hard drive space,\nall right?\n\n395\n00:19:45,600 --> 00:19:48,400\nThat's what you've got to have\navailable on your system.\n\n396\n00:19:48,400 --> 00:19:49,830\nIf you want to install Yosemite.\n\n397\n00:19:49,830 --> 00:19:53,920\nNotice it doesn't list things like\nCPU power, or network, or whatever.\n\n398\n00:19:53,920 --> 00:19:56,020\nWell, it'll run, it'll just run slow.\n\n399\n00:19:56,020 --> 00:19:57,910\nAnd if you're okay with that,\nthen that's fine.\n\n400\n00:19:57,910 --> 00:20:01,430\nSo it's really flexible here\non the hardware requirements.\n\n401\n00:20:01,430 --> 00:20:05,470\nThe officially supported hardware, though,\nis a little bit more restrictive, right?\n\n402\n00:20:05,470 --> 00:20:11,450\nYou'll see that they don't support any\nmachines made in early 2007 or earlier.\n\n403\n00:20:11,450 --> 00:20:13,230\nIt's all mid 2007 or newer.\n\n404\n00:20:13,230 --> 00:20:16,080\nWell that was eight years ago.\n\n405\n00:20:16,080 --> 00:20:19,240\nSo if your hardware was made\nin the last eight years,\n\n406\n00:20:19,240 --> 00:20:23,070\nit should be able to run\nthe Yosemite server app.\n\n407\n00:20:23,070 --> 00:20:24,650\nNow, do you want to do that?\n\n408\n00:20:24,650 --> 00:20:25,650\nNot necessarily.\n\n409\n00:20:25,650 --> 00:20:27,230\nSo use this as a guideline.\n\n410\n00:20:27,230 --> 00:20:31,390\nI don't want to have an old slow server,\nbut sometimes it does make sense.\n\n411\n00:20:31,390 --> 00:20:36,150\nMaybe I've got an old Mac Pro that I don't\nneed it any more, I'm not using it for\n\n412\n00:20:36,150 --> 00:20:37,010\nanything else.\n\n413\n00:20:37,010 --> 00:20:40,030\nMaybe I'll turn it into a server and\nstick it in a corner of the office and\n\n414\n00:20:40,030 --> 00:20:41,940\nhave it running as a caching server.\n\n415\n00:20:41,940 --> 00:20:44,520\nDoesn't take a lot of CPU\nto be a caching server.\n\n416\n00:20:44,520 --> 00:20:47,130\nIt'd be a great way to\nreuse that hardware.\n\n417\n00:20:47,130 --> 00:20:50,390\nSo, even some of your\nolder hardware can be\n\n418\n00:20:50,390 --> 00:20:52,530\nreinvigorated as a server\nif that's what you want.\n\n419\n00:20:54,010 --> 00:20:57,100\nBut assuming we meet the requirements\nwe'll be able to hit this install button,\n\n420\n00:20:57,100 --> 00:20:58,900\notherwise we won't be\nable to do the install.\n\n421\n00:20:58,900 --> 00:21:00,840\nWhen you click on it\nyou'll just get in error.\n\n422\n00:21:00,840 --> 00:21:03,390\nBut in my case I'm already\nrunning Yosemite so I know I meet\n\n423\n00:21:03,390 --> 00:21:07,760\nthe requirements, I can install and\nit's going to launch that installer.\n\n424\n00:21:07,760 --> 00:21:10,330\nNow if you were clicking on the dollar\nsigns obviously you got to go through\n\n425\n00:21:10,330 --> 00:21:13,820\nthe purchase process but\nonce that's done it's going to install and\n\n426\n00:21:13,820 --> 00:21:15,970\nit's really just\ndownloading the server app.\n\n427\n00:21:15,970 --> 00:21:18,990\nIt's not truly installing the server.\n\n428\n00:21:18,990 --> 00:21:21,920\nOnce this is done I'm not a server yet.\n\n429\n00:21:21,920 --> 00:21:26,540\nIt's just downloading the server app and\nthe server app contains a lot of\n\n430\n00:21:26,540 --> 00:21:30,730\nthe other additional functionality that\nwe will install a little bit later .The\n\n431\n00:21:30,730 --> 00:21:35,970\napp is about 400 megs in size and so, we\njust have to wait while it downloads that.\n\n432\n00:21:35,970 --> 00:21:38,040\nAnd, it'll throw it into\nthe Applications folder.\n\n433\n00:21:38,040 --> 00:21:40,430\nI can see it here in my\nLaunchPad; it's downloading.\n\n434\n00:21:40,430 --> 00:21:42,810\nYou know, it actually says it's 197 megs.\n\n435\n00:21:42,810 --> 00:21:47,580\nThat must be compressed, because once it's\ninstalled, it's actually a bit larger.\n\n436\n00:21:47,580 --> 00:21:49,590\nBut there it goes, so it's installing.\n\n437\n00:21:49,590 --> 00:21:53,000\nAnd as soon as it's done,\nI'll be ready to run it.\n\n438\n00:21:53,000 --> 00:21:57,840\nNow the first time we run it,\nit does a little automated setup and\n\n439\n00:21:57,840 --> 00:22:00,250\nthat's when you truly become a server.\n\n440\n00:22:00,250 --> 00:22:00,810\nRight?\n\n441\n00:22:00,810 --> 00:22:05,150\nRight now it's just an app and\nthat's important to remember because\n\n442\n00:22:05,150 --> 00:22:08,330\nyou might need to use this\non your own laptop or\n\n443\n00:22:08,330 --> 00:22:12,010\nown desktop if you want to\nremotely manage a server.\n\n444\n00:22:12,010 --> 00:22:14,580\nThe server app is really\nmade up of two pieces.\n\n445\n00:22:14,580 --> 00:22:19,210\nThere's the server services and\nthere's the management interface.\n\n446\n00:22:19,210 --> 00:22:23,426\nIf I have a server set up and it's stuck\nin a closet somewhere across the building.\n\n447\n00:22:23,426 --> 00:22:27,730\nI might want to run the server\nmanagement interface on my laptop and\n\n448\n00:22:27,730 --> 00:22:31,050\nconnect to that server on the back\nend to work with all those services.\n\n449\n00:22:31,050 --> 00:22:36,200\nI don't want my laptop to be a server, but\nI want to be able to connect to a server.\n\n450\n00:22:36,200 --> 00:22:41,290\nSo, we can use that server app not just on\nservers but on our own workstations too.\n\n451\n00:22:41,290 --> 00:22:45,000\nSo when it installs,\nit doesn't actually do anything just yet.\n\n452\n00:22:45,000 --> 00:22:47,330\nOther the management interface piece.\n\n453\n00:22:47,330 --> 00:22:50,090\nAnd then when I run it I can tell it,\nyeah I'm going to be a server.\n\n454\n00:22:50,090 --> 00:22:52,800\nAnd that's when it starts to install\nthe additional infrastructure and\n\n455\n00:22:52,800 --> 00:22:53,390\nget things ready.\n\n456\n00:22:54,460 --> 00:22:57,280\nThe other thing is, once it's installed,\nwe'll see the server app is made up of\n\n457\n00:22:57,280 --> 00:23:01,910\na number of different services, and\nthey're all turned off by default.\n\n458\n00:23:01,910 --> 00:23:04,980\nYou go through and\npick which services you want to run.\n\n459\n00:23:04,980 --> 00:23:07,350\nIt's got some 40 different services.\n\n460\n00:23:07,350 --> 00:23:09,910\nAnd the odds are,\nyou only need a handful of them.\n\n461\n00:23:09,910 --> 00:23:11,960\nI usually only use like four or five.\n\n462\n00:23:11,960 --> 00:23:15,680\nAnd so you can turn on the ones you want,\nand leave all the others off.\n\n463\n00:23:15,680 --> 00:23:20,390\nThat's important because it does what's\ncalled reducing your attack surface.\n\n464\n00:23:20,390 --> 00:23:23,320\nIf you have a bunch of services that\nare running that you don't need\n\n465\n00:23:23,320 --> 00:23:25,640\nthe odds are you're not paying\na lot of attention to them.\n\n466\n00:23:25,640 --> 00:23:29,400\nYou're probably not maintaining\ntheir security levels and attackers,\n\n467\n00:23:29,400 --> 00:23:32,800\nhackers can try and get in on those\nservices that aren't properly configured.\n\n468\n00:23:32,800 --> 00:23:33,580\nSo you just turn them off.\n\n469\n00:23:33,580 --> 00:23:35,760\nYou say well I don't even need that so\nlet's just turn it off and\n\n470\n00:23:35,760 --> 00:23:39,920\nnot use it and only turn on the ones\nthat you really care about.\n\n471\n00:23:39,920 --> 00:23:42,490\nI can see that my server\nhas finished installing and\n\n472\n00:23:42,490 --> 00:23:44,450\nif I browse in my finder here.\n\n473\n00:23:45,950 --> 00:23:47,260\nThere we go.\n\n474\n00:23:47,260 --> 00:23:50,100\nAnd, I go into Applications,\nI'll see the server app,\n\n475\n00:23:50,100 --> 00:23:53,470\nit's just right here in my\nApplications folder, right there.\n\n476\n00:23:53,470 --> 00:23:57,060\nAnd, we just pull up its information and\nI'm kind of curious about the file size.\n\n477\n00:23:57,060 --> 00:23:57,625\nThere we go.\n\n478\n00:23:57,625 --> 00:24:02,333\nSee how it's 470 megabytes or\n518 megabytes on disk?\n\n479\n00:24:02,333 --> 00:24:05,333\nSo, instead of 171 during the download,\nthat was the compressed file.\n\n480\n00:24:05,333 --> 00:24:08,970\nNow it's about 500 MB sitting there\non the disk and it's ready to rock.\n\n481\n00:24:10,490 --> 00:24:14,940\nIf I run it, here's where I'm gonna\nstart to see that initial setup wizard.\n\n482\n00:24:14,940 --> 00:24:18,340\nSo when this comes up its\ngiving me some choices here.\n\n483\n00:24:18,340 --> 00:24:23,680\nIt's saying to set up OS X server\non this map Mac click Continue.\n\n484\n00:24:23,680 --> 00:24:27,460\nBut if I don't want this to be a server,\nmaybe this my laptop and I wanna connect\n\n485\n00:24:27,460 --> 00:24:33,180\nto another server to manage it, instead\nof hitting continue, I need to hit other\n\n486\n00:24:33,180 --> 00:24:37,730\nMac, other Mac says I'm not the Mac\nthat I want the server to be one.\n\n487\n00:24:37,730 --> 00:24:40,180\nThere's other one that is,\nand you can click on it and\n\n488\n00:24:40,180 --> 00:24:42,940\ncan point to the other Mac and\nyou can start to remote manage it.\n\n489\n00:24:42,940 --> 00:24:45,590\nBut, we're gonna do a segment on remote\nmanagement a little bit later, so\n\n490\n00:24:45,590 --> 00:24:47,230\nwe'll table that for now.\n\n491\n00:24:47,230 --> 00:24:49,600\nBut for right now what I'm\ngonna do is hit continue and\n\n492\n00:24:49,600 --> 00:24:51,710\nwe're gonna set this up as a server.\n\n493\n00:24:51,710 --> 00:24:53,970\nWe have to sign off on\nour license agreement.\n\n494\n00:24:53,970 --> 00:24:58,340\nSo I'll agree on that and\npunch in my credentials.\n\n495\n00:24:58,340 --> 00:24:59,660\nI gotta comment in the chat room.\n\n496\n00:24:59,660 --> 00:25:01,750\nIf you're from a Microsoft\nbackground it's exactly\n\n497\n00:25:01,750 --> 00:25:05,170\nlike the Remote Server Administration\nTools, the RSAT in Windows.\n\n498\n00:25:05,170 --> 00:25:09,400\nWell, the server app is like that for\nMac, except it's all enclosed in this\n\n499\n00:25:09,400 --> 00:25:12,440\none little app which makes it\na lot easier to deal with.\n\n500\n00:25:12,440 --> 00:25:16,400\nAll right,\nnow notice how it's preparing services.\n\n501\n00:25:16,400 --> 00:25:20,120\nThis is where it's actually\ninstalling those server components.\n\n502\n00:25:20,120 --> 00:25:23,620\nSo before now it was really\njust the management interface.\n\n503\n00:25:23,620 --> 00:25:27,120\nNow it's preparing those other components,\nso I can be a true server.\n\n504\n00:25:27,120 --> 00:25:30,010\nAnd some really interesting\nstuff happens after this point.\n\n505\n00:25:30,010 --> 00:25:30,730\nRight.\n\n506\n00:25:30,730 --> 00:25:34,370\nOn a normal Macbook, when you go\ninto things like System Information,\n\n507\n00:25:34,370 --> 00:25:38,500\nyour system will show up as\njust Mac OS 10 or Mac OS X.\n\n508\n00:25:38,500 --> 00:25:39,090\nRight?\n\n509\n00:25:39,090 --> 00:25:43,790\nBut once this is done,\nit'll now show up as Mac OS 10 Server.\n\n510\n00:25:43,790 --> 00:25:45,250\nIt will actually change that.\n\n511\n00:25:45,250 --> 00:25:48,190\nIf we go into our Apple menu and\nabout this Mac, and\n\n512\n00:25:48,190 --> 00:25:51,567\nwe'll look at our settings in\nthe about this mac screen.\n\n513\n00:25:51,567 --> 00:25:52,999\nIt will change and so\n\n514\n00:25:52,999 --> 00:25:57,639\nsee like right now it just says\nOS X Yosemite 10 10 2 and so on.\n\n515\n00:25:57,639 --> 00:26:02,080\nIt's giving me that kind\nof generic information, and\n\n516\n00:26:02,080 --> 00:26:07,980\nif I go into system information and\ngo in here, it'll do the same right.\n\n517\n00:26:07,980 --> 00:26:10,660\nAs we look at what it's running.\n\n518\n00:26:10,660 --> 00:26:13,120\nwhich will actually be\nburied here under software.\n\n519\n00:26:13,120 --> 00:26:14,050\nAnd so it's showing there.\n\n520\n00:26:14,050 --> 00:26:16,950\nIt's all just showing as a regular system.\n\n521\n00:26:16,950 --> 00:26:17,720\nRight?\n\n522\n00:26:17,720 --> 00:26:20,810\nBut once this is done, if we start doing\nthings like browsing the networks,\n\n523\n00:26:20,810 --> 00:26:23,450\nit will actually show up as a server.\n\n524\n00:26:23,450 --> 00:26:27,070\nSo, well I guess I won't see myself in the\nfinder, but if somebody else sees me in\n\n525\n00:26:27,070 --> 00:26:31,770\nthe finder, then they'll show up that way\nthey'll actually see that is a server, and\n\n526\n00:26:31,770 --> 00:26:32,690\nnot a work station.\n\n527\n00:26:34,580 --> 00:26:36,860\nNow when it launches,\nthis is the screen that we get.\n\n528\n00:26:36,860 --> 00:26:38,020\nAll right.\n\n529\n00:26:38,020 --> 00:26:42,430\nThe screen is the management interface for\nMac OS server, and\n\n530\n00:26:42,430 --> 00:26:46,320\nit's laid out in a way that gives us\nthe basic information we need first.\n\n531\n00:26:46,320 --> 00:26:51,270\nYou're gonna notice some interesting\nproblems here, when I set up my desktop,\n\n532\n00:26:51,270 --> 00:26:53,660\nI installed and\nI created one user account by default.\n\n533\n00:26:53,660 --> 00:26:55,430\nI just called it Help Desk.\n\n534\n00:26:55,430 --> 00:26:58,350\nBut if we use my laptop as an example,\nI would have set it up.\n\n535\n00:26:58,350 --> 00:27:00,860\nAnd I would have created one\nuser account called Don Pezet.\n\n536\n00:27:00,860 --> 00:27:03,840\nWell, what does it name that computer?\n\n537\n00:27:03,840 --> 00:27:07,550\nWell in the case of my laptop\nit was called Don's Macbook Pro.\n\n538\n00:27:07,550 --> 00:27:09,470\nOr Don Pezet's Macbook Pro.\n\n539\n00:27:09,470 --> 00:27:12,330\nAnd that works out great if you're just\na regular user, and that's your laptop.\n\n540\n00:27:12,330 --> 00:27:13,380\nBut if it's your server,\n\n541\n00:27:13,380 --> 00:27:16,360\ndo you want the server to be\ncalled Don Pezet's Macbook Pro?\n\n542\n00:27:16,360 --> 00:27:18,490\nNo you want it to be given a server name,\n\n543\n00:27:18,490 --> 00:27:21,070\nsomething that identifies\nwhat that system does.\n\n544\n00:27:21,070 --> 00:27:23,640\nWell here i created\nan account called Help Desk.\n\n545\n00:27:23,640 --> 00:27:26,820\nAnd so\nit's named my server Help's iMac, and\n\n546\n00:27:26,820 --> 00:27:29,900\napparently I already had one, so\nthis one's become Help's iMac (2).\n\n547\n00:27:29,900 --> 00:27:32,942\nAll right, so\nI had some duplicate names I guess, so\n\n548\n00:27:32,942 --> 00:27:37,091\nthese name are not really all that\nintuitive, so renaming our server is\n\n549\n00:27:37,091 --> 00:27:42,630\nusually one of the next steps that we take\nto get our system ready to be functional.\n\n550\n00:27:42,630 --> 00:27:45,900\nNow I've got some green lights here, and\nthe green lights are letting me know that\n\n551\n00:27:45,900 --> 00:27:48,780\nthe server app is running,\nthat I'm up and I am a server.\n\n552\n00:27:49,840 --> 00:27:52,410\nAnd I can see the system information and\nversion number right here, so\n\n553\n00:27:52,410 --> 00:27:55,360\nI'm running a server 4.0.3.\n\n554\n00:27:55,360 --> 00:27:58,500\nBut if I look at my services over here.\n\n555\n00:27:58,500 --> 00:28:00,880\nHere's all the services\nthat are available.\n\n556\n00:28:00,880 --> 00:28:02,950\nThey're all turned off.\n\n557\n00:28:02,950 --> 00:28:05,710\nIf we go in here and\nclick on like, caching.\n\n558\n00:28:05,710 --> 00:28:07,950\nSee the swift right here shows off.\n\n559\n00:28:07,950 --> 00:28:09,080\nCalender's off.\n\n560\n00:28:09,080 --> 00:28:10,300\nContacts off, right.\n\n561\n00:28:10,300 --> 00:28:11,520\nAll of these are off.\n\n562\n00:28:11,520 --> 00:28:14,460\nAll the services are off by default.\n\n563\n00:28:14,460 --> 00:28:17,110\nAnd there's a lot more\nservices than these.\n\n564\n00:28:17,110 --> 00:28:19,700\nIf we go to advanced down here,\nthe advanced stuff is hidden.\n\n565\n00:28:19,700 --> 00:28:24,600\nIf I show that, I'll see even more\nthat are displayed, off my screen now,\n\n566\n00:28:25,940 --> 00:28:30,020\nand those are ones that\nare just as important to us.\n\n567\n00:28:30,020 --> 00:28:34,540\nThey provide DHCP, DNS and so on.\n\n568\n00:28:34,540 --> 00:28:36,990\nWe'll use those, but they're off too.\n\n569\n00:28:36,990 --> 00:28:39,919\nSo I am a server,\nthe server app is running, but\n\n570\n00:28:39,919 --> 00:28:42,637\nI'm not actually providing any services.\n\n571\n00:28:44,281 --> 00:28:47,470\nSo let's go back up here to the top, and\nI'm gonna start with renaming the system.\n\n572\n00:28:47,470 --> 00:28:49,680\nI just need to get it named properly.\n\n573\n00:28:49,680 --> 00:28:52,110\nSo there's two different\nnames that we use.\n\n574\n00:28:52,110 --> 00:28:54,860\nThere's the host name,\nand a computer name.\n\n575\n00:28:54,860 --> 00:28:56,500\nAnd these are the two\nthat I need to modify.\n\n576\n00:28:56,500 --> 00:28:59,660\nI need to get these kind of correct and\nin set to what I want my system to be.\n\n577\n00:29:01,190 --> 00:29:03,250\nNow what's the difference\nbetween these two names?\n\n578\n00:29:03,250 --> 00:29:07,380\nWell the first one, the host name,\nthat's your DNS name.\n\n579\n00:29:07,380 --> 00:29:11,660\nThat's the one that's gonna be resolvable\nto client that are on your network,\n\n580\n00:29:11,660 --> 00:29:13,130\nas well as other networks.\n\n581\n00:29:13,130 --> 00:29:15,350\nIf you have more than one\nLAN in your business, or\n\n582\n00:29:15,350 --> 00:29:17,540\nif you have people that\nare out there on the internet.\n\n583\n00:29:17,540 --> 00:29:21,750\nThey need to be able to look you up with\na fully qualified domain name, a FQDN.\n\n584\n00:29:21,750 --> 00:29:23,100\nAnd that's what this host name is.\n\n585\n00:29:24,470 --> 00:29:26,010\nIf they're on the local network though,\n\n586\n00:29:26,010 --> 00:29:28,130\nif they're right here in\nthe same network as your server.\n\n587\n00:29:28,130 --> 00:29:29,600\nThey can just use Bonjour.\n\n588\n00:29:29,600 --> 00:29:31,160\nAnd they can find your\ncomputer right there on\n\n589\n00:29:31,160 --> 00:29:33,580\nthe network without having to rely on DNS.\n\n590\n00:29:33,580 --> 00:29:36,130\nThat is where the computer name comes in.\n\n591\n00:29:36,130 --> 00:29:36,810\nAll right.\n\n592\n00:29:36,810 --> 00:29:40,710\nThey don't have to match, they can\nbe two completely separate things.\n\n593\n00:29:40,710 --> 00:29:45,570\nBut normally the computer name is\nmade up of part of the host name.\n\n594\n00:29:45,570 --> 00:29:46,790\nLet me show you what I mean.\n\n595\n00:29:46,790 --> 00:29:51,340\nSo my host name, if I go in here and edit\nthis, I'm just hitting the edit button off\n\n596\n00:29:51,340 --> 00:29:54,680\nhere to the right side, is gonna launch\na little wizard and we can go through and\n\n597\n00:29:54,680 --> 00:29:56,900\ngive it some basic\ninformation about the system.\n\n598\n00:29:56,900 --> 00:30:01,220\nAnd, it's gonna ask me for what I want the\ncomputer name to be and its domain name.\n\n599\n00:30:01,220 --> 00:30:02,870\nSo as I hit next,\n\n600\n00:30:02,870 --> 00:30:05,820\nI get right here where it's asking me\nhow this is going to be available.\n\n601\n00:30:06,870 --> 00:30:09,730\nIf my clients are only gonna\nbe on the local area network,\n\n602\n00:30:09,730 --> 00:30:11,570\nif they're all gonna be right here,\n\n603\n00:30:11,570 --> 00:30:15,900\nI don't really need to worry about that\ndomain name, and I can use a fake one.\n\n604\n00:30:15,900 --> 00:30:18,010\nAnd what it'll do is basically\nit'll take the computer name,\n\n605\n00:30:18,010 --> 00:30:21,685\nand it'll just stick the word\n.local on the end of it.\n\n606\n00:30:21,685 --> 00:30:24,460\n.local, that's not a real domain name.\n\n607\n00:30:24,460 --> 00:30:28,030\nIf you go out on the internet,\nyou never go to website.local.\n\n608\n00:30:28,030 --> 00:30:31,590\nYou go to website.com,\nwebsite.net, website.org, right?\n\n609\n00:30:31,590 --> 00:30:32,860\nThose kind of addresses.\n\n610\n00:30:32,860 --> 00:30:34,410\nYou don't go to website.local.\n\n611\n00:30:34,410 --> 00:30:37,070\nSo it's basically gonna give\nyou a fake extension because we\n\n612\n00:30:37,070 --> 00:30:37,970\ndon't care about that.\n\n613\n00:30:37,970 --> 00:30:39,390\nWe're not gonna need it.\n\n614\n00:30:39,390 --> 00:30:40,130\nEverybody's local.\n\n615\n00:30:41,180 --> 00:30:44,740\nBut if you say local network and\nVPN, that's a little different.\n\n616\n00:30:44,740 --> 00:30:47,640\nNow you've got your local users, and\nyou've got people who are building\n\n617\n00:30:47,640 --> 00:30:52,020\na virtual private network,\nan encrypted tunnel to your system.\n\n618\n00:30:52,020 --> 00:30:55,220\nWell that encrypted tunnel is\nnot the internet either, but\n\n619\n00:30:55,220 --> 00:30:58,340\nit is a different network, and\nwe need to identify it somehow.\n\n620\n00:30:58,340 --> 00:31:02,055\nAnd so\nit adds .private to the end of that.\n\n621\n00:31:02,055 --> 00:31:04,620\n.private is not valid out\non the internet either but\n\n622\n00:31:04,620 --> 00:31:06,420\nit is valid inside of your VPN tunnel.\n\n623\n00:31:06,420 --> 00:31:08,070\nSo just a way to\ndifferentiate the network.\n\n624\n00:31:09,120 --> 00:31:12,140\nBut the last option is internet.\n\n625\n00:31:12,140 --> 00:31:16,560\nI'm saying that I want this machine\nto be available to my local systems,\n\n626\n00:31:16,560 --> 00:31:18,910\nas well as people out\nthere on the internet.\n\n627\n00:31:18,910 --> 00:31:22,130\nAnd if people on the internet are gonna\nget to it, I'm gonna need DNS entries.\n\n628\n00:31:22,130 --> 00:31:24,700\nAnd we're gonna talk about\nDNS in a later episode.\n\n629\n00:31:24,700 --> 00:31:28,720\nBut I would need to provide a true\ninternet available fully qualified domain\n\n630\n00:31:28,720 --> 00:31:31,230\nname, for people on the internet\nto be able to find this system.\n\n631\n00:31:31,230 --> 00:31:33,220\nAnd there's a lot involved with that.\n\n632\n00:31:33,220 --> 00:31:34,920\nFor right now,\nI'm just gonna go local network.\n\n633\n00:31:36,340 --> 00:31:40,880\nAnd I'll hit next, and now it's gonna ask\nfor the computer name and the host name.\n\n634\n00:31:40,880 --> 00:31:42,860\nI know I chose edit my computer name.\n\n635\n00:31:42,860 --> 00:31:44,750\nOr no, actually, I chose it by host name.\n\n636\n00:31:44,750 --> 00:31:46,669\nBut it actually lets you\nmodify both of them.\n\n637\n00:31:46,669 --> 00:31:51,614\nI want my computer to\nbe called OSX-server1.\n\n638\n00:31:51,614 --> 00:31:52,751\nThat's what I want to name it.\n\n639\n00:31:52,751 --> 00:31:54,389\nThis is my first server.\n\n640\n00:31:54,389 --> 00:31:56,049\nIt's running Mac OS 10.\n\n641\n00:31:56,049 --> 00:31:58,833\nI want to name it OSX-server1.\n\n642\n00:31:58,833 --> 00:32:01,167\nSo I'm just gonna type\nthat in the computer name.\n\n643\n00:32:01,167 --> 00:32:06,542\nAnd notice when I did that, the host\nname It added .local to the end of it.\n\n644\n00:32:06,542 --> 00:32:08,042\nSo, it's just setting that up for me.\n\n645\n00:32:08,042 --> 00:32:10,490\nBut you can go and edit it, you can\ncall it whatever you want down here.\n\n646\n00:32:10,490 --> 00:32:18,110\nI might wanna call it bob.donnet.com or\nwhatever.\n\n647\n00:32:18,110 --> 00:32:19,100\nYou can call it whatever you want.\n\n648\n00:32:19,100 --> 00:32:23,410\nThese don't have to match, but we normally\ndo cuz it makes a little more sense.\n\n649\n00:32:23,410 --> 00:32:26,450\nAn example where you wouldn't,\nyou might have a website.\n\n650\n00:32:26,450 --> 00:32:30,840\nAnd the website might be www.itpro.tv.\n\n651\n00:32:30,840 --> 00:32:34,030\nWell, I don't wanna call my server www,\n\n652\n00:32:34,030 --> 00:32:39,190\nif I did that,\nif I gave it a computer name of www,\n\n653\n00:32:39,190 --> 00:32:43,270\nthe default here would've\nbeen to call it www.local.\n\n654\n00:32:43,270 --> 00:32:44,420\nI don't want it to be called that.\n\n655\n00:32:44,420 --> 00:32:45,950\nThat doesn't make a lot of sense.\n\n656\n00:32:45,950 --> 00:32:51,780\nSo, I might wanna say www.itpro.tv is\nthe name of the server on the internet.\n\n657\n00:32:51,780 --> 00:32:58,500\nBut internally,\nwe call it OSX-SERVER1, like that.\n\n658\n00:32:58,500 --> 00:33:00,130\nSo, that's why you can give\nit two different names.\n\n659\n00:33:00,130 --> 00:33:01,150\nIt makes a little more sense.\n\n660\n00:33:02,280 --> 00:33:10,224\nBut in my scenario, I'm just gonna call\nit osx-server1.local and there we go.\n\n661\n00:33:10,224 --> 00:33:14,520\nNow, if I didn't set a static address\nearlier, I can do that right now.\n\n662\n00:33:14,520 --> 00:33:16,630\nIt gives me the chance to go and\nedit my network address.\n\n663\n00:33:16,630 --> 00:33:19,710\nAnd it's just gonna take me to the system\npreference and we can assign that static.\n\n664\n00:33:19,710 --> 00:33:23,290\nSo, if you didn't do that earlier,\nhere's your chance to do it again.\n\n665\n00:33:23,290 --> 00:33:26,340\nWhen you're doing a DNS name\nthat's available on the internet,\n\n666\n00:33:26,340 --> 00:33:30,590\nyou really do need to have a static IP cuz\nthat name has to point to your address.\n\n667\n00:33:30,590 --> 00:33:34,730\nAnd if your address changes,\nhow does it know to repoint the name?\n\n668\n00:33:34,730 --> 00:33:36,515\nIt doesn't, so we need a static.\n\n669\n00:33:38,225 --> 00:33:40,090\nI'll go ahead and finish with that.\n\n670\n00:33:40,090 --> 00:33:41,500\nAnd now, it's gonna rename the system.\n\n671\n00:33:41,500 --> 00:33:45,110\nIt'll have to restart some services to be\nable to get the system to recognize that.\n\n672\n00:33:45,110 --> 00:33:48,200\nBut now, I'll have a nice new name that\nactually looks more like a server.\n\n673\n00:33:49,580 --> 00:33:52,920\nWe'll get that in a moment, it just\nusually doesn't take too terribly long.\n\n674\n00:33:52,920 --> 00:33:57,020\nWhile we wait on that,\nthe server is gonna be up and running and\n\n675\n00:33:57,020 --> 00:33:59,430\nI'll be able to enable my other systems.\n\n676\n00:33:59,430 --> 00:34:01,722\nSo, I start to turn on other features and\nso\n\n677\n00:34:01,722 --> 00:34:05,840\non, as soon as it's done,\nI don't have to run DNS on this system.\n\n678\n00:34:05,840 --> 00:34:07,850\nI can use DNS out there on Hover or\n\n679\n00:34:07,850 --> 00:34:12,690\nsomewhere else, it's up to you,\nbut I turned on these names.\n\n680\n00:34:12,690 --> 00:34:16,680\nIf I did a fully qualified domain name,\nI would need to go to my DNS server,\n\n681\n00:34:16,680 --> 00:34:21,500\nwherever that was, if it was hover.com or\nregister.com, some site like that, or\n\n682\n00:34:21,500 --> 00:34:25,875\nif it was an internal server, maybe we had\na Linux or Windows server that was DNS,\n\n683\n00:34:25,875 --> 00:34:29,077\nI'd need to go and\nadd that DNS record there to point back.\n\n684\n00:34:29,077 --> 00:34:32,305\nWe're gonna cover DNS in another episode\nthough and I'll show you how to set up\n\n685\n00:34:32,305 --> 00:34:36,275\nyour Mac to be the DNS server and\nit works really, really well.\n\n686\n00:34:36,275 --> 00:34:38,535\nIt runs BIND, it does a great job.\n\n687\n00:34:38,535 --> 00:34:40,085\nSo, you'll get a chance to see that.\n\n688\n00:34:40,085 --> 00:34:41,910\nBut right now, I can see that it's up.\n\n689\n00:34:41,910 --> 00:34:44,170\nNotice what it's saying\nhere in the third block.\n\n690\n00:34:44,170 --> 00:34:45,760\nI've got my host name and computer name.\n\n691\n00:34:45,760 --> 00:34:49,570\nThe third block says internet and\nit gives me an IP address.\n\n692\n00:34:49,570 --> 00:34:53,231\nIt says reachable at 209.251.159.179.\n\n693\n00:34:53,231 --> 00:34:55,450\nThat's not the IP address I gave it.\n\n694\n00:34:55,450 --> 00:34:57,370\nWhere's that IP address coming from?\n\n695\n00:34:57,370 --> 00:35:00,310\nWell, I gave it a private IP address.\n\n696\n00:35:00,310 --> 00:35:02,070\nAnd I'm going through a router, and\n\n697\n00:35:02,070 --> 00:35:05,790\nthe router is changing my\naddress to a public address.\n\n698\n00:35:05,790 --> 00:35:10,570\nAnd it figured out what my public address\nwas, and it's showing it right there.\n\n699\n00:35:10,570 --> 00:35:13,732\nSo, if I want somebody on\nthe internet to get to my computer,\n\n700\n00:35:13,732 --> 00:35:16,470\nI don't point them to 10.1.230.248.\n\n701\n00:35:16,470 --> 00:35:17,310\nThat's a private address.\n\n702\n00:35:17,310 --> 00:35:18,480\nThat won't work.\n\n703\n00:35:18,480 --> 00:35:22,040\nI point them to this IP\nout on the Internet.\n\n704\n00:35:22,040 --> 00:35:26,300\nAnd then, it says, no services available,\nthat's because I haven't turned any on.\n\n705\n00:35:26,300 --> 00:35:29,240\nAll of my services are off right now,\nunless I turn one on,\n\n706\n00:35:29,240 --> 00:35:31,580\nit's gonna say that right there,\nno services available.\n\n707\n00:35:31,580 --> 00:35:32,080\nLetting me know.\n\n708\n00:35:33,620 --> 00:35:35,860\nAnd you get a little details\nbutton over here on the right.\n\n709\n00:35:35,860 --> 00:35:37,920\nIt just gives you a little\nbit more information.\n\n710\n00:35:37,920 --> 00:35:39,360\nIf you had a lot of services,\n\n711\n00:35:39,360 --> 00:35:41,260\nyou won't be able to see them\nvery well in the main screen.\n\n712\n00:35:41,260 --> 00:35:42,370\nYou can see them all right here.\n\n713\n00:35:43,920 --> 00:35:47,210\nBut you also have the ability\nto disable that access.\n\n714\n00:35:48,520 --> 00:35:52,310\nMy system is showing that it's\naccessible to the internet right now.\n\n715\n00:35:52,310 --> 00:35:55,000\nIf I don't want that, I can hit disable.\n\n716\n00:35:55,000 --> 00:35:55,940\nAnd it's just gonna let me know.\n\n717\n00:35:55,940 --> 00:36:00,030\nIt says, are you sure you wanna disable\nchecking this server's reachability?\n\n718\n00:36:00,030 --> 00:36:03,460\nMy server's only gonna be available for\nlocal systems, so\n\n719\n00:36:03,460 --> 00:36:05,458\nI don't want anybody on\nthe internet getting to it.\n\n720\n00:36:05,458 --> 00:36:07,020\nI'm not gonna open it up on my firewall or\n\n721\n00:36:07,020 --> 00:36:11,540\nanything like that, so why bother\nchecking with what my public address is?\n\n722\n00:36:11,540 --> 00:36:12,490\nI can disable that.\n\n723\n00:36:12,490 --> 00:36:14,590\nAnd that's gonna stop it.\n\n724\n00:36:14,590 --> 00:36:16,760\nAnd now, we get reachability unknown.\n\n725\n00:36:16,760 --> 00:36:21,850\nAnd that's fine for me because this isn't\ngonna be available from the internet.\n\n726\n00:36:21,850 --> 00:36:24,820\nIf I had a firewall that was blocking that\nconnection, I actually get an error here.\n\n727\n00:36:24,820 --> 00:36:28,280\nAnd it will fill up your error logs\nwith junk that you don't care about.\n\n728\n00:36:28,280 --> 00:36:31,080\nSo, if the machine's not gonna\nbe available to the internet,\n\n729\n00:36:31,080 --> 00:36:32,100\njust disable that check.\n\n730\n00:36:32,100 --> 00:36:33,830\nGo into the details there, disable it,\n\n731\n00:36:33,830 --> 00:36:36,414\nand that'll save you a lot of headaches\nto think through a lot of files.\n\n732\n00:36:39,750 --> 00:36:41,490\nThe rest of this is all\npretty self explanatory.\n\n733\n00:36:41,490 --> 00:36:44,610\nWe just get our overall\nkind of view of the server.\n\n734\n00:36:44,610 --> 00:36:48,230\nWe do have a few extra tabs up here,\nthough, that are kind of important.\n\n735\n00:36:48,230 --> 00:36:53,030\nIf I go to settings, I can see a few\nextra options that are available.\n\n736\n00:36:53,030 --> 00:36:55,340\nAllow remote log in using SSH.\n\n737\n00:36:56,440 --> 00:37:01,130\nBy default, if I want to remotely manage\nthis system, I have to use the server app.\n\n738\n00:37:01,130 --> 00:37:03,600\nWell, what if I'm on a computer\nthat doesn't have a server app.\n\n739\n00:37:03,600 --> 00:37:07,320\nWell, you could drop to the command\nline and you could use SSH to connect.\n\n740\n00:37:07,320 --> 00:37:10,660\nIt's disabled by default,\nyou could turn it on here.\n\n741\n00:37:10,660 --> 00:37:12,390\nSame thing goes for screen sharing,\n\n742\n00:37:12,390 --> 00:37:16,220\nremote administration using the server\napp, and Apple push notifications.\n\n743\n00:37:16,220 --> 00:37:19,150\nAll of these are different kinds of\ncommunications that come from the network.\n\n744\n00:37:19,150 --> 00:37:21,562\nYou can turn those on and off.\n\n745\n00:37:21,562 --> 00:37:24,767\nWe're gonna look more at remote\nadministration in another segment, so\n\n746\n00:37:24,767 --> 00:37:26,350\ndon't worry, we will get to that.\n\n747\n00:37:26,350 --> 00:37:29,450\nBut these options are all off by default.\n\n748\n00:37:29,450 --> 00:37:30,110\nI've got to turn that on.\n\n749\n00:37:31,340 --> 00:37:34,226\nBut the one that I really wanted to point\nout that was this last option right here,\n\n750\n00:37:34,226 --> 00:37:34,790\nservice data.\n\n751\n00:37:35,790 --> 00:37:40,250\nRight now, all of my services\nare storing their data on Macintosh HD,\n\n752\n00:37:40,250 --> 00:37:42,230\nmy main hard drive.\n\n753\n00:37:42,230 --> 00:37:44,180\nThe same hard drive as\nmy operating system.\n\n754\n00:37:45,660 --> 00:37:48,900\nNow, when you run services\nlike file sharing,\n\n755\n00:37:48,900 --> 00:37:51,640\npeople can start loading\ndata up to the system.\n\n756\n00:37:51,640 --> 00:37:55,430\nWell, if that data's being stored on\nthe same drive as my operating system, and\n\n757\n00:37:55,430 --> 00:37:59,840\nsomebody loads so much data it fills\nthe hard drive, what's gonna happen?\n\n758\n00:37:59,840 --> 00:38:02,620\nWell, what's gonna happen is my operating\nsystem is not gonna be able to write to\n\n759\n00:38:02,620 --> 00:38:06,610\nthe hard drive anymore and\nthe system is probably going to lock up.\n\n760\n00:38:06,610 --> 00:38:11,065\nIt could crash, I could get data\ncorruption, but most commonly it locks up.\n\n761\n00:38:11,065 --> 00:38:14,274\nSo, somebody can actually pull off\na denial of service just by copying all\n\n762\n00:38:14,274 --> 00:38:16,795\ntheir Britney Spears\nalbums up to your server.\n\n763\n00:38:16,795 --> 00:38:17,455\nIt's not something you want.\n\n764\n00:38:18,475 --> 00:38:23,125\nSo, ideally, we wanna have our service\ndata stored on a separate drive.\n\n765\n00:38:24,245 --> 00:38:26,262\nIt doesn't have to be\na separate physical drive.\n\n766\n00:38:26,262 --> 00:38:27,642\nIt could just be a separate partition.\n\n767\n00:38:28,792 --> 00:38:31,162\nThe partition, at least,\nwould give you a boundary though.\n\n768\n00:38:31,162 --> 00:38:34,522\nIt'll separate out your service\ndata from the host OS and\n\n769\n00:38:34,522 --> 00:38:38,452\nthat gives you a little bit more security,\na little bit more stability on the system.\n\n770\n00:38:38,452 --> 00:38:43,152\nYou can change this at any time,\nbut you wanna change it now.\n\n771\n00:38:43,152 --> 00:38:45,292\nYou wanna change it when\nyou install server.\n\n772\n00:38:45,292 --> 00:38:47,580\nBecause, right now,\nhow much server data do I have?\n\n773\n00:38:47,580 --> 00:38:48,720\nNone.\n\n774\n00:38:48,720 --> 00:38:50,510\nReally easy to move it now.\n\n775\n00:38:50,510 --> 00:38:53,672\nBut if I wait until later, and\nI've got a terabyte of files on here,\n\n776\n00:38:53,672 --> 00:38:58,470\nit's gonna take a while to move\na terabyte of data to the new location.\n\n777\n00:38:58,470 --> 00:39:01,030\nSo, the sooner you change this,\nthe better off you are.\n\n778\n00:39:01,030 --> 00:39:05,000\nYou can change it later, but\nideally you wanna change it now.\n\n779\n00:39:05,000 --> 00:39:09,160\nSo, let's say that I wanna go ahead and\npartition this out and separate my data.\n\n780\n00:39:09,160 --> 00:39:12,980\nWell, I've only got one drive in this\nsystem, or at least I think I do.\n\n781\n00:39:12,980 --> 00:39:16,300\nSo, I'm gonna fire up my Disk Utility and\nverify that real quick.\n\n782\n00:39:16,300 --> 00:39:19,930\nIdeally, this is gonna be a true server,\nif it's a Mac Pro and\n\n783\n00:39:19,930 --> 00:39:22,600\nyou got the room, then you'll throw\nsome extra hard drives in there.\n\n784\n00:39:22,600 --> 00:39:25,400\nOr maybe just an extra external\nlike Thunderbolt drives and\n\n785\n00:39:25,400 --> 00:39:26,280\nadd those onto the system.\n\n786\n00:39:27,320 --> 00:39:30,240\nBut if this is one of the new Mac Pros\nthat doesn't have any extra room for\n\n787\n00:39:30,240 --> 00:39:32,520\ndrives on the inside,\nor if it's a Mac Mini,\n\n788\n00:39:32,520 --> 00:39:37,480\nyou might wanna just take the built\nin hard drive and partition it.\n\n789\n00:39:37,480 --> 00:39:41,910\nSo, I can see that I've got just one\nhard drive and I've got a Macintosh HD.\n\n790\n00:39:41,910 --> 00:39:43,580\nThat's the one partition that I've got.\n\n791\n00:39:43,580 --> 00:39:47,320\nAnd if I look at my partition table,\nthat one partition is the whole drive.\n\n792\n00:39:48,370 --> 00:39:51,480\nBut if I wanna move my server\ndata to its own drive,\n\n793\n00:39:51,480 --> 00:39:54,350\nwhat I might wanna do is\nopen this up a little bit.\n\n794\n00:39:54,350 --> 00:39:56,410\nSo, what I'm gonna do is\nhere in my disc utility,\n\n795\n00:39:56,410 --> 00:39:58,600\nI'm gonna shrink my main partition.\n\n796\n00:39:58,600 --> 00:40:02,583\nI'm gonna shrink this down.\n\n797\n00:40:02,583 --> 00:40:08,960\nAnd maybe, I'll kind of divide things in\nhalf so This is roughly, a 64 gig drive.\n\n798\n00:40:08,960 --> 00:40:14,100\nSo maybe, I'll take my main partition\nhere, and make it 36 gigs in size.\n\n799\n00:40:15,280 --> 00:40:18,200\nAnd you maybe, may go like 37,\njust to be safe.\n\n800\n00:40:18,200 --> 00:40:21,441\nAnd then I'll have the rest of\nthe drive available for my server data.\n\n801\n00:40:21,441 --> 00:40:23,650\nSo, I'm just gonna set that.\n\n802\n00:40:23,650 --> 00:40:28,390\nAnd now, I can hit the little plus\nsign here to add another partition.\n\n803\n00:40:28,390 --> 00:40:34,441\nSo here's my new partition, and\nI'm gonna call this one Service Data.\n\n804\n00:40:34,441 --> 00:40:35,830\nYou can call it whatever you want.\n\n805\n00:40:35,830 --> 00:40:37,520\nCall it Bob, it's fine, it doesn't matter.\n\n806\n00:40:37,520 --> 00:40:39,640\nBut call it something\nthat you can recognize.\n\n807\n00:40:39,640 --> 00:40:42,540\nMacintosh HD,\nthat's where my operating system is.\n\n808\n00:40:42,540 --> 00:40:44,390\nThat's where Mac OS is installed.\n\n809\n00:40:44,390 --> 00:40:48,860\nService Data, that's where my server app\nis gonna store all of it's information.\n\n810\n00:40:48,860 --> 00:40:52,110\nAnd I can see that, I didn't divide\nmy drives very evenly, did I?\n\n811\n00:40:52,110 --> 00:40:54,880\nThe Macintosh HD is 37 gigs.\n\n812\n00:40:54,880 --> 00:40:56,920\nService Data is now just 30 gigs.\n\n813\n00:40:56,920 --> 00:40:58,221\nSo, it's a little uneven, but that's fine.\n\n814\n00:40:58,221 --> 00:40:59,430\nIt's plenty of storage for what I need.\n\n815\n00:41:01,530 --> 00:41:05,620\nSo I'll go ahead, and Apply that,\nand it's gonna divide the drive up.\n\n816\n00:41:05,620 --> 00:41:09,870\nNow, on a brand new system,\nthis usually works really well.\n\n817\n00:41:09,870 --> 00:41:11,150\nIf your system has been running for\n\n818\n00:41:11,150 --> 00:41:14,310\na long time though,\nyou can get fragmentation on the drive.\n\n819\n00:41:14,310 --> 00:41:17,710\nYou can get where data might be stored\ntowards the end of the disk, and\n\n820\n00:41:17,710 --> 00:41:18,920\nyour partition might now work.\n\n821\n00:41:20,170 --> 00:41:22,760\nIf that happens,\nthere's a couple of things to look at,\n\n822\n00:41:22,760 --> 00:41:26,240\njust as a word of advice,\nthis won't show up on the exam.\n\n823\n00:41:26,240 --> 00:41:28,960\nBut one thing is it's time machine.\n\n824\n00:41:28,960 --> 00:41:31,070\nTime machine creates\nsome temporary storage.\n\n825\n00:41:31,070 --> 00:41:34,120\nThey call it the mobile backup,\nthat's stored on your local drive.\n\n826\n00:41:34,120 --> 00:41:37,390\nAnd that time machine backup will often\ntimes end up in your free space down here.\n\n827\n00:41:37,390 --> 00:41:39,300\nAnd that can stop you from partitioning.\n\n828\n00:41:39,300 --> 00:41:42,220\nSo, you can temporarily\nturn time machine off.\n\n829\n00:41:42,220 --> 00:41:44,130\nAnd do your partitioning,\nand then turn it back on.\n\n830\n00:41:44,130 --> 00:41:45,100\nThat's one way to go about it.\n\n831\n00:41:46,280 --> 00:41:51,360\nAnother option is to shut your Mac down,\nthen boot it up in Target mode.\n\n832\n00:41:51,360 --> 00:41:53,650\nHold the letter T down,\nwhile you boot the system up.\n\n833\n00:41:53,650 --> 00:41:57,340\nAnd you can plug it into a different Mac,\nand have the other Mac partition it.\n\n834\n00:41:57,340 --> 00:42:01,020\nWhen it does that, your drive will be\noffline, so it can move data around.\n\n835\n00:42:01,020 --> 00:42:04,580\nSo, if you get a failure partitioning\nthose are a couple of solutions for you.\n\n836\n00:42:04,580 --> 00:42:06,620\nIn my case though,\nthis system was pretty much brand new.\n\n837\n00:42:06,620 --> 00:42:07,800\nThere's no data on it.\n\n838\n00:42:07,800 --> 00:42:09,850\nAnd so, it partitioned out.\n\n839\n00:42:09,850 --> 00:42:10,660\nSo, there it is.\n\n840\n00:42:10,660 --> 00:42:12,570\nI now have my two partitions.\n\n841\n00:42:12,570 --> 00:42:15,070\nI've got my 37 gig, where my OS is.\n\n842\n00:42:15,070 --> 00:42:18,330\nAnd now, I've got this new service\ndata partition available, and\n\n843\n00:42:18,330 --> 00:42:21,000\nthat's where I want my server\napp to store its information.\n\n844\n00:42:22,330 --> 00:42:24,370\nSo, I can go back into my server app.\n\n845\n00:42:24,370 --> 00:42:27,020\nAnd here I can see my Service Data\nis stored on Macintosh HD.\n\n846\n00:42:27,020 --> 00:42:29,816\nI'm just gonna hit Edit.\n\n847\n00:42:29,816 --> 00:42:31,620\nAnd I will move it to the other drive.\n\n848\n00:42:31,620 --> 00:42:33,670\nNow, the other drive is not showing up.\n\n849\n00:42:33,670 --> 00:42:36,340\nAnd there's a couple of\nthings that can cause that.\n\n850\n00:42:36,340 --> 00:42:41,930\nThe other drive has to be\nformatted Mac OS extended journal.\n\n851\n00:42:41,930 --> 00:42:46,135\nOr Mac OS extended journal case sensitive.\n\n852\n00:42:46,135 --> 00:42:48,770\n[LAUGH] It gets a little confusing there.\n\n853\n00:42:48,770 --> 00:42:51,070\nIt doesn't matter,\nit can be case sensitive or not, but\n\n854\n00:42:51,070 --> 00:42:52,670\nit has to be Mac OS extended journal.\n\n855\n00:42:54,000 --> 00:42:55,880\nI did that kind of fast,\nI didn't pay attention to the format.\n\n856\n00:42:55,880 --> 00:42:57,640\nSo, I might have formatted it wrong.\n\n857\n00:42:57,640 --> 00:42:58,536\nThe other thing is,\n\n858\n00:42:58,536 --> 00:43:02,140\nwe've got to make sure that we have\npermissions to access the disk.\n\n859\n00:43:02,140 --> 00:43:05,730\nApple handles permissions on a second\ndisk a little bit differently,\n\n860\n00:43:05,730 --> 00:43:08,510\nthan they do permissions\non your main OS disk.\n\n861\n00:43:08,510 --> 00:43:13,240\nSo, I see my main OS disk,\nI'm not seeing the other one on here.\n\n862\n00:43:13,240 --> 00:43:15,580\nSo, there's more than\nlikely a problem there.\n\n863\n00:43:15,580 --> 00:43:18,050\nThe other thing is, notice the size.\n\n864\n00:43:18,050 --> 00:43:20,850\nIt's showing my Macintosh HD\nas 56 gigs in size.\n\n865\n00:43:21,860 --> 00:43:23,850\nWell, I just re-partitioned\nit down to 37 gigs.\n\n866\n00:43:24,980 --> 00:43:27,850\nSo, it could be that the drive\nis showing up just fine, but\n\n867\n00:43:27,850 --> 00:43:29,470\nthis hasn't refreshed yet.\n\n868\n00:43:29,470 --> 00:43:31,140\nAnd I'll bet that's what my problem is,\n\n869\n00:43:31,140 --> 00:43:34,610\ncuz I'm pretty sure it defaults to\nextended journal, but we'll see.\n\n870\n00:43:34,610 --> 00:43:35,440\nSo, what I'm gonna do is,\n\n871\n00:43:35,440 --> 00:43:40,040\nI'm gonna get out of my server app, I'm\njust gonna quit that, and close it down.\n\n872\n00:43:40,040 --> 00:43:42,320\nAnd then I'll re-open it, and\nsee if that gets fixed for me.\n\n873\n00:43:42,320 --> 00:43:43,330\nIt probably will.\n\n874\n00:43:44,480 --> 00:43:48,066\nSo we'll just fire that back up,\nand that'll probably knock it out.\n\n875\n00:43:48,066 --> 00:43:51,617\nThis happens sometimes, the Management\ninterface doesn't always dynamically\n\n876\n00:43:51,617 --> 00:43:54,300\nupdate, and it doesn't have\nan easy Refresh button for you.\n\n877\n00:43:54,300 --> 00:43:56,406\nSo, if you ever see something weird\nlike that, you can just close it,\n\n878\n00:43:56,406 --> 00:43:57,380\nand open it again.\n\n879\n00:43:57,380 --> 00:43:59,570\nAnd that'll normally knock that out.\n\n880\n00:43:59,570 --> 00:44:01,942\nSo, here we go.\nIt's backup, I'll just go under Settings.\n\n881\n00:44:01,942 --> 00:44:03,608\nThere's my Service Data.\n\n882\n00:44:03,608 --> 00:44:04,290\nAnd I'll hit Edit.\n\n883\n00:44:04,290 --> 00:44:05,160\nAnd there we go.\n\n884\n00:44:05,160 --> 00:44:07,280\nSee, I didn't have to do\nanything crazy at all.\n\n885\n00:44:07,280 --> 00:44:10,580\nIt's showing up, and\nmy hard drive sizes are correct now.\n\n886\n00:44:10,580 --> 00:44:13,510\nIt shows 25 gigs,\nthat means 25 gigs available.\n\n887\n00:44:13,510 --> 00:44:15,660\nSo, the rest of it's tied up with the OS.\n\n888\n00:44:15,660 --> 00:44:18,070\nBut I'm gonna choose Service Data.\n\n889\n00:44:18,070 --> 00:44:20,880\nThat's, that other partition I made,\nand I'll choose that.\n\n890\n00:44:20,880 --> 00:44:23,710\nAnd it's telling me,\nam I sure I wanna do that?\n\n891\n00:44:23,710 --> 00:44:29,110\nIf I am, it's gonna stop whatever services\nare running, and move their data.\n\n892\n00:44:29,110 --> 00:44:31,260\nNow, if this is a production server.\n\n893\n00:44:31,260 --> 00:44:33,000\nAnd I've got terabytes of data on there.\n\n894\n00:44:33,000 --> 00:44:37,220\nIt could take hours to move, and\nduring that time the services are offline.\n\n895\n00:44:37,220 --> 00:44:39,608\nSo, you'd wanna do this after hours.\n\n896\n00:44:39,608 --> 00:44:41,150\nThat's why I say, do it now.\n\n897\n00:44:41,150 --> 00:44:43,579\nDo it in the beginning when\nyou first install server, and\n\n898\n00:44:43,579 --> 00:44:45,620\nthen you'll be in business.\n\n899\n00:44:45,620 --> 00:44:47,630\nSo definitely, important for what we want.\n\n900\n00:44:49,350 --> 00:44:53,360\nSo I'll go ahead, and hit OK there,\nand that's gonna push that along.\n\n901\n00:44:53,360 --> 00:44:55,110\nAnd see, how it says copying files?\n\n902\n00:44:55,110 --> 00:44:56,620\nI don't have a lot of files.\n\n903\n00:44:56,620 --> 00:44:57,930\nBut I do have some.\n\n904\n00:44:57,930 --> 00:45:02,360\nEven on a brand new install, it set up\nthose services, and it put config files,\n\n905\n00:45:02,360 --> 00:45:04,760\nand other things in place,\nso, it's got to copy those.\n\n906\n00:45:04,760 --> 00:45:08,680\nSo, it's moving them, and then I'll\nstart to see them on my new drive.\n\n907\n00:45:08,680 --> 00:45:11,838\nSo we'll give it a second, while it\ndoes that, and it's gonna turn along.\n\n908\n00:45:11,838 --> 00:45:16,290\nOh, so in the chat room asked a question,\n\n909\n00:45:16,290 --> 00:45:19,630\nback when I was in the Disk Utility, what\ndid the blue line on the partitions mean?\n\n910\n00:45:19,630 --> 00:45:22,960\nSo, If I go back in my Disk Utility, and\n\n911\n00:45:22,960 --> 00:45:27,890\nI pull up my hard drives, and I go into\nPartition, see how we have this blue line.\n\n912\n00:45:27,890 --> 00:45:31,280\nThe blue line actually\nrepresents data that's in use.\n\n913\n00:45:31,280 --> 00:45:33,630\nSo, on my Macintosh HD here,\n\n914\n00:45:33,630 --> 00:45:36,990\nthis blue line is showing that's\nhow much data I've used on it.\n\n915\n00:45:36,990 --> 00:45:38,660\nIt doesn't give me a hard number.\n\n916\n00:45:38,660 --> 00:45:40,550\nAnd often times it's misleading.\n\n917\n00:45:40,550 --> 00:45:42,910\nLike if you look at Service Data,\nI've got this big blue line.\n\n918\n00:45:42,910 --> 00:45:44,320\nIt looks like there is\na lot of data on the drive.\n\n919\n00:45:44,320 --> 00:45:47,530\nBut there's really not all\nthat much that's on it,\n\n920\n00:45:47,530 --> 00:45:49,110\nit's just doing a graphical\nrepresentation.\n\n921\n00:45:49,110 --> 00:45:53,540\nThey have a minimum size for that bar,\neven when you create an empty drive,\n\n922\n00:45:53,540 --> 00:45:56,700\nthere is some meta data\nfiles that are on there,\n\n923\n00:45:56,700 --> 00:45:59,030\nand that's what triggers\nthat minimum size.\n\n924\n00:45:59,030 --> 00:46:01,469\nSo, it will always show us\nhaving some data on there,\n\n925\n00:46:01,469 --> 00:46:03,430\nto let us know the disk exists.\n\n926\n00:46:03,430 --> 00:46:06,360\nBut that's what those blue lines are,\nand if you float your mouse over it,\n\n927\n00:46:06,360 --> 00:46:08,390\nit'll give you the more specific numbers.\n\n928\n00:46:08,390 --> 00:46:10,990\nSo I can see I got a 30 gig partition, but\n\n929\n00:46:10,990 --> 00:46:15,930\nonly 25 gigs are available space,\nwhat happened to the other 5 gigs.\n\n930\n00:46:15,930 --> 00:46:19,910\nWell, in my scenario the 5 gigs\nare my time machine backups.\n\n931\n00:46:21,110 --> 00:46:26,830\nTime machine reserves a certain portion of\nspace, for that locally available backup.\n\n932\n00:46:26,830 --> 00:46:29,965\nAnd so, that's what's eating\nup that space right there.\n\n933\n00:46:29,965 --> 00:46:31,620\nAnd it's almost a guarantee.\n\n934\n00:46:31,620 --> 00:46:34,140\nYou can disable that local backup,\nand that'll stop that,\n\n935\n00:46:34,140 --> 00:46:36,022\nthat'll free that space backup again.\n\n936\n00:46:36,022 --> 00:46:37,820\nBut it just depends on whether\nthat's what you want, or not.\n\n937\n00:46:39,700 --> 00:46:41,160\nSo, that's what those blue lines were.\n\n938\n00:46:41,160 --> 00:46:42,860\nAnd that was a good install right there.\n\n939\n00:46:42,860 --> 00:46:45,990\nWe should be all copied over, yep.\n\n940\n00:46:45,990 --> 00:46:48,810\nSo back here in my server app,\nit's done, it's copied over.\n\n941\n00:46:48,810 --> 00:46:52,316\nI can see my Service Data is now\nlocated on the Service Data drive.\n\n942\n00:46:52,316 --> 00:46:57,135\nIf I browse to that drive, I fire up\nmy Finder, and go to Service Data,\n\n943\n00:46:57,135 --> 00:46:59,930\nI can see I've got a Library folder now.\n\n944\n00:46:59,930 --> 00:47:01,780\nAnd if I go in there,\nits got a Server folder.\n\n945\n00:47:01,780 --> 00:47:06,750\nSo, there's a \\Library\\Server, and\ninside of that, here's the folders for\n\n946\n00:47:06,750 --> 00:47:08,600\nall of those different services.\n\n947\n00:47:08,600 --> 00:47:10,920\nNow, I haven't turned any\nof these services on.\n\n948\n00:47:10,920 --> 00:47:13,320\nWiki, Web, Mail, Messages,\nthey're all turned off.\n\n949\n00:47:14,440 --> 00:47:18,640\nBut they still have some default data\nthat's copied, and put in place.\n\n950\n00:47:18,640 --> 00:47:20,720\nAnd that does take up\na little bit of space.\n\n951\n00:47:20,720 --> 00:47:24,233\nIf we calculate the size of that folder.\n\n952\n00:47:24,233 --> 00:47:25,235\nLet's take a look at what it is.\n\n953\n00:47:25,235 --> 00:47:28,300\nIt's not much, 614 kilobytes.\n\n954\n00:47:28,300 --> 00:47:31,500\nNot a ton of data at all, but\nit lays that frame work, and\n\n955\n00:47:31,500 --> 00:47:34,060\nas we turn these services on,\nthat number will start to grow.\n\n956\n00:47:36,690 --> 00:47:38,240\nSo, we've got our server up.\n\n957\n00:47:38,240 --> 00:47:41,710\nWe've moved our data to a separate\npartition that gave us that border,\n\n958\n00:47:41,710 --> 00:47:42,780\nthat boundary.\n\n959\n00:47:42,780 --> 00:47:45,730\nNow, if I throw 30 gigs\nof data into my server.\n\n960\n00:47:45,730 --> 00:47:47,430\nYeah, my server is out of space.\n\n961\n00:47:47,430 --> 00:47:51,310\nBut the host OS is still able to run,\ncuz it's got free space on its partition.\n\n962\n00:47:51,310 --> 00:47:54,740\nWe separated out, and\nthat gives us that isolation.\n\n963\n00:47:54,740 --> 00:47:57,375\nYou don't have to do that,\nbut it's a good idea.\n\n964\n00:47:57,375 --> 00:47:58,529\nAnd if you're going to do it,\n\n965\n00:47:58,529 --> 00:48:01,200\ndo it in the beginning when\nyou're first setting up server.\n\n966\n00:48:01,200 --> 00:48:02,810\nIf you do it later,\nit just takes a long time.\n\n967\n00:48:02,810 --> 00:48:05,396\nAnd it takes your server offline.\n\n968\n00:48:05,396 --> 00:48:06,043\nAll right.\n\n969\n00:48:06,043 --> 00:48:09,920\nWell, now that we're installed,\nwe're up and running.\n\n970\n00:48:09,920 --> 00:48:13,250\nThe next step is normally to go and\nstart turning on services.\n\n971\n00:48:13,250 --> 00:48:16,580\nBut, looking at the clock this is a pretty\ngood spot to pause and take a break.\n\n972\n00:48:16,580 --> 00:48:18,490\nSo, let's take a break here.\n\n973\n00:48:18,490 --> 00:48:21,910\nWhen we get back, I want to walk you\nthrough each of the services and\n\n974\n00:48:21,910 --> 00:48:23,430\nkind of what they are, what they do.\n\n975\n00:48:23,430 --> 00:48:24,660\nAnd how they're important to us.\n\n976\n00:48:24,660 --> 00:48:25,564\nSo, stay tuned.\n\n977\n00:48:25,564 --> 00:48:26,684\nWe'll be back after this.\n\n978\n00:48:26,684 --> 00:48:33,434\n[SOUND].\n\n979\n00:48:33,434 --> 00:48:35,100\nAll right welcome back everybody.\n\n980\n00:48:35,100 --> 00:48:38,553\nSo in the last segment we actually\ngot the Mac OS server installed,\n\n981\n00:48:38,553 --> 00:48:42,560\nthe server app is up and running we've\ngot our system configured as a server,\n\n982\n00:48:42,560 --> 00:48:44,140\nnow what do we do with it?\n\n983\n00:48:44,140 --> 00:48:47,070\nWell you've got all these different\nservices that you can turn on\n\n984\n00:48:47,070 --> 00:48:49,120\nthere's off by default.\n\n985\n00:48:49,120 --> 00:48:52,750\nSo what you need to do now is figure out\nwhich of the services you actually need\n\n986\n00:48:52,750 --> 00:48:54,340\nand you'll go and\nenable them and configure them.\n\n987\n00:48:54,340 --> 00:48:57,220\nAnd that's actually what we will spend the\nmajority of the whole rest of the series\n\n988\n00:48:57,220 --> 00:49:00,020\ngoing over is how to configure\neach of these individual apps and\n\n989\n00:49:00,020 --> 00:49:01,450\nhow to use them in your environment.\n\n990\n00:49:01,450 --> 00:49:02,920\nOr at least the important ones.\n\n991\n00:49:02,920 --> 00:49:05,630\nWell what are the services in here?\n\n992\n00:49:05,630 --> 00:49:07,300\nWell let's take a look.\n\n993\n00:49:07,300 --> 00:49:09,740\nThe services are actually\ndivided up into two pieces.\n\n994\n00:49:09,740 --> 00:49:14,410\nYou've got the services right here, which\nare the main ones that Apple promotes.\n\n995\n00:49:14,410 --> 00:49:16,770\nAnd then down on the bottom\nyou've got the advanced services.\n\n996\n00:49:16,770 --> 00:49:22,760\nWhich are equally important, but hidden\naway because not everybody needs them.\n\n997\n00:49:22,760 --> 00:49:26,280\nStarting right here with the services,\nthe very first one is caching.\n\n998\n00:49:26,280 --> 00:49:30,020\nThe caching server is\na really easy to use system.\n\n999\n00:49:30,020 --> 00:49:33,850\nWhere your server will start to\nmonitor network communications.\n\n1000\n00:49:33,850 --> 00:49:38,590\nAnd if one person does something\nlike the Yosemite update, all right?\n\n1001\n00:49:38,590 --> 00:49:41,410\nSo if you had ten MacBook Pros and\n\n1002\n00:49:41,410 --> 00:49:45,260\nthey were all running Mavericks and one of\nthem went out and did the Yosemite update.\n\n1003\n00:49:45,260 --> 00:49:46,360\nWell what does it do?\n\n1004\n00:49:46,360 --> 00:49:50,990\nReaches out to Apple and it downloads\na five gigabyte installer for Yosemite and\n\n1005\n00:49:50,990 --> 00:49:52,380\nit does the install.\n\n1006\n00:49:52,380 --> 00:49:54,180\nWell what about the other nine laptops?\n\n1007\n00:49:54,180 --> 00:49:58,070\nWell they go out and\nthey download the same five gigabit file.\n\n1008\n00:49:58,070 --> 00:49:59,070\nIt's kind of excessive isnt' it?\n\n1009\n00:49:59,070 --> 00:50:00,820\nRight?\nIt's a ton of data you're wasting\n\n1010\n00:50:00,820 --> 00:50:03,140\non all these laptops\ndownloading the same thing.\n\n1011\n00:50:03,140 --> 00:50:06,170\nIt gets even worse if you\nhave 100 laptops or 1000.\n\n1012\n00:50:06,170 --> 00:50:06,900\nRight?\n\n1013\n00:50:06,900 --> 00:50:08,470\nIt gets worse and worse.\n\n1014\n00:50:08,470 --> 00:50:10,540\nThe caching server solves that.\n\n1015\n00:50:10,540 --> 00:50:14,600\nIt sees the first person go out and\ndo that update.\n\n1016\n00:50:14,600 --> 00:50:15,990\nAnd it caches a copy of the update.\n\n1017\n00:50:15,990 --> 00:50:19,770\nAnd when everybody else\ngoes to get that update\n\n1018\n00:50:19,770 --> 00:50:23,970\ninstead of going out to Apple server they\nget it right here from the caching server.\n\n1019\n00:50:23,970 --> 00:50:27,530\nAnd the best part is it all\nhappens with zero configuration.\n\n1020\n00:50:27,530 --> 00:50:32,150\nApple clients whether they're MacBooks or\nMac Pros or whatever, they look for\n\n1021\n00:50:32,150 --> 00:50:34,050\na caching server on the network\nif they can find it.\n\n1022\n00:50:34,050 --> 00:50:37,820\nThey use Bonjour to look for it and\nif it's there, they'll use it.\n\n1023\n00:50:37,820 --> 00:50:40,910\nSo this accelerates caching of\nanything from the app store,\n\n1024\n00:50:40,910 --> 00:50:46,060\nupdates from Apple, iBooks, any kind\nof purchases like that it handles that.\n\n1025\n00:50:46,060 --> 00:50:46,910\nReally neat system.\n\n1026\n00:50:46,910 --> 00:50:47,770\nReally easy to implement.\n\n1027\n00:50:49,410 --> 00:50:51,040\nNext we have our calendar server.\n\n1028\n00:50:51,040 --> 00:50:54,580\nIf you want to have a centralized\ncalendar, all of your employees sharing\n\n1029\n00:50:54,580 --> 00:50:58,480\ncalendar resources, you can certainly\nuse your iPad account for that.\n\n1030\n00:50:58,480 --> 00:51:00,920\nBut if you want control of,\n\n1031\n00:51:00,920 --> 00:51:04,070\nif your organization needs to\nhave control centrally managed.\n\n1032\n00:51:04,070 --> 00:51:07,410\nWhere you can view other people's\ncalendars even without their permissions.\n\n1033\n00:51:07,410 --> 00:51:09,220\nYou need to run your own calendar server.\n\n1034\n00:51:09,220 --> 00:51:10,660\nAnd so we've got that functionality.\n\n1035\n00:51:10,660 --> 00:51:15,520\nAlong those same lines we've got contacts,\nmail, messages.\n\n1036\n00:51:15,520 --> 00:51:18,710\nEach of those are wrapped up into\nthat same collaboration suite.\n\n1037\n00:51:18,710 --> 00:51:19,550\nContacts.\n\n1038\n00:51:19,550 --> 00:51:21,320\nThat's just a list of\nthe people you can talk to.\n\n1039\n00:51:21,320 --> 00:51:24,590\nDistribution groups, email lists,\nthings of that nature.\n\n1040\n00:51:24,590 --> 00:51:25,330\nMail.\n\n1041\n00:51:25,330 --> 00:51:30,700\nAt your email client and the server app\nhas a full mail server built in to it so\n\n1042\n00:51:30,700 --> 00:51:34,600\nit can send and receive mail,\nit can do POP3 and IMAP4 access,\n\n1043\n00:51:34,600 --> 00:51:38,560\nit can do all that for\ncompletely hosting an email service.\n\n1044\n00:51:38,560 --> 00:51:41,630\nNot just providing you with\na simple place for your mailbox.\n\n1045\n00:51:43,380 --> 00:51:45,310\nWe've got other things like messages,\nright?\n\n1046\n00:51:45,310 --> 00:51:46,410\nThat's for the chatting.\n\n1047\n00:51:46,410 --> 00:51:50,200\nIf you want to do,\nwell it's not just chatting anymore is it?\n\n1048\n00:51:50,200 --> 00:51:55,400\niMessages back in the day really was\njust a Jabber based chat client.\n\n1049\n00:51:55,400 --> 00:51:57,880\nNow Facetime is wrapped up into that.\n\n1050\n00:51:57,880 --> 00:52:01,130\nAnd you can have entire person to\nperson communication that are run\n\n1051\n00:52:01,130 --> 00:52:01,920\nright through that.\n\n1052\n00:52:03,870 --> 00:52:06,280\nNow we got a question\nin the chat there about\n\n1053\n00:52:06,280 --> 00:52:10,000\ndo these services have to be bound to\nthe server in order for them to find it?\n\n1054\n00:52:11,320 --> 00:52:12,070\nYes and no right.\n\n1055\n00:52:12,070 --> 00:52:13,450\nSo in order for the service to work,\n\n1056\n00:52:13,450 --> 00:52:16,670\nit's got to be attached to a server\nright otherwise it's not going to work.\n\n1057\n00:52:16,670 --> 00:52:19,620\nSo, when your client looks for it they're\nreally just sending out a multicast\n\n1058\n00:52:19,620 --> 00:52:22,130\nmessage on the network looking for\nservers.\n\n1059\n00:52:22,130 --> 00:52:24,290\nAnd they might find five, ten servers.\n\n1060\n00:52:24,290 --> 00:52:28,740\nBut the only servers that will respond\nwill be the ones that are caching servers.\n\n1061\n00:52:28,740 --> 00:52:30,285\nSo, if you got a server\nthat's not running,\n\n1062\n00:52:30,285 --> 00:52:33,615\nthe caching service, then it won't\nrespond to those requests, all right?\n\n1063\n00:52:33,615 --> 00:52:35,475\nSo it's just going to kind\nof keep that a little more\n\n1064\n00:52:36,905 --> 00:52:39,875\nisolated to the ones that\nare actually running that service.\n\n1065\n00:52:39,875 --> 00:52:42,295\nNow, if the caching service\nis on a different network,\n\n1066\n00:52:42,295 --> 00:52:43,305\nthey're not going to find that, right?\n\n1067\n00:52:43,305 --> 00:52:44,345\nThey're not going to see it.\n\n1068\n00:52:44,345 --> 00:52:46,965\nIt'll be on a separate network, and that's\nit, and that's what David just mentioned\n\n1069\n00:52:46,965 --> 00:52:50,765\nin the chat room, is that because\nit uses multicast communications,\n\n1070\n00:52:50,765 --> 00:52:55,360\nmost routers trim those off, so it won't\nmake it to other networks to find it.\n\n1071\n00:52:55,360 --> 00:52:57,800\nApple's typical limitation\n\n1072\n00:52:57,800 --> 00:53:00,840\nis that you put the caching server you\nwant on each network that you have.\n\n1073\n00:53:00,840 --> 00:53:03,060\nWe'll cover the caching server\nagain in more depth later.\n\n1074\n00:53:03,060 --> 00:53:07,070\nAnd we'll get the chance to\nsee how to work around that.\n\n1075\n00:53:07,070 --> 00:53:09,540\nI skipped over file sharing, so\nlet's jump back to that one.\n\n1076\n00:53:09,540 --> 00:53:10,930\nThe file sharing role.\n\n1077\n00:53:10,930 --> 00:53:13,200\nWell you can do file sharing on a Mac.\n\n1078\n00:53:13,200 --> 00:53:14,910\nWithout having a server, right?\n\n1079\n00:53:14,910 --> 00:53:16,270\nWell, that's true.\n\n1080\n00:53:16,270 --> 00:53:17,870\nAnd there's really no difference here.\n\n1081\n00:53:17,870 --> 00:53:20,730\nWe can do file sharing,\nwe can set up our shared folders and\n\n1082\n00:53:20,730 --> 00:53:22,540\nmake them available to our users.\n\n1083\n00:53:22,540 --> 00:53:25,750\nThe main difference here is that you\nget a nice GUI for it, all right.\n\n1084\n00:53:25,750 --> 00:53:29,620\nIf I share five folders on my\nMac without the server app,\n\n1085\n00:53:29,620 --> 00:53:32,180\nI have to remember that I've\nshared those to go and find them.\n\n1086\n00:53:32,180 --> 00:53:33,920\nBut if I use the server\napp I can come in here and\n\n1087\n00:53:33,920 --> 00:53:36,600\nI get a nice GUI that shows me\nall the folders I've shared,\n\n1088\n00:53:36,600 --> 00:53:40,720\nwhat their permissions are and I can\nview who's connected to them right now.\n\n1089\n00:53:40,720 --> 00:53:43,690\nSo this one's not so\nmuch about providing us a special service,\n\n1090\n00:53:43,690 --> 00:53:46,265\nit's about providing us a easier\nat management interface.\n\n1091\n00:53:49,185 --> 00:53:51,045\nThen we have the profile manager.\n\n1092\n00:53:51,045 --> 00:53:55,305\nThe profile manager started\nout as a way to manage iPads.\n\n1093\n00:53:55,305 --> 00:53:58,775\nAnd then it started evolving into\nsomething far more powerful and\n\n1094\n00:53:58,775 --> 00:54:03,015\nnow you can use the profile manager\nto manage iPads, iPhones, MacBooks,\n\n1095\n00:54:03,015 --> 00:54:06,345\nMac Pro's, iMacs, Mac Mini's,\nthe whole shebang.\n\n1096\n00:54:06,345 --> 00:54:08,160\nThe whole product line now.\n\n1097\n00:54:08,160 --> 00:54:12,190\nYou can define configurations,\nhow you want your Mac to be set up,\n\n1098\n00:54:12,190 --> 00:54:15,100\nwhat software you want installed,\nwhat permissions you want to allow,\n\n1099\n00:54:15,100 --> 00:54:18,590\nwhat user accounts exist,\nwhat certificates you trust.\n\n1100\n00:54:18,590 --> 00:54:21,550\nAll of that stuff can be defined\nin a configuration file.\n\n1101\n00:54:21,550 --> 00:54:24,751\nAnd the cool part there is\nanytime you buy a brand-new Mac,\n\n1102\n00:54:24,751 --> 00:54:26,020\nyou don't have to start from scratch.\n\n1103\n00:54:26,020 --> 00:54:27,710\nYou don't have to redo all that stuff.\n\n1104\n00:54:27,710 --> 00:54:29,600\nYou apply the configuration file to it,\nand\n\n1105\n00:54:29,600 --> 00:54:32,460\nnow it's set exactly the way you want it.\n\n1106\n00:54:32,460 --> 00:54:35,730\nYou have a lab with 100 computers in it,\nyou don't want to set them up 100 times.\n\n1107\n00:54:35,730 --> 00:54:38,970\nProfile manager lets you do it once and\napply it across the board.\n\n1108\n00:54:38,970 --> 00:54:41,550\nAnd you can modify that\nconfiguration over time, and\n\n1109\n00:54:41,550 --> 00:54:43,480\nit updates those clients to reflect that.\n\n1110\n00:54:43,480 --> 00:54:44,930\nSo If I want to make a change,\n\n1111\n00:54:44,930 --> 00:54:47,700\nyou make the change once and\nyou apply it everywhere.\n\n1112\n00:54:47,700 --> 00:54:50,930\nIf you're from a Windows background\nthis is kind of like a group policy\n\n1113\n00:54:50,930 --> 00:54:52,870\nobject under Windows Active Directory.\n\n1114\n00:54:52,870 --> 00:54:54,520\nHere, it's implemented\nin the profile manager.\n\n1115\n00:54:57,010 --> 00:54:58,850\nWe've got the Time Machine server.\n\n1116\n00:54:58,850 --> 00:55:01,590\nThis is something that a lot of people\ndon't understand about Time Machine,\n\n1117\n00:55:01,590 --> 00:55:05,740\nif you read the documentation for Time\nMachine it says you can take your backup,\n\n1118\n00:55:05,740 --> 00:55:09,400\nand you can store it on a second\nhard drive inside of your system, or\n\n1119\n00:55:09,400 --> 00:55:13,590\nan external hard drive on your system,\nor a network location, all right?\n\n1120\n00:55:13,590 --> 00:55:16,050\nWhat they don't say is\nthat network location\n\n1121\n00:55:16,050 --> 00:55:17,920\nhas to be running the server app,\nall right?\n\n1122\n00:55:17,920 --> 00:55:21,730\nYou can't just do a time machine backup\nto any old network share on the network.\n\n1123\n00:55:21,730 --> 00:55:24,480\nThey expect you to have a server app\nsomewhere that's handling the meta\n\n1124\n00:55:24,480 --> 00:55:26,420\ndata for that time machine backup.\n\n1125\n00:55:26,420 --> 00:55:30,430\nAnd so that's what this is\nif we turn this option on\n\n1126\n00:55:30,430 --> 00:55:35,320\nthat gives us really just a shared folder\nbut with the meta data tracking and\n\n1127\n00:55:35,320 --> 00:55:39,840\nthe file forking, that's the main feature,\nthat we need for Time Machine to function.\n\n1128\n00:55:39,840 --> 00:55:43,420\nSo we can turn that on and now we'll be\nable to take those backups right here.\n\n1129\n00:55:43,420 --> 00:55:46,460\nIt also gives you\na centralized backup location.\n\n1130\n00:55:46,460 --> 00:55:49,900\nSo if you have a 100 laptops,\nall their backups go right here.\n\n1131\n00:55:49,900 --> 00:55:53,265\nAnd you can come in an click that\nbackups tab, and you can see all of your\n\n1132\n00:55:53,265 --> 00:55:56,708\ncomputers, when their latest backup was,\nand how big the backup was.\n\n1133\n00:55:56,708 --> 00:56:01,834\nSo you can see that information,\nand now it's much easier to manage.\n\n1134\n00:56:01,834 --> 00:56:05,580\nNext we have VPN,\nVPN is Virtual Private Network.\n\n1135\n00:56:05,580 --> 00:56:08,680\nIf we want somebody to be able to be\nout there on the internet somewhere on\n\n1136\n00:56:08,680 --> 00:56:11,180\nan unsafe network, like a hotel.\n\n1137\n00:56:11,180 --> 00:56:13,690\nWe might want them to\nbuild an encrypted tunnel.\n\n1138\n00:56:13,690 --> 00:56:15,780\nBack to our office to be\nable to access our server.\n\n1139\n00:56:15,780 --> 00:56:17,320\nSo, it's safe, it's secure.\n\n1140\n00:56:17,320 --> 00:56:18,370\nRight?\n\n1141\n00:56:18,370 --> 00:56:20,160\nThat's called a Virtual Private Network.\n\n1142\n00:56:20,160 --> 00:56:22,480\nAnd the server app can be a VPN server.\n\n1143\n00:56:22,480 --> 00:56:23,950\nSo, we can set that up right here.\n\n1144\n00:56:23,950 --> 00:56:27,030\nNow that doesn't require us to\nbe exposed to the internet.\n\n1145\n00:56:27,030 --> 00:56:28,550\nBut you're securing things.\n\n1146\n00:56:28,550 --> 00:56:29,730\nThat's the purpose of that.\n\n1147\n00:56:29,730 --> 00:56:33,370\nSo you might have a Mac OS\nserver that's just doing VPN.\n\n1148\n00:56:33,370 --> 00:56:37,440\nAnd then other servers inside of your\nnetwork to separate those roles out.\n\n1149\n00:56:39,910 --> 00:56:41,180\nWe got websites.\n\n1150\n00:56:41,180 --> 00:56:43,160\nNow, websites,\nthis is if we wanna be a web server,\n\n1151\n00:56:43,160 --> 00:56:46,410\nif you wanna host website\nsystems on your server.\n\n1152\n00:56:46,410 --> 00:56:49,360\nYou can do PHP and\nPython based web applications,\n\n1153\n00:56:49,360 --> 00:56:53,140\nthe default is it just does\nstatic HTML web based web pages.\n\n1154\n00:56:53,140 --> 00:56:55,230\nYou can turn that functionality on and\noff.\n\n1155\n00:56:55,230 --> 00:56:57,330\nIt does regular unencrypted web.\n\n1156\n00:56:57,330 --> 00:56:59,870\nAnd SSL encrypted web if you want.\n\n1157\n00:56:59,870 --> 00:57:02,110\nTurn those features on,\nnow you've got a web server.\n\n1158\n00:57:04,030 --> 00:57:07,620\nWiki is almost identical\nto the web services.\n\n1159\n00:57:07,620 --> 00:57:10,800\nWhen you turn Wiki on it is a web server.\n\n1160\n00:57:10,800 --> 00:57:15,030\nThe differences with a Wiki,\nEnd users were able to edit the content.\n\n1161\n00:57:15,030 --> 00:57:16,410\nRight?\nWith a normal web server,\n\n1162\n00:57:16,410 --> 00:57:18,050\nyou don't want other\npeople editing your page.\n\n1163\n00:57:18,050 --> 00:57:18,810\nWith a wiki, you do.\n\n1164\n00:57:18,810 --> 00:57:20,450\nThink about Wikipedia.\n\n1165\n00:57:20,450 --> 00:57:21,440\nRight?\nAnybody can go there and\n\n1166\n00:57:21,440 --> 00:57:24,040\npost whatever the heck\nthey want on that site.\n\n1167\n00:57:24,040 --> 00:57:26,090\nAnd now it's an encyclopedia article.\n\n1168\n00:57:26,090 --> 00:57:29,390\nWell, you can create your own wiki,\nright here inside of the server app.\n\n1169\n00:57:30,800 --> 00:57:32,570\nAnd then lastly we've got Xcode.\n\n1170\n00:57:32,570 --> 00:57:35,070\nXcode is the development\nenvironment from Apple.\n\n1171\n00:57:35,070 --> 00:57:40,290\nIf you're writing Mac OS apps or\niOS apps, you'll typically use Xcode.\n\n1172\n00:57:40,290 --> 00:57:42,370\nYou might use a different\nIDE to write your code in,\n\n1173\n00:57:42,370 --> 00:57:44,990\nbut at the end of the day you'll\ncompile it through Xcode.\n\n1174\n00:57:44,990 --> 00:57:47,460\nIt also allows you to do testing and\nmodeling.\n\n1175\n00:57:47,460 --> 00:57:50,540\nThere's a iOS emulator\nthat's a part of Xcode.\n\n1176\n00:57:50,540 --> 00:57:52,810\nSo, if you wanna test\nthings out in iOS you can.\n\n1177\n00:57:52,810 --> 00:57:54,590\nIt's pretty useful stuff, right?\n\n1178\n00:57:54,590 --> 00:57:57,530\nIf you're not a developer you probably\ndon't care about Xcode too much.\n\n1179\n00:57:57,530 --> 00:58:00,110\nBut if you are a developer,\nit's really handy.\n\n1180\n00:58:00,110 --> 00:58:03,420\nEspecially if you have more than one\nprogrammer working on the same code.\n\n1181\n00:58:03,420 --> 00:58:07,100\nYou can create Git repositories\ninside of Xcode and\n\n1182\n00:58:07,100 --> 00:58:09,420\neverybody can share that from your server.\n\n1183\n00:58:09,420 --> 00:58:12,410\nSo now you have a central\nrepository of your source code, and\n\n1184\n00:58:12,410 --> 00:58:15,100\nyour developers are all working together,\nand collaborating.\n\n1185\n00:58:15,100 --> 00:58:16,420\nSo they don't step on each other's toes.\n\n1186\n00:58:17,920 --> 00:58:22,400\nThose are the main services, and these\nare the ones that Apple really promotes.\n\n1187\n00:58:22,400 --> 00:58:26,690\nBut some of the really cool ones\nare hidden away here under Advanced.\n\n1188\n00:58:26,690 --> 00:58:31,180\nIf we take a look here at Advanced,\nI won't taggle all of these but\n\n1189\n00:58:31,180 --> 00:58:35,290\njust to get an idea of what all's in here.\n\n1190\n00:58:35,290 --> 00:58:36,760\nMy screen's kind of sized a little weird.\n\n1191\n00:58:36,760 --> 00:58:37,680\nThere we go.\n\n1192\n00:58:37,680 --> 00:58:41,570\nWe got DHCP, that's dynamic\nhost configuration protocol.\n\n1193\n00:58:41,570 --> 00:58:43,330\nIf a machine boots up on a network and\n\n1194\n00:58:43,330 --> 00:58:46,615\nneed an IP address, we can be the guy\nthat gives them that address.\n\n1195\n00:58:46,615 --> 00:58:47,430\nRight?\n\n1196\n00:58:47,430 --> 00:58:48,490\nYou might have a router or\n\n1197\n00:58:48,490 --> 00:58:53,010\nfirewall that's doing this for you, but\nyou can use Max OS Server to do it.\n\n1198\n00:58:53,010 --> 00:58:54,910\nDNS, the domain name system.\n\n1199\n00:58:54,910 --> 00:58:58,950\nWe can resolve names to ips and vice versa\nand we'll see this in another episode.\n\n1200\n00:58:58,950 --> 00:59:01,140\nWe're gonna set that up to be\nable to be that name server.\n\n1201\n00:59:02,410 --> 00:59:04,260\nFile transfer protocol.\n\n1202\n00:59:04,260 --> 00:59:08,260\nFTP is a Unix protocol used for\nexchanging files between systems.\n\n1203\n00:59:08,260 --> 00:59:10,360\nNow I've got file sharing up here.\n\n1204\n00:59:10,360 --> 00:59:12,310\nThat does the AFP,\n\n1205\n00:59:12,310 --> 00:59:17,290\nApple file protocol, as well as SMB server\nmessage block which is for Windows.\n\n1206\n00:59:17,290 --> 00:59:21,105\nAnd NFS, the network file system\nwhich is used for Linux and Unix.\n\n1207\n00:59:21,105 --> 00:59:23,170\nRight?\nSo, it supports all of those.\n\n1208\n00:59:23,170 --> 00:59:24,620\nFTP is separate.\n\n1209\n00:59:24,620 --> 00:59:26,070\nAnd, so that's down here if I want in.\n\n1210\n00:59:26,070 --> 00:59:28,320\nNow, why do they separate it out?\n\n1211\n00:59:28,320 --> 00:59:30,260\nBecause FTP's not very secure.\n\n1212\n00:59:30,260 --> 00:59:32,820\nFTP sends your username and\npassword in plain text, so\n\n1213\n00:59:32,820 --> 00:59:34,850\nit's not the greatest thing to use.\n\n1214\n00:59:34,850 --> 00:59:39,630\nWe're normally gonna couple that with\nSSH and do secure FTP, which we'll get\n\n1215\n00:59:39,630 --> 00:59:44,800\na chance to see later on, but for\nright now, that's why FTP is hidden away.\n\n1216\n00:59:44,800 --> 00:59:45,650\nNetInstall.\nWe're\n\n1217\n00:59:45,650 --> 00:59:47,590\ngonna see NetInstall in\nthe deployment episodes.\n\n1218\n00:59:47,590 --> 00:59:49,610\nI mentioned in the beginning\nof this episode,\n\n1219\n00:59:49,610 --> 00:59:53,720\nwhen we install Yosemite, that we can\nactually install it from over the network.\n\n1220\n00:59:53,720 --> 00:59:56,860\nThat you don't even have a bootable OS\non your computer and you boot it up.\n\n1221\n00:59:56,860 --> 01:00:00,060\nIt connects to the network and downloads\nand Yosemite on a blank hard drive.\n\n1222\n01:00:00,060 --> 01:00:01,150\nAll right.\n\n1223\n01:00:01,150 --> 01:00:03,160\nAnd that installs what facilitates that.\n\n1224\n01:00:03,160 --> 01:00:07,250\nAnd that image could be modified to\nalready contain all the software we need.\n\n1225\n01:00:07,250 --> 01:00:09,410\nThat install is what facilitates that too.\n\n1226\n01:00:09,410 --> 01:00:11,140\nSo that's a pretty important part.\n\n1227\n01:00:11,140 --> 01:00:12,450\nWe'll see that in the deployment episode.\n\n1228\n01:00:14,140 --> 01:00:15,620\nOpen Directory.\n\n1229\n01:00:15,620 --> 01:00:18,720\nOpen Directory is probably\nthe single most important\n\n1230\n01:00:18,720 --> 01:00:21,140\nservice inside of the server app.\n\n1231\n01:00:21,140 --> 01:00:24,150\nNow, it's so\nimportant that it's hidden away.\n\n1232\n01:00:24,150 --> 01:00:27,530\nWell, you really need to know what you're\ndoing to configure Open Directory.\n\n1233\n01:00:27,530 --> 01:00:31,950\nNormally, when you have a Mac,\nit maintains its own user database.\n\n1234\n01:00:31,950 --> 01:00:35,240\nSo if I have ten Macs And I sit down\non one and I create an account called\n\n1235\n01:00:35,240 --> 01:00:39,510\nDon Pizette it's only on that one Mac,\nthe other nine don't know about me.\n\n1236\n01:00:39,510 --> 01:00:43,150\nAnd if I go to all ten Mac's and create\nthose accounts, great now I've got it.\n\n1237\n01:00:43,150 --> 01:00:44,320\nBut if I go to the first Mac and\n\n1238\n01:00:44,320 --> 01:00:47,135\nI change my password it doesn't\nchange in all the others.\n\n1239\n01:00:47,135 --> 01:00:49,290\nRight?\nIt's a decentralized user database\n\n1240\n01:00:50,380 --> 01:00:54,880\nOpen Directory on the other hand,\ngives us a centralized user database.\n\n1241\n01:00:54,880 --> 01:00:57,690\nAll the data is right in one database.\n\n1242\n01:00:57,690 --> 01:01:00,370\nSo if create a user account called\nDon Bissette in the Open Directory,\n\n1243\n01:01:00,370 --> 01:01:04,000\nI can go to any of the ten computers,\nand it works.\n\n1244\n01:01:04,000 --> 01:01:07,820\nAnd if I change my password on one\ncomputer, it's changed on all of them.\n\n1245\n01:01:07,820 --> 01:01:09,520\nIt's a central database.\n\n1246\n01:01:09,520 --> 01:01:13,110\nIf you more than a handful of computers,\nif have more than like five computers,\n\n1247\n01:01:13,110 --> 01:01:19,680\nOpen directory is really handy and\na great way to centralize those accounts.\n\n1248\n01:01:19,680 --> 01:01:23,040\nA question in the chatroom is,\nis NetBoot gone in this version?\n\n1249\n01:01:23,040 --> 01:01:26,485\nNetBoot is not gone,\nit's just wrapped up under Net Install.\n\n1250\n01:01:26,485 --> 01:01:27,430\nOkay?\n\n1251\n01:01:27,430 --> 01:01:29,020\nSo it'll call it out separately.\n\n1252\n01:01:29,020 --> 01:01:31,150\nThe functionality is still there though.\n\n1253\n01:01:31,150 --> 01:01:33,080\nThey just don't call it\nout with its own item.\n\n1254\n01:01:33,080 --> 01:01:35,270\nWell, we'll see that in the deployment\nepisode, we will use NetBoot.\n\n1255\n01:01:38,360 --> 01:01:41,590\nAll right, let's see,\nthat was Open Directory, Software Update.\n\n1256\n01:01:41,590 --> 01:01:43,980\nSoftware Update's another\none that's easy to confuse.\n\n1257\n01:01:43,980 --> 01:01:46,470\nBecause it's very similar\nto the caching server.\n\n1258\n01:01:46,470 --> 01:01:47,270\nAll right?\n\n1259\n01:01:47,270 --> 01:01:48,680\nWith Software Update,\n\n1260\n01:01:48,680 --> 01:01:53,940\nwhen a new update comes out from Apple,\nwe can download it to our server.\n\n1261\n01:01:53,940 --> 01:01:55,620\nAnd then when a client goes to request it,\n\n1262\n01:01:55,620 --> 01:01:58,510\nthey can get it right from our server\ninstead of going out to Apple.\n\n1263\n01:01:58,510 --> 01:01:59,190\nAll right.\n\n1264\n01:01:59,190 --> 01:02:01,710\nNow, that sounds like\nthe caching server doesn't it?\n\n1265\n01:02:01,710 --> 01:02:02,580\nIt's a little bit different.\n\n1266\n01:02:03,710 --> 01:02:07,470\nThe primary difference with the software\nupdate option, is we can pick and\n\n1267\n01:02:07,470 --> 01:02:09,730\nchoose which updates apply.\n\n1268\n01:02:09,730 --> 01:02:13,150\nMaybe a new update has come out,\nYosemite was released.\n\n1269\n01:02:13,150 --> 01:02:15,630\nBut I wanna keep my end users\non Mavericks for right now.\n\n1270\n01:02:15,630 --> 01:02:17,720\nI don't want them to go\nto Yosemite just yet.\n\n1271\n01:02:17,720 --> 01:02:20,460\nI need to make sure all my\ninfrastructure's in place.\n\n1272\n01:02:20,460 --> 01:02:24,020\nI can go into Software Update and\nI can flag Yosemite to be held.\n\n1273\n01:02:24,020 --> 01:02:26,390\nTo say, nope, don't roll this one out yet.\n\n1274\n01:02:26,390 --> 01:02:28,360\nAnd now my clients,\nwhen they go to look for\n\n1275\n01:02:28,360 --> 01:02:31,860\nupdates, they don't even see\nthe Yosemite update as available.\n\n1276\n01:02:31,860 --> 01:02:34,030\nThat's different than the caching server.\n\n1277\n01:02:34,030 --> 01:02:37,250\nWith the caching server,\nwe can't limit what they get.\n\n1278\n01:02:37,250 --> 01:02:41,030\nThey can go right out to Apple and\nget whatever they want, and we just make\n\n1279\n01:02:41,030 --> 01:02:44,030\na copy of it, and the next person who\nasks for it, we give them the copy.\n\n1280\n01:02:44,030 --> 01:02:44,550\nRight?\n\n1281\n01:02:44,550 --> 01:02:46,250\nSoftware Update lets us pick and choose.\n\n1282\n01:02:46,250 --> 01:02:47,590\nAll right?\n\n1283\n01:02:47,590 --> 01:02:51,370\nThat being said, Software Update doesn't\nget some things that the caching server\n\n1284\n01:02:51,370 --> 01:02:54,290\nactually backs up more data than\nwhat the software update does.\n\n1285\n01:02:54,290 --> 01:02:55,360\nWe'll see a little bit more of that later.\n\n1286\n01:02:57,810 --> 01:03:01,060\nAnd then the very last one is Xsan.\n\n1287\n01:03:01,060 --> 01:03:04,510\nXsan is the storage area network\nsoftware that Apple produces.\n\n1288\n01:03:04,510 --> 01:03:08,120\nIt's really designed for you buy\ntheir Xsan storage equipment, right,\n\n1289\n01:03:08,120 --> 01:03:09,780\ntheir fiber channel storage.\n\n1290\n01:03:09,780 --> 01:03:13,730\nYou can attach it to your server, and your\nserver can manage that, manage building up\n\n1291\n01:03:13,730 --> 01:03:17,250\nRAID arrays across all the storage and\nmaking them available on the network.\n\n1292\n01:03:17,250 --> 01:03:21,140\nSo, Xsan, really only necessary\nif you bought that Apple storage.\n\n1293\n01:03:21,140 --> 01:03:23,020\nYou can use it with other\ntypes of storage, but\n\n1294\n01:03:23,020 --> 01:03:25,460\nApple doesn't technically support that.\n\n1295\n01:03:25,460 --> 01:03:25,980\nAll right?\n\n1296\n01:03:25,980 --> 01:03:29,310\nAnd notice on mine, when I choose Xsan,\nthis is the first one or\n\n1297\n01:03:29,310 --> 01:03:31,120\nI can't choose the on button.\n\n1298\n01:03:31,120 --> 01:03:32,720\nIt won't even let me turn it on,\n\n1299\n01:03:32,720 --> 01:03:37,320\nbecause I don't have Xaan fiber storage\nattached to it, it's just not available.\n\n1300\n01:03:38,840 --> 01:03:41,850\nSo, those are the primary functions,\nI wasn't going to go through all of them,\n\n1301\n01:03:41,850 --> 01:03:42,420\nbut I guess I did.\n\n1302\n01:03:42,420 --> 01:03:43,960\nI kind of went through all of them.\n\n1303\n01:03:43,960 --> 01:03:46,140\nSome of them are more\nimportant than others, and\n\n1304\n01:03:46,140 --> 01:03:47,755\nnot all of them are on the exam.\n\n1305\n01:03:47,755 --> 01:03:49,580\nRight?\nReally just the most common ones,\n\n1306\n01:03:49,580 --> 01:03:51,180\nthose are the ones that turn up but\n\n1307\n01:03:51,180 --> 01:03:54,340\nfor the most part,\nthese are the services that are available.\n\n1308\n01:03:54,340 --> 01:03:58,458\nThere's actually a few other\nservices that aren't in the GUI.\n\n1309\n01:03:58,458 --> 01:04:01,410\nThere's some things that you can\ndrop to the command prompt and\n\n1310\n01:04:01,410 --> 01:04:04,760\naccess that aren't here in the GUI,\nand those are really rarely used.\n\n1311\n01:04:04,760 --> 01:04:08,072\nThings that you typically aren't going to\nneed And they don't normally show up on\n\n1312\n01:04:08,072 --> 01:04:10,240\nthe exam but\nthere are a few others that are out there.\n\n1313\n01:04:10,240 --> 01:04:14,695\nBut it's pretty powerful stuff, it's all\nright here nice and neat in our GUI.\n\n1314\n01:04:16,404 --> 01:04:20,580\nThe last thing that I wanna mention before\nwe wrap this episode up, is upgrading.\n\n1315\n01:04:21,710 --> 01:04:25,890\nI mentioned at the beginning of\nthe episode, that the server app is\n\n1316\n01:04:25,890 --> 01:04:30,090\nnot compatible, not backwards compatible,\nbetween versions of the OS.\n\n1317\n01:04:30,090 --> 01:04:34,060\nSo if you have a Maverick server, and\nyou're up and you're running Mavericks,\n\n1318\n01:04:34,060 --> 01:04:37,060\nand you're running the Mavericks\nversion of server app.\n\n1319\n01:04:37,060 --> 01:04:38,240\nAll right.\n\n1320\n01:04:38,240 --> 01:04:42,100\nWhen you upgrade to Yosemite,\nyour server app's still installed.\n\n1321\n01:04:42,100 --> 01:04:43,560\nBut it won't run.\n\n1322\n01:04:43,560 --> 01:04:47,305\nThe Yosemite install will finish,\nyour system will reboot, and\n\n1323\n01:04:47,305 --> 01:04:49,361\nyour server app won't run, okay?\n\n1324\n01:04:49,361 --> 01:04:53,739\nAnd that's because you're now running\na version of the app that's designed for\n\n1325\n01:04:53,739 --> 01:04:55,780\na different OS, all right.\n\n1326\n01:04:55,780 --> 01:04:58,700\nAnd so whenever you upgrade OS's,\n\n1327\n01:04:58,700 --> 01:05:03,980\nit's important that you follow that up,\nby upgrading the server app also.\n\n1328\n01:05:03,980 --> 01:05:07,640\nWhen you upgrade the OS, it reboots and\nyour service is now offline.\n\n1329\n01:05:07,640 --> 01:05:09,540\nSo your end users are disconnected.\n\n1330\n01:05:09,540 --> 01:05:12,240\nYou jump into the App Store,\nand you do the update for\n\n1331\n01:05:12,240 --> 01:05:17,380\nserver app also, once it updates, it'll\nreach out and update its configuration\n\n1332\n01:05:17,380 --> 01:05:20,900\nfiles to match the new software, and\nthen start it all back up again.\n\n1333\n01:05:20,900 --> 01:05:22,350\nBe careful with that.\n\n1334\n01:05:22,350 --> 01:05:26,140\nThose changes, the config files can\nbreak things from time to time.\n\n1335\n01:05:26,140 --> 01:05:28,100\nSome updates have been\nmore smooth than others.\n\n1336\n01:05:28,100 --> 01:05:31,380\nGoing Mavericks to Yosemite,\nI haven't had a problem with that yet.\n\n1337\n01:05:31,380 --> 01:05:33,700\nBut going like Mountain Lion up,\n\n1338\n01:05:33,700 --> 01:05:35,770\nthat was a different story\nI had some problems there.\n\n1339\n01:05:35,770 --> 01:05:38,160\nSo it's a good idea to have a test server.\n\n1340\n01:05:38,160 --> 01:05:41,410\nTake a Time Machine backup of your server,\ngo to separate hardware or\n\n1341\n01:05:41,410 --> 01:05:44,020\na virtual machine and\nrestore that Time Machine backup.\n\n1342\n01:05:44,020 --> 01:05:47,140\nThen take that and try and\nupdate it and see what happens.\n\n1343\n01:05:47,140 --> 01:05:50,220\nIf you have problems that gives you\na chance to troubleshoot it without\n\n1344\n01:05:50,220 --> 01:05:53,000\naffecting your production system, and\nthat's pretty critical if you wanna keep\n\n1345\n01:05:53,000 --> 01:05:57,110\nyour systems up and running, right,\ndefinitely take a look at that.\n\n1346\n01:05:57,110 --> 01:05:59,880\nBut otherwise the updates\nnormally go pretty smooth.\n\n1347\n01:05:59,880 --> 01:06:03,560\nYou update the host OS,\nit reboots into the new OS.\n\n1348\n01:06:03,560 --> 01:06:06,820\nGo to your app store,\nupdate the server app.\n\n1349\n01:06:06,820 --> 01:06:09,080\nOne word of caution though.\n\n1350\n01:06:09,080 --> 01:06:12,150\nOnce a new version of\na server app comes out,\n\n1351\n01:06:12,150 --> 01:06:15,270\nthey removed the app store\nlinks to the old version.\n\n1352\n01:06:15,270 --> 01:06:17,490\nSo when the Yosemite server came out,\n\n1353\n01:06:17,490 --> 01:06:20,250\nthe server app in the app\nstore was immediately updated.\n\n1354\n01:06:20,250 --> 01:06:22,660\nWell, what if I'm bringing\nup a new Maverick server?\n\n1355\n01:06:22,660 --> 01:06:23,640\nThe link is gone.\n\n1356\n01:06:23,640 --> 01:06:25,420\nYou can't get to it, okay.\n\n1357\n01:06:25,420 --> 01:06:27,410\nSo that creates a bit of a problem.\n\n1358\n01:06:27,410 --> 01:06:29,020\nSo I know I've gotten in the habit.\n\n1359\n01:06:29,020 --> 01:06:31,778\nLet me kind of show you guys what do.\n\n1360\n01:06:31,778 --> 01:06:37,302\nI've gotten in this habit of\nwhen I do any kind of update,\n\n1361\n01:06:37,302 --> 01:06:40,642\nI save the old server apps.\n\n1362\n01:06:40,642 --> 01:06:43,644\nSo in my laptop here is\nrunning 10.10 Yosemite, and\n\n1363\n01:06:43,644 --> 01:06:45,778\nI've saved the server app right there.\n\n1364\n01:06:45,778 --> 01:06:48,790\n10.9 Mavericks,\nI've saved the server app also.\n\n1365\n01:06:48,790 --> 01:06:50,630\nAnd I know it's hard to see\non this little screen, but\n\n1366\n01:06:50,630 --> 01:06:51,810\nwell you see it really big right there.\n\n1367\n01:06:51,810 --> 01:06:53,240\nThere's a nice, big slash on it.\n\n1368\n01:06:53,240 --> 01:06:56,486\nIt's letting me know that this is\nthe server app for a previous version.\n\n1369\n01:06:56,486 --> 01:06:58,570\nSee it's version 3.2.2.\n\n1370\n01:06:58,570 --> 01:07:03,050\nThis was the Mavericks one, and so before\nI did an update I backed that file up.\n\n1371\n01:07:03,050 --> 01:07:06,340\nJust in case I need to bring up another\nMaverick server, I've got it handy.\n\n1372\n01:07:06,340 --> 01:07:10,760\nIf I try and run it, It's gonna tell me it\ndoesn't work with this version of Mac OS.\n\n1373\n01:07:10,760 --> 01:07:12,070\nI'm on Yosemite,\n\n1374\n01:07:12,070 --> 01:07:15,220\nI'm trying to run the Mavericks version\nof the server app, and it won't let me.\n\n1375\n01:07:15,220 --> 01:07:19,108\nOkay, so\nthat is something we need to be aware of.\n\n1376\n01:07:19,108 --> 01:07:23,020\nIf you needed the old version,\nthough, there is a way to get to it.\n\n1377\n01:07:23,020 --> 01:07:25,120\nI'll post this in the show notes.\n\n1378\n01:07:25,120 --> 01:07:26,028\nLet's see, it's in here somewhere.\n\n1379\n01:07:26,028 --> 01:07:30,393\nHere we go, there's a link in the show\nnotes that says downloading previous\n\n1380\n01:07:30,393 --> 01:07:34,482\nversions, and it'll take you to\nan Apple knowledge base article, and\n\n1381\n01:07:34,482 --> 01:07:39,070\nwhat they do is they post links that go\ndirectly to the old versions, all right.\n\n1382\n01:07:39,070 --> 01:07:41,484\nSo I've got a link that goes right\nto the Mountain Lion version or\n\n1383\n01:07:41,484 --> 01:07:43,920\na link that goes right to\nthe Mavericks version.\n\n1384\n01:07:43,920 --> 01:07:49,760\nIf I were to fire up my App Store,\nand go in here and search for server.\n\n1385\n01:07:51,400 --> 01:07:54,670\nIt's only gonna show me the latest and\ngreatest.\n\n1386\n01:07:54,670 --> 01:07:57,999\nRight?\nI'm only gonna see 4.0.3 and\n\n1387\n01:07:57,999 --> 01:08:01,060\nthat will only install on Yosemite.\n\n1388\n01:08:02,070 --> 01:08:04,300\nSo if I'm on a Mavericks\nbox that's not gonna work.\n\n1389\n01:08:04,300 --> 01:08:05,920\nIf I'm on a Mountain Lion\nbox that's not gonna work.\n\n1390\n01:08:05,920 --> 01:08:07,260\nIt won't even let you download it.\n\n1391\n01:08:07,260 --> 01:08:10,250\nIt'll show it, but\nit won't let you download it.\n\n1392\n01:08:10,250 --> 01:08:12,550\nBut if I'm on a Mavericks box, and\n\n1393\n01:08:12,550 --> 01:08:16,400\nI click on this link,\nit'll go straight to that version.\n\n1394\n01:08:16,400 --> 01:08:20,290\nTo 3.2.2, see how it shows that 3.2.2?\n\n1395\n01:08:20,290 --> 01:08:23,050\nAnd now I can download it and install it.\n\n1396\n01:08:23,050 --> 01:08:26,150\nNow it's showing that I need to buy it,\nbut I've actually already bought it.\n\n1397\n01:08:26,150 --> 01:08:30,100\nIf I click on it, it's gonna tell me, well\nactually it won't even let me do it here.\n\n1398\n01:08:30,100 --> 01:08:33,080\nIt's saying server can't be\ninstalled on Macintosh HD\n\n1399\n01:08:33,080 --> 01:08:36,210\nbecause the version of OS X is too new.\n\n1400\n01:08:36,210 --> 01:08:40,210\nI'm running Yosemite, I'm trying to\ndownload Mavericks and it won't let me and\n\n1401\n01:08:40,210 --> 01:08:40,892\nit's giving me that error.\n\n1402\n01:08:40,892 --> 01:08:42,080\nAll right.\n\n1403\n01:08:42,080 --> 01:08:46,070\nIf I was on a Mavericks machine,\nwhat it would've said is,\n\n1404\n01:08:46,070 --> 01:08:50,860\nthis update is free because\nyou've purchased a newer version.\n\n1405\n01:08:50,860 --> 01:08:54,030\nIt'll let me download the older version\nbecause I purchased the new one.\n\n1406\n01:08:54,030 --> 01:08:55,390\nIt doesn't work the other way around.\n\n1407\n01:08:55,390 --> 01:08:58,590\nIf you purchased an old version, it\ndoesn't let you get the new one for free,\n\n1408\n01:08:58,590 --> 01:08:59,780\nthe new one you have to buy.\n\n1409\n01:08:59,780 --> 01:09:01,340\nBut it does let you go backwards.\n\n1410\n01:09:01,340 --> 01:09:05,560\nSo if I were on a Mavericks machine, I'd\nbe able to hit that install button, and\n\n1411\n01:09:05,560 --> 01:09:07,310\nit would install the Mavericks version.\n\n1412\n01:09:07,310 --> 01:09:08,930\nBut I have to have that direct link.\n\n1413\n01:09:08,930 --> 01:09:10,710\nYou can't find this by searching.\n\n1414\n01:09:10,710 --> 01:09:13,460\nIf you just search for server,\nyou're only gonna find the new one.\n\n1415\n01:09:13,460 --> 01:09:17,390\nSo this little knowledge base article is\nkind of a handy thing to keep around.\n\n1416\n01:09:17,390 --> 01:09:19,120\nThat's why I put it in the show notes.\n\n1417\n01:09:19,120 --> 01:09:22,880\nCuz you may need that old\nversion of the server app.\n\n1418\n01:09:22,880 --> 01:09:23,710\nOr you can do like I do, and\n\n1419\n01:09:23,710 --> 01:09:27,020\nI've just gotten in the habit\nof saving those server apps.\n\n1420\n01:09:27,020 --> 01:09:28,990\nI've got several more\nversions of it at home.\n\n1421\n01:09:28,990 --> 01:09:29,780\nI think I have a lot.\n\n1422\n01:09:29,780 --> 01:09:31,340\nI think I've got the complete set.\n\n1423\n01:09:31,340 --> 01:09:34,350\nBut they are are pretty\nhand thing to keep around.\n\n1424\n01:09:35,500 --> 01:09:39,240\nAlso remember though, if you're backing\nthese apps up, you can't just copy it to\n\n1425\n01:09:39,240 --> 01:09:43,080\na machine and run it, you do at least\nhave to launch the App Store once, and\n\n1426\n01:09:43,080 --> 01:09:45,710\nlog in with a valid Apple ID.\n\n1427\n01:09:45,710 --> 01:09:48,576\nYou gotta log in with your Apple ID,\notherwise it won't let you run the app.\n\n1428\n01:09:48,576 --> 01:09:52,150\nIt still requires of a license, but\nhaving the server app already downloaded\n\n1429\n01:09:52,150 --> 01:09:54,460\nstops you from having to find\nthese crazy links, right?\n\n1430\n01:09:54,460 --> 01:09:58,110\nSo either way, you can go and\nget those and Apple makes them available.\n\n1431\n01:09:59,800 --> 01:10:00,750\nSo just keep that in mind.\n\n1432\n01:10:00,750 --> 01:10:02,320\nAnd that link is gonna\nbe in this show notes.\n\n1433\n01:10:04,028 --> 01:10:08,560\nAll right, I believe that's about all we\nneed for getting this stuff installed.\n\n1434\n01:10:08,560 --> 01:10:12,139\nIt's really not that big of a deal\nto get the software installed,\n\n1435\n01:10:12,139 --> 01:10:16,320\nonce it's in place the real work,\nis getting all the services configured.\n\n1436\n01:10:16,320 --> 01:10:19,090\nAnd that's what we're gonna be\ntaking a look at in later episodes.\n\n1437\n01:10:19,090 --> 01:10:21,790\nWe're actually not done\nwith objective one though.\n\n1438\n01:10:21,790 --> 01:10:23,900\nWe still have some other\nthings like remote management.\n\n1439\n01:10:23,900 --> 01:10:26,420\nWe talked a little bit about it,\nbut we haven't seen it, so\n\n1440\n01:10:26,420 --> 01:10:29,610\nI wanna get a change to look at\nremote management, troubleshooting,\n\n1441\n01:10:29,610 --> 01:10:33,660\nlog files, a lot of the other stuff's\ninvolved in a brand new install.\n\n1442\n01:10:33,660 --> 01:10:36,240\nThose are the episodes that\nare gonna be coming up.\n\n1443\n01:10:36,240 --> 01:10:39,570\nBut for right now this is a pretty\ngood spot to wrap this episode up.\n\n1444\n01:10:39,570 --> 01:10:42,820\nSo let me just remind you guys,\nif you have questions\n\n1445\n01:10:42,820 --> 01:10:46,560\non any of things that I talk about in\nthis episode, please feel free to ask.\n\n1446\n01:10:46,560 --> 01:10:49,990\nLive during the show you\ncan go to itpro.tv/live,\n\n1447\n01:10:49,990 --> 01:10:52,060\nyou'll see the chat room\nright beneath the video.\n\n1448\n01:10:52,060 --> 01:10:53,230\nPost your questions there.\n\n1449\n01:10:53,230 --> 01:10:55,403\nWe monitor and answer during the show.\n\n1450\n01:10:55,403 --> 01:10:58,196\nIf you have any questions after the show,\nuse our Q and\n\n1451\n01:10:58,196 --> 01:11:00,195\nA forms at any time, 24 hours a day.\n\n1452\n01:11:00,195 --> 01:11:03,940\nYou can come to our website, click on the\nQ and A link at the top of all our pages.\n\n1453\n01:11:03,940 --> 01:11:06,190\nIt'll take you to the question and\nanswer forums.\n\n1454\n01:11:06,190 --> 01:11:09,330\nPost your questions there,\nwe monitor and answer after the show.\n\n1455\n01:11:09,330 --> 01:11:13,150\nIt's a great way to get help, and make\nsure you have the information you need.\n\n1456\n01:11:13,150 --> 01:11:14,736\nAll right,\nwell I hope you guys enjoyed the episode.\n\n1457\n01:11:14,736 --> 01:11:18,986\nSigning off for ITProTV,\nI'm Don Pezet and I'll see you next time.\n\n1458\n01:11:18,986 --> 01:11:28,986\n[MUSIC]\n\n1459\n01:11:32,945 --> 01:11:38,850\n[SOUND]\n\n",
          "vimeoId": "121773259"
        },
        {
          "description": "In this episode Don walks us through the various name-lookup configurations for Mac OS X Server. He shows how to set the hostname for your server, how to create DNS zones and host records, and demonstrates setting up redundant DNS servers.",
          "length": "2877",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-1-2-dns-031015-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-1-2-dns-031015-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-1-2-dns-031015-1-sm.jpg",
          "title": "DNS",
          "transcript": "1\n00:00:00,000 --> 00:00:10,000\n[MUSIC]\n\n2\n00:00:33,503 --> 00:00:36,130\nGood morning, good afternoon,\nand good evening.\n\n3\n00:00:36,130 --> 00:00:38,629\nAnd welcome back to another\nepisode of ITProTV.\n\n4\n00:00:38,629 --> 00:00:40,500\nI'm your host Don Pezet.\n\n5\n00:00:40,500 --> 00:00:44,710\nBack again with another episode of\nApple Certified Technical Coordinator.\n\n6\n00:00:44,710 --> 00:00:46,940\nIn this episode,\nwe're gonna be taking a look at DNS.\n\n7\n00:00:46,940 --> 00:00:48,490\nThe domain naming system,\n\n8\n00:00:48,490 --> 00:00:52,290\nwhich is a pretty important piece\nof any network that's out there.\n\n9\n00:00:52,290 --> 00:00:53,600\nWe use it every day.\n\n10\n00:00:53,600 --> 00:00:57,176\nLet's cover some of the basics first,\nand see why it's important, and\n\n11\n00:00:57,176 --> 00:01:00,878\nthen we're going to see how to set that\nup, inside of our Mac OS server app.\n\n12\n00:01:00,878 --> 00:01:03,253\nSo, why is DNS important to us?\n\n13\n00:01:03,253 --> 00:01:07,809\nThe main reason is every computer that\ncommunicates on the network has to have\n\n14\n00:01:07,809 --> 00:01:09,170\nan address.\n\n15\n00:01:09,170 --> 00:01:10,055\nBut unfortunately,\n\n16\n00:01:10,055 --> 00:01:13,211\nthose addresses [LAUGH] are written in\na way that's really hard to remember.\n\n17\n00:01:13,211 --> 00:01:17,643\n[LAUGH] So, [LAUGH] if you look\nat the address of your server,\n\n18\n00:01:17,643 --> 00:01:24,170\nit might be something like 192.168.0.55,\nor 10.1.74.12.\n\n19\n00:01:24,170 --> 00:01:26,045\nIt might be a IPv6 address.\n\n20\n00:01:26,045 --> 00:01:32,836\nIt might be something like 2003:4289:,\nthat one goes on long, and long.\n\n21\n00:01:32,836 --> 00:01:34,211\nI won't bore us with that one.\n\n22\n00:01:34,211 --> 00:01:38,160\nThey can be really complex,\nand massive addresses.\n\n23\n00:01:38,160 --> 00:01:40,940\nAnd if that is the case,\nwho's gonna remember that?\n\n24\n00:01:40,940 --> 00:01:42,546\nNobody's gonna remember that.\n\n25\n00:01:42,546 --> 00:01:47,045\nSo, the DNS is a service that steps in,\nand solves that problem for us.\n\n26\n00:01:47,045 --> 00:01:50,200\nIt allows us to attach\na name to the address.\n\n27\n00:01:50,200 --> 00:01:53,504\nAnd now, I don't have to remember the\naddress, I just have to remember the name.\n\n28\n00:01:53,504 --> 00:01:57,460\nNow, you guys might remember from the\nepisode where we installed the server app,\n\n29\n00:01:57,460 --> 00:02:01,210\none of the things that we were able\nto adjust in there was our host name.\n\n30\n00:02:01,210 --> 00:02:03,680\nThe name associated with our server.\n\n31\n00:02:03,680 --> 00:02:06,870\nAnd that works out great for\nour local clients.\n\n32\n00:02:06,870 --> 00:02:08,070\nOur clients that are using Bonjour.\n\n33\n00:02:08,070 --> 00:02:11,760\nThey'll find our laptop, or desktop,\nor server, they'll find it just fine.\n\n34\n00:02:11,760 --> 00:02:13,010\nBut it doesn't work out so\n\n35\n00:02:13,010 --> 00:02:15,670\nwell for the clients that\nare out there on the Internet.\n\n36\n00:02:15,670 --> 00:02:17,970\nIf somebody is out there on the Internet,\nhow are they gonna do a lookup?\n\n37\n00:02:17,970 --> 00:02:22,100\nWell, you can't send a Bonjour broadcast\nacross the Internet, you'd discover, well,\n\n38\n00:02:22,100 --> 00:02:23,580\nthe whole world I suppose.\n\n39\n00:02:23,580 --> 00:02:26,640\nYou wouldn't discover much though,\nthe ISPs will usually stop that.\n\n40\n00:02:26,640 --> 00:02:29,030\nSo, we need something\nelse to help us with it.\n\n41\n00:02:29,030 --> 00:02:32,003\nAnd that's where DNS comes\ninto the big picture.\n\n42\n00:02:32,003 --> 00:02:36,610\nSo, let's re-visit that host name\nsetting real quick on my server.\n\n43\n00:02:36,610 --> 00:02:40,480\nAnd then from there, we'll take a look\nat the DNS that go along with that.\n\n44\n00:02:40,480 --> 00:02:42,390\nSo, I'm gonna start\nright here on my server.\n\n45\n00:02:42,390 --> 00:02:45,950\nAnd I'm just gonna fire up my server app,\nand\n\n46\n00:02:45,950 --> 00:02:49,870\nin the server app If I connect to my box.\n\n47\n00:02:49,870 --> 00:02:53,700\nLet me just authenticate here really\nquick, or I'll try to authenticate,\n\n48\n00:02:53,700 --> 00:02:54,610\nthere we go.\n\n49\n00:02:54,610 --> 00:02:59,130\nAnd right on the main screen of\nthe server app, you'll see your DNS name.\n\n50\n00:02:59,130 --> 00:03:00,430\nThe name attached to your system.\n\n51\n00:03:00,430 --> 00:03:02,920\nNow, you'll also see your computer name.\n\n52\n00:03:02,920 --> 00:03:08,260\nAnd the difference between the two, is one\nis what's called a fully qualified name.\n\n53\n00:03:08,260 --> 00:03:11,960\nWhen we do a lookup for a DNS name,\nthe name is made up of two pieces.\n\n54\n00:03:11,960 --> 00:03:14,560\nThere's the host, and\nthen there's the domain.\n\n55\n00:03:15,600 --> 00:03:19,880\nSo take for example,\nsomething like www.apple.com.\n\n56\n00:03:19,880 --> 00:03:24,110\nIf I fire up a web browser,\nand I go to Apple's website,\n\n57\n00:03:24,110 --> 00:03:27,330\nso I just type in www.apple.com.\n\n58\n00:03:27,330 --> 00:03:32,880\nWhen I browse to that address,\nwell, apple.com, that's domain.\n\n59\n00:03:32,880 --> 00:03:37,840\nThe domain is apple.com, and\ninside of it they have a number of hosts,\n\n60\n00:03:37,840 --> 00:03:39,460\nwww, was the host.\n\n61\n00:03:39,460 --> 00:03:42,860\nThat identified the server\nI was trying to connect to.\n\n62\n00:03:42,860 --> 00:03:45,180\nSo there it is,\nI'm able to get to their site, and\n\n63\n00:03:45,180 --> 00:03:47,160\nI didn't have to know their address.\n\n64\n00:03:47,160 --> 00:03:52,140\nWell, your computer name is just\nthe name of your individual server.\n\n65\n00:03:52,140 --> 00:03:55,020\nThe host name is the fully qualified name.\n\n66\n00:03:55,020 --> 00:03:57,060\nIt'll have a domain attached to it.\n\n67\n00:03:57,060 --> 00:04:01,270\nNow, when you set up that name,\nwhen we did it in that earlier episode,\n\n68\n00:04:01,270 --> 00:04:04,030\nI said hey, I'm just gonna\nmake this a local only server.\n\n69\n00:04:04,030 --> 00:04:09,340\nAnd when you do that, the default is it\nwill name your computer whatever you've\n\n70\n00:04:09,340 --> 00:04:14,750\nchosen the computer name to be followed\nby .local, .local is the domain name.\n\n71\n00:04:14,750 --> 00:04:18,070\nWell, .local is not a value\ndomain out on the Internet, so\n\n72\n00:04:18,070 --> 00:04:22,420\nthis will only be locally useful\nright here on my own LAN.\n\n73\n00:04:22,420 --> 00:04:24,960\nBut that's all I needed of course,\nso that was fine.\n\n74\n00:04:24,960 --> 00:04:27,860\nBut if I wanna become available\non the Internet, well now,\n\n75\n00:04:27,860 --> 00:04:30,740\nI'm gonna need a fully\nqualified domain name.\n\n76\n00:04:30,740 --> 00:04:32,280\nSo, I'm gonna need to\nmodify that a little bit.\n\n77\n00:04:32,280 --> 00:04:34,340\nI need to get that local\nflag out of there, and\n\n78\n00:04:34,340 --> 00:04:37,189\nreplace it with something that is a valid,\nlegitimate domain name.\n\n79\n00:04:38,250 --> 00:04:40,540\nSo I'll just go in here,\nand edit my settings.\n\n80\n00:04:40,540 --> 00:04:43,211\nI'm gonna change that\nto be something valid.\n\n81\n00:04:43,211 --> 00:04:47,947\nNow, when I go through, and do this,\nit's gonna ask me the basic questions\n\n82\n00:04:47,947 --> 00:04:52,170\nabout the name, and\nI've already named my server OSX-Server1.\n\n83\n00:04:52,170 --> 00:04:56,060\nI'm happy with that name, and\nthat's a good name on the local network.\n\n84\n00:04:56,060 --> 00:04:58,030\nOther clients will use\nthe Bonjour protocol,\n\n85\n00:04:58,030 --> 00:04:59,690\nthey'll find it, they'll connect.\n\n86\n00:04:59,690 --> 00:05:01,480\nIt'll work just fine.\n\n87\n00:05:01,480 --> 00:05:04,480\nBut for the Internet,\nyou need a fully qualified name.\n\n88\n00:05:04,480 --> 00:05:06,970\nSo here, when I tell it I'm gonna\nbe connected to the Internet,\n\n89\n00:05:06,970 --> 00:05:09,562\nin the wizard, and I move forward.\n\n90\n00:05:09,562 --> 00:05:12,320\nIt's gonna ask me my computer name,\nand my host name.\n\n91\n00:05:12,320 --> 00:05:14,710\nAnd I can't leave it .local.\n\n92\n00:05:14,710 --> 00:05:17,960\nI need to replace that\nwith something else, and\n\n93\n00:05:17,960 --> 00:05:22,890\nit doesn't have to match what's actually\nbeing set for the server name up here.\n\n94\n00:05:22,890 --> 00:05:24,770\nI can choose something\ncompletely different.\n\n95\n00:05:24,770 --> 00:05:29,713\nSo, if this is gonna be my mail server,\nI might wanna call this mail.itpro.tv,\n\n96\n00:05:29,713 --> 00:05:30,880\nand that's fine.\n\n97\n00:05:30,880 --> 00:05:35,120\nLocally on my network,\nI know that it's OSX-Server1.\n\n98\n00:05:35,120 --> 00:05:38,700\nBut on the Internet,\nI want it to be known as mail@ITProTV.\n\n99\n00:05:38,700 --> 00:05:39,420\nSo, I can change that.\n\n100\n00:05:39,420 --> 00:05:40,836\nI could set it to whatever I need.\n\n101\n00:05:40,836 --> 00:05:48,295\nNow, I'm gonna go ahead, and set this one\nto, let's do, osx-server1.lab.itpro.tv.\n\n102\n00:05:48,295 --> 00:05:50,040\nSo, that's what I'm gonna set it to.\n\n103\n00:05:50,040 --> 00:05:53,240\nNow, notice my domain is a little\nbigger than a normal one.\n\n104\n00:05:53,240 --> 00:05:56,882\nNormally, you would just have\ns domain.com, .net, .org, or\n\n105\n00:05:56,882 --> 00:05:58,128\nsomething like that.\n\n106\n00:05:58,128 --> 00:06:00,086\nBut you can have sub-domains too.\n\n107\n00:06:00,086 --> 00:06:03,211\nI've got lab.itpro.tv.\n\n108\n00:06:03,211 --> 00:06:06,530\nThat's a sub-domain of our\nparent domain itpro.tv.\n\n109\n00:06:06,530 --> 00:06:10,390\nSo, DNS has a hierarchical structure\nyou can use to build up this type of\n\n110\n00:06:10,390 --> 00:06:12,290\narrangement, and it works really easy.\n\n111\n00:06:12,290 --> 00:06:14,100\nWe'll see that in a moment,\nin the DNS server.\n\n112\n00:06:15,340 --> 00:06:17,120\nSo, I've got that set right here.\n\n113\n00:06:17,120 --> 00:06:20,753\nI do, let's see, I don't remember if\nI set a static IP address, or not.\n\n114\n00:06:20,753 --> 00:06:25,100\nIf you're gonna be doing DNS mappings,\nyou really need to have a static address.\n\n115\n00:06:25,100 --> 00:06:29,510\nIf your address changes, the named\nIP mapping is no longer accurate.\n\n116\n00:06:29,510 --> 00:06:31,000\nSo I'm gonna go ahead, and\nhit the Edit button here, and\n\n117\n00:06:31,000 --> 00:06:32,950\njust check to see if I\nhave a static address.\n\n118\n00:06:32,950 --> 00:06:33,765\nI don't think, I do.\n\n119\n00:06:33,765 --> 00:06:35,320\nYep, I'm set for dynamic.\n\n120\n00:06:35,320 --> 00:06:38,128\nSo, I'm gonna flip that\nover to a manual address.\n\n121\n00:06:38,128 --> 00:06:44,336\nSo that I always know what my address is,\nand so I'll just set that to 10.1.230.248.\n\n122\n00:06:44,336 --> 00:06:46,130\nIt will be the address that I'm using.\n\n123\n00:06:46,130 --> 00:06:48,310\nAnd I'll see some of my\nother settings here.\n\n124\n00:06:48,310 --> 00:06:51,180\nI'm gonna just leave those be,\nfor right now.\n\n125\n00:06:51,180 --> 00:06:52,840\nNotice my search domain?\n\n126\n00:06:52,840 --> 00:06:56,300\nThe search domain is set\nup to studio.itpro.tv.\n\n127\n00:06:56,300 --> 00:07:00,376\nIf I do a search for\na name, like OSX-Server2.\n\n128\n00:07:00,376 --> 00:07:05,320\nIf I lookup that name just by itself,\nwell, it's gonna do a Bonjour broadcast,\n\n129\n00:07:05,320 --> 00:07:06,530\nand try, and find it.\n\n130\n00:07:06,530 --> 00:07:10,480\nAnd if it can't find it, if it's\nnobody out there answers that name,\n\n131\n00:07:10,480 --> 00:07:13,540\nthen it's got to go somewhere else,\nand it's gonna go to DNS.\n\n132\n00:07:13,540 --> 00:07:15,620\nBut DNS can't just lookup a single name.\n\n133\n00:07:15,620 --> 00:07:18,660\nYou can't tell it hey,\nI've got OSX-Server2, who is that.\n\n134\n00:07:18,660 --> 00:07:20,570\nIt needs a fully qualified domain.\n\n135\n00:07:20,570 --> 00:07:22,504\nSo when you put a search domain,\n\n136\n00:07:22,504 --> 00:07:26,170\nthat's a name you will attach\nto any single name you lookup.\n\n137\n00:07:26,170 --> 00:07:28,819\nSo if I lookup just OSX-Server2,\n\n138\n00:07:28,819 --> 00:07:33,336\nit'll actually append\nstudio.itpro.tv to the end of it.\n\n139\n00:07:33,336 --> 00:07:35,040\nNow, I wanna change that to lab.\n\n140\n00:07:36,350 --> 00:07:38,130\nBecause that's the network\nthat I'm making here.\n\n141\n00:07:38,130 --> 00:07:42,378\nSo, I'm just gonna keep it consistent,\nand get that set.\n\n142\n00:07:42,378 --> 00:07:44,086\nI'm gonna go ahead, and hit Apply on that.\n\n143\n00:07:44,086 --> 00:07:46,980\nNow, I'm hitting Apply, and\nit tells me it's configuring.\n\n144\n00:07:46,980 --> 00:07:50,420\nIt's a good idea to watch this, and\nmake sure the addresses stay the same.\n\n145\n00:07:50,420 --> 00:07:54,295\nIf it detects a duplicate on the network,\nit may flip you back to DHCP.\n\n146\n00:07:54,295 --> 00:07:55,907\nSo, it's always a good idea to watch that.\n\n147\n00:07:55,907 --> 00:07:57,498\nSee, where it says evaluating network.\n\n148\n00:07:57,498 --> 00:07:59,507\nIt is making sure that I\ndidn't get a duplicate.\n\n149\n00:07:59,507 --> 00:08:02,598\nSo, we'll find out in here, in just\na moment whether it is happy Usually it\n\n150\n00:08:02,598 --> 00:08:05,312\ndoesn't take this long, so\nwe might actually have a duplicate.\n\n151\n00:08:05,312 --> 00:08:06,999\nI guess,\nI could have pinged to the address first\n\n152\n00:08:06,999 --> 00:08:08,283\n[LAUGH] to make sure it wasn't in use.\n\n153\n00:08:08,283 --> 00:08:10,190\nOop, nope, it looks like it was happy.\n\n154\n00:08:10,190 --> 00:08:11,480\nIt actually shows 10.1.230.248, and\n\n155\n00:08:11,480 --> 00:08:16,550\nyou can hit Edit again to verify, and\nmake sure that those settings stayed.\n\n156\n00:08:16,550 --> 00:08:18,100\nIt looks like all of mine are good.\n\n157\n00:08:18,100 --> 00:08:20,560\nSo, we'll leave that be,\nand we'll finish up.\n\n158\n00:08:22,830 --> 00:08:27,017\nNow, it's gonna give me a message,\nit's telling me, do I want to setup DNS?\n\n159\n00:08:28,370 --> 00:08:29,780\nI just set myself up for\n\n160\n00:08:29,780 --> 00:08:34,500\na domain, lab.itpro.tv, but\nthat domain doesn't exist.\n\n161\n00:08:34,500 --> 00:08:36,480\nIf it goes out to the Internet,\nand tries to find that domain,\n\n162\n00:08:36,480 --> 00:08:39,570\nit's not out there,\nnobody knows about that domain.\n\n163\n00:08:39,570 --> 00:08:41,439\nSo it's saying,\ndo you wanna be a DNS server?\n\n164\n00:08:41,439 --> 00:08:44,678\nIf you want, you can be a DNS server,\nand you can host this domain.\n\n165\n00:08:44,678 --> 00:08:46,470\nIt'll let you do it.\n\n166\n00:08:46,470 --> 00:08:49,890\nNow, normally, I would say setup DNS,\nbut I'm gonna skip that for\n\n167\n00:08:49,890 --> 00:08:52,070\nright now cuz I wanna show\nyou how to do it manually.\n\n168\n00:08:52,070 --> 00:08:55,520\nThis is a little wizard that sets up\neverything for you, and it's done.\n\n169\n00:08:55,520 --> 00:08:57,200\nThat [LAUGH] doesn't help\nyou much on the exam.\n\n170\n00:08:57,200 --> 00:09:00,300\nSo, I do wanna show you how to do it by\nhand, so we'll skip that for right now.\n\n171\n00:09:02,480 --> 00:09:05,707\nNow that it's done, it's updating the\nservices, so they know their new DNS name,\n\n172\n00:09:05,707 --> 00:09:06,670\nand we're in business.\n\n173\n00:09:08,920 --> 00:09:10,940\nNow, I mentioned it went\nout to the Internet, and\n\n174\n00:09:10,940 --> 00:09:12,150\nit saw this domain didn't exist.\n\n175\n00:09:12,150 --> 00:09:13,535\nNow, how does it do that?\n\n176\n00:09:13,535 --> 00:09:15,470\nWell, in DNS land there's a hierarchy.\n\n177\n00:09:15,470 --> 00:09:18,221\nYou have what are called\nroot hint servers.\n\n178\n00:09:18,221 --> 00:09:23,710\nThere's 13 servers that sit out there on\nthe Internet, and it's not really just 13.\n\n179\n00:09:23,710 --> 00:09:27,180\nBehind each one there's really clusters,\nso there's hundreds of these servers.\n\n180\n00:09:27,180 --> 00:09:31,330\nBut there's 13 names that we see,\nthat represent these root servers.\n\n181\n00:09:31,330 --> 00:09:32,720\nAnd when we do a lookup for something,\n\n182\n00:09:32,720 --> 00:09:37,040\nlike if I do a lookup for apple.com,\nit reaches out to the root hint server,\n\n183\n00:09:37,040 --> 00:09:40,410\nand it says hey,\ncan you tell me who's in charge of .com?\n\n184\n00:09:40,410 --> 00:09:42,590\nWho's running the show for .com?\n\n185\n00:09:42,590 --> 00:09:44,350\nAnd the root hint servers say oh,\nyeah, .com,\n\n186\n00:09:44,350 --> 00:09:48,050\nthat's manged by these guys over here in\nthe Internet, you got to go talk to them.\n\n187\n00:09:48,050 --> 00:09:50,240\nSo then it sends me over to them,\nor Network Solutions, or\n\n188\n00:09:50,240 --> 00:09:51,260\nwhatever they're called now.\n\n189\n00:09:51,260 --> 00:09:52,750\nSo it sends us over to that company, and\n\n190\n00:09:52,750 --> 00:09:57,140\nwe say hey, you guys handle .com,\nwe're looking for apple.com.\n\n191\n00:09:57,140 --> 00:09:59,310\nAnd they'll say oh, yeah,\napple.com, we know that.\n\n192\n00:09:59,310 --> 00:10:02,850\nThey're supported by Apple,\nlet me point you to their servers.\n\n193\n00:10:02,850 --> 00:10:05,940\nAnd then they point us over to Apple,\nand we get our answer.\n\n194\n00:10:05,940 --> 00:10:08,200\nApple says oh, yeah, www,\nhere's the IP for it.\n\n195\n00:10:09,310 --> 00:10:13,408\nSo when you do a DNS lookup, you're\nactually bouncing through a multiple\n\n196\n00:10:13,408 --> 00:10:16,940\nservers as you do these\nqueries to find your answer.\n\n197\n00:10:16,940 --> 00:10:19,060\nWell, it looked out to the Internet.\n\n198\n00:10:19,060 --> 00:10:20,577\nAnd they say hey, who's running .tv?\n\n199\n00:10:20,577 --> 00:10:23,404\nAnd it said, all right, well,\nthat's handled by these guys over here, so\n\n200\n00:10:23,404 --> 00:10:24,211\nwe jump over to them.\n\n201\n00:10:24,211 --> 00:10:27,008\nThen it says hey, on .tv,\nwho's running itpro?\n\n202\n00:10:27,008 --> 00:10:30,132\nAnd they said, all right,\nthat's supported by the ITPro servers.\n\n203\n00:10:30,132 --> 00:10:31,698\nSo it pointed us over there, which I\nthink ours are actually hosted by Amazon.\n\n204\n00:10:31,698 --> 00:10:33,672\nIt pointed it over to Amazon.\n\n205\n00:10:33,672 --> 00:10:36,168\nAnd then at the Amazon, they said,\nwe're looking for lab.itpro.tv.\n\n206\n00:10:36,168 --> 00:10:44,380\nAnd Amazon said, sorry there is no\nlab.itpro.tv, it doesn't exist.\n\n207\n00:10:44,380 --> 00:10:46,770\nAnd so, that's how it was able to\ndetermine that it didn't happen.\n\n208\n00:10:46,770 --> 00:10:49,500\nThat iterative query, that search that\n\n209\n00:10:49,500 --> 00:10:53,210\nkind of bounces from server to server\nlike that, that's the part of DNS.\n\n210\n00:10:54,300 --> 00:10:58,840\nIf I want lab.itpro.tv to exist,\nI'm gonna need to create it somewhere.\n\n211\n00:10:58,840 --> 00:11:01,220\nAnd we're normally gonna\ncreate that on a DNS server.\n\n212\n00:11:03,590 --> 00:11:05,070\nSo, that's gonna be my next step.\n\n213\n00:11:05,070 --> 00:11:07,439\nIf I really wanna get this setup,\nand running,\n\n214\n00:11:07,439 --> 00:11:09,880\nI'm going to need to get\nthat setup on my system.\n\n215\n00:11:09,880 --> 00:11:11,650\nSo, over here on the left side,\n\n216\n00:11:11,650 --> 00:11:16,080\nif I look at all my services,\nI don't have a DNS service.\n\n217\n00:11:16,080 --> 00:11:16,860\nWell, I actually do.\n\n218\n00:11:16,860 --> 00:11:18,530\nIt's just not displayed by default.\n\n219\n00:11:18,530 --> 00:11:20,580\nIt's part of the Advanced tools,\ndown here.\n\n220\n00:11:20,580 --> 00:11:25,250\nIf you hit the Show link, you'll see that\nyou've got a DNS service, right here.\n\n221\n00:11:25,250 --> 00:11:27,100\nAnd it's turned off by default.\n\n222\n00:11:27,100 --> 00:11:30,560\nHad I chosen Yes, on that little\noptions screen a moment ago,\n\n223\n00:11:30,560 --> 00:11:33,670\nit would've gone ahead, and\nsetup DNS, and turned this on for me.\n\n224\n00:11:33,670 --> 00:11:37,580\nBut I can turn this on, and\nthen I will be a DNS server.\n\n225\n00:11:37,580 --> 00:11:41,060\nI will be able to answer questions for\ndomains.\n\n226\n00:11:41,060 --> 00:11:42,460\nBe able to answer questions for\nany domain.\n\n227\n00:11:43,480 --> 00:11:46,610\nSo I'll go ahead, and\nflip that switch to turn it on.\n\n228\n00:11:46,610 --> 00:11:51,220\nNow, when we turn on DNS people\nare gonna be able to ask us questions.\n\n229\n00:11:51,220 --> 00:11:52,420\nHey, I got this name, what's the IP?\n\n230\n00:11:53,600 --> 00:11:55,950\nThat's what's called a forward lookup.\n\n231\n00:11:55,950 --> 00:12:00,540\nA forward lookup is where we give a name,\nand we ask to get an IP back.\n\n232\n00:12:00,540 --> 00:12:04,590\nBut our server will also be able to\ndo what is called a reverse lookup.\n\n233\n00:12:04,590 --> 00:12:08,560\nA reverse lookup is where we give them\nan IP address, and we ask for name back.\n\n234\n00:12:08,560 --> 00:12:11,730\nHey, I've got this IP,\nwhat name is attached to it.\n\n235\n00:12:12,750 --> 00:12:14,670\nForward, and reverse lookups.\n\n236\n00:12:14,670 --> 00:12:16,962\nLet me show you how those work,\njust on a regular server.\n\n237\n00:12:16,962 --> 00:12:20,210\nI'm gonna fire up my Network Utility, and\n\n238\n00:12:20,210 --> 00:12:23,350\nin the Network Utility we've\ngot the Lookup option.\n\n239\n00:12:23,350 --> 00:12:27,671\nAnd under Lookup,\nI'll just do www.apple.com.\n\n240\n00:12:27,671 --> 00:12:30,370\nThis is a forward lookup.\n\n241\n00:12:30,370 --> 00:12:34,520\nI'm giving them a name, and\nI'm asking for an IP back.\n\n242\n00:12:34,520 --> 00:12:38,368\nAnd I'll hit Lookup, it's gonna reach\nout to my DNS servers, and there it is.\n\n243\n00:12:38,368 --> 00:12:42,699\nwww.apple.com is 23.56.202.140.\n\n244\n00:12:43,920 --> 00:12:46,560\nNow, that's the address that I get.\n\n245\n00:12:46,560 --> 00:12:48,830\nIf you guys do the same\nthing on your computer,\n\n246\n00:12:48,830 --> 00:12:51,030\nyou will very likely get\na different address.\n\n247\n00:12:51,030 --> 00:12:52,960\nApple has many servers.\n\n248\n00:12:52,960 --> 00:12:56,600\nAnd so, the new load balancing,\nand geographic balancing.\n\n249\n00:12:56,600 --> 00:12:59,670\nSo, I'm in the United States,\nI've probably got a US IP.\n\n250\n00:12:59,670 --> 00:13:01,850\nIf you're in France, or China,\n\n251\n00:13:01,850 --> 00:13:05,160\nthen you're probably getting an IP\nper service that are closer to you.\n\n252\n00:13:05,160 --> 00:13:07,870\nSo, expect to see different IPs than\nwhat I've got here on the show.\n\n253\n00:13:09,760 --> 00:13:13,970\nI can take that IP, and\nI can feed that right back in here, and\n\n254\n00:13:13,970 --> 00:13:16,170\nI can do a lookup for the address.\n\n255\n00:13:16,170 --> 00:13:18,460\nNow, I'm doing a reverse lookup.\n\n256\n00:13:18,460 --> 00:13:21,620\nI'm saying I've got this IP,\ncan you tell me the name for it?\n\n257\n00:13:21,620 --> 00:13:23,210\nAnd watch what happens.\n\n258\n00:13:23,210 --> 00:13:28,380\nI get an answer back, and\nis the answer www.apple.com?\n\n259\n00:13:28,380 --> 00:13:34,329\nNo, the answer is [LAUGH]\nA2356202140.deploy.static.akamaitechnolog-\n\n260\n00:13:34,329 --> 00:13:35,200\nies.com.\n\n261\n00:13:35,200 --> 00:13:37,330\nWell, that's not Apple,\nwhat's going on [LAUGH] there?\n\n262\n00:13:37,330 --> 00:13:42,194\nWell, Akamai is one of the largest content\ndistribution networks, CDNs, in the world.\n\n263\n00:13:42,194 --> 00:13:46,855\nWhen companies wanna push data out\nto systems all across the world,\n\n264\n00:13:46,855 --> 00:13:50,440\nAkamai has the best infrastructure for\nthat.\n\n265\n00:13:50,440 --> 00:13:52,100\nAnd that's who Apple's using.\n\n266\n00:13:52,100 --> 00:13:55,100\nApple's servers aren't\nlocated in Cupertino,\n\n267\n00:13:55,100 --> 00:13:57,740\nbecause not everybody is near Cupertino.\n\n268\n00:13:57,740 --> 00:14:01,580\nSo, their servers are located all\nover the world, on Akamai's network.\n\n269\n00:14:01,580 --> 00:14:03,790\nAnd so, when I do a reverse lookup,\nI can see that.\n\n270\n00:14:03,790 --> 00:14:05,090\nI can see, where are those are located.\n\n271\n00:14:05,090 --> 00:14:07,810\nThe same thing with companies like us,\nITProTV.\n\n272\n00:14:07,810 --> 00:14:14,475\nSo, you guys are watching\nthis on the ITProTV website.\n\n273\n00:14:14,475 --> 00:14:17,272\nAnd if I look that up, I can see there's\nthe IP address of our load balancer,\n\n274\n00:14:17,272 --> 00:14:18,347\n72.10.35.44.\n\n275\n00:14:18,347 --> 00:14:23,680\nBut if I reverse that, you'll see\nthat it's actually not tied to us.\n\n276\n00:14:23,680 --> 00:14:26,438\nAnd we don't host that server\nhere in the building with us,\n\n277\n00:14:26,438 --> 00:14:28,990\nwe host that [LAUGH] with\na company called Media Temple.\n\n278\n00:14:28,990 --> 00:14:31,370\nAnd apparently,\nthey are blocking reverse lookups.\n\n279\n00:14:31,370 --> 00:14:32,484\nWhich I guess, that's good.\n\n280\n00:14:32,484 --> 00:14:35,420\n[LAUGH] So they're blocking it,\nit doesn't get a response back.\n\n281\n00:14:35,420 --> 00:14:39,110\nBut a lot of times you'll see, who it\nis that's actually hosting that site.\n\n282\n00:14:39,110 --> 00:14:41,390\nAnd you can learn some neat stuff,\nby doing that.\n\n283\n00:14:41,390 --> 00:14:44,050\nBut those are forward,\nand reverse lookups.\n\n284\n00:14:44,050 --> 00:14:48,605\nWhen we create a server name, if I want\nsomebody to be able to lookup my server,\n\n285\n00:14:48,605 --> 00:14:52,141\nI've got to create forward,\nand reverse lookups for them.\n\n286\n00:14:52,141 --> 00:14:56,060\nAnd fortunately,\nthat process is pretty straightforward.\n\n287\n00:14:57,100 --> 00:15:00,390\nBack here in DNS,\nI can come down here, and\n\n288\n00:15:00,390 --> 00:15:02,260\nI can just add in the entries that I need.\n\n289\n00:15:02,260 --> 00:15:06,990\nI'd hit this little plus sign, and\nit's gonna ask me for a host name, and\n\n290\n00:15:06,990 --> 00:15:09,050\nthe IP address, and I can punch those in.\n\n291\n00:15:09,050 --> 00:15:14,624\nSo I'm gonna put in\nosx-server1.lab.itpro.tv.\n\n292\n00:15:14,624 --> 00:15:17,720\nThat's my server name.\n\n293\n00:15:17,720 --> 00:15:23,511\nAnd for the IP address,\nI'll just add in 10.1.230.248.\n\n294\n00:15:23,511 --> 00:15:26,990\nNow notice,\nI can add more than one address.\n\n295\n00:15:26,990 --> 00:15:31,467\nIf I have multiple servers that\nare providing this service.\n\n296\n00:15:31,467 --> 00:15:34,620\nIf this is a website, or whatever,\nI could list more than one.\n\n297\n00:15:35,990 --> 00:15:41,080\nAnd now, when clients do queries, it'll do\nwhat's called round-robin load balancing.\n\n298\n00:15:41,080 --> 00:15:43,560\nIt'll alternate between\nthe different addresses,\n\n299\n00:15:43,560 --> 00:15:46,380\nto distribute the traffic\nacross my multiple servers.\n\n300\n00:15:46,380 --> 00:15:49,776\nIt's not the greatest way to do load\nbalancing, but it's one of the easiest,\n\n301\n00:15:49,776 --> 00:15:50,972\nand cheapest ways to do it.\n\n302\n00:15:50,972 --> 00:15:56,618\nSo we'll go ahead, and set that in there,\n10.1.230.248, and I'll go ahead, and just\n\n303\n00:15:56,618 --> 00:16:01,520\nhit Create on that one Now when I create\nit, you can see it created just one entry.\n\n304\n00:16:01,520 --> 00:16:05,260\nBut what we don't see is there's actually\na little bit more going on behind\n\n305\n00:16:05,260 --> 00:16:06,070\nthe scenes.\n\n306\n00:16:06,070 --> 00:16:11,170\nI see that it created this entry\nright here, osx-server1.lab.itpro.tv,\n\n307\n00:16:11,170 --> 00:16:14,400\nand it's pointing to 10.1.230.248.\n\n308\n00:16:14,400 --> 00:16:16,450\nSo it's created that mapping.\n\n309\n00:16:16,450 --> 00:16:18,660\nIt has actually created a forward and\n\n310\n00:16:18,660 --> 00:16:22,790\na reverse lookup,\nI just don't see that piece, all right?\n\n311\n00:16:22,790 --> 00:16:24,870\nBut we can test it to see if it's working.\n\n312\n00:16:24,870 --> 00:16:28,630\nIf I fire up my terminal,\nthere's a neat utility we can use.\n\n313\n00:16:28,630 --> 00:16:31,540\nNow, I could use my network\nutility to do this also, but\n\n314\n00:16:31,540 --> 00:16:34,080\nI'm gonna use the terminal for\na specific reason.\n\n315\n00:16:34,080 --> 00:16:36,820\nIn the network utility,\nwhen I type in a domain name and\n\n316\n00:16:36,820 --> 00:16:39,020\ntell it to do a lookup, It does lookup.\n\n317\n00:16:39,020 --> 00:16:39,730\nI mean, it works, right?\n\n318\n00:16:39,730 --> 00:16:40,970\nWe saw that earlier.\n\n319\n00:16:40,970 --> 00:16:44,110\nBut it does a look up based\non the DNS server set\n\n320\n00:16:44,110 --> 00:16:46,900\non my network adapter right now.\n\n321\n00:16:46,900 --> 00:16:50,460\nBut my network adapter isn't set\nto use me as a DNS server, so\n\n322\n00:16:50,460 --> 00:16:53,190\nI wanna test from a different DNS server.\n\n323\n00:16:53,190 --> 00:16:54,130\nFrom the command prompt,\n\n324\n00:16:54,130 --> 00:16:58,190\nyou can use nslookup,\nfollowed by the host you want to look up.\n\n325\n00:16:58,190 --> 00:17:01,610\nSo I want to lookup\nosx-server1.lab.itpro.tv.\n\n326\n00:17:01,610 --> 00:17:05,770\nNow if I run it just like this,\n\n327\n00:17:05,770 --> 00:17:08,580\nit's going to use the DNS\nservers on my network adapter,\n\n328\n00:17:08,580 --> 00:17:11,860\nit's going to go out to the internet and\nit's going to find that it doesn't exist.\n\n329\n00:17:11,860 --> 00:17:14,010\nRight?\nCan't find that entry.\n\n330\n00:17:14,010 --> 00:17:15,960\nRight?\nAnd it's telling me nonexistent domain.\n\n331\n00:17:15,960 --> 00:17:19,250\nThat domain, lab.itpro.tv doesn't exist.\n\n332\n00:17:19,250 --> 00:17:21,592\nBut I can add a little bit\nmore to that command line.\n\n333\n00:17:21,592 --> 00:17:23,940\nI'm gonna add 127.0.0.1.\n\n334\n00:17:23,940 --> 00:17:26,590\nThat's my loopback.\n\n335\n00:17:26,590 --> 00:17:29,980\nThat says, use me as the DNS server.\n\n336\n00:17:29,980 --> 00:17:33,960\nI could actually just use my static\nIP also, I could say 10.1.230.248.\n\n337\n00:17:33,960 --> 00:17:37,200\nThat's the address\nassigned to this server.\n\n338\n00:17:37,200 --> 00:17:39,780\nSo I'm saying instead of going\nout to the internet, use me.\n\n339\n00:17:39,780 --> 00:17:41,660\nUse me as the DNS server.\n\n340\n00:17:41,660 --> 00:17:44,380\nAnd when I do that lookup,\nthere's my answer.\n\n341\n00:17:44,380 --> 00:17:47,480\nI get the response back\nof what that server is.\n\n342\n00:17:48,550 --> 00:17:52,790\nSo I am functioning as a DNS server,\nthat lookup is happening.\n\n343\n00:17:52,790 --> 00:17:54,820\nIf I do a reverse lookup.\n\n344\n00:17:54,820 --> 00:18:01,310\nIf I do a lookup for 10.1.230.248,\nand I run that lookup against myself.\n\n345\n00:18:02,610 --> 00:18:05,810\nSo the same address again,\nor that loop back address.\n\n346\n00:18:05,810 --> 00:18:06,890\nIt'll respond back and it'll say,\n\n347\n00:18:06,890 --> 00:18:11,960\noh yeah, I know who that is,\nthat's osx-server1.lab.itpro.tv.\n\n348\n00:18:11,960 --> 00:18:14,480\nSo it is a functional, working domain.\n\n349\n00:18:14,480 --> 00:18:17,563\nThere's a forward and\na reverse lookup record, all right?\n\n350\n00:18:17,563 --> 00:18:22,270\nBut there's additional records that are in\nthere too that we need to know about.\n\n351\n00:18:22,270 --> 00:18:24,170\nAnd we just don't see them by default.\n\n352\n00:18:24,170 --> 00:18:26,430\nApple hides a lot of this\nstuff to make it easy.\n\n353\n00:18:26,430 --> 00:18:29,730\nThe easy side we just see the host\nname and the IP that it points to.\n\n354\n00:18:29,730 --> 00:18:32,810\nOn the hard side,\nit had to create a forward lookup zone.\n\n355\n00:18:32,810 --> 00:18:34,920\nIt had to create a reverse lookup zone.\n\n356\n00:18:34,920 --> 00:18:36,400\nWhat the heck is a zone?\n\n357\n00:18:36,400 --> 00:18:38,520\nWell zones, those are the domains.\n\n358\n00:18:38,520 --> 00:18:41,690\nWhen a domain is stored on a DNS server,\nit's called a zone.\n\n359\n00:18:41,690 --> 00:18:45,480\nAnd the forward lookup zone\nhas name to IP mappings.\n\n360\n00:18:45,480 --> 00:18:48,610\nAnd the reverse lookup zone\nhas the opposite, IP to name.\n\n361\n00:18:48,610 --> 00:18:50,050\nWe don't see that.\n\n362\n00:18:50,050 --> 00:18:53,750\nIf I hit my little gear though,\nI can hit show all records.\n\n363\n00:18:53,750 --> 00:19:00,785\nAnd now I see, I've got a primary zone\ncalled lab.itpro.tv and a reverse zone for\n\n364\n00:19:00,785 --> 00:19:06,600\n230.1.10.in/addr.arpa and\nit's pointing to that address, right?\n\n365\n00:19:06,600 --> 00:19:10,480\nSo there's my mappings, they're in\nplace and I can see those entries.\n\n366\n00:19:10,480 --> 00:19:11,740\nThat all happens behind the scenes.\n\n367\n00:19:12,860 --> 00:19:16,820\nBut now I've got that name lookup\nin place and I'm in business.\n\n368\n00:19:18,310 --> 00:19:21,090\nWell I wanna show you guys\na little bit more on this but\n\n369\n00:19:21,090 --> 00:19:23,480\nthis is actually a good spot for\nus to stop and take a break.\n\n370\n00:19:23,480 --> 00:19:24,600\nSo let's pause here.\n\n371\n00:19:24,600 --> 00:19:28,940\nWhen we get back, I wanna show you\ncreating other things like alias,\n\n372\n00:19:28,940 --> 00:19:33,030\nas well as setting up clients to be\nable to use our server for lookups.\n\n373\n00:19:33,030 --> 00:19:37,090\nSo stay tuned, we'll be back\nwith more DNS in just a moment.\n\n374\n00:19:37,090 --> 00:19:42,985\n[SOUND].\n\n375\n00:19:42,985 --> 00:19:44,930\nAll right, welcome back everybody.\n\n376\n00:19:44,930 --> 00:19:48,380\nSo in the first part of the episode,\nwe went ahead and set up a DNS server.\n\n377\n00:19:48,380 --> 00:19:51,640\nAnd I know it works because I was able\nto test it right here on my machine.\n\n378\n00:19:51,640 --> 00:19:53,930\nBut I was doing that\nfrom the server itself.\n\n379\n00:19:53,930 --> 00:19:58,170\nThe real way to test is to test\nthis all from a client, all right?\n\n380\n00:19:58,170 --> 00:20:00,360\nSo I'm going to jump\nover to another client.\n\n381\n00:20:00,360 --> 00:20:04,470\nI've got a machine running here,\nwhich is just another Yosemite machine.\n\n382\n00:20:04,470 --> 00:20:05,300\nIt's up and it's running.\n\n383\n00:20:05,300 --> 00:20:07,020\nIt's trying to install some updates for\nme.\n\n384\n00:20:08,290 --> 00:20:11,560\nAnd this machine is just set to use DHCP.\n\n385\n00:20:11,560 --> 00:20:14,170\nNow let's run some tests\nhere with just DHCP.\n\n386\n00:20:15,220 --> 00:20:18,120\nIf I go into my System Preferences,\nand I go into networking.\n\n387\n00:20:18,120 --> 00:20:21,190\nI'll see that I'm getting\na DHCP address from my network.\n\n388\n00:20:21,190 --> 00:20:24,460\nAnd I am learning DHCP servers to use.\n\n389\n00:20:24,460 --> 00:20:26,335\nI, sorry DNS servers to use.\n\n390\n00:20:26,335 --> 00:20:30,503\nSo my address is\n10.1.230.159 on this client.\n\n391\n00:20:30,503 --> 00:20:34,683\nMy DNS server is 10.1.230.1.\n\n392\n00:20:34,683 --> 00:20:36,132\nThat's our firewall here in the office.\n\n393\n00:20:36,132 --> 00:20:40,250\nI'm not pointed at that server I\nwas on just a moment ago, okay?\n\n394\n00:20:40,250 --> 00:20:42,500\nSo I'm set up right here on this client.\n\n395\n00:20:42,500 --> 00:20:44,890\nI'm just set up like\nnormal nothing special.\n\n396\n00:20:44,890 --> 00:20:49,740\nNow if I fire up my network utility and\nI go and\n\n397\n00:20:49,740 --> 00:20:55,280\ndo a lookup, I can try and do lookup for\nsomething like osx-server1, all right?\n\n398\n00:20:55,280 --> 00:20:59,830\nThat's my server, and if I do a lookup for\nthat, is it going to find it?\n\n399\n00:20:59,830 --> 00:21:01,690\nWell, no.\n\n400\n00:21:01,690 --> 00:21:05,630\nThe lookup utility here inside\nthe network utility, just does DNS,\n\n401\n00:21:05,630 --> 00:21:07,310\nit doesn't do module.\n\n402\n00:21:07,310 --> 00:21:10,850\nAnd so it looked in DNS and\nit tried to find that server name.\n\n403\n00:21:10,850 --> 00:21:14,410\nNow DNS won't accept a single\nserver name like that so\n\n404\n00:21:14,410 --> 00:21:18,730\nit took from my network settings\nthe search domain and it added there.\n\n405\n00:21:18,730 --> 00:21:24,770\nSo what it actually looked for was\nosx-server1.studio.itpro.tv, all right?\n\n406\n00:21:24,770 --> 00:21:27,650\nWell that's the wrong domain so\nI could correct for that.\n\n407\n00:21:27,650 --> 00:21:31,970\nI'll add lab.itpro.tv and do the lookup.\n\n408\n00:21:31,970 --> 00:21:34,090\nAnd that fails also, right?\n\n409\n00:21:34,090 --> 00:21:36,680\nThey're failing because I'm\ngoing out to the Internet.\n\n410\n00:21:36,680 --> 00:21:39,210\nI'm going to our firewall and\nthen out to the Internet to try and\n\n411\n00:21:39,210 --> 00:21:42,290\nfind these domains and they don't exist.\n\n412\n00:21:42,290 --> 00:21:43,860\nSo I need to override that setting.\n\n413\n00:21:43,860 --> 00:21:48,350\nSo here inside of DHCP, I can switch\nto a static address if I want.\n\n414\n00:21:48,350 --> 00:21:50,620\nOr I can just override DNS.\n\n415\n00:21:50,620 --> 00:21:56,130\nI can go into my advanced settings, and\nunder DNS there's the learned server.\n\n416\n00:21:56,130 --> 00:21:59,520\nNow notice, I can't click on that server.\n\n417\n00:21:59,520 --> 00:22:01,940\nI can't click on it to hit minus and\nremove it out.\n\n418\n00:22:01,940 --> 00:22:04,050\nBut what I can do is I can add.\n\n419\n00:22:04,050 --> 00:22:07,890\nAnd when I add,\nI can punch in whatever server I want.\n\n420\n00:22:07,890 --> 00:22:11,270\nIncluding the server that\nwe just set up DNS on.\n\n421\n00:22:11,270 --> 00:22:14,590\nAnd notice as soon as I added that,\nwhat happened to the DHCP server?\n\n422\n00:22:14,590 --> 00:22:15,520\nIt's gone.\n\n423\n00:22:15,520 --> 00:22:17,410\nRight?\nI've now replaced it with a static\n\n424\n00:22:17,410 --> 00:22:18,390\nDNS setting.\n\n425\n00:22:18,390 --> 00:22:20,050\nAnd I'll do the same thing\nwith the search domain.\n\n426\n00:22:20,050 --> 00:22:24,390\nI'm going to add lab.itpro.tv\nto my search domains, all right?\n\n427\n00:22:24,390 --> 00:22:28,690\nSo I'm still using DHCP to get my address,\nmy router, my subnet mask.\n\n428\n00:22:28,690 --> 00:22:31,220\nBut my DNS settings are now\nstatically assigned on this machine.\n\n429\n00:22:31,220 --> 00:22:35,220\nI'll go ahead and hit OK on that and\nthose take affect.\n\n430\n00:22:35,220 --> 00:22:37,780\nAnd I'll just hit apply\nto make that take affect.\n\n431\n00:22:37,780 --> 00:22:41,860\nNow when I go back to my network utility,\nif I try these searches again, if I search\n\n432\n00:22:41,860 --> 00:22:46,590\nfor the fully qualified name and I do a\nlookup, I get an address, it works, right?\n\n433\n00:22:46,590 --> 00:22:48,450\nI'm able to see that server.\n\n434\n00:22:48,450 --> 00:22:51,180\nAnd if I lop off that domain name and\njust search for\n\n435\n00:22:51,180 --> 00:22:54,660\nthe server name and do a lookup,\nI get that too, right?\n\n436\n00:22:54,660 --> 00:22:58,120\nNow I have a functioning\nname lookup system.\n\n437\n00:22:58,120 --> 00:22:59,760\nWhy is that important to me?\n\n438\n00:22:59,760 --> 00:23:02,800\nWell, if I'm gonna start offering\na bunch of services on my server,\n\n439\n00:23:02,800 --> 00:23:06,230\nif I'm gonna set up websites,\nWikis, email service,\n\n440\n00:23:06,230 --> 00:23:09,900\nFTP, whatever, clients need to\nknow how to get that server.\n\n441\n00:23:09,900 --> 00:23:14,030\nAnd I want them to be able to get\nto it by a name, not an address.\n\n442\n00:23:14,030 --> 00:23:17,550\nAnd that's what we've created right\nhere by setting up that DNS server.\n\n443\n00:23:17,550 --> 00:23:19,590\nSo pretty straightforward to do.\n\n444\n00:23:19,590 --> 00:23:22,230\nThere is one thing to be aware of, though.\n\n445\n00:23:22,230 --> 00:23:27,580\nWhat if I wanna do a lookup for\nsomething like www.apple.com?\n\n446\n00:23:27,580 --> 00:23:28,157\nAll right.\n\n447\n00:23:28,157 --> 00:23:31,410\nWell, it's gonna throw that lookup\nagainst my server, 10.1.230.248.\n\n448\n00:23:31,410 --> 00:23:37,480\nAnd when I do that lookup,\nthe server's gotta get an answer for me.\n\n449\n00:23:37,480 --> 00:23:40,260\nAnd you'll see it says,\nlookup started, it waited a moment,\n\n450\n00:23:40,260 --> 00:23:42,110\nand then it got a response.\n\n451\n00:23:42,110 --> 00:23:47,280\nWell, if I jump back to my server,\nhere's all the entries it knows about.\n\n452\n00:23:47,280 --> 00:23:49,016\nIt doesn't know about Apple, does it?\n\n453\n00:23:49,016 --> 00:23:50,398\nHow did it get an answer for that?\n\n454\n00:23:50,398 --> 00:23:54,785\nHow did it get an answer for Apple if I\ndon't have an entry in there, all right?\n\n455\n00:23:54,785 --> 00:23:58,500\nThe way it did that is through\nwhat's called a forwarder.\n\n456\n00:23:58,500 --> 00:24:02,007\nDon't confuse a forwarder\nwith a forward lookup zone.\n\n457\n00:24:02,007 --> 00:24:04,750\nA forward lookup zone does name to IP.\n\n458\n00:24:04,750 --> 00:24:08,505\nA forwarder, says,\nif you don't know the answer,\n\n459\n00:24:08,505 --> 00:24:11,460\nhere's another server\nyou can reach out to.\n\n460\n00:24:11,460 --> 00:24:15,140\nAnd if you look up here,\nyou'll see I've got a forwarding server.\n\n461\n00:24:15,140 --> 00:24:18,070\nNow I'm kinda surprised that worked,\ncuz that forwarding server IP is on\n\n462\n00:24:18,070 --> 00:24:22,370\na different network, but my forwarding\nserver here is set up to somebody else.\n\n463\n00:24:22,370 --> 00:24:26,150\nYou can specify a different\nserver to reach out to.\n\n464\n00:24:26,150 --> 00:24:29,180\nIf I edit that, I can go in and\n\n465\n00:24:29,180 --> 00:24:31,100\nremove that forwarder if I\ndon't want it there, right?\n\n466\n00:24:31,100 --> 00:24:34,450\nSo I'm gonna remove it, I'll just\nget that out of there, all right?\n\n467\n00:24:34,450 --> 00:24:37,790\nSo I don't have a forwarding\nserver anymore, so\n\n468\n00:24:37,790 --> 00:24:41,870\nno server specified, if somebody\ncomes to do a lookup, who do I go to?\n\n469\n00:24:42,990 --> 00:24:44,660\nI don't have anybody else to go to.\n\n470\n00:24:44,660 --> 00:24:47,300\nWell I can still use\nthe root hint servers.\n\n471\n00:24:47,300 --> 00:24:49,900\nI can reach out to the 13\nroots that are out there, and\n\n472\n00:24:49,900 --> 00:24:52,390\nfind my answer from them,\nand still get the answer.\n\n473\n00:24:52,390 --> 00:24:53,720\nIt just takes longer.\n\n474\n00:24:53,720 --> 00:24:56,480\nAnd you saw how long that\nlookup took a few moments ago.\n\n475\n00:24:56,480 --> 00:24:58,810\nIt waited while it was going out to check.\n\n476\n00:24:58,810 --> 00:25:02,250\nSo If I go over to my client, nope that's\nnot my client, here is my client, and\n\n477\n00:25:02,250 --> 00:25:03,725\nI look up somebody else, right.\n\n478\n00:25:03,725 --> 00:25:07,210\nLet's do a search for,\nwho do we wanna go to today?\n\n479\n00:25:07,210 --> 00:25:09,591\nLet's go to CNN.com, right.\n\n480\n00:25:09,591 --> 00:25:13,030\nAnd I do that lookup,\nI reach out to the server, and\n\n481\n00:25:13,030 --> 00:25:15,960\nthe server then uses the root\nhint servers to find it.\n\n482\n00:25:15,960 --> 00:25:19,030\nBut that can take a little while,\nit can take a little while to go and\n\n483\n00:25:19,030 --> 00:25:20,210\ndo that lookup.\n\n484\n00:25:20,210 --> 00:25:21,538\nIf we want things to be faster,\n\n485\n00:25:21,538 --> 00:25:25,730\nwe might wanna use something\nlike our ISP as a forwarder.\n\n486\n00:25:25,730 --> 00:25:27,570\nSome server that's\na little closer to home.\n\n487\n00:25:27,570 --> 00:25:31,050\nOr we might want to use somebody\nlike Google's public DNS servers.\n\n488\n00:25:31,050 --> 00:25:33,310\nAnd see you can override that forwarder.\n\n489\n00:25:33,310 --> 00:25:36,650\nYou can come in here into your forwarding\nserver, you can edit that, and\n\n490\n00:25:36,650 --> 00:25:38,520\nyou can specify whatever servers you want.\n\n491\n00:25:38,520 --> 00:25:42,413\nMaybe I'll want to use Google, so\nI'll put in Google servers, and\n\n492\n00:25:42,413 --> 00:25:45,641\nthey've got a couple of public\nones that are out there.\n\n493\n00:25:45,641 --> 00:25:48,600\n8.8.8 and 8.8.8.4.\n\n494\n00:25:48,600 --> 00:25:50,683\nWe've got level three communications.\n\n495\n00:25:50,683 --> 00:25:55,392\nThey've got 4.2.2.1, 4.2.2.2 and 4.2.2.3.\n\n496\n00:25:55,392 --> 00:25:56,558\nSo we can specify these.\n\n497\n00:25:56,558 --> 00:26:00,200\nNow what I'm doing is I'm\nspecifying alternates.\n\n498\n00:26:00,200 --> 00:26:03,570\nIt will always go to the first one.\n\n499\n00:26:03,570 --> 00:26:05,070\nUnless the first one fails.\n\n500\n00:26:05,070 --> 00:26:07,560\nThen it will go to the second one,\nunless the second one fails.\n\n501\n00:26:07,560 --> 00:26:08,840\nThen it will go to the third one.\n\n502\n00:26:08,840 --> 00:26:12,120\nBut it'll never go to the next server\nunless the first one has failed.\n\n503\n00:26:12,120 --> 00:26:16,330\nSo you don't normally need to put a ton of\nservers in here, two is more than enough.\n\n504\n00:26:16,330 --> 00:26:18,630\nThe odds of both of them\ngoing down are pretty low,\n\n505\n00:26:18,630 --> 00:26:20,200\nbut you can add in more if you want.\n\n506\n00:26:21,210 --> 00:26:22,340\nSo I'll just add in those.\n\n507\n00:26:22,340 --> 00:26:24,540\nNow I've got a couple\nof forwarding servers.\n\n508\n00:26:24,540 --> 00:26:28,580\nSo any time I get a request,\nthat I don't know the answer to,\n\n509\n00:26:28,580 --> 00:26:31,090\nI'll reach out to one of those\nservers to get out there.\n\n510\n00:26:32,560 --> 00:26:33,980\nThe other things that we can do,\n\n511\n00:26:33,980 --> 00:26:37,470\nis we can tailor who's allowed\nto use the DNS server.\n\n512\n00:26:37,470 --> 00:26:42,660\nThe default is perform lookups for\nonly some clients.\n\n513\n00:26:43,760 --> 00:26:44,650\nWhat does that mean?\n\n514\n00:26:44,650 --> 00:26:48,150\nWell, if you drop that down, you'll\nsee there's really just two options,\n\n515\n00:26:48,150 --> 00:26:50,570\nall clients and some clients.\n\n516\n00:26:50,570 --> 00:26:52,590\nAll clients means anybody.\n\n517\n00:26:52,590 --> 00:26:55,190\nAnybody in the world who\ncan reach this server\n\n518\n00:26:55,190 --> 00:26:57,390\nis allowed to do DNS lookups against it.\n\n519\n00:26:57,390 --> 00:27:00,810\nIf this is gonna be a public DNS server\non the internet, you want to set that,\n\n520\n00:27:00,810 --> 00:27:02,260\nbecause you don't know who\nyou're clients are gonna be.\n\n521\n00:27:02,260 --> 00:27:04,190\nIt's anybody out there on the internet.\n\n522\n00:27:04,190 --> 00:27:06,070\nBut if this is a private DNS server for\n\n523\n00:27:06,070 --> 00:27:10,030\ninternal use only, we don't want\neverybody to be able to use that.\n\n524\n00:27:10,030 --> 00:27:13,080\nSo you can choose, only some clients, and\n\n525\n00:27:13,080 --> 00:27:16,400\nthen you can use the Edit button over\nhere to change who those clients are.\n\n526\n00:27:16,400 --> 00:27:20,240\nAnd you can say, the server itself,\nand clients on the local network.\n\n527\n00:27:20,240 --> 00:27:21,670\nThose are the default.\n\n528\n00:27:21,670 --> 00:27:26,430\nSo the server can lookup against its own\nself, and the same network that we're on.\n\n529\n00:27:26,430 --> 00:27:28,460\nSo in my case, 10.1.230,\n\n530\n00:27:28,460 --> 00:27:31,960\nanybody who's address that starts\nwith that can use this system.\n\n531\n00:27:31,960 --> 00:27:34,190\nBut you can add in more networks too.\n\n532\n00:27:34,190 --> 00:27:36,660\nSo you might have other internal networks.\n\n533\n00:27:36,660 --> 00:27:41,250\nSo I might do something like\nthe whole 10.0.0.0 network.\n\n534\n00:27:41,250 --> 00:27:42,683\nI can specify that range.\n\n535\n00:27:42,683 --> 00:27:47,755\nOr I might have other private\nranges that i want to add,\n\n536\n00:27:47,755 --> 00:27:51,507\nlike 192.168.0.0/24,\n\n537\n00:27:51,507 --> 00:27:57,808\nI might have 172.16.0.0/16 or\nsomething like that.\n\n538\n00:27:57,808 --> 00:28:01,281\nYou put in all the networks that\nare internal to your organization that you\n\n539\n00:28:01,281 --> 00:28:02,016\nwant to allow.\n\n540\n00:28:02,016 --> 00:28:04,550\nIf you wanna do a single host, you can.\n\n541\n00:28:04,550 --> 00:28:07,070\nYou can come in and\nyou can specify a single host.\n\n542\n00:28:07,070 --> 00:28:10,820\nThe way you do it if I had like\n10.77.77.77 and I just wanna\n\n543\n00:28:12,190 --> 00:28:15,508\ndo that one host, you can do a /32.\n\n544\n00:28:15,508 --> 00:28:18,160\n/32 means just this one IP.\n\n545\n00:28:18,160 --> 00:28:23,380\nSo you can pick and choose who's allowed\nto do lookups against this system.\n\n546\n00:28:23,380 --> 00:28:27,320\nWhen you're done, you just hit OK,\nand now you've applied a basic filter.\n\n547\n00:28:27,320 --> 00:28:28,975\nSo pretty straightforward.\n\n548\n00:28:30,391 --> 00:28:33,416\nAll right, after that,\nthat's pretty much all we need for\n\n549\n00:28:33,416 --> 00:28:35,300\nDNS there's not too much more to do.\n\n550\n00:28:35,300 --> 00:28:39,350\nWhen you look at it, you can set your\nservers up, you can set your entries.\n\n551\n00:28:39,350 --> 00:28:41,490\nIf you choose the gear and\nhit show all records,\n\n552\n00:28:41,490 --> 00:28:45,400\nyou'll see all this back end stuff,\nand when you hit your plus sign,\n\n553\n00:28:45,400 --> 00:28:48,190\nsee how I have a lot more options\nthan I had a few moments ago?\n\n554\n00:28:48,190 --> 00:28:52,230\nIf I turn off show all records,\nwhen I hit the plus sign,\n\n555\n00:28:52,230 --> 00:28:56,220\nit automatically assumes I wanna make a\nhost, and it gives me this simple screen.\n\n556\n00:28:56,220 --> 00:28:57,490\nBut when you hit that gear and\n\n557\n00:28:57,490 --> 00:29:02,505\nyou choose show all records, now when you\nhit the plus sign, you get the full list.\n\n558\n00:29:02,505 --> 00:29:07,075\nYou can create machine records that's\na name to an IP or an IP a name.\n\n559\n00:29:07,075 --> 00:29:08,705\nYou can do aliases.\n\n560\n00:29:08,705 --> 00:29:11,875\nI might have a nickname\nthat's tied to a server.\n\n561\n00:29:11,875 --> 00:29:16,998\nSo for example,\nI might create an alias that\n\n562\n00:29:16,998 --> 00:29:22,261\nsays somebody going to www.lab.itpro.tv\n\n563\n00:29:22,261 --> 00:29:29,058\nactually gets sent to\nOSX- Server1.lab.itpro.tv.\n\n564\n00:29:29,058 --> 00:29:32,058\nInstead of pointing to an IP,\nI point to another record.\n\n565\n00:29:32,058 --> 00:29:35,418\nThe nice part here is if I ever\nchange the IP address of that server,\n\n566\n00:29:35,418 --> 00:29:39,558\nwell this is just an alias, so the alias\nis automatically updated as part of that.\n\n567\n00:29:41,392 --> 00:29:45,930\nAnd so now I've got that alias in place,\nand we'll see it up here, right there.\n\n568\n00:29:45,930 --> 00:29:46,430\nI got that anyways.\n\n569\n00:29:47,660 --> 00:29:51,280\nOther records that we can make,\nmail exchangers, if you're hosting a mail\n\n570\n00:29:51,280 --> 00:29:54,770\nserver, you have to have what are called\nMX Records, mail exchange records, and\n\n571\n00:29:54,770 --> 00:29:57,500\nthat's how people know what\nserver to send their email to.\n\n572\n00:29:57,500 --> 00:30:00,560\nEmail's gotta go somewhere, the MX\nrecords point us to the right place.\n\n573\n00:30:01,780 --> 00:30:03,180\nName server records.\n\n574\n00:30:03,180 --> 00:30:06,933\nThese tell us who are the valid\nDNS servers, for that domain.\n\n575\n00:30:06,933 --> 00:30:11,770\nAnd you'll see it actually created\na name server record for us, right here.\n\n576\n00:30:11,770 --> 00:30:17,016\nI've got osxserver1.lab.itpro.tv\nas a valid name server.\n\n577\n00:30:17,016 --> 00:30:20,445\nAnd then we've got a service records,\nApple doesn't use these very much, but\n\n578\n00:30:20,445 --> 00:30:23,815\nother businesses and people like\nMicrosoft use the heck out of them.\n\n579\n00:30:23,815 --> 00:30:26,670\nThese are, where we're not\npointing to just a machine, but\n\n580\n00:30:26,670 --> 00:30:29,420\nwe're pointing to a particular\nport on that machine.\n\n581\n00:30:29,420 --> 00:30:32,370\nYou're advertising some\nservice that machine runs.\n\n582\n00:30:32,370 --> 00:30:35,290\nAnd you'll use these with things\nlike LDAP queries, open directory,\n\n583\n00:30:35,290 --> 00:30:37,850\nthey can all make use of service records.\n\n584\n00:30:37,850 --> 00:30:38,840\nAll right?\n\n585\n00:30:38,840 --> 00:30:41,810\nBut down at the bottom here\nI've got two interesting ones.\n\n586\n00:30:41,810 --> 00:30:44,010\nPrimary zones, and secondary zones.\n\n587\n00:30:45,050 --> 00:30:51,160\nWhen I created\nthe osxserver1.lab.itpro.tv entry,\n\n588\n00:30:51,160 --> 00:30:55,130\nit made a primary zone for lab.itpro.tv.\n\n589\n00:30:55,130 --> 00:30:58,380\nThat means that I control that zone,\nI control that domain.\n\n590\n00:30:58,380 --> 00:31:02,400\nI can read from it, I can write to it,\nI can change it, I can add records,\n\n591\n00:31:02,400 --> 00:31:03,530\nI can do whatever I want.\n\n592\n00:31:03,530 --> 00:31:05,260\nI'm the primary.\n\n593\n00:31:05,260 --> 00:31:07,020\nBut what happens if my DNS server fails?\n\n594\n00:31:07,020 --> 00:31:08,910\nIf this server goes offline?\n\n595\n00:31:08,910 --> 00:31:12,480\nNobody can get to it, and\nif nobody can get to it, that's a problem.\n\n596\n00:31:12,480 --> 00:31:16,950\nSo what I probably wanna do is set\nup a second DNS server somewhere,\n\n597\n00:31:16,950 --> 00:31:18,860\nthat has a copy of this zone.\n\n598\n00:31:18,860 --> 00:31:22,370\nAnd when you do that, you're setting\nup what's called a secondary server,\n\n599\n00:31:22,370 --> 00:31:26,900\nand a secondary server just maintains\na copy of all the records on the primary.\n\n600\n00:31:26,900 --> 00:31:29,820\nBut the copy is Read Only.\n\n601\n00:31:29,820 --> 00:31:30,750\nYou can't write to it.\n\n602\n00:31:30,750 --> 00:31:31,880\nYou can't change the records.\n\n603\n00:31:31,880 --> 00:31:33,840\nYou you have to go to\nthe primary to change things.\n\n604\n00:31:33,840 --> 00:31:35,780\nBut you can read from the secondary.\n\n605\n00:31:35,780 --> 00:31:39,030\nSo if the primary fails,\npeople are still able to do lookups.\n\n606\n00:31:39,030 --> 00:31:41,310\nThey are still find your server and\nreach out to them.\n\n607\n00:31:41,310 --> 00:31:42,930\nThat's called a secondary.\n\n608\n00:31:42,930 --> 00:31:45,110\nAnd so, the primary was created for me.\n\n609\n00:31:45,110 --> 00:31:47,770\nIf I want to be a secondary,\nI have to come in here and add that.\n\n610\n00:31:47,770 --> 00:31:49,627\nAnd add a secondary zone.\n\n611\n00:31:49,627 --> 00:31:53,838\nWhen you do that your secondary\nzone will connect to a primary, and\n\n612\n00:31:53,838 --> 00:31:55,804\nit will copy the records over.\n\n613\n00:31:55,804 --> 00:31:57,476\nIt's called a zone transfer.\n\n614\n00:31:57,476 --> 00:32:01,654\nWe're transferring or copying all\nthose records to the other server.\n\n615\n00:32:01,654 --> 00:32:04,320\nIf I want to set that up,\nI can jump over to my other client.\n\n616\n00:32:05,740 --> 00:32:07,540\nAnd I can fire up the server on this one.\n\n617\n00:32:07,540 --> 00:32:10,880\nSo I'll just launch the server app here.\n\n618\n00:32:10,880 --> 00:32:14,460\nAnd I don't think I've ever launched\nthe server app on this one, so\n\n619\n00:32:14,460 --> 00:32:16,520\nI'll have to go through my\nquick little set up here.\n\n620\n00:32:16,520 --> 00:32:19,390\nBut I can add this one as a secondary.\n\n621\n00:32:20,630 --> 00:32:24,300\nSo that it'll have a copy of\nthat lab.itpro.tvzone, and\n\n622\n00:32:24,300 --> 00:32:25,710\nnow I've got my backup.\n\n623\n00:32:25,710 --> 00:32:29,850\nAnd if my primary fails, I can go and\nfix the primary and bring it back online.\n\n624\n00:32:29,850 --> 00:32:31,980\nI just can't change\nrecords in the meantime.\n\n625\n00:32:31,980 --> 00:32:35,370\nOr if the primary is dead for good,\nI can go to the secondary and\n\n626\n00:32:35,370 --> 00:32:38,180\nmake it the primary,\nand it's now in charge.\n\n627\n00:32:38,180 --> 00:32:40,730\nSo there's a couple of neat things\nthat you can do there to keep it\n\n628\n00:32:40,730 --> 00:32:42,240\nhealthy and happy.\n\n629\n00:32:42,240 --> 00:32:44,500\nBut we'll go ahead and\nget this secondary set up, and\n\n630\n00:32:44,500 --> 00:32:47,430\nthat's probably about all that we\nneed to know for DNS for the exam.\n\n631\n00:32:47,430 --> 00:32:48,850\nThere is a lot more to it.\n\n632\n00:32:48,850 --> 00:32:52,640\nYou can do some really complex and\nadvanced things inside a DNS.\n\n633\n00:32:52,640 --> 00:32:55,270\nBut for most basic setups,\nthis is all we need.\n\n634\n00:32:55,270 --> 00:32:59,410\nNow we are gonna revisit DNS again later\nwhen we talk about Open Directory, so\n\n635\n00:32:59,410 --> 00:33:00,920\nexpect to see more then.\n\n636\n00:33:00,920 --> 00:33:04,660\nBut as far as the DNS service itself,\nit's pretty straightforward, right?\n\n637\n00:33:04,660 --> 00:33:07,870\nNames, map to IP's, and\nit responds with answers.\n\n638\n00:33:09,704 --> 00:33:12,280\nAll right, well since this is the first\ntime I'm running the server app on this\n\n639\n00:33:12,280 --> 00:33:15,360\nclient, it's gonna take just\na moment to get through it's little\n\n640\n00:33:15,360 --> 00:33:18,140\nbasic setup here right as it\ncopies over those service files.\n\n641\n00:33:18,140 --> 00:33:20,430\nAnd it should finish\nhere in just a second.\n\n642\n00:33:20,430 --> 00:33:24,230\nOnce it's done,\nI'm gonna turn on the DNS service, and\n\n643\n00:33:24,230 --> 00:33:27,320\nI'm gonna set this up as a secondary.\n\n644\n00:33:27,320 --> 00:33:30,460\nNow when I set this up as a secondary\nit's going to ask me, who's the primary?\n\n645\n00:33:30,460 --> 00:33:32,282\nAnd I'll have to tell\nit that other server.\n\n646\n00:33:32,282 --> 00:33:37,023\nIt's gonna reach out to that server and\ngo to do a zone transfer.\n\n647\n00:33:37,023 --> 00:33:39,879\nNow, if that other server is a Mac.\n\n648\n00:33:39,879 --> 00:33:42,930\nRight, so if it's running OS X I can\nreach out to it and get it that way.\n\n649\n00:33:42,930 --> 00:33:44,160\nThat works great.\n\n650\n00:33:44,160 --> 00:33:46,230\nBut if the other server\nis running Linux or\n\n651\n00:33:46,230 --> 00:33:50,390\nWindows, we might have to go to that\nserver and approve the zone transfer.\n\n652\n00:33:50,390 --> 00:33:52,890\nSo different operating systems\nhandle it a different way.\n\n653\n00:33:52,890 --> 00:33:57,470\nLooks like I'm up now, so I'm gonna\ngo under my advanced settings and\n\n654\n00:33:57,470 --> 00:33:59,460\nI'll go down to DNS.\n\n655\n00:33:59,460 --> 00:34:02,780\nAnd I don't have any records right now,\nif I wanna add a secondary,\n\n656\n00:34:02,780 --> 00:34:06,880\nwell that doesn't show up by default, I've\ngotta hit my gear, and choose show all\n\n657\n00:34:06,880 --> 00:34:11,930\nrecords, and then I can hit the plus sign,\nand I can add a secondary zone.\n\n658\n00:34:11,930 --> 00:34:16,340\nNow when you add the secondary it wants\nto know the zone that I'm copying.\n\n659\n00:34:16,340 --> 00:34:21,230\nSo I'm doing lab.itpro.tv, and it needs\nto know where I can get a copy of it, and\n\n660\n00:34:21,230 --> 00:34:24,520\nso I'm gonna give it the IP\naddress of my other server.\n\n661\n00:34:24,520 --> 00:34:26,990\nIt can get a copy from that server.\n\n662\n00:34:26,990 --> 00:34:28,200\nAnd when I hit Create,\n\n663\n00:34:28,200 --> 00:34:31,990\nit's gonna reach out in the background,\nreach out to that other server, and\n\n664\n00:34:31,990 --> 00:34:35,680\ndo a transfer to download all those\nrecords, so that they'll show up here.\n\n665\n00:34:35,680 --> 00:34:38,930\nNow that might happen right away,\nit might take a little bit of time.\n\n666\n00:34:38,930 --> 00:34:40,600\nThe size of the zone matters,\n\n667\n00:34:40,600 --> 00:34:43,250\nthe bigger the zone,\nthe longer it'll take to copy that over.\n\n668\n00:34:43,250 --> 00:34:44,850\nSo I might have to be\na little bit patient for\n\n669\n00:34:44,850 --> 00:34:49,100\nthis to happen, but eventually it\nwill reach over and grab that.\n\n670\n00:34:49,100 --> 00:34:51,080\nNow I do have a slight problem here.\n\n671\n00:34:51,080 --> 00:34:53,130\nMy status is offline.\n\n672\n00:34:53,130 --> 00:34:56,956\nI probably need to turn the service on.\n\n673\n00:34:56,956 --> 00:35:01,450\n[LAUGH] The little pop up there\nwas covering the on, off switch.\n\n674\n00:35:01,450 --> 00:35:02,080\nI didn't think about that.\n\n675\n00:35:02,080 --> 00:35:04,800\nMy service isn't running, so\nit'll never sync until I turn that on.\n\n676\n00:35:04,800 --> 00:35:06,310\nSo I'm gonna flip that switch.\n\n677\n00:35:06,310 --> 00:35:07,040\nAll right?\n\n678\n00:35:07,040 --> 00:35:11,490\nIt knows that I'm a secondary, so now\nit's gonna reach out to that server and\n\n679\n00:35:11,490 --> 00:35:12,890\ngo to grab that zone.\n\n680\n00:35:12,890 --> 00:35:16,890\nI'll probably have to be at least a little\nbit patient her while it gets caught up.\n\n681\n00:35:16,890 --> 00:35:19,700\nNow it's gonna reach out, notice my\nforwarding server is 10.1.230.248, so\n\n682\n00:35:19,700 --> 00:35:24,810\nif I don't have an answer,\nI'm gonna go to that other server anyway.\n\n683\n00:35:24,810 --> 00:35:29,570\nBut if that server's not online, I need\nto have that local copy of that zone,\n\n684\n00:35:29,570 --> 00:35:32,680\nand you know it is taking\nits time isn't it?\n\n685\n00:35:32,680 --> 00:35:34,320\nLet me see if I can force it along.\n\n686\n00:35:34,320 --> 00:35:39,760\nSometimes if you just delete it and\nrecreate it, it'll get it a little faster.\n\n687\n00:35:39,760 --> 00:35:42,620\nAnd it's perfectly safe to delete\nit because we don't have any\n\n688\n00:35:42,620 --> 00:35:44,450\nchanges here that need to be replicated,\nright.\n\n689\n00:35:44,450 --> 00:35:46,434\nThey're just coming from the other server.\n\n690\n00:35:48,512 --> 00:35:51,137\nSo if you delete it, and\nredo your replication,\n\n691\n00:35:51,137 --> 00:35:54,290\nit just copies all that back down again.\n\n692\n00:35:54,290 --> 00:35:55,120\nAnd you'll be in business.\n\n693\n00:35:55,120 --> 00:35:56,630\nSo I'm just gonna create\nthat while it's online.\n\n694\n00:35:56,630 --> 00:35:58,940\nSo now it should be reaching\nout in the background.\n\n695\n00:35:58,940 --> 00:36:01,640\nI can pull up my logs and\nactually watch it happen.\n\n696\n00:36:01,640 --> 00:36:04,540\nIf you go up here into your logging,\nit'll generate events and\n\n697\n00:36:04,540 --> 00:36:05,740\nwe can see if there's a problem.\n\n698\n00:36:05,740 --> 00:36:08,920\nSo I can see right here where\nI've got bind starting up.\n\n699\n00:36:08,920 --> 00:36:12,750\nBind is the DNS server,\nthat's the Unix name for the DNS server.\n\n700\n00:36:12,750 --> 00:36:15,530\nAnd so it's just letting me\nknow that it's started, and\n\n701\n00:36:15,530 --> 00:36:17,510\nit hasn't actually\ninitiated the transfer yet.\n\n702\n00:36:17,510 --> 00:36:20,500\nI don't see any entries in here\ntelling me the transfer has started,\n\n703\n00:36:20,500 --> 00:36:22,290\nso now we just wait.\n\n704\n00:36:22,290 --> 00:36:24,340\nWe wait and let that transfer over.\n\n705\n00:36:24,340 --> 00:36:27,560\nLet's see if we can pull up anything\nspecific on our DNS service log.\n\n706\n00:36:29,170 --> 00:36:30,700\nAnd here we go.\n\n707\n00:36:30,700 --> 00:36:34,200\nSo it went to do a transfer, so I can see\nit reached out to that other server to do\n\n708\n00:36:34,200 --> 00:36:38,210\na transfer, and I get failed\nwhile receiving response refused.\n\n709\n00:36:38,210 --> 00:36:42,740\nThe other server refused to\nlet me get a copy of the zone.\n\n710\n00:36:42,740 --> 00:36:44,460\nNow why did it do that?\n\n711\n00:36:44,460 --> 00:36:49,080\nWell I'm probably not a valid name\nserver or it just hasn't done it yet.\n\n712\n00:36:49,080 --> 00:36:50,760\nYeah I'm just not a valid name server.\n\n713\n00:36:50,760 --> 00:36:54,530\nSo I'll jump over to the other box, and\nover here see how I've got this name\n\n714\n00:36:54,530 --> 00:36:59,410\nserver record for myself, I don't have\na name server record for my other machine.\n\n715\n00:36:59,410 --> 00:37:02,520\nSo it doesn't know about that to know\nthat it's a trusted name server to\n\n716\n00:37:02,520 --> 00:37:03,740\nallow the transfer.\n\n717\n00:37:03,740 --> 00:37:06,390\nSo I need to add that,\nI need to add that name server record, and\n\n718\n00:37:06,390 --> 00:37:08,840\nthen it will allow that\ntransfer to come over.\n\n719\n00:37:08,840 --> 00:37:12,210\nI also have access permissions\nup here that I need to check,\n\n720\n00:37:12,210 --> 00:37:14,390\nto make sure the other server's\nallowed to communicate.\n\n721\n00:37:14,390 --> 00:37:15,430\nI know that it is.\n\n722\n00:37:15,430 --> 00:37:18,410\nIt's in the only some clients list.\n\n723\n00:37:18,410 --> 00:37:20,420\nIt's in that list, so it is allowed.\n\n724\n00:37:20,420 --> 00:37:24,020\nAnd if I look at my other permissions\nup here, I've got permit all networks.\n\n725\n00:37:24,020 --> 00:37:26,490\nSo it's not like I've gotten\nanything limited there.\n\n726\n00:37:26,490 --> 00:37:29,310\nSo it really does just come\ndown to that name server entry.\n\n727\n00:37:29,310 --> 00:37:34,020\nSo I can come in here, and I can add\nin another name server entry, and\n\n728\n00:37:34,020 --> 00:37:35,140\nthen we'll have that valid.\n\n729\n00:37:35,140 --> 00:37:38,460\nNow, actually I never did assign\na name to the other guy either, did I?\n\n730\n00:37:38,460 --> 00:37:41,550\nSo I probably need to add that\nin [LAUGH] otherwise it's not\n\n731\n00:37:41,550 --> 00:37:42,920\ngonna know who to look at.\n\n732\n00:37:42,920 --> 00:37:47,280\nSo let me just go back over to this guy\nand assign a name, and we'll be covered.\n\n733\n00:37:47,280 --> 00:37:51,650\nSo we'll edit his host name,\nand we'll change this guy.\n\n734\n00:37:51,650 --> 00:37:53,710\nAnd maybe we'll pretend\nthat this is server two.\n\n735\n00:37:53,710 --> 00:38:00,926\nSo I'll give it a name of OS X server\ntwo and put it in the lab.itpro.tv zone.\n\n736\n00:38:00,926 --> 00:38:02,450\nSo we'll just move forward and set that.\n\n737\n00:38:02,450 --> 00:38:04,480\nI'll say this is gonna be\nan internet enabled host,\n\n738\n00:38:05,660 --> 00:38:09,350\nthe computer name is going\nto be OSX/server2 and\n\n739\n00:38:09,350 --> 00:38:14,180\nthe host name I will set to the same but\nwith the lab.itpro.tv attached to it.\n\n740\n00:38:16,562 --> 00:38:18,310\nAll right and\nI don't have a static address so\n\n741\n00:38:18,310 --> 00:38:19,730\nI should probably change that too.\n\n742\n00:38:19,730 --> 00:38:20,975\nI'll go ahead and modify that right now.\n\n743\n00:38:22,937 --> 00:38:26,300\nAnd that way, I know it will\nalways have the same address.\n\n744\n00:38:26,300 --> 00:38:28,740\nReal important on a DNS server.\n\n745\n00:38:29,870 --> 00:38:31,580\nAll right.\nI'm good with all the other options here,\n\n746\n00:38:31,580 --> 00:38:32,640\nso we'll just set those.\n\n747\n00:38:34,675 --> 00:38:36,205\nSo now I've got a static IP.\n\n748\n00:38:36,205 --> 00:38:38,305\nAnd since I've got a static IP,\nand a static name,\n\n749\n00:38:38,305 --> 00:38:39,955\nI can jump back over here to my server.\n\n750\n00:38:41,245 --> 00:38:44,055\nAnd I'll need to create\nthe host record for that first.\n\n751\n00:38:44,055 --> 00:38:47,667\nSo I'll go in here and\njust create a machine record.\n\n752\n00:38:47,667 --> 00:38:51,932\nAnd I'll say that\nosx-server2 is available.\n\n753\n00:38:51,932 --> 00:38:53,650\nProbably have to spell it right.\n\n754\n00:38:53,650 --> 00:38:58,935\nIs available at 10.1.230.249 is\nthe address I attached to it.\n\n755\n00:38:58,935 --> 00:39:00,040\nSo I'll create that.\n\n756\n00:39:01,190 --> 00:39:03,040\nAnd then I can create\nthe name server record.\n\n757\n00:39:03,040 --> 00:39:05,230\nYou have to have a host record first,\n\n758\n00:39:05,230 --> 00:39:07,790\nbefore you can create\nthe name server record.\n\n759\n00:39:07,790 --> 00:39:12,560\nSo now I'll do the name server record, and\nfor the name that's gonna be old server2.\n\n760\n00:39:13,830 --> 00:39:14,950\nWe'll just punch that in.\n\n761\n00:39:16,170 --> 00:39:17,590\nThere we go.\n\n762\n00:39:17,590 --> 00:39:21,110\nAnd so\nnow I've got two name server records.\n\n763\n00:39:21,110 --> 00:39:24,990\nServer one and\nserver two are both valid name servers.\n\n764\n00:39:24,990 --> 00:39:27,460\nAnd that should make it where\nmy zone transfer happens.\n\n765\n00:39:27,460 --> 00:39:31,374\nAnd I've got my host record for server two\nis in there also, we should be good to go.\n\n766\n00:39:32,710 --> 00:39:35,666\nI can jump back over here,\nthis one's gonna finish,\n\n767\n00:39:35,666 --> 00:39:38,930\nit wouldn't let it change that host name.\n\n768\n00:39:38,930 --> 00:39:41,365\nAnd once that's done, I can wait.\n\n769\n00:39:41,365 --> 00:39:45,238\nDNS will retry to transfer that zone, but\nsince there's nothing else on this server,\n\n770\n00:39:45,238 --> 00:39:48,740\nit'll actually be faster to just turn\nDNS off and turn it back on again.\n\n771\n00:39:48,740 --> 00:39:51,480\nThat'll force it to try and\nresync that domain right now.\n\n772\n00:39:51,480 --> 00:39:54,030\nThen I can watch the logs and\nsee it happen.\n\n773\n00:39:54,030 --> 00:39:56,600\nSo we'll give it a moment here.\n\n774\n00:39:56,600 --> 00:39:58,098\nI'm gonna jump down to DNS.\n\n775\n00:39:58,098 --> 00:39:59,981\nDNS is still just kinda sitting here.\n\n776\n00:39:59,981 --> 00:40:03,333\nAnd what I'm gonna do is I'm just\ngonna turn that service off.\n\n777\n00:40:03,333 --> 00:40:05,103\nAnd then wait just a second.\n\n778\n00:40:05,103 --> 00:40:06,948\nAnd then I'll turn it right back on again.\n\n779\n00:40:06,948 --> 00:40:09,890\nIt's gonna see that I've got that zone and\nit's gonna see that it's empty.\n\n780\n00:40:09,890 --> 00:40:12,710\nIt's gonna reach out to the primary,\nit's gonna try and\n\n781\n00:40:12,710 --> 00:40:14,740\nget a copy of that zone, right.\n\n782\n00:40:14,740 --> 00:40:18,410\nNow I can sit here and wait or\nI can jump up to my logs.\n\n783\n00:40:18,410 --> 00:40:21,240\nAnd I'll make sure I'm looking\nat my DNS service logs.\n\n784\n00:40:22,290 --> 00:40:27,720\nAnd, what I'm hoping to see is way down\nhere at the bottom, something like this.\n\n785\n00:40:27,720 --> 00:40:32,150\nHere we go, this empty zone information\nthat we're communicating and then after\n\n786\n00:40:32,150 --> 00:40:37,580\nthat we're kicking off a zone transfer,\nand it looks like I got another failure.\n\n787\n00:40:37,580 --> 00:40:41,340\nSo I am still getting refused on this one,\neven though I am a valid name server.\n\n788\n00:40:41,340 --> 00:40:47,910\nSo, let's see if it's giving\nme any hint as to my problem.\n\n789\n00:40:47,910 --> 00:40:50,400\nLet's see, failed while receiving\nresponse, still refused.\n\n790\n00:40:50,400 --> 00:40:52,870\nInteresting, let me\ncheck on the other end.\n\n791\n00:40:52,870 --> 00:40:54,960\nOn the other end,\nthis is the guy that's refusing it, so\n\n792\n00:40:54,960 --> 00:40:56,420\nwe can jump in to our logs.\n\n793\n00:40:57,770 --> 00:41:02,350\nAnd we can jump over to it's DNS logs,\nand we can see why it's refusing it.\n\n794\n00:41:05,480 --> 00:41:08,450\nAll right, and so\nhere we get zone transfer denied and, no,\n\n795\n00:41:08,450 --> 00:41:12,770\nit's not gonna bother to give me\nany more of a detail than that.\n\n796\n00:41:12,770 --> 00:41:15,600\nSo we'll have to find out what's\ngoing on here through a little extra\n\n797\n00:41:15,600 --> 00:41:16,550\ntroubleshooting.\n\n798\n00:41:16,550 --> 00:41:21,380\nNow I know that I've got my primary zone,\nlab.itpro.tv, I've got my\n\n799\n00:41:21,380 --> 00:41:27,300\nOSXserver2.lab.itpro.tv name server\ncreated, so it knows it's a valid server.\n\n800\n00:41:27,300 --> 00:41:28,500\nShould be happy and\n\n801\n00:41:28,500 --> 00:41:32,410\nhealthy, I don't see anything else\nthat would be blocking this one.\n\n802\n00:41:32,410 --> 00:41:37,780\nLet me just skim across this real quick\nand make sure I didn't miss anything.\n\n803\n00:41:37,780 --> 00:41:42,250\nWe might need to restart DNS here too,\nusually you don't have to.\n\n804\n00:41:42,250 --> 00:41:46,730\nBut we'll give that a shot\njust to let that one restart.\n\n805\n00:41:46,730 --> 00:41:47,230\nThere we go.\n\n806\n00:41:49,460 --> 00:41:52,200\nAnd then back here we'll restart this\none too, try and get these guys in sync.\n\n807\n00:41:54,660 --> 00:41:57,540\nThis one's actually still reflecting\nthe wrong name up here, so\n\n808\n00:41:57,540 --> 00:41:59,540\nsince I changed my IP address and\n\n809\n00:41:59,540 --> 00:42:03,200\nchanged my name, I probably still have\nsome settings that aren't happy there.\n\n810\n00:42:03,200 --> 00:42:06,130\nI'm gonna turn DNS off again and\nturn it back on.\n\n811\n00:42:06,130 --> 00:42:08,620\nIf it still shows the wrong settings,\nI might actually have to reboot.\n\n812\n00:42:08,620 --> 00:42:10,640\nYeah it is still showing\nthe wrong settings there.\n\n813\n00:42:10,640 --> 00:42:12,520\nSo I might be bound to\nthe wrong interface,\n\n814\n00:42:12,520 --> 00:42:15,220\nit's the same interface but\nmy IP has changed.\n\n815\n00:42:15,220 --> 00:42:16,900\nSo it might not be listening\nin the right spot, so\n\n816\n00:42:16,900 --> 00:42:18,010\nI might need to give that one a reboot.\n\n817\n00:42:18,010 --> 00:42:21,760\nSo let's do this, let's pause here for\na second, I'm gonna reboot this system.\n\n818\n00:42:21,760 --> 00:42:22,800\nAnd once it's back up,\n\n819\n00:42:22,800 --> 00:42:25,590\nwe can verify that transfer is\nhappening and we should be in business.\n\n820\n00:42:25,590 --> 00:42:27,335\nSo stay tuned,\nwe'll back in just a moment.\n\n821\n00:42:27,335 --> 00:42:33,848\n[MUSIC]\n\n822\n00:42:33,848 --> 00:42:35,625\nAll right, welcome back everybody.\n\n823\n00:42:35,625 --> 00:42:38,200\nSo during the break I went ahead and\nrebooted that client.\n\n824\n00:42:38,200 --> 00:42:41,830\nAnd while i was rebooting the second\nserver, I was just checking my settings on\n\n825\n00:42:41,830 --> 00:42:45,238\nthe primary server and\nI realized I missed a step.\n\n826\n00:42:45,238 --> 00:42:49,090\nSo my zone's being blocked here because of\na different setting I forgot to set and\n\n827\n00:42:49,090 --> 00:42:51,080\nthat's what's causing my problem here.\n\n828\n00:42:51,080 --> 00:42:52,770\nSo let me show you guys\nwhat I'm talking about so\n\n829\n00:42:52,770 --> 00:42:54,620\nyou don't make the same\nmistake that I did.\n\n830\n00:42:55,720 --> 00:42:59,390\nBack on my primary,\nthis is my primary server, server1.\n\n831\n00:42:59,390 --> 00:43:01,870\nAnd sever one is hosting that zone and\n\n832\n00:43:01,870 --> 00:43:06,970\nby default in the server app,\nzone transfers are blocked.\n\n833\n00:43:06,970 --> 00:43:09,300\nAnd we need to turn that on,\nand I forgot to do that.\n\n834\n00:43:09,300 --> 00:43:12,900\nI am added as a valid name server,\nso I'm covered.\n\n835\n00:43:12,900 --> 00:43:16,760\nBut zone transfers for\nanybody are disabled by default, so\n\n836\n00:43:16,760 --> 00:43:17,870\nI need to set that.\n\n837\n00:43:17,870 --> 00:43:21,750\nThe setting is not really obvious, you\ndon't see it on the screen by default, so\n\n838\n00:43:21,750 --> 00:43:23,180\nit's something that you have to look for.\n\n839\n00:43:23,180 --> 00:43:25,790\nWhat you have to do is you have\nto select the zone itself.\n\n840\n00:43:25,790 --> 00:43:30,172\nSo I'm clicking on lab.itpro.tv,\nnow notice how it doesn't highlight.\n\n841\n00:43:30,172 --> 00:43:33,920\nIt's kinda weird but\nyou've got to do that, you click on it and\n\n842\n00:43:33,920 --> 00:43:36,915\nthen when you go to your gear,\nyou can choose Edit Record,\n\n843\n00:43:36,915 --> 00:43:40,155\nand you're actually\nediting the domain record.\n\n844\n00:43:40,155 --> 00:43:43,665\nAnd it's hidden in there, you've got\nthis Allow Zone transfers option,\n\n845\n00:43:43,665 --> 00:43:45,075\nsee how it's not checked?\n\n846\n00:43:45,075 --> 00:43:48,485\nIt's not checked, so nobody, regardless\nof whether your a name server or not,\n\n847\n00:43:48,485 --> 00:43:50,270\nwill be able to do a zone transfer.\n\n848\n00:43:50,270 --> 00:43:52,300\nAnd I forgot that was\nthe default setting there, and\n\n849\n00:43:52,300 --> 00:43:54,250\nthat's why my transfer's not working.\n\n850\n00:43:54,250 --> 00:43:55,560\nSo I'm gonna turn that on,\n\n851\n00:43:55,560 --> 00:43:59,180\nand as soon as I turn it on see how it's\ngot the secondary zone settings here?\n\n852\n00:43:59,180 --> 00:44:03,280\nCheck the zone for updates every hour,\nif it fails, update every 15 minutes,\n\n853\n00:44:03,280 --> 00:44:07,390\nthese are the settings that tailor how\nour secondaries get their information.\n\n854\n00:44:07,390 --> 00:44:09,440\nSo I'm gonna set that up.\n\n855\n00:44:09,440 --> 00:44:14,820\nNow zone transfers will be allowed for\nlab.itpro.tv, and since server2\n\n856\n00:44:14,820 --> 00:44:19,380\nis listed right here as a name server,\nit will be allowed to get that zone.\n\n857\n00:44:20,500 --> 00:44:23,230\nI can jump over to server2, and let's see,\n\n858\n00:44:23,230 --> 00:44:27,090\nit might've done it already if I\ntalked long enough, it hasn't.\n\n859\n00:44:27,090 --> 00:44:30,550\nSo what I'm gonna do is I'm gonna\nrestart DNS, I'm gonna stop it and\n\n860\n00:44:30,550 --> 00:44:31,590\nstart it back up again.\n\n861\n00:44:33,000 --> 00:44:36,330\nAnd after it fires back up, now in\nthe background it's gonna reach out and\n\n862\n00:44:36,330 --> 00:44:37,320\ndo that zone transfer.\n\n863\n00:44:37,320 --> 00:44:40,190\nAnd I'm gonna go watch the logs for\nthis so we can see it happen.\n\n864\n00:44:40,190 --> 00:44:43,470\nBut as long as that zone\ntransfer setting wasn't checked,\n\n865\n00:44:43,470 --> 00:44:47,750\nit's not gonna copy this stuff over, so\nthat's gonna be a long term problem.\n\n866\n00:44:49,080 --> 00:44:54,610\nApparently my logs are taking a moment\nhere, maybe that's a good thing.\n\n867\n00:44:54,610 --> 00:44:59,470\nIt means there's so much success in the\nlog right now that it's taking a while.\n\n868\n00:44:59,470 --> 00:45:02,970\nAll right, so if I jump into my DNS\nservice log, and I look down to\n\n869\n00:45:02,970 --> 00:45:05,740\nthe bottom, I'm hoping to see that I\nget a zone transfer, and sure enough,\n\n870\n00:45:05,740 --> 00:45:10,550\nlooks like I've got some zone activity\nright there being transferred over.\n\n871\n00:45:10,550 --> 00:45:15,250\nIf I jump back over to my DNS tool,\non this screen I can see that\n\n872\n00:45:15,250 --> 00:45:18,650\nI am a secondary, and\nit's not showing me my records.\n\n873\n00:45:18,650 --> 00:45:23,470\nI'm gonna change this to say\nShow All Records, and they should turn up.\n\n874\n00:45:23,470 --> 00:45:27,540\nWell, you know that we can do a quick\ntest to verify if this is working or\n\n875\n00:45:27,540 --> 00:45:30,560\nnot, even if it doesn't show\nme the records right here.\n\n876\n00:45:30,560 --> 00:45:32,400\nLet's just see if a refresh\nwill pull that up.\n\n877\n00:45:33,690 --> 00:45:36,610\nWell, we'll just do a lookup\nright here against our system.\n\n878\n00:45:36,610 --> 00:45:38,811\nSo, what I'm gonna do\nis just to verify and\n\n879\n00:45:38,811 --> 00:45:42,370\nbe absolutely sure the records\nare right here, I can do an nslookup.\n\n880\n00:45:43,710 --> 00:45:48,093\nAnd I can search for something like,\nwe put a c name in for\n\n881\n00:45:48,093 --> 00:45:53,950\nwww.lab.itpro.tv, and\nI can do that lookup right against myself.\n\n882\n00:45:53,950 --> 00:45:55,420\nNot against the other server.\n\n883\n00:45:55,420 --> 00:45:59,130\nAnd if I get a response,\nright there, that came from me,\n\n884\n00:45:59,130 --> 00:46:00,900\nthat came from my own system.\n\n885\n00:46:00,900 --> 00:46:03,690\nI got that answer back,\nthat tells me I am doing the lookups,\n\n886\n00:46:03,690 --> 00:46:05,820\nI've got a copy of the zone.\n\n887\n00:46:05,820 --> 00:46:09,070\nNow the reason I'm not showing it here is,\nyou're not allowed to edit it,\n\n888\n00:46:09,070 --> 00:46:10,280\nyou can't change the record.\n\n889\n00:46:10,280 --> 00:46:13,070\nSo they're not gonna show you\nthe individual records to edit.\n\n890\n00:46:13,070 --> 00:46:16,390\nBut it is there, it is working and\nI now have a copy of that zone.\n\n891\n00:46:16,390 --> 00:46:20,950\nI now have a backup if my primary fails,\nthis server stays running and\n\n892\n00:46:20,950 --> 00:46:22,110\nwe've got redundancy.\n\n893\n00:46:22,110 --> 00:46:24,950\nSo, not so difficult to set up,\nthe hardest part you know,\n\n894\n00:46:24,950 --> 00:46:26,230\nremembering all the little options.\n\n895\n00:46:26,230 --> 00:46:28,780\nAnd there are some options that\nare hidden away, in this case for me,\n\n896\n00:46:28,780 --> 00:46:29,650\nit was the zone transfer.\n\n897\n00:46:29,650 --> 00:46:31,310\nLet me bring that back up again.\n\n898\n00:46:31,310 --> 00:46:35,620\nOn the primary you just had to check\non the zone, and edit that record.\n\n899\n00:46:35,620 --> 00:46:40,100\nAnd it was right there to allow zone\ntransfer, that was what I had left out.\n\n900\n00:46:40,100 --> 00:46:42,180\nAll right well that's about it for DNS.\n\n901\n00:46:42,180 --> 00:46:45,410\nIt is a very important service, it's\none of those things that you set up and\n\n902\n00:46:45,410 --> 00:46:46,700\nthen you kind of forget about it.\n\n903\n00:46:46,700 --> 00:46:50,880\nBut you use it every single day, you're\nconstantly doing name to IP look ups.\n\n904\n00:46:50,880 --> 00:46:52,440\nThe infrastructure's pretty solid,\n\n905\n00:46:52,440 --> 00:46:56,850\nit's all built on top of the Unix\nbind DNS server, which is rock solid,\n\n906\n00:46:56,850 --> 00:46:59,460\nreally stable,\nvery widely used across the Internet.\n\n907\n00:46:59,460 --> 00:47:02,300\nSo it's great technology,\ndefinitely something you'll make use of.\n\n908\n00:47:03,502 --> 00:47:05,700\nAll right, well let's go ahead and\nwrap this episode up here.\n\n909\n00:47:05,700 --> 00:47:09,084\nI do want to remind you guys, if you have\nquestions on anything that we covered\n\n910\n00:47:09,084 --> 00:47:11,493\nlive during the show,\nyou can go to itpro.tv/live.\n\n911\n00:47:11,493 --> 00:47:14,808\nAnd you'll see the chat room right beneath\nthe video, post your questions there and\n\n912\n00:47:14,808 --> 00:47:16,360\nwe monitor and answer during the show.\n\n913\n00:47:16,360 --> 00:47:20,160\nIf you have questions after the show,\ncheck out our Q&A forums.\n\n914\n00:47:20,160 --> 00:47:22,200\nAt the top of every page you'll\nsee a link that says Q&A.\n\n915\n00:47:22,200 --> 00:47:26,170\nIt'll take you to the forums, you can\npost your questions there, we monitor and\n\n916\n00:47:26,170 --> 00:47:27,640\nanswer after the show, all right.\n\n917\n00:47:27,640 --> 00:47:29,930\nTake advantage of that resource,\nit is there for you.\n\n918\n00:47:29,930 --> 00:47:33,140\nAll right well I hope you\nguys enjoyed today's episode.\n\n919\n00:47:33,140 --> 00:47:36,688\nSigning off for ITproTV, I'm Don Pezet,\nand I'll see you next time.\n\n920\n00:47:36,688 --> 00:47:46,688\n[MUSIC]\n\n",
          "vimeoId": "121882835"
        },
        {
          "description": "In this episode Don demonstrates the various ways that you can remotely manage a machine running the OS X Server App. He demonstrates SSH, screen sharing and remotely executing the Server App itself.",
          "length": "1239",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-1-3-remote_management-031015-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-1-3-remote_management-031015-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-1-3-remote_management-031015-1-sm.jpg",
          "title": "Remote Management",
          "transcript": "1\n00:00:00,000 --> 00:00:10,000\n[MUSIC]\n\n2\n00:00:15,295 --> 00:00:22,461\n[SOUND]\n\n3\n00:00:22,461 --> 00:00:33,295\n[MUSIC]\n\n4\n00:00:33,295 --> 00:00:36,087\nAll right, good morning,\ngood afternoon, and good evening.\n\n5\n00:00:36,087 --> 00:00:38,671\nAnd welcome back to another\nepisode of ITProTV.\n\n6\n00:00:38,671 --> 00:00:39,963\nI'm your host Don Pezet,\n\n7\n00:00:39,963 --> 00:00:44,290\nback again with another episode of\nApple Certified Technical Coordinator.\n\n8\n00:00:44,290 --> 00:00:48,700\nWe're gonna be diving into a neat topic\ntoday, which is remote management.\n\n9\n00:00:48,700 --> 00:00:51,320\nIf you just have one\nserver that you're using,\n\n10\n00:00:51,320 --> 00:00:53,460\none Mac that you're using as a server.\n\n11\n00:00:53,460 --> 00:00:55,600\nYou're running OS X,\nyou install the server app, and\n\n12\n00:00:55,600 --> 00:00:57,100\nyou get it setup, and that's it.\n\n13\n00:00:57,100 --> 00:00:59,990\nWhen you go to manage it, you probably\njust walk up to that box, sit down,\n\n14\n00:00:59,990 --> 00:01:01,820\nlogin, and use it.\n\n15\n00:01:01,820 --> 00:01:02,630\nOr if you're like me, and\n\n16\n00:01:02,630 --> 00:01:05,890\nyou're running the server app on your\nown laptop, then that's your server.\n\n17\n00:01:05,890 --> 00:01:08,000\nSo you're logged into it, and that's it.\n\n18\n00:01:08,000 --> 00:01:09,880\nBut what if you have a hundred servers?\n\n19\n00:01:09,880 --> 00:01:11,500\nWhat if you have a thousand servers?\n\n20\n00:01:11,500 --> 00:01:14,100\nYou don't want to have to go and connect\ninto each one of those individually\n\n21\n00:01:14,100 --> 00:01:16,030\nwhenever you want to change something.\n\n22\n00:01:16,030 --> 00:01:20,370\nSo instead, what you can do is\nremotely manage those servers.\n\n23\n00:01:20,370 --> 00:01:23,860\nYou can sit at your own laptop or\ndesktop, connect to the servers and\n\n24\n00:01:23,860 --> 00:01:25,470\ncompletely manage and configure them.\n\n25\n00:01:25,470 --> 00:01:27,580\nIt really does work out well.\n\n26\n00:01:27,580 --> 00:01:31,740\nApple gives us a number of different\nways that we can remotely connect and\n\n27\n00:01:31,740 --> 00:01:32,860\nmanage the systems.\n\n28\n00:01:32,860 --> 00:01:34,600\nLet's take a look at those settings.\n\n29\n00:01:34,600 --> 00:01:37,200\nSo, I'm on a server right here,\nso this is my server.\n\n30\n00:01:37,200 --> 00:01:39,010\nI called it OSX-server 1.\n\n31\n00:01:39,010 --> 00:01:44,660\nI'm running Max OS 10.10 Yosemite, and\nI've installed the server app on it.\n\n32\n00:01:44,660 --> 00:01:50,200\nSo if I fire up my server app and\nget connected, I can get logged in.\n\n33\n00:01:50,200 --> 00:01:53,120\nAnd it's pretty much just at\nall the default settings.\n\n34\n00:01:53,120 --> 00:01:56,650\nNow on your main screen when you\nget logged into the server app,\n\n35\n00:01:56,650 --> 00:01:58,400\nyou'll see a couple of tabs.\n\n36\n00:01:58,400 --> 00:02:00,630\nAnd one of the tabs is settings.\n\n37\n00:02:00,630 --> 00:02:01,400\nThis button right here.\n\n38\n00:02:01,400 --> 00:02:03,640\nAnd if I choose settings.\n\n39\n00:02:03,640 --> 00:02:05,960\nHere's the remote management options.\n\n40\n00:02:05,960 --> 00:02:09,020\nNow by default,\nnone of them are turned on.\n\n41\n00:02:09,020 --> 00:02:13,970\nSo by default, if you want to manage\nan OS X server, you've gotta go and\n\n42\n00:02:13,970 --> 00:02:15,220\nlogin to it directly.\n\n43\n00:02:15,220 --> 00:02:17,600\nYou gotta go and sit down in front\nof that machine, login and use it.\n\n44\n00:02:18,620 --> 00:02:23,190\nBut if you've got a hundred Mac Minis\nacting as servers jammed in Iraqi,\n\n45\n00:02:23,190 --> 00:02:25,400\nyou don't necessarily have a keyboard and\nmouse and\n\n46\n00:02:25,400 --> 00:02:27,110\nmonitor hooked up to every one of them.\n\n47\n00:02:27,110 --> 00:02:29,300\nSo you need a way to be able\nto remotely manage them.\n\n48\n00:02:29,300 --> 00:02:31,870\nAnd Apple gives us a few choices.\n\n49\n00:02:31,870 --> 00:02:38,300\nIf all you need is command line access,\nlogging in via SSH is a great option.\n\n50\n00:02:38,300 --> 00:02:41,220\nSSH stand for secure shell.\n\n51\n00:02:41,220 --> 00:02:45,350\nWhen you open up the terminal\non your system, right here.\n\n52\n00:02:45,350 --> 00:02:50,750\nRemember that Mac OS, and OS X in general,\nis running Unix/BSD under the hood.\n\n53\n00:02:50,750 --> 00:02:53,210\nSo it's running this BSD operating system.\n\n54\n00:02:53,210 --> 00:02:55,240\nWhen you open up the terminal\nthat's what you're exposing,\n\n55\n00:02:55,240 --> 00:02:57,930\nyou see that BSD operating system,\nand you can start to work with it.\n\n56\n00:02:57,930 --> 00:02:59,220\nYou can look at your files,\n\n57\n00:02:59,220 --> 00:03:03,410\nchange permissions do all that other good\nstuff right here, from the terminal.\n\n58\n00:03:03,410 --> 00:03:08,960\nWhat SSH does is it allows you to open up\na terminal like this, on a remote server,\n\n59\n00:03:08,960 --> 00:03:13,350\nso you can start working on that\nother system as if you were there.\n\n60\n00:03:13,350 --> 00:03:15,870\nAnd from that command line,\nSSH is a great way to do it.\n\n61\n00:03:15,870 --> 00:03:19,750\nIt's a fully encrypted session\nbetween you and the other host.\n\n62\n00:03:21,920 --> 00:03:26,239\nAnother option that we have is enable\nscreen sharing and remote management.\n\n63\n00:03:27,240 --> 00:03:27,840\nWhat is that?\n\n64\n00:03:27,840 --> 00:03:31,320\nWell, screen sharing,\nthat's Apple screen sharing.\n\n65\n00:03:31,320 --> 00:03:34,950\nAll Mac OS systems have a VNC\nserver built into them.\n\n66\n00:03:34,950 --> 00:03:36,640\nThat's virtual network computing.\n\n67\n00:03:36,640 --> 00:03:38,510\nIt's a little screen sharing utility.\n\n68\n00:03:38,510 --> 00:03:42,390\nIf you've ever used Back to My Mac, or\nthe screen sharing feature in the Finder,\n\n69\n00:03:42,390 --> 00:03:43,390\nthat's what it's using.\n\n70\n00:03:43,390 --> 00:03:44,310\nIt's VNC.\n\n71\n00:03:44,310 --> 00:03:46,770\nNow the authentication\nmechanism is special on it, so\n\n72\n00:03:46,770 --> 00:03:50,300\nit's not your normal VNC, but\nthat is basically what's built there, and\n\n73\n00:03:50,300 --> 00:03:53,310\nyou can turn on support for\nnormal VNC if you want.\n\n74\n00:03:53,310 --> 00:03:54,830\nYou can't do it here, through the GUI, but\n\n75\n00:03:54,830 --> 00:03:57,090\nyou can do it through some\nof the other screens.\n\n76\n00:03:57,090 --> 00:03:59,230\nSo when you go to enable\nremote management,\n\n77\n00:03:59,230 --> 00:04:02,440\nif you just need the basic functionality,\nthis screen works out great, but\n\n78\n00:04:02,440 --> 00:04:05,700\nthere are some times that we do need to\njump back to the system preferences to set\n\n79\n00:04:05,700 --> 00:04:07,339\nthis stuff up, and\nI'll show you why here in a moment.\n\n80\n00:04:08,820 --> 00:04:11,150\nSo if I want screen sharing,\nI can turn that on.\n\n81\n00:04:11,150 --> 00:04:11,990\nThe other option,\n\n82\n00:04:11,990 --> 00:04:16,230\nthough, is one of the best, which is\nallow remote administration using server.\n\n83\n00:04:16,230 --> 00:04:20,950\nAnd what that means is, I can go to my\nclient and I can install the server app.\n\n84\n00:04:20,950 --> 00:04:25,680\nAnd when I run the server app, instead\nof setting up my laptop as a server,\n\n85\n00:04:25,680 --> 00:04:28,720\nI can connect to other\nservers that are out there.\n\n86\n00:04:28,720 --> 00:04:32,560\nSo maybe I have OSX-server1\nall the way through server 99.\n\n87\n00:04:32,560 --> 00:04:38,310\nI could connect to any one of them and\nmanage it all from within the server GUI.\n\n88\n00:04:38,310 --> 00:04:41,140\nWithout actually running\na server on my own laptop.\n\n89\n00:04:41,140 --> 00:04:42,390\nThat's the best way.\n\n90\n00:04:42,390 --> 00:04:47,260\nThe server app creates a secure connection\nbetween the app on your system, and\n\n91\n00:04:47,260 --> 00:04:50,530\nthe actual server, and gives you\na nice communication means there.\n\n92\n00:04:50,530 --> 00:04:53,290\nSo it really does work out pretty well.\n\n93\n00:04:53,290 --> 00:04:56,430\nThe last option is,\nenable Apple push notifications, and\n\n94\n00:04:56,430 --> 00:04:58,880\nthat's if you're doing management\nthrough Apple's servers.\n\n95\n00:04:58,880 --> 00:05:02,270\nIf you've got this connected up to iCloud,\nand you're using things like,\n\n96\n00:05:02,270 --> 00:05:06,460\nApple Remote Desktop, or the profile\nmanager linked up through Apple.\n\n97\n00:05:06,460 --> 00:05:09,520\nYou'll get push notifications when\nyour policies get updated and\n\n98\n00:05:09,520 --> 00:05:10,350\nyou need to enable that.\n\n99\n00:05:10,350 --> 00:05:11,730\nI'm gonna leave that blank for\n\n100\n00:05:11,730 --> 00:05:14,390\nright now because we'll deal with\nthat in the Profile Manager episodes.\n\n101\n00:05:16,160 --> 00:05:21,490\nSo now that I've got those set,\nmy server is ready to be remotely managed.\n\n102\n00:05:21,490 --> 00:05:25,050\nI can jump over to a client and start\nto connect and work with this server.\n\n103\n00:05:25,050 --> 00:05:28,490\nSo let's do that, let's run through each\nof these and kind of see what happened.\n\n104\n00:05:28,490 --> 00:05:33,220\nSo if I jump over, here's my client,\nand I'll start with Terminal.\n\n105\n00:05:33,220 --> 00:05:34,380\nSo I'm gonna open up Terminal.\n\n106\n00:05:34,380 --> 00:05:37,840\nWhoops, I'm gonna open up\nDictionary cuz I can't type.\n\n107\n00:05:37,840 --> 00:05:41,560\nThere we go [LAUGH].\nSo I'm gonna up the Terminal, and\n\n108\n00:05:42,690 --> 00:05:45,370\nby default,\nyou are logged into your own system,\n\n109\n00:05:45,370 --> 00:05:47,980\nso if I do host name,\nI can see I'm on Helps-iMac.\n\n110\n00:05:47,980 --> 00:05:52,340\nHelp Desk was the first account I created,\nso this machine's called Helps iMac.\n\n111\n00:05:52,340 --> 00:05:57,910\nSo I'm right here, I'm my own client,\nbut I can type SSH followed\n\n112\n00:05:57,910 --> 00:06:03,620\nby a username, @, and then the IP address\nof the server that I want to connect to.\n\n113\n00:06:03,620 --> 00:06:08,050\nSo Help Desk is the username I'm\ngonna use, and then 10.1.230.248,\n\n114\n00:06:08,050 --> 00:06:10,086\nthat's the IP address of the server.\n\n115\n00:06:10,086 --> 00:06:13,056\nIf it's got a DNS name attached,\nyou can do the DNS name also,\n\n116\n00:06:13,056 --> 00:06:14,550\nwhichever one you want.\n\n117\n00:06:14,550 --> 00:06:16,336\nI'm doing the IP.\n\n118\n00:06:16,336 --> 00:06:21,560\nNow it's gonna build a secure, encrypted\ntunnel between me and the other side.\n\n119\n00:06:21,560 --> 00:06:25,640\nNow when you installed the server app,\nit created a self signed certificate.\n\n120\n00:06:25,640 --> 00:06:27,380\nAnd we've got an episode\non certificates coming up.\n\n121\n00:06:27,380 --> 00:06:28,830\nSo we'll cover it more later.\n\n122\n00:06:28,830 --> 00:06:32,710\nBut it's downloading that certificate and\nit's saying do you trust that certificate?\n\n123\n00:06:32,710 --> 00:06:33,860\nIs it somebody you know?\n\n124\n00:06:33,860 --> 00:06:35,836\nAnd I'll say yes, I trust it.\n\n125\n00:06:35,836 --> 00:06:40,180\nIt's gonna add it to my system, and\nnow it's asking for my password.\n\n126\n00:06:40,180 --> 00:06:42,270\nSo I'll punch in the password for\nthe help desk account.\n\n127\n00:06:43,530 --> 00:06:47,340\nAnd now I'm connected up,\nand notice my prompt.\n\n128\n00:06:47,340 --> 00:06:49,063\nIt's showing up that I'm\non that other server, and\n\n129\n00:06:49,063 --> 00:06:51,100\nI can use the host name\ncommand to verify that.\n\n130\n00:06:51,100 --> 00:06:56,110\nI'm on that server, and I can start\ndoing work as if I was on that server.\n\n131\n00:06:56,110 --> 00:07:00,480\nIf I change to Desktop,\nand I create a file,\n\n132\n00:07:00,480 --> 00:07:06,740\nlike notes.txt, and I edit that file,\nand I'll put something in it.\n\n133\n00:07:07,860 --> 00:07:09,490\nSo this is a test.\n\n134\n00:07:11,090 --> 00:07:12,720\nI used the Vie editor.\n\n135\n00:07:12,720 --> 00:07:16,400\nThe Vie editor's actually running\nover there on the other server.\n\n136\n00:07:16,400 --> 00:07:17,580\nIt's not running here for me.\n\n137\n00:07:17,580 --> 00:07:22,320\nIt's running on the other server, and I'm\njust gonna save that file real quick but\n\n138\n00:07:22,320 --> 00:07:23,910\nI'm gonna keep it open.\n\n139\n00:07:23,910 --> 00:07:26,590\nIf I jump back over to the server.\n\n140\n00:07:26,590 --> 00:07:28,780\nWhoops.\n[LAUGH] There we go.\n\n141\n00:07:28,780 --> 00:07:30,660\nI'm gonna give everybody motion sickness.\n\n142\n00:07:30,660 --> 00:07:33,600\nAnd then after that if I\njump back over to my server.\n\n143\n00:07:33,600 --> 00:07:34,795\nI can see right here, on my desktop.\n\n144\n00:07:34,795 --> 00:07:36,040\nNotes.txt appeared.\n\n145\n00:07:36,040 --> 00:07:37,820\nThat came from the remote client.\n\n146\n00:07:37,820 --> 00:07:39,190\nThat put it in there.\n\n147\n00:07:39,190 --> 00:07:43,170\nAnd if I pull up my activity monitor,\nand I start diving into my processes.\n\n148\n00:07:43,170 --> 00:07:45,920\nI will find a process in here somewhere.\n\n149\n00:07:45,920 --> 00:07:50,880\nWhich will show my terminal session\nthat's open from that client.\n\n150\n00:07:50,880 --> 00:07:52,450\nThe VTY that's being built up.\n\n151\n00:07:52,450 --> 00:07:53,895\nThis virtual connection\nthat is coming across.\n\n152\n00:07:53,895 --> 00:07:57,960\nSo these are sessions that\nare coming in from that client.\n\n153\n00:07:57,960 --> 00:08:00,003\nIf I go into my own terminal.\n\n154\n00:08:00,003 --> 00:08:02,540\nAnd let's see if I can\nremember the command for this.\n\n155\n00:08:02,540 --> 00:08:06,310\nI think it ps -aux, nope no x.\n\n156\n00:08:06,310 --> 00:08:08,351\nOops, well, ps -a.\n\n157\n00:08:10,768 --> 00:08:14,018\nThere we go, ps -ax,\nI knew I'd hit it after 10 or 20 tries.\n\n158\n00:08:14,018 --> 00:08:18,635\nThis is the Unix command that shows all\nthe processes that are running, and\n\n159\n00:08:18,635 --> 00:08:22,120\nnotice I see a process right here,\nvi./notes.txt.\n\n160\n00:08:22,120 --> 00:08:23,660\nI'm not running that.\n\n161\n00:08:23,660 --> 00:08:25,030\nWell, technically I am.\n\n162\n00:08:25,030 --> 00:08:26,900\nI'm running it from that remote session.\n\n163\n00:08:26,900 --> 00:08:30,470\nAnd so it shows up it's running in\nthe background on this server, and\n\n164\n00:08:30,470 --> 00:08:32,820\nthat's the client that's doing it.\n\n165\n00:08:32,820 --> 00:08:34,160\nSo that's SSH.\n\n166\n00:08:34,160 --> 00:08:35,460\nPretty easy to get setup,\n\n167\n00:08:35,460 --> 00:08:40,500\nreally works well if you're just trying\nto get command line access to the server.\n\n168\n00:08:41,780 --> 00:08:43,010\nBut what if I want more?\n\n169\n00:08:43,010 --> 00:08:44,270\nWhat if I want screen sharing?\n\n170\n00:08:44,270 --> 00:08:46,690\nI want to actually see the screen\nto that remote computer.\n\n171\n00:08:47,770 --> 00:08:49,850\nWell, I turned that option on.\n\n172\n00:08:49,850 --> 00:08:53,350\nSo if I go into the Finder, in my Finder,\n\n173\n00:08:53,350 --> 00:08:56,960\nit should find OS X server\none on the network.\n\n174\n00:08:56,960 --> 00:08:58,400\nThere it is.\n\n175\n00:08:58,400 --> 00:09:02,460\nAnd if I choose it, the share screen\nbutton is right there, and I can\n\n176\n00:09:02,460 --> 00:09:07,002\nhit share screen and it's gonna connect to\nit and try to display that screen for me.\n\n177\n00:09:07,002 --> 00:09:11,260\nI'm gonna have to punch in my username and\npassword for the other system.\n\n178\n00:09:11,260 --> 00:09:12,810\nSo I'll punch that in.\n\n179\n00:09:12,810 --> 00:09:13,830\nAnd hit connect.\n\n180\n00:09:13,830 --> 00:09:17,670\nIt's gonna connect to that server, and\nit's gonna display its screen right here.\n\n181\n00:09:17,670 --> 00:09:20,640\nNow it's just like I'm sitting\nin front of that machine.\n\n182\n00:09:20,640 --> 00:09:24,180\nThat machine might not have a keyboard\nattached, it might not have a mouse,\n\n183\n00:09:24,180 --> 00:09:25,580\nit might not have a monitor.\n\n184\n00:09:25,580 --> 00:09:28,630\nBut I see it, and I'm able to work\nwith it right here from my laptop\n\n185\n00:09:28,630 --> 00:09:30,520\nas if I were sitting at that machine.\n\n186\n00:09:30,520 --> 00:09:32,600\nThat's the nice part about screen sharing.\n\n187\n00:09:32,600 --> 00:09:33,130\nOkay?\n\n188\n00:09:33,130 --> 00:09:38,710\nSo pretty straightforward there\ngetting connected for that.\n\n189\n00:09:38,710 --> 00:09:42,130\nBut the best one is to\nactually use the server app.\n\n190\n00:09:42,130 --> 00:09:43,930\nAnd I turned that option on too.\n\n191\n00:09:43,930 --> 00:09:50,200\nSo here on my client, if I just run the\nserver app, well when you run the server\n\n192\n00:09:50,200 --> 00:09:54,850\napp, the default option is to hit continue\nand set this machine up as a server.\n\n193\n00:09:54,850 --> 00:09:57,510\nWell I don't wanna be a server,\nI'm on my laptop.\n\n194\n00:09:57,510 --> 00:09:59,450\nI wanna connect to a server.\n\n195\n00:09:59,450 --> 00:10:02,470\nAnd so you've got that button over here,\nOther Mac.\n\n196\n00:10:02,470 --> 00:10:05,570\nYou can choose that, and\nit will browse the network and\n\n197\n00:10:05,570 --> 00:10:07,810\ngive you a list of\nthe servers that it found.\n\n198\n00:10:07,810 --> 00:10:12,060\nIt found my other server, and\nI can choose that and hit continue.\n\n199\n00:10:12,060 --> 00:10:14,290\nAnd it's gonna ask for\na user name and a password.\n\n200\n00:10:14,290 --> 00:10:16,630\nSo I will provide my credentials.\n\n201\n00:10:17,750 --> 00:10:19,280\nAnd then it's gonna connect up.\n\n202\n00:10:19,280 --> 00:10:23,900\nAnd I will be in the server GUI without\nactually being a server myself.\n\n203\n00:10:23,900 --> 00:10:25,960\nNow if pulling that certificate.\n\n204\n00:10:25,960 --> 00:10:28,490\nAnd again, we'll cover the certificates\nin the certificate episode.\n\n205\n00:10:28,490 --> 00:10:30,530\nBut it's asking do I\ntrust that certificate.\n\n206\n00:10:30,530 --> 00:10:32,270\nI am gonna go ahead and\nhit continue because I do.\n\n207\n00:10:33,690 --> 00:10:36,606\nAnd now, it's gonna reach out to it,\nconnect, and,\n\n208\n00:10:36,606 --> 00:10:40,760\neventually [LAUGH] I'll see the GUI.\n\n209\n00:10:40,760 --> 00:10:43,540\nWhat it's doing is it's building\nup that secure encrypted tunnel\n\n210\n00:10:43,540 --> 00:10:45,020\nbetween my system and the other side.\n\n211\n00:10:45,020 --> 00:10:47,250\nAnd it takes it a moment to build that up.\n\n212\n00:10:47,250 --> 00:10:50,410\nOnce it's done, the GUI will come up and\nI'll be managing.\n\n213\n00:10:50,410 --> 00:10:54,930\nNow Apple recommends,\nthat you don't manage the same server.\n\n214\n00:10:54,930 --> 00:10:56,790\nFrom more than one\nclient at the same time,\n\n215\n00:10:56,790 --> 00:11:00,780\ncuz people can start to make changes and\nbump into each other.\n\n216\n00:11:00,780 --> 00:11:03,690\nBut if I'm the only one working,\nI can connect up to it and get to work.\n\n217\n00:11:03,690 --> 00:11:08,340\nIt actually won't stop you from using more\nthan one client at the same time, but\n\n218\n00:11:08,340 --> 00:11:11,200\nthink about what would happen if,\nI was configuring DNS, and\n\n219\n00:11:11,200 --> 00:11:14,670\nyou were configuring DNS at the same time,\nwe might overwrite each other settings,\n\n220\n00:11:14,670 --> 00:11:16,170\nso that's why they make\nthat recommendation.\n\n221\n00:11:17,630 --> 00:11:20,260\nAll right, well, I'm getting a little\nimpatient waiting for that one to connect.\n\n222\n00:11:20,260 --> 00:11:23,340\nSo while I'm waiting,\nlet's talk about something else.\n\n223\n00:11:23,340 --> 00:11:27,630\nWhen I turned on this functionality,\nI went into the server app and\n\n224\n00:11:27,630 --> 00:11:28,740\nI configured it in here.\n\n225\n00:11:28,740 --> 00:11:31,750\nI went to settings and\nI turned the options on all right here.\n\n226\n00:11:32,790 --> 00:11:35,240\nBut I didn't have to do it from here,\n\n227\n00:11:35,240 --> 00:11:37,300\nI could have done it\nfrom system preferences.\n\n228\n00:11:37,300 --> 00:11:39,360\nThis is certainly\nthe easiest way to do it.\n\n229\n00:11:39,360 --> 00:11:41,300\nI just checked three boxes and I was done.\n\n230\n00:11:41,300 --> 00:11:42,340\nRight?\n\n231\n00:11:42,340 --> 00:11:45,670\nBut if I want to do anything advanced,\nI need to go and\n\n232\n00:11:45,670 --> 00:11:46,830\ndo it from System Preferences.\n\n233\n00:11:46,830 --> 00:11:48,260\nNow, what do I mean by advanced?\n\n234\n00:11:48,260 --> 00:11:49,900\nWell, I mean permissions.\n\n235\n00:11:49,900 --> 00:11:53,930\nWhen I turned this on, did it ask me\nwho was gonna be allowed to use SSH?\n\n236\n00:11:53,930 --> 00:11:57,070\nDid it ask who was gonna be\nallowed to use Screen Sharing or\n\n237\n00:11:57,070 --> 00:11:59,110\nwho was gonna be allowed\nto use the server app?\n\n238\n00:11:59,110 --> 00:12:01,690\nNo, it used some default permissions.\n\n239\n00:12:01,690 --> 00:12:05,900\nIf I wanna tweak those permissions in any\nway, I need to do it from the server app.\n\n240\n00:12:05,900 --> 00:12:08,330\nOkay?\nI need to jump over and do it from there.\n\n241\n00:12:08,330 --> 00:12:11,018\nSo I'm gonna go into\nmy System Preferences.\n\n242\n00:12:12,690 --> 00:12:16,760\nAnd in my System Preferences\nthese settings are under Sharing.\n\n243\n00:12:16,760 --> 00:12:20,450\nAnd if I go under Sharing, you'll see\nthe different things that we can share.\n\n244\n00:12:20,450 --> 00:12:24,720\nAnd see how it turned on,\nremote login and remote management.\n\n245\n00:12:24,720 --> 00:12:26,010\nThose weren't on before.\n\n246\n00:12:26,010 --> 00:12:28,340\nI know I didn't show it, but\nthe default is they're all turned off.\n\n247\n00:12:28,340 --> 00:12:29,380\nThat's how I know.\n\n248\n00:12:29,380 --> 00:12:31,820\nAnd so, remote login was turned on.\n\n249\n00:12:31,820 --> 00:12:33,518\nWell, that was SSH.\n\n250\n00:12:33,518 --> 00:12:38,810\nTo login to this computer remotely,\ntype in SSH Help Desk at 10.1.230.248.\n\n251\n00:12:38,810 --> 00:12:39,770\nThat's exactly what I typed, right?\n\n252\n00:12:40,800 --> 00:12:45,972\nAnd allow access for anyone in the\nadministrators group, that's the default.\n\n253\n00:12:45,972 --> 00:12:49,550\nAll right, maybe I don't want\nit to just be administrators.\n\n254\n00:12:49,550 --> 00:12:51,800\nMaybe I want it to be a specific person.\n\n255\n00:12:51,800 --> 00:12:54,190\nOr a couple of specific people.\n\n256\n00:12:54,190 --> 00:12:56,670\nIf I want it to be more\nthan just administrators,\n\n257\n00:12:56,670 --> 00:12:58,522\nI've got to come in to\nthe system preference to do it.\n\n258\n00:12:58,522 --> 00:13:00,510\nAll right, that's one of\nthe main reasons we come in here.\n\n259\n00:13:01,700 --> 00:13:03,570\nOn remote management, same thing.\n\n260\n00:13:03,570 --> 00:13:05,643\nRight?\nWe've got where we can tailor the users.\n\n261\n00:13:05,643 --> 00:13:09,540\nAnd see under remote management,\nhow it only approved help desk.\n\n262\n00:13:09,540 --> 00:13:11,670\nIt didn't even approve\nthe administrators group.\n\n263\n00:13:11,670 --> 00:13:15,990\nSo if I want to approve that group,\nthen I'd need to come in here to add.\n\n264\n00:13:15,990 --> 00:13:17,710\nAnd I can come in and\nI can add that group.\n\n265\n00:13:17,710 --> 00:13:19,600\nNow notice the groups don't show up.\n\n266\n00:13:19,600 --> 00:13:22,330\nWell, apparently that group is\nnot supported on this screen.\n\n267\n00:13:22,330 --> 00:13:25,680\nSo if I had other administrators I would\nneed to pick them individually and\n\n268\n00:13:25,680 --> 00:13:26,490\nadd them to the list.\n\n269\n00:13:26,490 --> 00:13:27,450\nAll right?\n\n270\n00:13:27,450 --> 00:13:30,560\nDifferent services have different\nfeatures that are configured.\n\n271\n00:13:30,560 --> 00:13:33,490\nSo we might have to come in and\nmodify those, all right.\n\n272\n00:13:33,490 --> 00:13:34,830\nSo changing permissions.\n\n273\n00:13:34,830 --> 00:13:37,410\nThat's the number one reason we'd\nneed to go to system preferences.\n\n274\n00:13:37,410 --> 00:13:39,720\nThe other one is on the screen sharing.\n\n275\n00:13:39,720 --> 00:13:43,140\nRemember how I mentioned that Apple\ndevices have VNC built into them.\n\n276\n00:13:43,140 --> 00:13:44,710\nBut it's not quite the normal VNC.\n\n277\n00:13:44,710 --> 00:13:47,470\nIt's got some extra\nauthentication stuff stuck on it.\n\n278\n00:13:47,470 --> 00:13:49,530\nWhat if I want to use regular VNC?\n\n279\n00:13:49,530 --> 00:13:50,860\nI have some Windows clients or\n\n280\n00:13:50,860 --> 00:13:53,400\nLinux clients that I wanna be able\nto remotely manage the system.\n\n281\n00:13:53,400 --> 00:13:55,280\nWell they can't use the Apple stuff.\n\n282\n00:13:55,280 --> 00:13:57,440\nSo I might need to enable the regular VNC.\n\n283\n00:13:57,440 --> 00:14:01,940\nAnd for that you've gotta do it right\nhere through the system preference.\n\n284\n00:14:01,940 --> 00:14:05,950\nIf you go up here to screen sharing,\nnotice how it's telling me screen sharing\n\n285\n00:14:05,950 --> 00:14:09,640\nis currently being controlled by\nthe Remote Management service,\n\n286\n00:14:09,640 --> 00:14:13,690\nRemote Management down here is\nproviding that screen sharing service.\n\n287\n00:14:14,990 --> 00:14:17,260\nAnd if you take a look at\nyour computer settings,\n\n288\n00:14:17,260 --> 00:14:20,160\nright in here you'll see the VNC options.\n\n289\n00:14:20,160 --> 00:14:23,550\nAnd we can say, VNC viewers may\ncontrol screen with password.\n\n290\n00:14:23,550 --> 00:14:27,310\nAnd we just need to provide a password for\nthat client to use.\n\n291\n00:14:27,310 --> 00:14:31,750\nYou plug it in, and now a Windows or a\nLinux box can use whatever VNC client they\n\n292\n00:14:31,750 --> 00:14:36,320\nget, pointed at this server and provide\nthat passport, and they'll see the screen.\n\n293\n00:14:36,320 --> 00:14:39,680\nBecause they can't run the server app,\nthey don't have the Screen Sharing or\n\n294\n00:14:39,680 --> 00:14:42,240\nBack to My Mac features,\nthey don't have any of that.\n\n295\n00:14:42,240 --> 00:14:43,490\nThey just need to use regular VNC.\n\n296\n00:14:43,490 --> 00:14:46,110\nSo you've got that option right there.\n\n297\n00:14:46,110 --> 00:14:47,870\nYou got a few other options\nin here that are kinda neat,\n\n298\n00:14:47,870 --> 00:14:50,620\nlike the Show Remote Management Status\nmenu bar.\n\n299\n00:14:50,620 --> 00:14:53,090\nThat's a nice one, cause you can\nsee when people are connected,\n\n300\n00:14:53,090 --> 00:14:55,250\nto know if somebody's actually\nworking with your system.\n\n301\n00:14:57,270 --> 00:15:00,190\nSo I'll go and hit OK on that, and\nnow we've customized those settings\n\n302\n00:15:00,190 --> 00:15:03,200\na little more, but those are all things\nthat we can't do from the server app, but\n\n303\n00:15:03,200 --> 00:15:04,840\nwe have to do here,\nfrom system preferences.\n\n304\n00:15:04,840 --> 00:15:07,720\nAll right,\nlet's go see if my client ever connected.\n\n305\n00:15:07,720 --> 00:15:08,230\nOh, it did.\n\n306\n00:15:08,230 --> 00:15:09,100\nThere we go.\n\n307\n00:15:09,100 --> 00:15:11,450\nThe first time you connect it\ndoes take a little bit longer.\n\n308\n00:15:11,450 --> 00:15:12,810\nThere it goes.\nIt's connected.\n\n309\n00:15:12,810 --> 00:15:16,760\nI'm on my client but\nI'm working with server one.\n\n310\n00:15:16,760 --> 00:15:19,010\nAnd so now I see all the different\nsettings, if I want to go and\n\n311\n00:15:19,010 --> 00:15:22,500\nmanage DNS, here's the DNS settings for\nserver one.\n\n312\n00:15:22,500 --> 00:15:24,940\nAnd I can go in here and\nI can start to adjust some of this.\n\n313\n00:15:24,940 --> 00:15:27,430\nI can say show all records and\nI start to see my records.\n\n314\n00:15:27,430 --> 00:15:31,425\nAnd now I'm working with that system\neven though the system is remote.\n\n315\n00:15:31,425 --> 00:15:35,720\nThese are all different ways that we\ncan remotely manage that server, or\n\n316\n00:15:35,720 --> 00:15:39,690\na group of servers, because you may\nhave many, many different servers.\n\n317\n00:15:39,690 --> 00:15:42,432\nHere we just fire up the appropriate tool,\nand we get connected.\n\n318\n00:15:42,432 --> 00:15:45,643\nReally straightforward and\npretty neat stuff, all right.\n\n319\n00:15:45,643 --> 00:15:49,341\nOne word of caution, if you turn\non the firewall inside of Mac OS,\n\n320\n00:15:49,341 --> 00:15:52,518\nit is possible to block some\nof these services, right.\n\n321\n00:15:52,518 --> 00:15:55,198\nSSH uses TCP port 22.\n\n322\n00:15:55,198 --> 00:15:57,915\nVNC uses TCP port 5900.\n\n323\n00:15:57,915 --> 00:16:01,362\nEach of these services use different\nport numbers to communicate.\n\n324\n00:16:01,362 --> 00:16:03,210\nSo, if you turn on the firewall,\n\n325\n00:16:03,210 --> 00:16:07,650\nyou need to make sure you approve\nthe server app to communicate through it.\n\n326\n00:16:07,650 --> 00:16:09,490\nOtherwise these start to get blocked.\n\n327\n00:16:09,490 --> 00:16:10,600\nAnd that's pretty straightforward.\n\n328\n00:16:10,600 --> 00:16:15,400\nIf I go back to my server and I go to\nmy System Preferences, if I go into\n\n329\n00:16:15,400 --> 00:16:21,120\nSystem Preferences and Security and\nPrivacy, I can go to firewall.\n\n330\n00:16:21,120 --> 00:16:24,530\nAnd if I turn that firewall on,\nlet me just unlock this real quick.\n\n331\n00:16:26,780 --> 00:16:31,680\nIf I turn that firewall on, I'll be able\nto approve software to pass through it.\n\n332\n00:16:31,680 --> 00:16:36,250\nAnd if I look at my software see how it's\nalready added SSH, remote management,\n\n333\n00:16:36,250 --> 00:16:37,400\nscreen sharing.\n\n334\n00:16:37,400 --> 00:16:39,520\nWell that was the server\napp GUI that did that.\n\n335\n00:16:39,520 --> 00:16:41,355\nIt added each of those for me.\n\n336\n00:16:41,355 --> 00:16:42,370\nOkay?\n\n337\n00:16:42,370 --> 00:16:45,900\nSo it's got them in there and\nthey're set to allow, right?\n\n338\n00:16:45,900 --> 00:16:49,830\nAfter that it's saying automatically\nallow signed software to receive incoming\n\n339\n00:16:49,830 --> 00:16:53,140\ncommunications while your server\napp is signed software so\n\n340\n00:16:53,140 --> 00:16:55,130\nit's going to be able to receive that.\n\n341\n00:16:55,130 --> 00:16:59,470\nBut if you've turned that option off,\nnow our server app is getting blocked.\n\n342\n00:16:59,470 --> 00:17:03,890\nAnd so we need to add that in up here to\nthe list to make sure that it was allowed.\n\n343\n00:17:03,890 --> 00:17:06,230\nSo you could come through here and\npick that server app, and\n\n344\n00:17:06,230 --> 00:17:10,420\nget it kind of green light, or\ngreen lit, green lighted, whatever.\n\n345\n00:17:10,420 --> 00:17:12,410\nSo it'll allow those communications.\n\n346\n00:17:12,410 --> 00:17:14,920\nYou can also specify other\nthings like DNS and so on,\n\n347\n00:17:14,920 --> 00:17:16,460\nif you want to get really advanced.\n\n348\n00:17:16,460 --> 00:17:20,410\nBut you want to make sure you do\nthat option, so that it's approved.\n\n349\n00:17:20,410 --> 00:17:23,810\nSo just be aware that the firewall can\nblock communication for remote management.\n\n350\n00:17:26,310 --> 00:17:29,550\nAll right, you know I feel like there\nwas one other thing I needed to mention.\n\n351\n00:17:29,550 --> 00:17:31,630\nAnd I can't seem to remember what it was.\n\n352\n00:17:31,630 --> 00:17:32,130\nShoot.\n\n353\n00:17:33,330 --> 00:17:35,480\nOh, I know what it was.\n\n354\n00:17:35,480 --> 00:17:40,900\nNow, if we're planning on remote managing\na server, all right, the temptation is,\n\n355\n00:17:40,900 --> 00:17:46,150\nwhen I build up a new server, to never\nactually log into it locally at all.\n\n356\n00:17:46,150 --> 00:17:48,010\nAnd unfortunately, you can't do that.\n\n357\n00:17:48,010 --> 00:17:53,020\nIf you try and fire up your server app and\nconnect to a server where you've never\n\n358\n00:17:53,020 --> 00:17:57,000\nrun the server app, not even a single\ntime, well it hasn't actually enabled\n\n359\n00:17:57,000 --> 00:18:00,310\nany of the server services yet and\nyou won't be able to connect to it.\n\n360\n00:18:00,310 --> 00:18:03,780\nSo regardless of whether you plan to\nremote manage it every now and then, or\n\n361\n00:18:03,780 --> 00:18:07,730\nremote manage it all the time, you're\ngoing to have to launch the server app\n\n362\n00:18:07,730 --> 00:18:10,850\non the physical server at least one time,\nright?\n\n363\n00:18:10,850 --> 00:18:15,860\nYou launch it one time and hit continue\nto start the server services, all right?\n\n364\n00:18:15,860 --> 00:18:17,820\nOtherwise, they're not\neven gonna be in there.\n\n365\n00:18:17,820 --> 00:18:21,660\nSo the very first time, you do have\nto log in to the actual server box,\n\n366\n00:18:21,660 --> 00:18:24,940\nrun the server app, and turn on whatever\nmanagement options you want, and\n\n367\n00:18:24,940 --> 00:18:27,930\nfrom then on, you can manage it remotely.\n\n368\n00:18:27,930 --> 00:18:29,190\nJust remember that for the exam.\n\n369\n00:18:29,190 --> 00:18:31,480\nIf they have a server that's\nnever launched the server app,\n\n370\n00:18:31,480 --> 00:18:32,620\nyou're not gonna be able\nto remote manage it.\n\n371\n00:18:33,770 --> 00:18:35,880\nSo, a couple of key\nthings to remember there.\n\n372\n00:18:35,880 --> 00:18:38,730\nBut otherwise, pretty straightforward,\nand easy to do.\n\n373\n00:18:38,730 --> 00:18:41,350\nSo, I'll tell you, I've worked in\na number of environments where we had\n\n374\n00:18:41,350 --> 00:18:44,120\nhundreds of servers in server rooms.\n\n375\n00:18:44,120 --> 00:18:47,200\nAnd the server rooms had loud\nair conditioning units and\n\n376\n00:18:47,200 --> 00:18:48,330\nuncomfortable chairs.\n\n377\n00:18:48,330 --> 00:18:50,960\nAnd you didn't want to be in that\nserver room if you didn't have to.\n\n378\n00:18:50,960 --> 00:18:55,690\nSo, to be able to sit in the comfort of\nyour own office, with no giant fans and\n\n379\n00:18:55,690 --> 00:18:57,480\nair conditioners running near you,\n\n380\n00:18:57,480 --> 00:19:01,180\nyou launch your app right here on your\ndesktop, and you manage those servers.\n\n381\n00:19:01,180 --> 00:19:02,270\nIt's really nice.\n\n382\n00:19:02,270 --> 00:19:05,965\nAnd being able to quickly and easily jump\nbetween those servers is even nicer.\n\n383\n00:19:05,965 --> 00:19:09,100\nCause if you walk into a server\nroom with a thousand servers,\n\n384\n00:19:09,100 --> 00:19:12,940\nwhich rack has OSX-server112?\n\n385\n00:19:12,940 --> 00:19:15,430\nWhich server is it in that rack?\n\n386\n00:19:15,430 --> 00:19:17,960\nJust finding a server can\nbe challenging sometimes.\n\n387\n00:19:17,960 --> 00:19:20,485\nDoing it logically like\nthis makes life a lot easy.\n\n388\n00:19:21,950 --> 00:19:24,040\nAll right,\nwell that's about it on remote management.\n\n389\n00:19:24,040 --> 00:19:27,880\nWe did see a little about certificates\nright there, and I definitely want you\n\n390\n00:19:27,880 --> 00:19:30,920\nguys to stay tuned cause we're gonna\ndo a whole episode on certificates.\n\n391\n00:19:30,920 --> 00:19:33,520\nThere's ways that we can do trusted\ncertificates where we don't get those\n\n392\n00:19:33,520 --> 00:19:35,490\nwarnings, we just\nautomatically trust them.\n\n393\n00:19:35,490 --> 00:19:38,240\nSo we'll get a chance to see\nthat in a followup episode,\n\n394\n00:19:38,240 --> 00:19:40,140\ndefinitely stay tuned for that.\n\n395\n00:19:40,140 --> 00:19:42,210\nBut this is a good point\nto wrap this episode up,\n\n396\n00:19:42,210 --> 00:19:44,050\nso let me just remind you guys.\n\n397\n00:19:44,050 --> 00:19:48,240\nIf you have any questions on what I\ntalked about, please feel free to ask.\n\n398\n00:19:48,240 --> 00:19:49,060\nLive during the show,\n\n399\n00:19:49,060 --> 00:19:53,900\nyou can go to itpro.tv/live and you'll see\nthe chat room right beneath the video.\n\n400\n00:19:53,900 --> 00:19:57,620\nPost your questions there, and\nI monitor and answer during the show.\n\n401\n00:19:57,620 --> 00:20:00,900\nIf you have questions after\nthe show use our Q&A forums.\n\n402\n00:20:00,900 --> 00:20:04,039\nAt the top of every page on ITProTV\nyou'll see a link that says Q&A,\n\n403\n00:20:04,039 --> 00:20:08,030\nit'll take you to the forums, you can post\nyour questions there and we monitor and\n\n404\n00:20:08,030 --> 00:20:09,480\nanswer after the show.\n\n405\n00:20:09,480 --> 00:20:12,360\nIt's a great way to get answers to your\nquestions so take advantage of that.\n\n406\n00:20:13,510 --> 00:20:15,280\nAll right, well,\nI hope you guys enjoyed the episode.\n\n407\n00:20:15,280 --> 00:20:19,520\nSigning off for ITProTV, I'm Don Pezet,\nand I'll see you next time.\n\n408\n00:20:19,520 --> 00:20:29,520\n[MUSIC]\n\n409\n00:20:33,570 --> 00:20:34,070\n[SOUND]\n\n",
          "vimeoId": "121882834"
        },
        {
          "description": "In this episode Don explains the various uses for certificates in Mac OS X Server. He demonstrates the self-signed certificates created by the Server App, as well as the process for securing publicly trusted certificates for use in Server App services",
          "length": "3197",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-1-4-certificates-031115-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-1-4-certificates-031115-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-1-4-certificates-031115-1-sm.jpg",
          "title": "Certificates",
          "transcript": "1\n00:00:00,000 --> 00:00:10,000\n[MUSIC]\n\n2\n00:00:32,962 --> 00:00:36,201\nAll right good morning,\ngood afternoon and good evening.\n\n3\n00:00:36,201 --> 00:00:38,390\nWelcome back to another\nepisode to ITProTV.\n\n4\n00:00:38,390 --> 00:00:40,410\nI'm your host Don Pezet.\n\n5\n00:00:40,410 --> 00:00:44,470\nBack again with another episode of\nApple Certified Technical Coordinator.\n\n6\n00:00:44,470 --> 00:00:47,790\nIn this episode we're gonna\ntake a look at certificates.\n\n7\n00:00:47,790 --> 00:00:51,230\nAnd certificates are a pretty important\npart of any modern computer system but\n\n8\n00:00:51,230 --> 00:00:55,980\nespecially so on servers, because they\nserve so many different purposes.\n\n9\n00:00:55,980 --> 00:00:58,860\nNow before we dive into Apple's\nimplementation let's just talk a little\n\n10\n00:00:58,860 --> 00:01:02,380\nbit about certificates themselves and\nwhy we should care about them, right.\n\n11\n00:01:02,380 --> 00:01:04,590\nIt is very common today for\n\n12\n00:01:04,590 --> 00:01:07,870\nus to transmit data across a network\nthat's of a sensitive nature, right.\n\n13\n00:01:07,870 --> 00:01:09,420\nNow what do I mean by that?\n\n14\n00:01:09,420 --> 00:01:13,540\nWell you know it could be things like\nmedical records or financial transactions\n\n15\n00:01:13,540 --> 00:01:17,680\nbut even putting that out of our mind,\nsimply your username and password, right.\n\n16\n00:01:17,680 --> 00:01:21,200\nWhen you log into a website,\nwhen you log into an email server.\n\n17\n00:01:21,200 --> 00:01:25,190\nWhen you log into anything there's\na credential exchange that happens.\n\n18\n00:01:25,190 --> 00:01:28,070\nYou're having to send your username and\npassword, or\n\n19\n00:01:28,070 --> 00:01:32,270\na hash based on your password, across the\nnetwork to another server somewhere else,\n\n20\n00:01:32,270 --> 00:01:33,660\nand they have to validate you.\n\n21\n00:01:33,660 --> 00:01:36,490\nAnd to do that it needs to be secure.\n\n22\n00:01:36,490 --> 00:01:37,330\nWell in the old days\n\n23\n00:01:37,330 --> 00:01:40,170\nyou could come up with all sorts of\nproprietary technologies for that.\n\n24\n00:01:40,170 --> 00:01:43,480\nBut in today's world we need\nprovide services to people\n\n25\n00:01:43,480 --> 00:01:47,030\nall over the globe that are running\ndifferent operating systems,\n\n26\n00:01:47,030 --> 00:01:50,130\ndifferent web browsers\ndifferent systems altogether.\n\n27\n00:01:50,130 --> 00:01:53,980\nAnd we need something that works and\nis nice and compatible across the board.\n\n28\n00:01:53,980 --> 00:01:57,440\nAnd the way that's been\nachieved is through the use of\n\n29\n00:01:57,440 --> 00:01:59,350\ncertificate based systems.\n\n30\n00:01:59,350 --> 00:02:01,820\nA certificate,\nit's an interesting idea, right.\n\n31\n00:02:03,130 --> 00:02:07,000\nWhat it does, is it basically\ncreates a digital signature.\n\n32\n00:02:07,000 --> 00:02:09,650\nAnd a digital signature is just\na string of letters and numbers,\n\n33\n00:02:09,650 --> 00:02:11,840\nit's not anything too terribly fancy.\n\n34\n00:02:11,840 --> 00:02:17,350\nBut that string of letters and numbers can\nbe used as part of a mathematical formula.\n\n35\n00:02:17,350 --> 00:02:21,950\nAnd you can take any data and\nrun it through this formula with that\n\n36\n00:02:21,950 --> 00:02:26,820\nstring of numbers and letters, and\nit creates an all new set of data.\n\n37\n00:02:26,820 --> 00:02:29,140\nYou're encrypting the data.\n\n38\n00:02:29,140 --> 00:02:32,697\nAnd somebody somewhere\nelse can decrypt the data,\n\n39\n00:02:32,697 --> 00:02:35,270\nif they know the right string to use.\n\n40\n00:02:35,270 --> 00:02:38,510\nThe right letters and numbers to feed into\nthat formula to get the data back out.\n\n41\n00:02:39,550 --> 00:02:42,330\nThat's the basic principle\nbehind encryption.\n\n42\n00:02:42,330 --> 00:02:47,020\nIt's not a complex idea, it's very\ncomplex if you're trying to break it, but\n\n43\n00:02:47,020 --> 00:02:50,080\nthe way that it actually works as far as\nperforming the encryption itself is pretty\n\n44\n00:02:50,080 --> 00:02:51,130\nstraightforward.\n\n45\n00:02:51,130 --> 00:02:54,490\nSo we need a system that's\nable to do that for\n\n46\n00:02:54,490 --> 00:02:57,008\nus and to do it on the fly where\nit's invisible to the end user.\n\n47\n00:02:57,008 --> 00:03:00,300\nAnd the certificate-based system\nis how that works, right.\n\n48\n00:03:00,300 --> 00:03:03,860\nYou guys use it all the time, you use\nit right here on the ITProTV website.\n\n49\n00:03:03,860 --> 00:03:07,800\nWhen you went to our website and logged\nin, it switched you to a secure session.\n\n50\n00:03:07,800 --> 00:03:09,810\nLet me show you what I mean by that.\n\n51\n00:03:09,810 --> 00:03:15,190\nIf I fire up a web browser here, and\nI go to a site like Apple.com, right.\n\n52\n00:03:15,190 --> 00:03:18,520\nWhen I go to their website,\nit's just a regular old website.\n\n53\n00:03:18,520 --> 00:03:21,310\nNothing is being encrypted here, right.\n\n54\n00:03:21,310 --> 00:03:24,400\nIt's not being encrypted because I'm not\nseeing anything that's sensitive at all.\n\n55\n00:03:24,400 --> 00:03:27,670\nIf somebody were to intercept this\ncommunication and read the data,\n\n56\n00:03:27,670 --> 00:03:30,460\nthey would just see what they'd see if\nthey went to Apple.com anyway, right,\n\n57\n00:03:30,460 --> 00:03:31,660\nnothing special.\n\n58\n00:03:31,660 --> 00:03:35,990\nBut if I jump into the store right, and\nI'm getting ready to buy something.\n\n59\n00:03:35,990 --> 00:03:40,660\nSo I'm gonna go in here, and we'll buy,\nnot an outrageously overpriced watch, but\n\n60\n00:03:40,660 --> 00:03:42,900\nmaybe a laptop or something, right.\n\n61\n00:03:42,900 --> 00:03:44,850\nSo we'll jump in here and\nbuy a new laptop.\n\n62\n00:03:44,850 --> 00:03:49,410\nAll this time it's just unencrypted,\nregular web traffic, but\n\n63\n00:03:49,410 --> 00:03:53,140\nwhen I'm ready to buy, and\nI add something to my cart and\n\n64\n00:03:53,140 --> 00:03:57,000\nI go to check out, now we're starting\nto get into the danger zone.\n\n65\n00:03:57,000 --> 00:03:59,060\nNow we're getting to the point where,\nsooner or\n\n66\n00:03:59,060 --> 00:04:00,950\nlater they're gonna have to ask for\nmy credit card.\n\n67\n00:04:00,950 --> 00:04:03,040\nThey're gonna have to ask for\nuser credentials.\n\n68\n00:04:03,040 --> 00:04:06,010\nI'm gonna have to login to\nthe Apple Store, right and\n\n69\n00:04:06,010 --> 00:04:09,770\nthat's data you don't want\npeople to get a hold of.\n\n70\n00:04:09,770 --> 00:04:13,850\nSo when I hit this checkout button,\nthings are gonna change, all right.\n\n71\n00:04:13,850 --> 00:04:16,860\nAnd I got a little message up here for\na brief second,\n\n72\n00:04:16,860 --> 00:04:18,390\nlooks like I got a certificate problem.\n\n73\n00:04:18,390 --> 00:04:21,380\nBut for a brief second I got a little\nmessage here where it turned green and\n\n74\n00:04:21,380 --> 00:04:22,930\nI saw a little green lock.\n\n75\n00:04:22,930 --> 00:04:25,940\nI got a warning here on this one.\n\n76\n00:04:25,940 --> 00:04:28,860\nLet me see what's going on here it\nmight be because I just went about this\n\n77\n00:04:28,860 --> 00:04:29,440\nin a different way.\n\n78\n00:04:29,440 --> 00:04:32,870\nLet me go back to the store.\n\n79\n00:04:32,870 --> 00:04:36,590\nActually, you know what it's probably\nbecause I'm in this incognito view\n\n80\n00:04:36,590 --> 00:04:37,210\nof my window.\n\n81\n00:04:37,210 --> 00:04:42,782\nLet me switch over to like Safari,\nand we'll pull it up that way.\n\n82\n00:04:42,782 --> 00:04:47,380\nAll right, so if I go to store.apple.com.\n\n83\n00:04:47,380 --> 00:04:51,990\nI was in a Google Chrome incognito view\nand that disables certain session caching,\n\n84\n00:04:51,990 --> 00:04:54,280\nit looked like it was causing\na problem with the certificate.\n\n85\n00:04:54,280 --> 00:04:57,700\nSo, if I go in here and\nI do something like trying to log in or\n\n86\n00:04:57,700 --> 00:05:01,360\ntrying to buy something,\nit's gonna send me to that secure site and\n\n87\n00:05:01,360 --> 00:05:03,030\nit's going to enable encryption.\n\n88\n00:05:03,030 --> 00:05:06,640\nAnd I'll know that it does that because\nin the address bar I'll see a little\n\n89\n00:05:06,640 --> 00:05:09,920\ngreen lock appear, or\njust a lock in general,\n\n90\n00:05:09,920 --> 00:05:13,710\nthat let's me know that it\nactually is encrypted and secured.\n\n91\n00:05:13,710 --> 00:05:19,100\nNow it does that without me having\nto interact with it at all.\n\n92\n00:05:19,100 --> 00:05:22,350\nI didn't have to type in an encryption\nkey, it just did it, all right.\n\n93\n00:05:22,350 --> 00:05:25,630\nAnd it was able to do that,\nthere's my green lock.\n\n94\n00:05:25,630 --> 00:05:28,450\nIt was able to do that because of\n\n95\n00:05:28,450 --> 00:05:31,210\na certificate based\nauthentication mechanism.\n\n96\n00:05:31,210 --> 00:05:33,490\nThe way certificates work is like this.\n\n97\n00:05:33,490 --> 00:05:37,580\nOn a server,\nwe generate what's called a private key.\n\n98\n00:05:37,580 --> 00:05:40,580\nThe private key is a string of letters and\nnumbers, and\n\n99\n00:05:40,580 --> 00:05:45,660\nwe can use that key to encrypt and\ndecrypt data.\n\n100\n00:05:45,660 --> 00:05:47,070\nThe private key can do both, right.\n\n101\n00:05:47,070 --> 00:05:50,170\nSo it's a very powerful thing\nbecause it can encrypt and decrypt.\n\n102\n00:05:50,170 --> 00:05:54,870\nIf somebody gets ahold of that private\nkey, they can decrypt your data, and that\n\n103\n00:05:54,870 --> 00:05:59,200\nwould be bad, right, they'd be able to see\neverything that was being transmitted.\n\n104\n00:05:59,200 --> 00:06:01,480\nBut then they take that private key and\n\n105\n00:06:01,480 --> 00:06:04,280\nbased on that key they\ngenerate a public key.\n\n106\n00:06:04,280 --> 00:06:09,780\nSo there's actually two keys involved\nhere, a private key and a public key,\n\n107\n00:06:09,780 --> 00:06:14,240\nand the public key is only\ncapable of encrypting,\n\n108\n00:06:14,240 --> 00:06:17,220\nit can't decrypt, it can just encrypt.\n\n109\n00:06:17,220 --> 00:06:21,790\nSo we can generate data, we can encrypt it\nwith that public key and send it to Apple.\n\n110\n00:06:21,790 --> 00:06:26,570\nAnd then Apple can use their private\nkey and decrypt it and see the data.\n\n111\n00:06:26,570 --> 00:06:31,130\nIf somebody intercepts the data in\ntransit, they just see encrypted data,\n\n112\n00:06:31,130 --> 00:06:35,920\nand if they steal the public key, well\ngreat, that means they can encrypt things,\n\n113\n00:06:35,920 --> 00:06:38,830\nbut they can't decrypt, so\nmy data is safe, right.\n\n114\n00:06:38,830 --> 00:06:43,760\nThat's basically how these systems work,\nis they're encrypting your data in a way\n\n115\n00:06:43,760 --> 00:06:48,470\nthat it can't be decrypted, except for\nthe person who you expect to get it.\n\n116\n00:06:48,470 --> 00:06:53,180\nThat's the basic function of doing\ncertificate based encryption.\n\n117\n00:06:53,180 --> 00:06:56,700\nWe can use that on our Apple servers too.\n\n118\n00:06:56,700 --> 00:07:00,620\nIf you're running a Mac OS X server,\nyou've got the server app installed,\n\n119\n00:07:00,620 --> 00:07:02,330\nyou've got a bunch of application\nthat are on there, right?\n\n120\n00:07:02,330 --> 00:07:06,050\nYou've got the mail service,\nthe website and Wiki service.\n\n121\n00:07:06,050 --> 00:07:10,030\nYou've got all those different services,\nthey need encryption, they need security,\n\n122\n00:07:10,030 --> 00:07:15,210\nthey need a way to validate themselves and\nfor that they use certificates.\n\n123\n00:07:15,210 --> 00:07:20,090\nNow encryption is just one piece\nof what that certificate does.\n\n124\n00:07:20,090 --> 00:07:23,770\nThe other thing they do is\nhelp us with identification.\n\n125\n00:07:23,770 --> 00:07:26,810\nI'm on Apple's website and\nI've got the little green lock\n\n126\n00:07:26,810 --> 00:07:29,960\nright here in my bar that let's me\nknow I've got a secure connection.\n\n127\n00:07:29,960 --> 00:07:31,220\nBut how do I know it's really Apple?\n\n128\n00:07:32,270 --> 00:07:34,740\nMaybe I got redirected and\n\n129\n00:07:34,740 --> 00:07:38,950\nsent over to some hacker website\nin another country, right.\n\n130\n00:07:38,950 --> 00:07:41,750\nBut it's got a green lock.\n\n131\n00:07:41,750 --> 00:07:45,430\nWell The green lock just means that\nthe hackers bought a certificate too,\n\n132\n00:07:45,430 --> 00:07:47,640\nright, anybody can buy a certificate.\n\n133\n00:07:47,640 --> 00:07:50,840\nSo how do I know that\nthis is actually Apple?\n\n134\n00:07:50,840 --> 00:07:53,506\nWell part of the certificate process,\n\n135\n00:07:53,506 --> 00:07:56,750\nis that the certificate\nis issued by somebody.\n\n136\n00:07:56,750 --> 00:07:59,870\nAnd that somebody is called\na certification authority or\n\n137\n00:07:59,870 --> 00:08:01,300\ncertificate authority.\n\n138\n00:08:01,300 --> 00:08:05,010\nThat certificate authority,\nthat's somebody that we trust.\n\n139\n00:08:05,010 --> 00:08:06,572\nWe trust that CA.\n\n140\n00:08:06,572 --> 00:08:10,100\nThat they are the ones who\nare issuing certificates.\n\n141\n00:08:10,100 --> 00:08:13,000\nAnd when Apple went to buy\na certificate from that CA,\n\n142\n00:08:13,000 --> 00:08:16,440\nthey said hey, I'm Apple,\ncan I buy a certificate?\n\n143\n00:08:16,440 --> 00:08:19,880\nAnd that's CA, the Certificate Authority,\nthey look at Apple, and they say,\n\n144\n00:08:19,880 --> 00:08:21,500\nwell, can you prove it?\n\n145\n00:08:21,500 --> 00:08:24,240\nCan you send me some documentation,\nsend me some paperwork.\n\n146\n00:08:24,240 --> 00:08:26,560\nGive me a phone number,\nI need to call you guys to verify.\n\n147\n00:08:26,560 --> 00:08:29,720\nI need to make sure you are,\nwho you say you are.\n\n148\n00:08:29,720 --> 00:08:33,297\nAnd by the end of the day,\nif they are who they say they are,\n\n149\n00:08:33,297 --> 00:08:35,943\nthen the CA will issue them a certificate.\n\n150\n00:08:35,943 --> 00:08:38,845\nI'm trusting the CA to do that for me.\n\n151\n00:08:38,845 --> 00:08:41,490\nIf a hacker goes out, and buys a website.\n\n152\n00:08:41,490 --> 00:08:43,390\nThey can buy, I mean buys a certificate.\n\n153\n00:08:43,390 --> 00:08:45,620\nThey can buy a certificate themselves,\nthat 's no big deal.\n\n154\n00:08:45,620 --> 00:08:50,548\nI could call up a CA, and say hey,\nI'm Don, I'm with hacker.com, or\n\n155\n00:08:50,548 --> 00:08:52,850\nthat's probably a real site.\n\n156\n00:08:52,850 --> 00:08:55,560\nDonisamega hacker.com, or\nwhatever stupid site I buy.\n\n157\n00:08:55,560 --> 00:08:58,620\nAnd they'll say oh, yeah,\nw'ell sell you a certificate.\n\n158\n00:08:58,620 --> 00:09:01,300\nBut it'll be for donisasuperhacker.com.\n\n159\n00:09:01,300 --> 00:09:03,300\nIt won't be for Apple.com.\n\n160\n00:09:03,300 --> 00:09:07,030\nIf I say hey, I'm Don,\ncan I get a certificate for Apple?\n\n161\n00:09:07,030 --> 00:09:09,930\nAnd they'll say, are you authorized\nto get a certificate for Apple?\n\n162\n00:09:09,930 --> 00:09:11,070\nCan you send me the paperwork?\n\n163\n00:09:11,070 --> 00:09:12,330\nCan you give us a phone number to call?\n\n164\n00:09:12,330 --> 00:09:15,050\nWe need to verify,\nthat you're authorized to buy it.\n\n165\n00:09:15,050 --> 00:09:18,973\nAnd when I say, well, no, I don't have\nTim Cook on speed dial, or anything.\n\n166\n00:09:18,973 --> 00:09:21,736\nThey're gonna say well,\nwe can't sell you that certificate.\n\n167\n00:09:21,736 --> 00:09:25,670\nWe trust the CAs to be that gatekeeper.\n\n168\n00:09:25,670 --> 00:09:29,180\nNow, trust is a big part of this.\n\n169\n00:09:29,180 --> 00:09:31,998\nHow do you know that it's\nokay to trust these CAs?\n\n170\n00:09:31,998 --> 00:09:33,413\nWell, sure, the answer is you don't.\n\n171\n00:09:33,413 --> 00:09:35,160\nYou don't know,\nthat you can trust the CAs.\n\n172\n00:09:35,160 --> 00:09:37,190\nSome of them are really good.\n\n173\n00:09:37,190 --> 00:09:38,470\nSome of them are really bad.\n\n174\n00:09:38,470 --> 00:09:41,580\nThere's one a few years ago called\nDigiNotar, that got hacked.\n\n175\n00:09:41,580 --> 00:09:44,900\nAnd they were issuing all sorts of\ncertificates that shouldn't been issued.\n\n176\n00:09:44,900 --> 00:09:46,490\nAnd they got revoked.\n\n177\n00:09:46,490 --> 00:09:49,430\nWell, maybe,\nyou've never even heard of them.\n\n178\n00:09:49,430 --> 00:09:52,500\nIf there's a bad CA out there,\nissuing bad certificates.\n\n179\n00:09:52,500 --> 00:09:54,420\nHow do you know to protect\nyourself from that.\n\n180\n00:09:54,420 --> 00:09:56,940\nWell, there's two options.\n\n181\n00:09:56,940 --> 00:09:58,590\nOption one, [COUGH] is you don't.\n\n182\n00:09:59,600 --> 00:10:02,780\nInstead, you rely on somebody\nelse to manage that for you.\n\n183\n00:10:02,780 --> 00:10:04,580\nAnd that's what most people do.\n\n184\n00:10:04,580 --> 00:10:09,878\nApple has already pre-selected a list of\ncertificate authorities that they trust.\n\n185\n00:10:09,878 --> 00:10:14,067\nAnd if it's good enough for\nApple, it's good enough for us.\n\n186\n00:10:14,067 --> 00:10:15,504\nOr at least,\nthat's what Steve Jobs always said.\n\n187\n00:10:15,504 --> 00:10:17,999\nIf it's good [LAUGH] enough for them,\nit's good enough for us, that'll work.\n\n188\n00:10:17,999 --> 00:10:19,588\nSo, you can trust them.\n\n189\n00:10:19,588 --> 00:10:24,940\nBut what if you work in\na really sensitive industry.\n\n190\n00:10:24,940 --> 00:10:28,544\nYou work in an industry that transits\nmedical records, or military secrets, or\n\n191\n00:10:28,544 --> 00:10:29,560\nsomething like that.\n\n192\n00:10:29,560 --> 00:10:31,498\nYou might not wanna trust Apple.\n\n193\n00:10:31,498 --> 00:10:32,650\nApple is a good company.\n\n194\n00:10:32,650 --> 00:10:36,010\nThey got a lot of great staff,\nbut they're not the CIA.\n\n195\n00:10:36,010 --> 00:10:40,030\nThey don't have that level\nof security paranoia,\n\n196\n00:10:40,030 --> 00:10:42,430\nthat's healthy in certain industries.\n\n197\n00:10:42,430 --> 00:10:45,250\nSo instead, you might not trust them.\n\n198\n00:10:45,250 --> 00:10:48,370\nYou might not wanna trust the certificate\nauthorities they've picked, and\n\n199\n00:10:48,370 --> 00:10:50,540\ninstead, you pick your own.\n\n200\n00:10:50,540 --> 00:10:53,970\nOr even better,\nwe go to X-Files route, trust no one.\n\n201\n00:10:53,970 --> 00:10:55,430\nWe don't trust anybody.\n\n202\n00:10:55,430 --> 00:10:59,060\nAnd instead,\nwe build our own certificate authority.\n\n203\n00:10:59,060 --> 00:11:03,370\nWell in Mac OS, with the server app,\nyou can be your own CA.\n\n204\n00:11:03,370 --> 00:11:05,560\nYou can be your own certificate authority.\n\n205\n00:11:05,560 --> 00:11:07,560\nAnd now, you only trust yourself.\n\n206\n00:11:09,530 --> 00:11:11,750\nThat's really the best way.\n\n207\n00:11:11,750 --> 00:11:13,360\nThe only person you can trust is yourself.\n\n208\n00:11:13,360 --> 00:11:16,010\nThat's what you get when\nyou create your own CA.\n\n209\n00:11:16,010 --> 00:11:17,180\nAnd you can do that.\n\n210\n00:11:17,180 --> 00:11:22,220\nAnd if you're running the open directory,\nyou already are your own CA.\n\n211\n00:11:22,220 --> 00:11:24,080\nOpen directory for it's authentication,\n\n212\n00:11:24,080 --> 00:11:26,590\nuses a lot of\ncertificate-based encryption.\n\n213\n00:11:26,590 --> 00:11:29,590\nAnd as you activate that\nopen directory service, it\n\n214\n00:11:29,590 --> 00:11:34,460\nautomatically turns your server into a CA,\nso that you can issue out certificates.\n\n215\n00:11:34,460 --> 00:11:35,210\nThat's gonna be important.\n\n216\n00:11:35,210 --> 00:11:37,000\nWe're gonna see that in later episodes.\n\n217\n00:11:37,000 --> 00:11:38,710\nWhen we start to work\nwith the Profile Manager,\n\n218\n00:11:38,710 --> 00:11:43,510\nwhen we start pushing configurations out\nto our other machines, our clients, and\n\n219\n00:11:43,510 --> 00:11:45,410\ndealing with configuration profiles.\n\n220\n00:11:45,410 --> 00:11:47,900\nWe have to have\ncertificates to sign those,\n\n221\n00:11:47,900 --> 00:11:50,660\nto make sure that people know that\nthey can trust the configuration.\n\n222\n00:11:50,660 --> 00:11:53,230\nThat it's not a hacker pushing\nsome config down, that it's\n\n223\n00:11:53,230 --> 00:11:58,780\nus pushing the config down, and it's\nthe certificates that facilitate that.\n\n224\n00:11:58,780 --> 00:11:59,890\nLet's say, we don't wanna deal with that.\n\n225\n00:11:59,890 --> 00:12:05,680\nWe don't wanna deal with the whole picking\nour own CAs, or building our own CA.\n\n226\n00:12:05,680 --> 00:12:08,410\nBut instead, we wanna trust\nwhat Apple tells us to trust.\n\n227\n00:12:08,410 --> 00:12:11,792\nWell, who does Apple tell us to trust?\n\n228\n00:12:11,792 --> 00:12:14,124\nWell, we can look that up.\n\n229\n00:12:14,124 --> 00:12:19,670\nOn a Mac,\nif you go to your keychain Access Utility.\n\n230\n00:12:19,670 --> 00:12:23,138\nSo, I'm just gonna go\ninto keychain Access, and\n\n231\n00:12:23,138 --> 00:12:28,520\ninside of keychain Access, there's\na folder that's called System Roots.\n\n232\n00:12:28,520 --> 00:12:33,096\nSystem Roots contains a list of\ncertificate authorities that\n\n233\n00:12:33,096 --> 00:12:35,476\nApple has chosen to be trusted.\n\n234\n00:12:35,476 --> 00:12:37,990\nThey say,\nthese are people that you can trust.\n\n235\n00:12:37,990 --> 00:12:39,540\nAnd you'll see a list in here, and\n\n236\n00:12:39,540 --> 00:12:43,620\nsome of them are really big names that\na lot of you guys have probably heard of.\n\n237\n00:12:43,620 --> 00:12:45,440\nSome of them are names that\nyou might not have heard of,\n\n238\n00:12:45,440 --> 00:12:48,250\nthat might be big in certain countries.\n\n239\n00:12:48,250 --> 00:12:51,330\nLike AC Raiz Certificates here,\n\n240\n00:12:51,330 --> 00:12:56,000\nthat might not be a name familiar with\nyou, I don't really know much about them,\n\n241\n00:12:56,000 --> 00:12:58,940\nbut maybe they're the biggest\ncertificate provider in Argentina.\n\n242\n00:12:58,940 --> 00:12:59,840\nI don't know, maybe they are.\n\n243\n00:12:59,840 --> 00:13:02,490\nBut here in the United States,\nthey're not a big player.\n\n244\n00:13:02,490 --> 00:13:06,762\nSo don't be surprised, when you see\ncertificate providers in there that you\n\n245\n00:13:06,762 --> 00:13:10,653\ndont recognize, but other ones,\nlike we'll find GeoTrust in here.\n\n246\n00:13:10,653 --> 00:13:13,624\nLet's see if we can find some bigger ones,\nDigiCert,\n\n247\n00:13:13,624 --> 00:13:17,061\nwe actually used some DigiCert\ncertificates here at ITProTV.\n\n248\n00:13:17,061 --> 00:13:19,697\nWe've got GoDaddy, they're pretty big.\n\n249\n00:13:19,697 --> 00:13:21,276\nGlobalSign is big.\n\n250\n00:13:21,276 --> 00:13:24,318\nLet's see, where is Thought?\n\n251\n00:13:24,318 --> 00:13:25,396\nThought is in here, somewhere.\n\n252\n00:13:25,396 --> 00:13:25,977\nThere we go.\n\n253\n00:13:25,977 --> 00:13:28,462\nThought, they're another\nof the really large ones.\n\n254\n00:13:28,462 --> 00:13:32,360\nAnd so, you'll see these big ones,\nVerisign.\n\n255\n00:13:32,360 --> 00:13:35,590\nVerisign is the largest\ncertificate provider in the world.\n\n256\n00:13:35,590 --> 00:13:37,934\nThey issue more certificates\nthan anybody else.\n\n257\n00:13:37,934 --> 00:13:41,480\nAnd so, they've got several\ndifferent primary certs right there.\n\n258\n00:13:41,480 --> 00:13:42,630\nSo, these are big names.\n\n259\n00:13:42,630 --> 00:13:43,790\nOnes that you see a lot.\n\n260\n00:13:45,250 --> 00:13:49,450\nBut you might see some names, or you might\nnot see some names that you expect to see.\n\n261\n00:13:49,450 --> 00:13:55,680\nSo for example, maybe your website is\nregistered through, oh, I don't know.\n\n262\n00:13:55,680 --> 00:13:59,687\nLike, register.com, or Network Solutions,\nthey're both big companies,\n\n263\n00:13:59,687 --> 00:14:02,020\nand they both sell certificates.\n\n264\n00:14:02,020 --> 00:14:06,670\nBut I didn't see register.com in here,\nlet's just look in the Rs, nope.\n\n265\n00:14:06,670 --> 00:14:08,410\nAnd Network Solutions, they're huge,\n\n266\n00:14:08,410 --> 00:14:11,780\nthey run a lot of the DNS infrastructure\nout there, they have two names.\n\n267\n00:14:11,780 --> 00:14:15,030\nSo there's Network Solutions, let's look\nin the Ns, and see if we can find them.\n\n268\n00:14:16,102 --> 00:14:20,440\nAnd apparently, my mouse is\nscrolling a little excessive here.\n\n269\n00:14:20,440 --> 00:14:23,180\nOh, no, we actually do have\nNetwork Solutions, they are there.\n\n270\n00:14:23,180 --> 00:14:24,501\nThey're actually in the list.\n\n271\n00:14:24,501 --> 00:14:28,190\nDon't be surprised though, if you look for\na company, and they're not on the list.\n\n272\n00:14:29,330 --> 00:14:31,550\nThese are the root CAs.\n\n273\n00:14:31,550 --> 00:14:33,320\nThe root certificate authorities.\n\n274\n00:14:34,330 --> 00:14:38,210\nThey can also have what\nare called subordinate CAs.\n\n275\n00:14:38,210 --> 00:14:41,340\nSubordinate CAs are certificate\nauthorities that operate underneath\n\n276\n00:14:41,340 --> 00:14:42,750\none of the roots.\n\n277\n00:14:42,750 --> 00:14:46,700\nSo for example, Verisign has\nseveral people underneath them.\n\n278\n00:14:47,830 --> 00:14:52,790\nSo, if you're Apple, Apple is a big\ncompany, and they wanna issue their\n\n279\n00:14:52,790 --> 00:14:56,410\nown certificates, but\nthey want the whole world to trust them.\n\n280\n00:14:56,410 --> 00:14:59,690\nWell, how does Apple get the whole\nworld to trust their certificates?\n\n281\n00:14:59,690 --> 00:15:00,870\nIt's difficult.\n\n282\n00:15:00,870 --> 00:15:03,350\nThey're a big enough company,\nthey could probably pull it off.\n\n283\n00:15:03,350 --> 00:15:04,640\nBut if you're smaller company you can't.\n\n284\n00:15:04,640 --> 00:15:07,780\nYou can't expect the whole world\nto trust your certificates.\n\n285\n00:15:07,780 --> 00:15:10,950\nSo instead,\nyou piggy back off of somebody else.\n\n286\n00:15:10,950 --> 00:15:12,910\nYou piggy back off, of one of these roots.\n\n287\n00:15:12,910 --> 00:15:14,280\nYou reach out to Verisign,\nand you say hey,\n\n288\n00:15:14,280 --> 00:15:16,850\nVerisign, we wanna be able to\nissue our own certificates, but\n\n289\n00:15:16,850 --> 00:15:20,530\nwe want the world to trust us,\ncan we piggy back off, of you?\n\n290\n00:15:20,530 --> 00:15:23,160\nAnd Verisign will say,\nyeah, we can do that.\n\n291\n00:15:23,160 --> 00:15:26,510\nBut two things, thing number one,\nyou got to pay us a lot of money.\n\n292\n00:15:26,510 --> 00:15:27,880\nSo, there's number one.\n\n293\n00:15:27,880 --> 00:15:30,968\nNumber two,\nhow do we know we can trust you?\n\n294\n00:15:30,968 --> 00:15:34,695\nYou've got to prove to us that you'll be\nsecure in issuing your certificates, and\n\n295\n00:15:34,695 --> 00:15:37,799\nyou'll only issue certificates for\nthese domain areas, and so on.\n\n296\n00:15:37,799 --> 00:15:40,306\nWe have a lot of rules to implement.\n\n297\n00:15:40,306 --> 00:15:44,414\nBut if you can meet all those rules,\nif you can jump through those hurdles, and\n\n298\n00:15:44,414 --> 00:15:47,650\nif you can write that check,\nthen now you can issue certs, and\n\n299\n00:15:47,650 --> 00:15:50,412\nanybody that trust Verisign,\nwill trust you also.\n\n300\n00:15:50,412 --> 00:15:52,874\nThat's called a certificate chain.\n\n301\n00:15:52,874 --> 00:15:57,011\nThe certificate chain is the root,\nany subordinate CAs,\n\n302\n00:15:57,011 --> 00:15:59,045\nand then your certificate.\n\n303\n00:15:59,045 --> 00:16:02,465\nWhen you get a certificate it might not\nbe from one of these roots specifically.\n\n304\n00:16:02,465 --> 00:16:04,625\nLet's go back to Apple,\nand look at theirs.\n\n305\n00:16:04,625 --> 00:16:09,653\nSo here's Apple Incorporated And if I\npull up their certificate information,\n\n306\n00:16:09,653 --> 00:16:12,820\nI can see theirs was issued by Verisign.\n\n307\n00:16:12,820 --> 00:16:15,510\nSo they got it right from Verisign,\nand we saw Verisign on the list.\n\n308\n00:16:15,510 --> 00:16:17,360\nThat was one of the roots that we trust.\n\n309\n00:16:17,360 --> 00:16:17,980\nAll right?\n\n310\n00:16:17,980 --> 00:16:21,370\nSo when we look at that certificate\nchain their chain is very small.\n\n311\n00:16:21,370 --> 00:16:24,340\nYou got Verisign right here\nwith their class 3 public\n\n312\n00:16:24,340 --> 00:16:26,170\nprimary certification authority.\n\n313\n00:16:26,170 --> 00:16:29,035\nAnd then there's the root certificate and\nApple certificate.\n\n314\n00:16:29,035 --> 00:16:29,790\nRight?\n\n315\n00:16:29,790 --> 00:16:32,200\nSo they bought one right from the root.\n\n316\n00:16:33,440 --> 00:16:36,875\nBut other certificates might not\ncome from right from the root.\n\n317\n00:16:36,875 --> 00:16:37,490\nAll right?\n\n318\n00:16:37,490 --> 00:16:40,100\nSo for example the one that\nwe have with ItPro.tv TV.\n\n319\n00:16:40,100 --> 00:16:42,860\nLet's see if I can get\nto that one real quick.\n\n320\n00:16:42,860 --> 00:16:46,270\nSo if I go to IT Pro TV,\nand I go to our login page.\n\n321\n00:16:46,270 --> 00:16:48,240\nWell, our login page goes secure.\n\n322\n00:16:48,240 --> 00:16:50,450\nAnd if I pull up my certificate there,\n\n323\n00:16:50,450 --> 00:16:52,740\nI can see that actually we\ngot ours through GeoTrust.\n\n324\n00:16:52,740 --> 00:16:54,420\nAnd that's one of the big ones too, shoot.\n\n325\n00:16:54,420 --> 00:16:55,475\nThat's not a good chain.\n\n326\n00:16:55,475 --> 00:16:58,520\n[LAUGH] I'm trying to find one that\nactually goes several layers deep.\n\n327\n00:16:59,800 --> 00:17:04,630\nWho is somebody that would use one that is\nI've gotta think of a site that's popular,\n\n328\n00:17:04,630 --> 00:17:05,595\nbut not too popular.\n\n329\n00:17:05,595 --> 00:17:10,180\n[LAUGH] To warrant having a chain\nin their certificate, but\n\n330\n00:17:10,180 --> 00:17:12,200\nI guess it doesn't really matter.\n\n331\n00:17:12,200 --> 00:17:15,820\nWhat you'll see is where you\nmight have more than one\n\n332\n00:17:15,820 --> 00:17:17,200\ncertificate provider in that list.\n\n333\n00:17:17,200 --> 00:17:19,980\nAnd so you kinda have to navigate\nthrough a couple of steps\n\n334\n00:17:19,980 --> 00:17:21,420\nto be able to see where that gets you.\n\n335\n00:17:21,420 --> 00:17:24,740\nAny larger company is going to have one\nthat came from one of those big roots,\n\n336\n00:17:24,740 --> 00:17:26,080\ncause you wanna play it safe.\n\n337\n00:17:26,080 --> 00:17:30,520\nYou want to insure as many computers out\nthere in the world trust your certificate\n\n338\n00:17:30,520 --> 00:17:32,380\nso that you don't get\ncertificate warnings.\n\n339\n00:17:32,380 --> 00:17:35,500\nHave you ever gone to a website, and\nit gave you a message, a warning\n\n340\n00:17:35,500 --> 00:17:40,420\nmessage that said the certificate on\nthe site is valid, but you don't trust it.\n\n341\n00:17:40,420 --> 00:17:41,835\nYou don't trust the issuing authority.\n\n342\n00:17:41,835 --> 00:17:43,010\nRight?\n\n343\n00:17:43,010 --> 00:17:46,170\nIf you continue to that website,\nit'll let you do it.\n\n344\n00:17:46,170 --> 00:17:49,490\nIt'll let you do it,\nyou're using you're encrypting data.\n\n345\n00:17:49,490 --> 00:17:52,840\nBut since they couldn't validate\nthe identity of the certificate.\n\n346\n00:17:52,840 --> 00:17:54,940\nThat means the certificate\ncould have been compromised and\n\n347\n00:17:54,940 --> 00:17:56,940\nyou wouldn't know, you don't know.\n\n348\n00:17:56,940 --> 00:17:57,600\nWho was it issued by?\n\n349\n00:17:57,600 --> 00:17:59,340\nCould have been issued by hackers,\nyou don't know.\n\n350\n00:17:59,340 --> 00:17:59,870\nRight?\n\n351\n00:17:59,870 --> 00:18:03,680\nSo that's why it's so important to only go\nto sites that have certificates we trust,\n\n352\n00:18:03,680 --> 00:18:04,800\nand that's a key thing.\n\n353\n00:18:04,800 --> 00:18:08,970\nWhen you buy a certificate you gotta\nmake sure that it's in that trust list.\n\n354\n00:18:08,970 --> 00:18:11,790\nNow, why do I bring all that up now?\n\n355\n00:18:11,790 --> 00:18:14,330\nYou might have noticed in the remote\nmanagement episode if you've already\n\n356\n00:18:14,330 --> 00:18:15,710\nwatched that one.\n\n357\n00:18:15,710 --> 00:18:18,820\nThat I had some certificate\nwarnings on the show.\n\n358\n00:18:18,820 --> 00:18:25,530\nLet me bring those back up, I'm gonna\ngo here to my server app and [COUGH].\n\n359\n00:18:25,530 --> 00:18:27,050\nSo here I am on my server.\n\n360\n00:18:27,050 --> 00:18:29,390\nAnd if I want to be able to\nremote manage this server,\n\n361\n00:18:29,390 --> 00:18:32,735\nI want to be able to go to another\nsystem and remotely manage it.\n\n362\n00:18:32,735 --> 00:18:34,700\nOkay.\nWell to do that,\n\n363\n00:18:34,700 --> 00:18:37,760\nI've gotta run the server app on our\nremote system, and connect here.\n\n364\n00:18:37,760 --> 00:18:39,720\nAnd it builds up a secure connection.\n\n365\n00:18:39,720 --> 00:18:42,150\nAnd it has to validate\nthe identity of the server.\n\n366\n00:18:42,150 --> 00:18:44,770\nAnd it does that through a certificate.\n\n367\n00:18:44,770 --> 00:18:49,700\nSo when you run the server app, it's got\nto get a certificate from somewhere.\n\n368\n00:18:49,700 --> 00:18:51,110\nWhere does that certificate come from?\n\n369\n00:18:51,110 --> 00:18:54,680\nWell, it comes from the system itself.\n\n370\n00:18:54,680 --> 00:18:58,180\nIt creates a self signed certificate.\n\n371\n00:18:58,180 --> 00:19:00,430\nA self signed certificate is\none that you make yourself.\n\n372\n00:19:00,430 --> 00:19:03,150\nYou don't reach out to a CA, you just say\nyou know what screw it I'm just going to\n\n373\n00:19:03,150 --> 00:19:04,930\nmake my own certificate and\njust be done with it real quick.\n\n374\n00:19:04,930 --> 00:19:05,980\nAll right?\n\n375\n00:19:05,980 --> 00:19:08,650\nSelf signed certificates are designed for\ntemporary use.\n\n376\n00:19:08,650 --> 00:19:10,620\nLike when you're initially\nsetting up a server.\n\n377\n00:19:10,620 --> 00:19:12,670\nThey're not designed for long term use.\n\n378\n00:19:12,670 --> 00:19:16,700\nBecause no one else on the planet\nis going to trust that certificate.\n\n379\n00:19:16,700 --> 00:19:20,830\nSo if anybody else tries to use it,\nthey're gonna get warning messages.\n\n380\n00:19:20,830 --> 00:19:21,340\nAll right?\n\n381\n00:19:21,340 --> 00:19:22,120\nAnd let me show you that.\n\n382\n00:19:22,120 --> 00:19:23,500\nSo I'm gonna jump over to this client.\n\n383\n00:19:25,944 --> 00:19:28,890\nAnd on this client,\nI'm gonna fire up the server app.\n\n384\n00:19:30,810 --> 00:19:33,780\nAnd I'm gonna point at that\nother server on the network.\n\n385\n00:19:33,780 --> 00:19:35,290\nSo I wanna get connected to it.\n\n386\n00:19:35,290 --> 00:19:36,700\nThere it is.\n\n387\n00:19:36,700 --> 00:19:37,380\nI'll go ahead and connect.\n\n388\n00:19:37,380 --> 00:19:39,470\nIt's gonna ask for my credentials.\n\n389\n00:19:40,590 --> 00:19:41,338\nWhich I'll provide.\n\n390\n00:19:41,338 --> 00:19:42,341\nAll right?\n\n391\n00:19:42,341 --> 00:19:45,040\nAnd now it's gonna reach out\nto that server and talk to it.\n\n392\n00:19:45,040 --> 00:19:46,330\nAnd here's my message.\n\n393\n00:19:46,330 --> 00:19:51,013\nServer can't verify the identity\nof server OSX-server.local.\n\n394\n00:19:51,013 --> 00:19:53,000\nRight?\nIt can't verify the identity.\n\n395\n00:19:53,000 --> 00:19:53,770\nWhy not?\n\n396\n00:19:53,770 --> 00:19:55,780\nWell, it got a certificate.\n\n397\n00:19:55,780 --> 00:20:01,040\nIt's a valid certificate but we don't\ntrust who issued that certificate.\n\n398\n00:20:01,040 --> 00:20:02,860\nIf I hit show certificate,\n\n399\n00:20:02,860 --> 00:20:06,800\nI can see right here in the certificate\nchain it was issued by.\n\n400\n00:20:06,800 --> 00:20:11,730\nWell, we can browse down into our\n\n401\n00:20:11,730 --> 00:20:14,655\ndetails here we can find out\nwho it was issued issued by.\n\n402\n00:20:14,655 --> 00:20:17,325\nAnd it'll show in here that it was\nactually issued by that server,\n\n403\n00:20:17,325 --> 00:20:20,235\nthat it's self signed, and\nit's buried in here somewhere.\n\n404\n00:20:20,235 --> 00:20:21,194\nI will find it.\n\n405\n00:20:21,194 --> 00:20:22,767\nLet's see.\n\n406\n00:20:22,767 --> 00:20:27,080\n[LAUGH] Somewhere in here,\nit will say that it was issued by itself.\n\n407\n00:20:27,080 --> 00:20:28,100\nAnd that's the warning.\n\n408\n00:20:28,100 --> 00:20:30,180\nThat's the thing, who it was issued by.\n\n409\n00:20:30,180 --> 00:20:31,470\nOh, it's actually just hiding it.\n\n410\n00:20:31,470 --> 00:20:33,950\nSo it says it right there,\nself signed route certificate.\n\n411\n00:20:33,950 --> 00:20:37,670\nSo it was letting us know that\nit was signed by that server.\n\n412\n00:20:37,670 --> 00:20:41,750\nAnd since it was server, I don't trust\nthat server, I don't know who they are.\n\n413\n00:20:41,750 --> 00:20:43,370\nI don't trust the cert.\n\n414\n00:20:43,370 --> 00:20:47,430\nWell, if I had the open directory\nin place, and that server was bound\n\n415\n00:20:47,430 --> 00:20:50,640\nto the active directory, and\nmy client was bound to the open directory.\n\n416\n00:20:50,640 --> 00:20:52,415\nI'm sorry I said active\ndirectory that's Microsoft.\n\n417\n00:20:52,415 --> 00:20:55,130\nAll right.\nIf we were both down to the open directory\n\n418\n00:20:55,130 --> 00:20:56,950\nthen I would trust that server.\n\n419\n00:20:56,950 --> 00:20:59,980\nI would trust it cuz we're both\npart of the same directory service.\n\n420\n00:20:59,980 --> 00:21:03,500\nBut, as it stands, I'm not bound to open\ndirectory, I don't have one in place.\n\n421\n00:21:03,500 --> 00:21:07,460\nSo that server, is just any old server\nout there, I don't know who it is, and\n\n422\n00:21:07,460 --> 00:21:08,840\nI can't verify it.\n\n423\n00:21:08,840 --> 00:21:12,630\nIt is a valid certificate, ti's a good\ncertificate that works, I can use it for\n\n424\n00:21:12,630 --> 00:21:16,190\nencryption and identification, but\nI don't trust who it came from.\n\n425\n00:21:16,190 --> 00:21:17,830\nAnd I can tell it who I do want to trust,\n\n426\n00:21:17,830 --> 00:21:21,800\nI can say,\nalways trust com.apple.servermanagerd.\n\n427\n00:21:21,800 --> 00:21:24,710\nWhen connecting to OSX-server1.local.\n\n428\n00:21:24,710 --> 00:21:28,360\nI'm saying it's okay for\nthat to be a self signed certificate and\n\n429\n00:21:28,360 --> 00:21:31,882\nwhen I do that it's gonna make it where I\ndon't get that warning message anymore.\n\n430\n00:21:31,882 --> 00:21:32,800\nAll right?\n\n431\n00:21:32,800 --> 00:21:37,790\nSo what it's really doing is it's\nadding that self signed cert\n\n432\n00:21:37,790 --> 00:21:40,030\nto my key chain access,\nto those certificates in there.\n\n433\n00:21:40,030 --> 00:21:43,150\nSo that I know that I trust that\ncertificate for now on, and\n\n434\n00:21:43,150 --> 00:21:46,430\nnow I'll be able to connect to it, and\nit's not gonna give me that warning.\n\n435\n00:21:46,430 --> 00:21:50,120\nBut who's to say that a hacker\nhadn't already gotten in there and\n\n436\n00:21:50,120 --> 00:21:51,970\ngotten a copy of that certificate?\n\n437\n00:21:51,970 --> 00:21:54,940\nAnd now when I send secure data across\nthe network they can intercept it and\n\n438\n00:21:54,940 --> 00:21:57,600\ndecrypt it real easy cuz\nthey've got the keys for it.\n\n439\n00:21:57,600 --> 00:22:00,270\nThat's the problem with\na self-signed certificate\n\n440\n00:22:00,270 --> 00:22:01,740\nis you don't have a way to validate that.\n\n441\n00:22:01,740 --> 00:22:04,420\nYou don't know that somebody's\nout there actually watching it.\n\n442\n00:22:04,420 --> 00:22:06,800\nIn this case, it's my server, I set it up.\n\n443\n00:22:06,800 --> 00:22:09,420\nIt's brand new, I can trust it, it's okay.\n\n444\n00:22:09,420 --> 00:22:13,200\nBut, if you were to go onto the internet,\nand you browsed to a website,\n\n445\n00:22:13,200 --> 00:22:15,140\nand they're asking for\nyour credit card data.\n\n446\n00:22:15,140 --> 00:22:18,010\nAnd you get a message saying you\ncan't validate the certificate,\n\n447\n00:22:18,010 --> 00:22:20,050\nare you gonna punch in\nyour credit card data?\n\n448\n00:22:20,050 --> 00:22:21,670\nNo, you'd be crazy to do that.\n\n449\n00:22:21,670 --> 00:22:23,102\nYou don't trust the other person.\n\n450\n00:22:23,102 --> 00:22:24,010\nAll right?\n\n451\n00:22:24,010 --> 00:22:28,010\nSo self signed certs,\nyou can use them internally if you want.\n\n452\n00:22:28,010 --> 00:22:30,190\nYou can use them temporarily if you want.\n\n453\n00:22:30,190 --> 00:22:33,390\nBut long term,\nyou're going to want to replace them.\n\n454\n00:22:33,390 --> 00:22:36,288\nAnd that means we need to get some\nlegitimate certificates in there.\n\n455\n00:22:36,288 --> 00:22:38,629\nAll right.\n\n456\n00:22:38,629 --> 00:22:44,000\nWell that's my basic spiel on\nkind of what certificates are.\n\n457\n00:22:44,000 --> 00:22:47,520\nI wanna walk you through configuring\ncertificates inside of a server app.\n\n458\n00:22:47,520 --> 00:22:49,210\nAnd some of the things we need\nto do if we're gonna go out and\n\n459\n00:22:49,210 --> 00:22:51,230\nbuy like a legitimate certificate and\nso on.\n\n460\n00:22:51,230 --> 00:22:54,410\nLooking at the clock though, I don't\nreally have enough time in this segment.\n\n461\n00:22:54,410 --> 00:22:58,830\nSo let's do this, let's pause for a break,\nand when we get back we're gonna tackle\n\n462\n00:22:58,830 --> 00:23:01,980\na little bit more on certificates and\nactually see them in action on our system.\n\n463\n00:23:01,980 --> 00:23:07,892\nSo stay tuned, we'll be back after this.\n\n464\n00:23:07,892 --> 00:23:13,320\n[SOUND] All right, welcome back everybody.\n\n465\n00:23:13,320 --> 00:23:16,880\nI had a good question out in\nthe hallway during the break there.\n\n466\n00:23:16,880 --> 00:23:19,790\nI showed adding that\ncertificate to my trust, right?\n\n467\n00:23:19,790 --> 00:23:22,270\nSaying that I'll go ahead and\ntrust that self sign certificate.\n\n468\n00:23:22,270 --> 00:23:24,490\nBut I didn't show where it went and\nthat was the question.\n\n469\n00:23:24,490 --> 00:23:26,520\nWhere does that certificate\ngo after you save it.\n\n470\n00:23:26,520 --> 00:23:28,340\nSo let me show you that real quick.\n\n471\n00:23:28,340 --> 00:23:32,780\nHere's my client and this is a client\nthat I fired up that server app and\n\n472\n00:23:32,780 --> 00:23:35,910\nwhen I saw that certificate I said yeah\nI'll go ahead and trust that certificate.\n\n473\n00:23:35,910 --> 00:23:36,430\nRight?\n\n474\n00:23:36,430 --> 00:23:40,280\nAnd I should see that if I fire\nup my server app again, and\n\n475\n00:23:40,280 --> 00:23:43,880\nI point it at that remote server,\nI'm gonna go ahead and connect to it.\n\n476\n00:23:43,880 --> 00:23:45,820\nWhen I go to connect it asks for\nmy credentials, and\n\n477\n00:23:45,820 --> 00:23:47,300\nit was right after this screen,\n\n478\n00:23:47,300 --> 00:23:50,862\nthat it told me that it couldn't validate\nthe certificate, do I want to trust it.\n\n479\n00:23:50,862 --> 00:23:53,143\nAll right?\nThis time when I go and connect though,\n\n480\n00:23:53,143 --> 00:23:56,843\nit's just gonna connect up, it's not\ngonna bother me about the certificate,\n\n481\n00:23:56,843 --> 00:24:00,120\nand that's because I told it that I\nwanted to trust that certificate.\n\n482\n00:24:00,120 --> 00:24:04,757\nWell, if I go back to my key chain access,\nI'm just going to jump back into key chain\n\n483\n00:24:04,757 --> 00:24:07,500\naccess It doesn't show\nup on your system roots.\n\n484\n00:24:07,500 --> 00:24:09,828\nBecause a self-signed cert is not a root,\n\n485\n00:24:09,828 --> 00:24:13,330\nyou can't create a chain that\nstarts with a self-signed cert.\n\n486\n00:24:13,330 --> 00:24:14,950\nIt doesn't let you do that.\n\n487\n00:24:14,950 --> 00:24:18,710\nBut it does show up,\nup here under my local items.\n\n488\n00:24:18,710 --> 00:24:22,680\nIf I go to my local items in key chain\naccess, you'll see a bunch of stuff.\n\n489\n00:24:22,680 --> 00:24:24,580\nOr actually wait, not local items, login.\n\n490\n00:24:24,580 --> 00:24:27,490\nThere we go.\n[LAUGH] My local items are empty.\n\n491\n00:24:27,490 --> 00:24:29,440\nIf I go up to Login, there we go.\n\n492\n00:24:29,440 --> 00:24:30,995\nWe'll see that certificate right there.\n\n493\n00:24:30,995 --> 00:24:36,480\nCom.apple.serverngrd, that's the server\nmanager and I can see that certificate,\n\n494\n00:24:36,480 --> 00:24:42,360\nand if I look up here it's marked\nas trusted for osx-serverone.local.\n\n495\n00:24:42,360 --> 00:24:44,410\nI'm trusting that server.\n\n496\n00:24:44,410 --> 00:24:45,530\nAnd that's why it's added.\n\n497\n00:24:45,530 --> 00:24:47,710\nAnd that's why it's not bothering\nme about the certificate.\n\n498\n00:24:47,710 --> 00:24:50,760\nSo any certificates that\nyou explicitly trust\n\n499\n00:24:50,760 --> 00:24:52,910\nwill just end up right here\nin your key chain access.\n\n500\n00:24:52,910 --> 00:24:55,360\nSo you can hunt those down and find them.\n\n501\n00:24:55,360 --> 00:24:57,960\nIf your login key chain is really,\nreally big.\n\n502\n00:24:57,960 --> 00:24:59,500\nIf you have a ton of stuff in there.\n\n503\n00:24:59,500 --> 00:25:02,290\nYou can use these filters over here,\nso you can filter it down to just\n\n504\n00:25:02,290 --> 00:25:05,000\ncertificates, and\nthat makes it a lot easier to spot those,\n\n505\n00:25:05,000 --> 00:25:07,920\ncuz you probably don't trust\ntoo terribly many certificates.\n\n506\n00:25:07,920 --> 00:25:08,970\nThat'll narrow it down quite a bit.\n\n507\n00:25:10,250 --> 00:25:11,000\nAll right.\n\n508\n00:25:11,000 --> 00:25:14,800\nNow, that certificate is self-signed.\n\n509\n00:25:14,800 --> 00:25:17,400\nIf I wanna get a legitimate certificate,\n\n510\n00:25:17,400 --> 00:25:20,080\na certificate that will work,\nI'm gonna have a choice.\n\n511\n00:25:21,170 --> 00:25:24,790\nI can go with a public\ncertificate authority,\n\n512\n00:25:24,790 --> 00:25:27,840\none of the various organizations that\nare right there in that system roots list.\n\n513\n00:25:27,840 --> 00:25:29,390\nThese guys all sell certificates.\n\n514\n00:25:29,390 --> 00:25:33,395\nI can go to one of them, and\nI can buy a certificate, all right?\n\n515\n00:25:33,395 --> 00:25:36,810\nOr I can build my own\ncertificate authority.\n\n516\n00:25:38,000 --> 00:25:39,560\nWhat a certificate authority is,\n\n517\n00:25:39,560 --> 00:25:45,300\nis it's a key piece in what's called\na public key infrastructure or PKI, right?\n\n518\n00:25:45,300 --> 00:25:49,825\nYour public key infrastructure consists\nof a server that can issue certificates,\n\n519\n00:25:49,825 --> 00:25:54,140\nthe certificates themselves, the templates\nfor the different types of certificates,\n\n520\n00:25:54,140 --> 00:25:56,965\ncuz there's more than one type,\nthere's one for email signing, one's for\n\n521\n00:25:56,965 --> 00:26:00,895\nencrypting, one's for digital signatures,\nall sorts of different types.\n\n522\n00:26:00,895 --> 00:26:04,410\nAnd then there's also what's\ncalled a revocation list.\n\n523\n00:26:04,410 --> 00:26:06,960\nIf a certificate gets\ncompromised we can revoke it.\n\n524\n00:26:06,960 --> 00:26:08,280\nAnd say it's no longer valid.\n\n525\n00:26:08,280 --> 00:26:10,800\nRight?\nThat revocation list is part of the PKI.\n\n526\n00:26:10,800 --> 00:26:13,740\nAll of those are different\npieces of the puzzle.\n\n527\n00:26:13,740 --> 00:26:17,870\nAnd you have to provide all of them if you\nwant a healthy public key infrastructure.\n\n528\n00:26:17,870 --> 00:26:22,570\nWell, when you install open directory\non a server, it becomes a CA and\n\n529\n00:26:22,570 --> 00:26:25,760\nit has all those different components and\nit's ready to rock.\n\n530\n00:26:25,760 --> 00:26:30,440\nOr you go out to the internet and you\nuse one of those public systems, right.\n\n531\n00:26:30,440 --> 00:26:32,950\nAnd so the public ones, the ones on the\ninternet those are called a public PKI.\n\n532\n00:26:32,950 --> 00:26:36,510\nThe one you build yourself\nthat's kind a private PKI.\n\n533\n00:26:36,510 --> 00:26:39,320\nThat's kind of funny it's a private\npublic key infrastructure,\n\n534\n00:26:39,320 --> 00:26:40,980\nbut you guys get the point.\n\n535\n00:26:40,980 --> 00:26:42,820\nPrivate just means that\nwe built it ourselves.\n\n536\n00:26:42,820 --> 00:26:46,770\nIt's internal and we trust it, and if we\nhave third parties that we do business\n\n537\n00:26:46,770 --> 00:26:49,580\nwith, we can send them a copy\nof our root certificate so\n\n538\n00:26:49,580 --> 00:26:52,620\nthat they can add it to their trust\nlist and then they trust it too.\n\n539\n00:26:52,620 --> 00:26:54,730\nSo we can get other people to trust it.\n\n540\n00:26:54,730 --> 00:26:56,320\nAs long as they're willing to trust us.\n\n541\n00:26:58,190 --> 00:27:01,870\nNow, the self signed certificate\nis being used by server.\n\n542\n00:27:01,870 --> 00:27:03,680\nLet me jump over to the server itself.\n\n543\n00:27:03,680 --> 00:27:04,660\nI'm on the client here.\n\n544\n00:27:04,660 --> 00:27:08,190\nI'm gonna just get out of all this and\njump over to the server.\n\n545\n00:27:09,870 --> 00:27:10,690\nAll right.\n\n546\n00:27:10,690 --> 00:27:13,610\nSo, where did that self-signed\ncertificate come from?\n\n547\n00:27:13,610 --> 00:27:18,040\nWell, when we installed the server app and\nwe ran it the first time.\n\n548\n00:27:18,040 --> 00:27:20,420\nThere was a little status\nbar that kind of came by and\n\n549\n00:27:20,420 --> 00:27:23,530\nset it was setting up all the different\nservers, setting up caching, calendar,\n\n550\n00:27:23,530 --> 00:27:25,370\ncontacts, it went through each one.\n\n551\n00:27:25,370 --> 00:27:30,320\nWhile it was doing that, it also set up\nour certificate, it created that self\n\n552\n00:27:30,320 --> 00:27:34,780\nsigned certificate right then when\nit was doing the initial set up.\n\n553\n00:27:34,780 --> 00:27:38,740\nSo once it's done, it's there, we don't\nhave to worry about it anymore right?\n\n554\n00:27:38,740 --> 00:27:41,120\nWell, in a small environment you don't.\n\n555\n00:27:41,120 --> 00:27:45,520\nBut it is not a trusted certificate\nby anybody other than us, so\n\n556\n00:27:45,520 --> 00:27:49,260\nit just kind of sits there and\nwe might need to replace it.\n\n557\n00:27:49,260 --> 00:27:51,940\nIf we wanna replace it,\nwe can see it pretty easily.\n\n558\n00:27:51,940 --> 00:27:55,400\nRight up here on our server settings,\nwe'll see certificates, and\n\n559\n00:27:55,400 --> 00:27:57,920\nthat's where we'll see\nthe certificates that our server has.\n\n560\n00:27:57,920 --> 00:28:02,590\nAnd right here at the top,\nI can see secure services using and\n\n561\n00:28:02,590 --> 00:28:03,465\nhere's the certificate.\n\n562\n00:28:03,465 --> 00:28:05,490\nOSX-sever1.local.\n\n563\n00:28:05,490 --> 00:28:07,750\nSelf signed, expires March 8, 2017.\n\n564\n00:28:07,750 --> 00:28:10,810\nActually that's a good point right there.\n\n565\n00:28:10,810 --> 00:28:12,090\nThe expiration date.\n\n566\n00:28:12,090 --> 00:28:15,080\nThere's two reasons why we might\nwant to replace this certificate.\n\n567\n00:28:15,080 --> 00:28:18,710\nOne reason is you might want to\ngo to a valid certificate, right.\n\n568\n00:28:18,710 --> 00:28:22,260\nThe second reason is this\none will expire in 2017.\n\n569\n00:28:22,260 --> 00:28:24,260\nIn two years this is going to expire, and\n\n570\n00:28:24,260 --> 00:28:28,830\nso as I get closer to that day I'll\nneed to reissue the certificate.\n\n571\n00:28:28,830 --> 00:28:32,220\nNow, if I had other ones I can drop that\ndown and pick from other certificates, but\n\n572\n00:28:32,220 --> 00:28:33,360\nI just have the one.\n\n573\n00:28:33,360 --> 00:28:35,780\nSo not much for me to choose from there.\n\n574\n00:28:35,780 --> 00:28:40,690\nBut I can go and generate more if I\nneed them and replace it and update.\n\n575\n00:28:40,690 --> 00:28:44,460\nNo it says secure services\nusing that certificate.\n\n576\n00:28:44,460 --> 00:28:45,050\nWhat does that mean?\n\n577\n00:28:45,050 --> 00:28:49,280\nWell all my services over here,\nnot all of them but\n\n578\n00:28:49,280 --> 00:28:52,130\nseveral of them support\nencrypting traffic.\n\n579\n00:28:52,130 --> 00:28:53,840\nSo for example mail.\n\n580\n00:28:53,840 --> 00:28:59,180\nWhen mail you have POP3,\nIMAP4, and SMTP, right?\n\n581\n00:28:59,180 --> 00:29:03,260\nPOP3 and IMAP4 are protocols for clients\nto connect and look at their mailbox.\n\n582\n00:29:03,260 --> 00:29:06,620\nSMTP is a protocol for sending email.\n\n583\n00:29:06,620 --> 00:29:11,510\nAll three of them are unencrypted by\ndefault, so if someone were to intercept\n\n584\n00:29:11,510 --> 00:29:12,940\nyour traffic on the network,\nthey could read your email.\n\n585\n00:29:14,040 --> 00:29:17,800\nBut you can couple that with an SSL\ncertificate to encrypt the data.\n\n586\n00:29:17,800 --> 00:29:20,440\nIt actually does what is called TLS,\nTransport Layer Security.\n\n587\n00:29:21,540 --> 00:29:24,260\nAnd that encrypts the data while\nit travels across the network, and\n\n588\n00:29:24,260 --> 00:29:26,290\nprovides a higher degree of security.\n\n589\n00:29:26,290 --> 00:29:28,140\nWell it needs a certificate to do that.\n\n590\n00:29:28,140 --> 00:29:32,310\nAnd it's going to use whatever\ncertificate is listed right here.\n\n591\n00:29:32,310 --> 00:29:32,860\nRight?\n\n592\n00:29:32,860 --> 00:29:33,780\nThat's one example.\n\n593\n00:29:33,780 --> 00:29:35,600\nMessages is the same way.\n\n594\n00:29:35,600 --> 00:29:37,260\nMessages, the chat service.\n\n595\n00:29:37,260 --> 00:29:39,890\nThose can be sent unencrypted, but\n\n596\n00:29:39,890 --> 00:29:41,960\nthey can use a certificate\nalso if we've got one.\n\n597\n00:29:41,960 --> 00:29:45,940\nAnd that provides that extra level of\nsecurity and identification right?\n\n598\n00:29:45,940 --> 00:29:47,960\nThese are important things to have.\n\n599\n00:29:47,960 --> 00:29:49,100\nWebsites?\n\n600\n00:29:49,100 --> 00:29:52,490\nIf we're hosting a web server,\nit's on encrypted by default right?\n\n601\n00:29:52,490 --> 00:29:54,160\nHTP port 80.\n\n602\n00:29:54,160 --> 00:29:58,710\nIf we turn on SSL,\nit's HTTPS port four forty three.\n\n603\n00:29:58,710 --> 00:30:03,040\nIt needs a certificate and it's gonna\nuse that same self sign certificate.\n\n604\n00:30:03,040 --> 00:30:07,250\nWell if i don't trust that\ncertificate I'm gonna get warnings.\n\n605\n00:30:07,250 --> 00:30:08,300\nBut I can turn this on.\n\n606\n00:30:08,300 --> 00:30:12,440\nI'm gonna flip on the web server here,\nmaybe I'll enable PHP or\n\n607\n00:30:12,440 --> 00:30:14,060\nwhatever else it is that I want.\n\n608\n00:30:14,060 --> 00:30:16,400\nAnd then right here I can\nsee my server website.\n\n609\n00:30:16,400 --> 00:30:19,130\nIt's telling me all IP\naddresses on port 80 and\n\n610\n00:30:19,130 --> 00:30:23,460\nthen server website SSL,\nall IP addresses on port 443.\n\n611\n00:30:23,460 --> 00:30:28,370\nSo I know, it's got a secure site,\nit's right there, and if I edit that,\n\n612\n00:30:28,370 --> 00:30:31,970\nI can go into some of the settings, and\nright here I can see the SSL certificate.\n\n613\n00:30:31,970 --> 00:30:34,580\nNow the reason I wanted\nto bring this up is,\n\n614\n00:30:34,580 --> 00:30:38,830\nby default it uses that one certificate,\nthat same certificate all the other\n\n615\n00:30:38,830 --> 00:30:43,580\nservices are using but,\nwe can always go and change that.\n\n616\n00:30:43,580 --> 00:30:47,600\nMaybe I have one certificate for\nmy website and a different certificate for\n\n617\n00:30:47,600 --> 00:30:48,750\nmy mail server.\n\n618\n00:30:48,750 --> 00:30:50,490\nSo I can go and\nmanipulate that and change it.\n\n619\n00:30:50,490 --> 00:30:54,030\nSo I'm overriding that one\nmain option right here.\n\n620\n00:30:54,030 --> 00:30:56,030\nIf I choose to, just for the website.\n\n621\n00:30:57,910 --> 00:31:01,240\nNow with that being turned on,\nif I jump over to a client,\n\n622\n00:31:01,240 --> 00:31:06,200\nactually I guess I need to pay attention\nto what my IP address is here.\n\n623\n00:31:06,200 --> 00:31:09,170\n157.\nIf I fire up Safari and\n\n624\n00:31:09,170 --> 00:31:10,710\nI browse to 10.1.230.157.\n\n625\n00:31:10,710 --> 00:31:13,710\nThat's that other server, right?\n\n626\n00:31:13,710 --> 00:31:18,330\nI'm gonna browse to it and\nhere I get that warning again.\n\n627\n00:31:18,330 --> 00:31:21,505\nSafari can't verify the identity Website.\n\n628\n00:31:21,505 --> 00:31:24,585\nNow I trusted that\ncertificate earlier didn't I?\n\n629\n00:31:24,585 --> 00:31:27,125\nWell I trusted it for log ins.\n\n630\n00:31:27,125 --> 00:31:30,385\nI'm not logging in here\nI'm encrypting a webpage.\n\n631\n00:31:30,385 --> 00:31:31,125\nThis is different.\n\n632\n00:31:31,125 --> 00:31:35,285\nIt's a different type of authentication\nand so I get the prompt again.\n\n633\n00:31:35,285 --> 00:31:38,695\nAnd I can go in here and\nI can choose to trust it and\n\n634\n00:31:38,695 --> 00:31:43,530\nnow I'll trust it not just for log ins but\nalso for web access to that server.\n\n635\n00:31:43,530 --> 00:31:46,230\nThat's the annoying part about\na self signed certificate,\n\n636\n00:31:46,230 --> 00:31:50,800\nis even after you've trusted it, you still\nbump into other mechanisms that use it and\n\n637\n00:31:50,800 --> 00:31:52,470\nyou get the prompt again.\n\n638\n00:31:52,470 --> 00:31:55,532\nAnd if we know we trust that certificate,\nwe just hit continue,\n\n639\n00:31:55,532 --> 00:31:58,380\nwe don't think about it, but\nan end user they don't know.\n\n640\n00:31:58,380 --> 00:32:01,122\nAnd so when they get a warning message\nlike this, they look at it and they go\n\n641\n00:32:01,122 --> 00:32:03,797\nwell I can't trust that certificate,\nI'm not going to use that site.\n\n642\n00:32:03,797 --> 00:32:07,627\nAnd, now you got stuff that doesn't work,\nso that's the problem we bump into.\n\n643\n00:32:07,627 --> 00:32:12,335\nBut now I can see, I'm on that site,\nI've got the certificate in place, and\n\n644\n00:32:12,335 --> 00:32:15,536\nit's pulling that in\nfrom osx.server1.local.\n\n645\n00:32:15,536 --> 00:32:19,406\nAll right, well, let's say I don't want\nto have a certificate that people don't\n\n646\n00:32:19,406 --> 00:32:20,566\ntrust, I want a new one,\n\n647\n00:32:20,566 --> 00:32:24,170\nright, I want to generate\na certificate that people do trust.\n\n648\n00:32:24,170 --> 00:32:29,110\nWell, if I want the best possible\ncompatibility where everybody's just gonna\n\n649\n00:32:29,110 --> 00:32:33,200\nautomatically trust me,\nI need to out and buy a cert, right?\n\n650\n00:32:33,200 --> 00:32:35,920\nThere's several different\ncompanies out there.\n\n651\n00:32:35,920 --> 00:32:37,790\nOne of my personal\nfavorites is DigiCert and\n\n652\n00:32:37,790 --> 00:32:40,300\nI know I've got a couple people in\nthe chat room that are agreeing with me.\n\n653\n00:32:40,300 --> 00:32:41,320\nThey're a great company.\n\n654\n00:32:41,320 --> 00:32:43,260\nYou can buy them from any company though.\n\n655\n00:32:43,260 --> 00:32:47,770\nVerisign is the biggest, I just,\nDigisearch Tech Support is really good.\n\n656\n00:32:47,770 --> 00:32:51,491\nBut if you wanna buy a certificate\nfrom one of them, well you know,\n\n657\n00:32:51,491 --> 00:32:53,231\nyou go to the website, right?\n\n658\n00:32:53,231 --> 00:32:57,256\nSo if I go to Digisearch's website,\nthey sell SSL Certificates and\n\n659\n00:32:57,256 --> 00:32:59,810\nyou can go to their site and\nyou can buy one.\n\n660\n00:32:59,810 --> 00:33:03,640\nAnd they range in various prices based\non what it is that you're trying to do.\n\n661\n00:33:03,640 --> 00:33:07,480\nBut when you buy it,\nthey're gonna ask for two things.\n\n662\n00:33:07,480 --> 00:33:11,650\nOne thing is identifying information,\nare you who you say you are,\n\n663\n00:33:11,650 --> 00:33:15,850\nyou're gonna have to give them a phone\nnumber they can call to verify on.\n\n664\n00:33:15,850 --> 00:33:19,750\nYou may have to submit bank statements or\npower bills or something like that that\n\n665\n00:33:19,750 --> 00:33:22,840\nshows you are actually at the address\nthat you're saying you're on.\n\n666\n00:33:22,840 --> 00:33:25,970\nYou have to do verification, validation.\n\n667\n00:33:25,970 --> 00:33:27,620\nNow when they sell certificates,\n\n668\n00:33:27,620 --> 00:33:30,470\nthere's actually two levels of\ncertificate that you go through.\n\n669\n00:33:30,470 --> 00:33:34,670\nThere's the basic level, which is just\na regular certificate, and when you have\n\n670\n00:33:34,670 --> 00:33:40,370\na regular certificate in applications like\nSafari, they show up with a grey lock.\n\n671\n00:33:40,370 --> 00:33:42,100\nSee how that lock is grey right there?\n\n672\n00:33:42,100 --> 00:33:45,504\nThat let's me know that this is\njust a normal certificate and\n\n673\n00:33:45,504 --> 00:33:47,651\nthat we can more than likely trust it.\n\n674\n00:33:47,651 --> 00:33:48,825\nBut every now and then,\n\n675\n00:33:48,825 --> 00:33:53,065\nyou'll see certificates like this\nDigiCert one here where it's green.\n\n676\n00:33:53,065 --> 00:33:54,475\nAll right, why is that green?\n\n677\n00:33:54,475 --> 00:33:58,645\nWell, green means it was an extended\nvalidation, EV, all lright?\n\n678\n00:33:58,645 --> 00:34:03,170\nEV certificates tell you that\nwhen this certificate was issued,\n\n679\n00:34:03,170 --> 00:34:05,930\nthey not only called the people,\nbut they got the paperwork,\n\n680\n00:34:05,930 --> 00:34:10,230\nthey got all the additional information to\nmake sure that this company was absolutely\n\n681\n00:34:10,230 --> 00:34:14,770\nwho they said they are, so you can extra\ndouble super trust this certificate,\n\n682\n00:34:14,770 --> 00:34:19,010\nversus a gray one, which is more\nthan likely safe to trust, right?\n\n683\n00:34:19,010 --> 00:34:21,290\nMost of the websites out there\non the internet use these.\n\n684\n00:34:21,290 --> 00:34:24,990\nBut there's a chance that somebody\ncould have been really good at social\n\n685\n00:34:24,990 --> 00:34:28,380\nengineering and managed to get that\ncertificate when they shouldn't have.\n\n686\n00:34:28,380 --> 00:34:32,030\nSo it's like different levels of security,\nand they charge different amounts for\n\n687\n00:34:32,030 --> 00:34:36,290\nthat, so when you go to buy a certificate,\nyou're basically gonna pick if you do\n\n688\n00:34:36,290 --> 00:34:40,880\nSSL plus, it'll be one price,\nif you do EV SSL plus,\n\n689\n00:34:40,880 --> 00:34:44,360\nthat's that extended validation,\nthat's gonna cost a little bit more.\n\n690\n00:34:44,360 --> 00:34:48,110\nAnd what you're doing is you're paying for\nthat extra trustworthiness, right?\n\n691\n00:34:48,110 --> 00:34:52,150\nSo let's see what the prices are today,\nthe prices fluctuate, so\n\n692\n00:34:52,150 --> 00:34:53,410\nyou never quite know.\n\n693\n00:34:53,410 --> 00:34:58,261\nBut it looks like if I want to go EV,\nwe're looking at $295 a year.\n\n694\n00:34:58,261 --> 00:35:02,250\nIf we just go regular SSL,\nyou're looking at $175 a year.\n\n695\n00:35:02,250 --> 00:35:04,170\nSo it's a difference of about $120.\n\n696\n00:35:04,170 --> 00:35:07,160\nIs it worth $120 to prove to\nyour customers that you are who\n\n697\n00:35:07,160 --> 00:35:08,220\nyou say you are?\n\n698\n00:35:08,220 --> 00:35:08,850\nMost people it is.\n\n699\n00:35:08,850 --> 00:35:11,670\nNot that much in the general\nscheme of things.\n\n700\n00:35:11,670 --> 00:35:14,620\nSo you go ahead and pay the extra,\nyou get the extra validation and you go.\n\n701\n00:35:15,990 --> 00:35:17,160\nAnother thing you have to decide is,\n\n702\n00:35:17,160 --> 00:35:19,940\nhow many years you want that\ncertificate to be valid for?\n\n703\n00:35:19,940 --> 00:35:23,200\nMany, many websites out there\ndo three year certificates.\n\n704\n00:35:23,200 --> 00:35:25,670\nSo you get a certificate that's good for\nthree years.\n\n705\n00:35:25,670 --> 00:35:27,080\nHere's the thing, though.\n\n706\n00:35:27,080 --> 00:35:32,420\nThe shorter the renewal time on\na certificate is, the more secure it is.\n\n707\n00:35:32,420 --> 00:35:37,020\nThe longer you use a certificate, the more\ntime people have to run things like\n\n708\n00:35:37,020 --> 00:35:40,470\ncollision attacks and other type of\nhacking attempts against the certificate.\n\n709\n00:35:40,470 --> 00:35:43,180\nSo while it might seem like a good idea\nto go ahead and get a three year cert,\n\n710\n00:35:44,390 --> 00:35:48,120\nafter year one,\nif somebody has been attacking your site,\n\n711\n00:35:48,120 --> 00:35:50,346\ntrying to decrypt your traffic,\nthey've had a whole year to work on it.\n\n712\n00:35:50,346 --> 00:35:52,570\nAnd then year two, and then year three.\n\n713\n00:35:52,570 --> 00:35:54,620\nThey get three years to work on it.\n\n714\n00:35:54,620 --> 00:35:56,800\nBut if you only use the certificate for\none year, and\n\n715\n00:35:56,800 --> 00:36:00,860\nthen you issue a new one, well all the\nwork they did in that first year is gone,\n\n716\n00:36:00,860 --> 00:36:03,410\nand now they go into the second year,\nand they gotta start over again.\n\n717\n00:36:03,410 --> 00:36:04,380\nSo it increases security.\n\n718\n00:36:04,380 --> 00:36:07,220\nIt's a little more burden on us, cuz we\nhave to remember once a year to go and\n\n719\n00:36:07,220 --> 00:36:11,330\nchange those certificates, but the longer\nthe certificate, the weaker it is.\n\n720\n00:36:11,330 --> 00:36:14,580\nNow, keep all this in perspective,\nthat for\n\n721\n00:36:14,580 --> 00:36:18,970\nmodern SSL certificates, they use such a\nhigh bit rate that it would actually take\n\n722\n00:36:18,970 --> 00:36:23,170\nhundreds of years if the attacker was\nusing thousands of computers to break it.\n\n723\n00:36:23,170 --> 00:36:26,010\nIt's not realistic that it's\ngoing to be broken that way.\n\n724\n00:36:26,010 --> 00:36:29,340\nThe hackers are typically going to target\nother things like exploits, and drivers,\n\n725\n00:36:29,340 --> 00:36:31,320\nand weak encryption keys,\nthings like that.\n\n726\n00:36:31,320 --> 00:36:35,610\nSo a lot of times, it's a little bit\noverkill on the security side, but\n\n727\n00:36:35,610 --> 00:36:38,620\njust as a rule of thumb,\nI typically stick with one year search.\n\n728\n00:36:38,620 --> 00:36:41,550\nAnd, you know, James mentioned a good\ncomment in the chat room there,\n\n729\n00:36:41,550 --> 00:36:43,100\neven with a three year cert,\n\n730\n00:36:43,100 --> 00:36:47,060\nyou can actually reissue that same cert\neach year to change the key if you want.\n\n731\n00:36:47,060 --> 00:36:49,960\nSo it's not like you have to rebuy it,\nso you can still get the cost savings on\n\n732\n00:36:49,960 --> 00:36:52,440\na three cert, yeah, there's a few\ndifferent ways to go about that.\n\n733\n00:36:53,830 --> 00:36:57,320\nAll right, so If I want to buy\na certificate from them, step one,\n\n734\n00:36:57,320 --> 00:36:58,690\nI'm gonna need to identify myself.\n\n735\n00:36:59,980 --> 00:37:02,640\nStep two, they need what's called a CSR.\n\n736\n00:37:02,640 --> 00:37:06,160\nA certificate signing request.\n\n737\n00:37:06,160 --> 00:37:07,260\nNow what is the CSR?\n\n738\n00:37:07,260 --> 00:37:11,040\nWell, remember that what we're talking\nabout here is a private key, and\n\n739\n00:37:11,040 --> 00:37:12,470\na public key.\n\n740\n00:37:12,470 --> 00:37:16,560\nThe private key, that's that key\nthat can encrypt and decrypt data.\n\n741\n00:37:16,560 --> 00:37:18,680\nAnd that's a really sensitive key.\n\n742\n00:37:18,680 --> 00:37:21,200\nWe don't want to send that\nout across the internet.\n\n743\n00:37:21,200 --> 00:37:23,930\nWe don't want to send that to\nour customers to our end users.\n\n744\n00:37:23,930 --> 00:37:28,400\nThat's private,\nwe want to keep that just for us, okay?\n\n745\n00:37:28,400 --> 00:37:32,556\nSo when we send them\na certificate signing request,\n\n746\n00:37:32,556 --> 00:37:37,530\nwhat er're sending them is a copy of our\nkey and the information about our site.\n\n747\n00:37:37,530 --> 00:37:42,650\nThey take that key,\nthey verify we are who we say we are, and\n\n748\n00:37:42,650 --> 00:37:45,460\nthen they digitally sign the key.\n\n749\n00:37:45,460 --> 00:37:48,190\nThey attach a digital signature to it,\nthat's their signature,\n\n750\n00:37:48,190 --> 00:37:51,520\nso Digicert signature or\nVerisign signature, or whoever, and\n\n751\n00:37:51,520 --> 00:37:55,270\nthey say we validated it,\nyou can trust this site.\n\n752\n00:37:55,270 --> 00:37:58,700\nAnd from that, we derive our public keys.\n\n753\n00:37:58,700 --> 00:38:01,970\nAnd we bring that certificate signing,\nthe actual signed certificate,\n\n754\n00:38:01,970 --> 00:38:04,410\nwe bring that back down to our server and\nload it in.\n\n755\n00:38:04,410 --> 00:38:08,340\nAnd now we're able to issue out that\npublic key out to our customers.\n\n756\n00:38:08,340 --> 00:38:10,580\nAnd they can trust it, encrypt data and\n\n757\n00:38:10,580 --> 00:38:14,110\nsend it to us, and\nwe can decrypt it with our private key.\n\n758\n00:38:14,110 --> 00:38:15,950\nThe private key never gets\nsent to the customer,\n\n759\n00:38:15,950 --> 00:38:18,160\nyou don't want that\nwould be absolutely bad.\n\n760\n00:38:18,160 --> 00:38:19,580\nThat's called symmetric encryption,\n\n761\n00:38:19,580 --> 00:38:22,260\nit does not work with\nthings like website access.\n\n762\n00:38:22,260 --> 00:38:24,430\nAsymmetric encryption is what we want,\n\n763\n00:38:24,430 --> 00:38:27,450\nwhere it's a different key that's doing\nthe encryption and the decryption.\n\n764\n00:38:27,450 --> 00:38:29,490\nTwo separate keys, public, and a private.\n\n765\n00:38:30,560 --> 00:38:32,010\nSo that's the process that we need.\n\n766\n00:38:32,010 --> 00:38:35,490\nSo if I wanna buy this certificate\nright now for my server,\n\n767\n00:38:35,490 --> 00:38:40,090\nI'm gonna need to go back to my server and\ngenerate a certificate signing request.\n\n768\n00:38:40,090 --> 00:38:43,990\nWell, if you go back to your server and\nyou go to the certificates\n\n769\n00:38:43,990 --> 00:38:48,380\ntool right here, you've got your\ncertificate, your self signed certificate.\n\n770\n00:38:48,380 --> 00:38:51,990\nAnd it says hit the plus sign\nto get a trusted certificate.\n\n771\n00:38:51,990 --> 00:38:53,640\nI can hit that plus and\n\n772\n00:38:53,640 --> 00:38:58,189\nit's gonna walk me through a wizard to\ngenerate my certificate signing request.\n\n773\n00:38:59,300 --> 00:39:01,330\nAnd if I hit next,\nit's going to ask me for\n\n774\n00:39:01,330 --> 00:39:02,730\nsome information about the certificate.\n\n775\n00:39:03,940 --> 00:39:07,230\nI need to fill this out, and\nit's very, very particular.\n\n776\n00:39:07,230 --> 00:39:10,540\nThe data that we put in here,\nfirst, the host's name.\n\n777\n00:39:10,540 --> 00:39:15,450\nWell my server is called\nosx-server1.local.\n\n778\n00:39:15,450 --> 00:39:17,910\nSo your temptation is to go ahead and\nput that in here, right?\n\n779\n00:39:17,910 --> 00:39:20,000\nIf I drop the box down,\nI can go ahead and choose that.\n\n780\n00:39:20,000 --> 00:39:23,550\nBut here's the thing, if people\nare accessing my server via the internet,\n\n781\n00:39:24,550 --> 00:39:25,950\nthen they might not be\ncoming to this address.\n\n782\n00:39:25,950 --> 00:39:28,900\nIn fact, they definitely won't because\n.local is not valid on the internet.\n\n783\n00:39:28,900 --> 00:39:34,715\nSo it probably has a different\nname like www.lab.itpro.tv.\n\n784\n00:39:34,715 --> 00:39:36,745\nThat's the name they're going to.\n\n785\n00:39:36,745 --> 00:39:42,045\nWell, the name the client types in has\nto match the name on the certificate.\n\n786\n00:39:42,045 --> 00:39:46,530\nSo I need to put whatever in here,\nis what my client is typing.\n\n787\n00:39:46,530 --> 00:39:49,696\nSo if they're going to www.lab.itpro.tv,\n\n788\n00:39:49,696 --> 00:39:52,868\nthat's what needs to be the host name,\nright?\n\n789\n00:39:52,868 --> 00:39:57,067\nIn other operating systems this is\nreferred to as the common name, and\n\n790\n00:39:57,067 --> 00:40:00,000\nit's just that name we\nidentify the sever with.\n\n791\n00:40:00,000 --> 00:40:04,351\nNow when you issue a certificate,\nmono certificates do have support for\n\n792\n00:40:04,351 --> 00:40:06,000\nadding more than one name.\n\n793\n00:40:06,000 --> 00:40:10,896\nYour server might also be\ncalled mail.lab.itpro.tv, or\n\n794\n00:40:10,896 --> 00:40:16,373\nmaybe it's www.itpro.tv, and\nit's just plain old itpro.tv.\n\n795\n00:40:16,373 --> 00:40:17,960\nYou can add multiple names.\n\n796\n00:40:17,960 --> 00:40:20,430\nWell, we don't do that in\na certificate signing request,\n\n797\n00:40:20,430 --> 00:40:22,590\nthat's actually done on\nthe provider's website.\n\n798\n00:40:22,590 --> 00:40:25,160\nWhen you load the CSR up,\nthey give you a chance to enter in\n\n799\n00:40:25,160 --> 00:40:27,650\nother names with that system,\nand you can do it then.\n\n800\n00:40:27,650 --> 00:40:31,750\nSo if you have more than one name,\nthat's how you solve that problem, but\n\n801\n00:40:31,750 --> 00:40:33,735\nmost servers do just have one name,\n\n802\n00:40:33,735 --> 00:40:37,323\nwe punch in the name our clients\nare going to type in, all right?\n\n803\n00:40:37,323 --> 00:40:40,287\nThen, we have to put in an email\naddress for them to contact,\n\n804\n00:40:40,287 --> 00:40:42,728\nyou could put your own\nemail address in there, but\n\n805\n00:40:42,728 --> 00:40:45,130\nyou normally put\na distribution group in there.\n\n806\n00:40:45,130 --> 00:40:49,800\nSo you'll have something like,\nssladmin@itpro.tv, or something like that.\n\n807\n00:40:51,150 --> 00:40:54,880\nThe company or organization,\nand for most people,\n\n808\n00:40:54,880 --> 00:40:56,680\nyou just type in whatever\nyour company name is.\n\n809\n00:40:56,680 --> 00:41:00,700\nFor us, our company is\nactually Edutainment Live LLC,\n\n810\n00:41:00,700 --> 00:41:02,160\nwe'll go all official.\n\n811\n00:41:02,160 --> 00:41:04,190\nThe department, well, this is IT Pro TV.\n\n812\n00:41:04,190 --> 00:41:05,660\nYou might not have a department,\n\n813\n00:41:05,660 --> 00:41:08,550\nyou can put whatever you want in there,\nthis part they don't fact check.\n\n814\n00:41:08,550 --> 00:41:14,020\nYour town or city, so I'm in Gainesville,\nand then lastly, your state or province.\n\n815\n00:41:14,020 --> 00:41:16,540\nThis is one that people\nmake mistakes on a lot.\n\n816\n00:41:16,540 --> 00:41:19,860\nIn the United States, and\nI know in Canada and some other countries,\n\n817\n00:41:19,860 --> 00:41:23,690\nit's really common for people to\nabbreviate it to a two letter code.\n\n818\n00:41:23,690 --> 00:41:27,000\nI'm in Florida, so\nwe normally write that as as just FL.\n\n819\n00:41:27,000 --> 00:41:28,990\nBut with a certificate,\nit actually needs to be written out.\n\n820\n00:41:28,990 --> 00:41:32,580\nSo I'm just going to write\nthat out as Florida, and\n\n821\n00:41:32,580 --> 00:41:35,060\nthen it asks what country that I'm in,\nso you specify that country.\n\n822\n00:41:37,230 --> 00:41:40,640\nAll right, James in the chat room\nmentioned wild card certificates,\n\n823\n00:41:40,640 --> 00:41:42,378\nthat's another option, too.\n\n824\n00:41:42,378 --> 00:41:47,300\nThe CSR doesn't care too much about it but\nwhen you go to the website to buy\n\n825\n00:41:47,300 --> 00:41:50,240\nthe certificate,\nyou can buy a wild card certificate and so\n\n826\n00:41:50,240 --> 00:41:54,500\nyou can say, I want this certificate\nto be valid for Star.itpro.tv, and\n\n827\n00:41:54,500 --> 00:42:00,110\nthat would allow you to secure anything\nunderneath the itpro.tv domain, all right?\n\n828\n00:42:00,110 --> 00:42:03,060\nThere's pros and\ncons with those wild card certificates.\n\n829\n00:42:03,060 --> 00:42:06,610\nOn a positive side,\nyou can use them for multiple servers.\n\n830\n00:42:06,610 --> 00:42:09,345\nThe servers have different names, but\nyou can do that because it's all under\n\n831\n00:42:09,345 --> 00:42:11,970\nitpro.tv, or\nwhatever your domain is, right?\n\n832\n00:42:11,970 --> 00:42:13,490\nThe negative side is,\n\n833\n00:42:13,490 --> 00:42:17,030\nif one of your servers gets compromised,\nnow all of them are.\n\n834\n00:42:17,030 --> 00:42:19,290\nIt's the same certificate\nacross the board.\n\n835\n00:42:19,290 --> 00:42:22,710\nSo pros and cons, you have to weigh that,\nand determine whether or\n\n836\n00:42:22,710 --> 00:42:24,160\nnot that's a big enough concern for you.\n\n837\n00:42:27,280 --> 00:42:29,299\nAll right, so we'll go ahead and\nhit Next, all that being said,\n\n838\n00:42:29,299 --> 00:42:31,247\nI'm not trying to steer you away\nfrom wild card certificates,\n\n839\n00:42:31,247 --> 00:42:32,261\nI use them all the time, right?\n\n840\n00:42:32,261 --> 00:42:35,547\nSo they're out there, you just need\nto make sure if it's high security,\n\n841\n00:42:35,547 --> 00:42:38,150\nyou probably do want separate\ncerts in your environment.\n\n842\n00:42:40,190 --> 00:42:43,620\nAll right, when that's done, it generates\nthe certificate signed to your request and\n\n843\n00:42:43,620 --> 00:42:47,660\nif you look at this certificate signed\nto your request, it's a bit of a mess,\n\n844\n00:42:47,660 --> 00:42:48,470\nisn't it?\n\n845\n00:42:48,470 --> 00:42:52,010\nIt doesn't look very legible.\n\n846\n00:42:52,010 --> 00:42:53,540\nLet me just bring this up in text edit.\n\n847\n00:42:57,035 --> 00:42:59,520\nOh shoot, that's not what I wanted.\n\n848\n00:43:04,697 --> 00:43:06,265\nThere we go.\n\n849\n00:43:06,265 --> 00:43:09,605\nAll right, so if we take a look at\nthis certificate signing request,\n\n850\n00:43:11,315 --> 00:43:14,295\nwe've got a little note that says Begin\nCertificate Request and then at the bottom\n\n851\n00:43:14,295 --> 00:43:17,855\nend Certificate Request, and\nin the middle is all this mess, okay?\n\n852\n00:43:17,855 --> 00:43:19,415\nWhat is that mess?\n\n853\n00:43:19,415 --> 00:43:21,400\nWell, the mess is a couple of things.\n\n854\n00:43:21,400 --> 00:43:25,408\nIt's all that data that I just typed in\na minute ago that's been encoded, and\n\n855\n00:43:25,408 --> 00:43:27,637\nthen it's got my key in there, all right?\n\n856\n00:43:27,637 --> 00:43:31,238\nAnd we're gonna send this up\nto our certificate vendor,\n\n857\n00:43:31,238 --> 00:43:35,892\nthey're gonna validate our information,\nand then they'll take this,\n\n858\n00:43:35,892 --> 00:43:40,870\nthey'll digitally sign it, and\nthey'll then send me my data back.\n\n859\n00:43:40,870 --> 00:43:46,790\nAnd I'll now have a private key and a\ndigitally signed public key that I'm ready\n\n860\n00:43:46,790 --> 00:43:51,380\nto be able to issue out to my customers to\nuse, and I can load that into my server.\n\n861\n00:43:52,420 --> 00:43:57,760\nNow when this goes out, this data,\nit needs to be securely\n\n862\n00:43:57,760 --> 00:44:00,950\ntransmitted over to the certificate\nprovider and they'll interpret it.\n\n863\n00:44:00,950 --> 00:44:03,940\nNow you can actually, there's a couple of\ndecoders out there on the Internet you can\n\n864\n00:44:03,940 --> 00:44:07,690\nfeed these things into, and it'll decode\nit, and show you your name, and city, and\n\n865\n00:44:07,690 --> 00:44:11,300\nall that, and the hash for the key,\nthe little fingerprint that it does.\n\n866\n00:44:11,300 --> 00:44:13,840\nSo you can do that if you want,\nit doesn't really matter, but\n\n867\n00:44:13,840 --> 00:44:15,890\nthis is what you're sending\nup to the provider.\n\n868\n00:44:15,890 --> 00:44:19,400\nYou normally save it in a file,\nsomething.csr, right?\n\n869\n00:44:19,400 --> 00:44:22,230\nBut the name doesn't matter,\nthe file extension doesn't matter, and\n\n870\n00:44:22,230 --> 00:44:24,240\na lot of providers these days don't\neven have you upload the file.\n\n871\n00:44:24,240 --> 00:44:28,610\nThey just have you copy and paste this,\nso you just copy it into your clipboard,\n\n872\n00:44:28,610 --> 00:44:31,890\ngo to their website, and\npaste it in, all right?\n\n873\n00:44:31,890 --> 00:44:36,013\nWhen it's done,\nthey will issue you an actual certificate,\n\n874\n00:44:36,013 --> 00:44:40,942\nall right, and the certificate will\nusually be a file that ends in .crt.\n\n875\n00:44:40,942 --> 00:44:46,692\nAnd what you have to do once that's done\nis, you come back into server manager and\n\n876\n00:44:46,692 --> 00:44:51,290\nin server manager,\nyou'll see your pending certificate.\n\n877\n00:44:51,290 --> 00:44:54,850\nAll right here it is,\nwww.lab.itpro.tv, it's pending.\n\n878\n00:44:54,850 --> 00:44:57,974\nThat means I made the request,\nI've sent it off, and I'm just waiting for\n\n879\n00:44:57,974 --> 00:44:59,320\nmy response.\n\n880\n00:44:59,320 --> 00:45:01,620\nWell, I'll get an email from DigiCert or\nwhoever saying,\n\n881\n00:45:01,620 --> 00:45:03,100\nhey your certificate's ready.\n\n882\n00:45:03,100 --> 00:45:04,770\nAnd you go to their site and\nyou download it.\n\n883\n00:45:04,770 --> 00:45:06,570\nAnd it's a CRT file.\n\n884\n00:45:06,570 --> 00:45:10,970\nAnd you come here, and\nyou just double click on that request.\n\n885\n00:45:10,970 --> 00:45:14,560\nAnd you drag that CRT file,\nand drop it right here.\n\n886\n00:45:14,560 --> 00:45:16,700\nAnd then your server's got both pieces.\n\n887\n00:45:16,700 --> 00:45:20,220\nIt's got the private key you\ngenerated when you made the CSR, and\n\n888\n00:45:20,220 --> 00:45:24,330\nnow it's got the digitally signed public\nkey we can use with our customers, and\n\n889\n00:45:24,330 --> 00:45:26,910\nnow it's ready to secure the system,\nand we can load it in.\n\n890\n00:45:29,200 --> 00:45:33,701\nNow, what if you used one of those\nwild cards that James mentioned?\n\n891\n00:45:33,701 --> 00:45:36,847\nIf you have a wild card you might\nhave already generated the CSR on\n\n892\n00:45:36,847 --> 00:45:38,470\nanother server.\n\n893\n00:45:38,470 --> 00:45:41,720\nAnd so here, I'm coming to maybe\nthis is my 50th server, and\n\n894\n00:45:41,720 --> 00:45:43,860\nI wanna use that same same wild card.\n\n895\n00:45:43,860 --> 00:45:47,870\nWell, the certificate is tied to the CSR.\n\n896\n00:45:47,870 --> 00:45:50,600\nSo, I don't generate a separate CSR for\neach server.\n\n897\n00:45:50,600 --> 00:45:51,730\nEach one would have a different key.\n\n898\n00:45:51,730 --> 00:45:55,350\nWhen you generate the CSR, it's\ngenerating a new private key right there.\n\n899\n00:45:55,350 --> 00:45:57,820\nAll 50 servers, if I generated 50 CSRs,\n\n900\n00:45:57,820 --> 00:46:01,600\nthere are 50 different keys,\nthat's not gonna work, right?\n\n901\n00:46:01,600 --> 00:46:05,350\nSo instead I would go to one server,\none of the servers in my network.\n\n902\n00:46:05,350 --> 00:46:09,600\nI would generate the CSR there, I would\ngo out and buy the certificate, and\n\n903\n00:46:09,600 --> 00:46:12,840\nwhen it came back on that one server,\nI would do this.\n\n904\n00:46:12,840 --> 00:46:17,530\nI would double click on the pending\nrequest, drag the CRT here and load it in.\n\n905\n00:46:17,530 --> 00:46:19,720\nBut on the other 49,\n\n906\n00:46:19,720 --> 00:46:24,170\nwhat I would do is, let me just\nget rid of this pending request.\n\n907\n00:46:25,230 --> 00:46:26,633\nI'll just leave that out of there,\nall right?\n\n908\n00:46:26,633 --> 00:46:30,645\nOn the other 49, I would come to\nthe screen and when you hit the plus sign,\n\n909\n00:46:30,645 --> 00:46:33,780\nit automatically goes into\nthat new certificate wizard.\n\n910\n00:46:35,100 --> 00:46:39,800\nInstead if you hit the gear,\nand hit show all certificates.\n\n911\n00:46:39,800 --> 00:46:41,050\nIt changes a little bit.\n\n912\n00:46:41,050 --> 00:46:44,290\nLike I can see my self signed\ncertificates right there.\n\n913\n00:46:44,290 --> 00:46:47,290\nAnd now when I hit the plus sign,\nI get more options.\n\n914\n00:46:47,290 --> 00:46:50,640\nI get the option to import\na certificate identity.\n\n915\n00:46:50,640 --> 00:46:56,140\nAnd if I choose that,\nI can import my private key and\n\n916\n00:46:56,140 --> 00:46:58,170\nthe certificate issued by the vendor.\n\n917\n00:46:58,170 --> 00:46:59,940\nThe private key, that's the CSR.\n\n918\n00:46:59,940 --> 00:47:03,910\nI drag the CSR and I drop it right there,\nand then the public key,\n\n919\n00:47:03,910 --> 00:47:07,565\nthat's the one that was signed by\nthe vendor, by the certificate authority.\n\n920\n00:47:07,565 --> 00:47:11,250\nThat's CRT file, and I drag it and I drop\nit right here, and then I can hit import.\n\n921\n00:47:12,380 --> 00:47:16,130\nIf there's a chain, if there's\nmore than one CA in that chain for\n\n922\n00:47:16,130 --> 00:47:19,260\nmy certificate, then I would drag\nthe other certificates and drop them here.\n\n923\n00:47:19,260 --> 00:47:20,990\nBut that's optional,\nyou don't have to do it.\n\n924\n00:47:20,990 --> 00:47:23,980\nAt a minimum,\nyou just need the CSR and the CRT.\n\n925\n00:47:23,980 --> 00:47:26,710\nSo don't throw away the CSR\nwhen you're done with it.\n\n926\n00:47:26,710 --> 00:47:29,320\nA lot of people do that and\nit's a big mistake.\n\n927\n00:47:29,320 --> 00:47:31,070\nYou upload the CSR to the CA, but\n\n928\n00:47:31,070 --> 00:47:34,490\nsave a copy for you, cause you'll need it\nif you wanna load that certificate on any\n\n929\n00:47:34,490 --> 00:47:38,000\nother servers down the road, but\nthis is where you'd go to throw those in.\n\n930\n00:47:38,000 --> 00:47:41,500\nThis is also where you'd go if you wanted\nto create a self sign certificate,\n\n931\n00:47:41,500 --> 00:47:45,940\nyou hit that gear and you hit show all\ncertificates, you hit the plus sign, and\n\n932\n00:47:45,940 --> 00:47:51,080\nyou see where you can create a certificate\nidentity, and we can hit that,\n\n933\n00:47:51,080 --> 00:47:54,440\nand now we're gonna create\na self signed certificate.\n\n934\n00:47:54,440 --> 00:47:58,041\nSee we're at Self Signed Root,\nand we can create one for\n\n935\n00:47:58,041 --> 00:48:01,960\nwww.lab.itpro.tv, and\nwe'll just sign it ourselves.\n\n936\n00:48:01,960 --> 00:48:05,250\nAnd we're using it for SSL, but you'll\nsee the other things that we could sign.\n\n937\n00:48:05,250 --> 00:48:07,630\nWe can use it for S/MIME for email.\n\n938\n00:48:07,630 --> 00:48:12,130\nWe could use it for SSL on a website,\nVPN, client or server.\n\n939\n00:48:12,130 --> 00:48:13,770\nCode signing for x code.\n\n940\n00:48:13,770 --> 00:48:17,110\nIf you're developing iOS applications\nthey have to be digitally signed so\n\n941\n00:48:17,110 --> 00:48:18,250\nyou could do that here.\n\n942\n00:48:18,250 --> 00:48:22,920\nSo we can take what we're gonna use it for\nand then we can create it.\n\n943\n00:48:22,920 --> 00:48:26,680\nYou can also override the defaults and\nchange things like where it's gonna go and\n\n944\n00:48:26,680 --> 00:48:27,500\nother functionalities.\n\n945\n00:48:27,500 --> 00:48:28,940\nThe certificate's got some interesting\n\n946\n00:48:30,050 --> 00:48:32,280\nfunctionality in here that\nyou can mess with so.\n\n947\n00:48:32,280 --> 00:48:35,180\nSerial numbers, validity periods,\nyou can change all of that.\n\n948\n00:48:36,280 --> 00:48:40,490\nAnd when it's done, you'll have this\nnew certificate in place, and so\n\n949\n00:48:40,490 --> 00:48:44,980\nmaybe I have this admin@lab.itpro.tv for\n\n950\n00:48:44,980 --> 00:48:47,930\nmy common name, I can punch in whatever\nI want that common name to be.\n\n951\n00:48:47,930 --> 00:48:55,231\nSo I want it to be www.lab.itpro.tv\nI'll punch in my organization.\n\n952\n00:48:56,275 --> 00:48:57,555\nMy organizational unit.\n\n953\n00:48:58,599 --> 00:49:00,082\nCity and state.\n\n954\n00:49:03,109 --> 00:49:05,810\nAll right.\nHere I can change my bit length.\n\n955\n00:49:05,810 --> 00:49:08,930\nIt defaults to 2048 which is the\nstrongest, that's normally what we want,\n\n956\n00:49:08,930 --> 00:49:11,110\nbut you can use weaker bit\nlengths if you need to.\n\n957\n00:49:11,110 --> 00:49:15,160\nNot a great idea but you can you\ncan also choose your algorithm.\n\n958\n00:49:15,160 --> 00:49:17,484\nRSA is the best one for right now,\nso we'll normally stick with that.\n\n959\n00:49:19,056 --> 00:49:21,260\nAnd then what it can be used for.\n\n960\n00:49:21,260 --> 00:49:25,410\nUsed for signatures, used for certificate\nsigning, encipher, decipher, right?\n\n961\n00:49:25,410 --> 00:49:27,370\nYou've got all sorts of\ndifferent options here.\n\n962\n00:49:27,370 --> 00:49:30,760\nBecause I told it web server earlier,\nit's defaulted to the web server options,\n\n963\n00:49:30,760 --> 00:49:35,640\nand that's good enough for me, but you can\nspecify what that's gonna be used for.\n\n964\n00:49:37,620 --> 00:49:40,440\nAnd then when it's done.\n\n965\n00:49:40,440 --> 00:49:43,290\n[LAUGH] There we go.\n\n966\n00:49:43,290 --> 00:49:45,520\nWhen it's done,\nit will generate the certificate for us.\n\n967\n00:49:45,520 --> 00:49:48,190\nSo it's just asking a couple more\nquestions here about constraints.\n\n968\n00:49:48,190 --> 00:49:51,350\nMost of these are options that we don't\nwant to change, but you can go in and\n\n969\n00:49:51,350 --> 00:49:52,860\nadd things like extensions.\n\n970\n00:49:52,860 --> 00:49:55,080\nWhich are for custom use certificates.\n\n971\n00:49:55,080 --> 00:50:00,140\nIf you need special values attached in\nthere for custom use like, if you have RSA\n\n972\n00:50:00,140 --> 00:50:03,700\nsecure ID tokens, those little key chains\nwith the security codes that appear and\n\n973\n00:50:03,700 --> 00:50:07,180\ndisappear, those are use for\nauthentication mechanisms.\n\n974\n00:50:07,180 --> 00:50:08,920\nThey use certificates just like these,\n\n975\n00:50:08,920 --> 00:50:12,640\nbut they have special extensions on\nthem that support what their use is.\n\n976\n00:50:12,640 --> 00:50:13,840\nI'm gonna leave these at the default,\n\n977\n00:50:13,840 --> 00:50:16,200\nI don't wanna dive into\nany of that crazy stuff.\n\n978\n00:50:16,200 --> 00:50:17,070\nThere we go.\n\n979\n00:50:17,070 --> 00:50:19,070\nSo now it's generated that certificate,\nand\n\n980\n00:50:19,070 --> 00:50:21,640\nI've got a new self signed certificate.\n\n981\n00:50:21,640 --> 00:50:24,810\nIt's warning here about whether or not I\nwant to add it to my key chain, and I do.\n\n982\n00:50:25,910 --> 00:50:30,850\nAnd now I've got it right there,\nwww.lab.itpro.tv self signed.\n\n983\n00:50:30,850 --> 00:50:35,090\nAnd I can tell my services, hey, I want\nyou guys to start using that certificate.\n\n984\n00:50:35,090 --> 00:50:40,490\nStart using that one because it's the one\nthat's got this custom post name or\n\n985\n00:50:40,490 --> 00:50:42,050\nwhatever on it.\n\n986\n00:50:42,050 --> 00:50:46,211\nSo, pretty easy to work with these things,\nyou'll typically wanna go and buy one from\n\n987\n00:50:46,211 --> 00:50:49,982\nan actual provider though to make sure\nthat everyone out there trusts them so.\n\n988\n00:50:51,993 --> 00:50:56,030\nJames in the chat room asked about can you\nget a list of ciphers the server is using.\n\n989\n00:50:57,050 --> 00:51:00,920\nFrom the GUI you can't, but\nfrom the command line you can.\n\n990\n00:51:00,920 --> 00:51:02,840\nAnd I know where you're going on that.\n\n991\n00:51:02,840 --> 00:51:08,910\nWe've had several exploits lately like the\nGhost was one of them, and what was the?\n\n992\n00:51:08,910 --> 00:51:13,030\nI can't believe I'm forgetting it, the big\none that was just a few months ago.\n\n993\n00:51:13,030 --> 00:51:16,190\nThere have been a few exploits where\nhackers have targeted the weaker\n\n994\n00:51:16,190 --> 00:51:17,800\nciphers of the server.\n\n995\n00:51:17,800 --> 00:51:20,340\nApple's been really good about\npushing patches out for that, so\n\n996\n00:51:20,340 --> 00:51:23,440\nif you're up to date, they've already\ntrimmed off those weaker ciphers.\n\n997\n00:51:23,440 --> 00:51:27,020\nBut there is a command line utility\nyou can run to find that out.\n\n998\n00:51:27,020 --> 00:51:30,010\nThe Qualis scan guard has\na little script that you can use.\n\n999\n00:51:30,010 --> 00:51:30,890\nThere's a few others.\n\n1000\n00:51:30,890 --> 00:51:32,570\nI'll try to find one and\nput one in the show notes.\n\n1001\n00:51:32,570 --> 00:51:33,780\nI don't have one off hand.\n\n1002\n00:51:33,780 --> 00:51:39,860\nBut you can drop to the terminal and you\ncan find that information right in there.\n\n1003\n00:51:39,860 --> 00:51:40,440\nAll right.\nWell,\n\n1004\n00:51:40,440 --> 00:51:42,130\nI think that's all I've\ngot on certificates.\n\n1005\n00:51:42,130 --> 00:51:44,380\nWell let's see do I have anything else?\n\n1006\n00:51:44,380 --> 00:51:45,420\nYeah that's about it.\n\n1007\n00:51:45,420 --> 00:51:49,430\nWe are gonna revisit certificates later on\nin the show as we start to do things like\n\n1008\n00:51:49,430 --> 00:51:54,750\nopen directory and some of the other\ntechnologies that use SSL and\n\n1009\n00:51:54,750 --> 00:51:56,730\ncertificate based authentication.\n\n1010\n00:51:56,730 --> 00:51:59,460\nSo we'll get to see those a little\nbit more, but for the most part\n\n1011\n00:51:59,460 --> 00:52:02,400\nthose are the certificate functions\nthey want you to know for the exam.\n\n1012\n00:52:03,672 --> 00:52:05,750\nAl lright so\nthat's a good spot to wrap things up.\n\n1013\n00:52:05,750 --> 00:52:08,810\nLet me remind you guys,\nif you have questions on any of this,\n\n1014\n00:52:08,810 --> 00:52:13,437\nlive during the show you can jump into\nour chatroom at http://itpro.tv/live, and\n\n1015\n00:52:13,437 --> 00:52:16,130\nyou'll see the chatroom\nright beneath the video.\n\n1016\n00:52:16,130 --> 00:52:19,030\nWe love it when people jump in there and\npost questions or answers.\n\n1017\n00:52:19,030 --> 00:52:19,790\nJames Heartbleed.\n\n1018\n00:52:19,790 --> 00:52:20,710\nThat's the one I was thinking of.\n\n1019\n00:52:20,710 --> 00:52:21,530\nJames just posted in there.\n\n1020\n00:52:21,530 --> 00:52:23,710\nHeartbleed was the exploit\na few months ago.\n\n1021\n00:52:23,710 --> 00:52:28,170\nThat targeted weak SSL cyphers and\nyou want those disabled.\n\n1022\n00:52:28,170 --> 00:52:28,960\nSo those do happen.\n\n1023\n00:52:30,390 --> 00:52:33,850\nSo live during the show, make use of\nthat chatroom, it's a great resource.\n\n1024\n00:52:33,850 --> 00:52:36,580\nIf you're watching this recorded,\nwe also have the Q and A forums.\n\n1025\n00:52:36,580 --> 00:52:38,430\nThey're there to cover you\neven when we're not live.\n\n1026\n00:52:38,430 --> 00:52:42,340\nAt the top of every page on itpro.tv\nyou'll see a link that says Q and A.\n\n1027\n00:52:42,340 --> 00:52:43,080\nClick on it.\n\n1028\n00:52:43,080 --> 00:52:46,300\nIt'll you take into the forums,\nyou can post your questions there.\n\n1029\n00:52:46,300 --> 00:52:47,920\nWe monitor and answer after the show.\n\n1030\n00:52:47,920 --> 00:52:49,750\nIt's a great resource.\n\n1031\n00:52:49,750 --> 00:52:51,750\nMake the best use of it.\n\n1032\n00:52:51,750 --> 00:52:53,770\nAll right, well I hope you\nguys enjoyed today's episode.\n\n1033\n00:52:53,770 --> 00:52:57,963\nSigning off for ITProTV, I'm Don Pezet,\nand I'll see you next time.\n\n1034\n00:52:57,963 --> 00:53:07,963\n[MUSIC]\n\n1035\n00:53:11,738 --> 00:53:17,335\n[SOUND]\n\n",
          "vimeoId": "121989080"
        },
        {
          "description": "In this episode, Don describes the three primary methods for monitoring an OS X Server to ensure it is online and healthy. He covers logging for past monitoring, statistics for real-time monitoring, and alerts for future monitoring.",
          "length": "1427",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-1-5-monitoring_osx_server-031115-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-1-5-monitoring_osx_server-031115-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-1-5-monitoring_osx_server-031115-1-sm.jpg",
          "title": "Monitoring OS X Server",
          "transcript": "1\n00:00:00,000 --> 00:00:10,000\n[MUSIC]\n\n2\n00:00:22,826 --> 00:00:33,243\n[MUSIC]\n\n3\n00:00:33,243 --> 00:00:35,971\nAll right, good morning,\ngood afternoon, and good evening.\n\n4\n00:00:35,971 --> 00:00:38,200\nWelcome back to another\nepisode of ITProTV.\n\n5\n00:00:38,200 --> 00:00:40,260\nI'm your host, Don Pezet,\n\n6\n00:00:40,260 --> 00:00:44,850\nback again with another episode of\nApple Certified Technical Coordinator.\n\n7\n00:00:44,850 --> 00:00:47,705\nI'm so emotional about ACTC,\nI'm getting choked up here.\n\n8\n00:00:47,705 --> 00:00:51,930\n[LAUGH] That's the passion that\nwe bring [LAUGH] at ITProTV, or\n\n9\n00:00:51,930 --> 00:00:54,380\nthe fact that I can't swallow my\nown spit in any orderly fashion.\n\n10\n00:00:54,380 --> 00:00:58,320\nSo [LAUGH] now let's jump\ninto our content today.\n\n11\n00:00:58,320 --> 00:01:02,240\nWe got a great episode cuz we're gonna\ntalk about monitoring our server, and\n\n12\n00:01:02,240 --> 00:01:04,760\nlet me tell you,\nthis is a really important piece.\n\n13\n00:01:04,760 --> 00:01:07,710\nWe spend a lot of time getting\nservers set up, right.\n\n14\n00:01:07,710 --> 00:01:11,300\nGetting all the services configured,\nthe security set, all the functions and\n\n15\n00:01:11,300 --> 00:01:13,390\nsoftware copied around and put in place.\n\n16\n00:01:13,390 --> 00:01:15,670\nAnd then we turn it loose on the wild,\nright.\n\n17\n00:01:15,670 --> 00:01:17,370\nWe let our end users get in there.\n\n18\n00:01:17,370 --> 00:01:21,720\nAnd once the end users get in there, it is\namazing the amount of damage they can do,\n\n19\n00:01:21,720 --> 00:01:25,430\nwe need some way to keep an eye\non our server, to watch it,\n\n20\n00:01:25,430 --> 00:01:28,590\nto make sure that things are moving the\nway that they're supposed to be moving,\n\n21\n00:01:28,590 --> 00:01:31,930\nand if things aren't,\nif something's going wrong, ideally,\n\n22\n00:01:31,930 --> 00:01:34,890\nwe wanna know about it\nbefore end users do.\n\n23\n00:01:34,890 --> 00:01:39,040\nSo we need some kind of systems in place\nto do that, and Apple's thought of that.\n\n24\n00:01:39,040 --> 00:01:42,140\nWe have a lot of that right here\nin our very own server app.\n\n25\n00:01:42,140 --> 00:01:44,190\nSo that's what we're gonna\nlook at in this episode.\n\n26\n00:01:44,190 --> 00:01:48,890\nWhat are the tools that Apple\ngives us to monitor our server.\n\n27\n00:01:48,890 --> 00:01:52,340\nNow the way I look at it is, it's kind\nof divided up into a few pieces, and\n\n28\n00:01:52,340 --> 00:01:56,420\nit always reminds me of that\nCharles Dickens, A Christmas Carol.\n\n29\n00:01:56,420 --> 00:01:57,600\nRight, where you've got the.\n\n30\n00:01:57,600 --> 00:02:00,400\nThe ghost of Christmas past,\npresent, future.\n\n31\n00:02:00,400 --> 00:02:02,310\nThat's kind of how we monitor our servers,\nright?\n\n32\n00:02:02,310 --> 00:02:04,620\nSo we'll be Ebenezer Scrooge for\n\n33\n00:02:04,620 --> 00:02:08,320\nthe episode and walk through\n[LAUGH] our life in perspective.\n\n34\n00:02:08,320 --> 00:02:11,290\nAnd we'll start with that ghost\nof Christmas past, right?\n\n35\n00:02:11,290 --> 00:02:15,520\nHow do we see what's already\nhappened on our server?\n\n36\n00:02:15,520 --> 00:02:16,790\nYou get a call from a user and\n\n37\n00:02:16,790 --> 00:02:21,310\nthey say, hey I can't log into my email,\nor is the server down.\n\n38\n00:02:21,310 --> 00:02:22,330\nI can't get into it.\n\n39\n00:02:22,330 --> 00:02:24,740\nRight.\nHow do we look to see what happened?\n\n40\n00:02:24,740 --> 00:02:26,070\nSome problem happened.\n\n41\n00:02:26,070 --> 00:02:27,400\nAnd this is the thing with problems.\n\n42\n00:02:27,400 --> 00:02:28,640\nA lot of times they're intermittent.\n\n43\n00:02:28,640 --> 00:02:30,990\nThe problem happened, and now it's gone.\n\n44\n00:02:30,990 --> 00:02:32,660\nHey, Don, last night I\ncouldn't get into the website.\n\n45\n00:02:32,660 --> 00:02:33,580\nThis morning it's working fine.\n\n46\n00:02:34,800 --> 00:02:35,560\nOkay?\nGreat,\n\n47\n00:02:35,560 --> 00:02:37,430\nwell let me go look at what's wrong.\n\n48\n00:02:37,430 --> 00:02:40,800\nWebsite looks just fine to me,\nI guess it was a glitch or a fluke.\n\n49\n00:02:40,800 --> 00:02:43,500\nWell wouldn't it be nice\nto look into the past?\n\n50\n00:02:43,500 --> 00:02:47,460\nSee the past of our server and what the\nworld would be like without them [LAUGH].\n\n51\n00:02:47,460 --> 00:02:52,109\nSo we can do that using the logging\nsystem, right, inside of our server app.\n\n52\n00:02:52,109 --> 00:02:56,273\nLet's take a look at this server that I've\ngot, so here is my server that I bought up\n\n53\n00:02:56,273 --> 00:03:00,140\nfor the show, and right here into\nthe servers section, you'll see alerts,\n\n54\n00:03:00,140 --> 00:03:02,340\ncertificates, logs, and stats.\n\n55\n00:03:02,340 --> 00:03:04,570\nI'm concerned about logs.\n\n56\n00:03:04,570 --> 00:03:08,400\nIf I go to logs,\nI'm gonna see the log files for my system.\n\n57\n00:03:08,400 --> 00:03:11,340\nWhat's going on in my system,\nnot just now.\n\n58\n00:03:11,340 --> 00:03:12,880\nBut in the past.\n\n59\n00:03:12,880 --> 00:03:15,930\nThis is my way to see where\nthe server has been in the past.\n\n60\n00:03:15,930 --> 00:03:18,500\nAnd if somebody says, hey last night\nat 3 AM things weren't working so\n\n61\n00:03:18,500 --> 00:03:20,630\nwell I can jump in here.\n\n62\n00:03:20,630 --> 00:03:22,163\nAnd I can look at these log messages.\n\n63\n00:03:22,163 --> 00:03:24,120\nAnd I can see right here, 10:59 AM.\n\n64\n00:03:24,120 --> 00:03:26,090\nThat's what time it is right now.\n\n65\n00:03:26,090 --> 00:03:31,570\nSo if I start scrolling back, I can look\nto see what was going on earlier, right?\n\n66\n00:03:31,570 --> 00:03:33,030\nAnd even days in the past.\n\n67\n00:03:33,030 --> 00:03:36,130\nToday is March 10th, but\nI am now back into March 9th.\n\n68\n00:03:36,130 --> 00:03:38,730\nAnd go back even further and\nsee those previous days.\n\n69\n00:03:38,730 --> 00:03:39,900\nThere's March 8th.\n\n70\n00:03:39,900 --> 00:03:41,110\nAnd see what was going on.\n\n71\n00:03:41,110 --> 00:03:41,680\nSo hey,\n\n72\n00:03:41,680 --> 00:03:45,150\nlast night at 10 o'clock I was trying\nto get to the website and I couldn't.\n\n73\n00:03:45,150 --> 00:03:48,630\nWell, let me go back here to\n10 o'clock last night, and\n\n74\n00:03:48,630 --> 00:03:50,520\nsee what log messages were generated.\n\n75\n00:03:50,520 --> 00:03:53,070\nThe log messages can often steer\nus in the right direction,\n\n76\n00:03:53,070 --> 00:03:55,510\ntelling us where there's a problem.\n\n77\n00:03:55,510 --> 00:03:59,720\nNow these log messages,\nare no different than the ones displayed\n\n78\n00:03:59,720 --> 00:04:04,580\nin the console app that's a part of\nMac OS, even if you're not running server.\n\n79\n00:04:04,580 --> 00:04:07,930\nSo even if you're not running server you\ncan just launch console, and you can get\n\n80\n00:04:07,930 --> 00:04:11,520\ninto all of these various logs,\nthey're all just buried away in here.\n\n81\n00:04:11,520 --> 00:04:15,390\nThe difference though, is here you\nhave to know what you're looking for.\n\n82\n00:04:15,390 --> 00:04:19,830\nSo like if I want to look for a website\nproblem, when I go into the console log,\n\n83\n00:04:19,830 --> 00:04:22,980\nI have to know that the website\nis actually powered by Apache.\n\n84\n00:04:22,980 --> 00:04:26,140\nAnd I can drill down and I can find\nApache, and I can start to take a look at\n\n85\n00:04:26,140 --> 00:04:29,450\nthe error logs for my Apache server,\nwhich is surprisingly full.\n\n86\n00:04:29,450 --> 00:04:32,520\nLooks like I've got quite a bit\nof problems [LAUGH] in mine.\n\n87\n00:04:32,520 --> 00:04:35,170\nSo you can jump in there and\nsee that information and\n\n88\n00:04:35,170 --> 00:04:36,460\nstart to troubleshoot it out.\n\n89\n00:04:36,460 --> 00:04:39,890\nWell the server app makes it a lot easier.\n\n90\n00:04:39,890 --> 00:04:42,480\nAt the bottom of the server app,\nthere's this drop down box.\n\n91\n00:04:42,480 --> 00:04:43,270\nAnd you can click on it.\n\n92\n00:04:43,270 --> 00:04:46,410\nAnd that lets you pick\nthe log you want to look at.\n\n93\n00:04:46,410 --> 00:04:51,460\nThe default log, the one that it goes into\nright here, is called the system log.\n\n94\n00:04:51,460 --> 00:04:54,690\nAnd that's a log for the whole system,\nfor the whole operating system.\n\n95\n00:04:54,690 --> 00:04:56,570\nYou get a lot of data in there.\n\n96\n00:04:56,570 --> 00:04:58,220\nSome of it related to server.\n\n97\n00:04:58,220 --> 00:04:59,730\nSome of it not.\n\n98\n00:04:59,730 --> 00:05:02,410\nThe rest of this let's us filter it down.\n\n99\n00:05:02,410 --> 00:05:03,540\nAll right.\n\n100\n00:05:03,540 --> 00:05:04,720\nSee these grey entries?\n\n101\n00:05:04,720 --> 00:05:06,880\nThe grey entries are a category name.\n\n102\n00:05:06,880 --> 00:05:10,650\nSo I've got a category called DNS,\na category called file sharing.\n\n103\n00:05:10,650 --> 00:05:15,190\nAnd inside of those categories,\nI may have one or more logs.\n\n104\n00:05:15,190 --> 00:05:19,450\nWhen I look at DHCP,\nall I have is a service log and that's it.\n\n105\n00:05:19,450 --> 00:05:22,660\nBut when I look at profile manager,\nI've got a migration log,\n\n106\n00:05:22,660 --> 00:05:25,200\na server helper log and service log.\n\n107\n00:05:25,200 --> 00:05:27,210\nNormally it's the service\nlog that we want.\n\n108\n00:05:27,210 --> 00:05:30,770\nThat's the log messages for\nall the stuff that that server has done,\n\n109\n00:05:30,770 --> 00:05:34,840\nif you don't see any logs, that usually\nmeans that service isn't turned on.\n\n110\n00:05:34,840 --> 00:05:39,900\nSo if I don't see any DNS logs,\nI'm probably not running DNS.\n\n111\n00:05:39,900 --> 00:05:41,450\nBut if I go over here and I turn it on,\n\n112\n00:05:41,450 --> 00:05:45,700\nso I go under Advanced > DNS and\nI'll turn that on.\n\n113\n00:05:45,700 --> 00:05:49,020\nNo that I've turned on DNS,\nit's gonna start logging.\n\n114\n00:05:49,020 --> 00:05:54,080\nAnd when I go back up here to my logs,\nI'll be able to hit that drop down box,\n\n115\n00:05:54,080 --> 00:05:59,040\nand now DNS that had nothing before,\nhas a service log, and when I go in there,\n\n116\n00:05:59,040 --> 00:06:03,520\nit's gonna filter my system logs so\nI only see DNS related events.\n\n117\n00:06:03,520 --> 00:06:06,550\nThat really helps with troubleshooting,\nall right, and\n\n118\n00:06:06,550 --> 00:06:11,050\nI can see right here that as of 11:03 AM,\nDNS came up.\n\n119\n00:06:11,050 --> 00:06:13,240\nIt's got one zone for the local host.\n\n120\n00:06:13,240 --> 00:06:14,650\nAnd it's running.\n\n121\n00:06:14,650 --> 00:06:18,050\nAnd as I start performing\nactivities inside of DNS,\n\n122\n00:06:18,050 --> 00:06:19,650\nlog entries are made for that.\n\n123\n00:06:19,650 --> 00:06:23,925\nSo, if I go inside of DNS here,\nand add a new record for\n\n124\n00:06:23,925 --> 00:06:28,775\nwww.lab.itpro.tv and\nI punch in an address of whatever,\n\n125\n00:06:28,775 --> 00:06:34,930\nI'll just make one up here,\n1.1.1.1 and I create that, right?\n\n126\n00:06:34,930 --> 00:06:37,210\nI see that it was created,\nit's right there.\n\n127\n00:06:37,210 --> 00:06:39,740\nBut a lot of stuff happened\nbehind the scenes.\n\n128\n00:06:39,740 --> 00:06:43,630\nAnd if I go to my logs,\nnow I've got additional information here.\n\n129\n00:06:43,630 --> 00:06:47,270\nI can see it created a reverse\nlookup zone for 1.1.1.\n\n130\n00:06:47,270 --> 00:06:49,650\nIt created a forward lookup zone,\n\n131\n00:06:49,650 --> 00:06:53,450\nwhich is in here somewhere,\nfor lab.itpro.tv right there.\n\n132\n00:06:53,450 --> 00:06:55,770\nAnd I can it registered that host,\n\n133\n00:06:55,770 --> 00:07:00,300\nwhich was www, which that'll be\nin here somewhere else also.\n\n134\n00:07:00,300 --> 00:07:03,390\nNow, I'm having a hard\ntime spotting that one.\n\n135\n00:07:03,390 --> 00:07:07,870\nThe more data that's in the logs,\nthe harder it becomes to find entries, so\n\n136\n00:07:07,870 --> 00:07:10,770\nsometimes visually scanning\nit is not appropriate.\n\n137\n00:07:10,770 --> 00:07:13,210\nVisually scanning has one big advantage.\n\n138\n00:07:13,210 --> 00:07:15,590\nYou can see not just the message\nyou're looking for, but\n\n139\n00:07:15,590 --> 00:07:17,180\nthe ones above it and below it.\n\n140\n00:07:17,180 --> 00:07:20,660\nOften times it's related messages that\ngo along with what you're looking for.\n\n141\n00:07:20,660 --> 00:07:22,940\nSo a visual scan is what\nI normally try first.\n\n142\n00:07:22,940 --> 00:07:28,330\nBut if I just cannot find what I'm looking\nfor, like I don't see www.lab.itpro.tv.\n\n143\n00:07:28,330 --> 00:07:31,590\nI'm sure if I focused on it I could\nfind it, but just glancing like I am,\n\n144\n00:07:31,590 --> 00:07:32,550\nI can't see it.\n\n145\n00:07:32,550 --> 00:07:36,550\nWell, I've got a search box right here,\nand I can just search, for www,\n\n146\n00:07:36,550 --> 00:07:41,860\nand that should filter my view down,\nso that I can find it.\n\n147\n00:07:41,860 --> 00:07:45,920\nAnd apparently it's not returning\nanything, so I may not see it in the log,\n\n148\n00:07:45,920 --> 00:07:47,540\nbecause it may not be there.\n\n149\n00:07:47,540 --> 00:07:50,710\nSo I'm not seeing an entry for that,\nit may just not have turned up yet.\n\n150\n00:07:50,710 --> 00:07:52,770\nThese logs do dynamically load.\n\n151\n00:07:52,770 --> 00:07:54,650\nBut it's not as fast as the console app.\n\n152\n00:07:54,650 --> 00:07:56,800\nThe console app shows stuff really fast.\n\n153\n00:07:56,800 --> 00:07:59,170\nSo sometimes it does take a moment for\nthings to turn up.\n\n154\n00:07:59,170 --> 00:08:01,399\nBut yeah,\nhere I don't see this one just yet.\n\n155\n00:08:01,399 --> 00:08:04,476\nBut that search field can really\nhelp with narrowing things down.\n\n156\n00:08:04,476 --> 00:08:06,705\nFinding exactly what it is\nthat you want to look for.\n\n157\n00:08:06,705 --> 00:08:08,644\nLet me search for\nsomething that I know is in there.\n\n158\n00:08:08,644 --> 00:08:10,479\nThere, Lab ITProTV.\n\n159\n00:08:10,479 --> 00:08:14,587\nSo now I highlighted that in yellow so\nI can see where it is, and\n\n160\n00:08:14,587 --> 00:08:17,590\nI can still see what's above and\nbeneath it.\n\n161\n00:08:17,590 --> 00:08:20,720\nRight so it makes it quick and\neasy to find that information in log file.\n\n162\n00:08:20,720 --> 00:08:23,240\nIn a small log file like this,\nit's no big deal.\n\n163\n00:08:23,240 --> 00:08:25,730\nBut if i'm looking at something\nlike my full on system log.\n\n164\n00:08:27,060 --> 00:08:30,650\nThe system log has a ton of stuff in it,\nthousands of entries in here,\n\n165\n00:08:30,650 --> 00:08:33,880\nand it grows with each passing day.\n\n166\n00:08:33,880 --> 00:08:36,410\nSo if I'm looking for\nsomething specifically,\n\n167\n00:08:36,410 --> 00:08:39,740\nlike some kind of error message\nI could come in here and\n\n168\n00:08:39,740 --> 00:08:44,280\ntype what I'm looking for and\nit will find it for me and highlight it.\n\n169\n00:08:44,280 --> 00:08:46,220\nI just searched for the word error, right?\n\n170\n00:08:46,220 --> 00:08:49,540\nAnd so there it is, there's that\nfirst instance of the word error and\n\n171\n00:08:49,540 --> 00:08:50,960\nit's going to highlight that throughout.\n\n172\n00:08:50,960 --> 00:08:54,760\nSo nice easy way to jump in and\nfind things alright.\n\n173\n00:08:54,760 --> 00:08:57,490\nRemember you still can use\nthe console app if you want.\n\n174\n00:08:57,490 --> 00:08:59,420\nIt's there and you know it always works.\n\n175\n00:08:59,420 --> 00:09:01,660\nBut right here in the server\nwrap we can do it too.\n\n176\n00:09:01,660 --> 00:09:06,230\nAnd that's pretty handy because if\nyou're managing a remote server,\n\n177\n00:09:06,230 --> 00:09:09,450\nyou go into the server app on your client,\non your desktop or laptop.\n\n178\n00:09:09,450 --> 00:09:11,830\nYou point it at the server,\nand you go to Logs.\n\n179\n00:09:11,830 --> 00:09:14,580\nNow you're looking at\nthe logs on the server.\n\n180\n00:09:14,580 --> 00:09:16,640\nVersus when you run the console app.\n\n181\n00:09:16,640 --> 00:09:21,230\nIf I fire up the console it's\nshowing me my system, right?\n\n182\n00:09:21,230 --> 00:09:22,540\nMy system right here.\n\n183\n00:09:22,540 --> 00:09:24,740\nAnd I would need to go and\nconnect to another system.\n\n184\n00:09:24,740 --> 00:09:27,770\nWell, if you look at your menu options\nright here you'll see where you can open\n\n185\n00:09:27,770 --> 00:09:32,670\nsaved logs, but they don't really have\na way to connect to a different system.\n\n186\n00:09:32,670 --> 00:09:35,620\nSo that's a big difference between\nthe console app and the server app.\n\n187\n00:09:35,620 --> 00:09:38,610\nServer app lets us do some easy\nremote monitoring of logs.\n\n188\n00:09:40,342 --> 00:09:43,050\nAll right,\neach of your services does maintain a log.\n\n189\n00:09:43,050 --> 00:09:46,340\nIf the service is on at a minimum\nwe will have service log.\n\n190\n00:09:46,340 --> 00:09:49,500\nBut then it may have additional logs\ntoo depending on what it's doing.\n\n191\n00:09:49,500 --> 00:09:52,000\nSo, expect to see those logs in there.\n\n192\n00:09:52,000 --> 00:09:53,720\nSome of them have dedicated error logs.\n\n193\n00:09:53,720 --> 00:09:56,780\nNot all of them do It's nice when they\ndo though because you can jump in and\n\n194\n00:09:56,780 --> 00:10:00,400\njust see the errors and that typically\nhighlights things that need to be fixed.\n\n195\n00:10:00,400 --> 00:10:03,180\nSo I know here's problems with\nthis service, I need to go in and\n\n196\n00:10:03,180 --> 00:10:04,610\nwork on these.\n\n197\n00:10:04,610 --> 00:10:07,390\nSo when somebody says to you hey at\nten o'clock last night the website\n\n198\n00:10:07,390 --> 00:10:08,440\nwasn't working.\n\n199\n00:10:08,440 --> 00:10:10,390\nYou can jump right into\nyour web server logs,\n\n200\n00:10:10,390 --> 00:10:13,770\nyou can look at ten o'clock last night and\nsee what was going on in the server.\n\n201\n00:10:13,770 --> 00:10:16,350\nEven though it might be\nworking fine right now\n\n202\n00:10:16,350 --> 00:10:17,870\nyou can see what was going on back then.\n\n203\n00:10:19,170 --> 00:10:22,160\nSo that is our ghost of future past.\n\n204\n00:10:22,160 --> 00:10:25,570\nNo not future past, ghost of,\nI don't know whatever your past is.\n\n205\n00:10:25,570 --> 00:10:29,270\nSo that's that one,\nlooking at what's already happened.\n\n206\n00:10:29,270 --> 00:10:32,130\nWhat if I want to see\nwhat's going on right now,\n\n207\n00:10:32,130 --> 00:10:35,430\nright at this very moment I\nget a call from somebody and\n\n208\n00:10:35,430 --> 00:10:39,470\nthey say hey the website is really slow\nright now what the heck is going on.\n\n209\n00:10:39,470 --> 00:10:42,870\nWell I can look at my logs but\n\n210\n00:10:42,870 --> 00:10:45,720\nit might be slow not because of\nan error or other thing like that.\n\n211\n00:10:45,720 --> 00:10:48,720\nSo in my logs,\nthe logs do go to right now, so\n\n212\n00:10:48,720 --> 00:10:53,500\nlooking at the clock it's 11:10 on my\nclock so if I go to my system log,\n\n213\n00:10:53,500 --> 00:10:58,800\nmy newest log messages here at the bottom\n11:07 it's a couple of minutes ago.\n\n214\n00:10:58,800 --> 00:11:03,120\nSo it's not necessarily showing me what's\ngoing on right now at this very moment.\n\n215\n00:11:03,120 --> 00:11:03,640\nAll right.\n\n216\n00:11:03,640 --> 00:11:06,430\nSo when I get that call saying\nhey the server's slow right now\n\n217\n00:11:06,430 --> 00:11:08,800\nwell is the server actually slow?\n\n218\n00:11:08,800 --> 00:11:12,080\nIs there some kind of performance\nbottleneck that's going on right now?\n\n219\n00:11:12,080 --> 00:11:15,540\nWell, on the server itself I can\nfire up the activity monitor, and\n\n220\n00:11:15,540 --> 00:11:18,530\nthe activity monitor shows\nyou all sorts of good stuff.\n\n221\n00:11:18,530 --> 00:11:21,810\nBut we also have an activity monitor lite,\n\n222\n00:11:21,810 --> 00:11:25,870\na more simplified activity monitor\nbuilt right into the server app.\n\n223\n00:11:25,870 --> 00:11:29,966\nAnd this is how we see our\nour ghost of present, right?\n\n224\n00:11:29,966 --> 00:11:33,920\nAnd what's going on right now\nin the world on our server.\n\n225\n00:11:33,920 --> 00:11:35,990\nAnd that's under the stats menu.\n\n226\n00:11:35,990 --> 00:11:40,270\nIf I go into the server and I go to stats,\nhere I'll see what's going on in my server\n\n227\n00:11:40,270 --> 00:11:43,740\nand it defaults to showing\nme processor usage.\n\n228\n00:11:43,740 --> 00:11:46,290\nAnd it's showing me processor\nusage in real time.\n\n229\n00:11:46,290 --> 00:11:50,180\nI can see what my processor\nusage is at right now, okay?\n\n230\n00:11:50,180 --> 00:11:54,120\nBut it's also showing me processor\nusage in the past 24 hours.\n\n231\n00:11:54,120 --> 00:11:58,120\nWell, my server was off all this time,\nso I don't have any data there, but\n\n232\n00:11:58,120 --> 00:12:00,840\nI turned it on this morning\nsometime around 9 AM and\n\n233\n00:12:00,840 --> 00:12:04,040\nit's been logging even though\nthe server app was closed.\n\n234\n00:12:04,040 --> 00:12:05,790\nIt's logging that in the background.\n\n235\n00:12:05,790 --> 00:12:08,160\nAnd so\nit's got a record of what's going on.\n\n236\n00:12:08,160 --> 00:12:13,870\nHang on let me move this window around a\nbit cause my head is covering part of it.\n\n237\n00:12:13,870 --> 00:12:15,420\nThere you go, now you can see it.\n\n238\n00:12:15,420 --> 00:12:19,800\nSo you can see that where it's\ntracking that in real time.\n\n239\n00:12:19,800 --> 00:12:24,340\nWe see the little lines here it's\nshowing me CPU utilization and\n\n240\n00:12:24,340 --> 00:12:28,090\nit's showing me system and\nuser, all right?\n\n241\n00:12:28,090 --> 00:12:31,360\nSystem, that's the operating system and\nthe CPU that it's using.\n\n242\n00:12:31,360 --> 00:12:35,575\nUser, that's the CPU that\nuser processors generated.\n\n243\n00:12:35,575 --> 00:12:37,615\nSo the programs I'm running,\n\n244\n00:12:37,615 --> 00:12:41,105\nthe user access on the system,\nwhat CPU is that generating?\n\n245\n00:12:41,105 --> 00:12:44,105\nCause you need to know where\nthe source of your bottleneck is.\n\n246\n00:12:44,105 --> 00:12:47,765\nNow CPU is just one of\nthe things it can monitor.\n\n247\n00:12:47,765 --> 00:12:50,145\nIt can monitor other things too.\n\n248\n00:12:50,145 --> 00:12:53,045\nIf we look right here at the bottom\nwe have this drop down box and\n\n249\n00:12:53,045 --> 00:12:56,730\nyou can pick from a few different things.\n\n250\n00:12:56,730 --> 00:13:01,300\nWhen it comes to monitoring a server,\nwe always talk about the big 4,\n\n251\n00:13:01,300 --> 00:13:02,534\nthe 4 things we need to monitor.\n\n252\n00:13:02,534 --> 00:13:04,292\nCPU utilization.\n\n253\n00:13:04,292 --> 00:13:06,425\nMemory utilization.\n\n254\n00:13:06,425 --> 00:13:10,220\nDisk utilization, and\nnetwork bandwidth utilization.\n\n255\n00:13:10,220 --> 00:13:13,570\nThose are the 4 big things that\ncan cause a server to be slow.\n\n256\n00:13:13,570 --> 00:13:15,020\nI'm looking at processor.\n\n257\n00:13:15,020 --> 00:13:16,160\nThese are running programs.\n\n258\n00:13:16,160 --> 00:13:18,950\nApplications that are running on\nthe system right now if the CPU\n\n259\n00:13:18,950 --> 00:13:23,950\ngets bogged down, if the CPU gets really\njust overworked when new people come and\n\n260\n00:13:23,950 --> 00:13:25,790\nconnect they're going to\nget a slower response.\n\n261\n00:13:25,790 --> 00:13:28,600\nBecause they're waiting in line for\naccess to that CPU.\n\n262\n00:13:29,630 --> 00:13:33,170\nSo if I see something really\nhigh here under processor usage\n\n263\n00:13:33,170 --> 00:13:34,800\nthen I know I've got a problem.\n\n264\n00:13:34,800 --> 00:13:39,630\nNow my server my server doesn't have\nthat issue, at least not yet, right?\n\n265\n00:13:39,630 --> 00:13:43,410\nSo my server is showing utilization\nthat's down here in the, I don't know,\n\n266\n00:13:43,410 --> 00:13:45,350\nprobably five percent range.\n\n267\n00:13:45,350 --> 00:13:47,300\nSo my server's not really doing much.\n\n268\n00:13:47,300 --> 00:13:51,100\nBut if I was seeing numbers\nup above 80% on average\n\n269\n00:13:51,100 --> 00:13:52,600\nthat would tell me it's time to upgrade.\n\n270\n00:13:52,600 --> 00:13:53,790\nThis server's doing too much.\n\n271\n00:13:53,790 --> 00:13:56,970\nI need more than one server to\ndistribute the load, right.\n\n272\n00:13:56,970 --> 00:13:58,470\nUsually 80 percent is that threshold.\n\n273\n00:13:58,470 --> 00:14:00,620\nWhen you hit 80 percent,\nit's time to upgrade.\n\n274\n00:14:00,620 --> 00:14:04,340\nIf you hit 60 percent on average you\nneed to be thinking about your upgrade.\n\n275\n00:14:04,340 --> 00:14:06,610\nYou need to be ordering equipment and\ngetting ready right.\n\n276\n00:14:06,610 --> 00:14:08,730\n80 percent, it's time to upgrade.\n\n277\n00:14:08,730 --> 00:14:11,982\nThat's usually the kind of\nrule of thumb that we use.\n\n278\n00:14:11,982 --> 00:14:14,100\nAll right but I'm at 5 percent to\nI've got plenty of breathing room.\n\n279\n00:14:15,240 --> 00:14:18,530\nSome of the other things I can\nmonitor though, memory usage.\n\n280\n00:14:18,530 --> 00:14:20,710\nHow much memory am I using on the system.\n\n281\n00:14:20,710 --> 00:14:24,700\nAnd this is a cool one to monitor,\nit's showing me of my memory,\n\n282\n00:14:24,700 --> 00:14:25,860\nhow much am I using.\n\n283\n00:14:25,860 --> 00:14:28,990\nWell my system,\nif I go up here to about this Mac.\n\n284\n00:14:30,200 --> 00:14:34,570\nI can see that I've got two\ngigs of RAM in this system.\n\n285\n00:14:34,570 --> 00:14:37,690\nAnd so it's laying that out,\nhere are two gigs, that's my maximum, and\n\n286\n00:14:37,690 --> 00:14:42,150\nI can see that I'm using a little\nover half of that memory.\n\n287\n00:14:42,150 --> 00:14:46,750\nAnd it's changing, as I run some programs\nit goes up, as I close some programs it\n\n288\n00:14:46,750 --> 00:14:50,379\ngoes down, applications consume\nmemory while they're in use.\n\n289\n00:14:51,630 --> 00:14:53,920\nI could fire up a program like Safari, and\n\n290\n00:14:53,920 --> 00:14:56,300\nstart opening up multiple tabs in it,\nright?\n\n291\n00:14:56,300 --> 00:14:58,210\nYou can go to a bunch\nof different websites,\n\n292\n00:14:58,210 --> 00:15:02,370\nand each website is going to\nconsume memory on the system.\n\n293\n00:15:02,370 --> 00:15:07,728\nSo, as I go to CNN or\nGoogle News or whatever,\n\n294\n00:15:07,728 --> 00:15:13,488\neach one is starting to consume\nresources on my system,\n\n295\n00:15:13,488 --> 00:15:16,840\nthe memory it takes to display\nthose images and access that site.\n\n296\n00:15:16,840 --> 00:15:19,160\nI'll fire up ITProTV on a page.\n\n297\n00:15:19,160 --> 00:15:19,660\nRight.\n\n298\n00:15:20,730 --> 00:15:22,880\nEach one of those is consuming memory, and\n\n299\n00:15:22,880 --> 00:15:29,180\nback in my server manager I'm going to\nsee that as increasing memory loads.\n\n300\n00:15:29,180 --> 00:15:32,330\nSo as this screen refreshes that's\ngoing to start going up and\n\n301\n00:15:32,330 --> 00:15:36,130\nup to reflect the more additional memory\nthat I'm consuming with those webpages\n\n302\n00:15:36,130 --> 00:15:38,140\nthat I've opened.\n\n303\n00:15:38,140 --> 00:15:41,200\nThe screen if you want\nto force it to update\n\n304\n00:15:41,200 --> 00:15:43,430\nup here under your view menu\nyou actually have refresh.\n\n305\n00:15:43,430 --> 00:15:47,180\nIt's command R is the shortcut, and\nyou can force it to refresh but\n\n306\n00:15:47,180 --> 00:15:49,910\ntypically you have to wait a moment for\nit to reflect the updates.\n\n307\n00:15:49,910 --> 00:15:53,070\nSo even though I did a refresh there,\nit didn't really move along very far.\n\n308\n00:15:53,070 --> 00:15:53,697\nSo, we can give it some time.\n\n309\n00:15:53,697 --> 00:15:56,646\nIt'll start to show more and\nmore memory getting consumed.\n\n310\n00:15:56,646 --> 00:15:59,836\nThe reason it's not doing the true\nreal time updates, like you see in\n\n311\n00:15:59,836 --> 00:16:03,356\nActivity Monitor, Is it's making\nthe assumption that we're running this\n\n312\n00:16:03,356 --> 00:16:07,780\nremotely, and it doesn't wanna overwhelm\nour network with status messages.\n\n313\n00:16:07,780 --> 00:16:11,680\nSo, if you want the real time stuff, you\nneed to do screen sharing to the server\n\n314\n00:16:11,680 --> 00:16:14,540\nand run the activity monitor,\nand you'll see it in real time.\n\n315\n00:16:14,540 --> 00:16:18,050\nBut here we can monitor for trends if\nyou got things like a memory leak,\n\n316\n00:16:18,050 --> 00:16:21,760\nyou'll see the memory utilization just\nslowly increase over time like that,\n\n317\n00:16:21,760 --> 00:16:24,690\nand that's a great way to see that\nsome program on your system is not\n\n318\n00:16:24,690 --> 00:16:26,570\nreleasing memory like it should.\n\n319\n00:16:26,570 --> 00:16:28,480\nIf you see it like I've got\nhere where it's going up and\n\n320\n00:16:28,480 --> 00:16:30,420\ndown, that's pretty normal.\n\n321\n00:16:30,420 --> 00:16:33,750\nYou open programs, you close programs,\nthey take memory, they give it back.\n\n322\n00:16:33,750 --> 00:16:36,795\nThat's the way that it normally works.\n\n323\n00:16:36,795 --> 00:16:39,861\nNow, this memory usage is\nmeasured in gigabytes,\n\n324\n00:16:39,861 --> 00:16:42,780\nbut you can also measure it another way.\n\n325\n00:16:42,780 --> 00:16:45,160\nThe other way is what's\ncalled memory pressure, and\n\n326\n00:16:45,160 --> 00:16:49,785\nmemory pressure is the same basic thing,\nbut measured in percentages.\n\n327\n00:16:49,785 --> 00:16:53,405\nAnd it's the percentages based\non the application's need.\n\n328\n00:16:53,405 --> 00:16:56,145\nSo I've got programs that\nare running on my system and\n\n329\n00:16:56,145 --> 00:16:57,385\nthey need a certain amount of memory.\n\n330\n00:16:57,385 --> 00:17:00,275\nThis is not the total\namount of memory used.\n\n331\n00:17:00,275 --> 00:17:05,205\nNotice on this chart, it's showing my\nmemory pressure is somewhere around 20%.\n\n332\n00:17:05,205 --> 00:17:08,885\nSo I've got programs that\nare making active requests for\n\n333\n00:17:08,885 --> 00:17:09,905\nabout 20% of my memory.\n\n334\n00:17:11,080 --> 00:17:15,947\nIf I go back to memory usage,\nI'll see that I'm over 50%.\n\n335\n00:17:15,947 --> 00:17:18,810\nThere's a disparity there.\n\n336\n00:17:18,810 --> 00:17:22,920\nThe reason is under memory pressure we're\nnot really seeing our operating system,\n\n337\n00:17:22,920 --> 00:17:23,710\nMac OS.\n\n338\n00:17:23,710 --> 00:17:26,420\nMac OS is going to take memory it has to.\n\n339\n00:17:26,420 --> 00:17:29,850\nSo, that's kind of left out and\nthat's why this number is lower,\n\n340\n00:17:29,850 --> 00:17:32,440\nit's why it doesn't match up with\nwhat we've seen in the other screen.\n\n341\n00:17:32,440 --> 00:17:35,560\nSo this is pressure coming from\nthe applications, the software,\n\n342\n00:17:35,560 --> 00:17:38,540\nthe services, right, the server\napp services that we're running.\n\n343\n00:17:38,540 --> 00:17:40,940\nEach of those and their memory demands.\n\n344\n00:17:40,940 --> 00:17:43,120\nAnd you'll see the list increases\nas applications start to run.\n\n345\n00:17:44,260 --> 00:17:48,720\nSo here's where I opened up Safari and\nyou can see it's starting to spike up.\n\n346\n00:17:48,720 --> 00:17:51,400\nThat's all those different tabs that I\nopened they're starting to reflect now\n\n347\n00:17:51,400 --> 00:17:52,430\non that screen.\n\n348\n00:17:52,430 --> 00:17:55,380\nSo memory pressure is\nmeasuring this in percentages,\n\n349\n00:17:55,380 --> 00:17:57,690\nover on memory usage it was\nmeasuring it in gigabytes.\n\n350\n00:18:00,580 --> 00:18:02,640\nThe next one that I've got\nin here is network traffic.\n\n351\n00:18:03,680 --> 00:18:06,630\nMost of our servers only have\none network adapter in them and\n\n352\n00:18:06,630 --> 00:18:09,360\nthat network adapter is responsible for\npushing all the communications.\n\n353\n00:18:09,360 --> 00:18:13,940\nWell if you're running a file server or a\nwebsite, you can push a lot of bandwidth.\n\n354\n00:18:13,940 --> 00:18:16,960\nAnd if you exceed the bandwidth\nof your network adapter,\n\n355\n00:18:16,960 --> 00:18:18,940\npeople aren't gonna be able to connect,\nright?\n\n356\n00:18:18,940 --> 00:18:20,840\nThey'll either get that\nthe site's unavailable, or\n\n357\n00:18:20,840 --> 00:18:23,820\nthey'll get really slow page load times.\n\n358\n00:18:23,820 --> 00:18:25,400\nSo, we need to monitor that.\n\n359\n00:18:25,400 --> 00:18:28,850\nWe need to see how our statistics\nare going on network bandwidth.\n\n360\n00:18:28,850 --> 00:18:33,570\nI've got a 100 megabit card in here,\nbut I'm not pushing,\n\n361\n00:18:33,570 --> 00:18:36,460\nactually I think I've got a gig\non this one, something higher.\n\n362\n00:18:36,460 --> 00:18:39,750\nSo, anyhow I've got a card with plenty\nof bandwidth, but I'm pushing so little,\n\n363\n00:18:39,750 --> 00:18:42,570\nthat it's auto scaled my screen,\nthat's why it says 1 megabit here,\n\n364\n00:18:42,570 --> 00:18:45,550\nbecause it's trying to give me a better\nreflection of how much I'm using.\n\n365\n00:18:45,550 --> 00:18:50,100\nI'm using hardly any bandwidth right now,\nso it's barely registering.\n\n366\n00:18:50,100 --> 00:18:52,670\nBut on your system,\nyou might see that much higher.\n\n367\n00:18:52,670 --> 00:18:55,810\nAnd you get a red line for\noutbound traffic and\n\n368\n00:18:55,810 --> 00:18:58,700\na blue line for inbound traffic,\nso you can tell the difference.\n\n369\n00:18:58,700 --> 00:19:01,800\nMost network adapters are full duplex.\n\n370\n00:19:01,800 --> 00:19:06,268\nSo if you have a gigabit card, that means\nit can send one gigabit of traffic while\n\n371\n00:19:06,268 --> 00:19:09,150\nat the same time receiving\none gigabit of traffic.\n\n372\n00:19:09,150 --> 00:19:10,330\nThat's full duplex.\n\n373\n00:19:10,330 --> 00:19:12,350\nThat's why it monitors these separate.\n\n374\n00:19:12,350 --> 00:19:15,590\nCuz you could actually have two gigabits\nof traffic going over that line.\n\n375\n00:19:15,590 --> 00:19:17,520\nJust half of it it's outgoing,\nhalf of it it's incoming.\n\n376\n00:19:21,180 --> 00:19:25,990\nAnd then the last one that we can\nmonitor on here is bytes served, and\n\n377\n00:19:25,990 --> 00:19:29,800\nbytes served, that's really helpful for\nmonitoring our disk access.\n\n378\n00:19:29,800 --> 00:19:32,670\nThis is the amount of data we've\nbeen pushing over the network,\n\n379\n00:19:32,670 --> 00:19:34,710\nso as people come in with\ntheir file shares and\n\n380\n00:19:34,710 --> 00:19:38,450\nother access like that,\nhow much of that data that we're removing.\n\n381\n00:19:38,450 --> 00:19:40,060\nIf you have just one hard drive,\n\n382\n00:19:40,060 --> 00:19:42,730\nthis equates to how much data we\nhad to read off of that drive.\n\n383\n00:19:42,730 --> 00:19:45,850\nIf you have multiple hard\ndrives it gets aggregated, but\n\n384\n00:19:45,850 --> 00:19:49,340\nthat's really handy when you're talking\nabout something like an Xsan appliance.\n\n385\n00:19:49,340 --> 00:19:49,860\nRight?\n\n386\n00:19:49,860 --> 00:19:52,460\nWhere you might have 14\nhard drives in there, and\n\n387\n00:19:52,460 --> 00:19:53,380\nyou're reading from all of them.\n\n388\n00:19:53,380 --> 00:19:56,140\nYou need to understand how much\ndata you're pushing it across that\n\n389\n00:19:56,140 --> 00:19:57,590\nthunderbolt cable, or fiber, or\n\n390\n00:19:57,590 --> 00:20:01,210\nwhatever it is that runs to your Xsan,\nyou need to be able to measure that.\n\n391\n00:20:01,210 --> 00:20:03,160\nAnd we'd get that right\nhere from bytes served.\n\n392\n00:20:04,710 --> 00:20:08,200\nNow, there is one other piece of storage\nthat we might wanna monitor that it's not\n\n393\n00:20:08,200 --> 00:20:10,765\nlisting here, and that's utilization.\n\n394\n00:20:10,765 --> 00:20:15,835\nIf I have a one terabyte drive,\nhow much space is left available on it?\n\n395\n00:20:15,835 --> 00:20:17,395\nWell, it doesn't tell me that.\n\n396\n00:20:17,395 --> 00:20:19,665\nBytes served,\nthat's how much data I'm copying,\n\n397\n00:20:19,665 --> 00:20:23,163\nhow much data I'm moving on the file\nsystem, not how much data I actually have.\n\n398\n00:20:23,163 --> 00:20:28,635\nIf I wanna see my actual utilization,\nI can go back up to my server here,\n\n399\n00:20:28,635 --> 00:20:32,600\nunder the Server Manager, and\nyou have a storage button right there.\n\n400\n00:20:32,600 --> 00:20:34,250\nAnd it'll show you your drives, and\n\n401\n00:20:34,250 --> 00:20:36,770\nyou can get an idea of how\nmuch space is in use on them.\n\n402\n00:20:36,770 --> 00:20:40,410\nSo I've got my Macintosh HD,\nthat's where my operating system is.\n\n403\n00:20:40,410 --> 00:20:46,580\nAnd I can see that it's at about,\nI don't know, 25%, maybe 30% utilization.\n\n404\n00:20:46,580 --> 00:20:49,350\nAnd I've got my service data\ndrive that's barely used at all.\n\n405\n00:20:49,350 --> 00:20:50,950\nAnd it tells me how much\nspace is available.\n\n406\n00:20:50,950 --> 00:20:52,240\nSo I can see that right here.\n\n407\n00:20:52,240 --> 00:20:54,500\nYou can also navigate into\nthe drive if you want.\n\n408\n00:20:54,500 --> 00:20:58,200\nIf you're bored and wanna browse around\nand see what's in there, you can do that\n\n409\n00:20:58,200 --> 00:21:03,880\nbut there's not a whole lot of reason to\ndo it other than, I don't know, to do it.\n\n410\n00:21:03,880 --> 00:21:06,232\n[LAUGH] So we can see that\nutilization right there though and\n\n411\n00:21:06,232 --> 00:21:08,350\nget an idea of how much\ndisk space we're consuming.\n\n412\n00:21:11,080 --> 00:21:13,700\nThere's one last statistic we have\nthat was all the way at the bottom of\n\n413\n00:21:13,700 --> 00:21:15,110\nthat list.\n\n414\n00:21:15,110 --> 00:21:18,200\nUnder File Sharing > Connected users.\n\n415\n00:21:18,200 --> 00:21:20,480\nIf I'm sharing folders on my system,\n\n416\n00:21:20,480 --> 00:21:24,130\nhow many end users\nare connected to me right now.\n\n417\n00:21:24,130 --> 00:21:28,520\nNow this doesn't include website users,\nor open directory authenticators,\n\n418\n00:21:28,520 --> 00:21:29,790\nit doesn't include those.\n\n419\n00:21:29,790 --> 00:21:32,100\nThis is based on file sharing.\n\n420\n00:21:32,100 --> 00:21:36,360\nSo people that have connected to my AFP,\nor SMB, or NFS shares,\n\n421\n00:21:36,360 --> 00:21:39,350\nwhatever it is that we've set up,\nanybody who is connecting to that,\n\n422\n00:21:39,350 --> 00:21:42,890\nit will give us a count here so\nwe can see how many people on our system.\n\n423\n00:21:42,890 --> 00:21:44,718\nThat's useful for a few reasons.\n\n424\n00:21:44,718 --> 00:21:47,500\nIf you're gonna be\nrebooting your server or\n\n425\n00:21:47,500 --> 00:21:51,000\ntaking a backup, you might want to look\nto see are there people in the system?\n\n426\n00:21:51,000 --> 00:21:54,310\nAre there people working with files right\nnow cuz we don't want to interrupt them.\n\n427\n00:21:54,310 --> 00:21:56,270\nWe can see it right here under Statistics.\n\n428\n00:21:57,420 --> 00:21:58,180\nAll right.\n\n429\n00:21:58,180 --> 00:22:02,470\nSo those are the ways that we\ngot right here inside of our\n\n430\n00:22:02,470 --> 00:22:06,670\nserver manager to see what's\ngoing on on the server right now.\n\n431\n00:22:06,670 --> 00:22:08,360\nThis is great cuz it works remotely.\n\n432\n00:22:08,360 --> 00:22:11,220\nYou can run the server app on your\nlaptop or desktop and pull this up and\n\n433\n00:22:11,220 --> 00:22:12,510\nsee it remotely.\n\n434\n00:22:12,510 --> 00:22:14,950\nIf you wanna see even more detail or\n\n435\n00:22:14,950 --> 00:22:19,190\neven more information though, the Activity\nMonitor's really the place to go.\n\n436\n00:22:19,190 --> 00:22:21,920\nUnfortunately for the activity monitor,\nthe best way to do that\n\n437\n00:22:21,920 --> 00:22:26,510\nis really to remote into the server,\nto do screen sharing into the server.\n\n438\n00:22:26,510 --> 00:22:30,770\nAnd then on the server itself you\ncan run the activity monitor.\n\n439\n00:22:30,770 --> 00:22:34,440\nAnd in the activity monitor you have\nall that same data that we just saw in\n\n440\n00:22:34,440 --> 00:22:36,330\nthe server app, it's all in here too.\n\n441\n00:22:37,570 --> 00:22:42,020\nWe have CPU memory and so on, and you can\ntweak this to add additional information.\n\n442\n00:22:42,020 --> 00:22:47,160\nSame data's here, but\nit is a lot more intensive.\n\n443\n00:22:47,160 --> 00:22:50,960\nIt's loading a lot of information, and\nwe've got to know what we're looking for.\n\n444\n00:22:50,960 --> 00:22:53,650\nSo when you go here and you start\nto run these various diagnostics,\n\n445\n00:22:53,650 --> 00:22:57,930\nlooking at information in here,\nit can be a little overwhelming sometimes.\n\n446\n00:22:57,930 --> 00:23:01,200\nBut you do get some nice little charts and\ngraphs and things like that.\n\n447\n00:23:01,200 --> 00:23:04,300\nBut the bulk of what we need is\nright there in the server manager.\n\n448\n00:23:04,300 --> 00:23:05,470\nIt's got nice little charts and\n\n449\n00:23:05,470 --> 00:23:08,920\ngraphs here too, that show us the key\nthings we need to monitor on a server.\n\n450\n00:23:11,800 --> 00:23:15,430\nAll right now, everything I've talked\nabout so far were things that we do for\n\n451\n00:23:15,430 --> 00:23:17,510\ntroubleshooting problems\nthat happened in the past or\n\n452\n00:23:17,510 --> 00:23:18,790\nproblems that are happening right now.\n\n453\n00:23:19,790 --> 00:23:21,370\nBut what about problems in the future?\n\n454\n00:23:21,370 --> 00:23:23,270\nWhat about problems that\nhaven't happened yet?\n\n455\n00:23:23,270 --> 00:23:25,890\nWell, we actually have a system for\nthat too.\n\n456\n00:23:25,890 --> 00:23:29,290\nBut, looking at the clock this is a pretty\ngood spot to stop and take a break.\n\n457\n00:23:29,290 --> 00:23:33,030\nSo let's pause here, when we get back\nwe're gonna look at the monitoring system\n\n458\n00:23:33,030 --> 00:23:36,160\nfor watching for things that haven't\nhappened yet, which is kind of neat.\n\n459\n00:23:36,160 --> 00:23:37,460\nIt's like predicting the future.\n\n460\n00:23:37,460 --> 00:23:40,644\nSo we'll get a chance to see that\nwhen we get back in just a few.\n\n461\n00:23:40,644 --> 00:23:47,450\n[SOUND]\n\n",
          "vimeoId": "121989082"
        },
        {
          "description": null,
          "length": "4479",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-1-6-server_maintenance-031215-2.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-1-6-server_maintenance-031215-2-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-1-6-server_maintenance-031215-2-sm.jpg",
          "title": "Server Maintenance",
          "transcript": "1\n00:00:00,000 --> 00:00:10,000\n[MUSIC]\n\n2\n00:00:15,540 --> 00:00:22,911\n[SOUND]\n\n3\n00:00:22,911 --> 00:00:33,460\n[MUSIC]\n\n4\n00:00:33,460 --> 00:00:36,391\nAll right, good morning,\ngood afternoon, and good evening.\n\n5\n00:00:36,391 --> 00:00:38,640\nWelcome back to another\nepisode of ITProTV.\n\n6\n00:00:38,640 --> 00:00:40,900\nI'm your host Don Pezet,\n\n7\n00:00:40,900 --> 00:00:45,046\nback again with another episode of\nApple Certified Technical Coordinator.\n\n8\n00:00:45,046 --> 00:00:48,750\nToday we're going to be jumping into\na very important topic which is\n\n9\n00:00:48,750 --> 00:00:51,830\ndoing proper maintenance of your server.\n\n10\n00:00:51,830 --> 00:00:55,080\nNow when you install the server\napp on your Mac OS device,\n\n11\n00:00:55,080 --> 00:00:56,640\nnow it becomes a server.\n\n12\n00:00:56,640 --> 00:00:59,520\nAnd you set up all your various services\nand you get that configured and\n\n13\n00:00:59,520 --> 00:01:03,500\nyou get it up and running and\nthen it just does what it does, right.\n\n14\n00:01:03,500 --> 00:01:05,170\nWe walk away, we let it run.\n\n15\n00:01:05,170 --> 00:01:07,350\nWell that's true for the most part, but\n\n16\n00:01:07,350 --> 00:01:10,740\nthere's certain things we need to\ndo to keep the server healthy.\n\n17\n00:01:10,740 --> 00:01:13,430\nAnd in our last episode we talked about\nsome of the different ways that we can\n\n18\n00:01:13,430 --> 00:01:18,850\nmonitor the servers as far as watching\nour logs and errors and so on.\n\n19\n00:01:18,850 --> 00:01:22,200\nBut there's other routine activities that\nwe didn't talk about in that episode that\n\n20\n00:01:22,200 --> 00:01:23,690\nI want to talk about right here.\n\n21\n00:01:23,690 --> 00:01:28,690\nOne of the most important things\nis keeping our server up to date.\n\n22\n00:01:28,690 --> 00:01:29,370\nAll right.\n\n23\n00:01:29,370 --> 00:01:31,550\nApple is constantly releasing patches and\n\n24\n00:01:31,550 --> 00:01:34,900\nupdates to keep your system secure and\nstable.\n\n25\n00:01:34,900 --> 00:01:36,290\nWhen Apple pushes an update,\n\n26\n00:01:36,290 --> 00:01:38,140\nit's usually those two things\nthat they're shooting for.\n\n27\n00:01:38,140 --> 00:01:40,950\nThere's really three types of\nupdates you get from Apple.\n\n28\n00:01:40,950 --> 00:01:42,330\nThere's security updates.\n\n29\n00:01:42,330 --> 00:01:43,690\nThose you definitely want.\n\n30\n00:01:43,690 --> 00:01:45,720\nYou want those as soon as they come out.\n\n31\n00:01:45,720 --> 00:01:50,710\nThat means that some kind of vulnerability\nhas been detected inside of Mac OS and\n\n32\n00:01:50,710 --> 00:01:51,780\nthey've got a fix for that right?\n\n33\n00:01:51,780 --> 00:01:54,200\nThey're pushing out something\nto close off that vulnerability.\n\n34\n00:01:55,245 --> 00:01:58,345\nNow just some quick terminology\nhere to be aware of.\n\n35\n00:01:58,345 --> 00:02:02,127\nTo hear people talk about\nvulnerabilities and exploits.\n\n36\n00:02:02,127 --> 00:02:04,525\nAll right, and a lot of people\nuse the terms interchangeably.\n\n37\n00:02:04,525 --> 00:02:07,205\nThey'll say oh you need to patch your\nserver, there's an exploit out there.\n\n38\n00:02:07,205 --> 00:02:09,710\nOr you need to patch your server,\nthere's a vulnerability out there.\n\n39\n00:02:09,710 --> 00:02:11,880\nAnd what's the difference?\n\n40\n00:02:11,880 --> 00:02:16,270\nWell, a vulnerability,\nthat's a weakness in your system but\n\n41\n00:02:16,270 --> 00:02:20,690\nnobody's quite figured out how to use that\nweakness to take advantage of it yet, or\n\n42\n00:02:20,690 --> 00:02:22,110\nnobody that we know of.\n\n43\n00:02:22,110 --> 00:02:22,750\nSomebody might have,\n\n44\n00:02:22,750 --> 00:02:25,200\nsomebody out there might have figured\nout a way to take advantage of that and\n\n45\n00:02:25,200 --> 00:02:26,450\nwe just don't know about it yet.\n\n46\n00:02:26,450 --> 00:02:29,710\nBut it's called a vulnerability\nuntil there is a documented\n\n47\n00:02:29,710 --> 00:02:32,220\ncase of somebody using it for bad stuff.\n\n48\n00:02:32,220 --> 00:02:36,730\nAnd when somebody can use it for bad\nstuff, that is when it becomes an export.\n\n49\n00:02:36,730 --> 00:02:39,860\nBut, as far as we're concerned\nwith our server updates,\n\n50\n00:02:39,860 --> 00:02:41,640\nI don't care if it is a vulnerability or\nan export.\n\n51\n00:02:41,640 --> 00:02:43,470\nI want to patch it as soon as I can.\n\n52\n00:02:43,470 --> 00:02:45,980\nAnd I'd love to patch it while\nit was a vulnerability, right?\n\n53\n00:02:45,980 --> 00:02:48,100\nThat means nobody has\ntaken advantage of it.\n\n54\n00:02:48,100 --> 00:02:50,140\nSo, How do we patch our servers.\n\n55\n00:02:50,140 --> 00:02:51,650\nHow do we keep them up to date.\n\n56\n00:02:51,650 --> 00:02:53,620\nWell Apple's given us\na couple of tools for that.\n\n57\n00:02:53,620 --> 00:02:56,330\nOr actually before I move on I\nforgot to mention the other two.\n\n58\n00:02:56,330 --> 00:02:59,560\nThe first one I mentioned was security\nupdate, the most important one.\n\n59\n00:02:59,560 --> 00:03:01,190\nI should have saved that for last.\n\n60\n00:03:01,190 --> 00:03:03,910\nThe other one's,\nwe've got stability improvements.\n\n61\n00:03:03,910 --> 00:03:07,280\nOccasionally there are bugs and\nthings that make it into the servers,\n\n62\n00:03:07,280 --> 00:03:10,220\nwhere you might have services crash,\nor freeze up,\n\n63\n00:03:10,220 --> 00:03:15,080\nor not be able to provide functions like\nthey should so those kind of bug fixes,\n\n64\n00:03:15,080 --> 00:03:18,460\nthose things we definitely want\nto apply as soon as we can too.\n\n65\n00:03:18,460 --> 00:03:21,370\nThe third type of update\nthough is a feature update.\n\n66\n00:03:21,370 --> 00:03:24,120\nOne that adds feature to your system.\n\n67\n00:03:24,120 --> 00:03:27,840\nNot necessarily fixing bugs or\nanything but add something new.\n\n68\n00:03:27,840 --> 00:03:31,190\nNow these we might not\nnecessarily want right away.\n\n69\n00:03:31,190 --> 00:03:35,260\nThe problem with adding new features is\nnew features normally bring along a couple\n\n70\n00:03:35,260 --> 00:03:37,450\nof their own bugs with them, right.\n\n71\n00:03:37,450 --> 00:03:39,860\nAnd we probably don't\nwant that on a server.\n\n72\n00:03:39,860 --> 00:03:42,230\nOn a desk top, on our iPhone,\nor iPad, or whatever.\n\n73\n00:03:42,230 --> 00:03:43,410\nIt's a different story.\n\n74\n00:03:43,410 --> 00:03:46,540\nBut on your servers you want them nice and\nstable.\n\n75\n00:03:46,540 --> 00:03:51,460\nSo, we typically won't do updates if\nthey're just bringing along new features.\n\n76\n00:03:51,460 --> 00:03:57,540\nSo, Apple releases the new health kit\nsoftware of the research kit or whatever.\n\n77\n00:03:57,540 --> 00:04:00,340\nYou don't need that on your server and\nso, don't push that update.\n\n78\n00:04:00,340 --> 00:04:04,872\nYou're not in a big hurry, it's just going\nto introduce a larger attack service.\n\n79\n00:04:04,872 --> 00:04:06,810\nAll right so\nwhere do these updates come from?\n\n80\n00:04:06,810 --> 00:04:12,270\nWell updating is really one of the things\nApple's made really, really easy for us.\n\n81\n00:04:12,270 --> 00:04:15,740\nIt has changed over the years though,\nso if you're an old school Mac user,\n\n82\n00:04:15,740 --> 00:04:17,780\nthings are different now\nthan they used to be.\n\n83\n00:04:17,780 --> 00:04:20,810\nNow our updates are all\nmanaged through the App Store.\n\n84\n00:04:21,860 --> 00:04:22,580\nOn our Mac,\n\n85\n00:04:22,580 --> 00:04:27,580\nlike here I'm on a server here and I'm\njust up running this is my OSX-server1.\n\n86\n00:04:27,580 --> 00:04:29,350\nI'm running OS 10.10 Yosemite.\n\n87\n00:04:29,350 --> 00:04:34,900\nI got the system up and running and if I\nwant to do updates, well, I can wait and\n\n88\n00:04:34,900 --> 00:04:38,880\neventually an alert will show up that\nwill let me know an update is available.\n\n89\n00:04:38,880 --> 00:04:41,690\nAnd I can go and perform that update\nright here through the Server app.\n\n90\n00:04:41,690 --> 00:04:44,150\nThat's one way to go about it, but\n\n91\n00:04:44,150 --> 00:04:48,380\nthe Server app isn't actually what's\ngoing out and checking for the updates.\n\n92\n00:04:48,380 --> 00:04:52,310\nIt's actually the App Store, that if I\nfire up the App Store on this system,\n\n93\n00:04:53,610 --> 00:04:56,548\nwhen I launch it,\nit's going to reach out to Apple Services.\n\n94\n00:04:56,548 --> 00:04:59,050\nIt's going to look to see if\nthere's update available, and\n\n95\n00:04:59,050 --> 00:05:02,370\nif there is,\nthe update'll show right here.\n\n96\n00:05:02,370 --> 00:05:06,730\nOn the updates tab, and see I've clicked\non it, now it's checking for updates.\n\n97\n00:05:06,730 --> 00:05:08,860\nIt's going to go out and\nit's going to find that.\n\n98\n00:05:08,860 --> 00:05:11,590\nNow I'm certain there's going to be some\nupdates, I don't think I've patched this\n\n99\n00:05:11,590 --> 00:05:14,980\nmachine from its initial install, so there\nshould be at least one update out there.\n\n100\n00:05:14,980 --> 00:05:16,880\nWe'll see what it finds.\n\n101\n00:05:16,880 --> 00:05:19,140\nNow while waiting on that,\nwell, there we go.\n\n102\n00:05:19,140 --> 00:05:20,690\nDidn't have to wait that long at all.\n\n103\n00:05:20,690 --> 00:05:23,010\nLooks like there is a software\nupdate available for me and\n\n104\n00:05:23,010 --> 00:05:25,010\nit just says updates are available.\n\n105\n00:05:25,010 --> 00:05:28,170\nThere's an update for\nthe remote desktop, client update 3.8.2.\n\n106\n00:05:28,170 --> 00:05:31,560\nThere's a security update and\nthere's more.\n\n107\n00:05:31,560 --> 00:05:34,278\nSo there's actually more than one\nupdate in this little roll up.\n\n108\n00:05:34,278 --> 00:05:37,060\nI'm going to expand that out so\nI can see what it is.\n\n109\n00:05:37,060 --> 00:05:40,580\nI guess that's actually about it we've\ngot Security Update 2015-0021.0.\n\n110\n00:05:40,580 --> 00:05:45,360\nSo here's a security\nupdate they've released,\n\n111\n00:05:45,360 --> 00:05:48,050\nand it's letting me know\nthey've improved security.\n\n112\n00:05:48,050 --> 00:05:52,320\nI probably want to apply it, but it's not\nreally telling me what it's going to do.\n\n113\n00:05:52,320 --> 00:05:55,130\nAnd they always give you a nice\nlittle link that you can click on and\n\n114\n00:05:55,130 --> 00:05:57,940\nit'll take you to their website, and they\nprovide additional information about what\n\n115\n00:05:57,940 --> 00:06:01,342\nthat security update actually performs for\nyour system.\n\n116\n00:06:01,342 --> 00:06:04,520\nAll right now if you just have\none server and this is it,\n\n117\n00:06:04,520 --> 00:06:07,060\nyou'll probably just go ahead and\napply the update.\n\n118\n00:06:07,060 --> 00:06:10,120\nBut if you've got a hundred servers,\nif you've got sensitive,\n\n119\n00:06:10,120 --> 00:06:12,440\ncritical applications on your network,\n\n120\n00:06:12,440 --> 00:06:15,350\nyou need to ensure those\napplications stay up and running.\n\n121\n00:06:15,350 --> 00:06:18,470\nAnd so when you apply an update\ncould it break your software?\n\n122\n00:06:18,470 --> 00:06:20,890\nCould it make things function\ndifferently than they used to?\n\n123\n00:06:20,890 --> 00:06:21,910\nAbsolutely.\n\n124\n00:06:21,910 --> 00:06:25,070\nSo it's always a good\nidea to test the updates.\n\n125\n00:06:25,070 --> 00:06:29,800\nTest the updates on one server,\nor preferably on a test server.\n\n126\n00:06:29,800 --> 00:06:32,710\nSo you actually have a server\nset up specifically for testing.\n\n127\n00:06:32,710 --> 00:06:34,400\nTest it out in your test environment.\n\n128\n00:06:34,400 --> 00:06:37,910\nAnd only when you've seen the update\nis safe, you then roll it out for\n\n129\n00:06:37,910 --> 00:06:38,630\nthe rest of the network.\n\n130\n00:06:38,630 --> 00:06:41,470\nAnd when I say safe you're\ngetting the update from Apple.\n\n131\n00:06:41,470 --> 00:06:44,220\nSo you know it doesn't have malware or\nviruses in it or\n\n132\n00:06:44,220 --> 00:06:45,400\nanything like that, right?\n\n133\n00:06:45,400 --> 00:06:48,080\nApple has signed it,\nit's a protected file.\n\n134\n00:06:48,080 --> 00:06:49,430\nSo you know that's safe.\n\n135\n00:06:49,430 --> 00:06:52,320\nWhat I mean is that it's not\ngoing to break your software.\n\n136\n00:06:52,320 --> 00:06:54,710\nA lot of software vendors\nwrite their software, and\n\n137\n00:06:54,710 --> 00:06:57,420\nthey don't necessarily follow\nall the best practices.\n\n138\n00:06:57,420 --> 00:07:02,130\nAnd so occasionally an operating system\nupdate will come out and their software\n\n139\n00:07:02,130 --> 00:07:05,330\nwon't be able to handle some new change,\nand it breaks the software.\n\n140\n00:07:05,330 --> 00:07:07,670\nSo, we've got to test for that.\n\n141\n00:07:07,670 --> 00:07:10,380\nSo, here's just letting you know\nsome basic information about\n\n142\n00:07:10,380 --> 00:07:11,180\nthe security update.\n\n143\n00:07:11,180 --> 00:07:15,190\nAnd, if I scroll down,\nI can find that update specifically.\n\n144\n00:07:15,190 --> 00:07:16,640\nHere it is, security update 2015-002.\n\n145\n00:07:16,640 --> 00:07:20,330\nIt was really March 9th of 2015.\n\n146\n00:07:20,330 --> 00:07:22,830\nThat's about three days ago.\n\n147\n00:07:22,830 --> 00:07:24,940\nSo this update's been out for a few days.\n\n148\n00:07:24,940 --> 00:07:29,410\nNow I didn't know this update was out,\nI had to go into the app store to see it,\n\n149\n00:07:29,410 --> 00:07:31,310\nthat was a manual process.\n\n150\n00:07:31,310 --> 00:07:34,360\nWell, on a server,\nwe have to make a choice.\n\n151\n00:07:34,360 --> 00:07:36,430\nYou can do automatic updates.\n\n152\n00:07:36,430 --> 00:07:40,000\nIf I had this set to automatic updates\nthree days ago, my system would\n\n153\n00:07:40,000 --> 00:07:43,300\nhave saw the update and installed it,\nand I would've been patched right away.\n\n154\n00:07:43,300 --> 00:07:47,600\nThat's nice, but\nit says that a restart was required.\n\n155\n00:07:47,600 --> 00:07:49,850\nSo, when it did the update\nit would have rebooted.\n\n156\n00:07:49,850 --> 00:07:53,181\nSo, my server would have been offline for\na little bit while that reboot happened.\n\n157\n00:07:53,181 --> 00:07:56,488\nAnd, if it broke my software it\nwould have automatically updated,\n\n158\n00:07:56,488 --> 00:07:59,341\nmy software would have broken,\nand then I have a problem.\n\n159\n00:07:59,341 --> 00:08:03,261\nSo a lot of times on servers,\nwe disable automatic updates.\n\n160\n00:08:03,261 --> 00:08:06,460\nAnd that's exactly what I've done here,\nI've disabled the automatic updates.\n\n161\n00:08:06,460 --> 00:08:09,600\nThat's why I didn't have any alert\nsaying an update was available.\n\n162\n00:08:09,600 --> 00:08:12,750\nWhen I went into the Server app,\nthere weren't any alerts but\n\n163\n00:08:12,750 --> 00:08:16,950\nnow there are, because I went into\nthe App Store and I did that check.\n\n164\n00:08:16,950 --> 00:08:17,590\nSo now I can see,\n\n165\n00:08:17,590 --> 00:08:20,800\nI've got two software updates\navailable right here in my Server app.\n\n166\n00:08:20,800 --> 00:08:22,090\nAnd if I go back to the App Store.\n\n167\n00:08:22,090 --> 00:08:24,100\nThey're sitting right here waiting for\nme to apply them.\n\n168\n00:08:24,100 --> 00:08:25,670\nThose two different updates.\n\n169\n00:08:27,140 --> 00:08:32,840\nNow, making it a manual update\nprocess has pros and cons, right.\n\n170\n00:08:32,840 --> 00:08:36,120\nThe pro,\nthe benefit is that I control the updates.\n\n171\n00:08:36,120 --> 00:08:39,400\nI control when the updates apply,\nI can have it run when I want it to run so\n\n172\n00:08:39,400 --> 00:08:42,750\nI can make sure when the server's\noffline I can pick and\n\n173\n00:08:42,750 --> 00:08:44,210\nchoose the updates that I wanna apply.\n\n174\n00:08:44,210 --> 00:08:47,120\nI'm nice and protected there.\n\n175\n00:08:47,120 --> 00:08:51,570\nBut, the con, negative side is that\nthis update came out three days ago.\n\n176\n00:08:51,570 --> 00:08:52,740\nAnd I still haven't done it.\n\n177\n00:08:52,740 --> 00:08:55,500\nSo, for three days,\nmy server has been weak.\n\n178\n00:08:55,500 --> 00:08:58,410\nThis announcement,\nthis server security update 2015-002,\n\n179\n00:08:58,410 --> 00:09:01,860\nthis update came out three days ago.\n\n180\n00:09:01,860 --> 00:09:05,400\nSo not only do people running\nMac OS server learn about it, but\n\n181\n00:09:05,400 --> 00:09:07,300\nhackers learn about it.\n\n182\n00:09:07,300 --> 00:09:10,150\nAnd now they might not have known\nabout this particular exploit but\n\n183\n00:09:10,150 --> 00:09:14,500\nthey can go and read this article and in\nthe article it explains what it does and\n\n184\n00:09:14,500 --> 00:09:15,990\nnow the hackers say, well, wait a minute.\n\n185\n00:09:15,990 --> 00:09:18,080\nThere's a weakness in\nthe system that I can target.\n\n186\n00:09:18,080 --> 00:09:20,330\nLet me see if I can\nfind a way to break it.\n\n187\n00:09:20,330 --> 00:09:22,920\nTo actually use that to\ncreate an exploit around it.\n\n188\n00:09:22,920 --> 00:09:25,130\nAnd that's the risk that we have, right.\n\n189\n00:09:25,130 --> 00:09:29,850\nSo the risk with announcing these\nkind of security updates is two fold.\n\n190\n00:09:29,850 --> 00:09:33,440\nIt lets us know so we can protect\nourselves and it lets the hackers know,\n\n191\n00:09:33,440 --> 00:09:36,720\nthe hackers that haven't figured\nit out already, where to target.\n\n192\n00:09:36,720 --> 00:09:40,538\nYeah, this one is specifically\nfocused on a vulnerability,\n\n193\n00:09:40,538 --> 00:09:46,460\nCVE-2015-1061, which is apparently called\nthe Ian Beer of Google Project Zero.\n\n194\n00:09:46,460 --> 00:09:47,810\nSo, oh, you know what?\n\n195\n00:09:47,810 --> 00:09:52,480\nIan, he's one of the Google Project Zero\nguys, so Google detected this exploit and\n\n196\n00:09:52,480 --> 00:09:53,100\nreleased it.\n\n197\n00:09:53,100 --> 00:09:55,220\nThey've been doing that a lot lately.\n\n198\n00:09:55,220 --> 00:09:56,350\nSo it's patching that.\n\n199\n00:09:56,350 --> 00:09:57,970\nYou can see some of the other\nthings that it's patching,\n\n200\n00:09:57,970 --> 00:10:00,700\nthis one, the TaG Jailbreak Team.\n\n201\n00:10:00,700 --> 00:10:04,620\nThat's Jailbreak software for iPhone and\niPads, they're patching that exploit too.\n\n202\n00:10:04,620 --> 00:10:07,288\nSo there's a lot of stuff\nthat comes in with these, and\n\n203\n00:10:07,288 --> 00:10:10,073\nsome of these may or\nmay not truly be important to you, but\n\n204\n00:10:10,073 --> 00:10:12,930\nyou should do security updates\nwhen they're available.\n\n205\n00:10:15,554 --> 00:10:17,680\nAll right now,\nwhat if I wanted these to be automatic.\n\n206\n00:10:17,680 --> 00:10:21,390\nWhat if I said, alright well I've got\na server, but it's a work group server.\n\n207\n00:10:21,390 --> 00:10:23,470\nIt's okay for\nit to apply updates and stuff.\n\n208\n00:10:23,470 --> 00:10:24,930\nI want it to be automatic.\n\n209\n00:10:24,930 --> 00:10:27,480\nWell, we configure that\nthrough the App Store.\n\n210\n00:10:27,480 --> 00:10:29,080\nIf you go into your system preferences\n\n211\n00:10:30,250 --> 00:10:32,920\nI'll just jump up here into\nmy system preferences.\n\n212\n00:10:32,920 --> 00:10:35,640\nYou've got a system preference for\nthe app store and\n\n213\n00:10:35,640 --> 00:10:40,270\nif we go in there you'll see where\nyou can set automatic updates.\n\n214\n00:10:40,270 --> 00:10:42,292\nI've got automatically check for\nupdates turned off.\n\n215\n00:10:42,292 --> 00:10:42,860\nAll right.\n\n216\n00:10:42,860 --> 00:10:45,680\nAnd that's because I wanted to\ndo it manually on this server,\n\n217\n00:10:45,680 --> 00:10:47,290\nI didn't wanna have it automatic.\n\n218\n00:10:47,290 --> 00:10:50,660\nBut if we check that, you'll see\nthere's all sorts of things we can\n\n219\n00:10:50,660 --> 00:10:53,690\ncustomize pending around those updates.\n\n220\n00:10:53,690 --> 00:10:57,630\nThe first one is download newly\navailable updates in the background.\n\n221\n00:10:57,630 --> 00:11:01,730\nThat says when an update comes out,\ngo ahead and download it.\n\n222\n00:11:01,730 --> 00:11:03,965\nJust download it in the background and\nlet it sit there on the hard drive.\n\n223\n00:11:03,965 --> 00:11:07,530\nYou might not install today,\nyou might not install it for a week.\n\n224\n00:11:07,530 --> 00:11:10,610\nBut at some point your gonna wanna install\nit, let's go ahead and download it.\n\n225\n00:11:10,610 --> 00:11:13,865\nSo it'll download it and\nlet it sit there on the hard drive.\n\n226\n00:11:13,865 --> 00:11:14,370\nRight.\nAnd\n\n227\n00:11:14,370 --> 00:11:16,920\nonce it's downloaded we'll get\na notification saying there's\n\n228\n00:11:16,920 --> 00:11:18,110\na download ready.\n\n229\n00:11:18,110 --> 00:11:21,190\nAnd when we hit that install button it\ndoesn't have to download it again it's\n\n230\n00:11:21,190 --> 00:11:21,750\nalready done.\n\n231\n00:11:22,780 --> 00:11:24,870\nWe've got Install App updates.\n\n232\n00:11:25,940 --> 00:11:29,150\nSo if an update comes up for\none of my apps go ahead and do it.\n\n233\n00:11:29,150 --> 00:11:33,120\nJust go ahead and do the update for the\napp I don't wanna worry about it, right.\n\n234\n00:11:33,120 --> 00:11:34,210\nYou can do the same thing for\n\n235\n00:11:34,210 --> 00:11:37,560\nthe operating system,\ninstall OS 10 updates, right.\n\n236\n00:11:37,560 --> 00:11:40,901\nSo, if a new update comes out for\nthe OS go ahead and do it, right.\n\n237\n00:11:40,901 --> 00:11:43,371\nI'm running 10.10.2 right now.\n\n238\n00:11:43,371 --> 00:11:46,440\nIf 10.10.3 comes out, go ahead and do it.\n\n239\n00:11:46,440 --> 00:11:46,940\nJust apply it.\n\n240\n00:11:47,970 --> 00:11:51,790\nAnd then we've got Install System\nData Files and Security Updates.\n\n241\n00:11:51,790 --> 00:11:53,160\nThat's the most important one, right.\n\n242\n00:11:53,160 --> 00:11:54,460\nThat's the one we really want.\n\n243\n00:11:54,460 --> 00:11:58,020\nYou might wanna hold\noff on app updates and\n\n244\n00:11:58,020 --> 00:12:01,050\nOS updates,\nbecause they might break your software.\n\n245\n00:12:01,050 --> 00:12:04,280\nBut security updates, you probably\ndon't wanna hold off on those.\n\n246\n00:12:04,280 --> 00:12:05,580\nSo we can check that.\n\n247\n00:12:05,580 --> 00:12:09,190\nAnd now when a security update comes out,\nit will automatically download it, and\n\n248\n00:12:09,190 --> 00:12:11,500\nit will automatically install it.\n\n249\n00:12:11,500 --> 00:12:13,790\nBut it won't do the app in OS updates.\n\n250\n00:12:13,790 --> 00:12:16,250\nIt'll download those but\nit won't install them.\n\n251\n00:12:16,250 --> 00:12:16,880\nAll right.\n\n252\n00:12:16,880 --> 00:12:19,188\nWe pick and choose what's\ngonna be right for our server.\n\n253\n00:12:22,462 --> 00:12:26,100\nNow, the control there\nis somewhat limited.\n\n254\n00:12:26,100 --> 00:12:26,760\nAll right.\n\n255\n00:12:26,760 --> 00:12:30,480\nWhat if an update comes out that\ndoesn't add any security fixes.\n\n256\n00:12:30,480 --> 00:12:34,030\nIt's just like features and\nit breaks some of my software.\n\n257\n00:12:34,030 --> 00:12:37,800\nSo I say I don't wanna do that update,\nI don't wanna break my software.\n\n258\n00:12:37,800 --> 00:12:42,250\nWell, none of the options we've seen so\nfar give us the option to refuse\n\n259\n00:12:42,250 --> 00:12:44,422\nan update, to say you know what,\nwe're not gonna do that update at all.\n\n260\n00:12:44,422 --> 00:12:45,482\nAll right.\n\n261\n00:12:45,482 --> 00:12:49,090\nSomebody else could come behind me and\nfire up this App Store and\n\n262\n00:12:49,090 --> 00:12:50,150\nthe updates and apply that update.\n\n263\n00:12:50,150 --> 00:12:51,525\nThere's nothing stopping them.\n\n264\n00:12:51,525 --> 00:12:53,000\nRight.\nI'm stopping myself\n\n265\n00:12:53,000 --> 00:12:54,710\nfrom applying the update.\n\n266\n00:12:54,710 --> 00:12:57,010\nWell, inside of the Server app.\n\n267\n00:12:57,010 --> 00:13:00,790\nWe have a special service in there\ncalled the Software Update Service.\n\n268\n00:13:00,790 --> 00:13:03,470\nAnd it does give us\nthe ability to filter that.\n\n269\n00:13:03,470 --> 00:13:06,680\nNow, we're gonna talk about the Software\nUpdate Service more, in a later episode.\n\n270\n00:13:06,680 --> 00:13:09,360\nBut I wanna give you guys kind of\na quick preview of how it works.\n\n271\n00:13:09,360 --> 00:13:11,410\nSo, let me show you how we could use this.\n\n272\n00:13:11,410 --> 00:13:15,848\nIdeally we don't want our\nservers to not do updates.\n\n273\n00:13:15,848 --> 00:13:16,700\nRight.\n\n274\n00:13:16,700 --> 00:13:21,210\nSo ideally we want to be able to come\ninto our App Store settings here and\n\n275\n00:13:21,210 --> 00:13:23,300\nturn on all the automatic updates.\n\n276\n00:13:23,300 --> 00:13:25,670\nYeah go ahead and\njust do the updates as they come out.\n\n277\n00:13:25,670 --> 00:13:29,460\nWhat we want is the ability to\ncontrol which updates are approved and\n\n278\n00:13:29,460 --> 00:13:30,110\nwhich ones aren't.\n\n279\n00:13:30,110 --> 00:13:33,080\nSo I can say update my 100 servers and\n\n280\n00:13:33,080 --> 00:13:38,400\ni'll set them all to do automatic updating\nbut here's the updates I want them to get,\n\n281\n00:13:38,400 --> 00:13:39,830\nhere's the updates I\ndon't want them to get.\n\n282\n00:13:39,830 --> 00:13:42,860\nI want an approval process, all right.\n\n283\n00:13:42,860 --> 00:13:43,800\nAnd we can do that.\n\n284\n00:13:43,800 --> 00:13:46,590\nIn the Server app,\nif I get back into that,\n\n285\n00:13:49,490 --> 00:13:53,650\nthere's an advanced service called\nthe Software Update Service.\n\n286\n00:13:53,650 --> 00:13:55,550\nLet me just get logged in here.\n\n287\n00:13:55,550 --> 00:13:56,460\nAnd we shall see it.\n\n288\n00:13:57,680 --> 00:13:58,690\nThe Software Update Service.\n\n289\n00:13:58,690 --> 00:14:00,440\nWhat it does is.\n\n290\n00:14:00,440 --> 00:14:04,090\nNormally when a Mac does an update,\nit reaches out to Apple servers and\n\n291\n00:14:04,090 --> 00:14:05,260\nit gets the updates right from there.\n\n292\n00:14:05,260 --> 00:14:08,520\nAnd Apple shows them all\nof the available updates.\n\n293\n00:14:08,520 --> 00:14:13,430\nWhen we set up our own software\nupdate server though, we,\n\n294\n00:14:13,430 --> 00:14:18,460\nour software update server, it reaches out\nto Apple, downloads all of the updates,\n\n295\n00:14:18,460 --> 00:14:22,190\nand then lets us pick and choose which\nones are allowed and which ones aren't.\n\n296\n00:14:22,190 --> 00:14:23,790\nAnd we can set all of our clients and\n\n297\n00:14:23,790 --> 00:14:28,660\nall of our servers to look to our own\nsoftware update, and they get the updates\n\n298\n00:14:28,660 --> 00:14:32,730\nfrom our system, where we've got\na lot more fine grain control.\n\n299\n00:14:32,730 --> 00:14:34,240\nWell this is an advanced service, so\n\n300\n00:14:34,240 --> 00:14:37,890\nwhen I go into the server manager I go to\ngo over here to the advanced section, and\n\n301\n00:14:37,890 --> 00:14:41,080\nyou'll see software update\nright there at the bottom.\n\n302\n00:14:41,080 --> 00:14:43,880\nWe can turn on that\nSoftware Update Service.\n\n303\n00:14:43,880 --> 00:14:44,482\nLet me go ahead and turn it on.\n\n304\n00:14:46,386 --> 00:14:48,710\nAnd then you'll see the options\nthat we've got here.\n\n305\n00:14:48,710 --> 00:14:50,230\nThere's two modes for it.\n\n306\n00:14:50,230 --> 00:14:52,670\nAutomatic and manual.\n\n307\n00:14:52,670 --> 00:14:56,790\nIf I have 100 servers, and the hundred\nservers are all going out to Apple to\n\n308\n00:14:56,790 --> 00:14:59,620\ndownload updates, that means I'm\ndownload each update one hundred times.\n\n309\n00:14:59,620 --> 00:15:00,960\nThat's pretty wasteful.\n\n310\n00:15:01,960 --> 00:15:05,430\nIf that's the problem I'm trying to solve,\nI can choose automatic.\n\n311\n00:15:06,630 --> 00:15:09,890\nThis server will download\nall the updates and\n\n312\n00:15:09,890 --> 00:15:12,830\nwhen the other guys, when my other\nhundred servers go out to get updates,\n\n313\n00:15:12,830 --> 00:15:14,800\nthey'll just come and\nget it right here from this server.\n\n314\n00:15:14,800 --> 00:15:16,840\nIt kinds of acts like a caching server.\n\n315\n00:15:16,840 --> 00:15:20,520\nIn fact, we'll see later on in the series\nthat the caching server can be used for\n\n316\n00:15:20,520 --> 00:15:22,110\nthat exact functionality.\n\n317\n00:15:22,110 --> 00:15:25,260\nSo automatic mode is not really doing\nanything that the caching feature\n\n318\n00:15:25,260 --> 00:15:26,240\ncan't do already.\n\n319\n00:15:26,240 --> 00:15:27,860\nAnd the caching server does it better.\n\n320\n00:15:27,860 --> 00:15:30,162\nSo we're not normally gonna\nchoose automatic mode.\n\n321\n00:15:30,162 --> 00:15:31,580\nAll right.\n\n322\n00:15:31,580 --> 00:15:35,000\nInstead, we've got manual mode.\n\n323\n00:15:35,000 --> 00:15:39,010\nWith manual mode what happens is\nour server will reach out to Apple.\n\n324\n00:15:39,010 --> 00:15:44,080\nIt will get the full list of all the\nupdates that are available right now and\n\n325\n00:15:44,080 --> 00:15:48,310\nthen it will let us manually pick and\nchoose which ones we approve and\n\n326\n00:15:48,310 --> 00:15:49,930\nwhich ones we don't approve.\n\n327\n00:15:49,930 --> 00:15:53,250\nSo in my testing environment,\nI can test each update and I can say, yep,\n\n328\n00:15:53,250 --> 00:15:54,290\nthis one's perfect.\n\n329\n00:15:54,290 --> 00:15:56,950\nIt doesn't hurt my software,\nI'll go ahead and approve it.\n\n330\n00:15:56,950 --> 00:15:58,293\nAnd then all the clients and\n\n331\n00:15:58,293 --> 00:16:01,341\nall the servers that check in\nright here will get that update.\n\n332\n00:16:01,341 --> 00:16:04,806\nBut if a new update comes out and\nI say oh, I don't want that update\n\n333\n00:16:04,806 --> 00:16:07,893\nto break something,\nthen I can not approve that update and\n\n334\n00:16:07,893 --> 00:16:11,840\nother clients and servers,\nthey won't even see that update exists.\n\n335\n00:16:11,840 --> 00:16:13,190\nThey don't even know that it's there.\n\n336\n00:16:13,190 --> 00:16:13,740\nRight.\n\n337\n00:16:13,740 --> 00:16:16,240\nIt makes life more challenging.\n\n338\n00:16:16,240 --> 00:16:17,820\nWe have to configure all this stuff.\n\n339\n00:16:17,820 --> 00:16:20,810\nIt's a lot more administrative effort,\nbut we get security and\n\n340\n00:16:20,810 --> 00:16:23,220\nreliability in exchange and\nthat's usually worth it.\n\n341\n00:16:24,660 --> 00:16:27,760\nNow, I have this turned on and\nI just hit the manual box here.\n\n342\n00:16:27,760 --> 00:16:29,510\nThat's all I've done, haven't done much.\n\n343\n00:16:29,510 --> 00:16:32,550\nBut, if you go to the Updates\nbutton right here,\n\n344\n00:16:32,550 --> 00:16:34,810\nyou'll see the updates that are available.\n\n345\n00:16:34,810 --> 00:16:37,120\nRight now, it's reading the updates.\n\n346\n00:16:37,120 --> 00:16:38,360\nIt's just reaching out to Apple,\n\n347\n00:16:38,360 --> 00:16:41,450\nand you're getting a list of\nall the available updates.\n\n348\n00:16:41,450 --> 00:16:44,600\nThe first time you do this,\nit takes a while.\n\n349\n00:16:44,600 --> 00:16:48,450\nIt takes a while to get those updates and\nbuild up that list, right.\n\n350\n00:16:48,450 --> 00:16:51,380\nIt's downloading tons of XML\nfiles in the background.\n\n351\n00:16:51,380 --> 00:16:55,470\nBut it's not actually downloading\nthe updates themselves.\n\n352\n00:16:55,470 --> 00:16:57,265\nIt's just downloading\nthat the updates exist.\n\n353\n00:16:57,265 --> 00:16:58,660\nAll right.\n\n354\n00:16:58,660 --> 00:17:02,220\nIf we wanna download the updates also,\nwe can check that box right here,\n\n355\n00:17:02,220 --> 00:17:03,580\nautomatically download new updates.\n\n356\n00:17:04,810 --> 00:17:09,140\nKeep in mind that it's gonna\ndownload all the updates from Apple,\n\n357\n00:17:09,140 --> 00:17:10,070\nwhether we approve them or not.\n\n358\n00:17:10,070 --> 00:17:11,490\nIt's gonna download all of them, and\n\n359\n00:17:11,490 --> 00:17:14,590\nwhen it does that,\nit's gotta store them somewhere.\n\n360\n00:17:14,590 --> 00:17:18,750\nSo you need to make sure that your service\ndata, wherever you're storing that.\n\n361\n00:17:18,750 --> 00:17:20,080\nIf your storing it on your route drive or\n\n362\n00:17:20,080 --> 00:17:23,810\nif you've moved it to a separate\ndrive like I have, that service data,\n\n363\n00:17:23,810 --> 00:17:26,315\nyou need to have enough room for\nall the updates that are out there.\n\n364\n00:17:26,315 --> 00:17:27,170\nAll right.\n\n365\n00:17:27,170 --> 00:17:31,060\nIf Yosemite comes out, well it already\nhas right, so when Yosemite came out,\n\n366\n00:17:31,060 --> 00:17:34,390\nits a 5 gig installer,\nit's gonna download a 5 gigabyte file.\n\n367\n00:17:34,390 --> 00:17:36,180\nAnd it's gonna have\nthe maverick's installer, right?\n\n368\n00:17:36,180 --> 00:17:36,920\nAnd that's gonna sit there.\n\n369\n00:17:36,920 --> 00:17:38,050\nAnd that's another 5 gigabyte file.\n\n370\n00:17:38,050 --> 00:17:40,110\nAnd that starts to add up over time.\n\n371\n00:17:40,110 --> 00:17:43,230\nMost updates are pretty small, but\nthe big operating system updates.\n\n372\n00:17:43,230 --> 00:17:45,550\nThey're big, and\nthey'll take up that space.\n\n373\n00:17:47,110 --> 00:17:52,600\nAll right.\nSame thing with iPhoto and Numbers and\n\n374\n00:17:52,600 --> 00:17:54,420\nPages and all those other applications,\n\n375\n00:17:54,420 --> 00:17:56,180\nthey all take up space too\nas we download updates.\n\n376\n00:17:56,180 --> 00:17:59,760\nAll right, now this reading process,\nit takes awhile and\n\n377\n00:17:59,760 --> 00:18:00,970\nI'm not gonna wait for it.\n\n378\n00:18:00,970 --> 00:18:01,960\nBut we can actually,\n\n379\n00:18:01,960 --> 00:18:04,830\nlet's see if I can just get it to\nshow me what it's downloaded already.\n\n380\n00:18:05,980 --> 00:18:07,640\nSometimes if you close\nthe server manager and\n\n381\n00:18:07,640 --> 00:18:11,630\ngo back into it, it'll show you what it's\ndownloaded already it'll be incomplete,\n\n382\n00:18:11,630 --> 00:18:14,720\nbut it does take a while to get\nthe complete set of updates.\n\n383\n00:18:14,720 --> 00:18:18,380\nSo, what I normally do is I turn\nthis on and then I just give it give\n\n384\n00:18:18,380 --> 00:18:21,300\nit about 24 hours and come back and\ncheck the next day [LAUGH], so especially\n\n385\n00:18:21,300 --> 00:18:25,280\nif you're downloading the updates, cuz\nit'll need time to download all of that.\n\n386\n00:18:25,280 --> 00:18:28,340\nBut once it's done,\nyou're now an update server.\n\n387\n00:18:28,340 --> 00:18:31,690\nAnd clients can check in\nwith you to get updates.\n\n388\n00:18:31,690 --> 00:18:33,075\nAnd, it's still running.\n\n389\n00:18:33,075 --> 00:18:34,210\nRight.\nI\n\n390\n00:18:34,210 --> 00:18:35,680\ndo want to show this to you guys, though.\n\n391\n00:18:35,680 --> 00:18:38,210\nBasically, you'll have a list of\nall the updates that are out there.\n\n392\n00:18:38,210 --> 00:18:42,270\nAnd when you highlight the updates,\nyou'll have a couple of options.\n\n393\n00:18:42,270 --> 00:18:44,450\nAnd you see this little\ngear icon down here.\n\n394\n00:18:44,450 --> 00:18:48,950\nSee how I've got Download,\nDownload and Enable, Enable, Disable,\n\n395\n00:18:48,950 --> 00:18:49,600\nRemove and View Update.\n\n396\n00:18:49,600 --> 00:18:54,270\nEach one of these are the different\nstatuses that I can set for an update.\n\n397\n00:18:54,270 --> 00:18:55,290\nDownload.\n\n398\n00:18:55,290 --> 00:18:57,200\nThat says go ahead and\ndownload the update from Apple,\n\n399\n00:18:57,200 --> 00:19:00,220\nstore it right here, but\njust let it sit there.\n\n400\n00:19:00,220 --> 00:19:01,230\nI'm not ready to give it out yet.\n\n401\n00:19:02,500 --> 00:19:03,990\nDownload and enable.\n\n402\n00:19:03,990 --> 00:19:07,520\nNow I'm gonna download the update from\nApple, I'm gonna save it right here,\n\n403\n00:19:07,520 --> 00:19:10,380\nand I'm gonna enable it which means\nI'm gonna let my clients see it.\n\n404\n00:19:10,380 --> 00:19:11,410\nThey're now gonna see it.\n\n405\n00:19:11,410 --> 00:19:12,300\nThey can apply the update.\n\n406\n00:19:13,790 --> 00:19:14,780\nEnable.\n\n407\n00:19:14,780 --> 00:19:18,110\nIf I've already downloaded\nit Then I just need to\n\n408\n00:19:18,110 --> 00:19:20,720\nenable it to make it\nvisible to my end users.\n\n409\n00:19:20,720 --> 00:19:24,290\nMaybe I enable it and\na couple of users, it breaks something.\n\n410\n00:19:24,290 --> 00:19:26,870\nAnd I start getting calls on\nthe help desk, hey, this is broken.\n\n411\n00:19:26,870 --> 00:19:29,130\nSo I rush right back in here and\nI disable it.\n\n412\n00:19:29,130 --> 00:19:30,900\nI don't want anybody\nelse getting that update.\n\n413\n00:19:32,080 --> 00:19:35,280\nI disable it until I can figure\nout what the problem is.\n\n414\n00:19:35,280 --> 00:19:38,500\nIf the problem turns out to be unrelated,\nI can enable it again, right.\n\n415\n00:19:38,500 --> 00:19:39,770\nWe just come up here and\nclick Enable, right.\n\n416\n00:19:39,770 --> 00:19:40,760\nThose are the different options.\n\n417\n00:19:41,930 --> 00:19:43,570\nIf it's really bad, though.\n\n418\n00:19:43,570 --> 00:19:46,490\nIf the update goes out and it starts\ncausing a lot of problems, say hey,\n\n419\n00:19:46,490 --> 00:19:50,460\na wi-fi drops and then Apple says,\noh, we're working on a new update.\n\n420\n00:19:50,460 --> 00:19:51,980\nWe're gonna push a new update out.\n\n421\n00:19:51,980 --> 00:19:54,120\nDon't do this update in the meantime.\n\n422\n00:19:54,120 --> 00:19:57,260\nWell, I might want to remove the update.\n\n423\n00:19:57,260 --> 00:19:57,860\nOkay.\n\n424\n00:19:57,860 --> 00:20:01,120\nIf I remove the update,\nnot only is it pulling out of my database,\n\n425\n00:20:01,120 --> 00:20:03,730\nbut it tells those clients out there,\nhey, you guys need to remove this, too.\n\n426\n00:20:03,730 --> 00:20:05,420\nGet it off of your system.\n\n427\n00:20:05,420 --> 00:20:06,960\nBecause we can actually\nroll back an update.\n\n428\n00:20:06,960 --> 00:20:09,990\nAnd then we've got this few of the update,\nright.\n\n429\n00:20:09,990 --> 00:20:12,750\nActually see what the update\nis that is on the system.\n\n430\n00:20:12,750 --> 00:20:16,980\nSo, those are the different things that\nwe can do as we pull this update list.\n\n431\n00:20:16,980 --> 00:20:21,830\nThis gives us full and total control\nof the updates that go out, right.\n\n432\n00:20:21,830 --> 00:20:25,200\nAnd here is the only challenge,\nbecause this is all pretty easy.\n\n433\n00:20:25,200 --> 00:20:27,670\nIt was really just two or\nthree buttons and your done.\n\n434\n00:20:27,670 --> 00:20:30,860\nThat challenges,\nhow do all those clients and servers,\n\n435\n00:20:30,860 --> 00:20:35,770\nhow do they know to look at this updates\nserver, instead of going up to Apple.\n\n436\n00:20:35,770 --> 00:20:37,030\nThe short answer is they don't.\n\n437\n00:20:37,030 --> 00:20:38,160\nThey're gonna go right up to Apple.\n\n438\n00:20:38,160 --> 00:20:40,780\nThey'll ignore the server completely,\nall right.\n\n439\n00:20:40,780 --> 00:20:43,830\nSo if I want to setup my\nsoftware update server there\n\n440\n00:20:43,830 --> 00:20:45,120\nis a second step I have to do.\n\n441\n00:20:45,120 --> 00:20:50,620\nI have to create a configuration\nprofile in the Profile Manager right,\n\n442\n00:20:50,620 --> 00:20:56,220\nup here, and we can push a configuration\nout to our clients to tell them\n\n443\n00:20:56,220 --> 00:20:59,380\nto check in with this update\nserver instead of Apple, right.\n\n444\n00:20:59,380 --> 00:21:02,380\nOr you can write a custom P list file,\na preference list and\n\n445\n00:21:02,380 --> 00:21:04,630\nyou can push that out to the client and\nthat will work too, so\n\n446\n00:21:04,630 --> 00:21:07,390\nyou don't actually have to use\nthe profile manager if you don't want to.\n\n447\n00:21:07,390 --> 00:21:09,540\nBut those are some extra\nsteps that are involved.\n\n448\n00:21:09,540 --> 00:21:13,020\nOn the exam, they'll expect you to know\nhow to use the configuration manager.\n\n449\n00:21:13,020 --> 00:21:16,040\nAnd we're gonna have a whole show built\naround just the configuration manager\n\n450\n00:21:16,040 --> 00:21:18,730\nthat's coming up in this\nseries a little bit later.\n\n451\n00:21:18,730 --> 00:21:20,310\nSo I'll hold off on that for now.\n\n452\n00:21:20,310 --> 00:21:23,630\nBut I did wanna show you guys this\nsoftware update functionality.\n\n453\n00:21:23,630 --> 00:21:25,860\nThat's how we get fine grain control.\n\n454\n00:21:25,860 --> 00:21:29,330\nThe controls that are here\nin our System Preferences,\n\n455\n00:21:29,330 --> 00:21:31,040\nif I go into System Preferences and\n\n456\n00:21:31,040 --> 00:21:36,070\nI go into the App Store, these controls\nare really broad and really general.\n\n457\n00:21:36,070 --> 00:21:38,445\nI can't pick and\nchoose individual updates.\n\n458\n00:21:38,445 --> 00:21:39,050\nRight.\nBut\n\n459\n00:21:39,050 --> 00:21:41,720\nwhen I do it through\nSoftware Update in the Server app,\n\n460\n00:21:41,720 --> 00:21:43,650\nI do get a lot more control.\n\n461\n00:21:43,650 --> 00:21:45,130\nAnd that's what you're gonna use.\n\n462\n00:21:45,130 --> 00:21:47,570\nIn large organization and enterprises.\n\n463\n00:21:47,570 --> 00:21:50,090\nYou can set up your software update\nserver to give you manual control,\n\n464\n00:21:50,090 --> 00:21:54,040\nand then you can just take your servers,\nand you can check off all this stuff.\n\n465\n00:21:54,040 --> 00:21:57,380\nGo ahead and automatically check in\nwith our Software Update server.\n\n466\n00:21:57,380 --> 00:22:00,690\nAnd if we've approved App or\nOS updates, go ahead and do them.\n\n467\n00:22:00,690 --> 00:22:02,690\nBut it's gonna wait until we approve them.\n\n468\n00:22:02,690 --> 00:22:05,060\nSo now my hundred servers\nwould all be set this way.\n\n469\n00:22:06,060 --> 00:22:09,841\nAnd then I'd have one server somewhere\nthat was running Software Update, and\n\n470\n00:22:09,841 --> 00:22:13,956\nthat's where I would actually be\ncontrolling what was going on.\n\n471\n00:22:13,956 --> 00:22:16,631\nLet me see, this is actually taking\na little bit longer than normal just to\n\n472\n00:22:16,631 --> 00:22:17,160\nget the list.\n\n473\n00:22:20,180 --> 00:22:22,560\nWell you know what, let's do this,\nI do want you guys to see the list but\n\n474\n00:22:22,560 --> 00:22:25,050\nI might have to save it for\nlater in the episode if it takes too long.\n\n475\n00:22:25,050 --> 00:22:26,930\nApple's servers might be busy right now.\n\n476\n00:22:26,930 --> 00:22:30,230\nIt usually doesn't take this long\njust to get me the raw list.\n\n477\n00:22:30,230 --> 00:22:32,620\nBut let's do this,\nlet's stop and take a break.\n\n478\n00:22:32,620 --> 00:22:35,240\nAnd during the break we'll give it a few\nmore minutes there to see if it kind of\n\n479\n00:22:35,240 --> 00:22:36,280\nchurns along.\n\n480\n00:22:36,280 --> 00:22:40,480\nWhen we get back, I wanna show you\nguys that list if it ever comes up.\n\n481\n00:22:40,480 --> 00:22:44,640\nBut if not, the next thing I wanna\ntalk about is backing up and\n\n482\n00:22:44,640 --> 00:22:45,825\nrestoring your server.\n\n483\n00:22:45,825 --> 00:22:47,530\nRight.\nIf we have something really bad happen,\n\n484\n00:22:47,530 --> 00:22:49,200\nwe need to be able to back it up and\nrestore it so\n\n485\n00:22:49,200 --> 00:22:51,690\nthat's gonna be our\nnext topic to touch on.\n\n486\n00:22:51,690 --> 00:22:54,000\nSo, for right now,\nlet's pause and take a break.\n\n487\n00:22:54,000 --> 00:22:57,082\nWhen we get back,\nmore server maintenance after this.\n\n488\n00:22:57,082 --> 00:23:03,748\n[SOUND].\n\n489\n00:23:03,748 --> 00:23:06,574\nAll right, welcome back everybody,\nso during the break,\n\n490\n00:23:06,574 --> 00:23:08,560\nit finally did pull down the update list.\n\n491\n00:23:08,560 --> 00:23:11,360\nSo I've got that up on my screen here,\nlet me show you guys.\n\n492\n00:23:11,360 --> 00:23:14,610\nOnce it's downloaded the full list from\nApple you'll see something like this and\n\n493\n00:23:14,610 --> 00:23:18,260\nyou'll see tons of updates\nin here that it's pulled.\n\n494\n00:23:18,260 --> 00:23:22,100\nSome of them will be for\nsystems that you've never even run before,\n\n495\n00:23:22,100 --> 00:23:24,080\nlike we had\nCanon Laser Printer Software updates.\n\n496\n00:23:24,080 --> 00:23:27,260\nMaybe you don't have any Canon\nlaser printers that's fine,\n\n497\n00:23:27,260 --> 00:23:29,340\nits just basically pulling these because\n\n498\n00:23:30,530 --> 00:23:33,220\nthere may be other systems in your\nnetwork that use them, right.\n\n499\n00:23:33,220 --> 00:23:37,650\nThis is the full list of updates\navailable from Apple Service right now.\n\n500\n00:23:37,650 --> 00:23:41,000\nNow as Apple phases out support for\noperating systems they remove updates, so\n\n501\n00:23:41,000 --> 00:23:42,890\nyou only go back so far.\n\n502\n00:23:42,890 --> 00:23:44,017\nIf we look at some of these,\n\n503\n00:23:44,017 --> 00:23:47,300\nyou'll see updates that go back to like\nMountain Lion and even some Snow Leopard\n\n504\n00:23:47,300 --> 00:23:50,550\nupdates, they really don't see things\nfrom before that in the earlier days.\n\n505\n00:23:50,550 --> 00:23:52,459\nSo, it only goes back so far, but\n\n506\n00:23:52,459 --> 00:23:55,550\nas you look through you'll\nsee your current OSs too.\n\n507\n00:23:55,550 --> 00:24:00,189\nSo, for example I'm running,\nactually what am I running these days?\n\n508\n00:24:00,189 --> 00:24:04,070\nI'm pretty sure I'm on 10.10.2 already but\nlet's verify that.\n\n509\n00:24:04,070 --> 00:24:05,930\nSo I am running OS 10, 10.10.2.\n\n510\n00:24:05,930 --> 00:24:10,800\nYeah so I'm already on 10.10.2\nwhich is the newest one, but\n\n511\n00:24:10,800 --> 00:24:13,060\nif I go in here and\nlook I can find OS 10, and\n\n512\n00:24:13,060 --> 00:24:18,110\nI should already have it highlighted\nfrom the break cause I saw it in there.\n\n513\n00:24:18,110 --> 00:24:22,410\nBut here we go.\n\n514\n00:24:22,410 --> 00:24:23,950\nSo we've got OS X updates.\n\n515\n00:24:23,950 --> 00:24:26,680\nAnd like here's all the Mavericks\nDeveloper Previews that came out.\n\n516\n00:24:26,680 --> 00:24:28,760\nAnd see how they're all listed separate?\n\n517\n00:24:28,760 --> 00:24:31,560\nEach Preview superseded\nthe ones before it, right?\n\n518\n00:24:31,560 --> 00:24:34,110\nSo if you have Preview 5 out,\ndo you really need 2, 3, and 4?\n\n519\n00:24:34,110 --> 00:24:36,130\nMost people wouldn't.\n\n520\n00:24:36,130 --> 00:24:40,180\nBut maybe you're not ready to roll out 5\nyet, maybe you're staying on 4, right?\n\n521\n00:24:40,180 --> 00:24:42,210\nYou're developing, and\nyou're still staying there.\n\n522\n00:24:42,210 --> 00:24:44,510\nSo you can pick and choose amongst them.\n\n523\n00:24:44,510 --> 00:24:46,670\nBut here my OS 10 updates.\n\n524\n00:24:46,670 --> 00:24:51,116\nSome of these are from Mavericks,\nlike this one's 10.9.5.\n\n525\n00:24:51,116 --> 00:24:52,940\nWe got 10.8.5, here's 10.10.2.\n\n526\n00:24:52,940 --> 00:24:56,250\nRight different ones for different OS's.\n\n527\n00:24:56,250 --> 00:25:00,280\nIf I only have Yosemite Systems\non my Network and\n\n528\n00:25:00,280 --> 00:25:02,510\nI don't have any more Mavericks or\nanything like that.\n\n529\n00:25:02,510 --> 00:25:05,185\nThen I'm just concerned\nabout this one right here.\n\n530\n00:25:05,185 --> 00:25:08,220\n10.10.2.\nSo over here where it says available I can\n\n531\n00:25:08,220 --> 00:25:11,580\nclick that and\ni can choose Download and Enable.\n\n532\n00:25:11,580 --> 00:25:14,780\nIt's gonna download it from Apple servers,\nit's gonna store it right here and\n\n533\n00:25:14,780 --> 00:25:17,860\nit's gonna make it available\nright here to my End users.\n\n534\n00:25:17,860 --> 00:25:22,420\nNow it is 933 megs in size so\nit's about to download a one gig file and\n\n535\n00:25:22,420 --> 00:25:24,252\nthat file's gonna sit\nthere on the Hard drive.\n\n536\n00:25:24,252 --> 00:25:26,560\nI'm gonna make sure I have space for that.\n\n537\n00:25:26,560 --> 00:25:30,890\nAs I approve other updates, like here,\nmaybe I do still have some Mavericks or\n\n538\n00:25:30,890 --> 00:25:34,940\nMountain Lion systems that are out there,\nand so I wanna get these updates also.\n\n539\n00:25:34,940 --> 00:25:37,040\nSo I can come through and\nDownload and Enable.\n\n540\n00:25:37,040 --> 00:25:40,880\nNow when you choose Download and Enable,\nthat says go ahead and download it, and\n\n541\n00:25:40,880 --> 00:25:43,720\nmake it available to\nthose clients right now.\n\n542\n00:25:43,720 --> 00:25:46,590\nMaybe I'm not ready to make\nit available right now.\n\n543\n00:25:46,590 --> 00:25:47,720\nMaybe I just need to test it.\n\n544\n00:25:47,720 --> 00:25:50,380\nSo I might wanna download it,\nbut not actually enable it yet.\n\n545\n00:25:50,380 --> 00:25:51,880\nSo you do have that option.\n\n546\n00:25:51,880 --> 00:25:53,690\nAnd you can always change\nthe status afterwards too.\n\n547\n00:25:53,690 --> 00:25:58,510\nYou can always go down here and disable it\nand change that status however you need.\n\n548\n00:25:58,510 --> 00:26:00,240\nSo you got a few different options there.\n\n549\n00:26:00,240 --> 00:26:02,110\nBut it's gonna start downloading those.\n\n550\n00:26:02,110 --> 00:26:04,870\nNow I mentioned Disk space.\n\n551\n00:26:04,870 --> 00:26:08,940\nIf you download all the updates it can\ntake a decent amount of disk space.\n\n552\n00:26:08,940 --> 00:26:12,280\nI don't think it actually gives\nus a total but it does add up.\n\n553\n00:26:12,280 --> 00:26:16,450\nSo that's one of those scenarios where\nyou may need to move your service data\n\n554\n00:26:16,450 --> 00:26:19,290\npartition off to another drive.\n\n555\n00:26:19,290 --> 00:26:21,770\nAnd if you remember from the earlier\nepisodes which you may or\n\n556\n00:26:21,770 --> 00:26:24,070\nmay not have seen,\nwe can do that pretty easily.\n\n557\n00:26:24,070 --> 00:26:25,680\nIf we go up to our server.\n\n558\n00:26:25,680 --> 00:26:27,870\nJust up to the main server entry here.\n\n559\n00:26:27,870 --> 00:26:30,020\nAnd go to the Settings button.\n\n560\n00:26:30,020 --> 00:26:32,800\nYou have the Service Data Location,\nright here.\n\n561\n00:26:32,800 --> 00:26:34,650\nThe default is gonna say Macintosh HD.\n\n562\n00:26:34,650 --> 00:26:37,200\nIt'll be right on your root drive.\n\n563\n00:26:37,200 --> 00:26:38,720\nYour root volume.\n\n564\n00:26:38,720 --> 00:26:41,160\nBut, you don't want your root\nvolume to fill up with updates, and\n\n565\n00:26:41,160 --> 00:26:42,900\nthen the Operating System crashes.\n\n566\n00:26:42,900 --> 00:26:45,180\nSo we'll probably want to move\nthat off to a different drive and\n\n567\n00:26:45,180 --> 00:26:49,050\nthat's exactly what I've done is I had an\nextra drive here for my Service data, and\n\n568\n00:26:49,050 --> 00:26:52,540\nso I just hit edit and\nI picked that other drive.\n\n569\n00:26:52,540 --> 00:26:56,600\nSo backing up to that other drive,\nnow all of my service data, my websites,\n\n570\n00:26:56,600 --> 00:26:59,210\nmy software updates,\nall the other stuff that I load.\n\n571\n00:26:59,210 --> 00:27:00,638\nGets pushed off into that other drive and\n\n572\n00:27:00,638 --> 00:27:02,488\nI don't have to worry about\nrunning out of OS space.\n\n573\n00:27:04,775 --> 00:27:08,630\nSo that's gonna download in\nthe background, we just kinda let it run.\n\n574\n00:27:08,630 --> 00:27:13,270\nIt'll take a little while to download but\nif I browse into my Service Data Disk >\n\n575\n00:27:13,270 --> 00:27:19,080\nLibrary > Server, you can look in here and\nyou'll see the different folders and\n\n576\n00:27:19,080 --> 00:27:21,420\nI've got that folder right there for\nSoftware Update.\n\n577\n00:27:21,420 --> 00:27:24,320\nLet me turn on my path bar so\nyou can see where I'm at.\n\n578\n00:27:24,320 --> 00:27:28,810\nSo I browsed into my Service Data drive,\nand I went into /Library/Server, and\n\n579\n00:27:28,810 --> 00:27:32,590\nif I go into Software Update,\nthere's a Data folder and\n\n580\n00:27:32,590 --> 00:27:35,020\nin here is where all\nthe updates will reside.\n\n581\n00:27:36,210 --> 00:27:40,140\nNow, my updates are still downloading, so\nthey're not gonna show up just yet, but\n\n582\n00:27:40,140 --> 00:27:43,730\nI've got this, HTML folder, and\nthis sis where it has its catalog,\n\n583\n00:27:43,730 --> 00:27:48,080\nwhere it's got all the various\ndefinitions of what updates exist.\n\n584\n00:27:48,080 --> 00:27:51,330\nAnd, so these are what are being\nupdated with that download.\n\n585\n00:27:51,330 --> 00:27:53,700\nAnd if we browse even further.\n\n586\n00:27:53,700 --> 00:27:56,050\nSee all these little\nscattered download folders.\n\n587\n00:27:56,050 --> 00:27:57,650\nThese are where it's starting\nto download things to.\n\n588\n00:27:57,650 --> 00:28:01,140\nAnd I have no idea which one my\nupdate would actually end up in.\n\n589\n00:28:01,140 --> 00:28:04,160\nBecause, these are all tied to\ndifferent identities and stuff.\n\n590\n00:28:04,160 --> 00:28:05,730\nIn one of these folders.\n\n591\n00:28:05,730 --> 00:28:09,090\nI'll browse in here and find the update\nthat I'm downloading right now.\n\n592\n00:28:09,090 --> 00:28:10,950\nBut in the meantime,\nit's just a little definition.\n\n593\n00:28:10,950 --> 00:28:13,100\nSo I just found an aperture update.\n\n594\n00:28:13,100 --> 00:28:15,280\nIt hasn't actually\ndownloaded this update yet.\n\n595\n00:28:15,280 --> 00:28:18,990\nThis SMD file, that's just\ndefining that the update exists.\n\n596\n00:28:18,990 --> 00:28:22,220\nI haven't downloaded it yet, but\nif I download it, it'll come in here and\n\n597\n00:28:22,220 --> 00:28:23,130\nappear alongside it.\n\n598\n00:28:23,130 --> 00:28:27,620\nSo that's all being nested in there,\nthat's the Update System.\n\n599\n00:28:27,620 --> 00:28:28,300\nAll right.\n\n600\n00:28:28,300 --> 00:28:31,600\nSo, definitely important and the only\npiece that I'm leaving out here is\n\n601\n00:28:31,600 --> 00:28:35,520\nhow to get our clients to connect to use\nus as software update instead of Apple.\n\n602\n00:28:35,520 --> 00:28:38,670\nAnd we'll tackle that when we get to\nthe configuration manage episodes and\n\n603\n00:28:38,670 --> 00:28:39,550\nthe profile manager.\n\n604\n00:28:39,550 --> 00:28:44,170\nThat's what we're gonna use\nto push those settings out.\n\n605\n00:28:44,170 --> 00:28:47,390\nAll right, key things to remember for\nthe exam definitely do your updates.\n\n606\n00:28:47,390 --> 00:28:49,510\nYou want your System to stay up to date.\n\n607\n00:28:49,510 --> 00:28:50,840\nThere's new exploits and\n\n608\n00:28:50,840 --> 00:28:54,660\nvulnerabilities found every single day and\nyou gotta stay on top of it.\n\n609\n00:28:54,660 --> 00:28:58,390\nOne of the things that Apple users\nhave said for years and years is boy\n\n610\n00:28:58,390 --> 00:29:01,700\nI'm glad I'm on an Apple because I\ndon't have to worry about viruses.\n\n611\n00:29:01,700 --> 00:29:03,480\nI don't have to worry about that.\n\n612\n00:29:03,480 --> 00:29:07,400\nWell the reality is you do have to worry\nabout it, right, just because you're on\n\n613\n00:29:07,400 --> 00:29:11,030\nan Apple device doesn't make you like\nmagically protected from the world.\n\n614\n00:29:11,030 --> 00:29:12,250\nRight we use that magic word.\n\n615\n00:29:12,250 --> 00:29:15,110\n[LAUGH] So there's nothing magic about it.\n\n616\n00:29:15,110 --> 00:29:21,180\nThe amazing part, the reason it's safe\nis that Apple is doing a great job\n\n617\n00:29:21,180 --> 00:29:26,610\nat spotting when an exploit is out there\nand releasing an update very fast.\n\n618\n00:29:26,610 --> 00:29:29,080\nAnd automatically pushing\nthat update to you.\n\n619\n00:29:29,080 --> 00:29:30,100\nSo the exploit was there.\n\n620\n00:29:30,100 --> 00:29:32,990\nIt was real.\nYou were at risk but they fixed it for\n\n621\n00:29:32,990 --> 00:29:34,790\nyou, you don't have to worry about it,\nright?\n\n622\n00:29:34,790 --> 00:29:35,780\nit's just done.\n\n623\n00:29:35,780 --> 00:29:37,440\nAnd now,\nyou don't have to worry about that.\n\n624\n00:29:37,440 --> 00:29:40,660\nSo you don't need antivirus software or\nAnti-Spyware or any of that.\n\n625\n00:29:40,660 --> 00:29:43,290\nYour System's already protected,\nthanks to Apple.\n\n626\n00:29:43,290 --> 00:29:46,370\nAnd that's all assuming\nyou're doing your updates.\n\n627\n00:29:46,370 --> 00:29:51,420\nIf you're not doing your updates,\nif you're running a stock version of\n\n628\n00:29:51,420 --> 00:29:56,070\nMavericks that's never been updated, then\nyou're open to all sorts of Java exploits,\n\n629\n00:29:56,070 --> 00:29:59,850\nand other things on the System\nthat put you at risk.\n\n630\n00:29:59,850 --> 00:30:02,970\nAnd you can live in a false\n\n631\n00:30:02,970 --> 00:30:06,450\nsense of security type world where you\nthink you're protected and you aren't.\n\n632\n00:30:06,450 --> 00:30:07,620\nSo updates are what make that happen.\n\n633\n00:30:07,620 --> 00:30:09,110\nYou've really got to make\nsure to do those updates.\n\n634\n00:30:11,260 --> 00:30:14,630\nAlright, so that's it for\ndoing the Software updates.\n\n635\n00:30:14,630 --> 00:30:16,730\nWell, actually it isn't.\n\n636\n00:30:16,730 --> 00:30:19,840\nI'm leaving out something\nthat's kinda important.\n\n637\n00:30:19,840 --> 00:30:22,640\nWhen I went into\nthe App Store System preferences.\n\n638\n00:30:22,640 --> 00:30:25,090\nLet me go back into there, okay.\n\n639\n00:30:25,090 --> 00:30:28,700\nIn the App Store System preferences,\none of the preferences that it displayed.\n\n640\n00:30:30,980 --> 00:30:32,730\nWas to do App updates.\n\n641\n00:30:32,730 --> 00:30:33,960\nOkay?\nSo that option right there,\n\n642\n00:30:33,960 --> 00:30:35,530\ninstall App updates.\n\n643\n00:30:35,530 --> 00:30:39,800\nWell, one of the Apps on my\nSystem is the Server app itself.\n\n644\n00:30:40,810 --> 00:30:43,020\nAnd Server app updates\nare a little bit special.\n\n645\n00:30:43,020 --> 00:30:46,090\nSo let me talk about those for a minute\nbefore we move on to backup and restore.\n\n646\n00:30:47,620 --> 00:30:50,580\nI mentioned in an earlier episode that I\nthink was our very first episode where we\n\n647\n00:30:50,580 --> 00:30:56,660\nwere talking about installing server, how\nthe Server app is tied to your OS version.\n\n648\n00:30:56,660 --> 00:31:00,640\nSo the Server app under\nMavericks is different\n\n649\n00:31:00,640 --> 00:31:05,630\nthan the Server app under Yosemite and\nthey're not compatible with each other.\n\n650\n00:31:05,630 --> 00:31:10,240\nAnd so what that means is if I update\nmy OS, if I'm running Mavericks and\n\n651\n00:31:10,240 --> 00:31:13,720\nI update to Yosemite my\nServer app is now broken and\n\n652\n00:31:13,720 --> 00:31:18,710\nI gotta make sure I update the Server app\nalso in order to have that protection.\n\n653\n00:31:18,710 --> 00:31:19,780\nAll right?\n\n654\n00:31:19,780 --> 00:31:23,300\nSo we really need to be careful\nwith doing our OS updates.\n\n655\n00:31:23,300 --> 00:31:27,660\nYou've gotta remember on a Server\nyou never just update the OS.\n\n656\n00:31:27,660 --> 00:31:30,980\nYou always update the OS and\nthe Server app.\n\n657\n00:31:30,980 --> 00:31:34,520\nAnd if you're doing your own Software\nUpdate server and you approve a major OS\n\n658\n00:31:34,520 --> 00:31:37,922\nupdate, you gotta make sure you\napprove the server app updates also.\n\n659\n00:31:37,922 --> 00:31:41,220\nAll right, let me show you what it's\nlike when you do one of these upgrades.\n\n660\n00:31:41,220 --> 00:31:43,260\nI've got a server parked over here.\n\n661\n00:31:43,260 --> 00:31:45,640\nThis guy right here.\n\n662\n00:31:45,640 --> 00:31:48,300\nAnd this server is running Mavericks.\n\n663\n00:31:48,300 --> 00:31:51,139\nIt's running Mac OS 10.9 and Mavericks.\n\n664\n00:31:51,139 --> 00:31:53,789\nLet me just verify that,\nmake sure I'm not lying to you.\n\n665\n00:31:53,789 --> 00:31:55,320\nYeah, so I'm running 10.9.5.\n\n666\n00:31:55,320 --> 00:31:57,880\nIt's the latest version of Mac OS X.\n\n667\n00:31:57,880 --> 00:32:00,830\nSo it's up and\nit's running and it's happy.\n\n668\n00:32:00,830 --> 00:32:03,610\nAnd it's also got the Server app on it.\n\n669\n00:32:03,610 --> 00:32:07,910\nSo if I fire up my Server app,\nI'll just launch that.\n\n670\n00:32:07,910 --> 00:32:08,770\nThere we go.\n\n671\n00:32:08,770 --> 00:32:10,690\nThis is my OSX-server2.\n\n672\n00:32:10,690 --> 00:32:13,020\nI'll connect to it.\n\n673\n00:32:13,020 --> 00:32:13,770\nIt's up and it's running.\n\n674\n00:32:13,770 --> 00:32:16,950\nI think I've got it set up as a DNS server\nand a calendar, something like that.\n\n675\n00:32:16,950 --> 00:32:18,550\nWe'll see here in just a moment but\n\n676\n00:32:18,550 --> 00:32:21,670\nit's got the Server app it's up\nit's happy and it's running.\n\n677\n00:32:21,670 --> 00:32:25,130\nAnd now I decide hey I\nwanna upgrade to Yosemite.\n\n678\n00:32:26,280 --> 00:32:30,450\nWell here I can see it's up it's running\na Web server, Contacts, Calendar,\n\n679\n00:32:30,450 --> 00:32:33,140\nI don't know I guess it's not running DNS.\n\n680\n00:32:33,140 --> 00:32:35,060\nSo just running a couple\nof things it is up and\n\n681\n00:32:35,060 --> 00:32:39,160\nhappy the server is healthy, everything's\nworking the way that I expect it to.\n\n682\n00:32:39,160 --> 00:32:42,590\nAll right, then I decide I\nwant to upgrade to Yosemite.\n\n683\n00:32:42,590 --> 00:32:46,940\nSo I go into the App Store and\nI search for Yosemite and do the update.\n\n684\n00:32:46,940 --> 00:32:50,730\nWhich takes us basically to this screen,\nwhere we're ready to perform our update.\n\n685\n00:32:50,730 --> 00:32:53,100\nWell, when you go to perform the update,\n\n686\n00:32:53,100 --> 00:32:56,610\nit's gonna give you your license\nagreement and all that kinda stuff.\n\n687\n00:32:56,610 --> 00:32:58,530\nSo I'll just say that I agree with it.\n\n688\n00:32:58,530 --> 00:33:01,520\nAnd it's gonna ask what hard drive I\nwanna install on and I've only got one so\n\n689\n00:33:01,520 --> 00:33:02,550\nthat's easy.\n\n690\n00:33:02,550 --> 00:33:04,360\nAnd then I get a warning, all right.\n\n691\n00:33:04,360 --> 00:33:11,628\nThis warning it says OS X or OS 10,\n10.10 supports OS 10 server version 4.\n\n692\n00:33:11,628 --> 00:33:17,538\nInstalling OS 10.10 on this volume will\ndisable the current server functionality,\n\n693\n00:33:17,538 --> 00:33:22,760\nuntil you purchase and install OS 10\nserver version 4 from the Mac App Store.\n\n694\n00:33:24,200 --> 00:33:27,775\nUnder Yosemite we're running\nthe Server app version 4.\n\n695\n00:33:27,775 --> 00:33:29,960\n4.0.3 I think is current.\n\n696\n00:33:29,960 --> 00:33:33,360\nUnder Mavericks it's\nthe Server app version 3.\n\n697\n00:33:33,360 --> 00:33:36,310\nThey're different versions and\nthey're not compatible with each other.\n\n698\n00:33:36,310 --> 00:33:40,480\nSo when I went into server a moment ago,\nand I got connected into it and\n\n699\n00:33:40,480 --> 00:33:42,860\nI was looking at it,\nthat's Server version 3.\n\n700\n00:33:42,860 --> 00:33:46,240\nWhen I upgrade the OS,\nit gave my warning right there.\n\n701\n00:33:46,240 --> 00:33:48,990\nIt's telling me that it's not gonna work,\nright.\n\n702\n00:33:48,990 --> 00:33:50,070\nSo that's gonna be a problem for me.\n\n703\n00:33:50,070 --> 00:33:51,570\nAnd I can see the server right here.\n\n704\n00:33:51,570 --> 00:33:55,260\nWhen you launch the Server app, under\nthe server section you get the Versions,\n\n705\n00:33:55,260 --> 00:33:57,140\nmy OS is 10.9.5.\n\n706\n00:33:57,140 --> 00:34:01,154\nMy Server version is 3.2.2.\n\n707\n00:34:01,154 --> 00:34:03,330\nSo then, I do my upgrade.\n\n708\n00:34:03,330 --> 00:34:07,030\nI go ahead and upgrade to Yosemite and I'm\nnot gonna bore us to death with watching\n\n709\n00:34:07,030 --> 00:34:09,380\nan upgrade I've actually got\na checkpoint for this machine.\n\n710\n00:34:09,380 --> 00:34:12,640\nLet me just jump over to my checkpoint.\n\n711\n00:34:14,830 --> 00:34:18,030\nSo that we can have a rapid update.\n\n712\n00:34:18,030 --> 00:34:21,210\nSo, I'm gonna upgrade\nthis machine to Yosemite.\n\n713\n00:34:21,210 --> 00:34:26,040\nNow, when the upgrade to Yosemite is done,\nnow it's up and\n\n714\n00:34:26,040 --> 00:34:27,830\nit's running and it's happy, right?\n\n715\n00:34:27,830 --> 00:34:28,670\nWell, no.\n\n716\n00:34:28,670 --> 00:34:30,880\nBecause the Server app is still Version 3.\n\n717\n00:34:30,880 --> 00:34:31,980\nAnd you might ask yourself,\n\n718\n00:34:31,980 --> 00:34:36,440\nhey why not update them at the same\ntime if Apple knows there's a problem?\n\n719\n00:34:36,440 --> 00:34:37,810\nAnd the reason is the cost.\n\n720\n00:34:38,820 --> 00:34:42,900\nWhen you upgrade to a newer version of the\nServer app, if it's a minor update, right?\n\n721\n00:34:42,900 --> 00:34:46,971\nIf I'm running 3.2.2 and\n3.3 comes out, that's free.\n\n722\n00:34:46,971 --> 00:34:50,790\nRight, I get that as part of\nhaving purchased Server Version 3.\n\n723\n00:34:50,790 --> 00:34:54,830\nBut when I go up to Yosemite,\nI need Server Version 4 and\n\n724\n00:34:54,830 --> 00:34:56,280\nyou have to buy it again.\n\n725\n00:34:56,280 --> 00:34:59,720\nAnd it's only $20, so it's not that big\nof a deal, it's not gonna break the bank.\n\n726\n00:34:59,720 --> 00:35:01,110\nBut you do have to buy it again, and\n\n727\n00:35:01,110 --> 00:35:03,220\nthat's why they don't do\nthe automatic update.\n\n728\n00:35:03,220 --> 00:35:05,360\nSo, when this boots up into Yosemite.\n\n729\n00:35:05,360 --> 00:35:07,890\nSo this update will be done,\nit's gonna boot into Yosemite.\n\n730\n00:35:07,890 --> 00:35:09,960\nThe server app will no longer work.\n\n731\n00:35:09,960 --> 00:35:13,000\nAnd in fact the icon will\nhave a slash through it.\n\n732\n00:35:13,000 --> 00:35:17,780\nIt's got a visual element that lets\nme know that it won't run, all right.\n\n733\n00:35:17,780 --> 00:35:21,600\nAnd so my next step needs to be\nto go into the App store and\n\n734\n00:35:21,600 --> 00:35:24,240\nbuy the new Version of the Server app.\n\n735\n00:35:24,240 --> 00:35:27,690\nI need to jump in there and buy it so\nthat I can then install the new version of\n\n736\n00:35:27,690 --> 00:35:32,600\nServer app and when you do that it'll\ninstall the New Version of the Server app,\n\n737\n00:35:32,600 --> 00:35:37,030\nimport all of your other settings and now\nyou're up and running Server Version 4.\n\n738\n00:35:37,030 --> 00:35:39,360\nAnd it's all a pretty automatic process.\n\n739\n00:35:39,360 --> 00:35:41,980\nSo I wanna show you that happening,\nhere we go.\n\n740\n00:35:41,980 --> 00:35:45,670\nSo I can see my little mountain background\nthere so I know I'm on Yosemite but\n\n741\n00:35:45,670 --> 00:35:47,450\nI'll verify once I actually get logged in.\n\n742\n00:35:48,620 --> 00:35:52,130\nIt's gonna run a little sluggish here\ncuz it's just kinda finishing up.\n\n743\n00:35:52,130 --> 00:35:55,630\nBut, now I'm on that same server,\nand it's coming up.\n\n744\n00:35:55,630 --> 00:35:57,753\nIt's booting up into Yosemite.\n\n745\n00:35:57,753 --> 00:36:02,630\nAnd I'm just gonna verify,\nI'm gonna go into my about my Mac screen.\n\n746\n00:36:04,520 --> 00:36:05,670\nAnd I was running 10.9.5.\n\n747\n00:36:05,670 --> 00:36:10,360\nWhen this is done,\nI should be running 10.10.2, right there.\n\n748\n00:36:10,360 --> 00:36:11,310\nSo I'm good to go.\n\n749\n00:36:11,310 --> 00:36:12,140\nI am updated.\n\n750\n00:36:13,430 --> 00:36:18,160\nAnd if I go into my Applications\nfolder and find that Server app.\n\n751\n00:36:19,510 --> 00:36:20,540\nSee how the icons change?\n\n752\n00:36:20,540 --> 00:36:22,760\nIt's got that slash through it.\n\n753\n00:36:22,760 --> 00:36:24,110\nIt's letting me know there's a problem.\n\n754\n00:36:24,110 --> 00:36:28,480\nAnd if I try and run it, I get a message.\n\n755\n00:36:28,480 --> 00:36:31,520\nAnd it's telling me, I can't use\nthis Version of the Application\n\n756\n00:36:31,520 --> 00:36:33,240\nserver with this Version of OS X.\n\n757\n00:36:33,240 --> 00:36:34,990\nYou have Server version 3.2.2.\n\n758\n00:36:34,990 --> 00:36:35,490\nRight?\n\n759\n00:36:36,610 --> 00:36:39,250\nSo now I need to go and\ndo my update, right?\n\n760\n00:36:39,250 --> 00:36:45,240\nSo I need to jump into my App Store and\nin the App Store.\n\n761\n00:36:45,240 --> 00:36:47,050\nIt's supposed to show up under updates.\n\n762\n00:36:47,050 --> 00:36:48,610\nI don't know if you guys have\never experienced this, but\n\n763\n00:36:48,610 --> 00:36:51,250\nfor me a lot of times it\ndoesn't show up under updates.\n\n764\n00:36:51,250 --> 00:36:55,310\nAnd it's because it's looking for updates\nfor the old Version 3 and not Version 4.\n\n765\n00:36:55,310 --> 00:36:58,740\nSo what I normally have to do is come\nin here and just do a search for it.\n\n766\n00:36:58,740 --> 00:37:00,850\nAnd so I'll just do a search for server.\n\n767\n00:37:00,850 --> 00:37:03,230\nAnd when it turns up, there it is.\n\n768\n00:37:03,230 --> 00:37:03,800\nRight?\n\n769\n00:37:03,800 --> 00:37:05,470\nAnd see how it's got a dollar sign now?\n\n770\n00:37:05,470 --> 00:37:07,740\nIt's not saying just install like normal.\n\n771\n00:37:07,740 --> 00:37:08,900\nRight?\nAnd it's not showing that I've\n\n772\n00:37:08,900 --> 00:37:09,760\nalready bought it.\n\n773\n00:37:09,760 --> 00:37:11,700\nBecause I have to buy it again.\n\n774\n00:37:11,700 --> 00:37:14,320\nAnd so when you click on it you'll get\nthat chance to buy it a second time and\n\n775\n00:37:14,320 --> 00:37:18,090\nit's showing that it's Version 4.0.3\nnot the 3 point Version anymore.\n\n776\n00:37:19,230 --> 00:37:22,710\nNow in my case if I go to buy it should\nsee that I've already bought it.\n\n777\n00:37:22,710 --> 00:37:24,020\nNo it's gonna make me log in.\n\n778\n00:37:24,020 --> 00:37:28,370\nShoot, I gotta provide a valid\nApple ID to go in and buy that one but\n\n779\n00:37:28,370 --> 00:37:32,130\nyou'd need to buy it, and\nthen it would do that install.\n\n780\n00:37:32,130 --> 00:37:32,870\nLet's do this.\n\n781\n00:37:32,870 --> 00:37:36,210\nLet's pause for a second here and\ntake a little break.\n\n782\n00:37:36,210 --> 00:37:38,890\nI gonna log into the app store so\nI can pull one that I've already bought,\n\n783\n00:37:38,890 --> 00:37:40,830\nI don't want to do\na credit card on the show.\n\n784\n00:37:40,830 --> 00:37:41,650\nAlthough that could be fun,\n\n785\n00:37:41,650 --> 00:37:45,240\nwe could turn this into a security\nepisode [LAUGH] we'll pause here.\n\n786\n00:37:45,240 --> 00:37:47,920\nI'll log into the App Store when we\nget back, we'll do that install, and\n\n787\n00:37:47,920 --> 00:37:49,350\nwe'll get a chance to see the Server app.\n\n788\n00:37:49,350 --> 00:37:54,381\nSo lets freeze here for a moment,\nwe'll be back in just a second.\n\n789\n00:37:54,381 --> 00:37:58,770\n[MUSIC]\n\n790\n00:37:58,770 --> 00:38:00,580\nAll right welcome back everybody.\n\n791\n00:38:00,580 --> 00:38:03,450\nSo just real quick there I logged into\nthe Apple store with my valid ID, and so\n\n792\n00:38:03,450 --> 00:38:05,380\nnow I'll be able to go and\nget that server update.\n\n793\n00:38:05,380 --> 00:38:09,500\nSo let's just jump back to this guy, you\ndo have to log in with an Apple ID that's\n\n794\n00:38:09,500 --> 00:38:13,130\neither purchased server already or\nhas a credit card to go and purchase one.\n\n795\n00:38:13,130 --> 00:38:15,810\nSo, I purchased it already, so\nwhen I do a search here for\n\n796\n00:38:15,810 --> 00:38:18,060\nserver, it's gonna turn up.\n\n797\n00:38:18,060 --> 00:38:21,510\nAnd for a brief moment it showed\nthat $19.99 price tag and\n\n798\n00:38:21,510 --> 00:38:24,620\nthen it flipped to install because,\nwell, I've already bought it.\n\n799\n00:38:24,620 --> 00:38:26,520\nSo I'll go ahead and\nchoose to install it and\n\n800\n00:38:26,520 --> 00:38:28,470\nnow it's gonna get it thrown\nonto the System for me.\n\n801\n00:38:28,470 --> 00:38:29,730\nSo it's installing.\n\n802\n00:38:29,730 --> 00:38:35,100\nNow when it does this, it's going\nto replace Server version 3.2.2.\n\n803\n00:38:35,100 --> 00:38:36,920\nSo it's gonna go away.\n\n804\n00:38:36,920 --> 00:38:40,980\nAnd in one of the earlier episodes I\nshowed you guys how I like to keep the old\n\n805\n00:38:40,980 --> 00:38:45,070\nversions, so it is kinda good idea to copy\nthe old version and save it somewhere.\n\n806\n00:38:46,280 --> 00:38:49,460\nI've already done that, so\nI'm not really worried about replacing it.\n\n807\n00:38:49,460 --> 00:38:50,270\nBut it's gonna do that.\n\n808\n00:38:50,270 --> 00:38:54,070\nNow, the whole time this is happening,\nmy server's offline.\n\n809\n00:38:54,070 --> 00:38:58,090\nSo if my end users are depending on these\nservices, they're broken right now.\n\n810\n00:38:58,090 --> 00:39:03,100\nSo when we do a major OS update,\nlike going from Mavericks to Yosemite,\n\n811\n00:39:03,100 --> 00:39:05,310\nwe need to schedule this for\na downtime period.\n\n812\n00:39:05,310 --> 00:39:07,510\nSome period where users aren't\ngoing to be in the System, and\n\n813\n00:39:07,510 --> 00:39:10,350\nthey aren't going to be expecting\nthis server to be up, right?\n\n814\n00:39:10,350 --> 00:39:13,680\nBecause we have to do the Yosemite\ninstall, we go through all of that.\n\n815\n00:39:13,680 --> 00:39:16,150\nAnd once it's done,\nwe have to go through the server install.\n\n816\n00:39:16,150 --> 00:39:20,340\nAnd when the server install is done,\nwe have to launch the Server App, and\n\n817\n00:39:20,340 --> 00:39:23,450\nit's gonna go through a few conversions\nto get things finished up before\n\n818\n00:39:23,450 --> 00:39:24,050\nit can run again.\n\n819\n00:39:24,050 --> 00:39:25,850\nSo that's gonna happen, too.\n\n820\n00:39:25,850 --> 00:39:27,540\nThings can go wrong.\n\n821\n00:39:27,540 --> 00:39:28,730\nIt does happen.\n\n822\n00:39:28,730 --> 00:39:31,460\nSo, you need to make sure you got\na good backup of your server so\n\n823\n00:39:31,460 --> 00:39:33,400\nyou can roll back if you need to.\n\n824\n00:39:33,400 --> 00:39:37,340\nAnd, we'll get a chance to see that in\nthe second part of this episode as we go\n\n825\n00:39:37,340 --> 00:39:39,880\nthrough our backup and restore.\n\n826\n00:39:39,880 --> 00:39:41,420\nAll right, so\nit just finished downloading.\n\n827\n00:39:41,420 --> 00:39:45,020\nSee how it shows Server App Replacement\nDetected Server was replaced in\n\n828\n00:39:45,020 --> 00:39:46,401\nthe Applications folder.\n\n829\n00:39:46,401 --> 00:39:49,820\nThe services have been stopped,\nand service data preserved.\n\n830\n00:39:49,820 --> 00:39:54,879\nWhen you load the Server App, the Server\nApp itself- Isn't always running, is it?\n\n831\n00:39:54,879 --> 00:39:56,979\nSometimes it's closed.\n\n832\n00:39:56,979 --> 00:39:59,210\nThe services are always running.\n\n833\n00:39:59,210 --> 00:40:00,530\nSo I'm a web server right now.\n\n834\n00:40:00,530 --> 00:40:03,610\nWell, that means the Apache service is\nrunning in the background somewhere\n\n835\n00:40:03,610 --> 00:40:06,040\nregardless of whether the server\napp is running or not.\n\n836\n00:40:06,040 --> 00:40:09,530\nSo the first time you run the server app,\nand you tell it you're gonna be a server.\n\n837\n00:40:09,530 --> 00:40:13,150\nIt's gotta activate all\nthose services in Mac OS.\n\n838\n00:40:13,150 --> 00:40:15,055\nAnd what it's telling me here is.\n\n839\n00:40:15,055 --> 00:40:17,932\nIt just stopped all those services cuz,\nit knows I've got a new app.\n\n840\n00:40:17,932 --> 00:40:19,859\nAnd that we need to update those.\n\n841\n00:40:19,859 --> 00:40:21,937\nSo, I'll go ahead and say okay to that.\n\n842\n00:40:21,937 --> 00:40:24,920\nNow, it'll show that I've got that 4.0.3.\n\n843\n00:40:24,920 --> 00:40:26,680\nThis screen'll update eventually but\nI'm not gonna wait for it.\n\n844\n00:40:26,680 --> 00:40:29,610\nI'm just gonna go into my finder and\n\n845\n00:40:29,610 --> 00:40:33,130\nsee how my server icon doesn't\nhave the slash through it anymore.\n\n846\n00:40:33,130 --> 00:40:34,700\nAnd if I do a little get info on it.\n\n847\n00:40:36,847 --> 00:40:40,930\nIt will show it right there version 4.0.3\nso I know I'm on the latest version now.\n\n848\n00:40:42,220 --> 00:40:43,860\nAnd if I run that.\n\n849\n00:40:43,860 --> 00:40:45,520\nThe first time we run it and\n\n850\n00:40:45,520 --> 00:40:49,540\nconnect it's gonna see that\nit needs to do some updates.\n\n851\n00:40:49,540 --> 00:40:50,470\nAnd so I'll go ahead and connect.\n\n852\n00:40:50,470 --> 00:40:52,680\nI got a new licence agreement to\nsign off on, that's always fun.\n\n853\n00:40:54,340 --> 00:40:56,634\nAnd I've got to re-authenticate.\n\n854\n00:40:58,122 --> 00:40:59,710\nAnd now it's gonna get connected.\n\n855\n00:40:59,710 --> 00:41:03,630\nIt's gonna see that my services haven't\nbeen updated to version 4 yet, and\n\n856\n00:41:03,630 --> 00:41:04,530\nit's gonna do the update.\n\n857\n00:41:04,530 --> 00:41:06,860\nSo right there see,\nit says updating mail service.\n\n858\n00:41:06,860 --> 00:41:07,650\nIt's gonna do that for\n\n859\n00:41:07,650 --> 00:41:11,850\neach of the services that you were\nrunning, updating the website service,\n\n860\n00:41:11,850 --> 00:41:17,030\nthe Wiki service, Xcode, Xn, all those\ndifferent services'll flip by here.\n\n861\n00:41:17,030 --> 00:41:20,630\nSome go by really fast, if it was\na minor update, some take longer.\n\n862\n00:41:20,630 --> 00:41:22,790\nThis mail one's taking a long time.\n\n863\n00:41:22,790 --> 00:41:25,500\nMy server wasn't a mail server.\n\n864\n00:41:25,500 --> 00:41:26,990\nSo why is it taking so long there?\n\n865\n00:41:26,990 --> 00:41:29,070\nWell, It's updating the service itself.\n\n866\n00:41:29,070 --> 00:41:32,590\nIf I ever activate it later on it needs to\nbe updated and the mail service is one of\n\n867\n00:41:32,590 --> 00:41:35,770\nthe bigger ones where its got a bigger\nupdate here than some of the others.\n\n868\n00:41:35,770 --> 00:41:38,480\nUpdating my calendar service and so on.\n\n869\n00:41:38,480 --> 00:41:40,710\nNow most of this is gonna\nhappen automatically,\n\n870\n00:41:40,710 --> 00:41:43,540\nwe don't have to get involved with it,\nit's really smooth.\n\n871\n00:41:43,540 --> 00:41:47,130\nAnd when it's done the server app\nlaunches the rest of the way and\n\n872\n00:41:47,130 --> 00:41:49,200\nnow our end users can get in the system.\n\n873\n00:41:49,200 --> 00:41:50,090\nBut what if something goes wrong?\n\n874\n00:41:50,090 --> 00:41:53,270\nWell if something goes wrong,\nyou need to restore to a back up.\n\n875\n00:41:53,270 --> 00:41:53,880\nAll right.\n\n876\n00:41:53,880 --> 00:41:57,130\nAnd then what you can do is you can\ntake a second server somewhere.\n\n877\n00:41:57,130 --> 00:42:00,590\nA test, a development environment and\ngo through the process over there and\n\n878\n00:42:00,590 --> 00:42:02,890\nsee if you can isolate\nwhat the problem is.\n\n879\n00:42:02,890 --> 00:42:04,080\nThe number one problem for\n\n880\n00:42:04,080 --> 00:42:06,835\nme that I've encountered with these,\nare our bad permission.\n\n881\n00:42:06,835 --> 00:42:08,920\nRight.\nThe permissions on your hard drive could\n\n882\n00:42:08,920 --> 00:42:11,210\nget messed up and\nthat could interfere with the update.\n\n883\n00:42:11,210 --> 00:42:14,310\nAnd so the easiest way to fix\nthat is to boot to recovery and\n\n884\n00:42:14,310 --> 00:42:17,722\nuse the disk utility to do\na verify permissions on the drive.\n\n885\n00:42:17,722 --> 00:42:19,750\nIt will often times find some\nbad permissions somewhere and\n\n886\n00:42:19,750 --> 00:42:20,710\nyou can repair them.\n\n887\n00:42:20,710 --> 00:42:24,740\nThat's usually the number one cause for\nfailed server update.\n\n888\n00:42:24,740 --> 00:42:28,290\nBut assuming it goes smooth, it'll update\nlike this and I can see my calendar and\n\n889\n00:42:28,290 --> 00:42:29,670\ncontacts are up and running fine.\n\n890\n00:42:29,670 --> 00:42:32,100\nWebsites, My server is now up.\n\n891\n00:42:32,100 --> 00:42:35,770\nI'm now running Yosemite and\nI'm running Server version 4.\n\n892\n00:42:35,770 --> 00:42:37,270\nI'm in business.\n\n893\n00:42:37,270 --> 00:42:41,670\nSo that's that process for\nupdate the Server app to a new version.\n\n894\n00:42:41,670 --> 00:42:44,340\nSo when the next version\nof Apple OS comes out, so\n\n895\n00:42:44,340 --> 00:42:48,325\ninstead of Yosemite it'll be,\nwho knows, Kilimanjaro or whatever.\n\n896\n00:42:48,325 --> 00:42:52,301\n[LAUGH] And so when that one comes out,\nyou'll go through the same process.\n\n897\n00:42:52,301 --> 00:42:55,860\nYou'll update the OS, go in the app\nstore and buy the new servers,\n\n898\n00:42:55,860 --> 00:42:59,215\nserver version 5, and then you'll\ninstall that, and be ready to rock.\n\n899\n00:42:59,215 --> 00:43:00,110\nRight.\n\n900\n00:43:00,110 --> 00:43:04,855\nBut when minor updates come out,\nso when 10.10.3 comes out or\n\n901\n00:43:04,855 --> 00:43:09,280\n10.10.4, when server version\n4.0.4 comes out, those are minor.\n\n902\n00:43:09,280 --> 00:43:11,380\nThey don't require reboots.\n\n903\n00:43:11,380 --> 00:43:12,810\nThey don't require repurchases,\n\n904\n00:43:12,810 --> 00:43:15,680\nit's just automatically done and\nit's not something we worry about.\n\n905\n00:43:15,680 --> 00:43:17,530\nAll right.\n\n906\n00:43:17,530 --> 00:43:21,890\nSo that's about all I've got on doing\nsoftware updates for our system.\n\n907\n00:43:21,890 --> 00:43:24,580\nThe next thing I wanna talk\nabout are doing backups.\n\n908\n00:43:24,580 --> 00:43:27,350\nAnd that's definitely\nan important thing for us.\n\n909\n00:43:27,350 --> 00:43:31,480\nBut as I look at it, we, well now,\nwe'll go ahead and tackle back ups next.\n\n910\n00:43:31,480 --> 00:43:32,510\nDefinitely important.\n\n911\n00:43:32,510 --> 00:43:35,110\nLet's pause here and\ntake a break and when we get back,\n\n912\n00:43:35,110 --> 00:43:40,132\nwe'll jump into the wide\nworld of back ups after this.\n\n913\n00:43:40,132 --> 00:43:44,933\n[SOUND].\n\n914\n00:43:44,933 --> 00:43:46,870\nAll right welcome back everybody.\n\n915\n00:43:46,870 --> 00:43:51,520\nSo what I wanna talk about in this\nsegment is how we can back up our\n\n916\n00:43:51,520 --> 00:43:55,650\nservers in the event that things go really\n[LAUGH] bad and we need to restore.\n\n917\n00:43:55,650 --> 00:43:58,030\nAnd what are things that can\ncause things to go really bad?\n\n918\n00:43:58,030 --> 00:44:02,160\nWell, bad updates, maybe I was trying\nto update from Maverick's Yosemite and\n\n919\n00:44:02,160 --> 00:44:03,970\nit just didn't take.\n\n920\n00:44:03,970 --> 00:44:07,600\nOr a bad Server app update, so\nI tried to update the Server app,\n\n921\n00:44:07,600 --> 00:44:10,420\nit went to update my services, and\nthings just died out right there.\n\n922\n00:44:10,420 --> 00:44:12,430\nI can have corrupt data on the hard drive.\n\n923\n00:44:12,430 --> 00:44:13,490\nI can have a failed hard drive.\n\n924\n00:44:13,490 --> 00:44:17,420\nMaybe the hard drive just died, and now\nI'm sitting here with a server machine and\n\n925\n00:44:17,420 --> 00:44:18,965\nI've got a blank hard drive.\n\n926\n00:44:18,965 --> 00:44:21,750\nRight.\nHow do we back up what our server is doing\n\n927\n00:44:21,750 --> 00:44:23,875\nand then restore it?\n\n928\n00:44:23,875 --> 00:44:27,895\nWell, fortunately Apple makes\nthings pretty easy for us here.\n\n929\n00:44:27,895 --> 00:44:31,855\nFor the most part,\nwe can typically just use Time Machine.\n\n930\n00:44:31,855 --> 00:44:35,365\nUse Time Machine and backup your\nserver just like any old work station,\n\n931\n00:44:35,365 --> 00:44:37,815\nand it works the same way.\n\n932\n00:44:37,815 --> 00:44:41,785\nSo, all the things you know and\nlove about Time Machine on a work station.\n\n933\n00:44:41,785 --> 00:44:44,115\nIt's the same thing when you\nhave the Server app running.\n\n934\n00:44:44,115 --> 00:44:45,345\nYou install Time Machine.\n\n935\n00:44:45,345 --> 00:44:46,485\nOr it's already installed.\n\n936\n00:44:46,485 --> 00:44:48,020\nRight.\nYou activate Time Machine.\n\n937\n00:44:48,020 --> 00:44:50,610\nAnd you let it run and do it's backups.\n\n938\n00:44:50,610 --> 00:44:52,460\nThere are a few quirks though.\n\n939\n00:44:52,460 --> 00:44:55,970\nIn a later episode we're gonna learn\nabout the Apple open directory.\n\n940\n00:44:55,970 --> 00:44:58,510\nOpen directory and use time machine also.\n\n941\n00:44:58,510 --> 00:45:02,300\nBut open directory also has\nit's own special little backup\n\n942\n00:45:02,300 --> 00:45:04,910\nprogram that we can use called\nan open directory archive.\n\n943\n00:45:04,910 --> 00:45:08,160\nSo some of the Server\napps like open directory\n\n944\n00:45:08,160 --> 00:45:10,450\ndo have a secondary backup application.\n\n945\n00:45:10,450 --> 00:45:13,860\nBut even in those cases,\nthey still support Time Machine.\n\n946\n00:45:13,860 --> 00:45:17,070\nSo the number one method on the exam,\nif they ask you for\n\n947\n00:45:17,070 --> 00:45:19,942\nlike the easiest method for backing up\na server, it's gonna be Time Machine.\n\n948\n00:45:19,942 --> 00:45:21,110\nAll right.\n\n949\n00:45:21,110 --> 00:45:23,850\nNow, most of you probably already\nknow about Time Machine, so\n\n950\n00:45:23,850 --> 00:45:26,290\nI don't wanna bore us to death\nwith getting that set up.\n\n951\n00:45:26,290 --> 00:45:29,760\nLet's just cover some of the basics as\nfar as it goes for the server, right.\n\n952\n00:45:29,760 --> 00:45:32,560\nJust like in a work station,\nif I wanna do a time machine backup,\n\n953\n00:45:32,560 --> 00:45:35,890\nI need to have an extra hard\ndrive on my system, all right.\n\n954\n00:45:35,890 --> 00:45:41,040\nYou can take one hard drive,\npartition it in half and\n\n955\n00:45:41,040 --> 00:45:44,350\nuse the second half as a time machine\nbackup destination, all right.\n\n956\n00:45:44,350 --> 00:45:45,940\nBut what's the problem with that?\n\n957\n00:45:45,940 --> 00:45:49,550\nThe problem is if your physical disk dies,\nyou lose both.\n\n958\n00:45:49,550 --> 00:45:52,100\nYour main partition and\nyour time machine backup.\n\n959\n00:45:52,100 --> 00:45:55,370\nSo there's absolutely no point\nin doing a time machine backup\n\n960\n00:45:55,370 --> 00:45:57,740\nto a secondary partition\non the same drive.\n\n961\n00:45:57,740 --> 00:45:59,720\nThere really is no point in doing that.\n\n962\n00:45:59,720 --> 00:46:01,870\nThere should always be a second drive.\n\n963\n00:46:01,870 --> 00:46:05,320\nNow that second drive could be\na second internal hard drive.\n\n964\n00:46:05,320 --> 00:46:09,300\nIf you've got a larger Mac Pro, you've got\nroom in there for a second hard drive.\n\n965\n00:46:09,300 --> 00:46:12,870\nYou can throw it in there Maybe you have\nan Xsan attached to the outside of it, so\n\n966\n00:46:12,870 --> 00:46:14,570\nyou've got plenty of hard drives there.\n\n967\n00:46:14,570 --> 00:46:16,200\nAnd you can use that as a Time Machine.\n\n968\n00:46:16,200 --> 00:46:20,920\nIf your primary hard drive fails, the Time\nMachine backups available right there.\n\n969\n00:46:20,920 --> 00:46:21,520\nRight.\n\n970\n00:46:21,520 --> 00:46:25,600\nOr you might have a an airport, right.\n\n971\n00:46:25,600 --> 00:46:27,780\nIf you have an airport\nwireless access point,\n\n972\n00:46:27,780 --> 00:46:30,760\nyou can stick the hard drive on that and\nyou can back up to it.\n\n973\n00:46:30,760 --> 00:46:33,850\nOr the, I'm forgetting the name,\noh time capsule there we go.\n\n974\n00:46:33,850 --> 00:46:36,520\nThe time capsule device which\nare basically an airport with\n\n975\n00:46:36,520 --> 00:46:37,600\ninternal hard drives.\n\n976\n00:46:37,600 --> 00:46:40,990\nAnd you can back up to those,\nthose are destinations we could use too.\n\n977\n00:46:40,990 --> 00:46:44,840\nBut most commonly,\nwe're gonna use external hard drives.\n\n978\n00:46:44,840 --> 00:46:48,140\nYou can get external hard drives\nthat are Thunderbolt or USB 3.0.\n\n979\n00:46:48,140 --> 00:46:51,180\nYou can plug them on to your server.\n\n980\n00:46:51,180 --> 00:46:53,550\nAnd you can back up right\nto those external drives.\n\n981\n00:46:53,550 --> 00:46:55,020\nNow what's the advantage\nof an external drive?\n\n982\n00:46:55,020 --> 00:46:57,470\nFirst off,\nyou don't have to open up your server box.\n\n983\n00:46:57,470 --> 00:46:59,420\nYou don't have to void your warranty or\nanything like that.\n\n984\n00:46:59,420 --> 00:47:01,540\nYou just stick it right on the outside.\n\n985\n00:47:01,540 --> 00:47:04,730\nBut, secondly this is a feature that\na lot of work station users don't\n\n986\n00:47:04,730 --> 00:47:05,840\ntake advantage of.\n\n987\n00:47:05,840 --> 00:47:09,152\nIs you can use more than one disc for\nyour Time Machine backup.\n\n988\n00:47:09,152 --> 00:47:09,690\nAll right.\n\n989\n00:47:09,690 --> 00:47:12,800\nA lot of people just back up\nto one Time Machine disc.\n\n990\n00:47:12,800 --> 00:47:16,100\nI do it right on my laptop,\nwhen I go over to my desk over there,\n\n991\n00:47:16,100 --> 00:47:18,430\nI plug my laptop into\nits docking station and\n\n992\n00:47:18,430 --> 00:47:22,260\nit's got one hard drive attached to\nit that I just use for Time Machine.\n\n993\n00:47:22,260 --> 00:47:25,310\nAnd if I ever have a failure,\nthat's my one copy of it.\n\n994\n00:47:25,310 --> 00:47:26,350\nBut what's the problem there?\n\n995\n00:47:26,350 --> 00:47:29,340\nWell, the problem is that disc is\nsitting right there on my desk.\n\n996\n00:47:29,340 --> 00:47:33,560\nIf this building burns down, not only do I\nlose my laptop but I lose that disk too.\n\n997\n00:47:33,560 --> 00:47:35,410\nSo my data's gone.\n\n998\n00:47:35,410 --> 00:47:38,130\nWouldn't it be nice if we\ncould have an off site backup.\n\n999\n00:47:38,130 --> 00:47:40,994\nWell from my own laptop I don't care,\nit's just my laptop,\n\n1000\n00:47:40,994 --> 00:47:44,830\nmost of my stuff's in the cloud anyway so\nI could lose the laptop and be all right.\n\n1001\n00:47:44,830 --> 00:47:46,732\nBut if you've got a server and\n\n1002\n00:47:46,732 --> 00:47:50,470\nall of your company's emails\nright there on that server.\n\n1003\n00:47:50,470 --> 00:47:51,990\nYou don't wanna lose that.\n\n1004\n00:47:51,990 --> 00:47:52,870\nThat would be a big deal.\n\n1005\n00:47:52,870 --> 00:47:54,429\nYou lose all your email, right.\n\n1006\n00:47:54,429 --> 00:47:56,378\nOr your company website, your messaging,\n\n1007\n00:47:56,378 --> 00:47:59,820\nall those different things that you\nprovide inside of a server app.\n\n1008\n00:47:59,820 --> 00:48:01,640\nYou don't wanna lose all that.\n\n1009\n00:48:01,640 --> 00:48:04,270\nSo it is important to\nhave an offsite backup.\n\n1010\n00:48:04,270 --> 00:48:08,710\nWith Time Machine,\nyou can add more than one disk and\n\n1011\n00:48:08,710 --> 00:48:13,210\nwhen you add the additional disks and\ntime machine fires up to do a backup.\n\n1012\n00:48:13,210 --> 00:48:15,665\nIt just backs up to the first\none that's available, and\n\n1013\n00:48:15,665 --> 00:48:18,860\nif it's available, it moves to\nthe second one or the third one.\n\n1014\n00:48:18,860 --> 00:48:20,750\nAnd so it can rotate between the discs.\n\n1015\n00:48:22,090 --> 00:48:27,300\nSo what you can do is get two removal\ndisks, set them both up for time Machine,\n\n1016\n00:48:27,300 --> 00:48:32,270\nand then every morning when you come in,\nyou hook up one disk to the server.\n\n1017\n00:48:32,270 --> 00:48:34,490\nAnd you take the other disk and\nyou take it offsite.\n\n1018\n00:48:35,510 --> 00:48:37,740\nAnd then the next day you bring\nthat offsite disk back in and\n\n1019\n00:48:37,740 --> 00:48:38,390\nyou swap them out.\n\n1020\n00:48:39,450 --> 00:48:41,140\nYou take the disk from Monday and\n\n1021\n00:48:41,140 --> 00:48:44,100\nit's offsite on Tuesday,\nback in the office on Wednesday.\n\n1022\n00:48:44,100 --> 00:48:46,540\nIt's offsite on Thursday,\nit's back in the office on Friday.\n\n1023\n00:48:46,540 --> 00:48:48,570\nYou rotate those disks.\n\n1024\n00:48:48,570 --> 00:48:51,390\nYou can do it with two disks, you can do\nit with 20 disks, you can do as many as\n\n1025\n00:48:51,390 --> 00:48:55,610\nyou want in the rotation and\nthat ensure that you have offsite backups.\n\n1026\n00:48:55,610 --> 00:48:56,210\nAll right.\n\n1027\n00:48:56,210 --> 00:48:59,320\nTime machines already maintaining\nmultiple backups on the same disk.\n\n1028\n00:48:59,320 --> 00:49:02,110\nSo it's not like we're really worried\nabout preserving old backups.\n\n1029\n00:49:02,110 --> 00:49:04,820\nIt's really just a matter of\ngetting the data offsite.\n\n1030\n00:49:04,820 --> 00:49:07,465\nRight.\nGetting it out of your local environment.\n\n1031\n00:49:07,465 --> 00:49:08,420\nRight.\n\n1032\n00:49:08,420 --> 00:49:09,950\nSo definitely keep that in mind.\n\n1033\n00:49:09,950 --> 00:49:12,270\nYou can have more than one disk for\nyour Time Machine backup.\n\n1034\n00:49:13,270 --> 00:49:14,860\nNow let me show you that\nhere on this server.\n\n1035\n00:49:14,860 --> 00:49:16,620\nSo I've got a server set up.\n\n1036\n00:49:16,620 --> 00:49:20,360\nAnd it's running OS X, server 4.0.3.\n\n1037\n00:49:20,360 --> 00:49:22,040\nIt's up, it's running, it's happy.\n\n1038\n00:49:22,040 --> 00:49:23,960\nThe server doesn't even really\nknow about the backup, so\n\n1039\n00:49:23,960 --> 00:49:27,110\nI'm just gonna close out of that,\nI don't need to be in it.\n\n1040\n00:49:27,110 --> 00:49:28,660\nBut in Time Machine.\n\n1041\n00:49:30,360 --> 00:49:32,840\nWhen we go into our\nTime Machine preferences,\n\n1042\n00:49:32,840 --> 00:49:34,990\nthat's where it'll show what\ndrives we've gotta attach.\n\n1043\n00:49:34,990 --> 00:49:37,420\nAnd I've got a Time Machine backup\ndrive hooked up right here, and so\n\n1044\n00:49:37,420 --> 00:49:38,730\nI've got, right.\n\n1045\n00:49:38,730 --> 00:49:40,730\nBut when you hit that Select Disk,\n\n1046\n00:49:40,730 --> 00:49:43,930\nSelect Disk is not gonna replace\nthe disk you're backing up to, right.\n\n1047\n00:49:43,930 --> 00:49:46,580\nSo I already showed that I've got\nthis back up disk right here but\n\n1048\n00:49:46,580 --> 00:49:50,840\nI could choose another disc and\nstart to back to it also, and\n\n1049\n00:49:50,840 --> 00:49:53,310\nthey would be show here\nunder backup discs.\n\n1050\n00:49:53,310 --> 00:49:57,780\nAnd it'll back up to whichever one is\navailable at the time of the backup.\n\n1051\n00:49:57,780 --> 00:50:01,010\nIf more than one is available, it'll just\nback up to the first one in the list.\n\n1052\n00:50:01,010 --> 00:50:03,880\nIn my case,\nthat would be this drive right here.\n\n1053\n00:50:03,880 --> 00:50:04,390\nAll right.\nAnd\n\n1054\n00:50:04,390 --> 00:50:07,220\nthen it's got where I can run\nthat airport or time capsule.\n\n1055\n00:50:07,220 --> 00:50:09,280\nThat connector to back up to them too.\n\n1056\n00:50:09,280 --> 00:50:09,860\nAll right.\n\n1057\n00:50:09,860 --> 00:50:11,890\nSo there's a few different options there.\n\n1058\n00:50:11,890 --> 00:50:15,910\nAnother option I didn't mention is\nthe backup destination doesn't necessarily\n\n1059\n00:50:15,910 --> 00:50:17,420\nhave to just be a hard drive.\n\n1060\n00:50:17,420 --> 00:50:19,220\nIt could be another server.\n\n1061\n00:50:19,220 --> 00:50:22,830\nMaybe I've got a production\nfacility right here in Gainesville.\n\n1062\n00:50:22,830 --> 00:50:26,090\nAnd then I've got a disaster recover\nfacility in the next city over.\n\n1063\n00:50:26,090 --> 00:50:29,180\nSo maybe in like Orlando Florida\ni've got a DR site.\n\n1064\n00:50:29,180 --> 00:50:34,480\nWell I can have a server running\nover there and I can back up to it.\n\n1065\n00:50:34,480 --> 00:50:37,930\nNow how does that work well,\nback in the server app.\n\n1066\n00:50:40,620 --> 00:50:42,170\nIf I get back into it.\n\n1067\n00:50:42,170 --> 00:50:45,440\nThere was a service in\nthere called Time Machine.\n\n1068\n00:50:45,440 --> 00:50:51,000\nAnd if we turn that on, it's makes our\nserver a Time Machine destination.\n\n1069\n00:50:51,000 --> 00:50:53,730\nSo if I jump in here,\nI'll just show you it real quick.\n\n1070\n00:50:53,730 --> 00:50:55,200\nI don't think this one\nturns up on the exam, but\n\n1071\n00:50:55,200 --> 00:50:56,820\nit's a good one to know in real life.\n\n1072\n00:50:56,820 --> 00:50:59,610\nBut if I've got a server in\na completely different data center,\n\n1073\n00:50:59,610 --> 00:51:01,900\nit would be nice to be able\nto send backups to it.\n\n1074\n00:51:01,900 --> 00:51:07,170\nAnd so I can go in here, and\nI can find the Time Machine service.\n\n1075\n00:51:07,170 --> 00:51:09,340\nAnd I can turn that on, all right.\n\n1076\n00:51:09,340 --> 00:51:13,380\nAnd when it's on, it's gonna ask\nme where I wanna store my backups.\n\n1077\n00:51:13,380 --> 00:51:17,450\nSo I can and I can pick where those\nbackups are gonna get stored.\n\n1078\n00:51:17,450 --> 00:51:22,919\nAnd so I'll go in here and\nI'll choose my backup disk.\n\n1079\n00:51:22,919 --> 00:51:25,065\nAll right.\n\n1080\n00:51:25,065 --> 00:51:27,685\nAnd then it's gonna ask\nif I wanna put a limit.\n\n1081\n00:51:27,685 --> 00:51:29,405\nI might wanna limit my end user so\n\n1082\n00:51:29,405 --> 00:51:33,345\nthat each end user can only do 100 gigs\nof backup space, or something like that.\n\n1083\n00:51:33,345 --> 00:51:36,575\nYou don't want one user monopolizing\nall the space and it starts deleting\n\n1084\n00:51:36,575 --> 00:51:41,710\nother user's backups to make room, so\nyou set basically a quota on each user.\n\n1085\n00:51:41,710 --> 00:51:42,320\nAll right.\n\n1086\n00:51:42,320 --> 00:51:44,520\nSo I'm just specifying where\nto store the back ups and\n\n1087\n00:51:44,520 --> 00:51:46,000\nwhat size I'm gonna limit them too.\n\n1088\n00:51:46,000 --> 00:51:48,700\nAnd we'll get that created and\n\n1089\n00:51:48,700 --> 00:51:53,420\nnow my server is acting as\na Time Machine destination.\n\n1090\n00:51:53,420 --> 00:51:55,620\nSo when I go to another server or\na client, and\n\n1091\n00:51:55,620 --> 00:51:58,780\nI go to set up Time Machine,\nI'll see this server in the list.\n\n1092\n00:51:58,780 --> 00:52:00,640\nAnd I can pick it to back up too.\n\n1093\n00:52:00,640 --> 00:52:03,790\nAnd now all of those back ups come\nright here to this system and\n\n1094\n00:52:03,790 --> 00:52:05,240\nyou'll see where it's storing that.\n\n1095\n00:52:05,240 --> 00:52:11,000\nIn my case it's on that backs\nup drive/shared items/backups.\n\n1096\n00:52:11,000 --> 00:52:14,060\nNow I chose the same disk,\nthat I'm using for backups.\n\n1097\n00:52:14,060 --> 00:52:15,200\nIs that a problem?\n\n1098\n00:52:15,200 --> 00:52:18,100\nNo, not in this case If I\nbrowse into that drive,\n\n1099\n00:52:18,100 --> 00:52:21,820\nmy backups are going into this folder,\nbackups.backupdb.\n\n1100\n00:52:21,820 --> 00:52:27,400\nThe network backups from the server app\nare going here in shared items backups,\n\n1101\n00:52:27,400 --> 00:52:29,170\nand they're going in this location.\n\n1102\n00:52:29,170 --> 00:52:31,460\nBut they are competing for disk space.\n\n1103\n00:52:31,460 --> 00:52:34,380\nSo my own backups are now\nsharing disk space with these\n\n1104\n00:52:34,380 --> 00:52:35,200\nother ones from the network.\n\n1105\n00:52:35,200 --> 00:52:37,490\nSo we may choose to do\nseparate drives there.\n\n1106\n00:52:37,490 --> 00:52:40,710\nOr at least separate partitions,\nto create boundaries between one and\n\n1107\n00:52:40,710 --> 00:52:43,160\nthe other to keep them\na little more isolated.\n\n1108\n00:52:43,160 --> 00:52:45,790\nBut now on the backup destination,\nmy clients,\n\n1109\n00:52:45,790 --> 00:52:48,480\nmy other servers can all\nbackup to right here.\n\n1110\n00:52:48,480 --> 00:52:52,595\nAnd if I go to my backups tab, I'll see\nany of the back ups that have come in over\n\n1111\n00:52:52,595 --> 00:52:54,835\nthe network that are being stored here.\n\n1112\n00:52:54,835 --> 00:52:58,045\nAnd this server might be in\na completely different location and\n\n1113\n00:52:58,045 --> 00:53:00,035\nnow I've got offsite back ups.\n\n1114\n00:53:00,035 --> 00:53:01,675\nThat's really ideal.\n\n1115\n00:53:01,675 --> 00:53:05,290\nIf your building burns down,\nif you lose everything in that facility\n\n1116\n00:53:05,290 --> 00:53:09,740\nIf your backup was in that facility, it\nmight as well have not existed, it's gone.\n\n1117\n00:53:09,740 --> 00:53:12,630\nSo we need to make sure\nit's sent somewhere else.\n\n1118\n00:53:12,630 --> 00:53:16,310\nAn easier way to achieve this, though,\nis just multiple removable discs.\n\n1119\n00:53:16,310 --> 00:53:20,930\nFor less than $100, you can get a terabyte\nUSB 3.0 to stick on your system.\n\n1120\n00:53:20,930 --> 00:53:23,400\nYou buy a couple of those and\nyou just rotate them out.\n\n1121\n00:53:23,400 --> 00:53:24,440\nIt's a great backup solution.\n\n1122\n00:53:25,902 --> 00:53:29,160\nAll right now, if my server ever gets\ndestroyed, or I have problems and\n\n1123\n00:53:29,160 --> 00:53:30,560\nI need to restore.\n\n1124\n00:53:30,560 --> 00:53:32,340\nWell it's time machine.\n\n1125\n00:53:32,340 --> 00:53:34,600\nI boot up into recovery.\n\n1126\n00:53:34,600 --> 00:53:38,990\nThen in recovery I get that menu item\nto watch time machine back up, right.\n\n1127\n00:53:38,990 --> 00:53:42,360\nSo easy enough to jump in there and\nknock that out.\n\n1128\n00:53:42,360 --> 00:53:44,920\nBut, my only problem is.\n\n1129\n00:53:44,920 --> 00:53:46,750\nWell, for\nthe most part there is no problem.\n\n1130\n00:53:46,750 --> 00:53:48,190\nLet's just do a Time Machine recovery.\n\n1131\n00:53:48,190 --> 00:53:50,370\nRight?\nWe can bring things right back in.\n\n1132\n00:53:50,370 --> 00:53:53,530\nBut there's one situation with a server\nthat can create a little bit of a problem.\n\n1133\n00:53:53,530 --> 00:53:54,860\nAll right.\n\n1134\n00:53:54,860 --> 00:54:00,470\nBy default, all of your service data\nis stored on your root partition.\n\n1135\n00:54:00,470 --> 00:54:01,630\nAnd if you left it that way.\n\n1136\n00:54:01,630 --> 00:54:04,160\nIf you left your service data\nright there on the root partition,\n\n1137\n00:54:04,160 --> 00:54:07,570\nthen recovering a server is no different\nthan recovering a workstation.\n\n1138\n00:54:07,570 --> 00:54:10,860\nYou boot to recovery,\nyou choose to restore from Time Machine,\n\n1139\n00:54:10,860 --> 00:54:14,410\nand you provide your Time Machine disk and\nit restores everything back to the way it\n\n1140\n00:54:14,410 --> 00:54:16,912\nwas the last time\nTime Machine ran a back up.\n\n1141\n00:54:16,912 --> 00:54:19,295\nRight.\nEasy as pie, nothing special there.\n\n1142\n00:54:19,295 --> 00:54:19,880\nAll right.\n\n1143\n00:54:19,880 --> 00:54:25,660\nBut if you're like me and you move your\nservice data off to a different disk.\n\n1144\n00:54:25,660 --> 00:54:29,290\nWhen you do that and\nyou go to do your time machine recovery,\n\n1145\n00:54:29,290 --> 00:54:33,540\nit actually won't restore the service data\nand now your services are kind of broken.\n\n1146\n00:54:33,540 --> 00:54:36,350\nSo there's some extra steps we have to go\nthrough if you've moved your service data\n\n1147\n00:54:36,350 --> 00:54:37,660\noff to another disk.\n\n1148\n00:54:37,660 --> 00:54:40,130\nAnd I'm not sure if they'll\ndrill on it in the exam, but\n\n1149\n00:54:40,130 --> 00:54:42,560\nI definitely wanna cover it\nbecause in real life land\n\n1150\n00:54:42,560 --> 00:54:45,480\nIt's really rare that I don't move\nthe service data off to another disk.\n\n1151\n00:54:45,480 --> 00:54:50,002\nI almost always do that so I want you\nguys to be prepared in real life land.\n\n1152\n00:54:50,002 --> 00:54:51,190\nAll right.\n\n1153\n00:54:51,190 --> 00:54:55,420\nAnother thing we need to be aware of\nis when you turn on Time Machine,\n\n1154\n00:54:55,420 --> 00:54:58,050\nby default it will back\nup your root drive, so\n\n1155\n00:54:58,050 --> 00:54:59,510\nwherever the operating\nsystem is installed.\n\n1156\n00:54:59,510 --> 00:55:03,810\nAnd it will also back up whatever\ndrive your service data is on.\n\n1157\n00:55:03,810 --> 00:55:06,600\nIf it's on the root drive,\nthen it's all wrapped up already.\n\n1158\n00:55:06,600 --> 00:55:08,920\nIf your service data is on\nanother drive it will back it up.\n\n1159\n00:55:08,920 --> 00:55:11,170\nIt's the restore that's the problem, okay.\n\n1160\n00:55:11,170 --> 00:55:13,790\nSo it'll back that data up.\n\n1161\n00:55:13,790 --> 00:55:15,860\nBut what if you have other drives?\n\n1162\n00:55:15,860 --> 00:55:20,170\nMaybe you've added other external drives\nto your system to create more storage.\n\n1163\n00:55:20,170 --> 00:55:22,860\nIt actually won't back\nthose up by default.\n\n1164\n00:55:22,860 --> 00:55:25,630\nSo you need to make sure that\nif you have external drives\n\n1165\n00:55:25,630 --> 00:55:29,220\nthat don't have service data on them but\nhave other things, that you go and\n\n1166\n00:55:29,220 --> 00:55:30,490\nturn those on for the backups too.\n\n1167\n00:55:30,490 --> 00:55:31,530\nLet me show you what I mean.\n\n1168\n00:55:31,530 --> 00:55:33,471\nIf I go back into my\ntime machine settings.\n\n1169\n00:55:36,560 --> 00:55:38,550\nRight here, so\nhere's my Time Machine settings.\n\n1170\n00:55:38,550 --> 00:55:39,820\nIf I go down here to options.\n\n1171\n00:55:41,400 --> 00:55:44,860\nIt's showing exclude\nthese items from backup.\n\n1172\n00:55:44,860 --> 00:55:46,839\nNow, you'll see your\nTime Machine disk in here.\n\n1173\n00:55:46,839 --> 00:55:48,530\nThere's no point in backing\nup the Time Machine disk.\n\n1174\n00:55:48,530 --> 00:55:50,310\nIt is the backup.\n\n1175\n00:55:50,310 --> 00:55:53,339\nBut, if I had any other external drives.\n\n1176\n00:55:53,339 --> 00:55:54,940\nThey would show up here also.\n\n1177\n00:55:54,940 --> 00:55:55,500\nAll right?\n\n1178\n00:55:55,500 --> 00:55:58,450\nMy service data one doesn't show up\nbecause it knows that my service\n\n1179\n00:55:58,450 --> 00:55:59,130\ndata is there.\n\n1180\n00:55:59,130 --> 00:56:00,610\nSo it's going to back that up too.\n\n1181\n00:56:00,610 --> 00:56:04,900\nSo it's backing up my root,\nMacintosh HD, and my service data drive,\n\n1182\n00:56:04,900 --> 00:56:07,560\nwhich I just call service data\nbecause it's easier to remember.\n\n1183\n00:56:07,560 --> 00:56:09,320\nSo, it is backing those up.\n\n1184\n00:56:09,320 --> 00:56:12,660\nBut if I had any other ones,\nthey would show up in this list, and\n\n1185\n00:56:12,660 --> 00:56:14,010\nthey would be unchecked.\n\n1186\n00:56:14,010 --> 00:56:16,300\nSo you just need to make\nsure to check them off so\n\n1187\n00:56:16,300 --> 00:56:19,340\nthey get backed up too,\notherwise they won't, all right?\n\n1188\n00:56:19,340 --> 00:56:22,460\nSo just be aware that we need to\nmake sure we've got those set so\n\n1189\n00:56:22,460 --> 00:56:24,100\nthey don't get excluded.\n\n1190\n00:56:24,100 --> 00:56:25,780\nThat's important, right?\n\n1191\n00:56:25,780 --> 00:56:29,140\nThere are some things that are excluded\nout of a Time Machine backup\n\n1192\n00:56:29,140 --> 00:56:31,000\njust out of hand.\n\n1193\n00:56:31,000 --> 00:56:32,530\nTemporary files.\n\n1194\n00:56:32,530 --> 00:56:36,430\nMacs maintain a lot of temporary files in\ndifferent places to optimize the system.\n\n1195\n00:56:36,430 --> 00:56:40,830\nThere's boot up cache files,\nthere's kernel extension cache files.\n\n1196\n00:56:40,830 --> 00:56:42,670\nThere's your web browser cache files,\n\n1197\n00:56:42,670 --> 00:56:45,070\nthose things,\nthose files we don't need those.\n\n1198\n00:56:45,070 --> 00:56:47,910\nIf we ever recover from a backup,\nthose files we can throw them away and\n\n1199\n00:56:47,910 --> 00:56:49,130\nit's no big deal so\n\n1200\n00:56:49,130 --> 00:56:52,090\nTime Machine doesn't even bother to\nback those up in the first place.\n\n1201\n00:56:52,090 --> 00:56:55,830\nSo there's a few things like that\nare excluded that are fine, but\n\n1202\n00:56:55,830 --> 00:56:58,720\nan external drive,\nit might have something you need.\n\n1203\n00:56:58,720 --> 00:57:01,460\nAnd so in that scenario,\nyou need a backup of it.\n\n1204\n00:57:01,460 --> 00:57:03,178\nSo you need to add that\nto your Time Machine.\n\n1205\n00:57:03,178 --> 00:57:09,120\nAll right, well, doing the Time Machine\nbackup itself, no big deal, right?\n\n1206\n00:57:09,120 --> 00:57:10,370\nWe just flip that on switch.\n\n1207\n00:57:10,370 --> 00:57:12,980\nWe tell it what disk to backup to and\nit backs up and that's that.\n\n1208\n00:57:12,980 --> 00:57:13,680\nRight?\n\n1209\n00:57:13,680 --> 00:57:15,970\nFrom then on we just make sure\nthe backup is happening and\n\n1210\n00:57:15,970 --> 00:57:18,500\nif you turn on the menu bar item,\nit's pretty easy to see it.\n\n1211\n00:57:18,500 --> 00:57:19,950\nAll right, let's look at mine.\n\n1212\n00:57:19,950 --> 00:57:24,140\nSo, in my menu bar I've got\nthe Time Machine icon up there.\n\n1213\n00:57:25,790 --> 00:57:28,790\nAnd, if we look at it,\nwe can come in here and find it.\n\n1214\n00:57:28,790 --> 00:57:30,290\nIt'll tell me my latest backup.\n\n1215\n00:57:30,290 --> 00:57:32,180\nIt tells me latest back up to back up.\n\n1216\n00:57:32,180 --> 00:57:32,928\nThat's my drive.\n\n1217\n00:57:32,928 --> 00:57:34,380\nToday at 10:47AM.\n\n1218\n00:57:34,380 --> 00:57:37,288\nWell, looking the clock, I've got 11:01.\n\n1219\n00:57:37,288 --> 00:57:39,880\n10:47AM that's only a few minutes ago.\n\n1220\n00:57:39,880 --> 00:57:41,010\nNo big deal there, right?\n\n1221\n00:57:41,010 --> 00:57:41,960\nGood backup.\n\n1222\n00:57:41,960 --> 00:57:46,210\nI'm only just a handful of minutes back,\n13, 14 minutes behind.\n\n1223\n00:57:46,210 --> 00:57:47,720\nMy backups are running, right?\n\n1224\n00:57:47,720 --> 00:57:50,670\nIf it was backing up now, it would tell\nme if there was a failure, an error.\n\n1225\n00:57:50,670 --> 00:57:52,290\nIt would tell me, all right.\n\n1226\n00:57:52,290 --> 00:57:56,480\nSo maintaining the backup itself\nis not a hard proposition, right?\n\n1227\n00:57:56,480 --> 00:57:58,840\nWe just let it run, it does it's thing.\n\n1228\n00:57:58,840 --> 00:58:00,300\nBut the restore.\n\n1229\n00:58:00,300 --> 00:58:04,330\nI mentioned that there's actually\nsome little quirks there as far as\n\n1230\n00:58:04,330 --> 00:58:08,000\nif our datas on a separate\ndrive like mine is.\n\n1231\n00:58:08,000 --> 00:58:11,390\nSo I want to show you that process so\nI need to boot into recovery first.\n\n1232\n00:58:11,390 --> 00:58:13,880\nSo why don't we do this, I don't\nwant to bore you guys as we wait for\n\n1233\n00:58:13,880 --> 00:58:15,920\nthe recovery to boot because\nit takes a little while.\n\n1234\n00:58:15,920 --> 00:58:18,320\nSo I'm going to reboot\nto recovery right now.\n\n1235\n00:58:18,320 --> 00:58:21,349\nWhat I'm going to do is I'm\ngoing to turn my Mac off, and\n\n1236\n00:58:21,349 --> 00:58:24,980\nthen I'm going to hold command R and\npress the power button.\n\n1237\n00:58:24,980 --> 00:58:27,730\nSo when it boots up,\nI'll be holding command R and\n\n1238\n00:58:27,730 --> 00:58:29,330\nit's going to boot into recovery.\n\n1239\n00:58:29,330 --> 00:58:34,130\nAnd once I'm in recovery, I'll be able to\ngo in and do my Time Machine Restore and\n\n1240\n00:58:34,130 --> 00:58:35,930\ngive you a chance to see what that's like.\n\n1241\n00:58:35,930 --> 00:58:39,100\nSo let me boot into recovery and\nthen we'll pick right back up.\n\n1242\n00:58:39,100 --> 00:58:42,917\nSo we'll pause here, and\nI'll be back in just a moment.\n\n1243\n00:58:42,917 --> 00:58:48,823\n[NOISE] All right, welcome back everybody.\n\n1244\n00:58:48,823 --> 00:58:52,980\nSo during the break I went ahead and\nrebooted my server into recovery mode.\n\n1245\n00:58:52,980 --> 00:58:55,580\nSo I just held that command\nR while it booted up and\n\n1246\n00:58:55,580 --> 00:58:58,420\nit dropped me right here at\nthe OS ten utility screen.\n\n1247\n00:58:58,420 --> 00:59:01,910\nSo I'm sitting here and I'm looking at\nthe different options and I can go and\n\n1248\n00:59:01,910 --> 00:59:04,180\nreinstall my OS,\nthat's always a good time.\n\n1249\n00:59:04,180 --> 00:59:06,240\nI can restore from a Time Machine backup.\n\n1250\n00:59:06,240 --> 00:59:10,810\nNow, if my Service Data\nwas on the same drive as\n\n1251\n00:59:10,810 --> 00:59:15,390\nmy regular data, my OS,\nI can just do this.\n\n1252\n00:59:15,390 --> 00:59:17,740\nI can just choose Restore\nfrom Time Machine Backup,\n\n1253\n00:59:17,740 --> 00:59:20,080\nmake sure my Time Machine\ndrive is attached.\n\n1254\n00:59:20,080 --> 00:59:23,420\nIt'll ask me where it is and I can\nrecover it just like any old workstation.\n\n1255\n00:59:24,450 --> 00:59:27,210\nBut in my case my service\ndatas on a different drive.\n\n1256\n00:59:27,210 --> 00:59:30,680\nAnd so there's actually two\nsteps I need to go through here.\n\n1257\n00:59:30,680 --> 00:59:36,000\nStep number one I need to make sure\nthat the drive has been recreated.\n\n1258\n00:59:36,000 --> 00:59:40,720\nThat I've partitioned it and\ngiven it the same name as it had before.\n\n1259\n00:59:40,720 --> 00:59:43,510\nIf I had to replace my hard drives\ndue to a hard drive failure\n\n1260\n00:59:43,510 --> 00:59:46,570\nI just have to make sure that\nI've got the same configuration.\n\n1261\n00:59:46,570 --> 00:59:49,620\nThe sizes don't have to be exactly\nthe same, but the name does.\n\n1262\n00:59:49,620 --> 00:59:53,010\nI need to make sure that I had\ncalled it Service Data before so\n\n1263\n00:59:53,010 --> 00:59:55,770\nI'm going to call it\nService Data now also.\n\n1264\n00:59:55,770 --> 00:59:59,510\nAnd it just needs to be big enough to hold\nthe size of the data that was on there.\n\n1265\n01:00:00,580 --> 01:00:04,280\nSo instead of jumping right\ninto restore from Time Machine,\n\n1266\n01:00:04,280 --> 01:00:07,100\nI'm going to go into\nmy disk utility first.\n\n1267\n01:00:07,100 --> 01:00:10,040\nSo, this is what we would normally do,\nis we'd go into disk utility and\n\n1268\n01:00:10,040 --> 01:00:13,400\nrecreate the partition layout\nto match what we had before.\n\n1269\n01:00:13,400 --> 01:00:15,120\nWell, I've got Macintosh HD.\n\n1270\n01:00:15,120 --> 01:00:15,690\nThat's cool.\n\n1271\n01:00:15,690 --> 01:00:17,160\nThat's where my OS is.\n\n1272\n01:00:17,160 --> 01:00:18,790\nAnd that still exists.\n\n1273\n01:00:18,790 --> 01:00:21,910\nI think it was like 64 gigs or\nsomething, which is plenty.\n\n1274\n01:00:21,910 --> 01:00:26,880\nSo we'll be recovering that, but\nmy service data was on a separate drive,\n\n1275\n01:00:26,880 --> 01:00:28,950\nand I've got that separate\ndrive right here.\n\n1276\n01:00:28,950 --> 01:00:32,136\nSo I'm just going to go in and\nI'm going to petition that and\n\n1277\n01:00:32,136 --> 01:00:34,650\ngive it the same name that it had before.\n\n1278\n01:00:34,650 --> 01:00:38,300\nWe just called it Service Data earlier,\nso we'll go ahead and apply that.\n\n1279\n01:00:38,300 --> 01:00:41,740\nSo I'm recreating that structure to\nmatch what was on my system prior.\n\n1280\n01:00:43,420 --> 01:00:44,680\nI'll give it a second to complete that.\n\n1281\n01:00:45,750 --> 01:00:49,330\nOnce that's done, now what I need to do,\n\n1282\n01:00:49,330 --> 01:00:53,820\nis I need to manually restore\nthe service data drive, and\n\n1283\n01:00:53,820 --> 01:00:59,940\nthen after that I can use the time machine\nrestore to recover the rest of it.\n\n1284\n01:00:59,940 --> 01:01:01,870\nBut I need to recover\nthe service data first.\n\n1285\n01:01:03,170 --> 01:01:06,320\nSo I'm going to get out\nof my Disk Utility.\n\n1286\n01:01:07,350 --> 01:01:10,155\nAnd I'm going to go into my.\n\n1287\n01:01:11,489 --> 01:01:13,630\nWhoops, actually I need\nto go into my terminal.\n\n1288\n01:01:13,630 --> 01:01:16,310\nAnd so I'm just going to jump\nup here to my Menu bar, and\n\n1289\n01:01:16,310 --> 01:01:19,156\nI'll go up to Utilities and Terminal.\n\n1290\n01:01:19,156 --> 01:01:22,440\nAnd I'm going to jump into my terminal\nbecause from here I can start\n\n1291\n01:01:22,440 --> 01:01:27,140\nthe process for manually restoring\nthat service data partition, and\n\n1292\n01:01:27,140 --> 01:01:28,830\nthe data that was inside of that.\n\n1293\n01:01:28,830 --> 01:01:30,980\nThat's all being mounted\nin the background.\n\n1294\n01:01:30,980 --> 01:01:33,355\nIf I look in, like, /volumes.\n\n1295\n01:01:33,355 --> 01:01:37,340\nInside of /volumes,\nI should see a couple of different things.\n\n1296\n01:01:37,340 --> 01:01:39,560\nI expect to see my backup drive, right?\n\n1297\n01:01:39,560 --> 01:01:42,120\nThat's where my time machine backup is.\n\n1298\n01:01:42,120 --> 01:01:46,230\nAnd then the newly created service data\npartition is buried in there, too.\n\n1299\n01:01:46,230 --> 01:01:49,230\nThat's what I just made\ninside of the disk utility.\n\n1300\n01:01:49,230 --> 01:01:49,920\nRight.\n\n1301\n01:01:49,920 --> 01:01:51,620\nSo, what we are going to do\nis from the command line,\n\n1302\n01:01:51,620 --> 01:01:56,460\nwe're going to manually tell time machine\nto go ahead and restore the service data.\n\n1303\n01:01:56,460 --> 01:01:57,180\nRight.\nGo ahead and\n\n1304\n01:01:57,180 --> 01:02:01,790\nput the service data back first, and then\nwe can go into regular Time Machine and\n\n1305\n01:02:01,790 --> 01:02:03,790\nrestore the rest of our OS.\n\n1306\n01:02:03,790 --> 01:02:07,840\nAnd when that happens, it'll see that\nthat service data is already there and\n\n1307\n01:02:07,840 --> 01:02:08,610\nit'll be ready to rock.\n\n1308\n01:02:08,610 --> 01:02:10,380\nThis kind of solves the problem.\n\n1309\n01:02:10,380 --> 01:02:13,140\nSo remember, you'll have to do this\nif you've ever moved service data\n\n1310\n01:02:13,140 --> 01:02:14,940\noff to a separate drive.\n\n1311\n01:02:14,940 --> 01:02:16,870\nNow, the process itself isn't so bad.\n\n1312\n01:02:16,870 --> 01:02:19,830\nWe do have to get into\na directory that's pretty deep.\n\n1313\n01:02:19,830 --> 01:02:21,270\nSo I'm going to change into that.\n\n1314\n01:02:21,270 --> 01:02:23,100\nWe need to understand\nwhere our back up is.\n\n1315\n01:02:23,100 --> 01:02:24,720\nIn my case it's on the back up drive.\n\n1316\n01:02:24,720 --> 01:02:29,780\nSo I'm going to change\ninto /volumes/backup.\n\n1317\n01:02:29,780 --> 01:02:34,536\nAnd Time Machine stores its backups in\na folder called backups.backup.db so\n\n1318\n01:02:34,536 --> 01:02:41,250\nI'll get into that All right, and, whoops.\n\n1319\n01:02:41,250 --> 01:02:44,180\nI guess if I type the command correctly,\nthat'll get us along a little bit better.\n\n1320\n01:02:45,690 --> 01:02:48,920\nAnd then from there I'm just going\nkeep diving in until I get to where\n\n1321\n01:02:48,920 --> 01:02:49,770\nmy backup is.\n\n1322\n01:02:49,770 --> 01:02:54,155\nNow, it'll have a full recall\nthe host name next, Whoops.\n\n1323\n01:02:57,260 --> 01:02:58,400\nThere we go.\n\n1324\n01:02:58,400 --> 01:02:59,775\nAnd now I'm into that server's backups,\n\n1325\n01:02:59,775 --> 01:03:03,420\nbecause I might have backups from more\nthan one server on this same disk, right?\n\n1326\n01:03:03,420 --> 01:03:06,800\nYou can share a time machine\ndisk between systems.\n\n1327\n01:03:06,800 --> 01:03:10,500\nThen, I want to get to the latest backup,\nthe newest one.\n\n1328\n01:03:10,500 --> 01:03:12,040\nYou might have more than one backup.\n\n1329\n01:03:12,040 --> 01:03:15,560\nIf you do a directory listing you\nmight see that you've got several.\n\n1330\n01:03:15,560 --> 01:03:17,170\nI've got three different\nbackups sitting here.\n\n1331\n01:03:17,170 --> 01:03:22,160\nSo that latest folder is just a shortcut\nto whatever the newest backup is.\n\n1332\n01:03:22,160 --> 01:03:25,870\nAnd then from there,\nI'll see each of the different volumes.\n\n1333\n01:03:25,870 --> 01:03:29,260\nAnd notice how I've got Macintosh HD,\n\n1334\n01:03:29,260 --> 01:03:32,180\nthat's my root volume where\nthe operating system is.\n\n1335\n01:03:32,180 --> 01:03:33,610\nAnd I've got service data.\n\n1336\n01:03:33,610 --> 01:03:36,650\nThat's the other volume that's\nwhere my service data is.\n\n1337\n01:03:36,650 --> 01:03:40,250\nNow I called mine service data,\nthat's what I do in real life land so\n\n1338\n01:03:40,250 --> 01:03:41,650\nI can remember what it is.\n\n1339\n01:03:41,650 --> 01:03:43,160\nYou might have called\nit something different.\n\n1340\n01:03:43,160 --> 01:03:47,220\nYou might have called it storage or\ndisk two or whatever, so look for\n\n1341\n01:03:47,220 --> 01:03:51,209\nwhatever name you gave that drive\nthat's what it's going to be Now\n\n1342\n01:03:51,209 --> 01:03:55,290\nthe Time Machine utility itself,\nthough, isn't in that folder.\n\n1343\n01:03:55,290 --> 01:03:57,920\nI actually need to get into my\nroot folder to be able to get to\n\n1344\n01:03:57,920 --> 01:03:59,100\nthe Time Machine utility.\n\n1345\n01:03:59,100 --> 01:04:01,790\nSo, I'm going to change\ninto that one next.\n\n1346\n01:04:01,790 --> 01:04:07,810\nSo, I'm actually going into my root drive,\nnot into the service data drive here.\n\n1347\n01:04:09,222 --> 01:04:12,630\nAll right, and when I'm in here,\nthere's two things that are in here.\n\n1348\n01:04:12,630 --> 01:04:14,170\nWell, I guess first of\nthere's the route drive,\n\n1349\n01:04:14,170 --> 01:04:15,800\nI'm kind of forgetting about that one.\n\n1350\n01:04:15,800 --> 01:04:20,170\nBut there's the Time Machine utility\nas well as the meta data that\n\n1351\n01:04:20,170 --> 01:04:21,490\npowers Time Machine.\n\n1352\n01:04:21,490 --> 01:04:25,570\nSo we need to run this from\nour route drives folder and\n\n1353\n01:04:25,570 --> 01:04:28,620\nthen we need to point it\nto the service data folder.\n\n1354\n01:04:28,620 --> 01:04:31,870\nNow let me just pull up the full path\nhere, so you guys can see where I'm at.\n\n1355\n01:04:31,870 --> 01:04:38,590\nSo I'm in /Volume/Backup, Backup is\nthe name of the backup drive that I\n\n1356\n01:04:39,610 --> 01:04:43,564\nuse, /Backups.backupdb/OSX-SERVER1,\nthat's my server host name,\n\n1357\n01:04:43,564 --> 01:04:48,810\n/Latest/Macintosh HD, where\nMacintosh HD is my root drive's name.\n\n1358\n01:04:48,810 --> 01:04:50,959\nSo if I renamed that,\nI would need to use that different name.\n\n1359\n01:04:52,610 --> 01:04:57,460\nNow I can use the tmutil, that's\nthe Time Machine Utility, the command line\n\n1360\n01:04:57,460 --> 01:05:03,520\ninterface for Time Machine, and I can tell\nit to restore that service data partition.\n\n1361\n01:05:03,520 --> 01:05:06,570\nAnd I'll need to tell it\nwhere the backup is and\n\n1362\n01:05:06,570 --> 01:05:09,050\nwhere the new service data partition is.\n\n1363\n01:05:09,050 --> 01:05:09,980\nAnd so I'm just gonna do that.\n\n1364\n01:05:09,980 --> 01:05:15,640\nI'll say tmutil restore -v,\nwhich is gonna give me a little verbose\n\n1365\n01:05:15,640 --> 01:05:19,410\nlogin in case any problems happen, and\nI need to tell it what I wanna restore.\n\n1366\n01:05:19,410 --> 01:05:23,041\nNow I'm in the root drives folder, so\n\n1367\n01:05:23,041 --> 01:05:27,926\nI'm gonna tell it ../Service\\ Data, right?\n\n1368\n01:05:27,926 --> 01:05:31,347\nThat's telling it that, but the data I\nwanna restore is not in the directory I'm\n\n1369\n01:05:31,347 --> 01:05:34,650\nin right now, the meta data's in\nthe directory I'm in right now.\n\n1370\n01:05:34,650 --> 01:05:38,370\nBut the partition I wanna restore\nis actually up one folder,\n\n1371\n01:05:38,370 --> 01:05:39,820\nthat's what the means.\n\n1372\n01:05:39,820 --> 01:05:43,585\nAnd then in another folder called Service\nData, and I had a space in my file name\n\n1373\n01:05:43,585 --> 01:05:47,025\nthat's why I had to do that \\ right there,\nto say the space is part of the name.\n\n1374\n01:05:47,025 --> 01:05:51,265\nYou could put in quote marks\ntoo that works either way.\n\n1375\n01:05:51,265 --> 01:05:54,105\nAnd then I need to say /*.\n\n1376\n01:05:54,105 --> 01:05:57,835\nI wanna recover everything that's\nin that service data folder.\n\n1377\n01:05:57,835 --> 01:06:02,025\nI wanna restore all of that back to where\nit was, and then I need to tell it where\n\n1378\n01:06:02,025 --> 01:06:08,543\nit's gonna go to, and\nit's gonna go to /Volumes/Service\\ Data.\n\n1379\n01:06:08,543 --> 01:06:13,410\nI created a new volume with the same name,\nand it does need to have the same name.\n\n1380\n01:06:13,410 --> 01:06:18,760\nIf the name is different when I\nrecover the root partition, it's gonna\n\n1381\n01:06:18,760 --> 01:06:21,940\nbe looking for a drive with a different\nname and all my services are gonna crash.\n\n1382\n01:06:21,940 --> 01:06:24,170\nThat's why the names have to match.\n\n1383\n01:06:24,170 --> 01:06:28,318\nSo I'm just making sure that the source\nand the destination do have the same name,\n\n1384\n01:06:28,318 --> 01:06:31,780\none them is right here in my backup,\nthat's the source, and\n\n1385\n01:06:31,780 --> 01:06:35,010\nthe other one is in /Volume,\nthat's the destination.\n\n1386\n01:06:35,010 --> 01:06:37,470\nAnd when I run that,\nit's gonna look in there, and\n\n1387\n01:06:37,470 --> 01:06:38,980\nI'm gonna get a tmutil not found.\n\n1388\n01:06:38,980 --> 01:06:42,056\nShoot.\nLet's see.\n\n1389\n01:06:42,056 --> 01:06:46,570\nOh, you know what, it's actually buried\naway just a little bit in another folder.\n\n1390\n01:06:46,570 --> 01:06:50,250\nI'm in my root OS, and\n\n1391\n01:06:50,250 --> 01:06:54,400\nthe Time Machine utility it's in here but\nit's not part of the path.\n\n1392\n01:06:54,400 --> 01:06:57,270\nAnd so, let me see if I can remember\nexactly where that is it's somewhere in\n\n1393\n01:06:57,270 --> 01:06:58,660\nthe bin folder.\n\n1394\n01:06:58,660 --> 01:07:00,510\nLet's see if we can find it real quick.\n\n1395\n01:07:02,820 --> 01:07:07,175\nLet's see, it is in bin and\nthen inside of here,\n\n1396\n01:07:07,175 --> 01:07:12,610\nit is in another folder whose\nname I can't seem to remember.\n\n1397\n01:07:15,350 --> 01:07:18,250\nWell, you know what, this is where\nour documentation comes in handy.\n\n1398\n01:07:18,250 --> 01:07:22,030\nWith the show notes, I'm gonna post\nthe link to the Apple tech doc, that gives\n\n1399\n01:07:22,030 --> 01:07:26,130\nthe full path for all this stuff which I\nactually have open somewhere around here.\n\n1400\n01:07:26,130 --> 01:07:28,392\nLet me pull it up, here.\n\n1401\n01:07:28,392 --> 01:07:29,760\nAll right, so this is the Apple tech doc.\n\n1402\n01:07:29,760 --> 01:07:32,340\nI'll put a link to this in the show\nnotes so you guys can have it.\n\n1403\n01:07:32,340 --> 01:07:34,700\nBut they list the command right here.\n\n1404\n01:07:34,700 --> 01:07:36,730\nAnd so they show changing into it, oh.\n\n1405\n01:07:36,730 --> 01:07:40,052\nI was looking in /bin,\nit's actually in /usr/bin.\n\n1406\n01:07:40,052 --> 01:07:42,540\nSo that little piece is what I'm\nleaving out from my command.\n\n1407\n01:07:42,540 --> 01:07:45,320\nSo I just need to add that to my command,\nand then it'll work.\n\n1408\n01:07:45,320 --> 01:07:46,820\nSo let's go ahead and add that in.\n\n1409\n01:07:48,110 --> 01:07:50,030\nActually, what path am I in right now?\n\n1410\n01:07:50,030 --> 01:07:50,593\nWhoops.\n\n1411\n01:07:52,219 --> 01:07:53,100\nOkay.\n\n1412\n01:07:53,100 --> 01:07:58,643\nSo I need to say Take this command,\n\n1413\n01:07:58,643 --> 01:08:03,000\nand I just need to add ./usr/bin/tmutil.\n\n1414\n01:08:03,000 --> 01:08:08,020\nI need to tell it where that\nutility is to be able to use it\n\n1415\n01:08:08,020 --> 01:08:10,890\nto do the restore, and\nso I'll tell it that.\n\n1416\n01:08:12,000 --> 01:08:13,340\nAnd now it'll find the utility.\n\n1417\n01:08:13,340 --> 01:08:14,160\nThere we go.\n\n1418\n01:08:14,160 --> 01:08:15,520\nAnd now it's running.\n\n1419\n01:08:15,520 --> 01:08:18,740\nI did a -v, so\nit's giving me verbose output.\n\n1420\n01:08:18,740 --> 01:08:22,280\nIt's showing me what it's doing as it\ngoes through to recover that data.\n\n1421\n01:08:22,280 --> 01:08:25,440\nIf I didn't do the -v,\nit would just be sitting here\n\n1422\n01:08:25,440 --> 01:08:28,110\nwith a little flashing cursor and\nI'd have to wait.\n\n1423\n01:08:28,110 --> 01:08:29,830\nAnd I wouldn't know that\nanything was happening.\n\n1424\n01:08:29,830 --> 01:08:32,950\nAnd if you're recovering a backup, odds\nare you're under a little pressure, so\n\n1425\n01:08:32,950 --> 01:08:35,170\nyou want to know that\nsomething's happening.\n\n1426\n01:08:35,170 --> 01:08:36,750\nThe -v really helps with that.\n\n1427\n01:08:36,750 --> 01:08:39,530\nSo I see it going through here and\nit's restoring.\n\n1428\n01:08:39,530 --> 01:08:40,840\nThe other thing is if a problem happens,\n\n1429\n01:08:40,840 --> 01:08:43,810\nI'll get a nice detailed method\nthat lets me know what's going on.\n\n1430\n01:08:43,810 --> 01:08:47,580\nBut here it's recovering my service data.\n\n1431\n01:08:47,580 --> 01:08:50,770\nNow when this is done,\nI'm not completely done.\n\n1432\n01:08:50,770 --> 01:08:53,190\nI can't just say whoop that's it and\noff I go.\n\n1433\n01:08:53,190 --> 01:08:57,500\nWell I guess, I could, if it was\nthe service data drive that failed, and\n\n1434\n01:08:57,500 --> 01:09:01,690\nthat's the only thing I'm fixing, then\nyeah, I'd be done as soon as this is done.\n\n1435\n01:09:01,690 --> 01:09:07,410\nBut if my whole server had failed,\nif this is a whole new server box,\n\n1436\n01:09:07,410 --> 01:09:11,140\nthen my next step is to go and\nrestore the route partition.\n\n1437\n01:09:11,140 --> 01:09:13,230\nRight, that route system and\nget it back in place.\n\n1438\n01:09:13,230 --> 01:09:15,120\nThere we go my service data just finished.\n\n1439\n01:09:15,120 --> 01:09:19,630\nSo now, that service data drive that\nI formatted in the disk utility,\n\n1440\n01:09:19,630 --> 01:09:22,010\nthat I wiped clean and\ncreated a big partition on it.\n\n1441\n01:09:22,010 --> 01:09:24,290\nIt should now have all\nmy service data in it.\n\n1442\n01:09:24,290 --> 01:09:30,015\nAnd I can verify that, I can browse into\n/Volumes/Service\\ Data/, and if I look\n\n1443\n01:09:30,015 --> 01:09:35,155\nin there, I've got a Library folder now,\nand in there I've got a Server folder, and\n\n1444\n01:09:35,155 --> 01:09:39,625\nwe can start to browse in and see the\ndifferent things that are inside of here.\n\n1445\n01:09:42,207 --> 01:09:44,677\nAnd somewhere in here I\nwill get to my website.\n\n1446\n01:09:44,677 --> 01:09:45,787\nIt's buried 20 folders deep.\n\n1447\n01:09:45,787 --> 01:09:48,097\nThere, so my website is there,\nit's recovered.\n\n1448\n01:09:48,097 --> 01:09:50,547\nMy Service Data is back, right?\n\n1449\n01:09:50,547 --> 01:09:55,267\nIf I was just restoring the Service Data\ndrive, i could reboot and I'm done.\n\n1450\n01:09:55,267 --> 01:09:59,037\nBut if I'm rebooting or restoring the\nwhole server, then what I need to do is I\n\n1451\n01:09:59,037 --> 01:10:04,190\nneed to get out of Terminal and\nget back to my utility screen,\n\n1452\n01:10:04,190 --> 01:10:08,550\nand now I can go and do a regular\nrestore from time machine back up.\n\n1453\n01:10:08,550 --> 01:10:12,610\nAnd when I choose this, it's gonna say\nthat we're restoring from time machine.\n\n1454\n01:10:12,610 --> 01:10:15,290\nI'll need to tell it,\nmy back up disk, and it's searching,\n\n1455\n01:10:15,290 --> 01:10:18,850\nit'll find it on it's own usually\nunless there's a problem.\n\n1456\n01:10:18,850 --> 01:10:21,420\nAnd then we can move forward, and\nit's gonna ask when I wanna restore to.\n\n1457\n01:10:21,420 --> 01:10:23,560\nAnd it's got the latest one selected for\nme already.\n\n1458\n01:10:23,560 --> 01:10:24,840\nI'll choose that, and\n\n1459\n01:10:24,840 --> 01:10:28,670\nI'll hit continue, and\nit's asking where I wanna restore it to.\n\n1460\n01:10:28,670 --> 01:10:32,760\nNow it's showing the Service Data\npartition, and it's not showing my\n\n1461\n01:10:32,760 --> 01:10:36,830\nMacintosh HD partition, and the reason\nit's not showing it, is cuz I'm in\n\n1462\n01:10:36,830 --> 01:10:41,660\na virtual machine and the only way I could\nload recovery was off of my main drive.\n\n1463\n01:10:41,660 --> 01:10:43,940\nOn a regular Mac,\nwhen you hold that Command+R and\n\n1464\n01:10:43,940 --> 01:10:47,100\nboot, it actually uses\nInternet Recovery by default now.\n\n1465\n01:10:47,100 --> 01:10:49,890\nAnd so you'll see your root drive and\nyou can pick it.\n\n1466\n01:10:49,890 --> 01:10:53,590\nMy drive wasn't truly erased cuz\nit wouldn't let me boot into\n\n1467\n01:10:53,590 --> 01:10:54,840\nrecovery otherwise.\n\n1468\n01:10:54,840 --> 01:10:59,260\nBut normally, we would select that\nMacintosh HD or a blank disk here, and\n\n1469\n01:10:59,260 --> 01:11:02,230\nthen just hit Restore, and\nit would restore it back, all right?\n\n1470\n01:11:02,230 --> 01:11:05,800\nWhen it does it, it doesn't restore\nthe Service Data drive, right?\n\n1471\n01:11:05,800 --> 01:11:07,560\nSo it restores the root OS.\n\n1472\n01:11:07,560 --> 01:11:09,410\nAnd any external drives that\nare a part of that backup or\n\n1473\n01:11:09,410 --> 01:11:11,210\na part of that, it restores them.\n\n1474\n01:11:11,210 --> 01:11:13,426\nBut service data gets left off\nit doesn't get attached, right?\n\n1475\n01:11:13,426 --> 01:11:17,626\nSo we do the service data manually,\nthen we restore the root drive,\n\n1476\n01:11:17,626 --> 01:11:20,350\nthen we can reboot and boot into our OS.\n\n1477\n01:11:20,350 --> 01:11:23,770\nAnd then we can use Time Machine to\nrestore the other external drives\n\n1478\n01:11:23,770 --> 01:11:25,020\nafter that.\n\n1479\n01:11:25,020 --> 01:11:28,660\nBut service data needs to be done first,\notherwise, all our server services\n\n1480\n01:11:28,660 --> 01:11:32,130\ncrash and that really does create some\nproblems down the road,all right?\n\n1481\n01:11:32,130 --> 01:11:33,370\nBut that's basically the process.\n\n1482\n01:11:33,370 --> 01:11:35,580\nHere you choose that Macintosh HD and\nyou hit restore, and\n\n1483\n01:11:35,580 --> 01:11:38,880\nyou just wait for\nthe little status bar to complete.\n\n1484\n01:11:38,880 --> 01:11:40,740\nAnd when it's done, it reboots.\n\n1485\n01:11:40,740 --> 01:11:43,352\nNow in my case,\nmy route drive was actually fine,\n\n1486\n01:11:43,352 --> 01:11:46,540\nit didn't have any problems so\nI could go ahead and restart.\n\n1487\n01:11:46,540 --> 01:11:49,645\nMy service data is completely recovered so\n\n1488\n01:11:49,645 --> 01:11:52,929\nwhen it reboots it'll\nboot into the full OS.\n\n1489\n01:11:52,929 --> 01:11:54,660\nThe service data is restored.\n\n1490\n01:11:54,660 --> 01:11:56,820\nServer app will run just\nlike nothing ever happened.\n\n1491\n01:11:56,820 --> 01:11:58,040\nAnd we're back in business.\n\n1492\n01:11:58,040 --> 01:11:58,700\nAll right.\n\n1493\n01:11:58,700 --> 01:12:01,360\nSo backing up a server, no big deal.\n\n1494\n01:12:01,360 --> 01:12:02,980\nWe just use Time Machine.\n\n1495\n01:12:02,980 --> 01:12:05,090\nRestoring a server, no big deal.\n\n1496\n01:12:05,090 --> 01:12:09,470\nYou just use Time Machine assuming\nservice data is on your root partition.\n\n1497\n01:12:09,470 --> 01:12:13,970\nBut if you're like me, and almost every\ntime you move service data off then\n\n1498\n01:12:13,970 --> 01:12:17,070\nwhat you're gonna need to do is use\nthe command line there in recovery.\n\n1499\n01:12:17,070 --> 01:12:20,910\nTo restore service data first,\nthen restore the rest of the system.\n\n1500\n01:12:20,910 --> 01:12:22,490\nAnd you'll be in business, all right?\n\n1501\n01:12:22,490 --> 01:12:24,240\nSo not too terribly painful.\n\n1502\n01:12:24,240 --> 01:12:26,340\nI keep this article right here.\n\n1503\n01:12:26,340 --> 01:12:27,850\nI keep this bookmarked.\n\n1504\n01:12:27,850 --> 01:12:30,930\nYou don't have to restore from time\nmachine very often on a server right?\n\n1505\n01:12:30,930 --> 01:12:34,090\nIt's only when things are critical and\nI like to have these commands nice and\n\n1506\n01:12:34,090 --> 01:12:34,980\nready to go.\n\n1507\n01:12:34,980 --> 01:12:38,310\nSo I keep this bookmarked and ready,\nI reference this any time I have to go and\n\n1508\n01:12:38,310 --> 01:12:39,360\ndo a recovery.\n\n1509\n01:12:39,360 --> 01:12:43,460\nAnd it's got all the commands you need\nright there and nice thing to have.\n\n1510\n01:12:43,460 --> 01:12:44,900\nI'll post the link to\nthat with the show notes.\n\n1511\n01:12:46,850 --> 01:12:50,920\nAll right, well that's about all\nI've got for backup and recovery.\n\n1512\n01:12:50,920 --> 01:12:53,570\nLet's just kind of recap,\nwe talked about a lot in this episode.\n\n1513\n01:12:53,570 --> 01:12:57,270\nWe started talking about software updates,\nand I walked you kind of through how\n\n1514\n01:12:57,270 --> 01:13:01,430\nto do the update for the Server App in\nthe event that you update the host OS.\n\n1515\n01:13:01,430 --> 01:13:05,340\nWe saw some of the settings that we\ncould do to customize automatic updates.\n\n1516\n01:13:05,340 --> 01:13:08,220\nAnd I gave us a quick introduction\nto the software update\n\n1517\n01:13:08,220 --> 01:13:11,240\nrole inside of the Server App,\nand how it functions, and\n\n1518\n01:13:11,240 --> 01:13:13,500\nhow we can use it to meter\nwhich updates roll out.\n\n1519\n01:13:13,500 --> 01:13:16,550\nAnd then the last part of the show,\nwe took a look at backups and\n\n1520\n01:13:16,550 --> 01:13:19,460\nwe got that chance to see how\nto back up our server and\n\n1521\n01:13:19,460 --> 01:13:21,610\nhow to restore it to recover from failure.\n\n1522\n01:13:21,610 --> 01:13:24,980\nAll pretty good information to have,\nand definitely something you'll want to\n\n1523\n01:13:24,980 --> 01:13:27,930\nperform in real life to keep\nyour servers running and happy.\n\n1524\n01:13:27,930 --> 01:13:31,970\nAnd to help you recover from failure\nfaster when a disaster does occur.\n\n1525\n01:13:31,970 --> 01:13:34,440\nYou need those things to be\nunder your belt, nice and\n\n1526\n01:13:34,440 --> 01:13:36,000\ncomfortable, easy to deal with.\n\n1527\n01:13:37,050 --> 01:13:40,530\nAll right well, that's a pretty good\nspot for us to wrap this episode up.\n\n1528\n01:13:40,530 --> 01:13:44,360\nSo let me remind you guys if you have\nquestions on any of the things that I've\n\n1529\n01:13:44,360 --> 01:13:48,290\ntalked about this episode, or any episode\nfor that matter, feel free to ask.\n\n1530\n01:13:48,290 --> 01:13:51,024\nLive during the show,\nyou can go to itpro.tv/live.\n\n1531\n01:13:51,024 --> 01:13:53,770\nYou'll see the chatroom\nright beneath the video.\n\n1532\n01:13:53,770 --> 01:13:54,750\nPost your questions there.\n\n1533\n01:13:54,750 --> 01:13:56,460\nWe monitor and answer during the show.\n\n1534\n01:13:56,460 --> 01:14:00,120\nIf you have questions after the show,\nuse our Q & A forums.\n\n1535\n01:14:00,120 --> 01:14:04,180\nAt the top of every page at itpro.tv,\nyou'll see a link that says Q & A.\n\n1536\n01:14:04,180 --> 01:14:05,080\nClick on it.\n\n1537\n01:14:05,080 --> 01:14:05,900\nTakes you to the Q & A forums.\n\n1538\n01:14:05,900 --> 01:14:07,510\nYou can post your questions there.\n\n1539\n01:14:07,510 --> 01:14:09,120\nWe monitor and answer after the show.\n\n1540\n01:14:09,120 --> 01:14:10,470\nIt's a great resource.\n\n1541\n01:14:10,470 --> 01:14:12,600\nMake sure you take advantage of it.\n\n1542\n01:14:12,600 --> 01:14:15,240\nAll right well,\nI hope you guys enjoyed today's episode.\n\n1543\n01:14:15,240 --> 01:14:18,592\nSigning off for ITProTV,\nI'm Don Pezet and I'll see you next time.\n\n1544\n01:14:18,592 --> 01:14:25,039\n[MUSIC]\n\n",
          "vimeoId": "122114782"
        }
      ],
      "title": "Configuring and Monitoring OS X Server"
    },
    {
      "episodes": [
        {
          "description": null,
          "length": "2808",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-2-1-user_authentication-031215-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-2-1-user_authentication-031215-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-2-1-user_authentication-031215-1-sm.jpg",
          "title": "User Authentication",
          "transcript": "1\n00:00:00,000 --> 00:00:10,000\n[MUSIC]\n\n2\n00:00:14,799 --> 00:00:22,417\n[SOUND]\n\n3\n00:00:22,417 --> 00:00:32,911\n[MUSIC]\n\n4\n00:00:32,911 --> 00:00:36,000\nAll right, good morning,\ngood afternoon, and good evening.\n\n5\n00:00:36,000 --> 00:00:38,711\nAnd welcome back to another\nepisode of ITProTV.\n\n6\n00:00:38,711 --> 00:00:40,840\nI'm your host Don Pezete,\n\n7\n00:00:40,840 --> 00:00:44,980\nback again with another episode of\nApple Certified Technical Coordinator.\n\n8\n00:00:44,980 --> 00:00:49,250\nToday we're gonna be diving into the\nwonderful world of user authentication.\n\n9\n00:00:49,250 --> 00:00:51,170\nIn our previous episodes,\n\n10\n00:00:51,170 --> 00:00:54,980\nwe've really been focusing on getting\nour servers set up and running.\n\n11\n00:00:54,980 --> 00:00:58,620\nBut one of the big challenges that we've\nexperienced is, you set up all these great\n\n12\n00:00:58,620 --> 00:01:03,280\nservices, all this really cool stuff on\nyour server, how do people get to it?\n\n13\n00:01:03,280 --> 00:01:06,280\nAnd when people get to it\nhow do you keep it secure?\n\n14\n00:01:06,280 --> 00:01:10,710\nYou don't want, necessarily you don't want\nall of your users to just have free reign\n\n15\n00:01:10,710 --> 00:01:11,620\non your servers.\n\n16\n00:01:11,620 --> 00:01:15,630\nWe need to be able to restrict their\naccess and limit what they can get to.\n\n17\n00:01:15,630 --> 00:01:18,300\nWell, before we can dive into that,\n\n18\n00:01:18,300 --> 00:01:23,110\nwe need to understand how Mac OS\nauthenticates people in the first place.\n\n19\n00:01:23,110 --> 00:01:28,170\nNow keep in mind that Mac OS itself\nhas been around a long time.\n\n20\n00:01:28,170 --> 00:01:30,870\nIt was really developed in the late 70s or\nearly 80s.\n\n21\n00:01:30,870 --> 00:01:32,390\nIt evolved a ton.\n\n22\n00:01:32,390 --> 00:01:36,850\nIt went through the big change\nbetween OS 9, or System 7,\n\n23\n00:01:36,850 --> 00:01:40,780\nand OS 9, and then, now we got OS 10.\n\n24\n00:01:40,780 --> 00:01:43,150\nHuge changes throughout that period.\n\n25\n00:01:43,150 --> 00:01:47,970\nAnd now what we end up with is\nMac OS running on top of BSDs, so\n\n26\n00:01:47,970 --> 00:01:50,890\nwe have Unix elements that\nare brought into the backend too.\n\n27\n00:01:50,890 --> 00:01:53,530\nAnd while that sounds really complex, and\n\n28\n00:01:53,530 --> 00:01:57,440\nit kinda sounds like a bad thing,\nit's actually a really, really good thing.\n\n29\n00:01:57,440 --> 00:02:02,370\nIt means that Mac OS is built on top\nof a very versatile, very stable and\n\n30\n00:02:02,370 --> 00:02:04,090\nsecure operating system.\n\n31\n00:02:04,090 --> 00:02:05,940\nAnd it gives us a lot of power.\n\n32\n00:02:06,990 --> 00:02:08,930\nWell, the big challenge\nhere is it gives us so\n\n33\n00:02:08,930 --> 00:02:11,100\nmuch power that sometimes\nis hard to keep track of.\n\n34\n00:02:11,100 --> 00:02:14,290\nBut for the exam they expect\nyou to be able to do just that.\n\n35\n00:02:14,290 --> 00:02:17,550\nSo we need to make sure we've got\nsome good basic understanding of\n\n36\n00:02:17,550 --> 00:02:18,660\nauthentication.\n\n37\n00:02:18,660 --> 00:02:23,320\nSo in this episode, I'm not gonna focus\non how to do a lot of this stuff,\n\n38\n00:02:23,320 --> 00:02:27,360\nwe're gonna do that in the next episode,\nbut I wanna focus on just the concepts.\n\n39\n00:02:27,360 --> 00:02:30,830\nThe principles to make sure we got\na good foundational knowledge of\n\n40\n00:02:30,830 --> 00:02:35,910\nwhat user authentication is and\nwhat Mac OS is capable of.\n\n41\n00:02:35,910 --> 00:02:39,170\nIf you already have a good understanding\nof that exactly how Mac OS functions for\n\n42\n00:02:39,170 --> 00:02:42,120\nthat and you're just looking for the how\nto side of things, you won't hurt my\n\n43\n00:02:42,120 --> 00:02:45,160\nfeelings if you skip this episode and\njust jump to the next one.\n\n44\n00:02:45,160 --> 00:02:49,440\nBut if you're gonna take the exam\nthis is a really important episode.\n\n45\n00:02:49,440 --> 00:02:54,240\nOne of the first comments I want to hit,\non is really what is authentication.\n\n46\n00:02:54,240 --> 00:02:58,220\nAuthentication's really easy to mix up\nwith another concept called authorization.\n\n47\n00:02:58,220 --> 00:03:00,740\nAnd when you're reading text books and\nonline,\n\n48\n00:03:00,740 --> 00:03:05,740\nyou'll normally see them combined,\nauthentication and authorization together.\n\n49\n00:03:05,740 --> 00:03:06,970\nWell, what the heck are they?\n\n50\n00:03:06,970 --> 00:03:09,330\nWell let's start with authentication.\n\n51\n00:03:09,330 --> 00:03:11,870\nWith authentication what you're doing is,\n\n52\n00:03:11,870 --> 00:03:16,320\nyou're basically verifying a user is,\nwho they say they are.\n\n53\n00:03:16,320 --> 00:03:18,630\nWhen a user goes to log into a computer,\n\n54\n00:03:18,630 --> 00:03:21,180\nthey have to let that computer know\nthat they are a certain person.\n\n55\n00:03:21,180 --> 00:03:25,550\nWhen I logged into my laptop this morning,\nI said hey computer, I'm Don Pezet.\n\n56\n00:03:25,550 --> 00:03:28,370\nAnd the computer has to say well,\nhow do I know that?\n\n57\n00:03:28,370 --> 00:03:30,550\nHow can I prove that you are Don Pezet?\n\n58\n00:03:30,550 --> 00:03:33,210\nAnd there's any number of techniques that\n\n59\n00:03:33,210 --> 00:03:35,240\nare out there that are available for\ndoing that.\n\n60\n00:03:35,240 --> 00:03:37,840\nThe most common is a username and\na password.\n\n61\n00:03:37,840 --> 00:03:41,460\nAnd that's exactly how I logged in this\nmorning, I typed in my username and\n\n62\n00:03:41,460 --> 00:03:42,640\nmy password.\n\n63\n00:03:42,640 --> 00:03:46,010\nAnd the computer verified the password\nagainst its password database.\n\n64\n00:03:46,010 --> 00:03:49,290\nAnd it said, yeah that's right,\nand he knows the password.\n\n65\n00:03:49,290 --> 00:03:50,140\nIt must be Don.\n\n66\n00:03:50,140 --> 00:03:53,030\nNo one else on the entire planet\nwould know Don's password.\n\n67\n00:03:53,030 --> 00:03:54,430\nIt must be him.\n\n68\n00:03:54,430 --> 00:03:57,590\nWell, as you can imagine,\nthat's not always a guarantee.\n\n69\n00:03:57,590 --> 00:03:59,770\nI could've shared my\npassword with somebody.\n\n70\n00:03:59,770 --> 00:04:03,000\nSo there's other types of\nauthentication that are out there too.\n\n71\n00:04:03,000 --> 00:04:05,630\nThere's things like certificate\nbased authentication.\n\n72\n00:04:05,630 --> 00:04:08,380\nInstead of a password,\nI send a digital certificate.\n\n73\n00:04:08,380 --> 00:04:11,180\nSo I've got some sign key that I use.\n\n74\n00:04:11,180 --> 00:04:12,940\nOr there's biometrics.\n\n75\n00:04:12,940 --> 00:04:16,700\nAgain, an iPhone or an iPad,\nthey all have the touch ID now right.\n\n76\n00:04:16,700 --> 00:04:19,370\nThe little thumb print or\nfingerprint scanner that's on them.\n\n77\n00:04:19,370 --> 00:04:21,010\nSo you got that possibility.\n\n78\n00:04:21,010 --> 00:04:24,250\nRetinal scans, all sorts of other\ndifferent ways that you can identify that\n\n79\n00:04:24,250 --> 00:04:26,330\npeople are who they say they are.\n\n80\n00:04:26,330 --> 00:04:28,680\nBut a username and\npassword is the most common.\n\n81\n00:04:28,680 --> 00:04:33,620\nSo when we talk about authentication,\nwe're talking about verifying somebody is,\n\n82\n00:04:33,620 --> 00:04:35,170\nwho they say they are.\n\n83\n00:04:35,170 --> 00:04:37,340\nSo where does authorization fit in that?\n\n84\n00:04:37,340 --> 00:04:42,000\nWell, once the computer knows who you are,\nyou're now authenticated and\n\n85\n00:04:42,000 --> 00:04:44,460\nyou start to perform actions.\n\n86\n00:04:44,460 --> 00:04:47,690\nWell, are you allowed to\nperform those actions or not?\n\n87\n00:04:47,690 --> 00:04:49,850\nThat's where authorization comes in.\n\n88\n00:04:49,850 --> 00:04:52,600\nAuthorization is saying all right,\nyou authenticated it, so\n\n89\n00:04:52,600 --> 00:04:54,560\nI know you're Don Pezet.\n\n90\n00:04:54,560 --> 00:04:56,640\nNow that I know that,\nwhat are you allowed to do?\n\n91\n00:04:56,640 --> 00:05:00,170\nAre you allowed to browse to\nthis one folder over here?\n\n92\n00:05:00,170 --> 00:05:02,020\nAre you allowed to shut the computer down?\n\n93\n00:05:02,020 --> 00:05:04,780\nAre you allowed to install\nthird-party software?\n\n94\n00:05:04,780 --> 00:05:06,810\nAre you allowed to empty the recycle bin?\n\n95\n00:05:06,810 --> 00:05:08,460\nWhat are you allowed to do?\n\n96\n00:05:08,460 --> 00:05:09,970\nThat's authorization.\n\n97\n00:05:09,970 --> 00:05:14,460\nAre you authorized to perform that\nactivity or access that resource, or\n\n98\n00:05:14,460 --> 00:05:15,729\nwhatever it is that you're trying to do?\n\n99\n00:05:16,740 --> 00:05:18,670\nThe two of them work hand in hand.\n\n100\n00:05:18,670 --> 00:05:23,890\nWe can't authorize users unless we\nknow they are who they say they are.\n\n101\n00:05:23,890 --> 00:05:27,070\nAnd we can't just authenticate a user and\nthen give them carte blanche access to our\n\n102\n00:05:27,070 --> 00:05:31,090\nsystem we need to be able to filter\nwhat they can do, restricted access.\n\n103\n00:05:31,090 --> 00:05:33,380\nOtherwise things just go to pot real fast.\n\n104\n00:05:33,380 --> 00:05:35,700\nSo we need the two together.\n\n105\n00:05:35,700 --> 00:05:38,410\nAuthentication and authorization.\n\n106\n00:05:38,410 --> 00:05:39,890\nNow if you read any security manuals,\n\n107\n00:05:39,890 --> 00:05:42,860\na lot of times they'll stick a third\none on there called accounting.\n\n108\n00:05:42,860 --> 00:05:47,650\nAnd accounting is simply keeping a record\nof what people do while they're logged in.\n\n109\n00:05:47,650 --> 00:05:50,770\nSo a user authenticates and\nthey start performing actions.\n\n110\n00:05:50,770 --> 00:05:53,150\nAnd as they do those actions,\nyou keep a record of it.\n\n111\n00:05:53,150 --> 00:05:54,240\nThat's accounting.\n\n112\n00:05:54,240 --> 00:05:57,360\nSo you'll hear this referred\nto as Triple A sometimes.\n\n113\n00:05:57,360 --> 00:06:01,220\nAuthentication, authorization,\nand accounting, right?\n\n114\n00:06:01,220 --> 00:06:04,700\nBut on the exam, they'll really just call\nout the first two, authentication, and\n\n115\n00:06:04,700 --> 00:06:06,250\nauthorization.\n\n116\n00:06:06,250 --> 00:06:10,660\nNow, authorization inside of Mac land\ncan take several different forms, but\n\n117\n00:06:10,660 --> 00:06:13,270\nmost commonly we see it as\nfile permissions, right?\n\n118\n00:06:13,270 --> 00:06:14,910\nYou can set permissions on folders and\n\n119\n00:06:14,910 --> 00:06:17,670\nfiles to dictate who has access and\nwho doesn't.\n\n120\n00:06:17,670 --> 00:06:20,690\nBut we'll see it later in\nthe server app when we can restrict\n\n121\n00:06:20,690 --> 00:06:22,820\nwho has access to certain services?\n\n122\n00:06:22,820 --> 00:06:26,672\nMaybe your user is allowed to access\nthe web service, but another user isn't.\n\n123\n00:06:26,672 --> 00:06:28,390\nThat's authorization.\n\n124\n00:06:28,390 --> 00:06:30,570\nYou're authorizing certain\nusers to have that access.\n\n125\n00:06:31,820 --> 00:06:36,770\nOn the authentication side, though,\nthis is where Mac OS gets really powerful.\n\n126\n00:06:38,310 --> 00:06:42,840\nFor the exam, you need to be aware of some\nof the different ways that Mac OS can\n\n127\n00:06:42,840 --> 00:06:46,450\nauthenticate users and the authentication\nsystems that are part of it,\n\n128\n00:06:46,450 --> 00:06:50,490\nand they actually have support for\nfive different systems.\n\n129\n00:06:50,490 --> 00:06:53,900\nNow, on the exam and in the exam\nobjectives, they call out five.\n\n130\n00:06:53,900 --> 00:06:56,660\nOne of them is not really\nan authentication method but\n\n131\n00:06:56,660 --> 00:06:58,334\nlet's kind of run through\nthe five that we need to know.\n\n132\n00:06:59,520 --> 00:07:01,480\nSome of these are older,\nsome of these are newer so\n\n133\n00:07:01,480 --> 00:07:03,810\nI'll just kind of highlight\nthe differences with each.\n\n134\n00:07:03,810 --> 00:07:08,520\nThe first one they caught in the exam\nobjectives is what's called a hash.\n\n135\n00:07:08,520 --> 00:07:09,380\nWhat's a hash?\n\n136\n00:07:09,380 --> 00:07:12,970\nWell, when you go to log\ninto a network system\n\n137\n00:07:12,970 --> 00:07:15,960\nyou've gotta send your user\ncredentials over the network.\n\n138\n00:07:15,960 --> 00:07:17,450\nIs the network safe?\n\n139\n00:07:17,450 --> 00:07:18,240\nMaybe.\n\n140\n00:07:18,240 --> 00:07:20,770\nIf you're on your home network and\nyou control all the devices,\n\n141\n00:07:20,770 --> 00:07:22,360\nit's a pretty safe network.\n\n142\n00:07:22,360 --> 00:07:24,130\nBut if you're at Starbucks and\n\n143\n00:07:24,130 --> 00:07:27,590\nyou're on a public wireless network,\nis that a safe network?\n\n144\n00:07:27,590 --> 00:07:28,830\nIt really isn't.\n\n145\n00:07:28,830 --> 00:07:31,250\nSo, do you wanna send your username and\n\n146\n00:07:31,250 --> 00:07:35,120\npassword over that network,\nin plain text or in the clear?\n\n147\n00:07:35,120 --> 00:07:37,830\nNo, you need to protect that data.\n\n148\n00:07:37,830 --> 00:07:41,490\nSo one of the challenges we have is, when\nyou send a password across a network in\n\n149\n00:07:41,490 --> 00:07:43,310\nplain text,\nsomebody could intercept it and get it.\n\n150\n00:07:44,510 --> 00:07:48,280\nAnd on the server, if the password is\nstored in plain text on the server,\n\n151\n00:07:48,280 --> 00:07:50,710\nsomebody could break into the server and\nget your password.\n\n152\n00:07:50,710 --> 00:07:54,450\nIf that happens, you've got other\nproblems too, but it's still bad.\n\n153\n00:07:54,450 --> 00:07:58,808\nSo, instead of storing passwords in\nplain text, what a lot of servers do,\n\n154\n00:07:58,808 --> 00:08:03,667\nis they take the password, and they run\nit through a little mathematical formula.\n\n155\n00:08:03,667 --> 00:08:07,250\nThey run it through this formula and\nthey create what's called a hash.\n\n156\n00:08:07,250 --> 00:08:12,180\nNow hashes are non-reversible hashes.\n\n157\n00:08:12,180 --> 00:08:14,760\nThe formula can only be run one way.\n\n158\n00:08:14,760 --> 00:08:19,310\nIf you think about it if I gave you\na math problem, if I said 3 + 3 + 3 = 9.\n\n159\n00:08:19,310 --> 00:08:22,820\nWell if you look at that 3\n+ 3 + 3 that equals nine,\n\n160\n00:08:22,820 --> 00:08:27,340\nI don't think anybody is gonna\nargue me on that one, right.\n\n161\n00:08:27,340 --> 00:08:31,760\nBut if I gave you nine, and\nI said take this nine, and\n\n162\n00:08:31,760 --> 00:08:34,190\nwhat was the formula I\nused to get to that?\n\n163\n00:08:34,190 --> 00:08:36,670\nWell it could be three\nplus three plus three.\n\n164\n00:08:36,670 --> 00:08:38,230\nIt could be six plus three.\n\n165\n00:08:38,230 --> 00:08:40,910\nIt could be five plus two plus two.\n\n166\n00:08:40,910 --> 00:08:43,160\nAll of those equal nine.\n\n167\n00:08:43,160 --> 00:08:47,300\nSo with just the final result, you can't\nfigure out what originally went into it,\n\n168\n00:08:47,300 --> 00:08:48,840\nand that's how a hash works.\n\n169\n00:08:48,840 --> 00:08:53,430\nIf I take a password and I run it through\na formula, it generates a hash value\n\n170\n00:08:53,430 --> 00:08:57,020\nthat can't be reversed to create\nthe password again, all right.\n\n171\n00:08:57,020 --> 00:09:00,730\nAnd so what happens is,\nthe server stores this hash.\n\n172\n00:09:00,730 --> 00:09:03,490\nThis nonreversible form of the password.\n\n173\n00:09:03,490 --> 00:09:05,480\nSo if somebody breaks\nin they get the hash,\n\n174\n00:09:05,480 --> 00:09:08,250\nand they can't figure out what it was,\nright.\n\n175\n00:09:08,250 --> 00:09:13,480\nAnd when I go to login,\nI can send my password, and then at\n\n176\n00:09:13,480 --> 00:09:18,810\nthe server it takes what I just sent it,\nand it runs it through the same formula.\n\n177\n00:09:18,810 --> 00:09:22,395\nAnd it looks at the hash that it\ngets of this new password, and\n\n178\n00:09:22,395 --> 00:09:26,365\nit compares it to the hash\nthat its had stored, and\n\n179\n00:09:26,365 --> 00:09:31,255\nif they match, then it knows they're\nthe same and it let's us in, okay.\n\n180\n00:09:31,255 --> 00:09:34,965\nBy doing this it doesn't have\nto store a password unencrypted,\n\n181\n00:09:34,965 --> 00:09:38,935\nor reversible on the drive, and\nthat gives us a good degree of security.\n\n182\n00:09:38,935 --> 00:09:41,155\nWell in Apple devices,\n\n183\n00:09:41,155 --> 00:09:46,310\nwe use hashes, but also in\nMicrosoft Windows devices we use hashes.\n\n184\n00:09:46,310 --> 00:09:50,480\nSo we authenticate against Macs, and when\nwe authenticate against Windows machines,\n\n185\n00:09:50,480 --> 00:09:54,380\nlike going to an SMB share,\nyou're actually using hashes for that.\n\n186\n00:09:54,380 --> 00:09:57,450\nAnd so that's one form of\nauthentication we can use.\n\n187\n00:09:57,450 --> 00:10:00,440\nInstead of sending a regular password,\nwe can send a hash.\n\n188\n00:10:00,440 --> 00:10:02,850\nOr we can send a password and\nthe other end can generate the hash.\n\n189\n00:10:03,990 --> 00:10:07,190\nSo a hash based authentication, that's\nthe first one they call out for the exam.\n\n190\n00:10:08,500 --> 00:10:12,660\nThe second one they call\nout is crypt passwords.\n\n191\n00:10:12,660 --> 00:10:16,810\nNow crypt, it sounds like a burial crypt,\nor tales from the crypt, or\n\n192\n00:10:16,810 --> 00:10:18,170\nsomething like that.\n\n193\n00:10:18,170 --> 00:10:20,410\nBt it's actually just short for\ncryptography, or cryptographic.\n\n194\n00:10:21,680 --> 00:10:25,820\nRemember now that Mac OS is\nbuilt on top of BSD Unix.\n\n195\n00:10:27,040 --> 00:10:29,710\nBack in the day, in BSD and\n\n196\n00:10:29,710 --> 00:10:33,420\nUnix, they developed a command\nline utility called Crypt, and\n\n197\n00:10:33,420 --> 00:10:37,390\nit was a series of functions that you\ncould call to encrypt data if you wanted.\n\n198\n00:10:37,390 --> 00:10:40,810\nWell, passwords can be encrypted\nusing the crypt function.\n\n199\n00:10:40,810 --> 00:10:45,020\nAnd it's very old, not many people\nuse it anymore, but it's still there.\n\n200\n00:10:45,020 --> 00:10:48,080\nIt's there for backwards compatibility.\n\n201\n00:10:48,080 --> 00:10:52,200\nSo if we're having to authenticate against\nsome older Unix system, or if we have\n\n202\n00:10:52,200 --> 00:10:55,840\nsoftware that depends on that crypt\nfunctionality, it's still there, right?\n\n203\n00:10:55,840 --> 00:11:00,640\nBut it is definitely legacy,\nnone of the modern Mac OS components\n\n204\n00:11:00,640 --> 00:11:04,560\nactually make use of it, it's Just there\nfor backwards compatibility on our system.\n\n205\n00:11:04,560 --> 00:11:07,960\nMost of us will never need i,t or\never even see it for that matter.\n\n206\n00:11:07,960 --> 00:11:10,650\nIt's just one of those\nthings that kind of runs.\n\n207\n00:11:10,650 --> 00:11:13,750\nIt's there when you do need\nit if you get to that point.\n\n208\n00:11:15,080 --> 00:11:18,690\nAlright so that's our second one\nthat we need to worry about.\n\n209\n00:11:18,690 --> 00:11:21,780\nThe third one though,\nis one that we really do use and\n\n210\n00:11:21,780 --> 00:11:23,810\nit's what's called a password server.\n\n211\n00:11:23,810 --> 00:11:28,500\nA password server is a server that sits\non your network, and it stores passwords.\n\n212\n00:11:29,850 --> 00:11:34,220\nNormally when you log in to a Mac,\nyou're logging in with a local account,\n\n213\n00:11:34,220 --> 00:11:37,150\nan account that's stored right\nthere on the Mac itself.\n\n214\n00:11:38,160 --> 00:11:41,970\nBut with a password server,\nthe passwords are stored there.\n\n215\n00:11:41,970 --> 00:11:45,090\nReally, the whole user account is\nstored in that password server.\n\n216\n00:11:45,090 --> 00:11:49,260\nAnd that's nice, because If you only have\none computer, it doesn't really matter,\n\n217\n00:11:49,260 --> 00:11:51,650\nyou can store your passwords\nright there on the computer.\n\n218\n00:11:51,650 --> 00:11:52,960\nBut what if you have 100 computers?\n\n219\n00:11:54,010 --> 00:11:57,860\nWell, if I site down on one computer and\nI get a user account, and\n\n220\n00:11:57,860 --> 00:12:02,930\nthen I go to a second computer, my user\naccount is not there, they're separate.\n\n221\n00:12:02,930 --> 00:12:06,410\nBut if I have a centralized\npassword server, it's all together,\n\n222\n00:12:06,410 --> 00:12:07,360\nit's all in one place.\n\n223\n00:12:08,680 --> 00:12:11,420\nThere's a number of different types\nof password servers out there.\n\n224\n00:12:12,580 --> 00:12:15,340\nIn the Unix world you have\nthings like Niz+ servers.\n\n225\n00:12:15,340 --> 00:12:18,430\nIn the Microsoft world you\nhave active directory servers.\n\n226\n00:12:18,430 --> 00:12:23,250\nBut in the Apple world, we have what\nare called open directory servers.\n\n227\n00:12:23,250 --> 00:12:27,980\nNow open directory is built off of\nanother product called open LDAP.\n\n228\n00:12:27,980 --> 00:12:32,980\nAnd it's a open directory,\nwell its an open source project,\n\n229\n00:12:32,980 --> 00:12:37,120\nthat Linux boxes and\nUnix systems can use and they commonly do.\n\n230\n00:12:37,120 --> 00:12:40,190\nSo Apple really just took that, and\nmade it a little bit better, right.\n\n231\n00:12:40,190 --> 00:12:43,620\nThey improved security on it ,and\nkind of just bulked it up a bit.\n\n232\n00:12:43,620 --> 00:12:48,140\nSo inside of an Apple system if we\nwanna centralize password data base,\n\n233\n00:12:48,140 --> 00:12:50,380\nthen we use open directory.\n\n234\n00:12:50,380 --> 00:12:51,590\nNow if you never seen open directory,\n\n235\n00:12:51,590 --> 00:12:55,020\nlet me just give you a kind of quick\npreview of it so you can see it.\n\n236\n00:12:55,020 --> 00:12:59,130\nHere I am on a server and\n\n237\n00:12:59,130 --> 00:13:04,930\nthis just Mac OS 10.10, Yosemite, and\nI've installed the server app on it.\n\n238\n00:13:04,930 --> 00:13:07,040\nNow if I need a user account on here,\n\n239\n00:13:07,040 --> 00:13:11,950\nwhat I'll normally do is go\ninto my system preferences, and\n\n240\n00:13:11,950 --> 00:13:16,940\nI'll go down to users and groups, and\nI'll create a user account right here.\n\n241\n00:13:16,940 --> 00:13:22,660\nSo I'm gonna go in here and I'm just\ngonna create a local user account.\n\n242\n00:13:22,660 --> 00:13:24,750\nSo I've got John Doe here,\nI'll just add another one,\n\n243\n00:13:24,750 --> 00:13:27,430\nwe'll create one for Jane Doe.\n\n244\n00:13:27,430 --> 00:13:28,490\nSo here's Jane's account.\n\n245\n00:13:30,140 --> 00:13:34,190\nAnd we'll punch in a password for\nher, and there we go, right?\n\n246\n00:13:34,190 --> 00:13:37,960\nSo, now, I've got John, I've got Jane, and\nmaybe I want Jane to be an administrator,\n\n247\n00:13:37,960 --> 00:13:40,280\nso I'll go ahead and choose to allow\nher to administer the computer.\n\n248\n00:13:41,390 --> 00:13:44,130\nThere we go, and so\nnow she's set as an admin, too.\n\n249\n00:13:44,130 --> 00:13:46,400\nAll right, so I've created these accounts.\n\n250\n00:13:46,400 --> 00:13:49,750\nThese are right here on this one server.\n\n251\n00:13:49,750 --> 00:13:52,150\nIf I call Jane on the phone, and\nI say hey Jane congratulations,\n\n252\n00:13:52,150 --> 00:13:54,620\nyou're now an admin, get to work.\n\n253\n00:13:54,620 --> 00:13:58,660\nAnd she goes to another computer and\nlogs in, she's not an admin.\n\n254\n00:13:58,660 --> 00:13:59,295\nI just made her an admin.\n\n255\n00:13:59,295 --> 00:14:01,805\nAdmin right here on this one system.\n\n256\n00:14:03,115 --> 00:14:07,625\nThat means that her user account, and\nher password they're stored right here.\n\n257\n00:14:07,625 --> 00:14:13,115\nAnd when she authenticates, she's being\nauthenticated and so local user database.\n\n258\n00:14:13,115 --> 00:14:16,065\nAnd if I just have one computer great,\nthat works fine.\n\n259\n00:14:16,065 --> 00:14:17,195\nBut if I have 100 computers, and\n\n260\n00:14:17,195 --> 00:14:22,560\nI want her to be an admin on all of them,\nthis isn't gonna work for me, all right?\n\n261\n00:14:22,560 --> 00:14:26,700\nSo for that,\nI need a centralized user database, right?\n\n262\n00:14:26,700 --> 00:14:28,260\nOr password server.\n\n263\n00:14:28,260 --> 00:14:29,800\nAnd for\nthat I'm gonna use the Open Directory.\n\n264\n00:14:29,800 --> 00:14:32,560\nSo here on this same server,\nI'm gonna fire up my Server App.\n\n265\n00:14:33,910 --> 00:14:37,350\nAnd when I fire up the Server App,\nI'm just gonna get connected to it.\n\n266\n00:14:38,750 --> 00:14:41,010\nAnd I've already set up\nOpen Directory on this server.\n\n267\n00:14:41,010 --> 00:14:43,670\nIn our next episode, I'll show you\nguys how to set up Open Directory, and\n\n268\n00:14:43,670 --> 00:14:44,710\nhow to get it working.\n\n269\n00:14:44,710 --> 00:14:47,040\nThis one is already configured but,\nwhen I get into it,\n\n270\n00:14:47,040 --> 00:14:51,140\nit's already has a centralized\npassword server in place.\n\n271\n00:14:51,140 --> 00:14:54,740\nAnd so\nif I go down here to open directory.\n\n272\n00:14:54,740 --> 00:14:57,070\nSo I'm just going under advanced and\nopen directory.\n\n273\n00:14:57,070 --> 00:14:58,960\nI can see that it's turned on.\n\n274\n00:14:58,960 --> 00:15:01,220\nSo my server is an open directory server.\n\n275\n00:15:01,220 --> 00:15:05,860\nAnd if I go up here to users,\nsee how I've got a Don Pizette account,\n\n276\n00:15:05,860 --> 00:15:07,810\nhelp desk, Jane Doe, John Doe.\n\n277\n00:15:09,180 --> 00:15:10,780\nWell here's this Don Pizette account.\n\n278\n00:15:10,780 --> 00:15:13,410\nI didn't see that a minute ago.\n\n279\n00:15:13,410 --> 00:15:14,880\nLet me just verify I'm not lying to you.\n\n280\n00:15:14,880 --> 00:15:16,320\nBut if I go back to system preferences,\n\n281\n00:15:16,320 --> 00:15:19,200\nsure enough I don't see\nDon Pezet in that list.\n\n282\n00:15:19,200 --> 00:15:22,390\nOkay, why am I not in that list?\n\n283\n00:15:22,390 --> 00:15:25,450\nWell the reason is,\nI didn't create a local account.\n\n284\n00:15:25,450 --> 00:15:27,990\nI created a domain,\ni mean a network account.\n\n285\n00:15:27,990 --> 00:15:30,070\nOne that is on the password server.\n\n286\n00:15:30,070 --> 00:15:34,380\nSee how help desk, Jane Doe,\nJohn Doe, how it says local user?\n\n287\n00:15:34,380 --> 00:15:36,960\nThose are right near\nthe local user database.\n\n288\n00:15:36,960 --> 00:15:40,150\nBut I say local network user.\n\n289\n00:15:40,150 --> 00:15:43,720\nThat means I'm being stored\non the password server.\n\n290\n00:15:43,720 --> 00:15:47,937\nSo now if I go to one of my 100 other\nmachines, I can login as Don Pezet and\n\n291\n00:15:47,937 --> 00:15:51,625\nit's the same one account,\nshared across all those machines.\n\n292\n00:15:51,625 --> 00:15:54,885\nIf I change my password on one of them,\nit's changed everywhere,\n\n293\n00:15:54,885 --> 00:15:57,500\ncuz it changes right\nhere in this database.\n\n294\n00:15:57,500 --> 00:16:00,731\nAnd as I add more users,\nI can come in, and I can add more, so\n\n295\n00:16:00,731 --> 00:16:03,333\nmaybe I wanna add one for\none of our other hosts.\n\n296\n00:16:03,333 --> 00:16:04,670\nI'll add Ronnie Wong.\n\n297\n00:16:04,670 --> 00:16:06,250\nGive him an account, right?\n\n298\n00:16:06,250 --> 00:16:13,000\nI can create a local network user, so\nhe's being part of that password server.\n\n299\n00:16:13,000 --> 00:16:15,917\nI give him a password.\n\n300\n00:16:15,917 --> 00:16:19,355\nAnd I can even set him to be\nan administrator if I want, and\n\n301\n00:16:19,355 --> 00:16:23,330\nI'll create that account,\nand so now, there's Ronnie.\n\n302\n00:16:23,330 --> 00:16:25,580\nAnd if I filter this down\nto local network users,\n\n303\n00:16:25,580 --> 00:16:28,530\nnow I'm gonna see these are my\nnetwork accounts that I've created.\n\n304\n00:16:28,530 --> 00:16:31,610\nThese are shared in\nthis password database.\n\n305\n00:16:31,610 --> 00:16:36,610\nNow if I jump back over to my System\nPreferences, which apparently I closed.\n\n306\n00:16:36,610 --> 00:16:41,520\n[LAUGH] But if I open them back up again,\nhere we go.\n\n307\n00:16:41,520 --> 00:16:46,170\nI go into my Users and Groups and I'll see\nRonnie and I both don't show up there.\n\n308\n00:16:46,170 --> 00:16:47,790\nWe're not in that local database.\n\n309\n00:16:47,790 --> 00:16:49,440\nWe're in that central database.\n\n310\n00:16:50,928 --> 00:16:55,510\nAll right, so that's kind of the\ndifference there between local accounts\n\n311\n00:16:55,510 --> 00:16:56,860\nand a password server.\n\n312\n00:16:56,860 --> 00:17:01,210\nSo the third method for authenticating\nusers is against the password server.\n\n313\n00:17:01,210 --> 00:17:03,310\nAnd on the exam,\nyou're gonna see the Apple open directory,\n\n314\n00:17:03,310 --> 00:17:04,530\nwhat we were showing right there.\n\n315\n00:17:04,530 --> 00:17:07,410\nThere's actually a little bit more we have\nto do to get that properly working but\n\n316\n00:17:07,410 --> 00:17:10,180\nI just wanted to give you guys\na high level view of that\n\n317\n00:17:10,180 --> 00:17:14,240\nto see where those user\naccounts actually reside.\n\n318\n00:17:14,240 --> 00:17:16,620\nAll right,\n\n319\n00:17:16,620 --> 00:17:20,310\nthe fourth way that we authenticate users\nis actually tied to this same thing.\n\n320\n00:17:21,320 --> 00:17:23,330\nOpenLDAP and Open Directory,\n\n321\n00:17:23,330 --> 00:17:27,700\nthey really are a database, a database\nof user accounts and their passwords.\n\n322\n00:17:27,700 --> 00:17:30,420\nBut we don't wanna just store raw\npasswords right in there with their\n\n323\n00:17:30,420 --> 00:17:31,570\naccounts, do we?\n\n324\n00:17:31,570 --> 00:17:33,370\nWe need those passwords to be encrypted.\n\n325\n00:17:33,370 --> 00:17:35,020\nWe need it to be non-reversible.\n\n326\n00:17:35,020 --> 00:17:36,906\nWe need it to be safe and secure.\n\n327\n00:17:36,906 --> 00:17:42,278\nAnd so the way we do that is with an extra\nform of authentication called Kerberos,\n\n328\n00:17:42,278 --> 00:17:43,070\nall right?\n\n329\n00:17:43,070 --> 00:17:45,939\nKerberos, there's actually a few\ndifferent ways to pronounce it,\n\n330\n00:17:45,939 --> 00:17:47,080\nsome people say Kerberos.\n\n331\n00:17:47,080 --> 00:17:51,500\nIt's named after that three-headed\ndog of Greek or Roman mythology,\n\n332\n00:17:51,500 --> 00:17:52,660\nI think it's Greek mythology.\n\n333\n00:17:52,660 --> 00:17:55,718\nBut anyhow, it's basically pronounce\nit however you want, right.\n\n334\n00:17:55,718 --> 00:18:00,660\nBut Kerberos, it's authentication and\n\n335\n00:18:00,660 --> 00:18:03,840\nencryption mechanism that we can use for\nbasically logging in users.\n\n336\n00:18:03,840 --> 00:18:08,512\nFor passing user credentials, and\nhandling that authentication piece, right?\n\n337\n00:18:08,512 --> 00:18:12,680\nWith Kerberos, it defines a series of\nevents that happen when a user logs in.\n\n338\n00:18:12,680 --> 00:18:15,920\nAnd there's a lot of little\npieces of the Kerberos puzzle,\n\n339\n00:18:15,920 --> 00:18:18,280\nand you may see some of\nthe terminology on the exam.\n\n340\n00:18:18,280 --> 00:18:21,267\nSo I kinda wanna walk through each of\nthe steps along the journey, right?\n\n341\n00:18:23,030 --> 00:18:27,150\nBasically if you wanna use Kerberos for\nauthentication, which the Microsoft active\n\n342\n00:18:27,150 --> 00:18:31,120\ndirectory does, OpenLDAP does,\nand Apple's open directory does.\n\n343\n00:18:31,120 --> 00:18:34,470\nSo there's a lot of systems out\nthere that use Kerberos, right?\n\n344\n00:18:34,470 --> 00:18:38,760\nThe way it works is you\ntake a server somewhere and\n\n345\n00:18:38,760 --> 00:18:42,381\nyou configure it as what's called\na key distribution center, all right?\n\n346\n00:18:43,470 --> 00:18:48,250\nSomebody somewhere has to be the server\nthat handles the encryption keys,\n\n347\n00:18:48,250 --> 00:18:51,940\nwhat's being used to authenticate\nthese users and secure the data.\n\n348\n00:18:51,940 --> 00:18:56,570\nNow in the open directory, it's the same\nserver that's running our password server.\n\n349\n00:18:56,570 --> 00:18:59,460\nSo when you make a server an open\ndirectory server you're making it\n\n350\n00:18:59,460 --> 00:19:01,220\na password server.\n\n351\n00:19:01,220 --> 00:19:04,117\nAnd a KDC, a key distribution center for\nKerberos, right?\n\n352\n00:19:05,470 --> 00:19:07,890\nIt sounds complex but it actually\ndoes it all for you in the wizard.\n\n353\n00:19:07,890 --> 00:19:11,390\nYou'll see when we set it up in the next\nepisode it's really straightforward but\n\n354\n00:19:11,390 --> 00:19:13,590\nit is performing more than one role.\n\n355\n00:19:13,590 --> 00:19:16,200\nIt's serving as that password database so\n\n356\n00:19:16,200 --> 00:19:20,210\nit's got the password server\nfunctionality for storing users data.\n\n357\n00:19:20,210 --> 00:19:25,720\nAnd it's a Kerberos, key distribution\ncenter, which means, once somebody\n\n358\n00:19:25,720 --> 00:19:30,370\nauthenticates, they need a way to continue\nto authenticate against other systems.\n\n359\n00:19:30,370 --> 00:19:31,860\nAnd they'll use Kerberos to do that, so\n\n360\n00:19:31,860 --> 00:19:33,833\nyou actually end up using\nboth of those systems.\n\n361\n00:19:33,833 --> 00:19:37,125\nThe way Kerberos works\nis really kind of weird.\n\n362\n00:19:37,125 --> 00:19:40,795\nWhen you log in, you reach out and\nyou find that KDC.\n\n363\n00:19:41,875 --> 00:19:44,553\nAnd you send to it\nan authentication request.\n\n364\n00:19:44,553 --> 00:19:48,435\nYou say hey, I'm Don Pezet,\nhere's my password, I wanna get logged in.\n\n365\n00:19:48,435 --> 00:19:51,327\nAnd the Kerberos server\nis gonna receive that,\n\n366\n00:19:51,327 --> 00:19:53,307\nand it's gonna look at your credentials.\n\n367\n00:19:53,307 --> 00:19:56,157\nAnd it's gonna reach out to the password\ndatabase, to the password server.\n\n368\n00:19:56,157 --> 00:19:57,647\nIt's gonna say hey, is this stuff valid?\n\n369\n00:19:57,647 --> 00:20:00,977\nAnd the password server is gonna\nlook at it and it's gonna say yeah,\n\n370\n00:20:00,977 --> 00:20:01,737\nthat's valid, that's good.\n\n371\n00:20:01,737 --> 00:20:03,427\nThis is Don's correct password.\n\n372\n00:20:04,510 --> 00:20:09,300\nThen, the Kerberos server will\ngenerate what's called a TGT,\n\n373\n00:20:09,300 --> 00:20:11,790\na Ticket Granting Ticket.\n\n374\n00:20:11,790 --> 00:20:15,340\nAnd it's going to send\nthat ticket back to you.\n\n375\n00:20:15,340 --> 00:20:16,240\nSo when you log in,\n\n376\n00:20:16,240 --> 00:20:19,410\nyou're actually getting what's\ncalled a Ticket Granting Ticket.\n\n377\n00:20:19,410 --> 00:20:26,000\nAnd with that Ticket Granting Ticket you\ncan then create your own service tickets.\n\n378\n00:20:26,000 --> 00:20:26,990\nNow what's a service ticket?\n\n379\n00:20:28,170 --> 00:20:33,830\nIn Mac OS, whenever you run a program,\nit runs as you, all right?\n\n380\n00:20:33,830 --> 00:20:36,250\nSo, for example,\nlet me take this machine here.\n\n381\n00:20:36,250 --> 00:20:38,320\nI'm logged in as Help Desk, right,\n\n382\n00:20:38,320 --> 00:20:40,790\nmy user account that I'm logged in with\nright now is just called Help Desk.\n\n383\n00:20:40,790 --> 00:20:42,780\nYou'll see my name's right there,\nHelp Desk.\n\n384\n00:20:42,780 --> 00:20:48,290\nAnd if I fire up something like Safari,\nit's running as me.\n\n385\n00:20:48,290 --> 00:20:52,450\nSo Safari can't do anything that\nI'm not allowed to do myself.\n\n386\n00:20:52,450 --> 00:20:55,490\nAnd if I fire up notes or messaging or\n\n387\n00:20:55,490 --> 00:20:59,390\nany of the other programs,\nthey're all running as me.\n\n388\n00:20:59,390 --> 00:21:01,610\nSo, when the system sees\nit on the back end,\n\n389\n00:21:01,610 --> 00:21:05,754\nit thinks that it's me that is running\nSafari and it's me that's running Notes.\n\n390\n00:21:05,754 --> 00:21:07,468\nAnd in this case it is, right?\n\n391\n00:21:07,468 --> 00:21:08,607\nIt's actually me doing it.\n\n392\n00:21:08,607 --> 00:21:12,210\nBut how does it know that it's me that's\ncontrolling each of those windows.\n\n393\n00:21:12,210 --> 00:21:16,710\nIf I'm using fast user switching, I might\njump over to another user account and\n\n394\n00:21:16,710 --> 00:21:18,650\nlaunch Safari also, right?\n\n395\n00:21:18,650 --> 00:21:21,644\nSo Safari was running\nhere as me as Help Desk.\n\n396\n00:21:21,644 --> 00:21:25,790\nAnd if I switch over to Jane,\nI'm gonna login as Jane.\n\n397\n00:21:25,790 --> 00:21:27,410\nAnd oh,\nthis is the first time she's logged in.\n\n398\n00:21:27,410 --> 00:21:28,870\nThis is gonna take a little bit.\n\n399\n00:21:28,870 --> 00:21:32,660\nBut when I switch over to\nJane she can run Safari.\n\n400\n00:21:32,660 --> 00:21:36,160\nNow there's two copies of Safari\nrunning on this computer.\n\n401\n00:21:36,160 --> 00:21:39,650\nHow does it know which one is Jane's and\nwhich one is mine?\n\n402\n00:21:39,650 --> 00:21:45,208\nWell when you run that program\nyou attach a token to it.\n\n403\n00:21:45,208 --> 00:21:48,840\nIf it's local-based authentication\nit's just a regular token.\n\n404\n00:21:48,840 --> 00:21:51,039\nBut if it's an open\ndirectory-based authentication,\n\n405\n00:21:51,039 --> 00:21:53,341\nits actually your Kerberos ticket,\nyour service ticket.\n\n406\n00:21:53,341 --> 00:21:54,339\nYou're attaching to it.\n\n407\n00:21:54,339 --> 00:21:56,210\nAnd you're saying, this is me.\n\n408\n00:21:56,210 --> 00:21:57,930\nThis is me running this program.\n\n409\n00:21:57,930 --> 00:22:02,850\nAnd so the system will now be able to see\nJane Doe has a copy of Safari running, and\n\n410\n00:22:02,850 --> 00:22:05,550\nI have a copy of Safari running,\nand they're separate.\n\n411\n00:22:05,550 --> 00:22:09,910\nAnd if Jane's an admin,\nher Safari might be able to do things\n\n412\n00:22:09,910 --> 00:22:13,428\nthat mine can't if I'm not an admin\ncuz it's tied to our users, right?\n\n413\n00:22:14,610 --> 00:22:18,540\nThat is really what the ticket\nends up doing for Kerberos.\n\n414\n00:22:18,540 --> 00:22:22,300\nYou'll hear a lot of people call it\na token also, and that's because\n\n415\n00:22:22,300 --> 00:22:25,670\nin some implementations it's called\na token, in others it's called a ticket.\n\n416\n00:22:25,670 --> 00:22:27,306\nIn the Apple definition\nit is just a ticket.\n\n417\n00:22:29,070 --> 00:22:31,667\nSo here I'm logging in as Jane and\nI'm just gonna fire up Safari so\n\n418\n00:22:31,667 --> 00:22:32,520\nshe's running it.\n\n419\n00:22:32,520 --> 00:22:33,710\nWhat was the other program I launched?\n\n420\n00:22:33,710 --> 00:22:37,530\nI think I fired up Notes and\nI was running the server app, right?\n\n421\n00:22:37,530 --> 00:22:42,210\nSo she can fire up a lot of this same\nstuff and get it up and running.\n\n422\n00:22:42,210 --> 00:22:45,100\nAnd it's all running as her.\n\n423\n00:22:45,100 --> 00:22:46,610\nI'm gonna switch back to Help Desk.\n\n424\n00:22:48,730 --> 00:22:52,290\nAnd we can see all of that\nin our activity monitor.\n\n425\n00:22:52,290 --> 00:22:53,860\nIf I fire up the activity monitor,\n\n426\n00:22:55,570 --> 00:22:58,700\nthe activity monitor shows all the stuff\nthat's running on my computer.\n\n427\n00:22:58,700 --> 00:23:00,890\nAnd it shows me who's doing it.\n\n428\n00:23:00,890 --> 00:23:03,590\nSee how all this stuff\nover here says Help Desk?\n\n429\n00:23:03,590 --> 00:23:06,360\nHere's the activity monitor\nrunning as Help Desk.\n\n430\n00:23:06,360 --> 00:23:09,490\nAnd I can probably look in here and\nfind notes running as Help Desk.\n\n431\n00:23:09,490 --> 00:23:11,640\nAnd server,\nserver will be in here somewhere.\n\n432\n00:23:11,640 --> 00:23:14,050\nThere it is, server running as Help Desk.\n\n433\n00:23:14,050 --> 00:23:15,537\nIt's running as me.\n\n434\n00:23:15,537 --> 00:23:18,173\nBut if I keep looking, somewhere in here.\n\n435\n00:23:18,173 --> 00:23:21,010\nOh, actually it's\nfiltered down to just me.\n\n436\n00:23:21,010 --> 00:23:21,810\nAm I not an admin?\n\n437\n00:23:22,980 --> 00:23:24,130\nI guess I'm not an admin.\n\n438\n00:23:24,130 --> 00:23:26,450\nSo I'm not seeing everything in here.\n\n439\n00:23:26,450 --> 00:23:30,310\nBut I could drop to a terminal and\nwe'll do it the old Unix way.\n\n440\n00:23:32,050 --> 00:23:36,600\nDo a little ps -au,\nI always mess that one up.\n\n441\n00:23:39,580 --> 00:23:41,030\nThere we go, psax.\n\n442\n00:23:41,030 --> 00:23:46,439\nSo I can pull up the process list here\nin the terminal, and what I'll see\n\n443\n00:23:49,481 --> 00:23:53,174\nIs all of those processes that\nare running in the background and\n\n444\n00:23:53,174 --> 00:23:57,600\nwho's running them, and\nwe can hunt through here and find.\n\n445\n00:23:57,600 --> 00:24:00,625\nActually, I don't know my user ID, so\nthis is gonna be somewhat limited.\n\n446\n00:24:00,625 --> 00:24:05,080\nBut you can look through here, and\nyou can find who's running this stuff.\n\n447\n00:24:05,080 --> 00:24:10,042\nAnd notice that it's tied to them and\nI'm using the wrong command line.\n\n448\n00:24:11,250 --> 00:24:12,870\nLet's pull up the main file for PS,\n\n449\n00:24:12,870 --> 00:24:17,190\nthe PS is a command line utility that will\npull up your processes, your process list.\n\n450\n00:24:17,190 --> 00:24:20,330\nAnd there's a modifier for\nit that'll make it show the user, and\n\n451\n00:24:20,330 --> 00:24:22,530\nI thought it was just -u,\nbut apparently, it is not.\n\n452\n00:24:22,530 --> 00:24:27,142\nSo I'm just gonna check the help file,\nlet's see, so\n\n453\n00:24:27,142 --> 00:24:32,060\nI did -A to see information\nabout other users' processes\n\n454\n00:24:32,060 --> 00:24:35,188\nas well as my own, and, let's see.\n\n455\n00:24:38,980 --> 00:24:41,810\nMan, I thought it was -u to show that,\nbut I guess it isn't.\n\n456\n00:24:41,810 --> 00:24:47,120\nAll right, well, anyhow,\nI can see each of these tied to me here,\n\n457\n00:24:47,120 --> 00:24:50,240\nwe'll just use this for our example,\nso I can see them tied to me, and\n\n458\n00:24:50,240 --> 00:24:53,570\nit's that token or that ticket that's\nattached to it that does that.\n\n459\n00:24:53,570 --> 00:24:58,900\nSo when you want opened directory, open\ndirectory is that Kerberos KDC, right?\n\n460\n00:24:58,900 --> 00:24:59,820\nThat Key Distribution Center,\n\n461\n00:24:59,820 --> 00:25:02,400\nand it's issuing that ticket\ngranting ticket out to us, so\n\n462\n00:25:02,400 --> 00:25:06,260\nthat we can then issue our service tickets\nas we run each of our different programs.\n\n463\n00:25:06,260 --> 00:25:08,940\nAnd when our programs reach out,\neven across the network,\n\n464\n00:25:08,940 --> 00:25:12,580\nthe programs will say hey,\nI'm Don Pezet, or hey, I'm Jane Doe.\n\n465\n00:25:12,580 --> 00:25:14,640\nLetting it know that that's the user,\n\n466\n00:25:14,640 --> 00:25:19,230\nand only to authorize us to perform\nactions that we're allowed to do, right?\n\n467\n00:25:19,230 --> 00:25:22,200\nIt'll say oh, you're Don Pezet,\nyou're allowed to do xyz.\n\n468\n00:25:22,200 --> 00:25:25,520\nOh, you're Jane Doe,\nyou're allowed to do wxyz, right?\n\n469\n00:25:25,520 --> 00:25:28,660\nSo basically, identifying that\nbased on the user account.\n\n470\n00:25:28,660 --> 00:25:29,600\nSo that's a big part of that.\n\n471\n00:25:31,628 --> 00:25:38,040\nAll right, the last one they call\nout on the exam objectives is LDAP.\n\n472\n00:25:38,040 --> 00:25:42,150\nAnd LDAP in and of itself isn't\nactually an authentication mechanism.\n\n473\n00:25:42,150 --> 00:25:47,530\nLDAP is the lightweight directory access\nprotocol, and when you have that password\n\n474\n00:25:47,530 --> 00:25:51,800\nserver, and you have the KDC,\nall of the stuff that open directory is,\n\n475\n00:25:51,800 --> 00:25:55,410\nyou've gotta have a standard language\nyou can use to query against it.\n\n476\n00:25:55,410 --> 00:25:58,960\nYou send a message to it saying,\nhey is this user valid, or\n\n477\n00:25:58,960 --> 00:26:01,220\nwhat groups is this user in.\n\n478\n00:26:01,220 --> 00:26:03,490\nWhat access does this user have?\n\n479\n00:26:03,490 --> 00:26:07,290\nThe servers gonna be able to receive that\nquestion, and respond with an answer.\n\n480\n00:26:07,290 --> 00:26:11,650\nAn LDAP, the lightweight directory access\nprotocol, is the protocol that allows\n\n481\n00:26:11,650 --> 00:26:15,380\nthat, it gives us that standard\nlanguage to write for queries.\n\n482\n00:26:15,380 --> 00:26:20,010\nMicrosoft's active directory,\nApple's open directory, Open LDAP,\n\n483\n00:26:20,010 --> 00:26:25,120\nthey all use this LDAP query language,\nit's very standardized out there.\n\n484\n00:26:25,120 --> 00:26:28,620\nWe can go ahead and throw it in as\na type of authentication because we're\n\n485\n00:26:28,620 --> 00:26:31,240\nreaching out to a server to\nfind out if a user is valid or\n\n486\n00:26:31,240 --> 00:26:36,200\nfind out additional information about\nthe user, but LDAP by itself isn't enough.\n\n487\n00:26:36,200 --> 00:26:39,500\nWe've normally got something else\nstuck onto it, like Kerberos or\n\n488\n00:26:39,500 --> 00:26:41,770\njust regular password server or whatever.\n\n489\n00:26:41,770 --> 00:26:44,780\nSo, all this stuff really\nstarts to work together\n\n490\n00:26:44,780 --> 00:26:48,200\nto provide us that full\nrealm of authentication.\n\n491\n00:26:48,200 --> 00:26:50,470\nSo, let's recap those five, right?\n\n492\n00:26:50,470 --> 00:26:52,450\nThe first one I talked about were hashes.\n\n493\n00:26:52,450 --> 00:26:54,970\nAnd we use hashes when we\nstore our passwords, and\n\n494\n00:26:54,970 --> 00:26:58,430\nwe use hashes when we talk with Windows\nservers across the network using SMP.\n\n495\n00:26:59,480 --> 00:27:03,930\nThen, we talked about Crypt,\nthe old Unix style password storage.\n\n496\n00:27:03,930 --> 00:27:06,280\nAnd the Crypt passwords are just there for\nbackwards compatibility.\n\n497\n00:27:06,280 --> 00:27:08,020\nWe really don't use those anymore.\n\n498\n00:27:08,020 --> 00:27:12,407\nAll right, then we've got,\nwhat was next after that?\n\n499\n00:27:12,407 --> 00:27:17,240\n[LAUGH] After Crypt,\nwe did that password server, right?\n\n500\n00:27:17,240 --> 00:27:20,470\nPassword server, we've got a centralized\ndatabase that's actually handling\n\n501\n00:27:20,470 --> 00:27:23,300\nverifying whether the usernames and\npasswords are correct.\n\n502\n00:27:23,300 --> 00:27:24,830\nThen we mentioned Kerberos, right?\n\n503\n00:27:24,830 --> 00:27:29,370\nThe actual ticket service that's allowing\nus to get our programs to run as us and\n\n504\n00:27:29,370 --> 00:27:30,805\nreach across the network for\nauthentication.\n\n505\n00:27:30,805 --> 00:27:33,690\nAnd lastly there was Aldec, all right.\n\n506\n00:27:33,690 --> 00:27:38,000\nNow, Aldec, that was the database query\nlanguage basically, but it can be used for\n\n507\n00:27:38,000 --> 00:27:39,590\nbasic authentication too.\n\n508\n00:27:39,590 --> 00:27:43,650\nSo, we have all of that\nsupport baked into Mac OS.\n\n509\n00:27:43,650 --> 00:27:44,430\nWe don't have to add any.\n\n510\n00:27:44,430 --> 00:27:48,690\nThat's all when you do a basic\nclean install of Mac OS,\n\n511\n00:27:48,690 --> 00:27:51,510\nit's got all of those already there.\n\n512\n00:27:51,510 --> 00:27:52,700\nBut it's also extensible.\n\n513\n00:27:52,700 --> 00:27:54,750\nYou can add more on there.\n\n514\n00:27:54,750 --> 00:27:58,460\nIf you wanna use RSA security id tokens,\ngreat you can add it on.\n\n515\n00:27:58,460 --> 00:27:59,960\nIts got that functionality, right?\n\n516\n00:27:59,960 --> 00:28:03,990\nThe BSD system under the hood allows you\nto extend that out very, very easily.\n\n517\n00:28:03,990 --> 00:28:07,805\nBut these five, they're built into\nthe system, they're ready to rock.\n\n518\n00:28:07,805 --> 00:28:09,521\nIt's just all available right there.\n\n519\n00:28:11,271 --> 00:28:13,668\nWell, enough about\nthe protocols themselves,\n\n520\n00:28:13,668 --> 00:28:16,245\nI wanna take a look at some\nof the more finer details.\n\n521\n00:28:16,245 --> 00:28:20,215\nLike where these passwords get stored and\nhow some of these other things function,\n\n522\n00:28:20,215 --> 00:28:22,585\nbut I've talked a little long\nin this segment already.\n\n523\n00:28:22,585 --> 00:28:25,940\nSo let's pause here and\ntake a break, and when we get back,\n\n524\n00:28:25,940 --> 00:28:31,972\nwe'll talk a little bit more about\nuser authentication after this.\n\n525\n00:28:31,972 --> 00:28:37,355\n[NOISE] All right, welcome back everybody.\n\n526\n00:28:37,355 --> 00:28:42,096\nSo, during the break it was driving me\nnuts cuz I was pretty sure that command\n\n527\n00:28:42,096 --> 00:28:43,020\nwas ps -aux.\n\n528\n00:28:43,020 --> 00:28:44,300\nTurns out you leave the dash out.\n\n529\n00:28:44,300 --> 00:28:48,090\nSo let me double back to what I was\nshowing you earlier, I wanted to show you\n\n530\n00:28:48,090 --> 00:28:54,360\nthe fact that I knew that Jane Doe was\nrunning Safari, and I was running Safari,\n\n531\n00:28:54,360 --> 00:28:58,990\nand the command I was running was ps -aux,\nlike that, which is wrong.\n\n532\n00:28:58,990 --> 00:29:02,160\nI should have left that dash out,\njust ps aux, and\n\n533\n00:29:02,160 --> 00:29:04,750\nthat'll show you all\nthe processes they're running.\n\n534\n00:29:04,750 --> 00:29:06,060\nAnd who's running them?\n\n535\n00:29:06,060 --> 00:29:08,440\nSee how I get my nice\nlittle usernames there?\n\n536\n00:29:08,440 --> 00:29:12,580\nAnd, I'm gonna filter that a bit so\nthat it's just got Safari.\n\n537\n00:29:13,600 --> 00:29:17,910\nAnd so when I run that, oh,\nlet's see, did I spell Safari wrong?\n\n538\n00:29:20,030 --> 00:29:21,910\nOh, [LAUGH] I'm filtering\nthe clear command.\n\n539\n00:29:21,910 --> 00:29:23,880\nThat's not gonna get me very far either,\nis it?\n\n540\n00:29:23,880 --> 00:29:25,960\nSo I'm gonna filter that just so\nI can see Safari.\n\n541\n00:29:25,960 --> 00:29:27,010\nThere we go.\n\n542\n00:29:27,010 --> 00:29:30,380\nAnd so I can see I've got a couple\nof instances of Safari running.\n\n543\n00:29:30,380 --> 00:29:33,480\nI've got Jane Doe running\nan instance of Safari right here.\n\n544\n00:29:33,480 --> 00:29:35,860\nAnd Jane Doe again, now,\nwhy would she have two?\n\n545\n00:29:35,860 --> 00:29:38,050\nOh, I must have opened a second tab.\n\n546\n00:29:38,050 --> 00:29:40,750\nEach tab in Safari is\nkind of it's own process.\n\n547\n00:29:40,750 --> 00:29:44,490\nAnd Help Desk is up and\nrunning and got Safari going also.\n\n548\n00:29:44,490 --> 00:29:46,480\nAnd then you can actually\nsee my filter right there,\n\n549\n00:29:46,480 --> 00:29:48,340\nwhich keyed off of the word Safari too.\n\n550\n00:29:48,340 --> 00:29:50,970\nSo, here's the system keeping track of it.\n\n551\n00:29:50,970 --> 00:29:55,930\nIt knows that Jane Doe's ticket is\nattached to that Safari process, and\n\n552\n00:29:55,930 --> 00:30:00,200\nmy ticket, or my access token,\nis attached to this other Safari process.\n\n553\n00:30:00,200 --> 00:30:01,220\nAnd it keeps them separate, right?\n\n554\n00:30:01,220 --> 00:30:02,700\nThat's all a part of that process,\n\n555\n00:30:02,700 --> 00:30:07,610\nso, if you ever wanna look at it yourself,\njust ps aux, no dash.\n\n556\n00:30:07,610 --> 00:30:08,930\nThat's what was making that not work.\n\n557\n00:30:10,120 --> 00:30:14,350\nAll right now, we talked a little\nbit about a password database.\n\n558\n00:30:14,350 --> 00:30:16,340\nAnd what I wanna do right now,\nis take a moment and\n\n559\n00:30:16,340 --> 00:30:19,750\nkinda show you guys where\nthese files are stored,\n\n560\n00:30:19,750 --> 00:30:23,030\nwhere are these user accounts actually\nstored on the system, all right?\n\n561\n00:30:23,030 --> 00:30:24,419\nThey do want you to know this for\nthe exam.\n\n562\n00:30:25,460 --> 00:30:28,340\nLet's start with the old passwords,\nall right?\n\n563\n00:30:28,340 --> 00:30:29,640\nI mentioned the crypt system.\n\n564\n00:30:30,670 --> 00:30:35,180\nIn the old days, what happened was\nthat in original Unix systems,\n\n565\n00:30:35,180 --> 00:30:38,570\nall of the user accounts were\nstored in a single file.\n\n566\n00:30:38,570 --> 00:30:41,640\nThe file was in the etc folder,\nthe et cetera folder.\n\n567\n00:30:41,640 --> 00:30:46,490\nIt's hidden by default, but it is there,\neven on your Mac computers today.\n\n568\n00:30:46,490 --> 00:30:51,620\nForward slash etc forward slash passwd.\n\n569\n00:30:51,620 --> 00:30:53,630\nThat's a file,\nthe file is just called passwd.\n\n570\n00:30:53,630 --> 00:30:58,120\nAnd it used to contain all the user\naccounts, and their passwords.\n\n571\n00:30:59,320 --> 00:31:03,960\nMacs don't use that anymore, but the file\nis still there because it's required for\n\n572\n00:31:03,960 --> 00:31:05,610\nsome of the Unix services to run.\n\n573\n00:31:05,610 --> 00:31:07,740\nLet me show you here on mine.\n\n574\n00:31:07,740 --> 00:31:11,540\nSo, this is a fairly\nstock Yosemite instance,\n\n575\n00:31:11,540 --> 00:31:15,050\nI put the server app on there and\nI made an opened directory server.\n\n576\n00:31:15,050 --> 00:31:18,070\nBut I haven't really modified\nmuch else other than that.\n\n577\n00:31:18,070 --> 00:31:24,740\nIf I do more /etc/passwd.\n\n578\n00:31:24,740 --> 00:31:29,310\nI can look into that password file\nThe password file is still there but\n\n579\n00:31:29,310 --> 00:31:31,810\nit's not really used anymore.\n\n580\n00:31:31,810 --> 00:31:34,480\nAnd you'll see it's just kind of giving\nyou some little warnings about it and\n\n581\n00:31:34,480 --> 00:31:35,940\nsome other information here.\n\n582\n00:31:35,940 --> 00:31:38,500\nBut what's important\nare these user accounts.\n\n583\n00:31:38,500 --> 00:31:41,150\nAnd I'm only gonna see a handful\nof user accounts in here and\n\n584\n00:31:41,150 --> 00:31:42,850\nthey're all related to services.\n\n585\n00:31:42,850 --> 00:31:46,540\nTo Unix services, not the stuff we use, so\n\n586\n00:31:46,540 --> 00:31:49,140\nI know there was a Jane Doe and\na John Doe account.\n\n587\n00:31:49,140 --> 00:31:50,368\nThere was a Help Desk account,\n\n588\n00:31:50,368 --> 00:31:53,167\nDon Pezet, Ronnie Wong, right,\nthose accounts that were created.\n\n589\n00:31:53,167 --> 00:31:57,977\nI'm not gonna find any of those in here,\nbecause we don't use this anymore,\n\n590\n00:31:57,977 --> 00:32:01,603\nbut a lot of the older services\nthat are there still do, and\n\n591\n00:32:01,603 --> 00:32:05,969\nso as I look in the list,\nI'll see things like UUCP, install assist,\n\n592\n00:32:05,969 --> 00:32:11,025\npost fix, and some of these other\nthings that are actively running.\n\n593\n00:32:11,025 --> 00:32:14,230\nAnd the way that they crypt originally\nworked is it would store the user accounts\n\n594\n00:32:14,230 --> 00:32:18,670\nhere, and you would have the user name and\nthen a colon, and\n\n595\n00:32:18,670 --> 00:32:20,790\nthen their password right here.\n\n596\n00:32:20,790 --> 00:32:23,520\nAnd in the original versions of\nUnix it was just in plain text,\n\n597\n00:32:23,520 --> 00:32:25,920\nyou could read the password\nright on the file.\n\n598\n00:32:25,920 --> 00:32:28,040\nAnd then in later versions\nthey started encrypting it.\n\n599\n00:32:28,040 --> 00:32:30,520\nAnd by later versions,\nI'm talking about back in the 1980's.\n\n600\n00:32:30,520 --> 00:32:32,800\nAnd they started encrypting\nit with that crypt function,\n\n601\n00:32:32,800 --> 00:32:33,580\nthat's where that came from.\n\n602\n00:32:33,580 --> 00:32:35,610\nThey knew it encrypted and\nstore it right here, so\n\n603\n00:32:35,610 --> 00:32:38,030\nwe would actually see passwords here.\n\n604\n00:32:38,030 --> 00:32:38,890\nWell as time went on,\n\n605\n00:32:38,890 --> 00:32:41,750\nthey realized that that wasn't really\nthe best way to handle things.\n\n606\n00:32:41,750 --> 00:32:46,710\nAnd so what they did is they pulled\nthe passwords out of this file, which is\n\n607\n00:32:46,710 --> 00:32:50,340\nwhat effectively killed off the old crypt\nsystem, why we don't need it anymore.\n\n608\n00:32:50,340 --> 00:32:55,500\nAnd they moved those passwords over\nto something called a shadow file.\n\n609\n00:32:55,500 --> 00:32:59,980\nNow on most Unix systems,\nyou can find that shadow file.\n\n610\n00:32:59,980 --> 00:33:03,360\nThe file that we just looked at,\nthat was /etc/passwd.\n\n611\n00:33:03,360 --> 00:33:09,720\nOn a lot of Unix systems,\nyou can still find /etc/shadow.\n\n612\n00:33:09,720 --> 00:33:15,850\nAnd the shadow file's a special file that\nonly the administrator has access to.\n\n613\n00:33:15,850 --> 00:33:19,580\nNo other user can even see that the file's\nthere, so a lot of people think it's gone.\n\n614\n00:33:19,580 --> 00:33:20,720\nBut it is actually there.\n\n615\n00:33:20,720 --> 00:33:22,710\nOnly the administrator can see it.\n\n616\n00:33:22,710 --> 00:33:25,370\nAnd inside of it\nare the encrypted passwords.\n\n617\n00:33:26,420 --> 00:33:31,520\nSo when you use Unix accounts,\ntheir passwords get stored there.\n\n618\n00:33:31,520 --> 00:33:34,230\nWell, that does create a single target.\n\n619\n00:33:34,230 --> 00:33:36,810\nIf a hacker breaks into your system,\none of the things they're going to do is\n\n620\n00:33:36,810 --> 00:33:39,360\nthey're going to reach out and\ntarget that file specifically.\n\n621\n00:33:39,360 --> 00:33:41,600\nAnd we don't necessarily want that, right?\n\n622\n00:33:41,600 --> 00:33:44,460\nSo, what Apple did is they said,\nyou know what, let's not do that.\n\n623\n00:33:44,460 --> 00:33:47,710\nLet's not make use of the shadow\nfile the way everybody else does.\n\n624\n00:33:47,710 --> 00:33:53,710\nAnd instead, they created a separate\nshadow file for every single user.\n\n625\n00:33:53,710 --> 00:33:55,620\nWhen you create a user account,\n\n626\n00:33:55,620 --> 00:33:58,570\nthey don't store their data here\nlike they did in the old days.\n\n627\n00:33:58,570 --> 00:34:03,640\nInstead it's stored in a special\nplace just for each user.\n\n628\n00:34:03,640 --> 00:34:05,070\nOkay, and so we can find this.\n\n629\n00:34:05,070 --> 00:34:07,170\nLike that Jane Doe account that I created.\n\n630\n00:34:07,170 --> 00:34:09,910\nIf I switch over and\ndive into like her directory.\n\n631\n00:34:11,110 --> 00:34:14,250\nWell, I say her directory,\nnot like /user/janedoe, right?\n\n632\n00:34:14,250 --> 00:34:16,470\nIf I go into /users and\n\n633\n00:34:16,470 --> 00:34:20,730\nlook in here, I'll see where Jane Doe has\nher own directory right there, right?\n\n634\n00:34:20,730 --> 00:34:23,550\nBut that's for her user profile,\nI'm talking about for\n\n635\n00:34:23,550 --> 00:34:25,150\nher user security account.\n\n636\n00:34:25,150 --> 00:34:28,270\nAnd the user security accounts\naren't stored in the profile because\n\n637\n00:34:28,270 --> 00:34:30,810\nwe need the account to prove\nwe have access to the profile.\n\n638\n00:34:30,810 --> 00:34:35,415\nSo it would be like putting\nthe egg inside the chicken.\n\n639\n00:34:35,415 --> 00:34:38,085\nThat might be the worst analogy I used\nall day, I'm going to throw that one out.\n\n640\n00:34:38,085 --> 00:34:41,565\nIt would be like locking your keys\nin the house, is what it would be,\n\n641\n00:34:41,565 --> 00:34:44,445\nyou're trying to get back in the house\nbecause your key's locked in there.\n\n642\n00:34:44,445 --> 00:34:45,695\nThat's exactly what this would be like.\n\n643\n00:34:45,695 --> 00:34:49,725\nSo the user security account has\nto be stored somewhere else.\n\n644\n00:34:49,725 --> 00:34:52,245\nAnd it's stored in another\nhidden directory for us, right,\n\n645\n00:34:52,245 --> 00:34:54,800\nit's stored in the slash VAR directory.\n\n646\n00:34:54,800 --> 00:34:59,540\nThat directory has all sorts of additional\nsystem related things in there, and\n\n647\n00:34:59,540 --> 00:35:03,130\nif you've worked in the Unix and Linux\nworld, you've probably dealt with this.\n\n648\n00:35:03,130 --> 00:35:05,960\nIn the Mac world,\nit's normally hidden from us, right?\n\n649\n00:35:05,960 --> 00:35:09,340\nBut inside of VAR there's\na folder called DB, right.\n\n650\n00:35:09,340 --> 00:35:11,190\nWhich is just short for database.\n\n651\n00:35:11,190 --> 00:35:14,800\nAnd the database, well,\nit can be a number of different things.\n\n652\n00:35:14,800 --> 00:35:19,000\nBut one of them that's in there\nis the local security database.\n\n653\n00:35:19,000 --> 00:35:24,678\nIf I switch into that directory,\nso just looking at my directory.\n\n654\n00:35:24,678 --> 00:35:30,340\nI'm in /VAR/DB If you look in there,\nyou'll see all these different databases.\n\n655\n00:35:30,340 --> 00:35:33,900\nAnd the one that I want is\nthis guy right here, DS Local.\n\n656\n00:35:33,900 --> 00:35:36,310\nOkay, that's our directory security,\nlocal.\n\n657\n00:35:36,310 --> 00:35:38,430\nOur locally stored security database.\n\n658\n00:35:40,320 --> 00:35:44,430\nAnd if I go into that, I can see that\nI've got this folder called nodes, and\n\n659\n00:35:44,430 --> 00:35:45,590\nthere's really just one node.\n\n660\n00:35:45,590 --> 00:35:46,690\nWhoops.\n\n661\n00:35:46,690 --> 00:35:47,610\nWhich is this computer.\n\n662\n00:35:48,670 --> 00:35:52,400\nAnd then inside of that I've\ngot the default configuration.\n\n663\n00:35:52,400 --> 00:35:53,820\nAnd I got permission denied.\n\n664\n00:35:53,820 --> 00:35:55,730\nOkay, why did they get permission denied?\n\n665\n00:35:55,730 --> 00:36:01,920\nWell, I am logged in as an admin, but when\nyou run things from the command prompt,\n\n666\n00:36:01,920 --> 00:36:03,970\nit's running them as just a regular user.\n\n667\n00:36:03,970 --> 00:36:05,036\nAnd so if I want to get in there,\n\n668\n00:36:05,036 --> 00:36:07,190\nI'm going to have to use\nthe pseudo command, or pseudo.\n\n669\n00:36:07,190 --> 00:36:08,850\nRight?\nWhich is super user do.\n\n670\n00:36:08,850 --> 00:36:10,776\nI'm going to say pseudo and\n\n671\n00:36:10,776 --> 00:36:15,060\nI'm going to pull up a listing\nof what's in that directory.\n\n672\n00:36:16,720 --> 00:36:18,360\nAnd when I look in there, whoops.\n\n673\n00:36:18,360 --> 00:36:19,810\nProbably need to type my password.\n\n674\n00:36:19,810 --> 00:36:20,780\nThere we go.\n\n675\n00:36:20,780 --> 00:36:22,840\nI can see all the other different\nthings that are in there.\n\n676\n00:36:22,840 --> 00:36:26,860\nAnd I can see computers,\ngroups, network, users, right?\n\n677\n00:36:26,860 --> 00:36:28,850\nThere's a lot of stuff.\n\n678\n00:36:28,850 --> 00:36:31,540\nBuried, deep down in there.\n\n679\n00:36:31,540 --> 00:36:35,190\nAs I start to look in there,\nhere's all of these service accounts,\n\n680\n00:36:35,190 --> 00:36:38,710\nall of the service accounts I saw\nin that past WD file a minute ago.\n\n681\n00:36:38,710 --> 00:36:40,070\nRemember we saw _uucp?\n\n682\n00:36:40,070 --> 00:36:43,740\nThere it is and we saw root and\n\n683\n00:36:43,740 --> 00:36:47,130\nsome of the other ones,\nthere's root, there's nobody.\n\n684\n00:36:47,130 --> 00:36:52,060\nBut I also see John Doe,\nJane Doe, and Help Desk.\n\n685\n00:36:52,060 --> 00:36:57,670\nI didn't see those in the passwd file, and\nthat's because we don't use that anymore.\n\n686\n00:36:57,670 --> 00:37:03,290\nNow each of them has their own password\nfile, and it's all stored right here.\n\n687\n00:37:03,290 --> 00:37:05,300\nAnd then these little plist files.\n\n688\n00:37:05,300 --> 00:37:07,530\nSo, those are our preference lists.\n\n689\n00:37:07,530 --> 00:37:09,150\nAnd if you remember from\nsome of the other shows,\n\n690\n00:37:09,150 --> 00:37:13,080\nthose preference lists, they are binaries.\n\n691\n00:37:13,080 --> 00:37:14,710\nRight?\nSo they're like compiled.\n\n692\n00:37:14,710 --> 00:37:16,720\nIf I try and read one of those.\n\n693\n00:37:16,720 --> 00:37:24,490\nSo if I do more and\nI try and pull up Jane's.\n\n694\n00:37:24,490 --> 00:37:27,160\nSo I'll do Jane Doe.plist like this.\n\n695\n00:37:27,160 --> 00:37:30,150\nWhen I go to look at it,\nit gives me hey this may be a binary file,\n\n696\n00:37:30,150 --> 00:37:31,740\nare you sure you want to view it?\n\n697\n00:37:31,740 --> 00:37:34,530\nAnd I'll throw caution to the wind and\nsay yeah, give it to me.\n\n698\n00:37:34,530 --> 00:37:35,950\nOh, here it comes.\n\n699\n00:37:35,950 --> 00:37:39,600\nAnd they open up the flood, and\nit's just a bunch of junk on my screen.\n\n700\n00:37:39,600 --> 00:37:43,340\nAnd I end up looking at binary data that\ndoesn't really mean much to me, right?\n\n701\n00:37:43,340 --> 00:37:44,750\nIt's just all garbage.\n\n702\n00:37:44,750 --> 00:37:47,630\nBut we can actually view\nwhat's in there if we want,\n\n703\n00:37:47,630 --> 00:37:49,420\nthere's little utility there we can use.\n\n704\n00:37:49,420 --> 00:37:51,180\nI know I covered this\nin some show earlier.\n\n705\n00:37:51,180 --> 00:37:53,820\nBut we'll do it again\nbecause it's kind of fun.\n\n706\n00:37:53,820 --> 00:37:57,360\nWhich is the PL utility,\nthe preference list utility.\n\n707\n00:37:57,360 --> 00:38:00,510\nAnd you can use it to display\nthe ASCII information.\n\n708\n00:38:00,510 --> 00:38:03,430\nJust the regular text information\nfrom inside of that file.\n\n709\n00:38:03,430 --> 00:38:06,200\nJust out of the binary information,\nall right?\n\n710\n00:38:06,200 --> 00:38:08,860\nNow, the path that I'm in is kind of deep,\n\n711\n00:38:08,860 --> 00:38:12,810\nso I want to show you guys this\nwith the whole path involved.\n\n712\n00:38:12,810 --> 00:38:16,173\nIf I want to view the password file for\nJane, first off,\n\n713\n00:38:16,173 --> 00:38:18,950\nI'm going to have to do a pseudo, right?\n\n714\n00:38:18,950 --> 00:38:22,530\nI've got to make sure that\nit runs as an administrator,\n\n715\n00:38:22,530 --> 00:38:27,340\nand then I'm going to do the plutil/p,\nwhich means I want to print a file.\n\n716\n00:38:27,340 --> 00:38:31,500\nShow me the file, all right?\n\n717\n00:38:31,500 --> 00:38:37,518\nNow I'm going to tell it the file\nthat I want to view, which is\n\n718\n00:38:37,518 --> 00:38:44,491\n/var/db/dslocal/nodes/Default/users/janed-\noe.plist.\n\n719\n00:38:44,491 --> 00:38:48,840\nNice long command line right there.\n\n720\n00:38:48,840 --> 00:38:51,530\nBut I'm saying show me\nJane's password file.\n\n721\n00:38:52,740 --> 00:38:55,340\nAnd it's not really just a password\nfile it's her actual user\n\n722\n00:38:55,340 --> 00:38:57,560\naccount that is her user account.\n\n723\n00:38:57,560 --> 00:39:00,720\nIf I were to kill that plist file it\nwould be like deleting her user account\n\n724\n00:39:00,720 --> 00:39:04,550\nwhich would not be the best thing I do\nin a given day but that's what it is.\n\n725\n00:39:04,550 --> 00:39:08,720\nAnd so now it's going to break it open and\nI can see her user ID is 503, right?\n\n726\n00:39:09,900 --> 00:39:13,200\nHer user name is Jane Doe, right?\n\n727\n00:39:13,200 --> 00:39:17,680\nIf it was stored in the passwd file,\nher Unix name would be Jane Doe.\n\n728\n00:39:17,680 --> 00:39:20,540\nHer user ID is this long string.\n\n729\n00:39:20,540 --> 00:39:22,390\nAnd then here's her password.\n\n730\n00:39:22,390 --> 00:39:25,890\nAnd notice how the password is just\nwritten as a bunch of asterisks, right?\n\n731\n00:39:25,890 --> 00:39:28,020\nIt is actually stored in that file.\n\n732\n00:39:28,020 --> 00:39:31,170\nIt's stored.\nThe password is there, but\n\n733\n00:39:31,170 --> 00:39:35,500\nit's stored as a nonreversible hash,\nand it won't display it.\n\n734\n00:39:35,500 --> 00:39:36,060\nThe system,\n\n735\n00:39:36,060 --> 00:39:39,310\nthe kernel underneath, actually\nwill not allow it to be displayed.\n\n736\n00:39:39,310 --> 00:39:41,620\nI can not retrieve the password this way.\n\n737\n00:39:41,620 --> 00:39:45,443\nSo, it's actually injecting those\nasterisks in there to protect it,\n\n738\n00:39:45,443 --> 00:39:48,373\nright, but\nthis is what defines her user account, and\n\n739\n00:39:48,373 --> 00:39:52,639\nthis is all data that used to be in the\npast WD file, in the old days, right, what\n\n740\n00:39:52,639 --> 00:39:56,875\nwe would have found under the old crypt or\nshadow systems in those other files.\n\n741\n00:39:56,875 --> 00:39:59,958\nSo, that's what it's doing when\nit creates local accounts.\n\n742\n00:39:59,958 --> 00:40:03,710\nLocal accounts are being tucked away here,\nall right?\n\n743\n00:40:03,710 --> 00:40:06,042\nBut what about Open Directory accounts?\n\n744\n00:40:06,042 --> 00:40:09,220\nIf I have that Password server,\nif I had a Centralized directory,\n\n745\n00:40:09,220 --> 00:40:11,130\nthey're not gonna be here.\n\n746\n00:40:11,130 --> 00:40:14,360\nNotice, if I pull up that\ndirectory list again.\n\n747\n00:40:16,595 --> 00:40:22,440\nAnd I'm Gonna change this to like a ls -l.\n\n748\n00:40:22,440 --> 00:40:26,060\nAll right, if I look in this directory,\n\n749\n00:40:26,060 --> 00:40:28,930\nI know I created the User account for\nme, Don Pazert.\n\n750\n00:40:28,930 --> 00:40:31,990\nAnd I know I created a user for\nRonnie Wong.\n\n751\n00:40:31,990 --> 00:40:33,360\nBut I don't see him in this list.\n\n752\n00:40:33,360 --> 00:40:36,550\nI just see Jane Doe,\nJohn Doe, and Helpdesk.\n\n753\n00:40:36,550 --> 00:40:38,600\nWell those were local accounts.\n\n754\n00:40:38,600 --> 00:40:40,990\nMy account and Ronnie's account,\nthose were network accounts.\n\n755\n00:40:40,990 --> 00:40:44,990\nThey were part of the Open Directory Open\nDirectory doesn't store accounts here.\n\n756\n00:40:44,990 --> 00:40:47,330\nIt has its own Database.\n\n757\n00:40:47,330 --> 00:40:50,890\nAnd if we wanna see that,\nwell, that's in the same area.\n\n758\n00:40:50,890 --> 00:40:59,390\nIf we go into /var/db/openldap/data.\n\n759\n00:40:59,390 --> 00:41:00,091\nAll right.\n\n760\n00:41:00,091 --> 00:41:01,795\nWhoops, did I type something wrong?\n\n761\n00:41:01,795 --> 00:41:03,197\nLet's double check that.\n\n762\n00:41:04,343 --> 00:41:06,456\nI'm looking for OpenLDAP.\n\n763\n00:41:10,080 --> 00:41:15,990\nAnd then, whoops.\n\n764\n00:41:15,990 --> 00:41:19,110\nThere we go.\nAll right, so OpenLDAP, and then in here,\n\n765\n00:41:19,110 --> 00:41:23,150\nI'll see a couple of the different\nfolders, like authdata and openldap-data.\n\n766\n00:41:23,150 --> 00:41:23,990\nThat's the one I wanted.\n\n767\n00:41:26,620 --> 00:41:27,780\nPermission denied, perfect.\n\n768\n00:41:27,780 --> 00:41:31,770\nSo [LAUGH] let me just up my\npermissions a little bit.\n\n769\n00:41:31,770 --> 00:41:32,830\nThere we go.\n\n770\n00:41:32,830 --> 00:41:34,780\nLooking inside of that folder,\n\n771\n00:41:34,780 --> 00:41:38,620\nI can see the actual database\nthat OpenLDAP stores things.\n\n772\n00:41:38,620 --> 00:41:40,400\nNow, I don't see individual\nuser accounts here.\n\n773\n00:41:40,400 --> 00:41:44,310\nI don't see Don Pezet and\nRonnie Wong, because it's a database.\n\n774\n00:41:44,310 --> 00:41:46,290\nThese are the actual database files and\n\n775\n00:41:46,290 --> 00:41:48,830\nwhen you look in here you'll see\nthings that it's keeping track of.\n\n776\n00:41:48,830 --> 00:41:55,240\nThings like these user IDs, right here and\norganizational units and so on.\n\n777\n00:41:55,240 --> 00:41:58,990\nEach of these are the entries that\nopenLDAP is keeping track of and\n\n778\n00:41:58,990 --> 00:42:01,270\nit's all stored right\nhere in this database.\n\n779\n00:42:01,270 --> 00:42:05,580\nNow they don't give you a way to look\nat the data inside of these files.\n\n780\n00:42:05,580 --> 00:42:07,320\nThe only way to look inside of them,\n\n781\n00:42:07,320 --> 00:42:10,810\nis to do an LDAP query\nagainst the running service.\n\n782\n00:42:10,810 --> 00:42:14,620\nAnd when you run the Server app,\nand you go to users, and\n\n783\n00:42:14,620 --> 00:42:17,260\nyou tell it you're looking at network\nusers, that's exactly what it's doing.\n\n784\n00:42:17,260 --> 00:42:19,280\nIt's doing an LDAP query to the Database,\nand\n\n785\n00:42:19,280 --> 00:42:20,860\nsaying give me a list of all the users.\n\n786\n00:42:20,860 --> 00:42:22,300\nAnd we see them right here.\n\n787\n00:42:22,300 --> 00:42:25,800\nNice, easy to use GUI, instead of trying\nto do it in from the command line.\n\n788\n00:42:25,800 --> 00:42:30,170\nAll right, so those user Accounts and\ntheir associated Passwords,\n\n789\n00:42:30,170 --> 00:42:31,650\nthey're right there on the drive.\n\n790\n00:42:31,650 --> 00:42:35,280\nThey're just stored in that Database.\n\n791\n00:42:35,280 --> 00:42:42,330\nAll right, so what I just showed you,\nthese /etc/passwd folder, right.\n\n792\n00:42:42,330 --> 00:42:45,466\nThat was where we had our\nold style Unix passwords.\n\n793\n00:42:45,466 --> 00:42:49,990\nAll right, and then the newer accounts,\nthe ones that are created that are local\n\n794\n00:42:49,990 --> 00:42:53,770\naccounts, those are stored inside\nof the user's VAR directory.\n\n795\n00:42:53,770 --> 00:42:55,180\nLet's lay all this out real quick.\n\n796\n00:42:56,370 --> 00:42:59,320\nI wanna make sure everybody\nis clear on all this.\n\n797\n00:42:59,320 --> 00:43:06,150\nSo, the old style Unix accounts Right?\n\n798\n00:43:06,150 --> 00:43:10,500\nThose restored in /etc/passwd, right?\n\n799\n00:43:10,500 --> 00:43:15,090\nAnd that file's still there, you can\nstill go and see it, it's still present.\n\n800\n00:43:15,090 --> 00:43:15,590\nAll right?\n\n801\n00:43:16,750 --> 00:43:22,555\nAnd then our Mac OS local users,\nthey were stored\n\n802\n00:43:22,555 --> 00:43:29,212\nin /var /db/dslocal/nodes/Default/users/,\n\n803\n00:43:29,212 --> 00:43:34,592\nand then whatever the user name was,\nright,\n\n804\n00:43:34,592 --> 00:43:39,700\nit depends on the user, .plist, right.\n\n805\n00:43:41,030 --> 00:43:44,652\nEach user had their own plist\nfile stored right in there.\n\n806\n00:43:47,049 --> 00:43:52,800\nThen we have our Open Directory accounts.\n\n807\n00:43:52,800 --> 00:43:54,470\nRemember to write that with a space,\nthere we go.\n\n808\n00:43:54,470 --> 00:43:56,100\nOpen Directory Users, right?\n\n809\n00:43:56,100 --> 00:44:02,562\nAnd those guys were stored\nin /var/db/openldap\n\n810\n00:44:02,562 --> 00:44:08,880\n/openldap-data, in that\nfolder right there.\n\n811\n00:44:08,880 --> 00:44:11,190\nAnd that's where the database\nfiles were for it.\n\n812\n00:44:11,190 --> 00:44:13,600\nSo when you create user\naccounts in Mac OS,\n\n813\n00:44:13,600 --> 00:44:15,920\nthey could actually be in one\nof three different places.\n\n814\n00:44:15,920 --> 00:44:18,070\nIt's very unlikely they would be up here.\n\n815\n00:44:18,070 --> 00:44:18,790\nRight?\nThat's where some of\n\n816\n00:44:18,790 --> 00:44:21,780\nthose service accounts are,\nand the hidden root account.\n\n817\n00:44:21,780 --> 00:44:23,450\nRight?\nThat's where they reside.\n\n818\n00:44:23,450 --> 00:44:26,560\nOur Local user accounts all reside here,\nand\n\n819\n00:44:26,560 --> 00:44:31,850\nour Open directory accounts, if we\nare an Open directory server, reside here.\n\n820\n00:44:31,850 --> 00:44:34,000\nIf you're just a client\nconnected to an Open directory,\n\n821\n00:44:34,000 --> 00:44:36,420\nyou don't have a copy\nof those user accounts.\n\n822\n00:44:36,420 --> 00:44:39,790\nYou have to talk to the server\nto find out if the user exists.\n\n823\n00:44:39,790 --> 00:44:40,930\nYou don't store it locally.\n\n824\n00:44:40,930 --> 00:44:42,500\nThere's a little difference\nin functionality there.\n\n825\n00:44:43,930 --> 00:44:47,120\nAll right, but those are the three places\nand I need to amend my show notes,\n\n826\n00:44:47,120 --> 00:44:50,070\nI know I put it in there without\nthat little open all.dash.\n\n827\n00:44:50,070 --> 00:44:54,040\nBut these are all in the show notes\nthat we'll post in this episode so\n\n828\n00:44:54,040 --> 00:44:55,030\nyou guys can have them.\n\n829\n00:44:55,030 --> 00:44:58,182\nBut it is a good idea to be aware\nwhere those are stored, and\n\n830\n00:44:58,182 --> 00:45:00,310\nwhat kinda data is stored inside of it.\n\n831\n00:45:01,830 --> 00:45:06,510\nAlright, so I think that's about it for\nour basic user authentication information,\n\n832\n00:45:06,510 --> 00:45:09,310\nso we've kind of covered all that in\ndepth, we talked a little bit about\n\n833\n00:45:09,310 --> 00:45:12,630\nthe different types of\nauthentication that Mac OS can do.\n\n834\n00:45:12,630 --> 00:45:16,250\nWe talked about what authentication and\nauthorization were and\n\n835\n00:45:16,250 --> 00:45:19,480\nwe got a chance to take a look at\nwhere our user accounts are stored and\n\n836\n00:45:19,480 --> 00:45:23,130\nhow some of the basic things,\nlike basic opened directory work.\n\n837\n00:45:23,130 --> 00:45:27,800\nBut we've got a lot more to go In our next\nepisode we're gonna be taking a look at\n\n838\n00:45:27,800 --> 00:45:30,090\nhow to set up an Open Directory Server.\n\n839\n00:45:30,090 --> 00:45:32,680\nHow do you build up that\nCentralized Password Database?\n\n840\n00:45:32,680 --> 00:45:35,220\nAnd how do you get your clients to\nuse it and all that good stuff?\n\n841\n00:45:35,220 --> 00:45:36,830\nWe're gonna get a chance to see that.\n\n842\n00:45:36,830 --> 00:45:37,720\nIt's pretty neat stuff.\n\n843\n00:45:37,720 --> 00:45:40,060\nIt's definitely something that\nyou wanna learn all right.\n\n844\n00:45:40,060 --> 00:45:43,950\nBut for this episode this is a pretty\ngood spot to wrap things up.\n\n845\n00:45:43,950 --> 00:45:47,370\nSo let's take a break here and\nkinda wind things down.\n\n846\n00:45:47,370 --> 00:45:51,020\nI do wanna remind you guys if you\nhave questions on any of this\n\n847\n00:45:51,020 --> 00:45:54,000\nlive during the show you\ncan go to itpro.tv/live and\n\n848\n00:45:54,000 --> 00:45:56,840\nyou'll see the chat box\nright beneath our video.\n\n849\n00:45:56,840 --> 00:46:00,280\nPost the questions there we monitor and\nanswer during the show.\n\n850\n00:46:00,280 --> 00:46:04,341\nIf you have questions after the show,if\nyou're watching this recorded use our\n\n851\n00:46:04,341 --> 00:46:05,080\nQ&A forums.\n\n852\n00:46:05,080 --> 00:46:09,220\nAt the top of every page on ITPro.tv\nyou'll see a link that says Q&A.\n\n853\n00:46:09,220 --> 00:46:11,790\nIt'll take you to the forums,\nyou can post there.\n\n854\n00:46:11,790 --> 00:46:14,270\nWe monitor and\nanswer those questions after the show.\n\n855\n00:46:14,270 --> 00:46:18,280\nSo there's always some way that you\ncan go to get your questions answered.\n\n856\n00:46:18,280 --> 00:46:19,510\nTake advantage of that resource.\n\n857\n00:46:19,510 --> 00:46:21,516\nIt is there for you.\n\n858\n00:46:21,516 --> 00:46:22,841\nAll right.\nWell, I hope you guys enjoyed\n\n859\n00:46:22,841 --> 00:46:23,712\ntoday's episode.\n\n860\n00:46:23,712 --> 00:46:27,649\nSigning off for IT ProTV, I'm Don Pezet,\nand I'll see you next time.\n\n861\n00:46:27,649 --> 00:46:37,649\n[MUSIC]\n\n",
          "vimeoId": "122114783"
        },
        {
          "description": null,
          "length": "3373",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-2-2-open_directory-031215-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-2-2-open_directory-031215-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-2-2-open_directory-031215-1-sm.jpg",
          "title": "Open Directory",
          "transcript": "1\n00:00:00,000 --> 00:00:10,000\n[MUSIC]\n\n2\n00:00:32,969 --> 00:00:36,204\nAll right, good morning,\ngood afternoon, and good evening.\n\n3\n00:00:36,204 --> 00:00:39,180\nAnd welcome back to another\nepisode of ITProTV.\n\n4\n00:00:39,180 --> 00:00:40,530\nI'm your host Don Pezet,\n\n5\n00:00:40,530 --> 00:00:45,090\nback again with another episode of\nApple Certified Technical Coordinator.\n\n6\n00:00:45,090 --> 00:00:47,300\nToday we're gonna be diving\ninto open directory.\n\n7\n00:00:47,300 --> 00:00:49,410\nI know a lot of you guys\nhave been waiting for this.\n\n8\n00:00:49,410 --> 00:00:53,350\nWe've done some episodes on authentication\nand a few other security topics.\n\n9\n00:00:53,350 --> 00:00:56,190\nNow it's time to see the big one for\nApple.\n\n10\n00:00:56,190 --> 00:01:00,240\nNow up until this point the majority\nof what we've done has worked for\n\n11\n00:01:00,240 --> 00:01:03,920\nenterprises as well as home users,\nyou know backups, things like that.\n\n12\n00:01:03,920 --> 00:01:07,260\nBut this is the first time we're gonna\ntackle a technology that really is just\n\n13\n00:01:07,260 --> 00:01:09,020\nfor enterprises.\n\n14\n00:01:09,020 --> 00:01:10,990\nIf you have two Macs, or\n\n15\n00:01:10,990 --> 00:01:16,140\nfive Macs, it's not really enough\nto worry about user accounts.\n\n16\n00:01:16,140 --> 00:01:18,790\nEach user has their own computer they\nhave an account on the computer and\n\n17\n00:01:18,790 --> 00:01:19,520\nthat's basically that.\n\n18\n00:01:19,520 --> 00:01:22,000\nAnd if you wanna share\nsome resources you just\n\n19\n00:01:22,000 --> 00:01:23,547\ncreate some more local accounts\nyou'll be fine, right.\n\n20\n00:01:25,080 --> 00:01:30,680\nBut if you have a 10 computers or\n100 or 1,000 computers,\n\n21\n00:01:30,680 --> 00:01:34,520\nmanaging user accounts on a individual\ncomputer basis is a nightmare.\n\n22\n00:01:34,520 --> 00:01:38,290\nIt's really not practical, and\nI know there's several schools and\n\n23\n00:01:38,290 --> 00:01:41,150\nother organizations that do that,\nand it's terrible.\n\n24\n00:01:41,150 --> 00:01:44,760\nWell fortunately, for\nthe low, low price of $20,\n\n25\n00:01:44,760 --> 00:01:48,970\nyou can buy this server app for\nMac OS, you can throw it on there, and\n\n26\n00:01:48,970 --> 00:01:52,910\nyou can bring up a fully functional\nopen directory environment, and\n\n27\n00:01:52,910 --> 00:01:57,940\nhave a centralized user database that\nshared across all of your computers.\n\n28\n00:01:57,940 --> 00:02:03,200\nAnd now when I hire a new employee,\nI just create their user account once.\n\n29\n00:02:03,200 --> 00:02:05,720\nI create it on the open directory server.\n\n30\n00:02:05,720 --> 00:02:08,350\nAnd once that's done that\none employee can go to any\n\n31\n00:02:08,350 --> 00:02:10,650\nof the computers around my network and\nsit down and log in.\n\n32\n00:02:11,660 --> 00:02:15,650\nAnd if they need to change their password,\nthey change their password once.\n\n33\n00:02:15,650 --> 00:02:17,290\nIt changes in the central database and\n\n34\n00:02:17,290 --> 00:02:21,010\nthen all throughout the network everybody\nknows they've got this new password.\n\n35\n00:02:21,010 --> 00:02:25,190\nIt really makes life so\nmuch easier to manage, right.\n\n36\n00:02:25,190 --> 00:02:27,860\nImagine if you were managing\nthese individually.\n\n37\n00:02:27,860 --> 00:02:31,760\nSo I have 100 computers, and\nI hire a help desk technician.\n\n38\n00:02:31,760 --> 00:02:34,480\nAnd that help desk tech needs to be\nable to log in on all 100 computers.\n\n39\n00:02:34,480 --> 00:02:38,790\nSo I help create 100 user accounts,\none on each computer, right.\n\n40\n00:02:38,790 --> 00:02:42,060\nAnd then one day,\nthat help desk tech goes nuts, right,\n\n41\n00:02:42,060 --> 00:02:44,132\njust turns out to be psycho crazy,\nand I have to fire him.\n\n42\n00:02:44,132 --> 00:02:47,636\nWell, these are, you know,\nvery realistic situations.\n\n43\n00:02:47,636 --> 00:02:50,670\n[LAUGH] So\nI decide they have to can the employee.\n\n44\n00:02:50,670 --> 00:02:54,840\nWell, I need to go disable that user\naccount, it's not one account, it's 100!\n\n45\n00:02:54,840 --> 00:02:58,300\nI've gotta scramble to cancel\nthat account on all 100 computers\n\n46\n00:02:58,300 --> 00:03:01,650\nbefore that crazy employee gets to one of\nthe computers I haven't gotten to yet.\n\n47\n00:03:01,650 --> 00:03:02,970\nIt's very challenging.\n\n48\n00:03:02,970 --> 00:03:06,040\nBut if I have a centralized user database,\nI just to to that database.\n\n49\n00:03:06,040 --> 00:03:07,740\nDisable the account in one place, done,\n\n50\n00:03:07,740 --> 00:03:11,520\nnow that user is out of the whole network,\nand that's the end of it.\n\n51\n00:03:11,520 --> 00:03:16,240\nA centralized user database\nis a requirement, really, for\n\n52\n00:03:16,240 --> 00:03:21,010\nany medium, large, enterprise\norganization, you've got to have it.\n\n53\n00:03:21,010 --> 00:03:24,530\nApple recognizes that, and that's why\nthey give us open directory, all right.\n\n54\n00:03:24,530 --> 00:03:27,220\nNow, open directory is\nnot original to Apple,\n\n55\n00:03:27,220 --> 00:03:29,100\nthey didn't invent it from the ground up.\n\n56\n00:03:29,100 --> 00:03:32,411\nIt's actually built on another\ntechnology called OpenLDAP, and\n\n57\n00:03:32,411 --> 00:03:37,150\nOpenLDAP was developed in the Linux and\nUnix, world for doing that same thing, but\n\n58\n00:03:37,150 --> 00:03:38,330\nfor them, right.\n\n59\n00:03:38,330 --> 00:03:41,560\nSo what Apple did is they said instead of\nstarting from scratch, let's just take\n\n60\n00:03:41,560 --> 00:03:44,680\na service that's already written and\nlet's just improve upon it a bit.\n\n61\n00:03:44,680 --> 00:03:47,240\nAnd that's exactly what they did,\nthey made it a lot of easier to use.\n\n62\n00:03:47,240 --> 00:03:52,270\nThey made a GUI for it and now it's\nreally pretty simple to implement, and\n\n63\n00:03:52,270 --> 00:03:53,670\nwe can have that centralized database.\n\n64\n00:03:54,770 --> 00:03:57,420\nNow, when we install open\ndirectory on our server,\n\n65\n00:03:58,480 --> 00:04:02,760\nwhat you're really doing is installing\nthree different things, all right.\n\n66\n00:04:02,760 --> 00:04:05,240\nYou're installing an OpenLDAP server,\n\n67\n00:04:05,240 --> 00:04:09,400\nright, LDAP is the lightweight\ndirectory access protocol.\n\n68\n00:04:09,400 --> 00:04:12,990\nAnd basically what OpenLDAP\ndoes is it creates a database,\n\n69\n00:04:12,990 --> 00:04:15,280\na database where we can\nstore these user accounts.\n\n70\n00:04:15,280 --> 00:04:18,370\nAnd you can store other things\nin there too like groups, and\n\n71\n00:04:18,370 --> 00:04:22,125\ncertificates all sorts of crazy stuff but\nthe user accounts are the key piece,\n\n72\n00:04:22,125 --> 00:04:23,930\nright, that's what's\nbeing stored in there.\n\n73\n00:04:23,930 --> 00:04:28,100\nAnd then LDAP, the Lightweight Directory\nAccess Protocol, gives us a language to\n\n74\n00:04:28,100 --> 00:04:31,960\nquery that data, we can reach into\nthe database and say, is this user valid?\n\n75\n00:04:31,960 --> 00:04:33,460\nDoes this user account exist?\n\n76\n00:04:33,460 --> 00:04:34,490\nIs this password correct?\n\n77\n00:04:34,490 --> 00:04:36,492\nWe can ask it questions, right.\n\n78\n00:04:36,492 --> 00:04:40,600\nSo OpenLDAP, that's one piece,\nwe're also installing\n\n79\n00:04:40,600 --> 00:04:46,100\na Kerberos Key Distribution Center, a KDC,\nso that we can do Kerberos authentication.\n\n80\n00:04:46,100 --> 00:04:48,670\nWe can handle the certificate\nexchanges and\n\n81\n00:04:48,670 --> 00:04:51,520\nall the other things that go on\nwhen we authenticate a user.\n\n82\n00:04:51,520 --> 00:04:56,230\nAnd then thirdly, we're installing a\npassword service, a password database, so\n\n83\n00:04:56,230 --> 00:05:00,750\nthat this server will be able to store the\npasswords inside the OpenLDAP database,\n\n84\n00:05:00,750 --> 00:05:03,610\nand it'll be able to query against them\nand return whether they're accurate,\n\n85\n00:05:03,610 --> 00:05:04,920\nvalid, and not.\n\n86\n00:05:04,920 --> 00:05:10,100\nSo those three pieces are all gonna be\ninstalled when we install Open Directory.\n\n87\n00:05:10,100 --> 00:05:11,410\nBut to us,\n\n88\n00:05:11,410 --> 00:05:15,530\nwhen we install it, we're flipping\na switch from off to on, and that's it.\n\n89\n00:05:15,530 --> 00:05:16,910\nThat's the real beauty of all this,\n\n90\n00:05:16,910 --> 00:05:21,250\nis that it's happening behind the scenes\nand we don't have to sweat it, right.\n\n91\n00:05:21,250 --> 00:05:25,770\nSo, let's say that I want to\nbe an Open Directory server.\n\n92\n00:05:25,770 --> 00:05:28,100\nWell, what do I need to get\nthings set up and going?\n\n93\n00:05:28,100 --> 00:05:32,010\nWell first off, I need to make sure\nthe that the server app is installed.\n\n94\n00:05:32,010 --> 00:05:35,320\nThe server app manages all of this,\nlet me show you what I mean.\n\n95\n00:05:35,320 --> 00:05:37,010\nSo I've got this server fired up here, and\n\n96\n00:05:37,010 --> 00:05:43,430\nthis is just a basic install of Yosemite\nMac OS 10.10.2, I believe on this one.\n\n97\n00:05:43,430 --> 00:05:46,980\nLet's just verify that real quick,\nyeah 10.10.2 on this one,\n\n98\n00:05:46,980 --> 00:05:50,660\nand I need to make sure that I've\nalready installed the server app.\n\n99\n00:05:50,660 --> 00:05:54,800\nSo if I haven't already, I need to go to\nthe app store and download the server app.\n\n100\n00:05:54,800 --> 00:05:59,110\nI've already got it on here, I can't\nspell it, but I do have it installed.\n\n101\n00:06:00,310 --> 00:06:01,390\nThere we go.\n\n102\n00:06:01,390 --> 00:06:03,090\nAnd so I'll just fire that up.\n\n103\n00:06:03,090 --> 00:06:07,150\nNow, the server app actually has\nseveral utilities in it that are all\n\n104\n00:06:07,150 --> 00:06:09,190\nbuilt around working with open directory.\n\n105\n00:06:10,270 --> 00:06:13,290\nThe main one that I'm concerned\nabout is under the advanced section,\n\n106\n00:06:13,290 --> 00:06:14,750\nwe'll see where it says Open Directory.\n\n107\n00:06:14,750 --> 00:06:17,070\nThat's where we configure\nmost of this stuff.\n\n108\n00:06:17,070 --> 00:06:21,580\nBut there's also a users and\ngroup area inside of the server manager.\n\n109\n00:06:21,580 --> 00:06:26,316\nSo when I'm here inside of a server\napp under accounts, you've got Users,\n\n110\n00:06:26,316 --> 00:06:28,930\nand Groups, all right.\n\n111\n00:06:28,930 --> 00:06:33,870\nWhen I look at these, by default, it's\nshowing my local users, all right, and\n\n112\n00:06:33,870 --> 00:06:35,460\nmy local groups.\n\n113\n00:06:35,460 --> 00:06:38,360\nI don't have any, right, but\nthat's what that's made to do.\n\n114\n00:06:38,360 --> 00:06:40,260\nWhen I install Open Directory,\n\n115\n00:06:40,260 --> 00:06:44,580\nthese will be modified to show my\nOpen Directory users and groups also.\n\n116\n00:06:44,580 --> 00:06:46,930\nI can see the local ones if I want, but\n\n117\n00:06:46,930 --> 00:06:49,280\nI'll be able to see the Open Directory\nones too, all right.\n\n118\n00:06:51,110 --> 00:06:55,500\nSo these are part of that open directory\ninstall as well as down here under\n\n119\n00:06:55,500 --> 00:07:02,130\nAdvanced, we can go down and\nfind Open Directory right there too.\n\n120\n00:07:02,130 --> 00:07:05,760\nNow before we even think about\ndoing the Open Directory install,\n\n121\n00:07:05,760 --> 00:07:08,210\none really important thing we need to do,\n\n122\n00:07:08,210 --> 00:07:13,350\nis we need to make sure that we've\ngot our DNS situation covered, right.\n\n123\n00:07:13,350 --> 00:07:17,720\nWhen our clients bind themselves to an\nopen directory server, whenever they go to\n\n124\n00:07:17,720 --> 00:07:22,540\nlog in, they've gotta reach out to us, and\nwe've gotta make that as easy as possible.\n\n125\n00:07:22,540 --> 00:07:25,460\nIf they're on the same network as us,\nthey'll use Bonjour.\n\n126\n00:07:25,460 --> 00:07:28,490\nThe Bonjour protocol will help them\ndiscover the open directory server,\n\n127\n00:07:28,490 --> 00:07:29,920\nyou'll be in business.\n\n128\n00:07:29,920 --> 00:07:31,950\nBut if you're supporting\nmore than one network,\n\n129\n00:07:31,950 --> 00:07:35,500\nif you have several subnets,\nthat creates a bit of a problem.\n\n130\n00:07:35,500 --> 00:07:38,950\nSo they're gonna need to be able to look\nup your server based on it's name, and\n\n131\n00:07:38,950 --> 00:07:41,250\nDNS is gonna be a big part of that,\nall right.\n\n132\n00:07:41,250 --> 00:07:43,740\nSo I'm gonna start out right there,\nI'm just gonna square away some of my\n\n133\n00:07:43,740 --> 00:07:47,330\nprerequisites to get this all really\ngood to go, and work from there.\n\n134\n00:07:47,330 --> 00:07:51,183\nSo, let's start with that, I'm gonna\ngo up here to my server settings.\n\n135\n00:07:51,183 --> 00:07:55,177\nAnd I can see I've got\na name of osx-server3.local.\n\n136\n00:07:55,177 --> 00:07:58,172\nWell it ends in .local,\nthat's a fake domain.\n\n137\n00:07:58,172 --> 00:07:59,797\nThat'll work on a local network.\n\n138\n00:07:59,797 --> 00:08:01,120\nIt won't work on the Internet.\n\n139\n00:08:01,120 --> 00:08:04,835\nSo if I'm trying to provide services out\nto the Internet that's not gonna fly, but\n\n140\n00:08:04,835 --> 00:08:07,755\nyou typically don't want your\nopen directory service exposed to\n\n141\n00:08:07,755 --> 00:08:08,777\nthe Internet anyway.\n\n142\n00:08:08,777 --> 00:08:11,807\nSo I'm actually kind of okay\nwith that whole .local thing.\n\n143\n00:08:11,807 --> 00:08:16,682\nBut, if I wanna use an actual name I can,\nand I'll go ahead and change mine out for\n\n144\n00:08:16,682 --> 00:08:18,880\nan actual name, all right?\n\n145\n00:08:18,880 --> 00:08:20,380\nI'll go ahead and edit that.\n\n146\n00:08:20,380 --> 00:08:22,700\nAnd it's gonna ask me what\nI want my name to be and\n\n147\n00:08:22,700 --> 00:08:26,500\nI'll just change it to something that\nhas a real fully qualified domain name.\n\n148\n00:08:26,500 --> 00:08:29,340\nNow if I want my other clients on\nthe network to be able to use that\n\n149\n00:08:29,340 --> 00:08:31,620\nI'm gonna need DNS also.\n\n150\n00:08:31,620 --> 00:08:34,450\nSo I'll need to be sure that I setup DNS\non this server so that it's available and\n\n151\n00:08:34,450 --> 00:08:36,491\npeople will be able to do name lookups,\nall right?\n\n152\n00:08:37,610 --> 00:08:39,630\nSo I'm just gonna move\nforward to my wizard here.\n\n153\n00:08:39,630 --> 00:08:43,480\nAnd instead of choosing local only I'm\ngonna go in and stay Internet on this one.\n\n154\n00:08:43,480 --> 00:08:46,520\nI'm not actually gonna provide Internet\naccess, but I'll choose that so\n\n155\n00:08:46,520 --> 00:08:48,520\nthat it makes sure that I use\na registered domain name.\n\n156\n00:08:50,180 --> 00:08:54,160\nAll right, I'll leave my computer name,\nOSX-SERVER3, I'm okay with that.\n\n157\n00:08:54,160 --> 00:08:56,260\nBut what I'm gonna change is my domain.\n\n158\n00:08:56,260 --> 00:08:59,990\nI'm just gonna change it to lab.itpro.tv,\nall right?\n\n159\n00:08:59,990 --> 00:09:01,780\nThat's my new fully qualified domain.\n\n160\n00:09:02,910 --> 00:09:06,890\nAnother thing I'm gonna change is\nthat I'm pretty sure I'm using a DHCP\n\n161\n00:09:06,890 --> 00:09:08,172\naddress right now.\n\n162\n00:09:08,172 --> 00:09:09,740\nI wanna change that to a static address so\n\n163\n00:09:09,740 --> 00:09:12,540\nI always know what my IP\naddress is going to be.\n\n164\n00:09:12,540 --> 00:09:15,088\nSo I'm just gonna edit this.\n\n165\n00:09:15,088 --> 00:09:19,390\nAnd I'm gonna switch from DHCP to manual.\n\n166\n00:09:19,390 --> 00:09:21,700\nAnd this way I'll always know my address.\n\n167\n00:09:21,700 --> 00:09:25,285\nI'll go ahead and use 10.1.230.249.\n\n168\n00:09:25,285 --> 00:09:28,790\nI'll always remember what that address is,\nall right?\n\n169\n00:09:28,790 --> 00:09:32,780\nNow, I'm gonna configure myself for\nDNS here in a few moments.\n\n170\n00:09:32,780 --> 00:09:35,510\nAnd so, on DNS server,\nI'm gonna change this.\n\n171\n00:09:35,510 --> 00:09:37,609\nRight now it's set to use another\nDNS server on our network.\n\n172\n00:09:37,609 --> 00:09:42,356\nI'm gonna change it to point to myself,\nall right, 127.0.0.1.\n\n173\n00:09:42,356 --> 00:09:43,158\nThat's the loop back.\n\n174\n00:09:43,158 --> 00:09:46,028\nI'm gonna look right back at myself, and\n\n175\n00:09:46,028 --> 00:09:49,555\nI'll change my search\ndomain to lab.itpro.tv.\n\n176\n00:09:49,555 --> 00:09:52,120\nSo just kinda getting that squared away.\n\n177\n00:09:52,120 --> 00:09:53,990\nI could have typed my own\nIP address there, too, but\n\n178\n00:09:53,990 --> 00:09:57,230\nthe loop back's a little better,\nbecause I change the address later on.\n\n179\n00:09:57,230 --> 00:10:00,970\nAll right, let me just apply that.\n\n180\n00:10:00,970 --> 00:10:02,105\nI'm gonna wait here patiently,\n\n181\n00:10:02,105 --> 00:10:05,540\ncuz it's always a good idea to verify\nthe settings truly take effect.\n\n182\n00:10:05,540 --> 00:10:07,870\nSo I'll give that just\na moment while it applies.\n\n183\n00:10:07,870 --> 00:10:11,380\nAnd then I'm gonna make sure\nthe DNS gets configured.\n\n184\n00:10:11,380 --> 00:10:15,050\nI need people to be able to look\nup my name, and get my IP address.\n\n185\n00:10:15,050 --> 00:10:16,120\nIf you haven't watched it already,\n\n186\n00:10:16,120 --> 00:10:18,370\nwe've did film an episode on\nDNS where we showed that.\n\n187\n00:10:18,370 --> 00:10:21,364\nBut we'll run through it here,\nas soon as this thing let's me.\n\n188\n00:10:21,364 --> 00:10:24,000\n[LAUGH] This is where I have to wait.\n\n189\n00:10:24,000 --> 00:10:27,780\nImpatiently for this to finish, which\nI imagine it will do sooner or later.\n\n190\n00:10:27,780 --> 00:10:30,510\nAll right, while I'm waiting on that,\nwhen I get into DNS,\n\n191\n00:10:30,510 --> 00:10:35,950\nI need to create a forward lookup zone for\nlab.itpro.tv, and a reverse lookup zone.\n\n192\n00:10:35,950 --> 00:10:38,140\nWell, the system will actually do that for\nme.\n\n193\n00:10:38,140 --> 00:10:40,340\nI just need to create the record for\nmy server.\n\n194\n00:10:40,340 --> 00:10:43,430\nAnd once that record is created,\nthe rest of it'll lay in all by itself, so\n\n195\n00:10:43,430 --> 00:10:44,890\nI don't have to fuss with that.\n\n196\n00:10:44,890 --> 00:10:48,190\nMakes it a lot more simple too, all right?\n\n197\n00:10:49,740 --> 00:10:53,020\nThe reason this is taking so long to\nevaluate is it's probably running against\n\n198\n00:10:53,020 --> 00:10:55,440\nmy selfish DNS and not getting a response.\n\n199\n00:10:55,440 --> 00:10:59,180\nThe thing about DNS lookups is if they\nfail, it'll actually try again and\n\n200\n00:10:59,180 --> 00:11:01,150\nit waits 30 seconds and it tries again.\n\n201\n00:11:01,150 --> 00:11:04,580\nAnd so you gotta sit here and wait for\neach of these failures to happen and\n\n202\n00:11:04,580 --> 00:11:05,580\nit can take it awhile.\n\n203\n00:11:05,580 --> 00:11:08,337\nSo I might not wait anymore on that,\nlet's see if it'll let me just.\n\n204\n00:11:08,337 --> 00:11:10,568\nOh, actually it's not gonna\nlet me bypass that, is it?\n\n205\n00:11:10,568 --> 00:11:13,510\nIt's just gonna sit there and\nchurn along, great.\n\n206\n00:11:13,510 --> 00:11:15,410\nSo now I've got to sit here and wait.\n\n207\n00:11:15,410 --> 00:11:18,571\nSuper impatient, which I'll get\nmore impatient as time goes on.\n\n208\n00:11:18,571 --> 00:11:22,160\n[LAUGH] Now, while it's running,\nlet's take a look at something else.\n\n209\n00:11:22,160 --> 00:11:25,670\nI mentioned how we have local users and\nlocal groups and those are showing up.\n\n210\n00:11:25,670 --> 00:11:28,560\nI don't actually have any local groups,\nso let me just create one real quick.\n\n211\n00:11:28,560 --> 00:11:33,900\nI'm gonna go into my System Preferences,\nhere, and I'll go into Users and Groups.\n\n212\n00:11:33,900 --> 00:11:37,350\nNow, I'm logged in with this user, Help\nDesk, and I still have the Help Desk user\n\n213\n00:11:37,350 --> 00:11:40,130\nin my server app because,\nwell, it was a local account.\n\n214\n00:11:40,130 --> 00:11:41,950\nThat's where it showed up.\n\n215\n00:11:41,950 --> 00:11:46,680\nI'm gonna create a group so\nthat it'll show up also, all right?\n\n216\n00:11:46,680 --> 00:11:50,120\nAnd for my local group, I'll just\nhit the little plus sign here and\n\n217\n00:11:50,120 --> 00:11:51,360\nI'll tell it that I'm creating a group.\n\n218\n00:11:52,660 --> 00:11:55,330\nAnd maybe I'll just call this\nmy help desk users, all right?\n\n219\n00:11:58,350 --> 00:12:02,160\nSo I'll have this group that's\navailable and I'll add help desk to it.\n\n220\n00:12:02,160 --> 00:12:05,160\nNow I like to create an account called\nhelp desk as a local account on my\n\n221\n00:12:05,160 --> 00:12:06,050\nsystems.\n\n222\n00:12:06,050 --> 00:12:09,920\nAnd that way if something goes wrong\nwith the directory connection,\n\n223\n00:12:09,920 --> 00:12:13,950\nif I can't connect to the open directory I\ndon't wanna be locked out of the computer.\n\n224\n00:12:13,950 --> 00:12:16,790\nAnd so I want whoever's working at\nthe help desk to be able to get into\n\n225\n00:12:16,790 --> 00:12:17,820\nthat system.\n\n226\n00:12:17,820 --> 00:12:20,950\nBut you have to be careful with\ngeneric accounts like these\n\n227\n00:12:20,950 --> 00:12:23,730\nbecause that implies that you\ngot some kinda shared password.\n\n228\n00:12:23,730 --> 00:12:25,830\nI've got a password set and\n\n229\n00:12:25,830 --> 00:12:28,410\nanybody who works the help desk\nis gonna get that password.\n\n230\n00:12:28,410 --> 00:12:31,590\nThat means anybody who works at the help\ndesk, we'll have access to these machines,\n\n231\n00:12:31,590 --> 00:12:33,870\neven if I disable their account.\n\n232\n00:12:33,870 --> 00:12:38,920\nSo we wanna use those with\na bit of reference, there.\n\n233\n00:12:38,920 --> 00:12:40,740\nMake sure we don't hand that out or\nwhatever.\n\n234\n00:12:40,740 --> 00:12:42,920\nWe gotta keep that protected\nwhenever possible.\n\n235\n00:12:42,920 --> 00:12:46,769\nI like to kinda isolate things a little\nbit more by using a different password on\n\n236\n00:12:46,769 --> 00:12:48,365\nevery single computer.\n\n237\n00:12:48,365 --> 00:12:50,335\nBut different people have\ndifferent preferences there.\n\n238\n00:12:51,615 --> 00:12:52,905\nAll right,\nlet's see how we're doing back here.\n\n239\n00:12:52,905 --> 00:12:54,925\nThis thing is still evaluating.\n\n240\n00:12:54,925 --> 00:12:56,913\nLet me just blank that out.\n\n241\n00:12:56,913 --> 00:12:57,463\n[SOUND] There we go.\n\n242\n00:12:57,463 --> 00:12:58,925\nAll right, so what it did,\n\n243\n00:12:58,925 --> 00:13:02,432\nis it just recognized that I put\nin some other kind of domain name.\n\n244\n00:13:02,432 --> 00:13:04,244\nAnd that I pointed to myself for DNS.\n\n245\n00:13:04,244 --> 00:13:08,730\nAnd I'm not a DNS server, so\nit's saying do you want to set up DNS, and\n\n246\n00:13:08,730 --> 00:13:11,100\nin this case I certainly do, right?\n\n247\n00:13:11,100 --> 00:13:12,920\nSo it'll actually set this up for me.\n\n248\n00:13:12,920 --> 00:13:15,360\nI'll go ahead and choose the setup DNS.\n\n249\n00:13:15,360 --> 00:13:17,380\nThat's gonna make me a DNS server.\n\n250\n00:13:17,380 --> 00:13:19,710\nIt's gonna add the forward and\nreverse lookup zones, and\n\n251\n00:13:19,710 --> 00:13:20,870\nit's gonna to add me to it.\n\n252\n00:13:20,870 --> 00:13:24,400\nNow technically, I could have set up\nopen directory without doing this.\n\n253\n00:13:24,400 --> 00:13:25,990\nI could have left that piece off.\n\n254\n00:13:25,990 --> 00:13:27,770\nBut I would've regretted it, right?\n\n255\n00:13:27,770 --> 00:13:30,580\nBecause it basically would\nlimit me to one subnet.\n\n256\n00:13:30,580 --> 00:13:33,460\nIf all of my machines were right\nhere in the same network with me,\n\n257\n00:13:33,460 --> 00:13:35,070\nit would work fine.\n\n258\n00:13:35,070 --> 00:13:39,210\nBut if I've got branch offices that\nare out there or multiple VLANs here in my\n\n259\n00:13:39,210 --> 00:13:43,600\nmain office, well they're not gonna be\nable to cross through a router to find me.\n\n260\n00:13:43,600 --> 00:13:45,840\nBonjour doesn't pass\nthrough routers by default.\n\n261\n00:13:45,840 --> 00:13:48,480\nThere's ways to proxy it and\nstuff but it's not made for that.\n\n262\n00:13:48,480 --> 00:13:52,560\nSo instead I'll need to rely on\nservices like DNS to handle that.\n\n263\n00:13:52,560 --> 00:13:55,110\nSo there we go,\nI can see that I got a nice real name and\n\n264\n00:13:55,110 --> 00:13:56,960\nI can verify my DNS configuration.\n\n265\n00:13:56,960 --> 00:14:00,140\nI'm just gonna go down\nhere to advanced and DNS.\n\n266\n00:14:00,140 --> 00:14:04,220\nI can see that it turned it on,\nand I've got entries here.\n\n267\n00:14:04,220 --> 00:14:06,600\nLet me make this screen\na little bit bigger here.\n\n268\n00:14:06,600 --> 00:14:09,280\nI can see that it's turned it on and\n\n269\n00:14:09,280 --> 00:14:14,880\nI've got this OSX-server3.lab.itpro.tv\nregistered with my IP address.\n\n270\n00:14:14,880 --> 00:14:19,780\nIf I tell it to show all records I can\nsee where it created the forward zone and\n\n271\n00:14:19,780 --> 00:14:22,300\nthe reverse zone and\nit made me a name server.\n\n272\n00:14:22,300 --> 00:14:25,180\nEverything is set up here and\nready to rock.\n\n273\n00:14:25,180 --> 00:14:30,100\nAnybody who uses me as their DNS server\nwill be able to locate me by name.\n\n274\n00:14:30,100 --> 00:14:33,520\nAnd they'll be able to join this open\ndirectory that I'm about to build, right?\n\n275\n00:14:33,520 --> 00:14:35,760\nSo, pretty cool right there, right?\n\n276\n00:14:35,760 --> 00:14:39,060\nNow we've got our basic infrastructure\nset up, and we're ready for\n\n277\n00:14:39,060 --> 00:14:41,398\nthe real open directory installation,\nokay?\n\n278\n00:14:42,470 --> 00:14:45,740\nThe real open directory\ninstallation goes pretty fast.\n\n279\n00:14:45,740 --> 00:14:49,090\nIt only asks a couple of\nvery simple questions.\n\n280\n00:14:49,090 --> 00:14:49,960\nLet's take a look at it,\n\n281\n00:14:49,960 --> 00:14:53,140\nthen we'll walk through some of\nthe more complex models after that.\n\n282\n00:14:53,140 --> 00:14:57,980\nSo if I scroll down here I can find open\ndirectory in my list, there it is, and\n\n283\n00:14:57,980 --> 00:15:00,140\nI'll go ahead and turn that on.\n\n284\n00:15:00,140 --> 00:15:03,320\nWhen you turn it on it's not like other\nservices, it just doesn't wake right up.\n\n285\n00:15:03,320 --> 00:15:04,810\nI have to walk through a little wizard,\n\n286\n00:15:04,810 --> 00:15:07,750\nand it's gonna ask me\nsome basic questions.\n\n287\n00:15:07,750 --> 00:15:11,440\nThis first one is saying am I\ncreating a new open directory, or\n\n288\n00:15:11,440 --> 00:15:13,720\nam I joining one that already exists?\n\n289\n00:15:13,720 --> 00:15:16,460\nIf one already exists I'll need\nto connect to another server, but\n\n290\n00:15:16,460 --> 00:15:18,980\nin this case I'm creating an all new one.\n\n291\n00:15:18,980 --> 00:15:21,040\nWe can also restore one from an archive.\n\n292\n00:15:21,040 --> 00:15:23,669\nWe'll talk about that later in\nthe episode when I talk about backups.\n\n293\n00:15:25,510 --> 00:15:27,790\nAll right,\nI'll tell that I'm creating a new one.\n\n294\n00:15:27,790 --> 00:15:32,640\nIt needs to create an administrator\naccount for this new open directory.\n\n295\n00:15:32,640 --> 00:15:36,950\nSo it's got a default name of\ndirectory administrator and diradmin.\n\n296\n00:15:36,950 --> 00:15:39,974\nYou can leave that if you want, but\nbest practice is stay to change that to\n\n297\n00:15:39,974 --> 00:15:42,320\nsomething that attackers\naren't going to guess.\n\n298\n00:15:42,320 --> 00:15:45,280\nAttackers will know that this is\na default account, and they'll look for\n\n299\n00:15:45,280 --> 00:15:46,400\nit specifically.\n\n300\n00:15:46,400 --> 00:15:48,640\nSo you can rename this to whatever.\n\n301\n00:15:48,640 --> 00:15:51,402\nI'll leave it at the default just so\nwe can recognize it throughout the show.\n\n302\n00:15:51,402 --> 00:15:55,802\nBut in real life you wanna change that\nto something unique for your network.\n\n303\n00:15:55,802 --> 00:15:58,902\nI'll give it a password.\n\n304\n00:15:58,902 --> 00:16:04,150\nSo I'll punch that in,\nit's going to create that account.\n\n305\n00:16:04,150 --> 00:16:06,720\nNow it's going to ask for\nthe organization name.\n\n306\n00:16:06,720 --> 00:16:08,360\nThe organization name is important.\n\n307\n00:16:08,360 --> 00:16:10,570\nBecause this is what\nyour end users will see.\n\n308\n00:16:10,570 --> 00:16:13,980\nSo we need to type in something in here\nthat your end users will recognize.\n\n309\n00:16:13,980 --> 00:16:18,160\nI'm going to call mine ITVProTV Lab.\n\n310\n00:16:18,160 --> 00:16:20,590\nSo when they look at that,\nthey'll know this is the lab directory.\n\n311\n00:16:21,930 --> 00:16:26,360\nI might have other Open Directories for\nproduction or Dev, Test, whatever, so\n\n312\n00:16:26,360 --> 00:16:29,830\nI might have several different ones,\nbut in this case I'm just doing lab.\n\n313\n00:16:29,830 --> 00:16:33,320\nAnd an admin email address so\nthat if a user is trying to join and\n\n314\n00:16:33,320 --> 00:16:35,190\nthey can't they can email and\ntalk with us so\n\n315\n00:16:35,190 --> 00:16:40,360\nI might have admin@lab.itpro.tv or\nwhatever address it happens to be.\n\n316\n00:16:41,630 --> 00:16:42,320\nAll right?\n\n317\n00:16:42,320 --> 00:16:44,040\nThat's about all it needs from me.\n\n318\n00:16:44,040 --> 00:16:49,610\nWhen I hit Set Up, its gonna build\nan empty, Open Directory Database.\n\n319\n00:16:49,610 --> 00:16:52,980\nIt's gonna create the Dir Admin account,\nand stick that in there.\n\n320\n00:16:52,980 --> 00:16:56,950\nAnd then it's gonna bring\nthe directory up and online.\n\n321\n00:16:56,950 --> 00:17:01,020\nAnd once it's online I've\nnow got a Password server,\n\n322\n00:17:01,020 --> 00:17:05,720\na Kerberos KDC, and\na OpenLDAP installation,\n\n323\n00:17:05,720 --> 00:17:09,100\nall running on this System,\nall ready to do authentication.\n\n324\n00:17:09,100 --> 00:17:12,110\nNow, only one person's authenticating\nagainst it right now, and\n\n325\n00:17:12,110 --> 00:17:17,010\nthat's this server, so my next step would\nbe to go to all my other machines, and\n\n326\n00:17:17,010 --> 00:17:18,600\ntell them about this new Open Directory.\n\n327\n00:17:18,600 --> 00:17:20,470\nI'm gonna save that for another episode.\n\n328\n00:17:20,470 --> 00:17:24,490\nBut as far as getting the directory\nitself up, this is about it.\n\n329\n00:17:24,490 --> 00:17:25,740\nThere we go, it's up.\n\n330\n00:17:25,740 --> 00:17:26,690\nI can see it's running.\n\n331\n00:17:26,690 --> 00:17:31,420\nThis is my server, I got a green light,\nand I'm the master server.\n\n332\n00:17:31,420 --> 00:17:35,350\nThe first server that you bring up\nwith opened directory is the Master.\n\n333\n00:17:35,350 --> 00:17:39,550\nThat's the one that controls\nthe Opened Directory Database.\n\n334\n00:17:39,550 --> 00:17:43,540\nAll of the other servers that you\ncreate are what are called Replicas.\n\n335\n00:17:43,540 --> 00:17:47,300\nThey contain a clone of the database that\nwas created here and they stay in sync.\n\n336\n00:17:47,300 --> 00:17:51,780\nThey stay synchronized and\nup and running but you will want\n\n337\n00:17:51,780 --> 00:17:57,000\nto make more open directory servers\nbecause what happens if this one fails?\n\n338\n00:17:57,000 --> 00:18:00,460\nIf this one fails and I lose my\nCentral Directory, no one can log in and\n\n339\n00:18:00,460 --> 00:18:02,280\nthat would be pretty bad, right?\n\n340\n00:18:02,280 --> 00:18:07,200\nSo we wanna make sure that we have a good\nstable open directory environment.\n\n341\n00:18:07,200 --> 00:18:10,216\nBut as far as getting it turned on,\nreally, straightforward.\n\n342\n00:18:11,330 --> 00:18:13,660\nAll right, well let's pause for\na break here.\n\n343\n00:18:13,660 --> 00:18:17,340\nWhen we get back, I want to talk about\nsome more advanced configurations inside\n\n344\n00:18:17,340 --> 00:18:20,980\nof Open Directory, some different roles\nand other things we need to know.\n\n345\n00:18:20,980 --> 00:18:23,360\nAnd then I want to take\na look at backing it up and\n\n346\n00:18:23,360 --> 00:18:26,830\nrestoring it in the event that we have\nfailures or other problems like that.\n\n347\n00:18:26,830 --> 00:18:30,715\nSo Let's pause here and\nwe'll pick right back up in just a moment.\n\n348\n00:18:30,715 --> 00:18:36,762\n[SOUND].\n\n349\n00:18:36,762 --> 00:18:38,880\nAll right welcome back everybody.\n\n350\n00:18:38,880 --> 00:18:42,480\nSo in the last segment we brought up\nour first Open Directory Server and\n\n351\n00:18:42,480 --> 00:18:45,510\nI mentioned how when it came online,\nit was the Master.\n\n352\n00:18:45,510 --> 00:18:48,800\nIt was the one in control of\nthe Openn Directory Database.\n\n353\n00:18:48,800 --> 00:18:53,530\nWell in the Open Directory World, we\nactually have four different statuses for\n\n354\n00:18:53,530 --> 00:18:56,400\na server, and master is just one of them.\n\n355\n00:18:56,400 --> 00:19:00,150\nProbably the most important,\nbut it is just one out of four.\n\n356\n00:19:00,150 --> 00:19:01,540\nSo what are all four of them?\n\n357\n00:19:01,540 --> 00:19:03,160\nWell, the first role for\n\n358\n00:19:03,160 --> 00:19:06,200\na server under Open Directory\nis what's called a Standalone.\n\n359\n00:19:06,200 --> 00:19:07,740\nAnd it's kind of funny because,\n\n360\n00:19:07,740 --> 00:19:11,530\na Standalone server is not actually\npart of your Open Directory.\n\n361\n00:19:11,530 --> 00:19:15,560\nBefore I installed Open Directory on\nthis server, it was a Standalone server.\n\n362\n00:19:15,560 --> 00:19:20,230\nA standalone server is any Mac that is\nnot connected on the Open Directory.\n\n363\n00:19:20,230 --> 00:19:24,060\nIt has local user accounts and\nlocal groups and that's it.\n\n364\n00:19:24,060 --> 00:19:28,210\nIt has no connection to the Open Directory\nwhatsoever no centralized accounts.\n\n365\n00:19:28,210 --> 00:19:30,630\nEverything is right there\non that one System.\n\n366\n00:19:30,630 --> 00:19:32,510\nThat's a Standalone server.\n\n367\n00:19:33,640 --> 00:19:37,000\nAn Opened Directory Master,\nthat's what we just saw.\n\n368\n00:19:37,000 --> 00:19:39,950\nThat's the one that controls\nthe Opened Directory Data base.\n\n369\n00:19:39,950 --> 00:19:44,120\nIt has local accounts and\ncentralized Open Directory Accounts and\n\n370\n00:19:44,120 --> 00:19:46,390\nit's got the Open Directory Database\nright there.\n\n371\n00:19:47,880 --> 00:19:50,890\nThe third role is a Replica, and\n\n372\n00:19:50,890 --> 00:19:53,460\nI mentioned replicas right at\nthe end of the last segment.\n\n373\n00:19:53,460 --> 00:19:56,620\nA Replica is also\nan Open Directory server.\n\n374\n00:19:56,620 --> 00:20:01,210\nIt's maintaining a copy of that\nOpen Directory from the Master.\n\n375\n00:20:01,210 --> 00:20:04,260\nIt can authenticate people,\npeople can use it for redundancy and for\n\n376\n00:20:04,260 --> 00:20:09,040\ndistributing the load, bouncing the\nworkload so it's not all on the Master.\n\n377\n00:20:09,040 --> 00:20:14,070\nA Replica server has local accounts as\nwell as Open Directory Accounts and\n\n378\n00:20:14,070 --> 00:20:15,970\nit authenticates against\nthe Open Directory.\n\n379\n00:20:17,040 --> 00:20:20,590\nThe fourth type is what most of\nour machines are going to be.\n\n380\n00:20:20,590 --> 00:20:22,980\nThe fourth type is just a member.\n\n381\n00:20:22,980 --> 00:20:26,220\nA member server or\na workstation is just a server or\n\n382\n00:20:26,220 --> 00:20:29,700\nworkstation that is what's called\nbound to the Open Directory.\n\n383\n00:20:29,700 --> 00:20:33,810\nWhen we bind a Mac OS System to\nthe Open Directory what we're doing is\n\n384\n00:20:33,810 --> 00:20:36,690\nwe're saying hey when you\nauthenticate don't just look for\n\n385\n00:20:36,690 --> 00:20:40,650\nlocal user accounts, I also want you to\nlook over here at this Open Directory and\n\n386\n00:20:40,650 --> 00:20:42,180\nsee if they've got some accounts for\nyou too.\n\n387\n00:20:42,180 --> 00:20:43,110\nAll right?\n\n388\n00:20:43,110 --> 00:20:44,360\nThat's called Binding.\n\n389\n00:20:44,360 --> 00:20:47,810\nAnd you bind your work stations\nto that Open Directory.\n\n390\n00:20:47,810 --> 00:20:51,680\nOnce they're bound, they're called\na Member server, or a member workstation.\n\n391\n00:20:51,680 --> 00:20:53,500\nThey're a member of the Open Directory,\nbut\n\n392\n00:20:53,500 --> 00:20:56,230\nthey don't have a copy\nof the Open Directory.\n\n393\n00:20:56,230 --> 00:20:59,570\nIf you unplug their Network Adapter,\nthey can't login to the Open Directory,\n\n394\n00:20:59,570 --> 00:21:03,180\ncuz they can't contact a server to\nfind out if the accounts are valid.\n\n395\n00:21:03,180 --> 00:21:05,280\nThey only have their local accounts.\n\n396\n00:21:05,280 --> 00:21:11,010\nIn all four scenarios, Standalone,\nMaster, Replica, and Member.\n\n397\n00:21:11,010 --> 00:21:13,890\nAll four scenarios you\nhave local user accounts.\n\n398\n00:21:13,890 --> 00:21:17,140\nLocal user accounts can exist,\nthey don't have to but they can.\n\n399\n00:21:17,140 --> 00:21:19,570\nRight, but when you're a Master or\n\n400\n00:21:19,570 --> 00:21:25,410\na Replica you also have actual copies\nof a Centralized User Database.\n\n401\n00:21:25,410 --> 00:21:27,980\nAnd if you're a member you\nlook on the Network for\n\n402\n00:21:27,980 --> 00:21:29,990\nthat Centralized Database to try and\nfind it.\n\n403\n00:21:29,990 --> 00:21:31,650\nSo those are the four different\nroles that we follow.\n\n404\n00:21:32,740 --> 00:21:36,580\nNow I've got another server over here,\nlet me jump over to this other server.\n\n405\n00:21:36,580 --> 00:21:38,740\nThis is a stock Yosemite server.\n\n406\n00:21:38,740 --> 00:21:42,240\nI've got 10.2 on here and that's it.\n\n407\n00:21:42,240 --> 00:21:46,120\nNow as it stands,\nit is just called a Standalone server.\n\n408\n00:21:46,120 --> 00:21:50,680\nIt's got local accounts and it has no idea\nthe Open Directory is even out there.\n\n409\n00:21:50,680 --> 00:21:53,530\nIt doesn't even know it\nit's just all on its own.\n\n410\n00:21:53,530 --> 00:21:54,850\nNow how do I know that?\n\n411\n00:21:54,850 --> 00:22:00,800\nWell if I go into my System preferences\nand I go down here to Users & Groups.\n\n412\n00:22:00,800 --> 00:22:01,965\nWell, whenever it appears.\n\n413\n00:22:01,965 --> 00:22:04,265\n[LAUGH] We're testing my patience today.\n\n414\n00:22:04,265 --> 00:22:06,120\nWe'll go into Users & Groups.\n\n415\n00:22:06,120 --> 00:22:08,790\nWhen we go in here,\nI'll see my local user accounts.\n\n416\n00:22:08,790 --> 00:22:10,350\nRight?\nI've got an account called Help Desk\n\n417\n00:22:10,350 --> 00:22:11,720\nand that's it.\n\n418\n00:22:11,720 --> 00:22:14,750\nAnd if you click on Login Options,\n\n419\n00:22:14,750 --> 00:22:19,560\nright in here you'll see whether\nyou have a Network Account Server.\n\n420\n00:22:19,560 --> 00:22:23,330\nThat Network Account Server, that' gonna\nbe your connection to an Open Directory.\n\n421\n00:22:23,330 --> 00:22:26,410\nIf it says join,\nthen you're not connected to a Directory.\n\n422\n00:22:26,410 --> 00:22:28,530\nYou're just a Standalone server.\n\n423\n00:22:28,530 --> 00:22:33,030\nRight, but if you're are joined to\na Directory, it'll show up right there.\n\n424\n00:22:33,030 --> 00:22:38,780\nAnd in that scenario, you're either\na Member, a Master or a Replica.\n\n425\n00:22:38,780 --> 00:22:42,400\nIf you're running the Server app, and\nyou've got the open directory service on\n\n426\n00:22:42,400 --> 00:22:45,580\nthere and you're setup, then you're\neither the Master or the Replica.\n\n427\n00:22:45,580 --> 00:22:48,330\nBut if you don't, if you just joined,\nthen you're a member.\n\n428\n00:22:48,330 --> 00:22:49,480\nThat's how we can tell that apart.\n\n429\n00:22:49,480 --> 00:22:51,060\nIt's fairly straightforward.\n\n430\n00:22:51,060 --> 00:22:54,230\nThe bulk of your machines\nwill just be members.\n\n431\n00:22:54,230 --> 00:22:55,010\nThat's what they'll be.\n\n432\n00:22:55,010 --> 00:22:56,460\nThey'll be joined to the Open Directory,\nbut\n\n433\n00:22:56,460 --> 00:22:59,110\nnot actually running a copy\nof the Open Directory.\n\n434\n00:22:59,110 --> 00:23:05,780\nNow, one Open Directory server can handle\nhundreds, even thousands of clients.\n\n435\n00:23:05,780 --> 00:23:08,100\nSo you don't need a ton of\nopened directory servers.\n\n436\n00:23:08,100 --> 00:23:11,670\nMost companies only need two,\na Master and a Replica.\n\n437\n00:23:11,670 --> 00:23:16,130\nIf the Master fails, you want a Replica to\nbe able to jump in and take over, right.\n\n438\n00:23:16,130 --> 00:23:18,570\nBut you don't need a ton more but\n\n439\n00:23:18,570 --> 00:23:22,750\nif you've got a business that's spread\nover a large geographic area, right.\n\n440\n00:23:22,750 --> 00:23:26,870\nMaybe I've got offices here in\nGainesville and offices in Orlando, and\n\n441\n00:23:26,870 --> 00:23:29,800\nPensacola, offices all over Florida.\n\n442\n00:23:29,800 --> 00:23:35,360\nWell I might want a Replica of my\nOpen Directory in each of those cities,\n\n443\n00:23:35,360 --> 00:23:38,740\nso that when users log in they'll log in\noff of a server that's close to them.\n\n444\n00:23:38,740 --> 00:23:42,050\nInstead of having to come all the way\nback here to Gainesville to log in.\n\n445\n00:23:42,050 --> 00:23:46,070\nSo that's one reason why we might want to\nhave more replicas that are out there.\n\n446\n00:23:46,070 --> 00:23:48,300\nBut for most people,\nyou really don't need that many.\n\n447\n00:23:48,300 --> 00:23:53,012\nJust a handful can handle thousands of\nclients, and that's more than enough.\n\n448\n00:23:53,012 --> 00:23:56,378\nAll right,well let's say that I\nwant this server to be a Replica.\n\n449\n00:23:56,378 --> 00:23:59,222\nI've got my master,\nI want this guy to be a Replica.\n\n450\n00:23:59,222 --> 00:24:01,992\nWell, there's a few things I\nneed to take care of first,\n\n451\n00:24:01,992 --> 00:24:04,420\nbut then I can bring it up as a replica.\n\n452\n00:24:04,420 --> 00:24:08,480\nI need to give it a static IP address,\nand I need to make sure it's got some DNS\n\n453\n00:24:08,480 --> 00:24:10,860\nentries, the same things that\nI did on the other server.\n\n454\n00:24:10,860 --> 00:24:12,425\nI need to do those here.\n\n455\n00:24:12,425 --> 00:24:17,910\nWell, this server, if I go back to my,\nwell, it's running server.\n\n456\n00:24:17,910 --> 00:24:19,540\nSo, let me just bring up it's server app.\n\n457\n00:24:21,450 --> 00:24:22,660\nI'm pretty sure, I installed server on it.\n\n458\n00:24:22,660 --> 00:24:23,536\nThere we go.\n\n459\n00:24:23,536 --> 00:24:26,845\nSo, [LAUGH] if I go into my server app, I\ncould tell you this server is just called\n\n460\n00:24:26,845 --> 00:24:31,020\nosx-server1, so the other one was server3.\n\n461\n00:24:31,020 --> 00:24:33,350\nThis one is SERVER1.\n\n462\n00:24:33,350 --> 00:24:36,053\nAnd I need to give it a static IP address,\nand\n\n463\n00:24:36,053 --> 00:24:40,083\nI need to tell it that its domain\nname is gonna be lab.itpro.tv.\n\n464\n00:24:40,083 --> 00:24:43,902\nAnd as I'm getting logged in there, I'm\njust gonna jump over to this other server.\n\n465\n00:24:43,902 --> 00:24:48,453\nAnd I'll go down to DNS, and I'm gonna\nadd a DNS entry for that other server.\n\n466\n00:24:48,453 --> 00:24:51,582\nSo I'm just gonna add that in,\nI'll add a machine record.\n\n467\n00:24:51,582 --> 00:24:57,169\nAnd I'm gonna tell it,\nthat this one is going to be osx-server1,\n\n468\n00:24:57,169 --> 00:25:01,985\nand that it's IP address,\noop, what zone has it chosen?\n\n469\n00:25:04,768 --> 00:25:08,261\nI just noticed that my zone is\nactually the full server name,\n\n470\n00:25:08,261 --> 00:25:10,450\nwhy has it done that?\n\n471\n00:25:10,450 --> 00:25:12,080\nWell, that's not exactly what I wanted.\n\n472\n00:25:13,740 --> 00:25:14,970\nI'm gonna re-create that zone.\n\n473\n00:25:14,970 --> 00:25:17,497\nThe zone name is a little bit wrong there,\nfor some reason.\n\n474\n00:25:17,497 --> 00:25:21,337\nSo I'm just gonna re-create that,\ncall it lab.itpro.tv.\n\n475\n00:25:21,337 --> 00:25:23,874\nI'm not quite sure, why my zone is\nshowing up as the full server name,\n\n476\n00:25:23,874 --> 00:25:24,745\nit's not supposed to.\n\n477\n00:25:24,745 --> 00:25:28,525\nBut I'll go ahead, and create this,\nso I'm gonna enable zone transfers.\n\n478\n00:25:28,525 --> 00:25:32,700\nAnd so now,\nI've got lab.itpro.tv right there.\n\n479\n00:25:32,700 --> 00:25:34,560\nAnd inside of that,\nI'm gonna need create a few other.\n\n480\n00:25:34,560 --> 00:25:36,640\nCuz actually,\nI got to fix up a good bit of this.\n\n481\n00:25:36,640 --> 00:25:41,530\nSee these entries here, they're correct,\nand yet wrong at the same time.\n\n482\n00:25:41,530 --> 00:25:43,920\nI'm not sure why my primary\nzone is showing up like that.\n\n483\n00:25:43,920 --> 00:25:44,862\nThe names here are right.\n\n484\n00:25:44,862 --> 00:25:48,845\nThat's very strange,\nthat it would do that.\n\n485\n00:25:48,845 --> 00:25:50,090\nThat's so odd.\n\n486\n00:25:50,090 --> 00:25:53,190\nAnyhow, I'm just gonna move these\nrecords over to the right spot,\n\n487\n00:25:53,190 --> 00:25:54,540\nto kind of fix that problem.\n\n488\n00:25:55,900 --> 00:25:57,310\nSo that, they're nested properly.\n\n489\n00:25:57,310 --> 00:26:02,897\nThe way it should work is that you have\nbasically, like osx-server3.lab.itpro.tv.\n\n490\n00:26:02,897 --> 00:26:04,860\nIt's supposed to match the zone.\n\n491\n00:26:04,860 --> 00:26:08,120\nAnd down here, it wasn't doing that,\nso I'm just gonna double-check\n\n492\n00:26:08,120 --> 00:26:11,090\nthis reverse record, and\nmake sure it's right, and it is good.\n\n493\n00:26:11,090 --> 00:26:15,230\nSo for whatever reason it kind of went\ncrazy but easy enough to fix that.\n\n494\n00:26:15,230 --> 00:26:17,630\nI'm just gonna get rid of\nthat crazy zone there.\n\n495\n00:26:17,630 --> 00:26:19,680\nAnd everything will be back to normal.\n\n496\n00:26:19,680 --> 00:26:22,670\nSo now, add that record that I\nwas trying to add a moment ago.\n\n497\n00:26:22,670 --> 00:26:26,000\nSo I'm just gonna hit Add,\nand do a machine Record.\n\n498\n00:26:26,000 --> 00:26:29,340\nAnd I'll add that osx-server1.\n\n499\n00:26:29,340 --> 00:26:33,380\nAnd I'm gonna give it a static IP address\nhere in a minute, it doesn't have one yet,\n\n500\n00:26:33,380 --> 00:26:37,380\nbut I'll give it this IP address .248.\n\n501\n00:26:37,380 --> 00:26:40,650\nAnd it's not a DNS server yet, but\n\n502\n00:26:40,650 --> 00:26:44,370\njust like Open Directory it's a good\nidea to have redundant DNS too.\n\n503\n00:26:44,370 --> 00:26:46,158\nSo I will be adding it as a name server,\nso\n\n504\n00:26:46,158 --> 00:26:49,330\nI'm gonna add another name server\nrecord in here, while I'm in here.\n\n505\n00:26:50,960 --> 00:26:53,585\nSo that, it'll know that it's\nallowed to be a Nameserver.\n\n506\n00:26:55,510 --> 00:26:57,250\nSo we'll just get that, oh, actually,\n\n507\n00:26:57,250 --> 00:26:59,155\nI don't have to do\nthe whole name on this one.\n\n508\n00:27:03,726 --> 00:27:06,040\nOr actually, you know what,\nI do need to do the whole name, don't I?\n\n509\n00:27:06,040 --> 00:27:07,690\nIt's not gonna take that.\n\n510\n00:27:07,690 --> 00:27:09,510\nSo, we'll get that corrected.\n\n511\n00:27:09,510 --> 00:27:10,640\nThere.\n\n512\n00:27:10,640 --> 00:27:12,550\nSo now, I've got my DNS entry for\nthis new server.\n\n513\n00:27:12,550 --> 00:27:15,830\nThe IP is wrong because I haven't\nassigned it on the other machine yet, but\n\n514\n00:27:15,830 --> 00:27:17,730\nthat's what I'm about to do right now.\n\n515\n00:27:17,730 --> 00:27:22,010\nSo I'll jump over to that other machine,\nand we're gonna get that squared away.\n\n516\n00:27:22,010 --> 00:27:25,650\nThe host name is set wrong right now on\nthis machine, so I need to correct that.\n\n517\n00:27:25,650 --> 00:27:28,750\nAnd it'll give me a chance to correct\nthe IP address, while I'm at it.\n\n518\n00:27:28,750 --> 00:27:32,630\nSo, I'll just fire up the edit host name\nwizard, so I'm in the server app, and\n\n519\n00:27:32,630 --> 00:27:33,990\nI just hit Edit by the host name.\n\n520\n00:27:33,990 --> 00:27:37,045\nAnd it's gonna let me walk through,\nand adjust these settings.\n\n521\n00:27:37,045 --> 00:27:41,089\nSo now, I have to be patient\nwhile it evaluate the network.\n\n522\n00:27:41,089 --> 00:27:44,705\nI'm gonna tell it that this is\ngonna be local network access.\n\n523\n00:27:44,705 --> 00:27:51,917\nAnd the server name is now gonna\nbe osx-server1.lab.itpro.tv.\n\n524\n00:27:51,917 --> 00:27:54,662\nAnd I'm not just gonna stop there,\nI'm also gonna set a static IP,\n\n525\n00:27:54,662 --> 00:27:55,780\nwhile I'm on this screen.\n\n526\n00:27:56,780 --> 00:28:00,020\nWith a server, we always want it\nto have a static IP, if we can.\n\n527\n00:28:00,020 --> 00:28:02,920\nThat way, clients will reliably\nknow who to connect to,\n\n528\n00:28:02,920 --> 00:28:06,900\nso this will make life a lot easier on us,\nsave us some pain later on.\n\n529\n00:28:06,900 --> 00:28:10,480\nSo, we'll go ahead, and set that.\n\n530\n00:28:10,480 --> 00:28:14,930\nFor DNS, I'm gonna be a DNS server,\nbut I'm not one yet, so for right now,\n\n531\n00:28:14,930 --> 00:28:16,470\nI'm just gonna point it\nat the other server.\n\n532\n00:28:17,570 --> 00:28:21,926\nAnd I'll set that lookup search\ndomain to be lab.itpro.tv.\n\n533\n00:28:23,998 --> 00:28:26,090\nSo now,\nit's got the IP that I put in DNS, and\n\n534\n00:28:26,090 --> 00:28:29,700\nit'll look to the other server to find\nitself, so that'll squared it away.\n\n535\n00:28:29,700 --> 00:28:32,940\nI'll have to give it a second here,\nit's gonna do some duplicate IP checking,\n\n536\n00:28:32,940 --> 00:28:35,630\nwe just have to be a little\npatient while it does it.\n\n537\n00:28:35,630 --> 00:28:38,180\nThis is all of just pre-work,\ngetting ready.\n\n538\n00:28:38,180 --> 00:28:41,560\nThis stuff I would do even if I was gonna,\njust join it to the domain.\n\n539\n00:28:41,560 --> 00:28:44,190\nIf I was just gonna do it a member level,\nand\n\n540\n00:28:44,190 --> 00:28:46,060\njoin it to the Open Directory that way.\n\n541\n00:28:46,060 --> 00:28:50,151\nI would go through, and make sure my IP\naddresses, and DNS servers were set right,\n\n542\n00:28:50,151 --> 00:28:51,330\nand that kind of stuff.\n\n543\n00:28:51,330 --> 00:28:54,113\nSo everything looks good there,\nI'll go ahead, and finish that up.\n\n544\n00:28:54,113 --> 00:28:59,000\nAnd it's gonna set the name,\nand get that in place.\n\n545\n00:28:59,000 --> 00:29:04,390\nNow, I can go, and\nadd myself as an Open Directory replica.\n\n546\n00:29:04,390 --> 00:29:07,590\nAnd you guys saw when I ran the Open\nDirectory wizard on the other server,\n\n547\n00:29:07,590 --> 00:29:09,510\nit was just one of\nthe options in the wizard.\n\n548\n00:29:09,510 --> 00:29:13,010\nYou choose that option, and\nyou point it to the current master.\n\n549\n00:29:13,010 --> 00:29:13,730\nSo, that's what I'm gonna do.\n\n550\n00:29:13,730 --> 00:29:18,266\nI'll go down here under Advanced,\nand I'll find Open Directory.\n\n551\n00:29:18,266 --> 00:29:21,830\nI'm not in an Open Directory server right\nnow, so I'll just flip the ON switch.\n\n552\n00:29:22,840 --> 00:29:24,710\nAnd that's gonna launch the wizard.\n\n553\n00:29:24,710 --> 00:29:27,370\nAnd instead of creating a new\ndomain like I did last time,\n\n554\n00:29:27,370 --> 00:29:29,550\nI'll choose to join an existing domain.\n\n555\n00:29:29,550 --> 00:29:31,610\nAnd it says, I'm gonna join as a replica.\n\n556\n00:29:32,790 --> 00:29:36,740\nAnd I'll hit Next, and\nit's gonna ask who that Parent Server is.\n\n557\n00:29:36,740 --> 00:29:43,010\nAnd so, I'm gonna specify\nosx-server3.lab.itpro.tv.\n\n558\n00:29:44,890 --> 00:29:49,520\nIt's gonna ask for the Directory\nAdmin Name, mine was called diradmin.\n\n559\n00:29:49,520 --> 00:29:51,150\nYou should've changed it\nto something else, so\n\n560\n00:29:51,150 --> 00:29:54,080\nyou would type in whatever\nyour custom value was there.\n\n561\n00:29:54,080 --> 00:29:55,309\nAnd then I'll punch in the password.\n\n562\n00:29:57,660 --> 00:29:59,375\nIt's gonna reach out.\n\n563\n00:29:59,375 --> 00:30:01,305\nIt's gonna talk to the other server.\n\n564\n00:30:01,305 --> 00:30:05,348\nIt's gonna download a copy of\nthe Open Directory from the other server.\n\n565\n00:30:05,348 --> 00:30:08,420\nAnd then it's gonna bring it up,\nand running on this one.\n\n566\n00:30:08,420 --> 00:30:12,160\nAnd then it's gonna keep checking\nin with the other server.\n\n567\n00:30:12,160 --> 00:30:16,180\nAnd anytime a change happens,\nit will replicate down to this one.\n\n568\n00:30:16,180 --> 00:30:19,390\nSo it's constantly replicating,\nand staying up to date.\n\n569\n00:30:19,390 --> 00:30:24,710\nSo the Open Directory on this server, will\nmatch the Open Directory on the other one.\n\n570\n00:30:24,710 --> 00:30:27,880\nNow, when I ran that wizard, it asked for\n\n571\n00:30:27,880 --> 00:30:31,510\nthe parent server,\nit didn't ask for the master.\n\n572\n00:30:31,510 --> 00:30:33,060\nWhy didn't it ask for that master?\n\n573\n00:30:33,060 --> 00:30:36,660\nWell, you don't have to\nreplicate from the master.\n\n574\n00:30:36,660 --> 00:30:39,830\nA replica can actually replicate\nfrom another replica, if we want.\n\n575\n00:30:40,980 --> 00:30:43,060\nYou might ask yourself, well,\nwait a minute, isn't that crazy?\n\n576\n00:30:43,060 --> 00:30:45,130\nWhy wouldn't you wanna\nreplicate from the master.\n\n577\n00:30:45,130 --> 00:30:48,520\nWell, there's a few limits that we have\nto be aware of, with Open Directory.\n\n578\n00:30:49,630 --> 00:30:55,530\nWhen you have an Open Directory master,\nit can only have 32 replicas.\n\n579\n00:30:55,530 --> 00:31:00,406\nSo if you have the master, and 32\nreplicas, you have a total of 33 replicas.\n\n580\n00:31:00,406 --> 00:31:01,694\nOr 33 servers, altogether.\n\n581\n00:31:01,694 --> 00:31:03,035\n33 Open Directories.\n\n582\n00:31:03,035 --> 00:31:04,965\nSo, 32 replicas.\n\n583\n00:31:04,965 --> 00:31:07,545\nWhat if I need more than 32 replicas?\n\n584\n00:31:07,545 --> 00:31:11,070\nWhat if I have offices all\nacross the United States?\n\n585\n00:31:11,070 --> 00:31:15,340\nAnd so, I decide that I wanna have\none replica in every single state.\n\n586\n00:31:15,340 --> 00:31:16,890\nWell, there's 50 states.\n\n587\n00:31:16,890 --> 00:31:21,190\nThe master can only replicate\nto 32 replicas, that's my limit.\n\n588\n00:31:21,190 --> 00:31:23,810\nWell, why did Apple put that limit\nin there, in the first place?\n\n589\n00:31:23,810 --> 00:31:25,590\nWhy limit it to 32?\n\n590\n00:31:25,590 --> 00:31:30,180\nWell, each replica is having to\ndownload a copy of that database, and\n\n591\n00:31:30,180 --> 00:31:32,420\ndownload the changes when they happen.\n\n592\n00:31:32,420 --> 00:31:34,080\nThat creates effort.\n\n593\n00:31:34,080 --> 00:31:38,350\nIt creates a lot of network bandwidth,\nand CPU on the server.\n\n594\n00:31:38,350 --> 00:31:40,337\nThe more servers I have doing that,\n\n595\n00:31:40,337 --> 00:31:43,490\nthe more of a burden it\ncreates under the master.\n\n596\n00:31:43,490 --> 00:31:47,490\nSo they put the limit at 32, so\nyou don't overwhelm your master server.\n\n597\n00:31:48,680 --> 00:31:51,130\nBut if you need more\nthan 32 you can do it,\n\n598\n00:31:51,130 --> 00:31:53,490\nyou just need to create\nreplicas of a replica.\n\n599\n00:31:54,680 --> 00:31:58,626\nEach replica can maintain 32 copies also.\n\n600\n00:31:58,626 --> 00:32:01,695\nSo, if I have 32 replicas\noff of the master,\n\n601\n00:32:01,695 --> 00:32:07,623\neach of those 32 replicas can have another\n32 replicas off of it But that's my limit.\n\n602\n00:32:07,623 --> 00:32:09,609\nI can only go one tier deep.\n\n603\n00:32:09,609 --> 00:32:12,299\nRight, so you end up having three levels,\nthe master,\n\n604\n00:32:12,299 --> 00:32:16,650\nthe first level of replicas and\na second level of replicas and that's it.\n\n605\n00:32:16,650 --> 00:32:21,031\nBut if we add it up, that means we\ncan have a total of 1,057 replicas.\n\n606\n00:32:23,510 --> 00:32:24,360\nAnd that's a lot.\n\n607\n00:32:24,360 --> 00:32:29,005\nSo if I wanna have a replica in all 50\nstates here in the US I can do that.\n\n608\n00:32:29,005 --> 00:32:31,780\nI can have the master\nright here in Gainesville.\n\n609\n00:32:31,780 --> 00:32:36,180\nIt can have 32 replicas,\nmaybe to like the east coast states.\n\n610\n00:32:36,180 --> 00:32:38,190\nAnd then I can have some of the replicas,\n\n611\n00:32:38,190 --> 00:32:41,240\nthen have more replicas that\nare off on the west coast.\n\n612\n00:32:41,240 --> 00:32:44,839\nRight, they just branch out like that,\nkinda branching out like a phone tree,\n\n613\n00:32:44,839 --> 00:32:46,910\nto get us to the amount that we want.\n\n614\n00:32:46,910 --> 00:32:48,830\nBut 1,057 that's that maximum.\n\n615\n00:32:48,830 --> 00:32:53,460\nThat's the limit that we hit,\nthe most replicas that we can have.\n\n616\n00:32:53,460 --> 00:32:55,680\nIf you need even more than that,\n\n617\n00:32:55,680 --> 00:32:58,650\nwell you're gonna have to break into more\nthan one open directory at that point.\n\n618\n00:32:58,650 --> 00:33:00,110\nYou've hit the limit, right?\n\n619\n00:33:00,110 --> 00:33:02,437\nBut it's really rare that anybody\nwould need more than that.\n\n620\n00:33:02,437 --> 00:33:04,422\nThat is a big, big network.\n\n621\n00:33:04,422 --> 00:33:07,338\nAll right,\nwell it looks like mine finished.\n\n622\n00:33:07,338 --> 00:33:10,710\nIt didn't take that long cuz my\nopen directory is mostly empty.\n\n623\n00:33:10,710 --> 00:33:12,710\nThe larger your open directory is,\n\n624\n00:33:12,710 --> 00:33:15,250\nthe longer it takes that\ninitial replica to happen.\n\n625\n00:33:15,250 --> 00:33:19,540\nBut I've now replicated and when I look\nat my server, I'm under Open Directory.\n\n626\n00:33:19,540 --> 00:33:26,390\nAnd I show OSX-Server3 as the master and\nI don't show myself as the replica.\n\n627\n00:33:26,390 --> 00:33:27,780\nWell that's because I'm up here, right?\n\n628\n00:33:27,780 --> 00:33:30,930\nSo I show as being available and\nup and running.\n\n629\n00:33:30,930 --> 00:33:35,240\nIf I look from the other server and\nI go into Open Directory.\n\n630\n00:33:35,240 --> 00:33:36,850\nWell, it hasn't refreshed yet.\n\n631\n00:33:36,850 --> 00:33:37,800\nLet me just refresh.\n\n632\n00:33:39,120 --> 00:33:39,850\nThere we go.\n\n633\n00:33:39,850 --> 00:33:42,830\nAnd see how that little arrow\njust appeared by my server?\n\n634\n00:33:42,830 --> 00:33:49,480\nAnd if I expand that out I can see that\nOSX-Server1 is a replica of the master.\n\n635\n00:33:49,480 --> 00:33:51,480\nIt's underneath the master.\n\n636\n00:33:51,480 --> 00:33:55,330\nSo you can expand these out to see\nall the replicas beneath them.\n\n637\n00:33:55,330 --> 00:33:58,469\nSo I might have one replica that's\nhere in the state of Florida.\n\n638\n00:33:58,469 --> 00:34:02,574\nAnd then it has replicas that are in\nthe different cities, Orlando, Miami,\n\n639\n00:34:02,574 --> 00:34:04,483\nTallahassee, whatever, right?\n\n640\n00:34:04,483 --> 00:34:07,450\nAnd it's all nested nice and neat.\n\n641\n00:34:07,450 --> 00:34:09,340\nI can have 32 under the master.\n\n642\n00:34:09,340 --> 00:34:13,530\nAnd then I can have 32 more under\nthis server if I wanted and\n\n643\n00:34:13,530 --> 00:34:15,490\ncontinue to branch that out.\n\n644\n00:34:15,490 --> 00:34:18,580\nSo I see it setup,\nI now have a master and a replica.\n\n645\n00:34:19,960 --> 00:34:21,950\nNow my DNS is not replicating, right?\n\n646\n00:34:21,950 --> 00:34:22,803\nDNS is separate.\n\n647\n00:34:22,803 --> 00:34:26,844\nIf I want the other server to be a DNS\nserver too, which we normally do,\n\n648\n00:34:26,844 --> 00:34:29,805\nthen I would need to go back to it and\nconfigure DNS.\n\n649\n00:34:29,805 --> 00:34:30,590\nAnd so that's what I'm gonna do.\n\n650\n00:34:30,590 --> 00:34:34,860\nI'll just go to DNS here, and\nI'm gonna turn that on, all right?\n\n651\n00:34:34,860 --> 00:34:35,360\nSo now it's on.\n\n652\n00:34:36,510 --> 00:34:40,530\nAnd then, down here at the bottom,\nI'm gonna choose the little plus sign.\n\n653\n00:34:40,530 --> 00:34:42,750\nAnd it's actually gonna try and\ncreate host records.\n\n654\n00:34:42,750 --> 00:34:44,010\nI need to cancel that.\n\n655\n00:34:44,010 --> 00:34:44,980\nIf you hit the gear and\n\n656\n00:34:44,980 --> 00:34:49,200\ntell it show all records, then when you\nhit the plus sign you'll get more options.\n\n657\n00:34:49,200 --> 00:34:52,260\nAnd I wanna add a primary,\nI mean a secondary zone.\n\n658\n00:34:52,260 --> 00:34:56,440\nA secondary zone is a clone\nof a primary somewhere else.\n\n659\n00:34:56,440 --> 00:35:01,130\nAnd so I wanna clone the zone\nthat's stored on the master.\n\n660\n00:35:01,130 --> 00:35:02,354\nSo I'll choose that secondary zone.\n\n661\n00:35:02,354 --> 00:35:06,103\nAnd the zone is lab.itpro.tv.\n\n662\n00:35:06,103 --> 00:35:10,774\nAnd the primary server is at 10.1.230.249,\n\n663\n00:35:10,774 --> 00:35:13,928\nthat's the IP address of that server.\n\n664\n00:35:13,928 --> 00:35:15,668\nAnd so I'll create that.\n\n665\n00:35:15,668 --> 00:35:17,363\nIt's gonna reach out to that server.\n\n666\n00:35:17,363 --> 00:35:21,380\nAnd it's gonna get a copy of that zone,\nokay?\n\n667\n00:35:21,380 --> 00:35:23,830\nAnd I might have to wait a little bit for\nthat copy to come down.\n\n668\n00:35:23,830 --> 00:35:25,530\nBut it'll reach out and get it and\n\n669\n00:35:25,530 --> 00:35:28,520\nthen it'll add it here and\nthen I'll be a valid DNS server.\n\n670\n00:35:28,520 --> 00:35:32,280\nAnd now not only do I have\na copy of the open directory but\n\n671\n00:35:32,280 --> 00:35:34,750\nI also have a copy of DNS.\n\n672\n00:35:34,750 --> 00:35:37,860\nAnd as changes happen to the open\ndirectory on the other side,\n\n673\n00:35:37,860 --> 00:35:39,010\nI get copies of it.\n\n674\n00:35:39,010 --> 00:35:42,380\nAnd as changes happen to DNS on\nthe other side, I get copies of it.\n\n675\n00:35:42,380 --> 00:35:46,200\nSo if the master were to fail and\ngo offline, I'm a perfect backup.\n\n676\n00:35:46,200 --> 00:35:47,003\nI've got open directory.\n\n677\n00:35:47,003 --> 00:35:49,824\nI've got DNS, and I'm ready to rock, okay.\n\n678\n00:35:49,824 --> 00:35:56,820\nSpeaking of the master failing, it does\nhappen, and what do we do when it fails?\n\n679\n00:35:56,820 --> 00:36:00,350\nWell, we've got a few options\nas to how to handle that.\n\n680\n00:36:00,350 --> 00:36:04,060\nBut they all center around us\nhaving some sort of valid back up.\n\n681\n00:36:04,060 --> 00:36:05,327\nAnd I haven't talked about backups yet.\n\n682\n00:36:05,327 --> 00:36:07,429\nSo why don't we pause here and\ntake a break?\n\n683\n00:36:07,429 --> 00:36:11,476\nAnd when we get back from the break I\nwanna talk about how we back up the active\n\n684\n00:36:11,476 --> 00:36:15,670\ndirectory so that we can restore it\nin the event of a failure, all right?\n\n685\n00:36:15,670 --> 00:36:16,370\nSo stay tuned.\n\n686\n00:36:16,370 --> 00:36:18,718\nWhen we get back,\nmore back up stuff, after this.\n\n687\n00:36:18,718 --> 00:36:24,976\n[MUSIC]\n\n688\n00:36:24,976 --> 00:36:27,520\nAll right, welcome back everybody.\n\n689\n00:36:27,520 --> 00:36:31,980\nSo in the last segment I kinda set us\nup for backup and recovery, right?\n\n690\n00:36:31,980 --> 00:36:35,797\nWhat happens if I have a failure of\none of my open directory servers?\n\n691\n00:36:35,797 --> 00:36:39,512\nWell, if it's a replica,\nnot too much, right?\n\n692\n00:36:39,512 --> 00:36:41,300\nIf a replica fails, who cares?\n\n693\n00:36:41,300 --> 00:36:43,860\n[LAUGH] You've got your\nmasters somewhere else.\n\n694\n00:36:43,860 --> 00:36:46,140\nYou might have other replicas\nthat are available too.\n\n695\n00:36:46,140 --> 00:36:47,870\nIf not, that big of a deal.\n\n696\n00:36:47,870 --> 00:36:51,780\nIn fact, we usually don't even bother\nbacking up the replicas, right?\n\n697\n00:36:51,780 --> 00:36:55,830\nBecause if a replica fails,\nit was just a copy anyway.\n\n698\n00:36:55,830 --> 00:36:58,900\nYou've got the master open\ndirectory somewhere else.\n\n699\n00:36:58,900 --> 00:37:01,150\nYou don't really need\na backup of your replica.\n\n700\n00:37:01,150 --> 00:37:03,180\nIt doesn't mean you can't back it up,\ndon't get me wrong.\n\n701\n00:37:03,180 --> 00:37:07,200\nIf you wanna back up the replicas you\ncan do that until the cows come home,\n\n702\n00:37:07,200 --> 00:37:08,160\nit's no big deal, right?\n\n703\n00:37:09,260 --> 00:37:14,020\nIf you wanna back up a replica, the way\nyou back it up is with Time Machine.\n\n704\n00:37:14,020 --> 00:37:17,120\nJust use good old Time Machine like we\ndid back in the maintenance episode.\n\n705\n00:37:17,120 --> 00:37:19,180\nIf you haven't watched that\none already jump over to that.\n\n706\n00:37:19,180 --> 00:37:21,030\nWe kinda walked you\nthrough the whole process.\n\n707\n00:37:21,030 --> 00:37:23,130\nBut you just back it up with Time Machine.\n\n708\n00:37:23,130 --> 00:37:25,760\nAnd if you have a failure or\nsomething goes wrong, you can just restore\n\n709\n00:37:25,760 --> 00:37:29,510\nthe Time Machine backup, and\nyou are back in business, all right?\n\n710\n00:37:29,510 --> 00:37:34,970\nWhen your replica comes back online, the\nreplica's database would be out-of-date,\n\n711\n00:37:34,970 --> 00:37:37,480\nand it'll see that when\nit talks to the master.\n\n712\n00:37:37,480 --> 00:37:40,650\nAnd the master will send all the updates\nback to it to bring it back up-to-date.\n\n713\n00:37:40,650 --> 00:37:43,550\nSo it'll come back up and\nyou're back in business, right?\n\n714\n00:37:43,550 --> 00:37:47,240\nRestoring a failed replica is no different\nthan restoring any other server.\n\n715\n00:37:48,660 --> 00:37:50,320\nBut what about the master.\n\n716\n00:37:50,320 --> 00:37:53,455\nWell the master is a little bit\ndifferent in a way, all right?\n\n717\n00:37:53,455 --> 00:37:57,031\nWith the master,\nyou can back it with a time machine also.\n\n718\n00:37:57,031 --> 00:37:59,625\nAnd if the master fails and goes offline,\n\n719\n00:37:59,625 --> 00:38:03,510\nwell you can just restore\nit with Time Machine.\n\n720\n00:38:03,510 --> 00:38:06,520\nAnd if you just have one master, well,\nyou don't have one master, right?\n\n721\n00:38:06,520 --> 00:38:09,370\nSo if you just have that one though,\nand you don't have any replicas,\n\n722\n00:38:09,370 --> 00:38:12,410\nthen you just restore off of\nTime Machine and that's that, right?\n\n723\n00:38:12,410 --> 00:38:14,310\nSo Time Machine backup on the replica,\n\n724\n00:38:14,310 --> 00:38:17,620\nTime Machine backup on the master,\nyou use Time Machine to restore.\n\n725\n00:38:17,620 --> 00:38:19,850\nNothing special there, all right?\n\n726\n00:38:19,850 --> 00:38:20,512\nBut here's the thing.\n\n727\n00:38:20,512 --> 00:38:22,111\nIf the master goes offline,\n\n728\n00:38:22,111 --> 00:38:26,050\nhow long is it gonna take you to\nrestore with that Time Machine back up?\n\n729\n00:38:26,050 --> 00:38:27,257\nIt might take a while.\n\n730\n00:38:27,257 --> 00:38:29,610\nMaybe you gotta order an all new machine.\n\n731\n00:38:29,610 --> 00:38:32,130\nMaybe the building that\nmaster was in was destroyed.\n\n732\n00:38:32,130 --> 00:38:35,401\nAnd so you got to order a new computer,\nget it delivered, promoted, go through all\n\n733\n00:38:35,401 --> 00:38:38,590\nthe process, restore it from\nthe Time Machine, get it up and running.\n\n734\n00:38:38,590 --> 00:38:41,370\nIt could take days to\nget the equipment in.\n\n735\n00:38:41,370 --> 00:38:43,340\nSo, what do you do in the meantime?\n\n736\n00:38:43,340 --> 00:38:44,910\nWell your replicas keep working.\n\n737\n00:38:44,910 --> 00:38:48,680\nReplicas, they're doing their job, you\ncan still authenticate against replicas.\n\n738\n00:38:48,680 --> 00:38:50,180\nYou can't make changes, right?\n\n739\n00:38:50,180 --> 00:38:54,090\nThe changes aren't gonna synchronize\nproperly cuz the master's dead, right?\n\n740\n00:38:54,090 --> 00:38:58,092\nSo, that puts your network\nkind of in a crippled mode.\n\n741\n00:38:58,092 --> 00:39:01,968\nIf you know you can get the master\nback online in short order,\n\n742\n00:39:01,968 --> 00:39:05,996\nif it's gonna be a few hours,\nthen okay, you limp by, right?\n\n743\n00:39:05,996 --> 00:39:09,535\nYou operate in that crippled mode until\nyou're able to get the master back online\n\n744\n00:39:09,535 --> 00:39:11,390\nand you're in business.\n\n745\n00:39:11,390 --> 00:39:14,900\nBut if you've got to buy an all new\nserver, and so you call up Apple and\n\n746\n00:39:14,900 --> 00:39:17,025\nyou place an order for a Mac Pro.\n\n747\n00:39:17,025 --> 00:39:19,625\nAnd they say, okay, yep,\nit will be there in two weeks.\n\n748\n00:39:19,625 --> 00:39:21,935\nYou're like well, great two weeks.\n\n749\n00:39:21,935 --> 00:39:23,085\nI need a new master right now.\n\n750\n00:39:24,195 --> 00:39:29,645\nWhat you can do, is you can take one of\nyour replicas and you can promote it.\n\n751\n00:39:29,645 --> 00:39:34,734\nYou can take a replica and\nturn it into the master, all right?\n\n752\n00:39:34,734 --> 00:39:39,040\nBut if you wanna do that, it's not just\na matter of point and click, right?\n\n753\n00:39:39,040 --> 00:39:41,076\nIt's not that easy,\nnothing's that easy unfortunately.\n\n754\n00:39:41,076 --> 00:39:45,726\nBut if we wanna promote a replica to\na master we need to have a backup of\n\n755\n00:39:45,726 --> 00:39:47,124\nthe master to do it.\n\n756\n00:39:47,124 --> 00:39:49,922\nAnd there's two different types\nof backups we can use here.\n\n757\n00:39:49,922 --> 00:39:52,092\nTime Machine obviously is the main one.\n\n758\n00:39:52,092 --> 00:39:55,683\nIf you have a Time Machine\nbackup of your master,\n\n759\n00:39:55,683 --> 00:40:00,427\nyou can take that to the replica and\nyou can promote the replica.\n\n760\n00:40:00,427 --> 00:40:04,316\nAnd it will look at the Time Machine back\nup to grab the critical data that it\n\n761\n00:40:04,316 --> 00:40:06,600\nneeds, and it will become the new master.\n\n762\n00:40:08,660 --> 00:40:13,000\nOr if you don't wanna back up the whole\nmaster, cause a Time Machine backup can\n\n763\n00:40:13,000 --> 00:40:17,390\ntake a while,\nyou can create an open directory archive.\n\n764\n00:40:17,390 --> 00:40:20,390\nA backup of just the open directory.\n\n765\n00:40:20,390 --> 00:40:23,320\nAnd you can take that backup,\nand take it to a replica.\n\n766\n00:40:23,320 --> 00:40:25,970\nAnd when you promote it you can\njust provide it that, all right?\n\n767\n00:40:25,970 --> 00:40:27,470\nTwo different types of backups.\n\n768\n00:40:27,470 --> 00:40:30,910\nNow in the show,\nwe've already seen Time Machine backup, so\n\n769\n00:40:30,910 --> 00:40:34,120\nI'm not gonna bore you guys to death with\nTime machine Backups, they're really easy.\n\n770\n00:40:34,120 --> 00:40:37,070\nBut we haven't seen open directory\narchives, so I want to show you that.\n\n771\n00:40:37,070 --> 00:40:41,080\nI'm gonna jump over here onto my\nmaster server, which is this one.\n\n772\n00:40:42,420 --> 00:40:44,410\nAnd I'll go down to Open Directory.\n\n773\n00:40:44,410 --> 00:40:47,800\nSo here's my Open Directory screen, and\nI'm just kinda looking at what's here.\n\n774\n00:40:47,800 --> 00:40:53,320\nAnd I've got my master, and my replica\nall showing up, everything is happy.\n\n775\n00:40:53,320 --> 00:40:58,040\nHappy shiny people holding hands, right,\nnothing too special going on here.\n\n776\n00:40:58,040 --> 00:40:59,260\nWhat I want to do though,\n\n777\n00:40:59,260 --> 00:41:02,320\nis I wanna create an archive of\nthe open directory on my master.\n\n778\n00:41:03,470 --> 00:41:07,545\nYou can select the master and\nthen down here, if you hit the gear,\n\n779\n00:41:07,545 --> 00:41:12,500\nyou'll see the option right here,\nArchive the Open Directory Master.\n\n780\n00:41:12,500 --> 00:41:17,170\nThis is gonna create a backup of just\nthe Open Directory portion of this server,\n\n781\n00:41:17,170 --> 00:41:20,370\nnot the whole shebang,\njust the Open Directory piece.\n\n782\n00:41:20,370 --> 00:41:23,160\nAnd that's what we'll need if\nwe wanna promote a replica.\n\n783\n00:41:23,160 --> 00:41:27,650\nNotice that option right beneath it right\nthere, promote replica to master, right?\n\n784\n00:41:27,650 --> 00:41:30,010\nIt's grayed out because I'm on the master.\n\n785\n00:41:30,010 --> 00:41:31,980\nSo I'm gonna go ahead and archive it.\n\n786\n00:41:31,980 --> 00:41:34,370\nAnd when I run that,\nit's gonna create an archive file, and\n\n787\n00:41:34,370 --> 00:41:35,830\nI'll have to choose\nwhere I wanna put that.\n\n788\n00:41:35,830 --> 00:41:40,670\nI'll just stick it on my documents\nfolder for now, will be fine, I guess.\n\n789\n00:41:40,670 --> 00:41:46,940\nAnd so I'm gonna call this my\nOpen Directory Archive and I\n\n790\n00:41:46,940 --> 00:41:50,620\nnormally stick a date on here or whatever,\nso I can remember when I made it.\n\n791\n00:41:50,620 --> 00:41:54,650\nToday is the 12th, so\nI'll just punch that in,\n\n792\n00:41:54,650 --> 00:41:57,060\nand I'll store it there in my documents.\n\n793\n00:41:57,060 --> 00:41:58,750\nNow, as you can imagine,\n\n794\n00:41:58,750 --> 00:42:01,920\nthe open directory archive kind\nof has some sensitive data in it.\n\n795\n00:42:01,920 --> 00:42:03,680\nIt's got all your user accounts.\n\n796\n00:42:03,680 --> 00:42:07,840\nAnd so we need to specify\na password to secure it.\n\n797\n00:42:07,840 --> 00:42:10,330\nIf somebody wants to use this archive,\n\n798\n00:42:10,330 --> 00:42:13,310\nthey're gonna have to know\nthe password to open it up, all right.\n\n799\n00:42:13,310 --> 00:42:15,480\nIt's gonna encrypt that file and secure.\n\n800\n00:42:15,480 --> 00:42:17,660\nOkay, so we'll go ahead and\ndo that archive.\n\n801\n00:42:17,660 --> 00:42:20,840\nIt's gonna run really fast on mine because\nmy open directory is basically empty.\n\n802\n00:42:20,840 --> 00:42:25,040\nBut the larger your open directory is, the\nlonger it'll take to create this archive.\n\n803\n00:42:25,040 --> 00:42:26,970\nBut it doesn't normally take that long.\n\n804\n00:42:26,970 --> 00:42:28,450\nSo there it goes.\n\n805\n00:42:28,450 --> 00:42:31,030\nWhat it does is it creates\na little sparse image.\n\n806\n00:42:31,030 --> 00:42:34,340\nRight, like disk image, and\nthen it just populate the data in there.\n\n807\n00:42:34,340 --> 00:42:36,860\nSo it all ends up in one file.\n\n808\n00:42:36,860 --> 00:42:41,640\nIf I browsed my documents folder,\nI can find it right there.\n\n809\n00:42:41,640 --> 00:42:47,530\nThere's my Open Directory Archive and it's\na whopping 5.4 MB in size, pretty small.\n\n810\n00:42:47,530 --> 00:42:51,690\nIt's nice and small, which means it's easy\nfor me to transmit over the network and\n\n811\n00:42:51,690 --> 00:42:52,630\nmove it around.\n\n812\n00:42:52,630 --> 00:42:54,970\nWhat I don't wanna do is\nI don't want to lose it,\n\n813\n00:42:54,970 --> 00:42:56,590\nbecause if I do somebody could take it.\n\n814\n00:42:57,820 --> 00:43:00,740\nThey can then try and\nbrute force that password to get into it.\n\n815\n00:43:00,740 --> 00:43:04,060\nAnd if they ever get successful,\nthey can open it up.\n\n816\n00:43:04,060 --> 00:43:05,990\nThen they'll end up with a copy\nof my open directory, and\n\n817\n00:43:05,990 --> 00:43:08,080\nthat's not exactly something\nthat I want to have happen.\n\n818\n00:43:09,460 --> 00:43:13,830\nWhat I'm gonna do is, I'm gonna take that\nand copy it over to my other server.\n\n819\n00:43:15,780 --> 00:43:20,590\nAnd on the other server,\nI can send this over to it, and\n\n820\n00:43:20,590 --> 00:43:22,910\nthen I can promote the other one.\n\n821\n00:43:22,910 --> 00:43:24,680\nLet's see, I'm not seeing it in list.\n\n822\n00:43:24,680 --> 00:43:27,225\nMake me go make sure that we've\ngot file sharing turn on.\n\n823\n00:43:27,225 --> 00:43:31,515\nAnd I don't, so on my other server,\n\n824\n00:43:31,515 --> 00:43:33,065\nI'm just gonna turn on\nfile sharing real quick.\n\n825\n00:43:33,065 --> 00:43:34,610\nI wanna be able to copy\nsome data over to it.\n\n826\n00:43:37,176 --> 00:43:39,640\nAll right, looks like that is on, and\n\n827\n00:43:39,640 --> 00:43:42,958\nif I wait patiently,\nit should discover it again.\n\n828\n00:43:45,175 --> 00:43:46,882\nThere we go.\n\n829\n00:43:46,882 --> 00:43:49,311\nAnd as soon as it connects I\nshould see my Public folder and\n\n830\n00:43:49,311 --> 00:43:52,580\nI can just use that Drop Box\nfunctionality to throw it in there.\n\n831\n00:43:52,580 --> 00:43:54,240\nThere we go, Help Desk's Public Folder.\n\n832\n00:43:55,880 --> 00:43:57,310\nAnd the Drop Box.\n\n833\n00:43:57,310 --> 00:43:59,630\nSo I'm gonna take this\nopen directory archive,\n\n834\n00:43:59,630 --> 00:44:01,950\nand I'll just throw it in that\nDrop Box on the other server.\n\n835\n00:44:05,140 --> 00:44:06,430\nThere we go.\n\n836\n00:44:06,430 --> 00:44:08,310\nAnd now it's over on the other side.\n\n837\n00:44:08,310 --> 00:44:13,040\nSo now, if I main open directory\nserver were to go offline,\n\n838\n00:44:14,160 --> 00:44:15,660\nI can go and take the other one.\n\n839\n00:44:15,660 --> 00:44:18,600\nAnd I can promote it using this archive,\nright?\n\n840\n00:44:18,600 --> 00:44:22,970\nSo, I'll take this server offline.\n\n841\n00:44:22,970 --> 00:44:28,110\nWe'll just shut it down, all right?\n\n842\n00:44:28,110 --> 00:44:29,940\nSo I'm just gonna shut that server down.\n\n843\n00:44:29,940 --> 00:44:31,050\nAnd go back to this one.\n\n844\n00:44:31,050 --> 00:44:32,300\nThe master is now offline.\n\n845\n00:44:32,300 --> 00:44:35,499\nAnd with the master offline, if I can\nbring it back online, i need to do that,\n\n846\n00:44:35,499 --> 00:44:36,731\nif I can just fix the master and\n\n847\n00:44:36,731 --> 00:44:40,349\nbring that up, that's gonna be the best\nbecause my infrastructure doesn't change.\n\n848\n00:44:41,380 --> 00:44:45,870\nBut if I can't, or I'm in a hurry\nI can just promote this one.\n\n849\n00:44:45,870 --> 00:44:48,900\nAnd if I want to promote it,\nI'm gonna need that archive.\n\n850\n00:44:48,900 --> 00:44:51,160\nI need to double check one\nthing before I do that though.\n\n851\n00:44:51,160 --> 00:44:54,080\nI'm still said to use the server for\nDNS, so\n\n852\n00:44:54,080 --> 00:44:56,660\nmy servers gonna be a little bit\nbroken if I try and do that.\n\n853\n00:44:56,660 --> 00:44:59,150\nSo I'm just gonna fix that real quick.\n\n854\n00:44:59,150 --> 00:45:02,040\nI'll go into my system preferences, and\n\n855\n00:45:02,040 --> 00:45:06,920\nnetwork, and I'll take my DNS server,\nyeah, set to 249.\n\n856\n00:45:06,920 --> 00:45:09,260\nThat's the other server.\n\n857\n00:45:09,260 --> 00:45:10,334\nI'm gonna point it to myself.\n\n858\n00:45:13,770 --> 00:45:14,430\nThere we go.\n\n859\n00:45:14,430 --> 00:45:18,390\nSince the other server's offline, I need\nto be pointing at somebody who's online.\n\n860\n00:45:18,390 --> 00:45:20,150\nNormally, you have more than\none DNS server in there.\n\n861\n00:45:20,150 --> 00:45:22,770\nAnd that's what would insulate us from\nthat, but I didn't do that earlier, so\n\n862\n00:45:22,770 --> 00:45:25,890\nI'm just gonna update that real quick,\nall right?\n\n863\n00:45:25,890 --> 00:45:26,480\nNow that's done.\n\n864\n00:45:27,920 --> 00:45:31,942\nWhen I go back here, into my\nServer Manager, into Server App, and,\n\n865\n00:45:31,942 --> 00:45:36,400\nwhoops [LAUGH] that one just shut down.\n\n866\n00:45:36,400 --> 00:45:41,650\nOkay, so when I go into my Server App, and\nI go down here to Open Directory, right?\n\n867\n00:45:41,650 --> 00:45:46,870\nI can see OS X Server 3\nlab.itpro.tv is the master.\n\n868\n00:45:46,870 --> 00:45:50,380\nRight, it's not really telling\nme if it's online or offline.\n\n869\n00:45:50,380 --> 00:45:52,750\nI know it's offline cause I shut it down,\nright?\n\n870\n00:45:52,750 --> 00:45:55,160\nBut in this screen we\ndon't really see that.\n\n871\n00:45:55,160 --> 00:45:57,710\nAnd I can see my replica right here.\n\n872\n00:45:57,710 --> 00:46:02,810\nAnd if I highlight the replica, I can\nhit the gear and I've got the light now.\n\n873\n00:46:02,810 --> 00:46:05,250\nPromote replica to master.\n\n874\n00:46:05,250 --> 00:46:09,220\nAnd I can promote this one and\nit's gonna ask me for that admin.\n\n875\n00:46:09,220 --> 00:46:10,751\nI left my called duradmin.\n\n876\n00:46:13,199 --> 00:46:18,180\nI can punch in the password, and then I\nneed to specify the archive to be able\n\n877\n00:46:18,180 --> 00:46:23,910\nto restore that data, and so I'm gonna\ngo and choose the archive for that.\n\n878\n00:46:23,910 --> 00:46:26,640\nNow, if I had a Time Machine backup,\nI could point to that.\n\n879\n00:46:26,640 --> 00:46:29,540\nI don't have one, that's why it didn't\neven give me the option, and so\n\n880\n00:46:29,540 --> 00:46:34,350\nI'm gonna go in here and\npull it out of my public folder, and\n\n881\n00:46:34,350 --> 00:46:38,990\nmy Dropbox is where it's sitting,\nand I'll choose that archive, okay?\n\n882\n00:46:38,990 --> 00:46:41,660\nSo now it's got that archive file,\nand it can use that.\n\n883\n00:46:41,660 --> 00:46:43,980\nIt's asking me for\nthe password because it is encrypted.\n\n884\n00:46:45,480 --> 00:46:49,470\nAnd now it's got the password so I can\nopen it up, and it's ready to promote me.\n\n885\n00:46:49,470 --> 00:46:53,960\nIf I don't do this, it won't work right\nbecause it won't have the private\n\n886\n00:46:53,960 --> 00:46:56,730\nkeys that are necessary to be the new CA.\n\n887\n00:46:56,730 --> 00:46:59,030\nThe other server,\nwhen we added open directory to it,\n\n888\n00:46:59,030 --> 00:47:03,130\nit also became a route CA,\na certificate authority, does that for.\n\n889\n00:47:03,130 --> 00:47:06,410\nTo be able to issue out those\ncertificates and the tickets it does.\n\n890\n00:47:06,410 --> 00:47:08,680\nSo I need to take over the new root and\n\n891\n00:47:08,680 --> 00:47:10,790\nthat's part of what comes\nin with that archive.\n\n892\n00:47:10,790 --> 00:47:13,055\nAnd now that it's done, look what I see.\n\n893\n00:47:13,055 --> 00:47:17,140\nOSX-Server 1 is now the master.\n\n894\n00:47:17,140 --> 00:47:18,490\nWhat happened to server 3?\n\n895\n00:47:18,490 --> 00:47:21,730\nHere's server 3, server 3 was the master.\n\n896\n00:47:21,730 --> 00:47:23,070\nNow it's my replica.\n\n897\n00:47:24,370 --> 00:47:29,070\nIf I bring the other server back\nonline again, It's just a replica.\n\n898\n00:47:29,070 --> 00:47:31,500\nIt's another replica that's out there and\nthat's it.\n\n899\n00:47:31,500 --> 00:47:34,680\nSo I've now flipped those roles,\nand I can take my time and\n\n900\n00:47:34,680 --> 00:47:37,740\nbring that replica back\nonline when I have a chance.\n\n901\n00:47:37,740 --> 00:47:40,370\nBut if I'm joining new computers\nto the open directory and stuff,\n\n902\n00:47:40,370 --> 00:47:42,450\nI can do that right now,\nthe open directory is up and\n\n903\n00:47:42,450 --> 00:47:45,430\nrunning and happy,\nthings are working great.\n\n904\n00:47:45,430 --> 00:47:49,701\nSo, that's really easy If\nwe have the back up, right?\n\n905\n00:47:49,701 --> 00:47:52,592\nWhat if you never made an archive\nof your open directory?\n\n906\n00:47:52,592 --> 00:47:53,579\nWhat then?\n\n907\n00:47:53,579 --> 00:47:55,981\nYou wouldn't have been able to do this,\nokay?\n\n908\n00:47:55,981 --> 00:47:59,952\nEven if the archive is a little old,\nit's still got what you need.\n\n909\n00:47:59,952 --> 00:48:01,540\nIt's got those private keys in there.\n\n910\n00:48:01,540 --> 00:48:03,200\nThat's the real important part.\n\n911\n00:48:03,200 --> 00:48:05,990\nEven if you've added user accounts\nsince that archive was made,\n\n912\n00:48:05,990 --> 00:48:10,130\nwhen you load it in here, it won't\nremove the new accounts, it keeps those.\n\n913\n00:48:10,130 --> 00:48:11,480\nSo you're not gonna lose any data,\n\n914\n00:48:11,480 --> 00:48:13,940\nthe replica becomes the master,\neverybody's up and running.\n\n915\n00:48:13,940 --> 00:48:17,070\nYou didn't lose any data,\nthings work great, right.\n\n916\n00:48:17,070 --> 00:48:19,070\nBut you gotta remember to\nmake that archive, right.\n\n917\n00:48:19,070 --> 00:48:19,740\nI usually go and\n\n918\n00:48:19,740 --> 00:48:24,480\nupdate that archive every couple of weeks,\njust to make sure it's fairly current.\n\n919\n00:48:24,480 --> 00:48:27,450\nBecause it's so much faster\nthan dealing with Time Machine.\n\n920\n00:48:27,450 --> 00:48:29,745\nIf I go into a Time Machine\nrestore on the new hardware,\n\n921\n00:48:29,745 --> 00:48:31,170\nthat's gonna take me awhile, right?\n\n922\n00:48:31,170 --> 00:48:35,140\nIt'll take me an hour, maybe more, to get\na machine ready, and restore Time Machine.\n\n923\n00:48:35,140 --> 00:48:37,430\nThis just took a matter of minutes.\n\n924\n00:48:37,430 --> 00:48:40,665\nIf you've got the archive.\n\n925\n00:48:40,665 --> 00:48:43,580\nThere's one more thing that I want to\nmention on Open Directory before we\n\n926\n00:48:43,580 --> 00:48:44,610\nwrap this up.\n\n927\n00:48:44,610 --> 00:48:46,360\nAnd that is locales.\n\n928\n00:48:46,360 --> 00:48:48,540\nYou might have noticed this\nbutton up here that says Locales.\n\n929\n00:48:48,540 --> 00:48:50,050\nWhat the heck is that?\n\n930\n00:48:50,050 --> 00:48:54,250\nWell at the very beginning of the episode,\nwhen I started covering DNS,\n\n931\n00:48:54,250 --> 00:48:57,710\nI mentioned that we needed DNS in\ncase we had more than one network.\n\n932\n00:48:57,710 --> 00:49:00,260\nWhat if I had a headquarters\nhere in Gainesville, and\n\n933\n00:49:00,260 --> 00:49:04,960\nI had a branch office in New York,\nand a branch office in Los Angeles?\n\n934\n00:49:04,960 --> 00:49:07,850\nWell, if I have a computer in Los Angeles,\n\n935\n00:49:07,850 --> 00:49:10,720\nI want it to log into\na replica in Los Angeles.\n\n936\n00:49:10,720 --> 00:49:13,590\nI don't wanna have to come all\nthe way over here to Gainesville.\n\n937\n00:49:13,590 --> 00:49:17,280\nAnd if you're in New York, I want you\nto log in on a replica in New York.\n\n938\n00:49:17,280 --> 00:49:19,960\nI don't want you to come all the way to\nGainesville or all the way to Los Angeles.\n\n939\n00:49:21,190 --> 00:49:26,110\nHow do machines know when a replica\nis in the same network as them?\n\n940\n00:49:26,110 --> 00:49:27,100\nWell, the short answer is, they don't.\n\n941\n00:49:27,100 --> 00:49:30,790\nThey have no idea, so they just look for\nthe first one they can find,\n\n942\n00:49:30,790 --> 00:49:34,170\nwhich is often whichever one\nthey bound to originally.\n\n943\n00:49:34,170 --> 00:49:35,900\nUsually this master, right?\n\n944\n00:49:35,900 --> 00:49:38,310\nSo, it's not very efficient by default.\n\n945\n00:49:38,310 --> 00:49:41,150\nWe can use locales to fix that.\n\n946\n00:49:41,150 --> 00:49:45,520\nWith locales, you define the IP\nsubnets in your network, and\n\n947\n00:49:45,520 --> 00:49:48,710\nyou assign your replicas to the subnets.\n\n948\n00:49:48,710 --> 00:49:50,320\nIt's a pretty simple process.\n\n949\n00:49:50,320 --> 00:49:53,190\nWhen a client comes up and says,\nHey, this is my IP address.\n\n950\n00:49:53,190 --> 00:49:55,446\nWhat locale is my IP address in?\n\n951\n00:49:55,446 --> 00:50:00,030\nThen it'll go and take that, and\nit'll find the Open Directory replica or\n\n952\n00:50:00,030 --> 00:50:05,740\nmaster that's in that same locale, and\nthat's who it'll use to authenticate on.\n\n953\n00:50:05,740 --> 00:50:07,470\nAnd that's usually what\nwe want with this stuff,\n\n954\n00:50:07,470 --> 00:50:12,120\nwe want it to be able to\nconnect to that local server.\n\n955\n00:50:12,120 --> 00:50:15,490\nBut it does require us to\ndefine all of that information.\n\n956\n00:50:15,490 --> 00:50:19,030\nIf we don't define it, it has no\nway of figuring it out on it's own.\n\n957\n00:50:19,030 --> 00:50:23,330\nBecause technologies like Bonjour,\nBonjour doesn't pass through routers.\n\n958\n00:50:23,330 --> 00:50:26,350\nIt can't pass through\nrouters to find those other\n\n959\n00:50:26,350 --> 00:50:29,060\nOpen Directory servers that are out there,\nso we kind of have to coach it along.\n\n960\n00:50:30,160 --> 00:50:34,040\nLet me show you the locales and how\nthey're set up, it's actually pretty easy.\n\n961\n00:50:34,040 --> 00:50:37,720\nIf I go into my server app here,\nI can go to Locales, and\n\n962\n00:50:37,720 --> 00:50:40,060\nyou see that I've got one locale\nthat's created automatically.\n\n963\n00:50:41,270 --> 00:50:43,960\nI usually want to rename this\nto match my headquarters.\n\n964\n00:50:43,960 --> 00:50:47,550\nSo if my headquarters is here in\nGainesville, I can edit that, and\n\n965\n00:50:47,550 --> 00:50:49,370\nthis will be the Gainesville location.\n\n966\n00:50:49,370 --> 00:50:51,890\nAnd the default subnet\nhere is just all zeros.\n\n967\n00:50:51,890 --> 00:50:53,938\nThat means all networks.\n\n968\n00:50:53,938 --> 00:50:56,170\nSo everybody's gonna use this location,\n\n969\n00:50:56,170 --> 00:51:00,120\nunless there's another network out\nthere that's better for it, okay.\n\n970\n00:51:00,120 --> 00:51:05,350\nWell, I can leave that be if I want, and\nthen start to add in my other networks.\n\n971\n00:51:05,350 --> 00:51:08,160\nNow the other networks are usually\ngonna be a lot more specific\n\n972\n00:51:08,160 --> 00:51:09,980\nto particular subnets.\n\n973\n00:51:09,980 --> 00:51:12,920\nSo let's say for\nexample I want to add in New York.\n\n974\n00:51:14,120 --> 00:51:16,080\nAll right, so I've got a New York office.\n\n975\n00:51:16,080 --> 00:51:21,590\nAnd in the New York office all of\nmy computers are 10.1.220.0/24,\n\n976\n00:51:21,590 --> 00:51:24,512\nthat's the network that I use in New York.\n\n977\n00:51:26,250 --> 00:51:31,430\nAnd for them, I want them to\nauthenticate against Server 3.\n\n978\n00:51:31,430 --> 00:51:34,600\nMaybe Server 3 is up there\nin New York with them.\n\n979\n00:51:34,600 --> 00:51:39,670\nSo if you're on the 10.1.220 network,\nlog in to this server.\n\n980\n00:51:40,830 --> 00:51:43,620\nIf it's available, if it's not\navailable use whoever you can find.\n\n981\n00:51:43,620 --> 00:51:46,690\nBut if this server's available,\nthat's the one you want to use.\n\n982\n00:51:48,450 --> 00:51:53,180\nThen I can add another locale, and\nI'll call this one Los Angeles.\n\n983\n00:51:54,730 --> 00:51:59,620\nMaybe in the Los Angeles network\nI have several networks.\n\n984\n00:51:59,620 --> 00:52:05,424\nMaybe I have 10.1.240.0.\n\n985\n00:52:05,424 --> 00:52:07,182\nAnd maybe I've also got 10.1.250.0, and\n\n986\n00:52:07,182 --> 00:52:08,950\nwhatever other networks that\nI might have out there.\n\n987\n00:52:08,950 --> 00:52:11,600\nI come through and\nI specify each of those.\n\n988\n00:52:11,600 --> 00:52:14,830\nAnd for them, I want them to\nauthenticate against Server 1.\n\n989\n00:52:14,830 --> 00:52:17,210\nIf Server 1 is available,\nauthenticate against that one.\n\n990\n00:52:17,210 --> 00:52:19,061\nIf it's not,\njust find whoever you can, but\n\n991\n00:52:19,061 --> 00:52:20,880\nthat's the guy I want\nyou to normally go to.\n\n992\n00:52:20,880 --> 00:52:24,810\nAnd now if you're in New York,\nthat's who you're gonna hit.\n\n993\n00:52:24,810 --> 00:52:26,440\nIf you're in Los Angeles,\nthat's who you're gonna hit.\n\n994\n00:52:26,440 --> 00:52:27,850\nSo you're gonna reach out and pull those.\n\n995\n00:52:27,850 --> 00:52:31,574\nAnd apparently I must have hit\nmy Plus button too many times,\n\n996\n00:52:31,574 --> 00:52:33,260\nit created a little extra.\n\n997\n00:52:33,260 --> 00:52:35,150\nLet me just get rid of that.\n\n998\n00:52:35,150 --> 00:52:38,440\nI don't, oh, well,\nI'll just add it to this one.\n\n999\n00:52:38,440 --> 00:52:40,830\nThis one's 10.1.230.\n\n1000\n00:52:40,830 --> 00:52:41,970\nThat's the network that I'm on,\nit's gone ahead and added that for me.\n\n1001\n00:52:41,970 --> 00:52:43,730\nI'm just gonna edit that and\nchange its name.\n\n1002\n00:52:43,730 --> 00:52:44,820\nI'll call it Gainesville.\n\n1003\n00:52:46,080 --> 00:52:50,070\nSo in Gainesville, maybe I don't have\nany specific servers here at all and so\n\n1004\n00:52:50,070 --> 00:52:53,620\nI go in and just add everybody to that\none, or whatever it is that I want.\n\n1005\n00:52:53,620 --> 00:52:55,480\nSo I can punch those in.\n\n1006\n00:52:55,480 --> 00:52:58,760\nNow everybody knows what server to use.\n\n1007\n00:52:58,760 --> 00:53:00,005\nThese are called locales and\n\n1008\n00:53:00,005 --> 00:53:02,500\nthey're intended to be used\nwith geographic regions.\n\n1009\n00:53:02,500 --> 00:53:05,740\nIf these guys are all in the same\nbuilding, I don't really care what\n\n1010\n00:53:05,740 --> 00:53:08,850\nserver they authenticate against,\nit's all right here in the same building.\n\n1011\n00:53:08,850 --> 00:53:13,080\nBut if this is a wide area network, I\ndon't want them going across slow links to\n\n1012\n00:53:13,080 --> 00:53:16,710\nauthenticate when there's a server right\nthere in the building with them, right?\n\n1013\n00:53:16,710 --> 00:53:20,570\nSo we can use locales to teach\npeople what is near them,\n\n1014\n00:53:20,570 --> 00:53:23,410\nwhat they can reach out to and\nwhat they can get to, all right.\n\n1015\n00:53:23,410 --> 00:53:24,900\nThat's an important thing.\n\n1016\n00:53:24,900 --> 00:53:26,820\nWhen they first log in,\n\n1017\n00:53:26,820 --> 00:53:31,240\nthe very first time they're gonna reach\nout to whatever server you bind them to.\n\n1018\n00:53:31,240 --> 00:53:34,350\nBut when they log in,\nthey'll query the locales.\n\n1019\n00:53:34,350 --> 00:53:36,120\nAnd from then on out,\n\n1020\n00:53:36,120 --> 00:53:40,650\nthey'll always go to a server that's in\ntheir locale, unless it's not available.\n\n1021\n00:53:40,650 --> 00:53:43,530\nIf it's not available they'll reach\nout to whoever they can find.\n\n1022\n00:53:43,530 --> 00:53:46,160\nBut as long as it's available\nit'll keep them compartmentalized.\n\n1023\n00:53:46,160 --> 00:53:48,440\nThat's how we divide up our network right.\n\n1024\n00:53:48,440 --> 00:53:51,040\nIf you have a small company or\na medium company and\n\n1025\n00:53:51,040 --> 00:53:54,380\nyou're all in one building, you don't\ncare about this in the slightest.\n\n1026\n00:53:54,380 --> 00:53:57,980\nBut if you're a large company and you\nhave offices in many different cities, or\n\n1027\n00:53:57,980 --> 00:53:59,525\nif you're like a school board and\n\n1028\n00:53:59,525 --> 00:54:01,570\nyou've got a bunch of different\nschools around your county.\n\n1029\n00:54:02,570 --> 00:54:06,032\nEach school could have its own replica,\nand the machines in each school could\n\n1030\n00:54:06,032 --> 00:54:08,491\nauthenticate against the local\nreplica that school.\n\n1031\n00:54:08,491 --> 00:54:12,537\nThat would keep all the authentication\ntraffic off your wide area network.\n\n1032\n00:54:12,537 --> 00:54:15,480\nAnd now it would just be the replica\nreplicating with the master.\n\n1033\n00:54:15,480 --> 00:54:18,230\nThat's the only traffic you'd really\nsee over that wide area network.\n\n1034\n00:54:18,230 --> 00:54:19,220\nMakes things a lot more efficient.\n\n1035\n00:54:20,500 --> 00:54:24,520\nSo as far as setting up our masters and\nour replicas, configuring locales is kind\n\n1036\n00:54:24,520 --> 00:54:28,360\nof an important piece of that, if you've\ngot more than one geographic location.\n\n1037\n00:54:30,600 --> 00:54:35,380\nAll right, well that's about it for\ngetting Open Directories set up.\n\n1038\n00:54:35,380 --> 00:54:39,360\nIt's very powerful software, we\nare gonna see more about Open Directory.\n\n1039\n00:54:39,360 --> 00:54:42,990\nYou might have noticed that\nOpen Directory is a user database, and\n\n1040\n00:54:42,990 --> 00:54:46,070\nyet I never even created\na single user account.\n\n1041\n00:54:46,070 --> 00:54:48,940\nAnd that's because we're gonna do\na whole show on user accounts,\n\n1042\n00:54:48,940 --> 00:54:51,030\nit actually will probably\nbe the next episode.\n\n1043\n00:54:51,030 --> 00:54:53,118\n[LAUGH] We'll get a chance to\nsee those and how they work,\n\n1044\n00:54:53,118 --> 00:54:56,040\ncuz there's some special user accounts and\nthings we can do there.\n\n1045\n00:54:56,040 --> 00:54:58,260\nSo we're not done with Open Directory.\n\n1046\n00:54:58,260 --> 00:55:01,090\nBut as far as getting\nOpen Directory installed, up and\n\n1047\n00:55:01,090 --> 00:55:04,340\nrunning, backing it up and\nrestoring it, we are.\n\n1048\n00:55:04,340 --> 00:55:06,300\nWe've covered all of that in this episode.\n\n1049\n00:55:06,300 --> 00:55:09,340\nAnd that's really key stuff to just\ngetting the infrastructure in place and\n\n1050\n00:55:09,340 --> 00:55:10,050\ngetting it up and running.\n\n1051\n00:55:11,290 --> 00:55:14,570\nAll right, well that's a good spot for\nus to wrap this episode up.\n\n1052\n00:55:14,570 --> 00:55:18,015\nSo let me remind you guys,\nif you have questions on any of this,\n\n1053\n00:55:18,015 --> 00:55:20,880\nlive during the show you\ncan go to itpro.tv/live.\n\n1054\n00:55:20,880 --> 00:55:25,040\nAnd you'll see the chat room\nright beneath the video.\n\n1055\n00:55:25,040 --> 00:55:28,940\nPost you questions there,\nwe monitor and answer during the show.\n\n1056\n00:55:28,940 --> 00:55:32,227\nIf you have questions after the show,\nlike if you're watching this recorded,\n\n1057\n00:55:32,227 --> 00:55:33,460\nyou're not left out.\n\n1058\n00:55:33,460 --> 00:55:35,080\nYou can use our Q&A forums.\n\n1059\n00:55:35,080 --> 00:55:38,220\nAt the top of every page on itpro.tv\nyou'll see a link that says Q&A,\n\n1060\n00:55:38,220 --> 00:55:40,150\nit'll take you to the forums.\n\n1061\n00:55:40,150 --> 00:55:44,862\nPost your questions there,\nwe monitor and answer after the show.\n\n1062\n00:55:44,862 --> 00:55:48,380\nTake advantage of that resource.\n\n1063\n00:55:48,380 --> 00:55:49,019\nIt is there for you.\n\n1064\n00:55:49,019 --> 00:55:49,599\nAll right, well I hope you\nguys enjoyed today's episode.\n\n1065\n00:55:49,599 --> 00:55:53,117\nSigning of off ITProTV, I'm Don Pezet,\nand I'll see you next time.\n\n1066\n00:55:53,117 --> 00:55:58,201\n[MUSIC]\n\n1067\n00:55:58,201 --> 00:56:08,201\n[SOUND]\n\n",
          "vimeoId": "122114781"
        },
        {
          "description": null,
          "length": "4684",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-2-3-user_accounts-031615-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-2-3-user_accounts-031615-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-2-3-user_accounts-031615-1-sm.jpg",
          "title": "User Accounts",
          "transcript": "1\n00:00:00,000 --> 00:00:10,000\n[MUSIC]\n\n2\n00:00:13,024 --> 00:00:22,603\n[SOUND]\n\n3\n00:00:22,603 --> 00:00:32,586\n[MUSIC]\n\n4\n00:00:32,586 --> 00:00:33,680\nAll right.\n\n5\n00:00:33,680 --> 00:00:35,550\nGood morning, good afternoon and\ngood evening.\n\n6\n00:00:35,550 --> 00:00:38,460\nWelcome back to another\nepisode of ITProTV.\n\n7\n00:00:38,460 --> 00:00:40,040\nI'm your host Don Pizzette,\n\n8\n00:00:40,040 --> 00:00:43,990\nback again with another episode of\nApple Certified Technical Coordinator.\n\n9\n00:00:43,990 --> 00:00:47,090\nWe're diving right back into\nthe world of Mac OS Server today, and\n\n10\n00:00:47,090 --> 00:00:49,710\nwe're starting off with user accounts.\n\n11\n00:00:49,710 --> 00:00:51,410\nIf you've been watching\nall of our episodes,\n\n12\n00:00:51,410 --> 00:00:54,790\nin our last episode we were talking\nabout the Apple open directory and\n\n13\n00:00:54,790 --> 00:00:58,180\nhow we can set up\na centralized user database.\n\n14\n00:00:58,180 --> 00:01:01,290\nA user database is shared\nacross all of our computers so\n\n15\n00:01:01,290 --> 00:01:03,990\nthat when you log in to computer A or\ncomputer B or\n\n16\n00:01:03,990 --> 00:01:07,640\ncomputer C, it's the same user\naccount that you're using on each one.\n\n17\n00:01:07,640 --> 00:01:12,950\nIt's all synchronized, all nice in\none central location, easy to manage.\n\n18\n00:01:12,950 --> 00:01:15,430\nNow, if you watched that\nwhole episode there\n\n19\n00:01:15,430 --> 00:01:17,770\nmight have been a question in the back\nof your mind as you were thinking,\n\n20\n00:01:19,170 --> 00:01:22,100\nDon showed us how to set up\nthe centralized database but\n\n21\n00:01:22,100 --> 00:01:26,090\nhe never actually made any user accounts,\nand you're absolutely right.\n\n22\n00:01:26,090 --> 00:01:29,630\nThroughout that whole episode we never\nactually made the user account that is so\n\n23\n00:01:29,630 --> 00:01:31,280\nimportant to the Open Directory.\n\n24\n00:01:31,280 --> 00:01:32,550\nWe talked about how they authenticate.\n\n25\n00:01:32,550 --> 00:01:34,140\nWe talked about how to\nbuild up the server,\n\n26\n00:01:34,140 --> 00:01:38,220\nhow to get the Open Directory running,\nbut we never actually used it, and\n\n27\n00:01:38,220 --> 00:01:41,160\nthis episode here's where\nwe're going to use it.\n\n28\n00:01:41,160 --> 00:01:43,860\nSo what we're gonna do is we're gonna\ntake a look at these user accounts and\n\n29\n00:01:43,860 --> 00:01:47,090\nhow they function, what they do,\nthe different ways to setting them up, and\n\n30\n00:01:47,090 --> 00:01:51,980\nhow we use them on our workstations to\nachieve that truly centralized database.\n\n31\n00:01:51,980 --> 00:01:56,170\nNow in MacOS there's two\nprimary types of user accounts.\n\n32\n00:01:56,170 --> 00:01:57,880\nThere's actually I don't know five or\n\n33\n00:01:57,880 --> 00:02:00,890\nsix different types of user accounts but\nthere's two primary ones.\n\n34\n00:02:00,890 --> 00:02:04,968\nThere is what are called Local Users,\nand then there's Local Network Users.\n\n35\n00:02:04,968 --> 00:02:09,040\nAnd the name is a little bit confusing but\nlet me show you what I mean.\n\n36\n00:02:09,040 --> 00:02:12,200\nWhen I fire up the server app,\nwe get this screen, right?\n\n37\n00:02:12,200 --> 00:02:15,560\nThis is my general overview and in\nthe episode when we were setting up open\n\n38\n00:02:15,560 --> 00:02:20,490\ndirectory well, we did that all way down\nhere under advanced and Open Directory.\n\n39\n00:02:20,490 --> 00:02:22,850\nHere's where we came in to set that up and\n\n40\n00:02:22,850 --> 00:02:26,410\nafter we ran that setup wizard there\nreally wasn't much more to do in here,\n\n41\n00:02:26,410 --> 00:02:29,750\nother than maybe mess with locales\nif you need to configure those.\n\n42\n00:02:29,750 --> 00:02:32,635\nOr we did a little a little\nbit of archiving, right?\n\n43\n00:02:32,635 --> 00:02:34,795\nBackup and recoveries,\nwe did things like that.\n\n44\n00:02:34,795 --> 00:02:38,945\nBut, you don't see user accounts in here.\n\n45\n00:02:38,945 --> 00:02:44,185\nWell, user accounts are up here,\nunder the account section, up top.\n\n46\n00:02:44,185 --> 00:02:47,685\nThey're not nested under Open Directory\nand you might ask yourself, why not?\n\n47\n00:02:47,685 --> 00:02:51,230\nWhy not have it all combined right there\ninto one place where it makes sense and\n\n48\n00:02:51,230 --> 00:02:55,850\nthe reason is well, it's actually\nmore than one type of user account.\n\n49\n00:02:55,850 --> 00:02:58,460\nIt's not just open directory accounts.\n\n50\n00:02:58,460 --> 00:03:01,570\nWhen you click on Users,\nthe default thing for\n\n51\n00:03:01,570 --> 00:03:05,195\nit to do is to show you a list\nof all of the user accounts.\n\n52\n00:03:05,195 --> 00:03:09,045\nAnd if I hit that drop down box it'll\nshow the two types that I can filter by,\n\n53\n00:03:09,045 --> 00:03:12,155\nLocal Users and Local Network Users.\n\n54\n00:03:12,155 --> 00:03:16,225\nLocal users are the ones that we have\nthat are built into Mac OS already or\n\n55\n00:03:16,225 --> 00:03:18,972\nthat you can create yourself, right.\n\n56\n00:03:18,972 --> 00:03:22,862\nThese are the ones that are stored\nright here on your individual machine.\n\n57\n00:03:22,862 --> 00:03:26,142\nThey're not synchronized, there's no\nsharing that user account between\n\n58\n00:03:26,142 --> 00:03:30,856\ncomputers, there's no centralized name has\nbeen but right here on this one machine.\n\n59\n00:03:30,856 --> 00:03:34,626\nSo you'll see under my local users,\nI have a user called Help Desk.\n\n60\n00:03:34,626 --> 00:03:37,856\nWell, when I installed Yosemite\nin the installation wizard,\n\n61\n00:03:37,856 --> 00:03:40,986\nit had me create a user and\nI called it help desk.\n\n62\n00:03:40,986 --> 00:03:42,788\nIt made that user for me.\n\n63\n00:03:42,788 --> 00:03:47,638\nAnd if I go and make another user,\nif I go into System Preferences, and\n\n64\n00:03:47,638 --> 00:03:52,758\nI go to Users and Groups, I can come in\nhere and I can create new user accounts,\n\n65\n00:03:52,758 --> 00:03:56,578\nwe saw this in another episode, but\nI'll go ahead and do it real quick here.\n\n66\n00:03:56,578 --> 00:04:00,348\nWe can create a new account, and\nwhen I create that new account\n\n67\n00:04:00,348 --> 00:04:03,638\nthis is going to be a local\naccount right here on this system.\n\n68\n00:04:03,638 --> 00:04:06,408\nI'll create just a standard account,\nwe'll call it John Doe.\n\n69\n00:04:07,720 --> 00:04:10,470\nAnd we'll just assign him\na basic password, right?\n\n70\n00:04:10,470 --> 00:04:14,602\nSo we'll give him just a normal\npassword and there we go.\n\n71\n00:04:14,602 --> 00:04:16,890\nAll right.\nSo I just created John Doe,\n\n72\n00:04:16,890 --> 00:04:19,070\nJohn Doe is a local user.\n\n73\n00:04:19,070 --> 00:04:23,370\nIf I go to another Mac on my network\nit'll have no idea that John Doe exists.\n\n74\n00:04:23,370 --> 00:04:26,070\nAnd it can't use that account,\nit's on just this one machine,\n\n75\n00:04:26,070 --> 00:04:27,229\nthat's a local user account.\n\n76\n00:04:28,340 --> 00:04:31,510\nA local network user\naccount on the other hand,\n\n77\n00:04:31,510 --> 00:04:37,230\nthat one's not stored just on this Mac,\nit's stored in the open directory instead.\n\n78\n00:04:37,230 --> 00:04:41,970\nAnd if I change this local users dropdown\nbox over to local network users,\n\n79\n00:04:41,970 --> 00:04:44,040\nI'll see I've got an account\ncalled Don Pezet.\n\n80\n00:04:44,040 --> 00:04:47,400\nAnd that account resides\nin the open directory.\n\n81\n00:04:47,400 --> 00:04:50,050\nWhen I was in that system preference\nwindow here do you see that\n\n82\n00:04:50,050 --> 00:04:51,450\nDon Pezet account?\n\n83\n00:04:51,450 --> 00:04:54,420\nNo, it's not stored in\nthe local database on this Mac,\n\n84\n00:04:54,420 --> 00:04:56,000\nit's stored in the open directory.\n\n85\n00:04:56,000 --> 00:05:00,290\nJust like when I go over here and choose\nlocal network users I don't see John Doe\n\n86\n00:05:00,290 --> 00:05:04,810\nbecause he is not stored in the open\ndirectory, he's a local account.\n\n87\n00:05:04,810 --> 00:05:08,120\nNow actually, going back to local users\nI didn't see John Doe here either.\n\n88\n00:05:08,120 --> 00:05:11,135\nImportant thing to remember about the\nserver app is it doesn't always refresh\n\n89\n00:05:11,135 --> 00:05:13,800\nits screen in a reasonable amount of time.\n\n90\n00:05:13,800 --> 00:05:16,860\nSo sometimes you've got to go up here and\nhit View, and Refresh.\n\n91\n00:05:16,860 --> 00:05:18,520\nAnd there it is, John Doe just appeared.\n\n92\n00:05:18,520 --> 00:05:21,730\nSo you might have to refresh your\nscreen a little bit to see things.\n\n93\n00:05:21,730 --> 00:05:25,900\nBe careful about this because\nthe default view is all users and so\n\n94\n00:05:25,900 --> 00:05:27,460\nyou're seeing a mix.\n\n95\n00:05:27,460 --> 00:05:29,970\nA mixture of open directory accounts and\nlocal accounts.\n\n96\n00:05:29,970 --> 00:05:32,840\nAnd those local accounts won't\nwork on other systems and\n\n97\n00:05:32,840 --> 00:05:34,830\nit's easy to mix that up, right?\n\n98\n00:05:34,830 --> 00:05:37,580\nSo I almost always keep this on\nthe Local Network Users option so\n\n99\n00:05:37,580 --> 00:05:39,410\nI'm just seeing open directory accounts.\n\n100\n00:05:40,930 --> 00:05:44,350\nNow, what's the benefit of having\nthat open directory account?\n\n101\n00:05:44,350 --> 00:05:48,640\nWell, I can go to another Mac in\nmy building and I can log in and\n\n102\n00:05:48,640 --> 00:05:50,530\nI can log in with this account.\n\n103\n00:05:50,530 --> 00:05:52,240\nThis centralized account.\n\n104\n00:05:52,240 --> 00:05:55,050\nIf I change my password it's\nchanged here in the data base.\n\n105\n00:05:55,050 --> 00:05:57,970\nSo when I go to any other computer in\nthe building I can use my new password.\n\n106\n00:05:57,970 --> 00:05:59,377\nI don't have to do anything special,\nright?\n\n107\n00:05:59,377 --> 00:06:01,769\nThese are the benefits of\ncentral administration.\n\n108\n00:06:01,769 --> 00:06:06,570\nWell, in order for a client to support\nthat, we have to do what's called binding,\n\n109\n00:06:06,570 --> 00:06:09,380\nwe have to bind the client\nto the open directory.\n\n110\n00:06:10,380 --> 00:06:14,360\nNormally when you log in to\na Mac you see screen like this,\n\n111\n00:06:14,360 --> 00:06:16,180\nyou hit the power button on your Mac.\n\n112\n00:06:16,180 --> 00:06:21,370\nIt boots up and it shows the local users\nall in little circles like this, right?\n\n113\n00:06:21,370 --> 00:06:24,060\nAnd you'll have your picture\napparently on the cactus today.\n\n114\n00:06:24,060 --> 00:06:28,320\nAnd you click on it and you punch in\nyour password, and you log in, right?\n\n115\n00:06:28,320 --> 00:06:32,310\nThis is normal local authentication,\nall right.\n\n116\n00:06:32,310 --> 00:06:35,089\nAnd so I will just log in, and\nI'm logging in with that local user.\n\n117\n00:06:36,140 --> 00:06:42,060\nWell, if my machine is bound to an Open\nDirectory, I see a different option.\n\n118\n00:06:42,060 --> 00:06:46,910\nWhen I go back to this other Mac,\nthis Mac is bound to the Open Directory.\n\n119\n00:06:46,910 --> 00:06:50,350\nAnd, if I click on Help Desk to log in,\neverything looks like normal.\n\n120\n00:06:50,350 --> 00:06:53,150\nLooks just like the other Mac did, right?\n\n121\n00:06:53,150 --> 00:06:56,840\nBut if I hit this back arrow\non the user list screen,\n\n122\n00:06:56,840 --> 00:07:00,460\nin addition to all my local users,\nwe also see this.\n\n123\n00:07:00,460 --> 00:07:04,440\nIf you ever see the other icon right,\nit's three little silhouettes and\n\n124\n00:07:04,440 --> 00:07:05,860\nthe word other beneath it.\n\n125\n00:07:05,860 --> 00:07:09,050\nIf you see that icon that\nlet's you know that this Mac\n\n126\n00:07:09,050 --> 00:07:11,460\nis bound to a directory server, right?\n\n127\n00:07:11,460 --> 00:07:15,380\nNow that directory server doesn't\nhave to be Apple open directory.\n\n128\n00:07:15,380 --> 00:07:16,640\nOn the exam, it will be.\n\n129\n00:07:16,640 --> 00:07:20,010\nBut in real life it could be Microsoft's\nactive directory for Windows.\n\n130\n00:07:20,010 --> 00:07:23,740\nIt could be an open LDAP server\nrunning on any Unix or Linux system.\n\n131\n00:07:23,740 --> 00:07:28,740\nSo it doesn't have to be open directory,\nbut the open directory product itself is\n\n132\n00:07:28,740 --> 00:07:33,870\ncreated by Apple, it was modified from\nopen LDAP but it's supported by Apple.\n\n133\n00:07:33,870 --> 00:07:36,890\nSo if you have problems you know who you\ncan go out to, to get help from right?\n\n134\n00:07:36,890 --> 00:07:38,870\nSo that kind of helps out a lot.\n\n135\n00:07:38,870 --> 00:07:43,050\nSo if I choose other, it's gonna ask for\na name and a password.\n\n136\n00:07:43,050 --> 00:07:47,115\nNow, with a local user it shows me all\nthe little bubbles I see all my users.\n\n137\n00:07:47,115 --> 00:07:48,605\nWhy doesn't it do it here?\n\n138\n00:07:48,605 --> 00:07:50,295\nWell, your open directory or\n\n139\n00:07:50,295 --> 00:07:53,945\nwhatever your directory server is\nmight have thousands of users in it.\n\n140\n00:07:53,945 --> 00:07:56,405\nYou don't want thousands of circles on\nthe screen it'll take you forever to\n\n141\n00:07:56,405 --> 00:07:57,375\nfind a name.\n\n142\n00:07:57,375 --> 00:08:00,115\nSo you have to just type in the username.\n\n143\n00:08:00,115 --> 00:08:04,687\nSo I can log in here as\nthat Don Pezet account.\n\n144\n00:08:04,687 --> 00:08:08,518\nAnd I'm logging in with\nthe opened directory account,\n\n145\n00:08:08,518 --> 00:08:11,460\nnot an account right here on this machine.\n\n146\n00:08:11,460 --> 00:08:13,050\nIn fact once I'm in here,\n\n147\n00:08:13,050 --> 00:08:17,800\nI can go into my system preferences and\ninto the local users and groups and\n\n148\n00:08:17,800 --> 00:08:22,300\nI will not see that Don Pezet account\neven though I am logged in as Don Pezet.\n\n149\n00:08:23,800 --> 00:08:28,380\nIf I go up to my System Preferences and\nthen I'll go into Users and Groups.\n\n150\n00:08:30,260 --> 00:08:35,030\nAnd here I'm seeing my local users and\nnotice I do see Don Pezet and\n\n151\n00:08:35,030 --> 00:08:36,700\nwhat's the note beneath it?\n\n152\n00:08:36,700 --> 00:08:37,390\nNetwork.\n\n153\n00:08:37,390 --> 00:08:39,740\nIt's letting me know that's\nnot a local account,\n\n154\n00:08:39,740 --> 00:08:43,660\nit's not an account that exists\nright here, it's a network account.\n\n155\n00:08:43,660 --> 00:08:46,440\nI'm logged in with that user and\nI'm ready to go.\n\n156\n00:08:46,440 --> 00:08:49,340\nNotice how my other users,\nwell, if I unlock this screen.\n\n157\n00:08:49,340 --> 00:08:52,360\nLet me unlock it real quick.\n\n158\n00:08:52,360 --> 00:08:54,113\nWith my help desk account.\n\n159\n00:08:56,295 --> 00:08:57,142\nThere we go.\n\n160\n00:08:57,142 --> 00:08:59,870\nWhen I choose a normal user,\nlike a local user.\n\n161\n00:09:01,380 --> 00:09:02,570\nHere I'll just whip one up real quick.\n\n162\n00:09:02,570 --> 00:09:04,280\nI'll make a Jane Doe.\n\n163\n00:09:08,372 --> 00:09:11,900\nAll right, so here's going to be\njust a regular, old, local user.\n\n164\n00:09:11,900 --> 00:09:14,980\nI'll go and create that account,\napparently my passwords don't match.\n\n165\n00:09:18,910 --> 00:09:20,010\nThere we go.\n\n166\n00:09:20,010 --> 00:09:23,670\nWe create a local user, if you look at\nyour options, you have Reset Password,\n\n167\n00:09:23,670 --> 00:09:27,260\nAllow user to administer this computer,\nEnable parental controls, right.\n\n168\n00:09:27,260 --> 00:09:32,210\nThe things that you expect to see for\na normal local user.\n\n169\n00:09:32,210 --> 00:09:35,740\nWhen I choose Don Pezet,\nI have basically the same settings\n\n170\n00:09:35,740 --> 00:09:38,040\nexcept I do have a little\nbit more like contact card,\n\n171\n00:09:38,040 --> 00:09:41,445\na mobile account and those are settings\nthat are because I'm logged in as that\n\n172\n00:09:41,445 --> 00:09:45,655\nuser,but as far as the user appears,\nmost of those settings are the same.\n\n173\n00:09:45,655 --> 00:09:49,455\nI can't turn on parental controls, because\nparental controls aren't supported for\n\n174\n00:09:49,455 --> 00:09:50,235\nthese network accounts,\n\n175\n00:09:50,235 --> 00:09:54,560\nthey're designed for home use, but\notherwise it looks basically the same,\n\n176\n00:09:54,560 --> 00:09:58,040\nthat's why that little note right there\ntelling me network is so important.\n\n177\n00:09:58,040 --> 00:10:00,510\nI might have a thousand\nusers in my Open Directory.\n\n178\n00:10:00,510 --> 00:10:05,290\nThey're not gonna show up here unless I'm\nactually logged in as that user, right?\n\n179\n00:10:05,290 --> 00:10:08,610\nNow how did this Mac know to\nsupport the Open Directory?\n\n180\n00:10:08,610 --> 00:10:10,002\nAnd the answer is, I told it.\n\n181\n00:10:10,002 --> 00:10:14,974\nThat process of telling a Mac to use\na directory server is called binding, and\n\n182\n00:10:14,974 --> 00:10:19,272\nyou can tell if a Mac is bound by,\nwell on the log in screen, right?\n\n183\n00:10:19,272 --> 00:10:22,894\nIf you see other that let's you know or\nright here in our users and\n\n184\n00:10:22,894 --> 00:10:24,181\ngroups preferences.\n\n185\n00:10:24,181 --> 00:10:28,385\nYou can go down to log in options and\nit will show it right at the bottom.\n\n186\n00:10:28,385 --> 00:10:32,534\nSee how this one says network account\nserver and it's got a server name listed.\n\n187\n00:10:32,534 --> 00:10:36,075\nThat's my Mac OS server that's\nsitting there running the server app.\n\n188\n00:10:36,075 --> 00:10:40,660\nIt's got it and it's got a green circle\nletting me know the connection is healthy.\n\n189\n00:10:40,660 --> 00:10:43,380\nI see the server and\nI can communicate with it.\n\n190\n00:10:43,380 --> 00:10:46,180\nIf the server was offline or if I\ncouldn't get to it it'd be a red circle.\n\n191\n00:10:46,180 --> 00:10:49,050\nIt would let me know that I have\nsome kind of a connectivity issue.\n\n192\n00:10:49,050 --> 00:10:50,770\nMaybe I'm on a laptop and I'm at home.\n\n193\n00:10:50,770 --> 00:10:53,060\nAnd so I can't connect to that server.\n\n194\n00:10:53,060 --> 00:10:55,100\nOr maybe the server is down.\n\n195\n00:10:55,100 --> 00:10:58,540\nMaybe I've got network, you know DNS\nsettings are wrong or something like that.\n\n196\n00:10:58,540 --> 00:11:01,589\nThose are all things that could\ncontribute to that not working.\n\n197\n00:11:03,510 --> 00:11:05,750\nBut this other Mac that I've got this one,\n\n198\n00:11:05,750 --> 00:11:08,120\nthis one's not bound to\na directory service.\n\n199\n00:11:08,120 --> 00:11:10,980\nWhen I logged in I didn't\nhave the other item.\n\n200\n00:11:10,980 --> 00:11:15,110\nSo if I go into system preferences on\nthis one and I go down to users and\n\n201\n00:11:15,110 --> 00:11:18,300\ngroups I logged in with a local user.\n\n202\n00:11:18,300 --> 00:11:22,350\nI don't see any network users\nbecause I'm not bound to a directory\n\n203\n00:11:23,420 --> 00:11:29,530\nI'm gonna unlock this screen real quick\nand then if I choose login options,\n\n204\n00:11:29,530 --> 00:11:33,270\nnotice down here network account server,\nand it's got a join button.\n\n205\n00:11:33,270 --> 00:11:35,800\nThat's the last one,\nthe last hint that we get.\n\n206\n00:11:35,800 --> 00:11:38,870\nWe're not bound to a server because it's\noffering for us to bind to one right now\n\n207\n00:11:40,120 --> 00:11:43,910\nYou can do that join button, and\nyou can connect to a directory server.\n\n208\n00:11:43,910 --> 00:11:46,690\nNow your Mac will scan the network and\ntry and find it.\n\n209\n00:11:46,690 --> 00:11:49,240\nIf it's on a remote network,\nyou'll have to type in the name.\n\n210\n00:11:49,240 --> 00:11:52,060\nBut if it can scan it and find it,\nit'll show up here in the list.\n\n211\n00:11:52,060 --> 00:11:54,240\nAnd I'm not seeing one.\n\n212\n00:11:54,240 --> 00:11:57,080\nAnd the reason I'm not seeing one is\nI haven't done a couple of little\n\n213\n00:11:57,080 --> 00:11:59,710\nprerequisites to get things set up right.\n\n214\n00:11:59,710 --> 00:12:02,240\nIf you're gonna be binding\nto the directory server\n\n215\n00:12:02,240 --> 00:12:05,010\nYou've gotta make sure that you\ncan see it on the network and\n\n216\n00:12:05,010 --> 00:12:09,030\nthat you're able to do DNS lookups for\nthe name of that directory.\n\n217\n00:12:09,030 --> 00:12:12,520\nSo there's a few things that I need to\ncheck on this machine before I go and\n\n218\n00:12:12,520 --> 00:12:13,710\njoin to a directory server.\n\n219\n00:12:13,710 --> 00:12:18,470\nI'm gonna go back to my system preferences\nand I'm gonna go into my network\n\n220\n00:12:18,470 --> 00:12:21,870\npreference and\nhere I'm just gonna check a few things.\n\n221\n00:12:21,870 --> 00:12:26,380\nFirst off,\nI need to be able to do DNS lookups to get\n\n222\n00:12:26,380 --> 00:12:29,520\nmy Open Directory information,\nto know where that server is and\n\n223\n00:12:29,520 --> 00:12:31,990\nthe other replicas and\nall that good stuff, all right?\n\n224\n00:12:31,990 --> 00:12:37,140\nWell my server is a DNS server,\nand if I go into its DNS records\n\n225\n00:12:37,140 --> 00:12:42,250\nI can see that it's got entries for that\nosx-server1 and its IP address, and so on.\n\n226\n00:12:42,250 --> 00:12:43,590\nSo that's there.\n\n227\n00:12:43,590 --> 00:12:49,350\nAnd my Open Directory The directory\nI created is lab.itpro.tv.\n\n228\n00:12:49,350 --> 00:12:53,280\nAnd I can see in DNS I've got\nthe lab.itpro.tv zone right\n\n229\n00:12:53,280 --> 00:12:54,320\nhere on this DNS server.\n\n230\n00:12:55,490 --> 00:12:58,810\nBut this client might be using\nsomebody else for DNS so\n\n231\n00:12:58,810 --> 00:13:01,510\nI need to verify that I'm using\na valid server that has that.\n\n232\n00:13:01,510 --> 00:13:06,610\nSo if I go into my advanced screen\nI can go to my DNS tab and I'm set.\n\n233\n00:13:06,610 --> 00:13:08,820\nI am set to use that Open Directory\nservice, so that's good.\n\n234\n00:13:08,820 --> 00:13:10,780\nSo I should be able to do lookups there.\n\n235\n00:13:10,780 --> 00:13:12,530\nAnd my search domain.\n\n236\n00:13:12,530 --> 00:13:16,570\nYou should add the name of\nyour Open Directory domain\n\n237\n00:13:16,570 --> 00:13:18,200\ninto your search domain list.\n\n238\n00:13:18,200 --> 00:13:19,950\nYou don't have to have it as\nthe only thing like I do.\n\n239\n00:13:19,950 --> 00:13:21,590\nYou could have other domains in there.\n\n240\n00:13:21,590 --> 00:13:23,780\nBut you want to make sure that\nyou've got that search domain in,\n\n241\n00:13:23,780 --> 00:13:25,030\nthat'll help with single name lookups.\n\n242\n00:13:25,030 --> 00:13:26,570\nAll right.\n\n243\n00:13:26,570 --> 00:13:30,160\nSo it looks like I'm good there and\non TCP/IP level I've got an IP address in\n\n244\n00:13:30,160 --> 00:13:33,570\nthe same network as that server, so\nI should have good connectivity.\n\n245\n00:13:33,570 --> 00:13:35,560\nWe can always test that\nwith the network utility.\n\n246\n00:13:37,240 --> 00:13:41,970\nSo I'll fire up the network utility and\nI'm gonna try and ping the server.\n\n247\n00:13:41,970 --> 00:13:43,310\nWich is, let's see, 10.211.55.200.\n\n248\n00:13:43,310 --> 00:13:47,590\nSo I'm just gonna do a quick ping and\n\n249\n00:13:47,590 --> 00:13:52,560\nI'm getting that the host is down which\nmeans I might have the wrong IP address.\n\n250\n00:13:52,560 --> 00:13:54,175\nLet me verify that IP address.\n\n251\n00:13:54,175 --> 00:13:56,500\n10.211.55.200.\nSo I've got the right IP but\n\n252\n00:13:56,500 --> 00:14:02,690\nI'm not able to ping this server so\nthat is a indicator of a problem.\n\n253\n00:14:02,690 --> 00:14:05,690\nWhen I went to bind to directory\nI didn't see the other server so\n\n254\n00:14:05,690 --> 00:14:07,530\nthat's a good indicator that,\n\n255\n00:14:07,530 --> 00:14:11,680\nwell if I can't even see it I'm not gonna\nbe able to join that directory am I?\n\n256\n00:14:11,680 --> 00:14:15,340\nThat's gonna be a problem, so it's\nalways a good idea to establish network\n\n257\n00:14:15,340 --> 00:14:20,530\nconnectivity first, before we go and start\nto try and bind it, because you might\n\n258\n00:14:20,530 --> 00:14:23,460\nfind the bind fails and you're scratching\nyour head trying to figure that out,\n\n259\n00:14:23,460 --> 00:14:26,230\nwhen the problem is something really\nbasic like network connectivity.\n\n260\n00:14:26,230 --> 00:14:27,680\nNow this is a virtual machine and\n\n261\n00:14:27,680 --> 00:14:30,610\nI imagine I'm plugged into the wrong\nnetwork, so let me just verify, yeah I am.\n\n262\n00:14:30,610 --> 00:14:33,160\nSo let me just switch networks real quick,\nand\n\n263\n00:14:33,160 --> 00:14:38,190\nI'm gonna give that just a moment to take\neffect And then I'll retry that ping.\n\n264\n00:14:39,620 --> 00:14:40,160\nThere we go.\n\n265\n00:14:40,160 --> 00:14:41,840\nNow I'm pinging that server,\nso that's good.\n\n266\n00:14:41,840 --> 00:14:43,510\nSo that's definitely a good test.\n\n267\n00:14:43,510 --> 00:14:45,760\nAnother thing to test, not just ping.\n\n268\n00:14:45,760 --> 00:14:47,020\nBut test a name lookup.\n\n269\n00:14:47,020 --> 00:14:48,830\nI'm gonna go into a lookup, and\n\n270\n00:14:48,830 --> 00:14:55,070\nI'm gonna make sure that I can\nlookup osx-serverone.lab.itpro.tv.\n\n271\n00:14:55,070 --> 00:14:56,780\nThat's the name of that other server.\n\n272\n00:14:56,780 --> 00:14:59,300\nI just wanna make sure I\ncan look it up by name.\n\n273\n00:14:59,300 --> 00:15:01,900\nSo I'll do that and\nhopefully get a response.\n\n274\n00:15:01,900 --> 00:15:06,330\nIf I don't get a response like I didn't\nhere, that indicates a problem too.\n\n275\n00:15:06,330 --> 00:15:09,250\nNow if you're trying to bind\nto a directory server and\n\n276\n00:15:09,250 --> 00:15:13,550\nyou're on the same network as that server,\nyou can actually bind without DNS.\n\n277\n00:15:13,550 --> 00:15:16,700\nIt'll find it, it'll use Bonjour and\nlocate the server.\n\n278\n00:15:16,700 --> 00:15:20,450\nBut if you're on two separate networks,\nyou've got to have DNS connectivity or\n\n279\n00:15:20,450 --> 00:15:25,310\nDNS lookup capability, before you can\ndo a true buy in and have it work.\n\n280\n00:15:25,310 --> 00:15:28,150\nSo I'm gonna have to\nsquare that issue away.\n\n281\n00:15:28,150 --> 00:15:32,990\nI could test just a regular old\nlookup like a test looking up google.\n\n282\n00:15:32,990 --> 00:15:34,910\nAnd see how that one works.\n\n283\n00:15:34,910 --> 00:15:35,610\nAnd we can look that up.\n\n284\n00:15:35,610 --> 00:15:38,050\nAnd I can see that none of\nmy DNS quarries are working.\n\n285\n00:15:38,050 --> 00:15:41,230\nI'm gonna go verify that my\nDNS settings are correct.\n\n286\n00:15:41,230 --> 00:15:42,500\nI've had this problem on Macs, and\n\n287\n00:15:42,500 --> 00:15:45,880\nactually if you've watched all the shows I\nknow it happened in an earlier show, too.\n\n288\n00:15:45,880 --> 00:15:49,160\nWhere sometimes you modify your DNS\nserver settings and they don't stay.\n\n289\n00:15:49,160 --> 00:15:51,520\nThey don't stay in place for some reason.\n\n290\n00:15:51,520 --> 00:15:53,761\nSo, I'm just gonna double check that.\n\n291\n00:15:53,761 --> 00:15:56,894\nOh, you know, also I still have this\nscreen open which can be a problem.\n\n292\n00:15:56,894 --> 00:15:58,240\nSo let's see.\n\n293\n00:15:58,240 --> 00:16:02,759\n10.211.55.200 is set.\n\n294\n00:16:02,759 --> 00:16:05,680\nAnd I'm just going to make sure that I\nhit apply here so that all takes affect.\n\n295\n00:16:08,220 --> 00:16:09,940\nAnd then we'll just double check again,\nright.\n\n296\n00:16:09,940 --> 00:16:12,710\nTest and re test untill you make sure\nyou've got that good connectivity.\n\n297\n00:16:12,710 --> 00:16:14,660\nThen you'll be able to bind just fine.\n\n298\n00:16:16,450 --> 00:16:17,430\nAll right, so that took affect.\n\n299\n00:16:17,430 --> 00:16:19,090\nWe'll just try that look up again.\n\n300\n00:16:19,090 --> 00:16:20,560\nThere we go.\nI'm able to look up Google now.\n\n301\n00:16:20,560 --> 00:16:24,290\nLet's try and\nlook up osx-server1.lab.itpro.tv.\n\n302\n00:16:24,290 --> 00:16:25,570\nAnd there we go.\n\n303\n00:16:27,930 --> 00:16:29,310\nAll right.\n\n304\n00:16:29,310 --> 00:16:32,930\nSo I'm able to ping the server and\nI'm able to do DNS lookups.\n\n305\n00:16:32,930 --> 00:16:34,920\nNow I should be able to\nbind to it just fine.\n\n306\n00:16:35,980 --> 00:16:37,980\nSo I'm gonna close out of this.\n\n307\n00:16:37,980 --> 00:16:40,850\nAnd then back in my system preferences\nI'm going to go to down to users and\n\n308\n00:16:40,850 --> 00:16:44,650\ngroups, and I'll go to login options and\n\n309\n00:16:44,650 --> 00:16:47,880\nunder network account server,\nI'm going to hit that join button.\n\n310\n00:16:47,880 --> 00:16:50,160\nSo, now it's time to join\nto the open directory.\n\n311\n00:16:50,160 --> 00:16:52,340\nAnd let's see if it found it for\nme, it sure did.\n\n312\n00:16:52,340 --> 00:16:52,910\nYeah.\n\n313\n00:16:52,910 --> 00:16:55,540\nIf you see it in the drop down box,\nthat means you automatically found it.\n\n314\n00:16:55,540 --> 00:16:58,930\nAnd if it's on the same network as you,\nyou should automatically find it.\n\n315\n00:16:58,930 --> 00:16:59,530\nRight?\n\n316\n00:16:59,530 --> 00:17:04,750\nIf it's not in there,iIn the servers\non a different network that's expected.\n\n317\n00:17:04,750 --> 00:17:07,200\nBut if it's not in there and\nthe servers in the same network\n\n318\n00:17:07,200 --> 00:17:09,050\nthen you know you've got an issue and\nyou gotta square it away.\n\n319\n00:17:09,050 --> 00:17:11,710\nSo that's how I knew I had an issue here.\n\n320\n00:17:11,710 --> 00:17:13,500\nSo I'll go ahead and use that server.\n\n321\n00:17:13,500 --> 00:17:16,870\nAnd I'll hit okay,\nit's gonna connect up to it.\n\n322\n00:17:16,870 --> 00:17:20,240\nThat server,\nwhen we installed Open Directory on it,\n\n323\n00:17:20,240 --> 00:17:24,250\nit created a Certificate Authority,\na CA, so\n\n324\n00:17:24,250 --> 00:17:28,180\nthat it could issue out SSL\ncertificates to secure communications.\n\n325\n00:17:28,180 --> 00:17:31,680\nWell, the problem with that is\nit's basically its own CA and\n\n326\n00:17:31,680 --> 00:17:34,150\nno one in the entire world trusts it.\n\n327\n00:17:34,150 --> 00:17:37,020\nSo when I go to bind to that server,\nit says hey,\n\n328\n00:17:37,020 --> 00:17:39,470\nthat's a certificate authority,\ndo you trust it?\n\n329\n00:17:39,470 --> 00:17:42,750\nBecause if so, we can trust all\nthe certificates that have issues, and\n\n330\n00:17:42,750 --> 00:17:43,310\nyou want that.\n\n331\n00:17:43,310 --> 00:17:45,710\nYou want your clients\nto trust the servers so\n\n332\n00:17:45,710 --> 00:17:47,810\nthat you can issue security certificates.\n\n333\n00:17:47,810 --> 00:17:48,520\nSo I'm gonna go ahead and\n\n334\n00:17:48,520 --> 00:17:53,350\nhit trust, that'll add that certificate to\nmy certificates to honor and trust it, and\n\n335\n00:17:53,350 --> 00:17:56,470\nas soon as this is done,\nI'm gonna be bound to the directory.\n\n336\n00:17:56,470 --> 00:17:57,460\nAnd there we go.\n\n337\n00:17:57,460 --> 00:18:01,194\nNetwork account server is\nosx-server1.lab.itpro.tv and\n\n338\n00:18:01,194 --> 00:18:02,650\nI've got a green light.\n\n339\n00:18:03,730 --> 00:18:06,580\nNow things aren't gonna look any different\nright now because I'm logged in with\n\n340\n00:18:06,580 --> 00:18:08,040\na local user.\n\n341\n00:18:08,040 --> 00:18:09,170\nBut if I log out.\n\n342\n00:18:11,947 --> 00:18:15,980\nOn my login screen I should\nsee an other option.\n\n343\n00:18:15,980 --> 00:18:18,370\nNow here it's asking for\nthe password for helpdesk.\n\n344\n00:18:18,370 --> 00:18:20,190\nI actually have to hit my back arrow.\n\n345\n00:18:20,190 --> 00:18:22,200\nAnd once I go back out to the main screen.\n\n346\n00:18:22,200 --> 00:18:23,390\nI should see other.\n\n347\n00:18:23,390 --> 00:18:25,330\nNow, it may not appear right away.\n\n348\n00:18:25,330 --> 00:18:27,500\nAnd there's two things\nthat can happen here.\n\n349\n00:18:27,500 --> 00:18:30,340\nOne, sometimes you just have to wait and\nyou'll see it.\n\n350\n00:18:30,340 --> 00:18:31,960\nThat's exactly what it did for\nme right there.\n\n351\n00:18:31,960 --> 00:18:33,130\nI just waited a moment.\n\n352\n00:18:33,130 --> 00:18:34,600\nAnd then other appeared.\n\n353\n00:18:34,600 --> 00:18:37,410\nWhat happens is when you go to that\nbubble screen where you see the different\n\n354\n00:18:37,410 --> 00:18:38,300\nuser accounts.\n\n355\n00:18:38,300 --> 00:18:41,720\nIt's actually reaching out to the\ndirectory server to verify connectivity.\n\n356\n00:18:41,720 --> 00:18:44,760\nAnd that's why it takes a moment for\nthat bubble to appear.\n\n357\n00:18:44,760 --> 00:18:46,920\nIt does that even if you\nwere already logged in.\n\n358\n00:18:46,920 --> 00:18:49,210\nSo, sometimes you just\nhave to give it a moment.\n\n359\n00:18:49,210 --> 00:18:53,470\nIf it still doesn't come up,\nsometimes when you bound to a directory,\n\n360\n00:18:53,470 --> 00:18:56,530\nyou need to reboot the client\nbefore it fully takes effect.\n\n361\n00:18:56,530 --> 00:18:59,370\nI see that most commonly when\nthe directory servers on a different\n\n362\n00:18:59,370 --> 00:19:00,560\nnetwork than you.\n\n363\n00:19:00,560 --> 00:19:05,562\nHere in this case, works pretty\nstraight forward and there it is.\n\n364\n00:19:05,562 --> 00:19:08,650\nAll right, so now that I've got this\nother box, I can choose that and\n\n365\n00:19:08,650 --> 00:19:12,410\nI should be able to log in with\none of my domain accounts.\n\n366\n00:19:12,410 --> 00:19:17,540\nAnd I've only got one account in\nthat realm so I'll log in as that.\n\n367\n00:19:17,540 --> 00:19:22,430\n@donpezet and\nI'll punch in my password, and\n\n368\n00:19:22,430 --> 00:19:25,510\nI should be able to login now\nwith that network account, right.\n\n369\n00:19:25,510 --> 00:19:29,940\nSo getting bound to the open directory\nis pretty easy, not a big deal there,\n\n370\n00:19:29,940 --> 00:19:31,960\nget connected and you're in business.\n\n371\n00:19:31,960 --> 00:19:35,040\nThen it's up to your users\nto do what they want.\n\n372\n00:19:35,040 --> 00:19:37,090\nNow, notice some differences here.\n\n373\n00:19:37,090 --> 00:19:38,692\nI'm logged into that Don Pezet account.\n\n374\n00:19:38,692 --> 00:19:41,500\nI've got my little mountain background.\n\n375\n00:19:41,500 --> 00:19:44,570\nOver here I'm logged in as Don Pezet and\nI've got my space background.\n\n376\n00:19:45,930 --> 00:19:47,850\nIt is the same user account.\n\n377\n00:19:47,850 --> 00:19:50,820\nI'm logged in with the exact same user\naccount on both of these machine.\n\n378\n00:19:50,820 --> 00:19:53,740\nIf I change the password on one\nit'll change for the other.\n\n379\n00:19:53,740 --> 00:19:58,640\nBut you're profile doesn't follow\nyou from machine to machine.\n\n380\n00:19:58,640 --> 00:20:01,560\nSo on this machine I\nset a space background,\n\n381\n00:20:01,560 --> 00:20:03,680\nthis other machine\ndoesn't know about that.\n\n382\n00:20:03,680 --> 00:20:05,990\nIt just gave me a brand new profile.\n\n383\n00:20:05,990 --> 00:20:10,020\nMy programs, my settings,\nmy wallpaper right,\n\n384\n00:20:10,020 --> 00:20:12,890\nthat stuff doesn't follow\nyou from machine to machine.\n\n385\n00:20:12,890 --> 00:20:16,990\nIf you want that type of functionality,\nthat's where iCloud comes in.\n\n386\n00:20:16,990 --> 00:20:20,280\nAnd other services like that that\ncan synchronize your settings.\n\n387\n00:20:20,280 --> 00:20:23,280\nBut otherwise,\non each machine it's your user account.\n\n388\n00:20:23,280 --> 00:20:25,170\nIt's the same account you always had.\n\n389\n00:20:25,170 --> 00:20:27,250\nBut it's a new profile.\n\n390\n00:20:27,250 --> 00:20:30,700\nIt's a new profile, so\nyou basically kind of lose your settings.\n\n391\n00:20:30,700 --> 00:20:33,080\nNow, you can use things like\nthe Migration Wizard to try and\n\n392\n00:20:33,080 --> 00:20:35,160\nimport your settings over and\nbring stuff in.\n\n393\n00:20:35,160 --> 00:20:36,740\nYou can do things like that.\n\n394\n00:20:36,740 --> 00:20:40,720\nBut normally, you sit down, you do your\nwork, and you gotta do wallpaper, but\n\n395\n00:20:40,720 --> 00:20:41,284\nyou get over it.\n\n396\n00:20:41,284 --> 00:20:45,800\n[LAUGH] So, that's basically it for\ngetting bound to the open directory.\n\n397\n00:20:45,800 --> 00:20:49,650\nNow, the user account that I used here\nis existing in the open directory, and\n\n398\n00:20:49,650 --> 00:20:51,500\nI created that for the show.\n\n399\n00:20:51,500 --> 00:20:54,430\nI wanna walk you guys through that\nprocess of how we create user\n\n400\n00:20:54,430 --> 00:20:56,550\naccounts in the open directory and\nhow we set up their options.\n\n401\n00:20:56,550 --> 00:20:58,740\nThere's a lot of bells and\nwhistles for tweaking those.\n\n402\n00:20:58,740 --> 00:21:00,850\nSo we'll get a chance to see those too.\n\n403\n00:21:00,850 --> 00:21:02,950\nBut, I'm a little short\non time on this segment.\n\n404\n00:21:02,950 --> 00:21:04,610\nSo let's pause here and take a break.\n\n405\n00:21:04,610 --> 00:21:07,950\nAnd when we get back, we're gonna\ncreate some open directory accounts.\n\n406\n00:21:07,950 --> 00:21:08,810\nStay tuned.\n\n407\n00:21:08,810 --> 00:21:11,456\nWe'll be back after this.\n\n408\n00:21:11,456 --> 00:21:18,238\n[SOUND] [SOUND] All right,\nwelcome back, everybody.\n\n409\n00:21:18,238 --> 00:21:21,963\nSo in the last segment, we got a chance\nto see how to bind our work stations to\n\n410\n00:21:21,963 --> 00:21:25,170\nan open directory to have\na centralized user database.\n\n411\n00:21:25,170 --> 00:21:27,980\nWell, if we want that centralized\nuser database to be useful,\n\n412\n00:21:27,980 --> 00:21:29,620\nwe probably need some users in it.\n\n413\n00:21:29,620 --> 00:21:33,122\nSo let's take a look at how we\ncreate those user accounts.\n\n414\n00:21:33,122 --> 00:21:36,070\nAl lright to start, we need to go to our\nserver that's running open directory.\n\n415\n00:21:36,070 --> 00:21:39,050\nYou can do this on the server or\nyou can run server app and\n\n416\n00:21:39,050 --> 00:21:41,980\nremotely connect if you haven't\nwatch our remote management episode.\n\n417\n00:21:41,980 --> 00:21:43,680\nWe showed how to do that previously.\n\n418\n00:21:43,680 --> 00:21:46,200\nBut you need to connect one way or\nanother.\n\n419\n00:21:46,200 --> 00:21:49,030\nOnce your in there,\nyou can go to accounts and users, and\n\n420\n00:21:49,030 --> 00:21:51,590\nhere's where we're going\nto create those accounts.\n\n421\n00:21:51,590 --> 00:21:55,330\nNow, be careful because it\nwill default to all users.\n\n422\n00:21:55,330 --> 00:21:58,860\nAnd when you're in the all users screen\nyou're seeing local and network users.\n\n423\n00:21:58,860 --> 00:22:00,770\nAnd so when you go to add\nyou're gonna have to pick and\n\n424\n00:22:00,770 --> 00:22:02,270\nit gets a little confusing.\n\n425\n00:22:02,270 --> 00:22:06,630\nI always make sure that I drop this\ndown and choose local network users so\n\n426\n00:22:06,630 --> 00:22:09,060\nthat I know I'm working\nopen directory accounts.\n\n427\n00:22:09,060 --> 00:22:09,780\nAll right.\n\n428\n00:22:09,780 --> 00:22:13,270\nNow, if I want to create\na user account in here,\n\n429\n00:22:13,270 --> 00:22:16,517\nI'll have to do is go down to the bottom\nand I've got my little + symbol and\n\n430\n00:22:16,517 --> 00:22:20,780\nI can hit +, and see how the type\ndefaulted to Local Network User?\n\n431\n00:22:20,780 --> 00:22:21,580\nI can drop that down and\n\n432\n00:22:21,580 --> 00:22:25,880\nchoose Local User if I want, but\nit follows whatever the drop down box\n\n433\n00:22:25,880 --> 00:22:29,220\nis on the Server App is what it's gonna\nmirror here inside of this Windows.\n\n434\n00:22:29,220 --> 00:22:31,270\nSo we always leave it on\nlocal network user and\n\n435\n00:22:31,270 --> 00:22:33,610\nwe don't have to worry\nabout getting confused.\n\n436\n00:22:33,610 --> 00:22:37,230\nThis will help me make sure that I\ncreate the account in the right place.\n\n437\n00:22:37,230 --> 00:22:38,590\nI'm going to create a user account here.\n\n438\n00:22:38,590 --> 00:22:40,430\nJust like a user account\non a local system,\n\n439\n00:22:40,430 --> 00:22:42,520\nwe have a couple of values\nthat we need to provide.\n\n440\n00:22:42,520 --> 00:22:46,470\nThere's actually a lot more values here\nthan what we see on a normal local user.\n\n441\n00:22:46,470 --> 00:22:48,880\nSo, let's walk through each of these and\nwhat they do.\n\n442\n00:22:48,880 --> 00:22:52,230\nI'll start off with a full name,\nand just like in a local user,\n\n443\n00:22:52,230 --> 00:22:53,750\nthis is the display name.\n\n444\n00:22:53,750 --> 00:22:56,030\nThis is what end users will see\nwhen they see their own name.\n\n445\n00:22:56,030 --> 00:22:59,520\nAnd so I'll create an account for\nChris Poland.\n\n446\n00:22:59,520 --> 00:23:01,200\nAll right?\nSo, I'll punch that in.\n\n447\n00:23:01,200 --> 00:23:04,080\nNow, the account name is next.\n\n448\n00:23:04,080 --> 00:23:07,040\nThe user will typically\nnot see the account name.\n\n449\n00:23:07,040 --> 00:23:09,780\nThe account name does exist, and\nthey can use it if they want.\n\n450\n00:23:09,780 --> 00:23:11,750\nBut it's usually hidden from them.\n\n451\n00:23:11,750 --> 00:23:15,340\nThe account name is the unix\nstyle account name.\n\n452\n00:23:15,340 --> 00:23:18,150\nAnd it's what the servers\nactually using in the background.\n\n453\n00:23:18,150 --> 00:23:22,270\nIn the background, it doesn't like\nthings like having spaces in a name.\n\n454\n00:23:22,270 --> 00:23:26,430\nSo these full names actually are just\na property associated with an account,\n\n455\n00:23:26,430 --> 00:23:28,360\nnot the account itself.\n\n456\n00:23:28,360 --> 00:23:32,140\nSo the account name has to\nfollow the old unix rules.\n\n457\n00:23:32,140 --> 00:23:35,100\nWhen you click on the field it'll\nautomatically populate the value for you.\n\n458\n00:23:35,100 --> 00:23:37,890\nSo see how it just made chrispoland for\nme, and see how it took the space out?\n\n459\n00:23:37,890 --> 00:23:41,850\nAll right, knocked that space out of\nthere because unix doesn't support spaces\n\n460\n00:23:41,850 --> 00:23:42,380\nin the file name.\n\n461\n00:23:42,380 --> 00:23:45,760\nIn fact, unix supports lowercase and\n\n462\n00:23:45,760 --> 00:23:50,250\nuppercase letters,\nit also supports hyphens, dashes,\n\n463\n00:23:50,250 --> 00:23:54,450\nwhich are basically hyphens,\nunderscores, and periods, all right?\n\n464\n00:23:54,450 --> 00:23:58,457\nThose are the basic characters that we can\nhave in there, so basically uppercase and\n\n465\n00:23:58,457 --> 00:24:01,740\nlowercase letters, numbers,\nunderscores, hyphens, periods.\n\n466\n00:24:01,740 --> 00:24:06,601\nNo other special characters, you can't do,\nat symbols, or exclamation points, or\n\n467\n00:24:06,601 --> 00:24:10,928\nany of that And you can tell, just if\nyou try and type any of those like @, #,\n\n468\n00:24:10,928 --> 00:24:13,341\n$,%, it's not letting me type those.\n\n469\n00:24:13,341 --> 00:24:18,960\nBut if I type- or _ or .,\nlets me type those just fine, right.\n\n470\n00:24:18,960 --> 00:24:21,680\nSo, it won't let you put\ninvalid characters in there.\n\n471\n00:24:21,680 --> 00:24:23,680\nIt did make everything lower case, and\n\n472\n00:24:23,680 --> 00:24:26,000\nthat's because the usernames\naren't case sensitive.\n\n473\n00:24:26,000 --> 00:24:29,200\nSo if I want to capitalize the c or\nwhatever, I can.\n\n474\n00:24:29,200 --> 00:24:30,120\nBut it doesn't matter.\n\n475\n00:24:30,120 --> 00:24:32,255\nIt doesn't actually care about\nthe case on the username.\n\n476\n00:24:32,255 --> 00:24:35,720\nPassword's a different story, but\nusername, it doesn't care about the case.\n\n477\n00:24:36,910 --> 00:24:40,449\nSo I'll just leave this as chrispoland,\nor maybe I'll just change it so\n\n478\n00:24:40,449 --> 00:24:41,500\nit's just cpoland.\n\n479\n00:24:41,500 --> 00:24:43,270\nRight, first initial and last name.\n\n480\n00:24:43,270 --> 00:24:45,672\nA lot of people use that naming convention\nand you're welcome to change it.\n\n481\n00:24:47,410 --> 00:24:50,070\nIf I want to enable using\nthis user as a contact,\n\n482\n00:24:50,070 --> 00:24:54,910\nI probably wanna have some additional\ninformation, things like email address.\n\n483\n00:24:54,910 --> 00:24:57,481\nAnd so it's got a value here where\nI can punch in an email address.\n\n484\n00:24:57,481 --> 00:25:03,407\nSo maybe it's we'll just say\nit's like chris@lab.itpro.tv.\n\n485\n00:25:03,407 --> 00:25:04,650\nI can punch in the email address.\n\n486\n00:25:04,650 --> 00:25:06,660\nIt's an optional field,\nyou don't have to have that.\n\n487\n00:25:06,660 --> 00:25:10,640\nThe Full Name and Account Name,\nyou have to have, those are required.\n\n488\n00:25:10,640 --> 00:25:12,690\nEmail address is optional.\n\n489\n00:25:12,690 --> 00:25:15,590\nIn fact, the only other one of these\nfields that's required is the Password.\n\n490\n00:25:15,590 --> 00:25:19,390\nYou've gotta provide a password, otherwise\nit wont let you create the account.\n\n491\n00:25:19,390 --> 00:25:21,720\nNow if you know what password you\nwanna use, you can just type it here.\n\n492\n00:25:21,720 --> 00:25:24,300\nYou do have to type it twice,\nso you got a Verify field.\n\n493\n00:25:24,300 --> 00:25:26,660\nIf you don't know what\npassword you wanna use,\n\n494\n00:25:26,660 --> 00:25:28,790\nyou can have it\nautomatically generate one.\n\n495\n00:25:28,790 --> 00:25:29,990\nYou have the Password Assistant,\n\n496\n00:25:29,990 --> 00:25:32,620\nthat's what this little key\nbutton is over here to the side.\n\n497\n00:25:32,620 --> 00:25:33,810\nIf you click that,\n\n498\n00:25:33,810 --> 00:25:37,450\nit brings up the Password Assistant\nwhich uses the smallest font possible.\n\n499\n00:25:37,450 --> 00:25:41,160\nAnd you can go in here and it will\nhelp you generate a secure password.\n\n500\n00:25:41,160 --> 00:25:43,810\nIt's got several different\nmodes you can pick from.\n\n501\n00:25:43,810 --> 00:25:48,690\nSo, the default is this memorable mode,\nwhere it tries to do a combination of\n\n502\n00:25:48,690 --> 00:25:54,640\ndictionary words and random characters to\ngenerate something that's good and secure.\n\n503\n00:25:54,640 --> 00:25:56,790\nAnd you can tweak it however you want.\n\n504\n00:25:56,790 --> 00:25:59,920\nYou can change, it gives you different\nsuggestions here if you drop it down.\n\n505\n00:25:59,920 --> 00:26:03,160\nSo you can pick one that's\na little more easy to remember,\n\n506\n00:26:03,160 --> 00:26:04,710\nwhatever it is that you need there.\n\n507\n00:26:04,710 --> 00:26:06,430\nOr you can just choose to make your own.\n\n508\n00:26:08,420 --> 00:26:11,740\nI'm gonna make my own because there's\nno way I'll remember the other ones.\n\n509\n00:26:11,740 --> 00:26:12,420\nSo, I'll punch that in.\n\n510\n00:26:13,460 --> 00:26:17,400\nThe next option is Allow user\nto administer the server.\n\n511\n00:26:17,400 --> 00:26:20,830\nIn the open directory, user accounts\nare just user accounts by default.\n\n512\n00:26:20,830 --> 00:26:22,900\nThey're just regular standard users.\n\n513\n00:26:22,900 --> 00:26:25,169\nIf I want them to be able to\nadminister the open directory.\n\n514\n00:26:25,169 --> 00:26:28,541\nIn other words, fire up the server app,\nand connect to this server, and\n\n515\n00:26:28,541 --> 00:26:31,930\ngo in to the open directory settings and\nstart to modify things.\n\n516\n00:26:31,930 --> 00:26:33,640\nThen, I need to check off this box.\n\n517\n00:26:34,640 --> 00:26:36,920\nSo If I want Chris to be an admin,\nI'll check that.\n\n518\n00:26:36,920 --> 00:26:40,570\nIf I don't, if I just need him to be\na regular user, then I don't check it.\n\n519\n00:26:40,570 --> 00:26:45,290\nNow if I make him an admin, he's going\nto be allowed to administer this server,\n\n520\n00:26:45,290 --> 00:26:45,790\nright.\n\n521\n00:26:45,790 --> 00:26:48,660\nHe's not gonna be able to\nadminister work stations.\n\n522\n00:26:48,660 --> 00:26:51,650\nIf he logs into a client that\n's bound to this directory,\n\n523\n00:26:51,650 --> 00:26:53,100\nhe's still just a regular user over there.\n\n524\n00:26:53,100 --> 00:26:57,655\nI would have to give him permissions on\nthat machine to be an administrator also,\n\n525\n00:26:57,655 --> 00:26:58,310\nright.\n\n526\n00:26:58,310 --> 00:27:00,590\nSo it is managed on a per machine basis.\n\n527\n00:27:02,240 --> 00:27:04,130\nNext we have the Home Folder.\n\n528\n00:27:04,130 --> 00:27:07,418\nBy default,\na user account will have a Home Folder.\n\n529\n00:27:07,418 --> 00:27:10,640\nIt's in \\users\\whatever their name is,\nright.\n\n530\n00:27:10,640 --> 00:27:14,440\nEvery local user has one,\nbut this is a network user.\n\n531\n00:27:14,440 --> 00:27:18,100\nIf this is a standard network user,\nare they ever gonna sit down and\n\n532\n00:27:18,100 --> 00:27:19,710\nlog in on this server?\n\n533\n00:27:19,710 --> 00:27:20,740\nProbably not, right.\n\n534\n00:27:20,740 --> 00:27:24,790\nA lot of times these users never even\nknow where the server is, better yet,\n\n535\n00:27:24,790 --> 00:27:26,490\nsit down and log onto it.\n\n536\n00:27:26,490 --> 00:27:31,040\nSo if that's the case, they probably\ndon't even need a home folder.\n\n537\n00:27:31,040 --> 00:27:33,810\nSo I can drop this down and\nI can choose None.\n\n538\n00:27:33,810 --> 00:27:37,700\nIf I say none, that means the user\ndoesn't get a home folder and\n\n539\n00:27:37,700 --> 00:27:41,470\nthey're only able to access\nthe services on this server.\n\n540\n00:27:41,470 --> 00:27:44,960\nSo if I'm running DNS and\nopen directory, if I'm running mail,\n\n541\n00:27:44,960 --> 00:27:47,780\nor contacts, messaging, whatever.\n\n542\n00:27:47,780 --> 00:27:49,045\nThey can connect and use that stuff.\n\n543\n00:27:49,045 --> 00:27:51,850\nBut they couldn't come and\nsit down on this server and log in.\n\n544\n00:27:51,850 --> 00:27:54,110\nAnd we typically don't want that anyway.\n\n545\n00:27:54,110 --> 00:27:57,680\nSo, most of our users will actually be\nset up this way with no home folder.\n\n546\n00:27:57,680 --> 00:28:01,045\nNow, when they log in on a workstation,\nthey'll get a home folder.\n\n547\n00:28:01,045 --> 00:28:03,435\nBut they won't have a home\nfolder here on the server.\n\n548\n00:28:03,435 --> 00:28:05,252\nIf I leave that as Local Only,\n\n549\n00:28:05,252 --> 00:28:08,825\nwell they'll get a home folder\nright here on this server.\n\n550\n00:28:08,825 --> 00:28:11,832\nAnd they could actually log in as\na standard user on this server and\n\n551\n00:28:11,832 --> 00:28:13,205\nbe able to access the system.\n\n552\n00:28:15,325 --> 00:28:19,615\nIf they have a user profile, we can set\na limit as to how big it's allowed to get.\n\n553\n00:28:19,615 --> 00:28:23,800\nSo maybe I wanna cap him at,\nwe'll set it to 1 GB.\n\n554\n00:28:23,800 --> 00:28:26,250\nSo, I don't want his home\nfolder getting over one gig.\n\n555\n00:28:26,250 --> 00:28:29,670\nThat stops one user from monopolizing\nthe storage space on the system,\n\n556\n00:28:29,670 --> 00:28:31,600\nyou can just impose a,\nit's called a quota.\n\n557\n00:28:33,950 --> 00:28:35,370\nWe can set Keywords.\n\n558\n00:28:35,370 --> 00:28:36,630\nIf I want to be able to search and\n\n559\n00:28:36,630 --> 00:28:40,210\nfind this user, well, if I've only got\na handful of users, it's no big deal.\n\n560\n00:28:40,210 --> 00:28:41,820\nBut, if I've got thousands or\n\n561\n00:28:41,820 --> 00:28:45,250\ntens of thousands of users,\nit can be challenging to find them.\n\n562\n00:28:45,250 --> 00:28:49,870\nSo I might come up with tags\nlike third grade or whatever.\n\n563\n00:28:49,870 --> 00:28:51,220\nMaybe I've got students.\n\n564\n00:28:51,220 --> 00:28:52,850\nAnd so\nI wanna find all the third grade students.\n\n565\n00:28:52,850 --> 00:28:55,330\nI can search for\nthe third grade tag and I'll find him.\n\n566\n00:28:55,330 --> 00:28:57,680\nAnd you can just type in\nthe different keywords you want.\n\n567\n00:28:57,680 --> 00:28:58,920\nSeparate them with spaces and\n\n568\n00:28:58,920 --> 00:29:01,380\njust punch them all in there and\nthat will give you something to search by.\n\n569\n00:29:02,920 --> 00:29:07,310\nAnd then, any general notes that you\nchoose to store along with the account.\n\n570\n00:29:07,310 --> 00:29:14,730\nI can say,\nCreated by Don Pezet on 3/16/2015, right?\n\n571\n00:29:14,730 --> 00:29:16,080\nSo, punch in a little bit of data.\n\n572\n00:29:16,080 --> 00:29:17,770\nWhatever it is that you choose\nto put there in the Notes.\n\n573\n00:29:20,300 --> 00:29:24,710\nThe only other value that we can change\non this screen is their icon up top.\n\n574\n00:29:24,710 --> 00:29:27,900\nAnd if you click on it, you'll see\nyou can pick from different icons.\n\n575\n00:29:27,900 --> 00:29:30,120\nIt's not immediately evident\nthat you can do that, so\n\n576\n00:29:30,120 --> 00:29:32,630\na lot of people don't\neven bother with this.\n\n577\n00:29:32,630 --> 00:29:35,000\nBut you can go in instead well,\nwe'll make him a fortune cookie.\n\n578\n00:29:35,000 --> 00:29:35,500\nSo there we go.\n\n579\n00:29:36,960 --> 00:29:40,650\nI'll hit Create and\nnow I've got another network account.\n\n580\n00:29:40,650 --> 00:29:43,610\nSo I got Chris Poland and\nI can go to any workstation\n\n581\n00:29:43,610 --> 00:29:46,730\nthat was bound to this directory and\nI can log in as Chris.\n\n582\n00:29:46,730 --> 00:29:51,740\nAnd Chris will get his own profile on that\nsystem and he can work along just fine.\n\n583\n00:29:51,740 --> 00:29:55,060\nAnd then, at the end of the day, he can\nlog out, go to another computer and login.\n\n584\n00:29:55,060 --> 00:29:57,040\nAnd it'll all work just fine, all right.\n\n585\n00:29:57,040 --> 00:29:59,510\nSo pretty straight forward\ncreating the user account.\n\n586\n00:29:59,510 --> 00:30:02,730\nOnce it's created, you can edit\nthe majority of those settings.\n\n587\n00:30:02,730 --> 00:30:04,100\nIf you just double-click on the user,\n\n588\n00:30:04,100 --> 00:30:09,050\nyou can go right back in, not all of the\nsettings are there, but most of them are.\n\n589\n00:30:09,050 --> 00:30:11,640\nNotice how the Password\nfield is not there.\n\n590\n00:30:11,640 --> 00:30:15,130\nAnd that's because we can reset their\npassword, but we can't just go in and\n\n591\n00:30:15,130 --> 00:30:17,340\nimmediately type it right here.\n\n592\n00:30:17,340 --> 00:30:20,000\nThe user Account Name is one of\nthe only things that can't be changed.\n\n593\n00:30:20,000 --> 00:30:21,920\nSo, that's a fixed field.\n\n594\n00:30:21,920 --> 00:30:25,180\nIf you want to change their user account,\nwell, it won't let you do it here.\n\n595\n00:30:25,180 --> 00:30:28,350\nYou really have to create a new account,\nthe user Account Name.\n\n596\n00:30:28,350 --> 00:30:29,572\nThe Full Name you can change though.\n\n597\n00:30:29,572 --> 00:30:32,900\nThat doesn't really matter, all right.\n\n598\n00:30:32,900 --> 00:30:35,656\nWe'll see group membership too,\nI'll talk about Groups a little bit later.\n\n599\n00:30:35,656 --> 00:30:38,230\nBut otherwise the account\nis right there all right.\n\n600\n00:30:38,230 --> 00:30:41,390\nAnd you can see the keyword that I set\nit's right there so I can use that and\n\n601\n00:30:41,390 --> 00:30:42,350\nadd more if I need to.\n\n602\n00:30:45,770 --> 00:30:49,460\nAll right, now if I just need to create\none user account, I do it just like that.\n\n603\n00:30:49,460 --> 00:30:53,420\nI hit the plus sign down here,\nI run through the little wizard, done.\n\n604\n00:30:53,420 --> 00:30:58,010\nBut what if I need to create hundreds or\nthousands of user accounts?\n\n605\n00:30:58,010 --> 00:31:02,270\nWell this method is not necessarily\nthe best way to go about it, right?\n\n606\n00:31:02,270 --> 00:31:07,180\nSo Apple does have where we can\nimport user accounts from a file.\n\n607\n00:31:07,180 --> 00:31:09,730\nYou might have a database that\nalready has, like if you're a school,\n\n608\n00:31:09,730 --> 00:31:13,290\nyou know what students are gonna be\ncoming in on the first day of school.\n\n609\n00:31:13,290 --> 00:31:15,090\nSo you've got them in\nsome kind of database.\n\n610\n00:31:16,140 --> 00:31:19,800\nWell, you can export\nthat into a text file and\n\n611\n00:31:19,800 --> 00:31:24,380\nimport it into the server to create all\nthe other user accounts that you need.\n\n612\n00:31:24,380 --> 00:31:25,620\nIt's not terribly difficult.\n\n613\n00:31:26,870 --> 00:31:27,960\nLet me clarify that.\n\n614\n00:31:27,960 --> 00:31:31,820\nIt's not terribly difficult, but\nit's not terribly well documented either.\n\n615\n00:31:31,820 --> 00:31:35,060\nApple has a help page for it,\nthey haven't updated it for Yosemite,\n\n616\n00:31:35,060 --> 00:31:40,050\nso the help page is\nstill tied to Mavericks.\n\n617\n00:31:40,050 --> 00:31:44,320\nBut it hasn't changed in Yosemite, so\nthe Mavericks page we can use just fine.\n\n618\n00:31:44,320 --> 00:31:45,870\nBut if I pull this up here real quick.\n\n619\n00:31:47,090 --> 00:31:50,000\nI'll show you the page and the link\nto it will be in the shows notes, so\n\n620\n00:31:50,000 --> 00:31:52,070\nyou guys will have access to this later.\n\n621\n00:31:52,070 --> 00:31:56,170\nBut basically they tell you how you can\ncreate a simple text file that contains\n\n622\n00:31:56,170 --> 00:32:00,680\nall the information you need to be\nable to import users into the system.\n\n623\n00:32:00,680 --> 00:32:06,167\nAnd let me just get to the part\nwhere they show it here.\n\n624\n00:32:06,167 --> 00:32:07,084\nHere we go.\n\n625\n00:32:07,084 --> 00:32:10,920\nSo, basically, you start off a file\nwith a little bit of a header, and\n\n626\n00:32:10,920 --> 00:32:15,670\nthe header is identifying what\ninformation you're about to feed server.\n\n627\n00:32:15,670 --> 00:32:20,630\nAnd then, after that, you have user\naccount information, one per line, okay?\n\n628\n00:32:20,630 --> 00:32:25,200\nNow, the documentation on their website,\nI find, is a little unnecessarily complex,\n\n629\n00:32:25,200 --> 00:32:29,200\nso let me show you guys this in practice\nand it's actually not so bad, okay?\n\n630\n00:32:29,200 --> 00:32:33,780\nI whipped up a quick example, and I'll\npost this along with the Show Notes also,\n\n631\n00:32:33,780 --> 00:32:35,770\nso you guys have it for\nyour own reference.\n\n632\n00:32:35,770 --> 00:32:40,230\nBut if I wanted to create a bunch\nof user accounts in this system,\n\n633\n00:32:40,230 --> 00:32:45,420\nI would fire up a utility like\nText Edit and I would start to type in.\n\n634\n00:32:45,420 --> 00:32:51,910\nLet me make this nice and\nbig, so we can all read it.\n\n635\n00:32:51,910 --> 00:32:53,340\nThere we go.\n\n636\n00:32:53,340 --> 00:32:55,560\nStart typing something like this,\nall right?\n\n637\n00:32:55,560 --> 00:33:00,580\nThe first few blocks here, these are hex\naddresses, hexadecimal addresses.\n\n638\n00:33:00,580 --> 00:33:03,220\nAnd they're identifying\nthings like the fact that I'm\n\n639\n00:33:03,220 --> 00:33:05,960\npressing a carriage return\nin between each record.\n\n640\n00:33:05,960 --> 00:33:09,040\nSo whenever it sees me, press Enter.\n\n641\n00:33:09,040 --> 00:33:11,660\nThat means I went from one user\naccount to the next user account.\n\n642\n00:33:11,660 --> 00:33:14,790\nAnd another one of these\nindicates that I'm using colons as\n\n643\n00:33:14,790 --> 00:33:17,180\nthe delimiter between fields, all right?\n\n644\n00:33:17,180 --> 00:33:19,230\nSo that's what these values do.\n\n645\n00:33:19,230 --> 00:33:21,140\nThere's really no need to change them, so\n\n646\n00:33:21,140 --> 00:33:24,880\nthat's something you just kind of save as\na template and reuse over and over again.\n\n647\n00:33:25,950 --> 00:33:28,960\nThe next thing is,\nI tell it what I'm creating.\n\n648\n00:33:28,960 --> 00:33:31,570\nand I've got dsRecTypeStandard.\n\n649\n00:33:31,570 --> 00:33:33,190\nSo, it's a standard record type.\n\n650\n00:33:33,190 --> 00:33:36,610\nAnd the record type I'm\ncreating are Users.\n\n651\n00:33:36,610 --> 00:33:38,850\nThe only other one we\nreally use is groups.\n\n652\n00:33:38,850 --> 00:33:40,450\nSo, you're either creating users or\ngroups.\n\n653\n00:33:40,450 --> 00:33:42,100\nThat's what I'm telling you.\n\n654\n00:33:42,100 --> 00:33:45,500\nThen I'm saying for\neach user account that I create,\n\n655\n00:33:45,500 --> 00:33:49,100\nI'm providing three properties, right?\n\n656\n00:33:49,100 --> 00:33:53,250\nThree properties for each user account and\nthose properties are the record name,\n\n657\n00:33:53,250 --> 00:33:59,190\nthat's the user name, the password, and\nthe real name, that's the full name.\n\n658\n00:33:59,190 --> 00:34:00,660\nThat's all I'm giving it.\n\n659\n00:34:00,660 --> 00:34:02,490\nWell, what about all the other stuff?\n\n660\n00:34:02,490 --> 00:34:06,320\nIn that webpage I showed you, Apple was\nimporting like seven different settings.\n\n661\n00:34:06,320 --> 00:34:10,150\nWell you can import things like what\nyou want their user ID number to be,\n\n662\n00:34:10,150 --> 00:34:16,000\nwhat groups you want them to be in, you\ncan import what shelf prompt you want them\n\n663\n00:34:16,000 --> 00:34:19,670\nto use, if they use bash or\nCSA, or whatever.\n\n664\n00:34:19,670 --> 00:34:22,680\nBut, most users don't care\nabout any of that, and so\n\n665\n00:34:22,680 --> 00:34:26,820\na lot of it you can leave off, and\nthe system will automatically generate it.\n\n666\n00:34:26,820 --> 00:34:28,130\nRight, it will generate it for us.\n\n667\n00:34:28,130 --> 00:34:29,720\nWhen we were in that user wizard,\n\n668\n00:34:29,720 --> 00:34:33,480\nwhen I added a user, remember what I said\nwere the fields that we had to provide?\n\n669\n00:34:33,480 --> 00:34:36,510\nFull name, user name, password.\n\n670\n00:34:36,510 --> 00:34:38,030\nThat's all I'm providing right here.\n\n671\n00:34:38,030 --> 00:34:39,520\nI'm not providing any other data.\n\n672\n00:34:39,520 --> 00:34:41,560\nI could, I could add email or\n\n673\n00:34:41,560 --> 00:34:43,890\nwhatever else it is that I\nwanted to add and provide that.\n\n674\n00:34:43,890 --> 00:34:46,780\nBut at a minimum,\nthese are the fields that I need.\n\n675\n00:34:46,780 --> 00:34:48,550\nAnd then after that first line,\n\n676\n00:34:48,550 --> 00:34:53,770\nnow that it knows what I'm about to give\nit, I provide a user account on each line.\n\n677\n00:34:53,770 --> 00:34:55,970\nAnd I'm providing it in\nthe same order as here.\n\n678\n00:34:55,970 --> 00:34:57,750\nRecord name, that's the username.\n\n679\n00:34:57,750 --> 00:35:02,088\nAnd so I've got dmustaine or nmenza,\nright, these are the usernames.\n\n680\n00:35:02,088 --> 00:35:07,020\nThen the password, and so I do a :\nfollowed by what I want their password to\n\n681\n00:35:07,020 --> 00:35:13,130\nbe, then another : followed by what I want\ntheir real name or their full name to be.\n\n682\n00:35:13,130 --> 00:35:14,490\nAnd so here, it's written out.\n\n683\n00:35:14,490 --> 00:35:16,910\nAnd if I had some other field\nthat I wanted to provide,\n\n684\n00:35:16,910 --> 00:35:20,400\nI would just add another colon and\nprovide that value right there.\n\n685\n00:35:20,400 --> 00:35:23,590\nAnd you just keep going on and on, and on.\n\n686\n00:35:23,590 --> 00:35:27,730\nThis file could have thousands\nof user accounts in it.\n\n687\n00:35:27,730 --> 00:35:29,370\nAs long as it was arranged like this.\n\n688\n00:35:30,780 --> 00:35:33,706\nOnce that's done, you can save the file,\nI'll go ahead and save it.\n\n689\n00:35:36,381 --> 00:35:39,400\nAnd I'll just call this my Userimport.\n\n690\n00:35:39,400 --> 00:35:41,350\nAnd the file extension doesn't matter.\n\n691\n00:35:41,350 --> 00:35:46,318\nI do wanna just save it as plain old text\nand this defaults to doing, rich text, but\n\n692\n00:35:46,318 --> 00:35:49,785\nactually I think if I force it\nto do txt it'll do it for me.\n\n693\n00:35:52,444 --> 00:35:54,110\nAnd, oh no, it still wants to do rtf.\n\n694\n00:35:54,110 --> 00:35:58,470\nShoot.\nI can't remember how to\n\n695\n00:35:58,470 --> 00:36:00,290\nforce this thing to do regular text.\n\n696\n00:36:00,290 --> 00:36:02,090\nIt wants to save in all the fancy formats.\n\n697\n00:36:02,090 --> 00:36:02,750\nYou know what I'm gonna do?\n\n698\n00:36:02,750 --> 00:36:05,580\nLet me, I just wanna make sure\nthat I don't do anything too\n\n699\n00:36:05,580 --> 00:36:10,250\ncrazy special in this file, so I'm gonna\ndrop the to the old Unix editor here and\n\n700\n00:36:10,250 --> 00:36:14,750\ndo it this way real quick.\n\n701\n00:36:14,750 --> 00:36:15,970\nAnd so I'm just gonna edit a file.\n\n702\n00:36:15,970 --> 00:36:19,570\nI'll edit,\nI'm gonna call it UserImport.txt.\n\n703\n00:36:19,570 --> 00:36:23,560\nAnd I'll insert all that data right there.\n\n704\n00:36:25,080 --> 00:36:25,900\nThere we go.\n\n705\n00:36:25,900 --> 00:36:29,550\nSo now, I've got a nice just plain\nold text file called UserImport.txt\n\n706\n00:36:29,550 --> 00:36:30,970\nwith that data that I just showed you.\n\n707\n00:36:32,510 --> 00:36:37,050\nBack in my server manager,\nwe can import those user accounts.\n\n708\n00:36:37,050 --> 00:36:38,550\nNow, you won't see the option here.\n\n709\n00:36:38,550 --> 00:36:41,920\nIt's not under the gear or all the places\nthat you'd normally think it would be.\n\n710\n00:36:41,920 --> 00:36:45,210\nInstead, it's nested up\ntop in the manage menu.\n\n711\n00:36:45,210 --> 00:36:46,440\nSo, in the server app,\n\n712\n00:36:46,440 --> 00:36:50,310\nif you go up to the manage menu,\nyou'll see import accounts from file.\n\n713\n00:36:50,310 --> 00:36:55,310\nAnd you can choose that and then just pick\nthe text file that contains that data.\n\n714\n00:36:55,310 --> 00:36:57,990\nNow, I'm gonna pick that user import file.\n\n715\n00:36:57,990 --> 00:37:01,580\nNotice this little gotcha right here,\nthough.\n\n716\n00:37:01,580 --> 00:37:03,980\nSee how the type default's\nthe local account?\n\n717\n00:37:03,980 --> 00:37:06,660\nIf I import it like it is right now,\nit's gonna create all local users and\n\n718\n00:37:06,660 --> 00:37:07,580\nthat's not what I want.\n\n719\n00:37:07,580 --> 00:37:09,260\nI want local network users.\n\n720\n00:37:09,260 --> 00:37:13,040\nSo I gotta make sure that I choose that\nlocal network accounts, otherwise,\n\n721\n00:37:13,040 --> 00:37:14,660\nI'm gonna have a problem.\n\n722\n00:37:14,660 --> 00:37:17,550\nAnd then you need to provide your\ndirectory admin and password so\n\n723\n00:37:17,550 --> 00:37:18,980\nthat it can bring that in.\n\n724\n00:37:18,980 --> 00:37:21,900\nI've saved mine in the keychain, so\nit automatically populated that for me.\n\n725\n00:37:23,660 --> 00:37:25,210\nSo I'll go ahead and hit import.\n\n726\n00:37:25,210 --> 00:37:28,470\nAnd it's gonna run in the background and\nstart importing those users.\n\n727\n00:37:28,470 --> 00:37:31,060\nAnd once it's done, there they are.\n\n728\n00:37:31,060 --> 00:37:33,720\nI can see Dave Mustane, David and so on.\n\n729\n00:37:33,720 --> 00:37:35,990\nThose users have been imported.\n\n730\n00:37:35,990 --> 00:37:38,190\nTheir ready to rock and off we go.\n\n731\n00:37:38,190 --> 00:37:40,310\nSo, if you need to create\nhundreds of users,\n\n732\n00:37:40,310 --> 00:37:43,540\nthousands of users,\nvery easy to do it that way, right?\n\n733\n00:37:43,540 --> 00:37:45,780\nWe get the users imported,\nand now you're in business.\n\n734\n00:37:47,400 --> 00:37:49,360\nOkay, so one those users are in there.\n\n735\n00:37:49,360 --> 00:37:53,010\nI kinda set all of their passwords\nto password one, two, three.\n\n736\n00:37:53,010 --> 00:37:57,430\nWell, I could reach out to those users and\nsay, hey guys, the next time you login,\n\n737\n00:37:57,430 --> 00:37:59,520\nI need you to go ahead and\nchange your password to something else.\n\n738\n00:37:59,520 --> 00:38:02,620\nThey'll leave it as password one, two,\nthree, or people will know what it is.\n\n739\n00:38:02,620 --> 00:38:06,860\nAnd then we can just count on them\nbeing good, conscientious users.\n\n740\n00:38:06,860 --> 00:38:11,010\nTo go in and change that password,\nand live a secure life.\n\n741\n00:38:11,010 --> 00:38:12,970\nBut I think we all know\nwhat happens there.\n\n742\n00:38:12,970 --> 00:38:15,700\nIf you give a user a default\npassword that's super easy,\n\n743\n00:38:15,700 --> 00:38:16,630\nthey'll just stick with it.\n\n744\n00:38:16,630 --> 00:38:17,960\nThey'll stick with it forever.\n\n745\n00:38:17,960 --> 00:38:20,070\nUntil you force them to change it.\n\n746\n00:38:20,070 --> 00:38:22,840\nSo one of the next things\nthat I wanna show you guys,\n\n747\n00:38:22,840 --> 00:38:25,920\nis how to do a password policy, right?\n\n748\n00:38:25,920 --> 00:38:29,430\nTo put a password policy in place that\nforces users to change their password,\n\n749\n00:38:29,430 --> 00:38:33,290\nor makes them use a more secure\npassword when the time comes.\n\n750\n00:38:33,290 --> 00:38:35,850\nThere's a lot of different ways\nthat you can go about doing that.\n\n751\n00:38:35,850 --> 00:38:38,140\nWhen you look at the individual user here,\n\n752\n00:38:38,140 --> 00:38:42,140\nlike if I pull up Dave Mustaine,\nthere's not much in the way here that I\n\n753\n00:38:42,140 --> 00:38:46,680\ncan choose as far as forcing his password\nto change or anything like that.\n\n754\n00:38:46,680 --> 00:38:48,660\nYou just don't see that option.\n\n755\n00:38:48,660 --> 00:38:51,220\nAnd if you pull up the gear for that user,\n\n756\n00:38:51,220 --> 00:38:52,990\nyou'll see where you've\ngot Change Password.\n\n757\n00:38:52,990 --> 00:38:55,720\nI can come in and\nI can force that password to change, and\n\n758\n00:38:55,720 --> 00:38:58,770\nI can even require it to\nchange at next login.\n\n759\n00:38:58,770 --> 00:39:00,630\nThat's where I can force that user and\nsay,\n\n760\n00:39:00,630 --> 00:39:03,200\nlook I gave you a really simple password.\n\n761\n00:39:03,200 --> 00:39:04,420\nI gave you password 123.\n\n762\n00:39:04,420 --> 00:39:08,410\nThe next time you log in,\n\n763\n00:39:08,410 --> 00:39:12,920\nyou need to go in and\nchange that password to something else.\n\n764\n00:39:12,920 --> 00:39:14,910\nAnd it's gonna force you to do it.\n\n765\n00:39:14,910 --> 00:39:17,600\nBut, you can just make it password.\n\n766\n00:39:17,600 --> 00:39:18,920\nYou can make it blank if you wanted.\n\n767\n00:39:18,920 --> 00:39:20,460\nIt will let you do that, right?\n\n768\n00:39:20,460 --> 00:39:22,930\nSo, that's something that we're\ngoing to have to improve upon.\n\n769\n00:39:22,930 --> 00:39:24,550\nWe're going to get in there and fix that.\n\n770\n00:39:24,550 --> 00:39:27,150\nAnd we'll do that with a password policy.\n\n771\n00:39:27,150 --> 00:39:30,710\nBut, looking at the clock, this is\na good spot to pause and take a break.\n\n772\n00:39:30,710 --> 00:39:32,160\nSo, let's pause here.\n\n773\n00:39:32,160 --> 00:39:33,980\nWhen we get back,\nwe'll create a password policy,\n\n774\n00:39:33,980 --> 00:39:35,500\nand then we'll take a look at groups.\n\n775\n00:39:35,500 --> 00:39:36,520\nIt's all good stuff.\n\n776\n00:39:36,520 --> 00:39:37,420\nSo stay tuned.\n\n777\n00:39:37,420 --> 00:39:39,197\nWe'll be back in a few.\n\n778\n00:39:39,197 --> 00:39:45,886\n[SOUND] [SOUND] All right,\nwelcome back everybody.\n\n779\n00:39:45,886 --> 00:39:49,560\nSo, we left off talking a little\nbit about user passwords.\n\n780\n00:39:49,560 --> 00:39:51,610\nAnd I wanna take a moment\nto show you guys,\n\n781\n00:39:51,610 --> 00:39:54,750\nhow to set up what's called\na Global Password Policy.\n\n782\n00:39:54,750 --> 00:39:58,696\nWhen you have an open directory and you're\ncentrally managing all of these different\n\n783\n00:39:58,696 --> 00:40:02,475\nuser accounts, and you'd like to ensure\nthat they all use secure passwords, and\n\n784\n00:40:02,475 --> 00:40:04,319\na password policy will let you do that.\n\n785\n00:40:04,319 --> 00:40:05,406\nThis is another area,\n\n786\n00:40:05,406 --> 00:40:09,180\nwhere it's really easy to confuse\nwhere you're configuring this.\n\n787\n00:40:09,180 --> 00:40:11,090\nThere are separate Password Policies, for\n\n788\n00:40:11,090 --> 00:40:15,360\nLocal Accounts, and for\nLocal Network Accounts.\n\n789\n00:40:15,360 --> 00:40:17,380\nSo we gotta make sure that we're in\nthe right place, to configure this.\n\n790\n00:40:17,380 --> 00:40:18,990\nAnd let me show you what I mean.\n\n791\n00:40:18,990 --> 00:40:23,000\nSo here I am on this OSX Server, and\nif I go down to Accounts, and Users.\n\n792\n00:40:23,000 --> 00:40:23,879\nI'm viewing my Users.\n\n793\n00:40:24,960 --> 00:40:28,670\nAnd down at the bottom,\nif I hit the gear, under the gear,\n\n794\n00:40:28,670 --> 00:40:32,360\nyou'll see where you can edit,\nthe Password Policy, right.\n\n795\n00:40:32,360 --> 00:40:35,480\nNow, when you choose to edit\nthe Password Policy, it's editing it,\n\n796\n00:40:35,480 --> 00:40:40,130\nbased on what you've got chosen up here,\nso if I have Local Users chosen,\n\n797\n00:40:40,130 --> 00:40:43,330\nit's now the Local User Password Policy,\nthat I'm working with.\n\n798\n00:40:43,330 --> 00:40:45,690\nBut, if I drop this down and\nI choose Local Network Users.\n\n799\n00:40:45,690 --> 00:40:49,040\nI'm now working with,\nthe Network Users Password Policy.\n\n800\n00:40:49,040 --> 00:40:52,420\nSo, make sure you choose\nthe correct Password Policy, for\n\n801\n00:40:52,420 --> 00:40:54,730\nthe type of account you're working with,\nall right.\n\n802\n00:40:54,730 --> 00:40:57,250\nI wanna do\na Local Network User Password Policy.\n\n803\n00:40:57,250 --> 00:41:00,160\nSo, I'm gonna go ahead, and make sure,\nI've got that chosen in my drop down.\n\n804\n00:41:00,160 --> 00:41:03,990\nAnd then I'll hit the gear icon,\nand hit Edit Password Policy.\n\n805\n00:41:03,990 --> 00:41:07,020\nNow when I go to edit it,\nI get a lot, of options.\n\n806\n00:41:07,020 --> 00:41:09,460\nThere is a lot of really\ncool stuff in here.\n\n807\n00:41:09,460 --> 00:41:10,580\nThe first four,\n\n808\n00:41:10,580 --> 00:41:15,750\ncenter around, disabling the User Account,\nafter a certain, trigger occurs.\n\n809\n00:41:15,750 --> 00:41:17,280\nThe triggers are pretty different.\n\n810\n00:41:17,280 --> 00:41:19,570\nThe very first one is on a specific day.\n\n811\n00:41:19,570 --> 00:41:23,220\nIf you hire somebody as a temporary\nworker, maybe you've got a contractor,\n\n812\n00:41:23,220 --> 00:41:27,610\nthat's gonna be working with you for\nthree months, until you know on July 1st,\n\n813\n00:41:27,610 --> 00:41:30,510\nthat's gonna be the last day,\nyou could come here, and say,\n\n814\n00:41:30,510 --> 00:41:35,724\ndisable the account on,\nand then specify July 2nd.\n\n815\n00:41:35,724 --> 00:41:40,810\nAlright, so I'll say on July 2nd,\ndisable this user account.\n\n816\n00:41:40,810 --> 00:41:43,690\nSo when that date happens,\nthey get disabled.\n\n817\n00:41:43,690 --> 00:41:45,990\nYou could also set it,\nbased on an amount of time.\n\n818\n00:41:45,990 --> 00:41:48,640\nIf I'm bringing them on board,\njust for 30 days.\n\n819\n00:41:48,640 --> 00:41:52,300\nThen I can say, disable it,\nafter using it for 30 days.\n\n820\n00:41:52,300 --> 00:41:56,550\nSo, the first time they log in,\nit starts a counter running.\n\n821\n00:41:56,550 --> 00:41:58,580\nAnd after 30 days, it then, disables it.\n\n822\n00:42:00,390 --> 00:42:04,620\nWe could say, disable them after\ninactive for a certain amount of days.\n\n823\n00:42:04,620 --> 00:42:08,780\nIf they don't log in for 14 days,\nif this User account doesn't log in for\n\n824\n00:42:08,780 --> 00:42:10,190\ntwo weeks, just automatically disable it.\n\n825\n00:42:11,820 --> 00:42:14,887\nAnd lastly, we could say, after the User\nmakes a certain amount of failed attempts,\n\n826\n00:42:14,887 --> 00:42:17,826\nif somebody's trying to guess a password,\nif they're trying to brute force it,\n\n827\n00:42:17,826 --> 00:42:20,831\nthen they just sit there, and enter\npassword, after password, after password.\n\n828\n00:42:20,831 --> 00:42:25,510\nWell, we can stop that, by entering in,\na maximum amount of failed attempts.\n\n829\n00:42:25,510 --> 00:42:29,460\nI can say, if you get five failed\nattempts, in a row, go ahead, and\n\n830\n00:42:29,460 --> 00:42:30,200\ndisable the account.\n\n831\n00:42:31,460 --> 00:42:34,450\nNow, what does disabling the account mean?\n\n832\n00:42:34,450 --> 00:42:37,190\nWhen you disable an account,\nit's not like deleting it, right.\n\n833\n00:42:37,190 --> 00:42:39,290\nIt doesn't delete the account,\nand make it disappear.\n\n834\n00:42:39,290 --> 00:42:44,340\nIt just says, this account can no longer\nbe used for log ons, and it can't be used\n\n835\n00:42:44,340 --> 00:42:48,930\nfor log ons, until we as an administrator\ncome, and re-enable it again, all right.\n\n836\n00:42:48,930 --> 00:42:51,310\nIf we wanna see that,\nlet me just cancel this.\n\n837\n00:42:51,310 --> 00:42:55,510\nIf I look at these Users, like Chris\nPoland here, when you click on the gear,\n\n838\n00:42:55,510 --> 00:42:59,950\nyou'll see your different options, like\nEdit User, and Change Password, and so on.\n\n839\n00:42:59,950 --> 00:43:02,530\nIf we edit the user,\nyou've actually gotten here,\n\n840\n00:43:02,530 --> 00:43:04,680\nwhether the user can be enabled or not.\n\n841\n00:43:04,680 --> 00:43:07,680\nIt's this option here, it doesn't say\nenabled, it's a little bit different.\n\n842\n00:43:07,680 --> 00:43:11,010\nIt says, allow user to log in.\n\n843\n00:43:11,010 --> 00:43:14,380\nIf it's checked,\nthe user account is enabled.\n\n844\n00:43:14,380 --> 00:43:17,910\nIf I uncheck that,\nthe user account is disabled.\n\n845\n00:43:17,910 --> 00:43:20,420\nNow, if I've got a contractor, who's only\ngoing to work here for three months,\n\n846\n00:43:20,420 --> 00:43:23,630\nand at the end of the three months,\nI don't need them anymore.\n\n847\n00:43:23,630 --> 00:43:25,640\nWhy would I disable,\nas opposed to just deleting?\n\n848\n00:43:25,640 --> 00:43:27,210\nLet's delete them, and\nget them out of there.\n\n849\n00:43:27,210 --> 00:43:28,720\nWell you can do both.\n\n850\n00:43:28,720 --> 00:43:32,860\nBut if you delete a User,\nwhat happens to their home folder?\n\n851\n00:43:32,860 --> 00:43:35,320\nWell, the Home folder, it's still there.\n\n852\n00:43:35,320 --> 00:43:36,620\nIt's still sitting there.\n\n853\n00:43:36,620 --> 00:43:38,970\nBut it's tied to their old user ID.\n\n854\n00:43:38,970 --> 00:43:43,480\nIf we hire that employee again, and\nwe recreate their account, the new account\n\n855\n00:43:43,480 --> 00:43:46,410\nwill have a different User ID, and\nthey won't have access to their files.\n\n856\n00:43:46,410 --> 00:43:48,440\nI'll have to redo all my permissions.\n\n857\n00:43:48,440 --> 00:43:50,880\nSo if there's even, the slightest chance,\n\n858\n00:43:50,880 --> 00:43:55,310\nthat we might need that account again in\nthe future, it's better to disable it.\n\n859\n00:43:55,310 --> 00:43:56,510\nDisable, delete.\n\n860\n00:43:56,510 --> 00:43:58,615\nYour User database is\nnot gonna be very big.\n\n861\n00:43:58,615 --> 00:44:01,800\nEven if you have thousands and thousands\nof Users, the database itself is actually\n\n862\n00:44:01,800 --> 00:44:05,470\npretty small on the hard drive, and\nso, there really isn't a lot of reason\n\n863\n00:44:05,470 --> 00:44:08,310\nto delete User accounts,\nunless you just hate having them there.\n\n864\n00:44:08,310 --> 00:44:12,120\nDisabling the account is the better way,\nbecause if you ever encounter\n\n865\n00:44:12,120 --> 00:44:15,490\nfiles that were encrypted by that user,\nor something of that nature,\n\n866\n00:44:15,490 --> 00:44:18,760\nyou could take that account, re-enable it,\nand use it to access that data.\n\n867\n00:44:18,760 --> 00:44:21,360\nSo that's all it's doing is\ntaking this login field, and\n\n868\n00:44:21,360 --> 00:44:23,260\neither checking it or unchecking it.\n\n869\n00:44:23,260 --> 00:44:26,440\nChecked, means you can log in,\nthat means you are enabled.\n\n870\n00:44:26,440 --> 00:44:29,780\nUnchecked, means you can't log in,\nyou're disabled.\n\n871\n00:44:29,780 --> 00:44:31,180\nSo in the password policy,\n\n872\n00:44:31,180 --> 00:44:36,250\nwhen one of those four things happens,\nl go back into my password policy.\n\n873\n00:44:36,250 --> 00:44:40,790\nWhen one of these four things happens,\nit's just unchecking that log in box.\n\n874\n00:44:40,790 --> 00:44:43,700\nThe User account still exists, but\nthe log in box is now unchecked.\n\n875\n00:44:44,900 --> 00:44:48,433\nSo these are great ways, to make sure that\naccounts don't stay enable beyond their\n\n876\n00:44:48,433 --> 00:44:50,920\nusable lifetime, or\nthe time that we actually need them.\n\n877\n00:44:52,190 --> 00:44:56,100\nBut, they don't have anything to do\nwith what their password actually is.\n\n878\n00:44:56,100 --> 00:44:58,220\nThat's what the rest\nof these settings are.\n\n879\n00:44:58,220 --> 00:44:59,350\nPasswords must,\n\n880\n00:44:59,350 --> 00:45:03,250\nand then here's where we define,\nhow we want our passwords to be built.\n\n881\n00:45:03,250 --> 00:45:05,710\nWe can say,\nthat they can't be the username, right.\n\n882\n00:45:05,710 --> 00:45:07,630\nHow many times have you guys seen that?\n\n883\n00:45:07,630 --> 00:45:11,960\nMy username is Jay Doe, so I'll set my\npassword to Jay Doe, easy to remember.\n\n884\n00:45:11,960 --> 00:45:13,450\nWell, we can block that, right?\n\n885\n00:45:13,450 --> 00:45:15,220\nYou can't use your account\nname as your password.\n\n886\n00:45:16,230 --> 00:45:20,190\nWe can say that it must contain at least\none letter, we don't want the spaceballs,\n\n887\n00:45:20,190 --> 00:45:21,720\none, two, three, four password.\n\n888\n00:45:21,720 --> 00:45:23,640\nRight, that same password\nI use on my luggage.\n\n889\n00:45:23,640 --> 00:45:25,390\nI don't want that, so\nI can check that off, and\n\n890\n00:45:25,390 --> 00:45:26,890\nnow they've got to have\nat least one letter.\n\n891\n00:45:28,020 --> 00:45:31,280\nWe can add to it, and say that not only\ndo they have to have at least one letter,\n\n892\n00:45:31,280 --> 00:45:34,830\nthey've got to have at least one upper\ncase, and one lower case letter, right, so\n\n893\n00:45:34,830 --> 00:45:37,350\nwe can add levels of complexity there.\n\n894\n00:45:37,350 --> 00:45:39,260\nMust contain at least one number.\n\n895\n00:45:39,260 --> 00:45:40,940\nIf you choose to have that,\nyou can require it.\n\n896\n00:45:42,360 --> 00:45:46,390\nMust contain a character that\nisn't a letter, or a number.\n\n897\n00:45:46,390 --> 00:45:47,280\nWhat the heck is that?\n\n898\n00:45:47,280 --> 00:45:51,040\nWell, those are special characters, things\nlike punctuation, exclamation point,\n\n899\n00:45:51,040 --> 00:45:55,360\nperiod, the at symbol, the hashmark or\npound symbol, those guys, those\n\n900\n00:45:55,360 --> 00:45:58,550\nare special characters, and we can require\nthem to have at least one of those, too.\n\n901\n00:46:01,340 --> 00:46:05,210\nPassword must be reset,\non first user log in.\n\n902\n00:46:05,210 --> 00:46:07,800\nIf you're gonna be importing,\na large quantity of Users,\n\n903\n00:46:07,800 --> 00:46:10,940\nlike I just did a moment ago,\nwell, you probably want them to\n\n904\n00:46:10,940 --> 00:46:13,710\nreset their password on first log in,\nand so you can set that right here.\n\n905\n00:46:13,710 --> 00:46:15,540\nThe very first time, you want it to reset.\n\n906\n00:46:17,220 --> 00:46:18,820\nThen we can set the link.\n\n907\n00:46:18,820 --> 00:46:21,920\nPassword must contain at least,\neight characters.\n\n908\n00:46:21,920 --> 00:46:22,820\nWell, I can bump it up.\n\n909\n00:46:22,820 --> 00:46:24,200\nI can make it 14, 15 characters.\n\n910\n00:46:24,200 --> 00:46:25,620\nWhatever it is that I\nwant in my environment.\n\n911\n00:46:25,620 --> 00:46:27,660\nWhat that maximum length is gonna be.\n\n912\n00:46:27,660 --> 00:46:29,970\nThis is one of my favorites here,\nyour password history.\n\n913\n00:46:29,970 --> 00:46:34,110\nPassword must, differ from the last,\nand the default here is one.\n\n914\n00:46:34,110 --> 00:46:35,500\nThe last one password.\n\n915\n00:46:35,500 --> 00:46:40,020\nThat means, if my password was,\npassword 123, and it asks me to change it.\n\n916\n00:46:40,020 --> 00:46:41,300\nI can't just put password 123 in again.\n\n917\n00:46:41,300 --> 00:46:44,300\nRight?\nI can just put something else in.\n\n918\n00:46:44,300 --> 00:46:46,210\nI could put password 321.\n\n919\n00:46:46,210 --> 00:46:50,370\nBut, Users are strangely\ndedicated to not being secure.\n\n920\n00:46:50,370 --> 00:46:53,120\nAnd so what'll happen is, they'll say,\nalright well I gotta change it.\n\n921\n00:46:53,120 --> 00:46:57,060\nSo I'll make it password 321,\nbut, I remember password 123.\n\n922\n00:46:57,060 --> 00:46:58,370\nIt's what I'm used to.\n\n923\n00:46:58,370 --> 00:47:00,010\nSo I'll just change my password again.\n\n924\n00:47:00,010 --> 00:47:02,167\nI'll just change it right now, and\nchange it back to password 123.\n\n925\n00:47:03,200 --> 00:47:06,470\nSo you can set up a history,\nwhere the system will remember\n\n926\n00:47:06,470 --> 00:47:10,430\na certain amount of their passwords, and\nit'll prevent them from being reused.\n\n927\n00:47:10,430 --> 00:47:12,680\nSo you can set this to something high,\nlike 30.\n\n928\n00:47:12,680 --> 00:47:15,950\nPassword must differ from the last\n30 passwords they entered.\n\n929\n00:47:15,950 --> 00:47:19,060\nNow the system will remember their last 30\npasswords, and whenever they change it,\n\n930\n00:47:19,060 --> 00:47:22,080\nit'll run it against the list, and\nit won't allow them to reuse that.\n\n931\n00:47:22,080 --> 00:47:23,770\nAll right.\nAnother way to increase,\n\n932\n00:47:23,770 --> 00:47:26,530\nthat security in the password.\n\n933\n00:47:26,530 --> 00:47:29,550\nAnd then last,\npassword must be reset every.\n\n934\n00:47:29,550 --> 00:47:31,290\nAnd we can set an interval.\n\n935\n00:47:31,290 --> 00:47:37,410\nAnd it's set, in days,\nweeks, months, right.\n\n936\n00:47:37,410 --> 00:47:41,420\nSo we can pick between those, and\nspecify what we want that interval to be.\n\n937\n00:47:41,420 --> 00:47:43,850\nMaybe I want them to change their\npassword every three months.\n\n938\n00:47:43,850 --> 00:47:45,490\nAnd so I can punch that in here as 3.\n\n939\n00:47:45,490 --> 00:47:49,350\nNow that error box that came up\nwas on the password history.\n\n940\n00:47:49,350 --> 00:47:53,810\nApparently, 30 is too high,\ndid it tell me what the maximum was?\n\n941\n00:47:53,810 --> 00:47:56,406\nYou know, it doesn't say,\nI don't know what the maximum actually is.\n\n942\n00:47:56,406 --> 00:47:58,340\nLet's see what we can get away with here.\n\n943\n00:47:58,340 --> 00:48:02,802\nType in with 15, so\nit limits somewhere above that.\n\n944\n00:48:02,802 --> 00:48:04,834\nThe limit is probably 16.\n\n945\n00:48:04,834 --> 00:48:07,430\nThey're normally built around\nbinary number boundaries.\n\n946\n00:48:07,430 --> 00:48:08,460\nOh, it is actually 15.\n\n947\n00:48:08,460 --> 00:48:09,670\n15 is the highest number there.\n\n948\n00:48:09,670 --> 00:48:11,540\nSo it can remember the last 15 passwords.\n\n949\n00:48:12,600 --> 00:48:15,630\nSo if somebody wants to reuse a password,\nthey'd have to sit there,\n\n950\n00:48:15,630 --> 00:48:18,410\nand change their password, 15 times\nto get back to their original one.\n\n951\n00:48:18,410 --> 00:48:21,753\nSome people have that dedication,\nit's kinda sad.\n\n952\n00:48:21,753 --> 00:48:24,742\nAll right, but\nwe can define all of these settings.\n\n953\n00:48:24,742 --> 00:48:28,121\nAnd once these are defined,\nthat becomes the password policy for\n\n954\n00:48:28,121 --> 00:48:31,550\nmy local network users,\nanybody in the open directory.\n\n955\n00:48:31,550 --> 00:48:32,330\nAnd so now,\n\n956\n00:48:32,330 --> 00:48:35,060\nas those user accounts are sitting\nout there, this will apply to them.\n\n957\n00:48:35,060 --> 00:48:37,670\nNow, be aware of two things.\n\n958\n00:48:37,670 --> 00:48:42,120\nFirst off, the password policy does not\napply to administrators, all right.\n\n959\n00:48:42,120 --> 00:48:43,850\nApple never wants you to\nget into a situation,\n\n960\n00:48:43,850 --> 00:48:46,550\nwhere your administrator\naccount is locked out, right.\n\n961\n00:48:46,550 --> 00:48:49,580\nIf you get your system locked out\nof the administrator account,\n\n962\n00:48:49,580 --> 00:48:51,390\nyou can't get in to administer the system.\n\n963\n00:48:51,390 --> 00:48:55,600\nAnd that's a pretty bad spot to be in, so\nit doesn't apply to the administrator.\n\n964\n00:48:55,600 --> 00:49:01,490\nThe second thing is, it doesn't\napply to pre-existing user accounts.\n\n965\n00:49:01,490 --> 00:49:05,850\nThese users that I made, Dave Mustaine,\nDavid Elston, they've never logged in.\n\n966\n00:49:05,850 --> 00:49:07,340\nSo the first time they log in,\n\n967\n00:49:07,340 --> 00:49:10,900\nif I set that password must be reset,\nwell that will take effect.\n\n968\n00:49:10,900 --> 00:49:15,920\nBut if a user has logged in even one time,\nthen the password policy that\n\n969\n00:49:15,920 --> 00:49:20,780\nwe just set will not take effect until\nthey change their password, all right.\n\n970\n00:49:20,780 --> 00:49:22,850\nWell, they may not choose\nto change their password.\n\n971\n00:49:22,850 --> 00:49:25,840\nThey might say, you know what, forget\nthat, I'm not gonna change my password.\n\n972\n00:49:25,840 --> 00:49:30,010\nWell, if they don't, then they're in\neffect not under your password policy.\n\n973\n00:49:30,010 --> 00:49:32,200\nSo that's where you have to go\nto the user account itself,\n\n974\n00:49:32,200 --> 00:49:34,800\nand force them to change\ntheir password next time.\n\n975\n00:49:34,800 --> 00:49:37,850\nIf you edit that user,\nyou can choose the option.\n\n976\n00:49:37,850 --> 00:49:38,590\nOr wait, not edit it.\n\n977\n00:49:38,590 --> 00:49:40,720\nYou have to do it in a little gear.\n\n978\n00:49:40,720 --> 00:49:41,844\nBut we can tell them,\n\n979\n00:49:41,844 --> 00:49:45,165\nwith the Change Password to force\nit to something that we know.\n\n980\n00:49:45,165 --> 00:49:47,690\nAnd then set it to require that\npassword to change at the next login.\n\n981\n00:49:47,690 --> 00:49:49,640\nSo that's how we kind of force that along.\n\n982\n00:49:49,640 --> 00:49:51,140\nWe're doing the password change for\n\n983\n00:49:51,140 --> 00:49:53,570\nthem here, and\nchanging it to something that we know.\n\n984\n00:49:53,570 --> 00:49:55,660\nSo that's a little bit of a headache.\n\n985\n00:49:55,660 --> 00:49:59,260\nThe key way to make that not\na headache is to do it early, right?\n\n986\n00:49:59,260 --> 00:50:03,090\nMake sure you set your password policy\nearly, before you start creating all your\n\n987\n00:50:03,090 --> 00:50:05,070\naccounts, and\ngetting people in the system.\n\n988\n00:50:05,070 --> 00:50:07,460\nBut if you just got hired somewhere\nthat has an existing network,\n\n989\n00:50:07,460 --> 00:50:08,310\nand put this in place.\n\n990\n00:50:08,310 --> 00:50:11,640\nYou've just got to remember that it\ndoesn't actually apply to people\n\n991\n00:50:11,640 --> 00:50:13,250\nuntil the first time they\nchange their password.\n\n992\n00:50:15,900 --> 00:50:17,960\nAll right, so\nthat's basically a password policy, and\n\n993\n00:50:17,960 --> 00:50:19,542\nhow they work, pretty straight forward.\n\n994\n00:50:19,542 --> 00:50:22,886\nNow, David had a great comment\nin the chat room there.\n\n995\n00:50:22,886 --> 00:50:26,487\nThat the fact that this policy doesn't\napply to administrators is a great example\n\n996\n00:50:26,487 --> 00:50:28,950\nas to why administrator\naccounts get attacked so much.\n\n997\n00:50:28,950 --> 00:50:30,400\nAnd that's absolutely true,\n\n998\n00:50:30,400 --> 00:50:33,500\nmost people will exclude administrators\nfrom this type of policy.\n\n999\n00:50:33,500 --> 00:50:37,400\nThat's why Apple doesn't give us\na default administrator name, right.\n\n1000\n00:50:37,400 --> 00:50:39,914\nYou know in systems like in\nUnix you have that root user,\n\n1001\n00:50:39,914 --> 00:50:41,367\nthat everybody knows is there.\n\n1002\n00:50:41,367 --> 00:50:43,310\nAnd in Windows you have a user\ncalled administrator, and\n\n1003\n00:50:43,310 --> 00:50:44,850\neverybody knows it's there.\n\n1004\n00:50:44,850 --> 00:50:47,170\nWell in Apple, you've got that root user.\n\n1005\n00:50:47,170 --> 00:50:49,780\nBut it's hidden away, and\nyou can't use it, right.\n\n1006\n00:50:49,780 --> 00:50:52,900\nAnd so you create your own administrator\nwith your own name, and so\n\n1007\n00:50:52,900 --> 00:50:55,260\nit's different, and\nthat makes it a little bit harder.\n\n1008\n00:50:55,260 --> 00:50:58,304\nIt's not true security,\nit's security through obscurity, but\n\n1009\n00:50:58,304 --> 00:50:59,671\nit does achieve a little bit.\n\n1010\n00:50:59,671 --> 00:51:02,863\nBut if somebody tries to brute\nforce your administrator account,\n\n1011\n00:51:02,863 --> 00:51:04,570\nwell it won't lock it out.\n\n1012\n00:51:04,570 --> 00:51:06,480\nAnd so you do still have to be careful,\nright.\n\n1013\n00:51:06,480 --> 00:51:10,070\nThat's why you need to have two user\naccounts for your administrators.\n\n1014\n00:51:10,070 --> 00:51:13,621\nOne actual administrator account,\nand one regular user account.\n\n1015\n00:51:13,621 --> 00:51:16,980\nAnd they need to be using the regular user\naccount for their day to day activities.\n\n1016\n00:51:16,980 --> 00:51:19,810\nAnd only use the administrator\naccount when they're actually\n\n1017\n00:51:19,810 --> 00:51:21,050\nadministering things.\n\n1018\n00:51:21,050 --> 00:51:25,040\nSo it creates that separation, and\nit helps to minimize that exposure.\n\n1019\n00:51:26,952 --> 00:51:31,050\nAll right, well, that's about all\nI've got on password policies.\n\n1020\n00:51:31,050 --> 00:51:33,770\nThe other thing that we\nsort of glanced over, but\n\n1021\n00:51:33,770 --> 00:51:37,560\ndidn't spend a lot of time on were groups.\n\n1022\n00:51:37,560 --> 00:51:39,320\nInside of our server app,\n\n1023\n00:51:39,320 --> 00:51:42,650\nwe don't just have user accounts\nthat we manage, we have groups.\n\n1024\n00:51:42,650 --> 00:51:45,580\nAnd groups are special little accounts,\n\n1025\n00:51:45,580 --> 00:51:49,300\nthat we can use to combine users together,\nright.\n\n1026\n00:51:49,300 --> 00:51:51,660\nNow, groups work kind of a neat way.\n\n1027\n00:51:51,660 --> 00:51:56,610\nWhat a group does, is it works under\nthis idea of, we have user accounts,\n\n1028\n00:51:56,610 --> 00:51:58,600\nbecause we need to assign permissions.\n\n1029\n00:51:58,600 --> 00:52:01,380\nI want certain users to be\nable to get to a folder.\n\n1030\n00:52:01,380 --> 00:52:03,940\nOr I want certain users to\nbe able to use this printer.\n\n1031\n00:52:03,940 --> 00:52:06,660\nOr I want certain users\nto do this one activity.\n\n1032\n00:52:06,660 --> 00:52:10,480\nWell, if I have five users,\nI can just go and\n\n1033\n00:52:10,480 --> 00:52:14,390\nmanually give those five users permission\nto access that folder, or that file.\n\n1034\n00:52:14,390 --> 00:52:17,990\nBut if I have 500 users,\nI don't wanna do it 500 times.\n\n1035\n00:52:17,990 --> 00:52:21,300\nAnd if every time I hire a new user,\nI have to go through this whole\n\n1036\n00:52:21,300 --> 00:52:25,030\ndeal of setting permissions,\nthat becomes quite a headache pretty fast.\n\n1037\n00:52:25,030 --> 00:52:27,440\nSo groups help me avoid that.\n\n1038\n00:52:27,440 --> 00:52:29,630\nI can create a group myself.\n\n1039\n00:52:29,630 --> 00:52:31,917\nI can put the user accounts in that group.\n\n1040\n00:52:31,917 --> 00:52:36,203\nAnd now when I assign permissions, I can\ngive permissions to the group instead of\n\n1041\n00:52:36,203 --> 00:52:39,610\ngiving permissions to\neach individual user.\n\n1042\n00:52:39,610 --> 00:52:42,920\nSo for example, if I wanna create\na group here in the server app.\n\n1043\n00:52:42,920 --> 00:52:45,010\nIf I go to the Accounts and\n\n1044\n00:52:45,010 --> 00:52:48,860\nGroup section, you'll see there is\none Group created automatically.\n\n1045\n00:52:48,860 --> 00:52:53,150\nWhen you install Open Directory,\nit creates a group called Workgroup.\n\n1046\n00:52:53,150 --> 00:52:57,130\nAnd if you take a look at the Workgroup,\nit includes all of your users.\n\n1047\n00:52:57,130 --> 00:53:00,800\nEvery user that gets created\ngoes in the Workgroup group.\n\n1048\n00:53:00,800 --> 00:53:06,410\nSo, the reason they create that is if\nyou wanna give permissions to everybody,\n\n1049\n00:53:06,410 --> 00:53:08,560\nwell, you use that Workgroup group.\n\n1050\n00:53:08,560 --> 00:53:10,150\nIt's there for you, right?\n\n1051\n00:53:10,150 --> 00:53:13,450\nBut, we can create on our own\nthat's a little bit more specific.\n\n1052\n00:53:13,450 --> 00:53:16,992\nSo, I might create a group and\nit's much like creating a user.\n\n1053\n00:53:16,992 --> 00:53:19,105\nWhen you go to create a group,\nyou hit the plus symbol.\n\n1054\n00:53:19,105 --> 00:53:22,155\nAnd you can pick between a Local Group,\nand a Local Network Group.\n\n1055\n00:53:22,155 --> 00:53:25,285\nThe Local Network Group is\nwhat's in the open directory.\n\n1056\n00:53:25,285 --> 00:53:26,545\nYou give it a full name.\n\n1057\n00:53:26,545 --> 00:53:28,218\nSo I'll call this The Band, right.\n\n1058\n00:53:28,218 --> 00:53:29,615\nThese are the guys that are in The Band.\n\n1059\n00:53:29,615 --> 00:53:32,385\nAnd it'll get a Unix group name.\n\n1060\n00:53:32,385 --> 00:53:35,735\nAnd then we can specify if we're gonna\nuse it for a mailing list, right.\n\n1061\n00:53:35,735 --> 00:53:37,645\nIf this is gonna be a mailing list.\n\n1062\n00:53:37,645 --> 00:53:40,015\nYou send an email to it and\nthe email goes to all of these people,\n\n1063\n00:53:40,015 --> 00:53:42,085\nyou can check that off,\nand you can have that set.\n\n1064\n00:53:42,085 --> 00:53:42,890\nI'm not gonna do that.\n\n1065\n00:53:42,890 --> 00:53:45,150\nAnd then I'll hit Create, right.\n\n1066\n00:53:45,150 --> 00:53:48,500\nThat's gonna create the group,\nbut nobody's in the group.\n\n1067\n00:53:49,538 --> 00:53:53,990\nI can double-click on that group, and\nthen I can add in the members right here.\n\n1068\n00:53:53,990 --> 00:53:58,900\nI can just hit the little plus symbol,\nand I can start to type in the users\n\n1069\n00:54:00,700 --> 00:54:03,230\nand get them added one by one, all right?\n\n1070\n00:54:03,230 --> 00:54:07,260\nIf I'm adding a bunch of users to a group,\nthis is the easiest way to do it, right?\n\n1071\n00:54:07,260 --> 00:54:10,880\nWe come through, and we find each of\nthe users that we want to put in here.\n\n1072\n00:54:10,880 --> 00:54:14,319\nAnd, we add them into that list, right.\n\n1073\n00:54:14,319 --> 00:54:18,643\nBut, if I wanna add one user\nto five different groups,\n\n1074\n00:54:18,643 --> 00:54:21,230\nthis isn't so convenient.\n\n1075\n00:54:21,230 --> 00:54:24,440\nCuz I don't think I wanna edit all\nfive groups and add in that one user.\n\n1076\n00:54:24,440 --> 00:54:26,960\nSo we can actually do\nthis the opposite way.\n\n1077\n00:54:26,960 --> 00:54:30,500\nYou can add users to group right here,\nby editing the group.\n\n1078\n00:54:30,500 --> 00:54:34,400\nBut you can also add a user to\na group by editing the user.\n\n1079\n00:54:34,400 --> 00:54:36,470\nIt just depends on what\nyou're trying to achieve.\n\n1080\n00:54:36,470 --> 00:54:39,830\nIf I wanna add multiple\npeople to one group,\n\n1081\n00:54:39,830 --> 00:54:43,150\nit's easiest to edit the group right here,\nlike I'm doing, right.\n\n1082\n00:54:43,150 --> 00:54:48,900\nIf I wanna add one person to more than\none group, it's easier to edit the user.\n\n1083\n00:54:48,900 --> 00:54:52,930\nSo I could go to Users,\nI can take somebody like Nick Menza, and\n\n1084\n00:54:52,930 --> 00:54:54,260\nI'll see the Groups that he's in.\n\n1085\n00:54:54,260 --> 00:54:57,880\nAnd I can hit plus, and I can start\nadding him to more Groups right here,\n\n1086\n00:54:57,880 --> 00:55:00,420\nall the Groups that I want, right.\n\n1087\n00:55:00,420 --> 00:55:03,060\nSo, handling that Group\nmembership is pretty easy.\n\n1088\n00:55:04,160 --> 00:55:08,460\nOnce they're in the group, now I can\ngive permissions to that group and\n\n1089\n00:55:08,460 --> 00:55:09,630\nthey'll get access.\n\n1090\n00:55:09,630 --> 00:55:14,080\nSo, if I have a folder,\nhere I'll jump into My Documents,\n\n1091\n00:55:14,080 --> 00:55:16,600\nand I'll make a new folder in here.\n\n1092\n00:55:18,500 --> 00:55:22,380\nAnd maybe this is my Accounting documents,\nright?\n\n1093\n00:55:22,380 --> 00:55:25,780\nAnd so, I want The Band, to have\naccess to the Accounting documents.\n\n1094\n00:55:25,780 --> 00:55:28,670\nWell, if I pull up the information for\n\n1095\n00:55:28,670 --> 00:55:34,250\nthat folder, down here at the bottom,\nI've got Sharing & Permissions.\n\n1096\n00:55:34,250 --> 00:55:37,190\nAnd I'll see who has\naccess to it right now.\n\n1097\n00:55:37,190 --> 00:55:43,540\nNow in the standard Unix format, we end\nup with a user, a group, and an other.\n\n1098\n00:55:43,540 --> 00:55:46,310\nThe user is me, Help Desk,\nthat's who I'm logged in as right now.\n\n1099\n00:55:46,310 --> 00:55:48,600\nSo I'm the owner, and\nI get read and write.\n\n1100\n00:55:48,600 --> 00:55:50,550\nThe Group is Staff.\n\n1101\n00:55:50,550 --> 00:55:54,050\nStaff is all of my other user accounts,\nand they get read-only.\n\n1102\n00:55:54,050 --> 00:55:57,247\nAnd then, Everyone,\nwell that's everybody else, and\n\n1103\n00:55:57,247 --> 00:55:59,256\nI can see they get read-only also.\n\n1104\n00:55:59,256 --> 00:56:01,903\nI could change the group of that folder.\n\n1105\n00:56:01,903 --> 00:56:05,164\nFrom staff to the band and\nnow they would have access to it, but\n\n1106\n00:56:05,164 --> 00:56:09,494\nI'm gonna have a little bit of a problem\nthere cuz it's an open directory group and\n\n1107\n00:56:09,494 --> 00:56:10,750\nnot a local group.\n\n1108\n00:56:10,750 --> 00:56:14,600\nIt'll work, you can do it, but it's better\nto leave that alone as a local one.\n\n1109\n00:56:14,600 --> 00:56:16,740\nWe could remove that access\nif we didn't want it.\n\n1110\n00:56:16,740 --> 00:56:19,470\nBut we can use\nApple's Access Control List,\n\n1111\n00:56:19,470 --> 00:56:22,610\ntheir ACL functionality to add to this.\n\n1112\n00:56:22,610 --> 00:56:27,300\nAnd I can add more groups, so\nI can add another group, and here,\n\n1113\n00:56:27,300 --> 00:56:29,520\nyou'll see where I can pick\nfrom my local users and\n\n1114\n00:56:29,520 --> 00:56:33,440\ngroups, and my network users,\nand my network group.\n\n1115\n00:56:33,440 --> 00:56:37,550\nAnd I can add the band, and so\nI'm going to add the band, and\n\n1116\n00:56:37,550 --> 00:56:40,060\nI'm going to give them read and write.\n\n1117\n00:56:40,060 --> 00:56:42,450\nThey'll have full access to that folder.\n\n1118\n00:56:42,450 --> 00:56:45,160\nNow, anyone who's in that group,\n\n1119\n00:56:45,160 --> 00:56:48,190\nanybody who's in the band,\nwill have access to that folder.\n\n1120\n00:56:48,190 --> 00:56:52,860\nAnd so, when I fire my drummer and\nI bring in a new drummer, well,\n\n1121\n00:56:52,860 --> 00:56:56,210\nall I do is I take the old\ndrummer out of the group and,\n\n1122\n00:56:56,210 --> 00:57:00,460\nthen, I add the new drummer to the group\nand they get access to that folder.\n\n1123\n00:57:00,460 --> 00:57:03,340\nThey get access through\ntheir group membership.\n\n1124\n00:57:03,340 --> 00:57:07,360\nSo, groups make it really easy to\nmanage permissions and access.\n\n1125\n00:57:07,360 --> 00:57:10,110\nWhen I add a new band member,\nI just throw them in the group.\n\n1126\n00:57:10,110 --> 00:57:13,430\nI don't have to go to all\nthe various folders and files and\n\n1127\n00:57:13,430 --> 00:57:16,190\nplaces like that where I assign\npermissions and add that new user.\n\n1128\n00:57:16,190 --> 00:57:18,070\nI just add them to the group.\n\n1129\n00:57:18,070 --> 00:57:22,580\nSo the rule of thumb, is you should\nnever assign permissions to a user.\n\n1130\n00:57:22,580 --> 00:57:25,230\nUnless you're using something\nthat absolutely requires it.\n\n1131\n00:57:25,230 --> 00:57:27,160\nLike remote desktop settings.\n\n1132\n00:57:27,160 --> 00:57:31,120\nBut anytime that you can assign\nit to a group, you should.\n\n1133\n00:57:31,120 --> 00:57:33,910\nBecause groups make life\na lot easier to manage.\n\n1134\n00:57:33,910 --> 00:57:36,690\nAnother neat thing about groups\nis they can be nested, all right?\n\n1135\n00:57:36,690 --> 00:57:38,520\nLet me show you an example of that.\n\n1136\n00:57:38,520 --> 00:57:43,150\nLet's say that I have sales people,\nsales people all over the world.\n\n1137\n00:57:43,150 --> 00:57:47,680\nAnd so there's certain things that I want\nevery sales person to have access to.\n\n1138\n00:57:47,680 --> 00:57:51,654\nSo I go into my server manager,\ninto server app, and I go into groups and\n\n1139\n00:57:51,654 --> 00:57:56,111\nI create a group called Sales People,\nall right, so these are my sales people.\n\n1140\n00:57:59,760 --> 00:58:01,590\nOkay, so now I've gotta do sales people.\n\n1141\n00:58:01,590 --> 00:58:04,705\nAnd I want all of my sales people to\nhave access to this particular folder.\n\n1142\n00:58:05,875 --> 00:58:10,585\nBut then, I see that I've got some other\nsales people that are in North America.\n\n1143\n00:58:10,585 --> 00:58:12,615\nAnd I want them to have this other folder.\n\n1144\n00:58:12,615 --> 00:58:14,785\nAnd I want the ones in South America\nto have their own folder.\n\n1145\n00:58:14,785 --> 00:58:16,335\nI want the ones in Europe\nto have their own folder.\n\n1146\n00:58:16,335 --> 00:58:18,000\nAnd Asia to have their own folder.\n\n1147\n00:58:18,000 --> 00:58:18,990\nAnd then that way,\n\n1148\n00:58:18,990 --> 00:58:21,510\nthey're kind of separated and\nthey can't see each others stuff.\n\n1149\n00:58:22,550 --> 00:58:25,910\nWell, if I have one big sales people\ngroup, I can't really use that.\n\n1150\n00:58:25,910 --> 00:58:27,430\nSo I'm gonna need to create more groups.\n\n1151\n00:58:27,430 --> 00:58:33,530\nI'm gonna need to create a,\nlike a North America sales and\n\n1152\n00:58:33,530 --> 00:58:39,300\nmaybe South American sales,\nEurope sales and so on, right?\n\n1153\n00:58:39,300 --> 00:58:42,920\nSo these are all the different sales\ngroups that I'm gonna have for\n\n1154\n00:58:42,920 --> 00:58:43,570\nmy sales people.\n\n1155\n00:58:44,780 --> 00:58:49,760\nWell, now,\nwhat happens when I hire a new person?\n\n1156\n00:58:49,760 --> 00:58:53,430\nWhen I hire a new person, I could say\nokay you're working in North America so\n\n1157\n00:58:53,430 --> 00:58:58,180\nlet me put you in North America sales,\nand I'll put you in sales people.\n\n1158\n00:58:58,180 --> 00:59:01,350\nIn fact, maybe I ditch that one and\nrename it.\n\n1159\n00:59:01,350 --> 00:59:05,660\nI might create one like all sales\npeople or I could just rename this one.\n\n1160\n00:59:05,660 --> 00:59:10,300\nI'll call this one All Sales People,\nthere we go.\n\n1161\n00:59:10,300 --> 00:59:16,660\nSo I can put them in two groups,but it's\neven easier if I just nest the groups.\n\n1162\n00:59:16,660 --> 00:59:18,900\nYou can put one group\ninside another group.\n\n1163\n00:59:18,900 --> 00:59:24,450\nI could take All sales People and\nwhen I added that one in the membership,\n\n1164\n00:59:24,450 --> 00:59:30,015\nI could add in North America sales,\nSouth America sales,\n\n1165\n00:59:30,015 --> 00:59:34,130\nand Europe sales, all right?\n\n1166\n00:59:34,130 --> 00:59:36,120\nNow, I've got groups in a group.\n\n1167\n00:59:37,190 --> 00:59:41,600\nIf I put a user, in EU sales,\nright, so if I go in here and\n\n1168\n00:59:41,600 --> 00:59:48,190\nI'm going to add Chris, Chris is going\nto be in European sales, all right.\n\n1169\n00:59:48,190 --> 00:59:54,810\nChris is in European sales and European\nsales is in the All Sales People group.\n\n1170\n00:59:54,810 --> 00:59:58,880\nSo if I give permission to the all\nsales people group, Chris will get it.\n\n1171\n00:59:58,880 --> 01:00:03,090\nAnd if I give permissions to the EU sales,\nhe's gonna get that.\n\n1172\n01:00:03,090 --> 01:00:07,260\nBecause technically he's in both,\neven though his user account is only in\n\n1173\n01:00:07,260 --> 01:00:12,250\nEU sales,\nEU sales itself is in All Sales People.\n\n1174\n01:00:12,250 --> 01:00:15,450\nAnd that's how he gets his\naccess through nested groups.\n\n1175\n01:00:15,450 --> 01:00:17,560\nAnd you can nest several\nlayers deep if you want.\n\n1176\n01:00:17,560 --> 01:00:19,800\nThe more complex your environment,\nyou can build that out.\n\n1177\n01:00:19,800 --> 01:00:23,250\nMaybe inside of EU sales,\nI then create groups for each country.\n\n1178\n01:00:23,250 --> 01:00:27,950\nSo I've got France sales,\nUK sales, Ireland sales, whatever.\n\n1179\n01:00:27,950 --> 01:00:29,600\nYou lay it all out like that.\n\n1180\n01:00:29,600 --> 01:00:31,850\nAnd it's all nested nice and neat.\n\n1181\n01:00:31,850 --> 01:00:36,930\nIf I ever want to give permissions to all\nthe sales people, I just use this group.\n\n1182\n01:00:36,930 --> 01:00:40,030\nIf I want to give permission just\nto North American sales people,\n\n1183\n01:00:40,030 --> 01:00:41,360\nI use this group, all right?\n\n1184\n01:00:41,360 --> 01:00:43,920\nThat's the power of groups, alright.\n\n1185\n01:00:43,920 --> 01:00:47,410\nYou can create all these groups to\ncompletely build out your environment and\n\n1186\n01:00:47,410 --> 01:00:48,770\norganize your users.\n\n1187\n01:00:48,770 --> 01:00:53,710\nJust assign permissions to the groups,\nand now as you hire new people or fire,\n\n1188\n01:00:53,710 --> 01:00:56,010\nyou just move them in and\nmove them out of the groups as necessary.\n\n1189\n01:00:56,010 --> 01:00:59,120\nAnd you don't have to go and\nchange permissions anywhere, right?\n\n1190\n01:00:59,120 --> 01:01:01,670\nReally simple,\ngreat way to manage permissions.\n\n1191\n01:01:01,670 --> 01:01:02,610\nVery powerful feature.\n\n1192\n01:01:03,980 --> 01:01:05,790\nIf you need to create\na large quantity of groups,\n\n1193\n01:01:05,790 --> 01:01:08,960\nyou can actually import them just\nlike we did with users earlier.\n\n1194\n01:01:08,960 --> 01:01:10,210\nThe little syntax,\n\n1195\n01:01:10,210 --> 01:01:13,670\nthat text file's basically the same,\nthe record type isn't users, though.\n\n1196\n01:01:13,670 --> 01:01:16,970\nThe record type is groups and\nin that web address that I'm gonna\n\n1197\n01:01:16,970 --> 01:01:20,940\npost in the show notes, Apple shows both\nexamples with users and with groups so\n\n1198\n01:01:20,940 --> 01:01:22,350\nyou get a chance to see that.\n\n1199\n01:01:22,350 --> 01:01:24,580\nBut pretty straightforward to create them.\n\n1200\n01:01:24,580 --> 01:01:28,490\nWhen you create a group, the only thing\nthat's really required property is\n\n1201\n01:01:28,490 --> 01:01:32,030\nthe group name and\nthe actual account name.\n\n1202\n01:01:32,030 --> 01:01:36,400\nSo when I created these, that's all it\nreally asks for, right, the full name and\n\n1203\n01:01:36,400 --> 01:01:37,330\nthe group name.\n\n1204\n01:01:37,330 --> 01:01:38,700\nThere's no password field.\n\n1205\n01:01:38,700 --> 01:01:41,130\nThere actually is a password,\ngroups do have a password,\n\n1206\n01:01:41,130 --> 01:01:43,960\nit's just the system auto generates\nit cuz you never truly use it.\n\n1207\n01:01:45,020 --> 01:01:47,800\nBut that's basically it to get those\ngroups created pretty cut and dry.\n\n1208\n01:01:50,402 --> 01:01:54,730\nAll right, well, that's about it for\ngroups and ACLs.\n\n1209\n01:01:54,730 --> 01:01:57,300\nWe got a chance to see user accounts and\ntheir creation.\n\n1210\n01:01:57,300 --> 01:02:01,000\nI do have one more thing that I wanna talk\nabout, which is troubleshooting, right?\n\n1211\n01:02:01,000 --> 01:02:03,650\nWhen things aren't working\nright with authentication.\n\n1212\n01:02:03,650 --> 01:02:05,150\nBut I'm out of time on this segment.\n\n1213\n01:02:05,150 --> 01:02:06,850\nSo let's pause here and take a break.\n\n1214\n01:02:06,850 --> 01:02:09,422\nAnd when we get back,\nwe'll do a little troubleshooting, so\n\n1215\n01:02:09,422 --> 01:02:11,010\nstay tuned we'll be back after this.\n\n1216\n01:02:11,010 --> 01:02:18,621\n[MUSIC]\n\n1217\n01:02:18,621 --> 01:02:20,070\nWelcome back everybody.\n\n1218\n01:02:20,070 --> 01:02:22,930\nSo in this last segment, we're gonna\ntake a look at troubleshooting, right?\n\n1219\n01:02:22,930 --> 01:02:26,540\nHow to see what's going on when\nthings aren't quite working right.\n\n1220\n01:02:26,540 --> 01:02:29,930\nFortunately troubleshooting with open\ndirectory is pretty straight forward.\n\n1221\n01:02:29,930 --> 01:02:33,980\nWe actually got to see a little of it way\nback at the beginning of the episode.\n\n1222\n01:02:33,980 --> 01:02:35,220\nWhen you start having problems,\n\n1223\n01:02:35,220 --> 01:02:38,570\nlike if a user can't login\nwith their network account.\n\n1224\n01:02:38,570 --> 01:02:40,410\nIt usually boils down to\nsomething very simple.\n\n1225\n01:02:40,410 --> 01:02:42,050\nLike network connectivity, right?\n\n1226\n01:02:42,050 --> 01:02:44,950\nBefore I bound that work station\nat the beginning of the episode,\n\n1227\n01:02:44,950 --> 01:02:48,300\nI went through and I tested,\ncould I ping the directory server?\n\n1228\n01:02:48,300 --> 01:02:50,110\nCould I do DNS lookups?\n\n1229\n01:02:50,110 --> 01:02:52,950\nAnd it's the DNS lookups that\nare usually your problem.\n\n1230\n01:02:52,950 --> 01:02:55,980\nWhen you do a lookup, you've got to be\nable to look up the name of that server\n\n1231\n01:02:55,980 --> 01:02:59,860\nand the domain, the name of\nthe open directory environment and\n\n1232\n01:02:59,860 --> 01:03:04,060\nget a response back in order to be\nable to bind to it and authenticate.\n\n1233\n01:03:04,060 --> 01:03:06,620\nIf something ever happens where you're\nnot able to find that server and\n\n1234\n01:03:06,620 --> 01:03:09,470\ncommunicate with it, you're not gonna be\nable to login with that network account,\n\n1235\n01:03:09,470 --> 01:03:11,870\nand that becomes a problem, right?\n\n1236\n01:03:11,870 --> 01:03:16,200\nSo step one, when it comes to\ntroubleshooting, is to verify network\n\n1237\n01:03:16,200 --> 01:03:19,300\nconnectivity just like we did\nat the beginning of the episode.\n\n1238\n01:03:19,300 --> 01:03:21,540\nAssuming you've got network\nconnectivity though,\n\n1239\n01:03:21,540 --> 01:03:24,740\nthere are a few other things that\ncan cause some problems, all right?\n\n1240\n01:03:25,800 --> 01:03:27,720\nFor me, from my own personal experience,\n\n1241\n01:03:27,720 --> 01:03:30,670\nthe number one problem with logging\nin is just connectivity, right?\n\n1242\n01:03:30,670 --> 01:03:32,370\nIt's not a actual problem\nwith the open directory,\n\n1243\n01:03:32,370 --> 01:03:33,750\nit's just straight up connectivity.\n\n1244\n01:03:33,750 --> 01:03:38,560\nSo I always fire up my network utility,\ndo some pings, do some NS lookups, right,\n\n1245\n01:03:38,560 --> 01:03:42,580\nyou wanna do some name lookups to make\nsure that that's all working right?\n\n1246\n01:03:42,580 --> 01:03:47,190\nAssuming those pass, the number two\nguy for me is the clock, right?\n\n1247\n01:03:48,560 --> 01:03:51,872\nOpen directory by default uses\n[INAUDIBLE] for authentication and\n\n1248\n01:03:51,872 --> 01:03:55,012\n[INAUDIBLE] has some really neat\nfunctionality built into it.\n\n1249\n01:03:55,012 --> 01:03:57,570\nOne of the things it does is\nit encrypts your data, right?\n\n1250\n01:03:57,570 --> 01:03:59,942\nSo you get nice secure communications.\n\n1251\n01:03:59,942 --> 01:04:04,750\nBut it also has what's called\nanti-replay protection in it.\n\n1252\n01:04:04,750 --> 01:04:07,340\nIt looks at each package that gets\nthrown across the network and\n\n1253\n01:04:07,340 --> 01:04:09,480\nit assigns a time stamp to it.\n\n1254\n01:04:09,480 --> 01:04:11,830\nAnd it's part of what's\nencoded in the data.\n\n1255\n01:04:11,830 --> 01:04:14,620\nAnd if it receives\na message back from you and\n\n1256\n01:04:14,620 --> 01:04:17,970\nthe time stamp is more\nthan five minutes off.\n\n1257\n01:04:17,970 --> 01:04:22,760\nIt makes the assumption, it assumes\nthat somebody intercepted that packet,\n\n1258\n01:04:22,760 --> 01:04:26,330\ntampered with the packet and\nretransmitted it on the network.\n\n1259\n01:04:26,330 --> 01:04:29,740\nAnd so it flags it as retransmitted\npack and throws it away.\n\n1260\n01:04:29,740 --> 01:04:32,530\nSo if the clock on your computer\n\n1261\n01:04:32,530 --> 01:04:37,685\nis more than five minutes off from\nthe computer that's running as the server.\n\n1262\n01:04:37,685 --> 01:04:39,790\nThen you're not gonna be\nable to authenticate.\n\n1263\n01:04:39,790 --> 01:04:42,260\nCerberus is gonna fail and\nyou're not gonna log in.\n\n1264\n01:04:42,260 --> 01:04:42,820\nRight.\n\n1265\n01:04:42,820 --> 01:04:44,880\nNow I say this is a big problem.\n\n1266\n01:04:44,880 --> 01:04:46,130\nWhy is it such a big problem?\n\n1267\n01:04:46,130 --> 01:04:46,630\nLet me tell you why.\n\n1268\n01:04:47,670 --> 01:04:49,160\nOn your Mac,\n\n1269\n01:04:49,160 --> 01:04:52,600\nwhen you install it by default it actually\nsets itself up to use a time server.\n\n1270\n01:04:52,600 --> 01:04:54,680\nApple says hey we're gonna make this easy.\n\n1271\n01:04:54,680 --> 01:04:57,320\nYou're gonna reach out to us and\nwe'll tell you what time it is.\n\n1272\n01:04:57,320 --> 01:05:00,170\nSo all of your machines\nwill have the correct time.\n\n1273\n01:05:00,170 --> 01:05:05,270\nWell if you look at my machines,\nmy server here, it says 11:36 AM.\n\n1274\n01:05:05,270 --> 01:05:09,550\nAnd if I jump over to my client,\nwhich has gone to screen saver, but\n\n1275\n01:05:09,550 --> 01:05:11,560\nit says 11:36 AM also.\n\n1276\n01:05:11,560 --> 01:05:13,610\nTheir time is in sync, okay?\n\n1277\n01:05:13,610 --> 01:05:15,410\nNow, I didn't set the time on these.\n\n1278\n01:05:15,410 --> 01:05:16,850\nHow did they get in sync.\n\n1279\n01:05:16,850 --> 01:05:20,360\nWell, if I click on that and\nI go to my Date & Time preferences.\n\n1280\n01:05:20,360 --> 01:05:23,830\nYou can see in here, set date and\ntime automatically, and\n\n1281\n01:05:23,830 --> 01:05:27,410\nit's set to use Apple's server,\ntime.apple.com.\n\n1282\n01:05:27,410 --> 01:05:28,840\nAnd it's grayed out.\n\n1283\n01:05:28,840 --> 01:05:30,267\nA regular user can't change that.\n\n1284\n01:05:30,267 --> 01:05:33,355\nBecause if a regular user changes it,\nwhat's gonna happen?\n\n1285\n01:05:33,355 --> 01:05:34,977\nIt's gonna break authentication.\n\n1286\n01:05:34,977 --> 01:05:38,925\nAll right, so when you're bound to\na directory service, this gets locked and\n\n1287\n01:05:38,925 --> 01:05:40,645\nyou can't change it.\n\n1288\n01:05:40,645 --> 01:05:44,585\nNow if I unlock it as an administrator,\nI can, I can override that.\n\n1289\n01:05:44,585 --> 01:05:51,565\nBut we typically want that, we want it to\nbe set where it is a unified source that\n\n1290\n01:05:51,565 --> 01:05:54,615\neverybody's synchronizing their clocks\ntogether and we've got the same time.\n\n1291\n01:05:55,760 --> 01:05:57,780\nNow here's what I bump into a lot though.\n\n1292\n01:05:57,780 --> 01:05:59,600\nHere's the real problem.\n\n1293\n01:05:59,600 --> 01:06:02,320\nYou get a user who's in another time zone.\n\n1294\n01:06:02,320 --> 01:06:05,980\nSo maybe I'm over in California,\nwhich is Pacific Time.\n\n1295\n01:06:05,980 --> 01:06:08,740\nAnd Pacific Time is three hours behind us.\n\n1296\n01:06:08,740 --> 01:06:12,270\nSo it says that it's 11:37 but\nI'm looking at my clock and\n\n1297\n01:06:12,270 --> 01:06:13,530\ngoing well Don it's only 8:37.\n\n1298\n01:06:13,530 --> 01:06:15,700\nSo I need it to be 8:37.\n\n1299\n01:06:15,700 --> 01:06:17,410\nAnd so what do they do?\n\n1300\n01:06:17,410 --> 01:06:19,770\nThey say don't set\nthe time automatically and\n\n1301\n01:06:19,770 --> 01:06:22,780\nthen they come, and\nthey drop it down to 8:37.\n\n1302\n01:06:22,780 --> 01:06:24,690\nNow their clock is correct.\n\n1303\n01:06:24,690 --> 01:06:25,450\nOkay?\n\n1304\n01:06:25,450 --> 01:06:27,540\nWell, when they do that,\n\n1305\n01:06:27,540 --> 01:06:32,260\nthere's now a three hour difference\nbetween this machine and the server.\n\n1306\n01:06:32,260 --> 01:06:34,250\nAnd that will make Cerberus fail.\n\n1307\n01:06:34,250 --> 01:06:36,200\nYou won't be able to authenticate.\n\n1308\n01:06:36,200 --> 01:06:38,400\nBecause it will think\nthere's a replay going on.\n\n1309\n01:06:38,400 --> 01:06:43,570\nThat the packet date time stamps are just\ntoo wrong, and it won't let them through.\n\n1310\n01:06:43,570 --> 01:06:50,260\nNow, what they should of done was\nnot lower this time by three hours.\n\n1311\n01:06:50,260 --> 01:06:53,780\nBut instead, gone to the time zone tab.\n\n1312\n01:06:53,780 --> 01:06:55,300\nThis little time zone button.\n\n1313\n01:06:55,300 --> 01:06:58,800\nAnd changed the timezone to reflect.\n\n1314\n01:06:58,800 --> 01:07:00,560\nTheir proper time zone.\n\n1315\n01:07:00,560 --> 01:07:03,770\nAnd when you do that,\nnow it shows 8:38, right?\n\n1316\n01:07:04,930 --> 01:07:08,490\nBut by setting it back,\nthey view themselves as being in\n\n1317\n01:07:08,490 --> 01:07:12,670\nthe Eastern time zone but\nthree hours before, and it's wrong.\n\n1318\n01:07:12,670 --> 01:07:16,200\nSo Apple's recommendation\nis to use a time server,\n\n1319\n01:07:16,200 --> 01:07:20,675\nuse their time server and set your time\nzone to make sure that it's correct.\n\n1320\n01:07:20,675 --> 01:07:26,030\nCuz in the background Cerberus is actually\njust using GMT Greenwich Mean Time.\n\n1321\n01:07:26,030 --> 01:07:29,020\nOr the universal time code Zulu\ntime whatever you wanna call it.\n\n1322\n01:07:29,020 --> 01:07:30,940\nThat's what it's using.\n\n1323\n01:07:30,940 --> 01:07:32,290\nSo it's having to translate this.\n\n1324\n01:07:33,420 --> 01:07:39,750\nSo when it sees that you're\nin the eastern time zone.\n\n1325\n01:07:41,070 --> 01:07:46,040\nBut then,\nI've manually set my time back to 8:39.\n\n1326\n01:07:46,040 --> 01:07:50,240\nWell, it's gonna add five\nhours to that to get to GMT.\n\n1327\n01:07:51,340 --> 01:07:54,340\nAnd when it adds five hours to it,\nit's not actually getting to GMT.\n\n1328\n01:07:54,340 --> 01:07:57,550\nIt's still three hours behind that,\nand it's incorrect, and\n\n1329\n01:07:57,550 --> 01:07:58,510\nwe get the time disparity.\n\n1330\n01:07:59,650 --> 01:08:03,640\nSo the first thing I look at on a machine\nthat won't log in, well the first\n\n1331\n01:08:03,640 --> 01:08:06,245\nthing I look at is whether the person\nactually knows their password right,\n\n1332\n01:08:06,245 --> 01:08:07,985\ncuz people forget their password.\n\n1333\n01:08:07,985 --> 01:08:10,715\nSo the second thing I\nlook at is connectivity.\n\n1334\n01:08:10,715 --> 01:08:11,905\nCan they ping the server?\n\n1335\n01:08:11,905 --> 01:08:13,775\nCan they do DNS lookups?\n\n1336\n01:08:13,775 --> 01:08:16,555\nThe third thing is I check their clock,\nright.\n\n1337\n01:08:16,555 --> 01:08:18,955\nAnd don't just trust the clock\nup here in the menu bar,\n\n1338\n01:08:18,955 --> 01:08:21,335\ncuz that doesn't tell you what\ntime zone their in, right.\n\n1339\n01:08:21,335 --> 01:08:23,985\nSo check their time and\nthen check their time zone.\n\n1340\n01:08:23,985 --> 01:08:26,445\nMake sure that they haven't\nset it apart from those,\n\n1341\n01:08:26,445 --> 01:08:28,755\ncuz those are some big culprits.\n\n1342\n01:08:28,755 --> 01:08:31,600\nAll right, so\nthose are a couple of things to look for,\n\n1343\n01:08:31,600 --> 01:08:34,080\nthere's a few other things\nthat can be problematic.\n\n1344\n01:08:34,080 --> 01:08:36,620\nIt's a lot less common though.\n\n1345\n01:08:36,620 --> 01:08:38,720\nSome other things that can\ncause these not to work.\n\n1346\n01:08:39,970 --> 01:08:43,560\nBy default, we use cerberus for\nauthentication.\n\n1347\n01:08:43,560 --> 01:08:45,700\nSomebody could of disabled that.\n\n1348\n01:08:45,700 --> 01:08:48,800\nWhen you take a service,\nlike if I go back here.\n\n1349\n01:08:48,800 --> 01:08:50,490\nSo here I am in my server app.\n\n1350\n01:08:50,490 --> 01:08:54,410\nIf got into websites, now I'm not\na web server, I'm gonna turn that on.\n\n1351\n01:08:54,410 --> 01:08:55,940\nSo now, I'm a web server, very exciting.\n\n1352\n01:08:57,100 --> 01:09:01,600\nIn my web server, I can set permissions in\nhere, I can set the permissions for who's\n\n1353\n01:09:01,600 --> 01:09:06,610\nallowed to access this, and it's really\njust tweaking an access control list.\n\n1354\n01:09:06,610 --> 01:09:11,080\nAnd so inside of my website, permission\nright now says all networks, and\n\n1355\n01:09:11,080 --> 01:09:14,940\nif I hit edit,\nI can tweak what networks it answers on.\n\n1356\n01:09:14,940 --> 01:09:17,010\nJust private networks or\nonly some networks.\n\n1357\n01:09:17,010 --> 01:09:19,480\nAnd then I can pick the networks\nthat I want it available.\n\n1358\n01:09:19,480 --> 01:09:24,100\nThat's one access control list that can\nstop people from getting to this servers.\n\n1359\n01:09:24,100 --> 01:09:27,380\nThere's another access control list\nthat we don't see here, though.\n\n1360\n01:09:27,380 --> 01:09:33,370\nIf I go back to users and I pick a user\nlike Chris Poland and I go to the gear.\n\n1361\n01:09:33,370 --> 01:09:36,810\nYou'll see edit, access to services.\n\n1362\n01:09:36,810 --> 01:09:39,170\nAnd if we choose that, you can pick and\n\n1363\n01:09:39,170 --> 01:09:43,230\nchoose amongst the services,\nwhich ones they're allowed to get to.\n\n1364\n01:09:43,230 --> 01:09:44,935\nAnd so they may not have access like.\n\n1365\n01:09:44,935 --> 01:09:47,885\nLike contacts and calendar might have\nbeen turned off for that user and\n\n1366\n01:09:47,885 --> 01:09:49,185\nthat's why they can't get there.\n\n1367\n01:09:49,185 --> 01:09:50,695\nIt's not that their user accounts wrong.\n\n1368\n01:09:50,695 --> 01:09:53,285\nIt's not that their dns is wrong or\ntheir clock is wrong.\n\n1369\n01:09:53,285 --> 01:09:55,855\nIt's that somebody's actually removed\ntheir permission to that service.\n\n1370\n01:09:57,075 --> 01:10:01,125\nNow, you'll notice in here that open\ndirectory is not one of those services so\n\n1371\n01:10:01,125 --> 01:10:03,740\nat the minimum they should be\nable to log into their computer.\n\n1372\n01:10:03,740 --> 01:10:07,310\nBut they might not be able to access VPN,\nor messages, mail,\n\n1373\n01:10:07,310 --> 01:10:09,100\nwhatever it is,\nif it's been turned off here.\n\n1374\n01:10:10,390 --> 01:10:11,450\nThe same thing for groups.\n\n1375\n01:10:11,450 --> 01:10:16,380\nThat little setting I just went to, if we\ngo into Groups, they have the same thing.\n\n1376\n01:10:16,380 --> 01:10:18,210\nEdit Access to Services, and\n\n1377\n01:10:18,210 --> 01:10:21,440\nyou can choose which services\nthat group will have access to.\n\n1378\n01:10:25,170 --> 01:10:29,825\nAnother thing though, is somebody from\nthe command line may have actually disable\n\n1379\n01:10:29,825 --> 01:10:32,610\ncerberus authentication from\nthe service as a whole.\n\n1380\n01:10:32,610 --> 01:10:34,490\nSo, for example calendars.\n\n1381\n01:10:34,490 --> 01:10:37,700\nCalendar is gonna default\nto Cerberus authentication.\n\n1382\n01:10:37,700 --> 01:10:40,760\nBut maybe somebody had a special need,\nwhere they wanted to do\n\n1383\n01:10:40,760 --> 01:10:44,990\nbasic authentication with web DAV or\nsomething crazy like that.\n\n1384\n01:10:44,990 --> 01:10:50,200\nSo an administrator can\njump into the terminal and\n\n1385\n01:10:50,200 --> 01:10:54,440\nthey can run a command, and this is not\nsomething most people are gonna do.\n\n1386\n01:10:54,440 --> 01:10:58,470\nBut they can run a command like this,\nsudo server admin.\n\n1387\n01:10:58,470 --> 01:11:01,890\nServer admin is the command line utility\nto see equivalent of the server app.\n\n1388\n01:11:01,890 --> 01:11:06,617\nAnd then their modifying\na setting the calendar changing\n\n1389\n01:11:06,617 --> 01:11:11,700\nauthentication, changing\ncerberus from enabled.\n\n1390\n01:11:11,700 --> 01:11:13,050\nTo no, right.\n\n1391\n01:11:13,050 --> 01:11:18,970\nSo setting the enabled value to no, that's\ngonna turn off cerberus authentication for\n\n1392\n01:11:18,970 --> 01:11:20,920\nthe calendar service, all right.\n\n1393\n01:11:20,920 --> 01:11:22,080\nNow it's on.\nYou\n\n1394\n01:11:22,080 --> 01:11:23,540\nactually have to restart\nthe calendar service.\n\n1395\n01:11:23,540 --> 01:11:25,290\nMine's off anyway so it doesn't matter.\n\n1396\n01:11:25,290 --> 01:11:29,240\nBut that'll turn it off and now my users\nwont be able to authenticated like I said.\n\n1397\n01:11:29,240 --> 01:11:30,390\nEven if they have access to it.\n\n1398\n01:11:30,390 --> 01:11:33,430\nEven if I've granted them\naccess to the calendar service.\n\n1399\n01:11:33,430 --> 01:11:34,020\nThat Cerberus\n\n1400\n01:11:34,020 --> 01:11:37,080\nauthentication has failed they're gonna\nhave to authenticate some other way.\n\n1401\n01:11:37,080 --> 01:11:40,520\nAnd if that's the case we just need\nto make sure we turn it back on again\n\n1402\n01:11:40,520 --> 01:11:41,655\nto get that in place.\n\n1403\n01:11:41,655 --> 01:11:44,015\nRight now, somebody would've\nhad to have changed that.\n\n1404\n01:11:44,015 --> 01:11:46,475\nSo it's a pretty uncommon thing to happen,\nbut it is possible.\n\n1405\n01:11:49,717 --> 01:11:52,965\nAl lright, now, those are pretty much\nthe different things that we look for\n\n1406\n01:11:52,965 --> 01:11:54,785\nwhen we have problems with authentication.\n\n1407\n01:11:54,785 --> 01:11:57,937\nNumber one was DNS and\nnetwork connectivity.\n\n1408\n01:11:57,937 --> 01:11:59,688\nRight?\nMake sure you can connect to the server.\n\n1409\n01:11:59,688 --> 01:12:01,546\nNumber two was your clock.\n\n1410\n01:12:01,546 --> 01:12:03,404\nGotta make sure you're time is in sync.\n\n1411\n01:12:03,404 --> 01:12:05,820\nNumber three was to check the ACLs.\n\n1412\n01:12:05,820 --> 01:12:07,910\nDo you have access to those services?\n\n1413\n01:12:07,910 --> 01:12:11,510\nAnd then number four,\nis Kerberos even on for that service?\n\n1414\n01:12:11,510 --> 01:12:13,270\nRight, cuz that may be the problem too.\n\n1415\n01:12:13,270 --> 01:12:15,020\nSo those are kinda the four\nthings that we look for\n\n1416\n01:12:15,020 --> 01:12:17,210\nwhen we're trying to\ntroubleshoot access like that.\n\n1417\n01:12:17,210 --> 01:12:20,070\nThe one we leave off though is\nthe common sense one which is,\n\n1418\n01:12:20,070 --> 01:12:21,570\ndoes the user actually\nknow their password?\n\n1419\n01:12:21,570 --> 01:12:22,390\nAre they locked out?\n\n1420\n01:12:22,390 --> 01:12:25,580\nMaybe the user account has been disabled\nbecause they exceeded our password policy\n\n1421\n01:12:25,580 --> 01:12:26,700\nor something like that.\n\n1422\n01:12:26,700 --> 01:12:28,570\nSo, you might need to go and\nre-enable them.\n\n1423\n01:12:28,570 --> 01:12:29,710\nThose are all things\nthat we need to look at.\n\n1424\n01:12:31,240 --> 01:12:32,540\nOne last thing I wanna mention.\n\n1425\n01:12:32,540 --> 01:12:34,120\nI don't know if this will\nshow up on the exam, but\n\n1426\n01:12:34,120 --> 01:12:36,030\nin real life it's something that I use.\n\n1427\n01:12:36,030 --> 01:12:40,510\nWhenever I'm troubleshooting a Kerberos\ntype problem, I mentioned in the,\n\n1428\n01:12:40,510 --> 01:12:43,420\nI guess it was two episodes ago where\nwe talked about authentication.\n\n1429\n01:12:43,420 --> 01:12:45,970\nI talked a little bit\nabout how Kerberos works.\n\n1430\n01:12:45,970 --> 01:12:48,830\nAbout how we get that ticket granting\nticket and how we're able to\n\n1431\n01:12:48,830 --> 01:12:52,480\ngenerate service tickets based off of\nthat to run different applications.\n\n1432\n01:12:52,480 --> 01:12:55,200\nWell, there may come a time when\nyou boot up your machine and\n\n1433\n01:12:55,200 --> 01:12:59,680\nyou're having some issues, and you just\nwanna know, do I have a valid ticket?\n\n1434\n01:12:59,680 --> 01:13:01,730\nAnd which server gave me that ticket?\n\n1435\n01:13:01,730 --> 01:13:03,600\nIf I have more than one\nOpen Directory server,\n\n1436\n01:13:03,600 --> 01:13:05,060\nwhich one did I authenticate off of?\n\n1437\n01:13:05,060 --> 01:13:06,890\nEspecially if you're doing locales.\n\n1438\n01:13:06,890 --> 01:13:08,560\nWell, the end user doesn't see that.\n\n1439\n01:13:08,560 --> 01:13:09,360\nThat's not in the GUI.\n\n1440\n01:13:09,360 --> 01:13:14,860\nBut there's a super simple utility we can\nuse from the command line to view it.\n\n1441\n01:13:14,860 --> 01:13:19,460\nIf I jump over to my workstation here,\nwhich is now gonna have time problems so\n\n1442\n01:13:19,460 --> 01:13:21,780\nlet me [LAUGH] revert my time.\n\n1443\n01:13:21,780 --> 01:13:23,150\nWe'll set that back to automatic.\n\n1444\n01:13:23,150 --> 01:13:23,810\nThere we go.\n\n1445\n01:13:23,810 --> 01:13:27,930\nAll right, so back here on my workstation,\nif I'm logged into open directory and\n\n1446\n01:13:27,930 --> 01:13:32,590\nI just wanna see information about my\nticket, you can open up a terminal window.\n\n1447\n01:13:34,000 --> 01:13:39,180\nAnd in terminal you can run a very\nsimple command, it's klist, all right?\n\n1448\n01:13:39,180 --> 01:13:41,530\nK is for Kerberos.\n\n1449\n01:13:41,530 --> 01:13:45,960\nAnd you can run klist and it will show\nyou all of your Kerberos tickets.\n\n1450\n01:13:45,960 --> 01:13:47,490\nMost of the time you're\nonly gonna have one,\n\n1451\n01:13:47,490 --> 01:13:50,180\nbut if you've done a lot of stuff you\nmight actually have more than one.\n\n1452\n01:13:50,180 --> 01:13:55,060\nBut you can see your ticket in here,\nand get an idea of what server\n\n1453\n01:13:55,060 --> 01:13:59,420\nyou logged into, and\nwhether your ticket is actually valid.\n\n1454\n01:13:59,420 --> 01:14:02,080\nSo let me rerun that on a wider screen.\n\n1455\n01:14:02,080 --> 01:14:03,080\nThere we go.\n\n1456\n01:14:03,080 --> 01:14:07,250\nSo, I can see that I've got a credential\ncache, and here's my principal.\n\n1457\n01:14:07,250 --> 01:14:09,150\nI'm logged in as Don Pezet.\n\n1458\n01:14:09,150 --> 01:14:13,970\nAnd I logged into the server,\nOSX-SERVER1.LAB.ITPRO.TV, right?\n\n1459\n01:14:13,970 --> 01:14:15,450\nThat's the server I logged in on.\n\n1460\n01:14:15,450 --> 01:14:19,940\nIf I had more than one\nOpen Directory server in place,\n\n1461\n01:14:19,940 --> 01:14:21,960\nthen it would tell me\nwhich one I was hitting.\n\n1462\n01:14:21,960 --> 01:14:26,170\nAnd so I can see it was issued\nMarch 16th at 11:36 AM.\n\n1463\n01:14:26,170 --> 01:14:30,123\nAnd it expires March 16th at 21:36, right?\n\n1464\n01:14:30,123 --> 01:14:32,413\nWhat is that, 9 PM?\n\n1465\n01:14:32,413 --> 01:14:34,970\nSo [LAUGH] I did my military time there.\n\n1466\n01:14:34,970 --> 01:14:39,140\nSo 9 PM, so\nit's gonna expire later on this evening.\n\n1467\n01:14:39,140 --> 01:14:41,820\nAnd then I can see the principal,\nwhere it came from.\n\n1468\n01:14:41,820 --> 01:14:45,550\nAnd that ticket granting\nticket right there,\n\n1469\n01:14:45,550 --> 01:14:49,700\nthat's how I'm identifying myself and\nreaching out and running these services.\n\n1470\n01:14:49,700 --> 01:14:52,320\nSo you can get an idea of whether\nyou have a valid certificate.\n\n1471\n01:14:52,320 --> 01:14:56,060\nIf this comes back empty,\nyou're not logged into Open Directory.\n\n1472\n01:14:56,060 --> 01:14:58,790\nMaybe you were logged in at some point,\nbut\n\n1473\n01:14:58,790 --> 01:15:01,810\nnow you've become disconnected from the\nnetwork and your ticket is expired, right?\n\n1474\n01:15:01,810 --> 01:15:05,850\nAnd you're trying to access the network\nnow, but you haven't gotten a new ticket.\n\n1475\n01:15:05,850 --> 01:15:08,030\nMaybe the domain is offline.\n\n1476\n01:15:08,030 --> 01:15:10,990\nWhatever open directory server\nis there is offline, and\n\n1477\n01:15:10,990 --> 01:15:12,635\nyour ticket's expired\nyou can't get a renewal.\n\n1478\n01:15:12,635 --> 01:15:14,080\nKlist will show that.\n\n1479\n01:15:14,080 --> 01:15:17,120\nYou'll be able to see that you\ndon't have a valid certificate.\n\n1480\n01:15:17,120 --> 01:15:19,770\nIf this comes back empty,\nyou know you've got problems.\n\n1481\n01:15:19,770 --> 01:15:22,720\nIt should come back with a certificate,\nat least one, or\n\n1482\n01:15:22,720 --> 01:15:28,050\na ticket granting ticket, and you should\ncurrently be in between these two times.\n\n1483\n01:15:28,050 --> 01:15:30,260\nWhatever the time is on your clock\nshould be between these two,\n\n1484\n01:15:30,260 --> 01:15:32,200\nand you'll be a healthy system.\n\n1485\n01:15:33,310 --> 01:15:35,970\nIf you stay logged in past this time,\n\n1486\n01:15:35,970 --> 01:15:38,380\nyour system will automatically\nget a new ticket.\n\n1487\n01:15:38,380 --> 01:15:39,500\nIn fact, if you're ever bored one day,\n\n1488\n01:15:39,500 --> 01:15:42,560\nyou can just sit here and re-run klist\nover and over and over again, and\n\n1489\n01:15:42,560 --> 01:15:46,330\neventually you'll see this renew\neven before you hit the end time.\n\n1490\n01:15:46,330 --> 01:15:48,030\nIt doesn't run the full\nlife of the certificate.\n\n1491\n01:15:48,030 --> 01:15:50,820\nIt'll actually renew early\nto make sure that you have\n\n1492\n01:15:50,820 --> 01:15:52,180\na zero interruption connection.\n\n1493\n01:15:54,010 --> 01:15:57,470\nAll right, so the klist utility is\njust another way that we can see that\n\n1494\n01:15:57,470 --> 01:15:58,430\nright there in the command line.\n\n1495\n01:16:00,140 --> 01:16:05,050\nAll right well that pretty much wraps up\nall I've got on user accounts and groups,\n\n1496\n01:16:05,050 --> 01:16:07,300\nand basic Kerberos authentication.\n\n1497\n01:16:07,300 --> 01:16:10,860\nIt's a good way to see how to\nactually use the stuff that we\n\n1498\n01:16:10,860 --> 01:16:12,610\nset up in the other episodes.\n\n1499\n01:16:12,610 --> 01:16:15,180\nVery powerful,\nnow I did a really small environment here,\n\n1500\n01:16:15,180 --> 01:16:18,130\nin yours you might have hundreds or\nthousands of users.\n\n1501\n01:16:18,130 --> 01:16:20,480\nGets to be really big,\nwell it'll scale to that.\n\n1502\n01:16:20,480 --> 01:16:23,090\nOpen Directory can scale very, very large.\n\n1503\n01:16:23,090 --> 01:16:26,900\nJust keep in mind, you might need\nmore than one directory server,\n\n1504\n01:16:26,900 --> 01:16:28,680\nbecause the servers do\nstart to get bogged down.\n\n1505\n01:16:28,680 --> 01:16:32,180\nThey get kind of busy handling all\nthese authentication requests.\n\n1506\n01:16:32,180 --> 01:16:37,410\nSo on average, a Open Directory server\ncan handle a few thousand users.\n\n1507\n01:16:37,410 --> 01:16:41,020\nI usually try and\nkeep it around 2,500 users per replica.\n\n1508\n01:16:41,020 --> 01:16:43,490\nAnd then you just add more\nreplicas as you need.\n\n1509\n01:16:43,490 --> 01:16:45,581\nIf you've got less than\n2,500 users though,\n\n1510\n01:16:45,581 --> 01:16:48,260\nthen you probably only need\ntwo directory servers.\n\n1511\n01:16:48,260 --> 01:16:50,240\nYou should always have two.\n\n1512\n01:16:50,240 --> 01:16:53,410\nIf one fails, you wanna have\na back up that's already running.\n\n1513\n01:16:53,410 --> 01:16:55,980\nYou don't want to go offline and\nhave to go and do a recovery.\n\n1514\n01:16:55,980 --> 01:16:58,440\nYou'd rather have two and be in business.\n\n1515\n01:16:58,440 --> 01:17:00,480\nPretty easy to create all this stuff so\nyou might as well do two.\n\n1516\n01:17:01,574 --> 01:17:05,530\nAll right, well about it for user\naccounts, so let me just remind you guys,\n\n1517\n01:17:05,530 --> 01:17:09,930\nif you have questions on anything\nwe've talked about, feel free to ask.\n\n1518\n01:17:09,930 --> 01:17:12,930\nLive during the show you can\ngo to http://itpro.tv/live and\n\n1519\n01:17:12,930 --> 01:17:15,040\nyou'll see the chat room\nright beneath the video.\n\n1520\n01:17:15,040 --> 01:17:18,410\nPost your questions there,\nwe monitor and answer during the show.\n\n1521\n01:17:18,410 --> 01:17:21,700\nIf you have any questions after the show,\nuse our Q&A forums.\n\n1522\n01:17:21,700 --> 01:17:25,282\nAt the top of every page on ITProTV\nyou'll see a link that says Q&A.\n\n1523\n01:17:25,282 --> 01:17:28,010\nIt'll take you to the forums,\nyou can post your questions there.\n\n1524\n01:17:28,010 --> 01:17:30,240\nWe monitor and answer after the show.\n\n1525\n01:17:30,240 --> 01:17:32,865\nOne way or another we'll get you\nthe answers to your questions because\n\n1526\n01:17:32,865 --> 01:17:34,080\nthat's what we're all about.\n\n1527\n01:17:34,080 --> 01:17:37,200\nWe want to make sure you guys have all\nthe information you need to be successful.\n\n1528\n01:17:38,500 --> 01:17:40,200\nWell, that's all I've got for today.\n\n1529\n01:17:40,200 --> 01:17:44,790\nSo signing off for ITProTV, I'm Don Pezet,\nand I'll see you next time.\n\n1530\n01:17:44,790 --> 01:17:54,790\n[MUSIC]\n\n1531\n01:17:58,710 --> 01:17:59,210\n[SOUND]\n\n",
          "vimeoId": "122423040"
        }
      ],
      "title": "Configuring Accounts"
    },
    {
      "episodes": [
        {
          "description": "In this episode Don demonstrates how to configure the Profile Manager to deploy configuration profiles to end user machines. He also shows some of the settings that can be configured.",
          "length": "4762",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-3-1-configuration_profiles-031715-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-3-1-configuration_profiles-031715-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-3-1-configuration_profiles-031715-1-sm.jpg",
          "title": "Configuration Profiles",
          "transcript": "1\n00:00:00,000 --> 00:00:10,000\n[NOISE]\n\n2\n00:00:15,299 --> 00:00:25,299\n[MUSIC]\n\n3\n00:00:33,551 --> 00:00:34,641\nAll right.\nGood morning.\n\n4\n00:00:34,641 --> 00:00:35,181\nGood afternoon.\n\n5\n00:00:35,181 --> 00:00:35,920\nAnd good evening.\n\n6\n00:00:35,920 --> 00:00:37,440\nAnd welcome back.\n\n7\n00:00:37,440 --> 00:00:38,830\nTo another episode of ITProTV.\n\n8\n00:00:38,830 --> 00:00:40,860\nI'm your host, Don Pezet.\n\n9\n00:00:40,860 --> 00:00:44,970\nBack again with another episode of\nApple-Certified Technical Coordinator.\n\n10\n00:00:44,970 --> 00:00:47,060\nWe're going to be diving right\nback into our Apple Technology.\n\n11\n00:00:47,060 --> 00:00:49,550\nAnd today's is one of those neat ones.\n\n12\n00:00:49,550 --> 00:00:51,360\nI know this is one that a lot of\nviewers have been waiting for.\n\n13\n00:00:51,360 --> 00:00:54,650\nWe're going to be taking\na look at the Profile Manager.\n\n14\n00:00:54,650 --> 00:00:55,370\nNow.\n\n15\n00:00:55,370 --> 00:00:56,820\nWhat is the Profile Manager?\n\n16\n00:00:56,820 --> 00:01:00,910\nWell, if you've got 1 Mac,\nor 5 Macs for that matter.\n\n17\n00:01:00,910 --> 00:01:03,210\nAnd you want to get them\nset-up a particular way.\n\n18\n00:01:03,210 --> 00:01:06,180\nYou want them to have\ncertain Default Settings.\n\n19\n00:01:06,180 --> 00:01:07,170\nCertain Wallpaper.\n\n20\n00:01:07,170 --> 00:01:08,860\nCertain Permissions.\n\n21\n00:01:08,860 --> 00:01:10,440\nWell, you just go and set that up.\n\n22\n00:01:10,440 --> 00:01:11,600\nYou've only got a couple of Macs.\n\n23\n00:01:11,600 --> 00:01:13,180\nYou just do it by hand.\n\n24\n00:01:13,180 --> 00:01:15,330\nBut what if you've got 500 macs?\n\n25\n00:01:15,330 --> 00:01:16,270\nor 5,000 macs?\n\n26\n00:01:16,270 --> 00:01:20,080\nAnd you want them all\nconfigured the same way?\n\n27\n00:01:20,080 --> 00:01:22,320\nWell, that becomes really challenging.\n\n28\n00:01:22,320 --> 00:01:23,510\nYou can't just sit there.\n\n29\n00:01:23,510 --> 00:01:24,010\nAnd go through.\n\n30\n00:01:24,010 --> 00:01:25,480\nAnd configure all those machines.\n\n31\n00:01:25,480 --> 00:01:28,240\nWell, I guess if you were an hourly\nemployee then it would create\n\n32\n00:01:28,240 --> 00:01:29,080\nsome job security.\n\n33\n00:01:29,080 --> 00:01:29,670\nYou could just go and\n\n34\n00:01:29,670 --> 00:01:32,850\nspend day after day after day doing\nthe same thing over and over again.\n\n35\n00:01:32,850 --> 00:01:38,070\nBut wouldn't it be nice to have\na way to implement that all at once.\n\n36\n00:01:38,070 --> 00:01:41,600\nTo have a Standard Configuration\nwe push out to our machines.\n\n37\n00:01:41,600 --> 00:01:44,610\nThe other thing is, if you work in\nan environment where you have all\n\n38\n00:01:44,610 --> 00:01:47,450\nhighly trained IT Professionals\nthat are responsible.\n\n39\n00:01:47,450 --> 00:01:50,650\nThat have read your Security Policies and\nfollowed them to the letter.\n\n40\n00:01:50,650 --> 00:01:52,842\nOnce that configuration is in place,\nyou're done.\n\n41\n00:01:52,842 --> 00:01:55,570\nBut I've never worked in that environment.\n\n42\n00:01:55,570 --> 00:01:59,470\nI've never worked where I was surrounded\nby highly trained IT Professionals.\n\n43\n00:01:59,470 --> 00:02:02,530\nYou're normally working\nwith some IT Professionals.\n\n44\n00:02:02,530 --> 00:02:06,390\nBut most of your company has\nemployees that aren't IT guys.\n\n45\n00:02:06,390 --> 00:02:08,450\nThey are accountants.\n\n46\n00:02:08,450 --> 00:02:13,300\nAnd lawyers, receptionists,\nmail clerks, whatever.\n\n47\n00:02:13,300 --> 00:02:14,780\nIT is not their forte.\n\n48\n00:02:14,780 --> 00:02:18,970\nAnd when a computer is set a certain way\nfor security reasons and it annoys them.\n\n49\n00:02:18,970 --> 00:02:21,790\nThey'll look for ways to bypass that,\njust turn it off.\n\n50\n00:02:21,790 --> 00:02:26,690\nSo not only do we need a way to centrally\ncreate a Standard Configuration for\n\n51\n00:02:26,690 --> 00:02:27,910\nour machines.\n\n52\n00:02:27,910 --> 00:02:31,310\nWe need some way to make sure\nthe machines stay configured that way.\n\n53\n00:02:32,330 --> 00:02:35,220\nIf I set a machine to, let's just say for\n\n54\n00:02:35,220 --> 00:02:40,500\nexample, require a password\nwhen the Screensaver kicks on.\n\n55\n00:02:40,500 --> 00:02:43,270\nSo if the Screensaver\nkicks on the machine.\n\n56\n00:02:43,270 --> 00:02:45,500\nAnd somebody tries to wake the machine up.\n\n57\n00:02:45,500 --> 00:02:46,950\nIt'll prompt for a password.\n\n58\n00:02:46,950 --> 00:02:48,310\nThat's a security measure.\n\n59\n00:02:48,310 --> 00:02:50,690\nWe do that to make sure that\nsomebody else doesn't come and\n\n60\n00:02:50,690 --> 00:02:52,450\nuse your computer while your gone.\n\n61\n00:02:52,450 --> 00:02:54,140\nNow some users get annoyed with that.\n\n62\n00:02:54,140 --> 00:02:55,240\nThe screensaver came on.\n\n63\n00:02:55,240 --> 00:02:56,930\nNow I gotta type my password.\n\n64\n00:02:56,930 --> 00:02:58,730\nSo they might want to turn that off.\n\n65\n00:02:58,730 --> 00:03:02,430\nBut if we have a security policy that\nsays, that setting needs to be in place.\n\n66\n00:03:02,430 --> 00:03:04,890\nWe need that to be enforced.\n\n67\n00:03:04,890 --> 00:03:07,590\nI can use the Profile Manager to\n\n68\n00:03:07,590 --> 00:03:11,860\ncreate a Standard Configuration that\nrequires that Screensaver Password.\n\n69\n00:03:11,860 --> 00:03:15,250\nBut a user can go and turn that\nScreensaver Password off, couldn't they?\n\n70\n00:03:15,250 --> 00:03:17,020\nThey can, it's not hard to do.\n\n71\n00:03:17,020 --> 00:03:20,240\nWell, using the Profile Manager.\n\n72\n00:03:20,240 --> 00:03:23,650\nI can continue to push updates\nout to that machine so\n\n73\n00:03:23,650 --> 00:03:25,590\nthat if somebody turns the setting off.\n\n74\n00:03:25,590 --> 00:03:27,860\nWe just turn it right back on again.\n\n75\n00:03:27,860 --> 00:03:29,650\nRight?\nThat's how we can enforce that setting.\n\n76\n00:03:29,650 --> 00:03:32,620\nOr we can make it where they can't\nturn it off in the first place.\n\n77\n00:03:32,620 --> 00:03:34,610\nThe Profile Manager is very powerful for\nthat.\n\n78\n00:03:35,900 --> 00:03:37,170\nIt's a neat product.\n\n79\n00:03:37,170 --> 00:03:40,260\nAnd it really does work well\nwith Mac desktops and laptops.\n\n80\n00:03:40,260 --> 00:03:41,930\nAnything that's running OS10.\n\n81\n00:03:41,930 --> 00:03:43,620\nBut the funny part about it.\n\n82\n00:03:43,620 --> 00:03:45,950\nIt wasn't even designed for\nthat originally.\n\n83\n00:03:45,950 --> 00:03:50,450\nThe Profile Manager was originally\ndesigned for managing mobile devices..\n\n84\n00:03:50,450 --> 00:03:55,310\nIt was part of the whole MDM movement,\nthe Mobile Device Management.\n\n85\n00:03:55,310 --> 00:04:00,000\nThe original versions were designed to\nbe able to control iPhones and iPads.\n\n86\n00:04:00,000 --> 00:04:02,610\nTo be able to manage what\napplications are running on them.\n\n87\n00:04:02,610 --> 00:04:04,640\nAnd in the event that they were lost.\n\n88\n00:04:04,640 --> 00:04:07,830\nTo be able to lock their screen to\nprevent people from using them.\n\n89\n00:04:07,830 --> 00:04:11,310\nAnd to erase the device\nif you couldn't find it.\n\n90\n00:04:11,310 --> 00:04:13,370\nSo if I left my phone on a train.\n\n91\n00:04:13,370 --> 00:04:14,240\nOr on a cab.\n\n92\n00:04:14,240 --> 00:04:15,050\nOr whatever.\n\n93\n00:04:15,050 --> 00:04:16,940\nThat I don't know who\nhas my phone anymore.\n\n94\n00:04:16,940 --> 00:04:17,690\nIt's gone.\n\n95\n00:04:17,690 --> 00:04:20,900\nIt could just be somebody, innocent\nwho turns it into a lost and found.\n\n96\n00:04:20,900 --> 00:04:22,150\nOr it could be somebody notorious.\n\n97\n00:04:22,150 --> 00:04:23,810\nIt's like digging through all the emails.\n\n98\n00:04:23,810 --> 00:04:25,820\nAnd trying to find personal information.\n\n99\n00:04:25,820 --> 00:04:29,430\nWell, with an MBM solution\nlike the Profile Manager.\n\n100\n00:04:29,430 --> 00:04:30,020\nI can go in there.\n\n101\n00:04:30,020 --> 00:04:32,080\nAnd I can say, you know what,\njust erase my phone.\n\n102\n00:04:32,080 --> 00:04:33,030\nJust erase it.\n\n103\n00:04:33,030 --> 00:04:34,650\nAnd somebody else has got the phone.\n\n104\n00:04:34,650 --> 00:04:36,320\nI'm gonna have to cope with that.\n\n105\n00:04:36,320 --> 00:04:38,570\nBut at least my data won't be on there.\n\n106\n00:04:38,570 --> 00:04:39,900\nAnd that's really where this came from.\n\n107\n00:04:39,900 --> 00:04:43,410\nAnd then over the years Apple said,\nhey this is a great solution.\n\n108\n00:04:43,410 --> 00:04:46,320\nIt works wonderful with iPad and iPhone.\n\n109\n00:04:46,320 --> 00:04:48,550\nLet's extend that over\nto the desktop side.\n\n110\n00:04:48,550 --> 00:04:50,340\nSo we can use it with our MacBooks.\n\n111\n00:04:50,340 --> 00:04:51,674\nOur MacPros.\n\n112\n00:04:51,674 --> 00:04:53,070\nMacMinis.\n\n113\n00:04:53,070 --> 00:04:54,600\nThose devices too.\n\n114\n00:04:54,600 --> 00:04:58,940\nNow you can have it set where your\ncomputer can be Remote Wiped.\n\n115\n00:04:58,940 --> 00:05:01,540\nNow, how often do you need to\nRemote Wipe your computer?\n\n116\n00:05:01,540 --> 00:05:03,930\nYou don't, so\nthat's a feature that's there.\n\n117\n00:05:03,930 --> 00:05:05,550\nBut we really don't necessarily need it.\n\n118\n00:05:05,550 --> 00:05:06,290\nMaybe on a laptop.\n\n119\n00:05:06,290 --> 00:05:07,960\nI guess that would be a different story.\n\n120\n00:05:07,960 --> 00:05:11,370\nBut where it really comes in handy\nare the other Configuration Settings.\n\n121\n00:05:11,370 --> 00:05:13,110\nThings like a Screensaver Password.\n\n122\n00:05:13,110 --> 00:05:14,970\nOr what applications are installed.\n\n123\n00:05:14,970 --> 00:05:18,250\nThat's all stuff we can push\nwith the Profile Manager.\n\n124\n00:05:18,250 --> 00:05:20,050\nIt's really cool.\n\n125\n00:05:20,050 --> 00:05:21,860\nAnd it's all part of the Server App.\n\n126\n00:05:21,860 --> 00:05:25,290\nThere's other vendors that are out\nthere like Microsoft and Redhat.\n\n127\n00:05:25,290 --> 00:05:26,710\nThat have solutions like this.\n\n128\n00:05:26,710 --> 00:05:29,258\nThat are incredibly expensive,\nthousands of dollars.\n\n129\n00:05:29,258 --> 00:05:30,157\nApple's?\n\n130\n00:05:30,157 --> 00:05:32,550\nIt's $20, part of the server app and\nyou've got it.\n\n131\n00:05:32,550 --> 00:05:35,460\nYou can push it out and it works great.\n\n132\n00:05:35,460 --> 00:05:37,430\nSo that's what we're gonna take\na look at in this episode.\n\n133\n00:05:37,430 --> 00:05:39,790\nIs the Profile Manager and\nhow it functions.\n\n134\n00:05:39,790 --> 00:05:42,100\nNow the name of this episode,\n\n135\n00:05:42,100 --> 00:05:46,840\nif I can remember because I don't see it\non my screen, is Configuration Profiles.\n\n136\n00:05:46,840 --> 00:05:48,420\nSo if I'm talking about\nthe Profile Manager,\n\n137\n00:05:48,420 --> 00:05:50,800\nwhat exactly is a Configuration Profile?\n\n138\n00:05:50,800 --> 00:05:55,430\nWell a Configuration Profile is what\nwe make with the Profile Manager.\n\n139\n00:05:55,430 --> 00:05:57,720\nThe Profile Manager is the utility.\n\n140\n00:05:57,720 --> 00:06:00,660\nThe Configuration Profile\nis what you make.\n\n141\n00:06:00,660 --> 00:06:04,900\nThe Profile Manager is what's\na part of the Server App.\n\n142\n00:06:04,900 --> 00:06:06,320\nAnd you've probably already seen it here.\n\n143\n00:06:06,320 --> 00:06:08,300\nLet me bring up a server.\n\n144\n00:06:08,300 --> 00:06:12,460\nSo, I've got a server right here and\nI'm running macOS10.2.\n\n145\n00:06:12,460 --> 00:06:15,900\nAnd I've got the Server App up and\nrunning.\n\n146\n00:06:15,900 --> 00:06:18,620\nAnd on my left side,\nnot even down here in advanced,\n\n147\n00:06:18,620 --> 00:06:23,540\njust in the regular services you'll\nsee the Profile Manager right there.\n\n148\n00:06:23,540 --> 00:06:29,670\nThat's the Server Piece that lets us build\nand host configurations for our devices.\n\n149\n00:06:29,670 --> 00:06:33,670\nAnd that's iPhone, iPad,\nand Mac OS devices.\n\n150\n00:06:33,670 --> 00:06:35,670\nSo, it's IOS and OS 10.\n\n151\n00:06:36,830 --> 00:06:38,030\nSo, it's right there.\n\n152\n00:06:38,030 --> 00:06:40,270\nWe can fire it up and\nwe can start to use it.\n\n153\n00:06:40,270 --> 00:06:42,960\nWhen we build a configuration.\n\n154\n00:06:42,960 --> 00:06:45,660\nThat configuration is really\njust a list of settings.\n\n155\n00:06:45,660 --> 00:06:47,720\nAnd it's stored in some XML files.\n\n156\n00:06:47,720 --> 00:06:49,140\nAnd those XML files.\n\n157\n00:06:49,140 --> 00:06:52,090\nThat's what makes up our\nConfiguration Profile.\n\n158\n00:06:52,090 --> 00:06:55,230\nAnd we send the Configuration Profile\nout to our clients.\n\n159\n00:06:55,230 --> 00:06:57,230\nOut to our laptops and desktops.\n\n160\n00:06:57,230 --> 00:06:59,380\nSo that they can be installed there.\n\n161\n00:06:59,380 --> 00:07:02,970\nAnd have those settings in place.\n\n162\n00:07:02,970 --> 00:07:04,490\nReally neat software.\n\n163\n00:07:04,490 --> 00:07:06,520\nIt's shockingly inexpensive.\n\n164\n00:07:06,520 --> 00:07:08,020\nAnd you know why Apple's doing this.\n\n165\n00:07:08,020 --> 00:07:09,490\nBecause Apple's saying,\n\n166\n00:07:09,490 --> 00:07:13,480\nwe want our products to be easy to\nimplement at schools and businesses.\n\n167\n00:07:13,480 --> 00:07:17,100\nSo we're willing to practically\ngive our software away for free.\n\n168\n00:07:17,100 --> 00:07:20,020\nBecause we know it's going to help\nthose corporate enterprise users.\n\n169\n00:07:20,020 --> 00:07:21,640\nReally helping the education users.\n\n170\n00:07:21,640 --> 00:07:22,842\nThat's what they really want to help.\n\n171\n00:07:22,842 --> 00:07:24,420\nAll right.\n\n172\n00:07:24,420 --> 00:07:26,590\nSo that's the Profile Manager.\n\n173\n00:07:26,590 --> 00:07:28,450\nAnd the thing that we're going to create.\n\n174\n00:07:28,450 --> 00:07:30,260\nThat Configuration Profile.\n\n175\n00:07:30,260 --> 00:07:32,910\nThere is actually a few other\nthings that we can create with it.\n\n176\n00:07:32,910 --> 00:07:35,330\nAnd one of them is really important.\n\n177\n00:07:35,330 --> 00:07:39,940\nThe Configuration Profiles, we push\nthem out, can be kind of dangerous.\n\n178\n00:07:39,940 --> 00:07:42,810\nImagine if somebody\ncreated a malicious file.\n\n179\n00:07:42,810 --> 00:07:45,670\nA Configuration Profile that had all\nsorts of really bad settings in it.\n\n180\n00:07:45,670 --> 00:07:46,990\nThat really weaken security.\n\n181\n00:07:46,990 --> 00:07:47,910\nAnd then went out.\n\n182\n00:07:47,910 --> 00:07:49,960\nAnd started pushing it to your machines.\n\n183\n00:07:49,960 --> 00:07:50,658\nThat'd be pretty bad.\n\n184\n00:07:50,658 --> 00:07:54,013\nSo when we get set-up\nwith a Profile Manager.\n\n185\n00:07:54,013 --> 00:07:57,924\nOne of the things that we have to\ndo is what's called an Enrollment.\n\n186\n00:07:57,924 --> 00:08:01,709\nClients aren't going to trust\nyour server by default.\n\n187\n00:08:01,709 --> 00:08:04,090\nThey don't know who you are.\n\n188\n00:08:04,090 --> 00:08:08,950\nSo we have to make our clients\nrecognize the server and trust it.\n\n189\n00:08:08,950 --> 00:08:12,490\nWe do that wath was called\nan Enrollment Profile.\n\n190\n00:08:12,490 --> 00:08:15,160\nEnrollment Profile is a lot\nlike an Configuration Profile.\n\n191\n00:08:15,160 --> 00:08:18,070\nA Configuration Profile has all\nthe Configuration Settings.\n\n192\n00:08:18,070 --> 00:08:19,190\nAll the Security Settings.\n\n193\n00:08:19,190 --> 00:08:22,190\nAnd just other General Settings\nthat we push with it.\n\n194\n00:08:22,190 --> 00:08:26,210\nAn Enrollment Profile though,\nreally just has 2 things.\n\n195\n00:08:26,210 --> 00:08:29,200\nOne.\nIt has a set of certificates in it.\n\n196\n00:08:29,200 --> 00:08:31,940\nIf you remember from\nour certificate episode\n\n197\n00:08:31,940 --> 00:08:35,080\nwhen we bring up a server in mac OS.\n\n198\n00:08:35,080 --> 00:08:37,250\nAnd we make it like\nan open director server.\n\n199\n00:08:37,250 --> 00:08:39,460\nIt becomes a certificate authority.\n\n200\n00:08:39,460 --> 00:08:42,500\nBut nobody is going to trust\nthe certificates we issue.\n\n201\n00:08:42,500 --> 00:08:46,430\nWell the Enrollment Profile\ncontains our root certificate.\n\n202\n00:08:46,430 --> 00:08:49,060\nSo that other people will trust us.\n\n203\n00:08:49,060 --> 00:08:50,730\nSo that's the first\nthing that it contains.\n\n204\n00:08:50,730 --> 00:08:53,490\nThen the second thing\nthe Enrollment Profile contains\n\n205\n00:08:53,490 --> 00:08:54,870\nis information about our server.\n\n206\n00:08:54,870 --> 00:08:55,390\nWhere it is.\n\n207\n00:08:55,390 --> 00:08:56,480\nThe name of the server.\n\n208\n00:08:56,480 --> 00:08:58,390\nHow to contact it.\n\n209\n00:08:58,390 --> 00:09:00,520\nSometimes you don't\nhave direct connection.\n\n210\n00:09:00,520 --> 00:09:03,650\nI might be managing a laptop that's on\nthe other side of the world on a network\n\n211\n00:09:03,650 --> 00:09:05,260\nthat's just a public network.\n\n212\n00:09:05,260 --> 00:09:08,350\nMeanwhile, my server's right\nhere in on my protected network.\n\n213\n00:09:08,350 --> 00:09:10,010\nHow do those 2 talk to each other?\n\n214\n00:09:10,010 --> 00:09:12,170\nWell, the Enrollment Profile\ncontains that data too.\n\n215\n00:09:12,170 --> 00:09:14,430\nAnd we'll talk about\nthat a little bit later.\n\n216\n00:09:14,430 --> 00:09:16,318\nBut that's what in the Enrollment Profile.\n\n217\n00:09:16,318 --> 00:09:20,968\nSo step 1 of getting this set-up is,\nwell, turning on the Profile Manager.\n\n218\n00:09:20,968 --> 00:09:22,970\nGetting this set-up on the server.\n\n219\n00:09:22,970 --> 00:09:26,070\nStep 2 is enrolling our clients.\n\n220\n00:09:26,070 --> 00:09:28,880\nGetting our clients to trust our server.\n\n221\n00:09:28,880 --> 00:09:31,650\nAnd only when that's done are we ready for\nstep 3.\n\n222\n00:09:31,650 --> 00:09:35,300\nWhich is pushing a Configuration Profile\nout to our client.\n\n223\n00:09:35,300 --> 00:09:38,170\nSo you can't just jump right in and\nstart configuring the clients.\n\n224\n00:09:38,170 --> 00:09:40,670\nYou got some kind of pre-requisites\nthat you've gotta meet.\n\n225\n00:09:40,670 --> 00:09:43,990\nSome stuff we've gotta do just in\nthe very beginning to get things ready.\n\n226\n00:09:45,610 --> 00:09:46,166\nAll right.\n\n227\n00:09:46,166 --> 00:09:50,080\nSo let's talk about those\nprerequisites a little bit.\n\n228\n00:09:50,080 --> 00:09:52,460\nTechnically, there's no pre-requisite.\n\n229\n00:09:52,460 --> 00:09:54,400\nTechnically, you can\nfire-up the server app.\n\n230\n00:09:54,400 --> 00:09:55,630\nAnd go to Profile Manager.\n\n231\n00:09:55,630 --> 00:09:57,640\nAnd hit that little switch that says on.\n\n232\n00:09:57,640 --> 00:10:00,440\nAnd its on.\nBut it's not going to work.\n\n233\n00:10:00,440 --> 00:10:02,820\nWe have this little saying around here.\n\n234\n00:10:02,820 --> 00:10:05,040\nYou can do that, it won't work,\nbut you can do that.\n\n235\n00:10:06,150 --> 00:10:08,360\nIn this scenario we want it to work.\n\n236\n00:10:08,360 --> 00:10:10,440\nSo what are some of\nthe pre-requisites that we have?\n\n237\n00:10:10,440 --> 00:10:15,280\nFirst off, we need to go ahead and\nget an open directory in place.\n\n238\n00:10:15,280 --> 00:10:16,860\nIt doesn't have to be the same server.\n\n239\n00:10:16,860 --> 00:10:19,800\nIt doesn't have to be the server that's\nrunning Profile Manager but it can be.\n\n240\n00:10:19,800 --> 00:10:21,570\nIt certainly makes things easier.\n\n241\n00:10:21,570 --> 00:10:24,510\nWhen you bring up an open\ndirectory server.\n\n242\n00:10:24,510 --> 00:10:27,630\nThat open directory server\nis a Certificate Authority.\n\n243\n00:10:27,630 --> 00:10:30,110\nAnd so\nnow it's able to issue out certificates.\n\n244\n00:10:30,110 --> 00:10:32,250\nIf it's also the Profile Manager.\n\n245\n00:10:33,280 --> 00:10:36,550\nNow when somebody trusts that\nroute CA that you just created.\n\n246\n00:10:36,550 --> 00:10:38,240\nThey're also trusting the Profile Manager.\n\n247\n00:10:38,240 --> 00:10:40,470\nAnd that makes life a lot more simple.\n\n248\n00:10:40,470 --> 00:10:44,180\nBut you can deploy it where you\nhave one server that's up as your\n\n249\n00:10:44,180 --> 00:10:47,720\nOpen Directory Server and a second server\nthat's up as your Profile Manager.\n\n250\n00:10:47,720 --> 00:10:48,720\nYou can do that.\n\n251\n00:10:48,720 --> 00:10:52,290\nBut the Profile Manager just has\nto trust the Open Directory.\n\n252\n00:10:52,290 --> 00:10:55,780\nAnd the easiest way to do that is\nto bind it to the Open Directory.\n\n253\n00:10:55,780 --> 00:10:58,750\nSo, if your Profile Manager Server is not\n\n254\n00:10:58,750 --> 00:11:00,970\nthe same server that's\nrunning open directory.\n\n255\n00:11:00,970 --> 00:11:03,000\nYou just need to make sure\nthat the Profile Manager is\n\n256\n00:11:03,000 --> 00:11:05,040\nbound to the Open Directory.\n\n257\n00:11:05,040 --> 00:11:06,700\nSame thing goes for your clients.\n\n258\n00:11:06,700 --> 00:11:08,950\nThe clients don't have to be\nbound to the Open Directory.\n\n259\n00:11:08,950 --> 00:11:11,810\nBut it certainly makes things easier\nbecause that will make them automatically\n\n260\n00:11:11,810 --> 00:11:13,070\ntrust that certificate.\n\n261\n00:11:13,070 --> 00:11:16,220\nThe certificate will be included in\nthe Enrollment Profile too, though, so if\n\n262\n00:11:16,220 --> 00:11:20,100\nthey're not bound to your Open Directory,\nyou'll still be able to deploy to it.\n\n263\n00:11:20,100 --> 00:11:25,070\nIt's just through an extra little step so\ngetting an Open Directory is in place.\n\n264\n00:11:25,070 --> 00:11:28,130\nRemember a key thing of\nhaving a good Open Directory\n\n265\n00:11:28,130 --> 00:11:30,190\nis having a good DNS Infrastructure.\n\n266\n00:11:30,190 --> 00:11:33,060\nWe also need to make sure that our\nDNS Infrastructure's in place.\n\n267\n00:11:33,060 --> 00:11:36,630\nThat we've got our Forward Look-up Zones\nand Reverse Look-up Zones set-up.\n\n268\n00:11:36,630 --> 00:11:37,960\nAnd all that good stuff.\n\n269\n00:11:37,960 --> 00:11:40,350\nIf you haven't watched it,\nyou can jump back a few episodes and\n\n270\n00:11:40,350 --> 00:11:42,830\ncatch the one we did on DNS\nto see how that's done.\n\n271\n00:11:42,830 --> 00:11:44,120\nAll right.\n\n272\n00:11:44,120 --> 00:11:48,400\nThis is all just a matter of getting\na stable infrastructure in place.\n\n273\n00:11:48,400 --> 00:11:50,090\nNow let's say you don't have any of that.\n\n274\n00:11:50,090 --> 00:11:52,010\nLet's say this is your very first server.\n\n275\n00:11:52,010 --> 00:11:54,160\nYou just installed the server app.\n\n276\n00:11:54,160 --> 00:11:54,690\nAnd you wanna go.\n\n277\n00:11:54,690 --> 00:11:56,280\nAnd turn on Profile Manager.\n\n278\n00:11:56,280 --> 00:11:59,320\nWell, it'll see that you're\nmissing an Open Directory.\n\n279\n00:11:59,320 --> 00:12:01,560\nIt'll see that you're missing DNS.\n\n280\n00:12:01,560 --> 00:12:02,820\nAnd it'll configure them for you.\n\n281\n00:12:02,820 --> 00:12:05,210\nIt will actually turn them on and\nget them set-up.\n\n282\n00:12:05,210 --> 00:12:07,770\nSo, why am I saying do it ahead of time?\n\n283\n00:12:07,770 --> 00:12:09,850\nWell, this is something that I always say.\n\n284\n00:12:09,850 --> 00:12:13,230\nIs when you set-up a new service,\nthings can go wrong.\n\n285\n00:12:13,230 --> 00:12:15,730\nAnd when things go wrong\nyou got to troubleshoot it.\n\n286\n00:12:15,730 --> 00:12:17,350\nAnd when you're troubleshooting it.\n\n287\n00:12:17,350 --> 00:12:19,110\nIf it installed Profile Manager.\n\n288\n00:12:19,110 --> 00:12:20,070\nAnd Open Directory.\n\n289\n00:12:20,070 --> 00:12:21,730\nAnd DNS all at once.\n\n290\n00:12:21,730 --> 00:12:22,650\nWhere do you start?\n\n291\n00:12:22,650 --> 00:12:24,320\nThe problem can be in any one of those.\n\n292\n00:12:24,320 --> 00:12:28,050\nIt makes it really difficult to kind\nof isolate what that problem is.\n\n293\n00:12:28,050 --> 00:12:32,380\nSo I always recommend to people, don't\nlet the wizard set this stuff up for you.\n\n294\n00:12:32,380 --> 00:12:33,650\nSet it up yourself.\n\n295\n00:12:33,650 --> 00:12:35,040\nSet-up DNS first.\n\n296\n00:12:35,040 --> 00:12:36,020\nThat's usually where I start.\n\n297\n00:12:36,020 --> 00:12:37,410\nI get DNS up and running.\n\n298\n00:12:37,410 --> 00:12:38,200\nYou can test DNS.\n\n299\n00:12:38,200 --> 00:12:39,690\nYou can do some look-ups against it.\n\n300\n00:12:39,690 --> 00:12:40,960\nAnd make sure it's working.\n\n301\n00:12:40,960 --> 00:12:42,560\nIf you have problems now,\n\n302\n00:12:42,560 --> 00:12:46,010\nyou know it's DNS because that's\nthe only thing you've set-up.\n\n303\n00:12:46,010 --> 00:12:47,120\nAnd when that's done.\n\n304\n00:12:47,120 --> 00:12:48,950\nThen you set-up your Open Directory.\n\n305\n00:12:48,950 --> 00:12:50,060\nGet that up and running.\n\n306\n00:12:50,060 --> 00:12:50,780\nTest that out.\n\n307\n00:12:50,780 --> 00:12:53,760\nUse your Directory Utility or\nwhatever to reach in and test that out.\n\n308\n00:12:53,760 --> 00:12:56,690\nFind a client to it make\nsure that's working.\n\n309\n00:12:56,690 --> 00:13:00,960\nAnd if you have a problem here,\nwell, you already know DNS is good.\n\n310\n00:13:00,960 --> 00:13:03,080\nSo the problem is in Open Directory.\n\n311\n00:13:03,080 --> 00:13:04,540\nYou can solve the issue there.\n\n312\n00:13:04,540 --> 00:13:05,110\nAnd get it nice.\n\n313\n00:13:05,110 --> 00:13:06,670\nAnd stable.\nNow that you've got\n\n314\n00:13:06,670 --> 00:13:08,740\na stable infrastructure.\n\n315\n00:13:08,740 --> 00:13:10,530\nThen you install the Profile Manager.\n\n316\n00:13:10,530 --> 00:13:11,210\nYou get it set-up.\n\n317\n00:13:11,210 --> 00:13:14,540\nAnd if you have a problem now,\nit's in the Profile Manager.\n\n318\n00:13:14,540 --> 00:13:17,710\nMakes it super easy to troubleshoot\nbecause you know exactly where to look.\n\n319\n00:13:17,710 --> 00:13:20,490\nYou know which component\nis causing the problem.\n\n320\n00:13:20,490 --> 00:13:23,340\nIf they're all set-up at once,\nyou don't know which component.\n\n321\n00:13:23,340 --> 00:13:25,810\nAnd you end up having to dig\nthrough a lot of log files.\n\n322\n00:13:25,810 --> 00:13:26,840\nThat's why I recommend that.\n\n323\n00:13:28,390 --> 00:13:29,270\nAll right.\n\n324\n00:13:29,270 --> 00:13:30,880\nOnce that's done though.\n\n325\n00:13:30,880 --> 00:13:33,070\nNow we've got open DNS in place.\n\n326\n00:13:33,070 --> 00:13:35,820\nI'm sorry Open Directory and DNS in place.\n\n327\n00:13:35,820 --> 00:13:37,370\nThey're up and their running.\n\n328\n00:13:37,370 --> 00:13:39,860\nWe're ready to get\nthe Profile Manager set-up.\n\n329\n00:13:39,860 --> 00:13:41,290\nNow with a lot of services.\n\n330\n00:13:41,290 --> 00:13:45,330\nYou can just flip that on switch and\ndo some configuration.\n\n331\n00:13:45,330 --> 00:13:47,960\nBut with the Profile Manager,\nit's important that we do some\n\n332\n00:13:47,960 --> 00:13:52,040\nConfiguration Settings first\nbefore flipping the on switch.\n\n333\n00:13:52,040 --> 00:13:53,460\nLet me show you what I mean.\n\n334\n00:13:53,460 --> 00:13:55,110\nIf we jump here into this server.\n\n335\n00:13:55,110 --> 00:13:56,560\nSo this is my system.\n\n336\n00:13:56,560 --> 00:13:58,470\nAnd I've just named it OSX-SERVER1.\n\n337\n00:13:58,470 --> 00:13:59,370\nI can see it's up.\n\n338\n00:13:59,370 --> 00:14:01,020\nAnd it's running happy.\n\n339\n00:14:01,020 --> 00:14:02,890\nIt is an Open Directory Server.\n\n340\n00:14:02,890 --> 00:14:03,520\nSo it's up.\n\n341\n00:14:03,520 --> 00:14:04,210\nIt's the master.\n\n342\n00:14:04,210 --> 00:14:05,480\nAnd it's running.\n\n343\n00:14:05,480 --> 00:14:07,090\nAnd it's doing DNS.\n\n344\n00:14:07,090 --> 00:14:11,660\nAnd so I can see it's got some\nbasic DNS Configuration in place.\n\n345\n00:14:11,660 --> 00:14:13,080\nIf I toggle to show all the records.\n\n346\n00:14:13,080 --> 00:14:15,500\nI can see my Forward and\nReverse Look-up Zones.\n\n347\n00:14:15,500 --> 00:14:16,440\nEverything looks good there.\n\n348\n00:14:18,130 --> 00:14:20,080\nIf I go to my Profile Manager.\n\n349\n00:14:20,080 --> 00:14:20,882\nI can see that it's off.\n\n350\n00:14:20,882 --> 00:14:21,520\nAll right.\n\n351\n00:14:21,520 --> 00:14:22,160\nIt's turned off.\n\n352\n00:14:22,160 --> 00:14:23,780\nAnd it's not configured.\n\n353\n00:14:23,780 --> 00:14:25,780\nDevice Management is set to disabled.\n\n354\n00:14:25,780 --> 00:14:27,360\nSo it's not up and running.\n\n355\n00:14:28,550 --> 00:14:30,850\nInstead of just flipping\nthat switch though.\n\n356\n00:14:30,850 --> 00:14:33,560\nI'm going to go down here to\nDevice Management Disabled.\n\n357\n00:14:33,560 --> 00:14:35,950\nAnd I'm going to go to\nthe Configure Button.\n\n358\n00:14:35,950 --> 00:14:38,770\nAnd that's going to launch\nthe Configuration Wizard.\n\n359\n00:14:38,770 --> 00:14:41,990\nNow if you don't have Open Directory and\nDNS in place.\n\n360\n00:14:41,990 --> 00:14:45,690\nThe Configuration Wizard is about 10 or\n11 screens and it'll go through.\n\n361\n00:14:45,690 --> 00:14:47,480\nAnd set-up those things for you.\n\n362\n00:14:47,480 --> 00:14:49,250\nSince I've already got them in place.\n\n363\n00:14:49,250 --> 00:14:52,450\nIt's going to see all that and\nthis wizard is going to be pretty short.\n\n364\n00:14:52,450 --> 00:14:54,610\nI think it ends up being like 4 or\n5 screens.\n\n365\n00:14:54,610 --> 00:14:56,860\nWe just answer a couple of questions and\nit finishes up.\n\n366\n00:14:56,860 --> 00:14:57,870\n.\nSo\n\n367\n00:14:57,870 --> 00:15:00,410\nlife is a lot easier when your\ninfrastructures already in place.\n\n368\n00:15:01,800 --> 00:15:03,580\nNow it's just giving me some\ngeneral information here.\n\n369\n00:15:03,580 --> 00:15:04,500\nTelling me what we're about to do.\n\n370\n00:15:04,500 --> 00:15:07,000\nI'm gonna go ahead and just hit Next.\n\n371\n00:15:07,000 --> 00:15:10,580\nAnd it's gonna ask me about\nmy Organization Information.\n\n372\n00:15:10,580 --> 00:15:12,850\nAnd it's already got some data here.\n\n373\n00:15:12,850 --> 00:15:15,810\nWhich is data that it lifted\nout of the Open Directory.\n\n374\n00:15:15,810 --> 00:15:19,360\nMy Open Directory Organization\nis called ITProTV Lab.\n\n375\n00:15:19,360 --> 00:15:23,030\nAnd my Administrator Account, well,\nI just put my email address, don@ITProTV.\n\n376\n00:15:23,030 --> 00:15:24,800\nSo it's got that punched in there.\n\n377\n00:15:24,800 --> 00:15:26,410\nWhy is this important?\n\n378\n00:15:26,410 --> 00:15:30,020\nWell, if a user has a problem\nwith one of their settings.\n\n379\n00:15:30,020 --> 00:15:33,270\nIf they violate a Security Policy or\nviolate your configuration.\n\n380\n00:15:33,270 --> 00:15:34,700\nThey'll actually get a message and\n\n381\n00:15:34,700 --> 00:15:37,490\nit'll say, an error has occurred\nbecause of blah, blah, blah.\n\n382\n00:15:37,490 --> 00:15:40,580\nIf you need more information,\ncontact your administrator.\n\n383\n00:15:40,580 --> 00:15:41,840\nAnd it'll put this address in.\n\n384\n00:15:41,840 --> 00:15:45,080\nNow I put Don@ITProTV, that's me.\n\n385\n00:15:45,080 --> 00:15:46,980\nWell what if I'm busy that day?\n\n386\n00:15:46,980 --> 00:15:48,380\nI'm not gonna help that person.\n\n387\n00:15:48,380 --> 00:15:49,160\nOr if I'm out of the office.\n\n388\n00:15:49,160 --> 00:15:50,520\nOr what if I get fired?\n\n389\n00:15:50,520 --> 00:15:52,039\nIt's not necessarily a great\nperson to put in there.\n\n390\n00:15:52,039 --> 00:15:55,140\nNormally we want to put in\na distribution group instead.\n\n391\n00:15:55,140 --> 00:16:00,097\nSo we might put something\nlike helpdesk@lab.ITProTV.\n\n392\n00:16:00,097 --> 00:16:03,300\nAnd then that way they're emailing\nthis distribution group and so\n\n393\n00:16:03,300 --> 00:16:07,030\nthat it'll be more than one person who\ngets it and they get a faster response.\n\n394\n00:16:08,300 --> 00:16:10,090\nThen you can put a phone number in here.\n\n395\n00:16:10,090 --> 00:16:12,070\nIf they have a problem, who can they call?\n\n396\n00:16:12,070 --> 00:16:13,550\nRight.\nMaybe they don't wanna do an email.\n\n397\n00:16:13,550 --> 00:16:15,310\nThey wanna call somebody on the phone.\n\n398\n00:16:15,310 --> 00:16:17,420\nSo we can punch in a number there.\n\n399\n00:16:17,420 --> 00:16:22,130\nAnd this will be the phone number they can\ncall, in the event that they need that.\n\n400\n00:16:23,140 --> 00:16:25,050\nAnd you can punch in address, too.\n\n401\n00:16:25,050 --> 00:16:27,720\nThe address is not so\nimportant for them contacting you.\n\n402\n00:16:27,720 --> 00:16:29,270\nThey're not going to write you a letter.\n\n403\n00:16:29,270 --> 00:16:31,320\nBut, it's for\nthe certificate side of things.\n\n404\n00:16:31,320 --> 00:16:33,370\nWhen they go to validate\nthe configuration profile,\n\n405\n00:16:33,370 --> 00:16:35,690\nhow do they know it came\nfrom somebody trustworthy?\n\n406\n00:16:35,690 --> 00:16:37,990\nWell, this is the information\nthey're going to see.\n\n407\n00:16:37,990 --> 00:16:42,040\nThey'll see that it's\nfrom our organization,\n\n408\n00:16:42,040 --> 00:16:45,280\nand the address matches, the phone number,\nthey know who to contact.\n\n409\n00:16:45,280 --> 00:16:47,120\nAnd they know that its trustworthy.\n\n410\n00:16:47,120 --> 00:16:50,030\nSo I'm just punching in\nthe studio data here\n\n411\n00:16:50,030 --> 00:16:51,358\nif I can remember it all, there we go.\n\n412\n00:16:51,358 --> 00:16:56,540\nSo we got that in place and we will just\nhit next and most of that is optional.\n\n413\n00:16:56,540 --> 00:16:59,940\nI could have actually blanked some of\nthat out but if you blank it out and\n\n414\n00:16:59,940 --> 00:17:02,930\na user is trying to verify\nthe configuration profile,\n\n415\n00:17:02,930 --> 00:17:04,998\nthey can't necessarily do that, right?\n\n416\n00:17:04,998 --> 00:17:06,410\nCuz they can't.\n\n417\n00:17:06,410 --> 00:17:08,500\nSee it's blank, and\nthey might not choose to trust it.\n\n418\n00:17:10,180 --> 00:17:13,100\nNext it's gonna ask about my certificate.\n\n419\n00:17:13,100 --> 00:17:15,030\nNow when you install the server app,\n\n420\n00:17:15,030 --> 00:17:17,910\nthe system creates one\ncertificate automatically.\n\n421\n00:17:17,910 --> 00:17:20,240\nAnd it's a self signed certificate.\n\n422\n00:17:20,240 --> 00:17:23,710\nSo here in the wizard, that's what I'm\nsaying, the self signed certificate.\n\n423\n00:17:23,710 --> 00:17:24,960\nBut it's giving me a warning, it's saying,\n\n424\n00:17:24,960 --> 00:17:29,300\nthis certificate isn't signed by\na trusted certificate authority.\n\n425\n00:17:29,300 --> 00:17:31,910\nThe problem here is I\nmade the certificate up,\n\n426\n00:17:31,910 --> 00:17:33,740\nwell the server app did\nthe first time I ran it.\n\n427\n00:17:35,130 --> 00:17:39,080\nNo one else in the entire planet is going\nto trust this certificate because they\n\n428\n00:17:39,080 --> 00:17:40,540\ndon't know who we are, right?\n\n429\n00:17:40,540 --> 00:17:41,880\nWe just made this up.\n\n430\n00:17:41,880 --> 00:17:46,120\nSo it's better to choose a certificate\nthat the other people will trust.\n\n431\n00:17:46,120 --> 00:17:50,102\nWell, when I activated the open directory,\nit made me a CA,\n\n432\n00:17:50,102 --> 00:17:52,930\nit made me a certificate authority.\n\n433\n00:17:52,930 --> 00:17:55,890\nAnd the open directory\nhas its own certificate.\n\n434\n00:17:55,890 --> 00:18:00,140\nAnd if I drop this down,\nI'll see it right there in the list.\n\n435\n00:18:00,140 --> 00:18:04,100\nAnd I can see this one is tied\nto osx-rerver1.lab.itpro.tv.\n\n436\n00:18:04,100 --> 00:18:09,040\nAnd this is an intermediate CA, it's\na certificate authority for this system.\n\n437\n00:18:09,040 --> 00:18:11,120\nAnd I can choose to use that certificate.\n\n438\n00:18:11,120 --> 00:18:14,290\nBut notice how my warning didn't go away,\nright?\n\n439\n00:18:14,290 --> 00:18:17,430\nThis certificate is still generated by me.\n\n440\n00:18:17,430 --> 00:18:18,970\nI still made it, right?\n\n441\n00:18:18,970 --> 00:18:20,950\nThe open directory made it\nwhen it did its install.\n\n442\n00:18:22,310 --> 00:18:26,900\nWhat it's telling me here is that in\norder for the profile manager to work,\n\n443\n00:18:26,900 --> 00:18:30,580\nthe clients that connect are going\nto have to trust the certificate.\n\n444\n00:18:30,580 --> 00:18:33,750\nSo I'm going to have to add\nmy root certificate to their\n\n445\n00:18:33,750 --> 00:18:35,900\ntrusted roots in order for that to work.\n\n446\n00:18:35,900 --> 00:18:36,480\nAll right.\n\n447\n00:18:36,480 --> 00:18:37,310\nIt's not a big deal.\n\n448\n00:18:37,310 --> 00:18:38,280\nIt's real easy to do.\n\n449\n00:18:38,280 --> 00:18:39,470\nSo, I'm going to do that.\n\n450\n00:18:39,470 --> 00:18:41,610\nI'm going to use my internal certificates.\n\n451\n00:18:41,610 --> 00:18:45,510\nBut if you would rather use a certificate\nthat people already trust, well,\n\n452\n00:18:45,510 --> 00:18:50,650\nyou can go out to the internet, and\nyou can go to a company like Digisearch or\n\n453\n00:18:50,650 --> 00:18:55,840\nVerisign, or someone like that, and\nyou can buy a publicly signed certificate.\n\n454\n00:18:55,840 --> 00:18:58,540\nIt's usually only a few\nhundred bucks a year.\n\n455\n00:18:58,540 --> 00:19:01,720\nYou can buy one of those certificates, and\nyour clients will automatically trust it,\n\n456\n00:19:01,720 --> 00:19:03,870\nand this little warning will go away.\n\n457\n00:19:03,870 --> 00:19:07,100\nAll right, if you jump back a few\nepisodes we did one on certificates and\n\n458\n00:19:07,100 --> 00:19:08,010\nI showed how to do that.\n\n459\n00:19:08,010 --> 00:19:11,090\nHow to go out and\nbuy that public cert to be able to use.\n\n460\n00:19:11,090 --> 00:19:14,180\nIn my case, I'm just gonna use an internal\none and most of us are gonna do that.\n\n461\n00:19:14,180 --> 00:19:16,270\nRight?\nThere's not a whole ton of need for\n\n462\n00:19:16,270 --> 00:19:20,480\ngoing out and getting a public cert\nbecause we can trust the private ones.\n\n463\n00:19:20,480 --> 00:19:22,911\nYou're not gonna manage machines\nthat aren't yours anyway, or\n\n464\n00:19:22,911 --> 00:19:25,308\nat least most people aren't, and\nso it's not really an issue.\n\n465\n00:19:27,796 --> 00:19:31,365\nAll right, I'll go ahead and\nhit Next here, now is an interesting one,\n\n466\n00:19:31,365 --> 00:19:32,310\nall right?\n\n467\n00:19:32,310 --> 00:19:34,160\nIt's asking for an Apple ID.\n\n468\n00:19:34,160 --> 00:19:35,175\nWhy do I need an Apple ID?\n\n469\n00:19:35,175 --> 00:19:40,500\nWell, if I'm managing computers that\nare right here on the same network as me.\n\n470\n00:19:40,500 --> 00:19:43,370\nIf my server's right here, and\nthe other workstations and\n\n471\n00:19:43,370 --> 00:19:45,700\ndesktops or whatever are all\nright here in the same building,\n\n472\n00:19:45,700 --> 00:19:49,430\non the same local area network,\nthen I really don't need it.\n\n473\n00:19:49,430 --> 00:19:53,610\nBut, what if I'm managing a laptop,\nand iPhone or\n\n474\n00:19:53,610 --> 00:19:56,700\nan iPad and\nsomebody takes it out of the building?\n\n475\n00:19:56,700 --> 00:19:57,920\nThose are mobile devices, right?\n\n476\n00:19:57,920 --> 00:19:58,930\nThey're gonna leave the building.\n\n477\n00:19:58,930 --> 00:20:00,460\nThey're gonna go to other networks.\n\n478\n00:20:00,460 --> 00:20:04,900\nThey'll go to Starbucks and jump on their\nfree wireless or something like that.\n\n479\n00:20:04,900 --> 00:20:08,140\nWell if they're remote,\nhow am I supposed to talk to them?\n\n480\n00:20:08,140 --> 00:20:10,880\nHow am I supposed to tell them\nabout new configuration settings?\n\n481\n00:20:10,880 --> 00:20:13,440\nHow am I supposed to reach out and\nerase them if they're lost?\n\n482\n00:20:14,490 --> 00:20:17,120\nWell, you can't, right, not normally.\n\n483\n00:20:17,120 --> 00:20:21,200\nWith Apple though, we have what\nare called Apple push notifications.\n\n484\n00:20:21,200 --> 00:20:26,790\nApple push notifications is where we send\nour signal not directly to the laptop,\n\n485\n00:20:26,790 --> 00:20:28,220\nor iPhone, or iPad.\n\n486\n00:20:28,220 --> 00:20:30,710\nBut instead we send our signal to Apple.\n\n487\n00:20:31,770 --> 00:20:35,620\nAnd the devices,\nall have a connection back to Apple.\n\n488\n00:20:35,620 --> 00:20:39,560\nAnd our signal is able to go up to Apple,\nbounce off of their servers, and\n\n489\n00:20:39,560 --> 00:20:42,540\nthen go back down to that iPhone,\niPad, or laptop.\n\n490\n00:20:42,540 --> 00:20:46,080\nWherever it is in the entire world,\nassuming it has internet access.\n\n491\n00:20:47,080 --> 00:20:51,620\nSo if that iPhone or iPad is in the back\nof a cab, and it's sitting there\n\n492\n00:20:51,620 --> 00:20:57,120\npowered on and it's on the cellular\nnetwork, I can send a wipe signal.\n\n493\n00:20:57,120 --> 00:21:00,200\nIt goes to Apple, bounces off their\nservers, goes down to the device and\n\n494\n00:21:00,200 --> 00:21:01,780\nwipes it.\n\n495\n00:21:01,780 --> 00:21:04,650\nIf somebody steals that iPhone or\niPad, they would\n\n496\n00:21:04,650 --> 00:21:09,320\nhave to immediately disable the wireless\nconnectivity to stop that from happening.\n\n497\n00:21:09,320 --> 00:21:10,670\nIf they disable the wireless activity,\n\n498\n00:21:10,670 --> 00:21:13,320\nyeah, there's no way that you\ncan get to it to wipe it.\n\n499\n00:21:13,320 --> 00:21:17,210\nBut the instant it gets internet access,\nthe first thing that device does it check\n\n500\n00:21:17,210 --> 00:21:20,550\nin with Apple to say, hey, are there\nany notifications waiting for me?\n\n501\n00:21:20,550 --> 00:21:22,110\nCuz Apple's trying to push them down.\n\n502\n00:21:22,110 --> 00:21:23,860\nThat's why they're push notifications.\n\n503\n00:21:23,860 --> 00:21:26,400\nBut if your device has been off a while,\nit will do a pull.\n\n504\n00:21:26,400 --> 00:21:29,290\nIt'll reach out to Apple and say, what's\nwaiting for me, give it to me, right?\n\n505\n00:21:29,290 --> 00:21:31,150\nAnd pull those settings down and\nget it good to go.\n\n506\n00:21:32,150 --> 00:21:35,270\nSo in order to make all that work,\n\n507\n00:21:35,270 --> 00:21:38,310\nwe have to support Apple's\npush notification service.\n\n508\n00:21:38,310 --> 00:21:42,010\nAnd for that, we're actually going\nto use on of their certificates.\n\n509\n00:21:42,010 --> 00:21:44,570\nWe're going to use one of\ntheir certificates because\n\n510\n00:21:44,570 --> 00:21:47,080\nall Apple devices trust Apple.\n\n511\n00:21:47,080 --> 00:21:49,010\nIt's part of their default configuration.\n\n512\n00:21:49,010 --> 00:21:52,300\nSo if we use Apple's certificate,\nwe're guaranteed to have coverage.\n\n513\n00:21:52,300 --> 00:21:55,560\nThe way we link to that\nis with an Apple ID.\n\n514\n00:21:55,560 --> 00:22:00,170\nSo we need to punch in an Apple ID here\nto be able to reach out and get that.\n\n515\n00:22:00,170 --> 00:22:03,870\nNow I've been using a fake\nApple ID here in the show and\n\n516\n00:22:03,870 --> 00:22:08,010\none of the problems with this is in order\nto pull a certificate, your account has to\n\n517\n00:22:08,010 --> 00:22:13,310\nbe verified with Apple and I'm pretty\nsure my fake one is not verified.\n\n518\n00:22:13,310 --> 00:22:16,950\nLet me just try it here real quick and\nwe'll see if I can pull a certificate.\n\n519\n00:22:16,950 --> 00:22:21,220\nI want to show this to you because\nif you go into Apple's forums,\n\n520\n00:22:21,220 --> 00:22:25,030\nthere are tons of support posts\nin there where people say, oh,\n\n521\n00:22:25,030 --> 00:22:29,480\nthe push notification service is offline,\nor it's failed or whatever.\n\n522\n00:22:29,480 --> 00:22:33,830\nWell, if you punch in an Apple ID and\nit's not verified, it will sit here, and\n\n523\n00:22:33,830 --> 00:22:35,700\nsee how it says acquiring\npush certificate.\n\n524\n00:22:35,700 --> 00:22:40,830\nIts reaching out to Apple trying to get\nthat certificate and it may fail and\n\n525\n00:22:40,830 --> 00:22:43,790\nyou may get a message like this,\nerror getting push certificate,\n\n526\n00:22:43,790 --> 00:22:47,600\nand it doesn't really give\nus any details beyond that.\n\n527\n00:22:47,600 --> 00:22:49,980\nAnd Apples forums are just\nlittered with people saying,\n\n528\n00:22:49,980 --> 00:22:52,430\nI can't believe your service is offline.\n\n529\n00:22:52,430 --> 00:22:55,150\nWell, the problem here is not\nthat the service is offline,\n\n530\n00:22:55,150 --> 00:22:57,720\nit's just that the error\nmessage isn't very detailed.\n\n531\n00:22:57,720 --> 00:23:00,500\nIt means that that account\nhasn't been verified, right?\n\n532\n00:23:00,500 --> 00:23:03,160\nNormally when you set up an Apple ID,\nyou add an email address to it and\n\n533\n00:23:03,160 --> 00:23:05,460\nit sends a test email and\nyou verify it back and\n\n534\n00:23:05,460 --> 00:23:07,270\nyou have to go through\nthat kind of hurdle.\n\n535\n00:23:07,270 --> 00:23:09,410\nAnd you have to attach\na credit card to it.\n\n536\n00:23:09,410 --> 00:23:10,320\nAnd that's my problem.\n\n537\n00:23:10,320 --> 00:23:12,900\nMy test account doesn't have\na credit card attached to it.\n\n538\n00:23:12,900 --> 00:23:15,120\nAnd so it's not validated.\n\n539\n00:23:15,120 --> 00:23:17,250\nSo I have to use a real Apple ID,\n\n540\n00:23:17,250 --> 00:23:20,960\none that's been authorized,\nin order to get the certificate.\n\n541\n00:23:20,960 --> 00:23:26,150\nAnd when I punch that real ID in,\nit'll get the certificate from Apple.\n\n542\n00:23:26,150 --> 00:23:28,820\nAnd then it'll be ready\nto proceed from there.\n\n543\n00:23:28,820 --> 00:23:32,100\nAll right, so what I'm gonna do is I'm\ngonna punch in my real ID here but\n\n544\n00:23:32,100 --> 00:23:36,810\nI don't wanna do that on the show so let's\ntake a break right here for just a moment.\n\n545\n00:23:36,810 --> 00:23:40,090\nI'll punch in my credentials to get\nthat Apple push certificate and\n\n546\n00:23:40,090 --> 00:23:44,370\nthen we'll move forward from there to\nbe able to actually put this into play.\n\n547\n00:23:44,370 --> 00:23:45,620\nSo stay tuned.\n\n548\n00:23:45,620 --> 00:23:46,921\nWe'll be back in just a moment.\n\n549\n00:23:46,921 --> 00:23:53,859\n[SOUND]\nAll right.\n\n550\n00:23:53,859 --> 00:23:55,140\nWelcome back everybody.\n\n551\n00:23:55,140 --> 00:23:58,030\nSo during the break I just punched\nin my Apple ID and hit Next.\n\n552\n00:23:58,030 --> 00:24:00,490\nAnd it reached out and\nacquired a certificate.\n\n553\n00:24:00,490 --> 00:24:04,728\nSo now I'm equipped with an official\nApple push notifications certificate.\n\n554\n00:24:04,728 --> 00:24:07,944\nI'm ready to bounce my signals\nright through Apple servers.\n\n555\n00:24:07,944 --> 00:24:12,940\nThe last screen is just click to finish,\nenabling the device management.\n\n556\n00:24:12,940 --> 00:24:15,930\nWhen I finish that up now my\nserver's going to be configured.\n\n557\n00:24:15,930 --> 00:24:18,420\nIt's got the basic\ninformation that we need.\n\n558\n00:24:18,420 --> 00:24:22,720\nThere's a few other things we might want\nto tweak before we flip that on switch.\n\n559\n00:24:22,720 --> 00:24:26,450\nNotice here it says, Device Management\nEnabled and that's really all I needed so\n\n560\n00:24:26,450 --> 00:24:28,550\nI can go ahead and flip that switch.\n\n561\n00:24:28,550 --> 00:24:32,470\nBut one real important setting for\nus that's not turned on by default.\n\n562\n00:24:32,470 --> 00:24:35,110\nIt's right down here at the bottom,\nConfiguration Profiles.\n\n563\n00:24:35,110 --> 00:24:39,150\nSee how it says default configuration\nprofiles settings for everyone.\n\n564\n00:24:39,150 --> 00:24:42,810\nThat means it's already created\none configuration profile for\n\n565\n00:24:42,810 --> 00:24:46,300\nme called settings for everyone,\nand that's the default.\n\n566\n00:24:46,300 --> 00:24:48,760\nWhen a user or\na computer is added to my system,\n\n567\n00:24:48,760 --> 00:24:52,280\nthis is the set of configuration values\nthat are going to be pushed to it.\n\n568\n00:24:52,280 --> 00:24:56,360\nAnd then right beneath it it says\nsign configuration profiles.\n\n569\n00:24:56,360 --> 00:24:57,460\nNow what does that mean?\n\n570\n00:24:57,460 --> 00:25:01,780\nWell when we go to deploy our\nconfiguration files to the client,\n\n571\n00:25:01,780 --> 00:25:03,850\nthere's two ways to do it.\n\n572\n00:25:03,850 --> 00:25:06,090\nOne way is via the web interphase.\n\n573\n00:25:06,090 --> 00:25:09,510\nWe can browse to the profile manager\nwebsite from the client machine and\n\n574\n00:25:09,510 --> 00:25:10,450\nhit the Enroll button.\n\n575\n00:25:10,450 --> 00:25:12,240\nWe'll see that a little bit later.\n\n576\n00:25:12,240 --> 00:25:17,260\nAnother way is we can copy\nthe configuration file itself, and\n\n577\n00:25:17,260 --> 00:25:20,440\nwe can put it on a USB key and\ntake it to the machines and install it.\n\n578\n00:25:20,440 --> 00:25:23,090\nWe can throw it on a web server and\nhave them just browse and click on it.\n\n579\n00:25:23,090 --> 00:25:25,750\nThere's all sorts of different\nways you can push it from there.\n\n580\n00:25:25,750 --> 00:25:28,900\nBut the problem with taking\nthe file offline like that\n\n581\n00:25:28,900 --> 00:25:30,600\nis somebody could tamper with it.\n\n582\n00:25:30,600 --> 00:25:32,130\nSomebody could edit\nthe configuration files.\n\n583\n00:25:32,130 --> 00:25:36,230\nThey're just XML files, so they could\ntamper with it, modify it, change things\n\n584\n00:25:36,230 --> 00:25:40,380\nin a way that is detrimental to our\nenvironment, to the computer environment.\n\n585\n00:25:40,380 --> 00:25:42,710\nNot necessarily the regular environment.\n\n586\n00:25:42,710 --> 00:25:45,090\nSo, we need some way to\nprotect from that and\n\n587\n00:25:45,090 --> 00:25:47,480\ndigitally signing it is\nthe way that we do that.\n\n588\n00:25:47,480 --> 00:25:52,420\nWhen you digitally sign the configuration\nfile, if somebody modifies it,\n\n589\n00:25:52,420 --> 00:25:55,290\nthe file signature,\nthe digital hash, will fail,\n\n590\n00:25:55,290 --> 00:26:00,190\nit won't be able to verify that it was\ntampered with and so it won't apply.\n\n591\n00:26:00,190 --> 00:26:02,870\nThis really,\nI don't know why it's not on by default.\n\n592\n00:26:02,870 --> 00:26:07,140\nIt really should be to make sure that\nnobody can tamper with the file.\n\n593\n00:26:08,660 --> 00:26:11,910\nThe thing is, if you have\ndigital configuration profiles,\n\n594\n00:26:11,910 --> 00:26:14,100\nif you have digital signatures\non your configuration profiles,\n\n595\n00:26:14,100 --> 00:26:16,020\nyou can't directly edit the file.\n\n596\n00:26:16,020 --> 00:26:20,250\nAnd in the older systems you could do\nthat and people just got used to that.\n\n597\n00:26:20,250 --> 00:26:23,220\nBeing able to directly edit the files but\nit is a security risk and so\n\n598\n00:26:23,220 --> 00:26:25,780\nyou don't want to enable,\nyou don't wanna leave it that way.\n\n599\n00:26:25,780 --> 00:26:27,280\nDefinitely turn on signing in and\n\n600\n00:26:27,280 --> 00:26:30,310\nwhen you turn that on you have to choose\nwhat certificate you're gonna use, and\n\n601\n00:26:30,310 --> 00:26:33,760\nI'll just use that same one\nthat I used for my server.\n\n602\n00:26:33,760 --> 00:26:35,110\nAnd I'll hit OK there.\n\n603\n00:26:35,110 --> 00:26:39,470\nNow any configuration profile that I\ngenerate will be digitally signed.\n\n604\n00:26:39,470 --> 00:26:42,210\nNow, I do have to be careful\nabout a few things here.\n\n605\n00:26:42,210 --> 00:26:44,600\nEventually, my certificate's\ngoing to expire.\n\n606\n00:26:44,600 --> 00:26:48,240\nAnd so I've gotta make sure that I add\nit to my calendar and say, all right,\n\n607\n00:26:48,240 --> 00:26:50,480\nthis certificate expires a year from now.\n\n608\n00:26:50,480 --> 00:26:54,370\nSo a few weeks before it expires,\nI need to issue a new certificate and\n\n609\n00:26:54,370 --> 00:26:55,890\ncome in here and replace it.\n\n610\n00:26:55,890 --> 00:26:59,140\nAnd you can just hit the Edit button\nover here and it'll let you replace and\n\n611\n00:26:59,140 --> 00:27:02,890\npick your other certificate to get\nthat one renewed and up to date.\n\n612\n00:27:02,890 --> 00:27:04,270\nJust remember to do that.\n\n613\n00:27:04,270 --> 00:27:08,070\nIf you don't,\nwhen that certificate expires,\n\n614\n00:27:08,070 --> 00:27:10,980\npeople will no longer be able to\ninstall that configuration profile.\n\n615\n00:27:10,980 --> 00:27:14,860\nTheir existing settings will stay,\nbut their new settings won't deploy.\n\n616\n00:27:14,860 --> 00:27:16,870\nIf anything changes, it won't correct it.\n\n617\n00:27:16,870 --> 00:27:19,120\nSo, you definitely wanna make\nsure you keep that update.\n\n618\n00:27:19,120 --> 00:27:19,830\nAdd that to your calendar.\n\n619\n00:27:21,160 --> 00:27:24,940\nThere's only two other options on this\nscreen, it's a really basic screen.\n\n620\n00:27:24,940 --> 00:27:28,280\nWe've got enroll devices using\nthe device enrollment program.\n\n621\n00:27:29,340 --> 00:27:29,910\nWhat is that?\n\n622\n00:27:29,910 --> 00:27:33,470\nWell, the device enrollment program is\nsomething that a lot of us don't have\n\n623\n00:27:33,470 --> 00:27:34,720\naccess to.\n\n624\n00:27:34,720 --> 00:27:40,290\nIf you're a company or a school, normally,\nthat is buying thousands of Macs,\n\n625\n00:27:40,290 --> 00:27:45,840\nthousands of iPads or iPhones, you can\nget into the device enrollment program.\n\n626\n00:27:45,840 --> 00:27:49,080\nAnd what happens is when Apple,\nwhen you go and place a new order, so\n\n627\n00:27:49,080 --> 00:27:50,610\nmaybe I go and I order 500 iPads.\n\n628\n00:27:51,740 --> 00:27:53,390\nWhen Apple boxes those up,\n\n629\n00:27:53,390 --> 00:27:58,840\nbefore they box them up, they go ahead and\nenroll them in our profile manager.\n\n630\n00:27:58,840 --> 00:28:01,850\nThey go ahead and add our certificates\nto the trust or on the device and\n\n631\n00:28:01,850 --> 00:28:02,700\nthen role it in.\n\n632\n00:28:02,700 --> 00:28:05,750\nSo the device is ready to be\nmanaged before we even get it.\n\n633\n00:28:05,750 --> 00:28:09,350\nAnd they send you a file that\ncontains all the serial numbers for\n\n634\n00:28:09,350 --> 00:28:10,870\nthe devices you just bought.\n\n635\n00:28:10,870 --> 00:28:14,710\nAnd they might be on a UPS truck\nthat'll be here next week.\n\n636\n00:28:14,710 --> 00:28:18,290\nMeanwhile, I've already got them\nall entered into my system and\n\n637\n00:28:18,290 --> 00:28:20,260\nI can start setting their configurations.\n\n638\n00:28:20,260 --> 00:28:23,590\nAnd when somebody turns them on,\nthey instantly get configured and\n\n639\n00:28:23,590 --> 00:28:24,930\nthey're ready to go.\n\n640\n00:28:24,930 --> 00:28:26,940\nIt's nice to be able to\nget these devices and\n\n641\n00:28:26,940 --> 00:28:31,160\nhave them already configured and\nready to work in your environment without\n\n642\n00:28:31,160 --> 00:28:33,140\nhaving to really do anything\nother than turn them on.\n\n643\n00:28:34,160 --> 00:28:36,960\nThat's the device enrollment program.\n\n644\n00:28:36,960 --> 00:28:41,600\nSmall companies, medium companies, you\ndon't order enough volume to warrant it,\n\n645\n00:28:41,600 --> 00:28:43,320\nand so\nyou're not gonna be a member of that.\n\n646\n00:28:43,320 --> 00:28:45,670\nBut if you're a large\nenterprise you can do it.\n\n647\n00:28:45,670 --> 00:28:49,530\nYou'll have to reach out to Apple and sign\nup for that program it does cost money.\n\n648\n00:28:49,530 --> 00:28:52,130\nBut if you are dealing with\nequipment at that volume level,\n\n649\n00:28:52,130 --> 00:28:55,300\nyou're dealing with that much equipment,\nit's worth it.\n\n650\n00:28:55,300 --> 00:28:59,660\nBecause the man hours alone just to get\nthese devices configured can take a while,\n\n651\n00:28:59,660 --> 00:29:00,880\neven just going through and\n\n652\n00:29:00,880 --> 00:29:04,590\ndoing quick enrollments takes time,\nthis is much faster.\n\n653\n00:29:04,590 --> 00:29:06,010\nSo if you are enrolled in that program,\n\n654\n00:29:06,010 --> 00:29:08,410\nyou can turn it on and\nthen you'll have that functionality.\n\n655\n00:29:09,770 --> 00:29:11,960\nThe next one is\nthe Volume Purchase Program.\n\n656\n00:29:11,960 --> 00:29:16,870\nAnd this is another one that's designed\nfor large organizations and schools.\n\n657\n00:29:16,870 --> 00:29:18,850\nReally this one's for schools.\n\n658\n00:29:18,850 --> 00:29:23,510\nAt a school, they may have chosen\nto purchase certain textbooks and\n\n659\n00:29:23,510 --> 00:29:26,680\ncertain applications on\nbehalf of their students.\n\n660\n00:29:26,680 --> 00:29:29,600\nNormally when you buy an application,\nit's tied to your Apple ID.\n\n661\n00:29:29,600 --> 00:29:30,510\nRight?\nSo,\n\n662\n00:29:30,510 --> 00:29:33,190\nwhat if I want that\napplication to be on 500 iPads?\n\n663\n00:29:34,280 --> 00:29:37,390\nWell I can only login with\nmy Apple ID on five devices\n\n664\n00:29:37,390 --> 00:29:40,250\nthen it hits that little warning\nwith Apple and it stops.\n\n665\n00:29:40,250 --> 00:29:43,530\nSo, how am I suppose to deploy\nthat app on 500 different devices.\n\n666\n00:29:43,530 --> 00:29:46,660\nI don't wanna set up 500\ndifferent Apple IDs.\n\n667\n00:29:46,660 --> 00:29:47,920\nWell you don't have to.\n\n668\n00:29:47,920 --> 00:29:53,010\nWith the volume purchase program you can\nset that up where you purchase an app.\n\n669\n00:29:53,010 --> 00:29:56,460\nAnd now that one application\ncan be installed on a large\n\n670\n00:29:56,460 --> 00:30:00,450\nquantities of iPads or iPhones\nwithout having to share that Apple ID.\n\n671\n00:30:00,450 --> 00:30:04,460\nIt's called a volume purchase program it's\nanother thing you can sign up from Apple.\n\n672\n00:30:04,460 --> 00:30:07,290\nIf you're a member of that\nyou'll check this off and\n\n673\n00:30:07,290 --> 00:30:08,700\nthen you'll punch in your credentials.\n\n674\n00:30:08,700 --> 00:30:11,880\nThey actually give you a VPP\nlicense file that you load in.\n\n675\n00:30:11,880 --> 00:30:14,080\nIt imports that and\nit has all your settings.\n\n676\n00:30:14,080 --> 00:30:16,080\nWith both of these programs,\n\n677\n00:30:16,080 --> 00:30:19,140\nthe exam doesn't hit you up on\nhow to configure them, because\n\n678\n00:30:19,140 --> 00:30:23,810\nwhen you enroll in the program Apple\nactually does the configuration for you.\n\n679\n00:30:23,810 --> 00:30:26,150\nThey'll get on the phone with you and\nwalk you through that whole system and\n\n680\n00:30:26,150 --> 00:30:26,800\nget it implemented.\n\n681\n00:30:26,800 --> 00:30:29,170\nSo it's not something that we\nhave to implement ourselves.\n\n682\n00:30:29,170 --> 00:30:32,380\nAnd it's really not even something that\nyou can implement yourself because\n\n683\n00:30:32,380 --> 00:30:36,090\npart of the work is done on Apple's end,\nand so we rely on them to do that.\n\n684\n00:30:38,440 --> 00:30:40,850\nOther than that there is nothing\nelse to configure on this page.\n\n685\n00:30:40,850 --> 00:30:45,600\nSo once that's done we can flip\nthat on switch and now I'm up and\n\n686\n00:30:45,600 --> 00:30:46,910\nrunning the Profile Manager.\n\n687\n00:30:46,910 --> 00:30:50,170\nNow just because it says it's on\ndoesn't actually mean it's on.\n\n688\n00:30:50,170 --> 00:30:53,160\nThe Profile Manager is a very big program.\n\n689\n00:30:53,160 --> 00:30:55,820\nSo, see here under status\nhow it says starting?\n\n690\n00:30:55,820 --> 00:30:56,920\nIt takes it a minute.\n\n691\n00:30:56,920 --> 00:30:58,280\nWe've actually got to wait.\n\n692\n00:30:58,280 --> 00:31:00,390\nThere it goes.\nNow it says it's available.\n\n693\n00:31:00,390 --> 00:31:03,240\nIn the background it's\ndoing a lot of stuff.\n\n694\n00:31:03,240 --> 00:31:07,490\nThe minimum thing that it is doing is\nbringing up a couple of services and\n\n695\n00:31:07,490 --> 00:31:08,870\nstarting a web server.\n\n696\n00:31:08,870 --> 00:31:12,635\nThe Profile Manager for\nthe most part is web based.\n\n697\n00:31:12,635 --> 00:31:16,557\nThis screen right here is only one of\nthree different management interfaces for\n\n698\n00:31:16,557 --> 00:31:18,340\nthe Profile Manager.\n\n699\n00:31:18,340 --> 00:31:20,980\nThis interface is really just for\nthe service.\n\n700\n00:31:20,980 --> 00:31:23,810\nGetting the service configured,\nand turned on, and that's it.\n\n701\n00:31:25,240 --> 00:31:29,330\nOnce you've done this, you probably won't\never come back to this screen again.\n\n702\n00:31:29,330 --> 00:31:31,680\nThe only time that I ever have\nto come back to this screen,\n\n703\n00:31:31,680 --> 00:31:33,670\nis when it's time to\nupdate the certificate.\n\n704\n00:31:33,670 --> 00:31:36,810\nSo, once a year,\nonce every two or three years,\n\n705\n00:31:36,810 --> 00:31:38,800\nyou've gotta come in here and\nupdate that certificate.\n\n706\n00:31:38,800 --> 00:31:41,170\nOtherwise you're done with\nthis screen right here.\n\n707\n00:31:41,170 --> 00:31:43,230\nSo there is management\ninterface number one, gone.\n\n708\n00:31:44,440 --> 00:31:46,800\nBut there is two more interfaces.\n\n709\n00:31:46,800 --> 00:31:48,190\nThey're both web based.\n\n710\n00:31:48,190 --> 00:31:50,190\nThey're built on a webpage.\n\n711\n00:31:50,190 --> 00:31:53,690\nOne is for endusers and one is for admins.\n\n712\n00:31:53,690 --> 00:31:56,800\nThe enduser webpage,\nthey browse that webpage and they login.\n\n713\n00:31:56,800 --> 00:32:00,423\nIf their device is not already\ntrusting our profile manager,\n\n714\n00:32:00,423 --> 00:32:02,802\nit gives them a change to do enrollment.\n\n715\n00:32:02,802 --> 00:32:06,623\nThey can enroll their device and\nnow it's managed by our Profile Manager.\n\n716\n00:32:06,623 --> 00:32:11,153\nIf they're already enrolled,\nthen they'll see options in there,\n\n717\n00:32:11,153 --> 00:32:13,350\nlike wipe device or lock device.\n\n718\n00:32:13,350 --> 00:32:14,800\nThat's how they remote Wipe It.\n\n719\n00:32:14,800 --> 00:32:17,830\nThe end users can actually\nremote wipe their own device and\n\n720\n00:32:17,830 --> 00:32:18,620\nthat's kind of convenient.\n\n721\n00:32:20,390 --> 00:32:22,670\nThe other interfaces for admins, though.\n\n722\n00:32:22,670 --> 00:32:25,770\nAnd that's the one that we're gonna\nlog into because it allows us to\n\n723\n00:32:25,770 --> 00:32:27,910\ncreate the configuration profiles.\n\n724\n00:32:27,910 --> 00:32:30,370\nWe can define all those\nconfiguration settings and\n\n725\n00:32:30,370 --> 00:32:33,920\nthen assign them to people and\nusers and all that good stuff.\n\n726\n00:32:33,920 --> 00:32:37,210\nSo we can start to go through\nthat process and work with it.\n\n727\n00:32:37,210 --> 00:32:40,830\nNow, before I dive into that admin\ninterface though I wanna do enrollments.\n\n728\n00:32:40,830 --> 00:32:43,850\nSo we actually have at least one\ndevice that's able to be enrolled.\n\n729\n00:32:44,850 --> 00:32:47,520\nNow how do I know if a device is\n\n730\n00:32:47,520 --> 00:32:50,080\nalready enrolled to be managed\nwith the Profile manager?\n\n731\n00:32:50,080 --> 00:32:50,610\nRight?\n\n732\n00:32:50,610 --> 00:32:53,850\nYour device can only be managed\nby one Profile manager.\n\n733\n00:32:53,850 --> 00:32:56,840\nSo maybe a user is already\nbeing managed by somebody else.\n\n734\n00:32:56,840 --> 00:32:57,800\nHow do I know?\n\n735\n00:32:57,800 --> 00:33:00,110\nWell let's take a look at a client and\nI'll show you.\n\n736\n00:33:00,110 --> 00:33:01,510\nI've got a client sitting over here.\n\n737\n00:33:03,010 --> 00:33:04,880\nAnd I'm just going to\nget logged into it here.\n\n738\n00:33:04,880 --> 00:33:06,090\nSo here's my client.\n\n739\n00:33:06,090 --> 00:33:06,900\nIt's up.\nIt's running.\n\n740\n00:33:06,900 --> 00:33:07,800\nIt's happy.\n\n741\n00:33:07,800 --> 00:33:10,750\nIt is joined to my open directory.\n\n742\n00:33:10,750 --> 00:33:13,060\nHow do I know if it's managed\nby the profile manager?\n\n743\n00:33:13,060 --> 00:33:16,790\nWell when you load a configuration\nprofile on a system,\n\n744\n00:33:16,790 --> 00:33:19,390\na new system preference shows up.\n\n745\n00:33:19,390 --> 00:33:21,810\nIf you go into your system preferences you\n\n746\n00:33:21,810 --> 00:33:24,510\nwill see all the various\nitems that you normally see.\n\n747\n00:33:24,510 --> 00:33:29,380\nAnd down here at the bottom, in this row\nwhere we've got users and groups, parental\n\n748\n00:33:29,380 --> 00:33:35,100\ncontrols and so on, there will be another\nicon that looks like a silver star.\n\n749\n00:33:35,100 --> 00:33:36,690\nAnd it'll say profiles.\n\n750\n00:33:36,690 --> 00:33:38,670\nAnd that's the Profile manager.\n\n751\n00:33:38,670 --> 00:33:41,200\nIf you've installed a configuration\nprofile you'll have this\n\n752\n00:33:41,200 --> 00:33:42,950\nprofile system preference.\n\n753\n00:33:42,950 --> 00:33:44,070\nI don't have one.\n\n754\n00:33:44,070 --> 00:33:47,520\nSo, that means I'm not connected\nto a Profile manager, or\n\n755\n00:33:47,520 --> 00:33:48,690\nmaybe I was at some point.\n\n756\n00:33:48,690 --> 00:33:50,640\nBut, I'm not anymore, it's been removed.\n\n757\n00:33:50,640 --> 00:33:55,190\nSo, this is a free and clear machine\nthat's not being managed by anybody.\n\n758\n00:33:55,190 --> 00:33:58,500\nIf I want it to be managed\nI'm gonna need to browse for\n\n759\n00:33:58,500 --> 00:34:02,520\nthat web UI, and login and enroll.\n\n760\n00:34:02,520 --> 00:34:03,080\nAlright?\n\n761\n00:34:03,080 --> 00:34:06,310\nOr if somebody's already saved\nthe enrollment profile to a USB key,\n\n762\n00:34:06,310 --> 00:34:09,470\nI could throw the USB key on\nthis device and enroll that way.\n\n763\n00:34:09,470 --> 00:34:10,870\nEither way works.\n\n764\n00:34:10,870 --> 00:34:12,270\nOne can be done offline.\n\n765\n00:34:12,270 --> 00:34:15,320\nBut, really it's not\nterribly useful offline.\n\n766\n00:34:15,320 --> 00:34:17,340\nIt would be if you were\non a remote network and\n\n767\n00:34:17,340 --> 00:34:19,540\nyou didn't have connectivity\nback to the server.\n\n768\n00:34:19,540 --> 00:34:23,140\nYou'd still need Internet access though,\nbecause if you can't contact that remote\n\n769\n00:34:23,140 --> 00:34:26,820\nserver, your only other method for getting\nconfigurations settings is through Apple,\n\n770\n00:34:26,820 --> 00:34:28,500\nthrough the Apple push notifications.\n\n771\n00:34:28,500 --> 00:34:30,280\nAnd that's why we need Internet access.\n\n772\n00:34:30,280 --> 00:34:33,200\nSo one way or another,\nyou're gonna need network access, but\n\n773\n00:34:33,200 --> 00:34:35,670\nyou can bring in that profile\nfrom a USB key if you want.\n\n774\n00:34:35,670 --> 00:34:38,440\nAll right, but\nif I wanna enroll this machine,\n\n775\n00:34:38,440 --> 00:34:40,830\nwhat I need to do is fire up Safari.\n\n776\n00:34:42,930 --> 00:34:49,080\nAnd I'm going to browse to the user\ninterphase for the profile manager.\n\n777\n00:34:49,080 --> 00:34:55,670\nThe webpage itself it just https://\nfollowed by whatever your server name is.\n\n778\n00:34:55,670 --> 00:35:00,488\nSo my server name is OSX dash\nServer 1 dot lab dot ITPro dot Tv\n\n779\n00:35:00,488 --> 00:35:05,390\nslash device management.\n\n780\n00:35:06,950 --> 00:35:08,170\nAlright.\nSo it's HTTPS.\n\n781\n00:35:08,170 --> 00:35:10,500\nIt is a secure page.\n\n782\n00:35:10,500 --> 00:35:14,050\nFollowed by your server name,\nslash device management.\n\n783\n00:35:15,170 --> 00:35:15,850\nAlright.\n\n784\n00:35:15,850 --> 00:35:17,830\nNow, when I try and browse that,\nI get this message here.\n\n785\n00:35:17,830 --> 00:35:19,700\nTelling me, websites are turned off and\n\n786\n00:35:19,700 --> 00:35:22,300\nadministrator can turn them on\nusing the server application.\n\n787\n00:35:22,300 --> 00:35:23,570\nNow that's not what I expected to get.\n\n788\n00:35:23,570 --> 00:35:25,390\nWhich means I probably\nhave a typo in here.\n\n789\n00:35:25,390 --> 00:35:29,410\nSo let me Let me check,\nwe turned on the profile manager,\n\n790\n00:35:29,410 --> 00:35:32,490\nwhich enables its own webserver and\nits own services.\n\n791\n00:35:32,490 --> 00:35:35,570\nBut when I browse to this\n\n792\n00:35:35,570 --> 00:35:39,410\nlike \\devicemanagement it's supposed to\ntake me straight into the Profile manager.\n\n793\n00:35:39,410 --> 00:35:43,750\nIn my scenario, if I have a typo it tried\nto take me to the regular websites, and\n\n794\n00:35:43,750 --> 00:35:44,630\nI never turned that on.\n\n795\n00:35:44,630 --> 00:35:48,640\nIf I go back to my server, you can see\nWebsites right here is turned off,\n\n796\n00:35:48,640 --> 00:35:49,840\nit's not up and running.\n\n797\n00:35:49,840 --> 00:35:51,490\nYou don't need it running\non the server though,\n\n798\n00:35:51,490 --> 00:35:53,260\nit is really two separate entities.\n\n799\n00:35:53,260 --> 00:35:58,840\nSo I must have a typo,\nlet me see what I did, what I typed wrong.\n\n800\n00:35:58,840 --> 00:36:02,950\nAnd if you ever forget the urls,\nif you can't remember them, on this\n\n801\n00:36:02,950 --> 00:36:07,330\nmain Profile Manager page here in the\nserver, there's actually two links here.\n\n802\n00:36:07,330 --> 00:36:10,950\nSee how this one it says profiles are\navailable to all users for download and\n\n803\n00:36:10,950 --> 00:36:12,870\ndevices can be enrolled for management?\n\n804\n00:36:12,870 --> 00:36:14,480\nVisit the user portal.\n\n805\n00:36:14,480 --> 00:36:18,520\nThis link right here goes to the user\nportal, where I'm trying to go right now.\n\n806\n00:36:18,520 --> 00:36:23,330\nThis link down here, Open Profile Manager,\nthat goes to the admin portal.\n\n807\n00:36:23,330 --> 00:36:27,620\nSo it's got links where we can jump\nright to those portals from here.\n\n808\n00:36:27,620 --> 00:36:28,790\nAnd if I click on that link.\n\n809\n00:36:28,790 --> 00:36:31,680\nSee how it's opening Safari\nin the background and\n\n810\n00:36:31,680 --> 00:36:33,110\nthen it's browsing to that site.\n\n811\n00:36:33,110 --> 00:36:37,450\nAnd it's going to browse over to it and\nthat's the screen that I wanted to see so\n\n812\n00:36:37,450 --> 00:36:38,990\nlet's see what was my typo.\n\n813\n00:36:38,990 --> 00:36:40,780\nWell this is an authentication\nscreen here.\n\n814\n00:36:40,780 --> 00:36:42,150\nIt's kinda bouncing around.\n\n815\n00:36:42,150 --> 00:36:48,528\nBut you'll see here that it's\nOSX-Server1.lab.ITProTV/ Device\n\n816\n00:36:48,528 --> 00:36:51,470\nmanagement slash web API and.\n\n817\n00:36:51,470 --> 00:36:54,450\nso on I guess maybe I spelled\ndevice management wrong,\n\n818\n00:36:54,450 --> 00:36:56,539\nlet's see how I spelled that.\n\n819\n00:36:56,539 --> 00:36:59,970\nMan-age-ment, it looks\nlike I spelled it right,\n\n820\n00:36:59,970 --> 00:37:03,270\nI'll just copy and paste it from\nthe other server, there we go.\n\n821\n00:37:03,270 --> 00:37:06,560\nWhen they browse to their portal\nto the device management page,\n\n822\n00:37:06,560 --> 00:37:09,140\nthey'll see a log-in screen,\nand they need to log in.\n\n823\n00:37:09,140 --> 00:37:11,660\nNow, who do they log in as?\n\n824\n00:37:11,660 --> 00:37:14,470\nWell remember how all this is\nkinda built on the Open Directory?\n\n825\n00:37:14,470 --> 00:37:17,030\nThey need to log in with\ntheir network account.\n\n826\n00:37:17,030 --> 00:37:20,320\nSo I'm gonna log in with my account,\njust Don Pezet.\n\n827\n00:37:21,960 --> 00:37:25,260\nThey don't need to be an admin,\nyou don't have to have high rights or\n\n828\n00:37:25,260 --> 00:37:26,180\nanything like that.\n\n829\n00:37:26,180 --> 00:37:29,440\nAny user can enroll their\nown machine if they want.\n\n830\n00:37:29,440 --> 00:37:33,680\nThey will need admin rights on their\nmachine, not in Open Directory or\n\n831\n00:37:33,680 --> 00:37:34,380\nnot on the server.\n\n832\n00:37:34,380 --> 00:37:36,840\nSo, I'm going to go ahead and\nlog in to that.\n\n833\n00:37:37,880 --> 00:37:41,670\nIf my machine was enrolled,\nthen what I would see on this\n\n834\n00:37:41,670 --> 00:37:44,720\nnext screen is a series of controls,\nwhere I could control my machine.\n\n835\n00:37:44,720 --> 00:37:46,620\nBut, I'm not enrolled.\n\n836\n00:37:46,620 --> 00:37:51,940\nSo, instead of seeing that, I see this\nscreen where I have the option to enroll\n\n837\n00:37:51,940 --> 00:37:54,040\nto be remotely managed\nby a Profile manager.\n\n838\n00:37:55,260 --> 00:37:56,640\nYou can also download profiles.\n\n839\n00:37:56,640 --> 00:37:59,550\nIf I go to the profiles tab,\nI'll see profiles that are available for\n\n840\n00:37:59,550 --> 00:38:00,750\nme to download.\n\n841\n00:38:00,750 --> 00:38:04,460\nOn a new install of profile manager\nthere's only one profile and\n\n842\n00:38:04,460 --> 00:38:06,640\nit's the Trust profile.\n\n843\n00:38:06,640 --> 00:38:09,800\nThat's the one that has\nthe certificates in it for our server.\n\n844\n00:38:09,800 --> 00:38:13,520\nIf we want this to work, I've got to\nhave that trust profile in place.\n\n845\n00:38:13,520 --> 00:38:16,440\nI've got to trust\nthe server's certificates.\n\n846\n00:38:16,440 --> 00:38:19,900\nOtherwise the digital signatures fail and\nall that other stuff.\n\n847\n00:38:19,900 --> 00:38:24,130\nIt's just not going to work, so\nI could manually install that if I want.\n\n848\n00:38:24,130 --> 00:38:27,640\nI don't have to though because its going\nto install part of the enrollment too.\n\n849\n00:38:27,640 --> 00:38:29,670\nSo I'm going to come in here and\nenroll and\n\n850\n00:38:29,670 --> 00:38:33,910\nwe could just click on that enrollment\nbutton and it happened kind of\n\n851\n00:38:33,910 --> 00:38:38,000\nfast there but it downloaded a file and\nthen it ran the file.\n\n852\n00:38:38,000 --> 00:38:40,250\nIt downloaded the configuration profile.\n\n853\n00:38:40,250 --> 00:38:43,130\nWhich really, at this stage,\nis just a trust profile.\n\n854\n00:38:43,130 --> 00:38:46,460\nAnd now it's saying,\ndo I want to install Remote Management?\n\n855\n00:38:46,460 --> 00:38:50,520\nThe profile will configure your Mac for\nthe following, two certificates,\n\n856\n00:38:50,520 --> 00:38:54,050\nmobile device management,\nand STTP enrollment request.\n\n857\n00:38:54,050 --> 00:38:58,320\nSo, this is it getting setting set up\nto connect that Profile manager and\n\n858\n00:38:58,320 --> 00:39:00,090\ntrust those certificates.\n\n859\n00:39:00,090 --> 00:39:03,660\nAnd you can hit show profile to\nview the details inside of it and\n\n860\n00:39:03,660 --> 00:39:05,820\nin here we'll see what it does.\n\n861\n00:39:05,820 --> 00:39:08,770\nThe ITPro TV Lab is verified.\n\n862\n00:39:08,770 --> 00:39:11,880\nIf I click on the certificate,\nI can see the certificate is valid.\n\n863\n00:39:11,880 --> 00:39:15,760\nI already trust the certificate because\nI'm bound to the open directory.\n\n864\n00:39:15,760 --> 00:39:18,840\nIf I wasn't bound to the open directory,\nI wouldn't see a green checkmark there.\n\n865\n00:39:18,840 --> 00:39:21,770\nI'd see a warning letting me know\nthat I didn't trust the root.\n\n866\n00:39:23,140 --> 00:39:26,350\nAnd then beneath that I see the other\ninformation built around it.\n\n867\n00:39:26,350 --> 00:39:29,450\nThe server name,\nsomewhere in here I'll see the address and\n\n868\n00:39:29,450 --> 00:39:32,080\nphone number that I typed in,\nthat stuff gets buried in here.\n\n869\n00:39:32,080 --> 00:39:36,190\nBut this is all the data about that\nsystem, and then here's the rights.\n\n870\n00:39:36,190 --> 00:39:37,990\nNotice how some of them are in red.\n\n871\n00:39:37,990 --> 00:39:41,200\nThose aren't errors, they're warnings,\nthey're saying this is a big deal,\n\n872\n00:39:41,200 --> 00:39:43,000\nare you sure you want to do this.\n\n873\n00:39:43,000 --> 00:39:46,700\nYou're giving this person permission\nto erase all data on this computer.\n\n874\n00:39:46,700 --> 00:39:48,700\nThat's pretty dangerous.\n\n875\n00:39:48,700 --> 00:39:51,320\nIn other words, do you actually trust,\n\n876\n00:39:51,320 --> 00:39:53,698\nare you certain you trust\nwho this other person is?\n\n877\n00:39:53,698 --> 00:39:55,373\nRight?\nYou want to be doubly sure.\n\n878\n00:39:55,373 --> 00:39:57,172\nThey can lock your screen.\n\n879\n00:39:57,172 --> 00:39:58,229\nThey can change settings.\n\n880\n00:39:58,229 --> 00:40:00,051\nThey can do pretty much\nwhatever they want.\n\n881\n00:40:00,051 --> 00:40:03,504\nWell I'm gonna go ahead and\nhit Continue on that and\n\n882\n00:40:03,504 --> 00:40:08,980\nit's going to import this profile as\nsoon as I hit Install and install it.\n\n883\n00:40:08,980 --> 00:40:11,900\nNow I mentioned that you've got to be\nan administrator for your own machine.\n\n884\n00:40:11,900 --> 00:40:12,660\nAnd here's the prompt.\n\n885\n00:40:12,660 --> 00:40:16,101\nIt's asking me for\nadmin credentials on this machine.\n\n886\n00:40:16,101 --> 00:40:18,500\nI'm pretty sure I'm an admin,\nso let me just punch in mine.\n\n887\n00:40:18,500 --> 00:40:20,430\nIf not, I'll have to use\na local administrator account.\n\n888\n00:40:21,620 --> 00:40:23,590\nLooks like I am in admin.\n\n889\n00:40:23,590 --> 00:40:25,160\nSo it's going to install that.\n\n890\n00:40:25,160 --> 00:40:29,060\nNow what I just got is\nmy enrollment profile.\n\n891\n00:40:29,060 --> 00:40:32,970\nI don't have any true configuration\nprofiles yet cuz we haven't set one up.\n\n892\n00:40:32,970 --> 00:40:37,220\nSo all I've got here are certificates and\nthe fact that I can now be managed.\n\n893\n00:40:38,460 --> 00:40:39,440\nHow do I know that I have that?\n\n894\n00:40:39,440 --> 00:40:41,650\nWell, remember the System Preferences.\n\n895\n00:40:41,650 --> 00:40:45,410\nIf I go to my System Preferences now,\nI've got a new system preference.\n\n896\n00:40:45,410 --> 00:40:48,580\nThere it is, that silver star Profiles.\n\n897\n00:40:48,580 --> 00:40:52,130\nThis lets me know that this machine\nhas a system profile on it.\n\n898\n00:40:52,130 --> 00:40:52,820\nIt's got it there.\n\n899\n00:40:52,820 --> 00:40:56,530\nIf I click on that I can see\nthe profiles that I have.\n\n900\n00:40:56,530 --> 00:40:59,250\nYou can have more than one profile.\n\n901\n00:40:59,250 --> 00:41:01,570\nYou should only be managed by one server,\nbut\n\n902\n00:41:01,570 --> 00:41:05,250\nthat one server might be pushing\nmore than one profile to you.\n\n903\n00:41:05,250 --> 00:41:07,680\nWe'll see how that works\na little later in the episode.\n\n904\n00:41:07,680 --> 00:41:09,961\nYou'll see each one, and\nyou can click on them and\n\n905\n00:41:09,961 --> 00:41:12,637\nview the different settings\nthat are available for each.\n\n906\n00:41:15,950 --> 00:41:20,367\nI can also browse in my Finder and\ngo to my Downloads folder and\n\n907\n00:41:20,367 --> 00:41:23,918\nthere's the profile, MDM_profile, right,\n\n908\n00:41:23,918 --> 00:41:28,910\nso mobile device management profile,\n.mobileconfig.\n\n909\n00:41:28,910 --> 00:41:31,260\nSee that mobile name creeping back up?\n\n910\n00:41:31,260 --> 00:41:34,470\nThat's because this was originally\ndesigned for iPhones and iPads,\n\n911\n00:41:34,470 --> 00:41:36,980\nmobile devices, for iOS devices.\n\n912\n00:41:36,980 --> 00:41:39,251\nAnd then Apple added support for OS X.\n\n913\n00:41:39,251 --> 00:41:43,278\nThey added support in OS X 10.7, so\nif you're running Mountain Lion or newer,\n\n914\n00:41:43,278 --> 00:41:44,885\nyou have that support.\n\n915\n00:41:44,885 --> 00:41:48,705\nIf you're running something older like\nSnow Leopard, those had a different\n\n916\n00:41:48,705 --> 00:41:52,695\nutility that you used to use to manage\nthose things that isn't supported anymore.\n\n917\n00:41:52,695 --> 00:41:56,469\nSo Mountain Lion and higher all support\nProfile Manager in how this works.\n\n918\n00:41:57,610 --> 00:41:59,910\nAnd that file is an archive.\n\n919\n00:41:59,910 --> 00:42:03,140\nIf we were to crack it open, and\nyou actually have to decompress it.\n\n920\n00:42:03,140 --> 00:42:05,880\nAnd then inside of it is just\na series of XML files and\n\n921\n00:42:05,880 --> 00:42:07,620\na couple of certificates in this case.\n\n922\n00:42:07,620 --> 00:42:11,010\nIt'll have those public keys so we can\ntrust the root certificate authority.\n\n923\n00:42:12,430 --> 00:42:15,510\nBut at this stage,\nI've got my system enrolled.\n\n924\n00:42:15,510 --> 00:42:19,130\nI'm now enrolled to be remotely\nmanaged by the other system.\n\n925\n00:42:19,130 --> 00:42:23,360\nSo now when the end user logs into\nthat web portal, they see this.\n\n926\n00:42:23,360 --> 00:42:26,670\nInstead of seeing the big enrollment\nbutton, they see their serial number for\n\n927\n00:42:26,670 --> 00:42:31,750\ntheir device, they see a lock button where\nthey can remotely lock their screen, and\n\n928\n00:42:31,750 --> 00:42:34,760\na white button where they\ncan remotely wipe it.\n\n929\n00:42:34,760 --> 00:42:37,670\nNow just a real quick note, I don't know\nif this will turn up on the exam or not,\n\n930\n00:42:37,670 --> 00:42:43,090\nbut on an iPad or an iPhone, when you\nwipe them, it does a factory reset.\n\n931\n00:42:43,090 --> 00:42:48,020\nIt wipes that device back to where\nit just has iOS on it and reboots.\n\n932\n00:42:48,020 --> 00:42:51,883\nIt's a little different for\na Mac OS system, for an OS X system.\n\n933\n00:42:51,883 --> 00:42:58,670\nWith OS X when you choose to do a wipe, it\ndoes a secure delete of your user profile.\n\n934\n00:42:58,670 --> 00:43:04,272\nSo anything that's in /users/, and\nthen your username, so it wipes that.\n\n935\n00:43:04,272 --> 00:43:07,700\nIf you've been storing data\nin other places on the drive,\n\n936\n00:43:07,700 --> 00:43:09,710\nthat doesn't necessarily get wiped.\n\n937\n00:43:09,710 --> 00:43:11,710\nSo if you're worried\nabout protecting that,\n\n938\n00:43:11,710 --> 00:43:14,630\nprotecting data outside of your\nuser profile, you really need\n\n939\n00:43:14,630 --> 00:43:18,990\nto make sure you're using FileVault, that\nyou're encrypting your hard drive also.\n\n940\n00:43:18,990 --> 00:43:22,660\nIf the drive is encrypted and\nthen you remote wipe your user,\n\n941\n00:43:22,660 --> 00:43:23,870\nwhat happens to the encryption key?\n\n942\n00:43:24,990 --> 00:43:26,130\nIt gets wiped.\n\n943\n00:43:26,130 --> 00:43:29,494\nAnd so now the system is basically\nunusable unless they go in and\n\n944\n00:43:29,494 --> 00:43:30,517\nreinstall the OS.\n\n945\n00:43:30,517 --> 00:43:34,889\nAnd when they reinstall the OS, your data\ngets wiped out anyway and it's gone and\n\n946\n00:43:34,889 --> 00:43:36,230\nyour data is safe.\n\n947\n00:43:36,230 --> 00:43:39,810\nSo it is safe, it is effective\nwhen coupled with FileVault.\n\n948\n00:43:39,810 --> 00:43:41,650\nYou really should just make that a given.\n\n949\n00:43:41,650 --> 00:43:45,080\nIf you're going to be using\nthe Profile Manager for\n\n950\n00:43:45,080 --> 00:43:48,630\nsecurity purposes, you should be\nenforcing FileVault on your machines too.\n\n951\n00:43:50,012 --> 00:43:52,740\nAll right, but I've got that Lock and\nWipe option right there.\n\n952\n00:43:52,740 --> 00:43:53,870\nThis is what the end user can do.\n\n953\n00:43:53,870 --> 00:43:56,810\nAnd if the end user is enrolled\non more than one machine,\n\n954\n00:43:56,810 --> 00:43:58,140\nthey'll see each of the machines there.\n\n955\n00:43:58,140 --> 00:44:00,456\nThis one just says This Mac cuz\nthat's the one I'm on right now.\n\n956\n00:44:00,456 --> 00:44:04,250\nBut if I had enrolled five other machines,\nI'd see all five of my machines right\n\n957\n00:44:04,250 --> 00:44:07,020\nhere in this portal, and\nI could lock and wipe them.\n\n958\n00:44:07,020 --> 00:44:11,180\nAnd I see that this one is my MacBook Pro,\nbut I would also see iPhones and iPads.\n\n959\n00:44:11,180 --> 00:44:15,610\nThey would all be in that list too,\nanything that you've chosen to enroll.\n\n960\n00:44:15,610 --> 00:44:19,150\nAnother user may log in and\nthey could enroll the device also.\n\n961\n00:44:19,150 --> 00:44:21,270\nThe device is technically\nalready enrolled, but\n\n962\n00:44:21,270 --> 00:44:23,570\nwhat that does is it\nadds it to their screen.\n\n963\n00:44:23,570 --> 00:44:26,100\nSo when they log in,\nthey'll see that same device\n\n964\n00:44:26,100 --> 00:44:28,680\nif they have permission to enroll it,\nif they have local admin permissions.\n\n965\n00:44:30,730 --> 00:44:36,230\nNow that I'm enrolled, when I go to the\nadmin portal I'll have a device to manage.\n\n966\n00:44:36,230 --> 00:44:39,110\nThis device is called OSX-client1, and so\n\n967\n00:44:39,110 --> 00:44:42,540\nI'll see that client in my management\nportal and I'll be able to go in there and\n\n968\n00:44:42,540 --> 00:44:46,370\nmanage it, change its configuration, do\nwhatever I need to, cuz it'll be in there.\n\n969\n00:44:46,370 --> 00:44:48,300\nSo we'll get a chance to see that.\n\n970\n00:44:48,300 --> 00:44:51,330\nLooking at the clock, this is pretty\nmuch the end of this segment.\n\n971\n00:44:51,330 --> 00:44:53,180\nSo let's pause here and take a break.\n\n972\n00:44:53,180 --> 00:44:56,230\nAnd when we get back,\nwe'll take a look at the admin portal,\n\n973\n00:44:56,230 --> 00:44:59,730\nwhere the real fun happens, and get to\nsee the real power of Profile Manager.\n\n974\n00:44:59,730 --> 00:45:00,780\nSo stay tuned.\n\n975\n00:45:00,780 --> 00:45:01,709\nWe'll be back in a few.\n\n976\n00:45:01,709 --> 00:45:07,903\n[MUSIC]\n\n977\n00:45:07,903 --> 00:45:09,550\nWelcome back, everybody.\n\n978\n00:45:09,550 --> 00:45:13,360\nSo in the last segment I got my client\nenrolled with the Profile Manager.\n\n979\n00:45:13,360 --> 00:45:17,290\nSo it's connected up,\nit's able to start receiving settings.\n\n980\n00:45:17,290 --> 00:45:21,160\nBut it's not receiving much yet\nbecause I haven't defined any settings.\n\n981\n00:45:21,160 --> 00:45:24,100\nSo that's our next step, is we need\nto go into the Profile Manager and\n\n982\n00:45:24,100 --> 00:45:25,600\nget things set up.\n\n983\n00:45:25,600 --> 00:45:28,948\nNow the web interface we used a moment\nago, that was the end user interface.\n\n984\n00:45:28,948 --> 00:45:33,603\nIt shows us our machines and we can enroll\nand then wipe and lock our system and\n\n985\n00:45:33,603 --> 00:45:34,570\nthat's it.\n\n986\n00:45:34,570 --> 00:45:36,010\nIt wasn't very flashy.\n\n987\n00:45:36,010 --> 00:45:39,603\nBut there's a second web interface\nthat's designed for the admins.\n\n988\n00:45:39,603 --> 00:45:41,280\nAnd it's basically the same URL.\n\n989\n00:45:41,280 --> 00:45:44,880\nWe browse to our server\nname/profile manager.\n\n990\n00:45:44,880 --> 00:45:48,230\nBefore we went to our server\nname/device management.\n\n991\n00:45:48,230 --> 00:45:51,450\nNow I'm going to the server\nname/profile manager.\n\n992\n00:45:51,450 --> 00:45:54,650\nAgain, if you forget the URL you can just\ndo it right here from the server app.\n\n993\n00:45:54,650 --> 00:45:55,650\nLet me show you.\n\n994\n00:45:55,650 --> 00:45:57,480\nIf we fire up our server app and\n\n995\n00:45:57,480 --> 00:46:01,580\ngo into profile manager, you've got the\nlittle link way down here at the bottom.\n\n996\n00:46:01,580 --> 00:46:05,520\nAnd it's just gonna browse you to\nthis server name/profile manager.\n\n997\n00:46:05,520 --> 00:46:08,510\nThat's useful if you're running\nthe server app on your laptop and\n\n998\n00:46:08,510 --> 00:46:10,050\nconnecting remotely to the server.\n\n999\n00:46:10,050 --> 00:46:12,940\nThis can quickly spawn up that interface.\n\n1000\n00:46:12,940 --> 00:46:16,350\nNow I've logged in before so\nit automatically logged me in.\n\n1001\n00:46:16,350 --> 00:46:18,330\nIf you weren't logged in\nyou'd get prompted for that.\n\n1002\n00:46:18,330 --> 00:46:20,360\nSo if I log out here real quick.\n\n1003\n00:46:21,760 --> 00:46:22,780\nThere we go.\n\n1004\n00:46:22,780 --> 00:46:24,460\nThis is what you'd see when\nyou came to the screen.\n\n1005\n00:46:24,460 --> 00:46:28,030\nAnd you basically see the same thing you\nwould on the device management side.\n\n1006\n00:46:28,030 --> 00:46:30,920\nYou just log in with your\nadministrator credentials.\n\n1007\n00:46:30,920 --> 00:46:33,700\nA regular end user is not able\nto log in to this screen.\n\n1008\n00:46:33,700 --> 00:46:36,150\nYou've got to have admin\nrights on the server.\n\n1009\n00:46:36,150 --> 00:46:39,140\nI do, so when I log in I'll\nget the full Profile Manager.\n\n1010\n00:46:40,240 --> 00:46:43,700\nThis screen right here is\nwhat most people think about\n\n1011\n00:46:43,700 --> 00:46:45,640\nwhen they think about the Profile Manager.\n\n1012\n00:46:45,640 --> 00:46:50,100\nThe screen inside of the server app is\nreally just for turning that service on.\n\n1013\n00:46:50,100 --> 00:46:52,280\nAnd the device management\nscreen is really just for\n\n1014\n00:46:52,280 --> 00:46:56,310\nenrolling a device or for\nremote wiping and locking it.\n\n1015\n00:46:56,310 --> 00:46:58,850\nAll the rest of the work that we do\n\n1016\n00:46:58,850 --> 00:47:02,200\nis done right here in\nthe Profile Manager itself.\n\n1017\n00:47:02,200 --> 00:47:04,990\nSo let's take a look at\nwhat's available to us here.\n\n1018\n00:47:04,990 --> 00:47:07,440\nWhen you first log in\nto the Profile Manager,\n\n1019\n00:47:07,440 --> 00:47:11,020\nit's going to be showing\nyou the Everyone settings.\n\n1020\n00:47:11,020 --> 00:47:13,760\nYou might remember that screen that we saw\nin the server app, right here where it\n\n1021\n00:47:13,760 --> 00:47:17,500\nsaid Default Configuration\nProfile Settings for Everyone.\n\n1022\n00:47:18,570 --> 00:47:22,720\nIf all I'm looking to do is create\na consistent configuration for\n\n1023\n00:47:22,720 --> 00:47:28,140\nall of my users, I can just go here and\nedit these Everyone settings and I'm done.\n\n1024\n00:47:28,140 --> 00:47:29,870\nBut that's not normally what we want.\n\n1025\n00:47:29,870 --> 00:47:32,140\nNormally you have different needs for\ndifferent systems.\n\n1026\n00:47:32,140 --> 00:47:34,920\nSo for example,\nyou might have certain profiles for\n\n1027\n00:47:34,920 --> 00:47:37,420\nlaptops, different profiles for desktops.\n\n1028\n00:47:37,420 --> 00:47:40,580\nYou might have certain profiles for\nteachers and\n\n1029\n00:47:40,580 --> 00:47:42,380\ndifferent profiles for students.\n\n1030\n00:47:42,380 --> 00:47:45,940\nYou might have profiles for\nteachers that are on laptops and\n\n1031\n00:47:45,940 --> 00:47:47,510\nteachers that are on desktops.\n\n1032\n00:47:47,510 --> 00:47:50,040\nSo you might need to get very,\nvery specific and\n\n1033\n00:47:50,040 --> 00:47:51,590\nfine grained with some of this stuff.\n\n1034\n00:47:51,590 --> 00:47:53,250\nYou might have general needs.\n\n1035\n00:47:53,250 --> 00:47:56,104\nIf you just have general needs, you can\nuse this Everyone profile right here.\n\n1036\n00:47:56,104 --> 00:48:00,499\nNow one thing that's real important to\nunderstand is how stuff is divided up\n\n1037\n00:48:00,499 --> 00:48:02,363\ninside of the Profile Manager.\n\n1038\n00:48:02,363 --> 00:48:08,765\nWhen you create a configuration profile\nYou can attach it specifically to a user,\n\n1039\n00:48:08,765 --> 00:48:14,180\nor specifically to a computer,\nor you can leverage groups.\n\n1040\n00:48:14,180 --> 00:48:16,530\nEach of these have their pros and cons.\n\n1041\n00:48:16,530 --> 00:48:21,750\nIf I had a configuration that needs\nto affect just one user regardless\n\n1042\n00:48:21,750 --> 00:48:26,360\nof what computer they log into I need\nto create a user configuration profile.\n\n1043\n00:48:26,360 --> 00:48:27,790\nBut that's pretty rare.\n\n1044\n00:48:27,790 --> 00:48:31,280\nNormally it's something that we\nwanna apply to a group of users.\n\n1045\n00:48:31,280 --> 00:48:33,630\nAnd we probably already have\nthose groups in existence.\n\n1046\n00:48:33,630 --> 00:48:35,560\nIf you have like a sales people group and\n\n1047\n00:48:35,560 --> 00:48:39,246\nyou have a configuration profile you\nwant to apply to sales people, well,\n\n1048\n00:48:39,246 --> 00:48:41,777\nyou can use this right here\nin the profile manager.\n\n1049\n00:48:41,777 --> 00:48:44,936\nAnd that's what we're seeing\nhere with users and groups.\n\n1050\n00:48:44,936 --> 00:48:48,973\nAnd these correlate with what\nwe see in the server app.\n\n1051\n00:48:48,973 --> 00:48:53,411\nWhen I click on Users,\nI see Don Pezet and I see Help Desk.\n\n1052\n00:48:53,411 --> 00:48:58,018\nAnd if I jump over to my server app,\nand I go to Users, I see Don Pezet and\n\n1053\n00:48:58,018 --> 00:48:59,360\nHelp Desk, right?\n\n1054\n00:48:59,360 --> 00:49:01,150\nThe same users.\n\n1055\n00:49:01,150 --> 00:49:06,990\nIf I go to Groups, over here, well,\nI see one group called Workgroup.\n\n1056\n00:49:06,990 --> 00:49:08,010\nWhere did that come from?\n\n1057\n00:49:08,010 --> 00:49:11,020\nWell, when I installed the open directory,\n\n1058\n00:49:11,020 --> 00:49:14,620\nit automatically creates\none group called Workgroup.\n\n1059\n00:49:14,620 --> 00:49:15,390\nSo, that one's there.\n\n1060\n00:49:15,390 --> 00:49:16,790\nIt's already got my users in it.\n\n1061\n00:49:16,790 --> 00:49:18,900\nThere's also an Everyone group.\n\n1062\n00:49:18,900 --> 00:49:20,410\nThe Everyone group's not a real group.\n\n1063\n00:49:20,410 --> 00:49:22,440\nIt's like a logical group and\n\n1064\n00:49:22,440 --> 00:49:25,325\nit encompasses all of\nthe users in my environment.\n\n1065\n00:49:25,325 --> 00:49:27,360\nSo that's what's showing up right there.\n\n1066\n00:49:27,360 --> 00:49:31,710\nIf I look over here in my server app and\nI go to Groups, well I see Workgroup.\n\n1067\n00:49:31,710 --> 00:49:34,050\nI don't see Everyone cuz\nthat's not a real group.\n\n1068\n00:49:34,050 --> 00:49:35,250\nBut I see Workgroup.\n\n1069\n00:49:35,250 --> 00:49:36,250\nIt's right there.\n\n1070\n00:49:36,250 --> 00:49:39,040\nAnd if I start to create some new groups,\nso maybe I'll go ahead and\n\n1071\n00:49:39,040 --> 00:49:41,150\ncreate that sales people group.\n\n1072\n00:49:41,150 --> 00:49:42,120\nI can add it in here.\n\n1073\n00:49:42,120 --> 00:49:45,220\nOh, actually I need to be\nreally careful about this.\n\n1074\n00:49:45,220 --> 00:49:50,650\nThe Profile Manager uses your network\ngroups, not your local groups.\n\n1075\n00:49:50,650 --> 00:49:54,810\nIf I do what I'm about to do here, the\nlist of groups I'm viewing is set to all\n\n1076\n00:49:54,810 --> 00:50:00,740\ngroups and if I just add a group real\nquick and type in Sales People, right?\n\n1077\n00:50:00,740 --> 00:50:04,470\nNotice how it's not asking me if\nI want it to be local or network?\n\n1078\n00:50:04,470 --> 00:50:07,960\nAnd when I hit Create it\nmade it as a local group.\n\n1079\n00:50:07,960 --> 00:50:10,860\nThe profile manager doesn't\nsupport local groups.\n\n1080\n00:50:10,860 --> 00:50:15,060\nIt uses network groups,\ngroups that are in the open directory.\n\n1081\n00:50:15,060 --> 00:50:18,320\nA local group is not in the open\ndirectory so I needed to delete that.\n\n1082\n00:50:19,450 --> 00:50:24,780\nAnd instead, up top, if I drop that box\ndown and I choose local network groups,\n\n1083\n00:50:24,780 --> 00:50:27,290\nnow when I hit the plus sign,\nI'll be able to add that.\n\n1084\n00:50:27,290 --> 00:50:29,680\nBut notice how my plus sign grayed out.\n\n1085\n00:50:29,680 --> 00:50:30,910\nWhy is that?\n\n1086\n00:50:30,910 --> 00:50:33,700\nWell, I've gotta provide\nadministrative credentials.\n\n1087\n00:50:33,700 --> 00:50:36,870\nAnd so I've got my little lock\nicon right here that I can hit.\n\n1088\n00:50:36,870 --> 00:50:40,370\nAnd I can provide those\nadministrative credentials.\n\n1089\n00:50:40,370 --> 00:50:44,230\nAll right, so we'll provide that, and\nnow my little plus sign will light up and\n\n1090\n00:50:44,230 --> 00:50:47,210\nI can add a local network group, right?\n\n1091\n00:50:47,210 --> 00:50:50,180\nBe careful about that,\nif you create a local group.\n\n1092\n00:50:50,180 --> 00:50:51,530\nIt won't show up in\nthe profile information.\n\n1093\n00:50:51,530 --> 00:50:54,000\nYou can sit there and wait and\nwait and wait, and it never shows up.\n\n1094\n00:50:54,000 --> 00:50:55,560\nIt's gotta be a network group.\n\n1095\n00:50:55,560 --> 00:50:57,817\nSo I'm gonna come in here and\ncreate one called Sales People.\n\n1096\n00:50:59,610 --> 00:51:02,180\nAll right, now I'll get that one created.\n\n1097\n00:51:02,180 --> 00:51:04,190\nNow I've got that group in place.\n\n1098\n00:51:04,190 --> 00:51:07,820\nBack in the profile manager,\nit's already shown up.\n\n1099\n00:51:07,820 --> 00:51:09,030\nSometimes it can take a while.\n\n1100\n00:51:09,030 --> 00:51:11,270\nIf it doesn't show up right away,\n\n1101\n00:51:11,270 --> 00:51:13,920\nthen you might need to hit this\nrefresh button down at the bottom.\n\n1102\n00:51:13,920 --> 00:51:17,400\nThis is all divided up into separate\npanes, and in this middle window pane\n\n1103\n00:51:17,400 --> 00:51:20,650\nhere, you've got a refresh button so\nit can refresh that group list.\n\n1104\n00:51:20,650 --> 00:51:22,750\nBut I can see Sales People right there.\n\n1105\n00:51:22,750 --> 00:51:26,310\nI can now create configurations\ntied just to Sales People.\n\n1106\n00:51:27,320 --> 00:51:28,700\nBasically using that group.\n\n1107\n00:51:28,700 --> 00:51:29,650\nSo these are tied together.\n\n1108\n00:51:30,720 --> 00:51:33,970\nWhere things aren't tied together,\nare the devices.\n\n1109\n00:51:33,970 --> 00:51:37,990\nWhen I go up here to Devices,\nI'll see OSX-CLIENT1.\n\n1110\n00:51:37,990 --> 00:51:40,380\nThat's that computer that I\njoined to the profile, or\n\n1111\n00:51:40,380 --> 00:51:42,780\nI enrolled with the profile\nmanager in the last segment.\n\n1112\n00:51:42,780 --> 00:51:44,050\nI see it right there.\n\n1113\n00:51:44,050 --> 00:51:47,750\nI can create configuration settings\nthat justify to this one machine.\n\n1114\n00:51:48,850 --> 00:51:54,110\nBut, what if this is one of 1,000 laptops\nthat I'm about to issue to my students,\n\n1115\n00:51:54,110 --> 00:51:56,720\nand I want those 1,000 laptops\nto all have the same settings?\n\n1116\n00:51:56,720 --> 00:52:00,530\nWell, I need to put those\nlaptops into a group, and\n\n1117\n00:52:00,530 --> 00:52:02,850\nthat way I can apply\nthe configuration to the group.\n\n1118\n00:52:02,850 --> 00:52:06,920\nThe problem is if I go back to\nthe server manager in the server app,\n\n1119\n00:52:06,920 --> 00:52:09,310\nI don't have computers.\n\n1120\n00:52:09,310 --> 00:52:12,690\nWhen I go under Users I don't see\ncomputer accounts and groups.\n\n1121\n00:52:12,690 --> 00:52:16,800\nComputers are not recognized\nby the server app itself.\n\n1122\n00:52:16,800 --> 00:52:19,300\nThey're inside of open directory, but\n\n1123\n00:52:19,300 --> 00:52:21,640\nthey're not recognized\nhere in the server app.\n\n1124\n00:52:21,640 --> 00:52:27,170\nSo, for devices the profile manager\nactually maintains these separate.\n\n1125\n00:52:27,170 --> 00:52:29,750\nIt's not maintaining it\ninside of the server app.\n\n1126\n00:52:29,750 --> 00:52:31,040\nThere is no way to see it there.\n\n1127\n00:52:31,040 --> 00:52:35,820\nBut I can create device groups right\nhere in the profile manager, and\n\n1128\n00:52:35,820 --> 00:52:36,810\nthis is where they will exist.\n\n1129\n00:52:36,810 --> 00:52:39,830\nThey won't exist over\nin the open directory.\n\n1130\n00:52:39,830 --> 00:52:44,540\nSo if I add a device group,\nI might have a device that is,\n\n1131\n00:52:44,540 --> 00:52:49,690\nmaybe these are teacher, well,\nI'll just call them Teachers, right?\n\n1132\n00:52:49,690 --> 00:52:54,091\nSo these are gonna be devices\nthat are assigned to teachers.\n\n1133\n00:52:54,091 --> 00:53:01,211\nAnd then I might add another group, which\nwould be devices assigned to students.\n\n1134\n00:53:01,211 --> 00:53:01,932\nI could save it.\n\n1135\n00:53:01,932 --> 00:53:03,292\nAnd you know my head's\nprobably covering it up.\n\n1136\n00:53:03,292 --> 00:53:05,270\nBut there's a little Save\nbutton down here at the bottom.\n\n1137\n00:53:05,270 --> 00:53:06,710\nLet me resize this.\n\n1138\n00:53:06,710 --> 00:53:10,010\nSo when I go through and\nI create one of these new entries,\n\n1139\n00:53:10,010 --> 00:53:11,780\nI'm just hitting that Save\nbutton down at the bottom.\n\n1140\n00:53:11,780 --> 00:53:14,780\nIf you don't hit Save, it doesn't retain\nit so kind of an important thing to hit.\n\n1141\n00:53:16,310 --> 00:53:21,970\nNow once those are created,\nI now have these groups for computers.\n\n1142\n00:53:21,970 --> 00:53:25,290\nI might have these same groups for\nthe users also, right?\n\n1143\n00:53:25,290 --> 00:53:30,960\nIf I go back to my server app I might\ncreate a few more groups here that are for\n\n1144\n00:53:30,960 --> 00:53:32,520\nstudents and teachers, but\n\n1145\n00:53:32,520 --> 00:53:36,480\nthese are not the same groups as what\nI just created in profile manager.\n\n1146\n00:53:36,480 --> 00:53:37,880\nThose are for computers.\n\n1147\n00:53:37,880 --> 00:53:39,290\nThese are for users.\n\n1148\n00:53:39,290 --> 00:53:41,300\nAnd so I'll just add those in here.\n\n1149\n00:53:41,300 --> 00:53:43,520\nStudents and teachers.\n\n1150\n00:53:43,520 --> 00:53:45,780\nI'll spell it right, too, so\nI look like I have a basic education.\n\n1151\n00:53:45,780 --> 00:53:46,386\nThere we go.\n\n1152\n00:53:46,386 --> 00:53:50,020\nAnd so now I've got students and\nteachers here, but these are different.\n\n1153\n00:53:50,020 --> 00:53:54,460\nIf I go back to my profile manager, and\nI go to Groups, I'll see students and\n\n1154\n00:53:54,460 --> 00:53:57,390\nteachers already showing up\nright there ready to rock.\n\n1155\n00:53:57,390 --> 00:54:00,590\nIf I go to Device Groups,\nI already had students and teachers.\n\n1156\n00:54:00,590 --> 00:54:02,180\nBut these are different, right?\n\n1157\n00:54:02,180 --> 00:54:07,840\nSo I might wanna rename those just to\nmake sure that I don't confuse them.\n\n1158\n00:54:07,840 --> 00:54:10,530\nSo maybe I'll just call this\none like Student-Devices.\n\n1159\n00:54:12,340 --> 00:54:14,360\nAnd then I'll call the other\none Teacher-Devices.\n\n1160\n00:54:14,360 --> 00:54:16,460\nSo I'm just gonna rename those.\n\n1161\n00:54:16,460 --> 00:54:19,550\nTo keep it straight,\nI wanna avoid confusion wherever possible.\n\n1162\n00:54:21,320 --> 00:54:24,820\nNow, when I look at Student-Devices and\nTeacher-Devices,\n\n1163\n00:54:24,820 --> 00:54:28,000\nwell, you've got this\nMember tab over here.\n\n1164\n00:54:28,000 --> 00:54:30,660\nAnd under members you can see\nwhat devices are in there, and\n\n1165\n00:54:30,660 --> 00:54:32,820\nI can see that nobody is, right?\n\n1166\n00:54:32,820 --> 00:54:34,260\nIt doesn't have any members yet.\n\n1167\n00:54:34,260 --> 00:54:37,680\nI need to put those devices into\nthe groups before they can be managed.\n\n1168\n00:54:37,680 --> 00:54:41,860\nAnd if I go up here to my devices,\nand I take OSX-CLIENT1,\n\n1169\n00:54:41,860 --> 00:54:45,060\nI can look at its information,\nlike its details and security.\n\n1170\n00:54:45,060 --> 00:54:49,670\nAnd you'll find all the information about\nthat device, and buried away in here,\n\n1171\n00:54:49,670 --> 00:54:52,130\nwe'll also see what groups it's in.\n\n1172\n00:54:52,130 --> 00:54:54,440\nRight here, I've got in device group.\n\n1173\n00:54:54,440 --> 00:54:57,315\nAnd if I expand that out, I can see\nthat I'm not in any group right now.\n\n1174\n00:54:57,315 --> 00:55:00,740\nSo I'll need to move that into a group.\n\n1175\n00:55:00,740 --> 00:55:04,569\nAnd that's gonna be one of the steps that\nwe go through here inside of our Settings\n\n1176\n00:55:04,569 --> 00:55:07,723\nand our Activities where we can go and\nmove those into the groups and\n\n1177\n00:55:07,723 --> 00:55:08,810\nstart to manage them.\n\n1178\n00:55:08,810 --> 00:55:12,470\nAnd you can organize all of your\ndifferent systems, get them in place and\n\n1179\n00:55:12,470 --> 00:55:15,760\nget them configured the way\nthat you need them to be.\n\n1180\n00:55:15,760 --> 00:55:20,090\nAnd now when you apply that configuration,\nyou apply it to the group, and\n\n1181\n00:55:20,090 --> 00:55:25,620\nnow all the machines are gonna be\ncustomized based on that group membership.\n\n1182\n00:55:25,620 --> 00:55:29,760\nSo, when I go to Device Groups, and\nI click on Student-Devices and Members,\n\n1183\n00:55:29,760 --> 00:55:31,080\nI see no members.\n\n1184\n00:55:31,080 --> 00:55:35,140\nBut, right down here I've got my plus\nsign and I can add devices in there.\n\n1185\n00:55:35,140 --> 00:55:37,310\nNotice, I can add device groups also.\n\n1186\n00:55:37,310 --> 00:55:39,920\nYou can nest groups together.\n\n1187\n00:55:39,920 --> 00:55:40,650\nSo, for example,\n\n1188\n00:55:40,650 --> 00:55:44,840\nI might have another group called\nStudent-Laptops and Student-Desktops.\n\n1189\n00:55:44,840 --> 00:55:47,830\nSo if we come in and\nstart adding some more groups here, so,\n\n1190\n00:55:47,830 --> 00:55:54,430\nif we do Student-Laptops and\nStudent-Desktops,\n\n1191\n00:55:54,430 --> 00:55:59,680\nwe might have Student-iPads, right?\n\n1192\n00:55:59,680 --> 00:56:01,629\nEach of these are just\ndifferent variations,\n\n1193\n00:56:03,730 --> 00:56:04,752\nOf the different devices we have.\n\n1194\n00:56:04,752 --> 00:56:08,292\nNow why would I want separate\nConfiguration profiles for those.\n\n1195\n00:56:08,292 --> 00:56:09,954\nWell, on a student laptop,\n\n1196\n00:56:09,954 --> 00:56:13,680\nI might have certain power\nprofile needs that I want to set.\n\n1197\n00:56:13,680 --> 00:56:15,130\nBecause I'm worried about power.\n\n1198\n00:56:15,130 --> 00:56:17,690\nBut on a student desktop,\nI'm plugged into a wall.\n\n1199\n00:56:17,690 --> 00:56:19,910\nI might not care about power the same way.\n\n1200\n00:56:19,910 --> 00:56:22,880\nSo different configuration settings for\nthose devices.\n\n1201\n00:56:22,880 --> 00:56:27,000\nBut there might be some devices,\nlike forcing a web proxy for\n\n1202\n00:56:27,000 --> 00:56:27,990\ninternet filtering.\n\n1203\n00:56:27,990 --> 00:56:30,350\nBut i want it to apply to all of them.\n\n1204\n00:56:30,350 --> 00:56:34,910\nSo now, I can put my generic\nsettings on Student-Devices and\n\n1205\n00:56:34,910 --> 00:56:38,366\nI can put more specific things on\nStudent-Desktops, Student-iPads,\n\n1206\n00:56:38,366 --> 00:56:41,780\nStudent-Laptops if I nest those devices.\n\n1207\n00:56:41,780 --> 00:56:42,760\nThose groups together.\n\n1208\n00:56:44,150 --> 00:56:47,640\nSo if I take the Student-Devices group,\nand I go to Members and\n\n1209\n00:56:47,640 --> 00:56:52,570\nhere where it says No Members,\nI can add in those other device groups.\n\n1210\n00:56:52,570 --> 00:56:54,630\nAnd so we can come through and\npick each of the ones.\n\n1211\n00:56:54,630 --> 00:56:59,150\nI want Student-Desktops,\nStudent-iPads, Student-Laptops.\n\n1212\n00:56:59,150 --> 00:57:01,140\nI'll leave teachers out of this one.\n\n1213\n00:57:01,140 --> 00:57:03,590\nAnd now those are nested into this group.\n\n1214\n00:57:04,760 --> 00:57:07,900\nAnd I can go down to Student-Laptops,\noops!\n\n1215\n00:57:07,900 --> 00:57:11,740\nI forgot to hit Save, even though I told\nyou guys to hit save just a moment ago.\n\n1216\n00:57:11,740 --> 00:57:14,360\nAnd so it's warning me here that\nI'm about to navigate away.\n\n1217\n00:57:14,360 --> 00:57:17,110\nI just need to make sure I hit Save so\nit doesn't lose my settings.\n\n1218\n00:57:18,120 --> 00:57:21,380\nAnd now, I'll go down to Student-Laptops,\nand Members, and\n\n1219\n00:57:21,380 --> 00:57:22,810\nI'm gonna add in my device.\n\n1220\n00:57:22,810 --> 00:57:25,070\nAnd I'll just go to Add Device here.\n\n1221\n00:57:25,070 --> 00:57:28,190\nAnd I'll add in that OSX-CLIENT1.\n\n1222\n00:57:28,190 --> 00:57:28,690\nSo I'm there.\n\n1223\n00:57:29,730 --> 00:57:32,480\nNow what that means is that\nwhen I log in on that laptop,\n\n1224\n00:57:32,480 --> 00:57:37,620\nthe laptop is gonna get configuration\nsettings from the Student-Laptops group,\n\n1225\n00:57:37,620 --> 00:57:39,360\nbecause it's in that group.\n\n1226\n00:57:39,360 --> 00:57:42,030\nThat group is also in\nthe Student-Devices group, and so\n\n1227\n00:57:42,030 --> 00:57:44,090\nI'll get settings from there too, right?\n\n1228\n00:57:44,090 --> 00:57:45,940\nSo we'll get settings from up there.\n\n1229\n00:57:45,940 --> 00:57:48,370\nAnd, I'm logging in as Don Pezet.\n\n1230\n00:57:48,370 --> 00:57:54,280\nSo under users, I'll get any configuration\nsettings from Don Pezet right here.\n\n1231\n00:57:54,280 --> 00:57:58,151\nAnd on top of that, as Don Pezet,\nI'm in certain groups and so\n\n1232\n00:57:58,151 --> 00:58:01,510\nI'll get settings from\nthe groups that I'm in also.\n\n1233\n00:58:01,510 --> 00:58:05,028\nIn this case everyone and\nwork group will apply to me.\n\n1234\n00:58:05,028 --> 00:58:09,400\nSo while logged in, I could be getting\nsettings from four different places.\n\n1235\n00:58:09,400 --> 00:58:12,870\nAnd really even more because I\nmight be in more than one group.\n\n1236\n00:58:12,870 --> 00:58:16,420\nSo you could be getting configuration\nsettings from all over the place.\n\n1237\n00:58:16,420 --> 00:58:17,880\nNow, why is that important?\n\n1238\n00:58:17,880 --> 00:58:20,420\nWell, the important thing here is that\n\n1239\n00:58:20,420 --> 00:58:24,400\nyou might not just have one policy\nthat defines everything you need.\n\n1240\n00:58:24,400 --> 00:58:26,380\nYou could actually have 20 or\n\n1241\n00:58:26,380 --> 00:58:32,120\n30 policies that combine together to\ncreate the final policy that you need.\n\n1242\n00:58:32,120 --> 00:58:35,420\nWhere we have to be careful,\nis where we duplicate settings.\n\n1243\n00:58:35,420 --> 00:58:38,840\nYou can have a conflict between\na setting at one level and\n\n1244\n00:58:38,840 --> 00:58:40,710\na setting at another level.\n\n1245\n00:58:40,710 --> 00:58:46,380\nIf I log in and in my Device settings,\n\n1246\n00:58:46,380 --> 00:58:49,490\nI have a setting that says my screensaver\nshould kick in after 15 minutes.\n\n1247\n00:58:50,590 --> 00:58:53,240\nBut then in my Device Group,\n\n1248\n00:58:53,240 --> 00:58:57,220\nI have a setting that says the screensaver\nshould kick in in 20 minutes.\n\n1249\n00:58:57,220 --> 00:58:58,990\nWell what happens?\n\n1250\n00:58:58,990 --> 00:59:03,560\nUnfortunately, the answer is the system\ntries its best to merge the settings\n\n1251\n00:59:03,560 --> 00:59:05,710\ntogether to create the final policy.\n\n1252\n00:59:05,710 --> 00:59:09,370\nBut when there's a conflict, it often\ncomes down to which one was the last\n\n1253\n00:59:09,370 --> 00:59:11,670\none to apply, and\nwhich one is that going to be?\n\n1254\n00:59:11,670 --> 00:59:12,940\nYou never really know.\n\n1255\n00:59:12,940 --> 00:59:16,800\nIt kind of applies them in pseudo\nrandom order, depending on timing.\n\n1256\n00:59:16,800 --> 00:59:19,510\nAnd so when it connects,\nyou can get erratic results.\n\n1257\n00:59:19,510 --> 00:59:21,210\nSo Apple's recommendation, really,\n\n1258\n00:59:21,210 --> 00:59:26,370\nthe thing you should do, is make sure you\ndon't duplicate settings between levels.\n\n1259\n00:59:26,370 --> 00:59:30,507\nThat I can set power settings\non Student-Desktops and\n\n1260\n00:59:30,507 --> 00:59:33,780\nStudent-iPads and\nStudent-Laptops because I would never have\n\n1261\n00:59:33,780 --> 00:59:36,240\none device that was gonna be in\nmore than one of those groups.\n\n1262\n00:59:37,240 --> 00:59:41,180\nBut I wouldn't want to set power\nsettings on Student-Desktops and\n\n1263\n00:59:41,180 --> 00:59:45,310\nStudent-Devices because now I'm gonna\nget a conflict between the two.\n\n1264\n00:59:45,310 --> 00:59:47,640\nAnd I won't necessarily know\nwhat's gonna come out of that,\n\n1265\n00:59:47,640 --> 00:59:50,530\nunless the value is the same,\nthen you know what will come out of it.\n\n1266\n00:59:50,530 --> 00:59:53,790\nSo if you're gonna be\noverlapping settings like that,\n\n1267\n00:59:53,790 --> 00:59:56,530\nyou'll need to test it out really\nthoroughly to make sure you\n\n1268\n00:59:56,530 --> 00:59:58,860\nget the actual results that you\nintended to get in the beginning.\n\n1269\n00:59:58,860 --> 01:00:00,570\nAll right, so be careful with that.\n\n1270\n01:00:00,570 --> 01:00:02,590\nOverlapping settings can\ndefinitely be problematic.\n\n1271\n01:00:04,990 --> 01:00:07,820\nNow once we've got that in place,\nyou've added in your systems.\n\n1272\n01:00:07,820 --> 01:00:09,950\nYou get them thrown into\nthe various categories.\n\n1273\n01:00:09,950 --> 01:00:11,330\nNow you're ready to do the settings.\n\n1274\n01:00:11,330 --> 01:00:14,010\nAnd fortunately, the settings,\nthey're the most fun part.\n\n1275\n01:00:14,010 --> 01:00:14,580\nRight?\n\n1276\n01:00:14,580 --> 01:00:16,190\nBut, it's also one of\nthe easier parts too.\n\n1277\n01:00:16,190 --> 01:00:20,740\nI'm gonna go and take my Student-Laptops.\n\n1278\n01:00:20,740 --> 01:00:24,480\nAnd when I view Student-Laptops,\nyou got this Settings tab.\n\n1279\n01:00:24,480 --> 01:00:28,130\nAnd this is showing the settings that I've\nconfigured for the laptops right now.\n\n1280\n01:00:28,130 --> 01:00:30,770\nNow, the settings are divided\nup into categories.\n\n1281\n01:00:30,770 --> 01:00:33,480\nAnd it's only showing one\ncategory right now, General.\n\n1282\n01:00:33,480 --> 01:00:35,390\nYou've always got at least one setting.\n\n1283\n01:00:35,390 --> 01:00:38,220\nAnd that setting is,\nthat this setting exists.\n\n1284\n01:00:38,220 --> 01:00:39,090\nAnd that its, right?\n\n1285\n01:00:39,090 --> 01:00:40,130\nSo there is not really anything.\n\n1286\n01:00:40,130 --> 01:00:41,060\nIts kind of empty.\n\n1287\n01:00:41,060 --> 01:00:43,360\nSo you will always see at least General.\n\n1288\n01:00:43,360 --> 01:00:46,950\nAs you add other settings, you may\nsee more icons appear here to reflect\n\n1289\n01:00:46,950 --> 01:00:48,620\nthe different settings that you've put in.\n\n1290\n01:00:48,620 --> 01:00:49,270\nYou may or may not.\n\n1291\n01:00:49,270 --> 01:00:51,760\nIf all of your settings are under\nthe General category, you'll just see,\n\n1292\n01:00:51,760 --> 01:00:53,860\nthis, what I'm seeing right here.\n\n1293\n01:00:53,860 --> 01:00:57,820\nWe can then edit that and\nstart to customize the settings.\n\n1294\n01:00:57,820 --> 01:01:00,520\nNow in the settings, there's a few\nthings that we need to be aware of.\n\n1295\n01:01:00,520 --> 01:01:03,220\nOn the left side,\nwe have a navigation pane.\n\n1296\n01:01:03,220 --> 01:01:07,670\nAnd it's laying out the various categories\nof settings that we can configure and\n\n1297\n01:01:07,670 --> 01:01:10,140\nyou'll see,\nI'm in the General section here.\n\n1298\n01:01:10,140 --> 01:01:12,490\nThe General one is the only\none that's mandatory.\n\n1299\n01:01:12,490 --> 01:01:14,410\nYou have to have that general category.\n\n1300\n01:01:14,410 --> 01:01:16,181\nThat's why that icon shows up.\n\n1301\n01:01:16,181 --> 01:01:17,987\nAll the others are optional,\nturn them on if you want,\n\n1302\n01:01:17,987 --> 01:01:20,220\ndon't turn them on if you don't want.\n\n1303\n01:01:20,220 --> 01:01:25,093\nBut notice how the General category\nsays right above it, OS X and iOS,\n\n1304\n01:01:25,093 --> 01:01:30,461\nthat means that anything in the the\nGeneral settings will apply to MacBooks,\n\n1305\n01:01:30,461 --> 01:01:36,343\nMac Pros, iPads, iPhones, any of the Apple\ndevices that are running iOS or Mac OS.\n\n1306\n01:01:36,343 --> 01:01:37,310\nAll right.\n\n1307\n01:01:37,310 --> 01:01:39,500\nMac OS 10.7 or higher.\n\n1308\n01:01:39,500 --> 01:01:42,900\nSo as long as we're in that area,\nthese settings will all apply.\n\n1309\n01:01:42,900 --> 01:01:45,330\nBut as you scroll down,\nthere's two other sections.\n\n1310\n01:01:45,330 --> 01:01:46,450\nHere's a section called iOS.\n\n1311\n01:01:46,450 --> 01:01:51,440\nThese settings will only\napply to iPads and iPhones.\n\n1312\n01:01:51,440 --> 01:01:55,333\nSo if this group, is Student-Desktops,\nor Student-Laptops,\n\n1313\n01:01:55,333 --> 01:01:58,560\nare any of my Student-Laptops\ngonna run iOS?\n\n1314\n01:01:58,560 --> 01:02:01,320\nNo.\nSo these settings effectively get ignored.\n\n1315\n01:02:01,320 --> 01:02:03,130\nSo I should leave those\nall not configured.\n\n1316\n01:02:04,160 --> 01:02:06,240\nBut if this was Student-iPads, yes.\n\n1317\n01:02:06,240 --> 01:02:07,870\nThis is where I would want\nto set some of these values.\n\n1318\n01:02:08,940 --> 01:02:12,590\nAs we scroll down,\nwe see another section called OS X.\n\n1319\n01:02:12,590 --> 01:02:15,750\nAnd in here I'll see the settings\nthat don't apply to iOS.\n\n1320\n01:02:15,750 --> 01:02:17,110\nThey don't apply to iPads and iPhones.\n\n1321\n01:02:17,110 --> 01:02:20,562\nThese just apply to Mac OS devices.\n\n1322\n01:02:20,562 --> 01:02:22,722\nAnd so I can go in here and\nconfigure these.\n\n1323\n01:02:22,722 --> 01:02:26,260\nAnd they're different than what we\nsaw up here under iOS devices, so\n\n1324\n01:02:26,260 --> 01:02:27,770\nthere's variations.\n\n1325\n01:02:27,770 --> 01:02:31,450\nFor example, under OS X,\nI've got a section in here for printers.\n\n1326\n01:02:31,450 --> 01:02:32,170\nLet me see if I can find it.\n\n1327\n01:02:32,170 --> 01:02:33,480\nThere it is, printing.\n\n1328\n01:02:33,480 --> 01:02:36,780\nSo here's where I can find what printers\nI have, which one's my default,\n\n1329\n01:02:36,780 --> 01:02:40,430\nall those settings based on a desktop.\n\n1330\n01:02:40,430 --> 01:02:42,490\nBut iOS devices don't have\ntraditional printer drivers.\n\n1331\n01:02:42,490 --> 01:02:44,420\nThey have air print.\n\n1332\n01:02:44,420 --> 01:02:48,740\nSo If i go up to the iOS section,\nI don't have a printing section.\n\n1333\n01:02:48,740 --> 01:02:50,500\nI have an air print section.\n\n1334\n01:02:50,500 --> 01:02:52,800\nSo I can define those on my iOS devices.\n\n1335\n01:02:52,800 --> 01:02:53,730\nSo, it is different.\n\n1336\n01:02:53,730 --> 01:02:55,580\nThat's what those two sections are.\n\n1337\n01:02:55,580 --> 01:02:57,660\nBut the General section up top.\n\n1338\n01:02:57,660 --> 01:03:02,010\nThese are ones that work\non both sets of devices.\n\n1339\n01:03:02,010 --> 01:03:03,840\nAnd we can define all sorts of things.\n\n1340\n01:03:03,840 --> 01:03:06,820\nUnder General, if I click on that,\nI'll see the general settings.\n\n1341\n01:03:06,820 --> 01:03:10,290\nAnd the first one is saying how\nare they gonna get this profile?\n\n1342\n01:03:10,290 --> 01:03:11,850\nThe default is an automatic push.\n\n1343\n01:03:11,850 --> 01:03:14,100\nThat means it's gonna go\nthrough Apple's servers.\n\n1344\n01:03:14,100 --> 01:03:16,330\nIt's gonna go through Apple's\npush notifications system.\n\n1345\n01:03:16,330 --> 01:03:17,750\nBut what if you don't want that?\n\n1346\n01:03:17,750 --> 01:03:21,260\nWhat if you wanna make sure\nthat it's done yourself?\n\n1347\n01:03:21,260 --> 01:03:23,050\nYou can choose Manual Download.\n\n1348\n01:03:23,050 --> 01:03:26,297\nThat mobile config file that\nI showed you guys earlier,\n\n1349\n01:03:26,297 --> 01:03:29,060\nremember we downloaded it for\nthe enrollment,\n\n1350\n01:03:29,060 --> 01:03:32,941\nthere was the mdm_profile.mobileprofile,\nor mobileconfig.\n\n1351\n01:03:32,941 --> 01:03:36,363\nThat file, you throw it on a USB key,\nsend it over, and install it,\n\n1352\n01:03:36,363 --> 01:03:38,770\nthat's a manual download, all right?\n\n1353\n01:03:38,770 --> 01:03:39,890\nBut I want it to be automatic.\n\n1354\n01:03:39,890 --> 01:03:41,720\nI'll have it just go through\nApple servers to make sure\n\n1355\n01:03:41,720 --> 01:03:43,780\nthe remote clients get up to date.\n\n1356\n01:03:43,780 --> 01:03:45,480\nThen you can define other things.\n\n1357\n01:03:45,480 --> 01:03:46,600\nHere's the organization name.\n\n1358\n01:03:46,600 --> 01:03:48,000\nWe're not allowed to change that.\n\n1359\n01:03:48,000 --> 01:03:50,310\nBut the rest of this,\nyou can set a description.\n\n1360\n01:03:50,310 --> 01:03:53,900\nYou can set whether or\nnot the profile can be removed.\n\n1361\n01:03:53,900 --> 01:03:56,690\nBy default, as long as the user's\na local admin on their system,\n\n1362\n01:03:56,690 --> 01:03:58,334\nthey can go into System Preferences.\n\n1363\n01:03:58,334 --> 01:04:00,539\nThey can launch the Profile's Preference.\n\n1364\n01:04:00,539 --> 01:04:03,152\nAnd they can just select the profile and\nhit the minus sign and remove it.\n\n1365\n01:04:03,152 --> 01:04:04,440\nWe might not want that.\n\n1366\n01:04:04,440 --> 01:04:05,392\nThese are students.\n\n1367\n01:04:05,392 --> 01:04:07,134\nI don't want the students\nto be able to do that.\n\n1368\n01:04:07,134 --> 01:04:11,970\nAnd so, I might come in here and say\nthey can only do it with authorization.\n\n1369\n01:04:11,970 --> 01:04:15,550\nRight, they've gotta get authorization\nfrom us to be able to remove it.\n\n1370\n01:04:15,550 --> 01:04:18,510\nAnd that authorization takes\nthe form of a Password.\n\n1371\n01:04:18,510 --> 01:04:20,960\nAnd so I can punch in what\nI want my password to be.\n\n1372\n01:04:20,960 --> 01:04:24,130\nAnd they'll need to know that password or\nremove the profile.\n\n1373\n01:04:24,130 --> 01:04:27,520\nWe can automatically remove\nthe Profile on a certain date, or\n\n1374\n01:04:27,520 --> 01:04:29,760\nafter a certain amount of Applications.\n\n1375\n01:04:29,760 --> 01:04:31,430\nIf we want, the Default is never,\n\n1376\n01:04:31,430 --> 01:04:34,130\nwhich means the Profile will\nstay there until we remove it.\n\n1377\n01:04:36,770 --> 01:04:40,480\nWe can set Passcode Requirements if\nwe want to enforce them to have to\n\n1378\n01:04:40,480 --> 01:04:42,530\nuse a Username and Password to get in.\n\n1379\n01:04:42,530 --> 01:04:46,470\nRemember in iPad and iPhone you just\nswipe and you get in by default,\n\n1380\n01:04:46,470 --> 01:04:51,040\non an OS/X device,\nyou can tell it to save your username and\n\n1381\n01:04:51,040 --> 01:04:54,120\npassword, or you can tell it not to have\na password and just log you right in.\n\n1382\n01:04:54,120 --> 01:04:57,940\nHere we can configure the Passcode\nto enforce that log in.\n\n1383\n01:04:57,940 --> 01:05:00,410\nYou can do your network settings and VPN.\n\n1384\n01:05:00,410 --> 01:05:02,260\nNotice how all these appear blank.\n\n1385\n01:05:02,260 --> 01:05:03,140\nWhen you click on them,\n\n1386\n01:05:03,140 --> 01:05:07,060\nthe settings don't actually show up\nuntil you hit that Configure button.\n\n1387\n01:05:07,060 --> 01:05:09,070\nAnd then the settings will light up and\n\n1388\n01:05:09,070 --> 01:05:12,470\nit has like a little wizard that we can\ngo through to set some basic values.\n\n1389\n01:05:12,470 --> 01:05:14,950\nSo here we get setting\nup a new VPN connection.\n\n1390\n01:05:14,950 --> 01:05:16,780\nI can specify that server.\n\n1391\n01:05:16,780 --> 01:05:20,600\nSo I might call this Classroom Connect.\n\n1392\n01:05:22,400 --> 01:05:24,690\nAnd we can set what type of VPN tunnel,\nit's gonna be,\n\n1393\n01:05:24,690 --> 01:05:28,630\nmaybe it's Cisco any connect and\nyou can provide the other information.\n\n1394\n01:05:30,800 --> 01:05:32,400\nThat they're gonna use to get connected.\n\n1395\n01:05:32,400 --> 01:05:35,240\nAnd so now, when this machine\ngets fired up the first time,\n\n1396\n01:05:35,240 --> 01:05:37,050\nit'll get this VPN profile on it.\n\n1397\n01:05:37,050 --> 01:05:38,420\nAnd it's already set up for the user.\n\n1398\n01:05:38,420 --> 01:05:40,540\nThey won't have to do it themselves.\n\n1399\n01:05:40,540 --> 01:05:42,020\nSo I've got VPN set up.\n\n1400\n01:05:42,020 --> 01:05:43,060\nCertificates.\n\n1401\n01:05:43,060 --> 01:05:45,520\nWe've got all sorts of other\nsettings there under general.\n\n1402\n01:05:45,520 --> 01:05:49,190\nIf I dive down to iOS, well there's not\nreally much point in setting these up.\n\n1403\n01:05:49,190 --> 01:05:52,980\nBut I can set up things like\ncontent filter, proxies,\n\n1404\n01:05:52,980 --> 01:05:56,608\nair print calendar, contacts,\nall those good things.\n\n1405\n01:05:56,608 --> 01:06:01,100\nUnder OS 10, is where we'll have\nthings like our identification, and\n\n1406\n01:06:01,100 --> 01:06:02,060\nother settings.\n\n1407\n01:06:02,060 --> 01:06:03,410\nIf you're ever bored, browse through here.\n\n1408\n01:06:03,410 --> 01:06:05,220\nYou'll see there's a lot\nof really cool stuff,\n\n1409\n01:06:05,220 --> 01:06:07,900\nthat you can do,\njust through our settings.\n\n1410\n01:06:07,900 --> 01:06:09,980\nThings like customizing that login window.\n\n1411\n01:06:09,980 --> 01:06:12,600\nWe can change what options\nare gonna show up here.\n\n1412\n01:06:12,600 --> 01:06:15,220\nLogin window is one that we\nreally have to be careful with,\n\n1413\n01:06:15,220 --> 01:06:19,280\nif you have overlapping settings Login\nwindow does not merge very well.\n\n1414\n01:06:19,280 --> 01:06:21,880\nSo you only want to\ndefine this one in a way\n\n1415\n01:06:21,880 --> 01:06:23,800\nthat it only applies once to a machine.\n\n1416\n01:06:23,800 --> 01:06:27,950\nYou don't want to have three different\ngroups all applying this to one machine.\n\n1417\n01:06:27,950 --> 01:06:30,230\nIt can lock you out of your system.\n\n1418\n01:06:30,230 --> 01:06:34,380\nWe can tailor things like a Login\nbanner so we can have extra\n\n1419\n01:06:34,380 --> 01:06:38,690\ninformation show up when somebody logs in,\nlike see their IP address.\n\n1420\n01:06:38,690 --> 01:06:44,990\nWe can say unauthorized\naccess is prohibited.\n\n1421\n01:06:46,340 --> 01:06:49,080\nWhich is how we meet our due diligence.\n\n1422\n01:06:49,080 --> 01:06:51,125\nTo make sure hackers aren't\nallowed to use our system.\n\n1423\n01:06:51,125 --> 01:06:54,560\n[LAUGH] And some of the other\ndifferent things we can define here.\n\n1424\n01:06:54,560 --> 01:06:57,210\nYou tweak the settings\nbased on what you want.\n\n1425\n01:06:58,410 --> 01:07:02,570\nWe've got docs information for configuring\nthe Doc that shows up down here.\n\n1426\n01:07:02,570 --> 01:07:05,930\nIf I wanna go through and\ntweak that, how big the Doc is,\n\n1427\n01:07:05,930 --> 01:07:07,490\nthe Magnification on it, right.\n\n1428\n01:07:07,490 --> 01:07:11,050\nMaybe I want it to be a little bigger and\npositioned on a different size.\n\n1429\n01:07:11,050 --> 01:07:12,960\nWhatever you define those.\n\n1430\n01:07:12,960 --> 01:07:16,330\nNotice as I define these\nsettings it adds this value here.\n\n1431\n01:07:16,330 --> 01:07:18,960\nIt says one Payload configured.\n\n1432\n01:07:18,960 --> 01:07:20,925\nWhat's a payload?\n\n1433\n01:07:20,925 --> 01:07:23,480\nWell,when you build\na configuration profile\n\n1434\n01:07:23,480 --> 01:07:27,040\nthe settings inside of\nit are called a Payload.\n\n1435\n01:07:27,040 --> 01:07:31,180\nOur enrollment profile we made earlier\nhad a payload of our certificates,\n\n1436\n01:07:31,180 --> 01:07:32,700\nwho we needed to trust.\n\n1437\n01:07:32,700 --> 01:07:35,290\nOur Configuration profile\nthat I'm building now,\n\n1438\n01:07:35,290 --> 01:07:38,840\nit's payload of the accidental files\nthat have the Configuration itself.\n\n1439\n01:07:38,840 --> 01:07:43,330\nAnd with every setting that I adjust,\nit's basically building that payload.\n\n1440\n01:07:43,330 --> 01:07:45,040\nI've got this payload configured.\n\n1441\n01:07:45,040 --> 01:07:49,090\nAnd so it's updating that to reflect that\nI now have a payload inside of this, and\n\n1442\n01:07:49,090 --> 01:07:50,860\nthat it's not just unconfigured.\n\n1443\n01:07:52,610 --> 01:07:54,770\nSoftware update is\na great one to configure.\n\n1444\n01:07:54,770 --> 01:07:57,790\nIf you set up your own\nsoftware update server,\n\n1445\n01:07:57,790 --> 01:08:00,920\nhow do we tell the client to use us\ninstead of going out to Apple's?\n\n1446\n01:08:00,920 --> 01:08:03,120\nWell, you do it right here\nthrough our software update.\n\n1447\n01:08:03,120 --> 01:08:06,890\nAnd we go to configure that,\nwe can specify an alternate server.\n\n1448\n01:08:06,890 --> 01:08:09,786\nSo I might want to specify my own server,\n\n1449\n01:08:09,786 --> 01:08:15,520\nwhich was OSX-server1-lab-ITpro.TV, and\n\n1450\n01:08:15,520 --> 01:08:21,750\nwhatever port number it has, and\nthe location of its update catalog.\n\n1451\n01:08:24,070 --> 01:08:25,430\nI'll just punch that in.\n\n1452\n01:08:25,430 --> 01:08:26,750\nI'll turn off beta releases.\n\n1453\n01:08:26,750 --> 01:08:30,040\nBut that's going to tell this client hey\ndon't use Apple's softrub base server\n\n1454\n01:08:30,040 --> 01:08:30,620\nuse us.\n\n1455\n01:08:30,620 --> 01:08:32,740\nI want to pick and\nchoose what updates apply.\n\n1456\n01:08:32,740 --> 01:08:36,070\nI don't want you to installing an update\nthe moment it comes out because\n\n1457\n01:08:36,070 --> 01:08:37,680\nit might break some of our software.\n\n1458\n01:08:37,680 --> 01:08:41,080\nSo here we have that control and\nwe can restrict it.\n\n1459\n01:08:41,080 --> 01:08:42,610\nSo now I have payload there also.\n\n1460\n01:08:44,150 --> 01:08:47,270\nEnergy saver, maybe I just\nwanna disable my screen saver.\n\n1461\n01:08:47,270 --> 01:08:50,530\nHere if I do a put computer to sleep,\nthis is a desktop.\n\n1462\n01:08:50,530 --> 01:08:52,420\nOh, no, actually it's a laptop isn't it?\n\n1463\n01:08:52,420 --> 01:08:55,370\nSo maybe I'll leave it at 30 minutes, for\n\n1464\n01:08:55,370 --> 01:08:58,610\nwhen it goes to sleep, and I'll put the\ndisplays to sleep after 10 minutes, right?\n\n1465\n01:08:58,610 --> 01:09:00,350\nWe start to tweak those settings.\n\n1466\n01:09:00,350 --> 01:09:02,670\nAll of these are different\nthings that we can adjust.\n\n1467\n01:09:02,670 --> 01:09:03,480\nInside of the System.\n\n1468\n01:09:04,870 --> 01:09:07,710\nWhen you've got your settings defined,\nyou can say okay.\n\n1469\n01:09:07,710 --> 01:09:09,680\nAnd see I have a lot more icons now?\n\n1470\n01:09:09,680 --> 01:09:13,850\nI used to only have the general icon but\nnow I have set things in other areas.\n\n1471\n01:09:13,850 --> 01:09:16,000\nSo they all light up right here.\n\n1472\n01:09:16,000 --> 01:09:16,850\nIf you hit edit,\n\n1473\n01:09:16,850 --> 01:09:21,560\nit's just going to take you right back\ninto the policy under the overall section.\n\n1474\n01:09:21,560 --> 01:09:26,180\nBut if you click on a particular icon\nit'll jump you right to that spot so\n\n1475\n01:09:26,180 --> 01:09:27,540\nit makes it easy to go in and\n\n1476\n01:09:27,540 --> 01:09:31,870\nstart to edit some of these because you\ncan quickly jump right to those settings.\n\n1477\n01:09:34,780 --> 01:09:39,290\nNow I've got a Configuration Profile in\nplace and since I chose automatic for\n\n1478\n01:09:39,290 --> 01:09:43,250\nmy method of deployment,\nmy server is reaching out to Apple and\n\n1479\n01:09:43,250 --> 01:09:46,470\nsaying hey Apple,\nI got a new configuration for this one.\n\n1480\n01:09:46,470 --> 01:09:50,190\nAnd then my client on the other side is\ngonna receive that push notification.\n\n1481\n01:09:50,190 --> 01:09:51,990\nAnd he's gonna say,\noh look, there's an update.\n\n1482\n01:09:51,990 --> 01:09:54,345\nI need to download this profile and\napply it, right.\n\n1483\n01:09:55,570 --> 01:09:58,020\nIf I'm in a hurry and\nI don't wanna wait for that to happen,\n\n1484\n01:09:58,020 --> 01:10:00,320\nif I don't wanna wait for\nit to go through Apple servers.\n\n1485\n01:10:00,320 --> 01:10:04,130\nI can hit this Download link and\nit's gonna download it.\n\n1486\n01:10:04,130 --> 01:10:08,120\nAnd when it downloads it, it's going\nto save it down to my downloads folder.\n\n1487\n01:10:08,120 --> 01:10:09,850\nAnd I can put that on USB key.\n\n1488\n01:10:09,850 --> 01:10:13,550\nI can take that right over to that other\nmachine and I can manually install it.\n\n1489\n01:10:13,550 --> 01:10:14,100\nAll right?\n\n1490\n01:10:14,100 --> 01:10:15,020\nSo it just downloaded it.\n\n1491\n01:10:15,020 --> 01:10:17,400\nAnd if I go into my downloads.\n\n1492\n01:10:18,630 --> 01:10:20,660\nI click the Icon here.\n\n1493\n01:10:20,660 --> 01:10:21,430\nI go into my downloads.\n\n1494\n01:10:21,430 --> 01:10:24,700\nI'll see one of those mobile\nconfig files sitting there.\n\n1495\n01:10:24,700 --> 01:10:28,000\nOh you know what it's going to freeze\non me isn't it, nope there it goes.\n\n1496\n01:10:28,000 --> 01:10:29,730\nThere's the settings right there.\n\n1497\n01:10:29,730 --> 01:10:32,638\nI can take that file, copy it to\nthe system and just double-click on it.\n\n1498\n01:10:32,638 --> 01:10:35,470\nWhen you double-click on it it will\ninstall that profile on the other system\n\n1499\n01:10:35,470 --> 01:10:37,950\nand it will have those\nchanges immediately,\n\n1500\n01:10:37,950 --> 01:10:39,870\ninstead of having to wait for\nthem to apply later.\n\n1501\n01:10:39,870 --> 01:10:42,010\nNow one more precaution.\n\n1502\n01:10:42,010 --> 01:10:45,760\nNotice how my little system\npreferences is bouncing there.\n\n1503\n01:10:45,760 --> 01:10:50,870\nWhen you download the profile, your system\nwill more than likely try to install it.\n\n1504\n01:10:50,870 --> 01:10:52,040\nThat's what's happening here.\n\n1505\n01:10:52,040 --> 01:10:53,920\nSee it's trying to install it.\n\n1506\n01:10:53,920 --> 01:10:56,980\nI don't wanna install that student\nlaptop profile on my server.\n\n1507\n01:10:56,980 --> 01:10:58,480\nI'm gonna hit Cancel on that.\n\n1508\n01:10:58,480 --> 01:11:00,360\nI don't want that to apply.\n\n1509\n01:11:00,360 --> 01:11:02,050\nThat'll stop that.\n\n1510\n01:11:02,050 --> 01:11:03,130\nIt did download.\n\n1511\n01:11:03,130 --> 01:11:04,990\nI can now send it over, very easy to do.\n\n1512\n01:11:04,990 --> 01:11:05,600\nRight.\n\n1513\n01:11:05,600 --> 01:11:09,528\nBut I also have a separate automatic push,\nso eventually, the other system will\n\n1514\n01:11:09,528 --> 01:11:14,060\nreceive notification, it'll download this\nconfiguration, and it'll be ready to rock.\n\n1515\n01:11:16,790 --> 01:11:17,710\nAll right.\n\n1516\n01:11:17,710 --> 01:11:20,960\nSo, that's basically how\nthe Profile Manager works.\n\n1517\n01:11:20,960 --> 01:11:22,870\nIt's very, very powerful Software.\n\n1518\n01:11:22,870 --> 01:11:24,710\nIt's got a ton of features in there.\n\n1519\n01:11:24,710 --> 01:11:26,990\nDefinitely browse around and\nexperiment with it.\n\n1520\n01:11:26,990 --> 01:11:28,540\nIt can be a lot of fun.\n\n1521\n01:11:28,540 --> 01:11:33,240\nBut what we are doing at the end of\nthe day is creating one configuration and\n\n1522\n01:11:33,240 --> 01:11:35,490\nthen applying it over and\nover and over again,\n\n1523\n01:11:35,490 --> 01:11:39,830\nI could have a thousand laptops in here\nand they will all get those settings.\n\n1524\n01:11:39,830 --> 01:11:42,050\nIf I decide I want to change\nmy power manager profile for\n\n1525\n01:11:42,050 --> 01:11:44,740\nall thousand laptops,\nI just do it right here, and\n\n1526\n01:11:44,740 --> 01:11:47,670\nnow all thousand of them update and\nthey have got the new settings.\n\n1527\n01:11:47,670 --> 01:11:50,100\nI dont have to go to machine,\nto machine, to machine.\n\n1528\n01:11:50,100 --> 01:11:52,980\nIt's much, much more simple.\n\n1529\n01:11:52,980 --> 01:11:55,950\nPretty cool software and for $20, right?\n\n1530\n01:11:55,950 --> 01:11:58,308\nWhat the cost to the Server\napp is unheard of.\n\n1531\n01:11:58,308 --> 01:12:01,080\nNo other vendor has Software that\nis like this, so inexpensive and\n\n1532\n01:12:01,080 --> 01:12:01,930\neasy to implement.\n\n1533\n01:12:01,930 --> 01:12:03,671\nIt's a great technology.\n\n1534\n01:12:03,671 --> 01:12:07,710\nIf you're a small or medium business, you\nmight not really have much need for this.\n\n1535\n01:12:07,710 --> 01:12:10,090\nBut, if you're an enterprise,\nif you're a school,\n\n1536\n01:12:10,090 --> 01:12:13,820\nif you've got ton of Apple devices,\nthe Profile Manager.\n\n1537\n01:12:13,820 --> 01:12:14,990\nIt really does make a difference.\n\n1538\n01:12:14,990 --> 01:12:20,702\nIt makes it a lot easier\nto do updates like this.\n\n1539\n01:12:20,702 --> 01:12:23,200\nAll right,\ngot a question in the chat room about.\n\n1540\n01:12:23,200 --> 01:12:29,180\nWhat if you have a laptop or something\nthat is not bound to your open directory,\n\n1541\n01:12:29,180 --> 01:12:31,920\nall right so can we still do this, right.\n\n1542\n01:12:31,920 --> 01:12:37,280\nWell if we're not bound to the open\ndirectory you still can, right.\n\n1543\n01:12:37,280 --> 01:12:41,050\nWe would have to manually take our\nenrollment profile over first and\n\n1544\n01:12:41,050 --> 01:12:42,250\nget it enrolled.\n\n1545\n01:12:42,250 --> 01:12:45,290\nAnd then after it was enrolled,\nit now trusts us and\n\n1546\n01:12:45,290 --> 01:12:47,870\nit'll deploy these even though\nwe're not in the open directory.\n\n1547\n01:12:47,870 --> 01:12:52,220\nYou can even configure the devices to join\nyour open directory through the settings\n\n1548\n01:12:52,220 --> 01:12:55,270\nif you want, so the machine might not\nalready be in the open directory, and\n\n1549\n01:12:55,270 --> 01:12:56,290\nyou can cause it to bind.\n\n1550\n01:12:56,290 --> 01:12:58,440\nLet's see if I can find\nthat setting real quick.\n\n1551\n01:12:58,440 --> 01:13:00,310\nIf I go into my student laptops and\n\n1552\n01:13:00,310 --> 01:13:04,710\nI go into my settings again it's\nway down here at the bottom.\n\n1553\n01:13:04,710 --> 01:13:07,800\nIOS devices don't support\nbinding to an open directory, so\n\n1554\n01:13:07,800 --> 01:13:12,320\nit's down here in the OS 10 settings...\n\n1555\n01:13:12,320 --> 01:13:13,530\nHere, directory.\n\n1556\n01:13:13,530 --> 01:13:15,710\nSo right here under directory,\nI can come in and I can say, hey,\n\n1557\n01:13:15,710 --> 01:13:19,900\nif you're not already bound, let's go\nahead and get you bound to a server, and\n\n1558\n01:13:19,900 --> 01:13:25,800\nwe'll point that to\nOSX-server1.lab.itpro.tv.\n\n1559\n01:13:25,800 --> 01:13:28,900\nAnd we can specify that username and\n\n1560\n01:13:28,900 --> 01:13:31,610\npassword to get connected if I\ndon't have automatic, I mean,\n\n1561\n01:13:31,610 --> 01:13:35,470\nanonymous binding turned on and\na client ID, if this is a specific client.\n\n1562\n01:13:35,470 --> 01:13:37,880\nIf I leave these out,\nit'll do it anonymously, and\n\n1563\n01:13:37,880 --> 01:13:40,170\nit'll use whatever name\nthe client already has.\n\n1564\n01:13:40,170 --> 01:13:42,960\nSo this would be an example of\na setting we'd push through a machine\n\n1565\n01:13:42,960 --> 01:13:46,760\nthat wasn't already bound to our\nopen directory in this work.\n\n1566\n01:13:46,760 --> 01:13:47,340\nAll right.\n\n1567\n01:13:47,340 --> 01:13:48,690\nNow the other thing,\n\n1568\n01:13:48,690 --> 01:13:52,200\nthe other part of that question was\nI was talking about software updates.\n\n1569\n01:13:52,200 --> 01:13:55,896\nYou do have the caching server also and\nthe caching server is different because\n\n1570\n01:13:55,896 --> 01:13:58,696\nthe caching server,\nyou don't need a profile for that,.\n\n1571\n01:13:58,696 --> 01:14:01,033\nThe caching server works automatically.\n\n1572\n01:14:01,033 --> 01:14:02,710\nWe haven't covered that yet.\n\n1573\n01:14:02,710 --> 01:14:05,430\nWe're going to cover the caching\nserver in another episode.\n\n1574\n01:14:05,430 --> 01:14:08,790\nThe only negative about the caching\nserver is that you can't pick and\n\n1575\n01:14:08,790 --> 01:14:10,250\nchoose which updates apply.\n\n1576\n01:14:10,250 --> 01:14:12,340\nThey either all apply or you turn it off.\n\n1577\n01:14:12,340 --> 01:14:12,850\nRight?\n\n1578\n01:14:12,850 --> 01:14:16,470\nSo, if you need that granular control of\nwhich updates are gonna apply in your\n\n1579\n01:14:16,470 --> 01:14:19,990\nenvironment, you've gotta really\ndo the software update system.\n\n1580\n01:14:19,990 --> 01:14:22,860\nAnd can push a profile out\nthat has those settings.\n\n1581\n01:14:22,860 --> 01:14:24,130\nAnd now systems will use you for\n\n1582\n01:14:24,130 --> 01:14:26,310\nupdates, even if they're not\nbound to your open directory.\n\n1583\n01:14:26,310 --> 01:14:28,520\nSo a couple of different ways to go there.\n\n1584\n01:14:28,520 --> 01:14:31,470\nI probably just did a long\nanswer to a short question but\n\n1585\n01:14:31,470 --> 01:14:34,165\nI just want to make sure I\ncovered all the bases there.\n\n1586\n01:14:34,165 --> 01:14:36,100\n[LAUGH] All right.\n\n1587\n01:14:36,100 --> 01:14:38,170\nOnce that's done, I'm in place.\n\n1588\n01:14:38,170 --> 01:14:39,200\nIt's up and it's going.\n\n1589\n01:14:39,200 --> 01:14:41,230\nMy student laptop, I'll get that changed.\n\n1590\n01:14:41,230 --> 01:14:45,850\nAnd any new laptops that I add, when I add\na new laptop, all I have to do is enroll\n\n1591\n01:14:45,850 --> 01:14:49,760\nit in the profile manager and\nadd them to the student laptop's group.\n\n1592\n01:14:49,760 --> 01:14:52,400\nAnd once it's added,\nthey'll get the settings too.\n\n1593\n01:14:52,400 --> 01:14:54,850\nSo I get my consistent configuration.\n\n1594\n01:14:54,850 --> 01:14:58,710\nIf a student guesses the local admin\npassword and overrides some settings,\n\n1595\n01:14:58,710 --> 01:15:02,400\nwell it'll just reapply the settings again\nafterwards and it puts them right back.\n\n1596\n01:15:02,400 --> 01:15:04,800\nSo now I maintain my good,\nconsistent configuration.\n\n1597\n01:15:04,800 --> 01:15:08,460\nAnd if they try and remove it It'll\nprompt them for that removal password and\n\n1598\n01:15:08,460 --> 01:15:11,200\nI'll have to put that in,\notherwise it's not going to work.\n\n1599\n01:15:12,440 --> 01:15:14,360\nAll right.\nSo that's basically it.\n\n1600\n01:15:14,360 --> 01:15:17,400\nThe only other things that we really\nhave in here, on the profile manager,\n\n1601\n01:15:17,400 --> 01:15:19,270\nyou've got your active tasks.\n\n1602\n01:15:19,270 --> 01:15:21,990\nWhere you can go through and\nsee anything the server's doing right now.\n\n1603\n01:15:21,990 --> 01:15:25,980\nMine's just sitting here and completed\ntasks, you'll see here where I've got\n\n1604\n01:15:25,980 --> 01:15:29,650\nenrolling a device and\npushing my student laptops setting.\n\n1605\n01:15:29,650 --> 01:15:33,830\nIf something went wrong with those, they\nwould be stuck here under active tasks and\n\n1606\n01:15:33,830 --> 01:15:35,700\nI could see the error screens.\n\n1607\n01:15:35,700 --> 01:15:39,800\nBut under completed tasks I can see\nwhere I enrolled that OSX-Client1,\n\n1608\n01:15:39,800 --> 01:15:44,920\nand other Push Settings,\nI push the settings for OSX-Client1.\n\n1609\n01:15:44,920 --> 01:15:49,800\nI can see it was last updated 11:14 AM,\nwhich was about eight minutes ago and\n\n1610\n01:15:49,800 --> 01:15:52,340\nso it's pushed that update out and\nit's got it.\n\n1611\n01:15:52,340 --> 01:15:54,770\nNotice the target is\nthat individual machine.\n\n1612\n01:15:54,770 --> 01:15:57,990\nIf I had a thousand machines,\nthey would all show up here and\n\n1613\n01:15:57,990 --> 01:16:02,520\nthat's a great way to track things to\nsee who hasn't received the update.\n\n1614\n01:16:02,520 --> 01:16:05,090\nIf I go under active tasks,\nI might see 20 or\n\n1615\n01:16:05,090 --> 01:16:07,280\n30 laptops that still\nhaven't received the update.\n\n1616\n01:16:07,280 --> 01:16:10,790\nAnd I say, well, all right,\nthey're traveling, the laptop's not on.\n\n1617\n01:16:10,790 --> 01:16:13,270\nBut if enough time goes by I might\nneed to call that person and say,\n\n1618\n01:16:13,270 --> 01:16:14,170\nhey what's the deal?\n\n1619\n01:16:14,170 --> 01:16:15,300\nYou not on the network?\n\n1620\n01:16:15,300 --> 01:16:16,750\nHave you lost your laptop?\n\n1621\n01:16:16,750 --> 01:16:20,020\nAnd you'd be surprised how many times\npeople say, well yeah I lost it at\n\n1622\n01:16:20,020 --> 01:16:22,960\nthe airport two weeks ago and I was just\nembarrassed and didn't want to report it.\n\n1623\n01:16:22,960 --> 01:16:23,890\nWell now you know.\n\n1624\n01:16:23,890 --> 01:16:26,190\nYou can see it right here they\nhaven't received they're update.\n\n1625\n01:16:27,580 --> 01:16:30,770\nPretty cool software definitely\na fun one to mess around with,\n\n1626\n01:16:30,770 --> 01:16:33,210\nbut a great one to use if\nyou're in an enterprise or\n\n1627\n01:16:33,210 --> 01:16:36,590\na school environment where you\nhave a lot of systems to manage.\n\n1628\n01:16:36,590 --> 01:16:39,690\nNow we can do a ton on profile manager,\nthere's a lot more.\n\n1629\n01:16:39,690 --> 01:16:42,870\nOn the ACTC exam they just want\nyou to understand the basics\n\n1630\n01:16:42,870 --> 01:16:46,440\nbecause how you implement it is really\ngoing to vary based on your environment.\n\n1631\n01:16:46,440 --> 01:16:49,940\nSo you the settings themselves\nare going to be up to you, but\n\n1632\n01:16:49,940 --> 01:16:52,490\nthe basic configuration, pretty easy.\n\n1633\n01:16:52,490 --> 01:16:54,820\nLet's recap what we did in this episode,\n\n1634\n01:16:54,820 --> 01:16:59,150\nwe made sure we had a DNS infrastructure\nand an open directory setup.\n\n1635\n01:16:59,150 --> 01:17:02,190\nThen we installed the Profile Manager, it\nwas already installed with the server app,\n\n1636\n01:17:02,190 --> 01:17:04,100\nwe really just ran through\nthe configuration.\n\n1637\n01:17:04,100 --> 01:17:05,680\nWe picked the certificate and\n\n1638\n01:17:05,680 --> 01:17:09,240\nwe provided our Apple ID to be\nable to do push notification.\n\n1639\n01:17:09,240 --> 01:17:12,920\nThen we enabled the Profile Manager.\n\n1640\n01:17:12,920 --> 01:17:16,310\nOnce that was done, we went to\nour clients and we enrolled them.\n\n1641\n01:17:16,310 --> 01:17:19,770\nAnd I did the web-based enrolled,\nwe could've done it via USB key and\n\n1642\n01:17:19,770 --> 01:17:21,010\nsent that along.\n\n1643\n01:17:21,010 --> 01:17:23,140\nThose are easy enough to do.\n\n1644\n01:17:23,140 --> 01:17:26,430\nIn fact, let me show you guys one\nmore thing before I wrap this one up.\n\n1645\n01:17:26,430 --> 01:17:28,940\nWhen we enrolled,\nI enrolled using the web page.\n\n1646\n01:17:28,940 --> 01:17:30,908\nWhat if you didn't want to\nenroll the other webpage?\n\n1647\n01:17:30,908 --> 01:17:32,830\nIf you wanted to enroll via USB key.\n\n1648\n01:17:32,830 --> 01:17:35,868\nWell right here in the Profile Manager\nscreen at the top right,\n\n1649\n01:17:35,868 --> 01:17:37,340\nsee how it's got my name.\n\n1650\n01:17:37,340 --> 01:17:41,014\nThat's me logging in and if I drop\nthat down I can choose to log out but\n\n1651\n01:17:41,014 --> 01:17:43,650\nit's also got download trust profile.\n\n1652\n01:17:43,650 --> 01:17:46,530\nThat's where we can go to\ndownload that enrollment profile\n\n1653\n01:17:46,530 --> 01:17:47,950\nwhere it's got our certificates in it.\n\n1654\n01:17:47,950 --> 01:17:49,930\nSo they'll trust our server.\n\n1655\n01:17:49,930 --> 01:17:52,750\nIf that other machine is not\nbound to our open directory,\n\n1656\n01:17:52,750 --> 01:17:56,150\nthen they're not gonna\ntrust our certificates.\n\n1657\n01:17:56,150 --> 01:17:58,160\nThey not gonna trust our profiles.\n\n1658\n01:17:58,160 --> 01:18:02,140\nSo we can download that trust profile and\nhave that offline too.\n\n1659\n01:18:02,140 --> 01:18:04,520\nSo we download it, send it over and\nuse that for other machines,\n\n1660\n01:18:04,520 --> 01:18:05,450\nmake them trust us.\n\n1661\n01:18:05,450 --> 01:18:08,790\nSo that's another little option kind of\ntucked away under that menu up there.\n\n1662\n01:18:08,790 --> 01:18:12,056\nI forget about them sometimes,\nall right, but\n\n1663\n01:18:12,056 --> 01:18:15,890\nnow that it's done, we're in place,\nand off we go, right?\n\n1664\n01:18:15,890 --> 01:18:18,890\nSo that's about it for\nProfile Manager, pretty cool stuff.\n\n1665\n01:18:18,890 --> 01:18:21,230\nLet me remind you guys,\nif you have any questions on it,\n\n1666\n01:18:21,230 --> 01:18:24,530\nbecause there's a lot in there,\ndefinitely feel free to ask.\n\n1667\n01:18:24,530 --> 01:18:27,680\nLive, during the show,\nyou can go to itpro.tv/live and\n\n1668\n01:18:27,680 --> 01:18:29,860\nyou'll see the chat room\nright beneath the video.\n\n1669\n01:18:29,860 --> 01:18:30,900\nPost your questions there.\n\n1670\n01:18:30,900 --> 01:18:32,840\nWe monitor and answer during the show.\n\n1671\n01:18:32,840 --> 01:18:36,580\nIf you have questions after the show,\nuse our forums.\n\n1672\n01:18:36,580 --> 01:18:39,000\nAt the top of every page\non the ITProTV website,\n\n1673\n01:18:39,000 --> 01:18:41,090\nyou'll see a link that says Q and A.\n\n1674\n01:18:41,090 --> 01:18:42,755\nClick on it,\nit'll take you to the to the forums.\n\n1675\n01:18:42,755 --> 01:18:44,265\nYou can post your questions there.\n\n1676\n01:18:44,265 --> 01:18:46,365\nWe monitor and answer after the show.\n\n1677\n01:18:46,365 --> 01:18:48,885\nOne way or another, we wanna make\nsure your questions get answered so\n\n1678\n01:18:48,885 --> 01:18:50,095\nyou have the information you need.\n\n1679\n01:18:50,095 --> 01:18:52,047\nAll right, well that's it for me today.\n\n1680\n01:18:52,047 --> 01:18:56,285\nSigning off for ITProTV, I'm Don Pezet,\nand I'll see you next time.\n\n1681\n01:18:56,285 --> 01:19:06,285\n[MUSIC]\n\n",
          "vimeoId": "122547470"
        }
      ],
      "title": "Managing Devices with Configuration Profiles"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Don demonstrates using the Server App to create share points inside of MacOS. He discusses the various file sharing protocols, and examines the various permissions provided by POSIX and ACL based permission schemes.",
          "length": "4549",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-4-1-sharing_files-031915-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-4-1-sharing_files-031915-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-4-1-sharing_files-031915-1-sm.jpg",
          "title": "Sharing Files",
          "transcript": "1\n00:00:00,000 --> 00:00:10,000\n[MUSIC]\n\n2\n00:00:33,190 --> 00:00:36,624\nAll right, good morning,\ngood afternoon, and good evening, and\n\n3\n00:00:36,624 --> 00:00:39,636\nwelcome back to another episode\nof ITProTV, I'm your host\n\n4\n00:00:39,636 --> 00:00:44,610\nDon Pezet back again with another episode\nof Apple Certified Technical Coordinator.\n\n5\n00:00:44,610 --> 00:00:50,220\nIn today's episode we're gonna be taking\na look at sharing files inside of Mac OS.\n\n6\n00:00:50,220 --> 00:00:52,910\nAnd this is one of the areas\nwhere the exam objectives\n\n7\n00:00:52,910 --> 00:00:55,460\ngive us a pretty broad topic here,\nsharing files.\n\n8\n00:00:55,460 --> 00:00:58,500\nAnd you might be thinking to yourself,\nwait a minute, Don.\n\n9\n00:00:58,500 --> 00:01:01,090\nI watched your Apple Certified Support\nprofessional shows,\n\n10\n00:01:01,090 --> 00:01:04,640\nI saw all the file sharing stuff in there,\nwe saw how to do permissions.\n\n11\n00:01:04,640 --> 00:01:07,150\nWhy is Apple hitting us up for this again?\n\n12\n00:01:07,150 --> 00:01:11,990\nAnd the reason is, not because they want\nus to double up on the knowledge, but\n\n13\n00:01:11,990 --> 00:01:15,570\nbecause there's a whole separate\nway of managing file shares and\n\n14\n00:01:15,570 --> 00:01:20,100\npermissions from inside of the server app,\nand that's what's different.\n\n15\n00:01:20,100 --> 00:01:22,070\nSo if you've already\nwatched our ACSP training,\n\n16\n00:01:22,070 --> 00:01:25,670\nyou've already seen using the Finder\nto create folders, to share them out,\n\n17\n00:01:25,670 --> 00:01:27,510\nto set permissions and all of that.\n\n18\n00:01:27,510 --> 00:01:29,540\nThat's all still true on a server.\n\n19\n00:01:29,540 --> 00:01:34,250\nBut in the server app, we have a few\nextra resources available to us that\n\n20\n00:01:34,250 --> 00:01:36,990\nare pretty powerful and\nreally useful for enterprises.\n\n21\n00:01:36,990 --> 00:01:41,620\nNow, for a small environment,\na home office, that type thing,\n\n22\n00:01:41,620 --> 00:01:45,100\nyou're not really gonna need a lot of\nthis stuff, but for a business you will.\n\n23\n00:01:45,100 --> 00:01:49,240\nSo that's why it falls under ACTC, cause\nthis is definitely tied to the server app.\n\n24\n00:01:49,240 --> 00:01:51,440\nAnd that's what we're\ngonna take a look at.\n\n25\n00:01:51,440 --> 00:01:53,190\nNow, inside of the Server App,\n\n26\n00:01:53,190 --> 00:01:55,320\nwe've got a lot of of different\nservices that are available.\n\n27\n00:01:55,320 --> 00:01:56,770\nLet's take a look at what we've got here.\n\n28\n00:01:56,770 --> 00:01:59,070\nSo, I'm inside of my\nServer App on this machine.\n\n29\n00:01:59,070 --> 00:02:01,500\nAnd this is a pretty basic configuration.\n\n30\n00:02:01,500 --> 00:02:05,040\nI have configured the Open Directory,\nbecause when you share files,\n\n31\n00:02:05,040 --> 00:02:06,280\nyou need to authenticate, right?\n\n32\n00:02:06,280 --> 00:02:09,350\nYou need to have some kind of user account\nto be able to access those files and\n\n33\n00:02:09,350 --> 00:02:11,610\nfolders to be able to\ngive it the information.\n\n34\n00:02:11,610 --> 00:02:12,960\nSo I've got an open directory set up, but\n\n35\n00:02:12,960 --> 00:02:15,730\notherwise I haven't added\nany other services.\n\n36\n00:02:15,730 --> 00:02:19,610\nAnd you'll notice the file\nsharing service right here.\n\n37\n00:02:19,610 --> 00:02:23,040\nWell, even with the file\nsharing service turned off,\n\n38\n00:02:23,040 --> 00:02:25,730\nyour Mac is perfectly capable\nof sharing out folders.\n\n39\n00:02:25,730 --> 00:02:29,010\nIn fact, it does it by default\nwhen you set up your Mac.\n\n40\n00:02:29,010 --> 00:02:33,840\nThere's a folder called the Public folder\nthat's shared out between your machine and\n\n41\n00:02:33,840 --> 00:02:34,740\nthe network.\n\n42\n00:02:34,740 --> 00:02:38,060\nAnd other people on the network,\nassuming they have proper credentials,\n\n43\n00:02:38,060 --> 00:02:40,410\ncan access that folder.\n\n44\n00:02:40,410 --> 00:02:43,230\nWell, let's talk about those\ncredentials for a moment.\n\n45\n00:02:43,230 --> 00:02:47,160\nIn a normal network,\nthat doesn't have an open directory,\n\n46\n00:02:47,160 --> 00:02:50,550\nthose credentials are stored on each and\nevery machine individually.\n\n47\n00:02:50,550 --> 00:02:51,840\nIt's called a work group.\n\n48\n00:02:51,840 --> 00:02:55,320\nSo if somebody wants to browse across\nthe network and access my files and\n\n49\n00:02:55,320 --> 00:02:59,430\nfolders, they would have to have\na user account on my own machine.\n\n50\n00:02:59,430 --> 00:03:01,550\nBut, with an open directory,\nwe kinda, get around that.\n\n51\n00:03:01,550 --> 00:03:04,680\nWith an open directory, those user\naccounts can be stored in that centralized\n\n52\n00:03:04,680 --> 00:03:07,820\ndatabase and we can have groups\nthat we assign permissions to.\n\n53\n00:03:07,820 --> 00:03:09,790\nTo again, make it easier for\npeople to access this.\n\n54\n00:03:09,790 --> 00:03:12,670\nWe get a lot of power by having\nan open directory in place, so\n\n55\n00:03:12,670 --> 00:03:14,620\nthat's how we're normally\ngonna see this deployed.\n\n56\n00:03:14,620 --> 00:03:18,090\nApple's built in several\ndifferent protocols into Mac OS.\n\n57\n00:03:18,090 --> 00:03:20,520\nWhen we go to share a folder out,\nwe have to make a decision.\n\n58\n00:03:20,520 --> 00:03:22,410\nWhich ones to we want to support.\n\n59\n00:03:22,410 --> 00:03:23,970\nThey each have their pros and cons.\n\n60\n00:03:23,970 --> 00:03:25,480\nSome are very popular.\n\n61\n00:03:25,480 --> 00:03:27,770\nSome are very rarely used.\n\n62\n00:03:27,770 --> 00:03:28,620\nYou might need some.\n\n63\n00:03:28,620 --> 00:03:29,710\nYou might not need others.\n\n64\n00:03:29,710 --> 00:03:30,810\nYou can actually turn them all on.\n\n65\n00:03:30,810 --> 00:03:33,000\nIf you wanna go crazy,\nyou can activate them all.\n\n66\n00:03:33,000 --> 00:03:35,450\nNot normally a good idea,\nbut you can do that.\n\n67\n00:03:35,450 --> 00:03:37,930\nWell let's run through\nthe protocols that we're gonna see.\n\n68\n00:03:37,930 --> 00:03:40,460\nAnd I wanna start with the three\nthat you're gonna see on the exam.\n\n69\n00:03:40,460 --> 00:03:41,980\nThere's really a good five or\n\n70\n00:03:41,980 --> 00:03:45,430\nsix of them, but there's only three\nthat truly make it on the exam.\n\n71\n00:03:45,430 --> 00:03:47,730\nThe first one is AFP.\n\n72\n00:03:47,730 --> 00:03:50,310\nAFP is the Apple File protocol.\n\n73\n00:03:50,310 --> 00:03:53,210\nIt was developed by Apple for\nuse between Macs.\n\n74\n00:03:53,210 --> 00:03:57,380\nWhen you had two Mac Pros or whatever and\nyou wanted to exchange files between it,\n\n75\n00:03:57,380 --> 00:04:00,280\nthey needed some kind of protocol\nto handle that communication.\n\n76\n00:04:00,280 --> 00:04:02,090\nAnd for that they created AFP.\n\n77\n00:04:02,090 --> 00:04:04,740\nIt's very reliable protocol,\nvery efficient.\n\n78\n00:04:04,740 --> 00:04:08,580\nIt builds on top of the bonjour protocol\nwhich let's you do network discovery.\n\n79\n00:04:08,580 --> 00:04:11,650\nThat's how we can find the folders\nthat are out there on the network.\n\n80\n00:04:11,650 --> 00:04:13,830\nIf you have all Macs, AFP worked great.\n\n81\n00:04:13,830 --> 00:04:14,728\nThat's the one you want.\n\n82\n00:04:14,728 --> 00:04:19,330\nBut, AFP only works on Macs.\n\n83\n00:04:19,330 --> 00:04:23,210\nMicrosoft doesn't have an AFP client for\nconnecting to Apple shares.\n\n84\n00:04:23,210 --> 00:04:25,580\nSo if you're trying to blend Microsoft and\n\n85\n00:04:25,580 --> 00:04:28,510\nApple products together,\nit doesn't work so well.\n\n86\n00:04:28,510 --> 00:04:32,500\nIf you've got all MacBooks, MacPros,\niPads, iPhones, AFP is great.\n\n87\n00:04:32,500 --> 00:04:36,380\nIf you start bringing in other\noperating systems like Linux and\n\n88\n00:04:36,380 --> 00:04:37,900\nWindows, it's not so great.\n\n89\n00:04:39,230 --> 00:04:43,530\nThe second protocol is kind\nof the other way around.\n\n90\n00:04:43,530 --> 00:04:46,410\nInstead of Apple having created it,\nMicrosoft created it.\n\n91\n00:04:46,410 --> 00:04:51,410\nIn the Microsoft world, we have something\ncalled SMB, Server Message Block.\n\n92\n00:04:51,410 --> 00:04:53,550\nSMB is a very, very old protocol.\n\n93\n00:04:53,550 --> 00:04:56,510\nIt was actually developed by Intel and\nMicrosoft for\n\n94\n00:04:56,510 --> 00:05:00,190\nexchanging files between Windows and\nDOS machines.\n\n95\n00:05:00,190 --> 00:05:03,630\nIt's been around a long time, and\nit basically gives that quick and\n\n96\n00:05:03,630 --> 00:05:07,130\neasy communications just like AFP does,\nbut for the Windows world.\n\n97\n00:05:08,330 --> 00:05:13,100\nNow, SMB is not open source,\nnot everybody can just go and\n\n98\n00:05:13,100 --> 00:05:17,460\nuse SMB if they want, but Microsoft has\npublished a lot of the specifications for\n\n99\n00:05:17,460 --> 00:05:23,060\nit that are out there, and so most\nmodern operating systems do support SMB.\n\n100\n00:05:23,060 --> 00:05:26,190\nWindows does it,\nLinux does it, and Mac does it.\n\n101\n00:05:26,190 --> 00:05:30,230\nSo if you wanna create a file share\nthat's available, that's easy for\n\n102\n00:05:30,230 --> 00:05:34,910\nevery operating system to get to,\nSMB is normally the one you want.\n\n103\n00:05:34,910 --> 00:05:38,070\nSo even though you might\nbe a mostly Mac shop, you\n\n104\n00:05:38,070 --> 00:05:42,750\nmight still choose to go with SMB, because\nof some of the extra support that you get.\n\n105\n00:05:42,750 --> 00:05:44,470\nFor other operating systems.\n\n106\n00:05:44,470 --> 00:05:48,350\nNow a couple little caveats about\nSMB that we should remember.\n\n107\n00:05:48,350 --> 00:05:51,735\nMicrosoft's office version of\nServer Message Blockage is SMB version\n\n108\n00:05:51,735 --> 00:05:57,020\n3.0 which they introduced with\nWindows Server 2012 and Windows 8.\n\n109\n00:05:57,020 --> 00:05:58,970\nThat's SMB 3.0.\n\n110\n00:05:58,970 --> 00:06:02,660\nApple's implementation is SMB 2.0.\n\n111\n00:06:02,660 --> 00:06:05,610\nAnd so there's certain advanced\nfeatures that Microsoft likes to brag\n\n112\n00:06:05,610 --> 00:06:08,170\nabout with SMB that aren't\nsupported by Apple.\n\n113\n00:06:08,170 --> 00:06:12,040\nBut as far as basic connectivity,\ngetting connected to a file, editing it,\n\n114\n00:06:12,040 --> 00:06:13,700\nusing permissions, that kind of stuff.\n\n115\n00:06:13,700 --> 00:06:15,490\nWorks just fine in SMB 2.0.\n\n116\n00:06:15,490 --> 00:06:19,260\nIn fact Windows 7 and earlier,\nthey all use SMB 2.0 anyway, so\n\n117\n00:06:19,260 --> 00:06:23,290\nmost Microsoft systems\nstill use SMB 2.0 also.\n\n118\n00:06:23,290 --> 00:06:27,610\nOn the Linux world, they build an SMB\nthrough an extra software package called\n\n119\n00:06:27,610 --> 00:06:31,470\nSamba, and Samba functions as SMB 2.0.\n\n120\n00:06:31,470 --> 00:06:36,150\nSo just because Apple's using SMB 2.0 and\nnot 3.0., it's not a big deal.\n\n121\n00:06:36,150 --> 00:06:38,940\nThere's just a few advanced features we\ndon't get which are features most people\n\n122\n00:06:38,940 --> 00:06:42,310\ndon't make use of anyway,\nthings like Multipath IO and\n\n123\n00:06:42,310 --> 00:06:45,260\nstuff like that,\nthat we don't normally care about.\n\n124\n00:06:45,260 --> 00:06:48,340\nAll right, so SMB,\nit's fully supported on the Apple devices.\n\n125\n00:06:48,340 --> 00:06:51,830\nWe can use that,\nwhy wouldn't I want to use it?\n\n126\n00:06:51,830 --> 00:06:55,210\nWell, there's one big reason why\nwe might not want to use SMB and\n\n127\n00:06:55,210 --> 00:06:58,580\nuse AFP instead, and that's Time Machine.\n\n128\n00:06:58,580 --> 00:07:03,570\nWith Time Machine, your Mac can keep\ntrack of multiple revisions of a file.\n\n129\n00:07:03,570 --> 00:07:06,940\nAs you enter the file,\nvarious copies of it are maintained.\n\n130\n00:07:07,950 --> 00:07:10,270\nWell, AFP supports that.\n\n131\n00:07:10,270 --> 00:07:14,700\nAFP can interact with the Mac OS\nextended journal file system and\n\n132\n00:07:14,700 --> 00:07:16,900\nkeep track of those multiple versions.\n\n133\n00:07:16,900 --> 00:07:18,110\nSMB can't.\n\n134\n00:07:18,110 --> 00:07:19,860\nMicrosoft doesn't support time machine.\n\n135\n00:07:19,860 --> 00:07:22,730\nThey don't know how that works,\nor maybe they don't care.\n\n136\n00:07:22,730 --> 00:07:24,720\nI don't know, but they don't support it.\n\n137\n00:07:24,720 --> 00:07:29,320\nThat means that if we use SMB shares,\nwe won't be able to do file revisions.\n\n138\n00:07:29,320 --> 00:07:33,830\nYou won't be able to the auto save\nfeature, and the feature where we can\n\n139\n00:07:33,830 --> 00:07:37,770\npull up multiple revisions of that text,\nand go back several versions if we want.\n\n140\n00:07:37,770 --> 00:07:39,310\nYou lose that.\n\n141\n00:07:39,310 --> 00:07:41,450\nSo you really have to make a choice.\n\n142\n00:07:41,450 --> 00:07:44,290\nIf you want the best features,\nyou go with AFP.\n\n143\n00:07:44,290 --> 00:07:48,160\nIf you want the best compatibility,\nyou go with SMB.\n\n144\n00:07:48,160 --> 00:07:49,850\nBut that compatibility comes at a price.\n\n145\n00:07:49,850 --> 00:07:51,430\nWe give up some of those advance features.\n\n146\n00:07:53,100 --> 00:07:55,167\nFortunately, we can support both.\n\n147\n00:07:55,167 --> 00:07:59,510\nYou can do AFP and SMB at the same time,\non the same folder if you want.\n\n148\n00:07:59,510 --> 00:08:03,070\nAnd that way your Macs can connect\nusing AFP and get file versioning.\n\n149\n00:08:03,070 --> 00:08:05,918\nAnd then your Windows machines can connect\nusing SMB and not get file versioning.\n\n150\n00:08:05,918 --> 00:08:06,500\nBut who cares?\n\n151\n00:08:06,500 --> 00:08:08,469\nThat's fine,\nat least they get that connectivity, and\n\n152\n00:08:08,469 --> 00:08:09,940\nthey're able to function.\n\n153\n00:08:09,940 --> 00:08:13,310\nSo, you can enable more than one\nprotocol to get that flexibility.\n\n154\n00:08:14,440 --> 00:08:17,660\nWhen we create a share in the Server app,\nwhich we'll do here in a little bit,\n\n155\n00:08:17,660 --> 00:08:23,070\nwhen we do that, it actually\nturns on AFP and SMB by default.\n\n156\n00:08:23,070 --> 00:08:25,020\nIt turns on both of them for that folder.\n\n157\n00:08:25,020 --> 00:08:27,660\nSo, that's kind of what\nApple expects you to do.\n\n158\n00:08:27,660 --> 00:08:31,980\nUse AFP for your Macs, SMB for Windows,\nand run them both at the same time.\n\n159\n00:08:31,980 --> 00:08:34,910\nNow that can cause some little\nproblems every now and then.\n\n160\n00:08:34,910 --> 00:08:38,840\nOne thing to remember is,\njust because you're running two protocols\n\n161\n00:08:38,840 --> 00:08:41,690\ndoesn't change the fact that\nit's still a shared folder.\n\n162\n00:08:41,690 --> 00:08:45,430\nAnd you have all the problems of\npeople coming into a shared folder and\n\n163\n00:08:45,430 --> 00:08:46,520\naccessing the same data.\n\n164\n00:08:46,520 --> 00:08:51,610\nFor example, if I've got a file that's\nopen and I'm editing that file, and\n\n165\n00:08:51,610 --> 00:08:55,260\nyou come along and connect to that\nsame file and start to edit it.\n\n166\n00:08:55,260 --> 00:08:56,740\nWell, what happens?\n\n167\n00:08:56,740 --> 00:09:00,470\nWe're both editing the same file,\nwe're now conflicting.\n\n168\n00:09:00,470 --> 00:09:02,330\nIf we're both doing it in SMB, or\n\n169\n00:09:02,330 --> 00:09:05,730\nif we're both doing it in AFP,\nthe Mac will actually sort that out.\n\n170\n00:09:05,730 --> 00:09:07,270\nIt'll tell you the file's locked, or\n\n171\n00:09:07,270 --> 00:09:10,480\nit will make it where the last\nperson who saves wins.\n\n172\n00:09:10,480 --> 00:09:11,970\nBut if I'm running AFP and\n\n173\n00:09:11,970 --> 00:09:15,890\nyou're running SMB,\nnow it has a harder time sorting that out.\n\n174\n00:09:15,890 --> 00:09:18,980\nAnd so you can end up with some problems\nthere if you have multiple people editing\n\n175\n00:09:18,980 --> 00:09:20,140\nthe same data.\n\n176\n00:09:20,140 --> 00:09:21,648\nJust be aware of that.\n\n177\n00:09:21,648 --> 00:09:24,810\nAFP and SMB are enabled by default,\nbut you might want to cut it down to\n\n178\n00:09:24,810 --> 00:09:29,040\none protocol to try and alleviate some\nof those issues like file locking.\n\n179\n00:09:29,040 --> 00:09:31,620\nCase sensitivity is another one.\n\n180\n00:09:31,620 --> 00:09:36,380\nAFP, the Apple File Protocol,\nif it's running for a shared folder and\n\n181\n00:09:36,380 --> 00:09:41,530\nthat shared folder is on a MacOS Extended\ncase sensitive journal file system, right?\n\n182\n00:09:41,530 --> 00:09:46,550\nRemember when we format a drive,\nwe can choose to make it case sensitive.\n\n183\n00:09:46,550 --> 00:09:49,060\nIf we do that, AFP recognizes it, right?\n\n184\n00:09:49,060 --> 00:09:52,790\nBut SMB doesn't, because in the Microsoft\nworld, things aren't case sensitive.\n\n185\n00:09:52,790 --> 00:09:54,600\nAnd so they don't have that support.\n\n186\n00:09:54,600 --> 00:09:57,940\nAnd now we can end up with some problems\nwhere Microsoft might see two files\n\n187\n00:09:57,940 --> 00:10:01,510\nthat are separate files, but\nthey view it as the same.\n\n188\n00:10:01,510 --> 00:10:04,530\nAll right, that's a risk that\nwe have when we deal with SMB.\n\n189\n00:10:04,530 --> 00:10:05,960\nAll right,\n\n190\n00:10:05,960 --> 00:10:09,410\nnow that's two of the three protocols\nthat we're gonna see on the exam.\n\n191\n00:10:09,410 --> 00:10:11,960\nThe third one is WebDAV.\n\n192\n00:10:11,960 --> 00:10:15,520\nAnd WebDAV is the least\nused of these three.\n\n193\n00:10:15,520 --> 00:10:19,820\nIn fact, it's turned off by default when\nwe create a share point in the Server app.\n\n194\n00:10:19,820 --> 00:10:24,800\nWebDAV stands for\nWeb Distributed Authoring and Versioning.\n\n195\n00:10:24,800 --> 00:10:29,680\nIt was designed to be an open source,\ncompletely standard method for\n\n196\n00:10:29,680 --> 00:10:32,580\naccessing files and\nfolders on a remote system.\n\n197\n00:10:32,580 --> 00:10:36,740\nIt originated back with early content\nmanagement systems, things like\n\n198\n00:10:36,740 --> 00:10:41,535\nMicrosoft SharePoint used it, early\nversions of WordPress and Drupal used it.\n\n199\n00:10:41,535 --> 00:10:44,845\nThere's a lot of web-based calendars\nthat use it so you can go in and\n\n200\n00:10:44,845 --> 00:10:46,575\ncreate calendar items, that kind of thing.\n\n201\n00:10:46,575 --> 00:10:49,897\nSo, this is part of WebDAV.\n\n202\n00:10:49,897 --> 00:10:53,125\nThe nice thing about WebDAV,\nit's open standard, right?\n\n203\n00:10:53,125 --> 00:10:58,066\nSo everybody supports WebDAV, or\neverybody can support WebDAV.\n\n204\n00:10:58,066 --> 00:10:59,232\nIt's not terribly popular so\n\n205\n00:10:59,232 --> 00:11:03,065\nthere's a lot of operating systems out\nthere that choose not to support it.\n\n206\n00:11:03,065 --> 00:11:04,640\nMac OS does support it.\n\n207\n00:11:04,640 --> 00:11:07,550\nAnd a lot of the software that we\nrun on Mac OS supports it also.\n\n208\n00:11:08,600 --> 00:11:13,150\nOther operating systems like Microsoft\nWindows don't support it natively, but you\n\n209\n00:11:13,150 --> 00:11:16,540\ncan run software on them that does support\nit and that provides you the connectivity.\n\n210\n00:11:16,540 --> 00:11:18,320\nLinux has the support native.\n\n211\n00:11:18,320 --> 00:11:20,420\nSo, different OSs handle\nit different ways.\n\n212\n00:11:21,500 --> 00:11:25,565\nNow, when we enable WebDAV, we have to\nmake sure that whatever clients we're\n\n213\n00:11:25,565 --> 00:11:28,200\nusing to connect support WebDAV also.\n\n214\n00:11:28,200 --> 00:11:32,520\nAnd just like with SMB, we get more\ncompatibility out of WebDAV because it's\n\n215\n00:11:32,520 --> 00:11:34,690\nopen, and we get less features.\n\n216\n00:11:34,690 --> 00:11:37,230\nIt's very, very feature-sparse.\n\n217\n00:11:37,230 --> 00:11:38,630\nWebDAV is not very flexible,\n\n218\n00:11:38,630 --> 00:11:40,800\nand that's part of the reason\nwhy it's not very popular.\n\n219\n00:11:41,840 --> 00:11:43,092\nBut it is another option\nthat we could use.\n\n220\n00:11:43,092 --> 00:11:46,948\nIt's an open standard, you can leverage\nit, connect up, access the system, and\n\n221\n00:11:46,948 --> 00:11:47,510\noff you go.\n\n222\n00:11:49,150 --> 00:11:51,390\nAll right, so those are the three\nwe're gonna see on the exam.\n\n223\n00:11:51,390 --> 00:11:52,450\nWhat about others?\n\n224\n00:11:52,450 --> 00:11:56,250\nWell, Mac OS is built on top of BSD,\nso there's a lot of\n\n225\n00:11:56,250 --> 00:12:00,180\nother types of file sharing that you\ncan do just right in the native OS.\n\n226\n00:12:00,180 --> 00:12:05,450\nLike NFS, the Network File System, that's\na traditional Unix file sharing protocol\n\n227\n00:12:05,450 --> 00:12:08,340\nthat Linux supports, Mac OS supports.\n\n228\n00:12:08,340 --> 00:12:12,210\nMicrosoft even has an NFS client for\nWindows so you can get support there too.\n\n229\n00:12:12,210 --> 00:12:15,910\nSo if you need connectivity with\nsystems using NFS, you can.\n\n230\n00:12:17,000 --> 00:12:19,460\nAlso we have support for FTP,\nthe file transfer protocol.\n\n231\n00:12:19,460 --> 00:12:23,012\nYou can bring up a shared\nfolder that's connected to FTP,\n\n232\n00:12:23,012 --> 00:12:25,790\npeople can connect in and use that.\n\n233\n00:12:25,790 --> 00:12:29,800\nThe problem with FTP though,\nit's not encrypted, it's not very secure.\n\n234\n00:12:29,800 --> 00:12:33,750\nAll the other protocols we've talked about\nsupport encryption in one form or another.\n\n235\n00:12:34,780 --> 00:12:36,160\nFDP doesn't.\n\n236\n00:12:36,160 --> 00:12:39,056\nSo instead we might choose to\nuse another protocol like SFTP.\n\n237\n00:12:39,056 --> 00:12:42,580\nSFTP is secure file transfer protocol.\n\n238\n00:12:42,580 --> 00:12:46,190\nIt takes the FTP traffic and\nit sticks it on top of an SSH tunnel.\n\n239\n00:12:46,190 --> 00:12:49,910\nSo now it's being encrypted using SSH,\nand you can transfer your files.\n\n240\n00:12:49,910 --> 00:12:51,930\nThat's another one that's supported,\nall right.\n\n241\n00:12:51,930 --> 00:12:53,790\nThese are all great methods for\n\n242\n00:12:53,790 --> 00:12:57,290\nsharing out files, but\nthey're not supported in the Server app.\n\n243\n00:12:57,290 --> 00:13:00,410\nWhen you go into the Server app,\nyou don't see a lot of that functionality.\n\n244\n00:13:00,410 --> 00:13:05,030\nYou do see FTP, but you don't see other\nthings like NFS, they don't show up there.\n\n245\n00:13:05,030 --> 00:13:09,010\nSo while your Mac does support it, it's\nnot intended to be your regular use thing.\n\n246\n00:13:09,010 --> 00:13:11,730\nFor that, we have AFP and SMB.\n\n247\n00:13:11,730 --> 00:13:15,460\nThose are our two main\nones that we're gonna see.\n\n248\n00:13:15,460 --> 00:13:18,830\nOne quick comment about WebDAV\nbefore I move on from that.\n\n249\n00:13:18,830 --> 00:13:24,300\nWebDAV uses HTTP and\nHTTPS for communication.\n\n250\n00:13:24,300 --> 00:13:28,740\nIf you connect to WebDAV using HTTP,\nit's unencrypted.\n\n251\n00:13:28,740 --> 00:13:33,520\nIf you connect using HTTPS, it's using\nSSL to encrypt your traffic, and\n\n252\n00:13:33,520 --> 00:13:35,220\nyou get secure communications.\n\n253\n00:13:35,220 --> 00:13:38,800\nWhen you're transferring files, you\nalmost always want secure communications,\n\n254\n00:13:38,800 --> 00:13:40,200\nthat's kind of the goal.\n\n255\n00:13:40,200 --> 00:13:43,180\nSo you'll typically use\nHTTPS with that one.\n\n256\n00:13:43,180 --> 00:13:46,280\nWith SMB and AFP we'll get a chance\nto see those as we set them up and\n\n257\n00:13:46,280 --> 00:13:47,180\nget connected to that.\n\n258\n00:13:48,200 --> 00:13:53,180\nAll right now, just be aware that when you\ngo to configure file sharing on a server\n\n259\n00:13:53,180 --> 00:13:55,380\nthere's two places you can do it from.\n\n260\n00:13:55,380 --> 00:14:00,050\nYou can do it from the Server app or you\ncan do it from what's built into Mac OS,\n\n261\n00:14:00,050 --> 00:14:03,540\ngo into System Preferences and Sharing.\n\n262\n00:14:03,540 --> 00:14:06,920\nThe two can conflict\na bit with each other.\n\n263\n00:14:06,920 --> 00:14:09,580\nThe Server app tries to read\nthe configuration from what you've done\n\n264\n00:14:09,580 --> 00:14:11,650\noutside of the Server app and bring it in.\n\n265\n00:14:11,650 --> 00:14:15,010\nBut there's things that can be supported,\nlike NSF and SFTP,\n\n266\n00:14:15,010 --> 00:14:19,640\nthat the Server app doesn't necessarily\nsee, and that can create some issues.\n\n267\n00:14:19,640 --> 00:14:23,870\nSo the recommendation is, if you're gonna\nbe configuring file sharing on a machine\n\n268\n00:14:23,870 --> 00:14:28,700\nrunning Server app, that you always do\nit from the server, from Mac OS Server.\n\n269\n00:14:28,700 --> 00:14:31,490\nEven setting file permissions,\nwhich we know we can do file\n\n270\n00:14:31,490 --> 00:14:35,850\npermissions from the finder, even those\nwe should set from within the Server app.\n\n271\n00:14:35,850 --> 00:14:39,160\nTo ensure that we don't get any kind of\nconflict in between the configuration of\n\n272\n00:14:39,160 --> 00:14:44,270\nthe server versus the configuration of\nwhat's in the host OS, the Mac OS install.\n\n273\n00:14:44,270 --> 00:14:48,280\nAll right, so those are some of\nthe things that we need to keep in mind\n\n274\n00:14:48,280 --> 00:14:49,680\nas we start to work with this.\n\n275\n00:14:49,680 --> 00:14:50,520\nAnd definitely remember for\n\n276\n00:14:50,520 --> 00:14:54,260\nthe exam that AFP and SMB,\nthose are turned on by default.\n\n277\n00:14:54,260 --> 00:14:57,571\nWebDAV is supported, but\nit's not on by default,\n\n278\n00:14:57,571 --> 00:14:59,729\nwe have to choose to turn that on.\n\n279\n00:14:59,729 --> 00:15:03,946\nAll right, another thing that we need\nto remember is that when we create\n\n280\n00:15:03,946 --> 00:15:07,831\na shared folder in the Server app,\nit'll have a special option.\n\n281\n00:15:07,831 --> 00:15:10,602\nWe're gonna see this a little bit later,\nit's a neat one,\n\n282\n00:15:10,602 --> 00:15:14,720\nwhich enables the shared folder for\nbeing used as a home directory.\n\n283\n00:15:14,720 --> 00:15:16,550\nNormally when I share out a folder,\n\n284\n00:15:16,550 --> 00:15:19,190\nthat folder is just available to\nwhoever wants to connect to it.\n\n285\n00:15:19,190 --> 00:15:23,640\nSo if I have some corporate documents, I\nput them in a folder and people can browse\n\n286\n00:15:23,640 --> 00:15:26,690\nthe network and get to those corporate\ndocuments when they want to.\n\n287\n00:15:26,690 --> 00:15:28,590\nBut a home folder is different.\n\n288\n00:15:28,590 --> 00:15:31,370\nA home folder contains your documents,\nwell here,\n\n289\n00:15:31,370 --> 00:15:34,860\nlet me just bring up my home folder and\nI'll show you what I mean.\n\n290\n00:15:34,860 --> 00:15:37,870\nSo here, we'll take my workstation, and\n\n291\n00:15:37,870 --> 00:15:43,270\nif I jump into my finder, and\nI go into my own personal folder.\n\n292\n00:15:43,270 --> 00:15:44,390\nWho am I logged in as today?\n\n293\n00:15:44,390 --> 00:15:46,460\nI think I'm logged in as Help Desk.\n\n294\n00:15:46,460 --> 00:15:48,380\nSo I'll just go into my home folder.\n\n295\n00:15:48,380 --> 00:15:52,622\nIn my home folder, see how I've got\nDesktop, Documents, Downloads, Movies,\n\n296\n00:15:52,622 --> 00:15:54,167\nMusic, Pictures, Public.\n\n297\n00:15:54,167 --> 00:15:57,323\nAnd I don't see it, but I've got my\nown personal library in there too,\n\n298\n00:15:57,323 --> 00:15:59,750\nwhich is where all of my preferences and\nsettings are.\n\n299\n00:15:59,750 --> 00:16:02,625\nWell, I need my Desktop folder.\n\n300\n00:16:02,625 --> 00:16:04,167\nI need my Documents folder.\n\n301\n00:16:04,167 --> 00:16:07,740\nI need my Library folder when I log in.\n\n302\n00:16:07,740 --> 00:16:09,540\nIt's not something I\nwanna connect to later.\n\n303\n00:16:09,540 --> 00:16:11,020\nLike, hey, oh, I need that document.\n\n304\n00:16:11,020 --> 00:16:12,890\nLet me go connect to\nthe corporate documents folder.\n\n305\n00:16:12,890 --> 00:16:16,356\nIt's not like that.\nA home directory, I need right away.\n\n306\n00:16:16,356 --> 00:16:22,600\nWe can enable any of our share points\nto be used as a home directory.\n\n307\n00:16:22,600 --> 00:16:25,520\nAnd if we do that,\nanytime we create a new user account,\n\n308\n00:16:25,520 --> 00:16:27,760\nwe'll have the option to\nchoose that shared folder.\n\n309\n00:16:27,760 --> 00:16:31,860\nThe nice thing about having that shared\nHome directory like that, is if a user\n\n310\n00:16:31,860 --> 00:16:36,090\nmoves from computer to computer to\ncomputer, their desktop follows them,\n\n311\n00:16:36,090 --> 00:16:40,300\ntheir documents follows them, their\npreferences and settings follow them.\n\n312\n00:16:40,300 --> 00:16:41,980\nIt's not actually being\ncopied down to that machine,\n\n313\n00:16:41,980 --> 00:16:42,900\nit's running from the server,\n\n314\n00:16:42,900 --> 00:16:46,530\nbut they have the same settings as they\nmove machine to machine to machine.\n\n315\n00:16:46,530 --> 00:16:47,690\nWhich is kind of nice.\n\n316\n00:16:47,690 --> 00:16:51,040\nIf you don't have a dedicated computer, if\nyou're constantly bouncing from machine to\n\n317\n00:16:51,040 --> 00:16:54,320\nmachine, it's nice to be able\nto have that all in one.\n\n318\n00:16:54,320 --> 00:16:57,350\nRight in one location,\none central location and\n\n319\n00:16:57,350 --> 00:17:00,140\nnow you can use any computer\nhave access to your resources.\n\n320\n00:17:00,140 --> 00:17:02,830\nSo as we start to create these shared\nfolders, we'll get a chance to see that.\n\n321\n00:17:04,340 --> 00:17:06,790\nAnd the last thing I want to mention\nbefore we actually see this being\n\n322\n00:17:06,790 --> 00:17:08,630\nimplemented is the terminology.\n\n323\n00:17:09,710 --> 00:17:13,140\nI use the term shared folder a lot\nbecause that's kind of the generic\n\n324\n00:17:13,140 --> 00:17:16,370\nterm that we have for it but\nin the Apple world, and\n\n325\n00:17:16,370 --> 00:17:19,770\nwhat you'll see on the exam is\nthey refer to it as a share point.\n\n326\n00:17:20,820 --> 00:17:23,750\nThey're calling it a share point\nbecause it's not necessarily\n\n327\n00:17:23,750 --> 00:17:26,980\na folder you could be sharing\nan entire hard drive, if you want.\n\n328\n00:17:26,980 --> 00:17:28,670\nThen it's not a shared\nfolder anymore right?\n\n329\n00:17:28,670 --> 00:17:30,020\nThat term is inaccurate.\n\n330\n00:17:30,020 --> 00:17:33,600\nSo by share point,\nthey mean a point in your file system\n\n331\n00:17:33,600 --> 00:17:36,320\nthat's being shared out for\nother people to access.\n\n332\n00:17:36,320 --> 00:17:38,030\nNow if you work in the Microsoft world,\n\n333\n00:17:38,030 --> 00:17:40,780\nyou might be familiar with their product\nthat they have called SharePoint.\n\n334\n00:17:40,780 --> 00:17:45,230\nAnd SharePoint is a web-based content\nmanagement system that they have.\n\n335\n00:17:45,230 --> 00:17:48,330\nHere in Apple it's share point.\n\n336\n00:17:48,330 --> 00:17:50,250\nIt's two words, not one.\n\n337\n00:17:50,250 --> 00:17:55,290\nAnd it's just a point in our file system\nthat we make available to network users.\n\n338\n00:17:55,290 --> 00:17:58,620\nSo we're not creating share folders,\nwe're creating share points.\n\n339\n00:17:58,620 --> 00:18:00,610\nAnd the share points\nare typically mapped to a folder.\n\n340\n00:18:00,610 --> 00:18:03,900\nThat's what you normally do but we'll have\nthe option to create those folders as we\n\n341\n00:18:03,900 --> 00:18:07,020\ngo through and we can do it entirely\nfrom within the server map.\n\n342\n00:18:08,240 --> 00:18:09,970\nAll right, well let's do this.\n\n343\n00:18:09,970 --> 00:18:11,740\nLet's stop here and take a break.\n\n344\n00:18:11,740 --> 00:18:16,130\nAnd when we get back, I want to show you\nguys how to create the share point, how to\n\n345\n00:18:16,130 --> 00:18:20,160\nverify which protocols are turned on and\nwhich ones are off, how to change that.\n\n346\n00:18:20,160 --> 00:18:22,840\nWe'll get a chance to see how\nthe home directory settings work,\n\n347\n00:18:22,840 --> 00:18:25,530\nand get to see all of\nthis stuff in action.\n\n348\n00:18:25,530 --> 00:18:26,460\nSo it's pretty neat.\n\n349\n00:18:26,460 --> 00:18:27,890\nIt's pretty easy to work with, and\n\n350\n00:18:27,890 --> 00:18:30,590\nit's definitely something that you're\ngoing to use back there in the real world.\n\n351\n00:18:30,590 --> 00:18:32,940\nThis isn't one of those technologies that\nyou learn about and you think it's nice.\n\n352\n00:18:32,940 --> 00:18:34,839\nThis is one that you'll\nactually make use of so\n\n353\n00:18:34,839 --> 00:18:36,700\ndefinitely something we wanna learn about.\n\n354\n00:18:36,700 --> 00:18:37,900\nAll right, well, stay tuned.\n\n355\n00:18:37,900 --> 00:18:39,400\nWe'll be back after this.\n\n356\n00:18:39,400 --> 00:18:42,741\n[SOUND] All right,\n\n357\n00:18:42,741 --> 00:18:47,650\nwelcome back everybody.\n\n358\n00:18:47,650 --> 00:18:48,535\nSo in this segment,\n\n359\n00:18:48,535 --> 00:18:51,710\nwe're gonna take all of the stuff we\ntalked about in the first segment and\n\n360\n00:18:51,710 --> 00:18:55,380\nwe're actually going to do it so you get\na chance to kinda see how this works.\n\n361\n00:18:55,380 --> 00:18:58,830\nThe important here is we're probably not\ncovering anything that you guys don't know\n\n362\n00:18:58,830 --> 00:18:59,530\nalready, right?\n\n363\n00:18:59,530 --> 00:19:01,430\nThat we haven't seen in previous episodes.\n\n364\n00:19:01,430 --> 00:19:03,400\nBut we're just doing it\nthrough the server app, so\n\n365\n00:19:03,400 --> 00:19:05,960\nthis should be pretty\npainless as far as that goes.\n\n366\n00:19:05,960 --> 00:19:11,980\nSo, let's start with just a generic kind\nof idea here that I've got a server and\n\n367\n00:19:11,980 --> 00:19:15,140\nI want this server to have\na centralized storage location for\n\n368\n00:19:15,140 --> 00:19:16,800\nall of my employees to use.\n\n369\n00:19:16,800 --> 00:19:18,420\nBecause what I'm gonna do is\nI'm gonna tell my employees,\n\n370\n00:19:18,420 --> 00:19:20,990\nhey guys, I'm not gonna back\nup your computers anymore.\n\n371\n00:19:20,990 --> 00:19:22,640\nWe're not backing up your desktops.\n\n372\n00:19:22,640 --> 00:19:23,980\nWe're not backing up your laptops.\n\n373\n00:19:23,980 --> 00:19:24,640\nWe're not gonna do it.\n\n374\n00:19:24,640 --> 00:19:29,450\nYou need to save all your data\nto this centralized file share.\n\n375\n00:19:29,450 --> 00:19:30,750\nAnd then that's where they save it to.\n\n376\n00:19:30,750 --> 00:19:31,830\nAnd we'll back that up.\n\n377\n00:19:31,830 --> 00:19:34,300\nWe'll back our server up that\nhas a centralized file share.\n\n378\n00:19:34,300 --> 00:19:36,250\nMakes backups a lot easier to deal with.\n\n379\n00:19:36,250 --> 00:19:39,450\nSo, if I want to go ahead and get that\nset up, it's pretty straight forward,\n\n380\n00:19:39,450 --> 00:19:40,970\nlet me show you how.\n\n381\n00:19:40,970 --> 00:19:42,860\nFirst off we jump into our server app.\n\n382\n00:19:42,860 --> 00:19:45,370\nRight.\nSo this a Mac OS box running Yosemite,\n\n383\n00:19:45,370 --> 00:19:50,010\nand I've got server 4.0 on here and\nI'll just jump into that server app.\n\n384\n00:19:50,010 --> 00:19:53,860\nThen down under services, File Sharing is\none of the primary supported services.\n\n385\n00:19:53,860 --> 00:19:55,680\nWe don't have to dig down\nunder advanced or anything.\n\n386\n00:19:55,680 --> 00:19:57,170\nIt's just right here.\n\n387\n00:19:57,170 --> 00:19:57,940\nAll right.\n\n388\n00:19:57,940 --> 00:20:03,320\nNow notice when I go into File Sharing I\ncan see Help Desk's public folder.\n\n389\n00:20:03,320 --> 00:20:07,030\nWell, I'm logged in this Help Desk,\nand Mac OS\n\n390\n00:20:07,030 --> 00:20:10,800\nautomatically created that public folder\nfor me, and it's already shared out.\n\n391\n00:20:10,800 --> 00:20:15,580\nMy file sharing service is off, but\nI am actively sharing that folder.\n\n392\n00:20:15,580 --> 00:20:18,930\nThat's what I was talking about in the\nlast segment, how the server app is trying\n\n393\n00:20:18,930 --> 00:20:22,330\nto bring in the configuration\nfrom outside of the server app.\n\n394\n00:20:22,330 --> 00:20:26,770\nTo make it available here, so I can see\nthere's already some stuff in place.\n\n395\n00:20:26,770 --> 00:20:27,440\nI'm gonna ignore it.\n\n396\n00:20:27,440 --> 00:20:28,760\nI don't really care about it.\n\n397\n00:20:28,760 --> 00:20:31,380\nI need to add in my own folders.\n\n398\n00:20:31,380 --> 00:20:35,490\nNow you can start setting up the\nconfiguration now before you turn it on,\n\n399\n00:20:35,490 --> 00:20:38,188\nor you can turn it on and\nthen start setting your configuration,\n\n400\n00:20:38,188 --> 00:20:39,900\nwhich is preferred.\n\n401\n00:20:39,900 --> 00:20:41,570\nWell I always try and\n\n402\n00:20:41,570 --> 00:20:45,480\ndo my initial configuration\nbefore turning the server on.\n\n403\n00:20:45,480 --> 00:20:50,470\nBecause when we create a folder, the\ndefault permissions for a folder are that\n\n404\n00:20:50,470 --> 00:20:56,540\nthe owner can read and write,\nthe group can read, and everyone can read.\n\n405\n00:20:56,540 --> 00:20:59,190\nWhich means if I create a shared\nfolder the default permissions means\n\n406\n00:20:59,190 --> 00:21:01,710\neveryone on my network\ncan read what's in there.\n\n407\n00:21:01,710 --> 00:21:05,550\nWell, if it's got sensitive data, I don't\nwant people getting in there just yet.\n\n408\n00:21:05,550 --> 00:21:07,440\nI need to set the permissions.\n\n409\n00:21:07,440 --> 00:21:11,270\nIf I turn File Sharing on, and I add a new\nfolder and I haven't set the permissions\n\n410\n00:21:11,270 --> 00:21:16,090\nyet, for a brief period of time, everyone\ncan get in there and read the data.\n\n411\n00:21:16,090 --> 00:21:20,050\nSo I like to add the folders first,\nand then go and turn this on and\n\n412\n00:21:20,050 --> 00:21:21,200\nactually get it available.\n\n413\n00:21:21,200 --> 00:21:24,370\nSo let's go down here and\nadd a folder in real quick and\n\n414\n00:21:24,370 --> 00:21:27,330\nthen we'll actually turn\nthe sharing service on.\n\n415\n00:21:27,330 --> 00:21:30,190\nNow before I even do that,\nyou've got these permissions up here\n\n416\n00:21:30,190 --> 00:21:34,130\nwhere it says who's allowed to access\nthe shared folders that we create?\n\n417\n00:21:34,130 --> 00:21:38,420\nThe default here is that it's wide open,\nany one can access the shared folders.\n\n418\n00:21:38,420 --> 00:21:39,840\nI might want to limit that, too.\n\n419\n00:21:39,840 --> 00:21:43,610\nAnd it's a good idea to do this\nbefore you turn the service on also.\n\n420\n00:21:43,610 --> 00:21:46,550\nSo if we look at permissions,\nwe can edit that and\n\n421\n00:21:46,550 --> 00:21:52,620\nwe can tailor who is allowed to connect\nand where they're allowed to connect from.\n\n422\n00:21:52,620 --> 00:21:57,020\nI might only want people to be able\nto connect from private networks.\n\n423\n00:21:57,020 --> 00:21:58,860\nThose are the networks that start with 10.\n\n424\n00:21:58,860 --> 00:22:01,570\nOr 172.16-31.\n\n425\n00:22:01,570 --> 00:22:03,740\nOr 192.168.\n\n426\n00:22:03,740 --> 00:22:07,690\nIf they start with those addresses,\nthen those will be allowed to connect.\n\n427\n00:22:07,690 --> 00:22:09,150\nOr I can go very specific.\n\n428\n00:22:09,150 --> 00:22:13,420\nI can say only some networks and\nI can add them in myself.\n\n429\n00:22:13,420 --> 00:22:19,520\nI could say like just This Mac or I could\ncreate a specific network and I could say,\n\n430\n00:22:19,520 --> 00:22:25,460\nyou know this is the ITProTV Studio LAN\n\n431\n00:22:25,460 --> 00:22:29,710\nwhich is 10.1.230.1 all\nthe way through 10.1.230.254.\n\n432\n00:22:29,710 --> 00:22:32,770\nSo I can start to create\nnetworks like that\n\n433\n00:22:32,770 --> 00:22:35,580\nsaying these are the only IP addresses\nthat are allowed to connect.\n\n434\n00:22:35,580 --> 00:22:39,050\nThis adds an extra layer\nof security to your system.\n\n435\n00:22:39,050 --> 00:22:41,860\nAnd, oh you now I probably need to\nmake sure I add the right network.\n\n436\n00:22:41,860 --> 00:22:43,440\nWell, I'll set this back to All Networks.\n\n437\n00:22:43,440 --> 00:22:45,540\nBut you can go through and\nspecify that and\n\n438\n00:22:45,540 --> 00:22:48,360\nit just adds a little more\nsecurity to your file system.\n\n439\n00:22:50,950 --> 00:22:53,638\nAll right,\ndown at the bottom I'm gonna go ahead and\n\n440\n00:22:53,638 --> 00:22:56,690\nhit the plus sign to add\nin a new share point.\n\n441\n00:22:56,690 --> 00:23:02,780\nA share point is going to map to either\na hard drive or a volume, or a folder.\n\n442\n00:23:02,780 --> 00:23:04,740\nSo I need to pick where that's gonna go.\n\n443\n00:23:04,740 --> 00:23:06,910\nAnd it's just taking me to my\nDocuments folder here, and\n\n444\n00:23:06,910 --> 00:23:08,880\nI can put it wherever I want.\n\n445\n00:23:08,880 --> 00:23:11,300\nSo if I want to go onto\nmy main hard drive,\n\n446\n00:23:11,300 --> 00:23:14,835\nI might choose to create a new\nfolder right here, and set it up.\n\n447\n00:23:14,835 --> 00:23:16,215\nI'm gonna create\nthe folder through here so\n\n448\n00:23:16,215 --> 00:23:20,585\nyou guys will be able to see the default\npermissions and I'll call this Storage.\n\n449\n00:23:21,905 --> 00:23:24,855\nThis is going to be my centralized storage\nthat I want the whole company to have.\n\n450\n00:23:24,855 --> 00:23:26,545\nActually I'm going to get a warning here.\n\n451\n00:23:26,545 --> 00:23:32,005\nSee how it says this location is read\nonly, well the root of the drive does\n\n452\n00:23:32,005 --> 00:23:35,990\nhave a little extra protection on it and\nmy user account is not allowed to do it.\n\n453\n00:23:35,990 --> 00:23:40,060\nAnd I don't have a good way to do\na pseudo command here from the GUI,\n\n454\n00:23:40,060 --> 00:23:41,710\nI can do that from the command line.\n\n455\n00:23:41,710 --> 00:23:43,935\nSo I'll put this somewhere else so\nlet's go ahead and\n\n456\n00:23:43,935 --> 00:23:46,417\nstick in in my Documents folder,\nthat'll be fine for now.\n\n457\n00:23:46,417 --> 00:23:50,455\nOr I could stick it in the network folder\nwhich might even be a more appropriate\n\n458\n00:23:50,455 --> 00:23:51,650\nplace for it.\n\n459\n00:23:51,650 --> 00:23:55,710\nThere's a few different places\nthat we can chose to put it.\n\n460\n00:23:55,710 --> 00:23:56,583\nWe'll go ahead and stick it here.\n\n461\n00:23:56,583 --> 00:24:02,050\nSo I'll create a new folder, and I'm\ngonna call this one storage, there we go.\n\n462\n00:24:02,050 --> 00:24:04,180\nSo now I've got a new\nfolder called storage, and\n\n463\n00:24:04,180 --> 00:24:07,460\nI'll go ahead and hit choose and\nit's gonna add it to the list.\n\n464\n00:24:07,460 --> 00:24:11,130\nSo I know have a new shared\nfolder called storage.\n\n465\n00:24:11,130 --> 00:24:16,110\nWhen I did that, it set some basic\ndefault settings on that folder.\n\n466\n00:24:16,110 --> 00:24:21,620\nThings like enabling AFP and SMP, so\nit's got both those protocols running,\n\n467\n00:24:21,620 --> 00:24:24,510\nand it sets some basic\npermissions on that folder too.\n\n468\n00:24:24,510 --> 00:24:27,380\nNow I created that folder\ninside of my user profile, so\n\n469\n00:24:27,380 --> 00:24:30,880\nsome of those permissions are gonna be\ntied to me, but, there's other permissions\n\n470\n00:24:30,880 --> 00:24:33,920\nthat it sets just as part of getting\nit set up to be a file share.\n\n471\n00:24:35,120 --> 00:24:38,740\nWe can choose that folder and\nwe can hit the edit button down here,\n\n472\n00:24:38,740 --> 00:24:41,980\nthe little pencil, and\nwe can see those settings.\n\n473\n00:24:41,980 --> 00:24:47,500\nSo here I can see how SMB and AFP are both\nturned on, and web DAV is turned off.\n\n474\n00:24:47,500 --> 00:24:49,000\nIf you want to change that, you can.\n\n475\n00:24:49,000 --> 00:24:52,570\nIf I just want to support AFP,\nI just turn off SMB.\n\n476\n00:24:52,570 --> 00:24:53,980\nProblem solved.\n\n477\n00:24:53,980 --> 00:24:58,160\nI can turn SMB on, I can turn web DAV on,\nand now I've got all three enabled.\n\n478\n00:24:58,160 --> 00:25:01,130\nYou can easily flip back and forth between\nthese however it is that you want.\n\n479\n00:25:03,940 --> 00:25:06,060\nAt the bottom, I see my permissions.\n\n480\n00:25:06,060 --> 00:25:07,410\nAnd here's the permissions\nthat it assigned,\n\n481\n00:25:07,410 --> 00:25:10,670\nit assigned Help Desk as the owner because\nI'm the one that created that folder.\n\n482\n00:25:10,670 --> 00:25:12,480\nSo I'm the owner, and\nI got read and write.\n\n483\n00:25:13,860 --> 00:25:15,810\nStaff is the primary group.\n\n484\n00:25:15,810 --> 00:25:16,990\nNow who is Staff?\n\n485\n00:25:16,990 --> 00:25:20,780\nStaff is everybody who has\na user account on this machine.\n\n486\n00:25:20,780 --> 00:25:22,520\nNot an open directory.\n\n487\n00:25:22,520 --> 00:25:24,850\nBut on this machine, on this server.\n\n488\n00:25:24,850 --> 00:25:27,030\nSo on this server, I've got an account.\n\n489\n00:25:27,030 --> 00:25:29,860\nI would fall under staff, and so\nwould any other account that was here.\n\n490\n00:25:29,860 --> 00:25:31,450\nThey get read only.\n\n491\n00:25:31,450 --> 00:25:32,720\nAnd then last one.\n\n492\n00:25:32,720 --> 00:25:33,790\nEveryone else.\n\n493\n00:25:33,790 --> 00:25:36,820\nEveryone else, gets read only also.\n\n494\n00:25:36,820 --> 00:25:38,670\nThat's what I was mentioning earlier is,\n\n495\n00:25:38,670 --> 00:25:41,110\nyou might not want everybody\nto have a read access.\n\n496\n00:25:41,110 --> 00:25:43,808\nThis might have sensitive data in it,\nso you might wanna come in here and say,\n\n497\n00:25:43,808 --> 00:25:44,356\nyou know what.\n\n498\n00:25:44,356 --> 00:25:45,879\nI'm not gonna give everyone else access.\n\n499\n00:25:45,879 --> 00:25:47,064\nI'm gonna say no access.\n\n500\n00:25:47,064 --> 00:25:50,733\nNow, you either have to be me,\nhelp desk, or\n\n501\n00:25:50,733 --> 00:25:55,560\nyou have to be in the staff\ngroup of this server.\n\n502\n00:25:55,560 --> 00:25:59,140\nThen you'll be able to come in here and\naccess that data.\n\n503\n00:25:59,140 --> 00:26:02,140\nNow, these settings, are the same\nsettings we get in the finder.\n\n504\n00:26:02,140 --> 00:26:07,360\nIf I were to browse in the finder, go into\nmy Documents and find that storage folder.\n\n505\n00:26:07,360 --> 00:26:09,500\nI can pull up it's information.\n\n506\n00:26:09,500 --> 00:26:11,990\nI use little command-I.\n\n507\n00:26:11,990 --> 00:26:14,730\nThen down at the bottom you get\nyour sharing permissions, and\n\n508\n00:26:14,730 --> 00:26:16,050\nyou'll see those same things.\n\n509\n00:26:16,050 --> 00:26:18,170\nHelp Desk is read and write.\n\n510\n00:26:18,170 --> 00:26:19,280\nStaff is read only.\n\n511\n00:26:19,280 --> 00:26:20,830\nEveryone is read only.\n\n512\n00:26:20,830 --> 00:26:22,850\nThere's one extra entry in there though.\n\n513\n00:26:22,850 --> 00:26:23,880\nSpotlight.\n\n514\n00:26:23,880 --> 00:26:25,630\nSpotlight has custom privileges.\n\n515\n00:26:25,630 --> 00:26:28,260\nSpotlight is how we can search\nthe hard drive to find files, and so\n\n516\n00:26:28,260 --> 00:26:30,940\nSpotlight needs access to pretty much\neverything to be able to do that,\n\n517\n00:26:30,940 --> 00:26:32,560\nto be able to index the files.\n\n518\n00:26:32,560 --> 00:26:34,301\nAnd so\nSpotlight shows up right there also.\n\n519\n00:26:38,735 --> 00:26:41,667\nAll right, so those are the permissions\nthat are gonna be put in place as soon as\n\n520\n00:26:41,667 --> 00:26:43,480\nI hit OK, they will just take effect.\n\n521\n00:26:43,480 --> 00:26:45,832\nAnd now I've adjusted those permissions.\n\n522\n00:26:45,832 --> 00:26:48,340\nI'm gonna talk more about permissions\na little bit later because we've got\n\n523\n00:26:48,340 --> 00:26:52,220\nto separate out POSIX permissions and\nACL permissions and that's important.\n\n524\n00:26:52,220 --> 00:26:54,120\nBut before I jump into any of that,\n\n525\n00:26:54,120 --> 00:26:56,680\nlet's cover some of these other\noptions that are up here.\n\n526\n00:26:56,680 --> 00:26:59,770\nWe've got things like encrypt connections,\nall right?\n\n527\n00:26:59,770 --> 00:27:04,840\nWell, WebDAV can do encrypted and\nunencrypted.\n\n528\n00:27:04,840 --> 00:27:06,490\nIt defaults to unencrypted.\n\n529\n00:27:06,490 --> 00:27:08,820\nIf we want to support encryption,\nwe can check this off to say encrypt it.\n\n530\n00:27:08,820 --> 00:27:12,960\nWell, with WebDAV, you really just\nhave to say https instead of http.\n\n531\n00:27:14,300 --> 00:27:17,740\nSMB and AFP,\nthey both support encryption also.\n\n532\n00:27:17,740 --> 00:27:19,370\nThey don't do it by default either.\n\n533\n00:27:19,370 --> 00:27:21,880\nThey do digital signatures, but\nthey don't actually encrypt.\n\n534\n00:27:21,880 --> 00:27:25,690\nIf we choose this,\nit tells those protocols to do encryption.\n\n535\n00:27:25,690 --> 00:27:27,430\nWell, notice when I check it,\n\n536\n00:27:27,430 --> 00:27:33,100\nWebDAV went away because we just used\nHTTP with it, but AFP went away.\n\n537\n00:27:33,100 --> 00:27:33,770\nAll right?\n\n538\n00:27:33,770 --> 00:27:37,670\nAFP doesn't have encryption\nbuilt into it as a feature.\n\n539\n00:27:37,670 --> 00:27:41,018\nSo when I choose Encrypt connections,\nit drops me down to just SMB.\n\n540\n00:27:41,018 --> 00:27:44,930\nIf I wanna do encryption with AFP,\nI've got to use it in conjunction with\n\n541\n00:27:44,930 --> 00:27:49,910\nsomething else, something like IPsec or\na VPN tunnel to provide that encryption.\n\n542\n00:27:49,910 --> 00:27:51,280\nBut SMB has that built in.\n\n543\n00:27:51,280 --> 00:27:53,280\nWe just tell it to do it and it will.\n\n544\n00:27:54,360 --> 00:27:56,110\nSo we can turn that option on there.\n\n545\n00:27:56,110 --> 00:27:57,820\nI'm gonna leave it off for now.\n\n546\n00:27:57,820 --> 00:28:00,690\nNext we have allow guest\nusers to access the share.\n\n547\n00:28:00,690 --> 00:28:04,320\nNow, we have everyone else right here.\n\n548\n00:28:04,320 --> 00:28:06,570\nWhy do we have guest users also?\n\n549\n00:28:06,570 --> 00:28:10,380\nWell, guest is a little bit\ndifferent than everyone else.\n\n550\n00:28:10,380 --> 00:28:11,080\nRight?\n\n551\n00:28:11,080 --> 00:28:15,620\nEveryone else really means everyone\nelse who successfully logs in.\n\n552\n00:28:15,620 --> 00:28:16,250\nRight?\n\n553\n00:28:16,250 --> 00:28:20,175\nIf you've got a login Help desk.\n\n554\n00:28:20,175 --> 00:28:24,000\nAnd you're not in the staff group,\nthen you are everyone else.\n\n555\n00:28:24,000 --> 00:28:24,815\nWe have to have a login.\n\n556\n00:28:25,855 --> 00:28:29,955\nWhat if I want truly anonymous\naccess to this folder?\n\n557\n00:28:29,955 --> 00:28:34,095\nIf somebody wants truly anonymous access,\n[COUGH] well.\n\n558\n00:28:34,095 --> 00:28:34,945\nThey don't have a username.\n\n559\n00:28:34,945 --> 00:28:36,405\nThey don't have a password.\n\n560\n00:28:36,405 --> 00:28:37,645\nThat would be a guest.\n\n561\n00:28:37,645 --> 00:28:41,520\nAnd so, I would need to choose allowed\nguest users to access this share.\n\n562\n00:28:42,630 --> 00:28:44,270\nNow, I don't want that for this share.\n\n563\n00:28:44,270 --> 00:28:45,510\nMaybe I'll set up another one.\n\n564\n00:28:45,510 --> 00:28:46,750\nWell, I guess I could check it on here.\n\n565\n00:28:46,750 --> 00:28:48,610\nIt's not like I have truly sensitive data.\n\n566\n00:28:48,610 --> 00:28:50,370\nSo I'll check that off,\nand then I'll add it in.\n\n567\n00:28:50,370 --> 00:28:52,610\nNow I'm gonna have guest\nuser access to the share.\n\n568\n00:28:54,510 --> 00:28:59,610\nAnd then the last one, make available for\nhome directories, okay?\n\n569\n00:28:59,610 --> 00:29:01,114\nNow, when I create a user account,\n\n570\n00:29:01,114 --> 00:29:03,379\nI can specify where I want\ntheir home directory to be.\n\n571\n00:29:03,379 --> 00:29:07,629\nIf I want it to be on a shared folder,\nI have got to check this box, all right?\n\n572\n00:29:07,629 --> 00:29:11,871\nIf I dont check it it's just a regular\nshared folder and I cant use it for a home\n\n573\n00:29:11,871 --> 00:29:15,912\ndirectory, I need to check this off,\nwhen you do it says okay we use it for\n\n574\n00:29:15,912 --> 00:29:19,756\nhome directory, what protocol do they\nneed to use to connect to it and\n\n575\n00:29:19,756 --> 00:29:23,006\nI can pick between SMB and AFP,\nWebDAV is not supported for\n\n576\n00:29:23,006 --> 00:29:26,440\nhome directory, so\nit has got to be one of these two.\n\n577\n00:29:26,440 --> 00:29:30,350\nIt defaults to SMB because that\ncan handle pretty much everybody.\n\n578\n00:29:30,350 --> 00:29:31,930\nWindows, Mac, whatever.\n\n579\n00:29:31,930 --> 00:29:35,620\nBut if you've got an open directory in\nplace and you only got Macs connecting to\n\n580\n00:29:35,620 --> 00:29:40,560\nit, you can switch to AFP and\nnow you'll have your nice versioning\n\n581\n00:29:40,560 --> 00:29:44,810\non peoples home folders which they really\ndo appreciate so we may wanna choose that.\n\n582\n00:29:44,810 --> 00:29:45,380\nAll right.\n\n583\n00:29:45,380 --> 00:29:46,950\nI'll set up a separate folder for that.\n\n584\n00:29:46,950 --> 00:29:48,920\nI'll leave this off for right now.\n\n585\n00:29:48,920 --> 00:29:50,190\nWe'll set up a different folder for\nthat one.\n\n586\n00:29:52,440 --> 00:29:53,150\nAll right.\n\n587\n00:29:53,150 --> 00:29:55,950\nOnce I've got all this in place,\nI go and hit okay.\n\n588\n00:29:55,950 --> 00:29:58,960\nAnd now it's gonna update those\npermissions and settings in that folder.\n\n589\n00:29:58,960 --> 00:30:00,540\nAnd see how it's taking a moment.\n\n590\n00:30:00,540 --> 00:30:01,840\nIt's not like a quick change.\n\n591\n00:30:01,840 --> 00:30:03,580\nIt's activating those other protocols.\n\n592\n00:30:03,580 --> 00:30:05,300\nIt's changing the ACLs.\n\n593\n00:30:05,300 --> 00:30:08,370\nAnd now that shared folder is set\nup the way that I want it to be and\n\n594\n00:30:08,370 --> 00:30:10,100\nit's guest accessible, right?\n\n595\n00:30:10,100 --> 00:30:11,130\nI enabled that guest option.\n\n596\n00:30:11,130 --> 00:30:13,840\nI'm gonna add another\nfolder while I'm in here.\n\n597\n00:30:15,380 --> 00:30:21,590\nAnd I'm gonna call this one, we'll call\nit something from the home directories.\n\n598\n00:30:21,590 --> 00:30:23,400\nSo I'll create another folder.\n\n599\n00:30:23,400 --> 00:30:27,870\nAnd this one I guess we will just\ncall it like home directory.\n\n600\n00:30:31,422 --> 00:30:34,110\nAll right, so I've got a home\ndirectory's folder created now and\n\n601\n00:30:34,110 --> 00:30:37,740\nI'm gonna set this one up to be\nwhere my users profiles get stored.\n\n602\n00:30:37,740 --> 00:30:41,370\nNow, when I edit this one, there's a few\nthings I definitely wanna change here.\n\n603\n00:30:41,370 --> 00:30:45,170\nFirst off, I definitely don't want\neveryone having read access to that.\n\n604\n00:30:45,170 --> 00:30:48,280\nI want people to be able to get to\ntheir own data, the data they own, but\n\n605\n00:30:48,280 --> 00:30:50,670\nI don't want them to be able to\nread everything that's on there.\n\n606\n00:30:50,670 --> 00:30:53,200\nWell, the Mac will actually\ntake care of that for\n\n607\n00:30:53,200 --> 00:30:55,750\nus as people's home\ndirectories are created.\n\n608\n00:30:55,750 --> 00:30:59,080\nThe permissions on their individual\ndirectory will get updated to reflect\n\n609\n00:30:59,080 --> 00:31:00,370\njust them, but\n\n610\n00:31:00,370 --> 00:31:05,360\nthe permissions on the folder as a whole\ndo need to allow everyone at least read\n\n611\n00:31:05,360 --> 00:31:09,390\naccess because they need to be able to\nsee the folder is there and get into it.\n\n612\n00:31:09,390 --> 00:31:11,360\nSo that permission is kind of important.\n\n613\n00:31:13,390 --> 00:31:15,750\nThen when we check off make available for\nhome directory user,\n\n614\n00:31:15,750 --> 00:31:18,650\nwe can pick that protocol,\nI'll go with AFP on this one.\n\n615\n00:31:18,650 --> 00:31:20,310\nAnd I'm sharing this out.\n\n616\n00:31:20,310 --> 00:31:21,540\nI'm making it available.\n\n617\n00:31:21,540 --> 00:31:24,750\nIn fact, I might just wanna\ntrim off SMB altogether and\n\n618\n00:31:24,750 --> 00:31:28,570\nonly make it available via AFP and\nconnected to AFP because there's gonna be\n\n619\n00:31:28,570 --> 00:31:31,570\nhome directories and\nhome directories are gonna use AFP.\n\n620\n00:31:31,570 --> 00:31:32,679\nWe'll just limit this one down.\n\n621\n00:31:35,342 --> 00:31:38,180\nAll right, so I'll say okay to that and\nit will put that in place.\n\n622\n00:31:38,180 --> 00:31:39,300\nNow I've got home directories.\n\n623\n00:31:39,300 --> 00:31:41,290\nNotice that it doesn't\nsay guest accessible.\n\n624\n00:31:41,290 --> 00:31:47,333\nThis one's blocked off, you've got to have\na username and a password to get to it.\n\n625\n00:31:47,333 --> 00:31:49,810\nNow, if I actually want to have\na home directory in there,\n\n626\n00:31:49,810 --> 00:31:53,280\nI've got to tell my user accounts\nto store their information there.\n\n627\n00:31:53,280 --> 00:31:55,625\nSo, when I create a user from now on.\n\n628\n00:31:55,625 --> 00:31:58,630\nWhen I go up here to accounts and users.\n\n629\n00:31:58,630 --> 00:32:01,780\nI can go in and add a new network user.\n\n630\n00:32:01,780 --> 00:32:02,670\nSo, i'll add one in here.\n\n631\n00:32:02,670 --> 00:32:04,510\nWe'll do Jane Doe.\n\n632\n00:32:04,510 --> 00:32:05,010\nAll right.\n\n633\n00:32:07,110 --> 00:32:08,820\nSo, she's gonna get an account.\n\n634\n00:32:08,820 --> 00:32:10,130\nI can pick her password.\n\n635\n00:32:10,130 --> 00:32:13,770\nI can make her an administrator\nif I wanted to.\n\n636\n00:32:13,770 --> 00:32:17,440\nHere is her home folder,\nso it says local only.\n\n637\n00:32:17,440 --> 00:32:21,220\nAnd when I drop that down, see how that\nhome directory button lights up there?\n\n638\n00:32:21,220 --> 00:32:23,790\nIt's available as an option for\nme to choose.\n\n639\n00:32:24,800 --> 00:32:27,390\nI can choose it when I'm\ncreating a new account, or\n\n640\n00:32:27,390 --> 00:32:30,880\nI can update existing accounts if\nit's already been done to somebody.\n\n641\n00:32:30,880 --> 00:32:33,840\nSo, for example if I,\nI'll just leave this key for\n\n642\n00:32:33,840 --> 00:32:38,930\nright now, if I go and edit my\nDon Pezet account, whenever it lets me.\n\n643\n00:32:38,930 --> 00:32:39,966\nWhen I go in and edit that one.\n\n644\n00:32:41,939 --> 00:32:44,860\nYou'll see where we can go in here,\nwe can change the setting here too.\n\n645\n00:32:44,860 --> 00:32:47,230\nAll right, now notice how it's grayed out?\n\n646\n00:32:47,230 --> 00:32:48,810\nThe reason it's grayed out,\n\n647\n00:32:48,810 --> 00:32:52,900\nis that this user doesn't have\npermission to access that folder.\n\n648\n00:32:52,900 --> 00:32:57,080\nThat folder was stuck inside of\nthe help desk account's folder.\n\n649\n00:32:57,080 --> 00:32:59,680\nAnd the help desk account,\nwas a local user.\n\n650\n00:32:59,680 --> 00:33:02,560\nIt wasn't an open directory user,\nso I've got a permissions problem.\n\n651\n00:33:02,560 --> 00:33:05,410\nBut it does show up as an option\nbecause I have that set.\n\n652\n00:33:05,410 --> 00:33:07,830\nI have it enabled for that,\nI just can't choose it right now.\n\n653\n00:33:07,830 --> 00:33:09,910\nSo I'll have to fix those permissions,\nor really,\n\n654\n00:33:09,910 --> 00:33:12,640\nI need to move that\nfolder to somewhere else.\n\n655\n00:33:12,640 --> 00:33:15,620\nSo what I would normally do is have\nthat folder off of the root or\n\n656\n00:33:15,620 --> 00:33:16,540\non a separate volume.\n\n657\n00:33:16,540 --> 00:33:20,200\nOn a separate volume it becomes a lot\neasier because separate volumes,\n\n658\n00:33:20,200 --> 00:33:24,150\nthey don't track ownership the same\nway that the main volume does, so\n\n659\n00:33:24,150 --> 00:33:26,460\nit makes it where you can have\nshared directories a lot easier.\n\n660\n00:33:26,460 --> 00:33:27,610\nYou normally wanna do that anyway,\n\n661\n00:33:27,610 --> 00:33:31,470\nbecause if somebody has access to a shared\nfolder and they have write permission,\n\n662\n00:33:31,470 --> 00:33:34,960\nthey can start flooding it with data and\nfill up your hard drive.\n\n663\n00:33:34,960 --> 00:33:37,510\nAnd if it's on the same drive\nas your operating system,\n\n664\n00:33:37,510 --> 00:33:39,540\nthat's gonna create some problems there,\nisn't it?\n\n665\n00:33:39,540 --> 00:33:42,480\nSo we usually want to move\nthat off to a separate volume.\n\n666\n00:33:42,480 --> 00:33:45,430\nNow you can't do that inside\nof the server manager.\n\n667\n00:33:45,430 --> 00:33:49,670\nBut we can do that from inside\nof disk utility and the finder.\n\n668\n00:33:49,670 --> 00:33:51,920\nWe can get some of the stuff\nset up ahead of time.\n\n669\n00:33:51,920 --> 00:33:54,790\nSo if I wanna move all of this,\nif I wanna get that\n\n670\n00:33:54,790 --> 00:33:58,820\nfolder moved over to a new location,\nI just need to go in and do a little work.\n\n671\n00:33:58,820 --> 00:34:01,510\nWhat I'm gonna do is I'm gonna\ngo down to file sharing and\n\n672\n00:34:01,510 --> 00:34:03,360\nI'll just remove that\nhome directories folder.\n\n673\n00:34:03,360 --> 00:34:04,290\nI'll just get it out of there.\n\n674\n00:34:05,640 --> 00:34:06,710\nSo we'll remove that.\n\n675\n00:34:06,710 --> 00:34:09,550\nNow when you remove that from\nthe file sharing screen.\n\n676\n00:34:09,550 --> 00:34:10,860\nIt gets rid of it.\n\n677\n00:34:10,860 --> 00:34:14,200\nBut you browse on your finder,\nit leaves the folder behind.\n\n678\n00:34:14,200 --> 00:34:17,710\nSo, just removing it from the server\napp doesn't actually delete your data.\n\n679\n00:34:17,710 --> 00:34:20,720\nSo, if my user profiles\nwere already in here,\n\n680\n00:34:20,720 --> 00:34:24,410\nthat would be okay because I now could\nmove this off to somewhere else.\n\n681\n00:34:24,410 --> 00:34:26,680\nBut since this is empty, or\nat least it should be empty, yep,\n\n682\n00:34:26,680 --> 00:34:29,120\nI'm just gonna delete it and\nwe'll remake it.\n\n683\n00:34:29,120 --> 00:34:33,000\nSo, I'll get that in the trash and I'll\ncreate a new directory somewhere else.\n\n684\n00:34:33,000 --> 00:34:37,320\nNow here in the Finder, when I go through\nand start performing actions, if I try and\n\n685\n00:34:37,320 --> 00:34:40,710\ndo something that requires administrative\naccess it's going to prompt me and warn me\n\n686\n00:34:40,710 --> 00:34:44,585\nabout that, but what I'm gonna do is I'm\ngonna fire up the disk utility first, and\n\n687\n00:34:44,585 --> 00:34:48,350\nI'm gonna shrink my disk down a little\nbit to free up an extra partition.\n\n688\n00:34:50,640 --> 00:34:54,010\nSo I can take this hard\ndrive that I've got, and\n\n689\n00:34:54,010 --> 00:34:55,902\nright now it's taking up that whole disk.\n\n690\n00:34:55,902 --> 00:34:58,530\nI'm gonna shrink it down,\nnot too much here.\n\n691\n00:34:58,530 --> 00:35:02,790\nI just need to create that\nextra partition here.\n\n692\n00:35:02,790 --> 00:35:05,790\nI'm gonna call this one home directories.\n\n693\n00:35:08,590 --> 00:35:10,140\nAll right.\nSo this will be where my user home\n\n694\n00:35:10,140 --> 00:35:11,270\ndirectories are going.\n\n695\n00:35:11,270 --> 00:35:12,375\nAlright.\nWe'll call it Home just\n\n696\n00:35:12,375 --> 00:35:13,437\nto be a little easier on us.\n\n697\n00:35:16,178 --> 00:35:20,045\nAll right, now, when you resize\na partition, sometimes it can fail.\n\n698\n00:35:20,045 --> 00:35:21,815\nThere's a few things where sometimes,\n\n699\n00:35:21,815 --> 00:35:24,585\nMac OS will write data to\nthe far end of the drive.\n\n700\n00:35:24,585 --> 00:35:26,175\nAnd that might cause a failure.\n\n701\n00:35:26,175 --> 00:35:29,535\nThe most common guilty\nculprit here is Time Machine.\n\n702\n00:35:29,535 --> 00:35:31,365\nTime Machine maintains a local backup and\n\n703\n00:35:31,365 --> 00:35:34,290\nthat local backup will often end up way\ndown here, at the end of the drive.\n\n704\n00:35:34,290 --> 00:35:37,180\nSo let's see if this works,\nif it fails what I'll do is we'll stop\n\n705\n00:35:37,180 --> 00:35:39,380\nduring the break and\nI'll do the resizer in the break.\n\n706\n00:35:39,380 --> 00:35:44,210\nBut it should succeed and once it's\ndone I'll have this extra partition.\n\n707\n00:35:44,210 --> 00:35:48,480\nI can put my home directories folder there\nor I can just chose the whole hard drive.\n\n708\n00:35:48,480 --> 00:35:51,290\nI can use that entire hard\ndrive as my share point,\n\n709\n00:35:51,290 --> 00:35:54,560\nmap to that instead of mapping\nto an individual folder.\n\n710\n00:35:54,560 --> 00:35:57,290\nNow I don't personally like\nto map to a volume itself.\n\n711\n00:35:57,290 --> 00:36:01,120\nAnd the reason is there's other things in\nthat volume that we don't normally want\n\n712\n00:36:01,120 --> 00:36:02,630\npeople to have access to.\n\n713\n00:36:02,630 --> 00:36:05,120\nThere's hidden folders\nlike the spotlight folder.\n\n714\n00:36:05,120 --> 00:36:08,880\nAnd spotlight is caching all the file\ninformation across your drive.\n\n715\n00:36:08,880 --> 00:36:11,190\nThat's something you don't normally\nwant people to have access to.\n\n716\n00:36:11,190 --> 00:36:13,350\nSo I don't normally share that one out.\n\n717\n00:36:13,350 --> 00:36:16,390\nInstead, I always create\na sub folder underneath it.\n\n718\n00:36:16,390 --> 00:36:18,490\nSo now I've got that drive created.\n\n719\n00:36:18,490 --> 00:36:19,350\nIt didn't fail on me.\n\n720\n00:36:22,280 --> 00:36:24,200\nSo now that I've got it,\n\n721\n00:36:24,200 --> 00:36:28,670\nI can go and create those other\nfolders that I want on there.\n\n722\n00:36:28,670 --> 00:36:30,870\nNow when I go to create the folder,\n\n723\n00:36:30,870 --> 00:36:32,820\nthe permissions are gonna\nbe a little bit important.\n\n724\n00:36:32,820 --> 00:36:36,440\nCuz I need people to have access to\nthis folder to be able to get to it.\n\n725\n00:36:36,440 --> 00:36:43,570\nSo, I'm gonna need to set that, and\nmake sure my users have access.\n\n726\n00:36:43,570 --> 00:36:47,960\nSo I'm gonna browse into this new\nhome drive that I've created.\n\n727\n00:36:47,960 --> 00:36:50,280\nAnd I'll just whip up a new\nfolder here which I'll call home.\n\n728\n00:36:52,630 --> 00:37:00,240\nAnd I'm gonna modify its permissions so\nthat everyone has Read & Write.\n\n729\n00:37:00,240 --> 00:37:02,230\nI'm just gonna open this thing wide open.\n\n730\n00:37:02,230 --> 00:37:05,010\nEverybody with Read & Write\naccess to that drive.\n\n731\n00:37:05,010 --> 00:37:05,980\nThat sounds crazy, right?\n\n732\n00:37:05,980 --> 00:37:07,810\nI'm giving people way too much access.\n\n733\n00:37:07,810 --> 00:37:10,240\nWell, as their home folders get created,\n\n734\n00:37:10,240 --> 00:37:12,820\nthose folders will have\ndifferent permissions.\n\n735\n00:37:12,820 --> 00:37:14,940\nYou have file inheritance that happens.\n\n736\n00:37:14,940 --> 00:37:16,990\nWhere you set permissions\non one folder and\n\n737\n00:37:16,990 --> 00:37:20,000\nthe permissions trickle down\nto the folders underneath it.\n\n738\n00:37:20,000 --> 00:37:24,670\nBut then each folder can maintain it's\nown set of permissions on top of that.\n\n739\n00:37:24,670 --> 00:37:27,570\nSo there's a lot of flexibility on\nhow these permissions get handled.\n\n740\n00:37:27,570 --> 00:37:30,020\nI'll talk more about permissions\nin the next segment.\n\n741\n00:37:30,020 --> 00:37:31,520\nFor right now I'm just gonna\nopen this one wide and\n\n742\n00:37:31,520 --> 00:37:34,040\nwe'll take a look at it\nin the next segment.\n\n743\n00:37:34,040 --> 00:37:35,570\nSo now I've got that Home folder set up.\n\n744\n00:37:35,570 --> 00:37:36,950\nIt's on it's own separate volume.\n\n745\n00:37:36,950 --> 00:37:38,460\nIf somebody floods this with data and\n\n746\n00:37:38,460 --> 00:37:41,830\nfills everything up, the operating\nsystem will stay running fine.\n\n747\n00:37:41,830 --> 00:37:43,080\nIt's on a separate partition.\n\n748\n00:37:45,310 --> 00:37:48,090\nSo now back here in File Sharing,\nI can add that in.\n\n749\n00:37:49,410 --> 00:37:51,418\nAnd so I'll go in and pick that volume.\n\n750\n00:37:54,960 --> 00:37:57,430\nAnd I'll pick the Home\nfolder from inside of that.\n\n751\n00:37:57,430 --> 00:37:58,500\nThat's what I'm gonna be sharing out.\n\n752\n00:37:58,500 --> 00:38:00,469\nAll right, so there it goes.\n\n753\n00:38:03,110 --> 00:38:05,800\nAnd if I edit the settings,\nI'm gonna trim the down to just afp.\n\n754\n00:38:05,800 --> 00:38:09,730\nI'm gonna make it available\nhome directory using afp.\n\n755\n00:38:09,730 --> 00:38:12,570\nAnd I'm leave those promotions kind\nof wide open like they are right now.\n\n756\n00:38:12,570 --> 00:38:14,530\nI'll just go ahead set it okay.\n\n757\n00:38:14,530 --> 00:38:16,320\nAnd now I've got that folder in place.\n\n758\n00:38:16,320 --> 00:38:20,080\nEverybody got access to it, now we should\nbe good to go as far as using that for\n\n759\n00:38:20,080 --> 00:38:21,079\nour home directories.\n\n760\n00:38:22,250 --> 00:38:25,160\nSo we can go and\ntake our user, I'll take Jane.\n\n761\n00:38:25,160 --> 00:38:27,970\nJane is set to local only.\n\n762\n00:38:27,970 --> 00:38:29,800\nMy home folder is still grayed out.\n\n763\n00:38:29,800 --> 00:38:30,610\nWhat is going on there?\n\n764\n00:38:33,350 --> 00:38:36,110\nWell shoot, apparently I've\nmade some type of mistake here.\n\n765\n00:38:36,110 --> 00:38:38,760\nI should be able to choose\nmy home folder now.\n\n766\n00:38:38,760 --> 00:38:40,050\nIt's in a nice separate place.\n\n767\n00:38:40,050 --> 00:38:40,990\nIt got its permissions set.\n\n768\n00:38:40,990 --> 00:38:42,060\nI should have access.\n\n769\n00:38:42,060 --> 00:38:44,870\nSomething is blocking me from\npicking that so I might need to,\n\n770\n00:38:47,230 --> 00:38:50,480\nI kinda forgot something important and\nyou guys watching out there in TV land\n\n771\n00:38:50,480 --> 00:38:53,410\nare probably pulling your hair out going\nDon, you idiot, you forgot something.\n\n772\n00:38:54,420 --> 00:38:58,000\nBack under file sharing,\nwe kinda have to turn the service on.\n\n773\n00:38:58,000 --> 00:39:00,820\nSo it doesn't work so\nwell unless you push the power button.\n\n774\n00:39:00,820 --> 00:39:04,030\nIt's something we learned in\nthe first day of computer school.\n\n775\n00:39:04,030 --> 00:39:07,820\nSo I've created this folder, and\nI created it in the server app, and\n\n776\n00:39:07,820 --> 00:39:09,700\nI didn't turn on the sharing service.\n\n777\n00:39:09,700 --> 00:39:12,110\nSo, I need to put that on switch.\n\n778\n00:39:12,110 --> 00:39:12,950\nNow it's available.\n\n779\n00:39:12,950 --> 00:39:16,490\nRemember how I said I like to set up\nmy settings first, and then turn it on?\n\n780\n00:39:16,490 --> 00:39:18,530\nI kinda forgot that, then turn it on.\n\n781\n00:39:18,530 --> 00:39:19,630\nSo there we go.\n\n782\n00:39:19,630 --> 00:39:20,270\nNow it's on.\n\n783\n00:39:20,270 --> 00:39:21,310\nIt's up and it's running.\n\n784\n00:39:21,310 --> 00:39:24,110\nMy home folder should be good to go,\nand I can pick it.\n\n785\n00:39:24,110 --> 00:39:25,230\nWell, I should be able to pick it.\n\n786\n00:39:25,230 --> 00:39:26,520\nLet's see what happens.\n\n787\n00:39:26,520 --> 00:39:27,630\nSo I'll go up to my users here.\n\n788\n00:39:27,630 --> 00:39:30,990\nI'll take Jane and now there it is.\n\n789\n00:39:30,990 --> 00:39:31,770\nNice and lit up.\n\n790\n00:39:31,770 --> 00:39:34,430\nI'll go ahead and\npick that home folder for her.\n\n791\n00:39:34,430 --> 00:39:37,470\nAnd I'll do the same thing for\nmy user account that already exists.\n\n792\n00:39:37,470 --> 00:39:39,580\nI'll set my home folder over there too.\n\n793\n00:39:41,380 --> 00:39:42,310\nNow be careful with this.\n\n794\n00:39:42,310 --> 00:39:43,860\nWhen you change that home folder.\n\n795\n00:39:43,860 --> 00:39:46,250\nWhat happens to the users\ndata they already have?\n\n796\n00:39:46,250 --> 00:39:49,125\nWell it's left behind on\nwhatever computer they were on.\n\n797\n00:39:49,125 --> 00:39:50,917\nIt doesn't automatically import that.\n\n798\n00:39:50,917 --> 00:39:53,417\nSo this is basically\nan all new home folder.\n\n799\n00:39:53,417 --> 00:39:56,625\nBut from here on out,\nall their data will be there, all right?\n\n800\n00:39:56,625 --> 00:39:59,763\nAnd they can always copy the data from\ntheir old home folder into their new home\n\n801\n00:39:59,763 --> 00:40:01,240\nfolder and have that access.\n\n802\n00:40:01,240 --> 00:40:03,600\nSo, on a new user we don't worry about it.\n\n803\n00:40:03,600 --> 00:40:06,960\nOn an existing user,\nthat can be a problem.\n\n804\n00:40:06,960 --> 00:40:10,520\nAnd I can add in another user here,\nI'll add in John Doe.\n\n805\n00:40:12,090 --> 00:40:15,950\nWe'll set him up the same way, and\nas a new user I can just pick that\n\n806\n00:40:15,950 --> 00:40:18,400\nhome directory right here\nfrom the very beginning.\n\n807\n00:40:19,730 --> 00:40:22,370\nThere is another setting in here\nthat's kind of useful to notice,\n\n808\n00:40:22,370 --> 00:40:27,110\nwhen you set a home folder you can\nlimit the disk usage to a certain size.\n\n809\n00:40:27,110 --> 00:40:29,090\nIf you're worried about\nsomebody filling up that drive,\n\n810\n00:40:29,090 --> 00:40:30,890\nyou can set what's called a quota.\n\n811\n00:40:30,890 --> 00:40:33,860\nA limit to the amount of storage they\ncan have in their home directory.\n\n812\n00:40:33,860 --> 00:40:38,080\nAnd so you can cap somebody at, you\nmaybe wanna cap them at 20 gigs each, or\n\n813\n00:40:38,080 --> 00:40:39,770\nwhatever amount of space it is.\n\n814\n00:40:39,770 --> 00:40:46,570\nAnd now they've got that limit that keeps\nthem from putting too much junk in there.\n\n815\n00:40:46,570 --> 00:40:50,380\nAll right, I'll go ahead and create that,\nand now Jane Doe, John Doe, and\n\n816\n00:40:50,380 --> 00:40:53,830\nmyself all have home directories\nthat are going to be stored there.\n\n817\n00:40:53,830 --> 00:40:56,220\nAnd if I browse on the finder, and\n\n818\n00:40:56,220 --> 00:41:01,190\nI go to that home folder, they each\nhave their own folder right there.\n\n819\n00:41:01,190 --> 00:41:03,270\nNow, they're gonna be empty for\nthe most part,\n\n820\n00:41:03,270 --> 00:41:06,360\nif I browse into Don Pezet.,\nI see folders but\n\n821\n00:41:06,360 --> 00:41:12,420\nthere's not much that's gonna be inside\nof them because they're a new profile.\n\n822\n00:41:12,420 --> 00:41:17,080\nThey haven't logged in yet using this\nnew profile, but notice the permissions.\n\n823\n00:41:17,080 --> 00:41:18,700\nI've got these minus signs on all of them,\n\n824\n00:41:18,700 --> 00:41:20,780\nletting me know I don't have\npermission to get into that folder.\n\n825\n00:41:20,780 --> 00:41:24,640\nThe parent folder I set where everybody\nhad read and write access, but\n\n826\n00:41:24,640 --> 00:41:26,280\nit's different here.\n\n827\n00:41:26,280 --> 00:41:29,170\nThe folders underneath it get restricted,\nso\n\n828\n00:41:29,170 --> 00:41:32,120\nwhen I take a look at permissions on\nthe Don Pezet folder for example.\n\n829\n00:41:33,290 --> 00:41:38,770\nI can see that Don Pezet has read and\nwrite, everybody else has read only.\n\n830\n00:41:38,770 --> 00:41:42,750\nSo, it's customizing those permissions\nright there in the individual\n\n831\n00:41:42,750 --> 00:41:46,500\nfolder level to make sure that users\ncan't get into each others home folders.\n\n832\n00:41:46,500 --> 00:41:48,620\nSo, pretty neat system to have in place.\n\n833\n00:41:50,568 --> 00:41:51,410\nAll right, so what we've done so\n\n834\n00:41:51,410 --> 00:41:57,560\nfar is we created a storage file share\nthat was available via SnB and AFP.\n\n835\n00:41:57,560 --> 00:42:01,850\nAnd we created a home directory file\nshare that was just available via AFP and\n\n836\n00:42:01,850 --> 00:42:03,580\nwe added some users to that.\n\n837\n00:42:03,580 --> 00:42:07,920\nThe server's configured,\nit's turned on, and it's ready to rock.\n\n838\n00:42:07,920 --> 00:42:12,210\nWhat's left is the client's side,\nhow do the clients use this stuff?\n\n839\n00:42:12,210 --> 00:42:14,590\nSo that's what I wanna\ntake a look at next, but\n\n840\n00:42:14,590 --> 00:42:16,320\nI'm a little short on\ntime in this segment.\n\n841\n00:42:16,320 --> 00:42:17,780\nSo let's pause and take a break,\n\n842\n00:42:17,780 --> 00:42:21,392\nwhen we get back we'll see the client side\nconnectivity to these same resources.\n\n843\n00:42:21,392 --> 00:42:22,911\nSo stay tuned, we'll be back in a few.\n\n844\n00:42:22,911 --> 00:42:29,124\n[MUSIC]\n\n845\n00:42:29,124 --> 00:42:31,280\nAll right, welcome back everybody.\n\n846\n00:42:31,280 --> 00:42:33,820\nSo in the last segment we created\nsome shared folders, right?\n\n847\n00:42:33,820 --> 00:42:36,630\nWe created some centralized storage for\nour end users, and\n\n848\n00:42:36,630 --> 00:42:41,250\nwe created a user profile directory place\nfor our home directories to be stored.\n\n849\n00:42:41,250 --> 00:42:44,240\nNow, I wanna show you guys\nthe client side of things.\n\n850\n00:42:44,240 --> 00:42:46,050\nNow, some of this is gonna\nhappen automatically,\n\n851\n00:42:46,050 --> 00:42:48,200\nsome of this is gonna be\na little more manual.\n\n852\n00:42:48,200 --> 00:42:52,250\nThe home directory, for example,\nshould take effect automatically.\n\n853\n00:42:52,250 --> 00:42:56,760\nWhen I log in, my users should log in\nusing the new network location for\n\n854\n00:42:56,760 --> 00:42:57,860\nits home directory.\n\n855\n00:42:57,860 --> 00:42:59,050\nWhen I go to log in,\n\n856\n00:42:59,050 --> 00:43:02,030\nit's gonna reach out to the open directory\nto find out if my account is valid.\n\n857\n00:43:02,030 --> 00:43:04,980\nAnd at the same time, it's gonna\nlearn where my new home directory is.\n\n858\n00:43:04,980 --> 00:43:06,310\nLet's see that in action.\n\n859\n00:43:07,680 --> 00:43:09,770\nI'm gonna jump over to\nthis work station here.\n\n860\n00:43:09,770 --> 00:43:12,950\nThis is a work station\nrunning Mac OS Yosemite and\n\n861\n00:43:12,950 --> 00:43:14,770\nit's joined to my open directory.\n\n862\n00:43:14,770 --> 00:43:18,240\nIt's bound to the directory and\nwhen I log in, I can come in here and\n\n863\n00:43:18,240 --> 00:43:20,180\nlog in with my open directory account.\n\n864\n00:43:20,180 --> 00:43:24,860\nSo, I'll log in as Don Pezet, and\nwe'll see if I can remember my password.\n\n865\n00:43:24,860 --> 00:43:27,902\nAnd when I go to get logged in,\nit reached out to the open directory.\n\n866\n00:43:27,902 --> 00:43:29,520\nFinds out that's the right password,\n\n867\n00:43:29,520 --> 00:43:33,200\nand oh, your home directory\nhas been moved over here.\n\n868\n00:43:33,200 --> 00:43:36,340\nAnd now, it's gonna point me\nto this new home directory.\n\n869\n00:43:36,340 --> 00:43:40,160\nNow when it does it, that's a pretty\ndecent change to the account.\n\n870\n00:43:40,160 --> 00:43:42,340\nAnd so, you might see something\nlike what I'm getting right here,\n\n871\n00:43:42,340 --> 00:43:45,510\nwhere my keychain is acting for\nme to reauthenticate.\n\n872\n00:43:45,510 --> 00:43:47,050\nSo, I'm gonna do that, and\n\n873\n00:43:47,050 --> 00:43:50,180\nit's because of the new storage\nlocation for that keychain.\n\n874\n00:43:50,180 --> 00:43:52,890\nSo, I'll authenticate and\nnow I'm into my system,\n\n875\n00:43:52,890 --> 00:43:54,930\nI logged into my open directory account.\n\n876\n00:43:54,930 --> 00:43:57,170\nNow for an end user, they're not going\nto notice much difference, yeah,\n\n877\n00:43:57,170 --> 00:43:58,960\nit prompted me for my password twice.\n\n878\n00:43:58,960 --> 00:44:02,860\nBut other than that, everything looks\nthe same as I start to browse my computer.\n\n879\n00:44:02,860 --> 00:44:07,850\nIf I go into the finder,\nI can go into Desktop and Documents, and\n\n880\n00:44:07,850 --> 00:44:10,710\nI didn't have anything in there in\nthe first place so it's pretty boring.\n\n881\n00:44:10,710 --> 00:44:15,770\nBut I can go in there, I can see my\nresources and it's just like normal.\n\n882\n00:44:15,770 --> 00:44:17,960\nI don't know that that's on\na network share somewhere.\n\n883\n00:44:18,990 --> 00:44:22,540\nBut in the background, as i start\nsaving data into these folders and\n\n884\n00:44:22,540 --> 00:44:27,120\nadding content, it's actually being\nshipped up the centralized network share.\n\n885\n00:44:27,120 --> 00:44:30,180\nAnd the network share for\nmy user account was already created.\n\n886\n00:44:30,180 --> 00:44:33,280\nMy data's there and I should be able to\nbrowse through it and gain access to it.\n\n887\n00:44:33,280 --> 00:44:37,093\nNow, same thing for Jane Doe and\nJohn Doe, their accounts were created,\n\n888\n00:44:37,093 --> 00:44:39,628\nthey will be going through\nthe same experience.\n\n889\n00:44:39,628 --> 00:44:43,583\nAnd ideally, we would try and keep this\nkinda seamless where the end user doesn't\n\n890\n00:44:43,583 --> 00:44:45,828\nhave to realize that its\ngoing on the network.\n\n891\n00:44:45,828 --> 00:44:50,738\nNow, lets create some content here,\nlet me fire up old text edit,\n\n892\n00:44:50,738 --> 00:44:54,700\nand I'll just whip up\na simple document here.\n\n893\n00:44:54,700 --> 00:45:00,470\nThis is a simple document, and I'm gonna\nsave this in to my documents folder,\n\n894\n00:45:00,470 --> 00:45:04,950\nso we will just save that, there we go.\n\n895\n00:45:05,970 --> 00:45:08,410\nAnd so,\nI've saved that into my documents folder.\n\n896\n00:45:08,410 --> 00:45:12,450\nThere it is, so I've got this little\ntest document sitting right there, and\n\n897\n00:45:12,450 --> 00:45:15,910\nto me it looks like I saved it\nright here to my own machine, but\n\n898\n00:45:15,910 --> 00:45:17,780\nit is getting copied up to the server.\n\n899\n00:45:17,780 --> 00:45:19,910\nNow, how do I know that it's\ncopied up to the server?\n\n900\n00:45:19,910 --> 00:45:22,090\nWell, I can browse across the network and\n\n901\n00:45:22,090 --> 00:45:24,920\ntry to access my own\npersonal home directory.\n\n902\n00:45:24,920 --> 00:45:27,450\nThe other thing is I've got that\ncentralized storage that I wanna connect\n\n903\n00:45:27,450 --> 00:45:29,540\nto, also, for\nsharing amongst all the employees.\n\n904\n00:45:29,540 --> 00:45:31,078\nBut for right now,\nlet's stick with the home directory.\n\n905\n00:45:31,078 --> 00:45:36,270\nWell, in your finder,\nyou've got this section call shared.\n\n906\n00:45:36,270 --> 00:45:40,070\nAnd that's where it's showing other\nservers on the network that it's found.\n\n907\n00:45:40,070 --> 00:45:42,940\nAnd the odds are it'll find your\nserver once you've turned on your\n\n908\n00:45:42,940 --> 00:45:43,590\nsharing service.\n\n909\n00:45:43,590 --> 00:45:48,460\nAnd I can see OSX-server1 right there, so\nthat's the server that we created earlier.\n\n910\n00:45:48,460 --> 00:45:53,170\nAnd when I click on it, I can see help\ndesk's public folder and that's it.\n\n911\n00:45:54,540 --> 00:45:55,950\nWhere's the centralized storage?\n\n912\n00:45:55,950 --> 00:45:57,840\nWhere's my home directory?\n\n913\n00:45:57,840 --> 00:46:01,170\nWell, I didn't turn on guest access for\nthe home directory, and\n\n914\n00:46:01,170 --> 00:46:03,410\nso it's not showing up here.\n\n915\n00:46:03,410 --> 00:46:06,450\nI don't, when you connect,\nwhen you just click on a server like this,\n\n916\n00:46:06,450 --> 00:46:08,310\nsee how it says connected as guest?\n\n917\n00:46:08,310 --> 00:46:10,370\nYou're connecting as an anonymous user,\nand\n\n918\n00:46:10,370 --> 00:46:13,680\nyou don't' have permission to see all\nthe different things that are in there.\n\n919\n00:46:13,680 --> 00:46:16,980\nSo instead,\nwe need to hit this connect as, and\n\n920\n00:46:16,980 --> 00:46:18,600\nthat's where you can\nprovide your credentials.\n\n921\n00:46:18,600 --> 00:46:20,150\nAnd I can say, well, I'm Don Pezet.\n\n922\n00:46:21,610 --> 00:46:25,110\nAnd we can connect, and\nnow we see the other folders.\n\n923\n00:46:25,110 --> 00:46:28,110\nNow I see storage, and I see Don Pezet.\n\n924\n00:46:28,110 --> 00:46:32,480\nNotice, I don't see home,\nI don't see that great big home folder\n\n925\n00:46:32,480 --> 00:46:34,300\nbecause it's home directories\nthat are in there.\n\n926\n00:46:34,300 --> 00:46:38,200\nIt only shows me mine,\nthat way I can't browse around and\n\n927\n00:46:38,200 --> 00:46:39,890\ntry to access other people's stuff.\n\n928\n00:46:39,890 --> 00:46:42,440\nI can only see my stuff, right?\n\n929\n00:46:42,440 --> 00:46:45,930\nAnd if I go into Don Pezet, I'll see\nall my different folders in there,\n\n930\n00:46:45,930 --> 00:46:46,720\nlike desktop and\n\n931\n00:46:46,720 --> 00:46:51,990\ndocuments, and if I go into documents,\nwell, notice how my documents are empty?\n\n932\n00:46:51,990 --> 00:46:56,230\nNow, I just saved a text document to\nmy documents folder just a moment ago,\n\n933\n00:46:56,230 --> 00:46:57,790\nwhy isn't it here?\n\n934\n00:46:57,790 --> 00:47:01,120\nWell, what's going on is it's\nactually caching that local, and\n\n935\n00:47:01,120 --> 00:47:04,120\nas I log out it's gonna get\nthat copied up to the server.\n\n936\n00:47:04,120 --> 00:47:07,380\nNow, it'll do that periodically on its\nown also and eventually it'll show up.\n\n937\n00:47:07,380 --> 00:47:10,680\nUnfortunately, finder doesn't give you\na great way to refresh your screen, so\n\n938\n00:47:10,680 --> 00:47:12,450\nyou don't necessarily\nknow when that happens.\n\n939\n00:47:12,450 --> 00:47:15,800\nBut it will copy up there and\nI'll just log out here so\n\n940\n00:47:15,800 --> 00:47:17,540\nwe can see if that takes effect.\n\n941\n00:47:17,540 --> 00:47:19,690\nThere is a chance though, if I log out and\n\n942\n00:47:19,690 --> 00:47:23,280\nthe file still doesn't make it up there\nthen I might have another problem.\n\n943\n00:47:23,280 --> 00:47:26,270\nI might have some other kind of\nissue where my system wasn't\n\n944\n00:47:26,270 --> 00:47:28,460\nable to write the data\nup to that directory.\n\n945\n00:47:28,460 --> 00:47:31,270\nSo it's always a good idea to verify this,\ntest it out,\n\n946\n00:47:31,270 --> 00:47:33,910\nmake sure the data gets to\nwhere it's supposed to go.\n\n947\n00:47:35,350 --> 00:47:37,440\nSo I'll just go in here and log back in.\n\n948\n00:47:37,440 --> 00:47:41,260\nNow, the home directory that was\none piece of the puzzle, right?\n\n949\n00:47:41,260 --> 00:47:44,370\nThe other piece was that\ncentralized storage folder and\n\n950\n00:47:44,370 --> 00:47:46,960\nthe centralized storage folder,\nI wanna tell all my employees.\n\n951\n00:47:46,960 --> 00:47:49,958\nHey, from now on when you save your data\nsave it to the centralized storage folder.\n\n952\n00:47:49,958 --> 00:47:52,200\nDon't save it to your own computer because\nI don't wanna back your computer up.\n\n953\n00:47:53,350 --> 00:47:57,990\nAnd apparently, messages does not\nwant to remember my password today.\n\n954\n00:47:57,990 --> 00:48:01,045\nSo in those scenarios where we wanna\nhave that centralized storage,\n\n955\n00:48:01,045 --> 00:48:03,320\nwe need to get people connected to it.\n\n956\n00:48:03,320 --> 00:48:07,060\nThey can browse through the finder, but\nwith the finder I had to go through and\n\n957\n00:48:07,060 --> 00:48:11,510\nconnect as and make sure they knew\nwho I was and browse into it.\n\n958\n00:48:11,510 --> 00:48:14,290\nThat's not exactly easy, is it?\n\n959\n00:48:14,290 --> 00:48:18,290\nSo there's a few different ways we can go\nabout this to help users get into the data\n\n960\n00:48:18,290 --> 00:48:21,310\nthey want to get to more quickly\nthen having to navigate and find it.\n\n961\n00:48:21,310 --> 00:48:24,590\nThe bigger your network is the harder\nit becomes to use finder to connect.\n\n962\n00:48:25,660 --> 00:48:30,190\nSo instead, we can use our connect\nto server menu option up top,\n\n963\n00:48:30,190 --> 00:48:34,870\nif I go to the go menu,\nyou've got connect to server right here.\n\n964\n00:48:34,870 --> 00:48:37,870\nAnd you can choose that and\nyou can punch in a server address.\n\n965\n00:48:38,910 --> 00:48:46,380\nIf that server is using AFP, you just\ntype AFP:// followed by the server name.\n\n966\n00:48:46,380 --> 00:48:47,920\nAnd a slash and the folder name.\n\n967\n00:48:47,920 --> 00:48:50,050\nIf you leave the folder off,\nit just gives you a list of folders and\n\n968\n00:48:50,050 --> 00:48:52,020\nyou can pick what you wanna connect to.\n\n969\n00:48:52,020 --> 00:48:54,516\nBut if you put the folder name\nit will go straight to it.\n\n970\n00:48:54,516 --> 00:48:57,850\nIf it's SMB, you would just type SMB://.\n\n971\n00:48:57,850 --> 00:49:03,728\nIf it was WebDAV,\nyou would type http:// or https://.\n\n972\n00:49:03,728 --> 00:49:06,650\nWhen you go to connect,\nit will prompt you for user credentials.\n\n973\n00:49:06,650 --> 00:49:08,530\nIt'll ask you,\ndo you want to log in as guest?\n\n974\n00:49:08,530 --> 00:49:10,230\nOr do you want to log in\nas a particular user?\n\n975\n00:49:11,470 --> 00:49:12,610\nIf you can't remember the server name,\n\n976\n00:49:12,610 --> 00:49:14,470\nyou can always use the browse\noption right here.\n\n977\n00:49:14,470 --> 00:49:17,300\nI can browse and find the server this way.\n\n978\n00:49:17,300 --> 00:49:20,380\nSo there's that OSX server one,\nand we can browse in.\n\n979\n00:49:20,380 --> 00:49:21,900\nBut you'll see that's just the finder.\n\n980\n00:49:21,900 --> 00:49:22,400\nRight.\n\n981\n00:49:22,400 --> 00:49:26,500\nSo in a really large network,\nbrowse isn't a great option.\n\n982\n00:49:26,500 --> 00:49:33,050\nIf I know the server, I can just type it\nright in here, afp://osx-server1, and\n\n983\n00:49:33,050 --> 00:49:36,850\nif I leave the folder off, it'll prompt\nme, but I know what I want to connect to.\n\n984\n00:49:36,850 --> 00:49:38,990\nI wanna connect to Storage.\n\n985\n00:49:40,210 --> 00:49:42,500\nSo I'll punch that in.\n\n986\n00:49:42,500 --> 00:49:46,410\nIf you hit the plus sign,\nthat will add it to your favorites.\n\n987\n00:49:46,410 --> 00:49:49,090\nIn the future when somebody wants to\nconnect to this, all they have to do is go\n\n988\n00:49:49,090 --> 00:49:54,520\nto Go > Connect to Server, and then double\nclick on this entry in their favorites and\n\n989\n00:49:54,520 --> 00:49:57,410\nthey'll connect right to it, no having\nto navigate around to find those things.\n\n990\n00:49:57,410 --> 00:50:01,390\nI'm gonna go ahead and connect and\nhere it's gonna connect up.\n\n991\n00:50:02,860 --> 00:50:04,030\nAnd I'm in the storage folder.\n\n992\n00:50:04,030 --> 00:50:05,700\nIt doesn't look like much cuz it's empty,\nright?\n\n993\n00:50:05,700 --> 00:50:06,610\nLet me throw something in there.\n\n994\n00:50:08,350 --> 00:50:12,230\nWe'll throw in that test document\nI made just a moment ago.\n\n995\n00:50:15,810 --> 00:50:17,420\nAm I still a guest?\n\n996\n00:50:17,420 --> 00:50:18,530\nShoot.\n\n997\n00:50:18,530 --> 00:50:20,315\nIt didn't ask me for credentials did it?\n\n998\n00:50:20,315 --> 00:50:22,286\nSo,I am a guest right now.\n\n999\n00:50:22,286 --> 00:50:27,940\nWhen it connected, it did connect me\nas a guest and that's going to make it\n\n1000\n00:50:27,940 --> 00:50:32,000\nwhere I'm not able to authenticate it to\nget into that folder and actually edit it.\n\n1001\n00:50:32,000 --> 00:50:33,690\nI need to change that little connection.\n\n1002\n00:50:34,770 --> 00:50:39,750\nSo that it knows that I am,\nlet's just double check here.\n\n1003\n00:50:39,750 --> 00:50:41,810\nWhen you go to a server like\nthis one here at finder.\n\n1004\n00:50:41,810 --> 00:50:43,790\nActually it does show me as Don Pezet.\n\n1005\n00:50:43,790 --> 00:50:46,280\nI may not have set the permissions\non the folder, right?\n\n1006\n00:50:46,280 --> 00:50:47,620\nYou know I probably didn't.\n\n1007\n00:50:47,620 --> 00:50:49,330\nWhen we set up storage,\n\n1008\n00:50:49,330 --> 00:50:52,270\nremember what my permissions were I\nwent with the default on storage.\n\n1009\n00:50:52,270 --> 00:50:56,390\nWhich meant Help Desk is the owner,\nand Help Desk had read and write.\n\n1010\n00:50:56,390 --> 00:50:59,300\nStaff had read, everyone else had read.\n\n1011\n00:50:59,300 --> 00:51:00,410\nSo I have access.\n\n1012\n00:51:00,410 --> 00:51:04,110\nI am logged in as Don Pezet,\nand I just have read access.\n\n1013\n00:51:04,110 --> 00:51:06,580\nThat's why I can't copy\nmy file into there.\n\n1014\n00:51:06,580 --> 00:51:09,600\nIf I try and send it,\nI get my little slash and I can't do it.\n\n1015\n00:51:09,600 --> 00:51:10,920\nSo I need to fix my permissions.\n\n1016\n00:51:12,360 --> 00:51:15,280\nWell, I want to talk about permissions\nanyway, so this is a good lead up to it.\n\n1017\n00:51:15,280 --> 00:51:16,550\nWe'll do it in just a second.\n\n1018\n00:51:16,550 --> 00:51:18,420\nThere is one other thing\nI want to mention though,\n\n1019\n00:51:18,420 --> 00:51:22,520\nan option that I like,\nis in the finder preferences,\n\n1020\n00:51:22,520 --> 00:51:25,770\nyou can tell it to display your network\nshares right here on the desktop.\n\n1021\n00:51:25,770 --> 00:51:28,160\nAnd there's a couple reasons\nwhy you might wanna do this,\n\n1022\n00:51:28,160 --> 00:51:29,490\nlet me show you one of them.\n\n1023\n00:51:29,490 --> 00:51:33,110\nI'm gonna go up here to finder and\npreferences, and\n\n1024\n00:51:33,110 --> 00:51:36,770\nin the finder preferences you've\ngot these items on the desktop.\n\n1025\n00:51:36,770 --> 00:51:40,730\nIf you add connected\nservers as you connect up,\n\n1026\n00:51:40,730 --> 00:51:42,550\nthose things are gonna show right here.\n\n1027\n00:51:42,550 --> 00:51:43,090\nAll right?\n\n1028\n00:51:43,090 --> 00:51:46,770\nWe can see the different things that\nwe're connected to on the network.\n\n1029\n00:51:46,770 --> 00:51:49,390\nSo now if that user needs\nto save to storage for\n\n1030\n00:51:49,390 --> 00:51:53,200\nexample, they can get right to it\nwith that icon on the desktop.\n\n1031\n00:51:53,200 --> 00:51:54,510\nHere's the better part.\n\n1032\n00:51:54,510 --> 00:51:58,310\nIf i reboot my computer,\nwhat's gonna happen to that storage?\n\n1033\n00:51:58,310 --> 00:51:59,480\nIt's gonna disconnect, right?\n\n1034\n00:51:59,480 --> 00:52:01,700\nIt's not gonna reconnect automatically.\n\n1035\n00:52:01,700 --> 00:52:06,090\nBut if we take it, and\nwe put it here in our dock, or\n\n1036\n00:52:06,090 --> 00:52:09,660\nsomewhere where it's going to be saved,\nlike a link into the dock,\n\n1037\n00:52:09,660 --> 00:52:12,840\nwhen you do that, it'll actually\nreconnect every time you boot up.\n\n1038\n00:52:12,840 --> 00:52:14,450\nSo there are a few ways that\nyou can manipulate that.\n\n1039\n00:52:14,450 --> 00:52:17,280\nBut at a minimum, I like to stick it on\nthe desktop because it makes it easy for\n\n1040\n00:52:17,280 --> 00:52:19,570\nusers to be able to get in there and\nwork with that,\n\n1041\n00:52:19,570 --> 00:52:20,720\nto be able to gain access to it.\n\n1042\n00:52:22,040 --> 00:52:24,490\nAlright, but let's talk a little\nbit about permissions here.\n\n1043\n00:52:24,490 --> 00:52:27,650\nSo we can actually get some\ndata into our shared storage.\n\n1044\n00:52:27,650 --> 00:52:32,710\nIf I jump back to my server,\non my server I setup that storage folder.\n\n1045\n00:52:32,710 --> 00:52:34,620\nAnd I set it up as guest accessible, so\n\n1046\n00:52:34,620 --> 00:52:37,140\neven somebody who doesn't authenticate\nshould at least be able to get to it.\n\n1047\n00:52:37,140 --> 00:52:40,550\nI probably don't want that for\ncentral storage, but\n\n1048\n00:52:40,550 --> 00:52:43,900\neven if I authenticated I\nstill got read only access.\n\n1049\n00:52:43,900 --> 00:52:45,480\nWhy was that?\n\n1050\n00:52:45,480 --> 00:52:51,390\nIf I edit the storage folder, and look,\nhere I can see Help Desk has Read & Write,\n\n1051\n00:52:51,390 --> 00:52:54,520\nStaff has Read Only,\nEveryone Else has No Access.\n\n1052\n00:52:54,520 --> 00:52:59,720\nSo that's why I'm not able to write any\ndata in there, I need to change this.\n\n1053\n00:52:59,720 --> 00:53:02,500\nSo it's time to look at\nchanging permissions.\n\n1054\n00:53:02,500 --> 00:53:05,190\nWell when it comes to changing\npermissions for folders and\n\n1055\n00:53:05,190 --> 00:53:09,680\nshares, there's a little bit of\nconfusion that gets created.\n\n1056\n00:53:09,680 --> 00:53:13,620\nBecause on a Mac, you actually have\ntwo different types of permissions.\n\n1057\n00:53:13,620 --> 00:53:17,650\nYou have what are called\nPOSIX compliant permissions.\n\n1058\n00:53:17,650 --> 00:53:21,980\nAnd POSIX is a very very old Unix\nstandard for applying permissions.\n\n1059\n00:53:21,980 --> 00:53:25,360\nIt's part of the BSD operating system and\nit's under the hood of Mac OS, and\n\n1060\n00:53:25,360 --> 00:53:30,070\nit's a very old traditional system\nthat just doesn't scale very well.\n\n1061\n00:53:30,070 --> 00:53:34,700\nAnd then, there's the newer system which\nuses ACLs or Access Control Lists.\n\n1062\n00:53:36,120 --> 00:53:40,510\nYou support both of them, when you\ncreate a new folder like I did and\n\n1063\n00:53:40,510 --> 00:53:44,970\nyou share it, the only thing\nyou have are POSIX permission.\n\n1064\n00:53:44,970 --> 00:53:47,200\nSo let's talk about POSIX\npermissions briefly.\n\n1065\n00:53:47,200 --> 00:53:50,080\nIf you've watched the Apple Certified\nSupport Professional shows,\n\n1066\n00:53:50,080 --> 00:53:51,330\nyou've already seen this in depth.\n\n1067\n00:53:51,330 --> 00:53:53,190\nSo I don't want to spend\ntoo much time on it.\n\n1068\n00:53:53,190 --> 00:53:57,050\nIf you've never dealt with permission like\nthis before jump back to the ACSP show.\n\n1069\n00:53:57,050 --> 00:53:59,680\nWe actually did two episodes on\nfile permissions over there, so\n\n1070\n00:53:59,680 --> 00:54:01,100\ndefinitely check those out.\n\n1071\n00:54:01,100 --> 00:54:07,040\nBut just to quickly summarize it,\nin POSIX, you only have three permissions.\n\n1072\n00:54:07,040 --> 00:54:11,100\nThere's the owner, who ever owns the file,\nwhat permissions do they get.\n\n1073\n00:54:12,160 --> 00:54:17,680\nThen you get one group, just one group,\nand what permissions do they get to it?\n\n1074\n00:54:17,680 --> 00:54:21,490\nAnd then lastly you have everybody\nelse and what permissions they get.\n\n1075\n00:54:21,490 --> 00:54:25,350\nWell, what if I wanna stay\nthe owner of this HelpDesk, but\n\n1076\n00:54:25,350 --> 00:54:28,260\nI want Jane Doe specifically\nto have access?\n\n1077\n00:54:28,260 --> 00:54:31,005\nWell, you can't do that\nwith POSIX permissions.\n\n1078\n00:54:31,005 --> 00:54:32,920\nPOSIX permissions are fairly limited.\n\n1079\n00:54:32,920 --> 00:54:37,490\nYou get one owner, one group, and\nthen everybody else and that's it.\n\n1080\n00:54:38,710 --> 00:54:42,390\nNow, if you can make that fit your needs,\nthen fine.\n\n1081\n00:54:42,390 --> 00:54:44,220\nYou don't need to do anything crazy.\n\n1082\n00:54:44,220 --> 00:54:46,280\nBut often times you need more.\n\n1083\n00:54:46,280 --> 00:54:50,110\nYou need more specific permissions\nthan what POSIX can do for you.\n\n1084\n00:54:50,110 --> 00:54:52,760\nThat's where access control lists come in.\n\n1085\n00:54:52,760 --> 00:54:57,680\nACLs let us add even more information\nto this folder as far as who\n\n1086\n00:54:57,680 --> 00:54:59,040\nhas access to it.\n\n1087\n00:54:59,040 --> 00:55:00,250\nIf I take a look at this folder.\n\n1088\n00:55:00,250 --> 00:55:01,500\nLet me just fire up my terminal.\n\n1089\n00:55:02,850 --> 00:55:05,900\nAnd take a look at the Unix\npermission that are on it.\n\n1090\n00:55:07,910 --> 00:55:12,930\nAlright, so\nI'm going to go into /volumes/,\n\n1091\n00:55:12,930 --> 00:55:14,300\nor wait, where did I put that one.\n\n1092\n00:55:14,300 --> 00:55:17,108\nStorage is I think that one is\nactually in my home directory isn't?\n\n1093\n00:55:17,108 --> 00:55:22,310\n[LAUGH] Now I have to remember\nwhere I put these things.\n\n1094\n00:55:22,310 --> 00:55:26,400\nPretty sure that one's\nin the help desk folder.\n\n1095\n00:55:29,130 --> 00:55:30,500\nThere it is.\n\n1096\n00:55:30,500 --> 00:55:31,160\nAlright.\n\n1097\n00:55:31,160 --> 00:55:33,141\nSo if I do an ls -la.\n\n1098\n00:55:33,141 --> 00:55:37,470\nls is the list command, the la,\nthe a means show me all files and\n\n1099\n00:55:37,470 --> 00:55:40,160\nl means give me the long output.\n\n1100\n00:55:40,160 --> 00:55:45,530\nIn the long output for storage, I can\nsee the permissions written right here.\n\n1101\n00:55:45,530 --> 00:55:48,790\nThey're written as nine characters.\n\n1102\n00:55:48,790 --> 00:55:52,750\nThe first set of three characters, I\nguess there's ten characters technically.\n\n1103\n00:55:52,750 --> 00:55:55,250\nThis d here indicates\nthat it's a directory.\n\n1104\n00:55:55,250 --> 00:55:58,650\nIf you have a D, it's a directory\nif you have a dash it's a file.\n\n1105\n00:55:58,650 --> 00:56:00,830\nAfter that I have RWX.\n\n1106\n00:56:00,830 --> 00:56:02,480\nThat's the user.\n\n1107\n00:56:02,480 --> 00:56:03,680\nWho owns this?\n\n1108\n00:56:03,680 --> 00:56:07,720\nThe person who owns it has read,\nwrite, and execute.\n\n1109\n00:56:07,720 --> 00:56:10,770\nWell, helpdesk, that's who owns it.\n\n1110\n00:56:10,770 --> 00:56:12,620\nThe next three characters are the group.\n\n1111\n00:56:12,620 --> 00:56:15,310\nAnd I've got read and execute, not write.\n\n1112\n00:56:15,310 --> 00:56:17,330\nThey've got read only access.\n\n1113\n00:56:17,330 --> 00:56:18,550\nAnd the group is staff.\n\n1114\n00:56:18,550 --> 00:56:22,980\nAnd then lastly I have everyone else,\nand everyone else has nothing.\n\n1115\n00:56:22,980 --> 00:56:24,560\nThey get no access.\n\n1116\n00:56:24,560 --> 00:56:27,170\nThey don't get in there and that's it.\n\n1117\n00:56:27,170 --> 00:56:28,800\nThese are POSIX permissions.\n\n1118\n00:56:28,800 --> 00:56:31,580\nWhat I'm seeing right here\nare the POSIX permissions.\n\n1119\n00:56:31,580 --> 00:56:34,330\nBut notice how there's a little\nplus sign at the end of this?\n\n1120\n00:56:34,330 --> 00:56:37,000\nThat plus sign is letting\nme know that there's\n\n1121\n00:56:37,000 --> 00:56:38,990\nmore to this file than\nwhat I see on this screen.\n\n1122\n00:56:38,990 --> 00:56:39,980\nIt's like Transformers, right?\n\n1123\n00:56:39,980 --> 00:56:41,560\nMore than meets the eyes.\n\n1124\n00:56:41,560 --> 00:56:43,750\nIt's not just POSIX permissions here.\n\n1125\n00:56:43,750 --> 00:56:46,710\nI must have an ACL on it also, all right.\n\n1126\n00:56:46,710 --> 00:56:50,934\nWell, if I wanna see that,\nyou can run ls -le, and\n\n1127\n00:56:50,934 --> 00:56:55,865\nthat'll show you extended\ninformation about the folder.\n\n1128\n00:56:55,865 --> 00:57:01,760\nAnd I can see right here that I have\nan access control entry, an ACE.\n\n1129\n00:57:01,760 --> 00:57:05,150\nAn access control list is\nreally just a list of entries.\n\n1130\n00:57:05,150 --> 00:57:09,990\nAnd so here's one entry that\nsays spotlight is getting list,\n\n1131\n00:57:09,990 --> 00:57:12,210\nsearch, file_inherit, directory_inherit.\n\n1132\n00:57:12,210 --> 00:57:14,950\nIt's getting a couple of extra\npermissions on that folder.\n\n1133\n00:57:14,950 --> 00:57:18,860\nI don't see that in POSIX,\nI see it outside of POSIX, all right?\n\n1134\n00:57:18,860 --> 00:57:20,990\nIt's an ACL, it's separate.\n\n1135\n00:57:20,990 --> 00:57:24,169\nSo when I go back to that\nfolder here in the server app,\n\n1136\n00:57:24,169 --> 00:57:28,000\nif I start adding something in,\nlike if I add Don Pezet, right?\n\n1137\n00:57:28,000 --> 00:57:31,550\nI want me to have read and\nwrite access to it.\n\n1138\n00:57:31,550 --> 00:57:33,130\nNow I have two users.\n\n1139\n00:57:33,130 --> 00:57:36,390\nPOSIX doesn't support that,\nthis would blow POSIX's mind.\n\n1140\n00:57:36,390 --> 00:57:38,498\nBut ACLs do support it.\n\n1141\n00:57:38,498 --> 00:57:41,560\nAnd I could add in John Doe and\nJane Doe and whoever I want.\n\n1142\n00:57:41,560 --> 00:57:44,790\nNow I probably don't wanna\ndo that because managing\n\n1143\n00:57:44,790 --> 00:57:48,410\npermissions on a user\nbecomes a real challenge.\n\n1144\n00:57:48,410 --> 00:57:51,460\nAs I hire new employees,\nI gotta go and update permissions.\n\n1145\n00:57:51,460 --> 00:57:53,930\nIt's better to manage them with groups.\n\n1146\n00:57:53,930 --> 00:57:57,060\nSo I might create a group\ncalled Employees.\n\n1147\n00:57:57,060 --> 00:58:01,040\nSo I'm gonna come in here and\njust create a group called Employees.\n\n1148\n00:58:01,040 --> 00:58:03,750\nAnd as I hire employees I\nmight put them in here.\n\n1149\n00:58:03,750 --> 00:58:05,580\nOr if it's gonna encompass\nall of my users,\n\n1150\n00:58:05,580 --> 00:58:08,590\nthen I might just use the Workgroup\ngroup that's already made.\n\n1151\n00:58:08,590 --> 00:58:10,450\nWe already have this one\nhere called Workgroup and\n\n1152\n00:58:10,450 --> 00:58:13,640\nit contains all the users\nin our Open Directory.\n\n1153\n00:58:13,640 --> 00:58:17,490\nBut you might not want everybody,\nyou might want sales people.\n\n1154\n00:58:17,490 --> 00:58:19,050\nSo I might have a Sales People group.\n\n1155\n00:58:19,050 --> 00:58:22,150\nAnd we talked about groups in another\nepisode, but I'll just go ahead and\n\n1156\n00:58:22,150 --> 00:58:23,600\nwhip this one up real quick.\n\n1157\n00:58:23,600 --> 00:58:25,790\nSo I might have Sales People, and\n\n1158\n00:58:25,790 --> 00:58:29,820\nin Sales People I might add\nin John Doe and Jane Doe.\n\n1159\n00:58:29,820 --> 00:58:31,200\nSo I want them to have access.\n\n1160\n00:58:32,540 --> 00:58:34,310\nSo they're my sales people.\n\n1161\n00:58:34,310 --> 00:58:37,540\nWe'll get them punched in and\nthey're gonna have access to it.\n\n1162\n00:58:37,540 --> 00:58:39,720\nAll right, so there they are,\nthey're in that group.\n\n1163\n00:58:39,720 --> 00:58:41,510\nNow I can go back to that shared folder.\n\n1164\n00:58:41,510 --> 00:58:47,190\nI go to my File Sharing and Edit Storage,\nand I can add the group on here.\n\n1165\n00:58:47,190 --> 00:58:51,355\nAnd just like we saw a moment ago,\nPOSIX only supported one user,\n\n1166\n00:58:51,355 --> 00:58:52,870\nit only supported one group.\n\n1167\n00:58:52,870 --> 00:58:56,200\nNow I've got more than one user and\nI've got more than one group.\n\n1168\n00:58:56,200 --> 00:58:58,510\nI'm going well beyond\nwhat POSIX can support.\n\n1169\n00:59:00,820 --> 00:59:02,230\nWhen I say OK, it's gonna apply that.\n\n1170\n00:59:02,230 --> 00:59:06,150\nAnd if I look at that in my terminal,\nlet's see how that's changed, right?\n\n1171\n00:59:06,150 --> 00:59:07,840\nIf I do a list for\n\n1172\n00:59:07,840 --> 00:59:12,830\nthat storage folder, I can see that it\nstill has read, write, and execute for\n\n1173\n00:59:12,830 --> 00:59:17,710\nhelpdesk, read and execute for staff, and\nnothing for the everyone group, right?\n\n1174\n00:59:17,710 --> 00:59:19,919\nSo those are still the same,\nthe POSIX permissions are unchanged.\n\n1175\n00:59:21,080 --> 00:59:26,830\nBut if I do an ls -le,\nnow I can see the access control entries.\n\n1176\n00:59:26,830 --> 00:59:31,680\nAnd I have a new entry for donpezet that's\ngiving me all this additional access.\n\n1177\n00:59:31,680 --> 00:59:34,700\nRead, and write, and\nall of the control I gave it.\n\n1178\n00:59:34,700 --> 00:59:36,840\nAnd then here's that group salespeople.\n\n1179\n00:59:36,840 --> 00:59:38,670\nWe're enhancing our permissions.\n\n1180\n00:59:39,800 --> 00:59:41,420\nNow, here's the problem.\n\n1181\n00:59:41,420 --> 00:59:48,460\nSometimes an access control entry can\nconflict with the POSIX permissions.\n\n1182\n00:59:48,460 --> 00:59:51,770\nSo for example, if my group is Staff, and\n\n1183\n00:59:51,770 --> 00:59:57,360\nI have the Staff group set with no access,\nand I'm in the Staff group.\n\n1184\n00:59:57,360 --> 01:00:00,952\nWell now I've got an access control entry\nfor Don Pezet that say I get read and\n\n1185\n01:00:00,952 --> 01:00:04,510\nwrite, and I'm in the Staff group and\nthe Staff group gets no access.\n\n1186\n01:00:04,510 --> 01:00:05,880\nWhat do I get?\n\n1187\n01:00:05,880 --> 01:00:10,390\nWell, when there's a conflict\nthe access control list wins.\n\n1188\n01:00:10,390 --> 01:00:13,530\nSo whatever permissions are in the ACL,\nthey apply.\n\n1189\n01:00:13,530 --> 01:00:17,060\nSo I might have no access in\nthe POSIX permissions, but\n\n1190\n01:00:17,060 --> 01:00:18,860\nthe ACL overrides that and\nI get my access.\n\n1191\n01:00:20,020 --> 01:00:24,250\nIf there's no ACL, or there's just no\nmatch in the ACLs, like Don Pezet,\n\n1192\n01:00:24,250 --> 01:00:26,220\nI'm not listed in the ACL anywhere.\n\n1193\n01:00:26,220 --> 01:00:27,824\nIf there's no ACL or I'm not in it,\n\n1194\n01:00:27,824 --> 01:00:30,610\nthen the POSIX permissions\nare all that's left and they win.\n\n1195\n01:00:30,610 --> 01:00:33,280\nThe POSIX permissions are always\nthere we've always got those.\n\n1196\n01:00:33,280 --> 01:00:35,070\nSo they'll take effect\nif nothing else does.\n\n1197\n01:00:36,740 --> 01:00:41,080\nAll right, but now those permissions\nare set, I should have that access.\n\n1198\n01:00:41,080 --> 01:00:43,830\nAnd so if I jump back here to my Mac,\n\n1199\n01:00:43,830 --> 01:00:49,570\nwhen I browse to storage and I go to\nthat location, I should now have access.\n\n1200\n01:00:49,570 --> 01:00:50,970\nHere's the problem though.\n\n1201\n01:00:50,970 --> 01:00:55,780\nWhen you change permissions on a file,\nsometimes that takes effect right away.\n\n1202\n01:00:55,780 --> 01:00:59,770\nBut sometimes your Kerberos ticket gets\ncached and your data doesn't get updated.\n\n1203\n01:00:59,770 --> 01:01:02,320\nThis is especially true\nwhen you join a new group.\n\n1204\n01:01:02,320 --> 01:01:05,250\nSo I just put Jane and\nJohn into a new group.\n\n1205\n01:01:05,250 --> 01:01:09,280\nThat won't take effect until\nthey log out and log back in.\n\n1206\n01:01:09,280 --> 01:01:11,020\nBecause your Kerberos ticket,\n\n1207\n01:01:11,020 --> 01:01:15,130\nyour ticket granting ticket, it contains\na list of all the groups that you're in.\n\n1208\n01:01:15,130 --> 01:01:17,770\nAnd it doesn't get updated until\nyou log back in the next time.\n\n1209\n01:01:17,770 --> 01:01:19,750\nSo they'll have to log out and\nlog back in.\n\n1210\n01:01:20,960 --> 01:01:23,905\nI didn't put myself in a group though,\nI added myself specifically.\n\n1211\n01:01:23,905 --> 01:01:28,060\nSo, I am who I am,\nI should be able to copy files to it.\n\n1212\n01:01:28,060 --> 01:01:30,460\nNow I used the highly\ntechnical term of should.\n\n1213\n01:01:30,460 --> 01:01:32,400\nLet's see if it actually works for us.\n\n1214\n01:01:32,400 --> 01:01:35,210\nIf I take that test document, there we go.\n\n1215\n01:01:35,210 --> 01:01:38,370\nInstead of that slash,\nI'm now able to copy documents over there.\n\n1216\n01:01:38,370 --> 01:01:41,220\nI've got permissions to access it.\n\n1217\n01:01:41,220 --> 01:01:45,540\nNow here, it was a matter of I\njust had POSIX permissions, and\n\n1218\n01:01:45,540 --> 01:01:47,190\nI didn't have the proper access.\n\n1219\n01:01:47,190 --> 01:01:50,130\nSo we added ACL entries and that fixed it.\n\n1220\n01:01:50,130 --> 01:01:54,400\nThere are other types of problems we\nmight have, like with inheritance.\n\n1221\n01:01:54,400 --> 01:01:56,090\nNow the regular finder windows and\n\n1222\n01:01:56,090 --> 01:02:00,050\npermissions through the finder don't\nshow us a lot about inheritance.\n\n1223\n01:02:00,050 --> 01:02:02,900\nWhen you see your permissions list,\nif there's anything that's grayed out,\n\n1224\n01:02:02,900 --> 01:02:05,200\nthat means it was inherited\nfrom a folder above it.\n\n1225\n01:02:05,200 --> 01:02:08,050\nSo the parent folder had some settings,\nand now the child folder gets\n\n1226\n01:02:08,050 --> 01:02:11,180\nthose same settings, or\nthe child file gets those same settings.\n\n1227\n01:02:11,180 --> 01:02:12,950\nAnd you can add to it, but\n\n1228\n01:02:12,950 --> 01:02:15,490\nyou can't take away those permissions\nthat are being inherited.\n\n1229\n01:02:15,490 --> 01:02:18,070\nAnd so\nthat can cause some undesirable results.\n\n1230\n01:02:18,070 --> 01:02:21,080\nWell, in the Server app we\ncan override that stuff.\n\n1231\n01:02:21,080 --> 01:02:23,850\nWe can change those settings and\nmodify it how we want.\n\n1232\n01:02:23,850 --> 01:02:27,360\nNot on the screens we just saw though,\nlet me show you what I'm talking about.\n\n1233\n01:02:27,360 --> 01:02:29,610\nInside of the File Sharing app,\n\n1234\n01:02:29,610 --> 01:02:33,160\nwe only have permissions in terms of what\nthey show us here on this screen, right?\n\n1235\n01:02:33,160 --> 01:02:34,080\nSo we have these settings here.\n\n1236\n01:02:35,430 --> 01:02:37,220\nBut, if I go up to my server name,\n\n1237\n01:02:37,220 --> 01:02:41,860\nif I go up here to OSX-SERVER1,\nI've got a Storage tab.\n\n1238\n01:02:41,860 --> 01:02:45,100\nAnd most of us just use the Storage tab\nto see how full our hard drives are.\n\n1239\n01:02:45,100 --> 01:02:47,450\nNothing too crazy and special there.\n\n1240\n01:02:47,450 --> 01:02:52,020\nBut, you can navigate into your drive and\nyou can go through and\n\n1241\n01:02:52,020 --> 01:02:57,760\nfind resources, like a folder that\nyou shared or something else.\n\n1242\n01:02:57,760 --> 01:03:00,280\nAnd you can take that folder or whatever.\n\n1243\n01:03:00,280 --> 01:03:01,180\nOh, I'm in the wrong folder.\n\n1244\n01:03:01,180 --> 01:03:02,580\nLet me go into help desk.\n\n1245\n01:03:02,580 --> 01:03:03,620\nYou can take that folder and\n\n1246\n01:03:03,620 --> 01:03:07,750\nyou can do that with permissions here\nthat you can't do in the other screens.\n\n1247\n01:03:07,750 --> 01:03:09,130\nLet me show you what I mean.\n\n1248\n01:03:09,130 --> 01:03:13,420\nIf I take that storage folder,\nI can go down here to my gear and\n\n1249\n01:03:13,420 --> 01:03:15,110\nI can edit permissions.\n\n1250\n01:03:15,110 --> 01:03:16,350\nAnd here's my permissions screen.\n\n1251\n01:03:16,350 --> 01:03:19,350\nThat's not too much different than\nwhat we saw on the other one.\n\n1252\n01:03:19,350 --> 01:03:23,200\nI do see Spotlight here, whereas Spotlight\nwas hidden from the other screen.\n\n1253\n01:03:23,200 --> 01:03:25,830\nThe other screen was just showing me\nthe normal ones and leaving Spotlight off,\n\n1254\n01:03:25,830 --> 01:03:27,120\nI can see it here.\n\n1255\n01:03:27,120 --> 01:03:28,420\nAnd if I expand it out,\n\n1256\n01:03:28,420 --> 01:03:31,820\nI can see the expanded permissions\nthat are a part of that.\n\n1257\n01:03:31,820 --> 01:03:34,020\nThis is far more granular.\n\n1258\n01:03:34,020 --> 01:03:38,080\nThis is the most granular view that\nwe can get of the permissions, and\n\n1259\n01:03:38,080 --> 01:03:39,840\nwe can really tweak things.\n\n1260\n01:03:39,840 --> 01:03:42,670\nBut notice how Spotlight,\nsee how all this stuff is grayed out?\n\n1261\n01:03:42,670 --> 01:03:43,820\nWhy is it grayed out?\n\n1262\n01:03:43,820 --> 01:03:46,910\nWell, that's being inherited\nfrom a higher level.\n\n1263\n01:03:46,910 --> 01:03:48,630\nSo I can't change it.\n\n1264\n01:03:48,630 --> 01:03:52,370\nI can add to it, like I added Don Pezet,\nI added Sales People.\n\n1265\n01:03:52,370 --> 01:03:54,350\nWe can add to it if we want.\n\n1266\n01:03:54,350 --> 01:03:56,917\nBut we can't take away from\nthings that are inherited.\n\n1267\n01:03:56,917 --> 01:04:00,947\nAnd in the normal Finder view, In\nthe regular Finder view, you don't see all\n\n1268\n01:04:00,947 --> 01:04:05,910\nthis granularity and you can't really do\nmuch with the inheritance side of things.\n\n1269\n01:04:05,910 --> 01:04:07,720\nBut in the server manager we can.\n\n1270\n01:04:07,720 --> 01:04:12,510\nIf you hit the gear, notice how\nwe got Remove Inherited Entries.\n\n1271\n01:04:12,510 --> 01:04:14,010\nIt's called blocking inheritance.\n\n1272\n01:04:14,010 --> 01:04:16,940\nWe can take off all the stuff\nwe've inherited and\n\n1273\n01:04:16,940 --> 01:04:19,500\nwe can manually set whatever\npermissions we need.\n\n1274\n01:04:19,500 --> 01:04:22,800\nThat's really important if you're trying\nto secure a folder to ensure that\n\n1275\n01:04:22,800 --> 01:04:24,230\nonly authorized people can get there.\n\n1276\n01:04:25,230 --> 01:04:30,120\nYou can also do Make Inherited\nEntries Explicit and what that does,\n\n1277\n01:04:30,120 --> 01:04:35,060\nis it not just removes the inherited\nentries, but it creates a clone of them\n\n1278\n01:04:35,060 --> 01:04:40,440\nthat are defined right here at this level\nand that lets us modify them, if needed.\n\n1279\n01:04:40,440 --> 01:04:41,690\nIt gives us a starting point.\n\n1280\n01:04:41,690 --> 01:04:44,500\nIf you just choose remove inherited entry,\nit just deletes them.\n\n1281\n01:04:44,500 --> 01:04:49,170\nBut if you choose make them explicit,\nit copies them right here to this item and\n\n1282\n01:04:49,170 --> 01:04:50,850\njust removes the link to the parent.\n\n1283\n01:04:50,850 --> 01:04:52,340\nSo now you've got a lot more control.\n\n1284\n01:04:53,790 --> 01:04:56,610\nSo, those are some of the functions that\nwe have when we edit those permissions\n\n1285\n01:04:56,610 --> 01:04:59,550\nvia our Storage tab under the main server.\n\n1286\n01:04:59,550 --> 01:05:02,230\nIt's very, very detailed and powerful and\n\n1287\n01:05:02,230 --> 01:05:05,660\nit makes you, really does make you want\nto manage your permissions from here.\n\n1288\n01:05:06,890 --> 01:05:11,000\nAlso, if you've messed around with your\npermissions and things aren't working\n\n1289\n01:05:11,000 --> 01:05:14,690\nright, you might say, oh gee,\nI need to go put inheritance back.\n\n1290\n01:05:14,690 --> 01:05:16,330\nWell, you can put inheritance back.\n\n1291\n01:05:16,330 --> 01:05:16,960\nNot from this screen.\n\n1292\n01:05:16,960 --> 01:05:19,470\nIf we cancel that, and I go back here and\n\n1293\n01:05:19,470 --> 01:05:22,540\nchoose Storage,\nwhen I hit that little gear for the file.\n\n1294\n01:05:22,540 --> 01:05:26,020\nOh, it's gotta sort through the settings\nI just did, so we'll give it a second.\n\n1295\n01:05:26,020 --> 01:05:29,310\nBut when I hit that gear,\nwe'll see an option in there that lets me\n\n1296\n01:05:29,310 --> 01:05:31,650\nput the inheritance back\nto push those down.\n\n1297\n01:05:31,650 --> 01:05:34,680\nAnd we did have that if we just go,\nlike, into the regular finder and\n\n1298\n01:05:34,680 --> 01:05:36,430\nbrowse to that folder.\n\n1299\n01:05:36,430 --> 01:05:41,220\nSo if I go into My Documents and\nStorage and pull up its information.\n\n1300\n01:05:41,220 --> 01:05:43,950\nWay down here at the bottom,\nyou can come down and\n\n1301\n01:05:43,950 --> 01:05:46,500\nyou can tell it,\noh my server app crashed all together.\n\n1302\n01:05:46,500 --> 01:05:47,470\nThat's pretty awesome.\n\n1303\n01:05:47,470 --> 01:05:51,830\nBut you can come down here and you can\nchose this Apply To Enclosed Items.\n\n1304\n01:05:51,830 --> 01:05:54,090\nAnd that's basically turning\ninheritance back on.\n\n1305\n01:05:54,090 --> 01:05:56,210\nIt's saying take whatever's\non this folder and\n\n1306\n01:05:56,210 --> 01:05:58,380\napply those settings to\neverything underneath it.\n\n1307\n01:05:58,380 --> 01:06:01,720\nPut the inheritance back and\nit puts it in place.\n\n1308\n01:06:01,720 --> 01:06:05,830\nSo kinda curious why my server app\ncrashed there but we can go back into it.\n\n1309\n01:06:05,830 --> 01:06:08,870\nAnd I'll show you the option\nin the server app.\n\n1310\n01:06:08,870 --> 01:06:10,260\nIt's really the same one.\n\n1311\n01:06:10,260 --> 01:06:13,730\nThe Finder screen doesn't give you\na good way to remove inheritance,\n\n1312\n01:06:13,730 --> 01:06:14,930\nthe Server app does.\n\n1313\n01:06:14,930 --> 01:06:16,940\nBut they both give you a way\nto put inheritance back.\n\n1314\n01:06:16,940 --> 01:06:19,340\nAll right.\n\n1315\n01:06:19,340 --> 01:06:24,370\nSo, I'm just going to jump back in there\nand I'll take that folder that I was\n\n1316\n01:06:24,370 --> 01:06:29,590\nin a moment ago, which was under\nHelpdesk > Documents > Storage.\n\n1317\n01:06:29,590 --> 01:06:30,090\nThat guy.\n\n1318\n01:06:31,890 --> 01:06:34,570\nAnd I was trying to hit my\nlittle gear menu, there we go.\n\n1319\n01:06:34,570 --> 01:06:38,000\nAnd you'll see here it's\ncalled Propagate Permissions.\n\n1320\n01:06:38,000 --> 01:06:41,290\nPropagate permissions says take\nthe permissions on the storage folder and\n\n1321\n01:06:41,290 --> 01:06:43,000\napply them to everything underneath.\n\n1322\n01:06:43,000 --> 01:06:43,860\nSame effect.\n\n1323\n01:06:43,860 --> 01:06:47,190\nJust applies those permissions and\nputs inheritance back in place.\n\n1324\n01:06:47,190 --> 01:06:51,310\nSo neat stuff that we can work with right\nhere inside of that server manager.\n\n1325\n01:06:54,052 --> 01:06:57,110\nAll right now, I started off this segment\ntalking about getting our clients\n\n1326\n01:06:57,110 --> 01:06:59,840\nconnected and we did connect a Mac client.\n\n1327\n01:06:59,840 --> 01:07:02,540\nIt's there, it's up, it's running,\nit's using its own directory.\n\n1328\n01:07:02,540 --> 01:07:05,710\nIt can access the storage folder so\nI threw some stuff in there.\n\n1329\n01:07:05,710 --> 01:07:08,840\nBut one thing I didn't do,\nwas use a non-Mac client.\n\n1330\n01:07:08,840 --> 01:07:12,520\nSo, next, I want to show you guys\nconnecting up with a Windows machine, and\n\n1331\n01:07:12,520 --> 01:07:13,910\nsee how they get connected.\n\n1332\n01:07:13,910 --> 01:07:17,290\nFor that storage share,\nI chose to enable SMB.\n\n1333\n01:07:17,290 --> 01:07:18,870\nFor the home directories, I didn't.\n\n1334\n01:07:18,870 --> 01:07:19,559\nI just did AFP on those.\n\n1335\n01:07:19,559 --> 01:07:22,382\nBut, for the storage, I did do SMB.\n\n1336\n01:07:22,382 --> 01:07:24,090\nSo a Windows machine\nshould be able to connect.\n\n1337\n01:07:24,090 --> 01:07:27,820\nWe'll take a look at that, but\nlet's pause for a break right now.\n\n1338\n01:07:27,820 --> 01:07:30,360\nWhen we get back, we'll get\na chance to see Windows and then,\n\n1339\n01:07:30,360 --> 01:07:31,330\nwe'll rap the show up from there.\n\n1340\n01:07:31,330 --> 01:07:32,370\nStay tuned.\n\n1341\n01:07:32,370 --> 01:07:34,810\nWe'll be back after this.\n\n1342\n01:07:34,810 --> 01:07:39,946\n[SOUND] So in this last segment,\nwe're gonna take a look at\n\n1343\n01:07:39,946 --> 01:07:45,518\ngetting a non-Mac connected up\nto one of these file sharers.\n\n1344\n01:07:45,518 --> 01:07:49,790\nRemember when we created the share point\nin the server app we had that choice.\n\n1345\n01:07:49,790 --> 01:07:53,290\nDid we want to support AFP,\nor SMB, or WebDAV, or\n\n1346\n01:07:53,290 --> 01:07:55,900\nany mixture of the three we can choose.\n\n1347\n01:07:55,900 --> 01:07:58,840\nWell when I created that storage share,\nI went ahead and set it so\n\n1348\n01:07:58,840 --> 01:08:01,750\nthat we'd support SMB,\nthe Server Message Block.\n\n1349\n01:08:01,750 --> 01:08:05,640\nSo I should be able to go to any\nclient that supports SMB and connect.\n\n1350\n01:08:05,640 --> 01:08:07,910\nSo a Linux machine running Samba or\n\n1351\n01:08:07,910 --> 01:08:10,520\nany Windows machine should\nbe able to get to it.\n\n1352\n01:08:10,520 --> 01:08:11,930\nWell, let's test that out.\n\n1353\n01:08:11,930 --> 01:08:15,580\nNow Windows machines don't run Bonjour\nby default, although you can install it.\n\n1354\n01:08:16,630 --> 01:08:18,320\nSo the discovery may or may not work.\n\n1355\n01:08:18,320 --> 01:08:20,930\nIf the discovery doesn't work\nyou might have to manually type\n\n1356\n01:08:20,930 --> 01:08:22,550\nin the server name to get to it.\n\n1357\n01:08:22,550 --> 01:08:24,660\nBut let's just test\nthe discovery side of things.\n\n1358\n01:08:24,660 --> 01:08:27,580\nThis is a Windows 8.1 installed here,\nand I have not installed\n\n1359\n01:08:27,580 --> 01:08:31,860\nany third party software on it aside\nfrom the parallels for machine tools.\n\n1360\n01:08:31,860 --> 01:08:37,460\nSo I'm going to go ahead and just kind\nof browse through their explorer.\n\n1361\n01:08:37,460 --> 01:08:40,470\nAnd as you browse in the explorer you'll\nsee this option to go to the network.\n\n1362\n01:08:40,470 --> 01:08:45,290\nAnd it's going to look out of the network\ntrying to find Windows file servers.\n\n1363\n01:08:45,290 --> 01:08:48,530\nWell there's OSX-SERVER1 right there.\n\n1364\n01:08:48,530 --> 01:08:52,680\nIt sees the Mac server because\nthe Mac server's running SMB.\n\n1365\n01:08:52,680 --> 01:08:54,270\nIt sees it and\nthinks its a Windows server.\n\n1366\n01:08:54,270 --> 01:08:55,510\nIt actually doesn't even\nknow that it's a Mac.\n\n1367\n01:08:56,580 --> 01:09:00,930\nAnd when you double-click on it to browse\ninto it, well, if this is the first time\n\n1368\n01:09:00,930 --> 01:09:03,510\nyou connect, it's going to prompt you for\na user name and a password.\n\n1369\n01:09:03,510 --> 01:09:05,730\nAnd I've apparently connected before so\nit's not prompting me.\n\n1370\n01:09:05,730 --> 01:09:07,840\nBut it would normally ask you for\nthat user name and password.\n\n1371\n01:09:07,840 --> 01:09:08,920\nAll right.\n\n1372\n01:09:08,920 --> 01:09:13,150\nWhen you get connected, now you'll see\nthe list of folders you can get to.\n\n1373\n01:09:13,150 --> 01:09:16,910\nAnd I see things like storage and\nDon Pezet and Help Desk Public Folder.\n\n1374\n01:09:16,910 --> 01:09:19,410\nI'm seeing each of the different\nitems that are on there.\n\n1375\n01:09:19,410 --> 01:09:24,080\nAnd I can browse to storage and there's\nthat Test Document that we made earlier.\n\n1376\n01:09:24,080 --> 01:09:28,670\nNow if I go to edit that I'll just open it\nup and let's see if it's working for us.\n\n1377\n01:09:28,670 --> 01:09:30,490\nit's gonna reach out to that server and\ncopy it down.\n\n1378\n01:09:30,490 --> 01:09:31,690\nAnd there it is.\n\n1379\n01:09:31,690 --> 01:09:34,050\nI can see, This is a simple document.\n\n1380\n01:09:34,050 --> 01:09:38,910\nNow, I'm accessing the same resources\non that server as the Mac is.\n\n1381\n01:09:38,910 --> 01:09:42,421\nSo now, I can have Macs and Windows\nmachines all playing together nicely,\n\n1382\n01:09:42,421 --> 01:09:45,400\naccessing resources and being friendly.\n\n1383\n01:09:45,400 --> 01:09:48,540\nNow be aware,\nthere are some issues that can creep up.\n\n1384\n01:09:48,540 --> 01:09:51,070\nFor example, if I create just\na straight-up text document.\n\n1385\n01:09:51,070 --> 01:09:53,420\nLet me do a text document.\n\n1386\n01:09:53,420 --> 01:09:59,190\nAnd I'll call this one\nExample of Problems.txt.\n\n1387\n01:09:59,190 --> 01:10:00,912\nThere we go.\n\n1388\n01:10:00,912 --> 01:10:06,500\nAnd let me just put in here,\nThis is a multi line document.\n\n1389\n01:10:07,880 --> 01:10:11,140\nWindows machines,\nat the end of every line,\n\n1390\n01:10:11,140 --> 01:10:15,170\nthey do what's called a carriage\nreturn and a line feed.\n\n1391\n01:10:15,170 --> 01:10:16,450\nMacs don't do that.\n\n1392\n01:10:16,450 --> 01:10:20,790\nMacs, they run on top of Unix and in the\nUnix world they just do a carriage return,\n\n1393\n01:10:20,790 --> 01:10:22,080\nthey don't do a line feed.\n\n1394\n01:10:22,080 --> 01:10:23,830\nIts a different way of doing things.\n\n1395\n01:10:23,830 --> 01:10:28,770\nWell, when I write that file here on side\nof Windows and I switch over to a Mac,\n\n1396\n01:10:30,000 --> 01:10:34,890\nI can find the example of problems\nfiles right there, I can edit that.\n\n1397\n01:10:34,890 --> 01:10:42,070\nSo I'll just open that up and\nThis is another set of lines.\n\n1398\n01:10:42,070 --> 01:10:44,830\nSo, I'll just add those in there and\nsave it.\n\n1399\n01:10:44,830 --> 01:10:49,260\nSo, I've just written all those lines out,\nand I can see that it's now five lines.\n\n1400\n01:10:49,260 --> 01:10:53,990\nWell, if I jump over to the Windows side\nagain, and I go back to that server,\n\n1401\n01:10:53,990 --> 01:10:58,050\nwhich I probably should've mapped so\nI could get to it faster but, here we go.\n\n1402\n01:10:58,050 --> 01:11:00,910\nAnd I take that Example of\nProblems file and open it up.\n\n1403\n01:11:00,910 --> 01:11:03,390\nSee how the Mac stuff is all on one line?\n\n1404\n01:11:03,390 --> 01:11:05,330\nIt's because of those\ndifferent carriage returns.\n\n1405\n01:11:05,330 --> 01:11:10,180\nSo we can share a folder like this\nbetween the different systems.\n\n1406\n01:11:10,180 --> 01:11:13,850\nBut, some file formats\ndon't play nice with that.\n\n1407\n01:11:13,850 --> 01:11:16,970\nWord documents, binary formats,\nthose are all fine.\n\n1408\n01:11:16,970 --> 01:11:21,030\nBut raw text files can get mangled\na little bit when they go between them.\n\n1409\n01:11:21,030 --> 01:11:23,310\nNow, the problem here is actually Notepad,\n\n1410\n01:11:23,310 --> 01:11:26,810\nthis program that I'm using in Windows,\nisn't designed to support that.\n\n1411\n01:11:26,810 --> 01:11:30,070\nIf I were to open it in\nanother program like WordPad.\n\n1412\n01:11:30,070 --> 01:11:31,770\nFire up WordPad.\n\n1413\n01:11:31,770 --> 01:11:35,510\nWordPad is smarter, and it recognizes,\noh this one's in a UNIX format, and\n\n1414\n01:11:35,510 --> 01:11:40,090\nit puts the line feeds in\nplace like it's supposed to.\n\n1415\n01:11:40,090 --> 01:11:43,500\nThat's the difference between\nthe two applications, and\n\n1416\n01:11:43,500 --> 01:11:45,840\nit's a problem you'll bump\ninto with Windows machines.\n\n1417\n01:11:45,840 --> 01:11:49,870\nIt's not a problem with SMB,\nit's not a problem with the file share or\n\n1418\n01:11:49,870 --> 01:11:50,610\nreally the file itself.\n\n1419\n01:11:50,610 --> 01:11:52,790\nIt's a problem with the operating systems.\n\n1420\n01:11:52,790 --> 01:11:57,472\nMac OS and Windows just use a different\nway for signalling the end of a line,\n\n1421\n01:11:57,472 --> 01:12:00,090\nand It ends up causing some issues there.\n\n1422\n01:12:00,090 --> 01:12:03,962\nBut as far as being able to access\nthe same folder and work in the same data,\n\n1423\n01:12:03,962 --> 01:12:04,820\nwe can do that.\n\n1424\n01:12:04,820 --> 01:12:06,940\nThe Windows machine connected just fine.\n\n1425\n01:12:08,460 --> 01:12:13,130\nNow, back in my server, if I wanna\nknow who's connected to my system and\n\n1426\n01:12:13,130 --> 01:12:15,840\nwhether there's actually people\nin there able to use it.\n\n1427\n01:12:15,840 --> 01:12:17,120\nYou can see all that.\n\n1428\n01:12:17,120 --> 01:12:20,220\nIf you back down to\nthe file sharing service.\n\n1429\n01:12:20,220 --> 01:12:23,130\nThere's another tab up here,\nwhere it says connected users.\n\n1430\n01:12:23,130 --> 01:12:27,160\nYou can see all the people connected\ninto your system right now.\n\n1431\n01:12:27,160 --> 01:12:29,430\nYou can see what protocol they're using.\n\n1432\n01:12:29,430 --> 01:12:31,910\nThese guys right here,\nwhere it says Don Pezet.\n\n1433\n01:12:31,910 --> 01:12:33,951\nThese are connections from my Mac.\n\n1434\n01:12:33,951 --> 01:12:35,333\nThey're AFP.\n\n1435\n01:12:35,333 --> 01:12:39,900\nThis one right here, 10.211.55.202,\nthat's my Windows machine.\n\n1436\n01:12:39,900 --> 01:12:42,950\nAnd I can see that I'm logged\nin as this longer name.\n\n1437\n01:12:42,950 --> 01:12:45,960\nWindows likes to put the computer\nname before the user name.\n\n1438\n01:12:45,960 --> 01:12:48,610\nAnd then I can see type SMB.\n\n1439\n01:12:48,610 --> 01:12:50,440\nIt's connected using Server Message Block.\n\n1440\n01:12:50,440 --> 01:12:53,890\nYou can see what protocol people\nare using to connect to your system.\n\n1441\n01:12:53,890 --> 01:12:56,790\nAnd ensure that they are getting in there.\n\n1442\n01:12:56,790 --> 01:12:59,150\nIf you're going to be\nshutting this server down,\n\n1443\n01:12:59,150 --> 01:13:00,840\nthese are the people you need\nto call on the phone and say,\n\n1444\n01:13:00,840 --> 01:13:04,440\nhey I'm gonna be shutting down the server\nyou need to get out of the system.\n\n1445\n01:13:04,440 --> 01:13:08,230\nAnd you can kick people out, I could take\nlike that one and just hit disconnect, and\n\n1446\n01:13:08,230 --> 01:13:12,280\nit's gonna kick them out of the server,\nand that'll stop that session.\n\n1447\n01:13:12,280 --> 01:13:17,500\nIf they have any open files at that point,\nthen they might lose their data and\n\n1448\n01:13:17,500 --> 01:13:20,210\nsome operating systems like Windows,\ndid you see what it did?\n\n1449\n01:13:20,210 --> 01:13:22,100\nIt just turned right around and reconnect.\n\n1450\n01:13:22,100 --> 01:13:25,320\nIt'll reconnect automatically cuz it\nthinks a network outage happened, so\n\n1451\n01:13:25,320 --> 01:13:27,780\nthe disconnect button doesn't always work.\n\n1452\n01:13:27,780 --> 01:13:30,710\nIf you truly wanna get people\noutta your system, you just\n\n1453\n01:13:30,710 --> 01:13:34,270\nflip that old off switch right there and\nthey're out but they will lose data.\n\n1454\n01:13:34,270 --> 01:13:36,940\nIf they were working something, they\nwon't be able to save it to the network\n\n1455\n01:13:36,940 --> 01:13:39,290\nshare at that point and\nthat's gonna cause some problems.\n\n1456\n01:13:40,650 --> 01:13:42,210\nIt won't cause you any problems,\nexcept for\n\n1457\n01:13:42,210 --> 01:13:44,350\nthe phone calls you get\nfrom people who are angry.\n\n1458\n01:13:44,350 --> 01:13:47,760\nIt'll cause them a lot of problems,\nall right.\n\n1459\n01:13:47,760 --> 01:13:53,010\nSetting up a share point inside of Mac OS\nserver, whatever product we're using here.\n\n1460\n01:13:53,010 --> 01:13:55,200\nPretty straightforward.\n\n1461\n01:13:55,200 --> 01:13:56,350\nPermissions are a big deal.\n\n1462\n01:13:56,350 --> 01:13:57,870\nYou gotta make sure you get those set.\n\n1463\n01:13:57,870 --> 01:14:00,810\nAnd there's a lot of really\nneat options in there.\n\n1464\n01:14:00,810 --> 01:14:02,160\nTo be able to tail those permissions.\n\n1465\n01:14:02,160 --> 01:14:05,090\nSet up home directories and\nget that data exchange.\n\n1466\n01:14:05,090 --> 01:14:07,580\nThe key thing to take away\nfrom this section though,\n\n1467\n01:14:07,580 --> 01:14:10,650\nis that we have multi-operating\nsystems support.\n\n1468\n01:14:10,650 --> 01:14:15,190\nYou can share folders and\nfiles with systems other than MAC OS.\n\n1469\n01:14:15,190 --> 01:14:18,650\nIf you're working in a hybrid environment\nwith Linux boxes and Windows, and\n\n1470\n01:14:18,650 --> 01:14:21,500\nMAC OS, they can all play nice together.\n\n1471\n01:14:21,500 --> 01:14:24,540\nSMB is really the key to that one,\nthey all support it and\n\n1472\n01:14:24,540 --> 01:14:26,520\nthey can communicate and use it.\n\n1473\n01:14:26,520 --> 01:14:30,640\nJust be aware of things like Time Machine\ndon't work so well on SMB, so\n\n1474\n01:14:30,640 --> 01:14:34,450\nyou lose some of the file versioning, but\nthe compatibility is normally worth it.\n\n1475\n01:14:34,450 --> 01:14:36,050\nBeing able to support those other systems.\n\n1476\n01:14:38,170 --> 01:14:39,980\nAt the end of the day though,\nthat's basically it.\n\n1477\n01:14:39,980 --> 01:14:43,540\nWe set up our file shares, we get them all\nin place, and this is usually one of those\n\n1478\n01:14:43,540 --> 01:14:47,150\ntechnologies that we set it and forget it\nlike the rotisserie chicken commercial.\n\n1479\n01:14:47,150 --> 01:14:49,660\nWe just put it in place,\nand that's the end, so.\n\n1480\n01:14:49,660 --> 01:14:51,760\nWe'll probably wrap it up right there.\n\n1481\n01:14:51,760 --> 01:14:55,160\nI do wanna remind you guys,\nif you have questions on any of this,\n\n1482\n01:14:55,160 --> 01:14:56,490\nplease feel free to ask.\n\n1483\n01:14:56,490 --> 01:14:59,230\nLive during the show you can\ngo to itpro.tv/live, and\n\n1484\n01:14:59,230 --> 01:15:02,855\nyou'll see the the chat box right beneath\nthe video, post your questions there.\n\n1485\n01:15:02,855 --> 01:15:04,655\nWe monitor and answer during the show.\n\n1486\n01:15:04,655 --> 01:15:08,595\nIf you have any questions after the show,\nuse our Q&A forums.\n\n1487\n01:15:08,595 --> 01:15:12,289\nAt the top of every page on the ITProTV\nsite, you'll see a link that says Q&A.\n\n1488\n01:15:12,289 --> 01:15:13,671\nIt'll take you to the forums.\n\n1489\n01:15:13,671 --> 01:15:16,771\nPost your question there,\nwe monitor and answer after the show.\n\n1490\n01:15:16,771 --> 01:15:20,056\nThey're all great places to go to get\nthe answers to the questions you have.\n\n1491\n01:15:20,056 --> 01:15:22,889\nTake advantage of that\nresource it's there for you.\n\n1492\n01:15:22,889 --> 01:15:25,270\nWell, I hope you guys\nenjoyed today's episode.\n\n1493\n01:15:25,270 --> 01:15:29,495\nSigning off for ITProTV, I'm Don Pezet,\nand I'll see you next time.\n\n1494\n01:15:29,495 --> 01:15:39,495\n[MUSIC]\n\n",
          "vimeoId": "122751923"
        }
      ],
      "title": "Sharing Files"
    },
    {
      "episodes": [
        {
          "description": null,
          "length": "1974",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-5-1-caching_server-042115-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-5-1-caching_server-042115-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-5-1-caching_server-042115-1-sm.jpg",
          "title": "Caching Server",
          "transcript": "1\n00:00:00,020 --> 00:00:10,020\n[MUSIC]\n\n2\n00:00:14,938 --> 00:00:22,044\n[SOUND]\n\n3\n00:00:22,044 --> 00:00:32,924\n[MUSIC]\n\n4\n00:00:32,924 --> 00:00:33,586\nAll right.\n\n5\n00:00:33,586 --> 00:00:35,284\nGood morning, good afternoon,\nand good evening.\n\n6\n00:00:35,284 --> 00:00:37,746\nWelcome back to another\nepisode of ITProTV.\n\n7\n00:00:37,746 --> 00:00:39,258\nI'm your host, Don Pezet,\n\n8\n00:00:39,258 --> 00:00:44,000\nback again with another episode of\nthe Apple Certified Technical Coordinator.\n\n9\n00:00:44,000 --> 00:00:46,840\nToday we're gonna be jumping into\na special topic,cuz this is one of\n\n10\n00:00:46,840 --> 00:00:50,620\nthe neater technologies, is a part\nof the server system in Yosemite.\n\n11\n00:00:50,620 --> 00:00:52,660\nAnd that is the caching server.\n\n12\n00:00:52,660 --> 00:00:55,870\nThe caching server is one of those\nreally neat functions because it's so\n\n13\n00:00:55,870 --> 00:00:56,830\neasy to implement.\n\n14\n00:00:56,830 --> 00:00:59,110\nOf all the technologies\nwe cover in this show,\n\n15\n00:00:59,110 --> 00:01:02,030\nthis one is dead simple\nto get functioning.\n\n16\n00:01:02,030 --> 00:01:05,760\nBut before we jump into that,\nwhat is the caching server?\n\n17\n00:01:05,760 --> 00:01:10,050\nA lot of our computers reach out and\ndownload content from the Internet.\n\n18\n00:01:10,050 --> 00:01:11,830\nWe download things from\nthe Internet every day.\n\n19\n00:01:11,830 --> 00:01:14,200\nevery time we install a new application,\n\n20\n00:01:14,200 --> 00:01:17,360\na software update comes out\nwe're downloading content.\n\n21\n00:01:17,360 --> 00:01:20,670\nWell, if you just had a single\nmachine like my laptop right here.\n\n22\n00:01:20,670 --> 00:01:24,800\nIf a new update comes out from Apple and\nit's 2 gigs in size,\n\n23\n00:01:24,800 --> 00:01:29,290\nlike the Yosemite 10.10.3\nupdate just came out last week.\n\n24\n00:01:29,290 --> 00:01:32,880\nSo that update is 2 gigabytes in size.\n\n25\n00:01:32,880 --> 00:01:36,690\nIf I download on my laptop, 2 gig, so\nit'll take a few minutes to download.\n\n26\n00:01:36,690 --> 00:01:38,820\nAnd once it's done,\nI install it and I'm done.\n\n27\n00:01:38,820 --> 00:01:39,400\nRight?\nNo big deal.\n\n28\n00:01:40,410 --> 00:01:43,010\nBut what if I have a 100 laptops, or\n\n29\n00:01:43,010 --> 00:01:46,660\n1000 laptops, or\nI've got some desktops in mix too, right?\n\n30\n00:01:46,660 --> 00:01:48,650\nWe have some MAC pros or something.\n\n31\n00:01:48,650 --> 00:01:53,900\nWell if you've got thousands of machines,\nthey're all going out to Apple,\n\n32\n00:01:53,900 --> 00:01:57,540\nand they're all downloading\nthat 2 gigabyte update.\n\n33\n00:01:57,540 --> 00:02:00,020\nSo now you take that 2 gigs\nthat you're downloading and\n\n34\n00:02:00,020 --> 00:02:01,510\nyou multiply it by a hundred or\na thousand,\n\n35\n00:02:01,510 --> 00:02:04,520\nand you're talking about terabytes\nof data that you're downloading.\n\n36\n00:02:04,520 --> 00:02:05,640\nIt's a lot of bandwidth.\n\n37\n00:02:05,640 --> 00:02:08,260\nAll right.\nIt's a lot of resources on the network.\n\n38\n00:02:08,260 --> 00:02:09,640\nAnd it's not just updates.\n\n39\n00:02:09,640 --> 00:02:12,190\nIt's things like App Store apps, right?\n\n40\n00:02:12,190 --> 00:02:15,520\nAnything you pull out of\nthe App Store those, they add up.\n\n41\n00:02:15,520 --> 00:02:20,320\nAnd if you're a school or an enterprise,\nyou can really hurt your bandwidth by\n\n42\n00:02:20,320 --> 00:02:24,070\ndoing repetitious downloads,\nover and over and over again.\n\n43\n00:02:24,070 --> 00:02:27,170\nSo, what the cashing server\ndoes is it helps with that.\n\n44\n00:02:27,170 --> 00:02:30,700\nIt allows us to set up a server,\njust a machine running OS 10,\n\n45\n00:02:30,700 --> 00:02:32,770\nthat's running the cashing service.\n\n46\n00:02:32,770 --> 00:02:36,430\nAnd, the first time\nsomebody gets an update,\n\n47\n00:02:36,430 --> 00:02:37,380\nit's going to go out to the internet.\n\n48\n00:02:37,380 --> 00:02:39,490\nIt's going to go out to Apple and\ndownload that update.\n\n49\n00:02:39,490 --> 00:02:43,170\nBut at the same time,\nthe cache server will grab a copy of it.\n\n50\n00:02:43,170 --> 00:02:45,390\nIt'll hold a copy of that data.\n\n51\n00:02:45,390 --> 00:02:49,560\nAnd from then on if anybody else\ngoes out to get that same update,\n\n52\n00:02:49,560 --> 00:02:52,740\ninstead of going out to the Internet,\ninstead of going all the way out to Apple,\n\n53\n00:02:52,740 --> 00:02:56,850\nthey can get it right from your own\nserver, right there local on network.\n\n54\n00:02:56,850 --> 00:02:59,260\nThat has two big benefits, right.\n\n55\n00:02:59,260 --> 00:03:02,380\nThe biggest benefit for us as\nAdministrators is it saves band width.\n\n56\n00:03:02,380 --> 00:03:05,620\nIt says, hey if I got a hundred people,\ndon't let them all go onto the Internet.\n\n57\n00:03:05,620 --> 00:03:06,940\nThe first person goes to the Internet.\n\n58\n00:03:06,940 --> 00:03:09,720\nThe other 99 pull it from a local server.\n\n59\n00:03:09,720 --> 00:03:11,330\nThat frees up Internet band width, right.\n\n60\n00:03:11,330 --> 00:03:13,230\nThat's our number one benefit.\n\n61\n00:03:13,230 --> 00:03:16,040\nBut our number two benefit,\nis it's faster for the end user.\n\n62\n00:03:17,190 --> 00:03:20,480\nYour Internet connection is typically\nslower than your local area network.\n\n63\n00:03:20,480 --> 00:03:24,090\nSo for example here in the studio,\nwe have an 80 megabit Internet connection.\n\n64\n00:03:24,090 --> 00:03:25,520\nNow that's pretty fast.\n\n65\n00:03:25,520 --> 00:03:27,270\nAl least for me that's fast.\n\n66\n00:03:27,270 --> 00:03:30,220\nSo 80 megabit,\nI can download things pretty fast.\n\n67\n00:03:30,220 --> 00:03:33,160\nHere on the local network,\nwe're on a gigabit network.\n\n68\n00:03:33,160 --> 00:03:36,300\nSo if the update is already stored on\na server right here I can get it at\n\n69\n00:03:36,300 --> 00:03:40,190\na gigabit speed, as opposed to the 80\nmegabits I get going out to the Internet,\n\n70\n00:03:40,190 --> 00:03:44,150\nand probably even less than that going to\nApple, especially if it's a new update and\n\n71\n00:03:44,150 --> 00:03:46,200\ntheir servers are getting hit really hard.\n\n72\n00:03:46,200 --> 00:03:50,760\nSo a caching server helps to\nbasically get us our updates faster,\n\n73\n00:03:50,760 --> 00:03:52,440\nwhile at the same time saving bandwidth.\n\n74\n00:03:53,470 --> 00:03:55,920\nNow, there are some limitations\nto the caching server.\n\n75\n00:03:55,920 --> 00:03:57,320\nIt can't cache everything.\n\n76\n00:03:57,320 --> 00:03:58,080\nAnd you don't want it to.\n\n77\n00:03:58,080 --> 00:04:01,210\nThere's a lot of people that\ndo caching of web pages, but\n\n78\n00:04:01,210 --> 00:04:03,600\nmost web pages these day are dynamic.\n\n79\n00:04:03,600 --> 00:04:04,440\nThey change.\n\n80\n00:04:04,440 --> 00:04:08,380\nIf you go to CNN now, or\nwhatever news site you go to,\n\n81\n00:04:08,380 --> 00:04:10,660\nyou're gonna see a set of current news.\n\n82\n00:04:10,660 --> 00:04:12,690\nIf you go five minutes later,\nthere might be new articles.\n\n83\n00:04:12,690 --> 00:04:13,640\nYou don't want to cache that.\n\n84\n00:04:13,640 --> 00:04:14,270\nYou want the latest.\n\n85\n00:04:14,270 --> 00:04:16,780\nYou want the newest news available.\n\n86\n00:04:16,780 --> 00:04:19,830\nSo the caching server\ndoesn't try to be everything.\n\n87\n00:04:19,830 --> 00:04:24,320\nIt just focuses on things that\nApple knows are okay to cache,\n\n88\n00:04:24,320 --> 00:04:27,360\nthat are things that you'll\nwant to be able to save.\n\n89\n00:04:27,360 --> 00:04:28,910\nLet me show you the web page.\n\n90\n00:04:28,910 --> 00:04:31,770\nApple has some tech\ndocumentation posted and\n\n91\n00:04:31,770 --> 00:04:34,640\nI'll post the link to this to\nthe show after the episode.\n\n92\n00:04:34,640 --> 00:04:38,480\nBut they list out all the different\ncontent that the caching server is capable\n\n93\n00:04:38,480 --> 00:04:39,440\nof storing.\n\n94\n00:04:39,440 --> 00:04:42,480\nAnd you'll see it's quite\na collection of things.\n\n95\n00:04:42,480 --> 00:04:46,380\nI call up updates,\ncuz those are usually the biggest things.\n\n96\n00:04:46,380 --> 00:04:49,850\nThat 10.10.3 right now,\nit's 2 GB in size, and\n\n97\n00:04:49,850 --> 00:04:52,730\nall of your machines are gonna\nneed that 2 gigabytes of data.\n\n98\n00:04:52,730 --> 00:04:54,800\nThat's a big chunk of data.\n\n99\n00:04:54,800 --> 00:04:59,230\nBut it caches other things,\nlike iTunes purchases and iBooks.\n\n100\n00:04:59,230 --> 00:05:03,970\nSo if you buy an iBook and it downloads,\nyou might be thinking well it's six MGs or\n\n101\n00:05:03,970 --> 00:05:04,560\nsomething like that.\n\n102\n00:05:04,560 --> 00:05:06,550\nIt's not a big file, who cares.\n\n103\n00:05:06,550 --> 00:05:09,160\nBut if you're about to roll\nout to 1000 students or\n\n104\n00:05:09,160 --> 00:05:11,980\n1000 employees,\nthat 6 Megs starts to add up.\n\n105\n00:05:11,980 --> 00:05:14,030\nSo that purchase can be backed up.\n\n106\n00:05:14,030 --> 00:05:17,190\nFor colleges or universities,\nhigh schools, elementary schools,\n\n107\n00:05:17,190 --> 00:05:19,830\nthat's a really beneficial thing to have.\n\n108\n00:05:19,830 --> 00:05:20,890\niTunes.\n\n109\n00:05:20,890 --> 00:05:24,950\nThis includes movies, so if you've\npurchased a movie and it's gonna be\n\n110\n00:05:24,950 --> 00:05:28,240\navailable on multiple machines,\nthe caching server can help with that.\n\n111\n00:05:28,240 --> 00:05:32,370\nSo any kind of iOS app purchase,\nany other bookstore content and\n\n112\n00:05:32,370 --> 00:05:34,080\nso on, that's gonna be included in there.\n\n113\n00:05:34,080 --> 00:05:37,180\nAnd notice that it's both iOS and\nMavericks.\n\n114\n00:05:37,180 --> 00:05:40,670\nRemember the ACTC is really is\nreally centering around OS 10.\n\n115\n00:05:40,670 --> 00:05:41,920\nWe're supporting OS 10.\n\n116\n00:05:41,920 --> 00:05:45,140\nBut a lot of you guys are going\nto have iPads and iPhones.\n\n117\n00:05:45,140 --> 00:05:48,860\nWell, the iPads and\niPhones can use the caching server, also.\n\n118\n00:05:48,860 --> 00:05:51,250\nSo again,\ngoing back to that school example.\n\n119\n00:05:51,250 --> 00:05:53,620\nMaybe you've got a bunch of iPads for\nyour students and\n\n120\n00:05:53,620 --> 00:05:55,820\nthey're all pulling down some textbook.\n\n121\n00:05:55,820 --> 00:05:58,380\nWell, they can leverage\nthat caching server, and\n\n122\n00:05:58,380 --> 00:06:01,590\nit's the same caching server that\nyour OS X 10 machines are using.\n\n123\n00:06:01,590 --> 00:06:03,420\nThat makes it really flexible and\neasy to deploy.\n\n124\n00:06:04,710 --> 00:06:08,250\nOn the OS X 10 side, we've got things\nlike the actual operating system updates,\n\n125\n00:06:08,250 --> 00:06:10,930\nany kind of OS X 10 software\nupdates that come out.\n\n126\n00:06:10,930 --> 00:06:14,270\nWe've got our App Store and\nthe App Store purchases inside of it.\n\n127\n00:06:14,270 --> 00:06:16,920\nAnything like Apple updates.\n\n128\n00:06:16,920 --> 00:06:20,630\nSo software like pages, and\n\n129\n00:06:20,630 --> 00:06:24,590\nthe other iWorks suite utilities,\nthose updates get cached.\n\n130\n00:06:24,590 --> 00:06:27,140\nYour operating system updates get cached,\nthat kind of stuff.\n\n131\n00:06:27,140 --> 00:06:28,470\nWhich is really kinda nice to have.\n\n132\n00:06:30,170 --> 00:06:32,080\nThey do list a couple of things here, and\n\n133\n00:06:32,080 --> 00:06:35,280\nthis is the one that causes a lot of\nconfusion, especially on the exam.\n\n134\n00:06:35,280 --> 00:06:38,630\nThird party applications and\nupdates via the Mac App Store.\n\n135\n00:06:38,630 --> 00:06:39,380\nAll right.\n\n136\n00:06:39,380 --> 00:06:43,030\nThat last little part right there,\nvia the Mac App Store, that's important.\n\n137\n00:06:44,150 --> 00:06:48,260\nThe caching server will not\ncache third-party apps and\n\n138\n00:06:48,260 --> 00:06:50,710\nupdates that come\ndirectly from the vendor.\n\n139\n00:06:50,710 --> 00:06:52,780\nIt's gotta come from the Mac App Store.\n\n140\n00:06:52,780 --> 00:06:55,380\nSo if I have something\nlike Microsoft Office, and\n\n141\n00:06:55,380 --> 00:06:59,080\nI got Microsoft Office directly from\nMicrosoft or through Office 365,\n\n142\n00:06:59,080 --> 00:07:00,690\nthe caching server isn't gonna cache that.\n\n143\n00:07:01,980 --> 00:07:05,740\nBut if I have the Microsoft Office Suite\npurchased through the App Store,\n\n144\n00:07:05,740 --> 00:07:08,530\nlike on the iPad, it will cache that.\n\n145\n00:07:08,530 --> 00:07:11,260\nSo there's a difference based\non where you get that software.\n\n146\n00:07:11,260 --> 00:07:12,380\nAnd this is another benefit.\n\n147\n00:07:12,380 --> 00:07:14,740\nI know a lot of us,\npersonally I go through this,\n\n148\n00:07:14,740 --> 00:07:18,900\nwhere when I go to buy an App,\nI might see it in the App Store.\n\n149\n00:07:18,900 --> 00:07:21,100\nAnd I might see it\ndirectly from the vendor.\n\n150\n00:07:21,100 --> 00:07:23,410\nAnd I say, well,\nwhere do I wanna purchase it from?\n\n151\n00:07:23,410 --> 00:07:24,790\nIf you purchase it\ndirectly from the vendor,\n\n152\n00:07:24,790 --> 00:07:26,630\na lot of times you can get it cheaper.\n\n153\n00:07:26,630 --> 00:07:30,030\nBut if you purchase it from the App Store,\nyou get automatic updates.\n\n154\n00:07:30,030 --> 00:07:30,650\nWhich is nice.\n\n155\n00:07:30,650 --> 00:07:32,380\nYou get update notifications.\n\n156\n00:07:32,380 --> 00:07:35,360\nYou also get the ability\nto use a caching server.\n\n157\n00:07:35,360 --> 00:07:37,530\nSo it might be a little bit more expensive\nto get it through the App Store, but\n\n158\n00:07:37,530 --> 00:07:39,290\nthere are some benefits for doing that.\n\n159\n00:07:39,290 --> 00:07:40,460\nThe caching server is one of those.\n\n160\n00:07:41,780 --> 00:07:43,140\nSome of the other things that we get?\n\n161\n00:07:43,140 --> 00:07:45,720\nHardware drivers, Java, Print drivers, and\n\n162\n00:07:45,720 --> 00:07:49,470\nany other system update that comes from\nthe software update system through Apple.\n\n163\n00:07:49,470 --> 00:07:50,840\nAgain, not directly from the vendor,\n\n164\n00:07:50,840 --> 00:07:54,170\nthe vendors aren't allowed to push\ntheir stuff into the caching server.\n\n165\n00:07:54,170 --> 00:07:56,530\nIt has to be through Apple to get cached.\n\n166\n00:07:56,530 --> 00:07:59,526\nWe've also got the internet\nrecovery OS image, and\n\n167\n00:07:59,526 --> 00:08:02,602\nlet me tell you,\nthis is a great thing to have cached.\n\n168\n00:08:02,602 --> 00:08:04,942\nIf you're using internet\nrecovery on a Mac, and\n\n169\n00:08:04,942 --> 00:08:08,330\nI know we've shown it in a few\nepisodes of the series already.\n\n170\n00:08:08,330 --> 00:08:09,660\nWhen you boot up that Mac and\n\n171\n00:08:09,660 --> 00:08:12,690\nyou go to recovery,\nthey reach out to Apple's servers.\n\n172\n00:08:12,690 --> 00:08:15,560\nAnd the recovery image,\nit's a good 600 megs in size.\n\n173\n00:08:15,560 --> 00:08:18,430\nIt takes a little while to download\nthat and get it onto your system.\n\n174\n00:08:18,430 --> 00:08:20,930\nSo you've got a failed Mac, and\nyou're trying to get it back up and\n\n175\n00:08:20,930 --> 00:08:24,300\nrunning as fast as you can, and\nyou're waiting for this internet download.\n\n176\n00:08:24,300 --> 00:08:26,400\nWouldn't it be nice if you\ncould pull that from a server,\n\n177\n00:08:26,400 --> 00:08:29,710\nright there on the local area network\nwith you, that has a gigabit access.\n\n178\n00:08:29,710 --> 00:08:31,410\nRight?\nNow it downloads super fast.\n\n179\n00:08:31,410 --> 00:08:33,190\nAnd it loads and\nyou get into that machine.\n\n180\n00:08:33,190 --> 00:08:34,470\nThat's a great thing to have cached.\n\n181\n00:08:36,610 --> 00:08:38,090\nI already mentioned iOS apps.\n\n182\n00:08:38,090 --> 00:08:39,040\nRight?\nSo any of those.\n\n183\n00:08:39,040 --> 00:08:40,660\nBut what I didn't mention\nwas this guy right here.\n\n184\n00:08:40,660 --> 00:08:43,600\nApple TV.\nNow, Apple TV has not been terribly\n\n185\n00:08:43,600 --> 00:08:47,620\npopular up until recently, but Apple is\nmaking a huge push for that this year.\n\n186\n00:08:47,620 --> 00:08:51,190\nSo, we're gonna start seeing more and\nmore Apple TVs out there in the field.\n\n187\n00:08:51,190 --> 00:08:54,120\nIf you're a school, and\nyou have one in every classroom, well,\n\n188\n00:08:54,120 --> 00:08:56,680\nthey download updates, and\nthe caching server can cache those, too.\n\n189\n00:08:58,290 --> 00:08:59,560\nSame things with iTunes U.\n\n190\n00:08:59,560 --> 00:09:01,010\nI mentioned universities earlier.\n\n191\n00:09:01,010 --> 00:09:03,140\nSo if you've got your\ncourseware through iTunes U,\n\n192\n00:09:03,140 --> 00:09:04,520\nthe caching server will optimize that.\n\n193\n00:09:05,660 --> 00:09:06,910\nThere are some other limitations though.\n\n194\n00:09:06,910 --> 00:09:09,905\nAnd they mention here on the page\nthese country restrictions.\n\n195\n00:09:09,905 --> 00:09:12,975\nThere's some countries that don't\nallow for the caching of this.\n\n196\n00:09:12,975 --> 00:09:14,675\nSo if you're in Brazil I\nknow is one of them.\n\n197\n00:09:14,675 --> 00:09:16,195\nLet's see, Mexico,\n\n198\n00:09:16,195 --> 00:09:19,415\nChina, Portugal, few others,\nthey don't let you cache the books, and\n\n199\n00:09:19,415 --> 00:09:22,725\nit's because the different copyright laws\nand the way those things are handled.\n\n200\n00:09:22,725 --> 00:09:25,575\nSo unfortunately it doesn't\nwork in every country, but\n\n201\n00:09:25,575 --> 00:09:27,625\nhere in the US we do get\nthe full functionality of that.\n\n202\n00:09:27,625 --> 00:09:29,705\nThere are some other limitations, though.\n\n203\n00:09:31,210 --> 00:09:35,530\nOne big limitation they don't mention\nhere is that in another episode,\n\n204\n00:09:35,530 --> 00:09:38,280\nwe're gonna talk about another technology\ncalled the software update server.\n\n205\n00:09:38,280 --> 00:09:42,670\nAnd the software update server is\nvery similar to the caching server\n\n206\n00:09:42,670 --> 00:09:45,560\nin that it can store updates locally.\n\n207\n00:09:45,560 --> 00:09:48,880\nWell, the two products are not compatible.\n\n208\n00:09:48,880 --> 00:09:53,260\nYou can't run the caching server and\nthe software update server.\n\n209\n00:09:53,260 --> 00:09:54,230\nThey conflict.\n\n210\n00:09:54,230 --> 00:09:57,070\nThey can both store updates locally.\n\n211\n00:09:57,070 --> 00:09:59,310\nAnd so,\nhow do the clients know which one to use?\n\n212\n00:09:59,310 --> 00:10:00,500\nWell, they conflict.\n\n213\n00:10:00,500 --> 00:10:02,840\nThe clients at the end of the day\nwill use the software update server.\n\n214\n00:10:02,840 --> 00:10:04,370\nThey'll ignore the cache.\n\n215\n00:10:04,370 --> 00:10:06,739\nSo it basically breaks the caching server.\n\n216\n00:10:06,739 --> 00:10:09,858\nSo you have to make a choice,\nwhich one do we want?\n\n217\n00:10:09,858 --> 00:10:12,400\nWell, we're gonnacover the software\nupdate server in another episode but\n\n218\n00:10:12,400 --> 00:10:17,060\njust incase you're not going to watch that\nepisode here's how you make the decision.\n\n219\n00:10:17,060 --> 00:10:21,450\nThe software update server downloads\nupdates from Apple, stores them locally so\n\n220\n00:10:21,450 --> 00:10:23,380\nthey can be distributed to your clients.\n\n221\n00:10:23,380 --> 00:10:27,510\nThe caching server gets those updates the\nfirst time somebody does a download from\n\n222\n00:10:27,510 --> 00:10:30,720\nApple, stores them locally and\nmakes them available.\n\n223\n00:10:30,720 --> 00:10:32,560\nThat's the first difference that we have.\n\n224\n00:10:32,560 --> 00:10:36,690\nIf you didn't catch it, the difference\nis the software update server\n\n225\n00:10:36,690 --> 00:10:39,860\ndownloads updates as soon\nas they are available.\n\n226\n00:10:39,860 --> 00:10:41,910\nIt's like a push or a pull.\n\n227\n00:10:41,910 --> 00:10:45,390\nThe server reaches out, finds those\nupdates, and downloads them immediately.\n\n228\n00:10:46,490 --> 00:10:48,760\nThe caching server doesn't\ndownload anything.\n\n229\n00:10:48,760 --> 00:10:53,580\nWhen we turn it on it doesn't download a\nsingle thing, until somebody requests it.\n\n230\n00:10:53,580 --> 00:10:57,200\nSo the first time somebody does an update,\nthe caching server downloads it and\n\n231\n00:10:57,200 --> 00:10:59,620\ngets a copy of it, and\nthen it becomes available.\n\n232\n00:10:59,620 --> 00:11:01,250\nSo a little bit of a variation there,\n\n233\n00:11:01,250 --> 00:11:04,280\nbased on who it is that\ndoes that first download.\n\n234\n00:11:04,280 --> 00:11:08,680\nThe other differences is, once\na caching server downloads the update,\n\n235\n00:11:08,680 --> 00:11:10,840\nit's not available for everybody.\n\n236\n00:11:10,840 --> 00:11:12,700\nEverybody can get that update.\n\n237\n00:11:12,700 --> 00:11:15,854\nWith the software update server,\nit downloads the update, and\n\n238\n00:11:15,854 --> 00:11:21,825\nthen it lets us choose when we want to\nmake that available on the network.\n\n239\n00:11:21,825 --> 00:11:23,540\n10.10.3 just came out last week.\n\n240\n00:11:23,540 --> 00:11:25,820\nMaybe I haven't tested\nmy software with it yet.\n\n241\n00:11:25,820 --> 00:11:26,790\nIt might break something.\n\n242\n00:11:26,790 --> 00:11:27,550\nIt does happen, right.\n\n243\n00:11:27,550 --> 00:11:29,970\nSometimes our third party\napp's get broken by an update.\n\n244\n00:11:29,970 --> 00:11:31,560\nI might need time to test it.\n\n245\n00:11:31,560 --> 00:11:33,540\nThe software update\nserver lets me do that.\n\n246\n00:11:33,540 --> 00:11:35,670\nIt lets me say,\nI'm gonna hold on to this update.\n\n247\n00:11:35,670 --> 00:11:39,260\nLet me test it, and now that I'm done\nwith testing, I can enable it and\n\n248\n00:11:39,260 --> 00:11:40,110\neverybody else gets it.\n\n249\n00:11:40,110 --> 00:11:42,770\nI have that control, right,\nadministrative control.\n\n250\n00:11:42,770 --> 00:11:45,870\nThe caching server doesn't have\nthat administrative control.\n\n251\n00:11:45,870 --> 00:11:49,440\nIt doesn't let you say I'm\nready to run this out and\n\n252\n00:11:49,440 --> 00:11:52,880\nthat's because the clients are actually\ngoing out and downloading from Apple first\n\n253\n00:11:52,880 --> 00:11:55,050\nand it's being cached and\nthen it's becoming available.\n\n254\n00:11:55,050 --> 00:11:59,970\nSo the caching server allows all updates,\nallows all apps,\n\n255\n00:11:59,970 --> 00:12:02,950\nallows all of that to be cached and\navailable to your clients.\n\n256\n00:12:02,950 --> 00:12:05,240\nThe software updates\nserver gives you control.\n\n257\n00:12:05,240 --> 00:12:09,400\nSo, if you need that control, you need to\ngo to the software update server instead.\n\n258\n00:12:10,470 --> 00:12:12,710\nBut if you don't, if you're just\ntrying to optimize bandwidth and\n\n259\n00:12:12,710 --> 00:12:15,860\nprovide faster downloads,\nthe caching server is the winner for you.\n\n260\n00:12:15,860 --> 00:12:19,850\nAnd the caching server is super\ndead simple to get configured.\n\n261\n00:12:19,850 --> 00:12:22,030\nAnd so it's usually the starting point for\npeople.\n\n262\n00:12:22,030 --> 00:12:24,310\nBut, don't deploy both on your network.\n\n263\n00:12:24,310 --> 00:12:25,510\nYou need one or the other.\n\n264\n00:12:27,160 --> 00:12:28,010\nAll right.\n\n265\n00:12:28,010 --> 00:12:33,820\nNow the other thing is the software update\nserver does just what its name implies.\n\n266\n00:12:33,820 --> 00:12:37,050\nIt just does software updates,\nthe updates that come from Apple.\n\n267\n00:12:37,050 --> 00:12:42,500\nIt doesn't do things like iTunes\naudio purchases or iBooks.\n\n268\n00:12:42,500 --> 00:12:44,100\nIt doesn't do iTunes U.\n\n269\n00:12:44,100 --> 00:12:45,790\nIt doesn't do those other things, so\n\n270\n00:12:45,790 --> 00:12:49,230\nit doesn't store all the same stuff\nthat the caching server does.\n\n271\n00:12:49,230 --> 00:12:52,470\nAnd that puts a lot of people in a weird\npredicament cuz they have to decide, like,\n\n272\n00:12:52,470 --> 00:12:55,710\nhey, I use all this other stuff,\nbut I want control of my updates.\n\n273\n00:12:55,710 --> 00:12:56,810\nHow do I pick?\n\n274\n00:12:56,810 --> 00:12:58,350\nAnd unfortunately,\nyou do have to pick, and\n\n275\n00:12:58,350 --> 00:13:01,640\nit's usually the software update\nserver that wins cuz most businesses,\n\n276\n00:13:01,640 --> 00:13:04,000\nmost schools,\nthey wanna have control of those updates.\n\n277\n00:13:04,000 --> 00:13:06,890\nThat's what the software\nupdate server gives them.\n\n278\n00:13:06,890 --> 00:13:10,860\nBut just be aware, especially on the exam,\nthe two products are not compatible.\n\n279\n00:13:12,532 --> 00:13:18,130\nWell, I mentioned the caching server and\nhow it's dead simple to configure.\n\n280\n00:13:19,130 --> 00:13:20,440\nLet's talk about why that is.\n\n281\n00:13:20,440 --> 00:13:24,560\nThe reason it's dead simple to configure\nis because of how it functions.\n\n282\n00:13:24,560 --> 00:13:25,550\nOn Apple's website,\n\n283\n00:13:25,550 --> 00:13:29,250\nlet me bring up this diagram here,\nthey've got a diagram of how it works.\n\n284\n00:13:29,250 --> 00:13:33,250\nAnd the way it works is basically\nyou have all your various clients,\n\n285\n00:13:33,250 --> 00:13:39,060\nyour Mac Pros, your iPads, your iPhones,\nyour MacBooks, they're all on the network.\n\n286\n00:13:39,060 --> 00:13:42,110\nAnd when they go out to the internet,\nthey pass through a router and\n\n287\n00:13:42,110 --> 00:13:46,180\nmost routers these days will do with\nboth network address translation.\n\n288\n00:13:46,180 --> 00:13:50,510\nThey'll translate you from\nhaving a internal address.\n\n289\n00:13:50,510 --> 00:13:53,880\nLike here they've got these ten\ndot internal private IPs, and\n\n290\n00:13:53,880 --> 00:13:56,510\nthey'll translate you to a public IP.\n\n291\n00:13:56,510 --> 00:13:59,000\nThey're showing 17.221.45.7.\n\n292\n00:13:59,000 --> 00:14:00,240\nIt could be whatever.\n\n293\n00:14:00,240 --> 00:14:02,810\nWhatever address it is\nthat your machine has.\n\n294\n00:14:02,810 --> 00:14:04,190\nFor example, if I take mine.\n\n295\n00:14:05,470 --> 00:14:08,410\nSo if I pull up my list here,\n\n296\n00:14:08,410 --> 00:14:13,950\nI can see that I've got an internet IP.\n\n297\n00:14:13,950 --> 00:14:15,500\nSo my internal IP is 10.1.230.241.\n\n298\n00:14:15,500 --> 00:14:20,210\nThat's my IP right here\non the ITProTV network.\n\n299\n00:14:21,690 --> 00:14:26,500\nBut when I go out to the internet,\nI'm hitting a router and\n\n300\n00:14:26,500 --> 00:14:31,810\nthe router is translating it\nto me to a public address.\n\n301\n00:14:31,810 --> 00:14:37,230\nSo if I go to ip chicken and\n\n302\n00:14:37,230 --> 00:14:40,160\nI can see my address is\nactually 209.251.159.179.\n\n303\n00:14:40,160 --> 00:14:46,490\nThat's the public IP that\nI'm being translated to.\n\n304\n00:14:46,490 --> 00:14:49,370\nIf you don't like chickens,\nyou can always do IP monkey.\n\n305\n00:14:49,370 --> 00:14:51,420\nI think it's .com.\n\n306\n00:14:51,420 --> 00:14:53,440\nThere we go, and\nthe monkey will tell you your IP.\n\n307\n00:14:53,440 --> 00:14:57,540\nI mean, whatever barnyard or jungle\nanimal you care for, you can choose.\n\n308\n00:14:57,540 --> 00:15:01,220\nBut basically, you get your address,\nthat's your public IP, right.\n\n309\n00:15:01,220 --> 00:15:06,320\nWell, the way the caching server\nworks is it says when a caching\n\n310\n00:15:06,320 --> 00:15:12,110\nserver comes up, it goes out to Apple and\nit says, hey I'm a caching server.\n\n311\n00:15:12,110 --> 00:15:15,540\nAnd Apple sees that public\nIP of the caching server.\n\n312\n00:15:15,540 --> 00:15:20,650\nAnd then when any Apple clients come up,\niOS, OS 10,\n\n313\n00:15:20,650 --> 00:15:25,840\nApple TV, when any Apple client comes up,\nIt goes out to Apple and\n\n314\n00:15:25,840 --> 00:15:29,150\nit says hey, I'm out here,\nand this is my public IP.\n\n315\n00:15:29,150 --> 00:15:33,560\nApple sees that there's a caching server\navailable, and they both have the same IP.\n\n316\n00:15:33,560 --> 00:15:37,200\nThey have that same public IP cuz\nthey're all behind the same router.\n\n317\n00:15:37,200 --> 00:15:40,930\nThey go out, Apple recognizes that and\ntells the client, oh by the way,\n\n318\n00:15:40,930 --> 00:15:43,120\nyou should use this\ncaching server over here.\n\n319\n00:15:43,120 --> 00:15:48,270\nAnd now, when a client goes to download\nan update, they see the updates available.\n\n320\n00:15:48,270 --> 00:15:51,420\nAnd then they reach out to that caching\nserver to get a local copy of it\n\n321\n00:15:51,420 --> 00:15:52,036\nif it's available.\n\n322\n00:15:52,036 --> 00:15:55,290\nIf it's not available,\nif it's not on the caching server yet.\n\n323\n00:15:55,290 --> 00:15:57,690\nThe client goes out to Apple and gets it.\n\n324\n00:15:57,690 --> 00:16:00,500\nAnd while they're getting it,\nthe caching server is downloading it also.\n\n325\n00:16:00,500 --> 00:16:03,384\nIt downloads that copy, so\nthat it has it available and\n\n326\n00:16:03,384 --> 00:16:07,534\nthe next client that comes along will be\nable to get it from the caching server.\n\n327\n00:16:07,534 --> 00:16:10,575\nSo, pretty straight forward process.\n\n328\n00:16:10,575 --> 00:16:14,988\nWe don't actually have to configure\nanything at all on the clients.\n\n329\n00:16:14,988 --> 00:16:19,010\nThe clients will go out to Apple and\nbased on their public IP,\n\n330\n00:16:19,010 --> 00:16:22,150\nApple will tell them whether or\nnot they have a caching server available.\n\n331\n00:16:22,150 --> 00:16:24,280\nAnd it's that easy.\n\n332\n00:16:24,280 --> 00:16:29,300\nSo, the iPhones, the iPads, the laptops,\nyou don't do anything on them.\n\n333\n00:16:29,300 --> 00:16:32,340\nAll you have to do is\ncreate a caching server.\n\n334\n00:16:32,340 --> 00:16:35,070\nAnd creating a caching server is\nthe easiest thing on the planet.\n\n335\n00:16:35,070 --> 00:16:36,200\nLet me show you that process.\n\n336\n00:16:37,500 --> 00:16:41,390\nSo, here I've got an OSX server,\nit's up and it's running.\n\n337\n00:16:41,390 --> 00:16:44,440\nAnd if I look down my left side of\napplications here under services,\n\n338\n00:16:44,440 --> 00:16:45,220\nyou'll see caching.\n\n339\n00:16:46,360 --> 00:16:50,310\nAnd if I go under caching to\nconfigure the caching server,\n\n340\n00:16:50,310 --> 00:16:51,670\nyou just flip the on switch.\n\n341\n00:16:51,670 --> 00:16:52,470\nAnd that's it.\n\n342\n00:16:52,470 --> 00:16:55,540\nIt's actually operational\nthe moment you flip that on switch.\n\n343\n00:16:55,540 --> 00:16:56,690\nI'll turn it on.\n\n344\n00:16:56,690 --> 00:16:57,540\nI'll try to turn it on.\n\n345\n00:16:57,540 --> 00:16:58,450\nThere we go.\n\n346\n00:16:58,450 --> 00:16:59,980\nAnd now, I'm a caching server.\n\n347\n00:16:59,980 --> 00:17:03,700\nMy server is reaching out to Apple right\nnow and saying, hey, I'm a caching server.\n\n348\n00:17:03,700 --> 00:17:08,090\nAnd Apple is looking at that and\nseeing that public IP and there it is.\n\n349\n00:17:08,090 --> 00:17:13,250\nSo, now, it knows that this is\na caching server, and any updates and\n\n350\n00:17:13,250 --> 00:17:16,810\nother applications that our clients start\nto download will get cached right here.\n\n351\n00:17:17,860 --> 00:17:21,100\nNow, if I just want a quick and dirty\ncaching server, that's all I have to do.\n\n352\n00:17:21,100 --> 00:17:24,380\nThere are a few little options\nthat we can tweak in here, though.\n\n353\n00:17:24,380 --> 00:17:28,390\nFor example, as we look down the list of\npermissions, the permissions right now\n\n354\n00:17:28,390 --> 00:17:33,108\nare set only local subnets and for a\ncaching server, that makes a lot of sense.\n\n355\n00:17:33,108 --> 00:17:36,780\nYou're only gonna cache stuff for people\nthat are on the local network with you,\n\n356\n00:17:36,780 --> 00:17:39,050\nbut we could tweak that and adjust it and\n\n357\n00:17:39,050 --> 00:17:42,500\nchange those permissions that only\ncertain systems were allowed to connect.\n\n358\n00:17:42,500 --> 00:17:44,810\nSo, we can always do that and\nwe've seen that on every service,\n\n359\n00:17:44,810 --> 00:17:46,660\nthat's not unique to the caching server.\n\n360\n00:17:47,710 --> 00:17:52,310\nMore importantly, though, is this next\npart right here, where the storage is.\n\n361\n00:17:52,310 --> 00:17:54,450\nBy default,\nlook where it put that storage.\n\n362\n00:17:54,450 --> 00:17:56,580\nIt's caching to my Macintosh HP,\n\n363\n00:17:56,580 --> 00:17:59,580\nthat's the same hard drive\nmy operating system is on.\n\n364\n00:17:59,580 --> 00:18:01,810\nWell, when you start caching files,\nthey can be big.\n\n365\n00:18:01,810 --> 00:18:04,280\nAnd they add up pretty quick over time.\n\n366\n00:18:04,280 --> 00:18:06,720\nSo, as our cache starts to grow and\ngrow and grow,\n\n367\n00:18:06,720 --> 00:18:08,440\nwe might run out of hard drive space.\n\n368\n00:18:08,440 --> 00:18:11,890\nSo, one of the things that we'll often\ndo is add a second hard drive, and\n\n369\n00:18:11,890 --> 00:18:13,100\nmove the storage over there.\n\n370\n00:18:13,100 --> 00:18:15,360\nAnd all you have to do is come\nover here and hit edit, and\n\n371\n00:18:15,360 --> 00:18:16,610\nyou can pick where you want it to go.\n\n372\n00:18:16,610 --> 00:18:19,140\nI've only got one hard drive in\nthis system, so I can't do it.\n\n373\n00:18:19,140 --> 00:18:21,522\nBut if I had another hard drive,\nI could pick it here, and\n\n374\n00:18:21,522 --> 00:18:23,121\nit would move it off to the other side.\n\n375\n00:18:23,121 --> 00:18:26,627\nIf you do it while the cache is empty,\nit happens almost instantly.\n\n376\n00:18:26,627 --> 00:18:29,884\nIf you do it while the cache already has\ndata, it's got to move the cache, and\n\n377\n00:18:29,884 --> 00:18:30,750\nit can take a while.\n\n378\n00:18:30,750 --> 00:18:32,930\nThe bigger your cache,\nthe longer it'll take to move.\n\n379\n00:18:32,930 --> 00:18:35,710\nSo, better to do this ahead\nof time than to do it\n\n380\n00:18:35,710 --> 00:18:37,290\nlater after the cache\nis already populated.\n\n381\n00:18:39,210 --> 00:18:44,290\nI've turned on my caching server but\nit's gonna be empty right now because\n\n382\n00:18:44,290 --> 00:18:46,520\nnone of my clients have\ndownloaded any updates yet, so\n\n383\n00:18:46,520 --> 00:18:48,030\nit's really just sitting here empty.\n\n384\n00:18:48,030 --> 00:18:51,110\nI know it's empty because I can\nlook down here at my usage and\n\n385\n00:18:51,110 --> 00:18:55,280\nmy usage is showing 68 gigs available,\ncache used, none.\n\n386\n00:18:55,280 --> 00:18:57,730\nI don't have a single thing\nin my cache right now.\n\n387\n00:18:57,730 --> 00:19:01,290\nAs we start caching data though,\nthat'll start to grow.\n\n388\n00:19:01,290 --> 00:19:05,970\nWe'll start to see these little bars\nhere will appear showing iTunes U,\n\n389\n00:19:05,970 --> 00:19:09,200\niBook, software updates,\nthey'll all be represented so\n\n390\n00:19:09,200 --> 00:19:10,450\nwe know what's eating what storage.\n\n391\n00:19:11,976 --> 00:19:15,100\nNow, if you're gonna be putting it on the\nsame hard drive as your operating system,\n\n392\n00:19:15,100 --> 00:19:17,780\nit's a good idea to limit\nthe size of the cache.\n\n393\n00:19:17,780 --> 00:19:21,210\nYou'll see it set to unlimited by default\nbut I might wanna shrink that down and\n\n394\n00:19:21,210 --> 00:19:22,510\nsay, you know what,\n\n395\n00:19:22,510 --> 00:19:26,500\nI'm gonna cap that at 35 gigs because I\ndon't want it to fill up my hard drive.\n\n396\n00:19:26,500 --> 00:19:28,560\nSo, now, it's limited to 35 gigs and\n\n397\n00:19:28,560 --> 00:19:32,600\nif it gets to 35 gigs,\nit'll take the oldest updates,\n\n398\n00:19:32,600 --> 00:19:37,180\nthe ones that aren't being used, and it'll\npurge those out to make room for new ones.\n\n399\n00:19:37,180 --> 00:19:41,300\nSo, it kind of self maintains at\nthat point but you can cap that off.\n\n400\n00:19:42,640 --> 00:19:46,490\nAfter that, though, there's not\nanything else in here to configure.\n\n401\n00:19:46,490 --> 00:19:49,210\nThere are some things we can configure\nfrom the command line, sometimes we need\n\n402\n00:19:49,210 --> 00:19:53,900\nto do that, but the only other option\nright here in the GUI is the reset button.\n\n403\n00:19:53,900 --> 00:19:57,260\nIf you ever wanna flush the cache out and\nstart over again,\n\n404\n00:19:57,260 --> 00:20:00,340\nyou can hit that reset button,\nand it'll start caching again.\n\n405\n00:20:00,340 --> 00:20:02,870\nSo, maybe, you wanna move your\ncache to another hard drive but\n\n406\n00:20:02,870 --> 00:20:04,700\nyou're in a hurry and\nyou don't want it to copy.\n\n407\n00:20:04,700 --> 00:20:07,770\nYou could flush the cache,\nand now it's empty.\n\n408\n00:20:07,770 --> 00:20:10,390\nMove it to another hard drive,\nand as clients go to do updates,\n\n409\n00:20:10,390 --> 00:20:12,120\nit'll just re-download them over time.\n\n410\n00:20:12,120 --> 00:20:15,280\nYou're still saving bandwidth cuz it's\nonly gonna download it one more time, and\n\n411\n00:20:15,280 --> 00:20:17,540\nnot over and over and\nover again for all of your clients.\n\n412\n00:20:19,670 --> 00:20:21,920\nBut getting it set up is\npretty straightforward.\n\n413\n00:20:21,920 --> 00:20:22,860\nThat turns on the cache.\n\n414\n00:20:23,880 --> 00:20:27,410\nOne thing I wanna mention and\nDavid brought this up in the chatroom,\n\n415\n00:20:28,470 --> 00:20:32,880\nby default,\nin previous versions of Mac OS,\n\n416\n00:20:32,880 --> 00:20:37,500\nthe server would only cache for\npeople on the same subnet.\n\n417\n00:20:37,500 --> 00:20:40,810\nSo, my server, for example, if I go\nto my server, I am 10.211.55.200 and\n\n418\n00:20:40,810 --> 00:20:45,630\nmy network there is a class C.\n\n419\n00:20:45,630 --> 00:20:51,010\nSo, anybody on the 10.211.55 network,\nis on the same network as my server.\n\n420\n00:20:51,010 --> 00:20:52,159\nThat's who I cache for.\n\n421\n00:20:52,159 --> 00:20:54,430\nBut what if you had more than one subnet?\n\n422\n00:20:56,390 --> 00:21:01,280\nIn the olden days, in previous versions of\nOS X, you had to go to the command line\n\n423\n00:21:01,280 --> 00:21:04,380\nand you had to go and modify\nthe settings to allow it to cache for\n\n424\n00:21:04,380 --> 00:21:06,650\nother subnets than the subnet\nthat the server was on.\n\n425\n00:21:07,860 --> 00:21:10,260\nBut Apple's changed that now,\nand it's a lot easier.\n\n426\n00:21:10,260 --> 00:21:11,900\nIn fact, it's really automatic.\n\n427\n00:21:11,900 --> 00:21:13,080\nIf I go back to the documentation.\n\n428\n00:21:13,080 --> 00:21:15,230\nLet me pull their website back up.\n\n429\n00:21:15,230 --> 00:21:17,410\nThis diagram that I showed you earlier,\n\n430\n00:21:17,410 --> 00:21:20,610\nthis is the standard typical\nnetwork that's out there.\n\n431\n00:21:20,610 --> 00:21:23,200\nAll of your clients are on one network.\n\n432\n00:21:23,200 --> 00:21:25,540\nThe caching server is\non that same network.\n\n433\n00:21:25,540 --> 00:21:27,580\nThey go through the same router\nto get to the internet, so\n\n434\n00:21:27,580 --> 00:21:29,110\nthey all have the same public ID.\n\n435\n00:21:29,110 --> 00:21:33,271\nThey find each other,\ncaching works just fine.\n\n436\n00:21:33,271 --> 00:21:39,020\nBut now, what happens is when they go out,\nthey can be on different networks.\n\n437\n00:21:39,020 --> 00:21:41,310\nAnd so, here's a more complex network.\n\n438\n00:21:41,310 --> 00:21:45,390\nHere, I've got one subnet over here,\nwhich is the 10.0.1.x subnet.\n\n439\n00:21:46,830 --> 00:21:50,670\nAnd on the right side,\nI've got the 10.0.2.x network.\n\n440\n00:21:50,670 --> 00:21:54,470\nThey both go through switches to a router.\n\n441\n00:21:54,470 --> 00:21:57,150\nAnd they both go out\nwith the same public IP.\n\n442\n00:21:57,150 --> 00:21:59,420\nThey got the same public IP.\n\n443\n00:21:59,420 --> 00:22:02,680\nAnd because of that, as they go out\nto Apple and the caching server.\n\n444\n00:22:02,680 --> 00:22:05,400\nSee, the caching server's\nover on the 10.0.1 network.\n\n445\n00:22:05,400 --> 00:22:08,040\nIt goes out to Apple and registers itself.\n\n446\n00:22:08,040 --> 00:22:12,920\nAnd so, now, clients in both subnets\nbecause they have the same public IP,\n\n447\n00:22:12,920 --> 00:22:14,840\nApple knows they're in\nthe same physical location.\n\n448\n00:22:14,840 --> 00:22:15,650\nAnd it says,\n\n449\n00:22:15,650 --> 00:22:19,820\nif they're in the same physical location,\nthey can use the same caching server.\n\n450\n00:22:19,820 --> 00:22:24,500\nWhat happened before in previous\nversions is when these guys went out and\n\n451\n00:22:24,500 --> 00:22:28,510\nregistered with Apple, sure they had the\nsame public IP, but Apple would see that\n\n452\n00:22:28,510 --> 00:22:32,110\ndifferent subnet and it would assume they\nwere in a different geographic location.\n\n453\n00:22:32,110 --> 00:22:36,010\nIt would say, you know what,\nyeah they got the same public IP, but\n\n454\n00:22:36,010 --> 00:22:39,460\nthere in a different subnet, so maybe\nthat's a branch office somewhere else.\n\n455\n00:22:39,460 --> 00:22:41,370\nAnd we don't wanna use\na caching server for\n\n456\n00:22:41,370 --> 00:22:46,340\nthe branch office because they're probably\ncrossing the internet to get over here,\n\n457\n00:22:46,340 --> 00:22:49,480\nand then from here,\ngoing out to the internet.\n\n458\n00:22:49,480 --> 00:22:52,140\nSo, we don't wanna double\nup that WAN consumption,\n\n459\n00:22:52,140 --> 00:22:54,400\nhaving them jump the WAN to get\nover to the other location.\n\n460\n00:22:54,400 --> 00:22:58,050\nAnd then, jump the WAN again to\nget out to the internet to Apple.\n\n461\n00:22:58,050 --> 00:23:00,438\nWhy do it twice, let's just let them\ngo straight out to the internet.\n\n462\n00:23:00,438 --> 00:23:04,510\nAnd that was kind of the stance that\nApple took, and what they found was that\n\n463\n00:23:04,510 --> 00:23:08,250\noverwhelmingly, that wasn't\nthe topology that most people had.\n\n464\n00:23:08,250 --> 00:23:11,160\nThat when you had a branch office and\nit didn't have a caching server,\n\n465\n00:23:11,160 --> 00:23:13,770\nwhen they went out to the internet,\nthey went out with a different public IP.\n\n466\n00:23:13,770 --> 00:23:15,950\nPeople weren't routing internet access for\n\n467\n00:23:15,950 --> 00:23:19,260\ntheir branches back to a core,\nat least not very often.\n\n468\n00:23:19,260 --> 00:23:22,730\nAnd so, Apple said, well we didn't handle\nthis the right way, let's change it.\n\n469\n00:23:22,730 --> 00:23:23,530\nAnd they did.\n\n470\n00:23:23,530 --> 00:23:28,710\nSo, now, when you have multiple subnets,\nif they go out with the same public IP,\n\n471\n00:23:28,710 --> 00:23:31,440\nApple will treat them as\nthe same physical location, and\n\n472\n00:23:31,440 --> 00:23:33,140\nallow them to use that caching service.\n\n473\n00:23:33,140 --> 00:23:34,770\nSo, they'll hit this caching server.\n\n474\n00:23:34,770 --> 00:23:37,600\nThese clients over on this different\nnetwork will hit that one.\n\n475\n00:23:37,600 --> 00:23:42,400\nAnd that's really beneficial because a lot\nof like schools might have one network for\n\n476\n00:23:42,400 --> 00:23:45,740\ntheir staff,\ntheir teachers and professors.\n\n477\n00:23:45,740 --> 00:23:48,522\nAnd then, a separate network for\ntheir students.\n\n478\n00:23:48,522 --> 00:23:50,870\nAnd maybe, even a third network for\npublic access for\n\n479\n00:23:50,870 --> 00:23:52,870\npeople who are visiting the campus.\n\n480\n00:23:52,870 --> 00:23:54,678\nWell, in the past,\nyou have to have a caching service for\n\n481\n00:23:54,678 --> 00:23:55,479\neach of those networks.\n\n482\n00:23:55,479 --> 00:23:58,739\nNow, we can have one caching server and\nshare it across those networks,\n\n483\n00:23:58,739 --> 00:24:02,067\nbecause Apple will treat them as all\nbeing in the same physical location.\n\n484\n00:24:02,067 --> 00:24:04,076\nWe don't have to configure anything.\n\n485\n00:24:04,076 --> 00:24:06,212\nYou don't have to drop down\nto a command prompt into it.\n\n486\n00:24:06,212 --> 00:24:08,731\nIt's all just automatic now,\nso it's just nice.\n\n487\n00:24:08,731 --> 00:24:12,150\nWhat was it Steve Jobs always said,\nit's like magic.\n\n488\n00:24:12,150 --> 00:24:13,830\nYou just turn it on and it works.\n\n489\n00:24:13,830 --> 00:24:15,810\nAnd that's really how\nthe caching server functions.\n\n490\n00:24:17,190 --> 00:24:21,900\nWell, I've showed you the configuration\nbut let's actually see it in action.\n\n491\n00:24:21,900 --> 00:24:25,490\nSo on my server here, I went ahead and\nturned on the caching server and\n\n492\n00:24:25,490 --> 00:24:29,860\nall I did is I went to caching and\nI flipped the on switch.\n\n493\n00:24:29,860 --> 00:24:35,500\nThe only other thing I did was I set\na cap for it's size, that's all I did.\n\n494\n00:24:35,500 --> 00:24:40,080\nAt this point it is caching, I'm not gonna\nsee much though if I drop to a terminal,\n\n495\n00:24:41,490 --> 00:24:44,670\nI can browse on the hard drive to\nwhere the cache is being stored.\n\n496\n00:24:44,670 --> 00:24:47,485\nThe cache is actually stored in,\n\n497\n00:24:47,485 --> 00:24:55,970\n/Library/Server.\n\n498\n00:24:55,970 --> 00:25:00,280\nThere we go, and you'll see in\nthere a folder called caching.\n\n499\n00:25:00,280 --> 00:25:05,090\nThat's where the caching server is storing\nits data by default and if I take a look\n\n500\n00:25:05,090 --> 00:25:09,490\nin there you'll see the config\ninformation for it and the data folder.\n\n501\n00:25:09,490 --> 00:25:12,330\nThe data folder is where\nthat actual cache is, and\n\n502\n00:25:12,330 --> 00:25:14,290\nnotice I'm getting permission denied here.\n\n503\n00:25:14,290 --> 00:25:16,100\nThey don't want you to go in and\ntamper with the cache.\n\n504\n00:25:17,170 --> 00:25:18,370\nBecause you could in theory,\n\n505\n00:25:18,370 --> 00:25:21,480\ntamper with an update and\nhave that push out your clients.\n\n506\n00:25:21,480 --> 00:25:23,350\nYou obviously wouldn't want to do that,\nbut\n\n507\n00:25:23,350 --> 00:25:25,860\nit has tighter permissions on that folder.\n\n508\n00:25:25,860 --> 00:25:32,190\nBut if I do a little pseudo magic,\nwe can look inside of that folder,\n\n509\n00:25:32,190 --> 00:25:36,490\nand when I look inside of that\nfolder there's not much in there.\n\n510\n00:25:36,490 --> 00:25:41,850\nWhat I'm seeing here is AssetInfo.db and\na couple of other files here.\n\n511\n00:25:41,850 --> 00:25:46,030\nThat db, this is a database,\nit's a database storing\n\n512\n00:25:46,030 --> 00:25:50,130\nall of the data we've cached so\nfar, which is actually nothing.\n\n513\n00:25:50,130 --> 00:25:52,700\nWe've haven't cached anything, so\nI'm just seeing these three files.\n\n514\n00:25:53,700 --> 00:25:58,372\nBut my caching server is on, if I go to\na client and I start to download stuff,\n\n515\n00:25:58,372 --> 00:26:00,424\nthen I'm gonna see that change.\n\n516\n00:26:00,424 --> 00:26:05,416\nSo, I've got a client sitting over\nhere and this client if I go into\n\n517\n00:26:05,416 --> 00:26:10,245\nmy about this Mac,\nI can see that I'm running 10.10.2.\n\n518\n00:26:10,245 --> 00:26:13,304\nI know that 10.10.3 update is out.\n\n519\n00:26:13,304 --> 00:26:14,912\nI know it's 2 gigs in size.\n\n520\n00:26:14,912 --> 00:26:18,680\nI think it's actually like 2.6 gigs in\nsize, but it's somewhere in that range.\n\n521\n00:26:18,680 --> 00:26:20,290\nSo it's a pretty big update.\n\n522\n00:26:20,290 --> 00:26:24,980\nWell, if I fire up my app store and\njump in here.\n\n523\n00:26:27,100 --> 00:26:28,661\nI can go and check for updates,\n\n524\n00:26:28,661 --> 00:26:31,552\nand I can see there's at least\none update waiting for me.\n\n525\n00:26:31,552 --> 00:26:38,432\nThere we go, and so I've got an update\nfrom my OSX server for 10.10.3.\n\n526\n00:26:38,432 --> 00:26:41,753\nIt's not showing the big 10.10.3 update.\n\n527\n00:26:41,753 --> 00:26:47,810\nI'm sure it'll get it here in a second,\nbut what we'll just do the server one.\n\n528\n00:26:47,810 --> 00:26:50,890\nWell let me give it a second, if I push\nthrough it, I know what'll happen,\n\n529\n00:26:50,890 --> 00:26:51,990\nit'll break.\n\n530\n00:26:51,990 --> 00:26:55,130\nBut basically, we'll let it check here and\nas soon as it finds that update,\n\n531\n00:26:55,130 --> 00:26:56,110\nI'll tell it do the update.\n\n532\n00:26:56,110 --> 00:27:00,050\nNow, my client should already\nknow about the caching server,\n\n533\n00:27:00,050 --> 00:27:01,820\nit learns about it in the background.\n\n534\n00:27:01,820 --> 00:27:04,180\nBut if it checks with the caching server,\nthere's no updates there.\n\n535\n00:27:04,180 --> 00:27:06,720\nSo it's gonna say, all right,\nwell, I can't use you.\n\n536\n00:27:06,720 --> 00:27:09,540\nI'll go out to the internet, and\nit will go straight to apple and\n\n537\n00:27:09,540 --> 00:27:10,230\ndownload the updates.\n\n538\n00:27:10,230 --> 00:27:12,690\nAnd so,\nit's just gonna reach out there and do it.\n\n539\n00:27:12,690 --> 00:27:15,820\nNow, when it starts downloading\nthat update from apple,\n\n540\n00:27:15,820 --> 00:27:17,732\nthe caching server is\ncaching it at the same time.\n\n541\n00:27:17,732 --> 00:27:20,214\nAnd so, this client is gonna\nhave to go out to the internet.\n\n542\n00:27:20,214 --> 00:27:24,192\nBut my next client will be able to\ndownload it from the caching server, and\n\n543\n00:27:24,192 --> 00:27:26,000\nI'm starting to get impatient.\n\n544\n00:27:26,000 --> 00:27:28,370\nLet me see if I can push this one,\nI think it's gonna need my password,\n\n545\n00:27:30,060 --> 00:27:33,940\nbut well, I may not have internet access.\n\n546\n00:27:33,940 --> 00:27:36,150\nI guess, I just check that [LAUGH] but\nwe'll get it.\n\n547\n00:27:36,150 --> 00:27:38,260\nThere is it,\nthere's actually two updates today.\n\n548\n00:27:38,260 --> 00:27:39,250\nI'm being impatient today.\n\n549\n00:27:40,330 --> 00:27:42,590\nThere's the big update,\nthat's the one that's the one I wanted.\n\n550\n00:27:42,590 --> 00:27:45,780\nSo, I'm seeing that software update,\nthis is the 10.10.3 update.\n\n551\n00:27:45,780 --> 00:27:47,980\nThat's the one that's 2 gigs in size, and\n\n552\n00:27:47,980 --> 00:27:50,370\nif I hit Update on that it's gonna\nreach out and start to get it.\n\n553\n00:27:50,370 --> 00:27:54,120\nAnd I'll agree to my little\nlicense agreement, there we go.\n\n554\n00:27:54,120 --> 00:27:55,710\nAnd now it's gonna go out and get it.\n\n555\n00:27:55,710 --> 00:27:59,720\nNow, it's gonna download it,\nit checked with the caching server.\n\n556\n00:27:59,720 --> 00:28:01,090\nI didn't see that but it did happen.\n\n557\n00:28:01,090 --> 00:28:03,740\nAnd the caching server\ndidn't have the update, so\n\n558\n00:28:03,740 --> 00:28:06,550\nnow it's going out to the internet and\ngetting it.\n\n559\n00:28:06,550 --> 00:28:09,240\nThe caching server is\ngetting it also though, so\n\n560\n00:28:09,240 --> 00:28:11,920\nwhile that update is downloading\nif I jump back over to my server.\n\n561\n00:28:12,920 --> 00:28:14,450\nHere's where I pulled up that directory,\nand\n\n562\n00:28:14,450 --> 00:28:19,440\nremember I'm in\nthe /Library/Server/Caching folder, and\n\n563\n00:28:19,440 --> 00:28:21,650\ninside of data, inside of there.\n\n564\n00:28:21,650 --> 00:28:23,640\nAnd before there was just the database.\n\n565\n00:28:23,640 --> 00:28:26,860\nIf I pull that list back up,\nnow there's a lot more.\n\n566\n00:28:26,860 --> 00:28:29,670\nLook at all this other stuff\nthat's appeared in here.\n\n567\n00:28:29,670 --> 00:28:32,170\nAnd it's gonna look kind of messy.\n\n568\n00:28:32,170 --> 00:28:36,346\nThe database is still there,\nthere's that AssetInfo.db,\n\n569\n00:28:36,346 --> 00:28:39,570\nbut there's all these folders\nthat are full of GUIDs.\n\n570\n00:28:39,570 --> 00:28:42,390\nThese are globally unique identifiers.\n\n571\n00:28:42,390 --> 00:28:47,280\nThese are the IDs for the updates and\nthere's a lot more here than just one.\n\n572\n00:28:47,280 --> 00:28:50,914\nAnd that's because when you do a 10.10.3\nupdate, a big update like that,\n\n573\n00:28:50,914 --> 00:28:53,310\nthere's usually more\nthan one version of it.\n\n574\n00:28:53,310 --> 00:28:55,425\nAnd so, it's cataloging each of\nthose different versions and\n\n575\n00:28:55,425 --> 00:28:57,670\nit's starting to download\nthe asset data for it.\n\n576\n00:28:57,670 --> 00:29:01,120\nSo, I know my caching server's working,\nit's right here.\n\n577\n00:29:01,120 --> 00:29:02,900\nIt's starting to cache that data, and\n\n578\n00:29:02,900 --> 00:29:06,280\nwhile my first client didn't\nbenefit from it, my next one will.\n\n579\n00:29:06,280 --> 00:29:08,560\nAnd did I have to change\nanything on the client?\n\n580\n00:29:08,560 --> 00:29:09,360\nNo.\n\n581\n00:29:09,360 --> 00:29:11,720\nTo the client this whole\nprocess is invisible.\n\n582\n00:29:11,720 --> 00:29:15,060\nThey don't know whether they're getting\nit from a caching server or the internet.\n\n583\n00:29:15,060 --> 00:29:17,650\nThey might see it go a lot faster\nthan normal, that would be the only\n\n584\n00:29:17,650 --> 00:29:20,140\nhint they get that it's actually\ncoming from a caching server.\n\n585\n00:29:20,140 --> 00:29:21,820\nSo it is all automatic,\nwhich is pretty slick.\n\n586\n00:29:24,260 --> 00:29:27,250\nNow, if we still don't believe that it's\nbeing used, we can always use the server\n\n587\n00:29:27,250 --> 00:29:29,330\nlogging and this is where we would go for\ntroubleshooting.\n\n588\n00:29:29,330 --> 00:29:34,172\nSo, if we have any problems with\nthe caching server, we can always\n\n589\n00:29:34,172 --> 00:29:39,560\ngo to our logs, and in the logs for\nour server as soon as my logs load.\n\n590\n00:29:39,560 --> 00:29:43,710\nWe can dive in there, and you'll be able\nto choose the logs for the caching server.\n\n591\n00:29:43,710 --> 00:29:47,140\nAnd you'll see when clients check in or\nwhen we register with Apple,\n\n592\n00:29:47,140 --> 00:29:49,580\nit's all right there in the log files.\n\n593\n00:29:49,580 --> 00:29:52,050\nSo, I'm looking at my system\nlogs here by default, but\n\n594\n00:29:52,050 --> 00:29:56,780\nlet me switch over to my caching\nserver logs, right here.\n\n595\n00:29:56,780 --> 00:30:00,220\nAnd what I expect to see is\nme registering with Apple, so\n\n596\n00:30:00,220 --> 00:30:02,230\nhere's my caching server started.\n\n597\n00:30:02,230 --> 00:30:05,730\nRegistration succeeded,\nthat's me registering with Apple to say,\n\n598\n00:30:05,730 --> 00:30:07,170\nI'm a caching server.\n\n599\n00:30:07,170 --> 00:30:10,760\nAnd then right after that,\nrequest my software update for.\n\n600\n00:30:10,760 --> 00:30:14,370\nHere's somebody requesting an update.\n\n601\n00:30:14,370 --> 00:30:17,380\nAs I look down the list,\nI see these request that are going on, and\n\n602\n00:30:17,380 --> 00:30:20,240\nthen right down here,\nit's starting these downloads.\n\n603\n00:30:20,240 --> 00:30:22,880\nIt's downloading some of these\ndifferent little updates\n\n604\n00:30:22,880 --> 00:30:26,560\nthat are the ones that were all\ncreated those GUID folders.\n\n605\n00:30:26,560 --> 00:30:28,710\nSo it's already cached some of that.\n\n606\n00:30:28,710 --> 00:30:32,477\nIt's not showing the big update,\nthe 2 gig update for 10.10.3 yet.\n\n607\n00:30:32,477 --> 00:30:36,010\nIt wont show up here until it's done,\nuntil it's actually downloaded.\n\n608\n00:30:36,010 --> 00:30:37,790\nSo we have to wait for that to happen, but\n\n609\n00:30:37,790 --> 00:30:41,320\nI can see that I am downloading\nupdates and it is now available.\n\n610\n00:30:41,320 --> 00:30:43,390\nSo, caching server?\n\n611\n00:30:43,390 --> 00:30:45,120\nSuper easy to configure,\nyou just turn it on.\n\n612\n00:30:46,120 --> 00:30:47,970\nWorks great, things to watch out for.\n\n613\n00:30:47,970 --> 00:30:49,130\nWatch out for that hard drive space.\n\n614\n00:30:49,130 --> 00:30:52,170\nYou might need to set a limit to it,\ndefinitely keep that in mind.\n\n615\n00:30:52,170 --> 00:30:55,360\nThere's actually a hidden command that's\nuseful for saving hard drive space.\n\n616\n00:30:55,360 --> 00:31:02,520\nLet me cover that, I doubt it will show\nup on the exam but it is possible.\n\n617\n00:31:02,520 --> 00:31:05,570\nLet's see, what actually,\nno, sorry nevermind.\n\n618\n00:31:05,570 --> 00:31:07,610\nI'm thinking of something\nslightly different,\n\n619\n00:31:07,610 --> 00:31:10,270\nit's with the software update\nserver there's a hidden command.\n\n620\n00:31:10,270 --> 00:31:13,490\nSo for this one, really simple,\nreally straightforward.\n\n621\n00:31:13,490 --> 00:31:17,120\nNot a big deal to get this one up and\ngoing, definitely easy.\n\n622\n00:31:17,120 --> 00:31:20,430\nKeep in mind if you're about to deploy\nthis in production, and you gotta weigh\n\n623\n00:31:20,430 --> 00:31:24,240\nthe benefits between the caching\nserver and the software update server.\n\n624\n00:31:24,240 --> 00:31:27,560\nAnd this might not be the right one for\nyou, while it looks easy and great and\n\n625\n00:31:27,560 --> 00:31:29,010\nyou wanna go and deploy it.\n\n626\n00:31:29,010 --> 00:31:32,650\nYou might wanna look at software update\ntoo, so if you haven't done it already,\n\n627\n00:31:32,650 --> 00:31:35,720\nmake sure you jump over and watch our\nepisode on the software update service.\n\n628\n00:31:35,720 --> 00:31:37,290\nYou might find,\nthat one's the better choice.\n\n629\n00:31:37,290 --> 00:31:39,950\nYou might find, that one gives you\nmore control than you care for.\n\n630\n00:31:39,950 --> 00:31:42,940\nAnd in that case, the caching server\nis the better option for you.\n\n631\n00:31:42,940 --> 00:31:46,570\nSo weight the two, decide which one is\nright for you, and get it deployed.\n\n632\n00:31:46,570 --> 00:31:49,400\nThis one dead simple to deploy, definitely\nsomething you wanna make use of.\n\n633\n00:31:51,040 --> 00:31:52,800\nWell, that's about it for this episode.\n\n634\n00:31:52,800 --> 00:31:55,120\nThere's only so much we can talk\nabout on the caching server.\n\n635\n00:31:55,120 --> 00:31:57,140\nSo, I hope you guys enjoyed it.\n\n636\n00:31:57,140 --> 00:32:01,350\nKeep in mind if you have any questions\non this always feel free to ask.\n\n637\n00:32:01,350 --> 00:32:04,150\nLive during the show you\ncan go to ITPro.tv/live and\n\n638\n00:32:04,150 --> 00:32:06,280\nyou'll see the chatroom\nright beneath the video.\n\n639\n00:32:06,280 --> 00:32:07,600\nYou can post your questions there.\n\n640\n00:32:07,600 --> 00:32:09,180\nWe monitor and answer during the show.\n\n641\n00:32:09,180 --> 00:32:12,790\nIf you have questions after the show,\nlike if you're watching this recorded,\n\n642\n00:32:12,790 --> 00:32:15,960\nwell you're not left in the lurch,\nuse our forums.\n\n643\n00:32:15,960 --> 00:32:19,330\nAt the top of every page on the ITProTV\nsite, you'll see a link that says Q & A.\n\n644\n00:32:19,330 --> 00:32:21,790\nClick on it,\nit will take you to the forums.\n\n645\n00:32:21,790 --> 00:32:23,250\nYou can post your question there.\n\n646\n00:32:23,250 --> 00:32:25,190\nWe monitor and answer after the show.\n\n647\n00:32:25,190 --> 00:32:28,030\nIt's a great resource,\nmake sure you take advantage of it.\n\n648\n00:32:28,030 --> 00:32:29,316\nAll right, well,\nI hope you guys enjoyed today's episode.\n\n649\n00:32:29,316 --> 00:32:33,199\nSigning off for ITProTV,\nI'm Don Pezet and I'll see you next time.\n\n650\n00:32:33,199 --> 00:32:43,199\n[MUSIC]\n\n",
          "vimeoId": "125706857"
        },
        {
          "description": null,
          "length": "2633",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-5-2-software_update_service-042115-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-5-2-software_update_service-042115-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-5-2-software_update_service-042115-1-sm.jpg",
          "title": "Software Update Service",
          "transcript": "1\n00:00:00,000 --> 00:00:10,000\n[MUSIC]\n\n2\n00:00:33,585 --> 00:00:36,140\nAll right, good morning,\ngood afternoon, and good evening!\n\n3\n00:00:36,140 --> 00:00:40,505\nWelcome back to another episode of\nITProTV, I'm your host Don Pezet.\n\n4\n00:00:40,505 --> 00:00:44,400\nBack again with another episode of\nApple certified technical coordinator.\n\n5\n00:00:44,400 --> 00:00:48,450\nIn this episode, we're gonna be taking\na look at the software update service.\n\n6\n00:00:48,450 --> 00:00:50,450\nNow, this episode covers, well,\n\n7\n00:00:50,450 --> 00:00:54,220\nthe software update service,\nI've already said that, but covers it.\n\n8\n00:00:54,220 --> 00:00:56,980\nAnd it's important to understand that\nyou don't wanna watch just this episode\n\n9\n00:00:56,980 --> 00:00:57,870\nby itself.\n\n10\n00:00:57,870 --> 00:01:02,390\nIt's a great idea to also watch\nthe caching service episode,\n\n11\n00:01:02,390 --> 00:01:05,530\nbecause these two are mutually\nexclusive technologies.\n\n12\n00:01:05,530 --> 00:01:07,200\nYou can use one or the other.\n\n13\n00:01:07,200 --> 00:01:10,140\nSo if you haven't watched the caching one,\nyou definitely wanna check that out.\n\n14\n00:01:10,140 --> 00:01:14,200\nBut setting that aside, let's dive into\nthe software update service, right?\n\n15\n00:01:14,200 --> 00:01:17,135\nSo, what the heck is\nthe software update service?\n\n16\n00:01:17,135 --> 00:01:21,065\nWell, what it is is a really neat\nsystem that's built into the OS 10\n\n17\n00:01:21,065 --> 00:01:24,765\nserver application that allows\nus to take some control\n\n18\n00:01:24,765 --> 00:01:28,315\nover the updates that\nare available to our end users.\n\n19\n00:01:28,315 --> 00:01:29,855\nWhen a new update comes out from Apple, so\n\n20\n00:01:29,855 --> 00:01:34,345\nfor example that the 10.10.3\nupdate just came out last week.\n\n21\n00:01:34,345 --> 00:01:37,350\nWhen a new update comes out\nlike that each of your Macs,\n\n22\n00:01:37,350 --> 00:01:40,430\nby default,\nare checking in with Apple every so often.\n\n23\n00:01:40,430 --> 00:01:44,250\nAnd they'll see that update and\nthey'll prompt the end users to update.\n\n24\n00:01:44,250 --> 00:01:45,066\nAnd it's up to them.\n\n25\n00:01:45,066 --> 00:01:46,159\nThey decide.\n\n26\n00:01:46,159 --> 00:01:47,540\nDo they wanna do the update or not?\n\n27\n00:01:47,540 --> 00:01:48,980\nSometimes they won't.\n\n28\n00:01:48,980 --> 00:01:52,490\nSometimes they'll skip it and you've got\nthis machine that's outta date, right?\n\n29\n00:01:52,490 --> 00:01:54,770\nOther times, they'll say yeah,\nI wanna do it.\n\n30\n00:01:54,770 --> 00:01:58,300\nAnd they do the update, and maybe you\nhave things like third party applications\n\n31\n00:01:58,300 --> 00:02:01,060\nthat aren't ready for that update yet\nand things get broken.\n\n32\n00:02:01,060 --> 00:02:03,380\nThat really happens when\nyou have a major update.\n\n33\n00:02:03,380 --> 00:02:05,830\nSo maybe you've got machines\nthat are running Mavericks and\n\n34\n00:02:05,830 --> 00:02:08,670\nYosemite just came out and you wanna wait.\n\n35\n00:02:08,670 --> 00:02:09,436\nYou gotta test some software.\n\n36\n00:02:09,436 --> 00:02:10,830\nYou gotta make sure things are ready.\n\n37\n00:02:10,830 --> 00:02:12,170\nAnd your end users have already done it.\n\n38\n00:02:12,170 --> 00:02:16,010\nThey've already jumped and installed\nYosemite and now some software is broken.\n\n39\n00:02:16,010 --> 00:02:18,170\nAnd you gotta roll them\nback with time machine or\n\n40\n00:02:18,170 --> 00:02:20,770\nwhatever it is that you need to do\nto get them back and operational.\n\n41\n00:02:20,770 --> 00:02:22,950\nWell software update lets us control that.\n\n42\n00:02:22,950 --> 00:02:28,260\nWith software update service we can\ndownload a list of updates from Apple,\n\n43\n00:02:28,260 --> 00:02:29,960\nall the updates are available.\n\n44\n00:02:29,960 --> 00:02:31,410\nAnd then we can go through and\n\n45\n00:02:31,410 --> 00:02:34,210\npick and choose whether\nthe updates are enabled or not.\n\n46\n00:02:34,210 --> 00:02:37,140\nSo just because 10.10.3\ncame out doesn't mean I\n\n47\n00:02:37,140 --> 00:02:39,600\nwant all my end users to have it just yet.\n\n48\n00:02:39,600 --> 00:02:42,340\nSo I can flag that update to download it.\n\n49\n00:02:42,340 --> 00:02:45,790\nAnd then I can choose who gets\nthe update and who doesn't.\n\n50\n00:02:45,790 --> 00:02:48,710\nI can choose whether it's enabled\nin my network or not, right?\n\n51\n00:02:48,710 --> 00:02:52,970\nAnd if something goes wrong, if I push\nan update out and things start to break\n\n52\n00:02:52,970 --> 00:02:57,230\nI can choose to remove the update and back\nit off of the machines that are out there.\n\n53\n00:02:57,230 --> 00:03:00,530\nIt gives you the control\nto manage those updates.\n\n54\n00:03:00,530 --> 00:03:05,380\nNow if you've watched the caching episode,\nthis might sound a little bit familiar.\n\n55\n00:03:05,380 --> 00:03:07,990\nIn the caching episode we talked\nabout how the caching server\n\n56\n00:03:07,990 --> 00:03:10,610\ncan download copies of the updates.\n\n57\n00:03:10,610 --> 00:03:14,410\nAnd when people go to install an update\nthey just get it from the caching server.\n\n58\n00:03:14,410 --> 00:03:16,202\nWell the software update\nsort of works the same way.\n\n59\n00:03:16,202 --> 00:03:17,119\nIt downloads the updates.\n\n60\n00:03:17,119 --> 00:03:18,581\nIt's sitting right there.\n\n61\n00:03:18,581 --> 00:03:20,115\nAnd when somebody goes\nout to get an update,\n\n62\n00:03:20,115 --> 00:03:22,030\nthey can get it right from\nthe software update server.\n\n63\n00:03:23,190 --> 00:03:25,740\nThe difference is control.\n\n64\n00:03:25,740 --> 00:03:28,670\nThe software update server\nwill automatically download\n\n65\n00:03:28,670 --> 00:03:31,920\nupdates as soon as they're available,\nif you set it that way.\n\n66\n00:03:31,920 --> 00:03:34,150\nAnd then it can make them\navailable to your clients.\n\n67\n00:03:34,150 --> 00:03:36,710\nOr you can manually pick and\nchoose which updates get approved,\n\n68\n00:03:36,710 --> 00:03:37,940\nyou get that control.\n\n69\n00:03:37,940 --> 00:03:40,510\nThe caching server doesn't\ngive you that control.\n\n70\n00:03:40,510 --> 00:03:43,660\nAnd that's why these two\nare mutually exclusive.\n\n71\n00:03:43,660 --> 00:03:45,746\nYou're going to run one or the other.\n\n72\n00:03:45,746 --> 00:03:49,066\nIf you're running the caching server,\ndon't run software update services.\n\n73\n00:03:49,066 --> 00:03:50,756\nIf you're running\nsoftware update services,\n\n74\n00:03:50,756 --> 00:03:52,225\ndon't run the caching server, right?\n\n75\n00:03:52,225 --> 00:03:53,875\nYou gotta run one or the other.\n\n76\n00:03:53,875 --> 00:03:57,395\nBut if you're in an enterprise\nenvironment, if you have mission critical\n\n77\n00:03:57,395 --> 00:04:00,695\nsystems, a software update\nserver can be really beneficial,\n\n78\n00:04:00,695 --> 00:04:05,640\nbecause it's what's going to control\nwhether or not you push these updates out.\n\n79\n00:04:05,640 --> 00:04:07,860\nThese updates could\npotentially break software.\n\n80\n00:04:07,860 --> 00:04:09,940\nYou need to keep your\nemployees productive.\n\n81\n00:04:09,940 --> 00:04:11,570\nBut, you need to keep your network secure.\n\n82\n00:04:11,570 --> 00:04:15,050\nSo, it's kind of like weighing\nthe benefits, the pros and cons.\n\n83\n00:04:15,050 --> 00:04:17,380\nI can rapidly push out updates.\n\n84\n00:04:17,380 --> 00:04:20,320\nBut potentially I can break software,\nnow my employees can't work.\n\n85\n00:04:20,320 --> 00:04:23,780\nWell, that's just as bad as if\ntheir machine got compromised and\n\n86\n00:04:23,780 --> 00:04:26,600\ntaken offline,\nlike a denial of service attack.\n\n87\n00:04:26,600 --> 00:04:27,830\nIn which case they can't work.\n\n88\n00:04:27,830 --> 00:04:29,900\nSo you kind of lose out either way there.\n\n89\n00:04:29,900 --> 00:04:32,960\nSo being able to test your updates,\nmake sure they're good,\n\n90\n00:04:32,960 --> 00:04:34,870\nthen push them out, that's very valuable.\n\n91\n00:04:35,930 --> 00:04:38,410\nThe software update service\nis pretty easy to configure.\n\n92\n00:04:38,410 --> 00:04:39,770\nIt's not as easy as the caching server.\n\n93\n00:04:39,770 --> 00:04:42,220\nCaching server you just flip an on switch,\nright?\n\n94\n00:04:42,220 --> 00:04:46,290\nBut with the software update server,\nthere's an on switch, so there's that.\n\n95\n00:04:46,290 --> 00:04:50,940\nBut we actually do have to tell the\nclients to use our software update server.\n\n96\n00:04:50,940 --> 00:04:52,100\nThe clients don't know.\n\n97\n00:04:52,100 --> 00:04:55,190\nThey don't automatically find\nan update server like they would with\n\n98\n00:04:55,190 --> 00:04:56,280\na caching server.\n\n99\n00:04:56,280 --> 00:04:59,100\nSo to get a set-up,\nthere's actually two parts.\n\n100\n00:04:59,100 --> 00:05:00,760\nThe first part is setting up a server.\n\n101\n00:05:00,760 --> 00:05:04,215\nYou need to get your software\nupdate server set up.\n\n102\n00:05:04,215 --> 00:05:06,759\nAnd then the second part\nis you have to go and\n\n103\n00:05:06,759 --> 00:05:09,313\ntell the clients to use the update server.\n\n104\n00:05:09,313 --> 00:05:14,530\nAll right, now,\nyou may need more than one update server.\n\n105\n00:05:14,530 --> 00:05:19,400\nSo for example, let's say that I want\nto do, I always call it a canary group.\n\n106\n00:05:19,400 --> 00:05:21,107\nWhen a new update comes out,\n\n107\n00:05:21,107 --> 00:05:25,670\nI always immediately rolled the update\nout to a select number of computers.\n\n108\n00:05:25,670 --> 00:05:28,745\nThese are computers that are gonna\nbe run by IT personnel or\n\n109\n00:05:28,745 --> 00:05:31,778\nstaff that's a little more\ntechnically savvy, right?\n\n110\n00:05:31,778 --> 00:05:34,794\nI want them to get the updates right\naway because if there's a problem,\n\n111\n00:05:34,794 --> 00:05:35,910\nthey'll spot it.\n\n112\n00:05:35,910 --> 00:05:37,170\nThey'll spot it and they'll let me know.\n\n113\n00:05:37,170 --> 00:05:39,230\nWe can troubleshoot it and\nfind out what's wrong with that update or\n\n114\n00:05:39,230 --> 00:05:40,520\nwhat we need to do to get it working.\n\n115\n00:05:40,520 --> 00:05:44,741\nAnd only after I pass that period\nof testing do I then say, okay,\n\n116\n00:05:44,741 --> 00:05:48,036\nI'm gonna roll the update\nout to everybody else.\n\n117\n00:05:48,036 --> 00:05:52,657\nWell, in the software update service\nyou can only turn an update on or off.\n\n118\n00:05:52,657 --> 00:05:55,640\nYou can't really pick like,\nI want this group to get this update.\n\n119\n00:05:55,640 --> 00:05:58,015\nI want this other group\nto not get that update.\n\n120\n00:05:58,015 --> 00:06:01,695\nIf you want that, you need more\nthan one software update server.\n\n121\n00:06:01,695 --> 00:06:05,355\nSo, you might have one software update\nserver, that's your Canary group,\n\n122\n00:06:05,355 --> 00:06:10,005\nthat's automatically proven every\nupdate the moment it's released.\n\n123\n00:06:10,005 --> 00:06:12,615\nAnd, then you have another\nsoftware update server,\n\n124\n00:06:12,615 --> 00:06:15,315\nthat services the rest of\nthe computers in your environment.\n\n125\n00:06:15,315 --> 00:06:17,460\nAnd it is a lot more conservative.\n\n126\n00:06:17,460 --> 00:06:19,260\nIt requires manual approval.\n\n127\n00:06:19,260 --> 00:06:22,060\nYou go through and\napprove when the updates roll out, and\n\n128\n00:06:22,060 --> 00:06:25,620\nthat way you get that granular control,\nwho get what updates, and\n\n129\n00:06:25,620 --> 00:06:26,961\nnow you've got a nice,\nflexible environment, all right?\n\n130\n00:06:28,060 --> 00:06:31,780\nBut getting the software updates server\nsetup itself is pretty straightforward.\n\n131\n00:06:31,780 --> 00:06:34,970\nThe client side, getting the client\nconfigured, that's that second part.\n\n132\n00:06:34,970 --> 00:06:37,200\nThat is a little more involved,\ncuz there's two ways to do it.\n\n133\n00:06:37,200 --> 00:06:38,690\nNeither way is particularly convenient,\nbut\n\n134\n00:06:38,690 --> 00:06:42,050\nwe'll get a chance to see both\nof them here in this episode.\n\n135\n00:06:42,050 --> 00:06:44,200\nBut let's start with just getting\nour server set up, right?\n\n136\n00:06:45,260 --> 00:06:47,640\nWell, this is all built\ninto the server app, but\n\n137\n00:06:47,640 --> 00:06:49,430\nit is one of the advanced services.\n\n138\n00:06:49,430 --> 00:06:54,100\nSo if I go into my server app here, and\nif I kinda put this back to the default,\n\n139\n00:06:54,100 --> 00:06:56,660\nthe first time you want a server\napp this is what you see, and\n\n140\n00:06:56,660 --> 00:06:59,020\nthings like the caching server,\nit's right there.\n\n141\n00:06:59,020 --> 00:07:00,848\nIt's considered a standard service.\n\n142\n00:07:00,848 --> 00:07:04,865\nBut the software update service is\nburied down here under Advanced.\n\n143\n00:07:04,865 --> 00:07:07,750\nAnd if I go down under Advanced,\nI'll find Software Update, and\n\n144\n00:07:07,750 --> 00:07:10,177\nthat's where my software\nupdate service is, right?\n\n145\n00:07:11,290 --> 00:07:14,810\nNow when I first get in here,\nit's turned off.\n\n146\n00:07:14,810 --> 00:07:17,890\nIt's turned off and\nI'm not seeing a lot of options, right?\n\n147\n00:07:17,890 --> 00:07:20,357\nThe only option I see is automatic or\nmanual, right?\n\n148\n00:07:21,550 --> 00:07:26,934\nWhat that means is when an update\ncomes out from Apple, what do I do?\n\n149\n00:07:26,934 --> 00:07:31,333\nDo I automatically download it and\nimmediately enable it for everybody, or\n\n150\n00:07:31,333 --> 00:07:32,994\ndo I do it manually, right?\n\n151\n00:07:32,994 --> 00:07:36,179\nNow this automatic setting, the automatic\nsetting says the moment an update\n\n152\n00:07:36,179 --> 00:07:38,480\ncomes out from Apple,\ngo ahead and download it.\n\n153\n00:07:38,480 --> 00:07:40,500\nEven if none of my clients\nhave requested it.\n\n154\n00:07:40,500 --> 00:07:42,140\nThat's a little different\nthan the caching server.\n\n155\n00:07:42,140 --> 00:07:43,750\nBut, just go out and get it.\n\n156\n00:07:43,750 --> 00:07:45,600\nAnd then enable it right away.\n\n157\n00:07:45,600 --> 00:07:47,953\nSo, if any of my clients request it,\nthey'll that get that update.\n\n158\n00:07:47,953 --> 00:07:53,133\nWell, that functionality is not really\nany different than the caching server.\n\n159\n00:07:53,133 --> 00:07:57,568\nAnd, so, I can honestly say that I\ndon't normally use the automatic mode.\n\n160\n00:07:57,568 --> 00:08:01,555\nI use the automatic mode for my canary\ngroup, for that group that I want to get\n\n161\n00:08:01,555 --> 00:08:04,500\nthe updates right away, but\nthen I can do my testing on.\n\n162\n00:08:04,500 --> 00:08:06,670\nBut, in that scenario for most people,\n\n163\n00:08:06,670 --> 00:08:09,550\nthey'll just use the caching server,\nall right?\n\n164\n00:08:09,550 --> 00:08:11,660\nWhat we normally want is manual.\n\n165\n00:08:11,660 --> 00:08:15,000\nAnd manual means when\na new update comes out,\n\n166\n00:08:15,000 --> 00:08:18,040\nlet me figure out if I wanna download and\nenable it.\n\n167\n00:08:18,040 --> 00:08:19,630\nAnd push it out to my clients.\n\n168\n00:08:19,630 --> 00:08:21,820\nOkay, so we've got that choice.\n\n169\n00:08:21,820 --> 00:08:22,900\nBut notice here,\n\n170\n00:08:22,900 --> 00:08:28,830\nunder automatic it says, updates no\nlonger supported by Apple are removed.\n\n171\n00:08:28,830 --> 00:08:31,430\nThere's times when you have\nolder operating systems,\n\n172\n00:08:31,430 --> 00:08:34,000\nthat Apple no longer supports,\nthey stop pushing updates.\n\n173\n00:08:34,000 --> 00:08:35,890\nAnd when they stop pushing the updates.\n\n174\n00:08:35,890 --> 00:08:39,640\nThey remove the updates from your server,\nfrom your software update server.\n\n175\n00:08:39,640 --> 00:08:40,430\nWell, if for\n\n176\n00:08:40,430 --> 00:08:43,610\nsome reason you're still running these\nsystems that are no longer supported.\n\n177\n00:08:43,610 --> 00:08:45,140\nYou can go to manual, and\n\n178\n00:08:45,140 --> 00:08:48,390\nit'll keep updates forever until\nyou tell it to delete them.\n\n179\n00:08:48,390 --> 00:08:52,290\nNow, you do get some hard drive storage\nspace type issues before too terribly\n\n180\n00:08:52,290 --> 00:08:57,050\nlong, but it'll store them,\nsaves them, keeps them available.\n\n181\n00:08:57,050 --> 00:09:00,950\nAnd you'll have those,\nas long as you keep that server around.\n\n182\n00:09:00,950 --> 00:09:03,130\nSo kind of different choices there.\n\n183\n00:09:03,130 --> 00:09:04,840\nBut for most of us,\nwe are gonna go manual.\n\n184\n00:09:04,840 --> 00:09:07,630\nNot because we necessarily want old,\nunsupportive stuff.\n\n185\n00:09:07,630 --> 00:09:09,160\nBut just because we want that control.\n\n186\n00:09:09,160 --> 00:09:12,370\nWe want to be able to enable,\ndisable, remove, update, and\n\n187\n00:09:12,370 --> 00:09:14,030\nthat's the control we get when\nwe're in the manual mode.\n\n188\n00:09:14,030 --> 00:09:14,530\nAll right?\n\n189\n00:09:15,710 --> 00:09:18,030\nBut otherwise,\nwe really just flip our on switch.\n\n190\n00:09:18,030 --> 00:09:18,670\nNow.\n\n191\n00:09:18,670 --> 00:09:23,480\nBefore I do that, if we're going\ninto automatic mode it's gonna\n\n192\n00:09:23,480 --> 00:09:28,070\ngo into Apple and\nit's gonna download a ton of updates.\n\n193\n00:09:28,070 --> 00:09:32,050\nIt can take a long time; it can take the\nbetter part of a day to go out there and\n\n194\n00:09:32,050 --> 00:09:34,270\ndownload all of the updates\nthat are available.\n\n195\n00:09:34,270 --> 00:09:38,270\nSo when it does that,\nwhere are the updates being stored?\n\n196\n00:09:38,270 --> 00:09:42,000\nWell, the default location is on the same\nhard drive as your operating system.\n\n197\n00:09:42,000 --> 00:09:43,500\nBut unlike the caching server,\n\n198\n00:09:43,500 --> 00:09:47,360\nI don't have a nice little screen here\nto pick where I want the updates to go.\n\n199\n00:09:47,360 --> 00:09:49,960\nIf I wanna change my update location.\n\n200\n00:09:49,960 --> 00:09:55,360\nThe easiest way to do that, is if you go\nup to your server setting right here and\n\n201\n00:09:55,360 --> 00:09:59,820\ngo to storage, you'll see the drives\nwhere you data is being stored.\n\n202\n00:09:59,820 --> 00:10:02,950\nI've only got one hard drive,\nyou might have more than one hard drive.\n\n203\n00:10:04,500 --> 00:10:08,800\nBack here in my settings,\nyou'll see service data and\n\n204\n00:10:08,800 --> 00:10:10,870\nhow it's pointing the Macintosh HD.\n\n205\n00:10:10,870 --> 00:10:15,080\nIf I change that service data location\nto somewhere else on the drive now that\n\n206\n00:10:15,080 --> 00:10:17,370\ndata will get back up there, the updates.\n\n207\n00:10:17,370 --> 00:10:20,040\nWhen software update goes to\ndownload things it'll go to wherever\n\n208\n00:10:20,040 --> 00:10:21,210\nthis location is.\n\n209\n00:10:21,210 --> 00:10:22,800\nThat's the easiest way to move it.\n\n210\n00:10:22,800 --> 00:10:24,200\nBut remember that moves everything.\n\n211\n00:10:24,200 --> 00:10:26,760\nIt moves your websites,\nyour mail, everything else.\n\n212\n00:10:26,760 --> 00:10:28,570\nEverything is tied to that entry.\n\n213\n00:10:28,570 --> 00:10:30,820\nSo it's not just doing\na software update service.\n\n214\n00:10:30,820 --> 00:10:31,420\nRight?\n\n215\n00:10:31,420 --> 00:10:34,210\nBut, the easiest way to move it to\na different location is with this option\n\n216\n00:10:34,210 --> 00:10:36,000\nright here.\n\n217\n00:10:36,000 --> 00:10:39,020\nGoing back to software update,\nwhen I turn it on,\n\n218\n00:10:39,020 --> 00:10:41,885\nsome interesting things are gonna happen.\n\n219\n00:10:41,885 --> 00:10:47,305\nThe software update service,\nwhen we turn it on, not much happens.\n\n220\n00:10:47,305 --> 00:10:49,235\nRight?\nIt just kinda flips on and that's it.\n\n221\n00:10:49,235 --> 00:10:49,895\nRight?\n\n222\n00:10:49,895 --> 00:10:51,485\nI'm now a software update server.\n\n223\n00:10:51,485 --> 00:10:53,075\nSo where's the interesting part?\n\n224\n00:10:53,075 --> 00:10:56,355\nWell, the interesting part is, it doesn't\nactually reach right out to Apple and\n\n225\n00:10:56,355 --> 00:10:57,025\nstart doing work.\n\n226\n00:10:57,025 --> 00:10:59,475\nIn fact, let me flip that back off again.\n\n227\n00:10:59,475 --> 00:11:02,585\nWhat I don't wanna do is I don't wanna\ndownload the whole suite of updates right\n\n228\n00:11:02,585 --> 00:11:04,072\nhere on this virtual machine, so.\n\n229\n00:11:04,072 --> 00:11:07,490\nI'm gonna flip it to manual real quick and\nreset that.\n\n230\n00:11:08,680 --> 00:11:09,490\nThere we go.\n\n231\n00:11:09,490 --> 00:11:11,410\nSo I'm in manual mode now.\n\n232\n00:11:11,410 --> 00:11:14,990\nI've turned the machine on and technically\nright now I'm not gonna do anything.\n\n233\n00:11:16,120 --> 00:11:20,650\nBut if I go to my updates tab,\nI'll see the updates that are available.\n\n234\n00:11:20,650 --> 00:11:23,000\nIt says reading updates and\nthat's because for\n\n235\n00:11:23,000 --> 00:11:26,830\nthe brief moment I was in automatic\nit did actually reach out to Apple.\n\n236\n00:11:26,830 --> 00:11:31,930\nNormally when you turn on the update\nserver, it's gonna come in here and\n\n237\n00:11:31,930 --> 00:11:33,850\nit'll just say no updates available.\n\n238\n00:11:33,850 --> 00:11:35,980\nAnd what you have to do is\nat the bottom of the screen,\n\n239\n00:11:35,980 --> 00:11:37,500\nlet me get this up on my screen.\n\n240\n00:11:37,500 --> 00:11:40,280\nYou can hit the gear and\nchoose Check for Updates.\n\n241\n00:11:40,280 --> 00:11:42,930\nAnd that's gonna tell it\nto reach out to Apple and\n\n242\n00:11:42,930 --> 00:11:47,500\nget me a list of all of them updates\nthat are available right now.\n\n243\n00:11:47,500 --> 00:11:49,720\nAnd so it's gonna reach out to Apple and\ndo that.\n\n244\n00:11:49,720 --> 00:11:53,290\nThe first time you do this,\nit can take a while, right.\n\n245\n00:11:53,290 --> 00:11:56,530\nIt's just pulling a list, it's not\nactually downloading the updates, and\n\n246\n00:11:56,530 --> 00:11:59,340\njust pulling that list can still\ntake a good five to ten minutes in\n\n247\n00:11:59,340 --> 00:12:03,470\nsome cases as it reaches out and gets all\nthe XML files that define those update.\n\n248\n00:12:04,770 --> 00:12:09,490\nSo it's getting a lot of information,\nwell I don't have mine set to download.\n\n249\n00:12:09,490 --> 00:12:11,460\nBack under settings I chose manual.\n\n250\n00:12:11,460 --> 00:12:13,990\nAnd that just says choose\nupdates to download and enable.\n\n251\n00:12:13,990 --> 00:12:17,930\nIn other words we'll know the updates\nare there, but we won't download them and\n\n252\n00:12:17,930 --> 00:12:18,820\nwe won't enable them.\n\n253\n00:12:18,820 --> 00:12:21,320\nSo it's up to us to go in and\ndownload them.\n\n254\n00:12:21,320 --> 00:12:24,230\nAnd then choose to enable\nthem whenever we want.\n\n255\n00:12:24,230 --> 00:12:27,450\nAutomatic downloads and enables.\n\n256\n00:12:27,450 --> 00:12:30,740\nBut what if you want to download and\nnot enable, right?\n\n257\n00:12:30,740 --> 00:12:32,860\nWell these buttons don't\nlet me choose that.\n\n258\n00:12:32,860 --> 00:12:36,240\nIf I go to the updates tab though, see\nhow I've got this check mark right here?\n\n259\n00:12:36,240 --> 00:12:38,560\nAutomatically download new updates.\n\n260\n00:12:38,560 --> 00:12:39,300\nI can check that.\n\n261\n00:12:40,520 --> 00:12:42,750\nNow I'm in manual mode, but\n\n262\n00:12:42,750 --> 00:12:46,210\nwhen I check that it will download\nthe updates and not enable them.\n\n263\n00:12:46,210 --> 00:12:48,610\nThey will be stored right\nhere on the drive and\n\n264\n00:12:48,610 --> 00:12:49,740\nI can go through and check them off.\n\n265\n00:12:49,740 --> 00:12:51,390\nThat is the mode that I normally run.\n\n266\n00:12:51,390 --> 00:12:54,800\nI normally set that automatically\ndownload option to on, and\n\n267\n00:12:54,800 --> 00:12:56,870\nthen leave it to manual mode for\napprovals.\n\n268\n00:12:56,870 --> 00:13:01,447\nThat way all the updates get downloaded\nand they are ready and waiting for me,\n\n269\n00:13:01,447 --> 00:13:04,124\nI can turn them on and\ntest, or turn them on and\n\n270\n00:13:04,124 --> 00:13:06,952\nroll them out to my clients\nacross the network.\n\n271\n00:13:06,952 --> 00:13:10,502\nNow we're not really gonna see a whole lot\nof excitement here cuz it's reaching out\n\n272\n00:13:10,502 --> 00:13:13,088\nto Apple and doing that download,\nbut while we wait on this,\n\n273\n00:13:13,088 --> 00:13:15,640\nI wanna show you on the hard\ndrive where all this is going to.\n\n274\n00:13:16,680 --> 00:13:17,770\nI'm gonna fire up my terminal.\n\n275\n00:13:20,370 --> 00:13:24,690\nAnd I'm gonna switch to\n/Library/Server/Software Update.\n\n276\n00:13:28,680 --> 00:13:31,334\nOkay, so this is the folder\nwhere it's storing things in.\n\n277\n00:13:31,334 --> 00:13:34,180\n/Library/Server/Software Update.\n\n278\n00:13:34,180 --> 00:13:39,130\nIf I have moved the server storage\nfolder to another drive then\n\n279\n00:13:39,130 --> 00:13:43,190\nit would be slash volumes slash\nwhatever that volume name is,\n\n280\n00:13:43,190 --> 00:13:45,400\nslash library slash server\nslash software update.\n\n281\n00:13:45,400 --> 00:13:47,670\nSo it might be stored somewhere else for\nyou.\n\n282\n00:13:47,670 --> 00:13:51,200\nWhen you browse into that folder\nyou'll see there's not much in there.\n\n283\n00:13:51,200 --> 00:13:53,590\nThere's a cache, which is typically empty.\n\n284\n00:13:53,590 --> 00:13:55,880\nThere's the configuration for\nthe software update server.\n\n285\n00:13:55,880 --> 00:13:57,060\nThat's where it's stored.\n\n286\n00:13:57,060 --> 00:13:57,830\nThere's data.\n\n287\n00:13:59,000 --> 00:14:01,830\nThat's where the actual updates are going.\n\n288\n00:14:01,830 --> 00:14:04,730\nBut the updates are stored in\na format that's very different than\n\n289\n00:14:04,730 --> 00:14:06,060\nwhat you're used to.\n\n290\n00:14:06,060 --> 00:14:09,080\nIf we go into that folder,\nwhat you'll see if a folder called HTML.\n\n291\n00:14:09,080 --> 00:14:13,000\nThe updates are actually\nstored in a web server.\n\n292\n00:14:13,000 --> 00:14:14,760\nWhen you turn on\nthe software update server,\n\n293\n00:14:14,760 --> 00:14:17,930\ncreating a mini Apache web\nserver in the background.\n\n294\n00:14:17,930 --> 00:14:20,790\nAnd it's serving it up as a webpage.\n\n295\n00:14:20,790 --> 00:14:23,300\nWhen your clients are checking\nin with your server,\n\n296\n00:14:23,300 --> 00:14:24,850\nthey're really just browsing to a webpage.\n\n297\n00:14:24,850 --> 00:14:25,640\nIt's all in the background.\n\n298\n00:14:25,640 --> 00:14:27,940\nThe end-users don't see it,\nbut that's how it functions.\n\n299\n00:14:27,940 --> 00:14:31,830\nAnd when they browse to that web page,\nthey ask for a catalog file.\n\n300\n00:14:31,830 --> 00:14:33,930\nAnd you can see my catalog\nfile's right here.\n\n301\n00:14:33,930 --> 00:14:37,260\nThere's these index files,\nthese guys, right?\n\n302\n00:14:37,260 --> 00:14:42,710\nEach of those, those are my catalog files\nand they identify, all of the updates\n\n303\n00:14:42,710 --> 00:14:47,110\navailable for each of those operating\nsystems, and which ones are enabled.\n\n304\n00:14:47,110 --> 00:14:50,860\nSo this is how they know which updates to\nget when they check in with my server.\n\n305\n00:14:50,860 --> 00:14:53,190\nWhen you reach out to Apple,\nyou're doing the same thing.\n\n306\n00:14:53,190 --> 00:14:55,290\nYou're reaching out to their server.\n\n307\n00:14:55,290 --> 00:14:56,690\nYou're asking for this catalog file.\n\n308\n00:14:56,690 --> 00:14:58,730\nThe only difference is\nevery update is enabled.\n\n309\n00:14:58,730 --> 00:14:59,620\nWhen it comes right from Apple.\n\n310\n00:14:59,620 --> 00:15:02,130\nAnd then you download\nit from their servers.\n\n311\n00:15:02,130 --> 00:15:04,900\nHere it's just gonna list\nthe ones that you've enabled, and\n\n312\n00:15:04,900 --> 00:15:08,080\ntell it to download right here from this\nserver instead of going out to Apple.\n\n313\n00:15:08,080 --> 00:15:08,970\nThere's that control.\n\n314\n00:15:08,970 --> 00:15:09,650\nThat's where we get that.\n\n315\n00:15:11,250 --> 00:15:13,310\nBut the updates aren't actually\nin these catalog files.\n\n316\n00:15:13,310 --> 00:15:16,100\nThese catalog files\nare really pretty small.\n\n317\n00:15:16,100 --> 00:15:19,340\nIf I look at the size of most of these,\nthey're really just a handful of bytes,\n\n318\n00:15:19,340 --> 00:15:22,290\nmostly cuz I'm still downloading\nthe update list in the background.\n\n319\n00:15:22,290 --> 00:15:23,300\nIt'll get bigger.\n\n320\n00:15:23,300 --> 00:15:25,850\nBut it's rare to see them bigger\nthan a few megabytes in size.\n\n321\n00:15:25,850 --> 00:15:30,370\nBut you might have noticed\nthat other folder, content.\n\n322\n00:15:30,370 --> 00:15:33,310\nThat's where the actual\nupdates are being stored, and\n\n323\n00:15:33,310 --> 00:15:36,020\nApple stores them based on IDs.\n\n324\n00:15:36,020 --> 00:15:41,130\nAnd so if I browse all the way into\ndownloads, you get all of these numerical\n\n325\n00:15:41,130 --> 00:15:44,780\nfolder numbers, and each of the updates\nget downloaded and thrown into here.\n\n326\n00:15:44,780 --> 00:15:48,069\nThese folders represent various\nthings like hardware products and\n\n327\n00:15:48,069 --> 00:15:49,112\nsoftware products.\n\n328\n00:15:49,112 --> 00:15:53,986\nWe don't necessarily know what each\nnumber stands for but the updates for\n\n329\n00:15:53,986 --> 00:15:58,073\nthat product will get thrown\ninto that particular folder, so\n\n330\n00:15:58,073 --> 00:16:01,766\nIf I go into folder 35,\nthat might represent iWorks,\n\n331\n00:16:01,766 --> 00:16:07,030\nthat might represent MacBook Pro\n2012 [INAUDIBLE] model, or whatever.\n\n332\n00:16:07,030 --> 00:16:08,741\nIt could represent any\nnumber of different things.\n\n333\n00:16:08,741 --> 00:16:11,806\nAnd inside of that you'll start to\nsee the various updates for it.\n\n334\n00:16:11,806 --> 00:16:16,290\nSo quite a bit of navigation\nkind of happens here.\n\n335\n00:16:16,290 --> 00:16:19,836\nIf we're just blindly browsing\n[LAUGH] through it like I'm doing,\n\n336\n00:16:19,836 --> 00:16:21,620\nit's not terribly meaningful.\n\n337\n00:16:21,620 --> 00:16:25,404\nBut to the system, those catalog\nfiles tell it exactly where to look.\n\n338\n00:16:25,404 --> 00:16:28,701\nSo it knows exactly, where to find\nthe update to download it, and install it.\n\n339\n00:16:28,701 --> 00:16:30,792\nAnd it's all stored right in here.\n\n340\n00:16:32,905 --> 00:16:37,598\nIf there is one attribute that I know\nabout myself, it's that I'm impatient.\n\n341\n00:16:37,598 --> 00:16:40,520\nI don't wanna wait for this update\nlist to download in the background,\n\n342\n00:16:40,520 --> 00:16:41,820\nI know it can take a long time.\n\n343\n00:16:41,820 --> 00:16:43,780\nSo, I've actually got some\nvirtual machines prepared,\n\n344\n00:16:43,780 --> 00:16:45,950\nthat already have\nthe list available to us.\n\n345\n00:16:45,950 --> 00:16:47,250\nBut I need to switch over to them.\n\n346\n00:16:47,250 --> 00:16:48,927\nSo let's stop here, and take a break.\n\n347\n00:16:48,927 --> 00:16:51,405\nAnd when we get back,\nI'll have a virtual machines going,\n\n348\n00:16:51,405 --> 00:16:53,550\nthat already have all of\nthose updates ready to go.\n\n349\n00:16:53,550 --> 00:16:56,800\nAnd we'll get a chance to see\nthe second part of the equation,\n\n350\n00:16:56,800 --> 00:16:59,350\nwhich is getting the clients\nconnected to user server.\n\n351\n00:16:59,350 --> 00:17:00,590\nOur server's up, and running now.\n\n352\n00:17:00,590 --> 00:17:02,880\nWe need to get our\nclients connected to it.\n\n353\n00:17:02,880 --> 00:17:08,749\nSo stay tuned, we'll be back after this.\n\n354\n00:17:08,749 --> 00:17:13,520\n[SOUND] All right, welcome back everybody.\n\n355\n00:17:13,520 --> 00:17:17,070\nSo after your server's had a chance\nto talk to Apple for a little while,\n\n356\n00:17:17,070 --> 00:17:21,970\nkind of converse, make some small talk,\nit downloads the list of updates.\n\n357\n00:17:21,970 --> 00:17:25,480\nAnd it's got that, it processes it,\nand it builds its own local catalogs.\n\n358\n00:17:25,480 --> 00:17:26,730\nAnd you'll know it's done,\n\n359\n00:17:26,730 --> 00:17:29,500\nbecause in the server app you'll\nstart to see the big list of updates.\n\n360\n00:17:29,500 --> 00:17:31,030\nLet's take a look at that.\n\n361\n00:17:31,030 --> 00:17:32,990\nSo, here I am in my\nsoftware update service.\n\n362\n00:17:32,990 --> 00:17:34,430\nAnd I'm still setup on Manual, and\n\n363\n00:17:34,430 --> 00:17:38,750\nif I jump over to Updates, I'll see now,\ninstead of a no updates available,\n\n364\n00:17:38,750 --> 00:17:42,450\nor reading updates,\nI actually see the list of updates.\n\n365\n00:17:42,450 --> 00:17:46,770\nAnd because I'm in Manual mode, and\nI'm not automatically downloading,\n\n366\n00:17:46,770 --> 00:17:50,890\nI've got a list, and all of my\nupdates should show as Available.\n\n367\n00:17:50,890 --> 00:17:53,660\nAvailable means,\nthey're available on Apple server,\n\n368\n00:17:53,660 --> 00:17:57,750\nwe just haven't downloaded them, and\nwe haven't enabled them for our users.\n\n369\n00:17:57,750 --> 00:18:02,140\nSo now what we have to do is go through,\nand pick the updates that we want.\n\n370\n00:18:02,140 --> 00:18:04,800\nNow, not every update is important to us.\n\n371\n00:18:04,800 --> 00:18:06,650\nSome of them may not pertain to us, for\n\n372\n00:18:06,650 --> 00:18:09,740\nexample here's a 27-inch\niMac display update.\n\n373\n00:18:09,740 --> 00:18:10,981\nMaybe we don't have any iMacs.\n\n374\n00:18:10,981 --> 00:18:12,434\nMaybe you've got it all MacBooks.\n\n375\n00:18:12,434 --> 00:18:14,083\nYou don't care about that update.\n\n376\n00:18:14,083 --> 00:18:17,253\nBut if you do have some 27 inch\niMacs that may fix some issue, or\n\n377\n00:18:17,253 --> 00:18:19,440\nprovide some functionality that you want.\n\n378\n00:18:19,440 --> 00:18:22,870\nIf you wanna learn a little bit more about\nthe update you can select an update, and\n\n379\n00:18:22,870 --> 00:18:24,360\njust hit the Enter key on your keyboard.\n\n380\n00:18:24,360 --> 00:18:26,340\nAnd it'll just give you\nsome details on it.\n\n381\n00:18:26,340 --> 00:18:32,580\nSo this one, actually came out in February\nof 2015, so it came out this year.\n\n382\n00:18:32,580 --> 00:18:33,500\nIt's an update.\n\n383\n00:18:33,500 --> 00:18:36,980\nIt says here,\nit actually doesn't tell me much.\n\n384\n00:18:36,980 --> 00:18:37,630\nIt just says,\n\n385\n00:18:37,630 --> 00:18:42,010\nit can address some issues that may\ncause intermittent display flickering.\n\n386\n00:18:42,010 --> 00:18:43,200\nSo your display's flickering?\n\n387\n00:18:43,200 --> 00:18:44,548\nMaybe this fixes it.\n\n388\n00:18:44,548 --> 00:18:47,610\nWell, I could just blindly approve it,\nand push it out to my whole network, and\n\n389\n00:18:47,610 --> 00:18:48,940\nhope it works.\n\n390\n00:18:48,940 --> 00:18:53,643\nOr, if I've got a test group,\nI can go ahead, and approve it for them.\n\n391\n00:18:53,643 --> 00:18:55,945\nAnd see if it works for\nthem, and if it does,\n\n392\n00:18:55,945 --> 00:18:58,079\nthen I can roll it out to everybody else.\n\n393\n00:18:58,079 --> 00:19:00,520\nNow that'll require two\nsoftware update servers.\n\n394\n00:19:00,520 --> 00:19:04,080\nOne that goes just to that test group,\nand then one that goes to everybody else.\n\n395\n00:19:04,080 --> 00:19:04,860\nBut it's easy enough to do.\n\n396\n00:19:06,280 --> 00:19:08,860\nWell, step 1,\nI need to get this update downloaded.\n\n397\n00:19:08,860 --> 00:19:10,250\nSo over here under Status,\n\n398\n00:19:10,250 --> 00:19:13,090\nI'm gonna download it by\nclicking on the Available status.\n\n399\n00:19:13,090 --> 00:19:14,860\nAnd you'll see, I've got two options.\n\n400\n00:19:14,860 --> 00:19:17,150\nDownload, and Download, and Enable.\n\n401\n00:19:17,150 --> 00:19:19,090\nIf I wanna download it, and\nshoot it out right away,\n\n402\n00:19:19,090 --> 00:19:21,010\nI can choose that Download, and Enable.\n\n403\n00:19:21,010 --> 00:19:22,245\nOr, I can just download it.\n\n404\n00:19:22,245 --> 00:19:26,540\nIt'll download to this machine, and sit\nthere, and I can enable it when I'm ready.\n\n405\n00:19:26,540 --> 00:19:29,010\nI'll go ahead, and\nsay Download, and Enable.\n\n406\n00:19:29,010 --> 00:19:31,120\nNow, it's gonna go to the waiting phase.\n\n407\n00:19:31,120 --> 00:19:33,250\nThe waiting phase indicates two things.\n\n408\n00:19:33,250 --> 00:19:34,850\nOne's that it's still talking to Apple.\n\n409\n00:19:34,850 --> 00:19:37,300\nIt's got to talk to Apple,\nto find out more about that update.\n\n410\n00:19:37,300 --> 00:19:40,780\nOr two, it could be that there's other\nupdates that are downloading right now.\n\n411\n00:19:40,780 --> 00:19:43,530\nThat's probably the case for my machines,\ncuz I've just brought it up.\n\n412\n00:19:43,530 --> 00:19:45,538\nSo it's probably downloading\nsome more updates right now.\n\n413\n00:19:45,538 --> 00:19:48,710\nBut eventually,\nit'll change from waiting to downloading.\n\n414\n00:19:48,710 --> 00:19:52,630\nAnd you'll see a little status message\nthere as it downloads the actual update.\n\n415\n00:19:52,630 --> 00:19:56,851\nAnd once it's downloaded,\nit'll automatically enable it and\n\n416\n00:19:56,851 --> 00:19:59,285\nthat status will change to Enabled.\n\n417\n00:19:59,285 --> 00:20:03,348\nOnce it's enabled now,\nit's available for our clients to use.\n\n418\n00:20:03,348 --> 00:20:05,939\nIf I had just chosen to download,\nand that's it, then that's it,\n\n419\n00:20:05,939 --> 00:20:08,484\nthen it would say downloaded, and\nit would just be sitting there,\n\n420\n00:20:08,484 --> 00:20:09,764\nbut it's not actually enabled.\n\n421\n00:20:09,764 --> 00:20:11,540\nAnd we'd have to change the status.\n\n422\n00:20:11,540 --> 00:20:13,260\nThere's actually a few\ndifferent status messages,\n\n423\n00:20:13,260 --> 00:20:14,870\nthat we don't really see from right here.\n\n424\n00:20:16,050 --> 00:20:20,600\nIf I choose an update, and\nI hit the gear button down at the bottom,\n\n425\n00:20:20,600 --> 00:20:24,420\nyou'll see where we've got Download,\nDownload, and Enable, and Enable.\n\n426\n00:20:24,420 --> 00:20:28,358\nBut we also have Disable,\nRemove, and View Update.\n\n427\n00:20:28,358 --> 00:20:31,290\nView Update is what I did when I\npressed Enter on the keyboard.\n\n428\n00:20:31,290 --> 00:20:35,070\nBut, Disable, and Remove,\nwhat's the difference there?\n\n429\n00:20:35,070 --> 00:20:38,890\nWell, Disable says, I made it\navailable to some of my clients, but\n\n430\n00:20:38,890 --> 00:20:39,760\nnow I wanna turn it off.\n\n431\n00:20:39,760 --> 00:20:40,910\nI don't want anybody else, to get it.\n\n432\n00:20:40,910 --> 00:20:43,880\nWe found some problem,\nlet's not roll it out to anybody else.\n\n433\n00:20:43,880 --> 00:20:44,560\nYou go to Disable.\n\n434\n00:20:45,660 --> 00:20:48,540\nBut the update is still on the server,\nit's still sitting there.\n\n435\n00:20:48,540 --> 00:20:49,970\nIt's ready.\n\n436\n00:20:49,970 --> 00:20:52,010\nFor you to enable it yet if you want to.\n\n437\n00:20:52,010 --> 00:20:54,020\nthe other option is remove though.\n\n438\n00:20:54,020 --> 00:20:56,070\nRemove says, I've downloaded this update.\n\n439\n00:20:56,070 --> 00:20:56,820\nGet it off my server.\n\n440\n00:20:56,820 --> 00:20:58,780\nI don't even want on the server anymore.\n\n441\n00:20:58,780 --> 00:21:02,110\nYou choose remove, and\nit pulls that out and it gets rid of it.\n\n442\n00:21:02,110 --> 00:21:04,390\nSo it's kind of like\nrolling that back out.\n\n443\n00:21:04,390 --> 00:21:06,750\nSo, slight difference between\nthe two options there.\n\n444\n00:21:06,750 --> 00:21:09,620\nEither way, it gets it where it's\nnot rolling out to any new machines.\n\n445\n00:21:11,830 --> 00:21:14,180\nNow the downloads, sometimes they go fast,\n\n446\n00:21:14,180 --> 00:21:17,880\nI think this ones probably downloading the\nten ten three update in the background.\n\n447\n00:21:17,880 --> 00:21:21,240\nIf you sort by that status column it's\na great way to see what's going on.\n\n448\n00:21:21,240 --> 00:21:24,790\nAnd yeah, sure enough I can see mine,\nsee how I've got a little download message\n\n449\n00:21:24,790 --> 00:21:28,440\nright there and it's kind of hard to\nsee the way it lays the screen out.\n\n450\n00:21:28,440 --> 00:21:31,414\nBut I can see that mine\nis currently downloading.\n\n451\n00:21:31,414 --> 00:21:37,180\nThe 10.10.3 update, which was 2.6\ngigs inside, and once that's done,\n\n452\n00:21:37,180 --> 00:21:41,570\nit's got some I-Tunes updates that it's\ngoing to download, it's got another\n\n453\n00:21:41,570 --> 00:21:47,350\nvariation of that 10.10.3 update, and\nso it's got those kind of queued up and\n\n454\n00:21:47,350 --> 00:21:50,420\ngoing, so I have to wait a little while\nfor that to actually come available.\n\n455\n00:21:50,420 --> 00:21:53,730\nBut once it is available,\nit will be enabled right away, and\n\n456\n00:21:53,730 --> 00:21:56,680\nclients will start to get it.\n\n457\n00:21:56,680 --> 00:21:59,190\nLet me see if any of them\nhave actually finished.\n\n458\n00:21:59,190 --> 00:22:00,270\nNope.\nNobody's finished yet, so\n\n459\n00:22:00,270 --> 00:22:02,240\nwe'll just let that one kind of cruise.\n\n460\n00:22:02,240 --> 00:22:05,860\nNow, I mentioned earlier that setting\nthis up is a two part process.\n\n461\n00:22:05,860 --> 00:22:08,670\nOne part is setting up the server,\nwhich we've just seen.\n\n462\n00:22:08,670 --> 00:22:11,190\nThe second part is setting up the clients.\n\n463\n00:22:11,190 --> 00:22:14,460\nThe clients have to know to look for\nthe server.\n\n464\n00:22:14,460 --> 00:22:15,760\nHow do they know?\n\n465\n00:22:15,760 --> 00:22:17,500\nThere's two ways to go about that.\n\n466\n00:22:17,500 --> 00:22:20,160\nThe first way is to use\nthe profile manager.\n\n467\n00:22:20,160 --> 00:22:23,760\nWith the profile manager, we can put the\nsoftware update settings on the profile\n\n468\n00:22:23,760 --> 00:22:25,880\nmanager And push it out for our clients.\n\n469\n00:22:25,880 --> 00:22:26,780\nThat's the easiest.\n\n470\n00:22:26,780 --> 00:22:30,650\nIf you have to configure a 1000 machines\nall that use this software update server,\n\n471\n00:22:30,650 --> 00:22:33,680\nit's super easy to do it\nthrough the profile manager.\n\n472\n00:22:34,870 --> 00:22:36,960\nBut what if you don't\nhave a profile manager?\n\n473\n00:22:36,960 --> 00:22:38,420\nWhat if we've just got five machines,\n\n474\n00:22:38,420 --> 00:22:40,850\nand you don't want to mess around\nwith profiles and all that stuff?\n\n475\n00:22:40,850 --> 00:22:42,940\nWell you can do it via\nthe command line also.\n\n476\n00:22:42,940 --> 00:22:44,400\nSo you can go to each of those machines,\n\n477\n00:22:44,400 --> 00:22:47,880\ndrop to the command line, and tell them\nto use your software update server.\n\n478\n00:22:47,880 --> 00:22:49,830\nThe process is pretty straightforward.\n\n479\n00:22:49,830 --> 00:22:50,750\nLet's see both ways.\n\n480\n00:22:50,750 --> 00:22:52,520\nWe'll start with the profile\nmanager because that's\n\n481\n00:22:52,520 --> 00:22:54,350\nprobably the one that'll be on the exam,\nbut\n\n482\n00:22:54,350 --> 00:22:57,279\nI'll show you the command line one\nafterwards just to cover both our bases.\n\n483\n00:22:59,000 --> 00:23:02,545\nSo the first thing that I'm going to\ndo is get into my profile manager so\n\n484\n00:23:02,545 --> 00:23:06,030\nover here on the left I've already\ngot the profile manager fired up on\n\n485\n00:23:06,030 --> 00:23:09,242\nthis machine and I'm just going\nto get into that admin portal.\n\n486\n00:23:12,237 --> 00:23:14,165\nNow, you do have to make a decision.\n\n487\n00:23:14,165 --> 00:23:19,245\nIf you want all of the computers in\nyour entire organization to use the same\n\n488\n00:23:19,245 --> 00:23:23,885\nsoftware update server, then you probably\njust want to modify your default profile.\n\n489\n00:23:23,885 --> 00:23:26,065\nSo when you get logged in you've\ngot that default profile.\n\n490\n00:23:26,065 --> 00:23:28,735\nThe all setting is the one\nthat applies to everybody.\n\n491\n00:23:28,735 --> 00:23:31,900\nYou can stick the software update server\ni there and everybody will get it.\n\n492\n00:23:31,900 --> 00:23:34,650\nBut I mentioned an example\nof having a canary group.\n\n493\n00:23:34,650 --> 00:23:36,580\nA group they use for testing.\n\n494\n00:23:36,580 --> 00:23:40,600\nFor that, what you'll want to\ndo is set up device groups.\n\n495\n00:23:40,600 --> 00:23:43,300\nOne device group that gets\nupdates immediately, and\n\n496\n00:23:43,300 --> 00:23:46,425\nanother device group that gets\nupdates when we approve them.\n\n497\n00:23:46,425 --> 00:23:48,702\nIt is up to you how you want to go.\n\n498\n00:23:48,702 --> 00:23:52,885\nIf I want everybody to use the same\nsoftware update server Then I would do it\n\n499\n00:23:52,885 --> 00:23:57,470\nright here on the groups, you've got the\neveryone group, and you can jump in and\n\n500\n00:23:57,470 --> 00:24:02,770\nyou can modify the settings and inset it\nin here, and it will apply to everybody.\n\n501\n00:24:02,770 --> 00:24:08,200\nBut if I wanna separate it out,\nI'm gonna do it through device groups.\n\n502\n00:24:08,200 --> 00:24:10,670\nSo here in my Profile Manager,\nI'm gonna go to Device Groups and\n\n503\n00:24:10,670 --> 00:24:12,700\nI'm gonna create two groups.\n\n504\n00:24:12,700 --> 00:24:19,200\nI'll create one group,\nwhich I will call my update tester group.\n\n505\n00:24:19,200 --> 00:24:20,950\nI guess group is kind of redundant.\n\n506\n00:24:20,950 --> 00:24:23,180\nSo, I'll just call this my Update Testers.\n\n507\n00:24:23,180 --> 00:24:26,110\nThese are people that are gonna get\nupdates immediately, right away.\n\n508\n00:24:27,300 --> 00:24:33,250\nAnd then I'll create another group,\nwhich I might call\n\n509\n00:24:34,360 --> 00:24:38,490\nProduction or Controlled Updates,\nor whatever it is.\n\n510\n00:24:39,910 --> 00:24:41,820\nThat's what we want it to be.\n\n511\n00:24:41,820 --> 00:24:43,990\nYou might already have\na group that represents this.\n\n512\n00:24:45,620 --> 00:24:51,410\nAnd what I can do from here, is in the\nProfile settings for Controlled Updates,\n\n513\n00:24:51,410 --> 00:24:56,560\nI can point them to a software\nupdate server that has manual mode,\n\n514\n00:24:56,560 --> 00:24:59,130\nwhere we manually approve updates.\n\n515\n00:24:59,130 --> 00:25:01,240\nBut for the update testers,\n\n516\n00:25:01,240 --> 00:25:04,320\nI can point them to a different\nsoftware update server.\n\n517\n00:25:04,320 --> 00:25:07,700\nOne that has automatic turned on,\nautomatically download,\n\n518\n00:25:07,700 --> 00:25:10,210\nautomatically enable,\nthey always get the latest and greatest.\n\n519\n00:25:10,210 --> 00:25:12,970\nAnd that way my testers\nwill know ahead of time.\n\n520\n00:25:12,970 --> 00:25:15,430\nThey'll test for me and\nsee whether we've got problems.\n\n521\n00:25:15,430 --> 00:25:18,090\nIf they don't, I go to that manual\nserver and I prove them there.\n\n522\n00:25:19,380 --> 00:25:22,070\nSo, I've got my device\ngroups kind of set up now.\n\n523\n00:25:22,070 --> 00:25:25,060\nI need to set them up to use\nthe software update server.\n\n524\n00:25:25,060 --> 00:25:28,250\nSo I'll take my update testers here and\nI'm gonna go into Settings.\n\n525\n00:25:28,250 --> 00:25:31,350\nNow by default there are no\nsoftware update settings in place.\n\n526\n00:25:31,350 --> 00:25:32,670\nI've got to go and add those in.\n\n527\n00:25:32,670 --> 00:25:34,020\nSo that's what I'm gonna do.\n\n528\n00:25:34,020 --> 00:25:35,330\nI'll go ahead and edit this.\n\n529\n00:25:37,940 --> 00:25:39,940\nNow the software update server,\n\n530\n00:25:39,940 --> 00:25:42,860\nit can store all sorts of different\nupdates inside of there for\n\n531\n00:25:42,860 --> 00:25:47,360\ndifferent systems, but typically we're\nmanaging our OS 10 workstations.\n\n532\n00:25:47,360 --> 00:25:50,860\nAnd so when you go into your settings,\nit start off with combined OS 10 and\n\n533\n00:25:50,860 --> 00:25:54,710\niOS settings, and then the next\nsection are the iOS settings.\n\n534\n00:25:54,710 --> 00:25:58,040\nI'm gonna skip all the way down\nto the OS 10 only settings.\n\n535\n00:25:58,040 --> 00:26:00,195\nSo here's the OS 10 only settings.\n\n536\n00:26:00,195 --> 00:26:03,935\nAnd in here, somewhere in the list\nI'll find Software Update.\n\n537\n00:26:03,935 --> 00:26:04,745\nThere it is.\n\n538\n00:26:04,745 --> 00:26:06,085\nSoftware Update.\n\n539\n00:26:06,085 --> 00:26:08,015\nAnd the default is it's not configured.\n\n540\n00:26:08,015 --> 00:26:10,985\nIf it's not configured, that means these\nmachines are gonna go out to the internet.\n\n541\n00:26:10,985 --> 00:26:12,485\nThey're gonna go to Apple for\ntheir updates.\n\n542\n00:26:13,670 --> 00:26:17,940\nBut I can choose to configure that,\nand punch in the update path.\n\n543\n00:26:19,120 --> 00:26:24,140\nNotice the update path, they give you\na great example here, it's just a web URL.\n\n544\n00:26:24,140 --> 00:26:28,210\nRemember how I mentioned that the software\nupdate server's just an Apache web server.\n\n545\n00:26:28,210 --> 00:26:31,380\nWell, you're just pointing to\nthe catalogs in that server.\n\n546\n00:26:31,380 --> 00:26:34,430\nAnd you might also remember there\nwere several different catalogues.\n\n547\n00:26:34,430 --> 00:26:37,080\nfortunately there is one central\ncatalogue that lists all the others.\n\n548\n00:26:37,080 --> 00:26:40,180\nSo all we have to do is point to that\ncentral catalogue and we get it.\n\n549\n00:26:40,180 --> 00:26:40,780\nAlright.\n\n550\n00:26:40,780 --> 00:26:43,270\nSo, we punch in the URL\nto the server and...\n\n551\n00:26:43,270 --> 00:26:46,890\nAnd then we choose whether or\nnot we want to allow betas.\n\n552\n00:26:46,890 --> 00:26:49,070\nIf this is a canary group,\nwe might want to allow betas.\n\n553\n00:26:49,070 --> 00:26:50,280\nNormally we don't though.\n\n554\n00:26:50,280 --> 00:26:53,280\nSo I'm gonna turn that off but\nthen I'll point to the server.\n\n555\n00:26:53,280 --> 00:26:56,372\nNow the example URL here is perfect.\n\n556\n00:26:56,372 --> 00:26:59,470\nIt's HTTP://whatever the name\nof your server is, :8088.\n\n557\n00:26:59,470 --> 00:27:05,842\nThat's the default port\nthe software update runs on.\n\n558\n00:27:05,842 --> 00:27:10,170\nAnd then /catalog.sucatalog.\n\n559\n00:27:10,170 --> 00:27:13,250\nThat is the central catalog,\nthe one that lists all the other catalogs.\n\n560\n00:27:13,250 --> 00:27:14,940\nThat's the one you wanna point to.\n\n561\n00:27:14,940 --> 00:27:18,440\nIf you read out there on the internet, or\nif you've used software update services in\n\n562\n00:27:18,440 --> 00:27:19,960\nthe past,\nit used to have a different name.\n\n563\n00:27:19,960 --> 00:27:21,980\nIt used to be index.sucatalog.\n\n564\n00:27:21,980 --> 00:27:23,130\nThat no longer works.\n\n565\n00:27:23,130 --> 00:27:25,550\nSo if you point it to index,\nit's not gonna function.\n\n566\n00:27:25,550 --> 00:27:26,880\nSo, be careful about that.\n\n567\n00:27:27,900 --> 00:27:29,440\nBut I'll just punch it in.\n\n568\n00:27:29,440 --> 00:27:31,660\nIt's nice.\nThey give you the example right there.\n\n569\n00:27:31,660 --> 00:27:41,530\nSo, my server is called OSX server\n1.lab.itpro.tv:8088, is that default port.\n\n570\n00:27:41,530 --> 00:27:46,740\nAnd I'll point it to /catalogs.sucatalog,\nall right?\n\n571\n00:27:46,740 --> 00:27:50,570\nMost people aren't going to need to, but\nif you need to change the port number,\n\n572\n00:27:50,570 --> 00:27:52,150\nyou can't do it in the GUI.\n\n573\n00:27:52,150 --> 00:27:54,790\nBut you can drop to the command line, and\nthere's some command line utilities you\n\n574\n00:27:54,790 --> 00:27:57,580\ncan run to change the port number\nthat Software Update runs on.\n\n575\n00:27:57,580 --> 00:28:01,300\nThat's why we have to type\nthe port number in right there.\n\n576\n00:28:01,300 --> 00:28:04,440\nBut I've got it in there, always\na good idea to double check for typos.\n\n577\n00:28:04,440 --> 00:28:06,700\nI did have to type it,\nso it could be wrong.\n\n578\n00:28:06,700 --> 00:28:09,280\nNow, this is my update tester group.\n\n579\n00:28:09,280 --> 00:28:12,500\nSo the server I put in here is\ngonna be the server that's set for\n\n580\n00:28:12,500 --> 00:28:14,930\nautomatic updates,\nautomatically download and enable.\n\n581\n00:28:16,200 --> 00:28:18,650\nIf this were my controlled updates group,\n\n582\n00:28:18,650 --> 00:28:21,580\nI would be pointing this to a different\nserver, one that was set for manual.\n\n583\n00:28:21,580 --> 00:28:23,150\nThat's the difference\nbetween those two groups.\n\n584\n00:28:25,370 --> 00:28:29,880\nOnce that's done, I can say okay,\nand I'll save that.\n\n585\n00:28:29,880 --> 00:28:31,700\nSo now I've got my General settings, and\n\n586\n00:28:31,700 --> 00:28:33,500\nI've got Software Update\nsettings on that profile.\n\n587\n00:28:34,600 --> 00:28:37,830\nThe last thing I need to do is to\napply this profile to my clients.\n\n588\n00:28:37,830 --> 00:28:42,590\nSo I can go and take my update\ntesters group, go to Members and\n\n589\n00:28:42,590 --> 00:28:44,030\nI can add some clients to that group.\n\n590\n00:28:44,030 --> 00:28:46,573\nAnd I'll go ahead and add my client.\n\n591\n00:28:46,573 --> 00:28:49,680\nI've got OSX Client1 so I'll add that in.\n\n592\n00:28:51,560 --> 00:28:53,260\nThere we go, and I'll save that.\n\n593\n00:28:55,200 --> 00:28:58,854\nNow the next time OSX Client1\nrefreshes it's profile,\n\n594\n00:28:58,854 --> 00:29:02,330\nit will reach out to the server,\nit will download its profile, and\n\n595\n00:29:02,330 --> 00:29:06,180\nit will learn, hey, I'm supposed to\nuse this software update server.\n\n596\n00:29:06,180 --> 00:29:09,180\nAnd from this point on,\nwhenever it goes to check for updates,\n\n597\n00:29:09,180 --> 00:29:11,740\nit won't go to Apple,\nit will go to my server right here.\n\n598\n00:29:13,140 --> 00:29:14,910\nNow, that can take a little while.\n\n599\n00:29:14,910 --> 00:29:17,710\nThat client,\nif they're on the local network,\n\n600\n00:29:17,710 --> 00:29:19,640\nthey might be checking in all the time.\n\n601\n00:29:19,640 --> 00:29:22,230\nThey might be remote in\nwhich case we'll use Apple\n\n602\n00:29:22,230 --> 00:29:24,360\npush notification through Apple servers.\n\n603\n00:29:24,360 --> 00:29:25,350\nIt could take hours.\n\n604\n00:29:25,350 --> 00:29:28,230\nIt could even take days sometimes\nbefore they get that updated profile.\n\n605\n00:29:28,230 --> 00:29:32,490\nYou could sit here and\nwatch this activity screen and\n\n606\n00:29:32,490 --> 00:29:37,800\njust watch and wait, and watch and wait,\nand eventually it may get that update.\n\n607\n00:29:37,800 --> 00:29:40,820\nActually, it says I've\npushed the settings.\n\n608\n00:29:40,820 --> 00:29:42,960\nSo, I made some changes to OSX Client1.\n\n609\n00:29:42,960 --> 00:29:46,040\nI've pushed it, so\nApple's aware of the update now.\n\n610\n00:29:46,040 --> 00:29:48,640\nBut we don't know if the other\nend has received it yet.\n\n611\n00:29:48,640 --> 00:29:53,355\nSo we can wait for that or, if we're in\na hurry, we can go to the other client and\n\n612\n00:29:53,355 --> 00:29:55,655\nwe can use the command line\nto punch it in manually.\n\n613\n00:29:55,655 --> 00:30:00,115\nOr we can even download this profile and\ncopy the profile over and\n\n614\n00:30:00,115 --> 00:30:01,015\nmanually run it that way.\n\n615\n00:30:01,015 --> 00:30:04,105\nWe've got all sorts of options for\nhow we wanna get that over there.\n\n616\n00:30:04,105 --> 00:30:07,515\nBut using the push settings is\nthe easiest, because just the next\n\n617\n00:30:07,515 --> 00:30:10,330\ntime that workstation checks in,\nit'll get the update.\n\n618\n00:30:10,330 --> 00:30:11,190\nSo if you're not in a hurry,\n\n619\n00:30:11,190 --> 00:30:14,460\nand you're deploying to thousands\nof machines, that's it.\n\n620\n00:30:14,460 --> 00:30:15,340\nI'm done right there.\n\n621\n00:30:15,340 --> 00:30:17,560\nI just add the thousand\nmachines to this group, and\n\n622\n00:30:17,560 --> 00:30:19,020\nthey'll now get that\nSoftware Update server.\n\n623\n00:30:20,060 --> 00:30:22,580\nSo pretty straightforward as far as\npushing it out with the Profile Manager.\n\n624\n00:30:25,090 --> 00:30:27,580\nAnd then we'll just go back\nto my Device Groups and\n\n625\n00:30:27,580 --> 00:30:29,270\nadd in the clients as we desire, right?\n\n626\n00:30:29,270 --> 00:30:31,970\nSo anybody who's an update\ntester goes in this group.\n\n627\n00:30:31,970 --> 00:30:33,740\nThey start getting updates right away.\n\n628\n00:30:33,740 --> 00:30:36,490\nAnd then anybody who needs to be\nmanaged goes up here into controlled\n\n629\n00:30:36,490 --> 00:30:37,910\nupdates and they'll get that.\n\n630\n00:30:37,910 --> 00:30:38,820\nAnd those names I just made up.\n\n631\n00:30:38,820 --> 00:30:40,150\nYou can call them whatever you want.\n\n632\n00:30:40,150 --> 00:30:41,350\nThose are just names that I use.\n\n633\n00:30:44,150 --> 00:30:46,450\nWell what about the command line method?\n\n634\n00:30:47,585 --> 00:30:51,235\nFrom the command line we can actually go\nin and set our proper update server also.\n\n635\n00:30:51,235 --> 00:30:54,165\nIn fact, it's kind of good to use\nthe command line because we can use it\n\n636\n00:30:54,165 --> 00:30:56,835\nto verify if we already have\na software update server.\n\n637\n00:30:56,835 --> 00:31:00,425\nSo if I jump over to that client,\nhere's the client that I just pushed to,\n\n638\n00:31:00,425 --> 00:31:02,315\nit may or\nmay not have already gotten the setting.\n\n639\n00:31:02,315 --> 00:31:05,955\nIt usually takes a while so I seriously\ndoubt it's gotten the setting, but\n\n640\n00:31:05,955 --> 00:31:08,370\nit might, I guess we could check.\n\n641\n00:31:08,370 --> 00:31:10,370\nTo the ends user, it's transparent.\n\n642\n00:31:10,370 --> 00:31:11,420\nThey don't know.\n\n643\n00:31:11,420 --> 00:31:14,640\nSo there's not really a good way\nfrom the GUI to see whether or\n\n644\n00:31:14,640 --> 00:31:16,390\nnot we've got that setting.\n\n645\n00:31:16,390 --> 00:31:17,970\nBut from the command line,\nthere's an easy way,\n\n646\n00:31:19,330 --> 00:31:22,720\nwhich is that we can look in\nthe preferences file for software update.\n\n647\n00:31:22,720 --> 00:31:28,600\nSo to do that, all we have to do\nis there's a few different ways.\n\n648\n00:31:28,600 --> 00:31:31,300\nThere's a default command you can use and\nyou can read the default.\n\n649\n00:31:31,300 --> 00:31:35,400\nI usually just use the plutil,\nthat's the preference list utility.\n\n650\n00:31:35,400 --> 00:31:39,734\nAnd you can use -p, which says print for\nme the preferences for a particular file\n\n651\n00:31:39,734 --> 00:31:44,091\nor application, and from there I just have\nto point it at the application I want.\n\n652\n00:31:44,091 --> 00:31:46,742\nSo I'm gonna point to\n\n653\n00:31:46,742 --> 00:31:55,444\n/library/preferences/com.apple.softwareup-\ndate.plist.\n\n654\n00:31:55,444 --> 00:31:57,803\nAnd it's going to open up\nthat plist file for me.\n\n655\n00:31:57,803 --> 00:32:02,370\nNow the plist files are normally compiled,\nthey're binary files.\n\n656\n00:32:02,370 --> 00:32:05,540\nSo if I were to just try to open\nthat file it's garbled mess.\n\n657\n00:32:05,540 --> 00:32:07,950\nBut by feeding it through plutil\n\n658\n00:32:07,950 --> 00:32:10,490\nit's gonna translate into\na human readable format.\n\n659\n00:32:10,490 --> 00:32:13,210\nAnd when I run that it'll\nshow me what's inside.\n\n660\n00:32:13,210 --> 00:32:17,010\nAnd what I'm looking for is a CatalogURL.\n\n661\n00:32:17,010 --> 00:32:19,600\nThere's a setting called CatalogURL.\n\n662\n00:32:19,600 --> 00:32:20,900\nAnd I don't see it.\n\n663\n00:32:20,900 --> 00:32:22,630\nI don't see anything here\nthat's pointing in my server.\n\n664\n00:32:22,630 --> 00:32:24,940\nI can see the last time I checked for\nupdates.\n\n665\n00:32:24,940 --> 00:32:27,430\nAnd I can see what version\nof the system I'm running.\n\n666\n00:32:27,430 --> 00:32:28,660\nBut I don't see a CatalogURL so\n\n667\n00:32:28,660 --> 00:32:30,960\nI haven't gotten the settings\nfrom the other server yet.\n\n668\n00:32:30,960 --> 00:32:32,090\nSo I can wait.\n\n669\n00:32:32,090 --> 00:32:33,610\nThis could be the longest\nepisode on record.\n\n670\n00:32:33,610 --> 00:32:35,090\nWe could wait for a couple of hours and\n\n671\n00:32:35,090 --> 00:32:38,530\nsee if it gets that setting,\nor I can just manually set it.\n\n672\n00:32:39,560 --> 00:32:40,470\nAnd that's what I'm gonna do.\n\n673\n00:32:41,740 --> 00:32:46,480\nTo manually set it, we do need to use that\ndefault command I mentioned a minute ago.\n\n674\n00:32:46,480 --> 00:32:50,140\nYou have to be an administrator,\nso I'm gonna use the sudo command.\n\n675\n00:32:50,140 --> 00:32:53,500\nAnd I'm gonna call defaults write.\n\n676\n00:32:53,500 --> 00:32:54,915\nSo I'm writing a default value,\n\n677\n00:32:54,915 --> 00:32:58,560\nI'm actually gonna write a value\ninto that same preferences file.\n\n678\n00:32:58,560 --> 00:33:00,520\nSo I need to tell it what\npreference I'm working with.\n\n679\n00:33:00,520 --> 00:33:03,176\nSo I'm working with\n\n680\n00:33:03,176 --> 00:33:11,313\n/Library/Preferences/com.apple.SoftwareUp-\ndate.\n\n681\n00:33:13,843 --> 00:33:16,881\nAnd I'm just trying to double check for\ntypos as I write,\n\n682\n00:33:16,881 --> 00:33:19,360\nbecause it's easy to\nmake mistakes on these.\n\n683\n00:33:21,400 --> 00:33:25,370\nAll right, so\n/Library/Preferences/com.apple.\n\n684\n00:33:25,370 --> 00:33:26,505\nThere's a mistake.\n\n685\n00:33:26,505 --> 00:33:29,390\n.SoftwareUpdate.\n\n686\n00:33:29,390 --> 00:33:32,150\nI was trying to use tab auto-complete,\nand it wasn't working.\n\n687\n00:33:32,150 --> 00:33:33,600\nSo, I knew I had a typo\nin there somewhere.\n\n688\n00:33:34,690 --> 00:33:38,140\nAnd then I need to tell it the value\nthat I'm setting in, let me move this so\n\n689\n00:33:38,140 --> 00:33:40,150\nmy head's not on top of it.\n\n690\n00:33:40,150 --> 00:33:41,900\nYeah, there we go.\n\n691\n00:33:41,900 --> 00:33:44,910\nSo, the value that I'm\nsetting is CatalogURL,\n\n692\n00:33:44,910 --> 00:33:48,430\nthat's that setting that I mentioned\nI should have seen earlier.\n\n693\n00:33:48,430 --> 00:33:53,100\nCatalogURL and then I point it to\nthe server that I want it to tie to.\n\n694\n00:33:53,100 --> 00:34:02,776\nSo in my case that's\nOSX-server1.lab.itpro.tv:8088/catalogs.su-\n\n695\n00:34:02,776 --> 00:34:07,900\natalog.\n\n696\n00:34:07,900 --> 00:34:11,980\nSo, I'm pointing that same URL that\nwe saw in the profile manager.\n\n697\n00:34:11,980 --> 00:34:14,260\nI'm just doing it right\nhere from the command line.\n\n698\n00:34:14,260 --> 00:34:15,720\nAnd it's asking for my password.\n\n699\n00:34:16,740 --> 00:34:17,790\nAnd now it's set.\n\n700\n00:34:17,790 --> 00:34:18,650\nOkay.\n\n701\n00:34:18,650 --> 00:34:19,460\nHow do I know it's set?\n\n702\n00:34:19,460 --> 00:34:21,890\nWell I can look back at\nmy preferences again.\n\n703\n00:34:21,890 --> 00:34:23,718\nI can run default read,\n\n704\n00:34:23,718 --> 00:34:28,480\n/Library/Preferences/com.apple.SoftwareUp-\ndate.\n\n705\n00:34:28,480 --> 00:34:30,490\nAnd it would output the data in there.\n\n706\n00:34:30,490 --> 00:34:33,510\nOr I could just use\nthe plutil like I did before.\n\n707\n00:34:33,510 --> 00:34:36,160\nAnd when I look now,\nhere's that new entry.\n\n708\n00:34:36,160 --> 00:34:37,790\nThat's the entry that we're looking for.\n\n709\n00:34:37,790 --> 00:34:40,740\nAnd that's what the profile manager\nwould've pushed if I gave it enough time,\n\n710\n00:34:40,740 --> 00:34:41,720\nif I waited.\n\n711\n00:34:41,720 --> 00:34:42,932\nBut here I can manually see it.\n\n712\n00:34:42,932 --> 00:34:46,880\nThe CatalogURL is no longer pointing\nto Apple, which is the default.\n\n713\n00:34:46,880 --> 00:34:48,270\nThat's when it doesn't show up.\n\n714\n00:34:48,270 --> 00:34:50,100\nNow it's pointing to my server.\n\n715\n00:34:50,100 --> 00:34:53,950\nAnd so when this machine goes to check for\nupdates, it's gonna go to my server.\n\n716\n00:34:53,950 --> 00:34:56,360\nAnd it's only going to see\nupdates that I've enabled.\n\n717\n00:34:56,360 --> 00:35:00,090\nIf there's updates available and\nI haven't enabled them, they won't see it.\n\n718\n00:35:00,090 --> 00:35:01,700\nThey won't even know it's there.\n\n719\n00:35:01,700 --> 00:35:04,590\nSo, they won't get complaints about\nsaying, hey, you need to do this update.\n\n720\n00:35:04,590 --> 00:35:07,120\nWe've taken that decision\naway from the end users, and\n\n721\n00:35:07,120 --> 00:35:08,020\ngiven it to the administrators.\n\n722\n00:35:08,020 --> 00:35:10,440\nAnd that's really the powerful\nof the software update service,\n\n723\n00:35:10,440 --> 00:35:13,950\nis it gives us control of\nthe updates that roll out.\n\n724\n00:35:13,950 --> 00:35:14,640\nAll right?\n\n725\n00:35:14,640 --> 00:35:18,010\nAnd from here,\nagain it does go back to patience.\n\n726\n00:35:18,010 --> 00:35:21,770\nIf I wait long enough, the updates that\nI'm downloading on the server will finish,\n\n727\n00:35:21,770 --> 00:35:24,345\nand here the next time I\ncheck in it'll say oh,\n\n728\n00:35:24,345 --> 00:35:26,810\n10.10.3 is available,\ndo you want to install?\n\n729\n00:35:26,810 --> 00:35:28,520\nAnd it'll do the install and restart.\n\n730\n00:35:28,520 --> 00:35:30,840\nThe clients will begin to see\nit because I've approved it.\n\n731\n00:35:32,010 --> 00:35:35,960\nIf I don't approve it the clients don't\neven see it they never even get prompted,\n\n732\n00:35:35,960 --> 00:35:37,120\nand that's the idea behind this.\n\n733\n00:35:40,030 --> 00:35:45,290\nOne caveat one thing I do wanna mention\nif you're in the manual mode like I am,\n\n734\n00:35:45,290 --> 00:35:47,080\nit will never delete updates.\n\n735\n00:35:47,080 --> 00:35:51,600\nSo as it downloads the updates\neven if the updates are obsolete,\n\n736\n00:35:51,600 --> 00:35:52,660\nit keep them on a hard drive.\n\n737\n00:35:52,660 --> 00:35:54,970\nNow what makes an update obsolete?\n\n738\n00:35:54,970 --> 00:35:58,960\nThe update might be for an operating\nsystem that apple no longer supports or\n\n739\n00:35:58,960 --> 00:36:02,140\nthe update might have been\nsuperseded by a newer update.\n\n740\n00:36:02,140 --> 00:36:06,063\nIf you have a machine that's\nrunning stock Yosemite,\n\n741\n00:36:06,063 --> 00:36:11,280\nit's just running 10.0.0,\nthe very first version of Yosemite.\n\n742\n00:36:11,280 --> 00:36:16,627\nAnd 10.10.1 came out, 10.10.2 came out,\n10.10.3 is the new one.\n\n743\n00:36:16,627 --> 00:36:21,357\nWell, somebody can jump from\n10.10 all the way to 10.10.3 so\n\n744\n00:36:21,357 --> 00:36:26,172\nyou don't really need 10.10.1 or\n10.10.2 anymore.\n\n745\n00:36:26,172 --> 00:36:29,900\nOnce 10.10.3 comes out,\nthe older ones become obsolete.\n\n746\n00:36:29,900 --> 00:36:32,430\nSo, we don't need those laying around.\n\n747\n00:36:32,430 --> 00:36:35,860\nAnd you can purge those out of the system,\nif you want.\n\n748\n00:36:35,860 --> 00:36:37,230\nIt does that in automatic mode.\n\n749\n00:36:37,230 --> 00:36:40,180\nWhen you're in automatic mode,\nit will automatically purge those.\n\n750\n00:36:40,180 --> 00:36:44,550\nBut, when you're in manual mode, like I\nam, if I go back to my server app, and\n\n751\n00:36:44,550 --> 00:36:50,640\nI go to my Software Update > Settings,\nI can see that I'm in manual mode.\n\n752\n00:36:50,640 --> 00:36:55,220\nIn manual mode, downloaded updates will\nbe saved until explicitly deleted.\n\n753\n00:36:55,220 --> 00:37:00,020\nIn other words, I've gotta go to my\nUpdates tab, I've gotta find the update,\n\n754\n00:37:00,020 --> 00:37:03,660\nand then I can choose to go in and\nremove it.\n\n755\n00:37:03,660 --> 00:37:07,080\nAll right well,\nthat can be kind of burdensome.\n\n756\n00:37:07,080 --> 00:37:09,050\nIf it's been years that\nthis thing is running, and\n\n757\n00:37:09,050 --> 00:37:11,100\nI just wanna kind of\nquick wipe things out.\n\n758\n00:37:11,100 --> 00:37:14,190\nSo we can actually turn\non the purge function,\n\n759\n00:37:14,190 --> 00:37:15,590\neven though we're in manual mode.\n\n760\n00:37:15,590 --> 00:37:17,010\nAnd you can't do that in the G line.\n\n761\n00:37:17,010 --> 00:37:18,260\nYou gotta do that from the command line.\n\n762\n00:37:18,260 --> 00:37:19,650\nBut it's not so bad.\n\n763\n00:37:19,650 --> 00:37:24,508\nIf I want to turn that on,\nI can fire up my terminal.\n\n764\n00:37:24,508 --> 00:37:27,323\nAnd the command to turn\non the purge function is,\n\n765\n00:37:27,323 --> 00:37:30,971\nwe have to run it as an administrator so\nI'll do the sudo again.\n\n766\n00:37:30,971 --> 00:37:33,614\nAnd I'm gonna call\nthe server admin command,\n\n767\n00:37:33,614 --> 00:37:37,357\nthat's the command line utility\nthat matches with a server app.\n\n768\n00:37:37,357 --> 00:37:42,193\nSo I'm gonna say sudo serveradmin\n\n769\n00:37:42,193 --> 00:37:47,708\nswupdate:purgedunused equals yes.\n\n770\n00:37:47,708 --> 00:37:49,870\nAll right.\n\n771\n00:37:49,870 --> 00:37:53,960\nThat's gonna turn on the purge feature\nthat's part of automatic updates, but\n\n772\n00:37:53,960 --> 00:37:55,070\nkeep me in the manual mode.\n\n773\n00:37:55,070 --> 00:37:56,250\nAll right.\n\n774\n00:37:56,250 --> 00:37:57,150\nSo by running that.\n\n775\n00:37:59,750 --> 00:38:00,360\nThere we go.\n\n776\n00:38:00,360 --> 00:38:02,750\nAnd looks like I got an error here.\n\n777\n00:38:02,750 --> 00:38:03,950\nI must have a typo.\n\n778\n00:38:03,950 --> 00:38:06,210\nSo, the server admin command, if you look,\n\n779\n00:38:06,210 --> 00:38:09,504\nthey can give a list of\nstuff that we can do.\n\n780\n00:38:09,504 --> 00:38:13,809\nAnd let's see, [SOUND] serveradmin.\n\n781\n00:38:13,809 --> 00:38:17,681\nOh, I think I needed to do settings,\nserveradmin,\n\n782\n00:38:17,681 --> 00:38:20,060\nlet me correct my command here.\n\n783\n00:38:22,500 --> 00:38:23,310\nThere we go.\n\n784\n00:38:23,310 --> 00:38:24,990\nSorry, I left out the settings keyword.\n\n785\n00:38:24,990 --> 00:38:28,240\nSo let me just correct that for\nthose of you who are listening in audio.\n\n786\n00:38:28,240 --> 00:38:35,308\nSo it's sudo serveradmin settings and\nthen swupdate:Purgeunused.\n\n787\n00:38:35,308 --> 00:38:38,990\nI'm turning on the setting for the\nsoftware update and I'm setting it to yes.\n\n788\n00:38:40,270 --> 00:38:43,135\nThat turns it on and I get a confirmation\nright here letting me know that\n\n789\n00:38:43,135 --> 00:38:46,090\nswupdate:Purgeunused is now set to yes.\n\n790\n00:38:46,090 --> 00:38:49,110\nI'm in manual mode but\nif an update becomes obsolete,\n\n791\n00:38:49,110 --> 00:38:51,200\nif it gets replaced,\nit'll purge the old one,\n\n792\n00:38:51,200 --> 00:38:54,690\nand I'll just kind of keep my hard drive\nspace under a little more control.\n\n793\n00:38:54,690 --> 00:38:56,850\nOtherwise the updates can get kind of big.\n\n794\n00:38:56,850 --> 00:38:58,600\nIt can really start to fill things up.\n\n795\n00:38:58,600 --> 00:39:01,510\nSo definitely be aware of that.\n\n796\n00:39:01,510 --> 00:39:03,930\nAll right, but at the end of the day,\nthat's pretty much it for\n\n797\n00:39:03,930 --> 00:39:05,090\nsoftware updates.\n\n798\n00:39:05,090 --> 00:39:07,450\nBe aware if you're having problems.\n\n799\n00:39:07,450 --> 00:39:10,230\nThe easiest way to troubleshoot\nproblems with software updates is with\n\n800\n00:39:10,230 --> 00:39:11,360\nthe system logs.\n\n801\n00:39:11,360 --> 00:39:14,450\nAnd there's a few extra system logs\nwith software update services.\n\n802\n00:39:14,450 --> 00:39:16,390\nLet me show you because\nthey are kind of neat.\n\n803\n00:39:16,390 --> 00:39:18,740\nIt does make life a little more simple for\nus.\n\n804\n00:39:18,740 --> 00:39:23,890\nSo, in my server app,\nif I go up to the Logs option and\n\n805\n00:39:23,890 --> 00:39:28,670\nI switch over to my software update logs,\nnormally you have just the generic log, so\n\n806\n00:39:28,670 --> 00:39:32,450\nwhen I expand this out you'll\nsee like DHCP as a service log.\n\n807\n00:39:32,450 --> 00:39:34,570\nDNS as a service log and that's it.\n\n808\n00:39:34,570 --> 00:39:37,640\nBut Software Update has a couple of logs.\n\n809\n00:39:37,640 --> 00:39:40,290\nAn error log and a service log.\n\n810\n00:39:40,290 --> 00:39:43,353\nAnd if I go to my error log, I can see\nproblems that might have occurred.\n\n811\n00:39:43,353 --> 00:39:45,408\nAnd I see I've actually\ngot a few errors here,\n\n812\n00:39:45,408 --> 00:39:47,580\nprobably because I was\njust starting things up.\n\n813\n00:39:47,580 --> 00:39:51,144\nSo actually these will be tied from.\n\n814\n00:39:51,144 --> 00:39:54,465\nRemember I started in automatic,\nand I turned it off.\n\n815\n00:39:54,465 --> 00:39:56,260\nWent to manual, and\nturned it back on again.\n\n816\n00:39:56,260 --> 00:39:57,430\nSo these aren't actual errors.\n\n817\n00:39:57,430 --> 00:39:59,930\nThese are just me turning it off and\nturning it back on again.\n\n818\n00:39:59,930 --> 00:40:02,970\nBut I can see those errors\nhere if any of them occurred.\n\n819\n00:40:02,970 --> 00:40:07,580\nAnd then, if I go back to it,\nI can go to the service log.\n\n820\n00:40:07,580 --> 00:40:10,640\nAnd now I can actually see as\nit goes out and downloads.\n\n821\n00:40:10,640 --> 00:40:12,110\nI can see I got some kind of error here.\n\n822\n00:40:12,110 --> 00:40:16,140\nIt was trying to download It looks like I\ngot a timeout on that file download, but\n\n823\n00:40:16,140 --> 00:40:19,040\nI can see it functioning,\nreaching out, downloading updates,\n\n824\n00:40:19,040 --> 00:40:20,260\nregistering with apple.\n\n825\n00:40:20,260 --> 00:40:23,150\nWe'll see his clients start to check\nin with it and get their updates.\n\n826\n00:40:23,150 --> 00:40:25,400\nThose will start to show up in here.\n\n827\n00:40:25,400 --> 00:40:26,690\nNobody's really checked in yet.\n\n828\n00:40:26,690 --> 00:40:28,310\nI guess I can make my client check in.\n\n829\n00:40:28,310 --> 00:40:32,370\nIf you want to force a client to check in,\nthe easiest way is to go into system\n\n830\n00:40:32,370 --> 00:40:36,360\npreferences and\ngo into your app store settings.\n\n831\n00:40:36,360 --> 00:40:38,550\nAnd you have a Check Now button,\nand you can make it check.\n\n832\n00:40:38,550 --> 00:40:41,850\nNow to an end user,\nthey think they're checking in with Apple.\n\n833\n00:40:41,850 --> 00:40:44,650\nBut the reality is they're checking\nin with our software update server.\n\n834\n00:40:44,650 --> 00:40:47,180\nSo they're gonna check in and\nthey'll see updates that are available.\n\n835\n00:40:48,350 --> 00:40:51,940\nAnd back here,\nmy logs will update to reflect that.\n\n836\n00:40:51,940 --> 00:40:54,000\nAnd see how a new log just appeared?\n\n837\n00:40:54,000 --> 00:40:56,590\nUnder Software Update,\nI now have an Access Log.\n\n838\n00:40:56,590 --> 00:40:58,811\nAnd if I look under Access Log,\n\n839\n00:40:58,811 --> 00:41:04,200\nI can see right here I got\na connection from 10.211.55.201.\n\n840\n00:41:04,200 --> 00:41:07,865\nThat's my workstation.\nAnd that it did a request for\n\n841\n00:41:07,865 --> 00:41:09,360\ncatalogs.sucatalog.\n\n842\n00:41:09,360 --> 00:41:12,880\nSo, it reached out to get it\nto pull that list of updates.\n\n843\n00:41:12,880 --> 00:41:16,580\nSo, that access log, I can actually see\nwhether my clients are checking in.\n\n844\n00:41:16,580 --> 00:41:18,210\nIf I don't see the clients\nchecking in here,\n\n845\n00:41:18,210 --> 00:41:21,200\nI probably have a typo in my catalog URL.\n\n846\n00:41:21,200 --> 00:41:25,480\nOr, I created a profile, and it just\nhasn't downloaded to the clients yet.\n\n847\n00:41:25,480 --> 00:41:28,200\nSo this is a great way to monitor and\nsee if people are actually checking in.\n\n848\n00:41:28,200 --> 00:41:30,490\nI can see if that client is\nindeed checking in with me.\n\n849\n00:41:30,490 --> 00:41:32,310\nSo, looks like things are running well.\n\n850\n00:41:34,140 --> 00:41:36,500\nAll right, I noticed that one of my\nupdates also finished downloading.\n\n851\n00:41:36,500 --> 00:41:40,480\nIf I go back to my software updates,\nunder Updates I can see that I've got\n\n852\n00:41:40,480 --> 00:41:43,200\nseveral updates now that\nare showing as disabled.\n\n853\n00:41:43,200 --> 00:41:45,710\nThey've downloaded but\nbecause I'm in manual mode,\n\n854\n00:41:45,710 --> 00:41:48,110\nthey're not automatically enabled.\n\n855\n00:41:48,110 --> 00:41:51,360\nSo I can go through and pick them and\nI can say all right, I'm ready for\n\n856\n00:41:51,360 --> 00:41:54,200\nthis iTunes update to roll out to\nmy clients and I can enable that.\n\n857\n00:41:54,200 --> 00:41:57,500\nI can take some of these other ones and\npush them.\n\n858\n00:41:57,500 --> 00:41:59,450\nHere's that OS10 update.\n\n859\n00:41:59,450 --> 00:42:04,080\nFor 10.103, and so I can just go\nthrough and start enabling these.\n\n860\n00:42:04,080 --> 00:42:06,080\nAnd if this is my canary group,\n\n861\n00:42:06,080 --> 00:42:09,090\nwell they are going to start\nreceiving these updates.\n\n862\n00:42:09,090 --> 00:42:11,060\nIf this is my production group,\neverybody else,\n\n863\n00:42:11,060 --> 00:42:12,370\nthey'll start getting the updates too.\n\n864\n00:42:12,370 --> 00:42:15,580\nBut normally my canary group,\nI would do an automatic server.\n\n865\n00:42:15,580 --> 00:42:16,720\nIt would already be approved.\n\n866\n00:42:16,720 --> 00:42:19,600\nHere I'm greenlighting these rolling\nit out on all the other computers.\n\n867\n00:42:19,600 --> 00:42:20,940\nAnd so now when they start to check in,\n\n868\n00:42:20,940 --> 00:42:23,960\nthey'll see these updates,\nand they'll update.\n\n869\n00:42:23,960 --> 00:42:25,303\nWell, hopefully they'll update.\n\n870\n00:42:25,303 --> 00:42:26,838\n[LAUGH] Unless there's some other issue.\n\n871\n00:42:26,838 --> 00:42:29,270\nRemember the other benefit here is that\nwhen they go to download the update,\n\n872\n00:42:29,270 --> 00:42:33,410\nthey're not gonna download it from Apple,\nthey're gonna download it from our server,\n\n873\n00:42:33,410 --> 00:42:35,590\nbecause we did download it right here,\nright?\n\n874\n00:42:35,590 --> 00:42:37,920\nSo it serves kind of like a caching\nserver for those updates.\n\n875\n00:42:39,290 --> 00:42:42,460\nDefinitely cool stuff, not a terribly\ndifficult thing to get configured,\n\n876\n00:42:42,460 --> 00:42:44,840\nbut a little more in depth\nthan the caching server.\n\n877\n00:42:44,840 --> 00:42:45,960\nThere's definitely a difference there.\n\n878\n00:42:47,440 --> 00:42:50,990\nAll right, well, in this episode, we got a\nchance to see the software update service.\n\n879\n00:42:50,990 --> 00:42:51,860\nIt works pretty well.\n\n880\n00:42:51,860 --> 00:42:56,350\nIt does it's job and it's exciting and\nthrilling as all of our technologies are.\n\n881\n00:42:56,350 --> 00:42:58,180\nSo I hope you guys enjoyed the episode.\n\n882\n00:42:58,180 --> 00:43:00,990\nLet me remind you if you have\nquestions on any of this.\n\n883\n00:43:00,990 --> 00:43:04,200\nLive during the show you\ncan go to ITPro.TV/live and\n\n884\n00:43:04,200 --> 00:43:06,490\nyou'll see the chatbox beneath the video.\n\n885\n00:43:06,490 --> 00:43:07,390\nPost your questions there.\n\n886\n00:43:07,390 --> 00:43:09,660\nWe monitor and answer during the show.\n\n887\n00:43:09,660 --> 00:43:13,280\nIf you have any questions after the show\nlike if you're watching this recorded,\n\n888\n00:43:13,280 --> 00:43:14,740\nmake use of our forums.\n\n889\n00:43:14,740 --> 00:43:18,850\nYou can click on the Q&A link on top\nof every page on the ITProTV site.\n\n890\n00:43:18,850 --> 00:43:19,820\nIt'll take you to the forums.\n\n891\n00:43:19,820 --> 00:43:21,160\nYou can post your question there.\n\n892\n00:43:21,160 --> 00:43:23,200\nWe monitor and answer after the show.\n\n893\n00:43:23,200 --> 00:43:24,510\nTake advantage of those resources.\n\n894\n00:43:24,510 --> 00:43:25,740\nThey are there for you.\n\n895\n00:43:25,740 --> 00:43:26,950\nAll right.\n\n896\n00:43:26,950 --> 00:43:28,250\nWell that's all I got for today.\n\n897\n00:43:28,250 --> 00:43:30,350\nSo signing off for ITPro TV.\n\n898\n00:43:30,350 --> 00:43:31,187\nI'm Don Pezet.\n\n899\n00:43:31,187 --> 00:43:33,034\nAnd I'll see you next time.\n\n900\n00:43:33,034 --> 00:43:43,034\n[MUSIC]\n\n901\n00:43:46,988 --> 00:43:53,720\n[SOUND]\n\n",
          "vimeoId": "125706859"
        },
        {
          "description": null,
          "length": "3159",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-5-3-deployment_with_netinstall-050515-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-5-3-deployment_with_netinstall-050515-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-5-3-deployment_with_netinstall-050515-1-sm.jpg",
          "title": "Deployment with NetInstall",
          "transcript": "1\n00:00:00,588 --> 00:00:10,588\n[MUSIC]\n\n2\n00:00:15,402 --> 00:00:22,402\n[NOISE]\n\n3\n00:00:22,402 --> 00:00:33,303\n[MUSIC]\n\n4\n00:00:33,303 --> 00:00:36,364\nAll right, good morning,\ngood afternoon, and good evening, and\n\n5\n00:00:36,364 --> 00:00:38,310\nwelcome back another episode of ItProTV.\n\n6\n00:00:38,310 --> 00:00:39,640\nI'm your host Don Pezet,\n\n7\n00:00:39,640 --> 00:00:43,790\nback again with another episode of\nApple certified technical coordinator.\n\n8\n00:00:43,790 --> 00:00:46,630\nToday we're gonna jump into the single\n\n9\n00:00:46,630 --> 00:00:51,500\ncoolest technology that we get to cover\nin this whole exam, which is NetInstall.\n\n10\n00:00:51,500 --> 00:00:53,320\nNet install is a really versatile tool.\n\n11\n00:00:53,320 --> 00:00:56,050\nIt's built into the OS10 server app.\n\n12\n00:00:56,050 --> 00:00:59,930\nWhat it does, is allows you to quickly\nprovision work stations on your network.\n\n13\n00:00:59,930 --> 00:01:03,330\nNow, that's a lot of buzz words to\ntake in this early in the morning.\n\n14\n00:01:03,330 --> 00:01:05,170\nSo what the heck am I talking about?\n\n15\n00:01:05,170 --> 00:01:08,700\nWell, normally when you\nbuy a new Mac from Apple.\n\n16\n00:01:08,700 --> 00:01:13,520\nBe it a Mac Book or a Mac Pro or whatever,\nit's already got OS 10 installed on it.\n\n17\n00:01:13,520 --> 00:01:17,640\nAnd it's got a configuration that Apple\nfeels is suitable for most people.\n\n18\n00:01:17,640 --> 00:01:20,100\nBut, it's not perfect for everyone.\n\n19\n00:01:20,100 --> 00:01:23,060\nThere might be things that you want to\nchange, software that you need to install,\n\n20\n00:01:23,060 --> 00:01:24,970\nmodifications that you need to make.\n\n21\n00:01:24,970 --> 00:01:28,230\nAnd, that's fine, you make those\nchanges and you're done, right?\n\n22\n00:01:28,230 --> 00:01:31,137\nBut what if you just\nbought a thousand Macs.\n\n23\n00:01:31,137 --> 00:01:35,820\nYou bought 1,000 Mac Book Pros to\ngive to students at a university, and\n\n24\n00:01:35,820 --> 00:01:37,870\nyou wanna get them all\nset up the same way.\n\n25\n00:01:37,870 --> 00:01:41,950\nWell, you don't have to go and\ndo those changes 1,000 different times.\n\n26\n00:01:41,950 --> 00:01:47,680\nSo what NetInstall does is it allows\nus to build custom installations.\n\n27\n00:01:47,680 --> 00:01:49,800\nInstallations that can be\ndeployed not just once, but\n\n28\n00:01:49,800 --> 00:01:53,210\n100 times, 1,000 times over and\nover and over again.\n\n29\n00:01:53,210 --> 00:01:57,080\nSo that all of our machines\nhave a consistent environment.\n\n30\n00:01:57,080 --> 00:01:59,390\nFor a regular end user, for a home user,\n\n31\n00:01:59,390 --> 00:02:02,350\nthis is a pointless technology\nthey have no use for.\n\n32\n00:02:02,350 --> 00:02:05,900\nFor a small business we have four,\nfive, maybe even ten computers.\n\n33\n00:02:05,900 --> 00:02:07,910\nPointless technology, no need for it.\n\n34\n00:02:07,910 --> 00:02:11,320\nBut if you're a medium or large business,\nif you're an enterprise or\n\n35\n00:02:11,320 --> 00:02:15,640\na university, this is something that is\nreally critical to your infrastructure.\n\n36\n00:02:15,640 --> 00:02:16,150\nAll right.\n\n37\n00:02:16,150 --> 00:02:17,840\nThere's two main uses for it, right?\n\n38\n00:02:17,840 --> 00:02:21,700\nOne uses quick deployment, like what I\nmentioned, is you get new computers and\n\n39\n00:02:21,700 --> 00:02:23,240\nyou can provision them.\n\n40\n00:02:23,240 --> 00:02:26,560\nProvision them, that means just getting\nthem ready to be used in your environment.\n\n41\n00:02:26,560 --> 00:02:29,620\nAnd that might be configuration changes,\nit might be custom software,\n\n42\n00:02:29,620 --> 00:02:30,880\nit might be custom files.\n\n43\n00:02:30,880 --> 00:02:34,455\nWhatever it is it takes to get that\nmachine ready, NetInstall makes that easy.\n\n44\n00:02:34,455 --> 00:02:35,550\nRight.\n\n45\n00:02:35,550 --> 00:02:41,360\nThe other thing that NetInstall can\nprovide is quick recovery right?\n\n46\n00:02:41,360 --> 00:02:43,220\nIf you've ever worked tech support.\n\n47\n00:02:43,220 --> 00:02:46,500\nI think a lot of our viewers have\nbeen in the situation where,\n\n48\n00:02:46,500 --> 00:02:50,290\nyou answer the phone and the user on\nthe other end is describing some problem.\n\n49\n00:02:50,290 --> 00:02:52,920\nHey, I installed some software and\nnow things are broken.\n\n50\n00:02:52,920 --> 00:02:54,190\nAnd I can't figure out what's going on.\n\n51\n00:02:54,190 --> 00:02:56,830\nAnd I need to uninstall this or\nreinstall that.\n\n52\n00:02:56,830 --> 00:02:59,380\nWell, you can try and\nwork through that problem with them.\n\n53\n00:02:59,380 --> 00:03:02,190\nBut sometimes half an hour goes by,\nan hour goes by and\n\n54\n00:03:02,190 --> 00:03:04,240\nyou're still trying to\ntroubleshoot the problem.\n\n55\n00:03:04,240 --> 00:03:07,780\nWith NetInstall you can say let's\njust quickly wipe your machine and\n\n56\n00:03:07,780 --> 00:03:09,420\nset it back to the way we had it.\n\n57\n00:03:09,420 --> 00:03:13,320\nAnd you can redeploy that NetInstall image\nand now their machine is back up and\n\n58\n00:03:13,320 --> 00:03:16,030\nrunning and you didn't have to\nspend an hour troubleshooting it.\n\n59\n00:03:16,030 --> 00:03:19,050\nSo you can quickly recover\nmachines with NetInstall.\n\n60\n00:03:19,050 --> 00:03:20,520\nIt's very very cool.\n\n61\n00:03:20,520 --> 00:03:23,070\nNow when you configure NetInstall\nthere is actually three\n\n62\n00:03:23,070 --> 00:03:24,820\ndifferent modes it can run in.\n\n63\n00:03:24,820 --> 00:03:27,000\nAnd they're really easy to confuse.\n\n64\n00:03:27,000 --> 00:03:30,250\nAnd so for the exam you've got to make\nsure you've got all three modes straight,\n\n65\n00:03:30,250 --> 00:03:33,370\nlike which mode is designed for\nwhich purpose.\n\n66\n00:03:33,370 --> 00:03:36,690\nSo NetInstall is the main mode.\n\n67\n00:03:36,690 --> 00:03:42,130\nIn NetInstall, we create an image, an\ninstallation image, and we can then roll\n\n68\n00:03:42,130 --> 00:03:46,532\nthat installation image out to one, 100,\n1000, however many computers that we want.\n\n69\n00:03:46,532 --> 00:03:50,050\nSo NetInstall is all about installing\n\n70\n00:03:50,050 --> 00:03:54,260\na copy of OS 10 on a machine and\nhaving it set up the way we want it.\n\n71\n00:03:54,260 --> 00:03:55,940\nThat's NetInstall.\n\n72\n00:03:55,940 --> 00:03:57,497\nThen there's NetBoot.\n\n73\n00:03:57,497 --> 00:04:01,002\nNetBoot is a variation of NetInstall.\n\n74\n00:04:01,002 --> 00:04:04,662\nWith NetInstall, we're installing the\noperating system on the client machine.\n\n75\n00:04:04,662 --> 00:04:09,490\nWith NetBoot, we say let's just run\nthe operating system from the network.\n\n76\n00:04:09,490 --> 00:04:11,550\nDon't even install it on the client.\n\n77\n00:04:11,550 --> 00:04:16,170\nNow, somebody turns on a client computer\nand it reaches out over the network, and\n\n78\n00:04:16,170 --> 00:04:20,050\nit downloads that operating system and\nit runs it.\n\n79\n00:04:20,050 --> 00:04:21,950\nAnd then when you turn\nthe computer off it's all gone.\n\n80\n00:04:21,950 --> 00:04:26,330\nAnd when you turn the computer back on,\nit downloads it all over again.\n\n81\n00:04:26,330 --> 00:04:29,490\nAnd it runs again based off\nof this network install.\n\n82\n00:04:29,490 --> 00:04:31,950\nNow, why would we want to do that?\n\n83\n00:04:31,950 --> 00:04:34,030\nWell, there's two reasons, right?\n\n84\n00:04:34,030 --> 00:04:37,400\nOne reason is it allows us to have\nwhat are called diskless clients.\n\n85\n00:04:37,400 --> 00:04:39,030\nClients that don't even have a hard drive.\n\n86\n00:04:39,030 --> 00:04:39,930\nThey boot up.\n\n87\n00:04:39,930 --> 00:04:41,990\nThey load their operating system and\ntheir RAM, and\n\n88\n00:04:41,990 --> 00:04:44,360\nthey run with no hard\ndrive in their system.\n\n89\n00:04:44,360 --> 00:04:46,310\nRight?\nNow, there's not a lot of use for that,\n\n90\n00:04:46,310 --> 00:04:48,980\nbut some people do like\nhaving that environment.\n\n91\n00:04:48,980 --> 00:04:51,380\nHard drive failures are pretty prevalent.\n\n92\n00:04:51,380 --> 00:04:53,910\nIt's one of the main areas where\nwe have failure on a system.\n\n93\n00:04:53,910 --> 00:04:56,540\nSo, you can get away from hard drives,\nif you want.\n\n94\n00:04:56,540 --> 00:05:00,040\nBut the biggest advantage is that\nevery time you boot that computer up,\n\n95\n00:05:00,040 --> 00:05:01,900\nit's fresh and clean.\n\n96\n00:05:01,900 --> 00:05:06,600\nAnd if you've ever worked with children,\nif you've ever set up a computer lab for\n\n97\n00:05:06,600 --> 00:05:10,760\nan elementary school, those computers\nget messed up pretty quick.\n\n98\n00:05:10,760 --> 00:05:14,610\nIt gets worse in junior high or\nhigh school, where the kids start learning\n\n99\n00:05:14,610 --> 00:05:17,310\na little bit more about how to get into\nthe computer and really cause some damage.\n\n100\n00:05:17,310 --> 00:05:20,330\nSo, somebody fires up a computer and\nthey change the wallpaper,\n\n101\n00:05:20,330 --> 00:05:22,000\nthey delete some software,\nand they add in a.\n\n102\n00:05:22,000 --> 00:05:25,700\nI don't even know,\na BitTorrent miner or Bitcoin miner.\n\n103\n00:05:25,700 --> 00:05:30,500\nWhatever it is that the kids are running\nthese days, and it junks up the machine.\n\n104\n00:05:30,500 --> 00:05:32,790\nWell you just reboot it,\nand when it reboots,\n\n105\n00:05:32,790 --> 00:05:36,840\nit downloads that operating system and\nruns it live over the network again.\n\n106\n00:05:36,840 --> 00:05:38,720\nThat's NetBoot, all right?\n\n107\n00:05:38,720 --> 00:05:41,235\nSo NetBoot is a variation of NetInstall.\n\n108\n00:05:42,520 --> 00:05:45,985\nAnd the last mode is NetRestore.\n\n109\n00:05:45,985 --> 00:05:48,440\nNetRestore is designed for\nrecovering machines.\n\n110\n00:05:48,440 --> 00:05:53,570\nNow, we've already talked in other\nepisodes about recovery mode in Mac OS and\n\n111\n00:05:53,570 --> 00:05:57,830\nhow we can boot up using the command\nR keys and it takes us into recovery.\n\n112\n00:05:57,830 --> 00:06:01,580\nAnd we can even reinstall Mac OS via\n\n113\n00:06:01,580 --> 00:06:04,530\nnet recovery right off of Apple\nservers down to our machine.\n\n114\n00:06:04,530 --> 00:06:11,530\nSo, NetRestore is kind of going away,\nbut it's still here for a reason.\n\n115\n00:06:11,530 --> 00:06:15,040\nFirst off, it lets you do exactly\nwhat regular Internet Recovery does.\n\n116\n00:06:15,040 --> 00:06:17,750\nYou can boot a machine to the network.\n\n117\n00:06:17,750 --> 00:06:21,860\nIt'll load recovery basically\noff of a NetInstall server.\n\n118\n00:06:21,860 --> 00:06:24,786\nAnd allow you to reinstall your\noperating system and recover it.\n\n119\n00:06:24,786 --> 00:06:30,170\nBut where NetRestore differs is when you\ndo Internet Recovery off of Apple servers.\n\n120\n00:06:30,170 --> 00:06:35,960\nYou're just getting a stock, plain old\ncopy of OS10, the factory default.\n\n121\n00:06:35,960 --> 00:06:38,960\nBut with NetRestore,\nyou can customize that image.\n\n122\n00:06:38,960 --> 00:06:42,190\nSo now, when it loads the image\ndown machine it can already\n\n123\n00:06:42,190 --> 00:06:44,660\nhave custom software and\nother things in it.\n\n124\n00:06:44,660 --> 00:06:47,120\nThat's not going to happen\nwith Internet Recovery.\n\n125\n00:06:47,120 --> 00:06:48,940\nA lot of people look at NetRestore and\nsay, \"Well,\n\n126\n00:06:48,940 --> 00:06:50,820\nI don't need that now because\nApple has Internet Recovery.\n\n127\n00:06:50,820 --> 00:06:54,280\nI can just use that.\" But\nif you want a customized image\n\n128\n00:06:54,280 --> 00:06:58,580\nto be deployed down as that recovery,\nthat's where NetRestore comes in.\n\n129\n00:06:58,580 --> 00:07:01,080\nSo just to recap, and make sure\nyou keep it straight in your head,\n\n130\n00:07:01,080 --> 00:07:03,440\nthe three modes: NetInstall.\n\n131\n00:07:03,440 --> 00:07:05,460\nInstalls OS10 on a client.\n\n132\n00:07:06,555 --> 00:07:12,088\nNetBoot runs OS10 from a network location,\ndoesn't actually install it on the client.\n\n133\n00:07:12,088 --> 00:07:12,827\nAnd then,\n\n134\n00:07:12,827 --> 00:07:18,280\nNetRestore allows us to recover OS10\nto a client with customizations, right?\n\n135\n00:07:18,280 --> 00:07:21,910\nSo, those are our three modes, and it's\nup to us to pick the ones that we want.\n\n136\n00:07:21,910 --> 00:07:23,840\nAnd, you can mix and match them.\n\n137\n00:07:23,840 --> 00:07:28,642\nWhen you bring up a NetInstall server,\nyou create NetInstall images,\n\n138\n00:07:28,642 --> 00:07:32,090\nand it's the image that\ndetermines the mode.\n\n139\n00:07:32,090 --> 00:07:34,720\nSo, I can have eight different\nimages on my server.\n\n140\n00:07:34,720 --> 00:07:37,140\nAnd one image could be a NetBoot image.\n\n141\n00:07:37,140 --> 00:07:39,050\nTwo images might be NetInstall images,\n\n142\n00:07:39,050 --> 00:07:41,630\nanother three images might\nbe net restore images.\n\n143\n00:07:41,630 --> 00:07:43,110\nYou can mix and match,\nso it's kind of neat.\n\n144\n00:07:43,110 --> 00:07:47,410\nYou've got all that flexibility to be able\nto build all that into the system,right?\n\n145\n00:07:47,410 --> 00:07:49,550\nNow, I said image.\n\n146\n00:07:49,550 --> 00:07:50,545\nWhat is an image?\n\n147\n00:07:50,545 --> 00:07:53,645\nWell, an image is really just\na snapshot of a hard drive.\n\n148\n00:07:53,645 --> 00:07:57,392\nWhen you install OS ten to a hard drive\nthrough your machine It copies a bunch of\n\n149\n00:07:57,392 --> 00:08:00,693\nfiles to the hard drive, and\nthere's all that data sitting there.\n\n150\n00:08:00,693 --> 00:08:04,036\nYou guys have navigated around a hard\ndrive structure, you've seen those files.\n\n151\n00:08:04,036 --> 00:08:08,479\nWhen you take an image, that's just\na giant archive file that includes\n\n152\n00:08:08,479 --> 00:08:11,560\neverything that was on that hard drive.\n\n153\n00:08:11,560 --> 00:08:14,490\nAnd we'll see when we make images\na little bit later, that it's really just\n\n154\n00:08:14,490 --> 00:08:17,230\na giant snapshot of all the files\nthat were found inside of that drive.\n\n155\n00:08:18,460 --> 00:08:21,440\nSo the images are kind of\nthe key piece to this.\n\n156\n00:08:21,440 --> 00:08:25,383\nIn fact it's so important, that we can't\neven turn on the NetInstall service until\n\n157\n00:08:25,383 --> 00:08:29,047\nwe've created an image and so that's kind\nof where we need to start the show but\n\n158\n00:08:29,047 --> 00:08:32,285\nlet me show you what I mean first\nbefore I jump into creating an image.\n\n159\n00:08:32,285 --> 00:08:37,114\nI've got my handy dandy server here,\nand it's just Running OS/X Yosemite,\n\n160\n00:08:37,114 --> 00:08:41,502\nI've got my server app fired up, and\nright here in my list of services,\n\n161\n00:08:41,502 --> 00:08:45,690\nif you kind of browse down,\nyou'll find NetInstall way down here.\n\n162\n00:08:45,690 --> 00:08:49,460\nNow, NetInstall is under the advanced\nservices, it's not considered one of\n\n163\n00:08:49,460 --> 00:08:52,910\nthe normal ones, and remember that\nthe advanced menu is hidden by default.\n\n164\n00:08:52,910 --> 00:08:56,720\nSo you might have to show that to get\na list of the advanced services and\n\n165\n00:08:56,720 --> 00:08:58,610\nthen you will find that\ninstall right down in there.\n\n166\n00:09:00,220 --> 00:09:01,190\nAnd there it is.\n\n167\n00:09:01,190 --> 00:09:04,460\nNow a lot of these services\nthe configuration is just a matter of\n\n168\n00:09:04,460 --> 00:09:05,850\nflipping that on switch.\n\n169\n00:09:05,850 --> 00:09:08,580\nBut watch what happens when\nI go hit that on switch.\n\n170\n00:09:08,580 --> 00:09:10,980\nIt went right back off again, okay?\n\n171\n00:09:10,980 --> 00:09:15,110\nWhat happens is,\nyou cannot turn on the netinstall service\n\n172\n00:09:15,110 --> 00:09:18,200\nuntil you have at least\none image on your server.\n\n173\n00:09:18,200 --> 00:09:20,220\nSo we gotta have an image available.\n\n174\n00:09:20,220 --> 00:09:23,560\nAnd if you don't have an image,\nwell then, it's not gonna turn on.\n\n175\n00:09:23,560 --> 00:09:25,740\nAnd if you ever forget\nthat's what's going on,\n\n176\n00:09:25,740 --> 00:09:28,160\nyou can always go in your server logs and\nit shows that.\n\n177\n00:09:28,160 --> 00:09:34,580\nIf I pull up my server logs, I won't have\nNetInstall logs, or actually I'm lying.\n\n178\n00:09:34,580 --> 00:09:36,308\nI guess I will have NetInstall logs.\n\n179\n00:09:36,308 --> 00:09:39,400\nSometimes the NetInstall logs won't\nshow up until you've started the service\n\n180\n00:09:39,400 --> 00:09:40,460\nat least once.\n\n181\n00:09:40,460 --> 00:09:42,520\nBut it my case it appears I do have one.\n\n182\n00:09:42,520 --> 00:09:44,190\nBut see how it doesn't\nhave any errors in it?\n\n183\n00:09:44,190 --> 00:09:45,480\nThis doesn't normally show up.\n\n184\n00:09:45,480 --> 00:09:48,300\nInstead, if you go into your system log,\n\n185\n00:09:48,300 --> 00:09:51,040\nyou'll see where it tried\nto turn on the service, and\n\n186\n00:09:51,040 --> 00:09:53,530\nthere will be an error there letting you\nknow that it didn't have any images.\n\n187\n00:09:53,530 --> 00:09:58,410\nSo if we root through here,\nit will show where I tried to start it,\n\n188\n00:09:58,410 --> 00:10:02,780\nand it didn't have any images, so,\n\n189\n00:10:02,780 --> 00:10:05,230\nI'm not seeing the error message offhand,\nbut it'll be in here somewhere.\n\n190\n00:10:05,230 --> 00:10:06,931\nYou can spot it and it'll just say,\n\n191\n00:10:06,931 --> 00:10:09,445\ncan't start net install\ncuz no images are present.\n\n192\n00:10:09,445 --> 00:10:11,250\nAll right.\nSo we need to get an image present.\n\n193\n00:10:12,550 --> 00:10:15,980\nTaking an image is really\nnot a hard thing to do.\n\n194\n00:10:15,980 --> 00:10:19,870\nYou actually have built into Mac OS,\nwhat's called the system image utility.\n\n195\n00:10:19,870 --> 00:10:22,930\nAnd the system image utility will\nlet you capture a hard drive and\n\n196\n00:10:22,930 --> 00:10:24,340\nturn it into an image.\n\n197\n00:10:24,340 --> 00:10:26,230\nNow, we don't always want\nto capture a hard drive.\n\n198\n00:10:26,230 --> 00:10:28,130\nIt depends on what we'ŕe trying to do.\n\n199\n00:10:28,130 --> 00:10:31,140\nSo for example,\nlet's say I want to do a NetInstall image.\n\n200\n00:10:31,140 --> 00:10:34,900\nI want to create an image that\ninstalls OS10 on a client.\n\n201\n00:10:34,900 --> 00:10:37,230\nWell, I don't need to image\na hard drive for that.\n\n202\n00:10:37,230 --> 00:10:39,570\nI can use the regular Yosemite installer.\n\n203\n00:10:39,570 --> 00:10:43,160\nI can take that and\nturn it into my network installer.\n\n204\n00:10:43,160 --> 00:10:45,900\nSo, the first thing I need to do is, I\nneed to fire up the system image utility.\n\n205\n00:10:45,900 --> 00:10:48,600\nNow, unlike the other utilities\nwe've used on the show,\n\n206\n00:10:48,600 --> 00:10:50,670\nit's not in the Application folder.\n\n207\n00:10:50,670 --> 00:10:53,810\nThis one's been moved into that Core\nServices folder that's hidden away inside\n\n208\n00:10:53,810 --> 00:10:54,940\na slash system.\n\n209\n00:10:54,940 --> 00:10:56,920\nSo I'm just gonna use my\nspotlight search here,\n\n210\n00:10:56,920 --> 00:10:59,010\nthat's the easiest way\nto get to it these days.\n\n211\n00:10:59,010 --> 00:11:01,880\nAnd I'll pull up the system image utility.\n\n212\n00:11:04,220 --> 00:11:07,340\nAll right, now when you fire\nup the system image utility,\n\n213\n00:11:07,340 --> 00:11:10,210\nthe first thing it's gonna\ndo is it's gonna look.\n\n214\n00:11:10,210 --> 00:11:11,780\nSo that Yosemite installer file.\n\n215\n00:11:12,900 --> 00:11:16,040\nWhen you go into the App Store and\nyou do a search for Yosemite,\n\n216\n00:11:16,040 --> 00:11:18,760\nyou'll find the Yosemite installer,\nyou can choose download.\n\n217\n00:11:18,760 --> 00:11:19,810\nIt'll download it to hard drive.\n\n218\n00:11:19,810 --> 00:11:22,309\nI think we did that way back in one of\nthe earlier episodes of this series.\n\n219\n00:11:23,510 --> 00:11:27,130\nWhen it boots up the system image utility\nit knows to look for that installer.\n\n220\n00:11:28,160 --> 00:11:30,140\nIf you don't have it you can always go and\ndownload it,\n\n221\n00:11:30,140 --> 00:11:31,350\njust download it in the app store.\n\n222\n00:11:31,350 --> 00:11:33,240\nAnd it'll be found in\nyour applications folder.\n\n223\n00:11:33,240 --> 00:11:36,810\nSo if I look in my applications folder,\nyou'll see where I've got in here,\n\n224\n00:11:36,810 --> 00:11:38,810\nI scrolled a little too far, there it is.\n\n225\n00:11:38,810 --> 00:11:41,930\nInstall OS/X Yosemite,\nright there, all right?\n\n226\n00:11:41,930 --> 00:11:44,120\nSo that's the installation image, and\n\n227\n00:11:44,120 --> 00:11:47,850\nthat's what it's looking for\nto use as our initial source.\n\n228\n00:11:47,850 --> 00:11:51,150\nAnd when we're doing a NetInstall image,\nthat's usually what we want.\n\n229\n00:11:51,150 --> 00:11:54,540\nSo here for my source,\nwhat I'm gonna be taking an image of,\n\n230\n00:11:54,540 --> 00:11:58,220\nit's got that installer chosen,\nand then down here I pick.\n\n231\n00:11:58,220 --> 00:11:59,700\nAm I creating a net boot?\n\n232\n00:11:59,700 --> 00:12:00,650\nA net install?\n\n233\n00:12:00,650 --> 00:12:02,068\nOr a net restore image?\n\n234\n00:12:02,068 --> 00:12:02,700\nNow the NetInstall,\n\n235\n00:12:02,700 --> 00:12:05,910\nthat's the default because that's\nthe one it assumes we're going to make.\n\n236\n00:12:05,910 --> 00:12:09,370\nBut I could make a Netboot\nimage out of this installer.\n\n237\n00:12:09,370 --> 00:12:11,220\nIt wouldn't be very effective.\n\n238\n00:12:11,220 --> 00:12:14,160\nPeople would turn on their computer, and\nit would go into the Yosemite installer.\n\n239\n00:12:14,160 --> 00:12:16,160\nThey'd have to go through\nthe installation.\n\n240\n00:12:16,160 --> 00:12:18,430\nAnd when it's done, it's gonna reboot.\n\n241\n00:12:18,430 --> 00:12:22,310\nAnd then they start all over again because\nwith NetBoot it doesn't save your changes,\n\n242\n00:12:22,310 --> 00:12:24,090\nyou reboot and\nyou lose all of your changes.\n\n243\n00:12:24,090 --> 00:12:26,500\nSo that kind of defeats the purpose.\n\n244\n00:12:26,500 --> 00:12:29,300\nSo we really wouldn't want to make\na NetBoot image of the installer.\n\n245\n00:12:29,300 --> 00:12:30,770\nWe'll talk about NetBoot\na little bit more later.\n\n246\n00:12:31,950 --> 00:12:33,910\nNetRestore on the other hand.\n\n247\n00:12:33,910 --> 00:12:36,250\nWe might want to make\na NetRestore image out of this,\n\n248\n00:12:36,250 --> 00:12:38,960\nif we wanted to customize\nwhat was being restored.\n\n249\n00:12:38,960 --> 00:12:40,918\nBut normally, NetBoot and\n\n250\n00:12:40,918 --> 00:12:44,980\nNetRestore are gonna use another\ncomputer's hard drive as their base image.\n\n251\n00:12:44,980 --> 00:12:46,320\nSo I'll talk about that\na little bit later.\n\n252\n00:12:47,520 --> 00:12:50,180\nI'm gonna create a NetInstall image for\nright now, and\n\n253\n00:12:50,180 --> 00:12:52,270\nI'll just hit continue on that.\n\n254\n00:12:52,270 --> 00:12:53,126\nAnd I'm gonna give it a name.\n\n255\n00:12:53,126 --> 00:12:56,950\nNow the name, it can be whatever you want,\nwhatever helps you to recognize it.\n\n256\n00:12:56,950 --> 00:13:02,750\nSo I'm gonna change this one so\nit says, NetInstall of OS10 Yosemite.\n\n257\n00:13:02,750 --> 00:13:06,330\nAnd then it's got the version information.\n\n258\n00:13:06,330 --> 00:13:09,730\nThere's a little option here that\nsays image will be served for\n\n259\n00:13:09,730 --> 00:13:10,890\nmore than one server.\n\n260\n00:13:11,900 --> 00:13:16,629\nBy default, every image that you create\nwill have an index number attached to it.\n\n261\n00:13:16,629 --> 00:13:21,129\nAnd the index number is\na number between 1 and 4094.\n\n262\n00:13:21,129 --> 00:13:22,450\nIt's gonna be randomly picked.\n\n263\n00:13:22,450 --> 00:13:24,750\nSee how it's not letting me pick\nwhat that index number is here?\n\n264\n00:13:24,750 --> 00:13:26,750\nIt's just gonna assign it.\n\n265\n00:13:26,750 --> 00:13:30,370\nWell, what if you have more\nthan one physical location?\n\n266\n00:13:30,370 --> 00:13:35,810\nSo maybe you've got offices in Orlando,\nFlorida, and Los Angeles, California.\n\n267\n00:13:35,810 --> 00:13:39,280\nSo you've got offices that are on\ntwo sides of the United States.\n\n268\n00:13:39,280 --> 00:13:42,990\nWell, if a computer\nboots up in California,\n\n269\n00:13:42,990 --> 00:13:46,920\nyou don't want it to have to reach all the\nway over to Florida to download the image.\n\n270\n00:13:46,920 --> 00:13:48,151\nThat could take a long time.\n\n271\n00:13:48,151 --> 00:13:53,090\nSo it would be nice to have more than\none NetInstall server in each location.\n\n272\n00:13:53,090 --> 00:13:56,870\nSo maybe I've got one in Paris,\nFrance, and one in London, England,\n\n273\n00:13:56,870 --> 00:13:59,880\nand one in Washington D.C.\nhere in the U.S.\n\n274\n00:13:59,880 --> 00:14:03,750\nand I want computers in those countries\nto go to that local installation.\n\n275\n00:14:03,750 --> 00:14:06,920\nThe reality is the server typically\ngonna be on the same network as your\n\n276\n00:14:06,920 --> 00:14:07,500\nwork stations.\n\n277\n00:14:07,500 --> 00:14:09,750\nYou don't usually want to go over\na wide area network with this stuff.\n\n278\n00:14:10,750 --> 00:14:13,660\nBut, you do want people\nto have a local server so\n\n279\n00:14:13,660 --> 00:14:15,440\nthey can download the images very quickly.\n\n280\n00:14:15,440 --> 00:14:16,940\nThese images can be pretty large.\n\n281\n00:14:16,940 --> 00:14:18,810\nThey can 10, 15 gigs in size.\n\n282\n00:14:18,810 --> 00:14:21,540\nIt can be even larger if you\npack them full of software.\n\n283\n00:14:21,540 --> 00:14:23,920\nSo, if you're downloading that\nover an internet connection,\n\n284\n00:14:23,920 --> 00:14:25,740\nthat's gonna take a long time.\n\n285\n00:14:25,740 --> 00:14:29,370\nBut if you're on a gigabit network,\nit'll download pretty fast, right?\n\n286\n00:14:29,370 --> 00:14:31,709\nSo, that's how this is\nnormally intended to be used.\n\n287\n00:14:32,770 --> 00:14:37,760\nWell, if I have more than one server, then\nI need to check off this option that says\n\n288\n00:14:37,760 --> 00:14:40,350\nimage will be served from\nmore than one server.\n\n289\n00:14:40,350 --> 00:14:45,240\nAnd now it knows that this image\nmight exist in more than one place.\n\n290\n00:14:45,240 --> 00:14:50,090\nAnd the way it ties the images together,\nis by that index number I mentioned.\n\n291\n00:14:50,090 --> 00:14:53,650\nAnd so, when I create this image,\nit's gonna have an index number, and\n\n292\n00:14:53,650 --> 00:14:58,550\nI can then copy this image to as many\nother NetInstall servers as I want, and\n\n293\n00:14:58,550 --> 00:15:03,010\nI just need to make sure that index\nnumber is the same on each server and\n\n294\n00:15:03,010 --> 00:15:07,030\nthat way it will know, these aren't unique\nimages, these are all the same image.\n\n295\n00:15:07,030 --> 00:15:09,600\nAnd that way when a client boots\nup it can pick this one image and\n\n296\n00:15:09,600 --> 00:15:11,870\nit'll just get it from the server\nthat's nearest to them.\n\n297\n00:15:11,870 --> 00:15:14,480\nSo, that index number we'll see\nthat a little bit later, but\n\n298\n00:15:14,480 --> 00:15:17,810\nthat's what this is saying is basically\nwhether this image will be present on\n\n299\n00:15:17,810 --> 00:15:20,910\nmore than one NetInstall server,\nor just one.\n\n300\n00:15:20,910 --> 00:15:23,680\nI've only got one NetInstall server so\nthere's not a lot of need for\n\n301\n00:15:23,680 --> 00:15:26,450\nme to set that, I'll leave it empty,\nand I'll go ahead and create.\n\n302\n00:15:28,060 --> 00:15:30,810\nNow you do have to accept the licensing\nagreement there because the end user\n\n303\n00:15:30,810 --> 00:15:31,840\nwon't see it.\n\n304\n00:15:31,840 --> 00:15:33,480\nSo I'm gonna go ahead and do that.\n\n305\n00:15:33,480 --> 00:15:36,380\nAnd then I'm gonna save this\non my desktop for right now.\n\n306\n00:15:37,880 --> 00:15:40,030\nI'll have to move this image\nsomewhere else later, but\n\n307\n00:15:40,030 --> 00:15:42,060\nfor right now I'm just gonna\nstick in on the desktop.\n\n308\n00:15:42,060 --> 00:15:43,160\nAnd I'll let that create.\n\n309\n00:15:43,160 --> 00:15:45,755\nSo there it goes creating that disk image.\n\n310\n00:15:45,755 --> 00:15:47,791\nSo what it's doing is it's taking, well,\n\n311\n00:15:47,791 --> 00:15:50,831\nlet me give it my administrator\ncredentials there, there we go.\n\n312\n00:15:50,831 --> 00:15:57,032\nIt's taking that DMG, that disk image\nfile that it downloaded for Yosemite.\n\n313\n00:15:57,032 --> 00:16:01,969\nIt's taking it, and\nit's converting it into a bootable image.\n\n314\n00:16:01,969 --> 00:16:06,422\nThe file that you download from the app\nstore, it's actually an app, so\n\n315\n00:16:06,422 --> 00:16:10,218\nif we looked at that file where it said,\nInstall Yosemite, or\n\n316\n00:16:10,218 --> 00:16:14,454\nInstall OS X Yosemite,\nit's actually Install OS X Yosemite.app.\n\n317\n00:16:14,454 --> 00:16:15,991\nSo it's an application folder.\n\n318\n00:16:17,130 --> 00:16:21,320\nWhat it's doing now is, its converting\nit into a DMG, into a disk image, and\n\n319\n00:16:21,320 --> 00:16:25,520\nit's making it bootable, so that, we'll be\nable to boot off of it via the network.\n\n320\n00:16:25,520 --> 00:16:26,507\nSo it has to convert that.\n\n321\n00:16:26,507 --> 00:16:30,126\nIt doesn't take terribly long to do, so\nyou'll see mine is already finished.\n\n322\n00:16:30,126 --> 00:16:35,041\nAnd now, it's done, and when I look,\nthe finished product, let me just get out\n\n323\n00:16:35,041 --> 00:16:40,150\nof the System Image Utility here,\nthe finished product is this folder.\n\n324\n00:16:40,150 --> 00:16:41,760\nAnd that folder is special.\n\n325\n00:16:41,760 --> 00:16:44,700\nNotice the folder,\nit says NetInstall of OS X Yosemite,\n\n326\n00:16:44,700 --> 00:16:48,160\nthat's the name I gave it, .nbi.\n\n327\n00:16:48,160 --> 00:16:50,740\nNBI stands for NetBoot Image.\n\n328\n00:16:50,740 --> 00:16:54,254\nNow I'm doing NetInstall, but it always\nends in NBI whether you do a NetBoot,\n\n329\n00:16:54,254 --> 00:16:57,390\nNetInstall, or a NetRestore,\nit always ends in .nbi.\n\n330\n00:16:57,390 --> 00:17:02,690\nSo this is the image that it\ncreated out of that install file.\n\n331\n00:17:02,690 --> 00:17:06,300\nNow the image itself,\nit's not too terribly amazing.\n\n332\n00:17:06,300 --> 00:17:09,000\nIf you browse into it,\nyou'll start to see a preference list.\n\n333\n00:17:09,000 --> 00:17:11,082\nThere's the netinstall.dmg.\n\n334\n00:17:11,082 --> 00:17:13,520\nThere is that disk image\nI was talking about.\n\n335\n00:17:13,520 --> 00:17:16,870\nAnd there's an I386 folder here,\nwhich has boot files in it.\n\n336\n00:17:16,870 --> 00:17:18,610\nI said it was gonna make it bootable.\n\n337\n00:17:18,610 --> 00:17:21,610\nThese are the boot files that it uses,\nthe EFI boot files.\n\n338\n00:17:21,610 --> 00:17:23,090\nSo it can boot off of that, and\n\n339\n00:17:23,090 --> 00:17:26,900\nthen access the installer\nfrom inside of this DMG.\n\n340\n00:17:26,900 --> 00:17:29,450\nNow individually, these files don't work.\n\n341\n00:17:29,450 --> 00:17:31,905\nThe files all have to be together, and so\n\n342\n00:17:31,905 --> 00:17:37,075\nthat's why Apple sticks them together into\na single folder right here, in that NBI.\n\n343\n00:17:37,075 --> 00:17:38,415\nSo you need to leave them all together,\n\n344\n00:17:38,415 --> 00:17:41,725\nand treat this folder as\nif it were a single file.\n\n345\n00:17:41,725 --> 00:17:45,875\nAlways move everything\nthat's inside together.\n\n346\n00:17:45,875 --> 00:17:48,065\nNow, I've made an image.\n\n347\n00:17:48,065 --> 00:17:51,925\nI've got this image available, but\nthe server still doesn't know about it.\n\n348\n00:17:51,925 --> 00:17:54,850\nIf I go to my server, and\nI try, and turn this on.\n\n349\n00:17:54,850 --> 00:17:57,690\nSo I'm gonna go, and take my NetInstall,\nand try, and turn it on.\n\n350\n00:17:57,690 --> 00:18:00,330\nI've got an image, but I get that warning.\n\n351\n00:18:00,330 --> 00:18:01,970\nUnable to start the NetInstall.\n\n352\n00:18:01,970 --> 00:18:06,560\nI need to have at least one image for my\nclients to access, and it doesn't start.\n\n353\n00:18:06,560 --> 00:18:09,818\nThe reason is,\nit's not enough to just have an image.\n\n354\n00:18:09,818 --> 00:18:13,520\nIt's got to be in a particular place for\nthe server to find it.\n\n355\n00:18:14,610 --> 00:18:18,500\nNow, the server has a default location for\nstoring these images.\n\n356\n00:18:18,500 --> 00:18:22,100\nIt's in the /Library/netboot folder.\n\n357\n00:18:22,100 --> 00:18:24,260\nAnd let's see, if it's created it for me.\n\n358\n00:18:24,260 --> 00:18:26,190\nSometimes it creates it for\nyou, sometimes it doesn't.\n\n359\n00:18:27,540 --> 00:18:28,160\nBut we'll see here.\n\n360\n00:18:29,380 --> 00:18:35,000\nSo I'm gonna browse into /Library/netboot.\n\n361\n00:18:35,000 --> 00:18:38,610\nYeah, it looks like it's not there yet.\n\n362\n00:18:38,610 --> 00:18:41,760\nSo if I look in /Library,, and I'm just\nkind of looking for that netboot folder,\n\n363\n00:18:41,760 --> 00:18:43,440\nI can see it doesn't exists yet.\n\n364\n00:18:43,440 --> 00:18:46,700\nSo I need to let it know,\nwhere I'm gonna storing the image.\n\n365\n00:18:46,700 --> 00:18:48,700\nNow, the default is\nthe stored in /Library,\n\n366\n00:18:48,700 --> 00:18:51,760\nbut as you can imagine these image files,\nthey get to be pretty big.\n\n367\n00:18:51,760 --> 00:18:54,420\nSo they can be ten gigs, or however big.\n\n368\n00:18:54,420 --> 00:18:58,110\nAnd actually,\nhow big was that one that I just made?\n\n369\n00:18:58,110 --> 00:19:00,500\nWe'll find another, the one I just\nmade I haven't messed with it at all.\n\n370\n00:19:00,500 --> 00:19:05,050\nIt's really just a straight up\nYosemite Install, nothing too fancy there.\n\n371\n00:19:05,050 --> 00:19:08,940\nAnd it ended up being\nabout 5.3 gigs in size.\n\n372\n00:19:08,940 --> 00:19:13,240\nSo, if you have a bunch of these images,\nthey can start to fill up your hard drive.\n\n373\n00:19:13,240 --> 00:19:17,390\nSo it's a good idea to have an extra hard\ndrive available to store your images on.\n\n374\n00:19:17,390 --> 00:19:19,060\nAnd you'll see in my background,\n\n375\n00:19:19,060 --> 00:19:23,840\nI actually do have an extra hard drive,\nwhich I just called Images.\n\n376\n00:19:23,840 --> 00:19:25,610\nAnd so I've got a one\nterabyte hard drive attached,\n\n377\n00:19:25,610 --> 00:19:27,840\nwhere I can store my image files,\nand have them available.\n\n378\n00:19:28,950 --> 00:19:31,470\nWell, you can't just go\nthrowing the images around.\n\n379\n00:19:31,470 --> 00:19:34,830\nYou actually have to have them\nin a particular folder, and\n\n380\n00:19:34,830 --> 00:19:38,670\nwhen we go to turn on storage,\nthe folder kind of has to exist.\n\n381\n00:19:38,670 --> 00:19:43,180\nNow, right here in my server app, down at\nthe bottom I've got Edit Storage Settings.\n\n382\n00:19:43,180 --> 00:19:44,885\nAnd if I go into Edit Storage Settings,\n\n383\n00:19:44,885 --> 00:19:47,224\nyou'll see where it's picked\nup my two hard drives.\n\n384\n00:19:47,224 --> 00:19:51,937\nMy hard drive called Macintosh HD is\nwhere my operating system is, and Images.\n\n385\n00:19:51,937 --> 00:19:55,380\nImages is the other hard drive,\nthe one terabyte drive I added.\n\n386\n00:19:55,380 --> 00:19:58,810\nIf I take Macintosh HD I can\nhit the dropdown box by it, and\n\n387\n00:19:58,810 --> 00:20:02,370\nI can choose what kind of\ndata I want to store there.\n\n388\n00:20:02,370 --> 00:20:04,360\nNow, there's two types of data.\n\n389\n00:20:04,360 --> 00:20:09,050\nImages, which is really what I wanna\nstore right now for NetInstall.\n\n390\n00:20:09,050 --> 00:20:12,140\nBut if you're going to do NetBoot,\nif you're gonna do NetBoot there's\n\n391\n00:20:12,140 --> 00:20:14,680\nactually a second set of data\nthat needs to be stored.\n\n392\n00:20:14,680 --> 00:20:15,750\nWhen somebody does NetBoot,\n\n393\n00:20:15,750 --> 00:20:18,820\nthey're booting the operating\nsystem from your NetInstall server.\n\n394\n00:20:18,820 --> 00:20:21,580\nSo you'll have an image,\nthat they're booting up.\n\n395\n00:20:21,580 --> 00:20:23,820\nBut once it gets to running,\n\n396\n00:20:23,820 --> 00:20:27,250\nthey've got to be able to\nstore temporary session data.\n\n397\n00:20:27,250 --> 00:20:29,200\nAs they launch their applications,\n\n398\n00:20:29,200 --> 00:20:32,320\nand working with things\ntemporary data is generated.\n\n399\n00:20:32,320 --> 00:20:35,440\nNow, the temporary data is gonna\nget wiped out, when they reboot.\n\n400\n00:20:35,440 --> 00:20:38,140\nBut the temporary data still\nhas to exist somewhere.\n\n401\n00:20:38,140 --> 00:20:41,750\nAnd it can't all stay in RAM because most\ncomputers don't have enough RAM for that.\n\n402\n00:20:41,750 --> 00:20:44,590\nSo, they need to store data somewhere.\n\n403\n00:20:44,590 --> 00:20:47,880\nNow the default,\nis to store data on the Client.\n\n404\n00:20:47,880 --> 00:20:51,850\nSo if they're on a MacBook,\nor a Mac Pro, or whatever,\n\n405\n00:20:51,850 --> 00:20:55,290\nit's gonna use that internal hard drive\nto store their temporary session data.\n\n406\n00:20:55,290 --> 00:20:56,540\nIt'll wipe it out when they reboot,\n\n407\n00:20:56,540 --> 00:20:59,040\nbut it'll store that session data\nright there on their own hard drive.\n\n408\n00:21:00,300 --> 00:21:01,930\nBut, what if they're disk-less?\n\n409\n00:21:01,930 --> 00:21:03,300\nWhat if they have no hard drive?\n\n410\n00:21:03,300 --> 00:21:06,510\nIf they have no hard drive, then they need\nto store their session data somewhere\n\n411\n00:21:06,510 --> 00:21:11,670\nelse, and that's my other option here\nis Images only, Client data only,\n\n412\n00:21:11,670 --> 00:21:14,240\nor both Images, and Client data.\n\n413\n00:21:14,240 --> 00:21:17,200\nThat Client data,\nthat's the NetBoot session data.\n\n414\n00:21:17,200 --> 00:21:19,952\nIf you're just doing NetRestore,\nand doing NetInstall,\n\n415\n00:21:19,952 --> 00:21:22,310\nyou don't need the Client data.\n\n416\n00:21:22,310 --> 00:21:26,200\nBut if you're doing NetBoot, Client\ndata has got to be stored somewhere.\n\n417\n00:21:26,200 --> 00:21:29,390\nThe default is on the Client, but\nif you're in disk-less mode you'll need to\n\n418\n00:21:29,390 --> 00:21:33,440\nsupport Client data on your server also,\nso that they have a place to store it.\n\n419\n00:21:34,890 --> 00:21:36,420\nNow when I turn that on, so\n\n420\n00:21:36,420 --> 00:21:38,980\nI'm just saying Images, and Client\ndata will be stored on Macintosh HD.\n\n421\n00:21:40,430 --> 00:21:42,970\nIt now has a storage location.\n\n422\n00:21:42,970 --> 00:21:49,310\nAnd if I browse on my hard drive, so\nhere I am in the /Library folder,\n\n423\n00:21:49,310 --> 00:21:52,050\nand if I take a look in there I\nshould now have a NetBoot folder.\n\n424\n00:21:52,050 --> 00:21:53,450\nThere it is, good old NetBoot.\n\n425\n00:21:54,500 --> 00:22:00,980\nAnd if I change into NetBoot,\nI'll see there's two folders in there.\n\n426\n00:22:00,980 --> 00:22:06,765\nOne folder is called NetBoot Clients0,\nand the other one is called NetBoot SP0.\n\n427\n00:22:07,830 --> 00:22:10,550\nNetBoot Clients0,\nthat's where the Client storage goes.\n\n428\n00:22:10,550 --> 00:22:13,346\nAnd the NetBoot SP,\nthat's where the installation images, or\n\n429\n00:22:13,346 --> 00:22:16,480\nthe Images that we create,\nthat's where they're gonna go.\n\n430\n00:22:16,480 --> 00:22:21,690\nThe 0, just means that this is the first\nstorage location on this server.\n\n431\n00:22:21,690 --> 00:22:26,200\nIf I create a second storage location,\nit'll be NetBoot Client1, and NetBoot SP1.\n\n432\n00:22:26,200 --> 00:22:30,030\nAnd if I have a third, and a fourth, and\nso-on, it just keeps incrementing number,\n\n433\n00:22:30,030 --> 00:22:33,390\nso the 0 just means it's the first one.\n\n434\n00:22:33,390 --> 00:22:37,430\nNow, I wanna use that images drive for\nstoring data also, and\n\n435\n00:22:37,430 --> 00:22:40,070\nI think we're gonna see a little\nquirk with the server here.\n\n436\n00:22:40,070 --> 00:22:41,020\nLet's try this.\n\n437\n00:22:41,020 --> 00:22:44,540\nI'm gonna go ahead, and set it for Images,\nand Client data also, and Save it.\n\n438\n00:22:45,670 --> 00:22:49,750\nNow if I go back into my Edit Storage\nSettings, see how it just went to None.\n\n439\n00:22:49,750 --> 00:22:50,720\nIt didn't save it.\n\n440\n00:22:50,720 --> 00:22:54,720\nThere's a little quirk in the server app,\nwhere it won't actually save a setting for\n\n441\n00:22:54,720 --> 00:22:58,530\nyour other drives, unless you go,\nand create the folders first.\n\n442\n00:22:58,530 --> 00:23:00,970\nIt's like a permissions issue that it\nhasn't been writing to the root of\n\n443\n00:23:00,970 --> 00:23:01,878\na new drive.\n\n444\n00:23:01,878 --> 00:23:04,400\nSo I'm gonna go, and\ncreate those folders first,\n\n445\n00:23:04,400 --> 00:23:07,710\nand then we'll be able to turn the setting\non here without any major issues.\n\n446\n00:23:08,740 --> 00:23:12,090\nSo we'll do a little experimentation here.\n\n447\n00:23:12,090 --> 00:23:18,027\nSo I'm gonna do a sudu, and\nI'm gonna make a directory\n\n448\n00:23:18,027 --> 00:23:22,710\nin /volumes/Images called /Library.\n\n449\n00:23:22,710 --> 00:23:26,924\nSo I'm making that Library folder\nover on the other drive, and\n\n450\n00:23:26,924 --> 00:23:31,068\nthen underneath Library,\nI'm gonna make a NetBoot folder.\n\n451\n00:23:31,068 --> 00:23:32,670\nSo that, we've got that.\n\n452\n00:23:33,750 --> 00:23:37,720\nSo on my main drive I've\ngot /Library/NetBoot.\n\n453\n00:23:37,720 --> 00:23:40,390\nAnd on my other drive I'll\nhave /Library/Netboot.\n\n454\n00:23:40,390 --> 00:23:43,427\nAnd I don't remember if it's\ncase sensitive, or not, and\n\n455\n00:23:43,427 --> 00:23:45,450\nI just made that one with a lowercase B.\n\n456\n00:23:45,450 --> 00:23:49,202\nI don't think it's case sensitive,\nbut I wanna be safe, so\n\n457\n00:23:49,202 --> 00:23:53,045\nlet me remove that, and\nre-create it with the right casing.\n\n458\n00:23:53,045 --> 00:23:56,525\nOops, I'm gonna do it RMDIR\nto get rid of that So\n\n459\n00:23:56,525 --> 00:23:59,571\nI'll just get rid of that directory, and\n\n460\n00:23:59,571 --> 00:24:05,540\nthen I'll just remake it with that\ncapital B, just to be on the safe side.\n\n461\n00:24:05,540 --> 00:24:06,230\nOkay.\n\n462\n00:24:06,230 --> 00:24:09,610\nSo now I've got that net boot folder in\nplace and I can go and turn that storage\n\n463\n00:24:09,610 --> 00:24:14,490\nback on, and I'm pretty certain that's\nall it takes, and we'll get that going.\n\n464\n00:24:16,750 --> 00:24:17,900\nAnd now I'll turn it back on.\n\n465\n00:24:17,900 --> 00:24:20,630\nAnd I'm just going to double-check;\nI'll pull up my storage settings and\n\n466\n00:24:20,630 --> 00:24:21,460\nmake sure it saved it.\n\n467\n00:24:21,460 --> 00:24:23,400\nAnd see how it saved\nthe setting that time?\n\n468\n00:24:23,400 --> 00:24:25,670\nNow I've got that images in client data.\n\n469\n00:24:25,670 --> 00:24:27,630\nAnd if I go and look on the hard drive.\n\n470\n00:24:28,710 --> 00:24:32,532\nSo I'm gonna change into\n\n471\n00:24:32,532 --> 00:24:39,820\n/volumes/images/netboot and /library.\n\n472\n00:24:39,820 --> 00:24:44,570\nThere we go.\n/volume/images/library/netboot and\n\n473\n00:24:44,570 --> 00:24:50,780\nif I look in there, I've got net\nboot clients one and net boot sp0.\n\n474\n00:24:50,780 --> 00:24:53,820\nSo net boot clients one is\nthe second storage location.\n\n475\n00:24:53,820 --> 00:24:55,560\nSo let's bump that up to a one.\n\n476\n00:24:55,560 --> 00:24:59,260\nAnd then it did netboot sp0, so\nit is actually calling it like,\n\n477\n00:24:59,260 --> 00:25:03,570\nthe first storage, but if I go back and\nlook at my storage settings here,\n\n478\n00:25:04,910 --> 00:25:08,790\nokay, you can see that kind of naming\nthat it's assigning these, and\n\n479\n00:25:08,790 --> 00:25:11,750\nit's still just kind of showing\nthat netboot0 for both of them.\n\n480\n00:25:11,750 --> 00:25:14,910\nIt expects the netboot to be 0,\nbut the net client incrementing,\n\n481\n00:25:14,910 --> 00:25:17,250\nso you may see a mixture,\nbut it'll work either way.\n\n482\n00:25:19,120 --> 00:25:23,260\nNow I've got storage, but it still\ndoesn't know that I have any images, so\n\n483\n00:25:23,260 --> 00:25:26,880\nwhat I need to do now is copy the image\nto the location where I want it, and\n\n484\n00:25:26,880 --> 00:25:29,230\nI want that to be in this images drive.\n\n485\n00:25:29,230 --> 00:25:34,910\nSo I saved the image to my desktop, let me\nget all these windows out of the way, so\n\n486\n00:25:34,910 --> 00:25:39,870\nI've got that image right here and if I\nbrowse into my images drive in a library,\n\n487\n00:25:39,870 --> 00:25:43,340\nnet boot, and\nthis is going to go into net boot SP zero.\n\n488\n00:25:43,340 --> 00:25:44,740\nThat's where our images go.\n\n489\n00:25:44,740 --> 00:25:49,030\nI'm just going to chuck that image right\nin there and it'll be ready for us.\n\n490\n00:25:49,030 --> 00:25:53,150\nI need to be an administrator to do that,\nso I'll give my administrator credentials,\n\n491\n00:25:53,150 --> 00:25:54,860\nand it's going to copy over.\n\n492\n00:25:54,860 --> 00:25:59,580\nWhen that's done, the server app\nwill recognize the image and\n\n493\n00:25:59,580 --> 00:26:02,850\nnow I'll be able to start\nthe net install service.\n\n494\n00:26:02,850 --> 00:26:04,070\nRight.\nWe'll be able to get it up and running.\n\n495\n00:26:04,070 --> 00:26:07,830\nNow there's more that I want to do to\nget that server ready before we connect\n\n496\n00:26:07,830 --> 00:26:11,630\nclients to it, but this is a pretty\ngood spot to stop and take a break.\n\n497\n00:26:11,630 --> 00:26:12,920\nSo let's pause here.\n\n498\n00:26:12,920 --> 00:26:16,400\nWhen we get back we're gonna take a look\nat actually pushing that out to a client\n\n499\n00:26:16,400 --> 00:26:19,080\nand then we need to take a look\nat net boot and net restore.\n\n500\n00:26:19,080 --> 00:26:20,055\nSo there's more to come.\n\n501\n00:26:20,055 --> 00:26:22,913\nAfter this.\n\n502\n00:26:22,913 --> 00:26:28,293\n[SOUND] All right.\n\n503\n00:26:28,293 --> 00:26:29,491\nWelcome back everybody.\n\n504\n00:26:29,491 --> 00:26:33,326\nSo we left off having copied\nthat newly created net install\n\n505\n00:26:33,326 --> 00:26:35,370\nimage into the images folder.\n\n506\n00:26:35,370 --> 00:26:37,150\nTo put it where we wanted it to be.\n\n507\n00:26:37,150 --> 00:26:38,540\nAnd what should happen now,\n\n508\n00:26:38,540 --> 00:26:41,450\nis the server app should just\nrecognize that the image exists.\n\n509\n00:26:41,450 --> 00:26:43,440\nLet's go take a look and\nsee if that's what happened.\n\n510\n00:26:43,440 --> 00:26:46,050\nSo I'll pull up my server app and\nsure enough,\n\n511\n00:26:46,050 --> 00:26:48,800\nthere's my net install\nimage shown up right there.\n\n512\n00:26:48,800 --> 00:26:52,640\nBe aware that the server app doesn't\nnecessarily refresh very quickly.\n\n513\n00:26:52,640 --> 00:26:55,280\nWe took a break so\nit had a few minutes to do this.\n\n514\n00:26:55,280 --> 00:26:57,070\nIf you're doing it in a hurry.\n\n515\n00:26:57,070 --> 00:26:58,660\nThe image might not show up right away.\n\n516\n00:26:58,660 --> 00:27:01,800\nThen you might need to hit Cmd+R\nto cause a little refresh and\n\n517\n00:27:01,800 --> 00:27:02,870\nthat'll usually get it to grab it.\n\n518\n00:27:02,870 --> 00:27:06,100\nWorst case scenario, you can close\nthe server app and relaunch it and\n\n519\n00:27:06,100 --> 00:27:07,050\nget back in there.\n\n520\n00:27:07,050 --> 00:27:09,580\nBut it'll normally show\nup in pretty short order.\n\n521\n00:27:09,580 --> 00:27:12,650\nSo there's my net install image and\nit's ready to go,\n\n522\n00:27:12,650 --> 00:27:14,360\nready to be rolled out to clients.\n\n523\n00:27:14,360 --> 00:27:16,690\nAnd my Netinstall service is up and\nrunning.\n\n524\n00:27:16,690 --> 00:27:21,260\nSo it's on, it's happy, and\nin theory, we're ready to go.\n\n525\n00:27:21,260 --> 00:27:24,240\nNow, I do wanna show you a few other\nthings before we start to serve\n\n526\n00:27:24,240 --> 00:27:25,430\nthis image up.\n\n527\n00:27:25,430 --> 00:27:27,510\nLet's take a look at some of\nthe options that are on the screen.\n\n528\n00:27:28,530 --> 00:27:33,400\nFirst off, we've got enable Netinstall on,\nand for me it just says, ethernet.\n\n529\n00:27:33,400 --> 00:27:37,770\nWhat that's asking is, which network\nadapters on the server should we support?\n\n530\n00:27:37,770 --> 00:27:42,680\nNet Install consumes a lot of bandwidth;\nso does Net Boot, so does Net Restore.\n\n531\n00:27:42,680 --> 00:27:45,220\nThey are copying these image\nfiles over the network, and\n\n532\n00:27:45,220 --> 00:27:48,150\nit can saturate the network\nbandwidth of a server.\n\n533\n00:27:48,150 --> 00:27:50,790\nSo, if you have more\nthan one network adapter,\n\n534\n00:27:50,790 --> 00:27:55,110\nwhat you can do is you can limit Net Boot\nand Net Install to certain adapters, and\n\n535\n00:27:55,110 --> 00:27:57,160\nthat will free up other adapters.\n\n536\n00:27:57,160 --> 00:28:01,100\nTo use for remote management or other\nserver access to ensure that you can still\n\n537\n00:28:01,100 --> 00:28:04,670\nget into the server, even when\nit's under heavy net-install load.\n\n538\n00:28:04,670 --> 00:28:07,530\nBy default, it enables for\nall of the adapters.\n\n539\n00:28:07,530 --> 00:28:10,120\nBut, if you edit that,\nyou can go through and pick and choose.\n\n540\n00:28:10,120 --> 00:28:12,760\nI've only go tone network adapter, so\nI don't have a lot of choice here.\n\n541\n00:28:12,760 --> 00:28:15,100\nBut, if I had more than one adapter,\nyou can mix and\n\n542\n00:28:15,100 --> 00:28:18,279\nmatch amongst them picking which ones it\nwas enabled for and which ones it wasn't.\n\n543\n00:28:19,690 --> 00:28:22,370\nNext we've got restrict access to image.\n\n544\n00:28:22,370 --> 00:28:28,130\nNow by default, anybody in your\nnetwork could fire up a computer,\n\n545\n00:28:28,130 --> 00:28:30,500\nand do a net install off of your server.\n\n546\n00:28:30,500 --> 00:28:32,245\nNow, that's not normally a big deal.\n\n547\n00:28:32,245 --> 00:28:37,155\nBecause, if you think about it, if you're\ngonna install MacOS, you gotta have a Mac.\n\n548\n00:28:37,155 --> 00:28:39,955\nAnd if you have a Mac it's\nalready licensed for OS10,\n\n549\n00:28:39,955 --> 00:28:42,255\nApple doesn't really charge for\nthe software anymore,\n\n550\n00:28:42,255 --> 00:28:45,975\nfor the base operating system, so\nlicensing is not really an issue.\n\n551\n00:28:46,990 --> 00:28:50,400\nBut, if you've customized the image,\nif you've put\n\n552\n00:28:50,400 --> 00:28:54,470\nthird party software in there and you have\nyour own software licenses tied to it,\n\n553\n00:28:54,470 --> 00:28:57,470\nyou don't want just anybody to be able\nto come along and reimage their mac and\n\n554\n00:28:57,470 --> 00:28:59,820\nnow they've got all your software and\nconfiguration.\n\n555\n00:28:59,820 --> 00:29:01,170\nSo, we can limit that.\n\n556\n00:29:01,170 --> 00:29:03,870\nAnd the way you limit\nit is by MAC addresses.\n\n557\n00:29:03,870 --> 00:29:08,850\nAnd not Mac as in Macintosh, but\nMAC as in media access control.\n\n558\n00:29:08,850 --> 00:29:13,370\nEvery network card has a hardware ID tied\nto it, it's burned in at the factory.\n\n559\n00:29:13,370 --> 00:29:15,540\nAnd you can list those right here.\n\n560\n00:29:15,540 --> 00:29:18,540\nAnd only those systems will\nbe allowed to connect.\n\n561\n00:29:18,540 --> 00:29:21,170\nIf you wanna know your\nmedia access control ID,\n\n562\n00:29:21,170 --> 00:29:27,570\nyou can go into System Preferences and in\nsystem preferences, if you go to network.\n\n563\n00:29:27,570 --> 00:29:29,940\nIt's actually tucked away\nhere inside of network.\n\n564\n00:29:29,940 --> 00:29:31,830\nI'm going to pick my ethernet adapter.\n\n565\n00:29:31,830 --> 00:29:33,290\nAnd I will go down to advanced.\n\n566\n00:29:35,420 --> 00:29:37,930\nOn the advanced screen,\nyou have this hardware tab.\n\n567\n00:29:37,930 --> 00:29:39,730\nLike 20 clicks in now.\n\n568\n00:29:39,730 --> 00:29:42,250\nUnder hardware.there is my MAC address.\n\n569\n00:29:42,250 --> 00:29:44,130\nThere's the MAC address for this system.\n\n570\n00:29:44,130 --> 00:29:47,210\nSo I could do that for\neach of the other MAC's that you get.\n\n571\n00:29:47,210 --> 00:29:49,350\nAnd then start to throw them,\nand build this list out.\n\n572\n00:29:49,350 --> 00:29:51,180\nSo it's only my approved systems.\n\n573\n00:29:52,450 --> 00:29:55,660\nIt does take a bit of work, and I don't\nnormally go about getting to it this way.\n\n574\n00:29:55,660 --> 00:29:57,130\nIf it's a little bit faster,\n\n575\n00:29:57,130 --> 00:30:00,215\nyou can actually get it here\ninside of the Command prompt.\n\n576\n00:30:00,215 --> 00:30:04,785\nIf you do ifconfig, the hardware\nID is tucked right in there too.\n\n577\n00:30:04,785 --> 00:30:05,985\nSo that's a little bit quicker.\n\n578\n00:30:05,985 --> 00:30:07,925\nThat's the way I normally go about it.\n\n579\n00:30:07,925 --> 00:30:09,455\nThat was just ifconfig.\n\n580\n00:30:11,395 --> 00:30:12,095\nAll right.\n\n581\n00:30:12,095 --> 00:30:14,185\nSo I'm not going to do\na filter on this one, but\n\n582\n00:30:14,185 --> 00:30:17,135\nif we wanted we would just punch\nthat filter right in there.\n\n583\n00:30:17,135 --> 00:30:20,525\nThen down here at the bottom, we already\nwent into Edit Storage Settings.\n\n584\n00:30:20,525 --> 00:30:23,190\nThat's where I enabled the other\nstorage repositories for this.\n\n585\n00:30:23,190 --> 00:30:25,430\nBut, you'll see I've got\nthe little gear icon and\n\n586\n00:30:25,430 --> 00:30:28,400\nthis allows me to edit the image settings.\n\n587\n00:30:28,400 --> 00:30:31,260\nNow, there's actually a second option you\nhave that's kind of important which is,\n\n588\n00:30:31,260 --> 00:30:33,320\nuse as default boot image.\n\n589\n00:30:33,320 --> 00:30:37,310\nWhen somebody goes to do a net boot,\nthey're gonna pull a list of all\n\n590\n00:30:37,310 --> 00:30:40,180\nthe images and\nit's just gonna kind of sit there.\n\n591\n00:30:40,180 --> 00:30:42,760\nWell, after a while,\nit'll go with the default and so\n\n592\n00:30:42,760 --> 00:30:45,180\nI can pick which one's\ngonna be the default image.\n\n593\n00:30:45,180 --> 00:30:48,460\nThere's also some systems that\nwill only boot to the default, so\n\n594\n00:30:48,460 --> 00:30:50,110\nyou might have to tweak that a little bit.\n\n595\n00:30:50,110 --> 00:30:51,738\nNot many, it's usually virtual machines.\n\n596\n00:30:51,738 --> 00:30:54,760\nBut if I If I have one that I want\nto be the default, I can flag it.\n\n597\n00:30:54,760 --> 00:30:56,800\nAnd I'll go ahead and\nflag this one as the default.\n\n598\n00:30:56,800 --> 00:30:59,070\nAnd that just means if somebody\ndoesn't make a choice,\n\n599\n00:30:59,070 --> 00:31:01,730\nthen it will default into\ngoing into Net install.\n\n600\n00:31:01,730 --> 00:31:04,940\nAnd you can tell who's the default because\nyou get this little gray flag off here to\n\n601\n00:31:04,940 --> 00:31:06,870\nthe right side that says,\nthat's the default image.\n\n602\n00:31:08,890 --> 00:31:10,000\nNow if I choose the image,\n\n603\n00:31:10,000 --> 00:31:12,830\nthe other option I had was\nto edit the image settings.\n\n604\n00:31:12,830 --> 00:31:17,060\nAnd when you edit, there's not a ton in\nthere, but they are important options.\n\n605\n00:31:17,060 --> 00:31:20,630\nWhen somebody does a net install,\nthe default mode is to\n\n606\n00:31:20,630 --> 00:31:25,650\ncopy over the installation using HTTP,\nthe Hyper Text Transport Protocol.\n\n607\n00:31:25,650 --> 00:31:28,380\nThat's usually suitable for most people.\n\n608\n00:31:28,380 --> 00:31:30,540\nBut, if your network has that blocked for\nsome reason,\n\n609\n00:31:30,540 --> 00:31:35,020\nthat can be a bit of a problem, and you'll\nsee that it also supports using NFS.\n\n610\n00:31:35,020 --> 00:31:37,730\nSo, we can switch over to the network\nfile system that's a standard\n\n611\n00:31:37,730 --> 00:31:39,480\nUNIX file transfer system.\n\n612\n00:31:39,480 --> 00:31:41,850\nAnd you can use that to\ntransfer the files also.\n\n613\n00:31:41,850 --> 00:31:44,110\nMost people HTTP is\nthe better route to go.\n\n614\n00:31:44,110 --> 00:31:46,379\nBut you can choose NFS is you want.\n\n615\n00:31:46,379 --> 00:31:49,678\nThen, who's able to access the image?\n\n616\n00:31:49,678 --> 00:31:52,847\nWe've already talked about\nlimiting access way out here.\n\n617\n00:31:52,847 --> 00:31:56,053\nThis is for the server as a whole.\n\n618\n00:31:56,053 --> 00:32:00,104\nBut when you choose an individual image,\nyou can edit that image, and\n\n619\n00:32:00,104 --> 00:32:04,580\nyou can set who's allowed to\naccess this particular image.\n\n620\n00:32:04,580 --> 00:32:06,915\nNow for a NetInstall,\nI wouldn't necessarily worry about that.\n\n621\n00:32:06,915 --> 00:32:10,920\nBut for a NetRestore, maybe I've got\na NetRestore that's a perfect backup\n\n622\n00:32:10,920 --> 00:32:15,080\nof my laptop, which means it's got\nmy user accounts, and my data on it.\n\n623\n00:32:15,080 --> 00:32:18,410\nI don't want anybody else to be\nable to get to my NetRestore image.\n\n624\n00:32:18,410 --> 00:32:23,850\nSo I might choose to limit this, and\nrestrict it to a particular Mac address.\n\n625\n00:32:23,850 --> 00:32:25,810\nTo just the Mac address of my laptop.\n\n626\n00:32:25,810 --> 00:32:28,672\nSo now I can restore my laptop,\nbut not somebody else's.\n\n627\n00:32:28,672 --> 00:32:32,320\nNow, te reality is I'd use Time Machine\ninstead, with an encrypted backup,\n\n628\n00:32:32,320 --> 00:32:33,410\nbut you could use this.\n\n629\n00:32:34,980 --> 00:32:36,730\n[COUGH] The other one's a little\nmore reasonable though.\n\n630\n00:32:36,730 --> 00:32:41,570\nImages are visible too, and\nyou can pick only some Mac models.\n\n631\n00:32:41,570 --> 00:32:44,330\nWhen you make an image,\nif it's just the regular\n\n632\n00:32:44,330 --> 00:32:48,950\ninstallation image like I've got here,\nthat'll install on any supported Mac.\n\n633\n00:32:48,950 --> 00:32:52,992\nBut if it's a NetBoot, or NetRestore\nimage, I may have loaded software,\n\n634\n00:32:52,992 --> 00:32:57,115\nor other information in there, that\nonly works on certain models of Mac OS.\n\n635\n00:32:57,115 --> 00:33:01,987\nAnd so I can say, only some Mac models,\nand it'll now let me pick,\n\n636\n00:33:01,987 --> 00:33:04,521\nwhich models do I want to support.\n\n637\n00:33:04,521 --> 00:33:08,193\nDo I only wanna support newer ones, and\nyou'll see it goes back quite a ways.\n\n638\n00:33:08,193 --> 00:33:12,403\nWe got like 2008 Mac Pros, you can't\ninstall Yosemite on a 2008 Mac Pro, or\n\n639\n00:33:12,403 --> 00:33:15,000\nat least I don't think you can.\n\n640\n00:33:15,000 --> 00:33:19,080\nSo, I may choose to exclude some of these,\nother ones you just go through, and you\n\n641\n00:33:19,080 --> 00:33:23,400\npick, and choose, clicking off the ones\nthat meet the requirements for your image.\n\n642\n00:33:27,150 --> 00:33:30,980\nThe other option is this guy right here,\nwhich is Image Index,\n\n643\n00:33:30,980 --> 00:33:33,320\nand that's that Image Index I\nmentioned earlier.\n\n644\n00:33:33,320 --> 00:33:37,180\nIt's gonna randomly pick one, when you\ncreate the image, so see mine got 2 9 5 6.\n\n645\n00:33:37,180 --> 00:33:38,820\nIf you're doing this on\nyour own Mac right now,\n\n646\n00:33:38,820 --> 00:33:40,920\nyou probably got an entirely\ndifferent number.\n\n647\n00:33:40,920 --> 00:33:45,130\nIt'll be a number between 1, and 4,094.\n\n648\n00:33:45,130 --> 00:33:47,080\nTechnically it's through 4,095, but for\n\n649\n00:33:47,080 --> 00:33:49,350\nsome reason it can't\nactually choose 4,095.\n\n650\n00:33:49,350 --> 00:33:51,150\nSo it'll be 1 through 4,094.\n\n651\n00:33:51,150 --> 00:33:53,580\nThat'll be the image index number.\n\n652\n00:33:53,580 --> 00:33:55,940\nNow, most of us don't care\nabout the image index number.\n\n653\n00:33:55,940 --> 00:33:58,710\nEach of our images has a different\nindex number, and that's, that.\n\n654\n00:33:58,710 --> 00:34:03,700\nBut if you have more than one NetInstall\nserver, and you checked off that option\n\n655\n00:34:03,700 --> 00:34:06,100\nthat say, this image will be\navailable on more than one server.\n\n656\n00:34:06,100 --> 00:34:08,976\nYou've got to make sure the index number\nis the same across each of those servers.\n\n657\n00:34:08,976 --> 00:34:11,723\nAnd so you would come in here,\nand edit this, and\n\n658\n00:34:11,723 --> 00:34:15,963\nyou would change it to match the number\nthat was assign on the other server.\n\n659\n00:34:15,963 --> 00:34:17,664\nSo you just change it right here.\n\n660\n00:34:17,664 --> 00:34:19,475\nAnd now,\nthey've got the same index number, and\n\n661\n00:34:19,475 --> 00:34:20,865\nit's consistent across the server.\n\n662\n00:34:23,687 --> 00:34:27,340\nSo those are some of the little\nsettings that we can customize in here.\n\n663\n00:34:27,340 --> 00:34:28,087\nOtherwise, that's it.\n\n664\n00:34:28,087 --> 00:34:30,551\nThe only other thing we have\nhere in server management is,\n\n665\n00:34:30,551 --> 00:34:31,920\nif we go to the Connections tab.\n\n666\n00:34:31,920 --> 00:34:35,950\nI can see if any clients are currently\nconnected, and loading images.\n\n667\n00:34:35,950 --> 00:34:38,440\nBut right now, mine is sitting here idle.\n\n668\n00:34:38,440 --> 00:34:42,230\nWell, if we wanna see some action,\nlet's get a client connected.\n\n669\n00:34:42,230 --> 00:34:44,710\nNow, to get a client connected,\nwhat you're normally gonna do,\n\n670\n00:34:44,710 --> 00:34:46,420\nis you're gonna go to a Client.\n\n671\n00:34:46,420 --> 00:34:50,040\nSo it'll be a MacBook, Mac Pro,\nMac mini, or whatever it is.\n\n672\n00:34:50,040 --> 00:34:52,120\nAnd you're gonna turn it on,\nand when you turn it on,\n\n673\n00:34:52,120 --> 00:34:54,990\nyou're gonna hold down the N key.\n\n674\n00:34:54,990 --> 00:34:56,900\nN as in NetInstall.\n\n675\n00:34:56,900 --> 00:34:57,740\nWhen you hold down N,\n\n676\n00:34:57,740 --> 00:35:02,140\nit tells the Mac, don't boot from the\ninternal hard drive, if it even has one.\n\n677\n00:35:02,140 --> 00:35:04,100\nIt's gonna tell it to look to the network.\n\n678\n00:35:04,100 --> 00:35:07,990\nLook to network, and try, and\nfind a NetInstall server.\n\n679\n00:35:07,990 --> 00:35:09,974\nAnd so, it's gonna get a DHCP address.\n\n680\n00:35:09,974 --> 00:35:13,454\nThe process works like this, so\nstep one, the machine bootsup, and\n\n681\n00:35:13,454 --> 00:35:17,500\nactivates the network card, and\nit gets an IP address from DHCP.\n\n682\n00:35:17,500 --> 00:35:18,659\nSo now, it's on the network.\n\n683\n00:35:18,659 --> 00:35:22,860\nAnd once it's on the network,\nthen it can do a broadcast to try, and\n\n684\n00:35:22,860 --> 00:35:24,127\nfind a boot server.\n\n685\n00:35:24,127 --> 00:35:29,000\nSo it does a discovery, and that boot\nserver is gonna be our NetInstall server.\n\n686\n00:35:29,000 --> 00:35:32,980\nOnce it finds the NetInstall server,\nit's then gonna download\n\n687\n00:35:32,980 --> 00:35:36,900\nwhat are called the core services,\njust a very small set of services.\n\n688\n00:35:36,900 --> 00:35:41,985\nIt downloads them using a protocol called\nTFTP, the trivial file transfer protocol.\n\n689\n00:35:41,985 --> 00:35:45,410\n[INAUDIBLE] a very simple protocol that\ndoesn't do like username, and password, or\n\n690\n00:35:45,410 --> 00:35:50,020\nanything, just a real quick, and\ndirty download of the core services files.\n\n691\n00:35:50,020 --> 00:35:52,250\nSo the core services files download, and\n\n692\n00:35:52,250 --> 00:35:55,210\nthat's enough to get the system\nkind of kick started.\n\n693\n00:35:55,210 --> 00:35:59,050\nAnd once that happens, then it can reach\nright back to the NetInstall server, and\n\n694\n00:35:59,050 --> 00:36:03,260\nsay, okay, now I'm ready for\nthe big leagues, give me my full install.\n\n695\n00:36:03,260 --> 00:36:06,770\nOr if it's NetBoot, then give me my full\noperating system, I'm ready to boot.\n\n696\n00:36:06,770 --> 00:36:08,495\nAnd then it starts that image process,\n\n697\n00:36:08,495 --> 00:36:12,190\nright actually loading the image onto that\nmachine, and going through the rest of it.\n\n698\n00:36:12,190 --> 00:36:15,550\nSo all of those steps\nhappen when we boot up, but\n\n699\n00:36:15,550 --> 00:36:19,870\nit starts by holding down the letter\nN on the keyboard while you boot.\n\n700\n00:36:19,870 --> 00:36:23,260\nNow I'm using virtual machines here, and\nI can't boot them while holding the letter\n\n701\n00:36:23,260 --> 00:36:25,310\nN, so I'm gonna have to\ncheat this one a little bit.\n\n702\n00:36:25,310 --> 00:36:26,740\nI'm gonna start of a client here.\n\n703\n00:36:27,880 --> 00:36:31,410\nAnd when I start it up [LAUGH] I'm gonna\nuse VMware Fusion here to set the startup\n\n704\n00:36:31,410 --> 00:36:33,170\ndisk to the network adapter.\n\n705\n00:36:33,170 --> 00:36:37,100\nAnd that's just the same thing,\nas holding down N on that keyboard.\n\n706\n00:36:37,100 --> 00:36:38,382\nAnd when I boot that machine.\n\n707\n00:36:40,682 --> 00:36:41,564\nThere we go.\n\n708\n00:36:41,564 --> 00:36:43,315\nIt's gonna boot up.\n\n709\n00:36:43,315 --> 00:36:45,375\nAnd what we're gonna see,\nis it's gonna boot.\n\n710\n00:36:45,375 --> 00:36:49,115\nAnd see, how I've got this little\nEFI network message there?\n\n711\n00:36:49,115 --> 00:36:50,415\nThat's VMware sticking that in.\n\n712\n00:36:50,415 --> 00:36:54,960\nNormally, we would see the Apple logo,\nand then the Apple logo would be replaced\n\n713\n00:36:54,960 --> 00:36:58,010\nby a little globe, and\nwe will see that globe here in a second.\n\n714\n00:36:58,010 --> 00:36:58,970\nIt's scanning the network.\n\n715\n00:36:58,970 --> 00:36:59,940\nThere it is.\n\n716\n00:36:59,940 --> 00:37:02,509\nThis is what you'll see\non a regular laptop, or\n\n717\n00:37:02,509 --> 00:37:05,312\nMacBook when you bootup holding the N key.\n\n718\n00:37:05,312 --> 00:37:07,310\nYou bootup holding N,\nit looks to the network.\n\n719\n00:37:07,310 --> 00:37:10,370\nIf it finds a NetIstall,\nyou'll see the globe.\n\n720\n00:37:10,370 --> 00:37:13,110\nIf you don't see the globe,\nit's not finding the server.\n\n721\n00:37:13,110 --> 00:37:16,830\nNow when it finds the server,\nit's gonna download that core service set.\n\n722\n00:37:16,830 --> 00:37:19,980\nJust a couple of files to get\nit through that initial load.\n\n723\n00:37:19,980 --> 00:37:23,220\nAnd once it's got that, then it's gonna\ngo back to the NetInstall server,\n\n724\n00:37:23,220 --> 00:37:24,740\nand it will say, I'm ready.\n\n725\n00:37:24,740 --> 00:37:26,000\nGive me the real stuff.\n\n726\n00:37:27,230 --> 00:37:33,280\nAnd if you have more than one image, it's\ngonna give you a list of all those images.\n\n727\n00:37:33,280 --> 00:37:36,060\nIf you only have one image like I do,\nand it's set as the default,\n\n728\n00:37:36,060 --> 00:37:38,950\nthen it's just gonna go straight to it,\nand that's what mine's doing right now.\n\n729\n00:37:38,950 --> 00:37:42,060\nIt's actually saying hey, you've only\ngot one image, it's the default,\n\n730\n00:37:42,060 --> 00:37:43,080\nwe're gonna load it.\n\n731\n00:37:43,080 --> 00:37:45,440\nAnd so, it's loading it right now.\n\n732\n00:37:45,440 --> 00:37:51,110\nAnd we expect to see this little black\nbar, every time we turn on our Mac,\n\n733\n00:37:51,110 --> 00:37:54,640\nand it kind of just shoots along,\nand it goes by pretty quick.\n\n734\n00:37:54,640 --> 00:37:57,900\nThis time,\nit's gonna take longer because this time,\n\n735\n00:37:57,900 --> 00:38:01,360\nit's transferring 5.3 gigs\nof data across the network.\n\n736\n00:38:01,360 --> 00:38:02,820\nSo however fast, or\n\n737\n00:38:02,820 --> 00:38:06,238\nslow our network is, it's gonna\ndetermine how long this is gonna take.\n\n738\n00:38:06,238 --> 00:38:06,843\nIt's gonna boot.\n\n739\n00:38:06,843 --> 00:38:08,670\nIt's gonna go, and grab that install.\n\n740\n00:38:08,670 --> 00:38:10,945\nAnd it's gonna bring that file down.\n\n741\n00:38:10,945 --> 00:38:14,060\nAnd then it's gonna put me,\ninto the OS X installer.\n\n742\n00:38:14,060 --> 00:38:16,400\nI'm gonna start installing OS10.\n\n743\n00:38:16,400 --> 00:38:19,970\nNow I chose to do NetInstall,\nso I've got to go through, and\n\n744\n00:38:19,970 --> 00:38:24,140\nanswer the little wizard questions, and\ndo the full install like we'd expect.\n\n745\n00:38:24,140 --> 00:38:27,570\nI could have done a NetRestore image.\n\n746\n00:38:27,570 --> 00:38:29,190\nIn which case, we wouldn't have\nto answer all those questions,\n\n747\n00:38:29,190 --> 00:38:32,720\nthey'd already be answered for us,\nwe'd already have things setup.\n\n748\n00:38:32,720 --> 00:38:34,379\nAnd so,\nI wanna show you guys how to do that too.\n\n749\n00:38:34,379 --> 00:38:37,385\nThe exam doesn't dive too deep into how\nto do it, but in real life [INAUDIBLE] so\n\n750\n00:38:37,385 --> 00:38:38,184\nit's pretty cool.\n\n751\n00:38:38,184 --> 00:38:41,435\nSo I wanna show you guys that process,\nand NetBoot also,\n\n752\n00:38:41,435 --> 00:38:45,045\nbuilding those NetBoot images\nreally basically the same way.\n\n753\n00:38:45,045 --> 00:38:47,025\nOh, there we go, it actually,\nI was installing there,\n\n754\n00:38:47,025 --> 00:38:48,945\nI didn't think it would actually finish,\nbut it did.\n\n755\n00:38:48,945 --> 00:38:53,319\nSo [LAUGH] here it is,\nit's actually loaded into the system, and\n\n756\n00:38:53,319 --> 00:38:57,100\nwhat I'm looking at here\nis the standard installer.\n\n757\n00:38:57,100 --> 00:39:00,238\nThis is as if I had booted off of\na USB media to install OS10, or\n\n758\n00:39:00,238 --> 00:39:03,514\nif it was already on the hard drive,\nand doing the initial start.\n\n759\n00:39:03,514 --> 00:39:06,672\nI can come in here, and\nsay I wanna reinstall OS10.\n\n760\n00:39:06,672 --> 00:39:09,784\nIt says reinstall cuz I actually\nalready have 0S10 on this machine.\n\n761\n00:39:09,784 --> 00:39:11,460\nSo I'm reinstalling from my network image.\n\n762\n00:39:12,710 --> 00:39:15,930\nAnd I can hit Continue, and\nnow it's just walking through the regular\n\n763\n00:39:15,930 --> 00:39:18,990\ninstallation of OS10, but\nit's all coming from my network.\n\n764\n00:39:21,100 --> 00:39:23,610\nWell, I'm not gonna bore us to\ndeath by watching an install,\n\n765\n00:39:23,610 --> 00:39:25,010\nI think we've all kind of seen that.\n\n766\n00:39:25,010 --> 00:39:28,330\nBut I do wanna show you how to customize\nthis, and that's pretty important.\n\n767\n00:39:28,330 --> 00:39:30,909\nWith NetInstall we don't\nnormally customize it.\n\n768\n00:39:30,909 --> 00:39:33,127\nWith NetRestore, we do.\n\n769\n00:39:33,127 --> 00:39:35,775\nWith NetRestore you can go through,\nand tweak all sorts of things.\n\n770\n00:39:35,775 --> 00:39:40,654\nAnd the idea behind restore, is that\nyou've already got a system, kind of setup\n\n771\n00:39:40,654 --> 00:39:45,173\na certain way, and you want to use that\nto replicate it across hundreds, or\n\n772\n00:39:45,173 --> 00:39:47,070\nthousands of other machines.\n\n773\n00:39:47,070 --> 00:39:52,087\nSo remember way back in the beginning of\nthis, when I ran the System Image Utility.\n\n774\n00:39:52,087 --> 00:39:53,466\nLet me fire that backup.\n\n775\n00:39:53,466 --> 00:39:56,683\nIf I pull up my System Image Utility,\nand Now,\n\n776\n00:39:56,683 --> 00:40:00,736\nthe source immediately went\nto that Yosemite installer.\n\n777\n00:40:00,736 --> 00:40:02,197\nWith NetRestore,\n\n778\n00:40:02,197 --> 00:40:08,140\nI'm saying that I wanna restore an image\nthat's already got software on it.\n\n779\n00:40:08,140 --> 00:40:11,679\nThat's already got drivers, or\nfiles, configuration settings,\n\n780\n00:40:11,679 --> 00:40:13,822\nall of those stuff is\nset the way I want it.\n\n781\n00:40:13,822 --> 00:40:15,447\nBut how do we build that?\n\n782\n00:40:15,447 --> 00:40:19,230\nThe easiest way, and\nthe way that Apple supports.\n\n783\n00:40:19,230 --> 00:40:22,930\nIs to take a Mac, take a laptop,\nor a desktop, or whatever.\n\n784\n00:40:22,930 --> 00:40:27,742\nSit down in front of it, boot it up, and\nget it setup exactly the way you want.\n\n785\n00:40:27,742 --> 00:40:31,383\nSo setup everything,\nthe way that you want it to be.\n\n786\n00:40:31,383 --> 00:40:32,338\nAnd when you're done,\n\n787\n00:40:32,338 --> 00:40:35,119\nwhen everything on the computer is\nsetup exactly the way you want it.\n\n788\n00:40:35,119 --> 00:40:37,610\nAnd all the software is installed,\nyou shut it down.\n\n789\n00:40:38,700 --> 00:40:43,050\nAnd then you power it on, while holding\ndown the T key on the keyboard.\n\n790\n00:40:43,050 --> 00:40:44,410\nT is for target.\n\n791\n00:40:44,410 --> 00:40:46,370\nYou're booting it in Target mode.\n\n792\n00:40:46,370 --> 00:40:50,080\nWhen you boot in Target mode, the system\nwill bootup, and you'll see a screen\n\n793\n00:40:50,080 --> 00:40:54,190\nthat'll have either a Thunderbolt icon,\nor a Firewire icon, or both.\n\n794\n00:40:54,190 --> 00:40:55,880\nIt depends on what your system has.\n\n795\n00:40:55,880 --> 00:40:57,920\nSo my laptop for example,\nonly has Thunderbolt.\n\n796\n00:40:57,920 --> 00:41:00,330\nSo when I hold T, and I boot,\nI'll see a Thunderbolt icon.\n\n797\n00:41:01,460 --> 00:41:05,290\nYou can then take that laptop, or\ndesktop, and use a Thunderbolt, or\n\n798\n00:41:05,290 --> 00:41:08,390\nFirewire cable, and\nplug it into your server.\n\n799\n00:41:08,390 --> 00:41:09,692\nAnd when it's plugged into the server,\n\n800\n00:41:09,692 --> 00:41:14,050\nthis dropdown box will now\ninclude that other machine.\n\n801\n00:41:14,050 --> 00:41:17,240\nSo instead of using the Yosemite\ninstaller, as my source.\n\n802\n00:41:17,240 --> 00:41:20,260\nI could use a whole other machine,\nas my source.\n\n803\n00:41:20,260 --> 00:41:22,830\nAnd that machine is setup\nexactly the way I want it to be.\n\n804\n00:41:22,830 --> 00:41:24,980\nIt's got all of my\nsoftware installed on it.\n\n805\n00:41:24,980 --> 00:41:27,470\nI pick that as a source,\nand I'm ready to rock.\n\n806\n00:41:27,470 --> 00:41:32,069\nNow, you don't want to choose NetInstall\nfor that, you wanna choose NetRestore, or\n\n807\n00:41:32,069 --> 00:41:33,250\nNetBoot.\n\n808\n00:41:33,250 --> 00:41:35,276\nRemember the difference between these.\n\n809\n00:41:35,276 --> 00:41:38,330\nNetRestore says, I wanna go ahead,\n\n810\n00:41:38,330 --> 00:41:40,580\nand copy all of this down\nto the client machine,\n\n811\n00:41:40,580 --> 00:41:44,660\nand that client now runs independently,\nbut it's setup the way I want it.\n\n812\n00:41:44,660 --> 00:41:50,110\nNetBoot says, copy it to the client\nmachine just while it runs.\n\n813\n00:41:50,110 --> 00:41:53,520\nRun it from the network, and\nthen when it reboots, it wipe it all out.\n\n814\n00:41:53,520 --> 00:41:54,750\nSo it's not actually installing.\n\n815\n00:41:54,750 --> 00:41:57,450\nBut otherwise, NetBoot, and\nNetRestore are really the same thing.\n\n816\n00:41:57,450 --> 00:41:59,850\nThe difference is where\nthey run the OS from.\n\n817\n00:41:59,850 --> 00:42:01,900\nNetBoot runs it from the network.\n\n818\n00:42:01,900 --> 00:42:03,940\nIt runs it from the NetInstall server.\n\n819\n00:42:03,940 --> 00:42:06,880\nNetRestore copies the image\ndown to the client.\n\n820\n00:42:06,880 --> 00:42:09,170\nThe client's now installed,\nand it's independent.\n\n821\n00:42:09,170 --> 00:42:11,040\nIt now runs all by itself.\n\n822\n00:42:11,040 --> 00:42:13,510\nBut otherwise,\nthese two function exactly the same.\n\n823\n00:42:13,510 --> 00:42:14,990\nSo as far as going through, and\n\n824\n00:42:14,990 --> 00:42:16,570\ngetting them setup,\nthe rest of it's really the same.\n\n825\n00:42:18,020 --> 00:42:19,470\nI'll go, and choose NetRestore.\n\n826\n00:42:19,470 --> 00:42:21,920\nI don't have a second machine\nhere tied up to this, so\n\n827\n00:42:21,920 --> 00:42:25,355\nI'll just stick with the install disc,\nbut that is gonna kind of break things.\n\n828\n00:42:25,355 --> 00:42:29,220\nCuz the install disc, yeah, it'll copy it\ndown, but it still launch the installer.\n\n829\n00:42:29,220 --> 00:42:31,143\nBut I wanna show you the guys\nthe customization, so\n\n830\n00:42:31,143 --> 00:42:32,630\nwe'll choose NetRestore on this one.\n\n831\n00:42:33,630 --> 00:42:37,130\nNow I could just hit continue,\nand if I do that,\n\n832\n00:42:37,130 --> 00:42:41,380\nit'll take an image of the computer that's\nattached to my system in Target mode.\n\n833\n00:42:41,380 --> 00:42:42,790\nAnd it will now deploy it out.\n\n834\n00:42:42,790 --> 00:42:43,715\nBut the problem is,\n\n835\n00:42:43,715 --> 00:42:47,210\nit's gonna be identical to every\nother machine that rolls out.\n\n836\n00:42:47,210 --> 00:42:48,850\nSo let's say that that machine,\n\n837\n00:42:48,850 --> 00:42:52,965\nmy target machine that I started with,\nI named it Don's Laptop.\n\n838\n00:42:52,965 --> 00:42:55,300\nAnd then I come in here, and\n\n839\n00:42:55,300 --> 00:42:58,900\nI choose Don's Laptop as my source,\ncuz it's hooked up in Target mode.\n\n840\n00:42:58,900 --> 00:43:01,881\nAnd I choose NetRestore,\nand I just hit Continue.\n\n841\n00:43:01,881 --> 00:43:04,820\nIt's gonna make an image of Don's laptop.\n\n842\n00:43:04,820 --> 00:43:06,646\nAnd then if I deploy it a thousand times,\n\n843\n00:43:06,646 --> 00:43:08,970\non a thousand computers\nall called Don's laptop.\n\n844\n00:43:08,970 --> 00:43:11,330\nAnd that's probably, not what we want.\n\n845\n00:43:11,330 --> 00:43:13,410\nAll these machines have the same name.\n\n846\n00:43:13,410 --> 00:43:15,070\nSo, we usually want to customize.\n\n847\n00:43:15,070 --> 00:43:19,180\nWhen you do a NetBoot in NetRestore,\nyou don't normally just hit Continue.\n\n848\n00:43:19,180 --> 00:43:20,990\nYou hit Customize.\n\n849\n00:43:20,990 --> 00:43:25,930\nAnd in Customize, here's where we can go\nin, and we can make the image generic.\n\n850\n00:43:25,930 --> 00:43:30,670\nWe can take away the unique values, and\nmake it where we can roll it 1000 times,\n\n851\n00:43:30,670 --> 00:43:32,720\nand each machine is\ndifferent than the others.\n\n852\n00:43:33,930 --> 00:43:37,780\nNow, the system for\ndoing this is not necessarily easy.\n\n853\n00:43:38,890 --> 00:43:40,710\nIt uses the automator system.\n\n854\n00:43:40,710 --> 00:43:41,631\nSo when you hit Customize,\n\n855\n00:43:41,631 --> 00:43:44,550\nyou're immediately gonna get\nlaunched into the automator library.\n\n856\n00:43:44,550 --> 00:43:49,570\nAnd it's got a few of the default\nfunctions already added in, over here.\n\n857\n00:43:49,570 --> 00:43:51,910\nSo, we've got Define Image Source.\n\n858\n00:43:51,910 --> 00:43:53,390\nWhere are we building the image from?\n\n859\n00:43:53,390 --> 00:43:55,490\nAnd that'll be the machine you've\ngot connected in Target mode.\n\n860\n00:43:56,530 --> 00:43:58,718\nThen add a user account.\n\n861\n00:43:58,718 --> 00:44:02,030\nYou might wanna add a help desk account,\nor something else to this machine, so\n\n862\n00:44:02,030 --> 00:44:03,330\nthat you'll be able to manage it.\n\n863\n00:44:03,330 --> 00:44:04,920\nYou need to have at\nleast one user account.\n\n864\n00:44:06,330 --> 00:44:07,350\nSo we can punch that in here.\n\n865\n00:44:07,350 --> 00:44:08,750\nI'll create an account called Help Desk.\n\n866\n00:44:09,940 --> 00:44:12,060\nAnd you give it a short name,\nand a password,\n\n867\n00:44:12,060 --> 00:44:13,600\nthe things that you need to know.\n\n868\n00:44:13,600 --> 00:44:16,220\nAnd then you can specify, whether\nyou want it to log in automatically,\n\n869\n00:44:16,220 --> 00:44:17,730\nwhich is probably a bad idea.\n\n870\n00:44:17,730 --> 00:44:20,990\nOr allow the user to be an administrator,\nwhich is a good idea in this case.\n\n871\n00:44:22,440 --> 00:44:26,160\nAnd then Create Image, so\nwhat kind of image are you making, and\n\n872\n00:44:26,160 --> 00:44:28,390\nwhere is it going to be stored.\n\n873\n00:44:28,390 --> 00:44:30,840\nSo it knows that I wanna do a NetRestore.\n\n874\n00:44:30,840 --> 00:44:32,450\nIt's gonna include a recovery partition,\nand\n\n875\n00:44:32,450 --> 00:44:34,650\nthat's useful cuz sometimes\nyou deploy images, and\n\n876\n00:44:34,650 --> 00:44:37,250\nthey don't have a recovery partition,\nand you have to use Internet recovery.\n\n877\n00:44:38,450 --> 00:44:40,952\nYou can pick which volume,\nyou want it to install.\n\n878\n00:44:40,952 --> 00:44:43,350\nAnd it'll just default to\nNetInstall in this case, and\n\n879\n00:44:43,350 --> 00:44:44,470\nwhere you want it to save to.\n\n880\n00:44:44,470 --> 00:44:48,642\nNow this little dropdown box, which\nmine doesn't seem to want to dropdown,\n\n881\n00:44:48,642 --> 00:44:50,837\nit can be a little confusing sometimes.\n\n882\n00:44:50,837 --> 00:44:53,774\nBecause if both of your folder\nhave been called NetBoot SP0,\n\n883\n00:44:53,774 --> 00:44:56,264\nyou don't know which one to pick,\nit's all right.\n\n884\n00:44:56,264 --> 00:44:59,110\nYou can always move the image afterwards,\nit's not a big deal.\n\n885\n00:45:00,150 --> 00:45:04,796\nAnd then it just has the name, and\nthe index number like we've seen before.\n\n886\n00:45:04,796 --> 00:45:07,920\nNow, if I fill this out, and\nI hit Run at the bottom,\n\n887\n00:45:07,920 --> 00:45:10,269\nit's still not a truly generic image.\n\n888\n00:45:10,269 --> 00:45:13,689\nThere's a few other things that\nwe probably wanna tweak in here,\n\n889\n00:45:13,689 --> 00:45:17,030\njust to make sure that everything is nice,\nand smooth.\n\n890\n00:45:17,030 --> 00:45:19,780\nSo one of the things is gonna be\nthat computer name, and as you look\n\n891\n00:45:19,780 --> 00:45:23,200\nacross the left side here, you'll see a\nnumber of different things you can tweak.\n\n892\n00:45:23,200 --> 00:45:27,810\nI like to jump over to most used, because\non most used, that's where it's gonna have\n\n893\n00:45:27,810 --> 00:45:32,517\nall the individual items that we typically\nneed to make the system generic.\n\n894\n00:45:32,517 --> 00:45:34,710\nSo some of the key things\nthat I'm looking for here,\n\n895\n00:45:34,710 --> 00:45:38,690\nare things like renaming the computer,\nbinding to an Open Directory.\n\n896\n00:45:38,690 --> 00:45:41,320\nThese are things that we need to make\nthe system a little more unique,\n\n897\n00:45:41,320 --> 00:45:43,820\nand make sure that we're not\nbutting heads with other computers.\n\n898\n00:45:43,820 --> 00:45:48,800\nSo right here under most used, we can\nsee Create Image, Define Image Source,\n\n899\n00:45:48,800 --> 00:45:49,800\nDefine User Account.\n\n900\n00:45:49,800 --> 00:45:52,210\nThose are the ones that\nwere already in the list.\n\n901\n00:45:52,210 --> 00:45:53,747\nThose are the key ones.\n\n902\n00:45:53,747 --> 00:45:58,134\nBut if we go back under our Library,\nyou can see other things in here,\n\n903\n00:45:58,134 --> 00:46:00,416\nlike Add Configuration Profiles.\n\n904\n00:46:00,416 --> 00:46:03,462\nNow, Add Configuration Profiles,\nthat would be great if we were using\n\n905\n00:46:03,462 --> 00:46:06,770\nProfile Manager, and we had profiles\nthat we wanted to send in there.\n\n906\n00:46:06,770 --> 00:46:12,270\nYou'll see a few other ones in here,\nlike Apply System Configuration Settings.\n\n907\n00:46:12,270 --> 00:46:14,770\nThat's a good one because that's\nthe one that has the Open Directory.\n\n908\n00:46:14,770 --> 00:46:19,097\nAnd notice, as you look down the list,\nyou won't really see any in here that say,\n\n909\n00:46:19,097 --> 00:46:20,600\nlike Open Directory.\n\n910\n00:46:20,600 --> 00:46:23,080\nSo that's one that I'm gonna\nneed to grab to throw in there.\n\n911\n00:46:23,080 --> 00:46:26,910\nSo I'll just grab that one,\nand add it to my list.\n\n912\n00:46:26,910 --> 00:46:29,572\nAnd you can edit,\npretty much anywhere here in the list.\n\n913\n00:46:29,572 --> 00:46:33,001\nIt does need to be above the Create Image,\nso\n\n914\n00:46:33,001 --> 00:46:37,834\nthat last little workflow item\nneeds to be that Create Image.\n\n915\n00:46:37,834 --> 00:46:41,087\nBut up above, we can stick to\nthe Apply System Configuration Settings,\n\n916\n00:46:41,087 --> 00:46:43,340\nin there pretty much wherever we want.\n\n917\n00:46:43,340 --> 00:46:47,970\nSo, I've got it in here, and you'll see,\nConnect computer to a directory server.\n\n918\n00:46:47,970 --> 00:46:51,850\nSo I could come in, and I could\nconfigure a directory server to bind to,\n\n919\n00:46:51,850 --> 00:46:57,780\nif I've got, well, it's showing 127.00.1\ncuz I'm on a directory server right now.\n\n920\n00:46:57,780 --> 00:47:01,300\nSo it sees itself, and\nso we can punch that in.\n\n921\n00:47:01,300 --> 00:47:05,390\nApply computer name, and\nlocal host name setting from a file.\n\n922\n00:47:05,390 --> 00:47:09,560\nYou can have a CSV file that lists\na bunch of computer names, and\n\n923\n00:47:09,560 --> 00:47:13,410\nit can pull from those as it deploys it\nout to have a unique names for each one.\n\n924\n00:47:13,410 --> 00:47:16,142\nOr easier,\nyou can generate unique nicknames.\n\n925\n00:47:16,142 --> 00:47:19,690\nAnd it'll say generate a unique\nname starting with, and so\n\n926\n00:47:19,690 --> 00:47:23,400\nI might call out like\nitproworkstation- like that, and\n\n927\n00:47:23,400 --> 00:47:27,302\nthen look at the little sample over here,\nthe example.\n\n928\n00:47:27,302 --> 00:47:31,570\nIt's gonna stick a random string of\nletters, and numbers at the end.\n\n929\n00:47:31,570 --> 00:47:34,580\nSo now I can deploy this work station,\nand everyone will have a unique name.\n\n930\n00:47:34,580 --> 00:47:37,870\nThey're not the most friendly of names,\nbut at least they've got something.\n\n931\n00:47:39,240 --> 00:47:43,300\nSo a few options there,\nwe can tweak those, and adjust them,\n\n932\n00:47:43,300 --> 00:47:46,450\nset them however we need,\nand then save that in there.\n\n933\n00:47:46,450 --> 00:47:47,940\nYou'll see other things that are in here.\n\n934\n00:47:47,940 --> 00:47:51,385\nThings like Creating an Image, which is\nalready in here for what we're doing.\n\n935\n00:47:51,385 --> 00:47:54,540\nMulti-Volume NetRestore,\njust some advanced stuff in here.\n\n936\n00:47:54,540 --> 00:47:58,837\nYou can filter clients by MAC address,\nso you can restrict who this can go to.\n\n937\n00:47:58,837 --> 00:48:01,763\nWe've seen that in the server app itself.\n\n938\n00:48:01,763 --> 00:48:02,599\nAll right.\n\n939\n00:48:02,599 --> 00:48:04,097\nAnd there's even advanced\ndisk partitioning.\n\n940\n00:48:04,097 --> 00:48:07,960\nIf you wanna partition out the disk and\nset aside a partition, you can do that.\n\n941\n00:48:07,960 --> 00:48:09,420\nSo basically whatever you want to do.\n\n942\n00:48:09,420 --> 00:48:11,170\nYou're customizing that deployment.\n\n943\n00:48:11,170 --> 00:48:14,600\nBut at a minimum, change in the computer\nname, binding to a directory,\n\n944\n00:48:14,600 --> 00:48:18,280\nthese are things that are pretty useful\nto get this image the way we want.\n\n945\n00:48:18,280 --> 00:48:22,510\nAnd then when you hit run,\nit's gonna woops, I clicked it twice.\n\n946\n00:48:22,510 --> 00:48:24,650\nIf you click it twice,\nyou hit stop by accident.\n\n947\n00:48:24,650 --> 00:48:27,080\nSo I'm gonna hit run, and\nit's gonna go and try and build it.\n\n948\n00:48:27,080 --> 00:48:31,250\nNow, mine's gonna fail, because I'm\npointing at that installation image,\n\n949\n00:48:31,250 --> 00:48:33,320\nthat Yosemite installer.\n\n950\n00:48:33,320 --> 00:48:36,010\nYou really do need to have\na machine that's in target mode.\n\n951\n00:48:36,010 --> 00:48:37,230\nAnd the main reason is,\n\n952\n00:48:37,230 --> 00:48:39,660\nthere's some little issues with\nhow the partitions are set up.\n\n953\n00:48:39,660 --> 00:48:41,210\nIt's expecting one thing, and\n\n954\n00:48:41,210 --> 00:48:43,990\nthe installation image,\nit contains something else.\n\n955\n00:48:43,990 --> 00:48:47,400\nBut that'll build up that\ninstallation image for us.\n\n956\n00:48:47,400 --> 00:48:52,358\nAnd once it's built it in place,\nnow, it goes into our\n\n957\n00:48:52,358 --> 00:48:57,630\nnet sp folder, our folder where we've got\nall of our net boot installation images.\n\n958\n00:48:57,630 --> 00:48:59,350\nAnd it becomes available to clients.\n\n959\n00:48:59,350 --> 00:49:01,880\nAnd when they boot up,\nthey can pick that image, and\n\n960\n00:49:01,880 --> 00:49:03,880\nit'll deploy it right\ndown to their machine.\n\n961\n00:49:03,880 --> 00:49:06,390\nOr if it's a net boot, it'll actually\nrun from the network, right?\n\n962\n00:49:06,390 --> 00:49:10,840\nIt all comes down to whether you\nchose NetBoot or NetInstall, right?\n\n963\n00:49:10,840 --> 00:49:13,160\nSo that's gonna be that\nbig difference there.\n\n964\n00:49:13,160 --> 00:49:15,910\nI'm sorry, NetBoot or\nNetRestore is gonna be the big difference.\n\n965\n00:49:15,910 --> 00:49:18,760\nSo the functionality there is pretty neat.\n\n966\n00:49:18,760 --> 00:49:21,270\nAgain, I think you guys can see where\nthis really wouldn't be useful for\n\n967\n00:49:21,270 --> 00:49:24,150\na small business, or somebody at home.\n\n968\n00:49:24,150 --> 00:49:28,080\nBut in an enterprise, where you've got\nthousands of machines that are out there,\n\n969\n00:49:28,080 --> 00:49:30,910\nit's nice to have a good consistent\nimage across those machines that\n\n970\n00:49:30,910 --> 00:49:33,070\nare all configured the same way.\n\n971\n00:49:33,070 --> 00:49:36,030\nAnd if something goes wrong on a machine,\njust redeploy the image.\n\n972\n00:49:36,030 --> 00:49:38,820\nYou boot it up while holding down the N\nkey and you just redeploy the image.\n\n973\n00:49:38,820 --> 00:49:40,950\nThe machine is reset, and off you go.\n\n974\n00:49:40,950 --> 00:49:43,640\nYou really can minimize\nthe amount of support.\n\n975\n00:49:43,640 --> 00:49:48,580\nA couple of things to remember\nespecially if you're doing the NetBoot.\n\n976\n00:49:48,580 --> 00:49:52,790\nWith NetBoot, you're running your\noperating system from the network and so\n\n977\n00:49:52,790 --> 00:49:54,310\nnone of your changes are saved.\n\n978\n00:49:54,310 --> 00:49:56,570\nIf you reboot that machine\neverything goes away.\n\n979\n00:49:56,570 --> 00:49:59,750\nSo it's really important\nthat your users know\n\n980\n00:49:59,750 --> 00:50:04,050\nnot to save data on their boot volume\nbecause their boot volume gets wiped out.\n\n981\n00:50:04,050 --> 00:50:07,320\nThe way it works is with\nthe use of a shadow file.\n\n982\n00:50:07,320 --> 00:50:10,110\nWhen you do NetBoot,\nthere's an image on the server, and\n\n983\n00:50:10,110 --> 00:50:11,680\nthat's what you're running.\n\n984\n00:50:11,680 --> 00:50:15,670\nBut you make changes, and those changes,\nthat's called your state, your user state.\n\n985\n00:50:15,670 --> 00:50:18,750\nSo your temporary files that are created\nwhen you browse the Internet, or\n\n986\n00:50:18,750 --> 00:50:19,960\njust your session data.\n\n987\n00:50:19,960 --> 00:50:23,910\nAll of that's stored in state, and\nthat state is stored in a shadow file.\n\n988\n00:50:23,910 --> 00:50:27,780\nBy default that shadow file was stored\non the local hard drive of the client\n\n989\n00:50:27,780 --> 00:50:29,160\nif they have a hard drive.\n\n990\n00:50:29,160 --> 00:50:30,570\nIf you choose the disk-less option though,\n\n991\n00:50:30,570 --> 00:50:34,900\nthen it saves it to the server in\nthe client's folder we saw earlier.\n\n992\n00:50:34,900 --> 00:50:38,480\nAnd that's wiped out\nevery time they reboot.\n\n993\n00:50:38,480 --> 00:50:42,340\nSo when they boot up on NetBoot, and\nthey save something to Macintosh HD,\n\n994\n00:50:42,340 --> 00:50:46,025\nto the regular hard drive, it's going into\nthat state folder, into that shadow file.\n\n995\n00:50:46,025 --> 00:50:48,730\nAnd when they reboot,\nit gets wiped out and they lose it.\n\n996\n00:50:48,730 --> 00:50:52,040\nSo it's really important,\ndoubly important if you're doing NetBoot,\n\n997\n00:50:52,040 --> 00:50:54,500\nthey need to have\na network home directory.\n\n998\n00:50:54,500 --> 00:50:58,240\nIf you remember from the directory\nservices episode, when you create a user\n\n999\n00:50:58,240 --> 00:51:02,930\naccount in the open directory, you can\nspecify a network home directory for them.\n\n1000\n00:51:02,930 --> 00:51:04,470\nThey need to save their data there.\n\n1001\n00:51:04,470 --> 00:51:07,960\nOr at least have a file share somewhere,\nand use Apple file protocol, and\n\n1002\n00:51:07,960 --> 00:51:09,690\nthey can connect and\nsave their data there.\n\n1003\n00:51:09,690 --> 00:51:12,480\nBut they need to save their data to\na network, because when they reboot,\n\n1004\n00:51:12,480 --> 00:51:15,060\neverything on their individual\nmachine will be wiped out.\n\n1005\n00:51:15,060 --> 00:51:18,140\nSo be aware of that,\ndefinitely get some angry\n\n1006\n00:51:18,140 --> 00:51:21,330\nend users if they aren't trained\nproperly to handle that.\n\n1007\n00:51:21,330 --> 00:51:25,480\nBut otherwise, as far as use in a lab or\nwhatever, it really is a great thing,\n\n1008\n00:51:25,480 --> 00:51:26,210\nit works out really well.\n\n1009\n00:51:28,100 --> 00:51:32,390\nAll right, well that's about all I've got\non NetInstall and NetBoot, and NetRestore\n\n1010\n00:51:32,390 --> 00:51:36,330\nfor that matter, so we'll probably\ngo ahead and wrap it up right here.\n\n1011\n00:51:36,330 --> 00:51:39,400\nLet me remind you guys,\nif you have questions on any of this,\n\n1012\n00:51:39,400 --> 00:51:43,590\nbecause it is a pretty neat thing to mess\naround with, definitely feel free to ask.\n\n1013\n00:51:43,590 --> 00:51:46,770\nLive during the show you're always\nwelcome to go to itpro.tv/live and\n\n1014\n00:51:46,770 --> 00:51:48,920\nyou'll see the chatroom beneath the video.\n\n1015\n00:51:48,920 --> 00:51:49,840\nPost your questions there.\n\n1016\n00:51:49,840 --> 00:51:52,110\nWe monitor and answer during the show.\n\n1017\n00:51:52,110 --> 00:51:53,770\nBut if you have questions after the show,\n\n1018\n00:51:53,770 --> 00:51:56,390\nlike if you're watching this recorded,\nyou're not out of luck.\n\n1019\n00:51:56,390 --> 00:51:57,620\nYou can still ask us.\n\n1020\n00:51:57,620 --> 00:51:59,280\nMake use of our Q and A forums.\n\n1021\n00:51:59,280 --> 00:52:02,735\nAt the top of every page on the ITProTV\nsite, you'll see a link that says Q&A.\n\n1022\n00:52:02,735 --> 00:52:04,325\nClick on it.\n\n1023\n00:52:04,325 --> 00:52:05,305\nIt'll take you to the forums.\n\n1024\n00:52:05,305 --> 00:52:06,855\nYou can post your questions there.\n\n1025\n00:52:06,855 --> 00:52:08,565\nWe monitor and answer after the show.\n\n1026\n00:52:08,565 --> 00:52:10,125\nTake advantage of that resource.\n\n1027\n00:52:10,125 --> 00:52:11,295\nIt is there for you.\n\n1028\n00:52:11,295 --> 00:52:14,185\nAll right, well I hope you\nguys enjoyed today's episode.\n\n1029\n00:52:14,185 --> 00:52:18,051\nSigning off for ITProTV,\nI'm Don Pezet and I'll see you next time.\n\n1030\n00:52:18,051 --> 00:52:25,939\n[MUSIC]\n\n",
          "vimeoId": "127026082"
        }
      ],
      "title": "Implementing Deployment Solutions"
    },
    {
      "episodes": [
        {
          "description": null,
          "length": "1882",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-6-1-time_machine-042215-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-6-1-time_machine-042215-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-6-1-time_machine-042215-1-sm.jpg",
          "title": "Time Machine",
          "transcript": "1\n00:00:00,000 --> 00:00:10,000\n[MUSIC]\n\n2\n00:00:15,356 --> 00:00:23,786\n[SOUND]\n\n3\n00:00:23,786 --> 00:00:33,445\n[MUSIC]\n\n4\n00:00:33,445 --> 00:00:36,371\nAll right good morning,\ngood afternoon, and good evening,\n\n5\n00:00:36,371 --> 00:00:39,745\nwelcome back to another episode of\nITProTV, I'm your host Don Pezet,\n\n6\n00:00:39,745 --> 00:00:43,910\nback again with another episode of\nApple Certified Technical Coordinator.\n\n7\n00:00:43,910 --> 00:00:47,570\nToday we're gonna be jumping into\nTime Machine which is a lot of fun.\n\n8\n00:00:47,570 --> 00:00:51,140\nLet me clarify, this isn't just your\nregular old Time Machine running on a work\n\n9\n00:00:51,140 --> 00:00:52,180\nstation or laptop.\n\n10\n00:00:52,180 --> 00:00:56,170\nWe're talking about the Time Machine\nservice inside of the server app.\n\n11\n00:00:56,170 --> 00:00:59,773\nNow, you might ask yourself, why do\nwe need a Time Machine service in our\n\n12\n00:00:59,773 --> 00:01:03,516\nserver app when Time Machine just works\nright here on my laptop or desktop?\n\n13\n00:01:03,516 --> 00:01:05,530\nDo I really need something on the server?\n\n14\n00:01:05,530 --> 00:01:08,580\nAnd the reason we have it\nis kind of a neat one.\n\n15\n00:01:08,580 --> 00:01:10,350\nIt's not a problem everybody has.\n\n16\n00:01:10,350 --> 00:01:13,540\nIf you're a small business or whatever,\nthis might not pertain to you.\n\n17\n00:01:13,540 --> 00:01:14,480\nYou might not care.\n\n18\n00:01:14,480 --> 00:01:16,820\nBut if you're a larger organization,\n\n19\n00:01:16,820 --> 00:01:20,240\nthere's a real need to\nhave centralized backups.\n\n20\n00:01:20,240 --> 00:01:20,740\nAll right.\n\n21\n00:01:20,740 --> 00:01:23,580\nLet me explain the problem that we\nhave with traditional Time Machine.\n\n22\n00:01:23,580 --> 00:01:26,480\nSo I've got a work station here\nthat is set up with Time Machine.\n\n23\n00:01:26,480 --> 00:01:28,010\nLet's take a look at it real quick.\n\n24\n00:01:28,010 --> 00:01:32,550\nSo this is just a regular, Yosemite\nlaptop, it's got Time Machine set up.\n\n25\n00:01:32,550 --> 00:01:35,910\nI've got it added on my\nlittle menu bar up here.\n\n26\n00:01:35,910 --> 00:01:39,170\nBut even if I didn't, you can jump\ninto your system preferences and\n\n27\n00:01:39,170 --> 00:01:40,690\njump into Time Machine.\n\n28\n00:01:40,690 --> 00:01:45,580\nAnd when we set up a Time Machine\nback up on an individual machine,\n\n29\n00:01:45,580 --> 00:01:51,400\nthe expectation is that we have either\na second hard drive in the same machine.\n\n30\n00:01:51,400 --> 00:01:55,730\nOr a removable hard drive of some sort\nthat we are plugging in to the desktop or\n\n31\n00:01:55,730 --> 00:01:57,290\nlaptop to backup.\n\n32\n00:01:57,290 --> 00:02:00,700\nNow, that removable drive\nposes a few little problems.\n\n33\n00:02:00,700 --> 00:02:01,240\nAll right.\n\n34\n00:02:01,240 --> 00:02:03,950\nThe big problem is what happens\nif you lose that drive?\n\n35\n00:02:03,950 --> 00:02:06,810\nIf you lose that drive,\nit has all of your data on it and so,\n\n36\n00:02:06,810 --> 00:02:10,030\nsomebody could take that drive and\nnow they have access to your information.\n\n37\n00:02:10,030 --> 00:02:13,780\nWell fortunately time machine can encrypt\nyour backup, so that solves that problem.\n\n38\n00:02:13,780 --> 00:02:15,420\nYou lose the hard drive,\nsomebody gets it but\n\n39\n00:02:15,420 --> 00:02:18,550\nit's encrypted,\nno big sweat there, All right.\n\n40\n00:02:18,550 --> 00:02:22,540\nBut the bigger problem in my opinion, is\nthat if you have a removable hard drive,\n\n41\n00:02:22,540 --> 00:02:25,640\nin order for the backup to work,\nyou gotta plug it in.\n\n42\n00:02:25,640 --> 00:02:29,810\nAnd, while it sounds simple,\nyour N-users forget to do that.\n\n43\n00:02:29,810 --> 00:02:30,860\nI forget to do that.\n\n44\n00:02:30,860 --> 00:02:34,260\nI have for my laptop right\nhere that I use for this show,\n\n45\n00:02:34,260 --> 00:02:37,870\nI have a removable drive that I stick on\nit that I do Time Machine backups to.\n\n46\n00:02:37,870 --> 00:02:42,595\nAnd when I first got it, I was pretty good\nabout hooking it up maybe one once a week.\n\n47\n00:02:42,595 --> 00:02:45,525\nThen I had a period of time where\nI went two or three weeks and\n\n48\n00:02:45,525 --> 00:02:48,015\nI never hooked it up and I kind of forgot.\n\n49\n00:02:48,015 --> 00:02:48,595\nAnd that's a risk.\n\n50\n00:02:48,595 --> 00:02:51,205\nIf my drive had failed I\ncould have lost some data.\n\n51\n00:02:51,205 --> 00:02:53,825\nSo I ended up switching to\nsomething like a docking station so\n\n52\n00:02:53,825 --> 00:02:57,600\nthat it would always plug-in when I put\nmy laptop in, that's how I remember.\n\n53\n00:02:57,600 --> 00:02:59,440\nWell, I'm one person.\n\n54\n00:02:59,440 --> 00:03:01,369\nWhat if your company\nhas a thousand people?\n\n55\n00:03:01,369 --> 00:03:05,640\nThat's a thousand removable hard\ndrives you gotta keep track of.\n\n56\n00:03:05,640 --> 00:03:08,890\nHow do you know that users are plugging\nthese guys in, in the first place?\n\n57\n00:03:08,890 --> 00:03:11,000\nThe answer is a lot of times you don't.\n\n58\n00:03:11,000 --> 00:03:13,020\nAnd even if they are,\n\n59\n00:03:13,020 --> 00:03:16,500\nhow do you know as an administrator\nwhen's the last time their backup ran?\n\n60\n00:03:16,500 --> 00:03:19,280\nHow do I know if that person\nhasn't backed up in a week versus\n\n61\n00:03:19,280 --> 00:03:22,035\nanother person who's backed\nup just an hour ago.\n\n62\n00:03:22,035 --> 00:03:23,360\nRight.\nYou don't have a good way to tell,\n\n63\n00:03:23,360 --> 00:03:25,480\nbecause Time Machine is\nmanaged individually for\n\n64\n00:03:25,480 --> 00:03:27,250\nall these different people.\n\n65\n00:03:27,250 --> 00:03:32,010\nSo in the server app we have\nthe function to create a centralized\n\n66\n00:03:32,010 --> 00:03:36,080\nTime Machine backup repository,\nwhere everybody can back up to it.\n\n67\n00:03:36,080 --> 00:03:39,640\nAnd it's not a drive that they have to\nplug in, it's a resource on the network.\n\n68\n00:03:39,640 --> 00:03:42,810\nSo if they're on a laptop, when they\ncome into the office and connect to your\n\n69\n00:03:42,810 --> 00:03:46,300\nnetwork, they see the Time Machine\nserver and they start backing up to it.\n\n70\n00:03:46,300 --> 00:03:50,440\nAnd when they take that laptop and they\nleave, well, now it doesn't back up to\n\n71\n00:03:50,440 --> 00:03:53,240\nthe time machine server, but\nthe next time they come back it will.\n\n72\n00:03:53,240 --> 00:03:55,910\nIf they're on a desktop one\nthat's always in the building.\n\n73\n00:03:55,910 --> 00:03:59,800\nThen it's reliably backing up every\nhour to that time machine server, and\n\n74\n00:03:59,800 --> 00:04:02,540\nyou got a nice centralized\nrepository of back ups.\n\n75\n00:04:02,540 --> 00:04:05,780\nAnd that's a great thing to have\nfrom an administrative perspective,\n\n76\n00:04:05,780 --> 00:04:09,700\nbecause it does insulate you from users\nforgetting to plug in their drive.\n\n77\n00:04:09,700 --> 00:04:11,240\nUsers losing their drive.\n\n78\n00:04:11,240 --> 00:04:13,570\nIt's all right here in\nthe centralized server.\n\n79\n00:04:13,570 --> 00:04:14,560\nNow, when this first came out,\n\n80\n00:04:14,560 --> 00:04:18,830\nit actually came out as a part\nof Apple's AirPort line.\n\n81\n00:04:18,830 --> 00:04:20,560\nRight.\nThey have the AirPort line\n\n82\n00:04:20,560 --> 00:04:22,260\nof wireless access points.\n\n83\n00:04:22,260 --> 00:04:25,770\nAnd they created the time capsule\nwhich is really just AirPort\n\n84\n00:04:25,770 --> 00:04:27,340\nwith some hard drives in it.\n\n85\n00:04:27,340 --> 00:04:30,870\nAnd the time capsule serves\na network-based Time Machine backup.\n\n86\n00:04:30,870 --> 00:04:33,530\nAnd it was really successful,\nit worked great if you,\n\n87\n00:04:33,530 --> 00:04:36,590\nyou wanted to use one at home,\nor whatever, they're great.\n\n88\n00:04:36,590 --> 00:04:38,660\nThey are Apple only which\nis kind of a negative.\n\n89\n00:04:38,660 --> 00:04:41,470\nThey don't do a great job of backing\nup Windows or other systems.\n\n90\n00:04:41,470 --> 00:04:45,780\nSo, for homes where all MAC environments,\nthe time capsule can work out really well.\n\n91\n00:04:45,780 --> 00:04:48,480\nBut if you've got a thousand laptops\n\n92\n00:04:48,480 --> 00:04:51,350\nit's hard to have enough storage\non a time capsule to back that up.\n\n93\n00:04:51,350 --> 00:04:55,900\nSo if you set up a server, a machine\nrunning LS10, with the server app, and\n\n94\n00:04:55,900 --> 00:05:00,430\nyou set it up as a time capsule server,\nyou can stick an on there.\n\n95\n00:05:00,430 --> 00:05:04,350\nYou can have hundreds of terabytes\nof storage available right there.\n\n96\n00:05:04,350 --> 00:05:05,840\nAnd people can backup over the network.\n\n97\n00:05:05,840 --> 00:05:10,040\nNow, you might be thinking to yourself\nwait a minute Don, if I hook a removable\n\n98\n00:05:10,040 --> 00:05:14,190\ndrive up, it might be thunderbolt, or\nUSB 3.0, I'm gonna get a fast backup.\n\n99\n00:05:14,190 --> 00:05:16,340\nOver the network it's gonna be slow.\n\n100\n00:05:16,340 --> 00:05:17,970\nRight, maybe we have a gigabit network.\n\n101\n00:05:17,970 --> 00:05:20,330\nMaybe we're on wireless and\nit's only 54 megabit.\n\n102\n00:05:20,330 --> 00:05:24,250\nIt could take forever to backup\na laptop with 100 gigs of storage.\n\n103\n00:05:24,250 --> 00:05:28,750\nAnd you're right, it will take\na long time for the first backup.\n\n104\n00:05:28,750 --> 00:05:30,540\nRemember how Time Machine works.\n\n105\n00:05:30,540 --> 00:05:34,180\nThe very first Time Machine backup\nyou take backs up the entire drive,\n\n106\n00:05:34,180 --> 00:05:38,320\nand it will take a while, not so\nmuch on a Thunderbolt Drive or\n\n107\n00:05:38,320 --> 00:05:40,850\na USB 3 drive, but\nover the network it will take a while.\n\n108\n00:05:41,870 --> 00:05:45,670\nBut after that,\nTime Machine runs once an hour.\n\n109\n00:05:45,670 --> 00:05:49,140\nAnd every hour it just\nbacks up the changes.\n\n110\n00:05:49,140 --> 00:05:51,120\nHow many changes do your\nusers make in a given hour?\n\n111\n00:05:51,120 --> 00:05:53,320\nNot usually that much.\n\n112\n00:05:53,320 --> 00:05:57,620\nAnd so that really cuts down on the amount\nof time it takes to do those Time Machine\n\n113\n00:05:57,620 --> 00:06:01,290\nbackups and it makes it where backing\nup over the network is very reasonable.\n\n114\n00:06:01,290 --> 00:06:03,800\nSo as long as we set it up early\non in the life of that system,\n\n115\n00:06:03,800 --> 00:06:06,670\nlike when we get a new laptop we\nset it up right away, that backup,\n\n116\n00:06:06,670 --> 00:06:08,790\nthat first backup happens, it's long.\n\n117\n00:06:08,790 --> 00:06:11,330\nWe turn the laptop over\nto the end-user and\n\n118\n00:06:11,330 --> 00:06:13,790\nnow they can start using it and\ntheir changes are being backed up.\n\n119\n00:06:13,790 --> 00:06:16,399\nIt really does work out pretty well.\n\n120\n00:06:16,399 --> 00:06:20,224\nAll right, the other thing to remember,\nespecially for the exam is that,\n\n121\n00:06:20,224 --> 00:06:22,060\nthis isn't an exclusive service.\n\n122\n00:06:22,060 --> 00:06:23,410\nIt's not like you have to make a choice.\n\n123\n00:06:23,410 --> 00:06:27,411\nDo I back up to a removable drive,\nor the server, right?\n\n124\n00:06:27,411 --> 00:06:29,780\nIt's really an and, you can do both.\n\n125\n00:06:29,780 --> 00:06:31,880\nI can backup to the removable drive and\nto the server.\n\n126\n00:06:31,880 --> 00:06:34,210\nI can backup to more\nthan one removable drive.\n\n127\n00:06:34,210 --> 00:06:37,400\nThe way Time Machine works,\nis when it runs a backup, it looks for\n\n128\n00:06:37,400 --> 00:06:39,850\nwhatever backup media is available.\n\n129\n00:06:39,850 --> 00:06:43,120\nAnd if there's more than one available,\nit will back up to both of them.\n\n130\n00:06:43,120 --> 00:06:47,000\nAnd that's really nice because the users\ncan still use the removable drives they're\n\n131\n00:06:47,000 --> 00:06:48,410\nused to if they want.\n\n132\n00:06:48,410 --> 00:06:52,140\nBut you got that safety net of\nhaving the server side back up also.\n\n133\n00:06:52,140 --> 00:06:54,030\nThat way if their laptop bag gets stolen,\nand\n\n134\n00:06:54,030 --> 00:06:58,030\ntheir back up drive was in the laptop bag,\nI can't tell you how many people do that,\n\n135\n00:06:58,030 --> 00:07:00,710\nthey just lost their laptop and\ntheir back up drive.\n\n136\n00:07:00,710 --> 00:07:02,130\nSo how do we restore the data?\n\n137\n00:07:02,130 --> 00:07:03,420\nWell, it's on the server.\n\n138\n00:07:03,420 --> 00:07:05,250\nI've got that backup,\nI can pull it from there.\n\n139\n00:07:05,250 --> 00:07:07,569\nIt's kind of nice to have that safety net.\n\n140\n00:07:07,569 --> 00:07:09,790\nAll right, so let's see how this works.\n\n141\n00:07:09,790 --> 00:07:15,300\nOn a normal laptop like this one, we go\ninto Time Machine, we select a disk and\n\n142\n00:07:15,300 --> 00:07:17,780\nnormally we're selecting a second\ndisk inside of the computer.\n\n143\n00:07:17,780 --> 00:07:20,520\nYou can see on this computer,\nI've got a second hard drive.\n\n144\n00:07:20,520 --> 00:07:22,480\nIf I fire up my disk utility.\n\n145\n00:07:22,480 --> 00:07:27,900\nI've got a 65 gig or 64 gig hard drive\nhere which is my Macintosh HD, right.\n\n146\n00:07:27,900 --> 00:07:31,350\nThat's the one that has my\noperating system on it.\n\n147\n00:07:31,350 --> 00:07:35,720\nAnd then I've got a 256 gig drive which\nis showing up as 275 for some reason.\n\n148\n00:07:35,720 --> 00:07:38,850\nBut I've [LAUGH] got this other drive,\nand it's showing up.\n\n149\n00:07:38,850 --> 00:07:41,540\nAnd I formatted it and\nI called it Time Machine.\n\n150\n00:07:41,540 --> 00:07:44,760\nI always call them Time Machine,\njust so I can remember what they are.\n\n151\n00:07:44,760 --> 00:07:45,570\nBut a, so it's showing up there.\n\n152\n00:07:45,570 --> 00:07:48,020\nThat's just a local disc\nthat I'm adding on.\n\n153\n00:07:48,020 --> 00:07:52,530\nIf this were a Mac Pro That might be\na second hard drive in the system.\n\n154\n00:07:52,530 --> 00:07:54,602\nIf this is a MacBook Pro,\nwhich this one is,\n\n155\n00:07:54,602 --> 00:07:57,469\nit'll be an external removable\ndrive that we stick on to it.\n\n156\n00:07:57,469 --> 00:07:58,107\nAll right.\n\n157\n00:07:58,107 --> 00:07:59,569\nSo it kinda depends on your system.\n\n158\n00:07:59,569 --> 00:08:02,102\nWell, on Mac Mini,\nit will usually be an external drive.\n\n159\n00:08:02,102 --> 00:08:05,740\nAnd it might be Thunderbolt, it might be\nUSB 3, it's whatever that I've got local.\n\n160\n00:08:06,930 --> 00:08:09,790\nSo, when I set up Time Machine,\nI just went to select disk, and\n\n161\n00:08:09,790 --> 00:08:12,100\nthat Time Machine disk\nshowed up right there.\n\n162\n00:08:12,100 --> 00:08:13,920\nAnd I picked it.\n\n163\n00:08:13,920 --> 00:08:18,790\nBut you'll see other options in here\nlike this, Other AirPort Time Capsule.\n\n164\n00:08:18,790 --> 00:08:22,185\nAnd that means, if I've got\nan AirPort wireless access point,\n\n165\n00:08:22,185 --> 00:08:25,270\nthat I've attached USB drives to,\nI can backup that.\n\n166\n00:08:25,270 --> 00:08:27,190\nOr if I actually have a Time Capsule.\n\n167\n00:08:27,190 --> 00:08:31,030\nThe only difference between an AirPort\nwith USB drives attached and\n\n168\n00:08:31,030 --> 00:08:34,570\na Time Capsule is that the Time Capsule\nhas the hard drives inside of it.\n\n169\n00:08:34,570 --> 00:08:37,230\nThe AirPort would have the hard drives\njust kinda dangling off the back.\n\n170\n00:08:37,230 --> 00:08:39,840\nOnce you stick hard drives in an AirPort\nit is basically a Time Capsule.\n\n171\n00:08:39,840 --> 00:08:42,480\nSo it's asking if I want to pick those.\n\n172\n00:08:42,480 --> 00:08:44,260\nBut I don't see my server.\n\n173\n00:08:44,260 --> 00:08:47,780\nAnd that's because I don't have any\nservers running the backup service.\n\n174\n00:08:47,780 --> 00:08:48,770\nAnd you can bring up one or\n\n175\n00:08:48,770 --> 00:08:52,580\nmore servers on your network that are all\nrunning the Time Capsule service.\n\n176\n00:08:52,580 --> 00:08:55,070\nAnd they'll show up as a backup location.\n\n177\n00:08:55,070 --> 00:08:57,190\nThe process is actually\nreally straightforward.\n\n178\n00:08:57,190 --> 00:08:59,310\nI'm already set up to\nback up to my hard drive.\n\n179\n00:08:59,310 --> 00:09:01,650\nI'm going to leave that be,\nI'm not going to turn that off.\n\n180\n00:09:01,650 --> 00:09:04,770\nAs the end user I still want to\nhave my own removable drive.\n\n181\n00:09:04,770 --> 00:09:07,470\nNot every end user does, some end users\nwill say, I don't wanna deal with that.\n\n182\n00:09:07,470 --> 00:09:10,630\nI don't wanna worry about tracking this\nremovable drive and keeping up with it.\n\n183\n00:09:10,630 --> 00:09:11,930\nI'll just let the network do it.\n\n184\n00:09:11,930 --> 00:09:14,670\nAnd that way when I plug in and connect to\nthe network, the backup will be there and\n\n185\n00:09:14,670 --> 00:09:15,630\nbe available.\n\n186\n00:09:15,630 --> 00:09:19,870\nAnd then when I disconnect, well,\nI'm not backing up, but I still have that.\n\n187\n00:09:19,870 --> 00:09:21,730\nWell, let me clarify that statement.\n\n188\n00:09:21,730 --> 00:09:25,380\nI don't know if this'll turn up on\nthe exam, but it is worth remembering.\n\n189\n00:09:25,380 --> 00:09:30,410\nEven if your Time Machine\nstorage media is not available,\n\n190\n00:09:30,410 --> 00:09:34,420\nlike if my network drive is not out there\nand my USB drive is not connected and\n\n191\n00:09:34,420 --> 00:09:38,160\nI'm just on my machine, Time Machine\nstill runs, it still tracks the backup.\n\n192\n00:09:38,160 --> 00:09:40,670\nSo, it actually makes a local backup.\n\n193\n00:09:40,670 --> 00:09:43,570\nAnd let me see if I can\nremember where this thing is.\n\n194\n00:09:43,570 --> 00:09:46,720\nIt's actually buried away inside\nof Volumes, if I remember, right?\n\n195\n00:09:48,780 --> 00:09:53,610\nIf we go into /volumes and there it is.\n\n196\n00:09:53,610 --> 00:09:57,450\nInside of my volume, see how I've got\na folder here called mobile backups?\n\n197\n00:09:57,450 --> 00:09:58,850\nThat's Time Machine.\n\n198\n00:09:58,850 --> 00:10:01,790\nTime Machine is saying if the USB\ndrive isn't available, or\n\n199\n00:10:01,790 --> 00:10:04,590\nthe network server's not available,\nI'll still do my backup.\n\n200\n00:10:04,590 --> 00:10:05,520\nI'll just back up right here.\n\n201\n00:10:05,520 --> 00:10:10,350\nNow, that's not a great backup, because if\nmy hard drive fails, I'm gonna lose this.\n\n202\n00:10:10,350 --> 00:10:12,410\nIt's on the same hard drive as my data.\n\n203\n00:10:12,410 --> 00:10:16,700\nBut if I accidentally delete something,\nor I edit a file and\n\n204\n00:10:16,700 --> 00:10:19,355\nI do it wrong, well, in that case,\nI can still come and\n\n205\n00:10:19,355 --> 00:10:22,255\nI can recover that right here\nfrom inside of mobile back ups.\n\n206\n00:10:22,255 --> 00:10:26,205\nAnd it really is just a Time Machine\nback up that's being taken\n\n207\n00:10:26,205 --> 00:10:28,275\nright here on the system.\n\n208\n00:10:28,275 --> 00:10:32,195\nVerses the one that's being\ntaken on my removable drive.\n\n209\n00:10:32,195 --> 00:10:36,900\nSee how in that mobile back ups folder,\nI had this backup.backupdb file?\n\n210\n00:10:36,900 --> 00:10:38,240\nThat's the backup.\n\n211\n00:10:38,240 --> 00:10:42,070\nWell, here inside of my\nTime Machine volume,\n\n212\n00:10:42,070 --> 00:10:44,800\nI've got backups.backupdb,\nit's the same thing.\n\n213\n00:10:44,800 --> 00:10:46,850\nIt's just a local copy of that backup.\n\n214\n00:10:46,850 --> 00:10:50,220\nSo Time Machine can really\nbackup to four different places.\n\n215\n00:10:50,220 --> 00:10:54,080\nIt can backup to the local,\nthe mobile backup there, that cache.\n\n216\n00:10:54,080 --> 00:10:57,520\nIt can backup to a second hard drive,\ninternal or removable.\n\n217\n00:10:57,520 --> 00:11:00,480\nIt can backup to an AirPort or\na Time Capsule.\n\n218\n00:11:00,480 --> 00:11:03,190\nOr it can back up to that server.\n\n219\n00:11:03,190 --> 00:11:06,020\nAnd the server is the cool one, that's\nthe one we want to learn about here.\n\n220\n00:11:06,020 --> 00:11:08,730\nSo what I'm going to do is I'm going\nto jump over to our server and\n\n221\n00:11:08,730 --> 00:11:10,140\nget that set up.\n\n222\n00:11:10,140 --> 00:11:12,701\nNow the Time Machine backup service\nis one of the standard services.\n\n223\n00:11:12,701 --> 00:11:17,390\nSo right here inside the server app,\nyou'll see it right down here.\n\n224\n00:11:17,390 --> 00:11:21,300\nUnder services we have Time Machine and\nit's one of the easier ones to get setup.\n\n225\n00:11:21,300 --> 00:11:24,180\nIt's not as easy as the caching server,\nthat one you just turn on.\n\n226\n00:11:24,180 --> 00:11:25,930\nBut this one we can turn on and\n\n227\n00:11:25,930 --> 00:11:29,020\nthen we need to tell it where\nwe're going to backup to.\n\n228\n00:11:29,020 --> 00:11:31,470\nRemember your other services,\nthey all take storage.\n\n229\n00:11:31,470 --> 00:11:33,670\nThey have to store their\ndata somewhere and so\n\n230\n00:11:33,670 --> 00:11:35,540\nthere's that default storage location.\n\n231\n00:11:35,540 --> 00:11:39,390\nIf I go up to my server and\nI go to my settings.\n\n232\n00:11:39,390 --> 00:11:42,130\nYou've got the default\nservice data location, and\n\n233\n00:11:42,130 --> 00:11:44,120\nthat's what most of your services use.\n\n234\n00:11:44,120 --> 00:11:45,420\nTime Machine doesn't.\n\n235\n00:11:45,420 --> 00:11:48,640\nThe Time Machine service, it'll actually\nput its configuration there, but\n\n236\n00:11:48,640 --> 00:11:52,000\nthe backups themselves,\nit just automatically assumes,\n\n237\n00:11:52,000 --> 00:11:53,930\nhey, these backups can be big.\n\n238\n00:11:53,930 --> 00:11:57,010\nYou probably don't wanna put them on the\nsame hard drive as your operating system.\n\n239\n00:11:57,010 --> 00:11:59,700\nAnd so, it gives us the opportunity\nto specify different locations.\n\n240\n00:12:00,780 --> 00:12:04,010\nSo when I go down here to Time Machine,\nbefore I turn it on,\n\n241\n00:12:04,010 --> 00:12:06,760\nI really need to create\nmy backup destinations.\n\n242\n00:12:06,760 --> 00:12:08,010\nThese guys right here.\n\n243\n00:12:08,010 --> 00:12:09,430\nAnd there's none by default.\n\n244\n00:12:09,430 --> 00:12:11,830\nSo if I were to turn it on right\nnow my server would show up,\n\n245\n00:12:11,830 --> 00:12:13,850\nbut people wouldn't be\nable to back up to me.\n\n246\n00:12:13,850 --> 00:12:17,090\nSo I've got to come in here and\nadd at least one location.\n\n247\n00:12:17,090 --> 00:12:19,750\nNow you can add more than one location.\n\n248\n00:12:19,750 --> 00:12:23,980\nAnd the reason you'd wanna do that is\nthe server may have multiple hard drives,\n\n249\n00:12:23,980 --> 00:12:26,390\nit may have multiple Xsans attached to it.\n\n250\n00:12:26,390 --> 00:12:28,730\nIf you're trying to get\nseveral petabytes of storage,\n\n251\n00:12:28,730 --> 00:12:31,340\nit's hard to get one Xsan\nthat has a full petabyte.\n\n252\n00:12:31,340 --> 00:12:32,850\nYou can do it, it gets expensive.\n\n253\n00:12:32,850 --> 00:12:36,210\nSo it's usually less expensive to\nget more than one of those Xsans and\n\n254\n00:12:36,210 --> 00:12:40,380\nhave them add up to the amount\nof stores that you want.\n\n255\n00:12:40,380 --> 00:12:43,950\nAnd so, you may need to add more\nthan one destination in here\n\n256\n00:12:43,950 --> 00:12:46,310\nto handle the amount of data that\nyou're going to be backing up.\n\n257\n00:12:46,310 --> 00:12:48,230\nI'll go ahead and\n\n258\n00:12:48,230 --> 00:12:51,320\nhit the plus sign at the bottom of\nthe screen to add up a backup destination.\n\n259\n00:12:51,320 --> 00:12:54,030\nAnd now,\nI can pick where it's going to go to.\n\n260\n00:12:54,030 --> 00:12:57,440\nSo you can store the backups\nin a folder anywhere.\n\n261\n00:12:57,440 --> 00:12:58,700\nSo, any folder that you want.\n\n262\n00:12:58,700 --> 00:13:01,580\nIt doesn't have to be a dedicated\ndrive like Time Machine.\n\n263\n00:13:01,580 --> 00:13:03,700\nTime Machine likes to\nhave a dedicated drive.\n\n264\n00:13:03,700 --> 00:13:06,710\nWith the server it can just\nbe a folder located anywhere.\n\n265\n00:13:06,710 --> 00:13:08,606\nSo it can be on a SAN that you use for\nother things,\n\n266\n00:13:08,606 --> 00:13:11,575\nit could be on a shared folder that's\nalready available to the users.\n\n267\n00:13:11,575 --> 00:13:13,745\nIt's really pretty flexible.\n\n268\n00:13:13,745 --> 00:13:14,545\nIn my case,\n\n269\n00:13:14,545 --> 00:13:17,885\nI actually have an extra hard drive in the\nserver that I don't think I formatted yet.\n\n270\n00:13:17,885 --> 00:13:19,615\nSo let me check within my disk utility.\n\n271\n00:13:19,615 --> 00:13:23,640\nYeah, I've got a 1 TB hard\ndrive added on to this system.\n\n272\n00:13:23,640 --> 00:13:27,110\nAnd I'm gonna go ahead and\npartition that out.\n\n273\n00:13:27,110 --> 00:13:32,810\nAnd for Time Machine to work properly, it\ndoes need to be Mac OS Extended Journaled.\n\n274\n00:13:32,810 --> 00:13:35,440\nWhen you format that drive,\nit's gotta be Extended Journaled.\n\n275\n00:13:35,440 --> 00:13:37,780\nIt can be case sensitive it you want, but\n\n276\n00:13:37,780 --> 00:13:40,580\nat a minimum just has to\nbe the regular journaled.\n\n277\n00:13:40,580 --> 00:13:43,960\nYou can't do XFAT for this, it won't work.\n\n278\n00:13:43,960 --> 00:13:47,190\nAnd so, I'm just going to rename this and\nI'll call it backups.\n\n279\n00:13:47,190 --> 00:13:48,388\nActually, I do want to\nshow you guys something,\n\n280\n00:13:48,388 --> 00:13:49,362\nI'm going to give it a different name.\n\n281\n00:13:49,362 --> 00:13:50,490\nI'm going to call it Time Machine.\n\n282\n00:13:52,200 --> 00:13:55,660\nRegardless of the name we give the drive,\nwhen it's visible on the network,\n\n283\n00:13:55,660 --> 00:13:57,430\nit's going to show up as backups.\n\n284\n00:13:57,430 --> 00:14:00,000\nAnd so, I was about to name it backups,\nis what I would normally do.\n\n285\n00:14:00,000 --> 00:14:02,230\nBut I want to show you guys how that\nname doesn't necessarily match.\n\n286\n00:14:02,230 --> 00:14:04,770\nSo I'm going to call it Time Machine and\nwe'll format that out.\n\n287\n00:14:06,772 --> 00:14:07,530\nAll right, so when that's done,\n\n288\n00:14:07,530 --> 00:14:10,880\nI'm gonna have a one terabyte drive\nthat's available for storing backups.\n\n289\n00:14:12,310 --> 00:14:13,750\nThere we go, looks like it is done.\n\n290\n00:14:15,210 --> 00:14:17,920\nAnd I'll jump back here to my server app.\n\n291\n00:14:17,920 --> 00:14:20,560\nNow in my server app,\nI'm under time machine and\n\n292\n00:14:20,560 --> 00:14:22,660\nI just hit the plus sign\nto add a new location.\n\n293\n00:14:22,660 --> 00:14:26,070\nAnd it's got store backups\nin no folder selected.\n\n294\n00:14:26,070 --> 00:14:27,990\nSo I'll just go ahead and choose one.\n\n295\n00:14:27,990 --> 00:14:32,020\nAnd it really is a folder, so\nI can pick wherever I want.\n\n296\n00:14:32,020 --> 00:14:35,580\nI can browse onto my own hard drive and\npick a location, not the greatest idea.\n\n297\n00:14:35,580 --> 00:14:37,860\nBut in my case,\nI'm gonna pick that time machine folder.\n\n298\n00:14:37,860 --> 00:14:40,970\nNow, I might want to have more\nthan one folder in there.\n\n299\n00:14:40,970 --> 00:14:44,830\nIf I have different requirements for\ndifferent users or whatever.\n\n300\n00:14:44,830 --> 00:14:49,730\nYou might want to store back-ups for your\nexecutives on one drive and back-ups for\n\n301\n00:14:49,730 --> 00:14:52,480\nyour regular employees in another drive.\n\n302\n00:14:52,480 --> 00:14:54,570\nAnd the reason you might want to\nseparate that out is because you\n\n303\n00:14:54,570 --> 00:14:55,990\ngot more than one SAN.\n\n304\n00:14:55,990 --> 00:15:00,620\nBut another reason is you can set\nlimits on the size of the backups.\n\n305\n00:15:00,620 --> 00:15:03,550\nAnd you might want your executives or\nyour servers that give you backup,\n\n306\n00:15:03,550 --> 00:15:06,090\nyou might want them to\nhave unlimited storage.\n\n307\n00:15:06,090 --> 00:15:09,750\nBut then, your regular employee,\nyou might wanna hold them to 200 gigs or\n\n308\n00:15:09,750 --> 00:15:10,480\n500 gigs or whatever.\n\n309\n00:15:10,480 --> 00:15:12,900\nSo you might have different\npolicies you want to apply.\n\n310\n00:15:12,900 --> 00:15:15,660\nThat's another reason why you\nmight want to set up more\n\n311\n00:15:15,660 --> 00:15:17,226\nthan one backup destination.\n\n312\n00:15:17,226 --> 00:15:19,963\nAll right,\nI'm just going to choose that drive and\n\n313\n00:15:19,963 --> 00:15:23,220\nI'll make a folder here which\nI'll just call Time Machine.\n\n314\n00:15:24,610 --> 00:15:25,480\nThere we go.\n\n315\n00:15:25,480 --> 00:15:27,490\nSo now I've got a folder\njust called Time Machine.\n\n316\n00:15:27,490 --> 00:15:28,580\nI'm gonna choose that.\n\n317\n00:15:28,580 --> 00:15:33,930\nAnd so I'll see my backup destination\nis /Volumes/Time Machine/Time Machine.\n\n318\n00:15:33,930 --> 00:15:36,210\nSo Time Machine is the hard drive,\nTime Machine.\n\n319\n00:15:36,210 --> 00:15:39,185\nI guess that's kinda confusing doing\nit that way, but that's how I named it.\n\n320\n00:15:39,185 --> 00:15:42,310\n[LAUGH] Now here's where\nI can set that limit.\n\n321\n00:15:42,310 --> 00:15:46,530\nI can specify a limit and\nsay here's the maximum size of the backup.\n\n322\n00:15:46,530 --> 00:15:49,895\nQuick caveat about this, and\nthey put the note right here,\n\n323\n00:15:49,895 --> 00:15:53,209\nthat only Macs running OS X or\ngreater will obey the limit.\n\n324\n00:15:53,209 --> 00:15:57,516\nIn other words, if you still have Mountain\nLion machines, they'll ignore the limit.\n\n325\n00:15:57,516 --> 00:16:00,210\nThey'll still back up and they'll back\nup more than the limit that's available.\n\n326\n00:16:00,210 --> 00:16:04,890\nSo It's not the be all end all of limits,\n\n327\n00:16:04,890 --> 00:16:09,857\nbut at least it sets\na basic limit in place.\n\n328\n00:16:09,857 --> 00:16:13,090\nSo, I'll create that location and\nthere it is.\n\n329\n00:16:13,090 --> 00:16:13,790\nAnd it's in place.\n\n330\n00:16:13,790 --> 00:16:16,660\nYou kind of get the idea of how if I wanna\ncreate more than one of these backup\n\n331\n00:16:17,800 --> 00:16:21,010\nI can come in and I can create another\none here, and maybe this one will be for\n\n332\n00:16:21,010 --> 00:16:21,740\nmy executives.\n\n333\n00:16:21,740 --> 00:16:24,990\nSo, I'll come in and do new folders,\nand I'll call this one executives.\n\n334\n00:16:27,870 --> 00:16:29,760\nSo, here's my executives folder.\n\n335\n00:16:29,760 --> 00:16:32,360\nAnd on this one,\nmaybe I don't set a limit.\n\n336\n00:16:32,360 --> 00:16:34,460\nAnd then on my regular\nemployees I do set a limit.\n\n337\n00:16:34,460 --> 00:16:35,490\nYou can start going through, and\n\n338\n00:16:35,490 --> 00:16:38,070\nsetting those different policies\nbased on what you need.\n\n339\n00:16:39,200 --> 00:16:41,750\nSo I've got a couple of different\nback up destination set there.\n\n340\n00:16:41,750 --> 00:16:45,130\nNow Time Machine is going to store\nthe data on those as it backups.\n\n341\n00:16:45,130 --> 00:16:47,130\nSo, I got a nice little\nsize meter over here,\n\n342\n00:16:47,130 --> 00:16:48,850\nshow me how much of it\nis actually being used.\n\n343\n00:16:51,070 --> 00:16:54,650\nNow, my backups are empty I can tell,\nwell, cuz of the 0 kb right there.\n\n344\n00:16:54,650 --> 00:16:56,090\nBut, also if I go to the backups tab.\n\n345\n00:16:56,090 --> 00:16:58,660\nThat is where I see the list\nof backups that are out there,\n\n346\n00:16:58,660 --> 00:17:00,090\nand I don't have any right now.\n\n347\n00:17:00,090 --> 00:17:04,150\nSo, my next step is to get a client\nset up to back up to this thing.\n\n348\n00:17:04,150 --> 00:17:08,770\nSo let's go jump over and do that, well,\nI always forget this last little step and\n\n349\n00:17:08,770 --> 00:17:09,760\nit's kind of important.\n\n350\n00:17:09,760 --> 00:17:11,820\nBefore I can set up a client I\nprobably need to turn this on, so\n\n351\n00:17:11,820 --> 00:17:13,280\nI'm gonna go hit the on switch right,\n\n352\n00:17:13,280 --> 00:17:16,930\nthere at the top of the screen\nthat's gonna turn on my back up.\n\n353\n00:17:16,930 --> 00:17:19,740\nThe only other setting up here\nis we can set permissions,\n\n354\n00:17:19,740 --> 00:17:22,210\nwho's allowed to connect to this service,\nand\n\n355\n00:17:22,210 --> 00:17:26,040\nI might wanna limit that down to\nparticular users or particular networks.\n\n356\n00:17:26,040 --> 00:17:28,470\nSo we can edit that and\nspecify those limits, for\n\n357\n00:17:28,470 --> 00:17:31,490\nme I'm kind of setting up a more broad\nbackup so I'll leave it wide open.\n\n358\n00:17:34,470 --> 00:17:37,540\nNow on the client side they've\ngot their backup set up and\n\n359\n00:17:37,540 --> 00:17:40,502\nyou'll see I'm already set to back up,\nthat local hard drive here on the client.\n\n360\n00:17:40,502 --> 00:17:43,340\nI'm gonna hit Select Disk and\n\n361\n00:17:43,340 --> 00:17:45,990\nthere's the Time Machine disk\nI'm backing up to already.\n\n362\n00:17:45,990 --> 00:17:48,240\nAnd down here in My List.\n\n363\n00:17:48,240 --> 00:17:51,115\nNotice I've got executives and\nTime Machine.\n\n364\n00:17:51,115 --> 00:17:53,810\nThere's those folders\nI set up to share out.\n\n365\n00:17:53,810 --> 00:17:56,050\nThey're showing up as those back ups.\n\n366\n00:17:56,050 --> 00:17:59,610\nIf I hadn't created two,\nif I only created one location,\n\n367\n00:17:59,610 --> 00:18:02,670\nit would actually just be named\nbackups and that name would match, but\n\n368\n00:18:02,670 --> 00:18:04,990\nsince I created two here\nI did actually name them.\n\n369\n00:18:04,990 --> 00:18:08,950\nAnd so I've got executives, and\nif I pick that one, I have no limit.\n\n370\n00:18:08,950 --> 00:18:11,420\nAnd then if I pick one of the other ones,\nmaybe I do have a limits.\n\n371\n00:18:11,420 --> 00:18:15,330\nNow, I'm picking that destination\nof where I wanna back up to.\n\n372\n00:18:15,330 --> 00:18:17,750\nSo, I'll say that I'm an executive,\nso I'm gonna back up to that one.\n\n373\n00:18:17,750 --> 00:18:19,090\nI'll choose that location.\n\n374\n00:18:19,090 --> 00:18:21,230\nAnd I can encrypt my backup if I want.\n\n375\n00:18:21,230 --> 00:18:23,250\nIt's typically a good idea.\n\n376\n00:18:23,250 --> 00:18:26,020\nIf I have full control of this server and\nit's a secure network,\n\n377\n00:18:26,020 --> 00:18:27,350\nI might not worry about it.\n\n378\n00:18:27,350 --> 00:18:29,740\nBut, otherwise we normally\nwould go ahead and encrypt it.\n\n379\n00:18:29,740 --> 00:18:32,700\nI'll go ahead and\nchoose Executives and hit Use Disk.\n\n380\n00:18:33,950 --> 00:18:39,800\nWhen that's done it's now gonna ask me,\ndo I wanna stop using my Removable Drive,\n\n381\n00:18:39,800 --> 00:18:42,440\nand just use the network backup,\nor do I wanna use both?\n\n382\n00:18:42,440 --> 00:18:44,300\nI've gotta choice.\n\n383\n00:18:44,300 --> 00:18:45,010\nI can replace it.\n\n384\n00:18:45,010 --> 00:18:47,120\nIf I don't want that removable drive\nanymore, I can't hit that, and\n\n385\n00:18:47,120 --> 00:18:48,830\nI'll just use the network.\n\n386\n00:18:48,830 --> 00:18:52,910\nBut, if I want both for that extra\nsense of security, I can do that.\n\n387\n00:18:52,910 --> 00:18:56,700\nI can hit Use Both, and\nnow I'll have two backup destinations.\n\n388\n00:18:57,710 --> 00:19:01,450\nNow, it's prompting me for my password\non the server, so I'll punch that in.\n\n389\n00:19:01,450 --> 00:19:05,030\nI must not have logged in with\nmy open directory account.\n\n390\n00:19:05,030 --> 00:19:09,810\nSo there we go, and now that that's setup,\nwhen I look at my screen.\n\n391\n00:19:09,810 --> 00:19:11,880\nIt's not quite rendering perfectly, but\n\n392\n00:19:11,880 --> 00:19:15,890\nyou can see where I've got my\nTime Machine removable disk, and\n\n393\n00:19:15,890 --> 00:19:19,060\nI've got that executives network\ndisk that I'm backing up to.\n\n394\n00:19:19,060 --> 00:19:22,440\nAnd it says it's waiting to\ncomplete the first backup.\n\n395\n00:19:22,440 --> 00:19:24,150\nThere's a terrabyte of storage available.\n\n396\n00:19:24,150 --> 00:19:26,060\nI need to get a backup running to it.\n\n397\n00:19:26,060 --> 00:19:29,000\nAnd it's gonna run that\nbackup at the next interval.\n\n398\n00:19:29,000 --> 00:19:30,320\nNormally you get a little timer here,\n\n399\n00:19:30,320 --> 00:19:32,010\nthat says that it's going\nto tick forward and do it.\n\n400\n00:19:32,010 --> 00:19:33,750\nIt may have already started.\n\n401\n00:19:33,750 --> 00:19:35,440\nNo, hasn't started yet.\n\n402\n00:19:35,440 --> 00:19:38,070\nSo I'm going to go ahead and hit Backup\nNow, and just kind of force that along.\n\n403\n00:19:38,070 --> 00:19:40,920\nThere we go, so\nit says that it's looking for the disk and\n\n404\n00:19:40,920 --> 00:19:42,060\nit's gonna run out and do it.\n\n405\n00:19:42,060 --> 00:19:45,040\nRemember that Time Machine by\ndefault triggers once an hour.\n\n406\n00:19:45,040 --> 00:19:48,460\nSo, when you turn this on,\nsince you've already got a good backup,\n\n407\n00:19:48,460 --> 00:19:50,920\nit could take an hour before\nthe next backup runs.\n\n408\n00:19:50,920 --> 00:19:51,800\nI'm just gonna force it here.\n\n409\n00:19:53,530 --> 00:19:55,640\nWell, I don't wanna sit here and\njust wait and\n\n410\n00:19:55,640 --> 00:19:57,600\nwatch while this little\nstatus bar turns across.\n\n411\n00:19:57,600 --> 00:20:00,480\nSo, what we can do here is we can go\nahead, and stop and take a break.\n\n412\n00:20:00,480 --> 00:20:03,140\nAnd during the break, we'll let that\nbackup run and then as soon its done,\n\n413\n00:20:03,140 --> 00:20:06,780\nwell jump back in and we'll get a chance\nto see what that looks like on the server.\n\n414\n00:20:06,780 --> 00:20:09,860\nBut, for the most part,\nthat's basically it for the set up.\n\n415\n00:20:09,860 --> 00:20:11,160\nNow, we just need the monitoring piece.\n\n416\n00:20:11,160 --> 00:20:12,350\nHow do we know it's actually working?\n\n417\n00:20:12,350 --> 00:20:14,054\nSo, we'll see that when we\nget back after the break.\n\n418\n00:20:14,054 --> 00:20:22,180\n[MUSIC]\n\n419\n00:20:22,180 --> 00:20:23,890\nAll right welcome back everybody.\n\n420\n00:20:23,890 --> 00:20:26,430\nDuring the break, the,\nback up ran on the laptop.\n\n421\n00:20:26,430 --> 00:20:28,570\nIt backed up over the network\nto the server, and it's done.\n\n422\n00:20:28,570 --> 00:20:30,290\nSo let's take a look at what we've got.\n\n423\n00:20:30,290 --> 00:20:31,550\nNow for the end user,\n\n424\n00:20:31,550 --> 00:20:34,290\nthat back up happened just like\nany other Time Machine back up.\n\n425\n00:20:34,290 --> 00:20:37,720\nIf they weren't paying attention,\nonce an hour it runs and it backs up.\n\n426\n00:20:37,720 --> 00:20:41,450\nAnd as long as you're on the network, and\ncan see the server, go back up to it.\n\n427\n00:20:41,450 --> 00:20:45,300\nIt uses Apple file protocol so it's\nusing that combined with Bonjour to find\n\n428\n00:20:45,300 --> 00:20:48,810\nthe servers, and get that backup\nrunning and it churns along.\n\n429\n00:20:48,810 --> 00:20:50,660\nI can see the backup happen.\n\n430\n00:20:50,660 --> 00:20:53,330\nI've got that I've only got one backup.\n\n431\n00:20:53,330 --> 00:20:55,190\nIt backed up today at 10:22 AM.\n\n432\n00:20:55,190 --> 00:20:57,410\nSo the backup is sitting there, and\n\n433\n00:20:57,410 --> 00:20:58,990\nwe're ready to be able to\nuse that to restore data.\n\n434\n00:21:00,010 --> 00:21:04,010\nIf I jump over to the server, that's\nwhere we'll really see a difference is\n\n435\n00:21:04,010 --> 00:21:08,960\non the server I had 1.1 terabytes of\nspace before, now I have 1.09 terabytes.\n\n436\n00:21:08,960 --> 00:21:12,060\nSo, some of my space is used,\nit's a big enough drive that it's\n\n437\n00:21:12,060 --> 00:21:15,810\nbarely registering on the little size bar,\nit's a tiny little green bar.\n\n438\n00:21:15,810 --> 00:21:17,300\nI don't know if you guys can see that.\n\n439\n00:21:17,300 --> 00:21:21,140\nBut, it's showing that the drive is\nstarting to get some data on there.\n\n440\n00:21:21,140 --> 00:21:24,370\nThat laptop I'm backing up was\na fresh install of OS10, so\n\n441\n00:21:24,370 --> 00:21:26,810\nit's really only about ten gigs in size.\n\n442\n00:21:26,810 --> 00:21:29,580\nAnd so,\nit barely registers on a terabyte drive.\n\n443\n00:21:29,580 --> 00:21:32,540\nBut, it's backed up here and\nI backed up to the executives folder, and\n\n444\n00:21:32,540 --> 00:21:35,130\nnotice even though I backupped\nto the executive folder,\n\n445\n00:21:35,130 --> 00:21:37,750\nthe size went down on\nthe other folder too.\n\n446\n00:21:37,750 --> 00:21:39,220\nThat's because they're on the same volume.\n\n447\n00:21:39,220 --> 00:21:41,700\nThey do still share the same space.\n\n448\n00:21:41,700 --> 00:21:45,490\nI might have a space limit on this one,\nbut they share the same drive.\n\n449\n00:21:45,490 --> 00:21:49,360\nTheir available drive is gonna\nbe reducing at the same rate.\n\n450\n00:21:49,360 --> 00:21:51,500\nNow, I know a back up occurred.\n\n451\n00:21:51,500 --> 00:21:52,970\nOn the client side.\n\n452\n00:21:52,970 --> 00:21:54,090\nOn the server side,\n\n453\n00:21:54,090 --> 00:21:56,570\nthere's a few different ways we\ncan tell the backup occurred.\n\n454\n00:21:56,570 --> 00:21:58,320\nThe easiest way is right\nhere in the server app.\n\n455\n00:21:58,320 --> 00:22:01,220\nI can go to my Backups Tab,\nand right there,\n\n456\n00:22:01,220 --> 00:22:04,130\nI can see that OSX-CLIENT1 was backed up.\n\n457\n00:22:04,130 --> 00:22:07,380\nIt was backed up five minutes ago\nto the executives folder, and\n\n458\n00:22:07,380 --> 00:22:08,660\nit's 10 gigs in size.\n\n459\n00:22:08,660 --> 00:22:09,640\nThe current backup is there.\n\n460\n00:22:10,640 --> 00:22:15,660\nSo now, I know Who backed up,\nwhen they backed up, and\n\n461\n00:22:15,660 --> 00:22:17,300\nhow much space they're eating up.\n\n462\n00:22:17,300 --> 00:22:20,230\nAnd so, if I ever come in, in the morning\nand I say, boy, I wonder if anybody\n\n463\n00:22:20,230 --> 00:22:25,050\nhas gone too long with the backup, I can\ncome in here and sort by last backup.\n\n464\n00:22:25,050 --> 00:22:25,740\nAnd I can look for\n\n465\n00:22:25,740 --> 00:22:28,710\nanybody who's over a week old and those\nare people I can call on the phone and\n\n466\n00:22:28,710 --> 00:22:31,760\nI can say, I noticed that your laptop\nhasn't backed up in over a week.\n\n467\n00:22:31,760 --> 00:22:32,750\nWhat's going on?\n\n468\n00:22:32,750 --> 00:22:37,120\nAnd they can say, I'm on vacation,\nI just haven't been in the office.\n\n469\n00:22:37,120 --> 00:22:40,230\nOr they can say, well,\nmy laptop kind of got stolen and\n\n470\n00:22:40,230 --> 00:22:42,720\nI didn't want to report and\nit's been awhile.\n\n471\n00:22:42,720 --> 00:22:47,470\nSo that's the kind of problem\nthere that we bump into is\n\n472\n00:22:47,470 --> 00:22:51,220\nthat sometimes people do things, like\nlose a laptop and they don't report it.\n\n473\n00:22:51,220 --> 00:22:53,300\nAnd we need some central\nway to be able to see that,\n\n474\n00:22:53,300 --> 00:22:55,880\nand the time machine server\ngives us a great way to do it.\n\n475\n00:22:55,880 --> 00:22:57,620\nWe can see when that backup happened.\n\n476\n00:22:57,620 --> 00:23:00,290\nAnd the backup is stored\nright here on the server.\n\n477\n00:23:00,290 --> 00:23:03,500\nIf I browse in my finder and\nI go to that hard drive.\n\n478\n00:23:03,500 --> 00:23:05,890\nI made that Time Machine folder.\n\n479\n00:23:05,890 --> 00:23:08,380\nAnd there's the executives\nfolder that I made.\n\n480\n00:23:08,380 --> 00:23:14,860\nAnd inside of executives,\nhere is OSX-CLIENT1.sparsebundle.\n\n481\n00:23:14,860 --> 00:23:18,750\nSparsebundle, if you haven't worked\nwith those before, it's a disk image.\n\n482\n00:23:18,750 --> 00:23:23,890\nIt created a virtual hard drive, to store\nthe Time Machine backups for that system.\n\n483\n00:23:23,890 --> 00:23:27,920\nAnd the sparse bundle means\nthat it's not a fixed size.\n\n484\n00:23:27,920 --> 00:23:29,920\nIt's one that dynamically grows.\n\n485\n00:23:29,920 --> 00:23:32,970\nSo, I might have set a 500 gig limit, but\n\n486\n00:23:32,970 --> 00:23:37,010\nthis file is only gonna have as much\nspace as is needed for the back up.\n\n487\n00:23:37,010 --> 00:23:39,750\nThat laptop had about 10 gigs of data,\nand I can see right here,\n\n488\n00:23:39,750 --> 00:23:43,120\nthis backup file is ten gigs in size.\n\n489\n00:23:43,120 --> 00:23:47,390\nNow, if it's encrypted, this is really\nall I get to see, and that's it.\n\n490\n00:23:47,390 --> 00:23:51,062\nIf it's not encrypted though,\nyou can actually open that and\n\n491\n00:23:51,062 --> 00:23:53,827\nbrowse in and\nsee the contents inside of that.\n\n492\n00:23:53,827 --> 00:23:57,053\nSo, I just double-clicked on it, or\nI right-clicked, and it shows open.\n\n493\n00:23:57,053 --> 00:23:59,524\nAnd you'll see it mounted it here,\nas a hard drive.\n\n494\n00:23:59,524 --> 00:24:02,622\nAnd I can browse into it, and\nhere's that Time Machine backup.\n\n495\n00:24:02,622 --> 00:24:05,705\nSo this is the backup of that user's data,\nand we can browse in and\n\n496\n00:24:05,705 --> 00:24:06,610\ngain access to it.\n\n497\n00:24:06,610 --> 00:24:08,470\nNow, that is a good and a bad thing.\n\n498\n00:24:09,480 --> 00:24:11,730\nIt's good, cuz I can quickly\nget the data if I need it.\n\n499\n00:24:11,730 --> 00:24:15,610\nIt's bad, in that if somebody\nelse got to this drive,\n\n500\n00:24:15,610 --> 00:24:17,600\nthey'd access to that entire system.\n\n501\n00:24:17,600 --> 00:24:20,440\nAnd that's why we have to make sure\nthat our servers are secure, and\n\n502\n00:24:20,440 --> 00:24:25,310\nthat we encrypt the backups if we don't\nhave secure control over the server.\n\n503\n00:24:25,310 --> 00:24:28,420\nIf this server is stored in a closet\nin a branch office somewhere, and\n\n504\n00:24:28,420 --> 00:24:31,940\nwe don't necessarily know who has access\nto it, you wanna encrypt the backups.\n\n505\n00:24:31,940 --> 00:24:34,570\nAnd that way they won't even\nbe able to mount this drive,\n\n506\n00:24:34,570 --> 00:24:36,900\nwithout having the encryption key.\n\n507\n00:24:36,900 --> 00:24:38,663\nYou can still mount it\nif you have the key, and\n\n508\n00:24:38,663 --> 00:24:41,743\nthen you can open up browsers inside of\nit, but without the key It's useless.\n\n509\n00:24:44,762 --> 00:24:47,810\nSo once that's done,\nwhat do we do for maintenance?\n\n510\n00:24:47,810 --> 00:24:50,510\nWell, there's not really much\nyou have to do to maintain it.\n\n511\n00:24:50,510 --> 00:24:53,700\nThe key thing is to make sure\nyour users are getting backed up.\n\n512\n00:24:53,700 --> 00:24:56,390\nThey'll only backup when they're\non the same network as the server,\n\n513\n00:24:56,390 --> 00:24:57,370\nand they see you.\n\n514\n00:24:57,370 --> 00:24:59,320\nOtherwise they can't backup to the server.\n\n515\n00:24:59,320 --> 00:25:01,480\nSo, you wanna come in and\ncheck this from time-to-time.\n\n516\n00:25:01,480 --> 00:25:05,380\nSort by latest backup, and just look for\npeople that have gone too long.\n\n517\n00:25:05,380 --> 00:25:08,930\nIf they're on the network,\nyou should see time less than an hour.\n\n518\n00:25:08,930 --> 00:25:11,000\nBecause Time Machine runs every hour.\n\n519\n00:25:11,000 --> 00:25:13,570\nBut, if they travel, if they're out\nof the office, it could be days or\n\n520\n00:25:13,570 --> 00:25:14,630\nit could be weeks.\n\n521\n00:25:14,630 --> 00:25:17,260\nBut the longer that interval is,\n\n522\n00:25:17,260 --> 00:25:21,320\nthe more data you're gonna lose if that\nlaptop gets damaged, the hard drive fails,\n\n523\n00:25:21,320 --> 00:25:24,420\ndevice gets destroyed whatever\nthat's the amount of data you lose.\n\n524\n00:25:24,420 --> 00:25:27,910\nIf I've got a back up two weeks ago,\nwell, if I have a failure today,\n\n525\n00:25:27,910 --> 00:25:29,250\nI just lost two weeks of data.\n\n526\n00:25:29,250 --> 00:25:32,840\nThat's bad so,\nwe can come in and check that.\n\n527\n00:25:32,840 --> 00:25:36,050\nOn the logging side, there's not\nreally much to log for Time Machine.\n\n528\n00:25:36,050 --> 00:25:39,140\nBecause Time Machine,\nisn't truly a service in and of itself.\n\n529\n00:25:39,140 --> 00:25:40,630\nIt's really just a shared folder.\n\n530\n00:25:40,630 --> 00:25:43,700\nIt's a shared folder that is advertised\na little differently than the other ones.\n\n531\n00:25:43,700 --> 00:25:47,480\nSo, if you go up to logs, and\nyou pull up your system logs.\n\n532\n00:25:48,610 --> 00:25:50,850\nA lot of services will look in here,\nand they will have their own entry, but\n\n533\n00:25:50,850 --> 00:25:52,530\nnotice that Time Machine doesn't.\n\n534\n00:25:52,530 --> 00:25:53,860\nThey don't have their own entry.\n\n535\n00:25:53,860 --> 00:25:56,120\nAnd that's because it's\nreally just AFP file access.\n\n536\n00:25:56,120 --> 00:25:59,285\nSo, I can come up here to file sharing and\nI can go to the access.\n\n537\n00:25:59,285 --> 00:26:00,385\nLog or the Error Log.\n\n538\n00:26:00,385 --> 00:26:02,495\nAnd we'll see entries in here.\n\n539\n00:26:02,495 --> 00:26:04,855\nAnd notice all these\n10.211.55.201 connections.\n\n540\n00:26:04,855 --> 00:26:08,675\nThat's the laptop that I just backed up.\n\n541\n00:26:08,675 --> 00:26:13,285\nAnd I can see here it's doing CreateFile,\nand OpenFork commands.\n\n542\n00:26:13,285 --> 00:26:15,975\nCreateFile means it copied\nsomething up to the server.\n\n543\n00:26:15,975 --> 00:26:19,405\nAnd CreateFork, that means it\nturned on the File Versioning.\n\n544\n00:26:19,405 --> 00:26:22,185\nTime Machine uses file versioning\nto track changes to the file,\n\n545\n00:26:22,185 --> 00:26:23,680\nto allow us to restore back.\n\n546\n00:26:23,680 --> 00:26:27,280\nThat's why the Time Machine hard drives\nhave to be formatted with that MAC OS\n\n547\n00:26:27,280 --> 00:26:31,190\nextended journal, that's what allows us to\ndo forking, which Time Machine requires.\n\n548\n00:26:31,190 --> 00:26:34,010\nSo, I can see that's all going on,\nand these aren't errors,\n\n549\n00:26:34,010 --> 00:26:37,210\nthese are logs, it's just letting me\nknow that it was doing a backup, and\n\n550\n00:26:37,210 --> 00:26:38,990\nI should see a ton of entries in here,\n\n551\n00:26:38,990 --> 00:26:43,000\nwhich I'm as I scroll back, because\nit backed up that whole hard drive.\n\n552\n00:26:43,000 --> 00:26:46,940\nBut in the future, when the backup runs,\nit's only gonna backup the changes.\n\n553\n00:26:46,940 --> 00:26:51,130\nSo, it'll be a much smaller amount of data\nthat's being written to the system and\n\n554\n00:26:51,130 --> 00:26:52,990\nit'll happen a lot more quickly.\n\n555\n00:26:52,990 --> 00:26:55,580\nThe backup that,\nI ran over here took about ten minutes.\n\n556\n00:26:55,580 --> 00:26:58,350\nThat was because I had to\nbackup the whole hard drive.\n\n557\n00:26:58,350 --> 00:27:02,090\nBut if I tell it to backup now,\nit's gonna run a backup.\n\n558\n00:27:03,380 --> 00:27:05,740\nAnd if I jump in here,\nI can see the backup preferences.\n\n559\n00:27:05,740 --> 00:27:08,660\nAnd instead of having to back\nup the whole 10 gig hard drive,\n\n560\n00:27:08,660 --> 00:27:11,070\nit only has to back up the changes.\n\n561\n00:27:11,070 --> 00:27:15,420\nAnd I've been up here talking this whole\ntime, so there haven't been any changes.\n\n562\n00:27:15,420 --> 00:27:20,110\nSo, I just ran a back up, and see how\nit already says, backup at 10:33 AM.\n\n563\n00:27:20,110 --> 00:27:21,890\nIt just did that backup local.\n\n564\n00:27:21,890 --> 00:27:25,890\nAnd it's gonna back up to the network\nnext, it will be very quick and fast.\n\n565\n00:27:25,890 --> 00:27:29,730\nSo, you'll just get that rapid entry onto\nthe server, the changes are logged in and\n\n566\n00:27:29,730 --> 00:27:31,180\nthat's the end of it.\n\n567\n00:27:31,180 --> 00:27:35,450\nThen again, the cool part is these backups\nare stored right here, on the server now.\n\n568\n00:27:35,450 --> 00:27:38,170\nIf that laptop gets completely lost,\nit's gone,\n\n569\n00:27:38,170 --> 00:27:41,260\nand they lost their backup\nhard drive with it.\n\n570\n00:27:41,260 --> 00:27:43,220\nI've got the backup right\nhere on the server.\n\n571\n00:27:43,220 --> 00:27:45,280\nWe can come and retrieve that and\nwe can use that to restore.\n\n572\n00:27:46,400 --> 00:27:48,610\nWhen it comes time to restore well,\n\n573\n00:27:48,610 --> 00:27:51,010\nyou can actually restore\nfrom the network location.\n\n574\n00:27:51,010 --> 00:27:52,330\nYou get a brand new MAC.\n\n575\n00:27:52,330 --> 00:27:54,130\nI'm assuming you lost yours.\n\n576\n00:27:54,130 --> 00:27:57,160\nIt might be a replaced hard drive, or\nwhatever, but you boot your MAC up and\n\n577\n00:27:57,160 --> 00:27:58,540\nyou boot it into recovery.\n\n578\n00:27:58,540 --> 00:28:00,710\nAnd when you go into recovery, or\nyou can do it from recovery or\n\n579\n00:28:00,710 --> 00:28:05,160\nyou can do it from the installation media,\nif you've got a USB install media.\n\n580\n00:28:05,160 --> 00:28:08,290\nYou might have to do that if you\nhave a blank hard drive or whatever.\n\n581\n00:28:08,290 --> 00:28:10,810\nBut once you get into recovery\nyou can choose to restore from\n\n582\n00:28:10,810 --> 00:28:11,530\na Time Machine backup.\n\n583\n00:28:11,530 --> 00:28:14,430\nAnd when you go to restore\nfrom the Time Machine backup,\n\n584\n00:28:14,430 --> 00:28:17,790\nyou can pick from a local drive if\nyou still have it or the server.\n\n585\n00:28:17,790 --> 00:28:20,390\nIt will see the server and\nyou can restore the backup,\n\n586\n00:28:20,390 --> 00:28:23,150\nright from there to an all new machine and\nyour back up in business.\n\n587\n00:28:23,150 --> 00:28:25,780\nIt's a great system and\nit gives those centralized backups.\n\n588\n00:28:28,080 --> 00:28:33,300\nWell that's about it, the only other thing\nthat I even have to mention here is that.\n\n589\n00:28:33,300 --> 00:28:37,510\nIf somebody's consuming too much space or\nyou wanna change the restrictions on\n\n590\n00:28:37,510 --> 00:28:40,640\npeople, you might wanna go and\npurge back ups out of the system.\n\n591\n00:28:40,640 --> 00:28:43,920\nAnd you can, when you see that list\nof backups here, you can choose one.\n\n592\n00:28:43,920 --> 00:28:46,710\nAnd you got the little minus button\ndown there, so you can delete them out.\n\n593\n00:28:46,710 --> 00:28:48,520\nYou can remove the backup from the system.\n\n594\n00:28:48,520 --> 00:28:52,560\nAnd you've got your pencil icon,\nwhere you can normally pencils to edit.\n\n595\n00:28:52,560 --> 00:28:56,160\nHere it just shows you the details,\nso I can see information about it.\n\n596\n00:28:56,160 --> 00:28:59,490\nBut, we can go in here and hit that Minus,\nand it will let us delete that backup.\n\n597\n00:28:59,490 --> 00:29:01,770\nAnd it deletes it from\nthe server freeing up space.\n\n598\n00:29:01,770 --> 00:29:02,520\nThe backup's gone.\n\n599\n00:29:02,520 --> 00:29:05,530\nYou can't recover it and that's it.\n\n600\n00:29:05,530 --> 00:29:09,450\nNow, that workstation is still\nset up to backup to the server.\n\n601\n00:29:09,450 --> 00:29:11,950\nSo, sometime in the next hour\nit's going to run a back up and\n\n602\n00:29:11,950 --> 00:29:13,480\ngo put itself back again.\n\n603\n00:29:13,480 --> 00:29:15,830\nSo, if I really want to stop that\nI need to go to the client and\n\n604\n00:29:15,830 --> 00:29:18,980\nremove the back up there too,\nto say stop backing up to the server.\n\n605\n00:29:18,980 --> 00:29:21,640\nAnd then that's gone, but,\n\n606\n00:29:21,640 --> 00:29:24,490\nthat's basically the Time Machine\nservice in a nutshell.\n\n607\n00:29:24,490 --> 00:29:27,390\nIt gives you that centralized back up,\nright there in the server.\n\n608\n00:29:27,390 --> 00:29:28,770\nGives us centralized monitoring.\n\n609\n00:29:28,770 --> 00:29:29,740\nIt's a great system to have,\n\n610\n00:29:29,740 --> 00:29:33,400\nespecially if you're trying to back\nup a large quantity of devices.\n\n611\n00:29:33,400 --> 00:29:38,150\nNow, in extremely large environments where\nyou've got tens of thousands of machines,\n\n612\n00:29:38,150 --> 00:29:41,430\nit's not realistic to maintain\nbackups of every single machine.\n\n613\n00:29:41,430 --> 00:29:46,490\nAnd in that case you'll probably wanna\nuse something like a net boot or\n\n614\n00:29:46,490 --> 00:29:48,000\nnet install solution.\n\n615\n00:29:48,000 --> 00:29:50,850\nAnd that's where you have an image of\na machine that's like a base image,\n\n616\n00:29:50,850 --> 00:29:55,340\nand if somebody loses their computer\nyou can just redeploy that image.\n\n617\n00:29:55,340 --> 00:29:57,500\nOne image for all of your computers.\n\n618\n00:29:57,500 --> 00:30:00,560\nSo, if you're interested in learning about\nthe solution like that, make sure to catch\n\n619\n00:30:00,560 --> 00:30:04,520\nour net installation episode, it will\nbe called rthe Net Boot Episodes so\n\n620\n00:30:04,520 --> 00:30:06,570\nyou can jump over and\ncheck those out and see it.\n\n621\n00:30:06,570 --> 00:30:09,750\nFor normal system backups\nTime Machine can't be beat.\n\n622\n00:30:09,750 --> 00:30:13,520\nSuper easy, works really well, and\nruns in the background invisible to you,\n\n623\n00:30:13,520 --> 00:30:14,250\nit's a great system.\n\n624\n00:30:15,890 --> 00:30:17,940\nWell, that's all I've got for\nthis episode, so\n\n625\n00:30:17,940 --> 00:30:19,720\nthis is a great spot to wrap it up.\n\n626\n00:30:19,720 --> 00:30:24,160\nLet me remind you guys, if you have any\nquestions on this feel free to ask.\n\n627\n00:30:24,160 --> 00:30:26,300\nLive during the show you\ncan go to itpro.tv/live,\n\n628\n00:30:26,300 --> 00:30:29,160\nand you'll see the chatroom\nbeneath the video.\n\n629\n00:30:29,160 --> 00:30:31,830\nYou post your questions there,\nwe monitor and answer during the show.\n\n630\n00:30:31,830 --> 00:30:34,860\nYou have questions after the show,\nuse our Q&A forums.\n\n631\n00:30:34,860 --> 00:30:39,160\nAt the top of every page on the itpro.tv\nsite you'll see a link that says Q&A.\n\n632\n00:30:39,160 --> 00:30:39,960\nClick on it.\n\n633\n00:30:39,960 --> 00:30:40,920\nIt'll take you to the forums.\n\n634\n00:30:40,920 --> 00:30:42,510\nYou can post your questions there.\n\n635\n00:30:42,510 --> 00:30:44,480\nWe monitor answer after the show.\n\n636\n00:30:44,480 --> 00:30:46,540\nWe're going to make sure you guys\nget the answers you need, so\n\n637\n00:30:46,540 --> 00:30:48,100\nwhen you go to take that exam.\n\n638\n00:30:48,100 --> 00:30:50,440\nYou're going in there with answers\nin your mind and not with questions.\n\n639\n00:30:50,440 --> 00:30:52,635\nRight, that's how you,\nthat's how you pass?\n\n640\n00:30:52,635 --> 00:30:54,740\n[LAUGH] So,\ntake advantage of those resources.\n\n641\n00:30:54,740 --> 00:30:56,094\nThey are there for you.\n\n642\n00:30:56,094 --> 00:30:58,424\nWell, I hope you guys,\nenjoyed today's episode.\n\n643\n00:30:58,424 --> 00:31:02,534\nSigning off for ITProTV, I'm Don Pezet,\nand I'll see you next time.\n\n644\n00:31:02,534 --> 00:31:12,534\n[MUSIC]\n\n",
          "vimeoId": "125938607"
        },
        {
          "description": null,
          "length": "1795",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-6-2-dhcp-042115-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-6-2-dhcp-042115-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-6-2-dhcp-042115-1-sm.jpg",
          "title": "DHCP",
          "transcript": "1\n00:00:00,289 --> 00:00:07,742\n[MUSIC]\n\n2\n00:00:07,742 --> 00:00:15,942\nGood morning,\n\n3\n00:00:15,942 --> 00:00:25,403\ngood afternoon,\n\n4\n00:00:25,403 --> 00:00:29,818\nand good\n\n5\n00:00:29,818 --> 00:00:35,501\nevening.\n\n6\n00:00:35,501 --> 00:00:38,250\nWelcome back to another\nepisode of ITProTV.\n\n7\n00:00:38,250 --> 00:00:40,200\nI'm your host Don Pezet,\n\n8\n00:00:40,200 --> 00:00:43,930\nback again with another episode of\nApple Certified Technical Coordinator.\n\n9\n00:00:43,930 --> 00:00:47,460\nIn this episode, we're gonna be\ntaking a look at the DHCP or\n\n10\n00:00:47,460 --> 00:00:50,265\ndynamic host configuration\nprotocol [LAUGH] server.\n\n11\n00:00:50,265 --> 00:00:52,565\nIt's a part of server apps,\nbut quite a mouth full.\n\n12\n00:00:52,565 --> 00:00:55,425\nWell, it's actually [LAUGH] not\nthat bad of a technology to use.\n\n13\n00:00:55,425 --> 00:00:58,695\nIt's one that almost everybody uses,\nso let's start with some real basics,\n\n14\n00:00:58,695 --> 00:01:00,595\njust with what DHCP is, and\n\n15\n00:01:00,595 --> 00:01:03,987\nthen we'll get into how we can set\nthat up as part of the server app.\n\n16\n00:01:03,987 --> 00:01:05,687\nWell, most of our networks today,\n\n17\n00:01:05,687 --> 00:01:09,677\ncenter around a protocol called IP,\nor Internet Protocol.\n\n18\n00:01:09,677 --> 00:01:14,037\nIP version 4 is the most common networking\nprotocol used in the world, and\n\n19\n00:01:14,037 --> 00:01:17,193\nit's the primary protocol to the Internet.\n\n20\n00:01:17,193 --> 00:01:20,613\nIn order for\na computer to talk on an IP based network,\n\n21\n00:01:20,613 --> 00:01:22,443\nit has to have an IP address.\n\n22\n00:01:22,443 --> 00:01:25,853\nAn IP address is their numbers,\nyou guys have seen them before I'm sure,\n\n23\n00:01:25,853 --> 00:01:29,171\nthings like 192.168.0.1, or 10.1.230.50.\n\n24\n00:01:29,171 --> 00:01:31,901\nThose are IP addresses, and\n\n25\n00:01:31,901 --> 00:01:36,361\nthey help computers to recognize\neach other on the network, and\n\n26\n00:01:36,361 --> 00:01:40,001\nto figure out whether computers are on\ndifferent networks and how to get to them.\n\n27\n00:01:40,001 --> 00:01:41,651\nIt's kind of a key piece.\n\n28\n00:01:41,651 --> 00:01:45,001\nWhen you browse across the Internet,\nyour computer has to know how to go,\n\n29\n00:01:45,001 --> 00:01:46,471\nhow to cross that network,\n\n30\n00:01:46,471 --> 00:01:50,291\nhow to get from point a to point b,\nand IP addresses are what direct that.\n\n31\n00:01:51,320 --> 00:01:55,770\nWell, if you've got an IP based\nnetwork you have to make a choice.\n\n32\n00:01:55,770 --> 00:02:00,820\nOne, you could go to every computer in\nyour network, and manually give them an IP\n\n33\n00:02:00,820 --> 00:02:03,310\naddress, you could type in\nthe ip address on each machine.\n\n34\n00:02:04,755 --> 00:02:09,004\nOr two, you could have them automatically,\n[SOUND] get an IP address.\n\n35\n00:02:09,004 --> 00:02:10,800\nSorry, I smashed my hand on the table.\n\n36\n00:02:10,800 --> 00:02:12,860\nHe gets [LAUGH] an automatic address.\n\n37\n00:02:12,860 --> 00:02:16,390\nNow, an automatic address\nhas some pros and cons,\n\n38\n00:02:16,390 --> 00:02:17,940\nand a manual address has pros and cons.\n\n39\n00:02:17,940 --> 00:02:19,930\nSo, let's talk about each of those.\n\n40\n00:02:19,930 --> 00:02:24,040\nOn the manual addressing side, if I'm\nmanually typing an IP address on each\n\n41\n00:02:24,040 --> 00:02:27,870\ncomputer, first off,\nI have to know what address to put in.\n\n42\n00:02:27,870 --> 00:02:31,895\nSo, I'm gonna need to keep a spreadsheet,\nor a notebook, or something that says,\n\n43\n00:02:31,895 --> 00:02:34,841\nI gave this IP to computer one,\nI gave this IP to computer two,\n\n44\n00:02:34,841 --> 00:02:36,860\nthis IP computer four, and so on.\n\n45\n00:02:36,860 --> 00:02:38,980\nSo I remember, whose got what IPs, and\n\n46\n00:02:38,980 --> 00:02:43,180\nso that I don't issue the same\nIP to more than one computer.\n\n47\n00:02:43,180 --> 00:02:45,350\nYou can't two computers\nwith the same IP address,\n\n48\n00:02:45,350 --> 00:02:48,910\nit creates a conflict, and they wont work,\nso you've gotta keep track of that.\n\n49\n00:02:50,130 --> 00:02:54,000\nThe other thing is, we have to make\nsure we don't make type errors.\n\n50\n00:02:54,000 --> 00:02:56,360\nAs you're typing in an address,\nas a human being,\n\n51\n00:02:56,360 --> 00:02:59,280\nit's very easy to type in the wrong data,\nand now you've got a problem.\n\n52\n00:03:00,970 --> 00:03:04,735\nThe other issue with manual addressing\nis that when you type in an IP address,\n\n53\n00:03:04,735 --> 00:03:08,555\nyou don't normally just type in an IP,\nyou also type in an address for\n\n54\n00:03:08,555 --> 00:03:12,625\na router to use, as well as DNS\nservers to use for name look-ups.\n\n55\n00:03:12,625 --> 00:03:14,705\nWhat if you decide one day\nyou wanna change that?\n\n56\n00:03:14,705 --> 00:03:18,625\nMaybe your DNS servers are getting kinda\nold, and you decide it's time to replace\n\n57\n00:03:18,625 --> 00:03:22,000\nthem, and you got 1,000\ncomputers all with manual IPs.\n\n58\n00:03:22,000 --> 00:03:24,680\nNow, you've got to go to all\nthousand of those computers, and\n\n59\n00:03:24,680 --> 00:03:28,670\nchange their DNS values, or router or\nwhatever it is you're trying to modify.\n\n60\n00:03:28,670 --> 00:03:32,940\nIt's kind of a burden, so\nthose are negatives with a manual setting.\n\n61\n00:03:32,940 --> 00:03:35,705\nThe positive side on manual your\nsetting is, you'll type in the address.\n\n62\n00:03:35,705 --> 00:03:39,905\nNow, that computer has it, it will have\nthat address, and you know what it i, but\n\n63\n00:03:39,905 --> 00:03:41,445\nthere's just so many negatives to it.\n\n64\n00:03:41,445 --> 00:03:45,276\nWith the record keeping, and\nthe administrative effort,\n\n65\n00:03:45,276 --> 00:03:48,425\nof having to go in and\nupdate all those machines.\n\n66\n00:03:48,425 --> 00:03:52,846\nSo, DHCP, the dynamic host configuration\nprotocol, is designed to fix that,\n\n67\n00:03:52,846 --> 00:03:56,941\nand what it does is it says, don't\nworry about configuring your clients,\n\n68\n00:03:56,941 --> 00:03:59,490\nleave all of your clients\nset to go automatic.\n\n69\n00:03:59,490 --> 00:04:02,454\nAnd when those clients\nstart up on the network,\n\n70\n00:04:02,454 --> 00:04:06,541\nthey'll reach out to the network,\nthey'll send out a message.\n\n71\n00:04:06,541 --> 00:04:08,252\nSo they'll say, hey, I'm a new computer, I\nneed an IP address, can somebody help me?\n\n72\n00:04:08,252 --> 00:04:12,256\nAnd a DHCP server will respond,\nand say, hey, I'm a DHCP server,\n\n73\n00:04:12,256 --> 00:04:16,170\nhere's an address you can use,\nif you would like it.\n\n74\n00:04:16,170 --> 00:04:19,640\nAnd the client can take that address and\nsay, all right, sweet, I got an address.\n\n75\n00:04:19,640 --> 00:04:21,230\nAnd now it can work on the network.\n\n76\n00:04:21,230 --> 00:04:22,840\nIt automatically configures itself.\n\n77\n00:04:23,920 --> 00:04:26,700\nOn a positive side,\nwe don't have to do record keeping.\n\n78\n00:04:26,700 --> 00:04:31,200\nThe DHCP server does it for us, it keeps\ntrack of what addresses are issued out and\n\n79\n00:04:31,200 --> 00:04:32,620\nwhat ones aren't.\n\n80\n00:04:32,620 --> 00:04:34,890\nAnd if we wanna change something,\nlike change our router,\n\n81\n00:04:34,890 --> 00:04:39,450\nchange DNS, well, we can go and\nmodify it on the DHCP server.\n\n82\n00:04:39,450 --> 00:04:41,960\nAnd the next time a client connects,\nthey'll get the new router, or\n\n83\n00:04:41,960 --> 00:04:45,210\nthey'll get the new DNS setting\nautomatically from the server.\n\n84\n00:04:45,210 --> 00:04:50,450\nWe never have to go to our clients to set\nsomething up, that's really convenient.\n\n85\n00:04:50,450 --> 00:04:54,500\nOn a negative thought,\nwhat happens if our DHCP server fails?\n\n86\n00:04:54,500 --> 00:04:55,110\nIf if goes offline?\n\n87\n00:04:56,260 --> 00:04:58,860\nWell, now clients can't get addresses,\nand they can't function.\n\n88\n00:04:58,860 --> 00:05:03,305\nSo You're trading off a lot of\nadministrative effort and other work in\n\n89\n00:05:03,305 --> 00:05:07,676\nexchange for having centralized\nIP management that's kinda nice,\n\n90\n00:05:07,676 --> 00:05:11,840\nbut you do have some risk in that\nyou get a single point of failure.\n\n91\n00:05:11,840 --> 00:05:14,240\nWell, there's ways to make\nDHCP servers redundant.\n\n92\n00:05:14,240 --> 00:05:15,980\nWe'll talk about that later, but\n\n93\n00:05:15,980 --> 00:05:18,860\nthe reward is usually worth more\nthan the risk, in this case.\n\n94\n00:05:18,860 --> 00:05:23,750\nMost organizations,\neven home networks, use DHCP servers.\n\n95\n00:05:23,750 --> 00:05:24,970\nYou might not know about it.\n\n96\n00:05:24,970 --> 00:05:26,540\nIt's build into your router.\n\n97\n00:05:26,540 --> 00:05:28,030\nA lot of people buy wireless access point,\n\n98\n00:05:28,030 --> 00:05:32,010\nlike an Apple AirPort, and\nit can be a DHCP server.\n\n99\n00:05:32,010 --> 00:05:34,730\nIt can issue addresses\nto all of your clients.\n\n100\n00:05:34,730 --> 00:05:37,990\nWell, an OS 10 server can also.\n\n101\n00:05:37,990 --> 00:05:42,820\nAs part of the OS 10, or\nOS X Server App, you have a DHCP server.\n\n102\n00:05:42,820 --> 00:05:45,580\nYou can make where your server\nis what's issuing out those\n\n103\n00:05:45,580 --> 00:05:46,440\naddresses to your clients.\n\n104\n00:05:46,440 --> 00:05:48,403\nIt's pretty easy to get set up.\n\n105\n00:05:48,403 --> 00:05:50,222\nSo, let me show you how that works.\n\n106\n00:05:50,222 --> 00:05:54,800\nI'm gonna start not on the server,\nbut on a client.\n\n107\n00:05:54,800 --> 00:05:58,140\nSo, here's a client, I've got\na client that's up and running, and\n\n108\n00:05:58,140 --> 00:06:02,270\nif I go into my\nSystem Preferences > Network,\n\n109\n00:06:03,780 --> 00:06:07,350\nI can see right here that my IP4\naddress right now is manual.\n\n110\n00:06:07,350 --> 00:06:12,321\nI've manually assigned it this address\nof 10.211.55.201, I typed that in,\n\n111\n00:06:12,321 --> 00:06:16,800\nI could have made a typo, that IP could\nhave already been used somewhere else.\n\n112\n00:06:16,800 --> 00:06:19,790\nBut I know what address it is,\nI typed it in, and it's always set.\n\n113\n00:06:21,180 --> 00:06:24,960\nWe set a Subnet Mask, which tells\nus where the network id ends, and\n\n114\n00:06:24,960 --> 00:06:26,570\nwhere the host id starts.\n\n115\n00:06:26,570 --> 00:06:29,326\nSo, my network is 10.211.55, and\n\n116\n00:06:29,326 --> 00:06:34,120\nmy host is .201, right, that's\nseparation that a Subnet Mask creates.\n\n117\n00:06:34,120 --> 00:06:37,009\nAnd then,\nthe router if I wanna get to the Internet,\n\n118\n00:06:37,009 --> 00:06:41,162\nI need to go to 10.201.55.1,\nthat's the address I wanna use.\n\n119\n00:06:41,162 --> 00:06:46,160\nAnd if I go under Advanced,\nI'm manually typed in DNS settings.\n\n120\n00:06:46,160 --> 00:06:49,805\nIf I go to the DNS tab,\nI typed in what server to use,\n\n121\n00:06:49,805 --> 00:06:54,790\n10.201.55.200, and\nI typed in a search domain.\n\n122\n00:06:54,790 --> 00:06:56,490\nAnd the search domain just means,\n\n123\n00:06:56,490 --> 00:06:59,820\nif I try to do something like\naccess a server with a single name.\n\n124\n00:06:59,820 --> 00:07:02,610\nSo, I try and go to OS X-server1,\nand that's it.\n\n125\n00:07:02,610 --> 00:07:07,702\nIt will automatically add this to the end,\nand it'll say, alright, I wanna go\n\n126\n00:07:07,702 --> 00:07:13,570\nto OSX-server1.lab.ITproductTV, so\nnow it knows the full name of that system.\n\n127\n00:07:13,570 --> 00:07:17,850\nAnd you can add in more than one Search\nDomain if you wanted, that one is my open\n\n128\n00:07:17,850 --> 00:07:22,510\ndirectory domain, so that's why I put that\none in there, but I did all this by hand.\n\n129\n00:07:22,510 --> 00:07:24,220\nI put all this information in here.\n\n130\n00:07:25,950 --> 00:07:28,600\nI could have,\ninstead of manually putting this in here.\n\n131\n00:07:28,600 --> 00:07:32,040\nIf I go in here and remove this stuff,\nso I'm just going to go through and\n\n132\n00:07:32,040 --> 00:07:32,930\nget all those out of there.\n\n133\n00:07:35,370 --> 00:07:41,530\nAnd then back here, on configure IPV4,\nI could have switched to Using DHCP.\n\n134\n00:07:41,530 --> 00:07:43,580\nAnd that's telling it to go automatic.\n\n135\n00:07:43,580 --> 00:07:46,665\nNow, when the computer connects,\nit's gonna reach out to the network,\n\n136\n00:07:46,665 --> 00:07:50,245\nand just say, hey, is there somebody out\nthere that can give me an address, please,\n\n137\n00:07:50,245 --> 00:07:51,720\nI can't talk without an address.\n\n138\n00:07:51,720 --> 00:07:55,909\nAnd a DHCP server on the network\nwill give us those values.\n\n139\n00:07:55,909 --> 00:07:58,079\nWell, I don't have a DHCP\nserver on this network,\n\n140\n00:07:58,079 --> 00:08:00,808\nthat's kind of why I put manual\nones on there it the first place.\n\n141\n00:08:00,808 --> 00:08:04,894\nSo, it's gonna sit here, and\nafter a while, it's gonna give up.\n\n142\n00:08:04,894 --> 00:08:09,734\nAnd you can always recognize when it's\ngiven up because an address will show up,\n\n143\n00:08:09,734 --> 00:08:11,890\nbut it's not complete.\n\n144\n00:08:11,890 --> 00:08:13,150\nNotice how I have no router?\n\n145\n00:08:13,150 --> 00:08:14,830\nI have no DNS servers?\n\n146\n00:08:14,830 --> 00:08:18,830\nI don't have any other information,\nI just have an IP and\n\n147\n00:08:18,830 --> 00:08:23,160\na subnet mask, and\nthe IP starts with 169.254.\n\n148\n00:08:23,160 --> 00:08:27,180\nIf you ever see 169.254 at\nthe beginning of an address,\n\n149\n00:08:27,180 --> 00:08:29,920\nwhat you have is what's\ncalled an APIPA address.\n\n150\n00:08:31,080 --> 00:08:38,080\nAPIPA is the Automatic Private IP\nAddressing address, A-P-I-P-A.\n\n151\n00:08:38,080 --> 00:08:41,330\nAnd it just means the machine\ncouldn't find a server, and\n\n152\n00:08:41,330 --> 00:08:43,140\nso it made up its own address.\n\n153\n00:08:43,140 --> 00:08:48,410\nIt made one up that started with 169.254\nand ended with two random numbers.\n\n154\n00:08:48,410 --> 00:08:49,412\nMine picked 205.19.\n\n155\n00:08:49,412 --> 00:08:52,000\nYours might pick something\ncompletely different, but\n\n156\n00:08:52,000 --> 00:08:54,070\nit'll always start with 169.254.\n\n157\n00:08:54,070 --> 00:08:55,800\nAnd the idea is,\n\n158\n00:08:55,800 --> 00:08:59,600\nif other computers all do the same thing,\nthey'll at least be on the same network.\n\n159\n00:08:59,600 --> 00:09:00,960\nThey can all see each other.\n\n160\n00:09:00,960 --> 00:09:02,360\nBut they wont be able\nto get to the internet.\n\n161\n00:09:02,360 --> 00:09:04,070\nIt's not gonna function.\n\n162\n00:09:04,070 --> 00:09:07,300\nSo when you're troubleshooting DHCP,\nthis is something to look out for.\n\n163\n00:09:07,300 --> 00:09:09,360\nIf you're seeing 169.254\naddresses on your clients,\n\n164\n00:09:09,360 --> 00:09:13,010\nthat means they're not\nfinding the DHCP server.\n\n165\n00:09:13,010 --> 00:09:16,282\nMaybe the DHCP server's off,\nmaybe it's not configured properly,\n\n166\n00:09:16,282 --> 00:09:18,760\nmaybe it's on a different network.\n\n167\n00:09:18,760 --> 00:09:20,700\nDHCP uses broadcasts.\n\n168\n00:09:20,700 --> 00:09:22,448\nWe send a broadcasts\nmessage out to clients,\n\n169\n00:09:22,448 --> 00:09:25,890\nsends a message out the world saying,\nhey somebody give me an address.\n\n170\n00:09:25,890 --> 00:09:28,958\nWell, routers don't forward\nthose broadcasters.\n\n171\n00:09:28,958 --> 00:09:33,160\nSo the DHCP server needs to be on\nthe same network as their client.\n\n172\n00:09:33,160 --> 00:09:36,510\nIf it's not, if the DHCP server\nis on a separate network,\n\n173\n00:09:36,510 --> 00:09:40,770\nthe router won't forward the broadcast and\nthe DHCP server will never hear it.\n\n174\n00:09:40,770 --> 00:09:44,180\nIt will never see that message and\nit won't know to respond.\n\n175\n00:09:44,180 --> 00:09:47,473\nNow there are technologies out there that\nfix that, you're not going to see them\n\n176\n00:09:47,473 --> 00:09:50,090\non the exam, but if you're dealing\nwith this in real life land,\n\n177\n00:09:50,090 --> 00:09:52,430\nyou can use things like there's\ndifferent names for it.\n\n178\n00:09:52,430 --> 00:09:57,044\nSome people call it a DHCP proxy,\nother people call it an IP helper address,\n\n179\n00:09:57,044 --> 00:10:00,880\nsome people call it a DHCP relay agent,\nthat's the real name.\n\n180\n00:10:00,880 --> 00:10:06,193\nAnd what a relay agent does is it listens\non one network for those DHCP request, and\n\n181\n00:10:06,193 --> 00:10:11,830\nthen it forwards them to another network\nwhere the server is to get a response.\n\n182\n00:10:11,830 --> 00:10:15,850\nSo you can have one DHCP server\nthat handles addresses for\n\n183\n00:10:15,850 --> 00:10:17,520\nmore than one subnet.\n\n184\n00:10:17,520 --> 00:10:18,320\nThat's kinda nice,\n\n185\n00:10:18,320 --> 00:10:21,570\nif you have a bunch of different networks\nyou can consolidate that into one.\n\n186\n00:10:21,570 --> 00:10:24,059\nWon't show up on the exam but in real\nlife land you might bump into that.\n\n187\n00:10:25,320 --> 00:10:28,040\nThe relay agents, or proxies,\nthey're normally your routers.\n\n188\n00:10:28,040 --> 00:10:29,450\nAnd that's why it's not on the exam.\n\n189\n00:10:29,450 --> 00:10:33,964\nYou'd normally go to your Cisco router, or\nThree Com, or Linksys or whatever it is\n\n190\n00:10:33,964 --> 00:10:38,040\nthat you're using and on there you'd\nspecify where that DHCP server was.\n\n191\n00:10:40,660 --> 00:10:42,410\nBut I wanna have DHCP server.\n\n192\n00:10:42,410 --> 00:10:45,170\nI want this client to be able to\nautomatically get an address and\n\n193\n00:10:45,170 --> 00:10:47,260\nnot have to make one up like this.\n\n194\n00:10:47,260 --> 00:10:48,470\nSo that's where my server comes in.\n\n195\n00:10:48,470 --> 00:10:51,350\nI'm gonna jump back over to my server.\n\n196\n00:10:51,350 --> 00:10:55,810\nAnd if I look, the DHCP server is\nnot in the standard service list,\n\n197\n00:10:55,810 --> 00:10:57,750\nI have to go down under advanced.\n\n198\n00:10:57,750 --> 00:10:59,370\nAnd under advanced I'll find DHCP.\n\n199\n00:10:59,370 --> 00:11:02,800\nNow if this is a service\nthat almost everybody uses,\n\n200\n00:11:02,800 --> 00:11:05,330\nwhy would Apple tuck it away like that?\n\n201\n00:11:05,330 --> 00:11:08,660\nWell the reason is,\neverybody uses DHCP, but\n\n202\n00:11:08,660 --> 00:11:11,330\nthey typically use their\nrouter as the DHCP server.\n\n203\n00:11:11,330 --> 00:11:13,960\nMost organizations use their router,\nall right?\n\n204\n00:11:13,960 --> 00:11:16,500\nBut if we wanna use our server we can,\nwe just have to turn it on.\n\n205\n00:11:16,500 --> 00:11:19,360\nAnd so that's why it's tucked\naway down here, all right?\n\n206\n00:11:19,360 --> 00:11:22,000\nNow if I take a look at my DHCP server,\n\n207\n00:11:22,000 --> 00:11:24,100\nthere's not a whole lot\nof options in here.\n\n208\n00:11:24,100 --> 00:11:28,580\nI can turn it on and off, and\nI can set up what are called my networks.\n\n209\n00:11:28,580 --> 00:11:30,840\nA network is what's really\ncalled a DHCP pool.\n\n210\n00:11:30,840 --> 00:11:33,370\nIt's a collection of addresses\nthat I'm ready to hand out.\n\n211\n00:11:33,370 --> 00:11:38,700\nAnd you'll see on mine, it's already got\na pool here for this 10.10.1 network.\n\n212\n00:11:38,700 --> 00:11:41,690\nWell, I'm not on the 10.10.1 network.\n\n213\n00:11:41,690 --> 00:11:43,455\nI'm on the 10.211.55 network.\n\n214\n00:11:43,455 --> 00:11:46,470\nSo this doesn't match what I need.\n\n215\n00:11:46,470 --> 00:11:48,320\nI'm just gonna delete that out of there.\n\n216\n00:11:49,620 --> 00:11:51,060\nSo I'll delete that one.\n\n217\n00:11:51,060 --> 00:11:52,810\nAnd there we go, now I've got no networks.\n\n218\n00:11:52,810 --> 00:11:55,950\nWhen you first configure a DHCP server\nyou'll likely see this screen right\n\n219\n00:11:55,950 --> 00:11:57,740\nhere, add networks.\n\n220\n00:11:57,740 --> 00:12:01,070\nAnd we're adding pools of addresses\nthat can be available for our clients.\n\n221\n00:12:02,430 --> 00:12:04,970\nSo I'll hit the plus sign down here at\nthe bottom to create my first pool,\n\n222\n00:12:04,970 --> 00:12:06,550\nand I'll give it a name.\n\n223\n00:12:06,550 --> 00:12:10,080\nI'll call this one ITProTV studio.\n\n224\n00:12:10,080 --> 00:12:11,540\nSo this is the ITProTV studio.\n\n225\n00:12:11,540 --> 00:12:13,910\nI'm gonna give out addresses to\nmachines that are right here\n\n226\n00:12:13,910 --> 00:12:14,510\nin the network with me.\n\n227\n00:12:15,710 --> 00:12:17,520\nI can then set a lease duration.\n\n228\n00:12:17,520 --> 00:12:18,340\nNow this is important.\n\n229\n00:12:19,550 --> 00:12:23,540\nWhen somebody gets an address\nfrom the server, what if\n\n230\n00:12:23,540 --> 00:12:29,070\nthey have a machine that they're only\ngonna be on my network for a little while?\n\n231\n00:12:29,070 --> 00:12:31,770\nThey come into the network, they get\nan address, maybe they're here for\n\n232\n00:12:31,770 --> 00:12:33,230\n45 minutes, and then they go home.\n\n233\n00:12:34,780 --> 00:12:39,880\nWell, when we manually assign an IP\naddress, they've got that IP all the time.\n\n234\n00:12:39,880 --> 00:12:42,610\nWhether they're here or not we've given\nit to them and that's it, it's gone, and\n\n235\n00:12:42,610 --> 00:12:45,020\nnobody else can use it because\nwe've run the risk of a conflict.\n\n236\n00:12:46,220 --> 00:12:49,940\nBut with DHCP, if they're gone,\nif they're not here in the building,\n\n237\n00:12:49,940 --> 00:12:52,820\nI could give their address to\nsomebody else, they're not using it.\n\n238\n00:12:52,820 --> 00:12:56,860\nSo I need to set a time that they're\nallowed to have that address.\n\n239\n00:12:56,860 --> 00:12:58,790\nAnd think of this as\na like a library book.\n\n240\n00:12:58,790 --> 00:13:02,100\nWhen you come into the network,\nyou check out that library book.\n\n241\n00:13:02,100 --> 00:13:03,490\nAnd you get it for\na certain period of time.\n\n242\n00:13:03,490 --> 00:13:04,480\nThe default here is one hour.\n\n243\n00:13:05,540 --> 00:13:09,710\nAfter an hour, if I still need it,\nI can renew it.\n\n244\n00:13:09,710 --> 00:13:10,550\nI can check it out again.\n\n245\n00:13:10,550 --> 00:13:12,990\nI can hold onto that address for\nas long as I need it.\n\n246\n00:13:12,990 --> 00:13:17,100\nBut if I leave, I'm not here to\ncheck it back in to renew it.\n\n247\n00:13:17,100 --> 00:13:20,321\nAnd so if I leave at the end of that hour,\nthe address goes back into the pool and\n\n248\n00:13:20,321 --> 00:13:22,770\nit can be shared with somebody else.\n\n249\n00:13:22,770 --> 00:13:24,730\nNow, if your network has mostly desktops.\n\n250\n00:13:24,730 --> 00:13:26,730\nIf you've got a bunch of Mac Pros and\n\n251\n00:13:26,730 --> 00:13:30,490\nthat's it, then you might choose\nto do a really long lease time.\n\n252\n00:13:30,490 --> 00:13:34,470\nMy computer aren't going anywhere, so\nI might wanna bump that up and go 30 days.\n\n253\n00:13:34,470 --> 00:13:37,640\nSo once a month,\nthe computer has to check in.\n\n254\n00:13:37,640 --> 00:13:41,090\nAnd if I decommission a computer and get\nrid of it, sometime in the next 30 days,\n\n255\n00:13:41,090 --> 00:13:42,430\nits IP address will\nbecome available again.\n\n256\n00:13:43,630 --> 00:13:47,470\nBut if you're working at Starbucks, and\nyou've got thousands of customers bringing\n\n257\n00:13:47,470 --> 00:13:51,790\nlaptops into your coffee bar, or\nwhatever the heck they call it.\n\n258\n00:13:51,790 --> 00:13:54,200\nThey're bringing it in there and they're\nonly staying for 15 minutes at a time.\n\n259\n00:13:54,200 --> 00:13:57,900\nYou don't want them to hold that address\nfor 30 days, you've got thousands of more\n\n260\n00:13:57,900 --> 00:14:01,690\ncustomers that are coming in, so\nyou might wanna set something much lower.\n\n261\n00:14:01,690 --> 00:14:04,330\nOne hour, one day,\nseven days, it's up to you.\n\n262\n00:14:04,330 --> 00:14:06,620\nI'm gonna go ahead and pick one day.\n\n263\n00:14:06,620 --> 00:14:08,960\nI'm gonna pick 24 hours for mine.\n\n264\n00:14:08,960 --> 00:14:12,480\nIf somebody comes in the studio, they\ncan have that address for the whole day.\n\n265\n00:14:12,480 --> 00:14:15,040\nBut if they leave, by that time tomorrow,\nit will be available for\n\n266\n00:14:15,040 --> 00:14:18,070\nsomeone else to take.\n\n267\n00:14:18,070 --> 00:14:22,042\nThen, I specify the range of IPs\nthat I want to give out, and\n\n268\n00:14:22,042 --> 00:14:24,995\nsee how it figured out\nwhat network I was on?\n\n269\n00:14:24,995 --> 00:14:25,800\n10.211.55.\n\n270\n00:14:25,800 --> 00:14:29,680\nSo, it knows what network the server's on,\nit assumes that's what I wanna hand out.\n\n271\n00:14:29,680 --> 00:14:31,580\nBut there might be other networks.\n\n272\n00:14:31,580 --> 00:14:35,410\nI could specify addresses for the other\nnetworks, and if I have more than one\n\n273\n00:14:35,410 --> 00:14:38,710\nnetwork card in the server,\nthat may be something I need to deal with.\n\n274\n00:14:38,710 --> 00:14:40,690\nNotice I've got network interface here.\n\n275\n00:14:40,690 --> 00:14:43,370\nI could pick,\nIf I had three different network cards,\n\n276\n00:14:43,370 --> 00:14:46,400\nI could create three different pools,\none for each card.\n\n277\n00:14:46,400 --> 00:14:48,680\nOr if I have a relay agent I\ncould do it all off of one card.\n\n278\n00:14:48,680 --> 00:14:51,180\nYou don't have to have more than one card.\n\n279\n00:14:51,180 --> 00:14:57,080\nBut I'm gonna create a pool and\nI'll set this one to run from 100 to 150.\n\n280\n00:14:57,080 --> 00:15:02,020\nSo if a client connects to my network,\nI'll start giving 10.211.55.100 and\n\n281\n00:15:02,020 --> 00:15:06,730\nthen the next client will get 101 and\n102 all the way up to 150.\n\n282\n00:15:06,730 --> 00:15:09,810\nIf I run out of addresses,\nI just stop issuing.\n\n283\n00:15:09,810 --> 00:15:11,870\nI don't answer anybody's request anymore.\n\n284\n00:15:11,870 --> 00:15:15,080\nBut, as long as I've got an address\navailable in the pool, I'll give it out.\n\n285\n00:15:16,610 --> 00:15:19,830\nI can set my subnet mask and\nmy router right here.\n\n286\n00:15:19,830 --> 00:15:23,630\nAnd those value are correct,\nI'll leave them the way they are.\n\n287\n00:15:23,630 --> 00:15:26,800\nThen, I can set the DNS data if I choose.\n\n288\n00:15:26,800 --> 00:15:30,920\nIf I go into Edit, I can specify\nwhat DNS server I want to use and\n\n289\n00:15:30,920 --> 00:15:33,440\nany other search domains\nI want to specify.\n\n290\n00:15:33,440 --> 00:15:34,860\nAnd so, I can put those in here,\n\n291\n00:15:34,860 --> 00:15:37,890\nmaybe for DNS I wanna provide\nmore than one DNS server.\n\n292\n00:15:37,890 --> 00:15:41,520\nSo, maybe I wanna set some backups\nof like Google's DNS servers.\n\n293\n00:15:41,520 --> 00:15:43,110\nSo I can come in and I can punch those in.\n\n294\n00:15:45,050 --> 00:15:47,550\nJust as backups in case my server is down.\n\n295\n00:15:47,550 --> 00:15:49,490\nPeople can jump over and use one of those.\n\n296\n00:15:49,490 --> 00:15:52,849\nWhile I might have other search\ndomains like itpro.tv or whatever,\n\n297\n00:15:52,849 --> 00:15:55,430\nso I can punch each of those in.\n\n298\n00:15:55,430 --> 00:15:57,134\nSo I'm just gonna add those\nvalues as appropriate.\n\n299\n00:15:57,134 --> 00:15:59,131\nNow, it already had some data in there.\n\n300\n00:15:59,131 --> 00:16:00,687\nWhere did that data come from?\n\n301\n00:16:00,687 --> 00:16:01,894\nIt came from my server.\n\n302\n00:16:01,894 --> 00:16:04,007\nIt looks at what your server is using.\n\n303\n00:16:04,007 --> 00:16:06,733\nAnd it prepopulates these to\nsave you a little bit of time.\n\n304\n00:16:06,733 --> 00:16:09,301\nBut I could have removed those values,\nand put in whatever I wanted to.\n\n305\n00:16:09,301 --> 00:16:11,072\nYou have a complete control of that.\n\n306\n00:16:13,649 --> 00:16:16,482\nSo now I've got all that set,\nI'll go ahead, and hit Create.\n\n307\n00:16:16,482 --> 00:16:18,444\nAnd there's my first pool.\n\n308\n00:16:18,444 --> 00:16:20,836\nIf I have more than one network\ncard I could then go, and\n\n309\n00:16:20,836 --> 00:16:23,010\nadd pools for the other network cards.\n\n310\n00:16:23,010 --> 00:16:26,520\nOr if I was using relay agents from\nother networks, I would create pools for\n\n311\n00:16:26,520 --> 00:16:27,970\nthose other networks too.\n\n312\n00:16:27,970 --> 00:16:30,370\nSo you might have more than one pool,\nif you need it.\n\n313\n00:16:30,370 --> 00:16:34,450\nBut I've created one, it's in place,\nand now we're in business.\n\n314\n00:16:34,450 --> 00:16:37,330\nI'm now issuing out addresses\nto people that ask for them.\n\n315\n00:16:37,330 --> 00:16:41,770\nIf somebody asks for an address, I'll\ngive them one from the side of this pool.\n\n316\n00:16:41,770 --> 00:16:43,270\nNow if my server fails, or\n\n317\n00:16:43,270 --> 00:16:47,120\nif my server runs out of addresses,\nit's not gonna answer people's requests.\n\n318\n00:16:47,120 --> 00:16:49,208\nSo it's kind of a central\npoint of failure.\n\n319\n00:16:49,208 --> 00:16:53,908\nWhat I could do,\nis I could bring up a second DHCP server.\n\n320\n00:16:53,908 --> 00:16:57,160\nAnd on that other DHCP server,\nI could create a pool there also.\n\n321\n00:16:57,160 --> 00:16:58,260\nNow, I've got redundancy.\n\n322\n00:16:58,260 --> 00:17:00,340\nIf one fails, the other one's still there.\n\n323\n00:17:00,340 --> 00:17:04,757\nBut the key thing to remember,\nis this pool should not overlap.\n\n324\n00:17:04,757 --> 00:17:08,170\nYou don't want two servers that are able\nto issue out the same addresses.\n\n325\n00:17:08,170 --> 00:17:09,553\nCuz they don't talk to each other.\n\n326\n00:17:09,553 --> 00:17:12,999\nThey don't exchange information about\nthe leases, that they've issues.\n\n327\n00:17:12,999 --> 00:17:14,115\nThey're independent.\n\n328\n00:17:14,115 --> 00:17:18,312\nSo if I put the 100 to 150\npool on a second server,\n\n329\n00:17:18,312 --> 00:17:20,975\nI get a lot of duplicate IP errors.\n\n330\n00:17:20,975 --> 00:17:25,542\nSo instead, what I would do is go to that\nsecond server, and I would set it up for\n\n331\n00:17:25,542 --> 00:17:27,012\n151 through 200.\n\n332\n00:17:27,012 --> 00:17:28,300\nSo the next little block.\n\n333\n00:17:28,300 --> 00:17:29,940\nThat way there's no overlapping.\n\n334\n00:17:29,940 --> 00:17:32,550\nAnd if one server goes down,\nthe other server's still up,\n\n335\n00:17:32,550 --> 00:17:34,100\nstill issuing addresses.\n\n336\n00:17:34,100 --> 00:17:36,100\nThat's how we create redundancy in DHCP.\n\n337\n00:17:36,100 --> 00:17:38,700\nNow, whenever somebody asks for\nan address on the network.\n\n338\n00:17:38,700 --> 00:17:41,770\nSo a laptop bootsup, and\nsays hey, I need an address.\n\n339\n00:17:41,770 --> 00:17:43,560\nBoth servers would respond.\n\n340\n00:17:43,560 --> 00:17:45,340\nThey would get two responses.\n\n341\n00:17:45,340 --> 00:17:49,000\nAnd the laptop is gonna pick\nthe first one that comes in.\n\n342\n00:17:49,000 --> 00:17:50,760\nFirst one that comes in,\nthat's what it's gonna take.\n\n343\n00:17:50,760 --> 00:17:53,820\nThe second one comes in, and\nthe laptop will just ignore it.\n\n344\n00:17:53,820 --> 00:17:57,080\nAnd so, that server will sit there for\na moment, and then it will say, well,\n\n345\n00:17:57,080 --> 00:17:58,590\nfine, I didn't wanna give\nyou that address anyway.\n\n346\n00:17:58,590 --> 00:18:01,580\nAnd it will put it back into the pool,\nand now it's available for somebody else.\n\n347\n00:18:02,660 --> 00:18:04,000\nBut they will both respond.\n\n348\n00:18:04,000 --> 00:18:06,470\nThe clients will receive double responses.\n\n349\n00:18:06,470 --> 00:18:08,161\nThey don't get two IPs though.\n\n350\n00:18:08,161 --> 00:18:09,809\nThey pick one, and that's all they use.\n\n351\n00:18:11,725 --> 00:18:14,090\nSo, I've got this pool in place.\n\n352\n00:18:14,090 --> 00:18:15,580\nIt's active.\n\n353\n00:18:15,580 --> 00:18:16,270\nLet's see it work.\n\n354\n00:18:17,420 --> 00:18:19,900\nWell, if I jump back over to my client,\n\n355\n00:18:19,900 --> 00:18:24,268\nI've still got that 169.254\naddress kind of sitting there.\n\n356\n00:18:24,268 --> 00:18:28,124\nThat automatic private IP address,\nor APIPA address.\n\n357\n00:18:28,124 --> 00:18:30,200\nSo, I know that's not quite working right.\n\n358\n00:18:30,200 --> 00:18:33,490\nIf we go under Advanced, do you know I can\ngo in here, and kind of tweak these, and\n\n359\n00:18:33,490 --> 00:18:34,580\nmanually set it.\n\n360\n00:18:34,580 --> 00:18:39,513\nThe reason I'm coming into Advanced, is\nthat right here where is says using DHCP,\n\n361\n00:18:39,513 --> 00:18:41,850\nis a button that says Renew DHCP Lease.\n\n362\n00:18:42,880 --> 00:18:46,920\nIf I hit that, it says hey, you didn't get\nan address before, but let's try again.\n\n363\n00:18:46,920 --> 00:18:48,250\nLet's try, and get out there,\nand renew that lease.\n\n364\n00:18:48,250 --> 00:18:50,370\nSo let's get a new address, if we can.\n\n365\n00:18:50,370 --> 00:18:54,840\nSo I'm gonna hit that, and it's gonna\nreach out, looking for a DHCP server.\n\n366\n00:18:54,840 --> 00:18:57,732\nAnd in my case,\nI can see it still didn't get one.\n\n367\n00:18:57,732 --> 00:18:59,891\nWell, I kind of forgot\nsomething important.\n\n368\n00:18:59,891 --> 00:19:02,344\nAnd I know at least one of you is\nout there screaming at your monitor,\n\n369\n00:19:02,344 --> 00:19:03,970\ncuz that was pretty obvious.\n\n370\n00:19:03,970 --> 00:19:05,280\nWell, not obvious enough for me to do it.\n\n371\n00:19:05,280 --> 00:19:09,568\nBut if I go back over to my server, I kind\nof forgot to hit the ON button up here.\n\n372\n00:19:09,568 --> 00:19:13,810\nSo the DHCP service oddly enough\ndoesn't work, unless you turn it on.\n\n373\n00:19:13,810 --> 00:19:19,130\nSo I'm gonna turn it on, and now I'm\nleasing, and issuing stuff on the server.\n\n374\n00:19:19,130 --> 00:19:21,250\nKind of an important piece.\n\n375\n00:19:21,250 --> 00:19:24,112\nSo it's on, I'll just back over to\nmy client, and I'll go ahead, and\n\n376\n00:19:24,112 --> 00:19:25,250\ntry that again.\n\n377\n00:19:25,250 --> 00:19:29,024\nAnd now, it's reaching out to the network,\nand there we go.\n\n378\n00:19:29,024 --> 00:19:31,903\nI've been worried for\na second [LAUGH] that 169 appeared again.\n\n379\n00:19:31,903 --> 00:19:36,362\nAnd now, I can see I got 10.211.55.100.\n\n380\n00:19:36,362 --> 00:19:39,868\nAnd that .100,\nthat was the first address in the pool.\n\n381\n00:19:39,868 --> 00:19:41,505\nIt came right out of that pool.\n\n382\n00:19:41,505 --> 00:19:44,710\nAnd now I've got the address,\nand there we go.\n\n383\n00:19:44,710 --> 00:19:47,930\nNot only did I get the address,\nI got the subnet mask, and the router.\n\n384\n00:19:47,930 --> 00:19:53,540\nAnd if I go to DNS, there's the DNS\nservers, and the search domains.\n\n385\n00:19:53,540 --> 00:19:59,020\nThe cool part here, is that address\nthat I got, I've got it on lease.\n\n386\n00:19:59,020 --> 00:20:01,272\nAnd that lease time, is 24 hours.\n\n387\n00:20:01,272 --> 00:20:03,060\nI picked one day.\n\n388\n00:20:03,060 --> 00:20:06,900\nSo, every 24 hours we renew that lease.\n\n389\n00:20:06,900 --> 00:20:11,570\nAnd if I'm ever gone for more than 24\nhours, I give up the .100 address, and\n\n390\n00:20:11,570 --> 00:20:12,600\nsomebody else can have it.\n\n391\n00:20:12,600 --> 00:20:13,793\nSomebody else can use it.\n\n392\n00:20:13,793 --> 00:20:15,731\nAnd when I come back,\nI'll just get a different address.\n\n393\n00:20:15,731 --> 00:20:18,230\nOur address could change if\nthe address is already in use.\n\n394\n00:20:19,540 --> 00:20:21,780\nThe other cool thing,\nis if I wanna change something.\n\n395\n00:20:21,780 --> 00:20:25,690\nMaybe I decide one day, well,\nI'm pushing out those Google DNS servers.\n\n396\n00:20:25,690 --> 00:20:26,780\nBut that's causing a problem.\n\n397\n00:20:26,780 --> 00:20:28,570\nSo maybe, I wanna get rid of those.\n\n398\n00:20:28,570 --> 00:20:31,227\nI can go back here, and\nI can edit my pool.\n\n399\n00:20:31,227 --> 00:20:34,907\nAnd if I edit that pool I can go in,\nand change those values, and\n\n400\n00:20:34,907 --> 00:20:37,485\nI'll just get rid of those Google servers.\n\n401\n00:20:37,485 --> 00:20:41,691\nAnd maybe I've added a new DNS server\non my network, so I'll come in,\n\n402\n00:20:41,691 --> 00:20:43,770\nand punch in some other servers.\n\n403\n00:20:43,770 --> 00:20:46,818\nI've got two DNS servers right here.\n\n404\n00:20:46,818 --> 00:20:50,913\nif I was doing manual addresses, I would\nhave to go to all of my computers, and\n\n405\n00:20:50,913 --> 00:20:52,238\nupdate those settings.\n\n406\n00:20:52,238 --> 00:20:56,266\nBut because I'm using DHCP,\nI can just set that value, and\n\n407\n00:20:56,266 --> 00:21:01,676\nthe next time those clients check in,\nthe next time they come to get an address.\n\n408\n00:21:01,676 --> 00:21:07,470\nThey'll get those updated values, and\nnormally this is where I would show you.\n\n409\n00:21:07,470 --> 00:21:09,652\nMy system seems to have locked up.\n\n410\n00:21:09,652 --> 00:21:12,410\nBut [LAUGH] I'll change that,\nand it will update there.\n\n411\n00:21:12,410 --> 00:21:16,809\nThe next time this lease goes to renew,\nyou'll get that updated address.\n\n412\n00:21:16,809 --> 00:21:20,030\nLet's see if my change happened\nbefore it kind of locked up.\n\n413\n00:21:21,390 --> 00:21:22,050\nThere we go.\n\n414\n00:21:22,050 --> 00:21:22,810\nSo, I've renewed.\n\n415\n00:21:22,810 --> 00:21:23,600\nI got my address.\n\n416\n00:21:23,600 --> 00:21:25,860\nAnd if I look under DNS,\nthe change hasn't taken effect yet.\n\n417\n00:21:25,860 --> 00:21:28,990\nSo I've got to wait for that, but\nthese machines will automatically update.\n\n418\n00:21:28,990 --> 00:21:30,980\nNow if you're in a hurry,\nthat doesn't help.\n\n419\n00:21:30,980 --> 00:21:32,260\nIt's a 24-hour release.\n\n420\n00:21:32,260 --> 00:21:35,160\nThat means it could take up to 24 hours,\nbefore clients got the change.\n\n421\n00:21:36,250 --> 00:21:39,310\nBut if you've got a thousand computers,\nyou can wait 24 hours.\n\n422\n00:21:39,310 --> 00:21:42,480\nWould it take you more than 24 hours\nto go to all thousand computers, and\n\n423\n00:21:42,480 --> 00:21:43,530\nupdate that value?\n\n424\n00:21:43,530 --> 00:21:44,590\nAbsolutely.\n\n425\n00:21:44,590 --> 00:21:45,860\nSo, you wait.\n\n426\n00:21:45,860 --> 00:21:47,450\nBut if you've got a long lease,\n\n427\n00:21:47,450 --> 00:21:52,220\nlike a 30-day lease, it's either gonna\nbe 30 days worse case scenari for\n\n428\n00:21:52,220 --> 00:21:54,990\nsomebody to get the new settings,\nor the next time they reboot.\n\n429\n00:21:54,990 --> 00:21:58,460\nWhen they reboot they'll automatically\nrefresh, and get those new settings.\n\n430\n00:21:58,460 --> 00:22:00,140\nSo, there's a few ways to get around that.\n\n431\n00:22:00,140 --> 00:22:02,680\nYou could just have people reboot,\nand that'll solve it too.\n\n432\n00:22:02,680 --> 00:22:05,490\nOr unplug their network cable,\nand plug it back in.\n\n433\n00:22:05,490 --> 00:22:06,942\nThat causes a network hard reset.\n\n434\n00:22:06,942 --> 00:22:08,509\nThat'll get the new values too.\n\n435\n00:22:10,819 --> 00:22:13,336\nSo on the DHCP side,\ngetting the pool setup,\n\n436\n00:22:13,336 --> 00:22:17,260\ngetting that available,\nnot a very challenging thing.\n\n437\n00:22:17,260 --> 00:22:18,890\nThere is one thing, though.\n\n438\n00:22:18,890 --> 00:22:22,642\nI mentioned how when I get an address,\nif I leave for\n\n439\n00:22:22,642 --> 00:22:26,870\na longer than my lease time,\nsomebody else could use my address.\n\n440\n00:22:26,870 --> 00:22:30,810\nAnd when I come back I might get a new\naddress, and that can be problematic.\n\n441\n00:22:30,810 --> 00:22:32,730\nIf you've got something\nlike a print server.\n\n442\n00:22:32,730 --> 00:22:34,350\nOr a server in general.\n\n443\n00:22:34,350 --> 00:22:36,980\nYou want it to always\nhave the same address.\n\n444\n00:22:36,980 --> 00:22:40,540\nSo on servers,\nwe'll typically do a manual IP.\n\n445\n00:22:40,540 --> 00:22:43,760\nManual IPs on a server,\ndynamic on clients.\n\n446\n00:22:43,760 --> 00:22:46,690\nI don't care if my laptop gets\na different IP, it doesn't matter to me.\n\n447\n00:22:46,690 --> 00:22:49,180\nOr my desktop,\nif it gets a different IP, who cares.\n\n448\n00:22:49,180 --> 00:22:50,255\nThose don't matter.\n\n449\n00:22:50,255 --> 00:22:52,763\nBut on a server, a network printer.\n\n450\n00:22:52,763 --> 00:22:54,028\nSomething like that, we may care.\n\n451\n00:22:54,028 --> 00:22:56,180\nAn IP phone, we might care.\n\n452\n00:22:56,180 --> 00:23:01,050\nAnd so, if we always want people to have\nthe same address, we can't use DHCP.\n\n453\n00:23:01,050 --> 00:23:02,210\nWell, not necessarily.\n\n454\n00:23:02,210 --> 00:23:03,800\nYou certainly, can use a manual address.\n\n455\n00:23:03,800 --> 00:23:04,790\nThat does work.\n\n456\n00:23:04,790 --> 00:23:08,060\nSo if we wanna configure\na DHCP reservation,\n\n457\n00:23:08,060 --> 00:23:10,290\nwe just need to jump onto\nthis Client's tab up here.\n\n458\n00:23:10,290 --> 00:23:12,750\nWe've been under the Settings\ntab on our server.\n\n459\n00:23:12,750 --> 00:23:14,150\nIf I switch over to client's,\n\n460\n00:23:14,150 --> 00:23:18,280\nI'll see all of the various devices that\nrequested an address from my server.\n\n461\n00:23:18,280 --> 00:23:22,594\nAnd so, I can see OS X Client1, that's\nthe client I was using a moment ago,\n\n462\n00:23:22,594 --> 00:23:23,954\nhas a Dynamic address.\n\n463\n00:23:23,954 --> 00:23:26,997\nSo Dynamic means, it's just gonna\nget whatever address is available.\n\n464\n00:23:26,997 --> 00:23:32,200\nIt got 10.211.55.100, and\nit's on that network, ITProTV Studio.\n\n465\n00:23:32,200 --> 00:23:33,910\nThat's the network that it's on.\n\n466\n00:23:33,910 --> 00:23:36,650\nWell, it's got this address now.\n\n467\n00:23:36,650 --> 00:23:39,500\nIf it leaves for 24 hours,\nsomebody else can have it, and\n\n468\n00:23:39,500 --> 00:23:41,390\nwhen it comes on,\nit'll have a new address.\n\n469\n00:23:41,390 --> 00:23:45,460\nIf I wanted to always get the same\naddress, I can just highlight that entry,\n\n470\n00:23:46,670 --> 00:23:51,390\nand down here if I hit my gear,\nyou can choose Create Static Address.\n\n471\n00:23:51,390 --> 00:23:54,650\nAnd when you choose Create Static Address,\nit's gonna create a mapping.\n\n472\n00:23:54,650 --> 00:24:00,023\nIt's gonna map that IP to the MAC address\nof the network card of that client.\n\n473\n00:24:00,023 --> 00:24:05,044\nNow, MAC address is not Mac as in\nMacintosh, it's media access control.\n\n474\n00:24:05,044 --> 00:24:06,252\nEvery Network Adapter.\n\n475\n00:24:06,252 --> 00:24:09,015\nBe it a Physical Network Adapter or\na Wireless Network Adapter.\n\n476\n00:24:09,015 --> 00:24:12,338\nThey all have a Media Access Control ID.\n\n477\n00:24:12,338 --> 00:24:15,290\nIt's a 48-bit hexadecimal number and\n\n478\n00:24:15,290 --> 00:24:18,260\nit looks like, well,\nlike this one right here on the screen.\n\n479\n00:24:18,260 --> 00:24:19,910\nAnd so it's mapping to that.\n\n480\n00:24:19,910 --> 00:24:22,870\nSo if any computer sends out a request and\n\n481\n00:24:22,870 --> 00:24:27,840\nit's got that Mac address,\nit will give it this particular IP.\n\n482\n00:24:27,840 --> 00:24:29,380\nAnd so I can hit create.\n\n483\n00:24:29,380 --> 00:24:30,440\nAnd it's gonna create that.\n\n484\n00:24:30,440 --> 00:24:34,330\nAnd now instead of saying Dynamic,\nit says Static.\n\n485\n00:24:34,330 --> 00:24:36,790\nNow, that address is reserved.\n\n486\n00:24:36,790 --> 00:24:37,610\nIt's a reservation.\n\n487\n00:24:37,610 --> 00:24:41,730\nIt's held in reserve just for that client.\n\n488\n00:24:41,730 --> 00:24:43,160\nNo one else will get that address.\n\n489\n00:24:43,160 --> 00:24:45,080\nI can leave for weeks or months on end.\n\n490\n00:24:45,080 --> 00:24:47,290\nAnd when I come back,\nI'll get those same address.\n\n491\n00:24:48,480 --> 00:24:50,990\nNow you might ask yourself,\nwhat's the point in doing that?\n\n492\n00:24:50,990 --> 00:24:55,080\nWell if you've got a server,\na print server, IP phones and\n\n493\n00:24:55,080 --> 00:24:58,110\nyou always want them to have\nthe same address but you don't want\n\n494\n00:24:58,110 --> 00:25:02,370\nto do a manual configuration on\nthe devices, this is a great way to do it.\n\n495\n00:25:02,370 --> 00:25:04,690\nI now know that client will\nalways get the same address.\n\n496\n00:25:06,330 --> 00:25:09,670\nIn my case, the device was already\nconnected so that made life sort of easy.\n\n497\n00:25:09,670 --> 00:25:13,200\nBut if the device isn't here yet,\nmaybe you've ordered it and\n\n498\n00:25:13,200 --> 00:25:15,060\nyou know what the MAC\naddress is ahead of time.\n\n499\n00:25:15,060 --> 00:25:16,130\nYou can actually add them in.\n\n500\n00:25:16,130 --> 00:25:21,910\nYou can go down here to the plus sign, so\nmaybe I've got a new server coming in.\n\n501\n00:25:21,910 --> 00:25:25,850\nIt's going to be OSX Server 2 and\nI can give it an address.\n\n502\n00:25:26,880 --> 00:25:30,670\nAnd I can punch in what that\nMAC address is going to be.\n\n503\n00:25:30,670 --> 00:25:35,058\nI can punch in that\n\n504\n00:25:35,058 --> 00:25:39,749\nvalue and create it.\n\n505\n00:25:39,749 --> 00:25:44,470\nAnd now I've got a static entry ready.\n\n506\n00:25:44,470 --> 00:25:45,980\nAnd waiting for that server.\n\n507\n00:25:45,980 --> 00:25:48,320\nIf somebody walks into this\nbuilding with a server and\n\n508\n00:25:48,320 --> 00:25:53,050\nthe MAC address matches what I just\ntyped in, they will get the 150 IP.\n\n509\n00:25:53,050 --> 00:25:55,420\nAnd every time it comes up,\nthey'll get that address.\n\n510\n00:25:55,420 --> 00:26:00,120\nSaves you a lot of time from having to go\nand configure that on the client's side.\n\n511\n00:26:00,120 --> 00:26:01,400\nAll right.\n\n512\n00:26:01,400 --> 00:26:04,110\nAfter that, that's about it for GACP.\n\n513\n00:26:04,110 --> 00:26:07,610\nIt's not a terribly complex protocol\nin the general scheme of things.\n\n514\n00:26:07,610 --> 00:26:10,760\nYou create your pools and\nyou set your addresses.\n\n515\n00:26:10,760 --> 00:26:12,060\nAnd then off it goes.\n\n516\n00:26:12,060 --> 00:26:14,220\nNow the troubleshooting side,\nthe biggest problems.\n\n517\n00:26:14,220 --> 00:26:16,428\nWell the silly problems is\nI forgot to turn it on.\n\n518\n00:26:16,428 --> 00:26:21,980\nThere are types you can make in your\npool configuration like setting a wrong.\n\n519\n00:26:21,980 --> 00:26:25,900\nBut one of the most common problems\nis simply running out of addresses.\n\n520\n00:26:25,900 --> 00:26:29,460\nThere's some devices and iPads are pretty\nguilty of this, where they can get\n\n521\n00:26:29,460 --> 00:26:33,590\na little aggressive with re-using\nIPs after the lease is expired.\n\n522\n00:26:33,590 --> 00:26:36,880\nYou don't see that here on this screen\nthough, you'll see it in the logs.\n\n523\n00:26:36,880 --> 00:26:39,980\nIf you jump up to your logs,\nthere's a DHCP log.\n\n524\n00:26:39,980 --> 00:26:42,360\nAnd if there's any conflicts,\nyou'll see them in there.\n\n525\n00:26:42,360 --> 00:26:47,000\nSo here's my DHCP service log and if there\nwere any conflicts I would see them.\n\n526\n00:26:47,000 --> 00:26:50,350\nI can see where OSX Server 1 fired up.\n\n527\n00:26:50,350 --> 00:26:53,350\nAnd then here's a DHCP\ndiscover message that came in.\n\n528\n00:26:53,350 --> 00:26:56,250\nThat was my client asking for an address.\n\n529\n00:26:56,250 --> 00:26:57,680\nAnd we responded back to it.\n\n530\n00:26:57,680 --> 00:26:58,790\nAnd gave it an address.\n\n531\n00:26:58,790 --> 00:27:01,750\nAnd so here's that\nacknowledgement to OSX client 1.\n\n532\n00:27:01,750 --> 00:27:05,170\nAnd it got 10.211.55.100.\n\n533\n00:27:05,170 --> 00:27:08,580\nI can see that successful\nnegotiation happen right there.\n\n534\n00:27:08,580 --> 00:27:14,275\nIf I were out of addresses, I would\nsee a discover come in but no offer.\n\n535\n00:27:14,275 --> 00:27:17,235\nI wouldn't be able to offer another\naddress because I'm out of addresses.\n\n536\n00:27:17,235 --> 00:27:19,175\nThe pool is full, and that's it.\n\n537\n00:27:19,175 --> 00:27:21,615\nSo, that's the kind of problem\nthat we can end up with.\n\n538\n00:27:21,615 --> 00:27:23,355\nYour logs are the best place to go in and\nsee that.\n\n539\n00:27:24,685 --> 00:27:26,605\nBut other than that,\nthat's about it for DHCP.\n\n540\n00:27:27,785 --> 00:27:30,305\nOSX does a great job as a DHCP Server.\n\n541\n00:27:30,305 --> 00:27:31,375\nYou might be asking yourself,\n\n542\n00:27:31,375 --> 00:27:36,460\nwell I use my router now, why would I\nuse MAC OS instead of using my router?\n\n543\n00:27:36,460 --> 00:27:39,980\nOne of the big reason for\nme, I like to use Mac OS or\n\n544\n00:27:39,980 --> 00:27:41,830\nwhatever server it is\nas opposed to a router.\n\n545\n00:27:42,910 --> 00:27:45,890\nThe problem with a router is\nif you're using your router or\n\n546\n00:27:45,890 --> 00:27:51,130\nfirewall as a DHCP server, they usually\nstore the DHCP database in RAM.\n\n547\n00:27:51,130 --> 00:27:56,130\nSo that whole table of what IPs\nare assigned to what MACs, it's in RAM.\n\n548\n00:27:56,130 --> 00:27:59,270\nIf you ever reboot that router or\nreboot that file log,\n\n549\n00:27:59,270 --> 00:28:02,770\nthat's when RAM gets wiped out and\nthey lose all those mappings.\n\n550\n00:28:02,770 --> 00:28:06,810\nAnd for the next few hours you end-up\nwith a lot of duplicate IP issues.\n\n551\n00:28:06,810 --> 00:28:11,750\nOn a Mac, though, the DHCP tables\nare saved to the hard drive and\n\n552\n00:28:11,750 --> 00:28:15,800\nso if I reboot this Mac, it remembers\nall the leases that it issued out.\n\n553\n00:28:15,800 --> 00:28:18,870\nAnd that minimizes the chance\nof me getting duplicate IPs.\n\n554\n00:28:18,870 --> 00:28:21,250\nSo, having it on a server\ncan be kind of nice and\n\n555\n00:28:21,250 --> 00:28:22,570\nit's a little easier to administer.\n\n556\n00:28:22,570 --> 00:28:25,810\nIt's just right here inside of\nthe Server App that you work with anyway.\n\n557\n00:28:25,810 --> 00:28:26,880\nPros and cons.\n\n558\n00:28:26,880 --> 00:28:29,730\nA lot of people feel that the routers\nare a lot more reliable cuz they're just\n\n559\n00:28:29,730 --> 00:28:31,230\ndedicated hardware.\n\n560\n00:28:31,230 --> 00:28:35,125\nBut there's pros to having\nit over on the server also.\n\n561\n00:28:35,125 --> 00:28:36,990\nSo, that decisions kind of up to you.\n\n562\n00:28:36,990 --> 00:28:39,580\nApple doesn't really care whether\nyou want to run it on your router or\n\n563\n00:28:39,580 --> 00:28:43,000\nwhether you want to run it on the server,\nthey're not pressuring you either way.\n\n564\n00:28:43,000 --> 00:28:45,790\nIf you want to run it on the server,\nhere's all the tools for you.\n\n565\n00:28:45,790 --> 00:28:47,180\nYou are more than welcome to do it.\n\n566\n00:28:47,180 --> 00:28:50,100\nIf you want to run it on your router,\nwell, Apple plays with those too.\n\n567\n00:28:50,100 --> 00:28:52,370\nSo that works fine and\nthat'll work out too.\n\n568\n00:28:52,370 --> 00:28:54,932\nSo just keep that in mind as\nyou go to set all this up.\n\n569\n00:28:54,932 --> 00:28:56,580\nAll right.\n\n570\n00:28:56,580 --> 00:28:57,720\nThat's it for DHCP.\n\n571\n00:28:57,720 --> 00:28:59,740\nSo we'll go ahead and\nwrap this episode up here.\n\n572\n00:28:59,740 --> 00:29:01,160\nI do want to remind you guys.\n\n573\n00:29:01,160 --> 00:29:04,700\nIf you have questions on any of this,\nfeel free to ask.\n\n574\n00:29:04,700 --> 00:29:06,580\nLive during the show,\nyou can go to ITProTV/live.\n\n575\n00:29:06,580 --> 00:29:09,340\nYou'll see that chat room below the video.\n\n576\n00:29:09,340 --> 00:29:10,420\nPost your questions there.\n\n577\n00:29:10,420 --> 00:29:12,770\nWe monitor and answer during the show.\n\n578\n00:29:12,770 --> 00:29:16,250\nIf you have any questions after the show,\nmake use of our Q&A forums.\n\n579\n00:29:16,250 --> 00:29:20,460\nAt the top of every page on the ITProTV\nsite, you'll see a link that says Q&A.\n\n580\n00:29:20,460 --> 00:29:22,490\nClick on it,\nit'll take you right into our forums.\n\n581\n00:29:22,490 --> 00:29:23,860\nYou can post your question there.\n\n582\n00:29:23,860 --> 00:29:25,605\nWe monitor and answer after the show.\n\n583\n00:29:25,605 --> 00:29:29,135\nTake advantage of that resource,\nit is there for you.\n\n584\n00:29:29,135 --> 00:29:31,095\nAll right, well I hope you\nguys enjoyed today's episode.\n\n585\n00:29:31,095 --> 00:29:35,345\nSigning off for ITProTV,\nI'm Don Pazet and I'll see you next time.\n\n586\n00:29:35,345 --> 00:29:45,345\n[MUSIC]\n\n",
          "vimeoId": "125706858"
        },
        {
          "description": null,
          "length": "2693",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-6-3-vpn-050415-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-6-3-vpn-050415-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-6-3-vpn-050415-1-sm.jpg",
          "title": "VPN",
          "transcript": "1\n00:00:00,000 --> 00:00:10,000\n[MUSIC]\n\n2\n00:00:15,335 --> 00:00:22,406\n[SOUND]\n\n3\n00:00:22,406 --> 00:00:32,406\n[MUSIC]\n\n4\n00:00:33,458 --> 00:00:34,608\nAll right.\n\n5\n00:00:34,608 --> 00:00:36,745\nGood morning, good afternoon and\ngood evening, and\n\n6\n00:00:36,745 --> 00:00:38,561\nwelcome back to another\nepisode of ITProTV.\n\n7\n00:00:38,561 --> 00:00:39,831\nI'm your host, Don Pezet.\n\n8\n00:00:39,831 --> 00:00:45,110\nBack again with another episode of ACTC,\nthe Apple Certified Technical Coordinator.\n\n9\n00:00:45,110 --> 00:00:48,660\nIn this episode, we're gonna be\ndiving into virtual private networks,\n\n10\n00:00:48,660 --> 00:00:52,320\nor VPNs, and\nthese are an incredibly useful technology.\n\n11\n00:00:52,320 --> 00:00:54,490\nSo it's something we definitely\nwant to be familiar with and\n\n12\n00:00:54,490 --> 00:00:56,870\nbe ready to implement in\nour workplace environment.\n\n13\n00:00:56,870 --> 00:01:00,560\nNow, let's start with some basics\nreal quick with what is a VPN?\n\n14\n00:01:00,560 --> 00:01:04,830\nWell, a VPN, like the name implies,\na virtual private network.\n\n15\n00:01:04,830 --> 00:01:09,770\nIt takes a network that isn't normally\nprivate and makes it private.\n\n16\n00:01:09,770 --> 00:01:11,290\nAll right, now what does that mean?\n\n17\n00:01:11,290 --> 00:01:14,080\nWell, think about if\nyou're at your office.\n\n18\n00:01:14,080 --> 00:01:15,460\nYou've got your computer and\n\n19\n00:01:15,460 --> 00:01:18,750\nyou've got a server right there in your\noffice doing your transferring files and\n\n20\n00:01:18,750 --> 00:01:21,930\ndata between your machine,\nyour laptop, and your server.\n\n21\n00:01:21,930 --> 00:01:26,640\nWell, those files are transmitting over\na network that you own and you control, or\n\n22\n00:01:26,640 --> 00:01:28,380\nyour company owns and controls.\n\n23\n00:01:28,380 --> 00:01:30,480\nSo it's a network that we consider safe.\n\n24\n00:01:30,480 --> 00:01:31,270\nIt's private.\n\n25\n00:01:31,270 --> 00:01:36,080\nIt's your private network, but\nthen you take your laptop and you go home.\n\n26\n00:01:36,080 --> 00:01:40,410\nYou go home and you plug into your network\nand you connect your wireless at home and\n\n27\n00:01:40,410 --> 00:01:43,240\nyou're on a cable or DSL line.\n\n28\n00:01:43,240 --> 00:01:45,610\nNow you're reaching out to the internet.\n\n29\n00:01:45,610 --> 00:01:46,650\nAnd your work.\n\n30\n00:01:46,650 --> 00:01:49,270\nYour work might be connected\nto the internet also.\n\n31\n00:01:49,270 --> 00:01:52,040\nYou’d think if you’re connected\nto the internet at home and\n\n32\n00:01:52,040 --> 00:01:54,900\nyour office is connected to the internet,\nthat you can talk to each other and\n\n33\n00:01:54,900 --> 00:01:57,050\naccess those files and\nthe reality is you can.\n\n34\n00:01:57,050 --> 00:01:58,640\nYou can do that.\n\n35\n00:01:58,640 --> 00:02:01,260\nBut the internet is not a private network.\n\n36\n00:02:01,260 --> 00:02:02,890\nIt’s a public network.\n\n37\n00:02:02,890 --> 00:02:06,580\nThere are millions upon millions\nof people that are out there and\n\n38\n00:02:06,580 --> 00:02:09,530\nyour crossing networks\nthat you don’t control.\n\n39\n00:02:09,530 --> 00:02:12,550\nThat you don't own, that you don't\neven know who necessarily runs.\n\n40\n00:02:12,550 --> 00:02:15,130\nThese are networks that are kind of\ninvisible to you, but they're there.\n\n41\n00:02:15,130 --> 00:02:18,080\nWhen you're crossing networks\ncontrolled by other people, and\n\n42\n00:02:18,080 --> 00:02:20,090\nwhen you use the internet, you trust them.\n\n43\n00:02:20,090 --> 00:02:22,540\nYou're saying, well,\nI guess I trust those people.\n\n44\n00:02:22,540 --> 00:02:25,630\nBut as we all know, you can't\ntrust the people on the internet.\n\n45\n00:02:25,630 --> 00:02:27,880\nSo, what a VPN does,\nis it says, all right,\n\n46\n00:02:27,880 --> 00:02:32,390\nlet me take my data and\nI'm going to encrypt it.\n\n47\n00:02:32,390 --> 00:02:33,220\nEncrypt it and\n\n48\n00:02:33,220 --> 00:02:36,730\nmake it where other people can't read\nit unless they have a special key.\n\n49\n00:02:36,730 --> 00:02:41,430\nAnd that special key, I'm going to put\nthat on the computer at the office.\n\n50\n00:02:41,430 --> 00:02:46,720\nAnd my computer at home can now send\nencrypted data to the office, and\n\n51\n00:02:46,720 --> 00:02:47,660\nthe office has the key.\n\n52\n00:02:47,660 --> 00:02:50,150\nSo, they'll be able to open it and\nlook at the data and it will work.\n\n53\n00:02:50,150 --> 00:02:53,780\nBut, anybody on the internet who\nsees that data, well it's encrypted,\n\n54\n00:02:53,780 --> 00:02:56,300\nthey can't get to it to read and\nsee what it is.\n\n55\n00:02:56,300 --> 00:02:58,910\nThe information is protected,right?\n\n56\n00:02:58,910 --> 00:03:00,930\nThat's what a virtual\nprivate network does.\n\n57\n00:03:00,930 --> 00:03:05,260\nA VPN,\nit's primary purpose is data security.\n\n58\n00:03:05,260 --> 00:03:08,790\nAnd there's really, I don't wanna go too\ncrazy security level on this stuff, but\n\n59\n00:03:08,790 --> 00:03:11,840\nthere's really two\nthings that it performs.\n\n60\n00:03:11,840 --> 00:03:16,120\nThere's what's called we\nhave confidentiality and\n\n61\n00:03:16,120 --> 00:03:17,960\nintegrity are the official terms.\n\n62\n00:03:17,960 --> 00:03:21,550\nSo confidentiality means\nwe encrypt the data.\n\n63\n00:03:21,550 --> 00:03:25,560\nSo that only the people that we\nwant to see it, are able to see it.\n\n64\n00:03:25,560 --> 00:03:28,200\nAnd anybody unauthorized tries to get it,\nthey can't, right?\n\n65\n00:03:28,200 --> 00:03:29,970\nThe data's confidential.\n\n66\n00:03:29,970 --> 00:03:34,100\nAnd in integrity,\nsays the data has been tampered with.\n\n67\n00:03:34,100 --> 00:03:37,270\nThat if the data crosses the network and\nsomebody intercepts it,\n\n68\n00:03:37,270 --> 00:03:42,230\nthey could modify it, change that data and\nsend it somewhere else, right?\n\n69\n00:03:42,230 --> 00:03:45,120\nAn example might be,\nmaybe I'm doing a bank transfer.\n\n70\n00:03:45,120 --> 00:03:48,460\nI'm transferring $1,000 from a checking\naccount to a savings account.\n\n71\n00:03:48,460 --> 00:03:51,830\nWell, somebody intercepts that traffic and\nmodifies it so\n\n72\n00:03:51,830 --> 00:03:55,020\nthe destination account is their\naccount instead of mine, right?\n\n73\n00:03:55,020 --> 00:03:56,140\nThey modify it.\n\n74\n00:03:56,140 --> 00:03:59,120\nWell a VPN would pick\nup on that right away.\n\n75\n00:03:59,120 --> 00:04:02,440\nIt does a digital signature on every\npacket that's sent and if it gets tampered\n\n76\n00:04:02,440 --> 00:04:06,780\nwith it knows that and it throws\nthe packet out and invalidates it.\n\n77\n00:04:06,780 --> 00:04:08,640\nSo that's integrity.\n\n78\n00:04:08,640 --> 00:04:11,720\nConfidentiality and integrity,\nthat's what a VPN provides.\n\n79\n00:04:11,720 --> 00:04:14,100\nNow it all sounds kinda complex, right?\n\n80\n00:04:14,100 --> 00:04:16,800\nIt's a complex thing, securing this data.\n\n81\n00:04:16,800 --> 00:04:18,750\nBut it's really not\nthat hard to implement.\n\n82\n00:04:18,750 --> 00:04:22,040\nGetting it implemented inside of OS 10,\nor in the OS X server app,\n\n83\n00:04:22,040 --> 00:04:23,460\nis really pretty easy.\n\n84\n00:04:23,460 --> 00:04:27,570\nThere's a VPN server built in,\nwe can flip a switch to get it turned on.\n\n85\n00:04:27,570 --> 00:04:29,610\nThere's a little bit of\nconfiguration we have to do.\n\n86\n00:04:29,610 --> 00:04:31,250\nAnd we have to get our clients set up,\ntoo.\n\n87\n00:04:31,250 --> 00:04:32,820\nSo there's a bit of work there.\n\n88\n00:04:32,820 --> 00:04:36,030\nBut for the most part,\nit's a pretty simple thing to get going.\n\n89\n00:04:36,030 --> 00:04:38,230\nNow I do want to clarify\none thing real quick,\n\n90\n00:04:38,230 --> 00:04:43,210\nwhich is on the exam, they only\nfocus on the server side of things.\n\n91\n00:04:43,210 --> 00:04:48,540\nThey don't focus on the router and\nfirewall side, but in\n\n92\n00:04:48,540 --> 00:04:51,480\nreal life the router and firewall side is\nsomething you're gonna have to deal with.\n\n93\n00:04:51,480 --> 00:04:54,110\nSo I will want to show that to\nyou guys a little bit later.\n\n94\n00:04:54,110 --> 00:04:54,800\nIt's not on the exam.\n\n95\n00:04:54,800 --> 00:04:57,790\nI just want sure though that you guys\nhave an understanding of how that works.\n\n96\n00:04:57,790 --> 00:04:59,700\nCuz otherwise if you go to\nimplement it in the real world,\n\n97\n00:04:59,700 --> 00:05:00,790\nit might not work as expected.\n\n98\n00:05:02,370 --> 00:05:05,080\nAll right.\nNow inside of the OSX server,\n\n99\n00:05:05,080 --> 00:05:07,010\nlet's jump in here and\ntake a look at it real quick.\n\n100\n00:05:07,010 --> 00:05:11,160\nSo I've got a server fired up here and\nI've got this OSX server one.\n\n101\n00:05:11,160 --> 00:05:12,010\nThis is my machine.\n\n102\n00:05:12,010 --> 00:05:13,280\nIt's up and it's running and\n\n103\n00:05:13,280 --> 00:05:16,780\nwhen you look down the list of\nservices you'll see VPN right there.\n\n104\n00:05:16,780 --> 00:05:18,430\nWe've got that VPN service and\n\n105\n00:05:18,430 --> 00:05:22,000\nthere's not a whole heck of a lot\nthat we have to configure here.\n\n106\n00:05:22,000 --> 00:05:25,920\nSo we're gonna go in and get that\nconfigured get it put in place and\n\n107\n00:05:25,920 --> 00:05:27,540\nsee how we can secure that data.\n\n108\n00:05:27,540 --> 00:05:30,960\nAnd I'm gonna show you a neat tool that\nwe can use to monitor the network and\n\n109\n00:05:30,960 --> 00:05:33,632\nactually see whether the data\nis being encrypted or not.\n\n110\n00:05:33,632 --> 00:05:37,000\nAll right now,\nwhen we wanna turn the VPM service on.\n\n111\n00:05:37,000 --> 00:05:39,500\nThere's a few decisions\nthat we have to make, and\n\n112\n00:05:39,500 --> 00:05:44,570\nthe first decision is a pretty important\none, and it's this guy right here.\n\n113\n00:05:44,570 --> 00:05:48,390\nThe VPM server inside of OS10\nsupports two different protocols.\n\n114\n00:05:48,390 --> 00:05:52,430\nIf you drop that box down you'll see L2TP,\nand PPTP.\n\n115\n00:05:52,430 --> 00:05:57,610\nIt's the layer two tunneling protocol and\nthe point to point tunneling protocol.\n\n116\n00:05:57,610 --> 00:05:59,950\nNow, we have to make a choice.\n\n117\n00:05:59,950 --> 00:06:02,920\nNotice how L2TP is gonna\nbe turned on either way.\n\n118\n00:06:02,920 --> 00:06:08,530\nWe're just choosing whether\nwe also support PPTP or not.\n\n119\n00:06:08,530 --> 00:06:10,090\nThere's pros and cons to both, right?\n\n120\n00:06:10,090 --> 00:06:11,970\nLet's talk about PPTP first.\n\n121\n00:06:11,970 --> 00:06:15,970\nOn the positive side,\neverybody supports PPTP.\n\n122\n00:06:15,970 --> 00:06:19,040\nIt's the most compatible\nVPN protocol out there.\n\n123\n00:06:19,040 --> 00:06:24,020\nSo if you've got iOS phones and\niPads, you've got Android phones,\n\n124\n00:06:24,020 --> 00:06:26,840\nyou've got Windows computers,\nLinux computers.\n\n125\n00:06:26,840 --> 00:06:30,900\nAnd you want all of these different\noperating systems to be able to VPN in,\n\n126\n00:06:30,900 --> 00:06:32,830\nPPTP will work on all of them.\n\n127\n00:06:32,830 --> 00:06:34,470\nIt's the most compatible.\n\n128\n00:06:34,470 --> 00:06:37,130\nSo, you might say to yourself well\nthat sounds like a winner right there.\n\n129\n00:06:37,130 --> 00:06:38,250\nI'll go with that one.\n\n130\n00:06:38,250 --> 00:06:42,030\nThe problem with PPTP is\nit uses weak encryption.\n\n131\n00:06:42,030 --> 00:06:45,580\nIt was developed and released during the\ndays when the US had really tight export\n\n132\n00:06:45,580 --> 00:06:47,200\nrestrictions on encryption.\n\n133\n00:06:47,200 --> 00:06:49,520\nAnd so it uses a protocol called MPPE and\n\n134\n00:06:49,520 --> 00:06:53,380\nit's 40 bits by default\nwhich is not very strong.\n\n135\n00:06:53,380 --> 00:06:55,240\nPPTP can be broken.\n\n136\n00:06:55,240 --> 00:07:00,440\nSo if you're using that as your encryption\nprotocol, well, people can decipher it.\n\n137\n00:07:00,440 --> 00:07:01,500\nPeople can break into that and\n\n138\n00:07:01,500 --> 00:07:05,500\ngive it that data and that kind of\nnegates the whole purpose of a VPN.\n\n139\n00:07:05,500 --> 00:07:08,370\nIt'll stop your basic level attackers,\n\n140\n00:07:08,370 --> 00:07:10,140\nbut it won't stop anybody\nwho's really advanced.\n\n141\n00:07:10,140 --> 00:07:11,420\nThey'll be able to get it back.\n\n142\n00:07:11,420 --> 00:07:15,690\nSo we typically don't want to use\nPPTP unless we absolutely have to.\n\n143\n00:07:15,690 --> 00:07:19,070\nIf you have a device\nthat just supports that.\n\n144\n00:07:19,070 --> 00:07:19,960\nL2TP on the other hand,\n\n145\n00:07:19,960 --> 00:07:24,800\nlayer two tunneling protocol, this one\nis not supported by everybody, right?\n\n146\n00:07:24,800 --> 00:07:28,080\nEvery Mac supports it and\nevery Windows machine supports it, but\n\n147\n00:07:28,080 --> 00:07:29,890\nmost Android phones don't.\n\n148\n00:07:29,890 --> 00:07:31,880\nA lot of Linux boxes don't.\n\n149\n00:07:31,880 --> 00:07:34,120\nIt's not as widespread as PPTP.\n\n150\n00:07:35,210 --> 00:07:37,540\nBut, it's a lot more secure.\n\n151\n00:07:37,540 --> 00:07:41,120\nIt throws away that MPEE encryption and\ninstead it uses IP sic.\n\n152\n00:07:41,120 --> 00:07:42,460\nThe IP sic framework and\n\n153\n00:07:42,460 --> 00:07:46,720\nthat lets it have some of the best\nencryption possible on the network.\n\n154\n00:07:46,720 --> 00:07:49,930\nThat makes it very secure and\nit is the one that you want.\n\n155\n00:07:49,930 --> 00:07:52,359\nAnd that's why Apple\nmakes you turn on L2TD.\n\n156\n00:07:52,359 --> 00:07:55,450\nAnd it leaves it where PPTP\nis kind of optional, right?\n\n157\n00:07:55,450 --> 00:07:57,650\nIts that kind of secondary choice there.\n\n158\n00:07:57,650 --> 00:08:02,449\nSo usually, we just want L2TP and\nthat's what I'm gonna do here on the show.\n\n159\n00:08:02,449 --> 00:08:06,400\nIf you choose both, the configuration and\nsetup, it's all the same.\n\n160\n00:08:06,400 --> 00:08:07,980\nRight?\nIt doesn't really change anything.\n\n161\n00:08:07,980 --> 00:08:10,145\nIt just makes that second\nprotocol available and\n\n162\n00:08:10,145 --> 00:08:11,685\nmakes things a little bit weaker.\n\n163\n00:08:13,351 --> 00:08:15,350\nAll right, next we have the VPN host name.\n\n164\n00:08:15,350 --> 00:08:20,380\nNow, it's gonna automatically fill in the\nname of your server but be aware of this.\n\n165\n00:08:20,380 --> 00:08:25,090\nYour server is not really gonna be\nservicing people on the local network and\n\n166\n00:08:25,090 --> 00:08:29,180\nthis name that it's given mine in\nthis example is my local name.\n\n167\n00:08:29,180 --> 00:08:30,400\nWhen I want somebody to VPNN,\n\n168\n00:08:30,400 --> 00:08:33,930\nI want them to VPNN because they're\nnot here on the network with me.\n\n169\n00:08:33,930 --> 00:08:37,750\nBut they're out there at home or\nat a hotel or at a conference center and\n\n170\n00:08:37,750 --> 00:08:39,700\nI want them to have\na secure connection back.\n\n171\n00:08:39,700 --> 00:08:46,268\nSo the name that we provide here this name\nactually needs to be our public name.\n\n172\n00:08:46,268 --> 00:08:50,620\nThe name that people can use out there on\nthe Internet to find their way back to\n\n173\n00:08:50,620 --> 00:08:54,904\nthe server so we need to punch in whatever\nthat is maybe I've given my server\n\n174\n00:08:54,904 --> 00:08:59,680\nthe name vpn.itpro.tv so I would punch\nthat in here and make it available.\n\n175\n00:08:59,680 --> 00:09:03,780\nOr in my case, I can leave it to this\ncuz this is actually in one of our\n\n176\n00:09:03,780 --> 00:09:05,910\nmain domains I don't have this\npushed out to the Internet.\n\n177\n00:09:05,910 --> 00:09:10,040\nBut you wanna put a name in here\nthat is publicly accessible so\n\n178\n00:09:10,040 --> 00:09:11,570\npeople can find their\nway back to the server.\n\n179\n00:09:13,275 --> 00:09:15,495\nThen the shared secret.\n\n180\n00:09:15,495 --> 00:09:16,685\nThe shared secret?\n\n181\n00:09:16,685 --> 00:09:18,915\nThat's that key I was\ntalking about earlier.\n\n182\n00:09:18,915 --> 00:09:20,755\nIf we encrypt data and\n\n183\n00:09:20,755 --> 00:09:23,605\nsend it over the network the people on the\nother end have to be able to decrypt it.\n\n184\n00:09:23,605 --> 00:09:27,275\nAnd the way they decrypt it\nis by using a shared secret,\n\n185\n00:09:27,275 --> 00:09:30,400\nthis private key that they\ncan use to decode the data.\n\n186\n00:09:30,400 --> 00:09:33,710\nIf somebody gets a hold of this key,\nthey can decrypt our data, right.\n\n187\n00:09:33,710 --> 00:09:37,240\nThey can have access to that and that's\nexactly what we don't want to have happen.\n\n188\n00:09:37,240 --> 00:09:40,120\nSo, this needs to be\nsomething we keep secret.\n\n189\n00:09:40,120 --> 00:09:42,680\nWell, you can punch in your own or\n\n190\n00:09:42,680 --> 00:09:45,410\nif I click my little box here you'll\nsee it randomly generates one.\n\n191\n00:09:45,410 --> 00:09:48,290\nSo this is the randomly generated\nkey that it made for me.\n\n192\n00:09:48,290 --> 00:09:51,400\nNow if this is something you're\ngonna be writing down and\n\n193\n00:09:51,400 --> 00:09:55,600\nhanding it out to other people, well in\nthat case you might want to change it to\n\n194\n00:09:55,600 --> 00:09:57,660\nsomething that's a little\nmore easy to remember.\n\n195\n00:09:57,660 --> 00:10:00,170\nYou want to make sure it stays safe and\nsecure though.\n\n196\n00:10:00,170 --> 00:10:02,700\nBut the automatically\ngenerated one is nice and\n\n197\n00:10:02,700 --> 00:10:05,570\nstrong, it's not something people\nare gonna be able to guess, and\n\n198\n00:10:05,570 --> 00:10:09,142\nit works really well and the fact is\nyou really don't have to remember it.\n\n199\n00:10:09,142 --> 00:10:12,050\nI'm gonna show you here\njust a few more lines down\n\n200\n00:10:12,050 --> 00:10:15,220\nthat we can actually create what's\ncalled a Configuration Profile.\n\n201\n00:10:15,220 --> 00:10:19,610\nA configuration profile is a file that\ncontains the public server name and\n\n202\n00:10:19,610 --> 00:10:21,330\nthe key so that you can go and\n\n203\n00:10:21,330 --> 00:10:24,200\ninstall it quickly in other machines\nwithout having to know that password.\n\n204\n00:10:24,200 --> 00:10:25,490\nSo we don't have to memorize this,\n\n205\n00:10:25,490 --> 00:10:29,250\nyou can pick the stronger the better and\nyou'll have a nice secure connection.\n\n206\n00:10:31,570 --> 00:10:33,640\nAll right,\nafter that we've got our client addresses.\n\n207\n00:10:33,640 --> 00:10:35,780\nNow what are client addresses?\n\n208\n00:10:35,780 --> 00:10:39,300\nWhen somebody VPN's in they're\non a different network.\n\n209\n00:10:39,300 --> 00:10:42,400\nThey're at a hotel they're at\nhome they're who knows where.\n\n210\n00:10:42,400 --> 00:10:43,490\nWe don't know what their IP is.\n\n211\n00:10:43,490 --> 00:10:45,030\nIt's probably some RFC 19,\n\n212\n00:10:45,030 --> 00:10:49,150\n18, fake network that isn't\nInternet routable anyway.\n\n213\n00:10:49,150 --> 00:10:51,210\nWe don't know what network they're on.\n\n214\n00:10:51,210 --> 00:10:56,580\nSo when they VPN into us, we want them\nto appear as if they're on our network.\n\n215\n00:10:57,710 --> 00:11:03,159\nSo for example, my server if I go into\nmy Network Settings, I'm on the 10.\n\n216\n00:11:03,159 --> 00:11:07,995\n211.55 network, so I'm just going to\ngo into my network settings here, and\n\n217\n00:11:07,995 --> 00:11:08,768\nthere we go.\n\n218\n00:11:08,768 --> 00:11:14,143\nSo I'm on the 10.201.55 network and\nit's a 24 bit network.\n\n219\n00:11:14,143 --> 00:11:19,236\nSo that means my network actually\nruns from 10.201.55.1 all the way\n\n220\n00:11:19,236 --> 00:11:23,880\nto 10.201.55.254 so\nthey cover a pretty big range of IPs.\n\n221\n00:11:24,900 --> 00:11:26,872\nWhen somebody VPNs in,\nI want them to be on the same network.\n\n222\n00:11:26,872 --> 00:11:31,050\nI want them to be right here\non the network with me, so\n\n223\n00:11:31,050 --> 00:11:34,780\nthat when they're VPN'd in they feel and\nact their computer thinks that they're on\n\n224\n00:11:34,780 --> 00:11:38,290\nthe same network as the server,\nthat's exactly what we want with the VPN.\n\n225\n00:11:38,290 --> 00:11:41,920\nSo I need give it a pool of IPs to use.\n\n226\n00:11:41,920 --> 00:11:44,440\nWell, if I'm using DHCP, right?\n\n227\n00:11:44,440 --> 00:11:47,125\nSo if I've got the DHCP server turned on,\n\n228\n00:11:47,125 --> 00:11:51,893\nthen I can use it to issue out those\nIPs but notice, I'm not running DHCP.\n\n229\n00:11:51,893 --> 00:11:58,657\nI don't have that on mine so Instead, what\nI can do is when I'm setting up the VPN,\n\n230\n00:11:58,657 --> 00:12:04,320\nwe can define a range of IPs and\nby default it will grab 31 IPs.\n\n231\n00:12:04,320 --> 00:12:08,018\nBut look at that range that it picked,\n10.10.1.224.\n\n232\n00:12:08,018 --> 00:12:11,398\nI don't know, that must have been a like\ndefault IP when I set this server up or\n\n233\n00:12:11,398 --> 00:12:12,290\nsomething.\n\n234\n00:12:12,290 --> 00:12:14,040\nSo that's not in the right range.\n\n235\n00:12:14,040 --> 00:12:16,770\nSo I just need to correct this and\ntell it where to start.\n\n236\n00:12:16,770 --> 00:12:20,940\nAnd I'm gonna lower mine\ndown to just ten IPs and\n\n237\n00:12:20,940 --> 00:12:25,226\nmaybe I'll start mine at 10.201.55.\n\n238\n00:12:25,226 --> 00:12:27,810\nLet's do 220, all right.\n\n239\n00:12:27,810 --> 00:12:30,489\nSo what's going to happen is\nit's gonna take 10.211.55.220,\n\n240\n00:12:30,489 --> 00:12:32,893\nall the way through 230, or\nI guess 229 because it starts at 0.\n\n241\n00:12:32,893 --> 00:12:36,412\nAll the way through 229 and\n\n242\n00:12:36,412 --> 00:12:41,768\nit's going to hold onto\nthose IP addresses.\n\n243\n00:12:41,768 --> 00:12:45,882\nAnd when people VPN in it's gonna give\nthem an address from that group so\n\n244\n00:12:45,882 --> 00:12:49,931\nthe first person who VPNs in\nwill get 10.201.55.200 and\n\n245\n00:12:49,931 --> 00:12:54,060\nthe second person will get 201 and\nthe third person will get 202.\n\n246\n00:12:54,060 --> 00:12:58,520\nAnd as long as I don't have more than ten\npeople simultaneously connected I'm fine\n\n247\n00:12:58,520 --> 00:13:03,160\nbut if an 11th person tries to connect\nin at the same time I run out of IPs.\n\n248\n00:13:03,160 --> 00:13:07,296\nSo you've got make this pool big enough to\nsupport the amount of users that are gonna\n\n249\n00:13:07,296 --> 00:13:08,018\nbe VPNing in.\n\n250\n00:13:08,018 --> 00:13:08,750\nAll right.\n\n251\n00:13:08,750 --> 00:13:10,101\nI'll leave my at ten there.\n\n252\n00:13:10,101 --> 00:13:11,200\nGo ahead and just okay on it.\n\n253\n00:13:11,200 --> 00:13:14,170\nSo I've now got a pool of ten\nIPs available from that client.\n\n254\n00:13:16,290 --> 00:13:18,260\nThen we've got our DNS settings.\n\n255\n00:13:18,260 --> 00:13:22,730\nWhen somebody VPNs in, they're already\non a network with Internet access.\n\n256\n00:13:22,730 --> 00:13:25,390\nSo they've got a router they're going\nthrough to get out to the internet.\n\n257\n00:13:25,390 --> 00:13:27,200\nThey've got DNS servers.\n\n258\n00:13:27,200 --> 00:13:30,170\nDefined in their machine to be\nable to go out and get to DNS.\n\n259\n00:13:30,170 --> 00:13:34,100\nI can override that so\nright here I can edit that setting and\n\n260\n00:13:34,100 --> 00:13:37,480\nI can tell them what DNS\nserver I want them to use.\n\n261\n00:13:37,480 --> 00:13:40,910\nAnd you'll see it's actually taking\nsome of the DHCP settings that I got\n\n262\n00:13:40,910 --> 00:13:42,750\non my own laptop and pulling those in.\n\n263\n00:13:42,750 --> 00:13:45,730\nSo I'm gonna come in here and\nupdate these and I'm gonna say,\n\n264\n00:13:45,730 --> 00:13:50,660\nview VPN,\nuse my server as your DNS, right?\n\n265\n00:13:50,660 --> 00:13:55,780\nMy server is 10.211.55.200, I want them\nto use me, because I'm an open directory\n\n266\n00:13:55,780 --> 00:13:59,590\nserver, so that way they can find me and\nauthenticate and all that good stuff.\n\n267\n00:13:59,590 --> 00:14:02,860\nBut we could also add in public\nDNS servers whatever it is that\n\n268\n00:14:02,860 --> 00:14:03,370\nwe want, right?\n\n269\n00:14:03,370 --> 00:14:06,630\nThis is just like any any old\nDNS screen or DHCP screen.\n\n270\n00:14:08,160 --> 00:14:12,385\nAnd then search domains,\nI'll say when somebody is connected to me,\n\n271\n00:14:12,385 --> 00:14:17,468\nI'll add lab.itpro.tv, and that way when\nthey do a lookup for a single name, like\n\n272\n00:14:17,468 --> 00:14:23,226\nosx-server1, it'll append lab.itpro.tv to\nthe end of that, and it'll find my system.\n\n273\n00:14:25,935 --> 00:14:27,900\nAnd then the very last\nentry here is routes.\n\n274\n00:14:29,130 --> 00:14:33,660\nBy default, when somebody VPNs in,\nall of their traffic 100% of their traffic\n\n275\n00:14:34,820 --> 00:14:37,860\nwill be sent over that VPN\ntunnel to your office.\n\n276\n00:14:37,860 --> 00:14:42,800\nThat means that if I'm at home and I take\nmy laptop and VPN into the office, now\n\n277\n00:14:42,800 --> 00:14:46,110\nall of my traffic is going to the office,\neven if I'm going to a public website.\n\n278\n00:14:46,110 --> 00:14:49,800\nMaybe I fire up a web browser and\nI go to CNN.com.\n\n279\n00:14:49,800 --> 00:14:53,210\nWell instead of going straight to CNN,\nmy traffic goes\n\n280\n00:14:53,210 --> 00:14:57,950\nover the VPN tunnel to the office and\nfrom the office it then goes out to CNN.\n\n281\n00:14:57,950 --> 00:15:01,890\nNow, maybe I want that, maybe I want\nto keep that data safe and secret,\n\n282\n00:15:01,890 --> 00:15:05,550\nI'm at a hotel or I'm on the Starbucks\nwireless network and I don't want anybody\n\n283\n00:15:05,550 --> 00:15:08,910\nthere to see where I'm going on the web or\nanything like that.\n\n284\n00:15:08,910 --> 00:15:14,730\nSo that's the default but you might wanna\ndo something called split tunneling where\n\n285\n00:15:14,730 --> 00:15:17,870\nsome of your traffic goes over the VPN\ntunnel and some of your traffic doesn't.\n\n286\n00:15:17,870 --> 00:15:22,810\nNow why would I wanna do that bandwidth\nbandwidth is the main reason when\n\n287\n00:15:22,810 --> 00:15:27,650\nall of your traffic is going across\nthe VPN tunnel and to the office If it's\n\n288\n00:15:27,650 --> 00:15:32,020\nsomething like going to CNN you're kinda\nwasting bandwidth your crossing the VPN\n\n289\n00:15:32,020 --> 00:15:35,100\ntunnel to get to the office and then\nyou're going from the office out to CNN.\n\n290\n00:15:35,100 --> 00:15:39,302\nThat data goes from CNN back to the office\nand then back over to the VPN tunnel\n\n291\n00:15:39,302 --> 00:15:43,450\nyou're adding an extra leg to your\njourney and kinda wasting resources.\n\n292\n00:15:43,450 --> 00:15:48,226\nSo what you can do is you can define that\nsome network traffic comes over the VPN\n\n293\n00:15:48,226 --> 00:15:52,650\nand other traffic doesn't and\nthat's where this route part comes in.\n\n294\n00:15:52,650 --> 00:15:54,886\nIf we choose to edit If this is empty,\n\n295\n00:15:54,886 --> 00:16:00,100\nthen all of your traffic goes over\nthe VPN tunnel, that's the default.\n\n296\n00:16:00,100 --> 00:16:07,160\nBut if I start to populate this,\nnow I can define what I want.\n\n297\n00:16:07,160 --> 00:16:11,571\nI could say, for example,\nthat 10.211.55.0 With\n\n298\n00:16:11,571 --> 00:16:16,076\na 24-bit subnet mask, oh,\nit wants the old style notation.\n\n299\n00:16:18,350 --> 00:16:20,320\nWell, it needs to make up its mind.\n\n300\n00:16:20,320 --> 00:16:20,860\nThere we go.\n\n301\n00:16:21,930 --> 00:16:25,000\nSo, I'm gonna say that this whole network,\nthat's private but\n\n302\n00:16:25,000 --> 00:16:26,840\nthen I can add in other networks.\n\n303\n00:16:30,220 --> 00:16:33,854\nLike the all zero network which is\nkind of like everything else and\n\n304\n00:16:33,854 --> 00:16:38,214\nI can put that in as public and now what\nI'm saying is if its traffic destined for\n\n305\n00:16:38,214 --> 00:16:42,709\n10.211.55, right, my work network\nthen go over the VPN tunnel but for\n\n306\n00:16:42,709 --> 00:16:46,609\neverything else just go right out\nover the internet don't bother with\n\n307\n00:16:46,609 --> 00:16:49,628\nthe VPN tunnel right take\nthat leg of the journey out.\n\n308\n00:16:49,628 --> 00:16:50,291\nAll right.\n\n309\n00:16:50,291 --> 00:16:52,413\nOn a positive side,\nthis will save bandwidth and\n\n310\n00:16:52,413 --> 00:16:54,660\nresources on your VPN server.\n\n311\n00:16:54,660 --> 00:16:58,190\nOn a negative side,\nit opens you up to risk, right?\n\n312\n00:16:58,190 --> 00:17:01,890\nIf somebody's on a laptop and\nthey're connected this way,\n\n313\n00:17:01,890 --> 00:17:04,890\ntheir work traffic is\ngoing over the VPN tunnel.\n\n314\n00:17:04,890 --> 00:17:08,240\nThen they open up a web browser and\nthey go to an illegal torrent site, right?\n\n315\n00:17:08,240 --> 00:17:11,410\nOr some site that has malware or\nmalicious advertisements.\n\n316\n00:17:11,410 --> 00:17:12,750\nThey start hitting that.\n\n317\n00:17:12,750 --> 00:17:15,390\nNow, their machine gets infected.\n\n318\n00:17:15,390 --> 00:17:18,550\nMeanwhile, they've got a VPN\ntunnel back to the office, and\n\n319\n00:17:18,550 --> 00:17:20,680\nnow that can flow right\nthrough to the office.\n\n320\n00:17:20,680 --> 00:17:22,110\nYou've created a gateway.\n\n321\n00:17:22,110 --> 00:17:25,740\nYou've created a backdoor\ninto your network, basically.\n\n322\n00:17:25,740 --> 00:17:28,170\nSo a lot of people don't like to do that.\n\n323\n00:17:28,170 --> 00:17:31,370\nand that's why the default\nis that this is empty and\n\n324\n00:17:31,370 --> 00:17:33,505\nall traffic goes over the VPN tunnel,\nright?\n\n325\n00:17:33,505 --> 00:17:34,900\nAnd that's how I'm going to leave mine.\n\n326\n00:17:34,900 --> 00:17:38,113\nThat's normally what we want.\n\n327\n00:17:38,113 --> 00:17:41,945\nAll right, when all of this is done,\nI can flip the on-switch.\n\n328\n00:17:41,945 --> 00:17:45,980\nAnd now, I've got a VPN server,\nnow it's up and running.\n\n329\n00:17:47,720 --> 00:17:51,290\nThe next part of the journey is\nconfiguring the client, though.\n\n330\n00:17:51,290 --> 00:17:54,400\nAnd in the client, I've got two choices,\nI can do it manually.\n\n331\n00:17:54,400 --> 00:17:57,870\nI can go to the client, I can add a VPN\nconnection, I can put in all of my\n\n332\n00:17:57,870 --> 00:18:03,290\nsettings or, I can have a configuration\nprofile If you've got the profile\n\n333\n00:18:03,290 --> 00:18:06,460\nmanager set up, you can jump into the\nprofile manager and define the VPN there.\n\n334\n00:18:06,460 --> 00:18:08,710\nIt'll automatically push\nto all of your machines.\n\n335\n00:18:08,710 --> 00:18:11,500\nNow all the machines in your network,\nor whichever ones your choose,\n\n336\n00:18:11,500 --> 00:18:15,980\nwill be allowed to VPN in or,\nyou can use this little button right here,\n\n337\n00:18:15,980 --> 00:18:18,050\nSave Configuration Profile.\n\n338\n00:18:18,050 --> 00:18:22,830\nAnd when you do that, it's gonna create a\nlittle file here called VPN.mobileconfig.\n\n339\n00:18:22,830 --> 00:18:25,910\nAnd this file I'll just\nsave it here on my desktop.\n\n340\n00:18:28,080 --> 00:18:30,860\nThat little file right there\nthat I just made, this guy.\n\n341\n00:18:32,140 --> 00:18:32,940\nIt's a config file.\n\n342\n00:18:32,940 --> 00:18:33,790\nIt's a profile.\n\n343\n00:18:33,790 --> 00:18:35,300\nIf you watch the profile manager episode.\n\n344\n00:18:35,300 --> 00:18:36,900\nWe use these to move certificates.\n\n345\n00:18:36,900 --> 00:18:39,630\nThis one, has the VPN configuration.\n\n346\n00:18:39,630 --> 00:18:41,590\nI can stick that file on a USB key.\n\n347\n00:18:41,590 --> 00:18:43,960\nAnd I can go to any laptop or\ndesktop in my company.\n\n348\n00:18:43,960 --> 00:18:48,520\nI can plug that key in, double-click on\nthis file and now I'm set up with VPN.\n\n349\n00:18:48,520 --> 00:18:49,820\nThat easy, right.\n\n350\n00:18:49,820 --> 00:18:53,740\nNow you might ask yourself wait a minute\nDon, what if I lose that USB key.\n\n351\n00:18:53,740 --> 00:18:55,250\nI leave it on a cab or\nsomething like that.\n\n352\n00:18:55,250 --> 00:18:56,930\nNow somebody can VPN in, right?\n\n353\n00:18:56,930 --> 00:19:02,000\nWell, the shared secret, this key right\nhere, that's part of the equation but\n\n354\n00:19:02,000 --> 00:19:04,970\nthe other part is, when you VPN in,\nit's gonna ask you for\n\n355\n00:19:04,970 --> 00:19:06,380\nyour username and password.\n\n356\n00:19:06,380 --> 00:19:08,880\nSo you really have to have two things,\nkind of dual factor.\n\n357\n00:19:08,880 --> 00:19:12,450\nYou have to have a shared key,\nand that is really important, and\n\n358\n00:19:12,450 --> 00:19:15,910\nyou have to have a valid username and\npassword for it to be able to VPN in.\n\n359\n00:19:15,910 --> 00:19:19,570\nSo it's not the end of the world if you\nlose it, but if you do, you should go and\n\n360\n00:19:19,570 --> 00:19:23,460\nchange the shared key and regenerate\nyour config profile as soon as possible.\n\n361\n00:19:23,460 --> 00:19:24,050\nRight?\n\n362\n00:19:24,050 --> 00:19:29,240\nBut somebody would have to have a username\nand password to actually VPN in but\n\n363\n00:19:29,240 --> 00:19:33,220\nonce all that's done the server\nside is pretty much complete.\n\n364\n00:19:33,220 --> 00:19:37,160\nNow, as far as the exam, that's all they\nwant you to know on the server side.\n\n365\n00:19:37,160 --> 00:19:40,820\nBut I'll tell you that there's a little\nbit more that we need to tackle.\n\n366\n00:19:40,820 --> 00:19:45,920\nThe VPN server is up, it's running,\nand it's listening for connections.\n\n367\n00:19:45,920 --> 00:19:47,380\nNow it's listening for\nthose connections and\n\n368\n00:19:47,380 --> 00:19:49,960\nits connections are going to be\ncoming from the internet, so\n\n369\n00:19:49,960 --> 00:19:54,640\nI need to go to my firewall or my router\nand tell it, hey there's going to be this\n\n370\n00:19:54,640 --> 00:19:58,930\ntraffic coming from the internet to\nthe VPN server, you need to allow it.\n\n371\n00:19:58,930 --> 00:20:02,020\nOkay, so, if you've got a router,\nyou might need to do port forwarding.\n\n372\n00:20:02,020 --> 00:20:04,840\nIf you've got a firewall, you definitely\nneed to do some NAT translations and\n\n373\n00:20:04,840 --> 00:20:10,390\nsome firewall rules to say allow this\nVPN traffic to reach the VPN server.\n\n374\n00:20:10,390 --> 00:20:14,821\nSo, just to kind of summarize what we have\nto do real quick, the different protocols,\n\n375\n00:20:14,821 --> 00:20:17,990\ndepending on what we choose,\nhave different requirements.\n\n376\n00:20:17,990 --> 00:20:22,658\nSo for example, if you wanna do PPTP,\nwhich you don't really wanna do, but for\n\n377\n00:20:22,658 --> 00:20:27,370\nyour own knowledge, your firewall or\nrouter has to allow TCP port 1,723.\n\n378\n00:20:27,370 --> 00:20:31,110\nAnd I'll put this in the show notes, so\ndon't feel like you've gotta scribble this\n\n379\n00:20:31,110 --> 00:20:36,220\ndown real quick but\nTCP port 1723 has to be allowed through\n\n380\n00:20:36,220 --> 00:20:43,420\nthe firewall to get to the VPN server,\nand it has to allow the GRE protocol.\n\n381\n00:20:43,420 --> 00:20:46,970\nNow, GRE protocol, that's the generic\nrouting encapsulation protocol.\n\n382\n00:20:46,970 --> 00:20:47,890\nIt's not a port.\n\n383\n00:20:47,890 --> 00:20:50,540\nIt's not TCP or whatever.\n\n384\n00:20:50,540 --> 00:20:51,840\nIt's its own protocol.\n\n385\n00:20:51,840 --> 00:20:54,840\nSo we're talking about protocol\nnumber 47 on that one.\n\n386\n00:20:54,840 --> 00:20:57,836\nYes 47, I just had to verify and\nmake sure I'm telling you the truth there.\n\n387\n00:20:57,836 --> 00:21:02,460\nBut yeah, protocol 47 and TCP port 1723.\n\n388\n00:21:02,460 --> 00:21:07,430\nNow, most of us aren't gonna run PPTP so\nwe don't care about that, right.\n\n389\n00:21:07,430 --> 00:21:10,270\nL2TP, on the other hand,\nthat's the one that we do care about.\n\n390\n00:21:10,270 --> 00:21:11,300\nAnd it needs a few more and\n\n391\n00:21:11,300 --> 00:21:14,400\nI'm gonna show you here on a firewall\nwhere I've already set that up.\n\n392\n00:21:14,400 --> 00:21:19,580\nI'm gonna log in to my firewall real\nquick and show you what I mean.\n\n393\n00:21:19,580 --> 00:21:23,430\nLet's see, there we go.\n\n394\n00:21:23,430 --> 00:21:26,650\nI'm using a PF Sense firewall here.\n\n395\n00:21:26,650 --> 00:21:30,437\nEvery file log has a slightly different\nscreen or configuration, so yours may look\n\n396\n00:21:30,437 --> 00:21:34,024\ndifferent, but the settings that you're\nputting in are basically the same.\n\n397\n00:21:34,024 --> 00:21:39,095\nSo if I go in here to my firewall rules,\nyou can see where I've\n\n398\n00:21:39,095 --> 00:21:43,768\ndefined a few rules right here\nto handle my VPN server and\n\n399\n00:21:43,768 --> 00:21:50,443\nwhat I'm doing is allowing UDP port 500,\nport 1701 and port 4500.\n\n400\n00:21:50,443 --> 00:21:57,751\nThose three UDP ports and then I'm\nallowing an entire protocol sweep IP Sec.\n\n401\n00:21:57,751 --> 00:21:59,870\nThe L2TP,\n\n402\n00:21:59,870 --> 00:22:04,790\nLayer 2 Tunnelling Protocol, uses\nthe IP Sec framework for its encryption.\n\n403\n00:22:04,790 --> 00:22:07,350\nAnd that piece of the framework\nis actually called ESP,\n\n404\n00:22:07,350 --> 00:22:10,490\nthe Encapsulating Security Payload.\n\n405\n00:22:10,490 --> 00:22:13,890\nAnd that's what ESP is, and so\nI'm approving that entire protocol.\n\n406\n00:22:13,890 --> 00:22:18,590\nI mentioned earlier GRE, and\nhow it's protocol 47, ESP is protocol 50.\n\n407\n00:22:18,590 --> 00:22:22,110\nSo when you go to set this up on your\nfirewall it might be called ESP,\n\n408\n00:22:22,110 --> 00:22:23,370\nas how it was on mine, or\n\n409\n00:22:23,370 --> 00:22:26,520\nit might be called protocol 50,\nso you'll have to look for that.\n\n410\n00:22:26,520 --> 00:22:31,970\nBut you've got to allow this traffic\nto be able to go from the Internet\n\n411\n00:22:31,970 --> 00:22:33,960\nto that particular resource.\n\n412\n00:22:33,960 --> 00:22:38,320\nSo my server is 10.201.55.200,\nso see I've approved that for\n\n413\n00:22:38,320 --> 00:22:41,690\nall four of those, and\nthat's what's gonna allow that connection.\n\n414\n00:22:41,690 --> 00:22:45,690\nYou also kinda start to see here why Apple\nsays this out of the scope of the exam.\n\n415\n00:22:45,690 --> 00:22:48,290\nThey can't put this on the exam cuz\nthey don't know what firewall you have.\n\n416\n00:22:48,290 --> 00:22:49,836\nThey don't know what router you have.\n\n417\n00:22:49,836 --> 00:22:55,500\nThey don't know your configuration but,\nyou should probably remember those ports.\n\n418\n00:22:55,500 --> 00:23:00,032\nSo PPTP, that was TCP port 1723 and GRE,\n\n419\n00:23:00,032 --> 00:23:07,380\nwhich is Protocol 47 on L2TP,\nwe need to do three UDP ports, right?\n\n420\n00:23:07,380 --> 00:23:13,870\nUDP 500, 1701, and 4500 and then lastly,\nwe needed Protocol 50, which is ESP.\n\n421\n00:23:13,870 --> 00:23:15,960\nSo those are the things that we\nhave to allow on our firewall for\n\n422\n00:23:15,960 --> 00:23:16,510\nthis all to work.\n\n423\n00:23:18,440 --> 00:23:20,310\nAll right, so my server is setup.\n\n424\n00:23:20,310 --> 00:23:21,920\nMy firewall is setup.\n\n425\n00:23:21,920 --> 00:23:25,480\nI'm ready to tackle the client side now,\nbut looking at the clock,\n\n426\n00:23:25,480 --> 00:23:27,730\nthis is probably a good spot to stop and\ntake a break.\n\n427\n00:23:27,730 --> 00:23:29,020\nSo let's pause here and\n\n428\n00:23:29,020 --> 00:23:32,010\nwhen we get back we're gonna get\nthat client setup to connect.\n\n429\n00:23:32,010 --> 00:23:34,770\nWe'll jump in and\nactually see our data getting encrypted.\n\n430\n00:23:34,770 --> 00:23:35,370\nGonna be pretty fun.\n\n431\n00:23:35,370 --> 00:23:36,983\nSo stay tuned, we'll be back after this.\n\n432\n00:23:36,983 --> 00:23:43,694\n[MUSIC]\n\n433\n00:23:43,694 --> 00:23:45,600\nAll right, welcome back everybody.\n\n434\n00:23:45,600 --> 00:23:49,005\nSo when the first thing that we got\na chance to see setting up the VPN server,\n\n435\n00:23:49,005 --> 00:23:52,319\nnow we're gonna take a look at setting\nup the client, our workstation.\n\n436\n00:23:52,319 --> 00:23:57,399\nNow, I do want to kind of move off\nthe objectives here for just a moment.\n\n437\n00:23:57,399 --> 00:24:01,288\nI wanna show you something kinda neat\nwhich is how do we actually know whether\n\n438\n00:24:01,288 --> 00:24:02,530\na VPN is working.\n\n439\n00:24:02,530 --> 00:24:04,690\nI've mentioned how the internet\nis not to be trusted.\n\n440\n00:24:04,690 --> 00:24:05,520\nRight.\nIt's a public\n\n441\n00:24:05,520 --> 00:24:07,220\nnetwork you don't know who's out there.\n\n442\n00:24:07,220 --> 00:24:08,680\nWe should have a VPN.\n\n443\n00:24:08,680 --> 00:24:10,010\nBut why?\n\n444\n00:24:10,010 --> 00:24:12,770\nThere's a lot of stuff like this out in\nthe tech news where people tell you should\n\n445\n00:24:12,770 --> 00:24:14,430\ndo something one way but\nthey don't actually show you why.\n\n446\n00:24:14,430 --> 00:24:16,630\nSo I want to show you guys why.\n\n447\n00:24:16,630 --> 00:24:19,440\nI'm gonna show you guys communicating\nacross the network using a non\n\n448\n00:24:19,440 --> 00:24:20,640\nsecure protocol.\n\n449\n00:24:20,640 --> 00:24:24,480\nAnd what an attacker could see if they can\nget themselves in between your traffic and\n\n450\n00:24:24,480 --> 00:24:25,690\nthe destination.\n\n451\n00:24:25,690 --> 00:24:28,340\nSo, I've got my workstation\nsetup right here, and\n\n452\n00:24:28,340 --> 00:24:30,120\nlet's say that I wanna\nuse a protocol like FTP.\n\n453\n00:24:31,130 --> 00:24:36,170\nFTP is the File Transfer Protocol,\nand it's a non-secure protocol.\n\n454\n00:24:36,170 --> 00:24:40,040\nIf I look at my OS 10 server,\ndown here under advanced,\n\n455\n00:24:40,040 --> 00:24:42,680\nyou've got an FTP server\nbuilt right into it.\n\n456\n00:24:42,680 --> 00:24:46,270\nAnd Apple tells you hey,\nyou've got FTP support, you can use it.\n\n457\n00:24:46,270 --> 00:24:47,920\nIt's not very secure though.\n\n458\n00:24:47,920 --> 00:24:51,390\nYou're better off using Apple\nfile protocol, or SMB, or\n\n459\n00:24:51,390 --> 00:24:52,510\nsomething else like that.\n\n460\n00:24:52,510 --> 00:24:56,240\nBut even those protocols don't\nactually encrypt your data.\n\n461\n00:24:56,240 --> 00:24:58,870\nThey encrypt your authentication,\nyour username and password.\n\n462\n00:24:58,870 --> 00:25:00,610\nThey don't encrypt the data.\n\n463\n00:25:00,610 --> 00:25:05,190\nSo AFP and SMB, they're not the be\nall end all of security either.\n\n464\n00:25:05,190 --> 00:25:09,930\nBut FTP is probably the worst because\nnot only is your data unencrypted.\n\n465\n00:25:09,930 --> 00:25:13,030\nSo is your authentication, your username\nand password are sent in plain text.\n\n466\n00:25:13,030 --> 00:25:17,250\nSo, I wanna use this one as an example\nto show you guys what happens.\n\n467\n00:25:17,250 --> 00:25:21,600\nNow on my client, I'm going to run\na little program called Wireshark.\n\n468\n00:25:21,600 --> 00:25:24,770\nNow Wireshark is what's\ncalled a network sniffer.\n\n469\n00:25:24,770 --> 00:25:28,860\nIt's designed to watch the network and\nintercept packets.\n\n470\n00:25:28,860 --> 00:25:30,870\nThis is software that\nan attacker would use.\n\n471\n00:25:30,870 --> 00:25:33,440\nWell, there's a lot of legitimate\npeople that use Wireshark.\n\n472\n00:25:33,440 --> 00:25:35,400\nI use it all the time for\nnetwork troubleshooting.\n\n473\n00:25:35,400 --> 00:25:39,480\nBut attackers can use the same\ntools that we do to get data.\n\n474\n00:25:39,480 --> 00:25:43,420\nAnd what it does, is it allows you\nto record traffic on the network.\n\n475\n00:25:43,420 --> 00:25:46,740\nAnd so what I'm going to do is I'm\ngoing to take my network adapter and\n\n476\n00:25:46,740 --> 00:25:48,980\nI'm going to start recording traffic.\n\n477\n00:25:48,980 --> 00:25:50,780\nNow, while it's recording traffic.\n\n478\n00:25:50,780 --> 00:25:52,330\nI'm just going to let it sit here and\n\n479\n00:25:52,330 --> 00:25:57,200\nrun, in the background I'm going to\ndo an FTP connection to that server.\n\n480\n00:25:57,200 --> 00:25:57,860\nRight?\n\n481\n00:25:57,860 --> 00:26:02,510\nSo, here I go, I'm just gonna fire this\nup, and I'll connect to my server.\n\n482\n00:26:03,970 --> 00:26:04,970\nAnd I'm gonna get logged in.\n\n483\n00:26:04,970 --> 00:26:06,080\nI've got my login.\n\n484\n00:26:06,080 --> 00:26:10,310\nMy user name is helpdesk, my password is\njust the word password, all lowercase.\n\n485\n00:26:10,310 --> 00:26:14,200\nI'm gonna pull up a directory listing,\nso there's some files.\n\n486\n00:26:14,200 --> 00:26:15,790\nAnd maybe I wanna get one of these.\n\n487\n00:26:15,790 --> 00:26:19,510\nI'm gonna get records.txt.\n\n488\n00:26:19,510 --> 00:26:23,130\nAnd so I just got that file, and\nthen I'll get out, all right?\n\n489\n00:26:23,130 --> 00:26:27,370\nSo I just used FTP to reach out\nto that server, grab the files.\n\n490\n00:26:28,700 --> 00:26:33,750\nIf an attacker was sitting in\nbetween my workstation and\n\n491\n00:26:33,750 --> 00:26:36,470\nthe server, they could have\nintercepted all of that traffic.\n\n492\n00:26:36,470 --> 00:26:39,020\nNow, at your office\nthat's very hard to do.\n\n493\n00:26:39,020 --> 00:26:41,120\nYour laptop is on the same\nnetwork as the server.\n\n494\n00:26:41,120 --> 00:26:42,250\nIt's a trusted network.\n\n495\n00:26:42,250 --> 00:26:43,070\nIt's at the office.\n\n496\n00:26:43,070 --> 00:26:45,180\nIt would be hard for\nsomeone to get in between.\n\n497\n00:26:45,180 --> 00:26:49,720\nBut when you cross the internet,\nyou cross through several networks.\n\n498\n00:26:49,720 --> 00:26:50,250\nRight?\n\n499\n00:26:50,250 --> 00:26:54,040\nOftentimes, between 10 and\n20 networks on your way to a destination.\n\n500\n00:26:54,040 --> 00:26:56,460\nYou'll pass through a lot of servers.\n\n501\n00:26:56,460 --> 00:26:57,260\nWho controls those?\n\n502\n00:26:57,260 --> 00:26:59,350\nWho controls those\nrouters on the internet?\n\n503\n00:26:59,350 --> 00:27:00,960\nIn a lot of cases, you don't know.\n\n504\n00:27:00,960 --> 00:27:05,290\nSo somebody could get in between you and\nyour destination and\n\n505\n00:27:05,290 --> 00:27:08,090\nwhen that happens,\nthey capture the traffic like this.\n\n506\n00:27:08,090 --> 00:27:13,150\nNow to most of us, we look at this stuff\nand it's just jumbled mess, right?\n\n507\n00:27:13,150 --> 00:27:16,160\nBut to an attacker,\nthey can look for specific traffic.\n\n508\n00:27:16,160 --> 00:27:19,100\nFor example,\nlet me just filter that down to FTP.\n\n509\n00:27:19,100 --> 00:27:21,610\nSo now I'm just looking at FTP traffic and\n\n510\n00:27:21,610 --> 00:27:26,150\nlook what I see right here,\nrequest user Help Desk, request pass.\n\n511\n00:27:26,150 --> 00:27:26,910\nPassword.\n\n512\n00:27:26,910 --> 00:27:29,900\nThere's my password in plain text,\nright there.\n\n513\n00:27:29,900 --> 00:27:31,520\nAn attacker can intercept that.\n\n514\n00:27:31,520 --> 00:27:36,960\nThey can even go further than that,\nif we reassemble that TCP stream, and\n\n515\n00:27:36,960 --> 00:27:40,800\nput it together, an attacker can\nactually see the whole session.\n\n516\n00:27:40,800 --> 00:27:44,060\nHere is where I came in and\nI got prompted for a username, and\n\n517\n00:27:44,060 --> 00:27:47,460\nI provided help desk, and I got prompted\nfor a password and I provided a password.\n\n518\n00:27:47,460 --> 00:27:50,560\nAnd then I pulled up a directory listing,\nand so\n\n519\n00:27:50,560 --> 00:27:53,590\nas I scroll down, I can see where I\nrequested that directory listing.\n\n520\n00:27:53,590 --> 00:27:56,850\nAnd then here is where I got\na file; I got records.txt.\n\n521\n00:27:56,850 --> 00:27:58,910\nI can see everything that's going on.\n\n522\n00:28:00,120 --> 00:28:02,470\nIf I change this to ftp-data.\n\n523\n00:28:02,470 --> 00:28:07,235\nLet's go and look at some of the data.\n\n524\n00:28:07,235 --> 00:28:10,490\nActually I'm just gonna see\nthe data transfer there aren't I?\n\n525\n00:28:10,490 --> 00:28:14,000\nI need to see a little bit more,\nlet me go back.\n\n526\n00:28:14,000 --> 00:28:19,200\nFTP is an interesting protocol because\nit starts a connection on one port, and\n\n527\n00:28:19,200 --> 00:28:20,990\nthen it jumps to another port.\n\n528\n00:28:20,990 --> 00:28:23,430\nNow some people think it makes it\nmore secure, but it really doesn't.\n\n529\n00:28:23,430 --> 00:28:24,550\nLet me show you why.\n\n530\n00:28:24,550 --> 00:28:28,180\nSo again, if I'm the attacker,\nI can come in here and I can look for\n\n531\n00:28:28,180 --> 00:28:31,620\nwhat's called a passive mode transfer,\nand we can find that in here.\n\n532\n00:28:31,620 --> 00:28:32,600\nRight here.\nSee\n\n533\n00:28:32,600 --> 00:28:35,420\nhow it says entering\nextended passive mode?\n\n534\n00:28:35,420 --> 00:28:38,170\nIt's telling me what port\nit's flipping over to.\n\n535\n00:28:38,170 --> 00:28:39,280\nIt's flipping over to port 49590.\n\n536\n00:28:39,280 --> 00:28:40,440\nNow, I never would have guessed that.\n\n537\n00:28:40,440 --> 00:28:47,430\nBut I don't have to guess because it\nis right here in plain text, 49590.\n\n538\n00:28:47,430 --> 00:28:52,250\nSo I can come in here and\nI can say tcp port equals 49590.\n\n539\n00:28:52,250 --> 00:28:59,590\nAnd now I can find that traffic and\nI can reassemble that stream.\n\n540\n00:28:59,590 --> 00:29:03,650\nAnd inside of that, here's the directory\nlisting that was pulled up.\n\n541\n00:29:03,650 --> 00:29:05,360\nNow I can see that data was transferred.\n\n542\n00:29:05,360 --> 00:29:05,920\nAnd if I look for\n\n543\n00:29:05,920 --> 00:29:09,150\nthe port that was used when we transferred\nthe file when I did that getRecords.txt,\n\n544\n00:29:09,150 --> 00:29:13,510\nI can get that entire file,\nall right out of this recorded screen.\n\n545\n00:29:13,510 --> 00:29:16,470\nNow, this recording\nhappened in the background.\n\n546\n00:29:16,470 --> 00:29:18,320\nThe user doesn't even know it happened.\n\n547\n00:29:18,320 --> 00:29:20,660\nTheir traffic goes right\nthrough just like normal.\n\n548\n00:29:20,660 --> 00:29:23,360\nThat's what's so\ndangerous about this attack.\n\n549\n00:29:23,360 --> 00:29:26,910\nYou don't even know what happened, they\njust gathered that data and there it was.\n\n550\n00:29:26,910 --> 00:29:30,210\nSo, that's the risk,\nthat's the problem that we have.\n\n551\n00:29:30,210 --> 00:29:32,360\nA VPN can fix that.\n\n552\n00:29:32,360 --> 00:29:35,790\nWith a VPN,\nthis data would've all been encrypted and\n\n553\n00:29:35,790 --> 00:29:38,530\nif somebody intercepts it they\nwould've just seen encrypted hashes.\n\n554\n00:29:38,530 --> 00:29:40,660\nThey wouldn't of seen the actual text.\n\n555\n00:29:40,660 --> 00:29:42,490\nSo, let's see that in action.\n\n556\n00:29:42,490 --> 00:29:45,560\nAll right, first off,\nthis is actually a virtual machine for me.\n\n557\n00:29:45,560 --> 00:29:48,180\nSo I'm going to take\nmy virtual machine and\n\n558\n00:29:48,180 --> 00:29:50,430\nI'm gonna move it over\nto a different network.\n\n559\n00:29:50,430 --> 00:29:53,220\nSo I'm just going to treat this\nlike it's somebody at home.\n\n560\n00:29:53,220 --> 00:29:56,530\nSo we're going to take them and\nmove it over to another LAN.\n\n561\n00:29:58,170 --> 00:29:58,760\nHere we go.\n\n562\n00:30:00,780 --> 00:30:02,580\nAnd let me get rid of Wireshark for\na second.\n\n563\n00:30:04,740 --> 00:30:06,850\nAnd I'm gonna just switch\ntheir IP back to DACP.\n\n564\n00:30:06,850 --> 00:30:09,820\nSo now I'm taking this laptop and\nI'm going home.\n\n565\n00:30:09,820 --> 00:30:13,510\nAnd I'm getting on my home network,\nwhere I can start to work, and browse\n\n566\n00:30:13,510 --> 00:30:16,940\nthe internet, and do all the great things\nthat we do when we're at home, right?\n\n567\n00:30:16,940 --> 00:30:19,480\nNow I'm at home so my risk is now greater.\n\n568\n00:30:19,480 --> 00:30:22,000\nAs I pass across\nthe internet to the office\n\n569\n00:30:22,000 --> 00:30:25,930\nencryption becomes that\nmuch more important,right?\n\n570\n00:30:25,930 --> 00:30:28,970\nI've got a 1921680 address because\nI'm at home,and if I try and\n\n571\n00:30:28,970 --> 00:30:31,030\ndo something like ping the server.\n\n572\n00:30:31,030 --> 00:30:34,770\nSo if I try and ping 10.211.55.200,\nwell I can't get to it.\n\n573\n00:30:36,190 --> 00:30:39,170\nBecause I'm not at work\nanymore I'm at home and\n\n574\n00:30:39,170 --> 00:30:43,080\nhome the server is not their home so\nI can't even get to my server right now.\n\n575\n00:30:43,080 --> 00:30:43,700\nI'm not connected.\n\n576\n00:30:44,720 --> 00:30:46,980\nSo I need to get my VPN set up.\n\n577\n00:30:46,980 --> 00:30:48,860\nThere's two ways I can set up a VPN.\n\n578\n00:30:48,860 --> 00:30:50,817\nThe first way is the manual way.\n\n579\n00:30:50,817 --> 00:30:55,461\nIf you go into your system preferences,\nwhich I already had open.\n\n580\n00:30:55,461 --> 00:30:58,917\n[LAUGH] If you go into your system\npreferences, and you go into network,\n\n581\n00:30:58,917 --> 00:31:02,300\nright here in your network you\nsee your physical adapters.\n\n582\n00:31:02,300 --> 00:31:04,880\nBut you can also add virtual adapters.\n\n583\n00:31:04,880 --> 00:31:08,540\nIf I hit the little plus symbol down here,\nI can add an adapter in.\n\n584\n00:31:08,540 --> 00:31:12,660\nAnd if I drop that down,\nyou'll see VPN right there in the choices.\n\n585\n00:31:12,660 --> 00:31:15,660\nIf I choose VPN it's\ngonna ask me what kind.\n\n586\n00:31:15,660 --> 00:31:20,640\nIs it L2TP, is it PPTP, or\nis it a Cisco IPsec connection?\n\n587\n00:31:20,640 --> 00:31:23,640\nCisco is a third party vendor,\nthey make routers and switches and\n\n588\n00:31:23,640 --> 00:31:26,100\nthey have their own\nimplementation of IP Sec.\n\n589\n00:31:26,100 --> 00:31:27,030\nI'm gonna do L2TP.\n\n590\n00:31:27,030 --> 00:31:31,697\nAnd then I can call this VPN to work or\nwhatever it is I wanna call it.\n\n591\n00:31:32,856 --> 00:31:37,710\nOnce we create it, then we can go in and\nwe can provide additional information.\n\n592\n00:31:37,710 --> 00:31:40,660\nThe server address,\nwho is it that I'm connecting to?\n\n593\n00:31:40,660 --> 00:31:45,720\nSo, OS X server1.lab.itpro.tv or\nwhatever it is.\n\n594\n00:31:45,720 --> 00:31:47,610\nWhat's my account name?\n\n595\n00:31:47,610 --> 00:31:49,120\nThen my authentication settings.\n\n596\n00:31:49,120 --> 00:31:53,510\nHere's where I can go in and I can punch\nin my user account and my pre-shared key.\n\n597\n00:31:53,510 --> 00:31:55,669\nI can punch in all that data.\n\n598\n00:31:55,669 --> 00:31:58,640\nBut I'll be honest with you guys, I don't\nremember what the pre-shared key was.\n\n599\n00:31:58,640 --> 00:31:59,840\nRight, that was 20 minutes ago.\n\n600\n00:31:59,840 --> 00:32:03,740\nAnd so we set that up and\nit was a complex key I don't remember it.\n\n601\n00:32:03,740 --> 00:32:05,640\nSo if I knew it, I could punch it in here.\n\n602\n00:32:05,640 --> 00:32:08,490\nWe'd have it, and we'd be in business and\nthen we could go ahead and\n\n603\n00:32:08,490 --> 00:32:09,340\nget in and connect.\n\n604\n00:32:09,340 --> 00:32:12,380\nThis is Group Name, that's only used\non the Cisco IPsec connections.\n\n605\n00:32:12,380 --> 00:32:13,080\nWe don't need it here.\n\n606\n00:32:13,080 --> 00:32:15,510\nSo we're gonna punch in\nour user password here,\n\n607\n00:32:15,510 --> 00:32:19,990\nour shared secret from the VPN server\nhere and then we'd be ready to connect.\n\n608\n00:32:19,990 --> 00:32:22,790\nBut if you're like me and\nyou can't remember crazy passwords,\n\n609\n00:32:22,790 --> 00:32:28,530\nthe easier way to get this in Is to\ncopy over that configuration profile.\n\n610\n00:32:28,530 --> 00:32:29,160\nSo that's what I did.\n\n611\n00:32:29,160 --> 00:32:31,310\nI copied that configuration\nprofile during the break.\n\n612\n00:32:31,310 --> 00:32:35,030\nJust throw it on a USB key,\nstick it in here, and throw it on.\n\n613\n00:32:35,030 --> 00:32:38,718\nAnd on the end user's station,\nonly you have to do is double-click on it.\n\n614\n00:32:38,718 --> 00:32:43,530\nWe double-click on that configuration\nprofile, if you trust the certificate.\n\n615\n00:32:43,530 --> 00:32:47,680\nIf it's an actual like signed certificate,\nthen you'll trust it and it'll install.\n\n616\n00:32:47,680 --> 00:32:48,990\nIf you don't, you'll get a warning.\n\n617\n00:32:48,990 --> 00:32:51,510\nI should get a warning\nhere in a second asking me\n\n618\n00:32:51,510 --> 00:32:53,410\nif I wanna trust the certificate.\n\n619\n00:32:53,410 --> 00:32:56,920\nAnd once you do that, it will install,\n\n620\n00:32:56,920 --> 00:33:01,435\nor we'll sit here and wait patiently while\nour rainbow lollipop wheel thing spins.\n\n621\n00:33:01,435 --> 00:33:03,580\n[LAUGH] And eventually it'll bring it in.\n\n622\n00:33:03,580 --> 00:33:06,440\nSo, we saw this in the profile\nmanager episode though,\n\n623\n00:33:06,440 --> 00:33:08,210\nthe certificate checks that happen.\n\n624\n00:33:08,210 --> 00:33:12,530\nBy default the VPN server creates\nthis with a self sign certificate and\n\n625\n00:33:12,530 --> 00:33:14,680\nyour workstation may or\nmay not trust that right so\n\n626\n00:33:14,680 --> 00:33:17,142\nyou may have to clear a security warning.\n\n627\n00:33:17,142 --> 00:33:21,760\nAll right well let me stall here for\njust a second while that finishes and\n\n628\n00:33:21,760 --> 00:33:24,809\nthere we go the moment I start\ntalking about stalling [LAUGH].\n\n629\n00:33:24,809 --> 00:33:28,857\nSo here we go we've got install VPN its\nprompting me whether I want to install\n\n630\n00:33:28,857 --> 00:33:29,560\nthat profile.\n\n631\n00:33:29,560 --> 00:33:33,660\nAnd its just a real simple profile\nconfiguration file and its got the VPN\n\n632\n00:33:33,660 --> 00:33:37,840\nsettings in there when I hit continue its\ngoing to load those in for me and its\n\n633\n00:33:37,840 --> 00:33:41,790\nsaying am I sure that I want to installing\nits letting me know the author is unknown\n\n634\n00:33:41,790 --> 00:33:46,155\nagain I don't trust those certificates and\nI didn't sign that configuration file.\n\n635\n00:33:46,155 --> 00:33:48,495\nIf I had this through the profile manager,\nwe could have done that and\n\n636\n00:33:48,495 --> 00:33:50,925\nit would've ignored all\nthese little problems.\n\n637\n00:33:50,925 --> 00:33:54,635\nSo we go ahead and get that done and\nonce it's done, it's gonna ask me for\n\n638\n00:33:54,635 --> 00:33:56,535\nsome of the questions that it didn't have.\n\n639\n00:33:56,535 --> 00:34:00,730\nWhen I exported that profile from\nthe server, it didn't know who I was,\n\n640\n00:34:00,730 --> 00:34:01,440\nthe end user.\n\n641\n00:34:01,440 --> 00:34:05,180\nIt just knew the shared secret and\nthe server you were connecting to.\n\n642\n00:34:05,180 --> 00:34:09,330\nSo, we have to come in and fill it in with\na little bit of extra information here.\n\n643\n00:34:09,330 --> 00:34:12,230\nSo my username, I'm just using\nan account called help desk right now.\n\n644\n00:34:12,230 --> 00:34:14,530\nPunch that in, and we'll let that install.\n\n645\n00:34:16,360 --> 00:34:18,170\nThat's actually worth\nmentioning right there.\n\n646\n00:34:18,170 --> 00:34:21,480\nThe VPN connections are set\nup on a per user basis.\n\n647\n00:34:21,480 --> 00:34:23,700\nSo I'm setting this up\nfrom my user account.\n\n648\n00:34:23,700 --> 00:34:27,250\nIf somebody else logs in on this Mac,\nthey won't even see that VPN connection.\n\n649\n00:34:27,250 --> 00:34:28,330\nSo we'd need to set it up for\n\n650\n00:34:28,330 --> 00:34:31,350\neach of the users that were going to be\ndoing it if this was a shared machine.\n\n651\n00:34:31,350 --> 00:34:34,860\nAll right, so now I've got a profile.\n\n652\n00:34:34,860 --> 00:34:39,740\nIf I go back to my System Preferences and\nI go to Network, I can look in here and\n\n653\n00:34:39,740 --> 00:34:41,880\nthere's my VPN connection.\n\n654\n00:34:41,880 --> 00:34:45,000\nSo I've got a VPN connection to\nfind to connect to the server\n\n655\n00:34:45,000 --> 00:34:46,500\nright there, all right.\n\n656\n00:34:46,500 --> 00:34:51,010\nNow this DNS name would normally\nresolve to that server's IP\n\n657\n00:34:51,010 --> 00:34:52,190\nto be able to connect to it.\n\n658\n00:34:52,190 --> 00:34:53,540\nIn my case, cuz I'm in a lab,\n\n659\n00:34:53,540 --> 00:34:55,410\nI don't actually have that\npublished on the Internet.\n\n660\n00:34:55,410 --> 00:34:59,370\nSo I'm gonna manually override that\nreal quick, and just punch in the IP.\n\n661\n00:34:59,370 --> 00:35:02,110\nJust because I imported it with\na profile doesn't mean I can't go and\n\n662\n00:35:02,110 --> 00:35:03,670\noverride the settings.\n\n663\n00:35:03,670 --> 00:35:06,460\nIf I was using Profile Manager\nit would put it back again.\n\n664\n00:35:06,460 --> 00:35:09,210\nYou really can't change it but\nhere since I imported it I can.\n\n665\n00:35:09,210 --> 00:35:13,300\nI can override that and I'm just gonna\nupdate it but if we go into our setting,\n\n666\n00:35:13,300 --> 00:35:16,960\nyou can see where it's already filled in\nthings like the shared secret for me.\n\n667\n00:35:16,960 --> 00:35:19,190\nIt hasn't filled in my\nuser accounts password.\n\n668\n00:35:19,190 --> 00:35:20,900\nSo I can punch that in if I want to.\n\n669\n00:35:20,900 --> 00:35:22,040\nI'll go ahead and punch that in.\n\n670\n00:35:23,890 --> 00:35:27,260\nAnd so now I've got those setting\nin place and I can connect.\n\n671\n00:35:27,260 --> 00:35:31,280\nNow if you use your VPN a lot, it's kind\nof a pain to go into system preferences,\n\n672\n00:35:31,280 --> 00:35:33,540\ngo to network,\nfind the VPN and hit connect.\n\n673\n00:35:33,540 --> 00:35:35,840\nSo one of the things I like\nto do is turn on this option,\n\n674\n00:35:35,840 --> 00:35:38,060\nshow VPN status in menu bar.\n\n675\n00:35:38,060 --> 00:35:40,650\nIt makes this little icon\nappear up in the menu bar and\n\n676\n00:35:40,650 --> 00:35:42,230\nyou can quickly connect from there.\n\n677\n00:35:42,230 --> 00:35:43,970\nThat's the way that I normally use it.\n\n678\n00:35:43,970 --> 00:35:45,840\nI'm going to go ahead and apply that.\n\n679\n00:35:45,840 --> 00:35:49,032\nAnd now that it's set up,\nwhen I'm at home,\n\n680\n00:35:49,032 --> 00:35:53,578\nI can't get to that server but\nI can VPN in and then I can, right.\n\n681\n00:35:53,578 --> 00:35:57,902\nIf I go back to my terminal and\nI try to ping that server,\n\n682\n00:35:57,902 --> 00:36:02,798\nwhich was 10.211.55.200,\nI can't get to it.\n\n683\n00:36:02,798 --> 00:36:06,776\nI'm not on that network but\nnow if I go up to my VPN menu bar item and\n\n684\n00:36:06,776 --> 00:36:12,810\nI hit connect VPN, it's gonna reach out to\nthat server, I got my connecting message.\n\n685\n00:36:12,810 --> 00:36:17,670\nAnd hopefully it disappears and now when\nI look at it it says disconnect VPN, so\n\n686\n00:36:17,670 --> 00:36:20,120\nI am connected,\nI've been connected for eight seconds.\n\n687\n00:36:20,120 --> 00:36:21,720\nI'm now VPN'd into the server.\n\n688\n00:36:21,720 --> 00:36:22,480\nAll right?\n\n689\n00:36:22,480 --> 00:36:24,550\nNow, if it fails to connect,\n\n690\n00:36:24,550 --> 00:36:26,930\nthere's a number of things\nthat can cause that problem.\n\n691\n00:36:26,930 --> 00:36:29,070\nThe main one is gonna be\nnetwork connectivity.\n\n692\n00:36:29,070 --> 00:36:30,780\nRight?\nThat you can't get to the server.\n\n693\n00:36:30,780 --> 00:36:33,620\nIt can be a DNS name issue,\nI've mentioned that a few times.\n\n694\n00:36:33,620 --> 00:36:36,510\nit can be the port configuration\non the firewall or router, right?\n\n695\n00:36:36,510 --> 00:36:38,840\nYou've gotta double\ncheck the network side.\n\n696\n00:36:38,840 --> 00:36:40,330\nOn the server side,\n\n697\n00:36:40,330 --> 00:36:42,840\nthere's really only two things that\ncan go wrong on the server side.\n\n698\n00:36:42,840 --> 00:36:43,960\nI guess maybe three.\n\n699\n00:36:43,960 --> 00:36:45,970\nYou can pick the wrong protocol.\n\n700\n00:36:45,970 --> 00:36:49,090\nPPTP versus LTPP,\nthat can cause it not to connect.\n\n701\n00:36:49,090 --> 00:36:50,790\nYou can have the wrong shared secret.\n\n702\n00:36:50,790 --> 00:36:54,680\nThat'll cause it not to connect or\nyou can have a bad username and password.\n\n703\n00:36:54,680 --> 00:36:57,470\nBut really those are the only settings\nthat we punch in, so on the server side,\n\n704\n00:36:57,470 --> 00:36:59,510\nthere's not a whole heck\nof a lot to troubleshoot.\n\n705\n00:36:59,510 --> 00:37:02,020\nBut you do have logging on the server\napp that we can take a look at.\n\n706\n00:37:02,020 --> 00:37:02,950\nI'll pull it up in a minute.\n\n707\n00:37:04,220 --> 00:37:09,650\nBut now I'm VPNed in, my computer\nthinks that it's on the work network.\n\n708\n00:37:09,650 --> 00:37:12,310\nIf I try and ping that server,\nI can hit it now.\n\n709\n00:37:12,310 --> 00:37:15,390\nI can ping the server as if I\nwas right there on the network.\n\n710\n00:37:15,390 --> 00:37:20,930\nAnd if I do a quick ifconfig,\nI can see that somewhere in here,\n\n711\n00:37:20,930 --> 00:37:23,110\nI'll have a virtual network adapter.\n\n712\n00:37:23,110 --> 00:37:26,010\nThis is my physical network\nadapter right here, en0.\n\n713\n00:37:26,010 --> 00:37:28,540\nAnd I've got a 192.160.0.100 address,\nthat's my home network,\n\n714\n00:37:28,540 --> 00:37:33,650\nbut then right here I've got ppp0, right?\n\n715\n00:37:33,650 --> 00:37:35,210\nThat's a virtual adapter.\n\n716\n00:37:35,210 --> 00:37:39,854\nAnd on it, I'm 10.211.55.220.\n\n717\n00:37:39,854 --> 00:37:44,510\nRemember, 220, that was the first IP in\nthe address pool that I defined earlier,\n\n718\n00:37:44,510 --> 00:37:48,160\nand it's got me on the same\nnetwork that's my office.\n\n719\n00:37:48,160 --> 00:37:51,800\nMy laptop now thinks that\nit's on the office network.\n\n720\n00:37:51,800 --> 00:37:55,400\nI can browse my network resources,\naccess servers, and do all of that stuff,\n\n721\n00:37:55,400 --> 00:37:58,500\nand it's going over a VPN\ntunnel to get there, right?\n\n722\n00:37:59,830 --> 00:38:02,520\nNow how do I actually know I'm\ngoing over the VPN tunnel?\n\n723\n00:38:03,830 --> 00:38:04,930\nTo an end user, you really don't.\n\n724\n00:38:04,930 --> 00:38:05,960\nIt's kinda transparent, right?\n\n725\n00:38:05,960 --> 00:38:10,000\nThey don't see that but\nwe can see it with our network sniffer.\n\n726\n00:38:10,000 --> 00:38:14,320\nI'm gonna go through and start that\nnetwork sniffer again, all right?\n\n727\n00:38:14,320 --> 00:38:17,570\nSo we're gonna do an all new capture and\n\n728\n00:38:17,570 --> 00:38:22,130\nI'll capture that same physical adapter\nand we'll continue without saving.\n\n729\n00:38:22,130 --> 00:38:22,980\nThere we go.\n\n730\n00:38:22,980 --> 00:38:27,180\nSo I'm not starting an all new\ncapture between me and that server.\n\n731\n00:38:27,180 --> 00:38:28,100\nAll right.\n\n732\n00:38:28,100 --> 00:38:33,030\nAnd I'm gonna go down here and\nopen up a FTP session.\n\n733\n00:38:34,890 --> 00:38:37,920\nJust like we did before the break.\n\n734\n00:38:37,920 --> 00:38:39,840\nAnd I'll log in as helpdesk.\n\n735\n00:38:39,840 --> 00:38:42,000\nI'll punch in my password.\n\n736\n00:38:42,000 --> 00:38:43,730\nI'll pull up a directory listing.\n\n737\n00:38:43,730 --> 00:38:44,540\nI'll get a file.\n\n738\n00:38:44,540 --> 00:38:48,595\nI'll get recordsone.txt.\n\n739\n00:38:48,595 --> 00:38:49,860\nAnd then I'll get out.\n\n740\n00:38:49,860 --> 00:38:53,530\nSo I just did the same exact thing\nI did before the break, using FTP,\n\n741\n00:38:53,530 --> 00:38:54,850\na non-secure protocol.\n\n742\n00:38:55,940 --> 00:39:00,300\nBack here in my sniffer I'm gonna\nstop this and I'm gonna filter it so\n\n743\n00:39:00,300 --> 00:39:01,660\nI just see FTP traffic.\n\n744\n00:39:02,930 --> 00:39:04,350\nThere's nothing, right.\n\n745\n00:39:04,350 --> 00:39:05,870\nThere's no FTP traffic.\n\n746\n00:39:05,870 --> 00:39:08,960\nMaybe it's ftp-data, let me pull that up.\n\n747\n00:39:08,960 --> 00:39:11,300\nThere's no FTP data either, all right.\n\n748\n00:39:11,300 --> 00:39:17,070\nThe reason is an attacker on\nthe network no longer sees FTP data.\n\n749\n00:39:17,070 --> 00:39:18,200\nWhat do they see?\n\n750\n00:39:18,200 --> 00:39:19,940\nThey see encrypted data.\n\n751\n00:39:19,940 --> 00:39:24,650\nIf I search for ESP on the other hand,\nright, the Encapsulated Security Payload.\n\n752\n00:39:24,650 --> 00:39:27,140\nI see a lot of data there, and\n\n753\n00:39:27,140 --> 00:39:32,780\nit's coming from 192.168.0.100,\nand it's going to my VPN server.\n\n754\n00:39:32,780 --> 00:39:37,250\nThey see the VPN tunnel, and\nif they intercept that traffic, and\n\n755\n00:39:37,250 --> 00:39:37,920\ntake a look at it.\n\n756\n00:39:37,920 --> 00:39:40,350\nLook at the raw data down here\nat the bottom of the screen.\n\n757\n00:39:40,350 --> 00:39:43,020\nThe raw data is just jumbled garbage.\n\n758\n00:39:43,020 --> 00:39:45,930\nWhen it was FTPI, I should have showed it,\n\n759\n00:39:45,930 --> 00:39:48,730\nI guess if you rewind you might\nactually see it but, down here,\n\n760\n00:39:48,730 --> 00:39:52,600\nwith the FDP you actually see the words\ndown here because it's plain text but\n\n761\n00:39:52,600 --> 00:39:57,130\nwith this it's all encrypted cyber\ntext it's just garbage text.\n\n762\n00:39:57,130 --> 00:39:59,159\nIt's meaningless.\n\n763\n00:39:59,159 --> 00:40:02,724\nThey would have to try and reassemble this\nwhich means they have to know where it\n\n764\n00:40:02,724 --> 00:40:05,804\nstarted and where it ended,\nwhich they wouldn't know from this And\n\n765\n00:40:05,804 --> 00:40:08,993\nthey'd need that shared key,\nto be able to decode what this data is and\n\n766\n00:40:08,993 --> 00:40:11,300\nactually find out what\nthat information is?\n\n767\n00:40:11,300 --> 00:40:13,090\nBut as it stands, it's useless.\n\n768\n00:40:13,090 --> 00:40:18,510\nThat follow the TCP stream tool I used\nearlier, that doesn't even work with ESP.\n\n769\n00:40:19,810 --> 00:40:22,390\nIf we do follow the UDP stream,\nit'll try and reassemble it.\n\n770\n00:40:22,390 --> 00:40:23,910\nBut what's it reassembling?\n\n771\n00:40:23,910 --> 00:40:26,240\nGarbage, that's what the attackers see.\n\n772\n00:40:26,240 --> 00:40:29,400\nThe attackers can't actually\nmake use of this data.\n\n773\n00:40:29,400 --> 00:40:31,580\nThe data is cipher text.\n\n774\n00:40:31,580 --> 00:40:34,750\nThat's what VPN tunnel does, and\nthat's why it's so important.\n\n775\n00:40:34,750 --> 00:40:38,690\nI can now go to Starbucks,\nI could go to a hotel, I could go home, or\n\n776\n00:40:38,690 --> 00:40:44,210\nany network in the world, and VPN into\nthe office, and know that my data is safe.\n\n777\n00:40:44,210 --> 00:40:46,350\nThat if there's attackers\non the network with me, or\n\n778\n00:40:46,350 --> 00:40:49,730\nif there's attackers on the network in\nbetween me and the office, the data's\n\n779\n00:40:49,730 --> 00:40:54,790\nnow safe, that's the whole point of\nhaving a VPN and protecting that data.\n\n780\n00:40:54,790 --> 00:40:57,740\nSo, that's the basic functionality\nhere on the client side.\n\n781\n00:40:57,740 --> 00:41:00,110\nIf I go back over to the server,\n\n782\n00:41:00,110 --> 00:41:03,240\nthere's not a whole heck of\na lot to see here on the server.\n\n783\n00:41:03,240 --> 00:41:05,920\nOn the VPN side,\nwe had our basic connections there,\n\n784\n00:41:05,920 --> 00:41:12,650\nif I got out to my logs, we'll see that\nwe do have a log for the VPN server.\n\n785\n00:41:12,650 --> 00:41:16,910\nIf I expand this, right down here,\nI've got VPN service log.\n\n786\n00:41:16,910 --> 00:41:19,540\nIf you're having to troubleshoot,\nyou can come in here and look and\n\n787\n00:41:19,540 --> 00:41:20,790\nfind information.\n\n788\n00:41:20,790 --> 00:41:24,340\nBut otherwise, what you're just\ngonna see is clients connecting.\n\n789\n00:41:24,340 --> 00:41:28,600\nSo, here's my client when it connected,\nwe get receiving IP data and so on, so\n\n790\n00:41:28,600 --> 00:41:30,550\nwe can see people building up a session.\n\n791\n00:41:30,550 --> 00:41:35,410\nIf they had a bad password or bad\npre-shared key, that would show up here,\n\n792\n00:41:35,410 --> 00:41:38,510\nit would show as a failed negotiation,\nand you'd know that they had a problem\n\n793\n00:41:38,510 --> 00:41:41,180\ngetting in, and you could start\nto kind of troubleshoot that.\n\n794\n00:41:41,180 --> 00:41:43,520\nBut on the server, there's not much.\n\n795\n00:41:43,520 --> 00:41:48,340\nThe pre-shared key, the user name and\npassword and the protocol.\n\n796\n00:41:48,340 --> 00:41:49,520\nThat's really it.\n\n797\n00:41:49,520 --> 00:41:52,700\nSo, if you're having problems\nit's typically gonna be\n\n798\n00:41:52,700 --> 00:41:53,832\nsomething outside of the server.\n\n799\n00:41:53,832 --> 00:41:54,760\nIt's gonna be DNS,\n\n800\n00:41:54,760 --> 00:41:58,265\ncan people even find your server's\nname when they're out on the Internet?\n\n801\n00:41:58,265 --> 00:42:01,630\nSo, DNS, or firewall a router.\n\n802\n00:42:01,630 --> 00:42:03,480\nYou gotta have those ports pushed through,\n\n803\n00:42:03,480 --> 00:42:05,870\nthe ports that I mentioned\nearlier in the show.\n\n804\n00:42:05,870 --> 00:42:09,848\nThe, well for L2TP, it was TCP.\n\n805\n00:42:09,848 --> 00:42:11,598\nLet's see if I can remember these.\n\n806\n00:42:11,598 --> 00:42:13,598\nYou know what, I can cheat,\nI got them here in my show notes.\n\n807\n00:42:13,598 --> 00:42:16,030\nIt's UDP port 500.\n\n808\n00:42:16,030 --> 00:42:19,348\nUDP 1701 and UDP 4500.\n\n809\n00:42:19,348 --> 00:42:22,990\nThose are the three UDP ports that\nhave to be available for L2TP.\n\n810\n00:42:22,990 --> 00:42:25,640\nAnd then protocol 50, which is ESP.\n\n811\n00:42:25,640 --> 00:42:27,556\nThat's kind of what makes\nthis whole thing work.\n\n812\n00:42:27,556 --> 00:42:30,680\nYou've gotta have those available,\nfrom the Internet to your VPN server.\n\n813\n00:42:31,870 --> 00:42:34,620\nNow, one thing I want to clarify,\nthis won't turn up on the exam, but\n\n814\n00:42:34,620 --> 00:42:35,710\nin real life land.\n\n815\n00:42:35,710 --> 00:42:39,850\nFor my VPN server, I used a server that's\nan open directory server and in a lab,\n\n816\n00:42:39,850 --> 00:42:42,600\nthat's okay, but\nit's not a great idea in real life.\n\n817\n00:42:42,600 --> 00:42:47,600\nIn real life land, if you're going to\nhave a MAC that's acting as a VPN server,\n\n818\n00:42:47,600 --> 00:42:49,435\nthat should be the only\nanything that it does.\n\n819\n00:42:49,435 --> 00:42:52,265\nBecause your VPN server has to\nbe exposed to the internet.\n\n820\n00:42:52,265 --> 00:42:54,765\nAnd you don't want to expose\nan open directory server\n\n821\n00:42:54,765 --> 00:42:56,095\nto the internet if you can avoid it.\n\n822\n00:42:56,095 --> 00:42:59,965\nYou don't wanna expose a file server or\nany of the other roles that you've got,\n\n823\n00:42:59,965 --> 00:43:03,415\nyou don't wanna expose those\nto the internet, just VPN.\n\n824\n00:43:03,415 --> 00:43:05,815\nSo, you'll wanna do a dedicated\nmachine for this one.\n\n825\n00:43:05,815 --> 00:43:08,365\nStick it in your DMZ, or\nin some secured network.\n\n826\n00:43:08,365 --> 00:43:11,430\nAnd that way it's safe and\nif attackers do manage to get into it,\n\n827\n00:43:11,430 --> 00:43:13,220\ntheir access is somewhat limited.\n\n828\n00:43:14,360 --> 00:43:16,990\nAll right, just keep that in mind\nout there in real life land.\n\n829\n00:43:18,480 --> 00:43:20,360\nAll right,\nwell that's about it for this one.\n\n830\n00:43:20,360 --> 00:43:23,680\nSo in this episode, we got a chance\nto see setting up the VPN server.\n\n831\n00:43:23,680 --> 00:43:25,970\nWe walked through that quick and\neasy process.\n\n832\n00:43:25,970 --> 00:43:28,570\nAnd we got a chance to see\nsetting up the VPN client.\n\n833\n00:43:28,570 --> 00:43:32,040\nGetting it connected, and\nwe saw the data actually get encrypted.\n\n834\n00:43:32,040 --> 00:43:35,350\nSo, pretty cool stuff,\nit works really well.\n\n835\n00:43:35,350 --> 00:43:38,780\nYou absolutely will make use of VPN\ntechnologies in real life land.\n\n836\n00:43:38,780 --> 00:43:41,380\nYou might not use it on OS10,\nyou might use it on your firewall,\n\n837\n00:43:41,380 --> 00:43:43,640\nthey usually have VPN clients also.\n\n838\n00:43:43,640 --> 00:43:45,840\nBut, Mac can do it just fine.\n\n839\n00:43:45,840 --> 00:43:49,220\nYou can use what's right here in OS10,\nit works great.\n\n840\n00:43:49,220 --> 00:43:50,720\nAll right, well that's it for\nthis episode.\n\n841\n00:43:50,720 --> 00:43:52,208\nI do hope you guys enjoyed it.\n\n842\n00:43:52,208 --> 00:43:53,000\nI do wanna remind you that,\n\n843\n00:43:53,000 --> 00:43:56,810\nif you have questions on anything\nthat we covered, feel free to ask.\n\n844\n00:43:56,810 --> 00:43:57,590\nLive during the show,\n\n845\n00:43:57,590 --> 00:44:01,850\nyou can go to itpro.tv/live and you'll see\nthat chat room right beneath the video.\n\n846\n00:44:01,850 --> 00:44:03,050\nPost your questions there.\n\n847\n00:44:03,050 --> 00:44:04,820\nWe monitor and answer during the show.\n\n848\n00:44:04,820 --> 00:44:06,700\nBy we, I mean me in this case.\n\n849\n00:44:06,700 --> 00:44:08,540\nI normally have somebody else with me.\n\n850\n00:44:08,540 --> 00:44:12,580\nBut, if you have questions after the show,\nmake use of our Q&A forums.\n\n851\n00:44:12,580 --> 00:44:16,556\nAt the top of every page on the ITProTV\nsite, you'll see a link that says Q&A.\n\n852\n00:44:16,556 --> 00:44:17,306\nClick on it.\n\n853\n00:44:17,306 --> 00:44:19,940\nIt'll take you to the forums,\nyou can post your questions there.\n\n854\n00:44:19,940 --> 00:44:22,210\nWe monitor and answer after the show.\n\n855\n00:44:22,210 --> 00:44:23,510\nTake advantage of that resource.\n\n856\n00:44:23,510 --> 00:44:25,600\nIt is there for you.\n\n857\n00:44:25,600 --> 00:44:27,860\nAll right, well I hope you\nguys enjoyed today's episode.\n\n858\n00:44:27,860 --> 00:44:30,193\nSigning off for ITProTV, I'm Don Pezet.\n\n859\n00:44:30,193 --> 00:44:32,056\nAnd I'll see you next time.\n\n860\n00:44:32,056 --> 00:44:42,056\n[MUSIC]\n\n861\n00:44:46,056 --> 00:44:52,730\n[SOUND]\n\n",
          "vimeoId": "126836612"
        },
        {
          "description": null,
          "length": "3331",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-6-4-web_server-042215-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-6-4-web_server-042215-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-6-4-web_server-042215-1-sm.jpg",
          "title": "Web Server",
          "transcript": "1\n00:00:00,091 --> 00:00:10,091\n[MUSIC]\n\n2\n00:00:33,321 --> 00:00:36,253\nAll right, good morning,\ngood afternoon, and good evening, and\n\n3\n00:00:36,253 --> 00:00:38,218\nwelcome back to another\nepisode of ITProTV.\n\n4\n00:00:38,218 --> 00:00:39,478\nI'm your host Don Pezet,\n\n5\n00:00:39,478 --> 00:00:43,760\nback again with another episode of\nApple Certified Technical Coordinator.\n\n6\n00:00:43,760 --> 00:00:47,040\nIn this episode, we're gonna be taking\na look at the web server built into\n\n7\n00:00:47,040 --> 00:00:49,350\nthe server app in Mac OS X.\n\n8\n00:00:49,350 --> 00:00:54,005\nNow, a web server is probably one of\nthe most commonly brought up servers,\n\n9\n00:00:54,005 --> 00:00:56,875\nright after file and\nprint servers for most networks.\n\n10\n00:00:56,875 --> 00:00:58,415\nJust about everybody has a website.\n\n11\n00:00:58,415 --> 00:01:02,825\nYou might have public websites, or\ninternal websites that are intranets,\n\n12\n00:01:02,825 --> 00:01:04,105\njust for your own employees.\n\n13\n00:01:04,105 --> 00:01:06,295\nBut just about everybody\nhas web servers these days.\n\n14\n00:01:06,295 --> 00:01:08,025\nSo this is a real common thing.\n\n15\n00:01:08,025 --> 00:01:12,645\nWell, Apple provides us with the ability\nto host websites right inside a Mac OS via\n\n16\n00:01:12,645 --> 00:01:13,580\nthe server app.\n\n17\n00:01:13,580 --> 00:01:14,610\nAnd it's kind of nice.\n\n18\n00:01:14,610 --> 00:01:18,210\nIt's actually really nice because\nit's built on top of Apache.\n\n19\n00:01:18,210 --> 00:01:22,440\nApache is one of the most common\nweb servers in the entire planet.\n\n20\n00:01:22,440 --> 00:01:25,760\nWhen you go to websites, well, like ours,\n\n21\n00:01:25,760 --> 00:01:29,345\nif you go to the ITProTV site, it's\nhosted on top of the Apache web server.\n\n22\n00:01:29,345 --> 00:01:30,935\nI forget the exact statistics but\n\n23\n00:01:30,935 --> 00:01:35,295\nit's something like over 60% of websites\nin the world are hosted on top of Apache.\n\n24\n00:01:35,295 --> 00:01:38,445\nSo when Apple decided to deploy\na web server inside of their system,\n\n25\n00:01:38,445 --> 00:01:40,555\nthey didn't have to reinvent the wheel.\n\n26\n00:01:40,555 --> 00:01:44,235\nThey leveraged an already proven\nweb server in Apache Version 2.0.\n\n27\n00:01:44,235 --> 00:01:46,285\nAnd so that's what we find under the hood.\n\n28\n00:01:46,285 --> 00:01:51,217\nAnd remember when you run Mac OS, the user\ninterface, all the easy to use stuff,\n\n29\n00:01:51,217 --> 00:01:54,310\nthe simple utilities and things,\nthat's all developed by Apple.\n\n30\n00:01:54,310 --> 00:01:58,452\nBut under the hood is the BSD\noperating system, which bases on Unix.\n\n31\n00:01:58,452 --> 00:02:01,616\nAnd most of the web servers that are out\nthere in the world are running Linux or\n\n32\n00:02:01,616 --> 00:02:02,667\nanother units variant.\n\n33\n00:02:02,667 --> 00:02:06,068\nSo Apple didn't have to go very\nfar to find a good web server.\n\n34\n00:02:06,068 --> 00:02:10,440\nThe big challenge with Apache though,\nis that it's not very user friendly.\n\n35\n00:02:10,440 --> 00:02:12,950\nIt's all handled through these text\nbased configuration files, and so\n\n36\n00:02:12,950 --> 00:02:16,350\nwhat Apple really did is they just\nmade the technology easier to use.\n\n37\n00:02:16,350 --> 00:02:19,330\nThey gave us a nice little GUI\ninside of a server app that lets us\n\n38\n00:02:19,330 --> 00:02:21,680\ncontrol this web server and\nget it up and running.\n\n39\n00:02:21,680 --> 00:02:23,190\nAnd it's really easy.\n\n40\n00:02:23,190 --> 00:02:26,860\nIf you just need a basic web server,\nit's just a matter of turning it on,\n\n41\n00:02:26,860 --> 00:02:28,330\nand that's it.\n\n42\n00:02:28,330 --> 00:02:31,500\nBut if you need something more advanced,\nit's got that functionality too.\n\n43\n00:02:31,500 --> 00:02:34,060\nAnd we'll get a chance to see that in\nthis episode as we run through and\n\n44\n00:02:34,060 --> 00:02:37,560\nset up the different components inside of\nthe web server, and get it up and running.\n\n45\n00:02:38,710 --> 00:02:42,050\nWell, let's jump in here and\ntake a look at that.\n\n46\n00:02:42,050 --> 00:02:43,680\nNow, when we look at our server app,\n\n47\n00:02:43,680 --> 00:02:45,860\nwe'll see all the different\nservices that are available.\n\n48\n00:02:45,860 --> 00:02:48,131\nAnd the web server's\nactually listed as websites.\n\n49\n00:02:48,131 --> 00:02:51,700\nSo, if we look at the server app, here,\nyou'll see it down on the left side.\n\n50\n00:02:51,700 --> 00:02:56,280\nIf I go down to Services,\nyou'll find Websites right there, okay.\n\n51\n00:02:56,280 --> 00:02:58,880\nAnd I've already turned mine on,\nlet me just turn that off.\n\n52\n00:02:58,880 --> 00:03:00,780\nWhat you'll normally see is\nit'll look just like this.\n\n53\n00:03:00,780 --> 00:03:03,160\nI haven't changed any settings or\nanything.\n\n54\n00:03:03,160 --> 00:03:05,740\nBut when you come in,\nthe service will look like like this,\n\n55\n00:03:05,740 --> 00:03:10,250\nit says Websites, and this is\nthe Apache web server under the hood.\n\n56\n00:03:10,250 --> 00:03:13,740\nNow when you turn it on,\nyou become a web server.\n\n57\n00:03:13,740 --> 00:03:18,350\nBut the reality is you probably are\nalready a web server from other services.\n\n58\n00:03:18,350 --> 00:03:21,340\nThere's many services that\nuse a website to manage them.\n\n59\n00:03:21,340 --> 00:03:23,230\nFor example, the Profile Manager.\n\n60\n00:03:23,230 --> 00:03:26,940\nIf you configure the Profile Manager,\nit has a user portal and\n\n61\n00:03:26,940 --> 00:03:29,860\nit has an admin portal\nwhich are both web pages.\n\n62\n00:03:29,860 --> 00:03:33,830\nPeople browse to get to them, and\nit uses the Apache web server for that.\n\n63\n00:03:33,830 --> 00:03:37,950\nIf you configure the Software Update\nservice, down here, that guy.\n\n64\n00:03:37,950 --> 00:03:41,990\nThat one uses web pages to provide\nthe catalog files for all of the updates.\n\n65\n00:03:41,990 --> 00:03:47,090\nIt uses Apache, so the odds are you're\nalready running Apache on your server.\n\n66\n00:03:47,090 --> 00:03:50,430\nYou're running it as a support service for\nsomething else.\n\n67\n00:03:50,430 --> 00:03:53,340\nSo when we go to websites,\nwhat we're really turning on\n\n68\n00:03:53,340 --> 00:03:56,710\nis just the basic website functionality,\nthe basic webpage.\n\n69\n00:03:56,710 --> 00:03:59,690\nThe server itself is probably\nalready running on your system.\n\n70\n00:03:59,690 --> 00:04:00,400\nIt might not be, though.\n\n71\n00:04:00,400 --> 00:04:03,800\nThis might be a fresh and clean server\nthat we've just installed the server app.\n\n72\n00:04:03,800 --> 00:04:07,740\nWe're not running any other services, and\nin that case, Apache might not be running.\n\n73\n00:04:07,740 --> 00:04:12,650\nBut either way, we come in here, and\nwe just flip that on switch and now it is.\n\n74\n00:04:12,650 --> 00:04:14,970\nNow we're running the web server,\nand we're up and\n\n75\n00:04:14,970 --> 00:04:17,250\navailable to provide those pages.\n\n76\n00:04:17,250 --> 00:04:24,550\nNow a standard web page is usually an HTML\nfile, a HyperText Markup Language file.\n\n77\n00:04:24,550 --> 00:04:28,870\nAnd when you turn this on,\nthe settings that are there by default.\n\n78\n00:04:28,870 --> 00:04:33,021\nThese are the default setting right here,\nwhere I've got everything on check,\n\n79\n00:04:33,021 --> 00:04:35,601\nis that the server will\nserve up those HTML files.\n\n80\n00:04:35,601 --> 00:04:39,001\nYou can take an HTML file,\nmake it available, and get to it.\n\n81\n00:04:39,001 --> 00:04:43,370\nBut other files, things that are more\nadvanced, those are disabled.\n\n82\n00:04:43,370 --> 00:04:46,780\nApple takes the approach of giving\nyou basic functionality, and\n\n83\n00:04:46,780 --> 00:04:50,230\nthen saying you can turn on whatever\nyou need to get more advanced.\n\n84\n00:04:50,230 --> 00:04:53,710\nThey don't want to turn all the advanced\nstuff on by default because web servers\n\n85\n00:04:53,710 --> 00:04:57,280\nare a high level target for\nattackers that are out there.\n\n86\n00:04:57,280 --> 00:05:00,840\nIf you're a hacker and you want to attack\na company, usually you'll look for\n\n87\n00:05:00,840 --> 00:05:02,930\ntheir services that\nare exposed to the Internet.\n\n88\n00:05:02,930 --> 00:05:04,950\nAnd websites are exposed to the Internet.\n\n89\n00:05:04,950 --> 00:05:08,080\nWebsites also allow anonymous\nconnections because you wanna allow\n\n90\n00:05:08,080 --> 00:05:09,770\nanybody to get to your website.\n\n91\n00:05:09,770 --> 00:05:15,240\nIf I'm going to CNN.com, they don't\nknow who I am or where I'm coming from,\n\n92\n00:05:15,240 --> 00:05:18,040\nthey want to allow me to get to that page,\nthat's how they make their money.\n\n93\n00:05:18,040 --> 00:05:19,340\nYou gotta get to the page.\n\n94\n00:05:19,340 --> 00:05:22,000\nSo attackers, that helps them.\n\n95\n00:05:22,000 --> 00:05:24,640\nThey know they can access that server and\nif they can break into it,\n\n96\n00:05:24,640 --> 00:05:26,420\nthey can get into the rest of the network.\n\n97\n00:05:26,420 --> 00:05:28,820\nSo web servers\nare constantly under attack.\n\n98\n00:05:28,820 --> 00:05:29,950\nSo Apple says,\n\n99\n00:05:29,950 --> 00:05:33,280\nlet's just turn on the basic stuff\nbecause the basic stuff is pretty safe.\n\n100\n00:05:33,280 --> 00:05:37,690\nIt's hard for an attacker to break into a\nserver that's only serving up html files.\n\n101\n00:05:37,690 --> 00:05:40,890\nBut as we start to turn on more advanced\nfeatures, we increase our risk.\n\n102\n00:05:40,890 --> 00:05:44,930\nNow Apple does a great job of patching and\ntuning and keeping this stuff up-to-date,\n\n103\n00:05:44,930 --> 00:05:48,180\nbut hackers do a great job of keeping\ntheir skills up-to-date, too.\n\n104\n00:05:48,180 --> 00:05:51,300\nSo they constantly find different\nways to get in and wreak havoc.\n\n105\n00:05:51,300 --> 00:05:53,790\nSo that stuff's off right now.\n\n106\n00:05:53,790 --> 00:05:55,730\nI just have a basic web server.\n\n107\n00:05:55,730 --> 00:06:00,060\nNow when you turn on a basic web server,\nit comes up like we've got here, and\n\n108\n00:06:00,060 --> 00:06:01,250\nit's actually already working.\n\n109\n00:06:01,250 --> 00:06:06,710\nIt's kind of hard to tell here, but if I\nfire up Safari and I browse to my server,\n\n110\n00:06:06,710 --> 00:06:12,430\nso if I browse to http://osx-server1,\n\n111\n00:06:12,430 --> 00:06:15,960\nwhen I browse to it I\nshould get a webpage.\n\n112\n00:06:15,960 --> 00:06:20,550\nNow I'm getting a message here saying that\nit can't verify the identify of my server.\n\n113\n00:06:20,550 --> 00:06:24,670\nWhat that means is that my server has a\ncertificate on it to identify it, and for\n\n114\n00:06:24,670 --> 00:06:27,910\nsome reason the certificate isn't\nmatching the name of the server.\n\n115\n00:06:27,910 --> 00:06:30,540\nAnd if I hit Show Certificate, I can see\nthat it's because the certificate was\n\n116\n00:06:30,540 --> 00:06:34,380\nactually issued to osx-server1.local and\n\n117\n00:06:34,380 --> 00:06:36,180\nthat's not what I typed\nin the address bar.\n\n118\n00:06:36,180 --> 00:06:38,048\nSo the names don't match,\nthat's what it's complaining about.\n\n119\n00:06:38,048 --> 00:06:41,120\nThat's a self-signed certificate\nthat was built into the system\n\n120\n00:06:41,120 --> 00:06:43,170\nwhen we did the install of the server app.\n\n121\n00:06:43,170 --> 00:06:47,460\nOr actually, that one was probably created\nwhen I made this an open directory server.\n\n122\n00:06:47,460 --> 00:06:50,100\nBut that's just a little\nname not matching.\n\n123\n00:06:50,100 --> 00:06:51,670\nBut when I go to the server.\n\n124\n00:06:51,670 --> 00:06:52,440\nHere it is.\n\n125\n00:06:52,440 --> 00:06:53,200\nI get a web page.\n\n126\n00:06:53,200 --> 00:06:56,770\nThis is the default web page that\nApple includes to let me know the web\n\n127\n00:06:56,770 --> 00:06:57,890\nserver is working.\n\n128\n00:06:59,270 --> 00:07:03,360\nNow it highlights, right here, some of the\nother services that use the web server.\n\n129\n00:07:03,360 --> 00:07:05,450\nI mentioned the Profile Manager already.\n\n130\n00:07:05,450 --> 00:07:08,950\nIf you are using the Profile Manager,\nyou're already running Apache.\n\n131\n00:07:08,950 --> 00:07:12,120\nI also mention the software update\nservice which isn't on this screen.\n\n132\n00:07:12,120 --> 00:07:14,760\nThe wiki which we'll talk\nabout in another episode,\n\n133\n00:07:14,760 --> 00:07:19,218\nthat's a web page that users can\nactually edit with a WYSIWYG editor.\n\n134\n00:07:19,218 --> 00:07:22,880\nWe've got Xcode the development\nenvironment that uses web pages.\n\n135\n00:07:22,880 --> 00:07:25,300\nAnd then we just have our\ngeneral setting for the server,\n\n136\n00:07:25,300 --> 00:07:27,300\nwhich is what we're gonna get into here,\nin just a minute.\n\n137\n00:07:29,560 --> 00:07:32,240\nAll right, but\nthat's just a basic web page.\n\n138\n00:07:32,240 --> 00:07:35,510\nAnd now I've got this basic website up,\nand\n\n139\n00:07:35,510 --> 00:07:39,630\nI can start to customize how this\nserver works, how it responds to users.\n\n140\n00:07:39,630 --> 00:07:42,930\nAnd I can even customize the content\nthat's inside of it, all right?\n\n141\n00:07:42,930 --> 00:07:44,330\nSo let's take a look at those settings.\n\n142\n00:07:44,330 --> 00:07:46,440\nI'm just going to go ahead and\njust get out of this,\n\n143\n00:07:46,440 --> 00:07:48,080\nand I'll go back to my system here.\n\n144\n00:07:48,080 --> 00:07:50,586\nNow, when my website was activated,\n\n145\n00:07:50,586 --> 00:07:53,886\nit actually activated it\non two different ports.\n\n146\n00:07:53,886 --> 00:07:54,884\nSo I can see it right here.\n\n147\n00:07:54,884 --> 00:07:57,705\nServer website and server website SSL.\n\n148\n00:07:57,705 --> 00:07:58,472\nWhat's that all about?\n\n149\n00:07:58,472 --> 00:08:03,391\nWell, Server website is a standard,\nunencrypted webpage.\n\n150\n00:08:03,391 --> 00:08:05,254\nWe're gonna connect to it anonymously, and\n\n151\n00:08:05,254 --> 00:08:07,490\nthe web page is gonna be\ntransmitted in plaintext.\n\n152\n00:08:07,490 --> 00:08:12,010\nThat's how HTTP, the Hypertext\nTransfer Protocol, works by default.\n\n153\n00:08:12,010 --> 00:08:15,685\nIt works over TCP port 80,\nand I see that right here.\n\n154\n00:08:15,685 --> 00:08:18,455\nNotice how it says all IP addresses?\n\n155\n00:08:18,455 --> 00:08:21,465\nIf I have more than one\nnetwork card in my server\n\n156\n00:08:21,465 --> 00:08:24,025\nthis web page is being served up\nin all of those network cards.\n\n157\n00:08:24,025 --> 00:08:28,105\nSo users can come in any network interface\nand get to this web page on port 80.\n\n158\n00:08:28,105 --> 00:08:33,970\nIf they want to secure connection,\nwell then it needs to switch to SSL.\n\n159\n00:08:33,970 --> 00:08:38,630\nSSL is Secure Socket Layer,\nand it's gonna use HTTPS,\n\n160\n00:08:38,630 --> 00:08:40,750\nwhich is done over TCP port 443.\n\n161\n00:08:40,750 --> 00:08:44,640\nAnd so, it set up the same web page\non port 443 for secure connections.\n\n162\n00:08:46,090 --> 00:08:48,210\nThis is actually the same webpage,\n\n163\n00:08:48,210 --> 00:08:52,200\njust being provided over two different\nprotocols, secure and unsecure.\n\n164\n00:08:52,200 --> 00:08:53,920\nThat's how most webpages are.\n\n165\n00:08:53,920 --> 00:08:57,440\nMaybe you just want secure, or\nmaybe you just want unsecure, so\n\n166\n00:08:57,440 --> 00:09:00,890\nyou could actually remove one of\nthe these or customize it, change it, and\n\n167\n00:09:00,890 --> 00:09:02,180\nset things the way that you need it.\n\n168\n00:09:02,180 --> 00:09:03,490\nMost people want both, right?\n\n169\n00:09:03,490 --> 00:09:04,680\nYou want unsecure and secure.\n\n170\n00:09:05,940 --> 00:09:08,400\nSo before we jump into configuring\nall these individual settings,\n\n171\n00:09:08,400 --> 00:09:11,380\nlet me just verify that my site is\nactually presenting on these two\n\n172\n00:09:11,380 --> 00:09:13,000\nports like we described, right?\n\n173\n00:09:13,000 --> 00:09:15,390\nSo I'm gonna fire Safari back up.\n\n174\n00:09:15,390 --> 00:09:19,660\nAnd I'm gonna start by actually\ntyping in the full address.\n\n175\n00:09:19,660 --> 00:09:23,950\nAnd when I browse through\nthe server I can say, http://, so\n\n176\n00:09:23,950 --> 00:09:25,840\nI'm telling it I don't\nwant a secure connection.\n\n177\n00:09:25,840 --> 00:09:30,120\nAnd then, I'll point it to OSX-server one,\nthat's the name of my server.\n\n178\n00:09:30,120 --> 00:09:31,960\nI can also do this by IP address.\n\n179\n00:09:31,960 --> 00:09:36,790\nI can punch in an IP address of my network\nadapter, or the loop back address,\n\n180\n00:09:36,790 --> 00:09:39,100\n127.00.1, I could point to that.\n\n181\n00:09:39,100 --> 00:09:40,310\nWhatever it is that I want.\n\n182\n00:09:40,310 --> 00:09:44,061\nBut I can browse, and there I'm getting\nthe webpage, and it's a non-secure\n\n183\n00:09:44,061 --> 00:09:47,720\nconnection cuz I don't see a little\nlock up here in my address bar.\n\n184\n00:09:47,720 --> 00:09:52,990\nAnd if I open up another tab and\nI put in https://,\n\n185\n00:09:52,990 --> 00:09:56,680\nand I'm going to add .local\nto the end of that name, so\n\n186\n00:09:56,680 --> 00:10:00,400\nit'll be https:// osx-server1.local.\n\n187\n00:10:00,400 --> 00:10:01,710\nBy typing in that name,\n\n188\n00:10:01,710 --> 00:10:06,210\nit'll make it not complain about\nthat certificate, and there we go.\n\n189\n00:10:06,210 --> 00:10:08,760\nSo I've connected to it,\nI didn't get any certificate complaints.\n\n190\n00:10:08,760 --> 00:10:12,660\nAnd if I click on my address bar,\nI can see that I did connect with HTTPS.\n\n191\n00:10:12,660 --> 00:10:16,140\nMy little lock isn't appearing,\nwhich is a little odd.\n\n192\n00:10:16,140 --> 00:10:19,810\nYeah, see what happened there?\n\n193\n00:10:19,810 --> 00:10:24,620\nBut it is connecting securely, but\nI'm not getting the little lock\n\n194\n00:10:24,620 --> 00:10:27,565\nicon which means I'm probably still not\ntrusting my root certificate on this one.\n\n195\n00:10:27,565 --> 00:10:30,020\nSelf-signed certificates\nare always a problem.\n\n196\n00:10:30,020 --> 00:10:32,850\nWhat you really want to do, if you're\ngonna be exposing this to the internet,\n\n197\n00:10:32,850 --> 00:10:35,360\nis to go to a certificate\nauthority on the internet.\n\n198\n00:10:35,360 --> 00:10:37,320\nSomebody like Digicert or\n\n199\n00:10:37,320 --> 00:10:41,320\nVerisign, and purchase a trusted\ncertificate to attach to your server.\n\n200\n00:10:41,320 --> 00:10:44,372\nThat's when you get the nice little green\nlock up here, or if you do extended\n\n201\n00:10:44,372 --> 00:10:47,152\nverification you get the nice big\nblock that says your company name.\n\n202\n00:10:47,152 --> 00:10:51,780\nThat kinda stuff, that's important for\na lot of people for security.\n\n203\n00:10:51,780 --> 00:10:53,210\nBut my server is responding.\n\n204\n00:10:53,210 --> 00:10:58,212\nI got a response here on HTTPS and I got\na response here on just regular HTTP.\n\n205\n00:10:58,212 --> 00:10:58,813\nActually, you know what?\n\n206\n00:10:58,813 --> 00:11:01,690\nIt says it flipped over to HTTPS,\ndidn't it?\n\n207\n00:11:01,690 --> 00:11:03,630\nI'm gonna just do this by IP,\n\n208\n00:11:03,630 --> 00:11:09,220\nif I do like 127.0.0.1 that's a local\nconnection right to the server.\n\n209\n00:11:09,220 --> 00:11:11,968\nSo I'm getting responses on all\nof these different connections.\n\n210\n00:11:11,968 --> 00:11:16,378\nNow why does the server care\nwhat IP I'm coming in on or\n\n211\n00:11:16,378 --> 00:11:18,740\nwhat name I'm coming in on.\n\n212\n00:11:18,740 --> 00:11:24,142\nAnd the answer is you might want to host\nmore than one website on the same server.\n\n213\n00:11:24,142 --> 00:11:27,081\nWell, if you've got more than\none website on the same server,\n\n214\n00:11:27,081 --> 00:11:29,810\nhow does it know which\nsite to present to users?\n\n215\n00:11:29,810 --> 00:11:33,370\nSo, when we create a website, there are\nreally three things that identify it, and\n\n216\n00:11:33,370 --> 00:11:35,820\nyou sorta see that here in the server app.\n\n217\n00:11:35,820 --> 00:11:40,650\nWhen we look at it, it says the name of\nthe website, it says all IP addresses,\n\n218\n00:11:40,650 --> 00:11:42,240\nand a port number.\n\n219\n00:11:42,240 --> 00:11:44,870\nSo, when somebody comes to our server,\n\n220\n00:11:44,870 --> 00:11:48,970\none way to identify which website to\ngive them is based on the IP address.\n\n221\n00:11:48,970 --> 00:11:53,270\nIf I have three network cards, and each\nnetwork card has a different IP address\n\n222\n00:11:54,510 --> 00:11:59,630\nthen what I can do is I can say, website\nnumber one is tied to the first address.\n\n223\n00:11:59,630 --> 00:12:01,540\nAnd website number two is\ntied to the second address.\n\n224\n00:12:01,540 --> 00:12:03,860\nAnd website number three is\ntied to the third address.\n\n225\n00:12:03,860 --> 00:12:07,290\nAnd depending on the address that people\ngo to, they'll get a different website.\n\n226\n00:12:07,290 --> 00:12:10,290\nI can host more than one\nwebsite on the same server.\n\n227\n00:12:10,290 --> 00:12:12,701\nThe only problem with that model is\nthat is it requires multiple network\n\n228\n00:12:12,701 --> 00:12:13,390\nadaptors, right?\n\n229\n00:12:13,390 --> 00:12:17,514\nYou have to have more than one network\nadaptor to have these extra addresses or\n\n230\n00:12:17,514 --> 00:12:20,060\nI can tie more than one\naddress to the same name.\n\n231\n00:12:20,060 --> 00:12:23,500\nDavid in the chat room made a comment,\nis this like IIS?\n\n232\n00:12:23,500 --> 00:12:25,530\nIt's almost identical, right?\n\n233\n00:12:25,530 --> 00:12:27,980\nMicrosoft didn't really\ninvent anything new in IIS,\n\n234\n00:12:27,980 --> 00:12:29,720\nthey were using standard technologies.\n\n235\n00:12:29,720 --> 00:12:32,950\nThis is the way that Apple deploys it and\nit's really the same.\n\n236\n00:12:32,950 --> 00:12:36,760\nThe configuration screens are a little bit\ndifferent, but it's the same technology.\n\n237\n00:12:36,760 --> 00:12:41,410\nSo IP address, that's one way to go ahead\nand identify these different sites.\n\n238\n00:12:41,410 --> 00:12:43,500\nAnother way is the port number.\n\n239\n00:12:43,500 --> 00:12:46,350\nThis default site right\nhere is on port 80.\n\n240\n00:12:46,350 --> 00:12:48,010\nI could add another website.\n\n241\n00:12:48,010 --> 00:12:50,440\nAnd when I add that other website I\ncould add it on a different port.\n\n242\n00:12:50,440 --> 00:12:54,979\nSo if I hit the little plus sign down\nhere at the bottom I can create a new\n\n243\n00:12:54,979 --> 00:12:57,421\nwebsite and I can put it on port 81.\n\n244\n00:12:57,421 --> 00:13:01,124\nThe other one was on port 80,\nthis one's now on port 81.\n\n245\n00:13:01,124 --> 00:13:03,504\nOh, it's gonna make me\nput in a domain name.\n\n246\n00:13:03,504 --> 00:13:06,005\nBut this one will be on port 81 and\n\n247\n00:13:06,005 --> 00:13:10,670\nit would know based on that port\nwhich website to give somebody.\n\n248\n00:13:10,670 --> 00:13:14,470\nAnd then the third way to do it is\nthe one that David mentioned which was\n\n249\n00:13:14,470 --> 00:13:15,610\nhost headers.\n\n250\n00:13:15,610 --> 00:13:18,130\nHost headers is where we do\nit based on a domain name.\n\n251\n00:13:18,130 --> 00:13:19,124\nNow this is a tricky one.\n\n252\n00:13:19,124 --> 00:13:23,640\nIf you've got more than one website, the\nodds are they have different domain names.\n\n253\n00:13:23,640 --> 00:13:26,721\nSo when a user types in a domain name,\nyou may have three or\n\n254\n00:13:26,721 --> 00:13:30,340\nfour domain names all tied\nto the same IP address.\n\n255\n00:13:30,340 --> 00:13:34,532\nAnd when that happens, people go to\nthe same server, but they're going for\n\n256\n00:13:34,532 --> 00:13:35,394\na domain name.\n\n257\n00:13:35,394 --> 00:13:40,154\nAnd with a host header, when they do\na request, they send to they server and\n\n258\n00:13:40,154 --> 00:13:43,960\nthey say I'm trying to get www.pets.com,\nor whatever.\n\n259\n00:13:43,960 --> 00:13:45,820\nAnd the server says, oh,\nyou're looking for the pets website,\n\n260\n00:13:45,820 --> 00:13:47,770\nI've got that right here,\nlet me give it to you.\n\n261\n00:13:47,770 --> 00:13:49,300\nAnd it responds back.\n\n262\n00:13:49,300 --> 00:13:51,870\nEvery modern web browser supports that.\n\n263\n00:13:51,870 --> 00:13:54,860\nBut if you still support\nreally old web browsers, and\n\n264\n00:13:54,860 --> 00:13:58,760\nI'm talking about like IE 4 and older,\nthese are ten year old browsers,\n\n265\n00:13:58,760 --> 00:14:01,803\nif you still support really old browsers\nsome of them don't support host headers.\n\n266\n00:14:01,803 --> 00:14:04,040\nAnd so that's not a perfect solution.\n\n267\n00:14:04,040 --> 00:14:08,020\nThe perfect solution,\nthe best solution, is IP address.\n\n268\n00:14:08,020 --> 00:14:09,660\nSeparate IP addresses for each website.\n\n269\n00:14:09,660 --> 00:14:11,280\nThat's the one that's guaranteed.\n\n270\n00:14:11,280 --> 00:14:13,602\nHost headers will work 99% of the time,\nthough.\n\n271\n00:14:13,602 --> 00:14:15,020\nAnd that's good enough for most people.\n\n272\n00:14:15,020 --> 00:14:16,130\nSo host headers are very common.\n\n273\n00:14:17,130 --> 00:14:19,670\nPort numbers are the least common.\n\n274\n00:14:19,670 --> 00:14:23,799\nThey're the least common because\nwhen you type in a web address,\n\n275\n00:14:23,799 --> 00:14:28,167\nwhen I type in www.amazon.com,\nmy web browser assumes port 80.\n\n276\n00:14:28,167 --> 00:14:31,661\nIf I want to connect with different\nport I have to type it in.\n\n277\n00:14:31,661 --> 00:14:36,310\nI would have to type www.amazon.com:81.\n\n278\n00:14:36,310 --> 00:14:37,700\nWhat end users want to do that?\n\n279\n00:14:37,700 --> 00:14:42,006\nWho wants to put that on their business\ncard, here is my website, it's port 65212.\n\n280\n00:14:42,006 --> 00:14:44,264\nThat's not something people\nare going to remember or\n\n281\n00:14:44,264 --> 00:14:46,000\nsomething they are going to do.\n\n282\n00:14:46,000 --> 00:14:49,560\nAnd so while we can use port numbers to\ndifferentiate, it is the least common.\n\n283\n00:14:50,720 --> 00:14:53,790\nAll right, well let's run through\nsome little examples here.\n\n284\n00:14:53,790 --> 00:14:57,120\nI want to put some sample content\nin one of these websites.\n\n285\n00:14:57,120 --> 00:14:58,620\nSo this website right here,\n\n286\n00:14:58,620 --> 00:15:02,270\nthis is the default one that it makes\nwhen you first turn on the web server.\n\n287\n00:15:02,270 --> 00:15:05,550\nMine is on, it's there, and it's created.\n\n288\n00:15:05,550 --> 00:15:09,250\nNow it's storing the web pages\nthat are being displayed\n\n289\n00:15:09,250 --> 00:15:10,800\nin a particular folder on the hard drive.\n\n290\n00:15:10,800 --> 00:15:11,570\nLet's take a look at that.\n\n291\n00:15:11,570 --> 00:15:12,660\nI'm gonna fire up my terminal.\n\n292\n00:15:14,790 --> 00:15:18,445\nAnd if we browse to /Library\n\n293\n00:15:18,445 --> 00:15:27,840\n/Server/Web/Data/Sites, it's\nkind of a long path.\n\n294\n00:15:27,840 --> 00:15:33,570\nBut /Library /Server/Web/Data/Sites\n\n295\n00:15:33,570 --> 00:15:37,210\nthat's where it's actually storing all\nof our web pages, all of our sites.\n\n296\n00:15:37,210 --> 00:15:40,750\nAnd if you only have one site,\nyou'll just see that folder right there,\n\n297\n00:15:40,750 --> 00:15:41,650\nthe default type.\n\n298\n00:15:41,650 --> 00:15:44,040\nThat's the default site that I made, or\n\n299\n00:15:44,040 --> 00:15:45,960\nthat was made when I\nturned the web server on.\n\n300\n00:15:45,960 --> 00:15:47,766\nSo that one was already made for me.\n\n301\n00:15:47,766 --> 00:15:50,528\nAnd if I go into that default folder and\nlook,\n\n302\n00:15:50,528 --> 00:15:54,468\nhere is the various files that\nare part of what it is presenting.\n\n303\n00:15:54,468 --> 00:15:59,195\nThat Mac OS page that we saw that had\nthe links to the Wiki and all that.\n\n304\n00:15:59,195 --> 00:16:00,592\nThat's generated right here.\n\n305\n00:16:00,592 --> 00:16:02,458\nSo we've just got some\nbasic functionality.\n\n306\n00:16:02,458 --> 00:16:04,700\nNotice I have a NetBoot folder?\n\n307\n00:16:04,700 --> 00:16:07,560\nThat's going back to the whole\nsum services make use of\n\n308\n00:16:07,560 --> 00:16:09,220\nApache on top of others.\n\n309\n00:16:09,220 --> 00:16:10,720\nSo you might have wiki folder,\n\n310\n00:16:10,720 --> 00:16:13,920\nif you've got the wiki enabled you might\nsee other things inside of this website.\n\n311\n00:16:15,860 --> 00:16:18,792\nBut if I wanna create a sample Web page,\nI can throw one right in here and\n\n312\n00:16:18,792 --> 00:16:20,005\nwe'll be able to access it.\n\n313\n00:16:20,005 --> 00:16:21,445\nNow you do have to be\na little bit careful.\n\n314\n00:16:21,445 --> 00:16:26,420\nIf you look at the file permissions on\nthese, see how these are all files that\n\n315\n00:16:26,420 --> 00:16:30,567\nare symlinked to reference files or\nother places on the drive.\n\n316\n00:16:30,567 --> 00:16:35,210\nBut the important part to pay attention\nto is that most of these files are owned\n\n317\n00:16:35,210 --> 00:16:36,510\nby root.\n\n318\n00:16:36,510 --> 00:16:38,280\nAnd the group is set to wheel.\n\n319\n00:16:38,280 --> 00:16:39,530\nWe'll see that a lot.\n\n320\n00:16:39,530 --> 00:16:43,760\nThese ones that are symlinked are tied to\nthe admin group, but root is the owner,\n\n321\n00:16:43,760 --> 00:16:46,280\nand that's important because the patching\nneeds that to be able to access\n\n322\n00:16:46,280 --> 00:16:47,140\nthese files.\n\n323\n00:16:47,140 --> 00:16:50,500\nSo as we start to load files in here,\nwe're gonna need to make sure we\n\n324\n00:16:50,500 --> 00:16:53,480\nchange their ownership so\nthat people will be able to access it.\n\n325\n00:16:53,480 --> 00:16:55,490\nAnd that's an important thing.\n\n326\n00:16:55,490 --> 00:16:59,240\nIf you're using the sudo command to write\nfiles in here, it's not a big deal.\n\n327\n00:16:59,240 --> 00:17:02,130\nBut if you're copying files in,\nyou've always gotta double check and\n\n328\n00:17:02,130 --> 00:17:05,320\nmake sure they're owned by the right\npeople for Apache to be able to use them.\n\n329\n00:17:06,940 --> 00:17:10,710\nAll right, so what I'm gonna do is I'm\ngonna create a test file, all right?\n\n330\n00:17:10,710 --> 00:17:13,774\nAnd I'll just call it test.html.\n\n331\n00:17:13,774 --> 00:17:21,193\nSo, I'm gonna do a sudo, and I'll use\nvi to edit it and I'll do test.html.\n\n332\n00:17:21,193 --> 00:17:26,699\nAnd I'm just going to whip up a real quick\nand dirty html file to throw in here,\n\n333\n00:17:26,699 --> 00:17:31,000\nand make sure that we can\nverify our server is working.\n\n334\n00:17:31,000 --> 00:17:33,500\nAnd it's just gonna ask for my password.\n\n335\n00:17:33,500 --> 00:17:34,380\nThere were go.\n\n336\n00:17:34,380 --> 00:17:35,640\nAnd now I can come in and\nI can type one up.\n\n337\n00:17:35,640 --> 00:17:37,140\nNow I'm not a Web developer.\n\n338\n00:17:37,140 --> 00:17:40,420\nI did take a semester of\nHTML back in college, so\n\n339\n00:17:40,420 --> 00:17:43,970\nI'm gonna do a page that\nis embarrassingly simple.\n\n340\n00:17:43,970 --> 00:17:46,160\nBut let me just bang this one out here,\nreal quick.\n\n341\n00:17:46,160 --> 00:17:47,660\nSo we'll say we've got some HTML.\n\n342\n00:17:47,660 --> 00:17:49,068\nWe've got a header.\n\n343\n00:17:49,068 --> 00:17:51,819\nAnd in my header I want a title, and\nit's going to be my Example HTML Page.\n\n344\n00:17:51,819 --> 00:17:55,801\nAnd that'll be\n\n345\n00:17:55,801 --> 00:18:01,345\nthe end of my header.\n\n346\n00:18:01,345 --> 00:18:03,610\nAnd then we'll do the body.\n\n347\n00:18:03,610 --> 00:18:07,240\n[LAUGH] I'm sure there's at least one Web\ndeveloper out there watching this and\n\n348\n00:18:07,240 --> 00:18:07,790\ncringing.\n\n349\n00:18:07,790 --> 00:18:13,038\nBut let's see, this page is rendered\n\n350\n00:18:13,038 --> 00:18:17,634\nin HTML for the Default website.\n\n351\n00:18:17,634 --> 00:18:20,600\nJust so I can remember which site this is.\n\n352\n00:18:21,610 --> 00:18:24,490\nClose that body out and close out HTML.\n\n353\n00:18:24,490 --> 00:18:25,370\nThere we go.\n\n354\n00:18:25,370 --> 00:18:26,780\nThere's a real simple Web page.\n\n355\n00:18:26,780 --> 00:18:27,370\nJust whipped up.\n\n356\n00:18:27,370 --> 00:18:28,580\nAnd I'm gonna throw in here.\n\n357\n00:18:28,580 --> 00:18:30,200\nAnd I'll save that.\n\n358\n00:18:31,900 --> 00:18:36,220\nAnd now I can see that I've got\nthat test.html page right there.\n\n359\n00:18:36,220 --> 00:18:37,280\nIt's available.\n\n360\n00:18:37,280 --> 00:18:39,840\nI'm gonna double check\nthe permissions on it.\n\n361\n00:18:39,840 --> 00:18:44,930\nAnd if I find that test.html right there,\nit's owned by root and admin.\n\n362\n00:18:44,930 --> 00:18:48,000\nAnd root and admin is actually fine,\nI could leave it that way.\n\n363\n00:18:48,000 --> 00:18:52,070\nBut if you look at the other files, you'll\nsee they're owned by root and wheel.\n\n364\n00:18:52,070 --> 00:18:54,720\nAnd so I do wanna go ahead and\nchange that.\n\n365\n00:18:54,720 --> 00:18:57,570\nThe permissions are set\nfine with just read and\n\n366\n00:18:57,570 --> 00:19:00,130\nwrite for root and\nread for everybody else.\n\n367\n00:19:00,130 --> 00:19:02,228\nYou want read for everybody else, people\nneed to be able to read the Web page.\n\n368\n00:19:02,228 --> 00:19:06,684\nBut I'm gonna change that ownership so\nI'll do the chown,\n\n369\n00:19:06,684 --> 00:19:08,743\nthe change owner command.\n\n370\n00:19:08,743 --> 00:19:12,723\nAnd I'm gonna say root:wheel,\nroot being the user that owns it,\n\n371\n00:19:12,723 --> 00:19:15,380\nwheel being the group that owns it.\n\n372\n00:19:15,380 --> 00:19:19,850\nAnd then I'll specify that test file\njust so that I make sure that it is set\n\n373\n00:19:19,850 --> 00:19:22,400\nthe same as the other files\nin that directory, right?\n\n374\n00:19:22,400 --> 00:19:24,190\nI wanna make sure I don't bump\ninto any permission issues.\n\n375\n00:19:25,890 --> 00:19:29,825\nAll right, but now that that file is\nthere, I can jump back to my Web browser.\n\n376\n00:19:29,825 --> 00:19:32,550\nJump that part back here somewhere.\n\n377\n00:19:32,550 --> 00:19:36,615\nAnd I can browse to the server, and I'll\njust use the loopback address to hit it,\n\n378\n00:19:36,615 --> 00:19:40,010\nand test.html.\n\n379\n00:19:40,010 --> 00:19:40,930\nAnd there's my page.\n\n380\n00:19:40,930 --> 00:19:44,350\nI see this page is rendered in HTML for\nthe Default website.\n\n381\n00:19:44,350 --> 00:19:47,850\nI'm hitting the Default website because\nI typed in that loopback address on\n\n382\n00:19:47,850 --> 00:19:50,080\nport 80 and I got there.\n\n383\n00:19:50,080 --> 00:19:52,750\nAnd that's tied to the server as a whole.\n\n384\n00:19:52,750 --> 00:19:56,930\nBut now I can add in more sites, and\nmaybe identify them with a different\n\n385\n00:19:56,930 --> 00:20:01,120\nport number or a different domain name or\nwhatever it is that I wanna do.\n\n386\n00:20:01,120 --> 00:20:05,210\nSo for example if I go back\nto my server app, all right,\n\n387\n00:20:05,210 --> 00:20:09,640\nI've got this Default server website and\nif I edit that, see it's the default.\n\n388\n00:20:09,640 --> 00:20:13,170\nThis is the one people get if\nthey don't match other things.\n\n389\n00:20:13,170 --> 00:20:16,710\nBut I can add in a new site and\nI'm gonna say the domain for\n\n390\n00:20:16,710 --> 00:20:21,020\nthis one is osx-server1.local.\n\n391\n00:20:21,020 --> 00:20:21,930\nThere we go.\n\n392\n00:20:21,930 --> 00:20:23,529\nAnd you've got this little red light,\n\n393\n00:20:23,529 --> 00:20:27,190\ngreen light over here letting you know\nwhether you've typed in a proper name.\n\n394\n00:20:27,190 --> 00:20:31,550\nA domain name can include letters, numbers\nand hyphens and it has to have a least\n\n395\n00:20:31,550 --> 00:20:35,460\na top level domain so it expects to see a\nperiod at some point as it breaks that up.\n\n396\n00:20:35,460 --> 00:20:38,290\nIf you don't you'll have a red light there\nletting you know it's not a valid name.\n\n397\n00:20:39,730 --> 00:20:40,840\nThen I say the IP address.\n\n398\n00:20:40,840 --> 00:20:44,858\nI'm gonna leave this one to any but\nI'm gonna set its port to 81.\n\n399\n00:20:44,858 --> 00:20:47,350\nI'm gonna move it to\na different port number.\n\n400\n00:20:47,350 --> 00:20:48,820\nI'm not gonna attach SSL to this one.\n\n401\n00:20:48,820 --> 00:20:50,640\nIt's just gonna be unencrypted.\n\n402\n00:20:50,640 --> 00:20:55,442\nStore Site Files In, well, I'm gonna have\nit automatically create a new folder.\n\n403\n00:20:55,442 --> 00:21:00,123\nIf you set it to automatically create\na new folder what it'll do is it'll\n\n404\n00:21:00,123 --> 00:21:04,036\ncreate it, right in that same\nfolder that we were in before,\n\n405\n00:21:04,036 --> 00:21:07,282\nunder /Library/Server/Web/Data/Sites.\n\n406\n00:21:07,282 --> 00:21:10,620\nSo I'll have a Default folder, and\nnow I'll have a folder for this new site.\n\n407\n00:21:12,660 --> 00:21:15,800\nI can manually pick a location if I want,\nif I wanna know where that one is.\n\n408\n00:21:15,800 --> 00:21:18,051\nBut I'll just leave it at automatic,\nall right?\n\n409\n00:21:18,051 --> 00:21:19,528\nWe're gonna look at these\nother settings later.\n\n410\n00:21:19,528 --> 00:21:21,489\nI'm gonna leave them be for\nnow and just hit Create.\n\n411\n00:21:21,489 --> 00:21:23,346\nAnd that's gonna get that site created.\n\n412\n00:21:23,346 --> 00:21:26,935\nNow it takes it just a second\ncuz it's gotta make the folder.\n\n413\n00:21:26,935 --> 00:21:28,620\nIt's gotta set the permissions, but\n\n414\n00:21:28,620 --> 00:21:31,660\nat the end of the day I now have\na new site created right there.\n\n415\n00:21:34,000 --> 00:21:39,730\nNow if I fire up my Web browser, well\nactually let me put a file in that site.\n\n416\n00:21:39,730 --> 00:21:46,380\nSo looking at my Sites folder, inside of\nthat //Library/Server/Web/Data/Sites,\n\n417\n00:21:46,380 --> 00:21:51,220\nrolls right off the tongue,\nI now have a folder called Default and\n\n418\n00:21:51,220 --> 00:21:54,420\na folder called osx-server1.local, right?\n\n419\n00:21:54,420 --> 00:21:56,740\nIt created a folder with that domain name.\n\n420\n00:21:56,740 --> 00:22:01,860\nAnd if I change in to that\nfolder I'll see the files,\n\n421\n00:22:01,860 --> 00:22:04,530\nand there's all those\nsame sample files before.\n\n422\n00:22:04,530 --> 00:22:09,226\nBut what I wanna do is\nI wanna copy that test\n\n423\n00:22:09,226 --> 00:22:13,530\nfile that we made a minute ago to here.\n\n424\n00:22:13,530 --> 00:22:14,576\nAnd I'm gonna edit that.\n\n425\n00:22:14,576 --> 00:22:18,770\nWhich actually I need to make\nsure I do it administratively.\n\n426\n00:22:18,770 --> 00:22:23,220\nAnd make sure that I can see this\nvisually, that this is a different page.\n\n427\n00:22:23,220 --> 00:22:26,410\nSo I'm gonna come in here and\njust enter one more line.\n\n428\n00:22:26,410 --> 00:22:33,180\nAnd I'll say,\nthis page is displayed on port 81.\n\n429\n00:22:33,180 --> 00:22:37,750\nSo I can tell the difference when\nI browse these Web pages, and\n\n430\n00:22:37,750 --> 00:22:38,600\nsome way to know the difference.\n\n431\n00:22:39,930 --> 00:22:42,830\nAll right, now I'll just double\ncheck those permissions again.\n\n432\n00:22:42,830 --> 00:22:44,513\nAnd see how it's root and admin.\n\n433\n00:22:44,513 --> 00:22:46,584\nAnd that's because I did it\nwith the sudo command and\n\n434\n00:22:46,584 --> 00:22:48,054\nthose are the default groups for it.\n\n435\n00:22:48,054 --> 00:22:51,419\nSo I'll just fix that ownership real quick\njust like we did before which actually I\n\n436\n00:22:51,419 --> 00:22:53,093\ncan use my command history for that one.\n\n437\n00:22:53,093 --> 00:22:55,577\nThere we go.\n\n438\n00:22:55,577 --> 00:23:00,020\nAnd then that'll fix that, and\nnow we can browse and see it in action.\n\n439\n00:23:00,020 --> 00:23:05,861\nSo if I fire up my Web browser,\nand I browse to osx-server1.local,\n\n440\n00:23:05,861 --> 00:23:12,000\nand I\"ll just add the http://,\nI'm not specifying a port.\n\n441\n00:23:12,000 --> 00:23:15,880\nAnd when you don't specify\na port it assumes port 80.\n\n442\n00:23:15,880 --> 00:23:19,960\nAnd so it's gonna take me to port\n80 on this server and display it,\n\n443\n00:23:19,960 --> 00:23:22,110\nand here it's forwarding\nme to the secure one.\n\n444\n00:23:22,110 --> 00:23:24,890\nLet me just add test.html.\n\n445\n00:23:24,890 --> 00:23:27,700\nAnd I can see this page\nis rendered in HTML.\n\n446\n00:23:27,700 --> 00:23:32,344\nBut if I add to that,\nafter the server name if I add a :81,\n\n447\n00:23:32,344 --> 00:23:35,660\nnow it knows to go in on the other port.\n\n448\n00:23:35,660 --> 00:23:39,980\nAnd when it does that, it's gonna connect\non port 81 and hopefully display for\n\n449\n00:23:39,980 --> 00:23:40,910\nme the other page.\n\n450\n00:23:40,910 --> 00:23:44,124\nNow if it doesn't come up right away,\nI've bumped into this before,\n\n451\n00:23:44,124 --> 00:23:47,675\noccasionally Apache doesn't recognize\nthat the new site is being created.\n\n452\n00:23:47,675 --> 00:23:49,393\nAnd so that can cause a bit of an issue.\n\n453\n00:23:49,393 --> 00:23:51,680\nAnd you might have to restart Apache.\n\n454\n00:23:51,680 --> 00:23:52,380\nSo we'll give it a second here.\n\n455\n00:23:52,380 --> 00:23:53,924\nIt looks like it's gonna time out on me.\n\n456\n00:23:53,924 --> 00:23:57,698\nLet me try this in another browser.\n\n457\n00:23:57,698 --> 00:24:06,016\nSo, I'm gonna go to .local:81 test.html,\nthere we go.\n\n458\n00:24:06,016 --> 00:24:10,351\nThat page, I must have just gone too fast,\nit wasn't actually up yet, but in my\n\n459\n00:24:10,351 --> 00:24:14,780\nother tab here it is, so I just browse to\nthat server, and see how I typed that in?\n\n460\n00:24:14,780 --> 00:24:20,748\nI did\nhttp://osx-server1.local:81/test.html,\n\n461\n00:24:20,748 --> 00:24:25,540\nand that told it to\nrender the other webpage.\n\n462\n00:24:25,540 --> 00:24:28,800\nAnd I can see right here,\nthe page is rendered in HTML, and\n\n463\n00:24:28,800 --> 00:24:30,870\nit's displayed on port 81,\nI got the other site.\n\n464\n00:24:32,240 --> 00:24:34,300\nBut the port numbers aren't\nthe greatest way to do that.\n\n465\n00:24:35,380 --> 00:24:39,340\nA better way to do it is with\nthe domain name or a different IP.\n\n466\n00:24:39,340 --> 00:24:41,963\nIf you have more than one\nIP address on your server,\n\n467\n00:24:41,963 --> 00:24:45,989\nthen all you have to do is go back to the\nserver app, and when you edit a website so\n\n468\n00:24:45,989 --> 00:24:48,498\nI'll just edit that site\nI created a second ago.\n\n469\n00:24:48,498 --> 00:24:53,332\nUnder IP Address you can drop it down and\npick the address you want it to answer on\n\n470\n00:24:53,332 --> 00:24:59,135\nand so I can specify the 10.211.55.200\naddress or any other IPs that I've got.\n\n471\n00:24:59,135 --> 00:25:04,310\nThat's the guaranteed way to make sure\npeople get the website they're asking for\n\n472\n00:25:04,310 --> 00:25:10,430\nbut, it's not really realistic to have a\nbunch of network cards on your web server.\n\n473\n00:25:10,430 --> 00:25:13,600\nSo, the third way is really the most\ncommon, the host header way.\n\n474\n00:25:13,600 --> 00:25:17,570\nThe way where we map people\nbased on a domain name, right.\n\n475\n00:25:17,570 --> 00:25:20,837\nSo I want to show you that one next,\nbut I'm a little short on time on this\n\n476\n00:25:20,837 --> 00:25:24,540\nsegment, so let's stop here and take a\nbreak and when we get back, what we'll do\n\n477\n00:25:24,540 --> 00:25:28,421\nis we'll create two or three websites that\nare all mapped based on the domain names.\n\n478\n00:25:28,421 --> 00:25:30,707\nSo that's what we're going\nto see next after this.\n\n479\n00:25:30,707 --> 00:25:38,099\n[MUSIC]\n\n480\n00:25:38,099 --> 00:25:39,492\nAll right, welcome back everybody.\n\n481\n00:25:39,492 --> 00:25:42,912\nSo, Damien in our chat room pointed\nout why the webpage didn't load for\n\n482\n00:25:42,912 --> 00:25:43,712\nme a second ago.\n\n483\n00:25:43,712 --> 00:25:50,480\nWhat happened was when I type in that URL\nreport 81 the first time, I left HTTPS on.\n\n484\n00:25:50,480 --> 00:25:52,210\nAnd when I created that site,\nyou might remember,\n\n485\n00:25:52,210 --> 00:25:53,920\nI didn't attach a certificate to it.\n\n486\n00:25:53,920 --> 00:25:56,650\nSo it was trying to negotiate that, and\nthat's why it failed, so thanks for\n\n487\n00:25:56,650 --> 00:25:58,200\npointing that out Damien.\n\n488\n00:25:58,200 --> 00:26:00,520\nWhen I opened the second tab,\nI manually typed it in, so\n\n489\n00:26:00,520 --> 00:26:02,930\nthere wasn't an HTTPS and\nthat's why it came up right away, so\n\n490\n00:26:02,930 --> 00:26:05,700\njust wanted to point out why there\nwas that little glitch there.\n\n491\n00:26:05,700 --> 00:26:09,920\nBut what I wanna do now is I wanna show\nyou guys the host header functionality,\n\n492\n00:26:09,920 --> 00:26:12,810\nand how we can have sites\nidentified by their domain name,\n\n493\n00:26:12,810 --> 00:26:15,330\nwhich is really the most\npopular way of doing things.\n\n494\n00:26:15,330 --> 00:26:18,960\nYou'll hear a lot of people talk about\nthese as like vhosts or virtual hosts,\n\n495\n00:26:18,960 --> 00:26:22,200\nwhere you're creating virtual web\nservers inside one Apache instance.\n\n496\n00:26:22,200 --> 00:26:25,660\nThat's exactly what this is, and the\nsupport for it's right here in the system.\n\n497\n00:26:25,660 --> 00:26:30,415\nAll right, let's say that I\nwanted to host the website for\n\n498\n00:26:30,415 --> 00:26:34,560\nPets.com and I wanted to host\nthe website for Amazon.com, right.\n\n499\n00:26:34,560 --> 00:26:39,310\nBut I only have one server and its got\none network card and one IP address and\n\n500\n00:26:39,310 --> 00:26:42,230\nI don't want users to have to type\nin a port number to get to the site.\n\n501\n00:26:42,230 --> 00:26:43,840\nSo how do we tell them about?\n\n502\n00:26:43,840 --> 00:26:45,220\nWell, the domain name.\n\n503\n00:26:45,220 --> 00:26:47,890\nSo the first part is\ngetting DNS configured.\n\n504\n00:26:47,890 --> 00:26:49,641\nLet me show you my DNS server real quick.\n\n505\n00:26:49,641 --> 00:26:53,004\nWe covered this in the DNS episode,\nbut just to recap it,\n\n506\n00:26:53,004 --> 00:26:56,438\nwhat I did is I created a primary zone for\nAmazon.com, and\n\n507\n00:26:56,438 --> 00:27:00,855\nI created an entry for www.amazon.com,\nand if you double click on that,\n\n508\n00:27:00,855 --> 00:27:05,440\nyou'll see I pointed it to\n10.211 .55.200 that's my server.\n\n509\n00:27:05,440 --> 00:27:07,832\nSo it's pointing right\nhere to this server.\n\n510\n00:27:07,832 --> 00:27:12,315\nAnd if I take a look at the pets.com zone,\nI did the same thing and\n\n511\n00:27:12,315 --> 00:27:17,218\nI created www.pets.com and\nif I double-click on that I pointed it to\n\n512\n00:27:17,218 --> 00:27:20,892\nthis server also, 10.211.55.200.\n\n513\n00:27:20,892 --> 00:27:25,025\nThey point to the same IP, and clients\nare gonna be connecting on port 80,\n\n514\n00:27:25,025 --> 00:27:26,280\nthe default.\n\n515\n00:27:26,280 --> 00:27:30,550\nSo the only thing that's gonna tell\nthem apart is the domain that they use.\n\n516\n00:27:30,550 --> 00:27:33,190\nWhen a client connects,\nthey're gonna request a web page and\n\n517\n00:27:33,190 --> 00:27:34,940\nthey're gonna say I'm asking for\nthis domain.\n\n518\n00:27:34,940 --> 00:27:38,890\nAnd the server will be able to\nuse that host header to say,\n\n519\n00:27:38,890 --> 00:27:41,480\nhere's the site I should be giving you,\nall right.\n\n520\n00:27:41,480 --> 00:27:44,540\nSo the DNS side, that's the first part.\n\n521\n00:27:44,540 --> 00:27:46,060\nWe gotta get that taken care of,\n\n522\n00:27:46,060 --> 00:27:49,370\nthen under websites I need\nto add in these new sites.\n\n523\n00:27:49,370 --> 00:27:55,680\nSo I'm gonna add a website and for the\ndomain name I'm gonna put www.pets.com,\n\n524\n00:27:55,680 --> 00:27:59,790\nthat's my first one and I'll say enter on\nany IP address, I don't care about that.\n\n525\n00:27:59,790 --> 00:28:01,320\nAnswer on port 80, that's fine.\n\n526\n00:28:01,320 --> 00:28:04,560\nI'm gonna leave everything else\nat default and we'll create that.\n\n527\n00:28:06,090 --> 00:28:09,574\nThen I'll create another one for\namazon.com.\n\n528\n00:28:09,574 --> 00:28:13,921\nAnd so I'll punch that one in here and\nsay www.amazon.com,\n\n529\n00:28:13,921 --> 00:28:17,440\nleaving it any IP port 80 and\nI'll create that.\n\n530\n00:28:18,930 --> 00:28:20,340\nOnce that's done,\n\n531\n00:28:20,340 --> 00:28:23,850\nthe server is now expecting\nconnections on these different names,\n\n532\n00:28:23,850 --> 00:28:28,050\nbut the example webpages are identical so\nI'm not really gonna tell them apart, so\n\n533\n00:28:28,050 --> 00:28:31,820\nI wanna throw in some little test files\nthat we'll be able to recognize those.\n\n534\n00:28:31,820 --> 00:28:35,860\nSo let me jump back to my terminal,\nand I'm still in my sites folder and\n\n535\n00:28:35,860 --> 00:28:39,880\nif I pull up my list I can see that\nit's made folders for the Amazon and\n\n536\n00:28:39,880 --> 00:28:43,990\nthe pets websites and so\nI can change into one of them.\n\n537\n00:28:43,990 --> 00:28:46,800\nI'll get into Amazon and\n\n538\n00:28:46,800 --> 00:28:51,720\nI'm going to create that little test\nfile that we've been working with.\n\n539\n00:28:55,407 --> 00:28:59,871\nGotta punch in my password for\nadministrative access and I'll paste this\n\n540\n00:28:59,871 --> 00:29:04,985\nin and I'm just going to come in and say,\nwelcome to, shoot, which folder was I in?\n\n541\n00:29:04,985 --> 00:29:06,424\n[LAUGH] Now I've gotten confused.\n\n542\n00:29:06,424 --> 00:29:10,940\nI think this was Pets, so\nI'll put in, welcome to pets.com.\n\n543\n00:29:13,475 --> 00:29:14,659\nOh, shoot, it was Amazon.\n\n544\n00:29:14,659 --> 00:29:15,900\nLet me go fix that.\n\n545\n00:29:15,900 --> 00:29:17,460\nThat makes testing kind of hard,\n\n546\n00:29:17,460 --> 00:29:20,540\nwhen you test file is wrong, so\nlet me just update this to say,\n\n547\n00:29:20,540 --> 00:29:24,310\nwelcome to Amazon.com and that way I'll\nknow that I got to the right server.\n\n548\n00:29:25,850 --> 00:29:27,050\nThere we go.\n\n549\n00:29:27,050 --> 00:29:31,870\nAnd then I'm going to change out of\nthat directory and get into the pets.com\n\n550\n00:29:31,870 --> 00:29:36,170\ndirectory if I can type it and\n\n551\n00:29:36,170 --> 00:29:42,000\nI'll edit that test.html file and\nI'll post that one in here.\n\n552\n00:29:42,000 --> 00:29:46,490\nAnd this time I'm going to come in and\nsay welcome to pets.com and\n\n553\n00:29:46,490 --> 00:29:47,990\nthat way I'll know I got\nto the right server.\n\n554\n00:29:50,320 --> 00:29:54,857\nOkay, so I've got two servers, they're\nboth mounted to all IP addresses if I go\n\n555\n00:29:54,857 --> 00:29:59,729\nback to my server app, they're both\nmounted to port 80, amazon.com on port 80,\n\n556\n00:29:59,729 --> 00:30:04,700\npets.com on port 80, so there's no way for\nthe server to tell the difference there.\n\n557\n00:30:04,700 --> 00:30:09,970\nThe only difference left is the domain\nname, and if we fire up our web\n\n558\n00:30:09,970 --> 00:30:16,380\nbrowser and go to www.amazon.com what\nI expect to see is my test page.\n\n559\n00:30:16,380 --> 00:30:21,075\nBut I don't know which instance it got so\nI need to add to the end of that\n\n560\n00:30:21,075 --> 00:30:26,060\n/test.html and\nthere's welcome to Amazon.com.\n\n561\n00:30:26,060 --> 00:30:32,540\nAnd if I go to www.pets.com/test.html\nI get welcome to Pets.com.\n\n562\n00:30:32,540 --> 00:30:37,410\nIt new what site to send me to\nbecause of that domain name.\n\n563\n00:30:37,410 --> 00:30:40,420\nYou still have to update your\nDNS record to point to the IP.\n\n564\n00:30:40,420 --> 00:30:44,380\nThe client is actually what's providing\nthat domain name every modern web browser.\n\n565\n00:30:44,380 --> 00:30:47,760\nAny browser created in the last eight to\nten years is gonna hand off those host\n\n566\n00:30:47,760 --> 00:30:50,690\ndomains and so\nits gonna work out pretty well.\n\n567\n00:30:50,690 --> 00:30:51,870\nThis is what most sites do.\n\n568\n00:30:54,330 --> 00:30:59,430\nAll right, so that's getting our\nwebsites created just a Basic HTML site.\n\n569\n00:30:59,430 --> 00:31:01,880\nBut what you'll find is in real life land,\n\n570\n00:31:01,880 --> 00:31:04,600\na lot of people don't just\ndo basic HTML anymore.\n\n571\n00:31:04,600 --> 00:31:09,070\nA lot of the webpages that you\nvisit like the entire ITProTV site\n\n572\n00:31:09,070 --> 00:31:12,590\nis rendered in PHP or\nother languages, like Python.\n\n573\n00:31:12,590 --> 00:31:15,720\nYou start to see JavaScript,\nother things like that and\n\n574\n00:31:15,720 --> 00:31:20,280\nbasic HTML will only get you so\nfar, right?\n\n575\n00:31:20,280 --> 00:31:24,070\nPHP, on the other hand, gets you dynamic\nwebpages that are generated that\n\n576\n00:31:24,070 --> 00:31:28,560\nhave content that changes based on\nthe user, that is very very common.\n\n577\n00:31:28,560 --> 00:31:33,000\nSo if we want to support things like PHP,\nwe've got to enable it.\n\n578\n00:31:33,000 --> 00:31:35,740\nIt's not on by default and you guys\nprobably saw the setting when I was\n\n579\n00:31:35,740 --> 00:31:38,170\ncreating these webpages that\nwe could easily turn it on.\n\n580\n00:31:38,170 --> 00:31:43,030\nWhen you take a website,\nI'll just take the default website here,\n\n581\n00:31:43,030 --> 00:31:45,030\nthis server website.\n\n582\n00:31:45,030 --> 00:31:49,152\nWell all of these websites are just\nserving up regular HTML but\n\n583\n00:31:49,152 --> 00:31:53,194\nright above it, we've got enabled PHP and\nenabled Python,\n\n584\n00:31:53,194 --> 00:31:56,223\nthey're turned off so it's not gonna work.\n\n585\n00:31:56,223 --> 00:31:59,929\nIf I create a PHP page right now,\nit's not gonna work,\n\n586\n00:31:59,929 --> 00:32:02,112\nif I turn those on now they will.\n\n587\n00:32:02,112 --> 00:32:05,188\nBut it doesn't take effect right away,\nyou really need to restart the server.\n\n588\n00:32:05,188 --> 00:32:07,844\nAnd you can restart the server\neither by using the on/off button,\n\n589\n00:32:07,844 --> 00:32:09,920\nthat's probably the easiest way to do it.\n\n590\n00:32:09,920 --> 00:32:13,300\nSo we can just turn it off and it does\ntake a moment, see how it says Stopping?\n\n591\n00:32:13,300 --> 00:32:15,870\nIt takes a little while to\nactually stop that service and\n\n592\n00:32:15,870 --> 00:32:19,650\nwe can turn it back on, and\nso we'll turn that back on.\n\n593\n00:32:19,650 --> 00:32:22,660\nThere is another way to do it\nthat's a little quicker if you're\n\n594\n00:32:22,660 --> 00:32:24,360\nsavvy with the command line.\n\n595\n00:32:24,360 --> 00:32:28,390\nFrom the command line you can run sudo\n\n596\n00:32:29,730 --> 00:32:33,880\napachectl, that's the apache\ncontrol utility, restart.\n\n597\n00:32:35,130 --> 00:32:37,440\nSudo apachectl restart.\n\n598\n00:32:37,440 --> 00:32:40,430\nIf we run that, that's going\nto restart the apache service.\n\n599\n00:32:40,430 --> 00:32:41,940\nIt's going to take it down and\nbring it back up.\n\n600\n00:32:41,940 --> 00:32:43,470\nSee how much quicker that was?\n\n601\n00:32:43,470 --> 00:32:45,430\nThat's a lot quicker.\n\n602\n00:32:45,430 --> 00:32:48,380\nSo different ways to restart and that's\njust based on whatever you're used to.\n\n603\n00:32:48,380 --> 00:32:52,449\nThat command was sudo apachectl restart.\n\n604\n00:32:55,524 --> 00:32:59,081\nNow, PHP is enabled inside of my server so\n\n605\n00:32:59,081 --> 00:33:02,950\nI can start to create\ndynamic content pages.\n\n606\n00:33:02,950 --> 00:33:04,970\nLet me show you an example of that.\n\n607\n00:33:04,970 --> 00:33:07,840\nSo in the show notes I'll post\nsome of these files that I used.\n\n608\n00:33:07,840 --> 00:33:12,120\nBut I whipped up just a real\nquick example of a dynamic page.\n\n609\n00:33:12,120 --> 00:33:15,000\nAnd I'm not a PHP wizard by any means.\n\n610\n00:33:15,000 --> 00:33:16,730\nSo this file is doing\nsomething really simple.\n\n611\n00:33:16,730 --> 00:33:18,720\nIt's just doing a PHP echo.\n\n612\n00:33:18,720 --> 00:33:22,532\nAnd it's echoing back text to let me know\nthat this page was rendered using PHP.\n\n613\n00:33:22,532 --> 00:33:23,958\nAll right.\n\n614\n00:33:23,958 --> 00:33:29,470\nSo, If I jump back over to my server,\nI'm going to add this to my default site.\n\n615\n00:33:29,470 --> 00:33:33,752\nI'm going to get back\ninto my default site,\n\n616\n00:33:33,752 --> 00:33:37,580\nand I will edit, we'll do test.php.\n\n617\n00:33:37,580 --> 00:33:42,607\nMy other test file was not test.html,\nit just had HTML in this.\n\n618\n00:33:42,607 --> 00:33:45,512\nBut this one is going to contain PHP, so\n\n619\n00:33:45,512 --> 00:33:49,510\nthere is that php echo\ncommand right there.\n\n620\n00:33:49,510 --> 00:33:52,260\nThat is a little different than your\nnormal just displaying a paragraph\n\n621\n00:33:52,260 --> 00:33:55,060\nin html.\n\n622\n00:33:55,060 --> 00:34:00,212\nIf I save that I should be able\nto jump into my browser and\n\n623\n00:34:00,212 --> 00:34:03,910\npunch in osx-server1/test.php.\n\n624\n00:34:03,910 --> 00:34:10,830\nAnd when I get to it I should get text\nback letting me know that it was rendered.\n\n625\n00:34:12,260 --> 00:34:13,810\nI did call it test.php, didn't I?\n\n626\n00:34:13,810 --> 00:34:17,310\nOh, permissions,\nI didn't double check my permissions.\n\n627\n00:34:17,310 --> 00:34:19,470\nAnd this is where we start\nto run into a problem.\n\n628\n00:34:19,470 --> 00:34:23,380\nA regular HTML file, it's just text.\n\n629\n00:34:23,380 --> 00:34:26,560\nAnd so when somebody gets it, they\ndownload it and they look at the text,\n\n630\n00:34:26,560 --> 00:34:28,060\nand that's it, right?\n\n631\n00:34:28,060 --> 00:34:31,540\nThey read the text, it's just\nreading a file, that's all it is.\n\n632\n00:34:31,540 --> 00:34:34,080\nPHP's different, PHP is a script.\n\n633\n00:34:34,080 --> 00:34:39,130\nIt actually executes, it has to run to\ngenerate the HTML that people view.\n\n634\n00:34:39,130 --> 00:34:41,990\nSo we have to have slightly\ndifferent permissions on\n\n635\n00:34:41,990 --> 00:34:45,770\na PHP file than what we\nwould on something else.\n\n636\n00:34:45,770 --> 00:34:47,950\nSo this is something common\nthat we have to deal with, and\n\n637\n00:34:47,950 --> 00:34:52,230\nI know I showed you guys permissions\nas far as changing to an owner was.\n\n638\n00:34:52,230 --> 00:34:53,390\nBut in this case,\n\n639\n00:34:53,390 --> 00:34:56,390\nI also to change permissions to\nallow people to execute the file.\n\n640\n00:34:56,390 --> 00:34:57,720\nPHP files, they're scripts.\n\n641\n00:34:57,720 --> 00:34:59,940\nThey actually run like a script.\n\n642\n00:34:59,940 --> 00:35:01,680\nSo I need to go and fix that real quick.\n\n643\n00:35:01,680 --> 00:35:06,360\nI'm gonna jump back to my terminal here,\nand first off I'll go in and\n\n644\n00:35:06,360 --> 00:35:07,500\ndo the ownership change.\n\n645\n00:35:07,500 --> 00:35:12,230\nI'm gonna assign that to root:wheel, which\nis what most of our pages should be set\n\n646\n00:35:12,230 --> 00:35:15,280\nto, all right, so I'm going to fix that.\n\n647\n00:35:15,280 --> 00:35:21,280\nAnd, then, I'm going to use the CH mod\ncommand to change those permissions.\n\n648\n00:35:21,280 --> 00:35:25,280\nAnd I'm going to change it and assign the\npermission from that file to bump this up.\n\n649\n00:35:25,280 --> 00:35:27,890\nAnd, there's a few different permission\ntypes that you'll see out there.\n\n650\n00:35:27,890 --> 00:35:32,090\nA lot of people will tell you to go ahead\nand do seven five five Which gives read,\n\n651\n00:35:32,090 --> 00:35:34,680\nwrite, and execute to the user owner.\n\n652\n00:35:34,680 --> 00:35:37,270\nAnd then it gives read and\nexecute to everybody else, and\n\n653\n00:35:37,270 --> 00:35:38,490\nthat's usually good enough.\n\n654\n00:35:38,490 --> 00:35:41,470\nOh yeah, Damien just mentioned\nthat in the chat room.\n\n655\n00:35:41,470 --> 00:35:42,320\nSo you'll see 755.\n\n656\n00:35:42,320 --> 00:35:46,925\nYou'll also see people say 644,\nwhich is not good enough for PHP.\n\n657\n00:35:46,925 --> 00:35:47,866\nThat'll give you the read access.\n\n658\n00:35:47,866 --> 00:35:51,906\nI need 755/test.php.\n\n659\n00:35:51,906 --> 00:35:55,724\nAnd you know I use the numerical notation\nbecause that's what I started with.\n\n660\n00:35:55,724 --> 00:35:58,839\nBut you can also use the plusrws syntax so\n\n661\n00:35:58,839 --> 00:36:02,970\nyou can actually type it\nout that way if you want.\n\n662\n00:36:02,970 --> 00:36:06,770\nThose are the permissions I want to\nassign, and if I look at my permissions\n\n663\n00:36:06,770 --> 00:36:12,270\nnow on test.php,\nsee how I've added the execute.\n\n664\n00:36:12,270 --> 00:36:15,410\nSo permissions are really the same\nas testing of HTML except we've\n\n665\n00:36:15,410 --> 00:36:16,810\ngot XQ on it also.\n\n666\n00:36:16,810 --> 00:36:20,980\nAnd that will knock that out for us so\nwe should be able execute that PHP file.\n\n667\n00:36:20,980 --> 00:36:24,590\nSo, when I go back here to my server and\nI try to browse the test.php,\n\n668\n00:36:24,590 --> 00:36:28,420\nwhen I go to it, I get URL not found.\n\n669\n00:36:28,420 --> 00:36:29,100\nWhat have I don't wrong?\n\n670\n00:36:29,100 --> 00:36:31,820\nNow we get to figure out\nwhat I've done wrong.\n\n671\n00:36:31,820 --> 00:36:34,410\nSo let's see.\n\n672\n00:36:34,410 --> 00:36:37,950\nOh, you know my url is pointing to\na domain name that is not right, so\n\n673\n00:36:37,950 --> 00:36:40,990\nlet me fix that and\nthat's probably the start of my problem.\n\n674\n00:36:40,990 --> 00:36:47,300\nSo, I'm going to type this in correctly\nthis time to osx-server1.local/test.php.\n\n675\n00:36:47,300 --> 00:36:51,720\nThere we go,\nnow I get this text is rendered using php.\n\n676\n00:36:51,720 --> 00:36:54,860\nSo, now I've got a dynamic\npage It was generated for me.\n\n677\n00:36:54,860 --> 00:36:58,200\nAnd that's very powerful,\na lot of people want that.\n\n678\n00:36:58,200 --> 00:37:00,800\nBut what's the risk of running\na script on your server?\n\n679\n00:37:00,800 --> 00:37:04,230\nThe risk is,\nif somebody can penetrate your server,\n\n680\n00:37:04,230 --> 00:37:07,820\nthey could put PHP files on there\nthat did malicious actions.\n\n681\n00:37:07,820 --> 00:37:11,510\nAnd now when they browse to it,\nthat PHP file executes\n\n682\n00:37:11,510 --> 00:37:15,330\nunder the permissions of Apache,\nnot under the permissions of a user.\n\n683\n00:37:15,330 --> 00:37:19,960\nAnd Apache runs with system privileges\nthat are pretty high in some cases.\n\n684\n00:37:19,960 --> 00:37:24,210\nSo Apple's done things to kind of wall\noff Apache and limit the access it has so\n\n685\n00:37:24,210 --> 00:37:24,900\nit's pretty safe.\n\n686\n00:37:24,900 --> 00:37:26,940\nBut it's something you\nneed to be aware of, and\n\n687\n00:37:26,940 --> 00:37:29,130\nthat's why PHP is turned off by default.\n\n688\n00:37:30,560 --> 00:37:32,490\nPython is even riskier.\n\n689\n00:37:32,490 --> 00:37:36,110\nPython is a very powerful scripting\nlanguage that lets you do all sorts of\n\n690\n00:37:36,110 --> 00:37:36,920\ncrazy things.\n\n691\n00:37:36,920 --> 00:37:39,810\nYou can create full\napplications inside of Python.\n\n692\n00:37:39,810 --> 00:37:43,530\nAnd so that was disabled too but\nwe can turn that on python support.\n\n693\n00:37:43,530 --> 00:37:46,674\nNow, just to see it,\nyou can click that little check mark and\n\n694\n00:37:46,674 --> 00:37:50,385\nit turns on python support and\nnow we'll be able to access python apps.\n\n695\n00:37:50,385 --> 00:37:53,531\nThere's actually one that's on the server\nby default that you can turn on\n\n696\n00:37:53,531 --> 00:37:54,251\npretty easily.\n\n697\n00:37:54,251 --> 00:37:58,489\nBut I've noticed there's\na kind of a poorly documented\n\n698\n00:37:58,489 --> 00:38:00,570\narea inside of the server.\n\n699\n00:38:00,570 --> 00:38:01,430\nAnd if you go out on the web,\n\n700\n00:38:01,430 --> 00:38:04,790\nthere's not a lot of people talking\nabout how to host Python apps.\n\n701\n00:38:04,790 --> 00:38:08,520\nSo, what I wanna do is I wanna hold off on\nthat topic until the end of the episode.\n\n702\n00:38:08,520 --> 00:38:11,270\nAnd for those of you that are interested\nin learning more about Python.\n\n703\n00:38:11,270 --> 00:38:14,030\nI wanna show you guys how to\nadd your own custom Python app.\n\n704\n00:38:14,030 --> 00:38:17,530\nBecause there really is not a lot of\ndocumentation out there on the internet.\n\n705\n00:38:17,530 --> 00:38:19,570\nI wanna make sure we include\nthat in the episode, but\n\n706\n00:38:19,570 --> 00:38:22,250\nI'll save it to the end because\nnot everybody cares about it.\n\n707\n00:38:22,250 --> 00:38:24,910\nOn the exam, I just want you to know\nthat you can, you can turn it on,\n\n708\n00:38:24,910 --> 00:38:26,900\nlet me show you how that works.\n\n709\n00:38:26,900 --> 00:38:29,650\nSo you turn it on by checking off Python,\nand\n\n710\n00:38:29,650 --> 00:38:34,910\nthen you go down to your server app and\nyou have to edit your server.\n\n711\n00:38:34,910 --> 00:38:38,670\nAnd inside of a server,\nyou've got advanced settings.\n\n712\n00:38:38,670 --> 00:38:42,480\nAnd buried under advanced settings, you'll\nhave list of all of your Python apps.\n\n713\n00:38:42,480 --> 00:38:44,780\nAnd you can turn them on or\noff individually.\n\n714\n00:38:44,780 --> 00:38:48,070\nSo you have to make sure you turn\non the Python app that you want.\n\n715\n00:38:48,070 --> 00:38:53,650\nAnd it includes one called Hello World\nthat's at /wsgi, that's an alias.\n\n716\n00:38:53,650 --> 00:38:56,210\nSo it's mapped to this virtual directory.\n\n717\n00:38:56,210 --> 00:39:01,340\nSo now that I've turned on Python,\nif I browse to that address, that URL And\n\n718\n00:39:01,340 --> 00:39:07,040\ninstead of a file if I point to /wsgi,\nI'll get Apple's hello world.\n\n719\n00:39:07,040 --> 00:39:09,260\nHere it is,\nthere is their test Python script.\n\n720\n00:39:09,260 --> 00:39:10,980\nThat's the Python app running.\n\n721\n00:39:10,980 --> 00:39:14,560\nSo, for the exam, they just want you to be\naware of that you can run Python apps and\n\n722\n00:39:14,560 --> 00:39:16,570\nthat it's just a check mark away.\n\n723\n00:39:16,570 --> 00:39:19,540\nBut the reality is if you've\ncreated your own Python app\n\n724\n00:39:19,540 --> 00:39:22,440\nit's actually pretty hard to get it added\nto this system and get it in place.\n\n725\n00:39:22,440 --> 00:39:24,600\nThere's about eight different steps\nyou have to go through to do it.\n\n726\n00:39:24,600 --> 00:39:27,600\nAnd I wanna show you guys that but we'll\nsave that for the end of the episode.\n\n727\n00:39:27,600 --> 00:39:28,918\nSo stay tuned for that if you care.\n\n728\n00:39:28,918 --> 00:39:29,508\nIf you don't care,\n\n729\n00:39:29,508 --> 00:39:31,611\nif you just wanna pass the exam then\nyou don't have to bother with that.\n\n730\n00:39:31,611 --> 00:39:33,933\n[LAUGH] All right.\n\n731\n00:39:33,933 --> 00:39:38,373\nSpeaking of advanced settings Let's take\na look at some of the other settings\n\n732\n00:39:38,373 --> 00:39:40,780\nthat are available for each of our sites.\n\n733\n00:39:40,780 --> 00:39:43,690\nAs we create these,\nwe've got a lot of choices.\n\n734\n00:39:43,690 --> 00:39:47,170\nWhen you set up that first website,\nthere's a ton of different options in\n\n735\n00:39:47,170 --> 00:39:50,505\nhere, and I've really only talked\nabout the first couple of ones.\n\n736\n00:39:50,505 --> 00:39:53,295\nThe first decision we have to make\nis how we identify the website.\n\n737\n00:39:53,295 --> 00:39:55,305\nAnd to recap that, we had three options.\n\n738\n00:39:55,305 --> 00:39:58,433\nIdentify it by the domain name,\nthat's the most common.\n\n739\n00:39:58,433 --> 00:40:01,967\nIdentify it by the IP address,\nthat's the most reliable, but\n\n740\n00:40:01,967 --> 00:40:03,441\na little more difficult.\n\n741\n00:40:03,441 --> 00:40:05,761\nAnd then identify it by the port number.\n\n742\n00:40:05,761 --> 00:40:09,897\nThat's probably the easiest, but it is the\nleast common because nobody wants to type\n\n743\n00:40:09,897 --> 00:40:12,760\nin a port number when\nthey browse to a webpage.\n\n744\n00:40:12,760 --> 00:40:16,100\nSo that's the first decision we\nmake when we create the webpage.\n\n745\n00:40:16,100 --> 00:40:20,520\nThen, we have to make other decisions,\nlike where we want it stored.\n\n746\n00:40:20,520 --> 00:40:23,280\nAnd notice this one says,\nstore site files in default.\n\n747\n00:40:23,280 --> 00:40:29,440\nWell, that's gonna go into that\n/Library/Server/Web/Data/Sites folder.\n\n748\n00:40:29,440 --> 00:40:31,210\nBut you can store it wherever you want.\n\n749\n00:40:31,210 --> 00:40:33,830\nAnd so right here, I can drop this\nbox down and choose Other, and\n\n750\n00:40:33,830 --> 00:40:36,300\nI can browse anywhere on my hard drive,\nor on a separate volume.\n\n751\n00:40:36,300 --> 00:40:38,430\nI might have dedicated\nhard drives just for this.\n\n752\n00:40:38,430 --> 00:40:40,366\nYou can browse that folder\nwhere it's mounted, and\n\n753\n00:40:40,366 --> 00:40:41,780\nthat's where the page can be stored.\n\n754\n00:40:41,780 --> 00:40:45,520\nSo you can store these pages\nanywhere on your disk.\n\n755\n00:40:45,520 --> 00:40:46,650\nThen we have who can access.\n\n756\n00:40:47,860 --> 00:40:50,960\nBy default, your website is set for\nanonymous access.\n\n757\n00:40:50,960 --> 00:40:52,850\nAnybody can get to it.\n\n758\n00:40:52,850 --> 00:40:55,010\nBut maybe you're creating an intranet and\n\n759\n00:40:55,010 --> 00:40:58,170\nyou only want internal employees\nto be able to get to that page.\n\n760\n00:40:58,170 --> 00:41:00,370\nWell, you can set it\nto require a password.\n\n761\n00:41:00,370 --> 00:41:02,250\nAnd now,\nif somebody wants to browse that website,\n\n762\n00:41:02,250 --> 00:41:03,920\nthey've gotta log in with a username and\na password.\n\n763\n00:41:05,240 --> 00:41:07,330\nNow there's two ways we can limit that.\n\n764\n00:41:07,330 --> 00:41:11,160\nThe easiest way is, if we drop this down,\nyou can choose a specific group and\n\n765\n00:41:11,160 --> 00:41:14,700\nyou can pick a group that's allowed\nto have access to the website.\n\n766\n00:41:14,700 --> 00:41:16,990\nAnd anybody who wants to log in,\nyou just throw them in that group and\n\n767\n00:41:16,990 --> 00:41:18,440\nnow they're able to log in and get access.\n\n768\n00:41:20,040 --> 00:41:22,760\nAll right.\nOr, instead of a group,\n\n769\n00:41:22,760 --> 00:41:26,060\nyou can choose Limit access by folder.\n\n770\n00:41:26,060 --> 00:41:28,630\nLimit access by folder is a neat one,\nbecause what it does is,\n\n771\n00:41:28,630 --> 00:41:31,710\nit looks at your shared folders, and\nthese don't have to be the folders that\n\n772\n00:41:31,710 --> 00:41:35,700\ncontain the website, these can be any\nold shared folder on your system, and\n\n773\n00:41:35,700 --> 00:41:38,420\nit will match the permissions\nagainst that shared folder.\n\n774\n00:41:38,420 --> 00:41:40,760\nAnd so then you can go to that folder and\nset permissions there, and\n\n775\n00:41:40,760 --> 00:41:42,400\nit'll just match those and\nkind of follow along.\n\n776\n00:41:42,400 --> 00:41:45,040\nIt's kind of an interesting system,\nbut it does work.\n\n777\n00:41:45,040 --> 00:41:46,760\nBut for me,\nI am just gonna limit it to a group,\n\n778\n00:41:46,760 --> 00:41:49,990\nmaybe I only want administrators\nto be able to get to this page.\n\n779\n00:41:49,990 --> 00:41:53,560\nSo, I'll just start typing here and\nwe can get administrators.\n\n780\n00:41:54,850 --> 00:41:57,790\nAnd so I picked out, I'm gonna let\njust administrators get to it.\n\n781\n00:41:57,790 --> 00:42:01,255\nNow, when somebody comes to the web page,\nthey'll be presented with a log in prompt.\n\n782\n00:42:01,255 --> 00:42:04,510\nThey'll have to provide a user name and\npassword to gain access to the site.\n\n783\n00:42:04,510 --> 00:42:10,020\nNow, that user name and password will\nbe sent in plain text by default.\n\n784\n00:42:10,020 --> 00:42:11,790\nSo if somebody's running\na sniffer on the network,\n\n785\n00:42:11,790 --> 00:42:14,000\nthey can figure out what your password is.\n\n786\n00:42:14,000 --> 00:42:16,580\nThat's bad.\nSo if you're gonna do access like this,\n\n787\n00:42:16,580 --> 00:42:18,160\nit's real important to use SSL.\n\n788\n00:42:18,160 --> 00:42:21,570\nDo you have a certificate attachment that\nyou require an encrypted connection?\n\n789\n00:42:21,570 --> 00:42:24,170\nAll right, cuz you don't want\npeople sending passwords in plain\n\n790\n00:42:24,170 --> 00:42:24,959\ntext over the network.\n\n791\n00:42:27,810 --> 00:42:30,570\nNext, we can set additional domains.\n\n792\n00:42:30,570 --> 00:42:33,370\nMaybe I have more than one\ndomain name tied to this.\n\n793\n00:42:33,370 --> 00:42:34,370\nThat's not uncommon.\n\n794\n00:42:34,370 --> 00:42:36,770\nSites, well like us, ITProTV, right?\n\n795\n00:42:36,770 --> 00:42:39,110\nMost of you went to our\nwebsite at itpro.tv,\n\n796\n00:42:39,110 --> 00:42:43,700\nbut, some of you might\nhave typed itprotv.com.\n\n797\n00:42:43,700 --> 00:42:47,380\nA lot of us are used to .com addresses,\nso you typed itprotv.com.\n\n798\n00:42:47,380 --> 00:42:49,200\nWell, that takes you to our site too.\n\n799\n00:42:49,200 --> 00:42:51,900\nThat's just an additional domain\nname attached to our site.\n\n800\n00:42:51,900 --> 00:42:54,180\nSo, we could type in more,\nas many as you want.\n\n801\n00:42:54,180 --> 00:42:57,070\nAll these different names that\npeople might use to get to us.\n\n802\n00:42:57,070 --> 00:42:59,410\nFor an unencrypted website,\nthat's no big deal.\n\n803\n00:42:59,410 --> 00:43:02,085\nIf it's an encrypted website, though,\nif you've got an SSL certificate,\n\n804\n00:43:02,085 --> 00:43:05,730\nyou've got to make sure the certificate\nsupports those domains.\n\n805\n00:43:05,730 --> 00:43:08,900\nAnd you can get a certificate that has\nmore than one domain name attached to it,\n\n806\n00:43:08,900 --> 00:43:12,300\nif you want, but if you don't,\nif it's only got one domain, and\n\n807\n00:43:12,300 --> 00:43:14,120\na user uses a different domain,\n\n808\n00:43:14,120 --> 00:43:16,540\nthey're gonna get a warning about\nthe identity not being verified.\n\n809\n00:43:18,800 --> 00:43:20,880\nWe can also set redirects.\n\n810\n00:43:20,880 --> 00:43:24,430\nMaybe I don't want to buy\na certificate for itprotv.com,\n\n811\n00:43:24,430 --> 00:43:28,920\nI just want it to forward people over to\nitpro.tv where we do have a certificate.\n\n812\n00:43:28,920 --> 00:43:33,300\nSo, I can set up a site for\nitprotv.com and set it to redirect.\n\n813\n00:43:33,300 --> 00:43:37,110\nAnd when you edit that, you'll see where\nyou can redirect it to different places.\n\n814\n00:43:37,110 --> 00:43:40,410\nSee how this one has a redirect,\nit's redirecting it to HTTPS.\n\n815\n00:43:40,410 --> 00:43:42,820\nThat's why, every time I try and\ngo to this page unsecure,\n\n816\n00:43:42,820 --> 00:43:46,010\nit's flipping me over to SSL,\nbecause there's a redirect in place.\n\n817\n00:43:46,010 --> 00:43:49,760\nAnd they're just redirecting that over\nto the same server name with HTTPS.\n\n818\n00:43:49,760 --> 00:43:52,331\nBut you can redirect to\nan entirely different location.\n\n819\n00:43:52,331 --> 00:43:55,187\nI can redirect to an internal or\nexternal website.\n\n820\n00:43:55,187 --> 00:44:00,393\nMaybe this site is actually gonna\nredirect people to somewhere else,\n\n821\n00:44:00,393 --> 00:44:05,688\nI could say a different website and\nI could redirect it to Amazon.com or\n\n822\n00:44:05,688 --> 00:44:09,150\nPets or\nsome other website that was out there.\n\n823\n00:44:09,150 --> 00:44:13,150\nMaybe I wanna send them to CNN.com, right?\n\n824\n00:44:13,150 --> 00:44:16,250\nSo anybody who comes to this website\nis gonna get redirected to CNN.com.\n\n825\n00:44:16,250 --> 00:44:19,810\nSo you can punch that in and\nthat's a redirect rule, right.\n\n826\n00:44:19,810 --> 00:44:21,475\nSo somebody types in\nthe wrong domain name,\n\n827\n00:44:21,475 --> 00:44:23,050\nwe can send them to the right domain name.\n\n828\n00:44:26,695 --> 00:44:27,850\nAll right, but I don't want that.\n\n829\n00:44:27,850 --> 00:44:30,275\nIn fact, I'm gonna take out this other\none, cuz it's getting in my way.\n\n830\n00:44:30,275 --> 00:44:34,850\n[LAUGH] All right,\nthe next one are aliases.\n\n831\n00:44:34,850 --> 00:44:38,890\nAliases are subfolders on your website\n\n832\n00:44:38,890 --> 00:44:41,550\nthat don't necessarily\nreside in the site itself.\n\n833\n00:44:41,550 --> 00:44:45,110\nRemember I showed you in the terminal,\nthat when we create a website,\n\n834\n00:44:45,110 --> 00:44:51,360\nit's putting it in this folder, right\nhere, /Library/Server/Web/Data/Sites.\n\n835\n00:44:51,360 --> 00:44:54,860\nBut what if I want to share\nsome data in my website.\n\n836\n00:44:54,860 --> 00:44:57,760\nAnd I don't want to actually copy\nthe data into the site itself.\n\n837\n00:44:57,760 --> 00:44:58,940\nWhat do I do then?\n\n838\n00:44:58,940 --> 00:45:00,185\nWell, you can do symlinks.\n\n839\n00:45:00,185 --> 00:45:01,470\nSymlinks are one way to do that.\n\n840\n00:45:01,470 --> 00:45:02,880\nYou'll link the files in there.\n\n841\n00:45:02,880 --> 00:45:04,750\nBut another way is to do an alias.\n\n842\n00:45:04,750 --> 00:45:09,040\nAn alias would be a subfolder that's\nactually pointing to contents stored\n\n843\n00:45:09,040 --> 00:45:10,180\nsomewhere else.\n\n844\n00:45:10,180 --> 00:45:13,280\nSo I could come in here and go to my\naliases, and I can add an alias and I can\n\n845\n00:45:15,290 --> 00:45:20,910\ncreate a fake folder, so maybe I\ncreate a folder called /downloads and\n\n846\n00:45:20,910 --> 00:45:26,290\nI can say, show the contents of, and\nspecify another folder on my hard drive.\n\n847\n00:45:26,290 --> 00:45:30,020\nSo I've got storage somewhere else,\nmaybe on my hard drive somewhere.\n\n848\n00:45:30,020 --> 00:45:31,890\nAnd I can come in and point to it.\n\n849\n00:45:31,890 --> 00:45:33,340\nPermissions can be a problem here, so\n\n850\n00:45:33,340 --> 00:45:35,850\nI've got to make sure permissions\nare set right on this stuff.\n\n851\n00:45:35,850 --> 00:45:40,760\nBut otherwise, we can point to it and\npeople will be able to get to that data.\n\n852\n00:45:40,760 --> 00:45:42,680\nWe just need to specify it somewhere.\n\n853\n00:45:42,680 --> 00:45:46,199\nI'll make a new folder here which\nI'll call, website downloads.\n\n854\n00:45:48,622 --> 00:45:53,970\nAll right, and so now I've got a folder in\nmy user profile called website downloads,\n\n855\n00:45:53,970 --> 00:45:56,520\nbut on the website,\nit's just mapped to downloads.\n\n856\n00:45:56,520 --> 00:46:01,125\nSo, if somebody goes to\nOSX-server1.local/downloads, you'll\n\n857\n00:46:01,125 --> 00:46:06,865\nactually see what's in this other folder,\nthis folder that's outside of the website.\n\n858\n00:46:06,865 --> 00:46:08,115\nYou do just have to be careful though.\n\n859\n00:46:08,115 --> 00:46:10,645\nPermissions are normally\nthe obstacle here with this.\n\n860\n00:46:10,645 --> 00:46:14,175\nBut it makes it look like your website is\nall stored in one place, when in reality,\n\n861\n00:46:14,175 --> 00:46:16,945\nit could be spread across several\nhard drives, several folders,\n\n862\n00:46:16,945 --> 00:46:17,935\nseveral different permission sets.\n\n863\n00:46:18,950 --> 00:46:20,201\nSo, that's what an alias is.\n\n864\n00:46:23,034 --> 00:46:26,090\nThe last entry on here\nare the index files.\n\n865\n00:46:26,090 --> 00:46:29,660\nWhen you go to a website,\nyou might specify a file name.\n\n866\n00:46:29,660 --> 00:46:31,400\nBut a lot of times, people leave it off.\n\n867\n00:46:31,400 --> 00:46:33,740\nWhen you came to our website today,\nyou probably went to itpro.tv and\n\n868\n00:46:33,740 --> 00:46:36,200\nstopped right there.\n\n869\n00:46:36,200 --> 00:46:42,489\nBut the page that you actually got,\nwas itpro.tv/index.php.\n\n870\n00:46:42,489 --> 00:46:44,560\nNow, how did it know\nto give you that page?\n\n871\n00:46:44,560 --> 00:46:46,980\nWell, it's the default index files.\n\n872\n00:46:46,980 --> 00:46:47,630\nAnd if you edit that,\n\n873\n00:46:47,630 --> 00:46:50,815\nyou'll see Apple's already provided five,\nfive really common ones, right?\n\n874\n00:46:50,815 --> 00:46:55,514\nIndex.html, that's the standard\ndefault landing page of a web\n\n875\n00:46:55,514 --> 00:46:58,085\nserver that's just running HTML.\n\n876\n00:46:58,085 --> 00:47:01,940\nAnd if you're running PHP,\nit's index.php, right.\n\n877\n00:47:01,940 --> 00:47:06,420\nNow, on a Apple server, you might not be\nrunning a website, you might have enabled\n\n878\n00:47:06,420 --> 00:47:10,388\nXcode or the Wiki, you might have enabled\nsome of the other services and so\n\n879\n00:47:10,388 --> 00:47:14,996\nif we don't have these files, it assumes\nthere's nothing on your site and instead,\n\n880\n00:47:14,996 --> 00:47:19,080\nwill send you to /Xcode or\n/Wiki, to pull data from there.\n\n881\n00:47:19,080 --> 00:47:21,420\nAnd then the last one is default.html.\n\n882\n00:47:21,420 --> 00:47:22,410\nThat's a Microsoft thing.\n\n883\n00:47:22,410 --> 00:47:26,870\nA lot of Microsoft servers use\ndefault.htm or default.html.\n\n884\n00:47:26,870 --> 00:47:28,940\nBut the reality is,\nyou can manipulate this list.\n\n885\n00:47:28,940 --> 00:47:31,640\nYou can drag and drop the order.\n\n886\n00:47:31,640 --> 00:47:35,800\nSo if I know index.php is what I want,\nI can drag that to the top and\n\n887\n00:47:35,800 --> 00:47:37,040\nnow it's preferred.\n\n888\n00:47:37,040 --> 00:47:39,250\nIf I know I'm not gonna use these\nother ones, I can go in and\n\n889\n00:47:39,250 --> 00:47:42,840\nI can remove them and get them out of\nhere, and that way, it's not searching for\n\n890\n00:47:42,840 --> 00:47:45,920\nother files,\nit's just gonna go straight for index.php.\n\n891\n00:47:45,920 --> 00:47:51,590\nAnd you can add in your own, maybe I\nhave home.html, and we can add that in.\n\n892\n00:47:51,590 --> 00:47:54,411\nAnd if somebody doesn't type a file name,\nthat's what they'll get.\n\n893\n00:47:54,411 --> 00:47:57,947\nThis list is applied in order,\nit'll look for the first file on the list,\n\n894\n00:47:57,947 --> 00:47:59,443\nthat's what it goes to first.\n\n895\n00:47:59,443 --> 00:48:02,497\nAnd then if that one doesn't exist,\nthen it goes to the second one,\n\n896\n00:48:02,497 --> 00:48:03,683\nthen it goes to the third.\n\n897\n00:48:03,683 --> 00:48:08,726\nSo if I leave it like this and\nindex.php exists, it'll always go to that.\n\n898\n00:48:08,726 --> 00:48:10,860\nIt'll never go to home.html.\n\n899\n00:48:10,860 --> 00:48:15,340\nIf home.html exists and\nI don't have index.php,\n\n900\n00:48:15,340 --> 00:48:19,355\nevery time someone visits the site,\nit's going to look for index.php first.\n\n901\n00:48:19,355 --> 00:48:22,180\nIt's not gonna find it, and\nthen it'll go to home.html.\n\n902\n00:48:22,180 --> 00:48:24,830\nIt'll do that every single time.\n\n903\n00:48:24,830 --> 00:48:26,040\nThat means there's Disc I/O for\n\n904\n00:48:26,040 --> 00:48:29,440\nevery single visit that can't\ncatch that in RAM, so that's bad.\n\n905\n00:48:29,440 --> 00:48:30,810\nYou want to re-arrange this list.\n\n906\n00:48:30,810 --> 00:48:34,010\nYou want to trim it down so it's just\nthe index file for what you've got.\n\n907\n00:48:34,010 --> 00:48:39,660\nI have an index.php, so I can just remove\nthese, That's what it needs to get.\n\n908\n00:48:39,660 --> 00:48:40,700\nIt already exists.\n\n909\n00:48:40,700 --> 00:48:41,940\nNo sense messing around with the list.\n\n910\n00:48:44,610 --> 00:48:48,480\nAll right, so those are some of the basic\nsettings we can define on a website\n\n911\n00:48:48,480 --> 00:48:49,930\nto get it up and going.\n\n912\n00:48:49,930 --> 00:48:51,460\nReally, I didn't change\nall that much here.\n\n913\n00:48:51,460 --> 00:48:55,840\nI did set a permission group for\nthis and I set that alias up for\n\n914\n00:48:55,840 --> 00:48:57,150\nwhat page to render.\n\n915\n00:48:57,150 --> 00:48:58,100\nLet's see that in action.\n\n916\n00:48:58,100 --> 00:48:58,850\nI'm gonna hit OK.\n\n917\n00:49:00,470 --> 00:49:02,330\nAnd, it does take it\na moment to get that set.\n\n918\n00:49:02,330 --> 00:49:03,278\nThere is goes.\n\n919\n00:49:03,278 --> 00:49:06,630\nAnd I'm gonna jump over to another client\nand test that out and see how it looks.\n\n920\n00:49:06,630 --> 00:49:07,950\nI'll fire up my Safari browser.\n\n921\n00:49:10,080 --> 00:49:15,610\nAnd I'm gonna browse\nto http://osx.server1.\n\n922\n00:49:16,760 --> 00:49:18,780\nAnd I'm not gonna type a file name.\n\n923\n00:49:18,780 --> 00:49:22,470\nNot typing a file name means\nit's gonna default to index.php.\n\n924\n00:49:22,470 --> 00:49:26,570\nAnd when I browse to it,\nbecause I set it to require permissions,\n\n925\n00:49:26,570 --> 00:49:28,710\nI have to log in with my account.\n\n926\n00:49:28,710 --> 00:49:30,530\nAnd so I'll go ahead and log in.\n\n927\n00:49:31,890 --> 00:49:32,935\nNow I'm allowed to ac, whoop.\n\n928\n00:49:32,935 --> 00:49:36,320\n[LAUGH] Now I should be allowed to access,\nI must've typed my password wrong.\n\n929\n00:49:36,320 --> 00:49:39,120\nIf you type your password wrong,\nyou end up with something like this.\n\n930\n00:49:39,120 --> 00:49:41,090\nBut it's telling me I don't\nhave access to slash.\n\n931\n00:49:41,090 --> 00:49:43,610\nLet me just try again.\n\n932\n00:49:43,610 --> 00:49:47,080\nI'll punch in index.php,\nwhich is not found.\n\n933\n00:49:47,080 --> 00:49:50,610\nI could've swore I created an index.php\non the default side, maybe I didn't.\n\n934\n00:49:50,610 --> 00:49:59,149\nI'm gonna change that default index file\nback to index.html, which does exist.\n\n935\n00:50:03,906 --> 00:50:08,050\nSo I'll just put that back,\nwhoop I'll try and put that back.\n\n936\n00:50:08,050 --> 00:50:08,731\nThere we go.\n\n937\n00:50:11,265 --> 00:50:14,640\nAnd now we'll go test that out.\n\n938\n00:50:14,640 --> 00:50:16,860\nDo remember that,\nthis won't show up on the exam but\n\n939\n00:50:16,860 --> 00:50:19,920\nin real life occasionally the settings\ndon't take effect right away.\n\n940\n00:50:19,920 --> 00:50:21,880\nAnd you might need to\nrestart that Apache server.\n\n941\n00:50:21,880 --> 00:50:24,560\nIn my case though, I didn't do anything\nsignificant, so it should've come up.\n\n942\n00:50:24,560 --> 00:50:26,690\nLet me just make sure I get to that.\n\n943\n00:50:28,300 --> 00:50:30,130\nAnd not found on the server.\n\n944\n00:50:30,130 --> 00:50:31,200\nThat is interesting.\n\n945\n00:50:32,200 --> 00:50:34,212\nMake sure I'm hitting the right server.\n\n946\n00:50:40,391 --> 00:50:42,030\nPretty sure that's\nan administrator account.\n\n947\n00:50:43,520 --> 00:50:46,471\nI set that limit to the administrator\ngroup, and I might not actually be in\n\n948\n00:50:46,471 --> 00:50:48,770\nthe administrator group,\nthat might be my issue there.\n\n949\n00:50:48,770 --> 00:50:49,990\nSo I might have to re-evaluate that.\n\n950\n00:50:49,990 --> 00:50:51,610\nLet me just turn off those.\n\n951\n00:50:51,610 --> 00:50:55,280\nWhen you troubleshoot problems with a\nwebsite, if you make multiple changes like\n\n952\n00:50:55,280 --> 00:50:58,720\nI did, it can be hard to tell exactly\nwhich one is causing the problem.\n\n953\n00:50:58,720 --> 00:51:02,200\nSo it's a good idea to back out some of\nthe changes to see if we can isolate it.\n\n954\n00:51:02,200 --> 00:51:03,590\nSo what I'm gonna do is\nthe first thing I'm gonna do\n\n955\n00:51:03,590 --> 00:51:07,360\nis just remove these permissions so\nit'll go back to anyone.\n\n956\n00:51:07,360 --> 00:51:08,390\nSo I'll let that be set.\n\n957\n00:51:09,920 --> 00:51:11,870\nThere we go, and so\n\n958\n00:51:11,870 --> 00:51:14,870\nnow that that's gone I should be able to\nget to the page without authenticating.\n\n959\n00:51:14,870 --> 00:51:19,300\nAnd I'm just gonna do a new tab in\ncase that's cached something and\n\n960\n00:51:19,300 --> 00:51:23,810\nI'll browse by IP again just trying\nto make sure I get the right one.\n\n961\n00:51:23,810 --> 00:51:29,080\nAnd I'm getting a permissions problem\njust on the main page that's really odd.\n\n962\n00:51:29,080 --> 00:51:32,092\nSo I'll have to try and\nfigure out what's going on there.\n\n963\n00:51:32,092 --> 00:51:35,950\nAll right, guys it took me just\na moment there but I found the problem.\n\n964\n00:51:35,950 --> 00:51:37,310\nThe file that I was working with,\nyou remember,\n\n965\n00:51:37,310 --> 00:51:39,600\nwas called test.php and test.html.\n\n966\n00:51:39,600 --> 00:51:43,190\nI actually don't have an idex.html or\nindex.php file.\n\n967\n00:51:43,190 --> 00:51:45,310\nSo, that's why I'm getting this not found.\n\n968\n00:51:45,310 --> 00:51:48,710\nI've already authenticated and gotten\npassed that, but it can't find the file.\n\n969\n00:51:48,710 --> 00:51:49,940\nSo, I'm getting that failure.\n\n970\n00:51:49,940 --> 00:51:50,920\nBut if I go back.\n\n971\n00:51:50,920 --> 00:51:52,180\nI've got two choices.\n\n972\n00:51:52,180 --> 00:51:55,330\nDamian in the chatroom suggested\njust renaming my test file to index.\n\n973\n00:51:55,330 --> 00:51:56,330\nThat would work.\n\n974\n00:51:56,330 --> 00:51:58,280\nOr if I'm in love with that name,\n\n975\n00:51:58,280 --> 00:52:02,380\nif I want it to be test.php I can just\nset that to be one of my default names.\n\n976\n00:52:02,380 --> 00:52:05,830\nSo let me do that, we'll jump back over to\nthe server and I'll just kind of fix that.\n\n977\n00:52:05,830 --> 00:52:09,640\nI'll take my default website here and\nedit it and\n\n978\n00:52:09,640 --> 00:52:15,650\ninside of here I go to my index files and\nI'm just gonna add test.php to the list.\n\n979\n00:52:15,650 --> 00:52:17,820\nNow I know that's the file that I've got,\nso\n\n980\n00:52:17,820 --> 00:52:19,570\nI'm gonna move that to\nthe top of the list.\n\n981\n00:52:19,570 --> 00:52:21,480\nNo sense looking for the other guys.\n\n982\n00:52:21,480 --> 00:52:24,180\nAnd I could really remove the other\nguys if I don't need them and\n\n983\n00:52:24,180 --> 00:52:24,915\nget them out of there.\n\n984\n00:52:24,915 --> 00:52:30,410\nSo there's test.php is set and\nI'm gonna go and turn my group restriction\n\n985\n00:52:30,410 --> 00:52:34,698\nback on so I'm gonna limit this back down\nto that administrators group, there we go.\n\n986\n00:52:34,698 --> 00:52:38,210\nAnd we'll save that.\n\n987\n00:52:38,210 --> 00:52:40,670\nNow we'll be able to jump in and\ndo that test again and\n\n988\n00:52:40,670 --> 00:52:43,260\nsince it's actually got the right file,\nwe should see our content.\n\n989\n00:52:43,260 --> 00:52:44,990\nThat always does help.\n\n990\n00:52:44,990 --> 00:52:47,780\nAnd I'll just do a new Safari window here.\n\n991\n00:52:47,780 --> 00:52:52,020\nI'm gonna browse to OSX-server1.local.\n\n992\n00:52:52,020 --> 00:52:55,890\nAnd I'm not gonna specify a file name,\nbecause it should default to mine.\n\n993\n00:52:55,890 --> 00:52:57,070\nAnd I've already authenticated.\n\n994\n00:52:57,070 --> 00:53:00,160\nSo here I get this text\nis rendered using PHP.\n\n995\n00:53:00,160 --> 00:53:01,350\nIt's pulling up the page.\n\n996\n00:53:01,350 --> 00:53:02,000\nAll right.\n\n997\n00:53:02,000 --> 00:53:05,160\nSo, we got a chance to\nsee user authentication.\n\n998\n00:53:05,160 --> 00:53:07,760\nWe got a chance to see\ndefault web page loading.\n\n999\n00:53:07,760 --> 00:53:10,530\nWe talked a little bit about aliases and\nredirects.\n\n1000\n00:53:10,530 --> 00:53:12,990\nThere's a lot of really cool stuff\nthat you can do in there, and\n\n1001\n00:53:12,990 --> 00:53:17,250\nthe big advantage is it's all done with\na GUI, with a Graphical User Interface.\n\n1002\n00:53:17,250 --> 00:53:21,420\nOn the back end, it's actually modifying\nthose Apache config files to put this data\n\n1003\n00:53:21,420 --> 00:53:25,260\nin there, but we don't have to know that,\ncuz it's all right here in a GUI.\n\n1004\n00:53:25,260 --> 00:53:29,490\nNow, if you are a command line person, you\ncan jump in and get in those config files,\n\n1005\n00:53:29,490 --> 00:53:32,850\nand I'm actually gonna do that when I do\nmy Python example a little bit later.\n\n1006\n00:53:32,850 --> 00:53:36,151\nBut for right now as far\nas basic setting that GUI,\n\n1007\n00:53:36,151 --> 00:53:38,446\nthat pretty much knocks them out.\n\n1008\n00:53:38,446 --> 00:53:41,430\nAll right, well, I've got more\nto talk about on this one, but\n\n1009\n00:53:41,430 --> 00:53:43,060\nI've kinda run out of time.\n\n1010\n00:53:43,060 --> 00:53:47,120\nSo let's do this, let's go ahead and\nwrap this episode right here and\n\n1011\n00:53:47,120 --> 00:53:50,170\nwhat we'll do is we'll do a part\ntwo on this one tomorrow.\n\n1012\n00:53:50,170 --> 00:53:52,640\nOr for those of you watching recorded,\nthose will be next.\n\n1013\n00:53:52,640 --> 00:53:55,660\nBecause, I want to get into the advanced\nsettings for each web page and\n\n1014\n00:53:55,660 --> 00:53:59,780\nkind of show how to handle those and\nI wanna show the python app examples,\n\n1015\n00:53:59,780 --> 00:54:02,520\nhow we get a web app loaded in there and\nhow those work.\n\n1016\n00:54:02,520 --> 00:54:05,530\nSo, we'll just add those into a second\nepisode and get those knocked out.\n\n1017\n00:54:05,530 --> 00:54:07,660\nBut for this episode, we'll wrap it here.\n\n1018\n00:54:07,660 --> 00:54:10,270\nWe got a chance to see\nactivating the websites.\n\n1019\n00:54:10,270 --> 00:54:13,060\nWe got a chance to see all the basic\nsettings that are involved in that, and\n\n1020\n00:54:13,060 --> 00:54:16,620\nwhat's needed to get a server up and\nrunning and get our sites hosted and\n\n1021\n00:54:16,620 --> 00:54:19,150\nin place, and\nthat's really what most people need.\n\n1022\n00:54:19,150 --> 00:54:20,880\nThe things that we've\nseen right through here.\n\n1023\n00:54:20,880 --> 00:54:21,930\nBut definitely stay tuned for\n\n1024\n00:54:21,930 --> 00:54:23,790\npart two where we'll jump\ninto those advanced settings.\n\n1025\n00:54:23,790 --> 00:54:25,890\nThere's some really good stuff in\nthe advanced settings that you guys will\n\n1026\n00:54:25,890 --> 00:54:26,450\nwant to see.\n\n1027\n00:54:27,620 --> 00:54:29,720\nAll right, well, let's go ahead and\nwrap things up here.\n\n1028\n00:54:29,720 --> 00:54:33,030\nI do want to remind you guys, if you\nhave questions on any of this, live,\n\n1029\n00:54:33,030 --> 00:54:35,400\nduring the show,\nyou can go to itpro.tv/live.\n\n1030\n00:54:35,400 --> 00:54:37,680\nYou'll see the chat box beneath the video.\n\n1031\n00:54:37,680 --> 00:54:39,370\nYou can throw your messages in there.\n\n1032\n00:54:39,370 --> 00:54:41,230\nWe monitor and answer during the show.\n\n1033\n00:54:41,230 --> 00:54:45,130\nBig shout out to Damian, thanks for your\nhelp on some of the troubleshooting there.\n\n1034\n00:54:45,130 --> 00:54:48,680\nAlways fun to interact with everybody in\nthe chatroom, so take advantage of that.\n\n1035\n00:54:48,680 --> 00:54:53,268\nIf you're watching this recorded, you're\nnot left in the lurch, use our Q&A forums.\n\n1036\n00:54:53,268 --> 00:54:56,590\nThat Q&A link at the top of\nevery page on the ITProTV site,\n\n1037\n00:54:56,590 --> 00:54:58,850\nit'll take you to the forums,\nyou can post your questions there.\n\n1038\n00:54:58,850 --> 00:55:00,390\nWe monitor and answer after the show.\n\n1039\n00:55:02,730 --> 00:55:04,324\nTake advantage of those resources,\nthey are there for you.\n\n1040\n00:55:04,324 --> 00:55:04,835\nAll right.\n\n1041\n00:55:04,835 --> 00:55:05,971\nWell that's all I've got for today.\n\n1042\n00:55:05,971 --> 00:55:07,147\nSo I hope you guys enjoyed it.\n\n1043\n00:55:07,147 --> 00:55:11,466\nSigning off for IT Pro TV,\nI'm Don Pezet and I'll see you next time.\n\n1044\n00:55:11,466 --> 00:55:21,466\n[MUSIC]\n\n1045\n00:55:25,855 --> 00:55:26,355\n[SOUND]\n\n",
          "vimeoId": "125804054"
        },
        {
          "description": null,
          "length": "2333",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-6-4-web_server_pt2-042315-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-6-4-web_server_pt2-042315-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-6-4-web_server_pt2-042315-1-sm.jpg",
          "title": "Web Server Part 2",
          "transcript": "1\n00:00:00,000 --> 00:00:10,000\n[MUSIC]\n\n2\n00:00:15,531 --> 00:00:22,732\n[SOUND]\n\n3\n00:00:22,732 --> 00:00:33,387\n[MUSIC]\n\n4\n00:00:33,387 --> 00:00:35,500\nAll right.\nGood morning, good afternoon, and\n\n5\n00:00:35,500 --> 00:00:37,020\ngood evening and welcome back.\n\n6\n00:00:37,020 --> 00:00:38,830\nTo another episode of ITProTV.\n\n7\n00:00:38,830 --> 00:00:41,630\nI'm your host Don Pezet back\nagain with another episode of\n\n8\n00:00:41,630 --> 00:00:43,940\nApple Certified Technical Coordinator.\n\n9\n00:00:43,940 --> 00:00:47,790\nToday we're gonna be picking back\nup with the Web server episode.\n\n10\n00:00:47,790 --> 00:00:50,580\nWe kind of ran a little long on\nthe episode the other day, so\n\n11\n00:00:50,580 --> 00:00:54,410\nwe're doing a part two to jump into some\nof the advanced settings we can find when\n\n12\n00:00:54,410 --> 00:00:55,700\nsetting up a website.\n\n13\n00:00:55,700 --> 00:00:59,780\nInside of the web server,\ninside of server app on OS X,\n\n14\n00:00:59,780 --> 00:01:02,570\nkind of this giant recursion there.\n\n15\n00:01:02,570 --> 00:01:05,150\nBut if you haven't\nwatched part one already,\n\n16\n00:01:05,150 --> 00:01:07,770\nI do encourage you to do that cause\nthat's where we showed you how\n\n17\n00:01:07,770 --> 00:01:11,978\nto activate the web servers, some of the\nbasic settings, how to create websites.\n\n18\n00:01:11,978 --> 00:01:14,670\nToday, I'm gonna be diving right into the\nadvanced stuff, some of the things that we\n\n19\n00:01:14,670 --> 00:01:18,020\ncan tweak to keep that website\nworking the way that we want.\n\n20\n00:01:18,020 --> 00:01:18,972\nSo let's go ahead and get started.\n\n21\n00:01:18,972 --> 00:01:22,020\nI'm gonna dive into my server app here and\nwe'll just take a look at\n\n22\n00:01:22,020 --> 00:01:25,320\nwhat is basically a default\nconfig of a web server.\n\n23\n00:01:25,320 --> 00:01:28,600\nSo here in my server app I\nwent down to websites and\n\n24\n00:01:28,600 --> 00:01:30,510\nI flipped my on button, right?\n\n25\n00:01:30,510 --> 00:01:31,680\nThat's really all I've done.\n\n26\n00:01:31,680 --> 00:01:32,970\nActually I did make one more change,\n\n27\n00:01:32,970 --> 00:01:36,040\nwhich I checked off,\nenabled PHP web applications.\n\n28\n00:01:36,040 --> 00:01:40,320\nRemember from the other episode that by\ndefault, the web server will serve up\n\n29\n00:01:40,320 --> 00:01:44,630\nfiles that end in .html, right,\njust regular hypertext markup language.\n\n30\n00:01:44,630 --> 00:01:49,220\nThe way HTML works is we take that file,\nwe send it to the client,\n\n31\n00:01:49,220 --> 00:01:53,100\nand it's up to the client to render it and\nmake it look nice.\n\n32\n00:01:53,100 --> 00:01:56,560\nWe also got a chance to see\nPHP in the last episode.\n\n33\n00:01:56,560 --> 00:01:58,090\nPHP is a little bit different.\n\n34\n00:01:58,090 --> 00:02:04,190\nPHP is a script that basically executes\non the sever, and creates HTML,\n\n35\n00:02:04,190 --> 00:02:07,678\nand then sends it down to the client,\nand the client renders that HTML.\n\n36\n00:02:07,678 --> 00:02:11,420\nThe nice thing about PHP is you can\nuse it to create dynamic webpages.\n\n37\n00:02:11,420 --> 00:02:13,370\nAnd it is very common.\n\n38\n00:02:13,370 --> 00:02:14,580\nA lot of people use PHP.\n\n39\n00:02:14,580 --> 00:02:18,460\nThe ITProTV website itself, you're viewing\nour website right now, is written.\n\n40\n00:02:19,520 --> 00:02:23,400\nA good chunk of it is written in PHP,\nother parts in other languages.\n\n41\n00:02:23,400 --> 00:02:25,840\nSo this is a pretty common\none that's out there.\n\n42\n00:02:25,840 --> 00:02:28,730\nBut there's a few others\nthat are less common and\n\n43\n00:02:28,730 --> 00:02:31,100\nthose are the things that\nwe want to see today.\n\n44\n00:02:31,100 --> 00:02:34,710\nWhen we take a look at a website,\nI'll just take my default website here.\n\n45\n00:02:34,710 --> 00:02:37,170\nAnd I'm gonna edit its settings.\n\n46\n00:02:37,170 --> 00:02:39,890\nWe went through all of these\nsettings in the last episode, but\n\n47\n00:02:39,890 --> 00:02:44,340\nthe one I didn't get to was this button\nright here, Edit Advanced Settings.\n\n48\n00:02:44,340 --> 00:02:45,720\nAnd if we choose edit advanced settings,\n\n49\n00:02:45,720 --> 00:02:49,640\nyou'll see there's some additional\nthings that are far less common.\n\n50\n00:02:49,640 --> 00:02:52,670\nThese are things that most\npeople aren't going to work with\n\n51\n00:02:52,670 --> 00:02:55,850\nunless they have an advanced need,\na specific need for these settings.\n\n52\n00:02:55,850 --> 00:02:59,410\nSo let's run through what these are,\nbecause they are on the exam.\n\n53\n00:02:59,410 --> 00:03:02,860\nThe very first one is\nEnable Server Side Includes.\n\n54\n00:03:02,860 --> 00:03:08,530\nNow, server side includes are disabled on\nalmost every Web server on the planet.\n\n55\n00:03:08,530 --> 00:03:12,450\nBack in the day, 15 years ago, server\nside includes were a really neat idea.\n\n56\n00:03:12,450 --> 00:03:15,060\nWhat they were were scripts\nthat ran on the server.\n\n57\n00:03:15,060 --> 00:03:19,030\nAnd when somebody accessed a web page, the\npage could call one of those scripts and\n\n58\n00:03:19,030 --> 00:03:22,930\nit would execute on the server, generate\ncontent and return it back to the user.\n\n59\n00:03:22,930 --> 00:03:24,710\nIt's very powerful.\n\n60\n00:03:24,710 --> 00:03:26,320\nBut what's the problem\nwhen you allow remote\n\n61\n00:03:26,320 --> 00:03:28,240\npeople to execute things on your server?\n\n62\n00:03:28,240 --> 00:03:29,935\nIt opens you up to a lot\nof vulnerabilities.\n\n63\n00:03:29,935 --> 00:03:33,100\nServer-side includes can\nbe exploited pretty easily.\n\n64\n00:03:33,100 --> 00:03:35,630\nSo they're disabled by default.\n\n65\n00:03:35,630 --> 00:03:38,510\nIf you absolutely need server side\nincludes, you can enable it, and\n\n66\n00:03:38,510 --> 00:03:40,190\nthen you'll have that functionality.\n\n67\n00:03:40,190 --> 00:03:43,180\nVery few people need them any more.\n\n68\n00:03:43,180 --> 00:03:46,135\nPHP, JavaScript, technologies like\nthat have really replaced the need for\n\n69\n00:03:46,135 --> 00:03:46,890\nserver-side includes.\n\n70\n00:03:48,000 --> 00:03:51,797\nA similar technology to that is a couple\nentries down where it says Allow CGI\n\n71\n00:03:51,797 --> 00:03:53,150\nexecution.\n\n72\n00:03:53,150 --> 00:03:55,300\nCGI is common gateway interface.\n\n73\n00:03:55,300 --> 00:03:59,220\nI know, I always think,\ncomputer graphics imagery or whatever.\n\n74\n00:03:59,220 --> 00:04:04,170\nBut it's common gateway interface and\nit is another method for allowing people\n\n75\n00:04:04,170 --> 00:04:08,390\nnot just to run scripts but\nactually run executables on your servers.\n\n76\n00:04:08,390 --> 00:04:12,010\nSo you can call a binary on the server\nthat can run and do various things and\n\n77\n00:04:12,010 --> 00:04:13,830\nthen present the data back to the user.\n\n78\n00:04:13,830 --> 00:04:15,500\nAgain, very powerful.\n\n79\n00:04:15,500 --> 00:04:17,530\nIt can do a lot of stuff.\n\n80\n00:04:17,530 --> 00:04:21,380\nBut at very dangerous,\nbecause that executable is gonna run\n\n81\n00:04:21,380 --> 00:04:25,640\nunder the authentication properties of\nthe web server, not of the end user.\n\n82\n00:04:25,640 --> 00:04:27,130\nAnd that's dangerous.\n\n83\n00:04:27,130 --> 00:04:28,800\nSo those are disabled by default.\n\n84\n00:04:28,800 --> 00:04:33,250\nAgain, if you absolutely need it, you can\nturn it on and you can make use of it.\n\n85\n00:04:33,250 --> 00:04:34,740\nThe web server supports it, but\n\n86\n00:04:34,740 --> 00:04:37,750\nyou gotta take extra precautions\nto make sure it's secure.\n\n87\n00:04:37,750 --> 00:04:39,650\nApple plays it safe and disables it.\n\n88\n00:04:39,650 --> 00:04:40,980\nApple's not the only one, right.\n\n89\n00:04:40,980 --> 00:04:43,620\nEvery modern web server has both\nof these disabled by default.\n\n90\n00:04:45,160 --> 00:04:46,740\nAll right, some of the other settings.\n\n91\n00:04:46,740 --> 00:04:51,560\nWe've got, for example,\nAllow Overrides using HT Access Files.\n\n92\n00:04:51,560 --> 00:04:55,140\nNow, if you're a systems admin, and you've\nbrought up some web servers or whatever,\n\n93\n00:04:55,140 --> 00:04:57,470\nyou might not have ever\ndealt with HT access files.\n\n94\n00:04:57,470 --> 00:04:59,830\nBut if you're a web developer,\nif you've hosted web pages,\n\n95\n00:04:59,830 --> 00:05:03,440\nthe odds are at some point or another,\nyou've dealt with HT access files.\n\n96\n00:05:03,440 --> 00:05:08,180\nWhat they are is a little file that can go\ninside a directory in our web server, and\n\n97\n00:05:08,180 --> 00:05:13,710\nchange the behavior of that directory and\nhtx's files are pretty close to magic.\n\n98\n00:05:13,710 --> 00:05:16,880\nThey can do all sorts of crazy things.\n\n99\n00:05:16,880 --> 00:05:20,120\nYou can define in the htx's file if\nsomebody browses through this directory,\n\n100\n00:05:20,120 --> 00:05:22,310\nI'm going to redirect them somewhere else.\n\n101\n00:05:22,310 --> 00:05:26,030\nOr if they typed in this url,\nI'm gonna change it to this other url.\n\n102\n00:05:26,030 --> 00:05:28,580\nAnd you can require a password for\naccessing the page.\n\n103\n00:05:28,580 --> 00:05:31,320\nNow, all of this probably sounds familiar.\n\n104\n00:05:31,320 --> 00:05:32,970\nIf I back out of these settings,\n\n105\n00:05:32,970 --> 00:05:36,250\nright back here under my basic\nsettings I can define who can access.\n\n106\n00:05:36,250 --> 00:05:37,690\nThat'll require a username and password.\n\n107\n00:05:37,690 --> 00:05:40,160\nI can setup redirects and aliases.\n\n108\n00:05:40,160 --> 00:05:43,630\nSo, why do we need an HT access file\nif we can do all that right here.\n\n109\n00:05:43,630 --> 00:05:45,580\nAnd the short answer is, you don't.\n\n110\n00:05:45,580 --> 00:05:49,150\nIf you can get done what you need\nright here, then that's it, right?\n\n111\n00:05:49,150 --> 00:05:51,110\nYou don't have to worry\nabout all the other stuff.\n\n112\n00:05:51,110 --> 00:05:52,330\nYou just use it right here.\n\n113\n00:05:52,330 --> 00:05:55,830\nAnd by default, that's exactly\nwhat the web server does in OS 10,\n\n114\n00:05:55,830 --> 00:05:56,930\nin the server app.\n\n115\n00:05:56,930 --> 00:06:00,020\nSo for\nmost people they don't need .htaccess.\n\n116\n00:06:00,020 --> 00:06:05,460\nBut what if you wanted to password\nprotect just part of your website?\n\n117\n00:06:05,460 --> 00:06:08,670\nYou wanted the whole world\nto get to your homepage.\n\n118\n00:06:08,670 --> 00:06:10,590\nBut then you want people\nto click a login link.\n\n119\n00:06:10,590 --> 00:06:15,190\nAnd when they go to a different subfolder,\nthere you want password protected.\n\n120\n00:06:15,190 --> 00:06:19,540\nWell, this who can access setting right\nhere, this applies to the whole site.\n\n121\n00:06:19,540 --> 00:06:23,090\nIt doesn't give us a way to\npassword protect just one folder.\n\n122\n00:06:23,090 --> 00:06:25,419\nThat's what an .htaccess file does.\n\n123\n00:06:25,419 --> 00:06:31,050\nAn .htaccess file, if you look at\nthat name, how it says .htaccess.\n\n124\n00:06:31,050 --> 00:06:32,640\nThey're a hidden file.\n\n125\n00:06:32,640 --> 00:06:35,620\nA hidden file that's stored in\na folder on the website and\n\n126\n00:06:35,620 --> 00:06:38,700\nit only applies to that folder.\n\n127\n00:06:38,700 --> 00:06:41,980\nSo I don't necessarily have to\npassword protect the whole site.\n\n128\n00:06:41,980 --> 00:06:45,350\nI can password protect just certain\nfolders inside of the site.\n\n129\n00:06:45,350 --> 00:06:50,270\nOr I can do redirects that are built\non much more complex logic.\n\n130\n00:06:50,270 --> 00:06:51,770\nThere's a lot of stuff that you can do.\n\n131\n00:06:51,770 --> 00:06:54,510\nYou can use HT access\nfiles like firewalls.\n\n132\n00:06:54,510 --> 00:06:58,100\nYou can find what IP addresses\nare allowed to get the website.\n\n133\n00:06:58,100 --> 00:06:59,710\nIt's pretty powerful stuff.\n\n134\n00:06:59,710 --> 00:07:01,730\nIf you wanna learn more\nabout .htaccess files,\n\n135\n00:07:01,730 --> 00:07:03,540\nI'll include a link in the show notes.\n\n136\n00:07:03,540 --> 00:07:05,760\nI've got it actually pulled up\nhere in the background somewhere.\n\n137\n00:07:05,760 --> 00:07:06,570\nLet's see if I can find it.\n\n138\n00:07:06,570 --> 00:07:07,280\nHere.\n\n139\n00:07:07,280 --> 00:07:11,320\nThis is the Apache HTTP Server Tutorial\nfor .htaccess files and\n\n140\n00:07:11,320 --> 00:07:12,740\nit shows you how to do them.\n\n141\n00:07:12,740 --> 00:07:16,170\nOn the exam they're not gonna expect\nyou to write an .htaccess file.\n\n142\n00:07:16,170 --> 00:07:18,290\nBut in real life land it is\nsomething you'll encounter,\n\n143\n00:07:18,290 --> 00:07:20,900\nso I'll post the link\nto this with the show.\n\n144\n00:07:20,900 --> 00:07:23,320\nBut you'll see some of the different\nthings that you can define,\n\n145\n00:07:23,320 --> 00:07:27,740\nlike authentication, options,\nyou can do rewrites, which actually,\n\n146\n00:07:27,740 --> 00:07:30,220\nthey don't show the rewrites on this one.\n\n147\n00:07:30,220 --> 00:07:32,215\nRewrites are one of the most\ncommon things that we do,\n\n148\n00:07:32,215 --> 00:07:34,590\ncause that's how you do redirects and\nchange URLs.\n\n149\n00:07:34,590 --> 00:07:39,830\nBut it is a very powerful technology, you\ncan use it for a heck of a lot of stuff.\n\n150\n00:07:39,830 --> 00:07:43,233\nAnd it can be very granular, controlling\nsingle directories if you want and\n\n151\n00:07:43,233 --> 00:07:44,253\nthat's pretty neat.\n\n152\n00:07:45,483 --> 00:07:49,929\nAll right, so the web server inside of the\nserver app, it supports HT access files,\n\n153\n00:07:49,929 --> 00:07:52,628\nit just doesn't pay attention\nto them by default.\n\n154\n00:07:52,628 --> 00:07:56,492\nBy default, it uses the settings\nright here in the server app, but\n\n155\n00:07:56,492 --> 00:08:01,322\nif we check this option, it'll say If\nthere's an htaccess file we'll use it, and\n\n156\n00:08:01,322 --> 00:08:05,260\nif there isn't we'll use whatever\nsettings are here, right.\n\n157\n00:08:05,260 --> 00:08:07,050\nSo that's how it's gonna\nkinda meter that out.\n\n158\n00:08:07,050 --> 00:08:07,820\nThat's what that setting does.\n\n159\n00:08:10,563 --> 00:08:11,306\nAll right.\n\n160\n00:08:11,306 --> 00:08:15,180\nThen, we've got Allow Folder Listing.\n\n161\n00:08:15,180 --> 00:08:17,160\nAllow Folder Listing is\nan interesting option.\n\n162\n00:08:17,160 --> 00:08:20,760\nMost people don't want this, but\nsome people have a specific need for it.\n\n163\n00:08:20,760 --> 00:08:24,080\nWhen you browse to folder on a website,\n\n164\n00:08:24,080 --> 00:08:29,630\nthe default function is to show you\nwhat ever your index document is, right.\n\n165\n00:08:29,630 --> 00:08:32,210\nSo for example,\nlet's run through this real quick.\n\n166\n00:08:32,210 --> 00:08:34,500\nIf I look at my sight,\nsee how I've got index files, and\n\n167\n00:08:34,500 --> 00:08:37,140\nit says two index files are configured.\n\n168\n00:08:37,140 --> 00:08:39,198\nAnd if I edit that,\nhere's the index files.\n\n169\n00:08:39,198 --> 00:08:41,112\nindex.html and index.php.\n\n170\n00:08:41,112 --> 00:08:43,370\nThose are the two that I've got defined.\n\n171\n00:08:43,370 --> 00:08:44,080\nAll right.\n\n172\n00:08:44,080 --> 00:08:49,522\nSo on my website, if I were to go in and\ncreate some pages.\n\n173\n00:08:51,542 --> 00:08:53,702\nLet me just get into the website folder.\n\n174\n00:08:53,702 --> 00:08:59,232\nRemember, our websites\nare stored by default\n\n175\n00:08:59,232 --> 00:09:05,060\nin /Library,/ Server/ Web/ Data/ Sites.\n\n176\n00:09:05,060 --> 00:09:08,470\nAnd there's the default site\nthat Apple made for me.\n\n177\n00:09:08,470 --> 00:09:10,610\nAnd I can see all the files\nthat are inside of it.\n\n178\n00:09:10,610 --> 00:09:15,400\nAnd notice that I don't have index.html or\nindex.php.\n\n179\n00:09:15,400 --> 00:09:18,670\nI've got a few other ones\nlike info.php and stuff, but\n\n180\n00:09:18,670 --> 00:09:21,140\nI don't have my normal index documents.\n\n181\n00:09:21,140 --> 00:09:24,370\nWell, I can make one real quick.\n\n182\n00:09:24,370 --> 00:09:32,780\nSo I'll just do index.html,and I\ncould throw in some basic content.\n\n183\n00:09:32,780 --> 00:09:36,020\nLet me just get like a sample\nwebpage really quick.\n\n184\n00:09:36,020 --> 00:09:38,197\nLet's see if we've got\none laying around here.\n\n185\n00:09:41,494 --> 00:09:44,796\nI don't want to waste our time\ntyping out anything too crazy so\n\n186\n00:09:44,796 --> 00:09:46,650\nwe'll do a quick sample webpage.\n\n187\n00:09:48,620 --> 00:09:51,300\nThere we go.\nAll right,\n\n188\n00:09:51,300 --> 00:09:55,000\nso now I've got an index.html\nfile right there.\n\n189\n00:09:55,000 --> 00:09:56,750\nAnd so,\nif I browse through this server and\n\n190\n00:09:56,750 --> 00:10:00,090\nI don't specify a file name,\nit's gonna look for that.\n\n191\n00:10:00,090 --> 00:10:02,360\nAnd if I make a sub directory,\n\n192\n00:10:02,360 --> 00:10:08,220\nwhich I'll have to do a little pseudo for,\nI'll make a sub directory called test.\n\n193\n00:10:08,220 --> 00:10:11,560\nAnd I change into that test folder,\nwhile that folder is empty.\n\n194\n00:10:11,560 --> 00:10:12,150\nRight?\n\n195\n00:10:12,150 --> 00:10:15,830\nBut I could copy that\nindex.html file into here,\n\n196\n00:10:15,830 --> 00:10:20,770\nif I do it with the right permissions.\n\n197\n00:10:20,770 --> 00:10:21,810\nThere we go.\n\n198\n00:10:21,810 --> 00:10:24,570\nAnd now somebody browses through this\nfolder, if they type the file name, great,\n\n199\n00:10:24,570 --> 00:10:27,720\nif they don't type the file name,\nthey'll get index.html right?\n\n200\n00:10:27,720 --> 00:10:31,190\nWell, what happens if\nindex.html doesn't exist?\n\n201\n00:10:31,190 --> 00:10:34,990\nIf it doesn't exist, the default function,\nis to just give them access denied.\n\n202\n00:10:36,200 --> 00:10:38,700\nBut you can choose to allow file listings,\nand\n\n203\n00:10:38,700 --> 00:10:41,460\nit'll give them a list of all\nthe files in that folder.\n\n204\n00:10:41,460 --> 00:10:44,980\nAnd they can see that the pages that\nare available and go and click it.\n\n205\n00:10:44,980 --> 00:10:48,760\nSo for example, well, let's verify\nthis work first before I go in and\n\n206\n00:10:48,760 --> 00:10:50,050\nstart messing with it.\n\n207\n00:10:50,050 --> 00:10:52,410\nSo if I go to my web server.\n\n208\n00:10:54,260 --> 00:10:55,550\nI'm gonna fire up a web browser here.\n\n209\n00:10:55,550 --> 00:10:58,010\nI'm gonna browse to that server,\nso for me,\n\n210\n00:10:58,010 --> 00:11:05,320\nthat's just osx-server1.lab.itpro.tv/test\nis that full.\n\n211\n00:11:05,320 --> 00:11:08,910\nAnd I know there's /test,/index.html, but\n\n212\n00:11:08,910 --> 00:11:12,110\nif I just go to /test,\nI didn't type index.html.\n\n213\n00:11:12,110 --> 00:11:14,696\nIt knew to use that,\ncuz it's one of my default documents.\n\n214\n00:11:14,696 --> 00:11:16,046\nAll right?\n\n215\n00:11:16,046 --> 00:11:20,760\nWhat happens if I don't call index.html?\n\n216\n00:11:20,760 --> 00:11:26,220\nSo if I go back here, and\nI'm gonna rename that file.\n\n217\n00:11:26,220 --> 00:11:29,890\nAnd I'll call it page1.html.\n\n218\n00:11:29,890 --> 00:11:33,180\nAnd maybe I have other pages also.\n\n219\n00:11:35,250 --> 00:11:41,870\nSo maybe I've got page two.html and\npage three, page four, whatever.\n\n220\n00:11:41,870 --> 00:11:43,320\nRight.\nSo I've got all these different pages in\n\n221\n00:11:43,320 --> 00:11:50,090\nhere, but none of them,\nare index.html, there's no index page.\n\n222\n00:11:50,090 --> 00:11:53,470\nSo when that happens,\nthe default function.\n\n223\n00:11:53,470 --> 00:11:57,620\nIf I were to browse to that folder,\nif I browse to my server /test.\n\n224\n00:11:57,620 --> 00:11:58,850\nIt's I get forbidden.\n\n225\n00:11:58,850 --> 00:12:02,270\nIt says I don't have permission\nto access /test on this server.\n\n226\n00:12:02,270 --> 00:12:04,860\nWell, I do have permission\nto get to the folder.\n\n227\n00:12:04,860 --> 00:12:09,280\nWhat I don't have permission to do, is to\nlist everything inside of that folder.\n\n228\n00:12:09,280 --> 00:12:11,290\nAnd so\nwe've got that option that we can turn on.\n\n229\n00:12:11,290 --> 00:12:14,640\nBack here in our server app,\nwhen we edit our website,\n\n230\n00:12:14,640 --> 00:12:19,190\nand we go to the advanced\nsettings it's right inside there.\n\n231\n00:12:19,190 --> 00:12:21,270\nAllow folder listing.\n\n232\n00:12:21,270 --> 00:12:24,350\nAnd now if somebody goes to a folder\nthat doesn't have an index document,\n\n233\n00:12:24,350 --> 00:12:27,700\nif it doesn't have one of\nthe listed default documents,\n\n234\n00:12:27,700 --> 00:12:31,620\nwhen they go there they'll just see a list\nof the documents that are in there.\n\n235\n00:12:31,620 --> 00:12:34,850\nAnd that can be kind of useful for\ncertain cases.\n\n236\n00:12:34,850 --> 00:12:38,090\nMost people don't want this, because what\nit allows people to do is it allows them\n\n237\n00:12:38,090 --> 00:12:41,330\nto see all of these pages, and they might\nbe able to try and access pages they\n\n238\n00:12:41,330 --> 00:12:43,740\nwouldn't normally have access to or\nthey wouldn't know that they're there.\n\n239\n00:12:43,740 --> 00:12:47,060\nIt's not the be all end all of security or\nanything like that, but\n\n240\n00:12:47,060 --> 00:12:49,360\nit's typically something that\nwe don't want people to do.\n\n241\n00:12:51,280 --> 00:12:54,750\nBut now that I've turned that listing\noption on when I browsed to test,\n\n242\n00:12:54,750 --> 00:12:56,860\ninstead of getting a message\nthat I don't have access,\n\n243\n00:12:56,860 --> 00:12:58,690\nI get a list of the files\nthat are in there.\n\n244\n00:12:58,690 --> 00:13:02,290\nPage1, page2, page3, page4, and\nI can go to the parent directory.\n\n245\n00:13:02,290 --> 00:13:05,910\nI'm now browsing that directory\nas if it was a file system.\n\n246\n00:13:05,910 --> 00:13:07,310\nWell, it is a file system.\n\n247\n00:13:07,310 --> 00:13:09,370\nRight now I'm actually\nseeing that file system,\n\n248\n00:13:09,370 --> 00:13:12,130\nwhere as normally it's hidden from us and\nwe see the web pages.\n\n249\n00:13:12,130 --> 00:13:13,940\nSo that's what that allow\nlisting option does.\n\n250\n00:13:13,940 --> 00:13:16,520\nNow, where would somebody use this?\n\n251\n00:13:16,520 --> 00:13:18,800\nMaybe you've got a folder\nthat's full of downloads.\n\n252\n00:13:18,800 --> 00:13:22,140\nYou got a bunch of pdfs or\nother things like that in the folder and\n\n253\n00:13:22,140 --> 00:13:24,180\nyou don't want to create\na webpage to represent it,\n\n254\n00:13:24,180 --> 00:13:26,380\nyou just want to list\nthe files that are in there.\n\n255\n00:13:26,380 --> 00:13:28,650\nYou might want to turn\non directory listing.\n\n256\n00:13:28,650 --> 00:13:31,265\nThe problem with the setting as I turned\nit on though is that it applies to\n\n257\n00:13:31,265 --> 00:13:32,595\nthe entire site.\n\n258\n00:13:32,595 --> 00:13:35,975\nAnd I think it was Damian who\npointed it out in the chat room,\n\n259\n00:13:35,975 --> 00:13:38,825\nthis is another place where\nwe can use the htaccess file.\n\n260\n00:13:38,825 --> 00:13:42,035\nThe htaccess file can say yeah,\nyou're allowed to do a directory listing\n\n261\n00:13:42,035 --> 00:13:44,995\nin this folder but\nnot in the rest of the site.\n\n262\n00:13:44,995 --> 00:13:47,555\nAnd so we can start to get\nreally specific and granular.\n\n263\n00:13:47,555 --> 00:13:49,553\nBut that's what that directory\nlisting option is for.\n\n264\n00:13:49,553 --> 00:13:52,170\nIt's just gonna show you all\nthe files that are in that folder.\n\n265\n00:13:52,170 --> 00:13:55,969\nAnd then somebody could click on one,\nso yeah, if I want page1, now I get it,\n\n266\n00:13:55,969 --> 00:13:57,596\nand we're accessing that data.\n\n267\n00:14:01,732 --> 00:14:04,500\nAll right, let me jump back\ninto my advanced settings.\n\n268\n00:14:04,500 --> 00:14:07,990\nI think we've covered most of the options.\n\n269\n00:14:07,990 --> 00:14:12,180\nThe last one that's on this\npage is Use Custom Error page.\n\n270\n00:14:13,780 --> 00:14:15,200\nWhat's a Custom Error page?\n\n271\n00:14:15,200 --> 00:14:17,660\nWell, I'm sure you guys all,\nat some point or\n\n272\n00:14:17,660 --> 00:14:20,160\nanother, been to a website and\nhit an error.\n\n273\n00:14:20,160 --> 00:14:23,880\nThe most common one,\nthe one most people know, is a 404, right,\n\n274\n00:14:23,880 --> 00:14:25,460\na 404 error is Page Not Found.\n\n275\n00:14:25,460 --> 00:14:27,400\nYou go to a website expecting\nto find a page, and\n\n276\n00:14:27,400 --> 00:14:30,130\nthe page doesn't exist on the server,\nso it gives you a 404.\n\n277\n00:14:30,130 --> 00:14:31,000\nAll right.\n\n278\n00:14:31,000 --> 00:14:34,600\nThat error page,\nis typically a default page that's\n\n279\n00:14:34,600 --> 00:14:36,450\ndesigned by whoever\ncreated that web server.\n\n280\n00:14:36,450 --> 00:14:40,360\nSo Apache has a default error page,\nMicrosoft's IIS,\n\n281\n00:14:40,360 --> 00:14:43,510\nor IBM's Web Sphere, all of those guys.\n\n282\n00:14:43,510 --> 00:14:47,860\nThey have these default error pages and,\nthey're pretty plain.\n\n283\n00:14:47,860 --> 00:14:48,970\nThey give an error message.\n\n284\n00:14:48,970 --> 00:14:52,150\nIt's not really good information for\nyour end user.\n\n285\n00:14:52,150 --> 00:14:55,140\nSo what a lot of people like to\ndo is to create custom pages.\n\n286\n00:14:55,140 --> 00:14:57,760\nPages that have your site's theme,\nthat look good,\n\n287\n00:14:57,760 --> 00:14:59,280\nthat have a funny little message.\n\n288\n00:14:59,280 --> 00:15:03,480\nLike Twitter has the fail whale,\nthis picture of a whale that appears.\n\n289\n00:15:03,480 --> 00:15:07,190\nYou might have a link to email your\nsupport team, or a message saying,\n\n290\n00:15:07,190 --> 00:15:09,480\nhey, we'll be back soon,\nsomething like that.\n\n291\n00:15:09,480 --> 00:15:13,450\nCustom Error Pages can go a long way\nto make a bad experience good for\n\n292\n00:15:13,450 --> 00:15:14,940\na company, right.\n\n293\n00:15:14,940 --> 00:15:19,340\nSo right here is where we can tell it we\ndon't wanna use the built-in error page,\n\n294\n00:15:19,340 --> 00:15:20,310\nwe wanna use a custom one.\n\n295\n00:15:21,460 --> 00:15:22,670\nThere is a slight problem, though.\n\n296\n00:15:22,670 --> 00:15:26,750\nNotice in the example how it\nsays /500.html, all right.\n\n297\n00:15:26,750 --> 00:15:30,640\nThis is a Custom Error just for\nthe 500 errors.\n\n298\n00:15:30,640 --> 00:15:32,530\n500 error is a server failure.\n\n299\n00:15:32,530 --> 00:15:35,170\nA server failure is where\nsomething really bad happened, and\n\n300\n00:15:35,170 --> 00:15:37,460\nApache is not able to access web pages.\n\n301\n00:15:37,460 --> 00:15:41,020\nCommon examples that can cause that, your\nweb page might be stored on a second hard\n\n302\n00:15:41,020 --> 00:15:43,080\ndrive, and the hard drive fails or\ndisappears.\n\n303\n00:15:43,080 --> 00:15:44,099\nThat can generate a 500 error.\n\n304\n00:15:44,099 --> 00:15:48,595\nYou could have a script, something\nthat's a JavaScript or Python based, and\n\n305\n00:15:48,595 --> 00:15:50,890\nit goes to execute and it crashes.\n\n306\n00:15:50,890 --> 00:15:51,988\nThat would generate a 500 error.\n\n307\n00:15:51,988 --> 00:15:53,845\nBut a page not found?\n\n308\n00:15:53,845 --> 00:15:55,677\nThat's a 404 error.\n\n309\n00:15:55,677 --> 00:15:58,056\nOr a gateway timeout, that's a 503 error.\n\n310\n00:15:58,056 --> 00:16:00,992\nThere's a lot of other error\nnumbers that are out there.\n\n311\n00:16:00,992 --> 00:16:02,291\nAnd this doesn't apply.\n\n312\n00:16:02,291 --> 00:16:04,509\nSo this option's not terribly flexible.\n\n313\n00:16:04,509 --> 00:16:06,480\nYou can say use a custom error page,\n\n314\n00:16:06,480 --> 00:16:11,310\nand then you define what that filename\nis gonna be, /500.html is the default.\n\n315\n00:16:11,310 --> 00:16:15,977\nAnd that means you create a file in\nyour website called 500.html and\n\n316\n00:16:15,977 --> 00:16:17,781\nthat's what it'll load.\n\n317\n00:16:17,781 --> 00:16:20,270\nBut what about all those\nother error numbers?\n\n318\n00:16:20,270 --> 00:16:22,213\nWell for the other error numbers,\n\n319\n00:16:22,213 --> 00:16:25,632\none of the easiest ways to deal\nwith that is an HT access file!\n\n320\n00:16:25,632 --> 00:16:28,280\nWe keep going back to the HT access file.\n\n321\n00:16:28,280 --> 00:16:32,098\nI'll put this in the show notes, actually\nI've all ready got it in the show notes.\n\n322\n00:16:32,098 --> 00:16:35,990\nIf you wanna do a custom error\nmessage in an HT access file,\n\n323\n00:16:35,990 --> 00:16:39,870\nall you have to do is edit the HT\naccess file and add in a simple line.\n\n324\n00:16:39,870 --> 00:16:42,340\nLet's see, I'm pretty sure I got it,\nright here.\n\n325\n00:16:42,340 --> 00:16:44,680\nYou'll add in a line like this.\n\n326\n00:16:44,680 --> 00:16:47,720\nLet me make that a little bit bigger so\nthat it shows up right in the video.\n\n327\n00:16:47,720 --> 00:16:52,650\nBut basically you say error document and\nthen whatever error code you want.\n\n328\n00:16:52,650 --> 00:16:57,220\nSo I did 404 and then a name of a file is\ngonna contain the error page that people\n\n329\n00:16:57,220 --> 00:16:59,080\nwill be sent to when\nthat error is generated.\n\n330\n00:16:59,080 --> 00:17:02,190\nSo now when somebody gets a 404\ninstead of using the default page.\n\n331\n00:17:02,190 --> 00:17:04,561\nI would give them custom404error.html.\n\n332\n00:17:04,561 --> 00:17:06,265\nRight.\n\n333\n00:17:06,265 --> 00:17:08,431\nYou can stick that in your HT access file,\nand\n\n334\n00:17:08,431 --> 00:17:12,592\nthat'll provide them with the access they\nneed, or the page they get, the redirect,\n\n335\n00:17:12,592 --> 00:17:15,900\nwhatever it is that you're trying to do,\nthey'll get that access.\n\n336\n00:17:15,900 --> 00:17:18,601\nHT access files is very powerful,\nand very useful.\n\n337\n00:17:22,107 --> 00:17:24,791\nAll right.\nThe only other setting we have here on\n\n338\n00:17:24,791 --> 00:17:28,560\nthe advanced page is one that's\nactually a pretty neat one.\n\n339\n00:17:28,560 --> 00:17:32,540\nThe Apple Web Server supports\nPython applications.\n\n340\n00:17:32,540 --> 00:17:36,200\nAnd Python applications, Python if you're\nnot familiar with it is a scripting and\n\n341\n00:17:36,200 --> 00:17:37,460\ndevelopment language.\n\n342\n00:17:37,460 --> 00:17:40,420\nAnd so you can write very simple\nscripts that do little things.\n\n343\n00:17:40,420 --> 00:17:43,009\nYou can write full featured\nprograms in Python if you want.\n\n344\n00:17:43,009 --> 00:17:45,310\nIt's a very powerful programming language.\n\n345\n00:17:45,310 --> 00:17:49,240\nSimilar to CGI, and SSI,\nthe service that includes.\n\n346\n00:17:49,240 --> 00:17:50,490\nIt can be a little dangerous.\n\n347\n00:17:50,490 --> 00:17:52,290\nIf you have programs that\nare running on your server, and\n\n348\n00:17:52,290 --> 00:17:54,630\nyou're allowing users to execute them and\naccess them.\n\n349\n00:17:54,630 --> 00:17:55,670\nSo we have to be safe with it.\n\n350\n00:17:55,670 --> 00:17:57,360\nIt is turned off by default.\n\n351\n00:17:57,360 --> 00:18:02,070\nBut if we want,\nwe can create full on Python applications,\n\n352\n00:18:02,070 --> 00:18:04,800\nload them into the webserver and\nhave very powerful environments.\n\n353\n00:18:04,800 --> 00:18:07,730\nThere's versions of Drupal,\nthe content management system, and\n\n354\n00:18:07,730 --> 00:18:11,360\nother products like that that are written\nin Python, that can be loaded up, and\n\n355\n00:18:11,360 --> 00:18:15,270\nyou get these just amazing websites\nthat do all sorts of crazy things,\n\n356\n00:18:15,270 --> 00:18:17,630\nthanks to the flexibility and\npower of Python.\n\n357\n00:18:18,900 --> 00:18:21,810\nIf you've created a python app and\nregistered it with the system,\n\n358\n00:18:21,810 --> 00:18:25,040\nit will show up right here in this\nlist and we can turn that on.\n\n359\n00:18:25,040 --> 00:18:26,540\nThere's actually two parts\nthat we have to use.\n\n360\n00:18:26,540 --> 00:18:31,260\nSo one part is checking this off to say,\nhere's the app that I want to turn on.\n\n361\n00:18:31,260 --> 00:18:33,310\nYou might have more than one app and\nyou can pick and\n\n362\n00:18:33,310 --> 00:18:35,290\nchoose individually between them.\n\n363\n00:18:35,290 --> 00:18:38,758\nThat's part of it, but\nthe other part is back on the main one,\n\n364\n00:18:38,758 --> 00:18:40,572\nlet me turn off that error page.\n\n365\n00:18:42,372 --> 00:18:43,830\nTurn those things off there.\n\n366\n00:18:43,830 --> 00:18:49,280\nAll right, is that back on the main server\npage we've got an option there whether or\n\n367\n00:18:49,280 --> 00:18:52,080\nnot we want to enable Python, right there.\n\n368\n00:18:52,080 --> 00:18:55,650\nSo we have to choose to enable web\napplications on the server and\n\n369\n00:18:55,650 --> 00:19:00,920\nthen we have to enable the individual\napplications on the website itself.\n\n370\n00:19:00,920 --> 00:19:04,400\nAnd once that's done,\nthat application will start to work.\n\n371\n00:19:04,400 --> 00:19:08,420\nSo in my case, I just turned it on so, I\nshould be able to browse to that address,\n\n372\n00:19:08,420 --> 00:19:12,300\nwhich was my server name/WSGI.\n\n373\n00:19:12,300 --> 00:19:15,440\nThat's the example Python\napp that Apple loads.\n\n374\n00:19:15,440 --> 00:19:17,480\nAnd sure enough,\nI get that Python app returning to me.\n\n375\n00:19:17,480 --> 00:19:18,950\nRight.\nSo I can see,\n\n376\n00:19:18,950 --> 00:19:21,440\nthis text is displayed by a Python script.\n\n377\n00:19:21,440 --> 00:19:25,582\nSo that means a script was actually\nexecuted on a server It ran,\n\n378\n00:19:25,582 --> 00:19:29,897\nit generated some content, and\nthen it provided it to me as HTML.\n\n379\n00:19:29,897 --> 00:19:32,000\nI actually received HTML\nat the end of the day.\n\n380\n00:19:32,000 --> 00:19:35,250\nBut it was a Python script that ran and\ngenerated this.\n\n381\n00:19:35,250 --> 00:19:39,470\nAnd so we can see it ran in the web app\nkey list, right, that preference list.\n\n382\n00:19:39,470 --> 00:19:43,300\nThat's where it fired from and\nit's running Python version 2.7.6 and\n\n383\n00:19:43,300 --> 00:19:47,350\nit's running mod_wsgi on the server.\n\n384\n00:19:47,350 --> 00:19:51,295\nNow if you're a web developer, you might\nsay wow, Python 2.7.6, I remember that.\n\n385\n00:19:51,295 --> 00:19:54,840\n[LAUGH] It is an older version of Python.\n\n386\n00:19:54,840 --> 00:19:57,770\nMost people who develop today\ndevelop in Python version 3.\n\n387\n00:19:57,770 --> 00:19:59,800\nSo, the built in one is 2.76.\n\n388\n00:19:59,800 --> 00:20:02,610\nIf you want a newer version of Python,\n\n389\n00:20:02,610 --> 00:20:06,020\nyou'll probably need to install some\nkind of repository management software,\n\n390\n00:20:06,020 --> 00:20:09,310\nsomething like homebrew is\none of the most common ones.\n\n391\n00:20:09,310 --> 00:20:11,160\nAnd you can put Python from that.\n\n392\n00:20:11,160 --> 00:20:15,690\nThere's another one which is called,\noh shoot, now I'm going to forget it.\n\n393\n00:20:15,690 --> 00:20:19,690\nThe one Python loves,\nPIP I believe Oh, I'll get,\n\n394\n00:20:19,690 --> 00:20:23,460\nI'll have to remember later, but you can\ninstall these repository managers and\n\n395\n00:20:23,460 --> 00:20:26,710\nthey can install the updated\nversions of Python on there.\n\n396\n00:20:26,710 --> 00:20:31,768\nApple doesn't do version three yet,\nso they're at 2.76.\n\n397\n00:20:31,768 --> 00:20:34,407\nAll right, now as far as the basic\nfunctionality of Python though,\n\n398\n00:20:34,407 --> 00:20:35,390\nthat's it right there.\n\n399\n00:20:35,390 --> 00:20:39,030\nA word, you guys saw it, and that's what\nthey expect you to know on the exam, but\n\n400\n00:20:39,030 --> 00:20:42,080\nin real life if you ever\nhave to deploy one of these.\n\n401\n00:20:42,080 --> 00:20:44,120\nIt's actually very poorly documented.\n\n402\n00:20:44,120 --> 00:20:47,800\nThe Apple documentation doesn't go into\ngreat detail about how to use this, and if\n\n403\n00:20:47,800 --> 00:20:50,800\nyou go out and search the internet there's\nnot a lot of information out there either,\n\n404\n00:20:50,800 --> 00:20:54,720\nwhich kind of blows my mind because\nit's not that this is an uncommon thing.\n\n405\n00:20:54,720 --> 00:20:57,110\nPeople are doing it,\nit's just not very well documented.\n\n406\n00:20:57,110 --> 00:21:01,360\nSo it's not on the exam, but I wanna\ntake the time to walk you guys through\n\n407\n00:21:01,360 --> 00:21:05,190\nhow you would actually get your own\npython app registered with the system and\n\n408\n00:21:05,190 --> 00:21:06,440\nshowing up on that list.\n\n409\n00:21:06,440 --> 00:21:09,879\nAnd I wanna lock to that process,\nbut it's not on the exam.\n\n410\n00:21:09,879 --> 00:21:12,471\nSo what I want to do is I wanna go\nahead and end that segment here and\n\n411\n00:21:12,471 --> 00:21:14,230\nwe will stop and take a break.\n\n412\n00:21:14,230 --> 00:21:16,360\nAnd when we get back after the break\nI will run into the rest of that.\n\n413\n00:21:16,360 --> 00:21:17,610\nAnd if you are just studying for\nthe exam and\n\n414\n00:21:17,610 --> 00:21:20,380\nthat's all you care about then you\ndon't need to watch the next segment.\n\n415\n00:21:20,380 --> 00:21:22,340\nBut if you ever have to\ndeal with a Python app,\n\n416\n00:21:22,340 --> 00:21:24,200\nI will show you how guys how\nto get it loaded in there.\n\n417\n00:21:24,200 --> 00:21:25,200\nIt's a pretty neat process.\n\n418\n00:21:25,200 --> 00:21:26,470\nSo stay tuned.\n\n419\n00:21:26,470 --> 00:21:28,578\nI'll be back after this.\n\n420\n00:21:28,578 --> 00:21:36,560\n[SOUND]\nAll right, welcome back everybody.\n\n421\n00:21:36,560 --> 00:21:39,100\nSo, in this last segment I want\nto tackle Python web apps.\n\n422\n00:21:39,100 --> 00:21:42,790\nAnd from what we saw in the first part of\nthe episode, it looks pretty easy, right.\n\n423\n00:21:42,790 --> 00:21:43,910\nWell, you just navigate in there and\n\n424\n00:21:43,910 --> 00:21:46,160\nyou check a little box on your web app and\nyou're done.\n\n425\n00:21:46,160 --> 00:21:49,120\nWell, the challenging part is\ngetting your web app to show\n\n426\n00:21:49,120 --> 00:21:50,780\nup in that list in the first place.\n\n427\n00:21:50,780 --> 00:21:53,830\nIt's not as simple as just chucking\na file into your website directory\n\n428\n00:21:53,830 --> 00:21:54,980\nand being done.\n\n429\n00:21:54,980 --> 00:21:56,420\nWe do have to do that, right?\n\n430\n00:21:56,420 --> 00:21:58,660\n[LAUGH] You have to put your\nfile in the web directory.\n\n431\n00:21:58,660 --> 00:22:01,510\nBut we do have to register it\nwith a list of web apps, and\n\n432\n00:22:01,510 --> 00:22:04,000\nget that showing up in Apache, and\nkind of go through those hurdles.\n\n433\n00:22:04,000 --> 00:22:05,500\nSo, I wanna show you guys that process.\n\n434\n00:22:05,500 --> 00:22:09,990\nAnd I'm gonna start just by\ncreating my Python web app.\n\n435\n00:22:09,990 --> 00:22:12,270\nI got a real simple app\nthat I'm gonna use.\n\n436\n00:22:12,270 --> 00:22:14,850\nIt's basically just gonna\ndisplay a simple message\n\n437\n00:22:14,850 --> 00:22:17,580\nthat says that this content\nwas generated by Python.\n\n438\n00:22:17,580 --> 00:22:19,830\nSo the first thing I'm gonna do is,\nI'm gonna create that file.\n\n439\n00:22:19,830 --> 00:22:24,410\nNow, the file needs to go inside of a\nslightly different directory than where my\n\n440\n00:22:24,410 --> 00:22:28,608\nwebsite is, so right now,\nmy website itself is right here in\n\n441\n00:22:28,608 --> 00:22:34,290\n/Library/Server/Web/Data /Sites/Default,\nright.\n\n442\n00:22:34,290 --> 00:22:37,980\nSo that's where I'm at right now, and\nthat's where all my HTML content goes.\n\n443\n00:22:37,980 --> 00:22:42,420\nBut my Python web apps go in a separate\ndirectory, so I need to get into that.\n\n444\n00:22:42,420 --> 00:22:49,185\nIt is right here inside of the Data folder\nand, so I'm just gonna get back to Data.\n\n445\n00:22:49,185 --> 00:22:53,195\nBut inside of the Data folder,\nI've been going into the Sites folder, and\n\n446\n00:22:53,195 --> 00:22:56,185\nthis time I need to go into\nthe WebApps folder instead.\n\n447\n00:22:56,185 --> 00:22:59,994\nSo I'm gonna get into the WebApps\nfolder so that full path is\n\n448\n00:22:59,994 --> 00:23:05,812\n/Library/Server/Web/Data /WebApps.\n\n449\n00:23:05,812 --> 00:23:08,702\nAnd in there we're not gonna\nsee a whole heck of a lot.\n\n450\n00:23:08,702 --> 00:23:10,982\nThere's hello.wsgi.\n\n451\n00:23:10,982 --> 00:23:13,647\nThat's the sample Python\napp that Apple created.\n\n452\n00:23:13,647 --> 00:23:14,272\nRight.\n\n453\n00:23:14,272 --> 00:23:17,092\nThat's the one that I checked off\na few moments ago to demonstrate\n\n454\n00:23:17,092 --> 00:23:18,178\nthe Python work.\n\n455\n00:23:18,178 --> 00:23:21,060\nIf we wanna create our own we\njust need to place it in here.\n\n456\n00:23:21,060 --> 00:23:28,489\nSo I'm gonna go ahead an edit a quick file\nand I'll just call mine example.wsgi.\n\n457\n00:23:28,489 --> 00:23:31,090\nAll right, now I am doing a sudo on this.\n\n458\n00:23:31,090 --> 00:23:33,470\nYou have to be an administrator\nto create these files.\n\n459\n00:23:33,470 --> 00:23:38,298\nSo I'll do that and\nthen I'll get in here and create My file.\n\n460\n00:23:38,298 --> 00:23:43,070\nNow, this isn't a Python class but just to\ngive a quick rundown of what this is doing\n\n461\n00:23:43,070 --> 00:23:46,780\nis basically it's firing up Python and\ngetting this environment going.\n\n462\n00:23:46,780 --> 00:23:50,080\nSo we've got some imports that's\nincluding various libraries.\n\n463\n00:23:50,080 --> 00:23:53,657\nAnd then after that it's checking to\nmake sure that everything is okay with\n\n464\n00:23:53,657 --> 00:23:57,250\nthe web requests that's coming in,\nand then it's building an HTML file.\n\n465\n00:23:57,250 --> 00:24:02,048\nSo see how it's outputting an HTML tag, a\nheader tag, here's the title of the page,\n\n466\n00:24:02,048 --> 00:24:03,261\nthe body of the page.\n\n467\n00:24:03,261 --> 00:24:07,694\nAnd then it takes all of that and\nit outputs it to the client.\n\n468\n00:24:07,694 --> 00:24:09,436\nSo just a real simple program.\n\n469\n00:24:09,436 --> 00:24:13,964\nWhat you would do is, your web app would\nbasically take this whole section here,\n\n470\n00:24:13,964 --> 00:24:17,820\nand replace it with all the stuff\nthat you're trying to do.\n\n471\n00:24:17,820 --> 00:24:22,820\nMaybe this is a wire transfers for a bank\naccount, so you handle all that process,\n\n472\n00:24:22,820 --> 00:24:26,670\nor checking server status, rebooting the\nserver, whatever it is that your Python\n\n473\n00:24:26,670 --> 00:24:30,420\napp does, that's the code that\nwould go in between here, right.\n\n474\n00:24:30,420 --> 00:24:32,810\nFor mine, it's just generating a simple\nmessage and displaying it out.\n\n475\n00:24:34,010 --> 00:24:35,230\nAll right, so I've got that in place.\n\n476\n00:24:35,230 --> 00:24:36,200\nI'll go ahead and save that.\n\n477\n00:24:37,425 --> 00:24:39,385\nAnd then I want to point\nout the permissions.\n\n478\n00:24:39,385 --> 00:24:41,635\nPermissions are really tricky with Python.\n\n479\n00:24:41,635 --> 00:24:43,985\nI know I talked about permissions\nin the first episode, and\n\n480\n00:24:43,985 --> 00:24:45,995\nI mentioned how like when we did php,\n\n481\n00:24:45,995 --> 00:24:49,747\nI had to flag it as executable to get\nit working, those kinds of things.\n\n482\n00:24:49,747 --> 00:24:53,027\nWell, with Python,\nit's really particular about that.\n\n483\n00:24:53,027 --> 00:24:55,627\nSo, I've gotta make sure I get\nthe permissions set right and\n\n484\n00:24:55,627 --> 00:24:57,177\nthe ownership set right.\n\n485\n00:24:57,177 --> 00:24:59,987\nNotice Apple's example is\nowned by root and wheel.\n\n486\n00:24:59,987 --> 00:25:03,617\nAnd it's got the read/write and execute\nfor the owner, read and execute for\n\n487\n00:25:03,617 --> 00:25:04,627\neverybody else.\n\n488\n00:25:04,627 --> 00:25:07,647\nI need to make sure that my file\nhas those same permissions.\n\n489\n00:25:07,647 --> 00:25:11,190\nSo I'm just gonna go ahead and\nupdate that with a little chmod,\n\n490\n00:25:11,190 --> 00:25:16,788\nto change the permissions, I'll flip that\nover to 755, which is read/write and\n\n491\n00:25:16,788 --> 00:25:20,380\nexecute for the owner, read and\nexecute for everybody else.\n\n492\n00:25:20,380 --> 00:25:24,100\nAnd I'll change the owner to root and\n\n493\n00:25:24,100 --> 00:25:29,120\nwheel, so\nthat it matches Apple's example also.\n\n494\n00:25:29,120 --> 00:25:30,750\nI got to get those permissions straight.\n\n495\n00:25:30,750 --> 00:25:32,580\nNow I've got my permissions straight.\n\n496\n00:25:32,580 --> 00:25:34,260\nI'm just like Apple's.\n\n497\n00:25:34,260 --> 00:25:39,350\nSo technically, my Python script,\nit's loaded up, it's ready to go.\n\n498\n00:25:39,350 --> 00:25:41,660\nSo all I have to do is go and\nturn it on, right?\n\n499\n00:25:41,660 --> 00:25:42,690\nWell this is the challenging part.\n\n500\n00:25:42,690 --> 00:25:44,680\nThis is the part that's not\nreally well documented.\n\n501\n00:25:44,680 --> 00:25:46,160\nJust putting it in there isn't enough.\n\n502\n00:25:46,160 --> 00:25:50,110\nIf I jump back to my server app and\nI edit my website, and I go and\n\n503\n00:25:50,110 --> 00:25:55,040\nI look at my Python apps,\nit's not on the list, all right?\n\n504\n00:25:55,040 --> 00:25:57,890\nAnd that's because this listing\ndoesn't actually check to\n\n505\n00:25:57,890 --> 00:26:00,620\nsee if those WSGI files exist at all.\n\n506\n00:26:00,620 --> 00:26:02,830\nIt's looking at a preference file.\n\n507\n00:26:02,830 --> 00:26:05,560\nA preference file that\nlists all the web apps, and\n\n508\n00:26:05,560 --> 00:26:07,080\nthat's where it's generating this from.\n\n509\n00:26:07,080 --> 00:26:10,250\nAnd if my web app is not on the list,\nit's not going to work.\n\n510\n00:26:11,550 --> 00:26:16,000\nThe other this is, when you run these\nweb apps, they're run with an alias.\n\n511\n00:26:16,000 --> 00:26:17,190\nThey're mapped to a directory.\n\n512\n00:26:17,190 --> 00:26:21,910\nSee how it says\nPython Hello World app at /wsgi?\n\n513\n00:26:21,910 --> 00:26:25,680\nThat means on my web server,\nI type in the server name /wsgi and\n\n514\n00:26:25,680 --> 00:26:28,640\nthat's an alias that\npoints to the Python app.\n\n515\n00:26:28,640 --> 00:26:30,590\nSo I've got to create that alias too.\n\n516\n00:26:30,590 --> 00:26:33,970\nThose are the other parts I've\ngotta do to get this app working.\n\n517\n00:26:33,970 --> 00:26:36,880\nSo let me get back to my terminal and\n\n518\n00:26:36,880 --> 00:26:40,420\nwe'll get those other two pieces of\nthe puzzle knocked out, all right?\n\n519\n00:26:40,420 --> 00:26:42,470\nFirst off, let's go ahead and\ncreate that alias.\n\n520\n00:26:42,470 --> 00:26:46,120\nNow the aliases are stored in\nthe configuration for Apache.\n\n521\n00:26:46,120 --> 00:26:49,750\nSo right now I'm in that WebApps folder.\n\n522\n00:26:49,750 --> 00:26:54,060\nI need to get out of that and even\nabove WebApps, I'm in the data folder.\n\n523\n00:26:54,060 --> 00:26:55,560\nI need to get out of that.\n\n524\n00:26:55,560 --> 00:26:58,882\nSo when I'm in /library/server/web,\n\n525\n00:26:58,882 --> 00:27:02,859\nthere's a few folders in there,\nconfig and data.\n\n526\n00:27:02,859 --> 00:27:05,693\nAnd data's where we normally go, but\nI need to go into the configuration.\n\n527\n00:27:05,693 --> 00:27:11,010\nAnd inside of the configuration is\nwhere I'll find the Apache config.\n\n528\n00:27:11,010 --> 00:27:14,160\nAnd Apache is that\nunderlying web server and\n\n529\n00:27:14,160 --> 00:27:16,180\nit's got a number of configuration files.\n\n530\n00:27:17,210 --> 00:27:19,534\nNow the configuration files\nare really just text files.\n\n531\n00:27:19,534 --> 00:27:23,107\nYou can edit them in any editor that\nyou want to use and you can go in and\n\n532\n00:27:23,107 --> 00:27:23,900\nmodify them.\n\n533\n00:27:23,900 --> 00:27:27,907\nAnd so one of these is gonna\ncontain the aliases for Python.\n\n534\n00:27:27,907 --> 00:27:29,589\nAnd you probably already\nsee which file it is.\n\n535\n00:27:29,589 --> 00:27:34,525\nIt's this guy right here,\nHTTTPD_WSGI.CONF.\n\n536\n00:27:34,525 --> 00:27:36,660\nAnd so I'm just gonna edit that file.\n\n537\n00:27:36,660 --> 00:27:39,900\nYou do need to be an administrator for\nthis, so I'll elevate again.\n\n538\n00:27:41,840 --> 00:27:44,990\nAnd when you go into it,\nyou'll see the alias entry for\n\n539\n00:27:44,990 --> 00:27:46,810\nthe web app that Apple created.\n\n540\n00:27:46,810 --> 00:27:49,420\nIf you want to get rid of their app,\nyou can do it right here.\n\n541\n00:27:49,420 --> 00:27:50,570\nThere app's really safe.\n\n542\n00:27:50,570 --> 00:27:51,920\nIt doesn't hurt anything\nto have it there and\n\n543\n00:27:51,920 --> 00:27:55,540\nyou can always turn it\noff in the server app.\n\n544\n00:27:55,540 --> 00:27:59,430\nSo it doesn't really matter, but\nI'm just gonna add on my own.\n\n545\n00:27:59,430 --> 00:28:02,210\nAnd so I'll just come in here and\nadd a ScriptAlias.\n\n546\n00:28:03,420 --> 00:28:05,750\nAnd I'm gonna put mine in /example.\n\n547\n00:28:05,750 --> 00:28:08,640\nNow, the alias name can\nbe whatever you want.\n\n548\n00:28:08,640 --> 00:28:12,600\nIt doesn't have to match the file name or\nanything, so it can be slash whatever.\n\n549\n00:28:12,600 --> 00:28:14,453\nI'm calling mine /example.\n\n550\n00:28:14,453 --> 00:28:17,041\nAnd then you point to\nwhere that file resides.\n\n551\n00:28:17,041 --> 00:28:22,287\nSo I'm just gonna point right to that\nfile that we just made a moment ago,\n\n552\n00:28:22,287 --> 00:28:24,275\nwhich was example.wsgi.\n\n553\n00:28:24,275 --> 00:28:25,920\nAll right.\n\n554\n00:28:25,920 --> 00:28:29,170\nThat is gonna tell Apache about the alias.\n\n555\n00:28:29,170 --> 00:28:34,220\nSo now Apache's aware that /example\nshould point to this file right here, but\n\n556\n00:28:34,220 --> 00:28:36,750\nit's still not a registered web app.\n\n557\n00:28:36,750 --> 00:28:38,960\nIn other words, it's still not\ngonna show up in server app.\n\n558\n00:28:38,960 --> 00:28:40,800\nI won't be able to check\nit off as enabled.\n\n559\n00:28:40,800 --> 00:28:43,010\nThis creates the alias but I'm not done.\n\n560\n00:28:44,460 --> 00:28:45,210\nAll right.\n\n561\n00:28:45,210 --> 00:28:48,380\nSo the next part is to actually\nadd it to that registry so\n\n562\n00:28:48,380 --> 00:28:52,250\nit'll show up as part of\nthe web apps on the screen.\n\n563\n00:28:52,250 --> 00:28:54,980\nAnd that one is controlled\nby a different file.\n\n564\n00:28:54,980 --> 00:28:59,260\nIf we dig around in our\nApache 2 folder here,\n\n565\n00:28:59,260 --> 00:29:01,870\nyou'll see another folder called WebApps.\n\n566\n00:29:01,870 --> 00:29:04,306\nAnd that's where the registry\nof applications is stored.\n\n567\n00:29:04,306 --> 00:29:07,040\nAnd so, if I get into that WebApps folder,\nactually, here,\n\n568\n00:29:07,040 --> 00:29:10,052\nlet me show you guys the full path\nif you're trying to follow along.\n\n569\n00:29:10,052 --> 00:29:17,634\nIt's /library/server/web/config/apache2/\nwebapps.\n\n570\n00:29:17,634 --> 00:29:21,349\nAnd you'll see a bunch of web files in\nthere, all these different web apps.\n\n571\n00:29:21,349 --> 00:29:28,720\nAnd as you look down the line, you'll find\ncom.apple.web app.WSGI.Plist, all right.\n\n572\n00:29:28,720 --> 00:29:31,985\nNow a PLIST file is a preference list, and\n\n573\n00:29:31,985 --> 00:29:35,824\nApple normally compiles those PLISTS,\nright.\n\n574\n00:29:35,824 --> 00:29:36,845\nSo they're in binary format.\n\n575\n00:29:36,845 --> 00:29:39,390\nWe have to use plutil and all that stuff.\n\n576\n00:29:39,390 --> 00:29:41,120\nBut here inside of Apache, they're not.\n\n577\n00:29:41,120 --> 00:29:42,600\nThey're still just text files.\n\n578\n00:29:42,600 --> 00:29:45,500\nSo you can edit these and\nwork with them however you want.\n\n579\n00:29:45,500 --> 00:29:50,310\nWell this one right here,\nthis com.apple.webapp.wsgi.plist,\n\n580\n00:29:50,310 --> 00:29:53,590\nthat's their web app,\nthe one that they made.\n\n581\n00:29:53,590 --> 00:29:55,140\nYou have your own web app, so\n\n582\n00:29:55,140 --> 00:29:58,880\nyou'll need to create its own PLIST\nfile to get it added to the registry.\n\n583\n00:29:58,880 --> 00:30:01,900\nAnd so that's what I'm gonna do\nis I'm gonna make my own, and\n\n584\n00:30:01,900 --> 00:30:03,310\nI'll follow their naming convention.\n\n585\n00:30:03,310 --> 00:30:07,130\nSee how it's Apple.com kind of written\nbackwards and the web app underneath?\n\n586\n00:30:07,130 --> 00:30:08,520\nSo I'll make one for us.\n\n587\n00:30:08,520 --> 00:30:13,785\nSo I'm gonna edit a file and I'll just\n\n588\n00:30:13,785 --> 00:30:20,546\ncall mine tv.itpro.example.wsgi.plist.\n\n589\n00:30:20,546 --> 00:30:23,520\nThe file name doesn't truly matter.\n\n590\n00:30:23,520 --> 00:30:25,350\nIt does have to end in plist, right?\n\n591\n00:30:25,350 --> 00:30:26,190\nSo it's gonna look down, and\n\n592\n00:30:26,190 --> 00:30:29,850\nit's gonna try to find any file that ends\nin plist and read that and parse it.\n\n593\n00:30:29,850 --> 00:30:32,580\nSo I can call it whatever but this is\nthe naming convention they recommend.\n\n594\n00:30:34,480 --> 00:30:38,240\nThen inside of the file,\nI need to define my application.\n\n595\n00:30:38,240 --> 00:30:42,670\nNow the easiest way to do this is to\njust copy the contents from Apple's and\n\n596\n00:30:42,670 --> 00:30:43,380\nmodify it.\n\n597\n00:30:43,380 --> 00:30:44,990\nThat's one of the easiest ways, but\n\n598\n00:30:44,990 --> 00:30:47,530\nI've already gotten mine\nwritten in another file here.\n\n599\n00:30:47,530 --> 00:30:49,030\nSo let me just go and grab this.\n\n600\n00:30:49,030 --> 00:30:51,730\nIt's basically a little XML document.\n\n601\n00:30:51,730 --> 00:30:54,910\nAnd let me get this pasted in, and then\nwe'll kind of explain what's going on.\n\n602\n00:30:57,290 --> 00:31:01,150\nThere we go and it's just doing simple\nthings like identifying the name.\n\n603\n00:31:01,150 --> 00:31:02,170\nHere's the name of the app.\n\n604\n00:31:02,170 --> 00:31:05,640\nI called mine tv.itpro.example.wsgi.\n\n605\n00:31:05,640 --> 00:31:08,830\nAnd then down here,\nthe string for the display name.\n\n606\n00:31:08,830 --> 00:31:12,870\nI called it example Python\napp at /example, right.\n\n607\n00:31:12,870 --> 00:31:13,900\nSo that way I'll recognize it,\n\n608\n00:31:13,900 --> 00:31:16,450\nthat's what's gonna show up\ninside of the server app.\n\n609\n00:31:16,450 --> 00:31:18,670\nAnd then beneath that is\nthe most important part,\n\n610\n00:31:18,670 --> 00:31:22,460\nwhere we tell it where that resides, okay.\n\n611\n00:31:22,460 --> 00:31:27,370\nThe alias comes from the alias file,\nbut activating the Python script itself\n\n612\n00:31:27,370 --> 00:31:29,840\nis done with this line right here,\nthat's pretty important.\n\n613\n00:31:31,750 --> 00:31:35,950\nAnd then after that we've got where this\none's just reading a config file from\n\n614\n00:31:35,950 --> 00:31:36,730\nthis other one.\n\n615\n00:31:36,730 --> 00:31:38,370\nThis is where the alias was defined,\nright?\n\n616\n00:31:38,370 --> 00:31:40,900\nSo the alias is tying it all together.\n\n617\n00:31:40,900 --> 00:31:42,493\nSo that's what that PLIST file defines and\n\n618\n00:31:42,493 --> 00:31:44,585\nthis is what's gonna get it\nto show up in the server app.\n\n619\n00:31:45,915 --> 00:31:46,975\nSo I'll go ahead and save that.\n\n620\n00:31:46,975 --> 00:31:49,385\nAnd in real life land,\nyou can save a little bit of time and\n\n621\n00:31:49,385 --> 00:31:53,905\ncopy Apple's example and rename it to\nyours, and change it however you see fit.\n\n622\n00:31:53,905 --> 00:31:56,362\nThat's probably the easiest way.\n\n623\n00:31:56,362 --> 00:32:03,039\nAll right, now, I've created my Python\nscript, I've created the alias for it.\n\n624\n00:32:03,039 --> 00:32:06,940\nAnd I've added it to the list\nof web apps here in Apache.\n\n625\n00:32:06,940 --> 00:32:09,099\nI'm good to go.\n\n626\n00:32:09,099 --> 00:32:12,512\nMy personal experience is that you got\na 50/50 shot at this point at whether or\n\n627\n00:32:12,512 --> 00:32:14,950\nnot it's actually gonna\nshow up in the server app.\n\n628\n00:32:14,950 --> 00:32:18,030\nA lot of times you need to restart the web\nserver before it'll actually show up.\n\n629\n00:32:18,030 --> 00:32:21,010\nI'm gonna go ahead and\njust restart mine now because I.\n\n630\n00:32:22,110 --> 00:32:28,070\nThen I wanna take a 50-50 shot, so\nI'll just do a sudo apache ctl restart.\n\n631\n00:32:28,070 --> 00:32:29,410\nThat's gonna restart that web server.\n\n632\n00:32:29,410 --> 00:32:32,810\nThat will make sure that it patches\nall of its config files and so\n\n633\n00:32:32,810 --> 00:32:36,520\nit's gonna read those,\nit's gonna spot my new python app, and\n\n634\n00:32:36,520 --> 00:32:38,181\nit's gonna add it to the list\nof apps that it can run.\n\n635\n00:32:39,230 --> 00:32:42,148\nAnd at this stage, I should be\nable to go back to my server app,\n\n636\n00:32:42,148 --> 00:32:43,900\nI'm using the word should, right?\n\n637\n00:32:43,900 --> 00:32:46,990\nI got it in my technical CYA term there.\n\n638\n00:32:46,990 --> 00:32:50,120\nSo I'm gonna go to my website and\nI'll edit that site.\n\n639\n00:32:51,170 --> 00:32:55,500\nAnd now when I go to Advanced Settings,\nI should see my new app right there and\n\n640\n00:32:55,500 --> 00:32:57,152\nsure enough, I don't.\n\n641\n00:32:57,152 --> 00:33:00,020\nI'm gonna restart my server app\njust to be on the safe side.\n\n642\n00:33:00,020 --> 00:33:01,540\nThere's a few ways you can go about this.\n\n643\n00:33:01,540 --> 00:33:03,440\nYou can turn the server off.\n\n644\n00:33:03,440 --> 00:33:04,750\nAnd turn it back on is one way.\n\n645\n00:33:04,750 --> 00:33:06,480\nYou always have to wait for\nit to finish stopping.\n\n646\n00:33:06,480 --> 00:33:10,750\nThat's technically what I did when\nI ran the apache CTL restart.\n\n647\n00:33:10,750 --> 00:33:12,780\nBut we'll go ahead and do it again here.\n\n648\n00:33:12,780 --> 00:33:16,500\nAnother thing you can do is just exit\nthe server app altogether and come back.\n\n649\n00:33:16,500 --> 00:33:20,950\nThe server app is not the greatest about\nrefreshing to pick up changes you made\n\n650\n00:33:20,950 --> 00:33:22,490\noutside of the system, right?\n\n651\n00:33:22,490 --> 00:33:24,830\nSo I'm editing config files\nhere in the terminal,\n\n652\n00:33:24,830 --> 00:33:27,200\nand the server app doesn't\nexpect you to do that.\n\n653\n00:33:27,200 --> 00:33:29,460\nAnd that's not a bad thing, right?\n\n654\n00:33:29,460 --> 00:33:32,280\nThe server app is designed to make things\neasy through the GUI, so when you're\n\n655\n00:33:32,280 --> 00:33:36,060\nbypassing that, it's understandable that\nit can take a minute to pick that up.\n\n656\n00:33:36,060 --> 00:33:37,780\nSo we'll give it a moment\nwhile it sorts that out.\n\n657\n00:33:40,070 --> 00:33:42,270\nAnd then we should be good to go.\n\n658\n00:33:42,270 --> 00:33:44,580\nI don't think there is\nanything else I need to do.\n\n659\n00:33:44,580 --> 00:33:47,282\nSo I'm gonna go and edit my site.\n\n660\n00:33:47,282 --> 00:33:51,300\nAnd I'll go back in to my\nAdvanced Settings, and\n\n661\n00:33:51,300 --> 00:33:57,250\nI must have made a typo somewhere,\nbecause my web app is not showing up.\n\n662\n00:33:57,250 --> 00:33:58,870\nSo let me jump back.\n\n663\n00:33:58,870 --> 00:34:00,710\nI might have messed up some permissions.\n\n664\n00:34:00,710 --> 00:34:02,570\nOh, actually, I probably did.\n\n665\n00:34:02,570 --> 00:34:06,100\nRemember, Python apps are really\nparticular about permissions.\n\n666\n00:34:06,100 --> 00:34:10,700\nWhen I created the Python app, I made\nsure to set the right permissions on it.\n\n667\n00:34:10,700 --> 00:34:15,323\nBut when I created my Plist file, I don't\nbelieve I checked permissions on that,\n\n668\n00:34:15,323 --> 00:34:17,540\nso let me just double check real quick.\n\n669\n00:34:19,760 --> 00:34:23,350\nAny permissions that might be off there,\nand,\n\n670\n00:34:23,350 --> 00:34:25,130\nnope permissions are actually\ngood on that one.\n\n671\n00:34:25,130 --> 00:34:27,580\nI've got read, write, read, read.\n\n672\n00:34:27,580 --> 00:34:28,808\nIt's owned by root and wheel.\n\n673\n00:34:28,808 --> 00:34:35,000\nI've got tv.itpro.example.wsgl.plist.\n\n674\n00:34:35,000 --> 00:34:37,480\nAll right,\nlet me just double check that for a typo.\n\n675\n00:34:37,480 --> 00:34:38,880\nI cut and pasted config found and\n\n676\n00:34:38,880 --> 00:34:41,020\nit's possible that I had a typo\nin there from when I pulled in.\n\n677\n00:34:41,020 --> 00:34:42,250\nAll right everybody,\n\n678\n00:34:42,250 --> 00:34:45,980\nthis is one of those times we have to\ndo a little creative edit for ITProTV.\n\n679\n00:34:45,980 --> 00:34:48,760\n[LAUGH] I followed my steps through and\ncreated that app, and for\n\n680\n00:34:48,760 --> 00:34:51,080\nsome reason it wasn't\nshowing up in the server app.\n\n681\n00:34:51,080 --> 00:34:53,400\nSo I took a little break there to\nfind out where the problem was.\n\n682\n00:34:53,400 --> 00:34:57,820\nAnd it turns out, when I cut and paste the\npreference file, you guys might have seen\n\n683\n00:34:57,820 --> 00:35:02,015\nthis while I was doing it, I left out the\nfirst two lines of that preference file.\n\n684\n00:35:02,015 --> 00:35:04,045\nLet me show you the two\nlines that I left out.\n\n685\n00:35:04,045 --> 00:35:09,185\nSo basically when I grab that, it picked\nup and either I didn't copy it or\n\n686\n00:35:09,185 --> 00:35:11,245\nsomething went wrong with the copy and\npaste where it didn't get it all.\n\n687\n00:35:11,245 --> 00:35:13,345\nBut it basically started right here and\n\n688\n00:35:13,345 --> 00:35:15,685\nit left out the fact that\nthis was an XML document.\n\n689\n00:35:15,685 --> 00:35:16,355\nIt didn't have that header.\n\n690\n00:35:16,355 --> 00:35:18,565\nAnd without the header,\nit wasn't able to load this and\n\n691\n00:35:18,565 --> 00:35:20,545\nthat's why my app wasn't registering.\n\n692\n00:35:20,545 --> 00:35:22,275\nSo it was just a bad copy and paste.\n\n693\n00:35:22,275 --> 00:35:24,525\nBut once I grab that data.\n\n694\n00:35:24,525 --> 00:35:26,160\nI actually got the entirety of it and\n\n695\n00:35:26,160 --> 00:35:28,570\npasted it into my little\nregistration file.\n\n696\n00:35:28,570 --> 00:35:32,680\nNow, I was able to restart Apache and\nthe app showed up like expected.\n\n697\n00:35:32,680 --> 00:35:34,860\nSo let me show you what that looks like.\n\n698\n00:35:34,860 --> 00:35:38,970\nOnce it works right, once you get\nyour files in their proper form,\n\n699\n00:35:38,970 --> 00:35:44,970\nyou can restart that app and then we\ncan go to our site, edit our website.\n\n700\n00:35:44,970 --> 00:35:48,470\nAnd under advanced settings, your app\nshould now show up right there, and\n\n701\n00:35:48,470 --> 00:35:49,440\nthat's exactly what I'm seeing.\n\n702\n00:35:49,440 --> 00:35:51,430\nExample python app at /example.\n\n703\n00:35:51,430 --> 00:35:53,640\nThat's what I just registered, all right.\n\n704\n00:35:53,640 --> 00:35:55,630\nSo quite a few steps we\nhad to go through there.\n\n705\n00:35:55,630 --> 00:35:58,650\nWe created the python script,\nor application.\n\n706\n00:35:58,650 --> 00:36:03,750\nWe created the alias for it, and then we\nhad to register it with the system so\n\n707\n00:36:03,750 --> 00:36:04,780\nthat it would show up here on this screen.\n\n708\n00:36:04,780 --> 00:36:05,900\nAnd it was that registration part.\n\n709\n00:36:05,900 --> 00:36:07,380\nThat's where my problem was.\n\n710\n00:36:07,380 --> 00:36:09,440\nBut once it's there, you can check it off.\n\n711\n00:36:09,440 --> 00:36:11,500\nAnd now it's active for this site.\n\n712\n00:36:11,500 --> 00:36:13,590\nAnd if anybody were to\nbrowse through this site and\n\n713\n00:36:13,590 --> 00:36:17,510\ngo to /example,\nmy Python application would run.\n\n714\n00:36:17,510 --> 00:36:18,660\nWell, we can test that out.\n\n715\n00:36:18,660 --> 00:36:21,070\nI gotta wait just a second\nwhile it saves that.\n\n716\n00:36:21,070 --> 00:36:22,310\nThere we go.\n\n717\n00:36:22,310 --> 00:36:24,310\nAnd now I'll jump over to a client,\n\n718\n00:36:24,310 --> 00:36:26,540\nwhich I took long enough\nthat it's gone to sleep.\n\n719\n00:36:26,540 --> 00:36:29,950\nAnd I can fire up a web browser,\nbrowse to that site.\n\n720\n00:36:29,950 --> 00:36:34,250\nAnd before when I browsed I went to that\n/wsgi because that was the Apple one.\n\n721\n00:36:34,250 --> 00:36:38,060\nThis time I'll go to /example\ncuz that's where my web app is.\n\n722\n00:36:38,060 --> 00:36:42,720\nAnd sure enough, the web app executes and\nI see this text is rendered using Python.\n\n723\n00:36:42,720 --> 00:36:46,660\nThat's the message that my Python\napp was set to display, all right.\n\n724\n00:36:46,660 --> 00:36:48,120\nSo now it's up and it's going.\n\n725\n00:36:48,120 --> 00:36:50,410\nBut you guys can see where this\nis kind of a challenging one.\n\n726\n00:36:50,410 --> 00:36:53,520\nAnd if you've never done it before,\nyou don't necessarily know all the steps.\n\n727\n00:36:53,520 --> 00:36:55,680\nAnd the documentation that's out there,\neven on Apple's site,\n\n728\n00:36:55,680 --> 00:36:56,930\nis really not very thorough on it.\n\n729\n00:36:56,930 --> 00:36:59,590\nSo I wanted to just film a little\nsegment where we kinda showed that.\n\n730\n00:36:59,590 --> 00:37:04,050\nI doubt you'll see any of these last parts\non the exam, but it is good to know,\n\n731\n00:37:04,050 --> 00:37:07,720\nso you stick a little feather in\nthe back of your cap or whatever and\n\n732\n00:37:07,720 --> 00:37:09,840\nknow that it's there if you ever need it.\n\n733\n00:37:09,840 --> 00:37:14,160\nAll right, well, so in this episode we\ngot a chance to see some of the advanced\n\n734\n00:37:14,160 --> 00:37:17,600\nsettings that we can do on top of\nwebsites, especially that htaccess file,\n\n735\n00:37:17,600 --> 00:37:19,650\nbecause that does give you a lot of power.\n\n736\n00:37:19,650 --> 00:37:22,690\nAnd like I said, I'll put a link in the\nshow notes so that you can get to that.\n\n737\n00:37:22,690 --> 00:37:27,170\nAnd then in the last part of the episode,\nI covered the Python applications and\n\n738\n00:37:27,170 --> 00:37:30,260\nall the different steps that I went\nthrough for that Python app, they're all\n\n739\n00:37:30,260 --> 00:37:33,900\nright there in the show notes too, as well\nas the sample app that I used for testing.\n\n740\n00:37:33,900 --> 00:37:35,170\nSo you guys can go through it.\n\n741\n00:37:35,170 --> 00:37:36,030\nAnd who knows?\n\n742\n00:37:36,030 --> 00:37:38,382\nMaybe you can fail the copy and\npaste just like I did.\n\n743\n00:37:38,382 --> 00:37:40,570\nBut [LAUGH] otherwise,\nyou can throw it in there and\n\n744\n00:37:40,570 --> 00:37:42,870\nyou'll have your own Python app up and\nrunning.\n\n745\n00:37:42,870 --> 00:37:43,370\nVery exciting.\n\n746\n00:37:44,600 --> 00:37:47,430\nAll right, well,\nthat's about all I've got for websites.\n\n747\n00:37:47,430 --> 00:37:50,300\nWe do still have other technologies\nthat are closely related, though, so\n\n748\n00:37:50,300 --> 00:37:50,800\nstay tuned.\n\n749\n00:37:50,800 --> 00:37:54,970\nWe've got an episode coming up on the Wiki\nfunctionality and blog functionality.\n\n750\n00:37:54,970 --> 00:37:57,320\nThose are a part of websites also so\nstay tuned for that.\n\n751\n00:37:57,320 --> 00:38:00,230\nBut with this episode,\nwe're gonna wrap it up here.\n\n752\n00:38:00,230 --> 00:38:02,660\nLet me remind you guys,\nif you have any questions on this,\n\n753\n00:38:02,660 --> 00:38:05,240\nlive during the show you\ncan go to itpro.tv/live.\n\n754\n00:38:05,240 --> 00:38:08,150\nYou'll see the chatroom\nright beneath the video.\n\n755\n00:38:08,150 --> 00:38:09,090\nPost your questions there.\n\n756\n00:38:09,090 --> 00:38:11,220\nWe monitor and answer during the show.\n\n757\n00:38:11,220 --> 00:38:14,710\nIf you have questions after the show,\nuse our Q&A forums.\n\n758\n00:38:14,710 --> 00:38:16,530\nOn any page on the ITProTV website,\n\n759\n00:38:16,530 --> 00:38:19,270\nyou'll see a link that says Q&A\nup at the top of the screen.\n\n760\n00:38:19,270 --> 00:38:20,000\nClick on it.\n\n761\n00:38:20,000 --> 00:38:22,470\nIt'll take you to the forums,\nyou can post your questions there.\n\n762\n00:38:22,470 --> 00:38:24,020\nWe monitor and answer after the show.\n\n763\n00:38:24,020 --> 00:38:25,810\nTake advantage of those resources.\n\n764\n00:38:25,810 --> 00:38:27,700\nThey are there for you.\n\n765\n00:38:27,700 --> 00:38:29,680\nI hope you guys enjoyed today's episode.\n\n766\n00:38:29,680 --> 00:38:33,733\nSigning off for ITProTV,\nI'm Don Pezet and I'll see you next time.\n\n767\n00:38:33,733 --> 00:38:43,733\n[MUSIC]\n\n",
          "vimeoId": "125900846"
        }
      ],
      "title": "Providing Network Services"
    },
    {
      "episodes": [
        {
          "description": null,
          "length": "1613",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-7-1-wikis-042315-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-7-1-wikis-042315-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-7-1-wikis-042315-1-sm.jpg",
          "title": "Wikis",
          "transcript": "1\n00:00:00,000 --> 00:00:10,000\n[MUSIC]\n\n2\n00:00:15,265 --> 00:00:22,509\n[SOUND]\n\n3\n00:00:22,509 --> 00:00:33,409\n[MUSIC]\n\n4\n00:00:33,409 --> 00:00:36,487\nAll right, good morning,\ngood afternoon, and good evening, and\n\n5\n00:00:36,487 --> 00:00:38,549\nwelcome back to another\nepisode of ITProTV.\n\n6\n00:00:38,549 --> 00:00:41,254\nI'm your host Don Pezet back\nagain with another episode of\n\n7\n00:00:41,254 --> 00:00:43,790\nApple Certified Technical Coordinator.\n\n8\n00:00:43,790 --> 00:00:46,670\nIn this episode we're gonna be\ntaking at the Wiki service that's\n\n9\n00:00:46,670 --> 00:00:50,360\nincluded with the Server\napp in Mac OS X Yosemite.\n\n10\n00:00:50,360 --> 00:00:54,890\nNow the Wiki service is very closely\nrelated to the website service.\n\n11\n00:00:54,890 --> 00:00:57,130\nIn the website service,\nif you've watched those episodes,\n\n12\n00:00:57,130 --> 00:01:00,100\nwe saw how you can bring up\na web server and host web pages.\n\n13\n00:01:00,100 --> 00:01:01,070\nThat's cool.\n\n14\n00:01:01,070 --> 00:01:04,590\nBut typically what most companies\ndo is they have web developers or\n\n15\n00:01:04,590 --> 00:01:07,150\nstaff that creates those pages and\nputs them on there.\n\n16\n00:01:07,150 --> 00:01:12,350\nWouldn't it be nice if we could have\npages,that anybody could contribute to and\n\n17\n00:01:12,350 --> 00:01:14,720\nthat's where wikis came about.\n\n18\n00:01:14,720 --> 00:01:16,850\nWikis are very common on the Internet.\n\n19\n00:01:16,850 --> 00:01:21,060\nIf you've never used one, I find that hard\nto believe, but maybe some people haven't.\n\n20\n00:01:21,060 --> 00:01:25,030\nThe biggest example would be Wikipedia,\nthe online encyclopedia.\n\n21\n00:01:25,030 --> 00:01:28,580\nAnybody can go to that website, you\nsign up for an account, and then you can\n\n22\n00:01:28,580 --> 00:01:32,270\nedit pages and add your own content or\nremove content or have some fun.\n\n23\n00:01:32,270 --> 00:01:35,970\nWell, that's what Wikipedia is all about,\nand that's what wikis in general are.\n\n24\n00:01:35,970 --> 00:01:38,900\nThey're a great way to\ndo group collaboration.\n\n25\n00:01:38,900 --> 00:01:41,920\nWell, inside of the wiki service\ninside of the Server app,\n\n26\n00:01:41,920 --> 00:01:44,530\nit actually has two different\nmethods of function.\n\n27\n00:01:44,530 --> 00:01:46,460\nThe Primary function is that is a Wiki.\n\n28\n00:01:46,460 --> 00:01:50,160\nSo you can have all of your employees, or\nyou can set permissions, you can limit it\n\n29\n00:01:50,160 --> 00:01:54,870\nto a particular group, can access\nthe Wiki, read the content, edit it,\n\n30\n00:01:54,870 --> 00:01:59,310\nadd more content and build out webpages,\nwithout having it have access to the file\n\n31\n00:01:59,310 --> 00:02:03,295\nsystem underneath, without having to know\nhow to write html or anything like that.\n\n32\n00:02:03,295 --> 00:02:05,820\nThey can just use a WYSI WYG wig editor,\n\n33\n00:02:05,820 --> 00:02:10,380\na what you see is what you get editor and\nmodify the content.\n\n34\n00:02:10,380 --> 00:02:12,170\nAnd get some really good stuff in place.\n\n35\n00:02:12,170 --> 00:02:14,980\nSo, wikis are really\npopular from that aspect.\n\n36\n00:02:14,980 --> 00:02:19,690\nThe second method that a wiki can\nfunction in the Server app, is as a blog.\n\n37\n00:02:19,690 --> 00:02:21,530\nAnd blogs are a little different.\n\n38\n00:02:21,530 --> 00:02:27,560\nThe blog, the idea is that somebody,\nusually a person, but it could be a group.\n\n39\n00:02:27,560 --> 00:02:31,150\nIs posting information they\nwant other people to see.\n\n40\n00:02:31,150 --> 00:02:35,330\nAnd they post maybe once a day,\nonce a week, however often,\n\n41\n00:02:35,330 --> 00:02:37,320\nthose posts kinda accumulate.\n\n42\n00:02:37,320 --> 00:02:39,360\nAnd instead of browsing to a site and\n\n43\n00:02:39,360 --> 00:02:42,710\nhaving navigation trees,\nyou move through the various pages,\n\n44\n00:02:42,710 --> 00:02:47,990\nwith a blog, you just see post after post\nafter post in a chronological order.\n\n45\n00:02:47,990 --> 00:02:50,770\nSo normally you see the newest post first,\nthen the next post, and\n\n46\n00:02:50,770 --> 00:02:52,380\nthe next post, and so on.\n\n47\n00:02:52,380 --> 00:02:54,450\nIt's how a number of\ndifferent websites work.\n\n48\n00:02:54,450 --> 00:02:58,560\nI know every single day I go to a website\ncalled Slashdot, and that's what they do.\n\n49\n00:02:58,560 --> 00:03:01,780\nThey post news stories, and\nyou see them, it's effectively a blog.\n\n50\n00:03:01,780 --> 00:03:04,400\nSomebody's Facebook feed,\nthat's effectively a blog, right?\n\n51\n00:03:04,400 --> 00:03:07,290\nThey post little messages, and\nthey show up in their feed.\n\n52\n00:03:07,290 --> 00:03:12,180\nWell the Wiki service inside of the Server\napp can function as a blog too.\n\n53\n00:03:12,180 --> 00:03:16,170\nThe thing is, with a blog you\nnormally have one person or\n\n54\n00:03:16,170 --> 00:03:20,180\na particular group that's posting to it,\nversus a Wiki that is oftentimes open for\n\n55\n00:03:20,180 --> 00:03:21,940\neverybody to post to it.\n\n56\n00:03:21,940 --> 00:03:24,650\nSo it works a little bit different,\nand I want to show you guys both\n\n57\n00:03:24,650 --> 00:03:27,880\nconfigurations so that you're aware of it,\nnot just because it's on the exam, but\n\n58\n00:03:27,880 --> 00:03:30,510\nalso because you may\nuse this in real life.\n\n59\n00:03:30,510 --> 00:03:33,240\nAll right, so,\nthe first thing I want to comment on.\n\n60\n00:03:33,240 --> 00:03:36,440\nIf we want to turn on the Wiki service,\nit's really easy.\n\n61\n00:03:36,440 --> 00:03:39,910\nWe just go down to Wiki, and\nwe flip the On button, right.\n\n62\n00:03:39,910 --> 00:03:41,000\nPow.\nWe're a Wiki server.\n\n63\n00:03:41,000 --> 00:03:43,310\nAnd most of these Server\napps are just like that.\n\n64\n00:03:43,310 --> 00:03:45,570\nBut there is something\nthat's a little confusing.\n\n65\n00:03:45,570 --> 00:03:52,300\nThe Wiki service is up and running,\nand it's running in the /Wiki folder,\n\n66\n00:03:52,300 --> 00:03:57,270\nsee how it says available at, my server\nis called osx-server1.lab.itpro.tv,\n\n67\n00:03:57,270 --> 00:04:02,000\nand it's saying that it can\nget there at Server/Wiki.\n\n68\n00:04:02,000 --> 00:04:06,490\nWell, the Wiki is a webpage, so\na lot of people think that you\n\n69\n00:04:06,490 --> 00:04:11,660\nhave to be running the website's server\nalso in order for the Wiki to work.\n\n70\n00:04:11,660 --> 00:04:12,990\nAnd that's actually not true.\n\n71\n00:04:12,990 --> 00:04:16,100\nYou don't have to run the website\nservice if you don't want to.\n\n72\n00:04:16,100 --> 00:04:20,980\nThe website service and the Wiki service\nare both running Apache in the background,\n\n73\n00:04:20,980 --> 00:04:23,670\nbut they are two separate entities, so\n\n74\n00:04:23,670 --> 00:04:26,810\none can be disabled without\naffecting the other, all right?\n\n75\n00:04:26,810 --> 00:04:27,710\nLet me show you what I mean.\n\n76\n00:04:27,710 --> 00:04:30,160\nIf I take this default website here.\n\n77\n00:04:30,160 --> 00:04:34,300\nAnd I go over to a client machine.\n\n78\n00:04:35,350 --> 00:04:43,130\nI can browse to\nhttp://osx-server1.lab.itpro.tv.\n\n79\n00:04:43,130 --> 00:04:47,390\nAnd if I browse to that,\nI'm hitting my websites service.\n\n80\n00:04:48,550 --> 00:04:54,510\nBut if I add /wiki to the end of it\nnow I'm hitting the Wiki service.\n\n81\n00:04:54,510 --> 00:04:57,490\nAlright, two different services,\nand I can see that more\n\n82\n00:04:57,490 --> 00:05:00,000\nclearly if I go back over to\nthe Server and turn one of them off.\n\n83\n00:05:00,000 --> 00:05:01,750\nI'm gonna turn the website service off.\n\n84\n00:05:03,150 --> 00:05:07,700\nSo now, if I give it a second, it takes\na moment to stop, but once it stops,\n\n85\n00:05:07,700 --> 00:05:11,850\nthe website service will be stopped,\nand the Wiki service is still running.\n\n86\n00:05:11,850 --> 00:05:15,240\nIf I go back over to that same client, and\n\n87\n00:05:15,240 --> 00:05:19,200\nfire up a new Safari window and\ntry to browse to that server.\n\n88\n00:05:19,200 --> 00:05:24,350\nAll right so I'm just going to\nbrowse right to the server.\n\n89\n00:05:24,350 --> 00:05:25,730\nWell, I've cached the page.\n\n90\n00:05:25,730 --> 00:05:26,750\nShoot.\n\n91\n00:05:26,750 --> 00:05:28,330\nI've cached it, so\nit's gonna bring that up.\n\n92\n00:05:28,330 --> 00:05:31,260\nBut what we'll normally get is\nthat it can't access the server,\n\n93\n00:05:31,260 --> 00:05:32,760\nthe server is off.\n\n94\n00:05:32,760 --> 00:05:35,450\nBut then if we add /wiki,\n\n95\n00:05:35,450 --> 00:05:39,210\nwe can still get to that wiki even\nthough the web sites service is down.\n\n96\n00:05:39,210 --> 00:05:42,520\nAnd the wiki one, it doesn't get cached,\nbecause it's gotta refresh,\n\n97\n00:05:42,520 --> 00:05:45,340\njust show if it's got new content so\nI know I'm seeing that live page.\n\n98\n00:05:46,510 --> 00:05:49,370\nNow, when you browse to the Wiki server,\nyou see this screen right here.\n\n99\n00:05:49,370 --> 00:05:50,690\nA simple welcome, and\n\n100\n00:05:50,690 --> 00:05:54,240\nit's introducing you to the idea\nof how to create wikis, and so on.\n\n101\n00:05:54,240 --> 00:05:58,850\nI've turned on the Wiki service but\nI actually don't have any Wikis yet.\n\n102\n00:05:58,850 --> 00:06:00,130\nSo we need to make one.\n\n103\n00:06:00,130 --> 00:06:03,610\nAnd before we can make one,\nwe need to log in.\n\n104\n00:06:03,610 --> 00:06:07,140\nWhen you create a Wiki,\nit's going to be tied to a user account.\n\n105\n00:06:07,140 --> 00:06:10,820\nWhoever created it is\nthe Administrator for that Wiki.\n\n106\n00:06:10,820 --> 00:06:14,490\nAnd the Administrator can then\ndetermine who's allowed to edit it.\n\n107\n00:06:14,490 --> 00:06:17,720\nYou might have one that you want\neverybody to be able to comment on.\n\n108\n00:06:17,720 --> 00:06:21,150\nYou might have one that you might want to\nbe a little bit more Strictive to, and\n\n109\n00:06:21,150 --> 00:06:22,756\nit's up to that\nadministrator to define it.\n\n110\n00:06:22,756 --> 00:06:27,690\nSo I'm gonna log in, and\nwhen i go to log in,\n\n111\n00:06:27,690 --> 00:06:30,880\nyou can see it's remembering my password\nthat I've used on the server before, so\n\n112\n00:06:30,880 --> 00:06:34,670\nI can fill that in or I can type in\na different account if I wanted to.\n\n113\n00:06:34,670 --> 00:06:37,040\nBut I'll go ahead and get logged in here.\n\n114\n00:06:37,040 --> 00:06:40,750\nAnd I'm just logged in as a regular user,\nI'm not an Administrator.\n\n115\n00:06:40,750 --> 00:06:43,910\nAnybody can create a Wiki by default.\n\n116\n00:06:43,910 --> 00:06:49,190\nWhen I turned on the Wiki service,\nI just hit the Onswitch, that's all I did.\n\n117\n00:06:49,190 --> 00:06:52,400\nBut right beneath it,\nyou'll see Permissions.\n\n118\n00:06:52,400 --> 00:06:56,130\nAnd it says all users can create Wikis.\n\n119\n00:06:56,130 --> 00:07:00,810\nThat is why I can log in as John Doe, as\na regular user, and start to make Wikis.\n\n120\n00:07:00,810 --> 00:07:03,520\nIf you don't want all of your\nusers to be able to do that,\n\n121\n00:07:03,520 --> 00:07:07,110\nyou'll want to edit that permission and\nfrom there, you can limit it down.\n\n122\n00:07:07,110 --> 00:07:10,490\nAnd you can say only these users\nare allowed to create a Wiki.\n\n123\n00:07:10,490 --> 00:07:13,330\nMaybe you create a Wiki group,\nlike a Wiki admins, and\n\n124\n00:07:13,330 --> 00:07:15,520\nthose are the people who are allowed\nto go in and create Wikis.\n\n125\n00:07:15,520 --> 00:07:17,110\nSo that gives you that control.\n\n126\n00:07:17,110 --> 00:07:21,800\nBut for my case I want all my users\nto be able to create their own Wikis.\n\n127\n00:07:21,800 --> 00:07:24,620\nThe only other option on this\nscreen is right here Enable WebDAV\n\n128\n00:07:24,620 --> 00:07:26,440\naccess to the wiki files.\n\n129\n00:07:26,440 --> 00:07:30,690\nWebDAV is Web Distributed Authoring and\nVersioning.\n\n130\n00:07:30,690 --> 00:07:35,360\nAnd it's a open standards protocol\nthat allows editing of webpages from\n\n131\n00:07:35,360 --> 00:07:36,890\nthird party applications.\n\n132\n00:07:36,890 --> 00:07:37,780\nThe only real use for\n\n133\n00:07:37,780 --> 00:07:41,870\nit here is if you want to allow iOS users,\npeople who are on an iPad or iPhone.\n\n134\n00:07:41,870 --> 00:07:43,780\nIf you want to allow them\nto be able to go in and\n\n135\n00:07:43,780 --> 00:07:47,250\nedit these web pages you'll\nneed to turn on WebDAV access.\n\n136\n00:07:47,250 --> 00:07:49,902\nBut if you're not gonna support that\nyou can turn it off and that's it.\n\n137\n00:07:49,902 --> 00:07:56,171\nYou just basically jump in and\nyou edit it via a regular web browser.\n\n138\n00:07:56,171 --> 00:07:56,984\nBut I'll leave that on.\n\n139\n00:07:56,984 --> 00:07:59,608\nIt's on by default.\n\n140\n00:07:59,608 --> 00:08:04,100\nAll right, so log in as John Doe here,\nI can create my first Wiki.\n\n141\n00:08:04,100 --> 00:08:06,830\nYou've got a little plus icon\nup at the top of the page.\n\n142\n00:08:06,830 --> 00:08:07,710\nAnd I can click that.\n\n143\n00:08:07,710 --> 00:08:11,830\nAnd you'll see where I can add new pages,\nif I just want to create a web page.\n\n144\n00:08:11,830 --> 00:08:14,120\nOr I can create a new Wiki.\n\n145\n00:08:14,120 --> 00:08:19,110\nIf I create a web page, that's a page\nthat I'm allowed to edit and update, and\n\n146\n00:08:19,110 --> 00:08:20,690\nnobody else can mess with it.\n\n147\n00:08:20,690 --> 00:08:23,040\nThey can read it, but\nthey can't change it.\n\n148\n00:08:23,040 --> 00:08:25,700\nA Wiki on the other hand,\ngives us a lot more flexibility.\n\n149\n00:08:28,130 --> 00:08:29,700\nAll right.\nWe had a question in the chat room about\n\n150\n00:08:29,700 --> 00:08:31,880\nwhether or not Windows has a Wiki service.\n\n151\n00:08:31,880 --> 00:08:33,280\nThey don't have one built in.\n\n152\n00:08:33,280 --> 00:08:36,720\nMicrosoft has a product called SharePoint,\nand SharePoint is what they push for Wiki,\n\n153\n00:08:36,720 --> 00:08:38,250\nis it's pretty heavy handed.\n\n154\n00:08:38,250 --> 00:08:43,670\nWhat I just did here in OS-10, I flicked\nan on switch and we had the Wiki.\n\n155\n00:08:43,670 --> 00:08:45,490\nWindows is a lot more involved.\n\n156\n00:08:45,490 --> 00:08:48,550\nYou gotta install the share point server,\nset up a database and all that.\n\n157\n00:08:48,550 --> 00:08:50,650\nIt's a bit of a bear.\n\n158\n00:08:50,650 --> 00:08:51,800\nBut that's their solution.\n\n159\n00:08:51,800 --> 00:08:56,210\nSo I'm gonna create this Wiki,\nand I'll just give it a name.\n\n160\n00:08:56,210 --> 00:09:02,830\nThis is my corporate bulletin board,\nright?\n\n161\n00:09:02,830 --> 00:09:05,990\nSo this is gonna be a Wiki that\neverybody in the company can post to and\n\n162\n00:09:05,990 --> 00:09:09,330\nshare their ideas and\ninformation, and I'll create it.\n\n163\n00:09:09,330 --> 00:09:13,660\nNow I am automatically the administrator,\ncuz I'm the one who made it.\n\n164\n00:09:13,660 --> 00:09:16,340\nBut now I can set permissions for\nother people.\n\n165\n00:09:16,340 --> 00:09:19,600\nI might wanna say that\nif anybody is logged in,\n\n166\n00:09:19,600 --> 00:09:21,900\nthey are allowed to read and write.\n\n167\n00:09:21,900 --> 00:09:24,950\nI want everybody to be able to\ncome in here and modify this.\n\n168\n00:09:25,990 --> 00:09:29,650\nBut if you're not authenticated, if\nyou're not logged in, you can only read.\n\n169\n00:09:29,650 --> 00:09:32,195\nYou can read this page,\nbut you can't modify it.\n\n170\n00:09:32,195 --> 00:09:33,925\nI can also add in specific people.\n\n171\n00:09:33,925 --> 00:09:37,875\nSo maybe I have a coworker like Jane Doe,\nand\n\n172\n00:09:37,875 --> 00:09:39,817\nI want Jane to help me\nout as an administrator.\n\n173\n00:09:39,817 --> 00:09:43,115\nI wanna give here read and write or even\nowner privileges so she can do whatever\n\n174\n00:09:43,115 --> 00:09:47,280\nshe wants to this blog, the difference\nbetween read and write and owner.\n\n175\n00:09:47,280 --> 00:09:50,200\nRead and write can change or\nmodify anything they want, but\n\n176\n00:09:50,200 --> 00:09:52,890\nif you're the owner,\nyou can also change these permissions.\n\n177\n00:09:52,890 --> 00:09:54,630\nYou can come and\nchange the settings on the blog itself.\n\n178\n00:09:54,630 --> 00:09:56,260\nSo it's a little more than just read and\nwrite.\n\n179\n00:09:59,150 --> 00:10:01,110\nOn the next page I pick my Wiki icon,\n\n180\n00:10:01,110 --> 00:10:03,220\nif I want it to have a different\nicon then the pencils.\n\n181\n00:10:03,220 --> 00:10:06,290\nYou can upload your own and\nI can pick a color them for it.\n\n182\n00:10:06,290 --> 00:10:08,110\nI maybe I want this one to\nhave a green color theme.\n\n183\n00:10:10,050 --> 00:10:14,090\nAnd I'll create it, and\nnow I've got a corporate bulletin board.\n\n184\n00:10:14,090 --> 00:10:15,790\nAnd this is a Wiki.\n\n185\n00:10:15,790 --> 00:10:19,830\nAnybody in the company, because I gave all\nauthenticated users the ability to edit,\n\n186\n00:10:19,830 --> 00:10:25,460\nanybody can come to this page, log in,\nand start to add data to it, all right?\n\n187\n00:10:25,460 --> 00:10:28,720\nThis page right here is the only\npage that is created by default,\n\n188\n00:10:28,720 --> 00:10:33,480\nand people typically use this as an index\npage, an index of all the different.\n\n189\n00:10:33,480 --> 00:10:35,330\nStuff that they've got out there.\n\n190\n00:10:35,330 --> 00:10:39,060\nAnd we can then start to add\nadditional pages for what we want.\n\n191\n00:10:39,060 --> 00:10:40,090\nAs a user,\n\n192\n00:10:40,090 --> 00:10:43,820\nwhen I go up to the plus sign up here,\nI can choose to create a new Wiki.\n\n193\n00:10:43,820 --> 00:10:47,530\nBut see how it's got New Page\nin Corporate Bulletin Board.\n\n194\n00:10:47,530 --> 00:10:50,040\nOr Upload File to\nCorporate Bulletin Board,\n\n195\n00:10:50,040 --> 00:10:51,470\nI can start to create new web pages.\n\n196\n00:10:51,470 --> 00:10:53,560\nOr I can upload my own files, PDFs.\n\n197\n00:10:53,560 --> 00:10:54,480\nThings like that.\n\n198\n00:10:54,480 --> 00:10:56,170\nAnd throw them here into the Wiki and\n\n199\n00:10:56,170 --> 00:10:58,630\nnow everybody will have access to those,\nright?\n\n200\n00:10:58,630 --> 00:11:01,870\nGreat way to collaborate and\nshare that information.\n\n201\n00:11:01,870 --> 00:11:03,730\nThis home page just has sample data on it.\n\n202\n00:11:03,730 --> 00:11:08,170\nI can come in and edit that, and this is\nthe WYSIWYG editor I was talking about.\n\n203\n00:11:08,170 --> 00:11:10,380\nI just hit the pencil icon\nat the top of the page.\n\n204\n00:11:10,380 --> 00:11:12,170\nThat puts us into edit mode.\n\n205\n00:11:12,170 --> 00:11:14,980\nAnd now I can come in, and I can start\nto wipe a lot of this stuff out.\n\n206\n00:11:14,980 --> 00:11:18,330\nAnd so, I'll just empty that out,\nand now I'll start to type in,\n\n207\n00:11:18,330 --> 00:11:23,380\nWelcome to the Corporate Bulletin Board.\n\n208\n00:11:26,225 --> 00:11:30,895\nAnd, I'll say this is\navailable to all employees.\n\n209\n00:11:30,895 --> 00:11:31,655\nAll right.\n\n210\n00:11:31,655 --> 00:11:35,675\nSo this is a WYSIWYG editor, and what that\nmeans is what you see is what you get.\n\n211\n00:11:35,675 --> 00:11:38,945\nWhat I'm typing here is exactly\nhow it's gonna look to my users.\n\n212\n00:11:38,945 --> 00:11:42,665\nI might wanna take some of this,\nand change it a little bit.\n\n213\n00:11:42,665 --> 00:11:47,635\nI might wanna have a big message at the\ntop that says corporate bulletin board.\n\n214\n00:11:47,635 --> 00:11:48,705\nAnd I might want it to be.\n\n215\n00:11:50,100 --> 00:11:51,970\nMaybe centered up.\n\n216\n00:11:51,970 --> 00:11:54,980\nSo I'll center that and\nwe'll make it bold.\n\n217\n00:11:54,980 --> 00:11:58,960\nActually, maybe we'll give it\nfull emphasis and underscore.\n\n218\n00:11:58,960 --> 00:12:00,450\nWe can really go crazy with this.\n\n219\n00:12:00,450 --> 00:12:01,195\nIt's a good time.\n\n220\n00:12:01,195 --> 00:12:04,290\n[LAUGH] So, you go through and\nyou set all the things you want.\n\n221\n00:12:04,290 --> 00:12:06,200\nWe can make it a large header.\n\n222\n00:12:06,200 --> 00:12:06,910\nThat was effective.\n\n223\n00:12:08,680 --> 00:12:11,305\nApparently the large header is\nnot very large for me today.\n\n224\n00:12:11,305 --> 00:12:13,710\n[LAUGH] But you can go through and\nset all this up.\n\n225\n00:12:13,710 --> 00:12:14,930\nProbably cuz I've got emphasis set.\n\n226\n00:12:14,930 --> 00:12:16,480\nI might need to turn that off.\n\n227\n00:12:18,650 --> 00:12:20,750\nThere we go, now it's larger.\n\n228\n00:12:20,750 --> 00:12:23,070\nSo you can come through and\ndefine this and get it all set up.\n\n229\n00:12:23,070 --> 00:12:26,380\nAnd the way it looks here is how\nit's gonna look for the other users.\n\n230\n00:12:26,380 --> 00:12:28,280\nAnd when we save that.\n\n231\n00:12:28,280 --> 00:12:29,230\nThere we go.\n\n232\n00:12:29,230 --> 00:12:30,830\nNow that's that web page.\n\n233\n00:12:30,830 --> 00:12:32,560\nI didn't have to know HTML.\n\n234\n00:12:32,560 --> 00:12:35,590\nI didn't have to fire up a separate\nweb authoring software package or\n\n235\n00:12:35,590 --> 00:12:36,260\nanything like that.\n\n236\n00:12:36,260 --> 00:12:39,770\nI did it right here on the page,\nreally simple, really easy.\n\n237\n00:12:39,770 --> 00:12:42,340\nAnd that's kind of the point of a Wiki.\n\n238\n00:12:42,340 --> 00:12:46,620\nIf I remember, Wiki is derived from\nsome Hawaiian term that means fast, or\n\n239\n00:12:46,620 --> 00:12:48,240\nswift, something like that.\n\n240\n00:12:48,240 --> 00:12:49,610\nAnd so\nthat's exactly how this is designed.\n\n241\n00:12:49,610 --> 00:12:54,780\nI can quickly add information into it, and\nmy other users will now have access to it.\n\n242\n00:12:54,780 --> 00:12:56,020\nOne of the negatives about a Wiki,\n\n243\n00:12:56,020 --> 00:12:59,640\nthough, is that it doesn't really\nhave good navigation capabilities.\n\n244\n00:12:59,640 --> 00:13:00,820\nLet me show you what I mean.\n\n245\n00:13:00,820 --> 00:13:06,660\nIf I go back to my Wiki screen, I might\nwanna create a more protected Wiki, right.\n\n246\n00:13:06,660 --> 00:13:08,670\nLet's say an Employee Handbook.\n\n247\n00:13:08,670 --> 00:13:10,320\nSo I'm gonna come in here and\ncreate a new Wiki,\n\n248\n00:13:10,320 --> 00:13:12,790\nwhich I'll call the Employee Handbook.\n\n249\n00:13:13,902 --> 00:13:15,380\nAll right, and\n\n250\n00:13:15,380 --> 00:13:19,010\nin my Employee Handbook, I want all\nof my users to be able to read it.\n\n251\n00:13:19,010 --> 00:13:21,980\nIf you're authenticated, I don't want you\nto have any access, but if you're log in,\n\n252\n00:13:21,980 --> 00:13:24,780\nI want you to be able to\nread the Employee Handbook.\n\n253\n00:13:24,780 --> 00:13:30,120\nThen I have a group, at least I think I\nhave a group, called Human Resources.\n\n254\n00:13:30,120 --> 00:13:32,080\nI guess if I spell it right,\nit might actually find it.\n\n255\n00:13:32,080 --> 00:13:33,750\nThere it is, Human Resources.\n\n256\n00:13:33,750 --> 00:13:36,840\nAnd I want anybody in Human Resources to\nbe able to read and write to it, right?\n\n257\n00:13:36,840 --> 00:13:38,320\nI want them to be able to modify it.\n\n258\n00:13:38,320 --> 00:13:40,020\nAll of my other users can just read it.\n\n259\n00:13:40,020 --> 00:13:43,610\nSo we're gonna build up\nthis Employee Handbook.\n\n260\n00:13:43,610 --> 00:13:49,070\nAnd maybe we'll give this one a gray\ntheme cuz Human Resources is boring,\n\n261\n00:13:49,070 --> 00:13:50,590\nall right, there we go.\n\n262\n00:13:50,590 --> 00:13:53,900\nNow, I create this home page\nthat says something like\n\n263\n00:13:53,900 --> 00:13:58,750\nEmployee Handbook So we'll punch that in.\n\n264\n00:13:58,750 --> 00:14:01,910\nAnd we'll make that a nice big header.\n\n265\n00:14:05,220 --> 00:14:07,400\nAll right, so\nthis is my Employee Handbook.\n\n266\n00:14:07,400 --> 00:14:10,120\nAnd I start to add pages to it.\n\n267\n00:14:10,120 --> 00:14:11,010\nUp top when I hit the plus,\n\n268\n00:14:11,010 --> 00:14:14,320\nyou'll see where I can do new\npages in the Employee Handbook.\n\n269\n00:14:14,320 --> 00:14:19,380\nAnd so I'll create a page called,\ndress code, and so there's gonna be my\n\n270\n00:14:19,380 --> 00:14:24,520\ndress code and I'm not actually\ngoing to punch in any data on here.\n\n271\n00:14:24,520 --> 00:14:27,140\nBut then I can go back to\nmy Employee Handbook and\n\n272\n00:14:27,140 --> 00:14:32,090\nI can add another page, maybe I have\na sick and vacation leave policy.\n\n273\n00:14:32,090 --> 00:14:36,330\nSo I'll punch that in,\nwe'll just call it the vacation policy.\n\n274\n00:14:38,640 --> 00:14:39,150\nAll right.\n\n275\n00:14:39,150 --> 00:14:41,710\nSo I'm adding these pages into the Wiki,\nand would go in and\n\n276\n00:14:41,710 --> 00:14:43,660\npopulate that with all the various data.\n\n277\n00:14:43,660 --> 00:14:46,270\nThe problem is, how do we navigate that?\n\n278\n00:14:46,270 --> 00:14:47,940\nWhen you come to the Employee Handbook,\n\n279\n00:14:47,940 --> 00:14:49,770\nhow do you see all the stuff\nthat's underneath it?\n\n280\n00:14:49,770 --> 00:14:51,560\nAnd unfortunately,\nthere's not a great way to do that.\n\n281\n00:14:51,560 --> 00:14:54,580\nYou go to the documents tab, and\nyou'll see all the documents right there,\n\n282\n00:14:54,580 --> 00:14:56,350\njust kind of, thrown out.\n\n283\n00:14:56,350 --> 00:15:00,050\nSo the idea is that your home page,\nthat Employee Hand book page?\n\n284\n00:15:00,050 --> 00:15:01,410\nYou'll wanna create an index on that.\n\n285\n00:15:01,410 --> 00:15:03,860\nAnd you see this on Wikipedia and\nother sites.\n\n286\n00:15:03,860 --> 00:15:07,290\nThey don't do a great way of having it\nwhere you can just browse through things.\n\n287\n00:15:07,290 --> 00:15:08,960\nThey really want you to search and\nfind things.\n\n288\n00:15:08,960 --> 00:15:13,720\nIf I'm looking for the vacation policy I\nwould come up here and type vacation and\n\n289\n00:15:13,720 --> 00:15:15,030\nfind that document.\n\n290\n00:15:15,030 --> 00:15:16,960\nBut if we want to create and\nindex that's kind of easy.\n\n291\n00:15:16,960 --> 00:15:18,900\nYou can get a little fancy with it.\n\n292\n00:15:18,900 --> 00:15:20,470\nI'm gonna add a table to this.\n\n293\n00:15:23,650 --> 00:15:26,360\nSo I'm just gonna come down here and\nI'll add in a quick table.\n\n294\n00:15:26,360 --> 00:15:32,490\nAnd this table's a little bigger than I\nwant, Let me get it down to two columns,\n\n295\n00:15:32,490 --> 00:15:37,160\nAnd we'll punch in, the first column\nmight have my section number.\n\n296\n00:15:39,600 --> 00:15:42,650\nAnd, that didn't work.\n\n297\n00:15:44,060 --> 00:15:46,210\nI just want to bump this text up and\nmake it a little bit bigger.\n\n298\n00:15:46,210 --> 00:15:50,220\nSo I'm gonna have a section and\ndescription.\n\n299\n00:15:50,220 --> 00:15:56,410\nAnd then down here I might have\nsection 1.1, that's my dress code.\n\n300\n00:15:56,410 --> 00:15:59,829\nAnd up here you'll see where I\ncan add links to other pages.\n\n301\n00:15:59,829 --> 00:16:04,719\nSo I can link the dress code,\nand I can 1.2 and\n\n302\n00:16:04,719 --> 00:16:08,026\nI can link The vacation policy.\n\n303\n00:16:08,026 --> 00:16:11,570\nAnd I can start to link those\nthings right into this whole table.\n\n304\n00:16:11,570 --> 00:16:15,540\nAnd now, when I save that,\npeople browsing to the Wiki's homepage\n\n305\n00:16:15,540 --> 00:16:18,630\nwill see this nice little index,\nbasically.\n\n306\n00:16:18,630 --> 00:16:21,180\nAnd so somebody wants to get to the dress\ncode, they come in and they click on it.\n\n307\n00:16:21,180 --> 00:16:22,380\nThey go to the dress code.\n\n308\n00:16:22,380 --> 00:16:24,800\nThey can always jump back to\nthe Employee Handbook and go from there.\n\n309\n00:16:24,800 --> 00:16:27,240\nSo it does require a little\nbit of work to create a nice,\n\n310\n00:16:27,240 --> 00:16:29,690\neasy workflow to allow people\nto navigate through it.\n\n311\n00:16:29,690 --> 00:16:34,350\nIf they're just using the search,\nit's no big deal at all.\n\n312\n00:16:34,350 --> 00:16:37,890\nAll right, so what we've seen\nthere is the basic Wiki service.\n\n313\n00:16:37,890 --> 00:16:40,500\nBut at the beginning of the episode,\nI mentioned blogs.\n\n314\n00:16:40,500 --> 00:16:45,020\nYou can convert the wiki server\nto also provide blog services.\n\n315\n00:16:45,020 --> 00:16:46,800\nAnd the blog services\nare really straight forward.\n\n316\n00:16:46,800 --> 00:16:48,890\nIt's really just a variation of the Wiki.\n\n317\n00:16:48,890 --> 00:16:52,300\nInstead of having these independent pages\nthat can be edited by a lot of people,\n\n318\n00:16:52,300 --> 00:16:55,050\nyou have independent pages that\nare grouped together as posts, and\n\n319\n00:16:55,050 --> 00:16:56,470\nthey're generally managed by one person.\n\n320\n00:16:57,830 --> 00:17:00,260\nSo what I can do is I can\ngo back up to my Wikis, and\n\n321\n00:17:00,260 --> 00:17:05,840\nI'm going to create a new wiki\nwhich I'll call John Doe's Blog.\n\n322\n00:17:05,840 --> 00:17:09,370\nSo this is going to be his blog of all\nthe exciting things to happen in the world\n\n323\n00:17:09,370 --> 00:17:09,870\nof John Doe.\n\n324\n00:17:09,870 --> 00:17:13,000\nI'm going to say that\neverybody can read it.\n\n325\n00:17:13,000 --> 00:17:15,160\nLogged in users and unauthenticated users.\n\n326\n00:17:15,160 --> 00:17:16,550\nThey can all read it.\n\n327\n00:17:16,550 --> 00:17:18,730\nI'm gonna be the only one that edits it.\n\n328\n00:17:18,730 --> 00:17:22,180\nNow, I don't have to add myself in\nbecause by default I'm the administrator,\n\n329\n00:17:22,180 --> 00:17:24,480\nwhoever creates the blog is the admin.\n\n330\n00:17:24,480 --> 00:17:26,670\nBut if you wanna be on the safe side,\nyou could add yourself.\n\n331\n00:17:26,670 --> 00:17:29,550\nIt's not really necessary.\n\n332\n00:17:29,550 --> 00:17:32,500\nAnd maybe he'll do the orange theme for\nhis blog.\n\n333\n00:17:34,680 --> 00:17:40,470\nAll right, now technically what I just\nmade is a Wiki, so it's not truly a blog.\n\n334\n00:17:40,470 --> 00:17:44,220\nI need to modify the properties of\nthe Wiki to tell it that it's a blog.\n\n335\n00:17:44,220 --> 00:17:48,070\nSo, up top, I've got this little\ngear icon, and under the gear,\n\n336\n00:17:48,070 --> 00:17:50,150\nI can go into the Wiki settings.\n\n337\n00:17:50,150 --> 00:17:53,430\nAnd it's inside of the Wiki settings,\nthat we can check off that it's a blog.\n\n338\n00:17:53,430 --> 00:17:55,820\nNotice there's also an option for\ncalendar.\n\n339\n00:17:55,820 --> 00:17:57,520\nIf you're running the calendar service,\n\n340\n00:17:57,520 --> 00:17:59,670\nyou can take one of your\ncalendars on the calendar service,\n\n341\n00:17:59,670 --> 00:18:02,600\nand publish it as a webpage,\nright here through the Wiki service too.\n\n342\n00:18:02,600 --> 00:18:04,780\nThat's another neat little feature.\n\n343\n00:18:04,780 --> 00:18:06,200\nBut I'm going to check off blog.\n\n344\n00:18:06,200 --> 00:18:08,750\nSo now it knows that\nthis is going be a blog.\n\n345\n00:18:08,750 --> 00:18:11,670\nI can stop right here and hit OK,\nand that's going to work, but\n\n346\n00:18:11,670 --> 00:18:13,950\nI can also go down to permissions and\n\n347\n00:18:13,950 --> 00:18:18,600\nyou'll see right here where I can change\nhow comments and comment moderation work.\n\n348\n00:18:18,600 --> 00:18:21,100\nOn a blog you often post an article.\n\n349\n00:18:21,100 --> 00:18:22,830\nAnd then people respond to it.\n\n350\n00:18:22,830 --> 00:18:26,400\nAnd so I can set here who's allowed\nto comment on my blog posts,\n\n351\n00:18:26,400 --> 00:18:30,830\nauthenticated users, anyone, or nobody,\nI'll leave it on authenticated users, and\n\n352\n00:18:30,830 --> 00:18:33,940\nthen moderation, do I wanna make\nsure that comments get moderated,\n\n353\n00:18:33,940 --> 00:18:36,790\nwhere I verify them first before\nI allow them on the blog?\n\n354\n00:18:36,790 --> 00:18:38,840\nSo you can change those\nsettings right there,\n\n355\n00:18:38,840 --> 00:18:40,850\nI'm gonna say no comment moderation.\n\n356\n00:18:40,850 --> 00:18:43,150\nIf you're authenticated,\nI'll let you post, and there you go.\n\n357\n00:18:45,260 --> 00:18:49,460\nAll right, so I'll go ahead and\nsave that, and now, it's a blog.\n\n358\n00:18:49,460 --> 00:18:51,110\nLooks a lot different, doesn't it?\n\n359\n00:18:51,110 --> 00:18:52,440\nWell, no.\nNot so much.\n\n360\n00:18:52,440 --> 00:18:55,700\nWhen you change it to a blog it doesn't\nactually look any different at all, but\n\n361\n00:18:55,700 --> 00:19:00,820\nthere's one difference, this guy right up\nhere, I now have a link that says blog.\n\n362\n00:19:00,820 --> 00:19:05,580\nIt's a new view for this Wiki that\nwill make it function like a blog.\n\n363\n00:19:05,580 --> 00:19:06,920\nNow it's hard to see here,\n\n364\n00:19:06,920 --> 00:19:10,710\njust kind of looking at it the way\nthat it is, so let me update this.\n\n365\n00:19:10,710 --> 00:19:15,660\nThe blog homepage, that's actually\nconsidered like your first blog post,\n\n366\n00:19:15,660 --> 00:19:19,150\nand we don't necessarily have to keep it,\nI'll just leave it be.\n\n367\n00:19:19,150 --> 00:19:20,290\nBut I'm going to add two new posts.\n\n368\n00:19:20,290 --> 00:19:22,180\nI'm going to go up to the plus sign, and\n\n369\n00:19:22,180 --> 00:19:24,440\nnotice that my plus sign\nhas a different entry.\n\n370\n00:19:24,440 --> 00:19:27,290\nNew Blog Post in John Doe's Blog.\n\n371\n00:19:27,290 --> 00:19:29,820\nSo I'm going to go in here and\nI'll call this one First Post.\n\n372\n00:19:32,170 --> 00:19:38,164\nAnd we'll edit that, and I'll just say,\nWelcome to my first blog post!!!\n\n373\n00:19:38,164 --> 00:19:39,330\nVery exciting.\n\n374\n00:19:39,330 --> 00:19:40,980\nYou've got to do a lot of\nexclamation points there.\n\n375\n00:19:40,980 --> 00:19:43,330\nPeople need to understand how\nexcited you are about your blog.\n\n376\n00:19:44,720 --> 00:19:47,600\nAll right, and\nthen I can add more posts as time goes on.\n\n377\n00:19:47,600 --> 00:19:49,340\nI say, wow, you know,\nsomething new happened today.\n\n378\n00:19:49,340 --> 00:19:51,240\nLet me go ahead and post it and add it.\n\n379\n00:19:51,240 --> 00:19:57,050\nI hit save, it doesn't normally\ntake this long to save.\n\n380\n00:19:57,050 --> 00:19:58,800\nIt's probably those three\nexclamation points.\n\n381\n00:19:58,800 --> 00:20:00,340\nIt realizes how excited I was.\n\n382\n00:20:00,340 --> 00:20:02,490\nIt's saying oh, we better check this one.\n\n383\n00:20:02,490 --> 00:20:06,390\nBut it's going to check and then I can\nstart to make more posts, all lright?\n\n384\n00:20:06,390 --> 00:20:08,980\nNow, each of these posts\nare really just a page\n\n385\n00:20:08,980 --> 00:20:11,590\nbeing attached to the Wiki\nlike we saw before.\n\n386\n00:20:11,590 --> 00:20:13,450\nThe difference is when\nI go to the blog view,\n\n387\n00:20:13,450 --> 00:20:16,830\nit will lay them out chronologically and\nI'll see the newest one first.\n\n388\n00:20:16,830 --> 00:20:20,332\nSo people can kind of navigate it\nlike they would a normal blog.\n\n389\n00:20:20,332 --> 00:20:21,950\nAll right,\nthis looks like it has gotten stuck.\n\n390\n00:20:23,120 --> 00:20:25,540\nIf it ever gets stuck like that,\nyou can hit the escape key and\n\n391\n00:20:25,540 --> 00:20:28,910\nthat kind of stops it and\nthen you can try and save it again.\n\n392\n00:20:28,910 --> 00:20:30,740\nIf it still doesn't save,\nyou can refresh your browser.\n\n393\n00:20:30,740 --> 00:20:31,510\nMine saved that time.\n\n394\n00:20:31,510 --> 00:20:36,280\nI'll go ahead and add another post, so\nI'm going to do another new blog post and\n\n395\n00:20:36,280 --> 00:20:39,374\nI'll say, MacOS 10,\n\n396\n00:20:39,374 --> 00:20:45,320\n10.10.3 released.\n\n397\n00:20:45,320 --> 00:20:47,180\nSo we're going to add this one in, and so\n\n398\n00:20:47,180 --> 00:20:49,300\nI'm letting people know about\nthis new release that came out.\n\n399\n00:20:49,300 --> 00:20:52,860\nVery exciting, I want everybody to\nknow about it, and so I posted that.\n\n400\n00:20:52,860 --> 00:20:56,580\nNow if you just go to my blog page,\nyou get this.\n\n401\n00:20:56,580 --> 00:20:58,400\nThe page you're looking\nat cannot be found.\n\n402\n00:20:58,400 --> 00:21:00,040\nIt's not a standard Wiki anymore, so\n\n403\n00:21:00,040 --> 00:21:02,850\nthat Wiki homepage doesn't\nwork the way that it used to.\n\n404\n00:21:02,850 --> 00:21:07,800\nBut if I go to this blog link, now I see\nmy blog the way that we would expect it.\n\n405\n00:21:07,800 --> 00:21:09,400\nAnd my URL changes a little bit.\n\n406\n00:21:09,400 --> 00:21:13,218\nIf you look at the URL,\nthe Wikis normally just reside under\n\n407\n00:21:13,218 --> 00:21:18,590\nthe server name/wiki/projects/the\nname of the Wiki.\n\n408\n00:21:18,590 --> 00:21:22,320\nBut when it's a blog,\nit adds that extra /blog to the end.\n\n409\n00:21:22,320 --> 00:21:25,180\nAnd that's where it knows\nto give you the blog view.\n\n410\n00:21:25,180 --> 00:21:29,230\nAnd we see that first post right there, or\nnot the first post, the one I just did,\n\n411\n00:21:29,230 --> 00:21:34,760\nMacOS 10.10.3 is released, and\nif I scroll down, there's the first post.\n\n412\n00:21:34,760 --> 00:21:35,800\nAnd I can see each of these, and\n\n413\n00:21:35,800 --> 00:21:39,570\nif I click on it, I can view\nthe individual post, and from there,\n\n414\n00:21:39,570 --> 00:21:43,520\nif I was a separate user, I could start to\npost in comments and other information.\n\n415\n00:21:43,520 --> 00:21:45,940\nSee, there's no comments right now,\nso I could add one.\n\n416\n00:21:45,940 --> 00:21:48,200\nThis post is awesome.\n\n417\n00:21:48,200 --> 00:21:50,900\nThere we go.\n\n418\n00:21:50,900 --> 00:21:52,530\nSo, there's my post.\n\n419\n00:21:52,530 --> 00:21:54,200\nAnd other users can come along and\n\n420\n00:21:54,200 --> 00:21:56,830\nstart adding comments too,\nall part of that blog.\n\n421\n00:21:56,830 --> 00:22:00,710\nAnd there we go, terribly,\nterribly exciting.\n\n422\n00:22:00,710 --> 00:22:02,290\nSo, that's the blog functionality.\n\n423\n00:22:02,290 --> 00:22:05,040\nIt's really just an alternate\nview of the underlying Wiki.\n\n424\n00:22:05,040 --> 00:22:06,950\nSo the two services\nare tied to each other.\n\n425\n00:22:06,950 --> 00:22:10,810\nYou can't have blogs without having a Wiki\nand the Wiki can be turned into a blog.\n\n426\n00:22:10,810 --> 00:22:12,070\nAny Wiki can be turned into a blog.\n\n427\n00:22:13,972 --> 00:22:19,230\nAll right, I think that is about it, the\nonly other thing that I need to mention,\n\n428\n00:22:20,870 --> 00:22:23,760\njust in case it shows up on the exam,\nI doubt it will.\n\n429\n00:22:23,760 --> 00:22:26,460\nThe Wiki pages are a little special.\n\n430\n00:22:26,460 --> 00:22:29,090\nThey're not stored on\nthe hard drive as regular\n\n431\n00:22:29,090 --> 00:22:31,280\nhtml files like the websites one does.\n\n432\n00:22:31,280 --> 00:22:33,280\nInstead, they're stored in a database.\n\n433\n00:22:33,280 --> 00:22:37,330\nSo the Wiki files themselves\nare kinda hard to go and verify but\n\n434\n00:22:37,330 --> 00:22:40,390\nif the examiner hits you\non where they're located,\n\n435\n00:22:41,850 --> 00:22:47,100\nthey're actually located\nin /library/Server/Wiki.\n\n436\n00:22:47,100 --> 00:22:51,230\nSo if browse into /library/Server/Wiki.\n\n437\n00:22:51,230 --> 00:22:57,340\nWhoops, hang on a second.\n\n438\n00:22:57,340 --> 00:22:58,930\nOh, [LAUGH], I'm on my client.\n\n439\n00:22:58,930 --> 00:23:00,280\nI need to get back to my server.\n\n440\n00:23:00,280 --> 00:23:06,000\nOn the server,\nif I go to /Library/Server/Wiki.\n\n441\n00:23:06,000 --> 00:23:08,270\nThat'll make a difference.\n\n442\n00:23:08,270 --> 00:23:11,010\nThere we go.\nThat's where the Wiki files are stored.\n\n443\n00:23:11,010 --> 00:23:14,190\nBut don't expect to see a bunch\nof individual files or posts.\n\n444\n00:23:14,190 --> 00:23:17,630\nYou're going to see config,\nyou'll see file data and so on.\n\n445\n00:23:17,630 --> 00:23:20,724\nBut notice this file right here,\nPostgressSocket,\n\n446\n00:23:20,724 --> 00:23:23,190\nright, the Wiki uses PostgreSQL.\n\n447\n00:23:23,190 --> 00:23:29,790\nIt's a SQL-type database that runs in\nthe background, that stores all the pages.\n\n448\n00:23:29,790 --> 00:23:31,130\nAnd so they aren't actually here.\n\n449\n00:23:31,130 --> 00:23:36,660\nThis database.xpg file, if you look at the\nfile itself, it's actually a directory.\n\n450\n00:23:36,660 --> 00:23:40,950\nAnd if we change into that folder,\nwell, I have to be an admin to do it.\n\n451\n00:23:40,950 --> 00:23:42,560\nBut we'll cheat around that a little bit.\n\n452\n00:23:45,410 --> 00:23:46,720\nSo let me just elevate my privileges.\n\n453\n00:23:46,720 --> 00:23:47,510\nThere we go.\n\n454\n00:23:47,510 --> 00:23:50,920\nInside of that, you'll see this\nClustert.pg and a backup file.\n\n455\n00:23:50,920 --> 00:23:53,490\nAnd the Wikiposts\nare actually being stored\n\n456\n00:23:53,490 --> 00:23:56,750\ninside of that database file\nalready inside of there.\n\n457\n00:23:56,750 --> 00:23:58,091\nAnd that's what the information is.\n\n458\n00:23:58,091 --> 00:23:59,972\nSo, we don't see them as raw files.\n\n459\n00:23:59,972 --> 00:24:02,608\nAnd the idea is,\nthat these can quickly be queried and\n\n460\n00:24:02,608 --> 00:24:04,314\npulled right out of the database.\n\n461\n00:24:04,314 --> 00:24:07,133\nAnd people aren't supposed to\nbe editing the files anyway,\n\n462\n00:24:07,133 --> 00:24:09,710\nthey're using that WYSIWYG\neditor on the page.\n\n463\n00:24:09,710 --> 00:24:14,280\nSo, if it comes up on the exam,\nthat's what you've got.\n\n464\n00:24:14,280 --> 00:24:18,470\nAs far as logging, there's not really\nmuch to deal with on the Wiki side.\n\n465\n00:24:18,470 --> 00:24:21,860\nIf I go back to my server app and\nI jump up to Logs,\n\n466\n00:24:21,860 --> 00:24:26,600\nwhen we look inside of the log services,\nif we pull up that big list and\n\n467\n00:24:26,600 --> 00:24:30,160\nkinda look around, you'll notice\nWiki does have several entries.\n\n468\n00:24:30,160 --> 00:24:32,830\nAnd that's because they've divided up,\nnot just things like errors,\n\n469\n00:24:32,830 --> 00:24:36,720\nwhich actually come under the Apache logs,\nunder the website logs.\n\n470\n00:24:36,720 --> 00:24:39,620\nBut they come under these other ones for\nCollaboration,\n\n471\n00:24:39,620 --> 00:24:42,950\nNotification, Preview Generator and\nWiki Admin.\n\n472\n00:24:42,950 --> 00:24:45,380\nThese are all the different\nactivities people take.\n\n473\n00:24:45,380 --> 00:24:49,610\nWhen you post content, that's your\ncollaboration demon firing off.\n\n474\n00:24:49,610 --> 00:24:52,594\nAnd so, here we can see where we\nstarted to post some of those things.\n\n475\n00:24:52,594 --> 00:24:58,200\nWe got that long timer right there,\nthat's when that save stalled out on me.\n\n476\n00:24:58,200 --> 00:25:00,210\nBut you'll see that information in here.\n\n477\n00:25:00,210 --> 00:25:01,800\nIt's useful for troubleshooting.\n\n478\n00:25:01,800 --> 00:25:04,640\nYou've also got this\npreview generator log.\n\n479\n00:25:04,640 --> 00:25:07,880\nIf somebody uploads files into the Wiki,\nwhen you\n\n480\n00:25:07,880 --> 00:25:10,650\nclick on it you can actually see a preview\nof the file without downloading it.\n\n481\n00:25:10,650 --> 00:25:14,725\nSo we'll see an information right in\nthere and you get a chance to see it and\n\n482\n00:25:14,725 --> 00:25:17,700\njust kinda verify that those\npreviews are working properly.\n\n483\n00:25:17,700 --> 00:25:20,060\nAnd then, we've got our notifications.\n\n484\n00:25:20,060 --> 00:25:21,930\nSo here we just got posting notifications.\n\n485\n00:25:21,930 --> 00:25:26,640\nIt's various information that's useful for\ntroubleshooting.\n\n486\n00:25:26,640 --> 00:25:29,790\nAll right but that's basically it for\nthe Wiki service, it's not very complex,\n\n487\n00:25:29,790 --> 00:25:32,720\nit's kinda neat compared to\nother services out there.\n\n488\n00:25:32,720 --> 00:25:36,170\nI know I mentioned SharePoint earlier,\nthis Wiki service is\n\n489\n00:25:36,170 --> 00:25:39,850\nfar easier to get running than\ntrying to deal with one of those.\n\n490\n00:25:39,850 --> 00:25:41,120\nIf you're doing blogging,\n\n491\n00:25:41,120 --> 00:25:44,390\nthe Wiki service is not really\nthe greatest blogging platform out there.\n\n492\n00:25:44,390 --> 00:25:47,220\nI know a lot of people that will\nuse the websites functionality and\n\n493\n00:25:47,220 --> 00:25:48,680\ndeploy WordPress in it.\n\n494\n00:25:48,680 --> 00:25:51,540\nAnd so you could use WordPress for\nyour blogging platform instead.\n\n495\n00:25:51,540 --> 00:25:52,640\nThat's fine.\n\n496\n00:25:52,640 --> 00:25:54,240\nBut you're not gonna see\nWordPress on the exam.\n\n497\n00:25:54,240 --> 00:25:56,350\nSo they do want you to know this one and\nbe aware of it.\n\n498\n00:25:57,510 --> 00:26:00,190\nAll right, well that's a good point for\nus to wrap this episode up.\n\n499\n00:26:00,190 --> 00:26:04,530\nLet me remind you guys, if you have any\nquestions on this always feel free to ask.\n\n500\n00:26:04,530 --> 00:26:07,510\nLive during the show you\ncan go to itpro.tv/live and\n\n501\n00:26:07,510 --> 00:26:09,550\nyou'll see the chat\nroom beneath the video.\n\n502\n00:26:09,550 --> 00:26:12,860\nPost your questions there,\nwe monitor and answer during the show.\n\n503\n00:26:12,860 --> 00:26:15,295\nIf you have questions after the show,\nuse our forums.\n\n504\n00:26:15,295 --> 00:26:19,410\nHit that Q and A link found on\nevery page on the itprotv site.\n\n505\n00:26:19,410 --> 00:26:22,260\nIt'll take you to the forums, you can\npost your questions there, we monitor and\n\n506\n00:26:22,260 --> 00:26:23,300\nanswer after the show.\n\n507\n00:26:23,300 --> 00:26:26,180\nTake advantage of those resources,\nthey are there for you.\n\n508\n00:26:26,180 --> 00:26:30,654\nAll right, well I hope you guys enjoyed\ntoday's episode, signing off for ITProTV,\n\n509\n00:26:30,654 --> 00:26:33,029\nI'm Don Pezet, and I'll see you next time.\n\n510\n00:26:33,029 --> 00:26:43,029\n[MUSIC]\n\n",
          "vimeoId": "125900848"
        },
        {
          "description": null,
          "length": "3489",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-7-2-mail-042415-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-7-2-mail-042415-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-7-2-mail-042415-1-sm.jpg",
          "title": "Mail",
          "transcript": "1\n00:00:00,000 --> 00:00:10,000\n[MUSIC]\n\n2\n00:00:15,207 --> 00:00:23,125\n[NOISE]\n\n3\n00:00:23,125 --> 00:00:33,271\n[MUSIC]\n\n4\n00:00:33,271 --> 00:00:35,881\nAll right, good morning,\ngood afternoon and good evening.\n\n5\n00:00:35,881 --> 00:00:38,070\nWelcome back to another\nepisode of ITProTV.\n\n6\n00:00:38,070 --> 00:00:39,480\nI'm your host, Don Pezet,\n\n7\n00:00:39,480 --> 00:00:43,740\nback again with another episode of\nApple Certified Technician Coordinator.\n\n8\n00:00:43,740 --> 00:00:46,710\nToday we're gonna be\njumping into a neat topic,\n\n9\n00:00:46,710 --> 00:00:50,980\nwhich is setting up the mail server\non top of the server app in OS10.\n\n10\n00:00:50,980 --> 00:00:53,260\nNow, I say this one's neat.\n\n11\n00:00:53,260 --> 00:00:54,510\nYou've watched some of our episodes.\n\n12\n00:00:54,510 --> 00:00:57,270\nYou've seen where most of the services\nin the server app are really just\n\n13\n00:00:57,270 --> 00:00:58,790\nswitching that on switch, and that's it.\n\n14\n00:00:58,790 --> 00:01:01,050\nAnd it turns on a single service.\n\n15\n00:01:01,050 --> 00:01:03,330\nWell, in the mail service,\n\n16\n00:01:03,330 --> 00:01:08,070\nwhen you turn on that mail server, it's\nactually launching quite a few different\n\n17\n00:01:08,070 --> 00:01:13,010\nlittle services that each provide\nindividual components of an email server.\n\n18\n00:01:13,010 --> 00:01:16,120\nAnd all combined,\nyou get a pretty robust mail server.\n\n19\n00:01:16,120 --> 00:01:19,860\nNow, it's not the be-all end-all with mail\nservers, there are higher end products\n\n20\n00:01:19,860 --> 00:01:22,640\nthat are out there, but for\nmost companies, especially small and\n\n21\n00:01:22,640 --> 00:01:27,030\nmedium businesses, the mail server\nbuilt into the OS X Server app, it's\n\n22\n00:01:27,030 --> 00:01:30,620\nactually pretty adequate and it knocks\nout most of people's' needs, all right?\n\n23\n00:01:30,620 --> 00:01:33,680\nNow, I say it's pretty adequate which\nis kinda a bad things to say, but\n\n24\n00:01:33,680 --> 00:01:36,890\nthere's little things that are missing\nfrom it, things like web based email,\n\n25\n00:01:36,890 --> 00:01:40,920\na lot of people expect to have that and\nthe OS X Server app doesn't give you that.\n\n26\n00:01:40,920 --> 00:01:43,860\nBut it does give you\na ton of other features.\n\n27\n00:01:43,860 --> 00:01:47,650\nIt gives you things like POP3 and\nIMAP4 access.\n\n28\n00:01:47,650 --> 00:01:50,970\nIt gives us anti-spam, anti-virus.\n\n29\n00:01:50,970 --> 00:01:53,310\nIt gives us forwarding capabilities.\n\n30\n00:01:53,310 --> 00:01:56,590\nIt gives us all sorts of neat and\ninteresting functions.\n\n31\n00:01:56,590 --> 00:01:59,620\nAnd it does that by combining\na number of different products.\n\n32\n00:01:59,620 --> 00:02:02,230\nSo let's talk about each one of\nthose before we actually dive in and\n\n33\n00:02:02,230 --> 00:02:03,580\nget this service up and running.\n\n34\n00:02:03,580 --> 00:02:06,330\nSo when we turn on a mail server,\n\n35\n00:02:06,330 --> 00:02:09,120\nthere's some basic functions\nthat we've got to have.\n\n36\n00:02:09,120 --> 00:02:11,650\nWe've gotta have the ability\nto send email, right,\n\n37\n00:02:11,650 --> 00:02:13,980\nto get our outgoing email\nto go to other people.\n\n38\n00:02:13,980 --> 00:02:16,530\nAnd we have to have\nthe ability to receive email.\n\n39\n00:02:16,530 --> 00:02:18,090\nTo get that email in.\n\n40\n00:02:18,090 --> 00:02:23,160\nAnd email has become such a critical\nfunction, that we need this to be stable.\n\n41\n00:02:23,160 --> 00:02:25,300\nNow, a lot of people look at it and\nthey say,\n\n42\n00:02:25,300 --> 00:02:27,440\nyou know what,\nI'm just gonna use a cloud service.\n\n43\n00:02:27,440 --> 00:02:29,410\nI don't want to deal\nwith my own mail server.\n\n44\n00:02:29,410 --> 00:02:34,180\nIt's actually what we did with ITPRO TV\nis when we started this company we said,\n\n45\n00:02:34,180 --> 00:02:37,110\nwe can run our own mail server,\nbut we're kind of busy,\n\n46\n00:02:37,110 --> 00:02:39,730\nand don't have a lot of time to deal\nwith maintaining our own equipment.\n\n47\n00:02:39,730 --> 00:02:42,810\nSo why don't we just use Google apps for\nwork.\n\n48\n00:02:42,810 --> 00:02:44,672\nOr you might say,\nwhy don't we just iCloud or\n\n49\n00:02:44,672 --> 00:02:46,390\nany whatever other service is out there.\n\n50\n00:02:46,390 --> 00:02:47,230\nAnd you can certainly do that.\n\n51\n00:02:47,230 --> 00:02:48,690\nA lot of people opt for it.\n\n52\n00:02:48,690 --> 00:02:52,590\nBut there's still plenty of reasons for\nrunning your own mail server.\n\n53\n00:02:52,590 --> 00:02:54,570\nOne of the biggest reasons?\n\n54\n00:02:54,570 --> 00:02:55,720\nSecurity.\n\n55\n00:02:55,720 --> 00:02:57,890\nWhen you outsource your email hosting,\n\n56\n00:02:57,890 --> 00:03:02,360\nwhen you trust it to iCloud, or trust it\nto Google apps or somebody else like that,\n\n57\n00:03:02,360 --> 00:03:05,750\nyou're trusting that they're putting\nthe proper security measures in.\n\n58\n00:03:05,750 --> 00:03:10,330\nThat they're keeping your data private and\ntaking backups and\n\n59\n00:03:10,330 --> 00:03:12,780\nproviding redundant hardware to keep\nthe systems available and online.\n\n60\n00:03:12,780 --> 00:03:14,750\nAnd for the most part, they do.\n\n61\n00:03:14,750 --> 00:03:16,220\nBut you're trusting that.\n\n62\n00:03:16,220 --> 00:03:19,730\nAnd unfortunately, in some industries,\nyou can't afford that trust, right.\n\n63\n00:03:19,730 --> 00:03:22,350\nIf you're in the financial industry,\nor the medical industry if you're\n\n64\n00:03:22,350 --> 00:03:26,360\ntransmitting patient records, you can't\ntrust a third party to host your email.\n\n65\n00:03:26,360 --> 00:03:28,190\nSo, you need to host your own, right.\n\n66\n00:03:28,190 --> 00:03:30,870\nSo, the first reason is security.\n\n67\n00:03:30,870 --> 00:03:32,840\nThe second reason is control.\n\n68\n00:03:32,840 --> 00:03:36,440\nIf you wanna be able to control every\naspect of that server like setting mailbox\n\n69\n00:03:36,440 --> 00:03:37,300\nsize limits and so\n\n70\n00:03:37,300 --> 00:03:40,980\non, a lot of that you can't do when\nyou send it out to a third party.\n\n71\n00:03:40,980 --> 00:03:42,650\nYou're letting them control it.\n\n72\n00:03:42,650 --> 00:03:44,680\nSo if you need control of\nyour mail environment.\n\n73\n00:03:44,680 --> 00:03:45,880\nWell, you'll want to host your own server.\n\n74\n00:03:45,880 --> 00:03:50,370\nAnd then the last reason is\nif you've got low bandwidth.\n\n75\n00:03:50,370 --> 00:03:52,900\nThere's a lot of\norganizations out there that\n\n76\n00:03:52,900 --> 00:03:55,350\ndon't have a ton of\nbandwidth in their company.\n\n77\n00:03:55,350 --> 00:03:58,370\nSo, if you've got 100 employees and\nthey're all backed\n\n78\n00:03:58,370 --> 00:04:02,390\nbehind a single DSL line, if you're using\nhosted email on the internet, they're\n\n79\n00:04:02,390 --> 00:04:05,940\nall going out to the internet to get their\nemail and that effects your bandwidth.\n\n80\n00:04:05,940 --> 00:04:08,300\nVersus if you had a server\nright there in house,\n\n81\n00:04:08,300 --> 00:04:11,020\neverybody would just be hitting that\nserver, and the only time they'd be using\n\n82\n00:04:11,020 --> 00:04:13,520\nyour bandwidth is when they receive or\nsend an email.\n\n83\n00:04:13,520 --> 00:04:16,910\nAll the other things,\nthe internal email, all stays internal.\n\n84\n00:04:16,910 --> 00:04:20,250\nSo those are three reasons why you might\nchoose to run your own mail server.\n\n85\n00:04:20,250 --> 00:04:21,990\nAnd if you're gonna run\nyour own mail server,\n\n86\n00:04:21,990 --> 00:04:26,180\nthere's a lot of choices out there, but\nApple's kind of made it easy for us.\n\n87\n00:04:26,180 --> 00:04:29,740\nIf you've ever set up a mail server on\na Linux environment, it's a lot of work\n\n88\n00:04:29,740 --> 00:04:32,760\ngetting all the different components\ntogether, Apple's already done that.\n\n89\n00:04:33,940 --> 00:04:39,610\nThe first component that they use is\na software package called Postfix,\n\n90\n00:04:39,610 --> 00:04:42,190\nand Postfix is an SMTP server.\n\n91\n00:04:42,190 --> 00:04:46,160\nNow SMTP, that's\nthe Simple Mail Transport Protocol, and\n\n92\n00:04:46,160 --> 00:04:49,580\nit's designed to move\ne-mail between servers.\n\n93\n00:04:49,580 --> 00:04:53,480\nSMTP is the protocol we\nused when we send email.\n\n94\n00:04:53,480 --> 00:04:55,820\nSo when you write an email and\nyou click that send button,\n\n95\n00:04:55,820 --> 00:05:00,830\nyou transmit that email to your local\nserver, and your server then uses SMTP\n\n96\n00:05:00,830 --> 00:05:05,235\nto reach out and get to that destination\nserver and send the email along.\n\n97\n00:05:05,235 --> 00:05:07,960\nPostfix is what provides that, right?\n\n98\n00:05:07,960 --> 00:05:09,300\nBut what about our clients?\n\n99\n00:05:09,300 --> 00:05:11,050\nOur clients need to get email.\n\n100\n00:05:11,050 --> 00:05:15,010\nSo they're running the Apple mail client\nor they're running Thunderbird or\n\n101\n00:05:15,010 --> 00:05:17,520\nthey're running Microsoft Outlook or\nwhatever it is they're using and\n\n102\n00:05:17,520 --> 00:05:19,040\nthey wanna access their email.\n\n103\n00:05:19,040 --> 00:05:22,570\nWell SMTP is not designed for\nclient access.\n\n104\n00:05:22,570 --> 00:05:25,010\nFor client access we use\ntwo different protocols.\n\n105\n00:05:25,010 --> 00:05:29,130\nPOP3, which is the Post Office Protocol\nversion three, and IMAP4,\n\n106\n00:05:29,130 --> 00:05:31,290\nI always forget this one here.\n\n107\n00:05:31,290 --> 00:05:33,540\nIt's the internet Messaging,\nI've got it in my show notes here so\n\n108\n00:05:33,540 --> 00:05:37,490\nI don't have remember,\nInternet Message Access Protocol.\n\n109\n00:05:37,490 --> 00:05:38,910\nThere we go.\n\n110\n00:05:38,910 --> 00:05:42,450\nSo I'm at four and property,\nthose are the two main client protocols.\n\n111\n00:05:42,450 --> 00:05:46,750\nAnd so to provide that function,\nApple leverages something called Dovecote.\n\n112\n00:05:46,750 --> 00:05:51,320\nDovecote is an open source pop server.\n\n113\n00:05:51,320 --> 00:05:54,600\nYou can run that in\ncombination with Postfix, and\n\n114\n00:05:54,600 --> 00:05:57,650\nnow you've got the ability to send email,\nas well as the ability for\n\n115\n00:05:57,650 --> 00:06:00,720\nclients to access and receive their email,\nwho get that full functionality.\n\n116\n00:06:02,080 --> 00:06:06,270\nNow, in addition to sending and receiving\nemail, we need some basic security, right.\n\n117\n00:06:06,270 --> 00:06:09,330\nWe need the ability to make sure that\nwe don't have viruses in our email, and\n\n118\n00:06:09,330 --> 00:06:10,880\nthat we're not getting a ton of spam.\n\n119\n00:06:10,880 --> 00:06:13,710\nAnd so,\nApple packages in two more products.\n\n120\n00:06:13,710 --> 00:06:16,405\nThey package in ClamAV for\ndoing the anti-virus.\n\n121\n00:06:16,405 --> 00:06:19,080\nThat's an open-source anti-virus\nproduct that's out there.\n\n122\n00:06:19,080 --> 00:06:21,560\nAnd, they package in SpamAssassin.\n\n123\n00:06:21,560 --> 00:06:24,300\nNow, it's a silly name, but\nSpamAssassin is the most\n\n124\n00:06:24,300 --> 00:06:29,440\nwidely used anti-spam service in the world\nand it's another open source package.\n\n125\n00:06:29,440 --> 00:06:32,750\nThey have combined that and\npre-configured it for us.\n\n126\n00:06:32,750 --> 00:06:34,710\nAgain, if you've ever tried\nto configure spam assessment,\n\n127\n00:06:34,710 --> 00:06:39,580\nit's not the easiest thing in the world,\nApple's done that for us.\n\n128\n00:06:39,580 --> 00:06:41,460\nNow I've listed four\nmain components there.\n\n129\n00:06:41,460 --> 00:06:43,290\nThere's actually about\n12 components in total.\n\n130\n00:06:43,290 --> 00:06:46,750\nThere's all sorts of little tiny pieces\nthat get thrown into the picture, too.\n\n131\n00:06:46,750 --> 00:06:48,140\nBut those are the four big ones.\n\n132\n00:06:48,140 --> 00:06:49,750\nThose are the ones that\nmight show up on the exam.\n\n133\n00:06:49,750 --> 00:06:52,620\nSo you need to be aware of what those\ncomponents are in the background that's\n\n134\n00:06:52,620 --> 00:06:53,830\nactually powering this.\n\n135\n00:06:53,830 --> 00:06:55,860\nBecause at the end of the day,\nwhen we go to configure it,\n\n136\n00:06:55,860 --> 00:06:58,380\nwe just hit the on switch,\nand now we're a mail server.\n\n137\n00:06:58,380 --> 00:07:01,300\nWe don't realize these four components are\nrunning in the background, but they are,\n\n138\n00:07:01,300 --> 00:07:04,200\nand they're doing that work, and\nthey're making that server function.\n\n139\n00:07:05,970 --> 00:07:07,520\nAll right, now I mentioned Pop3 and\n\n140\n00:07:07,520 --> 00:07:10,460\niMac, and\nhow they're both client access protocols.\n\n141\n00:07:10,460 --> 00:07:14,020\nClients can use that to get connected\nto the server and access their email.\n\n142\n00:07:14,020 --> 00:07:16,170\nWell, why two protocols?\n\n143\n00:07:16,170 --> 00:07:19,880\nWell, each one functions a little\nbit different, and it's up to your\n\n144\n00:07:19,880 --> 00:07:23,390\nend users or if you use an administrator,\nto determine which one you prefer.\n\n145\n00:07:23,390 --> 00:07:23,950\nAll right?\nSo\n\n146\n00:07:23,950 --> 00:07:26,000\nlet's kind of recap\nthe difference between the two,\n\n147\n00:07:26,000 --> 00:07:28,220\ncuz it is important to know for the exam.\n\n148\n00:07:28,220 --> 00:07:29,950\nPOP3, the Post Office Protocol.\n\n149\n00:07:29,950 --> 00:07:32,200\nThat's the older of the two protocols, and\n\n150\n00:07:32,200 --> 00:07:35,800\nit's really the original client\naccess protocol that most of us use.\n\n151\n00:07:35,800 --> 00:07:40,320\nWith POP3 your email client,\nwe'll just assume your running Apple Mail.\n\n152\n00:07:40,320 --> 00:07:44,430\nApple Mail will reach out to the mail\nserver and it'll go to your inbox,\n\n153\n00:07:44,430 --> 00:07:45,330\nyour mailbox.\n\n154\n00:07:45,330 --> 00:07:49,403\nAnd it'll look for any new email in\nthe mailbox and if there's email in there,\n\n155\n00:07:49,403 --> 00:07:53,308\nit will download the mail to your client\nand then delete it from the server.\n\n156\n00:07:53,308 --> 00:07:57,163\nAnd so email is downloaded and\nnow it's gone from the server and\n\n157\n00:07:57,163 --> 00:08:00,378\nYou just have it locally and\nthat's it, all right?\n\n158\n00:08:00,378 --> 00:08:06,510\nOn a positive side, POP gives us\na very fast and optimized server.\n\n159\n00:08:06,510 --> 00:08:08,290\nThat's why this was the original protocol.\n\n160\n00:08:08,290 --> 00:08:12,290\nIf your server is storing everybody's\nemail forever, those mailboxes get bigger\n\n161\n00:08:12,290 --> 00:08:16,230\nand bigger and bigger and the server\ngets slower and slower and slower and\n\n162\n00:08:16,230 --> 00:08:20,820\nthat was a real problem in the 1980's and\neven somewhat in the early 1990's.\n\n163\n00:08:20,820 --> 00:08:24,790\nBut as time has gone on, servers,\nthey aren't slow like that anymore and\n\n164\n00:08:24,790 --> 00:08:27,120\nthey can handle massive email databases.\n\n165\n00:08:27,120 --> 00:08:29,460\nSo it's not such a big deal.\n\n166\n00:08:29,460 --> 00:08:33,520\nOne of the negatives of downloading\nthe email and deleting it from the server,\n\n167\n00:08:33,520 --> 00:08:36,210\nis if I download the email right\nhere on my laptop, also, and\n\n168\n00:08:36,210 --> 00:08:39,790\nI have a desktop also,\nthe desktop never gets the email.\n\n169\n00:08:39,790 --> 00:08:40,990\nRight?\nIt's been deleted from the server.\n\n170\n00:08:40,990 --> 00:08:42,430\nThe desktop doesn't know about it.\n\n171\n00:08:42,430 --> 00:08:45,180\nAnd so as I move from machine, to machine,\nto machine I've got a problem.\n\n172\n00:08:45,180 --> 00:08:47,200\nAnd if I lose my laptop and\n\n173\n00:08:47,200 --> 00:08:49,890\nI don't have a good backup,\nthe email's not on the server anymore.\n\n174\n00:08:49,890 --> 00:08:51,660\nI just lost all my email.\n\n175\n00:08:51,660 --> 00:08:54,310\nSo that's where IMAP comes in.\n\n176\n00:08:54,310 --> 00:08:56,130\nIMAP is a lot more advanced.\n\n177\n00:08:56,130 --> 00:08:59,990\nWith IMAP, you don't just download\nthe email to your local machine, but\n\n178\n00:08:59,990 --> 00:09:01,760\nyou leave a copy on the server.\n\n179\n00:09:01,760 --> 00:09:03,430\nIn fact, when a new email comes in,\n\n180\n00:09:03,430 --> 00:09:05,830\nmost IMAP clients will\njust download the header.\n\n181\n00:09:05,830 --> 00:09:08,370\nYou get the subject line and\nwho it's from and who it's to and\n\n182\n00:09:08,370 --> 00:09:12,150\nit's not until you open the email that it\nactually downloads it from the server.\n\n183\n00:09:12,150 --> 00:09:15,270\nEven then, it leaves a copy on the server.\n\n184\n00:09:15,270 --> 00:09:18,950\nIf you mark it red in your mail client,\nit's now marked red on the server, too.\n\n185\n00:09:18,950 --> 00:09:24,030\nIf you go to another desktop and\nlog in, the email's already marked red.\n\n186\n00:09:24,030 --> 00:09:25,340\nIMAP's a lot more powerful.\n\n187\n00:09:25,340 --> 00:09:26,770\nBut it leaves the emails on the server,\n\n188\n00:09:26,770 --> 00:09:29,140\nwhich means the servers\ndatabase is gonna get bigger.\n\n189\n00:09:29,140 --> 00:09:33,100\nThat was bad in the 1980's and 1990's,\nbut we're talking about 20 years ago.\n\n190\n00:09:33,100 --> 00:09:36,070\nSo, in today's world,\nthat's normally the standard.\n\n191\n00:09:36,070 --> 00:09:40,080\nSo, if your gonna be setting up\na mail server, count on using IMAP.\n\n192\n00:09:40,080 --> 00:09:42,570\nAnother big advantage you get\nwith IMAP is you can create\n\n193\n00:09:42,570 --> 00:09:44,750\nfolders inside of your mailboxes.\n\n194\n00:09:44,750 --> 00:09:46,960\nI use the heck out of\nfolders in my mailboxes.\n\n195\n00:09:46,960 --> 00:09:48,260\nI've got tons of folders.\n\n196\n00:09:48,260 --> 00:09:51,870\nAnd the really important to me, I would\nhave a hard time getting away from that.\n\n197\n00:09:51,870 --> 00:09:55,960\nWith POP, all of your email is lumped\ninto one big folder, and that's it.\n\n198\n00:09:55,960 --> 00:09:59,370\nIn IMAP you can create all sorts of\ndifferent folders, and you can categorize\n\n199\n00:09:59,370 --> 00:10:02,880\nyour emails and sort them and it really\nhelps you keep that mailbox under control.\n\n200\n00:10:02,880 --> 00:10:05,860\nSo, IMAP has a lot more\nto offer than POP and so\n\n201\n00:10:05,860 --> 00:10:06,990\nthat's usually what we're going to use.\n\n202\n00:10:06,990 --> 00:10:08,430\nWe're usually going to use IMAP.\n\n203\n00:10:08,430 --> 00:10:09,650\nBut the POP support is there.\n\n204\n00:10:09,650 --> 00:10:10,540\nThat kind of gives us both.\n\n205\n00:10:12,020 --> 00:10:15,430\nAll right, so\nwhen I go to setup a mail server,\n\n206\n00:10:15,430 --> 00:10:17,030\nthese are some of the decisions\nthat I have to make.\n\n207\n00:10:17,030 --> 00:10:20,580\nI have to kind of figure out what\nserver is gonna be my mail server.\n\n208\n00:10:20,580 --> 00:10:22,720\nI need to understand the different\ncomponents that are gonna be enabled,\n\n209\n00:10:22,720 --> 00:10:25,590\nthen we have some little configurations\nwe can do for them but not too much.\n\n210\n00:10:25,590 --> 00:10:29,615\nAnd then I have to figure out whether I\nwant my clients to connect via POP or\n\n211\n00:10:29,615 --> 00:10:30,850\nIMAP.\n\n212\n00:10:30,850 --> 00:10:35,200\nOnce I've got those decisions made,\nnow it's time to get the server set up.\n\n213\n00:10:35,200 --> 00:10:35,740\nRight?\n\n214\n00:10:35,740 --> 00:10:39,430\nNow, one of the interesting things about\na server, if you're just setting up\n\n215\n00:10:39,430 --> 00:10:43,350\nan internal server for internal use only,\nit's really not a big deal.\n\n216\n00:10:43,350 --> 00:10:46,770\nYou flip that on switch and you're\npretty much set up, but most people who\n\n217\n00:10:46,770 --> 00:10:50,030\nare setting up a mail server, are setting\nit up because they want to send and\n\n218\n00:10:50,030 --> 00:10:52,780\nreceive email from the Internet, right?\n\n219\n00:10:52,780 --> 00:10:57,010\nAnd we need to understand how\nemail flows across the Internet to\n\n220\n00:10:57,010 --> 00:10:59,960\nbasically recreate that environment\nhere inside of our server.\n\n221\n00:10:59,960 --> 00:11:03,510\nWhen you send an email, let's say that one\nof you guys wanted to send an email to me,\n\n222\n00:11:03,510 --> 00:11:09,260\nso you fire up your mail client and\nin the to field you type in don@itpro.tv.\n\n223\n00:11:09,260 --> 00:11:09,840\nAll right.\n\n224\n00:11:09,840 --> 00:11:12,730\nYou type in your message and\nthen you hit Send.\n\n225\n00:11:12,730 --> 00:11:14,550\nWell, what happens when you hit Send?\n\n226\n00:11:15,600 --> 00:11:20,290\nWith most clients, your client\nwill have an SMTP-servered client.\n\n227\n00:11:20,290 --> 00:11:21,710\nIt may be your own mail server.\n\n228\n00:11:21,710 --> 00:11:25,550\nIt might be an ISP's mail server, but\nthere will be a mail server somewhere.\n\n229\n00:11:25,550 --> 00:11:29,680\nAnd your client, like Apple Mail,\nwill reach out to that server and say hey,\n\n230\n00:11:29,680 --> 00:11:34,515\nI'm sending this email,\nit's from me, bob@aol.com, and\n\n231\n00:11:34,515 --> 00:11:37,550\nit's to don@itpro.tv.\n\n232\n00:11:37,550 --> 00:11:40,290\nSo the mail server gets\na copy of that email, and\n\n233\n00:11:40,290 --> 00:11:43,140\nnow the mail server says all right,\nwell I've got to deliver this to Don.\n\n234\n00:11:43,140 --> 00:11:44,900\nHow do I get to Don?\n\n235\n00:11:44,900 --> 00:11:46,320\nHow do I find that?\n\n236\n00:11:46,320 --> 00:11:48,340\nWell, it uses DNS.\n\n237\n00:11:48,340 --> 00:11:50,070\nAnd specifically inside of DNS,\n\n238\n00:11:50,070 --> 00:11:54,190\nit uses what's called a MX record,\nor a mail exchange record.\n\n239\n00:11:54,190 --> 00:11:57,270\nIn order for\nyour mail server to work on the Internet,\n\n240\n00:11:57,270 --> 00:11:59,730\nyou're going to have to have\na mail exchange record.\n\n241\n00:11:59,730 --> 00:12:02,120\nLet me show you what would happen\nif you sent an email to me.\n\n242\n00:12:02,120 --> 00:12:03,390\nLet me fire up my terminal here.\n\n243\n00:12:04,690 --> 00:12:05,910\nAnd this isn't a mail server yet.\n\n244\n00:12:05,910 --> 00:12:08,240\nI'm gonna make it one here in a minute.\n\n245\n00:12:08,240 --> 00:12:13,799\nBut, if you were to browse to the website,\nITPro.TV.\n\n246\n00:12:13,799 --> 00:12:17,455\nRight, well you fire up a web browser and\nyou type in ITPro.TV,\n\n247\n00:12:17,455 --> 00:12:19,500\nyour web browser does a DNS lookup.\n\n248\n00:12:19,500 --> 00:12:23,070\nAnd it say what host is ITPro.TV?\n\n249\n00:12:23,070 --> 00:12:26,920\nRight, and it goes and it gets that IP,\nand we can see that by doing dig.\n\n250\n00:12:26,920 --> 00:12:31,020\nITPro.TV and it will reach out and\n\n251\n00:12:31,020 --> 00:12:34,130\nit will find that information about\nwhat IP address ITPro.TV has.\n\n252\n00:12:34,130 --> 00:12:37,350\nIf you go, you'll actually see\nthat we have two IP addresses.\n\n253\n00:12:37,350 --> 00:12:41,480\nWe hit a little bit of redundant,\nI think the routers or something.\n\n254\n00:12:41,480 --> 00:12:43,620\nI actually don't really know\nwhat's truly at that IP.\n\n255\n00:12:43,620 --> 00:12:47,020\n[LAUGH] So, those are IP's that\nfront end and our website and\n\n256\n00:12:47,020 --> 00:12:48,070\nall that stuff is on the back end.\n\n257\n00:12:48,070 --> 00:12:51,720\nBut, these are the two IP's that you\nget when you come to our website.\n\n258\n00:12:51,720 --> 00:12:54,710\nSo if you're gonna browse through our\nwebsite, you're gonna get those IP's.\n\n259\n00:12:54,710 --> 00:12:56,870\nBut that's not a mail server.\n\n260\n00:12:56,870 --> 00:12:58,200\nThat's our web server.\n\n261\n00:12:58,200 --> 00:13:00,980\nIf you try and send an email to that web\nserver, it's just gonna throw it away.\n\n262\n00:13:00,980 --> 00:13:02,390\nIt doesn't care about that.\n\n263\n00:13:02,390 --> 00:13:04,840\nAnd that's because your normal web lookup,\nor\n\n264\n00:13:04,840 --> 00:13:07,850\nyour normal DNS lookup is just looking for\na host that's tied to an IP.\n\n265\n00:13:07,850 --> 00:13:10,230\nIt's not really paying\nattention to a service.\n\n266\n00:13:10,230 --> 00:13:15,460\nBut if it's email we can tell it, hey,\nI need to get the mail exchanger record.\n\n267\n00:13:15,460 --> 00:13:19,840\nAnd so what I can do is I can say,\ndig dash TMX,\n\n268\n00:13:19,840 --> 00:13:24,970\nand that tells it I'm looking for\na type of record, the MX type.\n\n269\n00:13:24,970 --> 00:13:31,260\nAnd I can look for IT PRO.TV, and when I\ndo that I get a different response back.\n\n270\n00:13:31,260 --> 00:13:33,500\nNotice in the answer section,\n\n271\n00:13:33,500 --> 00:13:36,890\ninstead of those two A records\nthat I got before, right?\n\n272\n00:13:36,890 --> 00:13:40,230\nHere were the two A records that I\ngot in my answer section before.\n\n273\n00:13:40,230 --> 00:13:42,000\nThat was when I was going to the website.\n\n274\n00:13:42,000 --> 00:13:44,990\nBut now it knows I'm looking for\na mail exchanger, and\n\n275\n00:13:44,990 --> 00:13:48,830\nyou'll see that I actually\ngot five responses.\n\n276\n00:13:48,830 --> 00:13:49,390\nAll right?\n\n277\n00:13:49,390 --> 00:13:52,410\nRemember, I said that our\nemail is posted with Google.\n\n278\n00:13:52,410 --> 00:13:54,610\nThese are all Google's mail servers.\n\n279\n00:13:54,610 --> 00:13:57,750\nWhen you send an email to me,\nit actually goes to Google.\n\n280\n00:13:57,750 --> 00:13:59,400\nThat's where my mailbox is.\n\n281\n00:13:59,400 --> 00:14:01,880\nIt does the MX record lookup, and\n\n282\n00:14:01,880 --> 00:14:06,000\nit learns that these are the mail\nservers that are responsible for me.\n\n283\n00:14:06,000 --> 00:14:08,650\nSo you're a mail server that's sitting\nthere with an email trying to figure out\n\n284\n00:14:08,650 --> 00:14:09,150\nhow to deliver it.\n\n285\n00:14:09,150 --> 00:14:13,500\nIt knows that it can send the email\nto any of these five servers, and\n\n286\n00:14:13,500 --> 00:14:14,000\nit'll get to me.\n\n287\n00:14:14,000 --> 00:14:15,350\nAll right.\n\n288\n00:14:15,350 --> 00:14:16,070\nAnd then it will.\n\n289\n00:14:16,070 --> 00:14:18,480\nIt'll go over to Google and\nthen when I check my email next,\n\n290\n00:14:18,480 --> 00:14:20,860\nI'll have that email sitting right there,\nright.\n\n291\n00:14:20,860 --> 00:14:23,500\nNow, that MX record is\nwhat made that happen.\n\n292\n00:14:23,500 --> 00:14:27,460\nSo if you bring up a mail server, and\nyou don't define an MX record to let\n\n293\n00:14:27,460 --> 00:14:31,190\npeople know how to get to it,\nyou're only gonna have internal email.\n\n294\n00:14:31,190 --> 00:14:34,870\nAnd likely, your outgoing email will work,\nbut incoming email won't.\n\n295\n00:14:34,870 --> 00:14:36,950\nPeople won't be able to send you email.\n\n296\n00:14:36,950 --> 00:14:40,130\nSo setting up an MX record\nis really important,\n\n297\n00:14:40,130 --> 00:14:41,730\nnow, you'll see where\nwe've got five MX records.\n\n298\n00:14:41,730 --> 00:14:42,890\nWhy do we have five?\n\n299\n00:14:42,890 --> 00:14:47,820\nWell, usually it's either for\nlow balancing or redundancy.\n\n300\n00:14:47,820 --> 00:14:51,040\nWhen you create a mail exchanger\nrecord you set a weight,\n\n301\n00:14:51,040 --> 00:14:53,400\nthat's this number right here, a priority.\n\n302\n00:14:53,400 --> 00:14:57,190\nAnd the priority is defining\nwhich server we prefer.\n\n303\n00:14:57,190 --> 00:15:01,240\nThe lower the number,\nthe more preferred the server is.\n\n304\n00:15:01,240 --> 00:15:03,730\nSo, while I've got five servers listed,\n\n305\n00:15:03,730 --> 00:15:07,740\nnotice that there's this one right\nhere that has a priority of ten.\n\n306\n00:15:07,740 --> 00:15:10,090\nIf any of you were to send\nme an email right now,\n\n307\n00:15:10,090 --> 00:15:11,490\nthat's the record you're gonna use.\n\n308\n00:15:11,490 --> 00:15:12,110\nYou're gonna use that one.\n\n309\n00:15:12,110 --> 00:15:14,390\nIt's got a priority of ten,\nthat's the best one.\n\n310\n00:15:15,970 --> 00:15:19,720\nIf you can't get to that, though,\nif that server were to fail.\n\n311\n00:15:19,720 --> 00:15:21,350\nThen you move to the next.\n\n312\n00:15:21,350 --> 00:15:27,293\nAnd notice, my next ones here,\nI've got alt1 and alt2.aspmx.l.google.com.\n\n313\n00:15:27,293 --> 00:15:28,180\nAll right.\n\n314\n00:15:28,180 --> 00:15:30,620\nAnd they both have a priority of 20.\n\n315\n00:15:30,620 --> 00:15:32,340\nThat's a tie.\n\n316\n00:15:32,340 --> 00:15:36,020\nAnd when you have a tie,\nload balancing happens.\n\n317\n00:15:36,020 --> 00:15:39,720\nIt's gonna rotate those records back and\nforth as people do the queries, and\n\n318\n00:15:39,720 --> 00:15:43,640\nso half the traffic,is gonna go to one and\nhalf the traffic is gonna go to the other.\n\n319\n00:15:43,640 --> 00:15:46,823\nIt creates like a,\na very poor version of load balancing.\n\n320\n00:15:46,823 --> 00:15:49,975\nIf both of those were to go down,\nthen you'd go to the next one,\n\n321\n00:15:49,975 --> 00:15:52,055\nsee where that had a priority of 30, and\n\n322\n00:15:52,055 --> 00:15:55,753\nthere's two of those two and\nyou would bounce between those two, right.\n\n323\n00:15:55,753 --> 00:15:58,029\nNow for most people you're not going\nto have that many mail servers.\n\n324\n00:15:58,029 --> 00:16:00,470\nSomebody like Google,\nsure they're going to have a ton.\n\n325\n00:16:00,470 --> 00:16:03,930\nBut if your setting up your own,\nyou'll probably only have one or two.\n\n326\n00:16:03,930 --> 00:16:07,980\nAnd so you'll set up your MX record to\npoint to which ever one is preferred and\n\n327\n00:16:07,980 --> 00:16:08,990\nassign a priority to that.\n\n328\n00:16:08,990 --> 00:16:10,300\nThat's pretty important.\n\n329\n00:16:10,300 --> 00:16:11,020\nRight.\n\n330\n00:16:11,020 --> 00:16:15,040\nWell in my environment I've\ngot this server set up and\n\n331\n00:16:15,040 --> 00:16:19,780\nit's called OSX- Server 1 .Lab.itpro.tv.\n\n332\n00:16:19,780 --> 00:16:22,670\nLet's say that I wanted to\ncreate email for that domain.\n\n333\n00:16:22,670 --> 00:16:26,560\nI would need to create a DNS\nrecord that told people where that\n\n334\n00:16:26,560 --> 00:16:27,800\nmailing exchange was.\n\n335\n00:16:27,800 --> 00:16:32,600\nSo if I go down here to DNS, I can see\nthat I'm already hosting lab.itpro.tv,\n\n336\n00:16:32,600 --> 00:16:36,690\nit's right there, and\nI can come in to that zone.\n\n337\n00:16:36,690 --> 00:16:38,550\nAnd I can create a new record.\n\n338\n00:16:38,550 --> 00:16:40,580\nSo I'm just gonna go down here and\ncreate a new record.\n\n339\n00:16:40,580 --> 00:16:43,800\nAnd you'll see Add a Mail Exchanger Record\nis one of my options and\n\n340\n00:16:43,800 --> 00:16:45,150\nI can punch that in.\n\n341\n00:16:45,150 --> 00:16:47,180\nMail exchanger records are pretty simple.\n\n342\n00:16:47,180 --> 00:16:50,250\nYou tell it what domain\nit's gonna be servicing.\n\n343\n00:16:50,250 --> 00:16:52,240\nThen you tell it what the server is.\n\n344\n00:16:52,240 --> 00:16:53,700\nSo I'm gonna punch in my server.\n\n345\n00:16:53,700 --> 00:16:57,010\nAnd then you tell it the priority.\n\n346\n00:16:57,010 --> 00:16:57,870\nAll right?\n\n347\n00:16:57,870 --> 00:17:01,000\nI've only got one, but I'll go ahead and\ngive it a priority of ten and\n\n348\n00:17:01,000 --> 00:17:04,320\nthat way I can always add more later and\nI've got a little bit of growing room.\n\n349\n00:17:04,320 --> 00:17:05,940\nIf I have a new server,\nI want to be preferred.\n\n350\n00:17:05,940 --> 00:17:10,060\nLike I set it to a five because I left\na little space there at the beginning.\n\n351\n00:17:10,060 --> 00:17:13,645\nBut now I've got a mail exchanger and\nwhen somebody wants to send email to\n\n352\n00:17:13,645 --> 00:17:16,350\nlab.itpro.tv, they'll\nknow how to get there.\n\n353\n00:17:16,350 --> 00:17:17,640\nAssuming this is my public DNS.\n\n354\n00:17:18,800 --> 00:17:20,580\nThis is on my own little server here.\n\n355\n00:17:20,580 --> 00:17:26,240\nIf you're using a service like,\nI'm drawing a blank here,\n\n356\n00:17:26,240 --> 00:17:29,660\nGoDaddy, or InterNIC,\nNetSol Network Solutions.\n\n357\n00:17:29,660 --> 00:17:33,610\nAny of those companies to host your\ndomain, then you would go to that company,\n\n358\n00:17:33,610 --> 00:17:34,990\nand you would add the MX record there,\nright?\n\n359\n00:17:34,990 --> 00:17:36,770\nThe public one that people\non the Internet see.\n\n360\n00:17:38,630 --> 00:17:41,410\nNow, you can have a server\nbe responsible for\n\n361\n00:17:41,410 --> 00:17:44,570\nemail domains that it's\nnot directly tied to.\n\n362\n00:17:44,570 --> 00:17:48,770\nSo for example, let's say I went out and\nI bought pets.com and so\n\n363\n00:17:48,770 --> 00:17:51,970\nI wanted to give all my employees\npets.com email addresses.\n\n364\n00:17:51,970 --> 00:17:54,380\nWell I could come down here and\nI could add a zone.\n\n365\n00:17:54,380 --> 00:17:59,190\nAnd so I'm gonna add a primary zone,\nwhich I'll call pets.com, all right?\n\n366\n00:17:59,190 --> 00:18:02,000\nI'll just go with all the defaults for\nthat one.\n\n367\n00:18:02,000 --> 00:18:05,514\nAnd then I can create a mail exchange or\nrecord inside of pets.com.\n\n368\n00:18:08,440 --> 00:18:14,350\nAnd when I do that, I can point\nit to osx-server1.lab.itpro.tv.\n\n369\n00:18:14,350 --> 00:18:18,470\nSee how the server doesn't have to\nbe in the same zone as the domain?\n\n370\n00:18:18,470 --> 00:18:22,280\nYou can have one mail server to handle\n500 domains if you wanted, right.\n\n371\n00:18:22,280 --> 00:18:27,380\nThere's a lot of, right for us,\nITProTV, we have a number of domains.\n\n372\n00:18:27,380 --> 00:18:30,545\nWe've got itpro.tv,\nitprotv.net, itprotv.com.\n\n373\n00:18:30,545 --> 00:18:32,490\nEdutainmentlive.com.\n\n374\n00:18:32,490 --> 00:18:33,810\nRight?\nAll the different\n\n375\n00:18:33,810 --> 00:18:35,850\nentities that are kind of\na part of this company.\n\n376\n00:18:35,850 --> 00:18:37,110\nWe've got all of those.\n\n377\n00:18:37,110 --> 00:18:38,850\nAnd they all point to\nthe same mail servers.\n\n378\n00:18:38,850 --> 00:18:40,260\nRight?\nOne mail server can handle many\n\n379\n00:18:40,260 --> 00:18:41,710\ndifferent domains.\n\n380\n00:18:41,710 --> 00:18:42,430\nAnd so I'll define it.\n\n381\n00:18:42,430 --> 00:18:44,130\nI can even give it a different\npriority if I want.\n\n382\n00:18:44,130 --> 00:18:45,410\nCuz it is an independent record.\n\n383\n00:18:46,420 --> 00:18:47,770\nAnd I'll get that created.\n\n384\n00:18:47,770 --> 00:18:50,840\nAnd so now, when somebody does\na lookup against pets.com.\n\n385\n00:18:50,840 --> 00:18:53,250\nAssuming this is my public DNS server.\n\n386\n00:18:53,250 --> 00:18:55,030\nThen they'll get this MX record.\n\n387\n00:18:55,030 --> 00:18:58,070\nAnd they'll know where to\nsend the emails for pets.com.\n\n388\n00:18:58,070 --> 00:19:01,560\nSo when you go to set up a mail server,\nDNS is really important.\n\n389\n00:19:01,560 --> 00:19:06,210\nNow, I'm doing it first to show you guys\nand to enforce how important it is, but\n\n390\n00:19:06,210 --> 00:19:11,475\nin real life land, you probably wanna\nget your mail server set up first, and\n\n391\n00:19:11,475 --> 00:19:13,425\nthen add the MX record.\n\n392\n00:19:13,425 --> 00:19:15,495\nCuz as soon as the MX record is there,\n\n393\n00:19:15,495 --> 00:19:17,785\npeople out on the internet\nare able to use it.\n\n394\n00:19:17,785 --> 00:19:22,195\nSo email might start coming in right now,\nbut my mail server's not running yet.\n\n395\n00:19:22,195 --> 00:19:23,215\nAnd then email's gonna bounce.\n\n396\n00:19:23,215 --> 00:19:24,855\nIt's gonna say they can't\ncontact the server.\n\n397\n00:19:24,855 --> 00:19:29,035\nNow, remember with SMTP,\nwhen you transmit an email,\n\n398\n00:19:29,035 --> 00:19:32,040\nif it fails, your server will retry.\n\n399\n00:19:32,040 --> 00:19:32,590\nOkay.\n\n400\n00:19:32,590 --> 00:19:34,830\nMost servers follow their\nown little intervals.\n\n401\n00:19:34,830 --> 00:19:39,270\nA lot of them will retry three\ntimes within a five minute span.\n\n402\n00:19:39,270 --> 00:19:44,250\nAnd if it fails,\nthen it will retry over a six hour span.\n\n403\n00:19:44,250 --> 00:19:49,970\nAnd if that fails, it will retry over\na 48 hour spam, I mean span not spam.\n\n404\n00:19:49,970 --> 00:19:54,000\nAnd after 48 hours, if it still doesn't\ndeliver, then you get your bounce message.\n\n405\n00:19:54,000 --> 00:19:55,160\nYou guys might have\nencountered that before.\n\n406\n00:19:55,160 --> 00:20:01,170\nWhere you send an email and after a few\nhours, you get a message saying, warning.\n\n407\n00:20:01,170 --> 00:20:03,180\nThis email has been delayed.\n\n408\n00:20:03,180 --> 00:20:04,840\nDelivery has been delayed.\n\n409\n00:20:04,840 --> 00:20:06,740\nAnd then, after a longer period of time,\n\n410\n00:20:06,740 --> 00:20:09,720\nyou get another email saying,\na non-delivery reporter.\n\n411\n00:20:09,720 --> 00:20:12,010\nNDR saying,\nthis email could not be delivered.\n\n412\n00:20:12,010 --> 00:20:13,770\nThat's because the server was retrying.\n\n413\n00:20:13,770 --> 00:20:15,970\nIt was saying, I wanna try and\nget that email there.\n\n414\n00:20:15,970 --> 00:20:19,460\nWell if we create the MX records,\nbefore the server is up,\n\n415\n00:20:19,460 --> 00:20:20,580\nthat's what's gonna happen, right?\n\n416\n00:20:20,580 --> 00:20:24,330\nOur other people that are emailing\nus are gonna start getting delays.\n\n417\n00:20:24,330 --> 00:20:26,820\nSo we'll typically wanna set\nthat server up first, and\n\n418\n00:20:26,820 --> 00:20:30,100\nthen go add the MX records so\npeople can find it and get to it.\n\n419\n00:20:30,100 --> 00:20:31,890\nIf it's a new server it\ndoesn't really matter.\n\n420\n00:20:31,890 --> 00:20:34,820\nIf it's a new server people probably\naren't emailing you yet, right?\n\n421\n00:20:34,820 --> 00:20:39,400\nBut if it's an existing environment, a\ndomain that's already in use, that stuff.\n\n422\n00:20:39,400 --> 00:20:41,040\nThe MX record will be the last\nyou thing you configure.\n\n423\n00:20:43,050 --> 00:20:46,120\nAlright, but\nI've got my DNS infrastructure in place,\n\n424\n00:20:46,120 --> 00:20:47,240\nnow it's time to start on my mail server.\n\n425\n00:20:48,300 --> 00:20:50,700\nOver here in my services list,\nI can find Mail.\n\n426\n00:20:50,700 --> 00:20:51,810\nIt's right here.\n\n427\n00:20:51,810 --> 00:20:55,410\nAnd there's quite a few options\nright here on this screen.\n\n428\n00:20:55,410 --> 00:20:57,460\nOne of the most important options for\n\n429\n00:20:57,460 --> 00:21:01,060\nus is right down here at the bottom,\nadd domains.\n\n430\n00:21:01,060 --> 00:21:04,370\nWe need to tell the mail server\nwhat domains it's hosting.\n\n431\n00:21:04,370 --> 00:21:10,120\nIf it receives email for a domain that's\nnot in this list, it will reject it.\n\n432\n00:21:10,120 --> 00:21:14,220\nSo if I were to get an email to this\nserver right now, to don@pets.com,\n\n433\n00:21:14,220 --> 00:21:15,720\nI'm gonna reject it.\n\n434\n00:21:15,720 --> 00:21:16,870\nIt's not in my list.\n\n435\n00:21:16,870 --> 00:21:18,360\nOr don@lab.itpro.tv.\n\n436\n00:21:18,360 --> 00:21:19,930\nI'm gonna reject it.\n\n437\n00:21:19,930 --> 00:21:21,500\nThat's not on my list.\n\n438\n00:21:21,500 --> 00:21:25,270\nI need to add all the domains this\none is going to be servicing.\n\n439\n00:21:25,270 --> 00:21:28,229\nI'll come in and\nI'll punch in lab.itpro.tv.\n\n440\n00:21:30,505 --> 00:21:32,270\nWe'll create that one.\n\n441\n00:21:32,270 --> 00:21:34,320\nAnd then, I'll add in pets.com.\n\n442\n00:21:34,320 --> 00:21:35,800\nThat was the other one that I did.\n\n443\n00:21:37,490 --> 00:21:39,610\nSo I'm just gonna add those in.\n\n444\n00:21:39,610 --> 00:21:43,170\nAnd now I've got those two domains\nthat I'm gonna be hosting.\n\n445\n00:21:43,170 --> 00:21:48,270\nSo now when the server receives an email\nthat's destined for a pets.com address,\n\n446\n00:21:48,270 --> 00:21:51,430\nor if it's destined for\na lab.itprotv address, it'll look in and\n\n447\n00:21:51,430 --> 00:21:53,670\nsay oh yeah, that's me,\nI'm responsible for that.\n\n448\n00:21:53,670 --> 00:21:56,470\nLet me see if I have a user account\nthat matches that email address.\n\n449\n00:21:56,470 --> 00:21:58,770\nAnd if I do,\nI'll put the email in my mailbox.\n\n450\n00:21:58,770 --> 00:21:59,960\nProblem solved, right?\n\n451\n00:21:59,960 --> 00:22:02,690\nSo important step there\nto get that set up.\n\n452\n00:22:02,690 --> 00:22:06,100\nThe other options here are fairly\nstraightforward, Permissions.\n\n453\n00:22:06,100 --> 00:22:07,280\nWho can get to it.\n\n454\n00:22:07,280 --> 00:22:09,280\nAnd this is gonna be\nwhere our clients are and\n\n455\n00:22:09,280 --> 00:22:11,550\nour other servers that\nare sending us email.\n\n456\n00:22:11,550 --> 00:22:13,840\nFor a mail servers,\nif it's gonna be receiving email,\n\n457\n00:22:13,840 --> 00:22:17,100\nyou probably want to allow connections\nfrom everywhere, and that is the default.\n\n458\n00:22:17,100 --> 00:22:18,020\nAll right?\n\n459\n00:22:18,020 --> 00:22:20,390\nAnd then how are you\ngonna do authentication.\n\n460\n00:22:20,390 --> 00:22:22,080\nWhen people connect to this mail server,\n\n461\n00:22:22,080 --> 00:22:25,780\nthey need to authenticate and Apple\nsupports a number of different methods.\n\n462\n00:22:25,780 --> 00:22:28,420\nIf I go over here to edit,\nyou can pull up the list of\n\n463\n00:22:28,420 --> 00:22:31,680\nall the different ways that\npeople can authenticate.\n\n464\n00:22:31,680 --> 00:22:35,660\nAnd so I've got automatic,\nwhich is what we normally choose.\n\n465\n00:22:35,660 --> 00:22:36,440\nOpen directory.\n\n466\n00:22:36,440 --> 00:22:39,840\nIf you have an Apple open directory in\nplace, you can authenticate against that.\n\n467\n00:22:39,840 --> 00:22:42,720\nActive directory,\nif there is a Microsoft active directory.\n\n468\n00:22:42,720 --> 00:22:45,910\nLocal users, which means anybody that\nreceives an email would have to have\n\n469\n00:22:45,910 --> 00:22:49,760\na local account on this server and\nthen custom.\n\n470\n00:22:49,760 --> 00:22:50,840\nCustom lets you pick and\n\n471\n00:22:50,840 --> 00:22:53,840\nchoose from a number of different\nauthentication mechanisms.\n\n472\n00:22:53,840 --> 00:22:57,800\nKerberos for example is what active\ndirectory and open directory uses.\n\n473\n00:22:57,800 --> 00:22:59,140\nMD5 hashes.\n\n474\n00:22:59,140 --> 00:23:02,480\nIf we're doing checksum-based\nauthentication, people can connect and\n\n475\n00:23:02,480 --> 00:23:03,920\naccess that way.\n\n476\n00:23:03,920 --> 00:23:04,780\nCleartext.\n\n477\n00:23:04,780 --> 00:23:06,310\nThey can send a password in plaintext.\n\n478\n00:23:06,310 --> 00:23:07,550\nThat's a great idea.\n\n479\n00:23:07,550 --> 00:23:08,605\nI'm being sarcastic.\n\n480\n00:23:08,605 --> 00:23:10,850\n[LAUGH] So, not something we wanna do.\n\n481\n00:23:10,850 --> 00:23:13,080\nBut see, you've got a different\nfew options there, but\n\n482\n00:23:13,080 --> 00:23:14,710\nnormally we're going to choose automatic.\n\n483\n00:23:14,710 --> 00:23:18,220\nAnd what automatic says is\nwhen a client connects,\n\n484\n00:23:18,220 --> 00:23:22,240\nApple's going to start with the strongest\nauthentication method first, and\n\n485\n00:23:22,240 --> 00:23:25,410\nif that fails, we start kind of moving\nthrow to hit each of the other ones.\n\n486\n00:23:27,280 --> 00:23:28,210\nSo I'll just set mine to automatic.\n\n487\n00:23:30,220 --> 00:23:32,270\nAll right.\nNext, we've got push notifications.\n\n488\n00:23:33,410 --> 00:23:39,970\nBy default, with POP3 and IMAP4,\nif somebody's running a mail client,\n\n489\n00:23:39,970 --> 00:23:44,110\nit will check in at certain intervals\nto see if there's any new email, right?\n\n490\n00:23:44,110 --> 00:23:45,359\nSo I might have it set\nto every 15 minutes.\n\n491\n00:23:45,359 --> 00:23:49,622\nSo every 15 minutes, my IMAP client will\ncheck the server to see if I've got new\n\n492\n00:23:49,622 --> 00:23:52,082\nemail, and that works great for\nmost people.\n\n493\n00:23:52,082 --> 00:23:54,706\nBut some people live and\ndie by their email.\n\n494\n00:23:54,706 --> 00:23:55,519\nThey don't want to delay.\n\n495\n00:23:55,519 --> 00:23:58,646\nThey want to know the instant\na new email comes in and for that,\n\n496\n00:23:58,646 --> 00:24:00,790\nwe can set up push notifications.\n\n497\n00:24:00,790 --> 00:24:02,770\nThis is especially true if you're\ngoing to have mobile users,\n\n498\n00:24:02,770 --> 00:24:04,370\npeople are using a cell phone.\n\n499\n00:24:04,370 --> 00:24:07,840\nIMap can do push notifications that\ntell them when a new email comes in.\n\n500\n00:24:07,840 --> 00:24:09,130\nWe can set that up.\n\n501\n00:24:09,130 --> 00:24:12,240\nJust like push notifications on everything\nelse though, it'll require us to\n\n502\n00:24:12,240 --> 00:24:15,880\nset up an Apple ID because it actually\npushes through Apple's server and\n\n503\n00:24:15,880 --> 00:24:16,860\nyou'll have to have a certificate.\n\n504\n00:24:17,970 --> 00:24:21,050\nSo we would run through that\nEnable Push Notifications Wizard.\n\n505\n00:24:21,050 --> 00:24:24,530\nIt's pretty simple, you just punch in\nan Apple ID, it gets the certificate and\n\n506\n00:24:24,530 --> 00:24:26,920\nautomatically applies it,\nso real easy process there.\n\n507\n00:24:29,540 --> 00:24:33,510\nAll right, I'm gonna hold off on some of\nthese other ones like Virus and Junk and\n\n508\n00:24:33,510 --> 00:24:35,350\nRelay and Limit Mail.\n\n509\n00:24:35,350 --> 00:24:38,250\nWe're gonna come back and\nvisit those a little bit later, but\n\n510\n00:24:38,250 --> 00:24:42,930\nfor the basic functionality of getting\nour server set up, those are the options.\n\n511\n00:24:42,930 --> 00:24:47,370\nWe can flip our ON switch and\nnow, we've got a mail server.\n\n512\n00:24:47,370 --> 00:24:48,850\nWe're up.\nWe're running our mail server.\n\n513\n00:24:48,850 --> 00:24:53,930\nIt just turned on Postfix, it turned\non Dovecot, it turned on SpamAssassin.\n\n514\n00:24:53,930 --> 00:24:56,070\nIt turned on Clam AV.\n\n515\n00:24:56,070 --> 00:24:59,150\nIt's got them all set up and\nscanning and running.\n\n516\n00:24:59,150 --> 00:24:59,890\nWe're done.\n\n517\n00:24:59,890 --> 00:25:02,750\nIt's one of the easiest mail\nservers in the planet to set up and\n\n518\n00:25:02,750 --> 00:25:06,830\nnow, we just need to configure our user\naccounts and get some clients connected.\n\n519\n00:25:06,830 --> 00:25:09,020\nAnd that's what we're gonna be\ndoing the rest of the episode.\n\n520\n00:25:09,020 --> 00:25:11,390\nIn the next segment, I wanna take\nour clients and get them connected,\n\n521\n00:25:11,390 --> 00:25:15,350\nand then we'll come back and talk about\nfiltering and some of these other\n\n522\n00:25:15,350 --> 00:25:18,290\nadvanced options that we can do on\nthe server before we wrap it all up.\n\n523\n00:25:18,290 --> 00:25:19,660\nThat stuff's important too.\n\n524\n00:25:19,660 --> 00:25:22,550\nBut as far as the basic configuration,\nthat's really it.\n\n525\n00:25:22,550 --> 00:25:23,610\nIt is pretty straightforward.\n\n526\n00:25:24,850 --> 00:25:25,620\nAll right.\nWell, stay tuned.\n\n527\n00:25:25,620 --> 00:25:27,080\nThis is a good spot for\nus to take a break.\n\n528\n00:25:27,080 --> 00:25:30,413\nSo we'll pause here and when we get back,\nwe're gonna set up some user accounts\n\n529\n00:25:30,413 --> 00:25:33,003\nwith email addresses and\nwe'll get some clients connected so\n\n530\n00:25:33,003 --> 00:25:35,425\nwe can actually see whether\nthat mail server is working.\n\n531\n00:25:35,425 --> 00:25:36,122\nStay tuned.\n\n532\n00:25:36,122 --> 00:25:37,109\nWe'll be back after this.\n\n533\n00:25:37,109 --> 00:25:40,405\n[SOUND] All right,\n\n534\n00:25:40,405 --> 00:25:45,248\nwelcome back everybody.\n\n535\n00:25:45,248 --> 00:25:48,489\nSo at this point,\nI've got my mail server up and running.\n\n536\n00:25:48,489 --> 00:25:50,610\nThe next thing is I need\nto set up some mailboxes.\n\n537\n00:25:50,610 --> 00:25:52,940\nIt's not very effective without a mailbox.\n\n538\n00:25:52,940 --> 00:25:54,630\nSo I'm gonna jump in and\nstart to create that.\n\n539\n00:25:54,630 --> 00:25:57,430\nNow, we can create mailboxes for\nlocal users and\n\n540\n00:25:57,430 --> 00:26:00,580\nwe can create mailboxes for\nopen directory users if we've got them and\n\n541\n00:26:00,580 --> 00:26:03,310\nI've got an open directory here,\nso that's the way I'll go.\n\n542\n00:26:03,310 --> 00:26:05,150\nI'm gonna jump up here to my users and\n\n543\n00:26:05,150 --> 00:26:07,420\nyou'll see I've already got\na user account for myself, right.\n\n544\n00:26:07,420 --> 00:26:10,300\nSo there's Don Pezatt, local area user and\n\n545\n00:26:10,300 --> 00:26:14,380\nif I double-click on myself,\nthere's this email address field.\n\n546\n00:26:14,380 --> 00:26:19,610\nNow, if you're not running the mail\nserver, when you add email addresses here,\n\n547\n00:26:19,610 --> 00:26:21,900\nit's just for your contact information.\n\n548\n00:26:21,900 --> 00:26:25,120\nAnd when people search the open directory,\nthey can search and find your contact and\n\n549\n00:26:25,120 --> 00:26:28,900\nfind that email, but the assumption is,\nit's an external server.\n\n550\n00:26:28,900 --> 00:26:33,030\nNow that I'm running the mail server\nthough, when I add an address here,\n\n551\n00:26:33,030 --> 00:26:36,740\nit's gonna know that that's a hosted\nmailbox right here on my system.\n\n552\n00:26:36,740 --> 00:26:38,760\nSo that kinda changes things a little bit.\n\n553\n00:26:38,760 --> 00:26:42,025\nYou can still have emails addresses for\nexternal systems too, but\n\n554\n00:26:42,025 --> 00:26:46,985\nthe intention is that they are going\nto be for our internal accounts.\n\n555\n00:26:46,985 --> 00:26:50,815\nNow if I have an existing user account,\nI can come and add that address here or\n\n556\n00:26:50,815 --> 00:26:52,153\nmore commonly what I do,\n\n557\n00:26:52,153 --> 00:26:56,145\nis if you go back to the mail server,\nyou can pick the domain you want.\n\n558\n00:26:56,145 --> 00:26:59,757\nSo like I will pick Lab at itpro.tv and\nedit that.\n\n559\n00:26:59,757 --> 00:27:05,370\nAnd right here, I have got members and you\ncan choose to add members to that domain.\n\n560\n00:27:05,370 --> 00:27:08,570\nSo I'm gonna add and\nif I just start to type Don,\n\n561\n00:27:08,570 --> 00:27:10,970\nit'll find my user account,\nand there I go.\n\n562\n00:27:10,970 --> 00:27:13,930\nSo I'm adding Don Pezet and\nsee what it did over here,\n\n563\n00:27:13,930 --> 00:27:19,030\nit took my short name from Unix, and\nit put in donpezet@lab.itpro.tv.\n\n564\n00:27:19,030 --> 00:27:21,940\nSo now I've got an email\naddress in that domain.\n\n565\n00:27:23,050 --> 00:27:28,210\nAnd if I go back to my user account,\nback here, I can pull up my user and\n\n566\n00:27:28,210 --> 00:27:31,600\nthen right there,\ndonpezet@lab.itpro.tv right.\n\n567\n00:27:31,600 --> 00:27:36,270\nSo, it's now attached and it knows that\nI've got a valid mailbox, all right.\n\n568\n00:27:36,270 --> 00:27:37,940\nSo it's got that address, there it is.\n\n569\n00:27:37,940 --> 00:27:42,790\nI could just add in,\nlike I might wanna be donpezet@pets.com.\n\n570\n00:27:42,790 --> 00:27:43,900\nI could punch that one in too.\n\n571\n00:27:43,900 --> 00:27:46,460\nAll right, woops, pressed enter, sorry.\n\n572\n00:27:46,460 --> 00:27:47,160\nThere we go.\n\n573\n00:27:47,160 --> 00:27:49,810\nAnd so now I've got donpezet@pets.com.\n\n574\n00:27:49,810 --> 00:27:51,840\nSo I've got that one, and\nnow we're ready to rock.\n\n575\n00:27:51,840 --> 00:27:54,000\nSo, usually a little easier for\n\n576\n00:27:54,000 --> 00:27:56,450\nme to add it on that domain setting cuz\nthat's kind of the way that I go on it.\n\n577\n00:27:58,680 --> 00:28:02,840\nThe cool thing here though,\nis that when I start to add new users,\n\n578\n00:28:02,840 --> 00:28:04,400\nnew users will be a little bit different.\n\n579\n00:28:04,400 --> 00:28:07,430\nWhen you add a new user, so\nI'm going to go in here and\n\n580\n00:28:07,430 --> 00:28:12,540\nadd a new network user I'll add one for\nJohn Doe, right.\n\n581\n00:28:12,540 --> 00:28:14,640\nNotice what it did when I hit Tab.\n\n582\n00:28:14,640 --> 00:28:16,180\nIt autopopulated my account name.\n\n583\n00:28:16,180 --> 00:28:19,099\nNow it always did that,\nthat's not anything new, but\n\n584\n00:28:19,099 --> 00:28:21,900\nit also auto populated\nthe e-mail addresses.\n\n585\n00:28:21,900 --> 00:28:24,820\nSo it just assumed that I\nwanted John Doe to have e-mail\n\n586\n00:28:24,820 --> 00:28:27,700\naddresses in those domains because\nI'm hosting those domains here.\n\n587\n00:28:27,700 --> 00:28:28,910\nI might not have wanted that.\n\n588\n00:28:28,910 --> 00:28:31,840\nI might want John Doe to\nhave a lab.itpro.tv address,\n\n589\n00:28:31,840 --> 00:28:34,040\nbut not a pets.com address.\n\n590\n00:28:34,040 --> 00:28:37,330\nSo I can remove that and\nnow he just has a lab.itpro.tv, right.\n\n591\n00:28:37,330 --> 00:28:40,840\nBut it autopopulates it, so\nI don't have to worry about it.\n\n592\n00:28:40,840 --> 00:28:43,270\nAnd then I can just hit Create and\nhe's gonna have that account,\n\n593\n00:28:43,270 --> 00:28:47,800\nwell, assuming I give him a password,\nthere's a good security practice.\n\n594\n00:28:47,800 --> 00:28:50,770\nThere we go, and\nnow John Doe is in action.\n\n595\n00:28:50,770 --> 00:28:52,560\nOh, I didn't set a picture for him,\n\n596\n00:28:52,560 --> 00:28:54,970\nhe's gonna be all mad if he's\njust a silhouette person.\n\n597\n00:28:56,040 --> 00:28:57,245\nSo let's go fortune cookie.\n\n598\n00:28:57,245 --> 00:28:59,330\n[LAUGH] There we go.\n\n599\n00:28:59,330 --> 00:29:03,090\nAnd then I can add in more users and,\nyou know, just, for your existing users,\n\n600\n00:29:03,090 --> 00:29:05,120\nyou have to go back and\nedit them and add the mail address.\n\n601\n00:29:05,120 --> 00:29:06,780\nThat's where I use the domain screen.\n\n602\n00:29:06,780 --> 00:29:08,860\nBut for new users, it's just automatic.\n\n603\n00:29:08,860 --> 00:29:13,480\nYou just jump through here, and it will\npopulate out with those addresses for\n\n604\n00:29:13,480 --> 00:29:16,290\nus and now we've got some mailboxes.\n\n605\n00:29:18,030 --> 00:29:19,870\nAll right,\nnow those mailboxes are created.\n\n606\n00:29:21,310 --> 00:29:24,130\nAt first glance when you\nlook at this user list for\n\n607\n00:29:24,130 --> 00:29:29,260\nexample, you don't really know who\nhas a mailbox and who doesn't, okay?\n\n608\n00:29:29,260 --> 00:29:34,360\nSo a user with a mailbox doesn't look any\ndifferent than a user without a mailbox.\n\n609\n00:29:34,360 --> 00:29:37,520\nSo if we wanna see who all has mailboxes,\n\n610\n00:29:37,520 --> 00:29:41,160\nthe easiest way to do that is to go\ndown to mail, and edit that domain and\n\n611\n00:29:41,160 --> 00:29:45,140\nsee how lab.itprotv,\nit now shows three email addresses.\n\n612\n00:29:45,140 --> 00:29:47,650\nAnd pets.com, two email addresses.\n\n613\n00:29:47,650 --> 00:29:51,370\nSo, I can tell that there's three users\nin one domain and two in the other.\n\n614\n00:29:51,370 --> 00:29:55,280\nAnd if I edit the domain, that's where I\ncan see all the users that have mailboxes.\n\n615\n00:29:55,280 --> 00:29:56,830\nSo that's that filtered\nview that I can get.\n\n616\n00:29:58,290 --> 00:30:01,840\nNow each of these mailboxes are really\njust miniature databases stored\n\n617\n00:30:01,840 --> 00:30:02,820\non the hard drive.\n\n618\n00:30:02,820 --> 00:30:06,020\nAnd so they're being tucked away inside\nof the data files on the system and\n\n619\n00:30:06,020 --> 00:30:09,100\nwhen a user checks their mail,\nthey're just checking that database.\n\n620\n00:30:09,100 --> 00:30:10,900\nAnd when new email comes in for that user,\n\n621\n00:30:10,900 --> 00:30:12,980\nthe server's just sticking\nit into that database.\n\n622\n00:30:12,980 --> 00:30:15,320\nEach user has their own database.\n\n623\n00:30:15,320 --> 00:30:18,650\nIf a user has an email address\nin more than one domain,\n\n624\n00:30:18,650 --> 00:30:21,310\nit's all grouped into one database for\nthat user.\n\n625\n00:30:21,310 --> 00:30:24,530\nSo the database is per user,\nnot per email address.\n\n626\n00:30:24,530 --> 00:30:29,900\nIf you want to see those, there's not\nreally a lot of reason to look at them,\n\n627\n00:30:29,900 --> 00:30:32,380\nbut if you want to see them,\nthey are on the hard drive.\n\n628\n00:30:32,380 --> 00:30:39,760\nIf we browse into /Library/Server/Mail,\nall right,\n\n629\n00:30:39,760 --> 00:30:43,850\nthis is the primary folder for mail, and\nyou'll see a config and data folder.\n\n630\n00:30:43,850 --> 00:30:50,200\nThe database is inside of data and\nthen, mail, all right.\n\n631\n00:30:50,200 --> 00:30:54,400\nSo inside of here is where we're going\nto start seeing those mailbox databases.\n\n632\n00:30:54,400 --> 00:30:57,020\nNow, I say it's where we're\ngoing to start seeing them.\n\n633\n00:30:57,020 --> 00:31:00,980\nRight now I don't see them and the reason\nis, the mailboxes are completely empty.\n\n634\n00:31:00,980 --> 00:31:02,870\nIt hasn't even created the database.\n\n635\n00:31:02,870 --> 00:31:06,900\nThe first time they receive an email,\nthat database will get created.\n\n636\n00:31:06,900 --> 00:31:08,660\nAll right, or if they just log in and\n\n637\n00:31:08,660 --> 00:31:10,900\ngo to send an email,\nthat database will get created.\n\n638\n00:31:10,900 --> 00:31:12,390\nBut right now, it's kind of empty.\n\n639\n00:31:12,390 --> 00:31:14,570\nI'm gonna save this prompt open here so\n\n640\n00:31:14,570 --> 00:31:17,480\nas we start to generate some traffic\nwatch, we see those files appear.\n\n641\n00:31:17,480 --> 00:31:24,020\nBut I'm just in\n/Library/Server/Mail/Data/Mail.\n\n642\n00:31:24,020 --> 00:31:26,755\nThere is one other folder here\nthat's kind of worth looking at.\n\n643\n00:31:26,755 --> 00:31:28,901\nLet's see if I can get at\nit without being an admin.\n\n644\n00:31:28,901 --> 00:31:37,410\nI can which is\n/Library/Server/Mail/Data/Spool.\n\n645\n00:31:37,410 --> 00:31:42,314\nSpool is a temporary place where emails\nare stored when they're being sent or\n\n646\n00:31:42,314 --> 00:31:43,075\nreceived.\n\n647\n00:31:43,075 --> 00:31:46,940\nSo when an email first comes in,\nit goes into the spool folder.\n\n648\n00:31:46,940 --> 00:31:49,123\nThat's the queue,\nit's called a transport queue.\n\n649\n00:31:49,123 --> 00:31:51,672\nAnd it goes into that queue,\nand the server processes it,\n\n650\n00:31:51,672 --> 00:31:53,659\nsays all right whose\nmailbox does this go to?\n\n651\n00:31:53,659 --> 00:31:55,192\nLet me go put it in that mailbox.\n\n652\n00:31:55,192 --> 00:31:58,657\nOr if it's an outgoing mail,\nthe e-mail goes into this folder, and\n\n653\n00:31:58,657 --> 00:32:02,860\nit sits here while the server tries\nto contact the destination server.\n\n654\n00:32:02,860 --> 00:32:05,130\nAnd if it can't get to the destination\nserver the e-mail waits\n\n655\n00:32:05,130 --> 00:32:06,480\nright here in this spool.\n\n656\n00:32:06,480 --> 00:32:08,770\nBut if it gets to the destination\nserver it sends it, and\n\n657\n00:32:08,770 --> 00:32:09,870\nremoves it from the spool.\n\n658\n00:32:09,870 --> 00:32:12,760\nSo it's another folder that's\ninvolved in the process.\n\n659\n00:32:12,760 --> 00:32:15,420\nThough the mailboxes themselves\nare right here in this mail folder.\n\n660\n00:32:16,670 --> 00:32:19,030\nAlright, well let's get\nsome activity going here.\n\n661\n00:32:19,030 --> 00:32:21,910\nI created some accounts,\nJohn Doe and Jane Doe.\n\n662\n00:32:21,910 --> 00:32:23,010\nNow let's get connected to their mailbox.\n\n663\n00:32:23,010 --> 00:32:28,575\nI'm gonna switch over here to\na client that I've got fire it up.\n\n664\n00:32:28,575 --> 00:32:32,645\nApparently I'm logged into it.\n\n665\n00:32:32,645 --> 00:32:35,825\nActually, here I can show you this,\nthe neat thing about the mail server\n\n666\n00:32:35,825 --> 00:32:37,735\nis that it can authenticate\nagainst open directory,\n\n667\n00:32:37,735 --> 00:32:41,285\nit can authenticate against all this stuff\nbut that doesn't mean your client has to.\n\n668\n00:32:41,285 --> 00:32:45,115\nMy workstation doesn't have to\nbe bound to the Open Directory.\n\n669\n00:32:45,115 --> 00:32:46,835\nAnd I can still log into with\nan open directory account.\n\n670\n00:32:46,835 --> 00:32:48,835\nIt doesn't even have to be my account.\n\n671\n00:32:48,835 --> 00:32:50,160\nI'm logged in as Don.\n\n672\n00:32:50,160 --> 00:32:52,830\nBut I can set up my mail client\nto connect as John Doe if want,\n\n673\n00:32:52,830 --> 00:32:55,780\nit's no big deal there.\n\n674\n00:32:55,780 --> 00:32:58,960\nI can fire up my Apple Mail Client,\nand in Apple Mail,\n\n675\n00:32:58,960 --> 00:33:00,820\nI just need to add the account.\n\n676\n00:33:00,820 --> 00:33:05,070\nNow, the Apple Mail Server is\na standards based mail server.\n\n677\n00:33:05,070 --> 00:33:07,640\nPop 3, I'm at four and SMTP.\n\n678\n00:33:07,640 --> 00:33:08,910\nBut it's not on the list, and\n\n679\n00:33:08,910 --> 00:33:12,750\nthat's because Apple encourages\nmost of their users to use iCloud.\n\n680\n00:33:12,750 --> 00:33:14,530\niCloud's not suitable for everybody.\n\n681\n00:33:14,530 --> 00:33:15,960\nSo in this case, we've got our own server.\n\n682\n00:33:15,960 --> 00:33:17,860\nWe'll have to choose\nadd other mail account.\n\n683\n00:33:17,860 --> 00:33:20,010\nAll right.\n\n684\n00:33:20,010 --> 00:33:23,450\nOn the next screen, it's gonna ask for\nsome really basic information.\n\n685\n00:33:23,450 --> 00:33:26,310\nFull name, email address, and password.\n\n686\n00:33:26,310 --> 00:33:28,900\nNotice it's asking for\nemail address, not user name.\n\n687\n00:33:28,900 --> 00:33:29,650\nWhat it's gonna try and\n\n688\n00:33:29,650 --> 00:33:34,060\ndo is it's gonna try and automatically\ndiscover the settings for that server.\n\n689\n00:33:34,060 --> 00:33:38,220\nIf you're using something like Gmail or\nMicrosoft Exchange,\n\n690\n00:33:38,220 --> 00:33:40,790\nauto discovery works really well,\nyou punch in your email address and\n\n691\n00:33:40,790 --> 00:33:42,760\npassword and\nit'll set everything up for you.\n\n692\n00:33:42,760 --> 00:33:44,280\nBut with Apple Mail it doesn't work, so\n\n693\n00:33:44,280 --> 00:33:49,520\nif I punch in John Doe, and\nI punch in his email address,\n\n694\n00:33:49,520 --> 00:33:54,660\nwhich is johndoe@lab.itpro.tv and\nI'll punch in his password.\n\n695\n00:33:54,660 --> 00:33:57,130\nWhen I hit create, It's gonna try and\nreach out to that server and\n\n696\n00:33:57,130 --> 00:33:59,420\ndiscover the settings, and it fails and\n\n697\n00:33:59,420 --> 00:34:02,510\nsee how it says account must\nbe manually configured right.\n\n698\n00:34:02,510 --> 00:34:06,280\nAutoconfigure doesn't work with\na standard server, and I'll hit next,\n\n699\n00:34:06,280 --> 00:34:08,550\nand it's just gonna ask me\nsome just basic questions.\n\n700\n00:34:08,550 --> 00:34:11,430\nIt saved my user name and password,\nso I'm not gonna redo those.\n\n701\n00:34:11,430 --> 00:34:14,760\nBut it's asking for the server and so\nI'll punch in the name of that server.\n\n702\n00:34:14,760 --> 00:34:20,620\nAnd it's asking me to pick whether\nit's POP or IMAP, all right?\n\n703\n00:34:20,620 --> 00:34:23,510\nPOP, if I wanna download the emails and\nnot leave them on the server, which\n\n704\n00:34:23,510 --> 00:34:27,670\nmakes my server mailbox really small,\nor IMAP if I want foldering support and\n\n705\n00:34:27,670 --> 00:34:29,670\ndownloading headers and\nall the advanced stuff.\n\n706\n00:34:29,670 --> 00:34:31,860\nIMAP is almost always what you want.\n\n707\n00:34:31,860 --> 00:34:32,700\nI'm gonna go and choose that.\n\n708\n00:34:34,708 --> 00:34:37,130\nNow it's gonna reach out,\nand it's gonna try and\n\n709\n00:34:37,130 --> 00:34:39,790\nuse SSL when it connects to the server.\n\n710\n00:34:39,790 --> 00:34:41,240\nI'm using a self signing certificate so\n\n711\n00:34:41,240 --> 00:34:44,590\nI'm getting a complaint here telling\nme the server can't be verified.\n\n712\n00:34:44,590 --> 00:34:46,770\nI can just hit connect anyway and\nit'll ignore it.\n\n713\n00:34:46,770 --> 00:34:48,690\nBut if you hit show certificate,\n\n714\n00:34:48,690 --> 00:34:51,238\nyou can actually tell it to\nalways trust that certificate.\n\n715\n00:34:51,238 --> 00:34:54,860\nSo I'm gonna be connecting to this server,\nI'll trust it in real life land\n\n716\n00:34:54,860 --> 00:34:57,680\nyou'd want to buy a certificate from\na valid provider like Digicert or\n\n717\n00:34:57,680 --> 00:34:59,660\nVerisign or somebody like that.\n\n718\n00:34:59,660 --> 00:35:01,780\nSo I'll go ahead and\nchoose that and hit Connect.\n\n719\n00:35:02,830 --> 00:35:05,780\nNow it's asking for\nme to authenticate against the server.\n\n720\n00:35:05,780 --> 00:35:07,870\nAnd so, oh wait no it's not.\n\n721\n00:35:07,870 --> 00:35:10,720\nI'm trusting that certificate,\nand so it's asking me for\n\n722\n00:35:10,720 --> 00:35:14,080\nadministrative credentials to add\nthe certificate to my certificate store.\n\n723\n00:35:14,080 --> 00:35:17,140\nSo I've gotta provide an Administrator\naccount for this machine.\n\n724\n00:35:17,140 --> 00:35:18,930\nAnd I can't remember if I'm\nan Administrator or not,\n\n725\n00:35:18,930 --> 00:35:20,235\nI guess we'll find out right here.\n\n726\n00:35:22,075 --> 00:35:23,725\nLet's see if I'm an admin.\n\n727\n00:35:23,725 --> 00:35:26,245\nApparently I am.\nAll right.\n\n728\n00:35:26,245 --> 00:35:30,245\nNow the settings that I put in a moment\nago, that was for incoming email, for\n\n729\n00:35:30,245 --> 00:35:33,185\nmy client to check my email and whatever.\n\n730\n00:35:33,185 --> 00:35:36,095\nBut to send email, we use SMTP.\n\n731\n00:35:36,095 --> 00:35:39,175\nAnd so, I've got to provide my\nSMTP credentials here also.\n\n732\n00:35:39,175 --> 00:35:41,235\nSo the server, I'm using the same server.\n\n733\n00:35:41,235 --> 00:35:44,140\nYou could actually use a separate\nserver for SMTP if you want.\n\n734\n00:35:44,140 --> 00:35:48,090\nA lot of people do, a lot of people have\nsomething like a Barracuda anti-spam\n\n735\n00:35:48,090 --> 00:35:51,800\nappliance and they use that for\ntheir smtp so it might be separate.\n\n736\n00:35:51,800 --> 00:35:54,680\nBut in our example we're\njust using the Apple one.\n\n737\n00:35:55,760 --> 00:35:59,980\nI'll put in that user name, old John Doe\nagain, and we'll get that created.\n\n738\n00:36:01,350 --> 00:36:05,640\nOnce that verifies,\nI'm now able to send email via SMTP.\n\n739\n00:36:05,640 --> 00:36:09,450\nAnd I'm able to receive email via POP or\nIMAP.\n\n740\n00:36:09,450 --> 00:36:13,490\nAnd all of that's going through\nmy OS X-server1 server.\n\n741\n00:36:13,490 --> 00:36:14,090\nSo I'm connected.\n\n742\n00:36:14,090 --> 00:36:17,050\nMy mailbox is not terribly exciting,\nthere's nothing in it.\n\n743\n00:36:17,050 --> 00:36:20,060\nSo I need to generate a little bit\nof activity to see what's going on.\n\n744\n00:36:20,060 --> 00:36:22,360\nI've got two folders by default,\ninbox and sent.\n\n745\n00:36:22,360 --> 00:36:27,600\nI'm gonna generate a new message and\nI'm gonna email Jane Doe\n\n746\n00:36:29,840 --> 00:36:32,590\nand the Apple mail client is nice\ncuz it integrates with contacts and\n\n747\n00:36:32,590 --> 00:36:34,800\nit's able to find these people real easy.\n\n748\n00:36:34,800 --> 00:36:36,330\nSo I'm just gonna do test Message.\n\n749\n00:36:37,690 --> 00:36:38,650\nThis is a test.\n\n750\n00:36:40,140 --> 00:36:42,830\nAnd I'll fire that one off, all right?\n\n751\n00:36:42,830 --> 00:36:44,770\nNow I just generated an email.\n\n752\n00:36:44,770 --> 00:36:47,870\nOn my mailbox,\nthat's gonna go into my sent mail, and so\n\n753\n00:36:47,870 --> 00:36:50,660\nnow my mailbox is gonna have data in it.\n\n754\n00:36:50,660 --> 00:36:53,770\nAnd it's going to Jane, and it's gonna\nget deposited in her mailbox, and\n\n755\n00:36:53,770 --> 00:36:56,250\nher mailbox is now gonna have data in it.\n\n756\n00:36:56,250 --> 00:36:59,050\nNow look at my, and\nsee how my sent mailbox is empty?\n\n757\n00:36:59,050 --> 00:37:01,600\nWell, every so\noften I'm gonna check in with the server.\n\n758\n00:37:01,600 --> 00:37:03,450\nI didn't set up push notifications, so\n\n759\n00:37:03,450 --> 00:37:06,650\nit's not showing this new\nmail in my sent folder.\n\n760\n00:37:06,650 --> 00:37:09,270\nBut if I hit get mail,\nit should refresh that.\n\n761\n00:37:09,270 --> 00:37:11,310\nAnd then that sent message\nwill show up in here.\n\n762\n00:37:12,340 --> 00:37:13,110\nAny time now.\n\n763\n00:37:15,630 --> 00:37:19,400\nAll right,\nnow the email right now is in my outbox.\n\n764\n00:37:19,400 --> 00:37:22,870\nThe outbox is a great\nindicator of an email problem.\n\n765\n00:37:22,870 --> 00:37:23,420\nAlright?\n\n766\n00:37:23,420 --> 00:37:25,770\nWhat kind of email problem can I have?\n\n767\n00:37:25,770 --> 00:37:27,990\nIf I can't contact the mail server,\n\n768\n00:37:27,990 --> 00:37:31,860\nthen that email sits in my outbox\nwhile it tries to contact the server.\n\n769\n00:37:31,860 --> 00:37:35,160\nAnd see down here where it says\noutgoing message is kinda stalling?\n\n770\n00:37:35,160 --> 00:37:37,540\nWell, this message is very, very small.\n\n771\n00:37:37,540 --> 00:37:41,780\nSo I likely have some kinda\nconnectivity issue with the server.\n\n772\n00:37:41,780 --> 00:37:43,700\nSo I'm not reaching out to it for\nsome reason.\n\n773\n00:37:43,700 --> 00:37:45,840\nI'm not sure what my issue is there.\n\n774\n00:37:45,840 --> 00:37:48,590\nI can wait, and I'll usually get\nan error message that'll explain.\n\n775\n00:37:48,590 --> 00:37:50,470\nSo maybe we'll give it\na minute to do that.\n\n776\n00:37:51,920 --> 00:37:54,060\nOr it could just be that\nit took a long time,\n\n777\n00:37:54,060 --> 00:37:56,920\nand while I stalled and\ntalked there, it finally went out.\n\n778\n00:37:56,920 --> 00:37:59,390\nWe'll have to do a little testing\nto make sure that's safe.\n\n779\n00:37:59,390 --> 00:38:01,940\nBut sure enough when I go in my\nsent mail it does show up now.\n\n780\n00:38:01,940 --> 00:38:05,160\nBut that out-box, if you seen\nan email stuck in the out-box that's\n\n781\n00:38:05,160 --> 00:38:07,640\na great indicator that you can't\nconnect to your mail server.\n\n782\n00:38:07,640 --> 00:38:10,220\nAnd that's where you need to check\nthings like basic connectivity.\n\n783\n00:38:10,220 --> 00:38:11,660\nCan you ping your mail server?\n\n784\n00:38:11,660 --> 00:38:13,210\nIs there a DNS entry for your mail server?\n\n785\n00:38:13,210 --> 00:38:14,700\nAre you able to look that up?\n\n786\n00:38:14,700 --> 00:38:16,810\nAre the firewall ports being blocked?\n\n787\n00:38:16,810 --> 00:38:17,760\nDo you even have a firewall?\n\n788\n00:38:17,760 --> 00:38:19,100\nSo there's no firewall between mine.\n\n789\n00:38:19,100 --> 00:38:20,480\nI know that's not my issue.\n\n790\n00:38:20,480 --> 00:38:25,680\nBut if you do have a firewall,\nwell POP uses port 110, TCP 110.\n\n791\n00:38:25,680 --> 00:38:28,640\nIMAP uses TCP 143.\n\n792\n00:38:28,640 --> 00:38:31,000\nSMTP uses TCP port 25.\n\n793\n00:38:31,000 --> 00:38:34,650\nIf a file's blocking any of those,\nyou might not be able to connect.\n\n794\n00:38:34,650 --> 00:38:37,290\nNow those are all the non-secure ports.\n\n795\n00:38:37,290 --> 00:38:40,580\nIf we're doing encryption,\nthings get a little crazier.\n\n796\n00:38:40,580 --> 00:38:43,020\nSMTP uses TCP port 597 for secure.\n\n797\n00:38:44,690 --> 00:38:48,500\nLet's see if I can remember the other\nones off the top of my head.\n\n798\n00:38:48,500 --> 00:38:52,880\nPOP3 and IMAP4, they use TCP 993 and 995,\nand I can never remember which is which.\n\n799\n00:38:52,880 --> 00:38:54,370\nSo I'd have to look those up.\n\n800\n00:38:54,370 --> 00:38:56,710\nBut there's different ports that\nare involved in that communication, and\n\n801\n00:38:56,710 --> 00:38:58,680\nif you've got a firewall,\nyou may need to go and\n\n802\n00:38:58,680 --> 00:39:02,150\nopen those up to allow that\ncommunication to go through, all right.\n\n803\n00:39:02,150 --> 00:39:06,140\nIf you ever wanna verify the ports,\nwe didn't see it when we did the setup.\n\n804\n00:39:06,140 --> 00:39:09,300\nBut if you go up here in your mail client,\nand you go to accounts.\n\n805\n00:39:10,670 --> 00:39:14,330\nAnd you find your account in the list,\nyou can go to advanced.\n\n806\n00:39:15,760 --> 00:39:19,460\nAnd inside of the advanced data it'll show\nyou what port it's using, and in my case\n\n807\n00:39:19,460 --> 00:39:24,580\nit says 143 use SSL, so it's actually not\nshowing the really advanced one, shoot.\n\n808\n00:39:24,580 --> 00:39:26,180\nSo that doesn't give us the full one.\n\n809\n00:39:26,180 --> 00:39:27,540\nThere's another way to pull it up.\n\n810\n00:39:27,540 --> 00:39:33,580\nSee if I can remember this,\nwhich is to here we go.\n\n811\n00:39:33,580 --> 00:39:37,064\nIf you right click on your inbox and\nchoose Edit and your name,\n\n812\n00:39:37,064 --> 00:39:40,280\nit gives you a different screen\nthat shows you a lot more.\n\n813\n00:39:40,280 --> 00:39:43,848\nAnd so I can look in here and\nsee my outgoing SMTP server this time and\n\n814\n00:39:43,848 --> 00:39:47,292\neven there it's not showing that\nport number, it's showing my\n\n815\n00:39:47,292 --> 00:39:51,401\nauthentication- I guess Apple mail\njust doesn't want to show me the port.\n\n816\n00:39:51,401 --> 00:39:52,829\nSo.\n\n817\n00:39:52,829 --> 00:39:56,950\nAll right, well my email was sent.\n\n818\n00:39:56,950 --> 00:39:58,540\nJane should have it.\n\n819\n00:39:58,540 --> 00:39:59,990\nI can log in as Jane and find out.\n\n820\n00:39:59,990 --> 00:40:01,540\nLet me just switch over to Jane's account.\n\n821\n00:40:04,460 --> 00:40:05,700\nAnd we'll log in as her.\n\n822\n00:40:06,840 --> 00:40:08,810\nI just created Jane's account,\nso it's gonna be all new.\n\n823\n00:40:08,810 --> 00:40:10,390\nIt'll take a second to get logged in.\n\n824\n00:40:10,390 --> 00:40:11,860\nBut we'll set up the mail client, and\n\n825\n00:40:11,860 --> 00:40:15,270\nshe should be able to see that mail\nfrom John sitting right there.\n\n826\n00:40:15,270 --> 00:40:17,960\nAnd she should be able to respond to it,\nand I should get the email.\n\n827\n00:40:17,960 --> 00:40:19,880\nRight.\nThe mail server's a pretty simple beast.\n\n828\n00:40:19,880 --> 00:40:21,599\nIt doesn't take all that\nmuch to get it going.\n\n829\n00:40:22,850 --> 00:40:24,090\nSo we'll get logged in as her.\n\n830\n00:40:24,090 --> 00:40:26,680\nWhile we're waiting on that,\nboth mailboxes have data now.\n\n831\n00:40:26,680 --> 00:40:29,650\nActually, this is happening\nfaster than I thought.\n\n832\n00:40:31,050 --> 00:40:33,210\nI was gonna say I could jump to\nthe file system and go look and\n\n833\n00:40:33,210 --> 00:40:35,460\nsee if those mailbox,\nthis has been created.\n\n834\n00:40:35,460 --> 00:40:37,810\nBut since this is already fired up,\nlet's go ahead and get into mail and\n\n835\n00:40:37,810 --> 00:40:39,220\nget her setup.\n\n836\n00:40:39,220 --> 00:40:42,040\nI'll go ahead and\nset her up for POP to show it.\n\n837\n00:40:42,040 --> 00:40:45,230\nIn real life, I can't remember\nthe last time I setup POP for anybody.\n\n838\n00:40:45,230 --> 00:40:51,110\nIMAP is the one that we want,\nall right, I'm gonna set up Jane Doe.\n\n839\n00:40:51,110 --> 00:40:58,200\nShe'll be JaneDoe@lab.itpro.tv and\nher autodiscover will fail, that' fine.\n\n840\n00:40:59,200 --> 00:41:01,036\nAnd then we'll set her up for POP.\n\n841\n00:41:03,776 --> 00:41:07,510\nAnd we'll get that in there.\n\n842\n00:41:07,510 --> 00:41:10,982\nSame thing about the certificate,\nI'll go ahead and trust it.\n\n843\n00:41:14,280 --> 00:41:16,520\nAnd I'll punch in my admin\ncredentials to update that.\n\n844\n00:41:19,950 --> 00:41:21,670\nIt must be going into\nher certificates store.\n\n845\n00:41:21,670 --> 00:41:24,270\nSo let me just switch her credentials,\nthere we go,\n\n846\n00:41:25,690 --> 00:41:31,240\nand punch in the server for\nSMTP this time.\n\n847\n00:41:31,240 --> 00:41:33,580\nRemember SMTP is still important\nwhether you use POP or\n\n848\n00:41:33,580 --> 00:41:35,770\nIMAP, cuz this is how your\nactually going to send email.\n\n849\n00:41:38,300 --> 00:41:40,898\nNow punch that in and\nnow it should be set up.\n\n850\n00:41:40,898 --> 00:41:43,710\nNow it's gonna reach out to\nher mail box and, sure enough,\n\n851\n00:41:43,710 --> 00:41:48,050\nthere's that message from John Bill\nwaiting for me right there, test message.\n\n852\n00:41:48,050 --> 00:41:52,490\nAnd she can go and reply to that and\njust say, I got it.\n\n853\n00:41:54,450 --> 00:41:56,390\nAnd we'll send that one out.\n\n854\n00:41:56,390 --> 00:41:58,180\nAnd now the email's gone the other way.\n\n855\n00:41:58,180 --> 00:42:00,980\nSo, we've got good email\ncommunications going back and forth.\n\n856\n00:42:00,980 --> 00:42:02,360\nIf I jump over to John, he should get it.\n\n857\n00:42:02,360 --> 00:42:05,146\nIt's actually set up under my account.\n\n858\n00:42:06,666 --> 00:42:08,235\nNow, he might not get it right away,\n\n859\n00:42:08,235 --> 00:42:11,090\ncuz the mail client is having\nto check in every now and then.\n\n860\n00:42:11,090 --> 00:42:13,930\nIf I look in my inbox,\nsee how my inbox is still empty?\n\n861\n00:42:13,930 --> 00:42:15,550\nI believe the default is every 15 minutes.\n\n862\n00:42:15,550 --> 00:42:17,610\nSo sometime in the next 15\nminutes it'll refresh, but\n\n863\n00:42:17,610 --> 00:42:20,532\nI can always hit get mail,\nforce that to happen now.\n\n864\n00:42:20,532 --> 00:42:22,990\nIt's gonna reach out to the server and\ncheck for new email and\n\n865\n00:42:22,990 --> 00:42:25,400\nit should see Jane's email and\ndownload it.\n\n866\n00:42:25,400 --> 00:42:27,520\nUnless Jane's email is just\nsitting there stuck in her outbox.\n\n867\n00:42:27,520 --> 00:42:28,680\nYou might have to wait a moment.\n\n868\n00:42:28,680 --> 00:42:33,100\nAll right, well while we're waiting on\nthat, let me jump back to the server.\n\n869\n00:42:33,100 --> 00:42:39,860\nAnd I'm still in that\n/library/server/mail/data/mail folder.\n\n870\n00:42:39,860 --> 00:42:45,190\nAnd before it only contained,\nscroll crazy there.\n\n871\n00:42:45,190 --> 00:42:47,660\nIt only contained the shared folder.\n\n872\n00:42:47,660 --> 00:42:49,920\nAll right, which is just shared data for\nthe server.\n\n873\n00:42:49,920 --> 00:42:52,360\nBut it didn't have all these\nindividual user mailboxes.\n\n874\n00:42:52,360 --> 00:42:55,440\nBut if I look now,\nsee how I got some new folders?\n\n875\n00:42:55,440 --> 00:42:57,690\nI got a folder called users.\n\n876\n00:42:57,690 --> 00:42:59,340\nAnd that's where the user mailboxes are.\n\n877\n00:42:59,340 --> 00:43:01,430\nNow, I'm not gonna have permission\nto get in there normally,\n\n878\n00:43:01,430 --> 00:43:05,390\nso I'm gonna use sudu to pull\nup a list of that folder.\n\n879\n00:43:07,750 --> 00:43:08,720\nThere we go.\n\n880\n00:43:08,720 --> 00:43:12,550\nAnd I can see in there I've got a folder\nfor Don Pazet, Jane Doe and John Doe.\n\n881\n00:43:12,550 --> 00:43:17,200\nWe're all the ones that have mailboxes,\nmapped to our GUIDs, right?\n\n882\n00:43:17,200 --> 00:43:21,020\nAnd those GUIDs, those were in this\nfolder up above when I looked at it here.\n\n883\n00:43:21,020 --> 00:43:23,510\nThese are all the GUIDs\nthat mapped to those users.\n\n884\n00:43:23,510 --> 00:43:27,040\nAnd that's where the user\ndatabases are going to reside.\n\n885\n00:43:27,040 --> 00:43:34,564\nIf I wanted to look at one of those, We\ncould pull up a listing inside of it and\n\n886\n00:43:34,564 --> 00:43:38,596\ninside it sure enough I see set messages,\ndovecot settings for emails,\n\n887\n00:43:38,596 --> 00:43:43,159\nmail directory folder, mail directory\nsize, new emails, subscriptions, all\n\n888\n00:43:43,159 --> 00:43:48,130\nthe different data that pertains to that\nmailbox, is stored right inside there.\n\n889\n00:43:48,130 --> 00:43:52,530\nI don't think it'll actually\nlet me go much deeper,\n\n890\n00:43:52,530 --> 00:43:57,140\nlike if I want to pull\nopen one of these files.\n\n891\n00:43:57,140 --> 00:43:58,390\nLet's see what it'll let me do here.\n\n892\n00:43:58,390 --> 00:44:01,339\nYou kind of have limited access\nto it because it is a database.\n\n893\n00:44:04,320 --> 00:44:04,980\nAnd yeah.\n\n894\n00:44:04,980 --> 00:44:06,640\nThis is not gonna let\nme really get in there.\n\n895\n00:44:06,640 --> 00:44:09,560\nBut basically,\nthis is where those user emails are going.\n\n896\n00:44:09,560 --> 00:44:12,810\nEach user has their own little storage\nrepository where their emails get stored.\n\n897\n00:44:15,160 --> 00:44:17,060\nAll right.\nSo as far as getting our user accounts set\n\n898\n00:44:17,060 --> 00:44:20,650\nup and being able to send and receive\nemail, that's pretty straightforward.\n\n899\n00:44:20,650 --> 00:44:22,430\nRight now I've got a fully\nfunctioning mail servers.\n\n900\n00:44:22,430 --> 00:44:23,650\nMy users have email.\n\n901\n00:44:23,650 --> 00:44:24,150\nI'm good to go.\n\n902\n00:44:25,170 --> 00:44:29,290\nWe could stop here, but there's some\nadvance settings that I wanna talk about,\n\n903\n00:44:29,290 --> 00:44:31,570\nand then there's always\nthe reminder that now that you're.\n\n904\n00:44:31,570 --> 00:44:35,500\nYour mail server, your backups\nbecome that much more important.\n\n905\n00:44:35,500 --> 00:44:37,230\nSo, if you haven't watched\nour Time Machine episode,\n\n906\n00:44:37,230 --> 00:44:38,180\nmake sure you check that out.\n\n907\n00:44:38,180 --> 00:44:40,216\ncuz you'll wanna make sure\nyou back up your server so\n\n908\n00:44:40,216 --> 00:44:42,310\nthat you've got your emails\nstored somewhere safe.\n\n909\n00:44:42,310 --> 00:44:45,080\nYou don't wanna lose everybody's email,\nthat would be bad.\n\n910\n00:44:45,080 --> 00:44:48,420\nBut, I do wanna talk about the advanced\nfeatures here in the server, but\n\n911\n00:44:48,420 --> 00:44:49,790\nI'm a little short on\ntime on this segment.\n\n912\n00:44:49,790 --> 00:44:51,380\nSo, let's stop here and take a break.\n\n913\n00:44:51,380 --> 00:44:54,550\nAnd when we get back, we'll hit\nthe advanced features on this server, and\n\n914\n00:44:54,550 --> 00:44:55,400\nwe'll wrap up from there.\n\n915\n00:44:55,400 --> 00:44:58,852\nSo stay tuned,\nwe'll be back in just a moment.\n\n916\n00:44:58,852 --> 00:45:05,785\n[SOUND] All right, welcome back everybody.\n\n917\n00:45:05,785 --> 00:45:07,853\nNow, what we've seen in\nthe first two segments,\n\n918\n00:45:07,853 --> 00:45:09,880\nis really getting your\nbasic mail server set up.\n\n919\n00:45:09,880 --> 00:45:11,090\nAnd technically, we're done.\n\n920\n00:45:11,090 --> 00:45:14,360\nWe can stop right there, but there are a\nfew advance things on the server that we\n\n921\n00:45:14,360 --> 00:45:17,570\nmight want to tweak to get it working\nexactly the way that we want.\n\n922\n00:45:17,570 --> 00:45:19,130\nLet's take a look at\nsome of those options.\n\n923\n00:45:19,130 --> 00:45:23,460\nAll right, I'm back here in my server app\nand I've just gone into the mail service,\n\n924\n00:45:23,460 --> 00:45:27,260\nand right down here we'll see a few things\nthat I really didn't tackle earlier,\n\n925\n00:45:27,260 --> 00:45:30,720\nlike filtering for virus and junk mail.\n\n926\n00:45:30,720 --> 00:45:35,130\nI mentioned earlier that the Apple Mail\nserver has ClamAV for antivirus and\n\n927\n00:45:35,130 --> 00:45:37,190\nSpamAssassin for anti-spam.\n\n928\n00:45:37,190 --> 00:45:39,130\nThose two programs are running\nthe background and\n\n929\n00:45:39,130 --> 00:45:42,570\nboth of them are fairly challenging\nto get set up for email scanning.\n\n930\n00:45:43,660 --> 00:45:47,670\nApple's done that for us, and they give us\na nice little GUI with the basic settings\n\n931\n00:45:47,670 --> 00:45:51,610\nmost of us have to deal with, so\nif I take my filtering screen here and\n\n932\n00:45:51,610 --> 00:45:55,010\njust go over to edit,\nI can modify what we're doing.\n\n933\n00:45:55,010 --> 00:45:57,480\nI may not want to enable virus filtering.\n\n934\n00:45:57,480 --> 00:46:01,190\nActually, I may want it but\nI just may not want to use Clam AV.\n\n935\n00:46:01,190 --> 00:46:04,390\nSo I might choose to turn that off,\nand instead,\n\n936\n00:46:04,390 --> 00:46:06,410\nleverage some third-party application.\n\n937\n00:46:06,410 --> 00:46:08,655\nOr maybe you have a hardware device\nlike one of those Barracuda,\n\n938\n00:46:08,655 --> 00:46:09,610\nanti-spam firewalls.\n\n939\n00:46:09,610 --> 00:46:10,990\nThey do virus scanning too.\n\n940\n00:46:10,990 --> 00:46:13,270\nSo maybe I don't need\nthe built in functionality.\n\n941\n00:46:13,270 --> 00:46:14,860\nI can turn that on or off.\n\n942\n00:46:15,920 --> 00:46:18,410\nAnother thing we can leverage\nis a blacklist filter.\n\n943\n00:46:18,410 --> 00:46:21,570\nThere's a number of email\nblacklists that are out there.\n\n944\n00:46:21,570 --> 00:46:24,850\nAnd what they do,\nis they watch the Internet for traffic.\n\n945\n00:46:24,850 --> 00:46:28,160\nAnd they look for\nservers that are known spam servers.\n\n946\n00:46:28,160 --> 00:46:32,210\nServers that are known to generate spam\nemail, and they put them in a list and\n\n947\n00:46:32,210 --> 00:46:35,270\nif somebody is on that list and\nyour server checks it,\n\n948\n00:46:35,270 --> 00:46:37,720\nany email that comes from one\nof those servers is thrown out.\n\n949\n00:46:37,720 --> 00:46:39,220\nIt's spam.\nIt gets rejected.\n\n950\n00:46:39,220 --> 00:46:40,650\nSo it's a great way to kinda limit that.\n\n951\n00:46:40,650 --> 00:46:43,820\nNow, I'm not a big fan of the spam\nlists that are out there,\n\n952\n00:46:43,820 --> 00:46:46,920\nbecause they had a very\nhigh false positive rate.\n\n953\n00:46:46,920 --> 00:46:50,250\nSo you might be blocking\nemails from customers.\n\n954\n00:46:50,250 --> 00:46:55,320\nSo if this is, if you're a business,\nthese mailing blacklists, they aren't\n\n955\n00:46:55,320 --> 00:46:58,000\nthe greatest thing in the world cuz you\ncould be losing legitimate email, right?\n\n956\n00:46:58,000 --> 00:46:59,350\nThey get a lot of false positives.\n\n957\n00:46:59,350 --> 00:47:02,470\nBut if it's your personal email,\nthey actually work pretty well and\n\n958\n00:47:02,470 --> 00:47:09,910\nthey can stop getting a lot of\nthe advertisements, the unsolicited email.\n\n959\n00:47:09,910 --> 00:47:12,030\nAnd if one of your family\nmembers tries to email you and\n\n960\n00:47:12,030 --> 00:47:14,530\nthey get hit by accident,\nthey at least just tell you.\n\n961\n00:47:14,530 --> 00:47:15,820\nHey, you didn't get my email.\n\n962\n00:47:15,820 --> 00:47:18,090\nIt's not like you lost a sale\nwith a customer or something.\n\n963\n00:47:18,090 --> 00:47:20,160\nSo you have a little bit\nmore affordability there.\n\n964\n00:47:20,160 --> 00:47:22,970\nBut that's why the black list\nfiltering is off by default.\n\n965\n00:47:22,970 --> 00:47:28,690\nIf we turn that on, every time an SMTP\nserver connects to us to deposit mail,\n\n966\n00:47:28,690 --> 00:47:33,690\nwill take its IP address and its domain\nname cuz when a server connects via SMTP\n\n967\n00:47:33,690 --> 00:47:37,040\nit presents two pieces of information,\nits domain name and its IP.\n\n968\n00:47:37,040 --> 00:47:39,905\nWe take that information, and\nwe run it against the spam blacklist.\n\n969\n00:47:39,905 --> 00:47:41,623\nAnd we say is this\nserver on the blacklist.\n\n970\n00:47:41,623 --> 00:47:43,842\nAnd if it is, then we reject the email.\n\n971\n00:47:43,842 --> 00:47:47,686\nWe don't even let it in our server But if\nit's not on the list, we allow the e-mail\n\n972\n00:47:47,686 --> 00:47:51,570\nto come in, and then, we scan it for\nviruses, that's the way it work.\n\n973\n00:47:51,570 --> 00:47:55,600\nNow, the default is the Spa House\nblacklist, that's probably one of\n\n974\n00:47:55,600 --> 00:47:58,190\nthe biggest ones that are out there, but\nthere's plenty of other ones out there.\n\n975\n00:47:58,190 --> 00:48:00,110\nYou can plug in whichever one you want.\n\n976\n00:48:00,110 --> 00:48:02,640\nThey all work the same way,\nyou just punch in the name of the server.\n\n977\n00:48:03,910 --> 00:48:06,585\nWe also have greylist filtering.\n\n978\n00:48:06,585 --> 00:48:09,990\nGreylist filtering is\nan interesting approach.\n\n979\n00:48:09,990 --> 00:48:11,650\nBasically, the way\ngreylist filtering works,\n\n980\n00:48:11,650 --> 00:48:13,690\nis if an e-mail comes\nin from a new sender,\n\n981\n00:48:13,690 --> 00:48:17,420\nsomebody you've never gotten an e-mail\nfrom before, it just blocks it by default.\n\n982\n00:48:17,420 --> 00:48:18,480\nIt says, no, not gonna let it in.\n\n983\n00:48:19,510 --> 00:48:24,670\nNow if it's a spammer, they don't normally\ndo retries, because they're sending\n\n984\n00:48:24,670 --> 00:48:29,390\nmillions of e-mails per hour, and so, if\none gets blocked, they just move right on.\n\n985\n00:48:29,390 --> 00:48:33,760\nBut if it's a legitimate server, the first\none gets blocked, and so, what does it do?\n\n986\n00:48:33,760 --> 00:48:34,390\nIt retries.\n\n987\n00:48:34,390 --> 00:48:38,730\nIt retries a few minutes later, and with\ngreylist filtering, it just says, okay,\n\n988\n00:48:38,730 --> 00:48:42,700\nif you retry, then you're probably not\na spammer, and it allows it to come in.\n\n989\n00:48:42,700 --> 00:48:44,270\nIt's an interesting approach.\n\n990\n00:48:44,270 --> 00:48:50,468\nIt's not the be all, and end all of\nspam filtering, but it does work.\n\n991\n00:48:50,468 --> 00:48:52,220\nAnd it creates a slight delay in e-mail,\n\n992\n00:48:52,220 --> 00:48:54,550\nalthough it'll delay most of your\nemails by about three minutes,\n\n993\n00:48:54,550 --> 00:48:57,510\nwhich is not necessarily the greatest\nthing, but it is effective.\n\n994\n00:48:57,510 --> 00:49:02,320\nAnd then the last one here is Enable\njunk mail filtering, up here,\n\n995\n00:49:02,320 --> 00:49:03,720\nwe did virus filtering.\n\n996\n00:49:03,720 --> 00:49:06,060\nSo if there's a virus in the e-mail,\nit'll block it.\n\n997\n00:49:06,060 --> 00:49:10,480\nBut if it's an ad for Viagra, or Rolex\nwatches, or whatever, there's not a virus.\n\n998\n00:49:10,480 --> 00:49:12,630\nIt's just a link that's going to\ntake you some site, where they try,\n\n999\n00:49:12,630 --> 00:49:13,880\nand get you to buy stuff.\n\n1000\n00:49:13,880 --> 00:49:18,910\nWith junk mail filtering, it looks for key\nwords in the e-mail, and key behaviors.\n\n1001\n00:49:18,910 --> 00:49:21,280\nIt looks for e-mails that have\ntoo many capital letters,\n\n1002\n00:49:21,280 --> 00:49:24,460\nor e-mails that are made up,\nor just an image, and no text.\n\n1003\n00:49:24,460 --> 00:49:28,340\nIt looks for emails that contain links\nto known spam servers, those things.\n\n1004\n00:49:28,340 --> 00:49:31,990\nAnd if it sees those,\nit assigns a spam rating.\n\n1005\n00:49:31,990 --> 00:49:34,920\nIf the rating is high enough,\nit blocks the email.\n\n1006\n00:49:34,920 --> 00:49:38,420\nNow, you can determine how\naggressive that is, right here.\n\n1007\n00:49:38,420 --> 00:49:42,420\nIt's got this minimum score for\njunk mail, of 6 points right now.\n\n1008\n00:49:42,420 --> 00:49:47,635\nThat's a fairly aggressive number, and so\nI might get some false positives, some\n\n1009\n00:49:47,635 --> 00:49:50,690\ne-mails that are legitimate e-mails, that\naccidentally get flagged as junk mail.\n\n1010\n00:49:51,880 --> 00:49:55,360\nSo, if I want, I can lower this down.\n\n1011\n00:49:55,360 --> 00:49:57,690\nAnd see how the point\nnumbers are going up?\n\n1012\n00:49:57,690 --> 00:50:00,020\nI'm saying, you've got to get\nat least twenty points now,\n\n1013\n00:50:00,020 --> 00:50:01,730\nto be considered junk mail.\n\n1014\n00:50:01,730 --> 00:50:04,670\nAs it analyses that e-mail,\neach spam keyword,\n\n1015\n00:50:04,670 --> 00:50:07,980\nlike every time you use the word Rolex,\nthat increases your junk mail.\n\n1016\n00:50:07,980 --> 00:50:10,410\nI'm sure the Rolex company hates that,\nbut unfortunately, that's how it is.\n\n1017\n00:50:10,410 --> 00:50:13,320\nEvery time you use the word Viagra,\nit increases your points.\n\n1018\n00:50:13,320 --> 00:50:16,970\nAnd if you get to twenty points,\nnow you'll be junk mail.\n\n1019\n00:50:16,970 --> 00:50:19,750\nWell, the default was 6,\nwhich is fairly aggressive.\n\n1020\n00:50:19,750 --> 00:50:23,800\nYou can only accrue so\nmany points, and you get blocked.\n\n1021\n00:50:23,800 --> 00:50:27,500\nApple doesn't release exactly\nhow this formula works, and\n\n1022\n00:50:27,500 --> 00:50:31,220\nthe spam assassin people,\nthey actually do release some details, but\n\n1023\n00:50:31,220 --> 00:50:35,020\nthey don't want to get too detailed on it,\nbecause, then the spammers can just craft\n\n1024\n00:50:35,020 --> 00:50:37,770\ntheir e-mail to pass,\nto kind of get around that, and\n\n1025\n00:50:37,770 --> 00:50:41,300\nit is constantly being updated, so\nall you really see here, are the points.\n\n1026\n00:50:41,300 --> 00:50:43,060\nAnd you set that value, and\n\n1027\n00:50:43,060 --> 00:50:46,280\nthat determines how aggressive your system\nwill view flagging things, as junk mail.\n\n1028\n00:50:50,190 --> 00:50:55,250\nAnother thing, we can do is choose to\nrelay outgoing mail through an ISP.\n\n1029\n00:50:56,620 --> 00:51:01,070\nThere's a lot of networks where\nyou use an intermediary host,\n\n1030\n00:51:01,070 --> 00:51:03,960\nit's called an SMTP relay,\nto send your email.\n\n1031\n00:51:03,960 --> 00:51:05,210\nThere's a few different reasons for this.\n\n1032\n00:51:05,210 --> 00:51:09,660\nFor example, for me at home, I have\na cable modem at home with Cox Cable, and\n\n1033\n00:51:09,660 --> 00:51:12,240\nCox does not allow you to\nbuild up SMTP connections,\n\n1034\n00:51:12,240 --> 00:51:17,060\nbecause they don't want anyone to\nrun spam servers from their network.\n\n1035\n00:51:17,060 --> 00:51:21,350\nSo if you want to send e-mail out,\nyou have to go through Cox's servers.\n\n1036\n00:51:21,350 --> 00:51:23,850\nSo I would have to come in here,\nand put in smtp.east.cox.net.\n\n1037\n00:51:23,850 --> 00:51:28,810\nThat's what I would have to put in,\nto send my email.\n\n1038\n00:51:28,810 --> 00:51:31,540\nThey don't require a password,\nbecause they just check to make sure my IP\n\n1039\n00:51:31,540 --> 00:51:34,730\naddress is in their network, and as long\nas it is, then it let's me send out.\n\n1040\n00:51:36,000 --> 00:51:37,650\nYou're ISP might do the same thing.\n\n1041\n00:51:37,650 --> 00:51:40,870\nYou might have an ISP, that wants\nyou to relay e-mail through them.\n\n1042\n00:51:40,870 --> 00:51:44,990\nAnother reason, we might do this, is we\nmight have a dedicated hardware appliance,\n\n1043\n00:51:44,990 --> 00:51:46,590\nthat does our anti-spam or anti-virus.\n\n1044\n00:51:46,590 --> 00:51:49,290\nI mentioned those Barracuda\nspam firewalls earlier.\n\n1045\n00:51:49,290 --> 00:51:50,640\nIf you've got one of those,\n\n1046\n00:51:50,640 --> 00:51:54,210\nyou want all of your outgoing\ne-mail to go through the Barracuda.\n\n1047\n00:51:54,210 --> 00:51:56,340\nAnd so\nyou would punch in the IP address, or\n\n1048\n00:51:56,340 --> 00:51:59,420\nhost name of that server right here,\nand credentials, if they were needed.\n\n1049\n00:51:59,420 --> 00:52:00,640\nSo you'd punch that in.\n\n1050\n00:52:00,640 --> 00:52:04,540\nAnd now all of your outgoing e-mail,\ninstead of doing an MX record, and\n\n1051\n00:52:04,540 --> 00:52:07,660\ngoing direct to the destination,\nwould go right to this host,\n\n1052\n00:52:07,660 --> 00:52:08,590\nit'll get to where it needs to go.\n\n1053\n00:52:08,590 --> 00:52:14,860\nAnd then the last option here, is what's\ncalled a Mailbox Quota, you can choose\n\n1054\n00:52:14,860 --> 00:52:19,850\nto limit mailboxes to a certain size, by\ndefault, the mailboxes don't have a limit.\n\n1055\n00:52:19,850 --> 00:52:21,300\nThey can grow, and grow, and grow,\n\n1056\n00:52:21,300 --> 00:52:27,260\nand you can end up with tons of data on\nyour drive, and you might not want that.\n\n1057\n00:52:27,260 --> 00:52:29,370\nUsers don't delete e-mail by default.\n\n1058\n00:52:29,370 --> 00:52:31,310\nIt's just not what they do in their minds.\n\n1059\n00:52:31,310 --> 00:52:35,690\nSo, if you wanna force them to have\nmailboxes that are small, you set a limit.\n\n1060\n00:52:35,690 --> 00:52:37,810\nNow you might ask yourself,\nwhy would I wanna set a limit?\n\n1061\n00:52:38,830 --> 00:52:40,830\nHard drive space is cheap these days, so\n\n1062\n00:52:40,830 --> 00:52:43,720\nmost people don't really care\nabout how big your mailbox is.\n\n1063\n00:52:43,720 --> 00:52:48,200\nBut from an administrative standpoint,\nthe bigger the mailboxes are,\n\n1064\n00:52:48,200 --> 00:52:49,710\nthe longer it takes to back them up.\n\n1065\n00:52:49,710 --> 00:52:53,570\nAnd if you have a failure,\nthe longer it takes to restore them.\n\n1066\n00:52:53,570 --> 00:52:57,150\nSo if you're trying to keep a short backup\nwindow, and you're trying to keep a short\n\n1067\n00:52:57,150 --> 00:53:01,280\nrestore window, then you need\nthose mailboxes to be smaller.\n\n1068\n00:53:01,280 --> 00:53:05,450\nAnd so you can set a limit; maybe\nI set it to 500 megabytes, or\n\n1069\n00:53:05,450 --> 00:53:07,030\nI can set it to a gigabyte,\n1000 megabytes.\n\n1070\n00:53:08,360 --> 00:53:11,590\nNow, if a user's mailbox\ngrows to that size,\n\n1071\n00:53:11,590 --> 00:53:13,500\nthey'll stop being able to receive e-mail.\n\n1072\n00:53:13,500 --> 00:53:17,870\nOn a positive side, they've capped their\nmailbox, they'll get warning messages, so\n\n1073\n00:53:17,870 --> 00:53:18,510\nthey'll know about it.\n\n1074\n00:53:18,510 --> 00:53:20,190\nThey can go in and delete stuff.\n\n1075\n00:53:20,190 --> 00:53:23,860\nBut on a negative side, if I'm a business,\nI might be losing orders,\n\n1076\n00:53:23,860 --> 00:53:26,150\nI might be losing\nimportant communications.\n\n1077\n00:53:26,150 --> 00:53:28,920\nSo a lot of people don't like to\nimplement these limits, because of that.\n\n1078\n00:53:28,920 --> 00:53:31,210\nYou know, it's more important\nthat they get the e-mail,\n\n1079\n00:53:31,210 --> 00:53:32,960\nthen maintain a slim server.\n\n1080\n00:53:32,960 --> 00:53:35,810\nAnd what you can do, is you can watch the\nfiles on the hard drive to see who's got\n\n1081\n00:53:35,810 --> 00:53:38,720\na really big mailbox, and reach out,\nand talk to them specifically.\n\n1082\n00:53:38,720 --> 00:53:43,150\nBut the big culprit is people use e-mail,\nas a way of exchanging files.\n\n1083\n00:53:43,150 --> 00:53:46,030\nSo they do file attachments,\nand your mailbox ends up huge.\n\n1084\n00:53:46,030 --> 00:53:48,150\nIf people were just to put\ntext in their e-mails, and\n\n1085\n00:53:48,150 --> 00:53:51,870\nthat's it,\nnobody's mailbox should be over 200 megs.\n\n1086\n00:53:51,870 --> 00:53:56,500\nOne, I think it was the, I read a long\ntime ago, that if you took the entire\n\n1087\n00:53:56,500 --> 00:54:01,370\nEncyclopedia Britannica, the whole thing,\nand you wrote out just the text into\n\n1088\n00:54:01,370 --> 00:54:05,940\na file from those encyclopedias, it would\nfit in about one and a half megabytes.\n\n1089\n00:54:05,940 --> 00:54:07,100\nA fairly small amount of space.\n\n1090\n00:54:07,100 --> 00:54:10,690\nSo how many e-mails would that take to\nequal out the Encyclopedia Britannica?\n\n1091\n00:54:10,690 --> 00:54:12,000\nIt'd take a lot.\n\n1092\n00:54:12,000 --> 00:54:17,320\nBut people attach images, they do HTML\ne-mails, they do file attachments, PDFs.\n\n1093\n00:54:17,320 --> 00:54:18,130\nThings like that.\n\n1094\n00:54:18,130 --> 00:54:20,430\nAnd then,\nmailboxes really start to get pretty big.\n\n1095\n00:54:20,430 --> 00:54:23,420\nSo this is where we can set that limit,\nand cap it.\n\n1096\n00:54:23,420 --> 00:54:25,970\nJust be aware if you set a limit,\nand a user hits it,\n\n1097\n00:54:25,970 --> 00:54:27,990\nthey won't be able to receive email.\n\n1098\n00:54:27,990 --> 00:54:29,700\nAnd they might lose\nstuff that's important.\n\n1099\n00:54:29,700 --> 00:54:30,710\nSo we've gotta be careful with that.\n\n1100\n00:54:32,170 --> 00:54:37,290\nNow, if any of you guys are old\nschool Server app users,\n\n1101\n00:54:37,290 --> 00:54:40,010\nyou might remember some screens\nfrom previous versions of Mac OS,\n\n1102\n00:54:40,010 --> 00:54:41,810\nwhere there was some advanced\nfunctionality in here,\n\n1103\n00:54:41,810 --> 00:54:45,760\nyou could set different users, could have\ndifferent quotas, Apple's removed that.\n\n1104\n00:54:45,760 --> 00:54:48,970\nAnd the main reason,\nwas not very many people used it.\n\n1105\n00:54:48,970 --> 00:54:52,710\nSo if that's a feature you rely on,\nthis doesn't work out so well.\n\n1106\n00:54:52,710 --> 00:54:56,080\nYou can still achieve that from the files\nsystem, you can go, and set quotas there.\n\n1107\n00:54:56,080 --> 00:54:58,000\nIt's a lot harder to do now.\n\n1108\n00:54:58,000 --> 00:54:59,590\nApple just deprecated that feature, so\n\n1109\n00:54:59,590 --> 00:55:01,770\nif you're wondering where that went,\nthat's what happened.\n\n1110\n00:55:01,770 --> 00:55:02,530\nIt's gone in.\n\n1111\n00:55:02,530 --> 00:55:07,680\nAlright, but that's pretty much it for\nthe mail server.\n\n1112\n00:55:07,680 --> 00:55:10,980\nDo I have anything else\nthat I want to mention?\n\n1113\n00:55:12,180 --> 00:55:16,180\nOh, the only other thing I do want to\nmention, I talked about the virus scanner.\n\n1114\n00:55:16,180 --> 00:55:19,080\nWhat happens if an e-mail has a virus?\n\n1115\n00:55:19,080 --> 00:55:22,220\nWell, if it has a virus,\nit actually gets quarantined, and\n\n1116\n00:55:22,220 --> 00:55:23,580\nstuck in a special folder.\n\n1117\n00:55:23,580 --> 00:55:26,850\nLet me show you guys that folder,\nand then, we'll wrap up from there.\n\n1118\n00:55:26,850 --> 00:55:32,630\nSo right now,\nI'm in /library/server/mail/data/mail.\n\n1119\n00:55:32,630 --> 00:55:35,400\nWell, inside of that data folder,\n\n1120\n00:55:35,400 --> 00:55:40,230\nthere's another folder called Scanner,\nand that's the virus scanner.\n\n1121\n00:55:40,230 --> 00:55:41,800\nAnd if we go into scanner,\n\n1122\n00:55:41,800 --> 00:55:44,900\nwhich is probably not gonna let me,\nno, nobody let me in there.\n\n1123\n00:55:44,900 --> 00:55:48,730\nInside a scanner, that's where I can see,\nthere's ClamAV, there's SpamAssassin,\n\n1124\n00:55:48,730 --> 00:55:52,290\nand the folder I'm looking for,\nis this guy right here, virusmails.\n\n1125\n00:55:52,290 --> 00:55:58,260\nAny email that gets flagged as a virus,\nwill actually get stuck here,\n\n1126\n00:55:58,260 --> 00:56:01,660\nand it will sit in there for\na certain amount of time.\n\n1127\n00:56:01,660 --> 00:56:03,260\nAnd I forget what the interval is.\n\n1128\n00:56:03,260 --> 00:56:05,550\nBut it'll sit in there, and\nthen eventually it'll get deleted.\n\n1129\n00:56:05,550 --> 00:56:08,940\nBut if you ever want to see, if emails\nget flagged as spam, I mean not spam,\n\n1130\n00:56:08,940 --> 00:56:11,810\nif they get flagged as having a virus,\nyou can look right in here, and\n\n1131\n00:56:11,810 --> 00:56:15,800\nyou'll see the email stored as files,\nand it'll purge them out eventually.\n\n1132\n00:56:15,800 --> 00:56:19,470\nBut that's basically a quarantine area,\nwhere those get stored.\n\n1133\n00:56:19,470 --> 00:56:21,850\nI don't have any right now, so\nthere's nothing too exciting in there.\n\n1134\n00:56:23,340 --> 00:56:27,690\nAll right, key take aways here, especially\nfor the exam, is that the mail server,\n\n1135\n00:56:27,690 --> 00:56:32,760\nis actually made up of numerous\ncomponents, Postfix, Dovecot, ClamAV,\n\n1136\n00:56:32,760 --> 00:56:35,600\nSpamassassin, all preconfigured,\nand ready to go.\n\n1137\n00:56:35,600 --> 00:56:37,270\nWe just flip an on switch.\n\n1138\n00:56:37,270 --> 00:56:40,620\nOur users can connect via POP or\nIMAP to get to the server, and\n\n1139\n00:56:40,620 --> 00:56:41,610\naccess their e-mail.\n\n1140\n00:56:41,610 --> 00:56:43,250\nThey send email with SMTP.\n\n1141\n00:56:43,250 --> 00:56:45,556\nIf you wanna receive\ne-mail from the Internet,\n\n1142\n00:56:45,556 --> 00:56:47,250\nyou've gotta have that MX record.\n\n1143\n00:56:47,250 --> 00:56:49,300\nOtherwise, Internet people\nwon't be able to find you.\n\n1144\n00:56:49,300 --> 00:56:54,380\nAnd then lastly, you've got to back up\nyour server, people's e-mail is here.\n\n1145\n00:56:54,380 --> 00:56:55,780\nYou gotta make sure,\nyou got a good back up for that.\n\n1146\n00:56:55,780 --> 00:56:58,340\nYou don't want people to lose email.\n\n1147\n00:56:58,340 --> 00:56:58,980\nAll right.\n\n1148\n00:56:58,980 --> 00:57:01,140\nAnd then lastly, we've got some of\nthose other advanced features things,\n\n1149\n00:57:01,140 --> 00:57:02,770\nlike the quota we just saw, and\n\n1150\n00:57:02,770 --> 00:57:06,520\nthe spam lists that we can configure,\nthe junk mail that we can tweak.\n\n1151\n00:57:06,520 --> 00:57:08,750\nBut all in all,\nit's a pretty easy service to get going.\n\n1152\n00:57:08,750 --> 00:57:12,820\nAll right, well that's a pretty good\nspot for me to wrap up this episode.\n\n1153\n00:57:12,820 --> 00:57:14,270\nSo let me just remind you guys,\n\n1154\n00:57:14,270 --> 00:57:18,900\nif you have questions on this, live during\nthe show, you can go to itpro.tv/live,\n\n1155\n00:57:18,900 --> 00:57:22,210\nyou will see a chat box right beneath\nthe video, post your questions there.\n\n1156\n00:57:22,210 --> 00:57:23,870\nWe monitor and answer during the show.\n\n1157\n00:57:23,870 --> 00:57:28,470\nIf you have questions after the show,\nuse our Q and A forms at the top of\n\n1158\n00:57:28,470 --> 00:57:32,510\nevery page, on the itpro.tv site, you will\nsee a link that says Q and A, click on it.\n\n1159\n00:57:32,510 --> 00:57:34,440\nIt'll take you to the forums,\nyou can post your questions there.\n\n1160\n00:57:34,440 --> 00:57:36,980\nWe monitor and\nanswer after the show, all right?\n\n1161\n00:57:36,980 --> 00:57:39,040\nIt's a great way to get help,\neven when we're not live.\n\n1162\n00:57:39,040 --> 00:57:40,680\nTake advantage of that resource.\n\n1163\n00:57:40,680 --> 00:57:41,480\nIt is there for you.\n\n1164\n00:57:41,480 --> 00:57:44,450\nAll right, well I hope you\nguys enjoyed today's episode.\n\n1165\n00:57:44,450 --> 00:57:46,633\nSigning off for ITProTV, I'm Don Pezet.\n\n1166\n00:57:46,633 --> 00:57:48,734\nAnd I'll see you next time.\n\n1167\n00:57:48,734 --> 00:57:58,734\n[MUSIC]\n\n",
          "vimeoId": "126371096"
        },
        {
          "description": null,
          "length": "1527",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-7-3-calendar-042415-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-7-3-calendar-042415-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-7-3-calendar-042415-1-sm.jpg",
          "title": "Calendar",
          "transcript": "1\n00:00:00,069 --> 00:00:10,069\n[MUSIC]\n\n2\n00:00:15,103 --> 00:00:22,450\n[SOUND]\n\n3\n00:00:22,450 --> 00:00:33,341\n[MUSIC]\n\n4\n00:00:33,341 --> 00:00:36,353\nAll right, good morning,\ngood afternoon, and good evening and\n\n5\n00:00:36,353 --> 00:00:38,449\nwelcome back to another\nepisode of ITProTV.\n\n6\n00:00:38,449 --> 00:00:41,440\nI'm your host Don Pezet back\nagain with another episode of\n\n7\n00:00:41,440 --> 00:00:44,140\nApple Certified Technical Coordinator.\n\n8\n00:00:44,140 --> 00:00:48,450\nToday we're gonna be jumping into\nthe calendar service which actually\n\n9\n00:00:48,450 --> 00:00:52,210\nis one of the more popular services\ninside of the serve app on OS10.\n\n10\n00:00:52,210 --> 00:00:55,700\nThe calendar service lets us\nhost centralized calendars.\n\n11\n00:00:55,700 --> 00:00:57,260\nAnd I know what you're thinking,\n\n12\n00:00:57,260 --> 00:01:01,780\nI've already got calendars,\nlike iCloud or Google Apps, or whatever.\n\n13\n00:01:01,780 --> 00:01:06,030\nAnd that's true, that works, but\nwhat you'll see is the Calendar app here,\n\n14\n00:01:06,030 --> 00:01:10,170\nthe calendar service here, has some neat\nfeatures that make it really useful for\n\n15\n00:01:10,170 --> 00:01:11,100\nbusinesses.\n\n16\n00:01:11,100 --> 00:01:14,230\nNow as a regular end user or home user,\nyou probably don't care about it,\n\n17\n00:01:14,230 --> 00:01:15,530\nthis isn't one you're gonna use.\n\n18\n00:01:15,530 --> 00:01:18,890\nBut in the business environment,\ncentralized counters can be used for\n\n19\n00:01:18,890 --> 00:01:21,730\na lot more than just posting\nwhich day is Memorial Day.\n\n20\n00:01:21,730 --> 00:01:22,260\nRight?\n\n21\n00:01:22,260 --> 00:01:26,200\nFor example we can do things\nlike resource tracking.\n\n22\n00:01:26,200 --> 00:01:28,950\nIf your company has a couple\nof conference rooms,\n\n23\n00:01:28,950 --> 00:01:30,620\nhow do you handle booking\na conference room?\n\n24\n00:01:30,620 --> 00:01:34,400\nSaying, I need that conference on Tuesday,\n2 PM.\n\n25\n00:01:34,400 --> 00:01:37,600\nAnd avoiding somebody else trying\nto book the same conference room.\n\n26\n00:01:37,600 --> 00:01:39,750\nWell the calendar service can do that.\n\n27\n00:01:39,750 --> 00:01:43,020\nSo sure it gives us your basic calendar\nwhere you see the days of the month, and\n\n28\n00:01:43,020 --> 00:01:44,530\nyou can put events on there.\n\n29\n00:01:44,530 --> 00:01:48,550\nBut it also gives you the ability to do\nresource tracking, and share calendars.\n\n30\n00:01:48,550 --> 00:01:51,740\nCalendars that multiple users\nhave access to and can work with.\n\n31\n00:01:51,740 --> 00:01:53,420\nSo really neat stuff.\n\n32\n00:01:53,420 --> 00:01:56,800\nThe availability tracker is\nreally kind of the shining gem.\n\n33\n00:01:56,800 --> 00:01:58,000\nSo, it's a neat service.\n\n34\n00:01:58,000 --> 00:01:59,890\nOne that you definitely\nwanna take advantage of, and\n\n35\n00:01:59,890 --> 00:02:01,390\nit's not that hard to get going.\n\n36\n00:02:01,390 --> 00:02:04,580\nSo let's take a look at that calendar\nservice and see what we can do with it.\n\n37\n00:02:04,580 --> 00:02:08,480\nSo I'm here in my server app right now,\nand down here under services,\n\n38\n00:02:08,480 --> 00:02:11,220\nyou'll see calendar just listed\nright here along with the main ones.\n\n39\n00:02:11,220 --> 00:02:12,950\nAnd there's not a ton of options.\n\n40\n00:02:12,950 --> 00:02:16,810\nIn fact, there's really only\ntwo things to configure here.\n\n41\n00:02:16,810 --> 00:02:18,910\nWe can turn the server on and\n\n42\n00:02:18,910 --> 00:02:21,710\nwe can set up whether we want\nto allow invitations by email.\n\n43\n00:02:21,710 --> 00:02:24,600\nNow, what is an invitation by email?\n\n44\n00:02:24,600 --> 00:02:28,190\nIf I create a meeting in the calendar,\nit'll show up as\n\n45\n00:02:28,190 --> 00:02:31,270\nan invitation on the other people's\ncalendar, they'll know it exists, but\n\n46\n00:02:31,270 --> 00:02:33,730\nwhat if they're not checking\ntheir calendar very often.\n\n47\n00:02:33,730 --> 00:02:37,080\nInstead, If I invite someone to\na meeting it sends them an e-mail.\n\n48\n00:02:37,080 --> 00:02:40,490\nNow, they get an e-mail\nnotification about that.\n\n49\n00:02:40,490 --> 00:02:43,930\nThat's a nice feature to have,\nbut in order to do that\n\n50\n00:02:43,930 --> 00:02:48,230\nthe calendar is going to need an e-mail\naccount to send these invitations from.\n\n51\n00:02:48,230 --> 00:02:51,680\nSo you need to create a centralized\naccount to generate that.\n\n52\n00:02:51,680 --> 00:02:55,320\nYou can create your own account, or\nApple's actually already created one for\n\n53\n00:02:55,320 --> 00:02:58,640\nyou, so you can use the one that's\nbuilt into the system if you want, or\n\n54\n00:02:58,640 --> 00:03:00,130\nyou can make your own, all right?\n\n55\n00:03:00,130 --> 00:03:03,670\nIf you want to make your own, you just\njump over to your user accounts here and\n\n56\n00:03:03,670 --> 00:03:07,210\nset up an account that has email,\nall right?\n\n57\n00:03:07,210 --> 00:03:09,970\nIf we're gonna use the built in one,\nwe're actually ready to start.\n\n58\n00:03:09,970 --> 00:03:14,020\nI'm gonna go ahead and choose that,\nenable invitations by email, and\n\n59\n00:03:14,020 --> 00:03:17,130\nit's gonna check and see if I've\ngot the email server running I do.\n\n60\n00:03:17,130 --> 00:03:19,360\nThe account doesn't actually\nhave to reside on the server,\n\n61\n00:03:19,360 --> 00:03:22,500\nI could have a separate mail server,\na separate service altogether, but\n\n62\n00:03:22,500 --> 00:03:26,760\nat a minimum,\nit's gonna check to see if it runs here.\n\n63\n00:03:26,760 --> 00:03:28,885\nAnd then here's the account\nthat it's already created.\n\n64\n00:03:28,885 --> 00:03:33,560\ncom.apple.calendarserver@ whatever\nyour server name is,\n\n65\n00:03:33,560 --> 00:03:36,870\nmine's osx-server1.lab.itpro.tv.\n\n66\n00:03:36,870 --> 00:03:44,220\nNow that email address is not necessarily\nthe most user understandable, right.\n\n67\n00:03:44,220 --> 00:03:46,330\nWhen they look at that they\ndon't necessarily see it.\n\n68\n00:03:46,330 --> 00:03:49,470\nAnd so this is an area where you\nmight want to create your own, right.\n\n69\n00:03:49,470 --> 00:03:53,410\nCreate your own account, like a calendar\naccount, and you would punch that in here.\n\n70\n00:03:53,410 --> 00:03:57,490\nSo I might have\ncalendar@osx-server1.lab.itprotv.\n\n71\n00:03:57,490 --> 00:03:59,200\nRight?\nYou put in whatever you need.\n\n72\n00:03:59,200 --> 00:04:02,210\nOn the next screen,\nis where we set the credentials for it.\n\n73\n00:04:02,210 --> 00:04:06,080\nSo is the calendar going\nto receive calendar items?\n\n74\n00:04:06,080 --> 00:04:08,420\nUsually.\nAnd so you'll specify that IMAP server.\n\n75\n00:04:08,420 --> 00:04:10,950\nAnd you'll punch in the server name and\nthe password.\n\n76\n00:04:10,950 --> 00:04:13,250\nIf you're using the built-in account,\nit goes ahead and\n\n77\n00:04:13,250 --> 00:04:14,730\nautopopulates this stuff for us.\n\n78\n00:04:14,730 --> 00:04:16,870\nSo it's already got everything\nfilled in that I need.\n\n79\n00:04:16,870 --> 00:04:19,190\nIf you're using your own account,\nyou'd need to fill this data out.\n\n80\n00:04:21,270 --> 00:04:21,990\nAll right?\n\n81\n00:04:21,990 --> 00:04:23,800\nAnd then the outgoing.\n\n82\n00:04:23,800 --> 00:04:24,520\nThis is the important one.\n\n83\n00:04:24,520 --> 00:04:27,190\nIf you're gonna send invites,\nyou need to be able send email,\n\n84\n00:04:27,190 --> 00:04:28,710\nyou need an SMTP server.\n\n85\n00:04:28,710 --> 00:04:31,870\nAnd again, it'll auto populate it\nif you're using the built in one.\n\n86\n00:04:31,870 --> 00:04:34,210\nIf you create your own,\nyou just fill this out, all right?\n\n87\n00:04:34,210 --> 00:04:37,540\nWhen you send an invite,\nit goes out via SMTP.\n\n88\n00:04:37,540 --> 00:04:41,490\nAnd then as people accept the invitations,\nwe've got to see those invites come back\n\n89\n00:04:41,490 --> 00:04:44,030\nin and that's where it uses\nIMAP on the previous screen.\n\n90\n00:04:44,030 --> 00:04:46,550\nSo the two are basically used to\nhandle that invitation process.\n\n91\n00:04:48,230 --> 00:04:51,180\nWhen that's done I can hit finish and\nnow I'm able to send and\n\n92\n00:04:51,180 --> 00:04:53,210\nreceive meeting invites via email.\n\n93\n00:04:55,340 --> 00:04:59,070\nI can also set up push notifications so\nwhen there's a new Calendar item or\n\n94\n00:04:59,070 --> 00:05:00,380\na reminder.\n\n95\n00:05:00,380 --> 00:05:04,550\nI can push that out to the clients, and it\nuses the Apple push notification service.\n\n96\n00:05:04,550 --> 00:05:06,160\nWe've seen that in other episodes.\n\n97\n00:05:06,160 --> 00:05:07,910\nIf you want to use that,\nyou just hit Edit.\n\n98\n00:05:07,910 --> 00:05:09,420\nIt will ask for an Apple ID.\n\n99\n00:05:09,420 --> 00:05:13,300\nAnd it will reach out and register with\nApple, and download a certificate to use.\n\n100\n00:05:13,300 --> 00:05:17,610\nBecause the push notifications go through\nApple's servers, so you have to have that.\n\n101\n00:05:17,610 --> 00:05:20,140\nIt just requires an Apple ID,\nand it doesn't cost any money.\n\n102\n00:05:20,140 --> 00:05:21,360\nSo it's a nice service to have.\n\n103\n00:05:23,460 --> 00:05:27,370\nThe rest of the screen is\ndedicated to resource management.\n\n104\n00:05:27,370 --> 00:05:31,680\nIf I just want calendars, I can stop\nright here, I can hit my on switch, and\n\n105\n00:05:31,680 --> 00:05:32,830\nnow I'm a calendar server.\n\n106\n00:05:32,830 --> 00:05:33,630\nDone.\n\n107\n00:05:33,630 --> 00:05:34,730\nRight.\n\n108\n00:05:34,730 --> 00:05:39,750\nBut if I want to manage resources,\nthings like conference rooms or\n\n109\n00:05:39,750 --> 00:05:43,900\nprojectors or other devices,\nI'm going to need to add those resources.\n\n110\n00:05:43,900 --> 00:05:46,600\nAnd the resources really do, they fall\nunder two different categories, right.\n\n111\n00:05:46,600 --> 00:05:48,840\nLocations, these are physical places.\n\n112\n00:05:48,840 --> 00:05:50,810\nUsually meeting rooms,\nbuildings, whatever.\n\n113\n00:05:50,810 --> 00:05:53,470\nIt's a physical place where you're\ngoing to have a meeting or an event.\n\n114\n00:05:54,500 --> 00:05:59,280\nA resource is typically an item,\na laptop, a projector, a white board.\n\n115\n00:05:59,280 --> 00:06:02,000\nSo some kind of resource that\nyou also need to book that you\n\n116\n00:06:02,000 --> 00:06:02,970\nhave limited supply of.\n\n117\n00:06:02,970 --> 00:06:04,280\nAll right.\n\n118\n00:06:04,280 --> 00:06:06,980\nIf you have a construction company,\nthese might be things like dump trucks and\n\n119\n00:06:06,980 --> 00:06:10,540\npay loaders If you're just an IT\ncompany it's usually laptops,\n\n120\n00:06:10,540 --> 00:06:11,420\nprojectors, things like that.\n\n121\n00:06:12,670 --> 00:06:13,880\nSo what I'm gonna do is\nI'm gonna come in here and\n\n122\n00:06:13,880 --> 00:06:15,520\njust add a few of these resources.\n\n123\n00:06:15,520 --> 00:06:17,270\nI'm gonna start with some locations.\n\n124\n00:06:17,270 --> 00:06:22,260\nSo maybe I've got like meeting room A, and\nI could punch in the physical address for\n\n125\n00:06:22,260 --> 00:06:26,170\nthat if I wanted I can delegate\nauthority to somebody.\n\n126\n00:06:26,170 --> 00:06:27,480\nNow, what does that mean?\n\n127\n00:06:27,480 --> 00:06:30,740\nWell, what it's actually\ngonna do on the back end,\n\n128\n00:06:30,740 --> 00:06:32,530\nit's gonna create a user\naccount from Meeting Room A.\n\n129\n00:06:32,530 --> 00:06:33,330\nWe're not gonna see that.\n\n130\n00:06:33,330 --> 00:06:36,590\nIt's hidden from us, but there will be\na user account from Meeting Room A.\n\n131\n00:06:36,590 --> 00:06:39,450\nAnd Meeting Room A will have its\nown calendar where it tracks where\n\n132\n00:06:39,450 --> 00:06:40,730\nit's been booked.\n\n133\n00:06:40,730 --> 00:06:44,790\nIf you want somebody to be able to\npull up meeting room A's calendar and\n\n134\n00:06:44,790 --> 00:06:48,770\nsee what all is booked, you'd need to\npunch their name in here, all right.\n\n135\n00:06:48,770 --> 00:06:52,560\nAnd then, they would be a delegate, they\nwould be allowed to access that calendar.\n\n136\n00:06:52,560 --> 00:06:55,290\nSo I might put myself in or somebody else.\n\n137\n00:06:55,290 --> 00:06:57,120\nI'll just add myself as a delegate.\n\n138\n00:06:57,120 --> 00:06:59,470\nI'm an administrator so\nI'd have that access anyway.\n\n139\n00:06:59,470 --> 00:07:02,219\nBut if I wasn't an administrator,\nthat's what would grant me the access.\n\n140\n00:07:03,900 --> 00:07:06,430\nThen we can see how we\nwant to handle scheduling.\n\n141\n00:07:06,430 --> 00:07:07,760\nThis is important.\n\n142\n00:07:07,760 --> 00:07:10,550\nwhen you have a meeting room or\na projector or\n\n143\n00:07:10,550 --> 00:07:14,350\nsomething, somebody's going to invite\nthat resource to their meeting.\n\n144\n00:07:14,350 --> 00:07:16,830\nI'm going to invite meeting\nroom A to my meeting.\n\n145\n00:07:16,830 --> 00:07:20,080\nIf meeting room A is available,\nwhat happens?\n\n146\n00:07:20,080 --> 00:07:22,660\nAnd we can say, accept all invitations.\n\n147\n00:07:22,660 --> 00:07:24,830\nSo if somebody invites us, just accept it.\n\n148\n00:07:24,830 --> 00:07:28,360\nBut that can cause problems, because if\ntwo people are invited for the same time,\n\n149\n00:07:28,360 --> 00:07:30,020\nit'll accept both of them.\n\n150\n00:07:30,020 --> 00:07:32,910\nIf you choose accept all invitations,\nyou may get duplicate bookings.\n\n151\n00:07:34,070 --> 00:07:36,600\nWe've also got accept invitations if free.\n\n152\n00:07:37,640 --> 00:07:40,630\nIf I've got free time go ahead and\naccept it.\n\n153\n00:07:40,630 --> 00:07:41,580\nAnd we'll let it book.\n\n154\n00:07:41,580 --> 00:07:44,450\nRight?\nThat's pretty attractive for most people.\n\n155\n00:07:44,450 --> 00:07:46,650\nBut what happens if we're busy?\n\n156\n00:07:46,650 --> 00:07:49,420\nIf we're busy,\nit just ignores the invitation.\n\n157\n00:07:49,420 --> 00:07:51,570\nAnd that's where the third\noption comes in.\n\n158\n00:07:51,570 --> 00:07:54,735\nAccept If Free, Decline if Busy.\n\n159\n00:07:54,735 --> 00:07:57,579\nIf we're busy,\ndon't just ignore the invitation.\n\n160\n00:07:57,579 --> 00:07:58,717\nActually decline it.\n\n161\n00:07:58,717 --> 00:08:00,818\nRespond back so the other person knows.\n\n162\n00:08:00,818 --> 00:08:03,523\nYou can't use Meeting Room A,\nyou need to find a different meeting room.\n\n163\n00:08:03,523 --> 00:08:05,640\nThat's the default, and\nthat's usually the best option.\n\n164\n00:08:06,650 --> 00:08:08,630\nBut there's one other problem, all right?\n\n165\n00:08:08,630 --> 00:08:12,910\nWhat if I work in the mailroom, right?\n\n166\n00:08:12,910 --> 00:08:16,620\nI'm a mail clerk at the company, and I\nbook Meeting Room A for some kind of phone\n\n167\n00:08:16,620 --> 00:08:21,480\ncall I need to do and then the CEO of\nthe company needs that meeting room.\n\n168\n00:08:21,480 --> 00:08:26,050\nWell if I booked it first I've got it,\nand it shows as busy for the CEO.\n\n169\n00:08:26,050 --> 00:08:28,370\nSo, there's no way for\nthe CEO to override that,\n\n170\n00:08:28,370 --> 00:08:30,910\nthey'd have to go to whoever\nthe delegate of that calendar is.\n\n171\n00:08:30,910 --> 00:08:35,480\nSo instead, we might want to\nrequire delegate approval.\n\n172\n00:08:35,480 --> 00:08:37,560\nAnd that would, say if somebody\ntries to book Meeting Room A,\n\n173\n00:08:38,700 --> 00:08:41,470\nwhoever's the delegate would\nhave to open this calendar and\n\n174\n00:08:41,470 --> 00:08:43,160\naccept the invitation or decline it.\n\n175\n00:08:43,160 --> 00:08:47,020\nAnd that allows them to set priorities and\nsay, well, the CEO's invitation is more\n\n176\n00:08:47,020 --> 00:08:51,710\nimportant than the mail clerk's,\nright, and you kind of define that.\n\n177\n00:08:51,710 --> 00:08:54,980\nWe've also got declines,\nDecline Invitations If Busy,\n\n178\n00:08:54,980 --> 00:08:56,280\nDecline All Invitations.\n\n179\n00:08:56,280 --> 00:09:01,270\nDecline All Invitations means we will\nonly do manual booking of this resource.\n\n180\n00:09:01,270 --> 00:09:05,640\nDecline Invitations If Busy means if we're\nbusy, we just reject it out of hand.\n\n181\n00:09:05,640 --> 00:09:09,800\nIf we are not busy, the invitation\ncomes in and sits there and waits for\n\n182\n00:09:09,800 --> 00:09:13,730\na delegate to approve it, which is very\nsimilar to Require Delegate Approval.\n\n183\n00:09:13,730 --> 00:09:14,743\nThe differences is,\n\n184\n00:09:14,743 --> 00:09:18,760\nRequire Delegate Approval doesn't\ndecline invites if it's busy, right?\n\n185\n00:09:18,760 --> 00:09:22,700\nSo, the two options that\nare the most common, Accept If Free,\n\n186\n00:09:22,700 --> 00:09:26,180\nDecline If Busy,\nthat's a fully automated method.\n\n187\n00:09:26,180 --> 00:09:30,560\nOr, Decline Invitations If Busy,\nthat's like a moderated method.\n\n188\n00:09:30,560 --> 00:09:33,710\nYou can still accept manually, and\nit'll automatically decline if busy.\n\n189\n00:09:36,890 --> 00:09:40,060\nThen we can specify the Accept Group.\n\n190\n00:09:40,060 --> 00:09:42,980\nWho is allowed to accept invitations?\n\n191\n00:09:42,980 --> 00:09:44,070\nThe delegate up here,\n\n192\n00:09:44,070 --> 00:09:47,670\nthey're an administrator that can view the\ncalendar, but we don't necessarily need\n\n193\n00:09:47,670 --> 00:09:51,240\npeople to view the calendar,we just need\npeople to accept or decline the invites.\n\n194\n00:09:51,240 --> 00:09:55,330\nAnd so we can specify down here, who it\nis that's allowed to accept or decline.\n\n195\n00:09:55,330 --> 00:09:58,500\nAdministrators can do it by default,\nbut we can add in any other group.\n\n196\n00:09:58,500 --> 00:10:01,310\nIf you start typing you'll\nfind your different groups.\n\n197\n00:10:01,310 --> 00:10:04,980\nAnd so I might add in like my\nOpen Directory Administrators, or whoever.\n\n198\n00:10:04,980 --> 00:10:08,120\nI might have a human resources group or\nan operations group and\n\n199\n00:10:08,120 --> 00:10:10,510\nI want them to be able to\nhandle the acceptance.\n\n200\n00:10:13,360 --> 00:10:14,577\nI'll just put Administrators in.\n\n201\n00:10:17,108 --> 00:10:19,970\nAnd when I'm done,\nI've now got a meeting room.\n\n202\n00:10:19,970 --> 00:10:21,840\nAnd I can start to create\nadditional meeting rooms, so\n\n203\n00:10:21,840 --> 00:10:24,600\nI can have Meeting Room B, and C, and\n\n204\n00:10:24,600 --> 00:10:28,160\nso on, we start specifying all of those,\nand we get those meeting rooms created.\n\n205\n00:10:29,320 --> 00:10:31,150\nNow, those are locations.\n\n206\n00:10:31,150 --> 00:10:34,550\nI can also do resources,\nwhich would be things like an item.\n\n207\n00:10:34,550 --> 00:10:37,230\nSo I might have a resource for\nProjector 1.\n\n208\n00:10:37,230 --> 00:10:39,550\nSo, if somebody's gonna\nneed a projector for\n\n209\n00:10:39,550 --> 00:10:41,190\ntheir meeting, they can request this one.\n\n210\n00:10:42,900 --> 00:10:44,997\nAnd maybe I'll do one for a laptop.\n\n211\n00:10:47,426 --> 00:10:51,443\nAnd you might get really detailed here,\nputting in things like,\n\n212\n00:10:51,443 --> 00:10:53,790\noh shoot, did I do that as a location?\n\n213\n00:10:55,770 --> 00:10:56,980\nI must have, yep.\n\n214\n00:10:56,980 --> 00:10:59,930\nIf you see that push pin, that's a great\nindicator that you just did a location.\n\n215\n00:10:59,930 --> 00:11:01,780\nSo, let me delete that one out and\n\n216\n00:11:01,780 --> 00:11:04,689\nrecreate it as a resource,\nthat's what I wanted.\n\n217\n00:11:06,020 --> 00:11:09,430\nLaptop 1, there we go.\n\n218\n00:11:09,430 --> 00:11:12,960\nSo, you might go more detailed and\nput like the serial number of the unit or\n\n219\n00:11:12,960 --> 00:11:17,510\nsome kind of item ID, whatever it\nis that you have, property IDs,\n\n220\n00:11:17,510 --> 00:11:20,020\nso that you know exactly which\ndevice we're talking about, and\n\n221\n00:11:20,020 --> 00:11:23,630\nyou're reserving it out\nof a bank of devices.\n\n222\n00:11:23,630 --> 00:11:26,070\nOn the server side,\nthat's really it for setup.\n\n223\n00:11:26,070 --> 00:11:28,180\nThe only other thing we have\nare the permissions where we can limit\n\n224\n00:11:28,180 --> 00:11:31,060\nwho's allowed to access\nthe calendar server in general.\n\n225\n00:11:31,060 --> 00:11:33,450\nBut otherwise, our server is set up.\n\n226\n00:11:33,450 --> 00:11:36,970\nOur clients can now connect to\nthe calendar server and they can create\n\n227\n00:11:36,970 --> 00:11:41,490\nshared calendars, and they can start to\nbook these resources however they want.\n\n228\n00:11:41,490 --> 00:11:44,190\nThe rest of the work is\nall done in the clients.\n\n229\n00:11:44,190 --> 00:11:45,780\nNow, what client can I use?\n\n230\n00:11:45,780 --> 00:11:49,430\nApple obviously has the calendar\nclient that's built into OS X, right?\n\n231\n00:11:49,430 --> 00:11:52,090\nYou've got your calendar app,\nbut you don't have to use that.\n\n232\n00:11:52,090 --> 00:11:57,340\nThe calendar server is actually\nusing what's called a CalendarDAV.\n\n233\n00:11:57,340 --> 00:12:00,980\nWe've heard about WebDAV, or\nWeb Distributed Authoring and\n\n234\n00:12:00,980 --> 00:12:05,390\nVersioning, which is a open standards\nmethod for editing web pages.\n\n235\n00:12:05,390 --> 00:12:08,210\nWe also talked,\nif you've watched the contacts episode,\n\n236\n00:12:08,210 --> 00:12:12,400\nabout CardDAV, which is WebDAV,\nbut for contacts.\n\n237\n00:12:12,400 --> 00:12:18,310\nWell, we have CalDAV, C-A-L-D-A-V, which\nis Calendar Distributed Authoring and\n\n238\n00:12:18,310 --> 00:12:20,070\nVersioning, and\nthat's the same thing for the calendar.\n\n239\n00:12:20,070 --> 00:12:24,160\nIt's based on WebDAV, and it just allows\nus to connect and edit the calendars, and\n\n240\n00:12:24,160 --> 00:12:25,590\nit's an open standard.\n\n241\n00:12:25,590 --> 00:12:30,320\nSo, any CalDAV-compatible client can\nconnect up to the calendar server.\n\n242\n00:12:30,320 --> 00:12:33,280\nSo you might have Microsoft Outlook,\n\n243\n00:12:33,280 --> 00:12:37,690\nyou might have, I think Thunderbolt\nhas the CalDAV support now.\n\n244\n00:12:37,690 --> 00:12:39,520\nI mean, not Thunderbolt, Thunderbird.\n\n245\n00:12:39,520 --> 00:12:42,170\nYou might have Fantastical,\nI know it does.\n\n246\n00:12:42,170 --> 00:12:45,852\nAny kind of CalDAV-compatible client\ncan connect up to this service.\n\n247\n00:12:45,852 --> 00:12:49,633\nFor me, I'm going to use\nthe calendar app in Mac OS though.\n\n248\n00:12:49,633 --> 00:12:50,655\nI'm gonna jump over here.\n\n249\n00:12:50,655 --> 00:12:54,789\nI've got Jane Doe pulled up, and\nI'm gonna fire up her calendar app.\n\n250\n00:12:54,789 --> 00:12:59,280\nNow, by default, it's gonna show calendars\nthat are stored right here on her machine.\n\n251\n00:12:59,280 --> 00:13:01,320\nShe has a local calendar.\n\n252\n00:13:01,320 --> 00:13:03,762\nThe negative of having a local\ncalendar is if she has two machines,\n\n253\n00:13:03,762 --> 00:13:05,390\nthey're not synchronized.\n\n254\n00:13:05,390 --> 00:13:07,560\nNow, she could use iCloud and\nthat would knock that out.\n\n255\n00:13:07,560 --> 00:13:11,170\nBut if I want shared calendars\namongst my employees and booking of\n\n256\n00:13:11,170 --> 00:13:14,860\nreservation items like the meeting rooms,\nwe don't get that with iCloud.\n\n257\n00:13:14,860 --> 00:13:18,988\nSo, I need it right here and\nI can use the calendar service to do that.\n\n258\n00:13:18,988 --> 00:13:21,940\nSo I'm gonna go up to the Calendar menu\nand I'll choose to add an account.\n\n259\n00:13:23,030 --> 00:13:25,120\nAnd I'm going to add in an account,\nand if I look at the list,\n\n260\n00:13:25,120 --> 00:13:31,090\nyou'll see the last one is add a CalDAV\naccount, and I can put in my server.\n\n261\n00:13:31,090 --> 00:13:33,460\nFor the Account Type,\nsee how I've got Manual and Advanced?\n\n262\n00:13:33,460 --> 00:13:36,070\nIf we do Advanced it's gonna try and\nauto detect.\n\n263\n00:13:36,070 --> 00:13:38,910\nThe auto detect always fails for\nthis one, so I'm just gonna go Manual.\n\n264\n00:13:38,910 --> 00:13:42,328\nSo, I can punch in the name,\nwhich is janedoe,\n\n265\n00:13:42,328 --> 00:13:46,680\nher password, and the server that\nshe's gonna be connecting to.\n\n266\n00:13:48,530 --> 00:13:49,300\nThat guy right there.\n\n267\n00:13:49,300 --> 00:13:52,040\nFor me it's osx-server1.lab.itpro.tv,\n\n268\n00:13:52,040 --> 00:13:54,030\nyou'll put in whatever\nyour server name is.\n\n269\n00:13:56,090 --> 00:13:58,930\nAll right, it's gonna reach out to\nthat server and create the account.\n\n270\n00:13:58,930 --> 00:14:01,933\nIf you're using a self-signed certificate,\nyou might get a certificate warning, and\n\n271\n00:14:01,933 --> 00:14:02,981\nyou should choose to trust it.\n\n272\n00:14:02,981 --> 00:14:07,830\nIt should just verify and connect,\nwe'll give it a moment while it does that.\n\n273\n00:14:07,830 --> 00:14:09,010\nAnd there we go.\n\n274\n00:14:09,010 --> 00:14:11,750\nNow, my screen doesn't\nlook very different.\n\n275\n00:14:11,750 --> 00:14:12,540\nBut if I come up here and\n\n276\n00:14:12,540 --> 00:14:17,090\nclick on the Calendars button, I'll see\nI've got a few different calendars.\n\n277\n00:14:17,090 --> 00:14:19,140\nOn my Mac, these are the local calendars.\n\n278\n00:14:19,140 --> 00:14:23,400\nI've got a Home and a Work calendar\nright here on the Mac itself.\n\n279\n00:14:23,400 --> 00:14:29,450\nBut now I see I've got a calendar on\nthe server, and it's just called Calendar.\n\n280\n00:14:29,450 --> 00:14:31,390\nNot a very good name there, right?\n\n281\n00:14:31,390 --> 00:14:34,610\nBut I can go in and I can rename that,\nlike if I double-click on it, and\n\n282\n00:14:34,610 --> 00:14:41,090\nI'm gonna call this Jane Doe Server,\nso I can remember what it is.\n\n283\n00:14:41,090 --> 00:14:43,680\nAnd now in the future,\n\n284\n00:14:43,680 --> 00:14:46,380\nI'll know that's the one that's\nactually stored on the server.\n\n285\n00:14:46,380 --> 00:14:49,230\nAnd I might not need these ones on my Mac\nanymore, I can come through and delete\n\n286\n00:14:49,230 --> 00:14:53,830\nthese out and get rid of them, just so I\ndon't accidentally add stuff on this Mac.\n\n287\n00:14:53,830 --> 00:14:55,730\nI wanna make sure all my\nstuff goes to the server.\n\n288\n00:14:55,730 --> 00:14:59,070\nSo, when I move to other machines,\nmy data will still be there, right?\n\n289\n00:14:59,070 --> 00:15:01,200\nBut this is my server calendar.\n\n290\n00:15:01,200 --> 00:15:06,164\nAnd you'll see where we can come in and\nstart to create entries in that calendar,\n\n291\n00:15:06,164 --> 00:15:09,089\nand I can share the calendar\nwith other people.\n\n292\n00:15:09,089 --> 00:15:11,255\nSo, if I wanna delegate\nout to other people,\n\n293\n00:15:11,255 --> 00:15:14,020\nI want John Doe to be able\nto access my calendar.\n\n294\n00:15:14,020 --> 00:15:17,730\nI can hit Share calendar and I can punch\nin the person I want to share with.\n\n295\n00:15:17,730 --> 00:15:22,520\nIt'll find their contact, and\nnow I've got a delegate on that calendar.\n\n296\n00:15:22,520 --> 00:15:25,380\nJohn Doe will be able to open my calendar,\nalso, and\n\n297\n00:15:25,380 --> 00:15:26,470\nsee those entries that I've created.\n\n298\n00:15:28,100 --> 00:15:29,840\nWhere the really cool\nstuff happens though,\n\n299\n00:15:29,840 --> 00:15:32,160\nis when we start creating meetings.\n\n300\n00:15:32,160 --> 00:15:34,300\nWhen we create a meeting, an event, right?\n\n301\n00:15:34,300 --> 00:15:38,540\nSo let's see, today is April 24th,\nso maybe I'll book a meeting for\n\n302\n00:15:38,540 --> 00:15:40,120\nnext Wednesday, all right?\n\n303\n00:15:40,120 --> 00:15:42,650\nSo I'm gonna go in here and\ncreate a new event on next Wednesday, and\n\n304\n00:15:42,650 --> 00:15:45,980\nI get my little pop-up bubble\nwhere I can create that event.\n\n305\n00:15:45,980 --> 00:15:49,821\nWhen I start populating these values,\nit's actually talking to the server and\n\n306\n00:15:49,821 --> 00:15:51,146\nfinding out information.\n\n307\n00:15:51,146 --> 00:15:55,688\nI'm gonna call this one my\nFinance Meeting, and for Add Location,\n\n308\n00:15:55,688 --> 00:15:59,760\nsee when I clicked on that it\nsays it wants to use my location.\n\n309\n00:15:59,760 --> 00:16:02,918\nIt's gonna use the GPS on my\nlaptop to figure out where I am.\n\n310\n00:16:02,918 --> 00:16:03,545\nYou can allow that.\n\n311\n00:16:03,545 --> 00:16:04,601\nIt doesn't really matter though.\n\n312\n00:16:04,601 --> 00:16:08,921\nIf I start typing Meeting Room,\nthere's Meeting Room A and B, and\n\n313\n00:16:08,921 --> 00:16:12,470\nnotice the little check\nmark beside each one.\n\n314\n00:16:12,470 --> 00:16:14,300\nIt's checking their availability.\n\n315\n00:16:14,300 --> 00:16:18,460\nIt's saying, next Wednesday at whatever\ntime this is defaulting to, 9AM.\n\n316\n00:16:18,460 --> 00:16:22,920\nSo next Wednesday at 9 AM is\nthat room available or not?\n\n317\n00:16:22,920 --> 00:16:25,240\nIf there's a check mark by it,\nit's available.\n\n318\n00:16:25,240 --> 00:16:26,990\nIf there's an X by it, it's not.\n\n319\n00:16:26,990 --> 00:16:29,980\nAnd so, I can quickly see which\nmeeting rooms are available.\n\n320\n00:16:29,980 --> 00:16:31,500\nI can say, Meeting Room A is open.\n\n321\n00:16:31,500 --> 00:16:32,030\nI like that one.\n\n322\n00:16:32,030 --> 00:16:33,540\nI'll pick it.\nAll right.\n\n323\n00:16:33,540 --> 00:16:38,550\nAnd now, when I save this iIt'll send\nan invite to Meeting Room A, and\n\n324\n00:16:38,550 --> 00:16:43,070\nMeeting Room A is said to accept\nthe invite by default if it's free.\n\n325\n00:16:43,070 --> 00:16:44,240\nIt is free.\n\n326\n00:16:44,240 --> 00:16:46,940\nIt'll accept it and if somebody else\ntries to book at the same time,\n\n327\n00:16:46,940 --> 00:16:49,600\nthey'll see that\nMeeting Room A is not available.\n\n328\n00:16:51,010 --> 00:16:52,860\nThen I add my invitees, right?\n\n329\n00:16:52,860 --> 00:16:54,810\nI'm gonna invite John Doe.\n\n330\n00:16:54,810 --> 00:17:00,180\nSo I'll come in here and pick John Doe and\nanybody else that I wanna add.\n\n331\n00:17:00,180 --> 00:17:04,870\nAnd if I start typing like, Projector,\nright, it's going to reach out for\n\n332\n00:17:04,870 --> 00:17:06,170\nthat Projector.\n\n333\n00:17:06,170 --> 00:17:09,390\nNow it didn't check their availability\nuntil after I double-clicked them,\n\n334\n00:17:09,390 --> 00:17:11,720\nbut I can see Projector is now available.\n\n335\n00:17:11,720 --> 00:17:13,650\nThey've got a little check mark by them.\n\n336\n00:17:13,650 --> 00:17:14,940\nSo I'm good there.\n\n337\n00:17:14,940 --> 00:17:18,410\nAnd I can add the laptop right there.\n\n338\n00:17:18,410 --> 00:17:20,910\nWe invite resources just\nlike we invite people,\n\n339\n00:17:20,910 --> 00:17:24,850\nbecause really at the end of the day they\nare just user accounts on the back-end.\n\n340\n00:17:24,850 --> 00:17:26,770\nI've got check marks all down the line.\n\n341\n00:17:26,770 --> 00:17:28,070\nI know the meeting room is available.\n\n342\n00:17:28,070 --> 00:17:30,860\nI know the projector's available,\nthe laptop's available.\n\n343\n00:17:30,860 --> 00:17:33,486\nI'm good to go next Wednesday at 9 AM.\n\n344\n00:17:33,486 --> 00:17:36,320\nAnd I'll go ahead and hit send.\n\n345\n00:17:36,320 --> 00:17:41,460\nThat's gonna create the meeting item,\nand the invitations are gonna go out.\n\n346\n00:17:41,460 --> 00:17:44,400\nJohn Doe is getting\nan invitation right now.\n\n347\n00:17:44,400 --> 00:17:47,910\nThe projector, and the conference room,\nand the laptop are getting invitations.\n\n348\n00:17:47,910 --> 00:17:52,320\nThey're going to accept them so they'll\nnow show up as busy during that time.\n\n349\n00:17:52,320 --> 00:17:52,960\nOkay.\n\n350\n00:17:52,960 --> 00:17:55,510\nNow, how do I know that worked?\n\n351\n00:17:55,510 --> 00:17:57,490\nThere's a few things we could do.\n\n352\n00:17:57,490 --> 00:18:00,810\nFor example, we could try and\nschedule another meeting.\n\n353\n00:18:00,810 --> 00:18:05,420\nI'm going to schedule another meeting at\nthat same time, right, April 29th at 9 AM.\n\n354\n00:18:05,420 --> 00:18:08,410\nSo this is just a,\nI'll call it a test meeting and for\n\n355\n00:18:08,410 --> 00:18:12,130\nlocation, if I start typing meeting room,\nthere's my meetings.\n\n356\n00:18:12,130 --> 00:18:15,630\nAnd it's probably hard to see in the\nvideo, but right next to Meeting Room A,\n\n357\n00:18:15,630 --> 00:18:17,700\nI can see it has an X now.\n\n358\n00:18:17,700 --> 00:18:20,260\nThat X lets me know it's busy.\n\n359\n00:18:20,260 --> 00:18:22,400\nIt's already booked for that time.\n\n360\n00:18:22,400 --> 00:18:23,200\nI can still pick it.\n\n361\n00:18:23,200 --> 00:18:27,550\nI can still try and invite it because\nif it's a moderated connection,\n\n362\n00:18:27,550 --> 00:18:29,570\nwhere somebody is actually checking it,\nthey might go in and\n\n363\n00:18:29,570 --> 00:18:32,270\noverride it for me and make mine win out.\n\n364\n00:18:32,270 --> 00:18:34,200\nBut I can see that it's busy.\n\n365\n00:18:34,200 --> 00:18:36,920\nSame thing goes with my invitees.\n\n366\n00:18:36,920 --> 00:18:42,200\nIf I invite John Doe, for example,\nI can see he's got a check mark,\n\n367\n00:18:42,200 --> 00:18:45,090\nbecause he hasn't accepted the invite yet.\n\n368\n00:18:45,090 --> 00:18:47,090\nUsers don't automatically accept invites,\nso\n\n369\n00:18:47,090 --> 00:18:51,230\nJohn still shows a check mark because he\nhasn't booked anything during that time.\n\n370\n00:18:51,230 --> 00:18:55,460\nBut if I type Projector 1,\nProjector 1 has an x.\n\n371\n00:18:55,460 --> 00:18:58,730\nBecause I told that resource to\nautomatically accept the other invite,\n\n372\n00:18:58,730 --> 00:19:00,680\nit shows as busy.\n\n373\n00:19:00,680 --> 00:19:01,390\nAll right?\n\n374\n00:19:01,390 --> 00:19:04,230\nNow there's some neat stuff you can\ndo if you've got a problem with\n\n375\n00:19:04,230 --> 00:19:05,020\na meeting like this.\n\n376\n00:19:05,020 --> 00:19:07,870\nWhere I've got a lot of resources\nthat are already booked.\n\n377\n00:19:07,870 --> 00:19:08,420\nRight?\n\n378\n00:19:08,420 --> 00:19:10,390\nSo this meeting has some issues.\n\n379\n00:19:10,390 --> 00:19:15,960\nWell, you can actually move the data or\nchange it, kind of bump it around,\n\n380\n00:19:15,960 --> 00:19:21,660\nand try and see if you can't find a better\ntime for that calendar event to occur.\n\n381\n00:19:21,660 --> 00:19:25,450\nSo when I look at this meeting I\ncan see that it is fairly booked.\n\n382\n00:19:25,450 --> 00:19:29,063\nJane Doe is shown as accepting,\ncuz I'm the one who created it and\n\n383\n00:19:29,063 --> 00:19:31,770\nJohn Doe has a check mark but\nit's not green yet.\n\n384\n00:19:31,770 --> 00:19:34,520\nHe hasn't accepted the invitation yet.\n\n385\n00:19:34,520 --> 00:19:39,260\nBut projector one and Meeting Room A,\nthose guys, they're booked.\n\n386\n00:19:39,260 --> 00:19:43,080\nI can't use them as this time\ncuz it's already booked.\n\n387\n00:19:43,080 --> 00:19:44,010\nSo I've got a bit of a problem.\n\n388\n00:19:47,550 --> 00:19:48,220\nAll right.\n\n389\n00:19:48,220 --> 00:19:52,490\nSo instead what I can do is I can go and\ntry to find a better time, right.\n\n390\n00:19:52,490 --> 00:19:56,230\nI can try and move this meeting\nforward an hour or two and\n\n391\n00:19:56,230 --> 00:19:58,560\nsee if I can find a spot\nthat will get me in there.\n\n392\n00:19:58,560 --> 00:20:00,980\nThere's actually a,\nlet me see if I can find it,\n\n393\n00:20:00,980 --> 00:20:06,540\nthere's a availability checker\nwhich is buried in here somewhere.\n\n394\n00:20:06,540 --> 00:20:07,400\nLet's see, where is that?\n\n395\n00:20:07,400 --> 00:20:11,190\nI'm gonna try and remember where that is.\n\n396\n00:20:11,190 --> 00:20:12,370\nSo somewhere here in the calendar,\n\n397\n00:20:12,370 --> 00:20:16,350\nwe've got a little availability checker\nwhere you can kinda see a timeline.\n\n398\n00:20:16,350 --> 00:20:19,180\nIt's actually a function of the calendar\napp, so I doubt it'll be on the exam.\n\n399\n00:20:19,180 --> 00:20:21,580\nBut it would be nice to\nshow it to you guys.\n\n400\n00:20:21,580 --> 00:20:23,040\nSomewhere in here.\n\n401\n00:20:24,100 --> 00:20:28,189\nWe can pull it up and Jane might not\nhave the permissions for everything,\n\n402\n00:20:28,189 --> 00:20:32,098\nbut.\n\n403\n00:20:32,098 --> 00:20:33,760\nOr I might be thinking\nof a different program.\n\n404\n00:20:33,760 --> 00:20:36,160\nI actually use a different\ncalendar program, myself, so\n\n405\n00:20:36,160 --> 00:20:37,310\nI might be thinking of mine.\n\n406\n00:20:37,310 --> 00:20:41,940\nBut somewhere buried in here, there\nis a way to see that availability for\n\n407\n00:20:41,940 --> 00:20:45,370\npeople to pick that next best\ntime that's available and find\n\n408\n00:20:45,370 --> 00:20:49,030\nthat one that'll work out a little bit\nbetter for us for scheduling that meeting.\n\n409\n00:20:49,030 --> 00:20:51,570\nIn my case,\nmy meeting is scheduled at a bad time.\n\n410\n00:20:53,180 --> 00:20:58,352\nAll right, so if I take that meeting and\nI move it forward, I'll just come in here\n\n411\n00:20:58,352 --> 00:21:03,320\nand say instead of 9 AM let's bump that\nup, and I'll bump that up to 10 AM.\n\n412\n00:21:05,758 --> 00:21:09,010\nWhoops, there we go, 10 AM.\n\n413\n00:21:09,010 --> 00:21:10,550\nPut it to 1 AM, that'll be a fun meeting.\n\n414\n00:21:10,550 --> 00:21:15,770\nSo I'll bump that forward to 10 AM, and\nand just kind of accept those changes,\n\n415\n00:21:15,770 --> 00:21:18,730\nso now it's bumped forward and\nwhen I take a look at it,\n\n416\n00:21:18,730 --> 00:21:22,300\nsee how Meeting Room A automatically\nswitched to a check mark and John Doe and\n\n417\n00:21:22,300 --> 00:21:25,060\nProjector 1, they've got check marks so\nthey're good to go now.\n\n418\n00:21:25,060 --> 00:21:28,512\nI picked a better time for that so you can\nstart to kind of navigate and find that.\n\n419\n00:21:28,512 --> 00:21:33,210\nAll right, that's all being\npowered by the calendar server.\n\n420\n00:21:33,210 --> 00:21:37,010\nWith the calendar server that lets\nyou see somebody's availability, but\n\n421\n00:21:37,010 --> 00:21:39,640\nit doesn't let you see\ntheir calendar itself.\n\n422\n00:21:39,640 --> 00:21:45,020\nSo I know that Meeting Room A was booked\nat 9 AM, but I don't know who booked it,\n\n423\n00:21:45,020 --> 00:21:47,650\nor what meeting it is,\nI just know that it's booked.\n\n424\n00:21:47,650 --> 00:21:52,360\nSo it still maintains data privacy, while\nmaking sure that you don't double book.\n\n425\n00:21:52,360 --> 00:21:55,320\nSo that's kind of a nice function that it\nhas, it's a good little feature there.\n\n426\n00:21:57,030 --> 00:21:59,900\nAll right, but that, in a nutshell,\nis the calendar service.\n\n427\n00:21:59,900 --> 00:22:04,130\nIf I jump back over here, the calendar\nserver, really just not much to it,\n\n428\n00:22:04,130 --> 00:22:05,720\njust basic settings on it.\n\n429\n00:22:05,720 --> 00:22:08,560\nIt's does maintain a little database on\nthe back end where it's keeping track of\n\n430\n00:22:08,560 --> 00:22:12,340\nall these calendar events, and then\nCaldav is the protocol to connect to it.\n\n431\n00:22:12,340 --> 00:22:13,990\nBut if you need a centralized calendar,\n\n432\n00:22:13,990 --> 00:22:17,250\nor shared calendars inside your company,\nis a quick and easy way to do it,\n\n433\n00:22:17,250 --> 00:22:19,720\nand it's fairly feature rich so\nit's a nice thing to have.\n\n434\n00:22:21,060 --> 00:22:23,740\nAll right, well that's about all I've\ngot on the calendar service here\n\n435\n00:22:23,740 --> 00:22:26,000\ninside of the OS ten server app.\n\n436\n00:22:26,000 --> 00:22:29,790\nIf you have any questions on what we've\ntalked about, remember you can always ask.\n\n437\n00:22:29,790 --> 00:22:32,832\nLive during the show you\ncan go to itpro.tv/live and\n\n438\n00:22:32,832 --> 00:22:35,340\nyou'll see the chatroom beneath the video.\n\n439\n00:22:35,340 --> 00:22:36,180\nPost your questions there.\n\n440\n00:22:36,180 --> 00:22:38,130\nWe monitor and answer during the show.\n\n441\n00:22:38,130 --> 00:22:40,680\nIf you have questions after the show,\nuse our Q and A forms.\n\n442\n00:22:40,680 --> 00:22:43,830\nAt the top of every page is\na link that says Q and A.\n\n443\n00:22:43,830 --> 00:22:45,700\nClick on that,\nit'll take you into the forums.\n\n444\n00:22:45,700 --> 00:22:49,270\nYou can post your questions there and\nwe monitor and answer after the show.\n\n445\n00:22:49,270 --> 00:22:50,470\nTake advantage of that resource.\n\n446\n00:22:50,470 --> 00:22:52,490\nIt is there for you.\n\n447\n00:22:52,490 --> 00:22:53,840\nAll right.\nThat's all I've got today.\n\n448\n00:22:53,840 --> 00:22:55,510\nHope you guys enjoyed the episode.\n\n449\n00:22:55,510 --> 00:22:56,700\nSigning off for IT Pro Tv.\n\n450\n00:22:56,700 --> 00:22:59,418\nI'm Don Pezet and I'll see you next time.\n\n451\n00:22:59,418 --> 00:23:09,418\n[MUSIC]\n\n452\n00:23:13,360 --> 00:23:15,983\n[SOUND] All right, during the show,\n\n453\n00:23:15,983 --> 00:23:20,181\nI couldn't find that stupid\nscheduling advisor, and so\n\n454\n00:23:20,181 --> 00:23:25,427\nI just wanted to throw a little segment\nhere onto the end of the episode,\n\n455\n00:23:25,427 --> 00:23:29,556\na little after the credit roll\nthing to kind of show you.\n\n456\n00:23:29,556 --> 00:23:30,478\nIt's not on the exam but\n\n457\n00:23:30,478 --> 00:23:33,500\nit's a pretty neat function, so\nI wanted you guys to see it.\n\n458\n00:23:33,500 --> 00:23:36,140\nIf you go to schedule a meeting,\nand it's already booked for\n\n459\n00:23:36,140 --> 00:23:39,600\na particular time, you can just try and\nguess other times, but\n\n460\n00:23:39,600 --> 00:23:42,210\nthat can get really frustrating\nif people have busy calendars.\n\n461\n00:23:42,210 --> 00:23:44,830\nSo the scheduling advisor helps with that.\n\n462\n00:23:44,830 --> 00:23:46,350\nIt's up here under my Window menu.\n\n463\n00:23:46,350 --> 00:23:50,730\nIf you go under Window, you'll see\nthe scheduling advisor show up, sorry,\n\n464\n00:23:50,730 --> 00:23:52,910\nnot scheduling advisor,\nthe Availability Panel.\n\n465\n00:23:52,910 --> 00:23:54,070\nThat's what it's called.\n\n466\n00:23:54,070 --> 00:23:58,390\nSo under Window and Availability Panel,\nyou can bring that panel up.\n\n467\n00:23:58,390 --> 00:24:03,100\nAnd now, whenever you click a meeting\nif it's double booked or whatever,\n\n468\n00:24:03,100 --> 00:24:04,680\nit'll show up here, and\n\n469\n00:24:04,680 --> 00:24:10,570\nyou can start to move that meeting and\nyou can see whether things are booked.\n\n470\n00:24:10,570 --> 00:24:12,440\nSo if I try and\ndouble book these meetings,\n\n471\n00:24:12,440 --> 00:24:16,180\nsee how John Doe is showing he's\navailable, everybody else is showing gray.\n\n472\n00:24:16,180 --> 00:24:18,830\nThat means these other people\nare already booked and\n\n473\n00:24:18,830 --> 00:24:21,410\nI can see the other times\nthat are available.\n\n474\n00:24:21,410 --> 00:24:25,580\nAnd I know if I move that meeting\nto one of these other times,\n\n475\n00:24:25,580 --> 00:24:27,940\nnow everybody is available.\n\n476\n00:24:27,940 --> 00:24:31,850\nBe careful with this, cuz every time I\nmove it I'm clicking that Send button,\n\n477\n00:24:31,850 --> 00:24:34,150\nand that means I'm re-sending my invites.\n\n478\n00:24:34,150 --> 00:24:37,770\nThat won't bother the camera,\nthe resources and\n\n479\n00:24:37,770 --> 00:24:40,770\nmeeting rooms I've added, but it'll annoy\nthe hell out of John Doe right there.\n\n480\n00:24:40,770 --> 00:24:42,420\nHe's getting emails for all of this.\n\n481\n00:24:42,420 --> 00:24:46,840\nSo you wanna make sure that you kind of\njust move it once before hitting Send, or\n\n482\n00:24:46,840 --> 00:24:51,000\nrevert it back between each move that you\ntry, but it's nice because you can just\n\n483\n00:24:51,000 --> 00:24:57,450\nquickly and visually see all the invitees\nand whether or not they're available.\n\n484\n00:24:57,450 --> 00:25:01,660\nAnd then you can schedule that meeting,\nand now everybody's able to attend and\n\n485\n00:25:01,660 --> 00:25:02,530\nyou've kind of gotten around that.\n\n486\n00:25:02,530 --> 00:25:06,450\nSo this is all coming from the server,\nall this availability data.\n\n487\n00:25:06,450 --> 00:25:08,190\nIt's a function inside of Caldav, and\n\n488\n00:25:08,190 --> 00:25:11,440\nit's a great way to get those meetings\nscheduled and not have duplicates.\n\n489\n00:25:11,440 --> 00:25:13,675\nSo sorry I didn't get that in the show but\nit's right here.\n\n490\n00:25:13,675 --> 00:25:16,675\nHopefully, you benefited\n[LAUGH] benefited from that and\n\n491\n00:25:16,675 --> 00:25:18,743\nyou're able to speak better than I am.\n\n492\n00:25:18,743 --> 00:25:20,082\nSo, hope you guys enjoyed it.\n\n493\n00:25:20,082 --> 00:25:21,220\nI'll see you next time.\n\n494\n00:25:21,220 --> 00:25:27,180\n[SOUND]\n\n",
          "vimeoId": "126371097"
        },
        {
          "description": null,
          "length": "868",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-7-4-contacts-042315-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-7-4-contacts-042315-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc1010-7-4-contacts-042315-1-sm.jpg",
          "title": "Contacts",
          "transcript": "1\n00:00:00,000 --> 00:00:10,000\n[MUSIC]\n\n2\n00:00:15,347 --> 00:00:20,304\n[SOUND]\n\n3\n00:00:22,964 --> 00:00:33,396\n[MUSIC]\n\n4\n00:00:33,396 --> 00:00:35,860\nAll right, good morning,\ngood afternoon, and good evening.\n\n5\n00:00:35,860 --> 00:00:38,270\nWelcome back to another\nepisode of ITProTv.\n\n6\n00:00:38,270 --> 00:00:39,110\nI'm your host,\n\n7\n00:00:39,110 --> 00:00:43,920\nDon Pezet, back again with another episode\nof Apple-certified technical coordinator.\n\n8\n00:00:43,920 --> 00:00:47,020\nIn this episode, we're going to be\ndiving into the contact service,\n\n9\n00:00:47,020 --> 00:00:51,460\nwhich, admittedly, is probably one of\nthe least used services in the server app.\n\n10\n00:00:51,460 --> 00:00:55,480\nBut it does serve a purpose, it is\nusable for certain use case scenarios.\n\n11\n00:00:55,480 --> 00:00:57,940\nAnd more importantly, it's on the exam so\nwe need to be familiar with it.\n\n12\n00:00:57,940 --> 00:01:00,490\nFortunately, it's not that\ndifficult to want to configure.\n\n13\n00:01:00,490 --> 00:01:05,640\nThe contact service is designed to provide\nyou with a centralized data where you can\n\n14\n00:01:05,640 --> 00:01:10,980\nstore your contacts that can be used in\nall sorts of programs, like in Apple mail,\n\n15\n00:01:10,980 --> 00:01:15,070\nmessages, in well,\nthe contacts application obviously.\n\n16\n00:01:15,070 --> 00:01:17,350\nBut it can be used in all these\ndifferent applications and\n\n17\n00:01:17,350 --> 00:01:19,710\nties right back into this\ncentralized database.\n\n18\n00:01:19,710 --> 00:01:23,790\nNow, you might ask yourself, well Don,\nI kind of already have a contacts app.\n\n19\n00:01:23,790 --> 00:01:25,310\nI can kind of already do that.\n\n20\n00:01:25,310 --> 00:01:27,490\nWhy would I care if it's on the server or\nnot?\n\n21\n00:01:27,490 --> 00:01:28,950\nAnd there's two reasons.\n\n22\n00:01:28,950 --> 00:01:30,490\nFirst off, you're exactly right.\n\n23\n00:01:30,490 --> 00:01:33,440\nMost people aren't going to use this\nbecause you can manage contacts\n\n24\n00:01:33,440 --> 00:01:34,820\njust fine without it.\n\n25\n00:01:34,820 --> 00:01:38,130\nBut, what if you used\nmore than one computer?\n\n26\n00:01:38,130 --> 00:01:39,510\nI have this problem, right.\n\n27\n00:01:39,510 --> 00:01:42,020\nI have my laptop and I have a desktop.\n\n28\n00:01:42,020 --> 00:01:45,000\nAnd, when I'm on my laptop,\nif I fire up the contacts app,\n\n29\n00:01:45,000 --> 00:01:48,840\nI can create contacts in there and\nthey're right there on my laptop.\n\n30\n00:01:48,840 --> 00:01:52,730\nBut then when I go to my desktop,\nthe contacts aren't there, all right?\n\n31\n00:01:52,730 --> 00:01:57,010\nSo I need some kind of way to synchronize\ncontacts between the two machines.\n\n32\n00:01:57,010 --> 00:01:58,890\nWell, today, we have iCloud.\n\n33\n00:01:58,890 --> 00:02:01,470\nIf you have your iCloud account,\nyou sign in,\n\n34\n00:02:01,470 --> 00:02:05,170\nnow your contacts synced between\nthe machines, and you're done, right.\n\n35\n00:02:05,170 --> 00:02:07,380\nBut we didn't always have iCloud.\n\n36\n00:02:07,380 --> 00:02:11,040\nAnd so before there was an iCloud, the way\nwe would synchronize contacts between\n\n37\n00:02:11,040 --> 00:02:14,480\ncomputers was with the contact\nserver in the server app.\n\n38\n00:02:14,480 --> 00:02:16,420\nSo that's why we have this solution.\n\n39\n00:02:16,420 --> 00:02:19,530\nAnd while it's not really relevant\nto people doing new deployments,\n\n40\n00:02:19,530 --> 00:02:23,450\nit is still relevant because it can\nbe used not only for people who had\n\n41\n00:02:23,450 --> 00:02:27,170\nthe contact service before, but for\npeople who don't want to use iCloud.\n\n42\n00:02:27,170 --> 00:02:29,960\nNot everybody wants to sync\ntheir contacts up to Apple,\n\n43\n00:02:29,960 --> 00:02:32,260\nbecause you gotta trust their servers.\n\n44\n00:02:32,260 --> 00:02:35,550\nIf you want to have your own\nsystem that you trust, well,\n\n45\n00:02:35,550 --> 00:02:38,330\nyou can deploy the contact\nservice in the server app.\n\n46\n00:02:38,330 --> 00:02:39,390\nThat's one scenario.\n\n47\n00:02:39,390 --> 00:02:42,240\nThe other scenario where\nthe contact service is really nice\n\n48\n00:02:42,240 --> 00:02:44,440\nis if you have an open directory.\n\n49\n00:02:44,440 --> 00:02:48,050\nWhen you have an open directory,\nanybody can go into there contacts app and\n\n50\n00:02:48,050 --> 00:02:49,460\nthey can add the open directory.\n\n51\n00:02:49,460 --> 00:02:52,860\nIn fact, if they're bound to the active\ndirectory, then it's already in there, or\n\n52\n00:02:52,860 --> 00:02:54,680\nopen directory,\nthen it's already in there.\n\n53\n00:02:54,680 --> 00:02:56,393\nWell, active directory too, that works.\n\n54\n00:02:56,393 --> 00:02:57,440\n[LAUGH] Either one.\n\n55\n00:02:57,440 --> 00:03:00,280\nSo, it's automatically added to\ncontacts if you're bound to it.\n\n56\n00:03:00,280 --> 00:03:03,590\nBut, what if you don't want to\nbind to the open directory?\n\n57\n00:03:03,590 --> 00:03:05,620\nYou don't want your work\nstation bound to it.\n\n58\n00:03:05,620 --> 00:03:07,320\nYou want to log in with\na local account and\n\n59\n00:03:07,320 --> 00:03:11,450\nyou just want to be able to search for\ncontacts throughout the open directory.\n\n60\n00:03:11,450 --> 00:03:14,690\nWell, it doesn't really let you do that,\nyou pretty much need to bind.\n\n61\n00:03:14,690 --> 00:03:17,660\nI mean you can add it in and\nput your credentials in but if you connect\n\n62\n00:03:17,660 --> 00:03:22,030\nto a centralized contact server and\nthat server is bond to the open directory.\n\n63\n00:03:22,030 --> 00:03:25,070\nYou can now search and\nfind contacts in the open directory too.\n\n64\n00:03:25,070 --> 00:03:29,660\nSo by connecting a client to the contact\nservice, you get centralized storage\n\n65\n00:03:29,660 --> 00:03:33,740\nof your contacts that can be synchronized\nbetween multiple machines and\n\n66\n00:03:33,740 --> 00:03:36,440\nyou get the ability to search through\nthe open directory for contacts.\n\n67\n00:03:36,440 --> 00:03:38,010\nThose are the two benefits.\n\n68\n00:03:38,010 --> 00:03:40,860\nIf you're using iCloud you might\nnot need either of those and\n\n69\n00:03:40,860 --> 00:03:42,580\nthe contact service is not for you.\n\n70\n00:03:42,580 --> 00:03:44,680\nBut it is still relevant\nin certain use cases.\n\n71\n00:03:44,680 --> 00:03:46,730\nThat's why we've got it and\nthat's why it's still on the exam.\n\n72\n00:03:46,730 --> 00:03:47,850\nAll right.\n\n73\n00:03:47,850 --> 00:03:51,290\nLet's take a look at this thing\nin action and see how it works.\n\n74\n00:03:51,290 --> 00:03:53,710\nAll right.\nInside of my server app,\n\n75\n00:03:53,710 --> 00:03:56,730\nI can go right down here under services,\nand you'll find contacts.\n\n76\n00:03:56,730 --> 00:03:57,490\nThere it is.\n\n77\n00:03:57,490 --> 00:04:00,620\nThere's not a whole ton of\noptions in here, right.\n\n78\n00:04:00,620 --> 00:04:03,980\nFirst off, we've got our standard on\noff button, so we can turn it on.\n\n79\n00:04:03,980 --> 00:04:06,530\nYou can define your permissions,\nwho's allowed to connect to it.\n\n80\n00:04:06,530 --> 00:04:10,275\nBy default, all users so\nyou do have to have a valid user account,\n\n81\n00:04:10,275 --> 00:04:13,660\nit's not just anonymous people and\nall networks.\n\n82\n00:04:13,660 --> 00:04:17,700\nThat means the users can be on the same\nnetwork as the server or they can be\n\n83\n00:04:17,700 --> 00:04:20,990\nremote as long as they have connectivity\nto the server they can get to it.\n\n84\n00:04:20,990 --> 00:04:24,270\nIf you want external people to\nbe able to sync to the server,\n\n85\n00:04:24,270 --> 00:04:25,270\nyou'll want that setting.\n\n86\n00:04:26,540 --> 00:04:29,230\nThe other thing is Push Notifications.\n\n87\n00:04:29,230 --> 00:04:33,440\nIf somebody's remote, you can have\nit where a contact gets modified and\n\n88\n00:04:33,440 --> 00:04:37,080\nautomatically gets pushed over to their\nother system through Apple servers.\n\n89\n00:04:37,080 --> 00:04:39,140\nAnd so you can go and turn that on.\n\n90\n00:04:39,140 --> 00:04:41,780\nIt does require a valid iCloud or\n\n91\n00:04:41,780 --> 00:04:45,670\nan Apple ID to create the push\ncertificate that you use for that.\n\n92\n00:04:45,670 --> 00:04:48,400\nIf you watched the Profile Manager\nepisode we did it in there.\n\n93\n00:04:48,400 --> 00:04:50,870\nBut basically you have to have that\npush notification certificate.\n\n94\n00:04:50,870 --> 00:04:55,800\nAnd then the last option is allow\nusers to search the directory\n\n95\n00:04:55,800 --> 00:04:59,350\nusing the contacts application,\nthat's the feature I mentioned earlier.\n\n96\n00:04:59,350 --> 00:05:03,400\nBy default, the contact server just\ngives you synchronization of your\n\n97\n00:05:03,400 --> 00:05:06,670\nown contacts and that's it,\nthat's all you get by default.\n\n98\n00:05:06,670 --> 00:05:08,420\nBut if you turn this on,\n\n99\n00:05:08,420 --> 00:05:11,360\nnow they'll be able to search\nagainst the open directory also.\n\n100\n00:05:11,360 --> 00:05:14,981\nSo it's like having two separate sets\nof contacts all rolled into one.\n\n101\n00:05:16,677 --> 00:05:19,630\nAll right, so at this stage,\nI'm really done on the server.\n\n102\n00:05:19,630 --> 00:05:23,110\nThat's all we do on the server,\nthere's not anything else we can do here.\n\n103\n00:05:23,110 --> 00:05:25,612\nEverything else is done\non the client's side.\n\n104\n00:05:25,612 --> 00:05:27,430\nAll right, so\nlet's take a look at a client and\n\n105\n00:05:27,430 --> 00:05:29,490\nhow that gets connected and set up.\n\n106\n00:05:29,490 --> 00:05:33,060\nSo, over here I've got a client with a,\nwell, a bunch of junk here.\n\n107\n00:05:33,060 --> 00:05:35,180\nThere we go.\nSo, I've got a client and\n\n108\n00:05:35,180 --> 00:05:40,130\nthis client is bound to the directory,\nso the client already has their own\n\n109\n00:05:40,130 --> 00:05:43,210\ncontacts that they've created and\nthey can search the open directory.\n\n110\n00:05:43,210 --> 00:05:45,780\nBut let's just assume that\nit wasn't I can go and\n\n111\n00:05:45,780 --> 00:05:48,700\nconnect that contact server and\nthen I'll be able to have that access.\n\n112\n00:05:48,700 --> 00:05:51,450\nNow there is something\nthat I forgot to mention.\n\n113\n00:05:51,450 --> 00:05:54,120\nI mentioned that a user can\nconnect from the outside.\n\n114\n00:05:54,120 --> 00:05:55,710\nSo if somebody's out\nthere on the internet and\n\n115\n00:05:55,710 --> 00:05:58,240\nthey want to connect\nin they can get to it.\n\n116\n00:05:58,240 --> 00:06:01,420\nThe contact server uses\nsome non-standard ports, so\n\n117\n00:06:01,420 --> 00:06:04,570\nif you have a firewall in between you and\nthe Internet,\n\n118\n00:06:04,570 --> 00:06:07,830\nwhich you more than likely do,\nyou do have to open up some ports.\n\n119\n00:06:07,830 --> 00:06:12,625\nIt does unsecured connections\non TCP port 8800.\n\n120\n00:06:12,625 --> 00:06:13,670\nEighty eight hundred.\n\n121\n00:06:13,670 --> 00:06:18,490\nAnd it does secure connections on 8843.\n\n122\n00:06:18,490 --> 00:06:19,640\nSo TCP port 8843.\n\n123\n00:06:19,640 --> 00:06:23,450\nSo you do have to make sure you\nopen those on the firewall.\n\n124\n00:06:23,450 --> 00:06:26,780\nIn my case, my client is on\nthe same network as my server, so\n\n125\n00:06:26,780 --> 00:06:28,530\nI don't have to mess with firewalls or\nanything like that.\n\n126\n00:06:28,530 --> 00:06:29,970\nI'll have that connectivity.\n\n127\n00:06:29,970 --> 00:06:32,200\nBut if it's an external client,\nyou will have to open those ports.\n\n128\n00:06:32,200 --> 00:06:36,140\nI'll put that in the show notes so\nyou guys will have it.\n\n129\n00:06:36,140 --> 00:06:38,740\nAll right, assuming we're on\nthe same network, we're good to go.\n\n130\n00:06:38,740 --> 00:06:42,800\nI can fire up my contacts app, and\nwhen I launch the contacts app,\n\n131\n00:06:42,800 --> 00:06:44,900\nI'm gonna see two things.\n\n132\n00:06:44,900 --> 00:06:46,050\nOn my Mac.\n\n133\n00:06:46,050 --> 00:06:48,550\nThose are contacts that\nare right here on this Mac,\n\n134\n00:06:48,550 --> 00:06:52,230\nnot being synchronized anywhere else and\ndirectories.\n\n135\n00:06:52,230 --> 00:06:54,640\nSo I see my directory\nservice that I'm bound to,\n\n136\n00:06:54,640 --> 00:06:56,830\nin my case the open directory, right?\n\n137\n00:06:56,830 --> 00:06:58,000\nOh, well, mine is saying no results.\n\n138\n00:06:58,000 --> 00:06:59,730\nMaybe this machine isn't bound,\nI don't remember, but\n\n139\n00:06:59,730 --> 00:07:02,630\nthose are what I'm going\nto see by default.\n\n140\n00:07:02,630 --> 00:07:07,190\nI need to add in my contacts server and\nthen I'll be able to synchronize and\n\n141\n00:07:07,190 --> 00:07:07,990\naccess those contacts.\n\n142\n00:07:07,990 --> 00:07:11,330\nSo the way we do that is we go\nup to our contacts menu and\n\n143\n00:07:11,330 --> 00:07:13,260\nyou choose to add an account.\n\n144\n00:07:13,260 --> 00:07:16,640\nNow when you go to add an account\nyou'll see iCloud, Exchange, Google,\n\n145\n00:07:16,640 --> 00:07:19,460\nFacebook, right all these different ones\nthat are out there those are the ones\n\n146\n00:07:19,460 --> 00:07:20,860\nthat they want you to use.\n\n147\n00:07:20,860 --> 00:07:25,890\nBut we can go to other contacts account\nand we can add in the apple server.\n\n148\n00:07:25,890 --> 00:07:29,410\nNow, notice it doesn't say\nthe Apple server app, right.\n\n149\n00:07:29,410 --> 00:07:31,510\nIt says Card DAV, CardDAV.\n\n150\n00:07:31,510 --> 00:07:32,750\nWhat's that all about?\n\n151\n00:07:32,750 --> 00:07:37,570\nWell, the contact server, it's actually\njust a modified web server, and it's\n\n152\n00:07:37,570 --> 00:07:41,740\nusing a modified version of Web DAV, the\nweb distributed authoring and versioning.\n\n153\n00:07:41,740 --> 00:07:42,730\nAnd it's very effective.\n\n154\n00:07:42,730 --> 00:07:43,380\nIt works.\n\n155\n00:07:43,380 --> 00:07:46,030\nThat open standards called CardDAV.\n\n156\n00:07:46,030 --> 00:07:48,620\nAnd so we can connect to\nany CardDAV server we want.\n\n157\n00:07:48,620 --> 00:07:51,290\nThe Apple server app is just one of them.\n\n158\n00:07:51,290 --> 00:07:52,160\nAnd so I'm going to do that.\n\n159\n00:07:52,160 --> 00:07:54,950\nI'm going to connect and\nI'll punch in my User Name now.\n\n160\n00:07:54,950 --> 00:07:58,850\nFor the User Name, because it's CardDAV,\nyou have to use your short name,\n\n161\n00:07:58,850 --> 00:08:00,840\nthe Unix name for your user account.\n\n162\n00:08:00,840 --> 00:08:04,200\nIt won't take the pretty name,\nthe display name.\n\n163\n00:08:04,200 --> 00:08:06,130\nSo I'm going to log in as John Doe.\n\n164\n00:08:06,130 --> 00:08:11,900\nI'll put in my password and\nthen I'll put in the name of the server.\n\n165\n00:08:11,900 --> 00:08:13,970\nNow if you want to have access\nfrom the outside world,\n\n166\n00:08:13,970 --> 00:08:16,340\nyou need to register a DNS name for\nyour server.\n\n167\n00:08:16,340 --> 00:08:18,720\nYou'll need to have that in there.\n\n168\n00:08:18,720 --> 00:08:22,480\nMine is called osx-server1.lab.itpro.tv,\n\n169\n00:08:22,480 --> 00:08:26,230\nso you may need to go add a DNS entry for\nit.\n\n170\n00:08:26,230 --> 00:08:29,530\nYou probably already have one for it\nthough so it's probably not a big issue.\n\n171\n00:08:29,530 --> 00:08:33,008\nIf you're just using it internally, it's\nokay to go ahead and just put OSX-sever1,\n\n172\n00:08:33,008 --> 00:08:37,060\nor server1.local or whatever yours is\ncalled, you can punch that in too.\n\n173\n00:08:37,060 --> 00:08:42,360\nAll right so I'll go ahead and\nhit create and it's gonna reach out.\n\n174\n00:08:42,360 --> 00:08:45,890\nNotice it's verifying, it's reaching\nout to that server and talking to it.\n\n175\n00:08:45,890 --> 00:08:47,420\nNow one of two things\nis gonna happen here.\n\n176\n00:08:47,420 --> 00:08:49,580\nWell, I guess there's three things.\n\n177\n00:08:49,580 --> 00:08:52,720\nThe first thing is it's gonna connect and\neverything's gonna work great.\n\n178\n00:08:52,720 --> 00:08:55,670\nThe second possibility is that I\nmight get a certificate warning.\n\n179\n00:08:55,670 --> 00:08:59,890\nIf you brought this up as internal server\nand you're not bound to the directory,\n\n180\n00:08:59,890 --> 00:09:03,070\nyou probably don't trust the root\ncertificate of that server.\n\n181\n00:09:03,070 --> 00:09:05,700\nSo when that happens,\nyou'll have the opportunity to trust,\n\n182\n00:09:05,700 --> 00:09:08,150\nthat you can choose to always\ntrust the certificate.\n\n183\n00:09:09,180 --> 00:09:11,180\nThe third possibility is\nthat it doesn't connect.\n\n184\n00:09:11,180 --> 00:09:13,590\nIf it doesn't connect you've got\nto do a little troubleshooting.\n\n185\n00:09:13,590 --> 00:09:15,730\nAnd it normally comes down to DNS.\n\n186\n00:09:15,730 --> 00:09:18,570\nSo what I normally do for\nmy first stage of troubleshooting\n\n187\n00:09:18,570 --> 00:09:22,220\nis fire up the terminal and\njust see if I can even ping that server.\n\n188\n00:09:22,220 --> 00:09:27,730\nCan I ping osx-server1.lab.itpro.tv,\nall right.\n\n189\n00:09:27,730 --> 00:09:28,720\nCan I ping it?\n\n190\n00:09:28,720 --> 00:09:31,440\nIf I can't even ping it, then there's\nno way the contact service is going to\n\n191\n00:09:31,440 --> 00:09:34,110\nconnect, so I may need to check that.\n\n192\n00:09:34,110 --> 00:09:38,110\nIf I can ping it, I might need to\ncheck those firewall ports, you know,\n\n193\n00:09:38,110 --> 00:09:40,890\nare those ports being blocked\nbetween me and the server?\n\n194\n00:09:40,890 --> 00:09:42,780\nAnd then other things we\nstart kind of drilling down.\n\n195\n00:09:42,780 --> 00:09:44,710\nIs the server actually running?\n\n196\n00:09:44,710 --> 00:09:46,780\nAm I using the right credentials?\n\n197\n00:09:46,780 --> 00:09:50,274\nWe just need to double check all the\ninformation that we're putting in there.\n\n198\n00:09:52,202 --> 00:09:55,820\nAll right, in my case though, I did trust\nthe certificate because I'm bound to\n\n199\n00:09:55,820 --> 00:09:58,520\nthe open directory, and so\nit automatically added it in.\n\n200\n00:09:58,520 --> 00:10:00,520\nAnd now I see a lot of new\nstuff that's appeared.\n\n201\n00:10:00,520 --> 00:10:05,020\nAll right, before I had on my Mac,\nand I had Directories.\n\n202\n00:10:05,020 --> 00:10:06,420\nAnd Directories was kind of empty, right.\n\n203\n00:10:06,420 --> 00:10:07,660\nIt had All Directories.\n\n204\n00:10:07,660 --> 00:10:12,820\nBut now when I go in, I see I've\ngot Contacts stored on the server.\n\n205\n00:10:12,820 --> 00:10:15,850\nAs well as the directories, all right?\n\n206\n00:10:15,850 --> 00:10:20,030\nSo, when I look at it on my Mac, well,\nI can see I've got one contact for\n\n207\n00:10:20,030 --> 00:10:21,300\nApple Inc., and that's it.\n\n208\n00:10:22,350 --> 00:10:26,080\nIf I go and look on the server,\nI can see I don't have any contacts.\n\n209\n00:10:26,080 --> 00:10:28,200\nSo I can go in and I can add some.\n\n210\n00:10:28,200 --> 00:10:31,960\nI can add in, I'll create a contact,\nmaybe I'll create one for me, right.\n\n211\n00:10:31,960 --> 00:10:36,035\nSo I'll do a new contact for\nDon Pezet, and I work for\n\n212\n00:10:36,035 --> 00:10:41,180\nITProTV, and I'll put in an email address.\n\n213\n00:10:41,180 --> 00:10:43,980\nSo I am Don@itprotv, there we go.\n\n214\n00:10:43,980 --> 00:10:47,080\nSo I punch in that information,\nand now I've got a contact.\n\n215\n00:10:47,080 --> 00:10:51,380\nAnd instead of being stored right here\non my Mac, it's stored on the server.\n\n216\n00:10:51,380 --> 00:10:53,680\nSo if I have five computers,\nor if I have a laptop and\n\n217\n00:10:53,680 --> 00:10:57,590\na desktop, when I go between them,\nI'll have all my contacts right there.\n\n218\n00:10:57,590 --> 00:11:00,850\nAnd now it's centralized,\nit's synchronized between the systems.\n\n219\n00:11:00,850 --> 00:11:02,780\nNow, what about my previous contacts?\n\n220\n00:11:02,780 --> 00:11:05,110\nI've already got one right here on my Mac.\n\n221\n00:11:05,110 --> 00:11:08,900\nWell, you can just take them and\ndrag and drop them, and\n\n222\n00:11:08,900 --> 00:11:13,330\nit'll move it off of just being on your\nown Mac to being up on the server.\n\n223\n00:11:13,330 --> 00:11:15,650\nAnd so now I've got that right up there.\n\n224\n00:11:15,650 --> 00:11:19,230\nSo really easy to migrate to this if\nyou had a bunch of local contacts.\n\n225\n00:11:20,600 --> 00:11:23,470\nNow, I am connected to the directory,\ntoo, though, so I can search and\n\n226\n00:11:23,470 --> 00:11:25,220\nfind contacts on the directory.\n\n227\n00:11:25,220 --> 00:11:30,180\nIf I go down here to Directories and\nI pick my Open Directory I can search for\n\n228\n00:11:30,180 --> 00:11:32,050\nsomebody like Jane Doe.\n\n229\n00:11:32,050 --> 00:11:33,440\nJane, she's got a contact and\n\n230\n00:11:33,440 --> 00:11:36,920\nthere she is, that's coming\nright out of the Open Directory.\n\n231\n00:11:36,920 --> 00:11:38,950\nAnd I can call, FaceTime, audio,\n\n232\n00:11:38,950 --> 00:11:41,570\nwhatever it is,\nthose contacts are now available to me.\n\n233\n00:11:41,570 --> 00:11:44,890\nEven if I wasn't bound to the directory,\nI would be able to see this,\n\n234\n00:11:44,890 --> 00:11:47,180\ncuz I'm connected to that contact server,\nright?\n\n235\n00:11:47,180 --> 00:11:50,360\nThat gives us that centralized\ncontacts database, and\n\n236\n00:11:50,360 --> 00:11:52,500\nnow we have everybody in the company.\n\n237\n00:11:52,500 --> 00:11:56,280\nAnd you can even take some of these\npeople and drag and drop them.\n\n238\n00:11:56,280 --> 00:12:00,690\nJust in case you're traveling and\nyou can't access the directory,\n\n239\n00:12:00,690 --> 00:12:05,050\nwell now I've made a copy of Jane, so when\nI go and look at my individual contacts,\n\n240\n00:12:05,050 --> 00:12:08,100\nI can see that I've got Jane added right\nthere copied out of the directory.\n\n241\n00:12:08,100 --> 00:12:10,150\nSo we can kind of move\nthose things around.\n\n242\n00:12:10,150 --> 00:12:11,980\nAnd I'm just using the contacts app.\n\n243\n00:12:11,980 --> 00:12:14,060\nBut there's a number of apps\nout there that support this.\n\n244\n00:12:14,060 --> 00:12:19,580\nSo, if you were to fire up Apple mail,\nI use Fantastical, programs like that.\n\n245\n00:12:19,580 --> 00:12:21,700\nThey can all interact with\nthe same contacts database and\n\n246\n00:12:21,700 --> 00:12:23,000\npull up the same record.\n\n247\n00:12:23,000 --> 00:12:24,040\nSo very powerful.\n\n248\n00:12:24,040 --> 00:12:25,110\nYou get a lot of a functionality there.\n\n249\n00:12:26,190 --> 00:12:29,750\nBut as far as the server is concerned,\nthere's not much to it, right?\n\n250\n00:12:29,750 --> 00:12:34,050\nIt's maintaining a little database of\nall of the individual user contacts.\n\n251\n00:12:34,050 --> 00:12:36,140\nIt maintains a separate database for\neach individual user.\n\n252\n00:12:36,140 --> 00:12:39,525\nThey're very small Inside of the database,\n\n253\n00:12:39,525 --> 00:12:41,545\nit's really just got a bunch of vCards,\nright?\n\n254\n00:12:41,545 --> 00:12:44,335\nA vCard for each contact that\nit stores that information in,\n\n255\n00:12:44,335 --> 00:12:47,175\nand it's all accessed via CardDAV.\n\n256\n00:12:47,175 --> 00:12:50,872\nIt's open standards technologies\nthat are extremely compatible.\n\n257\n00:12:50,872 --> 00:12:52,907\nNow, remember what I said at\nthe beginning of the episode,\n\n258\n00:12:52,907 --> 00:12:55,132\nthe contact service is not for everybody.\n\n259\n00:12:55,132 --> 00:12:56,762\nAnd if you've got iCloud,\n\n260\n00:12:56,762 --> 00:13:00,692\nyou probably don't need this, so, a lot of\npeople don't necessarily mess with this.\n\n261\n00:13:00,692 --> 00:13:01,682\nI know me personally,\n\n262\n00:13:01,682 --> 00:13:04,682\nmost of my contacts are stored in\nmy Google Apps for work account.\n\n263\n00:13:04,682 --> 00:13:07,452\nBut if you want to maintain a local copy,\n\n264\n00:13:07,452 --> 00:13:11,572\nyou don't want it stored in the cloud, the\ncontact service is a great solution, and\n\n265\n00:13:11,572 --> 00:13:13,442\nit's easy to activate and\nget up and running.\n\n266\n00:13:13,442 --> 00:13:14,789\nSo, one of the simpler ones to go with.\n\n267\n00:13:16,350 --> 00:13:19,570\nAll right, well I know this is gonna be\none of the shorter episodes we've had,\n\n268\n00:13:19,570 --> 00:13:22,320\nbut there's only so much we can\ncover when it comes to contact, so\n\n269\n00:13:22,320 --> 00:13:24,400\nthat's a pretty good spot for\nus to wrap it up.\n\n270\n00:13:24,400 --> 00:13:25,640\nWe'll stop it here.\n\n271\n00:13:25,640 --> 00:13:30,290\nWe do still have a lot more ACTC content\ncoming up, so stay tuned for that, but if\n\n272\n00:13:30,290 --> 00:13:33,530\nyou have any questions on what we talked\nabout in this episode, don't forget.\n\n273\n00:13:33,530 --> 00:13:35,890\nYou can always use our chat, right?\n\n274\n00:13:35,890 --> 00:13:39,630\nGo to itpro.tv/live and\nyou'll see the chat beneath the video.\n\n275\n00:13:39,630 --> 00:13:40,960\nYou could post your questions there.\n\n276\n00:13:40,960 --> 00:13:43,130\nWe monitor and answer during the show.\n\n277\n00:13:43,130 --> 00:13:44,930\nIf you have questions after the show,\n\n278\n00:13:44,930 --> 00:13:48,410\nlike if you're watching this recorded, you\ncan check us out in the Q and A forums.\n\n279\n00:13:48,410 --> 00:13:53,070\nAt the top of every page on the ITProTV\nsite, you'll see a link that says Q and A.\n\n280\n00:13:53,070 --> 00:13:53,820\nClick on it.\n\n281\n00:13:53,820 --> 00:13:54,710\nIt'll take you to the forums.\n\n282\n00:13:54,710 --> 00:13:56,330\nYou can post your questions there.\n\n283\n00:13:56,330 --> 00:13:58,400\nWe monitor and answer after the show.\n\n284\n00:13:58,400 --> 00:13:59,240\nTake advantage of that.\n\n285\n00:13:59,240 --> 00:14:00,628\nIt's there for you.\n\n286\n00:14:00,628 --> 00:14:03,112\nWell, I hope you guys enjoyed this\nepisode, albeit the short one.\n\n287\n00:14:03,112 --> 00:14:08,078\nSigning off for ITProTV, I'm Don Pezet,\nand I'll see you next time.\n\n288\n00:14:08,078 --> 00:14:18,078\n[MUSIC]\n\n289\n00:14:21,754 --> 00:14:26,447\n[SOUND]\n\n",
          "vimeoId": "125900847"
        },
        {
          "description": null,
          "length": "2197",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc10.10-7-5-messages-050615-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc10.10-7-5-messages-050615-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/apple-actc1010/apple-actc10.10-7-5-messages-050615-1-sm.jpg",
          "title": "Messages",
          "transcript": "1\n00:00:00,000 --> 00:00:10,000\n[MUSIC]\n\n2\n00:00:15,167 --> 00:00:22,417\n[SOUND]\n\n3\n00:00:22,417 --> 00:00:32,417\n[MUSIC]\n\n4\n00:00:33,708 --> 00:00:36,381\nAll right, good morning,\ngood afternoon and good evening.\n\n5\n00:00:36,381 --> 00:00:40,050\nWelcome back to another episode of\nITproTV, I'm your host Don Pezet,\n\n6\n00:00:40,050 --> 00:00:44,590\nback again with another episode of\nApple Certified Technical Coordinator.\n\n7\n00:00:44,590 --> 00:00:47,500\nToday we're gonna be jumping\ninto the messages service,\n\n8\n00:00:47,500 --> 00:00:48,650\nwhich is a pretty neat one.\n\n9\n00:00:48,650 --> 00:00:52,860\nIt's one that has largely been\nreplaced by iCloud services, and\n\n10\n00:00:52,860 --> 00:00:54,450\nit still has a purpose though.\n\n11\n00:00:54,450 --> 00:00:58,440\nWhich is why it's around and why we need\nto know about it and why it's on the exam.\n\n12\n00:00:58,440 --> 00:01:01,690\nSo, first off, let's talk a bit\nabout messaging in and of itself.\n\n13\n00:01:01,690 --> 00:01:03,900\nWhen I talk about messaging,\n\n14\n00:01:03,900 --> 00:01:06,230\na lot of people's first\nimpression is text messages.\n\n15\n00:01:06,230 --> 00:01:07,480\nThat's what people use today.\n\n16\n00:01:07,480 --> 00:01:11,950\nYou've got a cell phone, you fire off\na message to someone else's number.\n\n17\n00:01:11,950 --> 00:01:14,820\nBut that originated Back on computers,\n\n18\n00:01:14,820 --> 00:01:18,830\nthings like AOL instant messenger and\nICQ, internet relay chat.\n\n19\n00:01:18,830 --> 00:01:23,130\nServices like that where you use text\nbased chat rooms to communicate with other\n\n20\n00:01:23,130 --> 00:01:24,610\npeople on the network.\n\n21\n00:01:24,610 --> 00:01:26,720\nWell, you have the same kind\nof functionality in this.\n\n22\n00:01:26,720 --> 00:01:30,890\nIn the server app in OS 10 we\nhave the messages service.\n\n23\n00:01:30,890 --> 00:01:33,780\nAnd the messages service is a standards\n\n24\n00:01:33,780 --> 00:01:36,900\ncompliant messaging service\nthat's built on top of XMPP.\n\n25\n00:01:36,900 --> 00:01:40,530\nThe extensible messaging\nin presence protocol.\n\n26\n00:01:40,530 --> 00:01:45,740\nNow messaging in presence, what that means\nis messaging, I can type a message and\n\n27\n00:01:45,740 --> 00:01:48,080\nsend it to somebody and\nit'll display on their screen.\n\n28\n00:01:48,080 --> 00:01:50,950\nAnd they can type a message and it'll come\nto me and display on my screen, right?\n\n29\n00:01:50,950 --> 00:01:52,060\nMessaging.\n\n30\n00:01:52,060 --> 00:01:56,300\nAnd then presence, that means I\ncan see if they're online or not.\n\n31\n00:01:56,300 --> 00:01:57,880\nIf they've walked away\nfrom their keyboard and\n\n32\n00:01:57,880 --> 00:02:00,810\nthey haven't touched their computer in\nhalf an hour, it'll show them as away.\n\n33\n00:02:00,810 --> 00:02:03,450\nBut if they're sitting at their\ncomputer and they're working,\n\n34\n00:02:03,450 --> 00:02:05,450\nit'll turn the little green light and\nit'll show that they're there.\n\n35\n00:02:05,450 --> 00:02:07,190\nThat's called presence.\n\n36\n00:02:07,190 --> 00:02:10,250\nNow in the past, when you used\nthings like AOL Instant Messenger.\n\n37\n00:02:10,250 --> 00:02:13,730\nIt was just for AOL, or MSN messenger,\n\n38\n00:02:13,730 --> 00:02:16,970\nICQ, there was no limit to the amount\nof chat clients that were out there.\n\n39\n00:02:16,970 --> 00:02:19,570\nThey were all their own\nclosed off little networks.\n\n40\n00:02:19,570 --> 00:02:23,875\nXMPP was designed to be an open standard\nto allow those different networks to\n\n41\n00:02:23,875 --> 00:02:26,165\ntie together, so\nthey didn't have to be isolated.\n\n42\n00:02:26,165 --> 00:02:28,955\nAnd so that's what Apple did\nis they leveraged this XMPP\n\n43\n00:02:28,955 --> 00:02:32,375\ntechnology to create their\nown messaging server.\n\n44\n00:02:32,375 --> 00:02:37,425\nAnd you can choose to run it as your own\nisolated little messaging island, or\n\n45\n00:02:37,425 --> 00:02:39,345\nyou can integrate it with\nother services out there.\n\n46\n00:02:39,345 --> 00:02:42,515\nIt's called a federation,\nwhen you tie one XMPP\n\n47\n00:02:42,515 --> 00:02:45,630\nenvironment to another your\nfederating those environments.\n\n48\n00:02:45,630 --> 00:02:48,380\nAnd now users in each system\ncan chat with each other.\n\n49\n00:02:49,410 --> 00:02:52,560\nNow I'll be honest with you guys,\nif you're looking to a federation.\n\n50\n00:02:52,560 --> 00:02:55,150\nIf you're looking to chat with\npeople outside your company you're\n\n51\n00:02:55,150 --> 00:02:57,140\nprobably not going to use\nthe messaging service,\n\n52\n00:02:57,140 --> 00:03:00,130\nyou're probably going to use\nmessages through iCloud.\n\n53\n00:03:00,130 --> 00:03:03,830\nOr you're gonna use one of the bigger\nservices out there, like Facebook, Chat or\n\n54\n00:03:03,830 --> 00:03:06,560\nany of the others that\nall support XMPP also.\n\n55\n00:03:06,560 --> 00:03:11,960\nOr even closed off ones,\nlike Google, what's Google's?\n\n56\n00:03:11,960 --> 00:03:12,600\nHang outs.\n\n57\n00:03:12,600 --> 00:03:14,140\nIt's closed off, but people so\n\n58\n00:03:14,140 --> 00:03:17,020\nmany people have Hang Outs accounts\nthat you can use if pretty effectively.\n\n59\n00:03:17,020 --> 00:03:19,970\nSo that's typically what you're gonna use\non that outside world type environment.\n\n60\n00:03:21,010 --> 00:03:26,690\nBut what if you need your own messaging\nservice internal to your company.\n\n61\n00:03:26,690 --> 00:03:27,900\nWhy would we need that.\n\n62\n00:03:27,900 --> 00:03:31,160\nWhy would some one need their\nown private messaging service.\n\n63\n00:03:31,160 --> 00:03:33,500\nThere is two big reasons for it.\n\n64\n00:03:33,500 --> 00:03:35,860\nThe first reason is security.\n\n65\n00:03:35,860 --> 00:03:40,460\nWhen you are using an external\nmessaging provider, even iCloud,right?\n\n66\n00:03:40,460 --> 00:03:44,060\nAll of your messages all you chats\nare going through apple servers or\n\n67\n00:03:44,060 --> 00:03:47,115\ngoing through google servers or\nMicrosoft or all servers or whoever.\n\n68\n00:03:47,115 --> 00:03:49,710\nRight?\nYou are trusting that they will provide\n\n69\n00:03:49,710 --> 00:03:52,080\na high degree of security for your data.\n\n70\n00:03:52,080 --> 00:03:52,900\nBut are they?\n\n71\n00:03:52,900 --> 00:03:54,590\nDo you really know?\n\n72\n00:03:54,590 --> 00:03:56,050\nYou can't guarantee it.\n\n73\n00:03:56,050 --> 00:03:58,490\nFor most people, that is fine,\nwe can trust apple,\n\n74\n00:03:58,490 --> 00:04:00,360\nthey will take care of our data.\n\n75\n00:04:00,360 --> 00:04:03,700\nBut if you work in the medical industry or\nthe financial industry.\n\n76\n00:04:03,700 --> 00:04:07,160\nIf you are handling Patient records,\nfinancial data.\n\n77\n00:04:07,160 --> 00:04:09,840\nYou can't just trust some other\nnetwork that they are going to take\n\n78\n00:04:09,840 --> 00:04:10,770\ncare of your data.\n\n79\n00:04:10,770 --> 00:04:13,420\nYou've got to make sure\nthe data is secure and\n\n80\n00:04:13,420 --> 00:04:18,090\nprotected, and the only way to do that\nis to run your own messaging server.\n\n81\n00:04:18,090 --> 00:04:21,590\nSo that's the first reason why someone\nwould want their own messaging server,\n\n82\n00:04:21,590 --> 00:04:22,590\nis control.\n\n83\n00:04:22,590 --> 00:04:24,130\nControl and security, right?\n\n84\n00:04:24,130 --> 00:04:27,930\nBeing able to provide that level of\nsecurity that meets the needs of\n\n85\n00:04:27,930 --> 00:04:28,460\nyour organization.\n\n86\n00:04:29,550 --> 00:04:32,630\nThe second reason is productivity.\n\n87\n00:04:32,630 --> 00:04:35,270\nWhen you let your employees chat, and\n\n88\n00:04:35,270 --> 00:04:37,850\nlet them chat with the whole world,\nwhat are they going to do?\n\n89\n00:04:37,850 --> 00:04:41,780\nWell, they may be at work, but chatting\nwith friends at home, or family or\n\n90\n00:04:41,780 --> 00:04:44,540\nwhatever, and\nnot being as productive as they could be.\n\n91\n00:04:44,540 --> 00:04:46,720\nChat can be a real big distraction.\n\n92\n00:04:46,720 --> 00:04:51,070\nSo by running your own messaging server,\nyou can limit it to just your employees.\n\n93\n00:04:51,070 --> 00:04:54,650\nAnd now people are able to chat and\ncommunicate with other employees,\n\n94\n00:04:54,650 --> 00:04:57,410\nwhich they could already do\nthrough email or getting up and\n\n95\n00:04:57,410 --> 00:04:59,160\nwalking over to their office.\n\n96\n00:04:59,160 --> 00:05:02,240\nChat actually makes them more efficient\nbecause the chat messages are always\n\n97\n00:05:02,240 --> 00:05:03,590\nshorter by nature.\n\n98\n00:05:03,590 --> 00:05:06,180\nAnd you can do it right from your desk,\nyou don't have to get up and\n\n99\n00:05:06,180 --> 00:05:06,980\nwalk anywhere.\n\n100\n00:05:06,980 --> 00:05:08,570\nMakes quick, easy communication.\n\n101\n00:05:08,570 --> 00:05:11,710\nSo running a private messaging server,\nit's not for everybody.\n\n102\n00:05:11,710 --> 00:05:15,060\nBut if you want to do it,\nit's actually pretty easy to do.\n\n103\n00:05:15,060 --> 00:05:17,490\nSo we can get it put in place and\nfire it up and\n\n104\n00:05:17,490 --> 00:05:20,270\nhave a nice little internal\nprivate messaging server.\n\n105\n00:05:20,270 --> 00:05:21,360\nChoose to federate if we want to.\n\n106\n00:05:22,590 --> 00:05:24,560\nAll right.\nSo let's take a look at this process,\n\n107\n00:05:24,560 --> 00:05:28,020\nwhat it's gonna take for\nus to get the messaging server set up.\n\n108\n00:05:28,020 --> 00:05:30,120\nI'm gonna pull up my server app here.\n\n109\n00:05:30,120 --> 00:05:31,000\nSo I've got a server.\n\n110\n00:05:31,000 --> 00:05:31,770\nIt's up and running.\n\n111\n00:05:31,770 --> 00:05:34,490\nI've got a couple of things running,\nmostly just Open Directory.\n\n112\n00:05:34,490 --> 00:05:37,210\nBut if we look down our\nservice list on the left side,\n\n113\n00:05:37,210 --> 00:05:39,150\nyou'll find Messages right there.\n\n114\n00:05:39,150 --> 00:05:42,210\nAnd it's disabled by default,\nlike all the services are.\n\n115\n00:05:42,210 --> 00:05:46,130\nAnd there's not a whole lot of options\nin here, as far as setting it up.\n\n116\n00:05:46,130 --> 00:05:48,870\nSo it seems like it's\npretty easy at first.\n\n117\n00:05:48,870 --> 00:05:51,420\nWhat I'll tell you guys is actually\nsome little hiccups that happened with\n\n118\n00:05:51,420 --> 00:05:53,990\nthe messaging server that make it one\nof the more difficult ones to get\n\n119\n00:05:53,990 --> 00:05:55,270\noff and going.\n\n120\n00:05:55,270 --> 00:05:58,070\nI know usually it's just a matter of\nflipping that on switch but you'll find\n\n121\n00:05:58,070 --> 00:06:00,800\nthat there are some things that can\ncause some problems with messaging.\n\n122\n00:06:00,800 --> 00:06:03,660\nLet's run through some of the settings\nfirst before we get it turned on and\n\n123\n00:06:03,660 --> 00:06:07,730\nwe'll get a chance to see the rest\nof it as we move beyond that.\n\n124\n00:06:07,730 --> 00:06:11,360\nAll right, so first off, we don't see\nall that much here as far as options,\n\n125\n00:06:11,360 --> 00:06:13,440\nwe see the standard permissions option.\n\n126\n00:06:13,440 --> 00:06:15,270\nWho's allowed to connect to this?\n\n127\n00:06:15,270 --> 00:06:20,080\nIf this is gonna be an internal messaging\nserver only, you might want to limit it\n\n128\n00:06:20,080 --> 00:06:23,460\njust to the IP network that\nare present in your organization.\n\n129\n00:06:23,460 --> 00:06:25,770\nBut if you want this to be able\navailable on the internet, so\n\n130\n00:06:25,770 --> 00:06:28,500\nemployees all over the world\ncan connect to it.\n\n131\n00:06:28,500 --> 00:06:31,290\nThen you'll need to leave it\nset like it is, all networks.\n\n132\n00:06:31,290 --> 00:06:35,070\nBut you can also pick and choose which\nusers are allowed to access the system.\n\n133\n00:06:35,070 --> 00:06:38,970\nSo under permissions we can go to edit,\nand you can specify.\n\n134\n00:06:38,970 --> 00:06:42,480\nUsers, if I choose only some\nusers I'll get to add in groups.\n\n135\n00:06:42,480 --> 00:06:44,300\nAnd then one connecting from,\n\n136\n00:06:44,300 --> 00:06:47,850\ni can specify the various networks\nthat are allowed to connect from.\n\n137\n00:06:47,850 --> 00:06:50,770\nIf it's going to be\nan internal only system,\n\n138\n00:06:50,770 --> 00:06:53,500\nthen choosing private networks\nis one of the easiest.\n\n139\n00:06:53,500 --> 00:06:56,550\nThat includes all of\nthe RFC1918 addresses.\n\n140\n00:06:56,550 --> 00:06:58,960\nThose IP addresses that start with 10.\n\n141\n00:06:58,960 --> 00:07:00,700\nwhatever or 172.16 through 172.31,\nor 192.168.\n\n142\n00:07:00,700 --> 00:07:04,870\nIf your IP address starts\nwith any of those ranges,\n\n143\n00:07:04,870 --> 00:07:10,730\nit's a private address, and\nthat's what this would approve.\n\n144\n00:07:10,730 --> 00:07:13,930\nOr we could be really specific and\ngo to only some networks and\n\n145\n00:07:13,930 --> 00:07:15,770\nspecify exactly what we wanted.\n\n146\n00:07:15,770 --> 00:07:20,450\nSo for example, my network here\nthat this server is on, whoops.\n\n147\n00:07:20,450 --> 00:07:23,940\nIf I go in and hit the little plus\nsign and choose create a new network,\n\n148\n00:07:23,940 --> 00:07:30,330\nI can specify my ITproTV lab network.\n\n149\n00:07:30,330 --> 00:07:31,950\nAnd my network is 10.211.55.1\nthrough 10.211.55.254.\n\n150\n00:07:31,950 --> 00:07:35,800\nSo there's that range of network\n\n151\n00:07:38,160 --> 00:07:41,330\naddresses that I use in my lab.\n\n152\n00:07:41,330 --> 00:07:45,180\nAnd now only systems that are on that\nlab network will be able to connect.\n\n153\n00:07:45,180 --> 00:07:47,930\nSo you've got control over\nwho's allowed to connect.\n\n154\n00:07:47,930 --> 00:07:50,090\nNow this is talking about just connecting.\n\n155\n00:07:50,090 --> 00:07:51,810\nOnce they're connected they\nstill have to authenticate.\n\n156\n00:07:51,810 --> 00:07:53,990\nYou still have to have a user name and\na password.\n\n157\n00:07:53,990 --> 00:07:56,042\nSo just reaching the server\nisn't good enough.\n\n158\n00:07:56,042 --> 00:07:58,140\nYou've gotta have a user name and\na password to be able to log in.\n\n159\n00:07:58,140 --> 00:08:02,042\nSo there's a second level\nof security beyond this.\n\n160\n00:08:02,042 --> 00:08:04,875\nNext we have enable server\nto server federation.\n\n161\n00:08:04,875 --> 00:08:05,790\nI mentioned that earlier.\n\n162\n00:08:05,790 --> 00:08:09,240\nThat's if I want two different\nenvironments to be able to interchange\n\n163\n00:08:09,240 --> 00:08:10,170\nmessages.\n\n164\n00:08:10,170 --> 00:08:11,750\nMost of the time we're not gonna do this.\n\n165\n00:08:11,750 --> 00:08:14,890\nOur goal is to set up a private server,\nnot to open it up to the world.\n\n166\n00:08:14,890 --> 00:08:18,160\nBut if that's what you're wanting to do,\nyou can check that off,\n\n167\n00:08:18,160 --> 00:08:19,590\nenable server to server federation.\n\n168\n00:08:19,590 --> 00:08:22,240\nAnd then over here you can hit edit,\n\n169\n00:08:22,240 --> 00:08:26,010\nand pick the domains that you're\ngoing to be federating with.\n\n170\n00:08:26,010 --> 00:08:29,570\nSo my domain is lab,itpro.tv, or\n\n171\n00:08:29,570 --> 00:08:33,590\nmaybe there's another domain that's out\nthere that I want to synchronize with, so\n\n172\n00:08:33,590 --> 00:08:38,700\nmaybe Apple has a messaging server and\nso I punch in lab.apple.com or\n\n173\n00:08:38,700 --> 00:08:42,030\nwhatever other domain it is that,\nthat messaging server participates in.\n\n174\n00:08:42,030 --> 00:08:43,293\nSo you specify that name here.\n\n175\n00:08:46,439 --> 00:08:49,650\nAnd then the last option,\nthis is one I almost always turn on.\n\n176\n00:08:49,650 --> 00:08:53,740\nThe messages when somebody's doing a chat,\nthe messages go through the system,\n\n177\n00:08:53,740 --> 00:08:57,430\nand then they go away, and\nthere's no record of what happened.\n\n178\n00:08:57,430 --> 00:09:01,890\nYou may want to archive the messages,\nso you'll keep a copy of\n\n179\n00:09:01,890 --> 00:09:07,370\nall the messages right here on your system\nso that they're available historically.\n\n180\n00:09:07,370 --> 00:09:10,180\nSome people don't worry about that,\nthey don't care, they don't set it, but\n\n181\n00:09:10,180 --> 00:09:14,050\nif you worked for a government agency,\nA lot of governments have Freedom of\n\n182\n00:09:14,050 --> 00:09:17,490\nInformation Acts and things like that\nwhere they have to retain their data for\n\n183\n00:09:17,490 --> 00:09:21,680\na certain period of time, so, for\nthem, we would need a message archive.\n\n184\n00:09:21,680 --> 00:09:24,620\nAnd if you check that off,\nit's go a little link here to the folder\n\n185\n00:09:24,620 --> 00:09:28,750\nwhere it'll take you right to\nthat message archive folder, and\n\n186\n00:09:28,750 --> 00:09:32,400\nevery chat that occurs, we'll get\nthrown into a little log file here.\n\n187\n00:09:32,400 --> 00:09:35,060\nThere'll be a record of it,\nthen you'll be able to access and view it.\n\n188\n00:09:35,060 --> 00:09:38,220\nIt just stores them in these little text\nfiles that you can open up and read, and\n\n189\n00:09:38,220 --> 00:09:40,070\nit's got the time stamp and the messages.\n\n190\n00:09:40,070 --> 00:09:41,480\nIt's all logged in there.\n\n191\n00:09:41,480 --> 00:09:43,730\nThe log files are rotated out every day.\n\n192\n00:09:43,730 --> 00:09:46,910\nSo there will be a log file for\ntoday with all of today's chats and\n\n193\n00:09:46,910 --> 00:09:50,280\ntomorrow there will be a new log file for\ntomorrow and all of its chats.\n\n194\n00:09:50,280 --> 00:09:53,070\nAll the user chats get\ngrouped into one big file.\n\n195\n00:09:53,070 --> 00:09:56,390\nIt can be a little bit messy if you\ngot a lot of chat activity, but\n\n196\n00:09:56,390 --> 00:09:57,280\nit's all in one place.\n\n197\n00:09:59,390 --> 00:10:02,330\nIf I turn on the path bar,\nyou can see where that is located,\n\n198\n00:10:02,330 --> 00:10:07,580\nit's inside slash library\nslash server slash messages,\n\n199\n00:10:07,580 --> 00:10:11,440\nslash data, slash message,\nunderscore archives.\n\n200\n00:10:11,440 --> 00:10:13,200\nSo that's the archive where it goes.\n\n201\n00:10:13,200 --> 00:10:16,700\nThere's also like the little chat rooms,\nand the sequel database, or\n\n202\n00:10:16,700 --> 00:10:19,800\nthe SQL database, this is all\nmaintained onto the background.\n\n203\n00:10:19,800 --> 00:10:22,120\nThose are in there too, but\nsee how they're access denied?\n\n204\n00:10:22,120 --> 00:10:25,020\nYou never have to go in and\nmess with those, the system manages those.\n\n205\n00:10:25,020 --> 00:10:28,860\nBut the message archive, you may need\nto go in here as an administrator to\n\n206\n00:10:28,860 --> 00:10:31,160\nview those records, to pull that\ninformation and get access to it.\n\n207\n00:10:34,020 --> 00:10:35,040\nAll right.\n\n208\n00:10:35,040 --> 00:10:40,020\nOne other thing I need to worry about\nbefore I get this turned on is our server.\n\n209\n00:10:40,020 --> 00:10:43,500\nIs going to support doing secure messages.\n\n210\n00:10:43,500 --> 00:10:47,890\nMessages can be sent unencrypted and\nthey can be sent encrypted, and\n\n211\n00:10:47,890 --> 00:10:50,500\nideally we send them encrypted to\nprotect them over the network and\n\n212\n00:10:50,500 --> 00:10:53,180\nuse SSL for that, Secure Socket Layer.\n\n213\n00:10:53,180 --> 00:10:58,103\nOne of the things I got to be aware of\nis messages [INAUDIBLE] connect it's\n\n214\n00:10:58,103 --> 00:11:01,720\ngoing to try to use SSL, well, that means\nI've gotta have a valid certificate\n\n215\n00:11:01,720 --> 00:11:04,330\non my system that the clients\nare going to recognize.\n\n216\n00:11:04,330 --> 00:11:07,390\nSo, if you haven't done it all ready,\nyou've gotta set up a certificate.\n\n217\n00:11:07,390 --> 00:11:12,480\nNow, when you install the server app\nit creates a self signed certificate.\n\n218\n00:11:12,480 --> 00:11:14,520\nAnd, that's good enough for\ninternal use but\n\n219\n00:11:14,520 --> 00:11:16,390\nyour other clients aren't gonna trust it.\n\n220\n00:11:16,390 --> 00:11:19,500\nSo if you stick with that self signed\ncertificate everyone who connects is gonna\n\n221\n00:11:19,500 --> 00:11:22,340\nget a certificate warning\nthe first time they connect.\n\n222\n00:11:22,340 --> 00:11:24,390\nIf you want to avoid that\nyou should go out and\n\n223\n00:11:24,390 --> 00:11:28,780\npurchase a legitimate certificate from\ndigiserve or a provider like that.\n\n224\n00:11:28,780 --> 00:11:33,250\nOr you can make it where your\nclients trust your certificate.\n\n225\n00:11:33,250 --> 00:11:36,350\nIf you haven't watched then already we\ndid an episode on the profile manger and\n\n226\n00:11:36,350 --> 00:11:38,360\nwe did another episode on certificates.\n\n227\n00:11:38,360 --> 00:11:40,460\nAnd in the profile\nmanager one specifically,\n\n228\n00:11:40,460 --> 00:11:44,070\nwe showed how to create a self-signed\ncertificate, and automatically\n\n229\n00:11:44,070 --> 00:11:47,600\npush it out to your clients so they would\ntrust any other certificate you issue.\n\n230\n00:11:47,600 --> 00:11:51,800\nSo that's something you might want to do\nin preparation for deploying messages.\n\n231\n00:11:51,800 --> 00:11:53,500\nFor my though,\nif I jump up to certificates,\n\n232\n00:11:53,500 --> 00:11:56,750\nI can see where I've got this\nself-signed certificate.\n\n233\n00:11:56,750 --> 00:12:00,560\nA key thing we need to worry about here\nis the name of the server our clients\n\n234\n00:12:00,560 --> 00:12:02,000\nare gonna be connecting to.\n\n235\n00:12:02,000 --> 00:12:05,120\nIf our clients are only connecting\ninternally, right, if they're on the same\n\n236\n00:12:05,120 --> 00:12:09,681\nnetwork as the server, this name right\nhere, my server is called OSX-Server1,\n\n237\n00:12:09,681 --> 00:12:14,360\nOSX.server1.local, that's\nfine on the local network.\n\n238\n00:12:14,360 --> 00:12:17,800\nBut if this server is gonna be available\non the Internet and I have employees all\n\n239\n00:12:17,800 --> 00:12:21,280\nover the world, they're not gonna be able\nto use this .local, that's not gonna work.\n\n240\n00:12:21,280 --> 00:12:23,520\nI would need a fully\nqualified domain name.\n\n241\n00:12:23,520 --> 00:12:27,620\nSo I've got one from when I\ncreated the open directory here.\n\n242\n00:12:27,620 --> 00:12:31,182\nSo I've got osx-server1.lab.itpro.tv.\n\n243\n00:12:31,182 --> 00:12:33,570\nI'm gonna switch over to that certificate.\n\n244\n00:12:33,570 --> 00:12:38,525\nAnd my clients can connect to\nosx-server1.lab.itpro.tv Pro.tv and\n\n245\n00:12:38,525 --> 00:12:40,725\nthe name will match the certificate right.\n\n246\n00:12:40,725 --> 00:12:42,155\nWe want that to match.\n\n247\n00:12:42,155 --> 00:12:46,205\nThey still need to trust the certificate,\nbut even if they trust the certificate,\n\n248\n00:12:46,205 --> 00:12:48,775\nif the names don't match, it'll be\nflagged as an invalid certificate and\n\n249\n00:12:48,775 --> 00:12:49,855\nthey'll get a certificate warning.\n\n250\n00:12:52,427 --> 00:12:57,175\nAll right now at this stage I've got\nthat set up, messaging is set up and\n\n251\n00:12:57,175 --> 00:13:02,320\nI'm ready to start it and\nI'm now a messaging server all right.\n\n252\n00:13:02,320 --> 00:13:07,480\nHowever, it's been my experience that\nsometimes this works, a lot of the times,\n\n253\n00:13:07,480 --> 00:13:10,630\nalthough the messaging server has started,\nit rarely works.\n\n254\n00:13:10,630 --> 00:13:15,400\nAnd the reason is, the XMPP software\nthat's running in the background,\n\n255\n00:13:15,400 --> 00:13:18,500\nit's an open source platform and\nit's actually called jabber.\n\n256\n00:13:18,500 --> 00:13:22,110\nSo, on the exam, and in real life land,\nyou'll hear some people call\n\n257\n00:13:22,110 --> 00:13:25,520\nit XMPP like I've been saying,\nyou'll hear other people call it Jabber.\n\n258\n00:13:25,520 --> 00:13:30,160\nJabber is kind of more like a brand or\nname that's attached to the program.\n\n259\n00:13:30,160 --> 00:13:31,090\nIt's a nickname.\n\n260\n00:13:31,090 --> 00:13:34,290\nSo that Jabber service that's\nrunning in the background?\n\n261\n00:13:34,290 --> 00:13:36,410\nIt's tied to your computer name.\n\n262\n00:13:36,410 --> 00:13:41,660\nWell almost every computer that's out\nthere has had it's computer name changed.\n\n263\n00:13:41,660 --> 00:13:45,080\nAnd when that happens,\nit kind of breaks the Jabber service.\n\n264\n00:13:45,080 --> 00:13:47,490\nAnd so, it's up and running right now, but\n\n265\n00:13:47,490 --> 00:13:50,430\nI seriously doubt I'm gonna be\nable to connect to it and use it.\n\n266\n00:13:50,430 --> 00:13:51,300\nAnd let me show you what I mean.\n\n267\n00:13:51,300 --> 00:13:52,308\nI'm gonna fire up my messages app.\n\n268\n00:13:56,162 --> 00:13:58,310\nAnd so I\"m just gonna fire up messages.\n\n269\n00:13:58,310 --> 00:14:00,540\nAnd I'm gonna set it up to\nconnect to this server.\n\n270\n00:14:00,540 --> 00:14:03,140\nNow, if I wanna connect to the server I\nmentioned I have to have a username and\n\n271\n00:14:03,140 --> 00:14:07,210\na password, so if I go back to my\nserver app, and I go to users.\n\n272\n00:14:07,210 --> 00:14:09,770\nI've created a network\nuser called John Doe.\n\n273\n00:14:09,770 --> 00:14:12,390\nAnd I'm gonna login as this John Doe user.\n\n274\n00:14:12,390 --> 00:14:16,040\nI don't have to do anything specifically\nto the user to turn on chat.\n\n275\n00:14:16,040 --> 00:14:18,410\nChats automatically turn on for\nall the users.\n\n276\n00:14:18,410 --> 00:14:19,230\nThey just need to connect.\n\n277\n00:14:20,450 --> 00:14:21,310\nSo in messages,\n\n278\n00:14:21,310 --> 00:14:25,060\nI'm gonna fire this up and,\nthe default is it wants to use iMessage.\n\n279\n00:14:25,060 --> 00:14:27,180\nThat's the messaging\nplatform through iCloud, and\n\n280\n00:14:27,180 --> 00:14:28,930\nfor most people, that's what you want.\n\n281\n00:14:28,930 --> 00:14:31,660\nYou just want to use that,\ndon't set up your own messages server.\n\n282\n00:14:31,660 --> 00:14:34,310\nBut if you're setting up your\nown private messages server,\n\n283\n00:14:34,310 --> 00:14:37,540\nthen what you've got to do\nis say not now to iMessage.\n\n284\n00:14:37,540 --> 00:14:41,396\nWe're just gonna skip that, and\nthen when you're the Messages Client,\n\n285\n00:14:41,396 --> 00:14:44,360\nyou'll choose the other messages account.\n\n286\n00:14:44,360 --> 00:14:49,480\nNow, I'm using the Apple Messages App\nthat's built into OS 10.\n\n287\n00:14:49,480 --> 00:14:53,270\nYou can use any XMPP compatible client.\n\n288\n00:14:53,270 --> 00:14:57,510\nSo if you wanna use Pigeon, or Psi,\nor any other product like that,\n\n289\n00:14:57,510 --> 00:15:00,670\nyou're more than welcome to, they all work\nas long as they're XMPP compatible and\n\n290\n00:15:00,670 --> 00:15:03,720\nJabber compatible, and most of them are.\n\n291\n00:15:03,720 --> 00:15:05,970\nBut, I'll just use the built-in\none cuz it's here.\n\n292\n00:15:05,970 --> 00:15:07,290\nAnd it's what you'll see on the exam.\n\n293\n00:15:07,290 --> 00:15:08,880\nAll right.\n\n294\n00:15:08,880 --> 00:15:12,090\nNow when we go to add the account,\nits got AOL Instant Messenger,\n\n295\n00:15:12,090 --> 00:15:14,970\nGoogle Talk, Yahoo!, and Jabber.\n\n296\n00:15:14,970 --> 00:15:15,880\nI'm gonna choose Jabber.\n\n297\n00:15:15,880 --> 00:15:19,390\nNotice how even Apple is not calling it\nXMPP here, so be aware of those two names.\n\n298\n00:15:20,480 --> 00:15:23,320\nAnd for the account name,\nI'll punch in John Doe.\n\n299\n00:15:23,320 --> 00:15:28,920\nAnd, that's the user name, but\nin XMPP, the user name is actually\n\n300\n00:15:28,920 --> 00:15:33,920\nbuilt up of the user name and @ symbol and\nthe server name that connect you.\n\n301\n00:15:33,920 --> 00:15:38,450\nDon't confuse that with their email\naddress, their email might be\n\n302\n00:15:38,450 --> 00:15:42,650\nsomething different,\nit's got to be the server they connect to,\n\n303\n00:15:42,650 --> 00:15:46,630\nI am gonna say\njohndoe@osx.server1.lab.itpro.tv and\n\n304\n00:15:46,630 --> 00:15:50,360\nI'll punch in his password, and\nthen down here we have server options.\n\n305\n00:15:50,360 --> 00:15:53,050\nNow with server options,\nI can fill those out if I want to.\n\n306\n00:15:53,050 --> 00:15:55,333\nSee how it says they're optional though,\nit's like Auto.\n\n307\n00:15:55,333 --> 00:15:57,186\nAnd that's because the server\nname's right here, and\n\n308\n00:15:57,186 --> 00:15:58,840\nit already knows the server name.\n\n309\n00:15:58,840 --> 00:16:01,750\nAnd then it assumes that we're\ngonna use the default port.\n\n310\n00:16:01,750 --> 00:16:04,830\nSo, there's no real need\nto specify a port number.\n\n311\n00:16:04,830 --> 00:16:06,940\nI can turn on SSL, if I want.\n\n312\n00:16:06,940 --> 00:16:11,250\nThat's the security that I mentioned,\nand we can turn on authentication.\n\n313\n00:16:11,250 --> 00:16:14,200\nYou would use that, if you're connecting\nto a Jabber server that was running on\n\n314\n00:16:14,200 --> 00:16:17,660\nUNIX, and\nthe user account actually existed in UNIX.\n\n315\n00:16:17,660 --> 00:16:20,571\nBut in my case the user account exists in\nan Open Directory, so I don't need that.\n\n316\n00:16:20,571 --> 00:16:23,495\nI can just connect like normal.\n\n317\n00:16:23,495 --> 00:16:26,850\nNow the port number,\nthat brings up another good point.\n\n318\n00:16:26,850 --> 00:16:29,810\nIf you're running this server\non a network, and the client\n\n319\n00:16:29,810 --> 00:16:33,990\nis on the same network, then the ports\nare already open, and everything is fine.\n\n320\n00:16:35,000 --> 00:16:37,310\nBut if you're making this\navailable on the Internet.\n\n321\n00:16:37,310 --> 00:16:41,640\nYou'll likely, have a firewall that's in\nbetween your server, and the Internet.\n\n322\n00:16:41,640 --> 00:16:43,881\nSo for\nInternet clients to be able to connect in,\n\n323\n00:16:43,881 --> 00:16:46,572\nyou're gonna have to open up\nsome ports on your firewall.\n\n324\n00:16:46,572 --> 00:16:49,585\nAnd I'll put these in the show notes,\nso you have them.\n\n325\n00:16:49,585 --> 00:16:55,578\nBut the port for a client to connect,\nthey connect on TCP port 5222,\n\n326\n00:16:55,578 --> 00:16:58,928\nso, yes just making sure it's not UDP.\n\n327\n00:16:58,928 --> 00:17:01,030\nTCP 5222.\n\n328\n00:17:01,030 --> 00:17:02,870\nSo you would need to open\nthat up from the Internet,\n\n329\n00:17:02,870 --> 00:17:05,760\nto your server if you wanted\nto allow Internet connections.\n\n330\n00:17:05,760 --> 00:17:09,502\nIf you're doing a federation with\nanother messages server, or Jabber, or\n\n331\n00:17:09,502 --> 00:17:12,783\nXMPP server, then you would need\nto open up another port for them.\n\n332\n00:17:12,783 --> 00:17:17,403\nCuz these servers,\nthey communicate on TCP 5269.\n\n333\n00:17:17,403 --> 00:17:18,620\nSo it's a different port.\n\n334\n00:17:18,620 --> 00:17:20,890\nIf you're not doing a federation,\nyou don't need that one.\n\n335\n00:17:20,890 --> 00:17:23,140\n5222 is the most important.\n\n336\n00:17:23,140 --> 00:17:25,410\nSo when it says Port Auto,\nthat's what it's gonna do.\n\n337\n00:17:25,410 --> 00:17:26,130\nIt's gonna try that one.\n\n338\n00:17:28,200 --> 00:17:29,930\nI'm gonna go ahead, and\ncreate that account.\n\n339\n00:17:29,930 --> 00:17:31,450\nAnd it's attempting to login right now.\n\n340\n00:17:31,450 --> 00:17:36,350\nAnd I'm getting this message right here,\nMessages can't log into John Doe\n\n341\n00:17:36,350 --> 00:17:41,420\nat osxserver1.lab.itpro.tv because your\nlogin ID, or password is incorrect.\n\n342\n00:17:42,520 --> 00:17:46,950\nWell, I know my login ID is correct,\nand I know my password is correct.\n\n343\n00:17:46,950 --> 00:17:48,860\nSo, why isn't this working?\n\n344\n00:17:48,860 --> 00:17:51,110\nWell, the reason it's not working,\n\n345\n00:17:51,110 --> 00:17:54,840\nis the name of this server\nhas changed at some point.\n\n346\n00:17:54,840 --> 00:17:57,920\nAnd let me show you what I mean, when I\nsay the name of the server has changed.\n\n347\n00:17:57,920 --> 00:17:59,810\nI'm just gonna cancel this,\ncuz it's gonna complain a lot.\n\n348\n00:18:01,410 --> 00:18:02,190\nAnd I'll get out of that.\n\n349\n00:18:04,260 --> 00:18:08,500\nWhen I first installed this server,\nI booted up a new Mac, and\n\n350\n00:18:08,500 --> 00:18:10,870\nI went through the little setup wizard.\n\n351\n00:18:10,870 --> 00:18:12,970\nAnd the set up wizard asked\nme what my name was, and\n\n352\n00:18:12,970 --> 00:18:14,920\nI created a user account called Help Desk.\n\n353\n00:18:14,920 --> 00:18:17,200\nSo I just typed in Help Desk as my name.\n\n354\n00:18:17,200 --> 00:18:20,545\nWell, when you finish that wizard,\nand you launch into your Mac,\n\n355\n00:18:20,545 --> 00:18:21,808\nwhat's you Mac called?\n\n356\n00:18:21,808 --> 00:18:25,080\nWell the Mac was called\nHelp Desk's MacBook Pro.\n\n357\n00:18:25,080 --> 00:18:27,719\nThat's what it was called, and\nthat's how it normally is,\n\n358\n00:18:27,719 --> 00:18:31,320\nlike if I setup a Don Pezet as user,\nit would show Don Pezet's MacBook Pro.\n\n359\n00:18:31,320 --> 00:18:32,980\nThat's the name of the machine.\n\n360\n00:18:32,980 --> 00:18:36,390\nWell, I don't want my sever to be\ncalled Help Desk's MacBook Pro.\n\n361\n00:18:36,390 --> 00:18:39,570\nI want my server to be called OSX-SERVER1.\n\n362\n00:18:39,570 --> 00:18:42,560\nSo like most people, I went in,\nand I renamed the server.\n\n363\n00:18:42,560 --> 00:18:45,810\nSo, let me show you guys that,\nit's easy enough.\n\n364\n00:18:45,810 --> 00:18:51,230\nYou go into System Preferences, and inside\nSystem Preferences you go to Sharing, and\n\n365\n00:18:51,230 --> 00:18:53,870\ninside of sharing,\nyou've got your name right there.\n\n366\n00:18:53,870 --> 00:19:00,050\nSo it used to say Help Desk's MacBook Pro,\nnow I changed it, and it says OSX-SERVER1.\n\n367\n00:19:00,050 --> 00:19:05,390\nThe problem is, if you install the server\napp, and change the name afterwards,\n\n368\n00:19:05,390 --> 00:19:10,180\nwhich I'm certain is what I did, The\nJabber protocol binds the old name, and\n\n369\n00:19:10,180 --> 00:19:11,290\nnot the new name.\n\n370\n00:19:11,290 --> 00:19:12,910\nAnd so, it's broken.\n\n371\n00:19:12,910 --> 00:19:15,970\nIt's broken, and no matter what you do,\nit's not gonna connect.\n\n372\n00:19:15,970 --> 00:19:19,865\nAnd so what we have to do is we basically\nhave to rebuild the messages service, so\n\n373\n00:19:19,865 --> 00:19:21,390\nit understands that new name.\n\n374\n00:19:21,390 --> 00:19:23,980\nIt's kind of annoying, but it does happen.\n\n375\n00:19:23,980 --> 00:19:26,950\nAnd this can happen with some\nof the other services also.\n\n376\n00:19:26,950 --> 00:19:27,690\nIt's less common.\n\n377\n00:19:27,690 --> 00:19:31,290\nMessages are the most sensitive about it,\nbut I've seen it happen with like the wiki\n\n378\n00:19:31,290 --> 00:19:34,980\nservice, and a few of the other ones, and\nyou have to go in, and rebuild those.\n\n379\n00:19:34,980 --> 00:19:36,580\nThat's a [COUGH] little bit frustrating.\n\n380\n00:19:36,580 --> 00:19:38,420\nBut let me show you the problem file,\n\n381\n00:19:38,420 --> 00:19:40,440\nthe one that's actually gonna\ncause us all of our grief.\n\n382\n00:19:41,440 --> 00:19:45,773\nIt's buried away inside\nof the Configuration.\n\n383\n00:19:45,773 --> 00:19:50,992\n[COUGH] The messages service,\nit actually stores all\n\n384\n00:19:50,992 --> 00:19:57,530\nof its configuration inside\nof /Library/Server/Messages.\n\n385\n00:19:57,530 --> 00:20:00,430\nAnd inside of here you'll\nsee a config folder.\n\n386\n00:20:00,430 --> 00:20:04,800\nAnd in that config folder, [COUGH] you\ngot a bunch of different items here.\n\n387\n00:20:04,800 --> 00:20:07,850\nJabberD is the one I'm looking for.\n\n388\n00:20:07,850 --> 00:20:11,040\nAnd right here, these are all\nthe configuration files for Jabber.\n\n389\n00:20:11,040 --> 00:20:13,910\nNow, we don't normally\nhave to deal with these.\n\n390\n00:20:13,910 --> 00:20:15,690\nThe GUI makes it,\nwhere we don't have to see it,\n\n391\n00:20:15,690 --> 00:20:17,840\nit's just kind of hidden away from us.\n\n392\n00:20:17,840 --> 00:20:24,150\nBut this sm.xml file right there, that's\nthe primary configuration for the service,\n\n393\n00:20:24,150 --> 00:20:32,250\nand if I pull it up, let me just\nauthenticate here, there we go.\n\n394\n00:20:32,250 --> 00:20:35,750\nAnd we start to take a look inside of\nthis file, there's not much in here.\n\n395\n00:20:35,750 --> 00:20:39,930\nThe IP is tied to our loop back address\ncuz our service is running right here.\n\n396\n00:20:39,930 --> 00:20:43,980\nBut as I skim through it, somewhere\nin here we'll find the old name for\n\n397\n00:20:43,980 --> 00:20:48,820\nmy server, and I'm just gonna kind of\npoke through, here we go, right here.\n\n398\n00:20:48,820 --> 00:20:50,967\nId, notice the id on this thing.\n\n399\n00:20:50,967 --> 00:20:56,052\nHelps-imac-2, so apparently I've\nhad another Help Desk machine.\n\n400\n00:20:56,052 --> 00:20:57,920\nThat name, and that's not right.\n\n401\n00:20:57,920 --> 00:20:59,580\nIt's the wrong name.\n\n402\n00:20:59,580 --> 00:21:01,490\nAnd so I can go in, and I could edit that.\n\n403\n00:21:01,490 --> 00:21:02,370\nBut the sad part is,\n\n404\n00:21:02,370 --> 00:21:05,890\nit's actually spread out through\na few of the different files here.\n\n405\n00:21:05,890 --> 00:21:09,250\nAnd so, I don't wanna have to dig through,\nand try, and find all these.\n\n406\n00:21:09,250 --> 00:21:10,880\nThe best thing to do,\nis to just rebuild the service.\n\n407\n00:21:12,020 --> 00:21:16,960\nRebuilding the service involves basically\ndeleting all of the messages files, and\n\n408\n00:21:16,960 --> 00:21:20,330\nhaving it replace them\nfrom the server app.\n\n409\n00:21:20,330 --> 00:21:22,005\nAnd then it will pick\nup the new server name,\n\n410\n00:21:22,005 --> 00:21:24,730\nall the configuration will be throughout,\nand everything will work a lot better.\n\n411\n00:21:24,730 --> 00:21:29,060\nSo, this is a pretty typical problem that\nyou bump into, when you activate messages.\n\n412\n00:21:31,180 --> 00:21:34,190\nNow, it's probably not gonna\nbe on the exam, but I'm gonna\n\n413\n00:21:34,190 --> 00:21:39,160\nput in the show notes the instructions for\ngoing through, and resetting that service.\n\n414\n00:21:39,160 --> 00:21:42,810\nLet me just show you guys,\nwhat that looks like.\n\n415\n00:21:44,470 --> 00:21:47,140\nSo basically,\nit's a seven step process for rebuilding.\n\n416\n00:21:47,140 --> 00:21:50,020\nAnd this really applies to\npretty much any of the services.\n\n417\n00:21:50,020 --> 00:21:52,610\nSo if you ever have to rebuild\nthe DNS service, or whatever,\n\n418\n00:21:52,610 --> 00:21:54,020\nit's pretty much the same.\n\n419\n00:21:54,020 --> 00:21:56,850\nIs that, first off, you have to\nstop the service if it's running.\n\n420\n00:21:56,850 --> 00:21:59,610\nIn my case it is running,\nso I'll have to stop it.\n\n421\n00:21:59,610 --> 00:22:02,520\nAnd then you remove any process IDs.\n\n422\n00:22:02,520 --> 00:22:03,590\nWhen a service is running,\n\n423\n00:22:03,590 --> 00:22:06,320\nit creates a PID file to let\nyou know that it's running.\n\n424\n00:22:06,320 --> 00:22:09,520\nWhen you stop it, it should remove that\nfile for you, but just to be safe,\n\n425\n00:22:09,520 --> 00:22:10,960\nyou need to remove it.\n\n426\n00:22:10,960 --> 00:22:13,380\nThen you remove the preferences for\nthe service.\n\n427\n00:22:13,380 --> 00:22:15,820\nSo, you wipe those preferences out.\n\n428\n00:22:15,820 --> 00:22:19,670\nThen you remove all the files\nthat are related to that service.\n\n429\n00:22:19,670 --> 00:22:24,910\nSo, here you see I'm just removing\n/Library/Server/Messages/star.\n\n430\n00:22:24,910 --> 00:22:26,830\nJust getting rid of the whole thing.\n\n431\n00:22:26,830 --> 00:22:31,340\nSo at that point, the messages\nservice is completely removed.\n\n432\n00:22:32,450 --> 00:22:38,420\nThen, inside of the server\napp bundle itself, there's\n\n433\n00:22:39,490 --> 00:22:45,085\na series of scripts, and\nif you look in here, I've got\n\n434\n00:22:45,085 --> 00:22:49,280\n/Contents/ServerRoot/User/Library/Executa-\nbles/Copy_message_server_config_files.sh.\n\n435\n00:22:49,280 --> 00:22:53,060\nThat's a shell script,\nand what that script does\n\n436\n00:22:53,060 --> 00:22:56,770\nis it puts all the messages files back\nthe way that they're supposed to be.\n\n437\n00:22:58,010 --> 00:23:03,550\nAnd then lastly, I call the launch control\ncommand here to load up the Messages app,\n\n438\n00:23:03,550 --> 00:23:06,720\nand get that service up, and\nrunning, and that's what's going to\n\n439\n00:23:06,720 --> 00:23:10,090\nredo the configuration and\nmake it match my current server name.\n\n440\n00:23:10,090 --> 00:23:12,850\nNow in this folder there's\nother script files too,\n\n441\n00:23:12,850 --> 00:23:14,730\nnot just this one from Messages.\n\n442\n00:23:14,730 --> 00:23:18,200\nAnd so if you need to rebuild any of\nthe other services, it's that same area.\n\n443\n00:23:18,200 --> 00:23:19,610\nJump right in there to find it.\n\n444\n00:23:19,610 --> 00:23:20,560\nAnd you'll be able to pull that in.\n\n445\n00:23:21,700 --> 00:23:25,970\nAnd then lastly we can start Jabber up,\nand it's ready to go.\n\n446\n00:23:25,970 --> 00:23:28,860\nSo those are the steps we need to\ngo through to get this service\n\n447\n00:23:28,860 --> 00:23:29,730\nup, and running.\n\n448\n00:23:29,730 --> 00:23:31,060\nIt's really not that bad, and\n\n449\n00:23:31,060 --> 00:23:36,830\nwhat I normally do is get it in a nice big\nblock like this and copy and paste it.\n\n450\n00:23:36,830 --> 00:23:38,890\nSo, we can jump in and do that real quick.\n\n451\n00:23:40,190 --> 00:23:41,303\nLet me just make sure that I'm\nalready authenticated, I am.\n\n452\n00:23:44,681 --> 00:23:48,029\nAnd I'm just gonna paste that in there,\nand it's gonna go through and\n\n453\n00:23:48,029 --> 00:23:49,125\nrun each one of those.\n\n454\n00:23:49,125 --> 00:23:53,070\nSo it's gonna stop Jabber, and then it's\ngonna go through the remaining steps as\n\n455\n00:23:53,070 --> 00:23:56,458\nit moves through, cleaning everything\nout and getting it wiped out.\n\n456\n00:23:56,458 --> 00:23:58,980\nNow that last step is to restart Jabber.\n\n457\n00:23:58,980 --> 00:24:00,792\nI'm not gonna do that one just yet.\n\n458\n00:24:00,792 --> 00:24:04,016\nBecause I need to make sure any\nconfiguration setting changes I made\n\n459\n00:24:04,016 --> 00:24:04,875\nare still there.\n\n460\n00:24:04,875 --> 00:24:09,207\nIf I go back to the server app,\nI can jump down to messages and\n\n461\n00:24:09,207 --> 00:24:11,280\nI can refresh that screen.\n\n462\n00:24:11,280 --> 00:24:14,300\nI'm refreshing using command-R because\nthe server app doesn't really refresh\n\n463\n00:24:14,300 --> 00:24:15,660\nautomatically very well.\n\n464\n00:24:15,660 --> 00:24:19,330\nAnd right in here, I can see if I made\nchanges, like I had turned on archive and\n\n465\n00:24:19,330 --> 00:24:21,250\nit was turned off now because I reset it.\n\n466\n00:24:21,250 --> 00:24:23,100\nSo I'm just going to turn that back on.\n\n467\n00:24:23,100 --> 00:24:26,260\nAnd now I am read to\nget messages fired up.\n\n468\n00:24:26,260 --> 00:24:28,080\nThere it goes and\nmy problem should be fixed.\n\n469\n00:24:29,480 --> 00:24:33,750\nLooking at the clock, I am short on\ntime so let's stop and take a break, and\n\n470\n00:24:33,750 --> 00:24:36,570\nwhen we get back, I am going to\nget a client connected we will get\n\n471\n00:24:36,570 --> 00:24:39,440\na chance to see communication\npassed to the server and\n\n472\n00:24:39,440 --> 00:24:41,820\nwe will see the message archive and\nwrap up from there.\n\n473\n00:24:41,820 --> 00:24:46,675\nSo stay tuned, we will be back after this.\n\n474\n00:24:46,675 --> 00:24:52,148\n[SOUND] Alright, welcome back everybody.\n\n475\n00:24:52,148 --> 00:24:54,905\nSo, in the last segment we\ngot our server set up and\n\n476\n00:24:54,905 --> 00:24:58,070\nwe saw one of the problems,\ngetting a client connected.\n\n477\n00:24:58,070 --> 00:24:59,220\nWe fixed that.\n\n478\n00:24:59,220 --> 00:25:01,820\nNow it's time to really\nget a client connected.\n\n479\n00:25:01,820 --> 00:25:03,950\nSo let's jump in here and\nwe'll get a chance to see that and\n\n480\n00:25:03,950 --> 00:25:05,940\nwe'll take a look at the message archive.\n\n481\n00:25:05,940 --> 00:25:07,410\nSo, I'm back on my server and\n\n482\n00:25:07,410 --> 00:25:09,490\nagain I'm just going to test\nright here from the server.\n\n483\n00:25:09,490 --> 00:25:12,120\nThat's a great way to not have to\nworry about firewalls and stuff,\n\n484\n00:25:12,120 --> 00:25:13,820\njust test from the server itself.\n\n485\n00:25:13,820 --> 00:25:17,690\nYou'll have the messages app\ninstalled because Apple makes you.\n\n486\n00:25:17,690 --> 00:25:19,880\nSo, I'll go ahead and fire that back up.\n\n487\n00:25:19,880 --> 00:25:22,070\nAnd the John Doe account's already setup,\nso\n\n488\n00:25:22,070 --> 00:25:24,270\nI might find where it\nlogs in automatically.\n\n489\n00:25:24,270 --> 00:25:27,680\nIf it doesn't, I can just hit\na quick Cmd+L to make it connect.\n\n490\n00:25:27,680 --> 00:25:28,820\nThere we go.\n\n491\n00:25:28,820 --> 00:25:29,808\nAnd now it connects up.\n\n492\n00:25:29,808 --> 00:25:34,200\nI did Cmd+L, I think you can also go to,\nis it file and log in?\n\n493\n00:25:34,200 --> 00:25:34,830\nSomewhere.\n\n494\n00:25:34,830 --> 00:25:37,980\nYeah under messages it would have a log\nin option if weren't logged in, and\n\n495\n00:25:37,980 --> 00:25:41,610\nthen it's Cmd+L so, I'm logged in now.\n\n496\n00:25:41,610 --> 00:25:42,970\nWhat does that mean?\n\n497\n00:25:42,970 --> 00:25:47,660\nWell, John Doe has now\nregistered with the XMPP server.\n\n498\n00:25:47,660 --> 00:25:52,240\nThe extendable messaging and\npresence protocol.\n\n499\n00:25:52,240 --> 00:25:56,930\nSo it's used jabber to talk to the server\nand John is saying I'm online and\n\n500\n00:25:56,930 --> 00:25:57,610\nI'm available.\n\n501\n00:25:57,610 --> 00:26:00,110\nSe how it says available and\nhe's got a little green circle there?\n\n502\n00:26:00,110 --> 00:26:02,320\nHe's the only person.\n\n503\n00:26:02,320 --> 00:26:05,380\nActually, did I log in to Help Desk?\n\n504\n00:26:05,380 --> 00:26:07,315\nWho did I log in as?\n\n505\n00:26:07,315 --> 00:26:10,190\n[LAUGH] This is an important\nthing to remember too.\n\n506\n00:26:10,190 --> 00:26:14,830\nThe display name inside of the messages\napp doesn't necessarily match\n\n507\n00:26:14,830 --> 00:26:18,890\nthe display name of your user account in\nthe open directory, they're separate.\n\n508\n00:26:18,890 --> 00:26:20,400\nJabber maintains its own directory.\n\n509\n00:26:20,400 --> 00:26:23,720\nThat's what that sql or\nthat sequel-like database was.\n\n510\n00:26:23,720 --> 00:26:24,940\nIt maintains it's own.\n\n511\n00:26:24,940 --> 00:26:27,700\nSo your displaying doesn't\nnecessarily match.\n\n512\n00:26:27,700 --> 00:26:32,370\nSee how mine is saying help desk,\neven though I logged in on John Doe, or\n\n513\n00:26:32,370 --> 00:26:35,630\nat least I feel like I logged in as\nJohn Doe, so I'm just gonna go and\n\n514\n00:26:35,630 --> 00:26:36,670\ndouble check that real quick.\n\n515\n00:26:36,670 --> 00:26:41,920\nIf I go into my preferences and\nmy accounts, I can see my Jabber account\n\n516\n00:26:41,920 --> 00:26:48,070\nright here and sure enough, right there\nI see John Doe is what I logged in as.\n\n517\n00:26:48,070 --> 00:26:51,370\nSo my display name is just not\nmatching cuz I'm actually logged in\n\n518\n00:26:51,370 --> 00:26:53,750\nas the user Helpdesk.\n\n519\n00:26:53,750 --> 00:26:56,760\nSo that's why it's kind of off like that.\n\n520\n00:26:56,760 --> 00:27:00,560\nBut I'm in, I'm connected,\nnow I can go and connect another client,\n\n521\n00:27:00,560 --> 00:27:02,940\nand we can try and\ncommunicate back and for there too.\n\n522\n00:27:02,940 --> 00:27:05,110\nSo I'll jump over to another work station.\n\n523\n00:27:05,110 --> 00:27:06,670\nAnd on this one I'm logged in as myself.\n\n524\n00:27:06,670 --> 00:27:10,590\nSo I'm just logged in as Don Pezet,\nand I'll fire up messages.\n\n525\n00:27:10,590 --> 00:27:15,130\nAnd just like I did on the server,\nI'm going to skip iCloud, and\n\n526\n00:27:15,130 --> 00:27:17,550\nthen I'll go ahead and\nconnect to a jabber server.\n\n527\n00:27:17,550 --> 00:27:20,870\nSo I'll say other message server, and\n\n528\n00:27:20,870 --> 00:27:25,495\nI'll pick jabber, and this time\nI'm going to log in as Don Pezet,\n\n529\n00:27:25,495 --> 00:27:34,310\n@osx.server1.lab.itpro.tv, remember if you\nwant people to connect from the internet,\n\n530\n00:27:34,310 --> 00:27:37,250\nthis name for\nthe server has to be publicly accessible.\n\n531\n00:27:37,250 --> 00:27:39,780\nSo you'll have to have\na DNS entry available for\n\n532\n00:27:39,780 --> 00:27:41,440\npeople to able to look that up.\n\n533\n00:27:41,440 --> 00:27:43,940\nIf it's just internal,\nit can you to find it, and\n\n534\n00:27:43,940 --> 00:27:45,320\nthen you dont' need DNS entries for that.\n\n535\n00:27:46,440 --> 00:27:49,880\nAll right, so we'll go ahead and create\nthat, it's gonna reach out and connect and\n\n536\n00:27:49,880 --> 00:27:51,310\nthen sure enough, I'm online.\n\n537\n00:27:52,370 --> 00:27:55,700\nNow, when you're online, you're connected\nto the jabber server, but that's it.\n\n538\n00:27:55,700 --> 00:27:59,110\nYou don't actually see all\nthe other people that are connected\n\n539\n00:27:59,110 --> 00:28:00,860\nuntil you become buddies.\n\n540\n00:28:00,860 --> 00:28:03,010\nSo we got to become buddies,\nwe gotta team up.\n\n541\n00:28:03,010 --> 00:28:06,680\nSo I'll just hit my little plus\nsign down here to add a buddy and\n\n542\n00:28:06,680 --> 00:28:09,720\nI'm going to try and\nbuddy up with old John Doe.\n\n543\n00:28:10,840 --> 00:28:12,770\nSo I'm just going to punch\nin that account name.\n\n544\n00:28:12,770 --> 00:28:16,040\nYou can put in a first name and\nlast name or you can just leave it be.\n\n545\n00:28:16,040 --> 00:28:17,570\nI'm going to punch that in and hit add.\n\n546\n00:28:17,570 --> 00:28:21,990\nIt's going to reach out to add that user\nand what's going to happen is they're\n\n547\n00:28:21,990 --> 00:28:26,470\ngoing to show up as offline, and\nsee how it says waiting for authorization?\n\n548\n00:28:26,470 --> 00:28:29,660\nI just sent a message to\nthe Jabber server saying I'd like\n\n549\n00:28:29,660 --> 00:28:31,760\nto be buddies with this person.\n\n550\n00:28:31,760 --> 00:28:33,660\nCan you ask them if it's okay?\n\n551\n00:28:33,660 --> 00:28:37,260\nAnd back on their machine they\nnow get this message right here.\n\n552\n00:28:37,260 --> 00:28:40,260\nSee, Don Pezet wants to be your buddy.\n\n553\n00:28:40,260 --> 00:28:43,140\nSo they can come in and\nthey can choose to accept that.\n\n554\n00:28:43,140 --> 00:28:44,470\nAnd now we are buddies.\n\n555\n00:28:44,470 --> 00:28:49,340\nAnd from now on when one of the users\ngoes online the other user sees it and\n\n556\n00:28:49,340 --> 00:28:51,430\nif one user goes offline\nthe other user sees it.\n\n557\n00:28:51,430 --> 00:28:53,820\nAnd it's all being done through XMPP.\n\n558\n00:28:53,820 --> 00:28:55,760\nSo right now I can see\nDon Psetta is online.\n\n559\n00:28:57,060 --> 00:28:59,770\nBut if I am idle for long enough or\nif I manually change it.\n\n560\n00:28:59,770 --> 00:29:01,340\nI am going to flip over to away.\n\n561\n00:29:01,340 --> 00:29:04,520\nAlright so maybe i am going to lunch so\nI flag it to away.\n\n562\n00:29:04,520 --> 00:29:07,980\nWell over here,\nsee how it already shows us a way?\n\n563\n00:29:07,980 --> 00:29:11,200\nWe're able to see presence, whether or\nnot they're actually there.\n\n564\n00:29:11,200 --> 00:29:13,290\nWith XMPP,\nyou can do some really fancy stuff.\n\n565\n00:29:13,290 --> 00:29:16,570\nI've seen where it's been tied\ninto your voice over IP phones so\n\n566\n00:29:16,570 --> 00:29:19,530\nthat if you're away here in Jabber,\nyour phone just automatically\n\n567\n00:29:19,530 --> 00:29:21,590\ngoes to voicemail instead\nof ringing all those times.\n\n568\n00:29:21,590 --> 00:29:24,720\nThere's all sorts of integrations that you\ncan do that are kind of beyond the scope\n\n569\n00:29:24,720 --> 00:29:26,140\nof what's on the exam.\n\n570\n00:29:26,140 --> 00:29:32,890\nBut basic presence is already enabled and\nfunctional and really easy to do.\n\n571\n00:29:32,890 --> 00:29:36,170\nSo you can specify that information,\nthe other users see it and\n\n572\n00:29:36,170 --> 00:29:37,000\nnow they can start to talk.\n\n573\n00:29:37,000 --> 00:29:40,860\nAnd when they start to talk,\nI'm gonna talk to myself.\n\n574\n00:29:40,860 --> 00:29:42,800\nWhich I think is one of the first\nsymptoms of madness but\n\n575\n00:29:42,800 --> 00:29:44,290\nwe'll chance it for the show.\n\n576\n00:29:46,410 --> 00:29:46,910\nWhoops.\n\n577\n00:29:48,780 --> 00:29:50,208\nSo I'm just gonna type in a message.\n\n578\n00:29:54,207 --> 00:29:55,670\nI can do the old Dave Mustaine.\n\n579\n00:29:55,670 --> 00:29:59,760\nHey me.\nIt's nice talking to myself.\n\n580\n00:29:59,760 --> 00:30:03,070\nAll right.\n\n581\n00:30:03,070 --> 00:30:08,143\nSometimes humor that only I appreciate,\nand we can go over here and I\n\n582\n00:30:08,143 --> 00:30:14,210\ncan see I am receiving those chat messages\nand we can respond back, it's great.\n\n583\n00:30:14,210 --> 00:30:16,340\nSo now I am having\na conversation with myself.\n\n584\n00:30:16,340 --> 00:30:19,900\nNow the users they are just talking,\nthey chat, short little messages,\n\n585\n00:30:19,900 --> 00:30:22,290\nthey go across and that's the end of it.\n\n586\n00:30:22,290 --> 00:30:26,140\nBut remember I turned on\nthe message archive option so\n\n587\n00:30:26,140 --> 00:30:30,370\nas these users chat,\nthat's all getting archived also.\n\n588\n00:30:30,370 --> 00:30:35,380\nIf I jump back to the server and\nI go into my server app.\n\n589\n00:30:35,380 --> 00:30:38,860\nI go to the messages service and I click\non that little arrow by the archive\n\n590\n00:30:38,860 --> 00:30:41,680\noption, it'll take me to the folder.\n\n591\n00:30:41,680 --> 00:30:42,870\nAnd I can see right there.\n\n592\n00:30:42,870 --> 00:30:45,230\nJabberD, that's short for\nthe Jabber Daemon,\n\n593\n00:30:45,230 --> 00:30:49,570\nthe service that runs in the background,\nusermessages.log.\n\n594\n00:30:49,570 --> 00:30:52,980\nIt's a text file that has\nall the user messages in it.\n\n595\n00:30:52,980 --> 00:30:56,490\nNow I don't think I have access to it, if\nI double click on it, yeah, there we go.\n\n596\n00:30:56,490 --> 00:30:58,190\nI don't have permissions to get to it.\n\n597\n00:30:58,190 --> 00:31:01,120\nI could override the permissions, but\nI'll just pull it up in the terminal so\n\n598\n00:31:01,120 --> 00:31:02,410\nwe can see it here.\n\n599\n00:31:02,410 --> 00:31:06,170\nLet me make this window a little wider,\nthe way that it logs the messages\n\n600\n00:31:06,170 --> 00:31:10,150\nis kind of complex, and so the wider your\nwindow is, the better off you'll be.\n\n601\n00:31:10,150 --> 00:31:13,540\nMake my font a little bit smaller too, and\n\n602\n00:31:13,540 --> 00:31:19,236\nwe'll jump in there an take\na look at that file.\n\n603\n00:31:19,236 --> 00:31:25,280\nSo, if we go to did I close that window?\n\n604\n00:31:25,280 --> 00:31:25,780\nNo, there we go.\n\n605\n00:31:33,080 --> 00:31:34,140\nThere we go.\n\n606\n00:31:34,140 --> 00:31:39,083\nSo I'm gonna change directory into\n/library/server/messages/data/\n\n607\n00:31:39,083 --> 00:31:40,380\nmessage archives.\n\n608\n00:31:42,080 --> 00:31:43,730\nAnd then right in there,\nI'll see that message archive.\n\n609\n00:31:43,730 --> 00:31:49,588\nAnd I'm just gonna use a little\nsudo to get elevated privileges and\n\n610\n00:31:49,588 --> 00:31:51,167\nparse that file.\n\n611\n00:31:51,167 --> 00:31:54,632\nSo when we take a look at it,\nwhat we're gonna see is all of the chat\n\n612\n00:31:54,632 --> 00:31:57,167\nhistory that's happened and\nthe chat layout.\n\n613\n00:31:57,167 --> 00:32:00,670\nSee how I made mine as wide as possible,\nand it's still not quite wide enough.\n\n614\n00:32:00,670 --> 00:32:04,107\nAnd that's because it starts with\nthe date and time So here's the date and\n\n615\n00:32:04,107 --> 00:32:05,667\ntime that this message was sent.\n\n616\n00:32:05,667 --> 00:32:11,833\nAnd then it follows it by who the sender\nwas and who the recipient was.\n\n617\n00:32:11,833 --> 00:32:15,980\nSo it's sender first and then recipient\nand then after that is the message.\n\n618\n00:32:15,980 --> 00:32:18,345\nAnd so I can see,\nhey Don how's it going, and then,\n\n619\n00:32:18,345 --> 00:32:20,065\nhey me it's nice talking to myself.\n\n620\n00:32:20,065 --> 00:32:21,625\nAnd then right after that, it's great.\n\n621\n00:32:21,625 --> 00:32:22,545\nRight?\nGetting that message\n\n622\n00:32:22,545 --> 00:32:24,005\nkind of going back and forth.\n\n623\n00:32:24,005 --> 00:32:26,585\nWe can see those communications\nas they go through.\n\n624\n00:32:26,585 --> 00:32:30,377\nAnd it's also showing what computer\nthey're on because that's important too.\n\n625\n00:32:30,377 --> 00:32:33,110\nYou don't necessarily know\nthe computers around you,\n\n626\n00:32:33,110 --> 00:32:35,267\nyou just see like a username normally.\n\n627\n00:32:35,267 --> 00:32:37,257\nBut here you can actually see the client.\n\n628\n00:32:37,257 --> 00:32:41,827\nNotice that the destination, the two user,\ndoesn't have a computer attached.\n\n629\n00:32:41,827 --> 00:32:44,950\nAnd that's because when you send a message\n\n630\n00:32:44,950 --> 00:32:48,330\nyou're not sending it directly to that\nuser, you're sending it to the server, and\n\n631\n00:32:48,330 --> 00:32:52,420\nit sits on the server until somebody\ncomes and picks up a copy of it.\n\n632\n00:32:52,420 --> 00:32:55,090\nAnd they might have five different\ncomputers that are all running\n\n633\n00:32:55,090 --> 00:32:58,040\nthe Messages app, and\nall five of them pick up that message.\n\n634\n00:32:58,040 --> 00:33:01,770\nThat's why it doesn't show a destination\ncomputer, because we just don't know.\n\n635\n00:33:01,770 --> 00:33:03,720\nBut it shows where the messages\noriginate from, and\n\n636\n00:33:03,720 --> 00:33:06,170\nthat's what normally care about,\nwho is it that sent this message,\n\n637\n00:33:06,170 --> 00:33:09,510\nnot necessarily who it\nis that received it, so.\n\n638\n00:33:09,510 --> 00:33:12,390\nSo, that's the Message Log,\nit does add to it, or\n\n639\n00:33:12,390 --> 00:33:14,200\nappends to itself all throughout the day.\n\n640\n00:33:14,200 --> 00:33:16,394\nAnd, at the end of the day\nit does log rotation and so\n\n641\n00:33:16,394 --> 00:33:19,670\nyou have a separate log for tomorrow,\nand then the next day and so on.\n\n642\n00:33:19,670 --> 00:33:22,390\nSo, the log file doesn't just grow up and\nget bigger and\n\n643\n00:33:22,390 --> 00:33:25,180\nbigger forever,\nit does add to itself, all right.\n\n644\n00:33:26,650 --> 00:33:30,300\nOther than that, that's really\nabout it for the Jabber service.\n\n645\n00:33:30,300 --> 00:33:30,830\nIn XMTP,\n\n646\n00:33:30,830 --> 00:33:35,040\nit runs in the background, it's pretty\nstraightforward once you get it activated.\n\n647\n00:33:35,040 --> 00:33:38,220\nThat whole service name thing is one\nof the most challenging parts, and\n\n648\n00:33:38,220 --> 00:33:41,410\nI'll put all that in the show notes so\nyou'll have that series of commands that I\n\n649\n00:33:41,410 --> 00:33:45,980\nran to fix that, but all in all,\nit's pretty straightforward once it's up.\n\n650\n00:33:45,980 --> 00:33:49,590\nNow you've got an internal chat\nmessaging service that just works for\n\n651\n00:33:49,590 --> 00:33:50,350\nyour employees.\n\n652\n00:33:50,350 --> 00:33:54,160\nIn my case, my open directory, so it's not\npublic, it can't get out to the internet\n\n653\n00:33:54,160 --> 00:33:58,020\nlike this, I've got my own secure,\nlittle private environment.\n\n654\n00:33:59,370 --> 00:34:02,560\nNow if we have to troubleshoot it,\nthe logs are a great place to go for that.\n\n655\n00:34:02,560 --> 00:34:07,210\nIf I go up here to my System Logs,\nthere is a log for the Messages service.\n\n656\n00:34:07,210 --> 00:34:09,790\nYou'll see some information\nright under the System Log, but\n\n657\n00:34:09,790 --> 00:34:14,100\nif you look under Messages,\nyou can pull the Multi-User Chat Log.\n\n658\n00:34:14,100 --> 00:34:17,108\nAnd here we can start to see information\nabout some of the multi-user chats\n\n659\n00:34:17,108 --> 00:34:18,240\nthat happen.\n\n660\n00:34:18,240 --> 00:34:21,876\nIf we go to the Proxy Log,\n\n661\n00:34:21,876 --> 00:34:25,340\nthe Proxy Log is where we'd see\ninformation on any federations that we had\n\n662\n00:34:25,340 --> 00:34:28,910\nset up when we were proxying\ncommunications to another server.\n\n663\n00:34:28,910 --> 00:34:32,180\nAnd then our last log in there\nis just the Service Log.\n\n664\n00:34:32,180 --> 00:34:36,020\nIf there's a problem when a service isn't\nstarting, we can spot it right here.\n\n665\n00:34:36,020 --> 00:34:39,190\nLike when I was trying to connect up and\nthe server names weren't matching,\n\n666\n00:34:39,190 --> 00:34:41,950\nthat actually would have logged in\nhere and we would have seen that.\n\n667\n00:34:41,950 --> 00:34:44,610\nBut, I can see right here\nwhere Don Pezet connected.\n\n668\n00:34:44,610 --> 00:34:47,090\nSomewhere up above I'll see\nwhere John Doe connected.\n\n669\n00:34:47,090 --> 00:34:48,980\nAnd so\nwe can start to see those sessions and\n\n670\n00:34:48,980 --> 00:34:50,940\nif there's a problem, we can find out why.\n\n671\n00:34:52,530 --> 00:34:57,510\nAll right, looks like we do have no\nsandbox token for, oh thumbnails.\n\n672\n00:34:57,510 --> 00:35:00,200\nThumbnails can be a little bit tricky\nwith Jabber because when it was\n\n673\n00:35:00,200 --> 00:35:03,650\noriginally written it wasn't designed\nto have little user icons, and\n\n674\n00:35:03,650 --> 00:35:06,030\nApple, well every user has an icon.\n\n675\n00:35:06,030 --> 00:35:08,550\nIt might be the default one,\nbut you have at least an icon.\n\n676\n00:35:08,550 --> 00:35:10,100\nAnd so it tries to pass them along.\n\n677\n00:35:10,100 --> 00:35:11,732\nAnd so you might see messages like this,\n\n678\n00:35:11,732 --> 00:35:13,950\nwhere it's telling you\nno token is generated.\n\n679\n00:35:13,950 --> 00:35:17,970\nIt will probably fail, that's almost\nalways a certificate type issue, and\n\n680\n00:35:17,970 --> 00:35:20,040\nwe can go in and\nsquare that away if needed, but\n\n681\n00:35:20,040 --> 00:35:21,850\nI'm pretty sure the icons\nwere showing up just fine.\n\n682\n00:35:21,850 --> 00:35:26,702\nYeah, yeah they were showing up, so\nwe can more than likely just disregard.\n\n683\n00:35:26,702 --> 00:35:30,522\nAll right, but as far as setting up\nthe messages server, that's about it.\n\n684\n00:35:30,522 --> 00:35:34,450\nSo once that's in place you're up and\nrunning, and you're ready to go.\n\n685\n00:35:35,720 --> 00:35:38,420\nAll right, well that's a good spot for\nus to wrap this episode up.\n\n686\n00:35:38,420 --> 00:35:41,892\nI do wanna remind you guys if you have\nany questions on anything that we've\n\n687\n00:35:41,892 --> 00:35:44,400\ncovered in the show,\nplease feel free to ask.\n\n688\n00:35:44,400 --> 00:35:45,160\nLive during the show,\n\n689\n00:35:45,160 --> 00:35:49,540\nyou can go to itpro.tv/live and you'll see\nthe chat room right beneath the video.\n\n690\n00:35:49,540 --> 00:35:50,870\nPost your questions there.\n\n691\n00:35:50,870 --> 00:35:52,620\nWe monitor and answer during the show.\n\n692\n00:35:52,620 --> 00:35:54,370\nIf you have questions after the show,\n\n693\n00:35:54,370 --> 00:35:58,120\nlike if you're watching this recorded,\ntake advantage of our Q&A forums.\n\n694\n00:35:58,120 --> 00:36:02,330\nAt the top of every page on the itpro.tv\nsite you'll see a link labeled Q&A.\n\n695\n00:36:02,330 --> 00:36:06,080\nIt'll take you to the forums, you can post\nyour questions there and we monitor and\n\n696\n00:36:06,080 --> 00:36:07,110\nanswer after the show.\n\n697\n00:36:07,110 --> 00:36:10,600\nTake advantage of that resource,\nit is there for you.\n\n698\n00:36:10,600 --> 00:36:13,298\nAll right well I hope you\nguys enjoyed today's episode,\n\n699\n00:36:13,298 --> 00:36:16,514\nsigning off of itpro.tv I'm Don Pezet and\nI'll see you next time.\n\n700\n00:36:16,514 --> 00:36:26,514\n[MUSIC]\n\n701\n00:36:30,494 --> 00:36:37,280\n[SOUND]\n\n",
          "vimeoId": "127145064"
        }
      ],
      "title": "Using Collaborative Services"
    }
  ],
  "url": "certified-technical-coordinator",
  "vLab": false
}
