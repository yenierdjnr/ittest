{
  "description": "React and Firebase are two technologies that are becoming more and more mainstream. You may have heard of both, but how do the pieces fit together? Join us in this series as we take React and build a chat application that leverages Firebase for all of the backend services. You will discover building React components, using Firebase observers to sync data to your front-end application, the difference between Stateful and Stateless Functional Components, and much more. If you are looking to level up your understanding of React and Firebase, then we will see you there!",
  "descriptionMD": "React and Firebase are two technologies that are becoming more and more mainstream. You may have heard of both, but how do the pieces fit together? Join us in this series as we take React and build a chat application that leverages Firebase for all of the backend services. You will discover building React components, using Firebase observers to sync data to your front-end application, the difference between Stateful and Stateless Functional Components, and much more. If you are looking to level up your understanding of React and Firebase, then we will see you there!",
  "length": "30650",
  "name": "Chat App with React and Firebase",
  "practiceExam": false,
  "subtitle": "Real Time Data with React",
  "tagUrl": "developer",
  "topics": [
    {
      "episodes": [
        {
          "description": "React and Firebase are two technologies that are becoming more and more mainstream. You may have heard of both, but how do the pieces fit together? Join us in this series as we take React and build a chat application that leverages Firebase for all of the backend services. You will discover building React components, using Firebase observers to sync data to your front-end application, the difference between Stateful and Stateless Functional Components, and much more. If you are looking to level up your understanding of React and Firebase, then we will see you there!",
          "length": "188",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-0-0-overview-082817-PGM.00_02_36_09.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-0-0-overview-082817-PGM.00_02_36_09.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-0-0-overview-082817-PGM.00_02_36_09.Still001-sm.jpg",
          "title": "Overview",
          "transcript": "WEBVTT\n\n1\n00:00:00.012 --> 00:00:02.040\n[SOUND]\n\n2\n00:00:02.040 --> 00:00:06.710\n[MUSIC]\n\n3\n00:00:06.710 --> 00:00:11.418\nHello and thank you for joining us with\nthis overview of Chat App with React and\n\n4\n00:00:11.418 --> 00:00:12.200\nFirebase.\n\n5\n00:00:12.200 --> 00:00:15.240\nAnd Justin Dennison is gonna be giving\nus all the information we need.\n\n6\n00:00:15.240 --> 00:00:18.010\nJustin tell us about Chat App\nwith React and Firebase.\n\n7\n00:00:18.010 --> 00:00:18.870\nWhat is that?\n\n8\n00:00:18.870 --> 00:00:22.860\n&gt;&gt; So ultimately I wanted to build\nsomething that brought together\n\n9\n00:00:22.860 --> 00:00:26.530\nsome of these new elements, but\nmaybe some old elements that helped people\n\n10\n00:00:26.530 --> 00:00:28.250\nunderstand how does\neverything come together.\n\n11\n00:00:28.250 --> 00:00:32.250\nSo ultimately our goal is to build\na React application that simulates\n\n12\n00:00:32.250 --> 00:00:37.200\na chat application with rooms, and\nmessages, and users, but instead of\n\n13\n00:00:37.200 --> 00:00:41.930\nbuilding our own authentication back end\nor having a different hosting service.\n\n14\n00:00:41.930 --> 00:00:45.790\nI decided to go with Firebase,\nwhich is a product from Google\n\n15\n00:00:45.790 --> 00:00:49.680\nthat allows authentication, database,\nreal-time database actually.\n\n16\n00:00:49.680 --> 00:00:53.700\nIt will tell you when things have changed,\nand you can put those out to all of\n\n17\n00:00:53.700 --> 00:00:58.160\nthe current users as well as a hosting\nservice for your particular project.\n\n18\n00:00:58.160 --> 00:01:01.080\nSo it's kind of a backend as a service,\nas it will.\n\n19\n00:01:01.080 --> 00:01:06.260\nNow our ultimate goal is to take that\nchat application and slowly weave in\n\n20\n00:01:06.260 --> 00:01:12.900\nFirebase as we go along and this is a more\ntraditional one using Create React App\n\n21\n00:01:12.900 --> 00:01:16.680\njust building a straight one,\nno state management nothing like that.\n\n22\n00:01:16.680 --> 00:01:22.035\nAnd then coming back deploying to Firebase\nand seeing how it all comes to fruition.\n\n23\n00:01:22.035 --> 00:01:24.185\n&gt;&gt; Now who's this show targeted towards?\n\n24\n00:01:24.185 --> 00:01:27.495\n&gt;&gt; So this show is someone who has\ndefinitely had at least a little bit of\n\n25\n00:01:27.495 --> 00:01:28.435\ninteraction with React.\n\n26\n00:01:28.435 --> 00:01:31.775\nYou don't have to be an expert, but you\nshould know a fair amount of JavaScript,\n\n27\n00:01:31.775 --> 00:01:33.985\nyou need to know about node and MPM.\n\n28\n00:01:33.985 --> 00:01:36.475\nYou should already have\na text editor set up.\n\n29\n00:01:36.475 --> 00:01:40.418\nThis is someone who has dabbled in web\ndevelopment, but wants to know a little\n\n30\n00:01:40.418 --> 00:01:44.555\nmore about these advanced features that\ncome along with the Firebase platform.\n\n31\n00:01:44.555 --> 00:01:48.771\nAnd they just really wanna level up so\nif you're brand new to HTML, CSS and\n\n32\n00:01:48.771 --> 00:01:53.599\nJavaScript there maybe a fair amount of\nconcepts where you're like I'm just having\n\n33\n00:01:53.599 --> 00:01:54.220\ntrouble.\n\n34\n00:01:54.220 --> 00:01:58.605\nSo definitely go check out some other\nthings come back after that and\n\n35\n00:01:58.605 --> 00:02:00.595\nhopefully you'll see how\nall of this comes together.\n\n36\n00:02:00.595 --> 00:02:03.655\n&gt;&gt; Now Justin is there\na certification available for this.\n\n37\n00:02:03.655 --> 00:02:06.445\n&gt;&gt; So, these course are typically\nnot certification driven.\n\n38\n00:02:06.445 --> 00:02:08.055\nThese are more of a I want to power up.\n\n39\n00:02:08.055 --> 00:02:08.955\nI want to learn more.\n\n40\n00:02:08.955 --> 00:02:10.346\nI want to see how these,\n\n41\n00:02:10.346 --> 00:02:14.670\nthese nuanced things come together\nto build a full fledged application.\n\n42\n00:02:14.670 --> 00:02:18.262\nAnd that's my ultimate goal here\nis not driven by certification but\n\n43\n00:02:18.262 --> 00:02:22.737\nit is something that essentially you gain\nknowledge that you wouldn't necessarily\n\n44\n00:02:22.737 --> 00:02:24.010\nsee in other contexts.\n\n45\n00:02:24.010 --> 00:02:26.840\nSo yeah, no certification, but\n\n46\n00:02:26.840 --> 00:02:29.590\na lot of information in order\nto be had in this course.\n\n47\n00:02:29.590 --> 00:02:30.690\n&gt;&gt; And well worth your time to watch it.\n\n48\n00:02:30.690 --> 00:02:32.440\nAnd what topics are covered in this show?\n\n49\n00:02:32.440 --> 00:02:36.395\n&gt;&gt; So we're gonna Firebase, React,\nCreate React App Build tools,\n\n50\n00:02:36.395 --> 00:02:41.501\nhow to manage your build server, how to\ndesign components, how to nest components.\n\n51\n00:02:41.501 --> 00:02:45.161\nAnd as well as deployment and\nusing the realtime database and\n\n52\n00:02:45.161 --> 00:02:48.300\nauthentication services within Firebase.\n\n53\n00:02:48.300 --> 00:02:49.470\n&gt;&gt; Thank you, Justin.\n\n54\n00:02:49.470 --> 00:02:52.760\nSo make sure you watch every\nsingle episode of Chat app\n\n55\n00:02:52.760 --> 00:02:54.110\nwith reactive Firebase.\n\n56\n00:02:54.110 --> 00:02:55.200\nYou'll be glad you did.\n\n57\n00:02:55.200 --> 00:02:57.284\nAnd thank you for watching DevProTV.\n\n58\n00:02:57.284 --> 00:03:02.443\n[MUSIC]\n\n",
          "vimeoId": "231536002"
        },
        {
          "description": "In this episode, Justin and Peter talk about what goes in to creating a chat app with Reach and Firebase. Justin shows how to setup a new app in React and some of the tools that will be utilized from Firebase.",
          "length": "1537",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-1-1-setting_up_a_react_app-081417-PGM.00_26_51_22.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-1-1-setting_up_a_react_app-081417-PGM.00_26_51_22.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-1-1-setting_up_a_react_app-081417-PGM.00_26_51_22.Still001-sm.jpg",
          "title": "Setting Up a React App",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:06.097\n[SOUND]\nHello and\n\n2\n00:00:06.097 --> 00:00:10.318\nwelcome to\n\n3\n00:00:10.318 --> 00:00:15.013\nDevProTV.\n\n4\n00:00:15.013 --> 00:00:17.536\nI'm your host, Peter VanRysdam, and today,\n\n5\n00:00:17.536 --> 00:00:21.586\nwe're getting started with setting up\na chat app using React and Firebase.\n\n6\n00:00:21.586 --> 00:00:25.426\nAnd here to help us figure out where\nwe're starting, what we're gonna do,\n\n7\n00:00:25.426 --> 00:00:29.026\nis the expert, hopefully, in React and\nFirebase, Justin Dennison.\n\n8\n00:00:29.026 --> 00:00:30.145\nJustin, how you doing today?\n\n9\n00:00:30.145 --> 00:00:32.952\n&gt;&gt; I'm doing fantastic, and hopefully,\nI am the expert, cuz otherwise,\n\n10\n00:00:32.952 --> 00:00:34.095\nI'll just let you take over.\n\n11\n00:00:34.095 --> 00:00:36.209\n&gt;&gt; [LAUGH] That's gonna turn out great.\n\n12\n00:00:36.209 --> 00:00:37.323\n&gt;&gt; [LAUGH]\n&gt;&gt; So, Justin,\n\n13\n00:00:37.323 --> 00:00:38.461\nwhere are we gonna start off?\n\n14\n00:00:38.461 --> 00:00:42.240\nI know we have to kind of create this app,\nso we're starting from the ground up.\n\n15\n00:00:42.240 --> 00:00:42.845\nWhere do we begin?\n\n16\n00:00:42.845 --> 00:00:46.087\n&gt;&gt; All right, so, maybe the title\nkind of over promises this time.\n\n17\n00:00:46.087 --> 00:00:48.008\nI don't know if we'll\nnecessary get into Firebase,\n\n18\n00:00:48.008 --> 00:00:49.384\nwe're gonna take a look at Firebase.\n\n19\n00:00:49.384 --> 00:00:52.130\nWhat is Firebase, right?\n\n20\n00:00:52.130 --> 00:00:55.640\nBut we probably won't integrate it\ninto our app until a little bit later,\n\n21\n00:00:55.640 --> 00:00:58.720\nbut also,\nwe need to set up our React application.\n\n22\n00:00:58.720 --> 00:01:02.230\nAnd I'm gonna take the easy way out,\nbecause well, setting up applications in\n\n23\n00:01:02.230 --> 00:01:06.090\nkind of our dev environment is\nsometimes a very laborious process.\n\n24\n00:01:06.090 --> 00:01:10.020\nSo, well, how are we going to\nget that set up, and ultimately,\n\n25\n00:01:10.020 --> 00:01:11.450\nwhat are we going to build?\n\n26\n00:01:11.450 --> 00:01:14.850\nProbably the last question\nis the best thing to answer\n\n27\n00:01:14.850 --> 00:01:16.230\nbefore we worry about anything else.\n\n28\n00:01:16.230 --> 00:01:17.800\nSo, here's what I envision, Peter.\n\n29\n00:01:18.820 --> 00:01:24.028\nI have the ability to log in, sign up,\nand then I get a set of rooms, right?\n\n30\n00:01:24.028 --> 00:01:27.972\nMaybe off to the left or along the top,\nand then when I click on a room,\n\n31\n00:01:27.972 --> 00:01:30.087\nit brings up a little message board.\n\n32\n00:01:30.087 --> 00:01:31.683\nAnd because I'm signed in,\n\n33\n00:01:31.683 --> 00:01:34.950\nI can then message other\nindividuals who are in said room.\n\n34\n00:01:34.950 --> 00:01:38.801\nNow we're going to make some sacrifices\nabout the functionality here,\n\n35\n00:01:38.801 --> 00:01:41.591\njust because,\nthis is a learning experience.\n\n36\n00:01:41.591 --> 00:01:45.048\nLike not being able to tell if\npeople are online and things,\n\n37\n00:01:45.048 --> 00:01:47.970\nand it gets a little\niffy from time to time.\n\n38\n00:01:47.970 --> 00:01:53.205\nBut being able to select a room, actually\ntype messages in it, log in, log out.\n\n39\n00:01:53.205 --> 00:01:55.491\nAnd it sounds all so simple,\n\n40\n00:01:55.491 --> 00:02:00.310\nit also may ends up not being\nas simple as one would hope.\n\n41\n00:02:00.310 --> 00:02:02.040\nSo, that's what we're building.\n\n42\n00:02:02.040 --> 00:02:06.730\nIt may take a lot longer than, well,\nyou, me, or anybody else realizes.\n\n43\n00:02:06.730 --> 00:02:08.560\nBut first,\n\n44\n00:02:08.560 --> 00:02:13.700\nlet's dive into my screen here and take\na look at actually setting up the project.\n\n45\n00:02:13.700 --> 00:02:17.324\nSo we're gonna set up the project, which\nis going to be a React based project, and\n\n46\n00:02:17.324 --> 00:02:19.760\nthen well, we are gonna use Firebase.\n\n47\n00:02:19.760 --> 00:02:21.978\nHow are we going to set up\nthat React based project?\n\n48\n00:02:21.978 --> 00:02:27.020\nWell, I'm gonna hop over to a browser\nhere just momentarily, and there is this\n\n49\n00:02:27.020 --> 00:02:31.920\nproject called create-react-app that\nis part of the Facebook incubator.\n\n50\n00:02:31.920 --> 00:02:34.030\nNow, I've heard of this,\n\n51\n00:02:34.030 --> 00:02:37.680\nthis is essentially going to generate\na project that has a certain folder\n\n52\n00:02:37.680 --> 00:02:42.400\nstructure, all of your development tools\nalready kind of up and running for you.\n\n53\n00:02:42.400 --> 00:02:44.680\nThere are some assumptions here.\n\n54\n00:02:44.680 --> 00:02:48.640\nYou have NPM installed, you have Node\ninstalled, you know how those work.\n\n55\n00:02:48.640 --> 00:02:50.450\nYou know some JavaScript.\n\n56\n00:02:50.450 --> 00:02:53.162\nSo if you're like,\nI don't know any of those things.\n\n57\n00:02:53.162 --> 00:02:59.065\nThen well, it may get a little deep\nquickly as we get this up and running.\n\n58\n00:02:59.065 --> 00:03:01.360\n&gt;&gt; Well,\nlet's set the stage a little bit here.\n\n59\n00:03:01.360 --> 00:03:02.950\nYou should know some of these things.\n\n60\n00:03:02.950 --> 00:03:05.642\nWhat are we actually going\nover in this course?\n\n61\n00:03:05.642 --> 00:03:08.060\nAre we starting from the basics\non how to do those things?\n\n62\n00:03:08.060 --> 00:03:10.675\nOr we're expecting that same kind of\nlevel of knowledge coming into this?\n\n63\n00:03:10.675 --> 00:03:12.660\n&gt;&gt; Well,\nwe expect a fair amount of knowledge,\n\n64\n00:03:12.660 --> 00:03:16.260\nyou should know JavaScript,\nyou should know some HTML, some CSS.\n\n65\n00:03:16.260 --> 00:03:20.650\nYou should know about interacting\nwith the Node ecosystem using NPM and\n\n66\n00:03:20.650 --> 00:03:22.100\nthe Node runtime.\n\n67\n00:03:22.100 --> 00:03:24.879\nSo you definitely need to have\na pretty good grasp on those.\n\n68\n00:03:24.879 --> 00:03:31.320\nNow as far as React goes, you should\nprobably have some familiarity with it.\n\n69\n00:03:31.320 --> 00:03:33.910\nBut it doesn't mean you have\nto be an expert, right?\n\n70\n00:03:33.910 --> 00:03:38.220\nSo the entire goal is let's learn a little\nbit about this, as we build something that\n\n71\n00:03:38.220 --> 00:03:42.030\nyou can see a finished product for,\ninstead of just smaller applications.\n\n72\n00:03:42.030 --> 00:03:44.596\n&gt;&gt; That's perfect, Justin, because I\nam certainly not an expert in it, so.\n\n73\n00:03:44.596 --> 00:03:45.860\n&gt;&gt; [LAUGH]\n&gt;&gt; Please take it away.\n\n74\n00:03:45.860 --> 00:03:49.618\n&gt;&gt; All right, so\nnow that we have NPM and Node,\n\n75\n00:03:49.618 --> 00:03:55.220\nwe need to set up this tool that we\ncan use to generate our project.\n\n76\n00:03:55.220 --> 00:03:59.386\nAnd well, if you go to the documentation,\nit's just npm install -g,\n\n77\n00:03:59.386 --> 00:04:03.910\nwhich is a global flag, which will make\nthis available all over your system.\n\n78\n00:04:03.910 --> 00:04:07.940\nYou can generate React projects till,\nwell, your heart's content.\n\n79\n00:04:07.940 --> 00:04:12.020\nAnd by doing so, well,\nyou'll just be up and ready to go.\n\n80\n00:04:12.020 --> 00:04:14.050\nSo, let's actually do that.\n\n81\n00:04:14.050 --> 00:04:19.937\nAnd so I'm gonna npm install -g\ncreate-react app, just like so.\n\n82\n00:04:19.937 --> 00:04:23.890\nNow, the first time this installs,\nthis will take a little bit.\n\n83\n00:04:25.350 --> 00:04:26.420\nMan, look at this.\n\n84\n00:04:26.420 --> 00:04:27.630\nWe've got all kinds of errors.\n\n85\n00:04:27.630 --> 00:04:31.031\nI was gonna say that was really fast, but\nit was just fast getting all those errors.\n\n86\n00:04:31.031 --> 00:04:32.915\nIt's like it's broke, it's broke.\n\n87\n00:04:32.915 --> 00:04:36.800\nNow, I intentionally keep it\nlike this on my computer,\n\n88\n00:04:36.800 --> 00:04:41.854\non this computer, in particular,\nmaybe not some of my other machines.\n\n89\n00:04:41.854 --> 00:04:46.446\nBut essentially, what's happening\nis I'm trying to install a tool in\n\n90\n00:04:46.446 --> 00:04:49.265\na global folder that I\ndo not own as a user.\n\n91\n00:04:49.265 --> 00:04:55.675\nSo I have to elevate privileges, well,\non Mac OS and on Linux if this occurs.\n\n92\n00:04:55.675 --> 00:05:00.640\nSo it says permission denied,\naccess to blah, blah, blah, blah,\n\n93\n00:05:00.640 --> 00:05:03.760\nblah, is you just can't have it, right?\n\n94\n00:05:03.760 --> 00:05:05.130\nSo how do I fix that?\n\n95\n00:05:05.130 --> 00:05:07.357\nWell, I clear the screen and\nact like nothing ever happened.\n\n96\n00:05:07.357 --> 00:05:10.154\nAnd then I'm going to sudo or sudo,\n\n97\n00:05:10.154 --> 00:05:14.929\nhowever you decide to pronounce it,\ncreate-react-app.\n\n98\n00:05:14.929 --> 00:05:20.875\nNow, you'll notice this is the exact same\ncommand that I was running prior to,\n\n99\n00:05:20.875 --> 00:05:24.437\nexcept I've added this super user do,\nright?\n\n100\n00:05:24.437 --> 00:05:28.400\nI'm gonna elevate my privileges, and\nnow it's gonna ask me for my password, and\n\n101\n00:05:28.400 --> 00:05:30.870\nhopefully, I can remember my password.\n\n102\n00:05:30.870 --> 00:05:35.430\nAnd now we're able to install it in\nthat global Node modules folder.\n\n103\n00:05:35.430 --> 00:05:40.187\nSo there's create-react-app, if I wanna\nmake sure that this is installed, I can\n\n104\n00:05:40.187 --> 00:05:45.548\nsay create-react-app, I should be able to\ndo this, --version, and it is 1.4, okay?\n\n105\n00:05:45.548 --> 00:05:50.120\nSo if I wanted to make sure that\n1.4 is the most up to date version,\n\n106\n00:05:50.120 --> 00:05:53.907\nI can come over to\nthe create-react-app GitHub repo.\n\n107\n00:05:53.907 --> 00:05:59.390\nAnd look at releases, right?\n\n108\n00:05:59.390 --> 00:06:04.267\nSo if we load the releases,\nand it's 1.0.11.\n\n109\n00:06:04.267 --> 00:06:11.100\nHm, that seems a little odd there cuz\nthose are a little bit different.\n\n110\n00:06:11.100 --> 00:06:12.655\nWhat about tags?\n\n111\n00:06:12.655 --> 00:06:17.930\n1., that's because some of the names and\nthings have changed.\n\n112\n00:06:17.930 --> 00:06:20.320\nSo, how else could I check that?\n\n113\n00:06:20.320 --> 00:06:26.379\nWell, if I come to npmjs.com,\nwhich is where Node modules are typically\n\n114\n00:06:26.379 --> 00:06:31.363\ngoing to be pulled from,\nif I look at create-react-app and\n\n115\n00:06:31.363 --> 00:06:36.077\ncreate-react-app and\nglobal command, okay, well.\n\n116\n00:06:36.077 --> 00:06:40.050\n1.4, there we go.\n\n117\n00:06:40.050 --> 00:06:44.722\nSo, now that we've actually seen that\nthis is the version that we expect,\n\n118\n00:06:44.722 --> 00:06:48.700\nit is the most up to date one and\nthen just the latest one.\n\n119\n00:06:48.700 --> 00:06:52.741\nSo now that we have that,\nlet's actually generate our project and\n\n120\n00:06:52.741 --> 00:06:54.626\nstart perusing, so to speak.\n\n121\n00:06:54.626 --> 00:07:00.370\nSo create-react-app, and\nlet's choose a name for our project.\n\n122\n00:07:00.370 --> 00:07:04.604\nLet's call them, chat-em, right, chat-em.\n\n123\n00:07:04.604 --> 00:07:07.438\nI have a little bit of colloquialism\nin there, Peter, but we'll go with it.\n\n124\n00:07:07.438 --> 00:07:11.628\nSo notice I said create-react-app and\nthen the actual folder name.\n\n125\n00:07:11.628 --> 00:07:15.489\nNow this was a big pain point earlier in\nthe React community was actually setting\n\n126\n00:07:15.489 --> 00:07:17.350\nup the development process.\n\n127\n00:07:17.350 --> 00:07:18.160\nWhat is web pack?\n\n128\n00:07:18.160 --> 00:07:19.446\nWhat are these other things?\n\n129\n00:07:19.446 --> 00:07:24.684\nThis extracts away those pain points,\nand well, by extracting those away,\n\n130\n00:07:24.684 --> 00:07:28.930\nwell, it helps people dive in quicker,\nget up and going.\n\n131\n00:07:28.930 --> 00:07:32.440\nBut there is a fair amount of\ndependencies that kind of get brought in.\n\n132\n00:07:33.590 --> 00:07:36.310\nSo notice it's installing packages.\n\n133\n00:07:36.310 --> 00:07:38.976\nAnd I'm gonna scroll back up here just for\na moment.\n\n134\n00:07:38.976 --> 00:07:42.210\nThese are all the packages that I\nactually went and downloaded for\n\n135\n00:07:42.210 --> 00:07:44.030\nus to bring in to that module.\n\n136\n00:07:44.030 --> 00:07:44.860\nI'm gonna keep going.\n\n137\n00:07:44.860 --> 00:07:49.180\nThere we go, installing react,\nreact-dom, and react-scripts.\n\n138\n00:07:49.180 --> 00:07:52.740\nNow React scripts\nare essentially the magic.\n\n139\n00:07:52.740 --> 00:07:56.517\nThey're the ones that start\nyour development environment,\n\n140\n00:07:56.517 --> 00:07:58.332\nthat create your builds, and\n\n141\n00:07:58.332 --> 00:08:03.359\nwill actually remove the create-react-app\nboiler plate, if you so decide to.\n\n142\n00:08:03.359 --> 00:08:09.460\nNow, this says your version of Yarn is\nout of date, the latest version is 27.5.\n\n143\n00:08:09.460 --> 00:08:13.193\nNow Yarn is actually a secondary package,\n\n144\n00:08:13.193 --> 00:08:17.283\nit was a replacement that was created for\nnpm.\n\n145\n00:08:17.283 --> 00:08:22.509\nWell, npm has had some recent updates,\nand I like npm, so I'm gonna go with it.\n\n146\n00:08:23.830 --> 00:08:30.200\nSo I'm not gonna use yarn, but every time\nyou see yarn inside of these instructions.\n\n147\n00:08:30.200 --> 00:08:33.540\nLike yarn start, yarn build,\nyarn test, yarn eject,\n\n148\n00:08:33.540 --> 00:08:38.320\nwe can replace that with npm\nbecause well yarn was an interface.\n\n149\n00:08:38.320 --> 00:08:43.110\nIt was a replacement, or\na kind of a drop-in replacement for npm.\n\n150\n00:08:43.110 --> 00:08:47.287\nBut npm like I said has had recent\nupdates, so I'm gonna stick with npm just\n\n151\n00:08:47.287 --> 00:08:51.350\nto keep us from having do install\na variety of other things.\n\n152\n00:08:51.350 --> 00:08:54.030\nSo our project should be up and\ngoing, let's go ahead and\n\n153\n00:08:54.030 --> 00:08:58.840\nget into chat-em, and\nlet's just look at what we have here.\n\n154\n00:08:58.840 --> 00:09:03.336\nWe have a read me file,\nsome node modules, a package.json,\n\n155\n00:09:03.336 --> 00:09:06.640\na public folder, a source,\nand a yarn lock.\n\n156\n00:09:06.640 --> 00:09:10.900\nSo we're gonna take a look real\nquick at this project setup\n\n157\n00:09:10.900 --> 00:09:15.690\njust to see what is made available\nto us using create react app.\n\n158\n00:09:15.690 --> 00:09:20.530\nNow if I look here,\nthis is a giant read me that talks about\n\n159\n00:09:20.530 --> 00:09:26.010\nall of the things that you may need\nto know, which is kinda handy right?\n\n160\n00:09:26.010 --> 00:09:29.540\nSo you come up here,\nsupported languages, features, and\n\n161\n00:09:29.540 --> 00:09:31.600\npolyfills, syntax\nhighlighting in the editor.\n\n162\n00:09:32.850 --> 00:09:35.389\nWhat are available scripts,\nnpm start, npm test, and\n\n163\n00:09:35.389 --> 00:09:38.209\nnotice that this actually still\nuses the npm instead of yarn.\n\n164\n00:09:38.209 --> 00:09:42.857\nAnd that's what they read me,\noriginally create react app used nmp and\n\n165\n00:09:42.857 --> 00:09:46.380\nnot yarn, so there's some weirdness there.\n\n166\n00:09:46.380 --> 00:09:49.040\nWhat is the folder structure about?\n\n167\n00:09:49.040 --> 00:09:52.072\nIf I were to open this, like put\nthis on GitHub and it was rendered,\n\n168\n00:09:52.072 --> 00:09:57.210\nI can actually click these links, and it\nwould take me to that point in the README.\n\n169\n00:09:57.210 --> 00:10:02.916\nSo if I keep scrolling down,\nI can actually hop way down here and\n\n170\n00:10:02.916 --> 00:10:07.987\nsee that I have all these\nMoment js locales are missing.\n\n171\n00:10:07.987 --> 00:10:12.664\nThese are some troubleshooting points,\nbut it also has all of those like\n\n172\n00:10:12.664 --> 00:10:17.610\nsyntax highlighting, what polyfills\nare available, so on and so forth.\n\n173\n00:10:17.610 --> 00:10:21.500\nSo the README's nice, but we don't\nwanna spend too much time in there.\n\n174\n00:10:21.500 --> 00:10:22.870\nI could look in node modules, but\n\n175\n00:10:22.870 --> 00:10:26.640\nthat's actually gonna be\ndescribe by package.json.\n\n176\n00:10:26.640 --> 00:10:30.282\nSo what is in package.json,\nwell we have react, react dom and\n\n177\n00:10:30.282 --> 00:10:34.440\nreact-scripts, those are only\ndependencies that we have.\n\n178\n00:10:34.440 --> 00:10:37.640\nNow, I will tell you behind the scenes\nbecause of some of that magic that\n\n179\n00:10:37.640 --> 00:10:39.155\nreact scripts uses.\n\n180\n00:10:39.155 --> 00:10:42.730\nThere's actually some other\ndependencies that are there,\n\n181\n00:10:42.730 --> 00:10:45.030\nthat are kind of hidden away from us.\n\n182\n00:10:45.030 --> 00:10:49.420\nAnd then the scripts that are available\nare start, build, test, and eject.\n\n183\n00:10:49.420 --> 00:10:53.060\nNow start, that's actually gonna\nbe our development environment.\n\n184\n00:10:53.060 --> 00:10:58.050\nBuild, will build a static output\nthat we could then deploy somewhere.\n\n185\n00:10:58.050 --> 00:11:01.726\nTest, well that's gonna run all\nour tests that we have written.\n\n186\n00:11:01.726 --> 00:11:06.211\nFull disclosure Peter, I'm probably\nnot gonna write a whole lot of test,\n\n187\n00:11:06.211 --> 00:11:09.320\nit's not necessarily my\nfocus in this series.\n\n188\n00:11:09.320 --> 00:11:13.800\nAnd then eject will actually remove all\nthe create, react at boiler-plate, and\n\n189\n00:11:13.800 --> 00:11:17.460\nthen give you kind of just\na standard if you were to set it up\n\n190\n00:11:17.460 --> 00:11:21.180\nusing their exact same workflow.\n\n191\n00:11:21.180 --> 00:11:24.880\nSo it would actually give you like a\nwebpack config and things of that nature.\n\n192\n00:11:24.880 --> 00:11:29.490\nSo we could do that but\nyou know we're gonna stay simple for now.\n\n193\n00:11:29.490 --> 00:11:34.401\nLet's look inside of public, and\npublic is, well, it's just favicon.ico,\n\n194\n00:11:34.401 --> 00:11:41.200\na templated index.html like our html\nthat mostly is going to be empty.\n\n195\n00:11:41.200 --> 00:11:46.980\nSo if I show you, so there's some\nmanifest here, and that's the manifest\n\n196\n00:11:46.980 --> 00:11:50.830\nprovides metadata for your webpage,\nadded to the home screen on Android.\n\n197\n00:11:52.560 --> 00:11:56.650\nAnd then mostly what you have\nis just an empty div, that's it,\n\n198\n00:11:56.650 --> 00:11:58.260\nit is a template file.\n\n199\n00:11:59.980 --> 00:12:04.275\nSo what about source, and\nwe're gonna ignore that yarn.lock.\n\n200\n00:12:04.275 --> 00:12:07.524\nWell source is actually\nwhere all the fun is,\n\n201\n00:12:07.524 --> 00:12:11.665\nthis is where all of our react code,\nour CSS, our tests.\n\n202\n00:12:11.665 --> 00:12:16.040\nOur this register service worker, that's\nsome newer things that have been added.\n\n203\n00:12:16.040 --> 00:12:18.900\nAnd I think it's a little beyond\nthe scope to talk about services workers,\n\n204\n00:12:18.900 --> 00:12:22.970\nand progressive web apps and\nthings of that nature at this time.\n\n205\n00:12:22.970 --> 00:12:26.770\nSo let's take a look just at this App.js,\n\n206\n00:12:26.770 --> 00:12:30.970\nand well it's just more or\nless some JavaScript code.\n\n207\n00:12:30.970 --> 00:12:36.850\nI'm over simplifying it right now but that\nis pretty much all of our application.\n\n208\n00:12:36.850 --> 00:12:39.650\nLet's actually see it running.\n\n209\n00:12:41.000 --> 00:12:44.150\nWell, let's see it up and\nrunning, so I'm gonna say, npm.\n\n210\n00:12:44.150 --> 00:12:47.577\nActually, let me open\nthis up in atom first, so\n\n211\n00:12:47.577 --> 00:12:52.560\nI'm gonna open that up in atom just so\nI can have this in a text editor.\n\n212\n00:12:52.560 --> 00:12:57.420\nAnd so, npm start, now start's actually\n\n213\n00:12:57.420 --> 00:13:01.620\ngonna use that reacts script start.\n\n214\n00:13:01.620 --> 00:13:09.026\nAnd it's actually building,\nusing webpack behind the scenes.\n\n215\n00:13:09.026 --> 00:13:13.570\nSo I come over here,\nthis is now what that app.js describes.\n\n216\n00:13:13.570 --> 00:13:18.000\nNotice I have a favicon here, that\nfavicon is inside of our public folder.\n\n217\n00:13:19.010 --> 00:13:23.721\nThis is, well that's just our header and\nsome text,\n\n218\n00:13:23.721 --> 00:13:26.972\nlet's go see where this comes from.\n\n219\n00:13:26.972 --> 00:13:29.940\nSo if I come over here,\nlet me rearrange this just a little bit.\n\n220\n00:13:31.990 --> 00:13:32.590\nAnd there we go.\n\n221\n00:13:32.590 --> 00:13:39.830\nIf I look inside of source App.js,\nyou'll notice class name App,\n\n222\n00:13:39.830 --> 00:13:45.880\nclass name App header, welcome to React,\nand here's an image source logo, okay.\n\n223\n00:13:45.880 --> 00:13:47.460\nWell, welcome to React.\n\n224\n00:13:49.360 --> 00:13:53.260\nTo get started, edit code source\nApp.js and save to reload.\n\n225\n00:13:54.780 --> 00:13:58.706\nWell, to get started edit\nthat source/App.js, so\n\n226\n00:13:58.706 --> 00:14:04.680\neverything we're seeing on the screen\nactually originates from this App.js.\n\n227\n00:14:04.680 --> 00:14:09.576\nNow, I say that but really the getting\nthings up and going and working is\n\n228\n00:14:09.576 --> 00:14:15.630\nhandled by this index.js, were we use\nReactDOM to render the app component.\n\n229\n00:14:15.630 --> 00:14:19.448\nThese individual chunks\nare called components and\n\n230\n00:14:19.448 --> 00:14:24.247\nnotice they extend the component\nclass from the react package.\n\n231\n00:14:24.247 --> 00:14:27.711\nThat isn't the only way you can\ncreate a react component, but\n\n232\n00:14:27.711 --> 00:14:30.520\ntypically you're going to\nsee it just like that.\n\n233\n00:14:31.690 --> 00:14:35.250\nAnd there is this render method\nwhich then produces this.\n\n234\n00:14:35.250 --> 00:14:40.403\nSo if we come and inspect though,\nwe look at our elements,\n\n235\n00:14:40.403 --> 00:14:45.900\nand we look in the div,\nwell there's just a div and a p tag.\n\n236\n00:14:46.940 --> 00:14:52.060\nAnd that's because you notice this looks\nlike HTML, but really what happens is this\n\n237\n00:14:52.060 --> 00:14:58.020\ngets transformed to JavaScript,\npure JavaScript by the build process.\n\n238\n00:14:58.020 --> 00:15:03.690\nThis is JSX language type,\nJavaScript with XML.\n\n239\n00:15:03.690 --> 00:15:08.080\nSo embedded inside of this is\nwhat appears to be HTML, but\n\n240\n00:15:08.080 --> 00:15:11.050\nthese represent JavaScript functions and\ndata structures.\n\n241\n00:15:11.050 --> 00:15:16.350\nAnd that's how react actually renders out\nusing something called the virtual DOM,\n\n242\n00:15:16.350 --> 00:15:18.590\nonto the screen as such.\n\n243\n00:15:18.590 --> 00:15:23.120\nBut all it does is when it finally\nrenders it actually renders just HTML\n\n244\n00:15:23.120 --> 00:15:24.570\nas we would anticipate it to.\n\n245\n00:15:24.570 --> 00:15:28.830\nSo, it's kind of this interesting\nblend of mostly JavaScript, but\n\n246\n00:15:28.830 --> 00:15:35.480\nwe actually get to write some HTML like\nstuff, and just kinda have it work.\n\n247\n00:15:35.480 --> 00:15:38.562\n&gt;&gt; Justin you said we were\nbuilding this from scratch, but\n\n248\n00:15:38.562 --> 00:15:41.907\nit feels like we're kinda like building,\nor making a pie but\n\n249\n00:15:41.907 --> 00:15:44.215\nwe using a pre made pie\ncrust a little bit.\n\n250\n00:15:44.215 --> 00:15:47.217\n&gt;&gt; Well, you know it will be\nour little secret, right.\n\n251\n00:15:47.217 --> 00:15:49.057\nNow what I mean by from scratch,\n\n252\n00:15:49.057 --> 00:15:52.474\nultimately I'm going to delete\nall of this app component.\n\n253\n00:15:52.474 --> 00:15:56.270\nReally the create react templat,\nwhere it comes, that set of scripts,\n\n254\n00:15:56.270 --> 00:16:00.458\nwhere it really helps is setting up the\nbuild process like your webpack config.\n\n255\n00:16:00.458 --> 00:16:02.471\nHaving your development\nserver up,and running.\n\n256\n00:16:02.471 --> 00:16:05.741\nAll of those fun pieces\nthat were a huge hindrance,\n\n257\n00:16:05.741 --> 00:16:10.360\noriginally, to individuals trying\nto get started with React.\n\n258\n00:16:10.360 --> 00:16:12.806\nThere's just a lot of time,\nand things would go wrong.\n\n259\n00:16:12.806 --> 00:16:17.340\nSo this helps get away from that,\nbut yeah, you're kind of right.\n\n260\n00:16:17.340 --> 00:16:20.571\nThere's some boilerplate here that,\nis it truly from scratch?\n\n261\n00:16:20.571 --> 00:16:22.632\nBut ultimately,\nwe'll kind of just wipe this away.\n\n262\n00:16:22.632 --> 00:16:27.623\nAnd we may wipe it away several times\ncuz we've got a whole, we built this,\n\n263\n00:16:27.623 --> 00:16:29.536\nand now we need to refactor.\n\n264\n00:16:29.536 --> 00:16:33.482\nSo I'm gonna try to keep that process\ninside of this series, just so\n\n265\n00:16:33.482 --> 00:16:37.500\nwe can then see, well,\nthis is how this works, okay?\n\n266\n00:16:37.500 --> 00:16:39.100\nSo, here's our app component.\n\n267\n00:16:40.410 --> 00:16:43.040\nNow, that covers the React part.\n\n268\n00:16:43.040 --> 00:16:48.230\nThere was that other thing\ninside of the title and\n\n269\n00:16:48.230 --> 00:16:51.840\nyou said it, and I said it, and-\n&gt;&gt; It's Firebase, I believe.\n\n270\n00:16:51.840 --> 00:16:54.370\n&gt;&gt; Yeah, Firebase, Firebase.\n\n271\n00:16:54.370 --> 00:16:55.900\nWhat is Firebase?\n\n272\n00:16:55.900 --> 00:17:02.910\nWell, it's kind of interesting, it's\nalmost, I don't know, borderline taboo.\n\n273\n00:17:02.910 --> 00:17:08.735\nIf we go and look at Firebase,\nnow I'm logged into a Gmail account.\n\n274\n00:17:08.735 --> 00:17:14.953\nI have a Gmail account associated\nwith my DevPro account.\n\n275\n00:17:14.953 --> 00:17:18.581\nSo if I come here,\nyou'll notice I'm already logged in.\n\n276\n00:17:18.581 --> 00:17:20.810\nIf you weren't logged in,\nyou will need to log in with your Gmail.\n\n277\n00:17:22.300 --> 00:17:27.070\nIf I come to Firebase, well, Firebase\nwas originally a separate company that\n\n278\n00:17:27.070 --> 00:17:29.300\nprovided realtime messaging,\nrealtime database.\n\n279\n00:17:29.300 --> 00:17:30.610\nNow, what does realtime mean?\n\n280\n00:17:30.610 --> 00:17:34.343\nThat means that if Peter was working on an\napp and changed something about the app.\n\n281\n00:17:34.343 --> 00:17:37.510\nAnd I was also on the same app,\nit would update to me as well.\n\n282\n00:17:37.510 --> 00:17:40.350\nAnd it was abstracted\naway through Firebase.\n\n283\n00:17:40.350 --> 00:17:43.310\nGoogle acquired Firebase and as a result,\n\n284\n00:17:43.310 --> 00:17:47.480\nit has now become kind of integrated\ninto the Google platform.\n\n285\n00:17:47.480 --> 00:17:50.780\nYou can come and read a great deal\nabout this, but you know what?\n\n286\n00:17:50.780 --> 00:17:56.500\nI think we'll just go ahead and dive right\ninto the console and see what we'll get.\n\n287\n00:17:56.500 --> 00:17:59.153\nIf you've never been in\nthe Firebase console,\n\n288\n00:17:59.153 --> 00:18:02.612\nyou can either explore a demo project or\nyou can add a project.\n\n289\n00:18:02.612 --> 00:18:04.820\nSo I'm just going to add\nsomething right now.\n\n290\n00:18:04.820 --> 00:18:06.440\nIt's not really important.\n\n291\n00:18:06.440 --> 00:18:11.960\nWe are going to add a project and we'll\njust say, testproject and Create Project.\n\n292\n00:18:13.140 --> 00:18:15.720\nAnd we'll wait for it to load up here.\n\n293\n00:18:15.720 --> 00:18:18.040\n&gt;&gt; So is this basically\na version control system then?\n\n294\n00:18:18.040 --> 00:18:22.010\nBecause you were talking about\nhow it's taking our changes and\n\n295\n00:18:22.010 --> 00:18:22.800\nmerging them together.\n\n296\n00:18:22.800 --> 00:18:24.790\nBut is it keeping a log and all that?\n\n297\n00:18:24.790 --> 00:18:28.020\n&gt;&gt; Well, it could be used as\na version control system.\n\n298\n00:18:28.020 --> 00:18:30.760\nWe could keep kind of versions of data.\n\n299\n00:18:31.980 --> 00:18:36.780\nHowever, mostly what it's going to\nprovide to us are a set of services.\n\n300\n00:18:37.890 --> 00:18:40.690\nTechnically, we could do a great deal\nof analytics about our platform,\n\n301\n00:18:40.690 --> 00:18:42.330\ndepending on how we set that up.\n\n302\n00:18:42.330 --> 00:18:46.190\nIf we actually click on that tab, it'll\nsay get detailed analytics to measure and\n\n303\n00:18:46.190 --> 00:18:47.468\nanalyze how users engage.\n\n304\n00:18:47.468 --> 00:18:52.640\nAnd these two little pieces will show\nyou what platforms you can go for,\n\n305\n00:18:52.640 --> 00:18:53.740\niOS, Android.\n\n306\n00:18:54.940 --> 00:18:56.642\nNow, what kind of analytics would that be?\n\n307\n00:18:56.642 --> 00:19:00.119\nI don't know, we're not building an iOS or\nan Android application, so\n\n308\n00:19:00.119 --> 00:19:02.351\nI'm going to act like\nnothing ever happened.\n\n309\n00:19:02.351 --> 00:19:05.828\nSo I'm gonna come over here\nto Authentication, and\n\n310\n00:19:05.828 --> 00:19:10.588\nif you ever tried to roll your own\nauthentication, it's a giant pain.\n\n311\n00:19:10.588 --> 00:19:15.457\nYou got to make sure it does this and\nthat.\n\n312\n00:19:15.457 --> 00:19:20.735\nAnd well, Firebase provides you with\nthe ability to authenticate users,\n\n313\n00:19:20.735 --> 00:19:24.180\nhave users sign up, have users login.\n\n314\n00:19:24.180 --> 00:19:27.930\nAnd actually,\nthey provide these methods to do that.\n\n315\n00:19:29.140 --> 00:19:33.980\nEmail and password, using your phone,\nGoogle, Facebook, Twitter, GitHub,\n\n316\n00:19:33.980 --> 00:19:35.010\nas well as anonymous.\n\n317\n00:19:35.010 --> 00:19:40.110\nNow, that anonymous one is kind of,\nhow do you authenticate anonymously?\n\n318\n00:19:40.110 --> 00:19:45.000\nIt's kinda slick, so essentially you\nget a session like you are a user, but\n\n319\n00:19:45.000 --> 00:19:46.842\nyou're not ever logged in.\n\n320\n00:19:46.842 --> 00:19:49.643\nAnd then that way if you\nwant to then become a user,\n\n321\n00:19:49.643 --> 00:19:53.970\nwhatever you've done inside\nthe app will then be persisted.\n\n322\n00:19:53.970 --> 00:19:57.960\nI'm not going to use this because I don't\nwant people to access the chatrooms until\n\n323\n00:19:57.960 --> 00:20:02.090\nthey have actually signed up and\nlogged in with our application.\n\n324\n00:20:02.090 --> 00:20:05.600\nBut we have all of these available,\nand well, that's pretty nice.\n\n325\n00:20:05.600 --> 00:20:08.720\nAnd what's interesting is\nFirebase also provides you\n\n326\n00:20:08.720 --> 00:20:11.110\nwith the ability to have password resets,\n\n327\n00:20:11.110 --> 00:20:16.110\nemail address change, SMS verifications,\nand email address verification.\n\n328\n00:20:16.110 --> 00:20:19.460\nThese are things that you would\nall have to kinda handle yourself.\n\n329\n00:20:19.460 --> 00:20:22.560\nYou build a back-end service that handles\nindividuals, someone signs up, well,\n\n330\n00:20:22.560 --> 00:20:23.530\nthey get put into a queue.\n\n331\n00:20:23.530 --> 00:20:26.570\nThen we send them an email,\nthen they click on the link in the email.\n\n332\n00:20:26.570 --> 00:20:31.080\nAnd that verifies in our database that\nthey have verified their email address.\n\n333\n00:20:31.080 --> 00:20:34.100\nWell, Firebase kinda has\nthat all covered for you.\n\n334\n00:20:34.100 --> 00:20:38.070\nSo authentication is going to be a key\npart of our application, that's handy.\n\n335\n00:20:38.070 --> 00:20:41.750\nThere are a great deal of other\nservices that we can use, and\n\n336\n00:20:41.750 --> 00:20:44.280\nwe may end up using hosting as well.\n\n337\n00:20:44.280 --> 00:20:49.530\nBut if we come over here to Database,\nif you've ever used a NoSQL database,\n\n338\n00:20:49.530 --> 00:20:54.080\nlike Mongo or Couchbase,\nif I'm not mistaken.\n\n339\n00:20:54.080 --> 00:21:01.680\nThen you'll kind of be aware of how\nFirebase collects and kinda saves data.\n\n340\n00:21:03.270 --> 00:21:06.123\nYou have just this giant JSON object tree.\n\n341\n00:21:06.123 --> 00:21:10.390\nNow I could put anything in here,\nand we'll see more about that later.\n\n342\n00:21:10.390 --> 00:21:12.964\nBut this is essentially\nan empty database and\n\n343\n00:21:12.964 --> 00:21:16.088\nnow we can have multiple\ncollections of information.\n\n344\n00:21:16.088 --> 00:21:20.956\nWhat's interesting though, is when this\nchanges, Firebase will actually send\n\n345\n00:21:20.956 --> 00:21:24.835\nout and let every other application\nthat's attached to it know,\n\n346\n00:21:24.835 --> 00:21:28.096\nhey something's changed,\nhere's the change data.\n\n347\n00:21:28.096 --> 00:21:31.604\nAnd then you can handle that and\nyou get real time updates.\n\n348\n00:21:31.604 --> 00:21:36.030\nThat way, if Peter says hey, and\nhe comes into our chat application.\n\n349\n00:21:36.030 --> 00:21:39.380\nAnd I'm not actively saying refresh,\nrefresh,\n\n350\n00:21:39.380 --> 00:21:41.510\nrefresh or refreshing on my screen.\n\n351\n00:21:41.510 --> 00:21:46.350\nIt will actually still pop up as\nlong as I've hooked into those\n\n352\n00:21:46.350 --> 00:21:52.040\non value methods or essentially,\nlistening for changes in the database.\n\n353\n00:21:52.040 --> 00:21:54.260\nIn addition to, we can set up rules.\n\n354\n00:21:54.260 --> 00:21:59.300\nYou'll notice right now the default\nrules are auth != null.\n\n355\n00:21:59.300 --> 00:22:01.820\nEssentially, if you're logged in,\nyou can read and write.\n\n356\n00:22:04.340 --> 00:22:06.770\nYou have backups so\nyou can actually backup.\n\n357\n00:22:06.770 --> 00:22:09.200\nNow this is not something that's for free.\n\n358\n00:22:09.200 --> 00:22:11.780\nWe've been talking about free tier stuff.\n\n359\n00:22:11.780 --> 00:22:17.270\nYou can save daily backups, okay,\nbut it is a paid for service.\n\n360\n00:22:17.270 --> 00:22:21.240\nAnd then usage, you can get,\nhey, some analytics,\n\n361\n00:22:21.240 --> 00:22:23.710\nlike how many simultaneous connections?\n\n362\n00:22:23.710 --> 00:22:26.670\nHow much are you using for\nstorage, how many downloads?\n\n363\n00:22:26.670 --> 00:22:29.301\nWhat is the load or 1% peak?\n\n364\n00:22:29.301 --> 00:22:31.255\nAnd that's for the current billing period.\n\n365\n00:22:31.255 --> 00:22:35.170\nNow, why would you need\nto know about storage?\n\n366\n00:22:35.170 --> 00:22:40.010\nWell you can actually use Firebase to\nstore things on the Google Cloud platform,\n\n367\n00:22:40.010 --> 00:22:41.770\nlike images and things of that nature.\n\n368\n00:22:41.770 --> 00:22:44.060\nWe won't necessarily be doing that.\n\n369\n00:22:44.060 --> 00:22:49.690\nBut also hosting assets or running\nfunctions that produce some kind of data.\n\n370\n00:22:49.690 --> 00:22:52.558\nMaybe you have this as a,\nsome shopping cart or\n\n371\n00:22:52.558 --> 00:22:57.420\nit's an Uber application where\nthey're always checking location.\n\n372\n00:22:57.420 --> 00:23:01.736\nAnd you have a function that runs\nperiodically as a batch process and\n\n373\n00:23:01.736 --> 00:23:03.867\noutputs that to Google storage.\n\n374\n00:23:03.867 --> 00:23:08.388\nAll right, to where you can go now I\nknow all the locations that were visited\n\n375\n00:23:08.388 --> 00:23:11.890\nthroughout the day for the last 24 hours.\n\n376\n00:23:11.890 --> 00:23:13.890\nAnd then over time those will accumulate.\n\n377\n00:23:13.890 --> 00:23:17.010\nSo this is the platform we're\ngonna use as our back-end, and\n\n378\n00:23:17.010 --> 00:23:20.150\nessentially it's a back-end as a service.\n\n379\n00:23:20.150 --> 00:23:24.270\nBut the most important two\npieces are authentication and\n\n380\n00:23:24.270 --> 00:23:26.540\nthe database that we'll be using.\n\n381\n00:23:26.540 --> 00:23:29.805\nLuckily, there's a Node module that\nwill allow us to set this up and\n\n382\n00:23:29.805 --> 00:23:31.139\nintegrate fairly easily.\n\n383\n00:23:31.139 --> 00:23:35.712\nThere are still some tricky parts,\nbut now that we have this set up,\n\n384\n00:23:35.712 --> 00:23:37.570\nwe're good to go, Peter.\n\n385\n00:23:37.570 --> 00:23:39.710\nI think we're on to our next piece, but\n\n386\n00:23:39.710 --> 00:23:42.900\nI'm pretty sure it will take a little\nbit longer than we have in this episode.\n\n387\n00:23:42.900 --> 00:23:44.925\n&gt;&gt; So I just want to clarify here, Justin,\n\n388\n00:23:44.925 --> 00:23:47.380\nwe had the ready-made pie\ncrust there in React.\n\n389\n00:23:47.380 --> 00:23:50.918\nAnd now you're basically just\ngoing over to Firebase and\n\n390\n00:23:50.918 --> 00:23:52.840\ngrabbing a can of pie filling.\n\n391\n00:23:52.840 --> 00:23:56.260\nYou got it all ready to go,\nwe're just plugging pieces together.\n\n392\n00:23:56.260 --> 00:23:59.620\n&gt;&gt; Exactly, and people are like,\nwell, I don't wanna do it myself.\n\n393\n00:23:59.620 --> 00:24:02.336\nThat's fine, except Firebase and\n\n394\n00:24:02.336 --> 00:24:07.506\nReact have a great number of\nengineers perfecting how things work.\n\n395\n00:24:07.506 --> 00:24:11.075\nSo nothing wrong with writing your own.\n\n396\n00:24:11.075 --> 00:24:15.052\nMaybe it's best to experience it by\na ready-made solutions first, right?\n\n397\n00:24:15.052 --> 00:24:17.845\nIf you're like, I don't know if\nthis cherry pie tastes right, but\n\n398\n00:24:17.845 --> 00:24:20.801\nif you have had pre-made cherry,\nyou're like, it's kinda like it.\n\n399\n00:24:20.801 --> 00:24:24.040\nIt doesn't mean it's better,\nor maybe it's not.\n\n400\n00:24:24.040 --> 00:24:30.354\nNow the one big selling point for\nthese ready-made back-end as a service,\n\n401\n00:24:30.354 --> 00:24:35.620\nit abstracts away, but\nprovides a great deal of power.\n\n402\n00:24:35.620 --> 00:24:39.936\nA single developer can become incredibly\nproductive by not having to worry about,\n\n403\n00:24:39.936 --> 00:24:42.170\nokay I need to write these REST endpoints.\n\n404\n00:24:42.170 --> 00:24:45.638\nOr I need to write this GraphQL endpoint,\nor I need to set up this database,\n\n405\n00:24:45.638 --> 00:24:47.133\nI need to back up this database.\n\n406\n00:24:47.133 --> 00:24:49.271\nAll of that is a part of\nthe Firebase platform.\n\n407\n00:24:49.271 --> 00:24:54.159\nNow, with that said, typically you're\ngoing to have some locking if you rely\n\n408\n00:24:54.159 --> 00:24:58.570\non those services exclusively and\nyou don't decouple those up.\n\n409\n00:24:58.570 --> 00:24:59.270\nFull disclosure,\n\n410\n00:24:59.270 --> 00:25:03.150\nwe're probably going to have some coupling\nto Firebase within our application.\n\n411\n00:25:03.150 --> 00:25:06.855\n&gt;&gt; Yeah, so we're able to spend our time\nrather than setting up all these things\n\n412\n00:25:06.855 --> 00:25:10.230\nahead of time, just the logistics\nthat we need to build this project.\n\n413\n00:25:10.230 --> 00:25:13.110\nWell, we can use that time to kinda\ncustomize is what you're saying.\n\n414\n00:25:13.110 --> 00:25:14.110\n&gt;&gt; Exactly.\n&gt;&gt; And that's\n\n415\n00:25:14.110 --> 00:25:17.560\nprobably what we'll start doing\nin some future episodes here.\n\n416\n00:25:17.560 --> 00:25:19.530\nBut like Justin said,\nwe're out of time for this one.\n\n417\n00:25:19.530 --> 00:25:22.610\nSo, we're gonna go ahead and\nsign off now for DevPro TV.\n\n418\n00:25:22.610 --> 00:25:24.370\nI've been your host Peter VanRysdam.\n\n419\n00:25:24.370 --> 00:25:25.450\n&gt;&gt; And I'm Justin Dennison.\n\n420\n00:25:25.450 --> 00:25:26.229\n&gt;&gt; And we'll see you next time.\n\n421\n00:25:26.229 --> 00:25:31.998\n[MUSIC]\n\n",
          "vimeoId": "229847092"
        },
        {
          "description": "Now that the foundation is ready, Peter and Justin begin coding a chat app. The first step is to configure the signup component using the tools provided in Firebase. Justin will review the different options available and review the pros and cons of each.",
          "length": "1865",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-2-1-building_the_signup_component-081417-PGM.00_33_25_07.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-2-1-building_the_signup_component-081417-PGM.00_33_25_07.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-2-1-building_the_signup_component-081417-PGM.00_33_25_07.Still001-sm.jpg",
          "title": "Building the Signup Component",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:13.297 --> 00:00:15.243\nHello and welcome to DevPro.Tv.\n\n3\n00:00:15.243 --> 00:00:18.750\nI'm your host speaker Peter Van and\nRysdam, and today, we're continuing with\n\n4\n00:00:18.750 --> 00:00:21.703\nour series of creating a chat\napplication with React and Firebase.\n\n5\n00:00:21.703 --> 00:00:24.392\nAnd here to help us, we have Mr.\nJustin Dennison.\n\n6\n00:00:24.392 --> 00:00:25.288\nAnd Justin, how are you doing?\n\n7\n00:00:25.288 --> 00:00:26.724\n&gt;&gt; I am doing fantastic, Peter.\n\n8\n00:00:26.724 --> 00:00:27.711\nAnd how are you today?\n\n9\n00:00:27.711 --> 00:00:30.540\n&gt;&gt; I'm doing great and I'm really excited\ncuz today we're talking about kind of\n\n10\n00:00:30.540 --> 00:00:33.510\ndoing that user sign-up and\nauthentication, correct?\n\n11\n00:00:33.510 --> 00:00:35.020\n&gt;&gt; That is where we're going today.\n\n12\n00:00:35.020 --> 00:00:37.940\nSo, let me step back a little\nbit before we even talk about\n\n13\n00:00:37.940 --> 00:00:40.000\nthe implementation details, right?\n\n14\n00:00:40.000 --> 00:00:43.570\nSo, when you go to a website that\nrequires you to be logged in,\n\n15\n00:00:43.570 --> 00:00:47.480\none of the first things you have\nto do is to sign up, right?\n\n16\n00:00:47.480 --> 00:00:49.650\nSo in order to login,\nyou have to have an account.\n\n17\n00:00:49.650 --> 00:00:51.271\nSo we need to sign up first.\n\n18\n00:00:51.271 --> 00:00:53.740\nSo that's our first kind of exploration.\n\n19\n00:00:53.740 --> 00:00:57.616\nNow, well just closure,\nwe're kinda gonna mock up some of\n\n20\n00:00:57.616 --> 00:01:01.724\nthe authentication because not\nonly that do we need to sign up,\n\n21\n00:01:01.724 --> 00:01:06.684\nwe need to login, we also need a couple\nof pieces of information before we can\n\n22\n00:01:06.684 --> 00:01:11.680\nbring in Firebase to fully go\nthrough the authentication workflow.\n\n23\n00:01:11.680 --> 00:01:16.248\nSo, our main goal is to get everything\nin place so that we can use it.\n\n24\n00:01:16.248 --> 00:01:17.253\nAnd you never know,\n\n25\n00:01:17.253 --> 00:01:20.754\nsometimes the best plans end up being\nnot necessarily the best plans.\n\n26\n00:01:20.754 --> 00:01:23.023\nYou thought they were great but\nthey weren't.\n\n27\n00:01:23.023 --> 00:01:26.170\nSo, let's go ahead and\nbuild that sign-up component.\n\n28\n00:01:26.170 --> 00:01:29.910\nBut again, we're just kinda mocking\nin some of these individual pieces.\n\n29\n00:01:29.910 --> 00:01:31.510\nSo, let's take a look at my screen here.\n\n30\n00:01:31.510 --> 00:01:33.280\nAnd well, quick review.\n\n31\n00:01:33.280 --> 00:01:37.170\nIt's just the React application\nthat was from episode one.\n\n32\n00:01:37.170 --> 00:01:39.280\nYou should definitely go check that out.\n\n33\n00:01:39.280 --> 00:01:44.210\nWell, we just generated this with\ncreateReactApp, the mpm tool.\n\n34\n00:01:44.210 --> 00:01:50.252\nNow this app component that's\npretty much our entire application.\n\n35\n00:01:50.252 --> 00:01:52.449\nIf we come over here it's still running.\n\n36\n00:01:52.449 --> 00:01:57.040\nAnd its just little spanner and\nwelcome to React and\n\n37\n00:01:57.040 --> 00:02:02.437\nit already changed this,\nwelcome to DevPro, like so.\n\n38\n00:02:02.437 --> 00:02:07.679\nI want to change this and\nit will actually refresh, so that's good.\n\n39\n00:02:07.679 --> 00:02:11.972\nBut we're gonna build a separate component\nand well, kind of show somethings that\n\n40\n00:02:11.972 --> 00:02:16.018\nyou need to be aware of because there\nare maybe some new features here, some new\n\n41\n00:02:16.018 --> 00:02:20.283\nlanguage features from JavaScript, some\nnew things that you may not know about.\n\n42\n00:02:20.283 --> 00:02:22.392\nAgain, you should be aware of JavaScript,\n\n43\n00:02:22.392 --> 00:02:24.616\nyou should have a pretty\ngood understanding,\n\n44\n00:02:24.616 --> 00:02:28.274\nbut you never know you may come up on\nsome, hey I've never seen that before.\n\n45\n00:02:28.274 --> 00:02:29.853\nSo, let's think about this.\n\n46\n00:02:29.853 --> 00:02:31.867\nWhat do I want in a sign up component?\n\n47\n00:02:31.867 --> 00:02:36.817\nWell if I come and look at Firebase,\njust at this authentication portion, and\n\n48\n00:02:36.817 --> 00:02:40.430\nI look in sign in methods,\nemail and password.\n\n49\n00:02:40.430 --> 00:02:44.830\nSo at the very least, I need a form\nthat takes an email and a password.\n\n50\n00:02:44.830 --> 00:02:48.500\nAnd then from that email and\npassword, I can then sign up.\n\n51\n00:02:48.500 --> 00:02:52.940\nNow, in order to do that we're\ngoing to build a sign up component.\n\n52\n00:02:52.940 --> 00:02:56.190\nNow that sign up component is\ngoing to have an on sign up.\n\n53\n00:02:57.420 --> 00:03:00.030\nAnd then that's gonna be passed\ndown from this app component.\n\n54\n00:03:00.030 --> 00:03:05.830\nSo an app component is kind of the parent,\nthe overseer of all of our application.\n\n55\n00:03:05.830 --> 00:03:10.390\nAnd then our individual components are\ngoing to be inside of that app component.\n\n56\n00:03:11.390 --> 00:03:14.761\nSo, let's go ahead and\ntalk about that just for a moment.\n\n57\n00:03:14.761 --> 00:03:18.582\nApp extends component let's just\nsay we have some state here and\n\n58\n00:03:18.582 --> 00:03:22.841\nwhat is state its kinda of like\nthe internal memory of the application.\n\n59\n00:03:22.841 --> 00:03:27.900\nI'm gonna say the state for\nthis app component is,\n\n60\n00:03:27.900 --> 00:03:32.540\nlogged, or actually, has signed on.\n\n61\n00:03:32.540 --> 00:03:37.140\nSo, we will end up taking this away but\non load I'm gonna say,\n\n62\n00:03:37.140 --> 00:03:40.910\nis signed up as false,\nbecause we haven't signed up any.\n\n63\n00:03:42.020 --> 00:03:48.522\nIn addition to, I'm going to remove all\nof this and I'm gonna remove App.css.\n\n64\n00:03:48.522 --> 00:03:53.806\nWe're gonna go very plain, so-to-speak,\n\n65\n00:03:53.806 --> 00:04:00.993\nand all I'm going to say is,\nJason.stringify, stringify.\n\n66\n00:04:00.993 --> 00:04:04.190\nAnd we're gonna say this.state.\n\n67\n00:04:04.190 --> 00:04:07.620\nSo that's actually the app's memory.\n\n68\n00:04:07.620 --> 00:04:11.380\nAnd then we're gonna add these two\nother parameters just for some spacing.\n\n69\n00:04:11.380 --> 00:04:12.770\nNow I'm gonna add a pre tag here.\n\n70\n00:04:14.300 --> 00:04:22.145\nJust to get things all spaced out instead\nof them being kind of mashed together.\n\n71\n00:04:22.145 --> 00:04:25.580\nSo, this too helps with\nspacing internally,\n\n72\n00:04:25.580 --> 00:04:30.710\nbut the pre tag will preserve that\nspacing inside of the application.\n\n73\n00:04:30.710 --> 00:04:34.830\nSo if we come over here and we look at\nour React app, has signed up is false.\n\n74\n00:04:34.830 --> 00:04:36.830\nSo that is now our application.\n\n75\n00:04:36.830 --> 00:04:41.240\nWe have gotten rid of a bunch of it.\n\n76\n00:04:41.240 --> 00:04:44.120\nSo I've taken that out of app, but\n\n77\n00:04:44.120 --> 00:04:49.480\nin addition to I need to hop over into\nmy command line and kill this process.\n\n78\n00:04:49.480 --> 00:04:54.300\nAnd go into source and look,\nI no longer want that logo so\n\n79\n00:04:54.300 --> 00:04:57.710\nI'm gonna remove that and\njust because that was generated for\n\n80\n00:04:57.710 --> 00:05:00.750\nus by CreateReactApp,it doesn't\nmean we have to keep it.\n\n81\n00:05:00.750 --> 00:05:04.960\nI'm gonna keep the rest of it,\njust because\n\n82\n00:05:04.960 --> 00:05:09.570\nwe may change app.css we may\nchange index.css at a later time.\n\n83\n00:05:09.570 --> 00:05:11.810\nSo I'm just gonna leave those alone for\nnow.\n\n84\n00:05:13.270 --> 00:05:16.130\nBut where are we going to\nput our sign up component?\n\n85\n00:05:16.130 --> 00:05:19.090\nWe could put it just right here, right?\n\n86\n00:05:19.090 --> 00:05:20.900\nWe could just type in some HTML.\n\n87\n00:05:20.900 --> 00:05:26.228\nBut the ultimate goal is to\nhave something like this.\n\n88\n00:05:26.228 --> 00:05:28.682\nSign-up form.\n\n89\n00:05:28.682 --> 00:05:31.010\nAnd now if I come in and\nshow this to Peter.\n\n90\n00:05:31.010 --> 00:05:33.821\nMaybe he doesn't know all\nthe implementation details but\n\n91\n00:05:33.821 --> 00:05:36.413\nhe goes, in your app your\ngonna have a sign up form.\n\n92\n00:05:36.413 --> 00:05:38.606\nAnd that's the ultimate\ndeclarative syntax,\n\n93\n00:05:38.606 --> 00:05:41.245\nthat's the entire purpose\nof this declarative syntax.\n\n94\n00:05:41.245 --> 00:05:42.980\nHey, it's a sign-up form.\n\n95\n00:05:42.980 --> 00:05:43.640\nWhat is it do?\n\n96\n00:05:43.640 --> 00:05:45.370\nProbably assigned job.\n\n97\n00:05:45.370 --> 00:05:47.670\nBut that's just a guess, right?\n\n98\n00:05:47.670 --> 00:05:48.890\nWe have to make that happen.\n\n99\n00:05:50.430 --> 00:05:52.140\nSo we want this sign up form.\n\n100\n00:05:52.140 --> 00:05:58.860\nIf I was to restart this, like so,\nmpm start, and we have this rebuild.\n\n101\n00:05:58.860 --> 00:06:04.130\nWe will actually see that\nthings are going to go array.\n\n102\n00:06:04.130 --> 00:06:04.835\nFailed to compile.\n\n103\n00:06:04.835 --> 00:06:09.780\nAgain that's because that's stuff that\nlooks like HTML is not really HTML.\n\n104\n00:06:09.780 --> 00:06:13.910\nIt's being changed into\nJavaScript data structures.\n\n105\n00:06:13.910 --> 00:06:15.890\nSo the sign up form is not defined.\n\n106\n00:06:17.190 --> 00:06:17.841\nSearch for keywords.\n\n107\n00:06:17.841 --> 00:06:20.632\nWhere does that occur?\n\n108\n00:06:20.632 --> 00:06:23.060\nIf you come up here,\nsign up form's not defined.\n\n109\n00:06:23.060 --> 00:06:24.420\nOkay.\nThanks.\n\n110\n00:06:24.420 --> 00:06:25.720\nI'm gonna scroll down.\n\n111\n00:06:25.720 --> 00:06:27.030\nSign up form is not defined.\n\n112\n00:06:27.030 --> 00:06:29.060\nAll right, so we've got it.\n\n113\n00:06:29.060 --> 00:06:31.000\nSign up form is not defined.\n\n114\n00:06:31.000 --> 00:06:32.180\nWhy is it not defined?\n\n115\n00:06:33.700 --> 00:06:37.240\nThat's because sign up form\ninside of this render function\n\n116\n00:06:37.240 --> 00:06:39.410\nhas to be a valid component.\n\n117\n00:06:39.410 --> 00:06:41.260\nHas to be valid jsx.\n\n118\n00:06:42.290 --> 00:06:47.691\nI could come up here and say import,\n\n119\n00:06:47.691 --> 00:06:53.830\nSignUpForm from '*/SignUpForm'.\n\n120\n00:06:53.830 --> 00:06:55.420\nNow notice these are in quotes.\n\n121\n00:06:55.420 --> 00:06:59.370\nYou could have never seen this\nimport syntax before, this is ES6 or\n\n122\n00:06:59.370 --> 00:07:01.275\nES2015 imports.\n\n123\n00:07:01.275 --> 00:07:05.286\nI'm importing the default\nimport from this module,\n\n124\n00:07:05.286 --> 00:07:09.050\nguess what still broke,\n\n125\n00:07:09.050 --> 00:07:13.082\nbecause sign up for\nmodule does not actually exist.\n\n126\n00:07:13.082 --> 00:07:16.340\nSignupForm.js doesn't\nexist with a valid export,\n\n127\n00:07:16.340 --> 00:07:19.410\nit just can not resolve ./SignupForm.\n\n128\n00:07:19.410 --> 00:07:23.683\nThat is a different error that\nusually means we are making progress.\n\n129\n00:07:23.683 --> 00:07:29.370\nSo if we come over here and\nlet's just kill that application here,\n\n130\n00:07:29.370 --> 00:07:31.817\nand then touch SignupForm.\n\n131\n00:07:31.817 --> 00:07:37.698\nNow this touch command is very Linux and\nmacOS centric, Windows individuals,\n\n132\n00:07:37.698 --> 00:07:43.600\nyou can definitely right click and\nadd them, and just create SignupForm.js.\n\n133\n00:07:43.600 --> 00:07:49.260\nSo here we go, and\nI'm going to mpm start just like so\n\n134\n00:07:49.260 --> 00:07:51.200\nand I wonder if it's going to work.\n\n135\n00:07:52.310 --> 00:07:53.200\nWait for it.\n\n136\n00:07:53.200 --> 00:07:55.340\nNo, it's broke.\n\n137\n00:07:55.340 --> 00:07:56.760\nCreed element type is invalid.\n\n138\n00:07:56.760 --> 00:07:58.670\ninspect to the stream or a class function.\n\n139\n00:07:58.670 --> 00:07:59.685\nGot an object.\n\n140\n00:07:59.685 --> 00:08:02.323\nSo sign up form.\n\n141\n00:08:02.323 --> 00:08:03.132\n&gt;&gt; That's a new error though.\n\n142\n00:08:03.132 --> 00:08:03.698\n&gt;&gt; That's a new error.\n\n143\n00:08:03.698 --> 00:08:04.227\n&gt;&gt; That's a win.\n\n144\n00:08:04.227 --> 00:08:06.850\n&gt;&gt; So we're making progress.\n\n145\n00:08:06.850 --> 00:08:07.418\nPeter's learning.\n\n146\n00:08:07.418 --> 00:08:08.028\nThere we go.\n\n147\n00:08:08.028 --> 00:08:10.850\nWe're doing our jobs here.\n\n148\n00:08:10.850 --> 00:08:17.833\nHow do I make this actually like something\nthat will stop errors from happening?\n\n149\n00:08:17.833 --> 00:08:22.538\nWe now get to essentially reproduce what\nwe saw in the APP component when we're\n\n150\n00:08:22.538 --> 00:08:24.190\nbuilding our sign up form.\n\n151\n00:08:25.360 --> 00:08:31.260\nThe ultimate goal is to segment your\napplications into these tiny little pieces\n\n152\n00:08:31.260 --> 00:08:38.040\nwhere I can go, sign up form,\nlogin form, rooms list, or messages.\n\n153\n00:08:38.040 --> 00:08:41.510\nOr message list to where it's very\ndeclarative and I can read about it\n\n154\n00:08:41.510 --> 00:08:46.050\nthat doesn't mean that the implementation\ndetails are, well, easy, right?\n\n155\n00:08:46.050 --> 00:08:49.380\nSo if we open up our little sidebar here,\nand we came into sign-up form.\n\n156\n00:08:51.050 --> 00:08:52.430\nWell, how do we get started?\n\n157\n00:08:52.430 --> 00:08:58.515\nWell, we're going to import React and\ncomponent,\n\n158\n00:08:58.515 --> 00:09:03.364\nfrom the React package like that, okay?\n\n159\n00:09:03.364 --> 00:09:07.643\nSo this React portion, we'll see why\nthat's important because you're gonna see\n\n160\n00:09:07.643 --> 00:09:10.080\nI'm not actually going\nto use it explicitly.\n\n161\n00:09:10.080 --> 00:09:13.112\nBut this component portion is essentially\n\n162\n00:09:13.112 --> 00:09:17.752\nallow us to build a React component\nusing a class-based syntax.\n\n163\n00:09:17.752 --> 00:09:19.500\nIt's not the only way we\ncan build a component.\n\n164\n00:09:20.590 --> 00:09:25.352\nWe may find that it doesn't serve\na purpose and we'll do refactor.\n\n165\n00:09:25.352 --> 00:09:27.678\nBut this class,\none of the extends component so\n\n166\n00:09:27.678 --> 00:09:31.010\nthen React's like,\nit's going to have a render function.\n\n167\n00:09:31.010 --> 00:09:33.430\nIt's going to have a component did mail,\n\n168\n00:09:33.430 --> 00:09:36.900\ncomponent should update,\nsome of these lab cycle methods.\n\n169\n00:09:36.900 --> 00:09:39.000\nAnd we'll talk more in depth about those.\n\n170\n00:09:39.000 --> 00:09:42.533\nSo import it as, okay,\nexpecting it export default.\n\n171\n00:09:42.533 --> 00:09:44.750\nSo let's continue our sign up form.\n\n172\n00:09:46.290 --> 00:09:52.618\nI'm gonna create a class called\nSignUpForm and that extends Component and\n\n173\n00:09:52.618 --> 00:09:57.753\nat the very least components\nhave to have a render function.\n\n174\n00:09:57.753 --> 00:10:03.903\nSo here is our render function and I'll\njust use my event keybinding there and\n\n175\n00:10:03.903 --> 00:10:08.171\nall render functions are going\nto return a valid JSX.\n\n176\n00:10:08.171 --> 00:10:12.139\nNow let's just do this h1 and\n\n177\n00:10:12.139 --> 00:10:17.392\nlet's say SignupForm as such, okay.\n\n178\n00:10:17.392 --> 00:10:22.007\nNow, this is still broken because\nI have to export SignupForm,\n\n179\n00:10:22.007 --> 00:10:27.310\nthe component from the module in\norder to import it to another place.\n\n180\n00:10:27.310 --> 00:10:29.150\nSo export default, and\n\n181\n00:10:29.150 --> 00:10:33.790\nwhat default's going to do is allow this\nimport without the destructuring syntax.\n\n182\n00:10:35.340 --> 00:10:40.150\nSo export default SignUpForm, like so.\n\n183\n00:10:40.150 --> 00:10:42.435\nSo there we go, we have our SignUpForm.\n\n184\n00:10:42.435 --> 00:10:48.160\nAnd we should see, look at that, we have\nnow technically built our first component.\n\n185\n00:10:48.160 --> 00:10:50.040\nAnd this is more like just rinse and\nrepeat.\n\n186\n00:10:50.040 --> 00:10:54.992\nSo you'll see this a lot but then we'll\nstart adding these nuance differences\n\n187\n00:10:54.992 --> 00:10:58.280\nbetween what we need to get done and\nwhat's actually there.\n\n188\n00:10:58.280 --> 00:10:59.950\nSo right now this says H1.\n\n189\n00:11:01.600 --> 00:11:05.270\nSign up form, that doesn't really\nhelp us that's not actually-\n\n190\n00:11:05.270 --> 00:11:06.130\n&gt;&gt; That's not very,\n\n191\n00:11:06.130 --> 00:11:08.290\nvery much of a form I\ndon't think at this point.\n\n192\n00:11:08.290 --> 00:11:12.874\n&gt;&gt; So let's come under that H1 and\ncreate a form.\n\n193\n00:11:12.874 --> 00:11:19.581\nSo form, and, right now let's\njust say form, like so, okay?\n\n194\n00:11:19.581 --> 00:11:24.581\nSo and,\nlet's create an input of type text,\n\n195\n00:11:24.581 --> 00:11:29.056\nand this is going to be, placeholder for\n\n196\n00:11:29.056 --> 00:11:34.600\nthe email, and there we go,\nlet's just do that.\n\n197\n00:11:36.290 --> 00:11:38.994\nSo there's our form,\nshould work, everything is good,\n\n198\n00:11:38.994 --> 00:11:42.761\nwe now have our component up and going,\nand no, we have another error, Pete.\n\n199\n00:11:42.761 --> 00:11:48.272\nIt just seems like I just keep running\ninto errors, what's going on here?\n\n200\n00:11:48.272 --> 00:11:52.672\nWell, Adjacent JSX elements must\nbe wrapped in an enclosing tag.\n\n201\n00:11:52.672 --> 00:11:57.306\nAnd this is actually a common mistake\nthat people make when they're first\n\n202\n00:11:57.306 --> 00:11:59.632\nstarting to get things up and going.\n\n203\n00:11:59.632 --> 00:12:03.603\nThis H1 and\nthis form element are siblings.\n\n204\n00:12:03.603 --> 00:12:05.322\nIt's okay if they're siblings.\n\n205\n00:12:05.322 --> 00:12:10.306\nBut a return from a render function\nof a component can only return\n\n206\n00:12:10.306 --> 00:12:12.390\na single element.\n\n207\n00:12:12.390 --> 00:12:15.194\nSo I will have to wrap this in div or\n\n208\n00:12:15.194 --> 00:12:20.201\nmore likely I'm just going to\nget rid of this H1 like so, so\n\n209\n00:12:20.201 --> 00:12:26.712\nif I save that now,\nThere's our email input field, okay.\n\n210\n00:12:26.712 --> 00:12:31.728\nNow, let's go ahead and\nget this up and going.\n\n211\n00:12:31.728 --> 00:12:34.422\nSo let's get another input and\n\n212\n00:12:34.422 --> 00:12:39.840\nwhat else do we need in order\nto sign up with Firebase.\n\n213\n00:12:39.840 --> 00:12:42.203\nYou need a password.\n\n214\n00:12:42.203 --> 00:12:48.313\nAnd the placeholder is going to be,\npassword?\n\n215\n00:12:48.313 --> 00:12:50.822\n&gt;&gt; I feel like you didn't give\nme enough time to answer there.\n\n216\n00:12:50.822 --> 00:12:51.755\nI thought I had that.\n\n217\n00:12:51.755 --> 00:12:54.167\n&gt;&gt; Yeah,\nyou had to be on top of it there, Peter.\n\n218\n00:12:54.167 --> 00:12:55.315\nWhat should the placeholder be?\n\n219\n00:12:55.315 --> 00:12:56.893\n&gt;&gt; It should be password.\n\n220\n00:12:56.893 --> 00:12:58.770\n&gt;&gt; Yeah, you got it that time.\n\n221\n00:12:58.770 --> 00:13:00.741\nSometimes we all need Mulligans.\n\n222\n00:13:00.741 --> 00:13:07.156\nSo now that we have this form,\nwe have the input fields, right?\n\n223\n00:13:07.156 --> 00:13:09.190\nThat is interesting, all right.\n\n224\n00:13:09.190 --> 00:13:12.546\nWell, we're gonna go with that,\nbecause it just keeps going backwards.\n\n225\n00:13:12.546 --> 00:13:15.092\nA weird little editor glitch.\n\n226\n00:13:15.092 --> 00:13:18.670\nFinally, we do need a button\nin order to submit this form.\n\n227\n00:13:20.370 --> 00:13:27.403\nSo it's a type submit button,\nand there we go.\n\n228\n00:13:30.926 --> 00:13:33.130\nAnd well, we're just gonna say Sign Up.\n\n229\n00:13:34.530 --> 00:13:37.110\nWhen we come over here,\nwe now have a Sign Up form.\n\n230\n00:13:37.110 --> 00:13:41.900\nNow that's not exactly how I want it, but\nwe'll leave it there just for a moment.\n\n231\n00:13:41.900 --> 00:13:44.260\nSo has signed up is false.\n\n232\n00:13:44.260 --> 00:13:48.590\nNotice that I'm just printing that out so\nwe can keep an eye out for it.\n\n233\n00:13:48.590 --> 00:13:50.930\nSo if we have an email and a password,\n\n234\n00:13:50.930 --> 00:13:54.240\nwhen I click the Sign Up button,\nnotice it actually refreshes.\n\n235\n00:13:54.240 --> 00:13:58.290\nAnd that's because it's rendering a form\nthat has an action associated with it.\n\n236\n00:13:58.290 --> 00:13:59.860\nSo when I submit the form, typically,\n\n237\n00:13:59.860 --> 00:14:03.980\nthat's going to send it off to\nthe server and do something, right?\n\n238\n00:14:03.980 --> 00:14:10.640\nIt's either going to redirect us or say\nhey, you failed, you need to resign up.\n\n239\n00:14:10.640 --> 00:14:17.630\nWe don't particularly want that, but\nwe'll get with that, in just a moment.\n\n240\n00:14:17.630 --> 00:14:19.477\nLet me see if I can, there we go,\n\n241\n00:14:19.477 --> 00:14:22.431\nI don't know what was going\non the last time there.\n\n242\n00:14:22.431 --> 00:14:26.450\nSo now that we have our form,\nand it's in our app.js.\n\n243\n00:14:26.450 --> 00:14:31.288\nWhat we really want,\nwhen we sign up on this form,\n\n244\n00:14:31.288 --> 00:14:35.219\nwe really want the state here to update.\n\n245\n00:14:35.219 --> 00:14:38.904\nOkay, we want to onSignup,\n\n246\n00:14:38.904 --> 00:14:43.528\nlike so, we want to handleSignup.\n\n247\n00:14:43.528 --> 00:14:47.003\nSo this .handle,\n\n248\n00:14:47.003 --> 00:14:52.002\nit is in the app component.\n\n249\n00:14:52.002 --> 00:14:55.930\nWell, how is that going to work onSignup.\n\n250\n00:14:55.930 --> 00:14:57.660\nThis.handle sign up.\n\n251\n00:14:59.160 --> 00:15:03.129\nSo we need to write this function\nhere because this is gonna\n\n252\n00:15:03.129 --> 00:15:05.235\nhandle our actual signing up.\n\n253\n00:15:05.235 --> 00:15:10.005\nIf I come over here,\nI'm gonna say handle.sign up equals and\n\n254\n00:15:10.005 --> 00:15:12.220\nit's gonna take the event.\n\n255\n00:15:13.398 --> 00:15:18.470\nAnd I know that this is going to be\nan event because all of my actions\n\n256\n00:15:18.470 --> 00:15:21.740\nare going to be through forms or through\nbutton clicks or some kind of a events.\n\n257\n00:15:21.740 --> 00:15:23.760\nSo I'm always gonna take the event.\n\n258\n00:15:23.760 --> 00:15:26.650\nI could rebind this but I like this.\n\n259\n00:15:26.650 --> 00:15:32.017\nAlso I'm using this handy trick,\nhandleSignUp = this is inside of a class,\n\n260\n00:15:32.017 --> 00:15:37.386\nbut you know this is an event handler,\nI can now preserve the context of this,\n\n261\n00:15:37.386 --> 00:15:41.622\nof the keyword this by using\nthis fat arrow function as such.\n\n262\n00:15:41.622 --> 00:15:46.759\nSo let's just say every\ntime handleSignUp runs,\n\n263\n00:15:46.759 --> 00:15:51.163\nthis is App Component, and this.state,\n\n264\n00:15:51.163 --> 00:15:55.952\nthe state of the application,\nwhat do we see.\n\n265\n00:15:55.952 --> 00:16:00.733\nThis is just a console log Now, if we\ncome over here and refresh, just to make\n\n266\n00:16:00.733 --> 00:16:05.668\nsure everything's refreshed, if I hit\nsign up, notice it's not actually,\n\n267\n00:16:05.668 --> 00:16:10.079\neven just for a moment, it's not\nprinting anything to the console and\n\n268\n00:16:10.079 --> 00:16:16.340\nthat's because the sign up button, that's\nnot actually using this handle sign up.\n\n269\n00:16:16.340 --> 00:16:23.673\nI want to delegate this function,\nthis onSignUp function,excuse me, event.\n\n270\n00:16:23.673 --> 00:16:30.090\nI wanna delegate handle sign up to\nbe handled when we sign up, right?\n\n271\n00:16:30.090 --> 00:16:35.060\nSo if you came over here to sign up form,\nI wanna share you something here real\n\n272\n00:16:35.060 --> 00:16:40.326\nquick, there's this.props like so,\n\n273\n00:16:40.326 --> 00:16:45.510\nand if we look this .props, those\nare the properties that are passed in.\n\n274\n00:16:45.510 --> 00:16:49.242\nThey kind of look like HTML attributes or\n\n275\n00:16:49.242 --> 00:16:54.303\nproperties on sign up is a property and\nit says it's f.\n\n276\n00:16:54.303 --> 00:16:55.290\nWhat is f?\n\n277\n00:16:56.330 --> 00:17:01.630\nWell, it's the function that we're\npassing through in particular,\n\n278\n00:17:01.630 --> 00:17:06.306\nit is the handle sign up function and\nif we hover over it like so,\n\n279\n00:17:06.306 --> 00:17:10.496\nit says\nconsole.log/AppComponent_this.state.\n\n280\n00:17:10.496 --> 00:17:16.145\nNow, there is that under score there and\nthat's some bundling magic and\n\n281\n00:17:16.145 --> 00:17:21.510\nrenaming, so how do we get that function?\n\n282\n00:17:21.510 --> 00:17:26.670\nActually, be what's run in the context\nof our sign up form all throughout\n\n283\n00:17:26.670 --> 00:17:31.600\noverall app state which should be,\nwell, signing me up.\n\n284\n00:17:31.600 --> 00:17:33.500\nBecause every time I click,\n\n285\n00:17:33.500 --> 00:17:37.500\nI should either see a print out,\nnot the print out of the prompts.\n\n286\n00:17:37.500 --> 00:17:42.080\nBut I should see this kind of turn on or\n\n287\n00:17:42.080 --> 00:17:45.475\nI should see app component\nthis.state printout in the console.\n\n288\n00:17:45.475 --> 00:17:52.320\nSo we come over here,\nHow do I get that there?\n\n289\n00:17:53.500 --> 00:17:55.130\nWell, I'm cancel logging .props.\n\n290\n00:17:56.270 --> 00:18:00.741\nWell, this .props has an on sign up,\nwhich is that function handles sign up and\n\n291\n00:18:00.741 --> 00:18:04.640\nit's being loaned to this job\ncomponent from the parent component.\n\n292\n00:18:05.700 --> 00:18:07.926\nSo how do we handle that?\n\n293\n00:18:07.926 --> 00:18:14.628\nI can say,\nonSubmit which is an event on our form,\n\n294\n00:18:14.628 --> 00:18:19.902\nand I can say this.props.onSignUp.\n\n295\n00:18:19.902 --> 00:18:25.953\nSo I want you to run the onSignUp\nfunction when this form is submitted.\n\n296\n00:18:25.953 --> 00:18:30.170\nNow, I know that this form is gonna be\nsubmitted and it kind of refreshes things.\n\n297\n00:18:30.170 --> 00:18:38.580\nSo, for now, I'm going to prevent\nthe default action here in handle sign up.\n\n298\n00:18:38.580 --> 00:18:42.772\nAnd a lot of times in event handlers\nyou will see this e.preventDefault,\n\n299\n00:18:42.772 --> 00:18:46.556\na great deal of the time just to\nkeep things from kinda refreshing or\n\n300\n00:18:46.556 --> 00:18:50.769\nyou want to handle this yourself,\nyou don't want it to get crazy, okay?\n\n301\n00:18:50.769 --> 00:18:54.942\nSo we come over here,\nwell, if we say sign up,\n\n302\n00:18:54.942 --> 00:18:59.350\nlook at that, app component has signed up.\n\n303\n00:18:59.350 --> 00:19:03.480\nIt actually runs the function in\nthe context of the app component.\n\n304\n00:19:04.990 --> 00:19:08.164\nThis is something you will see in\na great deal of react applications.\n\n305\n00:19:08.164 --> 00:19:10.703\nNow, this isn't the only\nway to manage state,\n\n306\n00:19:10.703 --> 00:19:14.720\nthese are the first things that\nyou're like I'll see how that works.\n\n307\n00:19:15.730 --> 00:19:18.950\nOkay, now,\nreally we don't want to print out.\n\n308\n00:19:18.950 --> 00:19:24.780\nWe want to modify has sign up because\nif you have signed up that means\n\n309\n00:19:24.780 --> 00:19:30.360\nrealistically you have typed in a username\nand password, and then well, what do you?\n\n310\n00:19:31.600 --> 00:19:36.188\nWe've set it off to Firebase,\nand then you've comeback, and\n\n311\n00:19:36.188 --> 00:19:43.080\nthen you'd save that username,\nand then this handleSignUp works.\n\n312\n00:19:43.080 --> 00:19:45.920\nSo we may have to run that around,\nbut for now,\n\n313\n00:19:45.920 --> 00:19:48.406\nlet's just see if that\nwill update the state.\n\n314\n00:19:48.406 --> 00:19:55.210\nSo this .setState and\nsetState can either take an object or\n\n315\n00:19:55.210 --> 00:19:59.160\nthings that need to be updated\nyou have to use this method and\n\n316\n00:19:59.160 --> 00:20:05.390\nthis name is important, because this react\nis essentially watching the state object.\n\n317\n00:20:05.390 --> 00:20:08.490\nWhen state changes,\nit figures out what needs to rerender.\n\n318\n00:20:09.710 --> 00:20:12.650\nSetState is how you modify that so\n\n319\n00:20:12.650 --> 00:20:15.090\nreact will actually re-render\nthe parts that need to be update.\n\n320\n00:20:16.630 --> 00:20:21.712\nSetState can take an object,\nlike so, so state or\n\n321\n00:20:21.712 --> 00:20:26.674\nexcuse me, hasSignedUp,\nwhere you say, hey,\n\n322\n00:20:26.674 --> 00:20:33.332\nhasSignedUp could be whatever\nthis.state.hasSignedUp was,\n\n323\n00:20:33.332 --> 00:20:36.853\nbut the opposite likes up, okay.\n\n324\n00:20:36.853 --> 00:20:41.274\nSo this.state.hasSignedUp, so\nif it's false we gotta true.\n\n325\n00:20:41.274 --> 00:20:42.735\nIf it's true we gotta false.\n\n326\n00:20:42.735 --> 00:20:46.023\nSo let's check that out and\nsee that actually works, and\n\n327\n00:20:46.023 --> 00:20:48.639\nyou'll notice on a zoom\nin just a little bit.\n\n328\n00:20:49.830 --> 00:20:54.100\nEvery time I click sign up,\nit will actually do just that.\n\n329\n00:20:54.100 --> 00:20:55.845\nSo, hasSignedUp, true.\n\n330\n00:20:55.845 --> 00:20:58.972\nHasSignedUp, false, and\nit toggles back and forth.\n\n331\n00:20:58.972 --> 00:21:03.732\nNow, that's one way that\nwe can use setState,\n\n332\n00:21:03.732 --> 00:21:08.030\nbut you can also pass setState a function.\n\n333\n00:21:08.030 --> 00:21:12.990\nAnd this function is expecting\nyou to return the new state,.\n\n334\n00:21:12.990 --> 00:21:16.170\nYou get the old state and\nyou return the new state.\n\n335\n00:21:16.170 --> 00:21:20.240\nIt's almost like a reduction function,\nand actually,\n\n336\n00:21:20.240 --> 00:21:25.170\nif you further on or react,\nyou're here by the library called Redux or\n\n337\n00:21:25.170 --> 00:21:29.380\nthe Flux Architecture, I don't know if\nwe quite need it in this application.\n\n338\n00:21:31.500 --> 00:21:36.050\nBut this is kind of how to get the state,\nwhat am I doing, and\n\n339\n00:21:36.050 --> 00:21:37.650\nI get a new state out.\n\n340\n00:21:37.650 --> 00:21:42.080\nI'm not modifying the existing state,\nI should returning new state object.\n\n341\n00:21:43.460 --> 00:21:49.785\nAnd we're going to do that by well,\nlet see here, object newState,\n\n342\n00:21:49.785 --> 00:21:55.220\nObject.assign, and\n\n343\n00:21:55.220 --> 00:21:59.420\nI'm going to grab an empty object,\nand then pass it the old state.\n\n344\n00:21:59.420 --> 00:22:01.390\nNow, what I'm doing is I'm making a copy,\nso\n\n345\n00:22:01.390 --> 00:22:05.755\nI don't accidentally change the old state,\nokay.\n\n346\n00:22:05.755 --> 00:22:10.340\nSo by putting this into this\nnew state variable I now,\n\n347\n00:22:10.340 --> 00:22:14.310\nanything that was already in state\nis in this new state object.\n\n348\n00:22:14.310 --> 00:22:17.910\nBut I'm going through saying,\nthis is going to be immutable.\n\n349\n00:22:17.910 --> 00:22:22.430\nI'm going to treat this as state\nshould never be changed in place.\n\n350\n00:22:22.430 --> 00:22:28.140\nSo then I can say\nnewState.hasSignedUp = and\n\n351\n00:22:28.140 --> 00:22:35.570\nlet's just say not newState hasSignedUp.\n\n352\n00:22:35.570 --> 00:22:42.634\nOkay, so whatever it is, toggle it to the\nopposite one, and then return newState.\n\n353\n00:22:42.634 --> 00:22:47.334\nSo the set state can either take an object\nthat will tell it what to assign to what.\n\n354\n00:22:47.334 --> 00:22:51.978\nOr it can take a function that will\ncalculate the new state and return it back\n\n355\n00:22:51.978 --> 00:22:57.240\nout and react will then say hey, are these\ndifferent, re-render, great, okay?\n\n356\n00:22:57.240 --> 00:22:58.405\nSo let's see if that actually works,\n\n357\n00:22:58.405 --> 00:23:01.440\nbut I could just be telling\na bunch of tales, right?\n\n358\n00:23:01.440 --> 00:23:07.824\nSo sign up, true, false, true, false,\ntrue, false, still works exactly the same.\n\n359\n00:23:07.824 --> 00:23:12.277\nI like this function, because I can\nactually do some other things with\n\n360\n00:23:12.277 --> 00:23:16.410\nit other than just simple object,\nbut I do use both.\n\n361\n00:23:16.410 --> 00:23:21.790\nSo we have this handle sign up as being\nkind of delegated to the sign up form,\n\n362\n00:23:21.790 --> 00:23:22.620\nand it's signing up.\n\n363\n00:23:23.970 --> 00:23:28.798\nBut what and I sign up, I come over here,\n\n364\n00:23:28.798 --> 00:23:35.500\nI have this type='text'\nplaceholder='Email'.\n\n365\n00:23:35.500 --> 00:23:38.790\nI kind of need that\ninformation to sign up, right?\n\n366\n00:23:38.790 --> 00:23:44.810\nSo this component should also have state,\nso it is separate state.\n\n367\n00:23:44.810 --> 00:23:47.300\nThis will be separate\nstate to the component.\n\n368\n00:23:47.300 --> 00:23:49.663\nSo if I say state and what do I need?\n\n369\n00:23:49.663 --> 00:23:55.321\nIn this state, I need the email and\nlet's just say it's nothing,\n\n370\n00:23:55.321 --> 00:23:58.973\nand then I need the password Also nothing.\n\n371\n00:23:58.973 --> 00:24:01.522\nNow, this is one of those\nthings where its a little iffy.\n\n372\n00:24:01.522 --> 00:24:04.850\nWe're just doing this for\ndemonstrative purposes.\n\n373\n00:24:04.850 --> 00:24:07.820\nYou do, technically,\neven though it's blocked on the front end,\n\n374\n00:24:07.820 --> 00:24:10.570\nit's still technically,\nstored in plain text.\n\n375\n00:24:10.570 --> 00:24:15.410\nSo, boom, ship that off, get a hash,\nget a user logged in, back and forth,\n\n376\n00:24:15.410 --> 00:24:18.080\nalso should be through https.\n\n377\n00:24:18.080 --> 00:24:21.700\nNow, [COUGH] by changing this\nto a stateful component,\n\n378\n00:24:21.700 --> 00:24:26.553\nI can change these inputs\nto have a value based\n\n379\n00:24:26.553 --> 00:24:31.170\non this.state.email.\n\n380\n00:24:31.170 --> 00:24:36.361\nLikewise, I can have this value be\n\n381\n00:24:36.361 --> 00:24:41.913\non this.state.password, okay?\n\n382\n00:24:41.913 --> 00:24:47.546\nSo, let me wrap these around just for\n\n383\n00:24:47.546 --> 00:24:50.650\nnothing, I guess.\n\n384\n00:24:50.650 --> 00:24:54.245\nAnd here we go, so now I have\n\n385\n00:24:54.245 --> 00:24:59.346\nthis.state.email that's being pushed\nin into that input component.\n\n386\n00:24:59.346 --> 00:25:03.960\nTechnically, these are jsx, so I'm going\nto refer to those as components as well.\n\n387\n00:25:05.130 --> 00:25:08.002\nAnd then last, how do we update that?\n\n388\n00:25:08.002 --> 00:25:12.699\nLet's see, let say, handleChange.\n\n389\n00:25:12.699 --> 00:25:17.680\nAnd that's going to take and event.\n\n390\n00:25:18.990 --> 00:25:21.220\nAnd what is that event going to do?\n\n391\n00:25:21.220 --> 00:25:24.469\nWell, let's just say console.log.e.\n\n392\n00:25:24.469 --> 00:25:26.500\nSo, I just want to see what that is.\n\n393\n00:25:26.500 --> 00:25:29.499\nI don't actually have to prevent\ndefault here, because this isn't a form\n\n394\n00:25:29.499 --> 00:25:32.920\nsubmission, or button click, or\nsomething that's going to do that.\n\n395\n00:25:32.920 --> 00:25:37.085\nBut I can handle an on change,\nand you got to figure that out.\n\n396\n00:25:37.085 --> 00:25:43.350\nI can say this.handle, handleChange, okay?\n\n397\n00:25:43.350 --> 00:25:47.530\nSo on change, handle the change.\n\n398\n00:25:47.530 --> 00:25:53.170\nAll right, so let's go see what happens\nwhen I type inside an email now.\n\n399\n00:25:53.170 --> 00:25:56.450\nNotice there's a huge number of events.\n\n400\n00:25:56.450 --> 00:26:01.410\nThese are synthetic react events that\nare proxies to normal dom events.\n\n401\n00:26:01.410 --> 00:26:03.255\nSo I can console.log(e).\n\n402\n00:26:03.255 --> 00:26:07.073\nWhat about e.target.value?\n\n403\n00:26:07.073 --> 00:26:11.399\nWell, if I wait for\nit to refresh, then it's actually\n\n404\n00:26:11.399 --> 00:26:17.230\nthe letters that I'm getting\nkind of typed in there, right?\n\n405\n00:26:17.230 --> 00:26:19.130\nNow, there is one problem.\n\n406\n00:26:20.850 --> 00:26:24.910\nI can't use this handle change for\nboth the password and the email.\n\n407\n00:26:24.910 --> 00:26:29.900\nNow, just for simplicity and trying to\nhelp us understand what's going on,\n\n408\n00:26:29.900 --> 00:26:35.583\nI'm going to write two different functions\nthat are essentially the exact same thing,\n\n409\n00:26:35.583 --> 00:26:40.768\nexcept one little piece, so we can see\nokay, now I have these pieces together.\n\n410\n00:26:40.768 --> 00:26:44.540\nAnd on Sign Up,\nwe're going to leave it as is for now, but\n\n411\n00:26:44.540 --> 00:26:48.030\nwe'll see if we have\nto change that around.\n\n412\n00:26:48.030 --> 00:26:50.110\nSo.\nI'm going to say, updateEmail.\n\n413\n00:26:53.810 --> 00:26:57.570\nAnd onChange = this, or\n\n414\n00:26:57.570 --> 00:27:03.270\nnot, this.updatePassword.\n\n415\n00:27:03.270 --> 00:27:10.144\nAll right, so I'm going to write these\ntwo, updateEmail and updatePassword.\n\n416\n00:27:12.591 --> 00:27:17.912\nOkay, so instead of console.logging,\nwhat I want to grab is, well,\n\n417\n00:27:17.912 --> 00:27:23.589\nwhen I update the email, whatever\nthe target value, whatever comes in from\n\n418\n00:27:23.589 --> 00:27:28.757\nthe input field, I want to update\nby squishing it together, right?\n\n419\n00:27:28.757 --> 00:27:37.176\nSo, I'm going to say this.setState,\n\n420\n00:27:37.176 --> 00:27:41.304\nand I'm going to use that object, and\n\n421\n00:27:41.304 --> 00:27:49.581\nI'm going to say email is equal\nthis.state.email + e.target.value.\n\n422\n00:27:49.581 --> 00:27:54.489\nSo whatever was there, I pinned to it.\n\n423\n00:27:54.489 --> 00:27:59.843\nLikewise, for password, I'm going to\n\n424\n00:27:59.843 --> 00:28:05.562\nsay this.setState password,\n\n425\n00:28:05.562 --> 00:28:12.420\nthis.state.password + e.target.value,\nokay?\n\n426\n00:28:12.420 --> 00:28:15.692\nSo, because these are now wired\nto independent input fields,\n\n427\n00:28:15.692 --> 00:28:17.120\nthese should be updating.\n\n428\n00:28:17.120 --> 00:28:22.496\nNow, just to see if that is the case,\nevery time I run one of these,\n\n429\n00:28:22.496 --> 00:28:27.028\nI'm just going to say\nconsole.log(this.state).\n\n430\n00:28:27.028 --> 00:28:33.110\nI want to see what it is after,\nat the end of the function route.\n\n431\n00:28:33.110 --> 00:28:40.660\nSo, should have refreshed, and\nwe got some craziness here.\n\n432\n00:28:42.310 --> 00:28:43.912\nI think that was left over from-\n&gt;&gt; Yeah,\n\n433\n00:28:43.912 --> 00:28:45.586\nI think that is previous craziness.\n\n434\n00:28:45.586 --> 00:28:47.030\n&gt;&gt; Yeah.\n&gt;&gt; That has persisted, so.\n\n435\n00:28:47.030 --> 00:28:49.822\n&gt;&gt; Yeah, so let's refresh here.\n\n436\n00:28:49.822 --> 00:28:51.981\nWe got some shenanigans.\n\n437\n00:28:51.981 --> 00:28:55.166\n[SOUND] What do I got here?\n\n438\n00:28:55.166 --> 00:28:58.290\nThis.state.email, e.target.\n\n439\n00:28:58.290 --> 00:28:59.660\nWell, that should work.\n\n440\n00:29:01.110 --> 00:29:02.330\nInteresting.\n\n441\n00:29:02.330 --> 00:29:04.210\nYou know what?\nIt was compounding on itself.\n\n442\n00:29:05.330 --> 00:29:07.774\nI don't actually need this.\n\n443\n00:29:07.774 --> 00:29:11.360\nThere we go, but I think,\nI did lock up my browser.\n\n444\n00:29:14.110 --> 00:29:17.075\nAnd, see if I can get it to refresh.\n\n445\n00:29:17.075 --> 00:29:20.340\nI may have to kill the application.\n\n446\n00:29:22.150 --> 00:29:23.201\nNpn start.\n\n447\n00:29:23.201 --> 00:29:24.487\nAnd, wait for it.\n\n448\n00:29:24.487 --> 00:29:26.248\nWait for it.\n\n449\n00:29:26.248 --> 00:29:29.190\n&gt;&gt; [LAUGH]\n&gt;&gt; Cross your fingers, Peter.\n\n450\n00:29:30.390 --> 00:29:31.662\nLet's get out of there.\n\n451\n00:29:31.662 --> 00:29:32.990\nLet's open up a new tab.\n\n452\n00:29:34.180 --> 00:29:37.160\nAnd localhost 3000,\nhe's got his fingers crossed, folks.\n\n453\n00:29:40.130 --> 00:29:41.994\nAnd there we go.\n\n454\n00:29:41.994 --> 00:29:43.275\nLet's, boom.\n\n455\n00:29:43.275 --> 00:29:44.173\nThere we go.\n\n456\n00:29:44.173 --> 00:29:47.283\nThere we go.\n\n457\n00:29:47.283 --> 00:29:52.986\nIt was my, because I had the value also\nbeing placed back into the component,\n\n458\n00:29:52.986 --> 00:29:57.230\nthat was kinda putting itself\ninto an infinite loop.\n\n459\n00:29:57.230 --> 00:29:58.195\nTotally my fault.\nWhoopsie daisy.\n\n460\n00:29:58.195 --> 00:30:00.880\n&gt;&gt; You were just testing us.\n\n461\n00:30:00.880 --> 00:30:01.840\n&gt;&gt; I appreciate that.\n\n462\n00:30:01.840 --> 00:30:03.495\n&gt;&gt; Yeah, yeah.\nI was making sure you were paying\n\n463\n00:30:03.495 --> 00:30:04.003\nattention.\n\n464\n00:30:04.003 --> 00:30:05.420\n&gt;&gt; Yeah, I was going to say with the loop.\n\n465\n00:30:05.420 --> 00:30:06.090\n&gt;&gt; Yeah.\n\n466\n00:30:06.090 --> 00:30:06.600\n&gt;&gt; Yeah.\n\n467\n00:30:06.600 --> 00:30:10.510\nSo there, we have the initial\nsetup of our sign up component.\n\n468\n00:30:10.510 --> 00:30:14.160\nI know it's not quite complete, but\nwe're probably going to take a quick\n\n469\n00:30:14.160 --> 00:30:18.660\nlittle detour, like our login component,\nand then start bringing Firebase into\n\n470\n00:30:18.660 --> 00:30:22.660\nthe picture to start wiring these up,\nbecause I don't wanna get too deep here.\n\n471\n00:30:22.660 --> 00:30:28.080\nMainly, because we'll have to tweak\nsome things based on Firebase.\n\n472\n00:30:28.080 --> 00:30:28.861\n&gt;&gt; Sounds good.\nWell,\n\n473\n00:30:28.861 --> 00:30:33.049\nsounds like is probably a good place for\nus to go ahead and close out this one.\n\n474\n00:30:33.049 --> 00:30:36.495\nAnd then in the next episode\nwe'll get into going ahead and\n\n475\n00:30:36.495 --> 00:30:41.130\nbuilding that actual log in area,\nand see how this all goes together.\n\n476\n00:30:41.130 --> 00:30:44.980\nExciting to see it starting to get some\ncode there, and finally get rolling here.\n\n477\n00:30:44.980 --> 00:30:48.093\nSo, we're going to go ahead and\nsign off now or this episode.\n\n478\n00:30:48.093 --> 00:30:51.569\nBut for Devpro TV,\nI've been your host Peter VanRysdam.\n\n479\n00:30:51.569 --> 00:30:52.865\n&gt;&gt; And I'm Justin Denson.\n\n480\n00:30:52.865 --> 00:30:54.053\n&gt;&gt; And we will see you next time.\n\n481\n00:30:54.053 --> 00:30:58.251\n[MUSIC]\n\n",
          "vimeoId": "229846105"
        },
        {
          "description": "Now that people can sign up, we need to let them login with their new credentials. In this episode Peter and Justin show you how to create that component and the key differences from the registration component that was previously created.",
          "length": "1517",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-3-1-building_the_login_component-081417-PGM.00_27_54_25.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-3-1-building_the_login_component-081417-PGM.00_27_54_25.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-3-1-building_the_login_component-081417-PGM.00_27_54_25.Still001-sm.jpg",
          "title": "Building the Login Component",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:13.139 --> 00:00:15.089\nHello, and welcome to DevProTV.\n\n3\n00:00:15.089 --> 00:00:19.594\nI'm your host, Peter VanRysdam, and\ntoday we're continuing with our look at\n\n4\n00:00:19.594 --> 00:00:22.161\ncreating a chat app with React and\nFirebase.\n\n5\n00:00:22.161 --> 00:00:26.730\nAnd specifically in this episode today,\nwe're gonna be building the actual sign\n\n6\n00:00:26.730 --> 00:00:31.310\nin, login feature, and here to help us\nlearn all about that is Justin Dennison.\n\n7\n00:00:31.310 --> 00:00:32.370\nJustin, how you doing?\n\n8\n00:00:32.370 --> 00:00:34.135\n&gt;&gt; I am doing fantastic,\nPeter, and how are you today?\n\n9\n00:00:34.135 --> 00:00:38.935\n&gt;&gt; I'm fantastic as well, and so\nthe last time we did the sign up, and\n\n10\n00:00:38.935 --> 00:00:42.120\nnow if you signed up,\nyou can actually log in, so\n\n11\n00:00:42.120 --> 00:00:46.320\nI assume it's kinda the same process\nof creating that component there.\n\n12\n00:00:46.320 --> 00:00:48.970\n&gt;&gt; Well, Peter,\nyou are definitely right on track.\n\n13\n00:00:48.970 --> 00:00:51.697\nI'm gonna be honest with you,\nthere's a little bit of a rinse and\n\n14\n00:00:51.697 --> 00:00:53.740\nrepeat to some extent\nwith the login component.\n\n15\n00:00:53.740 --> 00:00:55.770\nBut I really wanted to instill\na few of these principles,\n\n16\n00:00:55.770 --> 00:00:58.855\nbuilding these first couple of components,\nbecause when we start integrating with\n\n17\n00:00:58.855 --> 00:01:02.350\nFirebase, some of the state and\nthings will get moved around a little bit.\n\n18\n00:01:02.350 --> 00:01:06.530\nSo we'll have to keep that in mind\nas we build this Login component.\n\n19\n00:01:06.530 --> 00:01:10.510\nNow, because this is so\nclose to the SignUp component,\n\n20\n00:01:10.510 --> 00:01:14.150\nmaybe a little bit shorter,\nmight be just a little bit of tweaks.\n\n21\n00:01:14.150 --> 00:01:19.537\nBut really need to instill event handlers,\ncreating JSX appropriate,\n\n22\n00:01:19.537 --> 00:01:24.273\nactual JSX,\nthat can compile an extended component.\n\n23\n00:01:24.273 --> 00:01:26.185\nSo, this is maybe pretty simple,\n\n24\n00:01:26.185 --> 00:01:30.100\nI've already seen it, it was in the last\nepisode, but if we have time, hopefully we\n\n25\n00:01:30.100 --> 00:01:34.280\ncan actually see if Firebase can be\nbrought in to our respective application.\n\n26\n00:01:34.280 --> 00:01:37.660\n&gt;&gt; Cuz what's really important here is not\njust seeing how we create this component,\n\n27\n00:01:37.660 --> 00:01:39.670\ncuz it's,like we said,\nit's a similar process,\n\n28\n00:01:39.670 --> 00:01:43.020\nbut how we then bring those\ntwo to actually work together.\n\n29\n00:01:43.020 --> 00:01:45.756\nSo once you've registered,\nthat information is stored somewhere and\n\n30\n00:01:45.756 --> 00:01:46.804\nyou are able to look at it and\n\n31\n00:01:46.804 --> 00:01:49.150\nmake sure a person is authenticated\nbefore they can sign in.\n\n32\n00:01:49.150 --> 00:01:51.213\n&gt;&gt; Right, exactly, exactly.\n\n33\n00:01:51.213 --> 00:01:54.957\nWe may actually see some state in\nthe parent component that is actually\n\n34\n00:01:54.957 --> 00:01:57.380\nmeaningful instead of like half signed up.\n\n35\n00:01:57.380 --> 00:02:01.800\nSo we'll talk about user IDs and\nthings of that nature, setting that up,\n\n36\n00:02:01.800 --> 00:02:07.400\nthinking about it, and then hopefully, if\nnot, we'll be seeing Firebase very soon.\n\n37\n00:02:07.400 --> 00:02:09.260\nSo let's go ahead and\ntake a look at my screen here.\n\n38\n00:02:09.260 --> 00:02:11.170\nAnd well, it was pretty simple.\n\n39\n00:02:11.170 --> 00:02:14.370\nThe SignUp component was\nfairly straightforward if\n\n40\n00:02:14.370 --> 00:02:16.320\nyou had some React experience.\n\n41\n00:02:16.320 --> 00:02:21.660\nThere was kind of a whirlwind\nof primer on React, and\n\n42\n00:02:22.740 --> 00:02:27.510\nwe had our standard component here,\nour app component, our higher level,\n\n43\n00:02:27.510 --> 00:02:34.340\nexcuse me, our parent component,\nthat had some state, and had handleSignUp.\n\n44\n00:02:34.340 --> 00:02:39.340\nAs a result, well,\nwe're just toggling that on and off.\n\n45\n00:02:39.340 --> 00:02:42.810\nWe don't ultimately wanna do that,\nso this may go away eventually,\n\n46\n00:02:42.810 --> 00:02:45.210\nso we'll have to think about that.\n\n47\n00:02:45.210 --> 00:02:49.450\nBut we have our SignUpForm, and\nonSignUp, we wanna handleSignUp.\n\n48\n00:02:49.450 --> 00:02:51.420\nWell, what about for login?\n\n49\n00:02:51.420 --> 00:02:56.002\nWell, LogInForm and onLogIn,\n\n50\n00:02:56.002 --> 00:02:59.570\nwe want to handleLogIn.\n\n51\n00:03:01.170 --> 00:03:02.027\nJust like so.\n\n52\n00:03:03.070 --> 00:03:06.110\nYou'll notice that these are very,\nvery similar, but\n\n53\n00:03:06.110 --> 00:03:09.250\nI wanted to come and\nsteal SignUpForm, onSignUp.\n\n54\n00:03:09.250 --> 00:03:12.530\nI made that up,\nthere's nothing magic about that.\n\n55\n00:03:12.530 --> 00:03:13.390\nI'm just saying,\n\n56\n00:03:13.390 --> 00:03:17.598\nthere's this property called onSignUp\nthat is going to be equal to a function.\n\n57\n00:03:17.598 --> 00:03:21.450\nNotice these curly braces,\nthis is saying this is actual JavaScript.\n\n58\n00:03:22.890 --> 00:03:26.910\nThat's how React handles kind\nof this delegation of functions.\n\n59\n00:03:26.910 --> 00:03:30.633\nAnd then the handleSignUp is\nrun in the app context but\n\n60\n00:03:30.633 --> 00:03:33.623\nis initiated from the SignUpForm, okay?\n\n61\n00:03:33.623 --> 00:03:41.133\nNow, ultimately, we'll tweak that\na little bit, but that is okay.\n\n62\n00:03:41.133 --> 00:03:47.330\nAll right, so our LoginForm, onLogin if\nwe come back to our app, stuff is broke.\n\n63\n00:03:47.330 --> 00:03:50.342\nJust like it was in the SignUpForm.\n\n64\n00:03:50.342 --> 00:03:52.100\nSo how are we going to fix that?\n\n65\n00:03:52.100 --> 00:03:56.330\nWell, we gotta come over and here, and\n\n66\n00:03:56.330 --> 00:04:01.760\nlet's touch LoginForm.js.\n\n67\n00:04:01.760 --> 00:04:03.200\nAnd there's our component.\n\n68\n00:04:03.200 --> 00:04:04.836\nI'm gonna go ahead and\nstart our app back up.\n\n69\n00:04:04.836 --> 00:04:09.353\nEven though it's gonna fail, and\nnow that I have that, right,\n\n70\n00:04:09.353 --> 00:04:14.577\nI'm gonna open that up,\nnot the service worker, And\n\n71\n00:04:14.577 --> 00:04:18.347\nI'm gonna bring that in, and\njust like I did with the SignUp.\n\n72\n00:04:18.347 --> 00:04:24.910\nLogInForm from ./LogInForm, okay?\n\n73\n00:04:26.100 --> 00:04:31.129\nSo, there's our LoginForm, but it's still\nbroken, just like we had with SignUpForm,\n\n74\n00:04:31.129 --> 00:04:34.000\nbecause there's nothing exported,\nthere's nothing there.\n\n75\n00:04:35.440 --> 00:04:40.401\nSo let's go ahead and get that set up,\nand I do wanna show something\n\n76\n00:04:40.401 --> 00:04:46.201\nthat we have to be careful about,\nso hide that away, so import React.\n\n77\n00:04:46.201 --> 00:04:49.420\nAnd Component from the React package.\n\n78\n00:04:49.420 --> 00:04:56.430\nAgain just to emphasize, this is from like\nES 2015 Import, Export style modules.\n\n79\n00:04:56.430 --> 00:05:00.795\nI could use the standard node\nrequire in this context,\n\n80\n00:05:00.795 --> 00:05:04.930\nbut we'll just go with what the React\ncommunity has kind of adopted.\n\n81\n00:05:04.930 --> 00:05:07.060\nWhat is set up for us in Create React App.\n\n82\n00:05:08.630 --> 00:05:14.322\nAnd then I just want to create\na class called LoginForm,\n\n83\n00:05:14.322 --> 00:05:18.380\nand that extends the Component.\n\n84\n00:05:18.380 --> 00:05:22.702\nAnd then I'm gonna have a render function,\nas such, and\n\n85\n00:05:22.702 --> 00:05:25.620\nthat's gonna return some valid JSX.\n\n86\n00:05:25.620 --> 00:05:30.805\nAgain that is going to be a form, like so,\n\n87\n00:05:30.805 --> 00:05:35.991\nso here's our form, and then onSubmit,\n\n88\n00:05:35.991 --> 00:05:41.622\nI want to this.onLogin,\nso onLogin is going\n\n89\n00:05:41.622 --> 00:05:47.123\nto be our handler for\nour actual login form.\n\n90\n00:05:47.123 --> 00:05:51.390\nSo if we come back,\nwe should see the actual login form, oop,\n\n91\n00:05:51.390 --> 00:05:53.740\nwe forgot to export.\n\n92\n00:05:53.740 --> 00:05:58.340\nAnd this actually brings\nme to the point of,\n\n93\n00:05:58.340 --> 00:06:00.970\nlast couple of things we have\nto be careful about, as for\n\n94\n00:06:00.970 --> 00:06:06.620\nas gotchas from import and export, so\nwe're gonna export default LoginForm.\n\n95\n00:06:06.620 --> 00:06:13.020\nThis export default says,\nif I import LoginForm from LoginForm,\n\n96\n00:06:13.020 --> 00:06:17.050\nwhatever I default export,\nthat's what I'm gonna get in that import.\n\n97\n00:06:17.050 --> 00:06:22.248\nIf I had export const cheese 'hello'.\n\n98\n00:06:25.462 --> 00:06:30.574\nThen this is a name export, and the only\nway that I could bring that into another\n\n99\n00:06:30.574 --> 00:06:36.340\nmodule was to import it by name using\nthis destructuring syntax, my Component.\n\n100\n00:06:36.340 --> 00:06:40.329\nSo if I said LoginForm and cheese like so.\n\n101\n00:06:41.905 --> 00:06:48.621\nNow I could just say console.log cheese.\n\n102\n00:06:48.621 --> 00:06:50.936\nOkay?\nSo if I come back over here,\n\n103\n00:06:50.936 --> 00:06:53.561\nthere's cheese, which is hello, but\n\n104\n00:06:53.561 --> 00:06:57.393\nI brought it in by name because\nit is not a default export.\n\n105\n00:06:57.393 --> 00:07:00.201\nThe default export is LoginForm.\n\n106\n00:07:00.201 --> 00:07:03.910\nSo defaults are essentially, what do\nI always want to bring out of this?\n\n107\n00:07:03.910 --> 00:07:07.080\nAnd then, what are some other things\nthat I may just need here and there?\n\n108\n00:07:07.080 --> 00:07:08.950\nAnd export those by name.\n\n109\n00:07:08.950 --> 00:07:15.420\nSo that's the first thing that I wanted\nto make sure that we're all good with.\n\n110\n00:07:16.500 --> 00:07:21.620\nBut also,\nwhat happens if I remove this React?\n\n111\n00:07:21.620 --> 00:07:26.290\nBecause you'll notice,\nactually in the SignUpForm and here.\n\n112\n00:07:26.290 --> 00:07:30.074\nI don't actually do anything, right?\n\n113\n00:07:30.074 --> 00:07:33.380\nI don't wanna do anything with React,\n\n114\n00:07:33.380 --> 00:07:38.860\nthe actual import, so\nwhat happens if I just take it out?\n\n115\n00:07:38.860 --> 00:07:41.500\nI actually just need the components,\nright?\n\n116\n00:07:41.500 --> 00:07:44.975\nSo we come over here and we look,\nReact must be in scope when using JSX.\n\n117\n00:07:46.070 --> 00:07:49.366\nSo this React import is\nactually a little bit of magic.\n\n118\n00:07:49.366 --> 00:07:54.008\nWhen I import React, the build system\ngoes, you imported React, you're\n\n119\n00:07:54.008 --> 00:07:58.459\nprobably gonna use JSX in this file, so\nI actually compiled the JSX for you.\n\n120\n00:07:58.459 --> 00:08:04.480\nAnd the jsx being this html looking stuff\nthat ends up being turned into JavaScript.\n\n121\n00:08:04.480 --> 00:08:08.501\nSo, if you don't import this React,\neven if you don't use it,\n\n122\n00:08:08.501 --> 00:08:13.266\nthen your build fails because well,\njsx is in this file, and React is kind of\n\n123\n00:08:13.266 --> 00:08:18.201\nthe flag that says hey, you'll be on\nthe look out for some html looking stuff.\n\n124\n00:08:18.201 --> 00:08:20.920\nAnd that ends up being JavaScript, okay?\n\n125\n00:08:20.920 --> 00:08:27.380\nSo now we have this onLogin, and I'm\ngonna create a couple other imports here.\n\n126\n00:08:27.380 --> 00:08:32.100\nAnd just like we did type of email, and\nPeter, I've got a quick question for you.\n\n127\n00:08:32.100 --> 00:08:32.820\n&gt;&gt; Yeah, shoot.\n\n128\n00:08:32.820 --> 00:08:37.590\n&gt;&gt; In order to log in, right,\nwhat is the minimum amount of\n\n129\n00:08:37.590 --> 00:08:42.520\ninformation that you typically need in\norder to log in to a system that you use?\n\n130\n00:08:42.520 --> 00:08:45.020\n&gt;&gt; Well, you normally need a username and\na password.\n\n131\n00:08:45.020 --> 00:08:48.540\n&gt;&gt; A username and a password, but do some\nof those use email instead of username?\n\n132\n00:08:48.540 --> 00:08:50.624\nLike the email is the username?\n\n133\n00:08:50.624 --> 00:08:55.501\n&gt;&gt; Yeah, I've seen either or, or yeah,\nsome make you create a specific username,\n\n134\n00:08:55.501 --> 00:08:57.565\nor some just let you use the email.\n\n135\n00:08:57.565 --> 00:09:02.101\n&gt;&gt; Does a log in typically require you\nto have your age or any other verifying,\n\n136\n00:09:02.101 --> 00:09:05.197\nwhen you're logging in,\nany other information,\n\n137\n00:09:05.197 --> 00:09:08.350\nother than just those kind\nof two simple things?\n\n138\n00:09:08.350 --> 00:09:10.370\n&gt;&gt; No, no, I don't think so.\n\n139\n00:09:10.370 --> 00:09:14.619\nI mean, maybe in some weird banking stuff,\nthere might be multiple factors.\n\n140\n00:09:14.619 --> 00:09:18.933\nBut I don't think so for just your\naverage chat app like we're creating,\n\n141\n00:09:18.933 --> 00:09:19.914\nlike chat-em.\n\n142\n00:09:19.914 --> 00:09:21.720\n&gt;&gt; Yeah, exactly, like chat-em.\n\n143\n00:09:21.720 --> 00:09:22.463\n&gt;&gt; Trademark.\n\n144\n00:09:22.463 --> 00:09:26.284\n&gt;&gt; So I just wanted to verify that because\nsometimes people tend to overcomplicate\n\n145\n00:09:26.284 --> 00:09:31.030\nthe information that's needed in order to,\nwell, log in or sign up, right?\n\n146\n00:09:31.030 --> 00:09:33.620\nThe bare minimum that we need,\nemail, password,\n\n147\n00:09:33.620 --> 00:09:37.130\nand you kinda get some free\ninformation from email.\n\n148\n00:09:37.130 --> 00:09:41.140\nEmail should be, if you use the email\nverification, email is more or\n\n149\n00:09:41.140 --> 00:09:42.400\nless guaranteed to be unique,\n\n150\n00:09:42.400 --> 00:09:45.370\nunless it's from a customer domain name\nwhere people are doing crazy stuff.\n\n151\n00:09:45.370 --> 00:09:48.216\nLike Gmail, Peter and\nI can't both have the same Gmail and\n\n152\n00:09:48.216 --> 00:09:49.679\nit be two separate accounts.\n\n153\n00:09:49.679 --> 00:09:51.393\n&gt;&gt; No, we tried.\n&gt;&gt; That's not allowed.\n\n154\n00:09:51.393 --> 00:09:52.360\nYeah, we tried, we tried real hard.\n\n155\n00:09:52.360 --> 00:09:56.873\nWe screamed at our computer, then we\nkinda wept, it still didn't work, so\n\n156\n00:09:56.873 --> 00:09:59.240\nyou get some pre-information there.\n\n157\n00:09:59.240 --> 00:10:01.290\nSo that's what we're gonna use for login,\n\n158\n00:10:01.290 --> 00:10:04.490\nit's the same that we use for,\nwell, signing up.\n\n159\n00:10:04.490 --> 00:10:07.390\nAnd that's email and\n\n160\n00:10:07.390 --> 00:10:12.220\nlet's get a placeholder here, and\nthe placeholder is, well, that's email.\n\n161\n00:10:12.220 --> 00:10:14.990\nYou're like, this looks very\nfamiliar Justin, well, it should.\n\n162\n00:10:16.360 --> 00:10:18.980\nMainly because except for\na few little pieces,\n\n163\n00:10:18.980 --> 00:10:21.730\nthis is gonna be\nessentially the same thing.\n\n164\n00:10:21.730 --> 00:10:26.766\nValue, and\nthis is going to be this.state.email.\n\n165\n00:10:26.766 --> 00:10:30.160\nWell, we don't have state yet,\nso we should probably come in.\n\n166\n00:10:30.160 --> 00:10:33.854\nThis is internal state to this component,\nand\n\n167\n00:10:33.854 --> 00:10:38.315\nwell, we'll talk about state\na little more as we go on.\n\n168\n00:10:38.315 --> 00:10:42.740\nSo let's say email and\nthere's nothing, and\n\n169\n00:10:42.740 --> 00:10:47.062\nthen password and there's nothing, okay?\n\n170\n00:10:47.062 --> 00:10:53.586\nSo there's value and\nthen onChange =(this.updateEMail),\n\n171\n00:10:53.586 --> 00:10:56.913\nand then close out that jsx text.\n\n172\n00:10:56.913 --> 00:11:00.861\nNow jsx requires you to either\nhave an open closing tag or\n\n173\n00:11:00.861 --> 00:11:03.642\nthis self closing portion right here.\n\n174\n00:11:03.642 --> 00:11:07.188\nOtherwise, it fails to compile,\nthings are broke, it's not a good time.\n\n175\n00:11:07.188 --> 00:11:11.072\nSo let me get some over scroll here,\n\n176\n00:11:11.072 --> 00:11:15.994\nthere we go, and\nthen we need another input.\n\n177\n00:11:15.994 --> 00:11:20.740\nAnd this is of type password, okay?\n\n178\n00:11:20.740 --> 00:11:24.750\nAnd then the placeholder, well,\nthat's going to be password.\n\n179\n00:11:26.480 --> 00:11:31.879\nReally wish it had some labels here,\nand then value, this.state.password.\n\n180\n00:11:32.980 --> 00:11:39.631\nAnd then onChange is\nthis.updatePassword as such,\n\n181\n00:11:39.631 --> 00:11:44.815\nand then close this up, that out as well.\n\n182\n00:11:44.815 --> 00:11:50.575\nAnd then finally,\nwe need that Submit button, type='submit'.\n\n183\n00:11:52.534 --> 00:11:53.600\nAnd we're gonna say login.\n\n184\n00:11:55.460 --> 00:11:56.805\nThat is not how you spell login.\n\n185\n00:12:01.443 --> 00:12:03.360\nAll right, so there's our form.\n\n186\n00:12:05.050 --> 00:12:09.900\nI did this intentionally because\nthis should be kind of a tip off.\n\n187\n00:12:11.240 --> 00:12:14.643\nIf you look at LogInForm and\nSignUpForm, well,\n\n188\n00:12:14.643 --> 00:12:18.384\nwe still have this updateEmail and\nupdatePassword.\n\n189\n00:12:18.384 --> 00:12:23.646\nBut LogInForm and SignUpForm look very,\n\n190\n00:12:23.646 --> 00:12:26.661\nvery similar, right?\n\n191\n00:12:26.661 --> 00:12:31.058\nHowever, whenever you have a LogIn and a\nSignUp, I'll be very careful about saying,\n\n192\n00:12:31.058 --> 00:12:33.542\nI'm just gonna use the same component for\nboth.\n\n193\n00:12:33.542 --> 00:12:37.473\nBecause even though logging in\ntypically only requires a username and\n\n194\n00:12:37.473 --> 00:12:39.271\na password at the very minimum,\n\n195\n00:12:39.271 --> 00:12:43.150\nthere may be additional information\nthat I wanna collect on sign up.\n\n196\n00:12:43.150 --> 00:12:48.244\nLet's say I wanna know a user's age,\nI wanna know a user's preference, right?\n\n197\n00:12:48.244 --> 00:12:50.103\nIf you sign up for\nQuora or things like that,\n\n198\n00:12:50.103 --> 00:12:52.027\nwhat are things that you're interested in?\n\n199\n00:12:52.027 --> 00:12:54.630\nI wanna gather additional\ninformation at sign up.\n\n200\n00:12:54.630 --> 00:13:01.960\nWell now, if I use the same component,\nis this component kind of hindering me?\n\n201\n00:13:01.960 --> 00:13:03.560\nI end up putting myself where I go.\n\n202\n00:13:03.560 --> 00:13:05.390\nWell, if it's sign up, do this.\n\n203\n00:13:05.390 --> 00:13:07.040\nIf it's log in, do this.\n\n204\n00:13:07.040 --> 00:13:08.631\nSo even though they're very repetitive,\n\n205\n00:13:08.631 --> 00:13:11.690\nthis is one of the times where you're\nlike, I'm gonna keep those separate.\n\n206\n00:13:11.690 --> 00:13:16.726\nBecause even though I'm a big proponent\nof the YAGNA, ya ain't gonna need it,\n\n207\n00:13:16.726 --> 00:13:21.536\nthis will be one of the times where on\nsign up, I typically want to gather more\n\n208\n00:13:21.536 --> 00:13:25.017\ninformation in a more robust\napplication from users.\n\n209\n00:13:25.017 --> 00:13:29.188\nSo your sign up isn't necessarily always\ngoing to be exactly the same as your log\n\n210\n00:13:29.188 --> 00:13:30.850\nin, as we've seen here.\n\n211\n00:13:30.850 --> 00:13:33.277\n&gt;&gt; And\nI'm coming from a marketing background, so\n\n212\n00:13:33.277 --> 00:13:34.994\nI wanna grab as much information,\n\n213\n00:13:34.994 --> 00:13:39.019\nso I can just flood this thing with ads\nthat are highly targeted for our users.\n\n214\n00:13:39.019 --> 00:13:41.499\n&gt;&gt; Yeah, I mean, that's ultimately\nwhat we're gonna build this for, so\n\n215\n00:13:41.499 --> 00:13:43.015\nwe're gonna have to come back and\nfix that.\n\n216\n00:13:43.015 --> 00:13:44.557\nNo, I'm joking, I'm joking.\n\n217\n00:13:44.557 --> 00:13:47.575\nBut that is where, right,\ndepending on your use case,\n\n218\n00:13:47.575 --> 00:13:51.496\nwhatever your business proposition is,\nyou may want to change that, so\n\n219\n00:13:51.496 --> 00:13:54.023\nyou can gather information\nright off the bat.\n\n220\n00:13:54.023 --> 00:13:58.166\nCuz I'm pretty sure sending emails for\nlater and saying hey, real quick,\n\n221\n00:13:58.166 --> 00:14:02.456\nI was just wondering, could you let me\nhave some more information about you?\n\n222\n00:14:02.456 --> 00:14:07.267\nThat's probably not gonna work out, but\non sign up, if people are interested,\n\n223\n00:14:07.267 --> 00:14:09.902\nthey tend to give you information upfront.\n\n224\n00:14:09.902 --> 00:14:13.313\nSo I'm gonna keep these separate,\neven though right now,\n\n225\n00:14:13.313 --> 00:14:15.906\nthey're almost exact copies of each other,\n\n226\n00:14:15.906 --> 00:14:20.120\nmainly just to give us some kind of\nvariability, just in case we need it.\n\n227\n00:14:20.120 --> 00:14:24.819\nSo this log in form, there is a couple\nother things that I needed to do,\n\n228\n00:14:24.819 --> 00:14:28.341\nand that's this updateEmail and\nupdatePassword.\n\n229\n00:14:28.341 --> 00:14:34.592\nSo updateEmail is gonna take an event, and\n\n230\n00:14:34.592 --> 00:14:41.202\nupdatePassword is also\ngonna take an event.\n\n231\n00:14:41.202 --> 00:14:45.008\nNow this is one of those things that\nwoopsie daisy in the last episode,\n\n232\n00:14:45.008 --> 00:14:46.180\nit was totally on me.\n\n233\n00:14:48.130 --> 00:14:53.113\nSometimes you get in front of the camera,\nand you just kinda space out.\n\n234\n00:14:53.113 --> 00:14:57.034\nI did this thing that kinda\nbroke my application.\n\n235\n00:14:57.034 --> 00:14:59.402\nBut I did wanna set the record straight.\n\n236\n00:14:59.402 --> 00:15:03.083\nWe're gonna use this.setState,\nand all we're gonna do for\n\n237\n00:15:03.083 --> 00:15:07.522\nemail is say, e.target.value,\n\n238\n00:15:07.522 --> 00:15:13.290\nnot whatever is in the state\nplus the target value.\n\n239\n00:15:13.290 --> 00:15:17.640\nAnd the reason being is, e.target.value,\n\n240\n00:15:17.640 --> 00:15:21.280\nwhen I set this,\nit repropagates through this value\n\n241\n00:15:22.330 --> 00:15:25.820\nattribute into actually\nbeing in the input.\n\n242\n00:15:25.820 --> 00:15:28.490\nSo when I type it, it kind of\naccumulates those for me already.\n\n243\n00:15:28.490 --> 00:15:30.890\nThat's why we had that weirdness.\n\n244\n00:15:30.890 --> 00:15:37.713\nAnd then for password,\nthis.setState, and there we go,\n\n245\n00:15:37.713 --> 00:15:42.902\npassword, and that's e.target.value.\n\n246\n00:15:42.902 --> 00:15:47.642\nSo still very,\nvery similar other than this.onLogin,\n\n247\n00:15:47.642 --> 00:15:51.304\nand that all comes from\nthis app component.\n\n248\n00:15:51.304 --> 00:15:55.101\nNow I should probably\nput this handle login.\n\n249\n00:15:55.101 --> 00:16:00.124\nSo handle log in, And\n\n250\n00:16:00.124 --> 00:16:03.003\nthat is going to take an event.\n\n251\n00:16:06.969 --> 00:16:13.384\nAnd say,\nconsole.log(this.state) from the app.\n\n252\n00:16:18.326 --> 00:16:21.612\nJust like so, and\nif we come back and we refresh,\n\n253\n00:16:21.612 --> 00:16:24.991\nif I click this login,\nthings are a little weird.\n\n254\n00:16:24.991 --> 00:16:28.379\nI forgot to preventDefault,\nthat's totally on me.\n\n255\n00:16:33.004 --> 00:16:34.970\nAnd I forgot some semicolon.\n\n256\n00:16:34.970 --> 00:16:40.050\nReally, we get a little more leeway with\nthe semicolon and stuff than the normal.\n\n257\n00:16:40.050 --> 00:16:46.185\nSo, let me refresh here, and\nwe got some, I got to figure this out,\n\n258\n00:16:46.185 --> 00:16:50.325\nhandleLogIn, handleLogIn, onLogIn, okay?\n\n259\n00:16:50.325 --> 00:16:52.917\nSo, onSubmit unlogging, so\n\n260\n00:16:52.917 --> 00:16:58.735\nlet us make sure we have those props\nin the appropriate place here.\n\n261\n00:16:58.735 --> 00:17:03.850\nSo this dot props, and so\nI am going to come over here and refresh,\n\n262\n00:17:03.850 --> 00:17:08.139\nunlogging and there and\nthen up by up preventDefault.\n\n263\n00:17:08.139 --> 00:17:11.974\nSo, while it is submitting up,\n\n264\n00:17:11.974 --> 00:17:15.958\nI need to take these away on that.\n\n265\n00:17:15.958 --> 00:17:19.011\nThat's very interesting, Peter.\n\n266\n00:17:19.011 --> 00:17:22.017\nForm this.onLogin\n&gt;&gt; Justin,\n\n267\n00:17:22.017 --> 00:17:25.900\nare you sure you're passing the function\nyou think you're passing there?\n\n268\n00:17:25.900 --> 00:17:28.410\n&gt;&gt; You know, Peter,\nI think you might be onto something here.\n\n269\n00:17:28.410 --> 00:17:29.622\nWe should probably double check that.\n\n270\n00:17:29.622 --> 00:17:31.547\nSo let's go ahead and\ntake a look at my screen.\n\n271\n00:17:31.547 --> 00:17:37.509\nAnd then add.js I think this handle login\nshould kinda be delegated to on login.\n\n272\n00:17:37.509 --> 00:17:39.736\nBut on login is a prop, right?\n\n273\n00:17:39.736 --> 00:17:41.960\nIt is a property of this component.\n\n274\n00:17:42.970 --> 00:17:48.025\nAll right, so if I come over here\nto log in form, I'll submit this.\n\n275\n00:17:48.025 --> 00:17:54.857\nHey, look at that, we didn't say the\nprops1, we didn't say this.props.onlogin.\n\n276\n00:17:54.857 --> 00:17:57.269\nThat was whoopsie daisy on me,\neven though I-\n\n277\n00:17:57.269 --> 00:17:58.366\n&gt;&gt; I'm not gonna say I told you so.\n\n278\n00:17:58.366 --> 00:18:00.884\n[LAUGH]\n&gt;&gt; Well, you just did, but\n\n279\n00:18:00.884 --> 00:18:05.383\nthat's why there's two sets of eyes,\ntypically, on code.\n\n280\n00:18:05.383 --> 00:18:07.450\nIt's just to make sure, we don't mess up.\n\n281\n00:18:07.450 --> 00:18:09.400\nSo I think that's it,\nwe should double check.\n\n282\n00:18:09.400 --> 00:18:12.430\nAnd if it doesn't work,\nwe're gonna blame it on Peter.\n\n283\n00:18:12.430 --> 00:18:16.070\nSo if we go over here, and\nwe click, log in, there we go.\n\n284\n00:18:16.070 --> 00:18:17.310\nOkay, so has signed up.\n\n285\n00:18:17.310 --> 00:18:19.730\nNow, this is the point even\nthough we built this component.\n\n286\n00:18:19.730 --> 00:18:23.540\nThey're very, like they're\nvery duplicates of each other.\n\n287\n00:18:23.540 --> 00:18:27.950\nJust think about what information,\nnot necessarily on sign up,\n\n288\n00:18:29.120 --> 00:18:33.740\nbut on log in what information would\nI like to acquire from a user?\n\n289\n00:18:35.120 --> 00:18:39.030\nMaybe their email that they signed,\nI signed in, that's their username.\n\n290\n00:18:39.030 --> 00:18:40.830\nI need another username.\n\n291\n00:18:40.830 --> 00:18:45.420\nI may wanna set a flag that\nsays they are logged in,\n\n292\n00:18:45.420 --> 00:18:50.240\nbecause they're not gonna use that in my\napp to say if they're logged in do this,\n\n293\n00:18:50.240 --> 00:18:52.690\nif they're not, do this other thing.\n\n294\n00:18:52.690 --> 00:18:57.620\nAnd then hm,\nI think that might be all we need.\n\n295\n00:18:57.620 --> 00:19:01.740\nMaybe a unique identifier other\nthan their email just in case.\n\n296\n00:19:01.740 --> 00:19:05.930\nAnd with that we actually need to\nsee a little bit of Firebase but\n\n297\n00:19:05.930 --> 00:19:10.160\nlet's set that state up we're\ngonna try to get to Firebase.\n\n298\n00:19:10.160 --> 00:19:11.440\nI don't know if we're gonna make it.\n\n299\n00:19:11.440 --> 00:19:13.460\nThis episode, but it'll be coming up soon.\n\n300\n00:19:13.460 --> 00:19:14.145\nI promise Peter.\n\n301\n00:19:14.145 --> 00:19:14.890\n&gt;&gt; I think we can do it.\n\n302\n00:19:14.890 --> 00:19:18.340\n&gt;&gt; I see him off camera just\nkinda giving me this leer.\n\n303\n00:19:18.340 --> 00:19:20.440\nBut, that's all right.\n\n304\n00:19:20.440 --> 00:19:21.830\nLet's think about state in the app.\n\n305\n00:19:23.540 --> 00:19:26.048\nAs it stands signed up,\nthat's not really meaningful.\n\n306\n00:19:26.048 --> 00:19:28.430\nEmail, right?\n\n307\n00:19:28.430 --> 00:19:34.600\nNot only email, but\nWe don't want to store a password.\n\n308\n00:19:34.600 --> 00:19:37.990\nWe want to make sure they are logged in,\nand\n\n309\n00:19:37.990 --> 00:19:41.790\nwe also want to make sure that\nto have some unique identifier.\n\n310\n00:19:41.790 --> 00:19:44.290\nBut, we may not be able to\nget to that one quite yet.\n\n311\n00:19:44.290 --> 00:19:45.490\nSo, let's change this state.\n\n312\n00:19:45.490 --> 00:19:48.030\nThis is the state of our\noverall application.\n\n313\n00:19:48.030 --> 00:19:49.570\nSo is logged in.\n\n314\n00:19:49.570 --> 00:19:51.420\nWell, Peter, real quick.\n\n315\n00:19:51.420 --> 00:19:55.230\nWhen you first go to a place,\nif you've never logged in before.\n\n316\n00:19:55.230 --> 00:19:58.465\nDo you think your automatically\nflagged as being logged in?\n\n317\n00:19:58.465 --> 00:20:00.755\n&lt;&lt; I would think not.\n\n318\n00:20:00.755 --> 00:20:02.915\n&lt;&lt; He's on it, folks.\n\n319\n00:20:02.915 --> 00:20:10.470\n&lt;&lt; We are not logged in, so is logged in\nas false and then email is well, nothing.\n\n320\n00:20:10.470 --> 00:20:11.000\nRight?\n\n321\n00:20:11.000 --> 00:20:13.220\nSo, don't go to semi-colon there,\nthat'll wreck your life.\n\n322\n00:20:14.920 --> 00:20:18.350\nSo we come over here to handle sign up and\nhandle login.\n\n323\n00:20:18.350 --> 00:20:23.450\nThat changes some things about\nhow all these behave right.\n\n324\n00:20:23.450 --> 00:20:28.060\nSo handleLogin, handleSignup,\nthese are soon to be event handlers.\n\n325\n00:20:28.060 --> 00:20:33.460\nThis is what I mean by\non login this.handle\n\n326\n00:20:33.460 --> 00:20:38.940\nlog in being passed and we're just\nkind of wiring these up straight away.\n\n327\n00:20:38.940 --> 00:20:43.602\nReally what we want is\nsomething like this,\n\n328\n00:20:43.602 --> 00:20:50.217\nlogin, this.login and\n\n329\n00:20:50.217 --> 00:20:55.266\nthen I'm gonna say, login.\n\n330\n00:20:55.266 --> 00:20:59.764\nAnd that's going to take the event,\n\n331\n00:20:59.764 --> 00:21:04.707\nprevent the default, e preventDefault\n\n332\n00:21:07.893 --> 00:21:12.917\nLike so, and\nthen I'm gonna say this.props.onLogin,\n\n333\n00:21:12.917 --> 00:21:16.820\nand then on login,\nI'm gonna get the email.\n\n334\n00:21:18.720 --> 00:21:22.050\nWe might be getting ourselves\ninto a weird position.\n\n335\n00:21:23.710 --> 00:21:24.540\nWithout Firebase.\n\n336\n00:21:24.540 --> 00:21:27.700\nBut let's see how we could pass\nthat information back because\n\n337\n00:21:27.700 --> 00:21:29.960\nwe're gonna need that to some extent.\n\n338\n00:21:29.960 --> 00:21:31.190\nSo, this.props.\n\n339\n00:21:31.190 --> 00:21:35.911\non log in, and\nlet's say that when I call on log in it's\n\n340\n00:21:35.911 --> 00:21:41.260\nessentially like a call back to\nthe top level component here.\n\n341\n00:21:41.260 --> 00:21:43.037\nNow we're not gonna need this for\n\n342\n00:21:43.037 --> 00:21:46.160\nsign up because sign up is just\ngoing to allow us to sign up.\n\n343\n00:21:46.160 --> 00:21:50.400\nAnd then we're gonna say,\nwell you signed up, go ahead and log in.\n\n344\n00:21:50.400 --> 00:21:53.380\nLog in's really where\nwe get our information.\n\n345\n00:21:53.380 --> 00:21:57.520\nSo log in, this .props.onLogIn,\nit is no longer the event handler.\n\n346\n00:21:58.930 --> 00:22:01.150\nOn login actually goes to handle login.\n\n347\n00:22:02.160 --> 00:22:03.370\nWhat are we expecting?\n\n348\n00:22:03.370 --> 00:22:09.294\nWe're no longer expecting event but\ninstead an email and\n\n349\n00:22:09.294 --> 00:22:15.320\nnow this is going to set the state\nof our application like so.\n\n350\n00:22:15.320 --> 00:22:18.610\nSo is logged in Well,\n\n351\n00:22:18.610 --> 00:22:23.930\nif we're handling the log in then yeah,\nwe're now logged in.\n\n352\n00:22:23.930 --> 00:22:27.800\nAnd also, email is going to go to email.\n\n353\n00:22:27.800 --> 00:22:31.500\nNow because email to email\nare exactly the same thing,\n\n354\n00:22:31.500 --> 00:22:33.650\nI can actually shorthand\nthat just like so.\n\n355\n00:22:34.800 --> 00:22:37.162\nAnd just for a, just for giggles.\n\n356\n00:22:37.162 --> 00:22:42.393\nLet's take console.log.\n\n357\n00:22:42.393 --> 00:22:43.821\nNot bad.\n\n358\n00:22:43.821 --> 00:22:47.870\nAPP and this .state.\n\n359\n00:22:47.870 --> 00:22:52.610\nSo let's see if when we logIn it\nactually sets the email for us.\n\n360\n00:22:52.610 --> 00:22:53.970\nThis is right now a button click.\n\n361\n00:22:55.220 --> 00:22:57.940\nWell we're not going to know if someone\nsuccessfully logged in until we make\n\n362\n00:22:57.940 --> 00:23:00.100\na call to Firebase and\nFirebase confirms it.\n\n363\n00:23:00.100 --> 00:23:06.060\nBut, this is the general flow, right,\nwe're going to actually initiate and\n\n364\n00:23:06.060 --> 00:23:08.380\nthen when it comes back we're\ngoing to call on log in.\n\n365\n00:23:08.380 --> 00:23:11.820\nSo, when you've successfully logged\nin we want to send the email.\n\n366\n00:23:11.820 --> 00:23:15.770\nWe may need additional information, but\nwe don't have that accessible to us.\n\n367\n00:23:15.770 --> 00:23:21.260\nBut, handling this log in,\nthat's happening inside of this log\n\n368\n00:23:21.260 --> 00:23:24.510\nin internal function for on submit.\n\n369\n00:23:24.510 --> 00:23:27.200\nLet's see if that sets\nthe overall application state\n\n370\n00:23:27.200 --> 00:23:28.490\nwith the email that I type in.\n\n371\n00:23:29.870 --> 00:23:33.410\nIf we come over here, uh-oh,\nemail is not defined.\n\n372\n00:23:33.410 --> 00:23:34.820\nWe have a problem.\n\n373\n00:23:36.140 --> 00:23:42.013\nHere we go,\nwhat is this I'm seeing this.login,\n\n374\n00:23:42.013 --> 00:23:46.683\nthis.props.onlogin e-mail.\n\n375\n00:23:46.683 --> 00:23:51.170\nWell, I want to get the e-mail\nfrom the state, so this.\n\n376\n00:23:53.455 --> 00:23:56.350\nstate.email.\n\n377\n00:23:56.350 --> 00:24:00.040\nSo I need to grab that information,\nnot from a local variable.\n\n378\n00:24:00.040 --> 00:24:02.050\nSo now here we go.\n\n379\n00:24:02.050 --> 00:24:03.180\nHere's our state, Peter.\n\n380\n00:24:03.180 --> 00:24:04.500\nYou better keep your eyes open.\n\n381\n00:24:04.500 --> 00:24:05.800\nYou're gonna get excited.\n\n382\n00:24:05.800 --> 00:24:07.900\nSo let's just say, j@j.j.\n\n383\n00:24:07.900 --> 00:24:14.120\nLittle bit of narcissism there,\nbut we'll go with it.\n\n384\n00:24:14.120 --> 00:24:15.080\nLogin.\nBoom.\n\n385\n00:24:15.080 --> 00:24:17.040\nIs logged in j@j.j.\n\n386\n00:24:17.040 --> 00:24:21.550\nNow that we have that set up,\nI think we're in the home stretch for\n\n387\n00:24:21.550 --> 00:24:24.360\nactually bringing Firebase into\nour application, setting it up,\n\n388\n00:24:24.360 --> 00:24:28.510\nbeing able to sign on using Firebase,\nbeing able to log in using Firebase.\n\n389\n00:24:28.510 --> 00:24:32.150\nSo the next few episodes will definitely\nbe Firebase, But unfortunately,\n\n390\n00:24:32.150 --> 00:24:34.200\nI don't think we have\ntime in this episode.\n\n391\n00:24:34.200 --> 00:24:38.620\nI knew you had your heart set on it Peter\nBut we just don't have it in us today.\n\n392\n00:24:38.620 --> 00:24:41.150\n&gt;&gt; I was really excited there and\nthen I looked at the cloak.\n\n393\n00:24:41.150 --> 00:24:43.940\nAnd saw that it took us a little\nbit of time to get that set up.\n\n394\n00:24:43.940 --> 00:24:46.430\nEven though they're similar components,\n\n395\n00:24:46.430 --> 00:24:48.600\nthere is a little bit we need to\ndo to make then work together.\n\n396\n00:24:48.600 --> 00:24:52.720\nSo just like you pointed out,\nwe're gonna go an wrap this one up.\n\n397\n00:24:52.720 --> 00:24:55.910\nBut next time we're gonna come back, we're\ngonna actually bring in Firebase then and\n\n398\n00:24:55.910 --> 00:24:58.520\nmake these components actually work and\nwork together.\n\n399\n00:24:58.520 --> 00:25:00.020\nSo that will be exciting to see.\n\n400\n00:25:00.020 --> 00:25:02.760\nBut for now, like I said,\nsigning off for DevProTV,\n\n401\n00:25:02.760 --> 00:25:04.550\nI've been your host Peter VanRysdam.\n\n402\n00:25:04.550 --> 00:25:05.590\n&gt;&gt; And I'm Justin Dennison.\n\n403\n00:25:05.590 --> 00:25:07.298\n&gt;&gt; And we will see you next time.\n\n404\n00:25:07.298 --> 00:25:12.489\n[SOUND]\n\n",
          "vimeoId": "229845443"
        },
        {
          "description": "Now that the react app has started, we can start to pull elements from Firebase. In this episode, Justin and Peter show how to add and install the firebase service and give an overview of the features it provides.",
          "length": "1682",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-4-1-setting_up_firebase-081517-PGM.00_28_28_21.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-4-1-setting_up_firebase-081517-PGM.00_28_28_21.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-4-1-setting_up_firebase-081517-PGM.00_28_28_21.Still001-sm.jpg",
          "title": "Setting Up Firebase",
          "transcript": "WEBVTT\n\n1\n00:00:00.080 --> 00:00:10.080\n[MUSIC]\n\n2\n00:00:12.566 --> 00:00:16.244\nHello and welcome to DevProTV,\nI'm your host, Peter VanRysdam.\n\n3\n00:00:16.244 --> 00:00:20.471\nAnd today, we're continuing with our\nseries where we're setting up a chat app,\n\n4\n00:00:20.471 --> 00:00:22.063\nusing React and Firebase, and\n\n5\n00:00:22.063 --> 00:00:25.261\ntoday we're actually setting\nup the Firebase portion of it.\n\n6\n00:00:25.261 --> 00:00:28.511\nAnd here to help us do that is a man\nthat knows all about Firebase, and\n\n7\n00:00:28.511 --> 00:00:31.607\nhe'll teach us, Mr.\nJustin Dennison, Justin, how are you?\n\n8\n00:00:31.607 --> 00:00:34.972\n&gt;&gt; I am doing fantastic, I don't know if\nyou're trying to do that over-promise and\n\n9\n00:00:34.972 --> 00:00:37.434\nunder-deliver thing that\ndevelopers are notorious for.\n\n10\n00:00:37.434 --> 00:00:39.830\nBut we'll go with it,\nhow are you today, Peter?\n\n11\n00:00:39.830 --> 00:00:43.360\n&gt;&gt; Justin, I couldn't sleep last night,\njust thinking about Firebase and\n\n12\n00:00:43.360 --> 00:00:44.720\ngetting it set up.\n\n13\n00:00:44.720 --> 00:00:47.946\nJust the little tease you gave us\nIn those first couple episodes,\n\n14\n00:00:47.946 --> 00:00:51.477\nwhere we saw what Firebase can do,\nI want to see if that actually works.\n\n15\n00:00:51.477 --> 00:00:55.530\n&gt;&gt; Well, luckily for you, that's what\nwe're doing in this exact episode.\n\n16\n00:00:55.530 --> 00:01:00.370\nSo let's just do a quick review of what is\nFirebase before we actually dive back in.\n\n17\n00:01:00.370 --> 00:01:03.530\nBecause I have been teasing the last\nfew episodes, we're gonna use Firebase,\n\n18\n00:01:03.530 --> 00:01:04.410\nwe're gonna use Firebase.\n\n19\n00:01:04.410 --> 00:01:07.450\nAnd we took a look at the Firebase panel,\nwhere we saw that we can get\n\n20\n00:01:07.450 --> 00:01:11.240\nauthentication, with a variety\nof authentication providers.\n\n21\n00:01:11.240 --> 00:01:12.780\nWe also have a real time database,\n\n22\n00:01:12.780 --> 00:01:17.330\na messaging app platform,\na storage platform, a hosting platform.\n\n23\n00:01:17.330 --> 00:01:21.445\nAlso, access to Google Cloud functions,\nusing the Google Cloud platform.\n\n24\n00:01:21.445 --> 00:01:24.980\nWe will definitely not be\ndiving into those, but mostly,\n\n25\n00:01:24.980 --> 00:01:30.230\nwe will be handling with the real time\ndatabase and the authentication portion.\n\n26\n00:01:30.230 --> 00:01:33.780\nNow, as part of our app, or excuse me,\n\n27\n00:01:33.780 --> 00:01:37.180\nour persistence layer,\nwe're gonna be using this as our back end.\n\n28\n00:01:37.180 --> 00:01:42.027\nWe need to be able to authenticate and log\nin a user before they can start modifying\n\n29\n00:01:42.027 --> 00:01:45.310\nrooms and/or posting messages\nto respective rooms,\n\n30\n00:01:45.310 --> 00:01:47.753\nin the context of our chat application.\n\n31\n00:01:47.753 --> 00:01:53.712\nSo that's our first step, but in order to\neven get to the authentication portion,\n\n32\n00:01:53.712 --> 00:01:59.490\nwe have a little bit of configuration\nnecessary inside of our application.\n\n33\n00:01:59.490 --> 00:02:02.790\nSo let's go ahead and take a look at my\nscreen, do a quick review of where we are,\n\n34\n00:02:02.790 --> 00:02:04.380\nand see where we're going.\n\n35\n00:02:04.380 --> 00:02:08.220\nSo we left off, these components,\nthey're not quite finished.\n\n36\n00:02:08.220 --> 00:02:12.500\nAnd throughout this series, what you'll\nfind is, we'll build something, and\n\n37\n00:02:12.500 --> 00:02:15.260\nthen we'll kind of undo some of\nthe things that we've built.\n\n38\n00:02:15.260 --> 00:02:17.630\nAnd that's to demonstrate\nthe thought process and\n\n39\n00:02:17.630 --> 00:02:22.350\nkind of the exploration process of,\nhey, it works, let me make it better.\n\n40\n00:02:22.350 --> 00:02:25.350\nHey it works, let me make it better,\nthat's the iterative process.\n\n41\n00:02:25.350 --> 00:02:31.660\nSo if I click log in, you'll notice\nthat is logged in turns to true,\n\n42\n00:02:31.660 --> 00:02:36.180\nif I click is logged in again,\nit's still true, okay, that's good.\n\n43\n00:02:36.180 --> 00:02:39.775\nAnd now what if I type in an email,\nand actually,\n\n44\n00:02:39.775 --> 00:02:44.178\nI made it an email type, so\nit has to be a valid email format.\n\n45\n00:02:44.178 --> 00:02:45.605\n&gt;&gt; Yeah, cuz that is my email.\n\n46\n00:02:45.605 --> 00:02:47.789\n&gt;&gt; Yeah, yeah, I stole it from Peter.\n\n47\n00:02:47.789 --> 00:02:48.682\n&gt;&gt; It's weird.\n\n48\n00:02:48.682 --> 00:02:52.178\n&gt;&gt; But those of you who are looking\nto email Peter, there you go.\n\n49\n00:02:52.178 --> 00:02:52.852\n&gt;&gt; There's the address, now you know.\n\n50\n00:02:52.852 --> 00:02:54.477\n&gt;&gt; By the way, we're joking.\n\n51\n00:02:54.477 --> 00:02:57.718\n&gt;&gt; [LAUGH]\n&gt;&gt; So if you email this person, [LAUGH],\n\n52\n00:02:57.718 --> 00:03:01.540\nplease don't email them,\nit might be an actual, valid email.\n\n53\n00:03:01.540 --> 00:03:06.440\nSo we go in there and we log in, and\nif we notice this lags behind, and\n\n54\n00:03:06.440 --> 00:03:10.280\nthat's because the state's\nbeing updated before the print.\n\n55\n00:03:10.280 --> 00:03:14.500\nA console log is occurring, so\nI'm pretty confident that's all good.\n\n56\n00:03:14.500 --> 00:03:19.130\nNow, as we kind of explore and add to our\napplication, the state that's in our app\n\n57\n00:03:19.130 --> 00:03:23.460\ncomponent will start to fill out with\nthe properties and values that we need\n\n58\n00:03:23.460 --> 00:03:26.880\nto maintain, throughout\nthe lifetime of our application.\n\n59\n00:03:26.880 --> 00:03:29.840\nAnd by lifetime, I mean your\nbrowser's open, you're logged in, so\n\n60\n00:03:29.840 --> 00:03:30.780\non and so forth.\n\n61\n00:03:30.780 --> 00:03:35.000\nSo we left off there,\nsign up has a very similar thing,\n\n62\n00:03:35.000 --> 00:03:37.370\nexcept there's still some remnants of,\n\n63\n00:03:37.370 --> 00:03:41.830\nit doesn't quite do what I want it to,\nI have signed up, but not really.\n\n64\n00:03:41.830 --> 00:03:45.777\nIn order for this to all come to fruition,\nwe need Firebase, so\n\n65\n00:03:45.777 --> 00:03:48.095\nwe're gonna come back to Firebase.\n\n66\n00:03:48.095 --> 00:03:52.697\nHow did I get there, actually, let's\ngo there, let's just look at Firebase,\n\n67\n00:03:52.697 --> 00:03:54.862\nand I searched for that in Google, and\n\n68\n00:03:54.862 --> 00:03:57.996\nFirebase has an older URL\njust kinda floating around.\n\n69\n00:03:57.996 --> 00:04:01.556\nWe wanna make sure that we\nget Firebase.google.com, and\n\n70\n00:04:01.556 --> 00:04:05.544\nthat's post-acquisition by Google,\nif they acquired Google,\n\n71\n00:04:05.544 --> 00:04:08.680\nthen that's a whole different thing.\n\n72\n00:04:08.680 --> 00:04:13.510\nSo, we'll get to this screen,\nfirebase.google.com,\n\n73\n00:04:13.510 --> 00:04:15.940\nand, well,\nwe just wanna go directly to the console.\n\n74\n00:04:15.940 --> 00:04:22.410\nNow, at the console, a lot of times,\nI'll have a project open,\n\n75\n00:04:22.410 --> 00:04:26.950\nand I'll go back to the console page and\nit automatically loads the project.\n\n76\n00:04:26.950 --> 00:04:31.080\nYou have particular projects, so you can\nhave a bunch of apps that do a bunch of\n\n77\n00:04:31.080 --> 00:04:33.990\ndifferent things, and\nthey're sequestered by project.\n\n78\n00:04:33.990 --> 00:04:38.150\nSo every once in awhile, this will come\nback to the project that I was already on,\n\n79\n00:04:38.150 --> 00:04:40.180\nhowever, we want to add a new project.\n\n80\n00:04:40.180 --> 00:04:45.110\nSo let's add a project, then what should\nwe call this, well, typically you wanna\n\n81\n00:04:45.110 --> 00:04:50.310\nname this project after or similar to\nthe project that you're working on.\n\n82\n00:04:50.310 --> 00:04:55.150\nNow we're building a chap app called\nChatM, so we're gonna say ChatM, and\n\n83\n00:04:55.150 --> 00:04:56.180\nwe're gonna create the project.\n\n84\n00:04:57.860 --> 00:05:01.460\nSo at this point, this will take a little\nbit to load up, we've seen this before.\n\n85\n00:05:01.460 --> 00:05:07.798\nAnd we're going and we're going and wait\nfor it, there we go, we're finally there.\n\n86\n00:05:07.798 --> 00:05:12.002\nNow, at this point on this page,\nI wouldn't click off anything just yet,\n\n87\n00:05:12.002 --> 00:05:14.830\nbecause we get a little\nbit of help from Firebase.\n\n88\n00:05:14.830 --> 00:05:18.770\nSo this is something that has\ngotten better in recent times,\n\n89\n00:05:18.770 --> 00:05:22.450\nis Firebase will help you initialize and\nset up your application.\n\n90\n00:05:22.450 --> 00:05:27.560\nThere are three buttons here,\niOS, Android, and your web app.\n\n91\n00:05:27.560 --> 00:05:30.300\nNow, your web app typically\nmeans JavaScript, so\n\n92\n00:05:30.300 --> 00:05:33.309\ntechnically you could do this\nwith a Node application.\n\n93\n00:05:33.309 --> 00:05:36.812\nSo it doesn't have to be connected\nto the web, or excuse me,\n\n94\n00:05:36.812 --> 00:05:41.240\nit will not be in a browser,\nit will be connected to the Internet.\n\n95\n00:05:41.240 --> 00:05:45.139\nSo we're gonna come back to that in\njust a moment, so leave this page here.\n\n96\n00:05:45.139 --> 00:05:49.946\nHowever, I do wanna come over to NPM, and\nshow you that, well, we could do all this\n\n97\n00:05:49.946 --> 00:05:53.794\nthrough a RESTful endpoint,\nconstruct the queries ourselves and\n\n98\n00:05:53.794 --> 00:05:58.850\nreach out to Firebase, get them back,\nset up sockets, it's crazy.\n\n99\n00:05:58.850 --> 00:06:06.400\nHowever, if we look up Firebase, there's\na Firebase library for the web and NodeJS.\n\n100\n00:06:06.400 --> 00:06:11.470\nIt provides access to the real-time\ndatabase, the storage, cloud messaging.\n\n101\n00:06:11.470 --> 00:06:13.350\nThis messaging is a little misnomer,\n\n102\n00:06:13.350 --> 00:06:18.600\nit's like sending messages from you to\nthe application, like the little popovers.\n\n103\n00:06:18.600 --> 00:06:22.525\nIf you use any type of application\nwhere it's like, while you were away,\n\n104\n00:06:22.525 --> 00:06:24.631\nthey're almost like notifications.\n\n105\n00:06:24.631 --> 00:06:29.930\nSo Firebase authentication and\ncreate and set up your account.\n\n106\n00:06:29.930 --> 00:06:33.500\nWell, that's not actually a service,\nthat's something we have to do.\n\n107\n00:06:33.500 --> 00:06:35.920\n&gt;&gt; Now Justin, that's a lot of\ncool things that Firebase does,\n\n108\n00:06:35.920 --> 00:06:37.390\nare we paying for this?\n\n109\n00:06:37.390 --> 00:06:41.490\n&gt;&gt; Well, we're actually we're going in\nthe free model, until we really start\n\n110\n00:06:41.490 --> 00:06:46.430\ndigging into some of the more advanced\nfeatures, which we will probably not do.\n\n111\n00:06:46.430 --> 00:06:50.620\nFirebase is free, now,\nthat's free with certain limits,\n\n112\n00:06:50.620 --> 00:06:53.250\nthat's actually how a lot\nof Google services work.\n\n113\n00:06:53.250 --> 00:06:57.854\nWe'll give you free, up to so much, and\nactually, here in just a little while,\n\n114\n00:06:57.854 --> 00:07:00.450\nwe'll take a look at the pricing,\nif we can.\n\n115\n00:07:00.450 --> 00:07:05.860\nSo this actually tells you, hey,\nyou just need to include Firebase.js.\n\n116\n00:07:05.860 --> 00:07:09.190\nNow, notice this is 4.2.0,\n\n117\n00:07:09.190 --> 00:07:12.650\nthis is different from\nprevious versions of Firebase,\n\n118\n00:07:12.650 --> 00:07:17.730\nwell, full disclosure, it's different\nfrom the last version that I used.\n\n119\n00:07:17.730 --> 00:07:22.020\nNow, that may have been a little\nwhile ago, and then come back and\n\n120\n00:07:22.020 --> 00:07:26.660\nplayed with it again, and\nit was all glorious, made it a lot better.\n\n121\n00:07:26.660 --> 00:07:31.130\nNow, this npm bundler, ooh,\nnpm install, save Firebase.\n\n122\n00:07:31.130 --> 00:07:35.360\nWell if we just come over here,\nwe kill our build here, and we hop out.\n\n123\n00:07:36.780 --> 00:07:40.376\nWe can actually install, before we do,\nlet's just hop into that package.json.\n\n124\n00:07:40.376 --> 00:07:45.670\nNow, I'm just using vim to show you this,\nnotice we have three dependencies.\n\n125\n00:07:45.670 --> 00:07:51.720\nWell, we actually want firebase the node\nmodule, so npm install firebase --save.\n\n126\n00:07:51.720 --> 00:07:56.029\nAnd then it's gonna go out and\ngrab that firebase.js,\n\n127\n00:07:56.029 --> 00:07:59.060\nso it's pulling it in, pulling it in.\n\n128\n00:07:59.060 --> 00:08:05.580\nWe'll get some warnings and things,\nand that's typically system specific.\n\n129\n00:08:05.580 --> 00:08:10.590\nI have a Linux machine that I play around\non, so I'll get Linux specific ones like,\n\n130\n00:08:10.590 --> 00:08:14.690\nhey, this doesn't work with Linux,\ngetting an alternative dependency.\n\n131\n00:08:15.760 --> 00:08:23.400\nSo now, if we come into package.json,\nnot bad, package.json.\n\n132\n00:08:23.400 --> 00:08:25.630\nWell, now we have Firebase 4.2,\n\n133\n00:08:25.630 --> 00:08:30.410\nand that's actually the latest\nversion at the time of this recording.\n\n134\n00:08:30.410 --> 00:08:35.350\nNow that we have that we should be up and\nready to go, so\n\n135\n00:08:35.350 --> 00:08:40.210\nlet's come over to our editor and\nlook at our file structure and\n\n136\n00:08:40.210 --> 00:08:45.230\nsee, where would I put\nthis Firebase stuff?\n\n137\n00:08:45.230 --> 00:08:48.815\nA lot of people are tempted to\nput this inside of app.js, and\n\n138\n00:08:48.815 --> 00:08:51.079\nyou're more than welcome to do that.\n\n139\n00:08:51.079 --> 00:08:55.110\nBut what I typically do is pull this out\ninto a separate file, a separate module.\n\n140\n00:08:55.110 --> 00:08:57.940\nDo the configuration and\nthen export only the portions I need,\n\n141\n00:08:57.940 --> 00:09:00.290\nlike off and database.\n\n142\n00:09:00.290 --> 00:09:05.950\nSo there's a little bit different one, or\nmaybe even subsections of said database.\n\n143\n00:09:07.090 --> 00:09:13.065\nSo, what we're gonna do is we're gonna\nbuild a file here called fire.js.\n\n144\n00:09:13.065 --> 00:09:17.176\nNow, I could name it Firebase,\nbut I think that's confusing.\n\n145\n00:09:17.176 --> 00:09:21.923\nCuz inside of the Firebase.js that I'm\ngoing to create or what I call fire,\n\n146\n00:09:21.923 --> 00:09:26.152\nI'm actually going to import Firebase\nto do some configuration and\n\n147\n00:09:26.152 --> 00:09:28.690\nexport the configured portion, okay?\n\n148\n00:09:29.770 --> 00:09:35.710\nBefore I forget, though, let's go and\nrestart our app here and\n\n149\n00:09:35.710 --> 00:09:39.760\ncommand not found, that's interesting.\n\n150\n00:09:39.760 --> 00:09:45.130\nSo npm, start, and well,\nlet's npm install.\n\n151\n00:09:45.130 --> 00:09:48.914\nEvery once in awhile I get\nthis weird little [SOUND],\n\n152\n00:09:48.914 --> 00:09:51.468\nthings go horribly awry with npm.\n\n153\n00:09:51.468 --> 00:09:54.750\nActually, that's happened\nwith Yarn with me as well.\n\n154\n00:09:54.750 --> 00:09:59.440\nBy just doing a reinstall, so I just\ntype npm install, this should fix it,\n\n155\n00:09:59.440 --> 00:10:02.950\nget new dependencies, and\nwe'll see if things can get up and going.\n\n156\n00:10:02.950 --> 00:10:06.490\nWhile that's working,\nlet's go ahead and And\n\n157\n00:10:06.490 --> 00:10:11.650\nget our Fire.js up and running,\nso how am I going to use this?\n\n158\n00:10:11.650 --> 00:10:16.152\nWell, inside of here I'm\ngonna say Firebase =, well,\n\n159\n00:10:16.152 --> 00:10:20.972\nsince this is a front end we need\nto keep our import and exports.\n\n160\n00:10:20.972 --> 00:10:24.940\nImport, so this is going to\nbe just like one for these.\n\n161\n00:10:24.940 --> 00:10:31.190\nImport from, and so\nimport Firebase from Firebase.\n\n162\n00:10:32.560 --> 00:10:34.220\nThat's going to grand that node module.\n\n163\n00:10:34.220 --> 00:10:36.520\nNow this is going to bundle it up and\nput it on the front end.\n\n164\n00:10:38.010 --> 00:10:39.180\nThen, what do we need to do?\n\n165\n00:10:40.640 --> 00:10:41.850\nIs that it, is that all?\n\n166\n00:10:43.260 --> 00:10:47.440\nRemember that page that I told you to\nkeep open in the Firebase console?\n\n167\n00:10:47.440 --> 00:10:50.670\nIf I click right here,\nit now presents you,\n\n168\n00:10:50.670 --> 00:10:55.145\nit actually repopulate all\nthe configurations that you need.\n\n169\n00:10:55.145 --> 00:10:58.700\nNow,if you run this just on a regular\nweb application, you just copy and\n\n170\n00:10:58.700 --> 00:11:01.790\npaste these two script tags,\nyou're good to go.\n\n171\n00:11:01.790 --> 00:11:07.360\nHowever, all I really care about\nis this portion right here, okay?\n\n172\n00:11:07.360 --> 00:11:08.520\nSo we're gonna copy that.\n\n173\n00:11:08.520 --> 00:11:14.370\nAnd I'm gonna make a few changes and\npaste it, as such, okay?\n\n174\n00:11:14.370 --> 00:11:19.600\nSo, bring that over, bring that over,\nand I'm gonna change this to cost.\n\n175\n00:11:19.600 --> 00:11:22.430\nJust so we don't do anything crazy.\n\n176\n00:11:22.430 --> 00:11:25.370\nAnd then this is going to configure.\n\n177\n00:11:26.600 --> 00:11:29.770\nOur app using this initialize\napp function from Firebase.\n\n178\n00:11:29.770 --> 00:11:34.529\nNow if you imported Firebase\nby a different name, you said\n\n179\n00:11:34.529 --> 00:11:41.820\nfiiiiiiirrreebbbasse, then this wouldn't\nwork because those names did not match.\n\n180\n00:11:41.820 --> 00:11:44.950\nHowever, I'm not gonna do that\ncuz that's confusing, but\n\n181\n00:11:44.950 --> 00:11:50.210\nI am gonna say const FirebaseApp equals.\n\n182\n00:11:50.210 --> 00:11:53.380\nAnd what this does is this returns\nthe initialized application.\n\n183\n00:11:54.420 --> 00:12:00.950\nSo how would I have access to this\nconfigured application in other places.\n\n184\n00:12:02.320 --> 00:12:07.640\nWell, let's see if we can\nget app to start back up.\n\n185\n00:12:07.640 --> 00:12:11.350\nThere we go You know, every once in\na while you have that weird little thing\n\n186\n00:12:11.350 --> 00:12:14.780\nwhere things just kinda get out of whack,\nso just reinstall.\n\n187\n00:12:14.780 --> 00:12:18.850\nIt's kinda like turning off and turning\nback on again, sometimes it just works.\n\n188\n00:12:18.850 --> 00:12:23.570\nSo if I refresh and there it is,\nour app is up and going now.\n\n189\n00:12:23.570 --> 00:12:26.760\nAs it stands all of these are kind\nof private to this module.\n\n190\n00:12:28.200 --> 00:12:33.200\nSo I'm going to export\ndefault firebaseApp.\n\n191\n00:12:34.790 --> 00:12:39.360\nAnd so now I can import this app into\nwhatever file that I want inside of\n\n192\n00:12:39.360 --> 00:12:42.670\nthis project using well,\nthe import statement.\n\n193\n00:12:42.670 --> 00:12:47.730\nAnd because this is default, I'm going to\nuse an import statement just like this,\n\n194\n00:12:47.730 --> 00:12:52.290\nso I imported firebase into this file,\nconfigured it, grabbed the app instance.\n\n195\n00:12:52.290 --> 00:12:54.710\nAnd then exported the app instance itself.\n\n196\n00:12:56.390 --> 00:12:59.890\nSo if I come over here to app.js,\nlet's just see what's in it.\n\n197\n00:12:59.890 --> 00:13:01.110\nDoes that sound like a good idea, Peter?\n\n198\n00:13:01.110 --> 00:13:02.240\n&gt;&gt; Yeah, I was hoping you would.\n\n199\n00:13:02.240 --> 00:13:03.641\nI was hoping you might\njump in [CROSSTALK].\n\n200\n00:13:03.641 --> 00:13:05.740\n&gt;&gt; Well, luckily I could see it.\n\n201\n00:13:05.740 --> 00:13:08.010\nHe's like, I wonder if he's\ngonna show us what's in there.\n\n202\n00:13:08.010 --> 00:13:09.760\nSo I just figured I would check and\nmake sure.\n\n203\n00:13:09.760 --> 00:13:10.380\n&gt;&gt; I appreciate it.\n\n204\n00:13:10.380 --> 00:13:12.570\n&gt;&gt; So let's go ahead and bring that in.\n\n205\n00:13:12.570 --> 00:13:18.790\nWe're gonna bring in the firebaseApp,\nfrom ./fire, okay?\n\n206\n00:13:18.790 --> 00:13:22.624\nAnd I just gonna put a console.log here,\n(firebaseApp).\n\n207\n00:13:22.624 --> 00:13:25.063\nSo that's just so we can look at it and\n\n208\n00:13:25.063 --> 00:13:28.150\nsee what happens when\nit actually prints out.\n\n209\n00:13:28.150 --> 00:13:30.000\nSo we're gonna refuel.\n\n210\n00:13:30.000 --> 00:13:33.280\nThose are firebaseApp instance.\n\n211\n00:13:33.280 --> 00:13:37.285\nOkay, here's fire base, and\noptions but look under object,\n\n212\n00:13:37.285 --> 00:13:42.125\nthere's the database method,\nthe delete, the messaging, the storage,\n\n213\n00:13:42.125 --> 00:13:47.417\nthe off method, and these are kinda like\nfactory functions to grab not quite that,\n\n214\n00:13:47.417 --> 00:13:52.274\nbut we can think of them that way to\ngrab particular services from fire base.\n\n215\n00:13:52.274 --> 00:13:56.439\nSo if I were to say auth like so, and\n\n216\n00:13:56.439 --> 00:14:02.766\nhave this refresh,\nthen because it's minified and\n\n217\n00:14:02.766 --> 00:14:11.450\nsome other things you'll notice\nagain crazy amounts of u-e-v-e.\n\n218\n00:14:11.450 --> 00:14:12.068\nBut here is app.\n\n219\n00:14:12.068 --> 00:14:15.966\nAnd here's current user and here's,\n\n220\n00:14:15.966 --> 00:14:19.992\nI don't even know what that is, Peter.\n\n221\n00:14:19.992 --> 00:14:21.767\nThere's just a bunch of letters there.\n\n222\n00:14:21.767 --> 00:14:26.197\nSo we're definitely gonna have to rely on\nthe documentation in order to kind of find\n\n223\n00:14:26.197 --> 00:14:27.350\nour way around here.\n\n224\n00:14:27.350 --> 00:14:30.610\nNow, I'm going to be very\nexplicit about that because\n\n225\n00:14:30.610 --> 00:14:33.340\nyou shouldn't really try to\nmemorize these right off the bat.\n\n226\n00:14:33.340 --> 00:14:35.210\nIt's something that you will remember.\n\n227\n00:14:35.210 --> 00:14:37.490\nAs things come up, okay.\n\n228\n00:14:37.490 --> 00:14:42.890\nSo, now that we have our Firebase\ninstance kind of created,\n\n229\n00:14:42.890 --> 00:14:47.360\nI don't know if I really want\nthe Firebase app everywhere.\n\n230\n00:14:47.360 --> 00:14:50.630\nCuz what do I want to do\nwhen someone signs up?\n\n231\n00:14:52.350 --> 00:14:59.195\nWell, I wanna grab that little\nbit of Firebase goodness.\n\n232\n00:14:59.195 --> 00:15:00.661\nAnd I just want to use the auth portion.\n\n233\n00:15:00.661 --> 00:15:05.770\nSo I may over the course of this\nseries start to break the up\n\n234\n00:15:05.770 --> 00:15:10.840\ninto individual exports from this Fire.js,\nokay.\n\n235\n00:15:10.840 --> 00:15:13.280\nSo I may bring these into this file.\n\n236\n00:15:14.850 --> 00:15:16.090\nBut you don't have to do that.\n\n237\n00:15:16.090 --> 00:15:19.240\nYou can actually just grab everything\nfrom the Firebase app as you need it.\n\n238\n00:15:19.240 --> 00:15:23.407\nAnd just to make sure our Firebase\napplication is up and running,\n\n239\n00:15:23.407 --> 00:15:26.320\nwe should probably test a few things.\n\n240\n00:15:26.320 --> 00:15:31.140\nSo how are we going to test that?\n\n241\n00:15:31.140 --> 00:15:33.720\nWell, let's start with the database\n\n242\n00:15:33.720 --> 00:15:36.150\nBecause we know we're gonna\nstore things in a database.\n\n243\n00:15:36.150 --> 00:15:39.500\nBut Peter, I'm gonna let you decide,\nwhat are we gonna store in our database?\n\n244\n00:15:40.500 --> 00:15:44.800\n&gt;&gt; Well, we probably wanna store those\nemail addresses and passwords so\n\n245\n00:15:44.800 --> 00:15:46.694\nwe can check if they're correct.\n\n246\n00:15:46.694 --> 00:15:47.749\n&gt;&gt; We could do that, but\n\n247\n00:15:47.749 --> 00:15:51.161\nyou should never store passwords\ninside of a database in plain text.\n\n248\n00:15:51.161 --> 00:15:54.063\nSo that's actually gonna be extracted\naway from us from the auth.\n\n249\n00:15:54.063 --> 00:15:55.743\nAll right,\nI'll give you a mulligan, Peter,\n\n250\n00:15:55.743 --> 00:15:57.297\nwhat are we gonna store\nin those databases?\n\n251\n00:15:57.297 --> 00:15:59.403\nIt may be just the email.\n\n252\n00:15:59.403 --> 00:16:00.680\n&gt;&gt; We could store the email.\n\n253\n00:16:00.680 --> 00:16:01.825\nHow about just a message?\n\n254\n00:16:01.825 --> 00:16:04.283\n&gt;&gt; Yeah.\n\n255\n00:16:04.283 --> 00:16:06.086\n&gt;&gt; Yeah, or\nmaybe where there's a food, right?\n\n256\n00:16:06.086 --> 00:16:07.418\nWe're actually going to delete this.\n\n257\n00:16:07.418 --> 00:16:08.714\n&gt;&gt; Justin, why don't you just\ntell me what you [CROSSTALK]\n\n258\n00:16:08.714 --> 00:16:09.704\n&gt;&gt; [LAUGH] Yeah.\n\n259\n00:16:09.704 --> 00:16:11.620\n&gt;&gt; It sounds like a loaded question.\n\n260\n00:16:11.620 --> 00:16:15.690\n&gt;&gt; Yeah, it most definitely was, but\nthat's why we like to have fun here.\n\n261\n00:16:15.690 --> 00:16:20.270\nSo let's just see,\nI'm gonna put this in app.js,\n\n262\n00:16:20.270 --> 00:16:25.140\ntotally unconnected to my\nReact app at current time.\n\n263\n00:16:25.140 --> 00:16:27.992\nWe're just playing around\nwith Firebase a little bit,\n\n264\n00:16:27.992 --> 00:16:31.402\njust to make sure we know how to\ngrab the individual pieces, okay?\n\n265\n00:16:31.402 --> 00:16:37.320\nSo let's say that we want the ability to\nstore food, to put food in the database.\n\n266\n00:16:37.320 --> 00:16:40.300\nBefore I go on, I'm gonna come over\nhere to the chat-em console and\n\n267\n00:16:40.300 --> 00:16:42.092\nI'm gonna come to the database like so.\n\n268\n00:16:42.092 --> 00:16:47.330\nAnd you'll notice, this is our database.\n\n269\n00:16:47.330 --> 00:16:48.200\nThis is all it.\n\n270\n00:16:48.200 --> 00:16:51.076\nThere's nothing in there, okay?\n\n271\n00:16:51.076 --> 00:16:55.980\nBut we can create child nodes that\nhave child nodes of their own.\n\n272\n00:16:55.980 --> 00:16:59.784\nSo what I want inside of\nchat-em is a food node, and\n\n273\n00:16:59.784 --> 00:17:02.710\nthen within that, a variety of foods.\n\n274\n00:17:02.710 --> 00:17:09.110\nAnd let's just say it has a name and\na price, okay?\n\n275\n00:17:09.110 --> 00:17:12.431\nSo we come over here, and\nI say, I want the foodRef.\n\n276\n00:17:12.431 --> 00:17:15.830\nNow refs are references to\npieces of your database.\n\n277\n00:17:17.160 --> 00:17:20.559\nSo I'm gonna say firebaseApp.database.\n\n278\n00:17:20.559 --> 00:17:24.169\nNotice the function call there, and\n\n279\n00:17:24.169 --> 00:17:29.950\nthen I ref to food,\nactually let's say foods, okay?\n\n280\n00:17:29.950 --> 00:17:32.200\nSo ref to foods.\n\n281\n00:17:32.200 --> 00:17:36.900\nNow slash, no slash, we need to\ndouble check that cuz a lot of times,\n\n282\n00:17:36.900 --> 00:17:38.680\npeople think of this as endpoints.\n\n283\n00:17:38.680 --> 00:17:39.660\nSo we'll check that out.\n\n284\n00:17:39.660 --> 00:17:47.350\nI'm also going to wrap this around just\nfor the ability to see everything, okay?\n\n285\n00:17:47.350 --> 00:17:51.940\nSo we now have a foodRef, and\nwe can treat this just like an array.\n\n286\n00:17:51.940 --> 00:17:55.390\nSo I'm gonna say foodRef.push,\nand what food?\n\n287\n00:17:56.520 --> 00:18:00.295\nName, Peter, what's your favorite food?\n\n288\n00:18:00.295 --> 00:18:01.303\n&gt;&gt; I can't go wrong with pizza.\n\n289\n00:18:01.303 --> 00:18:01.829\n&gt;&gt; Pizza?\nPizza,\n\n290\n00:18:01.829 --> 00:18:04.720\nwhat is the typical cost of a pizza?\n\n291\n00:18:04.720 --> 00:18:06.961\n&gt;&gt; Let's say it's a $10 pizza.\n\n292\n00:18:06.961 --> 00:18:09.820\n&gt;&gt; $10, all right, well, there we go.\n\n293\n00:18:09.820 --> 00:18:11.660\nSo when my app refreshes,\n\n294\n00:18:11.660 --> 00:18:15.240\nwhen I save, we'll actually see\nthis come into the database.\n\n295\n00:18:15.240 --> 00:18:22.843\nSo, if we come over here and we refresh,\nso we've got an error, permission denied.\n\n296\n00:18:22.843 --> 00:18:25.205\nHm, so what is this possible error?\n\n297\n00:18:25.205 --> 00:18:30.312\nPersistent connection,\npersistent connection, website,\n\n298\n00:18:30.312 --> 00:18:35.960\nso if I come back over here,\nthat slash is actually just by name.\n\n299\n00:18:35.960 --> 00:18:40.960\nSo if you use that to denote kind\nof these underscore portions,\n\n300\n00:18:40.960 --> 00:18:43.030\nthen you have to be careful there.\n\n301\n00:18:43.030 --> 00:18:47.329\nSo if we refresh, and\nwe still have a permission denied.\n\n302\n00:18:47.329 --> 00:18:51.406\nAnd what could possibly be going wrong?\n\n303\n00:18:51.406 --> 00:18:57.052\nWell, rules, by default,\nyou're not allowed to write\n\n304\n00:18:57.052 --> 00:19:02.270\nto the database,\nunless you're authenticated.\n\n305\n00:19:02.270 --> 00:19:06.030\nSo I can't, these rules say you\nhave to be authenticated in\n\n306\n00:19:06.030 --> 00:19:08.630\norder to write to said database.\n\n307\n00:19:08.630 --> 00:19:16.133\nSo, for now,\nI'm going to change these to true.\n\n308\n00:19:16.133 --> 00:19:19.710\nYou should not do this\nin a production app.\n\n309\n00:19:19.710 --> 00:19:23.501\nI want to further clarify you should not\ndo this in a production app because this\n\n310\n00:19:23.501 --> 00:19:26.438\nmeans that everybody can read and\nwrite from your database.\n\n311\n00:19:26.438 --> 00:19:29.940\nThey don't have to be authenticated.\n\n312\n00:19:29.940 --> 00:19:33.260\nThey can just happen upon your\nFirebase URL, and read and write to it.\n\n313\n00:19:33.260 --> 00:19:37.159\n&gt;&gt; And apparently even Google agrees\nthat you should not be doing that\n\n314\n00:19:37.159 --> 00:19:38.490\nbased on that big red.\n\n315\n00:19:39.730 --> 00:19:43.013\n&gt;&gt; Yeah, the banner [CROSSTALK]\nthere that says bad,\n\n316\n00:19:43.013 --> 00:19:45.677\njust think of the big old bad statement.\n\n317\n00:19:45.677 --> 00:19:48.628\nNow, for learning experience and\ndevelopment purposes,\n\n318\n00:19:48.628 --> 00:19:52.500\nI will turn this on while I'm trying\nto play around with some things.\n\n319\n00:19:52.500 --> 00:19:57.200\nBut eventually you wanna come back and\nwrite appropriate rules there, so\n\n320\n00:19:57.200 --> 00:19:59.410\nonce we're able to authenticate,\nwe should be able to go.\n\n321\n00:19:59.410 --> 00:20:04.689\nIf we come back to data here, and I know,\nI know, we're gonna dismiss that.\n\n322\n00:20:04.689 --> 00:20:06.502\nAnd I'm gonna refresh and\n\n323\n00:20:06.502 --> 00:20:11.048\nsee if we can actually get something,\nit didn't error out.\n\n324\n00:20:11.048 --> 00:20:13.800\nAnd we have a foods section.\n\n325\n00:20:13.800 --> 00:20:17.730\nAnd in particular,\nwe have Peter's pizza that costs $10.\n\n326\n00:20:17.730 --> 00:20:21.278\nNotice we have this weird\nrandom string here.\n\n327\n00:20:21.278 --> 00:20:25.852\nThis is the key and this is the value,\nso within this foods collection,\n\n328\n00:20:25.852 --> 00:20:30.746\neverything is just gonna be a list,\na kind of an object of object of objects.\n\n329\n00:20:30.746 --> 00:20:33.090\nYou can go super crazy with this.\n\n330\n00:20:33.090 --> 00:20:34.426\nFirebase actually\nrecommends that you do not.\n\n331\n00:20:34.426 --> 00:20:39.520\nDon't continue to nest data structures,\nkeep them fairly flat.\n\n332\n00:20:39.520 --> 00:20:43.813\nSo we have a foods collection,\nokay, so our foods ref.\n\n333\n00:20:43.813 --> 00:20:45.910\nNow, I said something a little while back,\nand\n\n334\n00:20:45.910 --> 00:20:48.013\nI just wanna make sure\nthat I didn't misspeak.\n\n335\n00:20:48.013 --> 00:20:52.710\nI said, you should say just foods and\nnot /foods.\n\n336\n00:20:52.710 --> 00:20:57.060\nSo let's see, if I change this to,\nI don't know,\n\n337\n00:20:57.060 --> 00:21:01.460\napple pie, and we go to /foods.\n\n338\n00:21:01.460 --> 00:21:03.510\nLet's see if that still works.\n\n339\n00:21:03.510 --> 00:21:10.200\nIt refreshes, and there was an update,\nso they both work.\n\n340\n00:21:10.200 --> 00:21:15.720\nTotally my fault, misspoke just a little\nawhile ago, but I did catch it and fix it.\n\n341\n00:21:15.720 --> 00:21:21.310\nSo we now have two food items\ninside of our database.\n\n342\n00:21:21.310 --> 00:21:25.836\nAnd all we have to do is pretend it's\nan array that we're pushing new objects on\n\n343\n00:21:25.836 --> 00:21:27.580\nto, and that's it.\n\n344\n00:21:27.580 --> 00:21:29.630\nIt is based on this reference, though.\n\n345\n00:21:29.630 --> 00:21:30.489\n&gt;&gt; Question for you there, Justin.\n\n346\n00:21:30.489 --> 00:21:35.480\nIt looks like you replaced pizza,\nbut it looks like it just added.\n\n347\n00:21:35.480 --> 00:21:38.350\nOr yeah, you replaced it with apple pie,\nbut then it just added it.\n\n348\n00:21:38.350 --> 00:21:40.880\nDoes that-\n&gt;&gt; So I replaced it in the apple layer,\n\n349\n00:21:40.880 --> 00:21:44.810\nbut in the database, it's like,\nthat's new, that's not like the other one.\n\n350\n00:21:44.810 --> 00:21:48.930\nIf I'm pushing, it's always assuming\nthat it's a new object to be persisted.\n\n351\n00:21:48.930 --> 00:21:52.362\nThe only way I can change\nis to use set remove and\n\n352\n00:21:52.362 --> 00:21:55.895\nselect a very particular element or\ndocument.\n\n353\n00:21:55.895 --> 00:22:00.637\nIt's very similar to document based\ndatabases you may have used in other\n\n354\n00:22:00.637 --> 00:22:01.880\ncontexts.\n\n355\n00:22:01.880 --> 00:22:05.370\nSo there's our foodRef,\nokay, so our database works.\n\n356\n00:22:05.370 --> 00:22:08.040\nWe should probably check out the auth.\n\n357\n00:22:08.040 --> 00:22:12.049\nNow I don't wanna keep this,\nI actually wanna get rid of that.\n\n358\n00:22:12.049 --> 00:22:17.545\nBut I'm gonna say auth=firebaseApp.auth.\n\n359\n00:22:17.545 --> 00:22:21.873\nAnd we're gonna say auth, and\nI don't have auto complete.\n\n360\n00:22:21.873 --> 00:22:26.098\nWhere could I go to find out what\nare possible ways I could authenticate?\n\n361\n00:22:26.098 --> 00:22:30.448\nWell if we come over here,\nover in this little tab,\n\n362\n00:22:30.448 --> 00:22:36.230\nI actually have it here,\nFirebase Google Docs reference and node.\n\n363\n00:22:36.230 --> 00:22:39.850\nThis is where it gets a little bit weird.\n\n364\n00:22:39.850 --> 00:22:42.623\nIf you come to the reference guide, and\n\n365\n00:22:42.623 --> 00:22:46.580\nif you go to the normal Firebase,\ngo to documentation.\n\n366\n00:22:46.580 --> 00:22:51.185\nAnd then you come to reference and\n\n367\n00:22:51.185 --> 00:22:54.480\nscroll down to nodeJS.\n\n368\n00:22:54.480 --> 00:22:59.110\nI find that one to be a little bit\neasier to read and understand.\n\n369\n00:22:59.110 --> 00:23:02.350\nFor some reason, it's a little bit\ndifferent in the JavaScript, or\n\n370\n00:23:02.350 --> 00:23:05.400\nthe pages that I've found\nare a little bit different.\n\n371\n00:23:05.400 --> 00:23:09.190\nSo, that's where we're gonna go, but I'm\ngonna close that down back up to where we\n\n372\n00:23:09.190 --> 00:23:15.864\nwere, come over here, and\ninside of that Node.js client is auth.\n\n373\n00:23:17.470 --> 00:23:19.370\nWell, what is auth?\n\n374\n00:23:19.370 --> 00:23:22.320\nWell, over here are the possible methods.\n\n375\n00:23:22.320 --> 00:23:27.870\nThat calling.auth with the parentheses\ngives us an auth instance.\n\n376\n00:23:27.870 --> 00:23:32.360\nWe can apply action code,\ncheck action code, confirm password reset,\n\n377\n00:23:32.360 --> 00:23:36.690\ncreate custom token,\ncreate user with email and password.\n\n378\n00:23:36.690 --> 00:23:39.710\nThat kinda sounds like\nsomething that we wanna do.\n\n379\n00:23:39.710 --> 00:23:43.180\nSo, let's actually try that.\n\n380\n00:23:44.300 --> 00:23:49.873\nCreate user with email and\npassword, yeah, okay.\n\n381\n00:23:49.873 --> 00:23:55.026\nThey're fairly long method name,\nso you have to read in to them.\n\n382\n00:23:55.026 --> 00:23:59.691\nNow what this takes is, well,\nan email and a password.\n\n383\n00:23:59.691 --> 00:24:00.980\nIn that order.\n\n384\n00:24:00.980 --> 00:24:04.621\nSo like an email would be, j@j.com.\n\n385\n00:24:04.621 --> 00:24:07.060\nAnd a password.\n\n386\n00:24:07.060 --> 00:24:09.650\nObviously you're not going\nto keep this in plain text.\n\n387\n00:24:09.650 --> 00:24:11.608\nAnd also don't use this one.\n\n388\n00:24:11.608 --> 00:24:14.056\nIt is 123456.\n\n389\n00:24:14.056 --> 00:24:15.207\nOkay.\n\n390\n00:24:15.207 --> 00:24:16.627\nNow this returns a promise.\n\n391\n00:24:16.627 --> 00:24:19.399\nSo I can then it and get a response.\n\n392\n00:24:19.399 --> 00:24:23.350\nAnd I wanna see what the response is.\n\n393\n00:24:23.350 --> 00:24:27.312\nAnd we'll say response, like so.\n\n394\n00:24:27.312 --> 00:24:31.375\nAnd then we can catch any errors and\n\n395\n00:24:31.375 --> 00:24:36.130\njust console.error those, okay?\n\n396\n00:24:36.130 --> 00:24:38.260\nSo not necessarily the best\nerror handling but\n\n397\n00:24:38.260 --> 00:24:41.910\nwe're just trying to see\nhow does this work out?\n\n398\n00:24:41.910 --> 00:24:42.730\nNow we come over here.\n\n399\n00:24:42.730 --> 00:24:43.948\nBecause I saved it.\n\n400\n00:24:43.948 --> 00:24:45.183\n&gt;&gt; Uh-oh.\n\n401\n00:24:45.183 --> 00:24:46.080\n&gt;&gt; Uh-oh.\n\n402\n00:24:46.080 --> 00:24:47.270\nWe already have an error.\n\n403\n00:24:47.270 --> 00:24:49.930\nIt just seems like it's a path\nof errors all the time.\n\n404\n00:24:51.720 --> 00:24:53.770\nOff operation not allowed.\n\n405\n00:24:53.770 --> 00:24:55.144\nThe given sign in provider is disabled.\n\n406\n00:24:55.144 --> 00:25:02.261\n&gt;&gt; Before, we turned off that setting\nearlier when we were adding the foods.\n\n407\n00:25:02.261 --> 00:25:04.490\n&gt;&gt; You're actually onto something, Peter.\n\n408\n00:25:04.490 --> 00:25:09.600\nYeah, it makes me happy when people\nare like, hey, I'm connecting the dots.\n\n409\n00:25:09.600 --> 00:25:11.965\nSo if we come over here,\nyou're on the right track.\n\n410\n00:25:13.230 --> 00:25:16.720\nIf we go to rules, well,\nwe did change these rules.\n\n411\n00:25:16.720 --> 00:25:17.466\nBut that was on the database.\n\n412\n00:25:17.466 --> 00:25:22.854\nBut there are similar kinds\nof constructs inside of Auth.\n\n413\n00:25:22.854 --> 00:25:26.310\nHere are all the possible providers.\n\n414\n00:25:26.310 --> 00:25:30.090\nEmail, Phone, Facebook, Google,\nTwitter, GitHub and Anonymous.\n\n415\n00:25:30.090 --> 00:25:31.420\nYou'll notice, they're all disabled.\n\n416\n00:25:32.670 --> 00:25:35.910\nIf we click this little pencil,\nand we turn it on,\n\n417\n00:25:35.910 --> 00:25:39.670\nand we save, that is now enabled.\n\n418\n00:25:39.670 --> 00:25:41.820\nAnd I'm just gonna come back to Users.\n\n419\n00:25:41.820 --> 00:25:42.750\nThere are no users.\n\n420\n00:25:43.810 --> 00:25:46.260\nAnd I'm just gonna refresh this page.\n\n421\n00:25:46.260 --> 00:25:48.440\nAnd hey, we actually have a response.\n\n422\n00:25:49.690 --> 00:25:50.590\nWhat is that response?\n\n423\n00:25:50.590 --> 00:25:52.120\nWell, it's an S.\n\n424\n00:25:52.120 --> 00:25:53.890\nBut we'll come back and\ntalk about that in just a moment.\n\n425\n00:25:55.250 --> 00:25:59.540\nIf we come here and hit this little\nrefresh button, hey look at that.\n\n426\n00:25:59.540 --> 00:26:01.539\nWe now have a user with a user ID.\n\n427\n00:26:01.539 --> 00:26:05.801\nAnd there's actually a lot more that\nwe can store like display name,\n\n428\n00:26:05.801 --> 00:26:08.200\nthings of that nature.\n\n429\n00:26:08.200 --> 00:26:10.780\nRight now, all we're storing\nis the username, and actually,\n\n430\n00:26:10.780 --> 00:26:12.690\nit's storing the password hash.\n\n431\n00:26:12.690 --> 00:26:14.980\nIt's not storing plain text passwords.\n\n432\n00:26:14.980 --> 00:26:16.350\nDon't do that.\n\n433\n00:26:16.350 --> 00:26:20.230\nBut if you can come down through here,\nthere are some plain text display name,\n\n434\n00:26:20.230 --> 00:26:26.660\nemail verified, email, is anonymous,\nphone number, photo URL, refresh token.\n\n435\n00:26:26.660 --> 00:26:28.390\nThose pieces are readable.\n\n436\n00:26:28.390 --> 00:26:32.710\nAnd by being readable,\nwell we could probably alter those.\n\n437\n00:26:32.710 --> 00:26:34.553\nYou should not alter the refresh token.\n\n438\n00:26:34.553 --> 00:26:38.190\nYou should only read them,\nlike a phone number.\n\n439\n00:26:38.190 --> 00:26:42.830\nWell for this particular user,\nactually, I just created a user and\n\n440\n00:26:42.830 --> 00:26:45.470\nit returned me that user data.\n\n441\n00:26:45.470 --> 00:26:48.370\nSo this is a user object.\n\n442\n00:26:48.370 --> 00:26:52.500\nFor that particular user,\nI could update the display name, right?\n\n443\n00:26:52.500 --> 00:26:54.430\nBecause you don't\nnecessarily want your email.\n\n444\n00:26:54.430 --> 00:26:56.940\nIt might be some kind of screen name or\nscreen handle.\n\n445\n00:26:56.940 --> 00:27:00.360\nSo that could be part of\nour messaging application.\n\n446\n00:27:00.360 --> 00:27:04.460\nWe are probably not going to mess\nwith this just for simplicity, right?\n\n447\n00:27:04.460 --> 00:27:08.690\nBecause there's already complexity\nevident in our application.\n\n448\n00:27:08.690 --> 00:27:13.060\nBut technically,\nFirebase looks to be working.\n\n449\n00:27:13.060 --> 00:27:14.040\nAuth is setup.\n\n450\n00:27:14.040 --> 00:27:15.380\nDatabase is setup.\n\n451\n00:27:15.380 --> 00:27:18.980\nWe're to start integrating this\ninto our React application.\n\n452\n00:27:18.980 --> 00:27:22.100\nBut I'm definitely sure we don't\nhave time in this episode, Peter.\n\n453\n00:27:22.100 --> 00:27:27.020\n&gt;&gt; I agree we kinda got off track there,\nmaking a food App and all this stuff.\n\n454\n00:27:27.020 --> 00:27:30.630\nI thought our chat App had\nchanged to chat with food.\n\n455\n00:27:30.630 --> 00:27:32.000\nBut we got back on track.\n\n456\n00:27:32.000 --> 00:27:33.720\nAnd so I appreciate the lesson there.\n\n457\n00:27:33.720 --> 00:27:36.330\nBut like you said,\nwe're kinda out of time for this one.\n\n458\n00:27:36.330 --> 00:27:38.600\nWe got some great content\ncoming your way though.\n\n459\n00:27:38.600 --> 00:27:42.790\nAnd we're gonna wrap all this up with\nthe next steps of, I guess, doing\n\n460\n00:27:42.790 --> 00:27:45.660\nthe registration and doing the sign in and\nmaking sure all that works with Firebase.\n\n461\n00:27:45.660 --> 00:27:47.120\nBut that's gonna have to wait.\n\n462\n00:27:47.120 --> 00:27:50.720\nSo, for now, signing off for DevProTV,\nI've been your host, Peter VanRysdam.\n\n463\n00:27:50.720 --> 00:27:51.580\n&gt;&gt; And I'm Justin Dennison.\n\n464\n00:27:51.580 --> 00:27:53.571\n&gt;&gt; And we'll see you next time.\n\n465\n00:27:53.571 --> 00:27:57.592\n[SOUND]\n\n",
          "vimeoId": "229844656"
        },
        {
          "description": "With firebase installed and setup, Peter and Justin show how to use it to create the sign up section of the chat app. Justin also shows the different authentication options preloaded in firebase and how to make customizations.",
          "length": "1155",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-5-1-signing_up_with_firebase-081517-PGM.00_22_46_27.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-5-1-signing_up_with_firebase-081517-PGM.00_22_46_27.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-5-1-signing_up_with_firebase-081517-PGM.00_22_46_27.Still001-sm.jpg",
          "title": "Signing Up with Firebase",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:13.057 --> 00:00:15.009\nHello, and welcome to DevProTV.\n\n3\n00:00:15.009 --> 00:00:19.112\nI'm your host Peter VanRysdam, and today\nwe're continuing with our series where\n\n4\n00:00:19.112 --> 00:00:21.785\nwe're building a chat app using React and\nFirebase.\n\n5\n00:00:21.785 --> 00:00:26.224\nAnd here to help us do that we have\nthe expert on all things chat app, and\n\n6\n00:00:26.224 --> 00:00:29.791\nReact and Firebase hopefully, Mr.\nJustin Dennison.\n\n7\n00:00:29.791 --> 00:00:31.030\nJustin, how are you doing?\n\n8\n00:00:31.030 --> 00:00:31.537\nI don't even know your name.\n\n9\n00:00:31.537 --> 00:00:35.612\n&gt;&gt; [LAUGH] I am doing fantastic,\nespecially after that.\n\n10\n00:00:35.612 --> 00:00:37.510\nAnd how are you, Peter?\n\n11\n00:00:37.510 --> 00:00:38.611\n&gt;&gt; I'm great, I'm great.\n\n12\n00:00:38.611 --> 00:00:43.700\nBut I've gotta ask, in this episode\nwe're signing up with Firebase.\n\n13\n00:00:43.700 --> 00:00:47.824\nBut isn't that what we've already done in\nthe last episodes when we've set up our\n\n14\n00:00:47.824 --> 00:00:49.752\naccount there and built the project?\n\n15\n00:00:49.752 --> 00:00:54.115\n&gt;&gt; Well, to some extent, Peter, you are\ncorrect, and I'm just gonna be forthright.\n\n16\n00:00:54.115 --> 00:00:55.720\nTitling is hard.\n\n17\n00:00:55.720 --> 00:01:00.000\nSo actually, what we're gonna do is\nintegrate this into our application so\n\n18\n00:01:00.000 --> 00:01:01.870\nthat our application, through React,\n\n19\n00:01:01.870 --> 00:01:04.800\ncan actually sign us up instead\nof us just hard coding this.\n\n20\n00:01:04.800 --> 00:01:09.552\nSo that's our goal for this episode,\nand we'll see how much time it takes.\n\n21\n00:01:09.552 --> 00:01:11.980\nSometimes things take\nlonger than expected.\n\n22\n00:01:11.980 --> 00:01:14.480\nSometimes they're rather expeditious.\n\n23\n00:01:14.480 --> 00:01:18.244\nBut I figure there's probably no\nbetter time than now to go ahead and\n\n24\n00:01:18.244 --> 00:01:19.300\ndive right on in and\n\n25\n00:01:19.300 --> 00:01:23.542\nstart figuring out how we're gonna\nsign up through our React application.\n\n26\n00:01:23.542 --> 00:01:25.240\nSo let's take a look at my screen here.\n\n27\n00:01:26.360 --> 00:01:28.260\nAnd I'm gonna open up the side bar.\n\n28\n00:01:28.260 --> 00:01:30.394\nI still have my application running.\n\n29\n00:01:30.394 --> 00:01:36.201\nAnd you'll notice if you have the console\ntools open that the web pack dev server,\n\n30\n00:01:36.201 --> 00:01:38.220\nespecially the hot reload,\n\n31\n00:01:38.220 --> 00:01:42.532\nif you have a variable that you don't use,\nit will tell you.\n\n32\n00:01:42.532 --> 00:01:45.570\nSo it's just trying to help you,\nhey, you're not using this variable,\n\n33\n00:01:45.570 --> 00:01:47.310\nmaybe you don't need it.\n\n34\n00:01:47.310 --> 00:01:49.500\nSo here's our sign up.\n\n35\n00:01:49.500 --> 00:01:53.850\nIf I click Sign Up,\nit just turns this around, right?\n\n36\n00:01:53.850 --> 00:01:54.830\nHow does that occur?\n\n37\n00:01:56.190 --> 00:02:00.802\nWell, it occurs through this handleSignUp.\n\n38\n00:02:00.802 --> 00:02:05.220\nWe're probably gonna have to fix that,\nso that's pretty easy.\n\n39\n00:02:05.220 --> 00:02:08.432\nAnd then that handleSignUp\nis passed through to\n\n40\n00:02:08.432 --> 00:02:11.630\nour SignUpForm on the onSignUp prop.\n\n41\n00:02:11.630 --> 00:02:17.730\nAnd then that is called right,\nwait for it, wait for it.\n\n42\n00:02:17.730 --> 00:02:20.140\nRight here, this .props.onSignUp.\n\n43\n00:02:20.140 --> 00:02:26.650\nSo that's sending back an actual event,\nbut really what we want is,\n\n44\n00:02:26.650 --> 00:02:30.470\nhey, on sign up when someone clicks that,\nwe want to initiate the sign up.\n\n45\n00:02:30.470 --> 00:02:32.270\nBut we want to keep all of our data,\n\n46\n00:02:32.270 --> 00:02:36.860\nall of our information kind of\nup in our main app component.\n\n47\n00:02:36.860 --> 00:02:41.200\nSo in order to do that, we're gonna\nhave to change around some things and\n\n48\n00:02:41.200 --> 00:02:43.840\nthat's just the nature of the game, right?\n\n49\n00:02:43.840 --> 00:02:45.450\nIn addition to,\n\n50\n00:02:45.450 --> 00:02:51.350\nI find that I'm probably gonna use\nthe auth portion of Firebase a great deal.\n\n51\n00:02:51.350 --> 00:02:56.020\nSo I think it's probably best if we just\ngo ahead and come inside of this fire.js.\n\n52\n00:02:56.020 --> 00:03:01.060\nGo ahead and make an auth instance and\nthen export it from this file.\n\n53\n00:03:01.060 --> 00:03:03.610\nAnd then only use the auth\ninstance where we need it\n\n54\n00:03:03.610 --> 00:03:06.130\ninstead of bringing in\nthe entire Firebase app.\n\n55\n00:03:06.130 --> 00:03:09.106\nSo, that is going to be a named export.\n\n56\n00:03:09.106 --> 00:03:14.476\nSo, I'm gonna say, export const auth\n\n57\n00:03:14.476 --> 00:03:19.210\n= firebaseApp.auth, like so.\n\n58\n00:03:19.210 --> 00:03:24.060\nSo now I can use the distructuring syntax,\nthe curly braces from and\n\n59\n00:03:24.060 --> 00:03:28.560\ngrab just the auth instance from\nour respective application.\n\n60\n00:03:28.560 --> 00:03:33.870\nSo now if I come over here to app,\nwe'll just bring in the auth instance and\n\n61\n00:03:33.870 --> 00:03:37.120\nno longer the actual full Firebase app.\n\n62\n00:03:37.120 --> 00:03:41.850\nSo here we go, and so\nI'm going to import auth from fire.\n\n63\n00:03:41.850 --> 00:03:47.920\nAnd this destructuring occurs because this\nis a named export, not the default export.\n\n64\n00:03:49.410 --> 00:03:51.510\nSo now that we have auth,\n\n65\n00:03:51.510 --> 00:03:56.860\nhandleSignUp is actually what's getting\ncalled when we submit our sign up form.\n\n66\n00:03:57.960 --> 00:04:03.500\nAnd it's setting some new state that\nworked for now right when we were testing.\n\n67\n00:04:03.500 --> 00:04:09.870\nBut I'm not sure that that works here,\nso what should it do?\n\n68\n00:04:09.870 --> 00:04:15.045\nWell I think this handleSignUp\nwould probably best to\n\n69\n00:04:15.045 --> 00:04:20.105\ntake an email, and\na password and then remove this,\n\n70\n00:04:20.105 --> 00:04:26.093\nlet's just console.log email and\npassword as such, okay?\n\n71\n00:04:26.093 --> 00:04:29.357\nBecause this is going to break\nsome things, not gonna lie.\n\n72\n00:04:29.357 --> 00:04:34.680\nSo if I type in my email for\nmy sign up form and my password 1,\n\n73\n00:04:34.680 --> 00:04:38.640\n2, 3, 4, 5, 6, and I click Sign Up.\n\n74\n00:04:38.640 --> 00:04:42.960\nIt's doing not now,\nit's doing some weirdness.\n\n75\n00:04:42.960 --> 00:04:48.446\nIt's no longer preventing the default,\nright?\n\n76\n00:04:48.446 --> 00:04:51.304\nSo, how are we going to fix that?\n\n77\n00:04:51.304 --> 00:04:52.474\nIf we come up to sign up form.\n\n78\n00:04:52.474 --> 00:04:57.982\nThat's because this .props.onsignup\nis being run on form submission.\n\n79\n00:04:57.982 --> 00:05:02.350\nBut really what I want\nis to pass in the state.\n\n80\n00:05:03.480 --> 00:05:09.164\nSo, we can change this to be e.,\nI don't know,\n\n81\n00:05:09.164 --> 00:05:16.395\nthat may not quite work because\nI need to prevent the default.\n\n82\n00:05:16.395 --> 00:05:22.635\nSo I'm just gonna call this.onSubmit, so\nI'm restructuring some of the function so\n\n83\n00:05:22.635 --> 00:05:28.120\nI can use the on sign up and maybe I\nhave to do some other things, okay?\n\n84\n00:05:28.120 --> 00:05:35.363\nSo, if I go up here and I say onSubmit and\nthis is an internal function.\n\n85\n00:05:35.363 --> 00:05:39.873\nAnd now, instead of refreshing,\nso we're gonna now pull our\n\n86\n00:05:39.873 --> 00:05:44.920\nprevent default inside of here\nbecause it's specific to this form.\n\n87\n00:05:44.920 --> 00:05:50.093\nAnd I'm also going to print out props,\nso this.props\n\n88\n00:05:54.168 --> 00:05:59.058\nAll right, so if we refresh and\nwe say j@j.com and\n\n89\n00:05:59.058 --> 00:06:01.801\n1, 2, 3, 4, 5, 6.\n\n90\n00:06:01.801 --> 00:06:05.705\nAnd we click Sign Up, onSignUp is\nthe function that we wanna run.\n\n91\n00:06:05.705 --> 00:06:08.510\nI'm gonna have to turn that\noff cuz that's annoying.\n\n92\n00:06:08.510 --> 00:06:09.262\n&gt;&gt; Save that.\n\n93\n00:06:09.262 --> 00:06:12.540\n&gt;&gt; Yeah, I should save that,\nso that it will autofill.\n\n94\n00:06:12.540 --> 00:06:15.950\nBut notice onSignUp is expecting\nan email and a password.\n\n95\n00:06:15.950 --> 00:06:21.930\nWe're essentially delegating\nresponsibility back to the app.\n\n96\n00:06:21.930 --> 00:06:24.560\nSo we'll say, okay,\nwe'll handle all the state and\n\n97\n00:06:24.560 --> 00:06:27.180\nstuff, and then we're gonna\nhand that back to the app and\n\n98\n00:06:27.180 --> 00:06:31.960\nlet the app do the actual sign-up process,\nany error handling, so on and so forth.\n\n99\n00:06:33.410 --> 00:06:37.458\nAnd that's helpful because all of our app\nstate is going to be inside of our app\n\n100\n00:06:37.458 --> 00:06:38.153\ncomponent.\n\n101\n00:06:38.153 --> 00:06:40.681\nNow there are a great deal\nof ways to structure this.\n\n102\n00:06:40.681 --> 00:06:44.830\nThis is just the way that I've decided\nto structure this particular one.\n\n103\n00:06:44.830 --> 00:06:48.250\nSo how are we going to do that?\n\n104\n00:06:48.250 --> 00:06:54.200\nWell, assuming that when I\nclick the Submit button,\n\n105\n00:06:54.200 --> 00:06:57.910\nthe email and\npassword have actually been filled out.\n\n106\n00:06:57.910 --> 00:07:01.678\nThat would be available\non this state object.\n\n107\n00:07:01.678 --> 00:07:08.958\nSo I can grab email and\npassword by destructuring like so,\n\n108\n00:07:08.958 --> 00:07:13.423\nemail, password = this.state.\n\n109\n00:07:13.423 --> 00:07:18.050\nAnd now let's just console.log email and\npassword.\n\n110\n00:07:18.050 --> 00:07:21.910\nSo this is inside of\nthis onSubmit function.\n\n111\n00:07:21.910 --> 00:07:25.990\nAnd we're just blah, blah, blah,\nvery exclusive password and email.\n\n112\n00:07:27.640 --> 00:07:30.940\nThere we go, there's our email and\npassword respectively.\n\n113\n00:07:30.940 --> 00:07:35.550\nHold on just a whoa,\njust disable that real quick.\n\n114\n00:07:36.970 --> 00:07:38.881\nLog out, there we go.\n\n115\n00:07:38.881 --> 00:07:44.587\nI don't know why it doesn't do that any\nother time on this particular Chrome user.\n\n116\n00:07:44.587 --> 00:07:47.798\nSo, all right, so we have that.\n\n117\n00:07:47.798 --> 00:07:48.982\nThat's good.\n\n118\n00:07:48.982 --> 00:07:54.881\nBut now all we need to do\nis instead of console.log,\n\n119\n00:07:54.881 --> 00:07:59.585\nwe can just say this.props.onSignUp.\n\n120\n00:07:59.585 --> 00:08:03.499\nAnd pass it an email and a password, okay?\n\n121\n00:08:03.499 --> 00:08:07.888\nSo this is a function that's being\npassed through from the app,\n\n122\n00:08:07.888 --> 00:08:13.267\nkind of delegated down, so on sign up\nactually corresponds to handle sign up.\n\n123\n00:08:13.267 --> 00:08:16.340\nSo that's going to console.log,\nthe email and password.\n\n124\n00:08:17.550 --> 00:08:24.701\nSo if I refresh and [SOUND] and\nif we sign up, there we go.\n\n125\n00:08:24.701 --> 00:08:27.680\nIt's still keeping that same behavior.\n\n126\n00:08:27.680 --> 00:08:30.520\nBut now that we've got\nthe data back to the app,\n\n127\n00:08:30.520 --> 00:08:35.292\nwe've kind of bubbled it back up to our\napp component from our child component.\n\n128\n00:08:35.292 --> 00:08:37.350\nWell, now comes the fun part.\n\n129\n00:08:39.130 --> 00:08:42.710\nWe can grab this auth\ninstance that's right here.\n\n130\n00:08:42.710 --> 00:08:47.379\nAnd we can say auth.create user with,\nwell,\n\n131\n00:08:47.379 --> 00:08:50.620\nI gotta go look that up, Peter.\n\n132\n00:08:50.620 --> 00:08:52.117\nI can't remember those.\n\n133\n00:08:52.117 --> 00:08:52.920\nThey're so long.\n\n134\n00:08:52.920 --> 00:08:54.632\nCreate user with email and password.\n\n135\n00:08:54.632 --> 00:09:01.430\nCreateUserWithEmailAndPassword.\n\n136\n00:09:01.430 --> 00:09:04.704\nWe're just gonna say email, password.\n\n137\n00:09:04.704 --> 00:09:05.862\nAnd that's the email and\n\n138\n00:09:05.862 --> 00:09:09.460\npassword that is passed in from the actual\nchild component back up to the app.\n\n139\n00:09:10.710 --> 00:09:17.697\nSo then when we get a user,\nit's just console.log[user], and\n\n140\n00:09:17.697 --> 00:09:24.084\nthen we want to catch any\nerrors in console.error[err].\n\n141\n00:09:25.320 --> 00:09:29.640\nOkay, so now this has been delegated back\nup to the app component, we're good, and\n\n142\n00:09:29.640 --> 00:09:35.210\nif we had to set any app level state, like\nthe fact that maybe they're logged in and\n\n143\n00:09:35.210 --> 00:09:38.860\nthey have an email or\ntheir user ID or any of that.\n\n144\n00:09:38.860 --> 00:09:42.160\nIt is now back in the app level\ncomponent and I can access state easily.\n\n145\n00:09:43.840 --> 00:09:49.180\nSo, let's see if it works\nby clicking that button.\n\n146\n00:09:49.180 --> 00:09:50.909\nSo, looks good here.\n\n147\n00:09:54.248 --> 00:09:56.115\nAnd sign up.\n\n148\n00:09:56.115 --> 00:09:58.700\nAnd well, there's our print out.\n\n149\n00:09:58.700 --> 00:10:01.860\nThere's a couple of things that\nI don't particularly like here,\n\n150\n00:10:01.860 --> 00:10:03.910\nthe fact that these persist.\n\n151\n00:10:03.910 --> 00:10:07.030\nBut I'm not gonna worry about that\nnow because it’s unlikely that\n\n152\n00:10:07.030 --> 00:10:11.100\nwhen you sign up, you're going to\ncontinue to see the sign up component.\n\n153\n00:10:11.100 --> 00:10:15.040\nThat’s going to then change\nover to something else, right?\n\n154\n00:10:15.040 --> 00:10:18.470\nSo we have this user, let’s go check and\n\n155\n00:10:18.470 --> 00:10:22.530\nsee in our Firebase\ndatabase if it’s there.\n\n156\n00:10:22.530 --> 00:10:24.390\nAnd it is in fact there.\n\n157\n00:10:24.390 --> 00:10:26.020\n&gt;&gt; That's fantastic Justin,\nthat it worked.\n\n158\n00:10:26.020 --> 00:10:28.190\nBut, I wonder about that password.\n\n159\n00:10:28.190 --> 00:10:32.135\nIs that enforcing any other rules like you\ngotta have certain special characters, or\n\n160\n00:10:32.135 --> 00:10:34.068\ncapitalizations, anything like that?\n\n161\n00:10:34.068 --> 00:10:37.633\nI saw a pretty weak one, two, three,\nfour, five, six password before.\n\n162\n00:10:37.633 --> 00:10:39.555\n&gt;&gt; Yeah, and you're absolutely right.\n\n163\n00:10:39.555 --> 00:10:41.880\nWe should not be using one,\ntwo, three, four, five, six.\n\n164\n00:10:41.880 --> 00:10:44.191\nWe should actually put the word\npassword in front of one, two, three,\n\n165\n00:10:44.191 --> 00:10:44.856\nfour, five, six.\n\n166\n00:10:44.856 --> 00:10:47.469\n&gt;&gt; [LAUGH]\n&gt;&gt; And then it will be Uber secure.\n\n167\n00:10:47.469 --> 00:10:49.260\nI'm joking.\n\n168\n00:10:49.260 --> 00:10:52.680\nEverybody who's listening,\nno don't do that.\n\n169\n00:10:52.680 --> 00:10:57.560\nAnd that is a question that should\nbe answered, well by trial and\n\n170\n00:10:57.560 --> 00:10:58.230\nerror, I think.\n\n171\n00:10:58.230 --> 00:11:00.190\nLet's try some really weak ones.\n\n172\n00:11:00.190 --> 00:11:02.560\nWe saw that one, two, three,\nfour, five, six works.\n\n173\n00:11:02.560 --> 00:11:07.350\nLet's actually go try to sign up\nwith a single character and right,\n\n174\n00:11:07.350 --> 00:11:09.580\nyou should not use single\ncharacter passwords.\n\n175\n00:11:10.820 --> 00:11:13.230\nBut lets just see if Firebase\nallows us to do that.\n\n176\n00:11:13.230 --> 00:11:16.500\nSo we come back into my screen here and\nwe take a look.\n\n177\n00:11:16.500 --> 00:11:23.680\nAll right, well everything's good here,\nhowever if I come over here and I refresh.\n\n178\n00:11:23.680 --> 00:11:29.463\nRight, okay, so I refresh and\nI just say d@d.com, and\n\n179\n00:11:29.463 --> 00:11:35.382\nI just say the letter d is my password,\nand I click Sign Up.\n\n180\n00:11:35.382 --> 00:11:38.561\nAnd nope, all kinds of wrong.\n\n181\n00:11:38.561 --> 00:11:42.540\nPasswords should be at least six\ncharacters, auth/weak-password.\n\n182\n00:11:42.540 --> 00:11:46.440\nSo it will actually throw an error\nif it's shorter than six characters.\n\n183\n00:11:46.440 --> 00:11:50.970\nIf we come over to the documentation,\nand we look.\n\n184\n00:11:50.970 --> 00:11:56.752\nSo if we go to password errors.\n\n185\n00:11:56.752 --> 00:11:57.800\nHere we go, errors.\n\n186\n00:11:59.770 --> 00:12:04.775\nSo if we come and do auth errors and\nwe look through, app deleted,\n\n187\n00:12:04.775 --> 00:12:09.873\napp not authorized, unauthorized domain,\nuser token expired,\n\n188\n00:12:09.873 --> 00:12:13.530\nweb storage unsupported,\ntoo many requests.\n\n189\n00:12:14.860 --> 00:12:18.920\nI don't see too much about passwords so\n\n190\n00:12:20.860 --> 00:12:23.440\nlet's look through some\nmore of the documentation.\n\n191\n00:12:23.440 --> 00:12:24.900\nEmail auth provider.\n\n192\n00:12:24.900 --> 00:12:28.459\nLet's see if there's errors\nassociated with that.\n\n193\n00:12:28.459 --> 00:12:32.374\nAnd if we come down,\nthere's not a whole, whole lot.\n\n194\n00:12:32.374 --> 00:12:36.390\nAnd as far as I can tell, it's\nessentially checking for password length.\n\n195\n00:12:36.390 --> 00:12:42.320\nIt is not doing a great deal of\nverification that you're using a special\n\n196\n00:12:42.320 --> 00:12:47.170\ncharacter, a number, and you're combining\nthis with at least six characters.\n\n197\n00:12:47.170 --> 00:12:50.820\nNow, it may be nestled away in\nthe documentation somewhere,\n\n198\n00:12:50.820 --> 00:12:54.370\nbut this is the only error that\nI can really get it to throw.\n\n199\n00:12:54.370 --> 00:12:58.890\nSo validation of password rules is\nmore of a front end thing, right?\n\n200\n00:12:58.890 --> 00:13:00.090\nYou have that input field.\n\n201\n00:13:00.090 --> 00:13:04.530\nYou actually have the stored in\ndata in the sign up component.\n\n202\n00:13:04.530 --> 00:13:09.890\nYou could then,\nbefore allowing the sign up to occur,\n\n203\n00:13:09.890 --> 00:13:14.430\nyou could have a validation function that\nvalidates your password for strength.\n\n204\n00:13:14.430 --> 00:13:15.813\nYou can say no, no, no, no, no.\n\n205\n00:13:15.813 --> 00:13:19.642\nEven though Firebase lets\nyou take six characters.\n\n206\n00:13:19.642 --> 00:13:22.949\nI'm gonna make you have at least ten,\nright?\n\n207\n00:13:22.949 --> 00:13:26.546\nAnd they have to be a special character,\nand at least one number, and\n\n208\n00:13:26.546 --> 00:13:27.920\nat least ten characters.\n\n209\n00:13:27.920 --> 00:13:32.092\nSo, this is something that you would\ndecide for your personal password policy.\n\n210\n00:13:32.092 --> 00:13:35.111\nNow behind the scenes,\nI don't know about the hashing function.\n\n211\n00:13:35.111 --> 00:13:37.721\nI don't know how this is stored or\nwhere it's stored,\n\n212\n00:13:37.721 --> 00:13:40.004\nother than it's on\nthe Google Cloud platform.\n\n213\n00:13:40.004 --> 00:13:43.640\nSo you should enforce strong\npasswords through a login.\n\n214\n00:13:43.640 --> 00:13:47.450\nWe're not gonna do that just for\nthe sake of simplicity but\n\n215\n00:13:47.450 --> 00:13:52.684\nat least you don't have any less than six\ncharacters which is pretty easy to do.\n\n216\n00:13:52.684 --> 00:13:55.605\nNow the-\n&gt;&gt; I was gonna say,\n\n217\n00:13:55.605 --> 00:13:57.311\nI noticed in the app itself,\n\n218\n00:13:57.311 --> 00:14:01.879\nthe error message actually showed up in\nthe dev tools on the right hand side.\n\n219\n00:14:01.879 --> 00:14:05.070\nAnd I know we're not at the point yet\nwhere we're making this pretty, but\n\n220\n00:14:05.070 --> 00:14:08.522\nwe definitely want to make sure that that\nactually shows up for the user as well so\n\n221\n00:14:08.522 --> 00:14:10.916\nthey can see what the problem\nwas with their password.\n\n222\n00:14:10.916 --> 00:14:13.103\nNothing more frustrating\nthan you get to a site and\n\n223\n00:14:13.103 --> 00:14:16.292\nit says that password isn't acceptable,\nbut it doesn't tell you why.\n\n224\n00:14:16.292 --> 00:14:20.772\nSo we want to make sure when we actually\nput those requirements in that we tell\n\n225\n00:14:20.772 --> 00:14:21.402\nthe user.\n\n226\n00:14:21.402 --> 00:14:26.480\n&gt;&gt; Exactly, if we're just gonna rely\non the Firebase authentication.\n\n227\n00:14:26.480 --> 00:14:29.099\nThat's actually the only error that\nwe're really gonna have to handle.\n\n228\n00:14:29.099 --> 00:14:32.913\nBut we could build a little error\ncomponent, and then part of the internal\n\n229\n00:14:32.913 --> 00:14:37.680\nstate of the app is saying, if there's\nan error, show the error component.\n\n230\n00:14:37.680 --> 00:14:40.320\nBut if there's not,\nthen just keep it away.\n\n231\n00:14:40.320 --> 00:14:45.170\nAnd then only add that error when it\nexists so that .catch would exist there.\n\n232\n00:14:45.170 --> 00:14:50.280\nThere is one final thing that I wanna show\nyou just for some code cleanup as we go.\n\n233\n00:14:50.280 --> 00:14:55.272\nSo if we take a look at my screen here,\nyou will notice something here.\n\n234\n00:14:55.272 --> 00:15:00.490\nI destructure email and password from the\ninternal state of this component, right?\n\n235\n00:15:01.810 --> 00:15:06.100\nWell, when I do that,\nI just pass this the email and\n\n236\n00:15:06.100 --> 00:15:09.420\npassword and well,\nit comes over here as email and password.\n\n237\n00:15:09.420 --> 00:15:14.299\nIt seems like a lot of work just to pull\nit apart to put it back into a function,\n\n238\n00:15:14.299 --> 00:15:14.850\nright?\n\n239\n00:15:14.850 --> 00:15:20.289\nWith some new features of ES6 or\nES2015, I don't have to do this.\n\n240\n00:15:20.289 --> 00:15:27.420\nSo we're gonna do a little bit of cleanup\nhere, and just say this.state, like so.\n\n241\n00:15:27.420 --> 00:15:29.851\nAnd then I'm gonna come over here to app.\n\n242\n00:15:29.851 --> 00:15:32.720\nAnd I'm gonna wrap these two\narguments in curly braces.\n\n243\n00:15:32.720 --> 00:15:35.820\nSo I can do kind of in\nplace destructuring.\n\n244\n00:15:35.820 --> 00:15:39.540\nSo as long as the object that's\nsent in has an email and\n\n245\n00:15:39.540 --> 00:15:45.070\na password field, it will get destructured\nas arguments to this function.\n\n246\n00:15:45.070 --> 00:15:47.720\nEverything still works, we're good to go.\n\n247\n00:15:48.850 --> 00:15:54.090\nBut we don't have as many lines of code,\nit's a little cleaner, a little nicer.\n\n248\n00:15:54.090 --> 00:15:55.340\nI tend to like it.\n\n249\n00:15:55.340 --> 00:15:57.535\nYou're more than welcome to choose\nwhatever preference you are.\n\n250\n00:15:57.535 --> 00:15:59.920\nWe should probably double check and\nmake sure it still works.\n\n251\n00:15:59.920 --> 00:16:05.260\nSo let's just sign up with, I'm eventually\ngoing to delete most of these users\n\n252\n00:16:05.260 --> 00:16:07.690\ncuz I don't remember\nany of their passwords.\n\n253\n00:16:07.690 --> 00:16:11.745\nSo sign up and it still works,\nthat's good to know.\n\n254\n00:16:11.745 --> 00:16:16.723\nNow, from a sign up perspective, I would\nlike to clear the state, but as I said,\n\n255\n00:16:16.723 --> 00:16:21.900\nyou're gonna navigate somewhere else,\nthe component's gonna go away.\n\n256\n00:16:21.900 --> 00:16:27.590\nBut maybe just in case,\nwe'll go ahead and set the state\n\n257\n00:16:30.020 --> 00:16:35.430\nof email to nothing and\npassword to nothing.\n\n258\n00:16:35.430 --> 00:16:37.990\nOur app may take some\ndifferent turns here,\n\n259\n00:16:37.990 --> 00:16:41.350\nand just to remove that so I don't\naccidentally end up with a bunch of errors\n\n260\n00:16:41.350 --> 00:16:43.160\nwhen I accidentally\ndouble-click a bunch of times.\n\n261\n00:16:44.350 --> 00:16:47.110\nThen we'll go ahead and\nclear that out from the component.\n\n262\n00:16:47.110 --> 00:16:52.940\nIn addition to that, the .then, I don't\nreally want people to automatically login.\n\n263\n00:16:52.940 --> 00:16:54.213\nThis is my decision.\n\n264\n00:16:54.213 --> 00:16:57.871\nI don't want them to login\non successful sign up.\n\n265\n00:16:57.871 --> 00:17:02.408\nSo, I'm gonna remove this .then here\nbecause I don't want to handle the user.\n\n266\n00:17:02.408 --> 00:17:07.750\nI'm going to force them to go back\nthrough the actual login process.\n\n267\n00:17:07.750 --> 00:17:09.337\nAnd the reason I'm doing that is,\n\n268\n00:17:09.337 --> 00:17:12.477\nif you want to implement one of\nthose email verifications, right?\n\n269\n00:17:12.477 --> 00:17:15.940\nI'm gonna send you an email and\nyou have to verify your account first.\n\n270\n00:17:15.940 --> 00:17:18.828\nThen this'll keep them from\naccidentally getting logged in.\n\n271\n00:17:18.828 --> 00:17:23.460\nAnd it kinda puts you in a flow so\nthen you can say, hey you've signed up.\n\n272\n00:17:23.460 --> 00:17:25.010\nPlease go check your email.\n\n273\n00:17:25.010 --> 00:17:27.490\nAnd then when they'll go\nI'll go check my email.\n\n274\n00:17:27.490 --> 00:17:30.408\nYou still should verify that\nthe email's verified, right,\n\n275\n00:17:30.408 --> 00:17:34.830\nthe account's been verified through email\nand have front end logic appropriately.\n\n276\n00:17:34.830 --> 00:17:37.570\nBut by forcing them to\nlog in after signing up,\n\n277\n00:17:37.570 --> 00:17:41.370\nit gives them pause to\ngo actually do that.\n\n278\n00:17:41.370 --> 00:17:42.950\nSo we're gonna remove that.\n\n279\n00:17:42.950 --> 00:17:46.120\nWe're gonna leave that\nconsole error just for now.\n\n280\n00:17:46.120 --> 00:17:49.700\nBecause, we'll see there might be\nsome other errors that crop up and\n\n281\n00:17:49.700 --> 00:17:52.400\nthen we'll know what errors we\nneed to handle accordingly.\n\n282\n00:17:52.400 --> 00:17:54.320\n&gt;&gt; And that message about going and\nchecking your email,\n\n283\n00:17:54.320 --> 00:17:57.460\nthat's just a state you\nsaid in there as well?\n\n284\n00:17:57.460 --> 00:18:00.510\n&gt;&gt; So it's a little more involved,\nwe're gonna forgo that.\n\n285\n00:18:00.510 --> 00:18:02.050\nBut essentially when it comes back,\n\n286\n00:18:02.050 --> 00:18:05.930\nwhen the user comes back,\nyou can say send an email immediately.\n\n287\n00:18:05.930 --> 00:18:11.619\nAnd then it will send an email to said\nuser based on the format from Firebase.\n\n288\n00:18:11.619 --> 00:18:14.954\nAnd then they're gonna click on a link\nthat will verify that they have received\n\n289\n00:18:14.954 --> 00:18:16.227\nit at that particular email.\n\n290\n00:18:16.227 --> 00:18:21.407\nBut it's something good if you were gonna\nuse this for appropriate distribution or\n\n291\n00:18:21.407 --> 00:18:24.892\nyou're going to deploy this and\nhopefully have users.\n\n292\n00:18:24.892 --> 00:18:28.319\nThen you wanna verify that the email\nthat they're putting in is actually\n\n293\n00:18:28.319 --> 00:18:29.055\nowned by them.\n\n294\n00:18:29.055 --> 00:18:33.344\n&gt;&gt; Sure, well, it looks like we've got\nthe sign up pretty much wrapped up with\n\n295\n00:18:33.344 --> 00:18:36.158\na little loose ends we're\ngonna tie up there, but\n\n296\n00:18:36.158 --> 00:18:38.592\nnext step seems to be actually logging in.\n\n297\n00:18:38.592 --> 00:18:41.406\nBut looking at the clock, it looks\nlike that's gonna have to wait for\n\n298\n00:18:41.406 --> 00:18:42.045\nnext episode.\n\n299\n00:18:42.045 --> 00:18:44.425\nWhich is probably good, cuz that'll\ntake a little bit of time in itself.\n\n300\n00:18:44.425 --> 00:18:45.749\nBut, any other final thoughts?\n\n301\n00:18:45.749 --> 00:18:46.762\nJustin, are you good there?\n\n302\n00:18:46.762 --> 00:18:47.818\n&gt;&gt; I think we are good.\n\n303\n00:18:47.818 --> 00:18:50.940\nWe've actually started\nintegrating Firebase as the data\n\n304\n00:18:50.940 --> 00:18:54.958\npersistence layer in our React app and\nI'm feeling good about it thus far.\n\n305\n00:18:54.958 --> 00:18:57.599\n&gt;&gt; All right, well let's go ahead and\nwrap this one up so\n\n306\n00:18:57.599 --> 00:18:59.076\nwe can get to that logging in.\n\n307\n00:18:59.076 --> 00:19:00.942\nSo, signing off for DevProTV.\n\n308\n00:19:00.942 --> 00:19:02.745\nI have been your host, Peter VanRysdam.\n\n309\n00:19:02.745 --> 00:19:03.673\n&gt;&gt; And I'm Justin Dennison.\n\n310\n00:19:03.673 --> 00:19:05.636\n&gt;&gt; And we'll see you next time.\n\n311\n00:19:05.636 --> 00:19:10.894\n[MUSIC]\n\n",
          "vimeoId": "229847931"
        },
        {
          "description": "With the sign up process complete, Justin and Peter use the log in functionality from firebase to authenticate users. Justin shows how to add that feature and test that it’s working with the sign up component.",
          "length": "1432",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-6-1-logging_in_with_firebase-081517-PGM.00_28_17_09.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-6-1-logging_in_with_firebase-081517-PGM.00_28_17_09.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-6-1-logging_in_with_firebase-081517-PGM.00_28_17_09.Still001-sm.jpg",
          "title": "Logging In with Firebase",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.773 --> 00:00:14.912\nHello and welcome to DEVPRO.TV.\n\n3\n00:00:14.912 --> 00:00:19.498\nI'm your host Peter VanRysdam and today\nwe're continuing with our series where\n\n4\n00:00:19.498 --> 00:00:23.081\nwe're building a chat application\nusing React and Firebase.\n\n5\n00:00:23.081 --> 00:00:26.440\nAnd specifically in this episode,\nwe're going to actually log in.\n\n6\n00:00:26.440 --> 00:00:29.510\nWe've set up our accounts and\nnow we're ready to take the next step and\n\n7\n00:00:29.510 --> 00:00:30.610\nactually use those accounts.\n\n8\n00:00:30.610 --> 00:00:33.630\nAnd here to show us how that's all\ngonna work, we have Justin Dennison.\n\n9\n00:00:33.630 --> 00:00:34.700\nJustin, how you doing?\n\n10\n00:00:34.700 --> 00:00:36.630\n&gt;&gt; I am doing fantastic Peter,\nand how are you today?\n\n11\n00:00:36.630 --> 00:00:38.280\n&gt;&gt; You know, I can't complain at all.\n\n12\n00:00:38.280 --> 00:00:41.880\nBut, I'm really excited to see,\nis this really different than\n\n13\n00:00:41.880 --> 00:00:45.550\nthe steps we did last time, where we\nwere kind of creating the account?\n\n14\n00:00:46.590 --> 00:00:48.330\n&gt;&gt; There's not a whole lot of difference,\n\n15\n00:00:48.330 --> 00:00:51.610\nother than we're now going to\nstart maintaining some internal\n\n16\n00:00:51.610 --> 00:00:56.750\napp state that is originating from\nthe Firebase actual tool kit.\n\n17\n00:00:56.750 --> 00:00:59.905\nNow that is the decision that I've\nmade just to make some my decision\n\n18\n00:00:59.905 --> 00:01:00.950\nmakings easier.\n\n19\n00:01:00.950 --> 00:01:02.840\nAnd I also don't have\nto call at to Firebase\n\n20\n00:01:02.840 --> 00:01:04.060\nto get that information every time.\n\n21\n00:01:04.060 --> 00:01:06.330\nSo here, let me set the picture for you.\n\n22\n00:01:06.330 --> 00:01:09.330\nLet me paint the scene, so to speak.\n\n23\n00:01:09.330 --> 00:01:11.020\nSo, we're now able to sign up.\n\n24\n00:01:12.110 --> 00:01:18.030\nAfter we sign up, I'm gonna say,\nyou need to go login now.\n\n25\n00:01:18.030 --> 00:01:21.940\nI'm not persisting your user even though\nFirebase provided us that ability.\n\n26\n00:01:21.940 --> 00:01:25.500\nI'm not persisting your user\ntill you actually login, okay?\n\n27\n00:01:25.500 --> 00:01:28.420\nSo when we reach out to Firebase login and\nit's verified.\n\n28\n00:01:28.420 --> 00:01:32.891\nWhen it comes back, well,\nwe wanna grab the user object,\n\n29\n00:01:32.891 --> 00:01:36.374\nand actually persist\nportions of the state.\n\n30\n00:01:36.374 --> 00:01:39.050\nAlso we wanna know,\nhey are we logged in or not?\n\n31\n00:01:39.050 --> 00:01:43.736\nSo we're gonna keep that internal to\nthe app and that's gonna come in handy for\n\n32\n00:01:43.736 --> 00:01:45.519\na variety of reasons, okay?\n\n33\n00:01:45.519 --> 00:01:48.400\nSo let's actually start by getting\n\n34\n00:01:48.400 --> 00:01:52.440\nour login form component\nactually logging us in.\n\n35\n00:01:52.440 --> 00:01:55.340\nIt's gonna be very similar to\nthe sign up form component.\n\n36\n00:01:55.340 --> 00:01:58.727\nSo let's take a look at my screen here,\nand here's our app component,\n\n37\n00:01:58.727 --> 00:02:01.220\neverything's still running,\nhere's our state.\n\n38\n00:02:01.220 --> 00:02:06.860\nAnd I'll just have that printed our here\njust and a pre-tag, just so we can see it.\n\n39\n00:02:06.860 --> 00:02:11.740\nAnd that way we always know what's going\non in the state of our application.\n\n40\n00:02:11.740 --> 00:02:15.485\nSo if we come over here and\nwe have this handle login and\n\n41\n00:02:15.485 --> 00:02:19.740\nlogin's going to take an email and\nit's logging the state.\n\n42\n00:02:19.740 --> 00:02:23.616\nActually let''s get rid of this\nconsole.log even though I put them there\n\n43\n00:02:23.616 --> 00:02:27.985\njust to help me understand what's going on\ninside the application you should always\n\n44\n00:02:27.985 --> 00:02:31.790\ntake those out, when you're kind\nof finishing up or tidying up.\n\n45\n00:02:31.790 --> 00:02:34.334\nSo, here's our handle login,\nit's taking an email but\n\n46\n00:02:34.334 --> 00:02:37.730\nI don't think that's going to work for\nus, but how does that flow through?\n\n47\n00:02:37.730 --> 00:02:42.050\nIn our log in form, on login,\nwe're going to handle the login.\n\n48\n00:02:42.050 --> 00:02:43.990\nThat's going to come through,\nthrough our email.\n\n49\n00:02:43.990 --> 00:02:47.260\nWe come to log in form,\nwell we'd all ready\n\n50\n00:02:48.300 --> 00:02:52.342\nabstracted that out to\nthis.props.loginstate.email.\n\n51\n00:02:52.342 --> 00:02:57.250\nAll right, and the sign up form we\nactually had to redo that refractor.\n\n52\n00:02:57.250 --> 00:03:00.260\nBut we've already done that in\nthe login form kind of our set up, so\n\n53\n00:03:00.260 --> 00:03:03.230\nthat's one of those things where, I don't\nreally know how this is gonna work out.\n\n54\n00:03:03.230 --> 00:03:05.790\nI'm trying to learn,\nI'm trying to figure this out.\n\n55\n00:03:05.790 --> 00:03:07.390\nYou do it one way,\nyou do it another way and\n\n56\n00:03:07.390 --> 00:03:11.740\nthen you'll find, this way is actually\ngoing to be more applicable, okay?\n\n57\n00:03:11.740 --> 00:03:17.060\nSo when we log in, when we actually submit\nthis form, this .login is gonna run.\n\n58\n00:03:17.060 --> 00:03:22.258\nIt's gonna prevent default of form and\nthis props.onLogin which\n\n59\n00:03:22.258 --> 00:03:27.471\nis the handle login from the original\ntop level app is going to run.\n\n60\n00:03:27.471 --> 00:03:31.736\nThat's going to run with\njust a sample email, okay?\n\n61\n00:03:31.736 --> 00:03:34.382\nSo let's make sure that that still works.\n\n62\n00:03:34.382 --> 00:03:37.450\nAll it's gonna do is Is set some stuff.\n\n63\n00:03:37.450 --> 00:03:39.520\nAnd actually,\nI guess I should put in a valid email.\n\n64\n00:03:39.520 --> 00:03:44.720\nAnd then login, and there it is,\nthere's an email and is logged in.\n\n65\n00:03:44.720 --> 00:03:46.640\nOkay, so that alters our state.\n\n66\n00:03:46.640 --> 00:03:49.245\nWe know that runs, it doesn't refresh\nthe page, we're all good to go.\n\n67\n00:03:49.245 --> 00:03:55.070\nNow how am I going to handle this?\n\n68\n00:03:55.070 --> 00:03:57.760\nWell, first of,\nI'm just going to comment this out.\n\n69\n00:03:57.760 --> 00:03:59.870\nWe might need this later.\n\n70\n00:03:59.870 --> 00:04:04.400\nBut I know I'm gonna need an email and\na password.\n\n71\n00:04:04.400 --> 00:04:06.990\nAnd how am I gonna get that email and\nthat password?\n\n72\n00:04:06.990 --> 00:04:10.140\nSo we'll just saying we'll gonna\ntake this is gonna take a password.\n\n73\n00:04:11.490 --> 00:04:14.610\nLike so, and that's gonna come\nin from the login from, so,\n\n74\n00:04:14.610 --> 00:04:18.192\nI could just come over here and\nsay ths.state.password.\n\n75\n00:04:19.611 --> 00:04:22.320\nAnd let's see if now.\n\n76\n00:04:25.878 --> 00:04:28.600\nI'm very conscious with my testing.\n\n77\n00:04:28.600 --> 00:04:30.810\nSo, login, login.\n\n78\n00:04:30.810 --> 00:04:32.380\nI broke something right?\n\n79\n00:04:32.380 --> 00:04:36.149\nHm, so we call this.onLogin.\n\n80\n00:04:36.149 --> 00:04:38.437\nAnd we came over here to app.js.\n\n81\n00:04:38.437 --> 00:04:43.290\nAnd well, it's not running anything,\ncuz there's nothing in there to run.\n\n82\n00:04:43.290 --> 00:04:45.470\nI guess we should\nconsole.log the email and\n\n83\n00:04:45.470 --> 00:04:48.100\nthe password or something of that nature.\n\n84\n00:04:48.100 --> 00:04:52.550\nSo now it's gonna refresh,\nand there we go.\n\n85\n00:04:53.870 --> 00:04:57.040\nSo we're going to login, and\nthere's our email and password.\n\n86\n00:04:57.040 --> 00:04:59.350\nOkay, so it's been sitting back to us.\n\n87\n00:04:59.350 --> 00:05:03.330\nNow at this point, what do we want to do?\n\n88\n00:05:03.330 --> 00:05:05.960\nWell, we're gonna grab the auth\ninstance from Firebase and\n\n89\n00:05:05.960 --> 00:05:09.860\nactually log in using\nthe method from Firebase.\n\n90\n00:05:09.860 --> 00:05:10.587\nNow, we'll have to go and look that up.\n\n91\n00:05:10.587 --> 00:05:14.077\nThe real long method names,\neventually you remember though but\n\n92\n00:05:14.077 --> 00:05:17.520\nstill you don't have to go look\nthem up from time to time.\n\n93\n00:05:17.520 --> 00:05:19.030\nSo I know it's auth.\n\n94\n00:05:19.030 --> 00:05:25.470\nAnd then I come over here and I look,\nkinda moved around in my page here.\n\n95\n00:05:25.470 --> 00:05:31.440\nSo I'm gonna go back to the main auth and\nthen I'm going to, well, let's see here.\n\n96\n00:05:31.440 --> 00:05:36.298\nLet's go look sign in with credentials,\nsign in with custom token,\n\n97\n00:05:36.298 --> 00:05:38.660\nsign in with email and password.\n\n98\n00:05:39.840 --> 00:05:40.640\nThere we go.\n\n99\n00:05:40.640 --> 00:05:44.116\nSo sign in with email and password,\nI think that's gonna be it.\n\n100\n00:05:44.116 --> 00:05:47.367\nNow, we've used the terminology\nlogin in our application, but\n\n101\n00:05:47.367 --> 00:05:49.730\nsign in and login are synonymous.\n\n102\n00:05:49.730 --> 00:05:51.525\nSo sign in with email and password.\n\n103\n00:05:51.525 --> 00:05:57.752\nSign_in I forget if that's capital I,\nit is with\n\n104\n00:05:57.752 --> 00:06:04.710\nEmail and Password and we're gonna\npass up the email and the password.\n\n105\n00:06:06.680 --> 00:06:09.760\nNow we've kinda run into a problem here,\nPeter.\n\n106\n00:06:09.760 --> 00:06:13.160\nI don't remember any of\nmy users' passwords, so\n\n107\n00:06:13.160 --> 00:06:16.600\nwe're gonna have to-\n&gt;&gt; I do remember one of them.\n\n108\n00:06:16.600 --> 00:06:17.645\n&gt;&gt; What was it?\n\n109\n00:06:17.645 --> 00:06:20.592\n&gt;&gt; Jay@jay.com was 123456.\n\n110\n00:06:20.592 --> 00:06:22.060\n&gt;&gt; Well that.\n\n111\n00:06:22.060 --> 00:06:22.590\n&gt;&gt; Thank you, Peter.\n\n112\n00:06:22.590 --> 00:06:26.230\nThat's why you're here,\ncuz I'd already forgotten all of this.\n\n113\n00:06:26.230 --> 00:06:30.815\n&gt;&gt; You should really use your last\n&gt;&gt; I should, but not in this application.\n\n114\n00:06:30.815 --> 00:06:31.577\n&gt;&gt; Not for this.\n\n115\n00:06:31.577 --> 00:06:36.440\n&gt;&gt; So we're just going to console.error\nout any errors that may occur.\n\n116\n00:06:36.440 --> 00:06:41.110\nAnd well, you'll notice this is\nvery similar to what we had.\n\n117\n00:06:41.110 --> 00:06:44.820\nFor SignUp,\nwe actually took out the dot in there.\n\n118\n00:06:44.820 --> 00:06:46.510\nBut we're just signing in with email and\npassword.\n\n119\n00:06:46.510 --> 00:06:48.850\nNow this is because we've\nsigned up with email and\n\n120\n00:06:48.850 --> 00:06:52.420\npassword that we can sign in, right?\n\n121\n00:06:52.420 --> 00:06:56.060\nWe created a user and\nwe can sign in with that user.\n\n122\n00:06:56.060 --> 00:07:00.730\nSo let's go check and see, well,\nnumber one is Peter Wright and\n\n123\n00:07:00.730 --> 00:07:04.241\nnumber two,\ndoes our off-handler actually work?\n\n124\n00:07:05.630 --> 00:07:08.690\n&gt;&gt; So if I go j@j.com and\nthat's 1,2,3,4,5,6.\n\n125\n00:07:08.690 --> 00:07:09.370\n&gt;&gt; That's correct.\n\n126\n00:07:11.170 --> 00:07:15.520\n&gt;&gt; And I log in, there it is,\nthank you Peter,\n\n127\n00:07:15.520 --> 00:07:18.415\nyou were very helpful in that capacity.\n\n128\n00:07:18.415 --> 00:07:21.950\n&gt;&gt; Now but I see underneath it\nsays is logged in is false, so\n\n129\n00:07:21.950 --> 00:07:24.058\ndid that actually work?\n\n130\n00:07:24.058 --> 00:07:27.750\n&gt;&gt; Yeah, we haven't quite handled\nthat yet, but your on top of it.\n\n131\n00:07:27.750 --> 00:07:30.040\nHe's not gonna let me forget anything.\n\n132\n00:07:30.040 --> 00:07:33.277\nSo isLoggedin is still false\nthat's technically not true,\n\n133\n00:07:33.277 --> 00:07:34.870\ncuz I just logged in, right?\n\n134\n00:07:34.870 --> 00:07:38.730\nSo we have some state out of match.\n\n135\n00:07:38.730 --> 00:07:40.830\nSo we'll have to handle that.\n\n136\n00:07:40.830 --> 00:07:43.610\nThere is one thing though,\nthat I want to test.\n\n137\n00:07:43.610 --> 00:07:46.980\nAnd that's if I refresh and I go j@j.com.\n\n138\n00:07:46.980 --> 00:07:49.231\nAnd I just kinda rake my\nhands on the keyboard,\n\n139\n00:07:49.231 --> 00:07:51.440\nI know that's the wrong password.\n\n140\n00:07:51.440 --> 00:07:52.448\nWhat am I gonna see?\n\n141\n00:07:52.448 --> 00:07:56.617\nWell, if I go and login,\nand auth wrong password.\n\n142\n00:07:56.617 --> 00:08:01.478\nSo that's another error that we could\npossibly have to say, hey, Now,\n\n143\n00:08:01.478 --> 00:08:03.640\nhere's what's interesting.\n\n144\n00:08:03.640 --> 00:08:07.812\nThe password is invalid or\nthe user does not have a password.\n\n145\n00:08:07.812 --> 00:08:12.171\nTypically in standard login proceedings,\nyou're not gonna tell them, hey,\n\n146\n00:08:12.171 --> 00:08:15.111\nyour username's right but\nyour password's wrong.\n\n147\n00:08:15.111 --> 00:08:20.117\nBut because of all of the possible\ncombinations that you could use to log in\n\n148\n00:08:20.117 --> 00:08:26.030\ninto the application, Google, all those\nthings, then you kinda get away from that.\n\n149\n00:08:26.030 --> 00:08:30.720\nSo we can say hey, if it comes back with\nwrong password, we're just gonna tell\n\n150\n00:08:30.720 --> 00:08:35.030\nthem, the username and password you have\nused are incorrect, and/or password.\n\n151\n00:08:35.030 --> 00:08:38.540\nSo that's something that we would\nhandle just as a presentation.\n\n152\n00:08:38.540 --> 00:08:41.899\nWe wouldn't actually print out that hey,\nyour password's wrong.\n\n153\n00:08:41.899 --> 00:08:45.040\nCuz then you know and\nthat might be an actual username.\n\n154\n00:08:46.610 --> 00:08:51.870\nLet's check if I give a long username that\nI know doesn't exist, what happens there?\n\n155\n00:08:53.230 --> 00:08:58.330\nSo if I refresh, and\nI just blah, blah, blah, blah.\n\n156\n00:08:58.330 --> 00:09:02.333\nAnd I try to log in and user not found.\n\n157\n00:09:02.333 --> 00:09:07.109\nOkay, so I can do that and see if this was\nstill printing out and I wasn't handling\n\n158\n00:09:07.109 --> 00:09:11.340\nit, people could actually gather\ninformation about my application.\n\n159\n00:09:11.340 --> 00:09:14.429\nSo I need to be careful about that.\n\n160\n00:09:14.429 --> 00:09:17.375\nI will probably handle these and\nsay, if it's user not found or\n\n161\n00:09:17.375 --> 00:09:21.605\nthe password's incorrect, we're gonna say\nthe user and/or password you're trying to\n\n162\n00:09:21.605 --> 00:09:24.239\nuse is incorrect and\njust keep it very generic that way.\n\n163\n00:09:24.239 --> 00:09:28.065\nWe're gonna leave that printout and\nI tend to leave printouts kind of at\n\n164\n00:09:28.065 --> 00:09:31.410\nthe beginning until I can\nbuild components and such.\n\n165\n00:09:31.410 --> 00:09:35.260\nMainly so I can see, hey, something\nwent wrong, I should probably fix that.\n\n166\n00:09:36.960 --> 00:09:39.280\nSo we're actually able to log on.\n\n167\n00:09:39.280 --> 00:09:43.670\nBefore we go on, though,\nthis kinda looks like this signature.\n\n168\n00:09:43.670 --> 00:09:48.480\nAnd this kinda looks like me\npulling off email and password.\n\n169\n00:09:48.480 --> 00:09:52.380\nWe could probably apply something very\nsimilar that we did with the sign up, and\n\n170\n00:09:52.380 --> 00:09:57.700\ninstead, use some of these new\nfeatures to say this.state,\n\n171\n00:09:57.700 --> 00:10:02.659\nand then this.setstate to\n\n172\n00:10:02.659 --> 00:10:07.340\nemail and password, like so, right?\n\n173\n00:10:07.340 --> 00:10:11.600\nWe're just resetting them to nothing,\nbut we can call this.state.\n\n174\n00:10:11.600 --> 00:10:15.245\nBut that means we need to do\nin line destructuring as such.\n\n175\n00:10:15.245 --> 00:10:18.300\nAnd then we'll do one more\ncheck to make sure that works.\n\n176\n00:10:18.300 --> 00:10:21.140\nSo we can pull those off\nthe object that's passed in and\n\n177\n00:10:21.140 --> 00:10:24.990\nnow we essentially have named\narguments in JavaScript.\n\n178\n00:10:24.990 --> 00:10:30.292\nSo we come back over here and\nit already refreshed for me, j@j.com and\n\n179\n00:10:30.292 --> 00:10:36.790\nit's one, two, three, four, five, six, and\nnow we can log in and there's our user.\n\n180\n00:10:36.790 --> 00:10:40.503\nBut now I wanna come back and\naddress your concerns, Peter.\n\n181\n00:10:40.503 --> 00:10:46.151\nWe have some state here that it really\nshould update if we've logged in, right.\n\n182\n00:10:46.151 --> 00:10:50.120\nCuz if I come in and look at this\nuser object, hey, there's the email.\n\n183\n00:10:50.120 --> 00:10:54.876\nBut it'd nice if I could keep that\ninternal to my application cuz then\n\n184\n00:10:54.876 --> 00:10:58.074\nyou have this nice little, hey, J@J.com.\n\n185\n00:10:58.074 --> 00:11:01.353\nYou're offline, or hey,\nsomething went wrong or\n\n186\n00:11:01.353 --> 00:11:04.990\nyou could address the user\nby that specific name.\n\n187\n00:11:04.990 --> 00:11:08.260\nIf we had a display name set,\nwell, we could also do that.\n\n188\n00:11:08.260 --> 00:11:09.660\nNow that would happen during sign-up.\n\n189\n00:11:09.660 --> 00:11:12.410\nThat would probably be\nthe easiest way to handle that.\n\n190\n00:11:12.410 --> 00:11:16.940\nBut we're keeping this fairly\nsimple just to keep things simple.\n\n191\n00:11:18.270 --> 00:11:20.750\nSo now that we have this,\n\n192\n00:11:20.750 --> 00:11:24.110\nwhen we get the user back,\nwe see that we have that information.\n\n193\n00:11:24.110 --> 00:11:26.190\nSo when we've authenticated,\n\n194\n00:11:26.190 --> 00:11:29.550\nnot when we error out,\nwe should probably update some state.\n\n195\n00:11:29.550 --> 00:11:34.580\nAnd because I'm using error functions\nthe this context still allows me\n\n196\n00:11:34.580 --> 00:11:38.810\neven nested inside of these double\nfunctions to call this.setState.\n\n197\n00:11:38.810 --> 00:11:42.350\nIf I was not using error functions\nthe this context would change and\n\n198\n00:11:42.350 --> 00:11:45.210\nset state would not be a method and\nI might end up with errors.\n\n199\n00:11:45.210 --> 00:11:49.895\nSo even though I like error functions,\nthe anonymous, they're always anonymous so\n\n200\n00:11:49.895 --> 00:11:53.000\nthat they can lead to some issues but\nthat's something to keep in mind.\n\n201\n00:11:53.000 --> 00:11:57.590\nSo I want an additional function here and\n\n202\n00:11:57.590 --> 00:12:01.890\nI'm just gonna grab this and\npaste it as such.\n\n203\n00:12:01.890 --> 00:12:06.801\nAnd then uncomment the portions\nthat I want to uncomment.\n\n204\n00:12:06.801 --> 00:12:12.543\nSo now what I'm saying is\nwhen I give the user back,\n\n205\n00:12:12.543 --> 00:12:18.698\nI want to set the state to\nisLoggedIn through an email.\n\n206\n00:12:18.698 --> 00:12:21.152\nWell, where is this email coming from?\n\n207\n00:12:21.152 --> 00:12:22.258\nI could put it here.\n\n208\n00:12:22.258 --> 00:12:22.868\nHm.\n\n209\n00:12:27.101 --> 00:12:31.793\nWe should make sure because what if we\never wanted to authenticate with another\n\n210\n00:12:31.793 --> 00:12:32.510\nprovider?\n\n211\n00:12:32.510 --> 00:12:33.760\nWe may not know that.\n\n212\n00:12:33.760 --> 00:12:36.480\nWe may not get their email from them.\n\n213\n00:12:36.480 --> 00:12:40.610\nWe only may be able to pull their\nemail from a user record that they've\n\n214\n00:12:40.610 --> 00:12:42.400\nassociated with the account.\n\n215\n00:12:42.400 --> 00:12:45.788\nSo I should pull it off the user\nobject just to make sure.\n\n216\n00:12:45.788 --> 00:12:53.210\nNow by doing this, I have email and\nemail both here but const is block scoped.\n\n217\n00:12:53.210 --> 00:12:57.360\nSo this is kinda gonna shadow\nthis top level variable.\n\n218\n00:12:57.360 --> 00:13:01.411\nSo I want email, and\nthat's equal to the user.\n\n219\n00:13:01.411 --> 00:13:05.522\nSo I'm destructuring that off\nof the user as such, okay.\n\n220\n00:13:05.522 --> 00:13:06.580\n&gt;&gt; All right, Justin.\n\n221\n00:13:06.580 --> 00:13:08.540\nSo it looks like it works there.\n\n222\n00:13:08.540 --> 00:13:11.100\nSo is there anything else\nwe actually need to do?\n\n223\n00:13:11.100 --> 00:13:12.580\n&gt;&gt; Well, I mean, technically no.\n\n224\n00:13:12.580 --> 00:13:16.020\nBut there is a few other pieces of\ninformation that I wanna pull off and\n\n225\n00:13:16.020 --> 00:13:18.750\nkind of store on my stage so\nI can keep track of them.\n\n226\n00:13:18.750 --> 00:13:20.540\nSo let's take a look at my screen here.\n\n227\n00:13:20.540 --> 00:13:25.591\nAnd that is logged in at J@J, that’s\na wonderful, warm and fuzzy feeling.\n\n228\n00:13:25.591 --> 00:13:31.404\nBut let's put this\nconsole.log back inside of\n\n229\n00:13:31.404 --> 00:13:36.648\nthis .them here, this promise handler.\n\n230\n00:13:36.648 --> 00:13:41.208\nAnd then if I go J@J.com and\none, two, three, four,\n\n231\n00:13:41.208 --> 00:13:45.120\nfive, six, and then log in,\nand there we go.\n\n232\n00:13:45.120 --> 00:13:51.870\nOkay, okay, so if I look through here,\nthere's some other information.\n\n233\n00:13:51.870 --> 00:13:54.216\nI'm gonna grab the UID.\n\n234\n00:13:54.216 --> 00:13:56.126\nAnd you know what?\n\n235\n00:13:56.126 --> 00:14:01.179\nI think I'm good if I'd signed up with\nphoto URL and phone number, I would have\n\n236\n00:14:01.179 --> 00:14:06.560\nprobably pulled that off as well just in\ncase people wanted to make it public.\n\n237\n00:14:06.560 --> 00:14:11.100\nBut I wanna grab that UID and\nput that inside of my state as well.\n\n238\n00:14:11.100 --> 00:14:13.150\n&gt;&gt; And Justin, let's just play\ndevil's advocate for a moment and\n\n239\n00:14:13.150 --> 00:14:15.560\npretend I don't know what the UID means.\n\n240\n00:14:15.560 --> 00:14:16.490\nSo can you tell us?\n\n241\n00:14:16.490 --> 00:14:19.960\n&gt;&gt; What a minute, you don't know?\n\n242\n00:14:19.960 --> 00:14:22.240\nI don't know,\nI thought you were gonna tell us.\n\n243\n00:14:22.240 --> 00:14:23.312\nNo, no, no, I'm joking.\n\n244\n00:14:23.312 --> 00:14:25.213\nIt is the unique identifier.\n\n245\n00:14:25.213 --> 00:14:28.710\nIt's like a universally unique\nidentifier and it's issued by Firebase.\n\n246\n00:14:28.710 --> 00:14:31.490\nActually, let's see where\nthe UID comes from.\n\n247\n00:14:31.490 --> 00:14:32.800\nI could do all of this by hand.\n\n248\n00:14:34.100 --> 00:14:40.840\nSo if I come over here, here's my off\npanel and this is the user user id.\n\n249\n00:14:40.840 --> 00:14:43.660\nUser UID, unique identifier.\n\n250\n00:14:43.660 --> 00:14:46.440\nIt's a guaranteed unique key for\nthis user.\n\n251\n00:14:46.440 --> 00:14:51.070\nJust in case you're not validating\nthat an email is not duplicate,\n\n252\n00:14:51.070 --> 00:14:53.380\nright, or other things of that nature.\n\n253\n00:14:53.380 --> 00:14:55.760\n&gt;&gt; And is that for\nthis session that they just logged in,\n\n254\n00:14:55.760 --> 00:14:57.760\nor that's something that stays with them?\n\n255\n00:14:57.760 --> 00:15:01.580\n&gt;&gt; When they sign up, they're issued\nthat and that's theirs always.\n\n256\n00:15:01.580 --> 00:15:07.360\nSo I'm gonna use that to keep track to\nget a universally unique identifier for\n\n257\n00:15:07.360 --> 00:15:08.098\neach user.\n\n258\n00:15:08.098 --> 00:15:14.270\nSo anything, they create a message or they\ncreate a room or something of that nature,\n\n259\n00:15:14.270 --> 00:15:19.550\nI can then attach their UID to that\nmessage and/or room, and then it's not\n\n260\n00:15:19.550 --> 00:15:26.560\nbased on an email because email and\npassword is one way to authenticate.\n\n261\n00:15:26.560 --> 00:15:30.990\nThat is not the only way to\nauthenticate using the Firebase.\n\n262\n00:15:30.990 --> 00:15:33.940\nI could authenticate through Google,\nyes, I could get the email there, but\n\n263\n00:15:33.940 --> 00:15:35.210\nwhat about phone number?\n\n264\n00:15:35.210 --> 00:15:36.330\nWhat about some of these other things?\n\n265\n00:15:36.330 --> 00:15:40.440\nSo I wanna use something that's always\nissued to the user regardless of how\n\n266\n00:15:40.440 --> 00:15:42.790\nthey signed up for their account,\nand that would be the UID.\n\n267\n00:15:42.790 --> 00:15:44.850\nSo I'm going to pull that off,\nput that as part of our state.\n\n268\n00:15:44.850 --> 00:15:46.740\n&gt;&gt; And\nthat's also potentially a safety thing.\n\n269\n00:15:46.740 --> 00:15:50.895\nWhen you're in the chat then you can chat\nwithout everyone you're talking to knowing\n\n270\n00:15:50.895 --> 00:15:52.286\nwhat your email address is.\n\n271\n00:15:52.286 --> 00:15:55.681\nBecause we can show the user ID\nwhen you're actually chatting.\n\n272\n00:15:55.681 --> 00:15:58.512\n&gt;&gt; Exactly, and ideally we would\nlike to have a display name but\n\n273\n00:15:58.512 --> 00:16:00.468\nWe're keeping this fairly scaled down.\n\n274\n00:16:00.468 --> 00:16:03.078\nThat's just minor tweaks here and there.\n\n275\n00:16:03.078 --> 00:16:08.410\nSo let's actually pull that UID off,\nand here's a recommendation.\n\n276\n00:16:08.410 --> 00:16:10.910\nAny state that you may want to set later.\n\n277\n00:16:10.910 --> 00:16:14.740\nWe would come back and\nadd that to the original state, more or\n\n278\n00:16:14.740 --> 00:16:16.140\nless as an empty field.\n\n279\n00:16:16.140 --> 00:16:21.170\nSo I could say null or empty string,\nand I'm actually going to say null for\n\n280\n00:16:21.170 --> 00:16:25.800\nthe UID, because the UID is not going to\nbe issued until you have signed up and\n\n281\n00:16:25.800 --> 00:16:28.570\nlogged in, and I kind of pulled that off.\n\n282\n00:16:28.570 --> 00:16:31.660\nSo we're gonna say nope, it's not there,\nundefined or nothing, nothing to see here.\n\n283\n00:16:32.810 --> 00:16:37.547\nSo now that I have the UID, I'm going\nto take out this console.log user and\n\n284\n00:16:37.547 --> 00:16:42.600\nI'm just going to say UID, as such,\n\n285\n00:16:42.600 --> 00:16:46.870\nand just place that\ninside of set state and\n\n286\n00:16:46.870 --> 00:16:50.830\nI'm using that shorthand syntax\njust to get things squared away.\n\n287\n00:16:50.830 --> 00:16:56.030\nSo, let's see if our app refreshes,\nyour ID is null, okay?\n\n288\n00:16:56.030 --> 00:16:58.650\nReally that email should\nprobably be null as well,\n\n289\n00:16:58.650 --> 00:17:01.490\nbut just to say it's gonna be a string,\nI put it there.\n\n290\n00:17:01.490 --> 00:17:08.460\nSo let's log in and 123456 and then login.\n\n291\n00:17:08.460 --> 00:17:13.920\nAnd hmm, something went awry there.\n\n292\n00:17:13.920 --> 00:17:16.660\nSo we gotta do a little bit of\nlive action debugging here.\n\n293\n00:17:17.830 --> 00:17:19.580\nSo let's put this user back.\n\n294\n00:17:22.000 --> 00:17:25.660\nSometimes the best laid plans\ndon't actually come to fruition.\n\n295\n00:17:25.660 --> 00:17:30.590\nSo j at j dot com, one, two, three,\nfour, five, six, and then log in, and\n\n296\n00:17:30.590 --> 00:17:31.770\nhere we go.\n\n297\n00:17:31.770 --> 00:17:37.620\nSo, I come down here, UID should\nbe directly on that user object.\n\n298\n00:17:38.890 --> 00:17:39.890\nIt actually worked that time.\n\n299\n00:17:39.890 --> 00:17:42.640\nLooks like it was out of sync\nlike it hadn't refreshed.\n\n300\n00:17:42.640 --> 00:17:45.130\nSo, well it fixed itself.\n\n301\n00:17:45.130 --> 00:17:47.920\nI was like, we're about to run\ninto a whole bunch of problems,\n\n302\n00:17:47.920 --> 00:17:49.180\njust turn it off and turn it on.\n\n303\n00:17:49.180 --> 00:17:52.450\nI was actually just gonna throw it\non the floor and stomp on it, but\n\n304\n00:17:52.450 --> 00:17:54.140\nI like your idea better.\n\n305\n00:17:54.140 --> 00:17:57.370\nWe're gonna root that console\nabout log and to some extent.\n\n306\n00:17:57.370 --> 00:17:59.750\nI mean may have some tweeting here and\nthere.\n\n307\n00:17:59.750 --> 00:18:03.020\nWe have the ability to sign up,\nthe ability to log in.\n\n308\n00:18:03.020 --> 00:18:05.920\nWe have the starting of\na chat application and\n\n309\n00:18:05.920 --> 00:18:10.950\nit's not pretty but\nI'm a function of form personality.\n\n310\n00:18:10.950 --> 00:18:16.300\n&gt;&gt; Right, so I'm wanna ask that,\nI keep seeing this is logged in state,\n\n311\n00:18:16.300 --> 00:18:18.722\nwhat does that mean exactly again?\n\n312\n00:18:18.722 --> 00:18:23.410\n&gt;&gt; Yes, I keep setting that and I haven't\nactually used it for anything, right?\n\n313\n00:18:23.410 --> 00:18:28.310\nSo let me just dummy up some\npiece of UI to show you hey,\n\n314\n00:18:28.310 --> 00:18:32.260\nthis maybe used for\nconditional rendering, okay?\n\n315\n00:18:32.260 --> 00:18:36.760\nSo if I come down here to\nthe actual render function and\n\n316\n00:18:36.760 --> 00:18:39.465\nI do something in this nature,\n\n317\n00:18:39.465 --> 00:18:45.324\nthis.state.IsLoggedIn and\n\n318\n00:18:45.324 --> 00:18:52.570\nif I'm logged in here's one\nI just wanna pair that tag.\n\n319\n00:18:54.630 --> 00:18:57.550\nSo, this will not stay eventually.\n\n320\n00:18:57.550 --> 00:19:02.550\nBut just to help understand\nhow is he gonna use that?\n\n321\n00:19:02.550 --> 00:19:03.480\nYou are logged in.\n\n322\n00:19:07.582 --> 00:19:13.000\nLike so, otherwise, and\nI'll probably break this up like this.\n\n323\n00:19:13.000 --> 00:19:16.376\nOtherwise what do you want to have here?\n\n324\n00:19:16.376 --> 00:19:22.205\nI want another paragraph tag,\nyou are not logged in.\n\n325\n00:19:23.282 --> 00:19:27.040\nAs such, okay?\n\n326\n00:19:27.040 --> 00:19:34.340\nSo now I've used that is logged in state\nto conditionally render part of my UI.\n\n327\n00:19:34.340 --> 00:19:35.720\nSo we come over here.\n\n328\n00:19:35.720 --> 00:19:36.980\nYou are not logged in.\n\n329\n00:19:36.980 --> 00:19:40.760\nWell we know that cuz it\nis logged in as false.\n\n330\n00:19:41.790 --> 00:19:42.940\nSo jatj.com.\n\n331\n00:19:42.940 --> 00:19:47.290\nAnd the 1, 2, 3, 4, 5, 6, and\nI log in and you are logged in now.\n\n332\n00:19:47.290 --> 00:19:50.130\nSo I can use that to kind of safeguard and\nshow and\n\n333\n00:19:50.130 --> 00:19:52.990\nhide things that shouldn't be available.\n\n334\n00:19:52.990 --> 00:19:54.270\nUnless you're actually logged in.\n\n335\n00:19:54.270 --> 00:19:59.600\nNow, a really technically side of user,\nthey maybe able to find that anyway,\n\n336\n00:19:59.600 --> 00:20:02.600\nhowever we're gonna safeguard\nagainst modifying data base,\n\n337\n00:20:02.600 --> 00:20:06.910\ndata by requiring you to be logged in and\nsend the, through the fire base terminal.\n\n338\n00:20:06.910 --> 00:20:10.830\nSo, as one of those things were,\nyou gonna need what your best, but\n\n339\n00:20:10.830 --> 00:20:13.900\nthere's no guarantee that the people\ncan't find their way arround that.\n\n340\n00:20:13.900 --> 00:20:18.480\n&gt;&gt; Awesome, so it looks like now we have\nan app where you can create an account,\n\n341\n00:20:18.480 --> 00:20:21.810\nyou can use that account you've\ncreated to actually log in.\n\n342\n00:20:21.810 --> 00:20:24.750\nNow we need to actually put\nsomething in there that you can do\n\n343\n00:20:24.750 --> 00:20:27.630\nonce you're logged in as opposed\nto just logging back out.\n\n344\n00:20:27.630 --> 00:20:31.000\nSo I have a feeling that's\ngonna be another episode but\n\n345\n00:20:31.000 --> 00:20:34.570\nlooked like in fire base some of those\ncomponents are kind of built in so\n\n346\n00:20:34.570 --> 00:20:38.140\nwe'll be able to bring those in and\nsee how we customize those.\n\n347\n00:20:38.140 --> 00:20:41.000\nBut, anything else we wanna do in\nthis episode before we sign off?\n\n348\n00:20:41.000 --> 00:20:43.860\n&gt;&gt; You know what, you actually said\nsomething that's pretty quick to\n\n349\n00:20:43.860 --> 00:20:46.720\nimplement and\ntechnically I'm always logged in.\n\n350\n00:20:46.720 --> 00:20:48.470\n&gt;&gt; Right, as long as the app's there.\n\n351\n00:20:48.470 --> 00:20:51.630\nAnd there is a way to persist,\neven on page refresh.\n\n352\n00:20:51.630 --> 00:20:52.470\nWe're not quite there yet.\n\n353\n00:20:52.470 --> 00:20:53.690\nI can sign out,\n\n354\n00:20:53.690 --> 00:20:59.100\nI can log in I can't technically\nlogout through the application.\n\n355\n00:20:59.100 --> 00:21:02.010\nSo actually let's do that\nright here at the end,\n\n356\n00:21:02.010 --> 00:21:04.220\nit'll take just a wee touch of time.\n\n357\n00:21:04.220 --> 00:21:08.100\nSo, let's take a look at my screen here,\nand well how I'm gonna do that?\n\n358\n00:21:08.100 --> 00:21:12.000\nI could build a separate\nlogin logout form.\n\n359\n00:21:12.000 --> 00:21:13.130\nBut really it's just a button.\n\n360\n00:21:14.480 --> 00:21:17.980\nAnd we may end up bringing that component\nout changing the component, but\n\n361\n00:21:17.980 --> 00:21:20.090\nthe functionality will stay the same.\n\n362\n00:21:20.090 --> 00:21:23.690\nSo I'm gonna create another\ncomponent here called button.\n\n363\n00:21:23.690 --> 00:21:29.980\nAnd on click,\nI'm just gonna say this.logout.\n\n364\n00:21:29.980 --> 00:21:30.840\nOkay.\n\n365\n00:21:30.840 --> 00:21:34.580\nSo there's logout and here's are button\nand where just gonna say logout.\n\n366\n00:21:37.510 --> 00:21:39.780\nAnd our button, okay.\n\n367\n00:21:39.780 --> 00:21:43.560\nSo, I accidentally closed the tag\nin the wrong place there.\n\n368\n00:21:43.560 --> 00:21:44.650\nJust make sure that renders.\n\n369\n00:21:46.180 --> 00:21:47.870\nOkay, there's our button for logging out.\n\n370\n00:21:49.520 --> 00:21:51.170\nAnd then what does log out going to do.\n\n371\n00:21:51.170 --> 00:21:58.870\nI'm going to kind of just fold these\nup just for the sake of things,\n\n372\n00:21:58.870 --> 00:22:04.350\nI'm gonna log out and that's going to,\nit is gonna head a click event,\n\n373\n00:22:04.350 --> 00:22:07.130\nI really don't need that I'm gonna\nput it there just as a reminder.\n\n374\n00:22:08.463 --> 00:22:13.297\nAnd I'm gonna say auth.signOut.\n\n375\n00:22:13.297 --> 00:22:18.800\nIt's that simple and\nthen when you are successfully signed out.\n\n376\n00:22:18.800 --> 00:22:19.526\nI wanna run this other function.\n\n377\n00:22:19.526 --> 00:22:24.564\nThis is this.setState to empty\n\n378\n00:22:24.564 --> 00:22:30.161\nstate email is nothing uid is null,\n\n379\n00:22:30.161 --> 00:22:37.790\nisLoggedIn, well that's back to false.\n\n380\n00:22:37.790 --> 00:22:41.580\nSo enter our semicolons appropriately\nhere and really I could\n\n381\n00:22:41.580 --> 00:22:44.730\npull this out to a separate function but\nI'm just gonna inline it for now.\n\n382\n00:22:44.730 --> 00:22:50.906\nI think our logout's finished if I'm not\nmistaken so let me make sure I save there.\n\n383\n00:22:50.906 --> 00:22:52.855\nLet's login.\n\n384\n00:22:55.422 --> 00:22:59.746\nOne, two, three, four, five,\nsix, login, there it is,\n\n385\n00:22:59.746 --> 00:23:02.260\nlogout, and we are now logged out.\n\n386\n00:23:02.260 --> 00:23:06.470\nSo, we can sign up login and logout now.\n\n387\n00:23:06.470 --> 00:23:12.100\nStill not absolutely mind blowing, but all\nthe core, all functionality is there There\n\n388\n00:23:12.100 --> 00:23:15.590\nare still some rough edges that we will\nhave to deal with as time comes along.\n\n389\n00:23:15.590 --> 00:23:18.870\nBut we now have fire based really\nstarting to be integrated into\n\n390\n00:23:18.870 --> 00:23:19.730\nour react application.\n\n391\n00:23:19.730 --> 00:23:22.980\n&gt;&gt; That was pretty impressive,\nI know logging out,\n\n392\n00:23:22.980 --> 00:23:24.960\nI guess is a lot easier than logging in.\n\n393\n00:23:24.960 --> 00:23:28.520\nBut that worked pretty quick, so\nthanks for sharing that with us.\n\n394\n00:23:28.520 --> 00:23:31.920\nAnd like I said, next time we'll get\ninto some of the media application and\n\n395\n00:23:31.920 --> 00:23:36.300\nactually start playing with those chat\nfunctionalities, but for now, that's gonna\n\n396\n00:23:36.300 --> 00:23:40.030\ndo it for us, so signing off for DevProTV,\nI've been your host Peter VanRysdam.\n\n397\n00:23:40.030 --> 00:23:40.760\n&gt;&gt; I'm Justin Dennison.\n\n398\n00:23:40.760 --> 00:23:42.934\n&gt;&gt; And we'll see you next time.\n\n399\n00:23:42.934 --> 00:23:46.272\n[SOUND]\n\n",
          "vimeoId": "229847624"
        },
        {
          "description": "In this Episode, Peter and Justin take a break from coding the chat app to add in some styling elements. Justin shows how to leverage Bulma to easily add design elements with cascading style sheets (CSS).",
          "length": "1485",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-7-1-1-adding_some_style-081617-PGM.00_24_34_15.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-7-1-1-adding_some_style-081617-PGM.00_24_34_15.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-7-1-1-adding_some_style-081617-PGM.00_24_34_15.Still001-sm.jpg",
          "title": "Adding Some Style",
          "transcript": "WEBVTT\n\n1\n00:00:00.373 --> 00:00:03.130\n[MUSIC]\n\n2\n00:00:03.130 --> 00:00:09.160\nHello and welcome\n\n3\n00:00:09.160 --> 00:00:14.790\nto DevPro.TV.\n\n4\n00:00:14.790 --> 00:00:16.440\nI'm your host Peter VanRysdam.\n\n5\n00:00:16.440 --> 00:00:20.800\nAnd today, we are continuing with our\nseries where we're creating a chat app\n\n6\n00:00:20.800 --> 00:00:22.140\nusing React and FireBase.\n\n7\n00:00:22.140 --> 00:00:25.190\nSpecifically, in this episode,\nwe're gonna add some style.\n\n8\n00:00:25.190 --> 00:00:29.638\nAnd here's a man who, if you're gonna add\nstyle, this is the guy you want doing it,\n\n9\n00:00:29.638 --> 00:00:30.720\nMr. Justin Dennison.\n\n10\n00:00:30.720 --> 00:00:31.785\nJustin, how are you doing?\n\n11\n00:00:31.785 --> 00:00:32.410\n&gt;&gt; I am doing fantastic.\n\n12\n00:00:32.410 --> 00:00:35.550\nI thought you're gonna use the word\nepitomize, but you didn't.\n\n13\n00:00:35.550 --> 00:00:36.880\nAnd how are you Peter?\n\n14\n00:00:36.880 --> 00:00:37.662\n&gt;&gt; I'm good.\n\n15\n00:00:37.662 --> 00:00:40.304\nI'm not gonna lie to the people at home.\n\n16\n00:00:40.304 --> 00:00:42.270\n&gt;&gt; [LAUGH]\n&gt;&gt; So where do we start?\n\n17\n00:00:42.270 --> 00:00:45.650\nBecause I'll admit,\nI don't wanna insult our baby here,\n\n18\n00:00:45.650 --> 00:00:48.490\nbut this thing's kinda ugly.\n\n19\n00:00:48.490 --> 00:00:51.227\n&gt;&gt; Yeah, it's definitely not a looker,\nso to speak.\n\n20\n00:00:51.227 --> 00:00:54.807\nIt's just plain HTML elements, and well,\n\n21\n00:00:54.807 --> 00:00:58.930\nI agree we need to add\na little bit of style.\n\n22\n00:00:58.930 --> 00:01:01.610\nNow, how are we going to do that?\n\n23\n00:01:01.610 --> 00:01:05.036\nAre we going to use hand written CSS?\n\n24\n00:01:05.036 --> 00:01:07.780\nI think that's a little\nbeyond the scope here.\n\n25\n00:01:07.780 --> 00:01:11.030\nOr are we going to rely on the community,\nright?\n\n26\n00:01:11.030 --> 00:01:12.618\nSome of these CSS frameworks, right?\n\n27\n00:01:12.618 --> 00:01:17.814\nThe all go-to is Bootstrap, but\nI wanna little bit different flavor.\n\n28\n00:01:17.814 --> 00:01:22.730\nAnd so we're going to instead\nuse something called Bulma CSS.\n\n29\n00:01:22.730 --> 00:01:29.090\nSo, Bulma is a CSS framework designed\naround the flex box display type.\n\n30\n00:01:29.090 --> 00:01:31.588\nSo, we get a little bit\ndifferent grid system,\n\n31\n00:01:31.588 --> 00:01:35.398\na little bit different layout system\nthan you do with like, Bootstrap or\n\n32\n00:01:35.398 --> 00:01:39.717\nfound actually, newest version of\nfoundation, I think, is flex box, as well.\n\n33\n00:01:39.717 --> 00:01:43.462\nSo, we're going to use Bulma and\nalong with it comes some color palettes,\n\n34\n00:01:43.462 --> 00:01:47.750\nsome color choices, that we could change,\nbut we're just gonna keep them default.\n\n35\n00:01:47.750 --> 00:01:49.900\nUse the built in colors as it stands.\n\n36\n00:01:49.900 --> 00:01:55.001\nSo, we are gonna use Bulma and a little\nbit of niceness, and we are trying\n\n37\n00:01:55.001 --> 00:02:00.206\nto add this on as we go, but we have\naccumulated some technical debt here.\n\n38\n00:02:00.206 --> 00:02:04.050\nBy just creating the standard HTML\nelements adding your functionality but\n\n39\n00:02:04.050 --> 00:02:06.310\nits definitely time to add some style.\n\n40\n00:02:06.310 --> 00:02:09.940\n&gt;&gt; So with Bulma do you have to write\nyour own CSS at all or is this-\n\n41\n00:02:09.940 --> 00:02:12.160\n&gt;&gt; No, this is completely a framework and\n\n42\n00:02:12.160 --> 00:02:14.980\nas a matter of fact let's go ahead and\ntake a look at said things.\n\n43\n00:02:14.980 --> 00:02:18.660\nSo let's take a look at my screen here and\nwell let's get over into our web browser\n\n44\n00:02:18.660 --> 00:02:23.310\nand we're going to go to Bulma.io.\n\n45\n00:02:23.310 --> 00:02:26.514\nSo Bulma is a modern CSS\nframework based on Flexbox.\n\n46\n00:02:26.514 --> 00:02:28.182\nIt's real nice.\n\n47\n00:02:28.182 --> 00:02:32.300\nAnd now you can see some testimonials and\nsome checks here.\n\n48\n00:02:32.300 --> 00:02:38.489\nAnd if you go up, right up here\nto the Docs, we can go to Docs.\n\n49\n00:02:39.530 --> 00:02:45.040\nAnd we have these series of tabs that\nwill describe what is available to\n\n50\n00:02:45.040 --> 00:02:48.761\nus inside of Bulma CSS framework?\n\n51\n00:02:50.030 --> 00:02:54.900\nWe have customize, classes, so this is\nactually things that you can do with\n\n52\n00:02:54.900 --> 00:02:57.500\nBulma, like change colors and\nthings of that nature.\n\n53\n00:02:57.500 --> 00:03:00.350\nWe do have to have a sash compiler and so\n\n54\n00:03:00.350 --> 00:03:03.540\nI was gonna use default\nstyle sheets just for now.\n\n55\n00:03:03.540 --> 00:03:08.636\nIn addition to it talk about modularity,\nit's these individual\n\n56\n00:03:08.636 --> 00:03:14.670\nlittle pieces that you can modify that\nall get kind bundled up into CSS for us.\n\n57\n00:03:14.670 --> 00:03:18.246\nIt is built around being responsive so\nwe do get some nice mobile\n\n58\n00:03:18.246 --> 00:03:22.090\nresponsiveness that's,\nI'm not gonna get crazy about that, but\n\n59\n00:03:22.090 --> 00:03:25.260\nit is nice whenever we\nhave frameworks like this.\n\n60\n00:03:25.260 --> 00:03:29.590\nAnd then these variables, well,\nthis is in the stash, sash sheets and\n\n61\n00:03:29.590 --> 00:03:32.340\nthis will tell you essentially hey,\n\n62\n00:03:32.340 --> 00:03:36.770\nprimary is turquoise info is blue,\nsuccess is green.\n\n63\n00:03:36.770 --> 00:03:38.539\nAnd let me zoom just a little bit on that.\n\n64\n00:03:40.000 --> 00:03:43.200\nSo these variables, you can go\nmodify inside of the sash sheets,\n\n65\n00:03:43.200 --> 00:03:47.050\nbut you would have to recompile Bulma,\nif you were going to modify it that way.\n\n66\n00:03:47.050 --> 00:03:49.910\nAs I've said before,\nwe're just gonna go with the default ones.\n\n67\n00:03:49.910 --> 00:03:53.020\nSo these are kinda the structure,\nthe overview.\n\n68\n00:03:53.020 --> 00:03:57.310\nBut you come over here,\nthese other tabs actually start giving you\n\n69\n00:03:57.310 --> 00:04:01.660\nthings you can use, like is primary\nwill make this Is primaries,\n\n70\n00:04:01.660 --> 00:04:07.300\nthis blue here, kind of turquoise blue\nis actually how they describe it.\n\n71\n00:04:07.300 --> 00:04:10.640\nIs info is this darker blue,\nis success, green.\n\n72\n00:04:10.640 --> 00:04:18.030\nSo frameworks typically have something\nlike this and we have some helpers, right?\n\n73\n00:04:18.030 --> 00:04:20.490\nIs clear fix, is pulled left.\n\n74\n00:04:20.490 --> 00:04:23.562\nThat's the semantics that Bulma\nuses a great deal of the time.\n\n75\n00:04:23.562 --> 00:04:24.985\nCan we pull it left?\n\n76\n00:04:24.985 --> 00:04:26.596\nCan we overlap it?\n\n77\n00:04:26.596 --> 00:04:28.312\nCan we remove all the padding,\nremove all the margin?\n\n78\n00:04:28.312 --> 00:04:30.342\nBut it's always that is, right?\n\n79\n00:04:30.342 --> 00:04:35.889\nThese are also all class based,\nthere's nothing that says,\n\n80\n00:04:35.889 --> 00:04:42.515\nhey, you have to use this ID or you\nhave to nest things in a particular way.\n\n81\n00:04:42.515 --> 00:04:45.740\nWith a few exceptions\non that nesting part.\n\n82\n00:04:45.740 --> 00:04:49.420\nAnd then there's some responsive helpers\nwhere we can set display types and\n\n83\n00:04:49.420 --> 00:04:54.060\nin particular we can target\nsome kind of device types.\n\n84\n00:04:54.060 --> 00:04:58.460\nMobile, tablet, desktop,\ngiant desktop, super giant desktop.\n\n85\n00:05:00.270 --> 00:05:03.798\nNow what I really care about\nare number one grid systems are nice.\n\n86\n00:05:03.798 --> 00:05:05.640\nWe will definitely be using that.\n\n87\n00:05:05.640 --> 00:05:10.190\nSo we can have some sizes and\nsizes of grids,\n\n88\n00:05:10.190 --> 00:05:13.160\nthat's pretty nice is three\nquarters of the screen.\n\n89\n00:05:13.160 --> 00:05:15.395\nThat's fairly descriptive\nversus column 12.\n\n90\n00:05:15.395 --> 00:05:23.120\nYou still do have the ability to have is\ntwo, so I get two columns on the screen.\n\n91\n00:05:23.120 --> 00:05:26.760\nAnd you get essentially\nexamples of that as well.\n\n92\n00:05:28.278 --> 00:05:31.520\nAnd then you come over here and you\nstart getting some layout specific ones.\n\n93\n00:05:31.520 --> 00:05:33.700\nI really like the Hero, so\n\n94\n00:05:33.700 --> 00:05:38.150\nyou get this kind of top level with\ntitling and things of that nature.\n\n95\n00:05:38.150 --> 00:05:42.780\nYou can also use Hero for\njust the Hero class\n\n96\n00:05:42.780 --> 00:05:47.620\nin order to get some additional\nkind of padding around content.\n\n97\n00:05:49.240 --> 00:05:50.840\nAnd then we will also be using forms,\n\n98\n00:05:50.840 --> 00:05:55.880\ncuz mostly what we've built up\nuntil now are form type things.\n\n99\n00:05:55.880 --> 00:05:58.440\nAs well as if you come to elements,\nwe can go to buttons, and\n\n100\n00:05:58.440 --> 00:06:02.180\nwe have already seen this a little bit but\nyou can modify the buttons as well.\n\n101\n00:06:02.180 --> 00:06:05.109\nSo that's what we are gonna use,\nwe're not,\n\n102\n00:06:05.109 --> 00:06:08.339\nmay have to sprinkle our own CSS here and\nthere, but\n\n103\n00:06:08.339 --> 00:06:13.092\nit will be a, only as needed instead\nof directly from scratch everywhere.\n\n104\n00:06:13.092 --> 00:06:14.390\n&gt;&gt; All right, so how do we start?\n\n105\n00:06:14.390 --> 00:06:19.200\nDo we jump back over to fire base or\ndo we install this and, where do we go?\n\n106\n00:06:19.200 --> 00:06:23.350\n&gt;&gt; Well actually, if you come to\nthe very first screen in Bulma it says,\n\n107\n00:06:23.350 --> 00:06:24.690\nNPM Installed Bulma.\n\n108\n00:06:24.690 --> 00:06:27.930\nAwesome, its already part of NPM,\nwe're gonna install it.\n\n109\n00:06:27.930 --> 00:06:29.990\nIt will have to become\npart of our build system,\n\n110\n00:06:29.990 --> 00:06:33.649\nso there is a few tricks there\nthat we'll have to take care of.\n\n111\n00:06:34.900 --> 00:06:38.150\nSo let's go ahead and\nNPM install Bulma and\n\n112\n00:06:38.150 --> 00:06:41.040\nsee if we can just get\nit into our project.\n\n113\n00:06:42.350 --> 00:06:47.031\nSo if I come back over here and\nNPM install Bulma, -- save.\n\n114\n00:06:47.031 --> 00:06:51.605\nThat -- save tends to,\nI don't always put it after or before,\n\n115\n00:06:51.605 --> 00:06:55.261\nit's just something that\nI just need to remember.\n\n116\n00:06:55.261 --> 00:06:58.570\nActually on newer versions of NPM\nat the time of this recording,\n\n117\n00:06:58.570 --> 00:07:02.088\nthe -- save is implied if you\nalready have another project set up.\n\n118\n00:07:02.088 --> 00:07:07.256\nSo there's Bulma and\nif we look inside of our Package.JSON\n\n119\n00:07:07.256 --> 00:07:12.990\nthen Bulma is now listed as part of\nour dependencies, okay good deal.\n\n120\n00:07:14.190 --> 00:07:16.890\nHowever, how do we get\nit into our project?\n\n121\n00:07:16.890 --> 00:07:20.730\nWell, I am gonna show you that a lot of\ntimes people will go well I am just going\n\n122\n00:07:20.730 --> 00:07:28.890\nto import Bulma like so\nit was PM installed and we are good to go.\n\n123\n00:07:29.980 --> 00:07:33.640\nLet's see if that works in\nthe grand scheme of things.\n\n124\n00:07:33.640 --> 00:07:35.390\nSo if I come back over here, and\n\n125\n00:07:35.390 --> 00:07:39.660\nmy react up doesn't really\nlook any different to me.\n\n126\n00:07:39.660 --> 00:07:42.260\nDoesn't really look any\ndifferent whatsoever.\n\n127\n00:07:42.260 --> 00:07:46.390\nLet's open up the dev tools, and maybe,\n\n128\n00:07:46.390 --> 00:07:52.320\nif I can remember to not open my mail\napparently, wrong keyboard shortcut.\n\n129\n00:07:52.320 --> 00:07:55.333\nBut that's all right,\nwe are not infallible.\n\n130\n00:07:55.333 --> 00:07:59.367\nSo I'm just gonna go inspect to make\nsure I don't hit the wrong keyboard\n\n131\n00:07:59.367 --> 00:08:00.383\nshortcut again.\n\n132\n00:08:00.383 --> 00:08:04.008\nSo, if we come over here to Sources,\nand I look.\n\n133\n00:08:04.008 --> 00:08:09.055\nOkay, here's and source, and\nthese are all source maps.\n\n134\n00:08:09.055 --> 00:08:11.240\nLet's go to Static,\nthere's just our bundle.\n\n135\n00:08:11.240 --> 00:08:16.380\nI don't actually see CSS\nlisted anywhere in here.\n\n136\n00:08:16.380 --> 00:08:20.450\nIf we come over to Network, we can try to\ndo additional inspections by looking for\n\n137\n00:08:20.450 --> 00:08:22.150\nCSS style sheets.\n\n138\n00:08:22.150 --> 00:08:28.170\nDo a quick refresh and\nI don't really see anything either.\n\n139\n00:08:28.170 --> 00:08:31.490\nSo, is it there or\nis it part of the build system?\n\n140\n00:08:31.490 --> 00:08:35.279\nSo, when you have things in a build system\nthis tends to be something that you have\n\n141\n00:08:35.279 --> 00:08:36.250\ndifficulty with.\n\n142\n00:08:36.250 --> 00:08:38.890\nLike, hey, I'm going to use NPM\nto manage my dependencies, but\n\n143\n00:08:38.890 --> 00:08:41.880\nhow can I make sure that the CSS\nis actually on the page?\n\n144\n00:08:41.880 --> 00:08:46.500\nWhat I like to do is just grab\nan element and add a single class, or\n\n145\n00:08:46.500 --> 00:08:49.530\na single little piece to\nsee if the styling changes,\n\n146\n00:08:49.530 --> 00:08:52.670\nbecause if it does, then,\nwell, everything else is good.\n\n147\n00:08:52.670 --> 00:08:54.870\nNow, we're making a couple\nof decisions here.\n\n148\n00:08:55.920 --> 00:08:59.957\nIf I import it this way, assuming that\nthis works, this is a global import, and\n\n149\n00:08:59.957 --> 00:09:02.670\nit will be available all\nthroughout my application,\n\n150\n00:09:02.670 --> 00:09:05.210\nthis is not scoped to individual pieces.\n\n151\n00:09:05.210 --> 00:09:10.350\nYou remember when the app was created,\nwe had app.css that had\n\n152\n00:09:10.350 --> 00:09:15.890\nspecific classes scoped it and this style\nsheet applied only to the app component.\n\n153\n00:09:15.890 --> 00:09:17.090\nWe're not going to use that.\n\n154\n00:09:17.090 --> 00:09:19.630\nSince we're using our framework,\nI'm just going to use it everywhere.\n\n155\n00:09:19.630 --> 00:09:22.590\nSo I'm gonna make sure that it's loaded\non the page, essentially, everywhere.\n\n156\n00:09:24.200 --> 00:09:29.872\nSo let's change one of those buttons\nto see if things kind of work, right?\n\n157\n00:09:29.872 --> 00:09:34.100\nSo here's our end button and\nI'm gonna add a className here and\n\n158\n00:09:34.100 --> 00:09:36.020\nlet's move that out of the way.\n\n159\n00:09:36.020 --> 00:09:37.576\nAnd we're just gonna say it's a button.\n\n160\n00:09:37.576 --> 00:09:40.440\nSo that classes provided by Bulma, so\n\n161\n00:09:40.440 --> 00:09:45.610\nif I have that correct we should\nsee a nicer button so to speak.\n\n162\n00:09:45.610 --> 00:09:49.285\nAnd I don't really see anything.\n\n163\n00:09:49.285 --> 00:09:50.535\n&gt;&gt; It's not much nicer.\n\n164\n00:09:50.535 --> 00:09:52.283\n&gt;&gt; It is not, it is not much nicer.\n\n165\n00:09:52.283 --> 00:09:56.683\nAnd well I did tell you\nthis was one of the tricky\n\n166\n00:09:56.683 --> 00:10:00.991\naspects of using MPM,\nI kind of hinted at it there.\n\n167\n00:10:00.991 --> 00:10:04.526\nIf we come over,\ntypically we never look in\n\n168\n00:10:04.526 --> 00:10:09.449\nthe node modules folder that is\nnot gonna be the case today.\n\n169\n00:10:09.449 --> 00:10:13.588\nHere are all the node modules that I have\ndownloaded through Create React app and\n\n170\n00:10:13.588 --> 00:10:15.130\nall that fun stuff.\n\n171\n00:10:15.130 --> 00:10:18.166\nAnd if I keep browsing down there's Bulma.\n\n172\n00:10:18.166 --> 00:10:23.538\nAnd if I open up Bulma, essentially how\nMPM works is if there's an index.js here,\n\n173\n00:10:23.538 --> 00:10:27.020\nthat's what gets imported\nwhen you import the name.\n\n174\n00:10:28.350 --> 00:10:30.730\nHowever, that's not in here.\n\n175\n00:10:30.730 --> 00:10:33.560\nWhat I want is this CSS style sheet.\n\n176\n00:10:34.600 --> 00:10:39.000\nI want bulma css bulma dot css, okay.\n\n177\n00:10:40.000 --> 00:10:44.510\nNow I'm doing that because I know\nthat the loader is expecting dot css\n\n178\n00:10:44.510 --> 00:10:48.530\nas a file extension to\nactually bring in CSS files.\n\n179\n00:10:48.530 --> 00:10:54.090\nSo I'm gonna say,\nCSS bulma.css, just like that.\n\n180\n00:10:54.090 --> 00:10:58.880\nNow, if I got it up and going,\nI should see a nicer style button.\n\n181\n00:10:58.880 --> 00:11:02.790\nAnd, I in fact do see a nicer button now.\n\n182\n00:11:02.790 --> 00:11:04.450\nI don't like these old school buttons.\n\n183\n00:11:05.590 --> 00:11:07.766\nThey conform to text and\nthey just don't look good.\n\n184\n00:11:07.766 --> 00:11:09.534\nBut anyway,\nwe have bulma on the screen and\n\n185\n00:11:09.534 --> 00:11:12.200\nwe actually get a little bit\nof styling for that pre tag.\n\n186\n00:11:12.200 --> 00:11:15.532\nThe code segment there but\neventually that will go away.\n\n187\n00:11:15.532 --> 00:11:20.208\n&gt;&gt; Now did you have to erase those\nother classes that you'd put in or\n\n188\n00:11:20.208 --> 00:11:22.740\nthis is gonna override that?\n\n189\n00:11:22.740 --> 00:11:27.674\n&gt;&gt; So the classes that still persist,\nif we have any, let's take a look.\n\n190\n00:11:27.674 --> 00:11:29.290\nThis class name App.\n\n191\n00:11:29.290 --> 00:11:33.880\nWell that's still being applied\nif I still have that import but\n\n192\n00:11:33.880 --> 00:11:35.900\nI don't have that import so\nit's not part of my build.\n\n193\n00:11:35.900 --> 00:11:37.720\nSo even though the that\nclass name's there,\n\n194\n00:11:37.720 --> 00:11:42.130\nthere's not any other classes\navailable in our project.\n\n195\n00:11:42.130 --> 00:11:44.300\nSo if you're not importing\nit to your entry point,\n\n196\n00:11:44.300 --> 00:11:48.960\nwhich is app.js in this case, or excuse\nme, index.js which is importing app.\n\n197\n00:11:48.960 --> 00:11:51.680\nYou're not importing it in any\nof your java script files,\n\n198\n00:11:51.680 --> 00:11:55.010\nthen it doesn't actually become part of\nthe build processes and will not load.\n\n199\n00:11:55.010 --> 00:11:59.070\nSo even though app's still there,\nit's not really necessary for\n\n200\n00:11:59.070 --> 00:12:02.930\nit to be there and well I'm thinking\nwe're probably going to change it.\n\n201\n00:12:02.930 --> 00:12:04.684\n&gt;&gt; So now we've got that button done,\n\n202\n00:12:04.684 --> 00:12:07.490\ncan we do something about\nthe forms themselves?\n\n203\n00:12:07.490 --> 00:12:10.276\n&gt;&gt; The forms, the forms, I agree.\n\n204\n00:12:10.276 --> 00:12:16.110\nThe forms look kind of nasty right so\nlet's think about this.\n\n205\n00:12:16.110 --> 00:12:17.830\nLet's do a little bit\nof pre-planning here.\n\n206\n00:12:17.830 --> 00:12:19.750\nSo I have these two forms, and\n\n207\n00:12:19.750 --> 00:12:23.360\nreally I would like to keep\nthis declarative nature.\n\n208\n00:12:23.360 --> 00:12:25.580\nSo I'm not going to add\nthe classes directly to this form.\n\n209\n00:12:25.580 --> 00:12:30.072\nBut I am going to kind of nest them inside\nbecause what's gonna happen is these\n\n210\n00:12:30.072 --> 00:12:32.571\nare gonna be replaced with Standard HTML.\n\n211\n00:12:32.571 --> 00:12:36.537\nIn addition to, let's think\nabout the structure of our app.\n\n212\n00:12:36.537 --> 00:12:40.130\nWe really want to go with how\nwe're structuring our app.\n\n213\n00:12:40.130 --> 00:12:45.678\nI'm thinking, side bar your left,\nI guess that's ultimately your right.\n\n214\n00:12:45.678 --> 00:12:47.960\nPerspective in here is rough.\n\n215\n00:12:47.960 --> 00:12:52.010\nSide bar on the left, and\nthen the main area on the right, so\n\n216\n00:12:52.010 --> 00:12:54.605\nkind of like a side navigation panel.\n\n217\n00:12:54.605 --> 00:12:56.580\nYou’ve seen this in a variety chat apps.\n\n218\n00:12:56.580 --> 00:12:58.147\nAnd I tend to like to fill of it.\n\n219\n00:12:58.147 --> 00:13:02.284\nIt is something I am familiar with, so\nit's typically what I go with when I\n\n220\n00:13:02.284 --> 00:13:05.110\nbuilt something at least for\nthe first few times.\n\n221\n00:13:05.110 --> 00:13:09.088\nSo If I want that, I am thinking\nthe log out should be in that bar,\n\n222\n00:13:09.088 --> 00:13:10.430\nmaybe at the bottom.\n\n223\n00:13:11.610 --> 00:13:13.070\nAnd then the bar right now,\n\n224\n00:13:13.070 --> 00:13:15.700\nthe side bar's just gonna be\nempty other than that button.\n\n225\n00:13:15.700 --> 00:13:19.180\nAnd then on the right hand side we'll\nactually have our log in and log out.\n\n226\n00:13:19.180 --> 00:13:20.460\nSo we'll get to the forms,\n\n227\n00:13:20.460 --> 00:13:24.050\nlet's do some restructuring of\nthe main page before that though.\n\n228\n00:13:24.050 --> 00:13:26.580\nSo in order to do that, and\n\n229\n00:13:26.580 --> 00:13:30.890\nthis was one of those things where I wanna\nmake sure you're not watching me go, what\n\n230\n00:13:30.890 --> 00:13:36.600\nI have some references just to make sure\nwe don't have craziness here, all right?\n\n231\n00:13:36.600 --> 00:13:39.280\nSo how are we going to get this done?\n\n232\n00:13:39.280 --> 00:13:47.540\nI'm essentially going to keep this\nas is and comment it out for now.\n\n233\n00:13:47.540 --> 00:13:48.960\nAll that hard work is gone.\n\n234\n00:13:48.960 --> 00:13:51.340\nNow this actually brings\nup a really good point.\n\n235\n00:13:51.340 --> 00:13:54.220\nI'm going to comment this out and\nshow you what happens.\n\n236\n00:13:54.220 --> 00:14:00.200\nStuff is broke, and the reason it breaks\nis this has to be commented in a very\n\n237\n00:14:00.200 --> 00:14:06.270\nparticular way so in order to overcome\nthat, and I will show you the comment.\n\n238\n00:14:06.270 --> 00:14:11.344\nEssentially you have to\nwrap it inside of these\n\n239\n00:14:11.344 --> 00:14:17.550\ncurly brace tags and\nadd multi line comments like so.\n\n240\n00:14:17.550 --> 00:14:21.620\nThis gets evaluated by\nthe compiler process.\n\n241\n00:14:23.340 --> 00:14:27.930\nThis is how you comment react\ncode inside of a render function.\n\n242\n00:14:27.930 --> 00:14:31.110\nNow comments up here these\nwork perfectly fine.\n\n243\n00:14:31.110 --> 00:14:33.790\nThat's because it's not part\nof the render that's being\n\n244\n00:14:33.790 --> 00:14:37.330\ncompiled from this jsx Into JavaScript.\n\n245\n00:14:39.330 --> 00:14:44.320\nSo in order to combat that, what I'm gonna\ndo, is I'm just going to well first remove\n\n246\n00:14:44.320 --> 00:14:50.830\nthese, and remove this and\ncomment out like so.\n\n247\n00:14:50.830 --> 00:14:54.550\nBut I'm just gonna cut and\nmove that outside of the render,\n\n248\n00:14:54.550 --> 00:14:58.880\nso we're making a mess in order\nto make things nicer, okay.\n\n249\n00:14:58.880 --> 00:15:03.530\nSo this render, well I'm gonna start\nwith the top level container, right.\n\n250\n00:15:03.530 --> 00:15:07.290\nTypically a lot of these CSS\nframeworks have, what do you want,\n\n251\n00:15:07.290 --> 00:15:08.770\nas this top level element.\n\n252\n00:15:10.300 --> 00:15:14.922\nSo I'm gonna do that by saying,\ncolumns, and I\n\n253\n00:15:14.922 --> 00:15:20.130\nforgot that my init doesn't work like that\nso div, and I'm going to say class name.\n\n254\n00:15:20.130 --> 00:15:27.770\nAgain, this is JSX, so I need columns and\nI'm going to leave it as that for now.\n\n255\n00:15:27.770 --> 00:15:32.290\nSo, this is going to give me the grid\nsystem that I hope to have always.\n\n256\n00:15:32.290 --> 00:15:37.222\nNow once I have that,\nI'm going to have two sections,\n\n257\n00:15:37.222 --> 00:15:40.987\nessentially my sidebar and my main area.\n\n258\n00:15:40.987 --> 00:15:41.925\n&gt;&gt; Chat window.\n\n259\n00:15:41.925 --> 00:15:43.790\n&gt;&gt; Yeah, the actual chat window.\n\n260\n00:15:43.790 --> 00:15:48.190\nSo, we need a few more classes, and\nyou can dive into the bulma documentation,\n\n261\n00:15:48.190 --> 00:15:51.882\nI didn't think that was it's\nnecessary to really go deep in that.\n\n262\n00:15:51.882 --> 00:15:56.842\nBut these are all straight out of\nbulma and we're gonna say column,\n\n263\n00:15:56.842 --> 00:16:01.019\nand that column is three columns\nwide of the total area And\n\n264\n00:16:01.019 --> 00:16:07.840\nit's gonna be a hero type and you'll see\nthat, that essentially fills the content.\n\n265\n00:16:07.840 --> 00:16:13.580\nAnd then it's going to be a primary color\nand I'm gonna remove any padding from it.\n\n266\n00:16:15.370 --> 00:16:18.420\nSo, those are all classes provided\nby Bulma, pretty easy to read.\n\n267\n00:16:18.420 --> 00:16:24.330\nHey, it's a column, it's three wide, it's\na hero type component, or element and,\n\n268\n00:16:24.330 --> 00:16:29.420\nit is primary blue, which is that\nturquoise and it has no padding.\n\n269\n00:16:29.420 --> 00:16:32.384\nAll right, so there's our first column.\n\n270\n00:16:32.384 --> 00:16:35.910\nSo, we'll finish out that div and\nthen, our other div,\n\n271\n00:16:37.840 --> 00:16:42.762\nthat is going to be instead, wait for it,\n\n272\n00:16:42.762 --> 00:16:50.340\nclass name, that's just gonna be\na column that is hero, as well.\n\n273\n00:16:52.810 --> 00:16:55.960\nAnd we will come back and\nadd to that momentarily.\n\n274\n00:16:55.960 --> 00:17:01.113\nSo, let's see what this\nlooks like as we're I\n\n275\n00:17:01.113 --> 00:17:06.120\nhave a typo here, /, if we come back and\n\n276\n00:17:06.120 --> 00:17:10.890\nwe wait for it to refresh,\nthere we go, we're getting close.\n\n277\n00:17:10.890 --> 00:17:14.770\nNotice this doesn't quite fill out, but\nwe're gonna get that in just a moment.\n\n278\n00:17:15.850 --> 00:17:21.550\nSo there's our two divs and, if I come and\ninspect, not view page source,\n\n279\n00:17:21.550 --> 00:17:26.840\nbut instead inspect,\nthen if I look at the body and\n\n280\n00:17:26.840 --> 00:17:31.630\nmy root tag, and here's my reacts root,\nthere's my actual element.\n\n281\n00:17:31.630 --> 00:17:33.030\nSo there's columns.\n\n282\n00:17:33.030 --> 00:17:37.440\nThere's one column and\nthere's the other column, okay?\n\n283\n00:17:37.440 --> 00:17:40.550\nSo column is 3hero and then,\n\n284\n00:17:40.550 --> 00:17:43.140\nthe other column will\nessentially fill the remainder.\n\n285\n00:17:44.950 --> 00:17:45.840\nOkay?\n\n286\n00:17:45.840 --> 00:17:48.260\nSo we have that, that's good.\n\n287\n00:17:48.260 --> 00:17:53.550\nLet's fill out this bottom portion that\nwill essentially contain these forms and\n\n288\n00:17:53.550 --> 00:17:55.500\nsome of this other stuff for now.\n\n289\n00:17:55.500 --> 00:18:00.130\nSo, this bottom hero, inside of that,\n\n290\n00:18:00.130 --> 00:18:04.570\nI need a column, or excuse me,\na div, divs on divs on divs,\n\n291\n00:18:04.570 --> 00:18:09.830\nthat has a class name and,\nI'm just styling this normally.\n\n292\n00:18:09.830 --> 00:18:13.220\nThere are react ways, where I can\nkind of bundle all the styling up and\n\n293\n00:18:13.220 --> 00:18:17.400\nuse JavaScript to input these styles.\n\n294\n00:18:17.400 --> 00:18:20.840\nAnd we may eventually pull that out,\nbut this is just for clarity and\n\n295\n00:18:20.840 --> 00:18:25.690\nto keep things a little nice and\nkind of straight forward,\n\n296\n00:18:25.690 --> 00:18:27.130\nas straight forward as this can be.\n\n297\n00:18:27.130 --> 00:18:32.320\nSo this is gonna be hero body and I'm\n\n298\n00:18:32.320 --> 00:18:36.900\ngonna end that div and\nthen, inside of that div,\n\n299\n00:18:36.900 --> 00:18:42.560\nI'm gonna have another hero body or\nexcuse me, not another hero body,\n\n300\n00:18:42.560 --> 00:18:46.309\nbut another set of columns, because I\nwanna further kind of divide this up.\n\n301\n00:18:48.250 --> 00:18:52.978\nAnd that is a div with class name and\n\n302\n00:18:52.978 --> 00:18:58.370\ncolumns and I want this to be centered.\n\n303\n00:18:58.370 --> 00:19:01.870\nEssentially I want this to be centered,\nwhatever is inside of it.\n\n304\n00:19:01.870 --> 00:19:03.980\nNow we may have to tweak\nthat at a later time, but\n\n305\n00:19:03.980 --> 00:19:07.340\nI'm thinking of the form,\ncuz when you come to this page,\n\n306\n00:19:07.340 --> 00:19:11.130\nthere's really nothing on the sidebar\nexcept either a lot in or a sign up form.\n\n307\n00:19:11.130 --> 00:19:14.500\nSo those are gonna be centered\ninside of that main area.\n\n308\n00:19:16.280 --> 00:19:21.694\nSo this is is centered, like so and then,\n\n309\n00:19:21.694 --> 00:19:28.193\nwe're gonna have a div,\nI know divs everywhere,\n\n310\n00:19:28.193 --> 00:19:32.680\na div with a className of column and\n\n311\n00:19:32.680 --> 00:19:38.280\nit is half the size of that column's area.\n\n312\n00:19:38.280 --> 00:19:42.679\nSo I have used the nested\ncolumns structure just because,\n\n313\n00:19:42.679 --> 00:19:46.739\nit allows me to kind of chop\nup the individual pieces.\n\n314\n00:19:46.739 --> 00:19:47.643\nOkay?\n\n315\n00:19:47.643 --> 00:19:49.830\nSo what gonna go in here?\n\n316\n00:19:49.830 --> 00:19:50.653\nWell, I think these forms,\n\n317\n00:19:50.653 --> 00:19:56.630\nI think these forms are probably a good\nthing to go ahead and plop in there.\n\n318\n00:19:56.630 --> 00:20:00.490\nSo let's paste, and get rid of that and\n\n319\n00:20:00.490 --> 00:20:04.670\nsee what we have and,\nwe're getting somewhere.\n\n320\n00:20:04.670 --> 00:20:06.300\nWe're getting somewhere.\n\n321\n00:20:06.300 --> 00:20:07.170\nIt's actually centered.\n\n322\n00:20:07.170 --> 00:20:08.190\nIt looks a little bit nicer.\n\n323\n00:20:09.540 --> 00:20:16.331\nNow, if we come back over here, the\nremainder, if we come back to this div and\n\n324\n00:20:16.331 --> 00:20:20.835\nI will say, let's just say sidebar,\nwait for it.\n\n325\n00:20:29.413 --> 00:20:32.023\nAnd that is not wanting\nto play nice to me.\n\n326\n00:20:32.023 --> 00:20:36.540\nAll right, so this is our sidebar portion,\nand for now, I'll just put an H1 in here.\n\n327\n00:20:36.540 --> 00:20:42.066\nThis is sidebar, so we can remember.\n\n328\n00:20:44.867 --> 00:20:46.720\nAll right, so there's our side bar.\n\n329\n00:20:46.720 --> 00:20:51.500\nNow, how are we going to get\nthat kind of spread out?\n\n330\n00:20:51.500 --> 00:20:54.730\nI want it to come up the full\nvertical height, right?\n\n331\n00:20:54.730 --> 00:21:00.611\nSo in order to get that accomplished,\nI need something here,\n\n332\n00:21:00.611 --> 00:21:05.358\nor if I come over here,\nand I look, and I inspect,\n\n333\n00:21:05.358 --> 00:21:10.106\nthis root element is not\nthe height of the page, so\n\n334\n00:21:10.106 --> 00:21:17.003\nI'm never actually going to be able\nto pull that full height of the page,\n\n335\n00:21:17.003 --> 00:21:24.040\nunless I change the overall element\nto the full height of the page.\n\n336\n00:21:24.040 --> 00:21:26.365\nSo what is this root?\n\n337\n00:21:26.365 --> 00:21:34.480\nHmm, well I need to add some\nCSS to that as well, okay?\n\n338\n00:21:34.480 --> 00:21:36.130\nSo how are we going to do that?\n\n339\n00:21:37.690 --> 00:21:41.230\nWe're gonna write a little bit\nof custom CSS, just to help.\n\n340\n00:21:41.230 --> 00:21:43.780\nAnd I'm gonna say,\nthis is gonna be a single class,\n\n341\n00:21:43.780 --> 00:21:46.960\nthat I can just kind of put a couple\nof places and allowed to be.\n\n342\n00:21:46.960 --> 00:21:52.300\nIf I come into index.js which mounts\nour app, we're all good there.\n\n343\n00:21:52.300 --> 00:21:57.541\nIf I come into index.css,\nI want to say .vh-100.\n\n344\n00:21:57.541 --> 00:22:04.170\nAnd all this does is modify the height\nof whatever it's applied to,\n\n345\n00:22:04.170 --> 00:22:07.540\nto one hundred percent of the view height,\nwhat we actually see.\n\n346\n00:22:07.540 --> 00:22:11.910\nSo now that I have that class available,\nthat's totally us.\n\n347\n00:22:11.910 --> 00:22:14.517\n&gt;&gt; So, you're making that\nchange in the CSS file then, so\n\n348\n00:22:14.517 --> 00:22:17.350\nthat it would persist across\neverything you do here?\n\n349\n00:22:17.350 --> 00:22:21.340\n&gt;&gt; Yes this is inside of our index.css,\nso these are globally\n\n350\n00:22:21.340 --> 00:22:24.380\ncustom styles that I have written,\nthat would be available everywhere.\n\n351\n00:22:24.380 --> 00:22:27.170\nNow be very careful if\nyou write styles in this,\n\n352\n00:22:27.170 --> 00:22:30.850\nthat Bulma has marked as\nimportant internally.\n\n353\n00:22:30.850 --> 00:22:33.970\nYou may have some clashes\nthat don't really work out.\n\n354\n00:22:33.970 --> 00:22:36.960\nBut some of these heights and\nthings are pretty straight forward.\n\n355\n00:22:38.520 --> 00:22:41.500\nSo if we wanna pull that top level.\n\n356\n00:22:41.500 --> 00:22:49.420\nLet's just see if we can add a vh-100 here\nand, I think that might be all right.\n\n357\n00:22:50.780 --> 00:22:53.425\nAnd here we go, let's actually make\nthis to where is not mobile view.\n\n358\n00:22:53.425 --> 00:22:57.800\nThere we go, so\nthat's looking a little bit better,\n\n359\n00:22:57.800 --> 00:23:02.210\nwe still got some nested\nstuff going on over here,\n\n360\n00:23:02.210 --> 00:23:06.480\nbut we at least have our arrangement so\nto speak.\n\n361\n00:23:06.480 --> 00:23:08.665\n&gt;&gt; So not to get off topic,\nbut you said mobile view,\n\n362\n00:23:08.665 --> 00:23:13.130\nso this is actually got some of that\nresponsive element in that CSS file?\n\n363\n00:23:13.130 --> 00:23:14.330\n&gt;&gt; That it does, that it does,\n\n364\n00:23:14.330 --> 00:23:19.090\nit'll kind of start pulling things\nto a horizontal for tablet and\n\n365\n00:23:19.090 --> 00:23:24.150\nmobile, it may not be perfect, because I'm\nactually targeting like a full chat app,\n\n366\n00:23:24.150 --> 00:23:28.480\ninstead of a mobile view, I really should\nbe targeting a mobile view, as well.\n\n367\n00:23:28.480 --> 00:23:32.290\nBut, this is about learning React and\nFirebase, and kind of getting it all.\n\n368\n00:23:32.290 --> 00:23:36.930\nThe pretty is just so,\nit's not hard to look at.\n\n369\n00:23:36.930 --> 00:23:38.460\nBut, there we have it.\n\n370\n00:23:38.460 --> 00:23:42.952\nWe have kind of our initial\nset-up ready to go.\n\n371\n00:23:42.952 --> 00:23:47.160\n&gt;&gt; All right, so is there anything\nelse we want to do in this episode?\n\n372\n00:23:47.160 --> 00:23:48.550\nI mean it's looking beautiful.\n\n373\n00:23:48.550 --> 00:23:51.800\nI know there's some more we can add,\nbut I don't know if we have time.\n\n374\n00:23:51.800 --> 00:23:55.130\n&gt;&gt; I know that we need to get to those\nforms, cuz those forms are still ugly.\n\n375\n00:23:55.130 --> 00:23:56.910\nRight?\nBut we have our initial arrangement, but\n\n376\n00:23:56.910 --> 00:23:58.325\nmaybe we need to come\nback with a part two,\n\n377\n00:23:58.325 --> 00:24:01.290\neven though I know we got about\nfive minutes left here, but\n\n378\n00:24:01.290 --> 00:24:03.600\nthose forms are gonna take a little\nbit longer than five minutes.\n\n379\n00:24:03.600 --> 00:24:05.780\nSo maybe we'll split\nthis up into a part two.\n\n380\n00:24:05.780 --> 00:24:09.830\nCome back, fix those forms,\ndo a couple of other arrangements, just so\n\n381\n00:24:09.830 --> 00:24:12.320\nwe can proceed and\nhave something nice to look at.\n\n382\n00:24:12.320 --> 00:24:15.190\n&gt;&gt; Sounds good.\nWell, Justin, you're an artist and\n\n383\n00:24:15.190 --> 00:24:19.410\nI'm gonna talk to the higher ups here,\nsee if we can get you on CreativeProTV,\n\n384\n00:24:19.410 --> 00:24:21.550\nas well, because that's beautiful,\nwhat you're doing.\n\n385\n00:24:21.550 --> 00:24:24.830\nBut for now, we're gonna go ahead and\nwrap this one up and\n\n386\n00:24:24.830 --> 00:24:26.310\ncome back, like you said, with a part two,\n\n387\n00:24:26.310 --> 00:24:30.160\nwhere we finish out the form itself and\nmake that look pretty, as well.\n\n388\n00:24:30.160 --> 00:24:33.380\nBut now, signing off forDevProTV,\nI've been your host Peter VanRysdam.\n\n389\n00:24:33.380 --> 00:24:34.400\n&gt;&gt; And I'm Justin Dennison.\n\n390\n00:24:34.400 --> 00:24:36.263\n&gt;&gt; And we'll see you next time.\n\n391\n00:24:36.263 --> 00:24:41.722\n[MUSIC]\n\n",
          "vimeoId": "230000358"
        },
        {
          "description": "Adding in this much style isn’t easy, so Peter and Justin decided to do a second episode to finish. They continue to use the CSS provided by Bulma and show how to edit that file to create personalized elements within the app.",
          "length": "1094",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-7-1-2-adding_some_style_pt2-081617-PGM.00_18_37_22.Still002.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-7-1-2-adding_some_style_pt2-081617-PGM.00_18_37_22.Still002-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-7-1-2-adding_some_style_pt2-081617-PGM.00_18_37_22.Still002-sm.jpg",
          "title": "Adding Some Style Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.920 --> 00:00:14.360\nHello and welcome to DevPro.TV.\n\n3\n00:00:14.360 --> 00:00:18.910\nI'm your host, Peter VanRysdam and\ntoday we are continuing our series of\n\n4\n00:00:18.910 --> 00:00:22.030\nbuilding a chat app using React and\nFirebase.\n\n5\n00:00:22.030 --> 00:00:22.952\nAnd this episode,\n\n6\n00:00:22.952 --> 00:00:26.648\nit's actually a part two of our previous\nepisode where we added some style.\n\n7\n00:00:26.648 --> 00:00:28.660\nSo make sure you go back and\ncheck that out if you haven't.\n\n8\n00:00:28.660 --> 00:00:30.864\nWe are going to pick it\nright back up here with Mr.\n\n9\n00:00:30.864 --> 00:00:32.710\nJustin Dennison, Justin how are you doing?\n\n10\n00:00:32.710 --> 00:00:34.610\n&gt;&gt; I am doing fantastic, and\nhow are you today Peter?\n\n11\n00:00:34.610 --> 00:00:39.210\n&gt;&gt; I am great and I am really excited\nto see we actually have some color, and\n\n12\n00:00:39.210 --> 00:00:44.135\nsome spacing, and good stuff like that\ngoing on in our forms for our sign up.\n\n13\n00:00:44.135 --> 00:00:47.000\nWell, like I said we did\nthe buttons in the forms, but\n\n14\n00:00:47.000 --> 00:00:50.585\nnot the forms themselves, so\ntell us where are we picking up here?\n\n15\n00:00:50.585 --> 00:00:53.890\n&gt;&gt; All right, so the first kind of\ncourse of action that I was thinking is,\n\n16\n00:00:53.890 --> 00:00:56.936\nhandle that log out button that I\nwant to be as part of the side bar.\n\n17\n00:00:56.936 --> 00:01:00.110\nSo I'm going to pull that over,\npull it to the bottom of the side bar.\n\n18\n00:01:00.110 --> 00:01:01.836\nAnd for now the side bar is finished,\n\n19\n00:01:01.836 --> 00:01:05.010\nthere are some other tweaks that\nwe will make along the way.\n\n20\n00:01:05.010 --> 00:01:10.240\nAnd then we need to turn our attention to\nin fact, the forms that are part of well,\n\n21\n00:01:10.240 --> 00:01:12.940\nour actual login and sign up portion.\n\n22\n00:01:12.940 --> 00:01:16.490\nAnd that's gonna be done in\nthe respect of components, right?\n\n23\n00:01:16.490 --> 00:01:18.780\nThe sign-up form and\nthe login form components.\n\n24\n00:01:18.780 --> 00:01:23.664\nSo we'll have to dive into those because\nI wanna maintain some of the clarity\n\n25\n00:01:23.664 --> 00:01:26.653\nthat this declarative\nsyntax provides to us.\n\n26\n00:01:26.653 --> 00:01:29.183\nSo let's go ahead and\ntake a look at my screen and\n\n27\n00:01:29.183 --> 00:01:31.220\njust do a quick review of where we are.\n\n28\n00:01:31.220 --> 00:01:34.850\nWe added all these classes and\nthat's because we npm installed Bulma.\n\n29\n00:01:34.850 --> 00:01:37.270\nBulma css, bulma.css.\n\n30\n00:01:37.270 --> 00:01:38.280\nNow there's a lot more to it.\n\n31\n00:01:38.280 --> 00:01:40.010\nWe're typically using the grid system.\n\n32\n00:01:40.010 --> 00:01:42.420\nSome of the nice stylings,\nI like the color palette.\n\n33\n00:01:42.420 --> 00:01:45.550\nTo each their own, right?\n\n34\n00:01:45.550 --> 00:01:51.290\nDefinitely handwrite some CSS if\nyou want to really try your chops.\n\n35\n00:01:51.290 --> 00:01:56.960\nI do want to clarify that I don't have to\nwrite these as strings inside of the JSX.\n\n36\n00:01:56.960 --> 00:02:01.949\nI can though, but I can also pull\nthose out into JavaScript objects that\n\n37\n00:02:01.949 --> 00:02:05.620\nhave key value pairs that\ncorrespond to what I need.\n\n38\n00:02:06.690 --> 00:02:07.968\nSo just something to keep in mind.\n\n39\n00:02:07.968 --> 00:02:10.421\nNow this side bar you'll notice,\n\n40\n00:02:10.421 --> 00:02:15.420\nif I go to the correct place,\nyou'll notice this is kind off the left.\n\n41\n00:02:15.420 --> 00:02:19.941\nAnd that's because I've removed\nsome padding and temporarily,\n\n42\n00:02:19.941 --> 00:02:24.705\nI'm gonna take off this is-paddingless\njust to show you that there,\n\n43\n00:02:24.705 --> 00:02:27.543\nwe've actually added the padding back.\n\n44\n00:02:27.543 --> 00:02:31.010\nSo just to make sure we can read things,\nI wanna temporarily take that off.\n\n45\n00:02:32.290 --> 00:02:36.730\nNow, what I want is\nthis button right here,\n\n46\n00:02:36.730 --> 00:02:40.980\nthis onClick inside of the side bar.\n\n47\n00:02:40.980 --> 00:02:43.550\nSo I'm going to bring that in here and\nyou know what,\n\n48\n00:02:43.550 --> 00:02:46.170\nI don't even think we need\nthe rest of this anymore.\n\n49\n00:02:46.170 --> 00:02:49.560\nMainly what was happening is we\nhad some conditional rendering,\n\n50\n00:02:49.560 --> 00:02:52.260\nwe had some just showing the state.\n\n51\n00:02:52.260 --> 00:02:55.670\nThat's probably not needed anymore so\nlet's just get rid of it.\n\n52\n00:02:55.670 --> 00:02:59.010\nSo now we've cleaned that up and\nwe've brought the button back.\n\n53\n00:02:59.010 --> 00:03:00.815\nHey, there is the button,\nright down there,\n\n54\n00:03:00.815 --> 00:03:06.900\nnow, Why did it kind\nof hold to the bottom?\n\n55\n00:03:06.900 --> 00:03:09.295\nWell, I don't know.\n\n56\n00:03:09.295 --> 00:03:12.410\nIt doesn't quite look\nlike it should to me.\n\n57\n00:03:12.410 --> 00:03:16.570\nIf we come over here to Bulma,\nand look at the documentation.\n\n58\n00:03:16.570 --> 00:03:23.320\nAnd we come to Elements and Button, Button\nshould just be a standard size button.\n\n59\n00:03:23.320 --> 00:03:25.100\nSo something's going on here.\n\n60\n00:03:25.100 --> 00:03:28.690\nAnd typically whenever you're in forms,\nlike buttons and form,\n\n61\n00:03:28.690 --> 00:03:34.660\nyou will wrap those in a control div.\n\n62\n00:03:34.660 --> 00:03:36.520\nSo the div with the classic control.\n\n63\n00:03:36.520 --> 00:03:39.280\nSo that's one of those\nexceptions to nesting forms.\n\n64\n00:03:39.280 --> 00:03:43.010\nWe have reliance on nesting\nthings appropriately.\n\n65\n00:03:43.010 --> 00:03:46.500\nSo we're actually gonna wrap that\nin a div with a class of control.\n\n66\n00:03:46.500 --> 00:03:51.530\nAnd then we'll modify the button a little\nbit, just to make it a little bit nicer.\n\n67\n00:03:51.530 --> 00:03:55.648\nSo that's our first course of action.\n\n68\n00:03:55.648 --> 00:04:00.598\nSo let's grab this and add a div with\n\n69\n00:04:00.598 --> 00:04:06.680\na class name of control and there we go.\n\n70\n00:04:06.680 --> 00:04:11.493\nBringing this back, cut the button, paste.\n\n71\n00:04:14.480 --> 00:04:17.109\nAnd try to get, all right, whatever.\n\n72\n00:04:18.190 --> 00:04:20.630\nSo we're gonna leave that there for\nsome reason.\n\n73\n00:04:20.630 --> 00:04:24.650\nMy editor is doing that weird authenticate\nthing again, but that's all right.\n\n74\n00:04:24.650 --> 00:04:26.415\nSo then I am gonna bring\nthis button up just so\n\n75\n00:04:26.415 --> 00:04:28.630\nthat we can read it all on the same line.\n\n76\n00:04:28.630 --> 00:04:34.894\nSo if we come and we look,\nt's a little bit nicer but\n\n77\n00:04:34.894 --> 00:04:39.285\nreally what I want is-fullwidth.\n\n78\n00:04:39.285 --> 00:04:43.360\nThis is a Bulma class that I have\nnow used to pull in full width.\n\n79\n00:04:43.360 --> 00:04:47.270\nNow you'll notice there\nis some weirdness there.\n\n80\n00:04:47.270 --> 00:04:54.455\nAll right, I would really like for to span\nthe entire thing but that is-paddingless.\n\n81\n00:04:54.455 --> 00:04:59.170\npadding-less, when putting that there\nit'll actually span the whole thing, but\n\n82\n00:04:59.170 --> 00:05:01.060\nsome of the other stuff\nruns off the screen.\n\n83\n00:05:01.060 --> 00:05:03.200\nSo it's one of those things\nwhere we're going to hold off,\n\n84\n00:05:03.200 --> 00:05:07.260\nbecause the side bar's going to have\nsome other things going on inside of it.\n\n85\n00:05:07.260 --> 00:05:09.520\nSo I don't want to get too\ncrazy with getting everything\n\n86\n00:05:09.520 --> 00:05:10.560\njust absolutely perfect.\n\n87\n00:05:10.560 --> 00:05:12.960\nSo I do want to remove, as I did before,\n\n88\n00:05:12.960 --> 00:05:16.370\nthat is-paddingless, and\nI think that's pretty good.\n\n89\n00:05:16.370 --> 00:05:18.709\nWe should probably make sure\nthis button still clicks.\n\n90\n00:05:19.930 --> 00:05:25.480\nSo if I come over to the console,\nand I come up to log out, like so,\n\n91\n00:05:25.480 --> 00:05:32.100\nand just say console.log('logging out').\n\n92\n00:05:32.100 --> 00:05:34.608\nThen I can make sure that\nwhen I click this button,\n\n93\n00:05:34.608 --> 00:05:36.500\nthat I am in fact still logging out.\n\n94\n00:05:36.500 --> 00:05:40.328\nSo now I've pulled that control over,\nwe're all good to go.\n\n95\n00:05:40.328 --> 00:05:42.757\nSo I'm happy for now,\nwith how the side bar looks.\n\n96\n00:05:42.757 --> 00:05:45.090\nIt's not perfect, but we'll get there.\n\n97\n00:05:46.580 --> 00:05:49.440\nSo, let's get rid of that console.log,\nwe know that still works.\n\n98\n00:05:49.440 --> 00:05:53.414\nAnd now, we have to address the fact\nthat we have the SignUpForm,\n\n99\n00:05:53.414 --> 00:05:56.030\nthis LoginForm, they do not look nice.\n\n100\n00:05:56.030 --> 00:05:59.576\nAnd largely,\nthey are going to be very repetitious.\n\n101\n00:05:59.576 --> 00:06:04.059\nAll right, SignUpForm and LoginForm\nare going to be very similar, but\n\n102\n00:06:04.059 --> 00:06:07.430\nall of that is going to be\ndone inside of this formula.\n\n103\n00:06:08.880 --> 00:06:11.290\nSo how are we going to accomplish that?\n\n104\n00:06:11.290 --> 00:06:15.273\nWell, let's actually look\nat the sign-up form, and\n\n105\n00:06:15.273 --> 00:06:18.224\nbecause Bulma's brought in globally.\n\n106\n00:06:18.224 --> 00:06:22.980\nWe should be able to just add classes\nto this form, change the markup, and\n\n107\n00:06:22.980 --> 00:06:25.890\nget the result that we would expect.\n\n108\n00:06:25.890 --> 00:06:29.072\nSo, let me, as I said before I\nhave some notes here just to make\n\n109\n00:06:29.072 --> 00:06:32.090\nsure I am not like, well,\nwhat am I going to do again?\n\n110\n00:06:32.090 --> 00:06:35.872\n&gt;&gt; You were good enough to print those\nnotes out in a nice four point font to be\n\n111\n00:06:35.872 --> 00:06:38.553\nable to see them all easily\nwhen you get on the show.\n\n112\n00:06:38.553 --> 00:06:41.007\n&gt;&gt; Exactly, exactly, eyes like a hawk.\n\n113\n00:06:41.007 --> 00:06:45.889\nSol let's worry about\nour SignUpForm first and\n\n114\n00:06:45.889 --> 00:06:50.350\nI'm gonna come up here and, let's see.\n\n115\n00:06:50.350 --> 00:06:55.030\nFor this form, I actually want to\nwrap the entire form in a div.\n\n116\n00:06:57.362 --> 00:06:59.706\nWith the class name of box.\n\n117\n00:06:59.706 --> 00:07:02.900\nNow the box is just gonna kinda\ngive it an outline, set it out.\n\n118\n00:07:02.900 --> 00:07:07.388\nIt's not quite a box,\nlike a box shadow, but\n\n119\n00:07:07.388 --> 00:07:10.589\nit will be a nice little offset.\n\n120\n00:07:10.589 --> 00:07:15.970\nSo I'm gonna grab that and\nbring this form inside of the box.\n\n121\n00:07:17.460 --> 00:07:22.520\nSo now that I have that,\nI'm gonna add a title here,\n\n122\n00:07:22.520 --> 00:07:25.973\nso we really know what's going on.\n\n123\n00:07:25.973 --> 00:07:29.855\nEven though it's on the button,\nmaybe we should be more specific.\n\n124\n00:07:29.855 --> 00:07:33.710\nSo className, and the className,\nwell, what kind of H1 is it?\n\n125\n00:07:33.710 --> 00:07:39.593\nIt's a title H1, so\nwe're going to say, Sign Up!\n\n126\n00:07:39.593 --> 00:07:44.632\nAnd here's our h1, so let's go and look,\nit's already looking a little nicer.\n\n127\n00:07:44.632 --> 00:07:47.031\nAll right, so we have Sign Up,\nthis kind of offset.\n\n128\n00:07:47.031 --> 00:07:50.325\nThere is a little bit of a drop\nshadow there, that's all right,\n\n129\n00:07:50.325 --> 00:07:52.900\nit's not crazy,\nit's looking a little better.\n\n130\n00:07:52.900 --> 00:07:58.240\nNow, how about the respective,\nthese fields, these input boxes?\n\n131\n00:07:58.240 --> 00:08:03.170\nSo these inputs, there's some nesting that\nhas to go on as I said before with forms.\n\n132\n00:08:03.170 --> 00:08:07.602\nSo we're going to have a div\n\n133\n00:08:07.602 --> 00:08:12.050\nwith a className of field.\n\n134\n00:08:12.050 --> 00:08:15.160\nAnd this is saying, hey,\nthis is a form field.\n\n135\n00:08:15.160 --> 00:08:17.850\nSo all encapsulated together,\nif I wanted labels,\n\n136\n00:08:17.850 --> 00:08:20.330\nI can then put those inside of here.\n\n137\n00:08:20.330 --> 00:08:23.143\nSo div, and then inside of that,\n\n138\n00:08:23.143 --> 00:08:27.970\nI'm gonna have another div\nwith a className of control.\n\n139\n00:08:29.450 --> 00:08:32.510\nAnd just like that we did with the button.\n\n140\n00:08:32.510 --> 00:08:39.277\nSo div, and then I'm gonna pull\nthis input inside of that div.\n\n141\n00:08:39.277 --> 00:08:44.097\nSo and then lastly there\nare form elements specific\n\n142\n00:08:44.097 --> 00:08:49.030\nclasses that will apply classes for\nthat element.\n\n143\n00:08:49.030 --> 00:08:54.861\nAnd what I mean is, and\ncome here and say className =input.\n\n144\n00:08:54.861 --> 00:08:59.495\nAnd in Bulma,\nthere is a class called input\n\n145\n00:08:59.495 --> 00:09:04.510\nthat styles input fields appropriately.\n\n146\n00:09:04.510 --> 00:09:06.690\nThere are also ones for label.\n\n147\n00:09:06.690 --> 00:09:10.290\nThere are also ones for,\nwell, as you know, button.\n\n148\n00:09:10.290 --> 00:09:13.860\nAnd as well as text area,\ncheck box, things of that nature.\n\n149\n00:09:13.860 --> 00:09:17.960\nNow, we don't need any of those so\nwe're not gonna use them now.\n\n150\n00:09:17.960 --> 00:09:23.810\nWhat I'm gonna do is I'm just\ngonna grab this here and\n\n151\n00:09:23.810 --> 00:09:30.443\ncopy it and paste it, and\nthen overwrite the input portion.\n\n152\n00:09:30.443 --> 00:09:32.130\nAnd then I have to add a class.\n\n153\n00:09:32.130 --> 00:09:39.079\nSo we're gonna say className = input and\nthere we go.\n\n154\n00:09:39.079 --> 00:09:45.426\nNow we should probably add\nthe className of button,\n\n155\n00:09:49.308 --> 00:09:55.110\nJust like so, and see what we have,\nuh-oh, it's looking substantially nicer.\n\n156\n00:09:55.110 --> 00:09:58.940\nAnd we do have a little\nbit of flexibility here.\n\n157\n00:09:58.940 --> 00:10:03.870\nWe've got some, see how that skips\nto mobile view pretty quickly?\n\n158\n00:10:03.870 --> 00:10:07.346\nSo, that's because I'm zoomed in\ncrazy big in order for you to see.\n\n159\n00:10:07.346 --> 00:10:14.827\nIf we go back to normal zoom,\nthat is not the case, it actually doesn't.\n\n160\n00:10:14.827 --> 00:10:18.330\nSo I have to get fairly small\nto kind of like a phablet feel.\n\n161\n00:10:18.330 --> 00:10:23.480\nSo there we go,\nI'm gonna zoom back in just so we can see.\n\n162\n00:10:23.480 --> 00:10:26.160\nAnd then also make this over.\n\n163\n00:10:26.160 --> 00:10:30.136\nSo this button I would really like for\nthis to be large maybe a different color.\n\n164\n00:10:30.136 --> 00:10:34.055\nI would probably reflect the color\nof the sidebar, that's just me,\n\n165\n00:10:34.055 --> 00:10:36.160\nPeter may have a different opinion.\n\n166\n00:10:36.160 --> 00:10:37.880\n&gt;&gt; No I'm with you on that,\nI'm with you on that.\n\n167\n00:10:37.880 --> 00:10:42.872\nA color is a very big factor in driving\npeople to push different buttons, and\n\n168\n00:10:42.872 --> 00:10:44.358\nthings in usability.\n\n169\n00:10:44.358 --> 00:10:48.760\nAnd we want them to go ahead and log in,\nso let's make it a nice fun color.\n\n170\n00:10:48.760 --> 00:10:50.680\n&gt;&gt; There we, is that a fun color?\n\n171\n00:10:50.680 --> 00:10:52.410\nIs that good?\n\n172\n00:10:52.410 --> 00:10:53.298\n&gt;&gt; It's a fun color.\n\n173\n00:10:53.298 --> 00:10:57.330\nCan we adjust the text\ncolor while we're there?\n\n174\n00:10:57.330 --> 00:10:58.225\n&gt;&gt; Maybe, maybe.\n\n175\n00:10:58.225 --> 00:11:03.270\nLet's see,\nwe're going kind of on live here.\n\n176\n00:11:03.270 --> 00:11:06.090\nSo you want to adjust the text color?\n\n177\n00:11:06.090 --> 00:11:07.446\nWhat do you want the text color to be?\n\n178\n00:11:07.446 --> 00:11:11.823\n&gt;&gt; Even though Bulma's fine on their page\nof putting white text on that kind of\n\n179\n00:11:11.823 --> 00:11:14.054\nlight green, I'm not a big fan of it.\n\n180\n00:11:14.054 --> 00:11:15.512\nSo let's try some black text, and\n\n181\n00:11:15.512 --> 00:11:17.740\nsee if that actually stands\nout a little bit better.\n\n182\n00:11:17.740 --> 00:11:24.512\n&gt;&gt; Hm, okay, so, looks like we're gonna\nhave to add our own custom class.\n\n183\n00:11:24.512 --> 00:11:29.860\nLet's see if we can get it done, you're\nreally trying to test my chops here.\n\n184\n00:11:29.860 --> 00:11:30.708\n&gt;&gt; I'm pushing the envelope.\n\n185\n00:11:30.708 --> 00:11:35.290\n&gt;&gt; So let's say .black-text.\n\n186\n00:11:35.290 --> 00:11:43.700\nI like these small little classes\nwhere I can say color: black.\n\n187\n00:11:43.700 --> 00:11:45.400\nSo I have some black text.\n\n188\n00:11:45.400 --> 00:11:48.900\nLet's go add that class in\norder to appease Peter.\n\n189\n00:11:51.430 --> 00:11:56.540\nSo black text, and\nlet's see if that worked out.\n\n190\n00:11:56.540 --> 00:11:59.180\nAnd it looks like they marked\nit as important, Peter.\n\n191\n00:11:59.180 --> 00:11:59.890\nSo you know what?\n\n192\n00:11:59.890 --> 00:12:03.277\nI'm gonna make an executive decision and\nsay you don't get what you want.\n\n193\n00:12:03.277 --> 00:12:03.792\n&gt;&gt; What it is.\n\n194\n00:12:03.792 --> 00:12:06.070\n&gt;&gt; What it is, what it is.\n\n195\n00:12:06.070 --> 00:12:09.540\nSo this actually illustrates a point\nbecause this was something that\n\n196\n00:12:09.540 --> 00:12:11.960\nPeter was like, well, it would be\nnice if we had some black text.\n\n197\n00:12:11.960 --> 00:12:13.790\nAwesome, and tried it real quick.\n\n198\n00:12:13.790 --> 00:12:18.954\nHowever, what happens is this font color,\na lot of those are marked with important.\n\n199\n00:12:18.954 --> 00:12:22.268\nOr done in such a way that it's\nreally hard to override them and\n\n200\n00:12:22.268 --> 00:12:25.760\nthis is something you may encounter\nwhen using CSS frameworks.\n\n201\n00:12:25.760 --> 00:12:29.720\nThere are probably ways I could\nreally push the envelope on this, but\n\n202\n00:12:29.720 --> 00:12:34.670\nwe're just gonna stay with default and\nwe're gonna go with color and white.\n\n203\n00:12:34.670 --> 00:12:38.180\nSo, there's our initial sign up form.\n\n204\n00:12:38.180 --> 00:12:41.150\nIt's largely rinse and\nrepeat for the login form.\n\n205\n00:12:42.630 --> 00:12:47.905\nBut let's go ahead and get that done,\nthat will actually go a lot faster.\n\n206\n00:12:47.905 --> 00:12:51.613\nSo, I have a div, and\n\n207\n00:12:51.613 --> 00:12:55.533\nthe className is box.\n\n208\n00:12:59.726 --> 00:13:00.830\nAnd here we go.\n\n209\n00:13:03.110 --> 00:13:08.023\nSo pull this inside,\nand now inside of this\n\n210\n00:13:08.023 --> 00:13:13.350\nform I have another div\nof className of field.\n\n211\n00:13:18.918 --> 00:13:22.551\nAnd then inside of that field,\n\n212\n00:13:22.551 --> 00:13:28.157\nI want a div with control,\nclassName control.\n\n213\n00:13:31.900 --> 00:13:35.280\nAnd now I'm going to pull\nthat input inside of such.\n\n214\n00:13:38.140 --> 00:13:39.970\nAnd my class name for the input.\n\n215\n00:13:43.349 --> 00:13:48.821\nAnd then likewise, we will copy and\npaste and do replace, so copy,\n\n216\n00:13:48.821 --> 00:13:53.910\npaste, Get rid of this.\n\n217\n00:13:58.534 --> 00:14:05.090\nAnd move this inside here,\ngotta add a className and there is input.\n\n218\n00:14:05.090 --> 00:14:09.402\nAnd then for this respective button,\n\n219\n00:14:09.402 --> 00:14:13.310\nlet's get some over scroll here,\n\n220\n00:14:13.310 --> 00:14:19.523\nclassName is button is-primary and\nis-fullwidth.\n\n221\n00:14:19.523 --> 00:14:23.428\nThere we go, so\nlet's bring this around so we can see.\n\n222\n00:14:23.428 --> 00:14:26.210\nAnd I think both of our forms\nshould look exactly the same.\n\n223\n00:14:26.210 --> 00:14:30.454\nThere is something missing though,\nI forgot the title for the login form.\n\n224\n00:14:30.454 --> 00:14:35.266\nI should probably tell them what they\nare doing, yeah it's on the button.\n\n225\n00:14:35.266 --> 00:14:36.669\n&gt;&gt; [LAUGH] That's important.\n\n226\n00:14:36.669 --> 00:14:41.122\n&gt;&gt; It's something that should be\na little more obvious I think.\n\n227\n00:14:41.122 --> 00:14:49.595\nSo className what kind is this title,\nand login.\n\n228\n00:14:49.595 --> 00:14:50.750\nSo wait for oh-oh, oh-oh.\n\n229\n00:14:50.750 --> 00:14:53.391\n&gt;&gt; I don't think you closed your H.\n\n230\n00:14:53.391 --> 00:14:54.247\n&gt;&gt; I didn't close my H1.\n\n231\n00:14:54.247 --> 00:14:59.630\nBut notice it actually didn't point me to\nthe H1, it pointed me to something else.\n\n232\n00:14:59.630 --> 00:15:00.589\nSo that was my bad.\n\n233\n00:15:00.589 --> 00:15:03.804\nBut there's our two forms, our side bar,\n\n234\n00:15:03.804 --> 00:15:08.820\nthis is actually not as horrible\nto look at, but to each their own.\n\n235\n00:15:08.820 --> 00:15:12.280\nSo, this is where we are, we may end\nup changing some of this as we go.\n\n236\n00:15:12.280 --> 00:15:12.990\n&gt;&gt; Justin, I wanna ask,\n\n237\n00:15:12.990 --> 00:15:15.450\nthis is one of those where I know\nthe answer to this question but for\n\n238\n00:15:15.450 --> 00:15:17.230\nthe viewers at home watching this.\n\n239\n00:15:17.230 --> 00:15:20.970\nThose little dots next\nto your form fields,\n\n240\n00:15:20.970 --> 00:15:24.180\nthat's not something we added in the CSS,\nwhat is that?\n\n241\n00:15:24.180 --> 00:15:25.360\n&gt;&gt; Yeah, you're absolutely correct.\n\n242\n00:15:25.360 --> 00:15:28.070\nActually, if you've watched\na previous set of episodes,\n\n243\n00:15:28.070 --> 00:15:32.230\nI had some shenanigans with\na password manager called LastPass.\n\n244\n00:15:32.230 --> 00:15:36.290\nSo I disabled it, or\nessentially I logged on.\n\n245\n00:15:36.290 --> 00:15:40.320\nHowever, I didn't disable the plugin for\nthis user account in Chrome, so\n\n246\n00:15:40.320 --> 00:15:41.190\nit adds that.\n\n247\n00:15:41.190 --> 00:15:47.530\nSo in order to remove that mystery,\nlet's actually disable that plugin so\n\n248\n00:15:47.530 --> 00:15:52.890\nwe can see that things\nshould show up better.\n\n249\n00:15:52.890 --> 00:15:58.010\nSo here's LastPass,\nI'm gonna disable it and\n\n250\n00:15:58.010 --> 00:16:00.890\nwell if I refresh, they are now gone.\n\n251\n00:16:00.890 --> 00:16:03.740\nSo that's just styling that was added for\n\n252\n00:16:03.740 --> 00:16:08.470\na Chrome extension that I typically use\nto manage passwords, well, just for me.\n\n253\n00:16:08.470 --> 00:16:11.190\nYou may use another one or\nmaybe you don't use one at all.\n\n254\n00:16:11.190 --> 00:16:13.040\nBut that's why those dots are there.\n\n255\n00:16:13.040 --> 00:16:14.410\n&gt;&gt; Just wanted to clarify that.\n\n256\n00:16:14.410 --> 00:16:18.750\nSo Justin, now that you've gone ahead and\nfiled those formulas, anything else we\n\n257\n00:16:18.750 --> 00:16:21.260\nneed to do in this episode, or\nare we good with the style now?\n\n258\n00:16:21.260 --> 00:16:23.280\n&gt;&gt; I think right now it's good.\n\n259\n00:16:23.280 --> 00:16:29.710\nIt's nicer to see what each individual\npiece is and what it's kind of spaced out.\n\n260\n00:16:29.710 --> 00:16:32.480\nHowever there are some other\nthings that we need to\n\n261\n00:16:32.480 --> 00:16:35.130\nimplement before we worry too\nmuch about additional styling.\n\n262\n00:16:35.130 --> 00:16:39.620\nSo we're going to leave it at that for now\nbut this will continue to come back up.\n\n263\n00:16:39.620 --> 00:16:44.950\n&gt;&gt; So I noticed we actually built\nthe login and we built the sign up form.\n\n264\n00:16:44.950 --> 00:16:46.340\nAnd then we went ahead and\nstyled them, and\n\n265\n00:16:46.340 --> 00:16:47.810\nnow we're moving on to the next features.\n\n266\n00:16:47.810 --> 00:16:50.270\nIs there a benefit to doing\nit in any particular order?\n\n267\n00:16:50.270 --> 00:16:53.070\nDo you wait until the end until you have\nall these elements made to go ahead and\n\n268\n00:16:53.070 --> 00:16:55.190\nstyle them, or do them as you go?\n\n269\n00:16:55.190 --> 00:16:57.530\n&gt;&gt; So let me opine a little bit.\n\n270\n00:16:57.530 --> 00:17:00.520\nFor me, it's easier to build\nsmall sections, come back and\n\n271\n00:17:00.520 --> 00:17:03.390\nstyle it, build small sections,\ncome back and style it.\n\n272\n00:17:03.390 --> 00:17:08.235\nBecause sometimes until I've built\nexactly what I need functionality wise.\n\n273\n00:17:08.235 --> 00:17:11.683\nI don't know the elements\nespecially if I'm kinda exploring.\n\n274\n00:17:11.683 --> 00:17:15.455\nNow from a large team perspective,\nif you were in a company, they were like,\n\n275\n00:17:15.455 --> 00:17:18.925\nI want to look like this, it needs to have\nthis functionality, so on and so forth.\n\n276\n00:17:18.925 --> 00:17:22.685\nAnd you may be able to do your\nstyling as you go or kind of upfront.\n\n277\n00:17:22.685 --> 00:17:25.650\nSo this is just me working on this.\n\n278\n00:17:25.650 --> 00:17:29.580\nThat workflow works best for me, it's not\nnecessarily applicable in all situations.\n\n279\n00:17:29.580 --> 00:17:31.260\n&gt;&gt; So it's kind of more of\nwhat you're comfortable with.\n\n280\n00:17:31.260 --> 00:17:34.011\nAnd there might be situations where\none person's just coding it and\n\n281\n00:17:34.011 --> 00:17:35.324\nanother person's styling it.\n\n282\n00:17:35.324 --> 00:17:39.515\nSo I guess it sounds like kind of figured\nout for whatever works best for you or\n\n283\n00:17:39.515 --> 00:17:40.180\nyour team.\n\n284\n00:17:40.180 --> 00:17:44.590\nBut Justin, thank you for teaching us that\ntoday, and I know we're gonna come back.\n\n285\n00:17:44.590 --> 00:17:47.210\nNext time it sounds like we'll\nstart work on the sidebar.\n\n286\n00:17:47.210 --> 00:17:50.870\nSo we'll actually, now that we're signed\nin, we can actually get into the app and\n\n287\n00:17:50.870 --> 00:17:53.390\nstart playing with some\nfeatures that go into it.\n\n288\n00:17:53.390 --> 00:17:56.230\nBut we're going to hold that for\nanother episode,\n\n289\n00:17:56.230 --> 00:17:58.680\nso we're going to go ahead and\nsign off for this one.\n\n290\n00:17:58.680 --> 00:18:01.280\nFor DEVPro.TV I've been your host,\nPeter VanRysdam.\n\n291\n00:18:01.280 --> 00:18:02.270\n&gt;&gt; And I'm Justin Dennison.\n\n292\n00:18:02.270 --> 00:18:03.536\n&gt;&gt; And we'll see you next time.\n\n293\n00:18:03.536 --> 00:18:08.189\n[MUSIC]\n\n294\n00:18:08.189 --> 00:18:13.790\n[BLANK AUDIO]\n\n",
          "vimeoId": "229999170"
        },
        {
          "description": "With the login feature complete, Peter and Justin move to creating the sidebar component. Justin shows why it’s important to break that feature in to its own component to make the code easier to manage.",
          "length": "1468",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-7-2-building_the_side_component-081618-PGM.00_24_16_09.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-7-2-building_the_side_component-081618-PGM.00_24_16_09.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-7-2-building_the_side_component-081618-PGM.00_24_16_09.Still001-sm.jpg",
          "title": "Building the Sidebar Component",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.996 --> 00:00:14.805\nHello, and welcome to DevProTV.\n\n3\n00:00:14.805 --> 00:00:16.340\nI'm your host Peter VanRysdam.\n\n4\n00:00:16.340 --> 00:00:21.130\nAnd today, we are continuing with our\nseries where we're creating a chat app\n\n5\n00:00:21.130 --> 00:00:22.460\nusing React and Firebase.\n\n6\n00:00:22.460 --> 00:00:25.050\nAnd specifically in today's episode,\nwe're gonna go ahead and\n\n7\n00:00:25.050 --> 00:00:28.810\nget started on the sidebar in making\nthat functional and then pretty.\n\n8\n00:00:28.810 --> 00:00:31.970\nSo here to help us do that,\nwe have Mr. Justin Dennison.\n\n9\n00:00:31.970 --> 00:00:33.050\nJustin, how you doing?\n\n10\n00:00:33.050 --> 00:00:34.190\n&gt;&gt; I am doing fantastic Peter.\n\n11\n00:00:34.190 --> 00:00:35.050\nHow are you today?\n\n12\n00:00:35.050 --> 00:00:35.860\n&gt;&gt; I'm doing great.\n\n13\n00:00:35.860 --> 00:00:38.280\nAnd I'm looking forward to\ngetting started on the sidebar.\n\n14\n00:00:38.280 --> 00:00:40.990\nWe're really now into the meat\nof the actual application, and\n\n15\n00:00:40.990 --> 00:00:42.020\ngetting to see what it's gonna do.\n\n16\n00:00:42.020 --> 00:00:43.832\nSo where are we starting today?\n\n17\n00:00:43.832 --> 00:00:46.395\n&gt;&gt; So really what I wanted\nto do is I noticed, and\n\n18\n00:00:46.395 --> 00:00:48.490\nmaybe you can disagree with me here.\n\n19\n00:00:48.490 --> 00:00:52.488\nWhen we added the styling in the last\ncouple of episodes, we lost some of that\n\n20\n00:00:52.488 --> 00:00:55.804\nclarity that was originally there\nfrom just the standard JSX.\n\n21\n00:00:55.804 --> 00:01:01.432\nSo it was, no, I'll have have just this\nand then log in form and sign up form.\n\n22\n00:01:01.432 --> 00:01:05.068\nIt was very declarative, and\nif I looked at the main app, I went,\n\n23\n00:01:05.068 --> 00:01:06.666\nI know what that is, right?\n\n24\n00:01:06.666 --> 00:01:11.225\nSo we'd lost some of that, so I wanna\nstart to reorganize some of this into\n\n25\n00:01:11.225 --> 00:01:15.436\nvarious components, so\nI can gain some of the claritiveness back.\n\n26\n00:01:15.436 --> 00:01:17.070\nWould you agree that it became\na little harder to read?\n\n27\n00:01:17.070 --> 00:01:21.185\n&gt;&gt; Yeah, when you commented some stuff\nout and then you had to copy that and\n\n28\n00:01:21.185 --> 00:01:23.666\nremove it, so it would actually compile.\n\n29\n00:01:23.666 --> 00:01:25.765\nStill, things got a little messy.\n\n30\n00:01:25.765 --> 00:01:29.325\nAnd if a new developer went in and looked\nat that code now, they might get a little\n\n31\n00:01:29.325 --> 00:01:32.528\nconfused, whereas you can remember\nkind of where you put everything.\n\n32\n00:01:32.528 --> 00:01:34.400\nBut it would be nice to\nclean that up a little bit.\n\n33\n00:01:34.400 --> 00:01:38.343\n&gt;&gt; So I think the first thing we\nare gonna do is handle the sidebar, and\n\n34\n00:01:38.343 --> 00:01:43.205\nthen if we have a chance, we may actually\nabstract away some of the styling into its\n\n35\n00:01:43.205 --> 00:01:46.810\nkind of wrapper component, so\nwe'll see that double time.\n\n36\n00:01:46.810 --> 00:01:49.605\nSo our main focus is the sidebar,\nif we have time,\n\n37\n00:01:49.605 --> 00:01:52.078\nwe'll do maybe the main\npanel area as well.\n\n38\n00:01:52.078 --> 00:01:55.622\nSo let's go ahead and take a look at\nmy screen and see what we have here.\n\n39\n00:01:55.622 --> 00:02:00.419\nAnd here in the notes it's looking nicer,\nbut here is my sidebar, but\n\n40\n00:02:00.419 --> 00:02:03.520\nwhat does that correspond to in my code?\n\n41\n00:02:03.520 --> 00:02:06.570\nIf I come over here,\nit's actually all of these stuff,\n\n42\n00:02:06.570 --> 00:02:09.750\nnot this div, but this right here.\n\n43\n00:02:09.750 --> 00:02:14.675\nAll of these right here, now you'll\nnotice there's not a lot going out,\n\n44\n00:02:14.675 --> 00:02:17.335\nthere's no internal state used here.\n\n45\n00:02:17.335 --> 00:02:19.210\nWe're not using any state.\n\n46\n00:02:19.210 --> 00:02:23.400\nThe only thing that we have is this on\nclick handler for the button to log out.\n\n47\n00:02:24.520 --> 00:02:28.605\nWell, if we had the function pass along,\n\n48\n00:02:28.605 --> 00:02:32.572\nkind of like we had in\nour sign out form and\n\n49\n00:02:32.572 --> 00:02:37.826\nour login form,\nwe could probably pull this apart and\n\n50\n00:02:37.826 --> 00:02:41.705\nhave something of the nature SideBar.\n\n51\n00:02:41.705 --> 00:02:45.683\nAnd then just say on logout, or\n\n52\n00:02:45.683 --> 00:02:50.732\nlet's just say logout equals logout,\n\n53\n00:02:50.732 --> 00:02:54.104\nor this.logout like so.\n\n54\n00:02:54.104 --> 00:02:56.229\nSo that would be a little more readable,\n\n55\n00:02:56.229 --> 00:02:59.940\nand just to show you,\nI'm gonna actually leave that out.\n\n56\n00:02:59.940 --> 00:03:03.514\nI could now make this display\nexactly the same thing,\n\n57\n00:03:03.514 --> 00:03:08.080\nreorganize my main app,\nI'd be, that's the SideBar.\n\n58\n00:03:08.080 --> 00:03:11.930\nI mean, I don't know the implementation\ndetails, but it's a SideBar and\n\n59\n00:03:11.930 --> 00:03:16.230\nit has the ability to logout,\nbecause it has a property called logout.\n\n60\n00:03:16.230 --> 00:03:20.896\nSo what I wanna do is actually\nbuild this component, and\n\n61\n00:03:20.896 --> 00:03:26.752\nsee if we can abstract away some of\nthat mess that ended up from the CSS,\n\n62\n00:03:26.752 --> 00:03:28.859\nthe divs on divs on divs.\n\n63\n00:03:28.859 --> 00:03:33.166\nSo I'm gonna actually put that\nback in just so we can see.\n\n64\n00:03:33.166 --> 00:03:39.180\nIf I come over here and I look, the stuff\nis broke, SideBar is not defined.\n\n65\n00:03:39.180 --> 00:03:43.330\nSo in order to not have to switch\nbetween files momentarily,\n\n66\n00:03:43.330 --> 00:03:46.070\nI'm actually gonna build sidebar\ninside of the same file.\n\n67\n00:03:47.300 --> 00:03:50.020\nNow we're gonna build this\ncomponent a little bit differently.\n\n68\n00:03:50.020 --> 00:03:53.190\nSo you better hold on here.\n\n69\n00:03:53.190 --> 00:03:58.431\nSo let's build this side bar component,\nand when we say SideBar\n\n70\n00:03:58.431 --> 00:04:03.160\nequals props, and\nthen a set of parentheses.\n\n71\n00:04:03.160 --> 00:04:05.790\nThis is an implicit return with\nthese fat arrow functions.\n\n72\n00:04:05.790 --> 00:04:09.330\nSo here's our SideBar, and\nI'm gonna come over here and\n\n73\n00:04:09.330 --> 00:04:14.980\njust grab this JSX and put it right there.\n\n74\n00:04:14.980 --> 00:04:17.050\nBoom, there it is.\n\n75\n00:04:17.050 --> 00:04:19.840\nAnd well, that should be it.\n\n76\n00:04:19.840 --> 00:04:24.750\nHowever, I wanted to spend some time here,\nlogout.\n\n77\n00:04:24.750 --> 00:04:26.091\nDoes that still logout?\n\n78\n00:04:26.091 --> 00:04:28.333\nI don't know, could be interesting.\n\n79\n00:04:28.333 --> 00:04:31.440\nSo let's add logout to it,\n\n80\n00:04:31.440 --> 00:04:37.110\nwait for, wait for it, where'd you go?\n\n81\n00:04:37.110 --> 00:04:39.710\nI passed it, there we go.\n\n82\n00:04:39.710 --> 00:04:42.804\nLet's see if it still logs out.\n\n83\n00:04:42.804 --> 00:04:47.464\nSo logging out.\n\n84\n00:04:47.464 --> 00:04:50.950\nOkay, so should we refresh there,\nthere it is.\n\n85\n00:04:50.950 --> 00:04:55.149\nIf I hit logout, and\nit doesn't work anymore.\n\n86\n00:04:55.149 --> 00:04:58.563\nThese are actually very\nfrustrating things to track down.\n\n87\n00:04:58.563 --> 00:05:04.001\nAnd that's because this .logout, because\nI've extracted that to another component,\n\n88\n00:05:04.001 --> 00:05:07.304\nthat this keyword refers\nto that specific component.\n\n89\n00:05:07.304 --> 00:05:10.298\nNow what have I done here?\n\n90\n00:05:10.298 --> 00:05:13.609\nThis is called a functional\nstateless component,\n\n91\n00:05:13.609 --> 00:05:15.999\nthis is not a class based component.\n\n92\n00:05:15.999 --> 00:05:19.277\nEssentially, I'm writing a function\nthat takes a set of properties and\n\n93\n00:05:19.277 --> 00:05:21.170\nrenders those properties to the screen.\n\n94\n00:05:22.630 --> 00:05:24.990\nSo why can I do that?\n\n95\n00:05:24.990 --> 00:05:30.320\nBecause the logout was just a function\nthat can kind of a pass around and\n\n96\n00:05:30.320 --> 00:05:31.540\nkind of handed off, right?\n\n97\n00:05:32.720 --> 00:05:37.230\nWell, this doesn't actually mean\nanything inside of this functional\n\n98\n00:05:37.230 --> 00:05:37.959\nstateless component.\n\n99\n00:05:39.000 --> 00:05:40.550\nIt means something inside of the class,\n\n100\n00:05:40.550 --> 00:05:43.670\nbecause the class has state and\nhas methods.\n\n101\n00:05:43.670 --> 00:05:46.570\nBut inside of this functional\nstateless component, it does not.\n\n102\n00:05:46.570 --> 00:05:51.690\nSo that this keyword doesn't\nreally have anything for\n\n103\n00:05:51.690 --> 00:05:56.580\nus, but our SideBar does render,\nbut our button doesn't work.\n\n104\n00:05:56.580 --> 00:05:59.730\nSo how are we going to fix\nthat respective thing?\n\n105\n00:06:01.280 --> 00:06:06.290\nSo these props, let's actually change this\n\n106\n00:06:06.290 --> 00:06:11.880\nfrom an implicit return to\nan explicit return, like so.\n\n107\n00:06:11.880 --> 00:06:15.110\nSo I'm actually now gonna\nadd a return statement, and\n\n108\n00:06:15.110 --> 00:06:19.130\nI need that because I've\nchanged it to a curly braces.\n\n109\n00:06:19.130 --> 00:06:22.777\nSo I'll put a parenthesis there,\n\n110\n00:06:22.777 --> 00:06:28.100\nand let's tab this over,\nand tab that over.\n\n111\n00:06:28.100 --> 00:06:33.674\nAnd I'm just gonna console\n\n112\n00:06:33.674 --> 00:06:39.254\nthat log, SideBar props.\n\n113\n00:06:39.254 --> 00:06:43.250\nOkay, so boom, there's SideBar props.\n\n114\n00:06:43.250 --> 00:06:44.970\nAnd let's zoom in a little bit for you.\n\n115\n00:06:46.210 --> 00:06:49.460\nSideBar props has a logout function.\n\n116\n00:06:49.460 --> 00:06:51.050\nWell, what is the log out function?\n\n117\n00:06:51.050 --> 00:06:55.511\nIf you hover over, it's that Firebase off.\n\n118\n00:06:55.511 --> 00:06:57.338\nSo sign out, it's kind of hard to read.\n\n119\n00:06:57.338 --> 00:07:01.750\nIt's been mangled a little bit, but\nit does have that off.signout.den.\n\n120\n00:07:01.750 --> 00:07:04.662\nSo it's actually\nthe function from the main\n\n121\n00:07:04.662 --> 00:07:09.154\napp component that's been passed\ndown through props properties.\n\n122\n00:07:09.154 --> 00:07:11.911\nWell, that's nice.\n\n123\n00:07:11.911 --> 00:07:17.741\nSo if props has logout,\nI no longer have to say, this.logout.\n\n124\n00:07:17.741 --> 00:07:23.637\nInstead I say, props.logout,\njust like so, okay?\n\n125\n00:07:23.637 --> 00:07:27.849\nSo if I come back over here and\nthat refreshed,\n\n126\n00:07:27.849 --> 00:07:31.305\nif I click logout, logout now works.\n\n127\n00:07:31.305 --> 00:07:36.922\nIt actually logs us out, because it\npropagates back to the main app component.\n\n128\n00:07:36.922 --> 00:07:39.070\nI could do that by accessing props.\n\n129\n00:07:39.070 --> 00:07:41.034\nBut see how it's props.logout?\n\n130\n00:07:42.150 --> 00:07:45.877\nWe have props and let's get rid\noff these cancel logout props.\n\n131\n00:07:47.060 --> 00:07:50.852\nIf I only need that one piece,\nI don't like having to do props.logout.\n\n132\n00:07:50.852 --> 00:07:56.955\nOr maybe I had to use that logout function\nor maybe that title or some other data.\n\n133\n00:07:56.955 --> 00:08:01.907\nI just need to reuse those,\nI don't wanna do props all the time So\n\n134\n00:08:01.907 --> 00:08:04.475\nI can make use of destructuring,\n\n135\n00:08:04.475 --> 00:08:09.410\nby saying just give me the log\nout property from props.\n\n136\n00:08:09.410 --> 00:08:12.590\nSo there's an implicit kind\nof props being passed in,\n\n137\n00:08:12.590 --> 00:08:15.770\nand then I'm gonna say on click log out.\n\n138\n00:08:15.770 --> 00:08:16.730\nThere we go.\n\n139\n00:08:16.730 --> 00:08:19.810\nSo now, this our functional,\nstateless component.\n\n140\n00:08:19.810 --> 00:08:22.780\nI can write it as an implicit\nreturn with parentheses, or\n\n141\n00:08:22.780 --> 00:08:25.280\nwith these curly brackets\nwith an explicit return.\n\n142\n00:08:25.280 --> 00:08:26.400\nThere is no state.\n\n143\n00:08:26.400 --> 00:08:29.140\nWe don't,\nno state whatsoever inside of these.\n\n144\n00:08:29.140 --> 00:08:32.870\nNow, there are ways that you can use\nfunction closures to maintain state.\n\n145\n00:08:32.870 --> 00:08:34.480\nBut it gets a little iffy.\n\n146\n00:08:34.480 --> 00:08:36.570\nSo, just a very straight forward.\n\n147\n00:08:36.570 --> 00:08:39.950\nThese are typically\npresentational components.\n\n148\n00:08:39.950 --> 00:08:42.010\nI want to render something to the screen,\nbut\n\n149\n00:08:42.010 --> 00:08:45.990\nI wanna wrap it in a component declaration\nso it's a little easier to read.\n\n150\n00:08:45.990 --> 00:08:50.380\nAs a matter of fact, if we come back down\nhere, what we've cleaned up some of that\n\n151\n00:08:50.380 --> 00:08:56.990\nmess, and other than my editor not being\nfriendly with me, well, what is it?\n\n152\n00:08:56.990 --> 00:08:57.920\nIt's side bar.\n\n153\n00:08:58.970 --> 00:09:00.040\nWow, what does that look like?\n\n154\n00:09:00.040 --> 00:09:02.870\nWell I can actually go to the side\nbar component and find out.\n\n155\n00:09:02.870 --> 00:09:05.750\nWell the side bar\ncomponent looks like that.\n\n156\n00:09:05.750 --> 00:09:07.160\nIt's the only part that it needs and\n\n157\n00:09:07.160 --> 00:09:10.910\nthese, the ability to go log out now\nbecause the buttons is nested in there.\n\n158\n00:09:10.910 --> 00:09:14.650\nSo now we've extracted that for\nincreased readability but\n\n159\n00:09:14.650 --> 00:09:19.980\nalso if we wanted to use the side bar in a\ndifferent capacity we could reuse that in\n\n160\n00:09:19.980 --> 00:09:25.050\ndifferent context instead of it\nbeing embedded as part of our main\n\n161\n00:09:25.050 --> 00:09:29.630\napp component,\nin terms of mark-up and such.\n\n162\n00:09:29.630 --> 00:09:32.320\n&gt;&gt; So does it actually work now\nthough that you made those changes?\n\n163\n00:09:32.320 --> 00:09:33.152\nLet's see it.\n\n164\n00:09:33.152 --> 00:09:34.240\n&gt;&gt; It does, it does.\n\n165\n00:09:34.240 --> 00:09:38.810\nIt logs out all over the place it still\nrenders everything's exactly the same.\n\n166\n00:09:38.810 --> 00:09:42.320\nI just now have a name component\ninstead of the deeply nested markup.\n\n167\n00:09:42.320 --> 00:09:44.140\nDirectly inside of the application.\n\n168\n00:09:44.140 --> 00:09:47.450\n&gt;&gt; All right, great, so\nwhat's next now in this sidebar?\n\n169\n00:09:47.450 --> 00:09:51.760\n&gt;&gt; So the sidebar, we do wanna come\nback and add the message list.\n\n170\n00:09:51.760 --> 00:09:55.000\nBut it might be nice if\n\n171\n00:09:57.060 --> 00:10:02.618\nthe sidebar component internal\nto the actual application\n\n172\n00:10:02.618 --> 00:10:08.622\nthis out component having this functional\nstate component just internal.\n\n173\n00:10:08.622 --> 00:10:10.830\nI might wanna reuse it as a stance.\n\n174\n00:10:10.830 --> 00:10:11.700\nIt is private.\n\n175\n00:10:11.700 --> 00:10:14.450\nIt is not accessible anywhere\nelse except inside the app.\n\n176\n00:10:14.450 --> 00:10:17.960\nSo I would like to extract that.\n\n177\n00:10:17.960 --> 00:10:19.290\nAnd use it in another file.\n\n178\n00:10:19.290 --> 00:10:23.800\nNow there's a couple of different\npoints that can be made here.\n\n179\n00:10:23.800 --> 00:10:26.630\nI don't have to do that if this is\nthe only place that I'm going to use.\n\n180\n00:10:26.630 --> 00:10:27.540\nSo I could write these.\n\n181\n00:10:27.540 --> 00:10:32.083\nThese are essentially little helper\nfunctions to help me understand.\n\n182\n00:10:32.083 --> 00:10:35.840\nBut, I am going to extract\nthis because you never know.\n\n183\n00:10:35.840 --> 00:10:38.520\nI might want to have the sidebar\nin a different view or\n\n184\n00:10:38.520 --> 00:10:40.740\nmaybe I reuse the sidebar.\n\n185\n00:10:40.740 --> 00:10:46.500\nIn some other capacity, or maybe I\ndecide that I don't want the sidebar and\n\n186\n00:10:46.500 --> 00:10:50.780\nI change it, then I have very specific\nthings that I have to be aware of.\n\n187\n00:10:50.780 --> 00:10:52.950\nI just have to look at\nthe sidebar component.\n\n188\n00:10:52.950 --> 00:10:57.430\nSo, we're going to extract\nthat into a sidebar component.\n\n189\n00:10:57.430 --> 00:10:58.772\nSo, here's our new file.\n\n190\n00:10:58.772 --> 00:11:03.827\nI'm gonna call this sidebar and\nthings are going to break momentarily.\n\n191\n00:11:03.827 --> 00:11:07.501\nSo, paste and then this is export,\n\n192\n00:11:07.501 --> 00:11:12.765\nI could say export cost but\nthat's a named import so\n\n193\n00:11:12.765 --> 00:11:17.680\nI'm gonna say export\ndefault sidebar like so.\n\n194\n00:11:17.680 --> 00:11:18.460\nOkay?\n\n195\n00:11:18.460 --> 00:11:22.330\nAnd if I come over here,\nWell if I save it's gonna go,\n\n196\n00:11:22.330 --> 00:11:25.601\neh sidebar's not there, what's going on?\n\n197\n00:11:25.601 --> 00:11:27.500\nWell I need to import it.\n\n198\n00:11:27.500 --> 00:11:32.189\nSo just like login form I need to import\n\n199\n00:11:32.189 --> 00:11:37.790\nside bar from ./sidebar, like so.\n\n200\n00:11:37.790 --> 00:11:41.446\nSo, [SOUND] React must be used and\nscoped when using JSX.\n\n201\n00:11:41.446 --> 00:11:43.150\nReact must be used in scope.\n\n202\n00:11:43.150 --> 00:11:44.180\nHey, it just worked link.\n\n203\n00:11:44.180 --> 00:11:45.100\nWhy doesn't it work now?\n\n204\n00:11:45.100 --> 00:11:47.810\nI thought that's all there should be,\nright?\n\n205\n00:11:49.210 --> 00:11:54.580\nWell, remember how I actually made\na comment a couple of times about\n\n206\n00:11:54.580 --> 00:11:58.490\nwe never use this react variable,\nbut we import it.\n\n207\n00:11:58.490 --> 00:12:02.760\nThis is a flag of saying\nhey there's JSX in here,\n\n208\n00:12:02.760 --> 00:12:04.956\nI need you to compile that\nto regular JavaScript.\n\n209\n00:12:04.956 --> 00:12:09.550\nSo even though we're not using it\nexplicitely we have to say import.\n\n210\n00:12:11.180 --> 00:12:13.688\nActually I think I have that backward no,\nno.\n\n211\n00:12:13.688 --> 00:12:19.498\nI always get those backwards import react\nprom react, just like so, and now this\n\n212\n00:12:19.498 --> 00:12:25.221\ntells our build system hey since you're\nimporting react or maybe JSX in there so\n\n213\n00:12:25.221 --> 00:12:30.263\nrun through, see what it is and\ncomile that JSX into the corresponding\n\n214\n00:12:30.263 --> 00:12:35.540\nJavaScript data structures that we\nneed and boom we're back to it.\n\n215\n00:12:35.540 --> 00:12:36.560\nIt's all beautiful.\n\n216\n00:12:36.560 --> 00:12:39.060\nWe now had that extracted\nas a separate component.\n\n217\n00:12:39.060 --> 00:12:39.920\nIt's all good to go.\n\n218\n00:12:39.920 --> 00:12:44.740\nAnd well, our sidebar does need some more\nstuff, Peter, but I think we actually\n\n219\n00:12:44.740 --> 00:12:49.570\nneed data in order to get like the room\nlist up and going on the left.\n\n220\n00:12:49.570 --> 00:12:50.990\nBut sidebar is done.\n\n221\n00:12:50.990 --> 00:12:54.630\n&gt;&gt; So just to clarify, when you broke that\nout into its own component you copied and\n\n222\n00:12:54.630 --> 00:12:57.260\npasted that text over there.\n\n223\n00:12:57.260 --> 00:12:59.260\nDid you copy and\npaste that or did you cut it?\n\n224\n00:12:59.260 --> 00:13:02.270\nIs it doesn't exist anymore\nin the original component?\n\n225\n00:13:02.270 --> 00:13:05.650\n&gt;&gt; In the original app component\nit does not exist anymore.\n\n226\n00:13:05.650 --> 00:13:07.110\nI actually cut it out of here.\n\n227\n00:13:07.110 --> 00:13:10.500\nSo, I did my development, kinda my\nplaying around, inside of this component.\n\n228\n00:13:10.500 --> 00:13:12.500\nSo I didn't have to worry\nabout setting up a new file,\n\n229\n00:13:12.500 --> 00:13:14.850\nbecause it may have been that\nI decided not to do that.\n\n230\n00:13:14.850 --> 00:13:19.740\nNow, using an appropriate version control\nsystem I had to say don't worry about it.\n\n231\n00:13:19.740 --> 00:13:20.840\nRight?\n\n232\n00:13:20.840 --> 00:13:25.050\nBut once I got it working I went ahead and\npulled it out through a separate file,\n\n233\n00:13:25.050 --> 00:13:26.070\na separate component file.\n\n234\n00:13:27.090 --> 00:13:30.300\nAnd then did that by cutting and\nactually pasting.\n\n235\n00:13:30.300 --> 00:13:33.810\nI had to import react,\ncuz it does have JSX in there as well.\n\n236\n00:13:33.810 --> 00:13:37.305\n&gt;&gt; All right so not to rain on your\nparade, because you did a great job with\n\n237\n00:13:37.305 --> 00:13:41.276\ncleaning up this code a little bit, but\nThere's still some things in there that\n\n238\n00:13:41.276 --> 00:13:44.416\nmaybe could use some tweaking to\nmake it a little more legible or\n\n239\n00:13:44.416 --> 00:13:47.348\nreadable by someone else coming\ninto it and looking at it.\n\n240\n00:13:47.348 --> 00:13:48.121\n&gt;&gt; I agree.\n\n241\n00:13:48.121 --> 00:13:52.005\nThere's actually a portion at the bottom,\nright under the sidebar component,\n\n242\n00:13:52.005 --> 00:13:55.050\nwhere we still have nesting divs,\nand divs and then our forms.\n\n243\n00:13:55.050 --> 00:14:00.510\nIt would be nice if we could apply\nwhat we just saw with the sidebar.\n\n244\n00:14:00.510 --> 00:14:03.610\nAnd kind of make a wrapper or\na container component.\n\n245\n00:14:03.610 --> 00:14:08.440\nAgain, very much presentational for\nthe main area.\n\n246\n00:14:08.440 --> 00:14:12.450\nSo actually let's take a look at\nmy screen and see what Peter and\n\n247\n00:14:12.450 --> 00:14:13.460\nI are both talking about.\n\n248\n00:14:13.460 --> 00:14:15.845\nThis div, div, div, div, div, div, div.\n\n249\n00:14:15.845 --> 00:14:16.345\n&gt;&gt; [LAUGH]\n&gt;&gt; Right.\n\n250\n00:14:16.345 --> 00:14:18.464\nDiv, div, div, div.\n\n251\n00:14:18.464 --> 00:14:20.420\nThis is not good for readability.\n\n252\n00:14:20.420 --> 00:14:23.400\nThis is kind of hard to read.\n\n253\n00:14:23.400 --> 00:14:26.330\nSo, what would you say this is?\n\n254\n00:14:26.330 --> 00:14:28.230\nI would call this a main panel.\n\n255\n00:14:29.590 --> 00:14:30.900\nThis is their main area.\n\n256\n00:14:30.900 --> 00:14:33.910\nWe can call it the panel, the main area.\n\n257\n00:14:33.910 --> 00:14:40.120\nBe very careful about re-using component\nnames and also correspond to normal div.\n\n258\n00:14:40.120 --> 00:14:41.790\nEach one things of that nature.\n\n259\n00:14:41.790 --> 00:14:42.890\nIt would get confusing.\n\n260\n00:14:42.890 --> 00:14:48.460\nBut if I said N name,\nP panel That's the main panel.\n\n261\n00:14:48.460 --> 00:14:50.490\nor, I could make it the message area.\n\n262\n00:14:50.490 --> 00:14:58.720\nNow, I wanna keep it very, very kind of\njust non specific, kind of vague general.\n\n263\n00:14:58.720 --> 00:15:03.240\nAnd I call it main panel because\nreally all I care about is wrapping,\n\n264\n00:15:03.240 --> 00:15:08.020\nlike the column hero, the hero-body,\nthe columns is-centered, column is half.\n\n265\n00:15:08.020 --> 00:15:11.440\nThose portions,\nI kinda wanna just bundle all of those up.\n\n266\n00:15:11.440 --> 00:15:13.770\nSo let's actually do that.\n\n267\n00:15:13.770 --> 00:15:17.510\nI'm gonna grab this, and there we go.\n\n268\n00:15:17.510 --> 00:15:21.700\nAnd I'm gonna make another\nstateless functional component.\n\n269\n00:15:23.140 --> 00:15:30.170\nSo Const MainPanel = and these\nare typically always gonna take props.\n\n270\n00:15:31.210 --> 00:15:33.600\nAnd let's make this\nan implicit return again.\n\n271\n00:15:33.600 --> 00:15:36.495\nAnd boom, there we go.\n\n272\n00:15:36.495 --> 00:15:37.549\nSo now if I come down here and\nuse &lt;span style=\"font-family: Lato,\n\n273\n00:15:37.549 --> 00:15:39.036\nHelvetica, Arial, sans-serif; font-size:\n13px; font-style: normal; font-weight:\n\n274\n00:15:39.036 --> 00:15:43.654\nnormal; display: inline\n!important;\"&gt;MainPanel&lt;/span&gt;, Like so,\n\n275\n00:15:43.654 --> 00:15:45.377\nMainPanel.\n\n276\n00:15:46.730 --> 00:15:48.560\nAnd so close, what do we have?\n\n277\n00:15:48.560 --> 00:15:50.237\nWe have a side bar and a main panel.\n\n278\n00:15:50.237 --> 00:15:52.660\nThat's actually pretty easy to read.\n\n279\n00:15:52.660 --> 00:15:54.306\nI can reason about that.\n\n280\n00:15:54.306 --> 00:15:59.178\nAnd it's still works and just to show you,\nI refresh, I refresh, I refresh but\n\n281\n00:15:59.178 --> 00:16:03.124\nnow There is one aspect of this\nthat I don't particularly like.\n\n282\n00:16:03.124 --> 00:16:07.712\nIf I look at my main panel component,\nit has nested in it the sign up form and\n\n283\n00:16:07.712 --> 00:16:11.793\nthe login form and I've actually hidden,\nto me, too much away.\n\n284\n00:16:11.793 --> 00:16:18.400\nBecause really the main panel should be,\nwell, stateless.\n\n285\n00:16:18.400 --> 00:16:23.320\nIt should not depend on any,\nit's just presentational in nature.\n\n286\n00:16:23.320 --> 00:16:28.520\nAs it stands sign up and\nlog in, they depend on state.\n\n287\n00:16:28.520 --> 00:16:31.848\nAnd they actually depend on state, or\n\n288\n00:16:31.848 --> 00:16:36.637\nmethods in particular that\nare inside of the main app.\n\n289\n00:16:36.637 --> 00:16:41.691\nSo in order to handle that,\nactually gonna pull these back out.\n\n290\n00:16:41.691 --> 00:16:45.641\nAnd I will, I could definitely show you,\nbut I assure you,\n\n291\n00:16:45.641 --> 00:16:51.092\nwe've seen that referencing this inside\nof a functional statements component,\n\n292\n00:16:51.092 --> 00:16:54.002\ndoesn't quite work out in their favor.\n\n293\n00:16:54.002 --> 00:16:57.827\nWe could do props,\nI don't know what we could do.\n\n294\n00:16:57.827 --> 00:17:01.530\nMight have to add a console.log in there.\n\n295\n00:17:01.530 --> 00:17:04.120\nSeems like there should be a better way.\n\n296\n00:17:04.120 --> 00:17:09.080\nBut for know, let us just say\n\n297\n00:17:09.080 --> 00:17:14.260\nan h1 with a panel, like so.\n\n298\n00:17:14.260 --> 00:17:18.110\nSo, I've cut those out and I've saved.\n\n299\n00:17:18.110 --> 00:17:22.190\nWhat I would really like to\nhappen is if I had MainPanel and\n\n300\n00:17:22.190 --> 00:17:26.085\nthen MainPanel like so.\n\n301\n00:17:26.085 --> 00:17:33.350\nAnd then inside of that MainPanel, we have\nkind of this nested structure like so.\n\n302\n00:17:33.350 --> 00:17:34.901\nSo I have a SideBar and\n\n303\n00:17:34.901 --> 00:17:40.054\nI have a MainPanel that is made up of\nthe sign up form and a login form.\n\n304\n00:17:40.054 --> 00:17:42.995\nThat would be nicer but\nif I come over here, this says panel.\n\n305\n00:17:42.995 --> 00:17:46.270\nIt doesn't really reflect\nwhat I anticipate.\n\n306\n00:17:47.370 --> 00:17:51.259\nSo let's come up here, and\nnow this is a little bit different\n\n307\n00:17:51.259 --> 00:17:55.013\nthan the sidebar because\nthe sidebar was self-closing.\n\n308\n00:17:55.013 --> 00:17:59.515\nIf I come back up here and I changes from\nan implicit return, to an explicit return.\n\n309\n00:17:59.515 --> 00:18:06.249\nSo do this, and do this,\nand tab this over.\n\n310\n00:18:09.169 --> 00:18:14.631\nAnd add a return statement,\nreturn, spelled correctly.\n\n311\n00:18:14.631 --> 00:18:21.138\nIf we return like that,\nthen I can say, console.log(props).\n\n312\n00:18:21.138 --> 00:18:23.690\nAnd let's see what's on the props now.\n\n313\n00:18:23.690 --> 00:18:25.790\nThat should be the only thing printed out.\n\n314\n00:18:25.790 --> 00:18:29.080\nThere's this,\nthat's interesting, children.\n\n315\n00:18:29.080 --> 00:18:29.910\nAnd what is it?\n\n316\n00:18:29.910 --> 00:18:35.160\nIt's a child of react type element and\nit's actually the signup form.\n\n317\n00:18:36.180 --> 00:18:39.540\nSo whenever you make functional\nstateless components,\n\n318\n00:18:39.540 --> 00:18:44.150\nor presentational components like this, if\nyou nest them like you would with normal\n\n319\n00:18:44.150 --> 00:18:48.540\nHTML elements you will end up\nwith the a children property.\n\n320\n00:18:48.540 --> 00:18:53.520\nWhere it will say, here are all\nthe things that you passed as children.\n\n321\n00:18:53.520 --> 00:18:55.330\nSo, that's nice.\n\n322\n00:18:55.330 --> 00:19:01.495\nIf that is the case,\nthen I wonder instead of this H1,\n\n323\n00:19:01.495 --> 00:19:05.425\nlet it say {props.children}.\n\n324\n00:19:05.425 --> 00:19:07.690\nOkay, lets see if it, and there we go.\n\n325\n00:19:07.690 --> 00:19:12.965\nWe've now abstracted a way, all that\ndeeply nested divs on divs on divs.\n\n326\n00:19:12.965 --> 00:19:16.930\nRemove that console.log props there.\n\n327\n00:19:16.930 --> 00:19:19.790\nAnd now we're back, and\nlet's see if we can log in.\n\n328\n00:19:19.790 --> 00:19:25.070\nI think it was j@j.com and\nthe 123456, login.\n\n329\n00:19:25.070 --> 00:19:28.650\nAnd it's hard to tell if I logged in or\nnot.\n\n330\n00:19:29.980 --> 00:19:36.460\nThis may be a good time to come back and\nadd a, maybe just for\n\n331\n00:19:36.460 --> 00:19:43.510\nlogging in after this let's\njust console.log this.state.\n\n332\n00:19:43.510 --> 00:19:47.530\nSo we gonna refresh and then j@j.com.\n\n333\n00:19:47.530 --> 00:19:51.710\nAnd then 123456 and login.\n\n334\n00:19:51.710 --> 00:19:57.050\nAnd we're still able to login and notice\nit does set the appropriate information.\n\n335\n00:19:57.050 --> 00:20:00.945\nSo this still works even though it's\npassed as children to kind of this\n\n336\n00:20:00.945 --> 00:20:03.137\ncontainer, this wrapper component.\n\n337\n00:20:03.137 --> 00:20:08.283\nAnd this ends up being a fairly\nstandard paradigm in react code bases.\n\n338\n00:20:08.283 --> 00:20:13.271\nWhere you have kind of these wrapper\nfunctions that just help with saying I\n\n339\n00:20:13.271 --> 00:20:15.860\njust wanna render like the children.\n\n340\n00:20:15.860 --> 00:20:19.539\nOr I just wanna render out this one\nthing and just write in plain function.\n\n341\n00:20:19.539 --> 00:20:22.500\nIf you write a function like this,\nit has to return a valid JXX.\n\n342\n00:20:22.500 --> 00:20:26.780\nIf you write in extence component\nyou can do all this other stuff.\n\n343\n00:20:26.780 --> 00:20:28.421\nIt's ultimately what you need to do.\n\n344\n00:20:28.421 --> 00:20:32.023\nYou just need to show something on\nthe screen and everything that you need is\n\n345\n00:20:32.023 --> 00:20:36.260\npassed in as properties, on clicks,\nlogouts, things of that nature.\n\n346\n00:20:36.260 --> 00:20:39.939\nWell, you could just write\na functional stateless component.\n\n347\n00:20:39.939 --> 00:20:42.936\nIf you need to maintain state internally,\n\n348\n00:20:42.936 --> 00:20:46.610\nthen then you're typically\ngoing to write a class.\n\n349\n00:20:46.610 --> 00:20:53.190\nI find this a great deal more readable\nthan the mess that we had before.\n\n350\n00:20:53.190 --> 00:20:58.230\nOne thing though, I am going to make use,\nand this is just a quick reminder to me.\n\n351\n00:20:58.230 --> 00:21:03.180\nI know this is gonna be passed in props,\nbut I always want to force\n\n352\n00:21:03.180 --> 00:21:08.120\nit to make me think about what\nI need from those properties.\n\n353\n00:21:08.120 --> 00:21:11.630\nSo if I do this and I try to use\nsomething that I assume is on the props,\n\n354\n00:21:12.730 --> 00:21:16.660\nif it's not there then things\nactually start breaking.\n\n355\n00:21:16.660 --> 00:21:20.720\nAnd there's other ways to enforce that and\nwe'll start adding those as we go on.\n\n356\n00:21:20.720 --> 00:21:24.329\nBut for now, we're trying to just\nget everything put together.\n\n357\n00:21:24.329 --> 00:21:27.000\nOne last thing,\nI don't like this in the same file.\n\n358\n00:21:27.000 --> 00:21:31.170\nI should probably put that in\na separate component file.\n\n359\n00:21:31.170 --> 00:21:32.810\nSo, let's create a new file.\n\n360\n00:21:32.810 --> 00:21:36.662\nWe call it MainPanel.js and\n\n361\n00:21:36.662 --> 00:21:41.481\nthen import React from \"react\".\n\n362\n00:21:41.481 --> 00:21:45.974\nAnd then we could just grab that,\n\n363\n00:21:45.974 --> 00:21:49.992\nthis MainPanel here like so.\n\n364\n00:21:49.992 --> 00:21:55.934\nAnd paste and\nthen export default MainPanel like so.\n\n365\n00:21:55.934 --> 00:22:00.338\nAnd then let's go and\nimport MainPanel from MainPanel,\n\n366\n00:22:05.748 --> 00:22:07.788\nFrom MainPanel, like so.\n\n367\n00:22:07.788 --> 00:22:10.568\nSo now we're trying to\nkeep all of our state and\n\n368\n00:22:10.568 --> 00:22:15.430\nour functions here, and then all of\nthe presentational stuff external to that.\n\n369\n00:22:15.430 --> 00:22:19.960\nIt's still a lot going on\ninside of our main app but\n\n370\n00:22:19.960 --> 00:22:22.200\nat least that whittles\ndown the render part.\n\n371\n00:22:22.200 --> 00:22:23.590\nIf you read this, it's a side bar and\n\n372\n00:22:23.590 --> 00:22:27.100\nit's a main panel composed of\nthe sign up form and the login form.\n\n373\n00:22:27.100 --> 00:22:31.680\nThis will ultimately change a little bit,\nbut this is way nicer.\n\n374\n00:22:31.680 --> 00:22:32.600\nLet's see if it still works.\n\n375\n00:22:32.600 --> 00:22:33.770\n&gt;&gt; That was gonna be my question.\n\n376\n00:22:33.770 --> 00:22:36.490\nI hate to ask but what did we just break?\n\n377\n00:22:36.490 --> 00:22:39.720\n&gt;&gt; Now, we didn't break anything and\nthat's because we're applying things.\n\n378\n00:22:39.720 --> 00:22:42.570\nWe've seen errors, we internalize them and\n\n379\n00:22:42.570 --> 00:22:44.730\nthen we try to guard\nagainst them in the future.\n\n380\n00:22:44.730 --> 00:22:49.455\nAt least if we see them the second time\nwe know how to fix them thereafter.\n\n381\n00:22:49.455 --> 00:22:50.283\n&gt;&gt; And so like you said,\n\n382\n00:22:50.283 --> 00:22:53.044\nsometimes it's easier to build that\ncomponent there in the same area.\n\n383\n00:22:53.044 --> 00:22:56.667\nAnd then once you know it works, take\nit out and make it a junk component and\n\n384\n00:22:56.667 --> 00:23:00.584\nthat way, you're saving yourself some\nsteps of trying to figure out where that\n\n385\n00:23:00.584 --> 00:23:01.520\nerror lies.\n\n386\n00:23:01.520 --> 00:23:05.314\n&gt;&gt; Exactly, one step forward,\nanother small step, another small,\n\n387\n00:23:05.314 --> 00:23:07.121\nnow let's change this around.\n\n388\n00:23:07.121 --> 00:23:08.919\nAnd that's a workflow that works for me.\n\n389\n00:23:08.919 --> 00:23:12.999\nIt may not be something that works for you\nor is something that's available to you\n\n390\n00:23:12.999 --> 00:23:16.603\nfrom a team perspective especially\nif you're using version control.\n\n391\n00:23:16.603 --> 00:23:19.740\nBut that's something to keep in mind.\n\n392\n00:23:19.740 --> 00:23:24.240\nIf I can make it work internally, then if\nI have errors when I try to move it to\n\n393\n00:23:24.240 --> 00:23:29.160\na separate file, the error came from the\nmove, not from the actual implementation.\n\n394\n00:23:29.160 --> 00:23:33.840\nIf I build that separately,\nsometimes that's gonna get a little wonky.\n\n395\n00:23:33.840 --> 00:23:38.761\nNow, the reason I did that with sign up\nand login form, Iis because when we had\n\n396\n00:23:38.761 --> 00:23:43.760\na lot of state, those are typically\na little more, they're a little larger so\n\n397\n00:23:43.760 --> 00:23:48.490\nthat file would have got a little\nunruly and so it's very context driven.\n\n398\n00:23:48.490 --> 00:23:51.734\n&gt;&gt; Sounds good, well now that we've got\nthat side bar, it's time to start putting\n\n399\n00:23:51.734 --> 00:23:54.419\nour room list together and\nget some functionality going in there.\n\n400\n00:23:54.419 --> 00:23:57.612\nBut unfortunately, I have a feeling\nthat's gonna take a little bit\n\n401\n00:23:57.612 --> 00:24:00.031\nmore than the two minutes\nleft we have on the clock.\n\n402\n00:24:00.031 --> 00:24:01.994\nSo we're gonna hold that for\nits own episode but\n\n403\n00:24:01.994 --> 00:24:05.137\nlook forward to that because definitely\ngonna be pretty cool when we start to\n\n404\n00:24:05.137 --> 00:24:07.909\npull over some of those elements\nfrom Firebase at that point then?\n\n405\n00:24:07.909 --> 00:24:09.884\n&gt;&gt; Yep.\n&gt;&gt; Great, so we'll go ahead and\n\n406\n00:24:09.884 --> 00:24:11.840\nwrap up this episode though.\n\n407\n00:24:11.840 --> 00:24:15.000\nSo for DevProTV,\nI have been your host Peter VanRysdam.\n\n408\n00:24:15.000 --> 00:24:16.060\n&gt;&gt; And I'm Justin Dennison.\n\n409\n00:24:16.060 --> 00:24:17.000\n&gt;&gt; And we will see you next time.\n\n410\n00:24:17.000 --> 00:24:23.400\n[MUSIC]\n\n",
          "vimeoId": "229999579"
        },
        {
          "description": "In this episode, Justin and Peter begin developing the room list component in the app’s sidebar. They start by creating room names and adding them to the sidebar, giving users the ability to be able to see the room options.",
          "length": "1731",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-8-1-1-building_the_roomlist_component-081717-PGM.00_29_32_04.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-8-1-1-building_the_roomlist_component-081717-PGM.00_29_32_04.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-8-1-1-building_the_roomlist_component-081717-PGM.00_29_32_04.Still001-sm.jpg",
          "title": "Building the RoomList Component",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.822 --> 00:00:15.085\nHello, and welcome to DevProTV.\n\n3\n00:00:15.085 --> 00:00:18.715\nI'm your host Peter VanRysdam and today we\nare continuing with our series where we're\n\n4\n00:00:18.715 --> 00:00:21.625\ncreating a chat app using React and\nFirebase.\n\n5\n00:00:21.625 --> 00:00:23.555\nAnd specifically in this episode today,\n\n6\n00:00:23.555 --> 00:00:26.705\nwe're building the rooms list component,\nwhich is pretty exciting.\n\n7\n00:00:26.705 --> 00:00:29.435\nAnd here to show us how to do that,\nwe have Mr. Justin Dennison.\n\n8\n00:00:29.435 --> 00:00:30.451\nJustin, how you doing?\n\n9\n00:00:30.451 --> 00:00:32.835\n&gt;&gt; I am doing fantastic Peter,\nand how are you?\n\n10\n00:00:32.835 --> 00:00:33.635\n&gt;&gt; I'm very excited.\n\n11\n00:00:33.635 --> 00:00:38.220\nI'm very excited because,\nwe've built the login component.\n\n12\n00:00:38.220 --> 00:00:40.100\nWe've built the sign up component.\n\n13\n00:00:40.100 --> 00:00:42.370\nWe've kind of styled this a little bit.\n\n14\n00:00:42.370 --> 00:00:44.290\nBut now we've got that sidebar and\n\n15\n00:00:44.290 --> 00:00:46.300\nwe're ready to put some things in it and\nget started.\n\n16\n00:00:46.300 --> 00:00:48.030\nSo where do we start with that today?\n\n17\n00:00:48.030 --> 00:00:51.039\n&gt;&gt; So there's a few things that we have\nto consider whenever we're building this\n\n18\n00:00:51.039 --> 00:00:51.959\nrooms list component.\n\n19\n00:00:51.959 --> 00:00:53.690\nNumber one, what is a room, right?\n\n20\n00:00:53.690 --> 00:00:55.317\nWhat defines a room?\nSo we're gonna talk a little bit\n\n21\n00:00:55.317 --> 00:00:56.960\nabout data modeling.\n\n22\n00:00:56.960 --> 00:01:00.378\nAnd well,\nwe'll actually kind of mock up some data.\n\n23\n00:01:00.378 --> 00:01:01.800\nIt's not coming from Firebase yet.\n\n24\n00:01:01.800 --> 00:01:06.831\nBut sometimes I find it easier to\nthink about the data before you try to\n\n25\n00:01:06.831 --> 00:01:12.669\npopulate either Firebase or some other\ndata persistence layer with mock data.\n\n26\n00:01:12.669 --> 00:01:15.258\nSo think about,\nessentially you're data scheme.\n\n27\n00:01:15.258 --> 00:01:19.380\nIn addition too, we're going to model\nit using a Firebase kind of collection.\n\n28\n00:01:19.380 --> 00:01:23.920\nSo Firebase has this nested structure\nof the JavaScript objects that have\n\n29\n00:01:23.920 --> 00:01:27.090\nJavaScript objects with\nparticular unique keys.\n\n30\n00:01:27.090 --> 00:01:31.110\nAnd well, we're gonna model that so\nwe can build our rooms list component.\n\n31\n00:01:31.110 --> 00:01:35.910\nSo, now that we've talked about\nessentially our data modeling,\n\n32\n00:01:35.910 --> 00:01:37.400\nwhat does that mean for us?\n\n33\n00:01:37.400 --> 00:01:40.730\nWell, let's say that we have a list\nof rooms, right, an actual array or\n\n34\n00:01:40.730 --> 00:01:43.109\neven an object that has\na bunch of room objects in it.\n\n35\n00:01:44.170 --> 00:01:45.800\nSo, how's that going to display?\n\n36\n00:01:45.800 --> 00:01:50.440\nI'm thinking, when we come to the page,\nand we actually log in, so\n\n37\n00:01:50.440 --> 00:01:54.690\nwe're kind of building these pieces\nthat are all gonna come to fruition,\n\n38\n00:01:54.690 --> 00:01:56.740\nkind of at the very end, so to speak.\n\n39\n00:01:57.820 --> 00:02:02.242\nOn the left hand side, I would like for\nthe rooms to kind of just, beep, beep,\n\n40\n00:02:02.242 --> 00:02:04.990\nbeep, list down and\nhave a title in the side bar.\n\n41\n00:02:04.990 --> 00:02:07.450\nSo the side bar is kinda playing now.\n\n42\n00:02:07.450 --> 00:02:12.580\nAnd ultimately what we're gonna do is\nhave a room list nested in the side bar,\n\n43\n00:02:12.580 --> 00:02:16.060\nparticularly when you're\nactually logged in.\n\n44\n00:02:16.060 --> 00:02:19.720\nOr you know what,\nmaybe we'll just let everybody see it.\n\n45\n00:02:19.720 --> 00:02:24.070\nAnd then only able to actually type or\n\n46\n00:02:24.070 --> 00:02:26.890\nsend a message if you're\nactually logged in.\n\n47\n00:02:26.890 --> 00:02:31.190\nSo, that's where we're going and\nlet's take a look at the screen,\n\n48\n00:02:31.190 --> 00:02:36.320\nactually our app, and see what\nwe're gonna do in a visual context.\n\n49\n00:02:36.320 --> 00:02:40.050\nSo, over here on the sidebar,\nthere's still some tweaks of styling and\n\n50\n00:02:40.050 --> 00:02:41.010\nthings I wanna make.\n\n51\n00:02:41.010 --> 00:02:42.650\nBut we'll leave it for now,\n\n52\n00:02:42.650 --> 00:02:46.300\nkind of come back after we get\nthese pieces put together.\n\n53\n00:02:46.300 --> 00:02:51.570\nWe will style the room list as we go,\njust because it's gonna be a little bit\n\n54\n00:02:51.570 --> 00:02:54.360\niffy from time to time,\njust seeing how things play out.\n\n55\n00:02:55.710 --> 00:02:56.740\nBut I have this sidebar.\n\n56\n00:02:56.740 --> 00:03:01.173\nAnd what I'm thinking is rooms and then\nthe actual list of rooms that are going to\n\n57\n00:03:01.173 --> 00:03:03.365\nbe clickable based on the collection.\n\n58\n00:03:03.365 --> 00:03:06.300\nAnd when you click it,\nit selects a particular room.\n\n59\n00:03:06.300 --> 00:03:09.624\nSo it's actually a second data\nconsideration that we have to make.\n\n60\n00:03:09.624 --> 00:03:15.574\nWhen I select a room, I want that room to\nbe the one that essentially I'm in, right?\n\n61\n00:03:15.574 --> 00:03:19.428\nThe one that displays,\nthe one that I send messages to,\n\n62\n00:03:19.428 --> 00:03:23.940\nthe one that my messages persist\nto with that particular room ID.\n\n63\n00:03:25.060 --> 00:03:26.900\nSo, now that we have then,\n\n64\n00:03:26.900 --> 00:03:31.770\nI guess that we should probably go\nahead and try to make this rooms list.\n\n65\n00:03:31.770 --> 00:03:35.165\nAnd I do have some notes to the side here,\n\n66\n00:03:35.165 --> 00:03:37.970\njust to make sure we'll make\nthis as fluid as possible.\n\n67\n00:03:37.970 --> 00:03:40.743\nSo there are a few considerations\nthat we have to make.\n\n68\n00:03:40.743 --> 00:03:44.619\nAnd so this may take a little\nbit longer than I expect,\n\n69\n00:03:44.619 --> 00:03:47.301\nyou expect, or even Peter expects.\n\n70\n00:03:47.301 --> 00:03:48.440\nSo, let's go ahead and get started.\n\n71\n00:03:49.480 --> 00:03:54.902\nSo the first thing I'm gonna talk about\nis a first pass at the data model.\n\n72\n00:03:54.902 --> 00:03:56.904\nSo right now, our state,\n\n73\n00:03:56.904 --> 00:04:01.923\nour app state contains all this\nlogged in email and new ID, okay?\n\n74\n00:04:01.923 --> 00:04:07.600\nWhat I'm thinking is we have something\ncalled rooms that is like a collection.\n\n75\n00:04:07.600 --> 00:04:11.900\nIt could either be an array,\nor it could be an object.\n\n76\n00:04:11.900 --> 00:04:15.750\nNow, I'm gonna use an object where\nan array would kinda make more sense.\n\n77\n00:04:15.750 --> 00:04:17.956\nAnd I do wanna show you\nwhy that's the case.\n\n78\n00:04:17.956 --> 00:04:22.700\nWe come over to our Chatham app and\nthe database, what we\n\n79\n00:04:22.700 --> 00:04:28.380\nhave in these here, right, we still have\nsome old remnants from a previous episode.\n\n80\n00:04:28.380 --> 00:04:32.930\nThese end up being key value pairs\nlike objects and objects and objects.\n\n81\n00:04:32.930 --> 00:04:37.450\nAnd that's done mainly for look up and\nspeed and things of that nature.\n\n82\n00:04:37.450 --> 00:04:42.800\nSo, well, it is a collection, but it's\na collection represented as an object.\n\n83\n00:04:42.800 --> 00:04:46.440\nSo I want to know that\nthe rooms are represented as\n\n84\n00:04:46.440 --> 00:04:49.970\nan object with these\nunique key value pairs.\n\n85\n00:04:49.970 --> 00:04:51.370\nI'm going to make that up.\n\n86\n00:04:51.370 --> 00:04:54.810\nI'm just going to emulate the structure,\nokay?\n\n87\n00:04:54.810 --> 00:05:02.570\nSo within our database, our rooms are\ngoing to have hh12, that's a unique ID.\n\n88\n00:05:02.570 --> 00:05:05.190\nThose are actually gonna be a lot longer.\n\n89\n00:05:05.190 --> 00:05:09.660\nJust to see, we wanna keep this simple so\nwe can wrap our minds around it.\n\n90\n00:05:09.660 --> 00:05:12.950\nBut from a Firebased perspective,\nthose tend to be a great deal longer.\n\n91\n00:05:12.950 --> 00:05:16.760\nSo this room and this room,\n\n92\n00:05:16.760 --> 00:05:20.630\nlet's say, jj34, right?\n\n93\n00:05:20.630 --> 00:05:24.290\nSo these are two rooms that\nwe want to think about.\n\n94\n00:05:24.290 --> 00:05:25.400\nSo here's our rooms collection.\n\n95\n00:05:25.400 --> 00:05:28.164\nCurrently, all we would have\nin the respective room is,\n\n96\n00:05:28.164 --> 00:05:31.810\nwell, there's nothing, but\nwe would have two of them.\n\n97\n00:05:33.250 --> 00:05:34.450\nSo, what about the room?\n\n98\n00:05:34.450 --> 00:05:35.650\nWhat do we need for the room?\n\n99\n00:05:35.650 --> 00:05:37.320\nWell, I'm thinking title.\n\n100\n00:05:37.320 --> 00:05:41.020\nSo, let's just say this is\nthe General topic room.\n\n101\n00:05:41.020 --> 00:05:43.516\nLet's say who created it.\n\n102\n00:05:43.516 --> 00:05:48.630\nAnd that will be some username, j@j.com.\n\n103\n00:05:48.630 --> 00:05:52.710\nAnd then,\nactually let's call this, author.\n\n104\n00:05:54.240 --> 00:05:58.890\nAnd let's call this, created,\nand that's going to be date.now.\n\n105\n00:05:58.890 --> 00:06:02.760\nNow, what I'm thinking is this\nwill be a valid datetime object.\n\n106\n00:06:02.760 --> 00:06:08.170\nOr essentially a date object in\nJavaScript that allows me to find out\n\n107\n00:06:08.170 --> 00:06:11.090\nwhen exactly year, month, day, hour,\n\n108\n00:06:11.090 --> 00:06:15.460\nminute, second, and to some extent\nmilliseconds, when it was created.\n\n109\n00:06:15.460 --> 00:06:19.840\nSo there'll be some precision loss there,\nbut we'll go with that.\n\n110\n00:06:19.840 --> 00:06:21.660\nAnd then, what else do we need.\n\n111\n00:06:21.660 --> 00:06:26.310\nI think that's probably a good\ndescription of our room.\n\n112\n00:06:26.310 --> 00:06:30.040\nNow, here's what I'm going\nto do as far as data model.\n\n113\n00:06:30.040 --> 00:06:34.140\nI know that these IDs are unique\nfrom a Firebase perspective.\n\n114\n00:06:34.140 --> 00:06:37.150\nSo I'm not going to make up new IDs.\n\n115\n00:06:37.150 --> 00:06:42.600\nI'm going to use these IDs and\nessentially fold this object when I use it\n\n116\n00:06:42.600 --> 00:06:51.060\ninto something more like this,\nwhere I have an ID like hh12, a title.\n\n117\n00:06:53.050 --> 00:06:58.020\nLet me scroll up here, a title of General,\n\n118\n00:06:58.020 --> 00:07:01.899\nan author j@j.com, and\n\n119\n00:07:01.899 --> 00:07:06.510\na created Date.now.\n\n120\n00:07:06.510 --> 00:07:09.920\nSo essentially, I'm gonna collapse\nthat in on itself just so\n\n121\n00:07:09.920 --> 00:07:13.920\nthe app player, there are probably\nbetter ways to handle this.\n\n122\n00:07:13.920 --> 00:07:18.480\nBut this is the decision that I made as\nfar as how I'm getting data from Firebase\n\n123\n00:07:18.480 --> 00:07:22.830\nand how I need to represent that\nin order to use it to render\n\n124\n00:07:22.830 --> 00:07:24.930\nindividual components on the screen.\n\n125\n00:07:24.930 --> 00:07:27.539\nSo let's fill up this jj34.\n\n126\n00:07:27.539 --> 00:07:29.718\nSo it also needs a title,\nand it's gonna be Jokes.\n\n127\n00:07:29.718 --> 00:07:36.354\nAnd this is an author, and\nlet's say that j@j.com,\n\n128\n00:07:36.354 --> 00:07:43.144\nalso created that one, and\nthen created is Date.now.\n\n129\n00:07:44.780 --> 00:07:49.990\nSo, now that we have this,\nlet's actually just console.log in\n\n130\n00:07:49.990 --> 00:07:55.974\nthe render to see how's that represented\nas a JavaScript data structure.\n\n131\n00:07:55.974 --> 00:07:58.640\nSo how our state will look.\n\n132\n00:07:58.640 --> 00:08:03.504\nSo this.state Now we're gonna come back\nover and see if our app refreshed,\n\n133\n00:08:03.504 --> 00:08:04.268\nand it has.\n\n134\n00:08:04.268 --> 00:08:09.354\nSo, if I zoom in here, and\nI look, there's rooms and\n\n135\n00:08:09.354 --> 00:08:17.170\nthen each room is an object that's going\nto emulate the Firebase data structure.\n\n136\n00:08:17.170 --> 00:08:20.510\nSo there's our rooms data\nthat we're gonna work with.\n\n137\n00:08:20.510 --> 00:08:25.480\nNow that we have our rooms set up,\nwell, there's one other thing.\n\n138\n00:08:25.480 --> 00:08:29.290\nWe don't currently have a selected room,\nso if I just want this to, as soon as you\n\n139\n00:08:29.290 --> 00:08:34.020\nlog in, you happen into room, well,\nnothing will be there until you set one.\n\n140\n00:08:34.020 --> 00:08:37.710\nSo I'm gonna say the general\ncategory is the default.\n\n141\n00:08:39.030 --> 00:08:40.430\nSo we'll set that,\n\n142\n00:08:40.430 --> 00:08:45.150\nand we may have to tweak that as\nwe get information off our base.\n\n143\n00:08:45.150 --> 00:08:47.916\nBut for\nnow I just want to test a few things.\n\n144\n00:08:47.916 --> 00:08:51.240\nAnd think about that\nthere is a selected room.\n\n145\n00:08:51.240 --> 00:08:53.030\nThe room that you're\ncurrently chatting in.\n\n146\n00:08:53.030 --> 00:08:55.250\nSo if I fold up rooms.\n\n147\n00:08:55.250 --> 00:08:58.734\nI can add an additional structure here,\nand\n\n148\n00:08:58.734 --> 00:09:05.240\nactually I have to unfold that to\nput a comma, and say, selected room.\n\n149\n00:09:05.240 --> 00:09:06.270\nWhat is that selected room?\n\n150\n00:09:06.270 --> 00:09:08.776\nWell I wanna select it by ID.\n\n151\n00:09:08.776 --> 00:09:10.313\nHH12, like so.\n\n152\n00:09:10.313 --> 00:09:17.480\nSo, now that I have that selection,\nlet's go and see what this.\n\n153\n00:09:17.480 --> 00:09:19.414\nI removed the console.log\na little prematurely there.\n\n154\n00:09:22.855 --> 00:09:25.810\nAnd so this.state.\n\n155\n00:09:25.810 --> 00:09:28.010\nAnd we'll wait for this to refresh.\n\n156\n00:09:28.010 --> 00:09:31.675\nNow selected room, is gonna be selecting\nthe room from the collection by ID.\n\n157\n00:09:31.675 --> 00:09:35.008\nOkay, so this is a little\nbit separate piece of state,\n\n158\n00:09:35.008 --> 00:09:36.970\nthat will make our life easier.\n\n159\n00:09:36.970 --> 00:09:41.740\nWe could do something crazy\nlike which one is selected,\n\n160\n00:09:41.740 --> 00:09:47.610\nonce we get this room's collection\nby setting like selected true.\n\n161\n00:09:47.610 --> 00:09:51.030\nHowever, that means we have to iterate\nthrough each one every time, and\n\n162\n00:09:51.030 --> 00:09:54.700\nsince we have these key value pairs,\nwell we should make use as the unique\n\n163\n00:09:54.700 --> 00:10:00.270\nidentifier as the key, so\nyou do quick lookups just for fun, right?\n\n164\n00:10:00.270 --> 00:10:05.700\nSo, now we have that room, so\nthis is what we'll show on the screen.\n\n165\n00:10:05.700 --> 00:10:10.550\nNow, it's not really evident why I\nneed that at this point in time.\n\n166\n00:10:10.550 --> 00:10:15.279\nHowever, each message will be\nassigned to a room by this ID,\n\n167\n00:10:15.279 --> 00:10:18.916\nlike a message will\nbelong to the room HH12.\n\n168\n00:10:18.916 --> 00:10:24.083\nAnd because of that, if I select HH12,\nI'm only going to retrieve\n\n169\n00:10:24.083 --> 00:10:29.802\nthe messages from Firebase that\nare corresponding to the room ID of HH12.\n\n170\n00:10:29.802 --> 00:10:31.480\nSo there's some data.\n\n171\n00:10:34.015 --> 00:10:36.290\nMagicianry, is that even a word Peter?\n\n172\n00:10:36.290 --> 00:10:37.250\n&gt;&gt; I think it is.\n\n173\n00:10:37.250 --> 00:10:39.458\n&gt;&gt; We're gonna allow it I guess.\n\n174\n00:10:39.458 --> 00:10:43.120\n&gt;&gt; So is this that's so\nif I'm in the singles chat room,\n\n175\n00:10:43.120 --> 00:10:45.980\nand your over in the news and\npolitics chat room,\n\n176\n00:10:45.980 --> 00:10:49.050\nyou'd be very confused if you saw\nsome of the things I was writing.\n\n177\n00:10:49.050 --> 00:10:52.885\n&gt;&gt; Essentially we are creating this as a,\nessentially a partition key, a way to\n\n178\n00:10:52.885 --> 00:10:56.785\npartition the messages based on rooms\nwhen we select a particular room, yes.\n\n179\n00:10:56.785 --> 00:10:59.480\n&gt;&gt; So does that mean there\nwill be a singles chatroom?\n\n180\n00:10:59.480 --> 00:11:00.604\n&gt;&gt; We couldn't make that.\n\n181\n00:11:00.604 --> 00:11:05.670\nAnd it might be I haven't quite\ndecided whether I'm going to allow\n\n182\n00:11:05.670 --> 00:11:10.010\nall users to create new rooms, or whether\nI'm just going to allow certain users.\n\n183\n00:11:10.010 --> 00:11:15.640\nBut, based on your comments, Peter,\nI'm probably gonna go with certain users.\n\n184\n00:11:15.640 --> 00:11:16.520\nSo we'll go with that.\n\n185\n00:11:16.520 --> 00:11:18.950\nSo, now that we have\nour data model set up,\n\n186\n00:11:18.950 --> 00:11:23.940\nI think it's probably best if we start\njust thinking about where does this go?\n\n187\n00:11:23.940 --> 00:11:26.880\nHow do we bring this back\ninto our application,\n\n188\n00:11:26.880 --> 00:11:29.380\nand start building that message list,\nokay?\n\n189\n00:11:29.380 --> 00:11:33.440\nSo, a little bit of finagling here,\nbut that's all right.\n\n190\n00:11:34.490 --> 00:11:37.940\nSo if we come down here to\nour main app component.\n\n191\n00:11:37.940 --> 00:11:39.050\nLet's think about where this goes.\n\n192\n00:11:39.050 --> 00:11:40.330\nThis goes in the sidebar.\n\n193\n00:11:40.330 --> 00:11:42.200\nSo I've made a decision.\n\n194\n00:11:43.480 --> 00:11:47.010\nI could do it like the main panel and\nthen pass it in as a child,\n\n195\n00:11:47.010 --> 00:11:50.160\nbut the sidebar contains the rooms list.\n\n196\n00:11:50.160 --> 00:11:53.120\nThat's the only place that\nI'm gonna put the rooms list.\n\n197\n00:11:53.120 --> 00:11:54.310\nBy my decision.\n\n198\n00:11:54.310 --> 00:12:00.120\nSo as a result, I'm just gonna modify\nthe SideBar component explicitly, okay?\n\n199\n00:12:00.120 --> 00:12:06.516\nSo here's our Side Bar component,\nand for now,\n\n200\n00:12:06.516 --> 00:12:12.300\nlet's just say RoomList, not RoomsList.\n\n201\n00:12:12.300 --> 00:12:15.490\nAnd that is going to take some rooms.\n\n202\n00:12:16.600 --> 00:12:18.470\nOkay, so our collection.\n\n203\n00:12:18.470 --> 00:12:22.210\nHowever, if you look at this,\nyou'll notice since this is a stateless\n\n204\n00:12:22.210 --> 00:12:26.740\nfunctional component,\nI don't actually pass in rooms on prompts.\n\n205\n00:12:26.740 --> 00:12:28.570\nSo that means I have to\ncome back to my app and\n\n206\n00:12:28.570 --> 00:12:32.210\nmake sure that I pass in the rooms list.\n\n207\n00:12:32.210 --> 00:12:35.510\nThis is one of the things where\nmaybe this isn't the best decision.\n\n208\n00:12:35.510 --> 00:12:37.175\nI may come back a re-factor this later.\n\n209\n00:12:37.175 --> 00:12:40.312\nBut at the time this is the only place\nthat I'm going to render the rooms list.\n\n210\n00:12:40.312 --> 00:12:44.900\nTherefore, that's the only place\nthat I'm going to pass in rooms.\n\n211\n00:12:44.900 --> 00:12:48.773\nNow, this is gonna kinda propagate\ndown into the children, but\n\n212\n00:12:48.773 --> 00:12:51.232\nit is coming from this.state.rooms.\n\n213\n00:12:51.232 --> 00:12:52.540\nExcuse me.\n\n214\n00:12:52.540 --> 00:12:55.130\nSo this.state.rooms, okay?\n\n215\n00:12:55.130 --> 00:13:02.000\nSo there we go, and\nnow we have this return,\n\n216\n00:13:02.000 --> 00:13:06.272\nso let's just say rooms and\n\n217\n00:13:06.272 --> 00:13:13.130\nconsole.log{rooms) as such, okay?\n\n218\n00:13:13.130 --> 00:13:16.230\nSo if we come over here,\nRoomList is not defined, so\n\n219\n00:13:16.230 --> 00:13:20.570\nthings are broken,\nuntil we actually fix it.\n\n220\n00:13:20.570 --> 00:13:23.090\nSo, hm, that's interesting.\n\n221\n00:13:25.640 --> 00:13:26.559\nWell there it is.\n\n222\n00:13:28.460 --> 00:13:32.910\nIt's not defined, so we're gonna\nstart inside of this component, and\n\n223\n00:13:32.910 --> 00:13:37.790\nthen extract that just like we\nhave in previous episodes, for\n\n224\n00:13:37.790 --> 00:13:41.350\nmaking this individual component and then\npulling it out when we know that it works.\n\n225\n00:13:41.350 --> 00:13:47.310\n&gt;&gt; And when we extract that out are we\nextracting all of the rooms into one file,\n\n226\n00:13:47.310 --> 00:13:49.950\nor is each room its own file,\nhow does that work?\n\n227\n00:13:49.950 --> 00:13:51.189\n&gt;&gt; So you'll actually see,\n\n228\n00:13:51.189 --> 00:13:55.187\nI think what you're getting at Peter is a\nroom list is composed of individual rooms,\n\n229\n00:13:55.187 --> 00:13:58.590\nso I have a collection of like one room,\nthe next room and the next room.\n\n230\n00:13:58.590 --> 00:14:01.136\nAnd then those are gonna be represented.\n\n231\n00:14:01.136 --> 00:14:05.875\nSo when we extract those,\nwhat we'll have is once we're passed\n\n232\n00:14:05.875 --> 00:14:10.876\nthe room's data, right,\nthen the room list will render a list with\n\n233\n00:14:10.876 --> 00:14:15.660\nthe individual rooms in kind of\nan unordered list, so to speak.\n\n234\n00:14:15.660 --> 00:14:16.810\nIt won't quite be that.\n\n235\n00:14:16.810 --> 00:14:18.890\nWell we'll try to make\nit a little bit nicer.\n\n236\n00:14:18.890 --> 00:14:20.370\nBut that's how we're gonna go.\n\n237\n00:14:20.370 --> 00:14:24.881\nSo, we're gonna have the entire\nroom list extracted, but\n\n238\n00:14:24.881 --> 00:14:28.640\nthe individual rooms will\nbe inside of the room list.\n\n239\n00:14:28.640 --> 00:14:32.680\nLet's just make a RoomList component.\n\n240\n00:14:34.330 --> 00:14:36.670\nAnd I'm just gonna pass all the props for\nnow.\n\n241\n00:14:38.238 --> 00:14:39.560\nBut I am gonna go ahead and\n\n242\n00:14:39.560 --> 00:14:45.750\nmake this have an explicit return just\nin case I run into some issues later on.\n\n243\n00:14:45.750 --> 00:14:48.710\nSo let's make sure this renders first.\n\n244\n00:14:48.710 --> 00:14:50.878\nAnd I'm gonna say ul.\n\n245\n00:14:56.089 --> 00:15:01.130\nAnd then I'm just gonna render\nall of the rooms as props.\n\n246\n00:15:03.770 --> 00:15:09.081\nLet's just say,\nlet's hard code those for a moment,\n\n247\n00:15:09.081 --> 00:15:15.420\nhh12 and then &lt;li&gt;jj34,\n\n248\n00:15:15.420 --> 00:15:20.370\nso these are the room IDs, not quite what\nI want, I would like to have the names,\n\n249\n00:15:20.370 --> 00:15:23.360\nbut let's just see if we can get\nthe room component up and running.\n\n250\n00:15:23.360 --> 00:15:25.400\nAnd I guess I should\nprobably not delete that.\n\n251\n00:15:25.400 --> 00:15:26.738\nPut a semicolon there, we're all good.\n\n252\n00:15:26.738 --> 00:15:30.570\nSo we come back, and\nI bring this back over.\n\n253\n00:15:30.570 --> 00:15:34.821\nNotice it's not quite\nstyled how we want it, but\n\n254\n00:15:34.821 --> 00:15:37.836\nit is a list, as we see right here.\n\n255\n00:15:37.836 --> 00:15:42.780\nhh12 and jj34, if you can see that.\n\n256\n00:15:42.780 --> 00:15:46.450\nAnd it's right on the edge, so\nit's not quite what I want.\n\n257\n00:15:47.930 --> 00:15:49.510\nBut we'll tweak that later.\n\n258\n00:15:51.140 --> 00:15:56.793\nSo this RoomList is, well, it's\nactually rendering out, which is handy.\n\n259\n00:15:56.793 --> 00:16:00.963\nNow What I want instead of HH12 and\n\n260\n00:16:00.963 --> 00:16:05.133\nJJ34 is to do these dynamically,\n\n261\n00:16:05.133 --> 00:16:09.304\nI want to say props.rooms.map and\n\n262\n00:16:09.304 --> 00:16:13.335\nokay, let's map over the room and\n\n263\n00:16:13.335 --> 00:16:18.351\ninstead I want to demonstrate what I have.\n\n264\n00:16:18.351 --> 00:16:22.913\nI'm gonna do a temporary collection here\n\n265\n00:16:22.913 --> 00:16:27.352\nwhere I have an ID, HHI2, and a title.\n\n266\n00:16:27.352 --> 00:16:34.980\nI'm just assuming that this is how\nrooms is going to be passed in.\n\n267\n00:16:34.980 --> 00:16:38.680\nNow we know from our data model it's being\npassed in from the top level application.\n\n268\n00:16:38.680 --> 00:16:40.270\nThat's not actually true.\n\n269\n00:16:40.270 --> 00:16:41.730\nBut this is what I want.\n\n270\n00:16:43.010 --> 00:16:47.210\nSo I think it's good to see that,\nthat actually will work or should work.\n\n271\n00:16:47.210 --> 00:16:49.330\nShould is the word there.\n\n272\n00:16:49.330 --> 00:16:52.320\nSo I don't even remember\nwhat I called this.\n\n273\n00:16:52.320 --> 00:16:54.610\nSo I think it was called Jokes.\n\n274\n00:16:54.610 --> 00:16:55.700\nYeah, Jokes.\n\n275\n00:16:57.940 --> 00:17:00.570\nSo I wanna say rooms right\n\n276\n00:17:00.570 --> 00:17:03.660\nnow in correspondence to this\nlocally scoped variable.\n\n277\n00:17:03.660 --> 00:17:08.661\nAnd for each room, I just wanna map and\n\n278\n00:17:08.661 --> 00:17:12.892\nget an LI, an actual list item.\n\n279\n00:17:12.892 --> 00:17:15.106\nSo room.title.\n\n280\n00:17:17.159 --> 00:17:19.920\nJust like so, okay?\n\n281\n00:17:19.920 --> 00:17:24.780\nNow, that won't actually work because\nthis is just going to render out,\n\n282\n00:17:24.780 --> 00:17:26.215\nI probably need to save.\n\n283\n00:17:26.215 --> 00:17:30.390\nYou'll see what it renders out in just\na moment when we get a refresh here.\n\n284\n00:17:30.390 --> 00:17:33.840\nIt just actually renders\nout room.title explicitly.\n\n285\n00:17:33.840 --> 00:17:38.070\nIn order to have this room.title,\nI need to wrap this in curly braces so\n\n286\n00:17:38.070 --> 00:17:39.390\nthere's curly braces everywhere.\n\n287\n00:17:39.390 --> 00:17:43.520\nSo I'm gonna take a UL and\nan ordered list, and\n\n288\n00:17:43.520 --> 00:17:47.490\nmap over the rooms collection that\nhopefully is passed in on props.\n\n289\n00:17:47.490 --> 00:17:50.550\nBut right now we're just\nkind of faking that.\n\n290\n00:17:50.550 --> 00:17:52.510\nAnd we're getting an LI for\neach one of those.\n\n291\n00:17:52.510 --> 00:17:56.030\nAnd if we come over here,\nwe have a General and a Jokes room.\n\n292\n00:17:56.030 --> 00:17:59.420\nNow, they're just texts for\nnow, but we will get to that.\n\n293\n00:18:00.930 --> 00:18:03.690\nSo here's our General and Jokes.\n\n294\n00:18:03.690 --> 00:18:07.330\nOkay, there we are.\n\n295\n00:18:08.340 --> 00:18:10.135\nNow that we have that.\n\n296\n00:18:10.135 --> 00:18:12.800\nWell I got an error here.\n\n297\n00:18:12.800 --> 00:18:17.750\nEach child in an array or\niterator should have a unique key prop and\n\n298\n00:18:17.750 --> 00:18:21.500\nup until this point,\nwe haven't used a map to generate\n\n299\n00:18:21.500 --> 00:18:24.200\nessentially a list of components,\nof child components.\n\n300\n00:18:25.350 --> 00:18:29.670\nAnd right now, it reacts like I\ndon't know which LI is which,\n\n301\n00:18:29.670 --> 00:18:31.086\nI don't know how this works.\n\n302\n00:18:31.086 --> 00:18:37.240\nSo what we have is a room.id.\n\n303\n00:18:37.240 --> 00:18:42.080\nThere has to be a key prop put\non what we're iterating over.\n\n304\n00:18:42.080 --> 00:18:46.080\nSo this key prop will allow react\nto say hey, this is unique,\n\n305\n00:18:46.080 --> 00:18:47.420\nI know what's going on.\n\n306\n00:18:47.420 --> 00:18:51.400\nAnd that's actually something\nthat I wanna really emphasize.\n\n307\n00:18:51.400 --> 00:18:53.430\nI know the ID here is unique.\n\n308\n00:18:53.430 --> 00:18:56.610\nThe key should be unique because\nReact needs some way to go hey,\n\n309\n00:18:56.610 --> 00:18:58.840\nthis one's changed, not this one, right?\n\n310\n00:18:58.840 --> 00:19:00.840\nSo it needs a unique identifier.\n\n311\n00:19:00.840 --> 00:19:06.200\nIf it was just the number one,\nevery time for the ID, that wouldn't work,\n\n312\n00:19:06.200 --> 00:19:11.630\nand React would actually complain about\nduplicate keys on these components.\n\n313\n00:19:11.630 --> 00:19:14.190\nSo we come over that\nerror's actually gone, but\n\n314\n00:19:14.190 --> 00:19:18.460\nwe still have our rendered out piece here,\nokay?\n\n315\n00:19:18.460 --> 00:19:24.410\nSo this kind of looks like a little\nsubcomponent, does it not?\n\n316\n00:19:24.410 --> 00:19:31.320\nSo a RoomList is composed\nof a list of rooms.\n\n317\n00:19:31.320 --> 00:19:32.188\nRight?\n\n318\n00:19:32.188 --> 00:19:35.770\nAnd by that I can actually extract\nthat out into a subcomponent\n\n319\n00:19:35.770 --> 00:19:38.680\nmaybe needs a little more logic.\n\n320\n00:19:38.680 --> 00:19:41.500\nThis isn't immediately\nevident what I'm doing.\n\n321\n00:19:41.500 --> 00:19:48.170\nHowever, if I grab this and\ncut this out and say, give me the Room.\n\n322\n00:19:50.730 --> 00:19:55.010\nAnd I'm just gonna pass\nin The room data like so.\n\n323\n00:19:58.172 --> 00:20:05.080\nI come up here and say Room equals\nI got to put those in parentheses.\n\n324\n00:20:06.260 --> 00:20:10.240\nI don't have to but\nI know that I may refactor this later and\n\n325\n00:20:10.240 --> 00:20:14.030\nthen refactor or excuse me,\nand then return explicitly.\n\n326\n00:20:15.350 --> 00:20:19.052\nNot room but props.room,\n\n327\n00:20:19.052 --> 00:20:25.970\nin props.room.title,\nso now if I come here.\n\n328\n00:20:25.970 --> 00:20:29.390\nFor each of the rooms in\nthe collection take the room,\n\n329\n00:20:29.390 --> 00:20:31.592\nthe lower case r is the data.\n\n330\n00:20:31.592 --> 00:20:35.560\nMap over it and create a room element.\n\n331\n00:20:35.560 --> 00:20:41.960\nOkay, if I come over here we get\nthat same key prop iterator thing.\n\n332\n00:20:41.960 --> 00:20:43.230\nThat's weird.\n\n333\n00:20:43.230 --> 00:20:44.250\nWhy would it do that?\n\n334\n00:20:45.580 --> 00:20:51.760\nWell, that's because this key has to\nbe defined at the point of iteration.\n\n335\n00:20:52.830 --> 00:20:56.035\nEssentially what it's saying is this is\nthe component that you are producing from\n\n336\n00:20:56.035 --> 00:20:56.829\nthis map function.\n\n337\n00:20:58.230 --> 00:21:02.853\nWell, that's the part where you have\nto have a key, so room.id like so, so\n\n338\n00:21:02.853 --> 00:21:06.970\nyou have to give a key of the thing\nyou're creating a bunch of.\n\n339\n00:21:06.970 --> 00:21:11.920\nEven though React will render this out\nas an LI from this transformation.\n\n340\n00:21:13.590 --> 00:21:18.384\nSo I'm now I'm back to\nexactly what I had before.\n\n341\n00:21:18.384 --> 00:21:23.140\nBut I've kind of built up this\nlayer of that abstraction.\n\n342\n00:21:23.140 --> 00:21:25.000\nI have the room list\nthat takes all the rooms.\n\n343\n00:21:26.350 --> 00:21:29.660\nAnd then from there,\nwe're kind of faking it here.\n\n344\n00:21:29.660 --> 00:21:31.200\nWe wanna say rooms.map.\n\n345\n00:21:32.210 --> 00:21:37.190\nThe room, and for each room\ncreate a specific room component.\n\n346\n00:21:37.190 --> 00:21:39.080\nAnd that room component\ntakes the room data.\n\n347\n00:21:41.700 --> 00:21:45.560\nSo that room component just takes\nprops and renders out an LI.\n\n348\n00:21:45.560 --> 00:21:50.760\nNow because when we actually style this,\nwe're gonna see that extracting\n\n349\n00:21:50.760 --> 00:21:55.839\nthis is handy, that's why I've went ahead\nand made this separate room component.\n\n350\n00:21:57.710 --> 00:22:03.740\nBut, you know, this is not grabbing the\ndata that's being passed down on props.\n\n351\n00:22:03.740 --> 00:22:08.420\nSo, I'm passing down the data\nfrom props into the sidebar.\n\n352\n00:22:08.420 --> 00:22:12.080\nAnd then the sidebar is passing\nthat data into the room list.\n\n353\n00:22:13.180 --> 00:22:15.800\nBut, you know, if I take this out.\n\n354\n00:22:16.800 --> 00:22:24.340\nAnd I've changed this to props.rooms and\nthen we see it is severely broken.\n\n355\n00:22:25.730 --> 00:22:27.780\n&gt;&gt; Yeah.\nThat's worse than it was before.\n\n356\n00:22:27.780 --> 00:22:29.580\n&gt;&gt; Yeah.\nIt doesn't actually work or\n\n357\n00:22:29.580 --> 00:22:31.120\nshow anything, does it?\n\n358\n00:22:31.120 --> 00:22:32.730\n&gt;&gt; No but\n\n359\n00:22:32.730 --> 00:22:35.690\nwhat could've caused that to happen cuz\nit was working just two seconds ago.\n\n360\n00:22:36.830 --> 00:22:40.486\n&gt;&gt; Well our data structure is actually\ndifferent than what we modeled\n\n361\n00:22:40.486 --> 00:22:42.720\ninside of this room less component.\n\n362\n00:22:42.720 --> 00:22:47.550\nWe kind of dummied up rooms and\nit didn't quite work\n\n363\n00:22:47.550 --> 00:22:52.148\nbecause if we come back over here and\nlook inside of app,\n\n364\n00:22:52.148 --> 00:22:58.000\nwe said rooms is an object\n\n365\n00:22:58.000 --> 00:23:03.955\nthat contains key value pairs that\ndescribe the individual rooms, okay.\n\n366\n00:23:03.955 --> 00:23:09.979\nThere's no map on objects, so I can't map\nover the objects, so that's a problem.\n\n367\n00:23:11.220 --> 00:23:17.330\nInstead what I can do,\nis extract this out, you know what?\n\n368\n00:23:17.330 --> 00:23:20.550\nI'm just gonna do this\nall in line at first.\n\n369\n00:23:20.550 --> 00:23:24.547\nSo I'm gonna say, object.keys,\n\n370\n00:23:24.547 --> 00:23:28.700\nno, I changed my mind again Peter.\n\n371\n00:23:28.700 --> 00:23:35.000\nI changed my mind again, so I'm gonna say,\nhere's my set of the room array.\n\n372\n00:23:35.000 --> 00:23:39.280\nSo remember how I said that I was gonna\nflatten that down into have ids and\n\n373\n00:23:39.280 --> 00:23:41.260\nthose particular pieces.\n\n374\n00:23:41.260 --> 00:23:43.290\nI'm gonna use the object.keys method.\n\n375\n00:23:43.290 --> 00:23:48.250\nSo only the object built\nin we now have keys.\n\n376\n00:23:48.250 --> 00:23:53.582\nAnd that will give me all of the keys for\na particular object.\n\n377\n00:23:53.582 --> 00:23:56.690\nSo all I'm gonna get is an array of keys.\n\n378\n00:23:56.690 --> 00:24:04.253\nNow, on the keys I want to map\nover a room key, how appropriate.\n\n379\n00:24:04.253 --> 00:24:11.250\nAnd get back the object that's contained\nby the key and then kind of restructure.\n\n380\n00:24:11.250 --> 00:24:14.050\nSo I'm gonna put a built in function here.\n\n381\n00:24:14.050 --> 00:24:17.050\nAnd I'm just going to return an object.\n\n382\n00:24:17.050 --> 00:24:25.499\nThat is composed of the props.rooms,\n\n383\n00:24:25.499 --> 00:24:29.870\nthere we go actually this\nneeds to be an s as well.\n\n384\n00:24:29.870 --> 00:24:36.550\nProps.rooms, roomId, so I'm gonna\ngrab this object, what will happen is\n\n385\n00:24:36.550 --> 00:24:41.456\nthey'll come over and for each one of\nthese, it'll grab this right here, okay.\n\n386\n00:24:41.456 --> 00:24:48.960\nSo that's what props.rooms key gives us.\n\n387\n00:24:48.960 --> 00:24:50.210\nNot roomId but roomKey.\n\n388\n00:24:51.680 --> 00:24:54.770\nNow on top of that,\nI wanna add an additional property\n\n389\n00:24:55.860 --> 00:25:00.827\ncalled id that is just the roomKey, okay?\n\n390\n00:25:01.960 --> 00:25:06.670\nThis isn't quite gonna work but\nwe'll go with it for now.\n\n391\n00:25:06.670 --> 00:25:09.750\nWe come over here,\nit's still complaining about that map.\n\n392\n00:25:09.750 --> 00:25:14.400\nSo temporarily,\nlet's just put an empty array so\n\n393\n00:25:14.400 --> 00:25:16.070\nit won't actually map over to anything.\n\n394\n00:25:16.070 --> 00:25:17.610\nSo it won't break.\n\n395\n00:25:17.610 --> 00:25:20.195\nAnd if we come here,\nit goes unexpected token.\n\n396\n00:25:20.195 --> 00:25:25.620\nProps.runes, so it's like,\nI don't know how to do these.\n\n397\n00:25:25.620 --> 00:25:28.550\nWell since we're using react and\nwe have some presets,\n\n398\n00:25:28.550 --> 00:25:32.330\nthere's actually something that's not in\nthe newer version of JavaScript it is\n\n399\n00:25:32.330 --> 00:25:36.810\nused fairly ubiquitously\nin the react community.\n\n400\n00:25:36.810 --> 00:25:39.070\nAnd that's the object spread operator.\n\n401\n00:25:39.070 --> 00:25:41.820\nThe three dots in front of\nan object actually kind of\n\n402\n00:25:41.820 --> 00:25:45.810\npull all that object apart and into\nthe object that you're spreading into.\n\n403\n00:25:45.810 --> 00:25:47.340\nIt's very similar to array spread.\n\n404\n00:25:48.500 --> 00:25:53.300\nSo it will take this object,\npull it apart, put it in this object but\n\n405\n00:25:53.300 --> 00:25:57.190\nalso add an id field that is roomKey.\n\n406\n00:25:57.190 --> 00:25:59.148\nCome back over here, boom there it is.\n\n407\n00:25:59.148 --> 00:26:03.212\nSo once I have the set of room objects,\n\n408\n00:26:03.212 --> 00:26:07.030\nI again want to map back over those.\n\n409\n00:26:08.150 --> 00:26:13.820\nSo I'm gonna say for\na room object, what do I want?\n\n410\n00:26:16.610 --> 00:26:18.899\nLet's just rename this to room components.\n\n411\n00:26:20.560 --> 00:26:28.500\nI want a room with a key\nthat has a room object.\n\n412\n00:26:28.500 --> 00:26:31.050\nAnd I'm gonna have this just a little bit.\n\n413\n00:26:31.050 --> 00:26:31.700\nSo we can see.\n\n414\n00:26:33.280 --> 00:26:35.800\nI'll brand that room object id.\n\n415\n00:26:37.850 --> 00:26:42.647\nAnd well, I need to pass in\nthe entire room object as a room.\n\n416\n00:26:46.187 --> 00:26:48.820\nSo, that's good.\n\n417\n00:26:48.820 --> 00:26:49.890\nWe're good to go there.\n\n418\n00:26:49.890 --> 00:26:52.730\nAnd somehow I got a, there we go.\n\n419\n00:26:52.730 --> 00:26:54.000\nI've got some.\n\n420\n00:26:58.020 --> 00:27:01.760\nOur return for some reason is pulling\nall the way over there, there we go.\n\n421\n00:27:01.760 --> 00:27:05.019\nSo now, what is actually stored\nin this room components.\n\n422\n00:27:05.019 --> 00:27:10.117\nSo, let's just put a consult.log here.\n\n423\n00:27:10.117 --> 00:27:11.350\nAnd say room components.\n\n424\n00:27:16.850 --> 00:27:19.020\nAnd if we wait for\nit to refresh, there we go.\n\n425\n00:27:19.020 --> 00:27:22.780\nAnd now,\nhere are the objects that we have.\n\n426\n00:27:22.780 --> 00:27:28.400\nNotice that react adds a few pieces to\nit because they are in fact components.\n\n427\n00:27:28.400 --> 00:27:33.210\nBut I have a key that is HH12 and\nthen instead of props,\n\n428\n00:27:33.210 --> 00:27:38.800\nI have the room where I have the author,\nthe created, the ID and the title.\n\n429\n00:27:38.800 --> 00:27:43.410\nSo this nested data structure here\nis our respective room object.\n\n430\n00:27:44.900 --> 00:27:53.490\nOkay, that was a lot of work just to get\nthis one thing right here up and running.\n\n431\n00:27:53.490 --> 00:27:56.450\nSo I can actually just put\nthat in place as it stands.\n\n432\n00:27:57.470 --> 00:28:03.080\nSo if I come over here and I can see\nthat this now works, it re renders,\n\n433\n00:28:03.080 --> 00:28:06.640\neverything is good to go and\nis using that extracted room component.\n\n434\n00:28:07.690 --> 00:28:10.580\nSo that's a good stopping point Peter,\nthere's actually a lot more to do in\n\n435\n00:28:10.580 --> 00:28:13.830\norder to build the room list but I don't\nthink we have time in this episode.\n\n436\n00:28:13.830 --> 00:28:17.760\nSo maybe we come back with a part two and\nfinish out those room list component.\n\n437\n00:28:17.760 --> 00:28:19.680\n&gt;&gt; That sounds good and\neven though we didn't wrap it up,\n\n438\n00:28:19.680 --> 00:28:22.780\nI think you should really be proud of\nyourself for what you achieve there.\n\n439\n00:28:22.780 --> 00:28:26.110\nIt was tough going but you were\nable to figure out all those bugs.\n\n440\n00:28:26.110 --> 00:28:30.275\nSo I really appreciate your help there but\nas Justin said we're gonna go ahead and\n\n441\n00:28:30.275 --> 00:28:32.787\nwrap this one up and\ncomeback with the part two and\n\n442\n00:28:32.787 --> 00:28:35.311\nfinish the room list up and\nget that all working.\n\n443\n00:28:35.311 --> 00:28:39.090\nBut for now signing off for DevProTV,\nI've been your host, Peter VanRysdam.\n\n444\n00:28:39.090 --> 00:28:40.360\n&gt;&gt; And I'm Justin Dennison.\n\n445\n00:28:40.360 --> 00:28:41.097\n&gt;&gt; Well, I'll see you next time.\n\n446\n00:28:41.097 --> 00:28:46.545\n[MUSIC]\n\n",
          "vimeoId": "230149656"
        },
        {
          "description": "In this episode, Justin and Peter continue to code the room list component. Now that it is created, Justin shows how he cleans up the code to make it easier to follow.",
          "length": "1194",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-8-1-2-building_the_roomlist_component_pt2-081717-PGM.00_20_49_01.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-8-1-2-building_the_roomlist_component_pt2-081717-PGM.00_20_49_01.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-8-1-2-building_the_roomlist_component_pt2-081717-PGM.00_20_49_01.Still001-sm.jpg",
          "title": "Building the RoomList Component Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.979 --> 00:00:14.550\nHello and welcome to DEVPRO.TV.\n\n3\n00:00:14.550 --> 00:00:17.430\nI'm your host, Peter VanRysdam,\nand today we're continuing in our\n\n4\n00:00:17.430 --> 00:00:21.980\nseries where we're creating a chat app,\nusing React and Firebase.\n\n5\n00:00:21.980 --> 00:00:25.700\nAnd specifically in this episode today,\nwe're going to continue where we left off\n\n6\n00:00:25.700 --> 00:00:28.850\nlast time in building\nthe rooms list functionality.\n\n7\n00:00:28.850 --> 00:00:32.400\nAnd here to help us do that, and pick up\nwhere we left off, is Mr. Justin Dennison.\n\n8\n00:00:32.400 --> 00:00:33.350\nJustin, how are you doing?\n\n9\n00:00:33.350 --> 00:00:34.810\n&gt;&gt; I am doing fantastic, Peter.\n\n10\n00:00:34.810 --> 00:00:37.120\nIt's a little hot outside today\n&gt;&gt; It is.\n\n11\n00:00:37.120 --> 00:00:40.160\n&gt;&gt; But walking from my car to\nthe building was definitely a trek.\n\n12\n00:00:40.160 --> 00:00:41.220\nAnd how are you today?\n\n13\n00:00:41.220 --> 00:00:43.169\n&gt;&gt; Other than that, I'm great too.\n\n14\n00:00:43.169 --> 00:00:46.748\nBut, I know last time,\nwe were able to go ahead and\n\n15\n00:00:46.748 --> 00:00:51.884\nget some rooms listed, and to find\nout a little bit about what they are.\n\n16\n00:00:51.884 --> 00:00:55.130\nAnd then, we fixed some things so that we\ncould actually see those within the app.\n\n17\n00:00:55.130 --> 00:00:56.760\nThat's kind of where we left off.\n\n18\n00:00:56.760 --> 00:01:00.240\nWe had the app working again, and\neverything was starting to look\n\n19\n00:01:00.240 --> 00:01:04.330\na little nicer, but we need to do some\nmore to actually complete this rooms list.\n\n20\n00:01:04.330 --> 00:01:06.510\nAnd now, I guess we're gonna make\nit pretty too, is that right?\n\n21\n00:01:06.510 --> 00:01:08.060\n&gt;&gt; Well, we hope to make it pretty.\n\n22\n00:01:08.060 --> 00:01:10.200\nI guess pretty is in\nthe eye of the beholder.\n\n23\n00:01:10.200 --> 00:01:14.930\nSo, I always underestimate the amount of\ntime that it takes in order to actually\n\n24\n00:01:14.930 --> 00:01:20.000\nimplement something, to show something,\nto explain the little idiosyncrasies.\n\n25\n00:01:20.000 --> 00:01:25.160\nSo we'll try to get all of the things,\nthat Peter said, done in this episode.\n\n26\n00:01:25.160 --> 00:01:28.350\nBut just upfront,\nI make no promises about it.\n\n27\n00:01:28.350 --> 00:01:31.100\nBut sitting here talking about it,\nwill definitely not get it finished.\n\n28\n00:01:31.100 --> 00:01:32.440\nSo let's go ahead and\ntake a look at my screen,\n\n29\n00:01:32.440 --> 00:01:34.360\njust quick review of where we left off.\n\n30\n00:01:34.360 --> 00:01:40.140\nWe built this RoomList component that\nactually builds a bunch a room components,\n\n31\n00:01:40.140 --> 00:01:42.490\nwhich are individual pieces inside,\nand then,\n\n32\n00:01:42.490 --> 00:01:45.040\nrenders those out as an un-ordered list.\n\n33\n00:01:45.040 --> 00:01:46.130\nAnd part of that is,\n\n34\n00:01:46.130 --> 00:01:49.170\nto make it more declarative at\nthe top level of the application.\n\n35\n00:01:49.170 --> 00:01:50.460\nWell, a room list.\n\n36\n00:01:50.460 --> 00:01:51.930\nA room list lists out all the rooms.\n\n37\n00:01:53.340 --> 00:01:55.250\nNow I'm gonna take out this console.log.\n\n38\n00:01:55.250 --> 00:01:57.120\nAnd I'm gonna do a little\nbit of cleanup here,\n\n39\n00:01:57.120 --> 00:01:59.620\njust make this a little more readable,\na little easier to kinda\n\n40\n00:01:59.620 --> 00:02:04.000\nwrap our heads around, well hopefully,\nI think it is for me anyway.\n\n41\n00:02:05.210 --> 00:02:09.400\nSo the first I'm gonna do is this props,\nI'm actually just gonna go ahead and\n\n42\n00:02:09.400 --> 00:02:10.930\ndestructure what I need.\n\n43\n00:02:10.930 --> 00:02:14.750\nNow I like doing this because it\nalways fails, something breaks.\n\n44\n00:02:14.750 --> 00:02:18.480\nIf I forget to get pass in information,\nand it gives me kind of space.\n\n45\n00:02:18.480 --> 00:02:21.140\nNow it would also show me the same thing,\nbut\n\n46\n00:02:21.140 --> 00:02:24.380\nI like the explicitness of\ndestructuring a props that I need,\n\n47\n00:02:24.380 --> 00:02:27.150\nand only the ones that I need,\ninside the function argument.\n\n48\n00:02:28.330 --> 00:02:31.872\nSo as a result,\nwe can remove, props.rooms,\n\n49\n00:02:31.872 --> 00:02:37.980\nprops.rooms, like so, and\nI don't like this return here.\n\n50\n00:02:37.980 --> 00:02:46.100\nInstead, I'm going to now wrap this\nback up in an implicit return.\n\n51\n00:02:46.100 --> 00:02:49.420\nSo, I'm going to add a set of parentheses\naround here and a fat arrow function.\n\n52\n00:02:49.420 --> 00:02:52.145\nIf I give it a set of\nparentheses around an object,\n\n53\n00:02:52.145 --> 00:02:57.460\nit'll return that object, instead of me\nhaving to return the object specifically,\n\n54\n00:02:57.460 --> 00:03:00.680\nand as a result, I'm going to pull\nthis back onto the same line.\n\n55\n00:03:01.930 --> 00:03:08.770\nSo, here we go, and think that I'll make\nthis a little more readable, there we go.\n\n56\n00:03:08.770 --> 00:03:10.887\nSo, if we scroll over a little bit,\n\n57\n00:03:10.887 --> 00:03:15.335\nwe can see this is just an object that\ncontains all the rooms information for\n\n58\n00:03:15.335 --> 00:03:19.590\na particular room key, and the ID,\nwe kinda mash those back together.\n\n59\n00:03:19.590 --> 00:03:23.700\nAnd then we have this map,\nthat creates our room objects, so\n\n60\n00:03:23.700 --> 00:03:24.750\nthere's our room components.\n\n61\n00:03:26.590 --> 00:03:29.776\nNow, that's good, I like that,\nI'm good with it.\n\n62\n00:03:29.776 --> 00:03:35.656\nSo let's just say, yep, you know what?\n\n63\n00:03:35.656 --> 00:03:40.860\nI'm going to bring this inside,\nI don't like having it outside.\n\n64\n00:03:40.860 --> 00:03:44.590\nYou could definitely leave it as\nit stands, but for some reason,\n\n65\n00:03:44.590 --> 00:03:47.440\nI like to have this kind\nof explicitly in there.\n\n66\n00:03:47.440 --> 00:03:50.000\nIt's a little easier to read for\nme, maybe it's not for you.\n\n67\n00:03:50.000 --> 00:03:51.910\nSo definitely up to you for that.\n\n68\n00:03:51.910 --> 00:03:55.990\nSo I'm going to go for every key in the\nrooms, which is an object, I'm gonna map\n\n69\n00:03:55.990 --> 00:04:00.680\nover each room key, grab the information\nI need, and put it into an object.\n\n70\n00:04:00.680 --> 00:04:04.390\nAnd then map over that again,\ncreating an individual room component for\n\n71\n00:04:04.390 --> 00:04:09.110\neach one, making sure to set\na key on that iterated component.\n\n72\n00:04:10.360 --> 00:04:16.470\nAs a result, I have this LI,\nthat has props.room.\n\n73\n00:04:16.470 --> 00:04:21.430\nI'm also going to de-structure that, and\njust a little bit of clean up here so,\n\n74\n00:04:23.760 --> 00:04:27.340\nroom and rooms, okay.\n\n75\n00:04:27.340 --> 00:04:29.778\nNow, naming is hard.\n\n76\n00:04:29.778 --> 00:04:33.240\nSomething that I've done here,\nis for the room component,\n\n77\n00:04:33.240 --> 00:04:36.609\nI'm getting a past a lowercase room,\nwhich I'm assuming is data.\n\n78\n00:04:37.870 --> 00:04:43.040\nI could have called this data,\nand called this data as well.\n\n79\n00:04:44.080 --> 00:04:47.430\nOkay?\nBut to me, at a reasonable nice trick,\n\n80\n00:04:47.430 --> 00:04:52.130\nmakes sense to me, it may not to you, but\nyou will definitely see people do this,\n\n81\n00:04:52.130 --> 00:04:56.230\nin various source codes\nthat you may read through.\n\n82\n00:04:56.230 --> 00:04:59.530\nSo now we have this RoomList, and\nlet's see if it actually surrenders.\n\n83\n00:04:59.530 --> 00:05:00.810\nIt does.\n\n84\n00:05:00.810 --> 00:05:01.470\nIt's nice.\n\n85\n00:05:01.470 --> 00:05:03.710\nI like it.\n\n86\n00:05:03.710 --> 00:05:07.105\nSo let's go and remove this console.log,\n\n87\n00:05:07.105 --> 00:05:11.930\njust in case we have to\nconsole.log anything else.\n\n88\n00:05:11.930 --> 00:05:13.820\nSo we remove that render.\n\n89\n00:05:13.820 --> 00:05:14.700\nOkay, good.\n\n90\n00:05:15.710 --> 00:05:17.890\nAnd the console.log in the render.\n\n91\n00:05:17.890 --> 00:05:21.430\nSo now, we have it exactly like it was.\n\n92\n00:05:21.430 --> 00:05:25.180\nHowever these are separate components,\nright?\n\n93\n00:05:25.180 --> 00:05:28.160\nThe SideBar and the RoomList,\neven though the SideBar uses the RoomList,\n\n94\n00:05:28.160 --> 00:05:30.940\nthese are technically separate components.\n\n95\n00:05:30.940 --> 00:05:34.460\nSo how would I pull these apart?\n\n96\n00:05:34.460 --> 00:05:39.740\nWell I'm actually gonna just grab this and\ncut these,\n\n97\n00:05:41.400 --> 00:05:47.008\nand then,\ncreate a new file called RoomList.js.\n\n98\n00:05:47.008 --> 00:05:50.700\nSo RoomList.js, like so.\n\n99\n00:05:50.700 --> 00:05:54.120\nSo directly in the source folder and\nthen import React\n\n100\n00:05:57.930 --> 00:06:01.800\nfrom 'react', like so, okay?\n\n101\n00:06:01.800 --> 00:06:07.806\nAnd then, I'm going to paste, and\nthen, export default RoomList.\n\n102\n00:06:07.806 --> 00:06:11.760\nSo, I'm gonna pull those apart just to\nclean up that file a little bit, but\n\n103\n00:06:11.760 --> 00:06:13.110\nthat immediately breaks everything,\n\n104\n00:06:13.110 --> 00:06:16.510\nbecause now RoomList is not defined\ninside of the side bar component.\n\n105\n00:06:18.220 --> 00:06:22.260\nSo I'm gonna import RoomList from\n./RoomList, all right, let's\n\n106\n00:06:26.260 --> 00:06:29.910\nsee if this brings back what we expect and\nit does.\n\n107\n00:06:29.910 --> 00:06:33.100\nOkay, so while we're here,\n\n108\n00:06:33.100 --> 00:06:36.040\nwhile we're doing a little bit of\nrestructuring and refactoring.\n\n109\n00:06:36.040 --> 00:06:38.230\nI don't particularly\nlike the look of this.\n\n110\n00:06:38.230 --> 00:06:45.400\nIf I'm not mistaken, it would be nicer\nif I had, let me find my notes here\n\n111\n00:06:45.400 --> 00:06:50.050\nmaybe, if I had, let's see,\n\n112\n00:06:51.150 --> 00:06:55.830\nin this app JS,\nkinda want these columns to be gapless.\n\n113\n00:06:55.830 --> 00:07:01.490\nSo as it stands in Bulma,\nthere's a small gap, like a gutter.\n\n114\n00:07:01.490 --> 00:07:06.560\nI'm gonna make those gapless, cuz I\ndon't want these unknown margins, okay?\n\n115\n00:07:06.560 --> 00:07:08.120\nSo we're all good there.\n\n116\n00:07:08.120 --> 00:07:11.080\n&gt;&gt; Sorry, when you're talking about the\ncolumns, you're talking about the vertical\n\n117\n00:07:11.080 --> 00:07:15.880\nspace between the login, sign up,\nand that turquoise bar on the left?\n\n118\n00:07:15.880 --> 00:07:20.860\n&gt;&gt; Exactly, so there's actually, there\nwas a gap here that we couldn't see, but,\n\n119\n00:07:20.860 --> 00:07:21.620\njust to show you.\n\n120\n00:07:21.620 --> 00:07:26.504\nI'm gonna take off is-gapless, and\nwhen it refreshes, you'll see,\n\n121\n00:07:26.504 --> 00:07:30.040\nnotice that button,\nhas butted up against the gap.\n\n122\n00:07:30.040 --> 00:07:32.100\nSo it doesn't actually fill it.\n\n123\n00:07:32.100 --> 00:07:33.620\nSo, I don't particularly like that.\n\n124\n00:07:35.100 --> 00:07:36.930\nSo, I'm going to say, is-gapless, and\n\n125\n00:07:36.930 --> 00:07:42.180\nalso it makes it hard to\nreason about positioning.\n\n126\n00:07:42.180 --> 00:07:45.288\nEspecially if you are filling out\nwith something colored like this.\n\n127\n00:07:45.288 --> 00:07:46.239\nSo yes.\n&gt;&gt; Yeah, and\n\n128\n00:07:46.239 --> 00:07:48.883\nit didn't have a margin on\nthe left side of it, so\n\n129\n00:07:48.883 --> 00:07:51.020\nit looks kind of like it was off center.\n\n130\n00:07:51.020 --> 00:07:54.213\nSo that looks a lot nicer now,\nto have it fill that box.\n\n131\n00:07:54.213 --> 00:07:59.380\n&gt;&gt; Exactly, so I went down a little bit\nand the only thing left is this room list,\n\n132\n00:07:59.380 --> 00:08:00.470\nIt's not pretty.\n\n133\n00:08:00.470 --> 00:08:02.620\nI don't like it.\n\n134\n00:08:02.620 --> 00:08:07.160\n&gt;&gt; And we learned in a previous episode\nthat it's kind of baked into that CSS.\n\n135\n00:08:07.160 --> 00:08:10.930\nThat it's very important that we\ncan't change the color of that\n\n136\n00:08:10.930 --> 00:08:12.980\nwhite text on that turquoise background,\n\n137\n00:08:12.980 --> 00:08:16.440\nso what can you do to help that kind\nof stand out a little bit more?\n\n138\n00:08:16.440 --> 00:08:17.970\n&gt;&gt; So\none of the things that we're going to do,\n\n139\n00:08:17.970 --> 00:08:21.510\nis we're going use a Bulma component\ncalled a menu, to restructure this.\n\n140\n00:08:21.510 --> 00:08:24.572\nSo a menu is essentially\na set of CSS styles.\n\n141\n00:08:24.572 --> 00:08:27.950\nThis is one of the nested ones, where\nyou have to nest things appropriately.\n\n142\n00:08:27.950 --> 00:08:32.980\nSo we're going to nest that, and\nthen that'll kind of squeeze things in.\n\n143\n00:08:32.980 --> 00:08:37.050\nIt would be nice to have\na little bit of padding here, but\n\n144\n00:08:37.050 --> 00:08:38.690\nwe may have to come back and fix that.\n\n145\n00:08:38.690 --> 00:08:42.290\nNow, just to clarify, we did have\nsome trouble with that font color.\n\n146\n00:08:42.290 --> 00:08:46.570\nI'm sure if we were whole-heartedly\ndetermined we could change the font color,\n\n147\n00:08:46.570 --> 00:08:48.129\nbut we're gonna leave it be.\n\n148\n00:08:48.129 --> 00:08:49.278\n&gt;&gt; [LAUGH]\n&gt;&gt; For now.\n\n149\n00:08:49.278 --> 00:08:55.610\nSo, If I come over here, our sidebar\nis what contains our room list.\n\n150\n00:08:55.610 --> 00:08:57.910\nOur room list is over here.\n\n151\n00:08:57.910 --> 00:09:01.530\nWe could extract this room\nto its own component, but\n\n152\n00:09:01.530 --> 00:09:04.210\nreally the room is only\nused in the room list.\n\n153\n00:09:04.210 --> 00:09:06.930\nIt doesn't make sense to have\nit as a separate component file.\n\n154\n00:09:06.930 --> 00:09:13.020\nSo I'm gonna leave this internal, and not\nactually export the individual roomKeys,\n\n155\n00:09:13.020 --> 00:09:16.570\nbecause I don't need it anyway, okay?\n\n156\n00:09:16.570 --> 00:09:20.940\nBut in order to get this\nrendering appropriately,\n\n157\n00:09:20.940 --> 00:09:24.680\nwe do have some backtrack css type things.\n\n158\n00:09:24.680 --> 00:09:25.680\nSo, let's come over here.\n\n159\n00:09:25.680 --> 00:09:29.958\nSo, I'm just gonna for\nnow, break this, and\n\n160\n00:09:29.958 --> 00:09:39.360\nI'm gonna create in a side\nwith a className, Of menu.\n\n161\n00:09:39.360 --> 00:09:43.253\nNow, I'm getting this from Bulma.\n\n162\n00:09:43.253 --> 00:09:46.873\nOkay, so let me go show you\nwhat a menu looks like, and\n\n163\n00:09:46.873 --> 00:09:49.700\nit won't quite look like what we know of.\n\n164\n00:09:49.700 --> 00:09:52.020\nSo if I come over here to Components and\n\n165\n00:09:52.020 --> 00:09:55.370\nI look at a menu,\nhere is what a menu is going to look like.\n\n166\n00:09:55.370 --> 00:09:57.330\nIt's gonna kinda have this hover.\n\n167\n00:09:57.330 --> 00:09:58.890\nWe have changed the background color, so\n\n168\n00:09:58.890 --> 00:10:02.530\nwe're gonna have to finagle\nwith that a little bit.\n\n169\n00:10:02.530 --> 00:10:05.710\nBut here's what our ultimate\nmenu will have, and\n\n170\n00:10:05.710 --> 00:10:07.310\nyou can see how this is structured.\n\n171\n00:10:07.310 --> 00:10:09.171\nWe have a top level class called menu.\n\n172\n00:10:09.171 --> 00:10:11.925\nAnd then these Ptanks where\nwe have a menu label,\n\n173\n00:10:11.925 --> 00:10:16.450\nthat would be like general administration,\nand then a menu list, okay?\n\n174\n00:10:16.450 --> 00:10:19.910\nNow, because we're only\ngonna have rooms in it and\n\n175\n00:10:19.910 --> 00:10:23.870\nthere's not gonna be subcategories,\nI'm actually going to\n\n176\n00:10:23.870 --> 00:10:27.790\ncreate a title inside of the menu,\nand then only have a menu list.\n\n177\n00:10:27.790 --> 00:10:32.210\nSo I'm picking and choosing the pieces\nthat I want, in particular.\n\n178\n00:10:33.650 --> 00:10:37.040\nOkay, so inside of this a side,\nI want an H1\n\n179\n00:10:38.670 --> 00:10:43.775\nthat has a class name of title and,\n\n180\n00:10:43.775 --> 00:10:47.390\nwell what should we call that?\n\n181\n00:10:47.390 --> 00:10:50.410\nI don't know, maybe rooms?\n\n182\n00:10:52.780 --> 00:10:55.119\nRooms, we can always come back and\nchange this.\n\n183\n00:10:55.119 --> 00:10:59.977\nAnd then, inside of that,\n\n184\n00:10:59.977 --> 00:11:06.738\nwell we have a ul that has the className\n\n185\n00:11:06.738 --> 00:11:11.930\nof menu-list, like so.\n\n186\n00:11:11.930 --> 00:11:16.570\nOkay, now, this UL will\nessentially be the UL that's here.\n\n187\n00:11:16.570 --> 00:11:18.060\nSo we can go ahead and move this.\n\n188\n00:11:18.060 --> 00:11:22.510\nI'm gonna grab this,\nI'm gonna sign this UL, and paste.\n\n189\n00:11:22.510 --> 00:11:23.370\nOkay?\n\n190\n00:11:23.370 --> 00:11:26.139\nSo there we go.\n\n191\n00:11:26.139 --> 00:11:31.969\nAnd now if we come back, and\nwe look, it's a little bit nicer.\n\n192\n00:11:31.969 --> 00:11:35.499\nThere's some weird styling going on, but\n\n193\n00:11:35.499 --> 00:11:40.515\nI had to pull that to the top\nhere shortly, or at the very end.\n\n194\n00:11:40.515 --> 00:11:45.186\nThere's still some little edges here and\nthere.\n\n195\n00:11:45.186 --> 00:11:50.089\nSo now that we have these, it would\nbe nice if these rooms would render,\n\n196\n00:11:50.089 --> 00:11:53.053\nkind of like these rooms here, all right?\n\n197\n00:11:53.053 --> 00:11:55.250\nThis little hover event.\n\n198\n00:11:56.760 --> 00:12:00.760\nSo in order to do that, we're gonna\nchange the actual room component to have\n\n199\n00:12:00.760 --> 00:12:05.470\nan anchor tag that has no href, okay?\n\n200\n00:12:07.170 --> 00:12:11.860\nAnd also, this anchor tag,\nif we look at the rooms, or excuse me,\n\n201\n00:12:11.860 --> 00:12:17.080\nat this menu list, this anchor tag,\nit doesn't have any classes.\n\n202\n00:12:17.080 --> 00:12:22.840\nSo the room is still very plain,\nas far as market goes.\n\n203\n00:12:24.480 --> 00:12:28.530\nSo if we come over here, and\nwe look, we now have some offset.\n\n204\n00:12:28.530 --> 00:12:30.210\nNow, Peter, I have to ask.\n\n205\n00:12:30.210 --> 00:12:31.360\nWe have some hover events,\n\n206\n00:12:31.360 --> 00:12:35.420\nbut what do you think about that light\nbackground with that white task?\n\n207\n00:12:35.420 --> 00:12:36.870\nIsn't that just adorable?\n\n208\n00:12:36.870 --> 00:12:38.310\n&gt;&gt; I love it, I love it.\n\n209\n00:12:38.310 --> 00:12:42.910\n&gt;&gt; Yeah and by love it, we're definitely\ngoing to figure out a way to change this,\n\n210\n00:12:42.910 --> 00:12:44.770\nso this is not good.\n\n211\n00:12:44.770 --> 00:12:48.220\nAnd what I'm going to do is, I'm going\nto write some custom css classes,\n\n212\n00:12:48.220 --> 00:12:51.170\nusing the documentation,\njust to kind of get over that hump.\n\n213\n00:12:51.170 --> 00:12:55.410\nNow I could go into the SASS,\nchange my build process,\n\n214\n00:12:55.410 --> 00:12:58.420\nactually change some of\nthe SASS stylings for myself.\n\n215\n00:12:59.540 --> 00:13:02.150\nI think I'm just gonna write a couple\nof classes that apply to these\n\n216\n00:13:02.150 --> 00:13:05.370\nindividual pieces, or\nmaybe even do some in line styles.\n\n217\n00:13:05.370 --> 00:13:07.800\nI'll just sprinkle here and\nthere, they're not too bad.\n\n218\n00:13:07.800 --> 00:13:13.656\nSo how are we going to accomplish that?\n\n219\n00:13:13.656 --> 00:13:18.613\nSo let's see here, if I hover,\n\n220\n00:13:18.613 --> 00:13:23.386\nso if I info hover, here we go,\n\n221\n00:13:23.386 --> 00:13:28.910\nlet's come into our index dot CSS.\n\n222\n00:13:34.874 --> 00:13:40.888\nAnd I do something of this nature,\n.info-hover.\n\n223\n00:13:44.072 --> 00:13:49.820\nOr actually,\nlet's call this room and so hover.\n\n224\n00:13:51.480 --> 00:13:56.730\nWe'll just make a class with\na pseudo class, that is hover.\n\n225\n00:13:56.730 --> 00:13:59.060\nAnd I'm gonna say background color.\n\n226\n00:14:00.350 --> 00:14:02.350\nAnd what is this background color?\n\n227\n00:14:02.350 --> 00:14:07.039\nWhat would be a good background\ncolor instead of white.\n\n228\n00:14:07.039 --> 00:14:07.950\n&gt;&gt; For the hover state?\n\n229\n00:14:07.950 --> 00:14:08.450\n&gt;&gt; Yup, Yup.\n\n230\n00:14:09.770 --> 00:14:13.510\n&gt;&gt; That's a great question,\nwell we'll go with this, maybe.\n\n231\n00:14:13.510 --> 00:14:17.130\n&gt;&gt; Let's go over here and look at\nthe colors that are available here.\n\n232\n00:14:17.130 --> 00:14:17.960\n&gt;&gt; Yeah.\n\n233\n00:14:17.960 --> 00:14:21.440\n&gt;&gt; So, I don't know if any\nof these are really great.\n\n234\n00:14:21.440 --> 00:14:26.660\nMaybe, we might have to come back and\nchange this.\n\n235\n00:14:26.660 --> 00:14:29.280\nBut for now, let's just change it to\nwhere we can actually read the text.\n\n236\n00:14:29.280 --> 00:14:30.990\nMaybe it's not gonna be pretty.\n\n237\n00:14:30.990 --> 00:14:32.650\nBut these are small\ntweaks that we can make.\n\n238\n00:14:32.650 --> 00:14:35.820\nSo I'm thinking maybe\nthere's a darker blue.\n\n239\n00:14:37.760 --> 00:14:41.690\n&gt;&gt; It's not going to look great,\nbut it might be all right for now.\n\n240\n00:14:41.690 --> 00:14:45.340\nWe have a hue saturation and\nlightness value.\n\n241\n00:14:45.340 --> 00:14:49.130\nI'm going to grab that copy and paste.\n\n242\n00:14:49.130 --> 00:14:49.860\nLook at that.\n\n243\n00:14:49.860 --> 00:14:52.249\nIt's a valid CSS selection.\n\n244\n00:14:52.249 --> 00:14:56.398\nAnd then color, that's the font color,\nwhat should I make that?\n\n245\n00:14:56.398 --> 00:14:59.237\nI'm thinking, probably, actually,\n\n246\n00:14:59.237 --> 00:15:04.730\nlet's just see what that looks like\nwithout changing the font color.\n\n247\n00:15:04.730 --> 00:15:10.520\nSo there we go, if we come over here, and\nwe actually have to change the class.\n\n248\n00:15:11.830 --> 00:15:18.410\nSo I'm gonna say, className,\nand that is Room.\n\n249\n00:15:22.720 --> 00:15:23.260\nThere we go.\n\n250\n00:15:23.260 --> 00:15:28.900\nSo the class name is room, so\nI've written a particular class.\n\n251\n00:15:28.900 --> 00:15:32.130\nWe haven't quite got it here,\nso let's figure this out.\n\n252\n00:15:32.130 --> 00:15:38.724\nRoom, hover, class name,\ndo I have it on the wrong thing here?\n\n253\n00:15:38.724 --> 00:15:41.540\nActually, is that even getting applied?\n\n254\n00:15:41.540 --> 00:15:44.040\nWe should probably do\nsome inspection here.\n\n255\n00:15:44.040 --> 00:15:45.380\nInspect-\n&gt;&gt; Justin,\n\n256\n00:15:45.380 --> 00:15:47.600\ncould this be the same problem\nwe were having with the text,\n\n257\n00:15:47.600 --> 00:15:51.410\nwhere there's a more important\nclass that's overwriting this?\n\n258\n00:15:51.410 --> 00:15:53.790\n&gt;&gt; I think you're on to something, Peter.\n\n259\n00:15:53.790 --> 00:15:55.020\nBut that does give me an idea.\n\n260\n00:15:55.020 --> 00:15:59.940\nIt's not necessarily something that\nI like to do but, for the sake of\n\n261\n00:15:59.940 --> 00:16:05.110\nmaking sure things are readable,\nwhen we hover over, let's go ahead and\n\n262\n00:16:05.110 --> 00:16:08.675\ntry something by saying, no,\nthis is the most important thing.\n\n263\n00:16:08.675 --> 00:16:11.840\n&gt;&gt; Well desperate times, they call for\ndesperate measures, so let's do it.\n\n264\n00:16:11.840 --> 00:16:15.650\n&gt;&gt; That they do so, let's go ahead and\nlook at the screen here and\n\n265\n00:16:15.650 --> 00:16:20.550\nI think what'll happen is,\nif I put an exclamation point important,\n\n266\n00:16:20.550 --> 00:16:24.090\nwhich is a way for saying I don't want\nyou to follow the standard CSS rules,\n\n267\n00:16:24.090 --> 00:16:28.590\nI want you to escalate this to the,\nthis is the rule that I wanna apply for\n\n268\n00:16:28.590 --> 00:16:30.130\nthis class, regardless of other ones.\n\n269\n00:16:30.130 --> 00:16:31.860\nSo, I want this to override everything.\n\n270\n00:16:31.860 --> 00:16:35.150\nNow so if we come over here,\na-hah, there we go, and\n\n271\n00:16:35.150 --> 00:16:39.010\nactually it doesn't look too bad,\nit's not awesome,\n\n272\n00:16:39.010 --> 00:16:42.800\nbut at least we can read it and we don't\nhave kind of that washed out text.\n\n273\n00:16:42.800 --> 00:16:45.160\n&gt;&gt; Yeah, I don't think we're going\nto win any awards for that, but\n\n274\n00:16:45.160 --> 00:16:47.420\nI think it looks better than it did.\n\n275\n00:16:47.420 --> 00:16:49.940\nSo is that potentially going to\nmess up anything else though,\n\n276\n00:16:49.940 --> 00:16:53.110\nif you said that's important,\nis that gonna screw up any other rules?\n\n277\n00:16:53.110 --> 00:16:57.010\n&gt;&gt; Since it's class based,\nonly if I apply the room class to it, and\n\n278\n00:16:57.010 --> 00:17:01.150\nI made it very specific to the component\nso we should be good to go.\n\n279\n00:17:01.150 --> 00:17:02.560\n&gt;&gt; While you're in this area,\n\n280\n00:17:02.560 --> 00:17:05.840\nthere's one thing that's been messing\nwith my OCD a little bit here.\n\n281\n00:17:05.840 --> 00:17:09.150\nThat word room sits,\nit's flush right up on the side,\n\n282\n00:17:09.150 --> 00:17:13.320\nand it makes it look like your window's\noff the screen a little bit to me.\n\n283\n00:17:13.320 --> 00:17:16.060\nIs there any way we can put a little\nbuffer, a little margin in there?\n\n284\n00:17:16.060 --> 00:17:19.810\n&gt;&gt; You know what I think there may be,\nso let's go over here and\n\n285\n00:17:19.810 --> 00:17:22.269\nI think that would probably\nbe on the sidebar component.\n\n286\n00:17:23.660 --> 00:17:28.533\n&gt;&gt; So huge room so this div className,\nso I could write another class, but\n\n287\n00:17:28.533 --> 00:17:34.222\njust to demonstrate, that you can use kind\nof inline styles, those are definitely\n\n288\n00:17:34.222 --> 00:17:39.529\ngoing to be applied, and I don't need\nto reuse this, it's a one time thing.\n\n289\n00:17:39.529 --> 00:17:43.954\nI'm gonna say style, just like so,\non this containing div, for\n\n290\n00:17:43.954 --> 00:17:48.320\nthe side bar class,\nnotice it's two sets of curly braces.\n\n291\n00:17:48.320 --> 00:17:53.880\nThat's because this evaluates the\nJavaScript, this interior set is actually,\n\n292\n00:17:53.880 --> 00:17:58.310\nan object, that takes key value\npairs that will describe the style.\n\n293\n00:17:58.310 --> 00:18:02.440\nSo here's our padding and\nlet's just go with 10 pixels.\n\n294\n00:18:02.440 --> 00:18:03.780\nSo a very small amount and\n\n295\n00:18:03.780 --> 00:18:06.930\nthen if we get a refresh, we've\nactually pulled it over a little bit.\n\n296\n00:18:06.930 --> 00:18:08.860\nThat is a little bit nicer Peter.\n\n297\n00:18:08.860 --> 00:18:10.740\n&gt;&gt; Yeah.\n&gt;&gt; I'm glad you recommended that.\n\n298\n00:18:10.740 --> 00:18:13.790\nSo we now have this little hover state.\n\n299\n00:18:13.790 --> 00:18:18.150\nWe’re so\nclose with being done with the room.\n\n300\n00:18:18.150 --> 00:18:20.530\nDone, right we're never done.\n\n301\n00:18:21.540 --> 00:18:26.210\nHowever we need to set a particular state.\n\n302\n00:18:26.210 --> 00:18:29.430\nIf general is the selected room,\n\n303\n00:18:29.430 --> 00:18:33.240\nI want this to already be\nhighlighted to reflect that.\n\n304\n00:18:33.240 --> 00:18:37.200\nIn addition to, when I click this,\nI want it to change that,\n\n305\n00:18:37.200 --> 00:18:39.910\nand then propagate back through the UI.\n\n306\n00:18:39.910 --> 00:18:42.870\nHowever, Peter, as I said before,\n\n307\n00:18:42.870 --> 00:18:46.910\nthese things take a lot longer\nthan I originally thought.\n\n308\n00:18:46.910 --> 00:18:51.220\nIt might be best if we come\nback with a Part three,\n\n309\n00:18:51.220 --> 00:18:55.390\nin order to take a look at this,\nbut maybe that's just me.\n\n310\n00:18:55.390 --> 00:18:58.590\nYou're the ultimate shot caller,\nso to speak.\n\n311\n00:18:58.590 --> 00:19:00.890\n&gt;&gt; Well,\nI didn't know I wield that kind of power.\n\n312\n00:19:00.890 --> 00:19:02.700\nI will say,\nwe've got like two minutes left.\n\n313\n00:19:02.700 --> 00:19:05.380\nAnd there's one more thing while\nyou're styling, if we could.\n\n314\n00:19:05.380 --> 00:19:07.860\nIf we can bring up your\nscreen again here Justin.\n\n315\n00:19:07.860 --> 00:19:09.310\nI see on the top.\n\n316\n00:19:09.310 --> 00:19:11.110\nIt still says, side bar, and\n\n317\n00:19:11.110 --> 00:19:16.014\nwe don't need that anymore because now\nwe've actually got a label in this area.\n\n318\n00:19:16.014 --> 00:19:18.550\nSo we could probably get\nrid of that at this point.\n\n319\n00:19:18.550 --> 00:19:21.750\n&gt;&gt; And voila, there you are.\n\n320\n00:19:21.750 --> 00:19:24.060\n&gt;&gt; And I like that,\npushed it all up to the top there,\n\n321\n00:19:24.060 --> 00:19:28.160\nthat looks like a complete feature,\nbut it's not.\n\n322\n00:19:28.160 --> 00:19:29.714\n&gt;&gt; But it's not.\n&gt;&gt; We've got more to do,\n\n323\n00:19:29.714 --> 00:19:32.760\nto actually make it do something now,\nand make the stage work.\n\n324\n00:19:32.760 --> 00:19:36.870\nSo let's go ahead, and like Justin said,\nwe'll push that to a part three, but for\n\n325\n00:19:36.870 --> 00:19:38.532\nnow, we're gonna wrap this up.\n\n326\n00:19:38.532 --> 00:19:41.860\nSo signing off for DevProTv,\nI've been your host Peter VanRysdam.\n\n327\n00:19:41.860 --> 00:19:42.910\n&gt;&gt; And I'm Justin Dennison.\n\n328\n00:19:42.910 --> 00:19:44.787\n&gt;&gt; And we'll see you next time\n\n329\n00:19:44.787 --> 00:19:48.882\n[MUSIC]\n\n",
          "vimeoId": "230149269"
        },
        {
          "description": "With the code better organized, Justin and Peter are ready to complete the room list component. In this episode, Justin sets the sidebar so clicking on a room actually sets a unique state which will allow chats to stay specific to them room they were written in.",
          "length": "1089",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-8-1-3-building_the_roomlist_component_pt3-081717-PGM.00_17_58_28.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-8-1-3-building_the_roomlist_component_pt3-081717-PGM.00_17_58_28.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-8-1-3-building_the_roomlist_component_pt3-081717-PGM.00_17_58_28.Still001-sm.jpg",
          "title": "Building the RoomList Component Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:13.225 --> 00:00:15.297\nHello and welcome to DEVPRO.TV.\n\n3\n00:00:15.297 --> 00:00:16.175\nI'm your host Peter VanRysdam.\n\n4\n00:00:16.175 --> 00:00:20.252\nAnd today we're continuing our series\nwhere we're building a chat app using\n\n5\n00:00:20.252 --> 00:00:21.390\nReact and Firebase.\n\n6\n00:00:21.390 --> 00:00:23.840\nAnd we're picking up where\nwe left off last time.\n\n7\n00:00:23.840 --> 00:00:27.250\nI think this is part 17, or\nI think it's part 3 actually.\n\n8\n00:00:27.250 --> 00:00:30.480\nBut we're still building\nour rooms list component.\n\n9\n00:00:30.480 --> 00:00:34.200\nAnd here to help us do that and finish it\noff hopefully in this one, we have Mr.\n\n10\n00:00:34.200 --> 00:00:34.800\nJustin Danson.\n\n11\n00:00:34.800 --> 00:00:35.679\nJustin, how are you doing?\n\n12\n00:00:35.679 --> 00:00:36.943\n&gt;&gt; I am doing fantastic.\n\n13\n00:00:36.943 --> 00:00:40.979\nAnd part 3, part 17,\nit's kind of all the same, right?\n\n14\n00:00:40.979 --> 00:00:42.500\nIt's to the very end.\n\n15\n00:00:42.500 --> 00:00:43.485\nWell, until we're done.\n\n16\n00:00:43.485 --> 00:00:44.430\nHow are you today, Peter?\n\n17\n00:00:44.430 --> 00:00:44.940\n&gt;&gt; I'm great, man.\n\n18\n00:00:44.940 --> 00:00:46.960\nAnd I think we do see the light\nat the end of the tunnel here.\n\n19\n00:00:46.960 --> 00:00:49.690\nWe have the room list set up now.\n\n20\n00:00:49.690 --> 00:00:51.160\nWe have some rooms in there.\n\n21\n00:00:51.160 --> 00:00:54.600\nBut the only thing that happens is when\nyou click on them, nothing happens yet.\n\n22\n00:00:54.600 --> 00:00:58.420\nSo we need to make so\nit changes the state, right?\n\n23\n00:00:58.420 --> 00:01:01.560\n&gt;&gt; Exactly, we need to be able\nto change the selected room\n\n24\n00:01:01.560 --> 00:01:04.006\nby clicking on a particular room, right?\n\n25\n00:01:04.006 --> 00:01:06.120\nSo we have to build in\nsome more functionality.\n\n26\n00:01:06.120 --> 00:01:09.850\nIn addition to, there's no way to\ntell which room you're currently in,\n\n27\n00:01:09.850 --> 00:01:11.543\nthere's no selection, right?\n\n28\n00:01:11.543 --> 00:01:15.960\nIt'd almost be nice if that class for the\nhover in the previous episode actually got\n\n29\n00:01:15.960 --> 00:01:20.600\napplied to change that background\ncolor based on what room was selected.\n\n30\n00:01:20.600 --> 00:01:22.450\nSo that's kind of what I'm thinking, but\n\n31\n00:01:22.450 --> 00:01:26.410\nin order to change that we have to modify\nthe state so that propagates throughout.\n\n32\n00:01:26.410 --> 00:01:27.740\nDoesn't that sound like a plan, Peter?\n\n33\n00:01:27.740 --> 00:01:30.067\n&gt;&gt; That sounds great because then\nyou can look on the side and\n\n34\n00:01:30.067 --> 00:01:32.361\njust know where you're at and\nthat makes a lot of sense.\n\n35\n00:01:32.361 --> 00:01:37.267\nOtherwise, you forget, you start talking\npolitics in the religion chat room and\n\n36\n00:01:37.267 --> 00:01:38.700\nthings just go crazy.\n\n37\n00:01:38.700 --> 00:01:41.410\n&gt;&gt; And it goes off the rails from there,\nright?\n\n38\n00:01:41.410 --> 00:01:43.450\nSo let's actually get that started.\n\n39\n00:01:43.450 --> 00:01:45.025\nSo let's take a look at the screen here.\n\n40\n00:01:45.025 --> 00:01:48.760\nAnd based on Peter's advice and\na couple of little tweets.\n\n41\n00:01:48.760 --> 00:01:50.370\nThis is actually looking a lot nicer.\n\n42\n00:01:50.370 --> 00:01:51.750\nI don't particularly like this highlight.\n\n43\n00:01:51.750 --> 00:01:55.475\nBut we're gonna go with it staying\nwith the standard color palette.\n\n44\n00:01:55.475 --> 00:01:58.300\nIf I had it to do it over\nagain here's what I would do.\n\n45\n00:01:58.300 --> 00:02:04.060\nI wanna actually change this all the kind\nof turquoise green to this primary blue,\n\n46\n00:02:04.060 --> 00:02:08.290\nkind of this darker blue and\nthen have a different highlight there.\n\n47\n00:02:08.290 --> 00:02:11.420\nSo that may be a little bit nicer, right?\n\n48\n00:02:11.420 --> 00:02:15.100\n&gt;&gt; Maybe we come back at the end and\nwe pretty up this whole thing then.\n\n49\n00:02:15.100 --> 00:02:18.473\n&gt;&gt; Yeah and Peter's gonna do that\nepisode and I'll be hosting.\n\n50\n00:02:18.473 --> 00:02:23.195\nBut before we actually worry about any of\nthat if I click on general and I click on,\n\n51\n00:02:23.195 --> 00:02:27.540\nI'm not changing state I don't\neven know whats selected, right.\n\n52\n00:02:27.540 --> 00:02:33.080\nSo I need to have that kind of working for\nus.\n\n53\n00:02:33.080 --> 00:02:34.430\nSo how am I going to do that?\n\n54\n00:02:34.430 --> 00:02:40.270\nWell first off I want to know which one is\nselected so I come over here to myapp.js.\n\n55\n00:02:40.270 --> 00:02:45.814\nI've kinda dummied this in,\nthe selectedRoom, hh12 and hh12.\n\n56\n00:02:45.814 --> 00:02:50.804\nSo this room should be selected which is\nthe room component in the room's list\n\n57\n00:02:50.804 --> 00:02:54.060\nthat represents this general chat room,\nright?\n\n58\n00:02:54.060 --> 00:02:57.340\nSo okay, well how do I get that selected?\n\n59\n00:02:57.340 --> 00:03:03.485\nWell, if I come over here and\nI look at the room list,\n\n60\n00:03:03.485 --> 00:03:08.654\nif I would have passed\nin maybe selectedId,\n\n61\n00:03:08.654 --> 00:03:13.837\nall right or maybe even just selectedRoom.\n\n62\n00:03:13.837 --> 00:03:17.137\nI don't have to think of a new name\njust kind of pass it on through.\n\n63\n00:03:17.137 --> 00:03:22.096\nIf the selectedRoom is equal to\nthe current room's ID them we apply class.\n\n64\n00:03:22.096 --> 00:03:24.750\nEssentially the set is active, right?\n\n65\n00:03:26.890 --> 00:03:28.920\nSo here's what I'm thinking.\n\n66\n00:03:28.920 --> 00:03:33.706\nI'm thinking we can just say,\nstyles =, and\n\n67\n00:03:33.706 --> 00:03:38.508\nthen make a decision\nbased on the selectRoom.\n\n68\n00:03:38.508 --> 00:03:41.414\nDon't actually put it there,\nput it inside the room component.\n\n69\n00:03:41.414 --> 00:03:48.736\nSo styles = selectedRoom === room.id So\n\n70\n00:03:48.736 --> 00:03:54.310\nthis is turning the operator.\n\n71\n00:03:54.310 --> 00:03:58.526\nAnd if it's true, I want to set a class.\n\n72\n00:03:58.526 --> 00:04:00.392\nWhat class do I wanna set?\n\n73\n00:04:00.392 --> 00:04:03.609\nI wanna set, let's say is active.\n\n74\n00:04:06.460 --> 00:04:11.720\nOr better yet let's just say active-room,\njust like so.\n\n75\n00:04:11.720 --> 00:04:15.610\nNow this isn't the best\nCSS kinda conventions.\n\n76\n00:04:15.610 --> 00:04:18.260\nThese are the minor little\ntweaks that I'm gonna make.\n\n77\n00:04:18.260 --> 00:04:21.480\nThat is not the ultimate goal here but\nit is nice to\n\n78\n00:04:21.480 --> 00:04:24.900\nthink about this in the context of\nthese components how to style these.\n\n79\n00:04:24.900 --> 00:04:29.874\nSo I'm just gonna say background-color,\nand I'm gonna do the exact\n\n80\n00:04:29.874 --> 00:04:34.185\nsame thing that I did here, so\na little bit of copy and paste.\n\n81\n00:04:34.185 --> 00:04:39.350\nAnd I don't particularly like\nthis kind of redundancy, right?\n\n82\n00:04:39.350 --> 00:04:41.640\nBut we'll stay with it.\n\n83\n00:04:41.640 --> 00:04:46.340\nSo active-room, and we could change this\nfrom hover, and re-factor this to only\n\n84\n00:04:46.340 --> 00:04:50.140\nhave one class, but we're gonna keep this\nseparate just for discussion points here.\n\n85\n00:04:50.140 --> 00:04:54.900\nSo I'm gonna say active-room,\n\n86\n00:04:54.900 --> 00:04:59.470\notherwise just room, okay?\n\n87\n00:04:59.470 --> 00:05:01.339\nSo those are our two different classes.\n\n88\n00:05:02.960 --> 00:05:06.450\nSo it's a selectRoom is equal to the room\n\n89\n00:05:06.450 --> 00:05:10.220\nthat we're actually rendering\nat the active-room class.\n\n90\n00:05:10.220 --> 00:05:14.280\nOtherwise, just add the room and\nin order to change that we need to now,\n\n91\n00:05:14.280 --> 00:05:16.590\nand I just talked about\nthis a couple of times.\n\n92\n00:05:16.590 --> 00:05:21.120\nClass name can be evaluated,\nit can be evaluated as an expression or\n\n93\n00:05:21.120 --> 00:05:24.240\nas just a data structure of styles.\n\n94\n00:05:24.240 --> 00:05:27.760\nSo here's a quick selection,\nand yes these are hard-coded,\n\n95\n00:05:27.760 --> 00:05:32.412\nthis isn't necessarily the greatest\nthing for long-term maintainability, but\n\n96\n00:05:32.412 --> 00:05:34.482\nI think it will work in this context.\n\n97\n00:05:34.482 --> 00:05:39.384\nSo now we have that, we don't\nactually have selected room here, so\n\n98\n00:05:39.384 --> 00:05:43.610\nselected room would have to\ncome in through the room list.\n\n99\n00:05:43.610 --> 00:05:48.012\nSo I need selectedRoom cuz as it stands,\n\n100\n00:05:48.012 --> 00:05:51.514\nit's not really going to work.\n\n101\n00:05:51.514 --> 00:05:55.765\nSo selectedRoom and\nwe're gonna say selectedRoom and I'm gonna\n\n102\n00:05:55.765 --> 00:06:01.130\nbreak this up just so we can get a little\nmore readability, well I guess not.\n\n103\n00:06:01.130 --> 00:06:04.510\nMy editor fights me on that\na great deal for some reason.\n\n104\n00:06:04.510 --> 00:06:06.272\nI haven't quite figure out why.\n\n105\n00:06:06.272 --> 00:06:10.290\nSo selectedRoom, so I'm bringing\nthat in through the room list props.\n\n106\n00:06:10.290 --> 00:06:15.930\nNow how am I going to get\nselectedRoom through the sidebar?\n\n107\n00:06:15.930 --> 00:06:20.212\nWell the sidebar has to\nthen send in selectedRoom\n\n108\n00:06:23.004 --> 00:06:26.440\n= selectedRoom.\n\n109\n00:06:26.440 --> 00:06:32.930\nOkay, well I need a grand dead\nend through the sidebar, like so.\n\n110\n00:06:32.930 --> 00:06:36.200\nAnd then, well the sidebar is\ngonna get it from our main app so\n\n111\n00:06:36.200 --> 00:06:40.490\nkinda passing down this information,\nI know its kind of a pain and this is now\n\n112\n00:06:40.490 --> 00:06:47.060\nthe only way to handle state like global\nlevel state or app level, inside of React.\n\n113\n00:06:47.060 --> 00:06:50.173\nOr for these simpler apps,\nthis is something that's easy to tray.\n\n114\n00:06:50.173 --> 00:06:52.656\nAll right,\nfrom here to here to here, to here.\n\n115\n00:06:52.656 --> 00:06:59.660\nSo for the sidebar, I have rooms but\nif I come up here, there's selectedRoom.\n\n116\n00:06:59.660 --> 00:07:07.900\nSo I'm just gonna say selectedRoom\n= this.state.selectedRoom.\n\n117\n00:07:07.900 --> 00:07:11.866\nNow if I wanted to get real lazy I could\nactually use that objects spread that we\n\n118\n00:07:11.866 --> 00:07:15.297\nsaw on the last episode to spread\nthe entire state to all the props.\n\n119\n00:07:15.297 --> 00:07:19.200\nSo all of the app level state would\nactually be available in the sidebar.\n\n120\n00:07:19.200 --> 00:07:22.860\nBut I like being specific to think\nabout how the data's flowing through\n\n121\n00:07:22.860 --> 00:07:26.154\nthe application before I start\ntaking those short cut methods.\n\n122\n00:07:26.154 --> 00:07:28.652\nSo there we are we have selectedRoom.\n\n123\n00:07:28.652 --> 00:07:31.150\nAnd now, there we go, look at that!\n\n124\n00:07:31.150 --> 00:07:35.184\nWe have actually a highlighted\nroom that we are currently in,\n\n125\n00:07:35.184 --> 00:07:37.056\nwe're in the general room.\n\n126\n00:07:37.056 --> 00:07:42.820\nIf we click on jokes though, that should\nchange and it in fact does not change.\n\n127\n00:07:42.820 --> 00:07:47.340\nThat's our second portion\nthat we need to handle.\n\n128\n00:07:47.340 --> 00:07:50.672\nClick on individual room.\n\n129\n00:07:50.672 --> 00:07:54.986\nI want to flip to set state.\n\n130\n00:07:54.986 --> 00:07:59.941\nNow how am I going to set state\nin the app if I'm clicking on\n\n131\n00:07:59.941 --> 00:08:04.280\nsomething that's three levels deep?\n\n132\n00:08:04.280 --> 00:08:11.110\nWell, let's say we have a property\nthat gets pass through called setRoom.\n\n133\n00:08:12.250 --> 00:08:16.740\nAnd now that I'm looking at this,\nthis might have been something recognized\n\n134\n00:08:16.740 --> 00:08:22.670\nchildren more effectively and\nby refactoring the sidebar but\n\n135\n00:08:22.670 --> 00:08:28.730\nto see that the two different pieces,\nwe just went with, what we originally had.\n\n136\n00:08:28.730 --> 00:08:34.770\nSo we're gonna say, setRoom, this\nsetRoom method does not exist as of now.\n\n137\n00:08:34.770 --> 00:08:36.990\nSo what is that room gonna take?\n\n138\n00:08:36.990 --> 00:08:42.285\nWell, I think it's probably\nbest to take the id of the room\n\n139\n00:08:42.285 --> 00:08:48.135\nthat we're clicking on and\nthen just set state based on that id.\n\n140\n00:08:48.135 --> 00:08:51.171\nSo this.setState and\n\n141\n00:08:51.171 --> 00:08:57.580\nselectedRoom corresponds to id like so.\n\n142\n00:08:57.580 --> 00:09:01.142\nOkay, so I think setRoom will work there.\n\n143\n00:09:01.142 --> 00:09:03.630\nBut now it's just passed\nin through the sidebar.\n\n144\n00:09:03.630 --> 00:09:06.640\nIf we come over to the sidebar,\nwe now need to get setRoom.\n\n145\n00:09:08.700 --> 00:09:12.339\nAnd if we try to set the room,\n\n146\n00:09:12.339 --> 00:09:17.812\nwe need to pass that in through RoomsList.\n\n147\n00:09:17.812 --> 00:09:22.909\nAnd setRoom= and right,\nI'm keeping these names the same so\n\n148\n00:09:22.909 --> 00:09:27.670\nI know that they'll correspond\nto the top level app.\n\n149\n00:09:27.670 --> 00:09:30.433\nFor some individuals they're like,\nthat's confusing.\n\n150\n00:09:30.433 --> 00:09:33.389\nWell that maybe the case,\ndon't put a comma there.\n\n151\n00:09:34.510 --> 00:09:39.830\nBut for me it makes a great deal of\nsense just to pass by the same name.\n\n152\n00:09:39.830 --> 00:09:43.420\nNow I did disobey that kind\nof right here onSignUp and\n\n153\n00:09:43.420 --> 00:09:45.830\nonLogin, handleSignUp and handleLogin.\n\n154\n00:09:45.830 --> 00:09:51.482\nBecause I like to think of this as\nan event that occurred in the form and\n\n155\n00:09:51.482 --> 00:09:55.389\nhow we're gonna handle\nit in the top level app.\n\n156\n00:09:55.389 --> 00:10:00.636\nSo all right, now we have this\npassed in through the RoomList,\n\n157\n00:10:00.636 --> 00:10:05.289\nso we come over to RoomList,\nwe're gonna say set room.\n\n158\n00:10:05.289 --> 00:10:10.028\nAnd let's see,\nI think we could probably put an on-click\n\n159\n00:10:10.028 --> 00:10:14.410\nhandler just directly\non this room component.\n\n160\n00:10:14.410 --> 00:10:23.180\nSo let me break this up here and to say\nonClick= and for this particular room,\n\n161\n00:10:23.180 --> 00:10:28.400\nI'm gonna put an inline arrow function,\na fat arrow function here.\n\n162\n00:10:28.400 --> 00:10:30.220\nAnd the reason I'm putting that there\n\n163\n00:10:31.630 --> 00:10:36.059\nis because I need to grab some\nstate from this room object.\n\n164\n00:10:37.080 --> 00:10:41.490\nI also want to call setRoom for\nthis particular room,\n\n165\n00:10:41.490 --> 00:10:44.920\nthat's being rendered by the RoomList.\n\n166\n00:10:44.920 --> 00:10:49.564\nSo setRoom and I think this will work.\n\n167\n00:10:49.564 --> 00:10:55.437\nWe're gonna say roomObj.id.\n\n168\n00:10:55.437 --> 00:11:00.650\nOkay, so for this particular room\nobject we're setting the room value.\n\n169\n00:11:00.650 --> 00:11:04.877\nSo that will bubble back up\nto the top level app state.\n\n170\n00:11:04.877 --> 00:11:09.710\nAnd if we come over here to app,\nsomething we may not know.\n\n171\n00:11:09.710 --> 00:11:11.790\nLet's just comment this out for now.\n\n172\n00:11:11.790 --> 00:11:15.230\nAnd just console.log the id.\n\n173\n00:11:15.230 --> 00:11:16.359\nLet's see if that works.\n\n174\n00:11:17.860 --> 00:11:20.970\nSetting the room, okay?\n\n175\n00:11:20.970 --> 00:11:23.650\nSo we come over here and\neverything looks good.\n\n176\n00:11:23.650 --> 00:11:28.668\nWe come to the Console, and we go Jokes.\n\n177\n00:11:28.668 --> 00:11:31.510\nIt's not quite working.\n\n178\n00:11:31.510 --> 00:11:33.690\nAnd why is that not working?\n\n179\n00:11:33.690 --> 00:11:37.152\nWell, if I Inspect classroom,\n\n180\n00:11:37.152 --> 00:11:42.036\nI don't know what click\nhandlers are aware.\n\n181\n00:11:42.036 --> 00:11:45.236\nSo I'm wondering if they're\nin the transformation,\n\n182\n00:11:45.236 --> 00:11:47.330\nI didn't quite get all the clicks.\n\n183\n00:11:47.330 --> 00:11:49.080\nSo how can I inspect that?\n\n184\n00:11:49.080 --> 00:11:51.090\nLet's see if the click\nhandlers even running.\n\n185\n00:11:52.450 --> 00:12:00.590\nSo onClick instead of setRoom\nis just console.log hello.\n\n186\n00:12:01.710 --> 00:12:06.280\nOkay, so now we're gonna get refresh,\nI'm doing some debugging here, and\n\n187\n00:12:06.280 --> 00:12:08.600\nnotice that's not actually clicking.\n\n188\n00:12:08.600 --> 00:12:11.661\nOkay, so that's a little bit of a problem,\n\n189\n00:12:11.661 --> 00:12:15.350\nI wonder if it might be\neasier just to go ahead and\n\n190\n00:12:15.350 --> 00:12:20.310\npass setRoom on further down, and\nthis may be a problem that you encounter.\n\n191\n00:12:20.310 --> 00:12:25.000\nOr if maybe we have some\nkind of typo somewhere so\n\n192\n00:12:25.000 --> 00:12:26.160\nwe have to go back through the list.\n\n193\n00:12:26.160 --> 00:12:31.500\nAnd this is something utilizing\nthis kind of structure will happen.\n\n194\n00:12:31.500 --> 00:12:39.004\nSo setRoom, this got setRoom, SideBar,\nsetRoom, setRoom, intake, setRoom.\n\n195\n00:12:39.004 --> 00:12:46.073\nLet's just console.log setRoom\nright here to see if it's defined.\n\n196\n00:12:46.073 --> 00:12:48.632\nSo that's the first level pass down.\n\n197\n00:12:48.632 --> 00:12:51.163\nSo it is defined.\n\n198\n00:12:51.163 --> 00:12:55.654\nNow that we have that,\nlet's go over here to RoomList and\n\n199\n00:12:55.654 --> 00:12:58.001\nsee if RoomList has setRoom.\n\n200\n00:12:58.001 --> 00:13:01.570\nSo console.log setRoom.\n\n201\n00:13:03.520 --> 00:13:08.090\nSo there's our RoomList and\nit still gets printed out, right?\n\n202\n00:13:08.090 --> 00:13:10.512\nCuz we have nice source mapping,\n\n203\n00:13:10.512 --> 00:13:14.848\nit does tell us that this is\ncoming from RoomList line 12.\n\n204\n00:13:14.848 --> 00:13:18.500\nOkay, so if setRoom's there,\nthen why isn't it running?\n\n205\n00:13:20.250 --> 00:13:25.055\nWell, it might just be best to pass it\ndown so we can go ahead and pass it down,\n\n206\n00:13:25.055 --> 00:13:29.910\nsee if it's still available inside\nof the actual room component.\n\n207\n00:13:29.910 --> 00:13:34.305\nSo setRoom=setRoom, so\nit has passed that function,\n\n208\n00:13:34.305 --> 00:13:40.299\nI kind of delegate responsibility down\nto the individual room components.\n\n209\n00:13:40.299 --> 00:13:45.899\nSo now we're gonna grab that and\nwell, let's just console.log\n\n210\n00:13:48.569 --> 00:13:51.443\nsetRoom.\n\n211\n00:13:51.443 --> 00:13:54.255\nSo there we go, and it is in fact.\n\n212\n00:13:54.255 --> 00:13:59.029\nNotice it's printed twice because\nit now essentially has two\n\n213\n00:13:59.029 --> 00:14:01.246\ncomponents that rely on it.\n\n214\n00:14:01.246 --> 00:14:04.100\nAll right, now there's that rooms there.\n\n215\n00:14:04.100 --> 00:14:09.767\nI think that if we add an onClick\nto this anchor tag here,\n\n216\n00:14:09.767 --> 00:14:15.085\nso onClick=, and\nhow am I going to pass the room ID?\n\n217\n00:14:15.085 --> 00:14:18.150\nI'm still gonna have to pass\nan arrow function like this.\n\n218\n00:14:20.100 --> 00:14:22.500\nI'd like that was nice.\n\n219\n00:14:22.500 --> 00:14:29.935\nSo I need to pass an arrow function like\nthis, and by saying, let's just say hello.\n\n220\n00:14:29.935 --> 00:14:34.070\nLet's see if this arrow function runs,\nbefore we worry about anything.\n\n221\n00:14:36.790 --> 00:14:38.460\nThere we go.\n\n222\n00:14:38.460 --> 00:14:40.660\nAnd if I click, Hello is running.\n\n223\n00:14:41.680 --> 00:14:45.950\nSo now we can use this fat\narrow function to say,\n\n224\n00:14:45.950 --> 00:14:50.950\nsetRoom to the room.id.\n\n225\n00:14:50.950 --> 00:14:55.080\nNow we should setting the room to jj34,\n\n226\n00:14:55.080 --> 00:14:59.390\nsetting the room to hh12, so we're so\n\n227\n00:14:59.390 --> 00:15:04.840\nclose, took a little while to kind\nof track that down, if you will.\n\n228\n00:15:04.840 --> 00:15:08.200\nThose are common place issues when\nyou kind of pass functions and\n\n229\n00:15:08.200 --> 00:15:10.090\ndata from all over the place.\n\n230\n00:15:10.090 --> 00:15:13.876\nBut because I was explicit, I could\ntrack where things are coming from.\n\n231\n00:15:13.876 --> 00:15:18.016\nIf I'd have done a state spread\ninside of individual components, and\n\n232\n00:15:18.016 --> 00:15:20.540\nlet me just illustrate what I mean here.\n\n233\n00:15:20.540 --> 00:15:24.300\nLet's say the SideBar needs\neverything from state.\n\n234\n00:15:24.300 --> 00:15:29.373\nWell, this .state,\nI could just spread the state there.\n\n235\n00:15:34.519 --> 00:15:36.250\nAnd get all the state.\n\n236\n00:15:36.250 --> 00:15:40.650\nHowever, for the methods that I'm passing\non the functions that I'm essentially\n\n237\n00:15:40.650 --> 00:15:43.430\nloaning out,\nI still have to be very explicit.\n\n238\n00:15:43.430 --> 00:15:46.530\nSo I could get rid of rooms and select\ngroup but I will still have to set room,\n\n239\n00:15:46.530 --> 00:15:48.790\nso functions a little bit\ndifferent than state.\n\n240\n00:15:48.790 --> 00:15:52.080\nNow, I could wrap those up in an object or\nI could\n\n241\n00:15:52.080 --> 00:15:57.410\nspread an object that\ncontains all those methods.\n\n242\n00:15:57.410 --> 00:16:00.639\nSo there's a variety of ways to do that,\nI like being explicit though.\n\n243\n00:16:01.780 --> 00:16:05.076\nBut now the final step is\nget rid of this console.log.\n\n244\n00:16:07.726 --> 00:16:11.854\nAnd change this setState\nto setTheRoomState,\n\n245\n00:16:13.633 --> 00:16:16.750\nOr just some kind of\ncrazy character there.\n\n246\n00:16:16.750 --> 00:16:19.620\nNow, if we refresh and we click.\n\n247\n00:16:19.620 --> 00:16:25.750\nThere we go, we now have a UI that\nreflects what room we have selected.\n\n248\n00:16:25.750 --> 00:16:29.020\nNow this may seem like\na trivial kind of thing.\n\n249\n00:16:29.020 --> 00:16:32.380\nWe actually have our entire\nrooms list ready to go.\n\n250\n00:16:32.380 --> 00:16:35.020\nWe have our rooms on the left\nhand side in our side bar.\n\n251\n00:16:35.020 --> 00:16:36.050\nWe have our log out button.\n\n252\n00:16:36.050 --> 00:16:38.430\nWe have the ability to log in an sign up.\n\n253\n00:16:38.430 --> 00:16:40.230\nThere's still some issues with that,\nI admit.\n\n254\n00:16:41.300 --> 00:16:45.670\nWe can select the room which\nmodifies our app level state.\n\n255\n00:16:45.670 --> 00:16:50.690\nBut now, if we're logged in, so we still\nhave some log in stuff we have to check.\n\n256\n00:16:50.690 --> 00:16:55.930\nIf we were logged in and we had a selected\nroom, then we could then add a message\n\n257\n00:16:55.930 --> 00:17:00.690\nto a particular chat room, and then that\nmessage would effectively be assigned.\n\n258\n00:17:00.690 --> 00:17:05.210\nNow, there's a couple of tricky\nparts there to that particular room.\n\n259\n00:17:05.210 --> 00:17:09.230\nAnd that way as Peter said\nwe're not accidentally,\n\n260\n00:17:09.230 --> 00:17:13.750\nI thought I was in the fast food\nrestaurant recommendations.\n\n261\n00:17:13.750 --> 00:17:16.890\nThis is definitely about politics or\nsomething of that nature.\n\n262\n00:17:16.890 --> 00:17:20.770\nSo we can add a partition to\nthis individual messages.\n\n263\n00:17:20.770 --> 00:17:24.449\nSo this is the first\nkind of start up to it.\n\n264\n00:17:24.449 --> 00:17:27.745\nWe're now ready to start moving\non to the actual chat and\n\n265\n00:17:27.745 --> 00:17:32.650\nmessages part, but that should\ndefinitely be saved for another time.\n\n266\n00:17:32.650 --> 00:17:33.580\n&gt;&gt; So we finally did it.\n\n267\n00:17:33.580 --> 00:17:38.150\nHere in Episode 3, we got it all\nworking and it looks great and\n\n268\n00:17:38.150 --> 00:17:44.930\nit actually works and now we've got a chat\napp here that does everything but chat.\n\n269\n00:17:44.930 --> 00:17:46.020\nBut that's coming next.\n\n270\n00:17:46.020 --> 00:17:48.810\nIt sounds like so\nthis is where it's really getting good.\n\n271\n00:17:48.810 --> 00:17:51.710\nAnd we hope you will stick with us for\nthat.\n\n272\n00:17:51.710 --> 00:17:54.310\nBut we're gonna go ahead and\nrap this one up.\n\n273\n00:17:54.310 --> 00:17:56.416\nSo signing off for DEVPRO.TV.\n\n274\n00:17:56.416 --> 00:17:57.900\nI've been your host Peter VanRysdam.\n\n275\n00:17:57.900 --> 00:17:58.870\n&gt;&gt; And I'm Justin Dennison.\n\n276\n00:17:58.870 --> 00:18:00.647\n&gt;&gt; And we'll see you next time.\n\n277\n00:18:00.647 --> 00:18:05.479\n[MUSIC]\n\n",
          "vimeoId": "230149912"
        },
        {
          "description": "When the app was originally created, it was set to log users out each time the app refreshes. In this episode, Justin and Peter will show how to change this to have users logged in until they log out using the tools provided in firebase.",
          "length": "1554",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-9-1-persisting_the_login-081817-PGM.00_28_01_11.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-9-1-persisting_the_login-081817-PGM.00_28_01_11.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-9-1-persisting_the_login-081817-PGM.00_28_01_11.Still001-sm.jpg",
          "title": "Persisting the Login",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:13.164 --> 00:00:15.210\nHello and welcome to DevPro TV.\n\n3\n00:00:15.210 --> 00:00:16.450\nI'm your host Peter Vanrysdam.\n\n4\n00:00:16.450 --> 00:00:19.740\nToday we're continuing with our series\nwhere we're creating a chat app\n\n5\n00:00:19.740 --> 00:00:21.170\nusing React and Firebase.\n\n6\n00:00:21.170 --> 00:00:24.630\nAnd specifically in this episode, we're\ngonna talk about persisting the log in.\n\n7\n00:00:24.630 --> 00:00:28.250\nAnd here to help us understand just what\nthat means, we have Mr. Justin Dennison.\n\n8\n00:00:28.250 --> 00:00:29.480\nJustin, how are you doing?\n\n9\n00:00:29.480 --> 00:00:30.470\n&gt;&gt; I'm doing fantastic Peter.\n\n10\n00:00:30.470 --> 00:00:31.330\nHow are you today?\n\n11\n00:00:31.330 --> 00:00:32.590\n&gt;&gt; I am very good.\n\n12\n00:00:32.590 --> 00:00:38.610\nAnd I'm curious,\nI know when I use the ITPRO.TV website and\n\n13\n00:00:38.610 --> 00:00:41.800\nthen I come back the next day,\nI've got to log back in.\n\n14\n00:00:41.800 --> 00:00:44.650\nIs that what we're talking about\nwith persistining, the login.\n\n15\n00:00:44.650 --> 00:00:47.740\nWhat's happening right now with our\napp and what do we want it to do?\n\n16\n00:00:47.740 --> 00:00:53.260\n&gt;&gt; Currently as it stands every\ntime our webpack build or\n\n17\n00:00:53.260 --> 00:00:56.960\nrebuilds and refreshes our screen,\n&gt;&gt; We're not logged in any more.\n\n18\n00:00:56.960 --> 00:00:58.040\nWe have to log in every time,\n\n19\n00:00:58.040 --> 00:01:03.010\nand it doesn't really persist from closing\nyour browser, even upon refreshing.\n\n20\n00:01:03.010 --> 00:01:06.760\nSo ultimately what we would like\nto do is to keep that persisting\n\n21\n00:01:06.760 --> 00:01:10.770\nusing Firebase which is handling all of\nour credentialing, our authorization,\n\n22\n00:01:10.770 --> 00:01:11.410\nauthentication.\n\n23\n00:01:12.510 --> 00:01:14.450\nWe want that to stay around.\n\n24\n00:01:14.450 --> 00:01:18.260\nNow there are a multitude of ways that,\nwell,\n\n25\n00:01:18.260 --> 00:01:20.750\nyou can kind of keep going with this.\n\n26\n00:01:20.750 --> 00:01:23.840\nSo, how long do you wanna stay logged in?\n\n27\n00:01:23.840 --> 00:01:25.270\nRight?\nDo you wanna stay logged in forever\n\n28\n00:01:25.270 --> 00:01:26.330\nuntill someone logs out?\n\n29\n00:01:26.330 --> 00:01:27.580\nDo you wanna expire in a week?\n\n30\n00:01:27.580 --> 00:01:29.450\nDo you wanna expire in two weeks?\n\n31\n00:01:29.450 --> 00:01:31.910\nDo you wanna expire in five weeks?\n\n32\n00:01:31.910 --> 00:01:34.110\nAnd there's a multitude of different ways.\n\n33\n00:01:34.110 --> 00:01:38.512\nNow, essentially what's gonna happen\nis we're gonna offload a lot of that to\n\n34\n00:01:38.512 --> 00:01:40.859\na fire base and\nkind of just let it happen.\n\n35\n00:01:40.859 --> 00:01:44.712\nA good key point to remember though\nis if you're logging in a system and\n\n36\n00:01:44.712 --> 00:01:48.630\nit's not your computer, but\nit's a series system and to some extent,\n\n37\n00:01:48.630 --> 00:01:52.771\neven if it is your computer, you should\nprobably just go ahead and log out.\n\n38\n00:01:52.771 --> 00:01:56.791\nIn our application and those are\nultimately matter because we log in and\n\n39\n00:01:56.791 --> 00:01:59.164\neverybody has equal access to all rooms.\n\n40\n00:01:59.164 --> 00:02:01.830\nBut if it was something\nlike a bank account, well,\n\n41\n00:02:01.830 --> 00:02:03.478\nthose don't actually\nlet you stay logged in.\n\n42\n00:02:03.478 --> 00:02:05.430\nThose are five-minute expirations,\n\n43\n00:02:05.430 --> 00:02:09.450\nespecially if you're not doing anything,\nbut you wanna make sure you log out.\n\n44\n00:02:09.450 --> 00:02:14.550\nSo we're gonna offload some of that to the\nuser, which is probably not good on our\n\n45\n00:02:14.550 --> 00:02:19.400\nend, but that's the decision\nthat I have made as such.\n\n46\n00:02:19.400 --> 00:02:23.660\nLet's go ahead and take a look at my\nscreen and actually see what's going on.\n\n47\n00:02:23.660 --> 00:02:24.840\nWhat am I talking about.\n\n48\n00:02:24.840 --> 00:02:29.470\nSo if I came to login I'll say JAJ.com and\none, two three, four, five, six.\n\n49\n00:02:29.470 --> 00:02:33.550\nI should definitely take a better\npassword, but we'll leave that there.\n\n50\n00:02:33.550 --> 00:02:36.840\nIf I log in, I'm actually logged in now.\n\n51\n00:02:36.840 --> 00:02:39.310\nIt prints over here and\nI have that super zoomed in,\n\n52\n00:02:39.310 --> 00:02:41.930\nlet's just zoom that out just a wee touch.\n\n53\n00:02:41.930 --> 00:02:43.040\nSo I'm logged in.\n\n54\n00:02:43.040 --> 00:02:46.780\n&gt;&gt; And that's because we see\nthe logged in equals true?\n\n55\n00:02:46.780 --> 00:02:49.910\n&gt;&gt; Exactly we have log in equals true,\nthe email I have set, and\n\n56\n00:02:49.910 --> 00:02:51.410\nthe UID is provided to us.\n\n57\n00:02:51.410 --> 00:02:55.660\nThe UID is actually almost a guarantee\nthat we're getting by, they're actually\n\n58\n00:02:55.660 --> 00:03:00.610\nfor, for fire base you get refresh\ntokens and it's handling a lot of that,\n\n59\n00:03:00.610 --> 00:03:04.580\nit's extracting away a lot\nof that stuff for us.\n\n60\n00:03:04.580 --> 00:03:10.100\nSo we know that we're logged in,\nhowever, if I refresh, guess what?\n\n61\n00:03:10.100 --> 00:03:13.220\nI am no longer logged in.\n\n62\n00:03:13.220 --> 00:03:17.964\nAnd this console log thing, it's kind\nof been bothering me a little bit.\n\n63\n00:03:17.964 --> 00:03:23.231\nSo I don't wanna necessarily console.log\nevery time I wanna inspect state or\n\n64\n00:03:23.231 --> 00:03:27.270\nwanna inspect something\nabout the component.\n\n65\n00:03:27.270 --> 00:03:30.470\nReally it would be nice if there\nwas like an extension or a tool or\n\n66\n00:03:30.470 --> 00:03:35.330\nsomething like that, where I could I just\nkinda click and inspect my React app.\n\n67\n00:03:35.330 --> 00:03:39.540\nWell, interestingly enough, there is\na Chrome extension that does exactly that.\n\n68\n00:03:39.540 --> 00:03:42.820\nSo to talk about this log in and\nmake sure things are happening so\n\n69\n00:03:42.820 --> 00:03:44.780\nwe don't have to cancel log in and\ndo all that.\n\n70\n00:03:44.780 --> 00:03:48.520\nWe're gonna go ahead and\nset up that extension as such.\n\n71\n00:03:48.520 --> 00:03:51.580\nSo if we come over to Extensions,\nthere's nothing here.\n\n72\n00:03:51.580 --> 00:03:53.460\nWe wanna come to Get more extensions.\n\n73\n00:03:55.130 --> 00:03:59.560\nSo at this point, we just wanna type\nreact, so I'm just searching for react.\n\n74\n00:03:59.560 --> 00:04:02.500\nNow, it tries to auto\npopulate with reactions.\n\n75\n00:04:02.500 --> 00:04:05.490\nIt's actually the third one down,\nbut I'm gonna hit enter and\n\n76\n00:04:05.490 --> 00:04:09.090\nthen well, this is the React Developer\nTools actually from Facebook.\n\n77\n00:04:09.090 --> 00:04:14.140\nSo I'm gonna add that to Chrome and\nadd the extension all right.\n\n78\n00:04:14.140 --> 00:04:16.500\nOver here we will now\nhave this little icon and\n\n79\n00:04:16.500 --> 00:04:19.470\nthis icon only becomes active\nif react is on the page.\n\n80\n00:04:19.470 --> 00:04:24.130\nSo there's ways to inspect like do\nyou have the react name spacing and\n\n81\n00:04:24.130 --> 00:04:24.930\nthings of that nature.\n\n82\n00:04:26.060 --> 00:04:27.100\nThat's nice.\n\n83\n00:04:28.510 --> 00:04:29.910\nI wonder if it works though.\n\n84\n00:04:29.910 --> 00:04:37.840\nIf we come over here, and we exit out and\nwe come to react app and we refresh.\n\n85\n00:04:37.840 --> 00:04:42.020\nYou'll notice that this\nicon actually turns red.\n\n86\n00:04:42.020 --> 00:04:45.850\nThat lets you know that the site\nhas React application on it.\n\n87\n00:04:45.850 --> 00:04:47.370\nSo here are the React developer tools,\n\n88\n00:04:47.370 --> 00:04:50.530\nif I click it, this page is using\nthe development build of react.\n\n89\n00:04:51.580 --> 00:04:54.230\nKnow that the development build\nis not suitable for production.\n\n90\n00:04:54.230 --> 00:04:59.050\nWell the development build is because\nI'm running the development runtime.\n\n91\n00:04:59.050 --> 00:05:01.070\nI'm actually in development mode.\n\n92\n00:05:01.070 --> 00:05:04.010\nSo make sure you use the protection\nbuild before deployment.\n\n93\n00:05:04.010 --> 00:05:07.120\nOpen the developer tools, and\nthe React tab will appear.\n\n94\n00:05:07.120 --> 00:05:08.540\nSo, what does it mean?\n\n95\n00:05:08.540 --> 00:05:13.220\nWell if I come and hit this drop down,\nyou can't really see it here, but\n\n96\n00:05:13.220 --> 00:05:16.780\nif I refresh a couple more times.\n\n97\n00:05:16.780 --> 00:05:19.380\nSometimes I have to close out the screen.\n\n98\n00:05:19.380 --> 00:05:24.390\nNow after this initial time, so\nwe're gonna close out of this tab,\n\n99\n00:05:24.390 --> 00:05:28.930\nwe're gonna reopen the tab\nto local host 3000.\n\n100\n00:05:28.930 --> 00:05:35.420\nAnd we're gonna open up the developer\ntools and now if you hit the drop-down,\n\n101\n00:05:35.420 --> 00:05:39.600\nyou'll notice this little\ndrop-down here that says React.\n\n102\n00:05:39.600 --> 00:05:43.530\nOkay, if I click that,\nwell, this is quite handy.\n\n103\n00:05:43.530 --> 00:05:46.290\nSo here's my React app component.\n\n104\n00:05:46.290 --> 00:05:52.720\nAnd nested inside of that are some other\ncomponents like my SideBar, my MainPanel.\n\n105\n00:05:54.000 --> 00:05:56.600\nAnd notice, it shows all the divs.\n\n106\n00:05:56.600 --> 00:05:58.780\nSo I'm kinda zoomed in here, but\n\n107\n00:05:58.780 --> 00:06:02.670\nif I open this up a little bit further,\nit'll actually reorganize.\n\n108\n00:06:02.670 --> 00:06:10.040\nNow that's not as pretty, but here,\nthe main panel, it has a children prop?\n\n109\n00:06:10.040 --> 00:06:12.330\nAnd that means that I have,\n\n110\n00:06:12.330 --> 00:06:17.650\nthese are the things that would normally\nbe console.log out, well, to the console.\n\n111\n00:06:17.650 --> 00:06:20.810\nSo where would my information\nabout app state be?\n\n112\n00:06:20.810 --> 00:06:22.060\nWell, it'd be an app.\n\n113\n00:06:22.060 --> 00:06:28.790\nAnd notice right here I have there\nwe go like it to the side but we\n\n114\n00:06:28.790 --> 00:06:34.620\ncan't pull up it's right down here I have\nemail is logged in so on and so forth.\n\n115\n00:06:34.620 --> 00:06:40.060\nNow I'm gonna pull this back out\njust a little bit and refresh.\n\n116\n00:06:40.060 --> 00:06:42.650\nI got some Some glitchiness here.\n\n117\n00:06:43.740 --> 00:06:45.530\nThat's cuz I'm zoomed in.\n\n118\n00:06:45.530 --> 00:06:47.840\nThere you got sometimes you just forget.\n\n119\n00:06:47.840 --> 00:06:50.110\nBut if we pull this up just a little bit,\n\n120\n00:06:50.110 --> 00:06:52.790\nnotice I can take a look\nat the current state.\n\n121\n00:06:52.790 --> 00:06:53.480\nHere's my rooms.\n\n122\n00:06:53.480 --> 00:06:55.150\nNow these are dummy rooms.\n\n123\n00:06:55.150 --> 00:06:57.400\nThis is a dummy selected room.\n\n124\n00:06:57.400 --> 00:07:01.128\nBut if I log in, just take a look\nright over here when I log in.\n\n125\n00:07:01.128 --> 00:07:04.520\nj@j.com and 123456.\n\n126\n00:07:04.520 --> 00:07:08.040\nAnd I log in,\nnotice that state changes and\n\n127\n00:07:08.040 --> 00:07:12.050\nit let's me inspect the state\nwithout actually having to\n\n128\n00:07:13.990 --> 00:07:17.330\ncancel log every time and give everything\ninto cancel and then inspect it.\n\n129\n00:07:17.330 --> 00:07:21.170\nThis is a handy set of tools and\neveryone want to use this right\n\n130\n00:07:21.170 --> 00:07:25.960\nupfront because sometimes knowing\nwhere to put the cancel.log.\n\n131\n00:07:25.960 --> 00:07:29.370\nLet's let you know hey am I\ninspecting the right thing?\n\n132\n00:07:29.370 --> 00:07:32.090\nSo it's kind of about\na thought process because\n\n133\n00:07:32.090 --> 00:07:35.370\nif I don't even know where I'm\nlooking this tool doesn't help me.\n\n134\n00:07:35.370 --> 00:07:37.360\nSo the same problem persists.\n\n135\n00:07:37.360 --> 00:07:39.770\nThis is gonna make it a little\nbit easier for us, but\n\n136\n00:07:39.770 --> 00:07:43.870\nnow that we have that, I want you\nto keep an eye on those prompts and\n\n137\n00:07:43.870 --> 00:07:47.800\nI'm going to refresh and then,\nboom, I am now logged out again.\n\n138\n00:07:47.800 --> 00:07:50.259\nThat's not what I want.\n\n139\n00:07:50.259 --> 00:07:54.249\nI want, when I log in,\nto instead stay logged in,\n\n140\n00:07:54.249 --> 00:07:59.866\neven though upon Refresh until I\nactually clicked the Logout button.\n\n141\n00:07:59.866 --> 00:08:02.432\nSo does this require us now\nto go over to Firebase and\n\n142\n00:08:02.432 --> 00:08:04.531\nfigure out which tool we wanna use there?\n\n143\n00:08:04.531 --> 00:08:07.120\n&gt;&gt; Well, actually,\nwe've all ready got the tool set up.\n\n144\n00:08:07.120 --> 00:08:09.230\nWe just have to hook up the methods.\n\n145\n00:08:09.230 --> 00:08:12.142\nBut, you do always have\nto think that way Peter,\n\n146\n00:08:12.142 --> 00:08:16.548\nbecause every once in awhile you do\nhave to turn on those little switches,\n\n147\n00:08:16.548 --> 00:08:21.120\nchange the rules, because we've\nencountered that in previous episodes.\n\n148\n00:08:21.120 --> 00:08:24.240\nSo that's a good thought process to have.\n\n149\n00:08:24.240 --> 00:08:27.613\nIs this something that I need to do\non the Firebase console side, or\n\n150\n00:08:27.613 --> 00:08:30.566\nis this something I'm going\nto do programmatically, and\n\n151\n00:08:30.566 --> 00:08:34.666\nif you are using Firebase, you should\nprobably always kind of keep that decision\n\n152\n00:08:34.666 --> 00:08:38.765\nin the back of your mind, until you become\nfairly familiar with Firebase and/or\n\n153\n00:08:38.765 --> 00:08:41.148\nwhatever frontend framework you're using.\n\n154\n00:08:41.148 --> 00:08:47.633\nSo now that we know what the problem is,\nlet's go take a look at where that occurs.\n\n155\n00:08:47.633 --> 00:08:53.732\nSo if I come over here to my code, and\nI take a look at my app, there we go.\n\n156\n00:08:53.732 --> 00:08:56.000\nSo we got a bunch of stuff here.\n\n157\n00:08:56.000 --> 00:08:59.436\nI don't particularly like having\nall of that here, but I am\n\n158\n00:08:59.436 --> 00:09:04.056\ngonna remove some of these console.logs\nbecause we don't need that anymore.\n\n159\n00:09:04.056 --> 00:09:08.795\nWe've got things going on\nthat we can point, and click,\n\n160\n00:09:08.795 --> 00:09:13.650\nand see other than knowing\nwhether a function runs or not.\n\n161\n00:09:13.650 --> 00:09:15.491\nSo here is our actual login.\n\n162\n00:09:15.491 --> 00:09:16.630\nThat's our handle login.\n\n163\n00:09:16.630 --> 00:09:20.510\nWe've got an email and password, and\nwe sign-in with email and password.\n\n164\n00:09:20.510 --> 00:09:23.840\nSo I could just sign in every time, but\n\n165\n00:09:23.840 --> 00:09:28.000\nreally if you inspect this user object,\neven though we're pulling email and\n\n166\n00:09:28.000 --> 00:09:34.010\nUID off, I'm actually getting back\na refresh token, authorization token,\n\n167\n00:09:34.010 --> 00:09:39.470\nthings of that nature that should be able\nto be persisted from refresh, refresh,\n\n168\n00:09:39.470 --> 00:09:44.990\neven browser close unless you clear, you\nreally go down and clear all of it out.\n\n169\n00:09:44.990 --> 00:09:49.035\nSo where,\nit doesn't seem like there's a good place.\n\n170\n00:09:49.035 --> 00:09:51.170\nWould I wanna do this\nevery time it renders?\n\n171\n00:09:51.170 --> 00:09:54.640\nI don't think so cuz we don't really\nknow when the rendering's gonna\n\n172\n00:09:54.640 --> 00:09:56.140\noccur in the context free act.\n\n173\n00:09:57.370 --> 00:10:02.440\nWould I want to just keep running\nlog-in like every one second,\n\n174\n00:10:02.440 --> 00:10:04.020\njust to make sure we're logged in?\n\n175\n00:10:05.110 --> 00:10:07.520\nI don't know if that's the case.\n\n176\n00:10:07.520 --> 00:10:12.510\nBut luckily, React provides us with a set\nof methods that we can essentially,\n\n177\n00:10:12.510 --> 00:10:17.350\nsome points during the life cycle of\na component, namely, my at component,\n\n178\n00:10:17.350 --> 00:10:18.630\nI can kind of hook in.\n\n179\n00:10:19.730 --> 00:10:25.732\nSo if we do a quick search here,\nReact life cycle.\n\n180\n00:10:25.732 --> 00:10:31.539\nSo here's the React lifecycle, and well,\nunderstanding the React lifecycle,\n\n181\n00:10:31.539 --> 00:10:35.074\nbut I'm gonna come to\nthe official Facebook for,\n\n182\n00:10:35.074 --> 00:10:38.441\nthe Facebook GitHub that describes React,\nand\n\n183\n00:10:38.441 --> 00:10:43.438\nI'm just gonna zoom in a little bit,\nand here is state and lifecycle.\n\n184\n00:10:43.438 --> 00:10:48.214\nSo, what are these things,\nconverting a function to a class,\n\n185\n00:10:48.214 --> 00:10:52.821\nadding a local state,\nadding lifecycle methods to a class?\n\n186\n00:10:52.821 --> 00:10:56.376\nWe want to set up a timer and whenever\nthe clock is rendered to the DOM for\n\n187\n00:10:56.376 --> 00:10:58.559\nthe first time, this is called mounting.\n\n188\n00:10:58.559 --> 00:11:00.740\nWe also want to clear that timer.\n\n189\n00:11:00.740 --> 00:11:05.765\nNow this is very particular to them,\nbut we have componentDidMount and\n\n190\n00:11:05.765 --> 00:11:09.199\ncomponentWillUnmount, and\nif we scroll down,\n\n191\n00:11:09.199 --> 00:11:14.163\nwe can see that essentially this is\nsome set up that you want to happen.\n\n192\n00:11:14.163 --> 00:11:18.233\nThe one the component actually is\nready to render the first time,\n\n193\n00:11:18.233 --> 00:11:23.191\nis essentially right after the initial\nrender, and then, if you by chance take\n\n194\n00:11:23.191 --> 00:11:27.779\nit away, or it no longer has to render\n,or it's actually being removed,\n\n195\n00:11:27.779 --> 00:11:31.570\nthe will unmount,\nthis is what should happen right before.\n\n196\n00:11:31.570 --> 00:11:34.264\nNow those some nuance differences.\n\n197\n00:11:34.264 --> 00:11:39.520\nWhenever the DOM produced by the clock\nis removed, this is called unmounting.\n\n198\n00:11:39.520 --> 00:11:44.070\nSo what life cycle methods\ndo we have available to us?\n\n199\n00:11:44.070 --> 00:11:47.500\nI think I was on the original page here.\n\n200\n00:11:47.500 --> 00:11:51.060\nSo the component lifecycle mounting,\nthese methods\n\n201\n00:11:51.060 --> 00:11:54.430\nare called when the component is being\ncreated and inserted into the DOM.\n\n202\n00:11:54.430 --> 00:11:58.244\nConstructor, componentWillMount,\nrender, componentDidMount.\n\n203\n00:11:58.244 --> 00:12:01.821\nUpdating, component will receive prompt,\nshould component update,\n\n204\n00:12:01.821 --> 00:12:05.880\ncomponent will update, render, so this\ngives you how these methods are called.\n\n205\n00:12:05.880 --> 00:12:08.258\nNow, if you override these methods,\n\n206\n00:12:08.258 --> 00:12:12.939\nthen essentially you have little hooks\nthat'll allow you to hook in to when\n\n207\n00:12:12.939 --> 00:12:16.376\nreact is taking care of things,\nand then unmounting.\n\n208\n00:12:16.376 --> 00:12:17.886\nThere's also a way to forceUpdate.\n\n209\n00:12:17.886 --> 00:12:22.134\nI would recommend, unless you're\nreally into it, really dug deep,\n\n210\n00:12:22.134 --> 00:12:26.526\nI would stay away from forceUpdate,\ncuz you're essentially running,\n\n211\n00:12:26.526 --> 00:12:31.350\nmaking sure that it actually updates when\nyou want it to, and now you're back to\n\n212\n00:12:31.350 --> 00:12:36.174\nnot letting the virtual DOM decide,\nhow React decides when to re-render, but\n\n213\n00:12:36.174 --> 00:12:39.250\nnow you're saying I\nwant it to happen here.\n\n214\n00:12:39.250 --> 00:12:41.750\nThere are times where you need that,\njust not always.\n\n215\n00:12:41.750 --> 00:12:48.174\nSo if I look at these methods, render, so\nright after render, before render, let's\n\n216\n00:12:48.174 --> 00:12:54.178\nlook at componentsWillMount is invoked\nimmediately before a mounting occurs.\n\n217\n00:12:54.178 --> 00:12:57.814\nIt is called before render(),\ntherefore setting state synchronously in\n\n218\n00:12:57.814 --> 00:13:00.211\nthis method will not\ntriggered a re-rendering.\n\n219\n00:13:00.211 --> 00:13:03.008\nAvoid introducing any side-effects or\nsubscriptions.\n\n220\n00:13:03.008 --> 00:13:06.583\nThis is the only lifecycle hook\ncalled on server rendering.\n\n221\n00:13:06.583 --> 00:13:10.650\nOkay, componentDidMount is invoked\nimmediately after component is mounted.\n\n222\n00:13:12.280 --> 00:13:14.500\nIf you need to load data\nfrom a remote endpoint,\n\n223\n00:13:14.500 --> 00:13:17.140\nit is a good place to\ninstantiate the network request.\n\n224\n00:13:18.140 --> 00:13:22.140\nOkay, so really we're asking Firebase,\nhey, are we logged in?\n\n225\n00:13:23.390 --> 00:13:25.580\nWe could do it in componentDidMount.\n\n226\n00:13:25.580 --> 00:13:30.360\nSo let's take a look and see what\nhappens if I add a componenDidMount.\n\n227\n00:13:30.360 --> 00:13:35.728\nNow I'm putting this right below state,\nyou can actually just put this anywhere,\n\n228\n00:13:35.728 --> 00:13:39.035\nbut the name does matter,\nso componentDidMount.\n\n229\n00:13:39.035 --> 00:13:44.039\nSo there's componentDidMount,\nand let's just say\n\n230\n00:13:44.039 --> 00:13:48.943\nconsole.log('mounting'), and that's it.\n\n231\n00:13:48.943 --> 00:13:54.300\nSo if I come over here and I look at\nmy console, well it says mounting.\n\n232\n00:13:54.300 --> 00:13:58.049\nNow, I did that, and we're trying to\nget away from console logging, but\n\n233\n00:13:58.049 --> 00:14:00.540\nI did that just so\nyou could see hey, there we go.\n\n234\n00:14:02.430 --> 00:14:05.347\nSo we have this console.log('mounting').\n\n235\n00:14:05.347 --> 00:14:08.056\nThis would be a good place for\nFirebase to login.\n\n236\n00:14:08.056 --> 00:14:11.270\nSo I could call this.handleLogin.\n\n237\n00:14:11.270 --> 00:14:15.960\nSo a lot of people would say,\nwell that makes sense, except this .login\n\n238\n00:14:15.960 --> 00:14:20.050\nrequires an email and a password, and\nI don't know the email and password.\n\n239\n00:14:20.050 --> 00:14:25.320\nI really wanna ask Firebase,\nhey am I already logged in for, like\n\n240\n00:14:25.320 --> 00:14:30.790\nthe tokens that are saved in this browser,\nand now we've run into another problem,\n\n241\n00:14:31.790 --> 00:14:36.860\nwe can see if we're logged in and\nset state, but how do we figure that out?\n\n242\n00:14:38.560 --> 00:14:39.880\nHow do we know that?\n\n243\n00:14:41.690 --> 00:14:43.765\nSo, if I come over here, and\n\n244\n00:14:43.765 --> 00:14:49.049\nI look back into the Firebase\ndocumentation, so I've had this in a tab.\n\n245\n00:14:49.049 --> 00:14:51.690\nThere's these set of Firebase methods.\n\n246\n00:14:51.690 --> 00:14:56.060\nWe definitely checked some of these out\nin previous episodes, especially when\n\n247\n00:14:56.060 --> 00:15:01.200\nhandling signing up and logging in using\nFirebase, so those methods are there.\n\n248\n00:15:01.200 --> 00:15:06.086\nBut there is this one, onAuthStateChanged.\n\n249\n00:15:06.086 --> 00:15:11.411\nAdds an observer for\nchanges to the user's sign-in state.\n\n250\n00:15:11.411 --> 00:15:16.133\nNow onAuthStateChanged returns a function,\nthat's weird.\n\n251\n00:15:16.133 --> 00:15:22.461\nAuth().onAuthStateChanged, it takes\na function and it gives the user.\n\n252\n00:15:22.461 --> 00:15:26.766\nSo what'll happen is,\nwhen I log in, when I log out,\n\n253\n00:15:26.766 --> 00:15:33.440\nwhen it actually checks to see if I'm\nlogged in, this kind of runs all the time.\n\n254\n00:15:33.440 --> 00:15:38.293\nI'm setting up a listener, and\nthis is a subscription thing.\n\n255\n00:15:38.293 --> 00:15:41.820\nSo okay, that's good.\n\n256\n00:15:41.820 --> 00:15:47.913\nI wonder if we can now persist\nlogin using this method?\n\n257\n00:15:47.913 --> 00:15:52.282\nSo if I zoom out and I instead say\n\n258\n00:15:52.282 --> 00:15:57.830\nauth.onAuthStateChange() Well,\n\n259\n00:15:57.830 --> 00:16:03.215\nI got a user and I wanna run a function.\n\n260\n00:16:03.215 --> 00:16:06.269\nLet's see if I can console.log(user).\n\n261\n00:16:06.269 --> 00:16:10.200\nI just wanna see if this runs\nduring the process, right?\n\n262\n00:16:10.200 --> 00:16:12.690\nSo, I'm essentially doing\ncomponent didn't mount.\n\n263\n00:16:12.690 --> 00:16:16.091\nI'm sending up a listener for a set of\ndata which is making a network request.\n\n264\n00:16:16.091 --> 00:16:19.730\nNow, in the documentation it said this\nis probably a good place to do it.\n\n265\n00:16:19.730 --> 00:16:24.580\nEspecially if I need to know\nsome of this for a render.\n\n266\n00:16:24.580 --> 00:16:27.060\nSo, render happens and\nthen component didn't mount.\n\n267\n00:16:27.060 --> 00:16:29.130\nAnd then, if component didn't mount and\nrun something,\n\n268\n00:16:29.130 --> 00:16:32.860\nthat needs to then rerender the component,\nit will do that.\n\n269\n00:16:35.130 --> 00:16:40.770\nBased on whether the component has\ndecided to rerender itself or not.\n\n270\n00:16:40.770 --> 00:16:47.520\nNow, we've run into a problem,\non off state change is not a function.\n\n271\n00:16:48.660 --> 00:16:51.290\nOkay well did I spell it wrong?\n\n272\n00:16:51.290 --> 00:16:55.455\nOn off state changed I forgot the D there.\n\n273\n00:16:55.455 --> 00:16:59.830\nThat D is very important and there we go.\n\n274\n00:16:59.830 --> 00:17:05.480\nLook at that, we actually already\nhave a user, the user is defined.\n\n275\n00:17:05.480 --> 00:17:07.760\nLet's scroll down, it's J@J.com.\n\n276\n00:17:07.760 --> 00:17:09.950\nSo even though we have it in our app,\n\n277\n00:17:09.950 --> 00:17:14.695\nbeen updating our app to say hey we're\nalready logged in, Firebase is like\n\n278\n00:17:14.695 --> 00:17:19.679\nyeah for this domain and things you've\nalready been logged in we're good to go.\n\n279\n00:17:19.679 --> 00:17:21.790\nLet's see what happens though.\n\n280\n00:17:21.790 --> 00:17:23.110\nLet's fold this up.\n\n281\n00:17:23.110 --> 00:17:27.680\nIf I log out, notice this is null.\n\n282\n00:17:27.680 --> 00:17:32.130\nAnd now if I refresh,\nit's still null because I've\n\n283\n00:17:32.130 --> 00:17:36.380\nphysically logged out using Firebase,\nso it flushed all the tokens out.\n\n284\n00:17:36.380 --> 00:17:42.290\nSo what could happen is if I\nwanted to log out every time that\n\n285\n00:17:42.290 --> 00:17:45.480\nI unmounted a particular\nportion on the component,\n\n286\n00:17:45.480 --> 00:17:47.830\nI could add that in one of\nthose life cycle methods.\n\n287\n00:17:47.830 --> 00:17:52.800\nBut if I go back and\nlog back in, one two three four\n\n288\n00:17:52.800 --> 00:17:56.590\nfive six and log in, there's my user.\n\n289\n00:17:56.590 --> 00:17:59.420\nAnd now if I refresh,\nI still have that user.\n\n290\n00:17:59.420 --> 00:18:03.620\nNow it's pretty quick, so that's nice.\n\n291\n00:18:03.620 --> 00:18:06.869\nAll of that has been extracted away and\nthat's incredibly handy.\n\n292\n00:18:06.869 --> 00:18:09.470\nBut it still doesn't show us\nthat we're logged in here.\n\n293\n00:18:10.840 --> 00:18:17.270\nSo if I refresh, I refresh, I'm getting\nthe user but it's not updating the state.\n\n294\n00:18:17.270 --> 00:18:20.540\nAt this point, we need to modify\nthat component [INAUDIBLE] method\n\n295\n00:18:22.070 --> 00:18:24.430\nto call that callback function.\n\n296\n00:18:25.540 --> 00:18:28.420\nThat inline function here,\ninstead of console dot login,\n\n297\n00:18:28.420 --> 00:18:32.580\nI need to set state if the user exists.\n\n298\n00:18:32.580 --> 00:18:37.241\nSo if there is a user and I'm using\nthe falseness of Java Script to say,\n\n299\n00:18:37.241 --> 00:18:41.509\nif there is a user I want you to go\nahead and run this piece of code.\n\n300\n00:18:41.509 --> 00:18:44.805\nIf the user was null,\nundefined, false, zero,\n\n301\n00:18:44.805 --> 00:18:47.860\nI don't really want you to do anything.\n\n302\n00:18:47.860 --> 00:18:55.410\nSo I'm gonna grab the email and the uid\nfrom that user just like we did down here.\n\n303\n00:18:55.410 --> 00:18:57.674\nEssentially, we're going to redo this.\n\n304\n00:18:57.674 --> 00:19:00.994\nSo this.setState and\n\n305\n00:19:00.994 --> 00:19:06.585\nI'm just gonna set the email, uid and\n\n306\n00:19:06.585 --> 00:19:12.650\nisLoggedIn To true.\n\n307\n00:19:12.650 --> 00:19:15.700\nOkay, so I'm using that for\na little bit of decision making.\n\n308\n00:19:15.700 --> 00:19:16.390\nWe're good to go.\n\n309\n00:19:16.390 --> 00:19:20.720\nNow if I come back over here,\nwe're not logged in anymore, are we?\n\n310\n00:19:20.720 --> 00:19:22.514\nLet's see, are we refreshing.\n\n311\n00:19:22.514 --> 00:19:30.080\nLet's see, j@j.com and one,\ntwo, three, four, five, six.\n\n312\n00:19:30.080 --> 00:19:36.130\nLog in and now is a good time to\nuse those react dev tools to check.\n\n313\n00:19:36.130 --> 00:19:37.190\nHey, we're still logged in.\n\n314\n00:19:38.350 --> 00:19:41.697\nThere's our login,\nrefresh and wait for it.\n\n315\n00:19:41.697 --> 00:19:47.240\nWe're still logged in, so now,\nit persists as I refresh.\n\n316\n00:19:47.240 --> 00:19:50.970\nSo that is pretty good,\nit doesn't really show us anything though.\n\n317\n00:19:50.970 --> 00:19:53.753\nSo maybe we should do a little\nbit of reorganization.\n\n318\n00:19:53.753 --> 00:19:55.580\nHow does that sound Peter?\n\n319\n00:19:55.580 --> 00:19:57.980\n&gt;&gt; I'd love to see that,\ncan I clean this up a little bit.\n\n320\n00:19:57.980 --> 00:20:00.385\n&gt;&gt; Yeah, cuz right now we have\njust those two forms, right?\n\n321\n00:20:00.385 --> 00:20:01.890\nSo sign up and log in.\n\n322\n00:20:01.890 --> 00:20:04.960\nAnd then it doesn't show\nanything different if we're,\n\n323\n00:20:04.960 --> 00:20:07.510\nso there's some weirdness, right?\n\n324\n00:20:08.560 --> 00:20:12.551\nSo, let's do a little bit since\nwe can persist the log in,\n\n325\n00:20:12.551 --> 00:20:14.842\nlet's change a few things here.\n\n326\n00:20:14.842 --> 00:20:19.805\nSo, our log ins now persist even on\nrefresh the only time it changes is when\n\n327\n00:20:19.805 --> 00:20:21.120\nI click log-out.\n\n328\n00:20:21.120 --> 00:20:25.750\nSo, we're gonna rely on that fact\nthat is logged in will stay true,\n\n329\n00:20:25.750 --> 00:20:30.050\nevery time on Auth.Change and\nthere is a user, okay?\n\n330\n00:20:30.050 --> 00:20:31.180\nSo we will cache that.\n\n331\n00:20:31.180 --> 00:20:36.830\nBut if we come down here and we look,\nwe have a sidebar and a main panel.\n\n332\n00:20:36.830 --> 00:20:42.161\nAnd really we want\nthe sidebar all the time but\n\n333\n00:20:42.161 --> 00:20:45.536\nwe only want the main panel.\n\n334\n00:20:45.536 --> 00:20:50.415\nDo we want, we still want the main panel\nalways really because that's some of our\n\n335\n00:20:50.415 --> 00:20:54.020\nstyling and\nthat's just a wrapper if you will.\n\n336\n00:20:54.020 --> 00:21:00.390\nSo what I want is, I wanna see sign up and\nlogin form if I'm not logged in.\n\n337\n00:21:00.390 --> 00:21:04.590\nAnd if I'm logged in, I wanna see\nsomething else like a list of messages for\n\n338\n00:21:04.590 --> 00:21:07.760\nthe given room that I've selected,\nwe're going to that up,\n\n339\n00:21:07.760 --> 00:21:09.630\nbut there's a little bit\nof rearrangement here.\n\n340\n00:21:09.630 --> 00:21:15.950\nSo I'm going to grab this cut this,\nand come up here before the return and\n\n341\n00:21:15.950 --> 00:21:20.220\nsay, let's just call it, whatToShow.\n\n342\n00:21:21.830 --> 00:21:25.907\nOkay, so this is a set of curly braces,\n\n343\n00:21:25.907 --> 00:21:30.612\nactually, I'm sorry, I don't want that.\n\n344\n00:21:33.701 --> 00:21:38.476\nWhatToShow, well if we are logged in,\n\n345\n00:21:38.476 --> 00:21:42.394\nif this.state.isLoggedIn.\n\n346\n00:21:44.467 --> 00:21:46.540\nIf we are logged in,\nwhat do you want to show?\n\n347\n00:21:48.000 --> 00:21:52.922\nWell, I want to show just a div, like so,\n\n348\n00:21:52.922 --> 00:21:57.290\n&lt;div&gt; and here are some messages.\n\n349\n00:21:59.730 --> 00:22:03.287\nSo we're just mocking that in for\nnow, so here's our closing tag.\n\n350\n00:22:03.287 --> 00:22:07.767\nNow I need a root component,\notherwise what do you wanna show, and\n\n351\n00:22:07.767 --> 00:22:09.770\nI'm gonna paste that there.\n\n352\n00:22:09.770 --> 00:22:15.859\nNow, we need a single component\nreturn even for these evaluations.\n\n353\n00:22:15.859 --> 00:22:19.119\nSo this isn't quite gonna work.\n\n354\n00:22:19.119 --> 00:22:21.721\nI'm gonna have to bring this out and\n\n355\n00:22:21.721 --> 00:22:27.420\nput this inside of a div which may mess\nthings up but we'll get there okay.\n\n356\n00:22:27.420 --> 00:22:34.440\nSo what to show and I'm just gonna\nsay what to show just like that.\n\n357\n00:22:34.440 --> 00:22:38.550\nNow I've done everything correctly\nthere's no guarantee that I have well,\n\n358\n00:22:38.550 --> 00:22:39.100\nthere we go.\n\n359\n00:22:39.100 --> 00:22:41.090\nWe are logged in, here are some messages.\n\n360\n00:22:41.090 --> 00:22:44.680\nSo our messages statement, and\nif we click logout, look at that!\n\n361\n00:22:44.680 --> 00:22:53.030\nWe're back into the login signup forms,\nj@j.com and 123456, and I log back in.\n\n362\n00:22:53.030 --> 00:22:54.270\nAnd there the message is.\n\n363\n00:22:54.270 --> 00:22:58.174\nSo now we have that changing\naround that we want.\n\n364\n00:22:58.174 --> 00:23:03.544\nI don't particularly always pull\nthis out into a separate variable,\n\n365\n00:23:03.544 --> 00:23:09.030\nbut I wanted to show you this before\nwe kinda put this back in line.\n\n366\n00:23:09.030 --> 00:23:13.800\nIf it's something very simple like this,\nthen what I typically do is\n\n367\n00:23:13.800 --> 00:23:18.334\njust grab that and just put that\ndirectly in line to be evaluated.\n\n368\n00:23:18.334 --> 00:23:27.790\nBecause the MainPanel is I love it\nwhen it does that, I do, I do, I do.\n\n369\n00:23:27.790 --> 00:23:29.243\nSo we go down here and\n\n370\n00:23:29.243 --> 00:23:34.959\nI'll just put a curly brace there and,\nThere we go, all right.\n\n371\n00:23:34.959 --> 00:23:41.006\nSo if it's logged in,\nshow this otherwise, show this div.\n\n372\n00:23:41.006 --> 00:23:45.610\nNow, we may get some\nweirdness here because really\n\n373\n00:23:45.610 --> 00:23:50.190\nwe only wanna show the SignUpForm\nif we need to sign up, right?\n\n374\n00:23:50.190 --> 00:23:54.800\nMaybe that's what we show by default and\nthen give a person an option to\n\n375\n00:23:54.800 --> 00:23:58.710\nclick over and move to the LoginForm\nif they already have an account.\n\n376\n00:23:58.710 --> 00:24:01.570\nThat's actually a pretty common workflow.\n\n377\n00:24:01.570 --> 00:24:03.330\nWe're not gonna worry about that just yet.\n\n378\n00:24:03.330 --> 00:24:07.067\nThat might be one of those small little\nclean up things that we can do when we\n\n379\n00:24:07.067 --> 00:24:07.680\nhave time.\n\n380\n00:24:08.780 --> 00:24:14.120\nBut as it stands, we can persist\nlogin using that essentially observer\n\n381\n00:24:14.120 --> 00:24:19.170\non Firebase, when we refresh,\nif I just refresh, there it is.\n\n382\n00:24:19.170 --> 00:24:20.690\nNow, it does blink just for a second.\n\n383\n00:24:22.290 --> 00:24:27.180\nThat's not great, but that's one of those\nsmall nuances that we can fix as well.\n\n384\n00:24:27.180 --> 00:24:31.360\nSo, we are always in a chatroom and\nwe can select a particular room.\n\n385\n00:24:31.360 --> 00:24:34.320\nOur rooms doesn't quite work yet\ncuz, well,\n\n386\n00:24:34.320 --> 00:24:37.320\nwe gotta set up some Firebase stuff\nto kinda get that to propagate down.\n\n387\n00:24:37.320 --> 00:24:40.068\nBut we have some of\nthe infrastructure setup there.\n\n388\n00:24:40.068 --> 00:24:45.180\nSo Peter, we're able to stay logged in and\nonly change when we log out, which\n\n389\n00:24:45.180 --> 00:24:50.630\nis gonna make it a lot easier for the\nremaining portion of developing this app.\n\n390\n00:24:50.630 --> 00:24:53.500\nEspecially if I wanna test features\nthat I have to be logged in for.\n\n391\n00:24:53.500 --> 00:24:58.673\nI don't wanna have to log in every\ntime that I refresh the page.\n\n392\n00:24:58.673 --> 00:25:02.054\n&gt;&gt; And it makes a lot of sense from\nusability perspective too I mean if people\n\n393\n00:25:02.054 --> 00:25:05.436\ndidn't have those dev tools open you'd\nhave no way of looking at that and\n\n394\n00:25:05.436 --> 00:25:07.110\nseeing if you were logged in or not.\n\n395\n00:25:07.110 --> 00:25:09.768\nSo now they're at least getting that\nfeed back to know that they are.\n\n396\n00:25:09.768 --> 00:25:12.948\nBut Justin I know you said we\nwanna clean some of that stuff up.\n\n397\n00:25:12.948 --> 00:25:16.547\nI kinda see an episode maybe down\nthe line where we,it's just kinda that\n\n398\n00:25:16.547 --> 00:25:19.970\nmiscellaneous potpourri episode\nwhere we kinda fix those things and\n\n399\n00:25:19.970 --> 00:25:21.590\nclean up some of the usability.\n\n400\n00:25:21.590 --> 00:25:23.110\nAnd things but\nwe're kind of out of time for\n\n401\n00:25:23.110 --> 00:25:25.860\nthis one, so anything else you\nwant to add before we close it up?\n\n402\n00:25:25.860 --> 00:25:30.639\n&gt;&gt; There are some data mind bending\ntricks that are coming down the road,\n\n403\n00:25:30.639 --> 00:25:33.727\nbut I think we're good\nto go on this episode.\n\n404\n00:25:33.727 --> 00:25:36.508\n&gt;&gt; All right fantastic well thank you so\nmuch for all that information Justin.\n\n405\n00:25:36.508 --> 00:25:39.554\nAnd thank you for watching, but\nfor now we're gonna sign off for\n\n406\n00:25:39.554 --> 00:25:42.180\nDevPro.TV I've been your\nhost Peter VanRysdan.\n\n407\n00:25:42.180 --> 00:25:42.870\n&gt;&gt; And I'm Justin Dennison.\n\n408\n00:25:42.870 --> 00:25:44.391\n&gt;&gt; And we'll see you next time.\n\n409\n00:25:44.391 --> 00:25:49.774\n[MUSIC]\n\n",
          "vimeoId": "230611217"
        },
        {
          "description": "In this episode, Justin and Peter get started on the heart of the applications - the chat panel. They begin by creating a new functional stateless component then and start coding.",
          "length": "1436",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-10-1-building_the_chat_panel-081717-PGM.00_24_47_05.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-10-1-building_the_chat_panel-081717-PGM.00_24_47_05.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-10-1-building_the_chat_panel-081717-PGM.00_24_47_05.Still001-sm.jpg",
          "title": "Building the Chat Panel",
          "transcript": "WEBVTT\n\n1\n00:00:00.005 --> 00:00:10.005\n[MUSIC]\n\n2\n00:00:12.385 --> 00:00:14.076\nHello and welcome to DevPro.Tv.\n\n3\n00:00:14.076 --> 00:00:16.794\nI'm your host Peter VanRysdam today we're\n\n4\n00:00:16.794 --> 00:00:20.692\ncontinuing with building a chat\napp using React and Firebase.\n\n5\n00:00:20.692 --> 00:00:24.836\nAnd specifically in this episode we're\ngetting down to the meat of the app and\n\n6\n00:00:24.836 --> 00:00:27.270\nwe're actually building the chat portion.\n\n7\n00:00:27.270 --> 00:00:29.740\nSo here to help us do that we have Mr.\nJustin Dennison.\n\n8\n00:00:29.740 --> 00:00:30.600\nJustin, how you doing?\n\n9\n00:00:30.600 --> 00:00:31.402\n&gt;&gt; I am doing fantastic.\n\n10\n00:00:31.402 --> 00:00:33.026\nA little rainy outside today.\n\n11\n00:00:33.026 --> 00:00:34.699\nIt always drags us down, but\n\n12\n00:00:34.699 --> 00:00:38.480\nat least we get to actually\nwork on our computers today.\n\n13\n00:00:38.480 --> 00:00:41.060\n&gt;&gt; It's great weather to\njust get in here and code.\n\n14\n00:00:41.060 --> 00:00:42.538\nBut Justin I wanted to ask,\n\n15\n00:00:42.538 --> 00:00:45.829\nthe chat component here that\nwe're building that's easy.\n\n16\n00:00:45.829 --> 00:00:49.952\nWhat's that, about five minutes\nabout in this whole thing?\n\n17\n00:00:49.952 --> 00:00:52.878\n&gt;&gt; Peter, Peter, Peter, Peter,\nPeter, Peter, no, no, it is not.\n\n18\n00:00:52.878 --> 00:00:55.250\nIt's actually gonna take\na little bit of time.\n\n19\n00:00:55.250 --> 00:01:00.103\nAnd if I'm always persistent about\nsomething it's how long I think it's gonna\n\n20\n00:01:00.103 --> 00:01:04.390\ntake and how long it actually takes\nis usually off by a factor of three.\n\n21\n00:01:04.390 --> 00:01:07.560\nSo, it is gonna take a little\nwhile because number one,\n\n22\n00:01:07.560 --> 00:01:10.680\nwe need to make sure we can\nfollow the thought process.\n\n23\n00:01:10.680 --> 00:01:13.393\nSo, let me kind of guide this along.\n\n24\n00:01:13.393 --> 00:01:16.506\nIn the previous episode we saw\nthe persisting the login actually\n\n25\n00:01:16.506 --> 00:01:20.230\npresents kind of this,\nhere are some messages fields, right?\n\n26\n00:01:20.230 --> 00:01:23.998\nBut really what we would want\nis instead just the chat panel.\n\n27\n00:01:23.998 --> 00:01:26.100\nNow what do I mean by the chat panel?\n\n28\n00:01:26.100 --> 00:01:28.180\nThere's probably a better\nway to name this.\n\n29\n00:01:28.180 --> 00:01:31.700\nNaming is hard, that's what I found out.\n\n30\n00:01:31.700 --> 00:01:34.450\nAvailable naming should be descriptive but\n\n31\n00:01:34.450 --> 00:01:39.141\nthen I am like I don't want sentences so\nit's kind of this weird trade off.\n\n32\n00:01:39.141 --> 00:01:42.154\nWhere I have here is message,\nhere are messages,\n\n33\n00:01:42.154 --> 00:01:44.750\nhere is messages allow, is and messages.\n\n34\n00:01:44.750 --> 00:01:49.891\nAnyway, so,\nhere are messages where I have them.\n\n35\n00:01:49.891 --> 00:01:55.058\nI actually want to have the top level,\nabout 90% of the view to be\n\n36\n00:01:55.058 --> 00:02:00.801\njust a list of messages that are already\npart of the application, right?\n\n37\n00:02:00.801 --> 00:02:02.030\nThat are stored on Firebase.\n\n38\n00:02:02.030 --> 00:02:04.420\nNow, we don't have those yet.\n\n39\n00:02:04.420 --> 00:02:08.844\nThe bottom portion is going to be the\ninput field where I type in a message and\n\n40\n00:02:08.844 --> 00:02:12.020\nit actually sends the message\noff to Firebase for me.\n\n41\n00:02:12.020 --> 00:02:17.140\nAnd then, my app updates, renders that\nto the screen, we're all good to go.\n\n42\n00:02:17.140 --> 00:02:18.900\nThat seems pretty simple.\n\n43\n00:02:18.900 --> 00:02:23.060\nBut there's the fire base part, there's\nactually sending data off, there's pushing\n\n44\n00:02:23.060 --> 00:02:27.550\nit into the database, there's updating our\napp, updating state inside of our app.\n\n45\n00:02:27.550 --> 00:02:28.710\nAnd then not only that,\n\n46\n00:02:28.710 --> 00:02:32.960\nthe arrangement, the actual\nproportioning of the app on the screen.\n\n47\n00:02:32.960 --> 00:02:35.910\nSo I suspect this is gonna\ntake a little while,\n\n48\n00:02:35.910 --> 00:02:40.860\nPeter, but you know, there's no better\ntime than the present to get started.\n\n49\n00:02:40.860 --> 00:02:43.060\nSo, let's take a look at\nmy screen here real quick.\n\n50\n00:02:44.180 --> 00:02:47.370\nAnd, well, if I refresh,\nI'm not logged in.\n\n51\n00:02:47.370 --> 00:02:49.350\nLet's go ahead and log in so you can see.\n\n52\n00:02:49.350 --> 00:02:52.400\nAt this point you shouldn't see,\nhere's a decision I've made,\n\n53\n00:02:52.400 --> 00:02:56.670\nyou shouldn't see the chat portion\nunless you are actually logged in.\n\n54\n00:02:56.670 --> 00:02:57.900\nHere are some messages.\n\n55\n00:02:57.900 --> 00:03:02.704\nSo this should be the top portion should\njust be just the list of messages as\n\n56\n00:03:02.704 --> 00:03:04.730\nyou would hopefully see them.\n\n57\n00:03:04.730 --> 00:03:06.500\nAnd then right down here at the bottom.\n\n58\n00:03:07.670 --> 00:03:10.570\nOr close to the bottom, probably with\na little bit of padding is just an input\n\n59\n00:03:10.570 --> 00:03:12.330\nfield that spans the entire thing.\n\n60\n00:03:12.330 --> 00:03:13.860\nYou type your messages, you're good to go.\n\n61\n00:03:13.860 --> 00:03:18.794\nNow,we could get fancy and add editors and\nrich text editors and all that but,\n\n62\n00:03:18.794 --> 00:03:21.180\nI think that might be on scope.\n\n63\n00:03:21.180 --> 00:03:23.380\n&gt;&gt; And so, this might be something\nwe just haven't made yet or\n\n64\n00:03:23.380 --> 00:03:25.104\nI wanna know if this was\na conscious decision.\n\n65\n00:03:25.104 --> 00:03:29.162\nBut, I see now that we're in what\nis going to be the chat panel,\n\n66\n00:03:29.162 --> 00:03:33.960\nwe have the blue hover state that we\nmade over that general chat room.\n\n67\n00:03:33.960 --> 00:03:37.410\nIs that the plan that like I said when you\nlogin your right there and that's the chat\n\n68\n00:03:37.410 --> 00:03:40.780\nroom you are in or are we gonna be\nenforcing a decision at that point?\n\n69\n00:03:40.780 --> 00:03:44.900\n&gt;&gt; So I think probably the most\nstraight forward decision kind of\n\n70\n00:03:44.900 --> 00:03:49.030\na minimum liable product just to\nget everything kind of working.\n\n71\n00:03:49.030 --> 00:03:53.300\nIs initially we are just going\nto pick whatever comes in first,\n\n72\n00:03:53.300 --> 00:03:55.840\nin the list, put you in the app.\n\n73\n00:03:55.840 --> 00:03:58.200\nBecause of the way things\nare stored in Firebase,\n\n74\n00:03:58.200 --> 00:04:01.440\nthat means we may end up being in\ndifferent chat rooms from time to time.\n\n75\n00:04:01.440 --> 00:04:05.030\nSo we might hardcode just to say,\nwe're always in the general room.\n\n76\n00:04:05.030 --> 00:04:07.190\nAnd if you wanna go somewhere else,\nyou click that.\n\n77\n00:04:07.190 --> 00:04:11.860\nNow, it would be nice if, for\nyour user when you click on a room,\n\n78\n00:04:11.860 --> 00:04:16.000\nit updates what room you were last in,\nright, as your selected room.\n\n79\n00:04:16.000 --> 00:04:20.080\nSo when you log back in that's\nthe selected room but I think then,\n\n80\n00:04:20.080 --> 00:04:23.980\nit's one of those things where well,\nif I get all these other parts working,\n\n81\n00:04:23.980 --> 00:04:27.110\nthat's just a little bit of a switch so\nto speak.\n\n82\n00:04:27.110 --> 00:04:29.697\nSo just to keep things clear and\nmoving forward,\n\n83\n00:04:29.697 --> 00:04:33.937\nyou're always gonna stay in general at\ninitial load so to speak when you log in.\n\n84\n00:04:33.937 --> 00:04:38.470\n&gt;&gt; Yeah, so that's something we'll add\nright before we monetize this and retire.\n\n85\n00:04:38.470 --> 00:04:41.699\nBut for now, when you come in the general\nwill kind of treat that like a lobby.\n\n86\n00:04:41.699 --> 00:04:44.870\n&gt;&gt; Yup, exactly, exactly,\nI don't know what are the things.\n\n87\n00:04:44.870 --> 00:04:48.687\nSo there's still a lot to do so we should\nprobably go ahead and get started.\n\n88\n00:04:48.687 --> 00:04:53.547\nSo I'm gonna come back over here, and\nas it stands we have this main panel area,\n\n89\n00:04:53.547 --> 00:04:55.870\nso that's the side bar main panel, so\n\n90\n00:04:55.870 --> 00:04:59.600\nI've kind of chopped up my app\nin these two respected boxes.\n\n91\n00:04:59.600 --> 00:05:02.320\nAnd then here are some messages.\n\n92\n00:05:02.320 --> 00:05:08.958\nReally, what I want this to\nbe is instead the ChatPanel,\n\n93\n00:05:08.958 --> 00:05:13.320\nChatPanel like so, okay?\n\n94\n00:05:13.320 --> 00:05:17.330\nSo I'm going to make that panel make\nsure that here are some messages\n\n95\n00:05:17.330 --> 00:05:19.150\nstill renders exactly the same.\n\n96\n00:05:19.150 --> 00:05:23.910\nNow I'm not sure if this needs to be\na functional [INAUDIBLE] component, or\n\n97\n00:05:23.910 --> 00:05:25.290\na class based component.\n\n98\n00:05:25.290 --> 00:05:26.880\nThis is more presentational and\n\n99\n00:05:26.880 --> 00:05:29.700\nwill be composed of additional\ncomponents that I'm going to write.\n\n100\n00:05:29.700 --> 00:05:32.150\nSo I suspect it's probably\ngoing to be real easy,\n\n101\n00:05:32.150 --> 00:05:35.298\njust to make it a functional\nstateless component.\n\n102\n00:05:35.298 --> 00:05:38.990\nBut, as it stands now that stuff is broke.\n\n103\n00:05:38.990 --> 00:05:43.781\nWe actually need to generate that chat\npanel and we're going to do that by\n\n104\n00:05:43.781 --> 00:05:48.980\ncoming over, creating a new component\nfile and saying chat panel wait for it.\n\n105\n00:05:48.980 --> 00:05:53.425\nI got to spell it correctly, I don't guess\nyou have to as long as you're consistent,\n\n106\n00:05:53.425 --> 00:05:55.426\nbut that's just one of those things.\n\n107\n00:05:55.426 --> 00:06:01.020\nSo, I'm going to bring in react,\nimport react and component.\n\n108\n00:06:01.020 --> 00:06:05.091\nNow I don't know if I've said this before\nPeter but I don't actually have to,\n\n109\n00:06:08.115 --> 00:06:11.190\nBring in this component as\na destructured portion.\n\n110\n00:06:11.190 --> 00:06:15.546\nI could actually say react.component,\nif I so wanted to.\n\n111\n00:06:15.546 --> 00:06:17.498\nI tend to like being very clean and\n\n112\n00:06:17.498 --> 00:06:20.651\nbeing very specific about\nthe pieces that I bring in.\n\n113\n00:06:20.651 --> 00:06:24.418\nAnd just to reiterate in the build\nprocess for create react app,\n\n114\n00:06:24.418 --> 00:06:27.349\nif I input react from react\nthat essentially gives\n\n115\n00:06:27.349 --> 00:06:30.580\nus kind of a flag to say\nthere is JXX in this file.\n\n116\n00:06:30.580 --> 00:06:33.730\nSo you need to be aware of that and\ncompile it appropriately.\n\n117\n00:06:35.040 --> 00:06:38.840\nSo I am going to const actually I think\n\n118\n00:06:40.300 --> 00:06:43.950\nExport can I do this export,nah\nlet's just go with it.\n\n119\n00:06:43.950 --> 00:06:46.876\nThe standard const chat panel equals and\n\n120\n00:06:46.876 --> 00:06:52.311\nyou know what,I brought on this component\nI don't even think I need that.\n\n121\n00:06:52.311 --> 00:06:56.075\nI was getting ahead of myself there\nbecause this is going to be a functional\n\n122\n00:06:56.075 --> 00:06:57.710\nstateless component.\n\n123\n00:06:57.710 --> 00:06:59.930\nSo this is gonna be props.\n\n124\n00:06:59.930 --> 00:07:05.060\nI'm gonna pass this some properties and\nthen all it's going to return is some JSX.\n\n125\n00:07:05.060 --> 00:07:09.610\nSo if I return that div,\nhere are some messages.\n\n126\n00:07:12.224 --> 00:07:17.576\nLike so,\nI should get the same exact thing that\n\n127\n00:07:17.576 --> 00:07:25.410\nI had previously If well if I had\nall of this correct, so there we go.\n\n128\n00:07:25.410 --> 00:07:27.320\nHere's our chat panel.\n\n129\n00:07:27.320 --> 00:07:31.680\nSo if I come back over here still not\ndefined because I need to import it into\n\n130\n00:07:31.680 --> 00:07:37.020\nmy actual application so I come up here\nto the top and say import chat panel.\n\n131\n00:07:39.865 --> 00:07:45.042\nFrom './ChatPanel' like so,\n&gt;&gt; A misspelling on there, yeah.\n\n132\n00:07:45.042 --> 00:07:45.542\n&gt;&gt; Yeah.\n\n133\n00:07:48.480 --> 00:07:49.624\nI finally have it.\n\n134\n00:07:49.624 --> 00:07:53.420\nAnd that happened because\nI misspelled it over here.\n\n135\n00:07:53.420 --> 00:07:53.994\nThere we go.\n\n136\n00:07:53.994 --> 00:07:57.457\nSo now we should actually see a rerender\nand here are some messages so\n\n137\n00:07:57.457 --> 00:07:59.340\nwe're back to where we started, but\n\n138\n00:07:59.340 --> 00:08:02.712\nwe've actually extracted that\npart into a separate component.\n\n139\n00:08:02.712 --> 00:08:09.927\nNow that's handy because, if we're logged\nin, show the chat panel, otherwise,\n\n140\n00:08:09.927 --> 00:08:15.020\nshow the login forms, so,\nhow am I going to show messages?\n\n141\n00:08:16.460 --> 00:08:25.260\nWell, I would like to have like\na message list and a send message form.\n\n142\n00:08:25.260 --> 00:08:31.510\nSo those are the two pieces which I am\nthinking that will be handy to have.\n\n143\n00:08:31.510 --> 00:08:36.660\nNow, the forms tend to\nbe stateful components,\n\n144\n00:08:36.660 --> 00:08:39.670\nthat have some kind of\ninternal local state.\n\n145\n00:08:39.670 --> 00:08:43.880\nWhereas the actual just rendering of\nthe message list is gonna be very similar\n\n146\n00:08:43.880 --> 00:08:47.240\nto the room list, but\nis in fact for a message.\n\n147\n00:08:47.240 --> 00:08:50.690\nSo we actually have two other components\nthat may have additional components\n\n148\n00:08:50.690 --> 00:08:54.310\nto build, so which one do we do first?\n\n149\n00:08:54.310 --> 00:08:58.500\nProbably just get messages so\nwe can see how the data's flowing into\n\n150\n00:08:58.500 --> 00:09:03.250\nthe chat panel, into the message list,\nin order to render said message list.\n\n151\n00:09:03.250 --> 00:09:07.581\nSo let's go kind of plan this out and\njust get the message list on the screen.\n\n152\n00:09:07.581 --> 00:09:12.991\nSo let's take a look back at my screen\nhere, and here's what I'm thinking.\n\n153\n00:09:12.991 --> 00:09:18.568\nInside of the chat panel,\ninstead of here are some messages,\n\n154\n00:09:18.568 --> 00:09:21.475\nI'm going to say MessageList.\n\n155\n00:09:23.812 --> 00:09:28.110\nLike so, and messages =\n\n156\n00:09:28.110 --> 00:09:32.615\nprops.messages./ and\n\n157\n00:09:32.615 --> 00:09:38.260\nthen SendMessage Form like so.\n\n158\n00:09:38.260 --> 00:09:42.240\nAnd I don't really know what\nthat's going to need quite yet\n\n159\n00:09:42.240 --> 00:09:45.670\nto be passed in, but\nwe're going to leave it at that.\n\n160\n00:09:45.670 --> 00:09:49.960\nNow I just immediately broke this,\nbecause MessageList and\n\n161\n00:09:49.960 --> 00:09:52.390\nSendMessageForm are not defined.\n\n162\n00:09:52.390 --> 00:09:53.510\nSo temporarily,\n\n163\n00:09:53.510 --> 00:09:59.210\neven though I built this in a completely\nother file originally from app.\n\n164\n00:09:59.210 --> 00:10:02.510\nThis is one of those where these have\ndependencies, kind of interdependence\n\n165\n00:10:02.510 --> 00:10:05.870\non each other, so I'm gonna build these\nin the same file and extract them later.\n\n166\n00:10:05.870 --> 00:10:11.450\nSo, I'm gonna say a message list,\nand this is fairly presentational,\n\n167\n00:10:11.450 --> 00:10:14.810\nthis is just going to take\nthe messages and render those.\n\n168\n00:10:16.110 --> 00:10:21.114\nSo we have our return here, and\n\n169\n00:10:21.114 --> 00:10:26.699\nlet's just say h1 Message List,\n\n170\n00:10:30.846 --> 00:10:35.433\nLike so, and\nthen the send message form, but\n\n171\n00:10:35.433 --> 00:10:39.780\nthe form is probably going to be stateful,\n\n172\n00:10:39.780 --> 00:10:44.390\nas I said, cuz I have to keep form fields.\n\n173\n00:10:44.390 --> 00:10:45.170\nSo I'm gonna go ahead and\n\n174\n00:10:45.170 --> 00:10:49.340\nbring a component back in,\neven though I removed it.\n\n175\n00:10:49.340 --> 00:10:52.443\nIt won't ultimately need to stay there,\nbut\n\n176\n00:10:52.443 --> 00:10:58.100\nthis is one of those work around until you\nget things working and then re-factor.\n\n177\n00:10:58.100 --> 00:11:01.323\nSo these extends Component, and\n\n178\n00:11:01.323 --> 00:11:05.811\nI'm just gonna add a render function for\nnow,\n\n179\n00:11:05.811 --> 00:11:11.695\njust to make sure everything's good,\nand return some JSX.\n\n180\n00:11:11.695 --> 00:11:17.319\nAnd let's just say form,\n\n181\n00:11:20.300 --> 00:11:24.987\nForm, and end the form like so, all right,\n\n182\n00:11:24.987 --> 00:11:29.550\nand then within that form we'll just say,\n\n183\n00:11:29.550 --> 00:11:35.153\nsend a message, just so\nwe know what we're seeing.\n\n184\n00:11:35.153 --> 00:11:39.510\nSo send a message, like so, all right, so\n\n185\n00:11:39.510 --> 00:11:45.090\nlet's see if we fixed it, and\nwe have in fact fixed it.\n\n186\n00:11:45.090 --> 00:11:50.100\nNow it's not pretty yet,\nit's not moving around, it's none of that.\n\n187\n00:11:50.100 --> 00:11:54.100\nHowever, I do have the pieces,\nI do have the components kinda outlined.\n\n188\n00:11:54.100 --> 00:11:58.130\nSo let's worry about that message\nlist first, and if I look,\n\n189\n00:11:58.130 --> 00:12:03.780\nI don't actually have any\nmessages in the app state.\n\n190\n00:12:03.780 --> 00:12:08.060\nSo I'm going to have to go dummy\nup some messages in the app state.\n\n191\n00:12:08.060 --> 00:12:12.240\nAnd let's see here, that means we\nhave to talk about the data model for\n\n192\n00:12:12.240 --> 00:12:13.340\nthe respective message.\n\n193\n00:12:14.920 --> 00:12:16.800\nSo if I can find my notes here, just so\n\n194\n00:12:16.800 --> 00:12:21.940\nI can make sure we're all on the same\npage, I come back into my app.\n\n195\n00:12:21.940 --> 00:12:25.060\nAnd this isn't ultimately to\npass this into the chat panel,\n\n196\n00:12:25.060 --> 00:12:28.400\nthat then passes it along to\nthe message list component.\n\n197\n00:12:28.400 --> 00:12:33.080\nI come up here, I have rooms, and then\nI have selectedRoom, but I really want\n\n198\n00:12:33.080 --> 00:12:37.990\nanother set of state called messages,\nand that is also gonna be an object.\n\n199\n00:12:37.990 --> 00:12:42.220\nJust to reflect the data model that is\nused inside of Firebase as well, so\n\n200\n00:12:42.220 --> 00:12:46.260\nyou get these back as object key\nvalue pairs with unique keys.\n\n201\n00:12:46.260 --> 00:12:51.060\nSo these unique keys,\nI'm just going to say m100, again,\n\n202\n00:12:51.060 --> 00:12:56.400\nthis is just dummying these,\nand them I'm going to say m200.\n\n203\n00:12:57.580 --> 00:12:59.500\nAnd there you go, so\nthose are the unique keys,\n\n204\n00:12:59.500 --> 00:13:04.300\nnow, what do I need in these\nmessages to be descriptive?\n\n205\n00:13:05.480 --> 00:13:10.800\nWell I think it would be\ngood to have the author, and\n\n206\n00:13:10.800 --> 00:13:17.950\nthe author, the question is,\ndo I keep the email or do I keep the ID?\n\n207\n00:13:17.950 --> 00:13:22.620\nSo I think it's probably gonna\nbe best to keep the email,\n\n208\n00:13:22.620 --> 00:13:26.240\nso I'm just gonna say j@j.com, and\n\n209\n00:13:26.240 --> 00:13:31.450\nlet's say author ID, if I'm not mistaken.\n\n210\n00:13:31.450 --> 00:13:36.990\nLet me take a look here,\n\n211\n00:13:36.990 --> 00:13:41.145\nyeah, uid, no,\n\n212\n00:13:41.145 --> 00:13:45.579\nI changed my mind.\n\n213\n00:13:45.579 --> 00:13:47.223\nI changed my mind, Peter,\nI'm allowed to do that.\n\n214\n00:13:47.223 --> 00:13:49.350\n&gt;&gt; You're entitled.\n&gt;&gt; I'm allowed to do that,\n\n215\n00:13:49.350 --> 00:13:51.930\nthis will actually be an ID.\n\n216\n00:13:51.930 --> 00:13:57.570\nAnd instead,\nI'm gonna store the key for the email,\n\n217\n00:13:57.570 --> 00:14:02.690\nthe actual value on an email field,\nso I'm gonna keep that separate.\n\n218\n00:14:02.690 --> 00:14:06.480\nAnd that way I know,\nthat's just a convention that I've chosen,\n\n219\n00:14:06.480 --> 00:14:09.590\nI know the author is going\nto be the key lookup.\n\n220\n00:14:09.590 --> 00:14:12.673\nSo I want to look up the rooms,\nso for room,\n\n221\n00:14:12.673 --> 00:14:18.521\nI'm gonna look up all the messages for\nthat room, and then only show the author.\n\n222\n00:14:18.521 --> 00:14:21.728\nBut if I ever have to back trace, hey,\n\n223\n00:14:21.728 --> 00:14:27.460\nthis is from a respective author,\nsuch as like searchable fields.\n\n224\n00:14:27.460 --> 00:14:32.510\nSo I come up here, and\nI need a room ID, so\n\n225\n00:14:32.510 --> 00:14:37.740\nwhere does it reside, and that has to be\none of these unique identifiers here.\n\n226\n00:14:37.740 --> 00:14:42.540\nSo let's say hh12 and\nfinally, I think that will\n\n227\n00:14:44.080 --> 00:14:50.340\nbe it, but you have to know\nwhat's in there, hello everyone.\n\n228\n00:14:50.340 --> 00:14:55.040\nSo we're gonna call that a text field, so\nI have an author and email, roomId, and\n\n229\n00:14:55.040 --> 00:14:55.540\nthe text field.\n\n230\n00:14:55.540 --> 00:15:01.070\nNow we may ultimately adjust this\nbecause sometimes features come and\n\n231\n00:15:01.070 --> 00:15:03.900\nthey go, or we may need to add\nsomething for additional features.\n\n232\n00:15:03.900 --> 00:15:07.681\nSo do keep that in mind, this is\nan initial data schema and necessary for\n\n233\n00:15:07.681 --> 00:15:09.940\nwhat we're building now.\n\n234\n00:15:09.940 --> 00:15:11.494\nIt's good to try to think\nabout these things, and\n\n235\n00:15:11.494 --> 00:15:12.910\nit would be nice to plan\nall of these upfront.\n\n236\n00:15:12.910 --> 00:15:15.860\nBut if you're doing some exploration,\nthen yeah,\n\n237\n00:15:15.860 --> 00:15:19.090\nyou have to go with, well,\nwhatever your gut tells you.\n\n238\n00:15:19.090 --> 00:15:26.390\nSo I'm just gonna copy and\npaste this and change this to d@d.com.\n\n239\n00:15:26.390 --> 00:15:32.481\nAnd you know what, there's actually\nanother piece that I want created,\n\n240\n00:15:32.481 --> 00:15:35.929\nand let's just say Date.now, like so.\n\n241\n00:15:37.780 --> 00:15:42.520\nAnd here I need to add a created as well,\nand\n\n242\n00:15:42.520 --> 00:15:50.250\njust change this text, and\nthe author is a different unique key.\n\n243\n00:15:50.250 --> 00:15:56.002\nSo this is created, and\nI'm just dummying date data with Date.now.\n\n244\n00:15:56.002 --> 00:16:00.321\nSo I don't know why it does this\nsometimes, but now we have this saved.\n\n245\n00:16:00.321 --> 00:16:05.739\nSo now I have messages, and if we come\nover and we look at our state, Well,\n\n246\n00:16:05.739 --> 00:16:08.520\nwe now have this Messages.\n\n247\n00:16:08.520 --> 00:16:14.480\nBut we wanna look up the messages just for\na particular selected room, right?\n\n248\n00:16:14.480 --> 00:16:18.600\nSo room hh12, hh12,\nwe're in that selectedRoom.\n\n249\n00:16:18.600 --> 00:16:21.510\nSo we're kinda modeling that\nI've clicked on this, and\n\n250\n00:16:21.510 --> 00:16:22.950\nthese are the messages that I got.\n\n251\n00:16:22.950 --> 00:16:25.580\nNow Ultimate Firebase will give\nus all the messages back, so\n\n252\n00:16:25.580 --> 00:16:27.240\nwe'll have to do some Firebase stuff.\n\n253\n00:16:27.240 --> 00:16:30.168\nBut for now we're just assuming that\nwe've already made the data call,\n\n254\n00:16:30.168 --> 00:16:32.864\nwe've got the messages that we expect for\na particular room back.\n\n255\n00:16:32.864 --> 00:16:35.316\nAnd now we want to render\nthose appropriately.\n\n256\n00:16:35.316 --> 00:16:41.010\nSo how are we going to do that?\n\n257\n00:16:41.010 --> 00:16:43.845\nHm, let's see here.\n\n258\n00:16:43.845 --> 00:16:48.559\nIf I come over here to the ChatPanel,\nI have the SendMessageForm,\n\n259\n00:16:48.559 --> 00:16:51.022\nwe'll worry about that shortly.\n\n260\n00:16:51.022 --> 00:16:54.862\nThis MessageList, so\nwhat am I gonna get in the MessageList?\n\n261\n00:16:54.862 --> 00:16:58.060\nWell, I'm gonna get all of the messages,\nso I'm gonna go ahead and\n\n262\n00:16:58.060 --> 00:17:01.166\nchange that to a destructured prop,\nmessages.\n\n263\n00:17:01.166 --> 00:17:05.140\nAnd I'm gonna pass that into\nthe MessageList like so,\n\n264\n00:17:05.140 --> 00:17:08.630\nbut that means the ChatPanel has\nto have the messages as well.\n\n265\n00:17:08.630 --> 00:17:12.348\nSo I'm gonna back trace to the app and\nsay, hey,\n\n266\n00:17:12.348 --> 00:17:18.270\nthe ChatPanel needs a messages prompt\nthat is {this.state.messages}.\n\n267\n00:17:18.270 --> 00:17:22.986\nSo if we come and we see if that's being\ntraced down with our new dev tools,\n\n268\n00:17:22.986 --> 00:17:27.645\nwe can actually come over here to\nthe MainPanel, come to the ChatPanel.\n\n269\n00:17:29.590 --> 00:17:32.768\nAnd if I click,\nnotice the ChatPanel has props read only.\n\n270\n00:17:32.768 --> 00:17:37.000\nAll props should always be read only,\nyou shouldn't notify props.\n\n271\n00:17:37.000 --> 00:17:40.580\nWe should pass on copies\nif you need to be.\n\n272\n00:17:40.580 --> 00:17:44.308\nAnd then the MessageList\nitself has those messages, so\n\n273\n00:17:44.308 --> 00:17:49.161\nwe have made sure to pass all of those\ndown to the MessageList component.\n\n274\n00:17:49.161 --> 00:17:53.170\nWhich is good, and\nthe React dev tools helps us with that.\n\n275\n00:17:53.170 --> 00:17:55.200\nNow if you're like,\nwhere did he get those tools?\n\n276\n00:17:55.200 --> 00:17:58.530\nDefinitely go check out previous\nepisodes where we learned how to persist\n\n277\n00:17:58.530 --> 00:18:01.340\nour log in, where we actually\ninstalled the React dev tools so\n\n278\n00:18:01.340 --> 00:18:04.150\nwe could check out log in states.\n\n279\n00:18:04.150 --> 00:18:08.770\nSo our messages are here, and\nnow this is just another list item.\n\n280\n00:18:08.770 --> 00:18:10.300\nThat's what I'm thinking.\n\n281\n00:18:10.300 --> 00:18:14.880\nYou know what, yeah,\nwe're good, I got this.\n\n282\n00:18:16.030 --> 00:18:20.420\nSo there's our ul, and\nthen what are we gonna put in this ul?\n\n283\n00:18:21.690 --> 00:18:25.684\nWell, bunch of list items based on,\nwell, the rooms.\n\n284\n00:18:25.684 --> 00:18:28.613\nSo inside of here,\n\n285\n00:18:28.613 --> 00:18:33.340\nbecause we're giving\nmessages as an object.\n\n286\n00:18:34.610 --> 00:18:38.150\nWe're gonna have to do something\nvery similar to the RoomList.\n\n287\n00:18:38.150 --> 00:18:42.185\nNow if we go back and look at the\nRoomList, well there's a particular room,\n\n288\n00:18:42.185 --> 00:18:45.800\nbut the RoomList has this\nobject.keys.map room key.\n\n289\n00:18:45.800 --> 00:18:49.253\nOkay, well we're gonna do something\nvery similar to the messages,\n\n290\n00:18:49.253 --> 00:18:51.883\nbecause they are also\nobjects with key value pairs.\n\n291\n00:18:51.883 --> 00:18:56.247\nSo Object.keys(messages), and\n\n292\n00:18:56.247 --> 00:19:00.892\nI'm gonna map over each messageKey and\n\n293\n00:19:00.892 --> 00:19:07.939\nreturn a new object where I\nkinda flatten those out, okay?\n\n294\n00:19:07.939 --> 00:19:12.221\nSo I'm gonna say spread\n\n295\n00:19:12.221 --> 00:19:17.580\nthe messages, messageKey.\n\n296\n00:19:17.580 --> 00:19:21.830\nNow just to reiterate, this is the object\nspread which is only available because we\n\n297\n00:19:21.830 --> 00:19:25.110\nhave some presets which are very\ncommon in the React world.\n\n298\n00:19:25.110 --> 00:19:28.570\nThis isn't technically\navailable in ES 2015, but\n\n299\n00:19:28.570 --> 00:19:32.112\nthis kind of destructures this object and\nputs it there.\n\n300\n00:19:32.112 --> 00:19:36.833\nAnd then anything after that spread will\nwrite over, so reading left to right,\n\n301\n00:19:36.833 --> 00:19:39.651\nif things on the right\nwill also update a value,\n\n302\n00:19:39.651 --> 00:19:44.920\nthat key value pair will change based on\nthe right most object or key value pair.\n\n303\n00:19:44.920 --> 00:19:50.102\nSo we want an ID of messageKey.\n\n304\n00:19:50.102 --> 00:19:55.162\nOkay, so I also want to map\nback over those messages and\n\n305\n00:19:55.162 --> 00:19:57.693\nI just wanna get a message.\n\n306\n00:19:57.693 --> 00:20:03.051\nBut for now I'm just gonna create an LI,\n\n307\n00:20:03.051 --> 00:20:10.843\nand like so, and to say, message.text.\n\n308\n00:20:10.843 --> 00:20:12.770\nNow that's based on our data model,\n\n309\n00:20:12.770 --> 00:20:14.480\nsomething that we're\ngonna have to remember.\n\n310\n00:20:14.480 --> 00:20:18.390\nAnd I also remember that React\nrequires us to have a key.\n\n311\n00:20:18.390 --> 00:20:21.690\nSo this is message.id because\nI know those are unique.\n\n312\n00:20:21.690 --> 00:20:24.610\nAnd those come from the previous map.\n\n313\n00:20:24.610 --> 00:20:25.991\nNow if I've done everything correctly,\n\n314\n00:20:25.991 --> 00:20:27.691\nwe should actually see\nthese messages render out.\n\n315\n00:20:27.691 --> 00:20:30.796\nMessage is not defined.\n\n316\n00:20:30.796 --> 00:20:35.320\nWell, that's on line 17, and\n\n317\n00:20:35.320 --> 00:20:42.490\nif I look here, for each message,\nhad a little extra letter there.\n\n318\n00:20:42.490 --> 00:20:44.029\nSo if I come here, hello everyone, hello.\n\n319\n00:20:44.029 --> 00:20:48.386\nSo we now have the messageList\nkind of rendered out, but\n\n320\n00:20:48.386 --> 00:20:51.908\nreally what we want is\nnot just a standard LI,\n\n321\n00:20:51.908 --> 00:20:57.650\nwe want this to be a full,\neverything's kind of spread out message.\n\n322\n00:20:57.650 --> 00:21:02.285\nSo instead I'm gonna change\nthis to a message like so, and\n\n323\n00:21:02.285 --> 00:21:10.310\nI'm just gonna give this a key and\nmake this a self closing tag.\n\n324\n00:21:10.310 --> 00:21:14.710\nThat means I have to build a smaller\ncomponent called a message, and\n\n325\n00:21:14.710 --> 00:21:19.720\nthat's going to take some props,\nand what props do I want?\n\n326\n00:21:19.720 --> 00:21:23.640\nWell, I need not only,\n\n327\n00:21:23.640 --> 00:21:27.980\nI really just need the entire message.\n\n328\n00:21:29.070 --> 00:21:32.706\nSo let's say message=message.\n\n329\n00:21:32.706 --> 00:21:37.613\nIt's a message component that has\na message prop that gets passed\n\n330\n00:21:37.613 --> 00:21:40.580\nin under the prop name message, okay?\n\n331\n00:21:40.580 --> 00:21:43.340\nSo I'm just passing that\ndata along from here.\n\n332\n00:21:45.130 --> 00:21:47.670\nIf I grab message off of this, and\n\n333\n00:21:47.670 --> 00:21:51.610\nI'm gonna now make this one\nwhere I have a return statement,\n\n334\n00:21:51.610 --> 00:21:56.260\ncuz there is some decision making\nI think will need to happen.\n\n335\n00:21:56.260 --> 00:21:58.012\nBut let's just console.log,\n\n336\n00:21:58.012 --> 00:22:02.150\nwe don't really have to do that\nbecause we have the React dev tools.\n\n337\n00:22:02.150 --> 00:22:10.330\nSo I'm just gonna li, and\nmake it appear exactly like we wanted it.\n\n338\n00:22:10.330 --> 00:22:12.790\nSo message.text, like so.\n\n339\n00:22:12.790 --> 00:22:14.740\nSo, here we go, did I?\n\n340\n00:22:14.740 --> 00:22:22.250\nYep and let's go inspect MainPanel,\nChatPanel, there's our MessageList.\n\n341\n00:22:22.250 --> 00:22:24.980\nAnd then our messageKey, which is m100.\n\n342\n00:22:24.980 --> 00:22:27.872\nNow these are guaranteed unique\nby Firebase, we mock these in, so\n\n343\n00:22:27.872 --> 00:22:28.450\nthere we go.\n\n344\n00:22:28.450 --> 00:22:33.733\nAnd if we look, if we click here we get\na message which has the author created,\n\n345\n00:22:33.733 --> 00:22:38.878\nemail ID, and room number that it's\nassociated with and the text, okay?\n\n346\n00:22:38.878 --> 00:22:43.750\nSo the text is there, and really what\nwe need to do now is do a little bit\n\n347\n00:22:43.750 --> 00:22:47.207\nof styling,\na little bit of additional markup.\n\n348\n00:22:47.207 --> 00:22:50.237\nBut Peter,\nI know we're not quite to the end,\n\n349\n00:22:50.237 --> 00:22:54.357\nbut I think this is a really good\nstopping point to come back with\n\n350\n00:22:54.357 --> 00:22:58.220\na part two to continue on with\nbuilding out the ChatPanel.\n\n351\n00:22:58.220 --> 00:23:02.430\nCuz as I said before, it's a little\nmore involved than one would think.\n\n352\n00:23:02.430 --> 00:23:05.350\n&gt;&gt; So what you're saying is\nthe ChatPanel will take two episodes?\n\n353\n00:23:05.350 --> 00:23:07.322\n&gt;&gt; Maybe two, maybe three, who knows?\n\n354\n00:23:07.322 --> 00:23:09.650\n17, I don't know.\n\n355\n00:23:09.650 --> 00:23:13.910\nNo, I think we'll be able to get\nessentially a stopping point.\n\n356\n00:23:13.910 --> 00:23:16.550\nAnd maybe we're still\nworking on the ChatPanel, but\n\n357\n00:23:16.550 --> 00:23:19.640\nin a different kind of focus after that.\n\n358\n00:23:19.640 --> 00:23:22.730\n&gt;&gt; Well, I think a good\ndeveloper is never truly done.\n\n359\n00:23:22.730 --> 00:23:24.650\nBut we're clearly not done yet.\n\n360\n00:23:24.650 --> 00:23:28.330\nSo we do have some work to do, and\nespecially making it look good.\n\n361\n00:23:28.330 --> 00:23:32.930\nAnd people are kind of use to a certain\nway that these apps look and they know how\n\n362\n00:23:32.930 --> 00:23:35.250\nto use them based on that, so\nwe definitely wanna get it to that point.\n\n363\n00:23:35.250 --> 00:23:39.070\nBut it's gonna have to wait for\nthe next episode, so I'll go ahead and\n\n364\n00:23:39.070 --> 00:23:40.140\nwrap this one up.\n\n365\n00:23:40.140 --> 00:23:43.040\nSigning off for DevProTV,\nI've been your host Peter VanRysdam.\n\n366\n00:23:43.040 --> 00:23:44.515\n&gt;&gt; And I'm Justin Dennison.\n&gt;&gt; And we'll see you next time.\n\n367\n00:23:44.515 --> 00:23:50.225\n[MUSIC]\n\n",
          "vimeoId": "230618982"
        },
        {
          "description": "Justin and Zach cover building the Chat Panel, Chatem, chat panel components, render message list, grid layout, UI implementation, UL, message list, and Moment js.",
          "length": "1228",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-10-1-2-building_the_chat_panel_pt2-082317-PGM.00_20_16_27.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-10-1-2-building_the_chat_panel_pt2-082317-PGM.00_20_16_27.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-10-1-2-building_the_chat_panel_pt2-082317-PGM.00_20_16_27.Still001-sm.jpg",
          "title": "Building the Chat Panel Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.765 --> 00:00:16.170\nHello and thank you for\nwatching DEVPRO.TV.\n\n3\n00:00:16.170 --> 00:00:21.660\nI'm your host Zach Memos and we're going\ninto Check App with react and Firebase.\n\n4\n00:00:21.660 --> 00:00:26.154\nThis particular episode is\nbuilding the chat panel part two.\n\n5\n00:00:26.154 --> 00:00:29.845\nBrought to you by Justin Dennison,\nthe San Francisco treat.\n\n6\n00:00:29.845 --> 00:00:31.521\n&gt;&gt; [LAUGH] I don't know about that.\n\n7\n00:00:31.521 --> 00:00:33.759\n&gt;&gt; [LAUGH]\n&gt;&gt; I think that's Rice a Roni is that.\n\n8\n00:00:33.759 --> 00:00:35.681\n&gt;&gt; Yeah.\n&gt;&gt; But we're gonna leave it be and\n\n9\n00:00:35.681 --> 00:00:36.676\nhow are you today?\n\n10\n00:00:36.676 --> 00:00:38.925\n&gt;&gt; Well I'm in a great mood and\nI'm very excited.\n\n11\n00:00:38.925 --> 00:00:41.512\nAnd this is a very exciting topic so\nI'd love to see what you're doing with it.\n\n12\n00:00:41.512 --> 00:00:45.085\n&gt;&gt; All right Zack, I think the best thing\nto do is well, let's just do a little bit\n\n13\n00:00:45.085 --> 00:00:49.295\nof review because you haven't been here\n[CROSSTALK] for most of this construction.\n\n14\n00:00:49.295 --> 00:00:52.311\nSo if you're just now joining us,\nZach knows exactly how you feel.\n\n15\n00:00:52.311 --> 00:00:56.316\nHe's just kinda wild eye me like but\n\n16\n00:00:56.316 --> 00:01:00.653\nlet's do a quick overview\nof where we left off.\n\n17\n00:01:00.653 --> 00:01:06.100\nSo if you take a look at my screen here,\nstyling still a little bit of an issue.\n\n18\n00:01:06.100 --> 00:01:08.510\nBut it's all about functionality for me.\n\n19\n00:01:08.510 --> 00:01:11.191\nI'm definitely a functionality\nreform kind of individual.\n\n20\n00:01:11.191 --> 00:01:15.980\nSo If we click jokes and we click generals\nso we can actually select a room.\n\n21\n00:01:15.980 --> 00:01:19.590\nWe haven't we have some data stuff that\nwe have to come back and clean up but for\n\n22\n00:01:19.590 --> 00:01:23.770\nnow were still building the UI,\ntrying to get that portion figured out.\n\n23\n00:01:24.850 --> 00:01:29.910\nOkay so we have the UI kind of working and\nthis is what I'm calling the chat panel.\n\n24\n00:01:29.910 --> 00:01:33.942\nNow the chat panel is composed of\na send message form, it's more or\n\n25\n00:01:33.942 --> 00:01:35.388\nless just an input box.\n\n26\n00:01:35.388 --> 00:01:39.349\nWe could have made it just a simple input\nat the bottom but I built it as a separate\n\n27\n00:01:39.349 --> 00:01:43.890\ncomponent just in case maybe there's\na little modal or a quick little message.\n\n28\n00:01:43.890 --> 00:01:45.635\nThere's other ways to reuse it and\n\n29\n00:01:45.635 --> 00:01:49.796\nthen the top is the actual message list\nthat are composed of individual messages.\n\n30\n00:01:49.796 --> 00:01:55.040\nIt doesn't look like a lot except I can\nlog out and I can also log back in.\n\n31\n00:01:55.040 --> 00:01:59.510\nSo j@j.com and then 1, 2, 3, 4, 5, 6.\n\n32\n00:01:59.510 --> 00:02:03.235\nSo if I log back in I now have\nthe messages for a particular room.\n\n33\n00:02:03.235 --> 00:02:06.473\nNow, there's a few other things\nthat we have to wire up, but\n\n34\n00:02:06.473 --> 00:02:09.390\nwe left off after working\non this chat panel.\n\n35\n00:02:09.390 --> 00:02:13.894\nThe chat panel as I said in episode one\nit may take a little bit longer than,\n\n36\n00:02:13.894 --> 00:02:17.965\nwell you realize, I realize most\ndefinitely that Zach realizes,\n\n37\n00:02:17.965 --> 00:02:21.941\nhe doesn't even realize it yet [CROSSTALK]\n&gt;&gt; I'm just gonna grab a bowel of Rice\n\n38\n00:02:21.941 --> 00:02:23.654\na Roni and sit back, relax and watch you.\n\n39\n00:02:23.654 --> 00:02:25.630\n&gt;&gt; There you go I would be very careful.\n\n40\n00:02:25.630 --> 00:02:27.779\nI like the butter and garlic ones.\n\n41\n00:02:27.779 --> 00:02:31.360\nBut let's go ahead and take a look at\nthe code and see where we left off there.\n\n42\n00:02:31.360 --> 00:02:34.660\nSo, if I come over here we\nhave all of this chat panel.\n\n43\n00:02:34.660 --> 00:02:36.350\nWe have the send message form.\n\n44\n00:02:36.350 --> 00:02:41.911\nWe have so there's send a message, if we\ncome over here that's actually right here.\n\n45\n00:02:41.911 --> 00:02:43.450\nSo, the styling is not great.\n\n46\n00:02:43.450 --> 00:02:46.772\nWe're gonna fix that and\nthen we have an individual message and\n\n47\n00:02:46.772 --> 00:02:48.598\na message list end the ChatPanel.\n\n48\n00:02:48.598 --> 00:02:52.859\nNow, I am gonna go ahead and take a quick\naside just to clean this up a little bit\n\n49\n00:02:52.859 --> 00:02:57.040\nbecause right now we've got a lot of\nthings going on and this is okay.\n\n50\n00:02:57.040 --> 00:02:59.004\nThis works for me,\nmaybe it doesn't for you.\n\n51\n00:02:59.004 --> 00:03:02.979\nWhen I am first starting to build\nsomething, but before it gets too complex\n\n52\n00:03:02.979 --> 00:03:06.970\nI go ahead and pull those pieces\napart Into respective components.\n\n53\n00:03:06.970 --> 00:03:10.510\nSo we're gonna do that real quick and\nthen we're gonna come back and for\n\n54\n00:03:10.510 --> 00:03:11.980\nthe most part the chat panel,\n\n55\n00:03:11.980 --> 00:03:15.950\nwell that's a functional stateless\ncomponent, this is all I need.\n\n56\n00:03:17.050 --> 00:03:19.770\nBut for the other ones we're still\ngonna need to do some tweaking,\n\n57\n00:03:19.770 --> 00:03:23.220\nadd some CSS In order to\nget the styling just right.\n\n58\n00:03:23.220 --> 00:03:26.510\nSo we'll work on that but let's put\nthese in to individual components first.\n\n59\n00:03:26.510 --> 00:03:31.753\nSo, I'm in chat-em and\nthen I'm gonna go into source and\n\n60\n00:03:31.753 --> 00:03:37.533\nI'm gonna create MessageList as\nwell as SendMesageForm.js so\n\n61\n00:03:37.533 --> 00:03:40.539\nthose are my two new components.\n\n62\n00:03:41.870 --> 00:03:45.720\nSo I'm gonna open these up,\nso send message form and\n\n63\n00:03:45.720 --> 00:03:48.980\nthe actual message list and\nthen I'm just gonna grab those\n\n64\n00:03:48.980 --> 00:03:53.300\nfrom the chat panel component and\nuphold those into their respective ones.\n\n65\n00:03:53.300 --> 00:03:58.100\nNow, in the meantime we're gonna break\nsome stuff, as we've seen before.\n\n66\n00:03:58.100 --> 00:03:59.089\n&gt;&gt; I love breaking things.\n\n67\n00:03:59.089 --> 00:04:07.750\n&gt;&gt; It is fine, so, we're gonna import\nreact before we forget from react.\n\n68\n00:04:07.750 --> 00:04:12.410\nNow, since these are both functional\nstateless components, I don't\n\n69\n00:04:12.410 --> 00:04:16.570\nneed the component portions because\nthese are not class based components.\n\n70\n00:04:16.570 --> 00:04:19.510\nHowever I do need to\nremember to export default\n\n71\n00:04:20.800 --> 00:04:24.050\nthe message list because that's what\nI'm gonna be using in other ones.\n\n72\n00:04:24.050 --> 00:04:27.679\nNo just a quick reminder,\nwe've seen this a couple of times before,\n\n73\n00:04:27.679 --> 00:04:31.150\nI have a message component and\nI have a message list.\n\n74\n00:04:31.150 --> 00:04:35.260\nEven though I call this a message list I\nhave two components to find in this file,\n\n75\n00:04:35.260 --> 00:04:36.020\nright this module.\n\n76\n00:04:37.490 --> 00:04:41.390\nBut really this is just a helper in\norder to render the message list.\n\n77\n00:04:41.390 --> 00:04:45.170\nI wouldn't render a message\noutside of the MessageList so\n\n78\n00:04:45.170 --> 00:04:48.419\nI'm just gonna keep it\ninternal to the same file.\n\n79\n00:04:48.419 --> 00:04:54.628\nNow that I have that, allow me to come\nback up here and actually import that so\n\n80\n00:04:54.628 --> 00:04:59.578\nI need to import MessageList\nfrom ./MessageList like so,\n\n81\n00:04:59.578 --> 00:05:05.520\nnow obviously capitalization matters\nmake sure you keep an eye on that.\n\n82\n00:05:05.520 --> 00:05:07.790\nLet's go back and\nsee if we've broken anything and\n\n83\n00:05:07.790 --> 00:05:10.860\nhey, we've actually\nextracted message lists.\n\n84\n00:05:10.860 --> 00:05:11.954\nNothing's broke, now,\n\n85\n00:05:11.954 --> 00:05:14.639\nif we'd have come over here in\nthe meantime while I was saving and\n\n86\n00:05:14.639 --> 00:05:18.137\nmoving things around, and I'm in the\nmiddle, things probably would have broke.\n\n87\n00:05:18.137 --> 00:05:19.860\nBut looks like we're all good to go.\n\n88\n00:05:19.860 --> 00:05:23.488\nNow, we're gonna do the exact\nsame thing for SendForm, and\n\n89\n00:05:23.488 --> 00:05:27.557\nthat's just because, well I like\nto keep things a little cleaner.\n\n90\n00:05:27.557 --> 00:05:32.485\nNow, notice this chat panel gets\na lot cleaner when I start pulling\n\n91\n00:05:32.485 --> 00:05:34.790\nthese into individual files.\n\n92\n00:05:34.790 --> 00:05:39.720\nNow, the files themselves can become\nkind of unruly, as far as the number.\n\n93\n00:05:39.720 --> 00:05:44.130\nAnd if we look, we can see that\nmy Source folder has a lot of,\n\n94\n00:05:44.130 --> 00:05:46.270\njust flat files in it.\n\n95\n00:05:46.270 --> 00:05:47.592\nFor something like this,\n\n96\n00:05:47.592 --> 00:05:51.873\neven though there's more complexity here\nthan we originally thought there may be.\n\n97\n00:05:51.873 --> 00:05:56.114\nI'm okay with this, however,\nif it starts to get very large or\n\n98\n00:05:56.114 --> 00:06:00.930\nyou have other state management,\nright, other than using Firebase.\n\n99\n00:06:00.930 --> 00:06:04.110\nMaybe we're making API calls,\nand we're building libraries, and\n\n100\n00:06:04.110 --> 00:06:05.690\nthings of that nature.\n\n101\n00:06:05.690 --> 00:06:10.310\nWe will probably wanna create folders\nto hold these individual components,\n\n102\n00:06:10.310 --> 00:06:14.230\nnot individual components, but\nexcuse me the individual files that\n\n103\n00:06:14.230 --> 00:06:16.120\nare kind of collectively in a group,\nall right?\n\n104\n00:06:16.120 --> 00:06:20.713\nAll of my utility functions or utility\nmodules would go in the utils folder or\n\n105\n00:06:20.713 --> 00:06:24.920\nsome times I've seen them in\nthe l-i-b folder for library.\n\n106\n00:06:24.920 --> 00:06:28.070\nOr you could have what are called\ncontainer components and\n\n107\n00:06:28.070 --> 00:06:31.260\nwell our main panel is\na container component so\n\n108\n00:06:31.260 --> 00:06:33.850\nthat would be in containers and\nthen things of that nature.\n\n109\n00:06:33.850 --> 00:06:38.770\nSo just keep that in mind that it's a\nlittle unruly we have just this flat file\n\n110\n00:06:38.770 --> 00:06:43.880\nstructure but I'm okay with it now because\nI know we're really close to the kind\n\n111\n00:06:43.880 --> 00:06:47.920\nof final UI implementation and\nI can manage it fairly well.\n\n112\n00:06:47.920 --> 00:06:52.780\nSo let's go and jump back in here and\nwell I'm gonna zoom out so\n\n113\n00:06:52.780 --> 00:06:54.270\nwe can actually see things.\n\n114\n00:06:54.270 --> 00:06:56.180\nAnd now I have this send message form.\n\n115\n00:06:56.180 --> 00:07:02.729\nSo I'm gonna import, react, and component.\n\n116\n00:07:02.729 --> 00:07:08.132\nFrom react Excel, all right, and\nthen I'm going to come to the bottom,\n\n117\n00:07:08.132 --> 00:07:12.488\nand if we scroll by,\nover here things are broke right now.\n\n118\n00:07:12.488 --> 00:07:18.062\nBecause we haven't kind of split apart and\nre unified everything,\n\n119\n00:07:18.062 --> 00:07:23.065\nso I'm going to export default,\nsend message form like so.\n\n120\n00:07:23.065 --> 00:07:26.706\nThen we come back to the chat panel and\n\n121\n00:07:26.706 --> 00:07:33.240\nimport SendMessageForm from\nSendMessageForm, just like so.\n\n122\n00:07:33.240 --> 00:07:36.420\nSo now we have these individual pieces.\n\n123\n00:07:36.420 --> 00:07:39.281\nIf everything's good,\nwe're back to square one.\n\n124\n00:07:39.281 --> 00:07:42.190\nYou just do a lot of work to\nget the exact same thing.\n\n125\n00:07:42.190 --> 00:07:46.840\nYeah, however, now in chat panel it's\njust this individual piece that is\n\n126\n00:07:46.840 --> 00:07:49.160\na MessageList and a SendMessageForm.\n\n127\n00:07:49.160 --> 00:07:50.240\nThat's what makes up the ChatPanel.\n\n128\n00:07:51.730 --> 00:07:52.942\nWhat about SendMessageForm?\n\n129\n00:07:52.942 --> 00:07:54.390\nIt's just this form.\n\n130\n00:07:54.390 --> 00:07:55.605\nWhat about the MessageList?\n\n131\n00:07:55.605 --> 00:07:57.931\nIt's just this message list, right?\n\n132\n00:07:57.931 --> 00:08:01.536\nSo let's start with the MessageList.\n\n133\n00:08:01.536 --> 00:08:03.780\nAnd see if we can get that\nrendered down appropriately.\n\n134\n00:08:03.780 --> 00:08:06.760\nNow a quick reminder,\nlet get that out of the way there.\n\n135\n00:08:06.760 --> 00:08:13.222\nSo if we come over here, Our messages,\nwell they have this shape right now and\n\n136\n00:08:13.222 --> 00:08:18.340\nfor now, we're just kind of mocking these\nin, these aren't coming from Firebase.\n\n137\n00:08:18.340 --> 00:08:20.260\nWe haven't got there yet.\n\n138\n00:08:20.260 --> 00:08:24.590\nWe'll kind of go UI and\ncircle back around and add some data.\n\n139\n00:08:24.590 --> 00:08:27.752\nUI circle back around and add some data.\n\n140\n00:08:27.752 --> 00:08:30.080\nSo you'll have to bear with me,\nit's one of those,\n\n141\n00:08:30.080 --> 00:08:32.930\nyou have to do a lot to get\neverything to kind of come together.\n\n142\n00:08:32.930 --> 00:08:36.310\nSo there we have our individual messages,\nand\n\n143\n00:08:36.310 --> 00:08:37.670\nthat's what's showing on the screen now.\n\n144\n00:08:37.670 --> 00:08:38.840\nHello everyone, hello.\n\n145\n00:08:40.480 --> 00:08:42.680\nSo if we come over here\nto the message list.\n\n146\n00:08:42.680 --> 00:08:45.990\nHm.\nI have a message, right.\n\n147\n00:08:45.990 --> 00:08:47.810\nAnd this is a UL.\n\n148\n00:08:47.810 --> 00:08:48.970\nI have some\n\n149\n00:08:48.970 --> 00:08:51.800\nnotes here that I have to find in order to\n&gt;&gt; [LAUGH]\n\n150\n00:08:51.800 --> 00:08:55.450\n&gt;&gt; In order to make this rather\n\n151\n00:08:55.450 --> 00:08:56.997\nfluid instead of me going\n&gt;&gt; [LAUGH]\n\n152\n00:08:56.997 --> 00:08:59.045\n&gt;&gt; Zack, I'm gonna try a bunch of things\n\n153\n00:08:59.045 --> 00:09:00.718\nand hopefully they'll work.\n\n154\n00:09:00.718 --> 00:09:04.320\n&gt;&gt; That's that live-action\ndebugging you're famous for!\n\n155\n00:09:04.320 --> 00:09:06.180\n&gt;&gt; Yeah, I only do that when I have to.\n\n156\n00:09:06.180 --> 00:09:10.880\nI don't like doing that, but\nit's a valuable learning experience.\n\n157\n00:09:10.880 --> 00:09:12.210\n&gt;&gt; It is.\n&gt;&gt; We will make use of it-\n\n158\n00:09:12.210 --> 00:09:13.050\n&gt;&gt; Teachable moment.\n\n159\n00:09:13.050 --> 00:09:17.310\n&gt;&gt; When, when we need to, but if we can\navoid it, we will try to do that as well.\n\n160\n00:09:17.310 --> 00:09:18.800\nSo, let's talk about the message list.\n\n161\n00:09:18.800 --> 00:09:25.290\nThe message list is this unordered list\nand I kinda want it to be the full\n\n162\n00:09:25.290 --> 00:09:30.630\nheight of the actual panel, right?\n\n163\n00:09:30.630 --> 00:09:34.980\nSo if I come over here right now\nthe message list ends right here.\n\n164\n00:09:34.980 --> 00:09:40.230\nSo if I look and inspect,\njust like so, and\n\n165\n00:09:40.230 --> 00:09:46.130\nI look, notice that, that's it, that's\nall we get, a tiny little piece there.\n\n166\n00:09:46.130 --> 00:09:51.060\nIt's not quite what we want,\ninstead we want it to be more or\n\n167\n00:09:51.060 --> 00:09:55.286\nless, close to the four when we\nneed some bottom portions for\n\n168\n00:09:55.286 --> 00:09:59.680\nthe sent message form.\n\n169\n00:09:59.680 --> 00:10:03.190\nSo we're gonna add some inline\nstyles just because I want to tweak\n\n170\n00:10:03.190 --> 00:10:07.320\njust this individual ul, I'm not gonna\ncreate a class or anything like that.\n\n171\n00:10:07.320 --> 00:10:09.170\nSo I'm gonna come over here.\n\n172\n00:10:09.170 --> 00:10:14.435\nAnd for this UL, I'm gonna say style\n= {{}} that's because the outer curly\n\n173\n00:10:14.435 --> 00:10:19.857\nbraces are evaluating JavaScript, the\ninner curly braces again, as a reminder,\n\n174\n00:10:19.857 --> 00:10:24.135\nare what's actually creating\nthe key value pairs for the style.\n\n175\n00:10:24.135 --> 00:10:28.655\nI'm gonna say the height is 90,\nessentially 90% of the view heights.\n\n176\n00:10:28.655 --> 00:10:33.383\nSo whatever the view that we see,\nit's gonna be 90% of that.\n\n177\n00:10:33.383 --> 00:10:37.300\nSo if we come over here and notice that\nsend a message is down here at the bottom.\n\n178\n00:10:37.300 --> 00:10:41.650\nNow have a little bit of scroll that we\nmay have to tweak out of there eventually\n\n179\n00:10:41.650 --> 00:10:43.000\nbut I'm okay with that for now.\n\n180\n00:10:43.000 --> 00:10:48.160\nSo if I look and\nI actually make our selection.\n\n181\n00:10:48.160 --> 00:10:50.877\nThere's our UL.\n\n182\n00:10:50.877 --> 00:10:55.294\nNow that we have our UL, I'm going to\ngo and change the individual message\n\n183\n00:10:55.294 --> 00:10:59.740\ncomponent because I don't want\njust a standard list item.\n\n184\n00:10:59.740 --> 00:11:06.030\nI want, instead, for\nthis to be in some styled niceness.\n\n185\n00:11:06.030 --> 00:11:08.820\nRemember, we're using in order to do this.\n\n186\n00:11:08.820 --> 00:11:12.840\nSo, in the meantime, that will not work.\n\n187\n00:11:12.840 --> 00:11:16.350\nMy shortcuts on my editor,\nI have it set up, shortcuts for react.\n\n188\n00:11:16.350 --> 00:11:23.000\nI'm going to create a div\nwith a class name of columns,\n\n189\n00:11:25.520 --> 00:11:31.770\njust like so, and so\neach of these messages are going to be,\n\n190\n00:11:31.770 --> 00:11:37.740\nI'm in the wrong place\ninside of this li excuse me.\n\n191\n00:11:37.740 --> 00:11:38.956\nFor each list item.\n\n192\n00:11:40.863 --> 00:11:42.320\nI am going to create a div.\n\n193\n00:11:44.050 --> 00:11:47.510\nWith a class name of columns.\n\n194\n00:11:47.510 --> 00:11:51.748\nAnd that's to provide us with the grid\nlayout that we've been using through this\n\n195\n00:11:51.748 --> 00:11:52.322\nproject.\n\n196\n00:11:54.058 --> 00:11:58.960\nSo we have this div and\nwe're gonna make sure we close that out.\n\n197\n00:11:58.960 --> 00:12:02.233\nAnd then, inside that div,\nI wanna create a p tag.\n\n198\n00:12:02.233 --> 00:12:05.767\nAnd this is gonna have\na className of column.\n\n199\n00:12:09.936 --> 00:12:15.260\nIs three quarters because I want\nit to take out three quarters of.\n\n200\n00:12:15.260 --> 00:12:16.757\nThis div is kind of laid out.\n\n201\n00:12:20.947 --> 00:12:24.983\nAnd that's it for that one.\n\n202\n00:12:24.983 --> 00:12:27.840\nAnd then that's actually where\nwe're gonna put our message text.\n\n203\n00:12:27.840 --> 00:12:32.270\nSo message.txt, and here's our P tag,\n\n204\n00:12:33.540 --> 00:12:37.350\nour closing P tag And\nthen right under there,\n\n205\n00:12:37.350 --> 00:12:43.260\nwe are gonna create a column\nthat it contains a p tag.\n\n206\n00:12:43.260 --> 00:12:45.910\nOkay, so\narranging this a little bit differently so\n\n207\n00:12:45.910 --> 00:12:47.970\njust I can move things about.\n\n208\n00:12:47.970 --> 00:12:49.641\nSo, gonna create a div.\n\n209\n00:12:51.151 --> 00:12:56.226\nAs a class name of column and inside of\n\n210\n00:12:56.226 --> 00:13:01.630\nthat div I'm gonna create another p tag\n\n211\n00:13:01.630 --> 00:13:06.590\nthat has a class name of is-light.\n\n212\n00:13:06.590 --> 00:13:11.698\nNow, this is a helper\nmethod inside of Balma that\n\n213\n00:13:11.698 --> 00:13:17.443\nessentially just kinda grays\nthings out a little bit.\n\n214\n00:13:17.443 --> 00:13:22.995\nAnd I'm going to say message.email,\nso whoever wrote this,\n\n215\n00:13:22.995 --> 00:13:30.460\nand at what time did they actually send\nthis message so message.created, like so.\n\n216\n00:13:30.460 --> 00:13:31.110\nOkay?\n\n217\n00:13:31.110 --> 00:13:34.850\nNow, this corresponds to\nthe message data format.\n\n218\n00:13:34.850 --> 00:13:35.990\nThat we have here.\n\n219\n00:13:35.990 --> 00:13:38.200\nSo, let's go see what\nit actually looks like.\n\n220\n00:13:38.200 --> 00:13:39.040\nOkay.\n\n221\n00:13:39.040 --> 00:13:41.230\nSo, that's a little better.\n\n222\n00:13:41.230 --> 00:13:45.400\nIt looks like we\nare missing something here.\n\n223\n00:13:45.400 --> 00:13:48.299\nSo, this is centered columns and\n\n224\n00:13:48.299 --> 00:13:53.500\nthen these individual pieces,\nand then this URL.\n\n225\n00:13:53.500 --> 00:13:54.880\nIt looks like the style.\n\n226\n00:13:58.479 --> 00:14:02.280\nLooks like I need to add\nsomething to the message list.\n\n227\n00:14:02.280 --> 00:14:09.300\nSo I need a class name, Of column.\n\n228\n00:14:09.300 --> 00:14:12.240\nAnd that should, that's a little better.\n\n229\n00:14:12.240 --> 00:14:14.660\nWe'll end up of stretching\nthat out here shortly.\n\n230\n00:14:14.660 --> 00:14:15.670\nWe'll fix that.\n\n231\n00:14:15.670 --> 00:14:18.330\nSo now we have this kind of built out.\n\n232\n00:14:18.330 --> 00:14:24.600\nAnd we have hello, and then who sent it,\nand at what time did they send it, okay?\n\n233\n00:14:25.660 --> 00:14:28.540\nNow, this is just a number.\n\n234\n00:14:28.540 --> 00:14:33.250\nJavaScript dates are actually just\nnumbers, they're giant numbers.\n\n235\n00:14:33.250 --> 00:14:36.810\nWe could solve this ourselves,\n\n236\n00:14:36.810 --> 00:14:41.190\nwrite a bunch of utility functions\nhowever there's a nice MPM a note module.\n\n237\n00:14:41.190 --> 00:14:44.618\nIt's actually a JavaScript library,\nyou could get it outside of MPM,\n\n238\n00:14:44.618 --> 00:14:46.050\nit's called Moment JS.\n\n239\n00:14:46.050 --> 00:14:47.190\nIt helps with this very thing.\n\n240\n00:14:47.190 --> 00:14:50.550\nFormatting and kind of managing dates.\n\n241\n00:14:50.550 --> 00:14:56.875\nSo we're gonna use that to format\nthese in a more friendly way.\n\n242\n00:14:56.875 --> 00:14:58.125\nAnd we get to pick those.\n\n243\n00:14:58.125 --> 00:15:00.275\nSo let's take a look at moment.js.\n\n244\n00:15:00.275 --> 00:15:03.175\nSo this is kind of a cool\ndetour to actually\n\n245\n00:15:03.175 --> 00:15:07.765\nget this laid out a little\nbit better than we want it.\n\n246\n00:15:07.765 --> 00:15:11.035\nIt looks like I've missed something cuz\nthat should feel the remainder of that\n\n247\n00:15:11.035 --> 00:15:14.405\nwidth but that will have to be\nsomething we come back and tweak later.\n\n248\n00:15:15.585 --> 00:15:23.440\nSo if we look,\nwe can come to moment.js and well, there,\n\n249\n00:15:23.440 --> 00:15:27.790\nit's a very simple kind of guide if I can\nactually get this to load, there we go.\n\n250\n00:15:27.790 --> 00:15:31.330\nFormat dates,\nmoment is like a Date object.\n\n251\n00:15:31.330 --> 00:15:37.690\nBut I can give moment this number\nthat is behind the scenes,\n\n252\n00:15:37.690 --> 00:15:43.120\nthe representation of a JavaScript date,\nwhich is Number of\n\n253\n00:15:43.120 --> 00:15:48.870\nmilliseconds since the epoch,\nwhich is January 1st, 1978 at 12 am.\n\n254\n00:15:48.870 --> 00:15:50.919\nCrazy stuff.\n\n255\n00:15:50.919 --> 00:15:54.530\nYou need a reference for dates to-\n&gt;&gt; We all remember that epoch.\n\n256\n00:15:54.530 --> 00:15:55.360\n&gt;&gt; All right, yeah.\n\n257\n00:15:55.360 --> 00:15:56.088\n&gt;&gt; Every one of us.\n\n258\n00:15:56.088 --> 00:15:58.617\n&gt;&gt; I wasn't born, Zach,\nso I don't remember it.\n\n259\n00:15:58.617 --> 00:16:02.229\nIf I traveled back in time,\nI might remember it but\n\n260\n00:16:02.229 --> 00:16:07.217\nI can feed in this number here, and\nthen actually called .format and\n\n261\n00:16:07.217 --> 00:16:11.890\nuse this format strings to get\na kind of a prettified format out.\n\n262\n00:16:11.890 --> 00:16:17.300\nLowercase H is hours, lowercase Ms\nare minutes, lowercase S is of seconds,\n\n263\n00:16:17.300 --> 00:16:22.090\nand then A, well that would be for\nAM PM, okay?\n\n264\n00:16:22.090 --> 00:16:24.980\nSo, we're going to tweak\nthat a little bit.\n\n265\n00:16:24.980 --> 00:16:27.490\nWe're gonna kind of use this as our guide,\nbut\n\n266\n00:16:27.490 --> 00:16:33.320\nbefore we can do that we need to\nMPM install moment, just like that.\n\n267\n00:16:34.800 --> 00:16:36.610\nSo did I type that right?\n\n268\n00:16:36.610 --> 00:16:39.030\nWhile it's installing I should\nprobably go check, right?\n\n269\n00:16:39.030 --> 00:16:41.270\nYep, MPM install moment.\n\n270\n00:16:41.270 --> 00:16:43.890\nNow, I forgot to put the dash dash save.\n\n271\n00:16:43.890 --> 00:16:47.540\nI'm in a new version of MPM.\n\n272\n00:16:47.540 --> 00:16:54.098\nSo if I look at my package.json maybe,\nI'm in the wrong directory.\n\n273\n00:16:54.098 --> 00:16:56.709\nSo if I cd cat package.json, so\n\n274\n00:16:56.709 --> 00:17:01.758\nit still adds a two because\nthat's the default behavior now.\n\n275\n00:17:01.758 --> 00:17:05.791\nIf you're on an old version of MPM, you\nwould have to put the dash dash safe for\n\n276\n00:17:05.791 --> 00:17:07.652\nit to be put in to your node modules,\n\n277\n00:17:07.652 --> 00:17:11.880\nor excuse me your package.json as\na dependency, so keep that in mind.\n\n278\n00:17:11.880 --> 00:17:14.000\nSo now I have moment\navailable in my project.\n\n279\n00:17:15.310 --> 00:17:20.182\nYeah I'm taking on a large dependency\nto manage some dates stuff, but\n\n280\n00:17:20.182 --> 00:17:25.068\nparse and dates, it's not really fun,\nit's kind of a hard problem.\n\n281\n00:17:25.068 --> 00:17:27.049\nIt's not something that I think as value,\n\n282\n00:17:27.049 --> 00:17:30.630\nother than I just wanted it to be\nformatted in this nice pretty way.\n\n283\n00:17:30.630 --> 00:17:34.914\nSo we are gonna use that fact to\nactually just bring it in, and\n\n284\n00:17:34.914 --> 00:17:38.290\nparse out the date, and\nmake it pretty, okay?\n\n285\n00:17:38.290 --> 00:17:41.785\nSo if I come back over here.\n\n286\n00:17:41.785 --> 00:17:43.975\nWhen I come to the top of this file for\nmessage.\n\n287\n00:17:43.975 --> 00:17:49.130\nAnd I am gonna import moment from moment.\n\n288\n00:17:49.130 --> 00:17:51.395\nSo, there we go.\n\n289\n00:17:51.395 --> 00:17:57.352\nAnd then at message created,\nlet me break this up just a little bit.\n\n290\n00:17:59.996 --> 00:18:00.828\nAnd say moment.\n\n291\n00:18:00.828 --> 00:18:07.420\nAnd this message.created is actually\nthat number of milliseconds, okay?\n\n292\n00:18:07.420 --> 00:18:08.641\nI'm pretty sure it's milliseconds.\n\n293\n00:18:08.641 --> 00:18:11.050\nSo I'm starting to second-guess myself.\n\n294\n00:18:11.050 --> 00:18:13.500\nBut I'm just gonna call in line here.\n\n295\n00:18:13.500 --> 00:18:17.709\nI need an H, an MM, and then an A.\n\n296\n00:18:17.709 --> 00:18:21.052\nNow what I've done is that I want an hour,\n\n297\n00:18:21.052 --> 00:18:25.560\nand I want the minutes,\nand I want AM, PM, okay?\n\n298\n00:18:25.560 --> 00:18:27.780\nSo that's what that format string does,\nand\n\n299\n00:18:27.780 --> 00:18:30.530\nif you wanna know more about format\nstrings, you can actually come to\n\n300\n00:18:30.530 --> 00:18:34.580\nthe moment.js/documentation\nwhich are right here.\n\n301\n00:18:34.580 --> 00:18:38.145\nSo like display, how to format text.\n\n302\n00:18:38.145 --> 00:18:43.697\nAnd it gives you a giant list of these\nformat string tokens that you can use,\n\n303\n00:18:43.697 --> 00:18:46.380\nin order to format the date, okay?\n\n304\n00:18:46.380 --> 00:18:49.568\nSo, if we come back over, and we look.\n\n305\n00:18:49.568 --> 00:18:51.490\nNo, we come back over here.\n\n306\n00:18:51.490 --> 00:18:53.460\nWe look, that's actually at 2:17 PM.\n\n307\n00:18:53.460 --> 00:18:57.159\nWell, that's because it's date.now.\n\n308\n00:18:57.159 --> 00:18:58.160\nSo, it's always gonna update.\n\n309\n00:18:58.160 --> 00:19:01.080\nIf I refresh, it's now 2:18.\n\n310\n00:19:01.080 --> 00:19:04.770\nIn the long term,\nwe are gonna be sending this back, right?\n\n311\n00:19:05.812 --> 00:19:09.610\nIn the fire base, so that that date\nwill be persisted for the long term.\n\n312\n00:19:11.280 --> 00:19:13.285\nSo we hand this message list here.\n\n313\n00:19:13.285 --> 00:19:19.280\nWe're good to go on that,\nwe're almost finished with the chat panel.\n\n314\n00:19:19.280 --> 00:19:24.530\nExcept we need to manage\nessentially sending a message,\n\n315\n00:19:24.530 --> 00:19:28.040\nwhich does change how we\nput it into our app state,\n\n316\n00:19:28.040 --> 00:19:32.910\nour overall app component state, and\nkind of passing that down through props.\n\n317\n00:19:32.910 --> 00:19:36.180\nSo it seems like a pretty trivial thing,\nbut I think is that this might\n\n318\n00:19:36.180 --> 00:19:41.050\nbe a good time, even though we're a little\nshorter, I know the ad message form and\n\n319\n00:19:41.050 --> 00:19:43.030\nsome of the clean up is gonna\ntake a little bit longer.\n\n320\n00:19:43.030 --> 00:19:45.720\nSo maybe we'll stop here,\ncome back with a part three so\n\n321\n00:19:45.720 --> 00:19:49.840\nwe can kinda chunk these up into\nlittle bite size morsels, if you will.\n\n322\n00:19:49.840 --> 00:19:50.720\n&gt;&gt; I think it's a great idea.\n\n323\n00:19:50.720 --> 00:19:54.850\nAnd you know a lot of users take it for\ngranted, when they're working in a chat,\n\n324\n00:19:54.850 --> 00:19:58.420\nhow many components there\nare in the background working?\n\n325\n00:19:58.420 --> 00:20:02.640\nSo building the chat panel part three\nis coming up, you've seen part two,\n\n326\n00:20:02.640 --> 00:20:03.750\nthere was a part one.\n\n327\n00:20:03.750 --> 00:20:07.900\nMake sure you watch that and every single\nepisode of chat app with react and\n\n328\n00:20:07.900 --> 00:20:10.160\nfire base because you need to,\nit's good for you.\n\n329\n00:20:10.160 --> 00:20:11.620\nYou'll be glad you did.\n\n330\n00:20:11.620 --> 00:20:15.130\nAnd thank you for watching Dev Pro TV,\nhelping you learn wherever you go,\n\n331\n00:20:15.130 --> 00:20:15.815\nI'm Zach Memos.\n\n332\n00:20:15.815 --> 00:20:18.861\n&gt;&gt; And I'm Justin Dennison\n&gt;&gt; And we'll see you very soon.\n\n333\n00:20:18.861 --> 00:20:24.237\n[MUSIC]\n\n",
          "vimeoId": "230938727"
        },
        {
          "description": "Justin and Zach conclude building the Chat Panel, sending a message to a room, App.js, React application, and Fire.js.",
          "length": "1493",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-10-1-3-building_the_chat_panel_pt3-082317-PGM.00_24_42_07.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-10-1-3-building_the_chat_panel_pt3-082317-PGM.00_24_42_07.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-10-1-3-building_the_chat_panel_pt3-082317-PGM.00_24_42_07.Still001-sm.jpg",
          "title": "Building the Chat Panel Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.294 --> 00:00:14.844\nHello and thank you for\nwatching DEVPro.TV,\n\n3\n00:00:14.844 --> 00:00:16.811\nhelping you learn wherever you go.\n\n4\n00:00:16.811 --> 00:00:21.841\nI'm your host Zach Memos, as we continue\non with Chat App with React and Firebase.\n\n5\n00:00:21.841 --> 00:00:25.030\nThis is part three of\nbuilding the chat panel.\n\n6\n00:00:25.030 --> 00:00:28.210\nThe person bringing us all\nthe information we need is the person who\n\n7\n00:00:28.210 --> 00:00:30.560\nbrought us part one and\npart 2, Justin Dennison.\n\n8\n00:00:30.560 --> 00:00:31.780\nJustin, good to see you again.\n\n9\n00:00:31.780 --> 00:00:34.360\n&gt;&gt; It is good to be back, it would be\nreally weird if there was a different\n\n10\n00:00:34.360 --> 00:00:35.190\nperson-\n&gt;&gt; It would be weird.\n\n11\n00:00:35.190 --> 00:00:38.020\n&gt;&gt; And I was like, hey,\nit's me now, right?\n\n12\n00:00:38.020 --> 00:00:39.050\nHow are you today, Zack?\n\n13\n00:00:39.050 --> 00:00:42.320\n&gt;&gt; I'm great and I'm excited,\nand here we are at part three, so\n\n14\n00:00:42.320 --> 00:00:43.880\nwe can wrap this up a little bit.\n\n15\n00:00:43.880 --> 00:00:47.469\n&gt;&gt; We're gonna try to wrap it up,\nI think, we'll be able to wrap it up.\n\n16\n00:00:47.469 --> 00:00:51.540\nAnd if we really powered through it, we\nprobably could've finished it in part two.\n\n17\n00:00:51.540 --> 00:00:54.918\nBut I like these bite-sized segments,\nwhere I can go, okay,\n\n18\n00:00:54.918 --> 00:00:58.251\nlet me see the transition,\nlet me try to grok this if you will.\n\n19\n00:00:58.251 --> 00:01:00.580\nReally internalize this before we move on.\n\n20\n00:01:00.580 --> 00:01:05.479\nSo, that's kind of my impetus for, well,\nlet's just take a quick aside here.\n\n21\n00:01:05.479 --> 00:01:08.853\nAnd well, sometimes there\nare unforeseen circumstances,\n\n22\n00:01:08.853 --> 00:01:11.640\nsuch as live action debugging\nthat slows us down.\n\n23\n00:01:11.640 --> 00:01:14.700\nSo, it's always better to give ourselves\na time padding than anything else.\n\n24\n00:01:14.700 --> 00:01:19.910\nNow, before we actually handle the sending\na message through a form, right?\n\n25\n00:01:19.910 --> 00:01:22.170\nActually, sending a message to a room.\n\n26\n00:01:23.580 --> 00:01:26.950\nWhat I'm going to do is fix\nthat little bit of styling,\n\n27\n00:01:26.950 --> 00:01:29.370\nbecause I was like,\nwe'll worry about that later.\n\n28\n00:01:29.370 --> 00:01:33.430\nWell, technically it's later, and\nit also bothers me a great deal.\n\n29\n00:01:33.430 --> 00:01:37.532\nSo, we're gonna fix it, and then,\nwe'll worry about it some other time.\n\n30\n00:01:37.532 --> 00:01:38.770\n&gt;&gt; Very cool.\n\n31\n00:01:38.770 --> 00:01:41.680\n&gt;&gt; We'll move on, rather,\nso that one little thing.\n\n32\n00:01:41.680 --> 00:01:43.700\nSo, if we take a look\nat my application here.\n\n33\n00:01:43.700 --> 00:01:48.960\nThis is what I'm talking about,\nthis weird padding that's in the middle.\n\n34\n00:01:48.960 --> 00:01:54.190\nNow, this makes sense if I log out, then I\nhave these two individual pieces, right?\n\n35\n00:01:55.390 --> 00:01:59.000\nSo, if go J@J.com and 123456, and\n\n36\n00:01:59.000 --> 00:02:03.570\nI log back in like so,\nit starts to look weird.\n\n37\n00:02:03.570 --> 00:02:09.060\nSo, as kind of a compromise, because I\nknow we're gonna have to handle the login\n\n38\n00:02:09.060 --> 00:02:14.250\nand the sign up at some other times,\ncuz right now they're both on the page.\n\n39\n00:02:14.250 --> 00:02:16.637\nThat's kinda weird, but also,\n\n40\n00:02:16.637 --> 00:02:22.170\nwe've got some authentication and\nother things that need to happen.\n\n41\n00:02:23.580 --> 00:02:25.860\nI want this to span the entire panel.\n\n42\n00:02:26.980 --> 00:02:30.080\nSo, if I come and\ndo a little bit of investigative work.\n\n43\n00:02:30.080 --> 00:02:32.919\nIf I come back to my app.js, right?\n\n44\n00:02:32.919 --> 00:02:37.410\nHere is my chat panel, and\nif I am logged in, show the chat panel.\n\n45\n00:02:37.410 --> 00:02:40.540\nOtherwise, show this div, okay?\n\n46\n00:02:40.540 --> 00:02:45.120\nWell, if I inspect this,\nso if I inspect like so.\n\n47\n00:02:45.120 --> 00:02:48.858\nAnd I see,\nthat there is this column is half.\n\n48\n00:02:48.858 --> 00:02:52.930\nThat's weird,\ncuz there is no column is half here.\n\n49\n00:02:52.930 --> 00:02:58.069\nThere is none in the ChatPanel,\nwhere could that possibly be coming from?\n\n50\n00:02:58.069 --> 00:03:00.194\nWell, remember, when we had,\n\n51\n00:03:00.194 --> 00:03:05.630\nway back when we had this MainPanel that\nis essentially a wrapper for children.\n\n52\n00:03:05.630 --> 00:03:09.820\nJust to kinda clean up some things,\nto hide away some of our styling.\n\n53\n00:03:09.820 --> 00:03:13.503\nIf we come to the SideBar and\nwe look inside the MainPanel,\n\n54\n00:03:13.503 --> 00:03:17.211\nwe added styling that was probably\nin the wrong place, admittedly so.\n\n55\n00:03:17.211 --> 00:03:21.880\nWe added this is-half, so\nI'm actually gonna take this off, and\n\n56\n00:03:21.880 --> 00:03:27.410\nmaybe we may need to come back and\nremove this div entirely, okay?\n\n57\n00:03:27.410 --> 00:03:29.050\nSo, I'm gonna do a little\nbit of a clean up here.\n\n58\n00:03:30.350 --> 00:03:34.930\nSo, I'm gonna remove that this is half,\nand then, I don't think I've actually\n\n59\n00:03:34.930 --> 00:03:38.900\nchanged anything at all, I still\nneed to do that a little pad there.\n\n60\n00:03:38.900 --> 00:03:43.560\nSo, if I come back now this is good,\nbut if I log out that's not.\n\n61\n00:03:43.560 --> 00:03:49.055\nNow, the one thing I wanna double check\nis to make sure that when I'm logged in,\n\n62\n00:03:49.055 --> 00:03:54.712\nso j@j.com,123456.\n\n63\n00:03:54.712 --> 00:03:59.800\nSo, if I log in like so,\nI have columns, is centered,\n\n64\n00:03:59.800 --> 00:04:04.080\ncolumn and then, this div as\na div that has a column directly,\n\n65\n00:04:04.080 --> 00:04:07.370\nbecause I was like I'm pretty\nsure that should span.\n\n66\n00:04:07.370 --> 00:04:11.040\nSo, further clean up,\nif I come to the chat panel and\n\n67\n00:04:11.040 --> 00:04:16.700\nactually to the message list I added nope,\nnope, here I am.\n\n68\n00:04:16.700 --> 00:04:18.800\nI added this class name column.\n\n69\n00:04:18.800 --> 00:04:22.920\nI'm actually gonna remove that,\nbecause it was definitely my mistake.\n\n70\n00:04:22.920 --> 00:04:25.940\nSo, I think we fix it,\nif we come back and we look, and\n\n71\n00:04:25.940 --> 00:04:28.160\nactually renders how it's expected to.\n\n72\n00:04:28.160 --> 00:04:34.350\nNow, so we had that clean up,\nwe have our messages, we actually have\n\n73\n00:04:34.350 --> 00:04:38.230\nsome pretty 233 pm, 233 pm, that's because\nthey're done now, these are mocked.\n\n74\n00:04:39.390 --> 00:04:41.120\nThat's nice, okay.\n\n75\n00:04:41.120 --> 00:04:43.010\nWell, now, what do we need to do?\n\n76\n00:04:43.010 --> 00:04:45.280\nWe need some way to send a message, and\n\n77\n00:04:45.280 --> 00:04:47.426\nthat's gonna be done through\nthe send message form.\n\n78\n00:04:47.426 --> 00:04:51.572\nSo, I come here and I finish this form,\n\n79\n00:04:51.572 --> 00:04:58.623\nI'm actually going to create a div\nwith a className of control xo.\n\n80\n00:04:58.623 --> 00:05:02.739\nAnd then,\nI'm going to create an input of type text,\n\n81\n00:05:02.739 --> 00:05:06.306\ntypically in chat messages\nare fairly short,\n\n82\n00:05:06.306 --> 00:05:11.152\nif they're going to be longer our\napp may not handle those, but\n\n83\n00:05:11.152 --> 00:05:14.824\nthat's a willing sacrifice that I'm-\n&gt;&gt; Willing to take.\n\n84\n00:05:14.824 --> 00:05:16.900\n&gt;&gt; I'm willing to take.\n\n85\n00:05:16.900 --> 00:05:20.960\nThat was kinda redundant, but that's how\nwilling I am to make that sacrifice.\n\n86\n00:05:20.960 --> 00:05:21.730\n&gt;&gt; That's fine, that's fine.\n\n87\n00:05:21.730 --> 00:05:25.800\n&gt;&gt; So, we have a value,\nand what is that value?\n\n88\n00:05:25.800 --> 00:05:32.050\nThat's going to be this.state.text,\nand then, on change,\n\n89\n00:05:32.050 --> 00:05:37.020\nI'm just gonna do this in line, like I\nhave before I think early on I didn't\n\n90\n00:05:37.020 --> 00:05:41.990\nreally, I kinda have a strategies in the\nmethods, but I'm not gonna do that now.\n\n91\n00:05:41.990 --> 00:05:45.920\nI'm going to ahead and close this,\nso it quits screaming at me,\n\n92\n00:05:45.920 --> 00:05:50.760\nI'm gonna take that event I'm gonna say,\nthis.setState.\n\n93\n00:05:50.760 --> 00:05:57.370\nAnd I'm gonna set the state of the text,\nto whatever e.target.value.\n\n94\n00:05:57.370 --> 00:06:00.250\nSo, every time I had\na changed in the input field,\n\n95\n00:06:00.250 --> 00:06:03.470\nthen I'm gonna update\nthe state that is text now.\n\n96\n00:06:03.470 --> 00:06:06.340\nThey reminds me, we should probably\nget hood and create state,\n\n97\n00:06:06.340 --> 00:06:08.930\nand lot of times forums are state for,\nright?\n\n98\n00:06:08.930 --> 00:06:11.750\nThey're keeping track of\nsome information that\n\n99\n00:06:11.750 --> 00:06:13.850\nall gonna be bundled up at the very end.\n\n100\n00:06:13.850 --> 00:06:16.450\nSo, here's our text,\nthat's gonna start out as nothing.\n\n101\n00:06:17.810 --> 00:06:20.870\nNow, I need to add\na little bit of styling,\n\n102\n00:06:20.870 --> 00:06:24.880\nso class name equals,\nthis is actually input.\n\n103\n00:06:24.880 --> 00:06:27.990\nSo, Bulma has a lot of these\nkind of helper methods, and\n\n104\n00:06:27.990 --> 00:06:31.980\na place holder, not necessarily needed.\n\n105\n00:06:32.990 --> 00:06:37.980\nType your message, and now,\nlet's go see how that looks.\n\n106\n00:06:37.980 --> 00:06:40.810\nSo, there we go,\nit's kinda about at the bottom, and\n\n107\n00:06:42.110 --> 00:06:47.210\ntemporarily I think what I'm gonna do is\nin this chat panel I'm gonna, no, no,\n\n108\n00:06:47.210 --> 00:06:51.650\nin this messages list, I'm actually gonna\nbring this view height back to 80, just so\n\n109\n00:06:51.650 --> 00:06:55.660\nI can pull it up, so we're not always\nstaring at the bottom of the screen there.\n\n110\n00:06:55.660 --> 00:06:57.220\nSo, that's a little bit better.\n\n111\n00:06:57.220 --> 00:07:00.630\nSo, we have our type your message and\nif I can type, that's fine.\n\n112\n00:07:00.630 --> 00:07:02.980\nBut if I hit Enter, notice,\n\n113\n00:07:02.980 --> 00:07:06.620\nhow that actually submits the form\nrefreshes the entire page.\n\n114\n00:07:06.620 --> 00:07:10.130\nThat's not what we want,\nwe wanna handle this event ourselves.\n\n115\n00:07:11.890 --> 00:07:17.080\nSo, if I come over here,\nback to SendMessageForm, so\n\n116\n00:07:17.080 --> 00:07:19.390\nlet's just call it onSubmit.\n\n117\n00:07:20.690 --> 00:07:25.350\nActually, onMessageSend, cuz technically\nthat's what we're doing when we hit Enter.\n\n118\n00:07:27.590 --> 00:07:31.430\nThat's going to take the submission\nevent and at submit,\n\n119\n00:07:31.430 --> 00:07:34.000\nyou're gonna call a preventDefault.\n\n120\n00:07:34.000 --> 00:07:36.020\nNow, we've done this in a few other forms,\nand\n\n121\n00:07:36.020 --> 00:07:38.340\nthis is the key that\nrefresh behavior at bay.\n\n122\n00:07:40.100 --> 00:07:45.200\nSo, there we go on message send, and we're\ngonna come to this form and say, onSubmit.\n\n123\n00:07:46.358 --> 00:07:52.471\n= this.onMessageSend.\n\n124\n00:07:52.471 --> 00:07:54.092\nLike so, all right.\n\n125\n00:07:54.092 --> 00:07:57.730\nSo, let's see if that actually works.\n\n126\n00:07:57.730 --> 00:08:00.706\nSending the message.\n\n127\n00:08:00.706 --> 00:08:05.854\nOkay, so, if we wait for\nthe refresh, and I say, hello, and\n\n128\n00:08:05.854 --> 00:08:11.234\nI hit Enter, well, it actually says,\nsending the message.\n\n129\n00:08:11.234 --> 00:08:15.253\nWow, well, there we go, it looks like we\nhave some additional clean up and chat,\n\n130\n00:08:15.253 --> 00:08:16.440\nand we'll get to that.\n\n131\n00:08:18.140 --> 00:08:22.380\nSo sending the message, that works,\nit works on inner, I like that.\n\n132\n00:08:22.380 --> 00:08:24.410\nBut really, what are we going to send?\n\n133\n00:08:24.410 --> 00:08:27.700\nWell, we need to bundle\nup all of the information\n\n134\n00:08:29.030 --> 00:08:33.510\nthat is available to us for\na respective message, right?\n\n135\n00:08:33.510 --> 00:08:35.360\nWho's the author, what's their email?\n\n136\n00:08:36.420 --> 00:08:38.400\nWhat is the room ID?\n\n137\n00:08:38.400 --> 00:08:39.550\nWhat text?\n\n138\n00:08:39.550 --> 00:08:41.150\nWell, you know what the text is.\n\n139\n00:08:41.150 --> 00:08:42.400\nAnd what is the created time?\n\n140\n00:08:42.400 --> 00:08:44.551\nWell, the created time\ncan actually be the same.\n\n141\n00:08:44.551 --> 00:08:48.830\nAs soon as you hit that Enter,\nthere we go, we have a created message.\n\n142\n00:08:48.830 --> 00:08:50.760\nSo let's start modelling that out, and\n\n143\n00:08:50.760 --> 00:08:54.430\nwe're just gonna use an inline object\nliteral, because that make sense.\n\n144\n00:08:54.430 --> 00:09:00.120\nIn addition to, we should probably clear\nthat state to get rid of the text input,\n\n145\n00:09:00.120 --> 00:09:03.040\nbecause you don't want to accidentally\nhit the same message over and\n\n146\n00:09:03.040 --> 00:09:04.290\nover and over again.\n\n147\n00:09:04.290 --> 00:09:09.280\nSo, before I forget, let's, this.setState,\n\n148\n00:09:09.280 --> 00:09:12.769\nand then text to nothing, like so.\n\n149\n00:09:12.769 --> 00:09:17.420\nOkay, so, let's construct our message.\n\n150\n00:09:17.420 --> 00:09:21.490\nAnd we need a created,\nif I'm not mistaken, yep, created.\n\n151\n00:09:23.190 --> 00:09:24.725\nAnd that's gonna be a Date.now.\n\n152\n00:09:24.725 --> 00:09:31.690\nAnd the text is gonna be this.state.text,\nlike so.\n\n153\n00:09:31.690 --> 00:09:35.400\nSo I'm just gonna grab whatever\nthe current state of that input is.\n\n154\n00:09:36.470 --> 00:09:39.700\nAnd then how are we going to get email and\n\n155\n00:09:39.700 --> 00:09:42.510\nwhat room we're in and\nthings of that nature?\n\n156\n00:09:42.510 --> 00:09:46.300\nThat's where it gets a little tricky,\nbut let's look at our data model,\n\n157\n00:09:46.300 --> 00:09:50.050\nand we'll just, roomId, email, and author.\n\n158\n00:09:50.050 --> 00:09:51.450\nOkay, so the author is the uid.\n\n159\n00:09:52.820 --> 00:09:58.346\nSo the author is the uid, I'm just\nputting these as reminders to myself.\n\n160\n00:09:58.346 --> 00:10:03.870\nThe roomId, well,\nThat's their selectedRoom.\n\n161\n00:10:05.570 --> 00:10:11.273\nAnd the email, well,\nthat's the email, just like so.\n\n162\n00:10:11.273 --> 00:10:15.788\nNow, I'm just gonna console.log\nto let you see how this is\n\n163\n00:10:15.788 --> 00:10:18.640\nactually going to come to fruition.\n\n164\n00:10:18.640 --> 00:10:21.700\nSo console.log(message), good to go.\n\n165\n00:10:22.882 --> 00:10:26.570\nAnd now, we have this refresh, and\n\n166\n00:10:26.570 --> 00:10:30.210\nit gets rid of this, and\nit actually creates the message object.\n\n167\n00:10:30.210 --> 00:10:32.204\nThis is what I wanna store in Firebase.\n\n168\n00:10:32.204 --> 00:10:36.120\nSo up until this point,\nwe've only authenticated using Firebase.\n\n169\n00:10:36.120 --> 00:10:37.130\nActually, come over to chatem.\n\n170\n00:10:38.980 --> 00:10:40.130\nWe have foods.\n\n171\n00:10:40.130 --> 00:10:41.921\nWell, I'm actually gonna get\nrid of this entire collection.\n\n172\n00:10:41.921 --> 00:10:46.304\nThat was from an early on episode where\nwe were just playing around, it's gone,\n\n173\n00:10:46.304 --> 00:10:48.440\nthere's nothing in our database now.\n\n174\n00:10:48.440 --> 00:10:50.968\nIn all actuality,\nif we wanted to be a little more robust,\n\n175\n00:10:50.968 --> 00:10:54.800\nwe should probably store some information\nabout users in there, not their passwords.\n\n176\n00:10:54.800 --> 00:10:59.770\nHowever, we now are going to\nstart putting messages in there.\n\n177\n00:10:59.770 --> 00:11:03.550\nWe're gonna essentially blow these\naway eventually, because we don't have\n\n178\n00:11:03.550 --> 00:11:06.480\nroom IDs, there's still some other\nthings that need to come to fruition.\n\n179\n00:11:06.480 --> 00:11:11.123\nBut we're gonna see how we can\nkinda bubble this back up to\n\n180\n00:11:11.123 --> 00:11:16.172\nthe top level apps,\nthen go to make the request on our behalf.\n\n181\n00:11:16.172 --> 00:11:20.900\nAnd then may not necessarily always\nupdate, but we'll get there.\n\n182\n00:11:22.120 --> 00:11:28.182\nOkay, so how am I going to\nactually send that message?\n\n183\n00:11:28.182 --> 00:11:32.820\nHm, I also need some information\nfrom top level state.\n\n184\n00:11:32.820 --> 00:11:39.220\nSo I come here, I need to select room,\nI need the uid, I need the email.\n\n185\n00:11:40.980 --> 00:11:45.446\nSo if I come down here, well, in this chat\npanel, the chat panel is getting messages,\n\n186\n00:11:45.446 --> 00:11:46.925\nthat's all it's getting.\n\n187\n00:11:46.925 --> 00:11:51.531\nBut really, it should get the roomId,\nand I'm just gonna\n\n188\n00:11:51.531 --> 00:11:56.940\npass it by the exactly the same\nname as it's currently stored.\n\n189\n00:11:56.940 --> 00:12:01.468\nSo roomId as such and then what,\n\n190\n00:12:01.468 --> 00:12:07.270\nemail, And since this was only\ngonna be shown if I'm logged in,\n\n191\n00:12:07.270 --> 00:12:09.639\nI'm guaranteed that those\nvalues are available.\n\n192\n00:12:09.639 --> 00:12:15.344\nNow, for a robust solution, people may\ncome in and be able to tweak this,\n\n193\n00:12:15.344 --> 00:12:21.040\nbut this should actually be selectedRoom,\nI'm sorry selectedRoom.\n\n194\n00:12:21.040 --> 00:12:22.630\nThere we go.\n\n195\n00:12:22.630 --> 00:12:29.932\nAnd then we need the uid,\nwhich is, well, this.state.uid.\n\n196\n00:12:29.932 --> 00:12:33.069\nSo this is going to be passing\nit into the actual chat panel.\n\n197\n00:12:33.069 --> 00:12:36.934\nBut now I need to pass that to one of the\nchat panel's children in order to make it\n\n198\n00:12:36.934 --> 00:12:37.587\navailable.\n\n199\n00:12:37.587 --> 00:12:42.850\nHm, moreover,\nI need the ability to send a message.\n\n200\n00:12:42.850 --> 00:12:48.460\nSo, I need an additional\nprop called sendMessage.\n\n201\n00:12:48.460 --> 00:12:52.660\nAnd that's gonna be this.sendMessage.\n\n202\n00:12:52.660 --> 00:12:56.060\nSo, some of you are like, man,\nthese patterns are repeating, and\n\n203\n00:12:56.060 --> 00:12:57.500\nthis is a lot to think about.\n\n204\n00:12:57.500 --> 00:12:58.233\nYou're right,\n\n205\n00:12:58.233 --> 00:13:01.760\nthis isn't necessarily the only way\nthat you can structure this application.\n\n206\n00:13:01.760 --> 00:13:04.920\nBut when you first start building\nReact applications, this is probably\n\n207\n00:13:04.920 --> 00:13:07.490\nsomething that you're going to do and\nkinda wrap your head around, or\n\n208\n00:13:07.490 --> 00:13:10.190\nsome React applications that\nare already built like this.\n\n209\n00:13:10.190 --> 00:13:15.540\nI'm not saying this is the best way, but\nthis is kind of your first evolution.\n\n210\n00:13:15.540 --> 00:13:17.855\nAnd who knows, maybe we'll come back and\n\n211\n00:13:17.855 --> 00:13:21.308\nrefactor this to where we don't\nhave all of this everywhere.\n\n212\n00:13:21.308 --> 00:13:29.055\nSo, I need to go ahead and write that\nsendMessage function, so sendMessage.\n\n213\n00:13:29.055 --> 00:13:33.167\nAnd that's going to receive a message,\nand what is it going to do?\n\n214\n00:13:33.167 --> 00:13:37.467\nWell for now, let's just say App message,\nso we know it's in the app,\n\n215\n00:13:37.467 --> 00:13:42.430\nit's actually getting the message that\nwe're sending up, kind of bubbling up.\n\n216\n00:13:44.040 --> 00:13:46.750\nSo, we have all of these\nproperties inside of chat panel.\n\n217\n00:13:46.750 --> 00:13:51.598\nWell now, if we hop over to chat panel,\nand we look,\n\n218\n00:13:51.598 --> 00:13:58.008\nprops should have, well, the uid,\nthe roomId, the sendMessage.\n\n219\n00:13:58.008 --> 00:14:02.964\nHm, I feel like we just need to send that\n\n220\n00:14:02.964 --> 00:14:07.168\nover to the sendMessage form, so\n\n221\n00:14:07.168 --> 00:14:15.230\nI'm gonna say\nsendMessage=(props.sendMessage).\n\n222\n00:14:15.230 --> 00:14:21.801\nAnd then email=(props.email) and\n\n223\n00:14:21.801 --> 00:14:28.600\nthen the roomId=(props.roomId).\n\n224\n00:14:28.600 --> 00:14:33.509\nNow these props names actually\nmatch whatever we use here.\n\n225\n00:14:33.509 --> 00:14:36.735\nSo, and\nthat's kind of bitten me before, and\n\n226\n00:14:36.735 --> 00:14:40.557\nthe reason I'm explicit is\nnow I kind of track things.\n\n227\n00:14:40.557 --> 00:14:45.350\nIf I come over here, nothing's broken that\nI can tell, everything still looks good.\n\n228\n00:14:45.350 --> 00:14:49.780\nMessage is a sign of value we've never\nused, we know we're not quite there yet.\n\n229\n00:14:51.650 --> 00:14:55.216\nSo if I come back here to the ChatPanel,\nwell, I've set the roomId,\n\n230\n00:14:55.216 --> 00:14:56.450\nwhat about the uid?\n\n231\n00:14:56.450 --> 00:15:00.325\nWell, that's going to be on props.uid.\n\n232\n00:15:00.325 --> 00:15:05.020\nAnd then, I think that's all of\nour pieces when I break this up.\n\n233\n00:15:05.020 --> 00:15:07.843\nSo the sendMessage form is going to get,\n\n234\n00:15:07.843 --> 00:15:13.003\nthe sendMessage actual function,\nthe email, the roomId, and the uid.\n\n235\n00:15:13.003 --> 00:15:14.827\nIf I come over to my sendMessage form,\n\n236\n00:15:14.827 --> 00:15:18.477\nthose are the three pieces of information\nthat I need, sitting on my props.\n\n237\n00:15:18.477 --> 00:15:22.790\nBut I also need the ability to\nsend the message to Firebase.\n\n238\n00:15:22.790 --> 00:15:28.820\nNow I'm bubbling that up through top level\napp component, where all of our state is.\n\n239\n00:15:28.820 --> 00:15:32.090\nBecause I may have to do\nadditional things later on.\n\n240\n00:15:32.090 --> 00:15:36.177\nSo, if I come and get this uid,\n\n241\n00:15:36.177 --> 00:15:41.535\nI'm just gonna say this.props.uid.\n\n242\n00:15:41.535 --> 00:15:47.914\nAnd I said selectedRoom here,\nbut I passed it in as roomId,\n\n243\n00:15:47.914 --> 00:15:53.922\nif my actual d will click and\nthen this.props.email.\n\n244\n00:15:53.922 --> 00:15:57.991\nLike so, so now if we're correct\nwe should see console.log@, and\n\n245\n00:15:57.991 --> 00:16:01.620\nthen all of this\ninformation bubble back up.\n\n246\n00:16:01.620 --> 00:16:02.996\nCross your fingers Zach, you ready?\n\n247\n00:16:02.996 --> 00:16:04.666\n&gt;&gt; My toes are crossed.\n\n248\n00:16:04.666 --> 00:16:06.953\n&gt;&gt; Well that you should probably\ngo get that checked out.\n\n249\n00:16:06.953 --> 00:16:08.154\n&gt;&gt; [LAUGH]\n&gt;&gt; But\n\n250\n00:16:08.154 --> 00:16:10.351\nbesides that let's see if\nthis application works.\n\n251\n00:16:10.351 --> 00:16:13.660\nBut I almost forgot.\n\n252\n00:16:13.660 --> 00:16:20.061\nIt wasn't gonna work because we\nneed to do this.props Maybe,\n\n253\n00:16:20.061 --> 00:16:24.690\nprops.sendMessage right.\n\n254\n00:16:24.690 --> 00:16:28.310\nWe sent the function in and\nthen we're going to pass it.\n\n255\n00:16:28.310 --> 00:16:31.827\nThe message, if I can get my\nfingers on the correct keys, so,\n\n256\n00:16:31.827 --> 00:16:36.800\nwe're going to use props to send down that\nactual message and then send it back.\n\n257\n00:16:36.800 --> 00:16:40.612\nThis is a lot to think about,\nthis is not the greatest architecture.\n\n258\n00:16:40.612 --> 00:16:45.150\nBut this is kinda the first thing you're\ngonna do until you get into more complex\n\n259\n00:16:45.150 --> 00:16:50.260\nstate management like in a redux or\nmodax or something of that nature,\n\n260\n00:16:50.260 --> 00:16:55.310\nwhich are implementations of a flex\npattern that Facebook recommends.\n\n261\n00:16:55.310 --> 00:16:58.341\nLet's just start here,\nsee what we need, and\n\n262\n00:16:58.341 --> 00:17:02.090\nthen as I said you can always\nrefactor to use those later.\n\n263\n00:17:03.650 --> 00:17:06.580\nIt is kind of annoying to have to pass\nall of those through props on children.\n\n264\n00:17:07.660 --> 00:17:11.450\nThere are lazy ways to do this,\nlike send message form.\n\n265\n00:17:11.450 --> 00:17:17.770\nI could just go, curly braces,\ndot, dot, dot, this dot props.\n\n266\n00:17:17.770 --> 00:17:20.600\nAnd then it would spread all\nof those on to the form and\n\n267\n00:17:20.600 --> 00:17:25.380\nI'm actually show you that I like to be\nexplicit just so I can track things but\n\n268\n00:17:25.380 --> 00:17:27.400\nthere are quicker ways to do that.\n\n269\n00:17:27.400 --> 00:17:30.200\nIf you need to pass around\na giant bundle of things.\n\n270\n00:17:30.200 --> 00:17:34.705\nSo we come over here to app.js all\nwe're gonna see is console.log.\n\n271\n00:17:34.705 --> 00:17:41.010\nLet's see, here we go so,\nwhat is going on?\n\n272\n00:17:41.010 --> 00:17:42.749\nAnd there we go.\n\n273\n00:17:42.749 --> 00:17:46.840\nIf we see, here's our message, okay.\n\n274\n00:17:46.840 --> 00:17:52.020\nSo we've got it all the way back up,\nall the way back up there.\n\n275\n00:17:52.020 --> 00:17:56.630\nWe have the author, the created,\nthe email, what the text is.\n\n276\n00:17:56.630 --> 00:17:58.873\nNow, we wanna send that to Firebase.\n\n277\n00:17:58.873 --> 00:17:59.420\n&gt;&gt; Mm-hm.\n\n278\n00:17:59.420 --> 00:18:02.900\n&gt;&gt; Now it's at the top-level app,\nit's so easy.\n\n279\n00:18:02.900 --> 00:18:05.041\nIt's actually so easy,\nit's almost criminal.\n\n280\n00:18:05.041 --> 00:18:07.887\n&gt;&gt; Well, the police are out there.\n\n281\n00:18:07.887 --> 00:18:09.290\nThey're waiting for you.\n\n282\n00:18:09.290 --> 00:18:11.031\n&gt;&gt; Well, I hope not,\nbecause I can't run that fast.\n\n283\n00:18:11.031 --> 00:18:12.804\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm getting winded just thinking\n\n284\n00:18:12.804 --> 00:18:13.401\nabout it, Zach.\n\n285\n00:18:14.410 --> 00:18:18.261\nSo in our fire configuration right\nwe want to send this to fire base so\n\n286\n00:18:18.261 --> 00:18:20.980\nthat we can actually see\nsome data in fire base.\n\n287\n00:18:20.980 --> 00:18:23.171\nI have been waiting for\nthe fire base part, and\n\n288\n00:18:23.171 --> 00:18:26.040\nI have just been looking\nat a lot of react stuff.\n\n289\n00:18:26.040 --> 00:18:28.570\nSo let's appease that.\n\n290\n00:18:28.570 --> 00:18:32.680\nIf I open my fire.js right?\n\n291\n00:18:32.680 --> 00:18:36.910\nI have auth, hm, I have a firebase app.\n\n292\n00:18:36.910 --> 00:18:40.330\nI could import the firebase app and\ncreate a new reference.\n\n293\n00:18:40.330 --> 00:18:47.570\nBut really what I'm thinking is I wanna\ncreate a keep a collection of messages.\n\n294\n00:18:47.570 --> 00:18:50.400\nAll of the messages in my application,\nokay.\n\n295\n00:18:50.400 --> 00:18:55.680\nNow for scale and some other things this\nmay not be the best data organization.\n\n296\n00:18:55.680 --> 00:18:57.860\nBut I think it's easy to\nwrap the head around.\n\n297\n00:18:57.860 --> 00:19:07.734\nSo I'm going to say messageRef equals\nfirebaseApp.ref('messages'), like so.\n\n298\n00:19:07.734 --> 00:19:14.580\nOkay, messages, so now what I'm going\nto get if I come over here, uh-oh.\n\n299\n00:19:14.580 --> 00:19:19.096\nFirebaseApp.ref is not a function.\n\n300\n00:19:19.096 --> 00:19:26.309\nWell, I forgot, we're in\nthe database portion, database.ref.\n\n301\n00:19:26.309 --> 00:19:29.120\nI actually have to grab\nthe database portion.\n\n302\n00:19:29.120 --> 00:19:33.660\nSo, in the database,\nI need to call .ref, totally my fault.\n\n303\n00:19:33.660 --> 00:19:37.230\nWhat I should see is a little\ndrop down that says messages.\n\n304\n00:19:37.230 --> 00:19:40.596\nAnd then under that are every\nmessage that gets persisted.\n\n305\n00:19:40.596 --> 00:19:46.750\nAll right again, you may have to tweak\nthis if you app has a scale very large.\n\n306\n00:19:46.750 --> 00:19:50.540\nBut, I think this'll give us a way\nto think about this initially.\n\n307\n00:19:50.540 --> 00:19:55.030\nSo, there's our one little\nchange to our fire.js.\n\n308\n00:19:55.030 --> 00:19:58.770\nWe created what's called a message rif,\nso I'm gonna come over here to app.js and\n\n309\n00:19:58.770 --> 00:20:01.100\nimport that named export.\n\n310\n00:20:01.100 --> 00:20:04.710\nSo message, ref like so, and\n\n311\n00:20:04.710 --> 00:20:09.740\nthen well, message ref's are typically\ndatabase references inside of firebase,\n\n312\n00:20:09.740 --> 00:20:15.370\ncan be used exactly like I am\nactually gonna leave that there.\n\n313\n00:20:15.370 --> 00:20:20.705\nExactly like a race so\nI'm gonna say message.push\n\n314\n00:20:20.705 --> 00:20:25.810\nmessageref.pushmessage, just like so okay.\n\n315\n00:20:25.810 --> 00:20:27.540\nSo we're not gonna see\nanything update in the UI but\n\n316\n00:20:27.540 --> 00:20:30.625\nwe're actually gonna be able\nto look inside of Firebase.\n\n317\n00:20:32.130 --> 00:20:37.350\nSo there we go and well,\nhere's our refresh, good to go.\n\n318\n00:20:37.350 --> 00:20:38.850\nWhat is going on?\n\n319\n00:20:39.860 --> 00:20:44.722\nAnd it printed, all right, we didn't see\nanything in the UI because we haven't\n\n320\n00:20:44.722 --> 00:20:48.295\nhooked that part up yet, but\nif I come over here, hey look,\n\n321\n00:20:48.295 --> 00:20:51.819\nI actually have a message\nInside of my Firebase database.\n\n322\n00:20:51.819 --> 00:20:53.190\n&gt;&gt; Awesome.\n&gt;&gt; That's good, right?\n\n323\n00:20:53.190 --> 00:20:57.654\nThis is j@j which is technically I'm\nlogged in as right now however I hard\n\n324\n00:20:57.654 --> 00:21:01.268\ncoded this, so\nit's not technically correct.\n\n325\n00:21:01.268 --> 00:21:04.040\nThe room ID is definitely not\ncorrect because we should also\n\n326\n00:21:04.040 --> 00:21:07.720\nhave along with messages,\nwe should have a list of rooms, right?\n\n327\n00:21:07.720 --> 00:21:09.650\nWe should have a default list of rooms.\n\n328\n00:21:11.450 --> 00:21:14.056\nNot quite there yet either.\n\n329\n00:21:14.056 --> 00:21:18.714\nBut we actually have some information\nin our Firebase database which is good.\n\n330\n00:21:18.714 --> 00:21:19.691\n&gt;&gt; Mm-hm.\n\n331\n00:21:19.691 --> 00:21:22.100\n&gt;&gt; It took a little doing but\nwe got there.\n\n332\n00:21:22.100 --> 00:21:24.960\nNow some of you are probably wondering.\n\n333\n00:21:24.960 --> 00:21:27.000\nHere's these keys.\n\n334\n00:21:27.000 --> 00:21:32.070\nHow could I actually get\nmessages in to my application.\n\n335\n00:21:33.420 --> 00:21:36.450\nWell, there's a whole lot that\nhasn't come together, in order for\n\n336\n00:21:36.450 --> 00:21:38.200\nthat to happen, right?\n\n337\n00:21:38.200 --> 00:21:42.600\nI have to figure out what room I'm in,\nby default.\n\n338\n00:21:42.600 --> 00:21:45.912\nAnd I need to retrieve the messages for\nthat room, and then I'm gonna\n\n339\n00:21:45.912 --> 00:21:51.560\nre-retrieve those messages every time\na message is updated or I switch rooms.\n\n340\n00:21:51.560 --> 00:21:55.860\nSo I think being able to add a room,\nbeing able to\n\n341\n00:21:56.980 --> 00:22:00.610\nadd messages to a particular room, log in\nand log out, there's still a lot of other\n\n342\n00:22:00.610 --> 00:22:03.805\nthings I have to come together in\norder for this to actually work.\n\n343\n00:22:03.805 --> 00:22:07.550\nSo the data and the layer kinda comes\non pretty strong at the end but\n\n344\n00:22:07.550 --> 00:22:12.750\nwe have some of our initial setup here\nZack and I'm pretty proud of this.\n\n345\n00:22:12.750 --> 00:22:15.130\nThis might actually be a done moment.\n\n346\n00:22:15.130 --> 00:22:17.990\nLet's do a quick overview of\nwhat we actually accomplished.\n\n347\n00:22:17.990 --> 00:22:22.886\nSo we take a look at my screen again and\nwe're gonna [INAUDIBLE].\n\n348\n00:22:22.886 --> 00:22:26.190\nWe have the chat panel it's built,\nIt's good.\n\n349\n00:22:26.190 --> 00:22:28.590\nWe have the ability to select rooms,\nthat's good.\n\n350\n00:22:28.590 --> 00:22:30.390\nThese are all dummied in.\n\n351\n00:22:30.390 --> 00:22:34.290\nWe have the ability to actually\nsend information to Firebase but\n\n352\n00:22:34.290 --> 00:22:37.800\nuntil we can like, persist information.\n\n353\n00:22:39.810 --> 00:22:43.380\nAnd I think,\nI actually lied to you about one thing.\n\n354\n00:22:44.560 --> 00:22:47.550\nThere we go.\nWe actually update the UID and the email,\n\n355\n00:22:47.550 --> 00:22:49.690\nwith the appropriate ones.\n\n356\n00:22:49.690 --> 00:22:51.670\nThere's some other things\nthat aren't quite right.\n\n357\n00:22:51.670 --> 00:22:53.060\nSo, sorry, I misspoke there.\n\n358\n00:22:54.370 --> 00:22:59.240\nSo, this UID and email,\nare correct, but, roomid is not.\n\n359\n00:22:59.240 --> 00:23:01.729\nSo, we would have to tweak that, okay.\n\n360\n00:23:01.729 --> 00:23:05.050\nNow, when this comes in\n\n361\n00:23:05.050 --> 00:23:09.490\nwe should get a list of messages\nhere with appropriate usernames.\n\n362\n00:23:09.490 --> 00:23:11.860\nWe can put display name I am being lazy.\n\n363\n00:23:11.860 --> 00:23:13.490\nAnd the times that they sent the message.\n\n364\n00:23:14.555 --> 00:23:17.920\nBecause of this created app when we\nfinally get this in we'll actually see\n\n365\n00:23:17.920 --> 00:23:21.570\nhey it was created at blah blah blah,\nat that point,\n\n366\n00:23:21.570 --> 00:23:25.580\nit's always is gonna be\na 24 hour time series.\n\n367\n00:23:25.580 --> 00:23:29.086\nBut we should probably add maybe our date\nformat a little bit, but that's all right.\n\n368\n00:23:29.086 --> 00:23:33.470\nAnd then we have the ability to send\nmessages by typing and hit enter.\n\n369\n00:23:33.470 --> 00:23:37.000\nWe're getting close to the functionality\nof a chat application, but\n\n370\n00:23:37.000 --> 00:23:38.050\nwe're not quite finished.\n\n371\n00:23:38.050 --> 00:23:39.183\nWe've come a long way, and\n\n372\n00:23:39.183 --> 00:23:41.659\nnow we're starting the end of\nthe data persistence layer.\n\n373\n00:23:41.659 --> 00:23:45.817\nBut that's where we are, Zach, and\nI think this is a good time to take a step\n\n374\n00:23:45.817 --> 00:23:49.513\nback and ruminate about what we've\naccomplished, go and fix some\n\n375\n00:23:49.513 --> 00:23:54.780\nof those other things before we dive back\ninto, well, selecting a default room.\n\n376\n00:23:54.780 --> 00:23:57.567\nBeing able to see messages\nrepopulate on the screen.\n\n377\n00:23:57.567 --> 00:24:02.990\nCuz, you better get your hip waders,\nwe're about to wade in deep.\n\n378\n00:24:02.990 --> 00:24:05.660\n&gt;&gt; Yeah, because the next episode is\ngoing to be toggling the sign up and\n\n379\n00:24:05.660 --> 00:24:07.060\nlogin components Is that right?\n\n380\n00:24:07.060 --> 00:24:09.200\n&gt;&gt; Yeah, yeah, so we're going to be\ndoing a little bit of fixing and\n\n381\n00:24:09.200 --> 00:24:11.290\na little bit of reorganizing.\n\n382\n00:24:11.290 --> 00:24:14.529\nFor login and sign up because right\nnow they are both on the same screen.\n\n383\n00:24:14.529 --> 00:24:17.226\nAnd that's not quite what I wanted so\n\n384\n00:24:17.226 --> 00:24:21.320\nI think it's best if we fix\nthat before moving forward.\n\n385\n00:24:21.320 --> 00:24:25.183\n&gt;&gt; So this has been building the chat\npanel part three make sure you watch part\n\n386\n00:24:25.183 --> 00:24:29.481\none and part two, you will be glad you did\nand watch every single episode in the chat\n\n387\n00:24:29.481 --> 00:24:33.580\napp with React in Firebase because\nit's excellent, you'll love it.\n\n388\n00:24:33.580 --> 00:24:37.600\nAnd thank you for being a Dev Pro\nperson and watching DevPro.TV.\n\n389\n00:24:37.600 --> 00:24:39.542\nRemember a good Dev Pro\nis always learning.\n\n390\n00:24:39.542 --> 00:24:40.282\nAnd I'm Zack Memos.\n\n391\n00:24:40.282 --> 00:24:41.230\n&gt;&gt; And I'm Justin Dennison.\n\n392\n00:24:41.230 --> 00:24:42.670\n&gt;&gt; And we will see you again very soon.\n\n393\n00:24:44.366 --> 00:24:48.821\n[MUSIC]\n\n",
          "vimeoId": "230938339"
        },
        {
          "description": "Justin and Zach cover how to set up toggling the signup & login components in the Chat Panel with React and Firebase.",
          "length": "1287",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-10-2-toggling_the_startup_and_login_components-082317-PGM.00_21_48_01.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-10-2-toggling_the_startup_and_login_components-082317-PGM.00_21_48_01.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-10-2-toggling_the_startup_and_login_components-082317-PGM.00_21_48_01.Still001-sm.jpg",
          "title": "Toggling the Startup and Login Components",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.891 --> 00:00:15.233\nHello, and thank you for\njoining us on DEVProTV,\n\n3\n00:00:15.233 --> 00:00:16.921\nhelping you learn wherever you go.\n\n4\n00:00:16.921 --> 00:00:18.320\nI'm your host Zach Memos.\n\n5\n00:00:18.320 --> 00:00:21.370\nAs we continue on with chat app,\nwith react, and\n\n6\n00:00:21.370 --> 00:00:25.460\nFirebase, this is gonna be\na very unusual episode I think.\n\n7\n00:00:25.460 --> 00:00:29.302\nIt's toggling the sign-up and\nlogin components.\n\n8\n00:00:29.302 --> 00:00:30.790\nAnd who's bringing us the information?\n\n9\n00:00:30.790 --> 00:00:31.980\nWhy it's Justin Dennison.\n\n10\n00:00:31.980 --> 00:00:33.850\nJustin, good to see you again, sir!\n\n11\n00:00:33.850 --> 00:00:34.750\nGood to see you, good to see you.\n\n12\n00:00:34.750 --> 00:00:36.610\n&gt;&gt; It is good, I've never had anybody bow.\n\n13\n00:00:36.610 --> 00:00:38.520\nI don't know how to react to that.\n\n14\n00:00:38.520 --> 00:00:40.008\nBut it is good to be back.\n\n15\n00:00:40.008 --> 00:00:42.500\nAnd yes,\nit's a little bit of a step back from\n\n16\n00:00:42.500 --> 00:00:44.410\nfrom the episodes that\nwe've been leading up to.\n\n17\n00:00:44.410 --> 00:00:48.830\nExcept, sometimes I get that itch\nwhere I'm like, man, I gotta fix this.\n\n18\n00:00:48.830 --> 00:00:50.578\nIt's bothering me a great deal.\n\n19\n00:00:50.578 --> 00:00:54.370\nAnd I knew it was on the docket, I'd been\nstaring at it, so I wanna go ahead and\n\n20\n00:00:54.370 --> 00:00:55.490\ntake a step back.\n\n21\n00:00:55.490 --> 00:00:58.350\nHas nothing to do with Firebase,\nit's just some internal state.\n\n22\n00:00:58.350 --> 00:01:00.367\nI wanna make sure that the UI\nis a little bit nicer.\n\n23\n00:01:00.367 --> 00:01:03.055\nSo we may do some clean\nup if we have time, but\n\n24\n00:01:03.055 --> 00:01:06.570\nultimately let me set the picture,\nlet me set the stage.\n\n25\n00:01:06.570 --> 00:01:08.529\n&gt;&gt; Yeah, we'll paint the picture now.\n\n26\n00:01:08.529 --> 00:01:12.304\n&gt;&gt; Yep, so right now when we're\nnot logged in, we have sign up and\n\n27\n00:01:12.304 --> 00:01:15.180\nlog in right on top of each other.\n\n28\n00:01:15.180 --> 00:01:19.025\nWhat I would prefer is when it loads,\nI get to see\n\n29\n00:01:19.025 --> 00:01:26.120\nsign-up,already have an account,\nyou click that and it shows the log in.\n\n30\n00:01:26.120 --> 00:01:32.050\nRight, so that way I can toggle back and\nforth and its a little nicer.\n\n31\n00:01:32.050 --> 00:01:36.890\nNow full disclosure, if I was using\nsome more advanced react libraries like\n\n32\n00:01:36.890 --> 00:01:39.650\nreact router or things of that nature,\nI would do this in a different way.\n\n33\n00:01:39.650 --> 00:01:43.480\nHowever, what if I wanted to\ntoggle state where I show one time\n\n34\n00:01:43.480 --> 00:01:44.390\nversus the other time?\n\n35\n00:01:44.390 --> 00:01:47.700\nI have some decision making,\nsome conditional rendering, so to speak.\n\n36\n00:01:47.700 --> 00:01:52.622\nAnd ultimately what I'm gonna have is this\nnew piece of state that ultimately is\n\n37\n00:01:52.622 --> 00:01:53.660\nonly in the app.\n\n38\n00:01:53.660 --> 00:01:56.740\nIt actually has nothing to do\nwith our overall state object.\n\n39\n00:01:56.740 --> 00:01:59.070\nAnd this is where things\nget a little iffy.\n\n40\n00:02:00.450 --> 00:02:02.670\nIs it part of the overall\nstate object that I need?\n\n41\n00:02:02.670 --> 00:02:05.250\nOr is it something that I only need for\nrendering and it just so\n\n42\n00:02:05.250 --> 00:02:07.120\nhappens to be in our app component?\n\n43\n00:02:07.120 --> 00:02:09.280\nSo this would require some restructuring.\n\n44\n00:02:10.440 --> 00:02:14.920\nWell, it's actually just for rendering and\nit's gonna follow sign up, log in,\n\n45\n00:02:14.920 --> 00:02:17.320\nand toggle back and forth, okay?\n\n46\n00:02:17.320 --> 00:02:21.470\nSo let's take a look at my screen and,\nwell, see what I'm actually talking about.\n\n47\n00:02:21.470 --> 00:02:22.220\n&gt;&gt; Great.\n\n48\n00:02:22.220 --> 00:02:23.479\n&gt;&gt; So I'm gonna log out.\n\n49\n00:02:25.380 --> 00:02:28.040\nThere's definitely some things\nI'm gonna clean up here.\n\n50\n00:02:28.040 --> 00:02:29.790\nSo I'm gonna close out of this and\n\n51\n00:02:29.790 --> 00:02:35.120\nas it stands number one those\nare full width now, totally okay.\n\n52\n00:02:36.860 --> 00:02:39.560\nHowever, I don't like them both\nbeing on here at the same time.\n\n53\n00:02:39.560 --> 00:02:42.460\nWhat I would rather happen\nis when you get here,\n\n54\n00:02:42.460 --> 00:02:44.860\nsign up, hey you already have an account?\n\n55\n00:02:44.860 --> 00:02:47.790\nClick a button or a link and\nit takes you to the login page.\n\n56\n00:02:48.970 --> 00:02:52.600\nSo that's what we're gonna\ndo will be some finagling.\n\n57\n00:02:52.600 --> 00:02:56.470\nBut it was something that was bothering\nthat I figured no better time than\n\n58\n00:02:56.470 --> 00:02:58.192\nthe present to actually fix it.\n\n59\n00:02:58.192 --> 00:02:58.850\n&gt;&gt; Good.\n\n60\n00:02:58.850 --> 00:03:03.722\n&gt;&gt; So if I come over here,\nthat way it's a nice little break.\n\n61\n00:03:03.722 --> 00:03:06.642\nI'm sure your mind is reeling from\nsome other previous experience.\n\n62\n00:03:06.642 --> 00:03:07.211\n&gt;&gt; In pretty colors.\n\n63\n00:03:07.211 --> 00:03:08.896\n[SOUND]\n&gt;&gt; So\n\n64\n00:03:08.896 --> 00:03:12.942\nif I look there's one little\npiece of clean up here.\n\n65\n00:03:12.942 --> 00:03:15.520\nI'm gonna get rid of this\nbecause that's redundant\n\n66\n00:03:15.520 --> 00:03:17.230\nbecause that's not a component based one.\n\n67\n00:03:17.230 --> 00:03:21.960\nBut now we can actually jump into\nthe app and okay what do we need?\n\n68\n00:03:21.960 --> 00:03:25.510\nWell I'm thinking wants to login.\n\n69\n00:03:26.520 --> 00:03:28.050\nThat would be a nice piece of state.\n\n70\n00:03:28.050 --> 00:03:29.980\nRight now I have is logged in.\n\n71\n00:03:29.980 --> 00:03:32.560\nThat's different than wants to login.\n\n72\n00:03:32.560 --> 00:03:33.860\nNow there's better ways to do this but\n\n73\n00:03:33.860 --> 00:03:38.520\nI'm trying to provide clarity to kind of\nthe thought process, the flow, right?\n\n74\n00:03:38.520 --> 00:03:44.020\nSo wants to logIn, LogIn, like so.\n\n75\n00:03:44.020 --> 00:03:47.070\nAnd well, let's just say false on load.\n\n76\n00:03:47.070 --> 00:03:50.120\nNow what that means is I'm\ngonna see the signup page.\n\n77\n00:03:50.120 --> 00:03:52.600\nThat's what I want, is the signup page.\n\n78\n00:03:52.600 --> 00:03:57.967\nSo if I scroll down here,\nAll right, here we go,\n\n79\n00:03:57.967 --> 00:04:03.545\nthis div now, so I have if I am\nlogged in show the chat panel.\n\n80\n00:04:03.545 --> 00:04:09.230\nAnd this little colon right here,\nis the otherwise show this.\n\n81\n00:04:09.230 --> 00:04:13.640\nBut now inside of that there's\nactually some other stuff.\n\n82\n00:04:15.100 --> 00:04:16.390\nAnd this is gonna get a little iffy,\n\n83\n00:04:16.390 --> 00:04:22.050\nbecause I don't particularly like\nchaining ternary statements.\n\n84\n00:04:22.050 --> 00:04:27.420\nBut I'm going to in this, because I think\nit's a little bit clearer than normal.\n\n85\n00:04:27.420 --> 00:04:31.790\nSo within this main panel,\nI'm gonna just comment this out,\n\n86\n00:04:31.790 --> 00:04:34.180\nit's gonna break stuff,\nbut we're gonna fix that.\n\n87\n00:04:34.180 --> 00:04:39.220\nAnd here, what I want is this\n\n88\n00:04:39.220 --> 00:04:43.850\nnot state wants to login.\n\n89\n00:04:43.850 --> 00:04:44.702\nYou wanna login.\n\n90\n00:04:44.702 --> 00:04:46.997\nWell if you do, what do ya want?\n\n91\n00:04:46.997 --> 00:04:49.373\nWell, I want the login page.\n\n92\n00:04:49.373 --> 00:04:52.230\nOkay, so there's that.\n\n93\n00:04:53.480 --> 00:05:00.270\nAnd then otherwise,\nI want the sign-up page, like so.\n\n94\n00:05:00.270 --> 00:05:04.260\nNow notice I no longer\nhave this div right here.\n\n95\n00:05:06.511 --> 00:05:09.145\nMy editor fights against me.\n\n96\n00:05:09.145 --> 00:05:10.107\n&gt;&gt; [LAUGH].\n\n97\n00:05:10.107 --> 00:05:11.720\n&gt;&gt; We'll fix it.\n\n98\n00:05:11.720 --> 00:05:13.288\nWe got it, all right.\n\n99\n00:05:13.288 --> 00:05:15.955\nSo now there's conditional\nrendering inside of this.\n\n100\n00:05:15.955 --> 00:05:23.390\nAnd how this reads, is, if I'm logged in\nthen show the chat panel, end of story.\n\n101\n00:05:23.390 --> 00:05:25.300\n&gt;&gt; Done.\n&gt;&gt; If I'm not logged in,\n\n102\n00:05:25.300 --> 00:05:28.220\nI wanna check to see,\ndo you want to log in?\n\n103\n00:05:29.260 --> 00:05:31.320\nIf you do show the log in page.\n\n104\n00:05:31.320 --> 00:05:34.570\nIf you don't show the sign up form, okay?\n\n105\n00:05:34.570 --> 00:05:38.200\nI said page but\nit's actually just a sign up component.\n\n106\n00:05:38.200 --> 00:05:40.415\nSo if we come back over here, uh-oh.\n\n107\n00:05:40.415 --> 00:05:45.310\nSo this.state, why is this not working?\n\n108\n00:05:47.210 --> 00:05:53.060\nSo let's look,\ndo I have something crazy here?\n\n109\n00:05:53.060 --> 00:05:58.130\nSo looks fine, let's pull this in.\n\n110\n00:05:58.130 --> 00:06:01.710\nI need to, you know what?\n\n111\n00:06:01.710 --> 00:06:02.660\nI am being silly.\n\n112\n00:06:02.660 --> 00:06:04.870\nHow about we do some rearrangement here?\n\n113\n00:06:04.870 --> 00:06:11.260\nI'm gonna grab this main panel and I'm\ngonna pull it inside and say main panel.\n\n114\n00:06:12.530 --> 00:06:15.796\nAnd then here I'm gonna\nbring this main panel.\n\n115\n00:06:15.796 --> 00:06:18.570\nSo I'm gonna restructure\nthis just a little bit, so\n\n116\n00:06:18.570 --> 00:06:21.760\nthat we can, kind of pull this apart,\nand think about it a little better.\n\n117\n00:06:23.570 --> 00:06:27.330\nSo this main panel, let's pull this out.\n\n118\n00:06:27.330 --> 00:06:29.220\nWe'll come back, and do that.\n\n119\n00:06:29.220 --> 00:06:38.080\nWe've had a little bit of,\nLet's just say not logged in.\n\n120\n00:06:38.080 --> 00:06:46.170\nSo we've regressed a little bit, Like so.\n\n121\n00:06:46.170 --> 00:06:51.720\nAnd now if we come back and we look,\nI got some- It should be rebuilding.\n\n122\n00:06:51.720 --> 00:06:52.810\nThat actually should've worked.\n\n123\n00:06:52.810 --> 00:06:53.810\nLet's see, there we go.\n\n124\n00:06:53.810 --> 00:06:54.510\nSo we're now logged in.\n\n125\n00:06:55.600 --> 00:06:59.533\nBut actually what I want\nis I want the main panel.\n\n126\n00:07:02.896 --> 00:07:05.731\nAgain, now this is a little\nbit of repetition but\n\n127\n00:07:05.731 --> 00:07:08.725\nI think this will be a little bit clear.\n\n128\n00:07:08.725 --> 00:07:12.496\nSo this is, I'm making a decision,\nI'm making a decision.\n\n129\n00:07:12.496 --> 00:07:13.615\n&gt;&gt; Decisions are good.\n\n130\n00:07:13.615 --> 00:07:15.885\n&gt;&gt; Within that, there we go.\n\n131\n00:07:15.885 --> 00:07:19.485\nWithin that I now have a parent component\nthat I can do this conditional render.\n\n132\n00:07:19.485 --> 00:07:24.011\nThat was totally my fault I was\ntrying to do some craziness and\n\n133\n00:07:24.011 --> 00:07:29.885\nnot reorganize but if I'm logged in,\nshow the main panel with the chat panel.\n\n134\n00:07:29.885 --> 00:07:35.100\nIf I'm not logged in show the main panel,\nright, with the,\n\n135\n00:07:35.100 --> 00:07:42.284\nwell, depends on whether I want to log\nin or not, so this.state.wantsToLogIn.\n\n136\n00:07:42.284 --> 00:07:46.299\nSo do you want to log in?\n\n137\n00:07:46.299 --> 00:07:51.608\nIf so, then show the,\nand I'm going to undo\n\n138\n00:07:51.608 --> 00:07:57.359\nthis a little bit so\nI can grab those two pieces.\n\n139\n00:07:57.359 --> 00:08:02.454\nMan, Zach,\nI got a little ahead of myself there.\n\n140\n00:08:02.454 --> 00:08:03.840\nAll right, there we go.\n\n141\n00:08:03.840 --> 00:08:06.520\nSo I'm gonna grab this and cut, and\n\n142\n00:08:06.520 --> 00:08:11.705\nthen I should be able to now\ndo this main panel portion.\n\n143\n00:08:13.790 --> 00:08:19.544\nAnd one last time, we're not all perfect.\n\n144\n00:08:19.544 --> 00:08:20.286\n&gt;&gt; They just play.\n\n145\n00:08:20.286 --> 00:08:24.158\n&gt;&gt; That almost sounded like a Bob Ross\nsaying, but we'll go with it.\n\n146\n00:08:24.158 --> 00:08:26.558\n&gt;&gt; [INAUDIBLE]\n&gt;&gt; Yeah, there we go.\n\n147\n00:08:26.558 --> 00:08:27.770\nIt just needs a little tree.\n\n148\n00:08:27.770 --> 00:08:30.990\nSo this main panel has\na nice little friend.\n\n149\n00:08:30.990 --> 00:08:36.480\nAnd so, this.state wants to log in,\nwants to log in.\n\n150\n00:08:40.110 --> 00:08:41.870\nThere we go, finally.\n\n151\n00:08:44.100 --> 00:08:44.940\nIf we want to login and\n\n152\n00:08:44.940 --> 00:08:49.140\nshow the login form if we don't\nshow the sign up form just like so.\n\n153\n00:08:49.140 --> 00:08:52.990\nSo if we come over here and\nwe refresh, sign up, okay.\n\n154\n00:08:52.990 --> 00:08:56.190\nThat's because wanting to\nlogin is false by default.\n\n155\n00:08:57.970 --> 00:09:02.267\nIf we come up here and\nwe change this to true.\n\n156\n00:09:02.267 --> 00:09:07.203\nWell, then it goes to the login page.\n\n157\n00:09:07.203 --> 00:09:11.280\nSo we need to modify this just a touch,\nright?\n\n158\n00:09:11.280 --> 00:09:13.490\nCuz as it stands there's no way to toggle.\n\n159\n00:09:13.490 --> 00:09:16.730\nOnce I'm loaded on the log in page,\nthere's no way for the user to\n\n160\n00:09:16.730 --> 00:09:21.050\nactually say, actually if I don't have\nan account, I need to go over here, right?\n\n161\n00:09:21.050 --> 00:09:25.906\nSo what we're gonna do is add a link,\nbecause I want it to be a link but\n\n162\n00:09:25.906 --> 00:09:28.393\nit actually initiates an action.\n\n163\n00:09:28.393 --> 00:09:33.604\nAnd what we're gonna do is add,\n\n164\n00:09:33.604 --> 00:09:36.885\nlet's say update or\n\n165\n00:09:36.885 --> 00:09:42.096\nhow about we go to goToSignup and\n\n166\n00:09:42.096 --> 00:09:47.310\nthat's going to be a function.\n\n167\n00:09:47.310 --> 00:09:52.349\nThen we're just gonna inline it,\n\n168\n00:09:52.349 --> 00:09:55.651\nthis.setState xl and\n\n169\n00:09:55.651 --> 00:10:00.360\nwantsToLogIn to false, okay?\n\n170\n00:10:00.360 --> 00:10:04.400\nSo you will see this, it's not necessarily\nthat we have to do this in line,\n\n171\n00:10:04.400 --> 00:10:08.970\nbut it's such as small little update that\nI think it makes sense in this context.\n\n172\n00:10:08.970 --> 00:10:14.317\nLikewise, there's gonna be a sign up,\n\n173\n00:10:14.317 --> 00:10:18.577\ngoToLogin, it is just like so.\n\n174\n00:10:18.577 --> 00:10:23.902\nNot like that, this.setState\n\n175\n00:10:23.902 --> 00:10:29.034\nwantsToLogIn to true, okay?\n\n176\n00:10:29.034 --> 00:10:32.900\nSo I'm gonna pass these functions into\nthe sign up form and the log in form.\n\n177\n00:10:32.900 --> 00:10:36.320\nAnd it would be nice if I had some\nlittle bit of scroll over, there we go,\n\n178\n00:10:36.320 --> 00:10:36.953\nthere we go.\n\n179\n00:10:36.953 --> 00:10:40.921\nSo now let's fix this.\n\n180\n00:10:40.921 --> 00:10:44.358\nWhy do you taunt me editor,\nwhy do you taunt me?\n\n181\n00:10:44.358 --> 00:10:46.150\nI never can't get that to work just right.\n\n182\n00:10:46.150 --> 00:10:47.487\nSo that indentation's often.\n\n183\n00:10:47.487 --> 00:10:50.869\nAnd that's because the editor's trying\nto be a little too smart for me.\n\n184\n00:10:50.869 --> 00:10:58.581\nAnd let's just change this to JavaScript\nactually, JavaScript with JSX.\n\n185\n00:10:58.581 --> 00:11:03.388\nSo my highlight was off with JSX,\nthere we go.\n\n186\n00:11:03.388 --> 00:11:09.110\nSo there we go,\nthat was starting to bug me.\n\n187\n00:11:09.110 --> 00:11:10.513\nWell, as I said we're not all perfect.\n\n188\n00:11:10.513 --> 00:11:12.438\nBut now that we have that goToLogIn and\n\n189\n00:11:12.438 --> 00:11:15.940\ngoToSignUp kind of passed\ninto these respective forms.\n\n190\n00:11:15.940 --> 00:11:19.948\nWe probably need some way to\ninitiate that with each form.\n\n191\n00:11:19.948 --> 00:11:24.001\nSo I'm gonna close out of\nall of this stuff up here,\n\n192\n00:11:24.001 --> 00:11:27.786\nget it out of the way,\nand go back to login form.\n\n193\n00:11:27.786 --> 00:11:31.511\nAnd the sign up form,\nand know that on props,\n\n194\n00:11:31.511 --> 00:11:35.446\nI'm now going to get some information,\nokay?\n\n195\n00:11:35.446 --> 00:11:38.499\nI am totally okay with this\nbeing full width for now.\n\n196\n00:11:38.499 --> 00:11:42.327\nWe can always go back and tweak that,\nbut I don't like the fact that it\n\n197\n00:11:42.327 --> 00:11:46.817\nwas both on the same page, cuz I don't\nknow, they just bothered me a little bit.\n\n198\n00:11:46.817 --> 00:11:50.920\nOkay, so now I'm gonna come\noutside with this form and\n\n199\n00:11:50.920 --> 00:11:54.946\nI'm gonna create an anchor tag or\na giant thing here.\n\n200\n00:11:54.946 --> 00:12:00.578\nAnd you know what,\nI'm not even going to add a atrium,\n\n201\n00:12:00.578 --> 00:12:07.450\nbecause I'm actually giving this\na role as a button effectively.\n\n202\n00:12:07.450 --> 00:12:10.893\nSo role of button, and what do I want?\n\n203\n00:12:10.893 --> 00:12:17.061\nOnClick, and this is in the sign up form,\n\n204\n00:12:17.061 --> 00:12:26.243\nonClick I want this.props.gotologin\njust like so, okay?\n\n205\n00:12:26.243 --> 00:12:30.380\nAnd then we'll close\nout our anchor as such.\n\n206\n00:12:32.536 --> 00:12:33.203\nThere we go.\n\n207\n00:12:33.203 --> 00:12:39.029\nSo let's add a little bit of text\nin there, so we can think about it.\n\n208\n00:12:39.029 --> 00:12:42.293\nSo this is sign up,\nalready have an account.\n\n209\n00:12:47.569 --> 00:12:51.480\nGo login, just like that, boom.\n\n210\n00:12:51.480 --> 00:12:55.600\nSo now, let's go change\nthat app level state to see\n\n211\n00:12:55.600 --> 00:12:57.050\nif we've got it all figured out.\n\n212\n00:12:57.050 --> 00:13:01.410\nSo wantsToLogIn false,\ncuz we just changed the sign up form.\n\n213\n00:13:01.410 --> 00:13:04.170\nSo we come over here,\nalready have an account, go to login and\n\n214\n00:13:04.170 --> 00:13:05.630\nnow we're in the login.\n\n215\n00:13:05.630 --> 00:13:12.604\nOkay, now I needed to go do the exact\nsame thing for the sign up form, okay?\n\n216\n00:13:12.604 --> 00:13:17.329\nSo now, if we come up to sign up form,\nor excuse me, to the log in form,\n\n217\n00:13:17.329 --> 00:13:19.829\nI think I misspoke just a second ago.\n\n218\n00:13:21.276 --> 00:13:27.423\nWe're gonna say a and then again,\nthis is a role as a button.\n\n219\n00:13:27.423 --> 00:13:31.056\nAnd I want onClick of\n\n220\n00:13:31.056 --> 00:13:39.401\nthis.props.goToSignUp this time, okay?\n\n221\n00:13:39.401 --> 00:13:44.065\nNow ultimately they're just doing a toggle\nand I could abstract this, but for\n\n222\n00:13:44.065 --> 00:13:46.480\nclarity this is what we're going with.\n\n223\n00:13:47.500 --> 00:13:48.960\nAnd now I close our anchor tag.\n\n224\n00:13:50.690 --> 00:13:51.457\nDon't have an account?\n\n225\n00:13:55.413 --> 00:13:57.690\nGo signup.\n\n226\n00:13:57.690 --> 00:13:59.330\nJust like so, okay?\n\n227\n00:13:59.330 --> 00:14:04.062\nSo now we should have the ability\nto toggle back and forth, and\n\n228\n00:14:04.062 --> 00:14:08.075\nyou know what,\nI think we might have, look at that.\n\n229\n00:14:08.075 --> 00:14:11.043\nSo as it stands, if I refresh-\n&gt;&gt; It's magic.\n\n230\n00:14:11.043 --> 00:14:12.940\n&gt;&gt; It is, it is magic.\n\n231\n00:14:12.940 --> 00:14:16.980\nAs it stands, if I refresh, I end up on\nthe sign up page and I can toggle back and\n\n232\n00:14:16.980 --> 00:14:18.620\nforth to the login page.\n\n233\n00:14:18.620 --> 00:14:22.660\nNow we're going with\nthe standard kind of green.\n\n234\n00:14:22.660 --> 00:14:25.280\nSo it may look a little flash to you, but\n\n235\n00:14:25.280 --> 00:14:28.300\nit actually looks pretty\ngood on my screen.\n\n236\n00:14:28.300 --> 00:14:31.650\nI'm just telling you that just in case,\nI don't think it does but just in case.\n\n237\n00:14:31.650 --> 00:14:36.572\nNow I can toggle back and forth,\nbut now because that was so\n\n238\n00:14:36.572 --> 00:14:42.905\neasy kind of straightforward, maybe\nwe can try to shrink this down again,\n\n239\n00:14:42.905 --> 00:14:48.158\npull this back into a nice little [SOUND],\njust like so, okay?\n\n240\n00:14:48.158 --> 00:14:53.289\nSo we got up to where the chat\npanel was large enough,\n\n241\n00:14:53.289 --> 00:14:58.430\nbut then we lost the center\nof our login forms.\n\n242\n00:14:58.430 --> 00:15:01.580\nSo let's go fix that,\ncuz I think we have time.\n\n243\n00:15:01.580 --> 00:15:02.890\nDo we have time?\n\n244\n00:15:02.890 --> 00:15:07.590\n&gt;&gt; I believe we have time, Justin,\nbecause you can make this all happen.\n\n245\n00:15:07.590 --> 00:15:10.885\n&gt;&gt; Well, I like that vote of confidence,\nI'm not entirely sure.\n\n246\n00:15:10.885 --> 00:15:13.936\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm not entirely sure I agree with\n\n247\n00:15:13.936 --> 00:15:17.170\nyou on that very subject,\nbut that's all right.\n\n248\n00:15:17.170 --> 00:15:19.960\nLet's see if I can get it done.\n\n249\n00:15:19.960 --> 00:15:23.610\nSo if we come and look,\nwhat does that entail?\n\n250\n00:15:23.610 --> 00:15:28.287\nWell, if we come up here,\nwe have this div and it's a box, right?\n\n251\n00:15:28.287 --> 00:15:34.363\nNow this box,\nthat is nested inside of the main panel.\n\n252\n00:15:34.363 --> 00:15:39.703\nNow the main panel, in order to get\nthat chat panel to feel, we came into\n\n253\n00:15:39.703 --> 00:15:45.329\nthe main panel in a previous episode and\nwe removed an is have here, right?\n\n254\n00:15:45.329 --> 00:15:47.219\nSo we made this a column.\n\n255\n00:15:47.219 --> 00:15:51.795\nBut this is columns,\nI wonder if we can go to and\n\n256\n00:15:51.795 --> 00:15:57.382\nsee can we use the is have on children\nof something that is a column.\n\n257\n00:15:57.382 --> 00:16:02.920\nSo if we come to bulma.io and\nwe come to docs and\n\n258\n00:16:02.920 --> 00:16:06.898\nwe go to columns and we go, okay.\n\n259\n00:16:06.898 --> 00:16:09.013\nSo there's the first column,\nthat's nonsense.\n\n260\n00:16:09.013 --> 00:16:12.667\nSizes is half, so we can use that.\n\n261\n00:16:12.667 --> 00:16:15.779\nOther columns will fill up\nthe remaining space automatically,\n\n262\n00:16:15.779 --> 00:16:18.093\nif you wanna change the size\nof a single column.\n\n263\n00:16:18.093 --> 00:16:23.076\nThat makes me think that these\nsize classes have to be used in\n\n264\n00:16:23.076 --> 00:16:26.464\nconjunction with a div that is a column or\n\n265\n00:16:26.464 --> 00:16:31.349\nwhatever you're using as your\ncontainer element is to and\n\n266\n00:16:31.349 --> 00:16:37.550\nit looks like yeah, these modifiers\nare always gonna be in that respect.\n\n267\n00:16:38.790 --> 00:16:40.266\nNow, what does that mean?\n\n268\n00:16:40.266 --> 00:16:43.859\nThat means this might be a little\nmore work than I bargained for today.\n\n269\n00:16:43.859 --> 00:16:46.250\nBut since you gave me\nthat vote of confidence-\n\n270\n00:16:47.410 --> 00:16:48.196\n&gt;&gt; I know you can do it.\n\n271\n00:16:48.196 --> 00:16:50.246\n&gt;&gt; I might abandon ship,\nbut we're gonna try.\n\n272\n00:16:50.246 --> 00:16:51.280\nWe're gonna try.\n\n273\n00:16:51.280 --> 00:16:54.433\nSo if we come back and\nour main panel has that column,\n\n274\n00:16:54.433 --> 00:16:57.453\nI'm not even sure that\ncolumn is needed anymore.\n\n275\n00:16:57.453 --> 00:17:01.727\nSo if I remove this,\nlet's see what breaks if I remove that.\n\n276\n00:17:01.727 --> 00:17:03.550\nSo, there's children.\n\n277\n00:17:03.550 --> 00:17:06.295\nThat also means that I'm gonna\nhave to like go back and\n\n278\n00:17:06.295 --> 00:17:08.979\ntweak some things that\nare inside of the main panel.\n\n279\n00:17:08.979 --> 00:17:11.515\nBecause I have column hero, hero body.\n\n280\n00:17:11.515 --> 00:17:14.114\nColumns is centered.\n\n281\n00:17:14.114 --> 00:17:16.692\nSso if I come back,\nlet's see what broke down.\n\n282\n00:17:16.692 --> 00:17:19.665\nMaybe that doesn't look too bad.\n\n283\n00:17:19.665 --> 00:17:24.133\nI would like for it to be a little\nbit bigger, but that's not bad.\n\n284\n00:17:24.133 --> 00:17:27.392\nSo there's our columns and we're back to,\n\n285\n00:17:27.392 --> 00:17:30.922\nI'm gonna change that\nsyntax file item again.\n\n286\n00:17:30.922 --> 00:17:35.198\nJavaScript with JSX and there we go.\n\n287\n00:17:35.198 --> 00:17:36.102\nSo, we removed that.\n\n288\n00:17:36.102 --> 00:17:37.877\nSo I actually removed some code there.\n\n289\n00:17:37.877 --> 00:17:39.184\nThat's always nice.\n\n290\n00:17:39.184 --> 00:17:45.856\nNow, my question is does the chat panel\nstill work if I'm actually logged in?\n\n291\n00:17:45.856 --> 00:17:50.679\nSo if I go to long in and\nI go to jatj.com, one, two,\n\n292\n00:17:50.679 --> 00:17:54.320\nthree, four, five, six and I log in.\n\n293\n00:17:54.320 --> 00:17:58.196\nNow, we're back to shenanigans here.\n\n294\n00:17:58.196 --> 00:18:01.500\nSo, we now need to tweak\nthis a little bit.\n\n295\n00:18:02.880 --> 00:18:07.880\nSo whatever the children's gonna be,\nwe need to then make it a column and\n\n296\n00:18:07.880 --> 00:18:10.190\ngive it the width that we anticipate.\n\n297\n00:18:10.190 --> 00:18:14.944\nSo if I come to the sign up form,\nthere's our div and\n\n298\n00:18:14.944 --> 00:18:20.931\nit's a box and this is going to be\na column and let's say is half.\n\n299\n00:18:20.931 --> 00:18:28.451\nCuz that's what I want for the sign up and\nI also want that for the log in.\n\n300\n00:18:28.451 --> 00:18:33.140\nSo come over here and log out,\nand think I'm okay with that.\n\n301\n00:18:33.140 --> 00:18:34.343\nThat's pulled it in a little bit.\n\n302\n00:18:34.343 --> 00:18:37.917\nIt's still nice enough to I can tweak.\n\n303\n00:18:37.917 --> 00:18:39.834\nGo crazy about the signs,\nbut I know that works.\n\n304\n00:18:39.834 --> 00:18:43.020\nAnd if I go to log in,\nthe login works just exactly the same.\n\n305\n00:18:43.020 --> 00:18:47.919\nSo if I got to j.j or\n.com and then some password\n\n306\n00:18:47.919 --> 00:18:52.215\nthat I'm supposed to remember, login.\n\n307\n00:18:52.215 --> 00:18:54.976\nSo now, this is actually our chat panel.\n\n308\n00:18:57.020 --> 00:18:59.224\nLet's see here come over\nhere to chat panel.\n\n309\n00:18:59.224 --> 00:19:00.969\nHey, there's a div.\n\n310\n00:19:00.969 --> 00:19:07.191\nThat could just have a class name\n\n311\n00:19:07.191 --> 00:19:12.939\nof column and is full width.\n\n312\n00:19:12.939 --> 00:19:14.175\nThat might actually work.\n\n313\n00:19:14.175 --> 00:19:18.355\nLet's see if it refreshes and\nboom, we're back in action.\n\n314\n00:19:18.355 --> 00:19:21.586\nWell, I kind of thought I was\ngonna overcomplicate that.\n\n315\n00:19:21.586 --> 00:19:23.891\nBut it looks like it was\npretty straightforward.\n\n316\n00:19:23.891 --> 00:19:28.419\nSo now, let's see what happens for\nresponsiveness and\n\n317\n00:19:28.419 --> 00:19:30.449\nI still get this is nice.\n\n318\n00:19:30.449 --> 00:19:32.114\nThat's not too bad.\n\n319\n00:19:32.114 --> 00:19:33.879\nI'm pretty proud of that.\n\n320\n00:19:33.879 --> 00:19:37.372\nPretty happy about it and\nthat was a nice little cleanup.\n\n321\n00:19:37.372 --> 00:19:42.367\nA little bit of just small details can\nhelp, but being able to toggle back and\n\n322\n00:19:42.367 --> 00:19:42.924\nforth.\n\n323\n00:19:42.924 --> 00:19:46.829\nI think this is a little nicer than\ninitially when you land on the page.\n\n324\n00:19:46.829 --> 00:19:49.145\nI go and refresh, launch Sign Up.\n\n325\n00:19:49.145 --> 00:19:52.619\nI want you to sign up for my service and\nthen you already have an account.\n\n326\n00:19:52.619 --> 00:19:54.502\nGo to login, cool.\n\n327\n00:19:54.502 --> 00:19:59.011\nAnd we could get crazy and\nwe could hide this rooms portion and\n\n328\n00:19:59.011 --> 00:20:03.972\nonly show you login or sign up, but\nuntil I have some other things.\n\n329\n00:20:03.972 --> 00:20:08.259\nGraphics or whatnot, I'm gonna leave that\nthere just kind of as a little glimmer.\n\n330\n00:20:08.259 --> 00:20:10.287\nReally, I should hide this logout button.\n\n331\n00:20:10.287 --> 00:20:14.961\nIf I'm not logged in, but those are all\nminor tweaks that we can come back.\n\n332\n00:20:14.961 --> 00:20:16.861\nYou build a little,\nyou come back minor tweaks.\n\n333\n00:20:16.861 --> 00:20:19.088\nBuild a little, minor tweaks.\n\n334\n00:20:19.088 --> 00:20:20.961\nBut I think that's a good stopping point,\n\n335\n00:20:20.961 --> 00:20:23.050\nbecause we got the core\nfunction that I wanted.\n\n336\n00:20:23.050 --> 00:20:26.424\nWe did a little bit refactoring,\na little bit of restructuring.\n\n337\n00:20:26.424 --> 00:20:29.328\nThere's still a lot more to go,\nespecially the data layer.\n\n338\n00:20:29.328 --> 00:20:33.524\nBut I think this will finish\nup our time together.\n\n339\n00:20:33.524 --> 00:20:36.629\n&gt;&gt; This is our episode of toggling\nthe sign up and log in components.\n\n340\n00:20:36.629 --> 00:20:38.314\nJustin, do you have any last words?\n\n341\n00:20:38.314 --> 00:20:40.413\n&gt;&gt; Well, definitely stay tuned.\n\n342\n00:20:40.413 --> 00:20:44.591\nBecause we're getting ready to start\njumping into the Firebase portion.\n\n343\n00:20:44.591 --> 00:20:46.396\nWhere it gets a little complicated,\n\n344\n00:20:46.396 --> 00:20:49.948\nbecause Firebase is actually going to\ninform us of changes in the data and\n\n345\n00:20:49.948 --> 00:20:52.468\nwill actually help us\npropagate through our apps.\n\n346\n00:20:52.468 --> 00:20:55.851\nSo we wont always have to make\nHTTP requests and such, but\n\n347\n00:20:55.851 --> 00:20:57.547\nit is a little mind bending.\n\n348\n00:20:57.547 --> 00:21:00.519\nAnd well, if you wanna see how that\nplays out, definitely join us.\n\n349\n00:21:00.519 --> 00:21:04.642\n&gt;&gt; Besides, working in anything\ncalled Firebase has gotta be cool and\n\n350\n00:21:04.642 --> 00:21:08.620\nmake sure you watch every single\nepisode of chat app with react and\n\n351\n00:21:08.620 --> 00:21:11.022\nfire base you'll be glad that you did.\n\n352\n00:21:11.022 --> 00:21:12.897\nThank you for watching DevProTV.\n\n353\n00:21:12.897 --> 00:21:14.744\nRemember, a good dev\npro is always learning.\n\n354\n00:21:14.744 --> 00:21:15.748\nI'm Zach Memeth.\n\n355\n00:21:15.748 --> 00:21:16.607\n&gt;&gt; And I'm Justin Nielson.\n\n356\n00:21:16.607 --> 00:21:18.332\n&gt;&gt; And we'll see you again.\n\n357\n00:21:18.332 --> 00:21:23.356\n[MUSIC]\n\n",
          "vimeoId": "231093717"
        },
        {
          "description": "Justin and Zach cover how to add/modify a Room, keys issued by Firebase, Add-Room-Form component, Room-List component, maintain styling, refactoring, Build The Form, Placeholder = 'RoomName...', modify State, React Dev Tools, functional Sateless component, Rooms in the Firebase, and created date.",
          "length": "1605",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-12-1-1-add_a_room-082317.00_27_19_03.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-12-1-1-add_a_room-082317.00_27_19_03.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-12-1-1-add_a_room-082317.00_27_19_03.Still001-sm.jpg",
          "title": "Add a Room",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:08.757\n[MUSIC]\n\n2\n00:00:08.757 --> 00:00:13.713\n[SOUND] Hello and thank you for\njoining us at Dev Pro TV,\n\n3\n00:00:13.713 --> 00:00:17.032\nhelping you learn wherever you go.\n\n4\n00:00:17.032 --> 00:00:18.670\nI'm your host, Zach Memos.\n\n5\n00:00:18.670 --> 00:00:22.218\nAs we continue on with Chat App\nwith reactive Firebase,\n\n6\n00:00:22.218 --> 00:00:25.349\nthis episode we're gonna be adding a room.\n\n7\n00:00:25.349 --> 00:00:26.996\nRoom additions, aye?\n\n8\n00:00:26.996 --> 00:00:29.998\nAnd the person giving us the information\nwe need is Justin Dennison because he's\n\n9\n00:00:29.998 --> 00:00:32.174\nour IT pro and he's a great guy,\nJustin, good to see you.\n\n10\n00:00:32.174 --> 00:00:35.830\n&gt;&gt; It's good to see you as well Zach,\nand I feel like a general contractor.\n\n11\n00:00:35.830 --> 00:00:37.795\nI do not have the appropriate permits,\nthough.\n\n12\n00:00:37.795 --> 00:00:39.065\n&gt;&gt; [LAUGH]\n&gt;&gt; So this is going to be\n\n13\n00:00:39.065 --> 00:00:40.270\nun-permitted work.\n\n14\n00:00:40.270 --> 00:00:41.040\nHow are you today, Zach?\n\n15\n00:00:41.040 --> 00:00:42.484\n&gt;&gt; Well,\nI'm happy cuz I pulled the permits.\n\n16\n00:00:42.484 --> 00:00:44.026\n&gt;&gt; [LAUGH]\n&gt;&gt; So we're all set to go.\n\n17\n00:00:44.026 --> 00:00:45.910\n&gt;&gt; We are all set to go.\n\n18\n00:00:45.910 --> 00:00:46.690\n&gt;&gt; Add that room!\n\n19\n00:00:46.690 --> 00:00:47.390\nAdd it.\n\n20\n00:00:47.390 --> 00:00:51.430\n&gt;&gt; Now, we're gonna have to find some\nsubs for concrete and carpentry.\n\n21\n00:00:51.430 --> 00:00:52.720\nIt's gonna be an involved process.\n\n22\n00:00:52.720 --> 00:00:56.540\nNo, actually,\nit's pretty easy as far as programming.\n\n23\n00:00:56.540 --> 00:01:01.270\nNow, easy is always a relative term, what\ncan be easy for me may be difficult for\n\n24\n00:01:01.270 --> 00:01:05.130\nyou or vice versa, what may be easy for\nyou may be difficult for\n\n25\n00:01:05.130 --> 00:01:09.960\nme, so I'm always hesitant to use Easy,\nright.\n\n26\n00:01:09.960 --> 00:01:12.012\nIt may be simple, but\nmaybe it's not necessarily easy, right?\n\n27\n00:01:12.012 --> 00:01:13.418\n&gt;&gt; Simple but not easy.\n\n28\n00:01:13.418 --> 00:01:15.390\nYeah, there you go.\n\n29\n00:01:15.390 --> 00:01:18.407\n&gt;&gt; Let's think about,\nwhere are we in our application?\n\n30\n00:01:18.407 --> 00:01:20.560\nWe can log in, we can sign up, right?\n\n31\n00:01:21.600 --> 00:01:22.360\nWe can see rooms.\n\n32\n00:01:22.360 --> 00:01:25.066\nWe can select rooms, but\nthe rooms are kinda hard-coded right now.\n\n33\n00:01:25.066 --> 00:01:28.288\nWe actually see some messages,\nthose are also hard-coded as well.\n\n34\n00:01:28.288 --> 00:01:31.961\nOur messages are going to Firebase,\nbut we're not updating those,\n\n35\n00:01:31.961 --> 00:01:35.822\nwe still have some data things we all\ngotta kinda come back together, and\n\n36\n00:01:35.822 --> 00:01:37.233\nkinda this final hurrah.\n\n37\n00:01:37.233 --> 00:01:37.759\n&gt;&gt; Mm-hm.\n\n38\n00:01:37.759 --> 00:01:39.631\n&gt;&gt; That's not going to be right now.\n\n39\n00:01:39.631 --> 00:01:44.353\nWhat we want is the ability to\nadd a room to the list, and\n\n40\n00:01:44.353 --> 00:01:49.810\nthen we probably want that room\nto update the list that is seen.\n\n41\n00:01:49.810 --> 00:01:51.509\nSo it needs to go to Firebase,\nit needs to come back.\n\n42\n00:01:51.509 --> 00:01:54.284\nNow, ideally, the messages should do that,\n\n43\n00:01:54.284 --> 00:01:58.768\nbut we need the ability to have rooms\nthat are not hard-coded with valid IDs\n\n44\n00:01:58.768 --> 00:02:02.380\nbefore we can worry about\nit having actual messages.\n\n45\n00:02:02.380 --> 00:02:05.390\nSo it was kind of a car before\nthe horse type thing and,\n\n46\n00:02:06.560 --> 00:02:08.640\ngotta do a lot to get a little done,\nright.\n\n47\n00:02:08.640 --> 00:02:11.440\nSo let's go and\ntake a look at our application, here.\n\n48\n00:02:11.440 --> 00:02:13.713\nAnd well, that's just a black screen.\n\n49\n00:02:13.713 --> 00:02:15.420\nBut here we are in our application.\n\n50\n00:02:15.420 --> 00:02:16.416\nI already have an account.\n\n51\n00:02:16.416 --> 00:02:20.600\nAnd we're just gonna log in here,\n\n52\n00:02:20.600 --> 00:02:24.100\nso I log in and\nthis is kind of where we left off.\n\n53\n00:02:24.100 --> 00:02:28.760\nWe have these rooms, we have the ability\nto log out, really I should hide that,\n\n54\n00:02:28.760 --> 00:02:33.330\nI may forego that Zach, because well,\nI always wanna be able to log out.\n\n55\n00:02:33.330 --> 00:02:37.060\nI wanna be able to double click\nlogout if I absolutely want to.\n\n56\n00:02:37.060 --> 00:02:38.830\nAt least for now.\n\n57\n00:02:38.830 --> 00:02:43.315\nSo if we come over here,\nwhere do these rooms come from?\n\n58\n00:02:43.315 --> 00:02:44.165\nWell, it's right here.\n\n59\n00:02:44.165 --> 00:02:48.225\nIt's this object of objects\nthat have these keys.\n\n60\n00:02:48.225 --> 00:02:52.225\nWe need those keys that are gonna\nbe issued by Firebase in order to,\n\n61\n00:02:52.225 --> 00:02:57.035\nwell, create a room ID, which is\ngoing to be that key for the message.\n\n62\n00:02:57.035 --> 00:03:00.635\nRight, for a selected room,\nthat's what's going to be selected.\n\n63\n00:03:00.635 --> 00:03:04.673\nSo, we're about to the point where mock\ndata is going to start failing us.\n\n64\n00:03:04.673 --> 00:03:09.560\nSo, I think, I think,\nthe very first thing we should do\n\n65\n00:03:09.560 --> 00:03:14.720\nis just worry about adding the component,\nthe little form, then add the room.\n\n66\n00:03:14.720 --> 00:03:17.920\nGet that all working and\nthen worry about tying into the data, so\n\n67\n00:03:17.920 --> 00:03:19.660\nthose are our two major parts.\n\n68\n00:03:19.660 --> 00:03:23.310\nAnd while the first one is fairly easy,\nit's a kind of rinse and\n\n69\n00:03:23.310 --> 00:03:26.070\nrepeat of several things\nwe've done before.\n\n70\n00:03:26.070 --> 00:03:29.280\nBut the data part may be a little hm,\n\n71\n00:03:29.280 --> 00:03:34.190\nhow's that gonna work, and we may have\nto do some live action debugging.\n\n72\n00:03:34.190 --> 00:03:34.690\nWho knows.\n\n73\n00:03:34.690 --> 00:03:40.860\nSo let's actually get the add room\ncomponent, or add room form component.\n\n74\n00:03:40.860 --> 00:03:43.880\nKinda worked up and\nput into a particular place.\n\n75\n00:03:43.880 --> 00:03:46.710\nNow the way this has all come together,\n\n76\n00:03:46.710 --> 00:03:51.600\nthis addRoom component is not necessarily\ngoing to be in the place that,\n\n77\n00:03:51.600 --> 00:03:53.900\nas far as the application goes,\nthat I would like it.\n\n78\n00:03:53.900 --> 00:03:58.264\nBut just for some styling and kinda\nkeeping things condensed without having to\n\n79\n00:03:58.264 --> 00:04:00.456\nrestructure some of the application.\n\n80\n00:04:00.456 --> 00:04:02.430\nI'm gonna do some hand waving there.\n\n81\n00:04:02.430 --> 00:04:03.760\nSo do keep that in mind.\n\n82\n00:04:04.870 --> 00:04:08.820\nSo as far as Chatham is we have\nto come over here to source and\n\n83\n00:04:08.820 --> 00:04:15.630\nlet's touch add room component.\n\n84\n00:04:15.630 --> 00:04:18.090\nNo that is not what I wanted.\n\n85\n00:04:18.090 --> 00:04:20.801\nAdd room form.\n\n86\n00:04:20.801 --> 00:04:23.370\nYou're letting me get ahead\nof myself here, Zach.\n\n87\n00:04:23.370 --> 00:04:26.400\nAnd so there is AddRoomForm so\nthis is gonna be one of those stateful\n\n88\n00:04:26.400 --> 00:04:31.220\nform components that we've seen for\nlogin, sign up, adding messages.\n\n89\n00:04:31.220 --> 00:04:33.770\nAll of those, but now that there,\n\n90\n00:04:33.770 --> 00:04:38.170\nwe have to get all of the data\nkinda flowing as we expect it.\n\n91\n00:04:38.170 --> 00:04:41.124\nSo let's open up, AddRoomForm and\n\n92\n00:04:41.124 --> 00:04:45.955\nwe're going to import,\nlet me hide that, import react.\n\n93\n00:04:45.955 --> 00:04:51.880\nAnd component from react.\n\n94\n00:04:51.880 --> 00:04:52.540\nOkay, just like that.\n\n95\n00:04:52.540 --> 00:04:57.280\nAnd then we're gonna go ahead and\ncreate an empty class called,\n\n96\n00:04:57.280 --> 00:05:01.600\nAddRoomForm and\nthat extends the component class.\n\n97\n00:05:04.870 --> 00:05:06.320\nJust like so.\n\n98\n00:05:06.320 --> 00:05:06.950\nOkay.\n\n99\n00:05:06.950 --> 00:05:08.870\nAnd then before we forget, X.\n\n100\n00:05:08.870 --> 00:05:10.630\nThat is not what I meant to type.\n\n101\n00:05:10.630 --> 00:05:13.050\nExport default, the add room form.\n\n102\n00:05:13.050 --> 00:05:14.043\nOkay.\n\n103\n00:05:14.043 --> 00:05:17.972\nNow we need a render function and so\nthe very first thing that I try to do is\n\n104\n00:05:17.972 --> 00:05:21.639\nI always get a very simple render,\nplace it where I want it, just so\n\n105\n00:05:21.639 --> 00:05:25.720\nthat I can make sure it's on\nthe screen as I expect it to be, okay?\n\n106\n00:05:25.720 --> 00:05:30.736\nSo my render function,\nor my render method,\n\n107\n00:05:30.736 --> 00:05:35.356\nis gonna return obviously valid JSX, and\n\n108\n00:05:35.356 --> 00:05:40.112\nI'm just gonna say, H1, adding a room.\n\n109\n00:05:40.112 --> 00:05:44.320\nAnd this is going to look atrocious,\nZach, so don't judge me.\n\n110\n00:05:44.320 --> 00:05:47.170\nSo here's adding a room,\nnow where am I going to put that.\n\n111\n00:05:48.460 --> 00:05:51.350\nWell if we come over to,\nnothing's broke, that's good.\n\n112\n00:05:51.350 --> 00:05:56.790\nIf we come over here I would almost like\nto have it right below the list of rooms.\n\n113\n00:05:56.790 --> 00:05:59.134\nSo it had rooms and\nthen like an add a room.\n\n114\n00:05:59.134 --> 00:06:00.764\nNow if I wanted to go overboard with this,\n\n115\n00:06:00.764 --> 00:06:03.890\nI would probably hide it until\nyou hit a plus sign or reveal it.\n\n116\n00:06:03.890 --> 00:06:08.760\nBut from the beginning of this, there's\na fair amount of complexity already here.\n\n117\n00:06:08.760 --> 00:06:11.480\nSo we're gonna hold off on that\n\n118\n00:06:11.480 --> 00:06:14.656\nfrom a user experience that would\nprobably be a little bit better.\n\n119\n00:06:14.656 --> 00:06:17.221\nSo, I would like to have it here or,\nyou know what,\n\n120\n00:06:17.221 --> 00:06:19.859\nit might even be better to\ngo under the list of rooms.\n\n121\n00:06:19.859 --> 00:06:23.430\nSo as we add lists of rooms,\nit kinda gets push down.\n\n122\n00:06:23.430 --> 00:06:26.040\nNow, obviously there's\na finite limit there and\n\n123\n00:06:26.040 --> 00:06:28.440\nthere's some other things\nthat we would have to handle.\n\n124\n00:06:28.440 --> 00:06:31.790\nBut, I think that's\na good place initially.\n\n125\n00:06:31.790 --> 00:06:35.030\nSo under this list of rooms\nwhich is under the rooms list.\n\n126\n00:06:35.030 --> 00:06:36.950\nComponent, in the side bar.\n\n127\n00:06:36.950 --> 00:06:39.279\nSo if we come over to side bar, and\n\n128\n00:06:39.279 --> 00:06:43.111\nI'm gonna close out some of\nthese other tabs here, and\n\n129\n00:06:43.111 --> 00:06:48.460\nI open the side bar compartment, I would\nalmost like for it to be under here.\n\n130\n00:06:48.460 --> 00:06:53.130\nOkay, so hm, is that right?\n\n131\n00:06:53.130 --> 00:06:57.420\nDo I want it under the rooms list here?\n\n132\n00:06:57.420 --> 00:07:02.780\nOr would I prefer if I come over here,\nlet's see here,\n\n133\n00:07:02.780 --> 00:07:05.600\nif I look inside a rooms list or roomlist?\n\n134\n00:07:06.870 --> 00:07:08.340\nOr would I put it here?\n\n135\n00:07:08.340 --> 00:07:14.260\nNow based on some styling choices\nthis aside has the className menu.\n\n136\n00:07:14.260 --> 00:07:15.540\nI have nice styling choices.\n\n137\n00:07:17.080 --> 00:07:20.665\nI'm actually going to make it part of the\nroom list, I don't particularly like that.\n\n138\n00:07:20.665 --> 00:07:25.390\nBut what we'll do is we'll make it look\nhow I want it, and then we'll see if we\n\n139\n00:07:25.390 --> 00:07:29.753\ncan pull it aside, not- we'll pull\nit aside out of this aside back into\n\n140\n00:07:29.753 --> 00:07:35.030\nthe sidebar just to see if we can\nmaintain that styling that we hoped for.\n\n141\n00:07:35.030 --> 00:07:36.970\nBut actually have a nicer structure dev.\n\n142\n00:07:36.970 --> 00:07:38.598\nSo that's the part where I was like,\n\n143\n00:07:38.598 --> 00:07:42.730\nit's not quite where I wanted it to be but\nthat's what we're gonna do.\n\n144\n00:07:42.730 --> 00:07:49.262\nSo below this ul, which is effectively\nour list, we're gonna create another div.\n\n145\n00:07:49.262 --> 00:07:53.565\nAnd I know that I need a little\nbit of padding or, excuse me,\n\n146\n00:07:53.565 --> 00:07:55.298\na little bit of margin.\n\n147\n00:07:55.298 --> 00:08:00.059\nSo I'm gonna say, margin Top like so, and\n\n148\n00:08:00.059 --> 00:08:04.690\nI'm just going to say 30 pixels.\n\n149\n00:08:04.690 --> 00:08:07.630\nIt might be too much, but there we go.\n\n150\n00:08:07.630 --> 00:08:11.336\nAnd I want that just to separate\nit from this actual list.\n\n151\n00:08:11.336 --> 00:08:13.620\nI don't want it to set\nright at the bottom, so\n\n152\n00:08:13.620 --> 00:08:17.340\njust add a little margin\nbetween those two vertically.\n\n153\n00:08:17.340 --> 00:08:22.343\nNow from here,\nI'm just gonna add a p-tag and\n\n154\n00:08:22.343 --> 00:08:26.072\ngive it a class name of menu label.\n\n155\n00:08:26.072 --> 00:08:27.170\nLet me scroll up here.\n\n156\n00:08:28.470 --> 00:08:32.500\nMenu label has-text-white.\n\n157\n00:08:32.500 --> 00:08:35.780\nThese are helper classes from Beaumont\nto make sure I have white text.\n\n158\n00:08:35.780 --> 00:08:38.950\nAnd is-size-5, okay?\n\n159\n00:08:40.720 --> 00:08:42.562\nSo there's our p tag.\n\n160\n00:08:42.562 --> 00:08:43.550\nAnd what is that?\n\n161\n00:08:43.550 --> 00:08:46.406\nWell, we're just gonna say add a room.\n\n162\n00:08:46.406 --> 00:08:52.360\nAnd right below that, this is where\nI want AddRoomForm, just like so.\n\n163\n00:08:52.360 --> 00:08:56.087\nSo I need to import that into this\ncomponent in order to use it.\n\n164\n00:08:56.087 --> 00:09:00.580\nSo import AddRoomForm from\n\n165\n00:09:00.580 --> 00:09:06.280\nAddRoomForm, just like so.\n\n166\n00:09:06.280 --> 00:09:09.715\nSo if we come over,\nwe should be able to see that.\n\n167\n00:09:09.715 --> 00:09:14.481\nWell, and there it is and notice it's that\nnice little styling where that p tag gets\n\n168\n00:09:14.481 --> 00:09:19.140\nan all caps transformation and then right\nbelow that would actually be the form.\n\n169\n00:09:19.140 --> 00:09:22.090\nNow as a standard in SSH1, that's good.\n\n170\n00:09:22.090 --> 00:09:25.100\nNow before we go and build anything else,\nI'm kind of interested,\n\n171\n00:09:26.180 --> 00:09:33.590\nkind of interested, to see if I pull\nthis portion, this little div here out.\n\n172\n00:09:35.360 --> 00:09:42.290\nAnd I pull this out and instead,\nput that in the sidebar.\n\n173\n00:09:43.610 --> 00:09:47.700\nSo you know how I said I don't\nparticularly like how it's positioned?\n\n174\n00:09:47.700 --> 00:09:48.820\nSo here's our RoomList.\n\n175\n00:09:48.820 --> 00:09:51.980\nI kind of want it just right here.\n\n176\n00:09:51.980 --> 00:09:55.407\nOkay, so let's see if that works.\n\n177\n00:09:55.407 --> 00:09:56.665\nAs it stands, it's broken.\n\n178\n00:09:56.665 --> 00:10:03.314\nSo AddRoomForm from AddRoomForm.\n\n179\n00:10:03.314 --> 00:10:06.450\nWe'll go clean that up just shortly.\n\n180\n00:10:06.450 --> 00:10:08.610\nAnd see this is what I was afraid of,\n\n181\n00:10:08.610 --> 00:10:11.854\nI got weird spacing that I\ndon't particularly want.\n\n182\n00:10:11.854 --> 00:10:14.352\n&gt;&gt; Now you didn't do that on purpose now,\ndid you?\n\n183\n00:10:14.352 --> 00:10:15.308\n&gt;&gt; No.\n\n184\n00:10:15.308 --> 00:10:18.490\n&gt;&gt; [LAUGH]\n&gt;&gt; Now that's because I had this RoomList\n\n185\n00:10:18.490 --> 00:10:20.600\nthat kind of spans a larger area.\n\n186\n00:10:22.080 --> 00:10:24.864\nWell, the RoomList\ncomponent has this aside,\n\n187\n00:10:24.864 --> 00:10:27.305\nhas a larger area kind of contained to it.\n\n188\n00:10:27.305 --> 00:10:30.847\nSo I have to put it inside,\nso we gotta undo that.\n\n189\n00:10:30.847 --> 00:10:32.121\nI was afraid of that.\n\n190\n00:10:32.121 --> 00:10:37.120\nNot necessarily my most,\nthe best way, right?\n\n191\n00:10:37.120 --> 00:10:38.820\nWe could definitely come back and\nrefactor that,\n\n192\n00:10:38.820 --> 00:10:43.470\nbut maybe I'll leave that as\nsomething that you should tweak on.\n\n193\n00:10:43.470 --> 00:10:48.060\nMainly, because refactoring is not\nnecessarily the most exciting or\n\n194\n00:10:48.060 --> 00:10:54.010\nthe most invigorating set of\nthings that you can undergo, okay?\n\n195\n00:10:54.010 --> 00:10:56.330\nSo if we come back, and\nthat's actually what I want.\n\n196\n00:10:56.330 --> 00:10:59.978\nNow we have that position, we have\nthat kind of, that label, that layout.\n\n197\n00:10:59.978 --> 00:11:02.547\nLet's actually go build the form.\n\n198\n00:11:02.547 --> 00:11:07.307\nSo if I come over and close this out,\nside bars can go away,\n\n199\n00:11:07.307 --> 00:11:12.279\nI'm gonna come to this AddRoomForm and\nI wanna build a form.\n\n200\n00:11:12.279 --> 00:11:16.270\nAnd here's my form and\nI'm gonna say onSubmit.\n\n201\n00:11:16.270 --> 00:11:25.840\nAnd this handle, AddRoom,\nand close that form.\n\n202\n00:11:25.840 --> 00:11:33.280\nNow I really wanna take a quick moment to\nmention these event handlers throughout.\n\n203\n00:11:33.280 --> 00:11:37.380\nI haven't adopted a consistent naming\nconvention, mainly to show you some things\n\n204\n00:11:37.380 --> 00:11:42.470\nthat people do, like login form has,\n\n205\n00:11:42.470 --> 00:11:46.100\nwait for it, it's somewhere around here,\njust login, right.\n\n206\n00:11:46.100 --> 00:11:48.680\nSo there may just be a simple action.\n\n207\n00:11:48.680 --> 00:11:56.620\nBut SendMessageForm is onSendMessage,\nor onMessageSend.\n\n208\n00:11:56.620 --> 00:12:00.260\nAnd then also here in AddRoomForm,\nit just handleAddRoom.\n\n209\n00:12:00.260 --> 00:12:04.070\nSo those are things that people will\ndo that you should be aware of.\n\n210\n00:12:04.070 --> 00:12:09.283\nNow even though I've kind of mixed and\nmatched in this application for being\n\n211\n00:12:09.283 --> 00:12:15.710\ndemonstrative, I recommend picking one,\npicking a style and kinda sticking to it.\n\n212\n00:12:15.710 --> 00:12:17.648\nMainly because it'll convey meaning,\n\n213\n00:12:17.648 --> 00:12:21.138\nkinda semantic meaning to you as you\ncontinue to build the application.\n\n214\n00:12:21.138 --> 00:12:23.349\nSo quick little aside there.\n\n215\n00:12:23.349 --> 00:12:24.090\n&gt;&gt; Very nice.\n\n216\n00:12:24.090 --> 00:12:25.000\n&gt;&gt; It was bothering me.\n\n217\n00:12:25.000 --> 00:12:30.340\nI'm not sure if I were as clear about\nmy intentions from the outset there.\n\n218\n00:12:30.340 --> 00:12:38.571\nSo form, and then we want a div\nwith a className of control.\n\n219\n00:12:38.571 --> 00:12:40.420\nAnd this is simply for styling.\n\n220\n00:12:40.420 --> 00:12:44.067\nUltimately, I don't need this div for\nfunctionality.\n\n221\n00:12:44.067 --> 00:12:47.930\nAnd then inside of here I want\nan input of type= 'text'.\n\n222\n00:12:49.580 --> 00:12:51.700\nAnd well, let's see here.\n\n223\n00:12:51.700 --> 00:12:56.070\nAnd I'm gonna change this syntax\nhighlighting to JavaScript with JSX.\n\n224\n00:12:57.080 --> 00:13:04.265\nAnd I'm gonna say placeholder=Room Name.\n\n225\n00:13:04.265 --> 00:13:08.397\nAnd then on, nope, onChange,\n\n226\n00:13:08.397 --> 00:13:12.790\nI need to do something onChange.\n\n227\n00:13:12.790 --> 00:13:16.100\nThis is, for\nnow let's just put an error function here.\n\n228\n00:13:17.930 --> 00:13:24.140\nOkay, and then let's just say console.log,\nand there's actually an event object.\n\n229\n00:13:24.140 --> 00:13:25.701\nSo let's just log that.\n\n230\n00:13:25.701 --> 00:13:28.160\nAnd then what else do we need?\n\n231\n00:13:28.160 --> 00:13:30.910\nWe need a class name for\nsome nice styling.\n\n232\n00:13:30.910 --> 00:13:33.790\nThat's just an input type.\n\n233\n00:13:33.790 --> 00:13:41.027\nAnd we need a binding to value so\nthis.state.roomName.\n\n234\n00:13:42.225 --> 00:13:45.680\nOkay, well,\nwe've kind of fall through this but\n\n235\n00:13:45.680 --> 00:13:48.090\nwe don't have all the pieces that\nwe need in order to make this work.\n\n236\n00:13:49.112 --> 00:13:53.710\nSo onChange, that's gonna be an inline\nfunction, an inline fat arrow function.\n\n237\n00:13:53.710 --> 00:13:56.919\nBut the state,\nwe don't have state in this component.\n\n238\n00:13:56.919 --> 00:14:01.090\nBut we know that kinda the easiest\nway to manage forms, and\n\n239\n00:14:01.090 --> 00:14:05.517\nit's not the only way, but\nkinda the most straightforward,\n\n240\n00:14:05.517 --> 00:14:09.349\nis to have a state object\nthat maintains the values and\n\n241\n00:14:09.349 --> 00:14:13.970\ncontrols the input value that you see and\nchanges it as you type.\n\n242\n00:14:13.970 --> 00:14:15.701\nSo those are the things there.\n\n243\n00:14:15.701 --> 00:14:18.115\nAnd then we need a roomName.\n\n244\n00:14:18.115 --> 00:14:20.300\nAnd I'm just gonna put that\nas an empty string for now.\n\n245\n00:14:20.300 --> 00:14:23.520\nNow I could put that as null, but\nif it's not empty, this is actually what\n\n246\n00:14:23.520 --> 00:14:27.660\nwill be rendered inside the component,\ninside of this input field.\n\n247\n00:14:27.660 --> 00:14:30.851\nSo if I go to onChange,\nand I start typing,\n\n248\n00:14:30.851 --> 00:14:33.703\n[SOUND] notice all those events there.\n\n249\n00:14:33.703 --> 00:14:35.940\nAll I want is the value.\n\n250\n00:14:37.100 --> 00:14:42.880\nSo I want the target, and it's kind of\nhard to see because these are proxy.\n\n251\n00:14:42.880 --> 00:14:46.030\nThis is a synthetic event and\nI would have to go, I\n\n252\n00:14:48.290 --> 00:14:52.110\nwould have to go grab like a console\nlog and do some other things.\n\n253\n00:14:52.110 --> 00:14:54.755\nSo there's a .target.value there.\n\n254\n00:14:54.755 --> 00:14:57.480\nWe've used that several times.\n\n255\n00:14:57.480 --> 00:15:00.340\nSo what I want is just to set state.\n\n256\n00:15:00.340 --> 00:15:05.592\nSo this.setstate and I want roomName to\n\n257\n00:15:05.592 --> 00:15:12.550\nbe equal to e.target.value,\njust like so, okay?\n\n258\n00:15:12.550 --> 00:15:15.070\nSo that kind of creates that loop.\n\n259\n00:15:15.070 --> 00:15:18.390\nChange it, which then propagates\nback down to what you see.\n\n260\n00:15:18.390 --> 00:15:21.850\nSo I go back and\nnow you don't see anything.\n\n261\n00:15:21.850 --> 00:15:27.030\nIf I use the React dev tools, though, to\nobserve state internal to this component,\n\n262\n00:15:27.030 --> 00:15:29.000\ntakes a little bit to get down there.\n\n263\n00:15:29.000 --> 00:15:31.490\nThis is in the sidebar, and\n\n264\n00:15:31.490 --> 00:15:35.520\nthis is actually part of the RoomList,\nand then this AddRoom field.\n\n265\n00:15:35.520 --> 00:15:39.820\nAnd notice that RoomName,\nit's kinda hard to see there.\n\n266\n00:15:41.420 --> 00:15:43.832\nWait for it, there we go.\n\n267\n00:15:43.832 --> 00:15:48.182\nThat RoomName is being updated and\nthen repropagated out as I type.\n\n268\n00:15:48.182 --> 00:15:50.499\nThat's what that onChange\nfunction's there for.\n\n269\n00:15:50.499 --> 00:15:55.690\nIf I completely remove this portion here,\njust temporarily I can't\n\n270\n00:15:55.690 --> 00:16:00.980\nactually type anything, and\nthis is something that will trip you up.\n\n271\n00:16:00.980 --> 00:16:04.620\nAnd I think I've kind of glazed over\nthis in the previous components.\n\n272\n00:16:04.620 --> 00:16:05.520\nBut if you can't type,\n\n273\n00:16:06.560 --> 00:16:11.790\nthat means you're not updating the value\non a key event or anything of that nature.\n\n274\n00:16:11.790 --> 00:16:13.810\nSo that has to be there.\n\n275\n00:16:13.810 --> 00:16:16.620\nSo it's kinda the cycle of control.\n\n276\n00:16:16.620 --> 00:16:19.300\nModify state,\nstate propagates back down into the value.\n\n277\n00:16:20.610 --> 00:16:24.750\nOkay, so\nhere's our addroom form component.\n\n278\n00:16:24.750 --> 00:16:29.390\nIf I hit Enter, though,\nit refreshes the page.\n\n279\n00:16:29.390 --> 00:16:32.338\nSo now we need a handle,\nthe adding of the room.\n\n280\n00:16:32.338 --> 00:16:38.430\nSo handle, add room.\n\n281\n00:16:38.430 --> 00:16:41.960\nAnd that takes an event,\nnamely the submit event.\n\n282\n00:16:41.960 --> 00:16:44.200\nAnd immediately,\nwe're going to prevent default.\n\n283\n00:16:46.050 --> 00:16:47.350\nOkay, that will keep it from refreshing.\n\n284\n00:16:48.690 --> 00:16:50.670\nAnd now let's see here.\n\n285\n00:16:50.670 --> 00:16:55.079\nLet's just console.log(this.state).\n\n286\n00:16:55.079 --> 00:17:02.561\nSo now, if I come over to the console.\n\n287\n00:17:05.069 --> 00:17:07.870\nSo now my room name is being updated.\n\n288\n00:17:07.870 --> 00:17:12.072\nAnd what I want to do is propagate this\nback up to the app level component,\n\n289\n00:17:12.072 --> 00:17:14.180\nafter our actual app component.\n\n290\n00:17:14.180 --> 00:17:18.530\nAnd then it will handle all of our\nFirebase kind of of top level state.\n\n291\n00:17:18.530 --> 00:17:22.770\nSo we have some local internal state,\nand that's only for the form.\n\n292\n00:17:22.770 --> 00:17:24.070\nBut all of our actual room name.\n\n293\n00:17:24.070 --> 00:17:25.670\nLike, what are we gonna do with this?\n\n294\n00:17:25.670 --> 00:17:28.080\nWell, we actually wanna\nsend it to Firebase.\n\n295\n00:17:28.080 --> 00:17:31.470\nNow, just to reiterate,\nthis is a consideration that I made,\n\n296\n00:17:31.470 --> 00:17:34.700\nbecause it helps you think about\nwhat if you're not using Firebase?\n\n297\n00:17:34.700 --> 00:17:39.540\nIt's actually easy to manage state, that's\nimportant to you on a central place.\n\n298\n00:17:39.540 --> 00:17:41.340\nInstead of going,\nwell this component has this state and\n\n299\n00:17:41.340 --> 00:17:43.870\nit needs to talk over here, right?\n\n300\n00:17:43.870 --> 00:17:50.010\nJust send it down and then bubble it back\nup through kind of these event handlers.\n\n301\n00:17:50.010 --> 00:17:56.010\nSo now, we need the top level to\nadd a room inside the component.\n\n302\n00:17:56.010 --> 00:17:58.515\nPass that down to the add room form, so\n\n303\n00:17:58.515 --> 00:18:02.030\nit can appropriately delegate the\nfunctionality and send that to Firebase.\n\n304\n00:18:02.030 --> 00:18:06.080\nSo I think that's doable in\na reasonable amount of time,\n\n305\n00:18:06.080 --> 00:18:08.145\na reasonable amount of time.\n\n306\n00:18:08.145 --> 00:18:09.090\nUh-huh!\n\n307\n00:18:09.090 --> 00:18:13.475\nSo if we come over here,\nwhat we want is something of this nature.\n\n308\n00:18:13.475 --> 00:18:19.488\nWe want this.props.addroom, like so.\n\n309\n00:18:19.488 --> 00:18:23.788\nThis.state.roomName, okay?\n\n310\n00:18:23.788 --> 00:18:31.045\nSo I'm gonna send the room name there.\n\n311\n00:18:31.045 --> 00:18:34.835\nAnd that's just an approximation.\n\n312\n00:18:34.835 --> 00:18:37.581\nNow in order to get that there,\nwe have to come to the app.\n\n313\n00:18:37.581 --> 00:18:41.260\nGet, set up our add room function.\n\n314\n00:18:41.260 --> 00:18:45.810\nSo, just like all of these\nother functions, all right?\n\n315\n00:18:45.810 --> 00:18:49.440\nAnd I'm gonna remove this\nconsole.log in the meantime.\n\n316\n00:18:50.950 --> 00:18:53.800\nSo addRoom=, and it takes a room.\n\n317\n00:18:53.800 --> 00:18:59.880\nLet's just say it takes a roomName.\n\n318\n00:18:59.880 --> 00:19:06.840\nAnd It just console.log the roomName.\n\n319\n00:19:06.840 --> 00:19:10.890\nOkay, so we just want to make\nsure this gets fired off.\n\n320\n00:19:10.890 --> 00:19:12.478\nWe could use the React Dev Tools for this.\n\n321\n00:19:12.478 --> 00:19:16.300\nBut this is a way that I,\nkinda a mental model, right?\n\n322\n00:19:16.300 --> 00:19:20.690\nSo in order to get to there, we have to\nsend in addRoom through the side bar.\n\n323\n00:19:20.690 --> 00:19:23.760\nAnd then the side bar is gonna\nsend it to the room list.\n\n324\n00:19:23.760 --> 00:19:25.978\nThe room list is gonna send\nit to the addRoom component.\n\n325\n00:19:25.978 --> 00:19:31.768\nSo, addRoom= [this.addRoom].\n\n326\n00:19:34.333 --> 00:19:39.110\nAnd now, if we come over to the side bar.\n\n327\n00:19:41.660 --> 00:19:43.440\nSide bar, we're almost there.\n\n328\n00:19:43.440 --> 00:19:44.010\nWe're almost there.\n\n329\n00:19:44.010 --> 00:19:47.905\nThe side bar is going to\nget addroom as a prop.\n\n330\n00:19:51.335 --> 00:19:53.440\nThen I'm gonna send that\ninto the room list.\n\n331\n00:19:55.090 --> 00:19:58.760\nSo addRoom equals addRoom.\n\n332\n00:19:58.760 --> 00:20:03.490\nNow this is not this.addRoom, because\nit's actually being sent in as a prop.\n\n333\n00:20:03.490 --> 00:20:05.430\nBecause this is a functional\nstateless component.\n\n334\n00:20:05.430 --> 00:20:08.770\nWe're just getting props and\nrendering some UI.\n\n335\n00:20:08.770 --> 00:20:13.900\nSo now I come over to the room list, and\nI send that in to the respective add room.\n\n336\n00:20:13.900 --> 00:20:16.110\nBut I have to pull that off as a prop,\nas well.\n\n337\n00:20:16.110 --> 00:20:18.480\nAnd yes, this is very annoying.\n\n338\n00:20:18.480 --> 00:20:23.190\nBut it helps you think about the model of\n\n339\n00:20:23.190 --> 00:20:28.370\nmanaging state in one place, and\nthen letting that propagate down through.\n\n340\n00:20:28.370 --> 00:20:31.630\nI'm not saying this is the best way,\nthere are better ways.\n\n341\n00:20:31.630 --> 00:20:33.380\nBut they're also more complex.\n\n342\n00:20:34.980 --> 00:20:35.730\nSo we're gonna add room.\n\n343\n00:20:35.730 --> 00:20:36.430\nAdd room, alright.\n\n344\n00:20:36.430 --> 00:20:38.090\nWe're so close.\n\n345\n00:20:39.440 --> 00:20:42.230\nI think that might actually do it,\nso let's go find out.\n\n346\n00:20:42.230 --> 00:20:43.770\nMy hairs are tingling.\n\n347\n00:20:43.770 --> 00:20:44.796\nAnd I hit Enter.\n\n348\n00:20:44.796 --> 00:20:46.849\nand there's an app.js online 95.\n\n349\n00:20:46.849 --> 00:20:49.980\nIt actually consoled logs the room name.\n\n350\n00:20:49.980 --> 00:20:50.630\nThat's good.\nGood.\n\n351\n00:20:50.630 --> 00:20:52.418\n&gt;&gt; We should actually remove this.\n\n352\n00:20:52.418 --> 00:20:56.608\nSo, this.setState.\n\n353\n00:20:56.608 --> 00:21:00.438\nAnd I'm just gonna say roomName,\n\n354\n00:21:00.438 --> 00:21:04.282\njust like so, add our semicolon.\n\n355\n00:21:04.282 --> 00:21:08.170\nAnd then, boom,\nnow we've propagated that back up.\n\n356\n00:21:09.400 --> 00:21:10.310\nSo that wasn't too bad.\n\n357\n00:21:10.310 --> 00:21:16.205\nWe, I don't know, we've Mr. Miyagi'd this,\nwax on, wax off a bunch of times.\n\n358\n00:21:16.205 --> 00:21:17.910\n&gt;&gt; [LAUGH]\n&gt;&gt; So that's pretty good.\n\n359\n00:21:17.910 --> 00:21:24.360\nBut now, what we would like to do is,\ninstead, to send this to Firebase, right?\n\n360\n00:21:24.360 --> 00:21:27.970\nSo as it stands, all we have is\nthe messages collection, right,\n\n361\n00:21:27.970 --> 00:21:29.635\nthat we've done on our\nprevious couple of episodes.\n\n362\n00:21:29.635 --> 00:21:30.420\nRight.\nIf you haven't seen those,\n\n363\n00:21:30.420 --> 00:21:31.459\ndefinitely check those out.\n\n364\n00:21:32.660 --> 00:21:36.010\nHowever, we need a rooms collection.\n\n365\n00:21:36.010 --> 00:21:38.730\nSo instead of just messages,\nwe should have another rooms here.\n\n366\n00:21:39.750 --> 00:21:43.180\nWell, in order to do that,\nwe need a room ref.\n\n367\n00:21:43.180 --> 00:21:44.910\nAnd where is that gonna come from?\n\n368\n00:21:44.910 --> 00:21:46.020\nWell that's in our file.js.\n\n369\n00:21:46.020 --> 00:21:48.539\nIt's going to be very\nsimilar to the message ref.\n\n370\n00:21:49.850 --> 00:21:52.957\nSo I'm gonna export const roomRef.\n\n371\n00:21:52.957 --> 00:22:01.111\nAnd this is firebaseApp.database().ref.\n\n372\n00:22:01.111 --> 00:22:03.440\nAnd let's just call it rooms.\n\n373\n00:22:03.440 --> 00:22:06.230\nThere we go.\nAnd now we can come in to app,\n\n374\n00:22:06.230 --> 00:22:11.150\nimport this named export, roomref.\n\n375\n00:22:11.150 --> 00:22:18.800\nAnd now this room,\nwe need to maintain our data model.\n\n376\n00:22:18.800 --> 00:22:19.900\nWho is the author?\n\n377\n00:22:19.900 --> 00:22:24.660\nWell, it's the currently logged in\nuser that added the room, okay?\n\n378\n00:22:27.100 --> 00:22:27.680\nTitle, okay?\n\n379\n00:22:27.680 --> 00:22:34.130\nThat's actually the room name, so\nlets change this title to name.\n\n380\n00:22:34.130 --> 00:22:35.550\nOur data model is gonna\nchange a little bit.\n\n381\n00:22:35.550 --> 00:22:36.800\nSo lets call that name, that's fine.\n\n382\n00:22:36.800 --> 00:22:40.460\nAnd then the created time,\nwhich we can actually use here.\n\n383\n00:22:40.460 --> 00:22:44.320\nSo now that we have this room name,\nwe can come down here.\n\n384\n00:22:44.320 --> 00:22:51.660\nAnd instead of console.login, we can\nsay roomref.push, and then the room.\n\n385\n00:22:51.660 --> 00:22:52.800\nWell what is the room?\n\n386\n00:22:52.800 --> 00:22:55.930\nWe have to construct the room.\n\n387\n00:22:55.930 --> 00:23:01.115\nAnd the room is going to be the author,\n\n388\n00:23:01.115 --> 00:23:06.205\nthis.state., I think we had email on that,\nright?\n\n389\n00:23:06.205 --> 00:23:08.388\nYeah, so the email.\n\n390\n00:23:08.388 --> 00:23:14.860\nAnd is that consistent to,\nwe have some inconsistencies here.\n\n391\n00:23:14.860 --> 00:23:22.410\nSo, let's say the author is,\nlet's change this to an ID.\n\n392\n00:23:22.410 --> 00:23:27.780\nAnd an ID just for consistency for\nour messages, right?\n\n393\n00:23:27.780 --> 00:23:29.950\nSo, the author is going to be the UID.\n\n394\n00:23:30.970 --> 00:23:34.410\nSo, if we come back on here,\nthis room is going to be the UID.\n\n395\n00:23:35.680 --> 00:23:39.974\nAnd well,\nthe name is going to be the room name.\n\n396\n00:23:43.030 --> 00:23:47.170\nAnd then the created,\nI think it was called created.\n\n397\n00:23:47.170 --> 00:23:51.790\nI have a very short-term memory,\napparently, is just right now.\n\n398\n00:23:51.790 --> 00:23:53.457\nSo date.now.\n\n399\n00:23:53.457 --> 00:23:56.907\nAnd I think that should\npush it into Firebase,\n\n400\n00:23:56.907 --> 00:23:59.829\nwhich gets us kind of at a good point of.\n\n401\n00:23:59.829 --> 00:24:01.941\nNow we got rooms in the Firebase.\n\n402\n00:24:01.941 --> 00:24:06.018\nHow do we get those back down to actually\npopulate cuz we're just mocking these\n\n403\n00:24:06.018 --> 00:24:06.773\nin right now?\n\n404\n00:24:06.773 --> 00:24:11.720\nSo let's see if that room actually gets\npushed to Firebase when we hit Enter.\n\n405\n00:24:12.820 --> 00:24:13.780\nSo hello.\n\n406\n00:24:14.850 --> 00:24:21.400\nSo this is the hello room and\nnotice, I changed some things.\n\n407\n00:24:21.400 --> 00:24:25.640\nSo I called it title and\nnow I've broken the rest of my app.\n\n408\n00:24:26.860 --> 00:24:30.230\nI will have to go make a couple of\ntweaks there, or we may just come back.\n\n409\n00:24:30.230 --> 00:24:32.770\nBut really what we wanted,\nhey look, there's a room.\n\n410\n00:24:32.770 --> 00:24:34.080\nAnd what room is it?\n\n411\n00:24:35.770 --> 00:24:40.640\nIt is the hello room,\ncreated in the author name, okay.\n\n412\n00:24:40.640 --> 00:24:45.640\nSo I changed this to name just\nnow kind of as a thought process.\n\n413\n00:24:45.640 --> 00:24:47.665\nHow am I thinking about this?\n\n414\n00:24:47.665 --> 00:24:53.580\nBut I actually have to track\ndown everywhere I use room.name.\n\n415\n00:24:53.580 --> 00:24:55.719\nWell that's probably in the room list.\n\n416\n00:24:55.719 --> 00:24:58.989\nSo if I come over to room list, well for\n\n417\n00:24:58.989 --> 00:25:04.634\neach room I'm doing room.title\nthis should now be room.name.\n\n418\n00:25:04.634 --> 00:25:08.170\nSo let's see if that fixes everything,\nand now they're back.\n\n419\n00:25:08.170 --> 00:25:11.390\nSo just keep in mind if you make\na change on your data model,\n\n420\n00:25:11.390 --> 00:25:14.720\nsome of your UI that is coupled with\nthat may have to make a change.\n\n421\n00:25:14.720 --> 00:25:17.390\nSo that actually syncs to Firebase, Zach.\n\n422\n00:25:17.390 --> 00:25:20.260\nWe have the second leg\nof the journey where\n\n423\n00:25:20.260 --> 00:25:23.760\nnow we wanna get stuff back from\nFirebase and start rendering it.\n\n424\n00:25:23.760 --> 00:25:25.510\nAnd we're talking just about rooms,\n\n425\n00:25:25.510 --> 00:25:27.720\nultimately we wanna get\nthe messages as well.\n\n426\n00:25:27.720 --> 00:25:30.350\nHowever, I don't think we\nhave time in this episode.\n\n427\n00:25:30.350 --> 00:25:32.430\nSo maybe we come back in a part two and\n\n428\n00:25:32.430 --> 00:25:35.570\nactually start bringing that\ninformation in from Firebase\n\n429\n00:25:35.570 --> 00:25:40.430\nto populate our application instead of\njust users and sending stuff to Firebase.\n\n430\n00:25:40.430 --> 00:25:42.990\n&gt;&gt; Awesome job, Justin,\nthank you so very much.\n\n431\n00:25:42.990 --> 00:25:44.680\nAdding room,\nthere will be adding a room part two.\n\n432\n00:25:44.680 --> 00:25:48.976\nYou've seen part one with reactant\nFirebases, it continues on.\n\n433\n00:25:48.976 --> 00:25:50.800\nAnd make sure you watch all the episodes.\n\n434\n00:25:50.800 --> 00:25:52.910\nHey, Justin,\ndid you wanna add anything before we go?\n\n435\n00:25:52.910 --> 00:25:56.030\nNo, I would definitely just I\nwould check out these episodes.\n\n436\n00:25:56.030 --> 00:25:57.842\nI know it's kind of long winded, but\n\n437\n00:25:57.842 --> 00:26:00.881\nI've really thoroughly went\nthrough the thought process and\n\n438\n00:26:00.881 --> 00:26:04.630\nyou can see some of the design points\nare not as clear nut as they always seem.\n\n439\n00:26:04.630 --> 00:26:06.394\nSo as you're starting to learn,\n\n440\n00:26:06.394 --> 00:26:09.670\nthis is not necessarily something\nI would put in production.\n\n441\n00:26:10.800 --> 00:26:15.530\nBut as you're learning these things this\nis, I try to be very explicit about this.\n\n442\n00:26:15.530 --> 00:26:17.520\n&gt;&gt; You do a great job.\n&gt;&gt; So check all of those out.\n\n443\n00:26:17.520 --> 00:26:19.448\nAnd well we're close to being finished.\n\n444\n00:26:19.448 --> 00:26:21.540\n&gt;&gt; But you do an awesome job and\nit's step by step and\n\n445\n00:26:21.540 --> 00:26:23.230\nthat's what we absolutely need.\n\n446\n00:26:23.230 --> 00:26:25.402\nAnd like I said,\nthere's going to be more and\n\n447\n00:26:25.402 --> 00:26:28.250\nthere is more in the chat app\nwith react to add Firebase.\n\n448\n00:26:28.250 --> 00:26:30.970\nWatch everything and thank you for\nwatching Dev Pro TV.\n\n449\n00:26:30.970 --> 00:26:32.900\nRemember a good dev pro\nis always learning.\n\n450\n00:26:32.900 --> 00:26:33.770\nI'm Zach Memos.\n\n451\n00:26:33.770 --> 00:26:34.550\n&gt;&gt; And I'm Justin Denison.\n\n452\n00:26:34.550 --> 00:26:36.331\n&gt;&gt; And we'll see you very soon.\n\n453\n00:26:36.331 --> 00:26:41.997\n[MUSIC]\n\n",
          "vimeoId": "231091380"
        },
        {
          "description": "Justin and Zach continue to add a Room, LoadData, roomRef, data snapshot, and persists on refresh.",
          "length": "1318",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-12-1-2-add_a_room_pt2-082317.00_21_47_04.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-12-1-2-add_a_room_pt2-082317.00_21_47_04.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-12-1-2-add_a_room_pt2-082317.00_21_47_04.Still001-sm.jpg",
          "title": "Add a Room Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.728 --> 00:00:14.201\nHello again and thank you for\n\n3\n00:00:14.201 --> 00:00:17.161\nchoosing DevproTV,\nhelping you learn wherever you go.\n\n4\n00:00:17.161 --> 00:00:22.090\nI'm your host Zach Memos, as we continue\non with Chat App with Reactive Firebase,\n\n5\n00:00:22.090 --> 00:00:24.240\nand adding a room part two.\n\n6\n00:00:24.240 --> 00:00:26.410\nAnd we've asked Justin Dennison\nto come back and\n\n7\n00:00:26.410 --> 00:00:28.800\nhelp us out because he knows\nhow to do these things.\n\n8\n00:00:28.800 --> 00:00:30.190\nJustin, thanks for joining us.\n\n9\n00:00:30.190 --> 00:00:31.970\n&gt;&gt; Well I hope I know\nhow to do these things.\n\n10\n00:00:31.970 --> 00:00:33.720\n&gt;&gt; You do.\n&gt;&gt; Sometimes it's a little shaky,\n\n11\n00:00:33.720 --> 00:00:35.700\nbut we always manage to make it through.\n\n12\n00:00:35.700 --> 00:00:36.820\nHow are you today, Zach?\n\n13\n00:00:36.820 --> 00:00:40.290\n&gt;&gt; I am excited to continue\non with adding a room.\n\n14\n00:00:40.290 --> 00:00:41.910\n&gt;&gt; Adding a room.\n\n15\n00:00:41.910 --> 00:00:45.270\nIt seems like such a simple process, yet,\n\n16\n00:00:45.270 --> 00:00:48.940\njust like real life, adding\nan addition to your house, there's so\n\n17\n00:00:48.940 --> 00:00:53.315\nmany idiosyncracies, and\nnuances, that we have to keep.\n\n18\n00:00:53.315 --> 00:00:56.665\nKinda in our minds and\nmanage, managing contractors.\n\n19\n00:00:56.665 --> 00:00:58.985\nWe don't have to do that here but\n\n20\n00:00:58.985 --> 00:01:01.635\nwe do have to keep our eyes,\nwhat's going on here.\n\n21\n00:01:01.635 --> 00:01:06.995\nLet's do a quick review of where\nwe left off on in part one.\n\n22\n00:01:06.995 --> 00:01:11.085\nWe were actually able to add a room,\nadd room form component,\n\n23\n00:01:11.085 --> 00:01:13.215\nwhich lives kinda in the sidebar.\n\n24\n00:01:13.215 --> 00:01:15.515\nNested inside the message loops only for\nstyling.\n\n25\n00:01:15.515 --> 00:01:19.910\nAgain to reiterate,\nI'm not necessarily sold on that, but\n\n26\n00:01:19.910 --> 00:01:24.890\nkinda backed our way into a corner, that\nthere's some, okay, I could change that.\n\n27\n00:01:24.890 --> 00:01:28.030\nBut we'll just leave it be.\n\n28\n00:01:28.030 --> 00:01:32.670\nAnd then we can send a room to\nFirebase with the respective\n\n29\n00:01:33.690 --> 00:01:38.440\nauthor, right, which is actually the ID,\nthe UID of the user that is logged in.\n\n30\n00:01:38.440 --> 00:01:44.370\nAs well as the name of the room and\nthe created date.\n\n31\n00:01:44.370 --> 00:01:47.510\nOkay now we've not put any\nappropriate limits on this.\n\n32\n00:01:47.510 --> 00:01:52.450\nSo do keep in mind, people could just add\nrooms and rooms and rooms and rooms and\n\n33\n00:01:52.450 --> 00:01:56.570\nrooms, but\nhopefully that wouldn't be a problem.\n\n34\n00:01:56.570 --> 00:02:00.030\nAgain, this is a learning experience not\nnecessarily something that we would put\n\n35\n00:02:00.030 --> 00:02:00.600\nin production.\n\n36\n00:02:01.800 --> 00:02:05.120\nRight out of the gate, especially if\nit's a single individual building it,\n\n37\n00:02:05.120 --> 00:02:08.700\na lot of times these take a lot\nof individuals to get right,\n\n38\n00:02:08.700 --> 00:02:11.260\nbut that's where we are,\nnow where do we wanna go?\n\n39\n00:02:11.260 --> 00:02:18.190\nI want to actually pull the rooms out of\nFirebase and stop with mocking stuff.\n\n40\n00:02:18.190 --> 00:02:22.140\nRight, when I've logged in, I wanna pull\nthe rooms out of Firebase, and actually\n\n41\n00:02:22.140 --> 00:02:26.680\nhave those rendered to the screen,\nwhich is going to be a little crazy.\n\n42\n00:02:26.680 --> 00:02:28.650\nAnd just to make sure we\nunderstand what's going on,\n\n43\n00:02:28.650 --> 00:02:33.380\nit may take a little bit more time than,\nwell, I'm just saying that exact sentence.\n\n44\n00:02:33.380 --> 00:02:35.840\nIt seems simple, but you never know.\n\n45\n00:02:35.840 --> 00:02:37.180\nIt may not necessarily be easy.\n\n46\n00:02:37.180 --> 00:02:39.040\nSo go ahead and\ntake a look at my screen here.\n\n47\n00:02:40.040 --> 00:02:43.980\nAnd everything, everything’s to my\nliking for the most part I'm not\n\n48\n00:02:43.980 --> 00:02:49.420\nsold on the color scheme but\nthat was a decision we made.\n\n49\n00:02:49.420 --> 00:02:53.960\nAnd the set room, right,\nif we come over into our app.\n\n50\n00:02:53.960 --> 00:02:54.830\nWhen I set the room,\n\n51\n00:02:54.830 --> 00:02:58.620\nI'm supposed to update the messages but\nwe actually had to have a list of\n\n52\n00:02:58.620 --> 00:03:02.380\nrooms that were valid with messages\nin them that were valid in order for.\n\n53\n00:03:02.380 --> 00:03:07.980\nTo even make sense so there's a few of the\ndata portions but now we're getting ready\n\n54\n00:03:07.980 --> 00:03:12.910\nto get into some really\ndata nuanced behaviors.\n\n55\n00:03:12.910 --> 00:03:18.030\nSo let's see what happens if I take\nout all of these rooms because I don't\n\n56\n00:03:18.030 --> 00:03:22.240\nwant to hard code these because I don't\nnecessarily know what the IDs and\n\n57\n00:03:22.240 --> 00:03:24.470\nthings are for my Firebase database.\n\n58\n00:03:24.470 --> 00:03:28.700\nSo I come back, I no longer have rooms,\nthere's no list over here.\n\n59\n00:03:28.700 --> 00:03:31.970\nThat's fine, that's an expected\nbehavior if you don't have rooms,\n\n60\n00:03:31.970 --> 00:03:37.100\nthat's okay however,\npart one we actually room it was hello and\n\n61\n00:03:37.100 --> 00:03:41.890\nI'm going to change this to general,\nI can do that.\n\n62\n00:03:41.890 --> 00:03:43.060\nI'm allowed, I'm the admin.\n\n63\n00:03:43.060 --> 00:03:44.890\n&gt;&gt; Yes you can.\n\n64\n00:03:44.890 --> 00:03:48.500\nI'm gonna change that to\ngeneral mainly because\n\n65\n00:03:48.500 --> 00:03:51.410\nwe're kinda gonna default\nto the general room, okay.\n\n66\n00:03:52.680 --> 00:03:56.280\nThat's what we're doing and\nwe need some way to keep track of these.\n\n67\n00:03:56.280 --> 00:04:00.209\nSo, how am I gonna do this,\nhow am I gonna pull this out of Firebase?\n\n68\n00:04:01.570 --> 00:04:08.420\nSo okay, Firebase has a specific\nAPI through the SDKs,\n\n69\n00:04:08.420 --> 00:04:13.860\nlike the references and\ndatabases in order to pull information.\n\n70\n00:04:13.860 --> 00:04:20.620\nWe've actually seen this a little bit with\nauth and roomref.push and messageref.push.\n\n71\n00:04:20.620 --> 00:04:25.420\nThese look like arrays,\nhowever, we're not quite,\n\n72\n00:04:25.420 --> 00:04:29.170\nwe don't get to just grab it and\niterate over it like an array.\n\n73\n00:04:29.170 --> 00:04:31.290\nWe actually have to request data.\n\n74\n00:04:31.290 --> 00:04:33.910\nBut we can setup listeners that will run,\n\n75\n00:04:33.910 --> 00:04:37.310\nfunctions that will run\nwhenever Firebase changes.\n\n76\n00:04:37.310 --> 00:04:39.290\nSo it's kind of this weird,\n\n77\n00:04:39.290 --> 00:04:43.250\nit phones home to your application to\nlet you know that something's changed.\n\n78\n00:04:43.250 --> 00:04:45.470\nAnd then your application can respond.\n\n79\n00:04:45.470 --> 00:04:47.220\nThat's outside the context of react.\n\n80\n00:04:47.220 --> 00:04:49.790\nSo there's a little bit of\nfinagling to get that to work.\n\n81\n00:04:49.790 --> 00:04:52.150\nBut I've tried to make this clear,\n\n82\n00:04:52.150 --> 00:04:55.280\nnot necessarily the best architecture\nin order to get this done.\n\n83\n00:04:55.280 --> 00:04:58.230\nAgain this is about a refactor here.\n\n84\n00:04:59.260 --> 00:05:01.250\nSo when do we want this to happen?\n\n85\n00:05:01.250 --> 00:05:05.950\nI actually want this to happen only once\nthe user is authenticated, either when\n\n86\n00:05:05.950 --> 00:05:10.060\nthey revisit and the component does\nmount and I know that they're logged in.\n\n87\n00:05:12.130 --> 00:05:13.800\nOr when they actually log in.\n\n88\n00:05:13.800 --> 00:05:18.511\nBut this covers both of those\ncases just like that, okay?\n\n89\n00:05:18.511 --> 00:05:21.310\nSo, okay.\n\n90\n00:05:21.310 --> 00:05:22.500\nWhat do we want to do?\n\n91\n00:05:22.500 --> 00:05:24.900\nIf there's a user we\nwanna set the user state.\n\n92\n00:05:24.900 --> 00:05:25.860\nThey're logged in.\n\n93\n00:05:25.860 --> 00:05:29.900\nAnd immediately after that I'm gonna put\na semicolon there that That I left out.\n\n94\n00:05:29.900 --> 00:05:33.580\nI don't want to do anything otherwise.\n\n95\n00:05:33.580 --> 00:05:34.840\nI've kinda removed that.\n\n96\n00:05:34.840 --> 00:05:38.940\nBut I'm gonna do this loadData,\nso loadData.\n\n97\n00:05:38.940 --> 00:05:42.830\nAnd so this loadData function would be\na composition of other functions or\n\n98\n00:05:42.830 --> 00:05:44.560\nmethods on this component class.\n\n99\n00:05:44.560 --> 00:05:49.355\nAgain, app component kinda It's\ngrowing and growing and growing.\n\n100\n00:05:49.355 --> 00:05:53.390\nThis.loadData is actually going to go\nmake the request from Firebase and\n\n101\n00:05:53.390 --> 00:05:56.910\nset up state appropriately, but\nit's a good place to start.\n\n102\n00:05:58.790 --> 00:06:03.080\nSo let's just see loadData and\n\n103\n00:06:05.130 --> 00:06:08.580\nthere we go and what am I hopping to get?\n\n104\n00:06:08.580 --> 00:06:11.490\nWell, the first thing I'm worried about\nit's actually getting the rooms from\n\n105\n00:06:11.490 --> 00:06:13.320\nFirebase, okay?\n\n106\n00:06:13.320 --> 00:06:15.810\nAnd we're gonna do that\nthrough the room reference, so\n\n107\n00:06:15.810 --> 00:06:20.270\nthat ref is like reference to the room's\ntag inside the Firebase, so this.\n\n108\n00:06:21.710 --> 00:06:26.140\nOkay, there's a few different ways to\ndo this but I'm gonna kind of use like\n\n109\n00:06:26.140 --> 00:06:32.160\npromisified portion of the Firebase API\nmainly because it helps me with control\n\n110\n00:06:32.160 --> 00:06:35.910\nflow, because otherwise I would have\ncallbacks and callbacks and callbacks.\n\n111\n00:06:35.910 --> 00:06:37.278\nThe pyramid of doom, so to speak.\n\n112\n00:06:37.278 --> 00:06:43.405\n&gt;&gt; [LAUGH] So\nI am gonna say roomRef.once and\n\n113\n00:06:43.405 --> 00:06:48.856\nthis .once says, this one time\n&gt;&gt; I\n\n114\n00:06:48.856 --> 00:06:52.154\nwant you to respond to this value event.\n\n115\n00:06:52.154 --> 00:06:53.630\nNow what is the value event?\n\n116\n00:06:53.630 --> 00:06:56.900\nIf I come back here to the fire\nbased documentation and\n\n117\n00:06:56.900 --> 00:07:00.740\nI look at fire base database and\n\n118\n00:07:00.740 --> 00:07:05.690\nI go to the overview and maybe,\nthere we go, there we go.\n\n119\n00:07:06.870 --> 00:07:12.630\nIf I go to reference and\nmaybe actually scroll in here.\n\n120\n00:07:12.630 --> 00:07:13.860\nOkay, enable logging.\n\n121\n00:07:13.860 --> 00:07:16.130\nThat's not quite what I want.\n\n122\n00:07:16.130 --> 00:07:17.430\nLet's go to reference.\n\n123\n00:07:19.440 --> 00:07:26.230\nThere we go and now I get key and\nparent and ref which is a query.\n\n124\n00:07:26.230 --> 00:07:28.190\nBut, over here, I have this once.\n\n125\n00:07:30.390 --> 00:07:31.660\nAnd what is it?\n\n126\n00:07:31.660 --> 00:07:35.270\nOnce, event time, success callback,\nfailure callback or context, and\n\n127\n00:07:35.270 --> 00:07:35.910\nthen context.\n\n128\n00:07:35.910 --> 00:07:38.560\nNow, context we're not\nultimately going to worry about.\n\n129\n00:07:38.560 --> 00:07:40.540\nBut it returns a firebase promise.\n\n130\n00:07:40.540 --> 00:07:45.335\nNow, be very careful because these\ndon't necessarily behave like\n\n131\n00:07:45.335 --> 00:07:50.044\npromises always that you're used to\nmaybe in like a Q or Bluebird or\n\n132\n00:07:50.044 --> 00:07:53.002\neven like Axios or things of that nature.\n\n133\n00:07:53.002 --> 00:07:56.843\nThis is equivalent to calling on and\nthen calling off inside the callbacks.\n\n134\n00:07:56.843 --> 00:07:59.889\nSee on for details.\n\n135\n00:07:59.889 --> 00:08:00.597\nThe eventType.\n\n136\n00:08:00.597 --> 00:08:04.710\nI can listen to \"value\", \"child_added\",\n\"child_changed\", \"child_removed\", or\n\n137\n00:08:04.710 --> 00:08:05.620\n\"child_moved\".\n\n138\n00:08:05.620 --> 00:08:12.660\nSo any of those five events we\ncan have this function run.\n\n139\n00:08:12.660 --> 00:08:13.480\nSuccess call back.\n\n140\n00:08:14.540 --> 00:08:16.080\nWell, what do we want?\n\n141\n00:08:16.080 --> 00:08:18.100\nBasic usage of .once().\n\n142\n00:08:18.100 --> 00:08:20.490\nI'm gonna read the data at a ref.\n\n143\n00:08:20.490 --> 00:08:24.540\nThis is how I get data, how I query for\nall of this information.\n\n144\n00:08:24.540 --> 00:08:26.871\nOkay, so once and then .then, and\n\n145\n00:08:26.871 --> 00:08:31.240\nthen I'm going to get what\nis called a data snapshot.\n\n146\n00:08:31.240 --> 00:08:38.717\nNow data snapshot,\nwell I think its just better, to see it.\n\n147\n00:08:38.717 --> 00:08:45.159\nSo if I'm not mistaken, we haven't seen a\ndata snapshot at all up until this point,\n\n148\n00:08:45.159 --> 00:08:49.421\nso once and then then,\njust a quick aside there is a non,\n\n149\n00:08:49.421 --> 00:08:54.321\nif I'm not mistaken,\nthere is a non-promise version of once,\n\n150\n00:08:54.321 --> 00:08:59.619\nwhere I can put a comma and then\nactually a call back just like up here.\n\n151\n00:08:59.619 --> 00:09:03.340\nSo keep that in mind you may see\nthese used in different ways.\n\n152\n00:09:03.340 --> 00:09:04.860\nI'm going to use the promise side version.\n\n153\n00:09:04.860 --> 00:09:09.050\nSo I'm gonna say snapshot, and\n\n154\n00:09:09.050 --> 00:09:13.910\nlet's just cancel our log,\na snapshot like so.\n\n155\n00:09:13.910 --> 00:09:18.345\nSo when I call this dot load data, after\nI make sure the user is authenticated,\n\n156\n00:09:18.345 --> 00:09:20.440\nit's going to go grab information.\n\n157\n00:09:21.700 --> 00:09:25.919\nAnd if I come over here to my React app,\nsnap is not defined.\n\n158\n00:09:25.919 --> 00:09:29.070\nWhere did I, snapshot.\n\n159\n00:09:29.070 --> 00:09:30.110\nThere we go.\n\n160\n00:09:30.110 --> 00:09:33.788\nSo now if this refreshes, and\nhere's our data snapshot.\n\n161\n00:09:33.788 --> 00:09:37.410\nIt doesn't look like there's a lot in\nthere, but if I hit the dunder prodo,\n\n162\n00:09:37.410 --> 00:09:44.060\nI can get the val, the toJSON,\nnumChildren, the key.\n\n163\n00:09:44.060 --> 00:09:46.930\nSo I get some of these helper methods.\n\n164\n00:09:46.930 --> 00:09:48.430\nAnd I can actually get a forEach.\n\n165\n00:09:48.430 --> 00:09:51.040\nSo I can iterate a data snapshot.\n\n166\n00:09:51.040 --> 00:09:53.490\nJust can't use map filter,\nany of those things.\n\n167\n00:09:55.070 --> 00:10:00.590\nSo, let's call that val, and that means\ngive me the actual values of the snapshot.\n\n168\n00:10:00.590 --> 00:10:04.286\nNow, there's some proprietary things\ngoing on behind the scenes with Firebase,\n\n169\n00:10:04.286 --> 00:10:07.720\nwe're just trying to determine the\nsmallest amount of information that it can\n\n170\n00:10:07.720 --> 00:10:10.800\nsend to you and\nactually convey what you need to know.\n\n171\n00:10:10.800 --> 00:10:13.790\nSo keep that in mind,\nthere's a lot of smartness, so\n\n172\n00:10:13.790 --> 00:10:16.080\nto speak, going on behind the scenes.\n\n173\n00:10:16.080 --> 00:10:18.810\nSo if we come over here,\nnow, what do we have?\n\n174\n00:10:18.810 --> 00:10:23.790\nWell, we actually have all the rooms and\ntheir respective keys.\n\n175\n00:10:23.790 --> 00:10:25.480\nThere's General right there.\n\n176\n00:10:25.480 --> 00:10:28.800\nThat's the room we actually\nsent over in part one.\n\n177\n00:10:28.800 --> 00:10:29.930\nSo there's our data snapshot.\n\n178\n00:10:30.970 --> 00:10:35.708\nWhere I call .val, I get the list of\nrooms as an object of key value of pairs\n\n179\n00:10:35.708 --> 00:10:38.900\nwhere the respective room is an object.\n\n180\n00:10:38.900 --> 00:10:41.360\nSo it's not an array so to speak.\n\n181\n00:10:41.360 --> 00:10:45.540\nAnd we've already seen this by\nthe data modeling that we've done, but\n\n182\n00:10:45.540 --> 00:10:46.080\nthrough the Mac.\n\n183\n00:10:47.080 --> 00:10:48.030\nSo what do I wanna do?\n\n184\n00:10:48.030 --> 00:10:51.810\nWell, let's instead of console.login,\n\n185\n00:10:51.810 --> 00:10:57.799\nI think this is actually\nrooms snapshot.val(0).\n\n186\n00:10:58.840 --> 00:11:00.386\nThere we go.\n\n187\n00:11:00.386 --> 00:11:03.905\nAnd then that's actually going to be\nthe list of rooms, all the rooms, right,\n\n188\n00:11:03.905 --> 00:11:05.980\nthere's no limitation on rooms.\n\n189\n00:11:05.980 --> 00:11:11.050\nI could say, hey, if these are private\nrooms, then only this person sees.\n\n190\n00:11:11.050 --> 00:11:12.765\nLet's keep it simple for now.\n\n191\n00:11:12.765 --> 00:11:16.540\nMinimal viable product, so\nif here's our rooms and then\n\n192\n00:11:19.890 --> 00:11:22.920\nhow am I gonna find out\nwhat the default room is?\n\n193\n00:11:22.920 --> 00:11:27.440\nSo I'm gonna make kinda\nan assumption here, and\n\n194\n00:11:27.440 --> 00:11:31.600\nit's not necessarily something\nthat is super robust.\n\n195\n00:11:31.600 --> 00:11:36.030\nAnd I'm gonna call object.keys\non room since it's an object,\n\n196\n00:11:36.030 --> 00:11:39.010\nI'm going to get all the keys as an array.\n\n197\n00:11:39.010 --> 00:11:40.930\nNow, what do I mean by keys?\n\n198\n00:11:40.930 --> 00:11:43.940\nI'm actually going to\nget just these portions.\n\n199\n00:11:43.940 --> 00:11:45.760\nSo if we look at messages,\n\n200\n00:11:45.760 --> 00:11:50.260\nthere's only one message in there,\nI would get just this in an array.\n\n201\n00:11:50.260 --> 00:11:52.554\nI'm going to assume that there's\nat least one in there, and so\n\n202\n00:11:52.554 --> 00:11:54.740\nI'm gonna get the 0th element.\n\n203\n00:11:54.740 --> 00:11:58.930\nSo object.key is giving me an array\nof the keys for an object.\n\n204\n00:11:58.930 --> 00:12:01.890\nSo that would be those unique identifiers,\nand that's our selected room.\n\n205\n00:12:01.890 --> 00:12:06.310\nSo I'm gonna say this.setState like so.\n\n206\n00:12:06.310 --> 00:12:06.840\nOkay?\n\n207\n00:12:06.840 --> 00:12:10.430\nAnd then I'm gonna say rooms,\nand selected room.\n\n208\n00:12:10.430 --> 00:12:12.800\nNow I'm using some shorthand syntax.\n\n209\n00:12:14.020 --> 00:12:18.640\nBecause effectively what I'm doing here is\njust giving the key value pair the exact\n\n210\n00:12:18.640 --> 00:12:19.810\nsame name.\n\n211\n00:12:19.810 --> 00:12:24.480\nBut the ES6 or ES2015 I can\njust use the variable name and\n\n212\n00:12:24.480 --> 00:12:26.760\nJava Script kinda does that for me.\n\n213\n00:12:27.990 --> 00:12:32.380\nThat actually should set our rooms.\n\n214\n00:12:32.380 --> 00:12:36.739\nIf we come back over, let's cross our\nfingers and look at that, there's our\n\n215\n00:12:36.739 --> 00:12:43.050\ngeneral room from our database-\n&gt;&gt; Actually selected in our room list.\n\n216\n00:12:43.050 --> 00:12:43.550\nOkay?\n\n217\n00:12:44.760 --> 00:12:46.020\nSo, we're good, but\n\n218\n00:12:46.020 --> 00:12:50.630\nlet's see if we can add another room and\nthen it populates again.\n\n219\n00:12:50.630 --> 00:12:51.130\nRight?\n\n220\n00:12:52.390 --> 00:12:59.120\nSo, if I add a room, let's see,\n'Jokes,' and I don't see anything.\n\n221\n00:13:01.880 --> 00:13:02.830\nIt must have broke.\n\n222\n00:13:02.830 --> 00:13:06.030\nIf I go over to Firebase,\nI actually have a Jokes room.\n\n223\n00:13:08.910 --> 00:13:10.020\nWhy didn't it populate again?\n\n224\n00:13:12.030 --> 00:13:15.190\nWell, if I think about it, this says once.\n\n225\n00:13:16.760 --> 00:13:18.260\nHow many times is this gonna happen?\n\n226\n00:13:19.480 --> 00:13:22.720\nIt's actually only gonna happen\non the component didn't mount,\n\n227\n00:13:22.720 --> 00:13:24.860\nit's gonna happen one time on refresh.\n\n228\n00:13:24.860 --> 00:13:28.450\nCuz if I actually go and refresh this,\nI actually now have Jokes.\n\n229\n00:13:30.120 --> 00:13:34.850\nThat's kind of a weird,\nI want that just to update as we see it.\n\n230\n00:13:34.850 --> 00:13:35.940\nIsn't that what you would want, Zach?\n\n231\n00:13:35.940 --> 00:13:37.790\nWould you want to refresh every time or\n\n232\n00:13:37.790 --> 00:13:39.980\nwould you want it to update\nkind of in real time?\n\n233\n00:13:39.980 --> 00:13:43.620\n&gt;&gt; Well Justin, if you're asking me I'd\nrather have the automatic updates than\n\n234\n00:13:43.620 --> 00:13:46.840\nhave to refresh it every single time.\n\n235\n00:13:46.840 --> 00:13:48.170\n&gt;&gt; I tend to agree with you, Zach.\n\n236\n00:13:48.170 --> 00:13:51.400\nSo it's gonna take a little bit of doing,\nbut I think, I think\n\n237\n00:13:51.400 --> 00:13:55.150\njust glancing at the clock I think we can\nget it done in these next few minutes.\n\n238\n00:13:55.150 --> 00:13:58.540\nBut I don't think it's gonna\nquite get us all there but\n\n239\n00:13:58.540 --> 00:14:01.420\nat least try to get it\nautomatically updated.\n\n240\n00:14:01.420 --> 00:14:06.030\nAll right, so let's jump back in my\nscreen here, and well, let's see here.\n\n241\n00:14:06.030 --> 00:14:10.640\nIf I look, slowed data,\nit's only happening once.\n\n242\n00:14:11.940 --> 00:14:16.555\nAnd that means that it's not going\nto update every time when I add it,\n\n243\n00:14:16.555 --> 00:14:17.830\nit's only gonna grab that one.\n\n244\n00:14:17.830 --> 00:14:24.230\nSo what I would really like to\ndo is to not only load data.\n\n245\n00:14:24.230 --> 00:14:29.268\nBut also go ahead and\nadd a Firebase listener, okay?\n\n246\n00:14:29.268 --> 00:14:33.180\nSo this Firebase listener, if we come\nback to the Firebase documentation,\n\n247\n00:14:33.180 --> 00:14:36.850\nwe had these, this once, and we had On.\n\n248\n00:14:36.850 --> 00:14:39.063\nNow what it On?\n\n249\n00:14:39.063 --> 00:14:41.320\nWell this is for\ndata changes at a particular location.\n\n250\n00:14:43.130 --> 00:14:47.810\nSo if I listen to messages and\nI can listen to value.\n\n251\n00:14:47.810 --> 00:14:50.760\nNow what is value?\n\n252\n00:14:50.760 --> 00:14:54.550\nAnytime there's a value there\nwe may have to tweak this,\n\n253\n00:14:54.550 --> 00:14:57.990\nbecause it would almost be\nbetter to listen to child added.\n\n254\n00:14:57.990 --> 00:15:02.580\nThat way it could just broadcast\nthat one but I'm just gonna go\n\n255\n00:15:02.580 --> 00:15:05.180\nwhenever there's something new\njust give me all of it, okay?\n\n256\n00:15:05.180 --> 00:15:08.210\nSo not only am I gonna load data that\none time on component didn't mount,\n\n257\n00:15:08.210 --> 00:15:10.810\nI'm gonna go ahead and\nregister a listener.\n\n258\n00:15:10.810 --> 00:15:13.730\nNow I'm gonna do something bad here Zach.\n\n259\n00:15:13.730 --> 00:15:15.590\nFor now we're gonna leave off\n\n260\n00:15:20.590 --> 00:15:26.360\nthe handling of removing the listeners\nwhen component did unmount.\n\n261\n00:15:26.360 --> 00:15:29.010\nThe component did mount and\nthe component did unmount,\n\n262\n00:15:29.010 --> 00:15:31.790\nso now we're gonna let Firebase\nclean up after itself.\n\n263\n00:15:31.790 --> 00:15:33.270\nIt's probably not the best thing.\n\n264\n00:15:33.270 --> 00:15:35.990\nBut just for clarity we can always\ncome back and add those in.\n\n265\n00:15:35.990 --> 00:15:38.690\nSo I wanna add that listener.\n\n266\n00:15:38.690 --> 00:15:40.060\nSo I'm gonna have a roomRef,\n\n267\n00:15:40.060 --> 00:15:42.660\nand this is gonna be inside\na component that didn't mount.\n\n268\n00:15:42.660 --> 00:15:45.640\nSo I'm registering these listeners,\nI'm loading the data.\n\n269\n00:15:45.640 --> 00:15:49.095\nI'm doing a lot of things here and\nI probably could abstract this out and\n\n270\n00:15:49.095 --> 00:15:50.486\npull this out into methods.\n\n271\n00:15:50.486 --> 00:15:54.646\nBut, we're just gonna keep it all here,\nbecause ultimately if I used an external\n\n272\n00:15:54.646 --> 00:15:58.989\nstate management system, it wouldn't\nnecessarily be in component didn't mount,\n\n273\n00:15:58.989 --> 00:16:03.116\nI would just be I'm saying hey, we'll just\nwire this up or render this one time.\n\n274\n00:16:03.116 --> 00:16:06.061\nSo roomref on, so\nthis on is going to listen for\n\n275\n00:16:06.061 --> 00:16:09.670\nevery value event, and\nwhat I'm going to get is a snap.\n\n276\n00:16:09.670 --> 00:16:14.120\nNow let's check something,\nup here I use the promise version.\n\n277\n00:16:15.460 --> 00:16:19.320\nRight here let me see\nif I can get a promise.\n\n278\n00:16:19.320 --> 00:16:24.420\nOut of this because it's not super clear,\nif I'm not mistaken.\n\n279\n00:16:25.670 --> 00:16:28.250\nSo this on, it returns a function.\n\n280\n00:16:29.830 --> 00:16:31.470\nAnd you know what?\n\n281\n00:16:31.470 --> 00:16:33.340\nI lied, I misread that.\n\n282\n00:16:33.340 --> 00:16:34.190\nIt returns a function,\n\n283\n00:16:34.190 --> 00:16:37.260\nso I'm not gonna get a promise and\nI have to use the callback version.\n\n284\n00:16:37.260 --> 00:16:42.130\nAnd this is where the Firebase API,\nand it takes a little getting used to\n\n285\n00:16:42.130 --> 00:16:46.690\ncuz not everything is as promisified,\npromisified?\n\n286\n00:16:46.690 --> 00:16:47.930\n&gt;&gt; Promisified, I like it.\n\n287\n00:16:47.930 --> 00:16:49.860\n&gt;&gt; So this returns a function.\n\n288\n00:16:49.860 --> 00:16:53.800\nSo if I were to do something like this, so\nI was trying to apply what I already knew,\n\n289\n00:16:53.800 --> 00:16:57.078\nand I said on value\nthen get a snapshot and\n\n290\n00:16:57.078 --> 00:17:03.193\nthen just console.log the snapshot\nlike so, or snapshot.val.\n\n291\n00:17:03.193 --> 00:17:08.550\nThere's a lot of nesting in there,\njust bear with me.\n\n292\n00:17:08.550 --> 00:17:12.064\nWhat would happen is if I\ncome over to my react app and\n\n293\n00:17:12.064 --> 00:17:14.800\nI go to console, query.on failed.\n\n294\n00:17:14.800 --> 00:17:16.150\nWas called with 1 argument.\n\n295\n00:17:16.150 --> 00:17:18.208\nExpects at least 2.\n\n296\n00:17:18.208 --> 00:17:22.580\nIt actually takes a callback function\nthat's going to process that.\n\n297\n00:17:22.580 --> 00:17:27.092\nSo we don't need to use\nthe promisified version there but\n\n298\n00:17:27.092 --> 00:17:32.640\nthere are times where we can use\npromises to manage the flow of things.\n\n299\n00:17:32.640 --> 00:17:37.304\nThis is not one of them, instead,\nwhat we need is a callback function and\n\n300\n00:17:37.304 --> 00:17:41.900\nwhat we get is a snapshot and\nthat's going to run this function like so.\n\n301\n00:17:43.410 --> 00:17:47.549\nOkay, so I'm just going to\nput this inline, for now.\n\n302\n00:17:47.549 --> 00:17:51.509\nWe're just gonna leave this as be and\n\n303\n00:17:51.509 --> 00:17:56.020\nthen console.log(snapshot.val).\n\n304\n00:17:56.020 --> 00:18:00.680\nAnd if I come back over here,\nyep, there we go.\n\n305\n00:18:00.680 --> 00:18:05.510\nHere's our rooms and notice our\nrooms are actually populating here.\n\n306\n00:18:05.510 --> 00:18:10.610\nIt's still- notice this runs,\nthis actually still runs,\n\n307\n00:18:10.610 --> 00:18:13.840\nthis console log even runs when we reload.\n\n308\n00:18:13.840 --> 00:18:18.240\nAll right, we load the data and\nthen on value, run this again.\n\n309\n00:18:18.240 --> 00:18:22.840\nSo, hm, we might not,\nother than selected room.\n\n310\n00:18:22.840 --> 00:18:23.700\nWe might not need that.\n\n311\n00:18:23.700 --> 00:18:25.040\nWe might be doing it a little double work.\n\n312\n00:18:25.040 --> 00:18:26.110\nBut let's get it working first.\n\n313\n00:18:26.110 --> 00:18:33.778\nFor the snapshot, it's going to be very\nsimilar to rooms = snapshot.val().\n\n314\n00:18:37.311 --> 00:18:41.314\nAnd well, let's see here,\nreally that's all I need to update.\n\n315\n00:18:41.314 --> 00:18:46.165\nThis dot setState() rooms,\nagain, that's a shorthand\n\n316\n00:18:46.165 --> 00:18:51.025\nnotation to update the rooms\nattribute inside of my state.\n\n317\n00:18:51.025 --> 00:18:53.930\nSo this is kind of this weird nestedness,\n\n318\n00:18:53.930 --> 00:18:57.420\nI'm not even sure that's a word but\nNestedness.\n\n319\n00:18:57.420 --> 00:18:58.220\n&gt;&gt; I like nestedness, yes I do.\n\n320\n00:18:58.220 --> 00:19:00.270\n&gt;&gt; It has the likeness of being nested.\n\n321\n00:19:00.270 --> 00:19:03.340\nSo I'm gonna grab the rooms\nfrom that snapshot.\n\n322\n00:19:03.340 --> 00:19:06.980\nAgain, there's more logic, you're right,\nto actually make this more efficient\n\n323\n00:19:06.980 --> 00:19:08.570\ninstead of getting\nthe entire snapshot back.\n\n324\n00:19:08.570 --> 00:19:11.370\nLike I say, onChildAdded.\n\n325\n00:19:11.370 --> 00:19:14.270\nI just wanna get the on value to keep\nthings consistent with what we've\n\n326\n00:19:14.270 --> 00:19:15.290\nalready done.\n\n327\n00:19:15.290 --> 00:19:17.852\nIf I come over here and let's see.\n\n328\n00:19:17.852 --> 00:19:20.615\nLet's see.\n\n329\n00:19:23.922 --> 00:19:29.110\nHow about appointments?\n\n330\n00:19:29.110 --> 00:19:32.270\nAnd boom, it is realtime updating.\n\n331\n00:19:32.270 --> 00:19:33.634\nRealtime updating.\n\n332\n00:19:33.634 --> 00:19:35.110\n&gt;&gt; That made me tingle.\n\n333\n00:19:35.110 --> 00:19:36.740\n&gt;&gt; I know, it makes happy as well.\n\n334\n00:19:36.740 --> 00:19:38.960\nBut the only problem that I don't like,\n\n335\n00:19:38.960 --> 00:19:41.460\nI still persist on refresh because\nit's part of Firebase now.\n\n336\n00:19:41.460 --> 00:19:44.660\nThere is still a little bit of a flicker\nbecause we're getting that information.\n\n337\n00:19:45.820 --> 00:19:48.840\nThe problem is,\nis these messages aren't updating.\n\n338\n00:19:50.270 --> 00:19:51.550\nThat's a problem, right.\n\n339\n00:19:52.740 --> 00:19:55.184\nThat's not what we want.\n\n340\n00:19:55.184 --> 00:19:58.053\nWe want the message to\nupdate based on the rooms.\n\n341\n00:19:58.053 --> 00:20:00.906\nSo I think this would be\na good place to do that,\n\n342\n00:20:00.906 --> 00:20:05.447\nto actually implement grabbing\nthe messages, corresponding to a room,\n\n343\n00:20:05.447 --> 00:20:10.624\nupdating the state, have the state render\nout based on what room you're in, Woo!\n\n344\n00:20:10.624 --> 00:20:13.880\n[LAUGH] But I do not think we\nhave time in this episode Zach,\n\n345\n00:20:13.880 --> 00:20:17.320\nso maybe a part three,\nthird time's a charm?\n\n346\n00:20:17.320 --> 00:20:19.409\n&gt;&gt; No.\n&gt;&gt; To try to finish this up?\n\n347\n00:20:19.409 --> 00:20:22.850\nThey're kind of related and\ntitling's hard, but I think messages for\n\n348\n00:20:22.850 --> 00:20:26.160\nthe respective rooms makes sense for\ncreating the room.\n\n349\n00:20:26.160 --> 00:20:29.470\nSo let's come back with a part three,\nfinish this up, and\n\n350\n00:20:29.470 --> 00:20:33.270\nwe're real close to having a fully\nimplemneted chat application.\n\n351\n00:20:33.270 --> 00:20:36.790\nWell, \"fully\" implemented\nchat application.\n\n352\n00:20:36.790 --> 00:20:40.300\n&gt;&gt; You're doing an amazing job, Justin,\nand you're not leaving any stone\n\n353\n00:20:40.300 --> 00:20:44.100\nunturned which is great, so\nthis is adding a room part 2, see part 1,\n\n354\n00:20:44.100 --> 00:20:49.320\nthere will be a part 3, so that will be\ngreat to see how this all comes together.\n\n355\n00:20:49.320 --> 00:20:51.080\nAny last words before we move on?\n\n356\n00:20:51.080 --> 00:20:56.300\n&gt;&gt; You know, I think the real\nkey here is using documentation.\n\n357\n00:20:56.300 --> 00:20:58.550\nAnd really just trying to think through,\nright.\n\n358\n00:20:58.550 --> 00:20:59.721\nTaking it at a slow pace.\n\n359\n00:20:59.721 --> 00:21:04.415\nIt's not about writing the best code, the\nmost uniform and beautiful code because\n\n360\n00:21:04.415 --> 00:21:08.723\nthere are things that if I had to come\nback and do this again I would change it.\n\n361\n00:21:08.723 --> 00:21:12.023\nAnd that's true about any of\nthe code that I write but\n\n362\n00:21:12.023 --> 00:21:15.150\ngetting things working is number one.\n\n363\n00:21:15.150 --> 00:21:19.507\nMake it faster, better,\nmore efficient after you get it working.\n\n364\n00:21:19.507 --> 00:21:23.966\nAnd in all actuality, we should\nprobably be writing some tests, but for\n\n365\n00:21:23.966 --> 00:21:28.861\nlearning purposes they tend to bog things\ndown, so just keep on chugging away,\n\n366\n00:21:28.861 --> 00:21:32.850\nand well, once we have this MVP,\nyou can add on as needed.\n\n367\n00:21:32.850 --> 00:21:36.660\n&gt;&gt; Thank you Justin, you are our\nMr Miyagi, when it comes to DevPro,\n\n368\n00:21:36.660 --> 00:21:41.590\nI must say, and there'll be more of Chat\nApp with React and Firebase, make sure you\n\n369\n00:21:41.590 --> 00:21:45.920\nwatch all the episodes, you'll be\nglad you did, and I'm Zach Memos.\n\n370\n00:21:45.920 --> 00:21:46.840\n&gt;&gt; And I'm Justin Dennison.\n\n371\n00:21:46.840 --> 00:21:47.822\n&gt;&gt; And thanks for watching.\n\n372\n00:21:47.822 --> 00:21:49.665\n[SOUND]\n\n373\n00:21:49.665 --> 00:21:54.006\n[MUSIC]\n\n",
          "vimeoId": "231090979"
        },
        {
          "description": "/Volumes/SHOWS-CURRENT/Encodes/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-12-1-3-add_a_room_pt3-082317/techskills-chatappwithreactandfirebase-12-1-3-add_a_room_pt3-082317-high.mp4",
          "length": "1602",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-12-1-3-add_a_room_pt3-082317-PGM.00_26_30_15.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-12-1-3-add_a_room_pt3-082317-PGM.00_26_30_15.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-12-1-3-add_a_room_pt3-082317-PGM.00_26_30_15.Still001-sm.jpg",
          "title": "Add a Room Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.626 --> 00:00:17.128\nHello and welcome for choosing DEVProTV,\nhelping you to learn wherever you go.\n\n3\n00:00:17.128 --> 00:00:21.210\nI'm your host, Zach Memos, as we continue\nwith Chat App with React and Firebase,\n\n4\n00:00:21.210 --> 00:00:23.680\nand this is part three of adding a room.\n\n5\n00:00:23.680 --> 00:00:25.930\nThe person bringing us all\nthe information we need is the one,\n\n6\n00:00:25.930 --> 00:00:28.940\nthe only Justin Dennison,\nJustin good to see you again sir.\n\n7\n00:00:28.940 --> 00:00:33.461\n&gt;&gt; It is good to see you as well Zach, I'm\nglad to be back, and this is three parts.\n\n8\n00:00:33.461 --> 00:00:38.326\nBecause I decided to go ahead and\nstart messing a little bit with that data\n\n9\n00:00:38.326 --> 00:00:42.070\nmainly because it made\nsense in this context.\n\n10\n00:00:42.070 --> 00:00:47.620\nSo in part one we actually added the room\nform that allows us to add a room.\n\n11\n00:00:47.620 --> 00:00:51.923\nPart two we finish wiring that up to\nFirebase, excuse me, in part one,\n\n12\n00:00:51.923 --> 00:00:52.941\nat the very end.\n\n13\n00:00:52.941 --> 00:00:54.860\nWe actually got it to Firebase.\n\n14\n00:00:54.860 --> 00:00:58.340\nPart two, we brought it back down,\ngot it to real time update.\n\n15\n00:00:58.340 --> 00:01:03.980\nAnd now what I want is for the messages\nto update when I click a particular room.\n\n16\n00:01:03.980 --> 00:01:08.060\nCuz as it stands, we can add rooms\nwe can click around on rooms.\n\n17\n00:01:08.060 --> 00:01:12.280\nAaah, it would be nice if we added\nsome additional messages in there for\n\n18\n00:01:12.280 --> 00:01:13.300\nthe particular room.\n\n19\n00:01:13.300 --> 00:01:15.330\nSo they kind of go hand in hand.\n\n20\n00:01:15.330 --> 00:01:18.520\nAgain, just to reiterate, titling is hard.\n\n21\n00:01:18.520 --> 00:01:23.880\nSo that's one of those things that in\nretrospect, titling would be different.\n\n22\n00:01:23.880 --> 00:01:28.540\nSo let's go ahead and take a look at\nmy screen and we have a few rooms now.\n\n23\n00:01:28.540 --> 00:01:30.580\nWe have General, Jokes and\nAppointments, and\n\n24\n00:01:30.580 --> 00:01:35.480\nthose are all made by my\naccount that we have.\n\n25\n00:01:35.480 --> 00:01:38.880\nNow, if we come over here and\n\n26\n00:01:38.880 --> 00:01:43.900\nwe look we have this load data and we're\nsetting up this listener for a room ref.\n\n27\n00:01:43.900 --> 00:01:49.180\nNow, if I think about this, this load\ndata, that's actually loading the rooms\n\n28\n00:01:49.180 --> 00:01:53.250\nand I'm getting a selectedRoom from\nthe rooms that are kind of bringing back.\n\n29\n00:01:53.250 --> 00:01:57.559\nOnce I get a selectedRoom though,\nthose are the actual messages that I wanna\n\n30\n00:01:57.559 --> 00:02:01.550\nload into my app component necessary for\nthe state of my application.\n\n31\n00:02:01.550 --> 00:02:05.340\nSo if I scroll up,\nI currently have just this, right?\n\n32\n00:02:05.340 --> 00:02:07.035\nThis mess right here.\n\n33\n00:02:07.035 --> 00:02:09.980\nI'm actually going to\nget rid of all of that.\n\n34\n00:02:09.980 --> 00:02:12.060\nAll of that work and\n\n35\n00:02:12.060 --> 00:02:16.130\nwhat that means is those mocked\nin messages are going to go away.\n\n36\n00:02:16.130 --> 00:02:20.480\nLikewise, I'm going to\nchange the selectedRoom to\n\n37\n00:02:20.480 --> 00:02:21.940\nlet's just change it to null.\n\n38\n00:02:21.940 --> 00:02:23.050\nThere's nothing there.\n\n39\n00:02:23.050 --> 00:02:25.430\nSo there we go, there's no messages now.\n\n40\n00:02:25.430 --> 00:02:27.370\nI still have a selectedRoom, but\n\n41\n00:02:27.370 --> 00:02:31.470\nwhat I would like to have are messages\nreturned from a particular room.\n\n42\n00:02:32.870 --> 00:02:37.340\nOkay, so if I go hello and\n\n43\n00:02:37.340 --> 00:02:42.550\nI send and I come over to that to\nFirebase and I look at the messages,\n\n44\n00:02:42.550 --> 00:02:47.120\nwell I have a new message and\nthere is hello, there is the roomId.\n\n45\n00:02:47.120 --> 00:02:48.720\nAll right, it's right there.\n\n46\n00:02:49.960 --> 00:02:52.470\nI don't wanna grab all\nthe messages that this roomId\n\n47\n00:02:52.470 --> 00:02:55.750\nactually corresponds to the roomId\nthat I've currently selected.\n\n48\n00:02:55.750 --> 00:03:02.835\nSo it's kind of a in-app joint for those\nof you who are SQL database individuals.\n\n49\n00:03:02.835 --> 00:03:05.975\nSo not something that I get\nbecause this is no SQL,\n\n50\n00:03:05.975 --> 00:03:08.545\nbut there are some approximations.\n\n51\n00:03:08.545 --> 00:03:11.155\nLikewise, I'm gonna get rid of this,\nwhat's going on,\n\n52\n00:03:11.155 --> 00:03:14.325\nbecause that message actually is for\na room that doesn't exist, and\n\n53\n00:03:14.325 --> 00:03:18.755\nit will never exist, and\nthen that should be good.\n\n54\n00:03:18.755 --> 00:03:21.355\nWe've kind of cleaned up\nour data a little bit.\n\n55\n00:03:21.355 --> 00:03:24.845\nSo now that we've sent that back\nour messages aren't updating.\n\n56\n00:03:24.845 --> 00:03:27.015\nThat's a problem,\neverything else looks good.\n\n57\n00:03:28.710 --> 00:03:31.997\nHow do I get that message back?\n\n58\n00:03:31.997 --> 00:03:36.747\nWell this dot then, because this is\na promise I can actually return something\n\n59\n00:03:36.747 --> 00:03:40.123\nfrom this dot then and\nhave it go into another dot then.\n\n60\n00:03:40.123 --> 00:03:44.709\nOnce I get a selectedRoom,\nI want to query on the messageRef.\n\n61\n00:03:45.830 --> 00:03:49.468\nFor the roomIds,\nwhich are what are called children.\n\n62\n00:03:49.468 --> 00:03:53.462\nSo this roomId, if I had a bunch of\nmessages, I would wanna query against this\n\n63\n00:03:53.462 --> 00:03:59.070\nroomId, and then get me things that\nare equal to the selectedRoom.\n\n64\n00:03:59.070 --> 00:04:03.060\nSo if I go into my app, and I look for\n\n65\n00:04:03.060 --> 00:04:08.480\nmy app state I have over here\nselectedRoom is this ID.\n\n66\n00:04:08.480 --> 00:04:11.620\nI want the messages,\nnotice there's nothing there.\n\n67\n00:04:11.620 --> 00:04:15.650\nI want the messages that have this\nas the roomId for the message.\n\n68\n00:04:15.650 --> 00:04:19.580\nOkay, so I have created that,\na message belongs to a room.\n\n69\n00:04:19.580 --> 00:04:24.965\nAnd a room, well I haven't done the has\nmany because those aren't nested.\n\n70\n00:04:24.965 --> 00:04:28.300\nFirebase actually recommends that\nyou shouldn't nest deeply that way,\n\n71\n00:04:28.300 --> 00:04:30.790\nso this is what we're gonna do.\n\n72\n00:04:30.790 --> 00:04:32.120\nHow am I going to accomplish that?\n\n73\n00:04:33.578 --> 00:04:39.740\nWell, in Firebase, as I said,\nwe can return a promise from dot then,\n\n74\n00:04:39.740 --> 00:04:43.000\nbut we get another promise\nin the next dot then.\n\n75\n00:04:43.000 --> 00:04:48.915\nSo we can do promise chaining, so\nthis return and I'm gonna say messageRef.\n\n76\n00:04:49.990 --> 00:04:54.234\nAnd not Reg, that is wrong, Ref.\n\n77\n00:04:54.234 --> 00:04:58.660\nAnd now I'm gonna look into\nthe documentation, just for a little bit.\n\n78\n00:04:58.660 --> 00:05:04.690\nSo if I come over here and\nI look, let's see here.\n\n79\n00:05:04.690 --> 00:05:05.470\nWhere are we going?\n\n80\n00:05:05.470 --> 00:05:05.970\nHere we are.\n\n81\n00:05:07.450 --> 00:05:12.530\nI can do child equalTo, orderByChild.\n\n82\n00:05:13.570 --> 00:05:16.974\nAo I can actually order and\n\n83\n00:05:16.974 --> 00:05:21.790\nthen limitToFirst, limitToLast.\n\n84\n00:05:21.790 --> 00:05:24.490\nAnd then what is this limitToLast?\n\n85\n00:05:24.490 --> 00:05:26.520\nOkay, well, let's see.\n\n86\n00:05:26.520 --> 00:05:29.444\nGenerates a new query object limit to last\nmethod is used to set a maximum number of\n\n87\n00:05:29.444 --> 00:05:31.080\nchildren to be synced\nwith a given call back.\n\n88\n00:05:31.080 --> 00:05:35.333\nSo that's how much you're getting back,\nlet's say you have one million messages,\n\n89\n00:05:35.333 --> 00:05:36.936\nthat'd only need to last 25.\n\n90\n00:05:36.936 --> 00:05:38.884\n&gt;&gt; [LAUGH]\n&gt;&gt; So we could do that.\n\n91\n00:05:38.884 --> 00:05:43.313\nWe're actually going to forego a little\nbit of this Firebase just to get things\n\n92\n00:05:43.313 --> 00:05:47.100\nworking and may come back and\nclean this up eventually.\n\n93\n00:05:47.100 --> 00:05:51.230\nWe are going to use,\nthough, order by child\n\n94\n00:05:51.230 --> 00:05:55.400\nbecause the child of\nthe messageRef are these things.\n\n95\n00:05:55.400 --> 00:06:02.490\nSo for this message, it has children\nvalues of roomId created, email.\n\n96\n00:06:02.490 --> 00:06:05.270\nSo I could query against\nany of those key values.\n\n97\n00:06:07.120 --> 00:06:09.710\nIn addition to, we are going to say\n\n98\n00:06:09.710 --> 00:06:13.680\nwhen the roomId is equal to\nthe selectedRoom that we just got back.\n\n99\n00:06:13.680 --> 00:06:15.140\nSo during load data, we need to do that.\n\n100\n00:06:16.220 --> 00:06:22.502\nSo if I come over here,\nI'm gonna say messageRef .orderByChild and\n\n101\n00:06:22.502 --> 00:06:27.284\nwhat child,\nthe roomId attribute on the messages.\n\n102\n00:06:27.284 --> 00:06:31.710\nSo this is assuming something that your\nmessages have the same ID property.\n\n103\n00:06:31.710 --> 00:06:32.246\nIf it doesn't,\n\n104\n00:06:32.246 --> 00:06:36.670\nthen your ordering's gonna be a little\nweird and so just keep that in mind.\n\n105\n00:06:36.670 --> 00:06:41.070\nWe done a data modeling this is something\nwe've planned for appropriately, or\n\n106\n00:06:41.070 --> 00:06:42.420\nhopefully appropriately.\n\n107\n00:06:42.420 --> 00:06:46.210\nAnd when that is equalTo the selectedRoom.\n\n108\n00:06:46.210 --> 00:06:48.725\nNow where's that selectedRoom coming from,\nright up here.\n\n109\n00:06:48.725 --> 00:06:53.446\nAnd on the previous episode we just\ngrabbed the first one from the room's list\n\n110\n00:06:53.446 --> 00:06:57.680\nand then I'm gonna say once and\ngive me all of these values.\n\n111\n00:06:57.680 --> 00:06:59.380\nBecause this is a promise.\n\n112\n00:06:59.380 --> 00:07:00.500\nI could do a .then and\n\n113\n00:07:00.500 --> 00:07:05.530\nhandle it in here but I can use promise\nchaining and get another snapshot.\n\n114\n00:07:05.530 --> 00:07:10.840\nNow this snapshot is not the same\nsnapshot as the previous one.\n\n115\n00:07:10.840 --> 00:07:14.150\nAnd I'm actually gonna do a catch\nhere just in case there's an error.\n\n116\n00:07:15.220 --> 00:07:17.870\nSo I know there's an error.\n\n117\n00:07:17.870 --> 00:07:20.340\nNot necessarily the best error handling.\n\n118\n00:07:20.340 --> 00:07:25.788\nBut this snapshot is going to\nbe the resolution of this query.\n\n119\n00:07:25.788 --> 00:07:30.099\nSo I'm gonna get the messages\nordered by the roomId attribute, and\n\n120\n00:07:30.099 --> 00:07:34.422\nwhere it's equal to,\nessentially filtered, the selectedRoom.\n\n121\n00:07:34.422 --> 00:07:36.740\nAnd I'm gonna get all\nthose values at once.\n\n122\n00:07:36.740 --> 00:07:40.440\nSo let's just see what\nthe values of the snapshot are.\n\n123\n00:07:40.440 --> 00:07:46.430\nSo Console.log snapshot,\njust like that, and let's call .valve.\n\n124\n00:07:46.430 --> 00:07:48.775\nCuz otherwise we're gonna\nget a snapshot object and\n\n125\n00:07:48.775 --> 00:07:50.326\nwe won't be able to inspect that.\n\n126\n00:07:50.326 --> 00:07:55.340\nSo I come back over here and I look at\nmy React app and console, there we go.\n\n127\n00:07:55.340 --> 00:08:00.097\nNow I do want to, we're not gonna talk\nabout indexing or building indexes.\n\n128\n00:08:00.097 --> 00:08:01.141\nIn this context.\n\n129\n00:08:01.141 --> 00:08:04.248\nWe're going to, kind of,\nignore this for now.\n\n130\n00:08:04.248 --> 00:08:07.470\nUsing an unspecified index,\nconsidered adding index on.\n\n131\n00:08:07.470 --> 00:08:11.000\nRoom ID add messages for your security\nrules for better performance.\n\n132\n00:08:11.000 --> 00:08:14.940\nEssentially, this will go behind the\nscenes, and build what is called an index\n\n133\n00:08:14.940 --> 00:08:18.370\nfor you, where you can query faster for\nthis particular attribute.\n\n134\n00:08:19.610 --> 00:08:22.600\nJust to keep this simple,\nwe're going to leave that be,\n\n135\n00:08:22.600 --> 00:08:26.160\nwhich means we are always going to\nhave this FIREBASE warning for now.\n\n136\n00:08:26.160 --> 00:08:28.700\nBut, this is fairly easy.\n\n137\n00:08:29.810 --> 00:08:33.030\nWe may be able to circle back around and\njust do a quick aside.\n\n138\n00:08:33.030 --> 00:08:34.860\nBut we want to get this working first.\n\n139\n00:08:34.860 --> 00:08:36.350\nAnd then there is our data snapshot.\n\n140\n00:08:37.960 --> 00:08:40.240\nSo where is our dot val?\n\n141\n00:08:41.570 --> 00:08:44.970\nLet's see if I'm console dot\nlogging the right thing.\n\n142\n00:08:44.970 --> 00:08:53.200\nConsole messages, just like that.\n\n143\n00:08:53.200 --> 00:08:56.890\nAnd messages, ha, there we go.\n\n144\n00:08:56.890 --> 00:09:01.200\nAnd here are all the messages that\nhave that respective room ID.\n\n145\n00:09:01.200 --> 00:09:03.810\nI guess I didn't save it\nappropriately the last time.\n\n146\n00:09:03.810 --> 00:09:05.410\nSo there's our snapshot.\n\n147\n00:09:05.410 --> 00:09:09.350\nSo this snapshot is the actual\nmessages for the selected room.\n\n148\n00:09:09.350 --> 00:09:10.440\nThat's on load.\n\n149\n00:09:10.440 --> 00:09:13.570\nSo we've got some other things to do,\nbut let's get that working first.\n\n150\n00:09:13.570 --> 00:09:21.500\nI'm going to say const messages equals\nsnapshot, and this is a data snapshot.\n\n151\n00:09:21.500 --> 00:09:25.085\nThere's our messages, and\nnow we want to update our state.\n\n152\n00:09:25.085 --> 00:09:33.390\nthis.setstate and then messages, okay?\n\n153\n00:09:33.390 --> 00:09:38.670\nSo we've set state here,\nwe've set state here.\n\n154\n00:09:38.670 --> 00:09:42.350\nAnd we're catching errors here, so\nif we come over here, look at that,\n\n155\n00:09:42.350 --> 00:09:46.280\nwe have a room and this Hello message.\n\n156\n00:09:46.280 --> 00:09:52.740\nIf I type, let's type something\nappropriate, how are you today?\n\n157\n00:09:54.050 --> 00:09:59.920\nAnd I send it we don't see it update, but\nif I go and refresh, boom there it is,\n\n158\n00:09:59.920 --> 00:10:04.270\nwe now have messages in the database\nthat correspond to the general room.\n\n159\n00:10:04.270 --> 00:10:05.960\nIf I click over to jokes.\n\n160\n00:10:07.280 --> 00:10:11.700\nI'm still seeing general rooms so\nI don't get the,\n\n161\n00:10:11.700 --> 00:10:16.670\nit needs to update right,\nwell that's a problem.\n\n162\n00:10:16.670 --> 00:10:21.518\nAlso, I don't get different\nones when I click,\n\n163\n00:10:21.518 --> 00:10:26.090\nso when I click on a room,\nI don't see the room's messages, and\n\n164\n00:10:26.090 --> 00:10:29.630\nwhen I send a message,\nit does not update appropriately.\n\n165\n00:10:29.630 --> 00:10:30.160\n&gt;&gt; Mm.\n&gt;&gt; So\n\n166\n00:10:30.160 --> 00:10:31.930\nthose are the last two\nitems we need to do,\n\n167\n00:10:31.930 --> 00:10:36.160\nand I think we may have this kind of\nall kind of pushed together, right?\n\n168\n00:10:36.160 --> 00:10:37.310\n&gt;&gt; Alright.\n\n169\n00:10:37.310 --> 00:10:41.230\n&gt;&gt; So let's address the fact that\nif I click on jokes I want to see\n\n170\n00:10:42.880 --> 00:10:44.910\nthe messages for that particular room.\n\n171\n00:10:44.910 --> 00:10:45.870\nOkay?\n\n172\n00:10:45.870 --> 00:10:50.100\nSo this was some asynchronicity this\nis loading the data one time and\n\n173\n00:10:50.100 --> 00:10:53.600\nI am actually going to fold this up,\njust kind of out of sight, out of mind.\n\n174\n00:10:55.440 --> 00:10:57.950\nThis is updating the rooms\nwhenever the rooms change.\n\n175\n00:10:57.950 --> 00:10:59.410\nThat's good.\n\n176\n00:10:59.410 --> 00:11:01.650\nBut if I come down here to the set room.\n\n177\n00:11:01.650 --> 00:11:02.300\nThere it is.\n\n178\n00:11:02.300 --> 00:11:04.110\nWhen we set the room,\n\n179\n00:11:04.110 --> 00:11:09.590\ndo we not also want to update\nthe messages for that particular room?\n\n180\n00:11:11.320 --> 00:11:13.500\nHm.\nYeah, probably, right.\n\n181\n00:11:13.500 --> 00:11:18.410\nSo it would be nice if Firebase said,\nokay, well, whenever\n\n182\n00:11:18.410 --> 00:11:23.480\nyour querying like this, it's hard to get\nit just to update all the time, okay?\n\n183\n00:11:23.480 --> 00:11:27.540\nBecause if you set the query, right?\n\n184\n00:11:27.540 --> 00:11:31.610\nIf I come back up here to like load data,\nhow I queried this by order,\n\n185\n00:11:31.610 --> 00:11:35.520\nby child, equal to right here.\n\n186\n00:11:35.520 --> 00:11:37.290\nIt actually says.\n\n187\n00:11:37.290 --> 00:11:39.880\nOrder by channel equal\nto this value always.\n\n188\n00:11:39.880 --> 00:11:42.100\nIt's harder to change that so\n\n189\n00:11:42.100 --> 00:11:47.530\nyou still have to do almost like an API\ncall like a restful API or database call.\n\n190\n00:11:47.530 --> 00:11:50.280\nWell because it is\na database call each time.\n\n191\n00:11:51.700 --> 00:11:55.860\nSo when I set the room lets do this.\n\n192\n00:11:55.860 --> 00:11:59.500\nLets see.\n\n193\n00:11:59.500 --> 00:12:01.440\nWhen I get the message ref.\n\n194\n00:12:01.440 --> 00:12:04.780\nI'm setting the room in a local state and\nI'm gonna say orderByChild and I'm gonna\n\n195\n00:12:11.410 --> 00:12:16.860\norder by the room ID, and I want\njust the messages that are equal to.\n\n196\n00:12:16.860 --> 00:12:19.990\nAnd this is for explicitness,\nthis is kinda rinse and\n\n197\n00:12:19.990 --> 00:12:22.960\nrepeat, is going to be very\nsimilar to what we just did.\n\n198\n00:12:22.960 --> 00:12:28.300\nWhen it's equal to the ID,\nwhich is right here.\n\n199\n00:12:28.300 --> 00:12:30.340\nWell, that's because we're\nsetting the room to the ID.\n\n200\n00:12:30.340 --> 00:12:36.240\nAnd then once, just like so.\n\n201\n00:12:36.240 --> 00:12:37.050\nSo, once.\n\n202\n00:12:38.110 --> 00:12:41.760\nValue.\nAnd then okay well,\n\n203\n00:12:41.760 --> 00:12:43.345\nwhat are we gonna do here?\n\n204\n00:12:43.345 --> 00:12:47.246\n.then because once returns a prompts,\nwe're gonna get a snapshot.\n\n205\n00:12:50.354 --> 00:12:52.634\nAnd at this point,\n\n206\n00:12:54.368 --> 00:12:59.404\nI want to grab the messages for\n\n207\n00:12:59.404 --> 00:13:03.037\nthat room, like so.\n\n208\n00:13:05.513 --> 00:13:07.110\nAnd just add those to the state.\n\n209\n00:13:07.110 --> 00:13:09.910\nSo let's see if that works.\n\n210\n00:13:09.910 --> 00:13:12.690\nSo this set room is now asynchronous,\n\n211\n00:13:12.690 --> 00:13:17.800\ncuz it does a query against Firebase for\na particular set of messages.\n\n212\n00:13:17.800 --> 00:13:20.908\nAnd then, only then,\ndoes this state update.\n\n213\n00:13:20.908 --> 00:13:22.495\nOkay.\n\n214\n00:13:22.495 --> 00:13:28.060\nNow, the question is, do I set\nthis state in this .then function?\n\n215\n00:13:30.410 --> 00:13:35.210\nOr do I set the state after,\noutside of, so\n\n216\n00:13:35.210 --> 00:13:39.500\nhere is kind of the recommendation,\nmy thought process.\n\n217\n00:13:39.500 --> 00:13:42.420\nI only want the room to\nchange if this is successful.\n\n218\n00:13:44.210 --> 00:13:47.720\nSo I'm only going to set\nthe selected room to the new ID if\n\n219\n00:13:47.720 --> 00:13:49.600\nit's successful in retrieving messages.\n\n220\n00:13:49.600 --> 00:13:54.890\nNow what I mean by successful,\nit doesn't grab this .catch here.\n\n221\n00:13:54.890 --> 00:13:59.040\nSo let's just add a .catch, so\n\n222\n00:13:59.040 --> 00:14:02.950\nwe can see if things are going\nhorribly awry, too many r's.\n\n223\n00:14:04.060 --> 00:14:06.840\nIf it's not on this dot catch and it\nactually gets through this dot them then\n\n224\n00:14:06.840 --> 00:14:08.820\nupdate the rooms I'd slipped and rooms ID.\n\n225\n00:14:08.820 --> 00:14:12.780\nOtherwise I kind of just\nwant it to hang out.\n\n226\n00:14:12.780 --> 00:14:14.300\nYeah, it's gonna print out of the console.\n\n227\n00:14:14.300 --> 00:14:16.120\nI should have better\nair handling than this.\n\n228\n00:14:16.120 --> 00:14:17.710\nMaybe a little toast or\nsomething that says,\n\n229\n00:14:17.710 --> 00:14:19.740\nhey something went wrong,\nplease try again.\n\n230\n00:14:19.740 --> 00:14:22.290\nBut we're just gonna leave that be for\nnow.\n\n231\n00:14:22.290 --> 00:14:26.050\nSo I come back over here and\nnow I can come to the jokes.\n\n232\n00:14:27.470 --> 00:14:29.000\nWhat happened?\n\n233\n00:14:29.000 --> 00:14:32.260\nCan not convert undefined or\nnull to object.\n\n234\n00:14:34.320 --> 00:14:38.058\nWhat's going on there?\n\n235\n00:14:38.058 --> 00:14:42.250\nWell, if I come down to here,\n\n236\n00:14:42.250 --> 00:14:46.557\nhere's a messages snapshot val,\n\n237\n00:14:46.557 --> 00:14:50.820\nmessages, that actually fails right there,\nand why?\n\n238\n00:14:50.820 --> 00:14:54.390\nBecause jokes doesn't\nhave any actual messages\n\n239\n00:14:54.390 --> 00:14:57.760\nin the chat room at the current time.\n\n240\n00:15:00.090 --> 00:15:01.840\nSo how are we gonna fix that,\ncuz it's broke.\n\n241\n00:15:03.030 --> 00:15:08.020\nWell, we can use a little bit of\nJavaScript trickery and just say, or\n\n242\n00:15:08.020 --> 00:15:09.160\ngive me an empty object.\n\n243\n00:15:09.160 --> 00:15:14.640\nSo either give me messages when I set\nthe room or make it an empty object.\n\n244\n00:15:14.640 --> 00:15:18.980\nLikewise, we could've done\nthe same thing and load data but\n\n245\n00:15:18.980 --> 00:15:23.590\nwe're making an assumption\nthat this room exists and\n\n246\n00:15:23.590 --> 00:15:26.670\nby default, if that rooms exists,\nthere should be messages.\n\n247\n00:15:26.670 --> 00:15:28.380\nWhat if there's not?\n\n248\n00:15:28.380 --> 00:15:32.380\nWell just to be safe let's add\nan empty object there as well, okay?\n\n249\n00:15:32.380 --> 00:15:34.070\nSo if we've done that we're good.\n\n250\n00:15:34.070 --> 00:15:35.250\nThere's our messages.\n\n251\n00:15:35.250 --> 00:15:36.750\nAnd jokes, there we go.\n\n252\n00:15:36.750 --> 00:15:40.690\nWe're so, we're close, Zach, we're close.\n\n253\n00:15:40.690 --> 00:15:41.370\n&gt;&gt; I feel it.\n\n254\n00:15:41.370 --> 00:15:42.000\n&gt;&gt; We're close.\n\n255\n00:15:42.000 --> 00:15:44.890\nSo now, hello.\n\n256\n00:15:46.850 --> 00:15:51.485\nWell, let's see if it updated.\n\n257\n00:15:51.485 --> 00:15:58.020\nSo, if we come over to react and we go\nto selected room there's no messages.\n\n258\n00:15:58.020 --> 00:15:59.749\nBut if I come back.\n\n259\n00:15:59.749 --> 00:16:02.670\nAnd I look at messages and actually,\n\n260\n00:16:02.670 --> 00:16:08.240\nlet me move this over just a little\nbit more so I can pull this over here.\n\n261\n00:16:09.350 --> 00:16:11.460\nSo there's messages, okay.\n\n262\n00:16:11.460 --> 00:16:12.750\nKeep an eye on that.\n\n263\n00:16:12.750 --> 00:16:16.330\nWhen I click jokes,\nthe messages update like we anticipate.\n\n264\n00:16:17.340 --> 00:16:20.060\nThere's actual hello in jokes.\n\n265\n00:16:20.060 --> 00:16:22.830\nThat's good, but it's not real time yet.\n\n266\n00:16:24.380 --> 00:16:26.148\nIt's not real time.\n\n267\n00:16:26.148 --> 00:16:32.810\nHowever, I wonder, if instead of on value,\nand doing a whole replace,\n\n268\n00:16:34.340 --> 00:16:38.800\nif we could utilize one of\nthese Firebase methods, like\n\n269\n00:16:39.890 --> 00:16:45.540\non and let's zoom in here,\nchild_added event.\n\n270\n00:16:45.540 --> 00:16:49.000\nThis event will be triggered once for\neach initial child at this location.\n\n271\n00:16:49.000 --> 00:16:52.364\nIt will be triggered again every\ntime a new child is added.\n\n272\n00:16:54.840 --> 00:17:03.396\nI'm not sure that, that's going to\nwork because I really need to sort.\n\n273\n00:17:03.396 --> 00:17:08.178\nI need to gather particular\npieces of information.\n\n274\n00:17:08.178 --> 00:17:10.178\nChild remove value event.\n\n275\n00:17:10.178 --> 00:17:15.270\nSo on value, on child remove.\n\n276\n00:17:16.320 --> 00:17:20.232\nSo let's do a little bit of more\nresearch here, order by child.\n\n277\n00:17:22.852 --> 00:17:25.550\nOrder by child height, on child added.\n\n278\n00:17:27.720 --> 00:17:31.770\nSnapshot, let's see what we got here.\n\n279\n00:17:31.770 --> 00:17:34.971\nNow we may end up doing\na fall back to this in raw\n\n280\n00:17:34.971 --> 00:17:40.320\nJavaScript with a on value but,\nlet's further research this.\n\n281\n00:17:40.320 --> 00:17:43.900\nAll right, so\nwhere would I put this listener?\n\n282\n00:17:44.960 --> 00:17:48.310\nIt's probably a good place to\nput it in componentDidMount.\n\n283\n00:17:48.310 --> 00:17:53.760\nSo this roomRef on and right under that,\nif I'm still user logged on,\n\n284\n00:17:53.760 --> 00:17:58.338\nonly if I'm logged on,\nI'm gonna say, messageRef,\n\n285\n00:17:58.338 --> 00:18:03.720\norderByChild, roomId and\n\n286\n00:18:03.720 --> 00:18:07.920\nthen on child_added, okay?\n\n287\n00:18:09.280 --> 00:18:14.490\nSo, let's say on child_added and\n\n288\n00:18:14.490 --> 00:18:17.370\nthis is going to be a call back\nfunction that takes a snapshot.\n\n289\n00:18:18.490 --> 00:18:21.790\nRemember on doesn't give us\nthe ability to use paralysis.\n\n290\n00:18:24.300 --> 00:18:28.100\nLet's just see what's in that snapshot for\nkind of poking around.\n\n291\n00:18:28.100 --> 00:18:33.575\nI do got a little bit of a backup plan\nhere in case this doesn't work out, okay?\n\n292\n00:18:33.575 --> 00:18:36.890\nSo let's go over here.\n\n293\n00:18:36.890 --> 00:18:41.690\nThat's good, console.log,\nthere we go, how are you today?\n\n294\n00:18:41.690 --> 00:18:42.500\nHow are you today?\n\n295\n00:18:42.500 --> 00:18:46.570\nOkay, hello, and\nthen notice this hello here.\n\n296\n00:18:48.150 --> 00:18:51.560\nWell, that happens on initial load.\n\n297\n00:18:51.560 --> 00:18:56.100\nJokes, hello,\nlet's see what happens if I type.\n\n298\n00:18:57.780 --> 00:18:58.934\nWant to hear a joke?\n\n299\n00:19:03.505 --> 00:19:05.705\nThis fires, it doesn't get added but\n\n300\n00:19:05.705 --> 00:19:09.710\nI think we're on to something here\nbecause here's what we got back.\n\n301\n00:19:10.800 --> 00:19:15.250\nOn child added, hey we could just\nsee if it's part of the room and\n\n302\n00:19:15.250 --> 00:19:18.600\nthen Add it to that right?\n\n303\n00:19:18.600 --> 00:19:19.590\nI come over here.\n\n304\n00:19:21.710 --> 00:19:22.975\nHello.\n\n305\n00:19:22.975 --> 00:19:26.553\nIt just gives me the individual\nmessage that was sent.\n\n306\n00:19:26.553 --> 00:19:30.300\nSo will say here is what was\njust added to the messages tab.\n\n307\n00:19:30.300 --> 00:19:35.100\nWe can do a quick check to see if it's\nactually equal to the room that we need\n\n308\n00:19:35.100 --> 00:19:40.310\nand if it is Add it to\nthe actual state object, okay.\n\n309\n00:19:40.310 --> 00:19:42.610\nSo, I think we're onto something here,\nZach.\n\n310\n00:19:42.610 --> 00:19:44.030\nI think we're onto something.\n\n311\n00:19:44.030 --> 00:19:44.560\n&gt;&gt; I'm happy.\n\n312\n00:19:45.900 --> 00:19:47.530\n&gt;&gt; All right.\nAs a matter of fact,\n\n313\n00:19:47.530 --> 00:19:50.210\nI don't even think we\nneed this orderByChild.\n\n314\n00:19:50.210 --> 00:19:53.740\nWe just need to listen for child_added.\n\n315\n00:19:53.740 --> 00:19:56.746\nJust like so and move this over.\n\n316\n00:19:56.746 --> 00:20:01.460\nMove this, and okay.\n\n317\n00:20:01.460 --> 00:20:03.956\nSo let's get the message.\n\n318\n00:20:03.956 --> 00:20:07.403\nAnd that's the snapshot.val.\n\n319\n00:20:07.403 --> 00:20:13.188\nAnd if the message.roomId ===\n\n320\n00:20:13.188 --> 00:20:18.579\nthis.state.selectedRoom.\n\n321\n00:20:18.579 --> 00:20:22.517\nSo if they're equal, right,\nwhat do we want to do?\n\n322\n00:20:24.347 --> 00:20:28.150\nWe want to add a new message to the state.\n\n323\n00:20:28.150 --> 00:20:30.310\nWe want to merge, and\nthis is where it gets a little weird.\n\n324\n00:20:30.310 --> 00:20:32.480\nWe can't do a quick little just set state.\n\n325\n00:20:33.980 --> 00:20:40.040\nWe probably wanna take what messages are\nall ready there and then merge those in.\n\n326\n00:20:41.790 --> 00:20:43.474\nSo how are we gonna do that?\n\n327\n00:20:43.474 --> 00:20:46.180\nI think I got an idea,\nI think I got an idea.\n\n328\n00:20:47.560 --> 00:20:53.869\nSo how about we say this.setState and\n\n329\n00:20:53.869 --> 00:20:57.812\nthen this spread, no,\n\n330\n00:20:57.812 --> 00:21:02.938\nmessages is equal to the spread\n\n331\n00:21:02.938 --> 00:21:07.889\nof this.state.messages.\n\n332\n00:21:07.889 --> 00:21:12.390\nSo I'm kind of saying,\nkeep all the messages that are there but\n\n333\n00:21:12.390 --> 00:21:17.461\nalso I should be able to set\nkey value pair of saying\n\n334\n00:21:17.461 --> 00:21:22.590\nthe message.id if I'm not mistaken.\n\n335\n00:21:22.590 --> 00:21:25.710\nI took out the console.log.\n\n336\n00:21:25.710 --> 00:21:31.145\nI'm pretty sure it was id is equal to.\n\n337\n00:21:33.989 --> 00:21:35.570\nYou know what?\n\n338\n00:21:35.570 --> 00:21:36.320\nI am silly.\n\n339\n00:21:36.320 --> 00:21:39.364\nGet the key with the snapshot.\n\n340\n00:21:41.894 --> 00:21:43.530\nSo not the ID.\n\n341\n00:21:43.530 --> 00:21:45.190\nTotally my fault.\n\n342\n00:21:45.190 --> 00:21:51.930\nWe wanna say key and\nthen Message, like so.\n\n343\n00:21:51.930 --> 00:21:57.370\nAll right, so this is an evaluated\nvalue based on grabbing the key and\n\n344\n00:21:57.370 --> 00:21:58.280\nthis is not a function.\n\n345\n00:21:59.590 --> 00:22:00.440\nThe snapshot key.\n\n346\n00:22:01.610 --> 00:22:06.510\nSo let's go over here and make sure\nI didn't mangle this up a little bit.\n\n347\n00:22:06.510 --> 00:22:11.790\nSo if I come to On,\nI get a review of all of those.\n\n348\n00:22:11.790 --> 00:22:14.350\nSo I want to see a data snapshot.\n\n349\n00:22:14.350 --> 00:22:18.682\nSo if I get a data snapshot,\nwhat kinda information can I get?\n\n350\n00:22:18.682 --> 00:22:21.404\nThe key, what key is that?\n\n351\n00:22:21.404 --> 00:22:22.400\nSnapshot key.\n\n352\n00:22:24.060 --> 00:22:31.180\nAda, might not be quite what we want,\nbut we're about to find out, right?\n\n353\n00:22:31.180 --> 00:22:35.278\nSo just as a reminder,\n\n354\n00:22:35.278 --> 00:22:43.265\nlet's say console.log snapshot.key and\n\n355\n00:22:43.265 --> 00:22:47.810\nsnapshot.val like so.\n\n356\n00:22:47.810 --> 00:22:50.800\nI think we got it Zach, I think we got it.\n\n357\n00:22:50.800 --> 00:22:55.384\nThere's always a lot of cognitive\ncomplexity there, so there's our key and\n\n358\n00:22:55.384 --> 00:22:58.840\nthere's our value, and\nthat's exactly what we wanted,\n\n359\n00:22:58.840 --> 00:23:01.284\nwe wanted to be able to merge those.\n\n360\n00:23:01.284 --> 00:23:04.520\nSo I've done this correctly,\nI wanna keep the messages,\n\n361\n00:23:04.520 --> 00:23:07.790\nset those to a new object that has\nall of the state messages all ready\n\n362\n00:23:07.790 --> 00:23:11.920\nkind of spread back into them,\nthis is only available because we're using\n\n363\n00:23:11.920 --> 00:23:17.170\nwith some additional add-ons that\nallow us to spread objects together.\n\n364\n00:23:17.170 --> 00:23:22.380\nAnd then I'm gonna take the key and set\nthat equal to, like a key value pair for\n\n365\n00:23:22.380 --> 00:23:26.010\nkey message, so\nessentially build my own object locally.\n\n366\n00:23:26.010 --> 00:23:27.030\nAll right.\n\n367\n00:23:27.030 --> 00:23:28.830\nI think this will work,\ncross your fingers.\n\n368\n00:23:28.830 --> 00:23:31.270\nIf it doesn't work, we're gonna blame\nZach, and I'm gonna run right out.\n\n369\n00:23:31.270 --> 00:23:32.920\n&gt;&gt; Yeah.\nYou can blame me absolutely.\n\n370\n00:23:32.920 --> 00:23:38.140\n&gt;&gt; All right.\nSo, I am doing well today, and\n\n371\n00:23:38.140 --> 00:23:41.220\nlook at that,\nwe now have the ability to up time.\n\n372\n00:23:41.220 --> 00:23:43.826\nLet's see if it works.\n\n373\n00:23:43.826 --> 00:23:50.786\nI would love to hear a joke.\n\n374\n00:23:50.786 --> 00:23:56.362\nAnd there we go, if it come back\nto general Look at all of that.\n\n375\n00:23:56.362 --> 00:24:02.392\nAnd let's see, we have no messages in\nhere I need to go to the grocery store.\n\n376\n00:24:07.222 --> 00:24:09.503\nGrocery store and there we go,\n\n377\n00:24:09.503 --> 00:24:13.990\nit's now updating based on log in users,\nit's wonderful.\n\n378\n00:24:13.990 --> 00:24:18.970\nAnd we added a new child added, so we're\nlooking only when children are added,\n\n379\n00:24:18.970 --> 00:24:20.610\nI know we added a little bit of condition.\n\n380\n00:24:20.610 --> 00:24:25.290\nThere are ways in Firebase,\nto kind of grab this or\n\n381\n00:24:25.290 --> 00:24:29.100\nlisten to more of these events,\nunlike what we did.\n\n382\n00:24:29.100 --> 00:24:33.090\nNot up there necessarily,\nbut where is that setRoom?\n\n383\n00:24:33.090 --> 00:24:35.461\nsetRoom, where did you go?\n\n384\n00:24:35.461 --> 00:24:36.360\nThere it is.\n\n385\n00:24:36.360 --> 00:24:39.810\nSo, we're doing this each\ntime we go to a new room, but\n\n386\n00:24:39.810 --> 00:24:43.560\nthat's because we are looking\nto only get the pieces.\n\n387\n00:24:43.560 --> 00:24:47.170\nActually producing the amount of\ninformation that is going across the wire.\n\n388\n00:24:47.170 --> 00:24:49.310\nWe are only looking for a particular IT.\n\n389\n00:24:49.310 --> 00:24:51.330\nSo it's kind of a give or take.\n\n390\n00:24:51.330 --> 00:24:54.225\nAs much as you can do with\nthose .on listeners, and\n\n391\n00:24:54.225 --> 00:24:56.585\nhave your logic there, is great.\n\n392\n00:24:56.585 --> 00:25:00.044\nLittle bit of cleanup here,\nlet's get rid of this console.log and\n\n393\n00:25:00.044 --> 00:25:02.349\nyou know what Zach,\nwe came to add a room, and\n\n394\n00:25:02.349 --> 00:25:05.404\npart of adding rooms is being\nable to put messages in rooms.\n\n395\n00:25:05.404 --> 00:25:05.947\n&gt;&gt; Mm-hm.\n&gt;&gt; And\n\n396\n00:25:05.947 --> 00:25:09.570\nit looks like we almost have\nthe ability to sign up, log in,\n\n397\n00:25:09.570 --> 00:25:11.235\nadd rooms add messages.\n\n398\n00:25:11.235 --> 00:25:13.009\n&gt;&gt; Boy.\n&gt;&gt; Switch between rooms.\n\n399\n00:25:14.020 --> 00:25:16.300\nWe're on the precipice of being done.\n\n400\n00:25:16.300 --> 00:25:18.160\n&gt;&gt; Moving right along,\nmoving right along, Justin.\n\n401\n00:25:18.160 --> 00:25:21.080\nWonderful job, a round of applause for\nJustin Dennison.\n\n402\n00:25:21.080 --> 00:25:24.540\nAdding a room part three,\nthere's part one, part two,\n\n403\n00:25:24.540 --> 00:25:26.230\nmake sure you watch all of those.\n\n404\n00:25:26.230 --> 00:25:29.040\nAnd this is Chat app with React and\nFirebase.\n\n405\n00:25:29.040 --> 00:25:29.710\nI can say it.\n\n406\n00:25:29.710 --> 00:25:31.742\nChat app with React and\nFirebase, there it is.\n\n407\n00:25:31.742 --> 00:25:34.600\nAnd before we move on though Justin,\nanything else you'd like to add.\n\n408\n00:25:34.600 --> 00:25:38.020\n&gt;&gt; Well there's a few minor\ntweaks that I'd like to make.\n\n409\n00:25:38.020 --> 00:25:43.640\nI could probably reorganize this, I could\nchange how the components are laid out.\n\n410\n00:25:43.640 --> 00:25:48.570\nActually I can only use it on my computer,\nZach can't actually log on or\n\n411\n00:25:48.570 --> 00:25:50.290\ncreate an account.\n\n412\n00:25:50.290 --> 00:25:53.450\nAlso, we still have very permissive\npermissions as far as read and\n\n413\n00:25:53.450 --> 00:25:55.060\nwrite in our database.\n\n414\n00:25:55.060 --> 00:25:59.858\nSo it may be that we wanna do a few of\nthose tweaks, maybe do it a Poi Story,\n\n415\n00:25:59.858 --> 00:26:05.076\njust to get things out in front of people\nas part of our minimal viable product.\n\n416\n00:26:05.076 --> 00:26:08.404\nSo we got a few other things to do, but\nit's more or less tying up loose ends,\n\n417\n00:26:08.404 --> 00:26:10.300\nlike core functionality.\n\n418\n00:26:10.300 --> 00:26:13.270\nTo me, what I anticipated, is there.\n\n419\n00:26:13.270 --> 00:26:13.790\n&gt;&gt; Awesome.\n\n420\n00:26:13.790 --> 00:26:15.130\nWell, thanks so very much Justin.\n\n421\n00:26:15.130 --> 00:26:15.960\nGreat job.\n\n422\n00:26:15.960 --> 00:26:19.800\nAdding a room,\nChat App with React and Firebase.\n\n423\n00:26:19.800 --> 00:26:22.940\nAnd make sure you watch all the episodes\nin this series because you'll be\n\n424\n00:26:22.940 --> 00:26:24.350\nglad you did.\n\n425\n00:26:24.350 --> 00:26:25.970\nAnd thank you for watching DevProTV.\n\n426\n00:26:25.970 --> 00:26:29.030\nRemember, a good DevPro\nis always learning.\n\n427\n00:26:29.030 --> 00:26:29.940\nI'm Zach Memos.\n\n428\n00:26:29.940 --> 00:26:30.810\n&gt;&gt; And I'm Justin Dennison.\n\n429\n00:26:30.810 --> 00:26:32.684\n&gt;&gt; And we will see you soon.\n\n430\n00:26:32.684 --> 00:26:41.500\n[SOUND]\n\n",
          "vimeoId": "231091144"
        },
        {
          "description": "Justin and Zach cover deploying the Chat App to firebase, CSV of users, choices of hosting, static assets, steps to deploy, login to Firebase, and Firebase CLI.",
          "length": "1690",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-13-1-deploying_to_firebase-082817-PGM.00_28_46_29.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-13-1-deploying_to_firebase-082817-PGM.00_28_46_29.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-chatappwithreactandfirebase/techskills-chatappwithreactandfirebase-13-1-deploying_to_firebase-082817-PGM.00_28_46_29.Still001-sm.jpg",
          "title": "Deploying to Firebase",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:08.718\n[MUSIC]\n\n2\n00:00:08.718 --> 00:00:13.496\n[SOUND] Hello and thank you for\nwatching DevProTV,\n\n3\n00:00:13.496 --> 00:00:16.917\nhelping you learn wherever you go.\n\n4\n00:00:16.917 --> 00:00:22.440\nI'm your host Zach Memos as we continue\non with Chat App with React and Firebase.\n\n5\n00:00:22.440 --> 00:00:25.930\nFinally we're gonna be deploying\nto Firebase, I'm so excited.\n\n6\n00:00:25.930 --> 00:00:27.175\nJustine Dennison is gonna\ntell us how to do that.\n\n7\n00:00:27.175 --> 00:00:27.896\nHey Justine.\n\n8\n00:00:27.896 --> 00:00:31.892\n&gt;&gt; It is good to be back in the studio and\nyeah we're gonna deploy and\n\n9\n00:00:31.892 --> 00:00:36.345\ninterestingly enough, it's not gonna\nbe as difficult as it may seem.\n\n10\n00:00:36.345 --> 00:00:40.513\nI am going to go into a little bit of\ndepth about deploying in Firebase but\n\n11\n00:00:40.513 --> 00:00:42.795\nI'[ve actually streamlined\nas a great deal.\n\n12\n00:00:42.795 --> 00:00:46.805\nAnd what's interesting is this now\nruns on the Google cloud platforms.\n\n13\n00:00:46.805 --> 00:00:50.075\nSo this is going to be served\nup very expeditiously,\n\n14\n00:00:50.075 --> 00:00:51.705\ncan make your site very fast.\n\n15\n00:00:52.835 --> 00:00:56.920\nGranted that you don't have crazy\namounts of dynamic JavaScript which\n\n16\n00:00:56.920 --> 00:01:00.960\nwe do have a fair amount of dynamic\nJavaScript in our application.\n\n17\n00:01:00.960 --> 00:01:02.330\nSo, let's set the scene.\n\n18\n00:01:02.330 --> 00:01:03.450\nWhy would I want to do this?\n\n19\n00:01:03.450 --> 00:01:06.966\nWell, by deploying to Firebase you\ncan actually keep your entire stack\n\n20\n00:01:06.966 --> 00:01:08.437\njust using the same backend.\n\n21\n00:01:08.437 --> 00:01:11.026\nI can use the database service,\nthe auth service, and\n\n22\n00:01:11.026 --> 00:01:13.050\nnow I can deploy my static assets.\n\n23\n00:01:13.050 --> 00:01:14.940\nWhat do I mean by static assets?\n\n24\n00:01:14.940 --> 00:01:18.680\nUp until this point, we've really just\nbeen running the development server.\n\n25\n00:01:18.680 --> 00:01:22.620\nHowever, create-react-app provides us\nwith a script that will actually build\n\n26\n00:01:22.620 --> 00:01:27.540\na kind of minified, everything's combined\nup into what's called a build folder.\n\n27\n00:01:27.540 --> 00:01:28.480\nI think it's called a build folder.\n\n28\n00:01:28.480 --> 00:01:30.190\nIt might be called disk.\n\n29\n00:01:30.190 --> 00:01:31.580\nDifferent tools use different names.\n\n30\n00:01:31.580 --> 00:01:33.350\nWe'll definitely check that out.\n\n31\n00:01:33.350 --> 00:01:37.210\nBut if you ever have someone that says\nI wanna see what you're working on,\n\n32\n00:01:37.210 --> 00:01:40.440\nthis could be something that you could\ncreate as part of your work flow,\n\n33\n00:01:40.440 --> 00:01:43.540\ndeploys to Firebase periodically and\nthen people can interact with it.\n\n34\n00:01:43.540 --> 00:01:46.735\nThis is great if you\nare trying to freelance or\n\n35\n00:01:46.735 --> 00:01:50.220\nyour boss wants to see something or you're\ntrying to create a proof of concept and\n\n36\n00:01:50.220 --> 00:01:51.280\nyou can put it out there.\n\n37\n00:01:51.280 --> 00:01:55.940\nInterestingly enough,\nFirebase gives you some DNS capability.\n\n38\n00:01:55.940 --> 00:01:58.670\nSo if you have a domain name,\nyou can actually wire it up to Firebase.\n\n39\n00:01:58.670 --> 00:02:03.630\nFirebase will give you a custom URL\nthat has FirebaseApp in the name.\n\n40\n00:02:03.630 --> 00:02:07.540\nHowever, if you have a custom\ndomain like chatham.com,\n\n41\n00:02:07.540 --> 00:02:10.060\nright, then you can wire those up.\n\n42\n00:02:10.060 --> 00:02:13.360\nAnd then when people come to chatham.com\nthey would see your application,\n\n43\n00:02:13.360 --> 00:02:15.470\nwhich is hosted on Firebase.\n\n44\n00:02:15.470 --> 00:02:16.730\nBut has a custom domain name.\n\n45\n00:02:16.730 --> 00:02:18.400\nNow that's not something we're gonna do,\nbut\n\n46\n00:02:18.400 --> 00:02:21.882\nit does afford that capability,\nso to speak.\n\n47\n00:02:21.882 --> 00:02:26.590\nSo, I've set up the scene a little bit,\nright?\n\n48\n00:02:26.590 --> 00:02:29.480\nNow maybe it's not an oversell,\nwasn't overly dramatic there, and\n\n49\n00:02:29.480 --> 00:02:33.880\nthere's definitely things that we can\nprobably tweak in our application.\n\n50\n00:02:33.880 --> 00:02:37.650\nBut I think now's a good time,\nit's at a done point.\n\n51\n00:02:37.650 --> 00:02:40.530\nThat we could put it out there,\nlet people see,\n\n52\n00:02:40.530 --> 00:02:45.630\nget some user feedback, and well,\nthen take steps forward after that.\n\n53\n00:02:45.630 --> 00:02:49.010\nSo let's go ahead and take a look at\nmy screen and see where we've left off,\n\n54\n00:02:49.010 --> 00:02:51.120\nnot necessarily going to demonstrate.\n\n55\n00:02:51.120 --> 00:02:55.897\nWe've spent a fair amount of shows\nbuilding this up, because it seems simple,\n\n56\n00:02:55.897 --> 00:02:56.838\nbut it's not.\n\n57\n00:02:56.838 --> 00:02:59.470\nI don't think it is, necessarily.\n\n58\n00:02:59.470 --> 00:03:03.000\nBut we have rooms and we have the ability\nto add a room, we can log out,\n\n59\n00:03:03.000 --> 00:03:08.070\nwe can actually log in and when we\ngo to a particular room, we can now\n\n60\n00:03:08.070 --> 00:03:12.530\ncreate chats or\ncreate messages within specific rooms.\n\n61\n00:03:12.530 --> 00:03:16.980\nNow our code base does not use state\nmanagement such as Redux or MobX or\n\n62\n00:03:16.980 --> 00:03:19.690\nany of those, so\nwe're using this top level app container.\n\n63\n00:03:20.860 --> 00:03:26.440\nFor an app of this complexity,\nit may have been a little over board.\n\n64\n00:03:26.440 --> 00:03:30.450\nBut I wanted to demonstrate that you\ncould build some improve of concept\n\n65\n00:03:30.450 --> 00:03:34.870\njust by delegating functions and\nkeeping everything in a single place.\n\n66\n00:03:34.870 --> 00:03:38.960\nNot saying this is the best way or\nthe only way, but it's a good way to think\n\n67\n00:03:38.960 --> 00:03:41.990\nabout it especially when you're\nintegrating something like Firebase.\n\n68\n00:03:41.990 --> 00:03:44.107\nSo this is our application and\njust to show you.\n\n69\n00:03:44.107 --> 00:03:48.044\nHopefully it still works,\n\n70\n00:03:48.044 --> 00:03:54.740\nI need to schedule\na follow-up appointment.\n\n71\n00:03:54.740 --> 00:03:57.320\nNow this is on appointments so\nthat makes sense.\n\n72\n00:03:57.320 --> 00:04:00.535\nSo there it is and this is my\nlogged in user, it keeps my time.\n\n73\n00:04:00.535 --> 00:04:01.718\nWe're all good to go.\n\n74\n00:04:01.718 --> 00:04:04.072\nAnd I was like,\ncome over here to chat them.\n\n75\n00:04:04.072 --> 00:04:08.869\nWe can now go back and look as\nessentially the administrator of this,\n\n76\n00:04:08.869 --> 00:04:11.361\nall the messages and all the rooms.\n\n77\n00:04:11.361 --> 00:04:14.880\nWe can create new rules, right?\n\n78\n00:04:14.880 --> 00:04:20.120\nAnd you know what, we early on,\nset this to true, okay.\n\n79\n00:04:20.120 --> 00:04:24.544\nNow just to keep things all good,\nI'm actually going to go back and\n\n80\n00:04:24.544 --> 00:04:29.442\nsay as long as auth is not equal to null,\nthat means as long as you use them,\n\n81\n00:04:29.442 --> 00:04:31.034\nyou can read and write.\n\n82\n00:04:31.034 --> 00:04:34.884\nAnd the reason I'm doing that is so\npeople can't come in and\n\n83\n00:04:34.884 --> 00:04:38.210\nfind out a way to,\nwithout a user to type things in.\n\n84\n00:04:38.210 --> 00:04:40.852\nSo I'm going to scroll in\nhere just a little bit.\n\n85\n00:04:40.852 --> 00:04:42.555\nAnd this has to be valid json.\n\n86\n00:04:42.555 --> 00:04:46.410\nSo, auth is not equal to null.\n\n87\n00:04:47.470 --> 00:04:51.274\nAnd auth is not equal to null.\n\n88\n00:04:51.274 --> 00:04:52.957\nNow we're gonna publish these rules.\n\n89\n00:04:52.957 --> 00:04:56.123\nAnd at this point if we're not logged in,\n\n90\n00:04:56.123 --> 00:05:00.378\nwe can no longer send messages\nto a room or create rooms.\n\n91\n00:05:00.378 --> 00:05:02.590\nSo that's handy.\n\n92\n00:05:02.590 --> 00:05:04.270\nLet's go check and\nmake sure our app still works.\n\n93\n00:05:04.270 --> 00:05:07.690\nSo I'm gonna refresh and\nwe're now connected to Firebase.\n\n94\n00:05:07.690 --> 00:05:09.390\nAnd we're always gonna\nbe in the general room,\n\n95\n00:05:09.390 --> 00:05:11.230\nthat's something that we could add on.\n\n96\n00:05:11.230 --> 00:05:14.605\nRemember the last room that a person\nwas in and send them to that room.\n\n97\n00:05:14.605 --> 00:05:20.380\nSo that's kind of the rinse and\nrepeat thing that we've done thus far.\n\n98\n00:05:20.380 --> 00:05:21.570\nSo let's make sure.\n\n99\n00:05:22.590 --> 00:05:28.568\nHello, and it works, and if I refresh,\nhello is still there, I'm still logged in.\n\n100\n00:05:28.568 --> 00:05:32.480\nSo those rules don't apply to me,\nbecause my auth is not null.\n\n101\n00:05:32.480 --> 00:05:35.800\nI have a valid user that I'm logged in as.\n\n102\n00:05:35.800 --> 00:05:38.320\nIf I somehow got in here and\nwas not logged in,\n\n103\n00:05:38.320 --> 00:05:44.830\nFirebase would keep me from sending things\nto the database which is handy, okay.\n\n104\n00:05:44.830 --> 00:05:47.500\nSo for development,\nit's nice to have those as true just so\n\n105\n00:05:47.500 --> 00:05:50.230\nyou don't have to worry about\nauthentication necessarily.\n\n106\n00:05:50.230 --> 00:05:53.190\nBut once we get to deploy, I think\nit's probably good to put those back\n\n107\n00:05:53.190 --> 00:05:54.690\nespecially if you have authentication.\n\n108\n00:05:54.690 --> 00:05:58.300\nNow keep in mind,\nif you're using this, and\n\n109\n00:05:58.300 --> 00:06:02.680\nyou're going to input the data all\nyourself, you can do some research and\n\n110\n00:06:02.680 --> 00:06:05.160\nfind out only if the auth\nis a certain user.\n\n111\n00:06:05.160 --> 00:06:05.950\nMaybe it's you.\n\n112\n00:06:05.950 --> 00:06:06.900\nYou are the super admin,\n\n113\n00:06:06.900 --> 00:06:09.970\nand then you can write to\nthe database through an admin portal.\n\n114\n00:06:10.990 --> 00:06:14.620\nOr some other way, maybe directly in here.\n\n115\n00:06:14.620 --> 00:06:15.530\nThen no one else can.\n\n116\n00:06:15.530 --> 00:06:18.170\nSo there's a lot you can do here,\nand that's handy.\n\n117\n00:06:19.390 --> 00:06:23.470\nNow if we go to backups,\nthis is not in the free tier.\n\n118\n00:06:23.470 --> 00:06:25.810\nBut you can get backups made.\n\n119\n00:06:25.810 --> 00:06:29.330\nAnd then you can actually\nget use statistics about\n\n120\n00:06:29.330 --> 00:06:30.460\nhow many people were connected.\n\n121\n00:06:31.970 --> 00:06:35.040\nWhat kinda storage you're using,\nwhat kinda downloads?\n\n122\n00:06:35.040 --> 00:06:38.490\nAnd you do have finite limits on these.\n\n123\n00:06:38.490 --> 00:06:40.898\nRight, and you can get load,\nand that's nice.\n\n124\n00:06:40.898 --> 00:06:44.680\nAnd you can scale a fair\namount with Firebase.\n\n125\n00:06:44.680 --> 00:06:48.260\nSo I'm not gonna go over necessarily\nthe pricing structure here.\n\n126\n00:06:49.780 --> 00:06:52.450\nBut we may come back to\nthat in just a moment.\n\n127\n00:06:52.450 --> 00:06:54.960\nBut this is nice metrics to have.\n\n128\n00:06:56.290 --> 00:07:02.570\nOne last thing, if you want to,\nyou can actually export JSON.\n\n129\n00:07:02.570 --> 00:07:06.950\nSo you can grab a snapshot of\nyour database as a JSON file,\n\n130\n00:07:06.950 --> 00:07:12.270\nas a means of having your own backup,\nif that's something that you so choose.\n\n131\n00:07:12.270 --> 00:07:14.620\nThat's incredibly handy with Firebase.\n\n132\n00:07:14.620 --> 00:07:17.330\nSo I just wanted to touch on\nthe real-time database there.\n\n133\n00:07:17.330 --> 00:07:22.880\nAnd if we come over here, there's a lot\nof these things that we haven't used like\n\n134\n00:07:22.880 --> 00:07:25.360\nfunctions and test labs and\ncrash reporting.\n\n135\n00:07:25.360 --> 00:07:27.825\nThese are all nice to be built-in.\n\n136\n00:07:27.825 --> 00:07:32.770\nBut really,\nit doesn't say that we can host.\n\n137\n00:07:32.770 --> 00:07:33.650\nThere it is.\n\n138\n00:07:33.650 --> 00:07:36.170\nI was like, it used to be down here\nat the bottom but they moved it up.\n\n139\n00:07:36.170 --> 00:07:37.420\nI mean.\n\n140\n00:07:37.420 --> 00:07:40.510\nYou can deploy web and mobile web.\n\n141\n00:07:40.510 --> 00:07:44.831\nNow, mobile web is a little bit different,\nyou can register it in a certain way that\n\n142\n00:07:44.831 --> 00:07:47.920\nit looks like a default mobile\napplication and it's more or\n\n143\n00:07:47.920 --> 00:07:49.683\nless just a link to the Internet.\n\n144\n00:07:49.683 --> 00:07:55.743\nSo that's nice, and then it will give you\nusage statistics on storage and downloads.\n\n145\n00:07:55.743 --> 00:07:57.432\nNow, what does it mean by downloads?\n\n146\n00:07:57.432 --> 00:08:02.253\nProbably request types of your app\nHow many people have visited there.\n\n147\n00:08:02.253 --> 00:08:03.453\nSo that's incredibly nice.\n\n148\n00:08:03.453 --> 00:08:05.600\nThat's actually the service\nthat we're going to be using.\n\n149\n00:08:05.600 --> 00:08:08.909\nNow, one final thing, I just said\nthat we would be coming back to this.\n\n150\n00:08:08.909 --> 00:08:13.198\nIs I'm going to come over here to free,\n$0 per month.\n\n151\n00:08:13.198 --> 00:08:18.399\nI'm going to click Upgrade, and\njust show you, Spark is what we're on.\n\n152\n00:08:18.399 --> 00:08:22.409\nUsage quotas for database, storage,\nhosting, test lab, and function.\n\n153\n00:08:22.409 --> 00:08:26.970\nSo you actually get a good chunk of this\nfor free, but you are allocated a quota.\n\n154\n00:08:26.970 --> 00:08:29.050\nAnd that's common for Google type things.\n\n155\n00:08:29.050 --> 00:08:33.955\nAgain, Google acquired Firebase, it wasn't\nnecessarily a Google product originally,\n\n156\n00:08:33.955 --> 00:08:34.729\nbut it is now.\n\n157\n00:08:34.729 --> 00:08:36.826\nFixed, $25 a month.\n\n158\n00:08:36.826 --> 00:08:40.882\nIncreased database, storage,\nhosting space, outbound,\n\n159\n00:08:40.882 --> 00:08:46.570\nincluded in all plans is analytics\nnotifications, crash reporting and so on.\n\n160\n00:08:46.570 --> 00:08:48.850\nSo we're gonna take a look\nat that in just a moment.\n\n161\n00:08:48.850 --> 00:08:52.378\nAnd Pay as you go, there are no quotas.\n\n162\n00:08:52.378 --> 00:08:54.970\nYou can extend your project\nwith a Google Cloud Platform.\n\n163\n00:08:54.970 --> 00:08:59.660\nSo you can use Firebase and\nthen learn with the Google Cloud Platform.\n\n164\n00:08:59.660 --> 00:09:01.000\nAnd just keep adding on,\n\n165\n00:09:01.000 --> 00:09:03.810\nadd additional functionality that maybe\nisn't available to you in Firebase.\n\n166\n00:09:03.810 --> 00:09:07.250\nOr kind of crank up to 11,\nso to speak, and\n\n167\n00:09:07.250 --> 00:09:11.020\nif any of you know where that's\nfrom then congratulations.\n\n168\n00:09:11.020 --> 00:09:13.494\nBut I wanna look at this Fixed\nbecause it's $25 a month.\n\n169\n00:09:13.494 --> 00:09:16.966\nWhich in the grand scheme of things\nis not a great of deal of money but\n\n170\n00:09:16.966 --> 00:09:19.147\nI wanna see what kind\nof scale we get here.\n\n171\n00:09:19.147 --> 00:09:23.747\nMaybe, maybe, there we go,\n\n172\n00:09:23.747 --> 00:09:28.210\nfinally got it to click.\n\n173\n00:09:28.210 --> 00:09:34.430\nAnd then let's see real time database, you\nget 2.5 gigabytes of information stored.\n\n174\n00:09:34.430 --> 00:09:37.500\nYou get 20 gigabytes per month downloads.\n\n175\n00:09:37.500 --> 00:09:39.800\nYou do not get automated backups.\n\n176\n00:09:39.800 --> 00:09:43.306\nSo again, you don't get that\nbackup service with this plan.\n\n177\n00:09:43.306 --> 00:09:49.020\nStorage you get 50 gigabytes,\n50 gigabytes per day download.\n\n178\n00:09:49.020 --> 00:09:50.918\nThat's a whole bunch of data.\n\n179\n00:09:50.918 --> 00:09:57.710\nUpload operations, 100,000 per day,\ndownload operations 250,000 a day.\n\n180\n00:09:57.710 --> 00:10:01.980\nSo this is one of those where, well,\nthis could scale a fair amount for\n\n181\n00:10:01.980 --> 00:10:04.900\na fair amount of users, and\nit's a great proof of concept.\n\n182\n00:10:04.900 --> 00:10:10.190\nHosting, you get 10 gigabytes\nof hosting space, that's a lot.\n\n183\n00:10:10.190 --> 00:10:14.120\nAnd custom domain and\nSSL is free on all of these.\n\n184\n00:10:14.120 --> 00:10:15.750\nIt's included on all of these.\n\n185\n00:10:15.750 --> 00:10:16.990\nAnd then you can do some of these tests.\n\n186\n00:10:16.990 --> 00:10:20.360\nNow, some of these are advanced features\nthat we haven't even touched on.\n\n187\n00:10:20.360 --> 00:10:23.830\nBut that's nice,\nGoogle Cloud Platform, BigQuery and\n\n188\n00:10:23.830 --> 00:10:27.070\nother infrastructure as\na service capabilities.\n\n189\n00:10:27.070 --> 00:10:29.960\nThat's not really there until\nyou get over to pay as you go.\n\n190\n00:10:29.960 --> 00:10:35.535\nAnd then here this starts billing\nyou based on per gigabyte,\n\n191\n00:10:35.535 --> 00:10:40.800\nor per million, or per thousand,\nor per verification.\n\n192\n00:10:40.800 --> 00:10:43.468\nNow what is this Phone Auth?\n\n193\n00:10:43.468 --> 00:10:45.788\nIt's a penny per verification, okay.\n\n194\n00:10:45.788 --> 00:10:51.080\nAnd then $0.03 per gigabyte for hosting.\n\n195\n00:10:51.080 --> 00:10:56.115\nNow, if you take the 10 gigabytes\nthat's actually a quarter.\n\n196\n00:10:56.115 --> 00:10:59.790\n&gt;&gt; [LAUGH]\n&gt;&gt; One quarter for a gigabyte.\n\n197\n00:10:59.790 --> 00:11:06.250\nSo really if you did pay as you go, you're\nprobably gonna get off fairly cheap.\n\n198\n00:11:06.250 --> 00:11:10.093\nBut the problem is if it spikes,\nsomething goes crazy, you go viral,\n\n199\n00:11:10.093 --> 00:11:12.260\nyou may end up with a fairly large bill.\n\n200\n00:11:12.260 --> 00:11:15.750\nSo you have to select these\nbased on whatever you\n\n201\n00:11:15.750 --> 00:11:18.600\nultimately are trying to accomplish.\n\n202\n00:11:18.600 --> 00:11:21.423\nSo you can always move between\nthese as far as I know.\n\n203\n00:11:21.423 --> 00:11:23.142\nBut that's in my research,\n\n204\n00:11:23.142 --> 00:11:27.040\nit's fairly easy to move\nbetween the pricing schedules.\n\n205\n00:11:27.040 --> 00:11:31.560\nI guess though, the real big sale here is\nintegration of Google Cloud Platform to\n\n206\n00:11:31.560 --> 00:11:35.140\nadd additional services\nwith Google Functions.\n\n207\n00:11:35.140 --> 00:11:37.130\nWith the Functions portion of Firebase,\n\n208\n00:11:37.130 --> 00:11:42.960\nyou can already do that to some limited\nscope anyway, it's very nice to have.\n\n209\n00:11:42.960 --> 00:11:45.433\nSo for instance,\nif you wanted to upload photos, right,\n\n210\n00:11:45.433 --> 00:11:47.610\nyou're building some kind\nof photo application.\n\n211\n00:11:47.610 --> 00:11:53.620\nAnd when it's uploaded, you want it to\nreduce to thumbnails based on resolution.\n\n212\n00:11:53.620 --> 00:11:56.817\nYou can set up a Google Cloud function\nthrough Firebase to do some of those.\n\n213\n00:11:56.817 --> 00:11:59.610\nNow, those are limited to some extent, but\n\n214\n00:11:59.610 --> 00:12:02.870\nyou do have a little bit\nof that capability anyway.\n\n215\n00:12:02.870 --> 00:12:06.259\nSo I just wanted to do a quick\nreview of the Firebase console,\n\n216\n00:12:06.259 --> 00:12:11.400\nsomething that we've kind of glazed over,\nsome things that we needed to tweak.\n\n217\n00:12:11.400 --> 00:12:12.760\nOur application is good.\n\n218\n00:12:12.760 --> 00:12:15.160\nThis is still running on the dev server.\n\n219\n00:12:15.160 --> 00:12:18.190\nSo if I come over here, and\nI go over to my other tab,\n\n220\n00:12:18.190 --> 00:12:20.030\nthis is just running on a dev server.\n\n221\n00:12:20.030 --> 00:12:24.023\nI'm actually going to kill that,\nbecause I want to production build.\n\n222\n00:12:24.023 --> 00:12:27.871\nOkay, we have not built anything\nproduction, if I've looked, I have public,\n\n223\n00:12:27.871 --> 00:12:29.440\nI have source.\n\n224\n00:12:29.440 --> 00:12:32.870\nI don't have anything else but\nif I say npm build.\n\n225\n00:12:32.870 --> 00:12:36.640\nI actually have to run build because\nit's not one of those special ones.\n\n226\n00:12:36.640 --> 00:12:42.590\nThis is now going to build a static\noptimized kind of just a set of files.\n\n227\n00:12:42.590 --> 00:12:46.130\nUltimately you're probably not\ngonna be able to read, into,\n\n228\n00:12:46.130 --> 00:12:49.500\nI'm pretty sure it's into a build folder.\n\n229\n00:12:49.500 --> 00:12:51.520\nNow this may take a little bit of time.\n\n230\n00:12:51.520 --> 00:12:53.690\nAs you can see, it's running.\n\n231\n00:12:53.690 --> 00:12:54.940\nIt's running, but what is it doing?\n\n232\n00:12:54.940 --> 00:12:58.114\nIt's gathering all your JavaScript,\nand kind of putting it together, and\n\n233\n00:12:58.114 --> 00:13:00.030\nminifying it, and all of that.\n\n234\n00:13:00.030 --> 00:13:04.510\nIt's grabbing any CSS that you need,\nminifying it, putting it all in a bundle.\n\n235\n00:13:04.510 --> 00:13:08.706\nAnd then it's copying over some\nother files that you need.\n\n236\n00:13:08.706 --> 00:13:12.680\nFiles after gzip, so\nit actually gzips them.\n\n237\n00:13:12.680 --> 00:13:17.320\nExcuse me, it's telling you what\nit would be for gzipped files.\n\n238\n00:13:17.320 --> 00:13:21.330\n189 kilobytes, that is all of\nour JavaScript put together.\n\n239\n00:13:21.330 --> 00:13:24.760\nNotice it has this unique identifier, and\nthat's good to know in just case you have\n\n240\n00:13:24.760 --> 00:13:27.440\nto run a build and\nnothing's changed there.\n\n241\n00:13:27.440 --> 00:13:30.439\n18 kilobytes of CSS, it's not bad.\n\n242\n00:13:30.439 --> 00:13:33.680\nAnd the build folder is\nready to be deployed.\n\n243\n00:13:33.680 --> 00:13:35.870\nAnd it gives you a possible\ndeployment avenue.\n\n244\n00:13:35.870 --> 00:13:38.582\nNow this is, if I'm not mistaken,\nusing GitHub pages.\n\n245\n00:13:38.582 --> 00:13:41.710\nHowever, I think we're gonna use Firebase.\n\n246\n00:13:41.710 --> 00:13:44.633\nAnd just for funsies, we'll use Firebase\nfor a lot of other things in here.\n\n247\n00:13:44.633 --> 00:13:47.860\nSo we should keep that fairly easy, right?\n\n248\n00:13:49.060 --> 00:13:51.380\nSo it's telling you, hey,\nyou can serve this up.\n\n249\n00:13:51.380 --> 00:13:52.840\nIt's all good to go.\n\n250\n00:13:52.840 --> 00:13:58.024\nBut I'm gonna take a look just\ninside of that build folder.\n\n251\n00:13:58.024 --> 00:14:02.578\nAnd notice I have asset-manifest,\nthat's actually for progressive web apps,\n\n252\n00:14:02.578 --> 00:14:04.694\nthose mobile web apps that are handy.\n\n253\n00:14:04.694 --> 00:14:06.315\nThose are already set up.\n\n254\n00:14:06.315 --> 00:14:07.410\nService-worker is already set up.\n\n255\n00:14:07.410 --> 00:14:10.218\nWe didn't necessarily utilize that but\nwe kept it around.\n\n256\n00:14:10.218 --> 00:14:14.890\nAnd then manifest.json is also for\nprogressive web app stuff.\n\n257\n00:14:14.890 --> 00:14:16.970\nBut let's look inside of that index.html.\n\n258\n00:14:16.970 --> 00:14:18.610\nNow I'm just gonna use vim,\n\n259\n00:14:18.610 --> 00:14:21.170\nbecause we're not actually gonna\nbe able to look at it much.\n\n260\n00:14:21.170 --> 00:14:27.697\nThis is what the HTML looks like,\nthat's it, okay?\n\n261\n00:14:27.697 --> 00:14:30.190\nI did see something,\nReact App is the title so\n\n262\n00:14:30.190 --> 00:14:34.320\nwe should probably change that but\nwe'll get to that shortly.\n\n263\n00:14:34.320 --> 00:14:36.989\nSo here's everything, it's all minified.\n\n264\n00:14:36.989 --> 00:14:39.802\nThis is the smallest file you can get.\n\n265\n00:14:39.802 --> 00:14:44.730\nAnd if we go into static,\nwe have css and JavaScript.\n\n266\n00:14:44.730 --> 00:14:48.070\nSo if we look at JavaScript,\nwe're gonna see something very similar.\n\n267\n00:14:48.070 --> 00:14:51.280\nWe do have a source map here necessary for\ndebugging.\n\n268\n00:14:51.280 --> 00:14:54.073\nThis is what our JavaScript looks like.\n\n269\n00:14:54.073 --> 00:14:58.320\nAnd that's it, it's actually all on one\nline even though it's word wrapped.\n\n270\n00:14:59.890 --> 00:15:01.680\nI can't read that, can you read that Zack?\n\n271\n00:15:01.680 --> 00:15:03.220\n&gt;&gt; It's one big line.\n\n272\n00:15:03.220 --> 00:15:09.530\n&gt;&gt; Yep, Zack's like, words and\ncharacters and shenanigans.\n\n273\n00:15:09.530 --> 00:15:15.520\nThe goal is, it's as small and as kind of\ncompact as it can get, and it is minified.\n\n274\n00:15:15.520 --> 00:15:20.550\nSo like things, like this t used\nto have a natural function name.\n\n275\n00:15:20.550 --> 00:15:21.450\nAnd then it went through and\n\n276\n00:15:21.450 --> 00:15:24.550\nit found every time that function\nwas used, it just renamed it to t.\n\n277\n00:15:24.550 --> 00:15:26.137\nBecause five letters,\n\n278\n00:15:26.137 --> 00:15:31.067\neven let's say it was five letters\nlong costs more space than one letter.\n\n279\n00:15:31.067 --> 00:15:33.170\nSo it just renamed it to t, so\nit's doing some optimization.\n\n280\n00:15:33.170 --> 00:15:36.775\nI think this is called aguafication or\nminification for\n\n281\n00:15:36.775 --> 00:15:40.083\nthose of you that have been\naround here for a while.\n\n282\n00:15:40.083 --> 00:15:45.540\nAnd then if we come up and\nwe look, that's about it.\n\n283\n00:15:45.540 --> 00:15:47.040\nNow our CSS is very similar.\n\n284\n00:15:47.040 --> 00:15:50.330\nI don't think it's necessary to see that.\n\n285\n00:15:50.330 --> 00:15:53.303\nBut I'm gonna open index.html.\n\n286\n00:15:53.303 --> 00:15:58.280\nAnd if I look,\nit's not gonna work because this\n\n287\n00:15:58.280 --> 00:16:03.274\nrelies on being able to serve\nfrom those directories.\n\n288\n00:16:03.274 --> 00:16:05.820\nAs a, like a server path.\n\n289\n00:16:05.820 --> 00:16:09.410\nSo that's why yarn, when I actually,\nthe creator act recommends yarn.\n\n290\n00:16:09.410 --> 00:16:12.980\nWe're using npm.\nIt recommends using a static file server.\n\n291\n00:16:12.980 --> 00:16:18.630\nSo if you were like, you can open\nindex.html, it doesn't quite work here.\n\n292\n00:16:18.630 --> 00:16:20.675\nHowever, it should work on Firebase,\n\n293\n00:16:20.675 --> 00:16:23.177\nbecause Firebase is going to\nprovide us with a server, okay?\n\n294\n00:16:25.120 --> 00:16:28.174\nSo and now we're at the point,\nwe got everything setup,\n\n295\n00:16:28.174 --> 00:16:29.900\nwe are got our build set up here.\n\n296\n00:16:29.900 --> 00:16:33.685\nAnd I'm gonna come out\nof that build folder.\n\n297\n00:16:33.685 --> 00:16:37.263\nAnd it's always good to kill any dev\nprocesses before you build because\n\n298\n00:16:37.263 --> 00:16:40.005\nsometimes they'll kinda get\nin each other's ways and\n\n299\n00:16:40.005 --> 00:16:43.300\nthen they'll just kind of seize up in and\nnever actually finish.\n\n300\n00:16:44.620 --> 00:16:46.050\nHow do I deploy the Firebase?\n\n301\n00:16:46.050 --> 00:16:51.200\nWell, I could zip this up and try to find\nout how that Firebase actually provides\n\n302\n00:16:51.200 --> 00:16:56.690\na node module that you can globally\ninstall that will do all of that for you.\n\n303\n00:16:56.690 --> 00:16:58.870\n&gt;&gt; Wow.\n&gt;&gt; It actually just becomes a command.\n\n304\n00:16:58.870 --> 00:16:59.700\nIt's fairly handy.\n\n305\n00:16:59.700 --> 00:17:03.929\nSo we're gonna npm install\n-g firebase-tools,\n\n306\n00:17:03.929 --> 00:17:07.440\nnow I'm gonna hit Enter and let this run.\n\n307\n00:17:07.440 --> 00:17:12.230\nI've already installed this but\nthis gonna get Firebase tools and\n\n308\n00:17:12.230 --> 00:17:16.890\nthen you're gonna have a Firebase\ncommand line argument available to you.\n\n309\n00:17:16.890 --> 00:17:19.571\nThis is a fairly large\ndownload the first time.\n\n310\n00:17:19.571 --> 00:17:23.300\nI'm using a new npm, so\nit's a little bit faster.\n\n311\n00:17:23.300 --> 00:17:28.178\nHowever, if you're using an old npm,\nit could take a little while but\n\n312\n00:17:28.178 --> 00:17:32.160\nluckily, it should be fairly\nstraightforward, okay?\n\n313\n00:17:33.320 --> 00:17:37.190\nNow, it gives you some things\nthat we don't necessarily need,\n\n314\n00:17:37.190 --> 00:17:39.890\nlike Google Cloud function emulators.\n\n315\n00:17:39.890 --> 00:17:43.460\nAs if you want to test some of those\nfunctions that you may want to run when\n\n316\n00:17:43.460 --> 00:17:45.370\npeople create actions.\n\n317\n00:17:45.370 --> 00:17:48.477\nWe don't necessarily need that,\nbut we are installed.\n\n318\n00:17:48.477 --> 00:17:52.977\nIt took 22 seconds, but now that's\ngoing to expedite our deployment\n\n319\n00:17:52.977 --> 00:17:55.230\nprocess significantly from here.\n\n320\n00:17:55.230 --> 00:18:00.052\nSo if I say firebase, and\nlet's just say help, just like so.\n\n321\n00:18:00.052 --> 00:18:01.655\nThis will give you a list and\n\n322\n00:18:01.655 --> 00:18:05.550\nit's not, if I zoom out it actually\nformats a little bit better.\n\n323\n00:18:05.550 --> 00:18:06.720\nThere we go.\n\n324\n00:18:06.720 --> 00:18:12.580\nHere, all the functions that\nyou can use with Firebase.\n\n325\n00:18:12.580 --> 00:18:14.960\nWe can list the Firebase\nprojects that you have.\n\n326\n00:18:14.960 --> 00:18:20.060\nYou can login, you can login to\nCI environment, you can log out.\n\n327\n00:18:20.060 --> 00:18:25.030\nYou can serve, hey,\nwe can actually create a server locally.\n\n328\n00:18:25.030 --> 00:18:28.394\nBut you can also do things like,\nhey, import auth,\n\n329\n00:18:28.394 --> 00:18:31.847\nimport users under your\nFirebase project from a CSV.\n\n330\n00:18:31.847 --> 00:18:37.090\nSo if you have a CSV of users, you can\nactually go ahead and migrate those over.\n\n331\n00:18:37.090 --> 00:18:41.100\nMaybe you got these from something\nlike Mongo or MySQL into a CSV.\n\n332\n00:18:41.100 --> 00:18:44.190\nYou may have to do some\nformat kind of checking, but\n\n333\n00:18:44.190 --> 00:18:48.060\nthis tool allows you to go ahead and\nimport using the sub commands.\n\n334\n00:18:48.060 --> 00:18:55.543\nNow, what's interesting is you can deploy,\ndeploy code and assets to Firebase, cool.\n\n335\n00:18:55.543 --> 00:18:59.330\nHosting disable, stop serving web\ntraffic to your Firebase hosting site.\n\n336\n00:18:59.330 --> 00:19:02.390\nSo you can actually shut down\nyour site from the command line.\n\n337\n00:19:02.390 --> 00:19:06.570\nThis is very robust,\nin my opinion, so I'd like this.\n\n338\n00:19:06.570 --> 00:19:07.470\nThis is handy.\n\n339\n00:19:07.470 --> 00:19:12.390\nNow, I'm gonna zoom back in,\nso everybody can see.\n\n340\n00:19:12.390 --> 00:19:14.660\nHere are the steps necessary to deploy.\n\n341\n00:19:14.660 --> 00:19:15.410\nNumber one, you have to build.\n\n342\n00:19:15.410 --> 00:19:18.560\nYou have to have your static\nassets in a build folder.\n\n343\n00:19:18.560 --> 00:19:21.200\nWe're using create ReactX,\nso that builds out.\n\n344\n00:19:21.200 --> 00:19:25.860\nIf this is just a standard website, well,\nit's going to be in a whatever folder\n\n345\n00:19:25.860 --> 00:19:30.340\nis built up, you should have, kind of like\na sub directory that has your index.html,\n\n346\n00:19:30.340 --> 00:19:34.360\nand all the relative JS and\nCSS files that you need.\n\n347\n00:19:34.360 --> 00:19:36.770\nA lot of times these projects\nlike create react to happen,\n\n348\n00:19:36.770 --> 00:19:40.810\nand some others that are like it or\nmaybe you can just type web pack build,\n\n349\n00:19:40.810 --> 00:19:45.080\nit's probably good to have this all\nkind of modified, all put together.\n\n350\n00:19:46.470 --> 00:19:51.810\nSo interestingly enough\nyou have to log in first.\n\n351\n00:19:52.825 --> 00:19:54.700\nAnything else you try to do\nto your Firebase account,\n\n352\n00:19:54.700 --> 00:19:58.220\nif you don't log in, this says,\nhey, you're not logged in.\n\n353\n00:19:58.220 --> 00:19:59.510\nAnd it does ask you one question,\n\n354\n00:19:59.510 --> 00:20:02.690\nAllow Firebase to collect\nanonymous CLI usage information?\n\n355\n00:20:02.690 --> 00:20:04.970\nI'm just gonna hit, no, and that's for me.\n\n356\n00:20:04.970 --> 00:20:06.293\nBut then it's going to open up my browser.\n\n357\n00:20:06.293 --> 00:20:11.013\nIf you have multiple account like I do,\nI have multiple browser tabs, some for\n\n358\n00:20:11.013 --> 00:20:13.140\ndemos and things like that.\n\n359\n00:20:13.140 --> 00:20:17.120\nThis will open a browser, that if I'm not\nmistaken that you were last focused on, so\n\n360\n00:20:17.120 --> 00:20:19.170\nthe last browser that you clicked in.\n\n361\n00:20:19.170 --> 00:20:22.680\nSo notice I have a justindevpro1@gmail and\nthat's for\n\n362\n00:20:22.680 --> 00:20:24.830\ninteracting with any Gmail services.\n\n363\n00:20:24.830 --> 00:20:27.297\nI'm gonna click that and\nauthorize the CLI.\n\n364\n00:20:27.297 --> 00:20:30.790\nView and manage your data across\nthe Google Cloud Platform.\n\n365\n00:20:30.790 --> 00:20:32.770\nView your Cloud Platform projects.\n\n366\n00:20:32.770 --> 00:20:35.960\nView and administer Firebase data and\nsettings.\n\n367\n00:20:35.960 --> 00:20:37.150\nI'm okay with that.\n\n368\n00:20:37.150 --> 00:20:39.451\nIf that's something that\nyou're not okay with,\n\n369\n00:20:39.451 --> 00:20:42.699\nthen you may have to find a different\navenue to host your application.\n\n370\n00:20:42.699 --> 00:20:44.250\nI'm gonna click Allow.\n\n371\n00:20:44.250 --> 00:20:44.751\nAnd guess what?\n\n372\n00:20:44.751 --> 00:20:48.547\nThat's it for\nlogging in from the Firebase CLI.\n\n373\n00:20:49.790 --> 00:20:53.050\nSo if I come back, it's a success.\n\n374\n00:20:53.050 --> 00:20:54.340\nYou're logged in.\n\n375\n00:20:54.340 --> 00:20:58.250\nNow if you want to, maybe it goes to the\nwrong browser, you're gonna actually copy\n\n376\n00:20:58.250 --> 00:21:02.440\nand paste this and take it to the correct\nbrowser that has your login credentials.\n\n377\n00:21:02.440 --> 00:21:06.461\nOr the account that you wanna use in that\nbrowser, and it'll try to verify whatever\n\n378\n00:21:06.461 --> 00:21:09.226\naccount in that browser, so\nit just tries to be helpful.\n\n379\n00:21:09.226 --> 00:21:10.670\nYou don't even have to do this manually.\n\n380\n00:21:10.670 --> 00:21:16.280\nNow, at this point,\nwe have to say firebase init.\n\n381\n00:21:16.280 --> 00:21:20.238\nI want to initialize this\nas a Firebase project.\n\n382\n00:21:20.238 --> 00:21:24.070\nIt gives you a bunch of emojis and there\nwe go, if I zoom out just a little bit.\n\n383\n00:21:24.070 --> 00:21:26.790\n&gt;&gt; [LAUGH]\n&gt;&gt; It's a bunch of fire, this is Firebase.\n\n384\n00:21:26.790 --> 00:21:29.780\nAnd you're like, ooh, handy,\nI knew I like Firebase.\n\n385\n00:21:29.780 --> 00:21:30.938\nYeah.\n\n386\n00:21:30.938 --> 00:21:35.800\nYeah, so, fire, fire, I don't know\nif fire is bad or if fire is good.\n\n387\n00:21:35.800 --> 00:21:36.470\n&gt;&gt; Fire is good.\n\n388\n00:21:36.470 --> 00:21:37.130\n&gt;&gt; Fire is good.\n\n389\n00:21:37.130 --> 00:21:39.550\nFire is good.\nWe're gonna go with Zach's fire is good.\n\n390\n00:21:39.550 --> 00:21:43.070\nSo at this point it's gonna\nask you a series of questions.\n\n391\n00:21:43.070 --> 00:21:47.370\nAnd those questions are gonna kind\nof determine what you need to do for\n\n392\n00:21:47.370 --> 00:21:47.947\nthis project, okay?\n\n393\n00:21:49.000 --> 00:21:53.610\nNow when you're initializing these, some\nof these commands that I've showed you\n\n394\n00:21:53.610 --> 00:21:56.750\nearlier like the database and\nthe authentication and the functions.\n\n395\n00:21:56.750 --> 00:21:57.960\nYou have to say, hey,\n\n396\n00:21:57.960 --> 00:22:01.370\nI want this to be part of that project\nin order to use those commands.\n\n397\n00:22:01.370 --> 00:22:05.310\nSo keep that in your thoughts, okay?\n\n398\n00:22:05.310 --> 00:22:07.769\nSo down here we have database\nfunctions and hosting.\n\n399\n00:22:07.769 --> 00:22:10.000\nWell, really,\nthe only one that I want is hosting.\n\n400\n00:22:10.000 --> 00:22:14.538\nI'm just using the arrow keys, spacebar,\nselecting that and I'm gonna to hit Enter.\n\n401\n00:22:14.538 --> 00:22:17.760\nAnd it says, Select a default project.\n\n402\n00:22:17.760 --> 00:22:21.810\nWell, do I want to use test,\nI have a few projects running, or chat-em.\n\n403\n00:22:21.810 --> 00:22:23.827\nWell, that's the project we've been\nworking on so I'm gonna hit chat-em.\n\n404\n00:22:23.827 --> 00:22:27.749\nAnd then here, your public directory\nis the folder relative to your project\n\n405\n00:22:27.749 --> 00:22:30.970\ndirectory that will\ncontain hosting assets.\n\n406\n00:22:30.970 --> 00:22:33.220\nIs it the public folder?\n\n407\n00:22:33.220 --> 00:22:36.160\nNo, it's actually that build\nfolder that we just created.\n\n408\n00:22:36.160 --> 00:22:39.980\nSo this is something that's very much\ncontext-based on what you're doing.\n\n409\n00:22:42.630 --> 00:22:46.250\nAnd so you have to keep that in mind,\nis it dist, is it build, is it public?\n\n410\n00:22:46.250 --> 00:22:49.907\nThat's ultimately based on your project so\nkeep that in mind.\n\n411\n00:22:49.907 --> 00:22:54.570\nAnd then there's one final question\nhere that's behind my head a little bit.\n\n412\n00:22:54.570 --> 00:22:58.473\nAnd that is,\nrewrite all urls to /index.html.\n\n413\n00:22:58.473 --> 00:23:02.566\nWell, actually, we're kinda just,\nthat index.html is just starting it up,\n\n414\n00:23:02.566 --> 00:23:04.500\neverything else is dynamic.\n\n415\n00:23:04.500 --> 00:23:05.972\nSo I'm gonna leave that as the default.\n\n416\n00:23:05.972 --> 00:23:08.070\nWe may have to come back and change that.\n\n417\n00:23:08.070 --> 00:23:12.770\nNow File build/index.html already exists.\n\n418\n00:23:12.770 --> 00:23:16.940\nIf you do not have an index.html,\nFirebase will write one for you.\n\n419\n00:23:16.940 --> 00:23:21.710\nWe do not want to overwrite that in this\ncontext because our app is set up for\n\n420\n00:23:21.710 --> 00:23:22.446\nreact, okay?\n\n421\n00:23:22.446 --> 00:23:28.368\nIt's to bring in all of our assets from\nour build project and actually host those.\n\n422\n00:23:28.368 --> 00:23:29.936\nOur initialization is complete.\n\n423\n00:23:29.936 --> 00:23:32.740\nNow what do we get for those?\n\n424\n00:23:32.740 --> 00:23:34.788\nWe get a couple of things.\n\n425\n00:23:34.788 --> 00:23:37.390\nfirebase.rc and firebase.json.\n\n426\n00:23:37.390 --> 00:23:38.380\nSo let's take that.\n\n427\n00:23:40.030 --> 00:23:41.060\nWhere is your hosting quote?\n\n428\n00:23:41.060 --> 00:23:44.136\nThe public folder is the build folder, and\n\n429\n00:23:44.136 --> 00:23:47.900\nthey're going to ignore things like this,\nright?\n\n430\n00:23:47.900 --> 00:23:51.900\nfirebase.json, **-*,\nthat's kind of an odd rule.\n\n431\n00:23:51.900 --> 00:23:53.973\nBut then also node modules, so\n\n432\n00:23:53.973 --> 00:23:59.489\nwe don't want to necessarily send all of\nour node modules cuz this is static site.\n\n433\n00:23:59.489 --> 00:24:03.265\nThis is not necessarily a server based\napplication, I can't run express or\n\n434\n00:24:03.265 --> 00:24:04.092\nanything here.\n\n435\n00:24:04.092 --> 00:24:05.215\nSo that's what we gain.\n\n436\n00:24:05.215 --> 00:24:07.640\nAnd then we get a .firebaserc and\n\n437\n00:24:07.640 --> 00:24:12.270\nthen well that just sets\nour project declaration.\n\n438\n00:24:12.270 --> 00:24:14.680\nThere's a lot more to this\nthat you can tweet or\n\n439\n00:24:14.680 --> 00:24:18.340\nwe'll have to dive deep into\nthe documentation in order to get these.\n\n440\n00:24:18.340 --> 00:24:25.250\nBut, if everything has gone well\nI come over here and I look.\n\n441\n00:24:25.250 --> 00:24:25.910\nThat's nice.\n\n442\n00:24:25.910 --> 00:24:29.972\nNothing there.\nI'm just gonna say firebase deploy.\n\n443\n00:24:29.972 --> 00:24:33.626\nAnd at this point it's going to look\ninto the folder that you set up and\n\n444\n00:24:33.626 --> 00:24:37.650\nit's gonna grab all those assets and\nit's gonna push them up to Firebase.\n\n445\n00:24:37.650 --> 00:24:40.490\nFirebase is gonna create a domain name for\nyou.\n\n446\n00:24:40.490 --> 00:24:42.570\nEverything is hopefully going to be good.\n\n447\n00:24:42.570 --> 00:24:46.710\nWe should see our project kind\nof come online immediately.\n\n448\n00:24:46.710 --> 00:24:51.246\nNow sometimes this does take a little bit\nof time because not only does it have to\n\n449\n00:24:51.246 --> 00:24:54.201\nupload the static assets\nit has to do the DNS setup,\n\n450\n00:24:54.201 --> 00:24:57.937\nit has to do some other things get\nall of your project ready to go.\n\n451\n00:24:57.937 --> 00:25:02.360\nAnd this hosting your URL is\nactually based on the project name.\n\n452\n00:25:02.360 --> 00:25:08.760\nSo I'm okay with this, instead of a custom\ndomain name, chat-em.firebaseapp.com.\n\n453\n00:25:08.760 --> 00:25:11.680\nWell, I named my project, and\nas long as my project is unique,\n\n454\n00:25:11.680 --> 00:25:15.463\nI'm going to get that\nproject name.firebaseapp.com.\n\n455\n00:25:15.463 --> 00:25:20.690\nSo I'm going to grab that hosting URL and\nwe're going\n\n456\n00:25:20.690 --> 00:25:24.670\nto cross our fingers Zach, hopefully we\ndon't have any live-action debugging here.\n\n457\n00:25:24.670 --> 00:25:25.690\n&gt;&gt; I'm crossing my toes too.\n\n458\n00:25:25.690 --> 00:25:29.848\n&gt;&gt; And here we go, and\nhere is our application.\n\n459\n00:25:29.848 --> 00:25:33.480\nContent is cached for offline use.\n\n460\n00:25:33.480 --> 00:25:35.550\nI create React app,\ncreated a service worker and\n\n461\n00:25:35.550 --> 00:25:40.090\nit's going to help our app be faster,\nalso when you read it and do any of that.\n\n462\n00:25:40.090 --> 00:25:43.210\nWe already have an account,\nso we wanna log in.\n\n463\n00:25:43.210 --> 00:25:44.750\nj@j.com.\n\n464\n00:25:44.750 --> 00:25:46.770\nOne, two, three, four, five, six.\n\n465\n00:25:47.770 --> 00:25:52.880\nAnd I'm gonna log in, and boom, here\nis our app, hosted on the Internet for\n\n466\n00:25:52.880 --> 00:25:56.810\nanybody to see using Firebase,\nusing Firebase tools.\n\n467\n00:25:56.810 --> 00:26:00.320\nMost of our app is kinda\nall together in Firebase,\n\n468\n00:26:00.320 --> 00:26:02.620\nso that is how we deployed to Firebase.\n\n469\n00:26:02.620 --> 00:26:05.260\nNow there is a lot of behind the scenes\nthere that ultimately, the deploy\n\n470\n00:26:05.260 --> 00:26:08.690\nprocedure takes about two to three\nminutes if you're already logged in and\n\n471\n00:26:08.690 --> 00:26:09.220\nthings like that.\n\n472\n00:26:09.220 --> 00:26:15.644\nSo don't worry too much about things\nlike that, but it still works hopefully.\n\n473\n00:26:15.644 --> 00:26:23.480\nAnd Firebase works and boom there we\nare we now have our app deployed, hosted.\n\n474\n00:26:23.480 --> 00:26:27.867\nIf we wanted to make any changes we\nhave this app already set up now.\n\n475\n00:26:27.867 --> 00:26:31.860\nWe create new changes, we do a new\nbuild and then we just redeploy and\n\n476\n00:26:31.860 --> 00:26:36.010\neverything updates and now you can\nmake that as part of your workflow.\n\n477\n00:26:36.010 --> 00:26:39.338\nI like to do this at the end when I'm\nteaching these things just because it\n\n478\n00:26:39.338 --> 00:26:42.450\nmakes sense but in the grand scheme\nof things if I was building this,\n\n479\n00:26:42.450 --> 00:26:45.690\nI would probably, I have this feature,\nI want someone to test it out.\n\n480\n00:26:45.690 --> 00:26:48.080\nLet me go ahead and deploy,\ngood, I got feedback.\n\n481\n00:26:48.080 --> 00:26:50.270\nLet me build this in the other feature,\n\n482\n00:26:50.270 --> 00:26:53.110\nkind of this iterative process\nwhere I just constantly deploy.\n\n483\n00:26:53.110 --> 00:26:56.845\nNow you can add kind of continuous\nintegration through testing and\n\n484\n00:26:56.845 --> 00:26:59.586\nthings like that into\nthis deployment process.\n\n485\n00:26:59.586 --> 00:27:03.834\nThat's a little more involved and\nultimately in something that you're just\n\n486\n00:27:03.834 --> 00:27:07.443\nbuilding to learn, I might be\na little overkill but is possible.\n\n487\n00:27:07.443 --> 00:27:10.010\nSo there you have it Zach we\nhave deployed to Firebase.\n\n488\n00:27:10.010 --> 00:27:14.450\nI'm happy, it's so easy that this\nis one of my go to avenues for\n\n489\n00:27:14.450 --> 00:27:16.575\nwhen I'm hosting static projects.\n\n490\n00:27:16.575 --> 00:27:18.145\nIt's handy dandy.\n\n491\n00:27:18.145 --> 00:27:18.845\n&gt;&gt; Justin, thank you for\n\n492\n00:27:18.845 --> 00:27:22.395\nmaking what is difficult understandable,\ndeploying to Firebase.\n\n493\n00:27:22.395 --> 00:27:24.096\nAnything else you'd like to add?\n\n494\n00:27:24.096 --> 00:27:28.081\n&gt;&gt; Well, as I just want to reiterate,\nwe are at a done step, but\n\n495\n00:27:28.081 --> 00:27:30.095\ngood software is never done.\n\n496\n00:27:30.095 --> 00:27:33.155\nSo you never know,\nthe chat app might have to come back,\n\n497\n00:27:33.155 --> 00:27:33.955\nget refactored-\n&gt;&gt; [LAUGH]\n\n498\n00:27:33.955 --> 00:27:35.045\n&gt;&gt; Get some changes.\n\n499\n00:27:35.045 --> 00:27:36.205\nEspecially that color scheme.\n\n500\n00:27:36.205 --> 00:27:39.205\nBut I'm gonna have some people\nthat test it out first, and\n\n501\n00:27:39.205 --> 00:27:41.710\nsee what they think about it.\n\n502\n00:27:41.710 --> 00:27:42.438\n&gt;&gt; Awesome.\nWell,\n\n503\n00:27:42.438 --> 00:27:45.930\nthere's a lot of episodes in\nthe [chat app with reactive Firebase.\n\n504\n00:27:45.930 --> 00:27:48.990\nMake sure you watch them all\nbecause Justin did a marvelous job\n\n505\n00:27:48.990 --> 00:27:51.400\nin explaining it to us and\nyou'll be very glad that you did.\n\n506\n00:27:51.400 --> 00:27:53.820\nAnd thank you for watching DevProTV.\n\n507\n00:27:53.820 --> 00:27:56.624\nRemember a good DevPro is always learning.\n\n508\n00:27:56.624 --> 00:27:57.528\nI'm Zack Memos.\n\n509\n00:27:57.528 --> 00:27:58.320\n&gt;&gt; And I'm Justin Nelson.\n\n510\n00:27:58.320 --> 00:28:00.420\n&gt;&gt; And we will see you again very soon.\n\n511\n00:28:00.420 --> 00:28:05.415\n[MUSIC]\n\n",
          "vimeoId": "231535547"
        }
      ],
      "title": "Chat App with React and Firebase"
    }
  ],
  "url": "chat-appreactfirebase",
  "vLab": false
}
