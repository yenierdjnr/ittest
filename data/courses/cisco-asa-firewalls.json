{
  "description": "The Cisco ASA (Adaptive Security Appliance) is one of the most implemented security solutions found in enterprise networks.  Cisco offers an entire series of firewalls that range from small office solutions to very large enterprise solutions. It is because of its commonality that in many businesses an IT Professional would do well to be familiar with the product and some of the most essential configurations.  This series is designed to help an IT Professional to see how to configure many of the features in the ASA through the GUI interface, the ASDM.  This will provide an introduction to the appliance and guidance on some of most used features for any environment.",
  "descriptionMD": "",
  "length": "13020",
  "name": "Cisco ASA Firewalls",
  "practiceExam": false,
  "subtitle": "Configuration of Cisco ASA Firewalls",
  "tagUrl": "network-admin",
  "topics": [
    {
      "episodes": [
        {
          "description": "",
          "length": "222",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-0-0-overview-070115-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-0-0-overview-070115-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-0-0-overview-070115-1-sm.jpg",
          "title": "Cisco ASA Overview",
          "transcript": "WEBVTT\n\n1\n00:00:00.012 --> 00:00:07.192\n[SOUND]\nWe\n\n2\n00:00:07.192 --> 00:00:10.904\nwanna take a moment to introduce to\nyou our new tech skills series on\n\n3\n00:00:10.904 --> 00:00:14.340\nthe Cisco ASA,\nthe Adaptive Security Appliance.\n\n4\n00:00:14.340 --> 00:00:17.180\nI wanna take the time to introduce to you\nsome of the different topics we'll be\n\n5\n00:00:17.180 --> 00:00:20.750\ncovering in our series to help you,\nas an IT professional, so\n\n6\n00:00:20.750 --> 00:00:24.110\nthat you feel ready to work\nwith the Cisco ASA itself.\n\n7\n00:00:24.110 --> 00:00:26.000\nThere's many topics that we need to cover.\n\n8\n00:00:26.000 --> 00:00:27.270\nSo we wanna get right to it.\n\n9\n00:00:27.270 --> 00:00:29.410\nDon, what are some of the different\ntopics we'll be covering?\n\n10\n00:00:29.410 --> 00:00:32.550\n>> Now, remember when we talk about a tech\nskills course, we're taking a break from\n\n11\n00:00:32.550 --> 00:00:36.280\nthe old certification track where we learn\nwhat the vendors want you to learn and\n\n12\n00:00:36.280 --> 00:00:39.970\ninstead looking at the skills that\nwe need in the real world, right?\n\n13\n00:00:39.970 --> 00:00:43.120\nAnd so in this tech skills course we're\ngonna be hitting just the stuff that\n\n14\n00:00:43.120 --> 00:00:45.280\nyou need to implement and\nget an ASA in production.\n\n15\n00:00:45.280 --> 00:00:48.462\nIf you're somebody who's tasked with\nthat job but doesn't necessarily want to\n\n16\n00:00:48.462 --> 00:00:51.501\ngo in and achieve the certification,\nor it's a good starting point really,\n\n17\n00:00:51.501 --> 00:00:54.360\neven if you are gonna work\ntowards that certification.\n\n18\n00:00:54.360 --> 00:00:56.113\nSo we're gonna start off really simple,\n\n19\n00:00:56.113 --> 00:00:58.574\nwhat are the different ASA's\nthat are out there, right?\n\n20\n00:00:58.574 --> 00:01:01.726\nThere's a good, I don't know, eight\ndifferent models out there right now,\n\n21\n00:01:01.726 --> 00:01:04.541\nand when you go to buy one, it's kind\nof confusing which ones to pick so\n\n22\n00:01:04.541 --> 00:01:07.691\nwe'll just kind of start off high level\nthere, how do you pick the right ASA for\n\n23\n00:01:07.691 --> 00:01:08.550\nyour environment?\n\n24\n00:01:08.550 --> 00:01:11.360\nAnd then we'll start to take\na look at we get it installed.\n\n25\n00:01:11.360 --> 00:01:15.681\nThat basic configuration that we need to\nimplement to get where we can log into\n\n26\n00:01:15.681 --> 00:01:19.887\nthe thing to even be able to configure\nit and do anything advanced, right?\n\n27\n00:01:19.887 --> 00:01:21.380\nSo starting out really basic.\n\n28\n00:01:21.380 --> 00:01:25.360\nIf you have zero experience with the ASA\nthat's exactly where we're gonna start.\n\n29\n00:01:25.360 --> 00:01:26.860\nSo you'll be just fine.\n\n30\n00:01:26.860 --> 00:01:30.380\n>> We also wanna take a look at\nimplementing some firewall rules.\n\n31\n00:01:30.380 --> 00:01:33.340\nYou may be familiar with firewall\nrules from working with routers,\n\n32\n00:01:33.340 --> 00:01:36.130\nyou may not, but we wanna make that you\nactually understand that we're gonna\n\n33\n00:01:36.130 --> 00:01:39.425\nconfigure firewall rules on\nthe outside and inside interfaces.\n\n34\n00:01:39.425 --> 00:01:42.315\nThat'll help us to be able to control\nthe types of traffic they want leaving or\n\n35\n00:01:42.315 --> 00:01:44.665\nalso coming into our network too.\n\n36\n00:01:44.665 --> 00:01:47.645\n>> Another topic we're gonna touch\non is network address translation.\n\n37\n00:01:47.645 --> 00:01:52.420\nAlmost everybody uses NAT to\nconvert private IPs to public IPs.\n\n38\n00:01:52.420 --> 00:01:56.040\nWell let me tell you NAT inside of\na Cisco ASA is a magical beast.\n\n39\n00:01:56.040 --> 00:01:59.250\nAnd so we're gonna track down\nthe unicorn and figure out how it works.\n\n40\n00:01:59.250 --> 00:02:01.300\nIt's unnecessarily complex.\n\n41\n00:02:01.300 --> 00:02:03.250\nBut we'll get a chance\nto see how NAT works and\n\n42\n00:02:03.250 --> 00:02:05.120\nyou can kind of unravel the mystery there.\n\n43\n00:02:05.120 --> 00:02:08.767\n>> We also want to take a look just\nbriefly at implementing VPNs with\n\n44\n00:02:08.767 --> 00:02:10.060\nthe Cisco ASA itself.\n\n45\n00:02:10.060 --> 00:02:13.610\nRemember that there's normally two types\nof VPNs that we want to be familiar with.\n\n46\n00:02:13.610 --> 00:02:17.500\nSite to site VPNs,\nas well as remote access VPNs.\n\n47\n00:02:17.500 --> 00:02:21.550\nAnd on Cisco ASA, it's not tricky, but it\ndoes take a little bit of time to set up,\n\n48\n00:02:21.550 --> 00:02:22.870\nand we're going to show\nyou how to do that.\n\n49\n00:02:22.870 --> 00:02:26.700\n>> And then with those topics, we'll have\ncovered the majority of what most people\n\n50\n00:02:26.700 --> 00:02:29.070\nneed to use to implement an ASA.\n\n51\n00:02:29.070 --> 00:02:32.110\nBut then towards the end of the series\nwe're gonna hit a little grab bag of\n\n52\n00:02:32.110 --> 00:02:37.530\ntopics, we'll hit our general services\nsection, where we'll take a look at DHCP,\n\n53\n00:02:37.530 --> 00:02:41.570\nintrusion detection, web filtering,\na couple of other like odds and\n\n54\n00:02:41.570 --> 00:02:44.655\nends that Cisco through into the ASA and\nsay hey, we can make it do this also.\n\n55\n00:02:44.655 --> 00:02:47.470\nWe'll get a chance to see some\nof the power that's there.\n\n56\n00:02:47.470 --> 00:02:49.350\n>> We also want to take\na look at monitoring and\n\n57\n00:02:49.350 --> 00:02:51.880\njust maintaining the Cisco ASA itself.\n\n58\n00:02:51.880 --> 00:02:55.130\nWe'll be taking a look at some of the\ndifferent screens that you have access to.\n\n59\n00:02:55.130 --> 00:02:58.170\nMaking sure you feel confident and\nfamiliar with navigating around\n\n60\n00:02:58.170 --> 00:03:02.090\nthe Cisco ASA and showing you some of\nthe different ways that we can verify that\n\n61\n00:03:02.090 --> 00:03:05.835\nall the tools that are actually there\nare working the way that we want to.\n\n62\n00:03:05.835 --> 00:03:08.415\nNow Don, is there anything else that\nwe may actually choose to cover?\n\n63\n00:03:08.415 --> 00:03:09.335\nWell, let's go in there, right?\n\n64\n00:03:09.335 --> 00:03:11.155\n>> Yeah.\nThose are the topics we plan to cover,\n\n65\n00:03:11.155 --> 00:03:14.275\nbut as with any of our shows, if you\nguys wanna see anything extra in there,\n\n66\n00:03:14.275 --> 00:03:14.865\njust let us know.\n\n67\n00:03:14.865 --> 00:03:16.285\nWe can always record more segments and\n\n68\n00:03:16.285 --> 00:03:20.495\nchuck it on there, but otherwise, we're\nkinda covering the basic stuff that you're\n\n69\n00:03:20.495 --> 00:03:23.665\ngonna need to implement an ASA\nsuccessfully, in production.\n\n70\n00:03:24.750 --> 00:03:26.162\nThat's basically it.\n\n71\n00:03:26.162 --> 00:03:26.830\n>> All right, with that,\n\n72\n00:03:26.830 --> 00:03:32.060\nthat means we are ready to begin\nour series on the Cisco ASA.\n\n73\n00:03:32.060 --> 00:03:33.390\nWe're glad you're with us.\n\n74\n00:03:33.390 --> 00:03:34.870\nStay tuned for more ASA content.\n\n75\n00:03:34.870 --> 00:03:41.559\n[MUSIC]\n\n",
          "vimeoId": "132368342"
        },
        {
          "description": null,
          "length": "1589",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-1-1-models_and_licensing-070115-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-1-1-models_and_licensing-070115-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-1-1-models_and_licensing-070115-1-sm.jpg",
          "title": "Models and Licensing",
          "transcript": "WEBVTT\n\n1\n00:00:00.263 --> 00:00:04.963\n[MUSIC]\n\n2\n00:00:07.093 --> 00:00:10.528\nIn this segment, we want to introduce\nyou to some of the hardware and\n\n3\n00:00:10.528 --> 00:00:14.810\nlicensing models that you're going to need\nto choose from if you choose the Cisco ASA\n\n4\n00:00:14.810 --> 00:00:17.230\nas your security appliance.\n\n5\n00:00:17.230 --> 00:00:18.704\nWhen you take a look at the Cisco ASA,\n\n6\n00:00:18.704 --> 00:00:21.140\nyou're going to find out it's\nnot only a single appliance.\n\n7\n00:00:21.140 --> 00:00:23.700\nBut there's actually many\ndifferent choices that you have.\n\n8\n00:00:23.700 --> 00:00:27.411\nDon, when I actually take a look at some\nof the different models that are actually\n\n9\n00:00:27.411 --> 00:00:29.060\nout there, it looks like a car lot.\n\n10\n00:00:29.060 --> 00:00:32.277\nMore than anything else that's out there,\nit looks like there's so\n\n11\n00:00:32.277 --> 00:00:34.780\nmany different choices,\nwhat do we need to do?\n\n12\n00:00:34.780 --> 00:00:38.010\n>> Well, the biggest challenge of\npurchasing an ASA, well aside from\n\n13\n00:00:38.010 --> 00:00:41.860\nthe cost, right, because they do cost\na bit, is that they're not upgradable.\n\n14\n00:00:41.860 --> 00:00:46.820\nSo if you buy one model, it's hardware,\nright, and it's fixed hardware.\n\n15\n00:00:46.820 --> 00:00:49.700\nCisco has integrated all of\nthe componentry into the motherboard so\n\n16\n00:00:49.700 --> 00:00:51.960\nyou can't swap things out.\n\n17\n00:00:51.960 --> 00:00:53.890\nThere are some of the models\nwhere you can upgrade their RAM.\n\n18\n00:00:53.890 --> 00:00:58.108\nSo you can add a little more RAM to them,\nbut as far as their basic throughput, each\n\n19\n00:00:58.108 --> 00:01:02.570\nfirewall from Cisco is rated for a certain\namount of traffic to pass through it.\n\n20\n00:01:02.570 --> 00:01:04.511\nAnd it doesn't matter how\nmuch memory you add to it,\n\n21\n00:01:04.511 --> 00:01:07.370\nit's still only able to handle\nthat certain amount of traffic.\n\n22\n00:01:07.370 --> 00:01:10.870\nSo if you find that you have too much\ntraffic going through the firewall,\n\n23\n00:01:10.870 --> 00:01:12.870\nthe only solution is to buy another one,\nright?\n\n24\n00:01:12.870 --> 00:01:14.260\nSo, obviously you want to avoid that.\n\n25\n00:01:14.260 --> 00:01:16.830\nYou want to make sure that you\nget the firewall that's right for\n\n26\n00:01:16.830 --> 00:01:17.930\nyour environment.\n\n27\n00:01:17.930 --> 00:01:19.540\nAnd Cisco wants you to\nget the right one too.\n\n28\n00:01:19.540 --> 00:01:21.480\nThey don't want you to have to go and\nkeep rebuying, well, I guess they.\n\n29\n00:01:21.480 --> 00:01:23.538\nThey don't mind if you\nkeep rebuying things, but\n\n30\n00:01:23.538 --> 00:01:26.240\nthey want to help you to make sure\nyou get the right firewall too.\n\n31\n00:01:26.240 --> 00:01:28.913\nSo, when we go shopping for a Cisco ASA,\n\n32\n00:01:28.913 --> 00:01:34.490\nit doesn't all come down to price because\nyou can get an ASA pretty inexpensively.\n\n33\n00:01:34.490 --> 00:01:37.720\nRight, I mean, a 5505 with a base\nlicense is what like, $300?\n\n34\n00:01:37.720 --> 00:01:38.380\n>> $300.\n\n35\n00:01:38.380 --> 00:01:41.130\n>> Right, yeah, so $300,\nyou can get a Cisco firewall.\n\n36\n00:01:41.130 --> 00:01:43.090\nThrow it in, and you're in business.\n\n37\n00:01:43.090 --> 00:01:44.970\nBut you'll quickly hit\nsome of the limitations.\n\n38\n00:01:44.970 --> 00:01:46.350\nAll right, let me show you.\n\n39\n00:01:46.350 --> 00:01:50.480\nI'm on Cisco's web page here, and they've\ngot a nice little model comparison.\n\n40\n00:01:50.480 --> 00:01:56.420\nNow the current line of ASAs\nare the Cisco ASA 5500-X series.\n\n41\n00:01:56.420 --> 00:01:59.029\nAll right, and\nthat means all the firewalls that we\n\n42\n00:01:59.029 --> 00:02:01.890\nare gonna see have a model\nnumber that starts with 5 5.\n\n43\n00:02:01.890 --> 00:02:03.600\nIt'll be 5 5 something something.\n\n44\n00:02:03.600 --> 00:02:09.290\nAll right, now Cisco's been doing the 5500\nseries for, I don't know, eight years now?\n\n45\n00:02:09.290 --> 00:02:09.860\n>> Easily.\n\n46\n00:02:09.860 --> 00:02:11.150\n>> A long time.\n\n47\n00:02:11.150 --> 00:02:16.060\nAnd so you might have a 5505 or\na 5510, a 5515.\n\n48\n00:02:16.060 --> 00:02:18.260\nThose are the old models.\n\n49\n00:02:18.260 --> 00:02:24.297\nThe new ones are the 5506-X, the 5515-X.\n\n50\n00:02:24.297 --> 00:02:28.127\nThat dash-X, that's that little notifier\nthat lets us know this is the new edition,\n\n51\n00:02:28.127 --> 00:02:31.630\nor the next generation firewall\nis what they're calling them.\n\n52\n00:02:31.630 --> 00:02:34.970\nWell, most of the non dash X\nmodels are out of service now.\n\n53\n00:02:34.970 --> 00:02:37.370\nCisco doesn't sell them anymore,\nthey've end of lifed them.\n\n54\n00:02:37.370 --> 00:02:39.880\nBut there is still one, the 5505.\n\n55\n00:02:39.880 --> 00:02:42.806\nAnd the reason the 5505 is still on sale,\n\n56\n00:02:42.806 --> 00:02:47.200\nis it is literally the most\npopular Cisco firewall that sold.\n\n57\n00:02:47.200 --> 00:02:50.570\nThey sell more of these than any of their\nother firewalls cuz they're great for\n\n58\n00:02:50.570 --> 00:02:53.290\nbranch office and home office deployment.\n\n59\n00:02:53.290 --> 00:02:58.350\nSo if you've got a small environment, five\nto ten computers, you know, a small amount\n\n60\n00:02:58.350 --> 00:03:03.190\nof bandwidth, less than like 100 megabit,\nthese guys are great for that, all right?\n\n61\n00:03:03.190 --> 00:03:04.250\nThey'll go bigger.\n\n62\n00:03:04.250 --> 00:03:06.720\nYou can get an unlimited user\nlicense on this thing, and\n\n63\n00:03:06.720 --> 00:03:08.610\nyou can put 1,000 users behind it.\n\n64\n00:03:08.610 --> 00:03:09.630\nIt'll do up to,\n\n65\n00:03:09.630 --> 00:03:14.410\nI think it's up to 150 megabits now\nin the newer models, of bandwidth.\n\n66\n00:03:14.410 --> 00:03:17.560\nBut if you've got a gig link,\nthis firewall can't do it, right.\n\n67\n00:03:17.560 --> 00:03:19.823\nThe 5505 is not gonna be able to do it,\nand so\n\n68\n00:03:19.823 --> 00:03:23.130\nthat's when we have all of our\nother models to pick from.\n\n69\n00:03:23.130 --> 00:03:27.117\nNow the biggest difference\nbetween the non-X ones and\n\n70\n00:03:27.117 --> 00:03:32.930\nthe ones with an X is the ones with the X\nnow have the Cisco FirePOWER Technology.\n\n71\n00:03:32.930 --> 00:03:33.660\n>> FirePOWER.\n\n72\n00:03:33.660 --> 00:03:34.260\n>> FirePOWER.\n\n73\n00:03:34.260 --> 00:03:36.726\n>> [LAUGH]\n>> Oh, yeah, that sounds manly.\n\n74\n00:03:36.726 --> 00:03:39.940\nIt's a strange name, but\nyou'll see it noted on the website,\n\n75\n00:03:39.940 --> 00:03:42.240\nlike right here I can see\nCisco ASA with FirePOWER.\n\n76\n00:03:43.360 --> 00:03:46.600\nCisco acquired a company not too\nterribly long ago called Sourcefire.\n\n77\n00:03:46.600 --> 00:03:51.090\nAnd Sourcefire made a whole\nsuite of managed services,\n\n78\n00:03:51.090 --> 00:03:56.270\nthings like URL block lists,\nzero-day exploit detection,\n\n79\n00:03:56.270 --> 00:04:00.160\nantivirus definitions,\nall sorts of really interesting stuff.\n\n80\n00:04:00.160 --> 00:04:03.170\nAnd, they ran their service\nbased on a subscription.\n\n81\n00:04:03.170 --> 00:04:04.600\nYou'd buy their appliance.\n\n82\n00:04:04.600 --> 00:04:08.390\nYou'd proxy your traffic through it, and\nthey'd filter all your traffic for you.\n\n83\n00:04:08.390 --> 00:04:11.810\nWell, Cisco has now integrated\nthat into the ASAs.\n\n84\n00:04:11.810 --> 00:04:12.480\nIt's optional.\n\n85\n00:04:12.480 --> 00:04:14.060\nYou don't have to use it.\n\n86\n00:04:14.060 --> 00:04:20.720\nBut, all of the -X devices have\nthat FirePOWER service available.\n\n87\n00:04:20.720 --> 00:04:25.080\nAnd if you subscribe, it does cost money,\nyou pay an annual or a quarterly fee.\n\n88\n00:04:25.080 --> 00:04:26.400\nIf you subscribe,\n\n89\n00:04:26.400 --> 00:04:30.230\nthen you get access to all sorts of\nadvanced threat protection and prevention.\n\n90\n00:04:30.230 --> 00:04:32.500\nSo, it's kind of a neat little feature.\n\n91\n00:04:32.500 --> 00:04:35.040\nYou don't have that on\nthe models without a -X.\n\n92\n00:04:35.040 --> 00:04:37.930\nSo, if you have a 5505,\nthey're still being sold.\n\n93\n00:04:37.930 --> 00:04:38.880\nThey're still supported.\n\n94\n00:04:38.880 --> 00:04:40.910\nThey are still the most popular firewall.\n\n95\n00:04:40.910 --> 00:04:43.380\nAnd it's what we're going to use for\npart of the show here.\n\n96\n00:04:43.380 --> 00:04:48.530\nBut, the -X models,\nthose are the ones that are replacing it.\n\n97\n00:04:48.530 --> 00:04:51.671\nAnd there's a few reasons why\nthe dash X models haven't completely\n\n98\n00:04:51.671 --> 00:04:53.060\nreplaced the 5505 even.\n\n99\n00:04:53.060 --> 00:04:55.170\nWe'll talk about it later,\nlittle differences.\n\n100\n00:04:55.170 --> 00:04:58.800\nBut as we look at the other models,\nyou'll see the 5506-X.\n\n101\n00:04:58.800 --> 00:05:03.640\nYou got the 5508-X, the 5515s.\n\n102\n00:05:03.640 --> 00:05:06.840\nAnd then there's even models\ninside of that like the 5506.\n\n103\n00:05:06.840 --> 00:05:13.760\nYou've got the -X,\nthe 5506W-X, the 5506H-X.\n\n104\n00:05:13.760 --> 00:05:14.940\nWhat's the difference?\n\n105\n00:05:14.940 --> 00:05:17.370\nWell they look a little\ndifferent if you look at them.\n\n106\n00:05:17.370 --> 00:05:20.470\nWell, we really have to kinda\nthrow it into Cisco's comparison\n\n107\n00:05:20.470 --> 00:05:24.900\ntable here to see the real difference\nbetween all these guys, all right.\n\n108\n00:05:24.900 --> 00:05:28.530\nAnd you'll notice there's subtle\ndifferences between each one.\n\n109\n00:05:28.530 --> 00:05:30.380\nSome of them that are differences\nyou'll wanna pay for.\n\n110\n00:05:30.380 --> 00:05:32.750\nSome are differences that\nyou won't wanna pay for.\n\n111\n00:05:32.750 --> 00:05:35.780\nFor example,\nif we take a look at that 5505,\n\n112\n00:05:35.780 --> 00:05:40.062\nI know I can buy a 5505 brand new $300.\n\n113\n00:05:40.062 --> 00:05:45.040\nBut it can only move up to\n150 megabit of traffic.\n\n114\n00:05:45.040 --> 00:05:48.195\nNow if this is a home office and\nyou're on DSL or cable,\n\n115\n00:05:48.195 --> 00:05:54.205\nyou likely have less than 150 megabit\nof bandwidth anyway, so, you're good.\n\n116\n00:05:54.205 --> 00:05:58.315\nWell, if you have something bigger,\nthough, if you have more traffic, or\n\n117\n00:05:58.315 --> 00:06:03.625\nif you're doing internal filtering, right,\nif you've got a LAN connected to a DMZ.\n\n118\n00:06:04.870 --> 00:06:07.560\nThat connection is going to be\nlimited to 150 megabit also.\n\n119\n00:06:07.560 --> 00:06:11.730\nIf you've got a gigabit network,\nthis is not going to work for us.\n\n120\n00:06:11.730 --> 00:06:13.542\nIf you step up to the 5506,\n\n121\n00:06:13.542 --> 00:06:17.810\nyou'll see you get 750 megabit of\nstateful inspection throughput.\n\n122\n00:06:17.810 --> 00:06:21.498\nAnd so that's just the traffic\nflowing through the firewall rules and\n\n123\n00:06:21.498 --> 00:06:25.510\ngetting filtered, 750 megs of that\ntraffic that it can handle, right?\n\n124\n00:06:26.850 --> 00:06:29.700\nWhen the numbers really start to get\ndifferent, is when we start doing\n\n125\n00:06:29.700 --> 00:06:34.300\nmultiprotocol stateful inspection,\nlike if you're doing IPv4 and IPv6.\n\n126\n00:06:34.300 --> 00:06:37.010\nAnd you'll see that the ASA\nis not rated for anything.\n\n127\n00:06:37.010 --> 00:06:40.060\nIt'll do it,\nCisco's not promising your any numbers.\n\n128\n00:06:40.060 --> 00:06:41.050\nBut the 5506,\n\n129\n00:06:41.050 --> 00:06:44.655\nthey'll promise you 300 megabits, that\nit can do 300 megabits of that traffic.\n\n130\n00:06:44.655 --> 00:06:48.380\nOr if we start looking at some of the\nadvanced other things, like the advanced\n\n131\n00:06:48.380 --> 00:06:53.450\ndetection, concurrent sessions, and so\non, these numbers really start to spike.\n\n132\n00:06:53.450 --> 00:06:57.170\nAll right, now concurrent sessions\nis a really important one.\n\n133\n00:06:57.170 --> 00:07:00.360\nYou look at these numbers, if you're\nlike the average person on the street\n\n134\n00:07:00.360 --> 00:07:01.950\nyou're like,\n10,000 concurrent connections.\n\n135\n00:07:01.950 --> 00:07:04.860\nOh, my goodness,\nI could have 10,000 users behind this?\n\n136\n00:07:04.860 --> 00:07:07.970\nNo, a connection is not a user, right.\n\n137\n00:07:07.970 --> 00:07:11.430\nOne user will create many,\nmany connections.\n\n138\n00:07:11.430 --> 00:07:13.210\nAnd I know I've showed\nthis in other shows,\n\n139\n00:07:13.210 --> 00:07:17.290\nbut just to give you an example\nhere I'll use my machine.\n\n140\n00:07:17.290 --> 00:07:21.540\nAnd let me do like a netstat -n,\nall right?\n\n141\n00:07:21.540 --> 00:07:24.370\nSo here's the connections that\nI've got on my machine right now.\n\n142\n00:07:24.370 --> 00:07:25.100\nThere's not many.\n\n143\n00:07:25.100 --> 00:07:27.310\nThey all kind of fit\nhere in this one screen,\n\n144\n00:07:27.310 --> 00:07:29.200\nwhich I can make a little bit bigger,\nthere.\n\n145\n00:07:29.200 --> 00:07:32.240\nThere's all the connections I\nhave active right now, okay?\n\n146\n00:07:32.240 --> 00:07:36.700\nI'm gonna open up one page, and\nI'm gonna go to cnn.com, all right?\n\n147\n00:07:36.700 --> 00:07:39.600\nSo now I'm on cnn.com, and\nI'm gonna run that same command again.\n\n148\n00:07:39.600 --> 00:07:44.440\nLet me clear this out, and\nI'm gonna run that same command.\n\n149\n00:07:44.440 --> 00:07:47.997\nAnd look at all the connections\nthat I just created, and\n\n150\n00:07:47.997 --> 00:07:50.805\nthat's just because I opened one webpage.\n\n151\n00:07:50.805 --> 00:07:55.289\nAll right, now I picked cnn.com which is a\nreputable webpage, but I love to use them\n\n152\n00:07:55.289 --> 00:07:59.145\nas an example because their page is\ncrammed so full of Advertisements and\n\n153\n00:07:59.145 --> 00:08:02.116\nauto-play videos and\nvideos from multiple servers and\n\n154\n00:08:02.116 --> 00:08:05.100\nstuff that it opens up a lot\nof sessions like these.\n\n155\n00:08:05.100 --> 00:08:11.110\nBut it just shows that me, I right now\nprobably have two or 300 connections.\n\n156\n00:08:11.110 --> 00:08:13.630\nRight?\nThey add up that quickly.\n\n157\n00:08:13.630 --> 00:08:16.500\nAnd so\neach user can really start to impact that.\n\n158\n00:08:16.500 --> 00:08:19.810\nSo when you look at\nthese model comparisons.\n\n159\n00:08:19.810 --> 00:08:21.080\nThat 10,000?\n\n160\n00:08:21.080 --> 00:08:25.660\nThat really equals about ten users\nwhich is what the base license\n\n161\n00:08:25.660 --> 00:08:26.340\nof a 5505 comes with.\n\n162\n00:08:26.340 --> 00:08:28.017\nIt comes with a ten user license.\n\n163\n00:08:28.017 --> 00:08:31.605\nAnd when you get to 25,000 connections,\nwell, that's a bit more, right?\n\n164\n00:08:31.605 --> 00:08:34.200\nMaybe 25 users.\n\n165\n00:08:34.200 --> 00:08:36.430\nBut you can get a 50 user license.\n\n166\n00:08:36.430 --> 00:08:39.166\nYou can get an unlimited user license for\nthat 5500.\n\n167\n00:08:39.166 --> 00:08:41.741\nEven though you get the unlimited\nuser license though,\n\n168\n00:08:41.741 --> 00:08:44.340\nit's still 25,000 concurrent sessions.\n\n169\n00:08:44.340 --> 00:08:46.020\nSo if you have 100 users and\n\n170\n00:08:46.020 --> 00:08:50.340\nthey're all using the system at once,\nthey might run out of connections.\n\n171\n00:08:50.340 --> 00:08:52.740\nAnd the ASA is not gonna push them through\nand they're gonna get disconnects.\n\n172\n00:08:52.740 --> 00:08:54.840\nAnd they're gonna wonder\nwhy the network sucks.\n\n173\n00:08:54.840 --> 00:08:57.600\nAnd it's just because we don't have\na model that can handle the amount of\n\n174\n00:08:57.600 --> 00:08:59.020\ntraffic we're pushing through it.\n\n175\n00:08:59.020 --> 00:09:01.070\nAnd that's gonna be one of\nthe biggest differences.\n\n176\n00:09:01.070 --> 00:09:02.900\nWhen I purchase an ASA,\n\n177\n00:09:02.900 --> 00:09:07.200\nthe first two things I ask is how much\nbandwidth is your Internet connection?\n\n178\n00:09:08.260 --> 00:09:11.140\nHow much bandwidth do you\nneed in-between VLANS or\n\n179\n00:09:11.140 --> 00:09:13.240\nlocal networks if your firewalling them?\n\n180\n00:09:13.240 --> 00:09:17.839\nAnd then how many users do you\nhave active at the same time?\n\n181\n00:09:17.839 --> 00:09:22.194\nCause those three things are really gonna\nkind of dictate what we need here as far\n\n182\n00:09:22.194 --> 00:09:24.805\nas our staple inspection throughput,\nright?\n\n183\n00:09:24.805 --> 00:09:26.646\nThat would be our Internet bandwidth or\n\n184\n00:09:26.646 --> 00:09:29.420\nthe bandwidth inbetween\nVLANs that we need.\n\n185\n00:09:29.420 --> 00:09:33.162\nAnd then the amount of users, that's\ngonna impact our concurrent sessions.\n\n186\n00:09:33.162 --> 00:09:35.650\nAll right so we need that\ninformation before we pick one.\n\n187\n00:09:35.650 --> 00:09:38.160\nAnd I'm looking at the low\nend firewalls here, right?\n\n188\n00:09:38.160 --> 00:09:39.780\nLet's move over to some\nof the higher end ones.\n\n189\n00:09:39.780 --> 00:09:45.482\nIf we start stepping up to like\nthe 5525 or 5545, the 5555.\n\n190\n00:09:45.482 --> 00:09:46.120\nRight?\n\n191\n00:09:46.120 --> 00:09:47.420\nFour gigabit.\n\n192\n00:09:47.420 --> 00:09:50.544\nWe could have it go four gigabit WAN\nconnection or inter-VLAN traffic.\n\n193\n00:09:50.544 --> 00:09:51.100\nRight?\n\n194\n00:09:51.100 --> 00:09:53.010\nThat's really, really good stuff there.\n\n195\n00:09:53.010 --> 00:09:56.180\nAnd if you get down to\nthe concurrent connections, it is.\n\n196\n00:09:56.180 --> 00:09:57.600\nI kind of lost my column, here.\n\n197\n00:09:59.040 --> 00:10:00.010\nThere we go.\n\n198\n00:10:00.010 --> 00:10:02.930\nIt is one million,\none million concurrent connections.\n\n199\n00:10:02.930 --> 00:10:04.810\nThat's a lot of users, all right.\n\n200\n00:10:04.810 --> 00:10:08.150\nSo, we should be able to have a pretty\ngood sized organization right there.\n\n201\n00:10:08.150 --> 00:10:12.280\nThis would be designed for\nlarge businesses and enterprise, right?\n\n202\n00:10:12.280 --> 00:10:16.700\nThat's how we pick the hardware that we're\ngonna go with is understanding our usage.\n\n203\n00:10:16.700 --> 00:10:19.470\nThe other thing we have to understand are\nthe features that we're gonna be using.\n\n204\n00:10:19.470 --> 00:10:22.870\nNotice as we look at all these numbers,\nwe get things like here.\n\n205\n00:10:22.870 --> 00:10:26.880\nMaximum site-to-site and\nIPsec IKEv1 VPN connections.\n\n206\n00:10:26.880 --> 00:10:27.920\nRight?\n\n207\n00:10:27.920 --> 00:10:30.630\nAm I gonna be using IPsec VPN connections?\n\n208\n00:10:30.630 --> 00:10:32.360\nIf so, how many do I need?\n\n209\n00:10:32.360 --> 00:10:35.750\nCuz some firewalls like\nthe 5506 can only handle 50.\n\n210\n00:10:35.750 --> 00:10:36.970\n50 maximum.\n\n211\n00:10:36.970 --> 00:10:38.610\nIt only comes with ten\nin its base license.\n\n212\n00:10:38.610 --> 00:10:40.120\nThat's why there's two numbers here.\n\n213\n00:10:40.120 --> 00:10:43.040\nWhen you buy these firewalls they come\nwith what's called a base license.\n\n214\n00:10:43.040 --> 00:10:45.800\nSo it'll have ten IP set connections.\n\n215\n00:10:46.820 --> 00:10:48.770\nIf I need 12, it won't do it.\n\n216\n00:10:48.770 --> 00:10:50.880\nI gotta upgrade my license.\n\n217\n00:10:50.880 --> 00:10:52.540\nSo understanding licensing\nis important and\n\n218\n00:10:52.540 --> 00:10:53.900\nwe'll talk about that\nhere in a minute too.\n\n219\n00:10:55.392 --> 00:10:57.290\nAll right some of the other\nthings you gotta watch out for\n\n220\n00:10:57.290 --> 00:11:00.870\nis just limited input and output.\n\n221\n00:11:00.870 --> 00:11:02.940\nLimited power.\n\n222\n00:11:02.940 --> 00:11:03.850\nThings of that nature, right?\n\n223\n00:11:03.850 --> 00:11:07.310\nSo when we start to look at our power\nhere, notice integrated IO on these.\n\n224\n00:11:07.310 --> 00:11:12.600\nThis guy has eight 100 megabit\nports with two POE ports, right?\n\n225\n00:11:12.600 --> 00:11:16.170\nThis was designed to be a switch\nreplacement for a small office.\n\n226\n00:11:16.170 --> 00:11:19.130\nAnd you could plug your voip phone\nin it and it would do everything.\n\n227\n00:11:19.130 --> 00:11:21.630\nThe newer ASA's, the -Xs.\n\n228\n00:11:21.630 --> 00:11:23.950\nNone of them have POE right?\n\n229\n00:11:23.950 --> 00:11:27.010\nSo we kind of lost that functionality\nfrom what we had in the older ones and\n\n230\n00:11:27.010 --> 00:11:30.190\nas you look across the line you'll\nsee they all have gig ports now.\n\n231\n00:11:30.190 --> 00:11:32.149\nBut some of them have eight gig ports.\n\n232\n00:11:32.149 --> 00:11:34.448\nSome of them only have four right?\n\n233\n00:11:34.448 --> 00:11:37.726\nAnd so you've got to choose the firewall\nthat has the right amount of ports for\n\n234\n00:11:37.726 --> 00:11:38.590\nyour environment.\n\n235\n00:11:38.590 --> 00:11:41.050\nAnd the bigger the firewall\nthe more flexible this gets.\n\n236\n00:11:41.050 --> 00:11:44.900\nBut you'll even see here the biggest one\nyou still just have those eight ports but\n\n237\n00:11:44.900 --> 00:11:46.590\nit can move a lot more traffic.\n\n238\n00:11:47.990 --> 00:11:50.030\nAll right.\nThese guys, I say it only has eight ports.\n\n239\n00:11:50.030 --> 00:11:55.080\nIt actually has six more available that\nare SFPs that we can make copper or fiber,\n\n240\n00:11:55.080 --> 00:11:58.220\nand you don't get fiber\nconnections in the lower end ones.\n\n241\n00:11:58.220 --> 00:12:02.540\nSee how it's all not available\nright across the board here, so\n\n242\n00:12:02.540 --> 00:12:03.650\nthat's a big deal.\n\n243\n00:12:03.650 --> 00:12:07.680\nThe other thing is power, most of\nthese are AC only which is important.\n\n244\n00:12:07.680 --> 00:12:11.330\nSome of them do have redundant power\nsupplies in them, but many of them don't.\n\n245\n00:12:11.330 --> 00:12:15.520\nIf you want redundancy with an ASA you\nare generally gonna deploy two ASAs and\n\n246\n00:12:15.520 --> 00:12:16.340\ncluster them together.\n\n247\n00:12:16.340 --> 00:12:17.780\nIt is called high availability and\n\n248\n00:12:17.780 --> 00:12:21.150\nthey have got that functionality built\ninto them if you have the license.\n\n249\n00:12:21.150 --> 00:12:23.690\nIt is another licensed\nfeature which is why\n\n250\n00:12:23.690 --> 00:12:27.861\nwe want to talk about licensing\nin the same episode, all right.\n\n251\n00:12:27.861 --> 00:12:31.440\nSo bear that in mind if you\nare working with an ASA today.\n\n252\n00:12:31.440 --> 00:12:34.870\nIf you bought a brand new one,\nit's probably gonna have a -X\n\n253\n00:12:34.870 --> 00:12:38.150\nin the model number, and that's gonna\nlet you know it supports Power Fire.\n\n254\n00:12:38.150 --> 00:12:38.940\nFire Power.\n\n255\n00:12:38.940 --> 00:12:43.080\n[LAUGH] And, if you, I mixed up because\nSource Fire was the company that did it,\n\n256\n00:12:43.080 --> 00:12:47.500\nnow Fire Power, you know flip it around,\nbut anyhow, so when you buy one of these,\n\n257\n00:12:47.500 --> 00:12:50.760\nyou'll probably see that dash X,\nif you don't subscribe, to the Fire Power\n\n258\n00:12:50.760 --> 00:12:53.620\nservice though, then it really does\njust act like the old firewalls\n\n259\n00:12:53.620 --> 00:12:56.960\ndid it just has a little better hardware\nin it so it can move more traffic.\n\n260\n00:12:56.960 --> 00:12:58.810\nAnd that's pretty important, right.\n\n261\n00:12:58.810 --> 00:13:02.589\nBut bear in mind that there's no way to\nupgrade from one of these firewalls to\n\n262\n00:13:02.589 --> 00:13:03.130\nanother.\n\n263\n00:13:03.130 --> 00:13:07.726\nSure you can buy a license that adds\nadditional software functionality, but\n\n264\n00:13:07.726 --> 00:13:12.671\nif I decide that I've got 750 megabits of\nbandwidth and I want to bump up to a gig,\n\n265\n00:13:12.671 --> 00:13:15.518\nyou can't upgrade a 5506 into a 5508.\n\n266\n00:13:15.518 --> 00:13:19.100\nSo we've got to buy the appropriate\nfirewall from the very beginning.\n\n267\n00:13:19.100 --> 00:13:23.350\nAnd then, if our company does grow,\nwe'll have to replace the firewall.\n\n268\n00:13:23.350 --> 00:13:25.067\nAnd, if you wanna do a high availability,\n\n269\n00:13:25.067 --> 00:13:27.422\nyou really need to have two\nfirewalls that are identical.\n\n270\n00:13:27.422 --> 00:13:30.122\nSay like,\nI'm gonna have a 5508 as my primary and\n\n271\n00:13:30.122 --> 00:13:31.986\nhave a 5506 as a backup, right?\n\n272\n00:13:31.986 --> 00:13:35.700\nThat's not gonna work out because of\nthe way the licensing works between them.\n\n273\n00:13:35.700 --> 00:13:37.465\nSo, they really do need to\nbe identical there too.\n\n274\n00:13:37.465 --> 00:13:41.192\nAll considerations, when it comes\nto buying one of these assets.\n\n275\n00:13:41.192 --> 00:13:46.752\nAll right, one last thing I want\nto mention on purchasing one,\n\n276\n00:13:46.752 --> 00:13:48.200\nshopping around, you can buy these things.\n\n277\n00:13:48.200 --> 00:13:51.290\nCDW is where I normally go to\nbuy hardware like this but\n\n278\n00:13:51.290 --> 00:13:52.930\nyou can buy it darn near anywhere.\n\n279\n00:13:52.930 --> 00:13:54.900\nPay attention to\nthe license it comes with.\n\n280\n00:13:54.900 --> 00:13:57.130\nBecause when you see it advertised,\nwell here, let's go shopping.\n\n281\n00:13:57.130 --> 00:13:57.870\nWe'll go to CDW.\n\n282\n00:13:57.870 --> 00:14:00.025\nAnd I'll show you what I mean.\n\n283\n00:14:00.025 --> 00:14:03.506\nSo let's say that I'm in the market for\na 5508.\n\n284\n00:14:03.506 --> 00:14:09.055\nSo I'm gonna go to CDW and\nI'll just do a search for a 5508-X.\n\n285\n00:14:10.560 --> 00:14:13.480\nAnd I'll punch that in there and\nI will search ever so slowly.\n\n286\n00:14:13.480 --> 00:14:16.400\nAnd here we start to find some\nstuff that comes back right?\n\n287\n00:14:16.400 --> 00:14:21.180\nAnd what I'm looking for\nis this guy right here, an ASA 5508-X.\n\n288\n00:14:21.180 --> 00:14:25.930\nBut notice my first results that come\nback, Cisco ASA with Fire Power services,\n\n289\n00:14:25.930 --> 00:14:28.470\nadvanced malware protection subscription.\n\n290\n00:14:28.470 --> 00:14:30.010\nWell that's not the firewall.\n\n291\n00:14:30.010 --> 00:14:32.920\nThis is one of the software\nservices that I can license.\n\n292\n00:14:32.920 --> 00:14:35.810\nAnd this is usually an annual,\nit will say in here.\n\n293\n00:14:35.810 --> 00:14:37.074\nThis is actually a three year.\n\n294\n00:14:37.074 --> 00:14:40.759\nIf I want three years of that advanced\nanti advanced malware service,\n\n295\n00:14:40.759 --> 00:14:44.078\nit's going to be $1,500 or\n$500 a year, all right.\n\n296\n00:14:44.078 --> 00:14:46.220\nBut that's just the software licence,\noptional.\n\n297\n00:14:46.220 --> 00:14:46.830\nI don't need it.\nSo,\n\n298\n00:14:46.830 --> 00:14:48.544\nlet's see if they actually\nhave the hardware.\n\n299\n00:14:48.544 --> 00:14:49.299\nDo they not sell?\n\n300\n00:14:49.299 --> 00:14:50.019\nOh, there we go.\n\n301\n00:14:50.019 --> 00:14:50.946\nAll right, so here we go.\n\n302\n00:14:50.946 --> 00:14:56.460\nA Cisco ASA 5508-X with Fire Power\nServices network management device.\n\n303\n00:14:56.460 --> 00:14:57.158\nThere's the firewall.\n\n304\n00:14:57.158 --> 00:15:01.090\nWell, it's $2,500, so there's the price.\n\n305\n00:15:01.090 --> 00:15:02.790\nWhat does it come with?\n\n306\n00:15:02.790 --> 00:15:06.990\nSometimes you'll see where it'll say\na bundle with certain services, and so\n\n307\n00:15:06.990 --> 00:15:09.130\nthey might be wrapping\nservices into the price.\n\n308\n00:15:09.130 --> 00:15:11.410\nSo when you're price shopping\nthese things to buy them,\n\n309\n00:15:11.410 --> 00:15:13.310\npay attention to what\nservices they come with.\n\n310\n00:15:13.310 --> 00:15:15.900\nIt might have additional licensing,\nit might not, but right here,\n\n311\n00:15:15.900 --> 00:15:19.400\nthis is the firewall, and\nit'll come with a base license, and\n\n312\n00:15:19.400 --> 00:15:22.040\nthen you can add additional\nfunctionality to it as you need it.\n\n313\n00:15:22.040 --> 00:15:25.860\nBut notice here's all the network ports\non the back, and these aren't modular,\n\n314\n00:15:25.860 --> 00:15:27.660\nI can't add modules to this.\n\n315\n00:15:27.660 --> 00:15:30.830\nThey're fixed, they're right there,\nthey're kind of built into the system.\n\n316\n00:15:30.830 --> 00:15:31.330\nAnd that's that.\n\n317\n00:15:32.752 --> 00:15:36.800\nAll right, you can see some of the other\nones here like 5512s or whatever.\n\n318\n00:15:36.800 --> 00:15:41.630\nThere is one special model that you'll\nnotice is not here in my comparison table.\n\n319\n00:15:41.630 --> 00:15:44.164\nThese are all what are considered\nthe standard Cisco ASAs, so\n\n320\n00:15:44.164 --> 00:15:45.979\nthese are what most\npeople are going to use.\n\n321\n00:15:45.979 --> 00:15:50.781\nBut if you're an Internet service\nprovider, if you move tons and tons and\n\n322\n00:15:50.781 --> 00:15:54.975\ntons of data, you need even\nbeyond like four gigabits, right?\n\n323\n00:15:54.975 --> 00:15:57.638\nYou need Huge amounts of data\nto able to move through.\n\n324\n00:15:57.638 --> 00:16:00.818\nOr you need to be able to take your\nfirewall and divide it up into multiple\n\n325\n00:16:00.818 --> 00:16:03.750\nvirtual firewalls to support\nyour customers, right.\n\n326\n00:16:03.750 --> 00:16:07.277\nWell for that Cisco,\nhas a special firewall,\n\n327\n00:16:07.277 --> 00:16:13.010\nit’s the 5585-X,\nthat’s their absolute highest-end one.\n\n328\n00:16:13.010 --> 00:16:15.550\nThe 5585 is basically a server.\n\n329\n00:16:15.550 --> 00:16:17.390\nHere, let me show you the pictures.\n\n330\n00:16:17.390 --> 00:16:19.430\nSo, everybody likes pictures, right?\n\n331\n00:16:19.430 --> 00:16:23.563\nSo if we go in here and look at the\npictures, it's basically a 3U server that\n\n332\n00:16:23.563 --> 00:16:27.955\ngoes in your rack and it's got two giant\npower supplies right there on the front,\n\n333\n00:16:27.955 --> 00:16:30.693\nand it's able to handle\nhuge amounts of traffic.\n\n334\n00:16:30.693 --> 00:16:34.972\nAnd you'll see how these are all kind\nof packaged with an SSP, right, and\n\n335\n00:16:34.972 --> 00:16:39.460\nthat's one of their stateful packet\ninspection devices that actually helps\n\n336\n00:16:39.460 --> 00:16:44.222\nwith doing deep packet inspection to look\nfor attacks and other malware in there,\n\n337\n00:16:44.222 --> 00:16:47.702\nand it does it in hardware and\nso it does it very, very fast.\n\n338\n00:16:47.702 --> 00:16:52.582\nThe SSP 10, 20, 40, 60, what you're really\npicking there is the amount of throughput\n\n339\n00:16:52.582 --> 00:16:55.630\nthat card can handle\nwhile it's inspecting.\n\n340\n00:16:55.630 --> 00:17:00.320\nAnd if we compare these, these are all\n5585s, but you'll see what you're paying\n\n341\n00:17:00.320 --> 00:17:06.150\nfor is really that throughput, 4 GB,\n10 GB, 20 GB, 40 GB of traffic, right.\n\n342\n00:17:06.150 --> 00:17:09.450\nAnd there's really two\nmarkets this is designed for.\n\n343\n00:17:09.450 --> 00:17:09.970\nIt's designed for\n\n344\n00:17:09.970 --> 00:17:13.580\nInternet service providers, where you are\ngoing to be moving that amount of data.\n\n345\n00:17:13.580 --> 00:17:16.710\nOr storage networks, right.\n\n346\n00:17:16.710 --> 00:17:18.780\nA lot of people don't firewall\ntheir storage networks,\n\n347\n00:17:18.780 --> 00:17:21.240\nbut if you are a high\nsecurity environment,\n\n348\n00:17:21.240 --> 00:17:25.030\nyou know that your storage network is\nthe biggest target for an attacker.\n\n349\n00:17:25.030 --> 00:17:26.120\nIf they can get on the storage network,\n\n350\n00:17:26.120 --> 00:17:28.530\nthey can bypass all\nyour security controls.\n\n351\n00:17:28.530 --> 00:17:29.740\nThat's a big deal.\n\n352\n00:17:29.740 --> 00:17:33.910\nAnd so having a firewall in place in your\nstorage network can be a very handy thing.\n\n353\n00:17:33.910 --> 00:17:38.660\nProblem is storage networks have one\nprimary focus and that's being fast.\n\n354\n00:17:38.660 --> 00:17:40.650\nPutting a firewall in slows them down.\n\n355\n00:17:40.650 --> 00:17:44.490\nSo having a high end firewall like\nthis that can move 40 gigs of data,\n\n356\n00:17:44.490 --> 00:17:45.990\nthat can alleviate that.\n\n357\n00:17:45.990 --> 00:17:51.370\nA lot of fiber optic sans are running\nat 4GB or 8GB, and so having 40GB here,\n\n358\n00:17:51.370 --> 00:17:53.870\nthat means we can withstand quite\na bit of traffic moving through it.\n\n359\n00:17:53.870 --> 00:17:56.990\nSo that's a good use for it right there.\n\n360\n00:17:56.990 --> 00:18:02.640\nBut that's the 5585, these are,\nlet's just say they're a little expensive.\n\n361\n00:18:02.640 --> 00:18:04.580\nThey aren't the cheapest\nthings you'll buy.\n\n362\n00:18:04.580 --> 00:18:06.900\nI don't even know if CDW will\nprice it on their website.\n\n363\n00:18:06.900 --> 00:18:07.660\nLet's see if it will.\n\n364\n00:18:08.730 --> 00:18:12.740\nSo if do a, let's just go,\nI guess I have to spell it right,\n\n365\n00:18:12.740 --> 00:18:14.360\nI'm making a new company here.\n\n366\n00:18:14.360 --> 00:18:17.570\nThe 5585, it's normally one of\nthose call for pricing type things.\n\n367\n00:18:17.570 --> 00:18:21.920\nWell this is the four port\nethernet expansion module,\n\n368\n00:18:21.920 --> 00:18:23.330\njust the module is 25,000 dollars.\n\n369\n00:18:23.330 --> 00:18:25.073\nSo that kind of gives you an idea.\n\n370\n00:18:25.073 --> 00:18:28.913\nHere we go, so the SSP 20,\nwhich was like the second tier one,\n\n371\n00:18:28.913 --> 00:18:33.131\nis $50,000, $28,000 for\nthe base one, the SSP 10.\n\n372\n00:18:33.131 --> 00:18:34.470\n>> Might as well get two.\n\n373\n00:18:34.470 --> 00:18:35.530\n>> Oh, yeah, definitely.\n\n374\n00:18:35.530 --> 00:18:37.316\nAt that price it's a steal, right?\n\n375\n00:18:37.316 --> 00:18:41.311\nAnd I'm not seeing the SSP 40 or\n60, those are the good ones.\n\n376\n00:18:41.311 --> 00:18:45.965\nLet's see if we can spice this up\na little bit and have some fun here,\n\n377\n00:18:45.965 --> 00:18:47.770\nsee if they have the 60.\n\n378\n00:18:47.770 --> 00:18:49.970\nThe 60 would be the most expensive one.\n\n379\n00:18:49.970 --> 00:18:52.860\nSo by the time you get to this point,\nyou're talking about over $100,000 for\n\n380\n00:18:52.860 --> 00:18:53.680\nthe firewall.\n\n381\n00:18:53.680 --> 00:18:54.850\nThey're not cheap.\n\n382\n00:18:54.850 --> 00:18:57.850\nBut again, if you're in that\nhigh security environment,\n\n383\n00:18:57.850 --> 00:19:00.130\nif you're moving that level of data,\nthis is what you need.\n\n384\n00:19:00.130 --> 00:19:01.950\nIt's the cost of doing business right?\n\n385\n00:19:01.950 --> 00:19:04.550\nSo bear that in mind as you go\nto pick the Cisco firewalls.\n\n386\n00:19:04.550 --> 00:19:07.150\nThe cool part, it used to be that\n\n387\n00:19:07.150 --> 00:19:10.020\neach of the different models were\nconfigured slightly differently.\n\n388\n00:19:10.020 --> 00:19:11.516\nBut under the new system,\n\n389\n00:19:11.516 --> 00:19:14.857\nthe dash x firewalls are all\nconfigured exactly the same.\n\n390\n00:19:14.857 --> 00:19:20.060\nSo if you know how to configure a 5506,\nyou know how to configure a 5585.\n\n391\n00:19:20.060 --> 00:19:21.400\nIt's the same across the board.\n\n392\n00:19:21.400 --> 00:19:24.880\nThey're all configured the same way,\nand that is really cool.\n\n393\n00:19:24.880 --> 00:19:29.520\nEven the non dash x ones for\nthe most part are configured the same.\n\n394\n00:19:29.520 --> 00:19:35.330\nThere is a little bit of a difference,\nthe 5505 has a built in ethernet switch.\n\n395\n00:19:35.330 --> 00:19:38.060\nNone of the other firewalls\ndo all the other firewalls,\n\n396\n00:19:38.060 --> 00:19:40.670\neach port is an individual\nfirewall interface.\n\n397\n00:19:40.670 --> 00:19:43.960\nIt's like, if it has a port,\nit's like an a port router, right?\n\n398\n00:19:43.960 --> 00:19:47.220\nVersus the 5505 which is a port\njust like an a port switch,\n\n399\n00:19:47.220 --> 00:19:49.830\nthat you could turn it into\nan A port router if you wanted.\n\n400\n00:19:49.830 --> 00:19:52.480\nYou can divide them all up, but\nthat is a little bit of a difference.\n\n401\n00:19:53.690 --> 00:19:55.330\nNow, I've rambled on too\nlong about the models.\n\n402\n00:19:55.330 --> 00:19:57.970\nWe probably need to talk\na little bit about licensing.\n\n403\n00:19:57.970 --> 00:20:01.440\nSo let's jump over and\ntalk about licensing.\n\n404\n00:20:02.850 --> 00:20:05.480\nWhen you buy an ASA it\ncomes with a base license.\n\n405\n00:20:05.480 --> 00:20:09.160\nAnd I'm pulling up here the Cisco\ndocumentation for licensing,\n\n406\n00:20:09.160 --> 00:20:10.550\nhere I'm just looking at the ASA 5505,\n\n407\n00:20:10.550 --> 00:20:14.480\nand then we'll take a look at some\nof the other ones as we have time.\n\n408\n00:20:14.480 --> 00:20:18.210\nBut what they're listing\nhere is the base license.\n\n409\n00:20:18.210 --> 00:20:21.180\nFollowed by other licensing options,\n\n410\n00:20:21.180 --> 00:20:24.430\nlike the Security Plus license\nthat you can buy for it.\n\n411\n00:20:24.430 --> 00:20:28.040\nWhen you buy a ASA 5505,\nit comes with a base license.\n\n412\n00:20:28.040 --> 00:20:32.370\nAnd notice things like the botnet traffic\nfilter is disabled in the base license.\n\n413\n00:20:33.420 --> 00:20:37.780\nBut you can buy an optional time-based\nlicense for botnet filtering, and\n\n414\n00:20:37.780 --> 00:20:39.628\nit's an annual agreement\nthat you enter into.\n\n415\n00:20:39.628 --> 00:20:43.370\nYou'll see 10,000 connections by default.\n\n416\n00:20:43.370 --> 00:20:48.860\nBut if you upgrade to security plus,\nyou can get 25,000 connections, right?\n\n417\n00:20:48.860 --> 00:20:53.220\nIf we look down a little bit further,\nyou'll see two unified communications,\n\n418\n00:20:53.220 --> 00:20:55.470\nor VoIP connections,\nVoIP proxy connections.\n\n419\n00:20:55.470 --> 00:20:57.600\nYou can have an optional license for\n24 more,\n\n420\n00:20:57.600 --> 00:20:59.750\neven security plus only\ncomes with two there.\n\n421\n00:20:59.750 --> 00:21:02.800\nSo, even if you go to security plus,\nthere's still other little licenses that\n\n422\n00:21:02.800 --> 00:21:05.610\nyou might need to buy,\nif you're going to use that feature.\n\n423\n00:21:05.610 --> 00:21:10.620\nIf you're not using the UC proxy,\nthen you don't bother buying that license.\n\n424\n00:21:10.620 --> 00:21:12.830\nYou say whatever, I got two, who cares?\n\n425\n00:21:12.830 --> 00:21:15.190\nSome of the other things you'll\nsee that are optional like that,\n\n426\n00:21:15.190 --> 00:21:18.840\nAdvanced Endpoint Assessment,\nwhich is part of their antivirus stuff.\n\n427\n00:21:18.840 --> 00:21:21.370\nThere AnyConnect, VPN phone client,\n\n428\n00:21:21.370 --> 00:21:23.920\nif you want people to be able\nto VPN from their cell phones.\n\n429\n00:21:23.920 --> 00:21:28.030\nAnyConnect, essentials, mobile,\npremium, that's all VPN functionality.\n\n430\n00:21:28.030 --> 00:21:30.300\nYou'll see where most of it is\ndisabled from the base license.\n\n431\n00:21:30.300 --> 00:21:34.640\nIn other words, you can't use it\nunless you buy that extra license.\n\n432\n00:21:34.640 --> 00:21:35.740\nSame thing for security plus.\n\n433\n00:21:37.750 --> 00:21:39.090\nOther things, VPN's.\n\n434\n00:21:39.090 --> 00:21:41.130\nIf I only need ten VPN connections,\n\n435\n00:21:41.130 --> 00:21:44.070\nlike IP sec sessions then that's\nfine the base license has it.\n\n436\n00:21:44.070 --> 00:21:47.150\nIf I need more than ten I need\nto step up to security plus.\n\n437\n00:21:48.770 --> 00:21:51.230\nOther things that we have to worry about.\n\n438\n00:21:51.230 --> 00:21:52.394\nThe amount of interfaces.\n\n439\n00:21:52.394 --> 00:21:54.646\nThis is the big limiter of the 5505.\n\n440\n00:21:54.646 --> 00:21:58.211\nWhen you buy a 5505,\nyou can get one for 300 bucks, right?\n\n441\n00:21:58.211 --> 00:22:04.050\nBut it only supports three networks,\nan inside, an outside, and a DMZ.\n\n442\n00:22:04.050 --> 00:22:06.950\nAnd the DMZ has to be a true DMZ.\n\n443\n00:22:06.950 --> 00:22:09.870\nIn other words,\nthe DMZ cannot talk to the inside network.\n\n444\n00:22:09.870 --> 00:22:11.520\nIt can only talk to the outside network.\n\n445\n00:22:11.520 --> 00:22:14.140\nSo you can't use that DMZ for\nsomething else.\n\n446\n00:22:14.140 --> 00:22:16.120\nIt really has to be a true DMZ.\n\n447\n00:22:16.120 --> 00:22:18.000\nSo if you need more interfaces, you know,\n\n448\n00:22:18.000 --> 00:22:21.790\nmaybe you've got a couple like, maybe\na school and you have a staff network and\n\n449\n00:22:21.790 --> 00:22:24.860\na student network,\nthe base 5505 can't do it.\n\n450\n00:22:24.860 --> 00:22:28.080\nYou gotta go up to Security Plus, and\nthat's where you get up to 20 networks.\n\n451\n00:22:28.080 --> 00:22:32.960\nYou can do up to 20 interfaces,\nphysical or VLAN interfaces.\n\n452\n00:22:32.960 --> 00:22:34.480\nSame thing with VLAN trunking.\n\n453\n00:22:34.480 --> 00:22:37.270\nSince the 5505 base only\nsupports the three networks,\n\n454\n00:22:37.270 --> 00:22:39.610\nyou don't need trunking,\nso it's not supported.\n\n455\n00:22:39.610 --> 00:22:41.822\nBut, if you go to SecurityPlus, you can.\n\n456\n00:22:41.822 --> 00:22:43.893\nYou can have trunks on\nall eight interfaces,\n\n457\n00:22:43.893 --> 00:22:46.140\nwhich will add us up to eight trunks,\nall right?\n\n458\n00:22:46.140 --> 00:22:47.610\nNow that's the 5505.\n\n459\n00:22:47.610 --> 00:22:49.180\nIf we take a look at something else.\n\n460\n00:22:49.180 --> 00:22:50.730\nLet me get to an X model here.\n\n461\n00:22:52.310 --> 00:22:54.090\nThese are all the older ones.\n\n462\n00:22:54.090 --> 00:22:55.260\nThat's a 5512.\n\n463\n00:22:55.260 --> 00:22:56.150\nWell, we'll do a 5512.\n\n464\n00:22:56.150 --> 00:22:57.320\nHere we go.\n\n465\n00:22:57.320 --> 00:23:02.360\nSo looking at a 5512, you'll see it has a\nbase license, as well as a Security Plus,\n\n466\n00:23:02.360 --> 00:23:04.770\nright, where it adds that\nsecurity functionality.\n\n467\n00:23:04.770 --> 00:23:08.740\nAnd kind of looking down the line here on\nthe base license, 100,000 connections.\n\n468\n00:23:08.740 --> 00:23:11.680\nStep up to Security Plus,\n250,000, all right?\n\n469\n00:23:11.680 --> 00:23:13.980\nAnd then as we kind of\nlook down the line here,\n\n470\n00:23:13.980 --> 00:23:17.510\nan optional license, it's the same\nkind of thing, right, that UC Proxy.\n\n471\n00:23:17.510 --> 00:23:21.820\nIf we want the additional functionality\nthere, additional VPN connections,\n\n472\n00:23:21.820 --> 00:23:24.400\nadditional antivirus scanning and so on,\n\n473\n00:23:24.400 --> 00:23:27.740\nthose are all add-on license's\nthat we can choose to buy.\n\n474\n00:23:27.740 --> 00:23:30.430\nWhile I say hey you can buy a 5005 for\n\n475\n00:23:30.430 --> 00:23:34.530\n300 bucks, well, that's only going\nto get you so far, all right?\n\n476\n00:23:34.530 --> 00:23:36.670\nYou probably need to step up\nto a security plus license.\n\n477\n00:23:36.670 --> 00:23:37.800\nThat's like another $300 or $400.\n\n478\n00:23:37.800 --> 00:23:42.260\nYou probably need to get the unlimited\nuser license, that's another $300 or $400.\n\n479\n00:23:42.260 --> 00:23:45.770\nAnd so before you know it,\nto unlock the full potential of that 5505,\n\n480\n00:23:45.770 --> 00:23:50.650\nit's really $1200, right, and now it's\nnot such a good deal compared to some of\n\n481\n00:23:50.650 --> 00:23:54.120\nthe other firewalls that are out there\nin the market, but it is Cisco hardware,\n\n482\n00:23:54.120 --> 00:23:56.740\nit's reliable,\nyou can get good training on it.\n\n483\n00:23:56.740 --> 00:24:01.150\nIt's easy to find people that can support\nCisco versus if you go with another vendor\n\n484\n00:24:01.150 --> 00:24:03.550\nwhere you may or may not be able to\nfind people to help you support it.\n\n485\n00:24:03.550 --> 00:24:07.420\nSo there's trade-offs\ninvolved in all of this.\n\n486\n00:24:07.420 --> 00:24:10.770\nBut just be aware when you\nbuy one of the Cisco ASAs,\n\n487\n00:24:10.770 --> 00:24:13.900\nyou don't get a hundred percent of\nits functionality out of the box.\n\n488\n00:24:13.900 --> 00:24:17.460\nYou are going to have to buy some\nadd-on services to get all of that.\n\n489\n00:24:17.460 --> 00:24:20.020\nAnd it can increase the cost.\n\n490\n00:24:20.020 --> 00:24:23.393\nLet's look at a 5506,\nbecause I think for our viewers,\n\n491\n00:24:23.393 --> 00:24:26.183\nI think that'll be the one\nthat they buy the most.\n\n492\n00:24:26.183 --> 00:24:28.946\nThe 5506 is designed to replace the 5505.\n\n493\n00:24:28.946 --> 00:24:32.080\nSo it's supposed to take over\nthat like branch in Home Office.\n\n494\n00:24:32.080 --> 00:24:35.300\nApparently using a search box\nis beyond my ability today.\n\n495\n00:24:36.380 --> 00:24:37.300\nThere we go.\n\n496\n00:24:37.300 --> 00:24:42.220\nSo, with this one when you go to buy it,\nyou'll see multiple options, and\n\n497\n00:24:42.220 --> 00:24:46.260\nyou'll have one like this here where it's\njust the base license, and on the 5506\n\n498\n00:24:46.260 --> 00:24:51.270\nthey don't have the old user license where\nyou had 10 user, 50 user, unlimited user.\n\n499\n00:24:51.270 --> 00:24:54.857\nNow it just comes with the unlimited,\nso they priced that $640.\n\n500\n00:24:54.857 --> 00:24:59.558\nAnd then if you look here's that\nsecurity plus license, $1,100.\n\n501\n00:24:59.558 --> 00:25:00.569\n>> Wow.\n\n502\n00:25:00.569 --> 00:25:03.445\n>> So to step up to that full\nfunctionality you're really looking at\n\n503\n00:25:03.445 --> 00:25:05.550\na $1,700 firewall.\n\n504\n00:25:05.550 --> 00:25:08.040\nSo factor that into your budget\nwhen you go to select these,\n\n505\n00:25:08.040 --> 00:25:09.439\nremember that licensing\nis pretty important.\n\n506\n00:25:11.290 --> 00:25:13.350\nThe other thing to keep in mind\nis when you buy a license,\n\n507\n00:25:13.350 --> 00:25:15.930\nit's tied to the serial\nnumber of that firewall, so\n\n508\n00:25:15.930 --> 00:25:18.330\ndon't think you can buy a license and\nuse it on more than one firewall.\n\n509\n00:25:18.330 --> 00:25:21.550\nIt is tied to the serial number, but\nthat means that if you go out to eBay and\n\n510\n00:25:21.550 --> 00:25:25.390\nbuy a firewall, and\nit's got a license attached to it already,\n\n511\n00:25:25.390 --> 00:25:27.490\nit's tied to the hardware,\nnot to the person who bought it,\n\n512\n00:25:27.490 --> 00:25:30.490\nso it's perfectly safe to do that,\nand I know a lot of people do that.\n\n513\n00:25:30.490 --> 00:25:32.360\nWhen you talk about Cisco warranties,\n\n514\n00:25:32.360 --> 00:25:37.220\nthey have what are called Cisco smart\nnet agreements, and Cisco has no problem\n\n515\n00:25:37.220 --> 00:25:40.190\nselling you a smart net agreement for\nsomething you bought off of eBay.\n\n516\n00:25:40.190 --> 00:25:43.580\nSo you can go on eBay and you can buy\nan ASA, and then you can call Cisco up and\n\n517\n00:25:43.580 --> 00:25:45.200\nsay hey, can I buy a smart net agreement?\n\n518\n00:25:45.200 --> 00:25:46.650\nAnd they'll sell you one.\n\n519\n00:25:46.650 --> 00:25:50.070\nAnd now you've got a warranty\nsupported firewall from them,\n\n520\n00:25:50.070 --> 00:25:52.780\nso buying used Cisco\nequipment is really low-risk,\n\n521\n00:25:52.780 --> 00:25:54.850\nbecause there's a lot of other\ncompanies that don't do that, right?\n\n522\n00:25:54.850 --> 00:25:57.440\nTry buying a used copy of\nMicrosoft Windows on eBay and\n\n523\n00:25:57.440 --> 00:25:59.911\nsee where that gets you with Microsoft.\n\n524\n00:25:59.911 --> 00:26:01.901\n[LAUGH] But Cisco,\nthey've got no problems with that.\n\n525\n00:26:01.901 --> 00:26:02.426\nThey'll do it.\n\n526\n00:26:02.426 --> 00:26:06.010\nSo just be aware that you can save a lot\nof money buying used equipment, but\n\n527\n00:26:06.010 --> 00:26:08.520\nit's kind of hard to get the latest and\ngreatest model when you do it that way.\n\n528\n00:26:10.090 --> 00:26:13.380\n>> All right, Don, I think that that\ncovers just about everything under our\n\n529\n00:26:13.380 --> 00:26:17.100\nhardware intro as well as\nthe licensing intro that we have.\n\n530\n00:26:17.100 --> 00:26:18.860\nThat's our show then, for today.\n\n531\n00:26:18.860 --> 00:26:20.580\nWe're glad that you joined us.\n\n532\n00:26:20.580 --> 00:26:22.952\nStay tuned for more Cisco ASA content.\n\n533\n00:26:22.952 --> 00:26:29.100\n[MUSIC]\n\n",
          "vimeoId": "132368341"
        },
        {
          "description": null,
          "length": "759",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-1-2-connecting_via_the_console_cable-070115-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-1-2-connecting_via_the_console_cable-070115-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-1-2-connecting_via_the_console_cable-070115-1-sm.jpg",
          "title": "Connecting via the Console",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:06.243\n[MUSIC]\n\n2\n00:00:08.227 --> 00:00:09.240\nIn this segment,\n\n3\n00:00:09.240 --> 00:00:13.846\nwe're gonna take a look at connecting to\na Cisco ASA through the console itself.\n\n4\n00:00:13.846 --> 00:00:16.426\nWhen we talk about connecting\nthrough the console,\n\n5\n00:00:16.426 --> 00:00:18.955\nwe're connecting directly\nto the device itself.\n\n6\n00:00:18.955 --> 00:00:20.836\nWe don't have to worry\nabout other connections.\n\n7\n00:00:20.836 --> 00:00:23.998\nIt gives us that ability to do all the\nthings that we need to get it initially\n\n8\n00:00:23.998 --> 00:00:27.030\nset up, and also a little bit\nof trouble shooting to do that.\n\n9\n00:00:27.030 --> 00:00:28.480\nBut we need to know how to do it.\n\n10\n00:00:28.480 --> 00:00:30.000\nSo Don, take us through this.\n\n11\n00:00:30.000 --> 00:00:33.277\n>> All right, well, the first question you\nmight ask is why bother using the console?\n\n12\n00:00:33.277 --> 00:00:34.671\n>> [LAUGH]\n>> Right?\n\n13\n00:00:34.671 --> 00:00:37.205\nCan't I just use the web interface or\nwhatever?\n\n14\n00:00:37.205 --> 00:00:40.260\nAnd you're right most of the ASA's\nhave that enabled by default.\n\n15\n00:00:40.260 --> 00:00:43.750\nBut not all of them do, and if somebody\nhas already configured your ASA\n\n16\n00:00:43.750 --> 00:00:45.340\nyou may not be able to connect those ways.\n\n17\n00:00:45.340 --> 00:00:46.810\nSo they might not be available.\n\n18\n00:00:46.810 --> 00:00:51.230\nConnecting via console cable is the only\nmethod that's guaranteed to work.\n\n19\n00:00:51.230 --> 00:00:54.040\nAll the other methods may or\nmay not work, console cable always works.\n\n20\n00:00:54.040 --> 00:00:55.290\nThat's why we need it.\n\n21\n00:00:55.290 --> 00:00:58.793\nOn every Cisco ASA there's a console port.\n\n22\n00:00:58.793 --> 00:01:01.916\nI've got an ASA sitting here on the table\nbeside me, but I've got a picture of it\n\n23\n00:01:01.916 --> 00:01:04.500\nhere on my computer, so\nwe can see it a little bit easier.\n\n24\n00:01:04.500 --> 00:01:07.100\nThis is the ASA that's sitting\non the table beside me, and\n\n25\n00:01:07.100 --> 00:01:10.300\nas you look at the back of it you'll\nsee all your various ports, and\n\n26\n00:01:10.300 --> 00:01:13.620\nyou'll always find a port\nthat's light blue in color.\n\n27\n00:01:13.620 --> 00:01:17.425\nWell, not the port itself, but it will be\nlabeled in light blue and that's the Cisco\n\n28\n00:01:17.425 --> 00:01:23.370\nconsole cable port, and when you buy\nan ASA, it comes with a console cable.\n\n29\n00:01:23.370 --> 00:01:24.799\nAnd the console cable looks,\n\n30\n00:01:24.799 --> 00:01:27.667\nI'm frantically unscrewing\nthis here in the background.\n\n31\n00:01:27.667 --> 00:01:29.296\nIt looks something like this.\n\n32\n00:01:29.296 --> 00:01:31.750\nIt's a light blue cable,\nwhich coincidentally\n\n33\n00:01:31.750 --> 00:01:35.830\nis the same color as that port that\nyou just saw on the back of the ASA.\n\n34\n00:01:35.830 --> 00:01:38.730\nSo it's kinda easy to say this\ncable goes into that port.\n\n35\n00:01:38.730 --> 00:01:42.630\nNow, for the most part,\nthe idea is you plug this into the ASA or\n\n36\n00:01:42.630 --> 00:01:45.610\nthe other end into your computer, and\nyou get connected and you're in business.\n\n37\n00:01:45.610 --> 00:01:47.090\nThere's a little tiny problem.\n\n38\n00:01:47.090 --> 00:01:50.480\nThe biggest problem we have is\nthat one end of the cable is RJ45,\n\n39\n00:01:50.480 --> 00:01:54.180\nit looks like a network jack,\nbut it goes in that console port.\n\n40\n00:01:54.180 --> 00:01:58.410\nThe other end of the cable\nis a nine pin Serial port.\n\n41\n00:01:58.410 --> 00:02:00.725\nNow, Ronnie, did you have any\nserial ports on your laptop?\n\n42\n00:02:00.725 --> 00:02:05.295\n>> I have not had a serial port on\nmy laptop since 2009 I'm gonna say.\n\n43\n00:02:05.295 --> 00:02:07.365\n>> Yeah.\nLaptops ditched serial ports\n\n44\n00:02:07.365 --> 00:02:08.375\na long time ago.\n\n45\n00:02:08.375 --> 00:02:12.185\nEven desktops today, it's pretty\nunusual for them to have a serial port.\n\n46\n00:02:12.185 --> 00:02:13.885\nSo it's not the most\ncommon connector anymore.\n\n47\n00:02:13.885 --> 00:02:16.185\nUsed to be.\nIt used to always have it.\n\n48\n00:02:16.185 --> 00:02:17.085\nMy laptop, my desktop.\n\n49\n00:02:17.085 --> 00:02:18.065\nI always had a serial port.\n\n50\n00:02:18.065 --> 00:02:20.030\nIt was easy to manage Cisco's stuff.\n\n51\n00:02:20.030 --> 00:02:22.510\nBack in 2002, right?\n\n52\n00:02:22.510 --> 00:02:25.120\nBut here we are in 2015 and\nthat doesn't fly anymore.\n\n53\n00:02:25.120 --> 00:02:26.800\nSo we need some way to connect.\n\n54\n00:02:26.800 --> 00:02:29.889\nFortunately, there's a lot\nof options out there for us.\n\n55\n00:02:29.889 --> 00:02:31.030\nI've got Ronnie's adapter here.\n\n56\n00:02:31.030 --> 00:02:33.155\nRonnie and\nI both use these things all the time.\n\n57\n00:02:33.155 --> 00:02:36.905\nThese are little USB to serial adapters.\n\n58\n00:02:36.905 --> 00:02:38.905\nThey've got a USB\nconnection on one side and\n\n59\n00:02:38.905 --> 00:02:41.233\na nine pin serial connector on the other.\n\n60\n00:02:41.233 --> 00:02:44.155\nIf you're gonna be working in the Cisco\nworld connecting console stuff you\n\n61\n00:02:44.155 --> 00:02:46.200\nreally need to get one of these things.\n\n62\n00:02:46.200 --> 00:02:47.920\nThey're not expensive.\n\n63\n00:02:47.920 --> 00:02:50.605\nCisco actually does sell one,\nthey don't market it on their site, but\n\n64\n00:02:50.605 --> 00:02:51.783\nthey charge 75 bucks for it.\n\n65\n00:02:51.783 --> 00:02:54.814\n>> [LAUGH]\n>> Don't pay that, because there's really\n\n66\n00:02:54.814 --> 00:02:58.401\nonly 2 companies in Taiwan that even\nmanufacture these things, so you\n\n67\n00:02:58.401 --> 00:03:02.671\ncan buy them from 30 different brands, but\nit all comes from the same [LAUGH] place.\n\n68\n00:03:02.671 --> 00:03:05.824\nIf we take a look at,\nI'm on Newegg's website, and\n\n69\n00:03:05.824 --> 00:03:10.140\nif you just do a search for\nUSB serial, you'll find a ton of them.\n\n70\n00:03:10.140 --> 00:03:12.400\nThere's two different chipsets out there.\n\n71\n00:03:12.400 --> 00:03:14.570\nOne of chip set is called\nthe prolific chipset, and\n\n72\n00:03:14.570 --> 00:03:17.652\nthat's the one that supported by\neverything, Mac, Windows, Linux,\n\n73\n00:03:17.652 --> 00:03:20.030\neverything, so\nthat's what I usually look for.\n\n74\n00:03:20.030 --> 00:03:22.774\nBut otherwise, you can go through and\njust kind of pick and\n\n75\n00:03:22.774 --> 00:03:24.067\nchoose which one you want.\n\n76\n00:03:24.067 --> 00:03:26.520\nYou'll see they can be as cheap as $10.99.\n\n77\n00:03:26.520 --> 00:03:28.060\nThey're not expensive.\n\n78\n00:03:28.060 --> 00:03:30.115\nYou can find some name brand ones,\nlike Tripp Lite, but\n\n79\n00:03:30.115 --> 00:03:31.980\nTripp Lite wants 30 bucks for theirs.\n\n80\n00:03:31.980 --> 00:03:35.860\nIt doesn't work any better than\nthe ones from the other venders.\n\n81\n00:03:35.860 --> 00:03:38.660\nLike I said, they're all\nmanufactured in the same place.\n\n82\n00:03:38.660 --> 00:03:40.534\nSo pick one of these guys up.\n\n83\n00:03:40.534 --> 00:03:41.950\nThey are really inexpensive.\n\n84\n00:03:41.950 --> 00:03:45.858\nWhen you stick it onto your computer,\nit will just show up as another COM port.\n\n85\n00:03:45.858 --> 00:03:49.420\nI plug this thing in my laptop here,\nI'm gonna plugging in.\n\n86\n00:03:49.420 --> 00:03:53.680\nNow, if you're running Windows 7 or\nhigher, it's got the drivers already in\n\n87\n00:03:53.680 --> 00:03:57.050\nthere and it will pick it up and\nload and it's just done.\n\n88\n00:03:57.050 --> 00:04:01.980\nIf you're running Windows XP or lower,\nif you're running Mac OS, on those guys\n\n89\n00:04:01.980 --> 00:04:04.990\nyou'll have to go and download the driver\nfrom your manufacturer and put it in.\n\n90\n00:04:04.990 --> 00:04:07.090\nBut my system,\nit just added it and it's got it.\n\n91\n00:04:07.090 --> 00:04:09.380\nWell, I just assumed that it's got it.\n\n92\n00:04:09.380 --> 00:04:11.340\nHow do I really know that it's there?\n\n93\n00:04:11.340 --> 00:04:14.437\nWell, what I need to do is\ncheck my device manager,\n\n94\n00:04:14.437 --> 00:04:18.340\nbecause I need to know the COM port\nthat it just assigned to that.\n\n95\n00:04:18.340 --> 00:04:19.081\nAnd we need a COM port,\n\n96\n00:04:19.081 --> 00:04:21.360\nbecause that's our serial port\nthat we're gonna be talking with.\n\n97\n00:04:21.360 --> 00:04:23.783\nAnd so if I come down here to my ports,\n\n98\n00:04:23.783 --> 00:04:27.866\nthere's my\nProlific USB-to-Serial Comm Port (COM3).\n\n99\n00:04:27.866 --> 00:04:31.048\nSo the serial where I just have\nin my computer is Comm Port 3.\n\n100\n00:04:31.048 --> 00:04:33.108\nAnd I'm gonna be connecting to this ASA.\n\n101\n00:04:33.108 --> 00:04:35.860\nSo I'm gonna plug\nthe serial port into that\n\n102\n00:04:35.860 --> 00:04:38.680\nUSB adapter that I had\njust added to my computer.\n\n103\n00:04:38.680 --> 00:04:40.430\nI'll do that right there.\n\n104\n00:04:40.430 --> 00:04:45.015\nAnd then we'll run this other cable\naround and my wonderful assistant,\n\n105\n00:04:45.015 --> 00:04:45.789\nRonnie-\n>> [LAUGH]\n\n106\n00:04:45.789 --> 00:04:47.842\n>> Is going to plug that in, and\n\n107\n00:04:47.842 --> 00:04:48.789\nthere we go.\n\n108\n00:04:48.789 --> 00:04:51.804\nSo now, I'm plugged in, so I'm connected\nto the console, episode's over,\n\n109\n00:04:51.804 --> 00:04:52.420\nright Ronnie?\n\n110\n00:04:52.420 --> 00:04:54.885\n>> Yeah,\nit's pretty much looks like we're done.\n\n111\n00:04:54.885 --> 00:04:56.550\n>> [LAUGH]\n>> But we're not done yet.\n\n112\n00:04:56.550 --> 00:04:58.720\nThe very fact is,\nnot only do we actually need that,\n\n113\n00:04:58.720 --> 00:05:03.380\nwe also need some type of terminal to be\nable to access that console port two.\n\n114\n00:05:03.380 --> 00:05:07.550\n>> Yeah, and the console port that's\nfound on a Cisco router, Cisco firewall,\n\n115\n00:05:07.550 --> 00:05:12.260\naccess point, all the Cisco equipment,\nit's just a standard TTY, a virtual\n\n116\n00:05:12.260 --> 00:05:17.360\nteletype interface that you can send text\nover and get text back on the same way.\n\n117\n00:05:17.360 --> 00:05:20.790\nMaybe you used bulletin board systems\nback in the day, dial-up systems.\n\n118\n00:05:20.790 --> 00:05:22.300\nIt's the same technology.\n\n119\n00:05:22.300 --> 00:05:24.630\nSo we just need software\nthat can talk to that.\n\n120\n00:05:25.650 --> 00:05:28.720\nAnd it really doesn't matter,\nyou can pick whatever software you want.\n\n121\n00:05:28.720 --> 00:05:31.700\nOn the Mac, I like to use\na little program called serial.\n\n122\n00:05:31.700 --> 00:05:33.590\nIt does a really good job with that.\n\n123\n00:05:33.590 --> 00:05:36.290\nOn Windows,\nI usually use a program called PuTTY.\n\n124\n00:05:36.290 --> 00:05:39.840\nPuTTY is free and\nit also does SSH which is kind of nice.\n\n125\n00:05:39.840 --> 00:05:44.130\nI also have another software package\ncalled Royal TS which does terminal server\n\n126\n00:05:44.130 --> 00:05:47.880\nconnections, as well as serial, as well\nas SSH, there's all sorts of things.\n\n127\n00:05:47.880 --> 00:05:52.290\nSo whatever software you like, find it and\nstick with it, in the Linux world you can\n\n128\n00:05:52.290 --> 00:05:55.317\nuse like Minicom right from\nthe command line to connect.\n\n129\n00:05:55.317 --> 00:05:56.610\nOr you can use Screens.\n\n130\n00:05:56.610 --> 00:05:59.110\nThe screens command can actually\nconnect to serial ports too.\n\n131\n00:05:59.110 --> 00:06:01.550\nThere's all sorts of things\nthat you can do out there.\n\n132\n00:06:01.550 --> 00:06:04.168\nBut here on my Windows\nmachine I'm gonna use PuTTY.\n\n133\n00:06:04.168 --> 00:06:06.751\nNow, if you're not familiar with PuTTY,\nit's free software.\n\n134\n00:06:06.751 --> 00:06:10.762\nIf you just do a Google search for\nPuTTY, P-U-T-T-Y.\n\n135\n00:06:10.762 --> 00:06:13.563\nThen you'll find that PuTTY\ndownload page right there.\n\n136\n00:06:13.563 --> 00:06:17.482\nThe page isn't very flashy, but\nthe software sure is, so it does a lot of\n\n137\n00:06:17.482 --> 00:06:22.280\nstuff, and usually you just wanna get\nthis PuTTY 0.64 installer right there.\n\n138\n00:06:22.280 --> 00:06:24.160\nBut you'll see that it's\navailable on Windows.\n\n139\n00:06:24.160 --> 00:06:26.980\nThere's people who've ported it\nover to Linux and to Mac, so\n\n140\n00:06:26.980 --> 00:06:29.700\nit is available there, but usually if\nI'm on one of those other systems,\n\n141\n00:06:29.700 --> 00:06:30.830\nI use different software for it.\n\n142\n00:06:32.660 --> 00:06:36.590\nNow, when you install PuTTY and\nrun it, this is what it looks like.\n\n143\n00:06:36.590 --> 00:06:39.800\nAnd you'll see that PuTTY's\ndefault functionality is SSH,.\n\n144\n00:06:41.130 --> 00:06:43.510\nEventually, I'll have my firewall\nsetup where I can SSH into it,\n\n145\n00:06:43.510 --> 00:06:46.420\nbut right now I need to\nconnect to the console port.\n\n146\n00:06:46.420 --> 00:06:48.950\nSo there's few settings\nthat we need to change.\n\n147\n00:06:48.950 --> 00:06:52.210\nFirst off, I need to tell it that\nI'm connecting via serial port.\n\n148\n00:06:52.210 --> 00:06:53.770\nSo I click on serial.\n\n149\n00:06:53.770 --> 00:06:55.880\nAnd see how it's asking\nme my COM port number?\n\n150\n00:06:55.880 --> 00:06:57.080\nThat's why it was so important for\n\n151\n00:06:57.080 --> 00:07:00.360\nme to go to my device manager, and\nfind that COM port number, earlier.\n\n152\n00:07:00.360 --> 00:07:02.355\nMy USB adapter is COM3.\n\n153\n00:07:04.460 --> 00:07:05.890\nNow the speed.\n\n154\n00:07:05.890 --> 00:07:11.815\nThe default speed for a Cisco router or\nCisco firewall is 9600 baud or\n\n155\n00:07:11.815 --> 00:07:15.230\n9.6 kilobits per second\nthrough that connection.\n\n156\n00:07:15.230 --> 00:07:16.900\nThat's the default.\n\n157\n00:07:16.900 --> 00:07:20.000\nIt's also the default for most fax\nmachines, so it's a pretty common one.\n\n158\n00:07:20.000 --> 00:07:22.100\nAnd PuTTY's using that by default.\n\n159\n00:07:22.100 --> 00:07:23.220\nFor your software though,\n\n160\n00:07:23.220 --> 00:07:25.540\nyou might be using different software\nthat defaults to a different number.\n\n161\n00:07:25.540 --> 00:07:29.030\nSo we need to make sure that's changed to\n9600, so that we'll be able to connect.\n\n162\n00:07:30.060 --> 00:07:33.196\nIt is possible to change\nthe speed inside of the firewall,\n\n163\n00:07:33.196 --> 00:07:34.869\nI encourage you not to do that.\n\n164\n00:07:34.869 --> 00:07:37.308\n9600 is plenty fast enough.\n\n165\n00:07:37.308 --> 00:07:39.780\nAnd everybody knows that's the default.\n\n166\n00:07:39.780 --> 00:07:41.486\nIf you change it to a different speed.\n\n167\n00:07:41.486 --> 00:07:46.269\nMaybe change it to 28.8 kilobits or\nyou go 115.2k,\n\n168\n00:07:46.269 --> 00:07:49.756\nI think that's the fastest that it'll go.\n\n169\n00:07:49.756 --> 00:07:53.252\nIf you set it up to that, it'll work, and\nyou're just drawing text on your screen\n\n170\n00:07:53.252 --> 00:07:55.905\nfaster, and\nyou really can't notice the difference.\n\n171\n00:07:55.905 --> 00:07:58.526\nAnd all you've done is make it harder for\nother people who want to come and connect,\n\n172\n00:07:58.526 --> 00:08:00.105\nnow they gotta figure out\nwhat speed you set it to.\n\n173\n00:08:00.105 --> 00:08:02.704\nSo I really encourage you\nnot to change the speed.\n\n174\n00:08:02.704 --> 00:08:05.674\n9600 is plenty fast.\n\n175\n00:08:05.674 --> 00:08:11.607\nNow, there's a few other settings\nthat PuTTY doesn't show right here.\n\n176\n00:08:11.607 --> 00:08:15.361\nWhen we connect not only do we have to\ntell it the speed that we are running at,\n\n177\n00:08:15.361 --> 00:08:18.220\nbut on a serial line you\nhave a few other things.\n\n178\n00:08:18.220 --> 00:08:21.040\nFor example,\nyou have what are called stop bits.\n\n179\n00:08:21.040 --> 00:08:24.270\nWhen you send a communication you send\na certain amount of bits in one chunk,\n\n180\n00:08:24.270 --> 00:08:27.240\nand then you send a stop bit that\nsends that is the end of that chunk.\n\n181\n00:08:27.240 --> 00:08:29.290\nNow, I'm gonna send the next chunk.\n\n182\n00:08:29.290 --> 00:08:31.780\nSo how often do you send a stop bit?\n\n183\n00:08:32.820 --> 00:08:35.605\nAnd then,\nyou have something called parity.\n\n184\n00:08:35.605 --> 00:08:39.350\nParity can be used to detect\nif there's errors on the line.\n\n185\n00:08:39.350 --> 00:08:42.280\nCuz let's say we're doing\neight bits as our stop.\n\n186\n00:08:42.280 --> 00:08:44.210\nSo we send eight bits and then a stop.\n\n187\n00:08:44.210 --> 00:08:48.080\nIt can take those eight bits and maybe\na little electrical pulse happens and\n\n188\n00:08:48.080 --> 00:08:49.980\na zero gets changed to a one.\n\n189\n00:08:49.980 --> 00:08:51.150\nHow do we know that happened?\n\n190\n00:08:51.150 --> 00:08:53.560\nWell, a parity bit can be\nused to detect that, and\n\n191\n00:08:53.560 --> 00:08:58.270\nso, we need to tell it whether we want\nto do a certain amount of stop bits.\n\n192\n00:08:58.270 --> 00:09:00.110\nA certain amount of parity.\n\n193\n00:09:00.110 --> 00:09:01.670\nAnd what was the third one, Ronnie?\n\n194\n00:09:01.670 --> 00:09:03.770\nThere's one more I'm leaving off.\n\n195\n00:09:03.770 --> 00:09:05.116\n>> Eight and one is what I remember.\n\n196\n00:09:05.116 --> 00:09:06.339\n[LAUGH]\n>> Yeah.\n\n197\n00:09:06.339 --> 00:09:07.313\nFlow control.\n>> Flow control.\n\n198\n00:09:07.313 --> 00:09:08.780\n>> Flow control.\nThat's right.\n\n199\n00:09:08.780 --> 00:09:11.645\nIf we're sending data to the other side,\nand it starts to get overburdened,\n\n200\n00:09:11.645 --> 00:09:14.699\nthe other side needs to reach back to us\nand say, whoa, give me a minute, hang on.\n\n201\n00:09:14.699 --> 00:09:15.704\n>> [LAUGH].\n\n202\n00:09:15.704 --> 00:09:18.356\n>> I need to slow down the flow, right?\n\n203\n00:09:18.356 --> 00:09:19.999\nOr, hey, I got more speed here.\n\n204\n00:09:19.999 --> 00:09:21.114\nLet's increase the flow.\n\n205\n00:09:21.114 --> 00:09:22.403\nLet's move faster.\n\n206\n00:09:22.403 --> 00:09:23.787\nThat's part of flow control.\n\n207\n00:09:23.787 --> 00:09:26.280\nAnd there's several different\nways to do flow control.\n\n208\n00:09:26.280 --> 00:09:29.440\nOn a Cisco ASA,\nflow control is disabled by default.\n\n209\n00:09:29.440 --> 00:09:31.201\nIt's only moving text at 9600.\n\n210\n00:09:31.201 --> 00:09:32.910\nThere's no sense in speeding it up or\nslowing it down.\n\n211\n00:09:32.910 --> 00:09:34.360\nIt just goes at one speed.\n\n212\n00:09:34.360 --> 00:09:37.610\nSo we need to make sure that it\nknows we want eight stop bits,\n\n213\n00:09:37.610 --> 00:09:40.850\nno flow control and one parity bit.\n\n214\n00:09:40.850 --> 00:09:41.890\nEight and one.\n\n215\n00:09:41.890 --> 00:09:44.420\nThat's what we need to tell it,\nso that it's ready to rock.\n\n216\n00:09:44.420 --> 00:09:47.090\nNow, I don't see those options here.\n\n217\n00:09:47.090 --> 00:09:49.590\nOn your software you might\nsee the options right here or\n\n218\n00:09:49.590 --> 00:09:50.850\nyou might see it somewhere else.\n\n219\n00:09:50.850 --> 00:09:54.630\nIn PuTTy it's actually buried way down\nhere under connection in serial, and\n\n220\n00:09:54.630 --> 00:09:59.430\nhere's where we see the speed,\nthe data bits, the stop bits, the parity,\n\n221\n00:09:59.430 --> 00:10:00.150\nthe flow control.\n\n222\n00:10:00.150 --> 00:10:02.040\nThey've actually broken it out\na little bit different here.\n\n223\n00:10:02.040 --> 00:10:05.495\nWe're gonna send eight data bits,\nfollowed by one stop bit.\n\n224\n00:10:05.495 --> 00:10:08.460\nParity is set to none, so\nwe're not doing any parity.\n\n225\n00:10:08.460 --> 00:10:09.350\nAnd then flow control,\n\n226\n00:10:09.350 --> 00:10:13.380\nthey're defaulting to XON/XOFF, we could\nactually set that to none if we wanted.\n\n227\n00:10:13.380 --> 00:10:16.350\nIf we leave it at XON/XOFF,\nthe ASA will just ignore it.\n\n228\n00:10:16.350 --> 00:10:19.547\nSo these default settings, right here,\nare actually good enough for me.\n\n229\n00:10:19.547 --> 00:10:21.101\n8-M-1, that's good.\n\n230\n00:10:21.101 --> 00:10:22.101\nWe'll leave it there.\n\n231\n00:10:22.101 --> 00:10:25.270\nThat's the settings that we\nneed to be able to communicate.\n\n232\n00:10:25.270 --> 00:10:28.374\nThe guy that wrote PuTTY, he knows that\nmost people are using this to connect to\n\n233\n00:10:28.374 --> 00:10:31.610\nequipment like Cisco devices,\nand that's why he defaulted it.\n\n234\n00:10:31.610 --> 00:10:34.820\nIf you're using different software,\nthough, it might not default to this.\n\n235\n00:10:34.820 --> 00:10:37.380\nSo make sure that you mirror\nthese settings, right here.\n\n236\n00:10:39.310 --> 00:10:40.330\nAll right, so I've got that.\n\n237\n00:10:40.330 --> 00:10:41.926\nI should be able to go up to my session.\n\n238\n00:10:41.926 --> 00:10:45.890\nI've got COM3 chosen, I've chosen this\nserial port, I should be able to hit Open,\n\n239\n00:10:45.890 --> 00:10:50.070\nand now I'm connected to the ASA,\nbut I don't see anything.\n\n240\n00:10:50.070 --> 00:10:54.720\nAnd that's because when you connect to\na serial port, you open it and you listen.\n\n241\n00:10:54.720 --> 00:10:57.550\nThe ASA doesn't actually know\nwe're connected right now,\n\n242\n00:10:57.550 --> 00:10:59.520\nyou're really just truly\nconnected to your USB adapter,\n\n243\n00:10:59.520 --> 00:11:03.250\nyou're not actually connected to the ASA\nuntil you send at least one character.\n\n244\n00:11:03.250 --> 00:11:05.860\nSo normally, you need to press\nEnter on your keyboard, and\n\n245\n00:11:05.860 --> 00:11:08.690\nif you get something,\nnow you know you're connected.\n\n246\n00:11:08.690 --> 00:11:13.030\nI'm connected to that ASA, and on\na factory default ASA you'll see exactly\n\n247\n00:11:13.030 --> 00:11:16.710\nwhat I've got right here\nCisco ASA is my host name followed\n\n248\n00:11:16.710 --> 00:11:21.370\nby a greater than sign letting me know I'm\nlogged in as just an unprivileged user.\n\n249\n00:11:21.370 --> 00:11:25.730\nI should be able to enable with no\npasswords the blank password, and\n\n250\n00:11:25.730 --> 00:11:30.150\nnow I'm at the elevated privilege\nprompt of an admin, and\n\n251\n00:11:30.150 --> 00:11:32.210\nI can start to work with this firewall.\n\n252\n00:11:32.210 --> 00:11:33.650\nAnd so here I am, I'm in it.\n\n253\n00:11:33.650 --> 00:11:37.830\nI'm connected and I can start to\ndo whatever it is I need to do.\n\n254\n00:11:38.920 --> 00:11:41.320\nConnected via the console\nnow I can do things.\n\n255\n00:11:41.320 --> 00:11:42.140\nThis is real important,\n\n256\n00:11:42.140 --> 00:11:47.800\nbecause what you find is your firewall\nmight not have any IP addresses.\n\n257\n00:11:47.800 --> 00:11:50.140\nI can see this one does,\nright it had an IP address.\n\n258\n00:11:50.140 --> 00:11:53.010\nSo I could have fired up a web browser and\nbrowsed to it.\n\n259\n00:11:53.010 --> 00:11:54.440\nBut, if I didn't know the address, or\n\n260\n00:11:54.440 --> 00:11:56.210\nif those interfaces were shut down,\nI couldn't.\n\n261\n00:11:56.210 --> 00:11:59.720\nThe console is the only way that I'm\nguaranteed to be able to connect.\n\n262\n00:12:01.960 --> 00:12:05.336\nAll right, Ronnie, I think that's about\nit as far as what I can think of for\n\n263\n00:12:05.336 --> 00:12:07.011\ngetting connected in console port.\n\n264\n00:12:07.011 --> 00:12:08.310\nCan you think of anything\nelse to throw in?\n\n265\n00:12:08.310 --> 00:12:09.410\n>> Not really.\nBut, just remember,\n\n266\n00:12:09.410 --> 00:12:12.010\nthis is one of the important tech\nskills that we need to have.\n\n267\n00:12:12.010 --> 00:12:15.970\nIf you're not familiar with it, take a\nlittle bit of time, find a console cable,\n\n268\n00:12:15.970 --> 00:12:17.960\nget connected to those devices.\n\n269\n00:12:17.960 --> 00:12:19.390\nBe ready that you see and\n\n270\n00:12:19.390 --> 00:12:22.130\nbe all ready to configure what\nyou need to to get connected.\n\n271\n00:12:22.130 --> 00:12:23.878\nIt's a real important skill for\nus to have, and\n\n272\n00:12:23.878 --> 00:12:25.678\nI'm glad that you'll be\nable to see that today.\n\n273\n00:12:25.678 --> 00:12:28.150\nWell that wraps it up for\nour show for today.\n\n274\n00:12:28.150 --> 00:12:32.492\nWe are glad you are with us,\nstay tuned for more Cisco ASA content.\n\n275\n00:12:32.492 --> 00:12:38.739\n[MUSIC]\n\n",
          "vimeoId": "132368340"
        },
        {
          "description": null,
          "length": "575",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-1-3-connecting_via_asdm-070115-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-1-3-connecting_via_asdm-070115-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-1-3-connecting_via_asdm-070115-1-sm.jpg",
          "title": "Connecting via ASDM",
          "transcript": "WEBVTT\n\n1\n00:00:00.487 --> 00:00:05.533\n[SOUND] In this segment,\nwe'll show you how\n\n2\n00:00:05.533 --> 00:00:10.578\nto connect to the Cicso ASA\nusing the ASDM,\n\n3\n00:00:10.578 --> 00:00:15.358\nthe Adaptive Security Device Manager.\n\n4\n00:00:15.358 --> 00:00:19.676\nThe Adaptive Security Device Manager is\na graphical user interface that you and\n\n5\n00:00:19.676 --> 00:00:21.410\nI are gonna connect to.\n\n6\n00:00:21.410 --> 00:00:24.470\nAnd, unlike a router Cisco\nexpects us to use this,\n\n7\n00:00:24.470 --> 00:00:26.520\nrather than the command line interface.\n\n8\n00:00:26.520 --> 00:00:30.750\nBut, that means that we actually have to\nknow what it takes to be able to run.\n\n9\n00:00:30.750 --> 00:00:34.010\nWe also need to know how to\nactually get the ASDM as well.\n\n10\n00:00:34.010 --> 00:00:35.690\nDon, what are we taking a look at here?\n\n11\n00:00:35.690 --> 00:00:38.720\n>> All right, one of the key\nthings to remember is on a router,\n\n12\n00:00:38.720 --> 00:00:40.110\nconfigurations are fairly simple.\n\n13\n00:00:40.110 --> 00:00:42.290\nYou issue one command,\nit performs one action.\n\n14\n00:00:42.290 --> 00:00:45.380\nBut on an ASDM,\nconfigurations are a lot more complex.\n\n15\n00:00:45.380 --> 00:00:48.660\nNormally it takes four or\nfive commands to take a particular action.\n\n16\n00:00:48.660 --> 00:00:53.470\nCisco knows that, they know it makes it\nmore challenging, and ASDM is the way they\n\n17\n00:00:53.470 --> 00:00:56.180\nmake sure the configuration is\ndone as smoothly as possible.\n\n18\n00:00:56.180 --> 00:00:59.645\nYou might be clicking one check box in\nthe ASDM, meanwhile in the background,\n\n19\n00:00:59.645 --> 00:01:01.810\nit's running five different commands for\nyou.\n\n20\n00:01:01.810 --> 00:01:04.491\nSo Cisco encourages you to use the GUI.\n\n21\n00:01:04.491 --> 00:01:05.769\nIt's one of the few times they do that.\n\n22\n00:01:05.769 --> 00:01:07.209\nNormally they love the command line.\n\n23\n00:01:07.209 --> 00:01:09.980\nSo we've gotta be ready to use their ASDM.\n\n24\n00:01:09.980 --> 00:01:13.760\nThe problem here is how Cisco\ndevelops through UI, right.\n\n25\n00:01:13.760 --> 00:01:15.890\nCisco doesn't actually have\na lot of developers on staff.\n\n26\n00:01:15.890 --> 00:01:19.390\nInstead, they outsource it to various\ncompanies across the world, and\n\n27\n00:01:19.390 --> 00:01:21.390\nthey have different teams\nwork on different versions.\n\n28\n00:01:21.390 --> 00:01:23.340\nThat creates a lot of challenges.\n\n29\n00:01:23.340 --> 00:01:28.940\nTo try and make the ASDM as compatible\nas possible, they developed it in Java.\n\n30\n00:01:28.940 --> 00:01:32.571\nSo if we're gonna connect to\nthe web interface of our ASDM,\n\n31\n00:01:32.571 --> 00:01:35.330\nat the beginning we do need a web browser,\nbut\n\n32\n00:01:35.330 --> 00:01:38.758\nat the end of the day all we\nreally is Java on our machine.\n\n33\n00:01:38.758 --> 00:01:40.836\nNow, if you're like me,\nyou absolutely hate Java.\n\n34\n00:01:40.836 --> 00:01:43.525\n>> [LAUGH]\n>> But unfortunately it's the only way\n\n35\n00:01:43.525 --> 00:01:47.460\nthat we can get into the system\nuntil Cisco gives us something new.\n\n36\n00:01:47.460 --> 00:01:48.160\nStep one,\n\n37\n00:01:48.160 --> 00:01:52.390\nif you're gonna connect to the web\ninterface of an ASA, is to install Java.\n\n38\n00:01:52.390 --> 00:01:52.910\nAll right?\n\n39\n00:01:52.910 --> 00:01:56.100\nSo if you haven't already, and if you're\nlike me then you probably haven't,\n\n40\n00:01:56.100 --> 00:02:01.090\nbut if you go to java.com, then you\ncan jump right onto their website and\n\n41\n00:02:01.090 --> 00:02:02.830\nyou can download that installation.\n\n42\n00:02:02.830 --> 00:02:04.500\nSo here I just went to java.com.\n\n43\n00:02:04.500 --> 00:02:07.193\nAnd you'll see you got a nice, big,\nfat download button right there.\n\n44\n00:02:07.193 --> 00:02:10.090\nYou can download Java and\ninstall it it, and, in one fell swoop,\n\n45\n00:02:10.090 --> 00:02:12.000\nweaken the security of your work station.\n\n46\n00:02:12.000 --> 00:02:13.474\n>> [LAUGH]\n>> [LAUGH]\n\n47\n00:02:13.474 --> 00:02:14.275\n>> Why not?\n\n48\n00:02:14.275 --> 00:02:18.117\n>> Be careful with Java, there's a lot\nof well-known exploits out there for it.\n\n49\n00:02:18.117 --> 00:02:20.278\nYou've got to keep it up to date.\n\n50\n00:02:20.278 --> 00:02:21.762\nYou've gotta stay on the latest versions.\n\n51\n00:02:21.762 --> 00:02:24.677\nNow, that's where we get into a bit\nof a challenge with the ASDM.\n\n52\n00:02:24.677 --> 00:02:29.562\nWhen they write the ASDM it's designed for\na specific version of Java and\n\n53\n00:02:29.562 --> 00:02:31.803\nas new versions of Java come out,\n\n54\n00:02:31.803 --> 00:02:36.380\nit can break the ASDM while Cisco\nreleases updates to ASDM too.\n\n55\n00:02:36.380 --> 00:02:40.190\nSo, you've really got to keep your\nfirewall software up to date, so\n\n56\n00:02:40.190 --> 00:02:44.090\nthat you can keep your Java up to date so\nthat your own work stations can stay safe.\n\n57\n00:02:44.090 --> 00:02:46.910\nMore often than not,\nI will create a virtual machine and\n\n58\n00:02:46.910 --> 00:02:50.200\nrun job inside the virtual machine so\nI don't put my own data at risk.\n\n59\n00:02:50.200 --> 00:02:51.515\nIt's up to you how you\nwant to handle that.\n\n60\n00:02:51.515 --> 00:02:55.160\nJust be aware of the inherent\nrisks of having Java, all right.\n\n61\n00:02:55.160 --> 00:02:58.852\nFrom there, we can access our firewall.\n\n62\n00:02:58.852 --> 00:03:02.160\nNow to get the ASDM installed,\nit's pretty easy.\n\n63\n00:03:02.160 --> 00:03:04.972\nAll you have to do is\nfire up a web browser and\n\n64\n00:03:04.972 --> 00:03:08.480\npoint to any ASA that you\nhave one your network.\n\n65\n00:03:08.480 --> 00:03:10.750\nSo I'm gonna point to this one over here.\n\n66\n00:03:10.750 --> 00:03:13.080\nIt is a HTTPS connection.\n\n67\n00:03:13.080 --> 00:03:15.690\nSo I'm just saying https:// and\n\n68\n00:03:15.690 --> 00:03:18.620\nthen the IP address of the ASA\nsitting on the desk behind me.\n\n69\n00:03:18.620 --> 00:03:21.261\nNow see the big red slash I got on https?\n\n70\n00:03:21.261 --> 00:03:24.211\nIt's gonna be using a self\nsign certificate and\n\n71\n00:03:24.211 --> 00:03:26.138\nthat means it's not trusted.\n\n72\n00:03:26.138 --> 00:03:30.700\nIt's a valid certificate it works but\nit's not trusted because it's self signed.\n\n73\n00:03:30.700 --> 00:03:33.760\nSo I can see here the server\ncertificate is not trusted.\n\n74\n00:03:33.760 --> 00:03:37.210\nThat's my problem, and if I look into\nit you might even find other problems.\n\n75\n00:03:37.210 --> 00:03:40.130\nSee how this one is signed\nall the way through 2017.\n\n76\n00:03:40.130 --> 00:03:43.420\nWell, 2017, that's only 2 years from now.\n\n77\n00:03:43.420 --> 00:03:46.340\nSo if I sell this on eBay,\nand then somebody buys it and\n\n78\n00:03:46.340 --> 00:03:49.550\nstarts to use it two years from now,\nthe certificate will be expired also.\n\n79\n00:03:49.550 --> 00:03:52.540\nSo you'll probably see some\ncertificate expirations like that.\n\n80\n00:03:52.540 --> 00:03:55.081\nYou'll need to reissue the cert\non it once you get in and\n\n81\n00:03:55.081 --> 00:03:56.697\nstart working with the firewall.\n\n82\n00:03:56.697 --> 00:04:00.157\nAll right, but when you access it\nyou're gonna see a webpage like this.\n\n83\n00:04:00.157 --> 00:04:03.617\nIt's gonna tell you the version\nof the ASDM that you're running.\n\n84\n00:04:03.617 --> 00:04:07.847\nNow that's different than the version\nof the operating system the firewall's\n\n85\n00:04:07.847 --> 00:04:08.422\nrunning.\n\n86\n00:04:08.422 --> 00:04:12.463\nThis firewall I think is probably running\n8.4 or something in that area, and\n\n87\n00:04:12.463 --> 00:04:14.250\nthe ASDM it's running is 7.2.\n\n88\n00:04:14.250 --> 00:04:16.380\nIt is different, right?\n\n89\n00:04:16.380 --> 00:04:17.140\nExpect to see that.\n\n90\n00:04:17.140 --> 00:04:22.318\nYou might be running ASA Software 9.4,\nbut your ASDM is only 7.45.\n\n91\n00:04:22.318 --> 00:04:26.170\nI think those are actually\nboth the latest of the two.\n\n92\n00:04:26.170 --> 00:04:27.998\nSo the ASDM is a different version.\n\n93\n00:04:27.998 --> 00:04:30.796\nOn that page you've got two options,\nall right?\n\n94\n00:04:30.796 --> 00:04:34.034\nThe bottom option doesn't work\nin the modern versions of Java.\n\n95\n00:04:34.034 --> 00:04:36.348\nSo you can ignore this bottom option.\n\n96\n00:04:36.348 --> 00:04:40.395\nIn Java 7 and earlier you used to\nbe able to click on this link and\n\n97\n00:04:40.395 --> 00:04:43.885\nit would launch the ASDM,\nlive, from the ASA.\n\n98\n00:04:43.885 --> 00:04:46.835\nStarting with Java 8, they've ended\nthat support because there were\n\n99\n00:04:46.835 --> 00:04:50.025\ntoo many security exploits for it, and\nOracle couldn't be bothered to fix it.\n\n100\n00:04:50.025 --> 00:04:53.284\nSo this button for\nmost people is not going to do anything.\n\n101\n00:04:53.284 --> 00:04:59.169\nThe option above, though, installs\nthe ASDM software on your own computer,\n\n102\n00:04:59.169 --> 00:05:04.351\nand if you click on that, it's going\nto try and connect up to the ASA.\n\n103\n00:05:04.351 --> 00:05:06.011\nIf you have a username and\npassword you'll provide it.\n\n104\n00:05:06.011 --> 00:05:08.476\nIf it's a brand new ASA,\nit's got no username and\n\n105\n00:05:08.476 --> 00:05:11.060\npassword you can just hit login on that.\n\n106\n00:05:11.060 --> 00:05:15.450\nAnd it's going to download a file, so here\nit's downloading the DM launcher, right.\n\n107\n00:05:15.450 --> 00:05:17.580\nThat's the device manager launcher.\n\n108\n00:05:17.580 --> 00:05:20.750\nIt's a little java application and\nwhen you run that.\n\n109\n00:05:20.750 --> 00:05:21.960\nIt's a simple install.\n\n110\n00:05:21.960 --> 00:05:24.250\nYou just click next two or\nthree times, right?\n\n111\n00:05:24.250 --> 00:05:28.820\nSo if I save that, and I run it,\nit's gonna launch a simple installer.\n\n112\n00:05:28.820 --> 00:05:31.260\nAnd it's one of those where you\njust hit next a couple times and\n\n113\n00:05:31.260 --> 00:05:32.810\nit's gonna install, all right?\n\n114\n00:05:32.810 --> 00:05:34.550\nNow I've already got it\ninstalled on my machine, so\n\n115\n00:05:34.550 --> 00:05:37.690\nI'm just gonna cancel that\ninstead of reinstalling it.\n\n116\n00:05:37.690 --> 00:05:40.494\nAnd when it's done,\nnow the ASDM is installed.\n\n117\n00:05:40.494 --> 00:05:43.747\nIt will create a desktop icon for\nyou, that guy right there, and\n\n118\n00:05:43.747 --> 00:05:47.494\nit'll add it to your start menu, so\nyou'll see that Cisco ASDM in there.\n\n119\n00:05:47.494 --> 00:05:48.098\nAll right?\n\n120\n00:05:48.098 --> 00:05:51.822\nSo I've got my ASDM and\nwhen I launch it, it's gonna run and\n\n121\n00:05:51.822 --> 00:05:54.518\nI'm gonna get a very simple login screen.\n\n122\n00:05:54.518 --> 00:05:59.300\nIt's gonna ask for the IP address of an\nASA followed by a username and password.\n\n123\n00:05:59.300 --> 00:05:59.858\nAll right?\n\n124\n00:05:59.858 --> 00:06:02.952\nNow if you've connected to several ASAs\nyou'll see them here in the list and you\n\n125\n00:06:02.952 --> 00:06:06.344\ncan pick and choose from all the different\nones that you've available on the network.\n\n126\n00:06:06.344 --> 00:06:09.717\nSo, you don't have to reinstall\nthe ASDM over and over again for\n\n127\n00:06:09.717 --> 00:06:12.288\nall the devices that you\nare going to connect to.\n\n128\n00:06:12.288 --> 00:06:16.800\nI want to connect this one on the desk\nbehind me and it's 192.168.1.1 so\n\n129\n00:06:16.800 --> 00:06:18.093\nI'll punch in that IP.\n\n130\n00:06:18.093 --> 00:06:21.210\nIt's a brand new ASA, so it doesn't\nhave any username or password so\n\n131\n00:06:21.210 --> 00:06:23.468\nI'll just leave those blank and\nI'll go ahead and\n\n132\n00:06:23.468 --> 00:06:25.856\nhit okay and\nit's going to reach out and connect it.\n\n133\n00:06:25.856 --> 00:06:28.782\nNow here's that certificate warning again,\nI'm going to go ahead and\n\n134\n00:06:28.782 --> 00:06:30.697\nhit continue because I\nknow it'll self sign.\n\n135\n00:06:30.697 --> 00:06:32.300\nAnd it's gonna get connected.\n\n136\n00:06:32.300 --> 00:06:32.900\nAll right?\n\n137\n00:06:32.900 --> 00:06:36.870\nNow, it is making a SSL\nconnection on the back end.\n\n138\n00:06:36.870 --> 00:06:41.070\nSo TCP for 443,\nthere's a firewall in-between you and\n\n139\n00:06:41.070 --> 00:06:43.650\nthe ASA, then it might be blocking that.\n\n140\n00:06:43.650 --> 00:06:47.280\nSo be aware that things can block\nthe ASDN from connecting, but\n\n141\n00:06:47.280 --> 00:06:51.610\nonce you connect you'll see\na screen that looks like this.\n\n142\n00:06:51.610 --> 00:06:54.210\nThis is the way the screen\nlooks by default.\n\n143\n00:06:54.210 --> 00:06:55.660\nThere's logging down here that may or\n\n144\n00:06:55.660 --> 00:06:59.600\nmay not be turned off,\nif I hit enable logging now we'll see some\n\n145\n00:06:59.600 --> 00:07:03.575\nCIS log messages start this scroll by\nwhat's going on in the system right now.\n\n146\n00:07:03.575 --> 00:07:08.295\nBut I can see the firewall, how long it's\nbeen online, what model firewall it is and\n\n147\n00:07:08.295 --> 00:07:09.355\nthe other information.\n\n148\n00:07:09.355 --> 00:07:12.195\nI'm connected and I'm in here.\n\n149\n00:07:12.195 --> 00:07:15.015\nSo getting connected to\na single ASA is pretty easy.\n\n150\n00:07:15.015 --> 00:07:16.685\nWhat if you have to\nsupport more than one ASA?\n\n151\n00:07:16.685 --> 00:07:19.250\nWell that's not that hard either.\n\n152\n00:07:19.250 --> 00:07:23.760\nIf you go up to your view screen, you'll\nsee there's an option for device list, and\n\n153\n00:07:23.760 --> 00:07:28.710\nyou can turn on your device list and you\ncan add in all the ASA in your company.\n\n154\n00:07:28.710 --> 00:07:31.320\nSo, if you've got five ASAs,\nyou can add them all in here.\n\n155\n00:07:31.320 --> 00:07:34.350\nThe cool part is if I want to switch\nfrom this ASA to another one,\n\n156\n00:07:34.350 --> 00:07:36.340\nI just choose the other one I want.\n\n157\n00:07:36.340 --> 00:07:38.470\nAnd hit connect, and\nnow it's gonna jump over,\n\n158\n00:07:38.470 --> 00:07:40.510\nand it's telling me I have\nunsaved changes on this one.\n\n159\n00:07:40.510 --> 00:07:43.264\nI don't know what those changes are,\nso I'll say don't save.\n\n160\n00:07:43.264 --> 00:07:45.492\nAnd I'm gonna jump over to my other ASA.\n\n161\n00:07:45.492 --> 00:07:48.907\nI have to provide my username and\npassword, and then it's gonna connect up,\n\n162\n00:07:48.907 --> 00:07:50.465\nand, oh, did I shut that one off?\n\n163\n00:07:50.465 --> 00:07:52.610\n[LAUGH] I must have\nshut that firewall off.\n\n164\n00:07:52.610 --> 00:07:53.500\nSo it'll connect,\n\n165\n00:07:53.500 --> 00:07:58.890\nthough, and you can easily flip in between\nthem without having to relaunch the ASDM.\n\n166\n00:07:58.890 --> 00:08:04.920\nBut be aware that when I ran this ASDM,\nI was running ASDM 7.2.\n\n167\n00:08:04.920 --> 00:08:09.125\nThat's what I installed from\nRonnie's firewall over here.\n\n168\n00:08:09.125 --> 00:08:15.051\nIf I'm connecting to a newer ASA, one\nthat's running the ASA Operating System\n\n169\n00:08:15.051 --> 00:08:19.575\n9.4, well,\n7.2 might not be able to connect on that.\n\n170\n00:08:19.575 --> 00:08:22.001\nI might need to install\nfrom the newer one.\n\n171\n00:08:22.001 --> 00:08:27.440\nYou can connect a newer ASDM\nto an older operating system,\n\n172\n00:08:27.440 --> 00:08:33.553\nbut you can't connect an older\nASDM to a newer operating system.\n\n173\n00:08:33.553 --> 00:08:37.691\nSo it benefits you to always have the\nlatest and greatest ASDM on your laptop\n\n174\n00:08:37.691 --> 00:08:41.517\nregardless of whether your firewall's\nrunning a newer or older OS.\n\n175\n00:08:41.517 --> 00:08:45.215\nAnd you want to do that anyway, because\nthe newer ASDMs support the newer versions\n\n176\n00:08:45.215 --> 00:08:48.859\nof Java, so that allows you to update Java\nand make sure you've got the latest and\n\n177\n00:08:48.859 --> 00:08:50.160\ngreatest there.\n\n178\n00:08:50.160 --> 00:08:51.440\nAnd you're running the ASDM and\n\n179\n00:08:51.440 --> 00:08:54.980\nyou're able to manage all of your\nASAs regardless of their OS.\n\n180\n00:08:54.980 --> 00:08:58.160\nAll right, but\nonce you're connected, you're in.\n\n181\n00:08:58.160 --> 00:08:58.800\nYou work with it.\n\n182\n00:08:58.800 --> 00:09:02.550\nYou're done and at the end of\nthe day you just close it down.\n\n183\n00:09:02.550 --> 00:09:04.833\nSave any unsaved changes you might have,\nand that's that.\n\n184\n00:09:04.833 --> 00:09:08.362\nSo getting connected with ASDM,\nnot really a big deal, is it Ronnie?\n\n185\n00:09:08.362 --> 00:09:11.902\n>> It's not really a big deal at all, it\njust requires a little bit of knowledge.\n\n186\n00:09:11.902 --> 00:09:14.810\nMake sure you have the proper\nversion of Java and\n\n187\n00:09:14.810 --> 00:09:17.700\nbe able to connect to that ASA directly.\n\n188\n00:09:17.700 --> 00:09:21.730\nOnce you get there, you're now actually\nable to begin the configuration.\n\n189\n00:09:21.730 --> 00:09:23.530\nWell that's our show for now.\n\n190\n00:09:23.530 --> 00:09:26.940\nWe do appreciate you joining us today,\nand watching us today.\n\n191\n00:09:26.940 --> 00:09:29.495\nPlease stay tuned for\nmore Cisco ASA content.\n\n192\n00:09:29.495 --> 00:09:35.344\n[SOUND]\n\n",
          "vimeoId": "132368351"
        },
        {
          "description": null,
          "length": "688",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-1-4-connecting_via_ssh-070115-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-1-4-connecting_via_ssh-070115-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-1-4-connecting_via_ssh-070115-1-sm.jpg",
          "title": "Connecting via SSH",
          "transcript": "WEBVTT\n\n1\n00:00:00.025 --> 00:00:04.109\n[SOUND] In this segment,\n\n2\n00:00:04.109 --> 00:00:09.214\nwe wanna show you to connect to\n\n3\n00:00:09.214 --> 00:00:13.921\nthe Cisco ASA through SSH.\n\n4\n00:00:13.921 --> 00:00:16.218\nWhen we talk about connecting using SSH,\nwell,\n\n5\n00:00:16.218 --> 00:00:20.700\nthe reason why we wanna do that is because\nwe wanna connect from the network itself.\n\n6\n00:00:20.700 --> 00:00:23.980\nI can plug a console cable\ndirectly into the ASA But\n\n7\n00:00:23.980 --> 00:00:27.960\nthat only limits me because I can\nonly go as far as that cable will go.\n\n8\n00:00:27.960 --> 00:00:31.220\nBut the Cisco ASA itself gives\nyou the ability to connect to it\n\n9\n00:00:31.220 --> 00:00:32.780\nfrom across the network.\n\n10\n00:00:32.780 --> 00:00:36.480\nNow Don, if I wanna connect to this device\nI should just use Telnet, and we're done.\n\n11\n00:00:36.480 --> 00:00:37.495\nWhat else do I need?\n\n12\n00:00:37.495 --> 00:00:41.590\n>> [LAUGH]\n>> You used to be able to use that but\n\n13\n00:00:41.590 --> 00:00:45.440\nit's unsecure, sends everything in plain\ntext, so ASAs don't support that anymore.\n\n14\n00:00:45.440 --> 00:00:48.080\nRemember, we had a three main\nconnectivity method: we have the ASDM,\n\n15\n00:00:48.080 --> 00:00:51.050\nwe have the console cable,\nand we have good old SSH.\n\n16\n00:00:52.130 --> 00:00:56.740\nCisco wants you to use the ASDM,\nso why would you use SSH?\n\n17\n00:00:56.740 --> 00:00:59.570\n>> Well there's times when you have\na whole script of commands that you wanna\n\n18\n00:00:59.570 --> 00:01:00.730\nrun in batch.\n\n19\n00:01:00.730 --> 00:01:03.940\nYou can do that from the ASDM, but\nyou can do it from the shell also,\n\n20\n00:01:03.940 --> 00:01:05.120\nwith secure shell or SSH.\n\n21\n00:01:05.120 --> 00:01:10.020\nThe other thing is, you might have a\nproblem when ASDM is not working for you.\n\n22\n00:01:10.020 --> 00:01:14.360\nMaybe you're on a workstation that doesn't\nhave Java or maybe the ASDM just isn't\n\n23\n00:01:14.360 --> 00:01:18.300\nlaunching for some reason and\nyou need to update the ASDM or replace it.\n\n24\n00:01:18.300 --> 00:01:20.520\nYou can use SSH to do that, all right?\n\n25\n00:01:20.520 --> 00:01:23.060\nSo there's a couple reasons\nwhy I might do it but\n\n26\n00:01:23.060 --> 00:01:24.980\nlet's see what it takes to get that setup.\n\n27\n00:01:24.980 --> 00:01:29.440\nNow, we have a couple of challenges\nwith getting SSH setup on a new ASDM.\n\n28\n00:01:29.440 --> 00:01:33.770\nThe main one is on a brand new Cisco ASA,\n\n29\n00:01:33.770 --> 00:01:36.850\nthe ASDM uses a username and\npassword of nothing.\n\n30\n00:01:36.850 --> 00:01:38.990\nThere's no username, no password.\n\n31\n00:01:38.990 --> 00:01:42.520\nSSH requires a username and a password, so\n\n32\n00:01:42.520 --> 00:01:45.380\nwe have to do a little setup\nbefore SSH is functional.\n\n33\n00:01:45.380 --> 00:01:48.730\nAnd you can do this from the console\ncable, but it's easier from the ASDM.\n\n34\n00:01:48.730 --> 00:01:49.850\nSo let me show you.\n\n35\n00:01:49.850 --> 00:01:51.320\nI'm connected to Ronnie's firewall here.\n\n36\n00:01:51.320 --> 00:01:56.210\nIt's a brand-new ASA that has no real\ncustom configuration on it whatsoever.\n\n37\n00:01:56.210 --> 00:02:00.100\nAnd that means if I try an SSH into it,\nit's not gonna work.\n\n38\n00:02:00.100 --> 00:02:00.730\nAll right?\n\n39\n00:02:00.730 --> 00:02:04.440\nSo I need to come in here and\ngo into this Configuration and\n\n40\n00:02:04.440 --> 00:02:06.940\ngo down here to Device Management.\n\n41\n00:02:06.940 --> 00:02:09.880\nAnd go up to my Users.\n\n42\n00:02:09.880 --> 00:02:12.930\nSo we've got Users/AAA right here.\n\n43\n00:02:12.930 --> 00:02:15.980\nAnd I can view a list of the user\naccounts that are in the system.\n\n44\n00:02:15.980 --> 00:02:19.640\nNow there's one user by\ndefault called enable_15.\n\n45\n00:02:19.640 --> 00:02:23.830\nThat means somebody's already\naccessed the console and\n\n46\n00:02:23.830 --> 00:02:27.550\nthey typed enable and here we can prompt\nthem for an enable password, right?\n\n47\n00:02:27.550 --> 00:02:29.200\nThere's none set here by default.\n\n48\n00:02:29.200 --> 00:02:31.640\nJust for security purposes,\nwe probably want to set a password.\n\n49\n00:02:31.640 --> 00:02:33.230\nWe'll see that in another episode.\n\n50\n00:02:33.230 --> 00:02:36.630\nBut for me to be able to SSH in,\nI need to create a new user account.\n\n51\n00:02:36.630 --> 00:02:39.200\nA user that actually has a real username.\n\n52\n00:02:39.200 --> 00:02:41.380\nSo I'm going to hit Add, and\nI'm going to creat a user.\n\n53\n00:02:41.380 --> 00:02:44.140\nAnd I can call it whatever I want,\nI'll call mine admin.\n\n54\n00:02:44.140 --> 00:02:47.670\nAnd I'll provide a password for\nthat user, and so\n\n55\n00:02:47.670 --> 00:02:50.675\nI'll just punch something in\nthat's not secure at all.\n\n56\n00:02:50.675 --> 00:02:51.700\n>> [LAUGH]\n>> Then\n\n57\n00:02:51.700 --> 00:02:53.840\nwe pick what access we want to have.\n\n58\n00:02:53.840 --> 00:02:55.440\nWell, if this is gonna\nbe the administrator,\n\n59\n00:02:55.440 --> 00:02:56.550\nI want them to have everything.\n\n60\n00:02:56.550 --> 00:02:57.490\nFull access.\n\n61\n00:02:57.490 --> 00:03:00.340\nASDM, SSH, Telnet, and console.\n\n62\n00:03:00.340 --> 00:03:05.740\nBut, you can limit it to just SSH or\njust nothing down here.\n\n63\n00:03:05.740 --> 00:03:07.070\nNo access what so ever.\n\n64\n00:03:07.070 --> 00:03:09.800\nThat'll be if it was just a regular user,\nbut I want it to be an admin.\n\n65\n00:03:09.800 --> 00:03:12.870\nI get the full access and\nI need to set the privilege level.\n\n66\n00:03:12.870 --> 00:03:15.000\nAn administrator has\na privilege level of 15.\n\n67\n00:03:15.000 --> 00:03:17.500\nSo I'm gonna bump that all the way up.\n\n68\n00:03:17.500 --> 00:03:21.980\nTo 15, so now I'll be able to SSH in,\nlog in with this username,\n\n69\n00:03:21.980 --> 00:03:24.840\nlog in with this password,\nand get connected.\n\n70\n00:03:24.840 --> 00:03:29.360\nAll right, now when I say okay to that,\nyou'd think you're done, but\n\n71\n00:03:29.360 --> 00:03:31.100\nthere's actually a little\nbit more that we have to do.\n\n72\n00:03:31.100 --> 00:03:32.740\nThere's two things we\nneed to double-check.\n\n73\n00:03:32.740 --> 00:03:34.709\nI'm gonna go ahead and hit Apply\nthere just to make sure it saves it.\n\n74\n00:03:35.830 --> 00:03:39.850\nThe first thing you need to check is\nwhether the ASDP is even going to look at\n\n75\n00:03:39.850 --> 00:03:42.100\nits vocal user database to authenticate.\n\n76\n00:03:42.100 --> 00:03:48.080\nOn the left side here you've got things\nlike triple A settings, triple A access.\n\n77\n00:03:48.080 --> 00:03:53.550\nWhen somebody goes to log-in, where\ndoes it find the username and password?\n\n78\n00:03:53.550 --> 00:03:57.580\nWith triple A, the username and password\ncan be looked up against an LDAP server,\n\n79\n00:03:57.580 --> 00:04:01.410\na radius server, attack ax server, or\n\n80\n00:04:01.410 --> 00:04:03.500\nit can be looked up against\nthe local database.\n\n81\n00:04:03.500 --> 00:04:05.180\nAnd the local database is the default.\n\n82\n00:04:05.180 --> 00:04:07.400\nI kind of see it down the line here,\nright?\n\n83\n00:04:07.400 --> 00:04:10.750\nWe need to double check this SSH setting\nand make sure that it's set to local.\n\n84\n00:04:10.750 --> 00:04:12.800\nThat tells it to use\nthe local user database.\n\n85\n00:04:12.800 --> 00:04:17.400\nIf it's set to something else, then I\nneed to go create the user account there,\n\n86\n00:04:17.400 --> 00:04:18.330\nnot here.\n\n87\n00:04:18.330 --> 00:04:20.450\nAnd the default is local, but\n\n88\n00:04:20.450 --> 00:04:22.820\nyou could even run down the line here and\ncheck all these off.\n\n89\n00:04:22.820 --> 00:04:26.980\nJust say, let's make sure it's using\nthe local database by default.\n\n90\n00:04:26.980 --> 00:04:28.330\nSame thing goes for authorization.\n\n91\n00:04:28.330 --> 00:04:30.320\nWhen somebody authorizes.\n\n92\n00:04:30.320 --> 00:04:32.770\nWhen you authenticate you're proving\nyou are who you say you are.\n\n93\n00:04:32.770 --> 00:04:36.640\nWhen you get authorized you're showing\nwhat commands you're authorized to run.\n\n94\n00:04:36.640 --> 00:04:40.850\nAnd if we set it to local it's gonna\nsee that I'm privilege level 15 and\n\n95\n00:04:40.850 --> 00:04:43.170\nthat means I'm authorized\nto run whatever I want.\n\n96\n00:04:43.170 --> 00:04:46.610\nBut we need to make sure that's set to\nlocal if we define the user account\n\n97\n00:04:46.610 --> 00:04:48.480\nhere in the local user database.\n\n98\n00:04:48.480 --> 00:04:49.180\nAll right.\n\n99\n00:04:49.180 --> 00:04:51.030\nI'm gonna leave accounting alone,\n\n100\n00:04:51.030 --> 00:04:54.720\nbecause with accounting,\nwe're not using it by default.\n\n101\n00:04:54.720 --> 00:04:56.380\nThat's just keeping\na record of what people do.\n\n102\n00:04:57.640 --> 00:05:00.460\nSo I just made sure I was set to that\nlocal user data so I'll apply that,\n\n103\n00:05:00.460 --> 00:05:02.000\nand then there's one more thing.\n\n104\n00:05:03.170 --> 00:05:06.730\nFor whatever reason, Cisco knows\nthat you're gonna be using SSH, but\n\n105\n00:05:06.730 --> 00:05:08.970\nthey don't provide a default\ncertificate for it.\n\n106\n00:05:08.970 --> 00:05:10.790\nSo there's no certificate in place.\n\n107\n00:05:10.790 --> 00:05:12.010\nThat means we can't do encryption.\n\n108\n00:05:12.010 --> 00:05:13.680\nThat means SSH won't connect.\n\n109\n00:05:13.680 --> 00:05:16.980\nSo we need to double-check that and\nthere's two steps for this.\n\n110\n00:05:16.980 --> 00:05:20.770\nIf you go to Certificate Management,\nunder Identity Certificates,\n\n111\n00:05:20.770 --> 00:05:22.360\nsee how I don't have one?\n\n112\n00:05:22.360 --> 00:05:24.240\nWell, I need to issue a certificate.\n\n113\n00:05:24.240 --> 00:05:26.730\nAnd we can just do\na self-signed one if we want.\n\n114\n00:05:26.730 --> 00:05:30.830\nExcept, to do a self-sign we need a CA,\nand under CA certificates,\n\n115\n00:05:30.830 --> 00:05:33.310\nI don't have any of those either.\n\n116\n00:05:33.310 --> 00:05:38.160\nSo I need to generate a CA cert,\nand to generate a identity cert, so\n\n117\n00:05:38.160 --> 00:05:39.540\nI can use those for SSH right.\n\n118\n00:05:39.540 --> 00:05:43.260\nSo I'm going to start here under\nthe CA cert and I'll just hit add.\n\n119\n00:05:43.260 --> 00:05:45.990\nAnd it's going to create a trust point.\n\n120\n00:05:45.990 --> 00:05:48.090\nAnd we can provide that certificate.\n\n121\n00:05:48.090 --> 00:05:51.730\nNotice that it's expecting me to\nprovide them with a certificate.\n\n122\n00:05:51.730 --> 00:05:55.460\nIf you go to more options though you'll\nsee here where you can specify additional\n\n123\n00:05:55.460 --> 00:05:58.210\nsettings as far as who you're\npulling in as your CA.\n\n124\n00:05:58.210 --> 00:06:01.830\nAnd under Advanced, you can kinda\ntweak that a little bit more.\n\n125\n00:06:01.830 --> 00:06:05.760\nThe only problem here is these are all\nexpecting me to have some other CA\n\n126\n00:06:05.760 --> 00:06:07.730\nthat's out there, right?\n\n127\n00:06:07.730 --> 00:06:10.240\nIf I have one, that's where I need\nto issue my certificate from.\n\n128\n00:06:10.240 --> 00:06:12.860\nSo I put in my company's CA information.\n\n129\n00:06:12.860 --> 00:06:14.200\nAnd go from there.\n\n130\n00:06:14.200 --> 00:06:15.750\nBut what if I don't have one?\n\n131\n00:06:15.750 --> 00:06:20.410\nIf I don't have a company CA available for\nme, what can I do?\n\n132\n00:06:20.410 --> 00:06:24.090\nWell, you can actually ignore this,\njump over to identity certificates and\n\n133\n00:06:24.090 --> 00:06:26.020\ngenerate a new self-signed cert, and\n\n134\n00:06:26.020 --> 00:06:30.680\nit will create a CA cert for us and\nuse that as part of that issuance.\n\n135\n00:06:30.680 --> 00:06:35.440\nSo we'll click on add and now see how\nit's creating that trust point again and\n\n136\n00:06:35.440 --> 00:06:38.900\nI can import a certificate or\nI can add a new identity certificate,\n\n137\n00:06:38.900 --> 00:06:40.000\nwhich is what I want.\n\n138\n00:06:40.000 --> 00:06:42.980\nAnd see how I can generate that\nself sign cert right here?\n\n139\n00:06:42.980 --> 00:06:44.080\nSo, it's going to let me do that.\n\n140\n00:06:44.080 --> 00:06:48.240\nI'll sign it, and you've got act\nas local certificate authority and\n\n141\n00:06:48.240 --> 00:06:50.840\nissue dynamic certificates to TLS-Proxy.\n\n142\n00:06:50.840 --> 00:06:54.900\nSo, if you want, you can turn that on and\nnow you're gonna act as your own CA.\n\n143\n00:06:54.900 --> 00:06:57.305\nThis is good if you just\nhave one firewall and\n\n144\n00:06:57.305 --> 00:07:00.905\nyou don't want to set up a whole PKI,\npublic key infrastructure.\n\n145\n00:07:00.905 --> 00:07:03.445\nBut in an enterprise environment you\nprobably have a certificate server,\n\n146\n00:07:03.445 --> 00:07:04.895\nwe should be issuing it from there.\n\n147\n00:07:04.895 --> 00:07:07.635\nBut just to get connected with\nSSH I'm gonna go ahead and do this.\n\n148\n00:07:07.635 --> 00:07:08.815\nI'll leave it at the defaults here.\n\n149\n00:07:08.815 --> 00:07:10.950\nI'm gonna generate\na default key pair type.\n\n150\n00:07:10.950 --> 00:07:12.970\nAnd leave it with that default DN.\n\n151\n00:07:12.970 --> 00:07:15.700\nYou know, the designated name.\n\n152\n00:07:15.700 --> 00:07:18.210\nAll right, so\nit's gonna go ahead and create that.\n\n153\n00:07:18.210 --> 00:07:21.990\nI see enrollment succeeded, and\nnow I've got a certificate available.\n\n154\n00:07:21.990 --> 00:07:22.960\nAll right?\n\n155\n00:07:22.960 --> 00:07:26.190\nAnd if I take a look at CA certificates,\nI don't see anything there.\n\n156\n00:07:26.190 --> 00:07:30.650\nBut, that's funny cuz it's actually\ncreated its own internal CA to use and\n\n157\n00:07:30.650 --> 00:07:32.530\nit's issued this certificate app.\n\n158\n00:07:32.530 --> 00:07:34.870\nSo, at this point,\nI actually should be good.\n\n159\n00:07:34.870 --> 00:07:36.580\nI should be able to use SSH.\n\n160\n00:07:36.580 --> 00:07:37.740\nYou know what?\nI'm using my\n\n161\n00:07:37.740 --> 00:07:39.005\nIT operative command here of should.\n\n162\n00:07:39.005 --> 00:07:41.750\n>> [LAUGH]\n>> There's a few other things that could\n\n163\n00:07:41.750 --> 00:07:44.170\nget into the way that I\nwanna double check first.\n\n164\n00:07:44.170 --> 00:07:47.740\nFor example,\nam I even allowed to connect with SSH?\n\n165\n00:07:47.740 --> 00:07:52.150\nOver here on the left side you've got\nManagement Access and under Management.\n\n166\n00:07:52.150 --> 00:07:54.860\nJudgment access you've got aspm.\n\n167\n00:07:54.860 --> 00:07:56.620\nHttps telling that in ssh.\n\n168\n00:07:56.620 --> 00:08:01.330\nHere's where we dictate who's allowed to\nconnect as far as what network you're on.\n\n169\n00:08:01.330 --> 00:08:02.740\nAnd notice my default.\n\n170\n00:08:02.740 --> 00:08:06.605\nMy default is that on the inside\nnetwork anybody with an IP\n\n171\n00:08:06.605 --> 00:08:10.845\naddress in 192.168.1.0 can connect via\nASDM and HTTPS, can they connect via SSH?\n\n172\n00:08:10.845 --> 00:08:11.615\nNo.\n\n173\n00:08:11.615 --> 00:08:17.955\nSo, even though everything's set up,\nI still won't be able to connect SSH.\n\n174\n00:08:17.955 --> 00:08:23.275\nI need to add that in and specify where\nthis user's going to be coming from.\n\n175\n00:08:23.275 --> 00:08:26.480\nSo, I'll say SSH,\nI'm on the inside network.\n\n176\n00:08:26.480 --> 00:08:29.060\nAnd maybe I'll wanna clear\nthe whole network, or\n\n177\n00:08:29.060 --> 00:08:30.890\nmaybe I'll just wanna\nclear a particular host.\n\n178\n00:08:30.890 --> 00:08:33.750\nI can put in that individual IP I'll\nclear the whole network for mine.\n\n179\n00:08:34.980 --> 00:08:38.700\nAnd so now I'm able to connect\nwith SSH and the ASDM.\n\n180\n00:08:38.700 --> 00:08:41.450\nI can connect with either one and\nwe're good to go.\n\n181\n00:08:41.450 --> 00:08:42.910\nDown here I can set my versions.\n\n182\n00:08:42.910 --> 00:08:45.490\nI'm set for SSH version one and two.\n\n183\n00:08:45.490 --> 00:08:47.980\nAs today's version one is no\nlonger considered secure, so\n\n184\n00:08:47.980 --> 00:08:49.874\nyou might want to lock that onto 2.\n\n185\n00:08:49.874 --> 00:08:52.660\nI'll leave mine for right now.\n\n186\n00:08:52.660 --> 00:08:55.310\nAlright, I'm gonna go ahead and\napply that, now.\n\n187\n00:08:55.310 --> 00:08:56.700\nI should be able to connect.\n\n188\n00:08:56.700 --> 00:08:59.600\nI'll go ahead and say that, I'm still\ngonna say should, [LAUGH] barring any\n\n189\n00:08:59.600 --> 00:09:02.130\nfirewalls rules or craziness there,\nI should be able to connect,\n\n190\n00:09:02.130 --> 00:09:05.070\nthis is a brand new firewall,\nthat should be all I need.\n\n191\n00:09:05.070 --> 00:09:07.430\nSo now you just fire up\nyour favorite SSH client.\n\n192\n00:09:07.430 --> 00:09:11.990\nI'll fire up putty, and I'll put in\nthe IP address for that firewall.\n\n193\n00:09:11.990 --> 00:09:15.030\nI'm gonna choose SSH, and\nI'm gonna go to connect.\n\n194\n00:09:15.030 --> 00:09:17.800\nSince this is the first\ntime I'm connecting,\n\n195\n00:09:17.800 --> 00:09:22.060\nit's seeing that new certificate and\nasking if I trust it, I'll say yes.\n\n196\n00:09:22.060 --> 00:09:24.880\nAnd now it's asking for\na user name and password.\n\n197\n00:09:24.880 --> 00:09:28.990\nI created the username called admin,\nand have I forgotten the password?\n\n198\n00:09:28.990 --> 00:09:29.820\nNope, there we go.\n\n199\n00:09:29.820 --> 00:09:33.360\nBeen awhile so,\nI provided the user name and password.\n\n200\n00:09:33.360 --> 00:09:34.660\nAnd now I'm logged in.\n\n201\n00:09:34.660 --> 00:09:39.560\nAnd if I enable and provide whatever that\npassword happens to be I can get in and\n\n202\n00:09:39.560 --> 00:09:41.120\nnow I can start to work.\n\n203\n00:09:41.120 --> 00:09:42.600\nWith that firewall.\n\n204\n00:09:42.600 --> 00:09:43.910\nI can access its files.\n\n205\n00:09:43.910 --> 00:09:46.700\nI can pull up its running configuration.\n\n206\n00:09:46.700 --> 00:09:47.960\nWe can start to look at things there,\n\n207\n00:09:47.960 --> 00:09:51.260\nand I can work with it\nright here from the CLI.\n\n208\n00:09:51.260 --> 00:09:55.340\nSo from here, if ASDM is damaged,\nI can fix it, and so on.\n\n209\n00:09:55.340 --> 00:09:58.380\nNow the biggest lesson I want\nyou to take away from this\n\n210\n00:09:58.380 --> 00:10:01.450\nis how did I get all that\nset up from the ASDM?\n\n211\n00:10:01.450 --> 00:10:03.500\nAnd there was a lot to do, right?\n\n212\n00:10:03.500 --> 00:10:05.980\nIf I'm worried about the ASDM breaking\n\n213\n00:10:05.980 --> 00:10:08.580\nam I gonna be able to set\nup SSH after the fact?\n\n214\n00:10:08.580 --> 00:10:11.440\nWell you can, but you're gonna do it\nfrom the console port, right, and\n\n215\n00:10:11.440 --> 00:10:12.570\nit's a lot of work.\n\n216\n00:10:12.570 --> 00:10:15.380\nSo even if you're not gonna\nuse SSH on a regular basis,\n\n217\n00:10:15.380 --> 00:10:18.590\nit's a good idea to go ahead and\nget it set up now, so\n\n218\n00:10:18.590 --> 00:10:23.190\nwhen you need, it it's already available,\nright, don't wait until there's a problem.\n\n219\n00:10:23.190 --> 00:10:26.520\nIt did take a few steps, right, let's\nsee if I can recap all the things I did.\n\n220\n00:10:26.520 --> 00:10:28.260\nI created a user name and password.\n\n221\n00:10:28.260 --> 00:10:30.140\nAnd I said it's a privilege level 15.\n\n222\n00:10:30.140 --> 00:10:33.570\nI double-checked my triple A\nauthentication to make sure I was using my\n\n223\n00:10:33.570 --> 00:10:36.630\nlocal user database,\nsince that's where I made the user.\n\n224\n00:10:36.630 --> 00:10:40.770\nThen I created the certificate so that\nthe system would be able to encrypt and\n\n225\n00:10:40.770 --> 00:10:43.300\ndecrypt, right,\nyou've gotta have a private key somewhere.\n\n226\n00:10:43.300 --> 00:10:48.320\nLastly, we went through an approved\nSSH traffic through my network\n\n227\n00:10:48.320 --> 00:10:50.910\nto be able to connect in and\naccess the firewall.\n\n228\n00:10:50.910 --> 00:10:55.260\nAnd when I had done those four things,\nthen SSH was enabled and\n\n229\n00:10:55.260 --> 00:10:56.340\nI was able to connect.\n\n230\n00:10:56.340 --> 00:10:58.600\nRight?\nYou miss anyone of those four things and\n\n231\n00:10:58.600 --> 00:11:02.090\nit's not gonna work and\nyou're not gonna be able to get in.\n\n232\n00:11:02.090 --> 00:11:02.910\nAll right.\nBut otherwise,\n\n233\n00:11:02.910 --> 00:11:04.080\nI think that's really about it.\n\n234\n00:11:04.080 --> 00:11:05.510\nOnce you're in with SSH,\nyou're in business.\n\n235\n00:11:05.510 --> 00:11:07.380\nYou can create more user\naccounts to connect,\n\n236\n00:11:07.380 --> 00:11:09.750\nyou can limit the networks\nthat are allowed to connect.\n\n237\n00:11:09.750 --> 00:11:13.350\nYou can flip it over to version two only,\nversus version one and two.\n\n238\n00:11:13.350 --> 00:11:16.450\nThere's a ton of stuff that you\ncan customize to meet the needs\n\n239\n00:11:16.450 --> 00:11:17.010\nof your environment.\n\n240\n00:11:17.010 --> 00:11:19.200\n>> Well, that's our show for now.\n\n241\n00:11:19.200 --> 00:11:20.330\nThank you for watching.\n\n242\n00:11:20.330 --> 00:11:22.202\nStay tuned for more Cisco ASA content.\n\n243\n00:11:22.202 --> 00:11:28.429\n[MUSIC]\n\n",
          "vimeoId": "132368339"
        },
        {
          "description": null,
          "length": "1262",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-1-5-initial_configuration-070215-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-1-5-initial_configuration-070215-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-1-5-initial_configuration-070215-1-sm.jpg",
          "title": "Initial Configuration",
          "transcript": "WEBVTT\n\n1\n00:00:00.293 --> 00:00:07.593\n[MUSIC]\n\n2\n00:00:07.593 --> 00:00:08.662\n>> In this segment,\n\n3\n00:00:08.662 --> 00:00:13.383\nwe wanna walk you through the initial\nconfiguration of setting up a Cisco ASA.\n\n4\n00:00:13.383 --> 00:00:18.226\nNow getting connected is difficult enough,\nbut we wanna make sure that we can\n\n5\n00:00:18.226 --> 00:00:22.563\nset it up, so that you can use it in\na production system if you need to.\n\n6\n00:00:22.563 --> 00:00:25.803\nThe way to be able to do that is we\ncan manually try and walk through it.\n\n7\n00:00:25.803 --> 00:00:29.982\nWe can try to do that, but one of the\neasier ways to do it and one of the ways\n\n8\n00:00:29.982 --> 00:00:34.473\nthat actually may help us out is going\nthrough what we call the setup wizard.\n\n9\n00:00:34.473 --> 00:00:36.713\nSo we wanna take you through that now.\n\n10\n00:00:36.713 --> 00:00:39.397\nDon, why would I choose\nto use the setup wizard,\n\n11\n00:00:39.397 --> 00:00:42.553\nif I actually can just type in\nall the stuff that I need to?\n\n12\n00:00:42.553 --> 00:00:45.423\n>> You’re exactly right,\nyou don’t have to use the setup wizard.\n\n13\n00:00:45.423 --> 00:00:48.247\nYou can certainly just jump in there and\ndo whatever you want,\n\n14\n00:00:48.247 --> 00:00:51.303\nbut there's a set of configurations\nthat everybody's gonna do.\n\n15\n00:00:51.303 --> 00:00:54.439\nIt's just kind of a given that you're\ngonna need to do on your firewall, and\n\n16\n00:00:54.439 --> 00:00:57.143\nCisco knows that and you know that and\nso they try and make it easy.\n\n17\n00:00:57.143 --> 00:00:59.505\nA quick setup wizard that\nyou can run thorough and\n\n18\n00:00:59.505 --> 00:01:01.933\nthe nice part about it is\nit creates consistency.\n\n19\n00:01:01.933 --> 00:01:03.981\nIf you're gonna be deploying\na lot of firewalls,\n\n20\n00:01:03.981 --> 00:01:07.053\nyou can run through the wizard and\nmake sure that you don't miss anything,\n\n21\n00:01:07.053 --> 00:01:09.183\nthese simple little things\nthat we need to get set.\n\n22\n00:01:09.183 --> 00:01:11.473\nSo let's take a look at it.\n\n23\n00:01:11.473 --> 00:01:13.978\nNow first off,\nwhen you run the start up wizard,\n\n24\n00:01:13.978 --> 00:01:16.563\nyou already have some\nsettings on your firewall.\n\n25\n00:01:16.563 --> 00:01:19.364\nWhen you spin up that ASA for\nthe first time,\n\n26\n00:01:19.364 --> 00:01:22.173\nit already has an IP\naddress assigned to it.\n\n27\n00:01:22.173 --> 00:01:24.224\nIt already has a DHCP scope configured,\n\n28\n00:01:24.224 --> 00:01:27.359\nbecause you're able to plugin to it and\nget an IP address, but\n\n29\n00:01:27.359 --> 00:01:30.633\nyou might wanna change those to\nother ranges to suit your needs.\n\n30\n00:01:30.633 --> 00:01:33.710\nSo we just need to be aware of\nthose things, as we go through and\n\n31\n00:01:33.710 --> 00:01:34.433\nget it set up.\n\n32\n00:01:34.433 --> 00:01:36.643\nSo let's take a look at this firewall\nhere and I'll show you what I mean.\n\n33\n00:01:36.643 --> 00:01:39.743\nSo here's a brand new firewall\nthat Ronnie brought up.\n\n34\n00:01:39.743 --> 00:01:43.053\nYou haven't changed anything at all,\nhave you?\n\n35\n00:01:43.053 --> 00:01:43.923\n>> Nothing at all.\n\n36\n00:01:43.923 --> 00:01:45.853\n>> So\nthis is factory default config right here.\n\n37\n00:01:45.853 --> 00:01:50.068\nI was able to fire up my ASDM,\npoint it at the firewall and\n\n38\n00:01:50.068 --> 00:01:53.133\nlog in with no username and no password.\n\n39\n00:01:53.133 --> 00:01:54.343\n>> [LAUGH] Awesome.\n\n40\n00:01:54.343 --> 00:01:54.933\n>> You just walk right in.\n\n41\n00:01:54.933 --> 00:01:57.309\n>> [LAUGH]\n>> Definitely not the way you wanna leave\n\n42\n00:01:57.309 --> 00:02:00.040\nit, so what do we need to do\nto get this thing set up?\n\n43\n00:02:00.040 --> 00:02:02.800\nWell, if you go up top\nto your Wizards menu,\n\n44\n00:02:02.800 --> 00:02:05.200\nyou'll see the Startup Wizard right there.\n\n45\n00:02:05.200 --> 00:02:08.517\nAnd I've seen some ASAs where the first\ntime you connect it automatically runs\n\n46\n00:02:08.517 --> 00:02:10.740\nthe Startup Wizard for you,\nso you may see that too.\n\n47\n00:02:10.740 --> 00:02:12.810\nBut in my case,\nI'm going to manually run it.\n\n48\n00:02:12.810 --> 00:02:15.600\nWhen you run it, you have two choices.\n\n49\n00:02:15.600 --> 00:02:18.139\nYou can modify the existing\nconfiguration and\n\n50\n00:02:18.139 --> 00:02:21.470\nthat's assuming that you've\nalready changed something.\n\n51\n00:02:21.470 --> 00:02:25.493\nMaybe you've connected via the console the\nfirst time and made a bunch of changes and\n\n52\n00:02:25.493 --> 00:02:27.090\nyou don't wanna wipe those out.\n\n53\n00:02:27.090 --> 00:02:29.667\nYou just wanna make sure that\nthey're all set right and so on, so\n\n54\n00:02:29.667 --> 00:02:30.730\nyou can choose to modify.\n\n55\n00:02:30.730 --> 00:02:34.712\nOr you can say, let's reset it to\nfactory defaults and go through and\n\n56\n00:02:34.712 --> 00:02:37.400\nget things configured\nthe way that we want it.\n\n57\n00:02:37.400 --> 00:02:39.090\nEither way, it works.\n\n58\n00:02:39.090 --> 00:02:42.034\nI'm gonna choose reset factory defaults\njust to make sure that I am actually\n\n59\n00:02:42.034 --> 00:02:43.050\nlooking at the defaults.\n\n60\n00:02:43.050 --> 00:02:48.420\nThe first thing we need to pick is the IP\naddress of the management interface.\n\n61\n00:02:48.420 --> 00:02:54.590\nNow remember, on a Cisco 5505, it doesn't\nhave a dedicated management interface.\n\n62\n00:02:54.590 --> 00:02:56.430\nThe management interface\nis just part of its switch.\n\n63\n00:02:56.430 --> 00:02:59.541\nOn all the other firewalls, the 5506s and\n\n64\n00:02:59.541 --> 00:03:04.020\nhigher all the other guys have\na dedicated management interface.\n\n65\n00:03:04.020 --> 00:03:07.038\nNow you don't have to use it, you can\nstill use an IP from another interface if\n\n66\n00:03:07.038 --> 00:03:08.810\nyou want, but\nthey have that dedicated one.\n\n67\n00:03:08.810 --> 00:03:12.180\nSo here it's asking what IP\naddress I want to assign?\n\n68\n00:03:12.180 --> 00:03:15.420\nAnd this one's defaulting to 192.168.1.1.\n\n69\n00:03:15.420 --> 00:03:19.997\nYou need to think about what network\nyou're gonna be using, maybe I wanna use\n\n70\n00:03:19.997 --> 00:03:25.720\nthe 192.168.0 network or the 172.16\nnetwork and so you'd need to plug that in.\n\n71\n00:03:25.720 --> 00:03:26.890\nI'm gonna change mine.\n\n72\n00:03:26.890 --> 00:03:31.387\nWe'll do 172.16.0.1 is gonna\nbe my firewall here and\n\n73\n00:03:31.387 --> 00:03:33.310\nI'll put in a subnet mass.\n\n74\n00:03:33.310 --> 00:03:36.050\nI'm gonna do this one with\na class C subnet mass.\n\n75\n00:03:38.390 --> 00:03:42.720\nNow it's letting me know, hey, we're gonna\nbe resetting this to factory defaults.\n\n76\n00:03:42.720 --> 00:03:45.480\nI might lose connectivity\nwith the firewall,\n\n77\n00:03:45.480 --> 00:03:48.180\nespecially if I'm changing the IP address.\n\n78\n00:03:48.180 --> 00:03:52.130\nBecause if you look up here,\nI'm connected to 192.168.1.1.\n\n79\n00:03:52.130 --> 00:03:55.550\nI'm about to change its IP address,\nI'm gonna get kicked out.\n\n80\n00:03:55.550 --> 00:03:57.260\nSo we'll go ahead and say, yes to that.\n\n81\n00:03:57.260 --> 00:03:58.340\nIt's gonna proceed.\n\n82\n00:03:58.340 --> 00:04:03.012\nIt's delivering commands to the ASA right\nnow to tell it, hey, reset the factory\n\n83\n00:04:03.012 --> 00:04:07.090\ndefaults and change to this IP address for\nyour management interface.\n\n84\n00:04:07.090 --> 00:04:09.010\nSo we'll give it a moment\nwhile it does that.\n\n85\n00:04:09.010 --> 00:04:10.890\nNow this is challenging.\n\n86\n00:04:10.890 --> 00:04:14.911\nIf you didn't change the IP,\nthis actually happens pretty quickly and\n\n87\n00:04:14.911 --> 00:04:16.260\nyou're right back in.\n\n88\n00:04:16.260 --> 00:04:20.263\nBut if you change the IP like I did,\nit's gonna sit here and\n\n89\n00:04:20.263 --> 00:04:23.300\nit's gonna wait and wait and wait forever.\n\n90\n00:04:23.300 --> 00:04:28.346\nBecause it's unfortunately,\nwatching for 192.168.1.1 to respond,\n\n91\n00:04:28.346 --> 00:04:32.050\nbut that firewall isn't\n192.168.1.1 anymore.\n\n92\n00:04:32.050 --> 00:04:33.800\nNow, it's a different IP.\n\n93\n00:04:33.800 --> 00:04:37.448\nSo we can sit here and\nwait until it times out or\n\n94\n00:04:37.448 --> 00:04:42.930\nwe can launch another ASDM window and\nconnect to the new IP address.\n\n95\n00:04:42.930 --> 00:04:45.520\nNow I'm gonna have\na little bit of a problem,\n\n96\n00:04:45.520 --> 00:04:49.010\nbecause my IP address on my laptop\nmight not be in that range.\n\n97\n00:04:49.010 --> 00:04:53.787\nSo if I come in here and\ntake a look at my IP on my laptop,\n\n98\n00:04:53.787 --> 00:04:56.560\nI am, where is my connection?\n\n99\n00:04:56.560 --> 00:04:58.840\nOh, that's my wireless.\n\n100\n00:04:58.840 --> 00:05:01.630\nLet me find my wired connection,\nit is buried in here.\n\n101\n00:05:01.630 --> 00:05:03.660\nI've got so many VM connections in here.\n\n102\n00:05:03.660 --> 00:05:05.130\n>> [LAUGH]\n>> Here we go.\n\n103\n00:05:05.130 --> 00:05:07.380\nSo, I'm 192.168.1.0.\n\n104\n00:05:07.380 --> 00:05:10.340\nI'm not in the right network, so\nI'm not able to see that guy.\n\n105\n00:05:10.340 --> 00:05:12.005\nI'm not able to communicate, so\n\n106\n00:05:12.005 --> 00:05:15.100\nI need to switch to an IP address\nthat's in the right network.\n\n107\n00:05:15.100 --> 00:05:17.010\nOops, let me do that real quick.\n\n108\n00:05:17.010 --> 00:05:21.204\nI'm gonna go and change my adapter and\nthen I'll be able to connect and\n\n109\n00:05:21.204 --> 00:05:22.350\nsee the other guy.\n\n110\n00:05:22.350 --> 00:05:25.760\nSo, I'm just going to jump in here and\npull-up my properties and\n\n111\n00:05:25.760 --> 00:05:27.310\nI'm gonna switch that over.\n\n112\n00:05:27.310 --> 00:05:28.800\nOh and I had a static IP, anyways.\n\n113\n00:05:28.800 --> 00:05:31.680\nSo even if I fixed DHCP, I still\nwouldn't have gotten the right address.\n\n114\n00:05:31.680 --> 00:05:36.000\nI'll just go ahead and give myself\nan address in that range and I'll set\n\n115\n00:05:36.000 --> 00:05:40.970\nthe firewall as my default gateway and\nI'll just put some generic DNS servers in.\n\n116\n00:05:42.770 --> 00:05:44.478\nSo now that I've got that,\n\n117\n00:05:44.478 --> 00:05:47.760\nI should be able to see the new\nfirewall on its new IP.\n\n118\n00:05:47.760 --> 00:05:52.052\nSo, I'm gonna jump over to this other\nASDM window that I launched and\n\n119\n00:05:52.052 --> 00:05:54.720\nI'm just gonna punch in the IP to connect.\n\n120\n00:05:54.720 --> 00:05:57.483\nI'm gonna leave the username and\npassword blank and\n\n121\n00:05:57.483 --> 00:06:01.890\nwe're gonna try and connect up and it's\ngonna reach out and now I'm accessing it.\n\n122\n00:06:01.890 --> 00:06:05.560\nNow that I know I can access it on this\nIP, I can get rid of the other one.\n\n123\n00:06:05.560 --> 00:06:08.010\nThe other ASDM window.\n\n124\n00:06:08.010 --> 00:06:09.220\nOh, it did finally time out.\n\n125\n00:06:09.220 --> 00:06:10.380\nSee here, how it timed out.\n\n126\n00:06:10.380 --> 00:06:12.720\nIt's telling me it didn't succeed with\nits commands, but it actually did.\n\n127\n00:06:12.720 --> 00:06:14.640\nIt just lost its connection.\n\n128\n00:06:14.640 --> 00:06:19.135\nSo I'm just gonna close that and we'll\njust kinda cancel that wizard and close\n\n129\n00:06:19.135 --> 00:06:23.920\nthat ASDM window, because I've got an all\nnew ASDM window here that is connected.\n\n130\n00:06:23.920 --> 00:06:28.050\nNow it's asking me,\nif I want to enable Cisco Smart Call Home.\n\n131\n00:06:28.050 --> 00:06:29.600\nSmart Call Home is a neat feature.\n\n132\n00:06:29.600 --> 00:06:33.648\nIf you have a Cisco Smart Net agreement\nand your firewall's under warranty or\n\n133\n00:06:33.648 --> 00:06:37.197\nif you've got a subscription for\nany of their fire power services,\n\n134\n00:06:37.197 --> 00:06:38.770\nyou wanna turn on phone home.\n\n135\n00:06:38.770 --> 00:06:42.585\nThis way, if it ever has a problem,\nif there's a problem with the firewall or\n\n136\n00:06:42.585 --> 00:06:46.757\nits configuration, it'll actually open up\na tax support ticket for you without you\n\n137\n00:06:46.757 --> 00:06:50.720\neven getting involved and Cisco support\ncan look and see if they can resolve it.\n\n138\n00:06:50.720 --> 00:06:51.770\nSo, it's a neat feature to have.\n\n139\n00:06:51.770 --> 00:06:53.760\nI'm gonna go and\njust turn my off for right now.\n\n140\n00:06:53.760 --> 00:06:57.510\nYou can say, remind me later, if you\nwanna configure it and that'd be fine.\n\n141\n00:06:57.510 --> 00:07:01.730\nNow once I'm in, I can rerun my wizard.\n\n142\n00:07:01.730 --> 00:07:05.692\nAnd so I'll go back up here to wizards and\nStartup Wizard and this time,\n\n143\n00:07:05.692 --> 00:07:10.395\nI'm just gonna say, modify the existing\nconfiguration and start to move forward.\n\n144\n00:07:11.745 --> 00:07:14.515\nNow we can start to set up\nthe various options for this system.\n\n145\n00:07:15.585 --> 00:07:20.195\nThe first option is configure\nthe device for teleworker usage.\n\n146\n00:07:20.195 --> 00:07:21.445\nNow what is that?\n\n147\n00:07:22.565 --> 00:07:26.625\nNormally, when you have a firewall like\nthis, the idea is that it's gonna be\n\n148\n00:07:26.625 --> 00:07:30.945\ninstalled somewhere kinda permanently\nlike a branch office or your home office.\n\n149\n00:07:30.945 --> 00:07:34.915\nBut a teleworker,\nthey might take the firewall at home.\n\n150\n00:07:34.915 --> 00:07:38.488\nThey might take the firewall with them and\ntake it to a hotel and plug it in and\n\n151\n00:07:38.488 --> 00:07:41.384\nthat means their IP address\nmight be changing frequently and\n\n152\n00:07:41.384 --> 00:07:43.845\nit's a lot different than\na stationary firewall.\n\n153\n00:07:43.845 --> 00:07:48.678\nIf we turn this teleworker function on,\nthat enables this firewall to be a client\n\n154\n00:07:48.678 --> 00:07:52.175\nfor building up a VPN tunnel and\nit uses dynamic policies.\n\n155\n00:07:52.175 --> 00:07:54.795\nSo, it's not like married\nto a particular IP address.\n\n156\n00:07:54.795 --> 00:07:57.345\nWe don't normally deploy\nfirewalls that way though.\n\n157\n00:07:57.345 --> 00:08:00.504\nAnd normally, we just apply them\nas a static firewall somewhere, so\n\n158\n00:08:00.504 --> 00:08:02.090\nI'm gonna leave that option off.\n\n159\n00:08:03.410 --> 00:08:04.800\nThen we can specify a Host Name.\n\n160\n00:08:04.800 --> 00:08:06.980\nThe default Host Name is just ciscoasa.\n\n161\n00:08:06.980 --> 00:08:08.348\nWe could leave it.\n\n162\n00:08:08.348 --> 00:08:11.780\nBut if you got 100 firewalls, wouldn't\nit be nice to know which one it is?\n\n163\n00:08:11.780 --> 00:08:15.200\nSo let's say that we're deploying\nthis one at Ronnie's house, so\n\n164\n00:08:15.200 --> 00:08:17.980\nI might call this one the rwong-asa.\n\n165\n00:08:17.980 --> 00:08:21.569\nSo I can go, this is the firewall\nthat's assigned to Ronnie.\n\n166\n00:08:21.569 --> 00:08:22.890\nI can specify a Domain Name.\n\n167\n00:08:22.890 --> 00:08:25.360\nI'll do lab.itpro.tv.\n\n168\n00:08:25.360 --> 00:08:27.960\nAnd now, I can set a password.\n\n169\n00:08:27.960 --> 00:08:31.570\nI was able to connect to this firewall\nwith no user name and no password.\n\n170\n00:08:31.570 --> 00:08:34.235\nAnd that's because my default\nthat has one account created and\n\n171\n00:08:34.235 --> 00:08:36.206\nthat account is just the enable 15, right?\n\n172\n00:08:36.206 --> 00:08:37.940\nSo there's no user name there.\n\n173\n00:08:37.940 --> 00:08:39.430\nBut I can at least, set a password.\n\n174\n00:08:39.430 --> 00:08:41.945\nThe old password is blank,\nI'll set a new one.\n\n175\n00:08:41.945 --> 00:08:46.534\nI'm just gonna do cisco123 as my\nlittle default password there and\n\n176\n00:08:46.534 --> 00:08:49.130\nI'll hit Next, all right?\n\n177\n00:08:49.130 --> 00:08:50.910\nThen my interfaces.\n\n178\n00:08:50.910 --> 00:08:55.550\nIt's going to assume that at a minimum,\nyou have an Inside and an Outside.\n\n179\n00:08:55.550 --> 00:08:57.870\nBut you might have a DMZ interface or\nother ones.\n\n180\n00:08:57.870 --> 00:08:59.420\nWe can always configure those later.\n\n181\n00:08:59.420 --> 00:09:02.947\nBut in the initial Startup Wizard, it\nwants me to set up my Inside and Outside.\n\n182\n00:09:02.947 --> 00:09:08.183\nNow on a 5506 and higher, it's just\ngonna ask you which interface is which,\n\n183\n00:09:08.183 --> 00:09:13.260\nso I might want gig 0/0 to be Outside and\ngig 0/1 to be Inside.\n\n184\n00:09:13.260 --> 00:09:16.900\nBut on a 5505, it actually has\na switch on the back of it.\n\n185\n00:09:16.900 --> 00:09:19.750\nAnd so\nit's asking me to pick a VLAN number.\n\n186\n00:09:19.750 --> 00:09:23.750\nAnd it wants to put VLAN2 for\nOutside, VLAN1 for Inside.\n\n187\n00:09:23.750 --> 00:09:25.470\nI could change that if I wanted.\n\n188\n00:09:25.470 --> 00:09:27.114\nThe reason it's doing VLANs,\n\n189\n00:09:27.114 --> 00:09:30.668\nis when you have a switch more than\none port can be tied to that VLAN.\n\n190\n00:09:30.668 --> 00:09:35.690\nOn a 5506 and higher, each port is\ntied individually to its own zone,\n\n191\n00:09:35.690 --> 00:09:38.330\nso you can't do VLANs like this.\n\n192\n00:09:38.330 --> 00:09:39.410\nBut on this one we can do it.\n\n193\n00:09:39.410 --> 00:09:41.030\nI'm just gonna leave it at the defaults.\n\n194\n00:09:41.030 --> 00:09:43.940\nPay attention to something though,\nthese Security Levels.\n\n195\n00:09:43.940 --> 00:09:46.440\nThe Outside VLAN has\na Security Level of 0.\n\n196\n00:09:46.440 --> 00:09:49.500\nThe Inside VLAN has\na Security Level of 100.\n\n197\n00:09:49.500 --> 00:09:52.490\nOn the ASA,\nthere's some default rules put in place.\n\n198\n00:09:53.530 --> 00:10:01.120\nA higher number VLAN or interface can\naccess any lower number VLAN or interface.\n\n199\n00:10:01.120 --> 00:10:05.640\nSo Inside being 100, that's the highest\nnumber, can access anything below it,\n\n200\n00:10:05.640 --> 00:10:09.540\nincluding 0, which is the Outside or\nthe WAN, right?\n\n201\n00:10:09.540 --> 00:10:11.480\nThe other direction doesn't work though.\n\n202\n00:10:11.480 --> 00:10:14.190\nThe WAN can't access the LAN, right.\n\n203\n00:10:14.190 --> 00:10:16.700\nOutside can't access Inside\ncuz it'd be going 0 to 100,\n\n204\n00:10:16.700 --> 00:10:18.310\na lower number to a higher number.\n\n205\n00:10:18.310 --> 00:10:20.980\nSo that's what those security levels\nmean and that's what's important.\n\n206\n00:10:20.980 --> 00:10:23.560\nIf you have more interfaces\nthat you're defining,\n\n207\n00:10:23.560 --> 00:10:25.510\nyou'll have to pick security levels for\nthem.\n\n208\n00:10:25.510 --> 00:10:29.829\nAnd they might be in between or\nthey might be 0 or might be 100,\n\n209\n00:10:29.829 --> 00:10:32.506\nyou'll have to kind of pick and choose.\n\n210\n00:10:32.506 --> 00:10:34.371\nAll right, but\nI'll leave those at their defaults.\n\n211\n00:10:34.371 --> 00:10:39.350\nNow on a 5506 and higher you won't\nsee this screen, but on a 5505 we do.\n\n212\n00:10:39.350 --> 00:10:44.480\nRemember I said, when we have a switch,\nmore than one port can be tied to a VLAN.\n\n213\n00:10:44.480 --> 00:10:45.840\nHere is where we assign that.\n\n214\n00:10:45.840 --> 00:10:47.990\nWhich ports are on which VLAN?\n\n215\n00:10:47.990 --> 00:10:50.720\nOn a 5506 and higher,\nit's a one to one ratio so\n\n216\n00:10:50.720 --> 00:10:54.380\nthat's why you don't see this screen,\neach port is mapped to its zone.\n\n217\n00:10:54.380 --> 00:10:59.520\nSo here I'm seeing Switch Ports for the\nOutside and Switch Ports for the Inside.\n\n218\n00:10:59.520 --> 00:11:03.650\nAnd so\nthe default is that 0/0 is the Outside and\n\n219\n00:11:03.650 --> 00:11:05.716\nthen everything else is the Inside.\n\n220\n00:11:05.716 --> 00:11:09.290\nBut If I'm gonna be doing a DMZ or\nwhatever I might want to take some away.\n\n221\n00:11:09.290 --> 00:11:12.570\nI can always change this after the fact,\nbut I just need to remember here that\n\n222\n00:11:12.570 --> 00:11:15.890\nport 0 is where I need to plug\nmy internet connection into.\n\n223\n00:11:15.890 --> 00:11:19.693\nAnd then all the other\nports here are suitable for\n\n224\n00:11:19.693 --> 00:11:22.300\nworkstations or other devices.\n\n225\n00:11:22.300 --> 00:11:25.280\nAll right then, on my networks.\n\n226\n00:11:25.280 --> 00:11:27.270\nWhat IP addresses do I wanna use?\n\n227\n00:11:27.270 --> 00:11:30.960\nThe default is to use DHCP for\nOutside Address.\n\n228\n00:11:30.960 --> 00:11:34.690\nAll right, now you might wanna\npick a static IP or you might need\n\n229\n00:11:34.690 --> 00:11:38.600\nto use PPPoE and do authentication with\nuser name and password to get connected.\n\n230\n00:11:38.600 --> 00:11:40.680\nIt's up to you to define what you need.\n\n231\n00:11:40.680 --> 00:11:43.128\nI'm gonna use DHCP for mine, all right.\n\n232\n00:11:43.128 --> 00:11:48.200\nIf you're using DHCP, you typically\nwanna get your default route from DHCP.\n\n233\n00:11:48.200 --> 00:11:50.440\nSo like if I put a cable modem or\n\n234\n00:11:50.440 --> 00:11:53.600\na DSL line in here,\nI'm gonna get a default gateway from\n\n235\n00:11:53.600 --> 00:11:56.142\nthe Internet Service Provider that says\nhere's how you get out to the Internet.\n\n236\n00:11:56.142 --> 00:11:58.960\nI wanna make that my default route for\nthe firewall.\n\n237\n00:11:58.960 --> 00:12:02.840\nIf you don't check this, you'll connect\nbut you won't have a default route.\n\n238\n00:12:02.840 --> 00:12:03.950\nSo you won't be able to\nget to the Internet,\n\n239\n00:12:03.950 --> 00:12:06.450\nyou'll have to add that\nroute manually later.\n\n240\n00:12:06.450 --> 00:12:08.685\nSo, we normally want that checked.\n\n241\n00:12:08.685 --> 00:12:12.685\nOn the LAN side, I picked 172.16.0.1.\n\n242\n00:12:12.685 --> 00:12:16.720\nOn a 5505, it doesn't really make\nsense for them to ask me the IP again.\n\n243\n00:12:16.720 --> 00:12:19.090\nRight, remember we had\nthe IP way back earlier?\n\n244\n00:12:19.090 --> 00:12:23.650\nBut on a 5506 and higher,\nyou have management interface and\n\n245\n00:12:23.650 --> 00:12:26.830\nthen you have an inside interface and\nthey're technically separate.\n\n246\n00:12:26.830 --> 00:12:28.490\nAnd you might have different IPs.\n\n247\n00:12:28.490 --> 00:12:31.830\nYou might have a dedicated\nnetwork just for management.\n\n248\n00:12:31.830 --> 00:12:34.210\nAnd so\nyour management IP is in one subnet, but\n\n249\n00:12:34.210 --> 00:12:36.340\nthen your inside interface\nis in a different subnet.\n\n250\n00:12:36.340 --> 00:12:38.340\nAnd that's actually the way\nthat Cisco recommends it.\n\n251\n00:12:38.340 --> 00:12:40.390\nSo that's why it's asking again here.\n\n252\n00:12:40.390 --> 00:12:41.880\nOn a 5505, it doesn't make sense.\n\n253\n00:12:41.880 --> 00:12:44.280\n5506 and higher, that is important.\n\n254\n00:12:44.280 --> 00:12:46.940\n>> Now Don, we're not plugged\nin on that outside interface,\n\n255\n00:12:46.940 --> 00:12:48.780\nis that gonna make a difference?\n\n256\n00:12:48.780 --> 00:12:51.090\n>> Not here, I mean,\nI won't get an address right?\n\n257\n00:12:51.090 --> 00:12:54.160\nBut otherwise,\nit's not gonna make a difference for me.\n\n258\n00:12:54.160 --> 00:12:55.910\nSo I'll leave that be and\nI'll just hit Next.\n\n259\n00:12:57.590 --> 00:13:01.350\nAnd then on the inside interface,\nit knows that we're gonna\n\n260\n00:13:01.350 --> 00:13:03.450\nbe plugging workstations and\nthings like that in on the inside.\n\n261\n00:13:03.450 --> 00:13:05.460\nSo, do I wanna be a DHCP server?\n\n262\n00:13:05.460 --> 00:13:08.480\nMaybe I've already got\na DHCP server on my network.\n\n263\n00:13:08.480 --> 00:13:11.470\nI don't need another one,\nI can turn that off, right?\n\n264\n00:13:11.470 --> 00:13:14.550\nOr the ASA can be the DHCP server.\n\n265\n00:13:14.550 --> 00:13:16.510\nIt actually does a pretty\ngood job with it.\n\n266\n00:13:16.510 --> 00:13:21.170\nThe only negative is if you ever reboot\nthe ASA, it loses all the DHCP leases.\n\n267\n00:13:21.170 --> 00:13:24.970\nAnd so you can run into some duplicate\nIP issues if you had a reboot or\n\n268\n00:13:24.970 --> 00:13:25.900\na power outage.\n\n269\n00:13:25.900 --> 00:13:27.030\nBut normally, if there's a power outage,\n\n270\n00:13:27.030 --> 00:13:29.665\neverybody's getting new addresses\nanyway so it's not that big of a deal.\n\n271\n00:13:29.665 --> 00:13:34.086\nAnd so we can use it as our DHCP server,\nwe just need to specify the range.\n\n272\n00:13:34.086 --> 00:13:38.350\nAnd the default is that it'll\ngo from that starting address,\n\n273\n00:13:38.350 --> 00:13:41.715\n172.16.0.5 all the way up to 254.\n\n274\n00:13:41.715 --> 00:13:42.316\nBe careful with this, right.\n\n275\n00:13:42.316 --> 00:13:46.890\nFor example this ASA, Ronnie do you\nknow what license we have on this ASA?\n\n276\n00:13:46.890 --> 00:13:49.840\n>> It has the Security Plus\nlicense unlimited I believe.\n\n277\n00:13:49.840 --> 00:13:52.060\n>> Oh, okay all right so\nthis one's unlimited.\n\n278\n00:13:52.060 --> 00:13:55.980\nYour firewall might have a limited license\non it, where you might only support so\n\n279\n00:13:55.980 --> 00:13:57.120\nmany connections.\n\n280\n00:13:57.120 --> 00:14:00.800\nAnd if that's the case,\nyou don't wanna create a giant pool\n\n281\n00:14:00.800 --> 00:14:03.720\nif those people aren't gonna be able\nto pass through the firewall anyway.\n\n282\n00:14:03.720 --> 00:14:07.050\nSo make sure you size your pool\naccordingly to the license that you have.\n\n283\n00:14:07.050 --> 00:14:09.830\nAnd that you have enough to handle\nthe hosts that are inside your network.\n\n284\n00:14:09.830 --> 00:14:12.770\nI'll stick with the default here and\ngo .5 through .254.\n\n285\n00:14:12.770 --> 00:14:15.880\nAll right,\nthen we can specify other things.\n\n286\n00:14:15.880 --> 00:14:18.800\nNow we might specify our\nDNS server to hand out,\n\n287\n00:14:18.800 --> 00:14:22.170\nour Domain Name to hand out and so on.\n\n288\n00:14:22.170 --> 00:14:27.090\nOr you got this neat option down here,\nEnable auto configuration from interface.\n\n289\n00:14:27.090 --> 00:14:31.280\nIf I'm getting settings from my ISP,\nI can just pass those on to my clients.\n\n290\n00:14:31.280 --> 00:14:34.370\nHere, use these DNS servers,\nuse this domain name.\n\n291\n00:14:34.370 --> 00:14:36.274\nBut in a business environment,\nwe don't normally want that.\n\n292\n00:14:36.274 --> 00:14:40.210\nWe wanna define it, cuz you might have\nlike active directory domain controllers\n\n293\n00:14:40.210 --> 00:14:42.070\nthat are doing DNS and\nyou wanna point to those.\n\n294\n00:14:42.070 --> 00:14:45.677\nOr you might have Linux BIND servers that\nyou wanna point to, that kind of stuff.\n\n295\n00:14:45.677 --> 00:14:50.090\nSo you can specify them manually and these\nwill be the servers that you give out.\n\n296\n00:14:51.160 --> 00:14:53.229\nSame thing with domain name,\nyou can specify that.\n\n297\n00:14:54.430 --> 00:14:57.607\nAnd the lease length,\nhow long do you want this lease to be for?\n\n298\n00:14:57.607 --> 00:15:00.150\nThe default, if I remember right,\nis seven days.\n\n299\n00:15:00.150 --> 00:15:01.036\nAnd it might be eight days.\n\n300\n00:15:01.036 --> 00:15:01.980\nDo you remember Ronnie?\n\n301\n00:15:01.980 --> 00:15:03.600\n>> Not on the Cisco ASA, I don't.\n\n302\n00:15:03.600 --> 00:15:04.370\n>> Yeah.\n>> Yeah.\n\n303\n00:15:04.370 --> 00:15:06.280\n>> It's something that's pretty long.\n\n304\n00:15:06.280 --> 00:15:08.290\nIf you're working in an environment\nwhere you have a lot of guests,\n\n305\n00:15:08.290 --> 00:15:10.980\na lot of visitors, you probably don't\nwant them to hold addresses that long.\n\n306\n00:15:10.980 --> 00:15:12.750\nSo you can put in a shorter lease time.\n\n307\n00:15:12.750 --> 00:15:14.200\nIt's done in seconds.\n\n308\n00:15:14.200 --> 00:15:18.600\nAnd so if I want it to be an hour or\nwhatever.\n\n309\n00:15:18.600 --> 00:15:20.888\nHey, what is an hour, it would be.\n\n310\n00:15:20.888 --> 00:15:21.388\n>> 3,600.\n>> Okay.\n\n311\n00:15:21.388 --> 00:15:21.888\n>> 3600.\n\n312\n00:15:21.888 --> 00:15:22.388\n>> Okay.\n\n313\n00:15:22.388 --> 00:15:23.968\n3600, so we'll set a one hour lease on\n\n314\n00:15:23.968 --> 00:15:26.240\nours.\nAnd then the default ping timeout.\n\n315\n00:15:26.240 --> 00:15:27.020\nI don't know anybody who\n\n316\n00:15:27.020 --> 00:15:28.180\npushes that out to their clients.\n\n317\n00:15:28.180 --> 00:15:30.800\nDifferent operating systems have different\nping timeouts when we normally just let\n\n318\n00:15:30.800 --> 00:15:33.730\nthem choose it.\n\n319\n00:15:33.730 --> 00:15:37.160\nAll right,\nthen network address translation.\n\n320\n00:15:37.160 --> 00:15:40.580\nWe're gonna do some shows on network\naddress translation and how it works, but\n\n321\n00:15:40.580 --> 00:15:42.840\nfor right now there's three\nchoices we have here.\n\n322\n00:15:42.840 --> 00:15:45.060\nThe first one is not to do NAT at all.\n\n323\n00:15:45.060 --> 00:15:48.180\nThat means our internal IPs when they\nbrowse through the firewall will\n\n324\n00:15:48.180 --> 00:15:50.150\nexit with their internal IPs.\n\n325\n00:15:50.150 --> 00:15:53.300\nNow if you're using all public addresses,\nthat's fine.\n\n326\n00:15:53.300 --> 00:15:55.750\nOr if your firewall is\nentirely internal that's fine.\n\n327\n00:15:55.750 --> 00:15:59.734\nBut if your firewall is bridging\nthe gap between the internet And\n\n328\n00:15:59.734 --> 00:16:03.646\na LAN that's using fake addresses,\nRFC1918 addresses,\n\n329\n00:16:03.646 --> 00:16:07.720\nthen you need to do network\naddress translation.\n\n330\n00:16:07.720 --> 00:16:12.080\nIf you have a pool of public\naddresses you can do NAT.\n\n331\n00:16:12.080 --> 00:16:17.050\nNAT is where you map your public IPs to\nyour private IPs in a one to one ratio.\n\n332\n00:16:17.050 --> 00:16:18.528\nBut most of us don't have that, right?\n\n333\n00:16:18.528 --> 00:16:21.430\nMost of us don't have a pool of\npublic IPs laying around, so\n\n334\n00:16:21.430 --> 00:16:23.990\nwe have to get everybody to share an IP.\n\n335\n00:16:23.990 --> 00:16:27.430\nAnd that's what this option is here\nto use port address translation.\n\n336\n00:16:27.430 --> 00:16:31.950\nHere, everybody shares an IP on the way\nout, and you can put a specific IP, but\n\n337\n00:16:31.950 --> 00:16:35.550\nmost of the time we just say use the IP\naddress of the outside interface.\n\n338\n00:16:35.550 --> 00:16:38.840\nWhatever we get from our ISP, let's\njust get all our people to share that.\n\n339\n00:16:38.840 --> 00:16:42.100\nAnd now you can have your whole home,\nor office, your small office\n\n340\n00:16:42.100 --> 00:16:44.890\nall nested behind a single IP on\ntheir way out to the Internet.\n\n341\n00:16:46.140 --> 00:16:47.840\nAll right, so I'll stick with that.\n\n342\n00:16:50.023 --> 00:16:52.180\nNow one of the most important screens.\n\n343\n00:16:52.180 --> 00:16:55.050\nThis is where you can lock yourself out\nof the firewall if you're not careful.\n\n344\n00:16:55.050 --> 00:16:58.860\nHere's where we designate who is\nallowed to connect to the firewall.\n\n345\n00:16:58.860 --> 00:17:00.630\nIt's gonna look at your\ninternal network and\n\n346\n00:17:00.630 --> 00:17:04.390\napprove that one for\nHTTPS and ASDM access.\n\n347\n00:17:04.390 --> 00:17:08.000\nYou'll probably want, at a minimum,\nto add ssh to that list, and so\n\n348\n00:17:08.000 --> 00:17:10.900\nI'm gonna add SSH for the inside network.\n\n349\n00:17:12.900 --> 00:17:15.540\nOops, if I put the right\nnetwork in that'll help.\n\n350\n00:17:15.540 --> 00:17:17.410\nSee you put the wrong network\nin you can lock yourself out.\n\n351\n00:17:17.410 --> 00:17:21.232\nThis is,\nspeaking from experience on that one.\n\n352\n00:17:21.232 --> 00:17:23.073\nAll right, so here I've approved those but\n\n353\n00:17:23.073 --> 00:17:25.822\nyou might have other internal\nnetworks that you want to approve.\n\n354\n00:17:25.822 --> 00:17:29.067\nOr you might have an external machine\nthat, maybe your machine at home that you\n\n355\n00:17:29.067 --> 00:17:31.881\nwanna approve to be able to get into\nthis firewall on this public IP.\n\n356\n00:17:31.881 --> 00:17:35.122\nYou need to define each of those,\nand HTTPS and ASDM,\n\n357\n00:17:35.122 --> 00:17:39.880\nthat's if we want to use the GUI,\nSSH if we want to use the command line.\n\n358\n00:17:39.880 --> 00:17:40.860\nYou may need to designate both.\n\n359\n00:17:40.860 --> 00:17:46.690\nAll right, down at the bottom,\nwe got Enable HTTP server for ASDM.\n\n360\n00:17:46.690 --> 00:17:49.120\nIf you're not gonna use the ASDM,\nif you're just gonna use command line,\n\n361\n00:17:49.120 --> 00:17:50.210\nyou can turn that off, right?\n\n362\n00:17:50.210 --> 00:17:51.070\nAnd taht'll knock that out and\n\n363\n00:17:51.070 --> 00:17:53.590\nyou won't be using it anymore,\nyou'll just have the command line.\n\n364\n00:17:53.590 --> 00:17:54.780\nIt's not the happiest place to be.\n\n365\n00:17:55.990 --> 00:17:58.580\nAnd then we got Enable ASDM\nhistory metrics.\n\n366\n00:17:58.580 --> 00:18:02.370\nThat's just keeping track, you'll notice\nall these little charts in the background.\n\n367\n00:18:02.370 --> 00:18:06.720\nOops, back here in the background of this\nfirewall showing kinda what it's doing.\n\n368\n00:18:06.720 --> 00:18:09.030\nEvery time you close\nthe ASDM those go away.\n\n369\n00:18:09.030 --> 00:18:12.450\nAnd then when you launch the ASDM\nagain it starts all over from scratch.\n\n370\n00:18:12.450 --> 00:18:16.146\nIf you choose to store the history metrics\nit actually writes those to flash and\n\n371\n00:18:16.146 --> 00:18:19.290\nit makes it where you can recover\nthose every time you launch ASDM.\n\n372\n00:18:21.936 --> 00:18:25.523\nAll right, then it gives me a summary of\nall the things that it's gonna configure\n\n373\n00:18:25.523 --> 00:18:26.710\nfor me, right?\n\n374\n00:18:26.710 --> 00:18:30.570\nSetting up NAT, setting up my interfaces,\nsetting up my IPs and\n\n375\n00:18:30.570 --> 00:18:33.390\nthe ranges there and\nputting it all in place.\n\n376\n00:18:33.390 --> 00:18:36.909\nAnd when I finish this firewall\nwill now be suitable for\n\n377\n00:18:36.909 --> 00:18:40.289\ndeploying in a small office or\nhome office, right?\n\n378\n00:18:40.289 --> 00:18:43.320\nWe can plug machines into it and\nit will get out, now it's prompted me for\n\n379\n00:18:43.320 --> 00:18:46.815\na password because as part of the wizard\nI've changed my enable password, right?\n\n380\n00:18:46.815 --> 00:18:50.902\nSo I've got to punch that in now, then I\nactually have a password on the firewall\n\n381\n00:18:50.902 --> 00:18:55.433\nand now it's gonna connect and my initial\nconfiguration should be in place, right?.\n\n382\n00:18:55.433 --> 00:18:58.673\nWe can go through and\nverify that configuration if we jump\n\n383\n00:18:58.673 --> 00:19:01.778\nover to our configuration tab and\nwe go to interfaces,\n\n384\n00:19:01.778 --> 00:19:06.140\nI can see that my internal interface has\nthe right IP and I'm set to use DHCP.\n\n385\n00:19:06.140 --> 00:19:09.000\nIf I take a look at my, well,\nrouting here won't show it.\n\n386\n00:19:09.000 --> 00:19:11.940\nBut if I were to go under my monitoring,\nI could see the routing table and\n\n387\n00:19:11.940 --> 00:19:13.930\nsee that I had a default route.\n\n388\n00:19:13.930 --> 00:19:15.280\nWell actually,\nI'm not connected right now.\n\n389\n00:19:15.280 --> 00:19:17.970\nSo I'm not gonna have a default router,\nam I?\n\n390\n00:19:17.970 --> 00:19:20.180\nHere, I'll plug something\ninto that firewall.\n\n391\n00:19:20.180 --> 00:19:21.200\nYou think that'll reach?\n\n392\n00:19:21.200 --> 00:19:23.990\nNo, that won't reach, shoot.\n\n393\n00:19:23.990 --> 00:19:25.260\nAll right, well, anyhow [LAUGH].\n\n394\n00:19:25.260 --> 00:19:28.300\nThere's no way to logically make up for\na short network cable.\n\n395\n00:19:28.300 --> 00:19:31.210\nSo, but some of the other things\nthat I said the password.\n\n396\n00:19:31.210 --> 00:19:33.000\nWe already saw that kick in.\n\n397\n00:19:33.000 --> 00:19:34.600\nThe network address translation rules.\n\n398\n00:19:34.600 --> 00:19:35.460\nWe can hunt those down.\n\n399\n00:19:35.460 --> 00:19:37.880\nIf I go under Firewall and NAT rules.\n\n400\n00:19:37.880 --> 00:19:42.070\nWe'll see where I put the rules in\nhere for the inside going to outside.\n\n401\n00:19:42.070 --> 00:19:43.530\nGetting that into that outside interface.\n\n402\n00:19:43.530 --> 00:19:44.560\nSo we'll put rules in for\n\n403\n00:19:44.560 --> 00:19:48.890\nthat, everything's configured\naccording that base config.\n\n404\n00:19:48.890 --> 00:19:49.820\nNow one word of caution,\n\n405\n00:19:49.820 --> 00:19:53.480\nwhen you're done with the wizard\nIt doesn't save automatically.\n\n406\n00:19:53.480 --> 00:19:55.450\nThat way if something goes wrong you\ncan just reboot the firewall and\n\n407\n00:19:55.450 --> 00:19:56.770\nit goes back to the way it was.\n\n408\n00:19:56.770 --> 00:19:58.982\nBut everything's good here I'm going to\ngo ahead and hit that save button and\n\n409\n00:19:58.982 --> 00:20:04.310\nit's gonna save that information and\nnow I'm ready to rock.\n\n410\n00:20:04.310 --> 00:20:05.010\nI can take this and\n\n411\n00:20:05.010 --> 00:20:08.300\ngo deploy it and I know that the initial\nconfiguration is done properly.\n\n412\n00:20:09.760 --> 00:20:10.980\nNow we don't stop here,right Ronny?\n\n413\n00:20:10.980 --> 00:20:12.920\nThere's a lot of other stuff\nwe might want to tweak.\n\n414\n00:20:12.920 --> 00:20:15.310\nI might wanna create\ndedicated user accounts.\n\n415\n00:20:15.310 --> 00:20:19.240\nI might want to create custom\nfirewall rules and so on.\n\n416\n00:20:19.240 --> 00:20:22.692\nBut as fas as our initial wizard's\nconcerned that's about it.\n\n417\n00:20:22.692 --> 00:20:24.520\nWe're gonna see in our upcoming segments,\n\n418\n00:20:24.520 --> 00:20:27.840\nas we go through all the other little\nthings that we might configure and\n\n419\n00:20:27.840 --> 00:20:31.300\ntweak and tailor to get this firewall\nrunning just the way that we want it.\n\n420\n00:20:33.030 --> 00:20:35.105\n>> Well, Don, that's a lot of information.\n\n421\n00:20:35.105 --> 00:20:39.515\nBut using that wizard, it really does help\nespecially if you're not as familiar with\n\n422\n00:20:39.515 --> 00:20:43.185\nthe configurations you need to put on\nthat firewall at the very beginning.\n\n423\n00:20:43.185 --> 00:20:45.445\nSo if you're not,\nwalk through that set-up wizard and\n\n424\n00:20:45.445 --> 00:20:48.125\nthat will at least get you\nthat initial configuration.\n\n425\n00:20:48.125 --> 00:20:50.430\nNow you can put it into use.\n\n426\n00:20:50.430 --> 00:20:52.280\nThat's our show for today.\n\n427\n00:20:52.280 --> 00:20:53.160\nThank you for watching.\n\n428\n00:20:53.160 --> 00:20:55.547\nThere's more Cisco ASA content coming up.\n\n429\n00:20:55.547 --> 00:21:01.560\n[MUSIC]\n\n",
          "vimeoId": "132862225"
        },
        {
          "description": null,
          "length": "1760",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-2-1-filtering_wan_traffic-070615-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-2-1-filtering_wan_traffic-070615-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-2-1-filtering_wan_traffic-070615-1-sm.jpg",
          "title": "Filtering WAN Traffic",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:07.842\n[MUSIC]\n\n2\n00:00:07.842 --> 00:00:08.803\n>> In this segment,\n\n3\n00:00:08.803 --> 00:00:12.905\nwe're gonna take a look at configuring\nthe Cisco ASA to filter WAN traffic.\n\n4\n00:00:12.905 --> 00:00:17.270\nRemember that by default, a lot of times\nthe Cisco ASA has all of the actual\n\n5\n00:00:17.270 --> 00:00:20.721\ntraffic being blocked coming\nin from the WAN interface and\n\n6\n00:00:20.721 --> 00:00:24.397\nthat setting by itself works\nexactly the way it's supposed.\n\n7\n00:00:24.397 --> 00:00:28.183\nSo Don,\nI've got the firewall role that I need.\n\n8\n00:00:28.183 --> 00:00:29.541\nWhat else do I need to do?\n\n9\n00:00:29.541 --> 00:00:32.548\n>> If you are a small office,\nhome office type environment and\n\n10\n00:00:32.548 --> 00:00:36.658\nyou're just using your ASA to provide\nInternet connectivity for your clients.\n\n11\n00:00:36.658 --> 00:00:40.034\nSo you've got a couple of workstations and\nthey hit the ASA on the inside\n\n12\n00:00:40.034 --> 00:00:43.467\ninterface and then they go out to\nthe internet on the outside interface,\n\n13\n00:00:43.467 --> 00:00:45.226\nyou don't have to change anything.\n\n14\n00:00:45.226 --> 00:00:48.522\nThe default rules actually\nhandle that pretty effectively.\n\n15\n00:00:48.522 --> 00:00:51.679\nLet's take a look at those default rules\nand kinda see what I'm talking about.\n\n16\n00:00:51.679 --> 00:00:54.037\nSo, I've got an ASA pulled up right here.\n\n17\n00:00:54.037 --> 00:00:57.740\nAnd when you look at the rules,\nthis is what we expect to see by default.\n\n18\n00:00:57.740 --> 00:01:00.526\nActually, let's run through this\nfrom the very beginning here.\n\n19\n00:01:00.526 --> 00:01:06.320\nSo if you just logged into a brand new\nASA, you'd see this screen right here.\n\n20\n00:01:06.320 --> 00:01:09.214\nAnd if you jump over to your\nconfigurations screen and\n\n21\n00:01:09.214 --> 00:01:13.587\njump down to your firewall section, it's\ngonna go right to your access rules and\n\n22\n00:01:13.587 --> 00:01:16.057\nyou'll see the list of\nrules on your system.\n\n23\n00:01:16.057 --> 00:01:20.549\nAnd what you’re seeing here are the rules\ntied to your individual interfaces and\n\n24\n00:01:20.549 --> 00:01:23.801\nwhat I’ve got on my screen,\nthese are the default rules.\n\n25\n00:01:23.801 --> 00:01:27.420\nI haven’t changed these rules one single\nbit from when this system was originally\n\n26\n00:01:27.420 --> 00:01:28.003\nbrought up.\n\n27\n00:01:28.003 --> 00:01:31.668\nNow what you What you see might be\na little different than what I see,\n\n28\n00:01:31.668 --> 00:01:34.516\ncuz it's based on the interfaces\non your firewall.\n\n29\n00:01:34.516 --> 00:01:38.116\nIf the only thing you've done is to\ncomplete the basic Startup Wizard,\n\n30\n00:01:38.116 --> 00:01:42.290\nthen you'll likely only see three\nentries here whereas I see four.\n\n31\n00:01:42.290 --> 00:01:47.330\nSo you'll see an inside,\nan outside and a global.\n\n32\n00:01:47.330 --> 00:01:49.340\nThose are the three that\nyou're definitely gonna have.\n\n33\n00:01:49.340 --> 00:01:52.684\nAnd then if you have more interfaces,\nyou may have set some of those up.\n\n34\n00:01:52.684 --> 00:01:57.165\nLike I've added this DMZ interface here,\nso I've got an extra one.\n\n35\n00:01:57.165 --> 00:02:02.297\nIf you're on 5505, the ASA 5505\nwill have that DMZ one by default.\n\n36\n00:02:02.297 --> 00:02:06.464\nIf you're on a 5506 or higher,\nthe DMZ won't be there by default, but\n\n37\n00:02:06.464 --> 00:02:07.602\nyou can add that in.\n\n38\n00:02:07.602 --> 00:02:12.245\nI'm on an ASAv, the virtual appliance,\nwhich is like a 5506.\n\n39\n00:02:12.245 --> 00:02:16.298\nI've just added in that DMZ interface and\nthen you can see all your interfaces back\n\n40\n00:02:16.298 --> 00:02:19.606\nthere on the home screen,\nyou get your interface list right here.\n\n41\n00:02:19.606 --> 00:02:22.323\nSo see how I've got DMZ inside and\noutside.\n\n42\n00:02:22.323 --> 00:02:24.785\nSo the only set of rules that\nI don't see are global and\n\n43\n00:02:24.785 --> 00:02:26.165\nwhat the heck does that mean?\n\n44\n00:02:26.165 --> 00:02:30.543\nWell, global, those are rules that\napply to all of our interfaces.\n\n45\n00:02:30.543 --> 00:02:32.041\nNow, I'll talk about\nthose a little bit later.\n\n46\n00:02:32.041 --> 00:02:35.445\nWe don't normally use them, but\nthey apply to all interfaces.\n\n47\n00:02:35.445 --> 00:02:37.500\nBut the other rules that we're seeing,\n\n48\n00:02:37.500 --> 00:02:40.046\napply to the individual\ninterfaces themselves.\n\n49\n00:02:40.046 --> 00:02:44.248\nAnd on the inside interface, this is our\nsafe network, our LAN, notice the rule.\n\n50\n00:02:44.248 --> 00:02:51.782\nIt says, any source is allowed to\ntalk to any less secure network.\n\n51\n00:02:51.782 --> 00:02:54.371\nWhat does it mean by less secure network?\n\n52\n00:02:54.371 --> 00:02:58.180\nWell, every interface\nhas a security level.\n\n53\n00:02:58.180 --> 00:03:01.290\nThe security level is a number,\nit's 0 to 100.\n\n54\n00:03:01.290 --> 00:03:04.790\nAnd the higher the number,\nthe more secure or\n\n55\n00:03:04.790 --> 00:03:07.170\nthe more private that network needs to be.\n\n56\n00:03:07.170 --> 00:03:11.244\nThe lower the number, the less secure,\nthe more public the network needs to be.\n\n57\n00:03:11.244 --> 00:03:14.338\nSo the outside interface,\nthis outside, that's our WAN,\n\n58\n00:03:14.338 --> 00:03:16.165\nour Wide Area Network connection.\n\n59\n00:03:16.165 --> 00:03:19.278\nThat's our least secured network,\nthat's the public network.\n\n60\n00:03:19.278 --> 00:03:22.690\nSo that has a security level of zero.\n\n61\n00:03:22.690 --> 00:03:27.014\nAnd then our inside network,\nour LAN that's our most private network.\n\n62\n00:03:27.014 --> 00:03:30.691\nSo, it has a security level of 100 and\nyou don't see it here on this screen\n\n63\n00:03:30.691 --> 00:03:33.110\nunless I scroll over, but\nif we scroll over a bit.\n\n64\n00:03:33.110 --> 00:03:35.071\nOop, maybe we don't see it there either.\n\n65\n00:03:35.071 --> 00:03:36.487\nLet me jump over to my interface screen.\n\n66\n00:03:36.487 --> 00:03:37.728\nI thought we saw it there.\n\n67\n00:03:37.728 --> 00:03:43.290\nIf I go to my Device Setup and\nInterface Settings and Interfaces.\n\n68\n00:03:43.290 --> 00:03:46.727\nHere I see the interfaces list and\nright here, I've got security level.\n\n69\n00:03:46.727 --> 00:03:52.473\n0 and 100 inside and outside or\noutside is 0, inside is 100.\n\n70\n00:03:52.473 --> 00:03:55.596\nNow I added DMZ,\nI added a third interface.\n\n71\n00:03:55.596 --> 00:03:59.590\nAnd you could add more, four or five, you\ncould add as many interfaces as I needed.\n\n72\n00:03:59.590 --> 00:04:04.210\nEvery time you add an interface,\nyou've got to give it a security level.\n\n73\n00:04:04.210 --> 00:04:06.954\nAnd the security level is important,\nbecause the way these rules were written.\n\n74\n00:04:06.954 --> 00:04:11.913\nBy default, a security level is\nallowed to access any other network\n\n75\n00:04:11.913 --> 00:04:14.093\nwith a lower security level.\n\n76\n00:04:14.093 --> 00:04:17.112\nSo see how I gave my DMZ\na security level of 50.\n\n77\n00:04:17.112 --> 00:04:19.833\nWell, what that means is that my LAN,\n\n78\n00:04:19.833 --> 00:04:23.590\nmy inside network has\nthe security level of 100.\n\n79\n00:04:23.590 --> 00:04:29.952\nSo it's allowed to access my DMZ and\nmy outside 50 and 0.\n\n80\n00:04:29.952 --> 00:04:35.094\nThe DMZ at 50 is allowed to\naccess outside, which is 0.\n\n81\n00:04:35.094 --> 00:04:38.810\nBut it's not allowed to access my inside,\nwhich is a hundred.\n\n82\n00:04:38.810 --> 00:04:40.528\nA hundred is higher.\n\n83\n00:04:40.528 --> 00:04:44.768\nAnd then WAN, what we are talking about in\nthis episode has a security level of zero.\n\n84\n00:04:44.768 --> 00:04:50.245\nSo it can't access the DMZ or the LAN,\nbecause it is 50, 100, those are higher.\n\n85\n00:04:50.245 --> 00:04:55.086\nBy default, just like Ronnie said,\nall WAN traffic is blocked.\n\n86\n00:04:55.086 --> 00:04:59.666\nNothing's allowed to come from\nthe outside in unless it's in\n\n87\n00:04:59.666 --> 00:05:02.052\nreply to something we sent out.\n\n88\n00:05:02.052 --> 00:05:03.154\nIf we send out a message.\n\n89\n00:05:03.154 --> 00:05:07.752\nIf I try and go to CNN.com,\ntheir servers are allowed to reply to me.\n\n90\n00:05:07.752 --> 00:05:09.355\nThey can reply and come back through.\n\n91\n00:05:09.355 --> 00:05:11.367\nIt's like a temporary\nrule that's created and\n\n92\n00:05:11.367 --> 00:05:13.186\nyou don't see those here in the rule list.\n\n93\n00:05:13.186 --> 00:05:15.126\nWhen we go to firewall and access rules,\n\n94\n00:05:15.126 --> 00:05:19.246\nyou don't see the temporary rules that are\ncreated for those replies, but they are.\n\n95\n00:05:19.246 --> 00:05:22.891\nIt's part of an ASA being what's\ncalled a stateful firewall.\n\n96\n00:05:22.891 --> 00:05:25.498\nAnd so if all you need is internet\naccess for your systems and\n\n97\n00:05:25.498 --> 00:05:28.682\nyou wanna keep them private from\nthe internet, default rules are done,\n\n98\n00:05:28.682 --> 00:05:30.530\nthis could be the shortest episode ever.\n\n99\n00:05:30.530 --> 00:05:32.550\nWe close it right there.\n\n100\n00:05:32.550 --> 00:05:34.940\nYou got all the Win filtering you need,\nbut\n\n101\n00:05:34.940 --> 00:05:38.330\nthere's times when you need\nto allow some traffic in.\n\n102\n00:05:38.330 --> 00:05:42.909\nYou need to allow some traffic to\npass from a less secure network,\n\n103\n00:05:42.909 --> 00:05:46.491\nlike the outside network\nto our inside networks and\n\n104\n00:05:46.491 --> 00:05:50.926\na great example of that would be\na DMZ like I've got right here.\n\n105\n00:05:50.926 --> 00:05:53.587\nIn a DMZ, you might have\nsomething like a web server.\n\n106\n00:05:53.587 --> 00:05:55.722\nI've got a web server in my DMZ.\n\n107\n00:05:55.722 --> 00:05:58.601\nNow my laptop is on the inside network.\n\n108\n00:05:58.601 --> 00:06:02.522\nSo I'm right here and\nif I fire up a web browser,\n\n109\n00:06:02.522 --> 00:06:07.238\nI can browse to my own little web server,\n192.50.\n\n110\n00:06:07.238 --> 00:06:09.304\nThere we go and\nI get my Apache 2 Test Page.\n\n111\n00:06:09.304 --> 00:06:10.683\n>> [LAUGH]\n>> That's the web server,\n\n112\n00:06:10.683 --> 00:06:11.661\nI was able to browse to it.\n\n113\n00:06:11.661 --> 00:06:16.771\nSo my traffic just went\nin my inside interface,\n\n114\n00:06:16.771 --> 00:06:22.539\njumped over to my DMZ interface and\nexited to the DMZ.\n\n115\n00:06:22.539 --> 00:06:27.357\nI'm allowed to get there, but what about\nsomebody out there on the internet?\n\n116\n00:06:27.357 --> 00:06:31.207\nIf someone in the internet on the outside\nthe interface tries to go to that website,\n\n117\n00:06:31.207 --> 00:06:35.065\nthey're gonna hity the outside interface\nand the outside interface has one rule.\n\n118\n00:06:35.065 --> 00:06:38.119\nNothing is allowed, it's a deny all.\n\n119\n00:06:38.119 --> 00:06:42.601\nThere's this implicit and\nimplied rule that denies everything.\n\n120\n00:06:42.601 --> 00:06:45.920\nAnd so when I look at the outside rules\nhere, see how there's zero implicit\n\n121\n00:06:45.920 --> 00:06:49.290\nincoming rules,\nthere's nothing kind of defined here.\n\n122\n00:06:49.290 --> 00:06:52.073\nWell, it's not that there's\nnothing defined there,\n\n123\n00:06:52.073 --> 00:06:54.804\nit's that it's going to\ndeny everything by default.\n\n124\n00:06:54.804 --> 00:07:00.216\nAnd the way that happens is the rules here\non the interface are applied first and\n\n125\n00:07:00.216 --> 00:07:04.398\nwhen none of them match,\nthen it jumps over to the globals and\n\n126\n00:07:04.398 --> 00:07:06.285\nit looks for a match there.\n\n127\n00:07:06.285 --> 00:07:09.966\nAnd it finds this big match and\nit denies and it blocks it and that's it.\n\n128\n00:07:09.966 --> 00:07:10.546\nIt's done.\n\n129\n00:07:10.546 --> 00:07:15.682\nEven if I got rid of this global role\nthough, an implicit role would appear and\n\n130\n00:07:15.682 --> 00:07:19.010\nthat would tell it not\nto allow that traffic.\n\n131\n00:07:19.010 --> 00:07:22.440\nWe have to create rules that\nallow the traffic through and\n\n132\n00:07:22.440 --> 00:07:25.300\nthat traffic, we just have to\ndefine what we want that to be.\n\n133\n00:07:25.300 --> 00:07:29.846\nIf I got a web server in my DMZ,\nI need to go setup a role to allow that.\n\n134\n00:07:29.846 --> 00:07:32.825\nNow I can do that based on the IP\naddress of the server, but\n\n135\n00:07:32.825 --> 00:07:36.940\none of the nice things that we can do\nis instead of, well, let's start there.\n\n136\n00:07:36.940 --> 00:07:37.926\nLet's start with an IP address.\n\n137\n00:07:37.926 --> 00:07:40.432\nWe'll go simple and then I'm gonna\nshow you something that's a little\n\n138\n00:07:40.432 --> 00:07:42.617\nmore complex that makes life\na little bit easier afterwards.\n\n139\n00:07:42.617 --> 00:07:46.588\nSo on my outside interface,\nI'm gonna add a rule.\n\n140\n00:07:46.588 --> 00:07:50.771\nI'm just gonna go in here and\nhit Add and I highlighted outside first.\n\n141\n00:07:50.771 --> 00:07:53.393\nSo in the interface drop-down box,\nit's already got outside.\n\n142\n00:07:53.393 --> 00:07:56.432\nIf I highlighted something else, I would\njust have choose what interface I'm\n\n143\n00:07:56.432 --> 00:07:58.327\nworking with and\nI'm working with the outside.\n\n144\n00:07:58.327 --> 00:08:01.612\nNotice I've got the any option,\nthat would create a global rule.\n\n145\n00:08:01.612 --> 00:08:03.480\nA rule that would apply to all interfaces.\n\n146\n00:08:04.800 --> 00:08:07.782\nNow, I'm gonna choose outside,\nthen I'm gonna say what I'm doing.\n\n147\n00:08:07.782 --> 00:08:12.930\nI wanna permit some traffic from\nthe outside to get to my web server.\n\n148\n00:08:12.930 --> 00:08:15.140\nSo I'm permitting traffic through.\n\n149\n00:08:16.250 --> 00:08:19.550\nThen I need to specify the source and\nthere's three values I can specify here.\n\n150\n00:08:19.550 --> 00:08:21.500\nSource, user, security group.\n\n151\n00:08:21.500 --> 00:08:23.460\nThe source.\n\n152\n00:08:23.460 --> 00:08:29.000\nThe source is the IP address or network\nwhere these people are coming from.\n\n153\n00:08:29.000 --> 00:08:31.110\nWell if we're talking about\ntraffic coming from the Internet,\n\n154\n00:08:31.110 --> 00:08:32.927\ndo you know what IP address\nthese people are gonna have?\n\n155\n00:08:34.020 --> 00:08:35.860\nAnd now,\nit can be anywhere in the world, right?\n\n156\n00:08:35.860 --> 00:08:38.390\nSo we're usually gonna leave it with this.\n\n157\n00:08:38.390 --> 00:08:40.030\nAny, any source.\n\n158\n00:08:40.030 --> 00:08:42.430\nAnybody out there on the Internet\nis allowed to come in.\n\n159\n00:08:43.820 --> 00:08:44.880\nUser.\n\n160\n00:08:44.880 --> 00:08:51.070\nIf we require them to authenticate,\nwhat user accounts are allowed to come in?\n\n161\n00:08:51.070 --> 00:08:52.680\nWe can specify authentication rules.\n\n162\n00:08:52.680 --> 00:08:55.077\nNow, are Internet users gonna\nauthenticating you to get into\n\n163\n00:08:55.077 --> 00:08:55.683\ntheir system?\n\n164\n00:08:55.683 --> 00:08:56.588\nNo, it's a web server.\n\n165\n00:08:56.588 --> 00:08:59.467\nSo this is gonna be anonymous,\nand so we'll leave that empty.\n\n166\n00:08:59.467 --> 00:09:03.560\nAnd then security groups, you can create\nsecurity groups that define not just one\n\n167\n00:09:03.560 --> 00:09:07.547\ninterface but a group of interfaces where\nthese traffics might be coming from.\n\n168\n00:09:07.547 --> 00:09:11.541\nMaybe you have more than one Internet\nservice provider, more than one ISP.\n\n169\n00:09:11.541 --> 00:09:14.326\nAnd so you can create security\ngroups that kind of encompass that,\n\n170\n00:09:14.326 --> 00:09:16.278\nmost people don't and\nso they leave that way.\n\n171\n00:09:16.278 --> 00:09:18.880\nThe destination though.\n\n172\n00:09:18.880 --> 00:09:21.050\nHere I need to get a little more specific.\n\n173\n00:09:21.050 --> 00:09:24.182\nThe destination, these are people\ncoming from the Internet and\n\n174\n00:09:24.182 --> 00:09:26.320\ngoing to the web server in my DMZ.\n\n175\n00:09:26.320 --> 00:09:31.150\nAnd so I need to specify the IP\naddress of that web server.\n\n176\n00:09:31.150 --> 00:09:33.258\nSo I'm gonna punch that in here, and\n\n177\n00:09:33.258 --> 00:09:36.590\nyou'll see it's auto\nsuggesting my whole network.\n\n178\n00:09:36.590 --> 00:09:39.020\nI don't wanna do the whole network,\nI wanna do that specific host.\n\n179\n00:09:39.020 --> 00:09:41.380\nAnd so I'm going to continue typing.\n\n180\n00:09:41.380 --> 00:09:46.940\nI want this particular IP,\nthat's the IP address of my web server.\n\n181\n00:09:48.250 --> 00:09:52.949\nI don't have a security group to define\nfor this one but then for the service,\n\n182\n00:09:52.949 --> 00:09:54.405\nwhat service do I want?\n\n183\n00:09:54.405 --> 00:09:58.340\nNow, for the service, I've got a web\nserver and so we need to think about that.\n\n184\n00:09:58.340 --> 00:10:02.054\nLike, what protocols and\nports does a web server use?\n\n185\n00:10:02.054 --> 00:10:05.778\nWell for unencrypted traffic\nthere's TCP port 80, for\n\n186\n00:10:05.778 --> 00:10:08.742\nencrypted traffic there's TCP port 443.\n\n187\n00:10:08.742 --> 00:10:13.260\nI might even have custom applications or\nwhatever that might come into the mix too.\n\n188\n00:10:13.260 --> 00:10:15.160\nI can go in and start to specify those.\n\n189\n00:10:15.160 --> 00:10:18.540\nBut the easiest thing to do is just\ndelete whatever's in this box already and\n\n190\n00:10:18.540 --> 00:10:21.960\nthem hit the three dots over here,\nthe ellipsis button.\n\n191\n00:10:21.960 --> 00:10:23.730\nAnd it will let you go through and\npick protocols.\n\n192\n00:10:23.730 --> 00:10:27.370\nNow, Cisco's already defined a lot\nof protocols, so we can use those.\n\n193\n00:10:27.370 --> 00:10:29.588\nI'll show you how to define\nyour own a little bit later.\n\n194\n00:10:29.588 --> 00:10:33.695\nBut I'm gonna go in here and just choose\nHTTP and HTTPS right out of the list.\n\n195\n00:10:33.695 --> 00:10:38.830\nAnd see how it wrote it,\ntcp/http, tcp/https?\n\n196\n00:10:38.830 --> 00:10:41.630\nIt's writing it that way\nbecause there's also a UDP.\n\n197\n00:10:41.630 --> 00:10:44.210\nMaybe I want to allow UDP traffic.\n\n198\n00:10:44.210 --> 00:10:47.450\nWell most web traffic doesn't use that,\nso I'm gonna leave that off and\n\n199\n00:10:47.450 --> 00:10:49.410\njustify the TCP options.\n\n200\n00:10:49.410 --> 00:10:50.930\nAnd I picked more than one protocol.\n\n201\n00:10:50.930 --> 00:10:52.654\nYou can pick as many as you need.\n\n202\n00:10:52.654 --> 00:10:55.399\nPick all the ones that you need to get in\nthere, and I'm just gonna go ahead and\n\n203\n00:10:55.399 --> 00:10:56.730\nsay okay, to that.\n\n204\n00:10:56.730 --> 00:10:58.777\nAnd now, I've got those too.\n\n205\n00:10:58.777 --> 00:11:02.260\nSome of the additional options that\nwe can set, we can turn on logging.\n\n206\n00:11:02.260 --> 00:11:03.840\nDo I wanna log this traffic?\n\n207\n00:11:03.840 --> 00:11:07.815\nNow, just rule of thumb here,\nbe careful with logging because\n\n208\n00:11:07.815 --> 00:11:09.051\nit generates-\n>> Logs.\n\n209\n00:11:09.051 --> 00:11:10.328\n>> Well logs.\n>> [LAUGH]\n\n210\n00:11:10.328 --> 00:11:11.919\n>> It can generate a lot of messages, and\n\n211\n00:11:11.919 --> 00:11:12.975\nit can fill up your logs.\n\n212\n00:11:12.975 --> 00:11:16.223\nEspecially if it's something like a web\nserver where you expect hundreds or\n\n213\n00:11:16.223 --> 00:11:18.571\nthousands of people to be\ngoing to it at any given time.\n\n214\n00:11:18.571 --> 00:11:20.540\nThat can generate a lot of log data.\n\n215\n00:11:20.540 --> 00:11:24.230\nSo if you're going to generate logs\nmake sure it's something that's useful.\n\n216\n00:11:24.230 --> 00:11:27.210\nMaybe you're securing SHH\naccess to a server and\n\n217\n00:11:27.210 --> 00:11:29.430\nyou wanna log any time somebody uses SHH.\n\n218\n00:11:29.430 --> 00:11:31.950\nThat makes sense,\nnot a lot of people are going to use that.\n\n219\n00:11:31.950 --> 00:11:34.247\nBut for just generic web access\nit'd probably be a pretty bad idea\n\n220\n00:11:34.247 --> 00:11:34.966\nto turn on logging.\n\n221\n00:11:34.966 --> 00:11:36.165\nSo I'm gonna disable that.\n\n222\n00:11:36.165 --> 00:11:40.100\nI'm just gonna uncheck that but if you do\ncheck it, you can set the levels that you\n\n223\n00:11:40.100 --> 00:11:45.970\nwant to log and I think the default\nis notifications and higher.\n\n224\n00:11:47.090 --> 00:11:49.100\nSo you can set it to whatever\nlevel you want though but\n\n225\n00:11:49.100 --> 00:11:49.850\nI'm just gonna turn that off.\n\n226\n00:11:51.510 --> 00:11:52.920\nWe'll go ahead and say okay, to that.\n\n227\n00:11:52.920 --> 00:11:55.480\nAnd now, I've got this rule in place.\n\n228\n00:11:55.480 --> 00:11:57.949\nNow, a couple of quick notes about rules.\n\n229\n00:11:57.949 --> 00:12:01.605\nFirst off, they don't actually\ntake effect when you put them in.\n\n230\n00:12:01.605 --> 00:12:03.030\nYou have to hit the Apply button.\n\n231\n00:12:03.030 --> 00:12:07.749\nAnd when you hit the Apply button,\nnow it takes effect but it hasn't saved.\n\n232\n00:12:07.749 --> 00:12:10.829\nSo see that little floppy disk icon down\nhere in my bar letting me know that I\n\n233\n00:12:10.829 --> 00:12:11.940\nhaven't saved.\n\n234\n00:12:11.940 --> 00:12:12.790\nAnd so I can hit save.\n\n235\n00:12:12.790 --> 00:12:15.370\nIf I reboot the firewall right\nnow I'm gonna lose my rules,\n\n236\n00:12:15.370 --> 00:12:16.910\nthat can be a good thing.\n\n237\n00:12:16.910 --> 00:12:18.830\nIt's possible you can\ncreate a firewall rule and\n\n238\n00:12:18.830 --> 00:12:20.530\nlock yourself out of the firewall.\n\n239\n00:12:20.530 --> 00:12:22.640\nIf you haven't saved yet\nyou can just reboot the firewall.\n\n240\n00:12:23.650 --> 00:12:25.630\nRule goes away you're back in.\n\n241\n00:12:25.630 --> 00:12:28.580\nSo this is a great way\nto test before you save.\n\n242\n00:12:28.580 --> 00:12:31.111\nI hit Apply,\nthe rule is now taking affect and\n\n243\n00:12:31.111 --> 00:12:34.120\nI can test to make sure it\nworks right before I save it.\n\n244\n00:12:34.120 --> 00:12:37.602\nAnd then if I don't save and the rule\ndoesn't work the way I want I can always\n\n245\n00:12:37.602 --> 00:12:39.379\njust roll back by quickly rebooting.\n\n246\n00:12:39.379 --> 00:12:41.770\nWell, let's see if this works.\n\n247\n00:12:41.770 --> 00:12:45.160\nIf I'm out there on the Internet,\nI should be able to browse to this IP, and\n\n248\n00:12:45.160 --> 00:12:46.540\nget to this system.\n\n249\n00:12:46.540 --> 00:12:51.080\nAnd so I'll switch over to a host I have\nsitting on the border of my network.\n\n250\n00:12:52.930 --> 00:12:57.520\nSo here's a guy who is\nsitting on my border.\n\n251\n00:12:57.520 --> 00:13:01.482\nAnd you'll see I've got an IP\naddress of 209.251.159.183.\n\n252\n00:13:01.482 --> 00:13:07.350\nSo I'm sitting outside of my network and\nI'm gonna fire up Safari.\n\n253\n00:13:07.350 --> 00:13:10.614\nAnd let's see if I can\nget to that network.\n\n254\n00:13:10.614 --> 00:13:14.080\nTo 198.50.174.40, and\nthere's the Apache test page.\n\n255\n00:13:19.270 --> 00:13:20.750\nSo I'm able to get to it.\n\n256\n00:13:20.750 --> 00:13:23.670\nWhen that rule wasn't there\nI wasn't able to get to it.\n\n257\n00:13:23.670 --> 00:13:25.252\nLet's see if I disable that.\n\n258\n00:13:25.252 --> 00:13:28.000\nI'm gonna jump back over to my client here\nand I'm just gonna take this rule and\n\n259\n00:13:28.000 --> 00:13:31.980\nsee how you got a little check box\nright here under the Enabled column?\n\n260\n00:13:31.980 --> 00:13:34.178\nI can uncheck that.\n\n261\n00:13:34.178 --> 00:13:36.616\nAnd see how there's a line\ndrawn through the rule now,\n\n262\n00:13:36.616 --> 00:13:39.310\nit's letting me know that\nthis rules is disabled.\n\n263\n00:13:39.310 --> 00:13:43.240\nAnd so if I jump back to that client,\nthat rule is no longer taking effect.\n\n264\n00:13:43.240 --> 00:13:47.135\nLet's see what happens here, if I try and\n\n265\n00:13:47.135 --> 00:13:52.937\nbrowse to 198 .50.174.39 and\nit's thinking.\n\n266\n00:13:52.937 --> 00:13:56.850\nIt can't get there, so\nthat rule is doing what I want it to do.\n\n267\n00:13:56.850 --> 00:13:59.638\nIt's either allowing the traffic or\nblocking the traffic and\n\n268\n00:13:59.638 --> 00:14:03.078\nit's been basically meeting my needs\nwhether it's gonna get there or not.\n\n269\n00:14:03.078 --> 00:14:05.780\nAnd then I can always just jump right\nback over and turn that rule back on.\n\n270\n00:14:07.090 --> 00:14:10.600\nAnd apply it, and now people will\nbe able to get to the website.\n\n271\n00:14:10.600 --> 00:14:14.633\nNow, there might be other servers\nin my DMZ that I wanna go in and\n\n272\n00:14:14.633 --> 00:14:15.860\nstart approving.\n\n273\n00:14:15.860 --> 00:14:19.660\nI might have FTP servers and\nemail servers and so on.\n\n274\n00:14:19.660 --> 00:14:22.480\nAnd so I might come in and\nstart adding more rules.\n\n275\n00:14:22.480 --> 00:14:28.828\nI might come in and say,\nmaybe I've got at 198.50.174.41,\n\n276\n00:14:28.828 --> 00:14:31.462\nmaybe I've got a mail server.\n\n277\n00:14:31.462 --> 00:14:36.195\nAnd so\non that mail server I want to allow,\n\n278\n00:14:36.195 --> 00:14:41.875\nlet's say we do SMTP and\nwe do choose it there way,\n\n279\n00:14:41.875 --> 00:14:46.520\nand maybe some POP3, and some IMAP 4.\n\n280\n00:14:46.520 --> 00:14:48.251\nSo we'll just add in\nthe various email protocols.\n\n281\n00:14:48.251 --> 00:14:50.120\nSo I wanna add these in too.\n\n282\n00:14:50.120 --> 00:14:53.230\nAnd so now,\nI've got my email server defined.\n\n283\n00:14:53.230 --> 00:14:55.350\nNotice the different IPs for\nthe destinations.\n\n284\n00:14:56.370 --> 00:15:01.600\nWhen you create a rule, you can have\nmore than one destination IP and\n\n285\n00:15:01.600 --> 00:15:02.980\nmore than one destination protocol.\n\n286\n00:15:02.980 --> 00:15:04.440\nYou've seen more than one protocol.\n\n287\n00:15:04.440 --> 00:15:07.320\nI could've done this all in one rule but\nthere's a little problem there.\n\n288\n00:15:08.470 --> 00:15:11.540\nIf I were to go in and\ncreate this all in one rule,\n\n289\n00:15:11.540 --> 00:15:16.110\nI would be allowing web traffic\nto my mail server also.\n\n290\n00:15:16.110 --> 00:15:18.428\nAnd I'd be allowing mail\ntraffic to my web server also.\n\n291\n00:15:18.428 --> 00:15:20.240\nAnd so that's not what we want.\n\n292\n00:15:20.240 --> 00:15:23.310\nSo you need to break these apart\ninto separate rules based on\n\n293\n00:15:23.310 --> 00:15:25.430\nwhat it is those servers\nare going to be doing.\n\n294\n00:15:26.580 --> 00:15:30.670\nNow, it's becoming increasingly common for\npeople not to just have one server but\n\n295\n00:15:30.670 --> 00:15:32.360\nto have more than one\nserver doing something.\n\n296\n00:15:32.360 --> 00:15:34.410\nSo maybe I have five web servers.\n\n297\n00:15:34.410 --> 00:15:36.820\nWell if I have five web servers,\nI could go in here and\n\n298\n00:15:36.820 --> 00:15:39.620\nstart to punch those in one by one.\n\n299\n00:15:39.620 --> 00:15:44.009\nSo all you have to do is put the IPs\nin and separate them by a semicolon.\n\n300\n00:15:44.009 --> 00:15:47.068\nAnd so maybe like .42 and .43,\n\n301\n00:15:47.068 --> 00:15:53.100\nmaybe those were all web servers also,\nas I punch those in, there we go.\n\n302\n00:15:53.100 --> 00:15:56.207\nNow I've got all three of those\nweb servers in the list and\n\n303\n00:15:56.207 --> 00:15:58.270\nthey're allowed, okay.\n\n304\n00:15:58.270 --> 00:15:59.620\nBut maybe I wanna add something else.\n\n305\n00:15:59.620 --> 00:16:05.780\nMaybe sometimes I'm working from home, and\nat home, I see the web servers go down.\n\n306\n00:16:05.780 --> 00:16:06.460\nI'm like, oh shoot!\n\n307\n00:16:06.460 --> 00:16:08.970\nI gotta get in there and find out\nwhat's wrong with those web servers.\n\n308\n00:16:08.970 --> 00:16:14.020\nSo, I want to allow SSH\ntraffic just from my home\n\n309\n00:16:14.020 --> 00:16:15.960\nto get to these web servers, all right.\n\n310\n00:16:15.960 --> 00:16:19.070\nSo, I might wanna add another rule\nhere to allow that SSH traffic.\n\n311\n00:16:19.070 --> 00:16:20.620\nSo let me show you guys what we can do.\n\n312\n00:16:20.620 --> 00:16:22.810\nWe can take this rule and\n\n313\n00:16:22.810 --> 00:16:27.320\nwhen you add a new rule, normally\nyou're adding one if you just say add.\n\n314\n00:16:27.320 --> 00:16:29.940\nIt's adding a rule after\nwhatever you've highlighted, so\n\n315\n00:16:29.940 --> 00:16:31.690\nit would just go right after this one.\n\n316\n00:16:31.690 --> 00:16:33.110\nBut if you hit the little drop-down box,\n\n317\n00:16:33.110 --> 00:16:36.490\nyou'll see there's a few other\noptions here like Insert After,\n\n318\n00:16:36.490 --> 00:16:40.160\nwhich is what you normally do or\nInsert which puts the rule before.\n\n319\n00:16:40.160 --> 00:16:42.360\nSo you can choose where\nthe new rule is gonna go.\n\n320\n00:16:42.360 --> 00:16:44.312\nNow why does that matter?\n\n321\n00:16:44.312 --> 00:16:48.170\nWell, the order of the rules\nis pretty important.\n\n322\n00:16:48.170 --> 00:16:51.550\nBecause the rules are applied\naccording to the number on the left.\n\n323\n00:16:51.550 --> 00:16:55.910\nSo when traffic comes in, it looks for\nthe first rule that matches.\n\n324\n00:16:55.910 --> 00:16:57.870\nSo when traffic comes in\nthe outside interface,\n\n325\n00:16:57.870 --> 00:17:02.130\nit comes here to outside and it says\ndoes that traffic match rule number one?\n\n326\n00:17:02.130 --> 00:17:04.480\nIf so, great, we let it in or we block it.\n\n327\n00:17:04.480 --> 00:17:06.860\nDoes the traffic match rule number two?\n\n328\n00:17:06.860 --> 00:17:08.830\nIf so, let it in, otherwise block it.\n\n329\n00:17:08.830 --> 00:17:11.890\nThere's traffic match rule number\nthree and kind of down in the list.\n\n330\n00:17:11.890 --> 00:17:15.685\nAnd if it doesn't match any of it,\nthen it jumps over to our global side,\n\n331\n00:17:15.685 --> 00:17:18.910\nwe got a big deny all and\nthat's it, the traffic goes away.\n\n332\n00:17:18.910 --> 00:17:19.420\nRight?\n\n333\n00:17:19.420 --> 00:17:21.740\nSo that's kind of the order\nthat this stuff goes through.\n\n334\n00:17:21.740 --> 00:17:24.120\nSo we might need to take our rules and\nrearrange them.\n\n335\n00:17:24.120 --> 00:17:27.090\nAnd you can do it ahead of time,\nif you know where you want the rule to be.\n\n336\n00:17:27.090 --> 00:17:30.520\nOr even afterwards, you can just highlight\na rule and you've got these black arrows,\n\n337\n00:17:30.520 --> 00:17:33.780\nwhere you can move the rules up and\ndown to change their order.\n\n338\n00:17:33.780 --> 00:17:37.920\nSo that's easy enough to kind of\nmanipulate after the fact, all right.\n\n339\n00:17:37.920 --> 00:17:40.913\nAnother thing we can do,\nwhen you right-click on a rule,\n\n340\n00:17:40.913 --> 00:17:44.690\nyou'll see where you can do\nthings like copying the rule.\n\n341\n00:17:44.690 --> 00:17:46.698\nIf I'm gonna be adding a new rule,\n\n342\n00:17:46.698 --> 00:17:49.690\nthat's gonna do just the SSH\nto these web servers.\n\n343\n00:17:49.690 --> 00:17:53.490\nWell, the web servers are the same, I\ndon't want to go through and reenter them.\n\n344\n00:17:53.490 --> 00:17:54.970\nAll I'm changing are the protocols.\n\n345\n00:17:54.970 --> 00:17:58.450\nSo if I copy this rule,\nright, I can copy it.\n\n346\n00:17:58.450 --> 00:18:02.150\nAnd then you can choose, you can\nright-click and choose Paste After.\n\n347\n00:18:02.150 --> 00:18:05.840\nAnd it'll create a duplicate of\nthe rule right after the first one.\n\n348\n00:18:05.840 --> 00:18:09.999\nAnd this way all I have\nto do is come through and\n\n349\n00:18:09.999 --> 00:18:13.960\nchange that protocol to SSH, there we go.\n\n350\n00:18:13.960 --> 00:18:16.920\nAnd I can change the source to\nwhatever my home's address is, right?\n\n351\n00:18:16.920 --> 00:18:18.660\nMaybe it's 1.1.1.1, right?\n\n352\n00:18:18.660 --> 00:18:21.870\nSo I'll come and\nI'll put that in there and we'll have it.\n\n353\n00:18:21.870 --> 00:18:26.165\nAnd so now you'll see where I'm approving\neverybody on the internet to come in on\n\n354\n00:18:26.165 --> 00:18:27.316\nport 80 or 443.\n\n355\n00:18:27.316 --> 00:18:31.687\nAnd I'm approving just my home\nwhich is not 1.1.1.1, but\n\n356\n00:18:31.687 --> 00:18:33.840\nwe'll pretend on SSH, right.\n\n357\n00:18:33.840 --> 00:18:36.370\nNow SSH, that's management traffic.\n\n358\n00:18:36.370 --> 00:18:37.770\nI probably wanna log that, right.\n\n359\n00:18:37.770 --> 00:18:38.650\nI wanna keep a record of it.\n\n360\n00:18:38.650 --> 00:18:42.449\nSo let me edit that rule and\nI'm gonna turn logging on for that one.\n\n361\n00:18:42.449 --> 00:18:46.120\nNow you won't see anything too\ndifferent here, but if I scroll over.\n\n362\n00:18:46.120 --> 00:18:48.330\nSee how this one shows logging disabled?\n\n363\n00:18:48.330 --> 00:18:49.200\nAnd this one doesn't.\n\n364\n00:18:49.200 --> 00:18:51.300\nThis one actually has logging enabled,\nright?\n\n365\n00:18:51.300 --> 00:18:54.210\nEnabled is actually the default\nfunction of ASA rules.\n\n366\n00:18:54.210 --> 00:18:57.100\nIf you work with older ASAs,\nlike any of the 8 points or\n\n367\n00:18:57.100 --> 00:19:00.910\nearlier, those guys all\ndefaulted to logging being off.\n\n368\n00:19:00.910 --> 00:19:04.790\nIn the ASA 9 points and higher,\nthose have logging on by default.\n\n369\n00:19:04.790 --> 00:19:05.809\nSo just a little variation.\n\n370\n00:19:08.010 --> 00:19:11.130\nAll right, so now that that's done,\nwe're pretty much in business.\n\n371\n00:19:11.130 --> 00:19:15.250\nNow I do have a slight problem,\n1.1.1.1 is not my actual IP.\n\n372\n00:19:15.250 --> 00:19:19.200\nAnd even if it were, I'm not at home right\nnow, so I can't really test this rule.\n\n373\n00:19:19.200 --> 00:19:21.120\nHow would I know if the rule worked?\n\n374\n00:19:21.120 --> 00:19:24.270\nWell, there's a really neat utility\nright here, the Packet Trace.\n\n375\n00:19:24.270 --> 00:19:27.310\nYou can use the Packet Trace to\nsimulate traffic and see whether or\n\n376\n00:19:27.310 --> 00:19:28.760\nnot it would work\naccording to the firewall.\n\n377\n00:19:28.760 --> 00:19:29.930\nSo I'm gonna do that.\n\n378\n00:19:29.930 --> 00:19:31.640\nI'm gonna go to Packet Trace and\n\n379\n00:19:31.640 --> 00:19:36.180\nI'm gonna tell it that I've got some TCP\ntraffic coming in on my outside interface.\n\n380\n00:19:36.180 --> 00:19:39.440\nI'm gonna tell it that's\nthe source is 1.1.1.1.\n\n381\n00:19:39.440 --> 00:19:41.800\nNow how did it know to\nput that in there for me.\n\n382\n00:19:41.800 --> 00:19:43.710\nWell, cuz I was highlighting that rule.\n\n383\n00:19:43.710 --> 00:19:45.170\nIf you highlight a rule and\n\n384\n00:19:45.170 --> 00:19:48.860\nhit Packet Trace, it's gonna fill\nit out according to that rule.\n\n385\n00:19:48.860 --> 00:19:51.150\nIt assumes that's what you want to test.\n\n386\n00:19:51.150 --> 00:19:54.670\nAnd so, it's already got kind of the\ninformation in here that I wanted to have,\n\n387\n00:19:54.670 --> 00:19:56.680\nbut you can fill this out yourself too.\n\n388\n00:19:56.680 --> 00:19:58.790\nSpecify a random Source Port number,\n\n389\n00:19:58.790 --> 00:20:01.010\nthe Destination will the the port\nof the traffic you're using.\n\n390\n00:20:01.010 --> 00:20:03.060\nSSH uses port 22.\n\n391\n00:20:03.060 --> 00:20:07.120\nAnd then you can hit Start and\nit's gonna run a simulation.\n\n392\n00:20:07.120 --> 00:20:10.232\nIt's gonna say all right, what if this\ntraffic comes in the outside interface,\n\n393\n00:20:10.232 --> 00:20:13.660\ngoes through routing, goes through\nan Access List lookup, what happens?\n\n394\n00:20:13.660 --> 00:20:17.620\nAnd notice here,\nI get that I was blocked, right?\n\n395\n00:20:17.620 --> 00:20:20.640\nIf my flow was denied\nby a configured rule,\n\n396\n00:20:20.640 --> 00:20:24.020\nI wasn't able to get to the system,\nall right.\n\n397\n00:20:24.020 --> 00:20:25.130\nWhy is that?\n\n398\n00:20:25.130 --> 00:20:26.880\nWell, something went wrong somewhere.\n\n399\n00:20:26.880 --> 00:20:31.170\nSo [LAUGH] if we look at it, I came in\nthe outside interface, TCP Port 22,\n\n400\n00:20:31.170 --> 00:20:36.110\nI came in on 1.1.1.1, so\nit looks like my rule should be good.\n\n401\n00:20:36.110 --> 00:20:39.070\nLet’s find out what I did wrong here.\n\n402\n00:20:39.070 --> 00:20:40.690\nAnd looking at that rule,\n\n403\n00:20:40.690 --> 00:20:43.110\nit looks like that traffic should\nhave been able to come through.\n\n404\n00:20:43.110 --> 00:20:45.640\nI might have\nNetwork Address Translation issue.\n\n405\n00:20:45.640 --> 00:20:46.550\nThose can creep up.\n\n406\n00:20:46.550 --> 00:20:51.280\nAnd we haven't done a segment on NAT yet,\nso I don't wanna get too involved in that.\n\n407\n00:20:51.280 --> 00:20:54.228\nBut it is a good way to simulate and\nsee what would happen.\n\n408\n00:20:54.228 --> 00:20:57.030\nOh [LAUGH], let me tell you why.\n\n409\n00:20:57.030 --> 00:20:59.560\nI actually told you guys why\njust a few minutes ago and\n\n410\n00:20:59.560 --> 00:21:00.930\nthen ignored my own advice.\n\n411\n00:21:00.930 --> 00:21:02.830\nRemember when you create rules?\n\n412\n00:21:02.830 --> 00:21:04.780\nThey don't take effect\nuntil you hit Apply.\n\n413\n00:21:04.780 --> 00:21:06.280\nI haven't hit Apply yet.\n\n414\n00:21:06.280 --> 00:21:10.700\nAnd so if I hit Apply, that rule\nis now in effect on the firewall.\n\n415\n00:21:10.700 --> 00:21:12.930\nAnd if I go back to my Packet Trace and\n\n416\n00:21:12.930 --> 00:21:16.955\nI run that exact same simulation again and\nI start it up, right.\n\n417\n00:21:18.470 --> 00:21:20.761\nHere it goes.\nI'm gonna see some different responses\n\n418\n00:21:20.761 --> 00:21:22.340\nthis time, all right.\n\n419\n00:21:22.340 --> 00:21:24.670\nNow while it's running,\nfunny little note here.\n\n420\n00:21:24.670 --> 00:21:27.540\nSee the animation and\nhow long it's taking to do this?\n\n421\n00:21:27.540 --> 00:21:29.240\nIt's just doing that to put on a show.\n\n422\n00:21:29.240 --> 00:21:30.910\nRight?\nIt already knows whether the packet\n\n423\n00:21:30.910 --> 00:21:31.610\npasses or fails.\n\n424\n00:21:31.610 --> 00:21:34.830\nIt does this in hardware and\nit does it very, very, very fast.\n\n425\n00:21:34.830 --> 00:21:38.020\nSo this little show here gets\nkind of annoying after a while.\n\n426\n00:21:38.020 --> 00:21:40.230\nSee it did pass, I got through.\n\n427\n00:21:40.230 --> 00:21:45.550\nIf I uncheck that Show animation and\njust hit Start, it takes that show away.\n\n428\n00:21:45.550 --> 00:21:47.750\nAnd it just reaches out to the far ones\nand says does it make it or not and\n\n429\n00:21:47.750 --> 00:21:48.850\nyou get the instant results.\n\n430\n00:21:48.850 --> 00:21:49.830\nSo that's what I normally do.\n\n431\n00:21:49.830 --> 00:21:51.390\nI don't normally leave\nthat Show animation on.\n\n432\n00:21:51.390 --> 00:21:54.380\nAll right, but I can see I can pass.\n\n433\n00:21:54.380 --> 00:21:57.040\nGreat way to demonstrate though,\nthat the Packet Trace utility,\n\n434\n00:21:57.040 --> 00:21:59.670\nit knew that I hadn't hit Apply yet.\n\n435\n00:21:59.670 --> 00:22:02.560\nThat rule was not in effect and\nthat traffic wouldn't be allowed through.\n\n436\n00:22:04.300 --> 00:22:06.510\nAll right, so looks like we're good there.\n\n437\n00:22:06.510 --> 00:22:07.740\nI've written that rule.\n\n438\n00:22:07.740 --> 00:22:11.200\nI can go on to continue to write\nmore rules to allow this traffic or\n\n439\n00:22:11.200 --> 00:22:13.230\nblock it based on what my needs were.\n\n440\n00:22:13.230 --> 00:22:16.570\nNow when I create WAN rules like this,\n\n441\n00:22:16.570 --> 00:22:20.190\nthere is a few extra things I like\nto do to make life easier for me.\n\n442\n00:22:20.190 --> 00:22:22.450\nLets say right now we were\nto add a new web server.\n\n443\n00:22:22.450 --> 00:22:25.490\nIf I add a new web server,\nI've got to go add it to this rule and\n\n444\n00:22:25.490 --> 00:22:27.080\nI've gotta add it to this rule.\n\n445\n00:22:27.080 --> 00:22:30.250\nAnd if I had any other rules, I have\nto go though and add it to them too.\n\n446\n00:22:30.250 --> 00:22:35.130\nIt would be a heck of a lot easier if I\nhad all of my web servers in a group.\n\n447\n00:22:35.130 --> 00:22:36.741\nAnd that way any time I\nadded a new web server,\n\n448\n00:22:36.741 --> 00:22:39.300\nI can just throw it in the group and\nit would automatically be approved.\n\n449\n00:22:39.300 --> 00:22:40.580\nLet me show you what I mean.\n\n450\n00:22:41.620 --> 00:22:45.190\nIn the background, your ASA is\nmaintaining a database of objects.\n\n451\n00:22:45.190 --> 00:22:51.360\nIf we go here under our Firewall settings,\nyou'll find objects in the list.\n\n452\n00:22:51.360 --> 00:22:53.000\nAnd there's two main types of object.\n\n453\n00:22:53.000 --> 00:22:54.260\nWell, there's actually a ton of objects,\nbut\n\n454\n00:22:54.260 --> 00:22:55.860\nthere's two that we care about right now.\n\n455\n00:22:55.860 --> 00:22:59.590\nThere's Network Objects and\nService Objects.\n\n456\n00:22:59.590 --> 00:23:03.240\nAnd there's some predefined ones that\nCisco has made, they don't show up, but\n\n457\n00:23:03.240 --> 00:23:04.240\nthey are there.\n\n458\n00:23:04.240 --> 00:23:06.050\nAnd then there's ones that we can make.\n\n459\n00:23:06.050 --> 00:23:09.030\nAnd you can make individual objects\nthat represent a single system.\n\n460\n00:23:09.030 --> 00:23:12.850\nSee how it's made these individual\nobjects for each of my systems?\n\n461\n00:23:12.850 --> 00:23:16.140\nAnd you can make groups of objects.\n\n462\n00:23:16.140 --> 00:23:19.070\nSo when I look at these,\nmaybe I had it memorized, right?\n\n463\n00:23:19.070 --> 00:23:22.570\nThat .40 is a web server,\n.41 is a mail server and .42 and\n\n464\n00:23:22.570 --> 00:23:24.400\n43 are web servers also.\n\n465\n00:23:24.400 --> 00:23:27.550\nBut wouldn't be nice if we\nactually had names to go by?\n\n466\n00:23:27.550 --> 00:23:28.900\nYou can come in and add your own.\n\n467\n00:23:28.900 --> 00:23:31.290\nOr you can edit these that are already\nin and you can give them a name.\n\n468\n00:23:32.500 --> 00:23:37.099\nSo maybe this is WEBSERV01,\nand then I'll come through and\n\n469\n00:23:37.099 --> 00:23:42.767\nrename the other ones and\nI'll have WEBSERV02 and Webserv03, right?\n\n470\n00:23:42.767 --> 00:23:49.046\nSo I'm kinda punching those in and\nthen 41 was MAILSERV01, all right.\n\n471\n00:23:49.046 --> 00:23:51.148\nSo we're giving them names.\n\n472\n00:23:51.148 --> 00:23:54.005\nAll right, and see how my list\nis getting a little messy there?\n\n473\n00:23:54.005 --> 00:23:56.845\nWhen I hit apply it's\ngoing to update that, and\n\n474\n00:23:56.845 --> 00:23:58.960\nif I refresh it should clean it up.\n\n475\n00:23:58.960 --> 00:23:59.810\nThere we go.\n\n476\n00:23:59.810 --> 00:24:01.440\nSo it just refreshed to clean that up.\n\n477\n00:24:01.440 --> 00:24:04.360\nJust remember when you're\nworking in the ASDM,\n\n478\n00:24:04.360 --> 00:24:07.640\nit's not truly the live configuration\non the firewall you're working with.\n\n479\n00:24:07.640 --> 00:24:09.700\nYou're working with what's\nin RAM on your computer and\n\n480\n00:24:09.700 --> 00:24:10.870\nthen sending it to the firewall.\n\n481\n00:24:10.870 --> 00:24:14.460\nSo sometimes you have to hit apply and\nrefresh to get it to clean up.\n\n482\n00:24:14.460 --> 00:24:18.850\nBut now, instead of seeing just IPs,\nI see these names, right.\n\n483\n00:24:18.850 --> 00:24:22.450\nAnd if I jump back to my firewall rules,\nand I look here,\n\n484\n00:24:22.450 --> 00:24:24.300\nsee how it's updated to show the names?\n\n485\n00:24:24.300 --> 00:24:25.910\nThat makes life a lot easier, doesn't it?\n\n486\n00:24:25.910 --> 00:24:26.980\nNow I see the names of my servers.\n\n487\n00:24:26.980 --> 00:24:31.070\nAnd if I go back to my network objects,\nI can create a group.\n\n488\n00:24:31.070 --> 00:24:34.420\nSo instead of a network object,\nI can create a network object group.\n\n489\n00:24:34.420 --> 00:24:37.638\nAnd I might create a group\njust called web servers.\n\n490\n00:24:37.638 --> 00:24:42.590\nAnd, then I can take all of my web\nservers and put them in that group.\n\n491\n00:24:44.080 --> 00:24:47.070\nAnd now, when I make rules,\ninstead of creating a rule for\n\n492\n00:24:47.070 --> 00:24:49.520\nthe individual web servers,\nI can create it for the group as a whole.\n\n493\n00:24:49.520 --> 00:24:55.030\nSo, when I go back out to my access\nrules I can edit these guys and I'm\n\n494\n00:24:55.030 --> 00:25:00.840\njust going to get rid of everything that's\nin there and put in the web servers group.\n\n495\n00:25:00.840 --> 00:25:03.410\nIt makes the rules\na little easier to read,\n\n496\n00:25:03.410 --> 00:25:08.490\nwhich is nice, but\nit also makes it easier to maintain.\n\n497\n00:25:08.490 --> 00:25:13.070\nNow, if I ever add a new web server, I\ncan just come and throw it in that group.\n\n498\n00:25:13.070 --> 00:25:18.332\nSo, for example, if I go back to my\nobjects, I'm gonna add a new web server.\n\n499\n00:25:18.332 --> 00:25:21.538\nSo, I could go in here and\njust hit Add > Network Object.\n\n500\n00:25:21.538 --> 00:25:25.214\nAnd I'm gonna add web server 04.\n\n501\n00:25:25.214 --> 00:25:28.790\nI think I called them web serv 04,\nfollow my naming convention.\n\n502\n00:25:28.790 --> 00:25:32.710\nAnd I can give its IP,\nwhatever IP it happens to have.\n\n503\n00:25:32.710 --> 00:25:33.560\nI think I'm up to 44 now.\n\n504\n00:25:33.560 --> 00:25:34.590\nIs that right?\n\n505\n00:25:34.590 --> 00:25:35.620\nYeah.\n\n506\n00:25:35.620 --> 00:25:39.110\nSo, I'll add that one in and so now,\nI've got this new web server, and\n\n507\n00:25:39.110 --> 00:25:39.670\nI'll hit Apply.\n\n508\n00:25:39.670 --> 00:25:46.186\nAnd then I'll take my group and\nI'm gonna add web server 04 to the group.\n\n509\n00:25:46.186 --> 00:25:50.951\nAnd once it's in there, now web server\n04 just got put in the rules for\n\n510\n00:25:50.951 --> 00:25:52.868\nall of those other systems.\n\n511\n00:25:52.868 --> 00:25:56.650\nIf I go back to my access rules and\nI float over the web servers little note,\n\n512\n00:25:56.650 --> 00:26:00.493\nI see all four of them, web server 01\nall the way through web server 04,\n\n513\n00:26:00.493 --> 00:26:02.320\nit was automatically added.\n\n514\n00:26:02.320 --> 00:26:04.840\nGroups make it a lot easier\nto manage this stuff.\n\n515\n00:26:06.250 --> 00:26:08.890\nAnd, we can use those groups\nwith our other protocols too.\n\n516\n00:26:08.890 --> 00:26:12.280\nNot just our IP addresses and hosts,\nwe can use it with the protocols.\n\n517\n00:26:12.280 --> 00:26:15.650\nSo, if I know I'm gonna be creating a\nnumber of different types of web servers,\n\n518\n00:26:15.650 --> 00:26:17.810\nbut they all have the same\ngroup reports they need,\n\n519\n00:26:17.810 --> 00:26:21.760\nI can create a group to make it consistent\nso that I always approve the right things.\n\n520\n00:26:21.760 --> 00:26:26.260\nSo for example, if I go to Service Objects\nin Groups, I can come in here and\n\n521\n00:26:26.260 --> 00:26:30.220\nI can add, well,\nlet's say I had a custom web app.\n\n522\n00:26:30.220 --> 00:26:33.350\nA web app that runs on TCP port 8080.\n\n523\n00:26:33.350 --> 00:26:39.200\nSo I might come in here and say,\nadd TCP service group or service object.\n\n524\n00:26:39.200 --> 00:26:41.130\nYou can pick from\nthe different options here.\n\n525\n00:26:41.130 --> 00:26:44.530\nThe groups are normally\na collection of ports.\n\n526\n00:26:44.530 --> 00:26:47.430\nA service object is usually\nlike an individual one.\n\n527\n00:26:47.430 --> 00:26:50.540\nI'm gonna create a TCP service group and\n\n528\n00:26:50.540 --> 00:26:55.240\nI'm gonna call this my,\nwe'll just call it web servers.\n\n529\n00:26:55.240 --> 00:26:57.680\nNow, it won't let me do spaces, so\nI'm doing an underscore there, but\n\n530\n00:26:57.680 --> 00:27:01.740\nI'm just gonna call this web_server_ports\nor web_server_ protocols.\n\n531\n00:27:01.740 --> 00:27:04.180\nWhatever it is that helps\nyou remember what it is.\n\n532\n00:27:04.180 --> 00:27:08.060\nAnd I'm gonna come in and\nI'm gonna add http and\n\n533\n00:27:08.060 --> 00:27:12.030\nhttps because I know I need those, and\nthen down here I can create a new member.\n\n534\n00:27:12.030 --> 00:27:13.499\nI can add in a custom one.\n\n535\n00:27:13.499 --> 00:27:15.800\nI'm gonna add import 8080, right?\n\n536\n00:27:15.800 --> 00:27:17.280\nThat's my custom port.\n\n537\n00:27:17.280 --> 00:27:19.390\nI want those open for\nall of my web servers,\n\n538\n00:27:19.390 --> 00:27:23.060\nand then maybe my mail servers\nI might do the same thing.\n\n539\n00:27:23.060 --> 00:27:23.690\nAll right?\n\n540\n00:27:23.690 --> 00:27:29.260\nAnd so I'll come in here and I'll do mail\nserver ports, and I might come in and pick\n\n541\n00:27:29.260 --> 00:27:35.060\nSMTP, and POP3, and all those guys and\nget them in the list, if I can find them.\n\n542\n00:27:35.060 --> 00:27:37.210\nI got past IMAP already.\n\n543\n00:27:37.210 --> 00:27:38.920\nLet's add each of those.\n\n544\n00:27:38.920 --> 00:27:42.300\nAnd this is another way to\nkinda simplify that down so\n\n545\n00:27:42.300 --> 00:27:45.600\nthat we don't have tons of different\nplaces to go to edit something.\n\n546\n00:27:45.600 --> 00:27:48.040\nIf you have multiple email\nservers in different places and\n\n547\n00:27:48.040 --> 00:27:49.460\nyou have separate rules.\n\n548\n00:27:49.460 --> 00:27:51.910\nNow we'll be able to modify\njust this group to add or\n\n549\n00:27:51.910 --> 00:27:53.870\nremove ports from our mail servers.\n\n550\n00:27:55.170 --> 00:27:56.130\nI'll go ahead and apply that.\n\n551\n00:27:56.130 --> 00:27:59.960\nWhen I go back to my access rules,\nI can update these now.\n\n552\n00:27:59.960 --> 00:28:05.130\nAnd instead of specifying these lists\nof protocols, I can come in here and\n\n553\n00:28:05.130 --> 00:28:08.370\nI can say I want my mail\nserver ports there.\n\n554\n00:28:08.370 --> 00:28:12.410\nAnd here I want my web server ports.\n\n555\n00:28:13.790 --> 00:28:14.590\nRight?\n\n556\n00:28:14.590 --> 00:28:17.040\nAnd we start approving them that way, and\n\n557\n00:28:17.040 --> 00:28:19.170\nwe know exactly what\nports are being added.\n\n558\n00:28:19.170 --> 00:28:21.340\nAnd if we don't update that group,\n\n559\n00:28:21.340 --> 00:28:23.730\nit updates any rule that's\nmaking use of that group.\n\n560\n00:28:23.730 --> 00:28:26.309\nSo a really easy way to make\nmanagement simple on these things.\n\n561\n00:28:27.590 --> 00:28:31.165\nSo, as far as creating our WAN rules,\nwe do need to know the ports that we wanna\n\n562\n00:28:31.165 --> 00:28:34.245\nopen, and then we go and we define\nthose on our outside interface so\n\n563\n00:28:34.245 --> 00:28:36.887\nthat will people will be able\nto pass from the outside in.\n\n564\n00:28:36.887 --> 00:28:38.630\nTest it with real equipment if you can.\n\n565\n00:28:38.630 --> 00:28:41.280\nI tested with that external host\nthat I had to see if I could browse\n\n566\n00:28:41.280 --> 00:28:42.380\nthrough the DMZ.\n\n567\n00:28:42.380 --> 00:28:44.250\nIf you don't,\nuse the packet trace utility.\n\n568\n00:28:44.250 --> 00:28:44.880\nIt's good, too.\n\n569\n00:28:44.880 --> 00:28:48.913\nEither way you can test to make sure\nthat you can get to those systems, and\n\n570\n00:28:48.913 --> 00:28:50.844\nyou're pretty much in business.\n\n571\n00:28:50.844 --> 00:28:53.980\nWell, I think that's about it for\ncreating a WAN rule.\n\n572\n00:28:53.980 --> 00:28:55.635\nRonnie, can you thing\nof anything I left out?\n\n573\n00:28:55.635 --> 00:28:58.755\n>> Just remember that this is\nthe most effective way for\n\n574\n00:28:58.755 --> 00:29:01.255\nyou to make sure that WAN\ntraffic can get access in,\n\n575\n00:29:01.255 --> 00:29:05.375\nand so creating these WAN focal rules are\nvery important and understanding at least\n\n576\n00:29:05.375 --> 00:29:09.025\nthe basics in theory behind them\nis exactly what we want to do.\n\n577\n00:29:09.025 --> 00:29:10.610\nWell, that's our show for now.\n\n578\n00:29:10.610 --> 00:29:11.748\nThank you for watching.\n\n579\n00:29:11.748 --> 00:29:14.011\nThere's more Cisco ASA content to come.\n\n580\n00:29:14.011 --> 00:29:14.757\n[MUSIC]\n\n",
          "vimeoId": "132754553"
        },
        {
          "description": null,
          "length": "1005",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-2-2-filtering_lan_traffic-070215-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-2-2-filtering_lan_traffic-070215-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-2-2-filtering_lan_traffic-070215-1-sm.jpg",
          "title": "Filtering LAN Traffic",
          "transcript": "WEBVTT\n\n1\n00:00:00.025 --> 00:00:02.769\n[MUSIC]\nIn this segment,\n\n2\n00:00:02.769 --> 00:00:08.632\nwe wanna take a look at\ntaking the Cisco ASA and\n\n3\n00:00:08.632 --> 00:00:14.050\nconfigure it to filter LAN traffic.\n\n4\n00:00:14.050 --> 00:00:17.460\nWe can configure WAN traffic\nas well to be filtered, but\n\n5\n00:00:17.460 --> 00:00:19.530\nit actually takes a combination of both.\n\n6\n00:00:19.530 --> 00:00:24.470\nFiltering out WAN traffic as well as LAN\ntraffic to give us what we actually need.\n\n7\n00:00:24.470 --> 00:00:29.020\nNow, by default, Don, we know that WAN\ntraffic's already filtered everything, but\n\n8\n00:00:29.020 --> 00:00:32.455\nLAN traffic though, normally,\nwe just let everything go.\n\n9\n00:00:32.455 --> 00:00:34.045\nSo, that seemed like\na perfect combination.\n\n10\n00:00:34.045 --> 00:00:36.665\nOne way out, but no way in.\n\n11\n00:00:36.665 --> 00:00:38.715\n>> Yeah, and you might ask yourself,\n\n12\n00:00:38.715 --> 00:00:41.055\nwhy are we even bothering doing\nan episode on filtering LAN traffic?\n\n13\n00:00:41.055 --> 00:00:41.955\nWho does that, right?\n\n14\n00:00:41.955 --> 00:00:44.055\nWho filters their own people?\n\n15\n00:00:44.055 --> 00:00:46.225\nWell, there's plenty of reasons to do it.\n\n16\n00:00:46.225 --> 00:00:48.805\nAnd it is a little bit different\nthat filtering WAN traffic.\n\n17\n00:00:48.805 --> 00:00:51.580\nWith the WAN traffic,\nwith outside people coming in,\n\n18\n00:00:51.580 --> 00:00:57.120\nwe usually want to block everything and\nmake just a couple of exceptions.\n\n19\n00:00:57.120 --> 00:00:59.830\nSo, you're just allowing a few a things,\nblocking everything else.\n\n20\n00:00:59.830 --> 00:01:02.350\nWith LAN traffic,\nit's usually the opposite.\n\n21\n00:01:02.350 --> 00:01:05.530\nWith LAN traffic,\nwe normally want to allow everything and\n\n22\n00:01:05.530 --> 00:01:07.870\njust block a few little things.\n\n23\n00:01:07.870 --> 00:01:09.240\nIt's a different way of thinking and\n\n24\n00:01:09.240 --> 00:01:12.230\nthat's why we wanted to do a separate\nsegment on this, just kind of show it.\n\n25\n00:01:12.230 --> 00:01:14.070\nAnd I'll give you guys a great example.\n\n26\n00:01:14.070 --> 00:01:20.000\nSo, there's a lot of schools out there,\nthat like to use a product called OpenDNS.\n\n27\n00:01:20.000 --> 00:01:24.135\nOpenDNS is a DNS filtering\nservice organization,\n\n28\n00:01:24.135 --> 00:01:29.190\nthey just got bought by Cisco,\nnow it's Cisco OpenDNS.\n\n29\n00:01:29.190 --> 00:01:33.250\nBut what they do is they provide\nDNS lookups that are curated.\n\n30\n00:01:33.250 --> 00:01:37.380\nThey filter out to block\naccess to malicious websites.\n\n31\n00:01:37.380 --> 00:01:41.280\nYou can even do family safety to blog\npornography and stuff like that.\n\n32\n00:01:41.280 --> 00:01:44.730\nSo you might want people in your house or\nin your small office or\n\n33\n00:01:44.730 --> 00:01:47.920\nbusiness to be using open DNS, all right?\n\n34\n00:01:47.920 --> 00:01:50.160\nBut, kids are smart these days, right?\n\n35\n00:01:50.160 --> 00:01:55.285\nSay you've got a pornography filter on,\nand they really want to get there.\n\n36\n00:01:55.285 --> 00:01:56.510\n>> [LAUGH]\n>> Well,\n\n37\n00:01:56.510 --> 00:01:59.730\nthey know that I'll just go into my\nnetwork settings, change my DNS servers.\n\n38\n00:01:59.730 --> 00:02:01.450\nProblem solved, right?\n\n39\n00:02:01.450 --> 00:02:05.480\nWell, if they change their DNS server,\nthey can go out,\n\n40\n00:02:05.480 --> 00:02:07.810\naccess that other DNS server,\nand now they've bypassed OpenDNS.\n\n41\n00:02:09.060 --> 00:02:12.720\nOr, we could create firewall filter rules.\n\n42\n00:02:12.720 --> 00:02:14.520\nWe could filter the LAN\ntraffic to say yes,\n\n43\n00:02:14.520 --> 00:02:18.080\nyou're allowed to do DNS\nlookups against OpenDNS.\n\n44\n00:02:18.080 --> 00:02:21.290\nYou're not allowed to do DNS lookups\nagainst anybody else, right?\n\n45\n00:02:21.290 --> 00:02:22.650\nWe can filter that.\n\n46\n00:02:22.650 --> 00:02:25.030\nAnd now we're just focusing on DNS.\n\n47\n00:02:25.030 --> 00:02:27.140\nSo that's where LAN filtering\ngets to be a little different.\n\n48\n00:02:27.140 --> 00:02:28.520\nSo let's run with this example.\n\n49\n00:02:28.520 --> 00:02:29.643\nLet's run with the DNS one.\nAnd actually,\n\n50\n00:02:29.643 --> 00:02:31.432\nI don't remember the OpenDNS IPs.\n\n51\n00:02:31.432 --> 00:02:35.010\nI don't know if you can find those Ronnie,\nwe'll just use Google's.\n\n52\n00:02:35.010 --> 00:02:37.880\nBut I'll go here under Access Rules and\n\n53\n00:02:37.880 --> 00:02:41.440\nI've got my inside rules and\nnotice the default rule.\n\n54\n00:02:41.440 --> 00:02:44.770\nThe default rule says any traffic\ncoming in the inside interface\n\n55\n00:02:44.770 --> 00:02:48.660\nis allowed to get to any\nless secure network.\n\n56\n00:02:48.660 --> 00:02:51.940\nIn other words any network with\na security level lower than ours.\n\n57\n00:02:51.940 --> 00:02:53.330\nOurs is 100.\n\n58\n00:02:53.330 --> 00:02:57.710\nAnd so everybody else has a lower one\nthan that, we'll be able to get to them.\n\n59\n00:02:57.710 --> 00:03:01.070\nWell, I want to override\nthat a little bit.\n\n60\n00:03:01.070 --> 00:03:05.500\nI want to block people's ability\nto do DNS lookups against\n\n61\n00:03:05.500 --> 00:03:08.090\nservers other than\nthe ones that I approve.\n\n62\n00:03:08.090 --> 00:03:10.500\nSo I know I'm gonna need to\ncreate at least two rules.\n\n63\n00:03:10.500 --> 00:03:13.410\nOne rule that blocks DNS lookups and\n\n64\n00:03:13.410 --> 00:03:17.280\none rule that allows DNS lookups\nto the servers that I approve.\n\n65\n00:03:17.280 --> 00:03:19.190\nAll right, let's start with the approval.\n\n66\n00:03:19.190 --> 00:03:23.300\nSo, I'm gonna come in here, I'm gonna\nadd a rule on my inside interface and\n\n67\n00:03:23.300 --> 00:03:24.600\nI'm gonna permit.\n\n68\n00:03:24.600 --> 00:03:27.030\nFor the source, we can leave it at any or\n\n69\n00:03:27.030 --> 00:03:30.270\nwe can change that to\nlike the inside network.\n\n70\n00:03:30.270 --> 00:03:33.820\nThat's an object that the ASA creates\nthat references whatever your internal\n\n71\n00:03:33.820 --> 00:03:34.830\ninterface is.\n\n72\n00:03:34.830 --> 00:03:36.190\nSo I'll put in that network right there.\n\n73\n00:03:36.190 --> 00:03:37.670\nMy inside network is the source.\n\n74\n00:03:38.670 --> 00:03:43.930\nThe destination, this is gonna be the DNS\nserver we look up against, all right?\n\n75\n00:03:43.930 --> 00:03:45.390\nRonnie, were you able to find those IPs?\n\n76\n00:03:45.390 --> 00:03:46.020\n>> I was.\n\n77\n00:03:46.020 --> 00:03:48.839\n>> Okay, let's do this because\nI know there's more than one,\n\n78\n00:03:48.839 --> 00:03:52.510\nthis is a great opportunity for us to\nuse network objects to define it, right?\n\n79\n00:03:52.510 --> 00:03:57.447\nSo, If I hit my little ellipses button\nhere and I see my stuff, I can add\n\n80\n00:03:57.447 --> 00:04:02.920\na network object, and I'm gonna add\na network object for these DNS servers.\n\n81\n00:04:02.920 --> 00:04:05.252\nAnd I'm actually gonna do a network\nobject group, cuz there's more than one.\n\n82\n00:04:05.252 --> 00:04:07.050\nAll right Ronnie, there's two.\n\n83\n00:04:07.050 --> 00:04:08.842\nSo I'll do network object group, and\n\n84\n00:04:08.842 --> 00:04:11.362\nI'm gonna create a group\ncalled OpenDNS-servers.\n\n85\n00:04:11.362 --> 00:04:15.209\nThese are going to be the OpenDNS servers,\nand\n\n86\n00:04:15.209 --> 00:04:19.780\nthen I can specify the IP\nis right down here, right?\n\n87\n00:04:19.780 --> 00:04:22.701\nSo what's our first IP, Ronnie?\n\n88\n00:04:22.701 --> 00:04:27.130\n>> It's 208.67.222.222.\n\n89\n00:04:27.130 --> 00:04:30.441\n>> All right, and what's our other one?\n\n90\n00:04:30.441 --> 00:04:32.810\n>> The other one is 208.67.220.220.\n\n91\n00:04:32.810 --> 00:04:34.580\n>> Easy enough, all right.\n\n92\n00:04:34.580 --> 00:04:35.760\nSo I'll add those in.\n\n93\n00:04:35.760 --> 00:04:39.760\nSo now I've got the two IP addresses\nthere for OpenDNS's servers.\n\n94\n00:04:39.760 --> 00:04:42.732\nAnd I've managed to spell OpenDNS wrong,\nlet me fix that.\n\n95\n00:04:42.732 --> 00:04:43.270\nThere we go.\n\n96\n00:04:43.270 --> 00:04:45.270\n>> Now that's the challenge.\n\n97\n00:04:45.270 --> 00:04:46.421\n>> So now I am approving those.\n\n98\n00:04:46.421 --> 00:04:50.857\nSo I've got this rule that's\nsaying on the inside interface,\n\n99\n00:04:50.857 --> 00:04:55.810\npermit traffic from the inside\nnetwork going to the OpenDNS servers.\n\n100\n00:04:55.810 --> 00:04:59.610\nAnd then, I don't want to just\nleave it open, like blanket-wide,\n\n101\n00:04:59.610 --> 00:05:02.050\nI want to limit it just to DNS traffic.\n\n102\n00:05:02.050 --> 00:05:05.290\nAnd DNS uses UDP port 53.\n\n103\n00:05:05.290 --> 00:05:09.020\nAnd I could type that in or\nif I just type DNS, it should find it,\n\n104\n00:05:09.020 --> 00:05:13.240\nactually it's finding, oh, you know what,\nit might actually be called name lookup.\n\n105\n00:05:14.770 --> 00:05:18.040\nThere we go,\nthey have various shortcut names and\n\n106\n00:05:18.040 --> 00:05:20.630\nif you're ever unsure about whether\nthat shortcut name is right or not.\n\n107\n00:05:20.630 --> 00:05:21.862\nLike, this one says name server.\n\n108\n00:05:21.862 --> 00:05:24.931\nWell, is it DNS or WINS or NIS+?\n\n109\n00:05:24.931 --> 00:05:27.480\nThere's a number of different\nname servers out there.\n\n110\n00:05:27.480 --> 00:05:30.130\nSo, I'm just gonna type udp/53 so\nthat I'm certain.\n\n111\n00:05:31.290 --> 00:05:33.740\nDNS uses UDP port 53 by default.\n\n112\n00:05:33.740 --> 00:05:37.600\nIt can also use TCP port\n53 in some scenarios.\n\n113\n00:05:37.600 --> 00:05:39.290\nBut the bulk of the time, it's UDP 53 so\n\n114\n00:05:39.290 --> 00:05:41.650\nthat's what I'm going to approve,\nall right?\n\n115\n00:05:41.650 --> 00:05:44.370\nSo I'm gonna punch that in and hit OK.\n\n116\n00:05:44.370 --> 00:05:48.240\nAnd now I've got that rule that's\napproving the inside network,\n\n117\n00:05:48.240 --> 00:05:50.610\ngetting the OpenDNS servers doing.\n\n118\n00:05:50.610 --> 00:05:53.791\nOh, see, UDP domain, that UDP name\nserver one wouldn't have worked, right?\n\n119\n00:05:53.791 --> 00:05:55.721\nSo this one's got it and\nnow it's added in.\n\n120\n00:05:55.721 --> 00:05:59.347\nAll right,\nthen I want to add another rule,\n\n121\n00:05:59.347 --> 00:06:04.606\ndenying access to any other DNS\nservers that are out there.\n\n122\n00:06:04.606 --> 00:06:06.790\nAnd so, I\"m gonna go ahead and\nhit Add, and\n\n123\n00:06:06.790 --> 00:06:11.880\nthis time I'm gonna say from the inside\nnetwork, I'm going to deny traffic.\n\n124\n00:06:11.880 --> 00:06:14.810\nThe source,\nI'll say that's my inside network.\n\n125\n00:06:14.810 --> 00:06:19.260\nThe destination, I'm gonna leave to any\nand I'm going to change this service.\n\n126\n00:06:19.260 --> 00:06:24.051\nAnd for the service,\nI want it to be TCP port 53, right?\n\n127\n00:06:24.051 --> 00:06:26.372\nAnd I want it to be UDP port 53.\n\n128\n00:06:26.372 --> 00:06:31.030\nAnd so I'm just gonna do\na semicolon to separate those out.\n\n129\n00:06:31.030 --> 00:06:35.481\nTCP/53;UDP/53, all right?\n\n130\n00:06:35.481 --> 00:06:40.290\nI don't want people to be able to get to\nany other server using this, all right?\n\n131\n00:06:40.290 --> 00:06:44.290\nAnd I'll say okay, and so\nnow I've got those two rules put in place.\n\n132\n00:06:44.290 --> 00:06:46.370\nRemember, the rules are applied in order.\n\n133\n00:06:46.370 --> 00:06:50.510\nSo rule number one applies, permitting\nthem to get to the OpenDNS servers.\n\n134\n00:06:50.510 --> 00:06:55.430\nRule number two applies,\nblocking them from getting anywhere else,\n\n135\n00:06:55.430 --> 00:06:57.390\nto any other DNS server.\n\n136\n00:06:57.390 --> 00:07:00.248\nSo, I'm good to go, I can apply that,\nand now I'm done, right Ronnie?\n\n137\n00:07:00.248 --> 00:07:01.797\n>> Just about.\n\n138\n00:07:01.797 --> 00:07:04.240\n>> [LAUGH]\n>> But not exactly.\n\n139\n00:07:04.240 --> 00:07:06.970\nThere's still some other things you\nactually have to be aware of, but\n\n140\n00:07:06.970 --> 00:07:08.830\nremember, we actually have to\ntake a look at the order and\n\n141\n00:07:08.830 --> 00:07:10.460\nverify that everything is good.\n\n142\n00:07:10.460 --> 00:07:13.537\nAnd at this point,\nonce we actually have everything else up,\n\n143\n00:07:13.537 --> 00:07:16.860\nremember that what there is after\nthat isn't that implicit deny.\n\n144\n00:07:16.860 --> 00:07:18.780\nAnd that's what we have to worry about.\n\n145\n00:07:18.780 --> 00:07:22.240\n>> Yeah, there was an implicit\nrule in here that said,\n\n146\n00:07:22.240 --> 00:07:28.380\npermit the inside zone to get to any other\ninterface with a lower security level.\n\n147\n00:07:28.380 --> 00:07:30.430\nWell, where'd that rule go?\n\n148\n00:07:30.430 --> 00:07:31.900\nIt disappeared.\n\n149\n00:07:31.900 --> 00:07:35.700\nAs soon as you create your first rule,\nthat implicit rule goes away.\n\n150\n00:07:35.700 --> 00:07:37.240\nThat's gone.\n\n151\n00:07:37.240 --> 00:07:40.730\nNow you're inside interface doesn't have\naccess to anything unless you tell it.\n\n152\n00:07:40.730 --> 00:07:44.850\nAnd if I don't tell it,\nin my case I've got rule one, rule two,\n\n153\n00:07:44.850 --> 00:07:49.050\nthere's an implicit rule three we don't\nsee here that says deny everything, right?\n\n154\n00:07:49.050 --> 00:07:51.690\nKind of like this global rule here,\nany, any, deny.\n\n155\n00:07:51.690 --> 00:07:53.880\nIt's gonna deny that traffic out, and\n\n156\n00:07:53.880 --> 00:07:56.140\npeople aren't gonna be able\nto get out to the web.\n\n157\n00:07:56.140 --> 00:07:58.668\nThey'll be able to do the DNS lookup,\nthat'll work, right, but\n\n158\n00:07:58.668 --> 00:08:01.520\nthen they won't be able to contact\nthe server that's out there.\n\n159\n00:08:01.520 --> 00:08:02.820\nSo we need to add one more rule, and\n\n160\n00:08:02.820 --> 00:08:05.490\nthis is where it's a lot different\nthan filtering WAN traffic.\n\n161\n00:08:05.490 --> 00:08:08.400\nWe WAN traffic,\nwe want that deny all at the end,\n\n162\n00:08:08.400 --> 00:08:10.890\nwe want to deny anything that\nwe don't specifically approve.\n\n163\n00:08:10.890 --> 00:08:13.630\nBut on the LAN side,\nI wanna allow everything else.\n\n164\n00:08:13.630 --> 00:08:18.211\nSo I'm gonna add another rule,\non the inside interface,\n\n165\n00:08:18.211 --> 00:08:22.800\nI'm gonna permit any source\nto any destination using IP.\n\n166\n00:08:22.800 --> 00:08:28.872\nJust using Internet protocol, TCP or UDP,\njust allow it and let it pass through.\n\n167\n00:08:28.872 --> 00:08:33.360\nI'll go ahead and specify that right here\nat the end, it's allowing everything else.\n\n168\n00:08:33.360 --> 00:08:35.900\nThat rule can generate\na lot of log messages, so\n\n169\n00:08:35.900 --> 00:08:37.870\nI should have turned off logging and\nI didn't.\n\n170\n00:08:37.870 --> 00:08:40.930\nI'm just gonna edit that rule and\nturn off logging.\n\n171\n00:08:40.930 --> 00:08:44.460\nNo sense logging all those successes,\nit's just gonna fill up your logs.\n\n172\n00:08:44.460 --> 00:08:47.904\nSo now we allow access to\nOpenDNS's DNS servers,\n\n173\n00:08:47.904 --> 00:08:52.824\nwe block access to everybody else's\nDNS servers, and then we allow all\n\n174\n00:08:52.824 --> 00:08:57.671\nthe other traffic out, you know web\ntraffic, FTP, telnet and so on.\n\n175\n00:08:57.671 --> 00:09:00.881\nNow, people could still be enterprising\nand get around this, right?\n\n176\n00:09:00.881 --> 00:09:03.090\nThey could build up a VPN tunnel.\n\n177\n00:09:03.090 --> 00:09:06.500\nAnd then set their own DNS servers that\nway, and its VPN on the firewall so\n\n178\n00:09:06.500 --> 00:09:07.470\nthey don't see it.\n\n179\n00:09:07.470 --> 00:09:11.000\nSo, we might wanna block VPNs and\nproxies and all that other good stuff.\n\n180\n00:09:11.000 --> 00:09:15.520\nBut this is a good start right here to\nrestrict people down to just open DNS,\n\n181\n00:09:15.520 --> 00:09:16.990\nall right?\n\n182\n00:09:16.990 --> 00:09:20.760\nI can apply that, and then we can use\nour Packet Trace utility to test it out,\n\n183\n00:09:20.760 --> 00:09:22.280\nsee how that works in our environment.\n\n184\n00:09:22.280 --> 00:09:23.180\nI'm gonna go ahead and\n\n185\n00:09:23.180 --> 00:09:28.030\ndo a packet trace and I'm just gonna\nsay I'm on the inside interface.\n\n186\n00:09:28.030 --> 00:09:30.725\nI'm gonna do a UDP communication, for\n\n187\n00:09:30.725 --> 00:09:34.082\nmy source IP I'll just\nsay that it's my laptop.\n\n188\n00:09:34.082 --> 00:09:37.221\nAnd then for the destination,\nI'll specify,\n\n189\n00:09:37.221 --> 00:09:41.940\nwe'll do one of OpenDNS's servers,\nwhich I've already forgotten.\n\n190\n00:09:41.940 --> 00:09:43.596\nWhat was one of the IP's?\n\n191\n00:09:43.596 --> 00:09:48.060\n>> 208.67.222.222\n>> All right, and then for\n\n192\n00:09:48.060 --> 00:09:50.700\nthe source port,\nit's going to be randomly generated so\n\n193\n00:09:50.700 --> 00:09:55.250\nI'll just put 49,000, for\nthe destination port I'll put 53.\n\n194\n00:09:55.250 --> 00:10:00.620\nSo, it knows I'm doing UDP 53 for\nthat DNS lookup.\n\n195\n00:10:00.620 --> 00:10:03.107\nAnd then I'll go ahead and hit Start and\nit's gonna run through and\n\n196\n00:10:03.107 --> 00:10:04.989\nlet me know whether or\nnot that would be approved.\n\n197\n00:10:06.080 --> 00:10:09.855\nSo, here's it's going through, it's doing\nthe access list look up which I already\n\n198\n00:10:09.855 --> 00:10:12.214\ncleared, it's moving through\nthe NAT look ups, and\n\n199\n00:10:12.214 --> 00:10:14.660\nthen getting to move\nthe rest of the way through.\n\n200\n00:10:14.660 --> 00:10:17.840\nNotice how there's two access list\nlook ups, that was the one for\n\n201\n00:10:17.840 --> 00:10:20.360\nthe inside interface and\nthe global, right?\n\n202\n00:10:20.360 --> 00:10:22.080\nBecause both of those technically apply.\n\n203\n00:10:22.080 --> 00:10:23.540\nSo it's running through and\nit's checking, and\n\n204\n00:10:23.540 --> 00:10:28.550\nit looks like I'm gonna get approved,\nand at the end of the day, there we go.\n\n205\n00:10:28.550 --> 00:10:30.710\nI can see that I'm approved and\nthe traffic's allowed through.\n\n206\n00:10:30.710 --> 00:10:35.310\nLet me let you guys in on a little\nsecret here about the packet trace.\n\n207\n00:10:35.310 --> 00:10:36.620\nThis whole little animation and\n\n208\n00:10:36.620 --> 00:10:39.480\nall that stuff that it went through,\nthat's just to entertain you, right?\n\n209\n00:10:39.480 --> 00:10:40.330\n>> [LAUGH]\n>> And if you're like me,\n\n210\n00:10:40.330 --> 00:10:41.310\nyou get really impatient.\n\n211\n00:10:41.310 --> 00:10:42.650\nI get kinda bored waiting for\n\n212\n00:10:42.650 --> 00:10:45.630\nthat stupid little check mark to\nmake it all the way to the end.\n\n213\n00:10:45.630 --> 00:10:49.970\nSo if you don't care about that animation,\nyou can turn off show animation, and\n\n214\n00:10:49.970 --> 00:10:53.350\nnow when you do this when you hit Start,\nit basically just reaches out and does it,\n\n215\n00:10:53.350 --> 00:10:54.690\nand there you go, right?\n\n216\n00:10:54.690 --> 00:10:57.570\nSo, the animation is really just annoying,\nand it makes it take a long time, so\n\n217\n00:10:57.570 --> 00:10:59.000\nI normally turn that off, and\n\n218\n00:10:59.000 --> 00:11:01.278\nnow you can see right here\nit just quickly approved it.\n\n219\n00:11:01.278 --> 00:11:05.190\nAll right, so, I can get out to\nOpenDNS servers and do a lookup.\n\n220\n00:11:05.190 --> 00:11:08.400\nNow let's say, I hit some webpage and\nI get blocked, and I'm like aah,\n\n221\n00:11:08.400 --> 00:11:09.890\nI don't wanna get blocked.\n\n222\n00:11:09.890 --> 00:11:11.190\nI'm gonna change my DNS server.\n\n223\n00:11:11.190 --> 00:11:14.450\nSo I'm gonna change my DNS\nserver to one of Google's.\n\n224\n00:11:14.450 --> 00:11:16.101\nI'll put in 8.8.8.8, right?\n\n225\n00:11:16.101 --> 00:11:20.591\nI'm still doing UDP port 53, 8.8.8.8 is\nmy new server, and I'm gonna hit Start.\n\n226\n00:11:20.591 --> 00:11:27.660\nIt's gonna run it and this time,\nI should hit my block and ooh, I didn't.\n\n227\n00:11:27.660 --> 00:11:29.020\nWhat the heck happened there?\n\n228\n00:11:29.020 --> 00:11:30.731\nAll right, so let's double-check and\nsee what happened.\n\n229\n00:11:30.731 --> 00:11:36.098\nOn my inside interface,\nmy source IP was 172.16.0.2.\n\n230\n00:11:36.098 --> 00:11:37.210\nThat's me.\n\n231\n00:11:37.210 --> 00:11:41.390\nAnd then I was going out to Google which\nmeans I should have the outside interface\n\n232\n00:11:41.390 --> 00:11:43.320\non port 53 but I made it through.\n\n233\n00:11:43.320 --> 00:11:43.980\nNothing stopped me.\n\n234\n00:11:45.530 --> 00:11:46.830\nWhy didn't it stop me?\n\n235\n00:11:46.830 --> 00:11:48.830\nWell, I've actually seen\nthis kind of problem before,\n\n236\n00:11:48.830 --> 00:11:51.210\nso let's go double-check to see\nif I know what this one is.\n\n237\n00:11:51.210 --> 00:11:53.310\nSo we need to double-check our rules and\n\n238\n00:11:53.310 --> 00:11:56.170\nwe need to think about the order\nthe rule is written in.\n\n239\n00:11:56.170 --> 00:12:01.340\nSo, let's pretend in our head,\nthat we are UDP port 53 traffic.\n\n240\n00:12:01.340 --> 00:12:06.510\nWell, I'm coming from the inside\ninterface, I hit that inside interface.\n\n241\n00:12:06.510 --> 00:12:07.790\nDo I match this rule?\n\n242\n00:12:07.790 --> 00:12:12.130\nWell, I'm on my inside network,\nI'm going to an OpenDNS server,\n\n243\n00:12:12.130 --> 00:12:15.920\nwhich would be UDP port 53, and\nI should hit it and, if you\n\n244\n00:12:15.920 --> 00:12:18.260\nfloat your mouse over these entries,\nit'll actually tell you what it is.\n\n245\n00:12:18.260 --> 00:12:20.730\nAnd here I can see UDP 53, right?\n\n246\n00:12:20.730 --> 00:12:24.100\nSo I know that that's right, so\nI would get permitted there.\n\n247\n00:12:24.100 --> 00:12:25.840\nOr I'd get denied here on the next one.\n\n248\n00:12:25.840 --> 00:12:27.382\nBut notice my hit counts\nover here are zero.\n\n249\n00:12:27.382 --> 00:12:30.080\nNothing has exactly\npassed through these yet.\n\n250\n00:12:30.080 --> 00:12:33.051\nSo, I may not actually be\nmatching those the way I think.\n\n251\n00:12:33.051 --> 00:12:37.282\nAnd the very next rule here,\nnumber three is permit everything else,\n\n252\n00:12:37.282 --> 00:12:39.290\nand I do see some hits on it.\n\n253\n00:12:39.290 --> 00:12:44.160\nSo, it's apparently working,\nI'm not hitting the right rule.\n\n254\n00:12:44.160 --> 00:12:45.220\nWhy is that?\n\n255\n00:12:45.220 --> 00:12:47.261\nWell, let's take a look\nat the inside network.\n\n256\n00:12:47.261 --> 00:12:52.767\nMy inside network,\nif I float over it, is 192.168.0.0.\n\n257\n00:12:52.767 --> 00:12:56.150\nBut, my laptop is 172.16, isn't it?\n\n258\n00:12:56.150 --> 00:12:57.580\nWell, maybe it is, maybe it isn't.\n\n259\n00:12:57.580 --> 00:13:00.531\n>> [LAUGH]\n>> One of two things has happened here.\n\n260\n00:13:00.531 --> 00:13:04.129\nEither one, I've forgotten the IP\naddress of my laptop, which is very,\n\n261\n00:13:04.129 --> 00:13:04.958\nvery possible.\n\n262\n00:13:04.958 --> 00:13:08.369\n>> [LAUGH]\n>> Or two, we changed the IP range of our\n\n263\n00:13:08.369 --> 00:13:13.630\ninternal network after the initial\nstartup wizard was run.\n\n264\n00:13:13.630 --> 00:13:16.450\nWhen you run the startup wizard, that's\nwhen it defines this network object for\n\n265\n00:13:16.450 --> 00:13:17.610\nthe inside network.\n\n266\n00:13:17.610 --> 00:13:22.150\nIf you've changed your IP range\nsince then, this could be wrong.\n\n267\n00:13:22.150 --> 00:13:25.200\nSo one of these two things is wrong,\neither my mind is wrong, or\n\n268\n00:13:25.200 --> 00:13:27.480\nthis object right here is wrong.\n\n269\n00:13:27.480 --> 00:13:29.220\nSo let's find out which one it is.\n\n270\n00:13:29.220 --> 00:13:30.400\nI'm gonna go check my interfaces.\n\n271\n00:13:30.400 --> 00:13:35.530\nI imagine it's my mind, that it's wrong.\n\n272\n00:13:35.530 --> 00:13:36.300\nOh, it is my mind that's wrong.\n\n273\n00:13:36.300 --> 00:13:40.189\nSo here in my inside interfaces,\n192.168.0.1, we did a show earlier about\n\n274\n00:13:40.189 --> 00:13:43.382\nthe initial configuration wizard\nwhere we change it to 172.16.\n\n275\n00:13:43.382 --> 00:13:44.361\nBut I did that on Ronnie's firewall.\n\n276\n00:13:44.361 --> 00:13:46.920\nThis is my firewall, so\nit's a different one.\n\n277\n00:13:46.920 --> 00:13:47.650\nI got the wrong network.\n\n278\n00:13:47.650 --> 00:13:52.190\nSo let me just verify that\nhere on my own work station.\n\n279\n00:13:52.190 --> 00:13:53.526\nWhoo, that's a big font.\nThat's easy to read.\n\n280\n00:13:53.526 --> 00:13:54.960\n>> [LAUGH]\n>> And sure enough, yeah,\n\n281\n00:13:54.960 --> 00:13:56.360\nmy IP address is wrong.\n\n282\n00:13:56.360 --> 00:13:59.692\nSo let's go back to that packet tracer and\nI'll not be a moron this time.\n\n283\n00:13:59.692 --> 00:14:00.944\nAnd I'll actually do the right one.\n\n284\n00:14:00.944 --> 00:14:05.248\nSo if I go to Packet Trace,\nI can change that source IP to\n\n285\n00:14:05.248 --> 00:14:11.157\n192.168.0.2 instead of 172.16\nlike I did a minute ago.\n\n286\n00:14:11.157 --> 00:14:13.106\nThe destination is OpenDNS.\n\n287\n00:14:13.106 --> 00:14:20.450\nLet's say that it's port 49000, and\nso now I'm gonna try this again.\n\n288\n00:14:22.090 --> 00:14:25.730\nAnd here it goes, and\nI see that was allowed to OpenDNS.\n\n289\n00:14:25.730 --> 00:14:31.150\nAnd then I change my DNS\nserver to Google and\n\n290\n00:14:31.150 --> 00:14:36.482\nnow I do the look up, and there we go,\nnow I can see I'm getting blocked.\n\n291\n00:14:36.482 --> 00:14:39.250\nAll right now, this wouldn't have\nhappened if I had written the rules\n\n292\n00:14:39.250 --> 00:14:41.150\na little bit differently.\n\n293\n00:14:41.150 --> 00:14:46.070\nOkay, when I wrote these rules,\nI said the inside network.\n\n294\n00:14:46.070 --> 00:14:51.550\n>> Well, what kinda traffic is\ngonna come in my inside interface?\n\n295\n00:14:51.550 --> 00:14:53.750\nIt's only gonna be inside network stuff.\n\n296\n00:14:53.750 --> 00:14:56.917\nSo by using this object, I made it\na little more human readable, but\n\n297\n00:14:56.917 --> 00:15:00.210\nI set myself up for failure if I ever\nchange that network in the future.\n\n298\n00:15:00.210 --> 00:15:04.981\nSo I could have actually set that to any\nand still had the same result, right?\n\n299\n00:15:04.981 --> 00:15:08.090\nAnd if it was any, it would have\ncaught the multiple networks.\n\n300\n00:15:08.090 --> 00:15:11.010\nAnd if I change the network in the future,\nit would have caught that too.\n\n301\n00:15:11.010 --> 00:15:16.210\nSo I could change this, and instead of\nspecifying that network, change it to any.\n\n302\n00:15:16.210 --> 00:15:20.000\nAnd now that it's set to any,\nit'll catch all of that, right?\n\n303\n00:15:20.000 --> 00:15:23.720\nSo that is one way to kinda get\naround that little limitation.\n\n304\n00:15:23.720 --> 00:15:26.120\nAnd we can save that in.\n\n305\n00:15:26.120 --> 00:15:30.210\nAnd now even if I change my internal\nnetwork, that internal traffic goes\n\n306\n00:15:30.210 --> 00:15:34.510\nin the inside interface, and\nit's gonna be filtered and applied, right?\n\n307\n00:15:34.510 --> 00:15:37.500\nNow we've got a nice little setup here\nwhere we can start to control traffic.\n\n308\n00:15:37.500 --> 00:15:40.922\nJust remember the big difference with\nfiltering LAN traffic, you're not blocking\n\n309\n00:15:40.922 --> 00:15:43.682\neverything and just permitting\na few things, it's the opposite.\n\n310\n00:15:43.682 --> 00:15:47.501\nYou're permitting everything and\njust blocking a few little things, and so\n\n311\n00:15:47.501 --> 00:15:49.215\nwe come through and we specify it.\n\n312\n00:15:49.215 --> 00:15:52.716\nYou permit what it is you want,\nfollowed by a blanket deny,\n\n313\n00:15:52.716 --> 00:15:57.660\nthat you block the access to any other\nalternative to what you wanted, right?\n\n314\n00:15:57.660 --> 00:16:02.600\nAnd then you usually do this catch-all\nright here that permits everything else.\n\n315\n00:16:02.600 --> 00:16:05.450\nAll right, we'll see another example\nof this in our segment that we\n\n316\n00:16:05.450 --> 00:16:06.920\ndo on scheduled rules.\n\n317\n00:16:06.920 --> 00:16:09.310\nYou know if you can limit\nthe time these rule apply.\n\n318\n00:16:09.310 --> 00:16:12.183\nAnd so we'll get a chance to see that\na little bit later, but for right now,\n\n319\n00:16:12.183 --> 00:16:14.930\nthat's a pretty good example right\nthere of how we filter LAN traffic.\n\n320\n00:16:16.400 --> 00:16:19.765\n>> So filtering LAN traffic is one of\nthe big benefits that we have with using\n\n321\n00:16:19.765 --> 00:16:21.480\nthe Cisco ASA firewall.\n\n322\n00:16:21.480 --> 00:16:24.425\nIt allows us to be able to do\nexactly what Don was talking about.\n\n323\n00:16:24.425 --> 00:16:27.690\nIt'll say, here's what we\nwant to allow to get through.\n\n324\n00:16:27.690 --> 00:16:30.600\nSo it's a good technique and\nit's good primer for\n\n325\n00:16:30.600 --> 00:16:33.020\nus to be able to take and look at.\n\n326\n00:16:33.020 --> 00:16:34.620\nWell, that's our show for today.\n\n327\n00:16:34.620 --> 00:16:36.400\nWe do thank you for watching.\n\n328\n00:16:36.400 --> 00:16:38.532\nPlease continue to join us for\nmore Cisco ASA content.\n\n329\n00:16:38.532 --> 00:16:45.239\n[MUSIC]\n\n",
          "vimeoId": "132754555"
        },
        {
          "description": null,
          "length": "647",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-2-3-scheduling_firewall_rules-070215-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-2-3-scheduling_firewall_rules-070215-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-2-3-scheduling_firewall_rules-070215-1-sm.jpg",
          "title": "Scheduling Firewall Rules",
          "transcript": "WEBVTT\n\n1\n00:00:00.565 --> 00:00:07.821\n[MUSIC]\n\n2\n00:00:07.821 --> 00:00:12.345\nIn this segment, we're gonna take a loot\nat configure the Cisco ASA Firewall to\n\n3\n00:00:12.345 --> 00:00:14.370\nschedule firewall rules.\n\n4\n00:00:14.370 --> 00:00:18.080\nRemember that when we create\nWAN traffic filters and\n\n5\n00:00:18.080 --> 00:00:22.455\nLAN traffic filters, when we create\nthose rules, they apply 24 hours a day,\n\n6\n00:00:22.455 --> 00:00:26.670\n7 days a week,\n365 days a year forever and ever.\n\n7\n00:00:26.670 --> 00:00:30.440\nBut Don,\ndo we really need to create a single rule\n\n8\n00:00:30.440 --> 00:00:34.360\nthat has to apply at time sometimes and\nthen not to apply at other times?\n\n9\n00:00:34.360 --> 00:00:37.050\n>> Yeah, and there's a few different\nscenarios where we might have rules that\n\n10\n00:00:37.050 --> 00:00:38.830\nneed to apply at certain schedules.\n\n11\n00:00:38.830 --> 00:00:42.790\nAnd the Cisco ASA is a very powerful\nscheduling functionality built into\n\n12\n00:00:42.790 --> 00:00:43.910\nyour firewall rules.\n\n13\n00:00:43.910 --> 00:00:47.680\nSo you can create these timed rules\nthat perform different functions.\n\n14\n00:00:47.680 --> 00:00:48.820\nLet me give you some examples.\n\n15\n00:00:50.070 --> 00:00:54.605\nMaybe your company doesn't allow employees\nto browse the web during business hours.\n\n16\n00:00:54.605 --> 00:00:59.040\nSo from 8 to 5 you block web\ntraffic on your firewall, but\n\n17\n00:00:59.040 --> 00:01:02.030\nduring your lunch break\nyou want to allow it.\n\n18\n00:01:02.030 --> 00:01:04.540\nSo really,\nyou're blocking it from like 8 to noon and\n\n19\n00:01:04.540 --> 00:01:06.780\nthen 1 to 5 you're blocking web traffic.\n\n20\n00:01:06.780 --> 00:01:09.160\nBut early in the morning, in the evening,\n\n21\n00:01:09.160 --> 00:01:11.180\nduring the lunch break\npeople can browse the web.\n\n22\n00:01:11.180 --> 00:01:14.140\nThat would be an example of a scheduled or\na timed rule.\n\n23\n00:01:14.140 --> 00:01:18.544\nThere might be other things like you might\nhave a really locked down firewall rule\n\n24\n00:01:18.544 --> 00:01:22.910\nfor your school to protect all your\nchildren during the normal months.\n\n25\n00:01:22.910 --> 00:01:26.409\nBut then during the summer break\nwhen the kids all go home,\n\n26\n00:01:27.520 --> 00:01:29.160\nyou might wanna loosen those rules.\n\n27\n00:01:29.160 --> 00:01:34.720\nSo you might have rules that apply\nfrom August all the way through June,\n\n28\n00:01:34.720 --> 00:01:38.500\nbut then for July and well,\nI guess that leaves July, right?\n\n29\n00:01:38.500 --> 00:01:39.842\n>> [LAUGH]\n>> So maybe for the month of July,\n\n30\n00:01:39.842 --> 00:01:41.360\nyou don't want the rule to apply.\n\n31\n00:01:41.360 --> 00:01:42.290\nSo you can do that.\n\n32\n00:01:42.290 --> 00:01:46.770\nYou can create rules that apply on certain\ndays, just Monday through Friday or\n\n33\n00:01:46.770 --> 00:01:48.560\nrules that apply on certain months.\n\n34\n00:01:48.560 --> 00:01:50.600\nYou can do all sorts of\nreally crazy stuff with this.\n\n35\n00:01:50.600 --> 00:01:52.380\nIt's really just limited\nby your imagination.\n\n36\n00:01:52.380 --> 00:01:53.367\nLet me show you how they work.\n\n37\n00:01:53.367 --> 00:01:54.840\nIt's really not that hard.\n\n38\n00:01:54.840 --> 00:02:00.850\nSo in a previous segment,\nwe talked about restricting DNS lookups.\n\n39\n00:02:00.850 --> 00:02:03.440\nAnd so I've got these rules here that\nare in place that kinda restrict\n\n40\n00:02:03.440 --> 00:02:05.820\nDNS lookups and do what they want.\n\n41\n00:02:05.820 --> 00:02:09.570\nWell let's say,\nI wanna add the web traffic restrictions.\n\n42\n00:02:09.570 --> 00:02:13.697\nI don't want people to be able to\nbrowse the web during work hours, so\n\n43\n00:02:13.697 --> 00:02:17.230\nI'm gonna add a new rule in here.\n\n44\n00:02:17.230 --> 00:02:20.490\nBy default, if I'm browsing the web,\nlet's look how my rules apply.\n\n45\n00:02:20.490 --> 00:02:25.460\nThese first two rules are filtering\nbased on domain or DNS traffic.\n\n46\n00:02:25.460 --> 00:02:28.171\nSo when I browse the web, I'm using HTTP.\n\n47\n00:02:28.171 --> 00:02:29.436\nThese first two rules don't apply.\n\n48\n00:02:29.436 --> 00:02:34.750\nSo then I hit the third rule which says,\neverything else is permitted.\n\n49\n00:02:34.750 --> 00:02:37.010\nSo I'm allowed to get out of the web.\n\n50\n00:02:37.010 --> 00:02:40.780\nSo what I need to do is\ncreate a timed deny rule.\n\n51\n00:02:40.780 --> 00:02:45.300\nA deny rule that's active at certain\ntimes and not active at other times.\n\n52\n00:02:45.300 --> 00:02:46.740\nYou might do this the other way around.\n\n53\n00:02:46.740 --> 00:02:51.050\nYou might have a rule that is a permit\nrule that's active at certain times and\n\n54\n00:02:51.050 --> 00:02:52.520\nnot active at others.\n\n55\n00:02:52.520 --> 00:02:53.410\nBut in my case,\n\n56\n00:02:53.410 --> 00:02:57.840\nsince I've got this catch all permit, I'm\ngonna use a timed deny to override that.\n\n57\n00:02:58.890 --> 00:03:01.460\nSo I'm gonna add a new rule in here, and\n\n58\n00:03:01.460 --> 00:03:06.440\nthis rule is gonna apply to my\ninside interface denying any source\n\n59\n00:03:06.440 --> 00:03:11.470\ngoing to any destination\n\n60\n00:03:11.470 --> 00:03:16.550\nusing http and https.\n\n61\n00:03:16.550 --> 00:03:18.970\nSo I'm gonna be blocking that traffic.\n\n62\n00:03:18.970 --> 00:03:22.560\nAnd if I just say okay, well it's\nstuck at after my permit rule, so\n\n63\n00:03:22.560 --> 00:03:24.110\nI'm gonna move that up.\n\n64\n00:03:24.110 --> 00:03:29.350\nAnd now when I hit Apply, I just\nblocked web access for all my users.\n\n65\n00:03:29.350 --> 00:03:31.280\nAny of my users going out to the web,\n\n66\n00:03:31.280 --> 00:03:33.810\nthe first two rules don't\nmatch cuz they're DNS.\n\n67\n00:03:33.810 --> 00:03:35.270\nThe third rule does match.\n\n68\n00:03:35.270 --> 00:03:36.230\nThey get denied.\n\n69\n00:03:36.230 --> 00:03:37.330\nThey can't get out.\n\n70\n00:03:37.330 --> 00:03:40.406\nThen what we're gonna do is we're\ngonna attach a schedule to it.\n\n71\n00:03:40.406 --> 00:03:43.870\nA schedule that defines when\nthis is going to be active.\n\n72\n00:03:43.870 --> 00:03:46.400\nWhen it is active, we'll deny.\n\n73\n00:03:46.400 --> 00:03:50.083\nWhen it's not active, people will skip\nright past it and go to the fourth rule\n\n74\n00:03:50.083 --> 00:03:53.669\nwhich permits everything else, and\nthey'll be able to get out to the web.\n\n75\n00:03:53.669 --> 00:03:56.668\nYou have to think about the logic of these\nto figure out the order of the rules\n\n76\n00:03:56.668 --> 00:03:58.600\nthat you need them to be in.\n\n77\n00:03:58.600 --> 00:04:00.770\nNow, what you need is\nto print the schedule.\n\n78\n00:04:00.770 --> 00:04:02.400\nNow, when do I want to deny?\n\n79\n00:04:03.440 --> 00:04:07.610\nWell, if I want to allow them during\ntheir lunch break or in the morning or\n\n80\n00:04:07.610 --> 00:04:11.930\nin the afternoon, I really just need\nto deny them from 8 to noon and\n\n81\n00:04:11.930 --> 00:04:14.388\nfrom 1 PM to 5 PM.\n\n82\n00:04:14.388 --> 00:04:16.950\nAnd I really just need to do\nthat Monday through Friday.\n\n83\n00:04:16.950 --> 00:04:19.696\nIf they're in there on the weekend,\nthey can browse the web, what do I care.\n\n84\n00:04:19.696 --> 00:04:21.016\nSo we can go ahead and\n\n85\n00:04:21.016 --> 00:04:26.232\nset that up to just do 8 to 5 with the\nexclusional lunch Monday through Friday.\n\n86\n00:04:26.232 --> 00:04:28.090\nSo I'm gonna edit that rule.\n\n87\n00:04:28.090 --> 00:04:29.630\nAnd here on the main roll screen,\n\n88\n00:04:29.630 --> 00:04:33.000\nyou actually don't see\nanything about the schedule.\n\n89\n00:04:33.000 --> 00:04:37.200\nBut down on the bottom if you go to More\nOptions, here's where you can enable and\n\n90\n00:04:37.200 --> 00:04:42.760\ndisable the rule and right at\nthe bottom you can set the time range.\n\n91\n00:04:42.760 --> 00:04:44.890\nNow, when you define a time\nrange you create schedules.\n\n92\n00:04:44.890 --> 00:04:46.570\nThey show up in this drop down list.\n\n93\n00:04:46.570 --> 00:04:48.750\nI haven't made any yet,\nso it's empty for me.\n\n94\n00:04:48.750 --> 00:04:53.020\nIf I hit the ellipsis button beside it\nI can start to create the schedules.\n\n95\n00:04:53.020 --> 00:04:56.360\nAnd when you go to create the schedule\nthere's a few things that you need to add.\n\n96\n00:04:56.360 --> 00:04:59.000\nI'm gonna go and hit Add and\nI'm gonna create the schedule.\n\n97\n00:04:59.000 --> 00:05:01.150\nAnd I'm gonna call mine Work Hours.\n\n98\n00:05:02.290 --> 00:05:07.780\nNow, depending on how I want to filter\nthis is gonna depend on how I set this up.\n\n99\n00:05:07.780 --> 00:05:12.500\nIf I want a rule that only applies for\nthe month of July then\n\n100\n00:05:12.500 --> 00:05:17.600\nI can set a start time and an end time,\nand that rule will apply for all of July.\n\n101\n00:05:17.600 --> 00:05:21.380\nSo I might say start on\nJuly 1st at midnight and\n\n102\n00:05:21.380 --> 00:05:23.510\ngo all the way through\nJuly 31st at midnight.\n\n103\n00:05:24.600 --> 00:05:27.260\nThat's when that rule is going to apply,\nbut the rule is going to apply for\n\n104\n00:05:27.260 --> 00:05:28.850\nall the time in between.\n\n105\n00:05:28.850 --> 00:05:30.630\nThat's a full range.\n\n106\n00:05:30.630 --> 00:05:32.650\nThat's not really a true schedule.\n\n107\n00:05:32.650 --> 00:05:35.710\nNormally, when we create a rule like\nthis we're gonna say, start now and\n\n108\n00:05:35.710 --> 00:05:36.920\nnever end, run forever.\n\n109\n00:05:38.070 --> 00:05:42.150\nAnd that's what I'm gonna do is I'm gonna\nsay this starts immediately never ends.\n\n110\n00:05:42.150 --> 00:05:44.940\nBut I still need to restrict it down\nto Monday through Friday and all that.\n\n111\n00:05:44.940 --> 00:05:48.140\nSo we don't do that here,\nthis is just saying the rule itself,\n\n112\n00:05:48.140 --> 00:05:53.800\nthe lifetime of the rule itself then\nthe recurring time ranges right here.\n\n113\n00:05:53.800 --> 00:05:56.039\nThis is where we do our real work.\n\n114\n00:05:56.039 --> 00:06:01.844\nI wanna deny access from 8 AM to noon,\nand from 1 PM to 5 PM.\n\n115\n00:06:01.844 --> 00:06:06.181\nSo I'm gonna add my first range, and\nI wanna say not every day, not weekdays,\n\n116\n00:06:06.181 --> 00:06:10.649\nnot weekends, I wanna do on these days\nof the week, I wanna do Monday, Tuesday,\n\n117\n00:06:10.649 --> 00:06:13.587\nWednesday, Thursday, and\nFriday, my weekdays.\n\n118\n00:06:13.587 --> 00:06:15.086\nThis is my normal work hours.\n\n119\n00:06:15.086 --> 00:06:20.070\nI want this to start at 8 AM and\nI want it to\n\n120\n00:06:20.070 --> 00:06:24.920\nend at noon, if I can click on it there.\n\n121\n00:06:24.920 --> 00:06:28.096\nI'll choose 12 o' clock or\nI could say 11:59,\n\n122\n00:06:28.096 --> 00:06:32.000\nI guess that would have been easier,\nbut I'll say 12 o'clock.\n\n123\n00:06:32.000 --> 00:06:36.039\nSo from 8 AM to noon,\nthis is gonna be active.\n\n124\n00:06:36.039 --> 00:06:37.548\nAnd I'll go ahead and say okay to that.\n\n125\n00:06:37.548 --> 00:06:40.880\nYou'll see down here you can\nactually say like a weekly interval.\n\n126\n00:06:40.880 --> 00:06:44.410\nAnd so you can start to\nspecify things like days and\n\n127\n00:06:44.410 --> 00:06:45.870\ntimes kinda tied together based on that.\n\n128\n00:06:45.870 --> 00:06:50.100\nUp here, you see specify days of the week\nand times on which this recurring range\n\n129\n00:06:50.100 --> 00:06:54.390\nwill be active versus down here,\nspecify a weekly interval.\n\n130\n00:06:54.390 --> 00:06:58.320\nWe're basically saying like every other\nweek or the first week of the month.\n\n131\n00:06:58.320 --> 00:07:00.490\nYou can get kinda specific like that.\n\n132\n00:07:00.490 --> 00:07:03.660\nBut for what I want I need this top part,\nso I'll go ahead and say okay.\n\n133\n00:07:03.660 --> 00:07:06.486\nThere's that first one weekdays,\n8 AM to noon.\n\n134\n00:07:06.486 --> 00:07:10.725\nI'm gonna add another one, and this one\nis going to be these days of the week,\n\n135\n00:07:10.725 --> 00:07:14.530\nMonday, Tuesday, Wednesday,\nThursday, Friday.\n\n136\n00:07:14.530 --> 00:07:18.953\nAnd then I'm gonna say that this one is\ngoing to be from 1 which is actually going\n\n137\n00:07:18.953 --> 00:07:21.609\nto be 13,\nI have to go to the 24 hour format.\n\n138\n00:07:21.609 --> 00:07:24.721\nSo from 13:00 hours to-\n>> 17.\n\n139\n00:07:24.721 --> 00:07:28.123\n>> Let's see, yep, 17, 17:00 hours.\n\n140\n00:07:28.123 --> 00:07:32.025\nAnd we'll get that set, there we go.\n\n141\n00:07:32.025 --> 00:07:33.325\nAnd we'll say OK.\n\n142\n00:07:33.325 --> 00:07:38.298\nSo now during work hours,\nfrom 8 to noon and from 1 to 5,\n\n143\n00:07:38.298 --> 00:07:41.380\nthis rule is going to be active.\n\n144\n00:07:41.380 --> 00:07:45.009\nAnd it's when the rule is active,\nnot when the rule is disabled or whatever.\n\n145\n00:07:46.240 --> 00:07:47.550\nI'll say OK to that.\n\n146\n00:07:47.550 --> 00:07:50.594\nNow, it's telling me my time range name\ncannot contain spaces, oh up here.\n\n147\n00:07:50.594 --> 00:07:54.630\n[LAUGH] So I'm just gonna make that\nan underscore, that should make it happy.\n\n148\n00:07:54.630 --> 00:07:55.730\nThere we go.\n\n149\n00:07:55.730 --> 00:07:58.440\nSo now, I've got this new schedule, and\n\n150\n00:07:58.440 --> 00:08:00.600\nI can reuse this schedule for\nother rules too.\n\n151\n00:08:00.600 --> 00:08:02.530\nYou can use it over and\nover and over again.\n\n152\n00:08:02.530 --> 00:08:03.949\nSo you might have work hours.\n\n153\n00:08:03.949 --> 00:08:05.006\nYou might have holiday hours.\n\n154\n00:08:05.006 --> 00:08:07.740\nYou might have all sorts of different\nthings that you define there.\n\n155\n00:08:07.740 --> 00:08:12.510\nHoliday hours is a neat one because you\nmight have a rule that applies just on\n\n156\n00:08:12.510 --> 00:08:18.310\nJanuary first for New Year's day or\njust on you know December 25th or\n\n157\n00:08:18.310 --> 00:08:21.200\nwhatever it is for\na holiday that your organization honors.\n\n158\n00:08:21.200 --> 00:08:25.657\nThen you put those in here and\nit would just be that particular day.\n\n159\n00:08:25.657 --> 00:08:26.631\nSo I'll just say OK to that.\n\n160\n00:08:26.631 --> 00:08:30.029\nAnd now, you'll see in my time\nrange field I can drop it down and\n\n161\n00:08:30.029 --> 00:08:32.158\nI can pick work hours, and I can say OK.\n\n162\n00:08:32.158 --> 00:08:36.042\nNow, when I look at this rule I\ncan scroll all the way over and\n\n163\n00:08:36.042 --> 00:08:40.575\nright here under time, I can see\nit's got a schedule assigned to it.\n\n164\n00:08:40.575 --> 00:08:43.908\nAnd if the time is between 8 and\nnoon or 1 and\n\n165\n00:08:43.908 --> 00:08:49.550\n5, this rule will be active and\nthat web access will be denied.\n\n166\n00:08:49.550 --> 00:08:54.050\nBut if it's between noon and\n1 or if it's before 8 AM or\n\n167\n00:08:54.050 --> 00:08:58.230\nafter 5 PM, this rule will not be active,\npeople will skip over it.\n\n168\n00:08:58.230 --> 00:09:01.067\nAnd they'll hit rule number four,\nwhich permits everything.\n\n169\n00:09:01.067 --> 00:09:02.645\nAnd now, they can get out to the web.\n\n170\n00:09:02.645 --> 00:09:08.369\nSo I've effectively gated web access to\nonly occur during the times that I want.\n\n171\n00:09:08.369 --> 00:09:12.050\nThere's a number of different reasons\nwhy you might wanna set this up.\n\n172\n00:09:12.050 --> 00:09:15.560\nMaybe you only want employees\nVPNing in during work hours, and so\n\n173\n00:09:15.560 --> 00:09:19.000\nyou might create rules that say, I'm not\ngonna let them VPN on the weekend or\n\n174\n00:09:19.000 --> 00:09:20.990\nwhatever, we're just gonna lock them in.\n\n175\n00:09:20.990 --> 00:09:22.350\nThere's other thing like that you can do.\n\n176\n00:09:22.350 --> 00:09:23.750\nYou can have a lot of fun with it.\n\n177\n00:09:23.750 --> 00:09:25.108\nYou can cause a lot of havoc with it.\n\n178\n00:09:25.108 --> 00:09:28.958\nTimed ACLs like this make\ntroubleshooting difficult because you\n\n179\n00:09:28.958 --> 00:09:33.500\ndon't necessarily know what that\nschedule is looking at this screen.\n\n180\n00:09:33.500 --> 00:09:35.580\nAnd by default you don't\neven see that column.\n\n181\n00:09:35.580 --> 00:09:36.840\nI don't see the time column.\n\n182\n00:09:36.840 --> 00:09:39.270\nSo I might be looking at it like why\ndoesn't this rule have any hits?\n\n183\n00:09:39.270 --> 00:09:40.279\nWhy isn't this rule working?\n\n184\n00:09:41.840 --> 00:09:44.880\nIf I scroll over I see oh,\nit's got a schedule, and\n\n185\n00:09:44.880 --> 00:09:46.510\nI might not be in that time frame.\n\n186\n00:09:46.510 --> 00:09:47.870\nSo that is a pretty big challenge.\n\n187\n00:09:47.870 --> 00:09:49.210\nI'm gonna Apply that.\n\n188\n00:09:49.210 --> 00:09:51.730\nAnd if you use something like\nthe packet trace utility,\n\n189\n00:09:51.730 --> 00:09:54.860\nnotice the packet trace utility\ndoesn't let you set a time.\n\n190\n00:09:54.860 --> 00:09:57.380\nYou can't mock it up for\na certain time of the day.\n\n191\n00:09:57.380 --> 00:10:00.680\nSo troubleshooting a scheduled ACL\ncan be challenging just because\n\n192\n00:10:00.680 --> 00:10:02.570\nyou don't necessarily\nknow that it's there.\n\n193\n00:10:02.570 --> 00:10:04.130\nAnd it's hard to emulate a time.\n\n194\n00:10:04.130 --> 00:10:07.448\nYou've really got to test it by\nmanipulating that schedule and\n\n195\n00:10:07.448 --> 00:10:09.458\nseeing whether it works or doesn't.\n\n196\n00:10:09.458 --> 00:10:14.517\nBut once it's all in there and\ndone you're pretty good to go,\n\n197\n00:10:14.517 --> 00:10:17.351\nyou've now set a scheduled rule.\n\n198\n00:10:17.351 --> 00:10:20.361\n>> Well Don, it looks like that\nthe scheduling of the rule is a really\n\n199\n00:10:20.361 --> 00:10:23.811\npowerful technique that we can use to\nhelp control the access that we need,\n\n200\n00:10:23.811 --> 00:10:25.920\nespecially inside of a production network.\n\n201\n00:10:25.920 --> 00:10:29.000\nWe're probably gonna see it\nactually more useful than we think.\n\n202\n00:10:29.000 --> 00:10:31.820\nBut it does take a little bit of time\ngetting used to the logic is actually\n\n203\n00:10:31.820 --> 00:10:35.690\nsomething that we've got to b able to do\nif we're gonna set something like this up.\n\n204\n00:10:35.690 --> 00:10:37.210\nWell, that's our show today.\n\n205\n00:10:37.210 --> 00:10:38.900\nWe're glad you joined us.\n\n206\n00:10:38.900 --> 00:10:41.794\nPlease continue to stay with us for\nmore Cisco ASA content.\n\n207\n00:10:41.794 --> 00:10:47.209\n[MUSIC]\n\n",
          "vimeoId": "132754556"
        },
        {
          "description": null,
          "length": "772",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-3-1-dynamic_nat-070915-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-3-1-dynamic_nat-070915-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-3-1-dynamic_nat-070915-1-sm.jpg",
          "title": "Dynamic NAT",
          "transcript": "WEBVTT\n\n1\n00:00:00.428 --> 00:00:07.569\n[MUSIC]\n\n2\n00:00:07.569 --> 00:00:12.364\nIn this video, we're gonna take a look at\nconfiguring dynamic NAT on a Cisco ASA.\n\n3\n00:00:12.364 --> 00:00:15.308\nSo dynamic NAT is one of\nthe most common forms of NAT and\n\n4\n00:00:15.308 --> 00:00:18.385\nNetwork Address Translation,\nwe take internal IPs and\n\n5\n00:00:18.385 --> 00:00:22.002\nwe change them to public IPs when\nthey pass through our firewall.\n\n6\n00:00:22.002 --> 00:00:25.307\nWith dynamic NAT though, it's kind\nof got some little challenges and\n\n7\n00:00:25.307 --> 00:00:29.240\nwhat most people think of as dynamic NAT\nis actually broken up into several pieces.\n\n8\n00:00:29.240 --> 00:00:32.149\nSo we're gonna film a couple of videos\nhere that cover the different ways to\n\n9\n00:00:32.149 --> 00:00:32.759\nconfigure it.\n\n10\n00:00:32.759 --> 00:00:37.140\nSo what I wanna start with here is\nwhats considered true dynamic NAT.\n\n11\n00:00:37.140 --> 00:00:42.004\nWith dynamic NAT, we create a pool of\naddresses and as hosts pass through our\n\n12\n00:00:42.004 --> 00:00:46.113\nfirewall, they just grab an available\naddress and then go out.\n\n13\n00:00:46.113 --> 00:00:48.376\nThat's what dynamic NAT is all about.\n\n14\n00:00:48.376 --> 00:00:49.726\nLet me show you how that works and\n\n15\n00:00:49.726 --> 00:00:52.279\nwe'll kinda talk about\nthe limitations of it while we do it.\n\n16\n00:00:52.279 --> 00:00:56.899\nSo I've got an ASA configured here and\nI've got my inside, outside and\n\n17\n00:00:56.899 --> 00:00:58.059\nDMZ interfaces.\n\n18\n00:00:58.059 --> 00:01:01.334\nAnd when you create your ASA,\nwhen you first bring it up,\n\n19\n00:01:01.334 --> 00:01:05.000\nit's gonna have some default\nNAT rules in place already.\n\n20\n00:01:05.000 --> 00:01:07.270\nFor example,\nit'll have dynamic NAT enabled for\n\n21\n00:01:07.270 --> 00:01:10.410\nyour inside network to be able\nto get out to the internet.\n\n22\n00:01:10.410 --> 00:01:12.560\nBut any other interface you have,\nfor example,\n\n23\n00:01:12.560 --> 00:01:16.160\nmy DMZ is not going to\nhave NAT rules at all.\n\n24\n00:01:16.160 --> 00:01:21.082\nIf I go up here to my configuration and I\ngo down to firewall and over to NAT rules,\n\n25\n00:01:21.082 --> 00:01:24.918\nsee how I've got a rule in here for\ninside traffic to outside.\n\n26\n00:01:24.918 --> 00:01:29.508\nI didn't make that, that was there on the\nASA ahead of time, but there isn't one for\n\n27\n00:01:29.508 --> 00:01:32.303\nthe DMZ and\nthat's because I need to add it myself.\n\n28\n00:01:32.303 --> 00:01:35.761\nSo, I'm gonna configure true\ndynamic NAT for my DMZ.\n\n29\n00:01:35.761 --> 00:01:38.621\nIf I have a server in the DMZ and\nit wants to get out to the internet,\n\n30\n00:01:38.621 --> 00:01:39.558\nwhat's it gonna do?\n\n31\n00:01:39.558 --> 00:01:44.834\nNow configuring NAT is a lot different,\nif you're running\n\n32\n00:01:44.834 --> 00:01:50.122\nCisco's ASA OS 8.3 and\nhigher versus 8.2 and lower.\n\n33\n00:01:50.122 --> 00:01:53.513\nIn 8.2 and lower, you'd jump right\nin here and start adding your rules.\n\n34\n00:01:53.513 --> 00:01:57.854\nBut in 8.3 and higher, they've moved\nto a new network object model.\n\n35\n00:01:57.854 --> 00:02:00.176\nAnd so let me show you how it works,\nit's a little bit different.\n\n36\n00:02:00.176 --> 00:02:02.476\nYou'd think I wanna configure NAT rules,\nI wanna go into NAT.\n\n37\n00:02:02.476 --> 00:02:07.530\nWell, don't,\ninstead go down here to Objects.\n\n38\n00:02:07.530 --> 00:02:11.010\nIf I go down to Objects,\nI can create a network object.\n\n39\n00:02:11.010 --> 00:02:15.678\nAnd I need to create a network object for\nmy DMZ and I can see I've already got one,\n\n40\n00:02:15.678 --> 00:02:17.479\nthe ASA is creating one for me.\n\n41\n00:02:17.479 --> 00:02:20.520\nIf I hadn't, I can always add my own in.\n\n42\n00:02:20.520 --> 00:02:24.561\nMaybe we've got a couple of computers in\nthe DMZ that you wanna handle this for.\n\n43\n00:02:24.561 --> 00:02:27.776\nSo I might come in and\nadd a special network object.\n\n44\n00:02:27.776 --> 00:02:30.899\nThat's going to be my dmz-webservers.\n\n45\n00:02:30.899 --> 00:02:35.849\nAnd so, I'll just give it that name and I\ncan come in here and I can specify a host\n\n46\n00:02:35.849 --> 00:02:39.603\nor a range of IPs that are gonna\nbe the web servers in the DMZ.\n\n47\n00:02:39.603 --> 00:02:41.338\nBut either way, step one for\n\n48\n00:02:41.338 --> 00:02:45.616\nconfiguring dynamic NAT is to make\nsure that we have a network object.\n\n49\n00:02:45.616 --> 00:02:47.908\nNow since I've already got\nthe default one here for DMZ,\n\n50\n00:02:47.908 --> 00:02:49.215\nI'm just gonna reuse that one.\n\n51\n00:02:49.215 --> 00:02:53.639\nWhen you edit the network object,\nthe default screen is pretty simple.\n\n52\n00:02:53.639 --> 00:02:59.370\nIt lets you put in a name and it lets you\nput in a network that matches this object.\n\n53\n00:02:59.370 --> 00:03:00.890\nBut if we go down here to the bottom,\n\n54\n00:03:00.890 --> 00:03:02.982\nyou'll see there's this\nwhole section on NAT.\n\n55\n00:03:02.982 --> 00:03:04.317\nAnd if we expand that out,\n\n56\n00:03:04.317 --> 00:03:08.591\nthis is where we can configure the various\ntypes of network address translations.\n\n57\n00:03:08.591 --> 00:03:13.053\nWhen you do it this way, configuring on\nthe network object, it'll turn around and\n\n58\n00:03:13.053 --> 00:03:15.490\ncreate the NAT rules for\nyou automatically.\n\n59\n00:03:15.490 --> 00:03:19.579\nSo if your ASA is running OS 8.3 and\nhigher, you don't have to create NAT rules\n\n60\n00:03:19.579 --> 00:03:23.350\nanymore, you do it right here and\nit creates the rules for you.\n\n61\n00:03:23.350 --> 00:03:26.720\nSo I'm gonna say, I want automatically\naddress translations for this,\n\n62\n00:03:26.720 --> 00:03:28.210\nI'm gonna turn that on.\n\n63\n00:03:28.210 --> 00:03:31.004\nAnd for the type, I'm gonna pick Dynamic.\n\n64\n00:03:31.004 --> 00:03:32.536\nI want this to be dynamic NAT.\n\n65\n00:03:32.536 --> 00:03:35.870\nI wanna create a pool of IPs and\nthese people will come through and\n\n66\n00:03:35.870 --> 00:03:37.180\ngrab the available IPs.\n\n67\n00:03:37.180 --> 00:03:39.658\nNow if it was a single host,\nI could come in here and\n\n68\n00:03:39.658 --> 00:03:43.496\nput in a translated address right in\nthis field, but that's not what I want.\n\n69\n00:03:43.496 --> 00:03:47.593\nTrue dynamic NAT involves\nthe use of a pool of IPs.\n\n70\n00:03:47.593 --> 00:03:51.843\nSo right down here,\nI can choose a PAT Pool Translate Address.\n\n71\n00:03:51.843 --> 00:03:56.799\nI can specify a pool of addresses to use\nand there is a little difference here.\n\n72\n00:03:56.799 --> 00:03:57.656\nYou might be asking,\n\n73\n00:03:57.656 --> 00:04:00.479\nwhat if I just put the pool of addresses\nup here in Translated Address?\n\n74\n00:04:00.479 --> 00:04:01.280\nAnd you can.\n\n75\n00:04:01.280 --> 00:04:03.660\nDynamic NAT has two kinda ways of working.\n\n76\n00:04:03.660 --> 00:04:06.017\nYou need a pool of addresses.\n\n77\n00:04:06.017 --> 00:04:08.213\nLet's say, I make a pool of three IPs.\n\n78\n00:04:08.213 --> 00:04:11.335\nAs hosts go out, they're gonna grab\nthe first IP that's available and\n\n79\n00:04:11.335 --> 00:04:14.196\nthey're gonna run with it and\nthen the second host comes along and\n\n80\n00:04:14.196 --> 00:04:17.231\nhe grabs the second IP and the third\nhost comes and grabs the third IP.\n\n81\n00:04:17.231 --> 00:04:21.028\nWell, if I I only have three IPs,\nwhat happens to the fourth person?\n\n82\n00:04:21.028 --> 00:04:23.663\nThere's no more IP's,\nthey don't get natted.\n\n83\n00:04:23.663 --> 00:04:28.410\nIf I put the pool up here under translated\naddress, if I create that pool right here.\n\n84\n00:04:28.410 --> 00:04:31.627\nI'm limited to as many IPs as I have.\n\n85\n00:04:31.627 --> 00:04:33.543\nIf I have three IP's, I have three hosts.\n\n86\n00:04:33.543 --> 00:04:35.168\nIf I have ten IPs, I can have ten hosts.\n\n87\n00:04:35.168 --> 00:04:39.347\nIf I do PAT Pool Translated Address,\nthis is different.\n\n88\n00:04:39.347 --> 00:04:42.204\nThis says, yeah,\nhand them out one at a time.\n\n89\n00:04:42.204 --> 00:04:46.627\nBut when you get to the last IP, switch\nfrom network address translation to port\n\n90\n00:04:46.627 --> 00:04:50.669\naddress translation and allow people\nto share a single IP on the way out.\n\n91\n00:04:50.669 --> 00:04:54.434\nSo when we configure dynamic NAT,\nthis is really the most common way and\n\n92\n00:04:54.434 --> 00:04:57.090\nthat's to make sure that\nwe don't run out of IPs.\n\n93\n00:04:57.090 --> 00:05:00.561\nNow when I hit my ellipses\nbutton over here on the side,\n\n94\n00:05:00.561 --> 00:05:05.169\nyou'll see that we define the pool\nby creating another network object.\n\n95\n00:05:05.169 --> 00:05:10.092\nAnd so I'm gonna come in here and\nadd a network object and for this one,\n\n96\n00:05:10.092 --> 00:05:12.692\nI'll call this my dmz-nat-pool.\n\n97\n00:05:12.692 --> 00:05:16.500\nAnd instead of a host,\nI'm gonna say that it's a range and\n\n98\n00:05:16.500 --> 00:05:18.765\nI'll point it to the range of IPs.\n\n99\n00:05:18.765 --> 00:05:24.920\nSo I'll do, let's see, 209.251.159.180\n\n100\n00:05:24.920 --> 00:05:29.548\nthrough 209.251.159.182.\n\n101\n00:05:29.548 --> 00:05:30.628\nThere's three IPs.\n\n102\n00:05:30.628 --> 00:05:32.603\nNow, I'm using public IPs.\n\n103\n00:05:32.603 --> 00:05:37.628\nMy DMZ host all have private IPs,\n192.168.1.\n\n104\n00:05:37.628 --> 00:05:40.538\nAnd as they pass through the firewall,\nthey're gonna grab the first of these\n\n105\n00:05:40.538 --> 00:05:42.845\naddresses that's available,\nso they should grab 180.\n\n106\n00:05:42.845 --> 00:05:46.107\nAnd then host number two will get 181,\nhost number three will get 182.\n\n107\n00:05:46.107 --> 00:05:49.729\nHost number 4 will share 182.\n\n108\n00:05:49.729 --> 00:05:51.668\nHost number 5 will share 182.\n\n109\n00:05:51.668 --> 00:05:54.268\nSo, it'll start to overload that last IP.\n\n110\n00:05:54.268 --> 00:05:58.031\nNow there's a NAT option down here,\nbut I don't wanna configure NAT for\n\n111\n00:05:58.031 --> 00:06:00.449\nthis, cuz this is the pool being used for\nNAT.\n\n112\n00:06:00.449 --> 00:06:03.929\nSo I'm gonna leave that empty and\njust hit OK and\n\n113\n00:06:03.929 --> 00:06:09.506\nnow I've got this dmz-nat-pool,\nwhich is a range of three IP addresses.\n\n114\n00:06:09.506 --> 00:06:11.385\nAnd so, I'll choose that.\n\n115\n00:06:11.385 --> 00:06:12.848\nThat's gonna be my pool address.\n\n116\n00:06:12.848 --> 00:06:19.472\nSo now when systems are coming from the\nDMZ, coming from this 192.168.1.0 network,\n\n117\n00:06:19.472 --> 00:06:23.039\nthey're gonna get natted\nto that dmz-nat-pool.\n\n118\n00:06:23.039 --> 00:06:25.441\nI'll go ahead and hit OK on that.\n\n119\n00:06:25.441 --> 00:06:28.042\nNow you do have a few other options,\nso you can tweak like round robin.\n\n120\n00:06:28.042 --> 00:06:32.396\nThe default is dynamic NAT will\noverload the last IP in the pool.\n\n121\n00:06:32.396 --> 00:06:36.301\nIf you choose round robin, it'll\noverload all of the IPs in the pool and\n\n122\n00:06:36.301 --> 00:06:37.678\nthat's really useful.\n\n123\n00:06:37.678 --> 00:06:40.219\nIf you have thousands of\nmachines in your DMZ,\n\n124\n00:06:40.219 --> 00:06:42.833\noverloading one address\nis gonna be a problem.\n\n125\n00:06:42.833 --> 00:06:45.818\nSo we wanna round robin and distribute\nthat, but that's not on by default.\n\n126\n00:06:45.818 --> 00:06:48.441\nI'll leave that off and I'll just hit OK.\n\n127\n00:06:48.441 --> 00:06:52.179\nNow [COUGH] when I go to set it up,\nI'm getting an error here.\n\n128\n00:06:52.179 --> 00:06:53.151\nIt's telling me,\n\n129\n00:06:53.151 --> 00:06:57.415\nit's unable to set the translated address\nwith the same name at the initial setup.\n\n130\n00:06:57.415 --> 00:06:58.692\nPlease disable NAT.\n\n131\n00:06:58.692 --> 00:07:02.454\nSave the network object first and assign\nthe translated address with the same name.\n\n132\n00:07:02.454 --> 00:07:07.361\nSo, it's complaining about the name that\nI chose when I created that object and\n\n133\n00:07:07.361 --> 00:07:10.301\nso that's not really\nthe end of the world here.\n\n134\n00:07:10.301 --> 00:07:11.672\nWe can kinda turn that off.\n\n135\n00:07:11.672 --> 00:07:14.664\nSo I'm pulling an error here\nwhen I go to save it and\n\n136\n00:07:14.664 --> 00:07:17.803\nthe problem is that I'm\nmodifying the DMZ network,\n\n137\n00:07:17.803 --> 00:07:22.463\nwhich is an auto-generated network\nthat I didn't create, DMZ-network.\n\n138\n00:07:22.463 --> 00:07:24.727\nI was reusing that one\nthat they already created.\n\n139\n00:07:24.727 --> 00:07:27.804\nAnd when you do that,\nsee how it leaves the name blank?\n\n140\n00:07:27.804 --> 00:07:31.670\nIt's actually not editing that default\nrecord, it's creating a new one.\n\n141\n00:07:31.670 --> 00:07:35.940\nSo I just have to give it a name and so\nI'll just call this, like my dmz-hosts or\n\n142\n00:07:35.940 --> 00:07:39.205\nsomething, you could call it\nDMZ network two or whatever.\n\n143\n00:07:39.205 --> 00:07:42.489\nJust so that it differentiates it from\nthe rule that's already in there.\n\n144\n00:07:42.489 --> 00:07:46.970\nSo, I'll go ahead and change that and\nthen hit OK and now it's gonna save it.\n\n145\n00:07:46.970 --> 00:07:49.477\nAnd I've get this network object,\ndm-hosts,\n\n146\n00:07:49.477 --> 00:07:53.647\nwhich is the 192.168.120 network,\nsame as the DMZ network up here.\n\n147\n00:07:53.647 --> 00:07:58.159\nAnd then beneath it, I can see that\ndmz-nat-pool that I created listing those\n\n148\n00:07:58.159 --> 00:08:01.205\nthree public IPs that I'm\ngoing to allow it to NAT to.\n\n149\n00:08:01.205 --> 00:08:04.170\nI'm gonna go ahead and hit Apply,\nso that'll take effect.\n\n150\n00:08:04.170 --> 00:08:08.005\nNow all I created here were network\nobjects, but in the background,\n\n151\n00:08:08.005 --> 00:08:11.856\nit went and it created the network\naddress translation rules for me.\n\n152\n00:08:11.856 --> 00:08:17.459\nIf I go back up to my NAT rules, see how\nI've got any source to any destination for\n\n153\n00:08:17.459 --> 00:08:20.472\ndmz-hosts that if they're heading out,\n\n154\n00:08:20.472 --> 00:08:24.005\nthen they'll get natted\nto the dmz-nat-pool.\n\n155\n00:08:24.005 --> 00:08:27.608\nNow there's some little problems that I\nhave with this rule that it auto created\n\n156\n00:08:27.608 --> 00:08:30.425\nfor me, so I might need to get in here and\ntweak it a little bit.\n\n157\n00:08:30.425 --> 00:08:31.487\nMy biggest problem is,\n\n158\n00:08:31.487 --> 00:08:34.686\nit's saying from any source interface\nto any destination interface.\n\n159\n00:08:34.686 --> 00:08:36.466\nSo that means my dmz-hosts,\n\n160\n00:08:36.466 --> 00:08:39.749\nas they pass out to the outside\nare going to get natted.\n\n161\n00:08:39.749 --> 00:08:44.624\nAnd if they pass to the inside,\nthey're gonna get natted also.\n\n162\n00:08:44.624 --> 00:08:46.529\nThey're getting added on\nthe way to the inside.\n\n163\n00:08:46.529 --> 00:08:47.921\nWell, we may want that.\n\n164\n00:08:47.921 --> 00:08:51.843\nWe may want our internal machines to\nsee the DMZ with the same addresses as\n\n165\n00:08:51.843 --> 00:08:55.583\nthe outside world would and so\nthat's that default functionality.\n\n166\n00:08:55.583 --> 00:08:59.030\nThat's why Cisco does it that way,\nbut you might need to override this.\n\n167\n00:08:59.030 --> 00:09:02.197\nYou may need to put in\nanother NAT rule that says,\n\n168\n00:09:02.197 --> 00:09:07.310\ndon't NAT it when the DMZ is going to\nthe internal network or something.\n\n169\n00:09:07.310 --> 00:09:12.038\nBut they put it this way, so that your\ninternal and your external hosts all see\n\n170\n00:09:12.038 --> 00:09:15.553\nthe DMZ kind of the same way\nwith those public addresses.\n\n171\n00:09:15.553 --> 00:09:18.630\nNow that's already taking effect.\n\n172\n00:09:18.630 --> 00:09:20.210\nThat should be working for me.\n\n173\n00:09:20.210 --> 00:09:23.030\nIf I jump over to a host,\nI can test it out.\n\n174\n00:09:23.030 --> 00:09:30.391\nI think I've got a server somewhere\naround here that we can use in my DMZ.\n\n175\n00:09:30.391 --> 00:09:35.105\nSo here is a web server that I've got\nin my DMZ and it's just a Linux box and\n\n176\n00:09:35.105 --> 00:09:37.205\nit's sitting there in the DMZ.\n\n177\n00:09:37.205 --> 00:09:40.578\nIts IP address should\nbe a 192.168.1 address,\n\n178\n00:09:40.578 --> 00:09:42.906\nif I just double check that real quick.\n\n179\n00:09:42.906 --> 00:09:46.307\nWe can see it's 192.168.1.2.\n\n180\n00:09:46.307 --> 00:09:50.540\nIt's in my DMZ and it's going through\nthe ASA on its way out to the internet.\n\n181\n00:09:50.540 --> 00:09:54.756\nIf it browses to an internet server,\nit should get translated.\n\n182\n00:09:54.756 --> 00:10:01.535\nAnd if I fire up Firefox here, I'll browse\nto a web server that is on the outside.\n\n183\n00:10:01.535 --> 00:10:07.236\nAnd so let me just get into Firefox and\nwe'll connect to somebody on the outside.\n\n184\n00:10:07.236 --> 00:10:10.963\nSo we'll go to 209.251.159.183.\n\n185\n00:10:10.963 --> 00:10:11.833\nHere we go.\n\n186\n00:10:11.833 --> 00:10:16.351\nSo I'm browsing an outside web server and\nI've just put a PHP test page on there,\n\n187\n00:10:16.351 --> 00:10:18.417\nthat'll show me what my address is.\n\n188\n00:10:18.417 --> 00:10:23.153\nIf I scroll down to the section here that\nshows client data, it is right here.\n\n189\n00:10:23.153 --> 00:10:24.720\nHere's the server that I browsed to.\n\n190\n00:10:24.720 --> 00:10:29.259\nI just browsed to 209.251.159.183 and\nlook at my IP.\n\n191\n00:10:29.259 --> 00:10:34.773\nMy IP is not 192.168.1.2.\n\n192\n00:10:34.773 --> 00:10:39.080\nMy IP is 209.251.159.180.\n\n193\n00:10:39.080 --> 00:10:43.074\nWhen I went out, I grabbed the first\nIP from the pool that was available and\n\n194\n00:10:43.074 --> 00:10:44.630\nthat's now assigned to me.\n\n195\n00:10:44.630 --> 00:10:47.695\nIf somebody else from the DMZ goes out,\nthey'll get 181.\n\n196\n00:10:47.695 --> 00:10:49.900\nAnd if somebody else goes out,\nthey'll get 182.\n\n197\n00:10:49.900 --> 00:10:51.410\nThey're coming from that pool.\n\n198\n00:10:51.410 --> 00:10:57.377\nNow that is the configuration for\ndynamic NAT in it's truest form.\n\n199\n00:10:57.377 --> 00:11:01.717\nNow a lot of you guys that are watching\nthis video are saying, well, Don,\n\n200\n00:11:01.717 --> 00:11:06.129\nthat works, but wouldn't I want host and\nthe DMZ to have the same address?\n\n201\n00:11:06.129 --> 00:11:10.467\nAnd you're exactly right and that's why we\ndon't see dynamic NAT deployed quite like\n\n202\n00:11:10.467 --> 00:11:12.503\nthis in most production environments.\n\n203\n00:11:12.503 --> 00:11:17.294\nNormally, we either do static NAT or\nwe do dynamic NAT where it's\n\n204\n00:11:17.294 --> 00:11:21.661\nfixed to make sure that people\nalways get the same address.\n\n205\n00:11:21.661 --> 00:11:26.352\nYou have to have like a really big pool\nthat never truly expired to allow people\n\n206\n00:11:26.352 --> 00:11:28.383\nto have kind of a static address.\n\n207\n00:11:28.383 --> 00:11:32.241\nBut we'll record that in another video,\nhow to do the static NAT mappings to\n\n208\n00:11:32.241 --> 00:11:35.511\nensure that a host always gets\nthe same address when they go out.\n\n209\n00:11:35.511 --> 00:11:38.723\nBut for those of you that are studying for\nlike a Cisco exam,\n\n210\n00:11:38.723 --> 00:11:40.724\nthis is true dynamic NAT right here.\n\n211\n00:11:40.724 --> 00:11:43.104\nWhen we say that we're doing dynamic NAT,\nthis is the model.\n\n212\n00:11:43.104 --> 00:11:47.365\nYou got a pool of addresses and\nyour host grab from it on the way out.\n\n213\n00:11:47.365 --> 00:11:50.882\nSo that configuration,\nlet me switch back to my client here.\n\n214\n00:11:50.882 --> 00:11:53.250\nThe configuration,\njust to kind of recap it.\n\n215\n00:11:53.250 --> 00:11:55.460\nI went under Network Objects,\n\n216\n00:11:55.460 --> 00:11:59.880\nI created a network that reflected\nthe people I wanted to NAT.\n\n217\n00:11:59.880 --> 00:12:01.529\nThe host that I wanted to translate.\n\n218\n00:12:01.529 --> 00:12:07.287\nThen in that network, I went down to the\nadvanced options here to the NAT section.\n\n219\n00:12:07.287 --> 00:12:10.340\nI turn on dynamic NAT and\nI define the pool.\n\n220\n00:12:10.340 --> 00:12:14.020\nAnd remember, if you define the pool here,\nit's true dynamic NAT.\n\n221\n00:12:14.020 --> 00:12:16.482\nAnd if the pool empties out,\npeople don't get translated.\n\n222\n00:12:16.482 --> 00:12:20.604\nOr if you define the pool here,\nif the pool gets full.\n\n223\n00:12:20.604 --> 00:12:24.027\nWell, it just starts overloading\nthe addresses that are already in there.\n\n224\n00:12:24.027 --> 00:12:26.220\nSo those are kind of the two\ndifferent ways to do it.\n\n225\n00:12:26.220 --> 00:12:29.298\nAnd once that's done,\nthe dynamic NAT rules are put in place and\n\n226\n00:12:29.298 --> 00:12:31.989\nnow we're getting translated and\nwe're getting out.\n\n227\n00:12:31.989 --> 00:12:33.951\nWell, I hope you guys enjoyed the videos.\n\n228\n00:12:33.951 --> 00:12:35.013\nStay tuned,\n\n229\n00:12:35.013 --> 00:12:41.009\ncuz we got more coming up on static NAT\nas well as doing NAT overload or PAT.\n\n230\n00:12:41.009 --> 00:12:43.691\nWe'll do kind of port boarding and\nthose guys in a separate video too.\n\n231\n00:12:43.691 --> 00:12:45.990\nSo stay tuned for those and\nwe'll see you then.\n\n232\n00:12:45.990 --> 00:12:51.571\n[MUSIC]\n\n",
          "vimeoId": "133160049"
        },
        {
          "description": null,
          "length": "882",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-3-2-static_nat-070915-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-3-2-static_nat-070915-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-3-2-static_nat-070915-1-sm.jpg",
          "title": "Static NAT",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:07.575\n[MUSIC]\n\n2\n00:00:07.575 --> 00:00:12.220\nIn this video, we're gonna take a look at\nconfiguring Static NAT on a Cisco ASA.\n\n3\n00:00:12.220 --> 00:00:15.745\nNow if you watched our previous videos,\nwe covered dynamic NAT.\n\n4\n00:00:15.745 --> 00:00:18.521\nAnd with dynamic NAT as\nhost go out of the network,\n\n5\n00:00:18.521 --> 00:00:22.750\nthey just grab a random IP out of\na pool of addresses and they go.\n\n6\n00:00:22.750 --> 00:00:24.841\nThat's fine, if you're dealing\nwith like internal hosts.\n\n7\n00:00:24.841 --> 00:00:26.560\nPeople who need temporary connections.\n\n8\n00:00:26.560 --> 00:00:30.307\nBut if we need a server, like a web\nserver or a mail server whatever.\n\n9\n00:00:30.307 --> 00:00:34.950\nTo get natted to a public IP, you want\nit to always have the same IP address.\n\n10\n00:00:34.950 --> 00:00:39.385\nSo a dynamic NAT is not really\nsuitable for that, static NAT is.\n\n11\n00:00:39.385 --> 00:00:42.963\nStatic NAT is also called one to one NAT,\nwhere we do a mapping.\n\n12\n00:00:42.963 --> 00:00:49.300\nWe say, this one IP address is tied to\nthis one host and they will always get it.\n\n13\n00:00:49.300 --> 00:00:52.145\nAnd when you turn that host off,\nthe IP just sits there and\n\n14\n00:00:52.145 --> 00:00:54.950\nwaits and is available for\nthe next person who needs it.\n\n15\n00:00:54.950 --> 00:00:57.600\nSo that's what static NAT is all about.\n\n16\n00:00:57.600 --> 00:00:59.711\nAnd so when we're dealing with servers,\n\n17\n00:00:59.711 --> 00:01:02.136\nstatic NAT is the one that\nwe see most commonly.\n\n18\n00:01:02.136 --> 00:01:04.190\nWhen you're dealing with clients,\nwell, dynamic NAT.\n\n19\n00:01:04.190 --> 00:01:05.136\nThat one comes into play.\n\n20\n00:01:05.136 --> 00:01:07.400\nBut with servers, it's static NAT.\n\n21\n00:01:07.400 --> 00:01:12.144\nAnd configuring static NAT is really\nsuper simple in ASA instead of running\n\n22\n00:01:12.144 --> 00:01:14.714\nthe operating system 8.3 or higher.\n\n23\n00:01:14.714 --> 00:01:17.692\nIn ASA's 8.2 and lower,\nyou'd have to go in and\n\n24\n00:01:17.692 --> 00:01:21.240\ncreate NAT rules and\nyou'd have to define two way NAT rules.\n\n25\n00:01:21.240 --> 00:01:25.054\nYou'd have to do both directions for\ntraffic coming inside, out and\n\n26\n00:01:25.054 --> 00:01:26.314\nfrom outside back in.\n\n27\n00:01:26.314 --> 00:01:29.600\nThe reason you had to create two\ndirections is your server might be\n\n28\n00:01:29.600 --> 00:01:31.163\nreaching out to the internet.\n\n29\n00:01:31.163 --> 00:01:34.705\nSo I go to the server and\ndo a Windows update or a Linux update and\n\n30\n00:01:34.705 --> 00:01:38.113\nit reaches out to those servers,\nit gets added to that IP and\n\n31\n00:01:38.113 --> 00:01:40.452\nthe replies are allowed to come back in.\n\n32\n00:01:40.452 --> 00:01:43.918\nBut with a server, you might have\nconnections coming from the outside\n\n33\n00:01:43.918 --> 00:01:46.749\nthat aren't replies,\nthat are initiated externally.\n\n34\n00:01:46.749 --> 00:01:48.870\nSomebody browses to your website.\n\n35\n00:01:48.870 --> 00:01:52.248\nSo how do we know to translate\nthem back to the server?\n\n36\n00:01:52.248 --> 00:01:55.600\nWell, you don't unless you\ncreate a bidirectional rule.\n\n37\n00:01:55.600 --> 00:01:58.932\nSo in 8.2 and earlier,\nyou had to create both directions,\n\n38\n00:01:58.932 --> 00:02:00.606\na bidirectional rule for NAT.\n\n39\n00:02:00.606 --> 00:02:03.970\nIn 8.3 and higher, it's all done at once.\n\n40\n00:02:03.970 --> 00:02:06.281\nThanks to the use of a network object.\n\n41\n00:02:06.281 --> 00:02:07.950\nLet me show you how it works.\n\n42\n00:02:07.950 --> 00:02:11.883\nSo I'm running OS 9.4,\nwhich is the latest as of today, but\n\n43\n00:02:11.883 --> 00:02:15.016\nthis has kind of been\nthe same every since 8.3.\n\n44\n00:02:15.016 --> 00:02:19.540\nAnd the way we configuring that is\nfirst off, we need to have some kind\n\n45\n00:02:19.540 --> 00:02:24.370\nof server to test with and\nthen we assign a public IP to that server.\n\n46\n00:02:24.370 --> 00:02:28.153\nSo in my scenario, I've got a server,\n\n47\n00:02:28.153 --> 00:02:32.511\nwhich is this guy right\nhere is a web server and\n\n48\n00:02:32.511 --> 00:02:36.657\nhis IP address 192.168.1.2.\n\n49\n00:02:36.657 --> 00:02:39.471\nSo if I look here it says, IP 192.168.1.2.\n\n50\n00:02:39.471 --> 00:02:40.885\nIt's a private IP.\n\n51\n00:02:40.885 --> 00:02:46.125\nThis server's in the DMZ and\nI want to assign a public IP to it.\n\n52\n00:02:46.125 --> 00:02:52.622\nI want the public to see this\nmachine as 209.251.159.180, right?\n\n53\n00:02:52.622 --> 00:02:54.781\nA public IP address.\n\n54\n00:02:54.781 --> 00:02:57.712\nSo to do that, I'm gonna do translation.\n\n55\n00:02:57.712 --> 00:03:01.530\nNow I could do that with dynamic NAT,\nbut I want this to always be the same.\n\n56\n00:03:01.530 --> 00:03:05.072\nSo, I'm gonna jump over to my ASDM and\n\n57\n00:03:05.072 --> 00:03:09.288\nI'll go under Configuration and Firewall.\n\n58\n00:03:09.288 --> 00:03:12.143\nAnd in 8.2 and earlier, I would\njump right up here to NAT rules and\n\n59\n00:03:12.143 --> 00:03:14.768\nI would start to configure\nthe bidirectional rule.\n\n60\n00:03:14.768 --> 00:03:18.864\nBut in 8.3 and later, we can just go\nright down here to Network Objects and\n\n61\n00:03:18.864 --> 00:03:21.427\nwe can create a network object for\nthat server.\n\n62\n00:03:21.427 --> 00:03:25.890\nSo I'm gonna create an object here,\nwhich I'm just gonna call.\n\n63\n00:03:25.890 --> 00:03:29.020\nI kind of follow a little\nnaming convention of mine where\n\n64\n00:03:29.020 --> 00:03:31.362\nany internal IPs I always start with int.\n\n65\n00:03:31.362 --> 00:03:35.958\nSo I'm gonna say, int_webserver01 aAnd\nthe reason I'm doing that is my web\n\n66\n00:03:35.958 --> 00:03:39.070\nserver's gonna have two\nIPs here in the future.\n\n67\n00:03:39.070 --> 00:03:41.587\nIt's gonna have a private IP and\na public IP.\n\n68\n00:03:41.587 --> 00:03:46.288\nAnd it's private IP is just 192.168.1.2.\n\n69\n00:03:46.288 --> 00:03:51.019\nSo I might create a network object for\nthat and I might create another\n\n70\n00:03:51.019 --> 00:03:55.761\nnetwork object that, ext or\nexternal underscore webserver01.\n\n71\n00:03:55.761 --> 00:04:01.000\nAnd put in that public IP there,\n209.251.159.180.\n\n72\n00:04:01.000 --> 00:04:03.670\nThat's what I want its public IP to be.\n\n73\n00:04:03.670 --> 00:04:04.982\nSo now, I've got these network objects.\n\n74\n00:04:04.982 --> 00:04:09.408\nNow I didn't have to do the public one,\nbut I like to do that to just try and\n\n75\n00:04:09.408 --> 00:04:10.410\nkeep a record.\n\n76\n00:04:10.410 --> 00:04:13.992\nAnd apparently, I spelled something\nwrong somewhere along the way, but\n\n77\n00:04:13.992 --> 00:04:15.620\nthe spelling only matters to me.\n\n78\n00:04:15.620 --> 00:04:19.110\nSo, I can see the internal and\nexternal objects right there.\n\n79\n00:04:19.110 --> 00:04:22.533\nNow just creating those objects\ndoesn't actually do anything,\n\n80\n00:04:22.533 --> 00:04:26.782\nI need to get NAT working on it and NAT is\nconfigured on the internal object right?\n\n81\n00:04:26.782 --> 00:04:30.602\nThis 192.168.1.2,\nthat's the one I wanna translate.\n\n82\n00:04:30.602 --> 00:04:34.237\nSo I'm gonna double-click on that one and\nhere inside of the network object,\n\n83\n00:04:34.237 --> 00:04:36.180\nI'm gonna go down here to NAT.\n\n84\n00:04:36.180 --> 00:04:40.630\nAnd in the NAT options, we can turn\non automatic address translation.\n\n85\n00:04:40.630 --> 00:04:46.110\nStatic is the default and it's asking me\nwhat address I want to translate it to?\n\n86\n00:04:46.110 --> 00:04:47.562\nAnd so I need to pick.\n\n87\n00:04:47.562 --> 00:04:48.506\nNow when you pick,\n\n88\n00:04:48.506 --> 00:04:53.090\nyou could be translating it into something\nlike the outside interface's IP.\n\n89\n00:04:53.090 --> 00:04:55.902\nThat's where we would do PAT or\nport address translation,\n\n90\n00:04:55.902 --> 00:04:59.292\nwhich we would overload that IP have\nmore than one person share that IP.\n\n91\n00:04:59.292 --> 00:05:01.666\nI don't want that,\nI want this to be one to one.\n\n92\n00:05:01.666 --> 00:05:06.598\nSo for the translated address, I'm gonna\npick that external web server object that\n\n93\n00:05:06.598 --> 00:05:09.280\nI made just a little moment ago.\n\n94\n00:05:09.280 --> 00:05:11.650\nThat's what I want it to be and\nthen right here,\n\n95\n00:05:11.650 --> 00:05:15.835\nI wanna use one to one\naddress translation.\n\n96\n00:05:15.835 --> 00:05:20.055\nI have one internal host and\none external IP.\n\n97\n00:05:20.055 --> 00:05:24.015\nIt's gonna be a direct mapping,\nI don't want any sharing of this.\n\n98\n00:05:24.015 --> 00:05:27.325\nAny traffic that comes from\nthe internet going to 209.251.159.180,\n\n99\n00:05:27.325 --> 00:05:29.225\nI want it go to this web server.\n\n100\n00:05:29.225 --> 00:05:32.335\nI don't want it to go anywhere else.\n\n101\n00:05:32.335 --> 00:05:34.465\nSo, I can choose that and I can hit OK.\n\n102\n00:05:34.465 --> 00:05:36.250\nAnd now, it's gonna create that rule.\n\n103\n00:05:36.250 --> 00:05:39.102\nNow, I don't see anything different\nhere on my network object screen.\n\n104\n00:05:39.102 --> 00:05:42.965\nBut when I hit Reply,\nI can jump up to NAT rules and\n\n105\n00:05:42.965 --> 00:05:46.650\nI'll see where it made\na bidirectional rule.\n\n106\n00:05:46.650 --> 00:05:48.390\nIt created both directions.\n\n107\n00:05:48.390 --> 00:05:51.088\nSee how rule number one\nis taking two lines and\n\n108\n00:05:51.088 --> 00:05:53.940\nrule number two is only taking one line?\n\n109\n00:05:53.940 --> 00:05:59.259\nRule number two, that's an outgoing rule\nand only replies are allowed to that one.\n\n110\n00:05:59.259 --> 00:06:02.760\nNothing can be initiated from the outside,\nso it only has to create one direction.\n\n111\n00:06:02.760 --> 00:06:06.967\nBut because this is static NAT for an\nindividual IP for a server, we need both\n\n112\n00:06:06.967 --> 00:06:11.203\nways and the firewall is smart enough\nto know that, so it creates the rules.\n\n113\n00:06:11.203 --> 00:06:16.369\nSo here's one rule that says, if my\ninternal web server is passing through\n\n114\n00:06:16.369 --> 00:06:22.660\nthe firewall, translate it to the external\nweb server IP and then send it along.\n\n115\n00:06:22.660 --> 00:06:27.095\nAnd notice the ports, the source ports and\ndestination ports, these services,\n\n116\n00:06:27.095 --> 00:06:28.133\nit says original.\n\n117\n00:06:28.133 --> 00:06:30.240\nDon't mess with the port numbers.\n\n118\n00:06:30.240 --> 00:06:32.973\nIf you're overloading an IP,\nif more than one person sharing an IP,\n\n119\n00:06:32.973 --> 00:06:35.438\nyou can get duplicate port numbers and\nit has to change those.\n\n120\n00:06:35.438 --> 00:06:38.350\nBut since this is one to one,\nwe don't have to manipulate it.\n\n121\n00:06:38.350 --> 00:06:41.796\nIt's just gonna change the layer\nthree address and that's it and\n\n122\n00:06:41.796 --> 00:06:44.063\nsend it along and\nthen the reverse is true.\n\n123\n00:06:44.063 --> 00:06:48.188\nAny traffic coming to the firewall\ndestined for the external IP,\n\n124\n00:06:48.188 --> 00:06:53.650\nit's gonna translate, so it'll be destined\nto the internal IP and there it is.\n\n125\n00:06:53.650 --> 00:06:57.893\nNow it's got it in place,\nboth directions real important there.\n\n126\n00:06:57.893 --> 00:07:01.010\nNow I'm not done yet, I'm sort of done.\n\n127\n00:07:01.010 --> 00:07:07.740\nThe NAT is done, if I go to my web server,\nlet me switch over to my web server here.\n\n128\n00:07:07.740 --> 00:07:13.582\nSo on my web server, if I fire up a web\nbrowser and I browse out to the internet.\n\n129\n00:07:13.582 --> 00:07:17.270\nSo I'll browser out to a host that\nI've got there on the internet and\n\n130\n00:07:17.270 --> 00:07:20.181\nI've got just a simple PHP\ninformation page here, so\n\n131\n00:07:20.181 --> 00:07:22.780\nthat I can see what IP I'm going out on.\n\n132\n00:07:22.780 --> 00:07:28.874\nSo, I just connected to this server\n209.251.159.183 ad notice my IP.\n\n133\n00:07:28.874 --> 00:07:30.925\nThe IP address of me, the client.\n\n134\n00:07:30.925 --> 00:07:37.290\n209.251.159.180, I got\ntranslated to that address.\n\n135\n00:07:37.290 --> 00:07:39.093\nI could go and change that, if I wanted.\n\n136\n00:07:39.093 --> 00:07:41.332\nI could manipulate that and\nchange it to 181.\n\n137\n00:07:41.332 --> 00:07:45.629\nNow it start going out under 181, but\nthat's the IP address tied to my server.\n\n138\n00:07:47.290 --> 00:07:51.010\nFrom the outside,\nif I were to switch to an external host.\n\n139\n00:07:51.010 --> 00:07:53.550\nSo here's somebody out\non the outside network.\n\n140\n00:07:55.710 --> 00:07:59.920\nIf I were to fire up say,\nmy web browser and\n\n141\n00:07:59.920 --> 00:08:04.200\ntry to browse to my server\nthat's being natted.\n\n142\n00:08:04.200 --> 00:08:08.553\nI natted that server to 209.251.159.180.\n\n143\n00:08:08.553 --> 00:08:10.093\nThat was the address I natted it to.\n\n144\n00:08:10.093 --> 00:08:13.210\nAnd if I browse for that,\nI'm not getting there.\n\n145\n00:08:13.210 --> 00:08:15.543\nIt's just sitting here\nkind of churning along.\n\n146\n00:08:15.543 --> 00:08:16.810\nWhy I'm not getting there?\n\n147\n00:08:17.940 --> 00:08:22.090\nIt's not the net rules problem,\nit's the firewall rules now.\n\n148\n00:08:22.090 --> 00:08:25.420\nThe NAT rules working just fine,\nI know that I'm getting natted out\n\n149\n00:08:25.420 --> 00:08:28.100\nin being dot 180 when I\ngo out to the internet.\n\n150\n00:08:28.100 --> 00:08:30.830\nBut here, I can't get to dot 180,\ncuz the firewall rules are blocking it.\n\n151\n00:08:30.830 --> 00:08:34.987\nSo when you're dealing with a server,\nthe static NAT mapping is one part of your\n\n152\n00:08:34.987 --> 00:08:38.700\nequation, but then you need to\ncreate your firewall rules too.\n\n153\n00:08:38.700 --> 00:08:40.466\nSo let's go and fix that real quick.\n\n154\n00:08:40.466 --> 00:08:44.527\nSo back here in my ASDM,\nI'm gonna go to access rules.\n\n155\n00:08:44.527 --> 00:08:46.825\nAnd if I look at the outside interface,\n\n156\n00:08:46.825 --> 00:08:50.060\nsee how I'm allowing\nreplies to ping messages?\n\n157\n00:08:50.060 --> 00:08:52.828\nAnd then everything else is being denied,\nit's being blocked.\n\n158\n00:08:52.828 --> 00:08:55.137\nAnd see the giant hit count\nI've got on that one,\n\n159\n00:08:55.137 --> 00:08:57.380\nit's because that traffic\nis being blocked.\n\n160\n00:08:57.380 --> 00:08:58.846\nSo, I need to add a rule.\n\n161\n00:08:58.846 --> 00:09:03.030\nNow here's where it gets tricky,\nI'm doing static NATs.\n\n162\n00:09:03.030 --> 00:09:07.324\nSo when that outside traffic comes in,\nwhat's the destination for it?\n\n163\n00:09:07.324 --> 00:09:10.903\nWell, if you think about the true\ndestination of that data,\n\n164\n00:09:10.903 --> 00:09:16.324\nit's coming into the firewall and\nit's destined for 209.251.159.180.\n\n165\n00:09:16.324 --> 00:09:17.040\nIt's destined for\nthe external IP of that host.\n\n166\n00:09:19.450 --> 00:09:23.968\nSo when you create a firewall rule\nexception, it's tempting to create\n\n167\n00:09:23.968 --> 00:09:29.630\nthe rule pointing to that external IP, but\nASA's do something called true addressing.\n\n168\n00:09:29.630 --> 00:09:35.719\nAnd what that means is that NAT rules\nactually apply before the ACL's apply.\n\n169\n00:09:35.719 --> 00:09:39.662\nSo the translation is already done\nbefore we hit the ACL rules and\n\n170\n00:09:39.662 --> 00:09:42.656\nthat means the destination\nis the internal IP and\n\n171\n00:09:42.656 --> 00:09:46.537\nI know that's counterintuitive,\nbut that's just how it is.\n\n172\n00:09:46.537 --> 00:09:51.021\n[LAUGH] So they do that to kind of\npreserve the access control is to make\n\n173\n00:09:51.021 --> 00:09:55.200\nsure that it's a little more\nlogical in terms of the firewall.\n\n174\n00:09:55.200 --> 00:09:57.358\nBut as a human being,\nit's not quite intuitive.\n\n175\n00:09:57.358 --> 00:10:00.590\nAnd if you ever kind of question this,\nyou can always test it out.\n\n176\n00:10:00.590 --> 00:10:04.274\nIf you use the packet trace utility\nup here and you simulate it.\n\n177\n00:10:04.274 --> 00:10:08.580\nSee I've got traffic coming from\nthe outside, it's gonna be TCP traffic.\n\n178\n00:10:08.580 --> 00:10:12.253\nThe source will be somebody\nout there on the internet, so\n\n179\n00:10:12.253 --> 00:10:15.324\nI'll pick that host I was\njust using out there.\n\n180\n00:10:15.324 --> 00:10:20.891\nAnd the destination IP,\nI'll put in 209.251.159.180,\n\n181\n00:10:20.891 --> 00:10:24.720\nthat's that address that I was natting to.\n\n182\n00:10:24.720 --> 00:10:27.542\nThe source port, I'll just pick\nsomething random like 50,000.\n\n183\n00:10:27.542 --> 00:10:30.701\nThe destination port, I'll put 80,\nbecause that's web traffic and\n\n184\n00:10:30.701 --> 00:10:32.560\nwe'll start that up.\n\n185\n00:10:32.560 --> 00:10:35.243\nSo, it's simulating what would happen\nto that traffic as it came in.\n\n186\n00:10:35.243 --> 00:10:41.532\nAnd if you look at it there's an access\nlist lookup that happens right here, then\n\n187\n00:10:41.532 --> 00:10:47.650\na route lookup and then an UN-NAT lookup\nand then another access list lookup.\n\n188\n00:10:47.650 --> 00:10:49.060\nSo what's going on there?\n\n189\n00:10:49.060 --> 00:10:53.620\nWell, the first access list lookup, that's\nactually handling things like our quality\n\n190\n00:10:53.620 --> 00:10:56.738\nof service policies and\njust our general service policies.\n\n191\n00:10:56.738 --> 00:11:00.281\nThere's some protocols like FTP,\nthen it has to examine the traffic and\n\n192\n00:11:00.281 --> 00:11:01.920\ndo the deep packet inspections.\n\n193\n00:11:01.920 --> 00:11:02.949\nSo that's what's happening there.\n\n194\n00:11:02.949 --> 00:11:08.080\nThat's not our normal firewall access\nrules, then we've got our route lookup.\n\n195\n00:11:08.080 --> 00:11:10.269\nIs this traffic destined for\na network that we can even reach?\n\n196\n00:11:10.269 --> 00:11:12.088\nCuz if we can't reach the network,\nthen we'll just throw it away.\n\n197\n00:11:12.088 --> 00:11:16.270\nNo sense in even looking at our rules,\nthen it UN-NATs it.\n\n198\n00:11:16.270 --> 00:11:18.966\nIt does a reverse NAT to\nchange it to the internal IP.\n\n199\n00:11:18.966 --> 00:11:23.516\nSo that reverse NAT happens first and\nthen our real ACL is kick in and\n\n200\n00:11:23.516 --> 00:11:25.473\nthe real ACL here blocks it.\n\n201\n00:11:25.473 --> 00:11:29.240\nSee the packet is dropped,\nit's blocked by a configured rule.\n\n202\n00:11:29.240 --> 00:11:32.700\nSo NAT happens first,\naccess list happens second.\n\n203\n00:11:32.700 --> 00:11:37.590\nAnd so we need to go in here and\ncreate the rule based on that idea.\n\n204\n00:11:37.590 --> 00:11:41.559\nSo I'm gonna add a new rule and\nI'm gonna say, outside traffic.\n\n205\n00:11:41.559 --> 00:11:46.680\nI'm gonna permit it, if the source is\nanybody out there on the internet,\n\n206\n00:11:46.680 --> 00:11:51.000\nbut the destination is gonna\nbe the internal webserver01.\n\n207\n00:11:51.000 --> 00:11:52.910\nEven though it's the outside interface and\n\n208\n00:11:52.910 --> 00:11:57.060\nyou normally wouldn't be able to get to\n192.60.1.2, I'm gonna put that internal.\n\n209\n00:11:57.060 --> 00:12:03.317\nThen the service, which we're gonna do\nHTTP and we'll go ahead and create that.\n\n210\n00:12:03.317 --> 00:12:06.300\nSo looking at that rule,\nit looks a little weird.\n\n211\n00:12:06.300 --> 00:12:07.525\nPointing that internal, but\n\n212\n00:12:07.525 --> 00:12:10.613\nthat is what we're doing and then I need\nto move it above my little deny all.\n\n213\n00:12:10.613 --> 00:12:12.790\nOtherwise, that's not gonna work out so\nwell for me.\n\n214\n00:12:12.790 --> 00:12:15.341\nSo, I'll go ahead and\nmove that one up and I'll hit Apply.\n\n215\n00:12:15.341 --> 00:12:17.102\nNow, I've got that rule in place.\n\n216\n00:12:17.102 --> 00:12:18.924\nNow the traffic should be allowed and\n\n217\n00:12:18.924 --> 00:12:22.430\nI can mock that up here in packet\ntrace just to test it out.\n\n218\n00:12:22.430 --> 00:12:26.755\nSo we'll run through that same\nsimulation we did a minute ago and\n\n219\n00:12:26.755 --> 00:12:29.890\nwe should have some\nbetter success this time.\n\n220\n00:12:29.890 --> 00:12:31.760\nSo we'll let that one fire through.\n\n221\n00:12:31.760 --> 00:12:33.200\nAnd this time, I can already tell,\n\n222\n00:12:33.200 --> 00:12:35.748\nlike this little diagram is far\nlarger than it was moments ago.\n\n223\n00:12:35.748 --> 00:12:38.270\nSo, it's gonna get through and\nwork just fine.\n\n224\n00:12:39.370 --> 00:12:42.082\nNow the real test though\nis to fire up a client.\n\n225\n00:12:42.082 --> 00:12:46.230\nSo this is my external host that's\nout there on the internet and\n\n226\n00:12:46.230 --> 00:12:52.899\nI'm just gonna fire up my Firefox web\nbrowser and I'll point to 209.251.159.180.\n\n227\n00:12:52.899 --> 00:12:56.567\nThat's the natted IP that I\njust mapped to my web server.\n\n228\n00:12:56.567 --> 00:12:59.565\nThe packet trace said,\nthis traffic should get through.\n\n229\n00:12:59.565 --> 00:13:01.640\nSo if I fire that up, sure enough.\n\n230\n00:13:01.640 --> 00:13:03.621\nThere we go.\nI get the web page being rendered from\n\n231\n00:13:03.621 --> 00:13:04.750\nthat server.\n\n232\n00:13:04.750 --> 00:13:07.150\nI'm initiating the connection\nfrom the outside.\n\n233\n00:13:07.150 --> 00:13:10.896\nSo this is the second part of that\nbidirectional rule that's kicking in and\n\n234\n00:13:10.896 --> 00:13:14.879\nI'm allowed to get to it, because we\ncreated the firewall rule that pointed not\n\n235\n00:13:14.879 --> 00:13:17.720\nto the external IP,\nnot to what I just typed.\n\n236\n00:13:17.720 --> 00:13:25.344\nBut to the internal IP, because the\ntranslation happened before I hit the ACL.\n\n237\n00:13:25.344 --> 00:13:30.451\nConfiguring static NAT mappings,\nyou start by creating a network object,\n\n238\n00:13:30.451 --> 00:13:35.157\nyou define the one to one relationship\nwith the public IP right there,\n\n239\n00:13:35.157 --> 00:13:40.220\nthen you add firewall rules that point\nto the internal IP not the external.\n\n240\n00:13:40.220 --> 00:13:41.440\nThat is an easy one to forget.\n\n241\n00:13:41.440 --> 00:13:44.190\nThose are kinda the steps to\ngetting static NAT starting up.\n\n242\n00:13:44.190 --> 00:13:46.216\nAnd now, I would just take\nall the servers in my DMZ and\n\n243\n00:13:46.216 --> 00:13:48.391\njust starting adding more of\nthese static NAT mappings.\n\n244\n00:13:48.391 --> 00:13:52.681\nOne for each one and we would just\ngo right back under network objects,\n\n245\n00:13:52.681 --> 00:13:55.830\nstart to add all these additional entries.\n\n246\n00:13:55.830 --> 00:14:00.380\nSetting up NAT on the internal network\nobjects, not on the external ones right?\n\n247\n00:14:00.380 --> 00:14:02.100\nWe wanna go ahead and\ncreate the external ones here.\n\n248\n00:14:02.100 --> 00:14:05.444\nSo we have a record of it and name we can\nreference when we go to set the mappings\n\n249\n00:14:05.444 --> 00:14:08.242\nup, but it's the internal one\nthat's really doing the work.\n\n250\n00:14:08.242 --> 00:14:09.860\nThat's the one that we truly care about.\n\n251\n00:14:09.860 --> 00:14:14.420\nSo get that set up and in place and\nnow you've got static NAT mappings.\n\n252\n00:14:14.420 --> 00:14:17.678\nThis is the most common form\nof NAT when used with servers,\n\n253\n00:14:17.678 --> 00:14:20.350\nbecause we always need\nthem to have the same IP.\n\n254\n00:14:21.630 --> 00:14:23.828\nWell, in this video,\nwe got a chance to see static NAT mapping.\n\n255\n00:14:23.828 --> 00:14:25.480\nSo hopefully, you guys enjoyed it.\n\n256\n00:14:25.480 --> 00:14:28.340\nStay turned,\nwe've got more Cisco content coming up.\n\n257\n00:14:28.340 --> 00:14:30.433\nWe even got a little bit\nmore NAT to get into,\n\n258\n00:14:30.433 --> 00:14:33.390\ncuz we haven't done port address\ntranslation overload yet.\n\n259\n00:14:33.390 --> 00:14:36.541\nSo stay tuned for those segments,\nthey are coming up next.\n\n260\n00:14:36.541 --> 00:14:42.284\n[MUSIC]\n\n",
          "vimeoId": "133160159"
        },
        {
          "description": null,
          "length": "1014",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-3-3-port_forwarding-070915-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-3-3-port_forwarding-070915-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-3-3-port_forwarding-070915-1-sm.jpg",
          "title": "Port Forwarding (PAT)",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:07.764\n[MUSIC]\n\n2\n00:00:07.764 --> 00:00:12.148\nIn this video we're gonna take a look\nat port forwarding on Cisco ASA.\n\n3\n00:00:12.148 --> 00:00:16.228\nNow in a previous video, we covered static\nNAT mappings, where we map a public IP\n\n4\n00:00:16.228 --> 00:00:19.168\ndirectly to a private IP, so\nthat we can make it a server and\n\n5\n00:00:19.168 --> 00:00:22.250\nshare things out on the internet and\nhave that access.\n\n6\n00:00:22.250 --> 00:00:24.150\nAnd that works out great for\ncompanies, right?\n\n7\n00:00:24.150 --> 00:00:27.400\nEnterprises, organizations\nthat have a lot of public IPs.\n\n8\n00:00:27.400 --> 00:00:31.550\nBut what if you're a home user, or a small\noffice, and, you just want to do something\n\n9\n00:00:31.550 --> 00:00:36.960\nsimple like, be able to remote desktop\ninto your computer at home, all right?\n\n10\n00:00:36.960 --> 00:00:39.110\nWell, in that scenario you might not have,\n\n11\n00:00:39.110 --> 00:00:41.690\na bunch of extra public\nIP's laying around.\n\n12\n00:00:41.690 --> 00:00:45.978\nAnd, all you really want to do, is say,\nlook any traffic that comes through\n\n13\n00:00:45.978 --> 00:00:49.866\nthe firewall on port 3389,\nlet's send that to my workstation.\n\n14\n00:00:49.866 --> 00:00:52.826\nOr port 80, let's send that to this\nlittle web server that I've got.\n\n15\n00:00:52.826 --> 00:00:53.941\nI just wanna forward that port.\n\n16\n00:00:53.941 --> 00:00:55.910\nI don't wanna deal with a bunch of IP's.\n\n17\n00:00:55.910 --> 00:01:00.020\nWell, unfortunately,\nCisco doesn't really plan for that.\n\n18\n00:01:00.020 --> 00:01:04.310\nCisco doesn't really have a way to do that\nin the default configuration like we're\n\n19\n00:01:04.310 --> 00:01:09.140\nused to because Cisco deals with\nbusinesses not with end users.\n\n20\n00:01:09.140 --> 00:01:12.560\nAnd so for businesses they just say,\nwell get some more IP's.\n\n21\n00:01:12.560 --> 00:01:15.790\nGet some more IP's and do static NAT and\nyou'll be fine, all right?\n\n22\n00:01:15.790 --> 00:01:21.510\nBut, if that's not an option to you, you\nactually can do port forwarding in an ASA.\n\n23\n00:01:21.510 --> 00:01:23.050\nIt's just not very intuitive.\n\n24\n00:01:23.050 --> 00:01:24.490\nSo, I wanna walk you\nthrough that process and\n\n25\n00:01:24.490 --> 00:01:26.750\nkind of show you how it works, all right?\n\n26\n00:01:26.750 --> 00:01:29.548\nSo on my ASA I've got an inside and\nan outside, and\n\n27\n00:01:29.548 --> 00:01:34.224\nI don't have a DMZ interface cuz t home or\nsmall office you're not gonna have a DMZ.\n\n28\n00:01:34.224 --> 00:01:35.686\nSo I've got my inside and outside.\n\n29\n00:01:35.686 --> 00:01:39.646\nMy inside is 192.168.0.0/24, all right?\n\n30\n00:01:39.646 --> 00:01:43.208\nThat's a standard small network that\nwe might see in a normal environment.\n\n31\n00:01:43.208 --> 00:01:46.120\nOn my outside, I've got a DHCP address.\n\n32\n00:01:46.120 --> 00:01:49.723\nI'm getting this public IP from\nmy internet service provider, and\n\n33\n00:01:49.723 --> 00:01:51.880\nI'm only getting one address, right?\n\n34\n00:01:51.880 --> 00:01:56.410\n209.251.159.187, and\nI want to configure it so\n\n35\n00:01:56.410 --> 00:02:00.277\nthat when people in the outside\nworld browse to this IP,\n\n36\n00:02:00.277 --> 00:02:03.677\nthat they're gonna get\nmy internal web server.\n\n37\n00:02:03.677 --> 00:02:05.697\nSome web server that I've got on\na web server in my environment.\n\n38\n00:02:05.697 --> 00:02:08.879\nOr I might do 3389 for\nremote desktop, or VNC, or\n\n39\n00:02:08.879 --> 00:02:12.410\nany other protocols that I\nwanna forward to a desktop.\n\n40\n00:02:12.410 --> 00:02:14.910\nBut I'm doing it all with one IP.\n\n41\n00:02:14.910 --> 00:02:16.670\nSo I'm gonna jump into my configuration.\n\n42\n00:02:17.710 --> 00:02:22.540\nAnd normally,\nI would go right down to Firewall, and\n\n43\n00:02:22.540 --> 00:02:25.940\nNetwork Objects, and start to define\nmy network objects right here.\n\n44\n00:02:25.940 --> 00:02:29.770\nBut in this scenario we're trying to do\nsomething that Cisco doesn't normally\n\n45\n00:02:29.770 --> 00:02:34.300\nsupport, so instead of jumping down here\nin Network Objects, I'm gonna go right up\n\n46\n00:02:34.300 --> 00:02:38.710\nto NAT Rules and I'm gonna manually create\nthe NAT rules myself cuz we're doing\n\n47\n00:02:38.710 --> 00:02:42.700\nsomething that's a little outside of what\nCisco considers the norm, all right?\n\n48\n00:02:42.700 --> 00:02:44.680\nSo I'm going to go in and add a new rule.\n\n49\n00:02:44.680 --> 00:02:49.120\nNow when we define the rule, this is where\nthings get a little bit strange because\n\n50\n00:02:49.120 --> 00:02:53.130\nwe're telling it to do something with\na port that's already being handled.\n\n51\n00:02:53.130 --> 00:02:57.707\nIf I look at my Default rule, we've got\ninside traffic going to the outside,\n\n52\n00:02:57.707 --> 00:03:02.830\nwill be NATed to the outside IP address,\nall right?\n\n53\n00:03:02.830 --> 00:03:07.170\nAnd it's not just NAT it's actually\nPAT also, Port Address Translation.\n\n54\n00:03:07.170 --> 00:03:10.509\nYou might have more than one\nperson going out on the same port.\n\n55\n00:03:10.509 --> 00:03:13.913\nAnd so if that's the case,\nit's gotta translate the port,\n\n56\n00:03:13.913 --> 00:03:16.865\nnot just the address,\nwe're overloading that IP.\n\n57\n00:03:16.865 --> 00:03:21.484\nWell, I'm gonna create another NAT rule,\nthat's gonna be tied to this same IP, but\n\n58\n00:03:21.484 --> 00:03:24.950\nI'm gonna be very specific about\nthe port cuz I'm forwarding,\n\n59\n00:03:24.950 --> 00:03:28.138\nI'm redirecting this port\nto a particular host.\n\n60\n00:03:28.138 --> 00:03:32.040\nSo, I'm gonna add a new rule,\nand for the source interface,\n\n61\n00:03:32.040 --> 00:03:34.730\nyou can leave it at any if you want,\nbut mine's gonna be the inside.\n\n62\n00:03:34.730 --> 00:03:37.860\nSo, I've got a host on\nthe inside of my network, and\n\n63\n00:03:37.860 --> 00:03:39.630\nit's this workstation\nthat I'm on right here.\n\n64\n00:03:39.630 --> 00:03:45.525\nIf I take a look at it,\nit's got an IP address of 192.168.0.2,\n\n65\n00:03:45.525 --> 00:03:49.373\nand it's running\nthe Microsoft IIS web server.\n\n66\n00:03:49.373 --> 00:03:54.384\nSo if I were to come in here and\npunch in 127.0.0.1,\n\n67\n00:03:54.384 --> 00:03:57.346\nI get the IIS welcome page, right?\n\n68\n00:03:57.346 --> 00:03:59.430\nSo it's running it's little web server.\n\n69\n00:03:59.430 --> 00:04:05.030\nBut if I go to an external host,\nlet me just jump over to this guy.\n\n70\n00:04:05.030 --> 00:04:07.830\nAll right,\nthis is somebody out on the Internet.\n\n71\n00:04:07.830 --> 00:04:12.680\nIf they were to browse to my firewall,\nright?\n\n72\n00:04:12.680 --> 00:04:15.530\nIt's gonna sit here, and\nit's gonna time out.\n\n73\n00:04:15.530 --> 00:04:19.130\nIt's gonna just try, and\nafter a moment it's gonna give up.\n\n74\n00:04:19.130 --> 00:04:22.300\nRight, if I try it here in a new window\nyou'll see, it's gonna try and give up.\n\n75\n00:04:22.300 --> 00:04:26.110\nBecause the firewall isn't\nanswering on port 80 for\n\n76\n00:04:26.110 --> 00:04:29.100\na website, so\nthat's what I've gotta correct.\n\n77\n00:04:29.100 --> 00:04:32.670\nI've gotta get the firewall to\nanswer to that, to say, all right\n\n78\n00:04:32.670 --> 00:04:37.080\nI'm gonna allow that port 80 traffic to\nget sent to this particular workstation.\n\n79\n00:04:37.080 --> 00:04:40.170\nSo, the source interface of this traffic,\nyou might\n\n80\n00:04:40.170 --> 00:04:43.490\nthink of it as from the outside in, but we\nhave to think of it from the inside out.\n\n81\n00:04:43.490 --> 00:04:48.770\nThe source is on the inside and\nit is our workstation, right?\n\n82\n00:04:48.770 --> 00:04:51.037\nThe destination is the outside.\n\n83\n00:04:51.037 --> 00:04:54.636\nWe're going to the outside world, and\nthe destination address is anybody.\n\n84\n00:04:54.636 --> 00:04:59.379\nIt could be anybody out there on\nthe Internet that we're talking to, but\n\n85\n00:04:59.379 --> 00:05:01.497\nthe service is going to be HTTP.\n\n86\n00:05:01.497 --> 00:05:06.052\nSo for that service, I could type it in,\nor I could use the Ellipsis button here\n\n87\n00:05:06.052 --> 00:05:10.070\nand find it, but when I go to add\nin that service, notice something.\n\n88\n00:05:11.080 --> 00:05:13.010\nRemember when you create, like, ACL rules,\n\n89\n00:05:13.010 --> 00:05:16.700\nthere's all sorts of Cisco stuff\nthat's already populated in here?\n\n90\n00:05:16.700 --> 00:05:19.110\nBut when I go to this service screen,\nwhat do I have?\n\n91\n00:05:19.110 --> 00:05:20.520\nNothing.\nI just have Any.\n\n92\n00:05:20.520 --> 00:05:21.790\nWhat happened to all the records?\n\n93\n00:05:21.790 --> 00:05:23.060\nWhy are they gone?\n\n94\n00:05:23.060 --> 00:05:26.520\nWell, all of those predefined\nones that Cisco makes,\n\n95\n00:05:26.520 --> 00:05:29.210\nthose are all destinations, right?\n\n96\n00:05:29.210 --> 00:05:34.635\nSo the HTTP service object that they\ncreated has a destination of TCP port 80.\n\n97\n00:05:34.635 --> 00:05:39.279\nIn this case, since I'm the server,\nI have a source of 80.\n\n98\n00:05:39.279 --> 00:05:42.613\nMy destination is a randomly generated\nport number that's based on whatever\n\n99\n00:05:42.613 --> 00:05:44.460\nthe client chooses on the outside.\n\n100\n00:05:44.460 --> 00:05:47.890\nSo, they can't guess that ahead of time,\nthey can't populate it here.\n\n101\n00:05:47.890 --> 00:05:51.970\nSo we actually have to create our\nown records for the port forward and\n\n102\n00:05:51.970 --> 00:05:54.280\nit's a little bit different\nthan what we're used to.\n\n103\n00:05:54.280 --> 00:05:58.473\nSo when we go up here to Add,\nI'm gonna add an IP service object and\n\n104\n00:05:58.473 --> 00:06:00.091\nI'm gonna call it http.\n\n105\n00:06:00.091 --> 00:06:02.738\nIt's a TCP technology, right?\n\n106\n00:06:02.738 --> 00:06:05.540\nIt's using\nthe Transmission Control Protocol.\n\n107\n00:06:05.540 --> 00:06:08.390\nAnd then I've got a Destination and\na Source port range.\n\n108\n00:06:08.390 --> 00:06:09.220\nNow the Destination,\n\n109\n00:06:09.220 --> 00:06:13.170\nI'm gonna leave that blank cuz I don't\nknow what the destination is gonna be.\n\n110\n00:06:13.170 --> 00:06:16.353\nWhen you browse to a web server,\nif you're the client,\n\n111\n00:06:16.353 --> 00:06:20.423\nyour source is randomly generated,\nusually between 49,000 and\n\n112\n00:06:20.423 --> 00:06:23.366\n65,000, but\nit can be even outside of that.\n\n113\n00:06:23.366 --> 00:06:27.267\nSo, your source is randomly generated,\nand your destination is port 80.\n\n114\n00:06:27.267 --> 00:06:30.211\nThe web server,\nyour destination is Port 80.\n\n115\n00:06:30.211 --> 00:06:33.798\nBut I'm doing this from the web\nserver side, so in the web server,\n\n116\n00:06:33.798 --> 00:06:36.760\nthe source is port 80 and\nthe destination is random.\n\n117\n00:06:36.760 --> 00:06:41.843\nSo, I'm gonna leave that destination blank\nand the source, I'll put in 80, all right?\n\n118\n00:06:41.843 --> 00:06:45.051\nSo I'm creating my own HTTP rule and\nI can create other rules too.\n\n119\n00:06:45.051 --> 00:06:49.515\nIf I wanted to allow SSH traffic,\nI would come in a create one call SSH, and\n\n120\n00:06:49.515 --> 00:06:52.036\nthe source would be TCP22 or whatever.\n\n121\n00:06:52.036 --> 00:06:53.534\nYou just define all the ones you need.\n\n122\n00:06:53.534 --> 00:06:55.313\nJust remember we're dealing with sources,\n\n123\n00:06:55.313 --> 00:06:57.580\nnot destination when we talk\nabout a server, all right?\n\n124\n00:06:57.580 --> 00:07:00.830\nBut HTTP is the one that I want so\nI'll go ahead and add that too my list.\n\n125\n00:07:02.190 --> 00:07:04.510\nAnd now we've got that defined, all right?\n\n126\n00:07:04.510 --> 00:07:06.760\nThe other thing I need to\nchange is the source address.\n\n127\n00:07:06.760 --> 00:07:10.360\nI need to specify a particular source,\nwho's gonna be the web server?\n\n128\n00:07:10.360 --> 00:07:13.540\nWell, I can come in here and\nI can add my workstation.\n\n129\n00:07:13.540 --> 00:07:17.010\nI've got some stray web servers\nhere let me add in my workstation.\n\n130\n00:07:18.290 --> 00:07:21.300\nSo I'll do Internal DP laptop.\n\n131\n00:07:21.300 --> 00:07:23.265\nAnd I'll set the IP address for it.\n\n132\n00:07:23.265 --> 00:07:26.033\nMy laptop is 192.168.0.2.\n\n133\n00:07:28.273 --> 00:07:29.500\nSo we'll go ahead and put that in here.\n\n134\n00:07:30.950 --> 00:07:37.130\nAll right, so now the traffic that I'm\nNATing is coming from DP laptop, right?\n\n135\n00:07:37.130 --> 00:07:41.120\nComing from my workstation and\nit's coming from port 80.\n\n136\n00:07:41.120 --> 00:07:43.330\nTCP port 80, which is HTTP.\n\n137\n00:07:43.330 --> 00:07:47.660\nIt's destined for anybody out there\non the Internet and any source port.\n\n138\n00:07:47.660 --> 00:07:48.480\nI don't know the source port.\n\n139\n00:07:49.520 --> 00:07:51.228\nThen we have to say how\nwe're gonna translate it.\n\n140\n00:07:51.228 --> 00:07:52.982\nWhat are we gonna change, all right?\n\n141\n00:07:52.982 --> 00:07:57.335\nNow when you go to translate it,\nstatic is the default and\n\n142\n00:07:57.335 --> 00:08:03.230\nthat assumes that we're kinda doing this\none to one mapping of an IP to a port,\n\n143\n00:08:03.230 --> 00:08:06.815\nand you can choose Dynamic PAT or\nDynamic NAT.\n\n144\n00:08:06.815 --> 00:08:08.075\nWhen you're setting up port forwarding,\n\n145\n00:08:09.315 --> 00:08:14.090\nyou really are doing a type of dynamic\ncuz you're overloading that IP, but\n\n146\n00:08:14.090 --> 00:08:16.910\nyour client is always going out\nwith the outside interface.\n\n147\n00:08:16.910 --> 00:08:23.060\nSo it is technically static, even though\nit's not true one-to-one relationship.\n\n148\n00:08:23.060 --> 00:08:26.970\nAnd see, when I choose this static,\nsee how Use one-to-one is not checked?\n\n149\n00:08:26.970 --> 00:08:30.770\nSo it knows that what I really\nwanna do is to overload the IP, and\n\n150\n00:08:30.770 --> 00:08:33.550\nI can't even choose that right now.\n\n151\n00:08:33.550 --> 00:08:36.009\nThe source address,\nwhat am I gonna change that to?\n\n152\n00:08:36.009 --> 00:08:39.226\nWell, I don't want the source\nto say 192.168.0.2.\n\n153\n00:08:39.226 --> 00:08:41.330\nPeople on the internet wont\nbe able to get to that.\n\n154\n00:08:41.330 --> 00:08:46.310\nSo for the source,\nI'm gonna choose the outside interface.\n\n155\n00:08:46.310 --> 00:08:49.690\nMy outside interface is using the DHCP,\nso whatever IP I get,\n\n156\n00:08:49.690 --> 00:08:51.470\nthat's what I want this to be.\n\n157\n00:08:52.510 --> 00:08:55.750\nThe destination address, well that's\nanybody out there on the Internet, so\n\n158\n00:08:55.750 --> 00:08:57.760\nI'm gonna leave that at original,\nI'm not gonna change that.\n\n159\n00:08:57.760 --> 00:09:00.820\nSo whatever it is originally,\nit's gonna stay at.\n\n160\n00:09:00.820 --> 00:09:03.500\nAnd the service I'm gonna\nleave as originally.\n\n161\n00:09:03.500 --> 00:09:08.620\nIt's originally on TCP 80 as the source,\nI'm gonna leave that on the way out too.\n\n162\n00:09:08.620 --> 00:09:10.890\nSo really the only thing I'm\nchanging is the address.\n\n163\n00:09:10.890 --> 00:09:12.290\nI'm not changing any of the other values.\n\n164\n00:09:12.290 --> 00:09:16.350\nThe other ports,\nI'm just leaving those at original, okay?\n\n165\n00:09:16.350 --> 00:09:22.070\nNow real important here, way down at\nthe bottom, you've got Direction, Both.\n\n166\n00:09:23.130 --> 00:09:25.260\nWe need to make sure that says Both.\n\n167\n00:09:25.260 --> 00:09:28.695\nWhen we go out, we need to make\nsure we're getting translated.\n\n168\n00:09:28.695 --> 00:09:32.575\nBut when traffic comes in unsolicited,\nit needs to get translated too so\n\n169\n00:09:32.575 --> 00:09:35.535\nwe actually need a bidirectional rule,\ntwo ways, all right?\n\n170\n00:09:35.535 --> 00:09:38.335\nSo that the outside traffic will\nget redirected and brought in so\n\n171\n00:09:38.335 --> 00:09:39.425\nI'll leave that at Both.\n\n172\n00:09:39.425 --> 00:09:43.345\nIt's the default here but if you're\ncreating a series of rules and you copy\n\n173\n00:09:43.345 --> 00:09:47.105\none it could be set to a Unidirectional\nrule and that'll cause some problems.\n\n174\n00:09:47.105 --> 00:09:50.460\nSo Unidirectional is the other option and\nwe don't want that.\n\n175\n00:09:50.460 --> 00:09:53.400\nSo I'll leave it at both, and I'll hit OK.\n\n176\n00:09:53.400 --> 00:09:55.910\nNotice that it created two rules for me.\n\n177\n00:09:55.910 --> 00:10:00.380\nIt created one rule for Inside out and\nanother for Outside in.\n\n178\n00:10:00.380 --> 00:10:06.700\nAnd they're putting that in place with\nthe source being HTTP for that traffic.\n\n179\n00:10:06.700 --> 00:10:08.234\nThis is what's going to be that port for\n\n180\n00:10:08.234 --> 00:10:11.150\nit, that's going to redirect\nit to my host, all right?\n\n181\n00:10:11.150 --> 00:10:13.080\nNow, I'm not done yet.\n\n182\n00:10:13.080 --> 00:10:17.590\nI've created the rule, so now the firewall\nknows to take port 80 traffic and\n\n183\n00:10:17.590 --> 00:10:19.180\nforward that to my workstation.\n\n184\n00:10:20.330 --> 00:10:23.410\nBut now I need to create a firewall\nrule to allow that traffic, and so\n\n185\n00:10:23.410 --> 00:10:26.530\nI need to jump up here to Access Rules and\ncreate an entry in here.\n\n186\n00:10:26.530 --> 00:10:30.600\nNow on your outside interface there's\na default rule that says deny everything\n\n187\n00:10:30.600 --> 00:10:34.290\nI need to create a rule that\nallows the web traffic or RDP or\n\n188\n00:10:34.290 --> 00:10:36.460\nwhatever other protocol it is\nthat I am trying to allow.\n\n189\n00:10:36.460 --> 00:10:38.500\nSo I need to add one in here, all right?\n\n190\n00:10:38.500 --> 00:10:40.430\nBut here's where it gets\na little bit convoluted.\n\n191\n00:10:40.430 --> 00:10:43.360\nWhen you add the rule in, the destination,\n\n192\n00:10:43.360 --> 00:10:46.030\nyou might be thinking\nthe destination is the public IP.\n\n193\n00:10:46.030 --> 00:10:51.830\nBut Cisco ASA is applied network address\ntranslation first, and then ACLs second.\n\n194\n00:10:51.830 --> 00:10:55.710\nSo the traffic is already translated\nby the time we get to the ACLs.\n\n195\n00:10:55.710 --> 00:11:00.140\nSo when I create this rule, the\ndestination needs to be the internal IP.\n\n196\n00:11:00.140 --> 00:11:02.640\nSo here on my outside rules,\nI'm going to add a new rule,\n\n197\n00:11:02.640 --> 00:11:06.200\nand I'm going to say traffic is\ncoming from the outside network.\n\n198\n00:11:06.200 --> 00:11:07.954\nI'm gonna permit it.\n\n199\n00:11:07.954 --> 00:11:12.353\nThe source is anybody,\nanybody out there on the internet, but\n\n200\n00:11:12.353 --> 00:11:16.754\nthe destination is going to be\nthe Internal DP laptop, right?\n\n201\n00:11:16.754 --> 00:11:18.577\nIt's gonna be my laptop.\n\n202\n00:11:18.577 --> 00:11:20.434\nI'll specify that as the destination.\n\n203\n00:11:20.434 --> 00:11:21.630\nNot the public IP.\n\n204\n00:11:21.630 --> 00:11:23.238\nNot the outside interface.\n\n205\n00:11:23.238 --> 00:11:25.519\nThe internal IP.\n\n206\n00:11:25.519 --> 00:11:30.012\nAnd then for the service,\nI'm gonna throttle that down to just HTTP.\n\n207\n00:11:30.012 --> 00:11:32.949\nSo I will find that in the list here.\n\n208\n00:11:32.949 --> 00:11:34.158\nIt is in here somewhere.\n\n209\n00:11:36.253 --> 00:11:37.192\nThere we go.\n\n210\n00:11:37.192 --> 00:11:39.990\nAnd notice I've got these\ntwo different objects now.\n\n211\n00:11:39.990 --> 00:11:41.870\nOne of them is with a source port.\n\n212\n00:11:41.870 --> 00:11:45.380\nThat's what I defined for NAT and\nthe other one is a destination.\n\n213\n00:11:45.380 --> 00:11:48.750\nWhen you create the ACL,\nhere we're talking about the destination.\n\n214\n00:11:48.750 --> 00:11:51.500\nSo it's kinda the other way around,\nwhich gets a little confusing.\n\n215\n00:11:51.500 --> 00:11:55.187\nSo I'm gonna choose that though,\ncuz the traffic is coming from a client.\n\n216\n00:11:55.187 --> 00:12:00.063\nIt's coming in the outside interface, and\nit's got a destination of TCP port 80.\n\n217\n00:12:00.063 --> 00:12:03.570\nAll right, so we'll punch that in,\nand we'll say OK.\n\n218\n00:12:03.570 --> 00:12:05.810\nNow it created beneath my deny rule, so\n\n219\n00:12:05.810 --> 00:12:08.700\nI'm gonna move that up a little bit\njust to make sure it gets through.\n\n220\n00:12:08.700 --> 00:12:12.570\nBut now traffic should be able to come\nin through that outside interface and\n\n221\n00:12:12.570 --> 00:12:17.450\njump right on through and\nget into that host.\n\n222\n00:12:17.450 --> 00:12:20.050\nNow, it's always a good idea,\nin my opinion,\n\n223\n00:12:20.050 --> 00:12:22.850\nto test with the packet\ntrace utility first.\n\n224\n00:12:22.850 --> 00:12:25.370\nIt runs a simulation to see what\nwould happen to this traffic and\n\n225\n00:12:25.370 --> 00:12:26.790\nsee if it would work.\n\n226\n00:12:26.790 --> 00:12:30.430\nIf that works, we know our firewalls\nconfigure properly and then we can go and\n\n227\n00:12:30.430 --> 00:12:32.111\ntest with our other hosts, right?\n\n228\n00:12:32.111 --> 00:12:34.560\nAnd if it fails there we know\nwe've got some other problem.\n\n229\n00:12:34.560 --> 00:12:36.638\nSo let me go to the packet race here.\n\n230\n00:12:36.638 --> 00:12:39.831\nAnd if we highlight the rule first,\nand then hit packet trace,\n\n231\n00:12:39.831 --> 00:12:42.390\nit actually fills in most of the data for\nus.\n\n232\n00:12:42.390 --> 00:12:45.810\nSo it knows that it's TCP traffic\nwith a destination of port 80.\n\n233\n00:12:45.810 --> 00:12:50.760\nIt's got a destination\nIP of the public IP and\n\n234\n00:12:50.760 --> 00:12:52.320\nthen I need to put in\nwho it's coming from.\n\n235\n00:12:52.320 --> 00:12:56.580\nAnd I could pick any IP out there on the\nInternet, but I'll pick my workstation.\n\n236\n00:12:56.580 --> 00:12:57.960\nIt has a public IP.\n\n237\n00:12:57.960 --> 00:13:01.486\nSo I'll put that in here,\nand we'll test it out, okay?\n\n238\n00:13:01.486 --> 00:13:05.255\nSo it's gonna run through a simulation\nof what would happen if this\n\n239\n00:13:05.255 --> 00:13:09.424\ntraffic passed through and what we\nshould see is, it hits the un-NAT, so\n\n240\n00:13:09.424 --> 00:13:11.259\nit translates it back, right?\n\n241\n00:13:11.259 --> 00:13:12.840\nOur service policy applies first.\n\n242\n00:13:12.840 --> 00:13:14.480\nThat's what this access list is.\n\n243\n00:13:14.480 --> 00:13:16.610\nThen it translates it and\n\n244\n00:13:16.610 --> 00:13:20.710\nthen we get our other access\nlist lookups as they go through.\n\n245\n00:13:20.710 --> 00:13:22.220\nAnd so you'll see it does the NAT look up.\n\n246\n00:13:22.220 --> 00:13:25.580\nQuality of service, it does another\nNAT lookup cuz its kind of doing\n\n247\n00:13:25.580 --> 00:13:29.130\ndouble NAT as it passes through\nthe system, and then moves to the inside.\n\n248\n00:13:29.130 --> 00:13:32.700\nAnd I can see, according to this,\neverything looks good.\n\n249\n00:13:32.700 --> 00:13:34.129\nThis traffic should make it through.\n\n250\n00:13:34.129 --> 00:13:36.300\nWell, lets go test, right?\n\n251\n00:13:36.300 --> 00:13:41.523\nEarlier I went to that external host of\nmine, this guy, who keeps going to sleep,\n\n252\n00:13:41.523 --> 00:13:45.551\nand I tested it out and\nI got that I couldn't get to that system.\n\n253\n00:13:45.551 --> 00:13:48.278\nWell, now I'm gonna\nbrowse to that public IP.\n\n254\n00:13:48.278 --> 00:13:50.836\nThis is the outside IP of my firewall.\n\n255\n00:13:50.836 --> 00:13:55.060\nAnd I'm gonna browse to it, and\nI get the IIS welcome page, all right?\n\n256\n00:13:55.060 --> 00:13:57.780\nI sent traffic to the firewall on port 80.\n\n257\n00:13:57.780 --> 00:14:00.720\nIt took that traffic and\nforwarded it to the inside host.\n\n258\n00:14:00.720 --> 00:14:03.446\nWhat I just did is port forwarding.\n\n259\n00:14:03.446 --> 00:14:07.715\nEverybody else on my internal network\ncan still go out under this one IP, but\n\n260\n00:14:07.715 --> 00:14:10.327\nany traffic coming to us on port 80,\nright?\n\n261\n00:14:10.327 --> 00:14:13.563\nWith the destination port 80,\nis gonna go right to this particular host.\n\n262\n00:14:13.563 --> 00:14:16.721\nNow, I know a lot of you are probably\nthinking, jeez Don, we're, what,\n\n263\n00:14:16.721 --> 00:14:20.290\n20 minutes into this video and\nwe just got port forwarding configured.\n\n264\n00:14:20.290 --> 00:14:23.505\nOn my Linksys router, I just check\nport forward, I put in the port and\n\n265\n00:14:23.505 --> 00:14:25.625\nI put it in the destination IP and\nit's done.\n\n266\n00:14:25.625 --> 00:14:26.170\nAnd you're right.\n\n267\n00:14:26.170 --> 00:14:28.910\nIt's that easy,\non those systems it's much easier.\n\n268\n00:14:28.910 --> 00:14:32.990\nAnd that's because they're designed for\nhome users that have a use for that.\n\n269\n00:14:32.990 --> 00:14:37.395\nASA's are designed for business users, and\nwith business users if you need something\n\n270\n00:14:37.395 --> 00:14:40.426\nto be exposed to the internet,\nyou get an IP address for it.\n\n271\n00:14:40.426 --> 00:14:43.424\nYou pay five bucks extra per month\nto get another IP address and\n\n272\n00:14:43.424 --> 00:14:45.277\nyou tack it on there and you're done.\n\n273\n00:14:45.277 --> 00:14:49.540\nAnd with a static IP like that, you don't\nhave to worry about port conflicts.\n\n274\n00:14:49.540 --> 00:14:52.560\nYou don't have to worry about more\nthan one client using the same port.\n\n275\n00:14:52.560 --> 00:14:56.530\nWhen you do what I'm doing here, port\nforwarding, we do have to worry about it.\n\n276\n00:14:56.530 --> 00:14:58.620\nWhat if I have two web servers?\n\n277\n00:14:58.620 --> 00:15:01.559\nWell, you can't do port\nforwarding to two web servers.\n\n278\n00:15:01.559 --> 00:15:05.134\nI can take port 80 and\ncan send it to one destination.\n\n279\n00:15:05.134 --> 00:15:08.295\nI can't port 80 and\nsend it to two destinations, or three.\n\n280\n00:15:08.295 --> 00:15:09.875\nI can with static NAT.\n\n281\n00:15:09.875 --> 00:15:13.915\nI can't with port forwarding like this,\nand so that's why it's not really business\n\n282\n00:15:13.915 --> 00:15:17.055\nclass technology and that's why\nCisco doesn't bake it into the ASA.\n\n283\n00:15:18.070 --> 00:15:19.210\nDoesn't mean you can't do it.\n\n284\n00:15:19.210 --> 00:15:20.973\nIt's just a little bit harder, right?\n\n285\n00:15:20.973 --> 00:15:24.645\nSo let's recap what I had\nto do to get that working.\n\n286\n00:15:24.645 --> 00:15:27.367\nFirst, I created a network object, right?\n\n287\n00:15:27.367 --> 00:15:29.283\nWell, I actually didn't\neven have to do that, but\n\n288\n00:15:29.283 --> 00:15:31.170\nI like to do it because I\nlike to keep things clean.\n\n289\n00:15:31.170 --> 00:15:33.573\nSo I created a network object for\nmy internal laptop, right?\n\n290\n00:15:33.573 --> 00:15:35.570\nOr whoever it is that I'm\ntrying to forward traffic to.\n\n291\n00:15:36.900 --> 00:15:41.319\nThen I went to my NAT rules and\nI added a new NAT rule.\n\n292\n00:15:41.319 --> 00:15:44.806\nAnd in that rule I defined the Source\nas my internal machine and\n\n293\n00:15:44.806 --> 00:15:48.504\nthe source traffic is coming from\nthe inside interface, right?\n\n294\n00:15:48.504 --> 00:15:53.445\nWe're going from the inside out and\nI put the Service as having a source\n\n295\n00:15:53.445 --> 00:15:58.326\nof 80 a source of whatever port it\nis that we're trying to forward.\n\n296\n00:15:58.326 --> 00:16:02.364\nOn the outside, I NATed it to the outside\ninterface, and I left everything else\n\n297\n00:16:02.364 --> 00:16:06.181\nalone, and I made sure that the direction\nwas in both directions, right?\n\n298\n00:16:06.181 --> 00:16:09.410\nThat it was bi-directional,\nnot uni-directional.\n\n299\n00:16:09.410 --> 00:16:13.710\nOnce that was done, I then went and\ncreated the firewall rule.\n\n300\n00:16:13.710 --> 00:16:18.800\nAnd the firewall rule, the access rule is\nwhere I allowed traffic that was destined\n\n301\n00:16:18.800 --> 00:16:23.720\nfor my internal machine with a destination\nport of HTTP to allow it through and\n\n302\n00:16:23.720 --> 00:16:24.580\nget it put in place.\n\n303\n00:16:24.580 --> 00:16:27.490\nSo those are the steps that I went\nthrough to get that put in place.\n\n304\n00:16:27.490 --> 00:16:29.960\nIf I wanted to forward other ports,\nI could just continue that model.\n\n305\n00:16:29.960 --> 00:16:31.460\nI can copy whatever I've already got and\n\n306\n00:16:31.460 --> 00:16:34.540\njust change the port numbers, that's the\neasy way to do it, you can go through and\n\n307\n00:16:34.540 --> 00:16:36.040\npunch those in and you are in business.\n\n308\n00:16:37.110 --> 00:16:40.420\nAll right, well that pretty much wraps\nup doing port forwarding on a Cisco ASA.\n\n309\n00:16:40.420 --> 00:16:43.420\nI know it's a little bit complex but\nit can be done.\n\n310\n00:16:43.420 --> 00:16:44.260\nI hope you guys enjoyed it.\n\n311\n00:16:44.260 --> 00:16:47.754\nStay tuned we've got more\nCisco ASA content coming up.\n\n312\n00:16:47.754 --> 00:16:53.959\n[MUSIC]\n\n",
          "vimeoId": "133160050"
        },
        {
          "description": null,
          "length": "1025",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-5-1-dhcp-070915-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-5-1-dhcp-070915-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-5-1-dhcp-070915-1-sm.jpg",
          "title": "DHCP",
          "transcript": "WEBVTT\n\n1\n00:00:00.066 --> 00:00:07.321\n[MUSIC]\n\n2\n00:00:07.321 --> 00:00:12.220\nIn this video we're gonna take a look at\ndynamic host configuration protocol or\n\n3\n00:00:12.220 --> 00:00:15.378\nmore importantly configuring\nDHCP on a Cisco ASA.\n\n4\n00:00:15.378 --> 00:00:19.427\nNow when you first fire up a Cisco ASA\nit actually has DHCP enabled for\n\n5\n00:00:19.427 --> 00:00:20.858\nthe inside interface.\n\n6\n00:00:20.858 --> 00:00:24.098\nAnd it's got a default range of IPs and\nthat might be perfectly suitable for\n\n7\n00:00:24.098 --> 00:00:27.046\nyou and you just leave it and\nyou don't mess with anything, right?\n\n8\n00:00:27.046 --> 00:00:30.710\nSo, the most basic configuration for\nof DHCP is that you don't do a darn thing,\n\n9\n00:00:30.710 --> 00:00:33.760\nyou just turn the firewall on and\nyou're in business.\n\n10\n00:00:33.760 --> 00:00:35.660\nBut a lot of us have\na need to go in there and\n\n11\n00:00:35.660 --> 00:00:39.060\nmanipulate settings to change it to\nmeet the needs of our organization.\n\n12\n00:00:39.060 --> 00:00:40.770\nAnd so\nthat's what I wanna show you today and\n\n13\n00:00:40.770 --> 00:00:43.860\nkinda get you an idea of how that works,\nall right?\n\n14\n00:00:43.860 --> 00:00:46.790\nFirst off,\nthere is a default DHCP configuration, so\n\n15\n00:00:46.790 --> 00:00:47.660\nlet's take a look at that.\n\n16\n00:00:47.660 --> 00:00:51.570\nSo here on my ASA, I'm just gonna\njump into its configuration.\n\n17\n00:00:51.570 --> 00:00:54.762\nAnd I'm gonna go down here\nto device management.\n\n18\n00:00:54.762 --> 00:00:56.909\nAnd then over here to DHCP.\n\n19\n00:00:56.909 --> 00:01:00.660\nAnd you'll see you've got two options,\nDHCP relay, and DHCP server.\n\n20\n00:01:00.660 --> 00:01:05.172\nNow DHCP relay, that means that\nwe get a DHCP from somebody, and\n\n21\n00:01:05.172 --> 00:01:10.284\nthen the relay, we forward it on to\nanother DHCP server somewhere else.\n\n22\n00:01:10.284 --> 00:01:14.449\nSo sometimes we're not the be\nall end all DHCP server, but\n\n23\n00:01:14.449 --> 00:01:17.939\nif we are then we've got\nDHCP server right here.\n\n24\n00:01:17.939 --> 00:01:20.876\nAnd you'll see each of your\ninterfaces in this list.\n\n25\n00:01:20.876 --> 00:01:24.080\nSee how I've got an inside and\nan outside interface?\n\n26\n00:01:24.080 --> 00:01:27.586\nAd on the inside it's already\ngot DHCP configured for me with\n\n27\n00:01:27.586 --> 00:01:32.620\nsome default settings that came from\nthat initial startup wizard that we ran.\n\n28\n00:01:32.620 --> 00:01:35.670\nAll right, you can change these if\nyou want or you can leave them be,\n\n29\n00:01:35.670 --> 00:01:38.070\nthat might be perfectly fine for you.\n\n30\n00:01:38.070 --> 00:01:42.180\nIf we add more interfaces in\nthe future like if I go over here to\n\n31\n00:01:42.180 --> 00:01:45.790\nmy device setup and interfaces,\nmaybe I'll add a DMZ.\n\n32\n00:01:45.790 --> 00:01:47.958\nSo I'll take this other interface of mine.\n\n33\n00:01:47.958 --> 00:01:50.281\nAnd I'm going to configure that as my DMZ.\n\n34\n00:01:50.281 --> 00:01:52.195\nI'll give it a security level of 50.\n\n35\n00:01:52.195 --> 00:01:57.860\nI'll give it an IP address of 192.168.1.1\nand we'll make that a class C.\n\n36\n00:01:57.860 --> 00:02:02.371\nAll right, so I'm just going to kind of\nwhip this up into place and yeah, yeah.\n\n37\n00:02:02.371 --> 00:02:05.412\n[LAUGH] So there,\nit's protecting me from myself.\n\n38\n00:02:05.412 --> 00:02:06.103\nSo, there.\nSo,\n\n39\n00:02:06.103 --> 00:02:08.781\nnow I've got a new\ninterface that's added and\n\n40\n00:02:08.781 --> 00:02:13.189\nif I jump back to Device Management and\nDHCP servers, see how DMZ showed up.\n\n41\n00:02:13.189 --> 00:02:18.190\nThe only interface that'll have DHCP\nby default, is your inside interface.\n\n42\n00:02:18.190 --> 00:02:19.410\nAnd, if you don't want\nthat you can turn it off.\n\n43\n00:02:19.410 --> 00:02:22.020\nMaybe, you've all ready got a DHCP server,\nyou don't want this one, great,\n\n44\n00:02:22.020 --> 00:02:23.890\nyou can go in here and you can edit that.\n\n45\n00:02:23.890 --> 00:02:27.140\nAnd you can uncheck Enable DHCP server.\n\n46\n00:02:27.140 --> 00:02:31.110\nThat will turn it off and now you can\nadd DHCP served by another system.\n\n47\n00:02:31.110 --> 00:02:34.145\nBut if you do want this to be your DHCP\nserver, you just need to come through and\n\n48\n00:02:34.145 --> 00:02:35.607\nconfigure the values that you want.\n\n49\n00:02:35.607 --> 00:02:37.604\nNotice the DHCP address pool.\n\n50\n00:02:37.604 --> 00:02:42.730\nMine has a pool of\n192.168.0.5 through .100.\n\n51\n00:02:42.730 --> 00:02:49.940\nThat means I've got 96 usable\nIPs here in the DHCP pool.\n\n52\n00:02:49.940 --> 00:02:53.460\nWhat if my ASA has\nan unlimited user license?\n\n53\n00:02:53.460 --> 00:02:57.720\nI might have an unlimited user license,\nbut I'm only handing out 96 IPs,\n\n54\n00:02:57.720 --> 00:03:02.330\nso if I've got 150 computers,\nthe other 54 or\n\n55\n00:03:02.330 --> 00:03:04.630\nwhatever, they're going\nto have static IPs.\n\n56\n00:03:04.630 --> 00:03:07.350\nThey're not going to be able to\nget an IP address from the STP.\n\n57\n00:03:07.350 --> 00:03:12.060\nSo I may need to adjust my pool size\naccordingly to match the host that I have.\n\n58\n00:03:12.060 --> 00:03:13.860\nYou can just bump this\nnumber up if you want.\n\n59\n00:03:13.860 --> 00:03:16.350\nNow, if you have a 50 user license,\n\n60\n00:03:16.350 --> 00:03:20.880\nthere's not really any point in\nproviding a pool bigger than 50 IPs,\n\n61\n00:03:20.880 --> 00:03:24.109\nunless you just have like really long\nlease times and you want to do that.\n\n62\n00:03:25.260 --> 00:03:28.068\nSpeaking of lease times, those are some\nof the other things that we can ingest.\n\n63\n00:03:28.068 --> 00:03:32.443\nHere's the DNS server that we hand out,\nhere's the lease length,\n\n64\n00:03:32.443 --> 00:03:34.686\nhow long do we want the lease to be?\n\n65\n00:03:34.686 --> 00:03:36.861\nAnd it's done in seconds, so\n\n66\n00:03:36.861 --> 00:03:42.090\nyou're just gonna have to calculate\nout what you want your lease to be.\n\n67\n00:03:42.090 --> 00:03:45.840\nMaybe I'm Starbucks and I have a lot\nof people who come and go, and\n\n68\n00:03:45.840 --> 00:03:47.860\nthey're only at the coffee shop for\n\n69\n00:03:47.860 --> 00:03:51.820\n20 minutes I don't want them to\nhold an IP address for days on end.\n\n70\n00:03:51.820 --> 00:03:55.020\nI want them just hold it for\nmaybe an hour, right?\n\n71\n00:03:55.020 --> 00:03:57.970\nSo I can come in here and\nI can say 3600 seconds, right?\n\n72\n00:03:57.970 --> 00:04:02.890\n3600 seconds is an hour, and\nnow every hour they have to renew, and\n\n73\n00:04:02.890 --> 00:04:04.920\nif they don't renew,\nthe IP goes back into the pool.\n\n74\n00:04:06.100 --> 00:04:10.580\nBe aware that most clients do renew at\n50% of their lease, so set to an hour,\n\n75\n00:04:10.580 --> 00:04:14.050\nthey'll start renewing in about 30\nminutes, so you'll see some traffic there.\n\n76\n00:04:14.050 --> 00:04:18.165\nThe shorter the lease time, the busier\nthe firewall gets, but honestly,\n\n77\n00:04:18.165 --> 00:04:22.215\neven the low Lowest-end ASA,\nlike the 5505, has plenty of CPU power\n\n78\n00:04:22.215 --> 00:04:25.836\nto be able to drive this, so\nwe don't normally worry about that.\n\n79\n00:04:25.836 --> 00:04:27.857\nYou can also set things\nlike a ping timeout.\n\n80\n00:04:27.857 --> 00:04:31.267\nIf we're evaluating whether a client\nis online and using its IP,\n\n81\n00:04:31.267 --> 00:04:33.260\nwe send a ping to test it.\n\n82\n00:04:33.260 --> 00:04:36.460\nThe longer that ping time out\nthe longer it takes us to\n\n83\n00:04:36.460 --> 00:04:38.760\ndetermine whether an IP is in use or not.\n\n84\n00:04:38.760 --> 00:04:40.670\nSo you might want to set\nthis to something or\n\n85\n00:04:40.670 --> 00:04:42.690\nsomething longer to meet\nyour companies needs.\n\n86\n00:04:42.690 --> 00:04:45.850\nIf you leave it blank it just\ngoes to the default, all right.\n\n87\n00:04:45.850 --> 00:04:49.640\nNow, I didn't put these DNS servers in\nhere, but they appeared from somewhere.\n\n88\n00:04:49.640 --> 00:04:50.980\nWhere did they come from?\n\n89\n00:04:50.980 --> 00:04:52.540\nWell, the next option says,\n\n90\n00:04:52.540 --> 00:04:56.280\nenable auto-configuration from interface,\noutside.\n\n91\n00:04:56.280 --> 00:04:59.850\nAnd that means,\nlook at my outside interface, and\n\n92\n00:04:59.850 --> 00:05:04.012\nit got a default gateway,\nit got an IP address from the ISP.\n\n93\n00:05:04.012 --> 00:05:06.079\nAnd it probably got DNS\nservers from your ISP.\n\n94\n00:05:06.079 --> 00:05:09.710\nIf you're using DHCP on the outside\ninterface it's gonna get those values and\n\n95\n00:05:09.710 --> 00:05:10.654\nwe say reuse those.\n\n96\n00:05:10.654 --> 00:05:12.858\nAnd that's how it populated these,\nall right?\n\n97\n00:05:12.858 --> 00:05:13.730\nYou don't have to do that.\n\n98\n00:05:13.730 --> 00:05:16.876\nWe could turn that off and now we just\nmanually specify whatever we want.\n\n99\n00:05:16.876 --> 00:05:21.345\nBut if you define this your internet\nservice provider's values that come down\n\n100\n00:05:21.345 --> 00:05:25.881\nto your wan interface will then get shared\nwith the DHCP server to push out here to\n\n101\n00:05:25.881 --> 00:05:27.590\nthe client side, all right.\n\n102\n00:05:27.590 --> 00:05:31.290\nThen as we look at some of the other\noptions we've got things like if you have\n\n103\n00:05:31.290 --> 00:05:35.600\ndynamic DNS, like with Microsoft's active\ndirectory you might have dynamic DNS.\n\n104\n00:05:35.600 --> 00:05:39.190\nYou can say every time somebody\ngets a new IP from me,\n\n105\n00:05:39.190 --> 00:05:42.000\nwe'll update DNS to show\nthat they have this new ISP.\n\n106\n00:05:42.000 --> 00:05:44.750\nAnd so you can specify that\nto update the records.\n\n107\n00:05:44.750 --> 00:05:47.910\nAll right not everybody uses that,\nit's off by default.\n\n108\n00:05:47.910 --> 00:05:51.740\nBut the other option here is the really\ncool one, the advanced options.\n\n109\n00:05:51.740 --> 00:05:55.430\nNow normally when we're talking about DHCP\nour primary concern is to give a client\n\n110\n00:05:55.430 --> 00:05:58.440\nenough information to\ncommunicate on the network.\n\n111\n00:05:58.440 --> 00:06:03.690\nAnd that normally means we wanna\ngive them an IP, a subnet mask,\n\n112\n00:06:03.690 --> 00:06:07.590\na default gateway and DNS servers.\n\n113\n00:06:07.590 --> 00:06:08.360\nRight, those four things.\n\n114\n00:06:08.360 --> 00:06:10.420\nIf somebody has those four things,\nthey will be able to get out and\n\n115\n00:06:10.420 --> 00:06:11.840\ncommunicate on the network.\n\n116\n00:06:11.840 --> 00:06:15.050\nNow, notice as we look here that\nthere is no default gateway value.\n\n117\n00:06:15.050 --> 00:06:19.050\nYour firewall hands out itself\nas the default gateway.\n\n118\n00:06:19.050 --> 00:06:21.930\nIf you don't want the ASA\nto be your default gateway.\n\n119\n00:06:21.930 --> 00:06:23.890\nThen you're going to use something\nelse for the DHCP server.\n\n120\n00:06:23.890 --> 00:06:26.850\nThey don't give you a way here\nin the GUI to override that.\n\n121\n00:06:26.850 --> 00:06:29.030\nBut by default it's going\nto hand out itself.\n\n122\n00:06:29.030 --> 00:06:31.460\nSo it's going to give out\nan IP from this pool.\n\n123\n00:06:31.460 --> 00:06:35.840\nThese DNS servers, the subnet mass from\nits own inside interface in this case.\n\n124\n00:06:35.840 --> 00:06:38.139\nAnd then itself as the default gateway,\nall right.\n\n125\n00:06:38.139 --> 00:06:42.470\nBut there's some devices\nthat need a little more.\n\n126\n00:06:42.470 --> 00:06:44.920\nLet's say for\nexample you have a voice over IP phone.\n\n127\n00:06:44.920 --> 00:06:49.310\nWhen you plug a voice over IP phone in it\nneeds an IP address, it needs DNS servers,\n\n128\n00:06:49.310 --> 00:06:51.890\nit needs a default gateway,\nright, needs all that stuff.\n\n129\n00:06:51.890 --> 00:06:55.020\nBut it also needs to know\nwhere the phone system is.\n\n130\n00:06:55.020 --> 00:06:56.920\nWhere's the phone system\nI need to talk to?\n\n131\n00:06:56.920 --> 00:06:59.040\nWhere do I go to download\nfirmware updates?\n\n132\n00:06:59.040 --> 00:07:01.630\nWhere's the PBX that I communicate\nwith when I wanna play some\n\n133\n00:07:01.630 --> 00:07:02.920\nreceived phone calls?\n\n134\n00:07:02.920 --> 00:07:07.100\nIt needs that information, and\nwe can provide that via DHCP.\n\n135\n00:07:07.100 --> 00:07:08.580\nSo if you're dealing with those,\n\n136\n00:07:08.580 --> 00:07:11.750\nthose are options that don't show up\non this screen, they're under advanced.\n\n137\n00:07:11.750 --> 00:07:15.310\nAnd if we go under advanced, you'll\nsee where we can specify option codes.\n\n138\n00:07:15.310 --> 00:07:18.840\nNow Cisco has predefined\na number of option codes, and\n\n139\n00:07:18.840 --> 00:07:20.800\nthese are really common ones.\n\n140\n00:07:20.800 --> 00:07:23.545\nSome of them they put names on them so\nyou actually know what they do.\n\n141\n00:07:23.545 --> 00:07:25.810\nAnd you can go in and specify that.\n\n142\n00:07:25.810 --> 00:07:27.070\nSome of them don't have names so\n\n143\n00:07:27.070 --> 00:07:29.720\nas we scroll down you'll\nsee some of them like 66.\n\n144\n00:07:29.720 --> 00:07:34.200\n66 is a boot server, or\nthey call it a TFTP server here.\n\n145\n00:07:34.200 --> 00:07:37.220\nA lot of VOIP phones expect\na TFTP server to go out and\n\n146\n00:07:37.220 --> 00:07:38.890\nget their configuration from.\n\n147\n00:07:38.890 --> 00:07:42.370\nWe can specify that value here and\ninput a server.\n\n148\n00:07:42.370 --> 00:07:48.970\nAnd so I'll say at 10.1.10.7 there's going\nto be a boot server for you, all right.\n\n149\n00:07:48.970 --> 00:07:51.230\nOther VOIP phones, though, expect 150.\n\n150\n00:07:51.230 --> 00:07:54.850\n150 is another value that can store DHCP,\nI mean TFTP, and\n\n151\n00:07:54.850 --> 00:07:56.720\nsee how Cisco doesn't have a name for it?\n\n152\n00:07:56.720 --> 00:07:58.740\nWell, DHCP doesn't care about the names.\n\n153\n00:07:58.740 --> 00:08:00.060\nIt just needs the number.\n\n154\n00:08:00.060 --> 00:08:03.310\nSo you can go through and find that\noption, and you can specify it and\n\n155\n00:08:03.310 --> 00:08:04.390\nwhat it's going to be.\n\n156\n00:08:04.390 --> 00:08:06.250\nIt might be in the same exact server.\n\n157\n00:08:06.250 --> 00:08:07.570\nI might punch that in.\n\n158\n00:08:07.570 --> 00:08:11.990\nAnd now, when somebody gets a DHCP\naddress, they're gonna get IP address,\n\n159\n00:08:11.990 --> 00:08:16.880\nsubnet mask, default gateway,\nDNS and option 66 and option 150.\n\n160\n00:08:16.880 --> 00:08:21.050\nAnd if you've got a Linux box or a Windows\nbox they might just ignore those.\n\n161\n00:08:21.050 --> 00:08:22.820\nBut if you've got a VOIP phone,\nit looks at it and\n\n162\n00:08:22.820 --> 00:08:25.825\nsays, oh let me go to that server and\nsee if they got my firmware.\n\n163\n00:08:25.825 --> 00:08:29.185\nLet me go to that server and see if\nit's a PBX and I can register with sip.\n\n164\n00:08:29.185 --> 00:08:31.075\nRight, they've got that information.\n\n165\n00:08:31.075 --> 00:08:33.525\nYou might have thin clients that\nboot up and do the same thing.\n\n166\n00:08:33.525 --> 00:08:36.685\nWhere's the FTP server that\nstores my configuration?\n\n167\n00:08:36.685 --> 00:08:40.055\nAnd so you can define those options\nas why thin clients do that and\n\n168\n00:08:40.055 --> 00:08:41.985\nyou can define whatever you want in here.\n\n169\n00:08:41.985 --> 00:08:44.825\nThey've got these predefined numbers and\nthey go pretty far.\n\n170\n00:08:44.825 --> 00:08:47.970\nThey go all the way up to 254 so\nthat covers all the different numbers.\n\n171\n00:08:47.970 --> 00:08:51.540\nYou can define them, and now your clients\nwill have them and they're available.\n\n172\n00:08:51.540 --> 00:08:54.950\nNow, when you specify these options,\nsome of them expect an IP address,\n\n173\n00:08:54.950 --> 00:08:56.255\nlike the ones I did.\n\n174\n00:08:56.255 --> 00:09:00.130\nSome expect ASQI or Hex data so\nit is important to choose the right\n\n175\n00:09:00.130 --> 00:09:02.280\ndata type for\nthe option that you're handing out.\n\n176\n00:09:02.280 --> 00:09:05.870\nBut, once it's in there,\nyou're now handing out that option also.\n\n177\n00:09:06.910 --> 00:09:12.350\nAnd when I'm done, I've now configured\nDHCP for my inside interface.\n\n178\n00:09:12.350 --> 00:09:16.460\nBut any other interface that I've added, I\nmight need to configure DHCP for them too.\n\n179\n00:09:16.460 --> 00:09:19.670\nSo notice my DMZ here that\ndoesn't have a DHCP at all.\n\n180\n00:09:19.670 --> 00:09:21.850\nI can go in and I can modify that one too.\n\n181\n00:09:21.850 --> 00:09:22.770\nI can enable DHCP.\n\n182\n00:09:22.770 --> 00:09:24.345\nI can give it its pool, so\n\n183\n00:09:24.345 --> 00:09:29.920\nmaybe on this one I do\n192.168.1.100 through 192.168.1.2.\n\n184\n00:09:29.920 --> 00:09:32.570\nSo, I'll punch that in.\n\n185\n00:09:32.570 --> 00:09:36.650\nI'll make sure that enable is checked and\nyou know what?\n\n186\n00:09:36.650 --> 00:09:38.540\nI'm gonna leave all these\nother values empty.\n\n187\n00:09:38.540 --> 00:09:42.060\nI'm just gonna leave all these empty and\nnot check any of these other things.\n\n188\n00:09:42.060 --> 00:09:47.818\nNow, when I do that, I've created a DHCP\npool that's just handing out IP address,\n\n189\n00:09:47.818 --> 00:09:50.360\nsubnet mass, default gateway.\n\n190\n00:09:50.360 --> 00:09:52.190\nNo DNS settings, no other options.\n\n191\n00:09:53.470 --> 00:09:57.460\nWell, the reason I'm doing that is if you\nhave more than one DHCP pool, it gets\n\n192\n00:09:57.460 --> 00:10:02.040\nkind of annoying having to find those over\nand over again on each individual pool.\n\n193\n00:10:02.040 --> 00:10:06.780\nAnd so what we can do is we can\ncome in and remove these values, so\n\n194\n00:10:06.780 --> 00:10:09.190\nI'm just gonna get rid of all\nthese values that I put in here,\n\n195\n00:10:09.190 --> 00:10:12.690\nlet's just kinda take all these out,\nall right?\n\n196\n00:10:12.690 --> 00:10:15.320\nAnd instead of defining them\nindividually on each pool,\n\n197\n00:10:15.320 --> 00:10:17.650\nwe can create global options.\n\n198\n00:10:17.650 --> 00:10:20.675\nIf we know the options are gonna be\nthe same across all these pools,\n\n199\n00:10:20.675 --> 00:10:23.933\nyou can go right down here to your\nglobal options and define them there.\n\n200\n00:10:23.933 --> 00:10:28.372\nAnd so I can put in my DNS servers,\nI can put in my domain name,\n\n201\n00:10:28.372 --> 00:10:30.736\nlike mine's lab.itpro.tv.\n\n202\n00:10:30.736 --> 00:10:35.379\nI can put in my lease links,\nput in a ping timeout,\n\n203\n00:10:35.379 --> 00:10:41.474\nI might do a 20 milliseconds,\nlet's do 200 milliseconds.\n\n204\n00:10:41.474 --> 00:10:45.909\nWe can specify our win servers,\nand these are gonna be global.\n\n205\n00:10:45.909 --> 00:10:51.110\nIf the value is set up here,\nit will override this down here, okay?\n\n206\n00:10:51.110 --> 00:10:54.930\nBut if it's not, then it'll just\nuse these global values and that's,\n\n207\n00:10:54.930 --> 00:10:58.570\nwe even have an advanced way over here\nit's actually kind of under my head, but\n\n208\n00:10:58.570 --> 00:11:03.360\nif I go under advanced, where I can set\nthe DHCP options at the global level, too.\n\n209\n00:11:03.360 --> 00:11:05.650\nAnd we set them here, and\nthen they take effect underneath.\n\n210\n00:11:05.650 --> 00:11:09.730\nNow, maybe I don't want those options,\nlike options 66 and 158.\n\n211\n00:11:09.730 --> 00:11:13.760\nI don't want those in my DMZ,\nI just want them on my inside interface.\n\n212\n00:11:13.760 --> 00:11:18.440\nWell, I don't set them here globally,\ninstead, I set them here on inside.\n\n213\n00:11:18.440 --> 00:11:22.317\nSo I kind of pick and choose based\non the configuration that I want.\n\n214\n00:11:22.317 --> 00:11:23.873\nAnd then when I go and apply that.\n\n215\n00:11:23.873 --> 00:11:26.780\nNow I'm doing a DHCP server for both.\n\n216\n00:11:26.780 --> 00:11:29.990\nThe inside and\nDMZ interfaces if it's available.\n\n217\n00:11:29.990 --> 00:11:31.020\nAnd I can continue to add this.\n\n218\n00:11:31.020 --> 00:11:32.490\nSay, for every interface I have.\n\n219\n00:11:32.490 --> 00:11:34.490\nI can create a DHCP server instance.\n\n220\n00:11:34.490 --> 00:11:37.090\nAnd it's gonna hand out\nthose appropriate addresses.\n\n221\n00:11:37.090 --> 00:11:39.520\nWe just go through and\ndefine all the ones we want.\n\n222\n00:11:39.520 --> 00:11:40.680\nMy outside doesn't have DHCP.\n\n223\n00:11:40.680 --> 00:11:44.030\nBut it's pretty rare that you'd want to\nissue out DHCP addresses on your win,\n\n224\n00:11:44.030 --> 00:11:44.990\nWAN interface.\n\n225\n00:11:44.990 --> 00:11:49.130\nSo we expect to see that, but\nthe others, you very well may want that.\n\n226\n00:11:49.130 --> 00:11:53.100\nNow, you might have asked yourself\nthe question during all this.\n\n227\n00:11:53.100 --> 00:11:54.810\nWhy would I use the ASA as a DHCP server.\n\n228\n00:11:54.810 --> 00:11:57.850\nWhy not use a Linux server or Windows or\n\n229\n00:11:57.850 --> 00:12:01.370\nwhatever, or is this better\nthan using Linux or Windows?\n\n230\n00:12:01.370 --> 00:12:07.080\nWell, for the most part, the ASA can do\nexactly what Windows can do for DHCP too.\n\n231\n00:12:07.080 --> 00:12:08.610\nBut there are limitations.\n\n232\n00:12:08.610 --> 00:12:12.570\nI already mentioned one, the ASA always\nhands itself out as the default gateway.\n\n233\n00:12:12.570 --> 00:12:14.530\nIf you don't want that, too bad.\n\n234\n00:12:14.530 --> 00:12:19.030\nYour only option is turn off DHCP on the\nASA and then use a different DHCP server.\n\n235\n00:12:19.030 --> 00:12:20.820\nThen you can hand out\nwhatever gateway you want.\n\n236\n00:12:20.820 --> 00:12:22.920\nAll right, but there's other things too.\n\n237\n00:12:22.920 --> 00:12:27.370\nFor example,\nthe ASA is storing these leases in RAM.\n\n238\n00:12:27.370 --> 00:12:32.280\nIf it loses power or reboots, it forgets\nall the leases that it gave out.\n\n239\n00:12:32.280 --> 00:12:37.490\nWhen that happens, we now have the risk\nof issuing out a duplicate IP address.\n\n240\n00:12:37.490 --> 00:12:38.430\nWe don't want that.\n\n241\n00:12:38.430 --> 00:12:41.310\nIf you have a stable network or\nyour ASA is on a UPS,\n\n242\n00:12:41.310 --> 00:12:43.750\nthen it isn't going to be an issue.\n\n243\n00:12:44.920 --> 00:12:48.580\nBut if it's deployed somewhere in the\nfield where it's not necessarily stable,\n\n244\n00:12:48.580 --> 00:12:50.960\nyou don't necessarily know how it's\ngonna be, that can be a problem.\n\n245\n00:12:50.960 --> 00:12:51.750\nIf you use Linux or\n\n246\n00:12:51.750 --> 00:12:55.840\nWindows as your DHCP server, they write\ntheir lease database to the hard drive.\n\n247\n00:12:55.840 --> 00:12:58.100\nSo if they reboot,\nthey remember all the leases.\n\n248\n00:12:58.100 --> 00:12:59.390\nIt's all right there.\n\n249\n00:12:59.390 --> 00:13:02.790\nNow, there is a way via\nthe command line to go in and\n\n250\n00:13:02.790 --> 00:13:05.720\ntell the ASA to write\nthe HP request to Flash.\n\n251\n00:13:05.720 --> 00:13:09.080\nBut it's not a great idea because it\ndoes shorten the lifetime of the flash.\n\n252\n00:13:09.080 --> 00:13:10.570\nSo it is off by default.\n\n253\n00:13:10.570 --> 00:13:12.330\nSo just be aware of that limitation.\n\n254\n00:13:12.330 --> 00:13:15.255\nThose are usually the two reasons that\nwill drive me to use another server for\n\n255\n00:13:15.255 --> 00:13:18.160\nDHCP, if I want to\nsurvive power outages and\n\n256\n00:13:18.160 --> 00:13:21.690\nreboots or if I wanna issue\na different default gateway.\n\n257\n00:13:21.690 --> 00:13:24.840\nThose are the times that I\nchoose not to use the ASA.\n\n258\n00:13:24.840 --> 00:13:26.875\nOtherwise, I pretty much\nalways use the ASA for\n\n259\n00:13:26.875 --> 00:13:30.080\nDHCP cuz you can just do it right here,\nand it's one less device to worry about.\n\n260\n00:13:30.080 --> 00:13:32.150\nI dont have to go configure\nsomething under Windows.\n\n261\n00:13:32.150 --> 00:13:33.930\nYou just do it right here,\nit's in the ASA,\n\n262\n00:13:33.930 --> 00:13:37.010\nand it's in place,\nyou don't have to worry about it.\n\n263\n00:13:37.010 --> 00:13:39.700\nThere is one other limitation\nthat I should mention.\n\n264\n00:13:39.700 --> 00:13:42.460\nMany people like to do DHCP reservations.\n\n265\n00:13:42.460 --> 00:13:47.430\nI've got a client's separate DHCP, but\nI always want it to get the same address.\n\n266\n00:13:47.430 --> 00:13:49.130\nASA's can't do reservations.\n\n267\n00:13:49.130 --> 00:13:49.640\nAll right?\n\n268\n00:13:49.640 --> 00:13:52.560\nIf you google on the internet you'll see\na lot of people talk about ways that they\n\n269\n00:13:52.560 --> 00:13:53.480\ngot it to work.\n\n270\n00:13:53.480 --> 00:13:55.640\nThat's all in older ASAOSs.\n\n271\n00:13:55.640 --> 00:13:59.711\nIn the modern ASAOSs, 8.3 and higher,\nand remember 9.4 is current now so\n\n272\n00:13:59.711 --> 00:14:03.566\nthis is going back many, many years,\nthere's no way to do reservations.\n\n273\n00:14:03.566 --> 00:14:07.468\nSo you have to do a static IP or\njust general DHCP.\n\n274\n00:14:07.468 --> 00:14:09.480\nThere's no way to do a reserved IP.\n\n275\n00:14:09.480 --> 00:14:12.290\nSo if you want a reserved IP,\nagain, use a Linux box.\n\n276\n00:14:12.290 --> 00:14:13.130\nUse a Windows box.\n\n277\n00:14:13.130 --> 00:14:15.100\nUse some other device on\nyour network to do it.\n\n278\n00:14:15.100 --> 00:14:16.350\nThe ASA won't do it.\n\n279\n00:14:16.350 --> 00:14:17.620\nAnd I know what some of\nyou guys are thinking.\n\n280\n00:14:17.620 --> 00:14:19.270\nLike, it won't do DHCP reservations.\n\n281\n00:14:19.270 --> 00:14:23.780\nEven the cheapest, crappiest router that I\nbuy at the electronics store can do DHCP\n\n282\n00:14:23.780 --> 00:14:25.160\nreservations.\n\n283\n00:14:25.160 --> 00:14:29.140\nAnd Cisco's response to that is,\nthese ASAs aren't designed for\n\n284\n00:14:29.140 --> 00:14:30.100\nnormal like home use.\n\n285\n00:14:30.100 --> 00:14:31.630\nThey are designed for companies.\n\n286\n00:14:31.630 --> 00:14:36.680\nAnd with companies if you need a system to\nhave the same IP, you give it a static IP.\n\n287\n00:14:36.680 --> 00:14:40.020\nAnd if you want it to be fatted to\na particular IP, you do astatic net,\n\n288\n00:14:40.020 --> 00:14:41.080\nyou get an extra public IP.\n\n289\n00:14:41.080 --> 00:14:44.080\nThat's kind of the way they look at it\nis it's a business class firewall so\n\n290\n00:14:44.080 --> 00:14:45.050\nthey didn't give you that feature.\n\n291\n00:14:45.050 --> 00:14:49.540\nNow I think that's a pretty flimsy\nargument Cisco's not exactly calling me\n\n292\n00:14:49.540 --> 00:14:52.940\nwhen they design this stuff, so\nI don't have a lot of say there.\n\n293\n00:14:52.940 --> 00:14:53.790\nBut just be aware.\n\n294\n00:14:53.790 --> 00:14:57.570\nThose are reasons where you might\nchoose not to use the ASA as your DHCP\n\n295\n00:14:57.570 --> 00:14:58.860\nserver, alright?\n\n296\n00:14:58.860 --> 00:15:00.830\nBut otherwise, the configuration's\npretty straight forward.\n\n297\n00:15:00.830 --> 00:15:02.230\nOnce you get it in place, it's running.\n\n298\n00:15:02.230 --> 00:15:04.020\nI can test this out.\n\n299\n00:15:04.020 --> 00:15:04.920\nLet me see.\n\n300\n00:15:04.920 --> 00:15:09.070\nLet me jump to somebody in my DMZ.\n\n301\n00:15:11.090 --> 00:15:12.600\nMy web server for example.\n\n302\n00:15:12.600 --> 00:15:19.740\nI'll take this guy and\nI'm going to take, right now he's\n\n303\n00:15:19.740 --> 00:15:24.460\ngot an IP address of 192.168.1.2, remember\nthe pool I made doesn't include .2.\n\n304\n00:15:24.460 --> 00:15:29.920\nThe pool I made runs from .100 to .200,\nso he's got an IP\n\n305\n00:15:29.920 --> 00:15:35.120\nthat's not in that pool, and I'm gonna\ngo and just change his network adapter.\n\n306\n00:15:37.520 --> 00:15:43.640\nAnd I'm gonna switch him over to DHCP,\nso we'll do automatic addressing.\n\n307\n00:15:43.640 --> 00:15:48.600\nI'm gonna apply that and it's gonna\nreach out to get an automatic IP.\n\n308\n00:15:48.600 --> 00:15:51.621\nNow I can't remember if this system\nis gonna do that automatically or\n\n309\n00:15:51.621 --> 00:15:53.192\nif I have to make it do it let's see.\n\n310\n00:15:53.192 --> 00:15:54.493\nSo we'll give it a shot here.\n\n311\n00:15:54.493 --> 00:15:56.176\nIt's reaching out for a DHCP server and\n\n312\n00:15:56.176 --> 00:15:58.700\nsaying hey can somebody\nplease give me an address.\n\n313\n00:15:58.700 --> 00:16:00.720\nThe ASA should hear that.\n\n314\n00:16:00.720 --> 00:16:05.710\nAnd then respond back, and let us know\nwhat our new address is going to be, and\n\n315\n00:16:05.710 --> 00:16:10.560\nI should get an address that's\n192.168.1.100 or higher, and\n\n316\n00:16:10.560 --> 00:16:13.800\nif this takes too long I'll\nforce it the old fashioned way.\n\n317\n00:16:13.800 --> 00:16:17.260\nKind of looking at my config here I can\nsee that I don't actually have an IP\n\n318\n00:16:17.260 --> 00:16:19.890\nright now and then there it is.\n\n319\n00:16:19.890 --> 00:16:23.185\nAnd sure enough I got 192.168.1.100.\n\n320\n00:16:23.185 --> 00:16:26.620\nI'm getting that IP from the ASA right?\n\n321\n00:16:26.620 --> 00:16:29.640\nPretty straightforward and\nthat's basically it.\n\n322\n00:16:29.640 --> 00:16:32.810\nAll right well in this video we got\na chance to see how DHTP works under\n\n323\n00:16:32.810 --> 00:16:33.330\nthe ASA.\n\n324\n00:16:33.330 --> 00:16:38.480\nWe saw how to configure it on a per\ninterface basis as well as a global basis.\n\n325\n00:16:38.480 --> 00:16:42.180\nSo we can set the options once instead\nof over and over and over again and\n\n326\n00:16:42.180 --> 00:16:47.410\nthen we talked a little bit about when you\nmight choose not to use an ASA for a DHCP.\n\n327\n00:16:47.410 --> 00:16:50.020\nAnd I probably use more acronyms\nin this episode than any other\n\n328\n00:16:50.020 --> 00:16:51.820\nepisode on record, but that's cool.\n\n329\n00:16:51.820 --> 00:16:53.029\nWe love our letters so.\n\n330\n00:16:53.029 --> 00:16:56.128\nAll right, well, that's it for\nthis segment, I hope you guys enjoyed it.\n\n331\n00:16:56.128 --> 00:16:59.124\nStay tuned, we've got more\nCisco ASA content coming up.\n\n332\n00:16:59.124 --> 00:17:03.560\n[SOUND]\n\n",
          "vimeoId": "133160161"
        },
        {
          "description": null,
          "length": "820",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-6-3-home_screen-070915-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-6-3-home_screen-070915-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-ciscoasa/techskills-ciscoasa-6-3-home_screen-070915-1-sm.jpg",
          "title": "Home Screen",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:07.717\n[MUSIC]\n\n2\n00:00:07.717 --> 00:00:10.809\n>> In this segment, we're going\nto take a look at the homescreen\n\n3\n00:00:10.809 --> 00:00:14.100\nfound in the ASDM when working\nwith a Cisco ASA firewall.\n\n4\n00:00:14.100 --> 00:00:16.600\nThe home screen contains\na lot of information.\n\n5\n00:00:16.600 --> 00:00:20.636\nAnd we just want to examine each of the\nelements kind of explain what the purpose\n\n6\n00:00:20.636 --> 00:00:21.563\nis of each piece.\n\n7\n00:00:21.563 --> 00:00:22.700\nAnd kind of how we use them.\n\n8\n00:00:22.700 --> 00:00:26.680\nIt's a lot of good data to be found in\nthere if you just know what to look for.\n\n9\n00:00:26.680 --> 00:00:30.870\nSo I've got an example pulled up right\nhere, so I'm connected to an ASA.\n\n10\n00:00:30.870 --> 00:00:33.880\nLet's just kind of lay out what\nwe're seeing here on the element.\n\n11\n00:00:33.880 --> 00:00:36.830\nThe screen's broken up\ninto three main areas.\n\n12\n00:00:36.830 --> 00:00:40.170\nWe've got the top up here,\nthese are our menus and navigation.\n\n13\n00:00:40.170 --> 00:00:43.950\nWe've got our middle area here,\nwhich is our status and resource screen.\n\n14\n00:00:43.950 --> 00:00:46.888\nAnd then at the bottom we've\ngot our Syslog Messages.\n\n15\n00:00:46.888 --> 00:00:49.590\nNow, the screen is\ncompletely customizable.\n\n16\n00:00:49.590 --> 00:00:51.060\nWe can move things around.\n\n17\n00:00:51.060 --> 00:00:54.130\nAnd so, on your ASA, it might look\ndifferent if you've manipulated it.\n\n18\n00:00:54.130 --> 00:00:55.670\nMine's at the default, right?\n\n19\n00:00:55.670 --> 00:00:58.210\nThis is what you'll see the first\ntime you connect in ASA.\n\n20\n00:00:58.210 --> 00:01:01.640\nActually, it might look just a little\ndifferent because the log window down\n\n21\n00:01:01.640 --> 00:01:04.800\nhere, by default, logging is turned off.\n\n22\n00:01:04.800 --> 00:01:08.200\nAnd so, the very first time you log in,\nyou might actually see where this is brown\n\n23\n00:01:08.200 --> 00:01:09.930\nand it just has a button\nthat says Enable Logging.\n\n24\n00:01:09.930 --> 00:01:11.920\nAnd when you click that Enable Logging,\n\n25\n00:01:11.920 --> 00:01:14.220\nthen it looks just like\nmine where it's turned on.\n\n26\n00:01:14.220 --> 00:01:14.760\nOkay.\n\n27\n00:01:14.760 --> 00:01:17.640\nSo you may or may not see that logging\nalready turned on in your system, but\n\n28\n00:01:17.640 --> 00:01:20.802\notherwise you'll see a screen\nthat looks very similar to this.\n\n29\n00:01:20.802 --> 00:01:22.825\nAll right, so\nlet's talk about what we're seeing.\n\n30\n00:01:22.825 --> 00:01:24.056\nAt the very top of the screen,\n\n31\n00:01:24.056 --> 00:01:26.577\nyou've got the ASDM version\nthat you're running, right?\n\n32\n00:01:26.577 --> 00:01:29.265\nThe ASDM is the Java Applet.\n\n33\n00:01:29.265 --> 00:01:31.155\nIt let's us control the ASA.\n\n34\n00:01:31.155 --> 00:01:34.505\nAnd it has a version number that's\ndifferent from your operating system\n\n35\n00:01:34.505 --> 00:01:39.135\nnumber and that's important because\nnewer versions of the ASDM can\n\n36\n00:01:39.135 --> 00:01:41.950\nmanage older versions of the ASA.\n\n37\n00:01:41.950 --> 00:01:46.653\nBut older versions of ASDM can't\nmanage newer versions of ASA.\n\n38\n00:01:46.653 --> 00:01:50.020\nSo, we've got to make sure that we're\nrunning the right version for the job.\n\n39\n00:01:50.020 --> 00:01:52.930\nSo I can see I'm running ASDM 7.4,\nwhich is the most current.\n\n40\n00:01:54.150 --> 00:01:56.875\nThen, we have our simple navigation.\n\n41\n00:01:56.875 --> 00:01:58.942\nNow for\nsimple navigation we've got three buttons.\n\n42\n00:01:58.942 --> 00:02:00.972\nHome where we're looking\nat our home screen.\n\n43\n00:02:00.972 --> 00:02:03.725\nConfiguration where we\ngo to configure things.\n\n44\n00:02:03.725 --> 00:02:07.199\nAnd then monitoring where we go to\nlook at the status of our system.\n\n45\n00:02:07.199 --> 00:02:10.645\nOn the home screen, we're actually\ngetting some of that monitoring.\n\n46\n00:02:10.645 --> 00:02:12.035\nIt's giving us the most important,\n\n47\n00:02:12.035 --> 00:02:15.165\ncritical things that we want to see\non a fire wall, laid out right here.\n\n48\n00:02:16.320 --> 00:02:19.940\nAll right, next,\nwe see our status information.\n\n49\n00:02:19.940 --> 00:02:22.385\nAnd there's a lot of status\ninformation to be found.\n\n50\n00:02:22.385 --> 00:02:25.070\nRight here in the first box we\nget our device information.\n\n51\n00:02:25.070 --> 00:02:28.600\nIt's telling us about\nthe ASA firewall hardware.\n\n52\n00:02:28.600 --> 00:02:30.730\nThere's good information here\nlike what our host name is,\n\n53\n00:02:30.730 --> 00:02:34.710\nmine's just called ASA01.lab.itpro.tv.\n\n54\n00:02:34.710 --> 00:02:36.554\nI can see my ASA's version.\n\n55\n00:02:36.554 --> 00:02:39.190\nThis is the actual operating\nsystem running on the firewall.\n\n56\n00:02:39.190 --> 00:02:40.101\nI'm running 9.4.\n\n57\n00:02:40.101 --> 00:02:43.668\nAnd then my ASDM version, which is 7.4.\n\n58\n00:02:43.668 --> 00:02:45.110\nNow, those numbers don't match.\n\n59\n00:02:45.110 --> 00:02:46.235\nThey never do, right?\n\n60\n00:02:46.235 --> 00:02:49.325\n7.4 is the latest version of the ASDM,\n\n61\n00:02:49.325 --> 00:02:53.090\n9.4 is the latest version of\nthe ASA operating system.\n\n62\n00:02:53.090 --> 00:02:55.050\nSo, when we look at these,\n\n63\n00:02:55.050 --> 00:02:58.880\nhow do we know which ASDM is\ncompatible with which version of ASA?\n\n64\n00:02:58.880 --> 00:03:00.990\nWell when you go to download\nthem from Cisco's site,\n\n65\n00:03:00.990 --> 00:03:04.450\nthey're both in that same area to download\nso you know which one is tied to it.\n\n66\n00:03:04.450 --> 00:03:07.780\nBut if you don't know you can always go\nto the release notes for your version.\n\n67\n00:03:07.780 --> 00:03:08.630\nIn the release notes for\n\n68\n00:03:08.630 --> 00:03:11.310\nthe ASA software, it'll say what\nversion of the ASDM is supported.\n\n69\n00:03:11.310 --> 00:03:13.590\nAnd in the release notes for\nthe ASDM software,\n\n70\n00:03:13.590 --> 00:03:17.610\nit'll say which versions of the ASA\nsupport, so it's all right in there.\n\n71\n00:03:17.610 --> 00:03:19.370\nNext, I see my firewall mode.\n\n72\n00:03:19.370 --> 00:03:21.640\nThere's two main modes for the ASAs.\n\n73\n00:03:21.640 --> 00:03:24.807\nThere's the routed mode and\ntransparent mode.\n\n74\n00:03:24.807 --> 00:03:27.460\nIn routed mode,\nyour firewall acts like a router.\n\n75\n00:03:27.460 --> 00:03:31.880\nEach interface has an IP address and\nyour clients use it as a default gateway.\n\n76\n00:03:31.880 --> 00:03:35.790\nIn transparent mode your interfaces\ndon't have IP addresses and\n\n77\n00:03:35.790 --> 00:03:38.310\nyou put the firewall in between\nyour network and your router.\n\n78\n00:03:38.310 --> 00:03:41.708\nAnd as traffic passes through it,\nit's invisible to network and\n\n79\n00:03:41.708 --> 00:03:43.017\nit filters the traffic.\n\n80\n00:03:43.017 --> 00:03:44.890\nIt's kind of a higher level of security.\n\n81\n00:03:44.890 --> 00:03:48.750\nYou lose a lot of functionality when you\ndo that but you gain a lot of security.\n\n82\n00:03:48.750 --> 00:03:51.330\nSo if you're in transparent mode,\nyou'll see that note right there.\n\n83\n00:03:52.590 --> 00:03:55.460\nThen we see the amount\nof flash memory we have.\n\n84\n00:03:55.460 --> 00:03:59.520\nNow, flash memory is where we store our\nASDM, our ASA operating system, and\n\n85\n00:03:59.520 --> 00:04:00.390\nour config file.\n\n86\n00:04:00.390 --> 00:04:04.280\nSo we have eight gigs of flash\nmemory inside of this system.\n\n87\n00:04:04.280 --> 00:04:06.940\nNow, that's a lot of flash memory, and\n\n88\n00:04:06.940 --> 00:04:10.930\nthat's because I'm actually on a virtual\nmachine here and not on a physical one.\n\n89\n00:04:10.930 --> 00:04:12.740\nOn a physical one you\nwould usually have less.\n\n90\n00:04:14.160 --> 00:04:15.420\nThen we see our device uptime.\n\n91\n00:04:15.420 --> 00:04:17.240\nMine's been up for 2 hours and 43 minutes,\n\n92\n00:04:17.240 --> 00:04:20.930\nhopefully yours has been up much\nlonger than the device type.\n\n93\n00:04:20.930 --> 00:04:28.180\nNow one of the device type you're going to\nsee the hardware you're using and it might\n\n94\n00:04:28.180 --> 00:04:32.500\na 5505 it might be a 5506-X it might 5550\nor 5585-X you'll see that right there.\n\n95\n00:04:32.500 --> 00:04:34.450\nI'm on the ASAV.\n\n96\n00:04:34.450 --> 00:04:37.950\nThat's the VMWare virtual appliance\nthat Cisco releases to let you run\n\n97\n00:04:37.950 --> 00:04:40.080\nASAs in a virtual server farm.\n\n98\n00:04:40.080 --> 00:04:43.562\nAnd so, I just get that note right\nthere letting me know I'm on the ASAV.\n\n99\n00:04:43.562 --> 00:04:45.120\nYou can see the number of CPUs.\n\n100\n00:04:45.120 --> 00:04:48.010\nNow that doesn't normally show\nup on dedicated hardware,\n\n101\n00:04:48.010 --> 00:04:50.170\nthat just shows up on\nthe virtual system like I'm on.\n\n102\n00:04:50.170 --> 00:04:51.890\nSo you might not see that on your's.\n\n103\n00:04:51.890 --> 00:04:54.450\nAnd then total memory,\nI've got two gigs of ram.\n\n104\n00:04:54.450 --> 00:04:58.559\nIf you have an Asa 5505,\nyou'll probably have 512 megs of ram.\n\n105\n00:04:58.559 --> 00:05:01.841\nAnd then the higher end unit you get,\nlike if you have a 5585,\n\n106\n00:05:01.841 --> 00:05:03.580\nyou'll have several gigs of ram.\n\n107\n00:05:03.580 --> 00:05:05.420\nI think they come with 16 gigs of ram.\n\n108\n00:05:05.420 --> 00:05:07.400\nSo, you'll see that indicated right there.\n\n109\n00:05:07.400 --> 00:05:08.980\nNot telling you how much\nmemory you're using,\n\n110\n00:05:08.980 --> 00:05:10.320\njust telling you how much you have, right?\n\n111\n00:05:10.320 --> 00:05:11.439\nJust describing the hardware.\n\n112\n00:05:13.630 --> 00:05:15.830\nNow even if you have a ton of hardware,\n\n113\n00:05:15.830 --> 00:05:18.380\nsometimes you're not necessarily\ntaking advantage of it.\n\n114\n00:05:18.380 --> 00:05:20.730\nAnd so if you go up here to License,\n\n115\n00:05:20.730 --> 00:05:23.440\nyou'll see whether you're able to take\nadvantage of that hardware or not.\n\n116\n00:05:23.440 --> 00:05:28.420\nLooking at mine, I can see I've got an\nencryption license for Triple-DES and AES.\n\n117\n00:05:28.420 --> 00:05:31.070\nI got a 50 VLAN license, and\n\n118\n00:05:31.070 --> 00:05:33.842\nI got an active/standby functionality for\nfail over.\n\n119\n00:05:33.842 --> 00:05:37.230\nAll right, you might see these all say,\nunlicensed.\n\n120\n00:05:37.230 --> 00:05:40.270\nAnd if that's the case, then you're\nrestricted in the amount of users, and\n\n121\n00:05:40.270 --> 00:05:41.590\nyou can't do fail over, right?\n\n122\n00:05:41.590 --> 00:05:43.820\nYour license is what's gonna provide that.\n\n123\n00:05:43.820 --> 00:05:46.910\nSee, my license shows, \"unlicensed.\" Well,\n\n124\n00:05:46.910 --> 00:05:49.470\nwhy do I have these licenses over\nhere if I'm shown as \"unlicensed\"?\n\n125\n00:05:49.470 --> 00:05:52.810\nThe reason is,\nThe ASAV is a little bit different.\n\n126\n00:05:52.810 --> 00:05:54.730\nWith ASAV, they unlock all the features.\n\n127\n00:05:54.730 --> 00:05:58.310\nBut without a license, they just limit\nyou to 100 kilobit of bandwidth,\n\n128\n00:05:58.310 --> 00:05:59.910\nwhich is perfect for what I'm doing here.\n\n129\n00:05:59.910 --> 00:06:02.279\nBut you can't use it in production, right?\n\n130\n00:06:02.279 --> 00:06:05.440\nOn other ASAs that are hardware,\nthey limit it based on functionality.\n\n131\n00:06:05.440 --> 00:06:07.800\nSo you'll see different information here,\nright?\n\n132\n00:06:07.800 --> 00:06:09.950\nWe can see how many VPN peers we support.\n\n133\n00:06:09.950 --> 00:06:11.080\nSSL, VPN, and so on.\n\n134\n00:06:11.080 --> 00:06:14.670\nNow, there's a lot of different\nlicenses inside of the ASA.\n\n135\n00:06:14.670 --> 00:06:15.870\nSo they're not all here.\n\n136\n00:06:15.870 --> 00:06:20.530\nIf you click on More Licences,\nyou can click on that and\n\n137\n00:06:20.530 --> 00:06:24.430\nthen it's gonna come up and\nyou'll start to see information about your\n\n138\n00:06:24.430 --> 00:06:27.750\nother licences and\nit's basically done under configuration.\n\n139\n00:06:27.750 --> 00:06:30.798\nSo we can the other individual licenses\nthat we may or may not have purchased.\n\n140\n00:06:30.798 --> 00:06:36.300\nAll right, now some of the other\nthings that we see on here.\n\n141\n00:06:36.300 --> 00:06:40.200\nIf you're running the ASAV like I am,\nyou'll have a Virtual Resources tab.\n\n142\n00:06:40.200 --> 00:06:42.230\nIf you're running a hardware\nASA you won't have that, and\n\n143\n00:06:42.230 --> 00:06:45.750\nthis is just showing the virtual\nresources assigned to my system.\n\n144\n00:06:45.750 --> 00:06:47.630\nThe vCPUs and memory and so\n\n145\n00:06:47.630 --> 00:06:52.070\non cuz I might have limits applied to it,\nusually we don't.\n\n146\n00:06:52.070 --> 00:06:54.370\nNow beneath that section\nwe've got our VPN Session.\n\n147\n00:06:54.370 --> 00:06:58.040\nSo I get a summary of how many VPN\nsessions I'm moving right now.\n\n148\n00:06:58.040 --> 00:07:00.000\nAnd beneath,\nthat my System Resource Status.\n\n149\n00:07:00.000 --> 00:07:02.005\nNow my system resources\nwere listed up here, right?\n\n150\n00:07:02.005 --> 00:07:03.010\nUnder my General.\n\n151\n00:07:03.010 --> 00:07:04.350\nI kinda see those resources.\n\n152\n00:07:04.350 --> 00:07:07.140\nBut it wasn't showing how\nmuch I was actually using.\n\n153\n00:07:07.140 --> 00:07:11.173\nWell here, I can get an idea of how much\nI'm actually using, my Memory Usage.\n\n154\n00:07:11.173 --> 00:07:16.504\nAnd while I have 2 gigs of RAM,\nI can see that I'm barely using 637 megs.\n\n155\n00:07:16.504 --> 00:07:19.340\nI've got plenty of\navailable memory right now.\n\n156\n00:07:19.340 --> 00:07:23.537\nI can see total CPU usage and\nI can see I'm cruising at a cool 0%, so\n\n157\n00:07:23.537 --> 00:07:25.317\nnot a lot going on there too.\n\n158\n00:07:25.317 --> 00:07:28.190\nUnder core usage is my processor cores.\n\n159\n00:07:28.190 --> 00:07:31.370\nIf I have more than one core I'll\nsee how much I'm pegging out, and\n\n160\n00:07:31.370 --> 00:07:33.290\nI've only got one core and\nit's barely doing anything.\n\n161\n00:07:33.290 --> 00:07:37.170\nAnd, then to learn the details, we can get\nthe detailed information which jumps us\n\n162\n00:07:37.170 --> 00:07:40.782\nover to the monitoring screens where we\ncan pull up additional graphs and data.\n\n163\n00:07:40.782 --> 00:07:44.963\nAll right, so this is where we\nsee what we're actually using.\n\n164\n00:07:44.963 --> 00:07:48.226\nOn the right side I see my interfaces and\nwhether they're up or\n\n165\n00:07:48.226 --> 00:07:50.250\ndown and what IP addresses they have.\n\n166\n00:07:50.250 --> 00:07:54.350\nNow it doesn't tell me if they're static\nor DHCP, like I know this one is DHCP.\n\n167\n00:07:54.350 --> 00:07:57.950\nBut I can see what address it got and\nwhether it's up and\n\n168\n00:07:57.950 --> 00:08:00.250\nhow much data it's moving right now.\n\n169\n00:08:00.250 --> 00:08:02.213\nAnd I'm not pushing much data.\n\n170\n00:08:02.213 --> 00:08:03.530\nYou get failover status.\n\n171\n00:08:03.530 --> 00:08:06.150\nIf you've got failover configured,\nyou'll see whether you're the active or\n\n172\n00:08:06.150 --> 00:08:07.600\nwhether you're the standby.\n\n173\n00:08:07.600 --> 00:08:09.030\nAnd then, traffic status.\n\n174\n00:08:09.030 --> 00:08:12.050\nAgain, this data appears\njust showing me my health,\n\n175\n00:08:12.050 --> 00:08:13.800\nnot how much I'm actually using.\n\n176\n00:08:13.800 --> 00:08:18.150\nDown here, I can see trended based\non when I launched the ASDM.\n\n177\n00:08:18.150 --> 00:08:20.235\nThis data does not get\nsaved in between sessions.\n\n178\n00:08:20.235 --> 00:08:22.966\nIf I closed the ASDM and opened it,\nthis would be blank and then,\n\n179\n00:08:22.966 --> 00:08:25.150\nit just populates again as\nwe move data through it.\n\n180\n00:08:26.970 --> 00:08:29.420\nAt the bottom of the screen\nI've got my Syslog Messages and\n\n181\n00:08:29.420 --> 00:08:31.890\nso here's what's going on\non the firewall right now.\n\n182\n00:08:31.890 --> 00:08:35.380\nAnd I can resize this window to\nmake it a little more visible so\n\n183\n00:08:35.380 --> 00:08:37.560\nI can start to see those\nmessages as they push through.\n\n184\n00:08:37.560 --> 00:08:41.280\nAs connections are happening,\nI'll see entries populate in there.\n\n185\n00:08:41.280 --> 00:08:45.490\nSo, for example, if I start to\ngenerate a little bit of traffic.\n\n186\n00:08:45.490 --> 00:08:48.320\nLet me just kind of like ping out\nto the Internet here or something.\n\n187\n00:08:48.320 --> 00:08:49.360\nI'm starting to generate traffic.\n\n188\n00:08:49.360 --> 00:08:52.610\nHere I can see those ICMP sessions\nstart to appear in my logs.\n\n189\n00:08:52.610 --> 00:08:57.170\nRight, I see those messages letting me\nknow that ICMP traffic is happening.\n\n190\n00:08:57.170 --> 00:08:59.390\nSo that's kind of constantly updating and\nliving.\n\n191\n00:09:01.840 --> 00:09:03.550\nAll right, other things that I can see.\n\n192\n00:09:03.550 --> 00:09:07.000\nWell, up here I've been looking at\nthe device dashboard this whole time.\n\n193\n00:09:07.000 --> 00:09:08.710\nYou've also got your firewall dashboard.\n\n194\n00:09:08.710 --> 00:09:11.350\nAnd see how the whole\ninterface just changed.\n\n195\n00:09:11.350 --> 00:09:14.920\nNow I see my traffic overview,\nwhich I saw on the home screen.\n\n196\n00:09:14.920 --> 00:09:18.460\nBut here it's much bigger, more detailed,\nand I can see additional data.\n\n197\n00:09:18.460 --> 00:09:22.070\nWe've got our drop packets,\nour possible scans and syn attack rates,\n\n198\n00:09:22.070 --> 00:09:24.250\nand other information being laid out.\n\n199\n00:09:24.250 --> 00:09:27.110\nOver here we can turn\non other reporting too.\n\n200\n00:09:27.110 --> 00:09:29.050\nLike, the top two hundred hosts feature.\n\n201\n00:09:29.050 --> 00:09:32.570\nIf I turn that on now I'll see\nthe busiest computers on my network.\n\n202\n00:09:32.570 --> 00:09:34.930\nWho's consuming the most bandwidth?\n\n203\n00:09:34.930 --> 00:09:39.420\nDown here, we can see live threat\ndata that's coming from Cisco.\n\n204\n00:09:39.420 --> 00:09:41.980\nTop ten malware sites,\ntop ten malware ports.\n\n205\n00:09:41.980 --> 00:09:43.755\nTop ten infected hosts.\n\n206\n00:09:43.755 --> 00:09:45.990\nAnd we can start to get\nadditional information about\n\n207\n00:09:45.990 --> 00:09:47.240\nthe health of our network.\n\n208\n00:09:47.240 --> 00:09:53.050\nAll pulled right here from the home page,\nin a quick, easy to access location.\n\n209\n00:09:53.050 --> 00:09:55.980\nAnd there's actually even more\nlike you see where I can kind\n\n210\n00:09:55.980 --> 00:09:57.430\nof scroll up and down.\n\n211\n00:09:57.430 --> 00:10:02.170\nSo if I scroll down,\nI get top ten protected servers under\n\n212\n00:10:02.170 --> 00:10:06.850\na SYN attack right now, top 200 hosts,\ntop botnet traffic filter hits.\n\n213\n00:10:06.850 --> 00:10:10.930\nIt's all just kind of laid out right\nhere and there's just a wealth of data.\n\n214\n00:10:10.930 --> 00:10:12.190\nTo be found right?\n\n215\n00:10:12.190 --> 00:10:14.360\nI like this one here my\ntop ten access rules.\n\n216\n00:10:14.360 --> 00:10:17.710\nWhich ACL's are generating\nthe most activity on my system?\n\n217\n00:10:17.710 --> 00:10:20.260\nCuz those might be ACLs that I can\ntweak and improve for performance.\n\n218\n00:10:23.350 --> 00:10:25.720\nAll right, the other thing is you may or\n\n219\n00:10:25.720 --> 00:10:30.350\nnot see over here on the left\nside this little nested menu bar.\n\n220\n00:10:30.350 --> 00:10:31.500\nAnd mine says Bookmarks,\n\n221\n00:10:31.500 --> 00:10:34.150\nright if I click on that I can\nsee bookmarks I might have made.\n\n222\n00:10:34.150 --> 00:10:35.610\nYou might see other things in yours.\n\n223\n00:10:35.610 --> 00:10:39.650\nFor example, if I go up here to view,\nyou've got Bookmarks checked, but\n\n224\n00:10:39.650 --> 00:10:43.970\nI can check Device List, I can check\nother things like ASDM Assistant.\n\n225\n00:10:43.970 --> 00:10:47.350\nAnd what that's doing is it's adding\non to it, so I've got my bookmarks.\n\n226\n00:10:47.350 --> 00:10:51.010\nBut I've also got device list now and\nI can add more than one ASA to this device\n\n227\n00:10:51.010 --> 00:10:54.010\nlist and quickly switch back and\nforth between them.\n\n228\n00:10:54.010 --> 00:10:58.520\nSo this little bar over here is just\ndesigned to make life easier for\n\n229\n00:10:58.520 --> 00:10:59.910\naccessing other resources.\n\n230\n00:10:59.910 --> 00:11:02.520\nWe can extend the functionality\nof that homescreen.\n\n231\n00:11:02.520 --> 00:11:04.680\nAnd speaking of extending\nthe functionality of the homescreen,\n\n232\n00:11:04.680 --> 00:11:06.800\nwe can always rearrange\nthese components too.\n\n233\n00:11:06.800 --> 00:11:10.630\nNotice this big window up here; I've\ngot a little box up here I can hit, and\n\n234\n00:11:10.630 --> 00:11:12.300\nI can make it go full screen.\n\n235\n00:11:12.300 --> 00:11:16.400\nThe syslogs just disappeared and\nnow I can see more information.\n\n236\n00:11:16.400 --> 00:11:19.710\nAnd if I click on that button again,\nnow the syslogs come back so\n\n237\n00:11:19.710 --> 00:11:20.510\nI can see that data.\n\n238\n00:11:20.510 --> 00:11:23.220\nAnd the syslog window down here.\n\n239\n00:11:23.220 --> 00:11:27.620\nI can actuality take it and\nif I grab it with my mouse and drag it.\n\n240\n00:11:27.620 --> 00:11:29.330\nSee how I just popped it out?\n\n241\n00:11:29.330 --> 00:11:32.630\nI can pop it out which is really handy\n\n242\n00:11:32.630 --> 00:11:37.310\nbecause now I can see more information at\nonce, and on a busy ASA that's important.\n\n243\n00:11:37.310 --> 00:11:39.620\nI need to be able to see additional data.\n\n244\n00:11:39.620 --> 00:11:42.620\nIn here I can pause it,\nI can change my settings and so on.\n\n245\n00:11:42.620 --> 00:11:44.600\nSo you'll see these little buttons appear.\n\n246\n00:11:44.600 --> 00:11:46.100\nYou can hit the X to get rid of it.\n\n247\n00:11:46.100 --> 00:11:48.960\nMaybe I just don't want the logs\nin the homepage anymore, or\n\n248\n00:11:48.960 --> 00:11:52.310\nI can hit this little one that has\nan arrow in it and that takes it from\n\n249\n00:11:52.310 --> 00:11:56.410\nfloating mode back into docked mode and\nsticks it back into the layout.\n\n250\n00:11:56.410 --> 00:11:58.720\nSo we can rearrange this\nto meet our own needs.\n\n251\n00:11:58.720 --> 00:12:02.360\nWhich is what I said back at the beginning\nof this segment was your screen might look\n\n252\n00:12:02.360 --> 00:12:03.110\ndifferent than mine.\n\n253\n00:12:03.110 --> 00:12:06.670\nYou might have rearranged it or\nchanged the way that it looks, and so\n\n254\n00:12:06.670 --> 00:12:08.020\nyou might be missing\nsome of these elements.\n\n255\n00:12:08.020 --> 00:12:11.740\nAll right, so some of the other things\nthat we can customize are just the general\n\n256\n00:12:11.740 --> 00:12:12.340\nlook and feel.\n\n257\n00:12:12.340 --> 00:12:16.276\nIf I go under View, see how you've\ngot this Office look and feel?\n\n258\n00:12:16.276 --> 00:12:20.200\nWe can choose this and It makes it look\na little more like Microsoft Office.\n\n259\n00:12:20.200 --> 00:12:23.610\nI think this one's kind of hokey but it\ndoes make the ASA look a little prettier.\n\n260\n00:12:23.610 --> 00:12:26.460\nThis was the default a few versions ago\nand they kind of went away from that.\n\n261\n00:12:26.460 --> 00:12:29.160\nSo if you want it to be\npretty you can do that.\n\n262\n00:12:29.160 --> 00:12:31.840\nThe nice part though is that\nyou can always go to View and\n\n263\n00:12:31.840 --> 00:12:33.890\nyou've got Reset Layout.\n\n264\n00:12:33.890 --> 00:12:35.940\nSo if you've dinked around with it and\nmessed with it and\n\n265\n00:12:35.940 --> 00:12:38.570\nyou just don't like where you ended up,\nyou can always choose that.\n\n266\n00:12:38.570 --> 00:12:41.140\nAnd that'll put everything\nback to the way that it was.\n\n267\n00:12:41.140 --> 00:12:42.290\nWell except for the color theme.\n\n268\n00:12:42.290 --> 00:12:45.320\nYou might have noticed where it\nkind of resized my window there.\n\n269\n00:12:45.320 --> 00:12:47.210\nSo I take this, close it out, and\n\n270\n00:12:47.210 --> 00:12:49.980\nmove the firewall around,\nstart messing with things.\n\n271\n00:12:49.980 --> 00:12:51.630\nAnd then I go up to View and\n\n272\n00:12:51.630 --> 00:12:55.110\nReset Layout, it's gonna put\nit all back to the way it was.\n\n273\n00:12:55.110 --> 00:12:58.120\nAnd my log messages are back again and\nthat window's been resized,\n\n274\n00:12:58.120 --> 00:12:59.570\nthings are back to the way they were.\n\n275\n00:12:59.570 --> 00:13:02.370\nAnd the only thing I really need\nto change is to turn that Office\n\n276\n00:13:02.370 --> 00:13:03.690\nlooking field back off.\n\n277\n00:13:03.690 --> 00:13:05.520\nAnd now I'm back to\nthe regular ASDM layout.\n\n278\n00:13:05.520 --> 00:13:08.410\nSo there's not really anything\nyou can do in here to mess it up,\n\n279\n00:13:08.410 --> 00:13:11.032\nyou can always reset that layout and\nbe right back in business.\n\n280\n00:13:11.032 --> 00:13:15.680\nAll right, well in this video we got\na chance to see the home screen of\n\n281\n00:13:15.680 --> 00:13:18.030\nthe ASDM and what each of\nthe different components mean.\n\n282\n00:13:18.030 --> 00:13:19.580\nHopefully you guys\nlearned something there.\n\n283\n00:13:19.580 --> 00:13:24.040\nIt really is a great place to go to\nget an at a glance view of your ASA.\n\n284\n00:13:24.040 --> 00:13:24.739\nCheck it's health and\n\n285\n00:13:24.739 --> 00:13:26.767\nmake sure that everything's\nrunning the way it's supposed to.\n\n286\n00:13:26.767 --> 00:13:28.573\nIt's a valuable resource.\n\n287\n00:13:28.573 --> 00:13:30.570\nAll right I hope you\nguys enjoyed the show.\n\n288\n00:13:30.570 --> 00:13:33.721\nStayed tuned we've got more\nCisco ASA content coming up.\n\n289\n00:13:33.721 --> 00:13:34.221\n[MUSIC]\n\n",
          "vimeoId": "133160160"
        }
      ],
      "title": "Cisco ASA Firewalls"
    }
  ],
  "url": "cisco-asa-firewalls",
  "vLab": false
}
