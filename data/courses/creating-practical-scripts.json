{
  "description": "In this series, Daniel and Justin endeavor to demonstrate some ways in which you might employ your scripting knowledge to practical, real-world uses. They will do this by creating a User Account Management system that will call upon many key scripting concepts and practices to reach its end goal.",
  "descriptionMD": "In this series, Daniel and Justin endeavor to demonstrate some ways in which you might employ your scripting knowledge to practical, real-world uses. They will do this by creating a User Account Management system that will call upon many key scripting concepts and practices to reach its end goal.",
  "length": "25843",
  "name": "Creating Practical Scripts",
  "practiceExam": false,
  "subtitle": "Applying your scripting knowledge to everyday tasks",
  "tagUrl": "help-desk",
  "topics": [
    {
      "episodes": [
        {
          "description": "In this series, Daniel and Justin endeavor to demonstrate some ways in which you might employ your scripting knowledge to practical, real-world uses. They will do this by creating a User Account Management system that will call upon many key scripting concepts and practices to reach its end goal.",
          "length": "237",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-0-0-0-overview-112117-CLN.00_00_05_29.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-0-0-0-overview-112117-CLN.00_00_05_29.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-0-0-0-overview-112117-CLN.00_00_05_29.Still001-sm.jpg",
          "title": "Overview",
          "transcript": "",
          "vimeoId": "244098680"
        },
        {
          "description": "In this episode, Daniel and Justin show you how your scripting knowledge can be applied practically to everyday tasks. Here they will start building an Account Management system that will ultimately allow you to add/remove users, change the default shell, reset passwords, lock/unlock user accounts, and change user's names.",
          "length": "1541",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-1-1-user_account_mananger_main_menu-101617-PGM.00_31_31_16.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-1-1-user_account_mananger_main_menu-101617-PGM.00_31_31_16.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-1-1-user_account_mananger_main_menu-101617-PGM.00_31_31_16.Still001-sm.jpg",
          "title": "User Account Manager Main Menu",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:01.289\nWelcome to ITPro.TV.\n\n2\n00:00:01.289 --> 00:00:02.080\nI'm your host.\n\n3\n00:00:02.080 --> 00:00:06.255\n[CROSSTALK]\n\n4\n00:00:06.255 --> 00:00:08.317\n[MUSIC]\n\n5\n00:00:08.317 --> 00:00:11.944\n&gt;&gt; You're watching ITPro.TV.\n\n6\n00:00:11.944 --> 00:00:16.100\n&gt;&gt; Greetings everyone and welcome to\nanother exciting episode of ITPro.TV.\n\n7\n00:00:16.100 --> 00:00:17.430\nI'm your host Justin Dennison.\n\n8\n00:00:17.430 --> 00:00:20.140\nAnd today's episode we got\na very special treat for you.\n\n9\n00:00:20.140 --> 00:00:25.265\nWe're going to start by creating practical\nscripts eventually series in particular,\n\n10\n00:00:25.265 --> 00:00:29.580\nwe're going to be looking at creating\na script to manage user accounts.\n\n11\n00:00:29.580 --> 00:00:32.360\nAnd while I know that's a pain point for\nme, and maybe it is for you.\n\n12\n00:00:32.360 --> 00:00:35.012\nAnd luckily we have an expert\non that topic in the studio, Mr.\n\n13\n00:00:35.012 --> 00:00:36.852\nDaniel Lowry, how you doing today, Dan?\n\n14\n00:00:36.852 --> 00:00:37.780\n&gt;&gt; I am doing fantastic.\n\n15\n00:00:37.780 --> 00:00:41.257\nJustin, glad to be back in the studio\nwith you good folks out there,\n\n16\n00:00:41.257 --> 00:00:42.793\nand you my main man over here.\n\n17\n00:00:42.793 --> 00:00:45.904\nAnd yes today,\nwe are going to start down the long and\n\n18\n00:00:45.904 --> 00:00:48.910\nlovely road of creating practical scripts.\n\n19\n00:00:48.910 --> 00:00:53.320\nIf you watched the previous series that\nwe've done, where we went from really just\n\n20\n00:00:53.320 --> 00:00:58.111\nLinux command line things, we had that as\nkind of our foundation of foundations.\n\n21\n00:00:58.111 --> 00:01:01.370\nAnd then we moved into\nbasic script-writing, and\n\n22\n00:01:01.370 --> 00:01:03.300\nthen into more advanced functionality.\n\n23\n00:01:03.300 --> 00:01:06.610\nNow what we're going to kind of\ndo is take all those aspects and\n\n24\n00:01:06.610 --> 00:01:10.400\nconcepts that we've learned\nFrom all that previous work and\n\n25\n00:01:10.400 --> 00:01:15.670\nsay, you know what, [COUGH] I've got,\ngot things I wanna do.\n\n26\n00:01:15.670 --> 00:01:18.230\nI might want to take those and\n\n27\n00:01:18.230 --> 00:01:22.430\nmake my life a little easier by\nscripting that out, how does that look?\n\n28\n00:01:22.430 --> 00:01:24.170\nWhat if I wanted to do that?\n\n29\n00:01:24.170 --> 00:01:25.920\nSo that's what we're\ngonna do in this series.\n\n30\n00:01:25.920 --> 00:01:29.880\nWe're gonna start with user account\nmanagement as Justin has so\n\n31\n00:01:29.880 --> 00:01:32.380\nnicely informed us of.\n\n32\n00:01:32.380 --> 00:01:35.020\nBecause that is a pain for\na lot of people and here is why,\n\n33\n00:01:35.020 --> 00:01:39.300\nhere is what I have found,\nbecause there is a lot of different pieces\n\n34\n00:01:39.300 --> 00:01:43.165\nthat are disjointed in user account\nmanagement inside of a Linux system.\n\n35\n00:01:43.165 --> 00:01:47.810\nAnother cool things is you can go download\nthird party account management software or\n\n36\n00:01:47.810 --> 00:01:49.890\nweb based [INAUDIBLE]\nWeb Min is a great one and\n\n37\n00:01:49.890 --> 00:01:52.380\nit kind of does what we\nare getting ready to do.\n\n38\n00:01:52.380 --> 00:01:55.740\nOn a higher level, cuz it's all web based.\n\n39\n00:01:55.740 --> 00:01:57.780\nNetwork access, things of that nature.\n\n40\n00:01:57.780 --> 00:02:01.920\nBut if we're just starting off and\nwe don't want to go down that road.\n\n41\n00:02:01.920 --> 00:02:07.120\nAnd this is a really good way for\nus to solidify all those concepts and\n\n42\n00:02:07.120 --> 00:02:12.990\npractices that we picked up in the\nprevious series, into some cohesive unit.\n\n43\n00:02:12.990 --> 00:02:14.830\nAnd to see how that looks.\n\n44\n00:02:14.830 --> 00:02:19.160\nBecause we're gonna have to logic\nour way through making this work and\n\n45\n00:02:19.160 --> 00:02:21.810\nthat's a big part about\nwriting a practical script.\n\n46\n00:02:21.810 --> 00:02:25.490\nYou start off with\nthe problem.which is the emptiness.\n\n47\n00:02:25.490 --> 00:02:31.210\nAnd now, okay well I think I can script\nthat out and how would that look.\n\n48\n00:02:31.210 --> 00:02:35.730\nAnd a lot of times you're gonna, where we\ndo the series, you're gonna see me going\n\n49\n00:02:35.730 --> 00:02:37.700\nting, ting, ting, ting, ting,\nand tickety-tacketing away.\n\n50\n00:02:37.700 --> 00:02:41.020\nWhat you didn't see was me making\nsure that all this worked and\n\n51\n00:02:41.020 --> 00:02:44.660\nfiguring out the logic behind the scenes\nso that I could do that on the screen.\n\n52\n00:02:44.660 --> 00:02:47.130\nSo if you're looking at something,\nyou've got a problem,\n\n53\n00:02:47.130 --> 00:02:49.070\nyou're trying to create a script for it.\n\n54\n00:02:49.070 --> 00:02:51.530\nAnd you're having to sit back for\na minute.\n\n55\n00:02:51.530 --> 00:02:53.900\nDon't think that that is because\nyou don't know what's going on.\n\n56\n00:02:53.900 --> 00:02:57.340\nIt's just because sometimes the logic\ndoesn't jump right out at you and\n\n57\n00:02:57.340 --> 00:02:59.210\nsay, just do this.\n\n58\n00:02:59.210 --> 00:03:00.900\nYou'll have to reason your way through it.\n\n59\n00:03:00.900 --> 00:03:01.520\nAnd then,\n\n60\n00:03:01.520 --> 00:03:06.490\nof course, troubleshooting and debugging\nis always a grand time had by all.\n\n61\n00:03:06.490 --> 00:03:10.170\nHopefully we'll keep that down to\na minimum because this is a demonstration.\n\n62\n00:03:10.170 --> 00:03:13.450\nWe don't want to demonstrate debugging for\nthe most part, maybe a little bit,\n\n63\n00:03:13.450 --> 00:03:14.670\nwe might have to run into that.\n\n64\n00:03:14.670 --> 00:03:16.840\nTypos occur which is\ntypically what happens.\n\n65\n00:03:16.840 --> 00:03:20.010\nSo just kinda wanna set\nthe stage on what's gonna happen\n\n66\n00:03:20.010 --> 00:03:22.760\ndown the road as we continue on this.\n\n67\n00:03:22.760 --> 00:03:26.860\nNow this account management system is\nactually gonna take up multiple episodes.\n\n68\n00:03:26.860 --> 00:03:29.900\nWe're gonna kinda break it up,\nthis thing is I was telling Justin this\n\n69\n00:03:29.900 --> 00:03:33.350\nI like my Magnum Opus it's\n350 something lines of code.\n\n70\n00:03:35.020 --> 00:03:35.740\nWhich sounds like a lot.\n\n71\n00:03:35.740 --> 00:03:39.310\nIt's really not that bad\nwhen you think about it.\n\n72\n00:03:39.310 --> 00:03:40.980\nEspecially when you see\nhow it's broken up.\n\n73\n00:03:40.980 --> 00:03:42.170\nWe're going to break it up.\n\n74\n00:03:42.170 --> 00:03:45.690\nWe're going to create the main\nfunction today, the main menu.\n\n75\n00:03:45.690 --> 00:03:50.340\nAnd then we're going to do a show on\neach individual function that it does,\n\n76\n00:03:50.340 --> 00:03:54.920\nshowing how it all keys together into\none big program and see how it works.\n\n77\n00:03:54.920 --> 00:03:58.120\nSo that's the,\nthat's the roadmap we're gonna take and\n\n78\n00:03:58.120 --> 00:03:59.310\nhopefully it all makes sense.\n\n79\n00:03:59.310 --> 00:03:59.890\nAnd if it doesn't,\n\n80\n00:03:59.890 --> 00:04:03.700\nwell I'll keep reiterating it so that\nhopefully I'm clear to you guys out there.\n\n81\n00:04:03.700 --> 00:04:07.510\n&gt;&gt; Well Daniel, I can definitely attest\nthat managing user accounts from\n\n82\n00:04:07.510 --> 00:04:11.560\nthe command line, you were right,\nI think it's all these kind of,\n\n83\n00:04:11.560 --> 00:04:13.850\nwould you call them desperate, kind of-\n&gt;&gt; Yeah.\n\n84\n00:04:13.850 --> 00:04:18.310\n&gt;&gt; Yeah, these part, I need to change\na password or let me alter default shell,\n\n85\n00:04:18.310 --> 00:04:23.480\nI need to add a user, remove a user,\nneed to add group, add them to a group.\n\n86\n00:04:23.480 --> 00:04:27.530\nThere's just a lot going on and most of\nthe time I just go and look those up.\n\n87\n00:04:27.530 --> 00:04:31.600\nBut that's a great point, it's these small\nlittle, I bet I could script adding and\n\n88\n00:04:31.600 --> 00:04:32.550\nremoving user.\n\n89\n00:04:32.550 --> 00:04:34.410\nI bet I could script changing the shell.\n\n90\n00:04:34.410 --> 00:04:38.950\nI bet I could script modifying\nwhat group they belong to.\n\n91\n00:04:38.950 --> 00:04:42.330\nThings of that nature, and then these\nare all kind of coming together.\n\n92\n00:04:42.330 --> 00:04:45.830\nSo just a reminder,\nthis is one of those things that has\n\n93\n00:04:45.830 --> 00:04:50.080\nprobably occurred over several iterations,\nnot necessarily let me just go ahead and\n\n94\n00:04:50.080 --> 00:04:52.730\nwrite down all of these\nfrom top to bottom.\n\n95\n00:04:52.730 --> 00:04:56.920\nYou have small little pieces that you need\nout of this, that's a good place to start.\n\n96\n00:04:56.920 --> 00:04:59.890\nSo as we progress through the series,\nI would just keep that in mind.\n\n97\n00:04:59.890 --> 00:05:02.340\nit's not an all or nothing type thing.\n\n98\n00:05:02.340 --> 00:05:06.130\nIf you only need add and remove user,\nthen maybe that's all you need.\n\n99\n00:05:06.130 --> 00:05:08.970\nAnd like you said,\nthere's other tools that handle this.\n\n100\n00:05:08.970 --> 00:05:12.790\nBut being able just to transport\nthe script and have it locally?\n\n101\n00:05:12.790 --> 00:05:13.430\nIt's gonna work.\n\n102\n00:05:13.430 --> 00:05:18.420\nYou don't have to, do I have to now\ndownload and add this other package, for\n\n103\n00:05:18.420 --> 00:05:19.960\nonly adding and removing users.\n\n104\n00:05:19.960 --> 00:05:24.170\nSo it's a nice take on where\nwe learn [INAUDIBLE] we know.\n\n105\n00:05:24.170 --> 00:05:27.860\n&gt;&gt; Yeah, and I found that even though\nthere are other third party things that\n\n106\n00:05:27.860 --> 00:05:31.200\ndo similar stuff that I'm getting\nready to show you for myself.\n\n107\n00:05:32.660 --> 00:05:34.880\nMy mind works in a certain way,\nit thinks a certain way.\n\n108\n00:05:34.880 --> 00:05:38.640\nAnd a lot of times when you use\nsomeone's third party, you go,\n\n109\n00:05:38.640 --> 00:05:40.790\nI don't understand this.\n\n110\n00:05:40.790 --> 00:05:45.340\nAnd you have to read and\nlearn about why they did what they did so\n\n111\n00:05:45.340 --> 00:05:46.500\nthat you can understand it.\n\n112\n00:05:46.500 --> 00:05:50.570\nWhen you create your own script,\nit's perfectly intuitive for\n\n113\n00:05:50.570 --> 00:05:51.680\nyou because you wrote it.\n\n114\n00:05:51.680 --> 00:05:53.290\nYou know the logic that's going behind it.\n\n115\n00:05:53.290 --> 00:05:55.230\nYou know why you put everything in there.\n\n116\n00:05:55.230 --> 00:05:57.920\nYou know that program intimately.\n\n117\n00:05:57.920 --> 00:05:59.450\nBecause you put it there.\n\n118\n00:05:59.450 --> 00:06:02.950\nSo that can also be a good reason to say,\nyou know what, yeah,\n\n119\n00:06:02.950 --> 00:06:04.850\nisn't there other third\nparty stuff out there.\n\n120\n00:06:04.850 --> 00:06:07.990\nI have the wherewithal to create a script\nthat would do all that stuff for me.\n\n121\n00:06:07.990 --> 00:06:09.060\nSo I'm gonna do that.\n\n122\n00:06:09.060 --> 00:06:13.170\nCuz I like doing it the way I do it and\nnot necessarily they way they do.\n\n123\n00:06:13.170 --> 00:06:16.350\nSo having those options and\ngiving yourself choices,\n\n124\n00:06:16.350 --> 00:06:20.930\nis always a wonderful thing,\nespecially inside of your systems.\n\n125\n00:06:20.930 --> 00:06:24.710\nAn administration task that you'll\nneed to do from time to time.\n\n126\n00:06:24.710 --> 00:06:27.100\nSo, that's why we're gonna write scripts\nand that's what we're gonna do today.\n\n127\n00:06:27.100 --> 00:06:28.670\nYou'll see how I like to do things and\n\n128\n00:06:28.670 --> 00:06:32.960\nJustin is I know chomping up\nthe bit because he loves my menus.\n\n129\n00:06:32.960 --> 00:06:34.490\nHe just does, it's a fantastic thing.\n\n130\n00:06:34.490 --> 00:06:37.870\nThe great news about that is Justin could\ntake this whole script that I'm writing\n\n131\n00:06:37.870 --> 00:06:39.800\nright now, and so could you.\n\n132\n00:06:39.800 --> 00:06:42.700\nAnd change it from a menu-driven\nsystem to a command-line\n\n133\n00:06:42.700 --> 00:06:45.270\ndriven system where there's options and\narguments.\n\n134\n00:06:45.270 --> 00:06:49.250\nThat could easily be ported over,\nyou just have to take into that account.\n\n135\n00:06:49.250 --> 00:06:52.070\nSo you'll see some of the logic\nthat I'm doing is because we're\n\n136\n00:06:52.070 --> 00:06:55.490\nworking with menus and having to bounce\naround between different functions.\n\n137\n00:06:55.490 --> 00:06:58.960\nWhereas if I wrote it a different way, and\nmaybe we'll do that, I haven't made that\n\n138\n00:06:58.960 --> 00:07:03.620\ndecision yet, maybe we'll re-write\nthe same thing doing it a different way.\n\n139\n00:07:03.620 --> 00:07:05.460\nSo we can just look at some\nmore of that functionality.\n\n140\n00:07:06.470 --> 00:07:11.400\nWithout further ado, I think it is about\ntime for us to actually dive in and\n\n141\n00:07:11.400 --> 00:07:12.320\nget started.\n\n142\n00:07:12.320 --> 00:07:13.670\nSo let's jump into the computer.\n\n143\n00:07:14.670 --> 00:07:18.850\nI have created, pre-created,\nthis whole entire thing.\n\n144\n00:07:18.850 --> 00:07:23.270\nLet's go ahead and start at the end,\nshow you what it looks like.\n\n145\n00:07:23.270 --> 00:07:26.240\nSo that we understand the logic\nbehind it as we build it.\n\n146\n00:07:26.240 --> 00:07:31.840\nI wanna let you peer inside my head what I\nwas thinking when I created this script.\n\n147\n00:07:31.840 --> 00:07:32.880\nSo let's fire it up.\n\n148\n00:07:32.880 --> 00:07:37.590\nI called it account manager, acct.mgr.sh.\n\n149\n00:07:37.590 --> 00:07:40.900\nI hit enter,\ntells me your not running as roots,\n\n150\n00:07:40.900 --> 00:07:45.640\ncuz all of these things that\nwe're doing should be root user.\n\n151\n00:07:45.640 --> 00:07:47.410\nYou gotta have elevated privilege for\nthat.\n\n152\n00:07:47.410 --> 00:07:50.185\nSo, I need to sudo this script.\n\n153\n00:07:50.185 --> 00:07:55.868\nSo, I'll say sudo./acct-mgr.sh,\nnow it asks for my password.\n\n154\n00:07:58.796 --> 00:08:01.799\nAnd there we go,\npops me into this management system.\n\n155\n00:08:01.799 --> 00:08:04.795\nIt gives me the option to\nadd/remove a user to the system,\n\n156\n00:08:04.795 --> 00:08:08.956\nchange user default shell, reset password,\nlock and unlock the user account,\n\n157\n00:08:08.956 --> 00:08:13.900\nchange the username, or exit the program,\nbecause exiting is still an option.\n\n158\n00:08:13.900 --> 00:08:19.130\nSo we've got five different functions\nthat this program is going to do.\n\n159\n00:08:19.130 --> 00:08:20.200\nAnd we're gonna look at each one of those.\n\n160\n00:08:20.200 --> 00:08:23.530\nAnd that's why I said we're gonna\nbreak this up into multiple episodes.\n\n161\n00:08:23.530 --> 00:08:28.620\nLooking at each one of those functions and\nit's modularity and how it attaches.\n\n162\n00:08:28.620 --> 00:08:32.230\nAnd how we can take it and break it off\ninto maybe like a library function or\n\n163\n00:08:32.230 --> 00:08:33.020\nsomething like that.\n\n164\n00:08:33.020 --> 00:08:36.410\nThat's why I love using functions,\nit just makes that task so\n\n165\n00:08:36.410 --> 00:08:39.400\nmuch easier, if you wanted to do it,\nbut this is what's happening.\n\n166\n00:08:39.400 --> 00:08:43.610\nSo if I wanted to go into\nAdd/Remove Users, right?\n\n167\n00:08:43.610 --> 00:08:44.610\nJust the first option.\n\n168\n00:08:44.610 --> 00:08:48.970\nHit 1, hit Enter, it moves me into this,\ngives me option add a user, remove a user,\n\n169\n00:08:48.970 --> 00:08:53.150\nList Users, jump back to the main menu or\nexit the program.\n\n170\n00:08:53.150 --> 00:08:58.290\nI'll go back to the main menu and we'll\ndo number 2, Change User Default Shell.\n\n171\n00:08:58.290 --> 00:09:02.028\nGiving me options again,\nchange default shell, hit the main menu or\n\n172\n00:09:02.028 --> 00:09:05.068\nexit the program,\nyou start seeing a recurring theme.\n\n173\n00:09:05.068 --> 00:09:10.146\nAnd it took me a lot of time to make\nsure that the visual aspect of it,\n\n174\n00:09:10.146 --> 00:09:15.894\nbecause I do like graphical menu driven\ntype scripts to be very intuitive.\n\n175\n00:09:15.894 --> 00:09:17.000\nI want them to be intuitive.\n\n176\n00:09:17.000 --> 00:09:20.820\nAnd a lot of the logic I had\nto work out was creating that\n\n177\n00:09:20.820 --> 00:09:22.730\nintuitiveness behind the program, so\n\n178\n00:09:22.730 --> 00:09:25.730\nyou see a lot of repetitive types\nof things that we're gonna do.\n\n179\n00:09:25.730 --> 00:09:30.030\nAnd it was interesting, I was taking\nJustin's advice a lot ways, going man,\n\n180\n00:09:30.030 --> 00:09:31.340\nI want to copy and paste code.\n\n181\n00:09:31.340 --> 00:09:35.150\nIf I find myself copying and pasting\ncode maybe I need to write a function.\n\n182\n00:09:35.150 --> 00:09:40.110\nBut I think I've come down to,\nfor the most part, and, again,\n\n183\n00:09:40.110 --> 00:09:44.260\nthis was written as fast as I possibly\ncould to get ready for the show.\n\n184\n00:09:44.260 --> 00:09:46.280\nBut it's still pretty robust.\n\n185\n00:09:46.280 --> 00:09:49.800\nThat I should be creating function if\nI'm repeating code over and over again.\n\n186\n00:09:49.800 --> 00:09:52.340\nBut I think I've got it down to\nwhere they're different enough\n\n187\n00:09:52.340 --> 00:09:57.010\nthat each function has its\nown particular need, okay?\n\n188\n00:09:57.010 --> 00:09:59.640\nSo that's the mindset behind this.\n\n189\n00:09:59.640 --> 00:10:02.412\nSo I'm gonna exit out of the program and\n\n190\n00:10:02.412 --> 00:10:06.360\nwe are now going to take a look\nat starting to write this.\n\n191\n00:10:06.360 --> 00:10:08.640\nSo I'm gonna fire off my editor of choice.\n\n192\n00:10:08.640 --> 00:10:11.470\nShould you, I'll just use nano and\n\n193\n00:10:11.470 --> 00:10:17.550\nwe'll call it A C C T- M G R 2\nbecause I already have one dot S H.\n\n194\n00:10:17.550 --> 00:10:18.670\nBlank slate, here we go.\n\n195\n00:10:18.670 --> 00:10:21.240\nWe are ready to fire off.\n\n196\n00:10:21.240 --> 00:10:25.800\nFirst thing, as always, the old shebang\nbin bash, because we are working in bash,\n\n197\n00:10:25.800 --> 00:10:30.640\nthis script is anyway, and\nnow how do I want to proceed?\n\n198\n00:10:30.640 --> 00:10:34.940\nAll right, this is really, a lot of times\nyou type in dash and you set back and\n\n199\n00:10:34.940 --> 00:10:38.110\nyou go, all right now what do I do?\n\n200\n00:10:38.110 --> 00:10:41.470\nWell, getting some structure and\nas you do this more and more and\n\n201\n00:10:41.470 --> 00:10:45.510\nmore you'll find yourself coming\nup with your style, right?\n\n202\n00:10:45.510 --> 00:10:48.820\nI know Justin, I know you have your style,\nI've got my style, a lot of times\n\n203\n00:10:48.820 --> 00:10:52.830\nI'll look at yours, I'll go aww man that's\nsuper smart or I'll ask him for advice.\n\n204\n00:10:52.830 --> 00:10:56.870\nHe gives me the way he would do it and\nI think, yeah, that makes sense.\n\n205\n00:10:56.870 --> 00:10:57.620\nI should do it that way.\n\n206\n00:10:57.620 --> 00:11:01.380\nOr, I see what you're saying but\nI want to go in a different direction so\n\n207\n00:11:01.380 --> 00:11:04.880\nI want to do it a different way, right.\n\n208\n00:11:04.880 --> 00:11:08.240\nAfter a while you develop\nyour own writing style, and\n\n209\n00:11:08.240 --> 00:11:10.480\nso, this is going to be my style.\n\n210\n00:11:10.480 --> 00:11:12.820\nEventually, you're going\nto develop your own.\n\n211\n00:11:12.820 --> 00:11:14.440\nBut, for now, this is what it is.\n\n212\n00:11:14.440 --> 00:11:18.550\n&gt;&gt; And Daniel, not only your writing\nstyle but also your planning phase.\n\n213\n00:11:18.550 --> 00:11:21.340\nRight?\nSo I'm a big proponent of drawing pictures\n\n214\n00:11:21.340 --> 00:11:25.780\nand diagrams and flow charts and\nI think maybe that applies\n\n215\n00:11:25.780 --> 00:11:30.810\nmore to a larger robust set of software-\n&gt;&gt; Yeah.\n\n216\n00:11:30.810 --> 00:11:34.830\n&gt;&gt; But if I'm doing scripts sometimes I\ndo forego that and I'm like, all right.\n\n217\n00:11:34.830 --> 00:11:37.330\nI may just make a list of comments\nof things that I need to do.\n\n218\n00:11:37.330 --> 00:11:40.960\nAnd go okay these are the things\nI need to get done and\n\n219\n00:11:40.960 --> 00:11:43.360\nthen I start working in the file.\n\n220\n00:11:43.360 --> 00:11:48.710\nSo, it's kind of very context based and\nkind of personal, right.\n\n221\n00:11:48.710 --> 00:11:51.490\nI do a lot of drawing and\ndoodling and things.\n\n222\n00:11:51.490 --> 00:11:52.500\nBut for larger systems.\n\n223\n00:11:52.500 --> 00:11:57.260\nIf I'm doing scripting, sometimes I do\nforego those and just do a check box.\n\n224\n00:11:57.260 --> 00:11:57.790\n&gt;&gt; Yeah.\n\n225\n00:11:57.790 --> 00:11:59.480\n&gt;&gt; Or a task list, so to speak.\n\n226\n00:11:59.480 --> 00:12:00.770\n&gt;&gt; Yeah, I do the exact same thing.\n\n227\n00:12:00.770 --> 00:12:04.190\nIt's kind of funny you start talking about\njust throwing in some comments there to\n\n228\n00:12:04.190 --> 00:12:07.880\ngive myself a reminder of what\nI want to do inside the script.\n\n229\n00:12:07.880 --> 00:12:09.890\nThat is exactly what\nwe're going to do first.\n\n230\n00:12:09.890 --> 00:12:11.990\nWe're going to say,\nwhat do we want this script to do,\n\n231\n00:12:11.990 --> 00:12:14.010\nand we're just going to comment it out.\n\n232\n00:12:14.010 --> 00:12:18.590\nSo that we can continue to look at it\nwhile we're inside of the coding area but\n\n233\n00:12:18.590 --> 00:12:21.940\nonce the script runs it just\nbypasses all of that okay.\n\n234\n00:12:21.940 --> 00:12:24.440\nSo let's talk about what\nwe want this script to do.\n\n235\n00:12:24.440 --> 00:12:26.290\nIt's an account user management.\n\n236\n00:12:26.290 --> 00:12:32.630\nWe want it to give the user a menu that it\ncan drive itself through to give access\n\n237\n00:12:32.630 --> 00:12:37.580\nto each one of the functions of account\nuser management that we've come up with.\n\n238\n00:12:37.580 --> 00:12:38.670\nOkay?\n\n239\n00:12:38.670 --> 00:12:43.130\nSo, we just need to throw\nin a good hashtag there and\n\n240\n00:12:43.130 --> 00:12:48.240\njust say we need a menu, a main menu,\n\n241\n00:12:48.240 --> 00:12:55.836\nright there that allows user to choose.\n\n242\n00:12:55.836 --> 00:13:04.800\nDifferent account management functions,\nright?\n\n243\n00:13:04.800 --> 00:13:07.530\nSo now I've got basically\nmy mission statement\n\n244\n00:13:07.530 --> 00:13:10.050\nof what I'm gonna be doing\ninside of this script.\n\n245\n00:13:10.050 --> 00:13:10.740\nSo now I can move on.\n\n246\n00:13:10.740 --> 00:13:11.969\nAnd it just reminds me, and\n\n247\n00:13:11.969 --> 00:13:15.132\nanybody else that comes along,\nwhat's this account MGR thing?\n\n248\n00:13:16.670 --> 00:13:20.040\nAnd they pop open the code to it and\nthey go, okay, yeah.\n\n249\n00:13:20.040 --> 00:13:23.480\nI haven't even run it yet and\nnow I already know what it does, okay?\n\n250\n00:13:23.480 --> 00:13:29.563\nSo I'm going to need that,\nI'm going to need a menu,\n\n251\n00:13:29.563 --> 00:13:34.033\nso I'm going to need a needs main menu.\n\n252\n00:13:34.033 --> 00:13:35.496\nDo you like that?\n\n253\n00:13:35.496 --> 00:13:40.109\nGonna need to take\n\n254\n00:13:40.109 --> 00:13:44.722\ninput from user,\n\n255\n00:13:44.722 --> 00:13:53.341\ngoing to need to have logic that.\n\n256\n00:13:55.462 --> 00:14:02.505\nUses user input as driving force.\n\n257\n00:14:06.008 --> 00:14:11.487\nTo move to that specific function.\n\n258\n00:14:14.083 --> 00:14:14.930\nLike that.\n\n259\n00:14:14.930 --> 00:14:16.730\nSo, now I've got the basics.\n\n260\n00:14:16.730 --> 00:14:20.200\nI also want to make sure that I'm running\nas root, as we saw with my other one.\n\n261\n00:14:20.200 --> 00:14:23.180\nBecause if I don't run as root, I make all\nthese crazy changes, or I try to access\n\n262\n00:14:23.180 --> 00:14:26.640\nstuff that needs root, I'm going to get\nerrors and things are going to break.\n\n263\n00:14:26.640 --> 00:14:30.430\nThis is an administrative tool,\nso that's an important thing,\n\n264\n00:14:30.430 --> 00:14:32.420\nI need to make sure\nthat's in there as well.\n\n265\n00:14:32.420 --> 00:14:39.174\nSo I need to check for admin rights.\n\n266\n00:14:39.174 --> 00:14:40.088\nOkay?\n\n267\n00:14:40.088 --> 00:14:43.880\nSo this is the basic outline\nof what I want this to do, and\n\n268\n00:14:43.880 --> 00:14:47.050\nmaybe I forgot a thing or\ntwo but that's okay.\n\n269\n00:14:47.050 --> 00:14:49.350\nThis is a good starting spot.\n\n270\n00:14:49.350 --> 00:14:51.660\nA great thing is as you're working\nyour way through your code and\n\n271\n00:14:51.660 --> 00:14:54.580\nyou find yourself up against wall,\nand you go I didn't account for\n\n272\n00:14:54.580 --> 00:14:57.260\nthat might be something I need to,\nyou just go back.\n\n273\n00:14:57.260 --> 00:14:58.150\nJust refactor them.\n\n274\n00:14:58.150 --> 00:15:02.350\nRelogic your way through it with that\nin mind and start changing things.\n\n275\n00:15:02.350 --> 00:15:04.940\nYeah it can be a little bit of work\nwhen that happens and it's unfortunate,\n\n276\n00:15:04.940 --> 00:15:06.930\nbut you gotta start somewhere, right?\n\n277\n00:15:06.930 --> 00:15:08.500\nJustin you always talk about making the,\n\n278\n00:15:08.500 --> 00:15:11.780\nwhat is it,\nthe smallest viable of product.\n\n279\n00:15:11.780 --> 00:15:13.310\n&gt;&gt; Minimum viable product.\n\n280\n00:15:13.310 --> 00:15:15.562\nAnd actually what\ninteresting is I noticed,\n\n281\n00:15:15.562 --> 00:15:18.200\nyou haven't actually talked\nabout any of the functions.\n\n282\n00:15:18.200 --> 00:15:21.110\nWe've just talked, this is strictly menus.\n\n283\n00:15:21.110 --> 00:15:25.140\nHow to start up the script and\nstart taking input.\n\n284\n00:15:25.140 --> 00:15:26.890\nIn order to do those things, correct?\n\n285\n00:15:26.890 --> 00:15:30.050\nAnd I like his approach cuz\nwhat I found is people get\n\n286\n00:15:30.050 --> 00:15:31.660\nreally bogged down with detail.\n\n287\n00:15:31.660 --> 00:15:35.258\nI need to make sure of this, and\nthis, and this so I can concur,\n\n288\n00:15:35.258 --> 00:15:39.670\ndon't get wound up with this minutia.\n\n289\n00:15:39.670 --> 00:15:40.370\n&gt;&gt; Yeah.\n\n290\n00:15:40.370 --> 00:15:43.020\n&gt;&gt; I forgot to talk about add or\nremoving users.\n\n291\n00:15:43.020 --> 00:15:44.790\nNo, we're just worried about the menu.\n\n292\n00:15:44.790 --> 00:15:47.471\n&gt;&gt; Right.\n&gt;&gt; Without a menu, well you don't have\n\n293\n00:15:47.471 --> 00:15:53.001\na menu driven admin system, so what is the\nminimum first step that you need to make?\n\n294\n00:15:53.001 --> 00:15:57.571\nCreate the menu, once you have that, that\nwill actually flesh out some of the ideas\n\n295\n00:15:57.571 --> 00:16:01.313\nthat we need to take To move forward\nwithin subsequent iterations.\n\n296\n00:16:01.313 --> 00:16:03.950\n&gt;&gt; Yes.\n&gt;&gt; Excellent, he's right inside my mind.\n\n297\n00:16:03.950 --> 00:16:05.360\nIt's weird.\n\n298\n00:16:05.360 --> 00:16:08.630\nHe's probably done this a couple times,\nI know he has.\n\n299\n00:16:08.630 --> 00:16:10.940\nOnce you get this experience under\nyour belt, you start seeing that.\n\n300\n00:16:10.940 --> 00:16:14.200\nAnd like you said, you don't have\nto get bogged down in the minutia,\n\n301\n00:16:14.200 --> 00:16:18.130\nevery little thing has to be fleshed out\nbefore I even touch the first thing.\n\n302\n00:16:18.130 --> 00:16:21.360\nJust get something, start rocking,\nright, and watch how it forms.\n\n303\n00:16:21.360 --> 00:16:24.450\nAnd then when you make a mistake,\nyou backtrack and you fix it, all right.\n\n304\n00:16:24.450 --> 00:16:27.240\nSo I like that approach,\nJustin likes that approach, and\n\n305\n00:16:27.240 --> 00:16:31.070\nthere's usually good reason to that\ncuz it increases productivity.\n\n306\n00:16:31.070 --> 00:16:34.600\nIf you just sit there and let your wheels\nspin, nothing is getting accomplished\n\n307\n00:16:34.600 --> 00:16:39.060\nother than you're theorizing whether or\nnot something will or will not work.\n\n308\n00:16:39.060 --> 00:16:42.560\nStart banging out code, and fire it off,\nsee if it does work, all right?\n\n309\n00:16:42.560 --> 00:16:44.600\nAnd then go back to the drawing\nboard if it doesn't.\n\n310\n00:16:44.600 --> 00:16:48.580\nThat's one of our philosophies,\ntake it or leave it, as you will.\n\n311\n00:16:48.580 --> 00:16:49.830\nLet's move in.\n\n312\n00:16:49.830 --> 00:16:54.590\nSo the first thing, I wanna start\nthinking what's the experience?\n\n313\n00:16:54.590 --> 00:16:57.540\nWhen I fire this off,\nwhat's the first thing it should do?\n\n314\n00:16:57.540 --> 00:17:01.061\nWell in my mind, the first thing it\nshould do as you might think will,\n\n315\n00:17:01.061 --> 00:17:01.989\ngive me the menu.\n\n316\n00:17:01.989 --> 00:17:04.316\nAnd Justin, you're right, to an extent.\n\n317\n00:17:04.316 --> 00:17:08.470\nBut the first thing you do is to\ncheck whether or not we are root.\n\n318\n00:17:08.470 --> 00:17:13.259\nBecause if we are not root, then that is\na conversation stopper for this script.\n\n319\n00:17:13.259 --> 00:17:17.277\nThat is the very first thing that we\nneed to do, the proto thing, okay?\n\n320\n00:17:17.277 --> 00:17:19.526\nSo let's do that,\nlet's write that in there.\n\n321\n00:17:19.526 --> 00:17:21.946\nSo how do we check if we're roots?\n\n322\n00:17:21.946 --> 00:17:25.547\nWell normally, you just Jemma,\nwho am I, right?\n\n323\n00:17:25.547 --> 00:17:27.250\nAnd it says who am I.\n\n324\n00:17:27.250 --> 00:17:28.044\nWell, I'm logged in as D Lowrie.\n\n325\n00:17:28.044 --> 00:17:31.817\nBut if I sudo who am I,\nwhat does it show up as?\n\n326\n00:17:31.817 --> 00:17:33.760\nIt shows up as root.\n\n327\n00:17:33.760 --> 00:17:37.970\nOnce I type in my password, hit Enter,\nit runs that command as root, and\n\n328\n00:17:37.970 --> 00:17:39.140\nit should return root.\n\n329\n00:17:39.140 --> 00:17:42.626\nSo if I hit up another terminal,\ntype in sudo who am I,\n\n330\n00:17:42.626 --> 00:17:45.579\nwe'll see that it returns\nthe value of root.\n\n331\n00:17:45.579 --> 00:17:50.495\nSo I wanna capture that, I wanna see\nif it's anything other than root I know\n\n332\n00:17:50.495 --> 00:17:52.900\nI'm not logged in as root, right?\n\n333\n00:17:52.900 --> 00:17:53.960\nAt least in my system.\n\n334\n00:17:53.960 --> 00:18:00.280\nMaybe you have other administrative\nusers that are sharing that ID.\n\n335\n00:18:00.280 --> 00:18:04.121\nBut in my system, I've got one\nall powerful, and that is root.\n\n336\n00:18:04.121 --> 00:18:06.143\nR-O-O-T, that user account, okay?\n\n337\n00:18:06.143 --> 00:18:07.610\nSo I'm going to check for that.\n\n338\n00:18:08.800 --> 00:18:12.930\nSo how I'm gonna do that is by basically,\nI'm gonna create a variable that's going\n\n339\n00:18:12.930 --> 00:18:18.755\nto do command substitution and\nbring that command into our script, okay?\n\n340\n00:18:18.755 --> 00:18:22.430\nSo I did this rooted and\n\n341\n00:18:22.430 --> 00:18:27.010\nthat will =$ like so, command\nsubstitution and who am I, close it off.\n\n342\n00:18:28.350 --> 00:18:32.432\nSo now the value of\nwhatever who am I returns,\n\n343\n00:18:32.432 --> 00:18:36.307\nis going to be the rooted variable, okay?\n\n344\n00:18:36.307 --> 00:18:39.712\nSo, I come down here and I say, if,\n\n345\n00:18:39.712 --> 00:18:44.609\nI'm gonna do a bit of\na compound testing function.\n\n346\n00:18:44.609 --> 00:18:46.853\nSo I'm going to use double brackets,\nlike so.\n\n347\n00:18:46.853 --> 00:18:53.795\nI'm going to say if $rooted != root,\n\n348\n00:18:53.795 --> 00:18:59.716\noops, we're gonna go back here,\n\n349\n00:18:59.716 --> 00:19:05.239\nwe're gonna close the quotes.\n\n350\n00:19:05.239 --> 00:19:08.148\nThere we go.\n\n351\n00:19:11.709 --> 00:19:13.805\nThen, we're gonna do something, right?\n\n352\n00:19:13.805 --> 00:19:14.669\nWell, what are we gonna do?\n\n353\n00:19:14.669 --> 00:19:17.920\nWe're just gonna echo out a warning hey,\nyou're not logged in as root.\n\n354\n00:19:19.210 --> 00:19:20.300\nNo problem, right?\nPretty easy.\n\n355\n00:19:20.300 --> 00:19:26.776\nEcho, you are not running\nwith root privileges,\n\n356\n00:19:26.776 --> 00:19:31.874\nor program requires root privileges.\n\n357\n00:19:31.874 --> 00:19:33.240\nThat might be a little bit better.\n\n358\n00:19:36.520 --> 00:19:41.404\nProgram requires root privs, there we go,\n\n359\n00:19:41.404 --> 00:19:47.080\nprivileges, I can never\nremember how to spell it.\n\n360\n00:19:47.080 --> 00:19:47.848\n&gt;&gt; There you go, you got it.\n\n361\n00:19:47.848 --> 00:19:48.478\n&gt;&gt; Spelling is fun, right?\n\n362\n00:19:48.478 --> 00:19:50.200\nGot to sound it out.\n\n363\n00:19:50.200 --> 00:19:52.450\nProgram requires root privileges.\n\n364\n00:19:52.450 --> 00:19:57.600\nI'll say echo and\nI'll give them some help.\n\n365\n00:19:58.630 --> 00:20:03.304\nLike Try Sudo aact- or,\nI'll do this acctmgr, or\n\n366\n00:20:03.304 --> 00:20:07.977\nwhatever it is, two dot sh,\nsomething like that,\n\n367\n00:20:07.977 --> 00:20:13.653\ngive them a little bit of bump\nin the right direction, right?\n\n368\n00:20:13.653 --> 00:20:19.400\nHelping out our users, that's what we\nlike to do, and then that's it, right?\n\n369\n00:20:19.400 --> 00:20:20.637\nThat would be the end of that statement.\n\n370\n00:20:20.637 --> 00:20:23.840\nBut what if it is [INAUDIBLE]?\n\n371\n00:20:23.840 --> 00:20:25.000\nWhat if it does fine, all right?\n\n372\n00:20:25.000 --> 00:20:27.020\nWe're gonna continue on with that.\n\n373\n00:20:27.020 --> 00:20:32.018\nSo I'm just gonna say else and\nI will run the main function like so, and\n\n374\n00:20:32.018 --> 00:20:33.817\nthen just close my feed.\n\n375\n00:20:33.817 --> 00:20:35.705\nDon't forget to do that, obviously.\n\n376\n00:20:35.705 --> 00:20:39.569\nSo, we've already started looking,\nwe've already created some logic now,\n\n377\n00:20:39.569 --> 00:20:43.860\nit's checking a certain test condition to\nmake sure that we are running as roots.\n\n378\n00:20:43.860 --> 00:20:46.820\nAnd would also be a great idea since\nit requires root privileges just about\n\n379\n00:20:46.820 --> 00:20:50.330\neverything, and access everything\nthat's gonna be in this system.\n\n380\n00:20:50.330 --> 00:20:52.030\nSo now, we run this.\n\n381\n00:20:53.070 --> 00:20:53.780\nIt should work.\n\n382\n00:20:53.780 --> 00:20:56.780\nNow, once I got past this, notice I\ndidn't do a bunch of [INAUDIBLE] and\n\n383\n00:20:56.780 --> 00:20:58.140\nblah, blah blah, right?\n\n384\n00:20:58.140 --> 00:20:59.740\nI just need to know whether or\nnot you're a root.\n\n385\n00:20:59.740 --> 00:21:03.000\nI don't need to, well, if you're\nD Lowrie or if you're J Denison, or\n\n386\n00:21:03.000 --> 00:21:06.380\nif you're whoever,\nthen do this that and the other.\n\n387\n00:21:06.380 --> 00:21:10.710\nMaybe you do, but as for my purposes,\nI just want to check for root.\n\n388\n00:21:10.710 --> 00:21:15.510\nSo, I´m giving you the foundation that you\ncould build upon for your environment.\n\n389\n00:21:15.510 --> 00:21:18.770\nRemember, what I´m doing is\nspecific to my environment.\n\n390\n00:21:18.770 --> 00:21:23.050\nIt might work in many different\nenvironments, probably quite a few, but\n\n391\n00:21:23.050 --> 00:21:24.910\nnot every environment this is gonna work.\n\n392\n00:21:24.910 --> 00:21:28.313\nSo you have to tailor things to work\non how your system is actually set up.\n\n393\n00:21:28.313 --> 00:21:32.460\nAll right, so now that we have this set\nup, you´ll notice that my else statement,\n\n394\n00:21:32.460 --> 00:21:33.720\nit's doing something.\n\n395\n00:21:33.720 --> 00:21:34.349\nIt's saying main.\n\n396\n00:21:34.349 --> 00:21:36.535\nWhat is that?\n\n397\n00:21:36.535 --> 00:21:37.838\nWell, that's calling a function.\n\n398\n00:21:37.838 --> 00:21:41.488\nSo I'm gonna need to create that\nfunction or nothing is going to happen.\n\n399\n00:21:41.488 --> 00:21:43.343\nActually, I think it will\nerror out at this point.\n\n400\n00:21:43.343 --> 00:21:46.919\nBash is real particular about you\ncalling functions that don't exist.\n\n401\n00:21:46.919 --> 00:21:50.411\nNot a big fan,\nright,so just keep that in mind.\n\n402\n00:21:50.411 --> 00:21:52.519\nAnd you'll see what I mean.\n\n403\n00:21:52.519 --> 00:21:55.180\nAs always, when you create functions,\n\n404\n00:21:55.180 --> 00:21:59.026\nthey need to be declared before\nyou can call them, right?\n\n405\n00:21:59.026 --> 00:22:03.192\nAny of the variable stuff, or stuff\nthat's going to happen, you can not go to\n\n406\n00:22:03.192 --> 00:22:07.825\na function if it does not already exist in\nthe mind of your script, script, scripts.\n\n407\n00:22:07.825 --> 00:22:09.989\n[LAUGH] Let me throw that on there.\n\n408\n00:22:09.989 --> 00:22:12.740\nAll right, so\njust keep that also very in mind.\n\n409\n00:22:12.740 --> 00:22:15.300\nSo I like to always,\nmost of the time anyway,\n\n410\n00:22:15.300 --> 00:22:19.920\nI'll create basically\nthe main function first.\n\n411\n00:22:19.920 --> 00:22:22.960\nOr dive into what really is\nthe main function of your script,\n\n412\n00:22:22.960 --> 00:22:24.560\nwhich is, you're already in it.\n\n413\n00:22:24.560 --> 00:22:28.801\nI like to define a main function and jump\nto it, and let that be the main thing,\n\n414\n00:22:28.801 --> 00:22:30.847\nif you understand what I'm saying.\n\n415\n00:22:30.847 --> 00:22:35.453\nSo I can now keep it modular,\nmake just changes to main,\n\n416\n00:22:35.453 --> 00:22:42.320\ninstead of really finagling with the major\nrunning engine of the code, all right?\n\n417\n00:22:42.320 --> 00:22:44.798\nSo it's just my way of doing things.\n\n418\n00:22:44.798 --> 00:22:48.800\nSo I'm gonna create a main,\nI do like to comment it as well.\n\n419\n00:22:48.800 --> 00:22:55.168\nI kind of do this, where I'll make\nthese separators, makes it easier for\n\n420\n00:22:55.168 --> 00:23:01.035\nme to find things and just say main menu,\nlike so, and then do this.\n\n421\n00:23:01.035 --> 00:23:06.675\nThis is just something I do, totally\narbitrary other than it helps me find,\n\n422\n00:23:06.675 --> 00:23:09.760\nthere's the main menu function, right?\n\n423\n00:23:10.870 --> 00:23:15.469\nAnd I can I'll even put that in there,\nmake it more descriptive, function,\n\n424\n00:23:15.469 --> 00:23:16.213\nthere we go.\n\n425\n00:23:16.213 --> 00:23:22.566\nSo now I'm gonna start that main, I'll\nsay main, like so, open my curly brace,\n\n426\n00:23:22.566 --> 00:23:28.400\ngive me another curly brace,\nI now have a main function started.\n\n427\n00:23:28.400 --> 00:23:29.710\nAs long as I have something in there,\n\n428\n00:23:30.900 --> 00:23:32.850\nI could fire the script off and\nit would work.\n\n429\n00:23:32.850 --> 00:23:38.540\nSo if I just said, echo main menu function\n\n430\n00:23:38.540 --> 00:23:42.650\nexcel, as long as there's\nsomething in there for\n\n431\n00:23:42.650 --> 00:23:46.680\nit to do,\nmy function column should operate.\n\n432\n00:23:46.680 --> 00:23:51.696\nSo if I save this, Ctrl + O, Ctrl + X,\n\n433\n00:23:51.696 --> 00:23:57.477\nand I chmod fu+x acct mgr 2r2, hit Enter.\n\n434\n00:23:57.477 --> 00:23:58.547\nAnd there we go.\n\n435\n00:23:58.547 --> 00:23:59.714\nWhat did I do?\n\n436\n00:23:59.714 --> 00:24:03.888\nPut it in a little more than necessary,\nthere we go.\n\n437\n00:24:03.888 --> 00:24:07.436\nAnd now I fire it off, acct mgr2.sh.\n\n438\n00:24:07.436 --> 00:24:11.331\nIt requires root privileges, so\nthat logic is working correctly.\n\n439\n00:24:11.331 --> 00:24:18.804\nSo if I do sudo./acct.mgr 2,\nthat's my password,\n\n440\n00:24:18.804 --> 00:24:23.680\nwrite if off main menu function.\n\n441\n00:24:23.680 --> 00:24:26.070\nSo everything so far is working.\n\n442\n00:24:26.070 --> 00:24:28.272\nNow we just have to flush\nout that menu system,\n\n443\n00:24:28.272 --> 00:24:30.986\nand then jump into the logic\nthat's gonna run behind it.\n\n444\n00:24:30.986 --> 00:24:35.417\nNow Justin,\nwe get about 5 minutes on the clock, so\n\n445\n00:24:35.417 --> 00:24:40.169\nI think it might be a a good\nstart [INAUDIBLE] For a part 2.\n\n446\n00:24:40.169 --> 00:24:42.105\n&gt;&gt; Actually I was looking\nat what you have planned.\n\n447\n00:24:42.105 --> 00:24:46.106\nAnd I think flashing out this main menu\nhelp us kind of flash out the ultimate\n\n448\n00:24:46.106 --> 00:24:48.980\nlike what we're going to\ndo within the script.\n\n449\n00:24:48.980 --> 00:24:51.910\nSo we definitely wanna make sure we\ntake the time to, here's option one,\n\n450\n00:24:51.910 --> 00:24:53.673\noption two, and we've seen that, right?\n\n451\n00:24:53.673 --> 00:24:58.316\nAll I could think of was a Tarantino just,\na little bit, but we saw the end result,\n\n452\n00:24:58.316 --> 00:25:01.212\nbut I think hearing\nthe reasoning behind and look,\n\n453\n00:25:01.212 --> 00:25:03.595\nhere are the parts that\nI want to put here.\n\n454\n00:25:03.595 --> 00:25:05.185\nHow I'm gonna organize that.\n\n455\n00:25:05.185 --> 00:25:08.135\nWe definitely wanna give that\nenough time to really seep in.\n\n456\n00:25:08.135 --> 00:25:11.073\nSo, it does look like we're gonna\nhave to come back for a part 2 but\n\n457\n00:25:11.073 --> 00:25:13.813\ndefinitely stay tuned for\nmore creating practical scripts.\n\n458\n00:25:13.813 --> 00:25:17.582\nWe'll be back with user account\nmanagement and creating a menu.\n\n459\n00:25:17.582 --> 00:25:20.057\nBut for this episode, we are done.\n\n460\n00:25:20.057 --> 00:25:23.141\n&gt;&gt; [LAUGH]\n&gt;&gt; We're gonna go ahead and sign off for\n\n461\n00:25:23.141 --> 00:25:23.701\nITProTV.\n\n462\n00:25:23.701 --> 00:25:25.086\nI've been your host, Justin Dennison.\n\n463\n00:25:25.086 --> 00:25:25.958\n&gt;&gt; I'm Daniel Lowrie.\n\n464\n00:25:25.958 --> 00:25:27.054\n&gt;&gt; And we'll see you next time.\n\n465\n00:25:27.054 --> 00:25:34.753\n[MUSIC]\n\n466\n00:25:34.753 --> 00:25:37.395\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "238593964"
        },
        {
          "description": "In this episode, Daniel and Justin show you how your scripting knowledge can be applied practically to everyday tasks. Here they will start building an Account Management system that will ultimately allow you to add/remove users, change the default shell, reset passwords, lock/unlock user accounts, and change user's names.",
          "length": "2258",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-1-2-user_account_mananger_main_menu_pt_2-101617-PGM.00_41_21_26.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-1-2-user_account_mananger_main_menu_pt_2-101617-PGM.00_41_21_26.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-1-2-user_account_mananger_main_menu_pt_2-101617-PGM.00_41_21_26.Still001-sm.jpg",
          "title": "User Account Manager Main Menu Pt2",
          "transcript": "WEBVTT\n\n1\n00:00:00.170 --> 00:00:02.187\nWelcome to ITPRO.TV.\n\n2\n00:00:02.187 --> 00:00:04.219\n[CROSSTALK]\n\n3\n00:00:04.219 --> 00:00:08.192\n[MUSIC]\n\n4\n00:00:08.192 --> 00:00:11.745\n&gt;&gt; You're watching ITPRO.TV.\n\n5\n00:00:11.745 --> 00:00:15.428\n&gt;&gt; Greetings, everyone, and welcome to\nanother exciting episode of ITPRO.TV.\n\n6\n00:00:15.428 --> 00:00:17.185\nI'm your host, Justin Dennison, and\n\n7\n00:00:17.185 --> 00:00:20.150\nwe're continuing on with our\ncreating practical scripts.\n\n8\n00:00:20.150 --> 00:00:24.287\nIn particular, we're moving forward\nwith a Part 2 in creating our\n\n9\n00:00:24.287 --> 00:00:28.218\nuser management console window,\nessentially our first menu.\n\n10\n00:00:28.218 --> 00:00:32.389\nAnd well, Daniel kinda gave us\na teaser in the last episode, so\n\n11\n00:00:32.389 --> 00:00:36.890\nluckily we were able to get him back\nin the studio to move us forward.\n\n12\n00:00:36.890 --> 00:00:37.850\nHow you doing today, Daniel?\n\n13\n00:00:37.850 --> 00:00:39.030\n&gt;&gt; I'm doing fantastic, Justin.\n\n14\n00:00:39.030 --> 00:00:41.510\nI know,\nit took a lot of them finagling and\n\n15\n00:00:41.510 --> 00:00:43.130\nasking me to come back into the studio.\n\n16\n00:00:43.130 --> 00:00:44.530\nCuz I was like no, I think I'm good.\n\n17\n00:00:44.530 --> 00:00:45.755\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, and just a,\n\n18\n00:00:45.755 --> 00:00:47.015\nthat's all they need, right?\n\n19\n00:00:47.015 --> 00:00:49.193\n[LAUGH]\n&gt;&gt; We're just gonna get this set up, and\n\n20\n00:00:49.193 --> 00:00:50.819\nit's all good to-\n&gt;&gt; The rest is up to you.\n\n21\n00:00:50.819 --> 00:00:51.837\nNo, no, we're not gonna do that.\n\n22\n00:00:51.837 --> 00:00:53.432\nWe're gonna continue down,\n\n23\n00:00:53.432 --> 00:00:56.762\nthis is definitely gonna take\nmultiple different episodes.\n\n24\n00:00:56.762 --> 00:00:58.095\nWe're gonna break each function down,\n\n25\n00:00:58.095 --> 00:01:00.410\nkinda like what we talked about\nin that previous episode.\n\n26\n00:01:00.410 --> 00:01:05.764\nAnd when we left off in the last episode,\nwe had more than a minimal viable product.\n\n27\n00:01:05.764 --> 00:01:09.423\nWe had a minimal, minimal viable product.\n\n28\n00:01:09.423 --> 00:01:14.170\nOur program does check whether or\nnot that we are logged in this route.\n\n29\n00:01:14.170 --> 00:01:17.080\nIt does it successfully,\nwe tested that, worked great.\n\n30\n00:01:17.080 --> 00:01:18.903\nGave us a little information on whether or\n\n31\n00:01:18.903 --> 00:01:21.411\nnot, like,\nI didn't know I needed to be logged in.\n\n32\n00:01:21.411 --> 00:01:23.663\nIf I'm that user, that's a lot of times,\n\n33\n00:01:23.663 --> 00:01:26.491\nthat's what I'm thinking\nabout as I write scripts.\n\n34\n00:01:26.491 --> 00:01:29.628\nAnd I know that we're going into a lot\nof philosophy of design when it comes to\n\n35\n00:01:29.628 --> 00:01:30.176\nthis stuff.\n\n36\n00:01:30.176 --> 00:01:33.850\nBut you do need to think about these\nthings as you create your scripts.\n\n37\n00:01:33.850 --> 00:01:36.590\nSome scripts you're gonna create\nare gonna be just for yourself.\n\n38\n00:01:36.590 --> 00:01:40.800\nAnd you can make them as ugly as you like\nbecause they're just gonna be for you.\n\n39\n00:01:41.960 --> 00:01:44.010\nI don't advise that a lot though,\n\n40\n00:01:44.010 --> 00:01:50.350\nbecause you never know when that script is\nmagic and becomes critical to your system.\n\n41\n00:01:50.350 --> 00:01:51.840\nAnd then you have other people come in,\nand\n\n42\n00:01:51.840 --> 00:01:54.830\nthey go, that script you wrote is gone.\n\n43\n00:01:54.830 --> 00:01:56.150\nI don't know what it did.\n\n44\n00:01:56.150 --> 00:01:58.756\nAnd it was crazy looking\nwhen I saw it anyway.\n\n45\n00:01:58.756 --> 00:02:03.290\nAnd so I tend to keep other people\nin mind as I'm writing my script.\n\n46\n00:02:03.290 --> 00:02:07.510\nAnd myself because, man, I can't tell you\nhow many times I've written a script,\n\n47\n00:02:07.510 --> 00:02:11.100\ngone back to it a year later,\nand go, what was I doing?\n\n48\n00:02:11.100 --> 00:02:12.166\nWhy am I doing this?\n\n49\n00:02:12.166 --> 00:02:14.170\nI have no idea, right?\n\n50\n00:02:14.170 --> 00:02:19.970\nSo try to make it as logical as possible\nfor everyone, not just yourself.\n\n51\n00:02:19.970 --> 00:02:24.260\n&gt;&gt; And Daniel, I can say that coming back\na year later, you're always gonna look at\n\n52\n00:02:24.260 --> 00:02:27.369\ncode you wrote a year ago and\ngo, I don't know about this.\n\n53\n00:02:27.369 --> 00:02:31.581\n[LAUGH] But if you have comments,\nlike we've seen you already do,\n\n54\n00:02:31.581 --> 00:02:36.803\nhave kind of a plan of action, and you try\nto make things in small chunks, right?\n\n55\n00:02:36.803 --> 00:02:40.794\nEven if I have to dive back in to\nfigure out what I'm doing, okay,\n\n56\n00:02:40.794 --> 00:02:42.430\nI see what's going on here.\n\n57\n00:02:42.430 --> 00:02:46.540\nI only have to digest small little chunks,\nand that way, if I need to reproduce it,\n\n58\n00:02:46.540 --> 00:02:47.890\nif I need to make a modification.\n\n59\n00:02:47.890 --> 00:02:51.750\nIf somebody else needs to read it,\nthen that's accessible to them.\n\n60\n00:02:51.750 --> 00:02:55.282\nIf this was top to bottom,\nno functions, nothing,\n\n61\n00:02:55.282 --> 00:03:01.005\nnow I have to understand everything about\nthe script in order to possibly extend it.\n\n62\n00:03:01.005 --> 00:03:04.000\nBut here, right,\nwe've already started with the main menu.\n\n63\n00:03:04.000 --> 00:03:07.136\nI wonder what that, that's the main menu.\n\n64\n00:03:07.136 --> 00:03:11.728\nI wonder what this other part,\nbut that's add, remove user.\n\n65\n00:03:11.728 --> 00:03:14.747\nSo I can echo that a great deal and\nfrom another perspective,\n\n66\n00:03:14.747 --> 00:03:17.245\nnot necessarily just from\nan admin perspective.\n\n67\n00:03:17.245 --> 00:03:21.053\nReading someone else's code\nthat you did not write and\n\n68\n00:03:21.053 --> 00:03:26.530\nthat they wrote as a giant monolith can\nmake your life incredibly difficult.\n\n69\n00:03:26.530 --> 00:03:31.240\nSo by and large, consider other people,\nbut also consider yourself.\n\n70\n00:03:31.240 --> 00:03:33.542\n&gt;&gt; That's right.\nSo again, that philosophy of design,\n\n71\n00:03:33.542 --> 00:03:37.500\nbecause you also have to be thinking about\nthe philosophy of use for it later, okay?\n\n72\n00:03:37.500 --> 00:03:40.403\nThere's multiple aspects to\nwhen you're creating scripts.\n\n73\n00:03:40.403 --> 00:03:43.710\nIt's great to bang out a quick and\ndirty script, make sure it runs,\n\n74\n00:03:43.710 --> 00:03:45.466\nthat's the thing you need it to do.\n\n75\n00:03:45.466 --> 00:03:49.285\nLet it do its thing and then go back\nover here and go, man, I bet I could do\n\n76\n00:03:49.285 --> 00:03:53.574\nthat better and make it a whole lot nicer,\neasier to work with, easier to read.\n\n77\n00:03:53.574 --> 00:03:58.455\nLet me just take my idea that\nis working and do that, right?\n\n78\n00:03:58.455 --> 00:04:00.342\nRefactor, go into that.\n\n79\n00:04:00.342 --> 00:04:02.226\nSo just a quick aside on that.\n\n80\n00:04:02.226 --> 00:04:05.350\nNow that we have this minimal,\nminimal viable product,\n\n81\n00:04:05.350 --> 00:04:09.269\nlet's jump back into the code and\nstart flushing out a little bit more.\n\n82\n00:04:09.269 --> 00:04:13.565\nAnd especially when it comes to that\nmain menu, that's what we're doing here,\n\n83\n00:04:13.565 --> 00:04:16.292\nmaking that a complete\npiece of the puzzle, okay?\n\n84\n00:04:16.292 --> 00:04:19.990\nWe wanna complete that\npiece of the puzzle.\n\n85\n00:04:19.990 --> 00:04:24.633\nSo I'm gonna nano acct.mgr2.sh, and\nhere is our script again, so lovely.\n\n86\n00:04:24.633 --> 00:04:27.943\nIt's doing such a good job,\nI'm gonna give us a little more screen, or\n\n87\n00:04:27.943 --> 00:04:29.114\nwe got plenty, I guess.\n\n88\n00:04:29.114 --> 00:04:32.155\nJust bring it down,\nanyway, coming down here,\n\n89\n00:04:32.155 --> 00:04:35.724\nwhere we left off was checking for\nroot, that all works.\n\n90\n00:04:35.724 --> 00:04:39.081\nElse, it calls the main function, right?\n\n91\n00:04:39.081 --> 00:04:41.940\nAnd I guess maybe that's\nnot descriptive enough.\n\n92\n00:04:41.940 --> 00:04:46.060\nI'm gonna underscore and\ncall it main_menu, like that.\n\n93\n00:04:46.060 --> 00:04:46.560\nWhat the heck?\n\n94\n00:04:47.930 --> 00:04:48.970\nCome up here and change this.\n\n95\n00:04:48.970 --> 00:04:52.520\nMake sure that reflects that change,\nunderscore menu.\n\n96\n00:04:52.520 --> 00:04:57.200\nGreat thing is, is you can make\nvariables pretty large, and so\n\n97\n00:04:57.200 --> 00:04:59.090\nyou can be very descriptive if you want.\n\n98\n00:04:59.090 --> 00:05:02.452\nYeah, it gets a little complicated [LAUGH]\nas you get down through the script, and\n\n99\n00:05:02.452 --> 00:05:05.030\nyou got these variable\nnames that are this long.\n\n100\n00:05:05.030 --> 00:05:07.475\nSo keep that in mind,\nkeep it easy for yourself.\n\n101\n00:05:07.475 --> 00:05:11.079\nI tend to use a lot of abbreviation,\nthings of that nature, but\n\n102\n00:05:11.079 --> 00:05:14.751\nI like to be descriptive so\nI know as I'm following my own logic,\n\n103\n00:05:14.751 --> 00:05:18.154\nsometimes you're going, okay,\nwhat am I supposed to do?\n\n104\n00:05:18.154 --> 00:05:19.630\nOr how am I supposed to go?\n\n105\n00:05:19.630 --> 00:05:22.380\nAnd if those variables\nare very descriptive,\n\n106\n00:05:22.380 --> 00:05:26.180\nyour functions are very descriptive,\nthe things that you're doing,\n\n107\n00:05:26.180 --> 00:05:30.850\nyou've made them descriptive, it helps to\nhelp you follow the logic along, right?\n\n108\n00:05:30.850 --> 00:05:34.360\nSo now that we've got this,\nI'm going to come out of here,\n\n109\n00:05:34.360 --> 00:05:38.010\nand let's talk about what we wanna hear.\n\n110\n00:05:38.010 --> 00:05:42.710\nIn here, we need that main menu obviously,\nso I'll put that in here,\n\n111\n00:05:42.710 --> 00:05:48.030\nCreates main menu graphic.\n\n112\n00:05:49.790 --> 00:05:53.619\nI need to Create menu logic, right?\n\n113\n00:05:53.619 --> 00:05:57.202\nThese are the two things right off the top\nof my head that I'm going to need to do,\n\n114\n00:05:57.202 --> 00:05:59.451\njust kinda, again,\ncreating that checklist for\n\n115\n00:05:59.451 --> 00:06:01.300\nthe things that I'm going to need to do.\n\n116\n00:06:01.300 --> 00:06:04.396\nSo that I don't forget cuz\nit's easy to do, right?\n\n117\n00:06:04.396 --> 00:06:07.856\nSo just any time you think of something\nthat you need to do in that script,\n\n118\n00:06:07.856 --> 00:06:09.403\njust jump up and make a comment.\n\n119\n00:06:09.403 --> 00:06:11.811\nSo that you can follow along and\nmake sure you get that done, and\n\n120\n00:06:11.811 --> 00:06:13.680\ndon't forget to do it.\n\n121\n00:06:13.680 --> 00:06:16.070\nSo I need to create the menu logic.\n\n122\n00:06:16.070 --> 00:06:18.150\nAnother thing that I like to do,\nI don't know if I'll do it here,\n\n123\n00:06:18.150 --> 00:06:19.330\ndid I do it here in this one?\n\n124\n00:06:19.330 --> 00:06:20.870\nI don't think I did.\n\n125\n00:06:20.870 --> 00:06:25.368\nI didn't, but what I'll do,\nI like to clear the screen, right?\n\n126\n00:06:25.368 --> 00:06:26.990\nI just want with every function I call,\n\n127\n00:06:26.990 --> 00:06:29.940\nI like to clear the screen because\notherwise, in my experience,\n\n128\n00:06:29.940 --> 00:06:33.110\nit gets chunk chunk chunk chunk,\nand all this text is on the screen.\n\n129\n00:06:33.110 --> 00:06:36.397\nAnd yeah, it's easy to look back and\nlook at what you were typing, but\n\n130\n00:06:36.397 --> 00:06:40.300\nthe great thing about the clear command is\nit basically just kind of scrolls all that\n\n131\n00:06:40.300 --> 00:06:41.770\nup above the top of the screen.\n\n132\n00:06:41.770 --> 00:06:44.920\nAnd you can just scroll down and\nsee it if you wanted to.\n\n133\n00:06:44.920 --> 00:06:47.180\nBut it keeps the screen\na whole lot nicer looking.\n\n134\n00:06:47.180 --> 00:06:52.320\nSo I like to add that as\na nicety to my users or\n\n135\n00:06:52.320 --> 00:06:55.330\nmyself, so that I don't get all\nthat clutter on the screen.\n\n136\n00:06:55.330 --> 00:06:56.200\nI'm gonna add that in here.\n\n137\n00:06:57.390 --> 00:06:59.020\nI'll say, clear, just like this.\n\n138\n00:06:59.020 --> 00:07:00.700\nAdd the clear command.\n\n139\n00:07:00.700 --> 00:07:03.870\nAll right, so\nnow let's bounce through here.\n\n140\n00:07:03.870 --> 00:07:06.488\nWe've got clear, we've got echo,\nmain menu function.\n\n141\n00:07:06.488 --> 00:07:08.300\nThat's a decent placeholder.\n\n142\n00:07:09.770 --> 00:07:13.140\nI can be probably a little\nmore descriptive though.\n\n143\n00:07:13.140 --> 00:07:15.431\nI tend to do welcome\nscreen splash type stuff,\n\n144\n00:07:15.431 --> 00:07:19.034\njust a little something to let them\nknow they're doing the right thing.\n\n145\n00:07:19.034 --> 00:07:24.300\nSo a little welcome, and I like to doing\nthis as well, doing this block echo.\n\n146\n00:07:25.930 --> 00:07:27.250\nAnd it will keep that format.\n\n147\n00:07:27.250 --> 00:07:30.860\nSo I can kind of go line by line in\nbetween the double quotes in your echo.\n\n148\n00:07:30.860 --> 00:07:32.880\nAnd it fires off very nicely and\ngives you that format.\n\n149\n00:07:33.890 --> 00:07:39.352\nI'll say echo, Welcome to\n\n150\n00:07:39.352 --> 00:07:45.526\nthe Linux User Admin Toolkit,\n\n151\n00:07:45.526 --> 00:07:48.382\nI should say.\n\n152\n00:07:48.382 --> 00:07:53.179\nBecause we're not doing all systems, we're\njust doing user stuff, User Admin Toolkit,\n\n153\n00:07:53.179 --> 00:07:53.812\nall right?\n\n154\n00:07:53.812 --> 00:07:56.796\nAnd if you really wanna let them\nknow if they're in the right spot,\n\n155\n00:07:56.796 --> 00:07:57.984\nyou throw a yeah, right?\n\n156\n00:07:57.984 --> 00:08:01.154\n[LAUGH] Emphasize that joke, right?\n\n157\n00:08:01.154 --> 00:08:02.554\nI don't need that yet.\n\n158\n00:08:02.554 --> 00:08:08.070\nThen just to help break up, again, I'm\ndealing with the graphical portion of it.\n\n159\n00:08:08.070 --> 00:08:11.120\nThis is the stuff that\nmy user is going to see.\n\n160\n00:08:11.120 --> 00:08:15.392\nSo I could leave that there and\ngo off in one, two, three, four,\n\n161\n00:08:15.392 --> 00:08:19.293\nand a line, and\nplease give me your option, kind of thing.\n\n162\n00:08:19.293 --> 00:08:21.670\nAnd that would work,\nright, that would be fine.\n\n163\n00:08:21.670 --> 00:08:27.100\nBut it's not very nice,\npleasing to the user eye.\n\n164\n00:08:27.100 --> 00:08:31.450\nAgain, I'm going back to thinking\nabout that user experience with\n\n165\n00:08:31.450 --> 00:08:32.831\nthe program itself.\n\n166\n00:08:32.831 --> 00:08:36.449\nSo I could say, one,\n\n167\n00:08:36.449 --> 00:08:41.675\nadd remove users 2 and so on and\n\n168\n00:08:41.675 --> 00:08:47.303\nso forth, change passwords 3,\n\n169\n00:08:47.303 --> 00:08:50.720\nand on and on and on.\n\n170\n00:08:50.720 --> 00:08:54.350\nBut when I fire this off and\nI look at that, it works.\n\n171\n00:08:54.350 --> 00:08:56.150\nI can look it and\nI can read it and I can see it.\n\n172\n00:08:56.150 --> 00:08:58.640\nBut it's not very and again,\n\n173\n00:08:58.640 --> 00:09:03.510\nthat user experience becomes a little bit\nmore muddled, for lack of a better term.\n\n174\n00:09:03.510 --> 00:09:06.620\nThings are kind of jumbly,\nit doesn't flow very well.\n\n175\n00:09:06.620 --> 00:09:07.660\nSo think about that aspect.\n\n176\n00:09:07.660 --> 00:09:11.970\nIf you are creating a menu driven system,\nhow\n\n177\n00:09:11.970 --> 00:09:17.270\ncould I present this data in\na more readable fashion, right?\n\n178\n00:09:17.270 --> 00:09:21.770\nSo just keep that in mind as you create\ngraphical aspects to your scripts.\n\n179\n00:09:22.900 --> 00:09:26.930\nIf you aren't creating graphical scripts,\nmake sure that your help file area,\n\n180\n00:09:26.930 --> 00:09:31.410\nthat the text files that you create,\nthat they're very descriptive.\n\n181\n00:09:31.410 --> 00:09:33.960\nAnd that they have a good\ngraphical flow to them.\n\n182\n00:09:33.960 --> 00:09:37.897\nBecause that's where they're going to\nlearn how to do what it is they need to do\n\n183\n00:09:37.897 --> 00:09:41.968\non the command line as they fire off a\nscript plus options plus arguments, okay?\n\n184\n00:09:41.968 --> 00:09:43.740\nJust like to keep that in\nthe forefront of our mind.\n\n185\n00:09:43.740 --> 00:09:44.650\nSo this is ugly.\n\n186\n00:09:44.650 --> 00:09:46.090\nI don't like it.\n\n187\n00:09:46.090 --> 00:09:46.850\nIt's too difficult.\n\n188\n00:09:46.850 --> 00:09:48.710\nIt doesn't digest well.\n\n189\n00:09:48.710 --> 00:09:51.993\nIt will feed you, but\nyou won't like the experience.\n\n190\n00:09:51.993 --> 00:09:56.784\nSo I like to break things up using things\nlike stars or underlines, whatever,\n\n191\n00:09:56.784 --> 00:09:58.320\nand then give it a space.\n\n192\n00:09:58.320 --> 00:10:02.220\nStart to give it a little bit of movement,\nright?\n\n193\n00:10:03.510 --> 00:10:05.760\nNow I'll give it a menu, option one.\n\n194\n00:10:05.760 --> 00:10:07.990\nWhat I want it to be, we'll do that.\n\n195\n00:10:07.990 --> 00:10:09.610\nWell, that's a good question, right?\n\n196\n00:10:09.610 --> 00:10:13.618\nThis is a good time for\nus to stop and reflect,\n\n197\n00:10:13.618 --> 00:10:17.540\nwhat do I want this tool to do in toto,\nokay?\n\n198\n00:10:17.540 --> 00:10:20.385\nSo I know I wanna add remove user,\nso that's good.\n\n199\n00:10:20.385 --> 00:10:28.405\nI will say, Add/Remove User to the system,\nright, easy stuff.\n\n200\n00:10:28.405 --> 00:10:30.650\nTwo, what else do I wanna do?\n\n201\n00:10:30.650 --> 00:10:35.309\nLet's see here, I know I want to,\nI actually kept a list, just to make sure.\n\n202\n00:10:35.309 --> 00:10:37.640\nChange the user's default shell, right?\n\n203\n00:10:37.640 --> 00:10:41.700\nThat's a good, that's a user thing that\nI might need to do to specific users.\n\n204\n00:10:41.700 --> 00:10:45.745\nSo it seems logical to me to\nbundle all this together.\n\n205\n00:10:45.745 --> 00:10:50.473\nSo I'll say change user's default shell,\n\n206\n00:10:50.473 --> 00:10:53.930\nChange User's Default Shell.\n\n207\n00:10:53.930 --> 00:10:57.350\nThis is one of those times where I\nwould say spelling is important, right?\n\n208\n00:10:57.350 --> 00:10:59.720\nCheck your grammar,\ncheck your spelling, make sure.\n\n209\n00:10:59.720 --> 00:11:01.820\nCuz if you use the wrong your,\nyou're or yore, or\n\n210\n00:11:01.820 --> 00:11:05.740\nthere, their or they're,\nit seems very unprofessional, okay?\n\n211\n00:11:05.740 --> 00:11:07.739\nNot that it's a crime.\n\n212\n00:11:07.739 --> 00:11:11.700\nI'm not gonna put you in jail, but it's\nvery unprofessional for your end user.\n\n213\n00:11:11.700 --> 00:11:13.860\nAnd they start thinking,\nthis thing's a piece of junk.\n\n214\n00:11:13.860 --> 00:11:18.100\n&gt;&gt; Well, when you kinda alluded to it\nthere, if I see things like that and\n\n215\n00:11:18.100 --> 00:11:22.290\nI notice them, especially in things that\nare making modifications to my system,\n\n216\n00:11:22.290 --> 00:11:27.140\nright, you're gonna add remove user,\nI don't know.\n\n217\n00:11:27.140 --> 00:11:31.880\nYou weren't detailed enough to do\nthat a quick little check in that.\n\n218\n00:11:31.880 --> 00:11:34.939\nHow detail oriented are you gonna\nbe when you're actually coding\n\n219\n00:11:34.939 --> 00:11:39.070\nprocedures to add and remove users, change\ndefault shell, or whatever else it may be.\n\n220\n00:11:39.070 --> 00:11:42.937\nSo it's kind of one of those,\npeople are going to judge you, and\n\n221\n00:11:42.937 --> 00:11:45.190\nyou may actually judge yourself.\n\n222\n00:11:45.190 --> 00:11:46.640\nMan, that was bad.\n\n223\n00:11:46.640 --> 00:11:49.065\nJust a quick scan over, can't hurt.\n\n224\n00:11:49.065 --> 00:11:53.240\nThey still creep in there,\nyou can always go back and fix them.\n\n225\n00:11:53.240 --> 00:11:57.430\nAnd I imagine this being something that\nI would first work on for myself, and\n\n226\n00:11:57.430 --> 00:12:01.930\nuse internally for me,\nbefore I kind of publish it to others.\n\n227\n00:12:01.930 --> 00:12:06.768\nThat way if it wrecks something,\nI'm like, yeah, nothing to see here.\n\n228\n00:12:06.768 --> 00:12:11.520\n&gt;&gt; [LAUGH] Yeah, no one sees you fall flat\non your face and knock all your teeth out.\n\n229\n00:12:11.520 --> 00:12:17.490\n&gt;&gt; Yeah, so I'm with him,\nI tend to use my own stuff for a period of\n\n230\n00:12:17.490 --> 00:12:22.270\ntime before I release it into the wild and\nsay I put my stamp of approval on this.\n\n231\n00:12:22.270 --> 00:12:25.190\nBecause I understand people are going\nto judge my work and that's fine,\n\n232\n00:12:25.190 --> 00:12:27.010\nthere's nothing wrong with that,\nthey should judge it.\n\n233\n00:12:27.010 --> 00:12:30.540\nI want them judging it, actually and\ngiving me feedback and saying, hey,\n\n234\n00:12:30.540 --> 00:12:34.200\nyou did this, [COUGH] but\nwhat if you did that?\n\n235\n00:12:34.200 --> 00:12:36.880\nWow, I didn't think about that,\nthat's an interesting concept.\n\n236\n00:12:36.880 --> 00:12:40.480\nMaybe I'll refactor this and\ntake that into account.\n\n237\n00:12:40.480 --> 00:12:41.680\nSo user feedback is always good.\n\n238\n00:12:41.680 --> 00:12:44.930\nI do want people judging\nmy stuff ultimately, but\n\n239\n00:12:44.930 --> 00:12:49.260\nI wanna make sure that I feel like I have\na polished product at that point in time.\n\n240\n00:12:49.260 --> 00:12:52.260\nUnless they understand this\nis all beta kind of thing and\n\n241\n00:12:52.260 --> 00:12:55.130\nthat there's going to be misspellings and\nmistakes here and there.\n\n242\n00:12:55.130 --> 00:12:58.300\nIt's not perfect in my\nestimation quite yet.\n\n243\n00:12:58.300 --> 00:12:58.950\nJust keep that in mind.\n\n244\n00:12:59.990 --> 00:13:01.673\nLet's add some more functionality here.\n\n245\n00:13:01.673 --> 00:13:04.790\nLet's see, three, what else do we do?\n\n246\n00:13:04.790 --> 00:13:07.560\nJustin, what else do we\nlike to do with users?\n\n247\n00:13:07.560 --> 00:13:10.110\n&gt;&gt; I would say reset password, right?\n\n248\n00:13:10.110 --> 00:13:11.540\nIf I'm gonna be able to add and\n\n249\n00:13:11.540 --> 00:13:15.320\nremove users, I'm sure someone's gonna,\nhey I forgot my password.\n\n250\n00:13:15.320 --> 00:13:16.260\nYeah, can you reset it for me?\n\n251\n00:13:16.260 --> 00:13:17.080\n&gt;&gt; Yeah, good one, right?\n\n252\n00:13:17.080 --> 00:13:20.490\nA password reset, probably one of\nthe things that most people do.\n\n253\n00:13:20.490 --> 00:13:21.310\nMaybe I'm writing this for\n\n254\n00:13:21.310 --> 00:13:24.210\na help desk, so they can do a lot\nof account management stuff.\n\n255\n00:13:24.210 --> 00:13:26.260\nThey take,\nthey're the first line of defense.\n\n256\n00:13:26.260 --> 00:13:29.200\nSomeone picks up the phone says,\nyeah, I'm locked out of my account.\n\n257\n00:13:29.200 --> 00:13:30.560\nI need to change my password.\n\n258\n00:13:30.560 --> 00:13:31.830\nCan you help me with that?\n\n259\n00:13:31.830 --> 00:13:35.046\nThey fire off this script and\nthey're able to do that.\n\n260\n00:13:35.046 --> 00:13:40.321\nAll right, so that's a good one,\nreset password, reset password.\n\n261\n00:13:40.321 --> 00:13:43.350\nBut yeah, password, that sounds enough.\n\n262\n00:13:43.350 --> 00:13:45.610\nI think it's enough detail there for that.\n\n263\n00:13:45.610 --> 00:13:47.380\nI mentioned locking out accounts, right?\n\n264\n00:13:48.530 --> 00:13:50.140\nMan, users, gotta love them.\n\n265\n00:13:50.140 --> 00:13:54.090\nBecause they love to just bang away at\na password that they have typed in wrong\n\n266\n00:13:54.090 --> 00:13:54.900\na bazillion times.\n\n267\n00:13:54.900 --> 00:13:58.230\nJustin's over there wiping his hands over\nthe keyboard going, there's no password.\n\n268\n00:13:59.594 --> 00:14:01.470\n&gt;&gt; Yeah, right.\n\n269\n00:14:01.470 --> 00:14:06.770\n&gt;&gt; And sadly, sometimes it's just,\nI've got caps lock on.\n\n270\n00:14:06.770 --> 00:14:10.190\nAnd then, well you're locked out now,\nso it doesn't really matter.\n\n271\n00:14:10.190 --> 00:14:13.500\nYeah, if you go to password policy\nin effect that says that they've\n\n272\n00:14:13.500 --> 00:14:15.480\nattempted six unsuccessful passwords.\n\n273\n00:14:15.480 --> 00:14:18.760\nAnd then locked the account on\nthe seventh unsuccessful attempt,\n\n274\n00:14:18.760 --> 00:14:19.780\nthey're gonna have to call someone.\n\n275\n00:14:19.780 --> 00:14:21.260\nThey're not gonna be able\nto unlock themselves,\n\n276\n00:14:21.260 --> 00:14:23.260\nthat doesn't make sense, right?\n\n277\n00:14:23.260 --> 00:14:26.990\nOtherwise, a bad actor would be\nable to do the exact same thing.\n\n278\n00:14:26.990 --> 00:14:28.817\nSo we'll put that in here.\n\n279\n00:14:28.817 --> 00:14:35.232\nThey'll have to call a help desk for\nsupport, bing,\n\n280\n00:14:35.232 --> 00:14:40.521\nand we'll say Lock/Unlock User Account.\n\n281\n00:14:40.521 --> 00:14:43.076\nCannot type, there we go.\n\n282\n00:14:43.076 --> 00:14:45.670\nYeah, what else do we need\nto do from time to time?\n\n283\n00:14:46.860 --> 00:14:49.220\nI've got one,\nI've worked help desks plenty of times.\n\n284\n00:14:49.220 --> 00:14:51.180\nI worked in systems administrator,\n\n285\n00:14:51.180 --> 00:14:53.350\nwhere you're working with a lot\nof user account modification.\n\n286\n00:14:54.800 --> 00:14:58.000\nPeople get married, right,\nand their names change, and\n\n287\n00:14:58.000 --> 00:15:00.900\nthey want to reflect that\nchange in the system.\n\n288\n00:15:00.900 --> 00:15:06.460\nYeah, I was Ann Smith and now\nI'm Ann Jones, and I like being Ann Jones.\n\n289\n00:15:06.460 --> 00:15:09.770\nI wanna be Ann Jones, I'm no longer\nAnn Smith or hyphenated my name, or\n\n290\n00:15:09.770 --> 00:15:11.670\nI've changed my name legally.\n\n291\n00:15:11.670 --> 00:15:17.490\nAnd I want to reflect that change in\nthe system, cuz that's who I am now.\n\n292\n00:15:17.490 --> 00:15:21.860\nAnd I have the right to do that, and\nit should be as easy for us to do.\n\n293\n00:15:21.860 --> 00:15:24.051\nAnd it's easy enough for\nus to add them in our function, so\n\n294\n00:15:24.051 --> 00:15:25.457\nI think that's another good thing.\n\n295\n00:15:25.457 --> 00:15:28.895\nWe probably don't do that a lot,\nbut you do it, right?\n\n296\n00:15:28.895 --> 00:15:32.511\nIt's something you will have to do, so\n\n297\n00:15:32.511 --> 00:15:38.010\nI'll put that in there,\nchange username, account name.\n\n298\n00:15:38.010 --> 00:15:40.792\nI'll say account name cuz account name\ntypically changes a whole lot more,\n\n299\n00:15:40.792 --> 00:15:43.180\nusername's good.\n\n300\n00:15:43.180 --> 00:15:44.000\nSee how we go back and\n\n301\n00:15:44.000 --> 00:15:49.320\nforth, you start thinking about\nwhat's the better way to angle this?\n\n302\n00:15:49.320 --> 00:15:52.100\nI'm gonna stick with username here,\njust to make it easy.\n\n303\n00:15:52.100 --> 00:15:55.643\nBut you could continue on, give it more\nlogic, give it more functionality.\n\n304\n00:15:55.643 --> 00:15:58.847\nAnd that's the great thing about\ndoing it modularly like this and\n\n305\n00:15:58.847 --> 00:16:00.078\nusing those functions.\n\n306\n00:16:00.078 --> 00:16:03.252\nAll right, Justin,\nI think we've got enough.\n\n307\n00:16:03.252 --> 00:16:05.422\nOtherwise this thing will\ngrow to gargantuan size and\n\n308\n00:16:05.422 --> 00:16:06.489\nwe'll never get it done.\n\n309\n00:16:06.489 --> 00:16:11.020\n&gt;&gt; And that's something that you've\njust seen, Daniel says this is it.\n\n310\n00:16:11.020 --> 00:16:13.350\nThis is what I'm gonna go for\nmy first generation.\n\n311\n00:16:13.350 --> 00:16:15.470\nIs this all that we could\npossibly do with a user?\n\n312\n00:16:15.470 --> 00:16:18.370\nNo, but I would definitely not attack\n\n313\n00:16:18.370 --> 00:16:20.980\neverything that we could possibly\ndo with a user initially.\n\n314\n00:16:20.980 --> 00:16:22.654\nWhat are the most common ones?\n\n315\n00:16:22.654 --> 00:16:24.847\nAll right,\nI think these are fairly common.\n\n316\n00:16:24.847 --> 00:16:29.005\nChanging username,\nthat's something that I've personally,\n\n317\n00:16:29.005 --> 00:16:33.300\nI haven't gotten married,\nI haven't hyphenated my name.\n\n318\n00:16:33.300 --> 00:16:36.906\nI just really don't, I wanna change\nthis username to more accurately\n\n319\n00:16:36.906 --> 00:16:38.750\nreflect where I am in [LAUGH] my life.\n\n320\n00:16:38.750 --> 00:16:42.670\nMaybe your username was created when\nyou were in a dark, broody period or\n\n321\n00:16:42.670 --> 00:16:44.030\nsomething like that.\n\n322\n00:16:44.030 --> 00:16:45.460\nSo stick with these options,\n\n323\n00:16:45.460 --> 00:16:49.730\nbut modifying what group they're in and\nthings like that.\n\n324\n00:16:49.730 --> 00:16:51.795\nThose are definitely things\nyou can come back and add, but\n\n325\n00:16:51.795 --> 00:16:53.158\nI think this is a good starting point.\n\n326\n00:16:53.158 --> 00:16:54.910\n&gt;&gt; Yeah me too.\n\n327\n00:16:54.910 --> 00:16:57.800\nAgain, I don't want us to bite off\nmore than we can chew at this point.\n\n328\n00:16:57.800 --> 00:17:02.250\nOtherwise, this thing is going to be,\nit's gonna be a robust program, but\n\n329\n00:17:02.250 --> 00:17:03.890\nwe'll never get it done.\n\n330\n00:17:03.890 --> 00:17:06.592\nEspecially in our little series\nwe're trying to do here.\n\n331\n00:17:06.592 --> 00:17:07.770\nSo I think we'll stick here.\n\n332\n00:17:07.770 --> 00:17:10.440\nI also wanna add one more option though.\n\n333\n00:17:10.440 --> 00:17:12.297\nAnd that is going to be\nthe exit the program.\n\n334\n00:17:12.297 --> 00:17:15.480\nI always love to add that to\nmy users to go, you know what?\n\n335\n00:17:15.480 --> 00:17:17.450\nI just wanna back out of this whole thing.\n\n336\n00:17:17.450 --> 00:17:22.175\nForget what we've done, and\nmove on with our lives.\n\n337\n00:17:22.175 --> 00:17:23.790\nSo I always like to add\nthat functionality.\n\n338\n00:17:23.790 --> 00:17:25.900\nSo I'm gonna add an X.\n\n339\n00:17:25.900 --> 00:17:30.910\nI am going to separate it from the top\nlists, because I'm using numbers\n\n340\n00:17:30.910 --> 00:17:33.020\nto give you options here, and\nthis is gonna be a letter.\n\n341\n00:17:33.020 --> 00:17:38.420\nAnd I'm gonna use the letter X as exit,\ncuz I think that's intuitive.\n\n342\n00:17:38.420 --> 00:17:40.540\nI could go with option 6, that's fine.\n\n343\n00:17:40.540 --> 00:17:43.620\nYou can do that too,\nyou can make it say bubblegum.\n\n344\n00:17:43.620 --> 00:17:45.830\nYou type in bubblegum and\nit exits the program.\n\n345\n00:17:45.830 --> 00:17:46.990\nStrange.\n\n346\n00:17:46.990 --> 00:17:50.880\nDoesn't seem very intuitive to me,\nbut it is on the table as an option.\n\n347\n00:17:50.880 --> 00:17:54.280\nSo, I'm gonna throw an X on here.\n\n348\n00:17:54.280 --> 00:17:59.280\nAnd say exit program, like that.\n\n349\n00:17:59.280 --> 00:18:00.740\nSo now they know what's gonna happen.\n\n350\n00:18:01.780 --> 00:18:07.160\nAt this point I'm gonna add a little bit\nmore of, I'm gonna put a space there.\n\n351\n00:18:07.160 --> 00:18:10.540\nAgain, thinking of it from the graphical\nperspective of how it's going to be\n\n352\n00:18:10.540 --> 00:18:14.360\npresented and digested by my end user,\n\n353\n00:18:14.360 --> 00:18:19.860\nI think giving some spaces in certain\nstrategic areas helps with that flow.\n\n354\n00:18:19.860 --> 00:18:22.950\nYou'll notice there's a space\nbetween 1 through 5 and X.\n\n355\n00:18:22.950 --> 00:18:27.630\nI'm thinking now, well this isn't really\none of my options to do something\n\n356\n00:18:27.630 --> 00:18:29.620\nother than just get out of the program,\nright?\n\n357\n00:18:29.620 --> 00:18:34.350\nSo you'll notice that I do that with those\ntypes of options, I separate them out.\n\n358\n00:18:34.350 --> 00:18:37.980\nAll right, and\nthen I think the menu portion is done.\n\n359\n00:18:37.980 --> 00:18:40.700\nThe graphical representation,\nI think, this looks good.\n\n360\n00:18:40.700 --> 00:18:45.890\nWhen I fire this off, it should look nice\nto my user, and I can of course test that.\n\n361\n00:18:45.890 --> 00:18:48.735\nJust CTRL+O CTRL+X, and\n\n362\n00:18:48.735 --> 00:18:54.673\nthen ./ oops sudo account Manager,\naccount manager,\n\n363\n00:18:54.673 --> 00:18:59.760\nhelps if I do this to dot SH,\nask for my password.\n\n364\n00:19:02.370 --> 00:19:06.290\nThere we go, looks nice,\nI don't see any typos.\n\n365\n00:19:06.290 --> 00:19:11.900\nEverything seems very well laid out, I\nlike what I see and I'm off to the races.\n\n366\n00:19:11.900 --> 00:19:14.540\nNow I can continue from\nhere factoring out.\n\n367\n00:19:14.540 --> 00:19:15.290\nLet's jump back in.\n\n368\n00:19:15.290 --> 00:19:20.312\nWe'll say nano acct.mgr.2.\n\n369\n00:19:20.312 --> 00:19:24.320\nNow that I have something\nthat a user would look at.\n\n370\n00:19:24.320 --> 00:19:29.410\nAnd be able to make, well,\nI wanna add or remove users.\n\n371\n00:19:29.410 --> 00:19:31.570\nI want to lock or unlock.\n\n372\n00:19:31.570 --> 00:19:32.520\nThat kind of thing.\n\n373\n00:19:32.520 --> 00:19:35.130\nI need to give to be able to let\nthe program know that that's what\n\n374\n00:19:35.130 --> 00:19:35.707\nthey wanna do.\n\n375\n00:19:35.707 --> 00:19:39.200\nSo, we're gonna use our\nread abilities to do that.\n\n376\n00:19:39.200 --> 00:19:42.880\nSo, I'll drop here,\ngive myself a little space and\n\n377\n00:19:42.880 --> 00:19:47.540\nI will say read -p cuz remember\nthat keeps it in line.\n\n378\n00:19:47.540 --> 00:19:49.930\nI don't need an echo statement\nto read the echo statement.\n\n379\n00:19:49.930 --> 00:19:53.810\nI can just say right here on one line and\nmove on.\n\n380\n00:19:53.810 --> 00:19:59.952\nI'll say please enter\n\n381\n00:19:59.952 --> 00:20:07.392\nthe number of your choice.\n\n382\n00:20:07.392 --> 00:20:11.560\nAll right, so please make a choice,\nplease enter the number you wish to do,\n\n383\n00:20:11.560 --> 00:20:14.760\nplease enter the function you wish to,\nwhatever.\n\n384\n00:20:14.760 --> 00:20:17.490\nAll right, so here I'm letting you know,\nuse the numbers.\n\n385\n00:20:17.490 --> 00:20:18.760\nThat's what we want you to do.\n\n386\n00:20:18.760 --> 00:20:21.060\nThe numbers are there for the choices.\n\n387\n00:20:21.060 --> 00:20:24.610\nAnd whatever choices you would like\nto make, make that choice here.\n\n388\n00:20:24.610 --> 00:20:28.020\nClose it off with this and then,\nof course I have to give it a variable.\n\n389\n00:20:28.020 --> 00:20:31.740\nWhen I create these variables, when I'm\nreading in options that people are making\n\n390\n00:20:31.740 --> 00:20:36.000\nor choices, I typically do something like,\nwell I'm in the main menu function, so\n\n391\n00:20:36.000 --> 00:20:41.680\nI'm gonna say, main menu choice or\nmain menu option, whatever I like, right.\n\n392\n00:20:41.680 --> 00:20:46.440\nAnd in my mind, I'm gonna keep that theme\nthroughout the entirety of the program.\n\n393\n00:20:46.440 --> 00:20:51.960\nIf I make another choice, it's gonna\nbe based off of some function and\n\n394\n00:20:51.960 --> 00:20:57.090\nI'm gonna wanna label my\nvariables respectively.\n\n395\n00:20:57.090 --> 00:21:02.557\nOkay, so\nhere I'll just call it main_menu_opt,\n\n396\n00:21:02.557 --> 00:21:05.240\nfor option, okay?\n\n397\n00:21:05.240 --> 00:21:08.732\nSo now I'm taking that in,\nthe user has made that choice.\n\n398\n00:21:08.732 --> 00:21:13.571\nThey're gonna click 1, 2, 3, 4, 5 or X,\nso now I have to create the logic that\n\n399\n00:21:13.571 --> 00:21:16.940\ncan handle that input and\ndo something with it.\n\n400\n00:21:16.940 --> 00:21:17.990\nThat's where we're at.\n\n401\n00:21:17.990 --> 00:21:23.590\nSo really the real meats\nof what's going on so far.\n\n402\n00:21:23.590 --> 00:21:27.760\nSo I'm gonna use a case statement to do\nthat, because cases are great for menus.\n\n403\n00:21:27.760 --> 00:21:30.985\nSo could use an if then if you like,\nor if else then, else if then,\n\n404\n00:21:30.985 --> 00:21:31.993\nthat kind of stuff.\n\n405\n00:21:31.993 --> 00:21:34.840\nDo go for it if that's what you're into.\n\n406\n00:21:34.840 --> 00:21:40.490\nI think case for menu driven things,\njust seems to flow a whole lot better.\n\n407\n00:21:40.490 --> 00:21:43.510\nNot a ton of logic going on with it.\n\n408\n00:21:43.510 --> 00:21:47.020\nJust, if you make this option do this,\nif you make this option, do that.\n\n409\n00:21:47.020 --> 00:21:51.160\nSo if seems a bit more\nrobust than necessary, okay?\n\n410\n00:21:51.160 --> 00:21:53.514\nSo I stick with case statements on this.\n\n411\n00:21:53.514 --> 00:21:54.031\nSo let's do that.\n\n412\n00:21:54.031 --> 00:21:58.015\nI will say case\n\n413\n00:21:58.015 --> 00:22:04.988\n$main_menu_opt in.\n\n414\n00:22:04.988 --> 00:22:10.460\nAnd then what do I expect my user\nto return, 1, 2, 3, 4, 5, or X?\n\n415\n00:22:10.460 --> 00:22:11.900\nOkay, so I gotta put that in.\n\n416\n00:22:11.900 --> 00:22:13.670\nI like to just jump right in and\nflush it out.\n\n417\n00:22:13.670 --> 00:22:19.180\nSo I'll say 1, 2 and\n\n418\n00:22:19.180 --> 00:22:23.536\nthen look for 3.\n\n419\n00:22:23.536 --> 00:22:26.010\nTab 4.\nTab 5.\n\n420\n00:22:26.010 --> 00:22:29.482\nAnd then Tab x.\n\n421\n00:22:29.482 --> 00:22:33.834\nNow some people might do,\nthey'll see, it's an uppercase X,\n\n422\n00:22:33.834 --> 00:22:35.712\nI'm gonna put uppercase X.\n\n423\n00:22:35.712 --> 00:22:38.820\nOther people wanna say,\nthey're just looking for an x.\n\n424\n00:22:38.820 --> 00:22:39.810\nAnd I hit x.\n\n425\n00:22:39.810 --> 00:22:43.250\nBut remember, Bash sees that\nas two different characters.\n\n426\n00:22:43.250 --> 00:22:47.140\nSo we have to make a, account for that.\n\n427\n00:22:47.140 --> 00:22:50.368\nSo I'll say x or x like so.\n\n428\n00:22:50.368 --> 00:22:53.520\nSo either a lower case x or\nan upper case x, whatever they type.\n\n429\n00:22:53.520 --> 00:22:55.490\nI should catch that, give that.\n\n430\n00:22:55.490 --> 00:22:57.950\nAnd then whatever I don't expect.\n\n431\n00:22:57.950 --> 00:23:01.080\nAs always this star and then that.\n\n432\n00:23:01.080 --> 00:23:02.170\nClose that out with my isac.\n\n433\n00:23:03.670 --> 00:23:04.470\nThat way I don't forget to.\n\n434\n00:23:05.480 --> 00:23:09.200\nNow I can go back in, flash out\nthe logic for each one of those things.\n\n435\n00:23:09.200 --> 00:23:10.220\nJump in at number one.\n\n436\n00:23:10.220 --> 00:23:15.486\nWell we're going to want to,\nnumber one option was add remove users.\n\n437\n00:23:15.486 --> 00:23:16.760\nSo I'm gonna want to do that.\n\n438\n00:23:16.760 --> 00:23:22.890\nSo I'll say add_rem, bing bing.\n\n439\n00:23:22.890 --> 00:23:24.735\nSo it's gonna jump to\na function called add_rem.\n\n440\n00:23:24.735 --> 00:23:27.369\nSo notice we don't have any functions yet.\n\n441\n00:23:27.369 --> 00:23:29.970\nBut I know that's what I wanna do.\n\n442\n00:23:29.970 --> 00:23:34.110\nSo right now I'm starting to think,\nwell what do I wanna call these?\n\n443\n00:23:34.110 --> 00:23:36.490\nWhat do I wanna name these functions?\n\n444\n00:23:36.490 --> 00:23:40.338\nSo that when I make them, they make\nsense to me as the programmer and\n\n445\n00:23:40.338 --> 00:23:42.282\nothers that are looking at them.\n\n446\n00:23:42.282 --> 00:23:43.320\nOkay?\n\n447\n00:23:43.320 --> 00:23:46.310\nSo you got add remove,\n2 is change user default shell.\n\n448\n00:23:46.310 --> 00:23:52.190\n3 reset password, 4 lock unlock user\naccounts and 5 is change user name.\n\n449\n00:23:52.190 --> 00:23:57.022\nSo add_rem, I could put add_rem use or\nadd_rem usr, something like that.\n\n450\n00:23:57.022 --> 00:24:01.332\nadd_rem is good enough for me to\nunderstand what's going on but add remove,\n\n451\n00:24:01.332 --> 00:24:05.511\nit's all in the user context So\nI think that that's enough description for\n\n452\n00:24:05.511 --> 00:24:06.125\nthat one.\n\n453\n00:24:06.125 --> 00:24:12.300\nTwo is what change user default cell,\nso I'll say death shell.\n\n454\n00:24:12.300 --> 00:24:16.430\nForget you're little double\n\n455\n00:24:16.430 --> 00:24:21.340\nsemi colons there that's important for\nyour case states.\n\n456\n00:24:21.340 --> 00:24:23.500\nThe next one will be reset password so\n\n457\n00:24:23.500 --> 00:24:27.230\nI'll say like I like reset pass,\nunderscore pass.\n\n458\n00:24:28.350 --> 00:24:35.159\nBing bing, the next one is locker\nunlocked, so I'll say account lock.\n\n459\n00:24:35.159 --> 00:24:39.710\nA-C-C-T underscore lock, so, and\n\n460\n00:24:39.710 --> 00:24:44.968\nthe fifth option is change username so\nI'll say like ch_name,\n\n461\n00:24:44.968 --> 00:24:48.590\nch_name like that.\n\n462\n00:24:48.590 --> 00:24:50.750\nNow x is an interesting,\n\n463\n00:24:50.750 --> 00:24:54.430\nI understand that people make\nthe wrong option from time to time.\n\n464\n00:24:54.430 --> 00:24:56.130\nThe really, do you wanna exit out?\n\n465\n00:24:57.160 --> 00:25:02.010\nNot really, I can go back in, I didn't\nmean to hit X, I accidentally did.\n\n466\n00:25:02.010 --> 00:25:07.530\nSo with exiting functions, especially if\nyou're exiting the program itself a lot of\n\n467\n00:25:07.530 --> 00:25:13.850\ntimes, I'll put in a nested logic of\ndo you want to do this, yes or no?\n\n468\n00:25:13.850 --> 00:25:16.870\nSo I'm going to add that here as well,\nI think it's just a good practice.\n\n469\n00:25:16.870 --> 00:25:22.800\nSo I'll say Read dash p and I'll just\n\n470\n00:25:22.800 --> 00:25:27.790\nput something like really exit, question\nmark, is that really what you want to do?\n\n471\n00:25:27.790 --> 00:25:34.639\nAnd then just say I'll\ncall this exit wish or\n\n472\n00:25:34.639 --> 00:25:40.470\nexit opt maybe that's better,\n\n473\n00:25:40.470 --> 00:25:45.700\nthat's more consistent with what I've\ndone so far, so we'll say exit_opt.\n\n474\n00:25:45.700 --> 00:25:51.150\nThen over here and you say I guess\nwe got to one of the possibilities,\n\n475\n00:25:51.150 --> 00:25:54.200\nwhy and\nI should probably put that in here.\n\n476\n00:25:54.200 --> 00:25:58.690\nI'll go up here and I'll do this to let\nthem know what to actually answer with.\n\n477\n00:25:58.690 --> 00:26:04.180\nI like to do these things\nwhere you say y\\[n\n\n478\n00:26:04.180 --> 00:26:09.510\nof course I want off the rails there,\ny/n, and I close my bracket out.\n\n479\n00:26:09.510 --> 00:26:12.880\nSo they know, the option you're\nlooking for is y or n for yes or no,\n\n480\n00:26:12.880 --> 00:26:15.380\nI also like to do this.\n\n481\n00:26:15.380 --> 00:26:19.570\nGive it some space and something\nthat maybe looks like a prompt so\n\n482\n00:26:19.570 --> 00:26:23.630\nthey know over here,\nI should probably do that here as well.\n\n483\n00:26:23.630 --> 00:26:25.900\nIt's just a good, again good practice.\n\n484\n00:26:25.900 --> 00:26:29.539\nVisually I'm thinking the graphical\nexperience, what are we gonna do?\n\n485\n00:26:29.539 --> 00:26:32.616\nSo I'm gonna just kind\nof bang over here and\n\n486\n00:26:32.616 --> 00:26:36.914\nI'd like to do something like this,\nthat way they know.\n\n487\n00:26:36.914 --> 00:26:39.662\nThere's my prompt kind of thing,\n\n488\n00:26:39.662 --> 00:26:44.492\njust gives a visual that I like\ndo the same thing here, like so\n\n489\n00:26:44.492 --> 00:26:48.510\nand now they know my options are.\n\n490\n00:26:48.510 --> 00:26:55.930\nYes and no, let's get this worked out here\nso that y or y, catch everything, right?\n\n491\n00:26:55.930 --> 00:27:00.290\nI could go as far as to say or\nyes or yes or\n\n492\n00:27:00.290 --> 00:27:05.680\nyes if I really wanted to be their\nbest can do that, and that's fine.\n\n493\n00:27:05.680 --> 00:27:10.340\nI think for here though we'll just\nstay with y and n, close that out.\n\n494\n00:27:10.340 --> 00:27:17.380\nAnd then we'll say if that then we will\nclear the screen and then we will exit.\n\n495\n00:27:17.380 --> 00:27:22.830\nSo if they want to do that that's great,\nif they don't want to do that hit n or n.\n\n496\n00:27:24.030 --> 00:27:29.610\nThen we will say, we'll just,\nbasically, pull back to the main area,\n\n497\n00:27:29.610 --> 00:27:33.100\nso just call main,\ngive you your double thing, like that.\n\n498\n00:27:33.100 --> 00:27:35.060\nNow we also have the catch all that\nwe've got to worry about, right?\n\n499\n00:27:35.060 --> 00:27:38.190\nWhat if they enter something other\nthan what we expect them to enter,\n\n500\n00:27:38.190 --> 00:27:40.970\nalways make satisfaction for that, okay?\n\n501\n00:27:42.020 --> 00:27:48.400\nSo, we'll pu that in Star, close,\nlike that and say, echo *That.\n\n502\n00:27:48.400 --> 00:27:53.090\nActually, I like to do this,\nthis is a fun little thing.\n\n503\n00:27:53.090 --> 00:27:57.030\nLet's do, it is a little easier to read,\n\n504\n00:27:57.030 --> 00:28:02.076\nread -p *That is not a valid\n\n505\n00:28:02.076 --> 00:28:06.680\noption, it's an i-o.\n\n506\n00:28:06.680 --> 00:28:12.620\nThat and\njust leave the other part a blank or\n\n507\n00:28:12.620 --> 00:28:17.180\nlet them know Press ENTER to continue.\n\n508\n00:28:17.180 --> 00:28:24.420\nYeah, I like to usually put some\nsort of function like this, okay?\n\n509\n00:28:25.800 --> 00:28:32.470\nThat being done I can add some,\nI forgot my double semicolons,\n\n510\n00:28:32.470 --> 00:28:38.080\ndon't forget those and\nthis should be an e sack for this, right?\n\n511\n00:28:38.080 --> 00:28:41.370\nI forgot to open the case statement,\nyou can't forget to do that,\n\n512\n00:28:41.370 --> 00:28:44.260\nI'm over here making, things, and\nthey're not even doing anything.\n\n513\n00:28:44.260 --> 00:28:47.210\n&gt;&gt; Well, I just thought you were trying\nto flesh out the possible options, there.\n\n514\n00:28:47.210 --> 00:28:48.190\nWe've got to come back-\n&gt;&gt; Yeah.\n\n515\n00:28:48.190 --> 00:28:48.860\n&gt;&gt; And put that in.\n\n516\n00:28:48.860 --> 00:28:50.090\n&gt;&gt; Just forgot the line.\n\n517\n00:28:50.090 --> 00:28:51.020\n&gt;&gt; Got you.\n\n518\n00:28:51.020 --> 00:28:53.440\nNow, about that yes, no and then other.\n\n519\n00:28:53.440 --> 00:28:56.300\nTechnically we could just say other,\nright?\n\n520\n00:28:57.460 --> 00:28:58.490\nThat's a decision you make.\n\n521\n00:28:58.490 --> 00:29:02.890\nYou have a yes or a no and\nthe other, a fallback.\n\n522\n00:29:02.890 --> 00:29:06.020\nTo me, I would almost say,\nif you answer yes and\n\n523\n00:29:06.020 --> 00:29:08.890\nthen I'm gonna exit otherwise\nI'm just gonna bring you back.\n\n524\n00:29:08.890 --> 00:29:10.830\nSo I think that's a little bit different.\n\n525\n00:29:10.830 --> 00:29:12.240\n&gt;&gt; I gotcha, I get what you're saying.\n\n526\n00:29:12.240 --> 00:29:16.470\n&gt;&gt; If you say anything else but\nwhy, I'm just gonna go ahead and\n\n527\n00:29:16.470 --> 00:29:17.430\nput you back in there.\n\n528\n00:29:17.430 --> 00:29:20.870\n&gt;&gt; Yeah, that's great inside cuz\nI didn't even think about that,\n\n529\n00:29:20.870 --> 00:29:23.750\nI just always like to\nthat's how my mind works.\n\n530\n00:29:23.750 --> 00:29:26.850\nMy mind works, I have to have a yes,\nI have to have a no, I didn't think of\n\n531\n00:29:26.850 --> 00:29:31.070\nthe logic of, well, anything other\nthan yes is really a no option.\n\n532\n00:29:31.070 --> 00:29:36.410\nSo do this, can take a line, or two, or\nten, or twenty out of your coding and\n\n533\n00:29:36.410 --> 00:29:38.640\nmake the logic a little easier to follow,\nso I like that.\n\n534\n00:29:38.640 --> 00:29:43.030\n&gt;&gt; Which brings up a quick point, I don't'\nknow if it was a, we do need a Case,\n\n535\n00:29:43.030 --> 00:29:43.820\nan ESEC.\n\n536\n00:29:43.820 --> 00:29:44.410\n&gt;&gt; Yeah.\n\n537\n00:29:44.410 --> 00:29:49.050\n&gt;&gt; For the other options,\ndo you mean for that to just stop, or\n\n538\n00:29:49.050 --> 00:29:50.640\ndo we want it to come\nback to the main menu?\n\n539\n00:29:50.640 --> 00:29:53.270\nAre we just going to echo,\nor read the prompt?\n\n540\n00:29:53.270 --> 00:29:55.130\n&gt;&gt; Yes,\nwe are going to go back to the main menu.\n\n541\n00:29:55.130 --> 00:29:57.320\n&gt;&gt; Okay.\n&gt;&gt; Because I just, yea, thank you for\n\n542\n00:29:57.320 --> 00:29:59.420\nreminding me of that,\nbecause that's exactly what I want to do.\n\n543\n00:29:59.420 --> 00:30:00.930\nYou've done the wrong thing,\nit's not a yes or\n\n544\n00:30:00.930 --> 00:30:05.400\nno option, so do that and\nthat's what happens, right?\n\n545\n00:30:05.400 --> 00:30:09.466\nThis is real live, I'm writing this in\nreal time and you will forget things,\n\n546\n00:30:09.466 --> 00:30:12.469\nyou're gonna save that,\nexecute it and it's gonna go,\n\n547\n00:30:12.469 --> 00:30:14.363\nsyntax error on line such and such.\n\n548\n00:30:14.363 --> 00:30:17.698\nYou forgot double quotes,\nyou forgot case statement, expecting case,\n\n549\n00:30:17.698 --> 00:30:20.297\nthings of that nature,\nthat's real-life debugging.\n\n550\n00:30:20.297 --> 00:30:24.941\nYou're not gonna get them perfect out of\nthe gate every single time having an extra\n\n551\n00:30:24.941 --> 00:30:28.700\nset of eyes on things is a great way to\n&gt;&gt; Reduce\n\n552\n00:30:28.700 --> 00:30:31.540\nthe amount of debugging that you\nhave to do or if you are debugging,\n\n553\n00:30:31.540 --> 00:30:34.800\nreduce the time it's gonna\ntake to debug that program.\n\n554\n00:30:34.800 --> 00:30:38.340\nSo always have other people look at your\ncode that understand what's going on so\n\n555\n00:30:38.340 --> 00:30:40.460\nthey can help you with that,\nit's very, very important.\n\n556\n00:30:40.460 --> 00:30:45.056\nSo cool stuff, Justin's caught a lot of\ngreat stuff that I need to go back in and\n\n557\n00:30:45.056 --> 00:30:49.252\ndo Like my case statement, ha ha ha\ngood stuff, it go in here put a line.\n\n558\n00:30:49.252 --> 00:30:53.620\nI will say case, exit apt and\nthat will help and\n\n559\n00:30:53.620 --> 00:30:59.557\nI come back down here,\nI do wanna have my main underscore menu,\n\n560\n00:30:59.557 --> 00:31:04.950\nI believe that is what I called it,\nif I'm not mistaken.\n\n561\n00:31:04.950 --> 00:31:05.610\nYeah, main menu.\n\n562\n00:31:05.610 --> 00:31:09.490\n&gt;&gt; I think you're right, which means we\nprobably need to change that no option,\n\n563\n00:31:09.490 --> 00:31:11.270\ninstead of just main to main menu.\n\n564\n00:31:11.270 --> 00:31:12.515\n&gt;&gt; Thank you sir, yes.\n\n565\n00:31:12.515 --> 00:31:17.560\nMain_menu, again see, these are typical\n\n566\n00:31:17.560 --> 00:31:21.500\nthings that you're gonna run into Always\ngreat to have an extra set of eyes on it,\n\n567\n00:31:21.500 --> 00:31:23.370\nand I appreciate him, and\nespecially when you are on the fly.\n\n568\n00:31:23.370 --> 00:31:26.650\nPeople are watching you,\nyou're bound to make a mistake, you know?\n\n569\n00:31:26.650 --> 00:31:27.900\nIt's just how it works.\n\n570\n00:31:27.900 --> 00:31:30.490\nAll right, so\nwe got main menu, that's good.\n\n571\n00:31:30.490 --> 00:31:34.560\nActually need to go over here, because\notherwise this is not going to work.\n\n572\n00:31:34.560 --> 00:31:39.640\nTake that out there and put it,\nsometimes I like to put them underneath.\n\n573\n00:31:39.640 --> 00:31:43.825\nLike this which is typically\nis which is very fine\n\n574\n00:31:43.825 --> 00:31:46.710\nwon't give you a bother about that.\n\n575\n00:31:46.710 --> 00:31:48.250\nSometimes it's easier to look at and\n\n576\n00:31:48.250 --> 00:31:53.490\nsee this is the last statement in\nthat option and now it's done, okay?\n\n577\n00:31:53.490 --> 00:31:56.726\nSo you should stop processing that so\nI think I got, we got it.\n\n578\n00:31:56.726 --> 00:32:00.958\nYes, clear, and exit, no,\ngo back to the main menu or *,\n\n579\n00:32:00.958 --> 00:32:05.461\nthat was an invalid option, and\ntake you back to the main menu.\n\n580\n00:32:05.461 --> 00:32:07.199\nI like it, that's done.\n\n581\n00:32:07.199 --> 00:32:10.090\nGive myself an esac, like that.\n\n582\n00:32:10.090 --> 00:32:11.890\nInteresting, it's a nested, right?\n\n583\n00:32:11.890 --> 00:32:13.100\nIt's a nested case.\n\n584\n00:32:13.100 --> 00:32:15.171\nYou gotta have a double semicolon for\nthat as well.\n\n585\n00:32:15.171 --> 00:32:18.500\nI'm gonna put that underneath there,\nlike that.\n\n586\n00:32:18.500 --> 00:32:20.405\nAll right, so we've got 1, 2, 3, 4, 5.\n\n587\n00:32:20.405 --> 00:32:23.320\nAnd X is the last thing we have,\nis this catch-all,\n\n588\n00:32:23.320 --> 00:32:27.790\nwhich is basically the same kind of thing,\nlike invalid option stuff, right?\n\n589\n00:32:27.790 --> 00:32:31.750\nSo we'll just say read -p.\n\n590\n00:32:33.370 --> 00:32:38.356\nThat is not a valid, vailid,\n\n591\n00:32:38.356 --> 00:32:41.949\n[LAUGH] valid option.\n\n592\n00:32:41.949 --> 00:32:48.598\nPress ENTER to continue, like so.\n\n593\n00:32:48.598 --> 00:32:49.737\nI think that's good.\n\n594\n00:32:49.737 --> 00:32:54.818\nAnd then that should take\nus back to main_menu.\n\n595\n00:32:54.818 --> 00:32:56.969\nAnd we'll call that a day.\n\n596\n00:32:56.969 --> 00:33:01.334\nI think that's about all we\nneed when it comes to that.\n\n597\n00:33:01.334 --> 00:33:04.027\nWell, I'll close my,\nmy case is already closed out.\n\n598\n00:33:04.027 --> 00:33:06.026\nLook at that,\nI was ahead of the game on that one.\n\n599\n00:33:06.026 --> 00:33:08.150\nJust making sure I'm not\nforgetting anything.\n\n600\n00:33:08.150 --> 00:33:10.318\nI think this is good.\n\n601\n00:33:10.318 --> 00:33:11.993\nThere is something important.\n\n602\n00:33:11.993 --> 00:33:15.120\nAnd one last thing,\nI know we're super stressed on time here.\n\n603\n00:33:15.120 --> 00:33:19.290\nI need to go up and really quickly define\nmy functions that I've declared here in\n\n604\n00:33:19.290 --> 00:33:20.820\nmy case statement, right?\n\n605\n00:33:20.820 --> 00:33:23.211\nJust give it a little placeholder so\nI don't have to come back and\n\n606\n00:33:23.211 --> 00:33:24.822\nactually fill that stuff out, all right?\n\n607\n00:33:24.822 --> 00:33:28.800\nSo I'm gonna jump above main_menu.\n\n608\n00:33:28.800 --> 00:33:33.327\nI don't think, necessarily, you have to,\nas long as it's defined before\n\n609\n00:33:33.327 --> 00:33:37.589\nthe main portion of your Bash function\nis run, your Bash script is run.\n\n610\n00:33:37.589 --> 00:33:38.610\nBut I like to do it that way.\n\n611\n00:33:38.610 --> 00:33:41.888\nI like to have main, and then any\nfunction that it's calling above it, and\n\n612\n00:33:41.888 --> 00:33:43.400\nthen work my way down.\n\n613\n00:33:43.400 --> 00:33:45.259\nSo I see it up here, and\nthen here's where it is.\n\n614\n00:33:45.259 --> 00:33:48.510\nSo I'm kinda doing this three-card Monte,\nshell shuffle thing.\n\n615\n00:33:49.520 --> 00:33:50.307\nSo let's do that.\n\n616\n00:33:50.307 --> 00:33:52.035\nI'm gonna come up to the top.\n\n617\n00:33:52.035 --> 00:33:54.821\nI'm going to come in here.\n\n618\n00:33:54.821 --> 00:33:57.842\nAnd we'll define some functions, and,\n\n619\n00:34:00.028 --> 00:34:03.774\nA little extra loveliness,\nI'll say FUNCTIONS.\n\n620\n00:34:07.892 --> 00:34:09.322\nFinish that out.\n\n621\n00:34:09.322 --> 00:34:12.660\nAnd let's see here.\n\n622\n00:34:12.660 --> 00:34:17.510\nWe had add rem, _rem, like so.\n\n623\n00:34:17.510 --> 00:34:19.010\nThrow that in there.\n\n624\n00:34:19.010 --> 00:34:21.010\nThrow that in there.\n\n625\n00:34:21.010 --> 00:34:23.352\nActually, go back one.\n\n626\n00:34:23.352 --> 00:34:24.570\nGive me a space in between there.\n\n627\n00:34:24.570 --> 00:34:30.467\nI'm just gonna say echo \"Add remove\".\n\n628\n00:34:32.959 --> 00:34:35.800\n&gt;&gt; And you're adding an echo statement in\nthere cuz sometimes Bash gets a little\n\n629\n00:34:35.800 --> 00:34:37.910\nangry when there's an empty\nfunction running, right?\n\n630\n00:34:37.910 --> 00:34:39.470\n&gt;&gt; Yeah, if you say,\nhey, here's a function,\n\n631\n00:34:39.470 --> 00:34:41.760\nand there's nothing in it, it's like, no.\n\n632\n00:34:41.760 --> 00:34:43.508\nNo, no, I don't like that.\n\n633\n00:34:43.508 --> 00:34:44.110\nI don't like that at all.\n\n634\n00:34:44.110 --> 00:34:47.330\n&gt;&gt; [LAUGH]\n&gt;&gt; So either create them and comment them\n\n635\n00:34:47.330 --> 00:34:50.600\nout, or just put an echo statement\nin there so they actually do things.\n\n636\n00:34:50.600 --> 00:34:54.130\nI like to put an echo statement so\nI can actually check to see if, so far,\n\n637\n00:34:54.130 --> 00:34:55.110\neverything is working.\n\n638\n00:34:55.110 --> 00:34:57.411\nSo it should echo that out, all right?\n\n639\n00:34:57.411 --> 00:35:04.327\nThe next one is def shell,\ndef_shell, like so.\n\n640\n00:35:04.327 --> 00:35:10.320\nAnd echo \"Default Shell\".\n\n641\n00:35:10.320 --> 00:35:11.970\nClose that out.\n\n642\n00:35:11.970 --> 00:35:16.799\nNext one is reset_pass, reset_pass.\n\n643\n00:35:20.360 --> 00:35:25.391\nAnd echo \"Reset Pass\".\n\n644\n00:35:27.620 --> 00:35:28.856\nThrow that in there.\n\n645\n00:35:28.856 --> 00:35:32.550\nThen we have account lock, acct_lock.\n\n646\n00:35:35.613 --> 00:35:39.902\nEcho \"Account lock\".\n\n647\n00:35:39.902 --> 00:35:44.372\nClose it, and then change username.\n\n648\n00:35:44.372 --> 00:35:49.892\nSo ch_name, bada bing.\n\n649\n00:35:49.892 --> 00:35:57.142\necho \"Change username\", and use that.\n\n650\n00:35:57.142 --> 00:35:59.000\nClose that out.\n\n651\n00:35:59.000 --> 00:36:02.438\nI think that is all\nthe functions we called.\n\n652\n00:36:02.438 --> 00:36:06.442\nShould be able to go Ctrl+O,\nright down to Ctrl+X.\n\n653\n00:36:06.442 --> 00:36:09.340\nLet's fire it off and\nsee if it actually works, right?\n\n654\n00:36:09.340 --> 00:36:10.470\nHere we go, ladies and gents.\n\n655\n00:36:11.490 --> 00:36:13.262\nThere we go, sudo ./acct.mgr2.\n\n656\n00:36:16.878 --> 00:36:21.775\nAnd it had a syntax error,\napparently, somewhere around line 67,\n\n657\n00:36:21.775 --> 00:36:23.933\nso near my yes or no statement.\n\n658\n00:36:23.933 --> 00:36:24.700\nLet's see what I did.\n\n659\n00:36:24.700 --> 00:36:25.773\nNow, obviously there was\nsome kind of issues there.\n\n660\n00:36:25.773 --> 00:36:28.075\n&gt;&gt; You gotta remove your vertical pipe\nthere cuz you removed those options.\n\n661\n00:36:28.075 --> 00:36:28.772\n&gt;&gt; Thank you, sir.\n\n662\n00:36:28.772 --> 00:36:31.740\nLook, he snatched it\nright out of thin air.\n\n663\n00:36:31.740 --> 00:36:39.152\nSo let's go back in Nano,\nmake that change, And find that extra,\n\n664\n00:36:39.152 --> 00:36:44.110\nright, cuz we were showing all the,\nwell, we could do a, yes, or whatever.\n\n665\n00:36:44.110 --> 00:36:45.920\nLooks a whole lot better now.\n\n666\n00:36:45.920 --> 00:36:48.960\nSave, exit, see if that makes it through.\n\n667\n00:36:48.960 --> 00:36:50.628\nHey, at least we got to the main_menu.\n\n668\n00:36:50.628 --> 00:36:52.260\nThat's working so far.\n\n669\n00:36:52.260 --> 00:36:53.698\nI say 1.\n\n670\n00:36:53.698 --> 00:36:54.686\nIt says Add remove.\n\n671\n00:36:54.686 --> 00:36:55.817\nI fire it off again.\n\n672\n00:36:55.817 --> 00:36:59.090\nI say 2, Default Shell,\nand so on and so forth.\n\n673\n00:36:59.090 --> 00:37:00.410\nEverything is now working.\n\n674\n00:37:00.410 --> 00:37:05.320\nThe main functionality in the menu system\nthat's driving our program is working.\n\n675\n00:37:05.320 --> 00:37:08.360\nIt looks good, and\nI'm ready to continue down that road.\n\n676\n00:37:08.360 --> 00:37:10.200\n&gt;&gt; Well, Daniel,\nI'm definitely excited to come back and\n\n677\n00:37:10.200 --> 00:37:12.400\nsee how we're gonna start\nimplementing those options.\n\n678\n00:37:12.400 --> 00:37:14.170\nI think we're doing add and remove users,\n\n679\n00:37:14.170 --> 00:37:17.750\nso you definitely wanna stay\ntuned to see how that works out.\n\n680\n00:37:17.750 --> 00:37:19.700\nBut we're gonna go ahead and\nwrap this one up.\n\n681\n00:37:19.700 --> 00:37:22.850\nSo signing off for ITProTV,\nI've been your host, Justin Dennison.\n\n682\n00:37:22.850 --> 00:37:23.748\n&gt;&gt; And I'm Daniel Lowrie.\n\n683\n00:37:23.748 --> 00:37:24.746\n&gt;&gt; And we'll see you next time\n\n684\n00:37:24.746 --> 00:37:31.955\n[MUSIC]\n\n685\n00:37:31.955 --> 00:37:35.077\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "238594241"
        },
        {
          "description": "In this episode, Daniel and Justin bolt their first function onto their Account Management utility. Here they demonstrate and explain the who/what/when/where/why/how of exerting control over adding, deleting, and listing user accounts.",
          "length": "1426",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-2-1-user_account_mananger_addremove_users-101617-PGM.00_23_31_13.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-2-1-user_account_mananger_addremove_users-101617-PGM.00_23_31_13.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-2-1-user_account_mananger_addremove_users-101617-PGM.00_23_31_13.Still001-sm.jpg",
          "title": "User Account Manager Add/Remove Users",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:01.278\nWelcome to ITProTV.\n\n2\n00:00:01.278 --> 00:00:02.473\nI'm your host Don Pezet.\n\n3\n00:00:02.473 --> 00:00:05.565\n&gt;&gt; [CROSSTALK]\n\n4\n00:00:05.565 --> 00:00:07.570\n[MUSIC]\n\n5\n00:00:07.570 --> 00:00:11.530\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:11.530 --> 00:00:15.342\n&gt;&gt; Greetings everyone and welcome to\nanother exciting episode of ITProTV.\n\n7\n00:00:15.342 --> 00:00:19.249\nI'm your host Justin Dennison and we are\ncontinuing on in our creating practical\n\n8\n00:00:19.249 --> 00:00:23.271\nscripts, in particular we're gonna be\nlooking at adding and removing users, and\n\n9\n00:00:23.271 --> 00:00:25.926\nhere to help us in that endeavor is Mr.\nDaniel Lowrie.\n\n10\n00:00:25.926 --> 00:00:26.645\nHow you doing today, Daniel?\n\n11\n00:00:26.645 --> 00:00:29.105\n&gt;&gt; I'm doing fantastic my man, Justin.\n\n12\n00:00:29.105 --> 00:00:32.479\nGlad to be back here in the studio\nworking again on some practical\n\n13\n00:00:32.479 --> 00:00:35.803\nscripting that you might wanna\nengage in in your environment.\n\n14\n00:00:35.803 --> 00:00:38.733\nIf you've been watching this\nseries from the beginning,\n\n15\n00:00:38.733 --> 00:00:42.500\nthen our first couple of episodes talked\nabout getting that minimum viable\n\n16\n00:00:42.500 --> 00:00:45.582\nproduct of an account management\nsystem for user accounts.\n\n17\n00:00:45.582 --> 00:00:50.885\nAll right that is the context in which we\nare creating right now inside of Bash.\n\n18\n00:00:50.885 --> 00:00:55.726\nWhat we've done now is we wanna move on to\none of the first pieces of functionality.\n\n19\n00:00:55.726 --> 00:00:59.180\nSo I'm gonna break these off\ninto their own separate shows so\n\n20\n00:00:59.180 --> 00:01:03.107\nthat we can spend all the time that we\nneed to make sure that we hit every\n\n21\n00:01:03.107 --> 00:01:08.003\naspect of it, understand the logic and the\nflow of it, and the output that we expect.\n\n22\n00:01:08.003 --> 00:01:10.851\nHopefully that makes sense\nto everyone out there.\n\n23\n00:01:10.851 --> 00:01:14.280\nIf not, you can send all your\ncomplaints to Justin@ITPro.TV and\n\n24\n00:01:14.280 --> 00:01:15.865\nhe'll enjoy every last one of them.\n\n25\n00:01:15.865 --> 00:01:18.363\n[LAUGH]\n&gt;&gt; Yeah, I'll just sit in there and\n\n26\n00:01:18.363 --> 00:01:20.943\ngo [LAUGH] they're so right about this.\n\n27\n00:01:20.943 --> 00:01:23.160\n[LAUGH]\n&gt;&gt; He's gonna outlook rule and\n\n28\n00:01:23.160 --> 00:01:24.543\nforward it right to me [LAUGH].\n\n29\n00:01:24.543 --> 00:01:25.762\n&gt;&gt; Yeah.\n\n30\n00:01:25.762 --> 00:01:28.702\n&gt;&gt; Anyway, so let's go ahead and\njump back into our script,\n\n31\n00:01:28.702 --> 00:01:32.436\ntake a look at where we left off, and\nsee where we are going to pick back up.\n\n32\n00:01:32.436 --> 00:01:33.876\nSo let's look at my screen.\n\n33\n00:01:33.876 --> 00:01:39.555\nI will open my editor of choice, and call\nmy actual script name, which is acct.hgr2,\n\n34\n00:01:39.555 --> 00:01:44.499\ncuz if you'll remember I've already\ncreated one called account manager.\n\n35\n00:01:44.499 --> 00:01:45.742\nHit Enter.\n\n36\n00:01:45.742 --> 00:01:49.492\nYes, so familiar ground, everything's\nlooking great here, what do we have?\n\n37\n00:01:49.492 --> 00:01:53.897\nWe have all the lovely functions that\nwe're gonna build here right at the top of\n\n38\n00:01:53.897 --> 00:01:57.440\nmy screen, and\nI've commented that out with functions.\n\n39\n00:01:57.440 --> 00:02:00.180\nSo I know that's where they go,\nand then down below that I've\n\n40\n00:02:00.180 --> 00:02:05.580\ngot the main menu function specifically,\nand all the logic that goes behind that.\n\n41\n00:02:05.580 --> 00:02:10.510\nSo if you remember, we're gonna ask\nour user to give us some inputs.\n\n42\n00:02:10.510 --> 00:02:13.458\nDo you wanna add or remove users, do you\nwanna change their default shell, so on,\n\n43\n00:02:13.458 --> 00:02:13.988\nand so forth.\n\n44\n00:02:13.988 --> 00:02:18.827\nWe're gonna specifically focus\nin on that add/remove users,\n\n45\n00:02:18.827 --> 00:02:22.150\nand how do we get that\nfunctionality there?\n\n46\n00:02:22.150 --> 00:02:27.210\nSo when someone fires off account manager,\nand it asks them what option do you want,\n\n47\n00:02:27.210 --> 00:02:32.530\nand they go, I need to add or\nremove a user, and they hit one and enter,\n\n48\n00:02:32.530 --> 00:02:36.960\nit does something that they expect\nit to do in a way they can use.\n\n49\n00:02:36.960 --> 00:02:40.770\nSo let's jump back up into our functions,\nand\n\n50\n00:02:40.770 --> 00:02:45.110\nhere we have our add /remove function\nthat we kind of made a placeholder for,\n\n51\n00:02:45.110 --> 00:02:49.879\nwith an echo statement, and\nall the necessities of that format, and\n\n52\n00:02:49.879 --> 00:02:53.460\nnow we got to start banging away and\nwriting something that\n\n53\n00:02:53.460 --> 00:02:57.950\nactually does something more than an echo\nstatement, cuz that's just a little silly.\n\n54\n00:02:57.950 --> 00:02:59.190\nLet's see here [COUGH].\n\n55\n00:02:59.190 --> 00:03:02.170\nLet's start off with, as I do like to do,\n\n56\n00:03:02.170 --> 00:03:05.700\nI like to clear the screen that way\nI'm not putting menus on top of menus,\n\n57\n00:03:05.700 --> 00:03:07.764\non top of menus, on top of menus,\nand it's scrolling by.\n\n58\n00:03:07.764 --> 00:03:11.670\nIt gets a little cluttery, so I like\nto always add a clear statement there.\n\n59\n00:03:11.670 --> 00:03:13.650\nSo I'll do that here.\n\n60\n00:03:13.650 --> 00:03:18.752\nA little too much backwards, there we go,\nclear it out, and then, let's see here.\n\n61\n00:03:18.752 --> 00:03:20.850\nWhat do we wanna do from there?\n\n62\n00:03:20.850 --> 00:03:23.950\nWell, like we did with the main menu\nsystem, it's probably a good idea to go\n\n63\n00:03:23.950 --> 00:03:28.860\nahead and confront the user with options\nthat they have that are available to them,\n\n64\n00:03:28.860 --> 00:03:33.590\nbecause I like to take, so\nthis is add and remove users.\n\n65\n00:03:33.590 --> 00:03:34.810\nSo in my mind.\n\n66\n00:03:34.810 --> 00:03:36.894\nSo let's get crazy here.\n\n67\n00:03:36.894 --> 00:03:41.266\nLet's start adding our comments based\non what we're gonna do inside of this\n\n68\n00:03:41.266 --> 00:03:41.956\nfunction.\n\n69\n00:03:41.956 --> 00:03:43.295\nSo what do I wanna do?\n\n70\n00:03:43.295 --> 00:03:48.435\nI wanna add user functionality,\n\n71\n00:03:48.435 --> 00:03:51.561\nright, need that.\n\n72\n00:03:51.561 --> 00:03:56.949\nI wanna add remove user functionality,\n\n73\n00:03:56.949 --> 00:04:02.185\nlike that's a difficult word to type.\n\n74\n00:04:02.185 --> 00:04:05.639\nAs I think my way through it, and\nas I was working on it before,\n\n75\n00:04:05.639 --> 00:04:08.363\nI might stop right here,\nright, starting off,\n\n76\n00:04:08.363 --> 00:04:11.762\nbut I wanna give this a more\npolished look, a polished feel.\n\n77\n00:04:11.762 --> 00:04:15.028\nI wanna check whether or\nnot the user already exists.\n\n78\n00:04:15.028 --> 00:04:17.973\nI don't wanna start stomping over things\nand getting a bunch of error messages.\n\n79\n00:04:17.973 --> 00:04:21.615\nI wanna check to see is\nthe user that I'm asking for\n\n80\n00:04:21.615 --> 00:04:24.350\nus to create already in the system.\n\n81\n00:04:24.350 --> 00:04:25.780\nAm I doing work I don't need to do?\n\n82\n00:04:26.890 --> 00:04:27.820\nThat's probably a good idea.\n\n83\n00:04:27.820 --> 00:04:29.266\nSo I'm gonna do that.\n\n84\n00:04:29.266 --> 00:04:33.713\nCheck for user\n\n85\n00:04:33.713 --> 00:04:38.890\npre-existence.\n\n86\n00:04:38.890 --> 00:04:39.425\nI can't spell.\n\n87\n00:04:39.425 --> 00:04:41.245\n&gt;&gt; [LAUGH]\n&gt;&gt; Like that, right?\n\n88\n00:04:41.245 --> 00:04:43.358\nI'm glad these are comments and\nno one will see them.\n\n89\n00:04:43.358 --> 00:04:45.997\n&gt;&gt; [LAUGH]\n&gt;&gt; I think I spelled it correctly,\n\n90\n00:04:45.997 --> 00:04:48.317\ncuz that's a difficult word,\nbut a lot of fun.\n\n91\n00:04:48.317 --> 00:04:51.103\nSo there we go, these are the three\nmain things I wanna do.\n\n92\n00:04:51.103 --> 00:04:54.900\nAlso wanna make sure that I can back\nout here and go back to the main menu.\n\n93\n00:04:54.900 --> 00:04:58.204\nSo if I want the user to be able to go,\nyeah I wanted to add a user, but\n\n94\n00:04:58.204 --> 00:05:01.862\nalso wanted to unlock this account while\nI was here, and not have to refire\n\n95\n00:05:01.862 --> 00:05:05.358\nthe program, that they're always\nable to get back to that main menu.\n\n96\n00:05:05.358 --> 00:05:08.318\nOkay, and I think that's a good thing for\nus, so don't forget that.\n\n97\n00:05:08.318 --> 00:05:14.044\nSo jump to main menu function,\n\n98\n00:05:14.044 --> 00:05:19.118\nand also exit the program.\n\n99\n00:05:19.118 --> 00:05:21.577\nI like them to be able to say,\nhey, you know what, I am done.\n\n100\n00:05:21.577 --> 00:05:23.677\nI don't wanna go back to\nthe main menu just so I can exit,\n\n101\n00:05:23.677 --> 00:05:25.212\nI'll add an exit function here as well.\n\n102\n00:05:25.212 --> 00:05:30.682\nSo I'll say exit program function.\n\n103\n00:05:30.682 --> 00:05:35.499\nAll right, hopefully,\nI think that's all we'll need for this.\n\n104\n00:05:35.499 --> 00:05:38.775\nNow that we have that,\nI can start creating that menu system so\n\n105\n00:05:38.775 --> 00:05:40.670\nthey actually make those choices.\n\n106\n00:05:40.670 --> 00:05:41.260\nSo let's do that.\n\n107\n00:05:42.970 --> 00:05:44.300\nWe'll go underneath our clear,\n\n108\n00:05:44.300 --> 00:05:46.310\nbecause clear is the first\nthing I want on my screen.\n\n109\n00:05:47.860 --> 00:05:49.230\nSo let's create the menu.\n\n110\n00:05:49.230 --> 00:05:52.644\nWe will start with good old\necho statements, as usual.\n\n111\n00:05:52.644 --> 00:05:57.435\nI'm going to say echo \"\n\n112\n00:05:57.435 --> 00:06:02.467\nAdd/Remove Users, and\n\n113\n00:06:02.467 --> 00:06:08.216\nthen give it some niceties or\n\n114\n00:06:08.216 --> 00:06:12.777\nsome visual effects.\n\n115\n00:06:12.777 --> 00:06:18.825\nI will say, 1) Add User,\n2) Remove User, and\n\n116\n00:06:18.825 --> 00:06:25.449\nthree, check users,\nI'll just list the users out and\n\n117\n00:06:25.449 --> 00:06:30.777\nsee what users are available\non the system,\n\n118\n00:06:30.777 --> 00:06:34.960\nso I'll just say 3) List Users.\n\n119\n00:06:37.980 --> 00:06:38.657\nThere we go.\nNow,\n\n120\n00:06:38.657 --> 00:06:41.514\nI do wanna make sure that I\nhave that menu functionality,\n\n121\n00:06:41.514 --> 00:06:45.216\nas well as my exit functionality, so\nI gotta add that as options for them.\n\n122\n00:06:45.216 --> 00:06:51.322\nSo notice I'm also breaking away from\nthe numbering system into a letter system,\n\n123\n00:06:51.322 --> 00:06:52.923\nletter characters.\n\n124\n00:06:52.923 --> 00:06:58.561\nSo I'll say M) Main Menu,\n\n125\n00:06:58.561 --> 00:07:05.678\nand X) Exit Program, like that.\n\n126\n00:07:05.678 --> 00:07:09.484\nA little bit of that,\na little extra space in there for\n\n127\n00:07:09.484 --> 00:07:12.880\npizzaz, and\nthat should be my echo statement.\n\n128\n00:07:12.880 --> 00:07:17.485\nIt looks pretty good to me as all\nthe required elements that we're\n\n129\n00:07:17.485 --> 00:07:20.008\ngonna need as options for our user.\n\n130\n00:07:20.008 --> 00:07:21.530\nI should be squared away there.\n\n131\n00:07:21.530 --> 00:07:24.270\nNow I just need to take that user input,\nI gotta grab that.\n\n132\n00:07:24.270 --> 00:07:27.561\nSo I'm gonna say, read -p and\n\n133\n00:07:27.561 --> 00:07:32.000\nwe'll just say, how do I wanna put this?\n\n134\n00:07:32.000 --> 00:07:33.135\nSo I'll just say like,\nplease choose option?\n\n135\n00:07:36.781 --> 00:07:39.420\nPlease choose number option.\n\n136\n00:07:39.420 --> 00:07:40.586\nI like to throw out option.\n\n137\n00:07:40.586 --> 00:07:47.011\nLike that, and then, give you the space,\na little bit of formatting like that,\n\n138\n00:07:47.011 --> 00:07:51.641\nto let you get that prompt edge\nlooking thing going on, and\n\n139\n00:07:51.641 --> 00:07:55.158\ncall it a day, and\nwe will then take a value.\n\n140\n00:07:55.158 --> 00:07:59.465\nSo since I'm in add/remove, this is gonna\nbe an option that they're picking, I like\n\n141\n00:07:59.465 --> 00:08:03.662\nto stick with my theme of Function option\nthat they're picking from said function.\n\n142\n00:08:03.662 --> 00:08:10.612\nSo I'll say add_ram_opt like that.\n\n143\n00:08:10.612 --> 00:08:13.600\nOur read function is now,\nI think, should be good to go.\n\n144\n00:08:15.520 --> 00:08:18.470\nSo now comes a critical thinking time.\n\n145\n00:08:19.660 --> 00:08:23.343\nJustin, I want you to weigh in on this as\nwell and see if you agree, disagree or\n\n146\n00:08:23.343 --> 00:08:24.660\nhave other opinions on it.\n\n147\n00:08:25.910 --> 00:08:30.961\nWhen I have a menu,\nyou saw in the main menu we used case.\n\n148\n00:08:30.961 --> 00:08:35.770\nYou see case, it's basically,\nhere's a bunch of the options.\n\n149\n00:08:35.770 --> 00:08:40.160\nFor each one of those options\nthat you find do said commands.\n\n150\n00:08:40.160 --> 00:08:43.390\nVery simple, and typically,\nwhen I'm working with a menu function,\n\n151\n00:08:43.390 --> 00:08:45.920\nlike I am right here,\nI'm creating a menu system.\n\n152\n00:08:45.920 --> 00:08:47.850\nI will use case to do that.\n\n153\n00:08:47.850 --> 00:08:48.480\nIn this case,\n\n154\n00:08:48.480 --> 00:08:52.450\nI found that the logic behind what we're\ngetting ready to do is a bit extensive.\n\n155\n00:08:52.450 --> 00:08:58.330\nIt's beyond just you know echo this out,\nor take some input, or do this.\n\n156\n00:08:58.330 --> 00:09:01.910\nIt's gonna take some thinking on my part.\n\n157\n00:09:01.910 --> 00:09:05.390\nAnd I found that I tend to run\nto if statements at that point.\n\n158\n00:09:05.390 --> 00:09:08.847\nBecause to me they flow better.\n\n159\n00:09:08.847 --> 00:09:11.760\nI understand the logic better\nwhen it's more complex.\n\n160\n00:09:11.760 --> 00:09:15.560\nAnd it's just easier for\nme to work through what's going on.\n\n161\n00:09:15.560 --> 00:09:17.190\nDo you find that to be the case as well?\n\n162\n00:09:17.190 --> 00:09:20.330\n&gt;&gt; So within case,\nI almost think of them as a switch.\n\n163\n00:09:20.330 --> 00:09:24.570\nIf I need to make very simple selections\njust almost like a pattern match.\n\n164\n00:09:24.570 --> 00:09:26.660\nIf it is one, do this.\n\n165\n00:09:26.660 --> 00:09:27.670\nIf it is two.\n\n166\n00:09:27.670 --> 00:09:32.025\nNow, with that said,\nif you ever have to have additional,\n\n167\n00:09:32.025 --> 00:09:34.870\nlike if it is one and this is true, right?\n\n168\n00:09:34.870 --> 00:09:39.770\nIf it is one and the user does not exist,\nusing this context, then I will typically\n\n169\n00:09:39.770 --> 00:09:43.800\nmove away from case or, in other\nlanguages, they may be called switches.\n\n170\n00:09:45.320 --> 00:09:50.030\nAdditionally, if you have\na case statement that,\n\n171\n00:09:50.030 --> 00:09:55.310\nif it is one there may be additional\nlogic, it may get a little iffy\n\n172\n00:09:55.310 --> 00:09:59.590\nkeeping things together like,\nhey, if the option is one.\n\n173\n00:09:59.590 --> 00:10:04.238\nWell, that's good, but now I need to\ncheck did they enter a first name and\n\n174\n00:10:04.238 --> 00:10:05.021\na last name.\n\n175\n00:10:05.021 --> 00:10:10.400\nAnd one could argue that case still\nworks and you may find that case works.\n\n176\n00:10:10.400 --> 00:10:14.121\nBut when the logic, as you said,\ngets a little more complex or\n\n177\n00:10:14.121 --> 00:10:17.846\nyou may have to have two conditions,\ncheck two conditions for\n\n178\n00:10:17.846 --> 00:10:21.730\na particular thing to happen,\ncase starts to break down there.\n\n179\n00:10:21.730 --> 00:10:25.500\nAnd then having nested if statements\ninside a case, I think, for\n\n180\n00:10:25.500 --> 00:10:27.210\nme, it just, I don't know.\n\n181\n00:10:27.210 --> 00:10:29.622\nIt's almost like a visceral response for\nme.\n\n182\n00:10:29.622 --> 00:10:33.006\n&gt;&gt; [LAUGH]\n&gt;&gt; It's not that it's wrong.\n\n183\n00:10:33.006 --> 00:10:37.340\nIt's just, it's hard for\nme to visually track, personally.\n\n184\n00:10:37.340 --> 00:10:39.540\n&gt;&gt; Yeah, I like that,\nI feel the exact same way.\n\n185\n00:10:39.540 --> 00:10:45.225\nI find it difficult to follow with my\neyes what the heck is going on here.\n\n186\n00:10:45.225 --> 00:10:47.850\nSo again, this is completely up to you.\n\n187\n00:10:47.850 --> 00:10:49.210\nThis is my style of writing.\n\n188\n00:10:49.210 --> 00:10:51.000\nThat's Justin's style of writing.\n\n189\n00:10:51.000 --> 00:10:54.882\nYou may say I'm a case man all day long,\nI don't like mistaken ifs.\n\n190\n00:10:54.882 --> 00:10:57.220\nGo crazy, that is your prerogative.\n\n191\n00:10:57.220 --> 00:11:00.500\nOr you might be like, you know what, ifs\nare the best things since sliced bread.\n\n192\n00:11:00.500 --> 00:11:04.510\nI ain't no putting no case statements\nin my stuff or you like to salt and\n\n193\n00:11:04.510 --> 00:11:06.080\npepper with both.\n\n194\n00:11:06.080 --> 00:11:07.600\nSo whatever you like is your option.\n\n195\n00:11:07.600 --> 00:11:11.820\nBut here, I am gonna use if statements\nbecause the logic gets a little bit\n\n196\n00:11:11.820 --> 00:11:15.290\nmore than I like to throw inside\nof just a standard casing, okay?\n\n197\n00:11:15.290 --> 00:11:17.190\nSo I'm gonna do some if-ing,\nlet's do that.\n\n198\n00:11:17.190 --> 00:11:19.252\nLet's jump down here.\nI'm gonna say, if,\n\n199\n00:11:19.252 --> 00:11:25.320\nI'm gonna give it a test condition,\nif this is true or not true or whatever.\n\n200\n00:11:26.720 --> 00:11:32.200\nSo I'm gonna open that up with my brace\nand say if I've got this option here,\n\n201\n00:11:32.200 --> 00:11:36.450\nthis add remove option, if it's something,\nthen do something else, okay?\n\n202\n00:11:36.450 --> 00:11:38.180\nSo I've got to give it that condition.\n\n203\n00:11:38.180 --> 00:11:43.640\nSo I say if [ $add_ram_opt like so.\n\n204\n00:11:43.640 --> 00:11:47.830\nIf that equals well,\nwhat are they gonna type in?\n\n205\n00:11:47.830 --> 00:11:50.360\nOne, two, three, so on, right?\n\n206\n00:11:50.360 --> 00:11:56.310\nSo that equals one, so if I say\nequals one like that, close it out.\n\n207\n00:11:57.480 --> 00:12:00.208\nThen do this, then.\n\n208\n00:12:00.208 --> 00:12:04.820\nI started to put my thens on\nthe same line just to save lineage.\n\n209\n00:12:04.820 --> 00:12:06.974\nOtherwise, this code would\nhave been 390 [LAUGH] long.\n\n210\n00:12:06.974 --> 00:12:12.920\nAnywhere you can save yourself\nsome space is always a nice thing.\n\n211\n00:12:12.920 --> 00:12:14.170\nBut then, what are we gonna do?\n\n212\n00:12:14.170 --> 00:12:16.870\nWell, if I hit 1,\nwell I want to add users.\n\n213\n00:12:16.870 --> 00:12:19.350\nSo I have to throw in\nthe logic to that user, right?\n\n214\n00:12:19.350 --> 00:12:20.370\nSo that's what's gonna go there.\n\n215\n00:12:21.900 --> 00:12:24.792\nThen I'm gonna have some elif stuff.\n\n216\n00:12:24.792 --> 00:12:31.870\nSo elif what if it's two, kind of thing,\nelif three, or so on and so forth.\n\n217\n00:12:31.870 --> 00:12:33.990\nWhat if it's M, what if it's X?\n\n218\n00:12:33.990 --> 00:12:37.280\nSo let's go ahead and kinda put that in,\n\n219\n00:12:37.280 --> 00:12:42.990\nget that squared away before we\nreally start jumping into what\n\n220\n00:12:42.990 --> 00:12:48.170\neach one of those things will do if\nthat statement rings true, okay?\n\n221\n00:12:48.170 --> 00:12:48.790\nThat's what I like to do.\n\n222\n00:12:48.790 --> 00:12:52.610\nKind of like build a skeleton\nbefore we put the bones and\n\n223\n00:12:52.610 --> 00:12:54.850\nthe organs and the skin on, okay?\n\n224\n00:12:54.850 --> 00:12:57.050\nThat's my analogy.\n\n225\n00:12:57.050 --> 00:12:59.030\n&gt;&gt; It's almost like building outside in.\n\n226\n00:12:59.030 --> 00:13:00.760\n&gt;&gt; Yeah.\n&gt;&gt; I tend to do this as well.\n\n227\n00:13:00.760 --> 00:13:03.600\nSo I make sure that I have\nall my bases covered.\n\n228\n00:13:03.600 --> 00:13:06.946\nI'm not saying this is\nstrictly the best technique.\n\n229\n00:13:06.946 --> 00:13:12.920\nBut, okay, I've addressed all\npossible cases that I can think of.\n\n230\n00:13:12.920 --> 00:13:16.410\nAnd then maybe some fall back and\nexhaust the fall back like,\n\n231\n00:13:16.410 --> 00:13:20.362\nI don't know how you got that option\nin there but that's what it is.\n\n232\n00:13:20.362 --> 00:13:23.140\n&gt;&gt; Yeah. [LAUGH] &gt;&gt; And we're just gonna,\nwhoops, and then come back and\n\n233\n00:13:23.140 --> 00:13:23.780\nfill those in.\n\n234\n00:13:23.780 --> 00:13:28.490\nAnd then make sure that I can\ntest that the options are what I\n\n235\n00:13:28.490 --> 00:13:32.220\nthink they should be before I start adding\nlogic where I'm like, it's not working.\n\n236\n00:13:32.220 --> 00:13:37.102\nAnd then I find out that I\naccidentally typed n instead of m and\n\n237\n00:13:37.102 --> 00:13:39.414\nI haven't tested the m yet.\n\n238\n00:13:39.414 --> 00:13:41.080\nIt's never, what?\n\n239\n00:13:41.080 --> 00:13:44.000\nIt's not going back to the main menu and\nthat's cuz I mistyped something.\n\n240\n00:13:44.000 --> 00:13:45.245\n&gt;&gt; Yep, and that's exactly what happens.\n\n241\n00:13:45.245 --> 00:13:50.227\nIt's always a good idea to get\nthings progressively working,\n\n242\n00:13:50.227 --> 00:13:56.790\nif that make sense to say, all right,\nI've got the basic idea worked out.\n\n243\n00:13:56.790 --> 00:13:59.388\nNow let's just kind of like what\nwe did with our functions, right?\n\n244\n00:13:59.388 --> 00:14:01.270\nI created placeholders for each function.\n\n245\n00:14:01.270 --> 00:14:04.440\nAnd I added an echo statement to\nthem instead of commenting them out.\n\n246\n00:14:04.440 --> 00:14:05.108\nWhy did I do that?\n\n247\n00:14:05.108 --> 00:14:10.012\nI did that so that I could test to make\nsure that each one of those function calls\n\n248\n00:14:10.012 --> 00:14:13.866\nworks before I start putting in\na bunch of logic behind them.\n\n249\n00:14:13.866 --> 00:14:16.240\nBecause that would be a lot\nof wasted time and effort.\n\n250\n00:14:16.240 --> 00:14:19.391\nNow, I gotta go back and figure out,\nI don't wanna ditch this to the fire,\n\n251\n00:14:19.391 --> 00:14:20.627\nbecause I worked so hard on it.\n\n252\n00:14:20.627 --> 00:14:23.050\nNow, I gotta figure out\nwhy it's not working.\n\n253\n00:14:23.050 --> 00:14:25.110\nMaybe I do, and maybe I don't.\n\n254\n00:14:25.110 --> 00:14:28.650\nBut, why not go ahead and verify that\nthose things are gonna work before you get\n\n255\n00:14:28.650 --> 00:14:31.360\nto it, before you invest too much time and\neffort?\n\n256\n00:14:31.360 --> 00:14:33.770\nSo that's what we're gonna do here\nas well with our if statement.\n\n257\n00:14:33.770 --> 00:14:34.560\nSo that's what's up.\n\n258\n00:14:34.560 --> 00:14:35.670\nSo let's see.\n\n259\n00:14:35.670 --> 00:14:37.330\nLet's add the elif.\n\n260\n00:14:37.330 --> 00:14:43.890\nSo elif, let's see here, add_rem_opt.\n\n261\n00:14:43.890 --> 00:14:48.218\nIf that equals 2, oops.\n\n262\n00:14:48.218 --> 00:14:52.704\nThen we're gonna have that block going on.\n\n263\n00:14:52.704 --> 00:14:54.630\nWe'll have another elif if it's three.\n\n264\n00:14:56.080 --> 00:15:00.675\nSo there we go, add that in, add_rem_opt.\n\n265\n00:15:00.675 --> 00:15:03.280\nAll right, that's all good,\nyeah, that looks good.\n\n266\n00:15:03.280 --> 00:15:07.400\nJust trying to double check my typing cuz\nyou know that I have problems with that.\n\n267\n00:15:08.560 --> 00:15:12.728\nI'm working on a 12-step program\nto get me through it, there we go.\n\n268\n00:15:12.728 --> 00:15:16.634\nWe do another elif for main menu.\n\n269\n00:15:16.634 --> 00:15:25.150\nSo we'll need a $add_rem_opt like that,\nthat equals m.\n\n270\n00:15:25.150 --> 00:15:29.650\nI'll actually put in, cuz this could be\na lower case m or an upper case m, so\n\n271\n00:15:29.650 --> 00:15:30.870\nI'll do this.\n\n272\n00:15:30.870 --> 00:15:34.660\nI'll say mM like that, and close that out.\n\n273\n00:15:34.660 --> 00:15:39.050\nAnd I believe this is becoming,\nI need to go into extended testing.\n\n274\n00:15:39.050 --> 00:15:43.470\nSo I'll have to double bracket\nthese things, just like so.\n\n275\n00:15:45.450 --> 00:15:50.789\nAnd I got mM, if it equals mM,\nthat looks good.\n\n276\n00:15:50.789 --> 00:15:54.117\nSo, just close it off like so,\nand let's say then.\n\n277\n00:15:54.117 --> 00:15:58.948\nAnd then I've got one other one for x, so\n\n278\n00:15:58.948 --> 00:16:02.502\nthey can exit the program, so\n\n279\n00:16:02.502 --> 00:16:07.780\nelif $add_ram_opt = and that will be x.\n\n280\n00:16:07.780 --> 00:16:14.550\nMove that, x or X, either one of those\nwill work for me very finely, thank you.\n\n281\n00:16:14.550 --> 00:16:21.405\nAnd then, then, and then we'll have our,\nI think I wanna do an else statement here.\n\n282\n00:16:21.405 --> 00:16:25.110\nTo just say, else,\nsomething else and then fi.\n\n283\n00:16:25.110 --> 00:16:28.950\nAll right, so that's the basic idea and\n\n284\n00:16:28.950 --> 00:16:31.370\nmaybe I need to make some tweaks here or\nthere.\n\n285\n00:16:31.370 --> 00:16:34.550\nBut we'll figure that out as we go, okay.\n\n286\n00:16:34.550 --> 00:16:38.990\nSo let's just start with making sure\nthat all that stuff is looking good and\n\n287\n00:16:38.990 --> 00:16:41.700\nI think that we do, we've got one for\nExit, we've got one for\n\n288\n00:16:41.700 --> 00:16:45.070\nMenu, we've got for Option 1, 2, and 3.\n\n289\n00:16:45.070 --> 00:16:48.210\nAnd then it's just an else statement\nto catch anything we're not\n\n290\n00:16:48.210 --> 00:16:51.010\nexpecting as input from the user.\n\n291\n00:16:51.010 --> 00:16:53.270\nAnd it'll do something,\nand bada bing, bada boom.\n\n292\n00:16:54.470 --> 00:16:56.210\nAll right, fi is closing it out.\n\n293\n00:16:56.210 --> 00:16:57.860\nNow, we can kinda go in and\n\n294\n00:16:57.860 --> 00:17:01.910\ngive it some testing logic to make sure\nall this is actually working correctly.\n\n295\n00:17:01.910 --> 00:17:05.323\nThat I didn't make any syntactical errors\nor mistakes, typos, that kinda stuff.\n\n296\n00:17:05.323 --> 00:17:08.773\nAll right, so let's do that,\n\n297\n00:17:08.773 --> 00:17:13.682\nlet's go up into the if,\nfirst if then, and\n\n298\n00:17:13.682 --> 00:17:18.355\nthen we'll say echo You chose option 1.\n\n299\n00:17:18.355 --> 00:17:23.365\nSo and then we will go into here, and\n\n300\n00:17:23.365 --> 00:17:28.893\nwe'll say, echo You chose option 2.\n\n301\n00:17:28.893 --> 00:17:32.674\nDo the next one,\n\n302\n00:17:32.674 --> 00:17:38.636\necho You chose option 3.\n\n303\n00:17:38.636 --> 00:17:42.982\nThere's that, and then we'll go here,\n\n304\n00:17:42.982 --> 00:17:46.340\nwe'll say, echo Back to Main.\n\n305\n00:17:46.340 --> 00:17:50.428\nAnd this one will be, actually I\ncan probably actually go ahead and\n\n306\n00:17:50.428 --> 00:17:54.884\nfill this out cuz we're just exiting\nthe program at this point, right.\n\n307\n00:17:54.884 --> 00:18:00.040\nSo, we'll do that, we'll say,\nfor exit we'll just do exit,\n\n308\n00:18:00.040 --> 00:18:04.066\nreally, that's all we need,\nexit, like that.\n\n309\n00:18:04.066 --> 00:18:07.472\nSo if I hit that it should\nexit out of the entire thing,\n\n310\n00:18:07.472 --> 00:18:09.620\ntake me back to my batch prompts.\n\n311\n00:18:09.620 --> 00:18:13.256\nelse, we need to put some stuff in there.\n\n312\n00:18:13.256 --> 00:18:17.972\nWe'll say echo SomeFin,\nsomefing went wrong,\n\n313\n00:18:17.972 --> 00:18:22.237\nright, no, Something, I cannot do this.\n\n314\n00:18:22.237 --> 00:18:23.941\nSomething went wrong.\n\n315\n00:18:23.941 --> 00:18:24.761\n&gt;&gt; Now, Daniel,\n\n316\n00:18:24.761 --> 00:18:27.297\nwhile you're kinda tidying those up-\n&gt;&gt; Yup.\n\n317\n00:18:27.297 --> 00:18:32.137\n&gt;&gt; I can't help but notice, even though\nyou went with essentially the same phrase-\n\n318\n00:18:32.137 --> 00:18:32.681\n&gt;&gt; Yeah.\n\n319\n00:18:32.681 --> 00:18:35.240\n&gt;&gt; There's enough difference there so\nyou can check out,\n\n320\n00:18:35.240 --> 00:18:36.830\nlike where things are executing.\n\n321\n00:18:36.830 --> 00:18:37.400\n&gt;&gt; Yes.\n\n322\n00:18:37.400 --> 00:18:38.996\n&gt;&gt; That's a good tip.\n\n323\n00:18:38.996 --> 00:18:42.130\nSeems like it should be fairly intuitive,\nbut I'm not saying I have-\n\n324\n00:18:42.130 --> 00:18:43.209\n&gt;&gt; [LAUGH]\n\n325\n00:18:43.209 --> 00:18:45.706\n&gt;&gt; But I've accidentally like put the same\n\n326\n00:18:45.706 --> 00:18:50.187\nphrase here, here, here, here, here,\nhere [LAUGH] and then I run it and\n\n327\n00:18:50.187 --> 00:18:54.241\nI was like, I don't know which\none that is so, make them unique.\n\n328\n00:18:54.241 --> 00:18:55.350\n&gt;&gt; Yeah.\n\n329\n00:18:55.350 --> 00:19:00.520\n&gt;&gt; Even if it's like here one or\nyou chose option one, two, three.\n\n330\n00:19:00.520 --> 00:19:04.450\nThat way you can go, okay, it is executing\nin the manner that I thought it was.\n\n331\n00:19:04.450 --> 00:19:07.960\n&gt;&gt; Exactly and when if you did\nmake a mistake, you jump in,\n\n332\n00:19:07.960 --> 00:19:11.610\nyou go, well it was this\nif statement did not work.\n\n333\n00:19:11.610 --> 00:19:15.820\nThat L IF didn't work cuz it\nwas number three, right, or,\n\n334\n00:19:15.820 --> 00:19:17.850\nit did work because it came up.\n\n335\n00:19:17.850 --> 00:19:23.045\nI saw that it said, You chose option 1,\nYou chose option 2, You chose option 3.\n\n336\n00:19:23.045 --> 00:19:26.742\nI know that each one of those are working\nif they don't echo those statements as I\n\n337\n00:19:26.742 --> 00:19:30.455\nwork with them, then something is going\nwrong with that specific area, okay.\n\n338\n00:19:30.455 --> 00:19:34.901\nSo that is a good point that he has\npointed out, which is make them unique so\n\n339\n00:19:34.901 --> 00:19:38.230\nthat you know exactly where\nthings are breaking down.\n\n340\n00:19:38.230 --> 00:19:41.684\nOr at least, a good general idea of\nwhere that is breaking down, okay.\n\n341\n00:19:41.684 --> 00:19:43.288\nAnd which is exactly why I did that.\n\n342\n00:19:43.288 --> 00:19:47.297\nOkay, let's save and\nexit this thing, we will Cntrl+O,\n\n343\n00:19:47.297 --> 00:19:50.675\nCntrl+X, account manager two, let's see.\n\n344\n00:19:50.675 --> 00:19:55.729\nFingers crossed ladies and\ngents, sudo acct-manager,\n\n345\n00:19:55.729 --> 00:20:03.280\ngotta do the dot slash, I haven't done the\nfinagling to make it run without it yet.\n\n346\n00:20:03.280 --> 00:20:05.256\nSo that's 2.mg, here we go,\nask for password.\n\n347\n00:20:08.872 --> 00:20:11.050\nEverything looking good so far.\n\n348\n00:20:11.050 --> 00:20:15.850\nWe're in our main menu,\nI'll hit 1, excellent.\n\n349\n00:20:15.850 --> 00:20:18.680\nDrop me to my Add, Remove Users menu.\n\n350\n00:20:18.680 --> 00:20:22.700\nAnd now, as I make decisions,\nI should get that to work.\n\n351\n00:20:22.700 --> 00:20:26.210\nSo if I say 1, it should,\nYou chose option 1.\n\n352\n00:20:26.210 --> 00:20:27.698\nOption 1 worked, let's fire it again.\n\n353\n00:20:27.698 --> 00:20:32.559\nGo to 1, fire 2, You chose option 2,\neverything's looking good.\n\n354\n00:20:32.559 --> 00:20:35.526\nThat means my logic so\nfar is working out and\n\n355\n00:20:35.526 --> 00:20:39.660\nI would assume out from the rest of it,\nbut I like to test.\n\n356\n00:20:39.660 --> 00:20:44.682\nJust test every option,\nmake sure nothing unforeseen is happening,\n\n357\n00:20:44.682 --> 00:20:47.090\nokay, cuz it does happen a lot.\n\n358\n00:20:47.090 --> 00:20:52.170\nYou think, I've got first two options\nworked, moving on, everything's working.\n\n359\n00:20:52.170 --> 00:20:57.580\nDon't fall into that trap, let's see,\nfire it off, we'll do 1 then we'll do 3.\n\n360\n00:20:57.580 --> 00:21:02.125\nChose option 3,\nwe've got mn exits to go, choose 1,\n\n361\n00:21:02.125 --> 00:21:05.140\nchoose m, I have to use lowercase m.\n\n362\n00:21:06.220 --> 00:21:07.988\nBack to main, perfect, I'm gonna go back,\n\n363\n00:21:07.988 --> 00:21:10.930\nI'm gonna test uppercase M cuz that's\npart of the functionality of that.\n\n364\n00:21:12.340 --> 00:21:18.770\nSo 1 and then capital M, back to main,\nso logic is all working.\n\n365\n00:21:18.770 --> 00:21:20.920\nNo typos, no syntax, and\n\n366\n00:21:20.920 --> 00:21:25.210\nof course the last one we should\nexit the program, so 1 let's use x.\n\n367\n00:21:25.210 --> 00:21:28.580\nExits the program,\none more time with a capital X.\n\n368\n00:21:29.620 --> 00:21:31.070\nAnd it exits the program.\n\n369\n00:21:31.070 --> 00:21:34.055\nSo far, we have the menu system created.\n\n370\n00:21:34.055 --> 00:21:38.170\nWe've got the logical structure\nin place for it, and it works,\n\n371\n00:21:38.170 --> 00:21:39.730\neverything is doing all right.\n\n372\n00:21:39.730 --> 00:21:44.700\nNow we're at a spot where we can go in and\nfill out what that logic should really do.\n\n373\n00:21:44.700 --> 00:21:49.370\nAnd that's pretty extensive and that's why\nI'm using if statements in this portion.\n\n374\n00:21:49.370 --> 00:21:52.000\nIs because that gets a little,\nit's gonna get a little bit out there.\n\n375\n00:21:52.000 --> 00:21:57.330\nWe're gonna do some sed and awk and things\nof that nature for specific purposes.\n\n376\n00:21:57.330 --> 00:22:00.550\nSo but I just wanted to make sure\nthat all the basic functionality of\n\n377\n00:22:00.550 --> 00:22:01.390\nmy script is working.\n\n378\n00:22:01.390 --> 00:22:06.720\nI'm not gonna encounter that as a problem\nbefore I get into more complex issues\n\n379\n00:22:06.720 --> 00:22:09.990\nthat I'm gonna have to debug as I go\nthrough and make sure that it's working.\n\n380\n00:22:09.990 --> 00:22:13.610\nI think, Justin, at this point since\nwe've got a minimal, viable product,\n\n381\n00:22:13.610 --> 00:22:15.850\nthat's a good spot for us to stop.\n\n382\n00:22:15.850 --> 00:22:17.840\nWe'll come back for a part two, and\n\n383\n00:22:17.840 --> 00:22:21.160\nwe'll take a look at that deeper logic\nthat's gonna go in those if statements.\n\n384\n00:22:21.160 --> 00:22:24.524\n&gt;&gt; Well, when you said deeper logic,\nand sed an awk, I was like whew.\n\n385\n00:22:24.524 --> 00:22:26.500\n&gt;&gt; [LAUGH]\n&gt;&gt; Sweaty, I'm getting sweaty.\n\n386\n00:22:26.500 --> 00:22:31.320\nBut I do wanna congratulate, you\ndefinitely take time to test early on and\n\n387\n00:22:31.320 --> 00:22:32.300\ntest often.\n\n388\n00:22:32.300 --> 00:22:34.615\nSeems like you might have been\nburned before in the past.\n\n389\n00:22:34.615 --> 00:22:36.123\n&gt;&gt; [LAUGH]\n&gt;&gt; But if you do not do that or\n\n390\n00:22:36.123 --> 00:22:39.774\nyou're just getting started with this,\nnow it seems kinda weird,\n\n391\n00:22:39.774 --> 00:22:43.690\nlike I'm making sure these very\nminiscule things are working.\n\n392\n00:22:43.690 --> 00:22:46.050\nIf you do,\nit saves you a lot of time in the pass,\n\n393\n00:22:46.050 --> 00:22:50.062\ncuz as you're filling out this logic if\nyou found out that the if statement's not\n\n394\n00:22:50.062 --> 00:22:51.488\nworking by having to trace.\n\n395\n00:22:51.488 --> 00:22:55.954\nWell, I thought that's, you thought that\nwas a sed issue, or an awk issue, or\n\n396\n00:22:55.954 --> 00:22:59.020\na, well, I catted the something,\nwhere's all the,\n\n397\n00:22:59.020 --> 00:23:03.590\nand you find out you're not actually\nmatching the if statement appropriately.\n\n398\n00:23:03.590 --> 00:23:06.670\nSo test early and often,\ndon't write a bunch of code and then go,\n\n399\n00:23:06.670 --> 00:23:10.810\nwell I'm pretty sure it works,\nit is a false sense of security.\n\n400\n00:23:10.810 --> 00:23:13.930\nBut I agree with you, since we have\na little more to do, it's probably\n\n401\n00:23:13.930 --> 00:23:17.700\nbest we come back with a part two before\nwe dive into some more of that logic.\n\n402\n00:23:17.700 --> 00:23:21.850\nI do see, I see it coming together,\nDaniel, so thank you so much.\n\n403\n00:23:21.850 --> 00:23:24.580\nAnd well, those of you out there,\ndefinitely stay tuned for\n\n404\n00:23:24.580 --> 00:23:28.120\nmore creating practical scripts, but for\nnow, we're gonna go ahead and sign off.\n\n405\n00:23:28.120 --> 00:23:29.675\nFor ITPro TV,\nI've been your host Justin Dennison.\n\n406\n00:23:29.675 --> 00:23:30.522\n&gt;&gt; And I'm Daniel Lowrie.\n\n407\n00:23:30.522 --> 00:23:31.787\n&gt;&gt; And we'll see you next time.\n\n408\n00:23:31.787 --> 00:23:39.583\n[MUSIC]\n\n409\n00:23:39.583 --> 00:23:42.083\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "238594685"
        },
        {
          "description": "In this episode, Daniel and Justin bolt their first function onto their Account Management utility. Here they demonstrate and explain the who/what/when/where/why/how of exerting control over adding, deleting, and listing user accounts.",
          "length": "2000",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-2-2-user_account_mananger_addremove_users_pt_2-101717-PGM.00_33_04_12.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-2-2-user_account_mananger_addremove_users_pt_2-101717-PGM.00_33_04_12.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-2-2-user_account_mananger_addremove_users_pt_2-101717-PGM.00_33_04_12.Still001-sm.jpg",
          "title": "User Account Manager Add/Remove Users Pt2",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:01.171\nWelcome to ITProTV.\n\n2\n00:00:01.171 --> 00:00:02.754\nI'm your host Don Pezet.\n\n3\n00:00:02.754 --> 00:00:04.563\n&gt;&gt; [CROSSTALK]\n&gt;&gt; Coming at you live from\n\n4\n00:00:04.563 --> 00:00:05.402\nSan Francisco, California.\n\n5\n00:00:05.402 --> 00:00:08.200\n[MUSIC]\n\n6\n00:00:08.200 --> 00:00:11.677\n&gt;&gt; You're watching ITProTV.\n\n7\n00:00:11.677 --> 00:00:15.060\n&gt;&gt; Greetings, everyone, and welcome to\nanother exciting episode of ITProTV.\n\n8\n00:00:15.060 --> 00:00:17.250\nI'm your host Justin Dennison.\n\n9\n00:00:17.250 --> 00:00:20.792\nAnd while we're coming back at you with\nmore practical scripts, these are near and\n\n10\n00:00:20.792 --> 00:00:24.450\ndear to my heart, and well, we're going to\nbe looking at adding and removing users.\n\n11\n00:00:24.450 --> 00:00:28.790\nAnd in part two, we got started but\nwe still have lots to do.\n\n12\n00:00:28.790 --> 00:00:30.756\nLuckily, we have the man with the plan,\nMr. Daniel Lowrie.\n\n13\n00:00:30.756 --> 00:00:32.110\nHow are you doing today, Daniel?\n\n14\n00:00:32.110 --> 00:00:33.770\n&gt;&gt; I'm doing fantastic, thank you, Justin.\n\n15\n00:00:33.770 --> 00:00:37.670\nGlad to be back here with you because yes,\nwe are writing a practice script.\n\n16\n00:00:37.670 --> 00:00:42.750\nWe are working on our account management\nsystem for users in our Linux systems.\n\n17\n00:00:42.750 --> 00:00:46.320\nAnd of course, they'll be curtailed and\nspecific for your environment,\n\n18\n00:00:46.320 --> 00:00:51.540\nbut I'm giving you a very good foundation\non which you should be able to build upon.\n\n19\n00:00:51.540 --> 00:00:55.385\nWe are, right now,\nstill working on the adding and\n\n20\n00:00:55.385 --> 00:00:58.705\nremoving users portion of that script.\n\n21\n00:00:58.705 --> 00:01:03.285\nRemember this is an interactive type\nscript, we are asking the user or\n\n22\n00:01:03.285 --> 00:01:07.775\nthe system admin,\nas it would be at this point, questions.\n\n23\n00:01:07.775 --> 00:01:11.060\nThose answers then drive our script, okay?\n\n24\n00:01:11.060 --> 00:01:16.120\nSo, when we left off in the previous\nepisode, we had built the skeleton,\n\n25\n00:01:16.120 --> 00:01:20.540\nthe foundation, for\ngetting our Add/Remove script to work.\n\n26\n00:01:20.540 --> 00:01:22.290\nMost of it should already be there.\n\n27\n00:01:22.290 --> 00:01:26.520\nNow, what we have to do is jump back in\nthere and start filling out the logic for\n\n28\n00:01:26.520 --> 00:01:29.850\neach of the things that this portion\nof the script is supposed to do.\n\n29\n00:01:30.850 --> 00:01:34.210\nSo that's to bring you back up\nto speed from where we left off.\n\n30\n00:01:34.210 --> 00:01:35.366\nAnd now where we're headed, okay?\n\n31\n00:01:35.366 --> 00:01:37.870\nThat being said,\nlet's jump back into the computer.\n\n32\n00:01:37.870 --> 00:01:40.671\nTake a look at the code and\nsee where we're at in that thing.\n\n33\n00:01:40.671 --> 00:01:43.850\nSo I will open the text editor Nano and\n\n34\n00:01:43.850 --> 00:01:48.680\nI don't know about you, but\nthat looks a little small.\n\n35\n00:01:48.680 --> 00:01:50.581\n&gt;&gt; I was getting ready to jump in there,\nyou beat me to the punch there.\n\n36\n00:01:50.581 --> 00:01:51.325\n&gt;&gt; Let's do this here.\n\n37\n00:01:51.325 --> 00:01:52.707\n&gt;&gt; I was like,\nDaniel we might need to zoom that in.\n\n38\n00:01:52.707 --> 00:01:54.094\n&gt;&gt; Whoa there, Hoss.\n\n39\n00:01:54.094 --> 00:01:57.401\n&gt;&gt; When I'm off camera\ngoing what does that say?\n\n40\n00:01:57.401 --> 00:02:02.070\n&gt;&gt; Let me rearrange this thing here,\nsee if I can't make it look a little.\n\n41\n00:02:02.070 --> 00:02:03.760\nWell, now now, son.\n\n42\n00:02:03.760 --> 00:02:06.304\n&gt;&gt; And it just snapped to full screen,\nI hate those things.\n\n43\n00:02:06.304 --> 00:02:07.460\n&gt;&gt; There we go, come here.\n\n44\n00:02:07.460 --> 00:02:09.160\n&gt;&gt; It's like a love/hate relationship for\nme.\n\n45\n00:02:09.160 --> 00:02:10.010\n&gt;&gt; It is, it is.\n\n46\n00:02:10.010 --> 00:02:13.660\n&gt;&gt; I'm like, that's nice,\nno it's not what I wanted.\n\n47\n00:02:13.660 --> 00:02:16.050\nAt all, at all,\nyou got the wrong guy there coach.\n\n48\n00:02:16.050 --> 00:02:17.910\n&gt;&gt; All right, there we go,\nlet's clear that out.\n\n49\n00:02:17.910 --> 00:02:19.530\nI think that looks a little bit better.\n\n50\n00:02:19.530 --> 00:02:20.145\nYou guys should see it a whole lot better.\n\n51\n00:02:20.145 --> 00:02:26.090\nSo nano, and it was acct-mgr2.sh,\nthere we go.\n\n52\n00:02:26.090 --> 00:02:30.550\nYes, the code starts wafting\nover me like a wave.\n\n53\n00:02:30.550 --> 00:02:32.920\nI start to remember all that I'm doing.\n\n54\n00:02:34.160 --> 00:02:36.420\nAnd, of course,\nI added myself some notes so\n\n55\n00:02:36.420 --> 00:02:39.950\nwe could remember what it is we're\nsupposed to be doing for this function.\n\n56\n00:02:39.950 --> 00:02:45.300\nSo here we need to add user functionality,\nremove user functionality, check for\n\n57\n00:02:45.300 --> 00:02:51.410\nuser pre-existence, jump to main menu\nfunction and exit program function.\n\n58\n00:02:51.410 --> 00:02:53.740\nOkay, pretty simple,\nlet's see where we've gotten.\n\n59\n00:02:53.740 --> 00:02:58.210\nWe've created the menu,\nwe've created kind of place holders for\n\n60\n00:02:58.210 --> 00:03:03.490\nthe logical things that might occur\nin this portion of the script.\n\n61\n00:03:03.490 --> 00:03:08.360\nSo what we're doing is we're saying you\ncan either add a user, remove a user, or\n\n62\n00:03:08.360 --> 00:03:11.220\nlist all users.\n\n63\n00:03:11.220 --> 00:03:16.332\nSo now you go back in to here,\nand we see that we have if\n\n64\n00:03:16.332 --> 00:03:22.750\nour add rem opt variable equals 1,\n2, or 3, do said logic.\n\n65\n00:03:22.750 --> 00:03:25.494\nAnd we just kind of, like I said,\nput some placeholders in there,\n\n66\n00:03:25.494 --> 00:03:29.270\necho out each of those options, 1 shows\noption, 2 shows option, 3, and or x.\n\n67\n00:03:29.270 --> 00:03:33.885\nAnd we did that to verify that a, the\nlogic is sound, it is working, and now we\n\n68\n00:03:33.885 --> 00:03:38.083\ncan go back in and add real commands and\nnot just some crazy echo state.\n\n69\n00:03:38.083 --> 00:03:44.100\nSo let's do that,\nlet's start with this one, number 1.\n\n70\n00:03:44.100 --> 00:03:47.535\nIf we check number 1,\nif we chose number 1 as our option,\n\n71\n00:03:47.535 --> 00:03:49.442\nthat means we want to add a user.\n\n72\n00:03:49.442 --> 00:03:54.420\nAnd what's interesting about batch\nscripting is, a lot of times you'll have\n\n73\n00:03:54.420 --> 00:03:58.419\nto become very familiar with\nthe tools that you'll wanna use,\n\n74\n00:03:58.419 --> 00:04:02.530\nbecause we're kinda\nborrowing from their power.\n\n75\n00:04:02.530 --> 00:04:07.370\nWe're scripting out the fact\nthat we want go use\n\n76\n00:04:07.370 --> 00:04:10.980\nthe power of a command that's\non our system, usually.\n\n77\n00:04:12.080 --> 00:04:15.718\nWe do have the ability to kind of\ncreate some stuff, but a lot of times,\n\n78\n00:04:15.718 --> 00:04:20.116\nwe're just going well, I want go add\na user so I'm going to use something that.\n\n79\n00:04:20.116 --> 00:04:23.743\nI mean you have that ability in your\nsystem already otherwise it's gonna be\n\n80\n00:04:23.743 --> 00:04:28.170\na little hard time going down the road\nbefore this script gets written.\n\n81\n00:04:28.170 --> 00:04:30.786\nSo that's all I wanna do.\nI just wanna borrow that and say,\n\n82\n00:04:30.786 --> 00:04:35.090\nwell now I wanna use it and\nI wanna put it inside my script.\n\n83\n00:04:35.090 --> 00:04:36.810\nIt's the engine or\n\n84\n00:04:36.810 --> 00:04:40.550\nthe horsepower underneath the hood of\nour lovely car that we're building.\n\n85\n00:04:41.690 --> 00:04:42.900\nSo that's what's happening.\n\n86\n00:04:42.900 --> 00:04:45.240\nSo we're gonna use user add.\n\n87\n00:04:45.240 --> 00:04:49.230\nThere is also the add user command,\nwhich is, guess what, a script,\n\n88\n00:04:49.230 --> 00:04:52.370\nthat was written in Perl for\nadding users to the system.\n\n89\n00:04:52.370 --> 00:04:53.790\nIt is very nice.\n\n90\n00:04:53.790 --> 00:04:56.130\nIt does a lot of great stuff that\nyou would probably wanna do when you\n\n91\n00:04:56.130 --> 00:04:57.170\nadd a user.\n\n92\n00:04:57.170 --> 00:04:59.490\nIt's a whole lot easier to\nwork with than user add.\n\n93\n00:04:59.490 --> 00:05:02.390\nBut user add is the basic\nthat you're probably going to\n\n94\n00:05:02.390 --> 00:05:05.110\nhave regardless of the system\nthat you might be in.\n\n95\n00:05:05.110 --> 00:05:09.800\n&gt;&gt; Correct me if I'm wrong, I think that's\nkinda part of the philosophy, of Bash and\n\n96\n00:05:09.800 --> 00:05:11.240\nthe Linux ecosystem.\n\n97\n00:05:11.240 --> 00:05:16.030\nSmall, very specific tools that are really\ngood at their job that you then\n\n98\n00:05:16.030 --> 00:05:20.372\ncompose into these larger things,\nto get larger scale jobs done.\n\n99\n00:05:20.372 --> 00:05:23.812\nI think of them as almost like Legos or\nbuild a blocks,\n\n100\n00:05:23.812 --> 00:05:26.573\nlike [SOUND], look I have a castle now.\n\n101\n00:05:26.573 --> 00:05:31.517\nBut it all started with that three\nlength Lego that we needed to use in\n\n102\n00:05:31.517 --> 00:05:33.180\norder to set the base.\n\n103\n00:05:33.180 --> 00:05:36.852\n&gt;&gt; Exactly right.\nLike you said, the design, the philosophy,\n\n104\n00:05:36.852 --> 00:05:41.753\nof the Linux system is that we're\ngonna make these very small, but\n\n105\n00:05:41.753 --> 00:05:45.190\nvery effective tools for our systems.\n\n106\n00:05:45.190 --> 00:05:48.824\nAnd the cool thing about that is now we're\nable to build that Lego castle on top of\n\n107\n00:05:48.824 --> 00:05:51.334\nthem because that foundation for\nus is already there.\n\n108\n00:05:51.334 --> 00:05:53.135\nSo that's what we're going to do.\n\n109\n00:05:53.135 --> 00:05:55.355\nLet's go ahead and\nlet's start adding some logic.\n\n110\n00:05:55.355 --> 00:05:57.745\nLet's see here,\nif I'm wanting to add a user,\n\n111\n00:05:57.745 --> 00:06:00.385\nyou got to start asking\nyourself some questions.\n\n112\n00:06:00.385 --> 00:06:04.165\nLike if I'm the N user and I get here and\nI say I want to add user, I hit 1,\n\n113\n00:06:04.165 --> 00:06:06.865\nI hit Enter, what do I expect?\n\n114\n00:06:08.065 --> 00:06:09.695\nWell, I'm going to ask,\n\n115\n00:06:09.695 --> 00:06:12.285\nI need to be able to tell\nthe system what user I want to add.\n\n116\n00:06:13.820 --> 00:06:16.330\nSo I probably wanna add\nthat functionality in.\n\n117\n00:06:16.330 --> 00:06:17.850\nWhat user would you like to add?\n\n118\n00:06:17.850 --> 00:06:19.150\nWhat is the user name?\n\n119\n00:06:20.230 --> 00:06:21.910\nWhat is the specific user name?\n\n120\n00:06:21.910 --> 00:06:24.390\nNow, in Linux systems,\nit's very interesting,\n\n121\n00:06:24.390 --> 00:06:28.380\nthe actual user name has no real bearing.\n\n122\n00:06:28.380 --> 00:06:29.910\nYou can change it to puppy dogs or\n\n123\n00:06:29.910 --> 00:06:33.740\nwhatever, as long as\nthe UID doesn't change.\n\n124\n00:06:33.740 --> 00:06:36.240\nThat's what the system looks at,\nis the UID.\n\n125\n00:06:36.240 --> 00:06:40.500\nSo you can technically go buck wild\nwith the username and have a great time,\n\n126\n00:06:40.500 --> 00:06:44.860\nas long as the, once you create a user\nyou don't really mess with that UID.\n\n127\n00:06:46.020 --> 00:06:49.000\nSo we're just gonna mess with user names,\nI just want to add a user.\n\n128\n00:06:49.000 --> 00:06:52.420\nSo I've got to give it some parameters for\nthat user name.\n\n129\n00:06:52.420 --> 00:06:55.500\nNow if you done any kind of\nsystems administration and\n\n130\n00:06:55.500 --> 00:06:59.860\nyou've worked with adding users, you've\ndone user addition in a Linux system or\n\n131\n00:06:59.860 --> 00:07:01.690\nany other system for that matter.\n\n132\n00:07:01.690 --> 00:07:05.320\nYou understand that well I\nwanna make sure that, a,\n\n133\n00:07:05.320 --> 00:07:08.030\nthat user doesn't already\nexist in the system.\n\n134\n00:07:08.030 --> 00:07:12.589\nWhat if Justin works at my company, I've\ngot Justin Dennison, I've got J Dennison,\n\n135\n00:07:12.589 --> 00:07:16.789\nand his full name is Justin Dennison,\nand then I hire another Justin Dennison.\n\n136\n00:07:16.789 --> 00:07:17.529\nWhat do I do?\n\n137\n00:07:17.529 --> 00:07:19.375\nWell that user's already there, so\n\n138\n00:07:19.375 --> 00:07:22.125\nI might wanna give that new\nuser a different username.\n\n139\n00:07:22.125 --> 00:07:24.300\nAnd I might wanna check to make sure.\n\n140\n00:07:24.300 --> 00:07:28.015\nI'm like man, isn't there a Justin in\npayroll, or HR, or something like that?\n\n141\n00:07:28.015 --> 00:07:29.990\nThat name sounds really familiar.\n\n142\n00:07:29.990 --> 00:07:32.221\nWell by default,\nI should just be checking to make sure,\n\n143\n00:07:32.221 --> 00:07:33.762\nespecially if I have a larger company.\n\n144\n00:07:33.762 --> 00:07:36.120\nMake sense?\n\n145\n00:07:36.120 --> 00:07:38.170\nSo that's probably a good place to start.\n\n146\n00:07:38.170 --> 00:07:42.150\nLet's have the user feed\nus some information\n\n147\n00:07:42.150 --> 00:07:45.190\nabout the new user we\nwanna add to the system.\n\n148\n00:07:46.340 --> 00:07:48.745\n&gt;&gt; And just in case you're thinking,\nthat didn't never happen,\n\n149\n00:07:48.745 --> 00:07:50.359\nI actually know another Justin Dennison.\n\n150\n00:07:50.359 --> 00:07:51.054\n&gt;&gt; There you go.\n\n151\n00:07:51.054 --> 00:07:52.869\n&gt;&gt; So it is a very realistic possibility.\n\n152\n00:07:52.869 --> 00:07:54.265\n&gt;&gt; Yeah,\nit's a very realistic possibility.\n\n153\n00:07:54.265 --> 00:07:55.589\nWhen I worked as system administrator.\n\n154\n00:07:55.589 --> 00:07:57.311\nI had that happen.\n\n155\n00:07:57.311 --> 00:07:59.626\nDoesn't happen often, but does happen.\n\n156\n00:07:59.626 --> 00:08:04.317\nIt's something that I did do throughout\nthe span of my career on a periodical\n\n157\n00:08:04.317 --> 00:08:04.840\nbasis.\n\n158\n00:08:04.840 --> 00:08:06.710\nAnd if I didn't have\nthe functionality built in,\n\n159\n00:08:06.710 --> 00:08:08.410\nyou're gonna get errors back or something.\n\n160\n00:08:08.410 --> 00:08:10.450\nOr maybe you're stomping\nover the other guy.\n\n161\n00:08:10.450 --> 00:08:11.970\nWho knows what's gonna happen?\n\n162\n00:08:11.970 --> 00:08:14.354\nYou wanna make sure that\nthere's not a duplicate and\n\n163\n00:08:14.354 --> 00:08:16.150\nstarting confuse the system, right?\n\n164\n00:08:16.150 --> 00:08:18.880\nOr confuse the people that\nare using the system.\n\n165\n00:08:18.880 --> 00:08:20.098\nI'm logging in as Jay Denison.\n\n166\n00:08:20.098 --> 00:08:22.247\nI'm logging in as Jay Denison,\nwrong, right?\n\n167\n00:08:22.247 --> 00:08:26.477\nIn my systems, when I create users,\n\n168\n00:08:26.477 --> 00:08:33.026\nI like to do username and\nalso a full name for the account,\n\n169\n00:08:33.026 --> 00:08:38.920\nwhich you can add through\nthe user utility, okay?\n\n170\n00:08:38.920 --> 00:08:40.230\nI like to put that there.\n\n171\n00:08:40.230 --> 00:08:42.440\nThat way,\nif I do have two Justin Dennisons,\n\n172\n00:08:42.440 --> 00:08:45.882\nI can make one Justin Dennison and\nthe other Justin B Dennison.\n\n173\n00:08:45.882 --> 00:08:51.850\nOr JB Dennison as his username and\nthe other one as J Dennison.\n\n174\n00:08:51.850 --> 00:08:52.930\nSee what I'm saying?\n\n175\n00:08:52.930 --> 00:08:56.600\nThat way a little bit of separation,\na little bit of uniqueness, so\n\n176\n00:08:56.600 --> 00:08:58.890\nthat we don't get confused.\n\n177\n00:08:58.890 --> 00:09:04.222\nSo let's start taking in\nsome input from the user,\n\n178\n00:09:04.222 --> 00:09:11.056\nand I'll say read-p and\nI'll say 'Enter first name' like so.\n\n179\n00:09:11.056 --> 00:09:15.010\nAnd I'll grab some of the little\nprompty thing I like to do.\n\n180\n00:09:16.030 --> 00:09:21.080\nDo that and then put a space there,\nlittle separation.\n\n181\n00:09:21.080 --> 00:09:27.451\nAnd then we'll say add_ram_ and\n\n182\n00:09:27.451 --> 00:09:31.630\nwe'll call it first.\n\n183\n00:09:33.050 --> 00:09:34.700\nSo we know it's for the first name.\n\n184\n00:09:34.700 --> 00:09:39.710\nOkay, now that's gonna take that\ninformation and hold it in that variable.\n\n185\n00:09:40.910 --> 00:09:42.042\nNow I'm gonna do the last name.\n\n186\n00:09:42.042 --> 00:09:47.205\nRead -p we'll do the same kind\nof thing enter the last name.\n\n187\n00:09:51.784 --> 00:09:58.732\nI'll call it add_rem_last like so.\n\n188\n00:09:58.732 --> 00:10:02.070\nAll right, so now we're able\nto take in the first name and\n\n189\n00:10:02.070 --> 00:10:04.160\nthe last name of the user, and\n\n190\n00:10:04.160 --> 00:10:08.140\nI've separated them out because that's\na good practice to get into when it comes\n\n191\n00:10:08.140 --> 00:10:12.271\ninto names because, names, maybe I'm only\nreferencing them by their first name.\n\n192\n00:10:12.271 --> 00:10:16.139\nOr maybe I'm only referencing by their\nlast name and some other place, right?\n\n193\n00:10:16.139 --> 00:10:21.109\nSo it's easy enough to just make another\nvariable called full name or whatever,\n\n194\n00:10:21.109 --> 00:10:25.680\nand put add rim, first add rim,\nlast, and just smack them together.\n\n195\n00:10:25.680 --> 00:10:29.530\nAnd now you've got a variable\nthat has that full name, okay.\n\n196\n00:10:29.530 --> 00:10:33.406\nI like to chop them up like that just so\nif I need that as individual pieces,\n\n197\n00:10:33.406 --> 00:10:35.047\nit's easier to get at, okay?\n\n198\n00:10:35.047 --> 00:10:39.118\n&gt;&gt; And not only that Daniel,\nyou've removed any ambiguity if you had\n\n199\n00:10:39.118 --> 00:10:42.710\na single prompt that says,\nplease enter your name.\n\n200\n00:10:42.710 --> 00:10:43.530\nHow do I enter my name?\n\n201\n00:10:43.530 --> 00:10:45.740\nIs it last then first with a comma?\n\n202\n00:10:45.740 --> 00:10:51.330\nIs it first, space, last and\nnow I've removed some of that ambiguity.\n\n203\n00:10:51.330 --> 00:10:53.590\nI need your full name\nI'll take care of that.\n\n204\n00:10:53.590 --> 00:10:56.809\nTell me what your first name is,\ntell me what your last name is, and\n\n205\n00:10:56.809 --> 00:11:00.550\nthen you don't have to worry about any\nof the other implementation details.\n\n206\n00:11:00.550 --> 00:11:04.230\n&gt;&gt; Yeah, I can put it together the way\nthat I expect it to be put together.\n\n207\n00:11:04.230 --> 00:11:06.810\nIf I wanted to first finish the last name,\nlast comma first.\n\n208\n00:11:06.810 --> 00:11:09.590\nDo whatever I want, and\nput it in the format I expect.\n\n209\n00:11:09.590 --> 00:11:12.880\nYou just enter in the parameters\nI'm asking you for,\n\n210\n00:11:12.880 --> 00:11:16.180\nwhich has little to no ambiguity, okay?\n\n211\n00:11:16.180 --> 00:11:17.480\nSo I am going to do that.\n\n212\n00:11:17.480 --> 00:11:21.540\nI am going to create a variable that\ndoes take into the account the first and\n\n213\n00:11:21.540 --> 00:11:25.280\nlast name as a way I wanna see it, okay?\n\n214\n00:11:25.280 --> 00:11:27.494\nLet's do that.\nLet's call it,\n\n215\n00:11:27.494 --> 00:11:31.710\nI'll just call it add rem name.\n\n216\n00:11:31.710 --> 00:11:33.390\nJust name so I know that's the full name.\n\n217\n00:11:33.390 --> 00:11:36.704\nSo I'll say, add_rem_name =,\n\n218\n00:11:36.704 --> 00:11:41.350\nand then I'll say the first and\nthe last, right?\n\n219\n00:11:41.350 --> 00:11:46.812\nAnd I'll just bundle them together with\nthis and say _add, _rim, underscore\n\n220\n00:11:46.812 --> 00:11:52.530\nfirst and then I'm going to put a space in\nbetween them because that's how I want it.\n\n221\n00:11:52.530 --> 00:11:55.370\nI want the first space last, okay?\n\n222\n00:11:55.370 --> 00:11:57.930\nI'll run first and then dollar sign\n\n223\n00:11:57.930 --> 00:12:03.110\nadd [INAUDIBLE]\nclose that out like that.\n\n224\n00:12:03.110 --> 00:12:06.640\nSo now I have a variable that\ncontains the entire full name\n\n225\n00:12:06.640 --> 00:12:09.800\nin the format in which I expect it,\nall right?\n\n226\n00:12:09.800 --> 00:12:11.450\nWhat else do we want to do now?\n\n227\n00:12:11.450 --> 00:12:16.570\nNow that we have that full name,\nwhat I wanna do is basically look into\n\n228\n00:12:16.570 --> 00:12:21.890\nthe system and see, does that full\nname exist in my system already?\n\n229\n00:12:23.150 --> 00:12:24.090\nI don't know, we'll have to look.\n\n230\n00:12:24.090 --> 00:12:25.270\nHow are we going to find that out?\n\n231\n00:12:25.270 --> 00:12:26.730\nWell, we've got to know a little\nbit about Linux, right,\n\n232\n00:12:26.730 --> 00:12:29.790\nwe've got to know a little bit about our\nsystem, and how these things are done.\n\n233\n00:12:29.790 --> 00:12:31.560\nWhen you create a new user,\nwhere does that go?\n\n234\n00:12:31.560 --> 00:12:34.930\nWell, that user account gets stored\nin the etsy password file, and\n\n235\n00:12:34.930 --> 00:12:36.640\nall of the particulars\nthat go along with it,\n\n236\n00:12:36.640 --> 00:12:39.170\ndefault shell,\nthings of that nature, right?\n\n237\n00:12:39.170 --> 00:12:40.410\nSo what do I need to do?\n\n238\n00:12:40.410 --> 00:12:45.815\nWell I need to query that file for\nthis username.\n\n239\n00:12:45.815 --> 00:12:47.880\nAnd see if it exists already.\n\n240\n00:12:47.880 --> 00:12:48.619\nThat's a great way to do that.\n\n241\n00:12:48.619 --> 00:12:52.987\nAnd the reason that I went with not\nthe actual username itself, but\n\n242\n00:12:52.987 --> 00:12:57.901\nthe full name of the user, that's being\nimputed is because maybe I've got\n\n243\n00:12:57.901 --> 00:13:03.390\na multiple going on and it's easy,\nmaybe I've got three, maybe I've got four.\n\n244\n00:13:03.390 --> 00:13:08.240\nJohn Smith just happened to love to work\nin my company and I've got John C Smith,\n\n245\n00:13:08.240 --> 00:13:09.750\nJohn B Smith, John A Smith.\n\n246\n00:13:10.930 --> 00:13:11.738\nNow I need a John Z Smith.\n\n247\n00:13:11.738 --> 00:13:16.180\nSo I just wanna take a look at that and\nsee if it exists.\n\n248\n00:13:17.210 --> 00:13:20.560\nSo, I'm gonna add that in here and\nso on and so forth.\n\n249\n00:13:20.560 --> 00:13:21.920\nSo, how do I do that?\n\n250\n00:13:21.920 --> 00:13:28.411\nWell, we've got to basically take\na look at the file itself and\n\n251\n00:13:28.411 --> 00:13:32.346\nglean specific information from it.\n\n252\n00:13:32.346 --> 00:13:37.220\nAnd basically I'm gonna\npull down the file.\n\n253\n00:13:37.220 --> 00:13:43.030\nI'm gonna look through that file for\na specific string of text.\n\n254\n00:13:43.030 --> 00:13:48.610\nAnd then if that matches\nto my known entity then\n\n255\n00:13:48.610 --> 00:13:54.030\nwell I know I've got a match that's not\na good name to use I need to change it up.\n\n256\n00:13:54.030 --> 00:13:57.290\nAnd I might need to do this manually or\ngo back into my script and\n\n257\n00:13:57.290 --> 00:13:59.650\nre factor it to take that into account so\n\n258\n00:13:59.650 --> 00:14:02.450\nwe could add multiple names\nto people with the same name.\n\n259\n00:14:02.450 --> 00:14:05.176\nOkay, so let's take a look\nat what I'm gonna do here.\n\n260\n00:14:05.176 --> 00:14:09.050\nI wanna type this up and then we'll\nkind of go over what's happening.\n\n261\n00:14:09.050 --> 00:14:13.519\nI'm gonna make a variable\nI'm gonna call it add_rem,\n\n262\n00:14:13.519 --> 00:14:18.003\nlike that, and\nI'm gonna call it check, oop, _chk.\n\n263\n00:14:18.003 --> 00:14:20.695\nI'm gonna say that is gonna equal,\n\n264\n00:14:20.695 --> 00:14:24.848\nI'm gonna do some command substitution,\nlike this.\n\n265\n00:14:24.848 --> 00:14:28.050\nAnd say grip.\n\n266\n00:14:28.050 --> 00:14:33.550\nI wanna look for my add/remove\nname inside the SE password file.\n\n267\n00:14:33.550 --> 00:14:34.850\nSo I'm using the grip command.\n\n268\n00:14:34.850 --> 00:14:40.580\nSo grip, and\nlet's see ADDR init ND underscore REM,\n\n269\n00:14:40.580 --> 00:14:43.430\nunderscore, that name?\n\n270\n00:14:43.430 --> 00:14:45.810\nYeah, name that.\n\n271\n00:14:45.810 --> 00:14:47.910\nAnd I'll fire that like this.\n\n272\n00:14:49.330 --> 00:14:53.495\nI will then do etc passwords,\nthat's the file I want.\n\n273\n00:14:53.495 --> 00:14:58.970\netc/passwd, make sure I spell that\ncorrectly, P-A-S-S-W-D, perfect.\n\n274\n00:14:58.970 --> 00:15:01.470\nNow I'm grepping the etc/passwd file for\nthis.\n\n275\n00:15:01.470 --> 00:15:07.060\nBut, the problem is, when I do that, it\ndoes come up with the line if there is one\n\n276\n00:15:07.060 --> 00:15:10.420\nWith that user account in it, but\nthere's a lot of information in there.\n\n277\n00:15:10.420 --> 00:15:13.020\nI just want to see that username,\n\n278\n00:15:13.020 --> 00:15:16.840\nthat user's full name field and\nsee if it exists.\n\n279\n00:15:16.840 --> 00:15:18.800\nSo, what I'm gonna do,\nis I'm gonna use ACK,\n\n280\n00:15:18.800 --> 00:15:21.310\nI'm gonna pipe that into ACK, like so.\n\n281\n00:15:21.310 --> 00:15:25.420\nDo -F, Etsy password is colon.\n\n282\n00:15:25.420 --> 00:15:26.582\nDelimited our separated values,\ncolon separated values.\n\n283\n00:15:26.582 --> 00:15:29.710\nYou use colons to break up the fields.\n\n284\n00:15:29.710 --> 00:15:30.925\nSo I'm gonna change the field to a colon.\n\n285\n00:15:30.925 --> 00:15:34.450\nAnd I'm gonna say France.\n\n286\n00:15:35.770 --> 00:15:39.030\nAnd I need a specific field.\n\n287\n00:15:39.030 --> 00:15:41.100\nAnd if we, let's see.\n\n288\n00:15:41.100 --> 00:15:42.192\nLet me open up another.\n\n289\n00:15:42.192 --> 00:15:48.754\nAnd we'll take a look at it just really\nquickly if I cancel out etc/password.\n\n290\n00:15:48.754 --> 00:15:49.632\nLike that.\nAnd I look, so\n\n291\n00:15:49.632 --> 00:15:51.703\nif we look at my account right here.\n\n292\n00:15:51.703 --> 00:15:56.312\nIf it's broken up by colons But\nonly one, two,\n\n293\n00:15:56.312 --> 00:16:01.265\nthree, four,\nthe fifth field has my full name, so\n\n294\n00:16:01.265 --> 00:16:05.197\nI need to query that fifth field, okay?\n\n295\n00:16:05.197 --> 00:16:07.340\nI'm gonna exit out of here.\n\n296\n00:16:08.620 --> 00:16:12.670\nSo I will say print $5, like that.\n\n297\n00:16:12.670 --> 00:16:20.010\nClose this out, all that and\nnow I think we should be good to go.\n\n298\n00:16:20.010 --> 00:16:23.691\nLet's see, well a lot of times you're\ngoing to be testing what it is you're\n\n299\n00:16:23.691 --> 00:16:26.530\ndoing, just to make sure\neverything is working.\n\n300\n00:16:26.530 --> 00:16:32.990\nSo if I take this string,\nI'm going to copy it, copy.\n\n301\n00:16:32.990 --> 00:16:37.750\nJust to verify my code is working before\nI actually have to save it and run it.\n\n302\n00:16:37.750 --> 00:16:39.070\nI'll just open another terminal.\n\n303\n00:16:39.070 --> 00:16:42.110\nRemember, a lot of this stuff\nis just terminal commands.\n\n304\n00:16:42.110 --> 00:16:43.500\nWe've seen grep before.\n\n305\n00:16:43.500 --> 00:16:44.350\nWe'll get another terminal.\n\n306\n00:16:44.350 --> 00:16:45.146\nWhat am I doing?\n\n307\n00:16:45.146 --> 00:16:48.437\nControl, Alt, T, Shift, plus plus and\n\n308\n00:16:48.437 --> 00:16:52.680\nI will just paste that in there and\nsee what that does.\n\n309\n00:16:54.430 --> 00:16:57.700\nSo it went a little Berserko on me.\n\n310\n00:16:57.700 --> 00:17:02.540\nIt got the first field so\nthis, alt f, changed it.\n\n311\n00:17:03.600 --> 00:17:05.010\nSo I'm grabbing the fifth field.\n\n312\n00:17:05.010 --> 00:17:10.570\nThere's my name right there but\nI've got some of these commas trailing and\n\n313\n00:17:10.570 --> 00:17:13.920\nthose commas are for extra information.\n\n314\n00:17:13.920 --> 00:17:16.160\nOkay, that just haven't been filled out.\n\n315\n00:17:16.160 --> 00:17:21.380\nThey're delimiters, or specific spaces\nwithin sight of that delimited space.\n\n316\n00:17:21.380 --> 00:17:22.550\nSo what can I do?\n\n317\n00:17:22.550 --> 00:17:26.700\nWell, I can use or cut or something\nlike that to kinda take those off.\n\n318\n00:17:26.700 --> 00:17:28.110\nI typically use cut for things like that.\n\n319\n00:17:28.110 --> 00:17:29.640\nJust seems simple.\n\n320\n00:17:29.640 --> 00:17:32.610\nI've used cut a lot, so\nit's just my de facto go to.\n\n321\n00:17:32.610 --> 00:17:34.360\nI could use for this as well.\n\n322\n00:17:34.360 --> 00:17:36.840\n&gt;&gt; No, Daniel,\nthe reason we have all of those printouts,\n\n323\n00:17:36.840 --> 00:17:42.030\neven though should match just on one\nparticular thing, is because the variable\n\n324\n00:17:42.030 --> 00:17:45.040\nwe're using internal to the script\nactually doesn't exist in this session.\n\n325\n00:17:45.040 --> 00:17:47.240\n&gt;&gt; That is actually very correct, yes.\n\n326\n00:17:47.240 --> 00:17:49.680\nYou might be like,\nwhat is all this crazy output?\n\n327\n00:17:49.680 --> 00:17:52.900\nJustin, he's a very smart man, and\nhe knows exactly what's going out.\n\n328\n00:17:52.900 --> 00:17:56.520\nOur variable that we created is\nnot within this terminal, right?\n\n329\n00:17:56.520 --> 00:17:59.590\nSo it's like okay, what's that?\n\n330\n00:17:59.590 --> 00:18:02.250\nSo it's just giving me everything,\nit's seeing it as nothing.\n\n331\n00:18:02.250 --> 00:18:04.710\nSo therefore grep every first field or\n\n332\n00:18:04.710 --> 00:18:07.410\nevery fifth field that\nyou see inside this file.\n\n333\n00:18:07.410 --> 00:18:09.280\nThat's what's happening.\n\n334\n00:18:09.280 --> 00:18:15.030\nSo let's run it again, but this time,\nlet's pipe dash cut and I'll say dash d,\n\n335\n00:18:15.030 --> 00:18:20.690\nand I'll make it commas,\nnot that, commas, there we go.\n\n336\n00:18:20.690 --> 00:18:25.110\nAnd then give me dash f, give me one.\n\n337\n00:18:25.110 --> 00:18:26.550\nSo it should give me the first field only.\n\n338\n00:18:26.550 --> 00:18:28.420\nShould only come back with my name.\n\n339\n00:18:28.420 --> 00:18:30.887\nI'll look for my name instead of this so\nwe won't get all that output.\n\n340\n00:18:37.667 --> 00:18:38.860\nThat way it should look.\n\n341\n00:18:40.140 --> 00:18:41.380\nDoing something stupid with cut.\n\n342\n00:18:41.380 --> 00:18:43.680\nWhat is the problem here?\n\n343\n00:18:43.680 --> 00:18:45.790\ncut -d, ding ding ding.\n\n344\n00:18:47.350 --> 00:18:50.560\nI think that should work.\n\n345\n00:18:50.560 --> 00:18:51.720\nDash F.\n\n346\n00:18:51.720 --> 00:18:52.300\nThat's the problem.\n\n347\n00:18:53.870 --> 00:18:55.375\nI told you,\nI hate these carry on line stuff.\n\n348\n00:18:55.375 --> 00:18:57.410\n[LAUGH] That's why.\n\n349\n00:18:57.410 --> 00:19:00.520\nAlright, so\nnow its looking like I want it to look.\n\n350\n00:19:00.520 --> 00:19:02.150\nI'm just getting that name.\n\n351\n00:19:02.150 --> 00:19:04.490\nSo now I know that that command is valid.\n\n352\n00:19:04.490 --> 00:19:05.900\nIt's good, it's working.\n\n353\n00:19:05.900 --> 00:19:08.760\nI can now throw that in my script,\nso I'm just going to copy and\n\n354\n00:19:08.760 --> 00:19:10.520\npaste the rest of that.\n\n355\n00:19:10.520 --> 00:19:13.540\nCut and copy.\n\n356\n00:19:14.670 --> 00:19:18.386\nExit out of here, go back in here, and\njust add that to the end of the line.\n\n357\n00:19:20.718 --> 00:19:21.349\nThere we go.\n\n358\n00:19:21.349 --> 00:19:26.163\nNow, I can close that out like that,\nand now I've got this add remove\n\n359\n00:19:26.163 --> 00:19:30.230\ncheck to check whether or\nnot this user actually exists and\n\n360\n00:19:30.230 --> 00:19:34.590\nit comes back with only\nthe field that I'm looking for.\n\n361\n00:19:34.590 --> 00:19:39.700\nSo it takes a little finagling, but\nif you play with it you can find exactly\n\n362\n00:19:39.700 --> 00:19:41.890\nthat string then you know\nyou should be good to go.\n\n363\n00:19:41.890 --> 00:19:45.090\nNow I can check to see if\nthe name that I've added\n\n364\n00:19:45.090 --> 00:19:48.180\nis actually inside of my system already.\n\n365\n00:19:48.180 --> 00:19:52.070\nSo now we're gonna do a little\nmore a little more logic, right?\n\n366\n00:19:52.070 --> 00:19:55.500\nIf something, then do this, if something\nelse, then do something else, okay?\n\n367\n00:19:55.500 --> 00:20:02.640\nLet's add that, so\nlet's say if, let's see here.\n\n368\n00:20:02.640 --> 00:20:09.430\nSo if the name that we fed it is on this.\n\n369\n00:20:09.430 --> 00:20:12.050\nSo if we do add and remove check, so\nif add and remove check and add and\n\n370\n00:20:12.050 --> 00:20:15.760\nremove name are equals, then we know that\nthat name exists then we can't use that.\n\n371\n00:20:15.760 --> 00:20:20.010\nIf they're not equals, then we know\nit's a good name that we can use, okay?\n\n372\n00:20:20.010 --> 00:20:22.200\nSo we gotta create that\nconditional object.\n\n373\n00:20:22.200 --> 00:20:27.090\nSo we'll start with making that\nthey don't equal each other.\n\n374\n00:20:29.910 --> 00:20:35.746\nAlright so\nif we'll say $add_ram_name does not equal\n\n375\n00:20:35.746 --> 00:20:44.690\n$add_ram_check like that.\n\n376\n00:20:44.690 --> 00:20:48.540\nAnd then we close that\noff with our bracket so\n\n377\n00:20:48.540 --> 00:20:52.400\nif that, then do something, right.\n\n378\n00:20:52.400 --> 00:20:55.370\nSo I'm going to just tab in a little bit.\n\n379\n00:20:55.370 --> 00:20:56.860\nSo what do we wanna do.\n\n380\n00:20:56.860 --> 00:20:58.980\nIf they're not equal,\nthat means it's good to use, so\n\n381\n00:20:58.980 --> 00:21:04.390\nI wanna let the system user know,\nyou have a valid name that you can use.\n\n382\n00:21:04.390 --> 00:21:05.498\nSo we'll do that.\n\n383\n00:21:05.498 --> 00:21:10.530\nWe'll say, echo,\n\n384\n00:21:10.530 --> 00:21:15.100\nsay, User, and then we'll call\nwhatever it is so that they know that\n\n385\n00:21:15.100 --> 00:21:19.120\nthe thing that they typed in was good and\nwhat it was, there was no mistakes.\n\n386\n00:21:19.120 --> 00:21:22.410\nI always like to reiterate\ninput that they give, and\n\n387\n00:21:22.410 --> 00:21:25.980\nwhenever I can,\ninput that the user gives back out them.\n\n388\n00:21:25.980 --> 00:21:29.270\nIn certain spots just so\nthey can see what they're doing.\n\n389\n00:21:29.270 --> 00:21:31.310\nKeep continually reminding them.\n\n390\n00:21:31.310 --> 00:21:36.480\nCuz maybe they've typed in Faniel Lowrie\naccidentally, and they didn't realize.\n\n391\n00:21:36.480 --> 00:21:37.640\nAnd then of course it didn't find that.\n\n392\n00:21:37.640 --> 00:21:39.080\nThey say hey, that's a good user.\n\n393\n00:21:39.080 --> 00:21:40.090\nYou want to use it?\n\n394\n00:21:40.090 --> 00:21:42.750\nFaniel Lowrie, no, that's not right.\n\n395\n00:21:42.750 --> 00:21:44.364\nSo we want to add some\nof that logic in here.\n\n396\n00:21:44.364 --> 00:21:50.561\nSo let's say add user.\n\n397\n00:21:50.561 --> 00:21:56.890\n$add_rem_name is\n\n398\n00:21:56.890 --> 00:22:01.480\ngood to use, like so and\n\n399\n00:22:01.480 --> 00:22:06.319\nthen we will do a read statement, read-p.\n\n400\n00:22:06.319 --> 00:22:13.720\nWe'll say, I guess what's\nthey thing they'll need next?\n\n401\n00:22:13.720 --> 00:22:15.500\nThey'll need a username at that point.\n\n402\n00:22:15.500 --> 00:22:21.230\nSo now that we know that the name is good,\nnow what do you want the username to be?\n\n403\n00:22:21.230 --> 00:22:23.140\nBecause remember as I told you in Linux,\n\n404\n00:22:23.140 --> 00:22:24.530\nit doesn't really matter\nwhat you call them.\n\n405\n00:22:24.530 --> 00:22:25.670\nBubblegum if you feel like it.\n\n406\n00:22:27.010 --> 00:22:29.490\nTypically, we do have some sort of format,\nso\n\n407\n00:22:29.490 --> 00:22:31.360\nmaybe you have a format for your system.\n\n408\n00:22:31.360 --> 00:22:33.070\nI like first initial, last name.\n\n409\n00:22:33.070 --> 00:22:37.020\nSome people like first, dot,\nlast name kind of thing like that.\n\n410\n00:22:37.020 --> 00:22:38.800\nOr last, comma, first.\n\n411\n00:22:38.800 --> 00:22:40.950\nWhatever it is that you do, that's fine.\n\n412\n00:22:40.950 --> 00:22:42.830\nJust put that format here.\n\n413\n00:22:42.830 --> 00:22:43.670\nOk?\n\n414\n00:22:43.670 --> 00:22:46.800\nAnd if you're that user, you probably know\nwhat that format is because you're not\n\n415\n00:22:46.800 --> 00:22:51.784\ngoing to make your life uneasy by adding\nsome ridiculous hodgepodge of user names.\n\n416\n00:22:51.784 --> 00:22:55.380\nYou're going to say yeah [LAUGH]\nJustin is over there wiping his\n\n417\n00:22:55.380 --> 00:22:56.110\nhand on the keyboard.\n\n418\n00:22:56.110 --> 00:22:56.990\nThere's your username.\n\n419\n00:22:56.990 --> 00:22:57.740\nIt's so much fun, alright?\n\n420\n00:22:57.740 --> 00:22:58.713\nWe don't want to do that.\n\n421\n00:22:58.713 --> 00:23:03.640\nSo I'm going to stick with a standard, our\nstandard here is first inital, last name.\n\n422\n00:23:03.640 --> 00:23:11.350\nSo I will do just enter username for\nwhatever that is.\n\n423\n00:23:11.350 --> 00:23:17.710\nSo add underscore underscore name like so.\n\n424\n00:23:17.710 --> 00:23:22.180\nAnd then we will take that as\nadd underscore rim underscore\n\n425\n00:23:22.180 --> 00:23:24.660\nusername Like that.\n\n426\n00:23:24.660 --> 00:23:28.090\nSo now I'm taking more information,\nwe can continue on with our logic, right?\n\n427\n00:23:29.420 --> 00:23:30.340\nLet's see here.\n\n428\n00:23:30.340 --> 00:23:36.123\nAfter I take that in, we are going\nto want to, well, add that user.\n\n429\n00:23:36.123 --> 00:23:40.124\nSo now we're just going to start pulling\nfrom the horse power of the user add\n\n430\n00:23:40.124 --> 00:23:41.720\ncommand to make that happen.\n\n431\n00:23:41.720 --> 00:23:48.031\nSo what I'm gonna do is I'm\ngonna say /user/sbin/useradd and\n\n432\n00:23:48.031 --> 00:23:53.892\nyou're like, man,\nthat's a full path you've got there.\n\n433\n00:23:53.892 --> 00:23:56.787\nIt is a full path that you've got there,\nand\n\n434\n00:23:56.787 --> 00:24:00.009\nI would suggest When possible,\nuse full paths.\n\n435\n00:24:00.009 --> 00:24:03.331\nAnd there's a reason for that,\nand it's for security purposes,\n\n436\n00:24:03.331 --> 00:24:07.500\nespecially when you're doing things\nlike this, systems type stuff.\n\n437\n00:24:07.500 --> 00:24:10.040\nBecause, hackers are very smart.\n\n438\n00:24:10.040 --> 00:24:14.150\nAnd if you just put a path in without\na full path, you put a command that runs,\n\n439\n00:24:14.150 --> 00:24:17.670\nwell, what if they change the path\nvariable to their home directory?\n\n440\n00:24:17.670 --> 00:24:21.780\nAnd now,\nit's running a different user add command,\n\n441\n00:24:21.780 --> 00:24:24.480\nwhich is user adding things\nyou don't want, right.\n\n442\n00:24:24.480 --> 00:24:25.960\nDoing things you don't want.\n\n443\n00:24:25.960 --> 00:24:30.210\nSo it's always good when you call\ncommands that are system builds,\n\n444\n00:24:30.210 --> 00:24:32.030\ngive it that full path name, okay.\n\n445\n00:24:32.030 --> 00:24:34.400\nJust a security code kinda thing.\n\n446\n00:24:34.400 --> 00:24:37.500\nJustin you running that a lot\nin having to code securely?\n\n447\n00:24:38.530 --> 00:24:39.036\n&gt;&gt; I try to.\n\n448\n00:24:39.036 --> 00:24:40.904\n&gt;&gt; Yeah.\nI'm gonna be completely honest,\n\n449\n00:24:40.904 --> 00:24:43.160\nsometimes I am a little\ncavalier about that.\n\n450\n00:24:43.160 --> 00:24:45.610\nBut I find not only the security aspects,\n\n451\n00:24:45.610 --> 00:24:50.460\nbut having full paths keep you\nfrom having unanticipated, right?\n\n452\n00:24:50.460 --> 00:24:53.470\nWhat if there is some other system\nprocess that changed your path variable,\n\n453\n00:24:53.470 --> 00:24:56.840\nand you're like,\nuser ad can't be found, why not?\n\n454\n00:24:58.080 --> 00:25:01.960\nAnd it's because there's some other\nmutation in the global context,\n\n455\n00:25:01.960 --> 00:25:04.850\nthey're like, that doesn't, hm.\n\n456\n00:25:04.850 --> 00:25:08.890\nSo, I tend to use actual\nfull pass regardless,\n\n457\n00:25:08.890 --> 00:25:13.250\nit just keeps me from having to reason\nabout relative pathing, and also,\n\n458\n00:25:13.250 --> 00:25:18.470\nI don't have to track down things I'm\nlike, it's not user spn and user end.\n\n459\n00:25:18.470 --> 00:25:21.347\nIt's not dot dot slash,\ndot dot slash, or whatever it may be.\n\n460\n00:25:21.347 --> 00:25:21.980\n&gt;&gt; Yeah.\n\n461\n00:25:21.980 --> 00:25:23.930\n&gt;&gt; So, I tend to use full pass anyway.\n\n462\n00:25:23.930 --> 00:25:26.280\n&gt;&gt; Yeah, so\nit's just a good practice overall for\n\n463\n00:25:26.280 --> 00:25:28.225\nmultiple different reasons, so just.\n\n464\n00:25:28.225 --> 00:25:32.025\nGet in the habit of doing that with any\nsystem commands that you have in there,\n\n465\n00:25:32.025 --> 00:25:36.975\nand maybe even your shelved\nscripts that you're writing.\n\n466\n00:25:36.975 --> 00:25:39.405\nSo, maybe you want to\ncreate a script folder and\n\n467\n00:25:39.405 --> 00:25:42.575\nstart sim-linking to a path,\nthat's what I feel like to do.\n\n468\n00:25:42.575 --> 00:25:45.225\nIt just makes my life a whole lot easier.\n\n469\n00:25:45.225 --> 00:25:47.185\nAnd that just keep things safe and secure.\n\n470\n00:25:47.185 --> 00:25:50.235\nAll right, now we're gonna use user AD,\n\n471\n00:25:50.235 --> 00:25:54.690\nI'll be honest with you I don't\nuse useradd on a daily basis.\n\n472\n00:25:54.690 --> 00:25:59.380\nI tend to have to look it up because,\nI know this, by default,\n\n473\n00:25:59.380 --> 00:26:03.650\nuseradd does not do some things\nthat I would like it to do.\n\n474\n00:26:03.650 --> 00:26:08.308\nLike, give a full name,\nadd a home directory, right?\n\n475\n00:26:08.308 --> 00:26:13.270\nThere are certain things that I like\nto accomplish, and since I'm scripting,\n\n476\n00:26:13.270 --> 00:26:17.877\nmaybe I would like to partake in those\nthings and let my script do it for me.\n\n477\n00:26:17.877 --> 00:26:22.711\nAutomate the processor, so I don't have\nto continue rereading the mortgage and\n\n478\n00:26:22.711 --> 00:26:26.990\nsee, yes it was dash this and\nI had to do that and this is the format.\n\n479\n00:26:26.990 --> 00:26:29.750\nI can not remember what\ngoes before what's, right?\n\n480\n00:26:29.750 --> 00:26:33.113\nThat's hard for me in software we\nuse a lot of tools everyday and\n\n481\n00:26:33.113 --> 00:26:37.000\na lot of options are similar but\nmay be different,so we can forget a lot.\n\n482\n00:26:37.000 --> 00:26:40.309\nWell, that's why we do scripts, that's\nwhy run to writing our own scripts, so\n\n483\n00:26:40.309 --> 00:26:43.100\nwe don't have to remember,\nthey do it for us, okay?\n\n484\n00:26:43.100 --> 00:26:47.170\nSo, I want to look at the user add\ncommand, and see the things I wanna do.\n\n485\n00:26:47.170 --> 00:26:50.228\nNow, the good thing that I've kind\nof already done that pre-show,\n\n486\n00:26:50.228 --> 00:26:53.507\nwrote those down so we don't forget,\nexactly how I want them formatted.\n\n487\n00:26:53.507 --> 00:26:56.675\nBut you might want to spend some\ntime with the man page of user, or\n\n488\n00:26:56.675 --> 00:27:00.667\nwhatever command that you're working with,\ngetting that horsepower from, so\n\n489\n00:27:00.667 --> 00:27:02.969\nthat it does the exact\nthing that you wanna do.\n\n490\n00:27:02.969 --> 00:27:05.155\nThat doesn't say that you're scripted,\n\n491\n00:27:05.155 --> 00:27:09.342\nyou don't have to remember all that extra\noption that goes along with it other than\n\n492\n00:27:09.342 --> 00:27:12.146\nmaybe common stuff that you\njust pick up along the way.\n\n493\n00:27:12.146 --> 00:27:17.552\nSo I needed -c from mine, and\n\n494\n00:27:17.552 --> 00:27:24.710\nthat's gonna add my add_rem_name.\n\n495\n00:27:24.710 --> 00:27:27.152\nSo that's gonna give me\nthat full name there.\n\n496\n00:27:27.152 --> 00:27:34.130\nSo -c jumps into that specific block and\nEtsy password, and adds information.\n\n497\n00:27:35.700 --> 00:27:38.090\nHere, it's going to use my full user name,\nokay.\n\n498\n00:27:39.430 --> 00:27:45.410\nThen I want to add the -m option and\nthe -s option.\n\n499\n00:27:45.410 --> 00:27:49.490\nAnd like I said, I can't remember what\nthese things do off the top of my head.\n\n500\n00:27:49.490 --> 00:27:55.370\nI'd have to look at the name page and\nwe could do that, control T and jump it.\n\n501\n00:27:55.370 --> 00:28:00.505\nWe'll say, man user at,\nand I can search for\n\n502\n00:28:00.505 --> 00:28:04.690\n-m, and it says go to the next one,\n\n503\n00:28:04.690 --> 00:28:09.840\ngo to the next one, go to the next one,\nthere it is, re-home.\n\n504\n00:28:09.840 --> 00:28:15.550\nSo if I'd used -m, it is to create\na home directory, or my user.\n\n505\n00:28:15.550 --> 00:28:18.480\nI could also use --create_home,\nwhich is a whole lot more, but\n\n506\n00:28:18.480 --> 00:28:21.200\nI'm saving space by just using the -n.\n\n507\n00:28:21.200 --> 00:28:24.060\nSo create a users home\ndirectory if it does not exist.\n\n508\n00:28:24.060 --> 00:28:27.390\nMan, that's functionality that I don't\neven need to build into my script now.\n\n509\n00:28:27.390 --> 00:28:32.760\nI don't have to look and see, does that\nhome even exist, it's doing it for me.\n\n510\n00:28:32.760 --> 00:28:33.721\nThank you so much, user@.\n\n511\n00:28:33.721 --> 00:28:38.231\nSo again, looking at these things,\nwe're also using -s.\n\n512\n00:28:38.231 --> 00:28:40.920\nLet me see here, -s.\n\n513\n00:28:42.313 --> 00:28:43.215\nThere we go.\n\n514\n00:28:43.215 --> 00:28:49.320\nAnd for the next one, shell.\n\n515\n00:28:49.320 --> 00:28:51.250\nThe name of the user's login shell.\n\n516\n00:28:51.250 --> 00:28:53.390\nWhich shell are they going to use, right?\n\n517\n00:28:53.390 --> 00:28:54.300\nMaybe I want to change it.\n\n518\n00:28:54.300 --> 00:28:55.510\nMaybe I want it to be something different.\n\n519\n00:28:55.510 --> 00:28:58.920\nMaybe I don't have a standard\nshell that gets put in, right?\n\n520\n00:28:58.920 --> 00:29:01.270\nSo I'm going to put that in there as well.\n\n521\n00:29:01.270 --> 00:29:03.650\nAlso doing a -d, I think.\n\n522\n00:29:03.650 --> 00:29:06.417\nLet's see here, -d.\n\n523\n00:29:06.417 --> 00:29:09.170\n[SOUND] Next one.\n\n524\n00:29:09.170 --> 00:29:11.959\nWhere are you, -d?\n\n525\n00:29:11.959 --> 00:29:15.371\nI'm gonna try it again, /-d.\n\n526\n00:29:15.371 --> 00:29:19.950\nNext, next, next, there it is.\n\n527\n00:29:20.970 --> 00:29:21.800\nThe home directory.\n\n528\n00:29:21.800 --> 00:29:23.410\nWhat home directory do you wanna define?\n\n529\n00:29:24.450 --> 00:29:25.150\nPretty good.\n\n530\n00:29:25.150 --> 00:29:26.150\nSee, I couldn't remember all that stuff.\n\n531\n00:29:26.150 --> 00:29:27.690\nI don't do that every day.\n\n532\n00:29:27.690 --> 00:29:32.570\nSo I could have guessed, yes, probably\nthe home directory d seems directory.\n\n533\n00:29:32.570 --> 00:29:34.590\nBut, could have been something else,\nright?\n\n534\n00:29:34.590 --> 00:29:37.850\nSo take a look at your man files, figure\nout what it is exactly that you want to\n\n535\n00:29:37.850 --> 00:29:39.590\ndo, and then add that functionality in.\n\n536\n00:29:39.590 --> 00:29:40.990\nSo now we can quite out of here.\n\n537\n00:29:40.990 --> 00:29:43.100\nNow we know what each\none of these options do.\n\n538\n00:29:43.100 --> 00:29:46.911\nClose this, go back in, we're adding -m-s.\n\n539\n00:29:46.911 --> 00:29:51.297\nThat's going to be,\nwe're going to set that as /bin/bash,\n\n540\n00:29:51.297 --> 00:29:55.210\nbecause I like bash as my\ndefault shells for everybody.\n\n541\n00:29:55.210 --> 00:29:58.305\n-d is going to be /home/,\nwhatever their user name is.\n\n542\n00:29:58.305 --> 00:30:01.065\nSo I'll say,\n\n543\n00:30:01.065 --> 00:30:08.440\n$add_rim__username like that.\n\n544\n00:30:08.440 --> 00:30:14.870\nWe also have a dash u which is\nwhat their user name actually is.\n\n545\n00:30:14.870 --> 00:30:16.320\nThey need that as well.\n\n546\n00:30:16.320 --> 00:30:20.740\nAgain I forget what dash u does jump back\nto the main page and see that real quick.\n\n547\n00:30:24.300 --> 00:30:32.255\nMan useradd and search for -U.\n\n548\n00:30:32.255 --> 00:30:39.120\nNext, do I want to create a group\nassociated with that user?\n\n549\n00:30:39.120 --> 00:30:40.600\nProbably do.\n\n550\n00:30:40.600 --> 00:30:43.280\nSo I typically do in my environment,\nthrow that on there as well.\n\n551\n00:30:43.280 --> 00:30:47.050\nAll right, so\nnow we have all our options accounted for.\n\n552\n00:30:48.590 --> 00:30:51.350\nPut that in there,\nwe are doing -U, and that'll be,\n\n553\n00:30:51.350 --> 00:30:55.488\nwe'll just name it the same\nname as their username.\n\n554\n00:30:55.488 --> 00:30:59.442\nOkay, so $add_rem_username,\nso now, their username and\n\n555\n00:30:59.442 --> 00:31:02.435\ntheir group name is gonna be identical,\nokay.\n\n556\n00:31:02.435 --> 00:31:05.451\nI think that's all we need for that and\n\n557\n00:31:05.451 --> 00:31:09.280\njust that I know we are running low,\nlow, low.\n\n558\n00:31:09.280 --> 00:31:11.180\nLow on time.\nI'm gonna finish up this little bit of\n\n559\n00:31:11.180 --> 00:31:15.040\nlogic, then I guess we're moving\nto part three because we've got\n\n560\n00:31:16.400 --> 00:31:17.860\na lot to go over, right.\n\n561\n00:31:18.990 --> 00:31:23.590\nI like to give some output\nwhenever I can to my users, so\n\n562\n00:31:23.590 --> 00:31:25.490\nI'm gonna creat this alert.\n\n563\n00:31:25.490 --> 00:31:31.240\nEquals, and I'll just say user such and\nsuch successfully yeah.\n\n564\n00:31:31.240 --> 00:31:35.440\nSo user, dollar sign,\nadd underscore around, underscore.\n\n565\n00:31:37.520 --> 00:31:39.269\nI guess username, let's use username.\n\n566\n00:31:42.994 --> 00:31:45.620\nSuccessfully added.\n\n567\n00:31:45.620 --> 00:31:47.645\nRight, added, yeah, there we go.\n\n568\n00:31:47.645 --> 00:31:51.905\nMy ability to use the English\nlanguage is highly dubious.\n\n569\n00:31:51.905 --> 00:31:53.610\nThere we go.\n\n570\n00:31:53.610 --> 00:31:56.810\nAnd then, so that they can actually see\nthat, because I'm gonna jump back to\n\n571\n00:31:56.810 --> 00:32:01.590\nthe main function, or not the main\nfunction, the add remove function.\n\n572\n00:32:01.590 --> 00:32:04.380\nI'm gonna recursively go\nback to the beginning, okay.\n\n573\n00:32:04.380 --> 00:32:08.732\nI just like to do this read dash B,\n\n574\n00:32:08.732 --> 00:32:16.999\npress Enter to continue.\n\n575\n00:32:16.999 --> 00:32:23.047\nSo, and then,\nthis is called add_rem, like that.\n\n576\n00:32:23.047 --> 00:32:28.068\nI think that's all we need for\nthis piece of logic, so\n\n577\n00:32:28.068 --> 00:32:33.983\nthat for one all the code is done\nokay everything should work and\n\n578\n00:32:33.983 --> 00:32:36.900\nwe don't have time to test it.\n\n579\n00:32:36.900 --> 00:32:40.166\nWe'll do a part two, we'll come back,\nwe'll test this code, make sure it works,\n\n580\n00:32:40.166 --> 00:32:42.153\nand then we'll add the rest\nof the functionality.\n\n581\n00:32:42.153 --> 00:32:45.604\n&gt;&gt; Well Daniel, you're aboslutely right,\nwe are running low on time, but\n\n582\n00:32:45.604 --> 00:32:49.389\nI'm anxious to see if we can actually,\nif this all works definitely stay tuned to\n\n583\n00:32:49.389 --> 00:32:52.170\nsee if we can add a user, but\nwe also have to remove a user, so\n\n584\n00:32:52.170 --> 00:32:54.698\nthat's another reason to come back for\na part three.\n\n585\n00:32:54.698 --> 00:32:59.210\nBut, as I said we are done\nwith time on this episode.\n\n586\n00:32:59.210 --> 00:33:01.390\nSo for now, we're gonna go ahead and\nwrap this one up.\n\n587\n00:33:01.390 --> 00:33:02.470\nSigning off for IT Pro TV.\n\n588\n00:33:02.470 --> 00:33:04.170\nI've been your host Justin Dennison.\n\n589\n00:33:04.170 --> 00:33:05.406\nI'm Daniel Lowry.\nAnd we'll see you next time\n\n590\n00:33:05.406 --> 00:33:13.002\n[MUSIC]\n\n591\n00:33:13.002 --> 00:33:15.690\n&gt;&gt; Thank you for watching\n&gt;&gt; ITPRO.TV\n\n",
          "vimeoId": "238658439"
        },
        {
          "description": "In this episode, Daniel and Justin bolt their first function onto their Account Management utility. Here they demonstrate and explain the who/what/when/where/why/how of exerting control over adding, deleting, and listing user accounts.",
          "length": "1491",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-2-3-user_account_mananger_addremove_users_pt_3-101717-PGM.00_24_36_05.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-2-3-user_account_mananger_addremove_users_pt_3-101717-PGM.00_24_36_05.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-2-3-user_account_mananger_addremove_users_pt_3-101717-PGM.00_24_36_05.Still001-sm.jpg",
          "title": "User Account Manager Add/Remove Users Pt3",
          "transcript": "WEBVTT\n\n1\n00:00:00.220 --> 00:00:01.557\nWelcome to ITProTV.\n\n2\n00:00:01.557 --> 00:00:02.960\nI'm your host, Don Pezet.\n\n3\n00:00:02.960 --> 00:00:05.941\n[CROSSTALK]\n\n4\n00:00:05.941 --> 00:00:08.225\n[MUSIC]\n\n5\n00:00:08.225 --> 00:00:11.652\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:11.652 --> 00:00:15.280\n&gt;&gt; Greetings, everyone, and welcome to\nanother exciting episode of ITProTV.\n\n7\n00:00:15.280 --> 00:00:17.145\nI'm your host, Justin Dennison.\n\n8\n00:00:17.145 --> 00:00:18.583\nAnd we're back with a part three.\n\n9\n00:00:18.583 --> 00:00:22.872\nYeah, you heard it, a part three in our\nuser management script as part of our\n\n10\n00:00:22.872 --> 00:00:25.340\nCreating Practical Scripts series.\n\n11\n00:00:25.340 --> 00:00:28.180\nAnd, well, we actually need to\ndo a little bit of testing.\n\n12\n00:00:28.180 --> 00:00:32.350\nAnd, well, we need to actually complete\nthe basic add remove user functionality.\n\n13\n00:00:32.350 --> 00:00:35.835\nAnd luckily, we have the man that knows\nall about that in the studio today, Mr.\n\n14\n00:00:35.835 --> 00:00:36.575\nDaniel Lowrie.\n\n15\n00:00:36.575 --> 00:00:37.349\nHow are you doing today, Daniel?\n\n16\n00:00:37.349 --> 00:00:39.640\n&gt;&gt; Doing great, Justin,\nglad to be back here in the studio.\n\n17\n00:00:39.640 --> 00:00:43.300\nThat's right, we wanna put the finishing\ntouches on what we were working on.\n\n18\n00:00:43.300 --> 00:00:48.630\nTest it out, make sure that everything is\nas it should be with our user addition\n\n19\n00:00:48.630 --> 00:00:52.680\nlogic inside of our script here that we're\nworking on, our account management script.\n\n20\n00:00:52.680 --> 00:00:53.738\nIt's got a lot of goings on.\n\n21\n00:00:53.738 --> 00:00:57.910\nThere's a lot for us to take a look at,\na lot for us to reason through.\n\n22\n00:00:57.910 --> 00:01:00.667\nAnd now, hopefully, fingers crossed,\n\n23\n00:01:00.667 --> 00:01:04.544\neverything that we've done is\ngoing to work for us so far.\n\n24\n00:01:04.544 --> 00:01:05.482\nIt's a good spot for\n\n25\n00:01:05.482 --> 00:01:09.460\nus to start testing before we get further\nengrossed into coding, all right?\n\n26\n00:01:09.460 --> 00:01:14.380\nSo let's take a look at our code that we\nleft off with and see what we have here.\n\n27\n00:01:14.380 --> 00:01:16.940\nSo remember, we were taking in\n\n28\n00:01:16.940 --> 00:01:21.920\ninformation from the system user about\nthe user they want to add to the system.\n\n29\n00:01:21.920 --> 00:01:23.658\nThat's a lot of system user and\nadd, right?\n\n30\n00:01:23.658 --> 00:01:26.271\n[LAUGH] So we're taking their\nfirst name and their last name,\n\n31\n00:01:26.271 --> 00:01:27.560\nputting those in variables.\n\n32\n00:01:27.560 --> 00:01:30.850\nHave a variable that combines\nthose into one string of\n\n33\n00:01:30.850 --> 00:01:34.020\nfirst space last name, right?\n\n34\n00:01:34.020 --> 00:01:38.666\nThen we are going to make sure that\nwe get that from the /etc/passwd\n\n35\n00:01:38.666 --> 00:01:41.844\nfile to see if it already\nexists in the system so\n\n36\n00:01:41.844 --> 00:01:46.267\nwe don't walk all over somebody\nthat already is there, right?\n\n37\n00:01:46.267 --> 00:01:48.560\nThen we're starting into\nsome more conditional logic.\n\n38\n00:01:48.560 --> 00:01:52.898\nWell, if these two things don't equal\neach other, if you don't find that,\n\n39\n00:01:52.898 --> 00:01:57.452\nthen let's continue on with adding that\nuser because they are a good user to use.\n\n40\n00:01:57.452 --> 00:01:59.470\nSo we're gonna tell them\nthat they are good to use.\n\n41\n00:01:59.470 --> 00:02:02.553\nWe're gonna read in some more\ninformation about what do you want their\n\n42\n00:02:02.553 --> 00:02:03.294\nusername to be.\n\n43\n00:02:03.294 --> 00:02:07.088\nThen we are doing the actual\nuser add command to actually\n\n44\n00:02:07.088 --> 00:02:11.703\nadd that user with some parameters\nthat go along with that, right?\n\n45\n00:02:11.703 --> 00:02:15.760\nI'll stretch this out just a hair,\nsee if we can get everything in there.\n\n46\n00:02:15.760 --> 00:02:18.135\nWell, it was worth a shot, right?\n\n47\n00:02:18.135 --> 00:02:22.760\nThen I already see my first problem here.\n\n48\n00:02:22.760 --> 00:02:26.958\nWhen I first wrote this code,\nwhen I started developing this for\n\n49\n00:02:26.958 --> 00:02:31.233\nthis series, I was adding the thing\nthat you had done, whether or\n\n50\n00:02:31.233 --> 00:02:34.990\nnot success or failure occurred or\nan error, whatever.\n\n51\n00:02:34.990 --> 00:02:38.867\nI was making a global alert.\n\n52\n00:02:38.867 --> 00:02:40.793\nThat's why I called this alert.\n\n53\n00:02:40.793 --> 00:02:44.828\nAnd it must snuck into the code,\nmy finished code, as a variable.\n\n54\n00:02:44.828 --> 00:02:50.290\nWhat I just need to do here is just\nsay echo, just wanna echo that out.\n\n55\n00:02:50.290 --> 00:02:52.413\nNow I would have found that\nthrough a test as well.\n\n56\n00:02:52.413 --> 00:02:57.128\nI would say, hey, how come it didn't say,\nuser is successfully added?\n\n57\n00:02:57.128 --> 00:02:59.400\nIt didn't tell me that, and\nI know I've coded that in.\n\n58\n00:02:59.400 --> 00:03:00.620\nSo I would have seen that in testing.\n\n59\n00:03:00.620 --> 00:03:03.710\nBut, again,\njust walking myself back through it,\n\n60\n00:03:03.710 --> 00:03:08.170\nI can find some simple bugs that I can\nalleviate before I even run the thing.\n\n61\n00:03:08.170 --> 00:03:12.470\nAnd then it should wait for\nthe user to press Enter.\n\n62\n00:03:12.470 --> 00:03:15.570\nAnd then it should run right\nback to the add remove, okay?\n\n63\n00:03:15.570 --> 00:03:18.745\nSo adding a user,\nthat functionality should be done.\n\n64\n00:03:18.745 --> 00:03:19.930\nIt should be good to go.\n\n65\n00:03:21.370 --> 00:03:23.560\nSo let's see if that actually works.\n\n66\n00:03:23.560 --> 00:03:25.376\nI will Ctrl+O.\n\n67\n00:03:25.376 --> 00:03:27.938\n&gt;&gt; Daniel, before you get too far,\ncorrect me if I'm wrong.\n\n68\n00:03:27.938 --> 00:03:29.450\n&gt;&gt; Yes, indeed.\n\n69\n00:03:29.450 --> 00:03:31.470\n&gt;&gt; So we don't have to do\nsome crazy debugging here.\n\n70\n00:03:31.470 --> 00:03:33.430\nShould we end that if with a fi?\n\n71\n00:03:33.430 --> 00:03:35.166\n&gt;&gt; Man, look at you.\n\n72\n00:03:35.166 --> 00:03:39.530\nSee, I love code in pairs,\nladies and gentlemen, code in pairs.\n\n73\n00:03:39.530 --> 00:03:41.960\nAnd how many times have I said it,\ndon't forget your fi?\n\n74\n00:03:41.960 --> 00:03:43.735\nDo you know why I've said it so\nmany times?\n\n75\n00:03:43.735 --> 00:03:45.839\nBecause it's stinking easy to forget.\n\n76\n00:03:45.839 --> 00:03:48.036\nI don't want you guys hitting simple bugs.\n\n77\n00:03:48.036 --> 00:03:52.258\nAnd a lot of people will tell you, you\nshould code in pairs for that very fact.\n\n78\n00:03:52.258 --> 00:03:55.030\nCuz it's little things like\nthat that will trip you up.\n\n79\n00:03:55.030 --> 00:03:57.929\nAgain, we could have hit the code and\nsee if it worked.\n\n80\n00:03:57.929 --> 00:04:01.766\nIt would have broken and\ngiven me a syntax error, expect such and\n\n81\n00:04:01.766 --> 00:04:04.260\nsuch on line such and such.\n\n82\n00:04:04.260 --> 00:04:05.350\nBut he's already got it.\n\n83\n00:04:05.350 --> 00:04:08.010\nWe didn't have to run\nit to see if it breaks.\n\n84\n00:04:08.010 --> 00:04:10.580\nMy partner over here is\nkeeping a watchful eye and\n\n85\n00:04:10.580 --> 00:04:13.230\nhelping me out cuz he's\nactually absolutely right.\n\n86\n00:04:13.230 --> 00:04:15.590\nI need to go in here, add that fi.\n\n87\n00:04:15.590 --> 00:04:20.000\nSo add that fi, all right,\nthat's looking good.\n\n88\n00:04:20.000 --> 00:04:23.270\nAll right, Justin,\ndo you see anything else?\n\n89\n00:04:23.270 --> 00:04:25.349\n&gt;&gt; I don't, but after you asked me that,\n\n90\n00:04:25.349 --> 00:04:28.440\nI'm like,\nyou're putting me on the line here a bit.\n\n91\n00:04:28.440 --> 00:04:29.089\n&gt;&gt; Yeah, I am.\n\n92\n00:04:29.089 --> 00:04:29.862\n&gt;&gt; I don't think there's\nanything else broke.\n\n93\n00:04:29.862 --> 00:04:32.256\n&gt;&gt; See now, if it's broken,\nit's Justin's fault.\n\n94\n00:04:32.256 --> 00:04:35.480\n[LAUGH] Well,\nyou can always blame your partner.\n\n95\n00:04:35.480 --> 00:04:37.480\nIt's great stuff, right, so do that.\n\n96\n00:04:37.480 --> 00:04:44.213\nAll right, let's do it,\nCtrl+X ./acct-mgr2.sh, fire it off.\n\n97\n00:04:44.213 --> 00:04:46.750\nDon't forget, requires root privileges.\n\n98\n00:04:46.750 --> 00:04:48.735\nMy script keeping me\nin check a little bit.\n\n99\n00:04:48.735 --> 00:04:54.130\nSo sudo, and I can just do that\nright there to run the last command.\n\n100\n00:04:54.130 --> 00:04:56.700\nAnd there we go, password, type that in.\n\n101\n00:04:58.300 --> 00:05:00.160\nAnd our program runs, great.\n\n102\n00:05:00.160 --> 00:05:02.100\nWe wanna go into number 1.\n\n103\n00:05:02.100 --> 00:05:03.970\nWe're in Add/Remove Users.\n\n104\n00:05:03.970 --> 00:05:06.940\nSo we're gonna add a user, I hit 1.\n\n105\n00:05:06.940 --> 00:05:08.890\nGreat, asking me, enter the first name.\n\n106\n00:05:08.890 --> 00:05:11.190\nEverything's looking good so far.\n\n107\n00:05:11.190 --> 00:05:13.380\nSo let's create a user.\n\n108\n00:05:13.380 --> 00:05:14.170\nWho should we add?\n\n109\n00:05:14.170 --> 00:05:16.076\nChristopher Walken.\n\n110\n00:05:16.076 --> 00:05:17.098\n&gt;&gt; I do, yep, we should go with Walken.\n\n111\n00:05:17.098 --> 00:05:17.706\n&gt;&gt; Chris Walken?\n\n112\n00:05:17.706 --> 00:05:20.374\n&gt;&gt; Yep, if Walken is not\nalready a user in your system,\n\n113\n00:05:20.374 --> 00:05:22.020\nyou should go add him right now.\n\n114\n00:05:22.020 --> 00:05:22.930\n&gt;&gt; Yeah, he used to be.\n\n115\n00:05:22.930 --> 00:05:24.420\nSo just make that change right now.\n\n116\n00:05:24.420 --> 00:05:26.140\nPause it, come back.\n\n117\n00:05:26.140 --> 00:05:28.268\nAll right,\nnow that you've added Christopher Walken,\n\n118\n00:05:28.268 --> 00:05:30.540\nwe're gonna add Christopher Walken\nas well, let's do it.\n\n119\n00:05:30.540 --> 00:05:34.884\nSo we'll just call him Chris cuz I don't\nknow if he goes by T-O-P-H-E-R or-\n\n120\n00:05:34.884 --> 00:05:35.821\n&gt;&gt; I think it is T-O-P-H-E-R.\n\n121\n00:05:35.821 --> 00:05:39.200\n&gt;&gt; It's probably right, so\nit's T-O-P-H-E-R, Christopher.\n\n122\n00:05:40.220 --> 00:05:41.830\nAnd then his last name is Walken.\n\n123\n00:05:42.880 --> 00:05:47.929\nAnd then, looks like we've got\na binary operator expected on line 42.\n\n124\n00:05:47.929 --> 00:05:53.200\nSo I've gotten pretty deep into my logic,\nbut I do have a syntactical error.\n\n125\n00:05:53.200 --> 00:05:54.345\nAnd we need to go jump back in.\n\n126\n00:05:54.345 --> 00:05:57.269\nSee, probably just missed\na character somewhere, right?\n\n127\n00:05:57.269 --> 00:05:58.414\nSo let's take a look at that.\n\n128\n00:05:58.414 --> 00:06:03.880\nWe will nano our acct-mgr2.sh.\n\n129\n00:06:03.880 --> 00:06:05.520\nAnd let's look down through there.\n\n130\n00:06:06.930 --> 00:06:12.576\nSo we got to adding the first and\nlast name.\n\n131\n00:06:12.576 --> 00:06:14.657\nSo it took the first,\nwe got to last, read -p.\n\n132\n00:06:14.657 --> 00:06:20.091\nAnd then I'm sure this worked.\n\n133\n00:06:20.091 --> 00:06:22.524\nI'm sure this worked.\n\n134\n00:06:22.524 --> 00:06:26.663\nIt's probably somewhere in here,\nso let's see.\n\n135\n00:06:26.663 --> 00:06:30.660\n&gt;&gt; So Daniel,\nlet me just make sure I'm not crazy.\n\n136\n00:06:30.660 --> 00:06:35.000\nIf we have variables used,\ndo we need double brackets in an if\n\n137\n00:06:35.000 --> 00:06:38.400\nif we're doing those variable\nsubstitutions, or am I wrong about that?\n\n138\n00:06:38.400 --> 00:06:43.390\n&gt;&gt; Sometimes you do, but I bet,\nI think you're on the right track.\n\n139\n00:06:43.390 --> 00:06:45.160\nI don't think we need double brackets.\n\n140\n00:06:45.160 --> 00:06:48.160\nBut I was looking at\nthat if block as well.\n\n141\n00:06:48.160 --> 00:06:50.970\nAnd that if block,\nwe have a couple of variables.\n\n142\n00:06:50.970 --> 00:06:54.690\nEverything seems right, but a lot of times\nyou need to put quotations around your\n\n143\n00:06:54.690 --> 00:06:59.860\nvariables inside of the brackets\nto get proper expansion, right?\n\n144\n00:06:59.860 --> 00:07:03.430\nSo if it's not working, maybe we\nneed to throw that on there, okay?\n\n145\n00:07:03.430 --> 00:07:06.620\nSo let's go in there,\nwe'll add some of this action.\n\n146\n00:07:06.620 --> 00:07:12.920\nGo over here, a little bit of that,\na little bit of this.\n\n147\n00:07:12.920 --> 00:07:16.460\nA little more pepper, and there we go.\n\n148\n00:07:16.460 --> 00:07:21.500\nI think maybe that might be our problem.\n\n149\n00:07:21.500 --> 00:07:23.462\nLet's go ahead and try it,\nlet's try it again.\n\n150\n00:07:23.462 --> 00:07:29.289\nX, rerun sudo mgr, go to 1, go to 1,\n\n151\n00:07:29.289 --> 00:07:34.071\nwe're gonna add Christopher.\n\n152\n00:07:34.071 --> 00:07:36.964\nThat's actually a strange name to type.\n\n153\n00:07:36.964 --> 00:07:37.970\nWe'll add Walken.\n\n154\n00:07:39.320 --> 00:07:41.030\nThere we go, okay, so\nthat was our problem.\n\n155\n00:07:41.030 --> 00:07:43.440\nWe weren't getting proper\nexpansion from our thing.\n\n156\n00:07:43.440 --> 00:07:44.580\nJustin was definitely on the right path.\n\n157\n00:07:44.580 --> 00:07:46.670\nSometimes we do need double brackets.\n\n158\n00:07:46.670 --> 00:07:49.580\nThe double brackets would be\ngood if we were using something\n\n159\n00:07:49.580 --> 00:07:50.410\nlike regular expression.\n\n160\n00:07:50.410 --> 00:07:54.818\nIt gives us more expanded capabilities\nof the test function, right?\n\n161\n00:07:54.818 --> 00:07:59.648\nSince I wasn't doing any too crazy stuff,\nI could stay within that standardized.\n\n162\n00:07:59.648 --> 00:08:01.590\nIf that didn't work, my double quotes,\n\n163\n00:08:01.590 --> 00:08:05.250\nif that did not work I would have then\njumped to double brackets because maybe,\n\n164\n00:08:05.250 --> 00:08:08.870\nmy variable was doing something that\nneed that expanded test capabilities.\n\n165\n00:08:08.870 --> 00:08:12.420\nBut we got away with just needing\nthe expansion using theme.\n\n166\n00:08:12.420 --> 00:08:13.170\nThe double quotes.\n\n167\n00:08:14.222 --> 00:08:17.610\nAll right, so it's asking,\nwhat do we want Chris Walken's name to be?\n\n168\n00:08:17.610 --> 00:08:19.350\nI like first initial, last name.\n\n169\n00:08:19.350 --> 00:08:25.160\nI also see a little bit of an issue with\nmy code right now, which is just visually.\n\n170\n00:08:25.160 --> 00:08:28.700\nIt's not that it's broken, but\nit's just visually not what I'd like.\n\n171\n00:08:28.700 --> 00:08:33.730\nI should add one of these little trailers,\nto enter the username for\n\n172\n00:08:33.730 --> 00:08:35.900\nChristopher Walken, because now,\nwhen I type in his name,\n\n173\n00:08:35.900 --> 00:08:38.800\nC Walken, see how that looks?\n\n174\n00:08:38.800 --> 00:08:41.110\nIt's not visually great.\n\n175\n00:08:41.110 --> 00:08:44.360\nSo I'm gonna change that,\nonce we jump back into code.\n\n176\n00:08:44.360 --> 00:08:46.230\nBut C Walken, I am able to enter that.\n\n177\n00:08:47.300 --> 00:08:49.608\nUser C Walkins successfully\nadded press enter to continue.\n\n178\n00:08:49.608 --> 00:08:57.870\nAnd look we go right back to\nAdd/Remove user function in our script.\n\n179\n00:08:57.870 --> 00:09:00.845\nThat's great so\nI can hit x exit out of the program.\n\n180\n00:09:00.845 --> 00:09:04.262\nLet's go back in, let's add that\nprompt a little re factoring and\n\n181\n00:09:04.262 --> 00:09:08.301\nnow we know that that piece is technically\ncompletely working has no problem.\n\n182\n00:09:08.301 --> 00:09:12.170\nSo we can move on to the next one.\n\n183\n00:09:12.170 --> 00:09:18.810\nSo let's do that, so nano acct- mgr2,\nadd that prompt cuz that was just ugly.\n\n184\n00:09:20.660 --> 00:09:21.943\nIt was U-G-L-Y my man.\n\n185\n00:09:21.943 --> 00:09:24.410\nLet's see here, here we go.\n\n186\n00:09:24.410 --> 00:09:28.800\nThis is that line, user name,\nand just do something like that.\n\n187\n00:09:28.800 --> 00:09:32.130\nSo now we'll break that apart,\nlook a little better, I will save that.\n\n188\n00:09:34.060 --> 00:09:36.850\nAll right, well, what else we need to do?\n\n189\n00:09:36.850 --> 00:09:41.318\nThe script seemingly works but\ndoes it work?\n\n190\n00:09:41.318 --> 00:09:44.713\nIs Chris Walken, actually a part\nof the users in our system now?\n\n191\n00:09:44.713 --> 00:09:47.570\nI don't know,\nthere's only one way to find out.\n\n192\n00:09:47.570 --> 00:09:49.109\nDid everything to do\nwhat I wanted it to do.\n\n193\n00:09:49.109 --> 00:09:53.130\nWell, let's do Ctrl Alt T,\nthe Bing, Bing here.\n\n194\n00:09:53.130 --> 00:09:58.858\nAnd we will say, cat/etc/password, or\nactually I could grep it for his name.\n\n195\n00:09:58.858 --> 00:10:03.460\nGrep cwalken and\n\n196\n00:10:03.460 --> 00:10:09.060\n/etc/password.\n\n197\n00:10:09.060 --> 00:10:14.040\nAnd look, it does exist, he got his\nfull name, just like we typed it in.\n\n198\n00:10:14.040 --> 00:10:17.265\nJust like we like it,\nwe got his home directory put in.\n\n199\n00:10:17.265 --> 00:10:21.325\nHome/cwalken and\nhis defunct shell is bin/bash.\n\n200\n00:10:21.325 --> 00:10:26.880\nSo seems to be working, we ls/home and\nlook there's cwalkin right there.\n\n201\n00:10:27.950 --> 00:10:30.022\nThat went great, we login as him.\n\n202\n00:10:30.022 --> 00:10:33.225\nI don't think we've set a password or\nanything like that yet, so\n\n203\n00:10:33.225 --> 00:10:35.859\nshould just be able to login and\nbounce around as him.\n\n204\n00:10:35.859 --> 00:10:39.700\nI'll say that for another thing we want\nto continue moving on with the script.\n\n205\n00:10:39.700 --> 00:10:42.040\nBut it seems like everything\nis actually working.\n\n206\n00:10:42.040 --> 00:10:44.320\nThere's the testing phase, right?\n\n207\n00:10:44.320 --> 00:10:48.060\nLet's exit this, all right, lets move on.\n\n208\n00:10:48.060 --> 00:10:51.950\nWe choose option 2,\nwell we're gonna Remove a User, all right?\n\n209\n00:10:51.950 --> 00:10:52.950\nSo, what do we do?\n\n210\n00:10:53.980 --> 00:10:59.740\nSo instead of echo you chose option 2,\nwe are going to jump into there and\n\n211\n00:10:59.740 --> 00:11:06.210\nsay, so\nwe've got ad remove off equals to then.\n\n212\n00:11:06.210 --> 00:11:09.547\nWe want to say, well I guess we wanna\ntake in what user do you want to delete?\n\n213\n00:11:09.547 --> 00:11:13.250\nIt's got to know which one that is?\n\n214\n00:11:13.250 --> 00:11:14.810\nYou gotta define that.\n\n215\n00:11:14.810 --> 00:11:18.119\nSo we will just probably read -p.\n\n216\n00:11:18.119 --> 00:11:23.110\nLet's see here.\n\n217\n00:11:23.110 --> 00:11:24.270\nWhere do I wanna go with this?\n\n218\n00:11:24.270 --> 00:11:25.020\nWhat do I wanna do?\n\n219\n00:11:26.210 --> 00:11:33.408\nNot r in use, if p then we'll just say.\n\n220\n00:11:33.408 --> 00:11:34.953\nWhat username do you want?\n\n221\n00:11:34.953 --> 00:11:38.240\nJust keep it simple and\ndon't get too complex with it.\n\n222\n00:11:39.610 --> 00:11:43.910\nWhat username, or enter username,\nI guess is better.\n\n223\n00:11:43.910 --> 00:11:50.268\nEnter username to remove accept.\n\n224\n00:11:50.268 --> 00:11:54.740\nHit the little thing there,\nkinda to break things up.\n\n225\n00:11:54.740 --> 00:11:58.086\nAnd we'll call this $ sign,\n\n226\n00:11:58.086 --> 00:12:03.389\nnope, add_rem_,\n\n227\n00:12:03.389 --> 00:12:08.610\nshould we just call it username.\n\n228\n00:12:08.610 --> 00:12:12.127\nIt can reuse that, _username because\nits not being used at this point and\n\n229\n00:12:12.127 --> 00:12:15.717\ntime by the other portion of the script,\nso I can just reuse that variable.\n\n230\n00:12:15.717 --> 00:12:22.340\nI like that, all right, so\nonce they enter that in, I'm going to.\n\n231\n00:12:22.340 --> 00:12:26.210\nAgain, I like to always\nconfirm things with my users.\n\n232\n00:12:26.210 --> 00:12:30.079\nThat they're doing stuff to make sure that\nit is exactly what they wanna do, okay?\n\n233\n00:12:30.079 --> 00:12:34.022\nI don't want them deleting the wrong\nuser or just getting an error,\n\n234\n00:12:34.022 --> 00:12:37.836\nbecause they type in the wrong user name,\nkind of thing, right?\n\n235\n00:12:37.836 --> 00:12:42.309\nSo let's take that into account, so\nwe're kinda do a confirm, a yes or\n\n236\n00:12:42.309 --> 00:12:43.960\nno kind of system, okay?\n\n237\n00:12:45.400 --> 00:12:51.294\nSo let's say read -p Confirm\n\n238\n00:12:51.294 --> 00:12:56.482\n$add _rem_username to\n\n239\n00:12:56.482 --> 00:13:02.149\nremove, like that, okay?\n\n240\n00:13:02.149 --> 00:13:07.758\n...Bing, give them actually,\nwe'll put in a,\n\n241\n00:13:07.758 --> 00:13:12.100\nor we'll just say, I like this better.\n\n242\n00:13:13.370 --> 00:13:16.904\nRemove, like that and\n\n243\n00:13:16.904 --> 00:13:21.740\nthen just add a question mark.\n\n244\n00:13:21.740 --> 00:13:23.670\nSo now actually can say remove user?\n\n245\n00:13:23.670 --> 00:13:24.770\nQuestion mark?\n\n246\n00:13:24.770 --> 00:13:30.277\nAnd then give them that y,\nn option, y/n option.\n\n247\n00:13:30.277 --> 00:13:35.717\nSo that looks good and I think that'll\nwork for me and I will call that\n\n248\n00:13:35.717 --> 00:13:42.218\nconfirmations which is called removed\nconfirmation, so rem_conf like that.\n\n249\n00:13:44.860 --> 00:13:49.660\nNow, we got to take into account\nwhether or not what they type in.\n\n250\n00:13:49.660 --> 00:13:54.096\nSo I'm gonna use case for\nthat it's great for\n\n251\n00:13:54.096 --> 00:13:59.490\nthis kind of stuff,\nyou just say case $rem_conf in.\n\n252\n00:13:59.490 --> 00:14:03.098\nWe'll say y/Y, and\n\n253\n00:14:03.098 --> 00:14:07.508\nwe'll go do the next one,\n\n254\n00:14:07.508 --> 00:14:12.740\nwhich technically see here.\n\n255\n00:14:12.740 --> 00:14:16.740\nJustin made a good point on the other\nshow about the yes versus no.\n\n256\n00:14:16.740 --> 00:14:20.350\nDo I, am I gonna do anything else\nif I hit, so if I've got yes,\n\n257\n00:14:20.350 --> 00:14:23.693\nthat does something, if I hit no,\nthat does something.\n\n258\n00:14:23.693 --> 00:14:27.530\nBasically says forget this, take me back.\n\n259\n00:14:27.530 --> 00:14:29.190\nBut what if I hit something else?\n\n260\n00:14:29.190 --> 00:14:31.580\nI do like putting in valid\noption stuff in there.\n\n261\n00:14:31.580 --> 00:14:34.168\nRight, because then,\nmaybe they fat finger, right?\n\n262\n00:14:34.168 --> 00:14:37.740\nThey do wanna say yes,\nthey do wanna say no here, but\n\n263\n00:14:37.740 --> 00:14:42.170\nif they accidentally hits nn\nmaybe that's not what they meant.\n\n264\n00:14:42.170 --> 00:14:45.190\nOr maybe they hit z accidentally\nsomething around n.\n\n265\n00:14:45.190 --> 00:14:46.920\nI hit b, I hit m.\n\n266\n00:14:46.920 --> 00:14:47.830\nWhat do I do if I hit that?\n\n267\n00:14:47.830 --> 00:14:49.330\nI gotta keep that in mind.\n\n268\n00:14:49.330 --> 00:14:53.329\nSometimes there are other options\nthat you can account for, but\n\n269\n00:14:53.329 --> 00:14:57.194\nyou don't want them to do the same\nthing that no does, right?\n\n270\n00:14:57.194 --> 00:15:00.280\nI'm trying to figure out whether or\nnot that is one of these times.\n\n271\n00:15:00.280 --> 00:15:01.270\nJustin what do you think?\n\n272\n00:15:01.270 --> 00:15:06.470\n&gt;&gt; So Daniel, we did have that discussion\nof whether hey, if it's not yes,\n\n273\n00:15:06.470 --> 00:15:08.180\ndo I really care about the other options?\n\n274\n00:15:08.180 --> 00:15:12.166\nHowever, I think, just to stay\nconsistent with your coding style,\n\n275\n00:15:12.166 --> 00:15:16.442\nif you typically have an invalid option\nyou want to relay that to the user?\n\n276\n00:15:16.442 --> 00:15:17.440\n&gt;&gt; Yeah.\n\n277\n00:15:17.440 --> 00:15:19.363\n&gt;&gt; Whichever one you pick,\nbe consistent with it.\n\n278\n00:15:19.363 --> 00:15:22.330\n&gt;&gt; Yeah.\n&gt;&gt; And I think we've already said, yes,\n\n279\n00:15:22.330 --> 00:15:26.270\nno, in a couple other places,\nand then invalid option.\n\n280\n00:15:26.270 --> 00:15:28.521\nI think, just for consistency, so\n\n281\n00:15:28.521 --> 00:15:32.580\nthat the user can expect kind of\na continuum of user experience?\n\n282\n00:15:32.580 --> 00:15:35.115\n&gt;&gt; Right.\n&gt;&gt; That we just stay consistent, and say,\n\n283\n00:15:35.115 --> 00:15:36.740\nyes, no, other.\n\n284\n00:15:36.740 --> 00:15:37.860\n&gt;&gt; I like it, I like it.\n\n285\n00:15:37.860 --> 00:15:42.210\nSo even if I don't have something,\nI don't wanna continue.\n\n286\n00:15:42.210 --> 00:15:45.521\nIf I were going to start doing this,\nlike Justin said, go back and\n\n287\n00:15:45.521 --> 00:15:48.185\nmake that user experience\nconsistent throughout.\n\n288\n00:15:48.185 --> 00:15:53.502\nAnd since we kind of defined how\nthat user experience is going to be?\n\n289\n00:15:53.502 --> 00:15:57.453\nIt's a good idea to stick with that\nconstant theme throughout the rest of\n\n290\n00:15:57.453 --> 00:16:01.559\nyour codes, so the user knows what to\nexpect regardless of where they are.\n\n291\n00:16:01.559 --> 00:16:02.138\nSo I'm gonna do that.\n\n292\n00:16:02.138 --> 00:16:03.077\nI'm gonna stick with that.\n\n293\n00:16:03.077 --> 00:16:08.416\nSo I'm gonna give me a no statement,\nI'll type N,\n\n294\n00:16:08.416 --> 00:16:13.515\nclose that out, and\nthen a * for anything else.\n\n295\n00:16:13.515 --> 00:16:19.139\nI'll go back in, and don't forget my case,\ncuz I always do, or esac.\n\n296\n00:16:19.139 --> 00:16:20.790\nAnd now we'll come and\nfill this stuff out.\n\n297\n00:16:20.790 --> 00:16:23.240\nSo if they hit yes,\nthen what do we wanna do?\n\n298\n00:16:23.240 --> 00:16:24.649\nWell, we wanna delete a user.\n\n299\n00:16:24.649 --> 00:16:26.010\nSo that's what I'm gonna do.\n\n300\n00:16:26.010 --> 00:16:27.781\nSo I'm gonna say userdel,\n\n301\n00:16:27.781 --> 00:16:32.027\nmake sure that I've got it in\nthe right spot here, just tab over.\n\n302\n00:16:32.027 --> 00:16:36.900\nuserdel, and then feed it that option.\n\n303\n00:16:36.900 --> 00:16:39.812\nIs there any options I\nwanted to add with userdel?\n\n304\n00:16:39.812 --> 00:16:43.550\nI think it's just -r for remove.\n\n305\n00:16:43.550 --> 00:16:48.840\nI think it removes their home directory\nwith a -r, if I'm not mistaken.\n\n306\n00:16:48.840 --> 00:16:52.440\nBut that's what the man pages are for,\nright, in case you forget.\n\n307\n00:16:52.440 --> 00:16:56.200\nAnd since I typically do, that's why I\ncode this stuff in, cuz I can't remember.\n\n308\n00:16:56.200 --> 00:17:02.675\nAll right, so -r and\nthen whatever the username is.\n\n309\n00:17:02.675 --> 00:17:06.930\nSo let's just add that username, so\n\n310\n00:17:06.930 --> 00:17:10.372\n-r $add_rem_username.\n\n311\n00:17:10.372 --> 00:17:15.770\nSo taking it from here, and\njust popping it down here, so userdel.\n\n312\n00:17:16.880 --> 00:17:18.034\nThere you go, bada bing.\n\n313\n00:17:18.034 --> 00:17:22.350\nI think that is all we need for that.\n\n314\n00:17:22.350 --> 00:17:25.471\nIf we wanna give it some maybe some extra,\n\n315\n00:17:25.471 --> 00:17:30.213\nsome like, this was successfully\nremoved kind of thing.\n\n316\n00:17:30.213 --> 00:17:37.490\nYou can do that,\nI like to do stuff like that.\n\n317\n00:17:37.490 --> 00:17:43.388\necho $add_rem_username\n\n318\n00:17:43.388 --> 00:17:50.517\nsuccessfully removed, like so.\n\n319\n00:17:50.517 --> 00:17:55.938\nAnd then I like to, well,\nwe'll do it like this.\n\n320\n00:17:55.938 --> 00:18:01.450\nThis is the better way to me, And\n\n321\n00:18:01.450 --> 00:18:04.990\nthen just say,\nI think I have too many spaces there.\n\n322\n00:18:06.480 --> 00:18:13.876\nAdd to the end of that,\npress Enter to continue, like so.\n\n323\n00:18:13.876 --> 00:18:19.011\nAnd now we just go back\nto our add_rem_user,\n\n324\n00:18:19.011 --> 00:18:22.830\nadd_rem, I should be good.\n\n325\n00:18:22.830 --> 00:18:27.200\nSometimes with these case statements, I'll\nput these double semi-colons like that,\n\n326\n00:18:27.200 --> 00:18:30.246\njust so I can easily see where\nthe end of that little option is.\n\n327\n00:18:30.246 --> 00:18:34.945\nIf no, then basically I'm just\n\n328\n00:18:34.945 --> 00:18:39.650\ngoing to add_rem, add_rem.\n\n329\n00:18:39.650 --> 00:18:40.310\nTake it back.\n\n330\n00:18:42.347 --> 00:18:43.240\nThat should be good.\n\n331\n00:18:43.240 --> 00:18:49.017\nAnd then here, that echo or\n\n332\n00:18:49.017 --> 00:18:52.282\njust read -p,\n\n333\n00:18:52.282 --> 00:18:58.065\nthat is not a valid option.\n\n334\n00:18:58.065 --> 00:18:59.410\nI guess I can check out this one.\n\n335\n00:19:00.870 --> 00:19:03.350\nYeah, I do need to read it.\n\n336\n00:19:03.350 --> 00:19:07.378\nAnd the reason is because if I\ngo back to the add_rem function,\n\n337\n00:19:07.378 --> 00:19:09.110\nthey'll never see this.\n\n338\n00:19:09.110 --> 00:19:14.114\nSo I'll put that in there, and\nthen again, press Enter to continue.\n\n339\n00:19:14.114 --> 00:19:17.771\nYes, sir, there we go.\n\n340\n00:19:17.771 --> 00:19:23.570\nCall that a day, add my wackity\nwackity at the end of there.\n\n341\n00:19:23.570 --> 00:19:28.094\nNo, let's keep it consistent, there we go.\n\n342\n00:19:28.094 --> 00:19:34.166\nDon't forget add_rem,\nlike that and wack wack.\n\n343\n00:19:34.166 --> 00:19:38.435\nJustin, you're being my eyes and\nears of any inconsistencies we see there?\n\n344\n00:19:38.435 --> 00:19:40.460\nOr I think I've got it down.\n\n345\n00:19:40.460 --> 00:19:42.037\n&gt;&gt; I think this one's good to go.\n\n346\n00:19:42.037 --> 00:19:45.640\nYou have all your cases,\nyou've terminated them.\n\n347\n00:19:45.640 --> 00:19:48.227\nYou have the appropriate actions for\neach of those cases.\n\n348\n00:19:48.227 --> 00:19:49.307\nYou're taking user input.\n\n349\n00:19:49.307 --> 00:19:51.900\nYou provide guidance, consistent.\n\n350\n00:19:52.970 --> 00:19:53.855\nI think this should work.\n\n351\n00:19:53.855 --> 00:19:57.824\n&gt;&gt; Yeah, I think we're there,\nthat we can test the delete function.\n\n352\n00:19:57.824 --> 00:20:00.608\nAnd unfortunately, Mr.\nWalken's gonna meet his demise here.\n\n353\n00:20:00.608 --> 00:20:03.600\nWe're gonna have to take him out and\nsee what happens.\n\n354\n00:20:03.600 --> 00:20:04.538\nLike any good monster, right?\n\n355\n00:20:04.538 --> 00:20:05.907\n&gt;&gt; Yeah.\n&gt;&gt; If you want to go out,\n\n356\n00:20:05.907 --> 00:20:07.480\nyou've got to go out in style.\n\n357\n00:20:07.480 --> 00:20:14.116\nSo let's do it here, Ctrl+O, Ctrl+X, and\nwe'll fear for fun and just ./acct-mgr.\n\n358\n00:20:14.116 --> 00:20:15.794\nDon't forget my sudo.\n\n359\n00:20:15.794 --> 00:20:21.539\nYeah, you are right,\nthere's the Mr. Thing.\n\n360\n00:20:21.539 --> 00:20:24.766\nWe have forgotten something in Add/Remove,\n\n361\n00:20:24.766 --> 00:20:28.912\nthere's syntax error on line 107,\nunexpected token.\n\n362\n00:20:28.912 --> 00:20:30.630\nWell, what have I done?\n\n363\n00:20:30.630 --> 00:20:31.904\nLine 107, here we come.\n\n364\n00:20:31.904 --> 00:20:37.077\nLet's see here, nano acct-mgr2.\n\n365\n00:20:37.077 --> 00:20:40.313\nLet's see what's going on.\n\n366\n00:20:40.313 --> 00:20:45.089\nI wish I could remember quickly the, Thing\n\n367\n00:20:45.089 --> 00:20:48.450\nto add the numbers to the lines,\nbut I don't typically do that.\n\n368\n00:20:48.450 --> 00:20:52.019\nBut it's got to be down in here somewhere,\nbecause we know that our first if\n\n369\n00:20:52.019 --> 00:20:54.638\nstatement is working cuz we've tested it,\nit works.\n\n370\n00:20:54.638 --> 00:20:56.564\nSo we know it's in here in this lf.\n\n371\n00:20:57.990 --> 00:20:59.182\nSo what are we forgetting?\n\n372\n00:20:59.182 --> 00:21:00.541\nWhat are we forgetting?\n\n373\n00:21:00.541 --> 00:21:05.567\nread -p, looks good, read -p\n\n374\n00:21:05.567 --> 00:21:10.416\nadd remove in here looks good.\n\n375\n00:21:10.416 --> 00:21:17.410\nThen yn remove, add remove,\nthere's our problem, right there.\n\n376\n00:21:17.410 --> 00:21:19.246\nSee, just takes a little\nbit of going back over.\n\n377\n00:21:19.246 --> 00:21:22.720\nAnd even though Justin and I both took\na look at it, nothing stood out to us,\n\n378\n00:21:22.720 --> 00:21:24.500\nbecause it's a little simple thing.\n\n379\n00:21:24.500 --> 00:21:28.445\nAnd you're just gonna have to work with\nthese little bugs from time to time here.\n\n380\n00:21:28.445 --> 00:21:31.386\nSo there's our problem if\nyou haven't seen it already,\n\n381\n00:21:31.386 --> 00:21:33.050\nwe forgot to add a double quote.\n\n382\n00:21:34.500 --> 00:21:35.594\nSo I think that should be it.\n\n383\n00:21:35.594 --> 00:21:38.329\nHopefully, maybe we'll hit another\nsyntax error, you never know.\n\n384\n00:21:38.329 --> 00:21:39.844\n[LAUGH]\n&gt;&gt; And to some extent I want to draw\n\n385\n00:21:39.844 --> 00:21:40.398\nattention.\n\n386\n00:21:40.398 --> 00:21:41.614\nIt actually pointed us\nin the wrong direction.\n\n387\n00:21:41.614 --> 00:21:42.604\n&gt;&gt; Yes, it did.\n\n388\n00:21:42.604 --> 00:21:45.272\n&gt;&gt; It actually said a syntax\nerror with a parenthesis, so\n\n389\n00:21:45.272 --> 00:21:48.470\nmy initial thought was all right,\nlet me go there.\n\n390\n00:21:48.470 --> 00:21:49.400\nAnd I looked and I was like,\n\n391\n00:21:49.400 --> 00:21:51.940\nthat case statement's the only\nplace where we have parentheses.\n\n392\n00:21:51.940 --> 00:21:52.965\nThat looks fine.\n\n393\n00:21:52.965 --> 00:21:54.440\n&gt;&gt; And that's actually why I missed it,\n\n394\n00:21:54.440 --> 00:21:56.380\nbecause I was so\nfocused on the case statement.\n\n395\n00:21:56.380 --> 00:21:59.360\n&gt;&gt; But in scripting languages,\nthis is actually a common occurrence.\n\n396\n00:21:59.360 --> 00:22:00.034\n&gt;&gt; Cuz it's line by line.\n\n397\n00:22:00.034 --> 00:22:04.100\n&gt;&gt; It'll kinda propagate down below,\nand it'll say hey, this is broke.\n\n398\n00:22:04.100 --> 00:22:07.719\nWell, that's broke, because you\nactually have something broke up here.\n\n399\n00:22:07.719 --> 00:22:10.380\n&gt;&gt; And if you look at it,\nyou see exactly why that occurred.\n\n400\n00:22:10.380 --> 00:22:13.072\nRemember, if I don't have\nthese double quotes here,\n\n401\n00:22:13.072 --> 00:22:16.000\nit's going to think that\neverything between this quote and\n\n402\n00:22:16.000 --> 00:22:18.764\nthe next double quote it\nfinds is what you're calling.\n\n403\n00:22:18.764 --> 00:22:20.500\nWhere's the next double quote?\n\n404\n00:22:20.500 --> 00:22:25.477\nDown here, and then it's seeing this\nas a special character and going,\n\n405\n00:22:25.477 --> 00:22:26.876\nwhat are you doing?\n\n406\n00:22:26.876 --> 00:22:30.539\nThat's why we got that wonky output.\n\n407\n00:22:30.539 --> 00:22:33.731\nIf they give us the general\nvicinity of things, and we kind of\n\n408\n00:22:33.731 --> 00:22:38.600\nknew the general vicinity, because we knew\nthat everything above it was working.\n\n409\n00:22:38.600 --> 00:22:43.830\nBut sometimes you've gotta\nkind of scan around and see.\n\n410\n00:22:43.830 --> 00:22:45.129\nWell, I know it's in this area.\n\n411\n00:22:45.129 --> 00:22:48.009\nLet me just verify every one of my lines\nare looking like they're supposed to\n\n412\n00:22:48.009 --> 00:22:48.556\nlook, okay?\n\n413\n00:22:48.556 --> 00:22:50.485\nSo here we need this Ctrl+O.\n\n414\n00:22:50.485 --> 00:22:53.445\nHopefully, that's the only\nsyntactical error that we have.\n\n415\n00:22:53.445 --> 00:22:56.520\nYes, big double these.\n\n416\n00:22:56.520 --> 00:22:58.210\nFire it off again.\n\n417\n00:22:58.210 --> 00:23:02.780\nLooking good, going here,\nwe're going to remove a user.\n\n418\n00:23:02.780 --> 00:23:07.339\nEverything so far is working great,\nusername to remove, that will be cwalken.\n\n419\n00:23:07.339 --> 00:23:09.180\nConfirm cwalken?\n\n420\n00:23:09.180 --> 00:23:11.922\nYep, cwalken not found.\n\n421\n00:23:11.922 --> 00:23:13.040\nOkay, that's fine.\n\n422\n00:23:13.040 --> 00:23:17.108\nThis was just an error,\nit was the userdel apparently looks for\n\n423\n00:23:17.108 --> 00:23:19.121\nthis /var/mail/cwalken.\n\n424\n00:23:19.121 --> 00:23:22.779\nAnd it did not exist, so there was\na standard error output that came and\n\n425\n00:23:22.779 --> 00:23:24.100\nthat came to our screen.\n\n426\n00:23:24.100 --> 00:23:25.476\nGood stuff for us, that's nice to know.\n\n427\n00:23:25.476 --> 00:23:28.550\nNot found, but\ncwalken was successfully removed.\n\n428\n00:23:28.550 --> 00:23:29.186\nPress Enter to continue.\n\n429\n00:23:29.186 --> 00:23:31.600\nAnd now it looks good.\n\n430\n00:23:31.600 --> 00:23:33.558\nBut was cwalken removed?\n\n431\n00:23:33.558 --> 00:23:38.790\nWell, we'll have to do the old checking\nand see if that actually occurred.\n\n432\n00:23:38.790 --> 00:23:45.254\nAnd we will grep for\ncwalken in /etc/password.\n\n433\n00:23:45.254 --> 00:23:48.130\nI have no return.\n\n434\n00:23:48.130 --> 00:23:54.116\nHe's gone if we ls /home,\nhe no longer exists on the system.\n\n435\n00:23:54.116 --> 00:23:58.220\nSo our userdel seems to be\nworking quite nicely so far.\n\n436\n00:23:58.220 --> 00:24:01.570\nJust now looking at our clock,\nI know we've got a little bit more to go.\n\n437\n00:24:01.570 --> 00:24:05.170\nWe got a few other things we\nneed to code in to finish up.\n\n438\n00:24:05.170 --> 00:24:08.397\nPut the last few buttons on\nthis suit of armor here, but\n\n439\n00:24:08.397 --> 00:24:11.288\nI don't think we have the time for\nit in this one.\n\n440\n00:24:11.288 --> 00:24:13.761\n&gt;&gt; I would agree, and\nwe still gotta list the users and\n\n441\n00:24:13.761 --> 00:24:16.420\nthere's a couple of maybe\nthings we go back and tweak.\n\n442\n00:24:16.420 --> 00:24:19.446\nAnd we need to afford the time\nto treat those appropriately.\n\n443\n00:24:19.446 --> 00:24:24.238\nSo join us back for\na part four, yes, you heard it,\n\n444\n00:24:24.238 --> 00:24:28.032\npart four in user account management.\n\n445\n00:24:28.032 --> 00:24:28.952\nMan, I messed those up.\n\n446\n00:24:28.952 --> 00:24:30.428\n&gt;&gt; [LAUGH]\n&gt;&gt; But for this episode,\n\n447\n00:24:30.428 --> 00:24:32.180\nwe're gonna go ahead and cut it off.\n\n448\n00:24:32.180 --> 00:24:34.995\nSo signing off for ITProTV,\nI've been your host, Justin Dennison,\n\n449\n00:24:34.995 --> 00:24:35.572\n&gt;&gt; And I'm Daniel Lowrie.\n\n450\n00:24:35.572 --> 00:24:37.110\n&gt;&gt; And we'll see you next time.\n\n451\n00:24:37.110 --> 00:24:44.244\n[MUSIC]\n\n452\n00:24:44.244 --> 00:24:47.636\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "238657662"
        },
        {
          "description": "In this episode, Daniel and Justin bolt their first function onto their Account Management utility. Here they demonstrate and explain the who/what/when/where/why/how of exerting control over adding, deleting, and listing user accounts.",
          "length": "965",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-2-4-user_account_mananger_addremove_users_pt_4-101717-PGM.00_15_51_05.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-2-4-user_account_mananger_addremove_users_pt_4-101717-PGM.00_15_51_05.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-2-4-user_account_mananger_addremove_users_pt_4-101717-PGM.00_15_51_05.Still001-sm.jpg",
          "title": "User Account Manager Add/Remove Users Pt4",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:03.017\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:03.017 --> 00:00:06.340\n[CROSSTALK].\n\n3\n00:00:06.340 --> 00:00:08.165\n[MUSIC]\n\n4\n00:00:08.165 --> 00:00:11.746\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.746 --> 00:00:15.577\n&gt;&gt; Greetings everyone, and welcome to\nanother exciting episode of ITProTV.\n\n6\n00:00:15.577 --> 00:00:18.843\nI'm your host, Justin Dennison and\nwe're continuing on on the part four.\n\n7\n00:00:18.843 --> 00:00:21.055\nWe never thought we would get here, but\n\n8\n00:00:21.055 --> 00:00:23.543\nwell sometimes time\njust gets away from us.\n\n9\n00:00:23.543 --> 00:00:27.800\nThat's a part four of managing our users\nin our creating practical scripts episode.\n\n10\n00:00:27.800 --> 00:00:29.310\nWe have a few last things to do.\n\n11\n00:00:29.310 --> 00:00:32.360\nThis is a kind of a tidying up part,\nwe hope.\n\n12\n00:00:32.360 --> 00:00:34.816\nAnd here to help us along in that\nendeavor is Mr. Daniel Lowrie.\n\n13\n00:00:34.816 --> 00:00:35.550\nHow are you doing today, Daniel?\n\n14\n00:00:35.550 --> 00:00:36.750\n&gt;&gt; Doing fantastic, Justin.\n\n15\n00:00:36.750 --> 00:00:39.580\nGlad to be back in the show,\nobviously, here with you good folks.\n\n16\n00:00:39.580 --> 00:00:42.510\nCuz you both make the world\ngo round in my eyes anyway.\n\n17\n00:00:42.510 --> 00:00:46.620\nAnd I do thank you for joining us, because\nwe are going to put some finishing touches\n\n18\n00:00:46.620 --> 00:00:51.150\non this ad remove program function for\nour account management script.\n\n19\n00:00:51.150 --> 00:00:55.910\nThat is the hope of this host, [LAUGH]\nanyway, to get that buttoned up for\n\n20\n00:00:55.910 --> 00:00:58.020\nus so that we can put that to bed, and\n\n21\n00:00:58.020 --> 00:01:00.640\nmove on to other things\ninside of this thing, right?\n\n22\n00:01:00.640 --> 00:01:03.410\nSo that being said,\nlet's take a look at where we left off.\n\n23\n00:01:03.410 --> 00:01:08.080\nAnd see what odds and ends we have left\nto do, so that we can get that done.\n\n24\n00:01:08.080 --> 00:01:12.300\nAll right,\nlet's jump back on the machine here and\n\n25\n00:01:12.300 --> 00:01:15.844\nI will say nano and it is acct.mgr2.sh.\n\n26\n00:01:15.844 --> 00:01:20.290\nHere we go, and right at the top\nour good friend Add/Remove.\n\n27\n00:01:20.290 --> 00:01:22.260\nWe have done a lot, ladies and gents.\n\n28\n00:01:22.260 --> 00:01:27.224\nWe have done option 1,\nadd a user to the system.\n\n29\n00:01:27.224 --> 00:01:30.400\nAnd we tested it, it works like we expect.\n\n30\n00:01:30.400 --> 00:01:33.860\nWe have done delete a user for option 2.\n\n31\n00:01:33.860 --> 00:01:35.570\nThat all works,it went great.\n\n32\n00:01:35.570 --> 00:01:37.800\nPoor Chris Walken,\nhe's no longer in our system.\n\n33\n00:01:37.800 --> 00:01:38.650\nHe left the company.\n\n34\n00:01:38.650 --> 00:01:41.713\nUnfortunately, we couldn't keep him.\n\n35\n00:01:41.713 --> 00:01:44.790\nHe asked for a lot of money and we just\ncan't afford that, it's unfortunate.\n\n36\n00:01:44.790 --> 00:01:48.507\nNow we've got option 3\nwhich we need to fill out.\n\n37\n00:01:48.507 --> 00:01:52.820\nWe also need to do the main menu,\ngetting back to the main menu.\n\n38\n00:01:52.820 --> 00:01:55.821\nAnd well,\nactually option x is already kinda done.\n\n39\n00:01:55.821 --> 00:01:58.080\nCuz what does that do\nit exits the program.\n\n40\n00:01:58.080 --> 00:02:01.330\nSo, that's technically in the bag already.\n\n41\n00:02:01.330 --> 00:02:05.490\nSo that's good, so\nnot a whole lot left to go with, so\n\n42\n00:02:05.490 --> 00:02:07.430\nwe've just got to jump into option 3.\n\n43\n00:02:07.430 --> 00:02:09.430\nSo what was option 3,\n\n44\n00:02:09.430 --> 00:02:14.590\nwe scroll back up look at our menu,\na yes, it is a listing on the users.\n\n45\n00:02:14.590 --> 00:02:17.530\nSo this should be a fairly\nsimple block of code for that,\n\n46\n00:02:17.530 --> 00:02:20.810\nlike I said some odds and\nends that we just want give and\n\n47\n00:02:20.810 --> 00:02:25.110\nlend to a better user experience when\nthey work with our program, right?\n\n48\n00:02:25.110 --> 00:02:27.580\nEven if that person is our self.\n\n49\n00:02:27.580 --> 00:02:32.600\nSo let's do that, let's list out\nthe users and get that very thing.\n\n50\n00:02:32.600 --> 00:02:34.300\nSo I come down to option 3, so\n\n51\n00:02:34.300 --> 00:02:38.880\ninstead of echoing option 3,\nwhat is it that I want to do?\n\n52\n00:02:40.210 --> 00:02:43.510\nWell, I'm going to be talking to\nEtsy password because that's where\n\n53\n00:02:43.510 --> 00:02:44.820\nthe users are.\n\n54\n00:02:44.820 --> 00:02:48.953\nI just want the username field, really.\n\n55\n00:02:48.953 --> 00:02:52.490\nThat should suffice for my purposes.\n\n56\n00:02:52.490 --> 00:02:57.820\nSomething quick and dirty, maybe go back\nlater if I found that was insufficient.\n\n57\n00:02:57.820 --> 00:03:00.790\nBut I think right now just starting\noff with the username field.\n\n58\n00:03:00.790 --> 00:03:04.250\nSo we're going to parse through\nthe Etsy password file,\n\n59\n00:03:04.250 --> 00:03:09.260\ngrab that username field, and\nthen throw that out to the user, okay?\n\n60\n00:03:09.260 --> 00:03:13.410\nSo let's do that,\nfirst thing we need to do is,\n\n61\n00:03:13.410 --> 00:03:15.160\nwell be need to parse\nthat Etsy password file.\n\n62\n00:03:15.160 --> 00:03:20.461\nSo, what we'll do is we'll say, let's see.\n\n63\n00:03:20.461 --> 00:03:21.600\nHow do I want to do this?\n\n64\n00:03:21.600 --> 00:03:25.250\nI want to, I'll say var,\nwe've already got the login.\n\n65\n00:03:25.250 --> 00:03:29.862\nSo we'll say, var1 sometimes I\nget generic on my variables.\n\n66\n00:03:29.862 --> 00:03:33.120\nJust cuz this is quick and dirty,\nmaybe I'll go back and factor that later.\n\n67\n00:03:33.120 --> 00:03:36.256\nBut let's just start with var1 =, and\n\n68\n00:03:36.256 --> 00:03:41.516\nwe'll do our command substitution\ncats /etc/password like so,\n\n69\n00:03:41.516 --> 00:03:47.160\nand then I know that if I cannot see\npassword she is going to dump the file.\n\n70\n00:03:47.160 --> 00:03:50.074\nSo I could probably just use\nawk to grab that first field,\n\n71\n00:03:50.074 --> 00:03:52.820\nwhich is exactly what I need so\nI will pipe that to awk.\n\n72\n00:03:54.470 --> 00:03:56.275\nAnd start that the correct way.\n\n73\n00:03:56.275 --> 00:03:58.047\nWell, I'm going crazy over here,\n\n74\n00:03:58.047 --> 00:04:01.663\nJustin, I'm losing my ever loving\nmind try this forever, there we go.\n\n75\n00:04:01.663 --> 00:04:04.474\nThat's how we start it off,\n\n76\n00:04:04.474 --> 00:04:10.109\nI'm going to say print $1 and\nclose that out like that.\n\n77\n00:04:10.109 --> 00:04:17.546\nI think that's probably all I'm gonna\nneed, close out my parentheses there.\n\n78\n00:04:17.546 --> 00:04:25.546\nI think that'll work, then I'll just\necho var1, go $var1, like that.\n\n79\n00:04:25.546 --> 00:04:30.100\nThat works, well, I mean that should work.\n\n80\n00:04:30.100 --> 00:04:34.140\nThen I'll just have my, I wanna give\nmy user time to look through that.\n\n81\n00:04:34.140 --> 00:04:35.828\nSo I'm gonna do my read -p thing.\n\n82\n00:04:35.828 --> 00:04:45.690\nRead -p Press ENTER to continue,\nclose that out.\n\n83\n00:04:45.690 --> 00:04:49.342\nAnd then just go back to the Add/Remove,\ncuz if you're listing the users, you're\n\n84\n00:04:49.342 --> 00:04:52.953\nprobably just wanting to verify whether or\nnot the user you just added is now there.\n\n85\n00:04:52.953 --> 00:04:55.956\nOr to see if the user you\nwant to add is not there,\n\n86\n00:04:55.956 --> 00:04:59.580\neven though our script kind\nof already does that as well.\n\n87\n00:04:59.580 --> 00:05:03.115\nIt never hurts to look at the file\nto get some good information before\n\n88\n00:05:03.115 --> 00:05:04.425\nyou start doing things.\n\n89\n00:05:04.425 --> 00:05:10.269\nSo that's what l'll do,\nI will just go back to add_rem, like that.\n\n90\n00:05:10.269 --> 00:05:13.640\nI think that's it,\nthat should button up just nicely.\n\n91\n00:05:13.640 --> 00:05:17.051\nSo let's save it, let's test it,\nmake sure it's working for us.\n\n92\n00:05:17.051 --> 00:05:21.693\nCtrl+O and yep, Ctrl+X.\n\n93\n00:05:21.693 --> 00:05:27.974\nHere we go,\nsudo acct mgr- man I'm horrible,\n\n94\n00:05:27.974 --> 00:05:32.698\nhorrible -/acct.mngr2.sh.\n\n95\n00:05:32.698 --> 00:05:37.000\nPassword yeah,\nI think I mistype my password.\n\n96\n00:05:37.000 --> 00:05:40.777\nTry one more time, there we go.\n\n97\n00:05:40.777 --> 00:05:42.740\nAll right, lets go in here.\n\n98\n00:05:42.740 --> 00:05:46.280\nOption 3 is what we wanna test cuz\nwe know 1 and 2 already works.\n\n99\n00:05:46.280 --> 00:05:48.052\nGo to three, hit it.\n\n100\n00:05:48.052 --> 00:05:54.430\nAll right, so we go to come back but\nit didn't do exactly what I wanted to do,\n\n101\n00:05:54.430 --> 00:05:58.280\nso I got to look at my output here,\nand see what's happening.\n\n102\n00:05:58.280 --> 00:06:04.810\nI'm getting the entirety\nof the thing here.\n\n103\n00:06:04.810 --> 00:06:06.800\nSee, I'm going from root to bash here,\nthen it starts,\n\n104\n00:06:06.800 --> 00:06:11.290\nDave, it's giving me all that,\ninstead of aucking that first field.\n\n105\n00:06:11.290 --> 00:06:14.483\nWhich is interesting, hm, wonder\nwhat's going on, have to look at it.\n\n106\n00:06:14.483 --> 00:06:17.400\n&gt;&gt; I'm pretty sure, that's one of\nthose things we didn't get the output.\n\n107\n00:06:17.400 --> 00:06:20.340\nThis is a run,\nwhat I would call a run time error.\n\n108\n00:06:20.340 --> 00:06:25.240\nThink you'd expect it, it works,\nbut it's not the expected output.\n\n109\n00:06:25.240 --> 00:06:28.030\nI think you hit the nail on the head\ncuz I had the some thing on my mind.\n\n110\n00:06:28.030 --> 00:06:31.870\nIt has to be something with that awk\nexpression, or that kind of awk statement,\n\n111\n00:06:31.870 --> 00:06:34.880\nso for me that would probably be the first\nplace I would go back and check.\n\n112\n00:06:34.880 --> 00:06:37.390\n&gt;&gt; Yeah,\nI think that's where our trouble is.\n\n113\n00:06:37.390 --> 00:06:42.440\nAnd again, like Justin said,\nit works, but not perfectly.\n\n114\n00:06:42.440 --> 00:06:44.420\nSo I probably just forgot to do something.\n\n115\n00:06:44.420 --> 00:06:48.560\nI have a syntax problem with it, so\nit's not working like it should.\n\n116\n00:06:48.560 --> 00:06:50.410\nSo let's take a look and\nsee what's going on there.\n\n117\n00:06:50.410 --> 00:06:52.830\nAll right, so\nI'll press Enter to continue, though, and\n\n118\n00:06:52.830 --> 00:06:53.630\nit does bring me back.\n\n119\n00:06:53.630 --> 00:06:56.160\nSo everything is technically working,\n\n120\n00:06:56.160 --> 00:07:00.170\nwe just need to modify that output\na little bit with that option.\n\n121\n00:07:00.170 --> 00:07:06.972\nX to exit, nano that guy,\nlet's go down to that option 3.\n\n122\n00:07:06.972 --> 00:07:13.607\nHere we are, so here we are, and here's\nthe var1=cat/etc/password up that to awk,\n\n123\n00:07:13.607 --> 00:07:17.510\nand then prints, so\nI think I found my problem here.\n\n124\n00:07:17.510 --> 00:07:20.380\nMy problem is I forgot\nthe field separator.\n\n125\n00:07:20.380 --> 00:07:23.150\nI forgot to say,\nbreak this up into fields.\n\n126\n00:07:23.150 --> 00:07:28.090\nSo it's seeing that long string\nas field number one, okay?\n\n127\n00:07:28.090 --> 00:07:30.260\nSo that whole thing is the first field.\n\n128\n00:07:30.260 --> 00:07:34.930\nI need to say, well, delimit by the colon\nbecause that's what's being delimited and\n\n129\n00:07:34.930 --> 00:07:37.890\nthen grab field one,\nand move line by line.\n\n130\n00:07:37.890 --> 00:07:40.601\nOkay, so that's what I'll do,\nthat's the problem.\n\n131\n00:07:40.601 --> 00:07:47.845\n-F, add the : save, exit,\nand let's try again.\n\n132\n00:07:47.845 --> 00:07:52.360\nGo to 1, go to 3,\nthat's a whole lot better, right?\n\n133\n00:07:52.360 --> 00:07:55.567\nNow I can see root daemon bin system.\n\n134\n00:07:55.567 --> 00:08:00.480\nAnd then I can continue to go on maybe\nmake it a little more formatted if I\n\n135\n00:08:00.480 --> 00:08:04.580\nlike but for my intensive purposes,\nI think this is good.\n\n136\n00:08:04.580 --> 00:08:06.859\nI can see dlowerie is here, and\n\n137\n00:08:06.859 --> 00:08:11.880\nnew users typically are added to\nthe end of that Etsy password file.\n\n138\n00:08:11.880 --> 00:08:14.690\nSo, I'll know that I'll always be\nlooking toward the end of that for\n\n139\n00:08:14.690 --> 00:08:16.922\nnew users that I create.\n\n140\n00:08:16.922 --> 00:08:21.076\nSo now, that functionality is good,\nit's good to go, it's rocking,\n\n141\n00:08:21.076 --> 00:08:22.450\nI like the way it looks.\n\n142\n00:08:22.450 --> 00:08:25.592\nIf I don't, if one day I wanna change\nit I can like a set reformat to make\n\n143\n00:08:25.592 --> 00:08:27.110\nit look maybe a little prettier.\n\n144\n00:08:27.110 --> 00:08:31.910\nBut I think for intents and purposes this\nis good to go, to denser brings me back\n\n145\n00:08:31.910 --> 00:08:36.290\nthere's the screen and now I'm gonna do\nthis couple more buttons up, that's it.\n\n146\n00:08:36.290 --> 00:08:40.090\n&gt;&gt; Yeah, I think what we have left we\nhave to go back to the main menu get make\n\n147\n00:08:40.090 --> 00:08:40.920\nsure that works.\n\n148\n00:08:40.920 --> 00:08:42.670\nAnd you should always do that.\n\n149\n00:08:42.670 --> 00:08:45.440\nIf you have this kind of formed\nprogression menu system,\n\n150\n00:08:45.440 --> 00:08:49.120\nyou need to have a way of coming\nback instead of just an exit, right?\n\n151\n00:08:49.120 --> 00:08:52.642\nYou don't want a terminal path, and\nthen go, we'll you got to exit here.\n\n152\n00:08:52.642 --> 00:08:55.604\nIt's kinda like those phone trees, where\nyou're like, I wanna talk to an operator,\n\n153\n00:08:55.604 --> 00:08:56.431\noperator, operator.\n\n154\n00:08:56.431 --> 00:08:57.111\n&gt;&gt; Yeah.\n\n155\n00:08:57.111 --> 00:08:59.028\n&gt;&gt; And it's like,\nplease hang up and try again.\n\n156\n00:08:59.028 --> 00:09:01.597\n&gt;&gt; [LAUGH] No, I'm not, no, I'm not.\n\n157\n00:09:01.597 --> 00:09:03.104\n&gt;&gt; [LAUGH]\n&gt;&gt; So it's nice,\n\n158\n00:09:03.104 --> 00:09:05.390\nI always think of it as a like a web page.\n\n159\n00:09:05.390 --> 00:09:08.750\nYou ever been to a web page where other\nthan the back button it doesn't give you\n\n160\n00:09:08.750 --> 00:09:11.960\nany links to navigate other\nthan a linear progression.\n\n161\n00:09:11.960 --> 00:09:12.770\nIt's kind of annoying.\n\n162\n00:09:12.770 --> 00:09:13.800\n&gt;&gt; Yeah, it's super annoying.\n\n163\n00:09:13.800 --> 00:09:16.570\nAnd that's why I like to do this\ncuz I like to be able to go,\n\n164\n00:09:16.570 --> 00:09:19.870\nwell, I'm done with this but\nI'm not done with the program.\n\n165\n00:09:19.870 --> 00:09:21.410\nSo I wanna go back.\n\n166\n00:09:21.410 --> 00:09:24.942\nAnd if I don't allow that\nfunctionality for myself,\n\n167\n00:09:24.942 --> 00:09:29.910\nit's a really clunky user experience,\nfor lack of a better term.\n\n168\n00:09:29.910 --> 00:09:32.220\nSo let's put that in here,\nI'm going to exit out.\n\n169\n00:09:32.220 --> 00:09:35.800\nWe'll go back into nano, let's go ahead\nand add that should be very simple to do,\n\n170\n00:09:35.800 --> 00:09:41.080\nwe're just basically going back,\nrecursively calling this guy here.\n\n171\n00:09:41.080 --> 00:09:43.360\nSo we're gonna go in here,\ninstead of echoing.\n\n172\n00:09:43.360 --> 00:09:48.430\nWe're gonna say, Let's see,\ndo I wanna add any fanciness to it?\n\n173\n00:09:48.430 --> 00:09:49.570\nNo, I just wanna go to the main menu.\n\n174\n00:09:49.570 --> 00:09:52.360\nIf I hit m, take me to the main menu,\ndon't give me any kind of prompting,\n\n175\n00:09:52.360 --> 00:09:52.880\njust do it.\n\n176\n00:09:52.880 --> 00:09:58.380\nSo I'll say main_menu like that,\nand that should be it.\n\n177\n00:09:58.380 --> 00:10:03.140\nSo easy to code in at this point because\nwe're not getting fancy with it.\n\n178\n00:10:04.310 --> 00:10:06.620\nExit is already done,\nif we hit x it does that.\n\n179\n00:10:06.620 --> 00:10:11.100\nWe do need to test this, Ctrl+O,\nCtrl+X, let's run it again.\n\n180\n00:10:11.100 --> 00:10:14.740\nHere we go, we hit 1,\nit takes us to the Add/Remove users.\n\n181\n00:10:14.740 --> 00:10:18.000\nNow, if we hit m,\nit takes me back to the main menu.\n\n182\n00:10:18.000 --> 00:10:20.420\nIf I hit 1 again, I hit capital M.\n\n183\n00:10:21.460 --> 00:10:22.960\nIt takes me back to the main menu.\n\n184\n00:10:22.960 --> 00:10:25.470\nExcellent, so\nthat functionality is already put in.\n\n185\n00:10:25.470 --> 00:10:26.420\nVery simple thing to do,\n\n186\n00:10:26.420 --> 00:10:30.900\njust like I said recursively calling to\nthe function that we want to move to.\n\n187\n00:10:30.900 --> 00:10:32.250\nVery good.\n\n188\n00:10:32.250 --> 00:10:36.760\nNow, looking over our system,\nif we go to the Add/Remove users,\n\n189\n00:10:36.760 --> 00:10:41.160\nthere is one thing that kind of\nskipped over, and I did that for\n\n190\n00:10:41.160 --> 00:10:45.228\npurposes of lets make sure that everything\nwe wanna do is what we wanna do.\n\n191\n00:10:45.228 --> 00:10:49.366\nI want to test the main things first,\nand then come back and\n\n192\n00:10:49.366 --> 00:10:51.400\ngive it a little factoring.\n\n193\n00:10:51.400 --> 00:10:57.830\nIf we go into add an user,\nwell it checks to see if that user exists.\n\n194\n00:10:57.830 --> 00:11:00.520\nBut there's the problem we\ndidn't make in any account for\n\n195\n00:11:00.520 --> 00:11:04.510\nwhether or not,\nwhat if it finds the same name, okay?\n\n196\n00:11:04.510 --> 00:11:08.470\nSo if a name does exist, and\nit finds that, what does it do?\n\n197\n00:11:08.470 --> 00:11:10.240\nWe didn't put that in, okay?\n\n198\n00:11:10.240 --> 00:11:11.740\nSo we need to add that functionality.\n\n199\n00:11:11.740 --> 00:11:13.650\nAnd I think once we get that in there,\n\n200\n00:11:13.650 --> 00:11:18.220\nwe should have a pretty much fully\nviable product ready to go, and\n\n201\n00:11:18.220 --> 00:11:21.030\nwith all the bells and whistles and\npolishes on it that we would like.\n\n202\n00:11:21.030 --> 00:11:22.670\nSo let's add that.\n\n203\n00:11:22.670 --> 00:11:24.690\nAnd now,\nwe're gonna wipe our hands of add and\n\n204\n00:11:24.690 --> 00:11:27.640\nremove users in our account management\nsystem, it's gonna be cool.\n\n205\n00:11:27.640 --> 00:11:32.940\nSo let's exit, let's get back into code,\nnano it up, here we go.\n\n206\n00:11:32.940 --> 00:11:38.570\nSo we'll jump back into the add\nuser option, which is right here.\n\n207\n00:11:38.570 --> 00:11:44.168\nSo we've got this if,\n[COUGH] right here, but it says,\n\n208\n00:11:44.168 --> 00:11:50.152\nif add rem name does not equal\nadd rem check, then do this.\n\n209\n00:11:50.152 --> 00:11:54.470\nSo I didn't find a match in any password.\n\n210\n00:11:54.470 --> 00:11:55.460\nWhat if I do find a password?\n\n211\n00:11:55.460 --> 00:11:58.980\nWe didn't make an account for\nthat, so that's what we gotta do.\n\n212\n00:11:58.980 --> 00:12:04.098\nSo let's go in here and we'll jump down,\n\n213\n00:12:04.098 --> 00:12:10.973\nand we'll say ellf like this,\nand we'll say what if and\n\n214\n00:12:10.973 --> 00:12:16.240\nI'll make sure to use my double quotations\n\n215\n00:12:16.240 --> 00:12:24.650\nthis time \"$add_rem_name\"\n= \"$add_rem_check\".\n\n216\n00:12:24.650 --> 00:12:28.081\nSo do these guys, are they synonymous?\n\n217\n00:12:28.081 --> 00:12:31.520\nDo they have the same\nvalues inside of them?\n\n218\n00:12:31.520 --> 00:12:37.232\nAnd once we figure that out we can close\nthis out here, don't forget to do that.\n\n219\n00:12:37.232 --> 00:12:40.525\nGet my then statement,\nwhat do I want to do?\n\n220\n00:12:40.525 --> 00:12:45.720\nWell basically, I just wanna say,\nhey, that user already exists, okay?\n\n221\n00:12:45.720 --> 00:12:51.010\nLet's just put that in there, a basic\neasy thing, just a kind of a catch to say\n\n222\n00:12:51.010 --> 00:12:54.100\ninteger is already in there,\nyou might wanna try something else.\n\n223\n00:12:54.100 --> 00:12:57.220\nSo I'll do it like echo User and\n\n224\n00:12:57.220 --> 00:13:02.622\nI'll put $add_ rem_ now\nuse the name because since\n\n225\n00:13:02.622 --> 00:13:07.664\nthey're equal I could have\nused either one of them\n\n226\n00:13:07.664 --> 00:13:13.208\nbecause they're gonna come\nback with the same value.\n\n227\n00:13:13.208 --> 00:13:20.240\nBut I'll use that one for here,\nalready exists in the system.\n\n228\n00:13:23.150 --> 00:13:25.655\nLet's see here,\nwhat I wanna do anything else after that?\n\n229\n00:13:25.655 --> 00:13:27.170\nLet me see what I put in my notes.\n\n230\n00:13:27.170 --> 00:13:30.985\nI think just basically let them know.\n\n231\n00:13:30.985 --> 00:13:32.161\nI wanna make sure they can do it and\n\n232\n00:13:32.161 --> 00:13:34.350\nthen take them back to\nthe original functionality.\n\n233\n00:13:34.350 --> 00:13:36.360\nPretty simple stuff,\nenough again, nothing fancy.\n\n234\n00:13:36.360 --> 00:13:38.500\nIf you want to, you could add extra stuff.\n\n235\n00:13:38.500 --> 00:13:42.200\nBut I think to keep\nthings flowing well and\n\n236\n00:13:42.200 --> 00:13:45.960\nclean, that just make it easy like this.\n\n237\n00:13:45.960 --> 00:13:50.171\nI'll say, read -p\n\n238\n00:13:50.171 --> 00:13:55.625\nPress ENTER to continue.\n\n239\n00:13:55.625 --> 00:13:57.960\nJust to break that up a little bit.\n\n240\n00:13:57.960 --> 00:14:02.409\nAnd then once they press Enter\nthey're gonna go back to add_rem.\n\n241\n00:14:03.520 --> 00:14:08.830\nAll right, I think that should be,\nI think that should be good.\n\n242\n00:14:08.830 --> 00:14:11.660\nIf I have forgotten something\nwe'll find out shortly.\n\n243\n00:14:11.660 --> 00:14:14.243\nSo let's do it,\nlet's save it, let's run it.\n\n244\n00:14:14.243 --> 00:14:18.670\nLet's see, oop, wrong thing,\n[LAUGH] for x that's what I want.\n\n245\n00:14:19.720 --> 00:14:21.370\nTry that and run this again.\n\n246\n00:14:21.370 --> 00:14:25.540\nNow, I'm already a user so\nI should be able to check against myself.\n\n247\n00:14:25.540 --> 00:14:26.613\nSo we'll do that.\n\n248\n00:14:26.613 --> 00:14:30.740\nGo to 1, and we will say,\nAdd a User so hit 1.\n\n249\n00:14:30.740 --> 00:14:33.715\nI'll say the first name is\nDaniel last name is Lowerie.\n\n250\n00:14:34.930 --> 00:14:38.940\nDaniel Lowrie, already exists in\nthe system press enter to continue.\n\n251\n00:14:38.940 --> 00:14:41.770\nSo perfect,\nit wasn't too difficult we got everything.\n\n252\n00:14:41.770 --> 00:14:45.250\nAn then, once I hit Enter it takes\nme right back into my factoring\n\n253\n00:14:45.250 --> 00:14:48.680\nof my function, and I'm set to jet.\n\n254\n00:14:49.780 --> 00:14:52.720\nMy man, I think that we have a fully\n\n255\n00:14:52.720 --> 00:14:56.650\nfunctioning function inside of\nour account manager system.\n\n256\n00:14:56.650 --> 00:14:58.020\n&gt;&gt; And I believe so as well.\n\n257\n00:14:58.020 --> 00:15:02.170\nAt least for a kinda minimal viable\nproduct right, our first incarnation.\n\n258\n00:15:02.170 --> 00:15:05.640\nYou may find that you need to\nextend this at a later date.\n\n259\n00:15:05.640 --> 00:15:10.520\nBut I think these are a good set of core,\nof functionality.\n\n260\n00:15:10.520 --> 00:15:12.230\nI mean, I know it's a function but-\n&gt;&gt; Yeah.\n\n261\n00:15:12.230 --> 00:15:16.180\n&gt;&gt; The basic functionality is what I\nneed to manage, I need to add a user,\n\n262\n00:15:16.180 --> 00:15:20.570\nI need to see the list of users, and\nI need to remove a user if so be it.\n\n263\n00:15:20.570 --> 00:15:22.050\nThose are the core.\n\n264\n00:15:22.050 --> 00:15:27.440\nAnd we have a few, checks, and fail safes,\nand we have the ability to navigate.\n\n265\n00:15:27.440 --> 00:15:30.720\nI agree, I think this one's done,\nat least for now.\n\n266\n00:15:30.720 --> 00:15:36.760\nBut I know this isn't the only thing that\nwe had to do with our management system.\n\n267\n00:15:36.760 --> 00:15:39.330\nSo we definitely have more\nepisodes coming at you, but\n\n268\n00:15:39.330 --> 00:15:43.030\nwe are finished with\na User Account Management.\n\n269\n00:15:43.030 --> 00:15:46.340\nBut definitely stayed tuned as we\ncontinue creating practical scripts.\n\n270\n00:15:46.340 --> 00:15:49.937\nBut for now, signing off for IT ProTV,\nI'm been your host Justin Dennison.\n\n271\n00:15:49.937 --> 00:15:50.744\n&gt;&gt; I'm Daniel Lowrie.\n\n272\n00:15:50.744 --> 00:15:52.931\n&gt;&gt; And we'll see you next time.\n\n273\n00:15:52.931 --> 00:15:58.975\n[MUSIC]\n\n274\n00:15:58.975 --> 00:16:02.796\nThank you for watching ITProvTV.\n\n",
          "vimeoId": "238657661"
        },
        {
          "description": "In this episode, Daniel and Justin add yet more functionality to their Account Management utility; this time setting a user's default shell. Here they will reiterate and apply many of the shell scripting concepts in a small, very functional way.",
          "length": "1676",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-3-1-user_account_manager_default_shell-101817-PGM.00_35_13_10.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-3-1-user_account_manager_default_shell-101817-PGM.00_35_13_10.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-3-1-user_account_manager_default_shell-101817-PGM.00_35_13_10.Still001-sm.jpg",
          "title": "User Account Manager Default Shell",
          "transcript": "WEBVTT\n\n1\n00:00:00.920 --> 00:00:01.549\nWelcome to ITProTV.\n\n2\n00:00:01.549 --> 00:00:02.840\nI'm your host, Don Pezet.\n\n3\n00:00:02.840 --> 00:00:06.129\n[CROSSTALK]\n\n4\n00:00:06.129 --> 00:00:08.404\n[MUSIC]\n\n5\n00:00:08.404 --> 00:00:10.560\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:12.150 --> 00:00:15.370\n&gt;&gt; Greetings everyone and welcome to\nanother exciting episode of ITProTV.\n\n7\n00:00:15.370 --> 00:00:18.350\nI'm your host Justin Dennison and\nwe are continuing on and\n\n8\n00:00:18.350 --> 00:00:23.330\ncreating practical scripts and, well\nmore specifically, we're managing users.\n\n9\n00:00:23.330 --> 00:00:27.180\nAnd in this episode I think we're gonna be\nworking by changing their default shell,\n\n10\n00:00:27.180 --> 00:00:29.510\nand here to help us on that journey is Mr.\nDaniel Lowrie.\n\n11\n00:00:29.510 --> 00:00:30.700\nHow are you doing today, Daniel?\n\n12\n00:00:30.700 --> 00:00:31.820\n&gt;&gt; I'm doing fantastic today, Justin.\n\n13\n00:00:31.820 --> 00:00:33.397\nThanks for having me back in the studio.\n\n14\n00:00:33.397 --> 00:00:37.606\nLooking forward to creating some more of\nour account management little program that\n\n15\n00:00:37.606 --> 00:00:41.399\nwe're working on, our lovely little\nscript, to make our lives a little bit\n\n16\n00:00:41.399 --> 00:00:44.540\neasier when it comes to managing\nuser accounts in our systems,\n\n17\n00:00:44.540 --> 00:00:45.630\nin our environment.\n\n18\n00:00:45.630 --> 00:00:49.491\nObviously everything we're doing\nis specific to my environment, but\n\n19\n00:00:49.491 --> 00:00:51.611\nit should be easily ported to your own,\n\n20\n00:00:51.611 --> 00:00:56.660\ndepending on the simple little variables\nthat change throughout different systems.\n\n21\n00:00:56.660 --> 00:00:59.180\nBut that being said,\nwhat are we doing today?\n\n22\n00:00:59.180 --> 00:01:01.710\nWell, Justin is actually very,\nvery correct.\n\n23\n00:01:01.710 --> 00:01:05.013\nWe're gonna take a look at working\nwith the default shell that\n\n24\n00:01:05.013 --> 00:01:08.480\na user gets when they\nare entered into the system.\n\n25\n00:01:08.480 --> 00:01:13.880\nHere's the thing, when we create a user,\nI can set a default shell there.\n\n26\n00:01:13.880 --> 00:01:17.960\nAnd in our user add piece\n\n27\n00:01:17.960 --> 00:01:22.800\nthat we created in our previous episode we\ndid that, we said I wanted to be bin bash.\n\n28\n00:01:22.800 --> 00:01:24.140\nAnd you got to start somewhere, right.\n\n29\n00:01:24.140 --> 00:01:30.226\nThere has to be some defining mark and\nthen you can work from there.\n\n30\n00:01:30.226 --> 00:01:33.330\nAnd I understand also that not\neverybody wants to use bash.\n\n31\n00:01:33.330 --> 00:01:38.440\nI know Justin uses Zshell a lot, right,\nthat's typically your default shell?\n\n32\n00:01:38.440 --> 00:01:42.560\n&gt;&gt; Yeah, I tend to use Zshell, mainly\nbecause I'm letting other people who\n\n33\n00:01:42.560 --> 00:01:45.640\nare managing some of the customizations\nand stuff that I use.\n\n34\n00:01:45.640 --> 00:01:48.200\nZshell just works for me.\n\n35\n00:01:48.200 --> 00:01:51.760\nUltimately, I'm not sure that I use it\nother than just stylistic purposes.\n\n36\n00:01:51.760 --> 00:01:53.775\nA great deal differently than-\n&gt;&gt; Bash.\n\n37\n00:01:53.775 --> 00:01:54.800\n&gt;&gt; Then bash.\n\n38\n00:01:54.800 --> 00:01:57.990\nSo, it's just one of those\nstylistic decisions.\n\n39\n00:01:57.990 --> 00:02:01.982\nThere are some other interesting ones\nout there that have auto-complete and\n\n40\n00:02:01.982 --> 00:02:04.550\ncrazy stuff, not just bash completions.\n\n41\n00:02:04.550 --> 00:02:09.435\nBut it will start trying to guess, and\nshow you menus and things like that.\n\n42\n00:02:09.435 --> 00:02:13.710\nBut mine's kind of a,\nit's just a stylistic thing.\n\n43\n00:02:13.710 --> 00:02:15.280\n&gt;&gt; Yeah, and then there you go.\n\n44\n00:02:15.280 --> 00:02:18.140\nWhat if a user calls you up and goes,\nman, I've heard about this shell or\n\n45\n00:02:18.140 --> 00:02:22.990\nI've heard about that shell or you just\nwant to change default shells altogether,\n\n46\n00:02:22.990 --> 00:02:24.140\nwhat do you do, right?\n\n47\n00:02:24.140 --> 00:02:27.610\nWell we can just write a little thing\nup so that we can say, here's a user,\n\n48\n00:02:27.610 --> 00:02:29.820\nhere's what we want their\ndefault shell to be,\n\n49\n00:02:29.820 --> 00:02:32.410\nif it's deviating from\nthe norm of the system.\n\n50\n00:02:32.410 --> 00:02:34.120\nAnd that's just kind of my idea.\n\n51\n00:02:34.120 --> 00:02:37.995\nJust trying to add some functionality to\nour little user account management system,\n\n52\n00:02:37.995 --> 00:02:38.770\nright.\n\n53\n00:02:38.770 --> 00:02:39.638\nSo that's what we're doing today.\n\n54\n00:02:39.638 --> 00:02:44.552\nWe're gonna work with finding out what\nthe default shell of a said user that\n\n55\n00:02:44.552 --> 00:02:49.388\nis given is, and then giving you some\noptions to what you can change it to,\n\n56\n00:02:49.388 --> 00:02:52.560\nand then actually making that change.\n\n57\n00:02:52.560 --> 00:02:56.380\nSo just a nice little bolt on thing that\nyou never know when it might come in handy\n\n58\n00:02:56.380 --> 00:02:59.330\nto be able to easily change\nsomeone's default shell, okay.\n\n59\n00:02:59.330 --> 00:03:02.740\nYou're usually in your account\nmanagement system, why jump out and\n\n60\n00:03:02.740 --> 00:03:06.378\nedit a file when all you have to do is\nfeed it a name and what shell you want and\n\n61\n00:03:06.378 --> 00:03:07.825\nit's done for you, right.\n\n62\n00:03:07.825 --> 00:03:09.810\nThat's my idea of what's going on here.\n\n63\n00:03:09.810 --> 00:03:13.240\nAnd without further adieu,\nI say we jump into this thing and\n\n64\n00:03:13.240 --> 00:03:14.930\nget to coding away, all right.\n\n65\n00:03:14.930 --> 00:03:23.333\nSo in my screen here we will bring back\nup our nano account accountmanager2.sh.\n\n66\n00:03:23.333 --> 00:03:24.604\nAnd here we go, yes,\n\n67\n00:03:24.604 --> 00:03:29.280\nwe are back at a very familiar area if\nyou've been following us along thus far.\n\n68\n00:03:30.470 --> 00:03:34.800\nWe created the add remove functionality,\nthat all works very wonderfully.\n\n69\n00:03:34.800 --> 00:03:40.596\nWe've also created,\nI think that was all we've done.\n\n70\n00:03:40.596 --> 00:03:42.110\n[LAUGH] We've created to add a room.\n\n71\n00:03:42.110 --> 00:03:45.170\nTook us a little time,\nbut now we are moving on.\n\n72\n00:03:45.170 --> 00:03:48.620\nSo we need go into the next function,\nwhich is default shell.\n\n73\n00:03:48.620 --> 00:03:51.640\nWe already created a place holder for\nit in previous shows.\n\n74\n00:03:51.640 --> 00:03:55.010\nNow all we have to do is go in here and\nfill out the logic.\n\n75\n00:03:55.010 --> 00:03:58.730\nAs always we like to kind of figure\nout what it is we wanna do and\n\n76\n00:03:58.730 --> 00:04:01.920\nmake a little checklist for ourselves,\njust comment that in there.\n\n77\n00:04:01.920 --> 00:04:05.630\nSo we remind ourselves, don't forget to\ndo this, don't forget to do that, okay.\n\n78\n00:04:05.630 --> 00:04:12.435\nSo the first thing I want to do\nis I want to find the given user,\n\n79\n00:04:12.435 --> 00:04:18.713\nI'll say that,\ngiven user's current default shell.\n\n80\n00:04:20.815 --> 00:04:21.586\nShell, like that.\n\n81\n00:04:21.586 --> 00:04:26.430\nOkay, it's a little task list for\nmyself, right.\n\n82\n00:04:26.430 --> 00:04:30.935\nSo that means I'm taking user input,\nthat means I have to be able to look for\n\n83\n00:04:30.935 --> 00:04:33.739\nthat user, right, it's not too difficult.\n\n84\n00:04:33.739 --> 00:04:36.780\nAnd all of that should be encompassed\nin that little sentence right there.\n\n85\n00:04:36.780 --> 00:04:38.720\nFind the given user's default shell.\n\n86\n00:04:38.720 --> 00:04:40.400\nWhat is it as it speaks?\n\n87\n00:04:40.400 --> 00:04:44.530\nAlso wanna let them know what shells,\nremind myself what shells\n\n88\n00:04:44.530 --> 00:04:46.608\nwe have installed on a system,\nso it will do that as well.\n\n89\n00:04:46.608 --> 00:04:50.208\nPrint useable shells,\n\n90\n00:04:50.208 --> 00:04:54.529\nthat's always a good idea.\n\n91\n00:04:54.529 --> 00:04:56.370\nWhat else should we do?\n\n92\n00:04:56.370 --> 00:05:00.230\nWell, I think, well, we've got to\nchange the shelf if we want to, right.\n\n93\n00:05:00.230 --> 00:05:03.886\nSo make the change shell functionality,\n\n94\n00:05:03.886 --> 00:05:08.070\nmake change shell functionality,\nall right.\n\n95\n00:05:08.070 --> 00:05:11.101\nI think that's a basic list\nof what we're gonna do here.\n\n96\n00:05:11.101 --> 00:05:13.940\nIt's not a very long piece of code that\nwe're gonna have to throw in here to make\n\n97\n00:05:13.940 --> 00:05:14.482\nthis happen.\n\n98\n00:05:14.482 --> 00:05:18.170\nThere is a little bit of\ncomplexity to it but no to bad,\n\n99\n00:05:18.170 --> 00:05:22.760\nso everything should be well within our\nwheel house at this point, all right.\n\n100\n00:05:22.760 --> 00:05:25.880\nAnd we're gonna do a lot\nwhat we've done in the past.\n\n101\n00:05:25.880 --> 00:05:28.463\nJustin, you were actually commenting about\nthis yesterday when we were talking about\n\n102\n00:05:28.463 --> 00:05:33.250\nit, how you tend to, yeah, you're doing\nthings that you already know how to do.\n\n103\n00:05:33.250 --> 00:05:37.230\nAnd a lot of times the thing that slows\nyou down is figuring out how to put it\n\n104\n00:05:37.230 --> 00:05:41.385\ntogether correctly, things that you know\nhow to do already, so that it works right.\n\n105\n00:05:41.385 --> 00:05:44.010\n[LAUGH]\n&gt;&gt; Yeah, that's one of those things that\n\n106\n00:05:44.010 --> 00:05:47.610\nI think I struggle with when I'm,\nthis seems so similar.\n\n107\n00:05:49.460 --> 00:05:53.020\nBut I need to add this little bit here,\nis what the change.\n\n108\n00:05:53.020 --> 00:05:55.440\nAnd ultimately,\nas we've learned these techniques,\n\n109\n00:05:55.440 --> 00:06:00.370\nyou can define as you know\nmore you gain more abilities.\n\n110\n00:06:00.370 --> 00:06:04.590\nNot because you're learning\nexponentially more, it's because,\n\n111\n00:06:04.590 --> 00:06:10.100\nwell I can take this menu and this option\nand I already know how to manage users.\n\n112\n00:06:10.100 --> 00:06:14.550\nI bet I could do similar things\nwith the commands for shells, and\n\n113\n00:06:14.550 --> 00:06:16.130\nnow I'll just flip this out,\n\n114\n00:06:16.130 --> 00:06:19.310\ndo a little bit of tweaking, and\nit becomes incredibly powerful.\n\n115\n00:06:19.310 --> 00:06:24.350\nAgain, going with that philosophy of small\nlittle pieces and then put them together.\n\n116\n00:06:24.350 --> 00:06:26.930\n&gt;&gt; Yeah,\njust build on what you've already done so\n\n117\n00:06:26.930 --> 00:06:30.750\nthat you can go, hey, you know what, like\nyou said, I've already kinda done this.\n\n118\n00:06:30.750 --> 00:06:34.960\nI can use that same idea and\njust re-factor it so\n\n119\n00:06:34.960 --> 00:06:38.260\ninstead of doing this it does that,\nit's basically the same kind of thing.\n\n120\n00:06:38.260 --> 00:06:41.422\nSo that's what I wanted to show with\nus here is that, well at least in one\n\n121\n00:06:41.422 --> 00:06:44.132\nof the things I wanted to show us here,\nis that we can do that.\n\n122\n00:06:44.132 --> 00:06:47.785\nTake those foundations and then just\nre-factor them, re-purpose them, for\n\n123\n00:06:47.785 --> 00:06:49.810\nother things instead of our scripts.\n\n124\n00:06:49.810 --> 00:06:52.806\nOr because we're going modular,\nI could chunk this out,\n\n125\n00:06:52.806 --> 00:06:56.977\nput bin bash at the top and have its own\nstandalone program if I wanted to, right.\n\n126\n00:06:56.977 --> 00:06:59.250\nSo just keep those things in mind.\n\n127\n00:06:59.250 --> 00:07:01.480\nAll right, let's writing some stuff here.\n\n128\n00:07:01.480 --> 00:07:04.300\nFirst thing I like to do always\nis hit that clear option.\n\n129\n00:07:04.300 --> 00:07:05.690\nHit some over scroll, just a little bit.\n\n130\n00:07:06.880 --> 00:07:09.880\nAnd I think I'll start with,\nwell, the menu item, right.\n\n131\n00:07:09.880 --> 00:07:12.360\nCuz I like menus, so\nthis whole thing is menu driven.\n\n132\n00:07:12.360 --> 00:07:15.540\nWe need to do the menuing system,\nso let's do that.\n\n133\n00:07:15.540 --> 00:07:21.020\nWe will say echo, and\nwe'll call this the default shell changer.\n\n134\n00:07:21.020 --> 00:07:22.100\nHow about that?\n\n135\n00:07:22.100 --> 00:07:27.240\nWe'll call it default shell changer, okay.\n\n136\n00:07:27.240 --> 00:07:32.750\nVery, very highly technical,\nput some niceness to it there.\n\n137\n00:07:32.750 --> 00:07:35.620\nAnd then we're gonna have some options.\n\n138\n00:07:35.620 --> 00:07:40.089\nNow this is a little, I think what I'll\ndo in this one, instead of having option\n\n139\n00:07:40.089 --> 00:07:43.665\none Zshell, option two this shell,\noption three that shell.\n\n140\n00:07:43.665 --> 00:07:47.178\nI think what I'll do is\nI'll just make a box and\n\n141\n00:07:47.178 --> 00:07:50.430\ninside are the shells that you can choose.\n\n142\n00:07:50.430 --> 00:07:55.015\nAnd then we'll take the shell that they\nwant as the input instead of a one, two,\n\n143\n00:07:55.015 --> 00:07:58.513\nthree kind of option, and\nI think that will be a better idea.\n\n144\n00:07:58.513 --> 00:08:02.490\nFor this specific piece of the program,\nokay?\n\n145\n00:08:02.490 --> 00:08:05.614\nAnd that way when we give a little bit of\na difference something else we can work\n\n146\n00:08:05.614 --> 00:08:07.550\nwith and look on what we're doing.\n\n147\n00:08:07.550 --> 00:08:12.020\nMaybe save ourselves a few lines of code\nand probably be a little more functional,\n\n148\n00:08:12.020 --> 00:08:15.200\nI think, just for this specific purpose.\n\n149\n00:08:15.200 --> 00:08:16.450\nSo this is what I'm gonna do.\n\n150\n00:08:16.450 --> 00:08:20.430\nI'm gonna say, gonna kinda draw\nlike a little ASCII box here.\n\n151\n00:08:20.430 --> 00:08:23.690\nI don't know how many lines we're gonna\nneed so I'll have to come back to it.\n\n152\n00:08:23.690 --> 00:08:29.840\nBut I'll say put a pipe here.\n\n153\n00:08:29.840 --> 00:08:36.495\nAnd then say you can have bash,\nyou can have zsh, you can have csh.\n\n154\n00:08:36.495 --> 00:08:38.450\nWell that's too many, csh.\n\n155\n00:08:38.450 --> 00:08:40.088\nLet me do this, I am gonna tab over.\n\n156\n00:08:40.088 --> 00:08:43.902\ncsh, csh.\n\n157\n00:08:43.902 --> 00:08:46.745\nAnd I guess I don't need\nthat many of these guys.\n\n158\n00:08:50.928 --> 00:08:54.360\nAnd this is all again,\nfor graphical purposes.\n\n159\n00:08:54.360 --> 00:08:56.960\nI wanna to present something to my user.\n\n160\n00:08:56.960 --> 00:09:01.540\nThat is easy to digest from\na very cursory glance.\n\n161\n00:09:01.540 --> 00:09:04.200\nI don't want them to have to\ndecipher a lot of stuff, so\n\n162\n00:09:04.200 --> 00:09:06.160\nI'm kind of segmenting it.\n\n163\n00:09:06.160 --> 00:09:08.460\nYes, the box is superpelis,\n\n164\n00:09:08.460 --> 00:09:12.030\nbut I think graphically it\nlends something to the program.\n\n165\n00:09:12.030 --> 00:09:13.750\nNow maybe you disagree, that's fine.\n\n166\n00:09:13.750 --> 00:09:14.770\nYou can do this any way you want.\n\n167\n00:09:14.770 --> 00:09:18.483\nBut that's the purpose in my mind for\nputting the box here.\n\n168\n00:09:18.483 --> 00:09:23.065\nKind of segregating those things out\nas an object for them to look at and\n\n169\n00:09:23.065 --> 00:09:24.782\ndraw their eye to, okay?\n\n170\n00:09:24.782 --> 00:09:26.560\nSo I'll continue to do this.\n\n171\n00:09:26.560 --> 00:09:31.245\nI think I do need one more of this and\nthat, a little bit of this.\n\n172\n00:09:31.245 --> 00:09:34.945\nEnter, give me another pipe,\nwhat else do we have?\n\n173\n00:09:34.945 --> 00:09:37.591\nI have this cool one called Ziki online.\n\n174\n00:09:40.459 --> 00:09:44.524\nI, the next one could be what, tcsh,\n\n175\n00:09:44.524 --> 00:09:51.530\nI guess I'll need just to keep\nit visually looking good.\n\n176\n00:09:51.530 --> 00:09:53.530\nAnd then, how about a Korn shell, ksh.\n\n177\n00:09:53.530 --> 00:09:54.750\nThere we go.\n\n178\n00:09:54.750 --> 00:09:58.880\nI think that's enough shells\nat this point in time.\n\n179\n00:09:58.880 --> 00:10:02.360\nCome out, rebox that out, like that.\n\n180\n00:10:02.360 --> 00:10:07.140\nI guess I need to go one more,\njust to make it a full box.\n\n181\n00:10:07.140 --> 00:10:10.430\nBecause I'm OCD like that,\nI've got to have it jut right.\n\n182\n00:10:10.430 --> 00:10:12.020\nNever just writes.\n\n183\n00:10:12.020 --> 00:10:17.400\nSo now there's the shells that my user\nis gonna look at CS option, right?\n\n184\n00:10:17.400 --> 00:10:19.940\nSo they know, I can choose this,\nI can choose that, I can use that.\n\n185\n00:10:19.940 --> 00:10:23.610\nAnd I'm not using a standard menu system,\nokay?\n\n186\n00:10:24.620 --> 00:10:25.370\nSo let's see here.\n\n187\n00:10:25.370 --> 00:10:30.560\nFrom there,\nI think I do wanna have some menuing items\n\n188\n00:10:30.560 --> 00:10:35.180\nat that point like yeah, I want to change\nthe shell, that's what I want to do.\n\n189\n00:10:35.180 --> 00:10:36.480\nI want to go what?\n\n190\n00:10:36.480 --> 00:10:38.290\nWe always go back to the main menu.\n\n191\n00:10:38.290 --> 00:10:42.540\nWe always do exit the program, so there\nwill be some typical menu items as well.\n\n192\n00:10:42.540 --> 00:10:43.450\nSo let's throw those in there.\n\n193\n00:10:43.450 --> 00:10:51.180\nAnd we'll say,\nI guess I'll do one, change shell.\n\n194\n00:10:52.290 --> 00:10:55.290\nAnd two,\neven though that's the only option,\n\n195\n00:10:55.290 --> 00:10:58.480\nI want to leave myself open to\ncreating more options later.\n\n196\n00:10:58.480 --> 00:11:01.470\nSo that's why I'm putting an option\nhere instead of just making\n\n197\n00:11:01.470 --> 00:11:03.070\nthe program do one thing.\n\n198\n00:11:03.070 --> 00:11:04.030\nOkay?\n\n199\n00:11:04.030 --> 00:11:08.910\nAnd then I'll have, of course,\nmy I did that backwards.\n\n200\n00:11:08.910 --> 00:11:14.397\nHere we go, m for main menu and x for\n\n201\n00:11:14.397 --> 00:11:20.360\nexit program.\n\n202\n00:11:20.360 --> 00:11:25.900\nAlright, I think that is going\nto do it for the initial\n\n203\n00:11:25.900 --> 00:11:30.070\nmenu item thing that shows up when they\nhit that as an option from the main menu.\n\n204\n00:11:30.070 --> 00:11:31.840\nI think that looks good to me.\n\n205\n00:11:31.840 --> 00:11:36.020\nFrom there,\nwe just need to take the user input.\n\n206\n00:11:36.020 --> 00:11:39.160\nWe need to say, hey,\nwhich one of these things do you want?\n\n207\n00:11:39.160 --> 00:11:40.560\nWe've looked at that.\n\n208\n00:11:40.560 --> 00:11:44.766\nWe do my favorite, read dash p.\n\n209\n00:11:44.766 --> 00:11:52.956\nItem and just please choose option.\n\n210\n00:11:55.241 --> 00:11:58.170\nOption like so, dot,\ndot, dot, little prompt.\n\n211\n00:11:58.170 --> 00:12:01.710\nAlways a good thing,\nI'm gonna, yeah that's fine.\n\n212\n00:12:01.710 --> 00:12:09.004\nAnd then we'll call it def because\nthis is def show, _opt, like that.\n\n213\n00:12:09.004 --> 00:12:13.320\nI got the makings of a viable\nproduct at this point.\n\n214\n00:12:15.100 --> 00:12:17.460\nSo far not nothing crazy going on.\n\n215\n00:12:17.460 --> 00:12:19.310\nI think everything should be working.\n\n216\n00:12:19.310 --> 00:12:23.300\nI do wanna randomly save from time to time\njust to make sure I don't lose any of\n\n217\n00:12:23.300 --> 00:12:27.870\nthe changes I've made cuz that kind of\nthing does happen so keep that in mind.\n\n218\n00:12:27.870 --> 00:12:29.160\nWhere else, what do we wanna do now?\n\n219\n00:12:29.160 --> 00:12:32.390\nI guess just now we need to\nadd some logic to this thing.\n\n220\n00:12:32.390 --> 00:12:38.900\nI'm gonna go with if here instead\nof case because the logic for\n\n221\n00:12:38.900 --> 00:12:44.950\nfiguring out whether or not the shell,\nwhat shell is already there for said user.\n\n222\n00:12:44.950 --> 00:12:49.230\nAnd what shell you wanna change it to is\na little more complex than I'm confirming\n\n223\n00:12:49.230 --> 00:12:52.500\nthere's always a precipice,\na line that you have to cross and\n\n224\n00:12:52.500 --> 00:12:55.260\nsay, do I think if is better for here or\n\n225\n00:12:55.260 --> 00:12:59.080\ndo I think cases here in my opinion\nto my estimation, I think if is gonna\n\n226\n00:12:59.080 --> 00:13:01.500\nserve me a little bit better at this\npoint in time, so I'm gonna use if.\n\n227\n00:13:02.610 --> 00:13:04.400\nLet's see here, so I'm gonna say if.\n\n228\n00:13:05.520 --> 00:13:07.510\nOpen bracket, not curly brace, brackets.\n\n229\n00:13:07.510 --> 00:13:10.420\nI always wanna shift that thing,\nI don't know why.\n\n230\n00:13:10.420 --> 00:13:15.010\nBut brackets, and we will say, actually,\nI'm gonna need double brackets for this,\n\n231\n00:13:15.010 --> 00:13:21.410\nI think, because we're going to be,\nyou'll notice, well, I did use a one.\n\n232\n00:13:22.740 --> 00:13:23.980\nI don't need double brackets for this.\n\n233\n00:13:23.980 --> 00:13:26.050\nSo I was gonna use C.\n\n234\n00:13:26.050 --> 00:13:27.210\nAs an option.\n\n235\n00:13:27.210 --> 00:13:31.720\nBut I wanna, again, Justin really hammered\nsomething home in an episode talking about\n\n236\n00:13:31.720 --> 00:13:34.400\nkeeping consistence throughout the system.\n\n237\n00:13:34.400 --> 00:13:37.340\nSo that the user doesn't\nget any kind of confused.\n\n238\n00:13:37.340 --> 00:13:39.180\nI think that was a good idea.\n\n239\n00:13:39.180 --> 00:13:42.450\nI'm refactoring this, instead of using,\nI was gonna put C there.\n\n240\n00:13:42.450 --> 00:13:46.530\nAnd if I wanted C or C,\nI would need that double bracketing here\n\n241\n00:13:46.530 --> 00:13:49.105\nto do that regular\nexpression inside of that.\n\n242\n00:13:49.105 --> 00:13:51.970\nSo I'm gonna show what that would\nhave looked like if I use C,\n\n243\n00:13:51.970 --> 00:13:55.734\nit would look like this double bracket and\nI would say,\n\n244\n00:13:55.734 --> 00:13:59.664\nI think I need to double quote this, yeah,\n\n245\n00:13:59.664 --> 00:14:06.710\ndef_shell_opt equals,\n\n246\n00:14:06.710 --> 00:14:11.840\nand then I would say C or C, close that\nout then double bracket it out like that.\n\n247\n00:14:11.840 --> 00:14:15.515\nSo that would be what it would have looked\nlike if I'd have used C as an option.\n\n248\n00:14:15.515 --> 00:14:17.180\n[COUGH] Excuse me.\n\n249\n00:14:17.180 --> 00:14:20.600\nI will need that as we move down to M and\nX, right?\n\n250\n00:14:20.600 --> 00:14:22.230\nSo you will get to see that in action.\n\n251\n00:14:22.230 --> 00:14:25.460\nBut for here because it's just one,\nI don't need that, expansion so\n\n252\n00:14:25.460 --> 00:14:31.190\nI can just say one,\nlike that and come over here.\n\n253\n00:14:31.190 --> 00:14:31.990\nTake that one out.\n\n254\n00:14:33.160 --> 00:14:35.430\nOption, don't forget to do that.\n\n255\n00:14:36.570 --> 00:14:38.300\nThat's gonna help us out a whole lot.\n\n256\n00:14:38.300 --> 00:14:41.240\nWe don't want to get into syntax\nerrors right out of the gate right?\n\n257\n00:14:41.240 --> 00:14:43.790\nWell when you're messing around with\nstuff you can tend to forget things.\n\n258\n00:14:45.060 --> 00:14:46.460\nAll right, so we've got that.\n\n259\n00:14:46.460 --> 00:14:48.770\nI think all we need to do\nnow is give our then, and\n\n260\n00:14:49.990 --> 00:14:54.600\nstart actually working\nwith that is going to do.\n\n261\n00:14:54.600 --> 00:14:57.930\nIf def shell opt equals one,\nthat means we want to change the shell.\n\n262\n00:14:57.930 --> 00:15:02.300\nSo there we're going to need\nsome more input from the user.\n\n263\n00:15:02.300 --> 00:15:05.090\nThat means we need to know what\nuser name they want to change, and\n\n264\n00:15:05.090 --> 00:15:08.750\nwhat shell that you wanna change to, okay?\n\n265\n00:15:08.750 --> 00:15:15.925\nSo let's do this, let's say read-p and\n\n266\n00:15:15.925 --> 00:15:21.050\nwe will say enter the username\n\n267\n00:15:21.050 --> 00:15:25.430\nof, Yeah, enter the username.\n\n268\n00:15:25.430 --> 00:15:27.060\nJust who do we want, right?\n\n269\n00:15:27.060 --> 00:15:30.380\nI'll do the thing right here.\n\n270\n00:15:30.380 --> 00:15:34.860\nAnd then we'll say def,\nwe'll call it def shell user.\n\n271\n00:15:37.200 --> 00:15:41.260\nDef underscore shell underscore user,\nlike that.\n\n272\n00:15:42.580 --> 00:15:46.020\nAll right, and now, I don't need\nto do anything with that just yet\n\n273\n00:15:46.020 --> 00:15:47.320\nI need to take a little more information.\n\n274\n00:15:47.320 --> 00:15:49.741\nI want to know what\nshell they want to use.\n\n275\n00:15:49.741 --> 00:15:53.640\nWhat shell from the options above,\nand maybe that's how we'll word it.\n\n276\n00:15:53.640 --> 00:15:58.402\nChoose a shell, what is the desired\nshell from the options above?\n\n277\n00:15:58.402 --> 00:16:04.101\nSo we can put that in,\nread -p, maybe just say,\n\n278\n00:16:04.101 --> 00:16:10.790\ndesired shell to make default or\ndesired default shell.\n\n279\n00:16:14.077 --> 00:16:16.480\nThere we go, like so.\n\n280\n00:16:16.480 --> 00:16:21.636\nAnd we'll call it def_shell_shell.\n\n281\n00:16:21.636 --> 00:16:23.570\nI guess that's good.\n\n282\n00:16:23.570 --> 00:16:24.240\nYeah, that'll work.\n\n283\n00:16:25.430 --> 00:16:26.615\nNot forgetting anything.\n\n284\n00:16:26.615 --> 00:16:28.306\nSometimes, everything looks good to me.\n\n285\n00:16:28.306 --> 00:16:29.420\nAll right, moving on.\n\n286\n00:16:29.420 --> 00:16:33.355\nNow that we have some information,\nwe need to take a look and\n\n287\n00:16:33.355 --> 00:16:35.967\nmake sure that they're not trying to.\n\n288\n00:16:35.967 --> 00:16:38.430\n&gt;&gt; I guess it's not a big deal, but\n\n289\n00:16:38.430 --> 00:16:43.187\nmaybe they're already on\nthe shell that they're desiring.\n\n290\n00:16:43.187 --> 00:16:44.380\nThey don't need to change it.\n\n291\n00:16:44.380 --> 00:16:46.284\nSo let's just verify that for the user.\n\n292\n00:16:46.284 --> 00:16:51.110\nIf there is no reason to do anything,\nwhy the heck would we even do anything?\n\n293\n00:16:51.110 --> 00:16:53.090\n&gt;&gt; Now, Daniel,\nI do wanna point out something.\n\n294\n00:16:53.090 --> 00:16:55.027\nI think def_shell_shell,\n\n295\n00:16:55.027 --> 00:16:59.062\nyou chose that name because\nthe function name is def_shell.\n\n296\n00:16:59.062 --> 00:16:59.625\n&gt;&gt; Correct.\n\n297\n00:16:59.625 --> 00:17:03.112\n&gt;&gt; And if you're to use def_shell without\nthe other shell [SOUND] minus that shell-\n\n298\n00:17:03.112 --> 00:17:04.748\n&gt;&gt; Yeah, that would've gotten crazy.\n\n299\n00:17:04.748 --> 00:17:05.260\n&gt;&gt; Man, and\n\n300\n00:17:05.260 --> 00:17:10.080\nthen I'm like, I just redefined\na function during execution content, no.\n\n301\n00:17:10.080 --> 00:17:11.689\n&gt;&gt; Yeah, that's a real problem, right?\n\n302\n00:17:11.689 --> 00:17:17.328\n&gt;&gt; So it's one of those minor things\nyou gotta be careful cuz I've done it.\n\n303\n00:17:17.328 --> 00:17:20.043\nI've accidentally used a function\nname as a variable name,\n\n304\n00:17:20.043 --> 00:17:23.145\nespecially when I have short\nfunction names and it just goes, no.\n\n305\n00:17:23.145 --> 00:17:24.720\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n306\n00:17:24.720 --> 00:17:27.110\ndon't make the mistake cuz you'll\nget some weird runtime errors.\n\n307\n00:17:27.110 --> 00:17:29.385\n&gt;&gt; Yeah, you definitely will cuz\nwhat Justin said is correct.\n\n308\n00:17:29.385 --> 00:17:34.097\nRemember, functions are kind of\nlike variables in that way that\n\n309\n00:17:34.097 --> 00:17:36.983\nthey're being defined as something.\n\n310\n00:17:36.983 --> 00:17:41.709\nAnd if you use that name in reference\nto a definition, well, soon you'll go,\n\n311\n00:17:41.709 --> 00:17:46.330\nwell, you wanna redefine what def_shell\nis or you're calling def_shell.\n\n312\n00:17:46.330 --> 00:17:50.710\nMaybe it'll just take you back\nto the main def_shell menu,\n\n313\n00:17:50.710 --> 00:17:52.490\nwhich is not the desired output.\n\n314\n00:17:52.490 --> 00:17:57.260\nSo you do have to be very careful\nabout reusing names inside of that.\n\n315\n00:17:57.260 --> 00:17:59.373\nNow we could go with local names.\n\n316\n00:17:59.373 --> 00:18:01.736\nThat would have worked if\nI had a local def_shell.\n\n317\n00:18:01.736 --> 00:18:06.146\nThat was sure to have worked out for\nus if we know that's a local variable and\n\n318\n00:18:06.146 --> 00:18:08.350\nnot a function itself.\n\n319\n00:18:08.350 --> 00:18:13.090\nBut it's just a good practice to just\nstay away from reusing variables and\n\n320\n00:18:13.090 --> 00:18:15.312\nfunction names as you go through.\n\n321\n00:18:15.312 --> 00:18:16.482\nMake them unique.\n\n322\n00:18:16.482 --> 00:18:20.422\nPlus it's gonna help you out as well as\nwhen you look at your code and go, well,\n\n323\n00:18:20.422 --> 00:18:22.115\nthat's a def_shell variable.\n\n324\n00:18:22.115 --> 00:18:24.767\nThat's something inside of\nthe def_shell function.\n\n325\n00:18:24.767 --> 00:18:26.503\nAnd there's def_shell as a function.\n\n326\n00:18:26.503 --> 00:18:28.467\nSee how everything starts\nto logically flowing.\n\n327\n00:18:28.467 --> 00:18:32.126\nYou're starting with a hierarchy,\na parent-child situation.\n\n328\n00:18:32.126 --> 00:18:35.200\nAnd that just makes things logically\nflow in your brain a whole lot better,\n\n329\n00:18:35.200 --> 00:18:36.580\nat least in my opinion.\n\n330\n00:18:36.580 --> 00:18:38.510\nIf you like doing it that way,\n\n331\n00:18:38.510 --> 00:18:42.461\ndon't say we didn't warn you\nwhen you have trouble, okay?\n\n332\n00:18:42.461 --> 00:18:46.471\nAll right, so\nwe'll call it current_shell so\n\n333\n00:18:46.471 --> 00:18:49.988\nwe can get that out from the system there.\n\n334\n00:18:49.988 --> 00:18:53.646\nWe'll just say current_shell ==, and\n\n335\n00:18:53.646 --> 00:18:57.920\nwe're gonna do a command substitution for\nthat.\n\n336\n00:18:59.220 --> 00:19:01.390\nAnd we're just gonna cat etc, right?\n\n337\n00:19:01.390 --> 00:19:05.630\nCuz /etc/passwd holds\nthe strings of the users.\n\n338\n00:19:05.630 --> 00:19:07.185\nAnd it says, here's the username.\n\n339\n00:19:07.185 --> 00:19:11.362\nHere's any other information,\nhere's their UID, their GID.\n\n340\n00:19:11.362 --> 00:19:14.810\nAnd here's also their home directory and\ntheir default shell.\n\n341\n00:19:14.810 --> 00:19:19.690\nI could go in there with my editor\nof choice, go down to that line and\n\n342\n00:19:19.690 --> 00:19:24.020\njust wipe it out, put in whatever the user\nwants, or whatever I want it to be.\n\n343\n00:19:24.020 --> 00:19:25.960\nBut I'm letting the program do it for me.\n\n344\n00:19:25.960 --> 00:19:30.842\nSo all we have to do is say, let's look in\nthere, find out what's happening already.\n\n345\n00:19:30.842 --> 00:19:35.459\nAnd then if it's not what we want,\nthen we're gonna go ahead and\n\n346\n00:19:35.459 --> 00:19:37.352\nmake that change, okay?\n\n347\n00:19:37.352 --> 00:19:40.930\nSo what we're gonna do, we're gonna say,\ncat, and we'll say, /etc/passwd.\n\n348\n00:19:40.930 --> 00:19:44.913\nSo cat, yeah, just /etc/passwd.\n\n349\n00:19:44.913 --> 00:19:51.060\nI always put too many,\n/etc/passwd, like that.\n\n350\n00:19:51.060 --> 00:19:56.006\nThen I'm gonna pipe that into grep\nbecause I need to find that username that\n\n351\n00:19:56.006 --> 00:19:58.528\nwe've gotten from the user, right?\n\n352\n00:19:58.528 --> 00:20:00.772\nI don't care about looking at\neverybody's default shell.\n\n353\n00:20:00.772 --> 00:20:02.976\nI wanna see what their default shell is.\n\n354\n00:20:02.976 --> 00:20:05.824\nBecause maybe down the road,\nwe've changed their shell before.\n\n355\n00:20:05.824 --> 00:20:08.229\nAnd they say, you know what,\nI wanna go back to such and such, or\n\n356\n00:20:08.229 --> 00:20:09.135\nI wanna try this shell.\n\n357\n00:20:09.135 --> 00:20:12.703\nOkay, no problem,\nwe'll make that happen, okay?\n\n358\n00:20:12.703 --> 00:20:14.315\nSo grep, and we're gonna look for,\n\n359\n00:20:14.315 --> 00:20:16.822\nI guess we're gonna start\nwith their username, right?\n\n360\n00:20:16.822 --> 00:20:20.687\nSo it's whatever,\nwe're gonna start at the beginning there.\n\n361\n00:20:20.687 --> 00:20:23.107\nWe may need, no, that should work.\n\n362\n00:20:23.107 --> 00:20:27.144\nThat's not an extended grep thing, so\nwe don't need egrep or grep -E for this.\n\n363\n00:20:27.144 --> 00:20:31.190\nThis should be a standard\nfunctionality of regular expression.\n\n364\n00:20:31.190 --> 00:20:34.569\nNow we'll say $def_shell_shell, no,\n\n365\n00:20:34.569 --> 00:20:38.307\nI'm sorry,\nuser cuz we're looking for the user.\n\n366\n00:20:38.307 --> 00:20:42.006\n[COUGH] Hello,\nmy keyboard just went berserk and\n\n367\n00:20:42.006 --> 00:20:45.898\ncompletely erased that entire line,\nit was fun.\n\n368\n00:20:45.898 --> 00:20:47.920\n[LAUGH] And it said, you're doing\nall the search wrong, try again.\n\n369\n00:20:47.920 --> 00:20:49.838\nUser, there we go.\n\n370\n00:20:49.838 --> 00:20:53.920\nSo now /etc/passwd dump the file,\ngrep look for\n\n371\n00:20:53.920 --> 00:20:58.570\na line that starts with whatever\nthe user has inputted as the username.\n\n372\n00:20:58.570 --> 00:21:00.620\nOkay, we're moving down the line.\n\n373\n00:21:00.620 --> 00:21:04.490\nNow I need to chop out\nwhat is the default shell.\n\n374\n00:21:04.490 --> 00:21:08.330\nIf I open a new terminal,\nif I do something like this,\n\n375\n00:21:08.330 --> 00:21:13.100\nbring that to a place we can actually\nuse it and make it look presentable.\n\n376\n00:21:13.100 --> 00:21:17.886\nIf I say cat /etc/passwd and\nI do what we got already, grep.\n\n377\n00:21:17.886 --> 00:21:22.260\nSo I say $, and\nmine is dlowrie, I get this.\n\n378\n00:21:22.260 --> 00:21:23.850\nThis is my output.\n\n379\n00:21:23.850 --> 00:21:27.053\nSo here's grep finding the username.\n\n380\n00:21:27.053 --> 00:21:30.914\nBut what I need is this line on\nthat username in that line, or\n\n381\n00:21:30.914 --> 00:21:33.690\nthat piece of that information.\n\n382\n00:21:33.690 --> 00:21:39.080\nAgain, we're gonna use awk to pull that\nout and get that specific information.\n\n383\n00:21:39.080 --> 00:21:45.500\nSo one, two, three, four, five six, seven.\n\n384\n00:21:45.500 --> 00:21:48.160\nSo that would be $7 for awk.\n\n385\n00:21:48.160 --> 00:21:52.660\nI'm gonna have to make sure to set\nawk to be delimited by colons so\n\n386\n00:21:52.660 --> 00:21:55.150\nthat I can make that selection, okay?\n\n387\n00:21:55.150 --> 00:21:57.010\nSo now that I know I need to do that,\n\n388\n00:21:57.010 --> 00:22:00.560\nI can put that in my string\nof command substitution.\n\n389\n00:22:00.560 --> 00:22:07.049\nAnd I will say,\npipe that into awk, and say -F:.\n\n390\n00:22:07.049 --> 00:22:15.063\nAnd then do this to open\nthe command syntax for print $7.\n\n391\n00:22:15.063 --> 00:22:22.514\n[INAUDIBLE] close it back out like that,\nand then hit out of this.\n\n392\n00:22:22.514 --> 00:22:24.610\nThat should be the entire thing.\n\n393\n00:22:24.610 --> 00:22:28.235\nSo if I bring that other backup,\nwhere'd it go?\n\n394\n00:22:28.235 --> 00:22:29.495\nI think this is it.\n\n395\n00:22:29.495 --> 00:22:32.964\nAnd I do that very thing just to\nverify before I put it in my code and\n\n396\n00:22:32.964 --> 00:22:34.480\nget an error.\n\n397\n00:22:34.480 --> 00:22:35.682\nGo ahead and try it.\n\n398\n00:22:35.682 --> 00:22:38.372\nI'll say awk or gawk,\nwhatever you like to do.\n\n399\n00:22:38.372 --> 00:22:40.460\nWe use gawk a lot, so I'll use gawk.\n\n400\n00:22:40.460 --> 00:22:45.224\nAnd I'll say -F: bring it open,\ngive it a try,\n\n401\n00:22:45.224 --> 00:22:51.340\nsay print $7 just to verify\neverything is working.\n\n402\n00:22:51.340 --> 00:22:53.180\nGive it a whirl, there we go, perfect.\n\n403\n00:22:53.180 --> 00:22:57.689\nGot the exact piece of information I'm\nlooking for out of the /etc/passwd file.\n\n404\n00:22:57.689 --> 00:22:59.809\nNow I can pass that to my program.\n\n405\n00:22:59.809 --> 00:23:03.157\nAll right, let's go ahead and\nexit out of here.\n\n406\n00:23:03.157 --> 00:23:05.112\nI know that this will work.\n\n407\n00:23:05.112 --> 00:23:07.820\nI'm confident in its abilities.\n\n408\n00:23:07.820 --> 00:23:12.901\nAnd now we'll just say, current\n\n409\n00:23:12.901 --> 00:23:19.263\nshell is this and take that information.\n\n410\n00:23:19.263 --> 00:23:26.090\nWe'll say, echo Current Shell:\n$current_shell, like that.\n\n411\n00:23:26.090 --> 00:23:27.549\nSo far, it should be good to go.\n\n412\n00:23:27.549 --> 00:23:28.670\nI might wanna test this.\n\n413\n00:23:28.670 --> 00:23:30.160\n&gt;&gt; I agree with testing.\n\n414\n00:23:30.160 --> 00:23:32.784\nNow, I do have a quick question, and\n\n415\n00:23:32.784 --> 00:23:36.267\nmaybe I am really bad at\nusing grep the wrong way.\n\n416\n00:23:36.267 --> 00:23:39.048\n&gt;&gt; [LAUGH]\n&gt;&gt; So could we have said grep,\n\n417\n00:23:39.048 --> 00:23:43.516\nthat expression, and then just give it\nthe /etc/passwd without having to cat or\n\n418\n00:23:43.516 --> 00:23:47.290\nwould that mess up the formating\nnecessary to use after extraction?\n\n419\n00:23:47.290 --> 00:23:49.074\n&gt;&gt; You know what, you're absolutely right.\n\n420\n00:23:49.074 --> 00:23:50.357\nThis is what's called a bad habit.\n\n421\n00:23:50.357 --> 00:23:55.533\nAnd I think there's even a website\nabout Bad ways that use cat,\n\n422\n00:23:55.533 --> 00:23:58.177\nthere's something like that.\n\n423\n00:23:58.177 --> 00:24:00.455\nThere's some way that you use cat badly.\n\n424\n00:24:00.455 --> 00:24:03.750\nWhen I learned to use grep,\nI learned to do cat things into grep.\n\n425\n00:24:03.750 --> 00:24:08.190\nHe's absolutely right, could have just\nsaid grep string, and then the filename.\n\n426\n00:24:08.190 --> 00:24:11.090\nSo grep into etc, and\nthat would have worked.\n\n427\n00:24:11.090 --> 00:24:12.740\nAnd that is the proper way to do it.\n\n428\n00:24:12.740 --> 00:24:14.891\n&gt;&gt; Well, not to leave you hanging,\nI do the exact same thing.\n\n429\n00:24:14.891 --> 00:24:16.322\n&gt;&gt; [LAUGH]\n&gt;&gt; This is how I like to use grep.\n\n430\n00:24:16.322 --> 00:24:18.601\nLet's cat out the file and\nuse grep to look through the stream.\n\n431\n00:24:18.601 --> 00:24:19.290\n&gt;&gt; Yeah.\n\n432\n00:24:19.290 --> 00:24:21.680\nReally you can get just\ngive it the file name.\n\n433\n00:24:21.680 --> 00:24:24.880\nI'm like sometimes there\nmight be reasons to do that.\n\n434\n00:24:24.880 --> 00:24:26.420\nSo I just figured I would ask.\n\n435\n00:24:26.420 --> 00:24:27.890\n&gt;&gt; Yeah, no,\nyou're absolutely right again.\n\n436\n00:24:29.260 --> 00:24:30.860\nAll dog new tricks that all day.\n\n437\n00:24:30.860 --> 00:24:31.850\nYou know how it is.\n\n438\n00:24:31.850 --> 00:24:35.380\nI don't know why I learned it this way,\nbut that's how I learned how to use it.\n\n439\n00:24:35.380 --> 00:24:39.820\nAnd it's been, I've been chided for\nthat more times than I can tell you.\n\n440\n00:24:39.820 --> 00:24:42.780\nAnd the old boy just will not\nbury it in his brain to don't cat\n\n441\n00:24:42.780 --> 00:24:44.410\nthings into grep, just grep them.\n\n442\n00:24:44.410 --> 00:24:45.300\nJust grep the stinking thing.\n\n443\n00:24:45.300 --> 00:24:46.180\nHe's right, let's, you know what?\n\n444\n00:24:46.180 --> 00:24:47.760\nI'm gonna change it.\n\n445\n00:24:47.760 --> 00:24:48.350\nI'm gonna make it work.\n\n446\n00:24:48.350 --> 00:24:51.000\nI'm gonna make it do the right thing.\n\n447\n00:24:51.000 --> 00:24:58.429\nGrep like so, and then we're going\nto say /etc/passwd, like that.\n\n448\n00:24:59.640 --> 00:25:01.792\nAll right, this is completely untested but\nI'm pretty sure that it'll work.\n\n449\n00:25:01.792 --> 00:25:05.438\nOf course we can test it if we'd like,\nwhich is always a good idea.\n\n450\n00:25:05.438 --> 00:25:09.788\nAlt + T, bump it up, and\n\n451\n00:25:09.788 --> 00:25:16.421\nwe will say grep DLowrie fc/password\n\n452\n00:25:16.421 --> 00:25:21.870\npipe that into gawk- f:.\n\n453\n00:25:21.870 --> 00:25:22.390\nHit that.\n\n454\n00:25:22.390 --> 00:25:23.470\nHit that.\n\n455\n00:25:23.470 --> 00:25:31.460\n($7), all the necessary things,\nand there we go.\n\n456\n00:25:31.460 --> 00:25:33.120\nNow we know that string works.\n\n457\n00:25:33.120 --> 00:25:35.510\nAnd that is the more\nproper way to do this.\n\n458\n00:25:35.510 --> 00:25:36.630\nSo, good stuff.\n\n459\n00:25:36.630 --> 00:25:37.750\nGood catch, Justin.\n\n460\n00:25:37.750 --> 00:25:38.430\nKeep me on track.\n\n461\n00:25:38.430 --> 00:25:40.510\nDon't let me do things wrong.\n\n462\n00:25:40.510 --> 00:25:43.705\nNot wrong but-\n&gt;&gt; Well, I was asking more for my own\n\n463\n00:25:43.705 --> 00:25:48.776\nbenefit cuz I do the exact same thing and\nI think I know where it comes from.\n\n464\n00:25:48.776 --> 00:25:53.209\nI'll catify obviously what the contents\nis if I know it's small and\n\n465\n00:25:53.209 --> 00:25:58.262\nthen I'll go okay let me greop this and\nlook because there's a lot of noise and\n\n466\n00:25:58.262 --> 00:26:03.345\nso instead of backing up and using grep\ncorrectly- [CROSSTALK] Done and done.\n\n467\n00:26:03.345 --> 00:26:04.939\n&gt;&gt; Again, not the proper way.\n\n468\n00:26:04.939 --> 00:26:07.820\nObviously it does work, but a good catch.\n\n469\n00:26:07.820 --> 00:26:08.400\nYou know?\n\n470\n00:26:08.400 --> 00:26:10.770\nSomething someone might say\nsomething to you about.\n\n471\n00:26:10.770 --> 00:26:12.730\nAll right, let's go ahead and\nsave this out.\n\n472\n00:26:12.730 --> 00:26:15.710\nI'm gonna close this cause\nit's very distracting to me.\n\n473\n00:26:15.710 --> 00:26:19.630\nLet's close it out and give it a try and\nsee if this is going to work.\n\n474\n00:26:19.630 --> 00:26:22.080\nI guess I do need to add a fee to that.\n\n475\n00:26:22.080 --> 00:26:24.790\nJust to make sure,\ndon't want to forget your good fees right?\n\n476\n00:26:24.790 --> 00:26:29.750\nAnd let's see if, I was just making sure\nI wasn't missing anything syntactically.\n\n477\n00:26:29.750 --> 00:26:33.370\nI think what we got should give\nus at least the current sale.\n\n478\n00:26:33.370 --> 00:26:34.290\nWe're up to doing that.\n\n479\n00:26:34.290 --> 00:26:34.876\nSave, exit.\n\n480\n00:26:34.876 --> 00:26:39.253\nLet's run account manager2.sh,\n\n481\n00:26:39.253 --> 00:26:42.930\ndon't forget to pseudo that.\n\n482\n00:26:46.380 --> 00:26:48.080\nThere we go, let's go to two.\n\n483\n00:26:49.430 --> 00:26:52.150\nOur menu is working very well looks good.\n\n484\n00:26:52.150 --> 00:26:56.230\nI see my shell options,\nI want to change shell,\n\n485\n00:26:56.230 --> 00:27:00.490\non to our username default\nshell I'll say DSH.\n\n486\n00:27:00.490 --> 00:27:04.010\nThe current shell is bin bashed,\neverything so far so\n\n487\n00:27:04.010 --> 00:27:05.830\ngood, we are rocking and rolling.\n\n488\n00:27:05.830 --> 00:27:07.510\nNow we just gotta finish up and\n\n489\n00:27:07.510 --> 00:27:11.520\nmake sure, I'll make sure, make it do\nthe thing we wanna do which is go,\n\n490\n00:27:11.520 --> 00:27:14.650\nokay now I know what the default shell is,\nlooks good to change.\n\n491\n00:27:14.650 --> 00:27:17.720\nLet's go ahead and change that\nshell to what we want it to be.\n\n492\n00:27:17.720 --> 00:27:19.780\nBut looking at our clock,\n\n493\n00:27:19.780 --> 00:27:22.390\nwe are not nowhere near enough\ntime to make that happen.\n\n494\n00:27:22.390 --> 00:27:24.660\n&gt;&gt; I agree with you.\n\n495\n00:27:24.660 --> 00:27:26.200\nBut we have.\n\n496\n00:27:26.200 --> 00:27:28.210\nThe illusion that it's actually working.\n\n497\n00:27:28.210 --> 00:27:31.110\nWe just actually gotta come back\nwith a part two, and make it work.\n\n498\n00:27:31.110 --> 00:27:34.600\nSo definitely stay tuned as we\ncontinue working on the default shell\n\n499\n00:27:34.600 --> 00:27:35.600\nfunctionality.\n\n500\n00:27:35.600 --> 00:27:37.750\nBut for this episode,\nwe're gonna go ahead and wrap it up.\n\n501\n00:27:37.750 --> 00:27:38.990\nSo signing off for ITProTV.\n\n502\n00:27:38.990 --> 00:27:40.921\nI've been your host Justin Dennison.\n\n503\n00:27:40.921 --> 00:27:43.765\n&gt;&gt; And I'm Daniel Lowrie.\n&gt;&gt; And we'll see you next time.\n\n504\n00:27:43.765 --> 00:27:49.763\n[MUSIC]\n\n505\n00:27:49.763 --> 00:27:55.724\nThank you for watching ITProTV\n\n",
          "vimeoId": "239106159"
        },
        {
          "description": "In this episode, Daniel and Justin add yet more functionality to their Account Management utility; this time setting a user's default shell. Here they will reiterate and apply many of the shell scripting concepts in a small, very functional way.",
          "length": "1529",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-3-2-user_account_manager_default_shell_pt_2-101817-PGM.00_28_38_07.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-3-2-user_account_manager_default_shell_pt_2-101817-PGM.00_28_38_07.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-3-2-user_account_manager_default_shell_pt_2-101817-PGM.00_28_38_07.Still001-sm.jpg",
          "title": "User Account Manager Default Shell Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:02.443\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:02.443 --> 00:00:08.108\n&gt;&gt; [CROSSTALK]\n[SOUND]\n\n3\n00:00:08.108 --> 00:00:11.689\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:11.689 --> 00:00:15.389\n&gt;&gt; Greetings everyone and welcome to\nanother exciting episode of ITProTV.\n\n5\n00:00:15.389 --> 00:00:17.239\nI'm your host Justin Dennison, and\n\n6\n00:00:17.239 --> 00:00:20.591\nwe're back with a part two on\nchanging the user's default shell.\n\n7\n00:00:20.591 --> 00:00:23.440\nAnd this is part of our creating\npractical scripts series.\n\n8\n00:00:23.440 --> 00:00:26.573\nAnd well, we got started we\nhad our menu and things, but\n\n9\n00:00:26.573 --> 00:00:28.382\nwe actually got to make it work.\n\n10\n00:00:28.382 --> 00:00:31.296\nAnd luckily, we have the man in studio\nthat knows how to make it work, Mr.\n\n11\n00:00:31.296 --> 00:00:31.961\nDaniel Lowrie.\n\n12\n00:00:31.961 --> 00:00:32.757\nHow you doing today Daniel?\n\n13\n00:00:32.757 --> 00:00:35.880\n&gt;&gt; Doing fantastic Justin glad to\nbe back in the studio yet again.\n\n14\n00:00:35.880 --> 00:00:39.610\nWe got to finish up this default shell\nchange in utility or it's gonna kill me.\n\n15\n00:00:39.610 --> 00:00:42.760\nI can't sleep at night\nknowing that it's not done so\n\n16\n00:00:42.760 --> 00:00:43.830\nhere we are back in the studio.\n\n17\n00:00:43.830 --> 00:00:45.080\nWe're going to make it work today.\n\n18\n00:00:45.080 --> 00:00:47.670\nSo that you good folks out\nthere can make this change for\n\n19\n00:00:47.670 --> 00:00:50.935\nyourself if you want that as part of\nyour account management system or\n\n20\n00:00:50.935 --> 00:00:53.330\nif you're just learning for\nthose purposes.\n\n21\n00:00:53.330 --> 00:00:56.560\nAll right, so that being said,\nwe can jump right back in.\n\n22\n00:00:56.560 --> 00:00:59.235\nJustin's already kinda caught us\nback up to speed with where we were.\n\n23\n00:00:59.235 --> 00:01:02.110\nWe got the menu working,\nyou could see that there.\n\n24\n00:01:02.110 --> 00:01:05.590\nWe got some actual logic\nstarting to work itself out.\n\n25\n00:01:05.590 --> 00:01:10.150\nI like how I said this at the end of\nthe previous episode that we've given\n\n26\n00:01:10.150 --> 00:01:12.365\nthe illusion of a working script.\n\n27\n00:01:12.365 --> 00:01:16.400\nIt does of most of the things we want\nto do and kind of looks like it's doing\n\n28\n00:01:16.400 --> 00:01:19.925\nsomething but it really hasn't\nmade any changes yet, right?\n\n29\n00:01:19.925 --> 00:01:24.481\nSo that's what we need to get into making\nthe changes in our script that say,\n\n30\n00:01:24.481 --> 00:01:28.170\nthis is the show you have\nlet's change to this shell.\n\n31\n00:01:28.170 --> 00:01:31.810\nAnd I guess, no time like\nthe present to make that happen.\n\n32\n00:01:31.810 --> 00:01:33.570\nSo let's drop back in here and\nlet's see here.\n\n33\n00:01:33.570 --> 00:01:38.930\nThe next thing we need to do, now that\nwe have what the current shell is.\n\n34\n00:01:38.930 --> 00:01:39.540\nAnd you never know.\n\n35\n00:01:39.540 --> 00:01:40.800\nI like to do stuff like that,\n\n36\n00:01:40.800 --> 00:01:44.290\nbecause I never know when\nI'm gonna need that and why.\n\n37\n00:01:44.290 --> 00:01:46.160\nGo ahead and make that happen.\n\n38\n00:01:46.160 --> 00:01:49.120\nSo now, everybody knows where we're at and\nwe're all on the same page.\n\n39\n00:01:49.120 --> 00:01:52.090\nThat's just the way my mind works when I'm\ncreating scripts, maybe it's superfluous,\n\n40\n00:01:52.090 --> 00:01:56.330\nmaybe it's not, who knows,\nagain this all up to you.\n\n41\n00:01:56.330 --> 00:01:59.348\nThere's a myriad of different\nways to do it this correctly,\n\n42\n00:01:59.348 --> 00:02:03.580\nall right that would work,\nthis is just what I'm doing, all right?\n\n43\n00:02:03.580 --> 00:02:05.180\nSo let's go in here and let's say\n\n44\n00:02:06.540 --> 00:02:11.900\nI'm gonna use sed to make the change,\nto make the switch.\n\n45\n00:02:11.900 --> 00:02:14.320\nGo to this, I'll find this line and\n\n46\n00:02:14.320 --> 00:02:19.770\nfind the string on that line and\nchange it out for this string, okay.\n\n47\n00:02:19.770 --> 00:02:21.380\nI'm just gonna use sed to do that.\n\n48\n00:02:21.380 --> 00:02:24.760\nCuz basically that's what we're doing,\nI'm modifying a file.\n\n49\n00:02:24.760 --> 00:02:31.474\nA line on a file to say, instead of bin\nbash, bin ZH or bin SH, or whatever.\n\n50\n00:02:31.474 --> 00:02:34.861\nI'm just gonna use sed to do\nthat cuz I know that it can.\n\n51\n00:02:34.861 --> 00:02:38.022\nSo I'll say sed -I, like that.\n\n52\n00:02:38.022 --> 00:02:42.708\nAnd then I will have to give it a,\nI wanna call anchor.\n\n53\n00:02:42.708 --> 00:02:44.480\nThat's a regular expression.\n\n54\n00:02:44.480 --> 00:02:47.110\nIt's the string address, right.\n\n55\n00:02:47.110 --> 00:02:48.150\nI wanna give it a string address.\n\n56\n00:02:48.150 --> 00:02:50.161\nLook for this string, okay.\n\n57\n00:02:50.161 --> 00:02:52.300\nSo I'll say save i.\n\n58\n00:02:52.300 --> 00:02:55.320\nNow there's an interesting\nthing that's gonna happen here.\n\n59\n00:02:55.320 --> 00:02:58.362\nOur, let's say password, right?\n\n60\n00:02:58.362 --> 00:02:59.066\nThink of the format.\n\n61\n00:02:59.066 --> 00:03:03.805\nThink about the information\nthat we are wanting to get and\n\n62\n00:03:03.805 --> 00:03:06.480\nput into that area of that file.\n\n63\n00:03:07.490 --> 00:03:09.090\nThere's some interesting things about.\n\n64\n00:03:09.090 --> 00:03:09.820\nWhat are we looking for?\n\n65\n00:03:09.820 --> 00:03:12.720\nWe're looking for forward slash bin,\nforward slash bash, we want to replace it\n\n66\n00:03:12.720 --> 00:03:17.128\nwith forward slash bin,\nforward slash whatever the user chooses.\n\n67\n00:03:17.128 --> 00:03:21.005\nSo it's four slashes that can kind of\njack you up a little bit when it comes to\n\n68\n00:03:21.005 --> 00:03:22.320\nsed, right?\n\n69\n00:03:22.320 --> 00:03:25.630\nSo in here, I'm going to use some\n\n70\n00:03:25.630 --> 00:03:29.260\ncommas instead of forward slashes to\nmake this a little easier to read.\n\n71\n00:03:29.260 --> 00:03:32.850\nI can substitute those special\ncharacters out and that's instance.\n\n72\n00:03:32.850 --> 00:03:35.020\nSo that's gonna make that\na little easier to use.\n\n73\n00:03:35.020 --> 00:03:37.737\nI also need to do some\nweird double quoting.\n\n74\n00:03:37.737 --> 00:03:43.380\nAnd when I say double quoting I mean\nsingle quotes, double quotes, variable.\n\n75\n00:03:43.380 --> 00:03:48.010\nBecause we're using script variables\ninside of this thing, okay?\n\n76\n00:03:48.010 --> 00:03:51.810\nAnd that's gonna help them do\nshell expansion correctly.\n\n77\n00:03:51.810 --> 00:03:53.698\nYou don't put these in,\nthis is not going to work.\n\n78\n00:03:53.698 --> 00:03:57.574\nAnd yes it gets a little freaky and\nthis does seem a bit contrite, but\n\n79\n00:03:57.574 --> 00:03:59.343\nwhat are you gonna do, right?\n\n80\n00:03:59.343 --> 00:03:59.963\nIt's the way of the world.\n\n81\n00:03:59.963 --> 00:04:01.568\nHere we go.\n\n82\n00:04:01.568 --> 00:04:05.754\nSo we'll say, like this give it our\nfirst slash to start looking for\n\n83\n00:04:05.754 --> 00:04:07.470\nour string anchor.\n\n84\n00:04:07.470 --> 00:04:13.419\nWhich is going to be whatever\nthe default shell user is.\n\n85\n00:04:13.419 --> 00:04:16.860\nSo I wanted to jump down to that line,\nokay.\n\n86\n00:04:16.860 --> 00:04:17.818\nSo I'm gonna put that in there.\n\n87\n00:04:17.818 --> 00:04:22.455\nAnd the way I have to do that is\n\n88\n00:04:22.455 --> 00:04:30.002\n'\"def_shell_user\"' like that, yes.\n\n89\n00:04:30.002 --> 00:04:30.823\nThat is crazy.\n\n90\n00:04:30.823 --> 00:04:33.760\n[LAUGH] But, if you want it to work,\nthat's what you gotta do.\n\n91\n00:04:33.760 --> 00:04:36.401\nTrust me, I found that out the hard way.\n\n92\n00:04:36.401 --> 00:04:40.994\nAll right, so then, since we have our\nanchor in there, we can go ahead and\n\n93\n00:04:40.994 --> 00:04:41.670\nadd that.\n\n94\n00:04:41.670 --> 00:04:44.302\nNot our anchor,\nI want to call it an anchor so bad.\n\n95\n00:04:44.302 --> 00:04:47.206\nString address, it is an address.\n\n96\n00:04:47.206 --> 00:04:48.510\nI've got rejects on the mind.\n\n97\n00:04:48.510 --> 00:04:51.378\nSo there you go, that's the problem.\n\n98\n00:04:51.378 --> 00:04:52.338\nThat is what I'm looking for.\n\n99\n00:04:52.338 --> 00:04:56.813\nSo in sed's world that is now whatever\nusername we have fed to the menu\n\n100\n00:04:56.813 --> 00:04:57.900\nsystem, okay?\n\n101\n00:04:59.240 --> 00:05:01.020\nNow I want to do substitution.\n\n102\n00:05:01.020 --> 00:05:04.980\nBy the way,\nthis -i means it's going to insert this.\n\n103\n00:05:04.980 --> 00:05:06.779\nWhatever we do with the substitution,\n\n104\n00:05:06.779 --> 00:05:10.003\nit's gonna insert that back into\nthe line that was fed to in that file.\n\n105\n00:05:10.003 --> 00:05:14.565\nSo we're actually writing to\nthe etsy password file, okay?\n\n106\n00:05:14.565 --> 00:05:19.400\nWhere if you watched some of our previous\nepisodes back in the advanced shell stuff,\n\n107\n00:05:19.400 --> 00:05:21.790\nor the advanced shell scripting.\n\n108\n00:05:21.790 --> 00:05:25.239\nIt went from easy stuff like just doing\na substitution to doing an insertion.\n\n109\n00:05:25.239 --> 00:05:28.535\nSo this shouldn't be out of your\ncomfort zone, working with sed.\n\n110\n00:05:29.760 --> 00:05:31.903\nSo now what are we gonna do?\nWe're gonna do that substitution, and\n\n111\n00:05:31.903 --> 00:05:34.736\ninstead of doing a forward slash\nlike I normally would and say,\n\n112\n00:05:34.736 --> 00:05:36.600\nstring forward slash string.\n\n113\n00:05:36.600 --> 00:05:40.800\nI'm gonna use commas instead,\nto make my life a little easier.\n\n114\n00:05:40.800 --> 00:05:42.350\nBecause I'm looking for strings.\n\n115\n00:05:42.350 --> 00:05:45.020\nOtherwise I'm going a lot of escaping.\n\n116\n00:05:45.020 --> 00:05:48.330\nAnd that gets crazy, and you're gonna\nmake a mistake when you're doing that.\n\n117\n00:05:48.330 --> 00:05:50.570\nSo it's just easier to say you know what,\n\n118\n00:05:50.570 --> 00:05:54.070\nfrom the outset let's just\ndo it like this, all right?\n\n119\n00:05:54.070 --> 00:05:56.640\nSo I wanna substitute a specific string.\n\n120\n00:05:56.640 --> 00:06:02.515\nI wanna do the current shell with whatever\nshell was the default shell, shell.\n\n121\n00:06:02.515 --> 00:06:04.350\nRight, def shell, shell.\n\n122\n00:06:04.350 --> 00:06:06.460\nI wanna switch that for that.\n\n123\n00:06:06.460 --> 00:06:08.400\nSo let's take current\nshell which we need to do.\n\n124\n00:06:08.400 --> 00:06:13.523\n'\"$current_shell and\n\n125\n00:06:13.523 --> 00:06:18.873\nthen \"' to close that out.\n\n126\n00:06:18.873 --> 00:06:21.840\nThen I'm gonna do a comma.\n\n127\n00:06:21.840 --> 00:06:26.638\nI will need to escape\nthis which is /bin and\n\n128\n00:06:26.638 --> 00:06:33.184\nthen I can do / Shell, or\nshell shell, whatever that is.\n\n129\n00:06:33.184 --> 00:06:35.450\nDefault shell shell,\nI think this will work.\n\n130\n00:06:35.450 --> 00:06:36.060\nMaybe I'm wrong.\n\n131\n00:06:36.060 --> 00:06:38.224\nWho knows.\nWe're gonna find out.\n\n132\n00:06:38.224 --> 00:06:41.732\nLet's do this,\n\n133\n00:06:41.732 --> 00:06:48.504\n$'\"$def_shell_shell.\n\n134\n00:06:48.504 --> 00:06:51.020\nYes, cuz that's the one that they chose.\n\n135\n00:06:51.020 --> 00:06:52.853\nWhat shell do you want?\n\n136\n00:06:52.853 --> 00:06:55.542\nDouble single, and I'm just looking at\n\n137\n00:06:55.542 --> 00:07:00.445\nit because sed strings can get a little\ncomplex for lack of a better term and\n\n138\n00:07:00.445 --> 00:07:04.344\nI just want to make sure I'm\nnot making any syntax errors.\n\n139\n00:07:04.344 --> 00:07:08.953\n-I def_shell, /s, comma, current_shell,\n\n140\n00:07:08.953 --> 00:07:14.270\ncomma, escape the bin,\nescape the bash, or this.\n\n141\n00:07:14.270 --> 00:07:17.132\nI'm feeling like I need to escape that but\nI'm not,\n\n142\n00:07:17.132 --> 00:07:19.489\nI don't know if that will make it through.\n\n143\n00:07:19.489 --> 00:07:20.607\nI think I do.\n\n144\n00:07:20.607 --> 00:07:21.908\nBut you know what?\n\n145\n00:07:21.908 --> 00:07:23.700\nI'm gonna run it up the flag pole.\n\n146\n00:07:23.700 --> 00:07:24.420\nLet's see what happens.\n\n147\n00:07:24.420 --> 00:07:26.110\nI can always come back in and\nmake that change.\n\n148\n00:07:26.110 --> 00:07:27.669\nSometimes that's what you gotta do, right?\n\n149\n00:07:27.669 --> 00:07:30.571\nYou gotta go, I think this is right.\n\n150\n00:07:30.571 --> 00:07:32.079\nSave, exit, try.\n\n151\n00:07:32.079 --> 00:07:33.459\nDidn't work.\n\n152\n00:07:33.459 --> 00:07:36.059\nNow I know I was wrong on that,\ngo back and make that change.\n\n153\n00:07:36.059 --> 00:07:37.666\nJust part of the process.\n\n154\n00:07:37.666 --> 00:07:42.450\n&gt;&gt; For me, whenever I'm using sed or\nopt it's usually I'm not right the first\n\n155\n00:07:42.450 --> 00:07:46.760\ntwo three four times, so\nI'm just like I'll get it eventually.\n\n156\n00:07:46.760 --> 00:07:51.560\nIt's a determination thing sometimes,\ninstead of a I got it right, it's a,\n\n157\n00:07:51.560 --> 00:07:54.470\nI want to grit my teeth and\ntake one more whack at it.\n\n158\n00:07:54.470 --> 00:07:58.935\nSo I'm a big proponent of maybe,\nwe'll just see what happens.\n\n159\n00:07:58.935 --> 00:08:00.482\n&gt;&gt; Yeah, so that's what we're gonna do.\n\n160\n00:08:00.482 --> 00:08:03.619\nI'm just gonna leave it as it is cuz\nI think I can get away with this.\n\n161\n00:08:03.619 --> 00:08:07.116\nAnd then I'm just gonna add\nmy thing at the end here and\n\n162\n00:08:07.116 --> 00:08:10.750\nclose out my sed statement\ncuz I don't need any flags.\n\n163\n00:08:10.750 --> 00:08:12.420\nSo let's see here.\n\n164\n00:08:12.420 --> 00:08:19.326\nThen I'm gonna do Python or\nwork that with etc/passwd.\n\n165\n00:08:19.326 --> 00:08:20.990\nSo we'll just call that\netc/passwd like so.\n\n166\n00:08:20.990 --> 00:08:26.990\nAll right, so that should do the actual\nexchange to the flippity floppity,\n\n167\n00:08:26.990 --> 00:08:29.470\nand then I'll write that\nto the etc/passwd file.\n\n168\n00:08:30.490 --> 00:08:32.299\n&gt;&gt; Now, Daniel, I do have a question here.\n\n169\n00:08:32.299 --> 00:08:35.020\nAnd I think you've hinted\nat it a little bit.\n\n170\n00:08:35.020 --> 00:08:38.590\nAnd when it comes to programming, whether\nit's a practical solution or just for\n\n171\n00:08:38.590 --> 00:08:42.790\nfun, there's usually a plethora of\nways that one can approach this.\n\n172\n00:08:42.790 --> 00:08:44.860\nNow we're using sed here.\n\n173\n00:08:44.860 --> 00:08:49.170\nBut could we just have used change shell\nor some of the other utilities there?\n\n174\n00:08:49.170 --> 00:08:51.580\nAnd if so, why did you choose this route?\n\n175\n00:08:51.580 --> 00:08:52.968\n&gt;&gt; Man, that's a really good question.\n\n176\n00:08:52.968 --> 00:08:55.484\nAnd the answer is, hey, it's Elvis.\n\n177\n00:08:55.484 --> 00:08:58.140\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] No, he is actually right.\n\n178\n00:08:58.140 --> 00:09:00.540\nThere are many other tools that are\nalready built in that I could have just\n\n179\n00:09:00.540 --> 00:09:01.400\ncalled from.\n\n180\n00:09:01.400 --> 00:09:02.490\nWhy did I use sed here?\n\n181\n00:09:02.490 --> 00:09:05.555\nBecause sed was part of\nour learning process.\n\n182\n00:09:05.555 --> 00:09:07.980\nAnd sometimes,\nyou just gotta shoehorn things in.\n\n183\n00:09:07.980 --> 00:09:12.849\nAnd I wanted to make sure that we're going\nback through some of the concepts that we\n\n184\n00:09:12.849 --> 00:09:16.960\nlearned in the previous series,\nas well as this to make it solidify.\n\n185\n00:09:16.960 --> 00:09:21.690\nThey say retention, or\nrepetition breeds retention, right?\n\n186\n00:09:21.690 --> 00:09:24.130\nSo the more we do it,\nthe more we get comfortable with it.\n\n187\n00:09:24.130 --> 00:09:27.180\nAnd sed is one of those things that,\nuntil you've done it a whole lot,\n\n188\n00:09:27.180 --> 00:09:29.600\nyou're probably not gonna be\nsuper comfortable with, right?\n\n189\n00:09:29.600 --> 00:09:34.680\nSo I just wanted to bolster that up and\nre-solidify that in our minds.\n\n190\n00:09:34.680 --> 00:09:37.583\n&gt;&gt; So this is a little bit like\na sed kata, if you will, right?\n\n191\n00:09:37.583 --> 00:09:39.130\n&gt;&gt; [LAUGH] Yeah.\n\n192\n00:09:39.130 --> 00:09:43.480\n&gt;&gt; I'm gonna daily practice my sed so I\ncan remember what these expressions mean.\n\n193\n00:09:43.480 --> 00:09:44.479\n&gt;&gt; I totally like that.\n\n194\n00:09:44.479 --> 00:09:48.280\nIt's a perfect analogy in my\nestimation is that we are doing a kata.\n\n195\n00:09:48.280 --> 00:09:52.980\nWe are practicing the moves to make\nsure that when we do them in real life,\n\n196\n00:09:52.980 --> 00:09:55.060\nthey work for us and\nwe're comfortable with them.\n\n197\n00:09:55.060 --> 00:09:56.537\nSo very good, I like that, sed kata.\n\n198\n00:09:56.537 --> 00:09:58.813\nAnd we're gonna coin\nthat phrase right now.\n\n199\n00:09:58.813 --> 00:10:02.420\nAll right, so sed is in there,\nit's doing the change.\n\n200\n00:10:02.420 --> 00:10:07.160\nThen I'm going to just echo that fact\nthat the change is being made, okay?\n\n201\n00:10:07.160 --> 00:10:09.309\nCuz I like to be\ninformational to my end user.\n\n202\n00:10:09.309 --> 00:10:14.675\nSo I'll say echo, and\n\n203\n00:10:14.675 --> 00:10:19.194\nwe'll say default\n\n204\n00:10:19.194 --> 00:10:23.713\nshell changed from\n\n205\n00:10:23.713 --> 00:10:31.344\n$current_shell to /bin/.\n\n206\n00:10:31.344 --> 00:10:33.708\nWhat is it, no, no, no,\nget the dollar sign going.\n\n207\n00:10:33.708 --> 00:10:40.730\n$def_shell_shell, like that.\n\n208\n00:10:40.730 --> 00:10:43.050\nJust to give some information again.\n\n209\n00:10:43.050 --> 00:10:45.065\nMaybe they went, I chose the wrong shell.\n\n210\n00:10:45.065 --> 00:10:48.833\n[SOUND] My bad, go back in and\nrerun the program.\n\n211\n00:10:48.833 --> 00:10:49.920\nThen they'll know how to do that.\n\n212\n00:10:49.920 --> 00:10:55.383\nI always like to, through every step of\nthe way, be overly verbose with them.\n\n213\n00:10:55.383 --> 00:10:59.620\nSo they know exactly what's happening and\nare not caught by surprise.\n\n214\n00:10:59.620 --> 00:11:03.437\nSo at least, everywhere I can find that\nby something that the script does, okay?\n\n215\n00:11:03.437 --> 00:11:06.640\nSo that's what's happening there.\n\n216\n00:11:06.640 --> 00:11:11.069\nAnd then we are going\nto come through here.\n\n217\n00:11:11.069 --> 00:11:17.125\nAnd I think what we'll\ndo next is I will say,\n\n218\n00:11:17.125 --> 00:11:21.228\nwhat is the new shell, okay?\n\n219\n00:11:21.228 --> 00:11:24.975\n&gt;&gt; So, Daniel, it seems like we're just\ndeclaring that those changes have been\n\n220\n00:11:24.975 --> 00:11:27.760\nsuccessfully made and correctly made.\n\n221\n00:11:27.760 --> 00:11:29.280\nShouldn't we actually test that, though?\n\n222\n00:11:29.280 --> 00:11:30.650\n&gt;&gt; Yeah, that's exactly right.\n\n223\n00:11:30.650 --> 00:11:34.420\nWhat I've done with the echo statement\nhere basically is just saying, here's what\n\n224\n00:11:34.420 --> 00:11:38.150\nyou ask for, and here's some of the things\nthat I think have already been done.\n\n225\n00:11:38.150 --> 00:11:41.860\nWe need to test that\nto make sure that what\n\n226\n00:11:41.860 --> 00:11:44.280\nwe're saying has been done\nhas actually been done.\n\n227\n00:11:44.280 --> 00:11:47.704\nSo we'll just go ahead and\nlook back into the etc/passwd file.\n\n228\n00:11:47.704 --> 00:11:48.780\nFind that line and\n\n229\n00:11:48.780 --> 00:11:53.340\ndeliver those pertinent pieces of\nthat information back to the user.\n\n230\n00:11:53.340 --> 00:11:56.890\nSo they can rest easy at night, knowing\nthat my program just doesn't make truth\n\n231\n00:11:56.890 --> 00:12:00.000\nstatements out of thin\nair whatever arbitrarily.\n\n232\n00:12:00.000 --> 00:12:02.830\nOkay, that it's actually based\noff of some sort of fact.\n\n233\n00:12:02.830 --> 00:12:05.260\nAll right, now you can put logic\nin here if you want to do that.\n\n234\n00:12:05.260 --> 00:12:07.628\nI'm trying to make these things\na little quick and dirty.\n\n235\n00:12:07.628 --> 00:12:11.800\nYou can definitely build this out to\nbe a whole lot more robust if you want,\n\n236\n00:12:11.800 --> 00:12:16.397\ngiving you more options of confirming\nthings of that nature, totally up to you.\n\n237\n00:12:16.397 --> 00:12:20.537\nI just wanted to make this one a little\nmore quick and dirty so that we can move\n\n238\n00:12:20.537 --> 00:12:24.305\non to other things and not make\nthe whole show [LAUGH] on one function.\n\n239\n00:12:24.305 --> 00:12:26.233\nLike what we did with the add users.\n\n240\n00:12:26.233 --> 00:12:28.357\n[LAUGH] It did take a whole while.\n\n241\n00:12:28.357 --> 00:12:30.927\nSo let's go back here and let's do that.\n\n242\n00:12:30.927 --> 00:12:33.465\nInstead of declaring it, let's test it and\n\n243\n00:12:33.465 --> 00:12:38.000\nmake sure that what we declare lines up\nwith what is actually true, all right?\n\n244\n00:12:38.000 --> 00:12:39.470\nSo let's do that.\n\n245\n00:12:39.470 --> 00:12:40.865\nWe can create a new variable.\n\n246\n00:12:40.865 --> 00:12:46.022\nI'll just call it new_shell,\nI guess, like that, =$.\n\n247\n00:12:46.022 --> 00:12:50.538\nAnd we'll just grab etc/passwd again and\n\n248\n00:12:50.538 --> 00:12:57.946\nsee if the fields that we need\nare reflecting the changes that we made.\n\n249\n00:12:57.946 --> 00:13:01.240\nSo we'll get the username and\nwe'll get the default shell field.\n\n250\n00:13:01.240 --> 00:13:06.221\nSo that will be $1, and if I'm not\nmistaken, there's seven fields, so\n\n251\n00:13:06.221 --> 00:13:08.210\nthe last field would be $7.\n\n252\n00:13:08.210 --> 00:13:11.747\nAnd that should give us our default shell,\nwhich is where that resides.\n\n253\n00:13:11.747 --> 00:13:15.118\nSo we'll do grep,\n\n254\n00:13:15.118 --> 00:13:21.235\nstart with $def_shell_user.\n\n255\n00:13:21.235 --> 00:13:26.923\nLook for that, pipe that into gawk,\n\n256\n00:13:26.923 --> 00:13:30.408\nand then do -F:, and\n\n257\n00:13:30.408 --> 00:13:36.290\ngive me print $1 and $7, like so.\n\n258\n00:13:36.290 --> 00:13:38.620\nClose that out.\n\n259\n00:13:40.660 --> 00:13:42.760\nFigure that out, figure that off.\n\n260\n00:13:42.760 --> 00:13:43.730\nMake sure everything looks good.\n\n261\n00:13:43.730 --> 00:13:46.030\nI think it does.\n\n262\n00:13:46.030 --> 00:13:52.902\nWe'll just echo the new_shell and\nthat should work, echo $new_shell.\n\n263\n00:13:52.902 --> 00:13:57.070\nAnd then I think we'll be good to go.\n\n264\n00:13:58.230 --> 00:14:02.328\nAt that point, I just wanna go back\ninto the def_shell function so\n\n265\n00:14:02.328 --> 00:14:04.533\nthat you can do it again if you want.\n\n266\n00:14:04.533 --> 00:14:07.490\nOr exit out, go to the main menu,\ndo whatever you feel like.\n\n267\n00:14:07.490 --> 00:14:13.522\nSo I'll throw one of my random\ncharacter here, what's going on?\n\n268\n00:14:13.522 --> 00:14:14.740\nI'm just actually gonna hit that.\n\n269\n00:14:14.740 --> 00:14:15.507\nHere we go.\n\n270\n00:14:15.507 --> 00:14:20.354\nI'm just gonna throw\none of my read -p's in\n\n271\n00:14:20.354 --> 00:14:25.599\nhere with Press ENTER to continue,\nlike that.\n\n272\n00:14:25.599 --> 00:14:28.710\nAnd then say def_shell.\n\n273\n00:14:29.922 --> 00:14:34.920\nAll right my man, if this all goes\nto plan, no syntactical errors or\n\n274\n00:14:34.920 --> 00:14:36.240\nanything like that,\n\n275\n00:14:36.240 --> 00:14:41.300\nwe should have a fully functioning\nportion of our def_shell function.\n\n276\n00:14:41.300 --> 00:14:44.901\nThen all we have to do is button\neverything up with some extra logic for\n\n277\n00:14:44.901 --> 00:14:46.775\nthe main menu and the exit program.\n\n278\n00:14:46.775 --> 00:14:50.870\nI think we call it a day\non that [COUGH] excuse me.\n\n279\n00:14:50.870 --> 00:14:51.540\nSo let's do this.\n\n280\n00:14:51.540 --> 00:14:54.107\nLet's try it my man,\nhere we go, Ctrl+All, Ctrl+X.\n\n281\n00:14:55.630 --> 00:14:57.720\nWe're at the gig, here we go.\n\n282\n00:14:57.720 --> 00:14:58.460\nWhat am I doing?\n\n283\n00:14:58.460 --> 00:15:01.752\nLet's just run it,\n\n284\n00:15:01.752 --> 00:15:07.190\nsudo ./acct, thank you, 2.\n\n285\n00:15:07.190 --> 00:15:09.350\nThere we go, type in the password.\n\n286\n00:15:10.680 --> 00:15:12.750\nWe are going to option number 2.\n\n287\n00:15:12.750 --> 00:15:14.489\nFires away, everything's working so far.\n\n288\n00:15:14.489 --> 00:15:15.785\nThat's nice, no breakage yet.\n\n289\n00:15:15.785 --> 00:15:20.483\n[COUGH] Change shell into\nthe username dlowrie.\n\n290\n00:15:20.483 --> 00:15:25.580\nThen desired default shell,\nwe will go with zsh.\n\n291\n00:15:27.280 --> 00:15:28.007\nCurrent shell is /bin/bash.\n\n292\n00:15:28.007 --> 00:15:33.140\nDefault shell changed from\n/bin/bash to a /bin/zsh.\n\n293\n00:15:33.140 --> 00:15:34.417\nIt's hanging out here.\n\n294\n00:15:34.417 --> 00:15:36.797\nSo I definitely got some error going on.\n\n295\n00:15:36.797 --> 00:15:38.695\nNot enough to break it,\nthough, that's interesting.\n\n296\n00:15:38.695 --> 00:15:40.618\nIt's like, hang in there.\n\n297\n00:15:40.618 --> 00:15:42.200\nSo let's find out what\nthe heck I did wrong.\n\n298\n00:15:42.200 --> 00:15:46.308\nI'll Ctrl+C, we'll get back in there,\n\n299\n00:15:46.308 --> 00:15:50.538\nnano acct-mgr2, back down to that area.\n\n300\n00:15:50.538 --> 00:15:53.910\n[COUGH] Are you default shell changer,\nwhat is going on?\n\n301\n00:15:53.910 --> 00:15:55.280\nWhat did I do wrong?\n\n302\n00:15:56.320 --> 00:16:03.154\nThat looks good, new_shell,\necho new_shell, grep user gawk -F.\n\n303\n00:16:03.154 --> 00:16:04.380\nBing, bing, bing.\n\n304\n00:16:06.190 --> 00:16:08.979\nIt all looks good, what is the problem?\n\n305\n00:16:08.979 --> 00:16:10.610\nWhere is my hang up here?\n\n306\n00:16:14.180 --> 00:16:17.386\nPassword, said I that all is looking good.\n\n307\n00:16:17.386 --> 00:16:24.360\nSo we're getting there so we're getting\nto echo the current shell, which it did.\n\n308\n00:16:25.390 --> 00:16:26.420\nIt says that it changed.\n\n309\n00:16:26.420 --> 00:16:27.490\nSo we got through that.\n\n310\n00:16:27.490 --> 00:16:29.915\nSo now we're here at this new shell area.\n\n311\n00:16:29.915 --> 00:16:35.017\nSo new_shell=$grep.\n\n312\n00:16:35.017 --> 00:16:39.240\nStart with \"def_shell_user\",\ntype that into this.\n\n313\n00:16:39.240 --> 00:16:43.159\nAnd we'll look for\na delimited space between this and this.\n\n314\n00:16:44.250 --> 00:16:48.210\nWell, ladies and gentlemen,\nI am at a loss on what is going on.\n\n315\n00:16:48.210 --> 00:16:50.060\nI'm sure it's something simple.\n\n316\n00:16:50.060 --> 00:16:52.307\n&gt;&gt; Maybe we should check\nthe etc/passwd file,\n\n317\n00:16:52.307 --> 00:16:54.796\njust in case our sed\nstatement did a weird insert.\n\n318\n00:16:54.796 --> 00:16:55.788\n&gt;&gt; Good call.\n\n319\n00:16:55.788 --> 00:16:57.354\n&gt;&gt; Like we have an escaped character?\n\n320\n00:16:57.354 --> 00:17:01.810\n&gt;&gt; Because otherwise it just\ndoes weird stuff, I think.\n\n321\n00:17:01.810 --> 00:17:04.970\n&gt;&gt; Cat /etc/passwd.\n\n322\n00:17:04.970 --> 00:17:08.990\nI'll grep it,\nI'll grep my specific, do this.\n\n323\n00:17:11.190 --> 00:17:14.220\nAnd say, what are we looking?\n\n324\n00:17:15.820 --> 00:17:16.410\nThat's what we want.\n\n325\n00:17:18.670 --> 00:17:19.918\nHelps if I feed the file to it.\n\n326\n00:17:19.918 --> 00:17:23.390\nLet's see, /password.\n\n327\n00:17:23.390 --> 00:17:23.980\nHere we go.\n\n328\n00:17:23.980 --> 00:17:25.710\nIt did make the change.\n\n329\n00:17:25.710 --> 00:17:30.690\nSo all our logic up to this point,\nto where it's actually making the change\n\n330\n00:17:30.690 --> 00:17:34.550\nis working, but there seems to be,\nit's got to be within the statement.\n\n331\n00:17:34.550 --> 00:17:36.898\nEven though it looks,\nvery similar to this.\n\n332\n00:17:36.898 --> 00:17:40.100\nLet's finish it out here in\nour test environment, and\n\n333\n00:17:40.100 --> 00:17:43.820\nsee if there's any problem\nsyntactically of what I've done.\n\n334\n00:17:43.820 --> 00:17:48.142\nSo I piped that into gock,\n\n335\n00:17:48.142 --> 00:17:53.446\nsaid -f: then started it off,\n\n336\n00:17:53.446 --> 00:17:57.773\nlooked for $1 and $7.\n\n337\n00:17:57.773 --> 00:18:00.710\nSo that's what I'm looking for\nin this area here.\n\n338\n00:18:00.710 --> 00:18:07.300\nSo I'll close that out and\nthis enter and that's returning,\n\n339\n00:18:07.300 --> 00:18:14.156\nso there doesn't seem to be\nanything wrong with my statements.\n\n340\n00:18:15.320 --> 00:18:16.630\nHere.\n\n341\n00:18:16.630 --> 00:18:18.795\nIt should be echoing new shell.\n\n342\n00:18:18.795 --> 00:18:20.460\n&gt;&gt; I see it, I think.\n\n343\n00:18:20.460 --> 00:18:21.060\n&gt;&gt; You see it?\nYou see it?\n\n344\n00:18:21.060 --> 00:18:22.865\n&gt;&gt; So we're grepping for the username but\n\n345\n00:18:22.865 --> 00:18:24.840\nwe never actually give\nit the file to grep.\n\n346\n00:18:26.140 --> 00:18:27.560\nI need to give it a etc/passwd, to grep.\n\n347\n00:18:27.560 --> 00:18:28.705\n&gt;&gt; My fatal flaw.\n\n348\n00:18:28.705 --> 00:18:30.670\n&gt;&gt; [LAUGH]\n&gt;&gt; There's the problem,\n\n349\n00:18:30.670 --> 00:18:31.510\nwhich is interesting, right?\n\n350\n00:18:31.510 --> 00:18:34.260\nSo if we don't say, hey, grep this file.\n\n351\n00:18:34.260 --> 00:18:36.330\nAnd I did it in my example.\n\n352\n00:18:36.330 --> 00:18:38.850\nIt's bad habits, bad habits all the time.\n\n353\n00:18:38.850 --> 00:18:41.956\nBecause I'm so\nused to doing cat etc/passwd, grep.\n\n354\n00:18:41.956 --> 00:18:42.710\nThere you go.\n\n355\n00:18:42.710 --> 00:18:43.720\nSo when you make some deviations,\n\n356\n00:18:43.720 --> 00:18:46.880\nyou start trying to make changes\nin the normal way you do things.\n\n357\n00:18:46.880 --> 00:18:49.900\nYou're probably gonna have some mistakes\nuntil that becomes ingrained in you.\n\n358\n00:18:49.900 --> 00:18:51.860\nAnd it was a good catch, good job Justin.\n\n359\n00:18:51.860 --> 00:18:56.423\nAgain always a great thing to have\na second set of eyes, on stuff looking for\n\n360\n00:18:56.423 --> 00:18:57.008\nthings.\n\n361\n00:18:57.008 --> 00:18:58.644\nBecause my mind doesn't register it yet.\n\n362\n00:18:58.644 --> 00:19:03.240\nIt doesn't say hey you haven't broken\nthat bad habit of cat to grep, so\n\n363\n00:19:03.240 --> 00:19:05.320\nthere, I wasn't catching it.\n\n364\n00:19:05.320 --> 00:19:06.950\nGood stuff.\n\n365\n00:19:06.950 --> 00:19:10.780\nLet's put that in there, say etc/password.\n\n366\n00:19:10.780 --> 00:19:13.190\nNow, let's see if it works, my man.\n\n367\n00:19:13.190 --> 00:19:16.340\nAnd this time we'll change it\nback now that we know it's zsh.\n\n368\n00:19:16.340 --> 00:19:18.650\nWe go from zsh to batch.\n\n369\n00:19:20.500 --> 00:19:21.875\nTry that, hit number 2.\n\n370\n00:19:21.875 --> 00:19:24.390\nHit number 1,\n\n371\n00:19:24.390 --> 00:19:29.300\nuser name's DLowrie, enter the default\nshell, which we want now to be bash again.\n\n372\n00:19:29.300 --> 00:19:37.770\nCurrent shell is bash zh default shell\nchanged from bin zh to sh to bin bash.\n\n373\n00:19:38.860 --> 00:19:41.270\nDLowrie is now bin bash.\n\n374\n00:19:41.270 --> 00:19:42.220\nExcellence.\n\n375\n00:19:42.220 --> 00:19:43.980\nAnd I can press enter to continue.\n\n376\n00:19:43.980 --> 00:19:45.745\nTakes me back to the main option.\n\n377\n00:19:45.745 --> 00:19:47.990\nAnd we have done some coding.\n\n378\n00:19:47.990 --> 00:19:51.020\nAll we gotta do is put in the buttons on\nthis thing and comb its hair and send it\n\n379\n00:19:51.020 --> 00:19:56.860\noff to school with some main menu and\nexit stuff, which really is super easy.\n\n380\n00:19:56.860 --> 00:19:59.980\nWe'll go ahead and get that done cause\nwe can bang that out, no problem.\n\n381\n00:20:01.240 --> 00:20:04.730\nMake it a complete program,\nleave it hanging there.\n\n382\n00:20:05.920 --> 00:20:08.410\nDefault shell changer, here we go.\n\n383\n00:20:08.410 --> 00:20:11.400\nI just need some elifs,\nand we'll call it a day.\n\n384\n00:20:11.400 --> 00:20:17.056\nWe'll say elif, and we will need\n\n385\n00:20:17.056 --> 00:20:22.510\nthat double brackets here, and\n\n386\n00:20:22.510 --> 00:20:28.571\nwe'll say, $def_shell_ opt,\n\n387\n00:20:28.571 --> 00:20:31.413\nlike so, = mM.\n\n388\n00:20:31.413 --> 00:20:39.590\nThen, we will say just main_menu.\n\n389\n00:20:39.590 --> 00:20:41.393\nLike that.\n\n390\n00:20:41.393 --> 00:20:44.610\nElIf, the same thing for\nexiting the program.\n\n391\n00:20:46.550 --> 00:20:50.054\nDef, oops don't forget\nyour dollar sign there,\n\n392\n00:20:50.054 --> 00:20:57.582\ndef_shell_opt=xX,\n\n393\n00:20:57.582 --> 00:21:00.300\nclose that out,\n\n394\n00:21:00.300 --> 00:21:05.320\na little bit of that, a little bit of\nthis and I typed in this, that's fun.\n\n395\n00:21:05.320 --> 00:21:10.050\n[LAUGH] And\nwe'll make that say, just exit.\n\n396\n00:21:12.060 --> 00:21:15.330\nAnd then if we want, we can always have\nthe else statement there, just for\n\n397\n00:21:15.330 --> 00:21:16.780\nconsistency.\n\n398\n00:21:16.780 --> 00:21:20.366\nElse, just hammer away,\n\n399\n00:21:20.366 --> 00:21:25.260\nwe'll say, echo Invalid Option.\n\n400\n00:21:25.260 --> 00:21:29.058\nAnd then,\nwe should give them some information like,\n\n401\n00:21:29.058 --> 00:21:31.712\nhere's the option you actually put.\n\n402\n00:21:31.712 --> 00:21:35.728\nSo maybe kind of like what I just did\nwith forgetting the etc password,\n\n403\n00:21:35.728 --> 00:21:39.470\ndid it mindlessly and\nsaid what was I thinking?\n\n404\n00:21:39.470 --> 00:21:41.634\nWe don't want them to\nrepeat their mistake.\n\n405\n00:21:41.634 --> 00:21:46.391\nSo we'll say that is $def shellopt,\n\n406\n00:21:46.391 --> 00:21:50.120\n$defshellopt, like that.\n\n407\n00:21:50.120 --> 00:21:55.765\nEquals that out, then, read-p,\njust so they can see it.\n\n408\n00:21:55.765 --> 00:21:59.800\nPress ENTER enter,\n\n409\n00:21:59.800 --> 00:22:04.782\nto continue, and then we\n\n410\n00:22:04.782 --> 00:22:09.783\ncan go back to defshell.\n\n411\n00:22:09.783 --> 00:22:16.060\nAll right, think that's all we need for\nthe rest of our menu functionality.\n\n412\n00:22:16.060 --> 00:22:18.300\nSave and exit, and\nlet's see if I got any syntax errors.\n\n413\n00:22:20.220 --> 00:22:24.190\nTwo, check out whether or not the m works.\n\n414\n00:22:24.190 --> 00:22:24.766\nExcellent.\n\n415\n00:22:24.766 --> 00:22:26.810\nGo to two, try M.\n\n416\n00:22:27.810 --> 00:22:29.830\nLogic is a wonderful thing.\n\n417\n00:22:29.830 --> 00:22:33.280\nEdit two we try exit, it exits out.\n\n418\n00:22:33.280 --> 00:22:34.760\nOne more time for a capital.\n\n419\n00:22:35.970 --> 00:22:36.920\nCapital x, oops.\n\n420\n00:22:39.600 --> 00:22:41.960\nCapital x, works.\n\n421\n00:22:41.960 --> 00:22:45.940\nLet's try something we don't expect,\nsay f.\n\n422\n00:22:45.940 --> 00:22:48.160\nInvalid option, excellent.\n\n423\n00:22:48.160 --> 00:22:51.802\nSo now this whole function is\nsquared away, it's ready to go.\n\n424\n00:22:51.802 --> 00:22:56.060\nIt is now a working part\nof our main program.\n\n425\n00:22:56.060 --> 00:22:59.890\n&gt;&gt; Daniel, I do have a couple of questions\nand more is just a clarification for me.\n\n426\n00:22:59.890 --> 00:23:02.385\nNow we have this list of shells,\nand just to reiterate.\n\n427\n00:23:02.385 --> 00:23:02.990\n&gt;&gt; Mm-hm.\n\n428\n00:23:02.990 --> 00:23:06.170\n&gt;&gt; When we build this, we should make\nsure that those shells are available on\n\n429\n00:23:06.170 --> 00:23:08.110\nthe system before we go\nchanging etc password, right?.\n\n430\n00:23:08.110 --> 00:23:12.255\n&gt;&gt; Probably a good idea, this it's seems,\nit's a very simple piece of programming\n\n431\n00:23:12.255 --> 00:23:17.245\nobviously, but it has very devastating\nimplications if you put the wrong shell.\n\n432\n00:23:17.245 --> 00:23:19.316\nSomeone's not going to be able to log in,\nright?\n\n433\n00:23:19.316 --> 00:23:21.794\nIt's gonna have problems and\nthey're gonna have to call an admin.\n\n434\n00:23:21.794 --> 00:23:24.446\nAnd if it's an administrative\nshell that you've messed up,\n\n435\n00:23:24.446 --> 00:23:26.645\nwell now you're really having a good day,\nright?\n\n436\n00:23:26.645 --> 00:23:29.595\nSo just keep that in mind,\nmake sure that you verify that all those\n\n437\n00:23:29.595 --> 00:23:31.650\nshells are actually\ninstalled in your system.\n\n438\n00:23:31.650 --> 00:23:33.410\nBefore you add them as options.\n\n439\n00:23:33.410 --> 00:23:38.340\nAnd maybe even go in and change that\nmenu functionality to call from bin and\n\n440\n00:23:38.340 --> 00:23:41.310\nlook for star SH something with SH,\n\n441\n00:23:41.310 --> 00:23:44.825\npare it down using said awk,\ngetting only the shell stuff so\n\n442\n00:23:44.825 --> 00:23:49.560\nyou're verifying every time what actually\nexists so maybe if the shell got deleted.\n\n443\n00:23:49.560 --> 00:23:54.550\nSo it's extra functionality if you go in\nand add to our already working products\n\n444\n00:23:54.550 --> 00:23:56.790\nand give it a little more robustness,\nit's a good idea.\n\n445\n00:23:56.790 --> 00:24:00.740\n&gt;&gt; Now a second question,\nI noticed during the creation of this and\n\n446\n00:24:00.740 --> 00:24:02.090\nI think I know the answer.\n\n447\n00:24:02.090 --> 00:24:04.880\nYou used awk and then gawk, but\n\n448\n00:24:04.880 --> 00:24:07.730\nawk on your system is actually\njust an alias for gawk, right?\n\n449\n00:24:07.730 --> 00:24:09.110\nSo.\n&gt;&gt; That is correct.\n\n450\n00:24:09.110 --> 00:24:15.110\nIf you recall, awk and gawk,\nthere are multiple flavors of actual awk.\n\n451\n00:24:15.110 --> 00:24:19.260\nSo depending on what your system is using,\nmine is aliased, so If I call awk,\n\n452\n00:24:19.260 --> 00:24:21.140\nit's actually calling gawk.\n\n453\n00:24:21.140 --> 00:24:22.120\nSo just keep that in mind.\n\n454\n00:24:22.120 --> 00:24:25.940\nWhich is why I'm trying to remind myself,\nuse gawk as a term and\n\n455\n00:24:25.940 --> 00:24:28.470\nnot awk because that is what I'm using.\n\n456\n00:24:28.470 --> 00:24:32.020\nSo just check your system and if you're.\n\n457\n00:24:32.020 --> 00:24:37.790\nAnd nothing I've done is probably outside\nof the realm of most awk variance so\n\n458\n00:24:37.790 --> 00:24:40.740\nfar so it should work for you but\nif it doesn't just bear that in mind.\n\n459\n00:24:40.740 --> 00:24:44.900\nMaybe your variance doesn't support what\nI'm doing or it does in a different way.\n\n460\n00:24:46.090 --> 00:24:48.280\nOkay?\nGood warnings.\n\n461\n00:24:48.280 --> 00:24:52.420\n&gt;&gt; Well Daniel we have now changed\nour default shell we've managed those\n\n462\n00:24:52.420 --> 00:24:56.840\nmenu options and given ourselves\nthe capability of future expansion.\n\n463\n00:24:56.840 --> 00:25:00.270\nBut we do have a few more options that\nwe have to treat in the main menu,\n\n464\n00:25:00.270 --> 00:25:03.430\nlike password reset and\na couple of other things.\n\n465\n00:25:03.430 --> 00:25:05.240\nBut I don't think we're\ngonna do it in this episode.\n\n466\n00:25:05.240 --> 00:25:08.580\nAnd you'll have to stay tuned for\ncreating practical scripts.\n\n467\n00:25:08.580 --> 00:25:10.520\nCome back see how we figure those out.\n\n468\n00:25:10.520 --> 00:25:12.698\nBut for now signing off for IT Pro TV.\n\n469\n00:25:12.698 --> 00:25:13.780\nI've been your host Justin Dennison.\n\n470\n00:25:13.780 --> 00:25:14.800\n&gt;&gt; And I'm Daniel Lowery.\n\n471\n00:25:14.800 --> 00:25:16.459\n&gt;&gt; And we'll see you next time.\n\n472\n00:25:16.459 --> 00:25:23.133\n[MUSIC]\n\n473\n00:25:23.133 --> 00:25:26.244\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "239105543"
        },
        {
          "description": "In this episode, Daniel and Justin look at creating a function in their user account management system for dealing with user passwords. Here they will setup their script to check password status, change passwords, and remove passwords.",
          "length": "1387",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-4-1-user_account_mananger_password_reset-101817-PGM.00_22_58_06.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-4-1-user_account_mananger_password_reset-101817-PGM.00_22_58_06.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-4-1-user_account_mananger_password_reset-101817-PGM.00_22_58_06.Still001-sm.jpg",
          "title": "User Account Manager Password Reset",
          "transcript": "WEBVTT\n\n1\n00:00:00.200 --> 00:00:01.983\nWelcome to IT Pro Tv I'm your host.\n\n2\n00:00:01.983 --> 00:00:06.586\n[CROSSTALK]\n\n3\n00:00:06.586 --> 00:00:08.080\n[MUSIC]\n\n4\n00:00:08.080 --> 00:00:11.704\n&gt;&gt; You're watching ITPro.TV.\n\n5\n00:00:11.704 --> 00:00:15.000\n&gt;&gt; Greetings everyone and welcome to\nanother exciting episode of ITPro.TV.\n\n6\n00:00:15.000 --> 00:00:19.300\nI'm your host Justin Dennison and we're\ncontinuing on creating practical scripts,\n\n7\n00:00:19.300 --> 00:00:24.380\nand well more specifically we're\nmoving forward in our account manager,\n\n8\n00:00:24.380 --> 00:00:25.900\nour user account manager.\n\n9\n00:00:25.900 --> 00:00:29.980\nAnd well we're going to address\nsomething that has always been fun for\n\n10\n00:00:29.980 --> 00:00:31.310\nme, passwords.\n\n11\n00:00:31.310 --> 00:00:33.360\nWe need to manage user's passwords.\n\n12\n00:00:33.360 --> 00:00:36.315\nAnd.\nLuckily Daniel's got a laid out for us.\n\n13\n00:00:36.315 --> 00:00:39.405\nHe's gonna take us through it,\njust show us all about it.\n\n14\n00:00:39.405 --> 00:00:40.685\nAnd how are you doing today Daniel?\n\n15\n00:00:40.685 --> 00:00:44.245\n&gt;&gt; I'm doing great, I feel like you set\nthe bar a little higher for me there.\n\n16\n00:00:44.245 --> 00:00:46.545\n[LAUGH]\n&gt;&gt; That is what I do, I set it up here.\n\n17\n00:00:46.545 --> 00:00:47.660\n&gt;&gt; And watch me just grasp.\n\n18\n00:00:47.660 --> 00:00:49.810\n[LAUGH]\n&gt;&gt; Yeah.\n\n19\n00:00:49.810 --> 00:00:51.186\n&gt;&gt; Yeah.\n\n20\n00:00:51.186 --> 00:00:52.932\nYou're an evil man [INAUDIBLE].\n\n21\n00:00:52.932 --> 00:00:54.612\nBut I'm glad to be back,\nit's gonna be a lot of fun,\n\n22\n00:00:54.612 --> 00:00:56.155\nwe're gonna add a little\nmore functionality.\n\n23\n00:00:56.155 --> 00:00:58.800\nRemember we are creating\nan account management system.\n\n24\n00:00:58.800 --> 00:01:01.730\nThis is one of the things that\nyou'll probably do with the account.\n\n25\n00:01:01.730 --> 00:01:04.430\nSo I wanted to make\na quick show saying hey,\n\n26\n00:01:04.430 --> 00:01:07.780\nwhat if I wanted to change a password or\nwork with some password stuff?\n\n27\n00:01:07.780 --> 00:01:10.100\nLike they always point out,\n\n28\n00:01:10.100 --> 00:01:16.210\nthis is only one of a cornucopia of\nways in which this could be done.\n\n29\n00:01:16.210 --> 00:01:19.230\nI'm not trying to make the most\nrobust scripts on Earth\n\n30\n00:01:19.230 --> 00:01:23.420\nthat do every nuanced little thing, but\ngive you just a basic functionality.\n\n31\n00:01:23.420 --> 00:01:26.680\nAnd then you can take that and\nbuild upon it, make it more robust,\n\n32\n00:01:26.680 --> 00:01:28.810\nmake it work better for your environment.\n\n33\n00:01:28.810 --> 00:01:33.130\nAnd just seeing what we can do with the\nscripting knowledge that we've learned.\n\n34\n00:01:33.130 --> 00:01:33.980\nOkay, so\n\n35\n00:01:33.980 --> 00:01:37.773\ntoday we're gonna build that little\nsystem there to work with passwords.\n\n36\n00:01:37.773 --> 00:01:40.270\nAnd the good news it,\nit's a fairly simple process.\n\n37\n00:01:40.270 --> 00:01:44.970\nJust gotta know a little bit about\nthe passwd command and the root and\n\n38\n00:01:44.970 --> 00:01:46.408\ncrate a menu so that we can call that.\n\n39\n00:01:46.408 --> 00:01:49.360\nCause I don't know about you Justin,\nbut a lot of these things I don't do on\n\n40\n00:01:49.360 --> 00:01:51.920\nan everyday basis,\nwhich is why I script them so\n\n41\n00:01:51.920 --> 00:01:54.760\nthat I don't have to remember it,\na script does it for me.\n\n42\n00:01:54.760 --> 00:01:59.430\nSo that being said let's get back\ninto our account manager system and\n\n43\n00:01:59.430 --> 00:02:01.660\nmake some changes there so\nthat we can have that functionality.\n\n44\n00:02:02.920 --> 00:02:07.360\nI will as always, fire up good old\nNano who has been so good to me.\n\n45\n00:02:07.360 --> 00:02:11.250\nSo far I have not made any real\ncrazy mistakes with that thing.\n\n46\n00:02:11.250 --> 00:02:13.590\nYou don't have to go into,\nI don't know, insert mode or anything.\n\n47\n00:02:13.590 --> 00:02:17.612\nI know Justin, loves the so\nI can give them a little hard time.\n\n48\n00:02:17.612 --> 00:02:21.890\nSo let's drop down, we're almost there,\nhere we are, reset pass.\n\n49\n00:02:21.890 --> 00:02:23.940\nWell right now it just\nsays echos reset password.\n\n50\n00:02:23.940 --> 00:02:25.601\nI think that's good,\nI think we're done there.\n\n51\n00:02:25.601 --> 00:02:27.855\n[LAUGH]\n&gt;&gt; Well there's the episode ladies and\n\n52\n00:02:27.855 --> 00:02:28.362\ngentleman.\n\n53\n00:02:28.362 --> 00:02:31.830\nWe are finished, we have reset\nthe password, just the screen.\n\n54\n00:02:31.830 --> 00:02:34.520\n&gt;&gt; That's right, you just tell it reset\npass, and then you're off to the races.\n\n55\n00:02:34.520 --> 00:02:37.580\nNo, no, no, that's obviously us joking and\nhaving a good time.\n\n56\n00:02:37.580 --> 00:02:40.940\nSo we gotta go in here and\nwe gotta add some logic.\n\n57\n00:02:40.940 --> 00:02:44.650\nAs always let's do some,\nwhat do we wanna do?\n\n58\n00:02:44.650 --> 00:02:46.300\nWell, I'm gonna add just\na few things to this.\n\n59\n00:02:46.300 --> 00:02:50.150\nI'm gonna say,\nlet's check the user's password status,\n\n60\n00:02:50.150 --> 00:02:54.460\nsomething simple,\nlet's change the password, and\n\n61\n00:02:54.460 --> 00:02:58.070\nlet's, how about if we want to\nremove the password for any reason.\n\n62\n00:02:58.070 --> 00:03:01.690\nSometimes that's a handy\nitem that you may wanna do.\n\n63\n00:03:01.690 --> 00:03:07.370\nYou just wanna remove password\nblockage to do some testing,\n\n64\n00:03:07.370 --> 00:03:09.680\nmake sure everything is working,\nand then come back to it.\n\n65\n00:03:09.680 --> 00:03:13.210\nSo you'll find from time to time\nyou need to remove a password, so\n\n66\n00:03:13.210 --> 00:03:16.830\nthat people don't get\nconfronted with password gates.\n\n67\n00:03:16.830 --> 00:03:19.320\nAnd then when you're done doing\nwhatever that is, you go right back and\n\n68\n00:03:19.320 --> 00:03:22.760\nyou make sure to change that and\nput a password in place, all right?\n\n69\n00:03:22.760 --> 00:03:24.330\nSo we're gonna add that\nfunctionality as well.\n\n70\n00:03:25.530 --> 00:03:28.630\nYou can add whatever functionality\nyou like when in comes to password.\n\n71\n00:03:28.630 --> 00:03:32.220\nI just chose two things that I\nprobably do on a regular basis, and\n\n72\n00:03:32.220 --> 00:03:33.900\none thing that I don't\ndo on a regular basis.\n\n73\n00:03:33.900 --> 00:03:35.880\nBut, seems as good as any other thing.\n\n74\n00:03:35.880 --> 00:03:37.088\nIt was very arbitrarily chosen.\n\n75\n00:03:37.088 --> 00:03:38.454\nSo let's put it in here,\n\n76\n00:03:38.454 --> 00:03:41.720\nI like to clear the screen every\ntime we get into this stuff.\n\n77\n00:03:41.720 --> 00:03:43.210\nSo let's do that.\n\n78\n00:03:43.210 --> 00:03:46.150\nLet's get our echo command going off,\nand fire off with,\n\n79\n00:03:46.150 --> 00:03:53.420\nwe'll call this the password reset tool,\nI guess is good.\n\n80\n00:03:53.420 --> 00:03:58.560\nSome lovely stars underneath that,\nand then go to, let's see here.\n\n81\n00:03:58.560 --> 00:04:00.020\nWe've got a couple of options.\n\n82\n00:04:00.020 --> 00:04:06.193\nOne yeah we'll make that the,\ncheck the password status,\n\n83\n00:04:06.193 --> 00:04:10.298\nwe'll say check the password status.\n\n84\n00:04:10.298 --> 00:04:15.940\nTwo we'll make that change password, and\n\n85\n00:04:15.940 --> 00:04:23.980\nthree will be the remove password option,\nthe arbitrary loveliness of that.\n\n86\n00:04:23.980 --> 00:04:28.790\nThere we go, of course we also need\nour main menu as we always do,\n\n87\n00:04:28.790 --> 00:04:32.410\nand our X, for exit program.\n\n88\n00:04:35.220 --> 00:04:37.730\nAll right,\nI think that's should be a good thing.\n\n89\n00:04:37.730 --> 00:04:40.560\nNow we just need to take that\nuser input so it can tell me,\n\n90\n00:04:40.560 --> 00:04:43.620\nhey, which one of these options\ndo you really wanna use?\n\n91\n00:04:43.620 --> 00:04:47.681\nI'll say read -p and say,\n\n92\n00:04:47.681 --> 00:04:54.850\n\"Please choose option\" like that.\n\n93\n00:04:54.850 --> 00:04:59.650\nAnd don't forget my little, I almost\nforget the little prompty thing, there.\n\n94\n00:05:00.670 --> 00:05:04.770\nAnd then just we'll call this,\nthis is called.\n\n95\n00:05:04.770 --> 00:05:06.920\nAm I naming this function?\n\n96\n00:05:06.920 --> 00:05:10.510\nReset pass, so\nwe'll say reset pass opt, for\n\n97\n00:05:10.510 --> 00:05:15.690\nconsistence sake.\n\n98\n00:05:15.690 --> 00:05:20.580\nLet's see here, reset_pass_opt.\n\n99\n00:05:20.580 --> 00:05:21.080\nLike so.\n\n100\n00:05:22.200 --> 00:05:25.630\nAll right, now that we have that in there,\nwell we're just gonna run the case,\n\n101\n00:05:25.630 --> 00:05:28.830\nand let it do it's magic as it has done so\nwell for\n\n102\n00:05:28.830 --> 00:05:32.580\nus in the past while we're\nworking through menu items.\n\n103\n00:05:32.580 --> 00:05:35.430\nSo let's do that,\n\n104\n00:05:35.430 --> 00:05:41.960\nwe'll say case$reset_pass_optin and\n\n105\n00:05:41.960 --> 00:05:46.610\nwe got a few let's get the one,\ntwo, three, M, X, and star.\n\n106\n00:05:46.610 --> 00:05:51.944\nWe'll say 1, 2, 3, tab,\n\n107\n00:05:51.944 --> 00:05:59.331\nM, X, where is the there we go,\n\n108\n00:05:59.331 --> 00:06:04.500\nX, and the catch all *.\n\n109\n00:06:04.500 --> 00:06:06.310\nClose that out esacs so I don't forget.\n\n110\n00:06:06.310 --> 00:06:10.148\nThere we go, all right.\n\n111\n00:06:10.148 --> 00:06:13.590\nMy new system's basically built, I don't\nthink we've got a whole lot of craziness.\n\n112\n00:06:13.590 --> 00:06:15.790\nLike I said,\nthis should be a simple thing.\n\n113\n00:06:15.790 --> 00:06:18.960\nWe just need to get my script\nto do stuff that I have\n\n114\n00:06:18.960 --> 00:06:20.880\ntrouble keeping at the front of my mind.\n\n115\n00:06:20.880 --> 00:06:24.240\nSo all I have to do is call my script,\nand let it handle it for me.\n\n116\n00:06:24.240 --> 00:06:28.520\nSo here, in first one,\nI'm gonna add an echo.\n\n117\n00:06:28.520 --> 00:06:32.659\nJust to kinda give it\na line break kind of thing.\n\n118\n00:06:32.659 --> 00:06:35.730\nWell, let me make sure this looks nice.\n\n119\n00:06:37.830 --> 00:06:39.150\nThere we go.\nAnd we'll come down.\n\n120\n00:06:40.620 --> 00:06:47.430\nWe'll do a read -p because at this point\nthey want to check a password status so\n\n121\n00:06:47.430 --> 00:06:52.043\nI've got to know who's passwords you want\nto check so I've got to take that input.\n\n122\n00:06:52.043 --> 00:06:56.469\nSo I'll say, \"Enter username,\n\n123\n00:06:56.469 --> 00:07:01.550\nlike so, dot, dot, dot om bang and\nwe'll just call this,\n\n124\n00:07:03.010 --> 00:07:07.030\nwell I'm gonna make it simple,\nI'm gonna kinda truncate stuff right now,\n\n125\n00:07:07.030 --> 00:07:11.800\njust to keep the typing down, and\nwe'll just call it usr for user, easy.\n\n126\n00:07:13.180 --> 00:07:16.929\nSo now we can take that in and\n\n127\n00:07:16.929 --> 00:07:22.308\nsay passwd -S I think it is for status,\n\n128\n00:07:22.308 --> 00:07:26.390\nand then the $usr like that.\n\n129\n00:07:26.390 --> 00:07:28.570\nSo now,\nwhat's to do is take that variable,\n\n130\n00:07:28.570 --> 00:07:31.300\nthrow it on the end as\nthe username variable for\n\n131\n00:07:31.300 --> 00:07:36.250\nthe password command throwing\nthe -S argument to it, right?\n\n132\n00:07:36.250 --> 00:07:38.890\nAnd if we look at that output.\n\n133\n00:07:38.890 --> 00:07:40.730\nYou gotta know a little\nbit about password.\n\n134\n00:07:40.730 --> 00:07:43.790\nI will probably come back in\nafter I get this working,\n\n135\n00:07:43.790 --> 00:07:46.080\nget that minimal viable product and\n\n136\n00:07:46.080 --> 00:07:49.716\nadd some things that I tend to forget like\nwhat do each one of these fields mean?\n\n137\n00:07:49.716 --> 00:07:53.160\nI typically have to look back on the page,\nyou go, yes, it's this, it's this,\n\n138\n00:07:53.160 --> 00:07:55.784\nthere's some of them I'd just don't\nremember off the top of my head.\n\n139\n00:07:55.784 --> 00:07:58.369\nSome of them I do,\nlike the password status, but\n\n140\n00:07:58.369 --> 00:08:02.423\nif I wanted to look at the rest of that,\nor I could just cut off that stuff off.\n\n141\n00:08:02.423 --> 00:08:05.330\nAnd you see where you can go with this.\n\n142\n00:08:05.330 --> 00:08:09.436\nBut right now, we're just kinda like quick\nand dirty check a password, make sure that\n\n143\n00:08:09.436 --> 00:08:12.661\nthey have a viable password, or\nmaybe they don't have a password.\n\n144\n00:08:12.661 --> 00:08:15.860\nMaybe they're locked out of their system,\nthat kind of thing, right?\n\n145\n00:08:17.150 --> 00:08:19.140\nThat should be pretty good.\n\n146\n00:08:19.140 --> 00:08:24.190\nAnd then we'll do this.\n\n147\n00:08:24.190 --> 00:08:30.764\nOnce that's done, we'll do a read-p and\n\n148\n00:08:30.764 --> 00:08:35.701\nsay, press ENTER to continue.\n\n149\n00:08:35.701 --> 00:08:39.850\nAnd then we'll go right\nback into the reset paths.\n\n150\n00:08:40.920 --> 00:08:44.139\nThat way you can read what you\nwanna read and then press Enter and\n\n151\n00:08:44.139 --> 00:08:46.457\nthen you can do it again or\ngo somewhere else.\n\n152\n00:08:46.457 --> 00:08:50.883\nI think that's good,\ndon't forget my double semi-colons, and\n\n153\n00:08:50.883 --> 00:08:55.797\nnow we can save and exit, check that and\nmake sure that it actually works.\n\n154\n00:08:55.797 --> 00:09:04.605\nCtrl X and\nsudo back-slash account manager two.\n\n155\n00:09:04.605 --> 00:09:08.408\nPut my password in.\n\n156\n00:09:08.408 --> 00:09:12.900\nOkay, so I got a syntax error,\nforgot something, let's see here.\n\n157\n00:09:12.900 --> 00:09:15.090\nAn error unexpected.\nYou know what it is?\n\n158\n00:09:15.090 --> 00:09:17.544\nIt's all the rest of my case statements,\nthey don't have any double quotes.\n\n159\n00:09:17.544 --> 00:09:20.817\nSo I'll have to put some placeholders\nin if I want to test as I go before I\n\n160\n00:09:20.817 --> 00:09:22.936\ncan do that, so\nI just kind of jumped the gun.\n\n161\n00:09:22.936 --> 00:09:24.036\nEasy to do, no problem.\n\n162\n00:09:24.036 --> 00:09:29.038\nBut it's such an easy thing, I think I\nwanna go ahead and just finish out what\n\n163\n00:09:29.038 --> 00:09:33.960\nwe're doing and then we'll see how it\nlooks, see if it works obviously and\n\n164\n00:09:33.960 --> 00:09:38.460\nsee where we can probably make some\nchanges and make it more robust.\n\n165\n00:09:38.460 --> 00:09:41.650\n&gt;&gt; And Daniel I'm with you, I kind\nlike to test these individual chunks.\n\n166\n00:09:41.650 --> 00:09:46.161\nBut sometimes the syntax of whatever\nyou will use in this case, bash,\n\n167\n00:09:46.161 --> 00:09:48.520\nwe're not really allowed.\n\n168\n00:09:48.520 --> 00:09:51.884\nYou have to have something there, and\nif you know it's gonna be simplistic,\n\n169\n00:09:51.884 --> 00:09:54.750\nyou might get away with doing\na little more than I normally would.\n\n170\n00:09:54.750 --> 00:09:58.606\nBut if you know there's a lot of logic,\nI would probably just go ahead and\n\n171\n00:09:58.606 --> 00:10:00.946\nput like an echo checking password status,\n\n172\n00:10:00.946 --> 00:10:04.000\necho resetting password in\nthose just to check as you go.\n\n173\n00:10:04.000 --> 00:10:07.344\nBut as you said I don't think\nthe logic is too burdensome here so\n\n174\n00:10:07.344 --> 00:10:10.749\nit might just be easier to and\nthen we'll just test all of them and\n\n175\n00:10:10.749 --> 00:10:13.420\nwork all the bugs out\nsince it's not ridiculous.\n\n176\n00:10:13.420 --> 00:10:14.430\n&gt;&gt; Yeah, I'm with you on that.\n\n177\n00:10:14.430 --> 00:10:17.130\nLet's just go ahead and\nflesh out the rest of this thing.\n\n178\n00:10:17.130 --> 00:10:21.096\nI feel confident that we'll be able to if\nthere are any bugs to easily be able to\n\n179\n00:10:21.096 --> 00:10:23.980\nlook through and\nfind exactly where that might land up.\n\n180\n00:10:23.980 --> 00:10:26.250\nSo, we'll just finish it up.\n\n181\n00:10:26.250 --> 00:10:28.602\nAgain, going back to what\nJustin was talking to and\n\n182\n00:10:28.602 --> 00:10:31.719\nkinda what I was alluding to was,\nit's more than just a little bit,\n\n183\n00:10:31.719 --> 00:10:35.570\nyou probably want to go ahead and just put\nthose placeholders so everything works.\n\n184\n00:10:35.570 --> 00:10:37.420\nAnd then come back to them.\n\n185\n00:10:37.420 --> 00:10:42.499\nWe've seen that in previous episodes but\nbecause this went such a simple\n\n186\n00:10:42.499 --> 00:10:47.090\nlittle script, I think we can get\naway with it this time, right?\n\n187\n00:10:47.090 --> 00:10:51.580\nSo let's get back in there.\n\n188\n00:10:51.580 --> 00:10:54.893\nGo in and find our spots.\n\n189\n00:10:54.893 --> 00:10:59.900\nHere we are, reset password,\nsuch a wonderful thing.\n\n190\n00:10:59.900 --> 00:11:01.830\nAnd let's see here, so let's do that.\n\n191\n00:11:01.830 --> 00:11:06.116\nLet's go ahead and add for two and\nthree, main menu, and exit, cuz,\n\n192\n00:11:06.116 --> 00:11:08.930\nwell It's just not that difficult.\n\n193\n00:11:08.930 --> 00:11:12.369\nSo we'll add for two, we'll say echo yet\nagain, just again for\n\n194\n00:11:12.369 --> 00:11:13.779\na line break kind of idea.\n\n195\n00:11:13.779 --> 00:11:16.081\nRepeat, we're basically gonna lather,\nrinse,\n\n196\n00:11:16.081 --> 00:11:19.250\nrepeat this thing quite a few times,\njust to do the different things.\n\n197\n00:11:19.250 --> 00:11:22.462\nWe just want to take in the who\nyou want to look at, and\n\n198\n00:11:22.462 --> 00:11:26.627\nthen do some specific function\nagainst that username, all right?\n\n199\n00:11:26.627 --> 00:11:32.153\nSo read-p, click in,\nEnter username, ...*^ and\n\n200\n00:11:32.153 --> 00:11:38.020\nthen uzr, I can reuse that because\nonce I hit one of the case,\n\n201\n00:11:38.020 --> 00:11:45.520\nit's not gonna go like go through each\none and continue to like freak out uzr.\n\n202\n00:11:45.520 --> 00:11:48.140\nSo I can continually reuse that.\n\n203\n00:11:48.140 --> 00:11:51.478\nLet's see here, add a passwd, and\n\n204\n00:11:51.478 --> 00:11:56.510\nthis is going to be for\nchanging the password.\n\n205\n00:11:56.510 --> 00:12:01.491\nSo we're gonna say passwd, and then $ucr.\n\n206\n00:12:01.491 --> 00:12:02.490\nVery simple.\n\n207\n00:12:02.490 --> 00:12:06.520\nI mean, I could just passwd, but if I'm\nalready in my system, let it do it for\n\n208\n00:12:06.520 --> 00:12:07.210\nme, right?\n\n209\n00:12:07.210 --> 00:12:11.010\nJust enter the password that it needs.\n\n210\n00:12:11.010 --> 00:12:17.897\nHit that, and then we will read -p,\npress Enter to continue.\n\n211\n00:12:21.281 --> 00:12:23.649\nLike that, I also don't need that.\n\n212\n00:12:23.649 --> 00:12:28.670\nThere we go, and then, Reset_pass.\n\n213\n00:12:28.670 --> 00:12:33.125\nAs you can see, this is a very very\nsimplistic script, that's what we're\n\n214\n00:12:33.125 --> 00:12:37.950\ndoing, but I want this functionality\ninside of my main body of work, all right?\n\n215\n00:12:37.950 --> 00:12:40.219\nAnd I can just pop this off, again,\n\n216\n00:12:40.219 --> 00:12:45.560\nmake it its own standalone script if I\nwanted, but password is basically that.\n\n217\n00:12:45.560 --> 00:12:47.712\nBut again, there's a lot of times\nI'm using password I don't remember\n\n218\n00:12:47.712 --> 00:12:48.390\nexactly what it does.\n\n219\n00:12:48.390 --> 00:12:52.432\nSo I'm just gonna script\nthose things that I forget,\n\n220\n00:12:52.432 --> 00:12:56.480\nit's the dash s option,\nis the dash this option.\n\n221\n00:12:56.480 --> 00:13:01.375\nAnd just building the basic then coming\nback in and going and I'm gonna,\n\n222\n00:13:01.375 --> 00:13:05.790\nhey fully fledge this thing out and\ngive every option available so\n\n223\n00:13:05.790 --> 00:13:07.812\nI have a fully robust system.\n\n224\n00:13:07.812 --> 00:13:10.670\nWe're just building a skeleton for\nright now.\n\n225\n00:13:10.670 --> 00:13:13.749\nAll right, reset passwd that.\n\n226\n00:13:13.749 --> 00:13:17.573\nGoing to number three is going\nto be remove the password.\n\n227\n00:13:17.573 --> 00:13:22.297\nEcho, read -p again,\n\n228\n00:13:22.297 --> 00:13:28.390\nenter username, the dots.\n\n229\n00:13:28.390 --> 00:13:28.923\nThere we go.\n\n230\n00:13:28.923 --> 00:13:33.571\nBada-bing, uzr, and then it is\n\n231\n00:13:33.571 --> 00:13:39.051\ngoing to be passwd- I think it's an r?\n\n232\n00:13:39.051 --> 00:13:42.105\nOr d, -d?\n\n233\n00:13:42.105 --> 00:13:43.177\nThere we go.\n\n234\n00:13:43.177 --> 00:13:47.964\nThis is why I write these things down,\nso I don't forget.\n\n235\n00:13:47.964 --> 00:13:49.971\nSo -d and then $uzr.\n\n236\n00:13:51.330 --> 00:13:58.536\nGo to the read again hp to\nsay press enter to continue.\n\n237\n00:13:58.536 --> 00:14:03.774\nI did not capitalize,\nkeep it all the same.\n\n238\n00:14:05.142 --> 00:14:10.660\nAnd that and reset password.\n\n239\n00:14:10.660 --> 00:14:16.190\nCursively call my system again, and\nnow all that should be working.\n\n240\n00:14:16.190 --> 00:14:18.455\nMain menus are super simple,\n\n241\n00:14:18.455 --> 00:14:22.998\ncuz we're just doing main_menu\nwhack whack, like that.\n\n242\n00:14:22.998 --> 00:14:26.250\nDon't need I can go here.\n\n243\n00:14:26.250 --> 00:14:33.200\nAnd then just say, clear and\nexit kind of idea.\n\n244\n00:14:33.200 --> 00:14:34.044\nI think that's good.\n\n245\n00:14:34.044 --> 00:14:39.794\nAnd then for here, echo and\n\n246\n00:14:39.794 --> 00:14:45.053\njust say read -p, -p.\n\n247\n00:14:45.053 --> 00:14:48.721\nInvalid option.\n\n248\n00:14:52.351 --> 00:14:56.020\nPress Clear that out.\n\n249\n00:14:56.020 --> 00:14:56.570\nYeah, I'll put that in there.\n\n250\n00:14:56.570 --> 00:14:59.450\nI'll say invalid option.\n\n251\n00:14:59.450 --> 00:15:06.240\nAnd we're calling them $uzr, no no, $uzr.\n\n252\n00:15:06.240 --> 00:15:10.458\nThis is, this is,\nwhat's the name of this one?\n\n253\n00:15:10.458 --> 00:15:12.650\nReset pass, that's right.\n\n254\n00:15:12.650 --> 00:15:16.240\n$reset_pass_opt, like that.\n\n255\n00:15:16.240 --> 00:15:21.730\nSo give it a little colon for\nbetter looks, look and feel.\n\n256\n00:15:21.730 --> 00:15:28.450\nHit that and\nthen say press Enter to continue.\n\n257\n00:15:28.450 --> 00:15:30.320\nLooks good to me.\n\n258\n00:15:30.320 --> 00:15:35.706\nAll right, and then reset,\n\n259\n00:15:35.706 --> 00:15:38.630\nreset_pass.\n\n260\n00:15:38.630 --> 00:15:43.032\nJustin, I think we might a fully\nfunctioning little piece of the script at\n\n261\n00:15:43.032 --> 00:15:44.950\nthis point, what do you think?\n\n262\n00:15:44.950 --> 00:15:47.380\n&gt;&gt; I don't know about piece,\nit looks like you just banged it out.\n\n263\n00:15:47.380 --> 00:15:52.248\nI was like no he talked about that.\n\n264\n00:15:52.248 --> 00:15:52.940\nYou're good.\n\n265\n00:15:52.940 --> 00:15:56.672\nWe gotta do a little bit of testing and\nhopefully we don't have any syntax errors.\n\n266\n00:15:56.672 --> 00:15:58.588\nBut this is one of those where,\n\n267\n00:15:58.588 --> 00:16:02.868\nthis part of our overall account\nmanagement script is more about just\n\n268\n00:16:02.868 --> 00:16:06.871\nbuilding a menu based on the tools\nthat you may already be using.\n\n269\n00:16:06.871 --> 00:16:11.670\nBut Okay, I don't have to remember\nthe dash capital S is just on the status.\n\n270\n00:16:11.670 --> 00:16:13.280\nThat's what it is.\n\n271\n00:16:13.280 --> 00:16:17.320\nSo, this is a nice, a nice contrast to\nsome of the more complicated logics that\n\n272\n00:16:17.320 --> 00:16:21.110\nwe have in previous episodes for\nall these account management system.\n\n273\n00:16:21.110 --> 00:16:24.190\n&gt;&gt; Yeah, it doesn't always have\nto be super stink and difficult.\n\n274\n00:16:24.190 --> 00:16:27.480\nIt could just a little that something\nthat you wanna add for your own benefit.\n\n275\n00:16:27.480 --> 00:16:28.010\nRight?\n\n276\n00:16:28.010 --> 00:16:29.820\nThis could be a pet project.\n\n277\n00:16:29.820 --> 00:16:33.580\nYou go, man, that's taking PASSWD command.\n\n278\n00:16:33.580 --> 00:16:36.630\nJust do not get along for whatever reason.\n\n279\n00:16:36.630 --> 00:16:39.100\nLet my script handle that for\nme, it's easy to go out.\n\n280\n00:16:39.100 --> 00:16:42.620\nAnd then as you can see with this formats,\n\n281\n00:16:42.620 --> 00:16:45.780\nI could really get some work\ndone when it comes to PASSWD.\n\n282\n00:16:45.780 --> 00:16:48.660\nIf you look at the main page,\nstart looking at all the options and\n\n283\n00:16:48.660 --> 00:16:52.510\nI'm just gonna start cherry-picking\nthings, and go copy and paste this here,\n\n284\n00:16:52.510 --> 00:16:57.000\nchange a couple variables there and\nI've got now more functionality built in.\n\n285\n00:16:57.000 --> 00:17:01.130\nSo you get that basic foundation for\nyourself to build upon, and\n\n286\n00:17:01.130 --> 00:17:04.550\nas you find yourself needing,\nand going man this would be nice.\n\n287\n00:17:04.550 --> 00:17:07.460\nBut as soon as you go\nman this would be nice,\n\n288\n00:17:07.460 --> 00:17:10.900\nif it were in my script, well guess what?\n\n289\n00:17:10.900 --> 00:17:13.770\nSince you know how to script things in,\nyou can go ahead and\n\n290\n00:17:13.770 --> 00:17:14.600\nadd that functionality.\n\n291\n00:17:14.600 --> 00:17:17.430\nIt's very good, it's what I like about it.\n\n292\n00:17:17.430 --> 00:17:18.129\nAll right.\n\n293\n00:17:18.129 --> 00:17:23.560\nLet's save, let's exit, and\nlet's see, does the dang thing work?\n\n294\n00:17:23.560 --> 00:17:25.190\nHere's hoping Justin, here's hoping.\n\n295\n00:17:25.190 --> 00:17:28.890\nBig double, that's right,\ndouble these guys, right.\n\n296\n00:17:28.890 --> 00:17:31.155\nNo syntax errors, baby, all right.\n\n297\n00:17:31.155 --> 00:17:35.340\nWe've now have an option number three for\nthe reset password.\n\n298\n00:17:36.620 --> 00:17:41.130\nCheck password status, let's give\nthat a shot enter user name, DLowrie.\n\n299\n00:17:41.130 --> 00:17:45.310\nAnd we can see we get that\nstandard output of this\n\n300\n00:17:45.310 --> 00:17:49.900\nseven crazy fields username,\npassword status area.\n\n301\n00:17:49.900 --> 00:17:51.570\nMaybe I want to start cutting that out,\n\n302\n00:17:51.570 --> 00:17:54.740\nmaybe I just want to return that,\nand then add some logic.\n\n303\n00:17:54.740 --> 00:17:56.770\nYou start seeing where you\ncan go with this, right?\n\n304\n00:17:56.770 --> 00:18:00.760\nAs Marcus says if you\nreturn at P then echo out\n\n305\n00:18:00.760 --> 00:18:05.640\nthat password status equals good or\nif it's an L password status is locked.\n\n306\n00:18:06.710 --> 00:18:10.300\nIf it's NP then there is no\npassword on account such and such.\n\n307\n00:18:10.300 --> 00:18:15.730\nSee how it can just start building upon\nwhat you already have as a foundation.\n\n308\n00:18:15.730 --> 00:18:19.170\nSo that's good I can press Enter\nto continue, which is good.\n\n309\n00:18:19.170 --> 00:18:22.070\nTakes me back to the reset status tool.\n\n310\n00:18:22.070 --> 00:18:26.960\nI can say two,\nenter your username, dlowrie.\n\n311\n00:18:28.130 --> 00:18:31.400\nEnter new UNIX password,\nnow if I wanna change my password I can.\n\n312\n00:18:31.400 --> 00:18:38.620\nI don't wanna do that, well, let's\njust change it, I guess, there we go.\n\n313\n00:18:38.620 --> 00:18:40.610\nI can always change it back,\n\n314\n00:18:40.610 --> 00:18:43.760\nno big deal, password updated\nsuccessfully, that's great.\n\n315\n00:18:43.760 --> 00:18:46.050\nEnter to continue, takes me back.\n\n316\n00:18:46.050 --> 00:18:50.390\nI'm not going to remove my password,\nbut I'm pretty sure that will work,\n\n317\n00:18:50.390 --> 00:18:51.540\nit's pretty good.\n\n318\n00:18:51.540 --> 00:18:54.400\nI would wanted to go and\nadd a test user for that kind of stuff,\n\n319\n00:18:54.400 --> 00:18:58.660\nI should be clinging around my actual\nuser account for testing purposes.\n\n320\n00:18:58.660 --> 00:19:03.450\nBut guess what, I could go to the main\nmenu, and I could say add my user account,\n\n321\n00:19:03.450 --> 00:19:04.500\nlet's say.\n\n322\n00:19:04.500 --> 00:19:07.220\nI will take add user please.\n\n323\n00:19:07.220 --> 00:19:10.560\nFirst name, good old Chris,\nwe need him back in the game.\n\n324\n00:19:10.560 --> 00:19:12.520\nMr. Walken.\n\n325\n00:19:12.520 --> 00:19:14.870\nDid that, yes, I will enter C Walken.\n\n326\n00:19:16.250 --> 00:19:19.080\nAnd, good, he was successfully added.\n\n327\n00:19:19.080 --> 00:19:21.780\nI will just check number three\nto make sure he's there.\n\n328\n00:19:21.780 --> 00:19:24.150\nIf you look, he is actually in that,\n\n329\n00:19:24.150 --> 00:19:28.020\nlet's see password file, first I'm gonna\ncontinue, go back to the main menu.\n\n330\n00:19:28.020 --> 00:19:32.260\nAnd now, I can go to three and\nI want to remove his password.\n\n331\n00:19:32.260 --> 00:19:35.390\nActually, let's check his\npassword status first.\n\n332\n00:19:35.390 --> 00:19:39.030\nCwalken, he's a locked out user.\n\n333\n00:19:40.120 --> 00:19:41.600\nInteresting, right?\n\n334\n00:19:41.600 --> 00:19:44.680\nI'm getting, see how these things are\nworking in conjunction with each other.\n\n335\n00:19:44.680 --> 00:19:48.870\nAnd all I had to do is bounce around\nsome menus and interesting texts.\n\n336\n00:19:48.870 --> 00:19:50.680\nIt does all that stuff for me.\n\n337\n00:19:50.680 --> 00:19:55.370\nImagine if I were to have done all that\nmanually, how long would that have taken?\n\n338\n00:19:55.370 --> 00:20:00.260\nWell, a whole lot more than the four\nseconds that took me to do it here, right?\n\n339\n00:20:00.260 --> 00:20:04.710\nSo taking that burden off of us making\nus more efficient, that's what it's all\n\n340\n00:20:04.710 --> 00:20:09.060\nabout, that's what we're doing here with\nthis little piece of the pie here, right?\n\n341\n00:20:09.060 --> 00:20:12.138\nI'm entering that out,\nI can try three with him I guess.\n\n342\n00:20:12.138 --> 00:20:17.590\nSay Cwalken, and\na password expiry information has changed.\n\n343\n00:20:17.590 --> 00:20:18.840\nThat's fine, enter to continue.\n\n344\n00:20:18.840 --> 00:20:22.660\nAnd now we will check his password status,\nCwalken, and\n\n345\n00:20:22.660 --> 00:20:26.880\nnow you'll notice he has no password.\n\n346\n00:20:26.880 --> 00:20:29.580\nSo everything's working,\neverything's great.\n\n347\n00:20:29.580 --> 00:20:32.760\nI've used the menu, let me try capital M.\n\n348\n00:20:32.760 --> 00:20:36.650\nGood invalid option press cuz I\nfat fingered it accidentally,\n\n349\n00:20:36.650 --> 00:20:38.210\nthat's working in great.\n\n350\n00:20:38.210 --> 00:20:43.920\nTry capital M, that's good go back in,\ncheck my X, excellence.\n\n351\n00:20:43.920 --> 00:20:49.650\nOne more time going to three,\ncheck capital X, and that works as well.\n\n352\n00:20:49.650 --> 00:20:52.810\nLooks like we've got a nice bolt on module\n\n353\n00:20:52.810 --> 00:20:55.960\nworking very well with the other\nportions of our script.\n\n354\n00:20:55.960 --> 00:20:58.270\nSo that we can get some\naccount management done.\n\n355\n00:20:58.270 --> 00:21:01.190\n&gt;&gt; Well Daniel that,\nyou've definitely made me more efficient.\n\n356\n00:21:01.190 --> 00:21:03.590\nActually when you were like,\nthink about all the things we were doing,\n\n357\n00:21:03.590 --> 00:21:05.062\nkind of broke out in a sweat over here.\n\n358\n00:21:05.062 --> 00:21:07.139\n&gt;&gt; [LAUGH]\n&gt;&gt; Got a little winded, I was like,\n\n359\n00:21:07.139 --> 00:21:09.560\nplease don't remind me, I kinda like this.\n\n360\n00:21:09.560 --> 00:21:11.610\nOne thing that kinda just struck me, and\n\n361\n00:21:11.610 --> 00:21:13.990\nmaybe this has been in the forefront\nof your mind, we're more or\n\n362\n00:21:13.990 --> 00:21:17.562\nless an elevated privileges session\nthe entire time this is running.\n\n363\n00:21:17.562 --> 00:21:18.318\nCorrect?\n\n364\n00:21:18.318 --> 00:21:19.740\n&gt;&gt; Yes, yes.\n\n365\n00:21:19.740 --> 00:21:20.940\nI'm pretty sure you are correct.\n\n366\n00:21:20.940 --> 00:21:25.780\n&gt;&gt; So we should be careful\nto keep that in mind, but\n\n367\n00:21:25.780 --> 00:21:29.030\nI like how that they have\nan interplay to them.\n\n368\n00:21:29.030 --> 00:21:29.915\nAnd well Daniel,\n\n369\n00:21:29.915 --> 00:21:33.620\nis there any final parting words of\nwisdom before we sign off for today?\n\n370\n00:21:33.620 --> 00:21:36.560\n&gt;&gt; No, I just like top give you\nguys like you see what you can do.\n\n371\n00:21:36.560 --> 00:21:37.810\nYou start looking at the power.\n\n372\n00:21:37.810 --> 00:21:42.020\nThis is the whole purpose\nof this series is to say,\n\n373\n00:21:42.020 --> 00:21:44.650\nI have learned some scripting,\nhow can I apply it?\n\n374\n00:21:44.650 --> 00:21:46.850\nWhat are some of the things that I can do?\n\n375\n00:21:46.850 --> 00:21:51.760\nWe are just trying to give you guys some\nideas to spark your imaginations, right?\n\n376\n00:21:51.760 --> 00:21:57.170\nThis wasn't anything crazy, this is a very\nsimplistic piece of the puzzle, but when\n\n377\n00:21:57.170 --> 00:22:02.310\nyou put it on with more and other things,\nofficer now you have a very robust system.\n\n378\n00:22:02.310 --> 00:22:04.860\nOr you start calling, hey, he did this.\n\n379\n00:22:04.860 --> 00:22:06.240\nWhat if I did that?\n\n380\n00:22:06.240 --> 00:22:08.350\nI wonder if I can make that happen.\n\n381\n00:22:08.350 --> 00:22:10.920\nSo it's the whole idea,\ngive me guys good ideas and\n\n382\n00:22:10.920 --> 00:22:15.610\nsee how they would work themselves out\nin some minimally practical way, so\n\n383\n00:22:15.610 --> 00:22:18.060\nthat you can take that and\nwork from there.\n\n384\n00:22:18.060 --> 00:22:21.580\nStart building up and making something\nreally cool, that's a product that your\n\n385\n00:22:21.580 --> 00:22:25.120\nown works in your environment and\ndoes the things you needed to do.\n\n386\n00:22:25.120 --> 00:22:27.870\n&gt;&gt; Well Daniel, I'm glad you,\nit's always a balance of\n\n387\n00:22:27.870 --> 00:22:32.800\nhow far do I go with crazy nuanced\ndetails versus where do I leave off so\n\n388\n00:22:32.800 --> 00:22:34.800\nyou have something that's\nusable that you can build upon.\n\n389\n00:22:34.800 --> 00:22:39.440\nAnd well that's a struggle that I have as\nwell, so thanks for reminding us of that.\n\n390\n00:22:39.440 --> 00:22:41.680\nBut we are not finished with\ncreating practical scripts.\n\n391\n00:22:41.680 --> 00:22:44.560\nActually we're not even finished\nwith managing users yet.\n\n392\n00:22:44.560 --> 00:22:46.200\nSo definitely stay tuned, but for\n\n393\n00:22:46.200 --> 00:22:48.180\nthis episode we're gonna go ahead and\nwrap it up.\n\n394\n00:22:48.180 --> 00:22:49.490\nSo signing up for ITProTV.\n\n395\n00:22:49.490 --> 00:22:51.210\nI've been your host Justin Dennison.\n\n396\n00:22:51.210 --> 00:22:51.980\n&gt;&gt; And I'm Daniel Lowrie.\n\n397\n00:22:51.980 --> 00:22:54.671\n&gt;&gt; And we'll see you next time.\n\n398\n00:22:54.671 --> 00:23:00.337\n[MUSIC]\n\n399\n00:23:00.337 --> 00:23:02.135\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "239105004"
        },
        {
          "description": "In this episode, Daniel and Justin come closer to completing their User Account Manager utility by scripting the ability to administrate the locking and unlocking of user accounts. They also add lock status functionality.",
          "length": "1891",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-5-1-user_account_manager_account_lock-101917-PGM.00_32_12_07.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-5-1-user_account_manager_account_lock-101917-PGM.00_32_12_07.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-5-1-user_account_manager_account_lock-101917-PGM.00_32_12_07.Still001-sm.jpg",
          "title": "User Account Manager Account Lock",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:01.212\nWelcome to ITProTV.\n\n2\n00:00:01.212 --> 00:00:02.636\nI'm your host, Don Pezet.\n\n3\n00:00:02.636 --> 00:00:06.012\n[CROSSTALK]\n\n4\n00:00:06.012 --> 00:00:08.027\n[MUSIC]\n\n5\n00:00:08.027 --> 00:00:12.110\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:12.110 --> 00:00:15.657\n&gt;&gt; Greetings, everyone, and welcome to\nanother exciting episode of ITProTV.\n\n7\n00:00:15.657 --> 00:00:16.458\nI'm your host,\n\n8\n00:00:16.458 --> 00:00:20.642\nJustin Dennison, and we're continuing on\nwith our user account management script.\n\n9\n00:00:20.642 --> 00:00:24.650\nWell, it started out small, and it's\nactually grown over the last few episodes.\n\n10\n00:00:24.650 --> 00:00:28.080\nIn particular, we're gonna be\nlooking at managing account locks.\n\n11\n00:00:28.080 --> 00:00:30.470\nAnd here to help us that in that\nendeavor is Mr. Daniel Lowrie.\n\n12\n00:00:30.470 --> 00:00:31.280\nHow are you doing today, Daniel?\n\n13\n00:00:31.280 --> 00:00:32.600\n&gt;&gt; Doing fantastic, Justin.\n\n14\n00:00:32.600 --> 00:00:35.850\nAs always, glad to be back in\nthe studio here with you good folks,\n\n15\n00:00:35.850 --> 00:00:37.790\ntrying to help you guys out,\nto try to figure out some things.\n\n16\n00:00:37.790 --> 00:00:40.120\nWhat can I do now that I've\ngot some scripting knowledge?\n\n17\n00:00:40.120 --> 00:00:40.770\nWhat are some things?\n\n18\n00:00:40.770 --> 00:00:42.537\nHow can I apply that knowledge?\n\n19\n00:00:42.537 --> 00:00:45.720\nJust trying to give you guys good ideas\nof things that might work out that way.\n\n20\n00:00:45.720 --> 00:00:48.448\nAnd how I might do and\nhow you might do might be different.\n\n21\n00:00:48.448 --> 00:00:50.340\nHow Justin might do it might be different.\n\n22\n00:00:50.340 --> 00:00:53.070\nBut at the end of the day, that's what\nwe're trying to do, take that knowledge\n\n23\n00:00:53.070 --> 00:00:57.910\nthat we've learned and apply it some\nmeaningful way, practically, right?\n\n24\n00:00:57.910 --> 00:01:02.620\nSo today, we're gonna take that account\nmanagement script, the all encompassing,\n\n25\n00:01:02.620 --> 00:01:05.860\nand we're gonna bolt on\nanother module to it here and\n\n26\n00:01:05.860 --> 00:01:07.800\ngive it a little more functionality.\n\n27\n00:01:07.800 --> 00:01:10.320\nAnd today, we're gonna look at\nthat account lockout because\n\n28\n00:01:10.320 --> 00:01:11.610\nthat does happen from time to time.\n\n29\n00:01:11.610 --> 00:01:16.650\nSometimes you have systems that say,\nwe have account lockout thresholds.\n\n30\n00:01:16.650 --> 00:01:21.010\nOr I need to lock someone out\nbecause maybe they're going to have\n\n31\n00:01:21.010 --> 00:01:24.870\na talk in the HR department for\nsundry reasons.\n\n32\n00:01:24.870 --> 00:01:26.440\nAnd I need to lock their account out.\n\n33\n00:01:26.440 --> 00:01:28.180\nI don't wanna delete it quite yet, but\n\n34\n00:01:28.180 --> 00:01:30.406\nI wanna make sure that they can't log in,\nright?\n\n35\n00:01:30.406 --> 00:01:34.859\nSo these are administrative things that\nwe typically engage in from time to time.\n\n36\n00:01:34.859 --> 00:01:37.990\nAnd that's something I wanna add\nto my account management system.\n\n37\n00:01:37.990 --> 00:01:38.953\nAgain, it could have been anything.\n\n38\n00:01:38.953 --> 00:01:41.772\nBut I thought this one was\nworthy of bolting it on, so\n\n39\n00:01:41.772 --> 00:01:44.320\nthat's what we're gonna do today.\n\n40\n00:01:44.320 --> 00:01:47.380\nNow, the cool thing about this was\nthere's actually quite a few ways,\n\n41\n00:01:47.380 --> 00:01:51.400\nI say quite a few, there's a few ways\nin which you can lock an account out.\n\n42\n00:01:51.400 --> 00:01:52.494\nAnd I went through a couple of them, and\n\n43\n00:01:52.494 --> 00:01:54.666\nI didn't wanna reinvent the wheel on\nsome of the things we've already done.\n\n44\n00:01:54.666 --> 00:01:57.070\nSo I'm gonna kinda dive into\nsome different territory.\n\n45\n00:01:57.070 --> 00:02:02.210\nPlus I also think, from what I've seen,\nthis is probably one of the most robust\n\n46\n00:02:02.210 --> 00:02:07.293\nways to do account locking, which is\nusing the CH age functionality, right?\n\n47\n00:02:07.293 --> 00:02:08.802\nBut we're gonna do just\nlike we've done before.\n\n48\n00:02:08.802 --> 00:02:11.311\nWe're gonna build a menu, so\nthat we can say I wanna lock an account.\n\n49\n00:02:11.311 --> 00:02:12.654\nI wanna unlock an account.\n\n50\n00:02:12.654 --> 00:02:17.508\nAnd I wanna check the lock\nstatus of an account, okay?\n\n51\n00:02:17.508 --> 00:02:21.980\nSo that's what we're gonna slap onto\nour account management system today.\n\n52\n00:02:21.980 --> 00:02:27.122\nI guess the first place that we need to\nstart is let's go ahead and build that\n\n53\n00:02:27.122 --> 00:02:32.130\nskeleton, right, the framework\nin which the logic will go in.\n\n54\n00:02:32.130 --> 00:02:33.000\nWe like to do that.\n\n55\n00:02:33.000 --> 00:02:36.247\nAlso like to start off with making\nourselves a little checklist so\n\n56\n00:02:36.247 --> 00:02:38.590\nthat we don't forget anything.\n\n57\n00:02:38.590 --> 00:02:43.220\nAnd in keeping that as a guide as\nwe move on throughout this little\n\n58\n00:02:43.220 --> 00:02:44.870\npiece we're gonna add on.\n\n59\n00:02:44.870 --> 00:02:48.930\nAll right, that being said,\nI guess there's no more further ado but\n\n60\n00:02:48.930 --> 00:02:53.010\nto jump in, open up our nano, our text\neditor, whatever you're using, and\n\n61\n00:02:53.010 --> 00:02:55.250\nstart smacking some code in there, right?\n\n62\n00:02:55.250 --> 00:02:56.460\nShouldn't be anything too crazy.\n\n63\n00:02:56.460 --> 00:02:59.620\nWe've definitely dealt with\nthis type of thing before.\n\n64\n00:02:59.620 --> 00:03:03.943\nSo I'll nano accounts manager to .sh.\n\n65\n00:03:03.943 --> 00:03:07.102\nCome down in here, and\nif you're following along with me,\n\n66\n00:03:07.102 --> 00:03:10.830\nthen we have created placeholders for\neach one of our functions.\n\n67\n00:03:10.830 --> 00:03:14.650\nI just have to go down\nto that specific area.\n\n68\n00:03:14.650 --> 00:03:18.180\nI'm sure there is an easier way to\ndo this, but this is how I function.\n\n69\n00:03:18.180 --> 00:03:19.570\nAll right, account lock.\n\n70\n00:03:19.570 --> 00:03:20.380\nThat's where we need to be.\n\n71\n00:03:20.380 --> 00:03:22.730\nWe already have the function name defined.\n\n72\n00:03:22.730 --> 00:03:24.928\nIf not, go ahead and do that now.\n\n73\n00:03:24.928 --> 00:03:27.490\nName it whatever you like,\nbut I like to be descriptive.\n\n74\n00:03:29.080 --> 00:03:30.830\nCome in here,\nwe'll take this echo statement out.\n\n75\n00:03:32.090 --> 00:03:38.190\nAnd we'll start with our list\nof things that we need to do.\n\n76\n00:03:38.190 --> 00:03:44.937\nSo I need to, let's see here,\nI need to be able to lock functionality.\n\n77\n00:03:44.937 --> 00:03:47.027\nFunctionality.\n\n78\n00:03:47.027 --> 00:03:51.014\nI need to do some unlock functionality.\n\n79\n00:03:51.014 --> 00:03:53.230\nUnlock, I get ahead of myself.\n\n80\n00:03:53.230 --> 00:03:55.740\nUnlock functionality.\n\n81\n00:03:56.910 --> 00:03:59.021\nAnd I also wanna do some status checking.\n\n82\n00:03:59.021 --> 00:04:03.928\nLock status check, like that.\n\n83\n00:04:03.928 --> 00:04:10.232\nDon't forget, main menu function.\n\n84\n00:04:10.232 --> 00:04:14.791\nAnd calling these functions, I just\nmean in the general sense of that term,\n\n85\n00:04:14.791 --> 00:04:18.139\nnot that they are going to\nbe proper functions, per se,\n\n86\n00:04:18.139 --> 00:04:20.221\nright, inside of our thing here.\n\n87\n00:04:20.221 --> 00:04:21.349\nIt's just that they're calling function.\n\n88\n00:04:21.349 --> 00:04:23.133\nMain menu actually is a function, but\n\n89\n00:04:23.133 --> 00:04:25.544\njust wanna make that\ndistinction really quickly.\n\n90\n00:04:25.544 --> 00:04:29.000\nRight now, as I'm just working it out,\nI'm talking about the generalization.\n\n91\n00:04:30.360 --> 00:04:35.195\nAnd also exit functionality,\nso exit function.\n\n92\n00:04:35.195 --> 00:04:38.600\nAll right, so that should give\nme a pretty good, like I said,\n\n93\n00:04:38.600 --> 00:04:40.250\nbasically like a checklist.\n\n94\n00:04:40.250 --> 00:04:41.879\nDon't forget to do this,\ndon't forget to do that.\n\n95\n00:04:41.879 --> 00:04:43.240\nWork your way through it, make it happen.\n\n96\n00:04:44.860 --> 00:04:47.200\nNow, that being said,\nI think we can go ahead and\n\n97\n00:04:47.200 --> 00:04:52.350\nstart building our menu, which is as we've\ndone in the past, a pretty simple thing.\n\n98\n00:04:52.350 --> 00:04:56.197\nWe start with this easy echo statements,\nmaking them block format.\n\n99\n00:04:56.197 --> 00:05:01.281\nAnd we will call this the, we'll say\n\n100\n00:05:01.281 --> 00:05:06.211\naccounts lockout or account lock.\n\n101\n00:05:06.211 --> 00:05:06.988\nHow about we do this?\n\n102\n00:05:06.988 --> 00:05:08.091\nThis ought to be nice.\n\n103\n00:05:08.091 --> 00:05:15.305\nUnlock tool, that implies it\neither is locking or unlocking.\n\n104\n00:05:15.305 --> 00:05:17.810\n[LAUGH] I like doing stuff like that.\n\n105\n00:05:17.810 --> 00:05:20.790\nAll right, give me the page break.\n\n106\n00:05:20.790 --> 00:05:24.260\nKeep that consistency, again lending\nto the visual, the graphic feel of it.\n\n107\n00:05:25.340 --> 00:05:27.515\nAnd now we're gonna add our menu items.\n\n108\n00:05:27.515 --> 00:05:30.270\nSo 1 will be Lock Account.\n\n109\n00:05:34.597 --> 00:05:37.509\n2 will be Unlock Account.\n\n110\n00:05:39.364 --> 00:05:43.870\nAnd 3 will be Check Status.\n\n111\n00:05:43.870 --> 00:05:50.836\nWe'll say Check Account Lock Status,\n\n112\n00:05:50.836 --> 00:05:54.852\nAccount Lock Status.\n\n113\n00:05:54.852 --> 00:05:57.060\nI do like to be descriptive.\n\n114\n00:05:57.060 --> 00:05:58.950\nI hem and haw at these things quite a bit,\n\n115\n00:05:58.950 --> 00:06:01.230\nand ultimately you gotta\nland on something, right?\n\n116\n00:06:02.680 --> 00:06:03.255\nAll right, that's good.\n\n117\n00:06:03.255 --> 00:06:06.512\nThere's our three main options for\nthe lock functionality,\n\n118\n00:06:06.512 --> 00:06:09.153\nthe unlock functionality,\nand the status lock.\n\n119\n00:06:09.153 --> 00:06:12.950\nI also need to put in the main menu and\nthe exit function.\n\n120\n00:06:12.950 --> 00:06:14.363\nAnd so, I'll do that.\n\n121\n00:06:14.363 --> 00:06:20.171\nSay M for Main Menu.\n\n122\n00:06:20.171 --> 00:06:25.307\nAnd X for Exit Program.\n\n123\n00:06:25.307 --> 00:06:27.394\nI think that's how we've been working it.\n\n124\n00:06:27.394 --> 00:06:30.475\nIf not, well, we'll go back and\nrefactor it, right?\n\n125\n00:06:30.475 --> 00:06:33.270\nAnd I think that's all we need.\n\n126\n00:06:33.270 --> 00:06:35.600\nStylistically, I think, this is right.\n\n127\n00:06:35.600 --> 00:06:36.650\nI did forget one thing.\n\n128\n00:06:36.650 --> 00:06:40.819\nI do like to start everything\nwith a clear, just so\n\n129\n00:06:40.819 --> 00:06:45.910\nthat when I hit the menu,\nit just shows me this piece, okay?\n\n130\n00:06:45.910 --> 00:06:47.015\nSo that's looking good.\n\n131\n00:06:49.531 --> 00:06:51.470\nNow that we have that, well, guess what?\n\n132\n00:06:51.470 --> 00:06:55.090\nWe gotta build out those little logical\nstructures that we're gonna need to fill\n\n133\n00:06:55.090 --> 00:07:01.240\nin with the logic we're gonna\nuse later down the road.\n\n134\n00:07:01.240 --> 00:07:05.120\nSo I always like to flesh,\njust kinda start building.\n\n135\n00:07:05.120 --> 00:07:06.220\nJustin and I always talk about this.\n\n136\n00:07:06.220 --> 00:07:10.045\nIt's like we have a skeleton, and\nthen later we're gonna come back and\n\n137\n00:07:10.045 --> 00:07:12.800\nwe're gonna slap some meat on those bones,\nokay?\n\n138\n00:07:12.800 --> 00:07:13.960\nSo let's do that.\n\n139\n00:07:13.960 --> 00:07:17.760\nLet's start with, we're gonna need to\ntake in some user input at this point.\n\n140\n00:07:17.760 --> 00:07:20.764\nSo our reads is gonna come into play.\n\n141\n00:07:20.764 --> 00:07:29.002\nSo we'll say,\nPlease Choose Option, and like so.\n\n142\n00:07:29.002 --> 00:07:34.590\nAnd we'll call this,\nthis is account lockout or\n\n143\n00:07:34.590 --> 00:07:38.689\naccount lock, acct_lock_opt.\n\n144\n00:07:38.689 --> 00:07:42.878\nNow that we can take that in,\n\n145\n00:07:42.878 --> 00:07:48.290\nwe can fire off the case for our menu,\n\n146\n00:07:48.290 --> 00:07:52.668\ncase$acct_lock_optin.\n\n147\n00:07:52.668 --> 00:07:57.171\nAnd now we can build that one, two,\nthree, m and x thing going on, right,\n\n148\n00:07:57.171 --> 00:07:59.685\nthat we have so\nmuch done here in the past.\n\n149\n00:07:59.685 --> 00:08:01.832\nVery, very simple stuff.\n\n150\n00:08:01.832 --> 00:08:06.830\nSo let's see here, we need to make,\nI like to tab in, just to give it that.\n\n151\n00:08:06.830 --> 00:08:07.971\nWhat do they call that?\n\n152\n00:08:07.971 --> 00:08:09.940\nWhere it kind of works its way inward.\n\n153\n00:08:09.940 --> 00:08:11.384\nThere's a term for that, right?\n\n154\n00:08:11.384 --> 00:08:12.976\n&gt;&gt; Indentation?\n\n155\n00:08:12.976 --> 00:08:14.657\n&gt;&gt; Yeah.\n\n156\n00:08:14.657 --> 00:08:17.889\n&gt;&gt; Sometimes the terms do escape us there,\nyeah.\n\n157\n00:08:17.889 --> 00:08:21.489\nIt may seem like a simple thing, but\nwhen I've read code from people who have\n\n158\n00:08:21.489 --> 00:08:23.750\nwritten them,\nhey will you take a look at this?\n\n159\n00:08:23.750 --> 00:08:26.927\nIf it's not indented, there's been a\ncouple of times when I've been like, yeah,\n\n160\n00:08:26.927 --> 00:08:29.138\nso when you fix the formatting,\nI'll be able to help you.\n\n161\n00:08:29.138 --> 00:08:32.691\nCuz right now I have\na hard time delineating.\n\n162\n00:08:32.691 --> 00:08:34.929\nWhat does this go with?\n\n163\n00:08:34.929 --> 00:08:35.719\nWhat does this go with?\n\n164\n00:08:35.719 --> 00:08:40.710\nSo this is something small, but it would\nhelp you drastically in the future.\n\n165\n00:08:40.710 --> 00:08:44.158\nSo always try to do that, even if it's not\nnecessary, the computer can care less.\n\n166\n00:08:44.158 --> 00:08:45.421\n&gt;&gt; Yeah.\n&gt;&gt; Most of the time.\n\n167\n00:08:45.421 --> 00:08:48.893\nIt's for me and you and\neverybody else is free to.\n\n168\n00:08:48.893 --> 00:08:50.424\n&gt;&gt; Yeah, I like how you put that.\n\n169\n00:08:50.424 --> 00:08:54.479\nIt's not so much for the computer,\nthe computer does not care whether or\n\n170\n00:08:54.479 --> 00:08:56.240\nnot you indent.\n\n171\n00:08:56.240 --> 00:08:59.730\nThere are some languages that do have some\nindention that it does care about that.\n\n172\n00:08:59.730 --> 00:09:02.914\nThis is not one of them, so\nwhen you do that indention,\n\n173\n00:09:02.914 --> 00:09:04.932\nit's to make it more easily read.\n\n174\n00:09:04.932 --> 00:09:12.320\nIt's not wrong to do it another way per\nse, but it does lend to help other people.\n\n175\n00:09:12.320 --> 00:09:16.300\nSo there you go, it's just kind\nof a courtesy, as we will, so\n\n176\n00:09:16.300 --> 00:09:18.750\nthat if you even, for yourself,\nto be honest with you.\n\n177\n00:09:18.750 --> 00:09:22.420\nYou can go back, we've said it a million\ntimes, a year later, and you look at that\n\n178\n00:09:22.420 --> 00:09:27.340\ncode and you're going wow, someone\nthrowed up some code on the screen here.\n\n179\n00:09:27.340 --> 00:09:29.120\nIt's gonna be really difficult\nto work your way through.\n\n180\n00:09:29.120 --> 00:09:33.910\nSo doing things like the indention,\ncable casing or doing underscores,\n\n181\n00:09:33.910 --> 00:09:38.000\nthings like that stuff that makes\nthings readable is always a good idea.\n\n182\n00:09:38.000 --> 00:09:40.783\nJust like to reiterate these things\nthroughout the series to help\n\n183\n00:09:40.783 --> 00:09:43.160\nyou guys along and figuring out,\nwhy do I do it this way,\n\n184\n00:09:43.160 --> 00:09:44.690\nwhy can't I just do it like that?\n\n185\n00:09:44.690 --> 00:09:46.702\nWhy can't I just pull this out,\nmake that, do that?\n\n186\n00:09:46.702 --> 00:09:48.295\nYou can a lot of times but\n\n187\n00:09:48.295 --> 00:09:54.180\nthat doesn't mean it's the best way\nto go about for the long term, okay?\n\n188\n00:09:54.180 --> 00:09:56.010\nSo I'm going over back down to the code,\nright?\n\n189\n00:09:56.010 --> 00:10:01.952\nSo, where we've got 1 option there,\nwe're gonna add 2,\n\n190\n00:10:01.952 --> 00:10:06.505\nwe're gonna add 3 and\nwe're gonna add m or m.\n\n191\n00:10:06.505 --> 00:10:10.190\nWe're gonna add x or x.\n\n192\n00:10:11.930 --> 00:10:15.731\nAnd our catch of the star.\n\n193\n00:10:15.731 --> 00:10:18.240\nPut the esac so I don't forget it.\n\n194\n00:10:18.240 --> 00:10:20.624\nCuz Heaven knows,\nthat's the first thing I'm gonna do.\n\n195\n00:10:20.624 --> 00:10:24.040\nI'm gonna fire this sucker up and\nforget to put esac at the end of there.\n\n196\n00:10:24.040 --> 00:10:25.980\nI do it every time, catch you every time.\n\n197\n00:10:25.980 --> 00:10:32.397\nAll right, so now, I think we've got\na pretty good idea of what we're gonna do.\n\n198\n00:10:32.397 --> 00:10:34.220\nWe're just gonna start\nfilling out some logic.\n\n199\n00:10:34.220 --> 00:10:40.340\nNow the good thing is, for\nmost of this, actually you could pretty\n\n200\n00:10:40.340 --> 00:10:45.550\neasily fill out the logic for this and\nwe'd be done single fill, call it a day.\n\n201\n00:10:45.550 --> 00:10:49.680\nBut that change status one, we're\ngoing to dive into that a little bit.\n\n202\n00:10:49.680 --> 00:10:54.270\nNow there's a couple of ways, and here's\nthe reason I'll make all that to say\n\n203\n00:10:54.270 --> 00:10:58.800\nthat there's a few ways in which you could\nchange accounts, or lock out an account.\n\n204\n00:10:58.800 --> 00:11:02.735\nThere's PASSWD, there's user mod, and\n\n205\n00:11:02.735 --> 00:11:06.574\nthere's another command called CHAGE.\n\n206\n00:11:06.574 --> 00:11:12.300\nAnd as I was, I was like I've typically\nused user mod or password, PASSWD.\n\n207\n00:11:12.300 --> 00:11:14.949\nAnd I was looking at how that works out.\n\n208\n00:11:14.949 --> 00:11:19.495\nDon't forget a lot of times you'll\nbe in environments where if you have\n\n209\n00:11:19.495 --> 00:11:22.524\na lot of users and\nthere are people logging in and\n\n210\n00:11:22.524 --> 00:11:26.946\nlogging out a good security practice\nis to make lockout thresholds.\n\n211\n00:11:26.946 --> 00:11:29.709\nSo that's probably something\nthat's going to come and\n\n212\n00:11:29.709 --> 00:11:31.860\nuse the pam underscore auth stuff.\n\n213\n00:11:31.860 --> 00:11:32.965\nOr pam.CD.\n\n214\n00:11:32.965 --> 00:11:36.440\nThat kind of thing is coming into play,\nyou're going to manipulate that.\n\n215\n00:11:36.440 --> 00:11:38.361\nThis is a very simple environment\nwe're working on right now.\n\n216\n00:11:38.361 --> 00:11:40.559\nIt's just my personal computer,\n\n217\n00:11:40.559 --> 00:11:44.880\nI don't have users logging in\nto my laptop other than myself.\n\n218\n00:11:44.880 --> 00:11:46.913\nEven test users from time to time, and\neven when I do create a test user I\n\n219\n00:11:46.913 --> 00:11:48.400\ndelete them as soon as I'm\ndone testing with them.\n\n220\n00:11:48.400 --> 00:11:52.922\nSo I don't worry about that kind of\nstuff that's not all built into here.\n\n221\n00:11:52.922 --> 00:11:55.625\nBut I understand that kind\nof thing might happen.\n\n222\n00:11:55.625 --> 00:11:57.410\nSomeone might call and\nsay, I'm locked out.\n\n223\n00:11:57.410 --> 00:12:01.612\nAnd there's a few ways in\nwhich you can get locked out.\n\n224\n00:12:01.612 --> 00:12:05.920\nIn a smaller system, you're probably\nusing PASSWD to lock out a system.\n\n225\n00:12:05.920 --> 00:12:11.080\nYou're probably, maybe editing the etsy\npassword file directly to log them out.\n\n226\n00:12:11.080 --> 00:12:16.059\nMaybe just adding that exclamation point\nat the beginning of their user line and\n\n227\n00:12:16.059 --> 00:12:21.426\npassword or you're making their default\nshell no log in, that kind of hing, right?\n\n228\n00:12:21.426 --> 00:12:22.691\nYou can do that.\n\n229\n00:12:22.691 --> 00:12:27.321\nI think that password and\nuser mod both put the exclamation point at\n\n230\n00:12:27.321 --> 00:12:32.540\nthe beginning of the line and that tells\nsystem don't allow them to log in.\n\n231\n00:12:32.540 --> 00:12:37.555\nThere are some caveats to that,\nthough, which made me go with CHH as,\n\n232\n00:12:37.555 --> 00:12:40.622\nI don't have a ton of experience with CHH.\n\n233\n00:12:40.622 --> 00:12:42.717\nSo it was a learning experience for me and\n\n234\n00:12:42.717 --> 00:12:45.568\nI wanna share that learning\nexperience with you guys.\n\n235\n00:12:45.568 --> 00:12:49.528\nSo maybe there's better, and faster,\nand stronger ways to do this but\n\n236\n00:12:49.528 --> 00:12:52.105\nI found this to be pretty robust for\nmy system.\n\n237\n00:12:52.105 --> 00:12:57.658\nAgain, this is a one size fits one and\nmight fit others, right?\n\n238\n00:12:57.658 --> 00:13:00.390\nIn your environment, you might find\nsomething that works differently and\n\n239\n00:13:00.390 --> 00:13:01.450\nkeep that in mind.\n\n240\n00:13:01.450 --> 00:13:05.455\nSo you'll just wanna modify the code to\ninteract perfectly with your environment.\n\n241\n00:13:05.455 --> 00:13:10.015\nBut here, I found CHH to be\nthe most robust and easy way for\n\n242\n00:13:10.015 --> 00:13:15.152\nme to lock out any users that\nI might have in the future.\n\n243\n00:13:15.152 --> 00:13:19.790\nSo CHH will allow me to basically\ntake the password policy and\n\n244\n00:13:19.790 --> 00:13:21.750\nsay your password has expired.\n\n245\n00:13:21.750 --> 00:13:23.950\nAnd if your password's expired,\nyou can't log in.\n\n246\n00:13:23.950 --> 00:13:28.343\nThe other cool thing about it,\nis I use things like PASSWD or user mode,\n\n247\n00:13:28.343 --> 00:13:33.196\nit kinda does the exact same thing but\nit does it in a different way, all right.\n\n248\n00:13:33.196 --> 00:13:35.800\nI will say that,\nit puts that exclamation point and\n\n249\n00:13:35.800 --> 00:13:39.700\nthen there are some password\nexpiry things that go on as well.\n\n250\n00:13:39.700 --> 00:13:42.779\nAnd that's what it looks to,\nhence the why you're using PASSWD.\n\n251\n00:13:42.779 --> 00:13:43.481\nWhat does that do?\n\n252\n00:13:43.481 --> 00:13:45.060\nIt's a password tool.\n\n253\n00:13:45.060 --> 00:13:50.166\nUser mod, when you look at locking out\nan account, you'll see it does some\n\n254\n00:13:50.166 --> 00:13:56.024\nthings with the password, changing the age\nand the expiration date of the password.\n\n255\n00:13:56.024 --> 00:13:58.547\nSo when I work my way through this,\n\n256\n00:13:58.547 --> 00:14:03.230\nCHAGE did some things that\nthose two other tools did not.\n\n257\n00:14:03.230 --> 00:14:08.161\nAnd basically what it did was, because\nof the way it expires the password, and\n\n258\n00:14:08.161 --> 00:14:10.417\nalso handled things like SSH lock.\n\n259\n00:14:10.417 --> 00:14:14.475\nIf I use password to lock an account,\nthey're not able to walk into a terminal,\n\n260\n00:14:14.475 --> 00:14:18.716\nthey can't walk up to a computer and type\nin their username and password and login,\n\n261\n00:14:18.716 --> 00:14:20.570\nso they're locked out.\n\n262\n00:14:20.570 --> 00:14:24.010\nWhat if they go to an SSH\nsession it could still log in.\n\n263\n00:14:24.010 --> 00:14:25.750\nUser mod can handle that.\n\n264\n00:14:25.750 --> 00:14:29.620\nThere's an option inside of user\nmod to handle that scenario.\n\n265\n00:14:29.620 --> 00:14:33.550\nBut the problem, and it says it in\nthe man page, actually let's do that,\n\n266\n00:14:33.550 --> 00:14:35.200\nlet me open that and\nshow you what it says.\n\n267\n00:14:35.200 --> 00:14:37.780\nLet me just show you why I\njust went down the road I did,\n\n268\n00:14:37.780 --> 00:14:40.740\nI'm gonna open another terminal here so\nCtrl+T.\n\n269\n00:14:40.740 --> 00:14:45.070\nAnd then, here we go,\nif I do man user mod,\n\n270\n00:14:45.070 --> 00:14:50.560\nand I come down in here and\nI start looking for\n\n271\n00:14:50.560 --> 00:14:55.875\nthe lockout, there it is, -L, or --lock.\n\n272\n00:14:55.875 --> 00:14:57.740\nThis says lock the user's password.\n\n273\n00:14:57.740 --> 00:15:00.630\nThis puts an exclamation point in\nfront of the encrypted password.\n\n274\n00:15:00.630 --> 00:15:03.440\nOkay, great, that's fine,\neffectively disabling the password.\n\n275\n00:15:03.440 --> 00:15:05.810\nYou can't this option of [INAUDIBLE],\ngreat.\n\n276\n00:15:05.810 --> 00:15:10.426\nNote, if you wish to lock the account,\nnot only access with a password,\n\n277\n00:15:10.426 --> 00:15:13.163\nyou should also set\nthe expiry date to one.\n\n278\n00:15:13.163 --> 00:15:17.112\nAnd as you get into more and\nyou read some more, it talks about how\n\n279\n00:15:17.112 --> 00:15:21.520\nif you're looking at process,\nmaybe it was a form I was reading.\n\n280\n00:15:21.520 --> 00:15:25.025\nBut when you're looking at that process\nthat's running it will have the password\n\n281\n00:15:25.025 --> 00:15:27.227\nin there so\nit's an insecure method of doing that.\n\n282\n00:15:27.227 --> 00:15:29.582\nMaybe it was password as is,\nit's one of the two, right?\n\n283\n00:15:29.582 --> 00:15:34.035\nSo I don't really want to get in to\nI found CHH everybody was touting CHH\n\n284\n00:15:34.035 --> 00:15:38.053\nis the best way to go so\nthat's what we're going to use in here.\n\n285\n00:15:38.053 --> 00:15:42.780\nIt gives us access to something that\nwe might not have known before, right?\n\n286\n00:15:42.780 --> 00:15:43.400\nSomething different.\n\n287\n00:15:43.400 --> 00:15:45.020\nWe've already worked with PASSWD anyway.\n\n288\n00:15:45.020 --> 00:15:46.780\nSo there you go.\n\n289\n00:15:46.780 --> 00:15:48.743\nNow you kinda understand my\nthought process behind this.\n\n290\n00:15:48.743 --> 00:15:52.924\nAnd I had to figure out how to make it\nwork with my system and what I wanna do\n\n291\n00:15:52.924 --> 00:15:57.270\nfor my script, and that's a lot of\nscript writing practically, right?\n\n292\n00:15:57.270 --> 00:16:04.033\nYou're going, I wanna take the horse power\nof this tool Use it to my advantage.\n\n293\n00:16:04.033 --> 00:16:06.927\nWell, I'm not super familiar\nwith the said tool.\n\n294\n00:16:06.927 --> 00:16:09.244\nSo I've got to start working\nmy way through it and\n\n295\n00:16:09.244 --> 00:16:12.310\nfiguring out how that thing operates so\nI can do it effectively.\n\n296\n00:16:12.310 --> 00:16:16.060\nAnd with that comes along the fact\nthis script is going to evolve.\n\n297\n00:16:16.060 --> 00:16:20.045\nThe more you learn about your system and\nhow things work, the more that script is\n\n298\n00:16:20.045 --> 00:16:24.228\ngonna take a new life and you go back and\ngo, man, there is a better way to do this.\n\n299\n00:16:24.228 --> 00:16:28.403\nOthers, in my opinion, a faster way to\nmake that happen, or I'm looking for\n\n300\n00:16:28.403 --> 00:16:32.402\nless lines of code, so I can do it this\nway now cuz I learned something new.\n\n301\n00:16:32.402 --> 00:16:35.726\nJust keep that in mind,\nthis whole series is about trying to give\n\n302\n00:16:35.726 --> 00:16:38.946\nyou ideas about what you can do\nwith the code you are learning.\n\n303\n00:16:38.946 --> 00:16:42.950\nAnd not necessarily being the best\nscript writers either, all right?\n\n304\n00:16:42.950 --> 00:16:46.821\n&gt;&gt; And correct me if I'm wrong Daniel, but\nalso I think of this as you're helping\n\n305\n00:16:46.821 --> 00:16:49.711\nus get started for\nthings that we would use for ourselves.\n\n306\n00:16:49.711 --> 00:16:53.944\nI like the analogy one size fits one or\na number of one, I don't know if for me,\n\n307\n00:16:53.944 --> 00:16:56.241\nI don't know if it translates on camera.\n\n308\n00:16:56.241 --> 00:16:57.470\nOne size fits all gloves.\n\n309\n00:16:57.470 --> 00:16:58.391\nThey don't fit me.\n\n310\n00:16:58.391 --> 00:17:00.312\n&gt;&gt; Yes.\n&gt;&gt; Like my hands tear through them and\n\n311\n00:17:00.312 --> 00:17:01.470\nI'm like.\n\n312\n00:17:01.470 --> 00:17:04.203\nIt may not translate but\nI've got big old mitts.\n\n313\n00:17:04.203 --> 00:17:07.295\nWith that, you're building\nsomething that works for you, and\n\n314\n00:17:07.295 --> 00:17:08.848\nyou know the limitations of it.\n\n315\n00:17:08.848 --> 00:17:11.502\nIf you know limitations then you know,\nwell okay,\n\n316\n00:17:11.502 --> 00:17:14.350\nI dont need to address that\nbecause this is my use case.\n\n317\n00:17:14.350 --> 00:17:17.368\nAnd a lot of times, I think scripts\nare in fact just that, right?\n\n318\n00:17:17.368 --> 00:17:19.746\nThey're going to evolve\nbased on who's using them.\n\n319\n00:17:19.746 --> 00:17:23.651\nThat's what I use scripts for, I don't\nnecessarily have scripts that I distribute\n\n320\n00:17:23.651 --> 00:17:25.670\nto people to accomplish a single task.\n\n321\n00:17:25.670 --> 00:17:28.256\nNot that they don't exist, but\nthat's not typically how I write scripts.\n\n322\n00:17:28.256 --> 00:17:32.092\nIt's kind of quick dirty and\nit works for me, and then if I need to,\n\n323\n00:17:32.092 --> 00:17:33.677\nI'm gonna make it better.\n\n324\n00:17:33.677 --> 00:17:34.694\nLet me figure this out.\n\n325\n00:17:34.694 --> 00:17:38.264\nHey, I found out that you're gonna inspect\nthe process and find the pass, man,\n\n326\n00:17:38.264 --> 00:17:40.162\nI should probably go and\nchange that thing.\n\n327\n00:17:40.162 --> 00:17:44.277\nSo just keep that in mind, and\nalso this is a learning experience, right?\n\n328\n00:17:44.277 --> 00:17:48.840\nYou're not touting to be the end\nall be all of all things.\n\n329\n00:17:48.840 --> 00:17:53.444\nIt's about learning, getting better and\nknowing how do I progress forward.\n\n330\n00:17:53.444 --> 00:17:54.863\n&gt;&gt; Right, and the more you do that,\n\n331\n00:17:54.863 --> 00:17:57.058\nthe more times that you can\ncome up with a scenario.\n\n332\n00:17:57.058 --> 00:18:01.759\nA problem as it were to say you know\nwhat I think I could script around\n\n333\n00:18:01.759 --> 00:18:02.822\nthat problem.\n\n334\n00:18:02.822 --> 00:18:06.757\nAnd the more you do that and\nthe more people that do use your scripts,\n\n335\n00:18:06.757 --> 00:18:11.335\nthe more things that are gonna come up\nthat you were unable to foresee, right.\n\n336\n00:18:11.335 --> 00:18:11.968\nSo it's cool.\n\n337\n00:18:11.968 --> 00:18:14.944\nYour scripts are gonna grow you're\ngonna get better at doing with the more\n\n338\n00:18:14.944 --> 00:18:15.520\nexperience.\n\n339\n00:18:15.520 --> 00:18:19.008\nObviously experience is gonna breed a more\nrobust understanding of your scripts and\n\n340\n00:18:19.008 --> 00:18:20.441\nthey're gonna make them better.\n\n341\n00:18:20.441 --> 00:18:23.870\nYou're gonna be able to go back in,\nre-factor,\n\n342\n00:18:23.870 --> 00:18:28.539\nand just give them more ability and\nbetter efficiency as they grow.\n\n343\n00:18:28.539 --> 00:18:33.495\nSo don't feel timid or afraid about\nmaking a script, it's not like,\n\n344\n00:18:33.495 --> 00:18:37.523\neverybody is just in awe and\nwonder on what you have written.\n\n345\n00:18:37.523 --> 00:18:40.456\nIts probably just for\nyourself most time, and if it's not,\n\n346\n00:18:40.456 --> 00:18:43.402\nit's good to get feedback from\nthe people that are using it.\n\n347\n00:18:43.402 --> 00:18:46.548\nSo that you can make it more robust and\nmore,\n\n348\n00:18:46.548 --> 00:18:50.305\nI'll say make it better for\ntheir user experience.\n\n349\n00:18:50.305 --> 00:18:53.405\nAll right, so that's why I went with\nuser mod because I think that gives us\n\n350\n00:18:53.405 --> 00:18:54.507\nbetter user experience.\n\n351\n00:18:54.507 --> 00:18:58.242\nAgain I'm trying to just lend\nto you on my writing process and\n\n352\n00:18:58.242 --> 00:19:03.461\nwhat goes through my head when I'm working\nwith this, and how do I want this to work?\n\n353\n00:19:03.461 --> 00:19:04.850\nIt's kind of giving you\nsome insight there.\n\n354\n00:19:04.850 --> 00:19:08.834\nAll right, so let's go back into the code,\nand start fleshing that out.\n\n355\n00:19:08.834 --> 00:19:12.430\nSo here we go, we're on CH,\nwe need to do some CHH.\n\n356\n00:19:12.430 --> 00:19:14.870\nI'm going to start with an echo.\n\n357\n00:19:14.870 --> 00:19:19.696\nI'm gonna tab over and I'm gonna start,\nyeah, with an echo statement.\n\n358\n00:19:19.696 --> 00:19:23.870\nThere we go, and we will echo just\nto give it like a line break, right?\n\n359\n00:19:25.520 --> 00:19:27.980\nCome back in, and\nnow we're gonna read because well,\n\n360\n00:19:27.980 --> 00:19:29.378\nwe gotta take some user input.\n\n361\n00:19:29.378 --> 00:19:32.206\nIf I'm gonna lock the account,\nwell good sir,\n\n362\n00:19:32.206 --> 00:19:34.548\nwhich account would you let me to lock?\n\n363\n00:19:34.548 --> 00:19:37.837\nAnd the good news is this is\nactually a fairly painless process.\n\n364\n00:19:37.837 --> 00:19:41.815\nWhat we able to fill out 1 and\n2, M and X quite easily and\n\n365\n00:19:41.815 --> 00:19:46.402\nI think that's gonna be our goal for\nthe rest of the time in this.\n\n366\n00:19:46.402 --> 00:19:50.595\nPart I think we're definitely gonna be\nheaded into a part two just looking at\n\n367\n00:19:50.595 --> 00:19:52.963\nthe time we have left and\nwhat we have to do.\n\n368\n00:19:52.963 --> 00:19:56.916\nSo for this part I just want to\nget the easy stuff squared away.\n\n369\n00:19:56.916 --> 00:20:00.048\nIt should be simple for you guys to\nunderstand and we'll get going and\n\n370\n00:20:00.048 --> 00:20:02.754\nwe'll come back for part two and\nwe'll hit the hard stuff.\n\n371\n00:20:02.754 --> 00:20:07.987\nSo let's see here dash p, and\nwhat I'm gonna do is I'm just\n\n372\n00:20:07.987 --> 00:20:14.174\ngonna say enter username,\nlast simple thing, enter username...\n\n373\n00:20:14.174 --> 00:20:19.710\nDo that, and we will call that acct,\nactually that's too much.\n\n374\n00:20:19.710 --> 00:20:20.632\nFor here, I'll keep it simple.\n\n375\n00:20:20.632 --> 00:20:22.685\nI'll just say uzr.\n\n376\n00:20:22.685 --> 00:20:24.070\nI like using uzr.\n\n377\n00:20:24.070 --> 00:20:28.237\nIt's an easy one to type and it keeps\nit simple, It keeps the code small.\n\n378\n00:20:28.237 --> 00:20:34.954\nWe'll come back in and we will then\nuse CHA to modify the UGR, right?\n\n379\n00:20:34.954 --> 00:20:42.412\nSo if I say, let's see, CHAGE and I want\nto do dash E for the expiration date.\n\n380\n00:20:42.412 --> 00:20:46.256\nAnd I'll say zero.\n\n381\n00:20:46.256 --> 00:20:50.423\nAnd then we will come in, and I'll show\nyou why I use zero here in just a second,\n\n382\n00:20:50.423 --> 00:20:52.209\nand just put our dollar sign UZR.\n\n383\n00:20:52.209 --> 00:20:59.466\nSo, I'm saying expire zero, and\nthis is in days from a specific date.\n\n384\n00:20:59.466 --> 00:21:00.640\nWhen should it be expire-able?\n\n385\n00:21:00.640 --> 00:21:01.271\nZero days from now.\n\n386\n00:21:01.271 --> 00:21:02.953\nIt should be expired, right?\n\n387\n00:21:02.953 --> 00:21:09.060\nAnd then bringing in that user name\nfrom that read variable, okay?\n\n388\n00:21:09.060 --> 00:21:14.345\nAnd if you want to see that just\nman CHAGE if you have it installed\n\n389\n00:21:14.345 --> 00:21:19.158\non your system and\nit'll give you a really good run down.\n\n390\n00:21:19.158 --> 00:21:25.688\nI'll do that for you really quick\ncuz it doesn't take much time.\n\n391\n00:21:25.688 --> 00:21:30.530\nMan CHAGE, and if you come down here,\nexpiration date, set the date or\n\n392\n00:21:30.530 --> 00:21:35.374\nnumber of days since January 1st\n1970 on which the user's account\n\n393\n00:21:35.374 --> 00:21:37.490\nwill no longer be accessable.\n\n394\n00:21:39.270 --> 00:21:42.571\nPassing the number of minus one as\nthe expiration date will remove\n\n395\n00:21:42.571 --> 00:21:44.741\nan account expiration date all together.\n\n396\n00:21:44.741 --> 00:21:47.080\nSo that's what we're gonna\nuse to unexpire the account.\n\n397\n00:21:47.080 --> 00:21:52.807\nSo if set it to zero it's expired,\nwe set it to minus one it's unlocked.\n\n398\n00:21:52.807 --> 00:21:55.010\nIt sets it to never.\n\n399\n00:21:55.010 --> 00:21:58.493\nAnd for just these intents and\npurposes, that's what I'm going to do.\n\n400\n00:21:58.493 --> 00:22:04.940\nI could go back in, refactor it, make it\nmore robust if I felt that was necessary.\n\n401\n00:22:04.940 --> 00:22:09.018\nAnd say well, I want to be able to\ninput a specific expiration date.\n\n402\n00:22:09.018 --> 00:22:11.865\nI could do that, but\nit would take us forever,\n\n403\n00:22:11.865 --> 00:22:15.160\nI just want to get some main stuff out and\nmake it easy.\n\n404\n00:22:15.160 --> 00:22:19.600\nUnlock or lock an account, I don't\nset expiration dates in my system, so\n\n405\n00:22:19.600 --> 00:22:21.840\nthat's superfluous for me.\n\n406\n00:22:21.840 --> 00:22:22.636\nMaybe not for you.\n\n407\n00:22:22.636 --> 00:22:24.327\nBut you should be able to\ntake what you've learned and\n\n408\n00:22:24.327 --> 00:22:26.310\nmake that happen if you need to.\n\n409\n00:22:26.310 --> 00:22:30.105\nSo quit out of there, exit that,\n\n410\n00:22:30.105 --> 00:22:35.665\nlet's go in here, so\nwe've got our lockouts and\n\n411\n00:22:35.665 --> 00:22:39.867\nthen we'll just do a good read -p and\n\n412\n00:22:39.867 --> 00:22:45.039\nsay prep for\npress ENTER to continue like so.\n\n413\n00:22:45.039 --> 00:22:47.479\nAnd then that should take\nus back to the accounts.\n\n414\n00:22:49.000 --> 00:22:53.769\nLock, okay and\nmy double semi colons at the end there,\n\n415\n00:22:53.769 --> 00:22:56.370\nthat case statement is done.\n\n416\n00:22:56.370 --> 00:23:00.886\nAnd really it's lather rinse repeat for\nall this code except for\n\n417\n00:23:00.886 --> 00:23:04.910\none thing inside for\nour option number two.\n\n418\n00:23:04.910 --> 00:23:07.687\nWe're just gonna come into option two,\necho.\n\n419\n00:23:07.687 --> 00:23:12.123\nFollow the yellow brick road here, -p,\n\n420\n00:23:12.123 --> 00:23:17.046\nEnter username, Dot like so.\n\n421\n00:23:17.046 --> 00:23:18.992\nBecause what are we doing?\n\n422\n00:23:18.992 --> 00:23:19.910\nUnlock account.\n\n423\n00:23:19.910 --> 00:23:21.603\nWhat account do you wanna unlock?\n\n424\n00:23:21.603 --> 00:23:25.424\nYou gotta take that in, so\nwe can pass it to the script.\n\n425\n00:23:25.424 --> 00:23:27.421\nUse the r yet again.\n\n426\n00:23:27.421 --> 00:23:30.744\nCome in here say CHAGE dash e\ninstead if you make a dash one\n\n427\n00:23:30.744 --> 00:23:36.450\nthen it sets the account lockout to never,\neffectively unlocking the account.\n\n428\n00:23:36.450 --> 00:23:39.196\nAnd dollar sign uvr.\n\n429\n00:23:39.196 --> 00:23:46.001\nThat bring it back to\nanother read dash p and\n\n430\n00:23:46.001 --> 00:23:51.115\nyep, press Enter to continue.\n\n431\n00:23:51.115 --> 00:23:55.055\nAnd then take me back to account_lock.\n\n432\n00:23:55.055 --> 00:23:59.489\nAll right, so one and\ntwo look pretty good.\n\n433\n00:23:59.489 --> 00:24:02.755\nAll right, they should work, we're\ngonna button this up for a second and\n\n434\n00:24:02.755 --> 00:24:03.872\ntest it in just a second.\n\n435\n00:24:03.872 --> 00:24:07.222\nI'm gonna add M and\nX as well because they're super easy for\n\n436\n00:24:07.222 --> 00:24:08.562\nus to throw on the fire.\n\n437\n00:24:08.562 --> 00:24:10.340\nSo let's go to M.\n\n438\n00:24:10.340 --> 00:24:17.090\nWe will say take us back to the main menu,\n_menu like so.\n\n439\n00:24:17.090 --> 00:24:20.430\nX for exit, like so.\n\n440\n00:24:20.430 --> 00:24:28.290\nAnd then for our catch, we'll just\nadd some invalid option stuff there.\n\n441\n00:24:28.290 --> 00:24:32.640\n&gt;&gt; Now, Daniel, this is one of those\nthings, this is real easy to do.\n\n442\n00:24:32.640 --> 00:24:33.140\nOption two,\n\n443\n00:24:33.140 --> 00:24:37.430\ndon't we need a semicolon semicolon\nin order to finish out that option.\n\n444\n00:24:37.430 --> 00:24:38.440\n&gt;&gt; Every time, right?\n\n445\n00:24:38.440 --> 00:24:39.160\nEvery time.\n\n446\n00:24:39.160 --> 00:24:40.910\nI love debugging my own code.\n\n447\n00:24:40.910 --> 00:24:43.320\nI do that stuff on purpose,\nyou all didn't know that.\n\n448\n00:24:43.320 --> 00:24:46.852\n&gt;&gt; So I can infuriate myself as I\ncontinue building these scripts.\n\n449\n00:24:46.852 --> 00:24:47.834\n&gt;&gt; [LAUGH] Yeah, yeah.\n\n450\n00:24:47.834 --> 00:24:52.567\nCuz again easy to forget little stuff and\nyou're gonna do it, you're gonna do it, so\n\n451\n00:24:52.567 --> 00:24:55.630\njust get it in your head,\ndo the best you can.\n\n452\n00:24:55.630 --> 00:24:59.170\nWe've said it in probably just about every\nepisode, always having a second set of\n\n453\n00:24:59.170 --> 00:25:03.120\neyes on things does make the process\na whole lot less painful, so\n\n454\n00:25:03.120 --> 00:25:05.350\nif you're able to code in pairs,\ndefinitely do that,\n\n455\n00:25:05.350 --> 00:25:10.840\nif you're off by yourself, find a friend\nthat knows the same kind of stuff.\n\n456\n00:25:10.840 --> 00:25:11.928\nGet into a good forum.\n\n457\n00:25:11.928 --> 00:25:15.250\nCome to ITProTV and\nget on and send us an email.\n\n458\n00:25:15.250 --> 00:25:17.820\nWe're always glad to help out,\nwe've got forums.\n\n459\n00:25:17.820 --> 00:25:22.060\nSo it's always good to get into the\ncommunity to ask for help cuz none of us\n\n460\n00:25:22.060 --> 00:25:24.860\nare perfect programmers so,\nby any stretch of the imagination.\n\n461\n00:25:24.860 --> 00:25:27.350\nGood news is that was a simple thing\nI probably would have caught that but\n\n462\n00:25:27.350 --> 00:25:28.779\nevery now in then you'll\nrun into something and go.\n\n463\n00:25:29.870 --> 00:25:31.890\nWhy is this happened?\n\n464\n00:25:31.890 --> 00:25:36.220\nAnd you're looking at that code and\ngoing everything looks right,\n\n465\n00:25:36.220 --> 00:25:40.320\neverything looks perfect,\nwhy is this not working?\n\n466\n00:25:40.320 --> 00:25:43.910\nAnd you gotta go to an outside help so\nit's always good find yourself a group of\n\n467\n00:25:43.910 --> 00:25:47.160\nfriends or make some friends on the\ninternet or something that can help look\n\n468\n00:25:47.160 --> 00:25:52.560\nat your code, submit it for peer review\nbasically, so you can find those errors.\n\n469\n00:25:52.560 --> 00:25:55.620\nBut thank you Justin,\nyou are absolutely right.\n\n470\n00:25:55.620 --> 00:25:58.900\nForgot, as I always,\nI forget my double semis.\n\n471\n00:25:58.900 --> 00:26:05.650\nAnd now let's go in here and\nwe'll make this say,\n\n472\n00:26:05.650 --> 00:26:10.632\nwe'll do an echo and then we'll do,\n\n473\n00:26:10.632 --> 00:26:15.616\nread, read-p, we'll say invalid\n\n474\n00:26:15.616 --> 00:26:20.152\noption press enter to continue.\n\n475\n00:26:20.152 --> 00:26:26.840\nAnd bing and then go back to account.\n\n476\n00:26:26.840 --> 00:26:30.240\nNow I ask my man just reminding\nme of don't forget that.\n\n477\n00:26:30.240 --> 00:26:36.830\nI've got my ESAC already, I think I've\ngot pretty good product put in place.\n\n478\n00:26:36.830 --> 00:26:41.390\nJust missing one extensive element which\nis the checking the status and you'll see\n\n479\n00:26:41.390 --> 00:26:44.880\nwhy it's extensive in just a second,\nor in the next episode should I say.\n\n480\n00:26:44.880 --> 00:26:49.070\nBut I think this is a good spot for\nme to go ahead and save, exit out and\n\n481\n00:26:49.070 --> 00:26:52.400\ntest what I've already got,\ncuz it seems rather simple.\n\n482\n00:26:52.400 --> 00:26:53.382\nOkay?\n\n483\n00:26:53.382 --> 00:26:54.390\nSo I'm gonna do that.\n\n484\n00:26:54.390 --> 00:26:59.550\nI'm gonna go ahead and control O, control\nX, hopefully no syntax errors all right,\n\n485\n00:26:59.550 --> 00:27:01.770\nbut we'll see it's always a possibility.\n\n486\n00:27:01.770 --> 00:27:07.020\nLet me see here I have created a couple of\nuser accounts in here for testing purposes\n\n487\n00:27:07.020 --> 00:27:12.160\nso I'm not stomping on myself, so\nyou'll see those here in just a second.\n\n488\n00:27:12.160 --> 00:27:15.952\nBackslash account, don't forget pseudo.\n\n489\n00:27:15.952 --> 00:27:18.580\nPseudo backslash account manager two.\n\n490\n00:27:18.580 --> 00:27:20.082\nPassword, throw that in there.\n\n491\n00:27:20.082 --> 00:27:23.590\nI don't know if I typed that correctly,\nlooks like I didn't.\n\n492\n00:27:24.730 --> 00:27:26.980\nI'm a horrible, horrible typist.\n\n493\n00:27:28.050 --> 00:27:28.870\nI will get better.\n\n494\n00:27:28.870 --> 00:27:29.890\nDo have a syntax error.\n\n495\n00:27:31.040 --> 00:27:32.670\nExpected token mm.\n\n496\n00:27:32.670 --> 00:27:34.890\nOkay, well I'll go back in there and\n\n497\n00:27:34.890 --> 00:27:39.960\ntake a look, see what's going on here,\nand drop it down now.\n\n498\n00:27:42.937 --> 00:27:43.890\nHere we go.\n\n499\n00:27:43.890 --> 00:27:48.246\nIt didn't like something\nnear my main menu area.\n\n500\n00:27:48.246 --> 00:27:51.568\nLet's see here, main menu, so\n\n501\n00:27:51.568 --> 00:27:56.992\nthat is what we are calling the main menu,\nis it not?\n\n502\n00:28:00.341 --> 00:28:01.850\nI was at the wrong one, here we go.\n\n503\n00:28:04.110 --> 00:28:06.590\n&gt;&gt; You don't have anything for\noption three?\n\n504\n00:28:06.590 --> 00:28:08.310\nWe just need like an echo statement or\nsomething.\n\n505\n00:28:08.310 --> 00:28:09.820\n&gt;&gt; Correct.\nThank you very much, sir.\n\n506\n00:28:09.820 --> 00:28:11.930\n&gt;&gt; All these cases have\nto have something there.\n\n507\n00:28:11.930 --> 00:28:14.640\n&gt;&gt; They love to do that to us, right?\n\n508\n00:28:14.640 --> 00:28:16.500\nIn Bash, you get a lot,\nyou can't just say,\n\n509\n00:28:16.500 --> 00:28:18.920\nwell I'm going to put\nsomething there eventually.\n\n510\n00:28:18.920 --> 00:28:23.450\nIt needs something otherwise to the system\nthat says, there's no reason for\n\n511\n00:28:23.450 --> 00:28:25.990\nit to exist, so I'm gonna throw\nan error and let you go in there.\n\n512\n00:28:25.990 --> 00:28:30.490\nMaybe you mistakenly wanted to take that\nout and just add the option accidentally.\n\n513\n00:28:30.490 --> 00:28:31.270\nThat kind of thing.\n\n514\n00:28:31.270 --> 00:28:33.070\nI can see that logic, I'm fine with it,\n\n515\n00:28:33.070 --> 00:28:35.602\nI just got to remember that\nas part of my scripting life.\n\n516\n00:28:35.602 --> 00:28:37.110\nRight?\nAnd it's easy to forget.\n\n517\n00:28:38.500 --> 00:28:39.800\nSo I'm like Justin has a good idea,\n\n518\n00:28:39.800 --> 00:28:43.199\nwe'll throw an echo statement,\nwe'll just say option three.\n\n519\n00:28:43.199 --> 00:28:45.350\nLike that.\n\n520\n00:28:45.350 --> 00:28:47.847\nGive me a couple of these\nbunnies right here.\n\n521\n00:28:47.847 --> 00:28:52.340\nFollow that,\nsee if that doesn't make the magic happen.\n\n522\n00:28:52.340 --> 00:28:53.720\nThere we go.\n\n523\n00:28:53.720 --> 00:28:56.320\nAnd now we are on to\nnumber four as our option.\n\n524\n00:28:56.320 --> 00:28:59.825\nWe got into our menu,\nour menu is looking good.\n\n525\n00:28:59.825 --> 00:29:02.950\nAccount unlock tool or lock tool,\nhowever you like to call it.\n\n526\n00:29:02.950 --> 00:29:07.360\nWe've got lock, lock, unlock,\nand check, main menu and exit.\n\n527\n00:29:07.360 --> 00:29:10.110\nLet's go ahead and say one.\n\n528\n00:29:10.110 --> 00:29:11.360\nEnter the user name, which is good.\n\n529\n00:29:11.360 --> 00:29:15.310\nI've got one called Tlowrie for\ntest Lowrie.\n\n530\n00:29:15.310 --> 00:29:19.045\nJust use my own last name, what the heck,\nmy narcissism coming through.\n\n531\n00:29:19.045 --> 00:29:25.590\nAgain, press Enter to continue no errors\nare coming up seems to be good, excellent.\n\n532\n00:29:25.590 --> 00:29:30.680\nAnd now I should be able to open, let's\nsee if exit works here which it does if\n\n533\n00:29:30.680 --> 00:29:36.230\nI do chage -l for the look at the status\n\n534\n00:29:36.230 --> 00:29:41.308\nof this guy should be able\nto look at tlowrie and\n\n535\n00:29:41.308 --> 00:29:44.970\npseudo that and there we go.\n\n536\n00:29:44.970 --> 00:29:48.540\nIt says account expires on January 1st,\n1970.\n\n537\n00:29:48.540 --> 00:29:52.480\nSo the account is expired,\nhence it is locked out.\n\n538\n00:29:52.480 --> 00:29:53.040\nLockout works.\n\n539\n00:29:53.040 --> 00:29:54.870\nLet's see if we can unlock it.\n\n540\n00:29:56.320 --> 00:29:58.070\nLet's see here.\n\n541\n00:29:58.070 --> 00:30:00.150\nGo back in, go to four.\n\n542\n00:30:00.150 --> 00:30:02.030\nAnd do number two, unlock account.\n\n543\n00:30:02.030 --> 00:30:06.040\nIt is tlowrie, enter to continue.\n\n544\n00:30:06.040 --> 00:30:06.840\nExit the program.\n\n545\n00:30:06.840 --> 00:30:09.440\nCuz we haven't made the status check yet.\n\n546\n00:30:09.440 --> 00:30:12.020\nNow you see the importance of it.\n\n547\n00:30:12.020 --> 00:30:14.310\nAnd rerun that.\n\n548\n00:30:14.310 --> 00:30:15.690\nNow we see the account expires.\n\n549\n00:30:15.690 --> 00:30:20.900\nNever excellent, lock and unlock is\nworking, exit seems to also be working.\n\n550\n00:30:20.900 --> 00:30:24.500\nOne more for, actually we've got a couple\nmore but they'll be pretty quick.\n\n551\n00:30:24.500 --> 00:30:27.680\nWe want to check M for\nmain menu which works.\n\n552\n00:30:27.680 --> 00:30:31.220\nFor again M for main menu which works.\n\n553\n00:30:31.220 --> 00:30:37.280\nWe've already checked lower case x for\nyou to check the uppercase X which works.\n\n554\n00:30:37.280 --> 00:30:42.390\nSo everything up to this point is working,\nwe just need to bolt into the supercharger\n\n555\n00:30:42.390 --> 00:30:47.090\non this, which is checking that account's\nstatus, whether it's locked or unlocked.\n\n556\n00:30:47.090 --> 00:30:51.830\nGetting that feedback so\nwe don't have to drop out of the thing,\n\n557\n00:30:51.830 --> 00:30:55.220\nrun chh-l on the user,\nwe want to script that in here.\n\n558\n00:30:55.220 --> 00:30:57.330\n&gt;&gt; Well Daniel,\nthat seems pretty straightforward.\n\n559\n00:30:57.330 --> 00:31:00.710\nI'm kind of interested to see\nwhat requires a little more\n\n560\n00:31:00.710 --> 00:31:04.960\ntime before checking the status,\nI don't know what you have planned for us.\n\n561\n00:31:04.960 --> 00:31:09.010\nBut I'm gonna have to stay tuned to see\nwhat it is and you will as well because we\n\n562\n00:31:09.010 --> 00:31:12.090\nare out of time for this episode so\ndefinitely stay tuned for part two.\n\n563\n00:31:12.090 --> 00:31:14.340\nBut for now signing off for ITProTV.\n\n564\n00:31:14.340 --> 00:31:16.340\nI've been you're host Justin Dennison.\n\n565\n00:31:16.340 --> 00:31:17.030\n&gt;&gt; And I'm Daniel Lowrie.\n\n566\n00:31:17.030 --> 00:31:19.126\n&gt;&gt; And we'll see you next time.\n\n567\n00:31:19.126 --> 00:31:25.209\n[MUSIC]\n\n568\n00:31:25.209 --> 00:31:28.187\nThank you for watching ITProTV.\n\n",
          "vimeoId": "239104228"
        },
        {
          "description": "In this episode, Daniel and Justin come closer to completing their User Account Manager utility by scripting the ability to administrate the locking and unlocking of user accounts. They also add lock status functionality.",
          "length": "1959",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-5-2-user_account_manager_account_lock_pt_2-101917-PGM.00_33_12_14.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-5-2-user_account_manager_account_lock_pt_2-101917-PGM.00_33_12_14.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-5-2-user_account_manager_account_lock_pt_2-101917-PGM.00_33_12_14.Still001-sm.jpg",
          "title": "User Account Manager Account Lock Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.200 --> 00:00:08.319\nWelcome to IT Pro TV, I'm your host\n&gt;&gt; [NOISE]\n\n2\n00:00:08.319 --> 00:00:11.940\n&gt;&gt; You're watching IT Pro TV.\n\n3\n00:00:11.940 --> 00:00:14.887\n&gt;&gt; Greetings everyone and welcome\n&gt;&gt; back to another exciting episode of\n\n4\n00:00:14.887 --> 00:00:15.410\nIT Pro TV.\n\n5\n00:00:15.410 --> 00:00:17.590\nI'm your host, Justin Dennison, and\n\n6\n00:00:17.590 --> 00:00:22.190\nwe are continuing in a part 2 of well,\nlike locking accounts and, in particular,\n\n7\n00:00:22.190 --> 00:00:26.880\nwe're gonna come back and look at\nchecking an account lock status, and\n\n8\n00:00:26.880 --> 00:00:30.160\nthe man with the plan is in\nthe studio today, Mr. Daniel Lowrie.\n\n9\n00:00:30.160 --> 00:00:30.860\nHow you doing today, Daniel?\n\n10\n00:00:30.860 --> 00:00:34.320\n&gt;&gt; Fantastic, Justin, glad to be in\nstudio&gt; It's always a good time when I got\n\n11\n00:00:34.320 --> 00:00:35.400\n&gt;&gt; Justin on my right hand side.\n\n12\n00:00:35.400 --> 00:00:36.660\nI'm sitting over here\nin the driver's seat,\n\n13\n00:00:36.660 --> 00:00:40.970\nbecause I know he knows the concepts and\nthings like this very, very well.\n\n14\n00:00:40.970 --> 00:00:43.710\nSo, I always love having\nhim as a second set of eyes\n\n15\n00:00:43.710 --> 00:00:45.900\nwhen we're doing stuff like this.\n\n16\n00:00:45.900 --> 00:00:47.176\nAnd it's been a lot of fun so far.\n\n17\n00:00:47.176 --> 00:00:51.330\nIf you remember in our previous episode,\nwe built a basic locking and\n\n18\n00:00:51.330 --> 00:00:55.770\nunlocking mechanism for user accounts.\n\n19\n00:00:55.770 --> 00:01:00.280\nBut I wanna also add some status\nto that because, what happened?\n\n20\n00:01:00.280 --> 00:01:05.180\nWe had to lock the account and then we'd\nhave to jump out of our account manager,\n\n21\n00:01:05.180 --> 00:01:10.080\ngo open another terminal and then check\nthat status cuz sometimes you gotta\n\n22\n00:01:10.080 --> 00:01:14.330\nthink of it in scenario-base a lot of\ntimes, what if someone calls me up and\n\n23\n00:01:14.330 --> 00:01:15.840\ngoes, I'm having trouble logging in.\n\n24\n00:01:15.840 --> 00:01:17.470\nWhat seems to be the problem?\n\n25\n00:01:18.670 --> 00:01:19.490\nMaybe you're locked out.\n\n26\n00:01:19.490 --> 00:01:20.980\nThat's the first thing\nthat comes in my mind.\n\n27\n00:01:20.980 --> 00:01:22.110\nIf anybody's ever worked at a help desk.\n\n28\n00:01:22.110 --> 00:01:24.870\nThat's gonna be the first\nthing in your mind as well.\n\n29\n00:01:24.870 --> 00:01:26.210\nMaybe the account's locked out.\n\n30\n00:01:26.210 --> 00:01:28.696\nSo I just wanna check account lock status.\n\n31\n00:01:28.696 --> 00:01:30.550\nMaybe they hit a lockout threshold,\n\n32\n00:01:30.550 --> 00:01:34.280\nmaybe another administrator has locked\nthem out for a specific purpose.\n\n33\n00:01:34.280 --> 00:01:37.520\n&gt;&gt; These are all things that\ncould be running around, right?\n\n34\n00:01:37.520 --> 00:01:40.730\nSo maybe I've locked their account so\nthat they'll call.\n\n35\n00:01:40.730 --> 00:01:42.731\nAnd I can say, yeah, well I need to\ntalk to you about such and such.\n\n36\n00:01:42.731 --> 00:01:45.500\nI was having a hard time getting a hold of\nyou, so I just locked your account out.\n\n37\n00:01:45.500 --> 00:01:48.490\nNow we can unlock it and\nplease answer these questions.\n\n38\n00:01:48.490 --> 00:01:49.550\nI've actually done that.\n\n39\n00:01:49.550 --> 00:01:52.100\n&gt;&gt; [LAUGH]\n&gt;&gt; By the way, users hate it but, hey man,\n\n40\n00:01:52.100 --> 00:01:53.530\nif you ain't gonna answer your phone or\n\n41\n00:01:53.530 --> 00:01:56.980\nemail me back,\n&gt;&gt; drastic measures must be taken, right?\n\n42\n00:01:56.980 --> 00:01:57.870\nSo there we go.\n\n43\n00:01:57.870 --> 00:02:01.280\nSo I wanna build that into our\nfunctionality and then we're gonna finagle\n\n44\n00:02:01.280 --> 00:02:06.490\nwith it a little bit because, as always,\nI think about the user experience a lot,\n\n45\n00:02:07.820 --> 00:02:11.380\nspecifically my own but others as well.\n\n46\n00:02:11.380 --> 00:02:16.990\nI want it to look a certain way,\nI want it to feel easy, digestible,\n\n47\n00:02:16.990 --> 00:02:21.250\ntake it in, I understand everything that's\ngoing on, and then move down the road.\n\n48\n00:02:21.250 --> 00:02:27.810\nSo we're gonna start with\na less complex system and move\n\n49\n00:02:27.810 --> 00:02:32.340\nto a more complex system which is actually\ngonna make it less complex for the user.\n\n50\n00:02:32.340 --> 00:02:34.420\nIf that makes any sense, okay?\n\n51\n00:02:34.420 --> 00:02:37.200\nSo let's jump back in and\nsee what we gotta do here.\n\n52\n00:02:37.200 --> 00:02:44.340\nSo I will nano acct manager two and\nwe'll fire on down.\n\n53\n00:02:45.785 --> 00:02:49.435\nThis program is getting\nquite extensive my man.\n\n54\n00:02:49.435 --> 00:02:50.465\nCount lock, here we go.\n\n55\n00:02:51.605 --> 00:02:55.815\nSo easy peasy when it comes\nto doing the lock and\n\n56\n00:02:55.815 --> 00:02:58.965\nthe unlock in the main menu,\ndoing the exit.\n\n57\n00:02:58.965 --> 00:03:02.295\nBut when it comes to option number three,\nwe can make it easy.\n\n58\n00:03:03.375 --> 00:03:07.780\nWe can come in here and we can say,\n\n59\n00:03:07.780 --> 00:03:12.732\nwe'll just give it a regular echo,\nkind of a line break idea, but\n\n60\n00:03:12.732 --> 00:03:19.240\nwe could come in and first, we got to\ntake input from the system, right?\n\n61\n00:03:19.240 --> 00:03:22.570\nWhat user do you wanna\ncheck the status of, right?\n\n62\n00:03:22.570 --> 00:03:26.377\nSo read- p and enter username.\n\n63\n00:03:26.377 --> 00:03:31.430\nIt's very very similar to what\nwe've got going on so far.\n\n64\n00:03:32.920 --> 00:03:35.280\nLike that, we will use uzr yet again.\n\n65\n00:03:36.670 --> 00:03:41.180\nThis is where it starts to\nget a little different.\n\n66\n00:03:41.180 --> 00:03:47.922\nI could just say ch age -l $uzr,\nlike that.\n\n67\n00:03:49.070 --> 00:03:51.230\nHere's why I'm not going to go with that.\n\n68\n00:03:51.230 --> 00:03:58.371\nLet's open another terminal,\nmake it worthy of using.\n\n69\n00:03:58.371 --> 00:04:02.860\nLet's or\nactually we'll just do it pseudo chage -l.\n\n70\n00:04:02.860 --> 00:04:06.009\nWe saw this in the previous episode, but\n\n71\n00:04:06.009 --> 00:04:10.320\nI wanna take a look at it more closely,\nright?\n\n72\n00:04:10.320 --> 00:04:13.090\nAnd we'll do the t Lowrie,\nthe test Lowrie.\n\n73\n00:04:15.970 --> 00:04:20.210\nSo password, there we go.\n\n74\n00:04:20.210 --> 00:04:21.610\nSo here's the output.\n\n75\n00:04:21.610 --> 00:04:23.190\nLet me clean it up a little bit.\n\n76\n00:04:23.190 --> 00:04:26.350\nI'm gonna run it again.\n\n77\n00:04:26.350 --> 00:04:28.177\nThat way we won't get the pseudo.\n\n78\n00:04:28.177 --> 00:04:29.210\nAll right.\n\n79\n00:04:29.210 --> 00:04:31.920\nSo we get last password change,\npassword expires,\n\n80\n00:04:31.920 --> 00:04:35.400\npassword inactive, account expires, never.\n\n81\n00:04:35.400 --> 00:04:38.450\nMinimum number of days\nbetween password change.\n\n82\n00:04:38.450 --> 00:04:39.820\nA maximum number between password changes.\n\n83\n00:04:39.820 --> 00:04:44.470\nAll this account information comes out at\nus about the account and the password.\n\n84\n00:04:44.470 --> 00:04:47.530\nSpecifically what I'm worried\nabout is the account expiry.\n\n85\n00:04:47.530 --> 00:04:48.190\nRight?\n\n86\n00:04:48.190 --> 00:04:50.460\nI think I've been saying password expiry.\n\n87\n00:04:50.460 --> 00:04:53.580\nWe are setting the account expiration,\nokay,\n\n88\n00:04:53.580 --> 00:04:58.090\nand that goes right here, never.\n\n89\n00:04:59.380 --> 00:05:05.020\nHere's the thing, I can hit this,\nthis is what'll show up as our output,\n\n90\n00:05:05.020 --> 00:05:07.470\nbut it's a lot of superfluous information.\n\n91\n00:05:07.470 --> 00:05:10.570\nI don't need to know about minimum\nnumber of days between password changes,\n\n92\n00:05:10.570 --> 00:05:11.700\nmaybe not necessarily.\n\n93\n00:05:12.730 --> 00:05:15.470\nReally all I want for\nmy intents and purposes, as for\n\n94\n00:05:15.470 --> 00:05:18.860\nthis script at this point in time,\nmaybe I'll change it later.\n\n95\n00:05:18.860 --> 00:05:22.440\nBut for right now I just wanna know\nwhether or not the account status is\n\n96\n00:05:22.440 --> 00:05:27.620\nshowing as something that would be locked\nor something that would be unlocked.\n\n97\n00:05:27.620 --> 00:05:31.480\nAnd then relay that back to the end user,\nor the user.\n\n98\n00:05:31.480 --> 00:05:33.030\nRemember, I'm thinking user experience.\n\n99\n00:05:33.030 --> 00:05:34.940\nI just wanna know,\nis it locked or is it not locked?\n\n100\n00:05:34.940 --> 00:05:39.510\nI don't want this to jump out at me and\nme have to decipher what that is.\n\n101\n00:05:39.510 --> 00:05:41.530\nI just want it to tell me, okay?\n\n102\n00:05:41.530 --> 00:05:46.430\nAnd then maybe grab pertinent information.\n\n103\n00:05:46.430 --> 00:05:48.130\nSo I'm gonna start doing\nsome data carving here.\n\n104\n00:05:49.670 --> 00:05:52.963\nSo this is okay, but like I said,\nI need some date carving.\n\n105\n00:05:52.963 --> 00:05:57.550\nI'm gonna clear this out, and I'll just\nleave it up in the background so that we\n\n106\n00:05:57.550 --> 00:06:02.470\ncan go here and we'll say, all right, I\ncould do that, but that's not gonna work.\n\n107\n00:06:02.470 --> 00:06:07.815\nSo what I wanna do is I want to, I wanna\ngrab specific information out of that.\n\n108\n00:06:07.815 --> 00:06:08.920\nSpecifically, that account line, right?\n\n109\n00:06:08.920 --> 00:06:10.719\nThat account line is\nreally all I care about.\n\n110\n00:06:12.100 --> 00:06:14.120\nAll the other lines for my intents and\n\n111\n00:06:14.120 --> 00:06:16.800\npurposes as of this point\nin time are superfluous.\n\n112\n00:06:16.800 --> 00:06:18.060\nI don't need them.\n\n113\n00:06:18.060 --> 00:06:18.700\nSo what can I do?\n\n114\n00:06:18.700 --> 00:06:20.500\nWe'll we see the QAs in\nwhich we can do that.\n\n115\n00:06:20.500 --> 00:06:24.488\nWe've used ASED,\nwe've used doc, things like\n\n116\n00:06:24.488 --> 00:06:30.120\nthey lend themselves to being very,\nvery great experiences for that.\n\n117\n00:06:30.120 --> 00:06:33.860\nWe'll grab that line out,\nwe'll cut it in a way we need it, and\n\n118\n00:06:33.860 --> 00:06:37.220\nthen crack it back into a variable.\n\n119\n00:06:37.220 --> 00:06:41.350\nSo that's what we'll do, we'll create\na variable that takes that output so\n\n120\n00:06:41.350 --> 00:06:44.085\nthat we can work against the variable\nwhenever we need it, okay?\n\n121\n00:06:44.085 --> 00:06:47.699\nThat way we're not gonna cut off a big\nstring of craziness every time we need to\n\n122\n00:06:47.699 --> 00:06:48.430\ndo something.\n\n123\n00:06:49.790 --> 00:06:55.560\nSo what I'll call this is\nch_dates because the date\n\n124\n00:06:55.560 --> 00:07:00.690\nis what is the factor when it\ncomes to on that account line,\n\n125\n00:07:00.690 --> 00:07:05.150\nwhatever that date is really\nthe piece of useful information.\n\n126\n00:07:05.150 --> 00:07:07.108\nSo that's what I wanna grab, what is that?\n\n127\n00:07:07.108 --> 00:07:10.530\nSo wanna ch_data, I'll say equals.\n\n128\n00:07:10.530 --> 00:07:13.100\nThere we go, start our command\nsubstitution because we're gonna throw\n\n129\n00:07:13.100 --> 00:07:14.320\nsome commands at it.\n\n130\n00:07:14.320 --> 00:07:15.330\nAnd we're gonna.\n\n131\n00:07:15.330 --> 00:07:18.000\nWe're gonna do CHAGE, right,\n\n132\n00:07:18.000 --> 00:07:22.035\nwe've gotta evoke the command so\nit gives us the output that we need.\n\n133\n00:07:22.035 --> 00:07:23.530\n-l$USR, like that.\n\n134\n00:07:23.530 --> 00:07:28.780\nAll right, so\nthat's gonna give us the bulk of it.\n\n135\n00:07:28.780 --> 00:07:31.240\nNow I gotta start carving out the data.\n\n136\n00:07:32.270 --> 00:07:38.270\nSo I'll pipe that in the grid and\nI will look for accounts\n\n137\n00:07:38.270 --> 00:07:43.530\nsince that is a, what do you call it,\na unique string.\n\n138\n00:07:43.530 --> 00:07:46.440\nThat should be sufficient for\nthese intents and purposes.\n\n139\n00:07:46.440 --> 00:07:49.990\nIt's gonna look for the line that\nstarts with the word account.\n\n140\n00:07:49.990 --> 00:07:53.801\nAnd there are none others in the output\nof that so we ought to be fine and\n\n141\n00:07:53.801 --> 00:07:54.803\ndandy with that.\n\n142\n00:07:54.803 --> 00:07:58.606\nNow, if I do that, if I go back here and\nI run that command,\n\n143\n00:07:58.606 --> 00:08:03.265\nI say chage pseudo CHH, and you can\nstart testing along just to make sure\n\n144\n00:08:03.265 --> 00:08:06.623\neverything's coming out\nexactly how you want it.\n\n145\n00:08:06.623 --> 00:08:10.955\nAnd sometimes you've gotta figure\nout what's to do next by what you're\n\n146\n00:08:10.955 --> 00:08:12.099\ngetting already.\n\n147\n00:08:12.099 --> 00:08:15.133\nIt's just a good process to go through\nsometimes, unless you just know for\n\n148\n00:08:15.133 --> 00:08:16.638\ncertain what you're gonna get.\n\n149\n00:08:16.638 --> 00:08:22.285\nCHH -l dlowrie,\nI'm gonna pipe that to grep.\n\n150\n00:08:22.285 --> 00:08:27.370\nI want the account on it, excellent.\n\n151\n00:08:27.370 --> 00:08:30.708\nI only got the account line,\nit expires, never.\n\n152\n00:08:30.708 --> 00:08:36.833\nWell, now I need to grab never or\nthe date that it's out to.\n\n153\n00:08:36.833 --> 00:08:39.540\nCuz if it's never,\nthen I know the account's unlocked.\n\n154\n00:08:40.540 --> 00:08:45.085\nIf it's a date that's either today or\nprevious to today,\n\n155\n00:08:45.085 --> 00:08:48.067\nthen I know the account is locked out.\n\n156\n00:08:48.067 --> 00:08:51.987\nSo never unlock a date that\nequals today or before,\n\n157\n00:08:51.987 --> 00:08:55.004\nthen I'm gonna have an unlock status.\n\n158\n00:08:55.004 --> 00:09:00.094\nNow I can start, once I have those\nvalues I should be able to do some\n\n159\n00:09:00.094 --> 00:09:05.095\ncomparatives, do some comparisons,\nand work some logic out,\n\n160\n00:09:05.095 --> 00:09:10.690\nto give me either account is locked or\naccount is unlocked.\n\n161\n00:09:10.690 --> 00:09:13.853\nAll right, so now we need to\ncarve out a little bit more.\n\n162\n00:09:13.853 --> 00:09:18.361\nLet's go back to our code here.\n\n163\n00:09:18.361 --> 00:09:22.540\nWe're gonna pipe that into gawk.\n\n164\n00:09:22.540 --> 00:09:26.812\nAnd again I'm using gawk,\nI could also have called awk,\n\n165\n00:09:26.812 --> 00:09:29.584\nit's an alias in my system for gawk.\n\n166\n00:09:29.584 --> 00:09:33.782\nBe aware how your,\nthere are variants of awks out there.\n\n167\n00:09:33.782 --> 00:09:36.920\nSo whatever you're using, make sure you're\nfamiliar with how to make this happen.\n\n168\n00:09:36.920 --> 00:09:39.846\nBut basically I wanna\ncarve that field out.\n\n169\n00:09:39.846 --> 00:09:43.695\nSince it's got a colon in there,\nI can say well, we'll delimit by colon and\n\n170\n00:09:43.695 --> 00:09:47.604\nthen give me, that breaks it up into two\nfields and give me the second field and\n\n171\n00:09:47.604 --> 00:09:49.340\nthat's all I need.\n\n172\n00:09:49.340 --> 00:09:53.001\nSo let's do that.\nWe'll say gawk -f, colon,\n\n173\n00:09:53.001 --> 00:09:58.030\nthat delimits by colon, and here we go.\n\n174\n00:09:58.030 --> 00:09:59.897\nStart the thing, say print $2.\n\n175\n00:09:59.897 --> 00:10:06.960\nThat should get me a whole\nlot closer to what I want.\n\n176\n00:10:06.960 --> 00:10:09.931\nLet me grab this.\n\n177\n00:10:09.931 --> 00:10:12.080\nActually I'll just type it in,\nI can do it.\n\n178\n00:10:12.080 --> 00:10:12.880\nI can do it.\n\n179\n00:10:14.310 --> 00:10:16.444\nLet's test it and see how it comes out.\n\n180\n00:10:16.444 --> 00:10:17.181\nIt will go.\n\n181\n00:10:25.090 --> 00:10:31.262\nJust go in here and change that user to\nsomething we can we use, which is dlowrie.\n\n182\n00:10:31.262 --> 00:10:33.130\nLet's see what we get.\n\n183\n00:10:33.130 --> 00:10:35.330\nSo do that.\n\n184\n00:10:35.330 --> 00:10:36.830\nThere we go.\n\n185\n00:10:36.830 --> 00:10:40.981\nExcellent, that means\nwe're getting this never.\n\n186\n00:10:40.981 --> 00:10:45.160\nBut Justin, I don't know if you\nsee a problem with our output.\n\n187\n00:10:47.590 --> 00:10:51.993\n&gt;&gt; So never, that's gonna be formatted\na little bit differently than if we have\n\n188\n00:10:51.993 --> 00:10:56.007\nother types of like expiration date,\nlike January 1st, 1970.\n\n189\n00:10:56.007 --> 00:10:57.053\n&gt;&gt; Right.\n\n190\n00:10:57.053 --> 00:11:01.070\n&gt;&gt; Then we'll probably need to\nhedge our bets for that, right?\n\n191\n00:11:01.070 --> 00:11:01.892\n&gt;&gt; Yeah, we definitely do.\n\n192\n00:11:01.892 --> 00:11:09.990\nWe also have a problem because we've\ngot this leading white space as well.\n\n193\n00:11:10.990 --> 00:11:15.457\nI know, these things they creep up,\nand until you catch them, right?\n\n194\n00:11:15.457 --> 00:11:21.582\nNow if this was unlocked I would\nalso have extra fields, right?\n\n195\n00:11:21.582 --> 00:11:25.710\nThis would come out as,\ntoday's the 19th, I believe?\n\n196\n00:11:25.710 --> 00:11:31.050\nIt would be October 19, 2017.\n\n197\n00:11:31.050 --> 00:11:35.963\nIf this was in a locked status and\nthat was the expiry date,\n\n198\n00:11:35.963 --> 00:11:40.080\nor maybe it's, is it January 1st, 1970.\n\n199\n00:11:40.080 --> 00:11:43.970\nI gotta be able to work with that as well,\nokay?\n\n200\n00:11:43.970 --> 00:11:47.911\nSo the way we can do this, and\nthis is good, this will work for us,\n\n201\n00:11:47.911 --> 00:11:51.666\nyou can go in and refactor this,\nbut I've found this is fine.\n\n202\n00:11:51.666 --> 00:11:56.160\nThere's a lot of ways in\nwhich things can occur, and\n\n203\n00:11:56.160 --> 00:11:59.490\nyou have to make allowances for.\n\n204\n00:11:59.490 --> 00:12:00.675\nI'm gonna do it a certain way.\n\n205\n00:12:00.675 --> 00:12:03.656\nI'm gonna basically say, the lockouts way,\n\n206\n00:12:03.656 --> 00:12:08.190\nthe account is locked out is\ngonna have that date on there.\n\n207\n00:12:08.190 --> 00:12:10.159\nOr I wanna deal with the date usually.\n\n208\n00:12:10.159 --> 00:12:14.090\nNever is something that's\nkinda like a fringe, okay?\n\n209\n00:12:14.090 --> 00:12:15.650\nTypically, I wanna see some sort of date.\n\n210\n00:12:15.650 --> 00:12:19.500\nUsually the date is in the future, the\ndate is now, or the date is in the past.\n\n211\n00:12:19.500 --> 00:12:21.444\nAnd that's how I'm gonna set this up.\n\n212\n00:12:21.444 --> 00:12:24.781\nI could come back in,\ncreate a little more logic, but\n\n213\n00:12:24.781 --> 00:12:30.050\nI've got a way around that so that I\ndon't have to do that for my environment.\n\n214\n00:12:30.050 --> 00:12:32.843\nAgain, if I was porting this\nout I would want to do that.\n\n215\n00:12:32.843 --> 00:12:37.980\nI would kind of come back in and factor it\nout and make it a little more specific.\n\n216\n00:12:37.980 --> 00:12:42.922\nBut we've got limited time,\nso what are you gonna do?\n\n217\n00:12:42.922 --> 00:12:44.701\nSo here's what I'm gonna do.\n\n218\n00:12:44.701 --> 00:12:49.402\nIf my output here was more like this,\nOct 19, 2017,\n\n219\n00:12:49.402 --> 00:12:54.573\nif that was what came out instead\nof never, I need to deal with this\n\n220\n00:12:54.573 --> 00:12:59.900\nbecause I've got this comma happening and\nI can't use the comma.\n\n221\n00:12:59.900 --> 00:13:04.907\nThe comma is information that I can't\nfeed into anything very well, okay?\n\n222\n00:13:04.907 --> 00:13:07.760\nSo I wanna chop that out.\n\n223\n00:13:07.760 --> 00:13:10.555\nSo what I'm gonna do is I'm gonna break\nthis up into fields using gawk again,\n\n224\n00:13:10.555 --> 00:13:11.469\nI'm gonna re-gawk it.\n\n225\n00:13:11.469 --> 00:13:15.480\nAnd then I'm gonna remove that comma,\nokay?\n\n226\n00:13:16.500 --> 00:13:19.550\nSo let's do that.\nLet's say, here's how it will look.\n\n227\n00:13:19.550 --> 00:13:22.896\nLet's bring this back up,\nI'll pipe that into gawk yet again.\n\n228\n00:13:22.896 --> 00:13:27.832\nAnd then I'll just say print these\nthree fields and see how it looks,\n\n229\n00:13:27.832 --> 00:13:29.545\njust to see what we get.\n\n230\n00:13:29.545 --> 00:13:33.638\nSo we'll say print $1, $2 and\n\n231\n00:13:33.638 --> 00:13:39.180\n$3 because there should be three fields.\n\n232\n00:13:39.180 --> 00:13:44.675\nLet me actually go in and let's change my,\nthe account status to locked so\n\n233\n00:13:44.675 --> 00:13:49.741\nthat we can work with that and\nmake it a little easier for [INAUDIBLE].\n\n234\n00:13:49.741 --> 00:13:52.930\nSo I'm gonna control but\nI can't do that here.\n\n235\n00:13:52.930 --> 00:13:55.339\nI'll just do it the old\nfashioned hard way.\n\n236\n00:13:55.339 --> 00:14:01.192\nForgive me, ladies and\ngentlemen while I make things work.\n\n237\n00:14:01.192 --> 00:14:05.712\nCHH, sudo, CHH H-E,\n\n238\n00:14:05.712 --> 00:14:11.139\nit is, was it minus 1 or 0?\n\n239\n00:14:11.139 --> 00:14:12.059\nI can't remember.\n\n240\n00:14:12.059 --> 00:14:15.139\nThat's why I put it in scripts,\nI put it right here.\n\n241\n00:14:15.139 --> 00:14:17.780\nJust havee to look, 2 lock 0.\n\n242\n00:14:17.780 --> 00:14:18.612\nThat's right.\n\n243\n00:14:21.314 --> 00:14:24.240\n0, and I'll say dlowrie.\n\n244\n00:14:26.629 --> 00:14:27.310\nThere we go.\n\n245\n00:14:27.310 --> 00:14:33.400\nNow when we check the status,\nit should be, let me do this.\n\n246\n00:14:33.400 --> 00:14:37.508\nSudo that.\n\n247\n00:14:37.508 --> 00:14:40.381\nNotice it's not giving\nme that date format.\n\n248\n00:14:40.381 --> 00:14:43.803\nAll right, so I'm gonna break\nthis up in to three fields and\n\n249\n00:14:43.803 --> 00:14:46.209\nwe should be off to the races, here we go.\n\n250\n00:14:46.209 --> 00:14:49.679\nGawk, where's my, hold on, there we go.\n\n251\n00:14:49.679 --> 00:14:56.076\nAnd I'll say print $1_$2_$3.\n\n252\n00:14:56.076 --> 00:14:57.588\nClose it out.\n\n253\n00:14:57.588 --> 00:14:59.774\nTick, hit it.\n\n254\n00:14:59.774 --> 00:15:05.970\nI've removed that leading white space by\nbreaking it up into fields, like this.\n\n255\n00:15:05.970 --> 00:15:10.342\nNow I've got to remove that stinking\ncomma which I can use sed to do,\n\n256\n00:15:10.342 --> 00:15:12.042\nactually pretty easily.\n\n257\n00:15:12.042 --> 00:15:15.350\nSo we'll just add some sed\nonto the end of this thing.\n\n258\n00:15:15.350 --> 00:15:20.000\nWe'll pipe that into sed, and\nwe'll say, open that up and\n\n259\n00:15:20.000 --> 00:15:24.557\njust do like a simple substitution of,\nit will be a comma,\n\n260\n00:15:24.557 --> 00:15:27.627\nwe wanna substitute that for nothing.\n\n261\n00:15:27.627 --> 00:15:29.020\nSo there's just nothing in there.\n\n262\n00:15:30.930 --> 00:15:35.491\nAnd now I can close that out and\nsee, excellent.\n\n263\n00:15:35.491 --> 00:15:40.530\nNow I have a date and\nit's something I can actually work with.\n\n264\n00:15:40.530 --> 00:15:45.591\nMany dating systems, many computer\nsystems actually make account for\n\n265\n00:15:45.591 --> 00:15:49.232\nabbreviated names of months and\nthings like that.\n\n266\n00:15:49.232 --> 00:15:54.196\nAnd Justin we've actually had quite\nextensive conversations about this kind of\n\n267\n00:15:54.196 --> 00:15:59.160\nthing, working with dates, years,\nthings like that, it gets really tricky,\n\n268\n00:15:59.160 --> 00:16:00.046\ndoesn't it?\n\n269\n00:16:00.046 --> 00:16:04.724\n&gt;&gt; It does, and it tends to originate\nfrom Programming languages of various\n\n270\n00:16:04.724 --> 00:16:07.523\ntypes treat dates differently sometimes.\n\n271\n00:16:07.523 --> 00:16:11.957\nThere is a common parent, I think it's\nmilliseconds since January 1st, 1970,\n\n272\n00:16:11.957 --> 00:16:14.320\nwhich is considered the UNIX epoch.\n\n273\n00:16:14.320 --> 00:16:15.321\n&gt;&gt; Hm.\n&gt;&gt; And we don't think of\n\n274\n00:16:15.321 --> 00:16:16.903\nthis in the forefront of our mind.\n\n275\n00:16:16.903 --> 00:16:18.950\nDates are always reference-based, right?\n\n276\n00:16:18.950 --> 00:16:21.162\nJanuary first, 1970, what does that mean?\n\n277\n00:16:21.162 --> 00:16:25.784\nWell that's the first day of the first\nmonth of the Gregorian calendar,\n\n278\n00:16:25.784 --> 00:16:28.990\nwhich is originated at zero and\nactually capped.\n\n279\n00:16:28.990 --> 00:16:31.663\nWell, I don't know if they had a zero\nyear, I would have to check that.\n\n280\n00:16:31.663 --> 00:16:33.830\nI'm not a Gregorian calendar expert.\n\n281\n00:16:33.830 --> 00:16:34.748\n&gt;&gt; [LAUGH] Yeah, me neither.\n\n282\n00:16:34.748 --> 00:16:37.530\n&gt;&gt; But then there's leap year and\nthings like that.\n\n283\n00:16:37.530 --> 00:16:40.564\nAnd then some other languages are like no,\nwe're just gonna do seconds.\n\n284\n00:16:40.564 --> 00:16:44.100\nWell, wait a minute, milliseconds and\nseconds, you're gonna get a different\n\n285\n00:16:44.100 --> 00:16:46.649\nnumber and I actually just\nsaid milliseconds and second.\n\n286\n00:16:46.649 --> 00:16:49.591\nYou're actually underlying\nthere's a number representation.\n\n287\n00:16:49.591 --> 00:16:51.933\nBut we're looking at\na string representation.\n\n288\n00:16:51.933 --> 00:16:56.722\nAnd now we have to parse date,\nit can be very cumbersome.\n\n289\n00:16:56.722 --> 00:16:59.713\nLuckily, there is usually\na way to go about it.\n\n290\n00:16:59.713 --> 00:17:02.715\nThere is always functionality\nwhere I can parse these dates and\n\n291\n00:17:02.715 --> 00:17:04.596\nget the respective pieces that I want.\n\n292\n00:17:04.596 --> 00:17:06.388\nThat doesn't mean it's gonna be fun.\n\n293\n00:17:06.388 --> 00:17:08.496\nAnd it may be one of those\ntimes where you're like,\n\n294\n00:17:08.496 --> 00:17:10.175\nI'm just gonna grit my teeth and smile.\n\n295\n00:17:10.175 --> 00:17:11.426\nIt will be all right.\n\n296\n00:17:11.426 --> 00:17:12.714\nI'll do this in little chunks.\n\n297\n00:17:12.714 --> 00:17:15.680\nBut I know you've already got that\nworked out, at least I hope you do.\n\n298\n00:17:15.680 --> 00:17:17.993\n&gt;&gt; Yeah, well, it works for me, so far.\n\n299\n00:17:17.993 --> 00:17:21.673\n&gt;&gt; [LAUGH]\n&gt;&gt; I'll show you what I've got, and then\n\n300\n00:17:21.673 --> 00:17:26.056\nif you find any cool things to make it\nmore efficient then that's great, right?\n\n301\n00:17:26.056 --> 00:17:29.736\nThat's the whole purpose of this, getting\nus thinking how would I have to deal\n\n302\n00:17:29.736 --> 00:17:33.322\nwith this kind of stuff and the learning\nexperience that goes along with it.\n\n303\n00:17:33.322 --> 00:17:33.910\nll right, so\n\n304\n00:17:33.910 --> 00:17:37.555\nnow I've got a date with some thing I can\nactually use cuz I like the date command.\n\n305\n00:17:37.555 --> 00:17:42.401\nCuz what I want to do is I want to\nsay if there's a date there and\n\n306\n00:17:42.401 --> 00:17:46.692\nit is today or prior,\nthen the account is locked out.\n\n307\n00:17:46.692 --> 00:17:51.266\nThere's one problem with\nwhat I've got going on is a,\n\n308\n00:17:51.266 --> 00:17:55.749\nit's in a big separated field\nwith white space in it.\n\n309\n00:17:55.749 --> 00:18:00.243\nSo I wanna put this together and then,\n\n310\n00:18:00.243 --> 00:18:07.412\nI can't make a comparison in that way,\nif that makes sense.\n\n311\n00:18:07.412 --> 00:18:08.650\nIt's not a numerical comparison.\n\n312\n00:18:08.650 --> 00:18:10.034\nTo us, it's a numerical comparison.\n\n313\n00:18:10.034 --> 00:18:12.076\nA date is a number in our head.\n\n314\n00:18:12.076 --> 00:18:14.924\nTo the computer, January is not a number.\n\n315\n00:18:14.924 --> 00:18:16.954\nYou have to make allowance for that.\n\n316\n00:18:16.954 --> 00:18:21.236\nYou have to turn January into a number\nin some way, shape, or form, right?\n\n317\n00:18:21.236 --> 00:18:25.869\nThat's what we have to do, so even though\nI've got something I can work with, and\n\n318\n00:18:25.869 --> 00:18:29.496\nI've got horsepower under the hood\nthat will slurp that in, and\n\n319\n00:18:29.496 --> 00:18:31.731\nI can do some modification against it.\n\n320\n00:18:31.731 --> 00:18:34.802\nSpit out what I need to work with.\n\n321\n00:18:34.802 --> 00:18:39.264\nRight now it's in a good format but\nit's not in a perfect format to work with.\n\n322\n00:18:39.264 --> 00:18:42.387\nAnd so we've gotta make some more for\nthe modification.\n\n323\n00:18:42.387 --> 00:18:46.938\nI am gonna take this I am gonna use that,\nthat's gonna be that right there, so\n\n324\n00:18:46.938 --> 00:18:50.600\nI'm just gonna copy everything so\nI don't have to retype it.\n\n325\n00:18:50.600 --> 00:18:57.695\nI think we got up to here, so let's\ncopy that part, Put that in right here.\n\n326\n00:18:57.695 --> 00:19:02.350\nSo say like that, and\nnow that is in there I just need to\n\n327\n00:19:02.350 --> 00:19:07.012\nmake sure to have my closing\nparentheses mark there.\n\n328\n00:19:07.012 --> 00:19:09.826\nNow let's see here if I\ncan't move this up a bit,\n\n329\n00:19:09.826 --> 00:19:12.723\ngive you guys a little more\nreal estate to look at.\n\n330\n00:19:12.723 --> 00:19:17.217\nNow that we have that I can\nstart modifying things there.\n\n331\n00:19:17.217 --> 00:19:21.444\nAlso I wanna go back to never thing\nbecause the never thing is important.\n\n332\n00:19:21.444 --> 00:19:26.259\nNever is not a date,\nI can't turn never into a date but\n\n333\n00:19:26.259 --> 00:19:30.220\nI can logically use that basically saying,\n\n334\n00:19:30.220 --> 00:19:35.586\nnever has become my variable for\nall future dates, right?\n\n335\n00:19:35.586 --> 00:19:37.364\nDoes that make sense hopefully.?\n\n336\n00:19:37.364 --> 00:19:41.560\nIf I see never,\nI know the account is not locked out and\n\n337\n00:19:41.560 --> 00:19:44.084\nI can just deal with that there.\n\n338\n00:19:44.084 --> 00:19:46.115\nSo let's deal with never.\n\n339\n00:19:46.115 --> 00:19:50.653\nAnd the thing is,\nthis did come out until the testing phase.\n\n340\n00:19:50.653 --> 00:19:55.020\nBut when never comes out, never actually\nhas some using our script here,\n\n341\n00:19:55.020 --> 00:19:56.086\nwhat we've got?\n\n342\n00:19:56.086 --> 00:19:58.557\nLess command substitution,\nI could go in and\n\n343\n00:19:58.557 --> 00:20:02.730\nmake another command substitution that\ntakes into account to never field.\n\n344\n00:20:02.730 --> 00:20:05.117\nBut I'm just gonna add in an either or\n\n345\n00:20:05.117 --> 00:20:10.133\nkind of thing instead to make that account\nseems to be a lot less coding for me.\n\n346\n00:20:10.133 --> 00:20:12.420\nThat makes it a little\nbit easier to work with.\n\n347\n00:20:12.420 --> 00:20:14.701\nAnyway, I'll show you what I mean.\n\n348\n00:20:14.701 --> 00:20:20.598\nWhat I wanna do is I wanna\nsay if ch date equals never,\n\n349\n00:20:20.598 --> 00:20:25.032\nthen the account is unlocked, right?\n\n350\n00:20:25.032 --> 00:20:26.677\nAnd move on from there.\n\n351\n00:20:26.677 --> 00:20:27.318\nSo let's do that.\n\n352\n00:20:27.318 --> 00:20:32.967\nI'll say ch if, bring that open right\n\n353\n00:20:32.967 --> 00:20:37.741\nthere, ch_date, like that.\n\n354\n00:20:37.741 --> 00:20:41.544\nIf that equals never,\n\n355\n00:20:41.544 --> 00:20:45.953\nlike so, pull that down.\n\n356\n00:20:45.953 --> 00:20:49.842\nOr, and you'll see what I'm talking\nabout here in just a second while I get\n\n357\n00:20:49.842 --> 00:20:50.472\nthis done.\n\n358\n00:20:50.472 --> 00:20:56.685\nIf I say $ch_date = never\n\n359\n00:20:56.685 --> 00:21:02.358\nspace space end quotes,\n\n360\n00:21:02.358 --> 00:21:10.989\nfinish that off, Then.\n\n361\n00:21:10.989 --> 00:21:15.576\nSo I'm making this or statement,\nit's a Boolean statement of this or this.\n\n362\n00:21:15.576 --> 00:21:18.901\nBecause I ran into in\ncertain ways it comes out\n\n363\n00:21:18.901 --> 00:21:21.449\nas never just all by its lonesome.\n\n364\n00:21:21.449 --> 00:21:25.591\nAnd sometimes when I pull it in\nbecause of what going on in I believe,\n\n365\n00:21:25.591 --> 00:21:29.559\nit's adding some blank spaced fields,\ntwo extra blank spaced fields.\n\n366\n00:21:29.559 --> 00:21:30.946\nThey just aren't there.\n\n367\n00:21:30.946 --> 00:21:34.261\nSo I was running into,\nit was working, yeah,\n\n368\n00:21:34.261 --> 00:21:37.327\nstill getting some error messages stuff.\n\n369\n00:21:37.327 --> 00:21:39.623\nSo I just wanted to make an account for\nthat.\n\n370\n00:21:39.623 --> 00:21:45.965\nThe easiest way to do that was make this,\nif this or this do something.\n\n371\n00:21:45.965 --> 00:21:49.479\n&gt;&gt; And then you all think this highlights\nthere maybe multiple solutions.\n\n372\n00:21:49.479 --> 00:21:50.064\n&gt;&gt; Yeah.\n\n373\n00:21:50.064 --> 00:21:52.526\n&gt;&gt; Cuz immediately you've\nsolved a problem, it's done.\n\n374\n00:21:52.526 --> 00:21:54.259\nThat's great.\n\n375\n00:21:54.259 --> 00:21:57.185\nMe, I think just because\nof my experience how do I,\n\n376\n00:21:57.185 --> 00:22:01.689\nthere has to be a way I can write maybe\nanother function that does the trimming.\n\n377\n00:22:01.689 --> 00:22:03.958\n&gt;&gt; Yeah.\n&gt;&gt; Like trim all the white space out or\n\n378\n00:22:03.958 --> 00:22:05.879\nthat would have driven me crazy.\n\n379\n00:22:05.879 --> 00:22:10.240\nSo I applaud you for like plowing through,\nbut I think this is a great time where,\n\n380\n00:22:10.240 --> 00:22:13.207\nlet me just go with a simple solution,\nget it working.\n\n381\n00:22:13.207 --> 00:22:15.586\nWe'll worry about\nthe idiosyncracies later.\n\n382\n00:22:15.586 --> 00:22:17.409\n&gt;&gt; That's what time currents will do for\nyou.\n\n383\n00:22:17.409 --> 00:22:18.965\nIt kind of forces your hand.\n\n384\n00:22:18.965 --> 00:22:23.651\nI could go in and make another statement\nthat says, chd date two that takes into\n\n385\n00:22:23.651 --> 00:22:28.061\naccount and do, but starts working out\na whole lot more logic from there.\n\n386\n00:22:28.061 --> 00:22:33.279\nI just want to keep it simple, I wrote\nthis up last night before I got here so,\n\n387\n00:22:33.279 --> 00:22:36.968\n[LAUGH] I was a bit under,\na bit under the gun as it were.\n\n388\n00:22:36.968 --> 00:22:40.623\nSo I had to find a quick solution\nto my problem that would work, and\n\n389\n00:22:40.623 --> 00:22:43.228\nnow I can get it working,\nI can distribute it.\n\n390\n00:22:43.228 --> 00:22:45.385\nI can say hey Justin man,\nyou need that account management thing?\n\n391\n00:22:45.385 --> 00:22:46.204\nThere you go.\n\n392\n00:22:46.204 --> 00:22:49.581\nHe can unlock people and lock people\nin the system and it'll work for him.\n\n393\n00:22:49.581 --> 00:22:54.575\nAnd now I can go back, take my time,\nrefactor, make it done a better way.\n\n394\n00:22:54.575 --> 00:22:56.111\nNot necessarily that this is wrong.\n\n395\n00:22:56.111 --> 00:22:58.894\nAgain, it's not wrong,\nit's just different.\n\n396\n00:22:58.894 --> 00:23:01.031\nThere might be, in my mind,\na better way to do it.\n\n397\n00:23:01.031 --> 00:23:04.442\nThere might be a more robust\nthat takes in more factors,\n\n398\n00:23:04.442 --> 00:23:06.486\nand give it more functionality.\n\n399\n00:23:06.486 --> 00:23:09.664\nSo in that sense it's better, but\nit's not wrong to do it this way.\n\n400\n00:23:09.664 --> 00:23:11.884\nHopefully you guys understand that.\n\n401\n00:23:11.884 --> 00:23:16.528\nAll right, so now that we've got that\nthen in there I can add some logic to it.\n\n402\n00:23:16.528 --> 00:23:21.708\nAnd I'll just say echo, and\nwe'll say something like this.\n\n403\n00:23:21.708 --> 00:23:26.606\nI like doing some, I wanna bring it to\n\n404\n00:23:26.606 --> 00:23:31.346\nthe attention of the user account,\n\n405\n00:23:31.346 --> 00:23:34.510\nis unlocked, like so.\n\n406\n00:23:34.510 --> 00:23:37.867\nAnd then close it out.\n\n407\n00:23:37.867 --> 00:23:43.206\nWe will say echo, I'm gonna add this\n\n408\n00:23:43.206 --> 00:23:49.244\npassword expires, or expiration date.\n\n409\n00:23:49.244 --> 00:23:55.183\nAnd then it's gonna be whatever CH stated.\n\n410\n00:23:55.183 --> 00:24:02.521\nSo I'll say $ch_dates,\nunderscore dates, like so.\n\n411\n00:24:02.521 --> 00:24:09.100\nI think that should do us pretty well,\ngive us some information back to the user.\n\n412\n00:24:09.100 --> 00:24:14.610\nI like what I see, and\nI'll throw a read-p or\n\n413\n00:24:14.610 --> 00:24:17.807\npress ENTER to continue.\n\n414\n00:24:17.807 --> 00:24:22.890\nI like that, bring us back to acct_lock.\n\n415\n00:24:24.180 --> 00:24:26.240\nAll right,\nthat's good stuff right there, right?\n\n416\n00:24:26.240 --> 00:24:31.110\nSo now I've made a use case for,\nif it comes back for\n\n417\n00:24:31.110 --> 00:24:33.940\nnever, basically my catch-all for\nwhen the account is unlocked.\n\n418\n00:24:33.940 --> 00:24:36.236\nNow it tells me the account is unlocked,\nand\n\n419\n00:24:36.236 --> 00:24:38.542\ngives me the expiration\ndate that it shows.\n\n420\n00:24:38.542 --> 00:24:41.370\nSo if it's either a date or never, right?\n\n421\n00:24:41.370 --> 00:24:44.767\nWhich it's gonna be never cuz\nthat's why we're in here, but\n\n422\n00:24:44.767 --> 00:24:48.180\nkeeping things consistent\nthroughout the program, right?\n\n423\n00:24:48.180 --> 00:24:51.030\nCuz that's what we're gonna do\nwith the other functionality.\n\n424\n00:24:52.440 --> 00:24:54.380\nSo that if statement should be good to go.\n\n425\n00:24:54.380 --> 00:24:58.350\nLet's drop back down,\nwe're gonna need to add some elses.\n\n426\n00:24:58.350 --> 00:25:02.148\nAnd I probably should have indented this,\nbut whatever, it's fine.\n\n427\n00:25:02.148 --> 00:25:08.030\nWe'll say else, actually we only need one\nelse cuz there's only one other option,\n\n428\n00:25:08.030 --> 00:25:09.750\nit's not locked out.\n\n429\n00:25:09.750 --> 00:25:10.600\nSo I can do that here.\n\n430\n00:25:12.410 --> 00:25:13.350\nSo what do we need to do?\n\n431\n00:25:13.350 --> 00:25:16.940\nIf we else, well we've got a date and\nwe've gotta modify that date.\n\n432\n00:25:16.940 --> 00:25:19.130\nCuz remember,\nI told you it wasn't in a perfect\n\n433\n00:25:20.370 --> 00:25:22.650\nlittle packets with pink bow on top.\n\n434\n00:25:22.650 --> 00:25:24.522\nI need it that way.\n\n435\n00:25:24.522 --> 00:25:28.053\nWhy?\nBecause I wanna feed it into dates so\n\n436\n00:25:28.053 --> 00:25:30.620\nI can make two comparatives.\n\n437\n00:25:30.620 --> 00:25:34.400\nSo what I'm gonna do,\nis I'm gonna say ch_dates_convert.\n\n438\n00:25:34.400 --> 00:25:40.330\nI'm gonna convert it into something that\ndate can use a little easier, right?\n\n439\n00:25:40.330 --> 00:25:43.650\nSo what I'm gonna do is I'm gonna say,\n=$, like so.\n\n440\n00:25:43.650 --> 00:25:46.807\nI'm gonna throw it into the date command,\n-d,\n\n441\n00:25:46.807 --> 00:25:51.427\nsaying this is the date that I wanna\ngive you, which is October 19th or\n\n442\n00:25:51.427 --> 00:25:54.380\nwhatever the case is\nthat comes back from ch.\n\n443\n00:25:54.380 --> 00:25:58.172\nAnd then I'm gonna do some functionality\non it, you'll see what I mean.\n\n444\n00:25:58.172 --> 00:26:04.338\nI'm gonna say, ch_date,\ndollar sign helps in there, Like that.\n\n445\n00:26:04.338 --> 00:26:08.745\nAnd then I'm going to say +%y%,\n\n446\n00:26:08.745 --> 00:26:12.203\nI'm sorry, -% %m -%d.\n\n447\n00:26:12.203 --> 00:26:17.400\nSo I'm formatting in a way of give me\n\n448\n00:26:17.400 --> 00:26:22.425\nthe four letter year, capital Y,\n\n449\n00:26:22.425 --> 00:26:26.584\ngive me the two digit month,\n\n450\n00:26:26.584 --> 00:26:30.420\ngive me the two digit day.\n\n451\n00:26:34.140 --> 00:26:37.620\nAnd have hyphens in between it,\nthat's how I want it formatted.\n\n452\n00:26:37.620 --> 00:26:39.370\nSo it's gonna take the date in.\n\n453\n00:26:39.370 --> 00:26:44.744\nDate is gonna say, dash d means you're\nfeeding me a date that is inside\n\n454\n00:26:44.744 --> 00:26:51.228\nour variable ch_date, which comes in\nas oct 19, 2017 if I'm not mistaken.\n\n455\n00:26:51.228 --> 00:26:56.620\nAnd it's gonna reformat it as for your\nday, a two digit month, two digit day.\n\n456\n00:26:56.620 --> 00:27:00.550\nAnd then we're gonna do\nsomething else to it, all right?\n\n457\n00:27:00.550 --> 00:27:03.040\nSo let's close this out, there we go.\n\n458\n00:27:03.040 --> 00:27:09.610\nNow that I've got that,\nI'm gonna say ch_date_seconds, this.\n\n459\n00:27:09.610 --> 00:27:11.917\nI wanna convert that date\nnow into seconds, and\n\n460\n00:27:11.917 --> 00:27:16.560\nthe seconds go from our reference point,\nwhich is January 1st, 1970.\n\n461\n00:27:16.560 --> 00:27:19.299\nSo that is going to be a specific number.\n\n462\n00:27:19.299 --> 00:27:26.820\nSo whatever today's date is, you'll see,\nI don't wanna get ahead of myself.\n\n463\n00:27:26.820 --> 00:27:27.800\nLet's throw it in.\n\n464\n00:27:27.800 --> 00:27:29.805\nLet's make it happen.\n\n465\n00:27:29.805 --> 00:27:38.032\n$date -d, and\nwe'll say ch_date_convert, like that.\n\n466\n00:27:38.032 --> 00:27:40.711\nAnd then I just wanna say +%s.\n\n467\n00:27:40.711 --> 00:27:44.925\nSo it's gonna take this value\nthat gets pumped out, and\n\n468\n00:27:44.925 --> 00:27:49.880\nit'll throw it back into date and\nconvert it into seconds.\n\n469\n00:27:49.880 --> 00:27:52.770\nAnd it should be a fixed length\nvalue that does not change, okay?\n\n470\n00:27:53.965 --> 00:27:57.580\nI close this out, and\nnow I have that available for myself.\n\n471\n00:27:57.580 --> 00:28:02.540\nNow I need to do today's date, because\nwell, I wanna compare it to what today is.\n\n472\n00:28:02.540 --> 00:28:08.200\nIf it's equal to or less than today,\nthen the account is locked.\n\n473\n00:28:08.200 --> 00:28:13.177\nIf it's greater than or equals never,\nit's gonna be unlocked, okay?\n\n474\n00:28:13.177 --> 00:28:14.552\nSo I'm gonna come in here and make this.\n\n475\n00:28:14.552 --> 00:28:18.210\nAnd again, this isn't seamless perfection.\n\n476\n00:28:18.210 --> 00:28:19.810\nThere's definitely some wiggle room for\n\n477\n00:28:19.810 --> 00:28:22.900\ncoming back in and refactoring,\nmake it a more polished product.\n\n478\n00:28:22.900 --> 00:28:25.670\nBut this is a quick and dirty,\nget the job done kind of thing.\n\n479\n00:28:25.670 --> 00:28:28.031\nGet you rocking and rolling down the road.\n\n480\n00:28:28.031 --> 00:28:33.223\nSo I need to tab over,\nand I'm gonna say tday,\n\n481\n00:28:33.223 --> 00:28:38.829\nbasically today equals,\nand I'm going to $(.\n\n482\n00:28:38.829 --> 00:28:45.269\nI'm gonna call date yet\nagain, and I'm gonna say +%F,\n\n483\n00:28:45.269 --> 00:28:50.760\ncapital F, very specific, close that out.\n\n484\n00:28:50.760 --> 00:28:54.040\nAnd what that does, is if you just\nuse date it gives you today's date,\n\n485\n00:28:54.040 --> 00:28:55.805\nthat's in the wrong format, right?\n\n486\n00:28:55.805 --> 00:29:01.820\nI need it in that four digit year,\ntwo digit month, two digit day format.\n\n487\n00:29:01.820 --> 00:29:05.350\nYou do %F, you get that format, right?\n\n488\n00:29:05.350 --> 00:29:07.260\nAnd it's a fixed length.\n\n489\n00:29:07.260 --> 00:29:11.500\nIf you do just date, it also looks\nat today's date down to the second.\n\n490\n00:29:11.500 --> 00:29:12.620\nI want that to not change.\n\n491\n00:29:12.620 --> 00:29:16.550\nWell if I run date now and I run date two\nseconds from now, the value has changed.\n\n492\n00:29:16.550 --> 00:29:17.819\nI want them to stay the same.\n\n493\n00:29:17.819 --> 00:29:21.320\nSo by feeding it a date,\nit stays the same, okay?\n\n494\n00:29:21.320 --> 00:29:23.100\nAnd that's what we're gonna do.\n\n495\n00:29:23.100 --> 00:29:25.830\nSo we're gonna make that value,\nwe're gonna come back in and\n\n496\n00:29:25.830 --> 00:29:32.326\nwe're gonna say tdday, and\nwe'll just call it tday1, keep it easy.\n\n497\n00:29:32.326 --> 00:29:33.997\nBut if I wanted it to be really simple,\n\n498\n00:29:33.997 --> 00:29:35.997\nI could do something\nlike seconds to keep it.\n\n499\n00:29:35.997 --> 00:29:40.879\nI guess I'll do that, seconds = $.\n\n500\n00:29:40.879 --> 00:29:46.114\nAnd say date -d, feed it good old tdate,\n\n501\n00:29:46.114 --> 00:29:49.564\nor tday is what I called it.\n\n502\n00:29:49.564 --> 00:29:54.518\ntday, and then do the pluses, +%s,\n\n503\n00:29:54.518 --> 00:29:57.570\nthat, close it out.\n\n504\n00:29:57.570 --> 00:29:59.960\nNow I've converted both\nof them into seconds.\n\n505\n00:29:59.960 --> 00:30:02.780\nI now have a string of two\ndifferent numbers that I\n\n506\n00:30:02.780 --> 00:30:04.120\ncan actually compare their values.\n\n507\n00:30:05.290 --> 00:30:06.880\nNow I can work the logic out from there.\n\n508\n00:30:08.590 --> 00:30:09.466\nLet's move in to that.\n\n509\n00:30:09.466 --> 00:30:10.670\nJustin, do we have enough time?\n\n510\n00:30:10.670 --> 00:30:14.609\nMan, I think we're low on time, aren't we?\n\n511\n00:30:14.609 --> 00:30:17.409\n&gt;&gt; Yeah,\nmaybe we can echo this out, right?\n\n512\n00:30:17.409 --> 00:30:21.570\nLet's see if our date seconds and\nour today seconds.\n\n513\n00:30:21.570 --> 00:30:24.360\nAnd then we could go ahead and\ntest what we have, and then that echo\n\n514\n00:30:24.360 --> 00:30:28.785\nwill confirm that whatever logic we\nneed to do, that will confirm that.\n\n515\n00:30:28.785 --> 00:30:31.680\nWe probably need to close that if\nstatement just to make sure, right?\n\n516\n00:30:31.680 --> 00:30:34.470\n&gt;&gt; Yeah, I was gonna move on, but\nthank you, yes, for reminding me.\n\n517\n00:30:34.470 --> 00:30:36.520\nI'll throw a few here.\n\n518\n00:30:36.520 --> 00:30:39.604\nActually, I should have done this.\n\n519\n00:30:39.604 --> 00:30:43.330\nWell that's stupid, but\nlet's try that again.\n\n520\n00:30:43.330 --> 00:30:48.940\nLet me close this out, fi, but\nwe do need to add some echos.\n\n521\n00:30:48.940 --> 00:30:51.704\nGo back over here.\n\n522\n00:30:51.704 --> 00:30:57.088\nEcho, we're gonna get ch_date_seconds,\n\n523\n00:30:57.088 --> 00:30:59.992\n$ch_date_seconds.\n\n524\n00:30:59.992 --> 00:31:04.958\nAnd I'll colon, I guess I have to put\n\n525\n00:31:04.958 --> 00:31:10.541\nthis all in quotations at this point.\n\n526\n00:31:10.541 --> 00:31:14.698\nI'll just do it this way, date_seconds.\n\n527\n00:31:14.698 --> 00:31:19.040\nAnd do another echo $ch, I'm sorry,\n\n528\n00:31:19.040 --> 00:31:22.773\ntday_seconds as well, seconds.\n\n529\n00:31:22.773 --> 00:31:24.347\nI think that's good to go.\n\n530\n00:31:24.347 --> 00:31:26.290\nGot the feeling, should be good.\n\n531\n00:31:26.290 --> 00:31:28.026\nLet's do it, let's give it a test.\n\n532\n00:31:28.026 --> 00:31:35.150\nAnd, so account manager, Excellent.\n\n533\n00:31:35.150 --> 00:31:42.200\nGo to the account lockout, let's\nchoose option three, and there we go.\n\n534\n00:31:42.200 --> 00:31:44.432\nWe have a little odd thing going on here,\nso\n\n535\n00:31:44.432 --> 00:31:46.543\nmaybe not perfect at this point in time.\n\n536\n00:31:46.543 --> 00:31:49.750\nBut it gives us a chance to go in,\nretake a look at the code,\n\n537\n00:31:49.750 --> 00:31:51.522\nand see why that's happening.\n\n538\n00:31:51.522 --> 00:31:53.693\nAlways a good idea to test these things.\n\n539\n00:31:53.693 --> 00:31:57.220\nI've probably just made a simple\nmistake somewhere syntactically.\n\n540\n00:31:57.220 --> 00:32:01.283\nAnd we'll figure that out, come back\nwith the answer to that said problem,\n\n541\n00:32:01.283 --> 00:32:04.860\nfinish out the rest of our code,\nand make this guy work for us.\n\n542\n00:32:04.860 --> 00:32:08.790\n&gt;&gt; Well we've seen that we have no syntax\nerrors, everything is kinda set up.\n\n543\n00:32:08.790 --> 00:32:11.440\nWe do have a little bit of debugging to\ndo, but it looks like we're gonna have to\n\n544\n00:32:11.440 --> 00:32:14.510\nstay tuned to a part three to\nsee how that actually plays out.\n\n545\n00:32:14.510 --> 00:32:15.670\nSo definitely join us back for\n\n546\n00:32:15.670 --> 00:32:18.820\nthat part three to see how,\nwell, it all comes together.\n\n547\n00:32:18.820 --> 00:32:20.840\nBut for now,\nwe're gonna go ahead and sign off.\n\n548\n00:32:20.840 --> 00:32:23.260\nFor ITPro.TV, I've been your host,\nJustin Dennison.\n\n549\n00:32:23.260 --> 00:32:24.050\n&gt;&gt; And I'm Daniel Lowrie.\n\n550\n00:32:24.050 --> 00:32:25.442\n&gt;&gt; And we'll see you next time.\n\n551\n00:32:25.442 --> 00:32:32.510\n[MUSIC]\n\n552\n00:32:32.510 --> 00:32:36.680\n&gt;&gt; Thank you for watching ITPro.TV.\n\n",
          "vimeoId": "239457921"
        },
        {
          "description": "In this episode, Daniel and Justin come closer to completing their User Account Manager utility by scripting the ability to administrate the locking and unlocking of user accounts. They also add lock status functionality.",
          "length": "804",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-5-3-user_account_manager_account_lock_pt_3-101917-PGM.00_13_10_28.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-5-3-user_account_manager_account_lock_pt_3-101917-PGM.00_13_10_28.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-5-3-user_account_manager_account_lock_pt_3-101917-PGM.00_13_10_28.Still001-sm.jpg",
          "title": "User Account Manager Account Lock Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:02.809\nWelcome to ITProTV,\nI am your host Don Pezet.\n\n2\n00:00:02.809 --> 00:00:05.499\n&gt;&gt; Coming at you live from San Francisco,\nCalifornia.\n\n3\n00:00:05.499 --> 00:00:11.789\n[CROSSTALK]\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:11.789 --> 00:00:15.492\n&gt;&gt; Greetings, everyone and welcome to\nanother exciting episode of ITProTV.\n\n5\n00:00:15.492 --> 00:00:19.486\nI'm your host Justin Dennison and\nwere back with a part three of, well,\n\n6\n00:00:19.486 --> 00:00:22.303\nmanaging our account lockouts and\nparticularly,\n\n7\n00:00:22.303 --> 00:00:26.905\nan account status seemed to be a little\nmore difficult than I originally surmised.\n\n8\n00:00:26.905 --> 00:00:30.610\nLuckily, we have the man that has\nall the steps laid out before us.\n\n9\n00:00:30.610 --> 00:00:32.195\nGot a little bit of tidying up to do.\n\n10\n00:00:32.195 --> 00:00:34.154\nMr. Daniel Lowrie,\nhow you doing today, Daniel?\n\n11\n00:00:34.154 --> 00:00:35.107\n&gt;&gt; Doing fantastic, Justin.\n\n12\n00:00:35.107 --> 00:00:38.499\nA pleasure as always, to be in\nthe studio with you, my good friend and\n\n13\n00:00:38.499 --> 00:00:40.150\nyou good folks out there as well.\n\n14\n00:00:40.150 --> 00:00:44.193\nYou make my day worth getting up for and\nhaving a good time teaching and learning,\n\n15\n00:00:44.193 --> 00:00:45.811\ndoing it all together, right?\n\n16\n00:00:45.811 --> 00:00:49.883\nAnd today we're trying to work our way\nthrough this account lockout utilities\n\n17\n00:00:49.883 --> 00:00:54.200\nspecifically the status portion of giving\nus whether or not the account is locked or\n\n18\n00:00:54.200 --> 00:00:55.080\nnot locked out.\n\n19\n00:00:55.080 --> 00:00:59.531\nWe've taken it from a pretty simplistic\napproach that gives us very complex output\n\n20\n00:00:59.531 --> 00:01:03.357\ndown to a very complex approach that\ngives us a more simplistic output.\n\n21\n00:01:03.357 --> 00:01:05.852\nKind of funny is the inverse\nthing that's happening.\n\n22\n00:01:05.852 --> 00:01:09.198\nIt's almost like a time paradox or\nsomething, I feel, and Doc Brown will show\n\n23\n00:01:09.198 --> 00:01:11.906\nup any second in the DeLorean and-\n&gt;&gt; Great Scott.\n\n24\n00:01:11.906 --> 00:01:13.609\nI'm late for school.\n\n25\n00:01:13.609 --> 00:01:16.500\nNo.\nI know those were two different characters\n\n26\n00:01:16.500 --> 00:01:20.273\nin that movie, but actually\nwhenever you do data manipulation,\n\n27\n00:01:20.273 --> 00:01:23.704\nwhenever you're kinda doing\nthese data managing things,\n\n28\n00:01:23.704 --> 00:01:27.962\nyou find yourselves writing more\ncomplex expressions and statements and\n\n29\n00:01:27.962 --> 00:01:32.178\ncomputations or slicing and\ndicing to make the output more simplified.\n\n30\n00:01:32.178 --> 00:01:34.554\nAnd part of that is I\nwant remove the noise,\n\n31\n00:01:34.554 --> 00:01:38.196\nremove the extraneous information so\nI can just go, got it.\n\n32\n00:01:38.196 --> 00:01:42.855\nSo don't worry, I've done it too, that's\nkind of how things work out whenever\n\n33\n00:01:42.855 --> 00:01:44.925\nyou're trying to [SOUND] chop it up.\n\n34\n00:01:44.925 --> 00:01:48.329\n&gt;&gt; Welcome to the biz, ladies and\ngentlemen, that's just how it works out.\n\n35\n00:01:48.329 --> 00:01:53.081\nSo when we left off in the previous\nepisode, we tested whether or not our date\n\n36\n00:01:53.081 --> 00:01:57.626\nvariables are coming out the way we\nneed them so we can make comparisons.\n\n37\n00:01:57.626 --> 00:02:02.012\nAnd if you'll remember or\nif you haven't watched it, pause,\n\n38\n00:02:02.012 --> 00:02:03.931\ngo watch that, finish up.\n\n39\n00:02:03.931 --> 00:02:06.062\nNow, that you've done that,\nwelcome to the show.\n\n40\n00:02:06.062 --> 00:02:11.575\nAnd we had some odd output and we thought\nwe were actually encountering an error,\n\n41\n00:02:11.575 --> 00:02:16.536\nand what it was is actually, even if\nit was an error, it would work fine.\n\n42\n00:02:16.536 --> 00:02:20.525\nBut it wasn't an error, it just happened\nto be the way that the date command works\n\n43\n00:02:20.525 --> 00:02:21.886\nwith that specific dates.\n\n44\n00:02:21.886 --> 00:02:24.458\nAnd it's a little freaky.\n\n45\n00:02:24.458 --> 00:02:29.005\nBut it works regardless, so\nit just kind of threw us both off guard.\n\n46\n00:02:29.005 --> 00:02:33.038\nWhich can happen, again,\nwe reiterate about working with dates.\n\n47\n00:02:33.038 --> 00:02:40.138\nCan be a bit of an exercise in I\ndon't know what's going on here.\n\n48\n00:02:40.138 --> 00:02:42.011\n[LAUGH] How do I make this?\n\n49\n00:02:42.011 --> 00:02:43.971\nThis isn't very intuitive.\n\n50\n00:02:43.971 --> 00:02:48.212\nBecause of the way the Gregorian calendar\nworks, so just bear that in mind and\n\n51\n00:02:48.212 --> 00:02:50.377\nthat is creeping up its ugly head here.\n\n52\n00:02:50.377 --> 00:02:53.500\nAnd the good news is that were\ngood to go with moving forward,\n\n53\n00:02:53.500 --> 00:02:55.880\nwe don't have to do any refactoring.\n\n54\n00:02:55.880 --> 00:02:59.004\nWe can just work with what\nwe've got cuz basically,\n\n55\n00:02:59.004 --> 00:03:03.193\nI think we got like 18,000,\nis what we came up with our answer for\n\n56\n00:03:03.193 --> 00:03:07.737\nthe seconds for the change day or\nthe chdate, the chage date that we needed.\n\n57\n00:03:07.737 --> 00:03:10.904\nThat came out I was like, 18,000 seconds,\nthat was January 1st, 1970.\n\n58\n00:03:10.904 --> 00:03:13.731\nThat's what date does with January 1st,\n\n59\n00:03:13.731 --> 00:03:18.610\n1970 because of some functioning\ninside of the date command itself.\n\n60\n00:03:18.610 --> 00:03:19.922\nSo just bear that in mind.\n\n61\n00:03:19.922 --> 00:03:22.673\nThe good news is that is a lower factor.\n\n62\n00:03:22.673 --> 00:03:27.769\nThat is less than or\nequal to today's seconds from 1970,\n\n63\n00:03:27.769 --> 00:03:31.694\nJanuary 1st, and\nwill work for our purposes.\n\n64\n00:03:31.694 --> 00:03:34.479\nSo therefore,\nno refactoring is necessary and\n\n65\n00:03:34.479 --> 00:03:36.922\nwe're happy to move along with our code.\n\n66\n00:03:36.922 --> 00:03:40.824\nAll right, so let's jump back in,\nlet's finish this puppy out, let's get it\n\n67\n00:03:40.824 --> 00:03:44.745\nbuttoned up, and let's fire it away and\nsee if everything is gonna work for us.\n\n68\n00:03:44.745 --> 00:03:46.845\nSo we're gonna come back in here and\n\n69\n00:03:46.845 --> 00:03:51.331\nI'm going to bend down to my echo\nstatements cuz I don't need them anymore.\n\n70\n00:03:51.331 --> 00:03:56.408\nWe were just doing that for\ntesting purposes, take those out.\n\n71\n00:03:56.408 --> 00:03:59.807\nAnd now, we can actually get more\ninto the logistics of these things or\n\n72\n00:03:59.807 --> 00:04:01.833\nthe logic of these things, should I say.\n\n73\n00:04:01.833 --> 00:04:06.238\nNow we need to actually say,\nif the date is this, do something,\n\n74\n00:04:06.238 --> 00:04:07.959\nelse do something else.\n\n75\n00:04:07.959 --> 00:04:10.571\nSo we're gonna need a nested if here.\n\n76\n00:04:10.571 --> 00:04:14.185\nSo I'm gonna say if like that,\n\n77\n00:04:14.185 --> 00:04:18.495\ngive my test condition going up, and\n\n78\n00:04:18.495 --> 00:04:23.933\nI'll say $ch_date_seconds, I think so.\n\n79\n00:04:23.933 --> 00:04:27.603\nWas that if it is -less than or equal to.\n\n80\n00:04:27.603 --> 00:04:31.141\nCuz now I'm working with numbers\nI can use those operators.\n\n81\n00:04:31.141 --> 00:04:32.447\nSo I'm gonna say less than or equal to.\n\n82\n00:04:32.447 --> 00:04:36.428\nRemember, if this was still strings,\nthere's no such thing as less than or\n\n83\n00:04:36.428 --> 00:04:37.561\nequal to in its eyes.\n\n84\n00:04:37.561 --> 00:04:39.592\nYou'd have to convert it in\nsome way shape or form, right?\n\n85\n00:04:39.592 --> 00:04:42.435\nOr do some function on\nit to make that happen.\n\n86\n00:04:42.435 --> 00:04:46.455\nBut here, since we're working in numbers,\nI can do less than and equal to.\n\n87\n00:04:46.455 --> 00:04:52.431\nAnd I'll say, I want to compare\nthat with tday seconds, right?\n\n88\n00:04:52.431 --> 00:05:00.354\nSo I'll compare that with $tday_seconds,\nlike so.\n\n89\n00:05:00.354 --> 00:05:01.963\nClose it out.\n\n90\n00:05:01.963 --> 00:05:04.078\nGive me that, a little bit of then.\n\n91\n00:05:04.078 --> 00:05:05.151\nCome back in.\n\n92\n00:05:05.151 --> 00:05:11.806\nI'll indent this one, I'll say echo.\n\n93\n00:05:11.806 --> 00:05:15.522\nAccount is LOCKED.\n\n94\n00:05:15.522 --> 00:05:19.745\nSo now, we're hitting our first\ncondition for account being locked.\n\n95\n00:05:19.745 --> 00:05:22.181\nThat looks good, we close that.\n\n96\n00:05:22.181 --> 00:05:27.013\nJust come back in here,\ngive a little more information, echo.\n\n97\n00:05:27.013 --> 00:05:32.015\nYeah, Password expiration date,\n\n98\n00:05:32.015 --> 00:05:37.691\nkind of like what we did upstairs there.\n\n99\n00:05:37.691 --> 00:05:44.601\nAnd we will say again just ch_date, _date,\ncuz that's in a human readable format.\n\n100\n00:05:44.601 --> 00:05:49.326\nI don't want that seconds business for\nour human input, right?\n\n101\n00:05:49.326 --> 00:05:55.017\nSo I'm just gonna give it that\nnice January 1st, 1970, right?\n\n102\n00:05:55.017 --> 00:05:57.743\nClose that out, looks good there.\n\n103\n00:05:57.743 --> 00:06:00.894\nI think we just need a read here -p.\n\n104\n00:06:00.894 --> 00:06:05.449\nPress ENTER to continue.\n\n105\n00:06:05.449 --> 00:06:07.673\nOne too many bumps there.\n\n106\n00:06:07.673 --> 00:06:08.737\nThere we go.\n\n107\n00:06:08.737 --> 00:06:14.361\nAnd then take us back to the account lock,\nacct_lock.\n\n108\n00:06:14.361 --> 00:06:15.597\nThat looks good.\n\n109\n00:06:15.597 --> 00:06:22.872\nThen we just need to else, say else, just\nin case some thing else comes up, right?\n\n110\n00:06:22.872 --> 00:06:30.138\nElse we will say,\njust echo the account is locked.\n\n111\n00:06:30.138 --> 00:06:34.011\nSo if I'm getting it's less than or\nequal to, that should be good.\n\n112\n00:06:34.011 --> 00:06:35.946\nAnything else should also be locked.\n\n113\n00:06:35.946 --> 00:06:38.885\nSo, again,\ngoing back to what if it's never, right?\n\n114\n00:06:38.885 --> 00:06:40.711\nWhat if it's something\nthat we didn't expect?\n\n115\n00:06:40.711 --> 00:06:43.790\nJust trying to throw that in there,\nwe'll say account's locked.\n\n116\n00:06:43.790 --> 00:06:45.594\nSo let's see here.\n\n117\n00:06:45.594 --> 00:06:50.791\nAccount is, I wanna keep it consistent.\n\n118\n00:06:53.928 --> 00:06:54.822\nLOCKED.\n\n119\n00:06:54.822 --> 00:06:57.584\nDing, lazy.\n\n120\n00:06:57.584 --> 00:07:00.516\nAnd echo and\nwe'll give them that information.\n\n121\n00:07:00.516 --> 00:07:01.569\nWhat is the password?\n\n122\n00:07:01.569 --> 00:07:05.778\nWhat did it get if it\nwasn't what we expected?\n\n123\n00:07:05.778 --> 00:07:11.181\nSo again, just trying to\ncontinually give that consistency.\n\n124\n00:07:11.181 --> 00:07:15.748\n&gt;&gt; And now, should that be locked or\nunlocked on that second one?\n\n125\n00:07:15.748 --> 00:07:16.855\nI'm just making sure there.\n\n126\n00:07:16.855 --> 00:07:17.576\n&gt;&gt; Thank you, sir.\n\n127\n00:07:17.576 --> 00:07:19.369\nThank you.\nAgain, coding in pairs,\n\n128\n00:07:19.369 --> 00:07:20.788\nalways a good idea, right?\n\n129\n00:07:20.788 --> 00:07:21.626\nYes, you're right.\n\n130\n00:07:21.626 --> 00:07:24.467\nBecause if it is anything\nother than that less than or\n\n131\n00:07:24.467 --> 00:07:27.000\nequal to I want it to be unlocked,\nnot locked.\n\n132\n00:07:27.000 --> 00:07:30.038\nGet in my own head here,\neasily make a mistake, and\n\n133\n00:07:30.038 --> 00:07:33.300\nI'm trying to crank this out\nfast as I can for you guys.\n\n134\n00:07:33.300 --> 00:07:38.397\nSo that does play a factor into\nmy ability to type correctly.\n\n135\n00:07:38.397 --> 00:07:39.171\nIt's a good catch, Justin.\n\n136\n00:07:39.171 --> 00:07:41.541\nThank you, sir.\n\n137\n00:07:41.541 --> 00:07:42.273\nPassword expiration.\n\n138\n00:07:42.273 --> 00:07:44.265\nI do want the Password expiration.\n\n139\n00:07:44.265 --> 00:07:49.032\nPassword expiration date.\n\n140\n00:07:49.032 --> 00:07:53.442\nWhatever that is, which is ch_date.\n\n141\n00:07:53.442 --> 00:08:01.162\nAnd read -p \"Press ENTER to continue\".\n\n142\n00:08:05.590 --> 00:08:10.094\nAnd that takes us back once\nit's done to the acct_lock.\n\n143\n00:08:10.094 --> 00:08:13.274\n[SOUND] Got to throw a fee on\nthe end of that otherwise,\n\n144\n00:08:13.274 --> 00:08:15.237\nit's not gonna work very well.\n\n145\n00:08:15.237 --> 00:08:19.785\nMy man, I think, looking at my notes,\nlooking at the code,\n\n146\n00:08:19.785 --> 00:08:21.580\nI think I'm good to go.\n\n147\n00:08:21.580 --> 00:08:27.042\n&gt;&gt; So, we've managed if we get never and\nif we don't get never then we assume\n\n148\n00:08:27.042 --> 00:08:32.063\nthat it's a date, we've parsed the date,\nwe've checked to see if\n\n149\n00:08:32.063 --> 00:08:37.816\nthe date in seconds of the account is\nless than now, effectively, seconds.\n\n150\n00:08:37.816 --> 00:08:38.914\nSo we can say okay,\n\n151\n00:08:38.914 --> 00:08:43.248\nif it's less than then the account's\nlocked because that was in the past.\n\n152\n00:08:43.248 --> 00:08:46.789\nSo less than means in the past\nin the concept of dates.\n\n153\n00:08:46.789 --> 00:08:51.545\nOtherwise, the account is unlocked just\nin case there is an actual password\n\n154\n00:08:51.545 --> 00:08:56.843\nexpiration date that is in the future and\nwhere I think we've covered all our bases.\n\n155\n00:08:56.843 --> 00:08:58.840\n&gt;&gt; Man, it's like you read me like a book.\n\n156\n00:08:58.840 --> 00:08:59.716\nIt's exactly right.\n\n157\n00:08:59.716 --> 00:09:02.383\nSo he's followed the logic,\nhopefully, you have as well.\n\n158\n00:09:02.383 --> 00:09:06.345\nWe're trying to make an account for\nif this condition is true,\n\n159\n00:09:06.345 --> 00:09:09.431\nthe seconds line up or\ndon't line up backwards.\n\n160\n00:09:09.431 --> 00:09:14.378\nSo if they're equal or less than, we're\ngonna get one condition, which is that\n\n161\n00:09:14.378 --> 00:09:18.381\nthat account is locked because any\nlocked out status from today or\n\n162\n00:09:18.381 --> 00:09:20.446\nprevious is a locked out status.\n\n163\n00:09:20.446 --> 00:09:25.328\nIf we have never, which we've already\naccounted for we know its unlocked,\n\n164\n00:09:25.328 --> 00:09:30.058\nbut what if there's a date, there is\npolicy for account expiration, but\n\n165\n00:09:30.058 --> 00:09:31.906\nit's in two weeks from now.\n\n166\n00:09:31.906 --> 00:09:33.874\nSo it's gonna be in day for,\nit's not gonna say never.\n\n167\n00:09:33.874 --> 00:09:36.502\nIt's gonna have that date\nfrom two weeks from now.\n\n168\n00:09:36.502 --> 00:09:42.867\nSo I'm kind of just making account for\nthat, if that is the case, okay?\n\n169\n00:09:42.867 --> 00:09:46.535\nSo I think I've covered all my bases here.\n\n170\n00:09:46.535 --> 00:09:50.894\nI think it's time for us to give it\na little bit of a save and exit and\n\n171\n00:09:50.894 --> 00:09:53.290\nrun it up the flag pole, all right?\n\n172\n00:09:53.290 --> 00:09:53.917\nLet's do that.\n\n173\n00:09:53.917 --> 00:09:56.700\nCtrl + O, Ctrl + X.\n\n174\n00:09:56.700 --> 00:09:59.603\nGood time for us find out whether or\nnot I've got any syntax errors.\n\n175\n00:10:02.829 --> 00:10:04.923\nSo far so good.\n\n176\n00:10:04.923 --> 00:10:06.435\nHit with the 4.\n\n177\n00:10:06.435 --> 00:10:07.283\nAll right.\n\n178\n00:10:07.283 --> 00:10:11.777\nSo let's check out the account\nlock out status of tlowrie.\n\n179\n00:10:11.777 --> 00:10:12.964\nThe account is locked.\n\n180\n00:10:12.964 --> 00:10:16.379\nGives me the expiration\ndate of January 1st, 1970.\n\n181\n00:10:16.379 --> 00:10:17.488\nExcellent.\nWorking so far.\n\n182\n00:10:17.488 --> 00:10:19.030\nPress ENTER to continue.\n\n183\n00:10:19.030 --> 00:10:20.795\nSo far so good, my man.\n\n184\n00:10:20.795 --> 00:10:24.550\nLet's go actually unlock the account.\n\n185\n00:10:24.550 --> 00:10:27.225\nSo we know it's locked so we'll say two.\n\n186\n00:10:27.225 --> 00:10:29.949\ntlowrie, just ENTER to continue.\n\n187\n00:10:29.949 --> 00:10:33.315\nNow, I can just check\nthe status of tlowrie.\n\n188\n00:10:33.315 --> 00:10:35.002\nThe account is unlocked.\n\n189\n00:10:35.002 --> 00:10:35.820\nExcellent.\n\n190\n00:10:35.820 --> 00:10:38.958\nIt actually did it and\nnow it says the expiration date is never.\n\n191\n00:10:38.958 --> 00:10:42.143\nSo I know that that's\nan unexpiring account.\n\n192\n00:10:42.143 --> 00:10:45.361\nIf there was an account policy that say,\nwell, this account doesn't or\n\n193\n00:10:45.361 --> 00:10:47.171\nI could go back in and create that logic.\n\n194\n00:10:47.171 --> 00:10:50.396\nSee how I've got a nice\nspring board now to say,\n\n195\n00:10:50.396 --> 00:10:55.396\nwhat if we do have expiration policy,\nI can go in there and make account for\n\n196\n00:10:55.396 --> 00:10:59.612\nthat to see, well,\nit doesn't even expire until then.\n\n197\n00:10:59.612 --> 00:11:00.690\nSo it should be good to go.\n\n198\n00:11:00.690 --> 00:11:02.900\nOr his accounts been locked down or\nsomething like that.\n\n199\n00:11:02.900 --> 00:11:06.998\nYou start seeing how we build a foundation\nof which we can make a much more\n\n200\n00:11:06.998 --> 00:11:08.378\nfunctioning product.\n\n201\n00:11:08.378 --> 00:11:12.149\nBut right now, for my system and\nmy environment, this is all I need.\n\n202\n00:11:12.149 --> 00:11:14.114\nThis is very robust,\nit does everything I need to do.\n\n203\n00:11:14.114 --> 00:11:18.273\nIt locks an account, unlocks an account,\nand I'm able within the same program check\n\n204\n00:11:18.273 --> 00:11:22.231\nthe status and make sure that the changes\nI've made have actually taken effect.\n\n205\n00:11:22.231 --> 00:11:24.074\n&gt;&gt; Well, Daniel, thank you so much for\n\n206\n00:11:24.074 --> 00:11:26.878\nproviding us essentially\nwith this scaffold, right?\n\n207\n00:11:26.878 --> 00:11:30.179\nWe can always come back and\nas you said, add expiration dates,\n\n208\n00:11:30.179 --> 00:11:32.187\nmaybe that's an additional option.\n\n209\n00:11:32.187 --> 00:11:36.264\nWho knows what crazy kind of\nthings may end up having the need.\n\n210\n00:11:36.264 --> 00:11:37.687\nBut you've got us started.\n\n211\n00:11:37.687 --> 00:11:40.977\nBut we're not done with this script, we\nactually have a couple other things to do,\n\n212\n00:11:40.977 --> 00:11:43.160\nif I'm not-\n&gt;&gt; No, we squared it away.\n\n213\n00:11:43.160 --> 00:11:43.973\nThis was the final thing.\n\n214\n00:11:43.973 --> 00:11:47.247\n&gt;&gt; We are completely done\nwith user account management.\n\n215\n00:11:47.247 --> 00:11:48.954\n&gt;&gt; I know, it seems like a dream,\ndoesn't it?\n\n216\n00:11:48.954 --> 00:11:51.024\n[LAUGH]\n&gt;&gt; It does, it does.\n\n217\n00:11:51.024 --> 00:11:56.512\nWell, we've got a start, I'm sure in\na things like these are never done.\n\n218\n00:11:56.512 --> 00:11:57.033\n&gt;&gt; There you go.\n\n219\n00:11:57.033 --> 00:12:00.341\n&gt;&gt; So keep working on, try somethings\nelse, see if you can reproduce it,\n\n220\n00:12:00.341 --> 00:12:01.678\nadd features that you want.\n\n221\n00:12:01.678 --> 00:12:04.137\nI would be interesting to hear\nabout what you come up with.\n\n222\n00:12:04.137 --> 00:12:05.337\nI don't know about Daniel,\nwhat do you think?\n\n223\n00:12:05.337 --> 00:12:07.640\n&gt;&gt; Yeah,\nyou should have to let us know likes,\n\n224\n00:12:07.640 --> 00:12:09.710\nuse this if you see a better way to do it.\n\n225\n00:12:09.710 --> 00:12:11.770\nShouldn't stop if what you think is well,\nit's great stuff.\n\n226\n00:12:11.770 --> 00:12:15.742\n&gt;&gt; So like I said, this isn't all\nabout making perfect scripts.\n\n227\n00:12:15.742 --> 00:12:19.601\nIt's all about sparking ideas,\nseeing what you can use,\n\n228\n00:12:19.601 --> 00:12:24.008\nor ideas that take what you know and\nput it in the action, apply it,\n\n229\n00:12:24.008 --> 00:12:27.342\nput hand to plow, and\nmake something go, right?\n\n230\n00:12:27.342 --> 00:12:28.336\nSo that's the whole idea.\n\n231\n00:12:28.336 --> 00:12:31.561\nSo hopefully, and I'm sure there\nare better ways into doing this,\n\n232\n00:12:31.561 --> 00:12:33.271\nmore efficient ways to doing this.\n\n233\n00:12:33.271 --> 00:12:36.263\nLess code, better logic, stuff like that.\n\n234\n00:12:36.263 --> 00:12:39.720\nYou figure that out, man,\nmake it happen, shoot me an email.\n\n235\n00:12:39.720 --> 00:12:42.885\nI'm glad to get it, daniel@itpro.tv.\n\n236\n00:12:42.885 --> 00:12:43.978\nI would love to see that stuff.\n\n237\n00:12:43.978 --> 00:12:44.936\nI find that stuff fascinating.\n\n238\n00:12:44.936 --> 00:12:48.279\nJustin and I muse about this daily.\n\n239\n00:12:48.279 --> 00:12:50.004\nSo it's always, we love cool stuff and\n\n240\n00:12:50.004 --> 00:12:52.582\nyou guys writing your own\nscripts out there is cool stuff.\n\n241\n00:12:52.582 --> 00:12:55.429\nSo I think that's all I got for\ntoday though, my man.\n\n242\n00:12:55.429 --> 00:12:56.799\n&gt;&gt; All right, well there you have it.\n\n243\n00:12:56.799 --> 00:13:01.030\nBut definitely stay tuned for\nmore creating practical scripts.\n\n244\n00:13:01.030 --> 00:13:04.436\nBut since we are finished with our script\nin this episode, we're gonna go ahead and\n\n245\n00:13:04.436 --> 00:13:05.175\nwrap this one up.\n\n246\n00:13:05.175 --> 00:13:08.374\nSo signing off for ITProTV,\nI've been you host Justin Dennison.\n\n247\n00:13:08.374 --> 00:13:09.256\n&gt;&gt; And I'm Daniel Lowrie.\n\n248\n00:13:09.256 --> 00:13:11.358\n&gt;&gt; And we'll see you next time.\n\n249\n00:13:11.358 --> 00:13:17.330\n[MUSIC]\n\n250\n00:13:17.330 --> 00:13:20.734\n&gt;&gt; Thank-you for watching ITProTV.\n\n",
          "vimeoId": "239456774"
        },
        {
          "description": "In this episode, Daniel and Justin begin working on adding a function that allows for the changing of either the username or the user's name. Here they will get the basic structure of the function fleshed out as well as getting the username changing functionality working.",
          "length": "1745",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-6-1-user_account_manager_change_username-102017-PGM.00_28_50_11.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-6-1-user_account_manager_change_username-102017-PGM.00_28_50_11.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-6-1-user_account_manager_change_username-102017-PGM.00_28_50_11.Still001-sm.jpg",
          "title": "User Account Manager Change Username",
          "transcript": "WEBVTT\n\n1\n00:00:00.140 --> 00:00:06.475\nWelcome to ITPRO.TV,\nI'm your host [CROSSTALK]\n\n2\n00:00:06.475 --> 00:00:08.176\n[MUSIC]\n\n3\n00:00:08.176 --> 00:00:12.741\n&gt;&gt; You're watching ITPRO.TV\n&gt;&gt; Greetings everyone and\n\n4\n00:00:12.741 --> 00:00:15.262\nwelcome to another exciting\nepisode of ITPro.TV.\n\n5\n00:00:15.262 --> 00:00:17.069\nI'm your host Justin Dennison, and\n\n6\n00:00:17.069 --> 00:00:19.880\nwe're continuing on with our\naccount user management.\n\n7\n00:00:19.880 --> 00:00:23.590\nI always mix those words up,\nuser account manager.\n\n8\n00:00:23.590 --> 00:00:24.850\nYeah, yeah.\nAnd in particular,\n\n9\n00:00:24.850 --> 00:00:27.270\nwe're gonna be looking at usernames today.\n\n10\n00:00:27.270 --> 00:00:30.060\nAnd luckily we have someone in\nthe studio that has a plan,\n\n11\n00:00:30.060 --> 00:00:31.625\nwell, to make that come through.\n\n12\n00:00:31.625 --> 00:00:32.440\nMr. Daniel Lowrie.\n\n13\n00:00:32.440 --> 00:00:33.510\nHow are you doing today, Daniel?\n\n14\n00:00:33.510 --> 00:00:34.630\n&gt;&gt; I'm doing fantastic, Justin.\n\n15\n00:00:34.630 --> 00:00:37.480\nAs always, glad to back in\nthe studio with you good folks.\n\n16\n00:00:37.480 --> 00:00:41.010\nTrying to help you get some ideas of what\nwe can do with this scripting language\n\n17\n00:00:41.010 --> 00:00:45.160\nthing that we've been working so hard at\nattaining and acquiring as a skill set.\n\n18\n00:00:45.160 --> 00:00:48.580\nAnd we've been working our\nway through this tool.\n\n19\n00:00:48.580 --> 00:00:52.890\nThis function feature that we want to\nadd to our system as an experience for\n\n20\n00:00:52.890 --> 00:00:54.790\nus to make our lives a little bit easier.\n\n21\n00:00:54.790 --> 00:00:58.030\nSo we have to remember a bazillion\nswitches and arguments and options and\n\n22\n00:00:58.030 --> 00:01:00.820\nthings to a bazillion different tools.\n\n23\n00:01:00.820 --> 00:01:03.470\nAnd that has been our account\nmanager system, right?\n\n24\n00:01:03.470 --> 00:01:04.640\nWe've done a lot of stuff, right?\n\n25\n00:01:04.640 --> 00:01:06.280\nWe've done lock and unlock accounts.\n\n26\n00:01:06.280 --> 00:01:08.520\nWe've done change to full shells.\n\n27\n00:01:08.520 --> 00:01:11.250\nWe've changed, what else have we done?\n\n28\n00:01:11.250 --> 00:01:13.698\nWe add new and remove users.\n\n29\n00:01:13.698 --> 00:01:17.901\nI think we're on to the final bit for this\nlittle thing, at least for the intents and\n\n30\n00:01:17.901 --> 00:01:21.685\npurposes of bringing this to the\nculmination, and I'll leave it at that,\n\n31\n00:01:21.685 --> 00:01:24.090\nwhich is changing the username.\n\n32\n00:01:24.090 --> 00:01:26.020\nFrom time to time, guess what?\n\n33\n00:01:26.020 --> 00:01:29.164\nPeople get married, people decide\nthat I don't like my name, and\n\n34\n00:01:29.164 --> 00:01:31.801\nI want it to be different, and\nthey go to a court of law and\n\n35\n00:01:31.801 --> 00:01:35.191\nsay make it Billy Bob Schenanigon,\nand that's what they want it to be.\n\n36\n00:01:35.191 --> 00:01:36.000\nAnd good on them, great for them.\n\n37\n00:01:36.000 --> 00:01:40.120\nIf that's what they want,\nthey should have that freedom to do so.\n\n38\n00:01:40.120 --> 00:01:42.460\nAnd they do, they legally change\ntheir name for whatever reason.\n\n39\n00:01:42.460 --> 00:01:44.489\nOr they go by an alias, that's fine.\n\n40\n00:01:44.489 --> 00:01:48.331\nIn the system, a lot of times they'll\nwant to reflect those changes.\n\n41\n00:01:48.331 --> 00:01:52.135\nAnd you might already have a user\nin the system and now they decided\n\n42\n00:01:52.135 --> 00:01:57.360\nto change their name, and they want to\nsee that show up in the system itself.\n\n43\n00:01:57.360 --> 00:01:59.020\n&gt;&gt; And Daniel, I can attest to this.\n\n44\n00:01:59.020 --> 00:02:03.830\nWhen I was younger,\nI'm talking before teens, teens,\n\n45\n00:02:03.830 --> 00:02:08.064\nI picked a couple usernames that later in\nlife, I was like these are not usable.\n\n46\n00:02:08.064 --> 00:02:11.890\n&gt;&gt; [LAUGH]\n&gt;&gt; I would like to make changes to these.\n\n47\n00:02:11.890 --> 00:02:14.790\nAnd some of those systems that I\nused didn't offer the ability to\n\n48\n00:02:14.790 --> 00:02:15.590\nchange usernames.\n\n49\n00:02:15.590 --> 00:02:19.770\nSo I think this is one of those,\nyeah it's a small feature, but\n\n50\n00:02:19.770 --> 00:02:21.320\nyou can help people a great deal.\n\n51\n00:02:21.320 --> 00:02:26.290\nLike I picked bunny47 as my username.\n\n52\n00:02:26.290 --> 00:02:30.120\nYes maybe not on our corporate account.\n\n53\n00:02:30.120 --> 00:02:31.790\nSo you might wanna go in and change that.\n\n54\n00:02:31.790 --> 00:02:34.950\n&gt;&gt; Yeah I always think the joke on\ntransformers, the original one,\n\n55\n00:02:34.950 --> 00:02:36.600\nthe one that was half way decent.\n\n56\n00:02:36.600 --> 00:02:39.510\nWhere are you ladiesmen4767 or\nwhatever it was?\n\n57\n00:02:39.510 --> 00:02:40.780\nAnd it's like yeah,\n\n58\n00:02:40.780 --> 00:02:44.520\nprobably don't want to go with that\nas your forever username, right?\n\n59\n00:02:44.520 --> 00:02:47.884\nAnd we do things in the haste\nof youth [LAUGH] that\n\n60\n00:02:47.884 --> 00:02:49.500\nare kind of silly when you get older.\n\n61\n00:02:49.500 --> 00:02:51.890\nSo, that does happen,\nwe want to change usernames.\n\n62\n00:02:51.890 --> 00:02:54.160\nNot only that, but\nthis can become a spring board.\n\n63\n00:02:54.160 --> 00:03:00.890\nI'm not gonna give us every scenario in\nwhich, I'm not gonna make this systemic.\n\n64\n00:03:00.890 --> 00:03:03.820\nWe're just gonna change the username,\nbut this is gonna give us a great\n\n65\n00:03:03.820 --> 00:03:07.365\nplatform to go, well, now that I am\nable to change the username, I'm gonna,\n\n66\n00:03:07.365 --> 00:03:11.690\nmaybe slap in some more functionality and\ngo change the home directory name as well.\n\n67\n00:03:11.690 --> 00:03:13.600\nAll right,\nI'm gonna change email addresses.\n\n68\n00:03:13.600 --> 00:03:14.420\nI'm gonna add aliases.\n\n69\n00:03:14.420 --> 00:03:15.280\nI'm gonna do this, I'm gonna do that,\n\n70\n00:03:15.280 --> 00:03:16.900\nanywhere where that old\nuser name would be.\n\n71\n00:03:16.900 --> 00:03:20.790\nI need to also go in, slip that in,\nmake that new change, and\n\n72\n00:03:20.790 --> 00:03:25.430\nsend it back out into the wild\nwithout any real experience by the end\n\n73\n00:03:25.430 --> 00:03:30.670\nuser of any difference other than\nthe name is now different, right?\n\n74\n00:03:30.670 --> 00:03:34.560\nSo I'm gonna just show you how to change\nthe username and then your homework is to\n\n75\n00:03:34.560 --> 00:03:39.160\ngo now that I've changed the username,\nI'm gonna make this even bigger and\n\n76\n00:03:39.160 --> 00:03:43.240\nbetter, more robust, and make it go and\nI'm gonna change the home directory name.\n\n77\n00:03:43.240 --> 00:03:48.385\nAnywhere that that is their username I'm\ngonna make that change as well, right?\n\n78\n00:03:48.385 --> 00:03:50.475\nSo I'm gonna give you the platform and\n\n79\n00:03:50.475 --> 00:03:53.505\nyour job is to extend it from\nthere on your own, all right?\n\n80\n00:03:53.505 --> 00:03:56.215\nThat being said and again this\nwill be our last little piece for\n\n81\n00:03:56.215 --> 00:03:57.515\nthis account management system.\n\n82\n00:03:57.515 --> 00:04:00.965\nI think that we'll have\nsufficiently beat this horse.\n\n83\n00:04:00.965 --> 00:04:03.145\nIt no longer exists with us any longer.\n\n84\n00:04:03.145 --> 00:04:06.080\nIt has expired and\nwe're still smacking it so.\n\n85\n00:04:06.080 --> 00:04:09.130\nLet's give it a few more whacks and\nthen we'll call it a day.\n\n86\n00:04:09.130 --> 00:04:11.880\nAll right let's jump in,\nlet's get our script open and\n\n87\n00:04:11.880 --> 00:04:13.730\nstart adding some code, shall we?\n\n88\n00:04:13.730 --> 00:04:18.698\nI will nano acct-mgr2.sh and\nI'll start cranking\n\n89\n00:04:18.698 --> 00:04:25.090\ndown here to, where are we?\n\n90\n00:04:25.090 --> 00:04:26.965\nThere we go.\nChange name.\n\n91\n00:04:26.965 --> 00:04:29.590\nExcellente, that's exactly what we want.\n\n92\n00:04:29.590 --> 00:04:31.400\nAnd again,\nwe left our little placeholder there so\n\n93\n00:04:31.400 --> 00:04:33.280\nthat it would not break our script.\n\n94\n00:04:33.280 --> 00:04:37.960\nAgain, we could have also just\ncommented it out if you wanted that.\n\n95\n00:04:37.960 --> 00:04:40.830\nGive myself some space\nto start working here.\n\n96\n00:04:40.830 --> 00:04:45.320\nThe first thing I always like to\ndo is add our list of objectives.\n\n97\n00:04:45.320 --> 00:04:46.080\nWhat are we going to do?\n\n98\n00:04:46.080 --> 00:04:50.110\nJust put them in comments, giving us some\nidea of what should be going on inside of\n\n99\n00:04:50.110 --> 00:04:51.520\nour script dorm,\ndon't wanna forget anything.\n\n100\n00:04:51.520 --> 00:04:54.830\nFirst thing I wanted to do is,\nwell I wanted to change names.\n\n101\n00:04:54.830 --> 00:04:58.620\nI want to be able to take\nusernames to change the names.\n\n102\n00:04:58.620 --> 00:05:00.920\nPretty simple thing.\n\n103\n00:05:00.920 --> 00:05:06.260\nSo I do now that I'm thinking about it,\nwe have usernames.\n\n104\n00:05:06.260 --> 00:05:08.070\nBut we might also want to\nchange their full name.\n\n105\n00:05:08.070 --> 00:05:13.077\nAgain, let me think about that legally\nchanged named, somebody got married and\n\n106\n00:05:13.077 --> 00:05:17.990\nsomebody change their name for\nwhatever purposes, that kind of stuff.\n\n107\n00:05:17.990 --> 00:05:23.540\nSo the user name just is a Linux thing,\nthe user name really has\n\n108\n00:05:23.540 --> 00:05:28.560\nno bearing on other stuff, I can make\nthe user name anything I like, all right?\n\n109\n00:05:28.560 --> 00:05:30.680\nSo bubblegum oysterhead.\n\n110\n00:05:30.680 --> 00:05:33.928\nIf that's what you want your username\nto be, God bless you, child.\n\n111\n00:05:33.928 --> 00:05:37.060\nBut that still would be legitimate,\nand it's probably not going to\n\n112\n00:05:37.060 --> 00:05:41.880\naffect anything else, only things that\ncall for that username specifically.\n\n113\n00:05:41.880 --> 00:05:45.030\nSo I probably also want to be able\nto change the full name, as well,\n\n114\n00:05:45.030 --> 00:05:46.970\nso we'll factor that in.\n\n115\n00:05:46.970 --> 00:05:52.868\nSo we want to be able to change,\nso change usernames and\n\n116\n00:05:52.868 --> 00:05:57.520\nchange full names.\n\n117\n00:05:57.520 --> 00:06:01.975\nI'm horrible with the keys in here,\nbut there you go.\n\n118\n00:06:01.975 --> 00:06:08.735\nAnd then of course we have main\nmenu function and exit function,\n\n119\n00:06:08.735 --> 00:06:14.090\nexit program function,\nlike so, pretty basic.\n\n120\n00:06:14.090 --> 00:06:17.900\nAgain, I kind of want to make this\nmore of something you guys can use,\n\n121\n00:06:17.900 --> 00:06:22.106\nmake it your own and expand upon it for\nmore functionality, more features,\n\n122\n00:06:22.106 --> 00:06:24.169\nI don't wanna give you everything.\n\n123\n00:06:24.169 --> 00:06:27.500\nAlright, so now that I've got\nbasically my little task list here,\n\n124\n00:06:27.500 --> 00:06:29.330\nI also got a white space there.\n\n125\n00:06:29.330 --> 00:06:30.160\nI hate those.\n\n126\n00:06:32.030 --> 00:06:35.040\nMy own little brain does not allow for\nthose, I can't stand that.\n\n127\n00:06:35.040 --> 00:06:37.950\nAll right, so lets start with a clear,\ncuz we're gonna, this is a function,\n\n128\n00:06:37.950 --> 00:06:40.740\nI like to clear all my functions so\nthat it's all we see.\n\n129\n00:06:40.740 --> 00:06:44.480\nGotta create the menu for it,\nalways like out good menus here.\n\n130\n00:06:44.480 --> 00:06:48.860\nSticking with the common theme of\noptions are gonna be 1, 2, 3, 4 so\n\n131\n00:06:48.860 --> 00:06:52.060\non and then m and\nx are main menu and exit.\n\n132\n00:06:53.080 --> 00:06:54.270\nSo let's put that in.\n\n133\n00:06:54.270 --> 00:06:59.270\nWe'll start with our echo,\nand this will be called\n\n134\n00:06:59.270 --> 00:07:04.150\nthe Change Name Tool, or\nutility, or whatever you like.\n\n135\n00:07:04.150 --> 00:07:05.440\nChange Name Tool works for me.\n\n136\n00:07:07.537 --> 00:07:13.793\nAnd then I'll give it the options,\nit's going to be,\n\n137\n00:07:13.793 --> 00:07:17.892\nwe'll make that change username.\n\n138\n00:07:17.892 --> 00:07:24.640\nTwo will be change full name,\n\n139\n00:07:24.640 --> 00:07:29.120\nbut we'll change should we say full name,\nyeah we'll say full name\n\n140\n00:07:31.220 --> 00:07:34.171\neven though you may just be changing\na last name or something, okay?\n\n141\n00:07:36.420 --> 00:07:43.227\nChange Full Name and\nthen we just need m) Main Menu and\n\n142\n00:07:43.227 --> 00:07:47.780\nx) Exit Program.\n\n143\n00:07:47.780 --> 00:07:50.919\nAll right, I like what I see so far.\n\n144\n00:07:50.919 --> 00:07:53.988\nEverything looks nice,\nall right, square it away.\n\n145\n00:07:53.988 --> 00:07:56.657\nIt's a pretty simple one, so\nnothing too crazy going on.\n\n146\n00:07:56.657 --> 00:08:01.348\nAgain, very much similar if not identical\nto the other things you've seen except for\n\n147\n00:08:01.348 --> 00:08:02.139\nthe content.\n\n148\n00:08:02.139 --> 00:08:03.804\nWe'll take in that user input, so\nwe're gonna throw a read in here.\n\n149\n00:08:03.804 --> 00:08:07.070\nSO I'll say read -p\n*Please choose option...\n\n150\n00:08:07.070 --> 00:08:15.140\nI think it's what we've been saying.\n\n151\n00:08:18.900 --> 00:08:25.780\nAnd we'll call that, this is a ch_name_opt\nsticking with our convention.\n\n152\n00:08:27.760 --> 00:08:29.410\nAll right, where are we now?\n\n153\n00:08:29.410 --> 00:08:31.696\nWell, now that we're\ntaking in our username,\n\n154\n00:08:31.696 --> 00:08:35.066\nthis should be all old hat you guys,\nso far, there should be nothing,\n\n155\n00:08:35.066 --> 00:08:38.238\nthis should be like beating me to\nthe punch at this point, right?\n\n156\n00:08:38.238 --> 00:08:39.260\nHopefully, that's the case.\n\n157\n00:08:39.260 --> 00:08:39.782\nIf not,\n\n158\n00:08:39.782 --> 00:08:45.990\nthen maybe there's some things in here\nthat would be good reiteration for, okay?\n\n159\n00:08:45.990 --> 00:08:48.970\nSo let's add a music\ncase statement as a menu.\n\n160\n00:08:48.970 --> 00:08:54.340\nSo case is usually the thing to go,\none thing it have too much funky,\n\n161\n00:08:54.340 --> 00:08:59.170\nI mean, I have a bit of logic in here but\nI decided to just stick with case\n\n162\n00:08:59.170 --> 00:09:03.300\nbecause we've been doing\nthe more complex logic in if's.\n\n163\n00:09:03.300 --> 00:09:07.400\nAnd I'm just gonna stick with case on\nthis one so you can just, a, see how this\n\n164\n00:09:07.400 --> 00:09:11.870\nworks out, and b, kinda figure out what\nyou would think the line would be on.\n\n165\n00:09:11.870 --> 00:09:15.590\nWell, that's a bit much for case,\nI should've jump in if on that.\n\n166\n00:09:15.590 --> 00:09:20.894\nOr, man, that's enough or case can\nhandle that really well like that flow.\n\n167\n00:09:20.894 --> 00:09:25.340\nSo, trying to just show you different ways\nto do stuff and give you some options.\n\n168\n00:09:25.340 --> 00:09:32.388\nLet's fire off our case statement,\ncase $ch_name_opt in,\n\n169\n00:09:32.388 --> 00:09:37.227\nand we've got our one,\nwell let me do this.\n\n170\n00:09:37.227 --> 00:09:41.406\n1), 2), x, sorry,\n\n171\n00:09:41.406 --> 00:09:46.981\nm(m) I can't do this [LAUGH] like so,\n\n172\n00:09:46.981 --> 00:09:51.350\nx(x), there we go, not f.\n\n173\n00:09:51.350 --> 00:09:55.529\nThat's it, oops, star, where's the star,\n\n174\n00:09:55.529 --> 00:09:58.980\nit's eight, there we go, and esack.\n\n175\n00:09:58.980 --> 00:10:02.547\nI always like to close those out as\nsoon as I possibly can cuz, man,\n\n176\n00:10:02.547 --> 00:10:06.182\nyou've probably noticed,\nI tend to forget those types of things,\n\n177\n00:10:06.182 --> 00:10:08.382\nthose little hangers get me every time.\n\n178\n00:10:08.382 --> 00:10:10.447\n&gt;&gt; Well, Daniel,\nI gotta test this, not just you.\n\n179\n00:10:10.447 --> 00:10:14.971\nActually, when I program in other\nlanguages that have pairings of\n\n180\n00:10:14.971 --> 00:10:18.603\nan open and a close,\nwhether it's case esack if the or\n\n181\n00:10:18.603 --> 00:10:23.900\njust curly braces, I always make sure\nthe pair and then I split them up.\n\n182\n00:10:23.900 --> 00:10:27.560\nSo it's something that I have\ningrained in myself cuz I got bit so\n\n183\n00:10:27.560 --> 00:10:30.560\nmany times by going,\nwell, this isn't working.\n\n184\n00:10:30.560 --> 00:10:32.790\nAnd then you realized,\nI'm missing a curly brace, or\n\n185\n00:10:32.790 --> 00:10:34.900\nI'm missing a close to something.\n\n186\n00:10:34.900 --> 00:10:39.740\n&gt;&gt; And not only that but\nI find that I kind of start using\n\n187\n00:10:39.740 --> 00:10:44.680\nmodern rich text editors as crutches cuz\nthey kind of do a lot of that for you.\n\n188\n00:10:44.680 --> 00:10:46.580\nThey're like,\nyou're doing an if statement and\n\n189\n00:10:46.580 --> 00:10:49.090\nit's saying it's just a shell script so\nI know fe is gonna go.\n\n190\n00:10:49.090 --> 00:10:51.000\nSo if you type an if,\nif there was a fee and\n\n191\n00:10:51.000 --> 00:10:54.370\na space in between it and\nbrings your cursor to where you need it.\n\n192\n00:10:54.370 --> 00:10:57.110\nIf you open a curly brace,\nit closes the curly brace.\n\n193\n00:10:57.110 --> 00:11:00.791\nIf it's a C program, and\nyou create a function, like curly brace,\n\n194\n00:11:00.791 --> 00:11:03.634\ncurly brace,\nit does all that formatting for you and\n\n195\n00:11:03.634 --> 00:11:06.753\nyou kinda tend to get to leaning\non that a little too hard.\n\n196\n00:11:06.753 --> 00:11:11.326\nAnd then you jump into a text\neditor like Nano, or V, or Vim,\n\n197\n00:11:11.326 --> 00:11:16.108\nsomething like that, and\nthose niceties are no longer there.\n\n198\n00:11:16.108 --> 00:11:18.827\nAnd all of the sudden,\nyou start seeing things that you forget\n\n199\n00:11:18.827 --> 00:11:21.240\nbecause you've been so\nused to having it done for you.\n\n200\n00:11:21.240 --> 00:11:24.510\nIt's a dangerous, it's a two-edged sword.\n\n201\n00:11:24.510 --> 00:11:28.580\nIt's very nice on one hand, but it can\nreally hamstring you on another, right?\n\n202\n00:11:28.580 --> 00:11:32.120\nSo just keep that in mind, as well,\nif you are using something other than\n\n203\n00:11:32.120 --> 00:11:35.470\na text editor that's built into your\nLinux system, something like Kate,\n\n204\n00:11:35.470 --> 00:11:37.500\nor Atom, Sublime Text,\n\n205\n00:11:37.500 --> 00:11:40.070\nall those other cool text editors\nthat are available for you out there.\n\n206\n00:11:41.090 --> 00:11:43.970\nAll right, so let's get back in this\nthing, let's keep hammering away.\n\n207\n00:11:45.180 --> 00:11:49.824\nWe got one, so the first thing we\nwanted to do was change the usernames.\n\n208\n00:11:49.824 --> 00:11:53.624\nSo actually, we're going to\nkind of borrow at least some of\n\n209\n00:11:53.624 --> 00:11:57.880\nthe functionality we had back in\nour add/remove users function,\n\n210\n00:11:57.880 --> 00:12:01.683\nbecause it was doing a lot of\nthe stuff that we all need to do.\n\n211\n00:12:01.683 --> 00:12:04.210\nSo basically we're going to\nkind of reiterate through that.\n\n212\n00:12:04.210 --> 00:12:10.450\nAnd the good news is one of our\nviewers caught a little hanger,\n\n213\n00:12:10.450 --> 00:12:14.860\na little caveat just got past me as\nthese things tend to do and it's great,\n\n214\n00:12:14.860 --> 00:12:17.050\nit's why you always have\nan extra set of eyes on things.\n\n215\n00:12:17.050 --> 00:12:23.300\nI know I was not properly accounting for\nthe colon in the SC password file.\n\n216\n00:12:23.300 --> 00:12:24.940\nSo we're gonna make that\nchange here in a minute.\n\n217\n00:12:24.940 --> 00:12:27.300\nWe're gonna make sure to add that\nto make an account for that.\n\n218\n00:12:27.300 --> 00:12:32.140\nAnd I added an errata to that show\nthat previously used that as well so\n\n219\n00:12:32.140 --> 00:12:33.830\nthat stuff gets caught as well.\n\n220\n00:12:33.830 --> 00:12:37.040\nAnd I'll make sure to mention\nit as we get to that, okay?\n\n221\n00:12:37.040 --> 00:12:38.780\nSo let's dive into that,\n\n222\n00:12:38.780 --> 00:12:42.190\nI'm going to throw just,\nhere's what I wanna do, here we go.\n\n223\n00:12:42.190 --> 00:12:47.630\necho, and then I will start\nwith enter the user name.\n\n224\n00:12:47.630 --> 00:12:49.300\nLet's take that information in.\n\n225\n00:12:49.300 --> 00:12:54.491\nSo read,\nas rad as it is it's not rad [LAUGH].\n\n226\n00:12:54.491 --> 00:12:57.490\nread -p, yes, I grew up in the 80s.\n\n227\n00:12:57.490 --> 00:13:03.750\nAnd we'll say Please enter username.\n\n228\n00:13:03.750 --> 00:13:05.600\nDing ding ding, not question.\n\n229\n00:13:05.600 --> 00:13:06.420\nThere we go.\n\n230\n00:13:08.000 --> 00:13:11.410\nNow, we'll call that, you know we'll\nuse uzr, cuz we love it so much, right?\n\n231\n00:13:11.410 --> 00:13:13.510\nUzr, sure does make our lives easier.\n\n232\n00:13:14.780 --> 00:13:20.820\nFire that off and we will say, we also\nneed to enter the desired user name.\n\n233\n00:13:20.820 --> 00:13:23.680\nWhat do you want to change\nit to if this guy exists?\n\n234\n00:13:25.130 --> 00:13:29.926\nOr now that we know who it is you want to\nchange, what do you want to change it to?\n\n235\n00:13:29.926 --> 00:13:34.590\nIt's not a swammy, it does not have\na crystal ball that defines these things.\n\n236\n00:13:34.590 --> 00:13:37.120\nWe have to feed that\ninformation into the system.\n\n237\n00:13:37.120 --> 00:13:38.400\nLet's take that information.\n\n238\n00:13:38.400 --> 00:13:41.532\nAgain, I really think\nthis is a wrap program.\n\n239\n00:13:41.532 --> 00:13:49.922\nV-p and Please enter desired username.\n\n240\n00:13:49.922 --> 00:13:53.420\nWrong, wrong, wrong,\nthat way, there we go.\n\n241\n00:13:53.420 --> 00:13:59.490\nAnd we'll call this uzr_new,\nthat's it, I think it works.\n\n242\n00:13:59.490 --> 00:14:00.770\nI think it's decrypted enough.\n\n243\n00:14:02.280 --> 00:14:03.520\nAll right, now we're going to,\n\n244\n00:14:03.520 --> 00:14:07.330\nI'm actually gonna use the user mod for\nthis, try again.\n\n245\n00:14:07.330 --> 00:14:09.570\nChange some things up, given us options.\n\n246\n00:14:09.570 --> 00:14:12.860\nSeeing that its always a one size\nfits all, it's a one size fits one.\n\n247\n00:14:12.860 --> 00:14:16.510\nSo I can pick and choose, do anything I\nlike as long as it works for me, right?\n\n248\n00:14:17.810 --> 00:14:23.190\nSo let's see here,\nwe will do usermode-l and\n\n249\n00:14:23.190 --> 00:14:27.547\nwe will feed in the desired\n\n250\n00:14:27.547 --> 00:14:33.550\nusername with the actual\nusername that already exists.\n\n251\n00:14:33.550 --> 00:14:37.227\nWe'll say, I want the desired,\ncuz that's the format usermod -l uses.\n\n252\n00:14:37.227 --> 00:14:41.600\nLet's say I wanna change my username,\nusermod does that functionality,\n\n253\n00:14:41.600 --> 00:14:42.470\nit's built in to that.\n\n254\n00:14:42.470 --> 00:14:46.210\nSo just say usermod -l, desired name,\n\n255\n00:14:46.210 --> 00:14:49.740\nthe name that already exists so\nthat it knows which one to change, right?\n\n256\n00:14:49.740 --> 00:14:53.301\nThat's the format which they've chosen,\nso I'm just sticking with that,\n\n257\n00:14:53.301 --> 00:14:54.574\nfeeding it our variables.\n\n258\n00:14:54.574 --> 00:15:00.446\nSo I'll say uzr_new and then space uzr.\n\n259\n00:15:00.446 --> 00:15:04.537\nSo it's desired username with\nthe actual username of the person we're\n\n260\n00:15:04.537 --> 00:15:06.730\ngoing to change that exists already.\n\n261\n00:15:07.780 --> 00:15:12.020\nAll right, that is done and\nnow that should take care of it.\n\n262\n00:15:12.020 --> 00:15:15.390\nWe're logged in as sudo,\nour program already takes that account so\n\n263\n00:15:15.390 --> 00:15:17.100\nwe shouldn't get any errors with that.\n\n264\n00:15:17.100 --> 00:15:20.200\nIt's a very simple process, tells you\nthis is more of like a buttoning up,\n\n265\n00:15:20.200 --> 00:15:24.830\na smaller piece of code for\nyou guys to spring board off of.\n\n266\n00:15:24.830 --> 00:15:27.170\nSo I'm just trying to\ngive you the framework.\n\n267\n00:15:28.960 --> 00:15:34.011\nWe'll take another read here,\n-p with Press Enter to Continue,\n\n268\n00:15:34.011 --> 00:15:37.540\ncuz you should know how\nmuch I love that stuff.\n\n269\n00:15:38.700 --> 00:15:43.140\nAnd then we will fire\nback with change name.\n\n270\n00:15:45.280 --> 00:15:48.250\nFinish that off with the ;; there.\n\n271\n00:15:48.250 --> 00:15:50.190\nThat piece should be done.\n\n272\n00:15:51.570 --> 00:15:54.040\nAt this point, I can jump in there.\n\n273\n00:15:54.040 --> 00:15:56.006\nI can test it and make sure it works.\n\n274\n00:15:56.006 --> 00:15:57.435\nI am gonna go ahead and\n\n275\n00:15:57.435 --> 00:16:01.572\ndo m and x, just because they're\nsuper easy for us to handle.\n\n276\n00:16:01.572 --> 00:16:08.197\nWanna get them out in the nowhere,\nthis is gonna go to the name_menu,\n\n277\n00:16:08.197 --> 00:16:12.930\ndouble semis and\nthis is gonna exit double semis.\n\n278\n00:16:12.930 --> 00:16:16.270\nAnd I think that's all\nI wanna do with that.\n\n279\n00:16:17.450 --> 00:16:20.260\nWhat else do I need to do,\nanything specific?\n\n280\n00:16:20.260 --> 00:16:22.985\nJust invalid option stuff here,\n\n281\n00:16:22.985 --> 00:16:27.470\njust like always tab that over,\nwe'll give it a echo.\n\n282\n00:16:27.470 --> 00:16:33.112\nAnd we'll just say\n\n283\n00:16:33.112 --> 00:16:40.880\nread -p Invalid Option.\n\n284\n00:16:40.880 --> 00:16:42.120\nPress ENTER to continue.\n\n285\n00:16:45.500 --> 00:16:47.370\nThat.\nIt's all good.\n\n286\n00:16:47.370 --> 00:16:50.952\nAnd then I should take this back to ch_.\n\n287\n00:16:50.952 --> 00:16:55.610\nFinish that off.\n\n288\n00:16:55.610 --> 00:16:58.710\nAll right, so everything is\ndone except for second option.\n\n289\n00:16:58.710 --> 00:17:02.300\nAnd if we don't put anything there,\nit won't work, even we're testing.\n\n290\n00:17:02.300 --> 00:17:04.040\nSo we need to put just\na little something there.\n\n291\n00:17:04.040 --> 00:17:09.680\nWe'll just say echo Option 2, and\nwe'll come back and fill that in too.\n\n292\n00:17:09.680 --> 00:17:12.380\nJust wanna make sure option one is\nactually working at this point in\n\n293\n00:17:12.380 --> 00:17:13.230\ntime, right?\n\n294\n00:17:13.230 --> 00:17:18.170\nSo that's good, I think that's, man,\n\n295\n00:17:18.170 --> 00:17:21.970\nmy hangers on, don't forget that.\n\n296\n00:17:21.970 --> 00:17:23.860\nGonna need that or it's not gonna work.\n\n297\n00:17:23.860 --> 00:17:25.200\nAlways forget them.\n\n298\n00:17:25.200 --> 00:17:27.670\nAll right, I think we're good Justin,\nlet's test what we got so\n\n299\n00:17:27.670 --> 00:17:32.240\nfar, and see if it works.\n\n300\n00:17:32.240 --> 00:17:39.576\nWe're going to, sudo ./acct-mgr.sh,\n\n301\n00:17:39.576 --> 00:17:42.870\nput in my password.\n\n302\n00:17:42.870 --> 00:17:45.190\nLooking good, go to option five.\n\n303\n00:17:45.190 --> 00:17:48.170\nExcellent so far, menu is working well.\n\n304\n00:17:48.170 --> 00:17:50.680\nNow let's see if we can change a username.\n\n305\n00:17:52.050 --> 00:17:55.030\nPut in one, enter,\nplease enter the username.\n\n306\n00:17:55.030 --> 00:17:58.240\nI have my test user, which is tlowrie.\n\n307\n00:17:58.240 --> 00:18:00.930\nPut that in, enter desired username,\nI will make it,\n\n308\n00:18:00.930 --> 00:18:05.618\nhow about we make it Bubble Gum.\n\n309\n00:18:05.618 --> 00:18:10.610\nBecause that's what everyone wants\ntheir username to be I'm sure it is.\n\n310\n00:18:10.610 --> 00:18:11.320\nThrow that in there.\n\n311\n00:18:11.320 --> 00:18:13.500\nPress Enter to continue.\n\n312\n00:18:13.500 --> 00:18:16.450\nAnd well,\nit looks like we may be done there.\n\n313\n00:18:16.450 --> 00:18:18.953\nAll we have to do now is\nactually check the thing.\n\n314\n00:18:18.953 --> 00:18:22.394\nAgain, you might want to add that\nfunctionality where I can test and see,\n\n315\n00:18:22.394 --> 00:18:24.630\nis it just declaring that\nthe name has changed?\n\n316\n00:18:24.630 --> 00:18:28.751\nWe got no functionality\nto make that assertion to\n\n317\n00:18:28.751 --> 00:18:31.580\nthe user where it's testing it?\n\n318\n00:18:31.580 --> 00:18:33.930\nSo, again I wanna leave you\nguys with that as homework.\n\n319\n00:18:33.930 --> 00:18:35.270\nGo out there and put that in there.\n\n320\n00:18:35.270 --> 00:18:36.870\nMake it do that.\n\n321\n00:18:36.870 --> 00:18:39.570\nGiving you you bare bones kind of stuff,\nokay?\n\n322\n00:18:39.570 --> 00:18:43.770\nSo, I can now, I can test main menu.\n\n323\n00:18:43.770 --> 00:18:45.990\nOop invalid option works\nbecause of fat finger, great.\n\n324\n00:18:45.990 --> 00:18:47.090\nThat's awesome.\n\n325\n00:18:47.090 --> 00:18:48.800\nI can try main menu.\n\n326\n00:18:48.800 --> 00:18:49.410\nThat works.\n\n327\n00:18:49.410 --> 00:18:51.910\nGo back and try lowercase m.\n\n328\n00:18:51.910 --> 00:18:53.220\nThat works.\n\n329\n00:18:53.220 --> 00:18:54.340\nI can try X.\n\n330\n00:18:56.470 --> 00:19:01.501\nWell, I'm at the main menu, so\nI hit no, I go back to five, hit X.\n\n331\n00:19:02.540 --> 00:19:03.170\nAnd that works.\n\n332\n00:19:03.170 --> 00:19:05.980\nSo everything seems to be working\npretty well, up to this point.\n\n333\n00:19:05.980 --> 00:19:09.380\nNow, I just need to add the logic\nto that second option that we have.\n\n334\n00:19:10.490 --> 00:19:11.400\nAll right.\n\n335\n00:19:11.400 --> 00:19:12.360\nI'll go back into nano.\n\n336\n00:19:12.360 --> 00:19:15.240\n&gt;&gt; Real quick, Daniel.\n\n337\n00:19:15.240 --> 00:19:16.860\nCould we look at the SC password file?\n\n338\n00:19:16.860 --> 00:19:20.290\nJust to confirm that that actually\ndidn't make that username change?\n\n339\n00:19:20.290 --> 00:19:21.605\n&gt;&gt; That's a good idea.\n\n340\n00:19:21.605 --> 00:19:22.189\n&gt;&gt; Yeah.\n\n341\n00:19:22.189 --> 00:19:25.477\n&gt;&gt; Testing the thing that you did\n[LAUGH] probably a good time there.\n\n342\n00:19:25.477 --> 00:19:26.690\nLet's see here.\n\n343\n00:19:26.690 --> 00:19:29.490\nMake it readable by our\nviewing audience and\n\n344\n00:19:29.490 --> 00:19:34.570\nwe'll say cat /etc/password-\nwe'll just look down here.\n\n345\n00:19:34.570 --> 00:19:36.120\nThere it is.\n\n346\n00:19:36.120 --> 00:19:38.970\nBubblegum has been changed, alright?\n\n347\n00:19:38.970 --> 00:19:41.720\nGot those lovely users in there.\n\n348\n00:19:41.720 --> 00:19:42.980\nAlright, so that's good.\n\n349\n00:19:42.980 --> 00:19:47.900\nThat means our first portion\nof the script works very well.\n\n350\n00:19:47.900 --> 00:19:51.700\nYou want that to give you some test\nconditions like echo that out,.\n\n351\n00:19:51.700 --> 00:19:54.120\nObviously you can do that very,\nvery easily.\n\n352\n00:19:54.120 --> 00:19:56.040\nAt least I hope you can\nat this point in time.\n\n353\n00:19:56.040 --> 00:19:57.669\nYou should be able to\nhammer that in there.\n\n354\n00:19:57.669 --> 00:19:59.610\nI'm gonna leave that to you.\n\n355\n00:19:59.610 --> 00:20:03.257\nBack in our code, let's go down,\nhammer out option number two.\n\n356\n00:20:03.257 --> 00:20:08.741\nGet that squared away Let's see here,\nlet's go in here and\n\n357\n00:20:08.741 --> 00:20:13.630\nwe will say, there we go Ctrl+V\nwe're in the wrong spot.\n\n358\n00:20:14.730 --> 00:20:15.910\nBring it back down.\n\n359\n00:20:17.490 --> 00:20:20.340\nThere we go change name tool,\nthat's where I'm looking for.\n\n360\n00:20:23.208 --> 00:20:24.150\nOkay number two.\n\n361\n00:20:24.150 --> 00:20:28.340\nLet's give you something other than\nan echo statement to work with.\n\n362\n00:20:28.340 --> 00:20:31.815\nEven though, oddly enough,\nI will be starting with echo.\n\n363\n00:20:31.815 --> 00:20:33.608\nAll right so let's go here,\n\n364\n00:20:33.608 --> 00:20:38.660\nwe've got to take in the name of\nthe person that you want to deal with.\n\n365\n00:20:38.660 --> 00:20:42.680\nSo we are going to,\nwe can just use the username again.\n\n366\n00:20:42.680 --> 00:20:48.340\nSo if you know the user because typically\nas IT people, at least in my experience,\n\n367\n00:20:48.340 --> 00:20:52.020\nwe deal with usernames and\nnot people's full names usually, right?\n\n368\n00:20:52.020 --> 00:20:56.643\nSo I'm just gonna take in that\nusername yet again, as our parameter.\n\n369\n00:20:56.643 --> 00:20:58.178\nre-p.\n\n370\n00:20:58.178 --> 00:21:03.410\nPlease enter the username, dot dot dot and\n\n371\n00:21:03.410 --> 00:21:07.340\nwe'll take and use the r, oop.\n\n372\n00:21:07.340 --> 00:21:11.539\nAnd then we will say, make sure,\njust give them a little,\n\n373\n00:21:11.539 --> 00:21:13.840\nis this what you kind of thing?\n\n374\n00:21:13.840 --> 00:21:19.290\nEcho use the r, it might be good for\nus in testing to\n\n375\n00:21:19.290 --> 00:21:23.100\nmake sure that that is what we're looking\nfor there's nothing crazy going on.\n\n376\n00:21:23.100 --> 00:21:25.400\nIt's always good to have that\nkind of stuff from time to time.\n\n377\n00:21:26.560 --> 00:21:32.620\nAnd then I will say let's get\nthe full name of that user okay?\n\n378\n00:21:32.620 --> 00:21:33.640\nMake sense?\n\n379\n00:21:33.640 --> 00:21:35.890\nSo we're just going to call\nit full underscore name.\n\n380\n00:21:37.110 --> 00:21:40.140\nThat's gonna equal,\nwell a bit of shenanigans.\n\n381\n00:21:40.140 --> 00:21:46.230\nThis should be very familiarish from\nthat user add, portion that we did.\n\n382\n00:21:46.230 --> 00:21:47.385\nThe adding and removing these.\n\n383\n00:21:47.385 --> 00:21:49.210\nBecause we're kind of\ndoing the same thing.\n\n384\n00:21:49.210 --> 00:21:53.400\nWe're reaching in, looking for\na specific string of text.\n\n385\n00:21:53.400 --> 00:21:55.360\nMake that into its own field.\n\n386\n00:21:55.360 --> 00:21:57.700\nAnd then, we're gonna break it up and\nmanipulate it, okay?\n\n387\n00:21:58.760 --> 00:22:03.680\nSo, here we go, we will do a grip and\n\n388\n00:22:03.680 --> 00:22:09.630\nwe want to look for that specific user so\nsay, UZR like that.\n\n389\n00:22:10.860 --> 00:22:16.609\nAnd this is where I had overlooked\nthe fact that everything in that field and\n\n390\n00:22:16.609 --> 00:22:20.274\nwhen grip grabs this,\nit's going to look for.\n\n391\n00:22:20.274 --> 00:22:22.060\nThat thing that I put in there right?\n\n392\n00:22:22.060 --> 00:22:24.262\nSo if username is bubblegum that's great,\n\n393\n00:22:24.262 --> 00:22:26.826\nit finds bubblegum brings it back,\nthere it is.\n\n394\n00:22:26.826 --> 00:22:31.879\nThat UZR variable equals bubblegum.\n\n395\n00:22:31.879 --> 00:22:35.170\nWhat if I had bubblegum2 and bubblegum3\nand they were users as well, right?\n\n396\n00:22:35.170 --> 00:22:38.210\nWe do see this more often with the.\n\n397\n00:22:38.210 --> 00:22:42.700\nIf I was using just first names, but there\nmight be two Daniels in the system, right?\n\n398\n00:22:42.700 --> 00:22:46.670\nThere might be a Dan and a Daniel, and\nit would pull both of those back, right?\n\n399\n00:22:46.670 --> 00:22:50.180\nAnd it would affect both of those,\nor it would try to anyway.\n\n400\n00:22:50.180 --> 00:22:52.660\nSo I did not make account for\nthat in my previous episode.\n\n401\n00:22:52.660 --> 00:22:53.880\nAgain, putting a rabbit in there.\n\n402\n00:22:53.880 --> 00:22:57.060\nThank you, Rick, for\npointing that out to us.\n\n403\n00:22:57.060 --> 00:23:00.560\nSo I'm gonna add this on the end,\nletting it know it should be username and\n\n404\n00:23:00.560 --> 00:23:04.130\nthen a colon, that's one big string, okay?\n\n405\n00:23:04.130 --> 00:23:08.730\nSo now it should just find\nDon instead of Donny, right?\n\n406\n00:23:08.730 --> 00:23:15.950\nDan instead of Daniel, dlowrie and\ndlo, aren't the same thing, all right?\n\n407\n00:23:15.950 --> 00:23:18.965\nAnd if I just did that, so it was\na good catch, and we appreciate that.\n\n408\n00:23:18.965 --> 00:23:21.960\nBecause God knows I'm not\nthe perfect programmer, that's for\n\n409\n00:23:21.960 --> 00:23:23.800\nsure and we all make mistakes.\n\n410\n00:23:23.800 --> 00:23:26.330\nJust never done that.\n\n411\n00:23:26.330 --> 00:23:27.320\n[LAUGH]\n&gt;&gt; Today?\n\n412\n00:23:27.320 --> 00:23:31.430\nOr, yeah probably like two other times\ntoday, couple of times yesterday.\n\n413\n00:23:31.430 --> 00:23:35.215\nAnd these things happen, and\nsometimes it's very hard.\n\n414\n00:23:35.215 --> 00:23:37.643\nDaniel and\nI are actually talking about this,\n\n415\n00:23:37.643 --> 00:23:40.454\nit's very hard to see these\nedge cases a lot of times.\n\n416\n00:23:40.454 --> 00:23:45.050\nBecause when I've had usernames assigned\nto me or when I've had to manage some of\n\n417\n00:23:45.050 --> 00:23:49.441\nthat, I am by no means a sys ad, but\nwhen I've had to manage things like that,\n\n418\n00:23:49.441 --> 00:23:53.903\nwe've always had a very consistent policy\nabout how to construct a username,\n\n419\n00:23:53.903 --> 00:23:56.701\nto hopefully reduce name\ncollisions like this.\n\n420\n00:23:56.701 --> 00:24:00.629\nBut if you go by first name,\nthere may be a Dan and a Daniel.\n\n421\n00:24:00.629 --> 00:24:02.521\nA Justin and another Justin.\n\n422\n00:24:02.521 --> 00:24:04.139\nAnd well, how do you now make that other\n\n423\n00:24:04.139 --> 00:24:05.500\nJustin-\n&gt;&gt; Unique.\n\n424\n00:24:05.500 --> 00:24:06.370\n&gt;&gt; Unique?\n\n425\n00:24:06.370 --> 00:24:07.820\nWe're going to add his middle initial.\n\n426\n00:24:07.820 --> 00:24:08.530\nYeah, but if you look for\n\n427\n00:24:08.530 --> 00:24:12.220\nJustin, we're actually going to\nget Justin and Justin D, right?\n\n428\n00:24:12.220 --> 00:24:14.990\nSo [SOUND]-\n&gt;&gt; It was a good catch.\n\n429\n00:24:14.990 --> 00:24:16.020\n&gt;&gt; Those things happen, and\n\n430\n00:24:16.020 --> 00:24:19.750\na lot of times, those edge cases\narise when you get bit by them.\n\n431\n00:24:19.750 --> 00:24:21.790\nYou go, yeah, I didn't think of that,\n\n432\n00:24:21.790 --> 00:24:25.640\nthat's fine, these things are always\nkind of evolving and progressing.\n\n433\n00:24:25.640 --> 00:24:30.240\nCome back to them, make them better,\nthat is actually a lot of programming.\n\n434\n00:24:30.240 --> 00:24:32.320\nWe're never \"done\" right?\n\n435\n00:24:32.320 --> 00:24:36.280\nSo we're \"done\" after this feature,\nbut it's not really done.\n\n436\n00:24:36.280 --> 00:24:39.010\n&gt;&gt; What do they say?\nIt's a journey, not a destination, right?\n\n437\n00:24:39.010 --> 00:24:42.360\nThere's always something else you can\ndo to make it a little bit better.\n\n438\n00:24:42.360 --> 00:24:46.390\nSomething new comes out, some idea,\nsomething you didn't account for.\n\n439\n00:24:46.390 --> 00:24:48.860\nAnd again, as I'll reiterate yet again,\n\n440\n00:24:48.860 --> 00:24:51.740\nkind of the purpose of\nthis piece of the module,\n\n441\n00:24:51.740 --> 00:24:56.220\nis I just want to give you a basic\nframework on which to springboard off of.\n\n442\n00:24:56.220 --> 00:24:57.650\nAnd start going you know what?\n\n443\n00:24:57.650 --> 00:24:59.800\nI bet I could do this.\n\n444\n00:24:59.800 --> 00:25:03.510\nI bet this would make this work a whole\nlot better in my environment or for me and\n\n445\n00:25:03.510 --> 00:25:04.310\nthe way I think.\n\n446\n00:25:04.310 --> 00:25:08.130\nAnd the way my users think about things.\n\n447\n00:25:08.130 --> 00:25:09.100\nYou know that kind of stuff.\n\n448\n00:25:09.100 --> 00:25:12.770\nSo that's why I'm trying to keep\nit down to a bit of a minimum.\n\n449\n00:25:12.770 --> 00:25:15.340\nWe probably will get into\na second part here because\n\n450\n00:25:15.340 --> 00:25:17.720\nI'm looking at the clock we\nhaven't got much time left.\n\n451\n00:25:17.720 --> 00:25:20.410\nBut let's crank out\nthis full name portion.\n\n452\n00:25:20.410 --> 00:25:23.170\nI think that'll be a good place for\nus to stop after that.\n\n453\n00:25:23.170 --> 00:25:27.190\nAnd then we'll come back, finish it up,\ntest it out, make sure everything works.\n\n454\n00:25:27.190 --> 00:25:30.360\nAnd call it a day on this user\naccount management thing, all right?\n\n455\n00:25:30.360 --> 00:25:31.360\nSo let's finish this up.\n\n456\n00:25:31.360 --> 00:25:33.140\nWe've grip the user.\n\n457\n00:25:33.140 --> 00:25:35.265\nThis sounds like grip the user.\n\n458\n00:25:35.265 --> 00:25:38.260\n&gt;&gt; [LAUGH] So\nshould that be dollar sign user?\n\n459\n00:25:38.260 --> 00:25:38.810\n&gt;&gt; Thank you sir.\n\n460\n00:25:38.810 --> 00:25:40.770\nYou are absolutely correct.\n\n461\n00:25:40.770 --> 00:25:44.220\nGot so enamored with adding that\nportion about adding the colon,\n\n462\n00:25:44.220 --> 00:25:46.190\nI totally forgot my dollar sign.\n\n463\n00:25:46.190 --> 00:25:47.000\nHey, hey, hey, what can you do?\n\n464\n00:25:47.000 --> 00:25:50.125\nGive a syntax error and\ngo back and fix it.\n\n465\n00:25:50.125 --> 00:25:52.100\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, let's pipe that into,\n\n466\n00:25:52.100 --> 00:25:54.580\nI think I've got everything I need there.\n\n467\n00:25:55.620 --> 00:25:58.820\nWe need the file, don't forget that.\n\n468\n00:25:58.820 --> 00:26:03.681\nEtc password, type that into,\nwe're going to use gawk.\n\n469\n00:26:03.681 --> 00:26:07.818\nAnd we're going to field\nseparation dash f of the colon, so\n\n470\n00:26:07.818 --> 00:26:10.790\nthat we can break this up\nin the way we like it.\n\n471\n00:26:10.790 --> 00:26:16.370\nAnd we'll say, print, and we will need,\nI believe, let me check it,\n\n472\n00:26:16.370 --> 00:26:21.900\nyeah, it is field number five will\nhold the full name of the user.\n\n473\n00:26:21.900 --> 00:26:25.720\nAt least on my system,\nthat's how I have it set up, okay?\n\n474\n00:26:25.720 --> 00:26:28.020\nIt's probably the same for\nyou but maybe it's different.\n\n475\n00:26:28.020 --> 00:26:33.010\nJust go in and check your syntax,\ncheck your awk command or gawk command or\n\n476\n00:26:33.010 --> 00:26:34.320\nwhatever awk version you're using.\n\n477\n00:26:34.320 --> 00:26:36.970\nAnd see if you actually get\nexactly what you're looking for.\n\n478\n00:26:36.970 --> 00:26:39.010\nIt's always good to test\nthese things before hand.\n\n479\n00:26:39.010 --> 00:26:43.230\nBut I'm pretty sure because I've\ndone this before, it'll be $5.\n\n480\n00:26:43.230 --> 00:26:48.790\nHammer that out, close that up, and then\nI'm just going to use cuts, because if\n\n481\n00:26:48.790 --> 00:26:54.500\nI'm not mistaken, there is some trailing\ncommas that I just want to leave that off.\n\n482\n00:26:54.500 --> 00:26:58.840\nBecause it's going to be a part of that\nfield, so I'm going to cut those guys out.\n\n483\n00:26:58.840 --> 00:27:00.570\nSo cut -d.\n\n484\n00:27:00.570 --> 00:27:06.760\nThat's where that came from, and I'm going\nto make it a sys and then just dash F1.\n\n485\n00:27:06.760 --> 00:27:10.670\nSo it's very similar to what gawk\nis doing with making some fields.\n\n486\n00:27:10.670 --> 00:27:13.830\nAgain, just throwing you some different\noptions that you can work with.\n\n487\n00:27:13.830 --> 00:27:18.830\nGive you as much knowledge as I've\ngot anyway, to push you guys forward.\n\n488\n00:27:18.830 --> 00:27:23.480\nSo cut is looking for these and\nanything separated by them, so\n\n489\n00:27:23.480 --> 00:27:28.040\nwe're saying the limits,\nthat's the -d by comma.\n\n490\n00:27:28.040 --> 00:27:31.797\nWell, this output right\nhere from here to here will\n\n491\n00:27:31.797 --> 00:27:35.780\ngive me Daniel Lowrie comma comma comma.\n\n492\n00:27:35.780 --> 00:27:40.590\nSo that first field is Daniel Lowrie\nif I make commas to field the limiter.\n\n493\n00:27:40.590 --> 00:27:44.520\nSo, now I'm grabbing field one and\nthat's what's going on.\n\n494\n00:27:45.980 --> 00:27:50.320\nAll right close that, no,\nI don't need that, I need this.\n\n495\n00:27:50.320 --> 00:27:52.230\nI think that will do it.\n\n496\n00:27:52.230 --> 00:27:57.936\nI'm going to just swipe that,\nmake sure we're going to cut that out,\n\n497\n00:27:57.936 --> 00:28:03.250\ncopy it or should I say,\ncontrol alt T, get me a prompt here.\n\n498\n00:28:03.250 --> 00:28:09.310\nI'm just going to paste it in at my\nusername instead of the, of that.\n\n499\n00:28:09.310 --> 00:28:12.070\nLet's see, yeah D Lowrie.\n\n500\n00:28:12.070 --> 00:28:13.170\nLet's see if it pulls back.\n\n501\n00:28:13.170 --> 00:28:14.575\nPerfect.\nSo I'm getting my name,\n\n502\n00:28:14.575 --> 00:28:16.450\nI've verified that that\nstring is going to work.\n\n503\n00:28:16.450 --> 00:28:18.910\nAnd again,\nI think this is a good stopping spot.\n\n504\n00:28:18.910 --> 00:28:21.150\nThat string is working for us.\n\n505\n00:28:21.150 --> 00:28:24.070\nNow we'll come back in a part two and\nwe'll put the rest of the buttons and\n\n506\n00:28:24.070 --> 00:28:26.080\nstuff on this thing and\nget it finished up.\n\n507\n00:28:26.080 --> 00:28:29.520\n&gt;&gt; So Daniel, I got this strong\ninkling feeling that this seems like\n\n508\n00:28:29.520 --> 00:28:31.070\nthis is going to be straightforward, but\n\n509\n00:28:31.070 --> 00:28:34.880\nthere's a little more to it\nthan I originally thought.\n\n510\n00:28:34.880 --> 00:28:38.190\nSo definitely stay tuned so\nwe can see how this all comes to fruition,\n\n511\n00:28:38.190 --> 00:28:42.260\nthat kind of cherry on top,\nif you will, of the account management.\n\n512\n00:28:42.260 --> 00:28:44.760\nBut for this episode,\nwe're going to go ahead and wrap it up.\n\n513\n00:28:44.760 --> 00:28:48.060\nSo signing off for ITProTV,\nI've been your host Justin Dennison.\n\n514\n00:28:48.060 --> 00:28:48.883\n&gt;&gt; And I'm Daniel Lowrie.\n\n515\n00:28:48.883 --> 00:28:51.074\n&gt;&gt; And we'll see you next time.\n\n516\n00:28:51.074 --> 00:28:56.962\n[MUSIC]\n\n517\n00:28:56.962 --> 00:29:00.109\nThank you for watching ITProTV.\n\n",
          "vimeoId": "239457369"
        },
        {
          "description": "In this episode, Daniel and Justin put the finishing touches on their \"Change Username\" tool. Here they will add the ability to change the user's first and/or last names if the need should arise.",
          "length": "1742",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-6-2-user_account_manager_change_username_pt_2-102017-PGM.00_28_49_05.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-6-2-user_account_manager_change_username_pt_2-102017-PGM.00_28_49_05.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-1-6-2-user_account_manager_change_username_pt_2-102017-PGM.00_28_49_05.Still001-sm.jpg",
          "title": "User Account Manager Change Username Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.003 --> 00:00:01.376\nWelcome to ITVPro.TV.\n\n2\n00:00:01.376 --> 00:00:07.208\n[CROSSTALK]\n\n3\n00:00:07.208 --> 00:00:10.867\n&gt;&gt; You're watching ITPro.TV.\n\n4\n00:00:10.867 --> 00:00:15.683\n&gt;&gt; Greetings everyone, and welcome back\nto another exciting episode of ITPro.TV.\n\n5\n00:00:15.683 --> 00:00:18.987\nI'm your host Justin Dennison, and\nwe're back for the part two on\n\n6\n00:00:18.987 --> 00:00:22.350\nchanging user names as part of our\naccount user management script or\n\n7\n00:00:22.350 --> 00:00:26.126\nour account management system and\nhere to help us along, kinda finish out,\n\n8\n00:00:26.126 --> 00:00:28.620\nput the sprinkles on top,\nis Mr. Daniel Lowrie.\n\n9\n00:00:28.620 --> 00:00:29.680\nHow you doing to day, Daniel?\n\n10\n00:00:29.680 --> 00:00:33.050\n&gt;&gt; Doing fantastic, sir, glad to be back\nin the studio here with you good folks.\n\n11\n00:00:33.050 --> 00:00:36.652\nAnd continuing on with our changing\nour username, that's right.\n\n12\n00:00:36.652 --> 00:00:40.595\nWe left off with a bit of a cliffhanger,\nwe did make something work.\n\n13\n00:00:40.595 --> 00:00:45.562\nWe did tested and it did work, but now\nthat we have basically retrieving the full\n\n14\n00:00:45.562 --> 00:00:49.271\nname of a user, now we've gotta\ncontinue down that road and\n\n15\n00:00:49.271 --> 00:00:52.536\nmake some more changes,\nstart chopping things up so\n\n16\n00:00:52.536 --> 00:00:57.200\nthat we can manipulate said thing and\ndo some actual name changing.\n\n17\n00:00:57.200 --> 00:00:58.200\nSo that's where we're at.\n\n18\n00:00:58.200 --> 00:01:02.780\nWe can dispense with the pleasantries and\nget right back into it.\n\n19\n00:01:02.780 --> 00:01:04.234\nLet's look at our code, right.\n\n20\n00:01:04.234 --> 00:01:06.694\nSo here's where we left\nus was this full name.\n\n21\n00:01:06.694 --> 00:01:11.064\nWe're creating this variable\nspecifically to grab that full name.\n\n22\n00:01:11.064 --> 00:01:17.050\nAnd in my environment I needed to do\nthis string of commands right here.\n\n23\n00:01:17.050 --> 00:01:19.544\nPiping and piping and piping my, right.\n\n24\n00:01:19.544 --> 00:01:24.109\nVerified that that worked and now that I\nhave that username, that user's full name\n\n25\n00:01:24.109 --> 00:01:29.016\ninto a variable, I can start working with\nthat variable, right, making some changes.\n\n26\n00:01:29.016 --> 00:01:32.964\nAlright, so what do I want to do next?\n\n27\n00:01:32.964 --> 00:01:37.314\nNow that we have that, maybe I'll again,\niterate that to our user,\n\n28\n00:01:37.314 --> 00:01:40.174\nletting them know they\ngot the correct name.\n\n29\n00:01:40.174 --> 00:01:44.621\nRight, let's do that we'll say,\n\n30\n00:01:44.621 --> 00:01:49.215\necho give it some flare, right, and\n\n31\n00:01:49.215 --> 00:01:54.702\nwe'll say the current full name associated\n\n32\n00:01:54.702 --> 00:01:59.595\nwith dollar sign user, dollar sign UZR\n\n33\n00:01:59.595 --> 00:02:04.782\nis colon and then what is it's full name,\n\n34\n00:02:04.782 --> 00:02:09.251\ndollar sign full underscore name.\n\n35\n00:02:09.251 --> 00:02:11.650\nIt looks good to me, I like it.\n\n36\n00:02:11.650 --> 00:02:15.250\nThat being said I might go take this echo\nuser out, I think that was for testing.\n\n37\n00:02:16.360 --> 00:02:20.890\nI like to verify things a lot but I think\nit's superfluous if I'm adding this line\n\n38\n00:02:20.890 --> 00:02:22.720\ncuz it's kinda doing that all together.\n\n39\n00:02:24.190 --> 00:02:25.940\nGet two for one sale,\nright, I always like that.\n\n40\n00:02:27.610 --> 00:02:30.112\nPull that down, tab back over.\n\n41\n00:02:30.112 --> 00:02:34.612\nAfter that, we'll want to,\nwe need to take that full name and\n\n42\n00:02:34.612 --> 00:02:40.151\nchop it into two because, and do like\na first and a last name, because we've\n\n43\n00:02:40.151 --> 00:02:45.891\ngotta take into account not everybody's\nchanging both first and last names.\n\n44\n00:02:45.891 --> 00:02:49.275\nThey may have just gotten married and\nadding last name or\n\n45\n00:02:49.275 --> 00:02:52.960\nchanging their last name,\nso wanna change that.\n\n46\n00:02:52.960 --> 00:02:53.640\nI just want to change it.\n\n47\n00:02:53.640 --> 00:02:54.673\nI don't wanna change their first name.\n\n48\n00:02:54.673 --> 00:02:56.450\nThey didn't change their first name.\n\n49\n00:02:56.450 --> 00:02:58.530\nSo if I'm just grabbing the full name,\n\n50\n00:02:58.530 --> 00:03:02.940\nthat's gonna mean I would have to\ntype in a full name every time.\n\n51\n00:03:02.940 --> 00:03:08.724\nAnd just a bit of a tweak,\nto me it's a good idea.\n\n52\n00:03:08.724 --> 00:03:12.202\nI wanna make it to where I can\njust do one or the other or so on.\n\n53\n00:03:12.202 --> 00:03:14.319\nSo let's do that.\n\n54\n00:03:14.319 --> 00:03:19.333\nLet's say I'm going to do\na first name as a variable and\n\n55\n00:03:19.333 --> 00:03:24.350\nI'm going to say the last\nname as a variable like that.\n\n56\n00:03:26.020 --> 00:03:31.162\nAlso, the first name equals and\nthen what we're going to need to do is\n\n57\n00:03:31.162 --> 00:03:36.853\nbasically echo that full name into Gauk\nand let it do some separating for us.\n\n58\n00:03:36.853 --> 00:03:41.726\nAlright?\nSo I'm going to say echo Full name,\n\n59\n00:03:41.726 --> 00:03:48.510\n$Full_Name and\nwe'll say I pipe that into gawk,\n\n60\n00:03:48.510 --> 00:03:52.630\nstart the old print function.\n\n61\n00:03:52.630 --> 00:03:59.531\nAnd since this is first name,\nwe will need $1, that should be right.\n\n62\n00:03:59.531 --> 00:04:04.098\nAnd close that out, I always have hard\ntime finding the single quote mark,\n\n63\n00:04:04.098 --> 00:04:05.420\nI don't know why?\n\n64\n00:04:05.420 --> 00:04:09.357\n&gt;&gt; Well, if you were super lazy like I\nalso in languages where it doesn't matter\n\n65\n00:04:09.357 --> 00:04:12.931\nwhether I use a double or single quotes,\nI don't wanna hold shift, so\n\n66\n00:04:12.931 --> 00:04:15.961\nI've trained my pinkie to hit\n[SOUND] with single quotes, so\n\n67\n00:04:15.961 --> 00:04:19.075\nit's just a matter of experience and\npreference, I guess.\n\n68\n00:04:19.075 --> 00:04:21.043\n&gt;&gt; Yeah, yeah, it's, I don't know why,\n\n69\n00:04:21.043 --> 00:04:23.985\nit's one of those things\nthat's always where's it at?\n\n70\n00:04:23.985 --> 00:04:25.860\nI always wanna go to the top row.\n\n71\n00:04:25.860 --> 00:04:28.560\nI digress, let's go back to the code,\nlet's finish this out.\n\n72\n00:04:28.560 --> 00:04:30.204\nClose out our thing.\n\n73\n00:04:30.204 --> 00:04:32.930\nI forget it at the beginning, look at me.\n\n74\n00:04:32.930 --> 00:04:36.530\nAlways keeping an eye on your code cuz you\nnever when you're gonna make that mistake,\n\n75\n00:04:36.530 --> 00:04:40.650\ndon't forget the dollar sign as well,\nbecause that's full command substitution.\n\n76\n00:04:40.650 --> 00:04:41.280\n&gt;&gt; Now, dang it, then we do,\n\n77\n00:04:41.280 --> 00:04:43.830\nwe actually need those double\nquotes in front of the echo there?\n\n78\n00:04:43.830 --> 00:04:45.065\n&gt;&gt; Thank you, thank you sir,\n\n79\n00:04:45.065 --> 00:04:48.619\nthat I think I'll probably hit double\nquotes instead of my open parentheses.\n\n80\n00:04:48.619 --> 00:04:52.181\nWhen you get so used to doing, I'm just\nbounding stuff up, double quote says that,\n\n81\n00:04:52.181 --> 00:04:55.607\nyeah, except when you're doing command\nsubstitution, doesn't work there.\n\n82\n00:04:55.607 --> 00:04:57.016\nI thank you, good catch there.\n\n83\n00:04:57.016 --> 00:04:59.788\nAll right,\nlet's do the same thing as last time,\n\n84\n00:04:59.788 --> 00:05:02.442\njust kinda of reverse\nthe process a little bit.\n\n85\n00:05:02.442 --> 00:05:06.705\n= ./ open that up echo : $Full _ Name and\n\n86\n00:05:06.705 --> 00:05:10.750\npipe that to gauk and we will print it's.\n\n87\n00:05:10.750 --> 00:05:14.948\nLook I was searching for the single quote\nagain, I'm over here going where are you?\n\n88\n00:05:14.948 --> 00:05:15.793\n&gt;&gt; [LAUGH]\n&gt;&gt; Where are you?\n\n89\n00:05:15.793 --> 00:05:18.350\n&gt;&gt; [LAUGH]\n&gt;&gt; It's there, don't be an idiot Daniel.\n\n90\n00:05:18.350 --> 00:05:23.120\nPrints dollar sign two, like that.\n\n91\n00:05:23.120 --> 00:05:26.820\nAnd close it, single quotes,\nclose parentheses.\n\n92\n00:05:26.820 --> 00:05:28.210\nThink should be good to go,\n\n93\n00:05:28.210 --> 00:05:32.260\nwe should now have successfully\nchopped this to first and last name.\n\n94\n00:05:34.110 --> 00:05:39.390\nI could test it, probably a good idea if\nyou were writing this from the outset, not\n\n95\n00:05:39.390 --> 00:05:42.240\nknowing whether or not it would work, or\njust wanting to verify that it would work.\n\n96\n00:05:42.240 --> 00:05:45.050\nJust go in there and\necho first name, echo last name,\n\n97\n00:05:45.050 --> 00:05:47.950\nand see if it comes out\nwith what you're expecting.\n\n98\n00:05:47.950 --> 00:05:49.730\nNow back, to the drawing board.\n\n99\n00:05:49.730 --> 00:05:52.690\nBut I know this is going to work cuz\nI've actually already done this.\n\n100\n00:05:52.690 --> 00:05:55.830\nSo [LAUGH] moving on.\n\n101\n00:05:55.830 --> 00:06:02.660\nLet's see, now that we have that I need to\nget some more input from the user, right?\n\n102\n00:06:02.660 --> 00:06:07.500\nI want to say, I want to change the first\nname or the last name or not do any\n\n103\n00:06:07.500 --> 00:06:13.280\nchanging at all, maybe I got into this and\nsaid, this is the wrong user.\n\n104\n00:06:13.280 --> 00:06:14.390\nSomething like that.\n\n105\n00:06:14.390 --> 00:06:17.010\nJust want to get back out, so\nI'm gonna give those three options.\n\n106\n00:06:18.720 --> 00:06:23.041\nAnd I'm actually gonna deviate from\nmy standard menuing system and\n\n107\n00:06:23.041 --> 00:06:26.310\nI'm gonna make this more inline for\nthis purpose.\n\n108\n00:06:26.310 --> 00:06:31.854\nSo I'll basically do a read cuz\n\n109\n00:06:31.854 --> 00:06:38.038\nI need information from my user and\n\n110\n00:06:38.038 --> 00:06:42.304\nsay change like this and\n\n111\n00:06:42.304 --> 00:06:46.995\nI'll put one first name,\n\n112\n00:06:46.995 --> 00:06:52.752\ntwo last name, or three none and\n\n113\n00:06:52.752 --> 00:06:56.818\nI think that's good.\n\n114\n00:06:56.818 --> 00:06:58.959\nThere we go, dot dot dot.\n\n115\n00:06:58.959 --> 00:07:01.670\nGive me the prompts.\n\n116\n00:07:01.670 --> 00:07:03.052\nI think that should be good to go.\n\n117\n00:07:03.052 --> 00:07:08.194\nAnd I'll call this fname option for\nfull name or full name option.\n\n118\n00:07:08.194 --> 00:07:11.045\nI'll just go fname_opt.\n\n119\n00:07:11.045 --> 00:07:13.264\nLike that.\n\n120\n00:07:13.264 --> 00:07:16.494\nEnough to remind me of what's going on.\n\n121\n00:07:19.420 --> 00:07:23.367\nI think all that looks good.\n\n122\n00:07:23.367 --> 00:07:26.520\nNow, we're just going to\nthrow a case statement at it.\n\n123\n00:07:26.520 --> 00:07:27.509\n&gt;&gt; Now Daniel, I do have a quick question.\n\n124\n00:07:27.509 --> 00:07:30.340\nEven though you deviated here,\nif we're using a read like this,\n\n125\n00:07:30.340 --> 00:07:33.587\ncan we separate into multiple lines and\nstill keep them in your statement?\n\n126\n00:07:33.587 --> 00:07:38.167\nEven though it's not going to be pretty in\nthe code, if we wanted to have different,\n\n127\n00:07:38.167 --> 00:07:42.488\nkind of different lines for this options,\ncan I use a read statement to do that or\n\n128\n00:07:42.488 --> 00:07:44.896\nwould it be better to echo and\nthen do a read?\n\n129\n00:07:44.896 --> 00:07:46.678\n&gt;&gt; I would probably do an echo and\n\n130\n00:07:46.678 --> 00:07:50.670\nthen a read just because that's\nhow I traditionally done things,\n\n131\n00:07:50.670 --> 00:07:55.670\nI never actually explored the idea of\nmaking a multiple lines, guess what?\n\n132\n00:07:55.670 --> 00:07:57.880\nWe can try.\nLet's do it, let's see what happens.\n\n133\n00:07:57.880 --> 00:08:02.265\nThat's because don't be afraid to\ngo tacky, tacky, tacky, save, exit,\n\n134\n00:08:02.265 --> 00:08:03.958\nrun Let's see what happens.\n\n135\n00:08:03.958 --> 00:08:06.199\nIt's not the end of the world\nif it doesn't work.\n\n136\n00:08:06.199 --> 00:08:10.060\nAt least you know,\nyou have a learning experience.\n\n137\n00:08:10.060 --> 00:08:14.040\nAnd if it does work, you've grown, right?\n\n138\n00:08:14.040 --> 00:08:15.580\nYou've grown your expansions.\n\n139\n00:08:15.580 --> 00:08:16.470\nSo let's do it, let's try it.\n\n140\n00:08:16.470 --> 00:08:23.490\nLet's see if it works much\nlike we get with this.\n\n141\n00:08:23.490 --> 00:08:26.840\nSo change name, this will do.\n\n142\n00:08:26.840 --> 00:08:29.150\nI'll do it like our echo statement.\n\n143\n00:08:29.150 --> 00:08:34.987\nTry Change Name Options,\n\n144\n00:08:34.987 --> 00:08:40.558\nand say 1) First Name,\n\n145\n00:08:40.558 --> 00:08:47.467\n2) Last Name, or 3) None.\n\n146\n00:08:50.251 --> 00:08:51.960\nAnd I think that's\nthe all options we have.\n\n147\n00:08:51.960 --> 00:08:54.633\nYeah, three options and\n\n148\n00:08:54.633 --> 00:08:59.604\nwe'll try just like I\ndo the echo statements.\n\n149\n00:08:59.604 --> 00:09:04.119\nBring that down to the end,\ndoesn't need a variable, so\n\n150\n00:09:04.119 --> 00:09:09.873\nmaybe something after that, so\nour variable name which is fname_opt.\n\n151\n00:09:09.873 --> 00:09:14.254\nAll right, this will be interesting,\n\n152\n00:09:14.254 --> 00:09:17.851\nthen I will echo $fname_opt.\n\n153\n00:09:17.851 --> 00:09:20.908\nThis is all testing out, we are in\nuncharted waters, ladies and gentlemen,\n\n154\n00:09:20.908 --> 00:09:21.809\nthis is not scripted.\n\n155\n00:09:21.809 --> 00:09:24.490\nJustin had a legitimate question,\nI don't know.\n\n156\n00:09:24.490 --> 00:09:26.770\nSo we're gonna try and\nsee, see what happens.\n\n157\n00:09:28.000 --> 00:09:35.460\nThis would be my guess on how this\nwould work, but who knows, here we go.\n\n158\n00:09:35.460 --> 00:09:39.510\nLet's fire it off Ctrl+O,\n\n159\n00:09:39.510 --> 00:09:46.940\nCtrl+X .sudo ./acct.mgr2.sh [INAUDIBLE] s,\n\n160\n00:09:46.940 --> 00:09:53.540\nhere we go code isn't broken yet,\nall right?\n\n161\n00:09:53.540 --> 00:09:55.910\nWell, maybe we just haven't\ngot to that portion.\n\n162\n00:09:55.910 --> 00:09:58.290\nLet's go to file, change the username.\n\n163\n00:09:58.290 --> 00:09:59.900\nWe're gonna go to 2, change the full name.\n\n164\n00:09:59.900 --> 00:10:03.552\nPlease enter a username,\nwhich is bubblegum, I think, at this time.\n\n165\n00:10:03.552 --> 00:10:07.910\n[LAUGH] Hey, look at that.\n\n166\n00:10:07.910 --> 00:10:09.170\nWe do have that ability.\n\n167\n00:10:09.170 --> 00:10:11.050\nVery cool, I learned something,\nJustine learned something,\n\n168\n00:10:11.050 --> 00:10:12.380\nyou guys learned something.\n\n169\n00:10:12.380 --> 00:10:16.540\nNow, if we wanna continue in that format,\nwe can just use our read commands,\n\n170\n00:10:16.540 --> 00:10:19.220\nactually, even start saving\nourselves some coding effort when\n\n171\n00:10:19.220 --> 00:10:21.660\nit comes to building these menus and\njust do it right off a read.\n\n172\n00:10:21.660 --> 00:10:23.770\nAnd now that I know that\nI'm gonna start doing it.\n\n173\n00:10:23.770 --> 00:10:27.060\n&gt;&gt; And I would recommend that\nas long as they're small,\n\n174\n00:10:27.060 --> 00:10:29.060\na few options like this, that's fine.\n\n175\n00:10:29.060 --> 00:10:32.610\nIf you have a bunch of options and you\nneed to do another, I probably wouldn't do\n\n176\n00:10:32.610 --> 00:10:37.290\nan inline read statement because I will\ntell you somewhere where you meet,\n\n177\n00:10:37.290 --> 00:10:41.310\nwe would all mess up, forgetting to put\nwhat we're reading in to at the end.\n\n178\n00:10:41.310 --> 00:10:42.960\n&gt;&gt; Yeah.\n&gt;&gt; Because you're gonna do read dash p,\n\n179\n00:10:42.960 --> 00:10:48.270\nhere's my blah blah, and then forget\nthat variable and you're gonna go no.\n\n180\n00:10:48.270 --> 00:10:51.800\nWe could use what does the dollar sign\nreply as the last read and go and\n\n181\n00:10:51.800 --> 00:10:52.960\ncapture that.\n\n182\n00:10:52.960 --> 00:10:56.620\nBut again, stay consistent in\nwhatever your practice is.\n\n183\n00:10:56.620 --> 00:10:59.620\nPick a convention, stay with it, just so\n\n184\n00:10:59.620 --> 00:11:01.680\nit's gonna help you debug\nif something arises.\n\n185\n00:11:01.680 --> 00:11:05.480\nSo a few options,\nI always say, that's great.\n\n186\n00:11:05.480 --> 00:11:07.360\nBeyond that, I would be wary about it.\n\n187\n00:11:07.360 --> 00:11:11.300\n&gt;&gt; Yeah, and now all we have to do is\ntry an option here and see what happens.\n\n188\n00:11:11.300 --> 00:11:12.080\nAnd it echoed it out.\n\n189\n00:11:12.080 --> 00:11:12.760\nSo perfect.\n\n190\n00:11:12.760 --> 00:11:16.170\nIt is working in the way\nthat we expect it to work.\n\n191\n00:11:16.170 --> 00:11:17.420\nCool catch on Justin's part.\n\n192\n00:11:17.420 --> 00:11:21.180\nThis has just changed the way I code,\nto be honest with you.\n\n193\n00:11:21.180 --> 00:11:22.500\nCuz I'm now gonna use this for\n\n194\n00:11:22.500 --> 00:11:26.120\nthese types of scenarios where I'm\ndoing small menu-driven stuff.\n\n195\n00:11:26.120 --> 00:11:30.020\nI don't want to do an echo and\nthen a read, kind of put it all together.\n\n196\n00:11:30.020 --> 00:11:30.980\nVery nice, pretty cool.\n\n197\n00:11:30.980 --> 00:11:33.470\nI might wanna [INAUDIBLE] around\nwith something new at the end.\n\n198\n00:11:35.450 --> 00:11:40.790\nAnd give us some information,\nmaybe make a line break with a prompt.\n\n199\n00:11:40.790 --> 00:11:45.490\nAdd some prompt like thing because\nit wasn't visually pleasing or\n\n200\n00:11:45.490 --> 00:11:47.820\nintuitive as I would like it.\n\n201\n00:11:47.820 --> 00:11:49.730\nBut the bare bones are there and\nthat's cool.\n\n202\n00:11:49.730 --> 00:11:52.635\nWe'll leave it as such, you guys can\nmake those changes for yourself.\n\n203\n00:11:52.635 --> 00:11:55.620\nCool, Justin, Let's get back into it.\n\n204\n00:11:57.780 --> 00:11:59.440\nGet back to where we need to be.\n\n205\n00:11:59.440 --> 00:12:01.330\nThis where we are?\n\n206\n00:12:01.330 --> 00:12:04.640\nYep, first name and\nlast name, excellent, okay.\n\n207\n00:12:06.710 --> 00:12:08.440\nSo we need to come in here,\n\n208\n00:12:08.440 --> 00:12:14.560\nwe need to take this echo\nstatement out And I'll move on.\n\n209\n00:12:14.560 --> 00:12:18.740\nSo now we've got to make a case\nstatement for our options, right?\n\n210\n00:12:18.740 --> 00:12:19.570\nSo we're going to do that.\n\n211\n00:12:19.570 --> 00:12:24.681\nWe'll say case, add $Fname_opt in and\n\n212\n00:12:24.681 --> 00:12:30.090\nwe'll start adding some lovely features.\n\n213\n00:12:30.090 --> 00:12:34.200\nWe've got one, we've got 2,\nwe've got 3, and\n\n214\n00:12:34.200 --> 00:12:39.160\nwe've got star, all looking good at esac.\n\n215\n00:12:41.850 --> 00:12:45.150\nNow, we'll come out start filling\nout the logic for each one of these.\n\n216\n00:12:46.430 --> 00:12:49.130\nSo for this one,\nwe're gonna take in, well,\n\n217\n00:12:49.130 --> 00:12:52.260\nwe're doing if we choose option\none it's the first name.\n\n218\n00:12:52.260 --> 00:12:54.390\nSo I want to change\nthe first name of the user.\n\n219\n00:12:54.390 --> 00:12:57.540\nSo we're going to ask the system\nperson using the tool,\n\n220\n00:12:57.540 --> 00:13:01.300\nwhat do you want the first name to be?\n\n221\n00:13:01.300 --> 00:13:05.250\nSo read-p and\nwe'll say enter new first name.\n\n222\n00:13:07.290 --> 00:13:08.240\nLet's see here.\n\n223\n00:13:08.240 --> 00:13:12.220\nEnter new, maybe emphasize that.\n\n224\n00:13:12.220 --> 00:13:13.860\nOr we'll emphasize first.\n\n225\n00:13:13.860 --> 00:13:16.112\nNew first Name.\n\n226\n00:13:16.112 --> 00:13:21.400\nThat's ...wack and\n\n227\n00:13:21.400 --> 00:13:24.390\nwe'll call it,\nwhat do we want to call this.\n\n228\n00:13:24.390 --> 00:13:27.530\nWe'll just call it new first name,\nkeep description going on, right?\n\n229\n00:13:27.530 --> 00:13:33.775\nSo new_first_name, so\nthat would be all variable for that.\n\n230\n00:13:33.775 --> 00:13:37.924\nCome in here, oops, too much.\n\n231\n00:13:37.924 --> 00:13:42.800\nAnd from there, we're going to need\nto do some settings, cuz remember,\n\n232\n00:13:42.800 --> 00:13:46.240\nwe've done this in the past as\nwell when you said to go and\n\n233\n00:13:46.240 --> 00:13:51.820\nfind that first name and\nwe're gonna substitute for this new name.\n\n234\n00:13:51.820 --> 00:13:54.580\nSo we're gonna use our variables\nto make all the switches for\n\n235\n00:13:54.580 --> 00:13:55.983\nus so we're gonna let him put that in.\n\n236\n00:13:55.983 --> 00:13:59.520\nSo we'll throw the said command, -i, for\n\n237\n00:13:59.520 --> 00:14:04.790\nthe inserts, and then start with this.\n\n238\n00:14:04.790 --> 00:14:08.760\nDo our first cuz we're doing an address,\nwe're addressing a string.\n\n239\n00:14:08.760 --> 00:14:14.700\nDon't forget the weird single double,\n\n240\n00:14:14.700 --> 00:14:18.810\ndouble single wrapping\naround our variable name cuz\n\n241\n00:14:18.810 --> 00:14:23.760\nthat's what gives you proper shell\nexpansion using said and shell variables.\n\n242\n00:14:23.760 --> 00:14:26.542\nA quirk of the system, I guess.\n\n243\n00:14:26.542 --> 00:14:30.032\nAnd this will be overtaken\nin the user name, so\n\n244\n00:14:30.032 --> 00:14:33.353\nwe're going to drop\ndown to that user name.\n\n245\n00:14:33.353 --> 00:14:39.015\nSo $uzr find that,\nclose that out with double\n\n246\n00:14:39.015 --> 00:14:43.960\nsingle you want to work on both.\n\n247\n00:14:45.110 --> 00:14:48.160\nPut that in there and\nI think we can then just close this and\n\n248\n00:14:48.160 --> 00:14:50.370\nstart our substitution.\n\n249\n00:14:50.370 --> 00:14:53.250\nAnd here, again, I'm gonna use\ncommas instead of forward slashes\n\n250\n00:14:53.250 --> 00:14:55.940\nbecause there are some\nforward slash stuff going on.\n\n251\n00:14:55.940 --> 00:14:59.110\nI don't want to get confusing,\nso I'll use commas here.\n\n252\n00:14:59.110 --> 00:15:00.490\nNormally, it would be this.\n\n253\n00:15:00.490 --> 00:15:01.196\nHere, I'm gonna use that.\n\n254\n00:15:01.196 --> 00:15:05.006\nAnd I'll say '\n\n255\n00:15:05.006 --> 00:15:09.991\n\" $first_name,\n\n256\n00:15:09.991 --> 00:15:13.515\n\" ' like so.\n\n257\n00:15:13.515 --> 00:15:18.304\nAnd then I am going to do a, and\n\n258\n00:15:18.304 --> 00:15:23.251\nthen This is what always gets\nme in trouble because this is,\n\n259\n00:15:23.251 --> 00:15:27.745\nthe syntax will go it's so easy to forget\none little character and things break.\n\n260\n00:15:27.745 --> 00:15:30.724\nSo I'm just trying to make sure that\nI don't forget any of this stuff,\n\n261\n00:15:30.724 --> 00:15:32.100\nkeeping it straight in my mind.\n\n262\n00:15:32.100 --> 00:15:37.764\nAnd then we're gonna put\nnew first name there,\n\n263\n00:15:37.764 --> 00:15:43.898\nnew_first_name\" Then I think\nthat's all we need for\n\n264\n00:15:43.898 --> 00:15:47.860\nthat so I will close my statement out.\n\n265\n00:15:47.860 --> 00:15:50.700\nI think I do need a comma right there,\nyeah, there we go.\n\n266\n00:15:50.700 --> 00:15:52.772\nClose my statement out, and\nthen tell it the etsy password file.\n\n267\n00:15:52.772 --> 00:16:00.830\nSo /etsy/password, like that.\n\n268\n00:16:00.830 --> 00:16:03.773\nLooks good, so what are we doing to\nmake sure that everything looks good?\n\n269\n00:16:03.773 --> 00:16:06.210\nTaking in the username\nthat we wanna look for.\n\n270\n00:16:06.210 --> 00:16:12.800\nGo down to that line, look for whatever\nfirst name is, we define that's up above.\n\n271\n00:16:12.800 --> 00:16:16.440\nSwitched it out for here,\nthe new first name.\n\n272\n00:16:16.440 --> 00:16:19.478\nSo, we've entered that in from here and\nit's gonna substitute that out and\n\n273\n00:16:19.478 --> 00:16:20.200\nwrite that line.\n\n274\n00:16:23.132 --> 00:16:28.014\n&gt;&gt; Typos it gets you when you're\nworking on a single thing you're so\n\n275\n00:16:28.014 --> 00:16:32.940\nfocused on punctuation,\nyou need a r in new first name.\n\n276\n00:16:32.940 --> 00:16:33.855\nIt's new fist name.\n\n277\n00:16:33.855 --> 00:16:35.738\n&gt;&gt; [LAUGH]\n&gt;&gt; It is new fist name.\n\n278\n00:16:35.738 --> 00:16:37.239\n&gt;&gt; Man, that would've been like, what?\n\n279\n00:16:37.239 --> 00:16:38.937\n[LAUGH]\n&gt;&gt; What's a new fist name?\n\n280\n00:16:38.937 --> 00:16:40.606\n&gt;&gt; [LAUGH]\n&gt;&gt; It's the fist I go get and\n\n281\n00:16:40.606 --> 00:16:42.402\nbeat you when you don't\ndo what I tell you.\n\n282\n00:16:42.402 --> 00:16:45.539\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] Good call, Justin.\n\n283\n00:16:45.539 --> 00:16:49.162\nJustin, let's put the first in there,\nput the r in the first, and\n\n284\n00:16:49.162 --> 00:16:52.852\nthat is good stuff, cuz right,\nI was focusing on the punctuation,\n\n285\n00:16:52.852 --> 00:16:57.060\nmaking sure that all the syntax was right,\nhad a misspelling, man, it's so\n\n286\n00:16:57.060 --> 00:16:58.850\nmuch fun to debug code, right?\n\n287\n00:16:58.850 --> 00:17:01.660\nBut you will do so get prepared for that.\n\n288\n00:17:01.660 --> 00:17:06.005\nI think my sideline is looking good.\n\n289\n00:17:06.005 --> 00:17:09.557\nI don't wanna really test it right\nnow because it would write that.\n\n290\n00:17:09.557 --> 00:17:14.590\nSo, I guess I could leave that i off,\nbut, again I have tested previously.\n\n291\n00:17:14.590 --> 00:17:19.680\nYou would want to test that if you are at\nhome or at a job making this happen,\n\n292\n00:17:19.680 --> 00:17:22.800\ntest that out, verify before you\ncontinue on with your lines of code.\n\n293\n00:17:22.800 --> 00:17:27.770\nI have verified this, this is going\nto work, so I'm gonna move on.\n\n294\n00:17:27.770 --> 00:17:31.260\nFrom there,\nI think we're just going to, we're\n\n295\n00:17:31.260 --> 00:17:36.190\ngonna put some stuff into a new\nthing cuz I wanna verify that for\n\n296\n00:17:36.190 --> 00:17:40.336\nthe user, so I'm going to say vrfu,\nI'm going to create a new variable.\n\n297\n00:17:40.336 --> 00:17:44.050\nVrfy underscore name and\n\n298\n00:17:44.050 --> 00:17:48.590\nwhat it's going to do is,\nit's going to say, I've made a change,\n\n299\n00:17:48.590 --> 00:17:52.500\nI want to verify to the user that a change\nhas actually been made, all right?\n\n300\n00:17:52.500 --> 00:17:56.460\nNot just hey, we did that,thanks for\nplaying, it's been fun.\n\n301\n00:17:56.460 --> 00:18:02.394\nActually, do something that verifies\nwhat you did was done, all right.\n\n302\n00:18:02.394 --> 00:18:07.334\nSo just put in there, I'll say equals\ndollar sign throw this in here,\n\n303\n00:18:07.334 --> 00:18:11.940\nand we'll call it, we'll say,\nwe're gonna do some gripping,\n\n304\n00:18:11.940 --> 00:18:16.877\nas usual, from there we will take in\nthe user name that was fed to us, so\n\n305\n00:18:16.877 --> 00:18:19.980\ndollar sign, where is the dollar sign?\n\n306\n00:18:19.980 --> 00:18:24.970\nI'm losing it, $ucr, like that,\nI will put this in quotations,\n\n307\n00:18:24.970 --> 00:18:29.450\nlet's just see, when in doubt throw\nquotes, just throw double quotes,\n\n308\n00:18:29.450 --> 00:18:33.540\nthen you'll never be afraid to do that,\na lot of times it works regardless, but\n\n309\n00:18:33.540 --> 00:18:35.870\nif it doesn't work [COUGH]\nthen you need them,\n\n310\n00:18:35.870 --> 00:18:38.910\nso I typically error on\nthat side of caution.\n\n311\n00:18:38.910 --> 00:18:41.035\nThrow in this guy right here,\n\n312\n00:18:41.035 --> 00:18:46.060\nI'll throw that into the etsy\npassword file /etsy/passwd like so.\n\n313\n00:18:46.060 --> 00:18:51.288\nType that into good old gawk -f:,\nso we're gonna print and\n\n314\n00:18:51.288 --> 00:18:58.372\nwe just want to print that out for them so\nthey can see that change is actually made.\n\n315\n00:18:58.372 --> 00:19:02.541\nAnd that should be, if I'm not mistaken,\n$5 five for my system.\n\n316\n00:19:02.541 --> 00:19:07.252\nClose it up and then add this guy\nright here, and don't forget our\n\n317\n00:19:07.252 --> 00:19:12.305\nlittle cut action, cut- d, and\nthat will be, went too many commas,\n\n318\n00:19:12.305 --> 00:19:18.350\nget rid of those trailing commas,\njust give them the information they need.\n\n319\n00:19:18.350 --> 00:19:22.460\nThen -f I think is 1, yep, should be good.\n\n320\n00:19:22.460 --> 00:19:23.160\nClose that out.\n\n321\n00:19:23.160 --> 00:19:24.710\nWe've used that before in the past, so\n\n322\n00:19:24.710 --> 00:19:26.890\nwe're pretty confident\nin its ability to work.\n\n323\n00:19:28.250 --> 00:19:32.300\nAnd now we can echo that out, so echo,\n\n324\n00:19:34.210 --> 00:19:36.893\nwe'll just say, just the name.\n\n325\n00:19:36.893 --> 00:19:42.320\n$ Name,\nverify name V-R-F-Y underscore name,\n\n326\n00:19:42.320 --> 00:19:48.120\nnow we know that that should be and\nit kinda gives them some feedback as well.\n\n327\n00:19:49.410 --> 00:19:52.630\nEverything should be verified,\nif they're happy with that move along,\n\n328\n00:19:52.630 --> 00:19:56.060\nif they've made a mistake we'll\nhave to rego back in here and\n\n329\n00:19:56.060 --> 00:19:57.890\nchange the name again to the proper name.\n\n330\n00:19:59.780 --> 00:20:01.700\nAll right, anything else I wanna do.\n\n331\n00:20:01.700 --> 00:20:05.896\nI think just press Enter to continue and\nmove on back to original thing here.\n\n332\n00:20:05.896 --> 00:20:14.088\nSo read-p press Enter to continue.\n\n333\n00:20:14.088 --> 00:20:17.064\nAnd this is ch_name.\n\n334\n00:20:18.770 --> 00:20:22.870\nFinish that off with\na couple of these semis and\n\n335\n00:20:22.870 --> 00:20:27.370\nmove onto last name, which is kind of\na lather, rinse, repeat at this point.\n\n336\n00:20:27.370 --> 00:20:29.480\nInstead of doing first name,\nwe're doing last name.\n\n337\n00:20:29.480 --> 00:20:33.970\nFiguring out whether or not that's\ngoing to work or that it did work, and\n\n338\n00:20:33.970 --> 00:20:36.930\ngive that information to the user,\nand let them go back into the system.\n\n339\n00:20:36.930 --> 00:20:40.281\nSo really, that's all happening [COUGH].\n\n340\n00:20:40.281 --> 00:20:45.895\nI can copy and paste this code, change a\ncouple of variable names, and you're done.\n\n341\n00:20:45.895 --> 00:20:46.782\nVery, very simple.\n\n342\n00:20:46.782 --> 00:20:48.718\nActually, I think I will do that.\n\n343\n00:20:48.718 --> 00:20:50.034\nI know Justin, he's like.\n\n344\n00:20:52.745 --> 00:20:53.772\nRight?\n\n345\n00:20:53.772 --> 00:20:54.804\nSo time is of the essence.\n\n346\n00:20:54.804 --> 00:20:58.684\n&gt;&gt; [LAUGH] Here is my\nonly concern about that.\n\n347\n00:20:58.684 --> 00:21:02.621\nJust remember, I'm not saying\nI'm never copying and pasting,\n\n348\n00:21:02.621 --> 00:21:04.490\nthat's not what I\"m saying.\n\n349\n00:21:04.490 --> 00:21:07.953\nIf you do that, just keep in mind,\neverywhere that you copy and paste,\n\n350\n00:21:07.953 --> 00:21:11.592\nif you find out there's some kinda\nlogic error in the original copy paste,\n\n351\n00:21:11.592 --> 00:21:15.173\nand yes you may make changes,that error\nmay persist and you may have to and\n\n352\n00:21:15.173 --> 00:21:17.530\nfind that error everywhere else as well.\n\n353\n00:21:17.530 --> 00:21:21.417\nSo as long as you know the dangers,\nthere are valid times,\n\n354\n00:21:21.417 --> 00:21:26.470\nright, I need to this is\nkinda the same thing and\n\n355\n00:21:26.470 --> 00:21:29.790\nin bash functions and stuff sometimes\nwork a little bit differently.\n\n356\n00:21:29.790 --> 00:21:33.640\nCuz I'm thinking it's like,\nman, we can just take that and\n\n357\n00:21:33.640 --> 00:21:34.959\nput it in a function then a return.\n\n358\n00:21:34.959 --> 00:21:36.549\nYeah there's some weirdness there.\n\n359\n00:21:36.549 --> 00:21:40.256\nSo copy and\npaste is fine as long as you're aware of\n\n360\n00:21:40.256 --> 00:21:45.155\nthe I got some persistent errors\nthat I now need to go find.\n\n361\n00:21:45.155 --> 00:21:47.470\n&gt;&gt; Yeah,that's a very\ngood point to bring up,\n\n362\n00:21:47.470 --> 00:21:49.340\nthis is why he's not a huge\nfan of copy and paste.\n\n363\n00:21:49.340 --> 00:21:51.720\nI'm not either typically\nI would bang this out.\n\n364\n00:21:51.720 --> 00:21:56.210\nWe're under the clock down here so I just\nwanna get this done as quickly as possible\n\n365\n00:21:56.210 --> 00:22:02.400\nand you watching me do the exact same\nthing over again is time consuming and\n\n366\n00:22:02.400 --> 00:22:06.680\nkind of boring, so, we're just gonna copy\nand paste this, make some quick changes.\n\n367\n00:22:06.680 --> 00:22:09.283\nSo copy and paste responsibly.\n\n368\n00:22:09.283 --> 00:22:13.032\nAll right, so here I go, Justin,\nI know, hold your breath, sir.\n\n369\n00:22:13.032 --> 00:22:16.914\nWell I don't want you to\nhave a heart attack, copy,\n\n370\n00:22:16.914 --> 00:22:19.130\ncome down here and hit paste.\n\n371\n00:22:20.340 --> 00:22:24.848\nAll right, looks good,\nwe will change this to last name,\n\n372\n00:22:24.848 --> 00:22:30.383\noops what am I doing, I forget I'm\nnot in rich text editor I'm in nano.\n\n373\n00:22:30.383 --> 00:22:35.737\n[LAUGH] There we go,\nlast name new last Name,\n\n374\n00:22:35.737 --> 00:22:41.814\njust kind of come in,\nmaking these easy changes,\n\n375\n00:22:41.814 --> 00:22:45.733\nchange this from first to last.\n\n376\n00:22:45.733 --> 00:22:51.215\nIf you're not first you're last,\nthe immortal words of the one Ricky Bobby.\n\n377\n00:22:51.215 --> 00:22:56.289\nChange this to last and\nnow we are going to print that out,\n\n378\n00:22:56.289 --> 00:22:59.450\nprint that out, all looks good.\n\n379\n00:22:59.450 --> 00:23:01.997\nI think from there, just check, and\n\n380\n00:23:01.997 --> 00:23:06.363\nwe're verifying that all the first\nhave been changed to last.\n\n381\n00:23:06.363 --> 00:23:08.840\nAnd this is part of the copy and\npaste problem.\n\n382\n00:23:08.840 --> 00:23:13.770\nIf you do wanna indulge that as\na common tactic for your coding,\n\n383\n00:23:13.770 --> 00:23:17.720\nyou are going to have to go in and\ngo, well It's the same, but different.\n\n384\n00:23:17.720 --> 00:23:20.750\nMake sure all the differences\nare there that you needed or\n\n385\n00:23:20.750 --> 00:23:23.520\nit's obviously gonna blow up in your face.\n\n386\n00:23:23.520 --> 00:23:24.464\nJustin, how do you think?\n\n387\n00:23:24.464 --> 00:23:26.660\nI think I'm good.\n\n388\n00:23:26.660 --> 00:23:30.594\n&gt;&gt; I'm like 95% sure that\nwe're good on that option too.\n\n389\n00:23:30.594 --> 00:23:34.196\nBut I'm gonna reserve that last 5% just in\ncase something blows up and I was like,\n\n390\n00:23:34.196 --> 00:23:35.647\nwell I wasn't completely sure.\n\n391\n00:23:35.647 --> 00:23:37.842\n[LAUGH]\n&gt;&gt; That we have some plausible deniability\n\n392\n00:23:37.842 --> 00:23:39.398\nthat\n&gt;&gt; But I think we're pretty good there.\n\n393\n00:23:39.398 --> 00:23:40.110\n&gt;&gt; All right.\n\n394\n00:23:40.110 --> 00:23:42.800\nWell let's go ahead and we'll finish up.\n\n395\n00:23:42.800 --> 00:23:46.680\nWe'll do option three and the star,\nthe catch all, and button it up.\n\n396\n00:23:46.680 --> 00:23:47.250\nWe'll run it.\n\n397\n00:23:47.250 --> 00:23:49.770\nMake sure everything works fine,\ndo a little testing.\n\n398\n00:23:49.770 --> 00:23:52.003\nAnd then we're gonna call\nthis a program my man.\n\n399\n00:23:52.003 --> 00:23:56.502\nCall it a script with all its practicality\nso number three we are going to put well\n\n400\n00:23:56.502 --> 00:23:58.999\nwe're just gonna go\nback cuz you want none.\n\n401\n00:23:58.999 --> 00:24:01.317\nSo I'm just gonna put CH name.\n\n402\n00:24:01.317 --> 00:24:04.829\nThere, it's a very simple piece of code,\nbing bing.\n\n403\n00:24:04.829 --> 00:24:09.640\nAnd then for the star, that's obviously\ngonna our invalid option area.\n\n404\n00:24:09.640 --> 00:24:12.700\nLet's do an echo and\n\n405\n00:24:12.700 --> 00:24:17.920\nthen say read -p Invalid Option,\n\n406\n00:24:17.920 --> 00:24:23.140\nspell like, O-P-T-I-O-N,\n\n407\n00:24:23.140 --> 00:24:29.084\ngood for me, press ENTER to continue.\n\n408\n00:24:29.084 --> 00:24:35.963\nAll that, and\nthen take us back to change name, ch_name.\n\n409\n00:24:38.902 --> 00:24:44.651\nA couple semis and\nI already filled out my ESAC.\n\n410\n00:24:44.651 --> 00:24:46.273\nI did, look at me.\n\n411\n00:24:46.273 --> 00:24:48.767\nI'm a good man, everything's good.\n\n412\n00:24:48.767 --> 00:24:52.894\nI think, my man, I think we might be done.\n\n413\n00:24:52.894 --> 00:24:56.059\nI think we might be done.\n\n414\n00:24:56.059 --> 00:25:00.516\nHere we go, let's do it,\nlet's do it, Ctrl+O, Ctrl+X.\n\n415\n00:25:00.516 --> 00:25:04.682\nMan, I'm kinda scared, I got heart\npalpitations going on, I hope this works.\n\n416\n00:25:04.682 --> 00:25:07.050\nPassword, throw that in.\n\n417\n00:25:09.130 --> 00:25:12.584\nNumber choice, well, my man, is number 5.\n\n418\n00:25:12.584 --> 00:25:19.522\nMy option is to change\nthe full name to of bubblegum.\n\n419\n00:25:19.522 --> 00:25:21.406\nDid we change that before?\n\n420\n00:25:21.406 --> 00:25:22.216\n&gt;&gt; No.\n\n421\n00:25:22.216 --> 00:25:26.612\n&gt;&gt; No, we just echoed out some stuff,\nwe didn't actually make any changes.\n\n422\n00:25:26.612 --> 00:25:27.831\nWe were testing, that's right.\n\n423\n00:25:27.831 --> 00:25:31.072\nAll of a sudden I was like, no, we've\ndone something wrong, but we're good.\n\n424\n00:25:31.072 --> 00:25:34.735\nWe should be good, let's do bubblegum.\n\n425\n00:25:36.185 --> 00:25:37.072\nWhat I wanna do?\n\n426\n00:25:37.072 --> 00:25:38.820\nWell, I want to change the first name.\n\n427\n00:25:40.480 --> 00:25:44.090\nFirst name, we will call them,\nwell, Bubble, and\n\n428\n00:25:44.090 --> 00:25:46.110\nwe're gonna say, cuz the name in there,\nI think, is my brother's name.\n\n429\n00:25:46.110 --> 00:25:47.598\nIt's Donny Lowrie.\n\n430\n00:25:47.598 --> 00:25:50.966\nSo I'm gonna change it from Donny to\nBubble, and I'll make the last name Gum,\n\n431\n00:25:50.966 --> 00:25:53.125\nwhen we change the last name,\nso this will be fun.\n\n432\n00:25:53.125 --> 00:25:59.500\nSo we'll say Bubble, Bubble Lowrie,\neverything seems to be working quite well.\n\n433\n00:25:59.500 --> 00:26:01.501\nThis is, now it's getting quite humorous.\n\n434\n00:26:01.501 --> 00:26:04.270\n[LAUGH] Press Enter,\ncontinue looking good, all right?\n\n435\n00:26:04.270 --> 00:26:09.620\nLet's go back to number two,\nenter username which is bubblegum.\n\n436\n00:26:09.620 --> 00:26:14.432\nI wanna change the last name,\nI will make it Gum.\n\n437\n00:26:14.432 --> 00:26:17.711\nSo now the user is bubblegum, press Enter.\n\n438\n00:26:17.711 --> 00:26:21.376\nMy man, it looks like we have, we didn't\ncheck if we had invalid options or\n\n439\n00:26:21.376 --> 00:26:22.490\nthings of that nature.\n\n440\n00:26:22.490 --> 00:26:27.330\nLet's do that, so 2 username bubblegum.\n\n441\n00:26:29.410 --> 00:26:31.942\nWhat if I did 3, takes me back.\n\n442\n00:26:31.942 --> 00:26:37.822\nLet's go back in one more time to\nchange full name, username, bubblegum.\n\n443\n00:26:37.822 --> 00:26:40.135\nAnd what if I put in f?\n\n444\n00:26:40.135 --> 00:26:42.363\nInvalid option, press Enter to continue.\n\n445\n00:26:42.363 --> 00:26:44.410\nLooks like everything's working,\nmy friend.\n\n446\n00:26:44.410 --> 00:26:47.268\n&gt;&gt; Well,\nit does look like everything is working.\n\n447\n00:26:47.268 --> 00:26:49.140\nI wanna double-check, let's take\na look at that [CROSSTALK] password.\n\n448\n00:26:49.140 --> 00:26:49.935\n&gt;&gt; Double triple check?\n\n449\n00:26:49.935 --> 00:26:56.580\n&gt;&gt; Yeah, it changed everything, but\nmaybe there's an extra comma or something.\n\n450\n00:26:56.580 --> 00:26:57.653\nI just like to check these things.\n\n451\n00:26:57.653 --> 00:26:59.432\n&gt;&gt; Yeah, not a problem,\nalways a good idea.\n\n452\n00:26:59.432 --> 00:27:03.002\nEven though it seems like it's working we\nwere grepping out of that's etc/password,\n\n453\n00:27:03.002 --> 00:27:04.362\nwe were setting etc/password.\n\n454\n00:27:04.362 --> 00:27:08.491\nBut you never know, you just always\nwant to in the testing phase,\n\n455\n00:27:08.491 --> 00:27:10.381\nverify your verifications.\n\n456\n00:27:10.381 --> 00:27:16.311\nOkay, just always a good idea,\nso let's do that.\n\n457\n00:27:16.311 --> 00:27:21.061\nMake it big, and cat /etc/password.\n\n458\n00:27:21.061 --> 00:27:24.281\nHere is bubblegum, looking good.\n\n459\n00:27:24.281 --> 00:27:28.146\nBubble Gum, no trailing commas,\nwhich is fine.\n\n460\n00:27:28.146 --> 00:27:32.490\nIt doesn't have to be there, that is\nthe first name, that's where it goes.\n\n461\n00:27:32.490 --> 00:27:35.470\nI would also probably wanna go in and\nmake some changes to the home directory.\n\n462\n00:27:35.470 --> 00:27:37.630\nYou see it's still tlowrie,\nbecause I've done that.\n\n463\n00:27:37.630 --> 00:27:40.452\nAgain, I'm gonna leave that to you guys,\nI kinda don't wanna give you everything.\n\n464\n00:27:40.452 --> 00:27:43.772\nI want you to go in and\ntry to modify the stuff, make it your own,\n\n465\n00:27:43.772 --> 00:27:46.671\ndo it the way you like and\ngive it extra functionality.\n\n466\n00:27:46.671 --> 00:27:49.904\nI just wanna to give you it that baseline,\nbut Justin, I think we've got\n\n467\n00:27:49.904 --> 00:27:53.297\na fully functional product at this point,\nthat I would be glad to give out and\n\n468\n00:27:53.297 --> 00:27:56.760\ndistribute and say, hey,\nyou need an easy user management system?\n\n469\n00:27:56.760 --> 00:28:00.122\nI scripted one, go to GitHub and\ndownload that thing, and use it.\n\n470\n00:28:00.122 --> 00:28:03.506\nEspecially for\npeople that are new to Linux or whatever.\n\n471\n00:28:03.506 --> 00:28:06.051\n&gt;&gt; Yeah, and I would even recommend\nputting it on a thumb drive.\n\n472\n00:28:06.051 --> 00:28:08.280\nNah, I'm joking, I wouldn't do that.\n\n473\n00:28:08.280 --> 00:28:10.950\nCuz if you handed me a thumb\ndrive in the office area and\n\n474\n00:28:10.950 --> 00:28:14.090\nwas like this has a script for\nuser management, I'm sure it does, Daniel.\n\n475\n00:28:14.090 --> 00:28:19.040\nI'm sure it does, I'm sure it has\nsomething that will add a user for you.\n\n476\n00:28:19.040 --> 00:28:20.973\nSo yeah, we've kind of put a bow on it.\n\n477\n00:28:20.973 --> 00:28:23.930\nIt looks like we are again, done.\n\n478\n00:28:23.930 --> 00:28:27.630\nBut take these ideas,\nexpand them and make them your own.\n\n479\n00:28:27.630 --> 00:28:28.795\nI would love to see some of those, and\n\n480\n00:28:28.795 --> 00:28:33.620\nwe've said before, Daniel would as well,\nso let us know what you come up with.\n\n481\n00:28:33.620 --> 00:28:36.140\nBut we are continuing on with\npractical scripts even though we're\n\n482\n00:28:36.140 --> 00:28:40.340\ndone with user management, that's not all\nthe practicality that we have left in us.\n\n483\n00:28:40.340 --> 00:28:41.900\nSo definitely stay tuned, but for\n\n484\n00:28:41.900 --> 00:28:43.950\nthis episode,\nwe're gonna go ahead and wrap it up.\n\n485\n00:28:43.950 --> 00:28:46.820\nSo signing off for ITProTV,\nI've been your host Justin Dennison.\n\n486\n00:28:46.820 --> 00:28:47.720\n&gt;&gt; And I'm Daniel Lowrie.\n\n487\n00:28:47.720 --> 00:28:50.092\n&gt;&gt; And we'll see you next time.\n\n488\n00:28:50.092 --> 00:28:56.014\n[MUSIC]\n\n489\n00:28:56.014 --> 00:28:59.327\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "239456879"
        }
      ],
      "title": "User Account Manager"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Daniel and Justin begin using bash scripting to create a one-time backup&restore utility. Here they start creating the skeleton on that will control the basic flow of their backup utility.",
          "length": "1094",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-2-1-1-backup_utility-110317.00_19_30_17.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-2-1-1-backup_utility-110317.00_19_30_17.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-2-1-1-backup_utility-110317.00_19_30_17.Still001-sm.jpg",
          "title": "Backup Utility",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:01.092\nWelcome to ITProTV.\n\n2\n00:00:01.092 --> 00:00:02.470\nI'm your host, Don Pezet.\n\n3\n00:00:02.470 --> 00:00:08.060\n[CROSSTALK]\n\n4\n00:00:08.060 --> 00:00:11.960\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.960 --> 00:00:15.983\n&gt;&gt; Greetings, everyone, and welcome back\nto another exciting episode of ITProTV.\n\n6\n00:00:15.983 --> 00:00:17.899\nI'm your host, Justin Dennison, and\n\n7\n00:00:17.899 --> 00:00:21.050\nwe're continuing on in our\ncreating practical script series.\n\n8\n00:00:21.050 --> 00:00:23.553\nFor some reason, that did not roll\noff the tongue as I hoped it would.\n\n9\n00:00:23.553 --> 00:00:24.159\n&gt;&gt; [LAUGH]\n&gt;&gt; And\n\n10\n00:00:24.159 --> 00:00:26.845\nwe're gonna be looking at building\na backup utility in this episode.\n\n11\n00:00:26.845 --> 00:00:30.940\nAnd luckily we have someone who has the\nplan laid out for us, Mr. Daniel Lowrie.\n\n12\n00:00:30.940 --> 00:00:31.800\nHow are you doing today, Daniel?\n\n13\n00:00:31.800 --> 00:00:32.624\n&gt;&gt; Doing great, Justin.\n\n14\n00:00:32.624 --> 00:00:34.217\nThanks for having me back on the show.\n\n15\n00:00:34.217 --> 00:00:36.140\nIt's a pleasure to be here\nwith our good audience,\n\n16\n00:00:36.140 --> 00:00:40.450\nand hopefully give you some cool ideas for\ntaking your scripting knowledge and\n\n17\n00:00:40.450 --> 00:00:43.670\napplying it to real world type scenarios.\n\n18\n00:00:43.670 --> 00:00:46.290\nAnd today, yes, we are going\nto create a backup script, but\n\n19\n00:00:46.290 --> 00:00:51.910\nprobably not in the way in which you would\nnormally think of a simple backup script.\n\n20\n00:00:51.910 --> 00:00:56.170\nThose things are in abundance out there,\nand not that this is, don't get me wrong,\n\n21\n00:00:56.170 --> 00:01:01.160\nit's not like some crazy heady\nsuper brain puzzle backup script.\n\n22\n00:01:01.160 --> 00:01:04.110\nBut just kind of a one off of what you\nmight normally find cuz I wanna do\n\n23\n00:01:04.110 --> 00:01:05.840\nsomething just a little bit different.\n\n24\n00:01:05.840 --> 00:01:09.608\nCuz typically, when you look\nup I need a backup script for\n\n25\n00:01:09.608 --> 00:01:13.960\nin bash to backup said files that's\nsomething you're gonna repeat and\n\n26\n00:01:13.960 --> 00:01:17.607\ndo every day, and put a out,\nthe whole nine yards.\n\n27\n00:01:17.607 --> 00:01:21.610\nAnd like I said there are dime a dozen out\nthere on the internet so you can grab one.\n\n28\n00:01:21.610 --> 00:01:26.950\nI thought, well, what if we made a backup\nutility that allows me to easily\n\n29\n00:01:26.950 --> 00:01:33.390\nhave a backup section to my computer's\nfile structure and just invoke a backup\n\n30\n00:01:33.390 --> 00:01:37.630\ncommand and it makes backups for me and it\njust keeps some sort of structure to it?\n\n31\n00:01:37.630 --> 00:01:43.570\nRight, one off or one time instantaneous\nkind of deals in real time.\n\n32\n00:01:43.570 --> 00:01:45.440\nI wanna back this file up.\n\n33\n00:01:45.440 --> 00:01:51.170\nI just wanna back up -b filename and\nbada bing, it's a backup, right?\n\n34\n00:01:51.170 --> 00:01:54.490\nNow yeah, there's pretty simple\ncommands to do that when it comes to,\n\n35\n00:01:54.490 --> 00:01:57.030\nand we're gonna invoke those actually.\n\n36\n00:01:57.030 --> 00:02:01.470\nWe're gonna use their power to\nmake all of this happen but\n\n37\n00:02:01.470 --> 00:02:04.510\nI'm throwing a little logic against it,\nthrowing a little thing.\n\n38\n00:02:04.510 --> 00:02:07.306\nWhat if the file already exists,\ndo I wanna overwrite it,\n\n39\n00:02:07.306 --> 00:02:08.627\nthat kinda thing, right?\n\n40\n00:02:08.627 --> 00:02:11.830\nAnd of course this is a very basic thing.\n\n41\n00:02:11.830 --> 00:02:12.830\nI want you to take this.\n\n42\n00:02:12.830 --> 00:02:15.740\nI want you to build up on it,\nmake it better, faster, stronger.\n\n43\n00:02:15.740 --> 00:02:17.470\nYou have the technology.\n\n44\n00:02:17.470 --> 00:02:18.100\nYou can do it.\n\n45\n00:02:18.100 --> 00:02:22.260\nSo again, just a kind of a basic thing so\nwe can have something to do and\n\n46\n00:02:22.260 --> 00:02:23.870\nit will work out in our last.\n\n47\n00:02:23.870 --> 00:02:28.710\nI'll use this practically on my system so\nwhen I wanna back up certain stuff.\n\n48\n00:02:28.710 --> 00:02:31.520\nAll right, that being said,\nlet's get into it here.\n\n49\n00:02:31.520 --> 00:02:32.760\nActually, let's take a look at my screen.\n\n50\n00:02:32.760 --> 00:02:35.570\nActually, let me show you a simple\nbackup script, all right.\n\n51\n00:02:35.570 --> 00:02:37.133\nI brought up this web page here.\n\n52\n00:02:37.133 --> 00:02:38.885\nI just did a Google search.\n\n53\n00:02:38.885 --> 00:02:42.980\n[INAUDIBLE] Here, there you go.\n\n54\n00:02:42.980 --> 00:02:47.050\nAnd Ubuntu documentation,\nI'm sure that they have these for\n\n55\n00:02:47.050 --> 00:02:50.940\nRed Hat versions and Debian and,\nyou name it, it's out there.\n\n56\n00:02:50.940 --> 00:02:54.730\nI just grabbed the first results that\nworked in my environment which was Ubuntu.\n\n57\n00:02:56.150 --> 00:02:57.147\nIt's just a shell script.\n\n58\n00:02:57.147 --> 00:03:01.210\nHere is this back up to an NFS mount,\nand a script you guys can copy.\n\n59\n00:03:01.210 --> 00:03:04.120\nThis is freely available from Ubuntu here.\n\n60\n00:03:04.120 --> 00:03:08.079\nAs you can see, there's the URL,\nbada bing, and copy, go forth and\n\n61\n00:03:08.079 --> 00:03:09.460\nmultiply, all right?\n\n62\n00:03:09.460 --> 00:03:10.540\nIt's awesome.\n\n63\n00:03:10.540 --> 00:03:14.175\nSo it's just backing up,\ngiving backup files as a variable.\n\n64\n00:03:14.175 --> 00:03:19.071\nTells it where to back up from and where\nto back up to, create an archive name.\n\n65\n00:03:19.071 --> 00:03:24.231\nAnd we're gonna do a little bit of\nsome similarity to what we see here,\n\n66\n00:03:24.231 --> 00:03:26.689\nbut just in our context, right?\n\n67\n00:03:26.689 --> 00:03:30.250\nAnd then hostname stuff,\nmore variable business.\n\n68\n00:03:30.250 --> 00:03:31.979\nPrint start status message,\n\n69\n00:03:31.979 --> 00:03:35.375\nso it'll let you know that is\nit backing up when it starts.\n\n70\n00:03:35.375 --> 00:03:39.120\nThen it'll back up the files,\n[INAUDIBLE] very simplistic, very cool.\n\n71\n00:03:39.120 --> 00:03:42.439\nThis is a great script, and\nif you need to do backups for your system,\n\n72\n00:03:42.439 --> 00:03:43.960\nthis would work great for you.\n\n73\n00:03:43.960 --> 00:03:47.505\nSo copy paste it, run it, love it, right?\n\n74\n00:03:47.505 --> 00:03:48.005\nCool stuff.\n\n75\n00:03:49.355 --> 00:03:50.915\nThat being said,\nlet's look at [INAUDIBLE].\n\n76\n00:03:50.915 --> 00:03:52.435\nI guess we could close this down.\n\n77\n00:03:52.435 --> 00:03:53.205\nBe gone.\n\n78\n00:03:53.205 --> 00:03:55.305\nLet's look at our script that\nwe're gonna write today.\n\n79\n00:03:55.305 --> 00:03:58.080\nI call it bactup, right, bactup.\n\n80\n00:03:58.080 --> 00:03:59.985\n[LAUGH] I funny.\n\n81\n00:03:59.985 --> 00:04:01.065\nRight, so here we go.\n\n82\n00:04:01.065 --> 00:04:05.431\nLet's nano, bactup.sh.\n\n83\n00:04:05.431 --> 00:04:09.160\nSo here we are,\nwe got a lot going on here.\n\n84\n00:04:09.160 --> 00:04:11.770\nNot too bad, not a super long script.\n\n85\n00:04:11.770 --> 00:04:16.850\nBut what we're gonna do here\nis basically we're going\n\n86\n00:04:16.850 --> 00:04:22.090\nto have a backup directory,\nso I have to create that.\n\n87\n00:04:22.090 --> 00:04:24.550\nIt has to be a part of the system.\n\n88\n00:04:24.550 --> 00:04:27.547\nI wanna make sure that\ncertain things happen.\n\n89\n00:04:27.547 --> 00:04:31.768\nI am running as root because I don't\nwant anybody but root being able to\n\n90\n00:04:31.768 --> 00:04:37.180\ndelete backups, right, or mess with\nbackups, maybe overwrite them, right?\n\n91\n00:04:37.180 --> 00:04:40.300\nSo this is gonna be a root backup script.\n\n92\n00:04:40.300 --> 00:04:42.740\nYou could port this out to users as well,\nit's not a problem.\n\n93\n00:04:42.740 --> 00:04:44.330\nJust remove the root part of it.\n\n94\n00:04:44.330 --> 00:04:46.480\nBut for my intents and purposes,\nI thought this will be good.\n\n95\n00:04:46.480 --> 00:04:50.390\nI'm gonna make a backup directory that\nroot has access to so no one else.\n\n96\n00:04:50.390 --> 00:04:57.070\nIf you need it to be restored, you'd have\nto have some sort of sudo writeover, okay?\n\n97\n00:04:57.070 --> 00:05:01.582\nAnd then we are going to\ncheck does the file exist?\n\n98\n00:05:01.582 --> 00:05:03.870\nAnd if it does, give me some options.\n\n99\n00:05:03.870 --> 00:05:09.350\nIf it doesn't, back to backup, so on and\nso forth, pretty easy peasy, right?\n\n100\n00:05:09.350 --> 00:05:13.021\nAnd we see that here checking\nif it exists, making some,\n\n101\n00:05:13.021 --> 00:05:18.650\nthen we're moving the files, setting\nsome permissions, so on and so forth.\n\n102\n00:05:18.650 --> 00:05:20.870\nSo that's our main goal here.\n\n103\n00:05:20.870 --> 00:05:23.700\nThe cool thing is is when we run it, I'll\nshow you what it looks like when we run.\n\n104\n00:05:24.960 --> 00:05:25.600\nSo let's see here.\n\n105\n00:05:25.600 --> 00:05:31.764\nLet's say I run bactup.sh, and\nI've got a file in here, I believe.\n\n106\n00:05:31.764 --> 00:05:33.183\nWas it Journey To The Center of The Earth?\n\n107\n00:05:33.183 --> 00:05:37.258\nYeah, so let's say I wanna back up\nJourney_to_the_center_of_the_Earth.txt\n\n108\n00:05:37.258 --> 00:05:38.970\nwhich I got off Project Guttenberg.\n\n109\n00:05:38.970 --> 00:05:42.929\nI wanna back that up so\nthat I can make, I said, you know what?\n\n110\n00:05:42.929 --> 00:05:44.225\nWas it Jules Verne?\n\n111\n00:05:44.225 --> 00:05:45.810\nHe didn't know what he was talking about.\n\n112\n00:05:45.810 --> 00:05:48.360\nI'm gonna change his book and\nmake it right, right?\n\n113\n00:05:48.360 --> 00:05:52.180\nBut I wanna keep a pristine copy\njust in case I make mistakes.\n\n114\n00:05:52.180 --> 00:05:55.876\nI would wanna back that up,\nso I can say ./backedup.\n\n115\n00:05:55.876 --> 00:06:01.290\nAnd I'll say -b for backup cuz,\nwell, let's just throw it out there.\n\n116\n00:06:01.290 --> 00:06:05.379\nIf I just run a command,\nthis is gonna be the output or your root.\n\n117\n00:06:05.379 --> 00:06:06.720\nAre you sudoing?\n\n118\n00:06:06.720 --> 00:06:10.788\nMaybe you forgot parameters or the\nparameters you've used are invalid, right,\n\n119\n00:06:10.788 --> 00:06:14.050\nto back up, do this, to restore to this.\n\n120\n00:06:14.050 --> 00:06:17.860\nSo we want that functionality\nin there as well, right?\n\n121\n00:06:17.860 --> 00:06:19.400\nAnd then, okay,\n\n122\n00:06:19.400 --> 00:06:23.740\nnow that I know how it works,\nI can now do what the instructions say.\n\n123\n00:06:23.740 --> 00:06:27.491\nSo I will say ./bactup and -b, and\n\n124\n00:06:27.491 --> 00:06:33.190\nJourney_to_ the_center_of_the_Earth.txt.\n\n125\n00:06:33.190 --> 00:06:38.140\nIf I hit that, there we go,\nI didn't do sudo, forgot to put that in.\n\n126\n00:06:38.140 --> 00:06:39.630\nGood stuff, I can just do sudo.\n\n127\n00:06:41.470 --> 00:06:46.770\nNow it's asking me for\nmy password, and there we go.\n\n128\n00:06:46.770 --> 00:06:47.750\nI must have done something.\n\n129\n00:06:49.170 --> 00:06:49.990\nBack to restore.\n\n130\n00:06:49.990 --> 00:06:53.807\nFull name, though this is a file dir name.\n\n131\n00:06:54.870 --> 00:06:58.040\nYep, that should, interesting.\n\n132\n00:06:58.040 --> 00:06:58.860\nDid not work.\n\n133\n00:06:58.860 --> 00:07:00.900\n&gt;&gt; So Daniel,\nit says that we need an archive name,\n\n134\n00:07:00.900 --> 00:07:02.930\ndo we need to actually put that in there?\n\n135\n00:07:02.930 --> 00:07:03.995\n&gt;&gt; Here's the thing, Justin.\n\n136\n00:07:03.995 --> 00:07:07.063\nI didn't actually read my instructions\nwell enough, and I need to follow them.\n\n137\n00:07:07.063 --> 00:07:09.298\n[LAUGH] Yes, he's actually right.\n\n138\n00:07:09.298 --> 00:07:11.876\nI just completely missed\nthat with my eyes.\n\n139\n00:07:11.876 --> 00:07:14.550\nIt just glazed right over the,\ndon't forget the archive name.\n\n140\n00:07:14.550 --> 00:07:15.720\nSo but it's good, right?\n\n141\n00:07:15.720 --> 00:07:19.501\nThat's why we need this type of\nfunctionality to remind our user this is\n\n142\n00:07:19.501 --> 00:07:21.334\nthe proper way in which to do this.\n\n143\n00:07:21.334 --> 00:07:24.474\nAnd I wrote this probably\nlike a month ago, so\n\n144\n00:07:24.474 --> 00:07:29.410\nI forgot how I wanted it set up\nwhich is why I put that on there.\n\n145\n00:07:29.410 --> 00:07:31.324\nBut if I don't read it,\nI'm not gonna remember.\n\n146\n00:07:31.324 --> 00:07:33.313\nMy eyes just kind of skimmed over it for\nwhatever reason.\n\n147\n00:07:33.313 --> 00:07:35.892\nHe's right, I need an archive name.\n\n148\n00:07:35.892 --> 00:07:40.635\nSo I will bring that back up,\nput an archive name there.\n\n149\n00:07:40.635 --> 00:07:45.773\nCall that, how about we just call\n\n150\n00:07:45.773 --> 00:07:51.110\nit MyJourney like so, bada bing.\n\n151\n00:07:51.110 --> 00:07:51.887\nThere we go,\n\n152\n00:07:51.887 --> 00:07:56.639\nit's checking if MyJourney.backup.11134\nexists already in backup.\n\n153\n00:07:58.060 --> 00:07:59.340\nBackup is complete.\n\n154\n00:07:59.340 --> 00:08:04.030\nIt set the parameters of\nthe permissions for it, shall I say.\n\n155\n00:08:04.030 --> 00:08:04.811\nAnd there it is.\n\n156\n00:08:04.811 --> 00:08:05.675\nThat's where it's saved.\n\n157\n00:08:05.675 --> 00:08:09.974\nSo I've got this cat, ls/backup.\n\n158\n00:08:09.974 --> 00:08:14.981\nAnd now I should see MyJourney.backup.\n\n159\n00:08:14.981 --> 00:08:17.770\nLooking good, right?\n\n160\n00:08:17.770 --> 00:08:19.400\nSo that's the kind of\nfunctionality that I want.\n\n161\n00:08:19.400 --> 00:08:24.121\nNow if I accidentally deleted the Journey\nto the Center of the Earth business.\n\n162\n00:08:24.121 --> 00:08:28.530\nSo, if I rm Journey, it's gone now, right?\n\n163\n00:08:28.530 --> 00:08:30.590\nNo!\nWhat have I done?\n\n164\n00:08:30.590 --> 00:08:31.270\nNo bueno.\n\n165\n00:08:31.270 --> 00:08:36.570\nI can just get it from my\nbackup by doing sudo ./backup\n\n166\n00:08:36.570 --> 00:08:42.480\nBackup -r for restore, and\nthen what was my options?\n\n167\n00:08:42.480 --> 00:08:47.770\nArchive name must be the full path, and\nthen restore directional which is offline.\n\n168\n00:08:47.770 --> 00:08:52.060\nSo if I wanted to go somewhere other\nthan where I'm currently residing,\n\n169\n00:08:52.060 --> 00:08:53.730\nI would have to define that.\n\n170\n00:08:53.730 --> 00:08:55.250\nAll right, so I'll put that in there.\n\n171\n00:08:55.250 --> 00:09:00.285\nAnd I'll say that is gonna\ngo to archive name, which is\n\n172\n00:09:00.285 --> 00:09:05.900\n/backup/MyJourney, there we go.\n\n173\n00:09:05.900 --> 00:09:08.520\nAnd then, since I'm gonna put it here,\nI'll just leave it blank.\n\n174\n00:09:08.520 --> 00:09:11.870\nHit Enter,\nfiles restored from backup, do an ls.\n\n175\n00:09:11.870 --> 00:09:13.970\nJourney to the Center is now back.\n\n176\n00:09:13.970 --> 00:09:17.370\nSo I'm easily able to do that once and\n\n177\n00:09:17.370 --> 00:09:21.440\ndone kind of backing up\ninstead of a daily job.\n\n178\n00:09:21.440 --> 00:09:23.910\nOkay, not that I wouldn't want that,\nI would.\n\n179\n00:09:23.910 --> 00:09:26.610\nBut this could be useful as well.\n\n180\n00:09:26.610 --> 00:09:29.480\nLet's start building and let's take a look\nat some of the things we've gotta employ\n\n181\n00:09:29.480 --> 00:09:30.845\nto actually make that happened.\n\n182\n00:09:30.845 --> 00:09:33.290\nFigure out the logic,\nget our schemes correct.\n\n183\n00:09:33.290 --> 00:09:37.190\nAnd I see some of the pitfalls and things\nthat we gotta overcome using our scripting\n\n184\n00:09:37.190 --> 00:09:40.050\nknowledge to make this type\nof thing happen, all right?\n\n185\n00:09:40.050 --> 00:09:42.298\nSo let's create a new bactup.\n\n186\n00:09:42.298 --> 00:09:47.610\nSo I'll clear, and nano, call this backed,\n\n187\n00:09:47.610 --> 00:09:51.435\nwe'll call it 2backed up.sh.\n\n188\n00:09:51.435 --> 00:09:53.550\nWe have cranked it out,\nwe know what to do here.\n\n189\n00:09:53.550 --> 00:09:57.590\nFirst, always within the bash,\nand get that going.\n\n190\n00:09:57.590 --> 00:10:01.420\nLet's make a list of things that\nwe want to make sure that we do.\n\n191\n00:10:01.420 --> 00:10:08.020\nWe want to make sure that it runs as root.\n\n192\n00:10:08.020 --> 00:10:12.428\nSo Add sudo/ root checker.\n\n193\n00:10:12.428 --> 00:10:13.174\nWhat else do we wanna do?\n\n194\n00:10:13.174 --> 00:10:15.895\nWe want to back up a file.\n\n195\n00:10:15.895 --> 00:10:17.418\nWe wanna back up a directory.\n\n196\n00:10:17.418 --> 00:10:21.379\nSo I can put backup file directory and\nalso restore file directory.\n\n197\n00:10:21.379 --> 00:10:28.197\nSo we can say backup files/dirs,\n\n198\n00:10:28.197 --> 00:10:31.022\nand restore.\n\n199\n00:10:34.349 --> 00:10:39.270\nSo what else do we want to do?\n\n200\n00:10:39.270 --> 00:10:41.481\nWe do wanna use command line with this,\nright?\n\n201\n00:10:41.481 --> 00:10:43.857\nBecause I had a -b and a -r.\n\n202\n00:10:43.857 --> 00:10:45.926\nI want to add that functionality so\ndon't forget that.\n\n203\n00:10:45.926 --> 00:10:50.449\nSo add -b for backup\n\n204\n00:10:50.449 --> 00:10:55.239\nfunctionality, and\n\n205\n00:10:55.239 --> 00:11:00.293\nwe will also add -r for\n\n206\n00:11:00.293 --> 00:11:04.294\nstore function.\n\n207\n00:11:04.294 --> 00:11:09.840\nWhat else do we want?\n\n208\n00:11:11.170 --> 00:11:14.217\nLet's remind ourselves of some\nthings as we go so we don't forget.\n\n209\n00:11:14.217 --> 00:11:19.336\nI am going to just put\na couple of notes for\n\n210\n00:11:19.336 --> 00:11:26.580\nmyself of the $2 is the name\nto save the archive.\n\n211\n00:11:26.580 --> 00:11:32.340\nSo that's gonna be that $2 position\nthat I'm gonna pull, okay?\n\n212\n00:11:32.340 --> 00:11:35.411\nSo whatever that is [SOUND] suck that in.\n\n213\n00:11:35.411 --> 00:11:36.858\nThen we're gonna just use\nthat as our reference.\n\n214\n00:11:36.858 --> 00:11:41.836\nAnd then, $3 will be\n\n215\n00:11:41.836 --> 00:11:47.338\nthe file or dir you wish to\n\n216\n00:11:47.338 --> 00:11:54.730\nbackup Okay.\n\n217\n00:11:54.730 --> 00:11:58.771\nAll right, I think that's about all\nthe things I wanna remind myself to do so\n\n218\n00:11:58.771 --> 00:11:59.733\nI don't forget.\n\n219\n00:11:59.733 --> 00:12:02.462\nI may forget other things,\nbut as of right now,\n\n220\n00:12:02.462 --> 00:12:05.477\nI think that's the basics\nof what we wanna get into.\n\n221\n00:12:05.477 --> 00:12:09.940\nSo let's start off with\nsome skeletonizing, right?\n\n222\n00:12:09.940 --> 00:12:12.750\nLet's build a skeleton of\nthis thing right here.\n\n223\n00:12:12.750 --> 00:12:16.020\nSo let's just start off\nwith an if statement.\n\n224\n00:12:16.020 --> 00:12:19.800\nSay if, well,\nactually we need to check root, right?\n\n225\n00:12:19.800 --> 00:12:21.200\nWe always wanna check for root, right?\n\n226\n00:12:21.200 --> 00:12:23.165\nThat was the, I think one of the first,\nif not the first thing.\n\n227\n00:12:23.165 --> 00:12:26.640\nI'd say root checker, so let's add that.\n\n228\n00:12:26.640 --> 00:12:34.216\nSo if I do rooted,\nthat's my verbal, =$whoami, like so.\n\n229\n00:12:34.216 --> 00:12:37.260\nThat will check and see.\n\n230\n00:12:37.260 --> 00:12:40.630\nAnd now I can use that saying,\n\n231\n00:12:40.630 --> 00:12:45.160\nif rooted equals root,\nthen I know that I'm rooted.\n\n232\n00:12:45.160 --> 00:12:46.830\nIf not, do something else, right?\n\n233\n00:12:46.830 --> 00:12:47.730\nGive me that.\n\n234\n00:12:47.730 --> 00:12:51.360\nSo I think that's probably the best\nplace for us to start here.\n\n235\n00:12:51.360 --> 00:12:55.625\nSo I will say, if like that,\nI think I need two square brackets for\n\n236\n00:12:55.625 --> 00:12:58.818\nthis because we're going\nto be doing some more.\n\n237\n00:12:58.818 --> 00:13:01.027\nI like doing [INAUDIBLE]\nstring comparisons a lot,\n\n238\n00:13:01.027 --> 00:13:03.773\ncuz you know never know when\nit's gonna get more convoluted.\n\n239\n00:13:03.773 --> 00:13:05.700\nIt's just easy to go ahead build that in.\n\n240\n00:13:05.700 --> 00:13:10.728\nSo I'll say, if $rooted\n\n241\n00:13:10.728 --> 00:13:15.298\n= \"root\" like that,\n\n242\n00:13:15.298 --> 00:13:20.563\nthen we'll do something.\n\n243\n00:13:20.563 --> 00:13:23.540\nWe'll just right now say, echo.\n\n244\n00:13:26.210 --> 00:13:28.110\nRight now I'm building skeleton.\n\n245\n00:13:30.510 --> 00:13:35.550\nElse, this is where I would say,\nyou're not root,\n\n246\n00:13:36.650 --> 00:13:40.738\nso I want to let you know hey,\nyou didn't run this as root.\n\n247\n00:13:40.738 --> 00:13:42.830\nYou might wanna check on it.\n\n248\n00:13:42.830 --> 00:13:47.940\nSo else we will echo,\nwell, what do we put?\n\n249\n00:13:47.940 --> 00:13:53.443\nI'll do the exact same thing.\n\n250\n00:13:53.443 --> 00:13:58.746\necho \"Are you rich?\", like that,\necho invalid parameters\n\n251\n00:13:58.746 --> 00:14:05.069\nbecause we will be adding parameters\nto this so maybe that's the problem.\n\n252\n00:14:05.069 --> 00:14:09.290\nI'm gonna go ahead and\nput that stuff in here.\n\n253\n00:14:09.290 --> 00:14:11.114\nBecause it's easy,\nwe can get it out of the way.\n\n254\n00:14:11.114 --> 00:14:14.949\nSo invalid parameters.\n\n255\n00:14:14.949 --> 00:14:17.596\n[SOUND] Echo,\n\n256\n00:14:17.596 --> 00:14:23.617\ngive it the instruction set.\n\n257\n00:14:23.617 --> 00:14:27.668\nLet me show you exactly how this should\nlook in case you made a mistake there,\n\n258\n00:14:27.668 --> 00:14:28.822\nwhich I did, right?\n\n259\n00:14:28.822 --> 00:14:33.597\nSo to back up, let's say sudo\n\n260\n00:14:33.597 --> 00:14:37.609\n-/2backup.sh, and\n\n261\n00:14:37.609 --> 00:14:42.766\nthen we'll say -b for back up,\n\n262\n00:14:42.766 --> 00:14:47.924\nthen it's archive_name, and\n\n263\n00:14:47.924 --> 00:14:52.710\nthen file/dir, like that.\n\n264\n00:14:53.790 --> 00:14:57.570\nOne more for\nrestore because that gonna put that there.\n\n265\n00:14:58.820 --> 00:15:03.170\nThis echo, I didn't capitalize that.\n\n266\n00:15:03.170 --> 00:15:07.027\nI'm not crazy about that kind of thing.\n\n267\n00:15:07.027 --> 00:15:07.527\nSo there we go.\n\n268\n00:15:09.410 --> 00:15:11.436\nAnd then to restore,\n\n269\n00:15:14.361 --> 00:15:19.430\nsudo _/2bactu.sh -r\n\n270\n00:15:19.430 --> 00:15:24.733\narchive_name FULL PATH.\n\n271\n00:15:24.733 --> 00:15:29.176\nWe'll say requires\n\n272\n00:15:31.005 --> 00:15:35.447\npath required, and\n\n273\n00:15:35.447 --> 00:15:39.887\n[SOUND] then we need,\n\n274\n00:15:40.931 --> 00:15:47.640\nthe restored directory.\n\n275\n00:15:47.640 --> 00:15:54.419\nRestore dir, and\nwe'll say it's optional, like that.\n\n276\n00:15:54.419 --> 00:15:56.040\nI'll close that out.\n\n277\n00:15:56.040 --> 00:15:58.280\nAnd then of course my field.\n\n278\n00:15:58.280 --> 00:16:02.940\nSo at this point it should be all\nready to go with checking whether or\n\n279\n00:16:02.940 --> 00:16:06.240\nnot we are running this as roots.\n\n280\n00:16:06.240 --> 00:16:08.270\nAnd now all I have to do is\nstart filling out the logic for\n\n281\n00:16:08.270 --> 00:16:10.880\nthe rest of the actual backup stuff, okay?\n\n282\n00:16:12.930 --> 00:16:13.974\nJustin, what do you think?\nGood time for\n\n283\n00:16:13.974 --> 00:16:16.445\njust a test to make sure\neverything's working right?\n\n284\n00:16:16.445 --> 00:16:18.535\n&gt;&gt; I'm a big proponent\nof testing as we go.\n\n285\n00:16:18.535 --> 00:16:21.980\nCuz right now it's fairly simple, and if\nwe found an error in some of our logic or\n\n286\n00:16:21.980 --> 00:16:24.830\nthere was a syntax error,\nit's gonna be really easy to fix.\n\n287\n00:16:24.830 --> 00:16:28.090\nSo I'm a test early and often, and\ndon't get too carried away and\n\n288\n00:16:28.090 --> 00:16:29.310\ngo, my script is done.\n\n289\n00:16:29.310 --> 00:16:30.700\nAnd then it's broke.\n\n290\n00:16:30.700 --> 00:16:32.790\n&gt;&gt; Yeah,\n[LAUGH] what am I supposed to do now?\n\n291\n00:16:32.790 --> 00:16:36.486\nCuz now you spent an hour that you could\nhave fixed incrementally throughout\n\n292\n00:16:36.486 --> 00:16:37.910\nbuilding it up, so.\n\n293\n00:16:37.910 --> 00:16:41.080\nTest soon, often.\n\n294\n00:16:41.080 --> 00:16:43.670\nIf you're in doubt when to test,\njust go ahead and test it anyway.\n\n295\n00:16:43.670 --> 00:16:44.990\n&gt;&gt; Yeah, I like it.\n\n296\n00:16:44.990 --> 00:16:45.500\nLet's do it.\n\n297\n00:16:45.500 --> 00:16:47.180\nLet's hammer this thing out.\n\n298\n00:16:47.180 --> 00:16:48.730\nCtrl+S to save, Ctrl+X.\n\n299\n00:16:48.730 --> 00:16:56.120\nAnd we'll ch, don't forget to change your\npermissions, u plus x with 2 backed up.\n\n300\n00:16:56.120 --> 00:16:58.720\nBing, and\nnow it should be able to run ./2.\n\n301\n00:17:00.890 --> 00:17:06.125\nExcellent, are you root then works,\nso it is successfully checking out.\n\n302\n00:17:06.125 --> 00:17:09.601\nI will do it correctly just to make sure.\n\n303\n00:17:09.601 --> 00:17:12.400\nAnd it did,\nit hit back with great, all right.\n\n304\n00:17:12.400 --> 00:17:15.904\nSo it's good,\nwe've got things are working, and\n\n305\n00:17:15.904 --> 00:17:19.583\nnow we will be able to move\ninto the actual logic of it.\n\n306\n00:17:19.583 --> 00:17:20.664\nJustin, I'm looking at time.\n\n307\n00:17:20.664 --> 00:17:24.138\nOnly got a bit of time left, but I think\nit would be a good stopping spot here.\n\n308\n00:17:24.138 --> 00:17:28.209\nAnd then to pick the part two now\nthat we have the basics ready to go,\n\n309\n00:17:28.209 --> 00:17:30.117\nand all we have to do is fill in.\n\n310\n00:17:30.117 --> 00:17:32.150\nWe'll make part two all about that.\n\n311\n00:17:32.150 --> 00:17:33.040\nWhat do you think?\n\n312\n00:17:33.040 --> 00:17:34.060\n&gt;&gt; I think I agree with that.\n\n313\n00:17:34.060 --> 00:17:36.680\nIf you know you're gonna have\nto cut it up, just go ahead and\n\n314\n00:17:36.680 --> 00:17:38.234\nmake a logical breakpoint.\n\n315\n00:17:38.234 --> 00:17:42.990\nWe got our setup, we actually saw early on\nin this episode what we're gonna build,\n\n316\n00:17:42.990 --> 00:17:44.730\nbut I know there's some additional logic,\n\n317\n00:17:44.730 --> 00:17:47.090\nsome nuanced behaviors\nthat we need to attend to.\n\n318\n00:17:47.090 --> 00:17:50.050\nAnd well, we should give an appropriate\namount of time for that.\n\n319\n00:17:50.050 --> 00:17:52.700\nSo we're gonna go ahead and wrap this\none up, but definitely join us back for\n\n320\n00:17:52.700 --> 00:17:55.300\npart two as we actually\nmake this thing back up.\n\n321\n00:17:55.300 --> 00:17:57.270\nBut for now,\nwe're gonna go ahead and sign off.\n\n322\n00:17:57.270 --> 00:17:59.690\nFor ITProTV, I've been your host,\nJustin Dennison.\n\n323\n00:17:59.690 --> 00:18:00.420\n&gt;&gt; And I'm Daniel Lowrie.\n\n324\n00:18:00.420 --> 00:18:02.964\n&gt;&gt; And we'll see you next time.\n\n325\n00:18:02.964 --> 00:18:08.858\n[MUSIC]\n\n326\n00:18:08.858 --> 00:18:11.207\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "241751988"
        },
        {
          "description": "In this episode, Daniel and Justin finish up their backup script by adding the logic that will control the creating and restoring of the specified file/directory to backup.",
          "length": "2098",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-2-1-2-backup_utility_pt_2-110317.00_34_46_21.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-2-1-2-backup_utility_pt_2-110317.00_34_46_21.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-linuxpracticalscripts/techskills-linuxpracticalscripts-2-1-2-backup_utility_pt_2-110317.00_34_46_21.Still001-sm.jpg",
          "title": "Backup Utility Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.005 --> 00:00:02.404\nWelcome to ITPRO.TV,\nI'm your host Don Pezet.\n\n2\n00:00:02.404 --> 00:00:06.677\n[CROSSTALK]\n\n3\n00:00:06.677 --> 00:00:08.311\n[MUSIC]\n\n4\n00:00:08.311 --> 00:00:11.811\n&gt;&gt; You're watching ITPRO.TV.\n\n5\n00:00:11.811 --> 00:00:15.839\n&gt;&gt; Greetings everyone and welcome back\nto another exciting episode of ITPRO.TV.\n\n6\n00:00:15.839 --> 00:00:17.160\nI'm your host Justin Dennison, and\n\n7\n00:00:17.160 --> 00:00:20.305\nwe are back with a part two in our\nbackup utility, which is one of those,\n\n8\n00:00:20.305 --> 00:00:24.280\nwell, practical scripts that I'd like to\nsee these things kinda come to fruition.\n\n9\n00:00:24.280 --> 00:00:26.260\nHow do I use this new Bash scripting?\n\n10\n00:00:26.260 --> 00:00:29.748\nAnd luckily we have someone in the studio\nthat is gonna lead us on this very\n\n11\n00:00:29.748 --> 00:00:31.190\njourney, Mr Daniel Lowrie.\n\n12\n00:00:31.190 --> 00:00:32.065\nHow you doing today, Daniel?\n\n13\n00:00:32.065 --> 00:00:34.370\n&gt;&gt; Feeling great,\nI'm feeling very leaderish.\n\n14\n00:00:34.370 --> 00:00:37.815\nHopefully we can lead you guys to the\npromised land of backing up certain files\n\n15\n00:00:37.815 --> 00:00:40.995\nwhenever you need them using a simple\nutility that you write yourself.\n\n16\n00:00:40.995 --> 00:00:45.994\nAnd you can make this even more simpler or\nmore complex, go crazy with it, again,\n\n17\n00:00:45.994 --> 00:00:47.910\nthis is not one size fits all.\n\n18\n00:00:47.910 --> 00:00:49.700\nYou can definitely change these things.\n\n19\n00:00:49.700 --> 00:00:53.390\nThey're just meant to give\nyou an impetus of creativity.\n\n20\n00:00:53.390 --> 00:00:55.530\nAnd take what I've done,\nmake it better, right,\n\n21\n00:00:55.530 --> 00:00:58.040\ncuz I'm not the world's\nbest script writer.\n\n22\n00:00:58.040 --> 00:01:02.502\nBut when I need to, I can employ my Bash\nknowledge to get something done that I\n\n23\n00:01:02.502 --> 00:01:05.870\nneed done and\njust write a script that does that for me.\n\n24\n00:01:05.870 --> 00:01:07.680\nAutomate whenever you can, right.\n\n25\n00:01:07.680 --> 00:01:10.688\nSo that being said, let's get back to\nwhat it is we're actually doing there,\n\n26\n00:01:10.688 --> 00:01:12.166\nour little backup utility.\n\n27\n00:01:12.166 --> 00:01:14.250\nRemember it's supposed to be an in time,\n\n28\n00:01:14.250 --> 00:01:18.750\nin place scenario where I wanna\njust back up this file and\n\n29\n00:01:18.750 --> 00:01:22.730\nI wanna put it in my backup area and\nkeep it safe for later use, right.\n\n30\n00:01:22.730 --> 00:01:28.060\nSo kinda like it's Tupperware for\nyour Linux environment, right?\n\n31\n00:01:28.060 --> 00:01:32.230\nKeep it safe and secure,\nhermetically sealed, for later use, right?\n\n32\n00:01:32.230 --> 00:01:35.100\nSo I don't know,\nJustin found that actually quite funny.\n\n33\n00:01:35.100 --> 00:01:36.628\n[LAUGH]\n&gt;&gt; For some reason,\n\n34\n00:01:36.628 --> 00:01:41.287\nI got this idea that we're writing\nsomething, someone walks over,\n\n35\n00:01:41.287 --> 00:01:46.370\ngrabs a file and puts it in a green shaded\nbowl, kind of sets it on the shelf.\n\n36\n00:01:46.370 --> 00:01:47.620\n&gt;&gt; You gotta make it burp, right?\n\n37\n00:01:47.620 --> 00:01:48.650\nBurp it.\n\n38\n00:01:48.650 --> 00:01:50.800\n&gt;&gt; But I will tell you, those are fun.\n\n39\n00:01:50.800 --> 00:01:51.485\n&gt;&gt; They are fun.\n\n40\n00:01:51.485 --> 00:01:54.475\n&gt;&gt; There's that mental imagery,\nI was like, man, yeah,\n\n41\n00:01:54.475 --> 00:01:56.180\nwe are making one of those.\n\n42\n00:01:56.180 --> 00:01:59.012\nBut it's funnier because of\nthe way my imagination runs.\n\n43\n00:01:59.012 --> 00:02:01.753\n&gt;&gt; Yes, Justin and I, in case you\nguys didn't know, are children.\n\n44\n00:02:01.753 --> 00:02:04.960\n[LAUGH] So\nkeep that in mind as we move forward.\n\n45\n00:02:04.960 --> 00:02:06.889\nAll right, that being said,\nlet's go back to our script,\n\n46\n00:02:06.889 --> 00:02:07.860\nlet's see where we left off.\n\n47\n00:02:07.860 --> 00:02:11.030\nWe got the bare bones kinda worked out for\nus.\n\n48\n00:02:11.030 --> 00:02:15.278\nSo let's nano back in to two, backed up.\n\n49\n00:02:15.278 --> 00:02:17.200\nAnd very simple stuff happening so far.\n\n50\n00:02:17.200 --> 00:02:20.245\nJust made sure that the person that's\nrunning this is running it as root.\n\n51\n00:02:20.245 --> 00:02:21.500\nCuz when we save it,\n\n52\n00:02:21.500 --> 00:02:25.600\nwe want to make sure that only root\nhas access to the backups, right?\n\n53\n00:02:25.600 --> 00:02:26.960\nAgain, you could change that.\n\n54\n00:02:26.960 --> 00:02:29.160\nBy all means go crazy,\nhave a good time with it.\n\n55\n00:02:29.160 --> 00:02:33.560\nBut I just thought that would be\na good idea for what I'm doing, okay?\n\n56\n00:02:33.560 --> 00:02:35.450\nSo now that we've got that out of the way,\n\n57\n00:02:36.670 --> 00:02:40.600\nwe can kinda drop in to what\nelse do we need to do, right.\n\n58\n00:02:41.910 --> 00:02:46.240\nWell, I need to make sure not only if\n\n59\n00:02:46.240 --> 00:02:49.640\nI'm root but\nother things are available, right.\n\n60\n00:02:49.640 --> 00:02:53.433\nBecause we're calling parameters\nfrom the command line and\n\n61\n00:02:53.433 --> 00:02:57.982\nthose parameters need to be interpreted\nas things that we need, right.\n\n62\n00:02:57.982 --> 00:03:03.273\nWe're gonna kinda like basically as\nthe user giving input into the system so\n\n63\n00:03:03.273 --> 00:03:06.670\nthat they can do the proper thing, right.\n\n64\n00:03:06.670 --> 00:03:11.090\nSo we need to make that functionality,\nwe need to say, not only if I'm root but\n\n65\n00:03:11.090 --> 00:03:16.060\nif root and first positional parameter is\nthis, second positional parameter is that.\n\n66\n00:03:16.060 --> 00:03:19.920\nThird positional parameter is this,\nand so on and so forth.\n\n67\n00:03:19.920 --> 00:03:23.390\nI want to do certain things x,\ny, and z okay?\n\n68\n00:03:23.390 --> 00:03:24.990\nSo we're checking as root.\n\n69\n00:03:24.990 --> 00:03:30.530\nI'm going to add some global variables\nup here with my rooted guy, right.\n\n70\n00:03:30.530 --> 00:03:34.410\nLet's add some extra\nglobal type variables.\n\n71\n00:03:35.690 --> 00:03:42.800\nl'm gonna make one called t_date, t_ date,\nlike that, or today's date, okay?\n\n72\n00:03:42.800 --> 00:03:45.392\nCan't use date, because that's a command,\nso I had to do something.\n\n73\n00:03:45.392 --> 00:03:47.909\nt_dates sounded great,\ncould have used today maybe.\n\n74\n00:03:47.909 --> 00:03:51.000\nI don't know if that's an actual\ncommand either, maybe it is.\n\n75\n00:03:51.000 --> 00:03:52.740\nSo I went with this.\n\n76\n00:03:52.740 --> 00:03:57.220\nAnd all I'm gonna do is I'm gonna use\nthe date command to format, to give me\n\n77\n00:03:57.220 --> 00:04:02.040\na string that has today's date with some\ncertain other parameters as well, right.\n\n78\n00:04:02.040 --> 00:04:02.910\nSo let's take a look at this.\n\n79\n00:04:02.910 --> 00:04:07.354\nSo $ and it will be, that's right,\n\n80\n00:04:07.354 --> 00:04:12.628\nthat's date +, I'm gonna say % like that.\n\n81\n00:04:12.628 --> 00:04:16.215\nI'm gonna go with hour and\npercent minutes.\n\n82\n00:04:16.215 --> 00:04:19.310\nBut I'm gonna do a dash like this.\n\n83\n00:04:19.310 --> 00:04:23.405\nAnd I'm gonna say %,\nI think I'll do year, month, day,\n\n84\n00:04:23.405 --> 00:04:28.150\nlike that, so year %, month %, day.\n\n85\n00:04:28.150 --> 00:04:33.360\nNow it shows this format because\nwhat if I back up a file today and\n\n86\n00:04:34.400 --> 00:04:39.010\nI wanna back it up again today, so\nkinda like make an incremental backup.\n\n87\n00:04:39.010 --> 00:04:40.770\nBut what's gonna happen?\n\n88\n00:04:40.770 --> 00:04:45.270\nI'm gonna run this thing and\nif it's just year, month, date, it's gonna\n\n89\n00:04:45.270 --> 00:04:49.510\noverwrite the, or it's gonna at least ask\nme to if I put that functionality in.\n\n90\n00:04:49.510 --> 00:04:52.700\nIt already exists,\ndo you wanna overwrite it, right?\n\n91\n00:04:52.700 --> 00:04:55.722\nAnd I would have to say, well,\nno, what do I do, right?\n\n92\n00:04:55.722 --> 00:04:59.556\nAnd since this is the backup area where\nall the backup files are supposed to go,\n\n93\n00:04:59.556 --> 00:05:01.020\nI could do a couple of things.\n\n94\n00:05:01.020 --> 00:05:04.730\nI can make a new backup area and\nhave it save somewhere else.\n\n95\n00:05:04.730 --> 00:05:06.790\nOr to make things easy,\n\n96\n00:05:06.790 --> 00:05:10.650\nI can see my incremental backups\nby adding that hour and minute.\n\n97\n00:05:10.650 --> 00:05:14.960\nIt's unlikely that I'll get down to\nthe second, at least hopefully not.\n\n98\n00:05:14.960 --> 00:05:19.240\nAt least for\nthis I decided not to go that deep.\n\n99\n00:05:19.240 --> 00:05:22.690\nYou can do that if you want, I'm not,\nI'm just gonna stop at the minute.\n\n100\n00:05:22.690 --> 00:05:26.140\n&gt;&gt; And Daniel, I can provide\nsome alternative perspective.\n\n101\n00:05:26.140 --> 00:05:29.624\nUsing dates like this,\nkind of using the date right now.\n\n102\n00:05:29.624 --> 00:05:34.759\nActually I may even go say now to\nfind out what the time is right now.\n\n103\n00:05:34.759 --> 00:05:39.384\nBut using those date strings as\ndetermining what the difference is is\n\n104\n00:05:39.384 --> 00:05:44.647\na really handy way not only to make sure\nyou don't overwrite the sortability,\n\n105\n00:05:44.647 --> 00:05:45.220\nright.\n\n106\n00:05:45.220 --> 00:05:47.435\nIf you know that you have kind\nof this incremental backup, and\n\n107\n00:05:47.435 --> 00:05:49.450\nmaybe it's happening fairly often.\n\n108\n00:05:49.450 --> 00:05:53.050\nIt'll sort by whatever's different and\nmore or less if it happened,\n\n109\n00:05:53.050 --> 00:05:54.900\nlet's say it happens\nevery minute per hour.\n\n110\n00:05:54.900 --> 00:05:58.770\nThen I may have minute one, minute two,\nminute three, minute four, minute.\n\n111\n00:05:58.770 --> 00:06:00.423\nAnd you go, what, it happened,\n\n112\n00:06:00.423 --> 00:06:02.974\nthis weirdness started\nhappening at minute five.\n\n113\n00:06:02.974 --> 00:06:05.711\nI can go back to minute four and\nit's real easy to sort and\n\n114\n00:06:05.711 --> 00:06:07.120\nmake sure that it all works.\n\n115\n00:06:07.120 --> 00:06:12.161\nSo this is a common pattern that I\nuse as well, not only in backups but\n\n116\n00:06:12.161 --> 00:06:16.597\nin some of my other data-related\nfun times, shall we say.\n\n117\n00:06:16.597 --> 00:06:20.503\n&gt;&gt; Yeah, [LAUGH] Justin, I want you to\nstop reading my mind cuz that's the other\n\n118\n00:06:20.503 --> 00:06:22.270\nreason that I'm using this.\n\n119\n00:06:22.270 --> 00:06:25.480\nBecause sorting it,\nlooking through those functionalities.\n\n120\n00:06:25.480 --> 00:06:29.660\nYou're kind of getting like a history\nof the backups that have occurred for\n\n121\n00:06:29.660 --> 00:06:31.950\nthat specific file, okay?\n\n122\n00:06:31.950 --> 00:06:37.580\nNow we do have some leeway with it where I\ncould change the name of the archive and\n\n123\n00:06:37.580 --> 00:06:40.280\nthat would be cool,\nthen I could create another one, right?\n\n124\n00:06:40.280 --> 00:06:43.770\nTo make it two archive or three archive or\narchive three or archive four,\n\n125\n00:06:43.770 --> 00:06:45.680\narchive five and so on and so forth.\n\n126\n00:06:45.680 --> 00:06:48.990\nAnd then I could take it in the same\nminute but I would also get\n\n127\n00:06:48.990 --> 00:06:53.750\nthat sortability because I labeled\nthem in such a way that they did that.\n\n128\n00:06:53.750 --> 00:06:55.720\nAgain, not a perfect script.\n\n129\n00:06:55.720 --> 00:07:00.240\nThis works for me in the way and if I find\none day where I'm like, you know what?\n\n130\n00:07:00.240 --> 00:07:02.390\nThat's not gonna work in that scenario.\n\n131\n00:07:02.390 --> 00:07:06.500\nI can go back into my script, put that\nfunctionality into it to account for\n\n132\n00:07:06.500 --> 00:07:09.310\nthat edge case, and\nyou're off to the races, right?\n\n133\n00:07:09.310 --> 00:07:10.278\nSo cool stuff.\n\n134\n00:07:10.278 --> 00:07:14.630\nThat's why we like to start with simple\nstuff and let them evolve as time goes on.\n\n135\n00:07:14.630 --> 00:07:15.610\nSo I've got today's date.\n\n136\n00:07:15.610 --> 00:07:20.280\nI also wanna give it the backup area,\nwhere am I'm backing up to.\n\n137\n00:07:20.280 --> 00:07:24.195\nAnd I wanna put that as a variable, so\nthat later, if I wanna add to, take away,\n\n138\n00:07:24.195 --> 00:07:27.300\nmodify, in any case,\nI don't have to modify my whole script.\n\n139\n00:07:27.300 --> 00:07:31.010\nI just modify the variable\nthat defines it.\n\n140\n00:07:31.010 --> 00:07:32.810\nAnd then I'm good to go, right?\n\n141\n00:07:34.000 --> 00:07:36.210\nSo I'm gonna call this,\nwhat am I gonna call this?\n\n142\n00:07:36.210 --> 00:07:41.946\nbakdir, bakdir =, and we'll just, yeah,\n\n143\n00:07:41.946 --> 00:07:47.105\n/backup, like that, and we're good.\n\n144\n00:07:47.105 --> 00:07:51.714\nSo now I've got some good global variables\nthat I can use throughout the script.\n\n145\n00:07:51.714 --> 00:07:54.999\nAll right, let's get back down\ninto the business here at hand.\n\n146\n00:07:54.999 --> 00:07:57.070\nAnd that is into here.\n\n147\n00:07:57.070 --> 00:08:01.057\nSo what I'm gonna do is instead of\njust having just checking for root,\n\n148\n00:08:01.057 --> 00:08:06.080\nI'm also gonna check for a command line\nparameters, right, because that's in here.\n\n149\n00:08:07.090 --> 00:08:11.130\nThat's why I'm gonna have this\nall as one big and in statement.\n\n150\n00:08:12.390 --> 00:08:12.980\nI'm gonna check,\n\n151\n00:08:12.980 --> 00:08:18.267\nall of these things must be true otherwise\nyou're gonna get the else statement.\n\n152\n00:08:18.267 --> 00:08:19.130\nMake sense?\n\n153\n00:08:19.130 --> 00:08:21.040\nHopefully it does, you'll see it as I go.\n\n154\n00:08:21.040 --> 00:08:25.000\nSo I'm gonna say check for root, and and.\n\n155\n00:08:25.000 --> 00:08:26.560\nWhere's my and and?\n\n156\n00:08:26.560 --> 00:08:31.070\nAlso check for, where's my, there it is,\n\n157\n00:08:31.070 --> 00:08:34.610\nbang bang,\nalso check the first positional parameter.\n\n158\n00:08:34.610 --> 00:08:35.970\nWhat is it?\n\n159\n00:08:35.970 --> 00:08:39.530\nIs it -v, is it -r, is it xyz?\n\n160\n00:08:39.530 --> 00:08:43.590\nWhat did they put in that\nfirst positional parameter?\n\n161\n00:08:43.590 --> 00:08:44.430\nI want to look for\n\n162\n00:08:44.430 --> 00:08:49.620\nspecific type of input from that position\nparameter which is a -b or a -r.\n\n163\n00:08:49.620 --> 00:08:52.750\nWe'll get to those because obviously\nthey're going to be different in\n\n164\n00:08:52.750 --> 00:08:54.030\nwhat they do.\n\n165\n00:08:54.030 --> 00:08:56.688\nSo I gotta make one if for if it's a -v,\n\n166\n00:08:56.688 --> 00:09:01.698\nI've gotta make one if if it's a -r,\nand I can string all this together.\n\n167\n00:09:01.698 --> 00:09:06.448\nSo I'll say, basically $1 =, and\n\n168\n00:09:06.448 --> 00:09:12.090\nthen throw it in quotations, -b like that,\n\n169\n00:09:12.090 --> 00:09:16.780\nso like so, bing bang, there we go.\n\n170\n00:09:16.780 --> 00:09:21.642\nSo if you are root and $1 = -b,\nso that first position\n\n171\n00:09:21.642 --> 00:09:27.250\nparameter shows up as a -b,\nthen we can move forward.\n\n172\n00:09:27.250 --> 00:09:31.560\nBut I'm not done yet\ncuz I also need some other parameters.\n\n173\n00:09:31.560 --> 00:09:33.370\nNow there is the archive name, but\n\n174\n00:09:33.370 --> 00:09:36.110\nI'm not so much worried about the archive\nname because it can be anything you want.\n\n175\n00:09:36.110 --> 00:09:39.720\nIt can be empty and\nit would still technically work,\n\n176\n00:09:39.720 --> 00:09:45.360\nagain not a perfect script, this is quick\nand dirty for me, for me to do stuff.\n\n177\n00:09:45.360 --> 00:09:48.580\nWhich is also why I put in stuff, again\nyou're always gonna find little things\n\n178\n00:09:48.580 --> 00:09:50.960\nlike that didn't work like I expected.\n\n179\n00:09:50.960 --> 00:09:52.630\nWhen you find that go back and fix it.\n\n180\n00:09:52.630 --> 00:09:54.610\nI'm just gonna leave it like I've\ngot right now because it works for\n\n181\n00:09:54.610 --> 00:09:55.640\nme right now.\n\n182\n00:09:55.640 --> 00:09:58.250\nIf I was struggling using more users\nmaybe I would change the functionality.\n\n183\n00:09:58.250 --> 00:10:03.330\nBut right now I also just want\nto go to and look at positional\n\n184\n00:10:03.330 --> 00:10:08.200\nparameter number three and\nsee what is the file, right.\n\n185\n00:10:08.200 --> 00:10:10.570\nWhat file are we backing up?\n\n186\n00:10:10.570 --> 00:10:16.000\nThat's gonna be a positional, positional\nparameter two will be read in later, okay.\n\n187\n00:10:16.000 --> 00:10:20.155\nWell it's gonna bring that in and\nwe're gonna manipulate it later, okay.\n\n188\n00:10:20.155 --> 00:10:22.553\nSo $3 =, and then we will put,\n\n189\n00:10:22.553 --> 00:10:27.310\nwell actually what we're gonna do is say,\ndoes it exist?\n\n190\n00:10:27.310 --> 00:10:31.030\nIs that a file that exists, okay?\n\n191\n00:10:32.400 --> 00:10:36.961\nSo we'll do -e $3 like that.\n\n192\n00:10:38.380 --> 00:10:44.260\nAnd then from there, we can do,\nso this whole thing must be true.\n\n193\n00:10:45.435 --> 00:10:52.890\nYou must be root, you must have a -b, and\nwhatever file you fed it must exists.\n\n194\n00:10:52.890 --> 00:10:56.048\nSo if it doesn't, maybe you've gotta put\nthe full path on there because you're\n\n195\n00:10:56.048 --> 00:10:57.950\nlooking at the file end of the path.\n\n196\n00:10:57.950 --> 00:11:01.860\nAs long as that file exists,\ncuz that's what that -e is checking for,\n\n197\n00:11:01.860 --> 00:11:06.830\nthen we will do the commands\nunderneath here, okay.\n\n198\n00:11:06.830 --> 00:11:11.090\nLet's go ahead and put in the -r stuff\nas well, right, go ahead and do that.\n\n199\n00:11:11.090 --> 00:11:17.340\nLet's get to the end of Great, so,\nthis will be an elif statement.\n\n200\n00:11:17.340 --> 00:11:22.720\nAnd kind of mimicking this, so\nI'm just going to copy that.\n\n201\n00:11:22.720 --> 00:11:25.939\nI know Justin's like,\n[SOUND] don't you dare do that, but\n\n202\n00:11:25.939 --> 00:11:27.458\nI'm doing it to save time.\n\n203\n00:11:27.458 --> 00:11:31.759\n&gt;&gt; Well Daniel, I can say it's\nbad about propagating errors but\n\n204\n00:11:31.759 --> 00:11:34.346\nI'm not saying I've never done it.\n\n205\n00:11:34.346 --> 00:11:35.726\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm like yeah this, and\n\n206\n00:11:35.726 --> 00:11:39.800\nsome of my editors like,\nif you're in [INAUDIBLE] or something.\n\n207\n00:11:39.800 --> 00:11:44.192\nThe end of the line yank, look it's\ncopied, I don't know how that happened.\n\n208\n00:11:44.192 --> 00:11:47.650\nAnd so there are times and\nplaces for these things.\n\n209\n00:11:47.650 --> 00:11:48.390\n&gt;&gt; Yes there are.\n\n210\n00:11:48.390 --> 00:11:50.830\nThis is one of them,\nwe're saving a little bit of time, right.\n\n211\n00:11:50.830 --> 00:11:52.033\nSo I'm gonna in here,\nI'm gonna change this.\n\n212\n00:11:52.033 --> 00:11:56.840\nYou do need to be a root, but\nhere I want $1 to equal r.\n\n213\n00:11:56.840 --> 00:12:01.240\nAnd then I'm checking, but $r's a little\nbit different cuz if you look down here\n\n214\n00:12:01.240 --> 00:12:06.099\nwhere it says, what's going to happen,\nthis is how it should look sudu bactup -r,\n\n215\n00:12:06.099 --> 00:12:10.180\narchive name where we wanna restore.\n\n216\n00:12:10.180 --> 00:12:13.770\nWell if I'm restoring it has to exist for\nme to restore it, so\n\n217\n00:12:13.770 --> 00:12:15.680\nnow I need to check $2, right.\n\n218\n00:12:15.680 --> 00:12:21.310\nCuz that's $1, this is $2 right here.\n\n219\n00:12:21.310 --> 00:12:23.790\nSo I need to check to see if it exists,\nso I will do that.\n\n220\n00:12:23.790 --> 00:12:30.000\nI will change this to $2,\n\n221\n00:12:30.000 --> 00:12:35.990\nand then if they put a restore there,\nI would need to check that as well, okay.\n\n222\n00:12:35.990 --> 00:12:38.780\nSo let's put that in there.\n\n223\n00:12:38.780 --> 00:12:41.043\nAnd another, right, I have enough?\n\n224\n00:12:41.043 --> 00:12:46.970\nDefinitely check that, we definitely want\nto check that and then restore directory.\n\n225\n00:12:46.970 --> 00:12:51.100\nI think there might be a case, if they add\nthe directory it's optional, all right.\n\n226\n00:12:51.100 --> 00:12:55.623\nSo if they put that there, probably good\nidea to check if that directory exists so\n\n227\n00:12:55.623 --> 00:12:58.560\nthey know whether or\nnot they can write to it, okay.\n\n228\n00:12:58.560 --> 00:13:00.215\nSo that's what I'm gonna put.\n\n229\n00:13:00.215 --> 00:13:01.479\nWhere did my cursor?\n\n230\n00:13:01.479 --> 00:13:02.239\nThere you are.\n\n231\n00:13:02.239 --> 00:13:07.444\nSo &amp;&amp; as well $3 or\n\n232\n00:13:07.444 --> 00:13:13.523\n-e $-e$ there we go.\n\n233\n00:13:13.523 --> 00:13:15.174\nAnd that should work.\n\n234\n00:13:15.174 --> 00:13:16.800\nWe'll give it a then.\n\n235\n00:13:16.800 --> 00:13:18.950\nAnd we're gonna have some action there.\n\n236\n00:13:18.950 --> 00:13:23.300\nWe also have,\nwhat if they don't put a directory?\n\n237\n00:13:23.300 --> 00:13:26.661\nGotta make that as well, so elif, and\n\n238\n00:13:26.661 --> 00:13:31.718\nthen I would copy that back in there,\nchange this to -r.\n\n239\n00:13:31.718 --> 00:13:35.670\nGo in here, change this to -2, and there.\n\n240\n00:13:37.090 --> 00:13:40.710\nAll right, we're starting to get\na little further along the path here.\n\n241\n00:13:40.710 --> 00:13:46.000\nSo now that we have basically\nthe entire set up for this thing,\n\n242\n00:13:46.000 --> 00:13:51.591\nlet's go in and say now that we know\nif you are root and it was a -b,\n\n243\n00:13:51.591 --> 00:13:56.518\nyou gave it an archive name and\nthe file you wanna back up.\n\n244\n00:13:56.518 --> 00:13:59.354\nDo those things,\nwe gotta give those commands, right.\n\n245\n00:13:59.354 --> 00:14:02.580\nSo let's go in to here,\nwe've got the then statement.\n\n246\n00:14:02.580 --> 00:14:05.340\nAnd we're gonna fire\nthis one off with TAR,\n\n247\n00:14:05.340 --> 00:14:07.530\nwe're gonna use TAR as\nour archive utility.\n\n248\n00:14:07.530 --> 00:14:10.910\nThere's other archive utilities out there\nif you wanted to use that, fine with me.\n\n249\n00:14:10.910 --> 00:14:14.090\nBut TAR is usually built into just\nabout every single Linux system if not\n\n250\n00:14:14.090 --> 00:14:14.990\nevery one of them.\n\n251\n00:14:14.990 --> 00:14:17.174\nSo that's what I'm gonna use and\nit works well enough.\n\n252\n00:14:17.174 --> 00:14:24.409\nSo we'll say tar -czvf like that.\n\n253\n00:14:24.409 --> 00:14:27.660\nThose are all the command line parameters\nI'm gonna need to do the correct TARing.\n\n254\n00:14:27.660 --> 00:14:33.080\nI am basically saying zip this file up,\ncompress the file,\n\n255\n00:14:33.080 --> 00:14:37.400\nI like v for verbosity, so if anything\ncomes out as informational, I'll get that.\n\n256\n00:14:37.400 --> 00:14:40.640\nAnd then f for\nthe file that we're gonna work with.\n\n257\n00:14:40.640 --> 00:14:43.205\nAnd here's what's gonna happen,\nI'm gonna say $2,\n\n258\n00:14:43.205 --> 00:14:45.780\njust remember that's my\nsecond positional parameter.\n\n259\n00:14:45.780 --> 00:14:49.950\nWhat is the second positional parameter\nin this portion of the statement?\n\n260\n00:14:49.950 --> 00:14:53.790\nWell if I'm backing up, it's going to\nbe what I want to name the archive.\n\n261\n00:14:53.790 --> 00:14:57.686\nSo now I just get to reference that as $2,\nslip it right in, it's great stuff.\n\n262\n00:14:57.686 --> 00:15:01.994\nRight, $2, and then I'm gonna say,\n\n263\n00:15:01.994 --> 00:15:06.320\nbackup, like that and then, .$t8.\n\n264\n00:15:07.910 --> 00:15:09.230\nSo what am I doing?\n\n265\n00:15:09.230 --> 00:15:13.870\nI'm saying here's the file, I'm giving\nit the full name that I want it to be.\n\n266\n00:15:13.870 --> 00:15:20.050\nSo if I say this is going to be backup\none, -b backup one, it will say\n\n267\n00:15:20.050 --> 00:15:24.823\nbackup one dot backup dot whatever\nthe date is when it runs that command,\n\n268\n00:15:24.823 --> 00:15:28.590\ngiving me that sortability at the end,\nright.\n\n269\n00:15:28.590 --> 00:15:30.930\nSo that should help us out.\n\n270\n00:15:30.930 --> 00:15:35.170\nAfter that we just need $3 with the path,\nall right,\n\n271\n00:15:35.170 --> 00:15:39.780\nbecause that will be path\nyou wanna back up to, right.\n\n272\n00:15:39.780 --> 00:15:43.993\nRight, is that what, yes, I'm sorry,\nthe file that we're wanting to back up,\n\n273\n00:15:43.993 --> 00:15:46.710\ngetting ahead of myself, excellent stuff.\n\n274\n00:15:46.710 --> 00:15:47.880\nAll right, so that's all done.\n\n275\n00:15:47.880 --> 00:15:51.013\nThat should create that.\n\n276\n00:15:51.013 --> 00:15:54.829\nI'm feeling like we should echo that out.\n\n277\n00:15:54.829 --> 00:16:01.730\nWell let's not, that's not going into A\ncommand for save, just creating a backup.\n\n278\n00:16:01.730 --> 00:16:05.970\nI could do this and\nshould create a backup if I test it.\n\n279\n00:16:05.970 --> 00:16:10.990\nIt adds a little more functionality to it,\njust let's actually finish this out and\n\n280\n00:16:10.990 --> 00:16:13.650\nthen we'll come back and\nwe'll test all this.\n\n281\n00:16:13.650 --> 00:16:17.960\n&gt;&gt; Well, just to help along with testing,\nI was, okay, t_date actually a t_date.\n\n282\n00:16:17.960 --> 00:16:22.580\nAre we missing an equals sign for that\nt_date variable assignment at the top?\n\n283\n00:16:22.580 --> 00:16:24.194\n&gt;&gt; Man!\n[INAUDIBLE] instead of is never hurt\n\n284\n00:16:24.194 --> 00:16:25.340\nanybody, right?\n\n285\n00:16:25.340 --> 00:16:25.960\nThank you, sir.\n\n286\n00:16:25.960 --> 00:16:27.430\nGood job on that.\n\n287\n00:16:27.430 --> 00:16:28.110\nYou're right.\n\n288\n00:16:28.110 --> 00:16:31.080\nI am missing an equals sign right there.\n\n289\n00:16:31.080 --> 00:16:32.260\nMy man Justin.\n\n290\n00:16:32.260 --> 00:16:34.670\nKeeping a watchful eye over our code.\n\n291\n00:16:34.670 --> 00:16:36.100\nWe thank you for it.\n\n292\n00:16:36.100 --> 00:16:38.000\nAll right, let's move back down in here.\n\n293\n00:16:38.000 --> 00:16:41.685\nAnd as he continues to\nwatch me do stupid things.\n\n294\n00:16:41.685 --> 00:16:44.230\n[LAUGH] Let's see here,\nnow what do we wanna do?\n\n295\n00:16:44.230 --> 00:16:51.380\nWell, I guess a good idea would maybe to\nthrow this into an actual variable, right?\n\n296\n00:16:51.380 --> 00:16:54.050\nI'm gonna it zippy,\ncuz it's my zip dev file.\n\n297\n00:16:54.050 --> 00:16:59.341\nI'll say zippy equals, all right, and\n\n298\n00:16:59.341 --> 00:17:06.189\nit would be that thing,\nis $2.backup.St_date\n\n299\n00:17:06.189 --> 00:17:10.870\nthat's all so, I've created it.\n\n300\n00:17:10.870 --> 00:17:15.320\nI've also saved it as a variable.\n\n301\n00:17:17.400 --> 00:17:19.378\nNow I'm going to echo,\nbecause we want to check and\n\n302\n00:17:19.378 --> 00:17:20.990\nmake sure all this stuff is going to work.\n\n303\n00:17:20.990 --> 00:17:22.850\nSo I'm just going to get\na little echo statement and\n\n304\n00:17:22.850 --> 00:17:24.501\nlet people know that's what's happening.\n\n305\n00:17:24.501 --> 00:17:28.704\nActually, I guess I can use\nthe echo I already have and\n\n306\n00:17:28.704 --> 00:17:30.860\nI'm going to just do this.\n\n307\n00:17:30.860 --> 00:17:34.690\nSay checking if $zippy.\n\n308\n00:17:36.100 --> 00:17:40.488\nCan I do it, zippy,\n\n309\n00:17:40.488 --> 00:17:45.393\nthere we go, exists or\n\n310\n00:17:45.393 --> 00:17:51.600\nalready exists in back dir.\n\n311\n00:17:51.600 --> 00:17:55.330\nOkay, there we go, so easy stuff just\ngiving some information to my code there.\n\n312\n00:17:57.090 --> 00:18:01.460\nAll right, so let's put that in there and\nnow, well, guess what?\n\n313\n00:18:01.460 --> 00:18:06.020\nWe're onto another condition, because\nit's either going to exist or it's not.\n\n314\n00:18:07.730 --> 00:18:11.220\nThen we have to create code for that.\n\n315\n00:18:11.220 --> 00:18:12.820\nLet's try to hammer that\nout really quickly here.\n\n316\n00:18:12.820 --> 00:18:18.210\nSo I'll say if, bring that in.\n\n317\n00:18:18.210 --> 00:18:19.440\nWe're doing an exist.\n\n318\n00:18:19.440 --> 00:18:26.350\nSo actually if it doesn't exist,\nif it doesn't dash e, thank you.\n\n319\n00:18:26.350 --> 00:18:31.630\nAnd give it the files,\nthat's backdr slash zippy,\n\n320\n00:18:32.890 --> 00:18:37.240\nthat does not exist, well,\n\n321\n00:18:37.240 --> 00:18:42.910\nthen I'll just put that in there and\nwe'll do a move.\n\n322\n00:18:42.910 --> 00:18:46.135\nSo if it checks that directory and\n\n323\n00:18:46.135 --> 00:18:49.720\nzippy's not there looking to compare\nthe files, this doesn't exist, well,\n\n324\n00:18:49.720 --> 00:18:53.110\nthen I want to move zippy from where I've\ncreated it into the backup directory.\n\n325\n00:18:53.110 --> 00:18:55.940\nI don't want to copy it I want to\nmove it cuz I want it out of here.\n\n326\n00:18:55.940 --> 00:19:02.373\nThen I'm going to change some permissions\non it, so no one else can touch it, okay?\n\n327\n00:19:02.373 --> 00:19:04.889\nSo I will say, let's see here.\n\n328\n00:19:04.889 --> 00:19:07.747\nWe'll move, what is that?\n\n329\n00:19:07.747 --> 00:19:09.665\nZippy I guess.\n\n330\n00:19:09.665 --> 00:19:15.844\n$zippy to $backdir.\n\n331\n00:19:15.844 --> 00:19:17.907\nAnd then we'll chmod.\n\n332\n00:19:17.907 --> 00:19:23.135\nChmod and then we will do u=rw and\n\n333\n00:19:23.135 --> 00:19:26.690\ndo get equal nothing.\n\n334\n00:19:28.600 --> 00:19:35.366\nAnd then did on $backdir/zippy.\n\n335\n00:19:38.037 --> 00:19:42.248\nAnd so\njust making it only available to remove.\n\n336\n00:19:42.248 --> 00:19:47.333\nAll right, and\nthen we'll just echo out back up complete,\n\n337\n00:19:47.333 --> 00:19:51.005\ncuz it is should be done so backup.\n\n338\n00:19:53.439 --> 00:19:53.939\nThere you go.\n\n339\n00:19:55.520 --> 00:20:00.470\nAnd then you know what just for\nverification purposes I'll ls that.\n\n340\n00:20:00.470 --> 00:20:05.030\nSo ls dash I'll do an lh just\nin case it gets too big.\n\n341\n00:20:05.030 --> 00:20:08.580\nOur file is hard to read that way,\nor any other way, and\n\n342\n00:20:08.580 --> 00:20:12.150\ndollar sign back dir slash zippy.\n\n343\n00:20:15.890 --> 00:20:18.290\nYeah, that's a lot, but we're not done.\n\n344\n00:20:18.290 --> 00:20:20.200\nWe've gotta do the else statement.\n\n345\n00:20:20.200 --> 00:20:23.400\nSo if it doesn't exist,\nmove it, that's great.\n\n346\n00:20:23.400 --> 00:20:27.080\nElse, so basically,\nthere's only two options here.\n\n347\n00:20:27.080 --> 00:20:28.730\nIt either exists or it doesn't.\n\n348\n00:20:28.730 --> 00:20:29.710\nElse do something.\n\n349\n00:20:29.710 --> 00:20:31.780\nOkay, so we'll do an else.\n\n350\n00:20:33.440 --> 00:20:35.950\nAnd will write in seizure,\n\n351\n00:20:35.950 --> 00:20:39.800\nmaybe we want them to be able to\noverwrite it if it finds it, okay?\n\n352\n00:20:39.800 --> 00:20:43.040\nMore conditions, damn, right?\n\n353\n00:20:43.040 --> 00:20:46.452\nWell, I'll do the read -p and\n\n354\n00:20:46.452 --> 00:20:50.920\nI'll say file already exists, right?\n\n355\n00:20:50.920 --> 00:20:52.737\nSo file, I'll given them names, so\n\n356\n00:20:52.737 --> 00:20:56.510\nthey know exactly what name\nthey're working with, right?\n\n357\n00:20:56.510 --> 00:21:00.358\n&gt;&gt; I know you're deep into it,\nbut I do want to jump in here and\n\n358\n00:21:00.358 --> 00:21:04.840\nsay if a reporting already exists, we\nprobably need to give them the full path,\n\n359\n00:21:04.840 --> 00:21:07.770\nand not just the file name\nin this context, right?\n\n360\n00:21:07.770 --> 00:21:08.940\n&gt;&gt; Yeah, that's a really good idea,\n\n361\n00:21:08.940 --> 00:21:14.090\nbecause what if the file name does\nexist in the path you're currently in?\n\n362\n00:21:14.090 --> 00:21:16.110\nAnd that's not the backup\nyou're looking for, right?\n\n363\n00:21:16.110 --> 00:21:20.122\nThat's not where you're trying to measure\nwhether or not something exists, so\n\n364\n00:21:20.122 --> 00:21:22.541\nit's a good idea usually\nto use full paths here.\n\n365\n00:21:22.541 --> 00:21:23.664\nSo it's a good idea.\n\n366\n00:21:23.664 --> 00:21:24.800\nWe'll throw that in there.\n\n367\n00:21:24.800 --> 00:21:27.220\nI'll make sure that happens,\nso what is that?\n\n368\n00:21:27.220 --> 00:21:33.331\nThat backup and\nthen it is we /$zippy, like that.\n\n369\n00:21:33.331 --> 00:21:35.873\nSo and\nthen of course this is informational, but\n\n370\n00:21:35.873 --> 00:21:39.970\nwe want to let that person know this is\nthe full area in which you're checking.\n\n371\n00:21:41.060 --> 00:21:44.610\nMake sure that's where\nwe didn't find this.\n\n372\n00:21:44.610 --> 00:21:48.310\nSo if it exists somewhere else,\nit's not here, okay?\n\n373\n00:21:48.310 --> 00:21:54.920\nSo file, back up zippy,\nand we will do what?\n\n374\n00:21:54.920 --> 00:21:56.960\nDoesn't exist?\n\n375\n00:21:56.960 --> 00:21:59.046\nYeah, just doesn't exist.\n\n376\n00:21:59.046 --> 00:22:04.350\nThat's what we're doing.\n\n377\n00:22:04.350 --> 00:22:06.935\nI'm losing my place,\nI got code everywhere, right?\n\n378\n00:22:06.935 --> 00:22:08.890\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm saying, yeah,\n\n379\n00:22:08.890 --> 00:22:12.929\nalready exists, already exists.\n\n380\n00:22:14.050 --> 00:22:18.030\nExists, is that right, my spelling is.\n\n381\n00:22:18.030 --> 00:22:19.370\nYeah.\n&gt;&gt; You're good, you're good.\n\n382\n00:22:19.370 --> 00:22:23.300\n&gt;&gt; My mind just went crazy, you and your\nquestions, man, you're all jacking me up.\n\n383\n00:22:23.300 --> 00:22:28.017\nAnd then I'll ask them if they want to\n\n384\n00:22:28.017 --> 00:22:32.436\noverwrite [SOUND] or I'll do this.\n\n385\n00:22:32.436 --> 00:22:37.808\nY and that looks good.\n\n386\n00:22:37.808 --> 00:22:41.410\nWon't give me kind of\ncrazy conditions here.\n\n387\n00:22:41.410 --> 00:22:48.360\nI'll do this cuz I like those and\nI'll call the variable overwritten YU.\n\n388\n00:22:49.940 --> 00:22:52.263\nOr overwrite YU.\n\n389\n00:22:54.564 --> 00:22:55.496\nThere we go, I like that.\n\n390\n00:22:55.496 --> 00:23:00.126\nOverwrite line,\nthat's why I'm getting from my.\n\n391\n00:23:00.126 --> 00:23:04.258\nAll right, so now that's in there,\nI've got to do a case statement,\n\n392\n00:23:04.258 --> 00:23:05.670\nbecause cases are fun.\n\n393\n00:23:05.670 --> 00:23:06.550\nI always love them.\n\n394\n00:23:06.550 --> 00:23:14.070\nYou guys know how much I love my case\nstatements, and I'll say $overwrite YNN\n\n395\n00:23:15.110 --> 00:23:19.550\nbang, start off with let's see here Ys and\nNos, right?\n\n396\n00:23:19.550 --> 00:23:25.530\nSo Y, Y, make sure you catch at\nleast some of the possibilities.\n\n397\n00:23:25.530 --> 00:23:26.960\nTab that out.\n\n398\n00:23:26.960 --> 00:23:33.116\nAnd we will then move $zippy to $backup,\n\n399\n00:23:33.116 --> 00:23:38.410\nso $zippy to $backup, like so.\n\n400\n00:23:38.410 --> 00:23:40.910\nOr is it back dir, there we go.\n\n401\n00:23:40.910 --> 00:23:45.970\nThat's all right, I caught a variable\nproblem right there, this one.\n\n402\n00:23:45.970 --> 00:23:47.810\nJust want to rename things on the fly,\nit's what I do.\n\n403\n00:23:47.810 --> 00:23:49.580\nIt's how I roll, right?\n\n404\n00:23:49.580 --> 00:23:51.662\nAnd that's why I have to\ndebug code from time to time.\n\n405\n00:23:51.662 --> 00:23:52.356\nBecause I do that.\n\n406\n00:23:52.356 --> 00:23:55.368\n[LAUGH] If you haven't done that,\nthen you will.\n\n407\n00:23:55.368 --> 00:23:58.307\nBecause it's an inevitability.\n\n408\n00:23:58.307 --> 00:24:00.758\nAll right, so, I've got that.\n\n409\n00:24:00.758 --> 00:24:02.600\nAnything else I wanna do with that?\n\n410\n00:24:02.600 --> 00:24:04.956\nYeah, I echo backup complete kinda stuff.\n\n411\n00:24:04.956 --> 00:24:09.877\nEcho, backup completed and then,\n\n412\n00:24:09.877 --> 00:24:16.446\nI'll LS it,\njust kinda like what I did before.\n\n413\n00:24:16.446 --> 00:24:19.234\nSo, ls -lh and\n\n414\n00:24:19.234 --> 00:24:24.595\nthat was backup this one which\n\n415\n00:24:24.595 --> 00:24:31.250\nis $backup/$zippy, like this.\n\n416\n00:24:33.120 --> 00:24:37.440\nThink that is all we need except for\nour little double semis there.\n\n417\n00:24:37.440 --> 00:24:42.450\nAnd then do an end like so, throw that on.\n\n418\n00:24:42.450 --> 00:24:48.860\nAnd for here,\nwe're not going to do anything,\n\n419\n00:24:48.860 --> 00:24:54.220\ncuz I don't want to overwrite, so I'm just\ngoing to kind a give them some information\n\n420\n00:24:54.220 --> 00:24:57.200\nand end this, this whole thing.\n\n421\n00:24:57.200 --> 00:25:01.937\nOkay, so do eco.\n\n422\n00:25:01.937 --> 00:25:09.191\nAww, that's jacked up!\n\n423\n00:25:09.191 --> 00:25:10.683\nThis is gonna be funny.\n\n424\n00:25:10.683 --> 00:25:12.788\nAnd cleaning files.\n\n425\n00:25:19.192 --> 00:25:22.600\nSo there we go, it gives them a little bit\nof information of what's gonna happen.\n\n426\n00:25:22.600 --> 00:25:26.690\nI'm gonna remove these files and\nwe'll call it a day.\n\n427\n00:25:26.690 --> 00:25:30.658\nSo we'll just $zippy, and\n\n428\n00:25:30.658 --> 00:25:34.502\nthen we will echo $zippy removed.\n\n429\n00:25:34.502 --> 00:25:40.024\nEcho $zippy removed and there we go.\n\n430\n00:25:42.585 --> 00:25:47.132\nDo these and\n\n431\n00:25:47.132 --> 00:25:52.589\nthen star echo\n\n432\n00:25:52.589 --> 00:25:59.418\ninvalid option.\n\n433\n00:25:59.418 --> 00:26:00.542\nQuotations there and\n\n434\n00:26:00.542 --> 00:26:05.060\nI guess it should be there some\nquickly working with one at a time.\n\n435\n00:26:05.060 --> 00:26:11.350\nSo just kinda invalid option and\nthen I'll just exit the program.\n\n436\n00:26:13.675 --> 00:26:19.232\nLike it so, don't forget to esac, esac.\n\n437\n00:26:19.232 --> 00:26:22.150\nThat's because that is the end of this.\n\n438\n00:26:22.150 --> 00:26:26.770\nNow if I'm not mistaken we were\nalso in an else statement, so\n\n439\n00:26:26.770 --> 00:26:30.160\nwe're gonna need a fi there as well,\nright?\n\n440\n00:26:30.160 --> 00:26:33.350\nThat is an easy thing to overlook\nespecially when you over-scroll like that.\n\n441\n00:26:33.350 --> 00:26:34.670\nAnd you forgot,\n\n442\n00:26:34.670 --> 00:26:40.040\nthis case is inside of an if statement,\nI have to close that if statement as well.\n\n443\n00:26:40.040 --> 00:26:44.040\nSo I will do, guess, it's here a fi.\n\n444\n00:26:45.500 --> 00:26:48.580\nAll right, that's is looking good.\n\n445\n00:26:48.580 --> 00:26:53.171\nI think we might be on\nthe verge of greatness here.\n\n446\n00:26:53.171 --> 00:26:54.170\n&gt;&gt; I think we are close.\n\n447\n00:26:54.170 --> 00:27:00.440\nI do have a question then $backup,\nthe ls-lh backup should that be back dir?\n\n448\n00:27:01.504 --> 00:27:04.521\n&gt;&gt; Man, I wanna call it backup so\nbad, ugh,\n\n449\n00:27:04.521 --> 00:27:08.674\ncuz he's actually right it\nshould be dollar sign there.\n\n450\n00:27:08.674 --> 00:27:13.450\nAnd there and it's cool if went through\nthis and created them all same back up.\n\n451\n00:27:13.450 --> 00:27:16.473\nI can just gone up to that variable,\nchanged it to bac up and\n\n452\n00:27:16.473 --> 00:27:18.092\nall of this would have worked.\n\n453\n00:27:18.092 --> 00:27:18.893\n&gt;&gt; [LAUGH]\n&gt;&gt; In one spot,\n\n454\n00:27:18.893 --> 00:27:20.140\nI wouldn't have to make multiple changes.\n\n455\n00:27:20.140 --> 00:27:23.240\nSo another good reason to use variables.\n\n456\n00:27:23.240 --> 00:27:26.880\nI don't know why my brain today\nis wanting to call it backup so\n\n457\n00:27:26.880 --> 00:27:28.600\nbad it can taste what it is.\n\n458\n00:27:28.600 --> 00:27:32.790\n&gt;&gt; Now if you scroll up a little bit\nfurther, I can't quite put my eye,\n\n459\n00:27:32.790 --> 00:27:36.956\nthere's some text there that I feel\nlike should be yellow or something.\n\n460\n00:27:36.956 --> 00:27:38.590\n&gt;&gt; You are absolutely right.\n\n461\n00:27:38.590 --> 00:27:39.930\n&gt;&gt; Am I missing something?\n\n462\n00:27:39.930 --> 00:27:41.200\n&gt;&gt; Nope, you are right.\n\n463\n00:27:41.200 --> 00:27:41.720\nGood job.\n\n464\n00:27:41.720 --> 00:27:43.910\nForgot to close that out.\n\n465\n00:27:43.910 --> 00:27:47.620\nBut if are to run this, we're going to\nget some sort of syntax error expecting\n\n466\n00:27:47.620 --> 00:27:49.750\nsomething online, such and such.\n\n467\n00:27:49.750 --> 00:27:51.100\nAnd you can go back through and debug.\n\n468\n00:27:52.240 --> 00:27:56.340\nHopefully, throughout this series, you've\nseen a good reason to code with someone\n\n469\n00:27:56.340 --> 00:28:00.490\nlike looking over your code while doing,\nyou stop as a T.\n\n470\n00:28:00.490 --> 00:28:02.240\nIt really helps because you're\ngoing to forget these things and\n\n471\n00:28:02.240 --> 00:28:06.310\nyou can just reduce the amount\nof debug time quite a lot.\n\n472\n00:28:06.310 --> 00:28:09.130\nSo I'm glad to have Justin\non the show with me on this,\n\n473\n00:28:09.130 --> 00:28:10.290\ncuz I would've forgot that.\n\n474\n00:28:10.290 --> 00:28:14.990\nI'd have to go back in, we've done\na lot of debugging in our shows but\n\n475\n00:28:14.990 --> 00:28:16.290\nwe're kind of doing it on the fly.\n\n476\n00:28:16.290 --> 00:28:19.530\nJustin's catching them instead of\nletting the interpreter do it for me.\n\n477\n00:28:19.530 --> 00:28:21.320\nCool stuff, thanks, Justin.\n\n478\n00:28:21.320 --> 00:28:23.170\nAll right, listen, you know what?\n\n479\n00:28:23.170 --> 00:28:26.172\nI know normally we say test after you\nget everything done everything but\n\n480\n00:28:26.172 --> 00:28:27.279\nwe don't have much left.\n\n481\n00:28:27.279 --> 00:28:31.680\nSo I'm gonna go ahead and I'm gonna break\nmy rules for the purposes of this show.\n\n482\n00:28:31.680 --> 00:28:34.340\nNormally I would stop here, test.\n\n483\n00:28:34.340 --> 00:28:37.990\nBut I'm gonna go ahead and add the ls\nstuff, cuz there's not much to it.\n\n484\n00:28:37.990 --> 00:28:40.505\n&gt;&gt; Well, Daniel, sometimes we do play\nwith fire and we don't get burned.\n\n485\n00:28:40.505 --> 00:28:42.171\n&gt;&gt; [LAUGH]\n&gt;&gt; So we're about to find out whether-\n\n486\n00:28:42.171 --> 00:28:42.970\n&gt;&gt; [LAUGH]\n\n487\n00:28:42.970 --> 00:28:44.768\n&gt;&gt; Whether, have we, or [CROSSTALK]\n\n488\n00:28:44.768 --> 00:28:45.306\n&gt;&gt; Yeah, darn right.\n\n489\n00:28:45.306 --> 00:28:47.795\n&gt;&gt; But sometimes that last little\npush is perfectly acceptable.\n\n490\n00:28:47.795 --> 00:28:49.120\n&gt;&gt; Yes.\n&gt;&gt; Let's see what happens.\n\n491\n00:28:49.120 --> 00:28:52.360\n&gt;&gt; And this isn't too much of code for\nus to have to go through.\n\n492\n00:28:52.360 --> 00:28:53.640\nI can't remember how many lines this is.\n\n493\n00:28:53.640 --> 00:28:55.190\nBut I think it's like six,\nand not even six.\n\n494\n00:28:56.630 --> 00:28:58.270\nSo not too bad.\n\n495\n00:28:58.270 --> 00:28:59.720\nAll right, so we've got the elif.\n\n496\n00:28:59.720 --> 00:29:04.780\nThis is saying if root and\ndash are and we give it an archive\n\n497\n00:29:04.780 --> 00:29:09.760\nname to restore and a directory,\nwhat do I wanna do?\n\n498\n00:29:09.760 --> 00:29:15.279\nWell, then what I'm\ngonna do is tar -zb and\n\n499\n00:29:15.279 --> 00:29:20.260\nI guess xv is what I need here.\n\n500\n00:29:20.260 --> 00:29:25.180\nAnd little strange nuances of\nusing tar is you just can't,\n\n501\n00:29:25.180 --> 00:29:28.690\nat least in my environment,\nI can't just tag on f here.\n\n502\n00:29:28.690 --> 00:29:33.020\nAnd I ran down this trouble when\nI originally wrote the program.\n\n503\n00:29:33.020 --> 00:29:38.270\nI have to like separate\nit to restore the file.\n\n504\n00:29:38.270 --> 00:29:39.020\nGo figure, right?\n\n505\n00:29:40.460 --> 00:29:46.050\nSo I'm saying dash f and then I think it\nwas for because I was using dollar sign.\n\n506\n00:29:46.050 --> 00:29:51.190\n[INAUDIBLE] But whatever, this is how it\nworks on mine maybe you can add just f on\n\n507\n00:29:51.190 --> 00:29:57.040\nthe end of yours, string there do that BFD\nstyling, but here I had to do it this way.\n\n508\n00:29:57.040 --> 00:30:00.140\nYour mileage may vary\nas Justin used to say.\n\n509\n00:30:00.140 --> 00:30:03.710\nAnd then I'm also going to do -C,\nbecause this\n\n510\n00:30:03.710 --> 00:30:08.670\nis specifying a directory in which to\nrestore the backup to, which will be $3.\n\n511\n00:30:08.670 --> 00:30:14.430\nSo if all that is true,\nall that stuff exists,\n\n512\n00:30:14.430 --> 00:30:19.156\nand -R is the option, then do this guy\n\n513\n00:30:19.156 --> 00:30:24.205\nright here, and we'll just echo File.\n\n514\n00:30:24.205 --> 00:30:25.491\nRestored from backup.\n\n515\n00:30:28.725 --> 00:30:32.180\nBada-bing, all done, program.\n\n516\n00:30:32.180 --> 00:30:37.210\nAnd like I said, not a lot to this,\nkind of the same action here\n\n517\n00:30:37.210 --> 00:30:41.860\nwhere we're going to tar -z XV,\n\n518\n00:30:41.860 --> 00:30:45.793\nthere we go, and then -f $2.\n\n519\n00:30:45.793 --> 00:30:52.430\nThere we go, and\nthen echo \"File restored from backup\".\n\n520\n00:30:55.800 --> 00:30:59.580\nThere you go.\nJustin, my man?\n\n521\n00:30:59.580 --> 00:31:01.490\nThink we have a program here.\n\n522\n00:31:01.490 --> 00:31:02.260\nShall we?\n\n523\n00:31:02.260 --> 00:31:04.640\nCtrl+O, Ctrl+X.\n\n524\n00:31:04.640 --> 00:31:06.490\nI don't know if I cut our\nlittle syntax here, but\n\n525\n00:31:06.490 --> 00:31:08.240\nwe're about to find out aren't we?\n\n526\n00:31:08.240 --> 00:31:08.740\nHere we go.\n\n527\n00:31:09.860 --> 00:31:10.945\nSo I've got,\n\n528\n00:31:10.945 --> 00:31:15.630\nJourney-to-the-center-of-the-earth is\nstill there, excellent.\n\n529\n00:31:15.630 --> 00:31:22.616\nI can do sudo ./2backup.sh and\nthe -b options,\n\n530\n00:31:22.616 --> 00:31:27.710\nso let's make archive name, right?\n\n531\n00:31:27.710 --> 00:31:32.120\nSo the archive name we'll\ncall it archive1 and\n\n532\n00:31:32.120 --> 00:31:38.006\nthen we were copying [INAUDIBLE] ask for\npassword everything is looking good.\n\n533\n00:31:38.006 --> 00:31:41.600\nChecking in archive1.backup, date and\n\n534\n00:31:41.600 --> 00:31:46.004\ntime all of their looking\ngood our existing backup.\n\n535\n00:31:46.004 --> 00:31:52.540\nBackup is completed,\nthere were no errors and it [INAUDIBLE].\n\n536\n00:31:52.540 --> 00:31:56.343\nExcellent, so\nit is taking backups correctly.\n\n537\n00:31:56.343 --> 00:31:59.919\nAnd I restore from the backup that way,\nchecking that functionality.\n\n538\n00:31:59.919 --> 00:32:02.862\nSo remove journey.\n\n539\n00:32:02.862 --> 00:32:03.905\nNo, it's gone.\n\n540\n00:32:03.905 --> 00:32:08.210\nAnd now, we are going to sudu ./2backup.\n\n541\n00:32:08.210 --> 00:32:15.360\nWe're gonna do -r,\nI think the archive name which is /backup,\n\n542\n00:32:15.360 --> 00:32:19.272\nremember as whole path /archive.\n\n543\n00:32:19.272 --> 00:32:20.845\nThere it is.\n\n544\n00:32:20.845 --> 00:32:23.640\nAnd then where do we want it to go?\n\n545\n00:32:23.640 --> 00:32:26.524\nWell, I'm gonna try it just here first.\n\n546\n00:32:26.524 --> 00:32:27.210\nEasiest one.\n\n547\n00:32:27.210 --> 00:32:31.296\nFiles restored from backup,\nls, there it is, it's back.\n\n548\n00:32:31.296 --> 00:32:33.080\nThat functionality is working.\n\n549\n00:32:33.080 --> 00:32:36.921\nLets, ls /tmp, see if it's there.\n\n550\n00:32:36.921 --> 00:32:40.600\nLet's try saving it to /tmp directory,\nokay?\n\n551\n00:32:40.600 --> 00:32:45.548\nSo I'm just gonna rule on my command and\nthis time we'll say /tmp.\n\n552\n00:32:45.548 --> 00:32:51.735\nAnd now if Is /tmp,\nit has Journey_to_the_center_of_the_earth.\n\n553\n00:32:51.735 --> 00:32:56.550\nIt looks like I got at least a basic\nfunction name one time backup utility that\n\n554\n00:32:56.550 --> 00:32:58.810\ncan do backup and restore.\n\n555\n00:32:58.810 --> 00:33:02.792\n&gt;&gt; Now, what if we were to run the backup\nwith the exact same archive name.\n\n556\n00:33:02.792 --> 00:33:05.057\nI don't know if we have\nthe same minute but\n\n557\n00:33:05.057 --> 00:33:08.110\nthat catch where if the backup\nalready exists on an ask.\n\n558\n00:33:08.110 --> 00:33:09.702\n&gt;&gt; If we're restoring or we're backing up?\n\n559\n00:33:09.702 --> 00:33:10.410\n&gt;&gt; We're backing up.\n\n560\n00:33:10.410 --> 00:33:12.861\n&gt;&gt; So you wanna backup within\nthe same minute and see what happens?\n\n561\n00:33:12.861 --> 00:33:13.671\n&gt;&gt; Yes, yep.\n\n562\n00:33:13.671 --> 00:33:16.928\n&gt;&gt; Right, cuz we wanna test to\nsee if the file exists, right?\n\n563\n00:33:16.928 --> 00:33:17.836\nGood call, Justin.\n\n564\n00:33:17.836 --> 00:33:19.324\nLet's test that.\n\n565\n00:33:19.324 --> 00:33:20.442\nSo let's do a backup.\n\n566\n00:33:20.442 --> 00:33:21.378\nWhere is the old backup?\n\n567\n00:33:21.378 --> 00:33:22.393\nThere it is.\n\n568\n00:33:22.393 --> 00:33:23.630\nBackup Journey_to_the_center_of_the_earth.\n\n569\n00:33:23.630 --> 00:33:26.510\nThis time we'll call it archive2.\n\n570\n00:33:26.510 --> 00:33:27.609\nTake that back up.\n\n571\n00:33:27.609 --> 00:33:31.390\nThat's worked and\nthen we're gonna try it again.\n\n572\n00:33:31.390 --> 00:33:33.367\nBackup already exists, overwrite.\n\n573\n00:33:33.367 --> 00:33:33.892\nExcellent.\n\n574\n00:33:33.892 --> 00:33:35.167\nSo the overwriting is there.\n\n575\n00:33:35.167 --> 00:33:38.074\nLet's try the easy one now, no.\n\n576\n00:33:38.074 --> 00:33:39.291\nAll right, that's jacked up.\n\n577\n00:33:39.291 --> 00:33:45.397\nClean the file so we don't have\nan archive.backup.123 sitting here.\n\n578\n00:33:45.397 --> 00:33:48.378\nThat's good.\nLet's try it again cuz you should still be\n\n579\n00:33:48.378 --> 00:33:51.470\nin the same and hopefully looking good.\n\n580\n00:33:51.470 --> 00:33:55.375\nAlready exists.\nI'm gonna say yes and there we go.\n\n581\n00:33:55.375 --> 00:33:58.171\nNow, I apparently have got\na little cleanup to do.\n\n582\n00:33:58.171 --> 00:34:02.850\nI need to go in there and change some\npermissions, but it did do the backup and\n\n583\n00:34:02.850 --> 00:34:06.010\nthat's the main functionality\nI'm looking for.\n\n584\n00:34:06.010 --> 00:34:08.959\nThis is tertiary to this so, but\nit's cool that I caught it and\n\n585\n00:34:08.959 --> 00:34:12.701\nit's cool that we tested it, so now I need\nto go in there and make that change and\n\n586\n00:34:12.701 --> 00:34:15.710\nmake sure that it's doing that\nchmod business if this occurs,\n\n587\n00:34:15.710 --> 00:34:17.398\nwhich is not at this point in time.\n\n588\n00:34:17.398 --> 00:34:18.322\n&gt;&gt; Well, Daniel,\n\n589\n00:34:18.322 --> 00:34:22.350\nit looks like we have a functioning\nutility that solves a niche problem.\n\n590\n00:34:22.350 --> 00:34:24.982\nAnd that's kind of what these\npracticals groups are all about.\n\n591\n00:34:24.982 --> 00:34:29.097\nLike, I have a problem, I do this all the\ntime, can I just make some kind of script\n\n592\n00:34:29.097 --> 00:34:33.410\nthat helps me automate so I don't have to\nremember all these individual functions?\n\n593\n00:34:33.410 --> 00:34:37.299\nSo very handy and hopefully you\nlearned something during our wonderful\n\n594\n00:34:37.299 --> 00:34:39.384\nexploration of this backup utility.\n\n595\n00:34:39.384 --> 00:34:41.230\nBut we're gonna go ahead and\nget out of here.\n\n596\n00:34:41.230 --> 00:34:44.284\nSo signing off for ITProTV,\nI've been your host, Justin Dennison.\n\n597\n00:34:44.284 --> 00:34:45.214\n&gt;&gt; And I'm Daniel Lowrie.\n\n598\n00:34:45.214 --> 00:34:47.453\n&gt;&gt; And we'll see you next time.\n\n599\n00:34:47.453 --> 00:34:53.502\n[MUSIC]\n\n600\n00:34:53.502 --> 00:34:56.597\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "241752309"
        }
      ],
      "title": "Backup Utility"
    }
  ],
  "url": "creating-practical-scripts",
  "vLab": false
}
