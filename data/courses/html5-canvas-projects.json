{
  "description": "With the advent of the HTML5 Canvas tag, the world of graphical manipulation in the browser has become a reality. This series is an exploration of some the possibility that are available when using the canvas element. The ultimate aim is to use project-based exploration of the capabilities of the HTML5 Canvas element by building games as well as some utilities. Along the way, you may learn some other interesting JavaScript uses. See you there!",
  "descriptionMD": "With the advent of the HTML5 Canvas tag, the world of graphical manipulation in the browser has become a reality. This series is an exploration of some the possibility that are available when using the canvas element. The ultimate aim is to use project-based exploration of the capabilities of the HTML5 Canvas element by building games as well as some utilities. Along the way, you may learn some other interesting JavaScript uses. See you there!",
  "length": "55742",
  "name": "HTML5 Canvas Projects",
  "practiceExam": false,
  "subtitle": "Learn HTML5 Canvas by doing",
  "tagUrl": "devprotv",
  "topics": [
    {
      "episodes": [
        {
          "description": "With the advent of the HTML5 Canvas tag, the world of graphical manipulation in the browser has become a reality. This series is an exploration of some the possibility that are available when using the canvas element. The ultimate aim is to use project-based exploration of the capabilities of the HTML5 Canvas element by building games as well as some utilities. Along the way, you may learn some other interesting JavaScript uses. See you there!",
          "length": "204",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-0-0-0-overview-102317-PGM.00_00_05_12.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-0-0-0-overview-102317-PGM.00_00_05_12.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-0-0-0-overview-102317-PGM.00_00_05_12.Still001-sm.jpg",
          "title": "Overview",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:05.115\n[MUSIC]\n\n2\n00:00:05.115 --> 00:00:07.550\nHello and thank you for\nchoosing DevPro TV.\n\n3\n00:00:07.550 --> 00:00:12.005\nWe're talking about HTML5 canvas\nprojects with Justin Dennison.\n\n4\n00:00:12.005 --> 00:00:14.510\nJustin, give us an overview,\nwhat's the course like?\n\n5\n00:00:14.510 --> 00:00:18.380\n&gt;&gt; So this course is to really submit\nsome of the skills maybe you've acquired\n\n6\n00:00:18.380 --> 00:00:20.350\nthrough HTML5 canvas.\n\n7\n00:00:20.350 --> 00:00:23.700\nI know what the canvas element is,\nI know the 2D rendering context,\n\n8\n00:00:23.700 --> 00:00:25.900\nbut how do these all come into play,\nwhat can I build?\n\n9\n00:00:25.900 --> 00:00:29.380\nSo what I've done during this\ncourse is created a few projects,\n\n10\n00:00:29.380 --> 00:00:32.020\na couple of games and\na couple of non-games.\n\n11\n00:00:32.020 --> 00:00:36.720\nWhere we can really apply the skills that\nwe know, the features about the HTML5\n\n12\n00:00:36.720 --> 00:00:40.630\ncanvas, as well as sprinkled in a few\nother things from web development.\n\n13\n00:00:40.630 --> 00:00:41.820\nWhat are we gonna build?\n\n14\n00:00:41.820 --> 00:00:45.250\nWell, we have a couple of simple\ngames like Atmos Attackers.\n\n15\n00:00:45.250 --> 00:00:49.020\nWe have little creatures coming down\nthe screen and we're fending them off.\n\n16\n00:00:49.020 --> 00:00:49.830\nWhat else?\n\n17\n00:00:49.830 --> 00:00:51.160\nWe have an image editor.\n\n18\n00:00:51.160 --> 00:00:54.430\nWe have the ability to paint and scribe.\n\n19\n00:00:54.430 --> 00:00:59.050\nAnd well, a few other ones, but you'll\nhave to come and see to figure those out.\n\n20\n00:00:59.050 --> 00:01:01.050\n&gt;&gt; Now who is this show targeted towards?\n\n21\n00:01:01.050 --> 00:01:05.510\n&gt;&gt; So this show is definitely for someone\nwho has some previous web development\n\n22\n00:01:05.510 --> 00:01:10.430\nexperience and admittedly,\nsome HTML5 canvas element experience.\n\n23\n00:01:10.430 --> 00:01:12.200\nWhat does that mean?\n\n24\n00:01:12.200 --> 00:01:14.590\nThat means you need to know some\nJavaScript, you need to know some HTML,\n\n25\n00:01:14.590 --> 00:01:18.750\nyou need to know probably not\nas much CSS as some other people\n\n26\n00:01:18.750 --> 00:01:19.920\nmay require you to know.\n\n27\n00:01:19.920 --> 00:01:22.870\nBut if you don't know those, then a lot of\nthe things that I'm gonna be doing in this\n\n28\n00:01:22.870 --> 00:01:24.990\ncourse, well,\nthey're gonna become difficult.\n\n29\n00:01:24.990 --> 00:01:29.070\nThey may not have any real kind of\nimpetus of why I am doing them.\n\n30\n00:01:29.070 --> 00:01:34.110\nSo, I would say this is more of\nan intermediate level skill set required,\n\n31\n00:01:34.110 --> 00:01:35.730\nin order to start leveling up.\n\n32\n00:01:35.730 --> 00:01:39.110\nNow, with that said, that does not mean\nthat it cannot be approachable for\n\n33\n00:01:39.110 --> 00:01:44.000\nsomeone who, maybe has just started, and\nwants to see what the capabilities are for\n\n34\n00:01:44.000 --> 00:01:45.750\nthe HTML5 canvas element.\n\n35\n00:01:45.750 --> 00:01:48.553\n&gt;&gt; Justin, is there a certification\navailable for this?\n\n36\n00:01:48.553 --> 00:01:52.680\n&gt;&gt; So for this course,\nthere is no certification available.\n\n37\n00:01:52.680 --> 00:01:56.710\nMainly because it's gear toward, I know\na little bit, and I wanna know more.\n\n38\n00:01:56.710 --> 00:01:58.300\nI want to take the next step.\n\n39\n00:01:58.300 --> 00:02:00.540\nI want to power up, level up, so to speak.\n\n40\n00:02:00.540 --> 00:02:04.184\nSo there is no explicit certification\nother than the wonderful warm,\n\n41\n00:02:04.184 --> 00:02:07.990\nfuzzy feeling that you get by\ncreating graphics within the browser.\n\n42\n00:02:07.990 --> 00:02:11.340\nAnd seeing some of the power that is\ndivvied out by the browser environment.\n\n43\n00:02:11.340 --> 00:02:13.440\n&gt;&gt; So what topics are covered in the show?\n\n44\n00:02:13.440 --> 00:02:21.112\n&gt;&gt; So this show is taking those\nHTML5 canvas elements, like figures.\n\n45\n00:02:21.112 --> 00:02:25.545\nI have the canvas element, I have the 2D\nrendering context, and now I wanna\n\n46\n00:02:25.545 --> 00:02:29.630\nlearn how to create data models,\nin order to create a user interface,\n\n47\n00:02:29.630 --> 00:02:33.800\nin order to create interactivity to\ncreate games like Atmo Attackers.\n\n48\n00:02:34.990 --> 00:02:38.080\nAs well as, how do I draw on this?\n\n49\n00:02:38.080 --> 00:02:39.540\nWhat kind of data structures do I need?\n\n50\n00:02:39.540 --> 00:02:40.610\nHow do I think about this?\n\n51\n00:02:40.610 --> 00:02:41.690\nHow do I attack?\n\n52\n00:02:41.690 --> 00:02:44.593\nNow I know that was\nvery general in nature.\n\n53\n00:02:44.593 --> 00:02:50.598\nSo it is more about application\nof the HTML 5 canvas element and\n\n54\n00:02:50.598 --> 00:02:53.670\nits associated kind of pieces.\n\n55\n00:02:53.670 --> 00:02:57.640\nAbout how to attack and\napproach solving a problem.\n\n56\n00:02:57.640 --> 00:02:58.846\nI have an idea for\nsomething I want to build.\n\n57\n00:02:58.846 --> 00:03:02.424\nHow do I take the skill set\nthat I know a little bit about,\n\n58\n00:03:02.424 --> 00:03:05.481\nplan it out, and\nthen make it come to fruition.\n\n59\n00:03:05.481 --> 00:03:07.670\n&gt;&gt; Well, this sounds like\nsomething you're excited about.\n\n60\n00:03:07.670 --> 00:03:08.350\nAnd I know I am.\n\n61\n00:03:08.350 --> 00:03:13.980\nYou're going to make sure to watch every\nsingle episode of HTML5 canvas projects.\n\n62\n00:03:13.980 --> 00:03:17.564\nThank you for watching DevPro TV.\n\n63\n00:03:17.564 --> 00:03:20.967\n[MUSIC]\n\n",
          "vimeoId": "239639044"
        },
        {
          "description": "Justin and Zach begin to build their homage to the game PONG, stress the importance of knowing about HTML5 Canvas Planning, using ATOM for text editor, use Chrome as web browser, file-add project folder, animations can be on a single HTML Page, C55, <!DocType html>, using the Mozilla Developer Network, and Console.Log.",
          "length": "1685",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-1-1-project_planning_and_setup-092017-PGM.00_34_19_20.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-1-1-project_planning_and_setup-092017-PGM.00_34_19_20.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-1-1-project_planning_and_setup-092017-PGM.00_34_19_20.Still001-sm.jpg",
          "title": "Project Planning and Setup",
          "transcript": "WEBVTT\n\n1\n00:00:00.577 --> 00:00:10.577\n[MUSIC]\n\n2\n00:00:12.651 --> 00:00:14.922\nHello, and thank you for\nchoosing DevProTV,\n\n3\n00:00:14.922 --> 00:00:16.676\nhelping you learn wherever you go.\n\n4\n00:00:16.676 --> 00:00:20.658\nI'm your host, Zach Memos,\nfor HTML Canvas Projects.\n\n5\n00:00:20.658 --> 00:00:23.747\nAnd this episode is Project Planning and\nSetup,\n\n6\n00:00:23.747 --> 00:00:28.630\nand Justin Dennison is our IT expert\nwho's gonna help us with this subject.\n\n7\n00:00:28.630 --> 00:00:30.250\nJustin, thanks for being here.\n\n8\n00:00:30.250 --> 00:00:32.400\n&gt;&gt; I am excited to be here today, Zach.\n\n9\n00:00:32.400 --> 00:00:36.390\nBut before we move on because it's kind\nof a cryptic title, admittedly so.\n\n10\n00:00:36.390 --> 00:00:37.590\nBut we'll get there in just a moment.\n\n11\n00:00:37.590 --> 00:00:38.260\nHow are you today?\n\n12\n00:00:38.260 --> 00:00:41.725\n&gt;&gt; Well, I'm excited because I love\nanything that you have to tell us is\n\n13\n00:00:41.725 --> 00:00:44.616\nalways very informative and\nwonderful, and let's go.\n\n14\n00:00:44.616 --> 00:00:46.400\n&gt;&gt; I don't know if you're patronizing me.\n\n15\n00:00:46.400 --> 00:00:49.170\n&gt;&gt; No.\n&gt;&gt; Or trying to make my head, who knows?\n\n16\n00:00:49.170 --> 00:00:50.610\nSo project planning is set up,\n\n17\n00:00:50.610 --> 00:00:53.120\nand in particular let me just\ngive you a quick overview.\n\n18\n00:00:53.120 --> 00:00:58.380\nOur ultimate goal is to build\na homage to Pong, we'll call it Pong.\n\n19\n00:00:58.380 --> 00:01:00.720\nWe're gonna make table tennis graphically.\n\n20\n00:01:00.720 --> 00:01:02.290\n&gt;&gt; That's very exciting.\n\n21\n00:01:02.290 --> 00:01:08.260\n&gt;&gt; And really, right, and\nagain, that's what our goal is.\n\n22\n00:01:08.260 --> 00:01:11.046\nIn order to get ready for\nthat, it's important to plan.\n\n23\n00:01:11.046 --> 00:01:13.621\nI wanna be a little more\nexplicit about how do I plan?\n\n24\n00:01:13.621 --> 00:01:14.501\nHow do I think about this?\n\n25\n00:01:14.501 --> 00:01:15.448\nHow do I problem solve?\n\n26\n00:01:15.448 --> 00:01:19.145\nBecause programming in\ngeneral is problem solving.\n\n27\n00:01:19.145 --> 00:01:20.745\nYou have to know some other tools, but\n\n28\n00:01:20.745 --> 00:01:23.985\nyou have to be able to solve the problems\nbefore implementation ever comes out.\n\n29\n00:01:23.985 --> 00:01:26.835\nSo our ultimate goal here\nis to plan out our project.\n\n30\n00:01:26.835 --> 00:01:27.545\nWhat are we gonna need?\n\n31\n00:01:27.545 --> 00:01:29.445\nAnd that can be in flux.\n\n32\n00:01:29.445 --> 00:01:33.165\nIt can change over\nthe course of the project.\n\n33\n00:01:33.165 --> 00:01:34.895\nBut here's our initial planning phase.\n\n34\n00:01:34.895 --> 00:01:37.405\nAnd then we're going to go ahead and\nset up our project so\n\n35\n00:01:37.405 --> 00:01:41.140\nwe can kind of hit the ground running\nwith building our individual pieces.\n\n36\n00:01:41.140 --> 00:01:45.540\nOne thing that I do recommend is that you\nknow a little bit about HTML5 Canvas,\n\n37\n00:01:45.540 --> 00:01:47.940\nabout graphics in the browser.\n\n38\n00:01:47.940 --> 00:01:51.170\nIf you do not, than definitely go\ncheck out our course library where\n\n39\n00:01:51.170 --> 00:01:56.020\nthere's several things on web development,\nusing the DOM,\n\n40\n00:01:56.020 --> 00:02:01.100\nas well as the HTML5 Canvas element and\nanimations and such.\n\n41\n00:02:01.100 --> 00:02:02.440\nSo definitely go check that out.\n\n42\n00:02:02.440 --> 00:02:03.728\nNow let's back up.\n\n43\n00:02:03.728 --> 00:02:09.027\nLet me re-emphasize,\nwe are building Pong, Zach.\n\n44\n00:02:09.027 --> 00:02:13.724\nAnd Zach says he's excited,\nbut our first stage is\n\n45\n00:02:13.724 --> 00:02:19.090\nactually a little bit of setup,\na little bit of planning.\n\n46\n00:02:19.090 --> 00:02:20.670\nAnd I like to draw.\n\n47\n00:02:20.670 --> 00:02:25.518\nDrawing is actually a really good way\nto kind of wrap your mind around what\n\n48\n00:02:25.518 --> 00:02:30.370\ndo I need to be able to do to make this\ncome to fruition programmatically.\n\n49\n00:02:30.370 --> 00:02:34.960\nSo we're actually gonna draw, and just\nto be very transparent about my process,\n\n50\n00:02:34.960 --> 00:02:38.040\nlet's go ahead and\ncome over the Skycam and think about that.\n\n51\n00:02:38.040 --> 00:02:40.250\nSo ooh, some pretty markers.\n\n52\n00:02:40.250 --> 00:02:43.920\nAnd it's nice and pretty,\nso let's think about this.\n\n53\n00:02:43.920 --> 00:02:49.320\nIn some other episodes I've kind of\ninset the canvas inside of here.\n\n54\n00:02:49.320 --> 00:02:54.570\nI'm thinking that maybe we just\nmake the whole page a canvas.\n\n55\n00:02:54.570 --> 00:02:58.160\nSo when you come to\nthe actual browser window,\n\n56\n00:02:58.160 --> 00:03:02.570\nthe entire area is the ping pong board.\n\n57\n00:03:02.570 --> 00:03:06.780\n&gt;&gt; So in the previous episodes\nin the canvas it was 400 by 600.\n\n58\n00:03:06.780 --> 00:03:07.997\nWhat's this gonna be?\n\n59\n00:03:07.997 --> 00:03:13.145\n&gt;&gt; This is going to be whatever the size\nof the window is big, all right?\n\n60\n00:03:13.145 --> 00:03:13.993\nIt's gonna be 100% and 100%.\n\n61\n00:03:13.993 --> 00:03:21.213\nNow we're gonna do that and\nthat's gonna be a little iffy.\n\n62\n00:03:21.213 --> 00:03:22.756\nAnd that's my plan.\n\n63\n00:03:22.756 --> 00:03:26.873\nWe may have to change that a little\nbit in order to get things rolling.\n\n64\n00:03:26.873 --> 00:03:29.590\nSo let's go ahead and\nthink about what do we need?\n\n65\n00:03:29.590 --> 00:03:33.886\nIf this is our entire canvas,\nin order to play Pong,\n\n66\n00:03:33.886 --> 00:03:38.293\nyou kinda have this little\npaddle over here, right?\n\n67\n00:03:38.293 --> 00:03:43.017\nAnd then you have some ball and then you\nhave another little paddle over here, and\n\n68\n00:03:43.017 --> 00:03:47.901\nthese aren't necessarily, this is not\nsomething where you have to draw it exact.\n\n69\n00:03:47.901 --> 00:03:49.240\nYou're in the planning phase.\n\n70\n00:03:49.240 --> 00:03:53.450\nSo this ball,\nit'll probably start in the center, and\n\n71\n00:03:53.450 --> 00:03:55.980\nit'll have some random direction.\n\n72\n00:03:55.980 --> 00:03:58.720\nNow in order to make this simplified,\n\n73\n00:03:58.720 --> 00:04:00.770\nI think I'm just gonna make\nit a random direction.\n\n74\n00:04:00.770 --> 00:04:01.500\n&gt;&gt; Okay.\n&gt;&gt; Really,\n\n75\n00:04:01.500 --> 00:04:04.650\nyou know when you're playing table tennis,\nif they score,\n\n76\n00:04:04.650 --> 00:04:06.990\nthey get to serve again,\nand it goes the other way.\n\n77\n00:04:06.990 --> 00:04:09.440\nBut let's simplify the game.\n\n78\n00:04:09.440 --> 00:04:12.105\nIt's kind of a minimal viable solution.\n\n79\n00:04:12.105 --> 00:04:15.937\nSo here's our ball, and\nif it's moving this way, then-\n\n80\n00:04:15.937 --> 00:04:17.294\n&gt;&gt; That's positive.\n\n81\n00:04:17.294 --> 00:04:20.698\n&gt;&gt; They would get crazy, and\nyes, Zach, you're exactly right,\n\n82\n00:04:20.698 --> 00:04:23.220\nthat is a positive x direction.\n\n83\n00:04:23.220 --> 00:04:30.020\n&gt;&gt; If it was moving this way,\nthat would be a negative y direction.\n\n84\n00:04:30.020 --> 00:04:33.970\nIt it's moving this way, and\njust to be explicit, this is y,\n\n85\n00:04:33.970 --> 00:04:37.870\nthis is x,\nthis would be a negative x direction.\n\n86\n00:04:37.870 --> 00:04:40.750\nAnd then here would be positive.\n\n87\n00:04:40.750 --> 00:04:44.360\nAnd we have to keep that in mind,\n\n88\n00:04:44.360 --> 00:04:48.960\nwhen we're doing this cuz zero's up here,\nand I'm gonna move it.\n\n89\n00:04:48.960 --> 00:04:51.520\nSo we're gonna move back and forth.\n\n90\n00:04:51.520 --> 00:04:56.590\nIf the ball, right, so\nlet's say that this is moved over here.\n\n91\n00:04:56.590 --> 00:05:01.510\nIf the ball hits here,\nI wanna put a point, right.\n\n92\n00:05:01.510 --> 00:05:04.920\nSo they have 1 and they have 0.\n\n93\n00:05:05.960 --> 00:05:08.640\n&gt;&gt; Okay, so the ball moved over here.\n\n94\n00:05:08.640 --> 00:05:09.320\nIt is now here.\n\n95\n00:05:09.320 --> 00:05:10.830\nIt is no longer here.\n\n96\n00:05:10.830 --> 00:05:14.360\nIt went past the paddle of\nthe right-hand player, player two,\n\n97\n00:05:14.360 --> 00:05:18.440\nmaybe we call it the computer player,\nand your point.\n\n98\n00:05:18.440 --> 00:05:20.160\nAnd then it gets dropped\nback in the middle and\n\n99\n00:05:20.160 --> 00:05:22.260\nrandomly goes in some direction.\n\n100\n00:05:22.260 --> 00:05:26.840\nWhen it strikes, and just to show you,\nthis is a single piece of paper but\n\n101\n00:05:26.840 --> 00:05:29.730\nI'm going through multiple kind of things.\n\n102\n00:05:29.730 --> 00:05:35.570\nLet's say that the ball was moving\nthis way, right, and then struck here.\n\n103\n00:05:35.570 --> 00:05:40.106\nWell, what we wanna do is we\nwanna switch the x direction.\n\n104\n00:05:40.106 --> 00:05:42.620\nWe wanna bounce off.\n\n105\n00:05:42.620 --> 00:05:46.650\nSo by switching that,\nthe ball's gonna kinda move here.\n\n106\n00:05:46.650 --> 00:05:50.082\nAnd then we don't want it to go\noff the table because, I mean,\n\n107\n00:05:50.082 --> 00:05:54.768\nin real life that that makes sense, but in\ncomputers it really should bounce here and\n\n108\n00:05:54.768 --> 00:06:00.400\nthen, Boom, and then so\non and so forth, right?\n\n109\n00:06:00.400 --> 00:06:04.080\n&gt;&gt; Correct.\n&gt;&gt; Now ideally, depending on where it\n\n110\n00:06:04.080 --> 00:06:06.930\nhits, we can change the dynamics, but for\nnow, we're just gonna say it bounces.\n\n111\n00:06:08.470 --> 00:06:12.150\nThe only places it does not\nbounce are on the left and\n\n112\n00:06:12.150 --> 00:06:14.670\nright that do not have paddle portions.\n\n113\n00:06:14.670 --> 00:06:18.590\nSo it's gonna bounce off the paddle,\nbut it's not going to bounce here.\n\n114\n00:06:19.630 --> 00:06:25.200\nIf this were to come back, and\nlet's say this paddle doesn't move, and\n\n115\n00:06:25.200 --> 00:06:29.310\nhit here and I know that's kind of an arc,\njust because I'm running out of space.\n\n116\n00:06:29.310 --> 00:06:34.987\nThen that would now change this to 2 and\nthis would be still 0.\n\n117\n00:06:34.987 --> 00:06:37.489\nIn addition to,\nsince this is gonna be a game,\n\n118\n00:06:37.489 --> 00:06:41.160\nI don't know that the original ones,\nwe could set a win condition.\n\n119\n00:06:42.380 --> 00:06:45.700\nFirst person to get to five,\nright, first player.\n\n120\n00:06:45.700 --> 00:06:50.290\nNow that I've kind of grouped\nthe dynamics, right, the actions,\n\n121\n00:06:50.290 --> 00:06:51.910\nthis may change.\n\n122\n00:06:51.910 --> 00:06:55.230\nLet's do a little bit of planning\nabout what I need to build.\n\n123\n00:06:55.230 --> 00:07:00.472\nWell, I need a paddle or\npaddles, or paddles,\n\n124\n00:07:00.472 --> 00:07:05.328\nso there's a paddle and there's a paddle.\n\n125\n00:07:08.183 --> 00:07:14.860\nAnd then well, we need our ball, and\nmost people, that's all you need.\n\n126\n00:07:14.860 --> 00:07:19.420\nHowever, we actually need a scoreboard.\n\n127\n00:07:19.420 --> 00:07:20.640\n&gt;&gt; A counter.\n\n128\n00:07:20.640 --> 00:07:29.160\n&gt;&gt; Right, so\nthis is like our scoreboard, As such.\n\n129\n00:07:29.160 --> 00:07:33.160\nIn addition to this\nentire area is our game.\n\n130\n00:07:33.160 --> 00:07:33.730\n&gt;&gt; Yes.\n\n131\n00:07:33.730 --> 00:07:38.328\n&gt;&gt; So all contained within the game,\nyou have a scoreboard object,\n\n132\n00:07:38.328 --> 00:07:43.018\na paddle object, a ball object,\nand then another paddle object.\n\n133\n00:07:43.018 --> 00:07:47.209\nNow if this was two players,\nright, or if we had controllers,\n\n134\n00:07:47.209 --> 00:07:51.478\nwe just need to say hey,\nthe left controller is this person, and\n\n135\n00:07:51.478 --> 00:07:55.220\nthe right controller is this person,\nor the joystick.\n\n136\n00:07:55.220 --> 00:08:00.570\nIf we wanted to make this\na computer opponent Then\n\n137\n00:08:00.570 --> 00:08:05.800\nthis paddle would also be a player,\nall right?\n\n138\n00:08:05.800 --> 00:08:08.270\nSo you are the human player.\n\n139\n00:08:08.270 --> 00:08:13.820\nThis paddle would also be a computer and\n\n140\n00:08:13.820 --> 00:08:17.800\nit could be an AI or something like that.\n\n141\n00:08:17.800 --> 00:08:21.420\nWe, they both have paddle attributes.\n\n142\n00:08:21.420 --> 00:08:24.230\nSo we can say,\nlet's just build a paddle first.\n\n143\n00:08:24.230 --> 00:08:26.510\nAnd as long as it conforms\nto what we need for\n\n144\n00:08:26.510 --> 00:08:30.190\npaddles, we can add additional portions.\n\n145\n00:08:30.190 --> 00:08:31.580\nSo, I'm gonna show you.\n\n146\n00:08:31.580 --> 00:08:34.300\nOkay, now we have this\nmiddle rival solution.\n\n147\n00:08:34.300 --> 00:08:35.210\n&gt;&gt; Right.\n\n148\n00:08:35.210 --> 00:08:39.320\n&gt;&gt; Let's extend this rung hand,\nit's still technically a paddle.\n\n149\n00:08:39.320 --> 00:08:44.522\nWe're gonna extend it to have computer or\nautomatic opponent like abilities.\n\n150\n00:08:44.522 --> 00:08:48.290\nIt's like, let's just say,\ninstead of staying still, right?\n\n151\n00:08:48.290 --> 00:08:51.190\nWaiting for control-\n&gt;&gt; It drags the ball.\n\n152\n00:08:51.190 --> 00:08:52.941\n&gt;&gt; Well,\nthat's an unbeatable computer component.\n\n153\n00:08:52.941 --> 00:08:56.935\n&gt;&gt; [LAUGH] Kind of drags the ball,\na little bit.\n\n154\n00:08:56.935 --> 00:08:58.370\n[LAUGH]\n&gt;&gt; I'm thinking,\n\n155\n00:08:58.370 --> 00:09:01.340\njust it could be based on\ndifficulty level, all right?\n\n156\n00:09:01.340 --> 00:09:04.210\nSo easy difficulty,\nall it does is move up and down.\n\n157\n00:09:04.210 --> 00:09:05.610\nThere you go, right?\n\n158\n00:09:05.610 --> 00:09:08.628\nIf it was medium difficulty level,\n\n159\n00:09:08.628 --> 00:09:14.570\nit could trap the ball if the ball\nwas in like this amount of it, right?\n\n160\n00:09:14.570 --> 00:09:17.775\nAnd then hard level,\nwe just make that bigger.\n\n161\n00:09:17.775 --> 00:09:18.825\n&gt;&gt; Right.\n\n162\n00:09:18.825 --> 00:09:21.640\n&gt;&gt; So there's a bunch of different\nthings but that's my initial plan.\n\n163\n00:09:21.640 --> 00:09:25.282\nI'm not really worried about that, because\nthe minimum viable solution is I need\n\n164\n00:09:25.282 --> 00:09:28.519\na scoreboard, I need two paddles,\nI need a ball, and I need a game area.\n\n165\n00:09:28.519 --> 00:09:29.790\n&gt;&gt; A game area, right.\n\n166\n00:09:29.790 --> 00:09:32.068\n&gt;&gt; So\nonce I have all of that put together,\n\n167\n00:09:32.068 --> 00:09:36.800\nthen we're gonna build this individual\npieces and then test them individually.\n\n168\n00:09:36.800 --> 00:09:41.040\nSomething I see a lot of times is people\ntry to build all this at once and\n\n169\n00:09:41.040 --> 00:09:43.380\nwhen they try to run it,\nthey never run it.\n\n170\n00:09:43.380 --> 00:09:45.490\nNothing happens,\nit get all kinds of errors.\n\n171\n00:09:45.490 --> 00:09:49.640\nSo probably what I'm going to do is first,\nright,\n\n172\n00:09:49.640 --> 00:09:54.050\nthe score board, it doesn't make sense for\nthe score board to do anything.\n\n173\n00:09:54.050 --> 00:09:57.310\nUnless the other parts are in the game,\nright?\n\n174\n00:09:57.310 --> 00:09:58.300\nI can't keep score.\n\n175\n00:09:58.300 --> 00:10:02.723\nNow, I could put some static text up\nthere, or something of that nature, but\n\n176\n00:10:02.723 --> 00:10:06.755\nit doesn't make sense for the score\nboard to actually be built first.\n\n177\n00:10:06.755 --> 00:10:11.435\n&gt;&gt; Could you also put advertisements for\nfanciful candy bars up there as well?\n\n178\n00:10:11.435 --> 00:10:13.579\n&gt;&gt; We could,\nwe could possibly do a background.\n\n179\n00:10:13.579 --> 00:10:16.125\n&gt;&gt; [LAUGH]\n&gt;&gt; And it's crazy.\n\n180\n00:10:16.125 --> 00:10:20.276\nBut I think until we have the ball moving,\nthe paddles don't really matter.\n\n181\n00:10:20.276 --> 00:10:23.077\nAnd again this my design process.\n\n182\n00:10:23.077 --> 00:10:26.947\nSo I think I'm gonna build the ball first,\nmake sure the ball moves.\n\n183\n00:10:26.947 --> 00:10:29.551\nIn addition to,\nI gonna make sure that the hands and\n\n184\n00:10:29.551 --> 00:10:33.447\nbehavior that wanna hits the edge,\nthese left and right edges, it resets.\n\n185\n00:10:34.967 --> 00:10:38.367\nAnd this maybe through a few iterations,\nwe may have to refactor.\n\n186\n00:10:38.367 --> 00:10:40.193\nAnd then we'll add paddle.\n\n187\n00:10:40.193 --> 00:10:41.954\nAnd then,\nwe'll probably had to come back and\n\n188\n00:10:41.954 --> 00:10:43.950\nchange the ball to do a little\nbit of manual testing.\n\n189\n00:10:43.950 --> 00:10:47.700\nNow we could write automated test,\nbut I don't wanna muddy the waters.\n\n190\n00:10:47.700 --> 00:10:51.690\nBut this is our first project,\nthis is what we wanna build.\n\n191\n00:10:51.690 --> 00:10:56.710\nAnd I think this helps submit some of\nthe things that we originally learned\n\n192\n00:10:56.710 --> 00:10:59.860\nin some of the other\nepisodes that we have done.\n\n193\n00:10:59.860 --> 00:11:02.570\n&gt;&gt; So that is our initial plan.\n\n194\n00:11:02.570 --> 00:11:07.791\nWe may have to come back and\nrefine that from time to time because,\n\n195\n00:11:07.791 --> 00:11:11.169\nI didn't think about it needs this and\nthis.\n\n196\n00:11:11.169 --> 00:11:13.630\nAnd what is that doing, right?\n\n197\n00:11:13.630 --> 00:11:18.104\nSo now that we have our initial plan,\nkind of our snapshot of ideas,\n\n198\n00:11:18.104 --> 00:11:22.530\nwe probably need to go ahead and\nset up our project.\n\n199\n00:11:22.530 --> 00:11:24.616\nJust to get things rolling, right?\n\n200\n00:11:24.616 --> 00:11:27.310\nWe wanna make sure that\neverything's good to go.\n\n201\n00:11:27.310 --> 00:11:30.270\nSo then when we start making our ball,\nwhen we start making our paddles,\n\n202\n00:11:30.270 --> 00:11:35.830\nwhen we start making our score boards or\nour game, then it's all ready to go.\n\n203\n00:11:35.830 --> 00:11:37.960\nIn addition to,\nI'm not gonna put this all in a file,\n\n204\n00:11:37.960 --> 00:11:40.440\nI'm gonna organize this\na little bit differently.\n\n205\n00:11:40.440 --> 00:11:46.100\nSo do keep that in mind,\nthis is gonna use file structures\n\n206\n00:11:46.100 --> 00:11:52.010\nto emphasize the segmentation, kind of\nthe removal of all this code in one place.\n\n207\n00:11:52.010 --> 00:11:55.148\nSo let's go ahead and\ncome in to my computer screen and\n\n208\n00:11:55.148 --> 00:11:57.188\nactually get that project set up.\n\n209\n00:11:57.188 --> 00:12:00.077\nCome in to my computer screen,\nlike everybody's gonna jump in and\n\n210\n00:12:00.077 --> 00:12:01.427\nyou all start showing up here.\n\n211\n00:12:01.427 --> 00:12:03.150\n&gt;&gt; [LAUGH]\n&gt;&gt; It's gonna be crazy.\n\n212\n00:12:03.150 --> 00:12:07.210\nSo I have, just this,\nit's just the word pong,\n\n213\n00:12:07.210 --> 00:12:11.080\nit's just a folder called pong,\nlike ping pong.\n\n214\n00:12:11.080 --> 00:12:16.380\nAnd that is nested in another folder that\nyou may or may not necessarily need for\n\n215\n00:12:16.380 --> 00:12:20.140\nHTM5L-Canvas-Projects and it's just pong.\n\n216\n00:12:20.140 --> 00:12:25.530\nNow, you will notice I have few things\ninstalled already, and this is because\n\n217\n00:12:25.530 --> 00:12:28.480\nthe assumption is you already have a\nlittle bit of web development experience.\n\n218\n00:12:28.480 --> 00:12:31.030\nYou already have the kind\nof some of these skills.\n\n219\n00:12:31.030 --> 00:12:34.570\nSo you probably have\nthese already installed.\n\n220\n00:12:34.570 --> 00:12:37.970\nI'm using Atom for my text editor.\n\n221\n00:12:37.970 --> 00:12:39.320\nYou do not have to.\n\n222\n00:12:39.320 --> 00:12:42.490\nYou can actually use any type\nof text editor that you want.\n\n223\n00:12:42.490 --> 00:12:46.300\nI use Atom, well,\ncuz it works for me, I like it.\n\n224\n00:12:46.300 --> 00:12:50.380\nNow that might not always be the case,\nbut for now, that is.\n\n225\n00:12:50.380 --> 00:12:54.130\nIn addition to, I'm on a Mac so\nI do a little bit of command line stuff.\n\n226\n00:12:54.130 --> 00:12:57.820\nThat's a little added bonus,\nthat's just kind of my work flow.\n\n227\n00:12:57.820 --> 00:13:01.580\nI will try to show you both\nways if there's some craziness.\n\n228\n00:13:01.580 --> 00:13:05.580\nAnd then,\nI'm gonna to use the Chrome web browser.\n\n229\n00:13:05.580 --> 00:13:07.480\nSo we need to install Chrome.\n\n230\n00:13:07.480 --> 00:13:09.490\nWe need to install Atom.\n\n231\n00:13:09.490 --> 00:13:12.390\nAnd then you should have some ability to,\nyou\n\n232\n00:13:13.560 --> 00:13:18.660\ndon't have to have the terminal window,\nthe command line interface.\n\n233\n00:13:18.660 --> 00:13:21.788\nIt's just something that I do because\nI have a lot of keyboard shortcuts and\n\n234\n00:13:21.788 --> 00:13:22.740\nI do things like that.\n\n235\n00:13:22.740 --> 00:13:25.550\nSo, well, Chrome,\nwe're gonna try Google Chrome.\n\n236\n00:13:25.550 --> 00:13:28.397\nWell, if you type in\nGoogle Chrome in Chrome,\n\n237\n00:13:28.397 --> 00:13:31.542\nit actually takes you to\nthe Download Chrome page.\n\n238\n00:13:31.542 --> 00:13:32.348\n&gt;&gt; [CROSSTALK] Chrome.\n\n239\n00:13:32.348 --> 00:13:34.632\n&gt;&gt; If you do that in any browser and\nyou go to Google.com, and\n\n240\n00:13:34.632 --> 00:13:37.360\nyou type in Google Chrome,\nit will actually show up.\n\n241\n00:13:37.360 --> 00:13:39.360\nThis first one is an ad.\n\n242\n00:13:39.360 --> 00:13:44.150\nBut the second one or this Download Now\nshould take you to the Download page.\n\n243\n00:13:44.150 --> 00:13:46.040\nAlways double check the URL.\n\n244\n00:13:46.040 --> 00:13:49.340\nSo if I go to Download Now, that's fine.\n\n245\n00:13:49.340 --> 00:13:54.532\nNotice that it actually says,\nhttps://www.google.com.\n\n246\n00:13:54.532 --> 00:13:57.791\n&gt;&gt; [LAUGH] Yeah, I understand that.\n\n247\n00:13:57.791 --> 00:14:02.770\n&gt;&gt; And then, atom.io is our other one.\n\n248\n00:14:02.770 --> 00:14:08.230\nAtom is supported on Mac Windows and\nin Linux platforms.\n\n249\n00:14:08.230 --> 00:14:10.910\nIt will auto detect what\nplatform that you're on.\n\n250\n00:14:10.910 --> 00:14:13.040\nAnd so let's move that over there.\n\n251\n00:14:13.040 --> 00:14:15.770\nIt says, hey, you're on Mac, yeah?\n\n252\n00:14:15.770 --> 00:14:19.970\nYou're just gonna download,\nyou run it, you install.\n\n253\n00:14:19.970 --> 00:14:23.050\nIt does have some minimal requirements\nof your older version of Windows.\n\n254\n00:14:24.055 --> 00:14:25.593\nIt could get a little iffy.\n\n255\n00:14:25.593 --> 00:14:30.928\nIf it's really old then,\nthere's probably no way it's gonna happen.\n\n256\n00:14:30.928 --> 00:14:35.390\nBut for Linux, it's cross by form, so\nyour experience should be similar to mine.\n\n257\n00:14:35.390 --> 00:14:37.300\nI do have added on packages and\n\n258\n00:14:37.300 --> 00:14:40.860\nI'll try illustrate those\nwhen those become an issue.\n\n259\n00:14:40.860 --> 00:14:43.879\nAnd it's mostly syntax how\nletting of things to that nature.\n\n260\n00:14:43.879 --> 00:14:48.270\nSo we would download and store that,\nand you actually get this window, okay?\n\n261\n00:14:48.270 --> 00:14:52.242\nNow, just to try to keep things uniform,\n\n262\n00:14:52.242 --> 00:14:58.480\nonce you have this window open,\nas such, we're good to go.\n\n263\n00:14:58.480 --> 00:15:01.936\nNow, how do l get that inside of Atom?\n\n264\n00:15:01.936 --> 00:15:08.780\nl went to File, Add Project folder, and\nso and I just added that entire folder.\n\n265\n00:15:08.780 --> 00:15:11.738\nSo that folder is now in\nthe left-hand side all ready to go.\n\n266\n00:15:11.738 --> 00:15:16.745\nIf you ever wanna hide that,\nit's either CTRL on Windows and\n\n267\n00:15:16.745 --> 00:15:23.046\nLinux or Command on Mac and then the back\nslash, the one above the enter key.\n\n268\n00:15:23.046 --> 00:15:25.210\nAnd it will just hide and reveal that.\n\n269\n00:15:25.210 --> 00:15:26.360\nSo those are nice little tricks.\n\n270\n00:15:26.360 --> 00:15:29.510\nSo you may see me doing that\na little bit just for real estate.\n\n271\n00:15:29.510 --> 00:15:33.790\nSo we have these,\nnow what do I need in this project?\n\n272\n00:15:33.790 --> 00:15:38.980\nThese kind of animation game type\nthings can be on a single page.\n\n273\n00:15:38.980 --> 00:15:42.562\nThey can be a simple HTML page.\n\n274\n00:15:42.562 --> 00:15:44.800\nI'm gonna follow a couple of conventions.\n\n275\n00:15:44.800 --> 00:15:47.775\nI'm gonna create an index\nof html inside the pong.\n\n276\n00:15:47.775 --> 00:15:52.541\nAnd then,\nI'm going to create a new file called,\n\n277\n00:15:52.541 --> 00:15:59.590\nlet's call it amp.js However,\nhow app.js is going to be our main file.\n\n278\n00:16:01.390 --> 00:16:06.490\nWe will eventually have\nanother folder called JS and\n\n279\n00:16:08.030 --> 00:16:10.310\nI'm gonna go ahead and\ncreate that just to illustrate.\n\n280\n00:16:10.310 --> 00:16:13.480\nRight now, we only need these two files.\n\n281\n00:16:13.480 --> 00:16:19.320\nHowever, this JS portion will\nhave other files for the ball,\n\n282\n00:16:19.320 --> 00:16:24.100\na paddle, a player, computer player,\nhowever we decide to organize that.\n\n283\n00:16:24.100 --> 00:16:26.596\nNow taking a more of an organic approach,\nyou can see,\n\n284\n00:16:26.596 --> 00:16:29.798\nwhat are the thought processes and\nthe decisions that need to be made,\n\n285\n00:16:29.798 --> 00:16:32.380\ninstead of making it look so\nmuch like magic?\n\n286\n00:16:32.380 --> 00:16:36.220\nAnd hopefully that helps break\ndown the barriers of, wow,\n\n287\n00:16:36.220 --> 00:16:38.540\nhe's really good at that,\nI don't know if I could do that.\n\n288\n00:16:38.540 --> 00:16:42.070\nSo this JS folder is empty for\nnow, but we will be using it.\n\n289\n00:16:42.070 --> 00:16:47.438\nWe're good, we may need a CSS file and\nthen we'll add that as needed.\n\n290\n00:16:47.438 --> 00:16:52.479\nI'm trying to keep minimal on the CSS for\nnow.\n\n291\n00:16:52.479 --> 00:16:55.119\nBut if we decide to come back and add it,\n\n292\n00:16:55.119 --> 00:16:59.230\nwe'll definitely do that\nas the situation needs it.\n\n293\n00:16:59.230 --> 00:17:01.020\nSo now that we have this and\n\n294\n00:17:01.020 --> 00:17:04.004\nyou have it open in Atom,\nAtom has this handy shortcut.\n\n295\n00:17:04.004 --> 00:17:08.242\nYou just type html and hit Enter, it will\nactually stub out an HTML 5 file for you.\n\n296\n00:17:08.242 --> 00:17:14.260\nSo doc type html,\nthat's html file, we're good.\n\n297\n00:17:14.260 --> 00:17:15.017\nAnd what is this?\n\n298\n00:17:15.017 --> 00:17:17.544\nWe're just gonna call it Pong and\n\n299\n00:17:17.544 --> 00:17:22.065\nthen within the body,\nwe only need a couple of things here.\n\n300\n00:17:22.065 --> 00:17:26.778\nWe need the Canvas element, and\nwe really should have a fallback.\n\n301\n00:17:26.778 --> 00:17:32.300\nYour browser does not\nsupport the canvas element.\n\n302\n00:17:33.980 --> 00:17:40.828\nSo if someone visits this, or tries to\nlook at this on a older browser that\n\n303\n00:17:40.828 --> 00:17:46.912\nis not supported on the Canvas element,\neh, eh, kinda broke.\n\n304\n00:17:46.912 --> 00:17:51.929\nAnd just to make sure things are good,\nlet's add a class.\n\n305\n00:17:51.929 --> 00:17:55.214\nI tend to like selecting based on classes.\n\n306\n00:17:55.214 --> 00:17:56.499\nIt's just kind of a personal preference.\n\n307\n00:17:56.499 --> 00:18:00.245\nI stay away from IDs cuz it puts\nyou in this weird idea that,\n\n308\n00:18:00.245 --> 00:18:02.300\nthis is a very special one.\n\n309\n00:18:02.300 --> 00:18:04.109\nI could have a bunch of\nthese canvases on this page.\n\n310\n00:18:04.109 --> 00:18:08.350\nMaybe l have a gallery of all\nthe Canvas projects that I've built.\n\n311\n00:18:08.350 --> 00:18:11.542\nAnd l need to style all of them the same.\n\n312\n00:18:11.542 --> 00:18:18.480\nWell, I'm gonna use a class and then if\nl need to select this very specific one,\n\n313\n00:18:18.480 --> 00:18:24.507\nl'll add an ID later or I will select\nthat individual one as I need it.\n\n314\n00:18:24.507 --> 00:18:28.343\nJust give it a canvas class and\n\n315\n00:18:28.343 --> 00:18:34.029\nlet's ahead and give it width, 100%.\n\n316\n00:18:34.029 --> 00:18:37.763\nHm, how are we going to do that?\n\n317\n00:18:37.763 --> 00:18:40.280\nLet's see here.\n\n318\n00:18:40.280 --> 00:18:43.560\nI think I might, no.\n\n319\n00:18:43.560 --> 00:18:45.413\nSo, I need to give it a width here, right?\n\n320\n00:18:45.413 --> 00:18:50.295\nAnd if we come to documentation and\nI look at the Canvas Element.\n\n321\n00:18:51.325 --> 00:18:56.706\nSo if I say, canvas, so\nI'm in the Mozilla Developers Networks,\n\n322\n00:18:56.706 --> 00:18:59.120\ndeveloper.mozilla.org.\n\n323\n00:18:59.120 --> 00:19:02.304\nAnd I'm gonna look at the Canvas Element.\n\n324\n00:19:02.304 --> 00:19:06.880\nAnd I come down here, the height\nof coordinate space in CSS pixel,\n\n325\n00:19:06.880 --> 00:19:11.390\nthis defaults to 150, and\nthen the width defaults to 300.\n\n326\n00:19:11.390 --> 00:19:17.692\nNow we could leave those be, but\nthen we're gonna get weirdness there.\n\n327\n00:19:17.692 --> 00:19:24.359\nWhat we probably will do is now\njust set this programatically.\n\n328\n00:19:24.359 --> 00:19:26.661\nAnd that way it will fill.\n\n329\n00:19:26.661 --> 00:19:29.711\nBut for now,\njust to make sure things are good,\n\n330\n00:19:29.711 --> 00:19:34.030\nwe're gonna hardcode this and\ntry to make it fairly large.\n\n331\n00:19:34.030 --> 00:19:39.424\nSo if I come in here and I say width is,\n\n332\n00:19:39.424 --> 00:19:45.868\nI don't know, 800, height is 600.\n\n333\n00:19:45.868 --> 00:19:50.250\nAnd notice these are in quotes, but\nit actually ends up being a number.\n\n334\n00:19:50.250 --> 00:19:52.770\nWe're good to go there and\nour Canvas element set up.\n\n335\n00:19:52.770 --> 00:19:56.130\nThe other thing that we need here is and\n\n336\n00:19:56.130 --> 00:19:58.430\nI was gonna ready to do a shortcut\nwithout being explicit.\n\n337\n00:19:59.820 --> 00:20:02.430\nI need that app.js file,\nthat's kind of our main entry point.\n\n338\n00:20:02.430 --> 00:20:06.120\nWe will add additional\nJavaScript as needed.\n\n339\n00:20:06.120 --> 00:20:08.870\nBut we should be good and\nsomething that I like to do.\n\n340\n00:20:08.870 --> 00:20:10.980\nJust to make sure everything's good,\n\n341\n00:20:10.980 --> 00:20:15.129\njust a put a console.log in my app.js,\nit works.\n\n342\n00:20:16.587 --> 00:20:20.800\nOr just start adding random spaces places.\n\n343\n00:20:20.800 --> 00:20:23.810\nIf we come over here,\nyou're asking, how do you open it?\n\n344\n00:20:25.060 --> 00:20:28.213\nWell, I actually typically open\nthings from the command line, and\n\n345\n00:20:28.213 --> 00:20:29.331\nI have defaults set up.\n\n346\n00:20:29.331 --> 00:20:33.146\nBut just for uniformity,\nI'm gonna say File, and\n\n347\n00:20:33.146 --> 00:20:37.858\nif you can't find File,\nit's Alt+F, if I'm not mistaken.\n\n348\n00:20:37.858 --> 00:20:40.905\nOpen File, and we're gonna open a File.\n\n349\n00:20:40.905 --> 00:20:43.507\nAnd then we're gonna come\nover here to my desktop,\n\n350\n00:20:43.507 --> 00:20:45.980\nwhich is where I put this projects.\n\n351\n00:20:45.980 --> 00:20:49.842\nAnd then I clicked on the folder,\nand then I clicked on pong.\n\n352\n00:20:49.842 --> 00:20:56.336\nAnd then I'm gonna open that index.html,\nopen.\n\n353\n00:20:56.336 --> 00:20:58.301\nAnd it looks like nothing, and\n\n354\n00:20:58.301 --> 00:21:02.320\nthat's because this canvas\nelement is kind of hidden.\n\n355\n00:21:02.320 --> 00:21:05.101\nBut right there,\nif we open up the dev tools,\n\n356\n00:21:05.101 --> 00:21:09.657\nwhich we can open with these dot dot dots,\nMore tools &gt; Developer tools.\n\n357\n00:21:09.657 --> 00:21:11.990\nI will typically have\nthose open on the side.\n\n358\n00:21:11.990 --> 00:21:15.083\nAnd if you have Web Development Experience\nhere, you're like, I get this.\n\n359\n00:21:15.083 --> 00:21:17.044\nBu I know a lot of people who are like,\nyeah,\n\n360\n00:21:17.044 --> 00:21:18.855\nI've been doing the web dev for a while.\n\n361\n00:21:18.855 --> 00:21:20.615\nAnd you're like, open dev tools,\nand they're like.\n\n362\n00:21:20.615 --> 00:21:24.033\n&gt;&gt; [LAUGH]\n&gt;&gt; What you talking about?\n\n363\n00:21:24.033 --> 00:21:26.480\nSo, just to be explicit here.\n\n364\n00:21:26.480 --> 00:21:28.350\nBut I'm gonna typically\nopen this up on the side.\n\n365\n00:21:28.350 --> 00:21:29.490\nKeep it open on the side.\n\n366\n00:21:29.490 --> 00:21:31.603\nAnd notice it works as\nprinted from app.js.\n\n367\n00:21:31.603 --> 00:21:34.258\nThat means our JavaScript file works.\n\n368\n00:21:34.258 --> 00:21:36.508\nIt's all kinda wired together.\n\n369\n00:21:36.508 --> 00:21:40.590\nAnd if I click this little arrow and\nI come over here,\n\n370\n00:21:40.590 --> 00:21:46.010\nthere's the body, and\nthen there is the canvas element, okay?\n\n371\n00:21:46.010 --> 00:21:47.790\nSo, there we go.\n\n372\n00:21:47.790 --> 00:21:52.680\nWe're all set up, and we'll probably\nstretch this programmatically but\n\n373\n00:21:52.680 --> 00:21:53.800\nthat's our ultimate setup.\n\n374\n00:21:53.800 --> 00:21:58.840\nThat's all we need as far as basic setup.\n\n375\n00:21:58.840 --> 00:22:01.860\nNow we got a few more minutes,\nso let's go ahead and\n\n376\n00:22:01.860 --> 00:22:05.020\ndo a little bit of\nmaintenance if you will.\n\n377\n00:22:05.020 --> 00:22:06.750\nAnd try to get this things together.\n\n378\n00:22:08.070 --> 00:22:11.194\nAnd so I'm gonna hop back over,\n\n379\n00:22:11.194 --> 00:22:16.517\nI'm actually gonna do a quick\nrearrange of this atom,\n\n380\n00:22:16.517 --> 00:22:20.914\nand I'm gonna grab the canvass element,\nand\n\n381\n00:22:20.914 --> 00:22:25.680\ndocument.query Selector\nof .canvas like so.\n\n382\n00:22:25.680 --> 00:22:30.931\nAnd then I'm going to console.log\nthe canvas element, and\n\n383\n00:22:30.931 --> 00:22:40.350\nconsole.log the window object,\nso the window is everything.\n\n384\n00:22:40.350 --> 00:22:42.540\nAnd you'll see why in just a moment.\n\n385\n00:22:42.540 --> 00:22:45.350\nSo here's our canvas element, that's good.\n\n386\n00:22:45.350 --> 00:22:48.920\nWe can actually console.dir and\nget a drop down.\n\n387\n00:22:50.790 --> 00:22:56.080\nBut if we look at the window and\nwe come down here and we look, well,\n\n388\n00:22:56.080 --> 00:23:00.700\nlet's see here we have screen x, screen y.\n\n389\n00:23:03.440 --> 00:23:08.480\nAnd we have to keep scrolling, I\n\n390\n00:23:08.480 --> 00:23:11.080\nactually need-\n&gt;&gt; Justin,\n\n391\n00:23:11.080 --> 00:23:15.110\nI'm not entirely sure why you are putting\nout the canvas object to begin with.\n\n392\n00:23:15.110 --> 00:23:16.970\nCan you be a little bit more clear?\n\n393\n00:23:16.970 --> 00:23:19.980\n&gt;&gt; So I'm putting up both of these\nobjects just to make sure that I selected\n\n394\n00:23:19.980 --> 00:23:23.280\nthe canvas object but\nI'm also printing out the window object\n\n395\n00:23:23.280 --> 00:23:26.000\nas I'm kinda looking\nthrough here a little bit.\n\n396\n00:23:26.000 --> 00:23:27.214\nThere's a lot of stuff\non the window object.\n\n397\n00:23:27.214 --> 00:23:29.144\nBut I'm looking for\nsomething in particular.\n\n398\n00:23:29.144 --> 00:23:31.351\nI'm looking for widths and\nheight of the windows.\n\n399\n00:23:31.351 --> 00:23:32.261\n&gt;&gt; [INAUDIBLE]\n&gt;&gt; For\n\n400\n00:23:32.261 --> 00:23:33.598\ndiagrammatically change\nthe canvas width and height.\n\n401\n00:23:33.598 --> 00:23:34.370\n&gt;&gt; Right on, Right on.\n\n402\n00:23:34.370 --> 00:23:36.670\n&gt;&gt; And move it about, okay?\n\n403\n00:23:36.670 --> 00:23:38.530\nSo let's actually come back to my screen,\n\n404\n00:23:38.530 --> 00:23:40.556\nbecause I think I found\nwhat I'm looking for.\n\n405\n00:23:40.556 --> 00:23:45.171\nI feel like there's a song\nin there somewhere.\n\n406\n00:23:45.171 --> 00:23:46.236\n&gt;&gt; [MUSIC]\n\n407\n00:23:46.236 --> 00:23:47.132\nsorry.\n\n408\n00:23:47.132 --> 00:23:52.775\n&gt;&gt; So this, that was beautiful, I tell you\nwhat, we need to release that on audio.\n\n409\n00:23:52.775 --> 00:23:58.211\nIf I come in here and I look, there's\nthis inner width of the window object.\n\n410\n00:23:58.211 --> 00:23:58.967\nNow it's fairly big.\n\n411\n00:23:58.967 --> 00:24:03.744\nWe may have to adjust this, but this is a\ngreat way to programatically go boop, and\n\n412\n00:24:03.744 --> 00:24:06.667\nmake the canvas really big and\nfill up the window.\n\n413\n00:24:06.667 --> 00:24:09.485\nThis may not be what you\nwant if you have a gallery.\n\n414\n00:24:09.485 --> 00:24:12.838\nBut if you want a single\npage full playing game.\n\n415\n00:24:12.838 --> 00:24:13.557\n&gt;&gt; And that's what we want.\n\n416\n00:24:13.557 --> 00:24:17.635\n&gt;&gt; Right, that's what we want, that's\nwhat I originally, our plans may change.\n\n417\n00:24:17.635 --> 00:24:19.554\nWe're gonna do that little bit there and\n\n418\n00:24:19.554 --> 00:24:22.941\nif I come back over here because I\nhave the innerHeight and innerWidth,\n\n419\n00:24:22.941 --> 00:24:26.450\nI was trying to remember those properties,\nbut I just wanted to show you.\n\n420\n00:24:26.450 --> 00:24:27.663\nThere's a lot in there.\n\n421\n00:24:27.663 --> 00:24:29.098\nI scrolled over it like three times.\n\n422\n00:24:29.098 --> 00:24:30.794\nIt was crazy.\n\n423\n00:24:30.794 --> 00:24:36.206\nWe're just going to set\nup the canvas size.\n\n424\n00:24:36.206 --> 00:24:44.907\nSo here,\ncanvas.height = window.innerHeight, Maybe.\n\n425\n00:24:44.907 --> 00:24:50.929\nAnd then canvas.width = window.innerWidth.\n\n426\n00:24:50.929 --> 00:24:52.628\nLike so, okay?\n\n427\n00:24:52.628 --> 00:24:56.575\nNow, before I go and\nrefresh, if I click here and\n\n428\n00:24:56.575 --> 00:25:01.502\nactually click it,\nnotice this is how big the canvas is now.\n\n429\n00:25:01.502 --> 00:25:04.908\n&gt;&gt; Right.\n&gt;&gt; It's 800 x 600, and\n\n430\n00:25:04.908 --> 00:25:07.986\nthat is set by this amount.\n\n431\n00:25:07.986 --> 00:25:12.098\nNow, I double clicked by\nan accidental gesture there, but\n\n432\n00:25:12.098 --> 00:25:17.456\nif I come back into the console,\neverything's fine, everything's good.\n\n433\n00:25:17.456 --> 00:25:21.256\nThere it is, if I refresh now,\nthese are gone and\n\n434\n00:25:21.256 --> 00:25:24.798\nnotice this is actually\nthe canvas element.\n\n435\n00:25:24.798 --> 00:25:29.076\nAnd let me see if I can scroll\ndown to the bottom here.\n\n436\n00:25:29.076 --> 00:25:30.641\nIt's kind of hard to see.\n\n437\n00:25:30.641 --> 00:25:35.223\nSee that canvas element\nis now 1296 by 1060.\n\n438\n00:25:35.223 --> 00:25:38.295\nOkay, what does this provide us?\n\n439\n00:25:38.295 --> 00:25:43.456\nWell, if I move this,\nit's actually the full width, so\n\n440\n00:25:43.456 --> 00:25:49.381\nit's not quite responsive, so\nwe may get some weird squishing.\n\n441\n00:25:49.381 --> 00:25:53.233\nSo I'm going to inspect and\nit's kind of hard to inspect, but\n\n442\n00:25:53.233 --> 00:25:56.284\nit's gonna give me the full\nwidth of the window.\n\n443\n00:25:56.284 --> 00:26:00.209\nThere may be times where we need to turn\nthat off to kind of just understand what's\n\n444\n00:26:00.209 --> 00:26:03.571\ngoing on while the dev tools are open or\nwe could pop the dev tools out.\n\n445\n00:26:03.571 --> 00:26:08.183\nBut I wanted it to fill the window to\ngive you the full two picture experience.\n\n446\n00:26:08.183 --> 00:26:09.431\n&gt;&gt; The immersive experience.\n\n447\n00:26:09.431 --> 00:26:12.690\n&gt;&gt; Yeah, yeah, so\nthat's one way that you can set that.\n\n448\n00:26:12.690 --> 00:26:16.607\nAnd notice that it is reflected\nby the width and height here.\n\n449\n00:26:16.607 --> 00:26:22.614\nAnd we can always set a width and\nheight for something and have it fill and\n\n450\n00:26:22.614 --> 00:26:27.537\nsome other things, but\nthat is our most important set up.\n\n451\n00:26:27.537 --> 00:26:30.122\nIn our index.html file,\nin our app.js, we need to set\n\n452\n00:26:30.122 --> 00:26:33.760\nup a canvas size programatically because\nyours may be a little bit different.\n\n453\n00:26:33.760 --> 00:26:37.251\nThere's not necessarily anything\nmagic about those numbers,\n\n454\n00:26:37.251 --> 00:26:39.003\nbut we're gonna make them big.\n\n455\n00:26:39.003 --> 00:26:42.373\nBut I set it programmatically,\nthat way we can turn it off.\n\n456\n00:26:42.373 --> 00:26:45.815\nDo you remember we have an 800 by\n600 fallback if we turn that off?\n\n457\n00:26:45.815 --> 00:26:47.319\n&gt;&gt; Yes.\n&gt;&gt; So it'll shrink back down.\n\n458\n00:26:47.319 --> 00:26:48.191\n&gt;&gt; Yes.\n\n459\n00:26:48.191 --> 00:26:51.722\n&gt;&gt; And then we can observe with\nthe dev tools open all on one screen.\n\n460\n00:26:51.722 --> 00:26:54.817\nBut Zach, that's our plan, our setup.\n\n461\n00:26:54.817 --> 00:26:59.492\nWell, we're ready to move on\nto probably making the ball.\n\n462\n00:26:59.492 --> 00:27:02.470\nJust have some of the behaviors\nthat we want it to.\n\n463\n00:27:02.470 --> 00:27:04.604\n&gt;&gt; Awesome, project planning and set up.\n\n464\n00:27:04.604 --> 00:27:06.083\nAnd next we're gonna be making the ball.\n\n465\n00:27:06.083 --> 00:27:07.550\nIt's gonna be great.\n\n466\n00:27:07.550 --> 00:27:09.246\nAny last words before we move?\n\n467\n00:27:09.246 --> 00:27:10.430\n&gt;&gt; Well, definitely stay tuned.\n\n468\n00:27:10.430 --> 00:27:14.362\nThis is a series that is kind\nof meant to build upon itself,\n\n469\n00:27:14.362 --> 00:27:19.502\nto provide context of why you would use\ncertain things in the HTML 5 Canvas,\n\n470\n00:27:19.502 --> 00:27:22.819\nthat I don't really\nunderstand why you do that.\n\n471\n00:27:22.819 --> 00:27:27.102\nSo let's actually use these in\nsomething that we're building and\n\n472\n00:27:27.102 --> 00:27:32.312\nhopefully you're building along with me,\nand see how those all come together.\n\n473\n00:27:32.312 --> 00:27:36.672\n&gt;&gt; Awesome Justin, and I don't know\nabout you, but I'm very excited about\n\n474\n00:27:36.672 --> 00:27:40.555\nHTML Canvas projects as we do\nour homage as it continues.\n\n475\n00:27:40.555 --> 00:27:44.280\nHey, make sure also that you go to our\ncourse library and check out the hundreds\n\n476\n00:27:44.280 --> 00:27:47.285\nof videos that are there,\nall designed to help you go further.\n\n477\n00:27:47.285 --> 00:27:49.451\nAnd tell all your friends about DevProTV.\n\n478\n00:27:49.451 --> 00:27:50.511\nThey'll be glad you did.\n\n479\n00:27:50.511 --> 00:27:51.206\nThanks for watching.\n\n480\n00:27:51.206 --> 00:27:52.119\nI'm Zack Memos.\n\n481\n00:27:52.119 --> 00:27:52.967\n&gt;&gt; And I'm Justin Dennison.\n\n482\n00:27:52.967 --> 00:27:55.402\n&gt;&gt; And we'll see you again very soon.\n\n483\n00:27:55.402 --> 00:28:00.770\n[MUSIC]\n\n",
          "vimeoId": "234900225"
        },
        {
          "description": "Justin and Zach begin to create the 'Ball' to be used in their home to the game PONG, what we need to think about in creating it, Angular JS is the running logic, using UPDATE-RENDER-DATA, App. JS is the game state, and if we need to make the ball circular and why.",
          "length": "1703",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-2-1-creating_the_ball-092017-PGM.00_31_17_16.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-2-1-creating_the_ball-092017-PGM.00_31_17_16.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-2-1-creating_the_ball-092017-PGM.00_31_17_16.Still001-sm.jpg",
          "title": "Creating the Ball",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.604 --> 00:00:14.579\nHello and thank you for choosing DevProTV.\n\n3\n00:00:14.579 --> 00:00:17.110\nHelping you learn wherever you go.\n\n4\n00:00:17.110 --> 00:00:21.860\nI'm your host, Zach Memos, as we look\nforward to HTML5 Canvas Projects, and\n\n5\n00:00:21.860 --> 00:00:28.690\nthis is creating the ball as we move\nforward in our homage to creating pong.\n\n6\n00:00:28.690 --> 00:00:31.840\nAnd Justin Dennison is our IT expert who\nis gonna shed some light on this subject.\n\n7\n00:00:31.840 --> 00:00:33.200\nJustin, good to see you, sir.\n\n8\n00:00:33.200 --> 00:00:34.330\n&gt;&gt; I'm supposed to do that?\n\n9\n00:00:34.330 --> 00:00:35.297\nI thought you had a plan.\n\n10\n00:00:35.297 --> 00:00:36.310\n&gt;&gt; You do it.\n\n11\n00:00:36.310 --> 00:00:36.901\n&gt;&gt; Okay, so it's me.\n\n12\n00:00:36.901 --> 00:00:38.080\nHow are you doing today, Zach?\n\n13\n00:00:38.080 --> 00:00:40.260\n&gt;&gt; I'm doing great and\nI'm excited, very excited.\n\n14\n00:00:40.260 --> 00:00:42.880\n&gt;&gt; I'm excited as well because\nwe're taking this pieces are and\n\n15\n00:00:42.880 --> 00:00:45.260\nwe're starting to put them together,\nright.\n\n16\n00:00:45.260 --> 00:00:49.680\nOur first step, really you can't have,\nlet's just call it ping pong,\n\n17\n00:00:49.680 --> 00:00:51.180\nit's like table tennis.\n\n18\n00:00:51.180 --> 00:00:55.630\nWe're building table tennis and\nhomage to the classic pong game.\n\n19\n00:00:55.630 --> 00:00:57.000\nTwo paddles and a ball.\n\n20\n00:00:57.000 --> 00:00:58.780\nYou need to have the two paddles,\n\n21\n00:00:58.780 --> 00:01:04.000\nyou can't really play table tennis\nwithout the ping pong ball or the ball.\n\n22\n00:01:04.000 --> 00:01:06.250\nSo we are going to build a ball today,\n\n23\n00:01:06.250 --> 00:01:10.600\nand there's a couple of things that you\nhave to think about, what do I need?\n\n24\n00:01:10.600 --> 00:01:15.125\nWell, I'm gonna be animating this,\nhow I do that?\n\n25\n00:01:15.125 --> 00:01:19.730\nAnd also what do I need to know about\nthe ball in order to render the ball?\n\n26\n00:01:19.730 --> 00:01:22.717\nSo kind of the broad\ncategories that I have,\n\n27\n00:01:22.717 --> 00:01:27.700\nI need an update function, how is the\nstate of the ball going to change, right.\n\n28\n00:01:27.700 --> 00:01:32.040\nIf we had a ball here,\nits position is changing,\n\n29\n00:01:32.040 --> 00:01:36.480\nis its size changing?No,\nis its speed possibly changing?\n\n30\n00:01:36.480 --> 00:01:41.550\nProbably not here,\nwe could do that Is it's color changing?\n\n31\n00:01:41.550 --> 00:01:46.900\nNo, probably not, but its position is,\nand its position in an x and y direction.\n\n32\n00:01:46.900 --> 00:01:48.660\nNow you're like what is he doing?\n\n33\n00:01:48.660 --> 00:01:52.820\nWell, I'm just relative imagine,\nkind of close your eyes and imagine and\n\n34\n00:01:52.820 --> 00:01:58.150\nthen definitely come back and take\na look at all this but we have the ball.\n\n35\n00:01:58.150 --> 00:02:02.600\nWe need the ability to update\nsomething about it, and\n\n36\n00:02:02.600 --> 00:02:07.370\nwe need the ability to,\nwhat else do we need?\n\n37\n00:02:07.370 --> 00:02:09.085\nWe need to render to the string, and\n\n38\n00:02:09.085 --> 00:02:12.920\nthen rendering is going to be dependent\non the data that we kind of store.\n\n39\n00:02:12.920 --> 00:02:17.110\nSo, update and render,\nare either going to use the data for\n\n40\n00:02:17.110 --> 00:02:22.500\nrender in order to actually render it, and\nthen that method is going to render it.\n\n41\n00:02:22.500 --> 00:02:26.770\nOr update is going to modify or\nmutate that data, so\n\n42\n00:02:26.770 --> 00:02:30.120\nthen the next render knows what to do.\n\n43\n00:02:30.120 --> 00:02:34.680\nSo it's kind of this weird tangled\nmess of data, update and render.\n\n44\n00:02:34.680 --> 00:02:39.350\n&gt;&gt; And don't we have to also ascribe some\nrandom attributes to it as well and?\n\n45\n00:02:39.350 --> 00:02:43.210\n&gt;&gt; And we will have some random attributes\nand that's part of our data portion.\n\n46\n00:02:43.210 --> 00:02:45.289\n&gt;&gt; Okay.\n&gt;&gt; But some of that will be built\n\n47\n00:02:45.289 --> 00:02:47.340\nin inside of creating a ball.\n\n48\n00:02:47.340 --> 00:02:50.514\nSo, we're talking very\n10,000 foot view here,\n\n49\n00:02:50.514 --> 00:02:54.438\nI think we're probably best just to\ngo ahead and get it done, right?\n\n50\n00:02:54.438 --> 00:02:56.720\n&gt;&gt; Yeah.\n&gt;&gt; And try to get it up and going.\n\n51\n00:02:56.720 --> 00:02:58.690\nNow, I'm gonna built this piece by piece.\n\n52\n00:03:00.120 --> 00:03:05.230\nSo we can see the individual elements at\nwork that were be periodically rattle and\n\n53\n00:03:05.230 --> 00:03:07.396\ncome back and say,\nlets change this around.\n\n54\n00:03:07.396 --> 00:03:09.980\n&gt;&gt; Okay.\n&gt;&gt; So this is kind of move forward,\n\n55\n00:03:09.980 --> 00:03:10.530\nmake it better.\n\n56\n00:03:10.530 --> 00:03:12.860\nMove forward, make it better\nkind of iterative process, so\n\n57\n00:03:12.860 --> 00:03:13.690\ndo keep that in mind.\n\n58\n00:03:13.690 --> 00:03:16.699\nSo was gonna take a look at my screen and\nfrom the previous episode,\n\n59\n00:03:16.699 --> 00:03:18.971\nwe have our basic setup,\nwe have our src app.js.\n\n60\n00:03:18.971 --> 00:03:21.745\nAnd then our app.js is here and\n\n61\n00:03:21.745 --> 00:03:26.557\nwe may have to turn this off,\nbut for now we're good.\n\n62\n00:03:26.557 --> 00:03:30.600\nOkay, now in order to render,\n\n63\n00:03:30.600 --> 00:03:35.110\nI need a rendering context.\n\n64\n00:03:35.110 --> 00:03:39.010\nSo I'm gonna say getContext ( '2d').\n\n65\n00:03:39.010 --> 00:03:43.480\nNow these are all 2d planer type\nthings that are gonna move and\n\n66\n00:03:43.480 --> 00:03:47.640\nmay give the illusion of 3D based\non the layers that are depended on.\n\n67\n00:03:47.640 --> 00:03:53.960\nHowever, we're not getting crazy 3D\nlike WebGL or anything like that.\n\n68\n00:03:53.960 --> 00:03:56.540\nSo I'm gonna grab that and\nI'm gonna use that.\n\n69\n00:03:56.540 --> 00:03:59.201\nNow, I could do all of\nthe ball stuff in here.\n\n70\n00:03:59.201 --> 00:04:00.100\n&gt;&gt; Mm-hm.\n\n71\n00:04:00.100 --> 00:04:01.353\n&gt;&gt; I may start there but\n\n72\n00:04:01.353 --> 00:04:05.119\neventually I'm going to pull\nthis out into a separate file.\n\n73\n00:04:05.119 --> 00:04:10.140\nTo keep app.js, that is only kind of\nthe running logic what is going on.\n\n74\n00:04:10.140 --> 00:04:10.810\n&gt;&gt; Okay.\n\n75\n00:04:10.810 --> 00:04:18.270\n&gt;&gt; Okay, so in order to do that, I'm going\nto separate this portion here maybe.\n\n76\n00:04:19.330 --> 00:04:20.690\nThere we go.\n\n77\n00:04:20.690 --> 00:04:26.010\nAnd then boom, End of Ball, like so.\n\n78\n00:04:26.010 --> 00:04:29.725\nSo between these two pieces,\nI'm actually going to do the ball portion.\n\n79\n00:04:29.725 --> 00:04:35.230\n[COUGH] Now along this way we'll have\nto add some functions, take them away.\n\n80\n00:04:35.230 --> 00:04:36.730\nBut what do I need for a ball?\n\n81\n00:04:36.730 --> 00:04:39.720\nAt the very minimum, at the very minimum,\n\n82\n00:04:39.720 --> 00:04:44.440\nI need that little bit of data,\nabate, render, okay?\n\n83\n00:04:44.440 --> 00:04:50.361\nSo, I'm gonna create the ball,\nas I'm probably gonna need one,\n\n84\n00:04:50.361 --> 00:04:53.659\nso I'm gonna use an object literal.\n\n85\n00:04:54.900 --> 00:04:57.560\nYou may be going well,\nwhat if you want multiple, well,\n\n86\n00:04:57.560 --> 00:05:01.720\nwe could always come back and change this,\nbut our ball is an object literal.\n\n87\n00:05:01.720 --> 00:05:05.700\nSo what do we need, we need the x\nposition, and what is the x position?\n\n88\n00:05:07.240 --> 00:05:09.470\nAnd that's the canvas width divided by 2,\nand\n\n89\n00:05:09.470 --> 00:05:14.578\nthen the y position is\nthe canvas height divided by 2.\n\n90\n00:05:14.578 --> 00:05:18.978\nAnd notice l'm using this global variable,\nlet's gonna [INAUDIBLE],\n\n91\n00:05:18.978 --> 00:05:20.972\nwe may definitely change that.\n\n92\n00:05:20.972 --> 00:05:25.411\nAd then let's see,\nl mean how fast it's going,\n\n93\n00:05:25.411 --> 00:05:30.180\nlet's just say 10, let's just guess at it.\n\n94\n00:05:30.180 --> 00:05:35.430\nAnd then dy we'll say 5,\nnow I'm thinking of\n\n95\n00:05:35.430 --> 00:05:39.350\n5 pixels per animation, so\nto move 5 pixels every time.\n\n96\n00:05:39.350 --> 00:05:43.750\nIf that's 60 frames a second, that has\nactually moving at a pretty good clip.\n\n97\n00:05:45.030 --> 00:05:46.880\nWhat else defines a ball?\n\n98\n00:05:48.960 --> 00:05:49.820\nWell, let's see.\n\n99\n00:05:51.800 --> 00:05:55.940\nI'd probably need a size or\nradius or right,\n\n100\n00:05:55.940 --> 00:06:00.140\nsoft ball, and a basketball, and\na soccer ball, and a racket ball.\n\n101\n00:06:00.140 --> 00:06:01.730\nThey're all different sizes.\n\n102\n00:06:01.730 --> 00:06:04.160\nSo think about what defines a ball.\n\n103\n00:06:04.160 --> 00:06:09.230\nWell, ping pong balls fairly small,\nbut it still does have a size.\n\n104\n00:06:09.230 --> 00:06:12.220\nIn particular,\nwe're gonna be talking about the radius.\n\n105\n00:06:12.220 --> 00:06:14.130\nSo the radius, and this may change.\n\n106\n00:06:14.130 --> 00:06:18.750\nMaybe it would be better to have a more\ngeneral description like sides, right?\n\n107\n00:06:18.750 --> 00:06:22.070\nAnd then for a circular object,\nthat would be the radius.\n\n108\n00:06:22.070 --> 00:06:25.020\nFor some other object,\nthat might not be the case.\n\n109\n00:06:25.020 --> 00:06:29.430\nAnd let's just make this,\nthat's kind of huge, 20 pixels.\n\n110\n00:06:30.680 --> 00:06:35.418\nAnd then the color,\nthose are typically white, however,\n\n111\n00:06:35.418 --> 00:06:41.406\nl have a white background now, so\nwhich is your favorite color [INAUDIBLE]?\n\n112\n00:06:41.406 --> 00:06:42.025\n&gt;&gt; Blue.\n&gt;&gt; All right,\n\n113\n00:06:42.025 --> 00:06:46.260\nwe're gonna go with blue, blue it is,\nand we can always trick that.\n\n114\n00:06:46.260 --> 00:06:49.397\nWe're hard coding these values just\nto get an idea of what is going on.\n\n115\n00:06:49.397 --> 00:06:54.012\nNow, l'm gonna use an update function and\nthis is new short hand syntax, and\n\n116\n00:06:54.012 --> 00:06:56.579\na render, and I'm gonna use convection.\n\n117\n00:06:56.579 --> 00:06:59.832\nI don't have to do this, this is just,\nI may come back and change this or\n\n118\n00:06:59.832 --> 00:07:00.604\nreorganize it.\n\n119\n00:07:00.604 --> 00:07:03.790\nI'm always gonna pass in a context\nthat's gonna be rendering,\n\n120\n00:07:03.790 --> 00:07:06.568\nthat way I can render this ball\nin context that I want to.\n\n121\n00:07:06.568 --> 00:07:08.990\nAnd it's not tied to a particular context.\n\n122\n00:07:08.990 --> 00:07:13.350\nI could technically store that\nas a property in the ball, but\n\n123\n00:07:13.350 --> 00:07:17.530\nI want the data to be explicit\nto just describing the ball.\n\n124\n00:07:17.530 --> 00:07:20.550\nBecause we're gonna have to probably\nchange some of this around.\n\n125\n00:07:20.550 --> 00:07:22.390\nSo, what is update gonna do?\n\n126\n00:07:23.710 --> 00:07:28.818\nWell, every time I call update,\nI wanna take the position, x and y,\n\n127\n00:07:28.818 --> 00:07:34.206\nand move it by some change in time,\ntimes how fast it was moving, right.\n\n128\n00:07:34.206 --> 00:07:35.650\nI'm going 60 mph.\n\n129\n00:07:35.650 --> 00:07:39.560\nIn one hour, I have moved 60 miles.\n\n130\n00:07:39.560 --> 00:07:41.160\nSo I'm doing these manipulations.\n\n131\n00:07:41.160 --> 00:07:44.650\nIf you're like,\nit feels like math and physics,\n\n132\n00:07:44.650 --> 00:07:49.330\nthis is we're gonna assume that\nthe time limit is always one, right?\n\n133\n00:07:49.330 --> 00:07:50.863\nI'm moving 60 miles an hour and\n\n134\n00:07:50.863 --> 00:07:53.398\nI'll always ask you how fast\nare you going in one hour?\n\n135\n00:07:53.398 --> 00:07:54.105\nIt's 60.\n\n136\n00:07:54.105 --> 00:07:57.510\nIf you went 30 miles per hour,\nhow long does it take you in one hour?\n\n137\n00:07:57.510 --> 00:08:01.445\n30, we're always going to use a singular\nunit, like a unit value of one,\n\n138\n00:08:01.445 --> 00:08:04.720\nas our animation table, so\nwe don't have to worry about that.\n\n139\n00:08:06.680 --> 00:08:08.950\nWe may have to tweak that depending\non performance and things.\n\n140\n00:08:08.950 --> 00:08:11.090\nBut it's gonna be our assumption.\n\n141\n00:08:11.090 --> 00:08:15.800\nLikewise that's gonna make this\nchange because our position is xy,\n\n142\n00:08:15.800 --> 00:08:21.490\nhow much they're changing every\ntime the clock ticks is the dx, dy.\n\n143\n00:08:21.490 --> 00:08:22.680\n&gt;&gt; Certainly that makes sense.\n\n144\n00:08:22.680 --> 00:08:29.706\n&gt;&gt; So\n&gt;&gt; Plus this.dx and this.y plus dy.\n\n145\n00:08:29.706 --> 00:08:31.860\nNow, this is isn't anything new.\n\n146\n00:08:31.860 --> 00:08:34.590\nWe'll just getting things set up.\n\n147\n00:08:34.590 --> 00:08:37.357\nReally where it comes is when\npaddles bounce off of each other and\n\n148\n00:08:37.357 --> 00:08:39.410\nmaking the paddle automated.\n\n149\n00:08:39.410 --> 00:08:43.154\nBut we have to start at the ground,\nhow do I go about this,\n\n150\n00:08:43.154 --> 00:08:45.583\nand then a render, how do we render?\n\n151\n00:08:45.583 --> 00:08:48.790\nWell, our ball is circular,\nso we're gonna use-\n\n152\n00:08:48.790 --> 00:08:49.955\n&gt;&gt; Just gonna ask you that,\n\n153\n00:08:49.955 --> 00:08:52.630\nare you gonna call on spheroid,\nor what are you gonna do?\n\n154\n00:08:52.630 --> 00:08:55.170\n&gt;&gt; So we're gonna with a circular ball but\n\n155\n00:08:55.170 --> 00:08:57.490\nthat kind of brings up a good point\nthat I should probably touch on.\n\n156\n00:09:00.750 --> 00:09:02.610\nDoes it have to be circular?\n\n157\n00:09:02.610 --> 00:09:05.940\nCould you play ping pong\nwith a pentagonal ball?\n\n158\n00:09:05.940 --> 00:09:08.745\nYou could, you get weird bounce dynamics.\n\n159\n00:09:08.745 --> 00:09:09.800\n&gt;&gt; Mm-hm.\n\n160\n00:09:09.800 --> 00:09:11.290\n&gt;&gt; I will say this,\n\n161\n00:09:11.290 --> 00:09:16.800\ncircular items are easier to reason about\nbecause the positions that they occupy and\n\n162\n00:09:16.800 --> 00:09:20.020\ndetecting collisions\nare uniform from everywhere.\n\n163\n00:09:20.020 --> 00:09:20.580\n&gt;&gt; Well certainly.\n\n164\n00:09:20.580 --> 00:09:23.270\n&gt;&gt; So\nif I had something that was a square,\n\n165\n00:09:23.270 --> 00:09:27.410\nif the tip hit, that's actually a longer\ndistance that I have to account for.\n\n166\n00:09:27.410 --> 00:09:32.690\nSo I have to account for how it's rotated,\nversus, it's just this far away, right?\n\n167\n00:09:32.690 --> 00:09:35.830\nSo I tend to go with circular\nobjects when possible.\n\n168\n00:09:37.210 --> 00:09:39.780\nIt's not always possible depending\non what you're trying to do.\n\n169\n00:09:39.780 --> 00:09:42.130\nSo we're going to draw a circular object,\nnow.\n\n170\n00:09:42.130 --> 00:09:42.780\n&gt;&gt; Wonderful.\n\n171\n00:09:42.780 --> 00:09:49.610\nWe're gonna use this ctx.save() and\nctx.restore() like so, okay.\n\n172\n00:09:49.610 --> 00:09:54.650\nAnd that way the context always goes back\nto it's previous state if it's passed in.\n\n173\n00:09:56.270 --> 00:10:01.177\nAnd we're going to beginPath() like so,\n\n174\n00:10:01.177 --> 00:10:04.920\nand hit Enter a bunch of times.\n\n175\n00:10:04.920 --> 00:10:06.670\nAnd then closePath.\n\n176\n00:10:06.670 --> 00:10:09.500\nBut there's a few things\nthat I need to do.\n\n177\n00:10:09.500 --> 00:10:14.928\nWell I need the fillColor or the fillStyle\nbe equal to the ball's color.\n\n178\n00:10:14.928 --> 00:10:19.470\nNow, this keyword even in this object\nliteral is referring to this ball,\n\n179\n00:10:19.470 --> 00:10:20.590\nthis particular one.\n\n180\n00:10:21.690 --> 00:10:25.630\nNow what about the radius?\n\n181\n00:10:25.630 --> 00:10:28.230\nWell that will come into play here.\n\n182\n00:10:28.230 --> 00:10:35.466\nAnd let's see, I need arc() and\nthat's going to take a position.\n\n183\n00:10:35.466 --> 00:10:38.072\nNo, what is the position?\n\n184\n00:10:38.072 --> 00:10:42.396\nWell it's this.x, this.y and\n\n185\n00:10:42.396 --> 00:10:48.427\nthis.radius, And from 0 to Math.PI * 2.\n\n186\n00:10:48.427 --> 00:10:52.517\nNow that says,\ngo all the way around the circle, okay.\n\n187\n00:10:52.517 --> 00:10:58.040\nSo 0 to Math.PI * 2 that's almost\nalways there for a full circle.\n\n188\n00:10:58.040 --> 00:11:00.460\nSo we're almost going to ignore that.\n\n189\n00:11:00.460 --> 00:11:03.013\nI may come back and change that to\nmake it little more readable but\n\n190\n00:11:03.013 --> 00:11:04.384\nwe're gonna go that direction for\n\n191\n00:11:04.384 --> 00:11:07.760\nnow, and apparently I accidentally\nhit a three finger swipe there.\n\n192\n00:11:07.760 --> 00:11:11.390\nAnd then I'm going to say, fill.\n\n193\n00:11:11.390 --> 00:11:16.300\nIf you don't actually do that then\nyou never actually fill the ball.\n\n194\n00:11:16.300 --> 00:11:18.110\nIt'll never draw.\n\n195\n00:11:18.110 --> 00:11:20.550\nIt'll do a bunch of stuff,\nbut it'll never draw.\n\n196\n00:11:20.550 --> 00:11:24.700\nAnd so\nthis is our first iteration of the ball.\n\n197\n00:11:24.700 --> 00:11:26.098\nThere's a couple of things\nthat I wanna point out.\n\n198\n00:11:26.098 --> 00:11:28.480\nCanvas width.\n\n199\n00:11:28.480 --> 00:11:33.205\n[SOUND] It's using the canvas\nhere global variable and\n\n200\n00:11:33.205 --> 00:11:37.834\nthat means that this is\ncoupled to that canvas only.\n\n201\n00:11:37.834 --> 00:11:39.870\nWe will deal with that later.\n\n202\n00:11:39.870 --> 00:11:43.110\nWe have some hard coded values.\n\n203\n00:11:43.110 --> 00:11:46.750\nYou are eventually gonna have some hard\ncoded values but what if I wanted to make\n\n204\n00:11:46.750 --> 00:11:48.449\nthe ball different sized based\non different [INAUDIBLE]?\n\n205\n00:11:50.190 --> 00:11:54.240\nNow this is gonna become problematic,\nwhat if I wanted the character or\n\n206\n00:11:54.240 --> 00:11:57.250\nthe player to select the ball color,\nor like a theme?\n\n207\n00:11:57.250 --> 00:11:58.410\nThis becomes more difficult.\n\n208\n00:11:58.410 --> 00:12:03.430\n&gt;&gt; Or like in the actual game as I recall,\nas you're playing it starts to speed up.\n\n209\n00:12:03.430 --> 00:12:05.560\n&gt;&gt; So actually changing the speed.\n\n210\n00:12:05.560 --> 00:12:06.490\nThese are all hard coded.\n\n211\n00:12:06.490 --> 00:12:08.340\nYou're absolutely correct.\n\n212\n00:12:08.340 --> 00:12:13.410\nI may run into problems later and\nhere's where people will get crazy.\n\n213\n00:12:13.410 --> 00:12:15.610\nThey try to make this\ntoo abstract too soon.\n\n214\n00:12:15.610 --> 00:12:16.900\nAnd then it becomes hard to reason about.\n\n215\n00:12:16.900 --> 00:12:20.110\nI'm just gonna leave it here for\nnow and then we can always come back.\n\n216\n00:12:20.110 --> 00:12:20.660\n&gt;&gt; And tweak it.\n\n217\n00:12:20.660 --> 00:12:21.970\n&gt;&gt; And tweak it and refactor and\n\n218\n00:12:21.970 --> 00:12:25.380\nmake it better and so\n[COUGH] I'm gonna leave that here for now.\n\n219\n00:12:25.380 --> 00:12:27.520\nAnd I wanna make sure that it works.\n\n220\n00:12:27.520 --> 00:12:32.540\nSo we have the context,\nwe have a full sized canvas.\n\n221\n00:12:32.540 --> 00:12:34.550\nWe have the ball object.\n\n222\n00:12:34.550 --> 00:12:40.900\nIf I call, ball.render(ctx) like that.\n\n223\n00:12:40.900 --> 00:12:41.690\nWhat ball is it?\n\n224\n00:12:41.690 --> 00:12:43.810\nIt's this one right here.\n\n225\n00:12:43.810 --> 00:12:45.640\nAnd I refresh, there it is.\n\n226\n00:12:46.680 --> 00:12:50.870\nThere is the ball, and\n\n227\n00:12:50.870 --> 00:12:55.500\nsee you have to handle the resize\nof things appropriately.\n\n228\n00:12:55.500 --> 00:12:58.120\nIn addition to you'll notice something.\n\n229\n00:12:58.120 --> 00:13:03.790\nIf I refresh, refresh, and\nthen if I move this refresh,\n\n230\n00:13:03.790 --> 00:13:07.020\nthe refresh will actually\nresize based on this.\n\n231\n00:13:07.020 --> 00:13:11.047\nBut it will not resize the window,\nwe can do that later,\n\n232\n00:13:11.047 --> 00:13:14.310\nwe'll figure that out,\nthat's not my ultimate concern.\n\n233\n00:13:14.310 --> 00:13:18.870\nSo we're refreshing,\nwe're good, but if I go ball,\n\n234\n00:13:20.440 --> 00:13:24.650\nupdate, notice ball update ran,\n\n235\n00:13:24.650 --> 00:13:29.890\nand if I say ball render, I'm doing\na little bit of exploration console.\n\n236\n00:13:29.890 --> 00:13:30.900\nNotice I drew the ball again.\n\n237\n00:13:32.490 --> 00:13:35.420\nAnd if I do that one more time,\nand I drew the ball again.\n\n238\n00:13:35.420 --> 00:13:38.400\nI then clear the screen but\nI can manually do this, so\n\n239\n00:13:38.400 --> 00:13:40.120\nit looks like our ball's working and\n\n240\n00:13:40.120 --> 00:13:43.660\nwe've done some manual testing, let's\nsee if it can actually animates, right.\n\n241\n00:13:45.930 --> 00:13:49.540\nSo if we come here, and\n\n242\n00:13:49.540 --> 00:13:54.320\ndown here are some kind of\nmain portions of our app.\n\n243\n00:13:55.500 --> 00:14:01.300\nWe're going to say const main = and\nthere we go okay?\n\n244\n00:14:01.300 --> 00:14:04.050\nNow we may change this but\nthis is a good approximation.\n\n245\n00:14:04.050 --> 00:14:07.200\nFirst I'm gonna say\nwindow.requestAnimationFrame,\n\n246\n00:14:07.200 --> 00:14:11.130\nand we technically don't\nhave to do window.\n\n247\n00:14:11.130 --> 00:14:14.640\nSo just to keep the typing down,\nrequestAnimationFrame.\n\n248\n00:14:17.380 --> 00:14:18.450\nAnd what am I gonna call?\n\n249\n00:14:18.450 --> 00:14:20.910\nWell I'm gonna call this function.\n\n250\n00:14:20.910 --> 00:14:26.650\nAnd now okay what do I want ball.update,\n\n251\n00:14:26.650 --> 00:14:31.060\nand ball.render.\n\n252\n00:14:31.060 --> 00:14:33.930\nAnd I gotta pass in the context, and\nI'm gonna remove this render here,\n\n253\n00:14:33.930 --> 00:14:37.460\ncuz I don't actually need that, and\nI'm constructed a ball, I'm now passing it\n\n254\n00:14:37.460 --> 00:14:43.610\nover to essentially this app.js is\nthe game state, the game that's going on.\n\n255\n00:14:43.610 --> 00:14:48.850\nAnd now to kick it off,\nrequestAnimationFrame(main).\n\n256\n00:14:48.850 --> 00:14:53.470\nSo give me the first one and then that\none will continue to schedule next, next,\n\n257\n00:14:53.470 --> 00:14:53.970\nnext.\n\n258\n00:14:53.970 --> 00:14:58.734\nAnd so if I refresh, there it is,\nwe now have a moving path.\n\n259\n00:14:58.734 --> 00:15:01.888\nAnd you're like it's nothing new,\nyou've talked about that before, yeah,\n\n260\n00:15:01.888 --> 00:15:03.640\nI have I'm not gonna lie to you.\n\n261\n00:15:03.640 --> 00:15:04.824\n&gt;&gt; And there's trails.\n\n262\n00:15:04.824 --> 00:15:08.320\n&gt;&gt; And there's trails, so\nwe should probably fix that trail first.\n\n263\n00:15:09.500 --> 00:15:14.150\nSo ctx.fillReact For 0,0,\n\n264\n00:15:14.150 --> 00:15:19.990\ncanvas.width, canvas.height.\n\n265\n00:15:19.990 --> 00:15:22.272\nAnd you're like,\nyou're using these global variables again.\n\n266\n00:15:22.272 --> 00:15:26.368\nI am, and the reason I'm doing that\nis because within this game state,\n\n267\n00:15:26.368 --> 00:15:28.570\nI should have access to the games.\n\n268\n00:15:28.570 --> 00:15:32.820\nThe game should be all knowing,\nkind of this onmi present type thing.\n\n269\n00:15:32.820 --> 00:15:33.930\n&gt;&gt; Could be a macroverse.\n\n270\n00:15:33.930 --> 00:15:34.610\n&gt;&gt; Yeah.\n\n271\n00:15:34.610 --> 00:15:38.390\nThere we go.\nAnd then I'm going to restore and\n\n272\n00:15:38.390 --> 00:15:44.861\nthat way any changes I make in this\ncontext will not persist beyond that.\n\n273\n00:15:44.861 --> 00:15:49.959\nAnd I'm just gonna say rgba(255,\n\n274\n00:15:49.959 --> 00:15:56.146\n255, 255); Now 5 key is not working.\n\n275\n00:15:56.146 --> 00:15:59.554\nIt just stopped working, there we go, 0.3.\n\n276\n00:15:59.554 --> 00:16:00.818\n&gt;&gt; Good, good, good.\n\n277\n00:16:00.818 --> 00:16:02.304\n&gt;&gt; There you go, right.\n\n278\n00:16:02.304 --> 00:16:04.088\n&gt;&gt; So we get 40 over here [LAUGH].\n\n279\n00:16:04.088 --> 00:16:07.535\n&gt;&gt; We are gonna have, got to love it.\n\n280\n00:16:07.535 --> 00:16:11.836\nBut now, I'm gonna get a semi transparent\nfield that would eventually kind diminish\n\n281\n00:16:11.836 --> 00:16:14.593\nthe trail, and\nwe should get this nice ball movement.\n\n282\n00:16:14.593 --> 00:16:16.280\n&gt;&gt; Yeah.\n\n283\n00:16:16.280 --> 00:16:17.611\n&gt;&gt; That's great, okay?\n\n284\n00:16:17.611 --> 00:16:18.331\n&gt;&gt; Mm-hm.\n\n285\n00:16:18.331 --> 00:16:21.280\n&gt;&gt; Now, here's the thing,\n\n286\n00:16:21.280 --> 00:16:27.090\nthis will always move and\nnever do anything.\n\n287\n00:16:27.090 --> 00:16:30.300\nI actually want it to hit the edge.\n\n288\n00:16:30.300 --> 00:16:33.750\nI want it to hit the edge and\nthen reset the game.\n\n289\n00:16:33.750 --> 00:16:35.750\n&gt;&gt; Right, because it just flew\noff into infinity, didn't it.\n\n290\n00:16:35.750 --> 00:16:40.531\n&gt;&gt; Right,it did, but when it hits the top\nand bottom, I actually want it to bounce.\n\n291\n00:16:40.531 --> 00:16:42.120\n&gt;&gt; Right.\n\n292\n00:16:42.120 --> 00:16:47.910\n&gt;&gt; So, what we probably need\nto do is check there and\n\n293\n00:16:47.910 --> 00:16:51.980\nmake that internal to the ball but\nthen have the game manage [INAUDIBLE]\n\n294\n00:16:51.980 --> 00:16:56.850\nthe balls out of balance, we;re just\ngonna reset the game and start over.\n\n295\n00:16:56.850 --> 00:16:59.820\nOkay, so\n\n296\n00:16:59.820 --> 00:17:05.180\nwhat we gonna do is say,\n\n297\n00:17:05.180 --> 00:17:10.230\nsome of that logic should\nprobably just in the game, so\n\n298\n00:17:10.230 --> 00:17:15.770\nwe're gonna update, render, but\nbefore we do this, check some conditions.\n\n299\n00:17:16.930 --> 00:17:20.420\nAnd there's a couple of different ways,\nI'm gonna do this the game may be that it\n\n300\n00:17:20.420 --> 00:17:23.530\nends up fitting in the and\nthe ball object better.\n\n301\n00:17:23.530 --> 00:17:26.975\nBut we're gonna keep that here,\nand check some conditions.\n\n302\n00:17:26.975 --> 00:17:32.001\nIf(ball.y), if the y\n\n303\n00:17:32.001 --> 00:17:37.984\nposition is &lt; canvas) It's\n\n304\n00:17:37.984 --> 00:17:43.978\n&lt; ball.radius), right?\n\n305\n00:17:43.978 --> 00:17:50.151\nSo I went to the top and I came down the\nradius of the ball, it was less than that.\n\n306\n00:17:50.151 --> 00:17:54.977\nOr ball.x &gt; canvas.width, nope, nope,\n\n307\n00:17:54.977 --> 00:17:59.676\nsee I wanna bounce it off the left and\nright,\n\n308\n00:17:59.676 --> 00:18:03.810\nit's up and down, up and down.\n\n309\n00:18:03.810 --> 00:18:09.448\nIf it's greater than the canvas\nheight minus the ball radius,\n\n310\n00:18:09.448 --> 00:18:12.270\nthen do something.\n\n311\n00:18:12.270 --> 00:18:18.700\nOkay, and that means I came to the bottom\nand then came up actual ball amount.\n\n312\n00:18:18.700 --> 00:18:23.086\nSo I'm testing to see if the center is\nhere and then it will bounce up and down,\n\n313\n00:18:23.086 --> 00:18:25.664\nhowever, it will not bounce left and\nright.\n\n314\n00:18:25.664 --> 00:18:28.180\nSo [COUGH] we're gonna\ncheck some conditions.\n\n315\n00:18:28.180 --> 00:18:35.177\nSo let's call it bounce top and\n\n316\n00:18:35.177 --> 00:18:40.560\nbottom, and reset game\n\n317\n00:18:40.560 --> 00:18:46.840\nif out of bounds, right?\n\n318\n00:18:46.840 --> 00:18:47.997\nIf out of bounds.\n\n319\n00:18:51.215 --> 00:18:55.669\nSo we're doing this a little bit to\ntest and make sure and get a feel,\n\n320\n00:18:55.669 --> 00:18:58.730\nmake sure we have all we need for\nthe ball.\n\n321\n00:18:58.730 --> 00:19:01.100\nSo if it's here, what do I want?\n\n322\n00:19:01.100 --> 00:19:08.520\nI want the ball to bounce in\nthe y direction, or up and down.\n\n323\n00:19:08.520 --> 00:19:10.430\nSo I want it to boop, boop, boop.\n\n324\n00:19:10.430 --> 00:19:17.532\nSo that part is probably best In the ball,\nso boom, bounceY and\n\n325\n00:19:17.532 --> 00:19:23.170\nI'm just adding a method\nbecause it makes sense.\n\n326\n00:19:23.170 --> 00:19:23.695\n&gt;&gt; Yes, it does.\n\n327\n00:19:23.695 --> 00:19:30.600\n&gt;&gt; So this.dy = -1 times this.dy.\n\n328\n00:19:30.600 --> 00:19:33.340\nSo change its velocity up and down.\n\n329\n00:19:35.130 --> 00:19:42.071\nSo if this is true, then, ball.bounceY.\n\n330\n00:19:42.071 --> 00:19:44.220\nAnd by doing these methods,\nwhat is the ball doing?\n\n331\n00:19:44.220 --> 00:19:47.870\nIt's bouncing in the Y direction, and\nit's bouncing off the top and bottom.\n\n332\n00:19:47.870 --> 00:19:51.943\nWe can change the name later, but\n\n333\n00:19:51.943 --> 00:19:59.521\njust to keep things a little bit quicker,\nhere we go and boom.\n\n334\n00:19:59.521 --> 00:20:05.232\nWe're gonna change this to an x,\nthis to an x and this to a width.\n\n335\n00:20:05.232 --> 00:20:08.450\nAll right, there's technically a zero\nhere cuz we moved over from the left and\n\n336\n00:20:08.450 --> 00:20:09.770\nfrom the top.\n\n337\n00:20:09.770 --> 00:20:12.530\nBut if that's true,\nthen what are we gonna do?\n\n338\n00:20:12.530 --> 00:20:17.600\nWe don't actually have any\nway to reset the ball,\n\n339\n00:20:18.870 --> 00:20:23.260\nwe'd have to do this all manually.\n\n340\n00:20:23.260 --> 00:20:27.490\nSo, this object literal may\nnot only need one ball.\n\n341\n00:20:27.490 --> 00:20:28.070\nWell actually,\n\n342\n00:20:28.070 --> 00:20:31.410\nwhat you probably need is the ability\nto create multiple balls, right?\n\n343\n00:20:31.410 --> 00:20:34.090\nAnd you may have multiple ping pong balls.\n\n344\n00:20:34.090 --> 00:20:38.180\nSo if we want to do that,\nwhat should we do?\n\n345\n00:20:39.660 --> 00:20:42.660\nFor now I'm gonna simulate something.\n\n346\n00:20:42.660 --> 00:20:46.703\n&gt;&gt; I am gonna say oldBall = {}; and\n\n347\n00:20:46.703 --> 00:20:51.724\nI'm just gonna say Object.assign [],\n\n348\n00:20:51.724 --> 00:20:54.390\nthis is fairly named.\n\n349\n00:20:54.390 --> 00:20:56.440\nAnd what is the target?\n\n350\n00:20:56.440 --> 00:20:59.129\nWell, I wanna copy the oldBall\n\n351\n00:21:03.446 --> 00:21:06.102\nThere we go,\nI was putting it in the wrong place.\n\n352\n00:21:08.339 --> 00:21:10.902\nWanna put it into a new object,\n\n353\n00:21:10.902 --> 00:21:15.350\nwanna copy the ball that I\njust made into this object.\n\n354\n00:21:16.440 --> 00:21:21.680\nAnd now I have this backup copy,\nI have this backup copy.\n\n355\n00:21:21.680 --> 00:21:25.740\n&gt;&gt; It's too bad there's not\na clone feature, a clone call.\n\n356\n00:21:25.740 --> 00:21:27.358\n&gt;&gt; Essentially, this is a clone call.\n\n357\n00:21:27.358 --> 00:21:29.232\n&gt;&gt; Okay.\n&gt;&gt; So if I give it an empty object, and\n\n358\n00:21:29.232 --> 00:21:32.990\nthen I give it another [INAUDIBLE],\nand it'll just copy that over, and\n\n359\n00:21:32.990 --> 00:21:34.950\nit's a clone of the original.\n\n360\n00:21:34.950 --> 00:21:36.840\n&gt;&gt; Fantastic.\n&gt;&gt; They are no longer linked.\n\n361\n00:21:36.840 --> 00:21:39.420\nSo I'm gonna keep a backup copy.\n\n362\n00:21:39.420 --> 00:21:43.530\nAnd now if this occurs,\nwhat do I wanna do?\n\n363\n00:21:43.530 --> 00:21:47.883\nI want to just actually make the ball,\n\n364\n00:21:47.883 --> 00:21:54.287\nwhich I can't because now I\nneed to change this to a let.\n\n365\n00:21:54.287 --> 00:21:59.100\nI wanna make the ball have the same\nproperties as it originally did.\n\n366\n00:21:59.100 --> 00:22:00.700\nAnd I'll show you here.\n\n367\n00:22:00.700 --> 00:22:03.160\nThis is not the best, but\nthis is a good approximation.\n\n368\n00:22:03.160 --> 00:22:04.782\nWe'll definitely come back and\nchange this.\n\n369\n00:22:04.782 --> 00:22:08.470\nI'm gonna change the ball\nback to the old ball.\n\n370\n00:22:08.470 --> 00:22:12.200\nSo, what this does is take all\nthe attributes that are copied up here\n\n371\n00:22:12.200 --> 00:22:15.610\nfrom its original state and\nputs it back in.\n\n372\n00:22:15.610 --> 00:22:19.940\nSo it should return their\nrespective positions.\n\n373\n00:22:19.940 --> 00:22:24.030\nSo if I do this, and boom, boom, boom.\n\n374\n00:22:25.160 --> 00:22:26.510\n&gt;&gt; There is clones.\n\n375\n00:22:26.510 --> 00:22:27.310\n&gt;&gt; Yeah, clones.\n\n376\n00:22:27.310 --> 00:22:31.800\nSo this is mutation and a lot of\npeople are like I don't like mutating.\n\n377\n00:22:31.800 --> 00:22:35.578\nHowever, I now only have two objects\nthat I can use to reset the game instead\n\n378\n00:22:35.578 --> 00:22:41.000\nof spawning 5,000 ping pong balls,\nwhich could cause some performance issues.\n\n379\n00:22:41.000 --> 00:22:43.060\nHowever, we know that this works.\n\n380\n00:22:43.060 --> 00:22:48.411\nBut now we need to tweak,\nwhat happens if I change this to negative?\n\n381\n00:22:50.400 --> 00:22:51.910\nIt still works, cool.\n\n382\n00:22:51.910 --> 00:22:57.156\nWhat if this is 0, so\nit never moves left to right but\n\n383\n00:22:57.156 --> 00:22:59.791\nit only moves up and down?\n\n384\n00:22:59.791 --> 00:23:02.121\nAnd wait, [LAUGH].\n\n385\n00:23:02.121 --> 00:23:06.480\n&gt;&gt; [LAUGH]\n&gt;&gt; There we go, so we now have that,\n\n386\n00:23:06.480 --> 00:23:08.743\nthat probably needs to\nbe a little bit faster.\n\n387\n00:23:11.275 --> 00:23:15.020\nBoom, boom,\n&gt;&gt; Now that's a bit of a challenge.\n\n388\n00:23:15.020 --> 00:23:18.434\n&gt;&gt; So now, yeah,\nthis game will go on forever.\n\n389\n00:23:18.434 --> 00:23:19.675\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n390\n00:23:19.675 --> 00:23:23.450\nthose are some things that we have observe\nthat we'll definitely have to address.\n\n391\n00:23:23.450 --> 00:23:27.760\nSo I reset a game on the outer edges,\nthat works.\n\n392\n00:23:27.760 --> 00:23:28.400\n&gt;&gt; Yes.\n\n393\n00:23:28.400 --> 00:23:32.963\n&gt;&gt; We will definite refactor that,\nbut our ball has all\n\n394\n00:23:32.963 --> 00:23:38.682\nthe attributes necessary to self\ndescribe what needs to happen.\n\n395\n00:23:38.682 --> 00:23:39.247\n&gt;&gt; Uh-huh.\n\n396\n00:23:39.247 --> 00:23:40.350\n&gt;&gt; Right, update, things to that nature.\n\n397\n00:23:40.350 --> 00:23:41.805\nI do have some logic.\n\n398\n00:23:41.805 --> 00:23:47.941\nThat's right down here on a game\nthat why are we doing it.\n\n399\n00:23:47.941 --> 00:23:51.709\nWell, this will become more\napparent when this starts,\n\n400\n00:23:51.709 --> 00:23:56.029\nit's no longer a function and\nactually becomes something else.\n\n401\n00:23:56.029 --> 00:24:01.064\nSo, one last thing I do wanna do It's\n\n402\n00:24:01.064 --> 00:24:05.621\nprobably best if I pull this out.\n\n403\n00:24:05.621 --> 00:24:06.641\nReally I would use,\n\n404\n00:24:06.641 --> 00:24:10.481\nif I was building something like this I\nwould use something like web pack, or\n\n405\n00:24:10.481 --> 00:24:14.070\noffer some module bundling and\njust to help with this pattern.\n\n406\n00:24:14.070 --> 00:24:16.640\nBut for now we're gonna forego that,\nthat's a little too much.\n\n407\n00:24:16.640 --> 00:24:21.733\nThis app.js should only be main logic,\nshould be essentially our game.\n\n408\n00:24:21.733 --> 00:24:23.120\n&gt;&gt; The game state you said.\n\n409\n00:24:23.120 --> 00:24:25.380\n&gt;&gt; Yeah so, what the game's doing,\n\n410\n00:24:25.380 --> 00:24:29.630\nhowever the game needs to know\nabout these other things.\n\n411\n00:24:29.630 --> 00:24:34.530\nSo what I'm gonna do is I'm gonna create\na js file inside of this js folder,\n\n412\n00:24:34.530 --> 00:24:36.478\ncalled ball.js.\n\n413\n00:24:36.478 --> 00:24:38.050\nNow this will change overtime,\n\n414\n00:24:38.050 --> 00:24:42.640\nI'm just gonna paste this for\nnow and then there's our ball.\n\n415\n00:24:42.640 --> 00:24:45.490\nSo now the only thing in\nthis file is ball related.\n\n416\n00:24:45.490 --> 00:24:49.770\nSo something goes wrong with the ball\nlike data and like update file,\n\n417\n00:24:49.770 --> 00:24:53.908\nyou just come to this file, you don't\nhave to worry about all that other stuff.\n\n418\n00:24:53.908 --> 00:24:56.921\nHowever this did break my game.\n\n419\n00:24:56.921 --> 00:24:57.970\nWhy?\n\n420\n00:24:57.970 --> 00:25:01.930\nThat's because now, in order to have\nthese dependencies load appropriately,\n\n421\n00:25:01.930 --> 00:25:05.760\nI have to come back and\nadd another script like so.\n\n422\n00:25:05.760 --> 00:25:08.310\nNow, Adam, you kinda get that Tab feature.\n\n423\n00:25:08.310 --> 00:25:13.550\nI'm hitting Tab to auto complete for\nfree, src=ball.js\n\n424\n00:25:13.550 --> 00:25:17.590\nthat will still be broken because it's\nactually in a folder, js/ball,js.\n\n425\n00:25:17.590 --> 00:25:23.400\nWhen I come back that should canvas\nis not, we just ran into a problem.\n\n426\n00:25:23.400 --> 00:25:23.970\nDid we not?\n\n427\n00:25:26.130 --> 00:25:27.800\nSo canvas is here.\n\n428\n00:25:27.800 --> 00:25:30.390\nThe ball is necessary.\n\n429\n00:25:30.390 --> 00:25:33.910\nSo what should I do?\n\n430\n00:25:36.100 --> 00:25:41.240\nThe ball, the app, so\ninside a ball I use canvas right here.\n\n431\n00:25:42.880 --> 00:25:50.497\nFor now,\nlet's just place it at roughly 500,500.\n\n432\n00:25:50.497 --> 00:25:53.261\nMy 5 key legitimately,\n\n433\n00:25:53.261 --> 00:25:58.820\nI guess we're gonna go 600, and then 600.\n\n434\n00:25:58.820 --> 00:26:00.190\nAnd let's see if we have canvas.\n\n435\n00:26:00.190 --> 00:26:01.025\nAny other place?\n\n436\n00:26:01.025 --> 00:26:02.550\nNo, that's it.\n\n437\n00:26:02.550 --> 00:26:04.610\nSo there was weird dependency issue.\n\n438\n00:26:06.650 --> 00:26:09.706\nReally the ball should be fed in\nthe canvas and constructed but\n\n439\n00:26:09.706 --> 00:26:10.955\nwe're using a literal.\n\n440\n00:26:10.955 --> 00:26:13.050\nWe'll definitely come back and\nrefactor that.\n\n441\n00:26:14.410 --> 00:26:18.590\nBut I wanted to show you, there we go,\nwe now have our ball back.\n\n442\n00:26:18.590 --> 00:26:21.616\nAnd if it were to run off the edge, right?\n\n443\n00:26:21.616 --> 00:26:28.499\nLet's change this to 20, [SOUND],\nThat's pretty good serve in Pong.\n\n444\n00:26:28.499 --> 00:26:32.427\nBut now we're good,\nwe see the illusion of motion,\n\n445\n00:26:32.427 --> 00:26:37.420\nour ball at least in it's first form,\nwe're ready to go Zach.\n\n446\n00:26:37.420 --> 00:26:40.020\nWe got some paddles and\nscores, and difficulties,\n\n447\n00:26:40.020 --> 00:26:43.860\nand there's a lot more to this,\nso definitely stay tuned.\n\n448\n00:26:43.860 --> 00:26:46.603\nBut this does provide an impetuous\nof why would I care about anime?\n\n449\n00:26:46.603 --> 00:26:49.020\nWell I wanna build something like this.\n\n450\n00:26:49.020 --> 00:26:50.701\n&gt;&gt; It's exciting and\nyou're doing a marvelous job.\n\n451\n00:26:50.701 --> 00:26:54.980\nAnd creating the ball, love this episode,\nand there's so much more to come.\n\n452\n00:26:54.980 --> 00:26:56.390\nAnything else you'd like to add?\n\n453\n00:26:56.390 --> 00:26:59.470\n&gt;&gt; So we're gonna address some\nof these dependencies and\n\n454\n00:26:59.470 --> 00:27:04.210\nhow does, there's this weird circular\nmotion in app and the ball right now.\n\n455\n00:27:05.310 --> 00:27:07.940\nUltimately what we're gonna do is build\nfunctions inside a ball that will\n\n456\n00:27:07.940 --> 00:27:14.760\nconstruct balls from a function call,\nthat the app can use internal to itself.\n\n457\n00:27:14.760 --> 00:27:20.850\nSo it's gonna become the stateful thing,\nonly inside of the application.\n\n458\n00:27:20.850 --> 00:27:25.710\nSo there's still some weirdness, but I'm\na big proponent of let patterns emerge,\n\n459\n00:27:25.710 --> 00:27:27.960\nkind of figure out what's going on,\n\n460\n00:27:27.960 --> 00:27:33.090\nbefore you start imposing all these\ndesign patterns or these things.\n\n461\n00:27:33.090 --> 00:27:37.190\nNow, I may not have been\nvery explicit about that in\n\n462\n00:27:37.190 --> 00:27:38.560\nother times that I've spoken.\n\n463\n00:27:38.560 --> 00:27:40.870\nBut I think when you're first learning,\nfirst experimenting,\n\n464\n00:27:40.870 --> 00:27:44.726\nthat's probably a best practice or\nat least it makes sense to me.\n\n465\n00:27:44.726 --> 00:27:47.990\nSo opinion based, but we're gonna do that,\nso definitely come back and\n\n466\n00:27:47.990 --> 00:27:49.010\nsee how I do it.\n\n467\n00:27:49.010 --> 00:27:50.740\nMaybe you disagree,\nthat's completely okay.\n\n468\n00:27:50.740 --> 00:27:53.140\n&gt;&gt; You're doing a fantastic job\nJustin you're an awesome teacher,\n\n469\n00:27:53.140 --> 00:27:55.420\nand we're taking those baby pawn steps.\n\n470\n00:27:55.420 --> 00:27:59.253\nSo make sure you watch every single\nepisode of HTML 5 Canvas Projects.\n\n471\n00:27:59.253 --> 00:28:02.900\nAnd while you're at it, go to our course\nlibrary and check out the hundreds of\n\n472\n00:28:02.900 --> 00:28:05.780\nvideos that are there,\nall designed to help you go further.\n\n473\n00:28:05.780 --> 00:28:08.794\nAnd tell everybody you know about\nDevProTV, they'll be glad you did.\n\n474\n00:28:08.794 --> 00:28:10.450\nThanks for watching, I'm Zach Memos.\n\n475\n00:28:10.450 --> 00:28:11.180\n&gt;&gt; And I'm Justin Dennison.\n\n476\n00:28:11.180 --> 00:28:13.270\n&gt;&gt; And we'll see you again very soon.\n\n477\n00:28:13.270 --> 00:28:23.090\n[MUSIC]\n\n",
          "vimeoId": "234901059"
        },
        {
          "description": "Justin and Zach explain a general approach of creating a paddle object to illustrate designing the paddle for the player and for the computer, showing how to utilize this custom object to extend for use as a player paddle as well as a computer paddle.",
          "length": "1625",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-3-1-creating_the_paddle-092117-PGM.00_34_32_17.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-3-1-creating_the_paddle-092117-PGM.00_34_32_17.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-3-1-creating_the_paddle-092117-PGM.00_34_32_17.Still001-sm.jpg",
          "title": "Creating the Paddle",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:13.062 --> 00:00:16.695\nHello and thank you for choosing DevProTV,\nhelping you learn wherever you go.\n\n3\n00:00:16.695 --> 00:00:18.140\nI'm your host, Zach Memos.\n\n4\n00:00:18.140 --> 00:00:21.660\nAs we continue on with\nHTML 5 Canvas Projects,\n\n5\n00:00:21.660 --> 00:00:24.830\nwe're gonna be creating a paddle today,\nin our homage to pong.\n\n6\n00:00:24.830 --> 00:00:28.249\nAnd the person we need for this is\nJustin Dennison right here, hey Justin,\n\n7\n00:00:28.249 --> 00:00:29.615\nthanks for joining us again.\n\n8\n00:00:29.615 --> 00:00:30.747\n&gt;&gt; I am glad to be back, and\n\n9\n00:00:30.747 --> 00:00:33.157\nI'm glad that I'm needed because well-\n&gt;&gt; You are.\n\n10\n00:00:33.157 --> 00:00:35.170\n&gt;&gt; That keeps me kind of in focus.\n\n11\n00:00:35.170 --> 00:00:37.970\nBut more importantly Zach,\nhow are you today?\n\n12\n00:00:37.970 --> 00:00:40.471\n&gt;&gt; I am thrilled, I'm feeling thrilled.\n\n13\n00:00:40.471 --> 00:00:46.255\n&gt;&gt; [LAUGH] Yeah, so we're gonna go\nahead and talk about that paddle.\n\n14\n00:00:46.255 --> 00:00:48.995\nI don't know how to take that thrill.\n\n15\n00:00:48.995 --> 00:00:49.960\n&gt;&gt; We're making a paddle.\n\n16\n00:00:49.960 --> 00:00:51.138\n&gt;&gt; I don't know if it was thrilled.\n\n17\n00:00:51.138 --> 00:00:51.877\n&gt;&gt; And a ball.\n\n18\n00:00:51.877 --> 00:00:55.600\n&gt;&gt; We are making a paddle, and\nI'm glad you said in our homage to pong.\n\n19\n00:00:55.600 --> 00:00:58.290\nMainly, because if we're just\nmaking a paddle it could be for\n\n20\n00:00:58.290 --> 00:01:00.530\na whole plethora of uses, right?\n\n21\n00:01:00.530 --> 00:01:01.310\nLike, making a paddle?\n\n22\n00:01:01.310 --> 00:01:02.920\nWhy would you need a paddle?\n\n23\n00:01:02.920 --> 00:01:05.420\nBut what I'm talking about is\nthe ping pong paddles, right?\n\n24\n00:01:05.420 --> 00:01:08.110\nThe little bars on either\nside that need to have-\n\n25\n00:01:08.110 --> 00:01:08.961\n&gt;&gt; And I have a question, too.\n\n26\n00:01:08.961 --> 00:01:09.935\n&gt;&gt; Yeah.\n&gt;&gt; Is the paddle creation,\n\n27\n00:01:09.935 --> 00:01:12.085\nis that gonna be different\nthan how we created the ball?\n\n28\n00:01:12.085 --> 00:01:13.556\n&gt;&gt; So there is gonna be some differences.\n\n29\n00:01:13.556 --> 00:01:17.965\nWe're gonna have, namely the paddle I\nthink is gonna best a rectangular shape.\n\n30\n00:01:17.965 --> 00:01:22.135\nSo that in itself has a different\n\n31\n00:01:22.135 --> 00:01:25.875\nkind of set of coordinates that\ndescribe it than the ball does.\n\n32\n00:01:25.875 --> 00:01:28.595\nNow, we could apply some\nabstractions to get around that,\n\n33\n00:01:30.040 --> 00:01:33.910\nI'm a big fan of don't apply\nearly abstractions if possible.\n\n34\n00:01:33.910 --> 00:01:35.088\n&gt;&gt; Right, right.\n&gt;&gt; You should know about them, but\n\n35\n00:01:35.088 --> 00:01:37.867\nwhen you're actually building something-\n&gt;&gt; You'd go back and then later build up,\n\n36\n00:01:37.867 --> 00:01:38.370\nbuild on it.\n\n37\n00:01:38.370 --> 00:01:41.125\n&gt;&gt; Yeah, so we can always pull\nthose out and abstract those.\n\n38\n00:01:41.125 --> 00:01:45.740\nSo I'm actually going to use\na similar type approach to the ball.\n\n39\n00:01:45.740 --> 00:01:51.780\nBut let's think about it, a paddle needs\nwhere it's located within height, right?\n\n40\n00:01:51.780 --> 00:01:53.080\nNot just a radius.\n\n41\n00:01:53.080 --> 00:01:55.240\nBecause our paddle is a square.\n\n42\n00:01:55.240 --> 00:02:00.530\nIt actually has uneven distribution\nof side length, within height.\n\n43\n00:02:00.530 --> 00:02:01.890\nBut it does still have a color.\n\n44\n00:02:01.890 --> 00:02:03.955\nDoes still have a position.\n\n45\n00:02:03.955 --> 00:02:05.730\n&gt;&gt; Mm-hm.\n&gt;&gt; The position is just a little bit\n\n46\n00:02:05.730 --> 00:02:09.220\ndifferent than say the ball is.\n\n47\n00:02:09.220 --> 00:02:11.570\nSo yeah, that's where we're going.\n\n48\n00:02:11.570 --> 00:02:16.650\nBut we still are going to store data\ninside of a paddle object very,\n\n49\n00:02:16.650 --> 00:02:19.856\nsimilar that we did with the ball, right?\n\n50\n00:02:19.856 --> 00:02:20.748\n&gt;&gt; So-\n&gt;&gt; Yeah, we have to,\n\n51\n00:02:20.748 --> 00:02:22.580\nbecause it's gonna have attributes.\n\n52\n00:02:22.580 --> 00:02:25.050\n&gt;&gt; Right, it needs those attributes,\nit also needs those functions.\n\n53\n00:02:25.050 --> 00:02:28.390\nAnd we are going to start applying\nan API that I'm coming up with and\n\n54\n00:02:28.390 --> 00:02:29.610\nI'm not saying it is the best one.\n\n55\n00:02:29.610 --> 00:02:31.260\nNow, what do I mean with API?\n\n56\n00:02:31.260 --> 00:02:33.380\nWell, the actual programming interface for\n\n57\n00:02:33.380 --> 00:02:35.780\nthe objects that we're\nbuilding to be on the screen.\n\n58\n00:02:35.780 --> 00:02:38.050\nI like to keep those as\nuniform as possible.\n\n59\n00:02:38.050 --> 00:02:39.110\nEspecially if I need this.\n\n60\n00:02:39.110 --> 00:02:41.320\nNow, there are times where\nwe have to break those.\n\n61\n00:02:41.320 --> 00:02:47.309\nI'm a big proponent of, get things working\nand then come back and make them better.\n\n62\n00:02:47.309 --> 00:02:48.010\n&gt;&gt; Right.\n\n63\n00:02:48.010 --> 00:02:50.290\n&gt;&gt; But\nin order to kind of think about this,\n\n64\n00:02:50.290 --> 00:02:53.820\nI wanna be very explicit about\nthe planning and the thought process.\n\n65\n00:02:53.820 --> 00:02:56.982\nSo l think is best if we\ncome back to our plan,\n\n66\n00:02:56.982 --> 00:02:59.900\nour drawn plan from the previous episodes.\n\n67\n00:02:59.900 --> 00:03:04.830\nAnd then kind of address like what do we\nneed, what are the things that we need in\n\n68\n00:03:04.830 --> 00:03:08.980\norder to describe a paddle that would be\nused for rendering as well as updating?\n\n69\n00:03:08.980 --> 00:03:12.740\nNow, I just said two verbs, render and\nupdate, the ball actually had a render and\n\n70\n00:03:12.740 --> 00:03:15.770\nupdate, and\nthat's part of that API that I'm picking\n\n71\n00:03:15.770 --> 00:03:19.000\nin order to kind of keep things together,\nright?\n\n72\n00:03:19.000 --> 00:03:20.340\nWe're always gonna have\nan update function,\n\n73\n00:03:20.340 --> 00:03:22.360\nwe're always gonna have a render, but\n\n74\n00:03:22.360 --> 00:03:25.570\nthat doesn't mean that we can't kind\nof break the mold a little bit.\n\n75\n00:03:25.570 --> 00:03:28.050\nYou never know what\nthings are going to do.\n\n76\n00:03:28.050 --> 00:03:32.637\nSo let's go ahead and come over to the\nskycam and just look at our previous plan.\n\n77\n00:03:32.637 --> 00:03:36.731\nAnd here's our plan and you know we\nstarted out with this ball that can move\n\n78\n00:03:36.731 --> 00:03:40.540\nin a multitude of directions and\nit can bounce against the paddles.\n\n79\n00:03:40.540 --> 00:03:44.929\nNow, that's not ultimately what we're\ngonna try to do in this episode.\n\n80\n00:03:44.929 --> 00:03:48.620\nWell in order to play pong or\nan homage to pong,\n\n81\n00:03:48.620 --> 00:03:52.038\nwe definitely have to do that eventually.\n\n82\n00:03:52.038 --> 00:03:55.650\nBut what I'm thinking is we\njust look at this, right?\n\n83\n00:03:55.650 --> 00:03:58.160\nSo if I come back to my\nplan here's my paddle.\n\n84\n00:03:58.160 --> 00:04:01.200\nAnd notice this is actually gonna be\nthe player paddle, we're on the left.\n\n85\n00:04:01.200 --> 00:04:03.010\nBut for now we just want a general paddle.\n\n86\n00:04:03.010 --> 00:04:06.339\nBecause if I can make a paddle here and\nI can make a paddle here,\n\n87\n00:04:06.339 --> 00:04:07.939\nthen I can just kinda go okay,\n\n88\n00:04:07.939 --> 00:04:12.120\nwhat changes do I need to make in order\nto have a player and a computer, right?\n\n89\n00:04:12.120 --> 00:04:15.850\nOr maybe I don't need any changes.\n\n90\n00:04:15.850 --> 00:04:18.860\nMaybe it just comes out that\nthe paddle is already descriptive and\n\n91\n00:04:18.860 --> 00:04:21.990\nthen I just change it to the other one,\nmake a few tweaks.\n\n92\n00:04:23.110 --> 00:04:26.040\nSo what do I need in\norder to describe this?\n\n93\n00:04:26.040 --> 00:04:29.410\nWell, I'm gonna draw just\na little bit more on this.\n\n94\n00:04:29.410 --> 00:04:31.700\nActually let me grab\na different color here.\n\n95\n00:04:31.700 --> 00:04:38.350\nAnd so I have this,\nwhat we call height, right?\n\n96\n00:04:38.350 --> 00:04:39.880\nSo that's an attribute that we need.\n\n97\n00:04:39.880 --> 00:04:46.768\nAnd then I have also a width And\nI know I'm drawing over some things,\n\n98\n00:04:46.768 --> 00:04:49.819\nand that's kinda hard to read, but\nthat actually says width, I promise.\n\n99\n00:04:49.819 --> 00:04:52.560\nAnd then well we have a color right?\n\n100\n00:04:52.560 --> 00:04:54.921\nAnd we should probably be\nable to set the color.\n\n101\n00:04:54.921 --> 00:04:56.100\nSo we need a color.\n\n102\n00:04:58.220 --> 00:05:03.610\nAnd then we also need an x, y right,\nour positioning, our coordinate system.\n\n103\n00:05:03.610 --> 00:05:08.500\nNow, when we're drawing rectangles is\ntypically the upper left-hand corner.\n\n104\n00:05:08.500 --> 00:05:14.791\nAnd if you've watched any of the previous\nthings in our library about HTML5 Canvass,\n\n105\n00:05:14.791 --> 00:05:19.373\na lot of times it's easy to reason\nabout if it's in the center.\n\n106\n00:05:19.373 --> 00:05:22.990\nHowever that's a lot to keep track\nup when your first getting started.\n\n107\n00:05:22.990 --> 00:05:26.142\nSo what I'm gonna do is even\nthough this is in the center,\n\n108\n00:05:26.142 --> 00:05:29.440\nI would probably keep this on\nthe upper left-hand corner.\n\n109\n00:05:29.440 --> 00:05:32.210\nAt least at start, and\nthen come back and add that later.\n\n110\n00:05:32.210 --> 00:05:37.590\nSo don't add things that you\nmay not need at the start.\n\n111\n00:05:37.590 --> 00:05:40.820\nI think it's called YAGNI,\nyou ain't gonna need it.\n\n112\n00:05:40.820 --> 00:05:47.520\nSo we need this position, and given this\nposition we can tell, okay, where is it?\n\n113\n00:05:47.520 --> 00:05:51.123\nNow likewise,\nthere's a few considerations.\n\n114\n00:05:51.123 --> 00:05:55.889\nMy ultimate goal is I want the paddle\nto be able to move up and down, right?\n\n115\n00:05:55.889 --> 00:05:59.127\nBut I don't want the paddle to\nbe able to go way over here or\n\n116\n00:05:59.127 --> 00:06:02.431\nI don't want the paddle to come\nall the way off the screen,\n\n117\n00:06:02.431 --> 00:06:05.770\nbecause then that becomes very confusing,\nright?\n\n118\n00:06:05.770 --> 00:06:06.890\nWe should have boundaries.\n\n119\n00:06:07.980 --> 00:06:11.600\nMoreover, if I'm talking about moving,\n\n120\n00:06:11.600 --> 00:06:16.350\nI need some kind of change in these\nin order to determine moving.\n\n121\n00:06:16.350 --> 00:06:19.450\nBut here's where it starts to\ndeviate from the ball a little bit.\n\n122\n00:06:19.450 --> 00:06:24.222\nI don't need a dx.\n\n123\n00:06:24.222 --> 00:06:27.960\nI don't need that because I'm not\nmoving the paddle forward or anything.\n\n124\n00:06:27.960 --> 00:06:30.554\nNow, I could change that\ndynamic of the game later and\n\n125\n00:06:30.554 --> 00:06:32.493\nit would be more like air hockey.\n\n126\n00:06:32.493 --> 00:06:33.050\n&gt;&gt; Right.\n\n127\n00:06:33.050 --> 00:06:35.289\n&gt;&gt; Right?\nCuz you can move up to the center line.\n\n128\n00:06:35.289 --> 00:06:35.860\n&gt;&gt; [CROSSTALK]\n&gt;&gt; However,\n\n129\n00:06:35.860 --> 00:06:38.413\nthat adds a lot more logic\nto be able to say, well,\n\n130\n00:06:38.413 --> 00:06:42.240\nthe left-hand paddle can only move\nto the center, and no further.\n\n131\n00:06:42.240 --> 00:06:43.870\nSo for now we just need up and\n\n132\n00:06:43.870 --> 00:06:47.590\ndown movement,\nwhich is going to be our dy, right?\n\n133\n00:06:47.590 --> 00:06:49.714\nSo I'm keeping these terms similar so\n\n134\n00:06:49.714 --> 00:06:53.360\nI don't have to add additional\nvocabulary in my discussions.\n\n135\n00:06:53.360 --> 00:06:56.160\nBut this would define our paddle.\n\n136\n00:06:56.160 --> 00:06:59.112\nAnd I think I'm gonna take\na similar approach to the ball and\n\n137\n00:06:59.112 --> 00:07:01.484\njust make a single paddle\nas an object literal.\n\n138\n00:07:01.484 --> 00:07:06.530\nAnd make sure that it works, everything's\ngood to go, before we get too crazy.\n\n139\n00:07:06.530 --> 00:07:09.620\nSo now that we have kind\nof that that plan laid out,\n\n140\n00:07:09.620 --> 00:07:14.560\nthat thought process, let's go ahead and\nmake our first paddle.\n\n141\n00:07:14.560 --> 00:07:16.353\nSo if we come into my screen here,\n\n142\n00:07:16.353 --> 00:07:20.470\njust a quick review of where we left off,\nwe have our ball in a separate file.\n\n143\n00:07:20.470 --> 00:07:23.501\nWe have our app.js, right?\n\n144\n00:07:23.501 --> 00:07:27.400\nAnd that actually just fills the screen.\n\n145\n00:07:27.400 --> 00:07:28.860\nIt checks some conditions.\n\n146\n00:07:28.860 --> 00:07:30.680\nNow, I may end up coming back and\nchanging.\n\n147\n00:07:30.680 --> 00:07:33.340\nThis is just for some testing purposes.\n\n148\n00:07:33.340 --> 00:07:35.458\nThis is always in flux.\n\n149\n00:07:35.458 --> 00:07:38.880\nAnd then ball.update, ball.render and\nI'm passing in the context.\n\n150\n00:07:38.880 --> 00:07:40.861\nIf we come over this is what we get.\n\n151\n00:07:40.861 --> 00:07:42.159\n&gt;&gt; Yeah.\n&gt;&gt; Right now is just.\n\n152\n00:07:42.159 --> 00:07:47.042\n[SOUND] It's resetting the game based on,\nand it does that by assigning\n\n153\n00:07:47.042 --> 00:07:51.529\nthe old attributes from the original\nposition back to the ball.\n\n154\n00:07:51.529 --> 00:07:52.667\nIt does some override.\n\n155\n00:07:52.667 --> 00:07:55.443\nSo I'm not creating new objects,\nI'm just resetting, so to speak.\n\n156\n00:07:55.443 --> 00:07:58.388\nSo that may be something\nthat we wanna consider.\n\n157\n00:07:58.388 --> 00:08:01.244\nBut do keep in mind, this is not in stone.\n\n158\n00:08:01.244 --> 00:08:03.322\nThis is kind of influx for now.\n\n159\n00:08:03.322 --> 00:08:07.503\nBecause our main goal is to build these\nsmall objects that we're gonna compose\n\n160\n00:08:07.503 --> 00:08:08.970\ninto our game eventually.\n\n161\n00:08:08.970 --> 00:08:11.125\nSo that's where the logic comes into play.\n\n162\n00:08:11.125 --> 00:08:14.230\nAnd in addition to that,\n\n163\n00:08:14.230 --> 00:08:18.230\nI'm gonna always kinda build in\nthis file and then abstract.\n\n164\n00:08:18.230 --> 00:08:22.840\nSo, or not necessarily abstract,\nbut kind of extract, abstract and\n\n165\n00:08:22.840 --> 00:08:24.295\nextract are different words.\n\n166\n00:08:24.295 --> 00:08:28.580\n[LAUGH] So\nthat's your vocabulary lesson for today.\n\n167\n00:08:28.580 --> 00:08:36.030\nBut let's see, let's create a paddle,\nand here's the end of the paddle, Right?\n\n168\n00:08:36.030 --> 00:08:38.170\nSo boom, there we go.\n\n169\n00:08:38.170 --> 00:08:42.310\nAnd then I'm just gonna say let paddle =,\nand it's a object literal.\n\n170\n00:08:42.310 --> 00:08:45.510\nNow we just talked about\nthat we need an exposition.\n\n171\n00:08:45.510 --> 00:08:50.280\nWell, let's start with\nthe left hand paddle.\n\n172\n00:08:50.280 --> 00:08:52.580\nWhere should it be placed\non the x coordinate?\n\n173\n00:08:52.580 --> 00:08:58.160\nWell, let's see here,\nI'm thinking it should be placed\n\n174\n00:08:58.160 --> 00:09:01.780\nprobably right at 0, right?\n\n175\n00:09:01.780 --> 00:09:04.530\nIt's right up against the edge,\nand then for the y,\n\n176\n00:09:04.530 --> 00:09:07.970\nlet's just move it down a little bit, 30.\n\n177\n00:09:07.970 --> 00:09:15.390\nAnd then dy, we're going to say,\n10, fairly fast moving paddle.\n\n178\n00:09:15.390 --> 00:09:18.520\nAnd then what else do we need\nto describe said paddle?\n\n179\n00:09:19.530 --> 00:09:21.370\nWell we said that we need a height.\n\n180\n00:09:22.370 --> 00:09:24.237\nAnd let's just go with a 100 pixels.\n\n181\n00:09:24.237 --> 00:09:26.795\nNow, this is assuming that\nthe scale is one to one,\n\n182\n00:09:26.795 --> 00:09:31.000\nso when l put a 100 in here l'm\ngonna get 100 pixels in height.\n\n183\n00:09:31.000 --> 00:09:34.766\nNow, this is about tweaking, so to speak.\n\n184\n00:09:34.766 --> 00:09:36.900\nSo we're not necessarily sold here.\n\n185\n00:09:36.900 --> 00:09:38.380\nAnd I'm thinking about 15.\n\n186\n00:09:38.380 --> 00:09:41.060\nI do not want something huge and\nbulky on the screen,\n\n187\n00:09:41.060 --> 00:09:44.600\nI want something fairly tiny,\nthat you can still see it.\n\n188\n00:09:44.600 --> 00:09:46.899\nAnd that's just something\nthat I've chosen.\n\n189\n00:09:46.899 --> 00:09:48.900\nIf you want giant paddles,\n\n190\n00:09:48.900 --> 00:09:51.985\nhave at it, that is-\n&gt;&gt; I gotta tell you in original pong it\n\n191\n00:09:51.985 --> 00:09:53.037\nwas pretty much a line.\n\n192\n00:09:53.037 --> 00:09:57.635\n&gt;&gt; Yeah it was a very tiny line,\nand we will change some things, but\n\n193\n00:09:57.635 --> 00:10:01.140\nmaybe we'll keep in a throw back here and\nthere.\n\n194\n00:10:01.140 --> 00:10:06.942\nSo we'll keep these fairly small, but in\norder to help with later things, I'm think\n\n195\n00:10:06.942 --> 00:10:12.435\nhaving at least some width, some amount,\nis gonna make things a little easier.\n\n196\n00:10:12.435 --> 00:10:18.615\nAnd then we need an update, and\na render, which takes a context.\n\n197\n00:10:18.615 --> 00:10:23.416\nAnd again just to remind you,\nI'm using new objects literal notation for\n\n198\n00:10:23.416 --> 00:10:29.170\nthese methods, so I don't have to say\nfunction, or update colon function.\n\n199\n00:10:29.170 --> 00:10:30.970\nAnd define them as such.\n\n200\n00:10:30.970 --> 00:10:34.440\nSo let's see, is that all we need?\n\n201\n00:10:34.440 --> 00:10:35.340\nWe need a color.\n\n202\n00:10:37.210 --> 00:10:39.902\nNow, this is one of those early,\nabstractions.\n\n203\n00:10:39.902 --> 00:10:41.150\n&gt;&gt; [CROSSTALK]\n&gt;&gt; Pumpkin.\n\n204\n00:10:41.150 --> 00:10:42.100\n&gt;&gt; Pumpkin.\n\n205\n00:10:42.100 --> 00:10:43.560\nThat one might work.\n\n206\n00:10:43.560 --> 00:10:44.450\n&gt;&gt; Really?\n\n207\n00:10:44.450 --> 00:10:45.720\n&gt;&gt; Maybe, maybe.\n\n208\n00:10:45.720 --> 00:10:47.680\n&gt;&gt; I just threw it out there.\n\n209\n00:10:47.680 --> 00:10:50.230\n&gt;&gt; If it doesn't, then we'll blame Zack.\n\n210\n00:10:50.230 --> 00:10:53.003\nSo we have these kind of laid out.\n\n211\n00:10:53.003 --> 00:10:57.233\nSome of these are not necessary\nto abstract early on., but\n\n212\n00:10:57.233 --> 00:11:00.700\nI like these descriptions, like color.\n\n213\n00:11:00.700 --> 00:11:02.871\nI could just always just say it's black,\nright?\n\n214\n00:11:02.871 --> 00:11:03.917\n&gt;&gt; Mm-hm.\n\n215\n00:11:03.917 --> 00:11:05.237\n&gt;&gt; And that's it, but\n\n216\n00:11:05.237 --> 00:11:09.984\nif I store that internal state then\nI can at least have some flexibility.\n\n217\n00:11:09.984 --> 00:11:13.801\nI'm kinda violating\nthe The YAGNI principle,\n\n218\n00:11:13.801 --> 00:11:16.479\nyou ain't gonna need it in this.\n\n219\n00:11:16.479 --> 00:11:19.901\nHowever, sometimes rules\nare meant to bent,\n\n220\n00:11:19.901 --> 00:11:23.095\nat least till they's right in the middle.\n\n221\n00:11:23.095 --> 00:11:25.330\n&gt;&gt; [LAUGH]\n&gt;&gt; Not necessarily broken.\n\n222\n00:11:25.330 --> 00:11:28.750\nSo we have this laid out, and\nlet's see if we have any syntax here, so\n\n223\n00:11:28.750 --> 00:11:32.120\nif we come over here and\nwe refresh, It looks good.\n\n224\n00:11:32.120 --> 00:11:35.440\nNow that we have this paddle, right?\n\n225\n00:11:35.440 --> 00:11:37.330\nHow are we going to render that paddle?\n\n226\n00:11:37.330 --> 00:11:42.459\nWell, we're gonna use that\ncontext that's passed in,\n\n227\n00:11:42.459 --> 00:11:45.700\nand we're just going to\ncreate the rectangle.\n\n228\n00:11:45.700 --> 00:11:52.652\nSo, ctx.fillStyle = this.color And\n\n229\n00:11:52.652 --> 00:11:56.550\nthen ctx.fillRect.\n\n230\n00:11:56.550 --> 00:12:01.839\nAnd fillRect requires an x and a y, and\n\n231\n00:12:01.839 --> 00:12:08.614\na width and a height, And just like so.\n\n232\n00:12:08.614 --> 00:12:13.999\nSo there's our render function, and\nactually let's see if render works.\n\n233\n00:12:13.999 --> 00:12:17.610\nSo paddle.render.\n\n234\n00:12:17.610 --> 00:12:22.450\nSo this is inside of our main function,\nwhich is actually calling itself over and\n\n235\n00:12:22.450 --> 00:12:25.690\nover and over again and refresh,\nand there's our paddle.\n\n236\n00:12:25.690 --> 00:12:28.830\nRight over here on the left\nit's kind of hard to see.\n\n237\n00:12:28.830 --> 00:12:31.680\nMaybe we'll pull that out a little\nbit further from the edge.\n\n238\n00:12:31.680 --> 00:12:32.860\n&gt;&gt; But is it pumpkin?\n\n239\n00:12:32.860 --> 00:12:33.820\n&gt;&gt; It is not pumpkin.\n\n240\n00:12:33.820 --> 00:12:34.560\n&gt;&gt; I didn't think it was pumpkin.\n\n241\n00:12:34.560 --> 00:12:35.696\n&gt;&gt; Pumpkin is not going to work.\n\n242\n00:12:35.696 --> 00:12:41.176\n&gt;&gt; [LAUGH]\n&gt;&gt; So let's go with salmon.\n\n243\n00:12:41.176 --> 00:12:42.722\nWhich is kind of a, well,\nit's salmon colored.\n\n244\n00:12:42.722 --> 00:12:43.537\n&gt;&gt; Yeah.\n\n245\n00:12:43.537 --> 00:12:46.077\n&gt;&gt; And then,\nlet's make the height a little more.\n\n246\n00:12:46.077 --> 00:12:50.610\nMainly because I have a giant canvas,\nright?\n\n247\n00:12:50.610 --> 00:12:52.060\nSo relatively speaking.\n\n248\n00:12:52.060 --> 00:12:55.568\nNow, this could be something that\nyou could adjust during difficulty\n\n249\n00:12:55.568 --> 00:12:56.467\nlevels, right?\n\n250\n00:12:56.467 --> 00:12:58.770\nYou could do,\nI'm not gonna do this upfront.\n\n251\n00:12:58.770 --> 00:13:03.150\nBut I always like to think, hey,\nis this something that I need to adjust,\n\n252\n00:13:03.150 --> 00:13:04.610\nor is it okay to be set?\n\n253\n00:13:06.230 --> 00:13:09.950\nHeight, well it's gonna become more\ndifficult if you have a giant space and\n\n254\n00:13:09.950 --> 00:13:11.950\nyour paddle gets tiny, tiny, tiny.\n\n255\n00:13:11.950 --> 00:13:16.042\nI don't know if you ever\nplayed what is it, stick ball?\n\n256\n00:13:16.042 --> 00:13:16.550\n&gt;&gt; Yeah.\n\n257\n00:13:16.550 --> 00:13:20.110\n&gt;&gt; Right, you don't have a bat,\nyou got a stick, and\n\n258\n00:13:20.110 --> 00:13:22.030\nyou were like, I can't hit it, I can't.\n\n259\n00:13:22.030 --> 00:13:24.948\n&gt;&gt; Yeah.\n&gt;&gt; And that's because there's very small\n\n260\n00:13:24.948 --> 00:13:27.400\ncross sectional area in\norder to get that done.\n\n261\n00:13:27.400 --> 00:13:28.430\n&gt;&gt; Yeah.\n&gt;&gt; So\n\n262\n00:13:28.430 --> 00:13:33.170\nthen let's see what it looks like,\nAnd that's probably more appropriate,\n\n263\n00:13:33.170 --> 00:13:36.890\nwe would probably mess\nwith that a little bit.\n\n264\n00:13:36.890 --> 00:13:41.340\nLet's pull this out to about 30 pixels\njust so it's a little easier to see.\n\n265\n00:13:41.340 --> 00:13:45.060\nThere we go, so we have our paddle.\n\n266\n00:13:45.060 --> 00:13:50.495\nExcept it doesn't actually do anything,\nand that's no good.\n\n267\n00:13:50.495 --> 00:13:54.110\nMainly because the update\nfunction is not being called.\n\n268\n00:13:54.110 --> 00:13:56.290\nAnd even if it was, it's not written.\n\n269\n00:13:56.290 --> 00:14:00.010\nIt doesn't change the attributes\nabout the paddle that's being used\n\n270\n00:14:00.010 --> 00:14:02.270\nto render the paddle out.\n\n271\n00:14:02.270 --> 00:14:05.980\nSo what do we want to do?\n\n272\n00:14:05.980 --> 00:14:12.539\nLet's just stay or the very simple\napproximation, this.y += this.dy.\n\n273\n00:14:12.539 --> 00:14:15.930\nNow, you're like, well you just\nrefreshed and it didn't do anything.\n\n274\n00:14:15.930 --> 00:14:18.046\nThat's because I forgot\nto call update on here.\n\n275\n00:14:18.046 --> 00:14:21.819\nSo, paddle.update, like so.\n\n276\n00:14:21.819 --> 00:14:23.600\nSo refresh and there it goes.\n\n277\n00:14:23.600 --> 00:14:27.687\nAnd then it goes all the way off screen,\nwhoops.\n\n278\n00:14:27.687 --> 00:14:30.362\nSo that is not good, right?\n\n279\n00:14:30.362 --> 00:14:35.707\nSo we could do things like\nwe do on the ball and\n\n280\n00:14:35.707 --> 00:14:40.050\nbounce, actually let's do that.\n\n281\n00:14:40.050 --> 00:14:43.777\nSo we should probably bounce y,\njust to keep similar things.\n\n282\n00:14:46.332 --> 00:14:49.588\nAnd what is this gonna do?\n\n283\n00:14:49.588 --> 00:14:54.705\nThis is gonna say dy = -1 times this.dy.\n\n284\n00:14:57.096 --> 00:15:03.100\nIn the end, in order to do that, I'm\ngonna have to check the paddle's radius.\n\n285\n00:15:03.100 --> 00:15:05.560\nOr excuse me, not the radius,\nthe paddle's position.\n\n286\n00:15:05.560 --> 00:15:09.050\nThe things get a little bit different,\nnow I copied and pasted there.\n\n287\n00:15:09.050 --> 00:15:11.350\nNot necessarily a big proponent of that.\n\n288\n00:15:11.350 --> 00:15:12.890\nBut this is as a reminder so\n\n289\n00:15:12.890 --> 00:15:16.660\nwe can reason about how this\nrelates to the ball, all right?\n\n290\n00:15:16.660 --> 00:15:17.916\nAnd see the differences.\n\n291\n00:15:17.916 --> 00:15:23.720\nSo paddle bounce or\nhow about paddle boundaries?\n\n292\n00:15:24.910 --> 00:15:26.910\nSo to speak.\n&gt;&gt; Yeah that makes sense.\n\n293\n00:15:26.910 --> 00:15:28.470\n&gt;&gt; So if I do that.\n\n294\n00:15:29.900 --> 00:15:32.277\nNow, that's Cmd D in Atom.\n\n295\n00:15:32.277 --> 00:15:37.440\nOr Ctrl D in Atom, if you're on\nthe Windows or Linux platforms.\n\n296\n00:15:37.440 --> 00:15:39.870\nI'm gonna say paddle.\n\n297\n00:15:39.870 --> 00:15:43.175\nIf the paddle y, that is not right,\n\n298\n00:15:43.175 --> 00:15:48.466\nis less than the paddle height,\nlet's think about this.\n\n299\n00:15:48.466 --> 00:15:53.397\nAnd then let's change this to height\nas well, just to keep consistency.\n\n300\n00:15:53.397 --> 00:15:58.215\nSo if the paddle y is less\nthan the paddle height.\n\n301\n00:15:58.215 --> 00:16:02.313\nActually, no, because it is in\nthe upper left hand corner, right?\n\n302\n00:16:02.313 --> 00:16:05.843\nSo if I was in the center we\ncan do things like that, but\n\n303\n00:16:05.843 --> 00:16:10.237\nreally we want to say, if it is less\nthan 0, an equal to in there and\n\n304\n00:16:10.237 --> 00:16:15.030\nkinda limit it a little more, and\nactually I think I'm going to do that.\n\n305\n00:16:15.030 --> 00:16:20.000\nAnd I want that to do as soon as\nit hits the 0, it will stop it.\n\n306\n00:16:20.000 --> 00:16:24.270\nIt won't let it kind of wiggle\nbeyond zero between those, so\n\n307\n00:16:24.270 --> 00:16:26.770\nwe'll get a little\nstronger detection there.\n\n308\n00:16:26.770 --> 00:16:31.340\nIf the paddle y is greater\nthan the canvas height\n\n309\n00:16:31.340 --> 00:16:37.030\nminus the paddle height,\nwell, what would that mean?\n\n310\n00:16:37.030 --> 00:16:39.270\nLet's actually hop back over\nto the sky cam just for\n\n311\n00:16:39.270 --> 00:16:43.860\na moment because I think it's\ngoing to be easier To see that, so\n\n312\n00:16:43.860 --> 00:16:48.030\nwhat I'm thinking is,\nlet's say the panel is 300, right?\n\n313\n00:16:49.690 --> 00:16:56.740\nSo let's say if it bounces against here\nand the position is right here, we're\n\n314\n00:16:56.740 --> 00:16:59.850\ntrying to limit this position because\nthat's where everything's referenced.\n\n315\n00:16:59.850 --> 00:17:03.940\nI should probably use a different\ncolor then I differ red on red.\n\n316\n00:17:03.940 --> 00:17:06.860\nSo there's the reference position.\n\n317\n00:17:06.860 --> 00:17:11.310\nIf this is height, then\n\n318\n00:17:11.310 --> 00:17:16.730\nthis would be canvas height\nminus height of the panel.\n\n319\n00:17:16.730 --> 00:17:21.090\nIf it is greater than that which\nmeans this would move down.\n\n320\n00:17:22.350 --> 00:17:23.730\nRight?\n\n321\n00:17:23.730 --> 00:17:28.180\nThen, yeah, I think that's\nactually a good limitation and\n\n322\n00:17:28.180 --> 00:17:31.240\nwe didn't even put an equal sign and\nsay nope, stop,\n\n323\n00:17:31.240 --> 00:17:35.610\nas soon as it hits there and\nnow we're all set.\n\n324\n00:17:35.610 --> 00:17:40.300\nNow that would be different if\nthe off set was here in the middle.\n\n325\n00:17:40.300 --> 00:17:44.760\nThen would only be half of the height So\nkeep that in mind, if you ever change\n\n326\n00:17:44.760 --> 00:17:47.950\nthe reference in this, somebody's boundary\nconditions are gonna have to change.\n\n327\n00:17:47.950 --> 00:17:49.820\nNow, ultimately,\nI think these boundary conditions,\n\n328\n00:17:49.820 --> 00:17:53.480\nwe're gonna see a pattern\nfall out of them that\n\n329\n00:17:53.480 --> 00:17:57.840\nallows us to be a little more dynamic,\nbut we're not worried about that upfront.\n\n330\n00:17:57.840 --> 00:18:02.720\nSo if we come back to my screen here,\nI think there should be get other than.\n\n331\n00:18:02.720 --> 00:18:06.410\nLet's have an equal to and\nto some extent the ball,\n\n332\n00:18:06.410 --> 00:18:11.390\nwe can probably add an equal to there as\nwell and get a little harder boundary.\n\n333\n00:18:11.390 --> 00:18:15.490\nBut, let's just keep it, right?\n\n334\n00:18:15.490 --> 00:18:16.320\nWhat's it gonna do?\n\n335\n00:18:17.380 --> 00:18:21.350\nIt's going to bounce a y\nwhich is switch directions,\n\n336\n00:18:21.350 --> 00:18:26.000\nif it comes in contact with\neither edge in the y direction.\n\n337\n00:18:26.000 --> 00:18:30.660\nSo if we refresh, boom, boom, boom.\n\n338\n00:18:30.660 --> 00:18:31.660\n&gt;&gt; It's magical.\n\n339\n00:18:31.660 --> 00:18:32.680\n&gt;&gt; It is magical.\n\n340\n00:18:32.680 --> 00:18:37.120\nAnd now this paddle has all\nof the attributes, the color,\n\n341\n00:18:37.120 --> 00:18:41.570\neverything that we need in addition\nto it's rendering update does work,\n\n342\n00:18:41.570 --> 00:18:44.910\nthis is a single paddle object\n\n343\n00:18:46.540 --> 00:18:51.800\nI'm not sure if that's what we need,\nright?\n\n344\n00:18:51.800 --> 00:18:55.800\nSo, well how would this best be played?\n\n345\n00:18:55.800 --> 00:19:02.700\nWell if I extract this, better yet,\nI have a question for you Zach.\n\n346\n00:19:02.700 --> 00:19:03.670\nGot a question for you.\n\n347\n00:19:03.670 --> 00:19:05.250\n&gt;&gt; And I have an answer and a question.\n\n348\n00:19:05.250 --> 00:19:07.780\n&gt;&gt; How many\n&gt;&gt; How many paddles do you think you need\n\n349\n00:19:07.780 --> 00:19:10.910\nin order to play table ping pong?\n\n350\n00:19:10.910 --> 00:19:14.550\n&gt;&gt; Well there should be at least two,\nor four if you had a partner.\n\n351\n00:19:14.550 --> 00:19:17.190\n&gt;&gt; Four if you have a partner,\ntwo at minimum.\n\n352\n00:19:17.190 --> 00:19:19.140\nAs a stance we've built one, right.\n\n353\n00:19:19.140 --> 00:19:20.500\nAnd that's the only one we could ever had.\n\n354\n00:19:20.500 --> 00:19:23.740\n&gt;&gt; Right, and is this paddle for\nthe player, for the human player or\n\n355\n00:19:23.740 --> 00:19:25.320\nis this paddle for the computer.\n\n356\n00:19:25.320 --> 00:19:30.270\n&gt;&gt; So I think here we've almost gotten\nlike a very simple computer player.\n\n357\n00:19:30.270 --> 00:19:31.260\nRight?\n&gt;&gt; That's what I think.\n\n358\n00:19:31.260 --> 00:19:32.610\n&gt;&gt; By proxy.\n\n359\n00:19:32.610 --> 00:19:40.240\nSo this update and this now that logic is\ninside of the actual game loop, right?\n\n360\n00:19:40.240 --> 00:19:42.050\nIt's not to the paddle.\n\n361\n00:19:42.050 --> 00:19:46.050\nI think what would be best is\nif we like pull this out And\n\n362\n00:19:46.050 --> 00:19:48.540\nthen make it to where we can\nmake multiple paddles, right?\n\n363\n00:19:48.540 --> 00:19:49.700\nWhat if we want two players?\n\n364\n00:19:49.700 --> 00:19:51.620\nWhat if we want four players?\n\n365\n00:19:51.620 --> 00:19:55.710\nNow, some of the logic would have\nto be back embedded into the game,\n\n366\n00:19:55.710 --> 00:19:58.200\nbut right now,\nwe only have the ability to have one.\n\n367\n00:19:58.200 --> 00:20:00.460\nNow, we could find a way around that, but\n\n368\n00:20:00.460 --> 00:20:04.220\nmight be better if we pull\nthis out into a function.\n\n369\n00:20:04.220 --> 00:20:07.500\nEither constructor function or a function\nthat returns objects like a factory\n\n370\n00:20:07.500 --> 00:20:11.010\nfunction, that allows us\nto do some tweaking right?\n\n371\n00:20:11.010 --> 00:20:14.460\nBecause as you see this\npaddle's always on the left.\n\n372\n00:20:14.460 --> 00:20:15.330\n&gt;&gt; Right.\n\n373\n00:20:15.330 --> 00:20:19.930\n&gt;&gt; There's no way to move\nthe paddle to the right.\n\n374\n00:20:19.930 --> 00:20:23.050\nWell how does the other paddle, if you're\nboth on the same side how do you play.\n\n375\n00:20:23.050 --> 00:20:25.268\nI guess you get up against a wall or\nsomething and\n\n376\n00:20:25.268 --> 00:20:26.551\njust [SOUND] Not as much fun.\n\n377\n00:20:26.551 --> 00:20:28.100\n&gt;&gt; Yeah, not as much fun.\n\n378\n00:20:28.100 --> 00:20:31.420\nSo let's kind of pull this\nout into a separate file,\n\n379\n00:20:31.420 --> 00:20:37.220\ndo a little bit of the old switcheroo\nto get this a little more general.\n\n380\n00:20:37.220 --> 00:20:40.680\nBut I think, I agree with you,\nthis is more of a computer pathway,\n\n381\n00:20:40.680 --> 00:20:42.790\nvery simple strategy.\n\n382\n00:20:42.790 --> 00:20:44.050\nSo to speak.\n\n383\n00:20:44.050 --> 00:20:45.380\nSo we're gonna extract it out.\n\n384\n00:20:45.380 --> 00:20:46.550\n&gt;&gt; Or we gotta extract it out.\n\n385\n00:20:46.550 --> 00:20:51.060\n&gt;&gt; We're gonna extract it, and then\nwe're going to apply a little bit of an,\n\n386\n00:20:51.060 --> 00:20:54.020\nI'm hesitant to say extraction.\n\n387\n00:20:54.020 --> 00:20:58.436\nWe're gonna build a factory [CROSSTALK]\nthat returns paddle objects, right?\n\n388\n00:20:58.436 --> 00:21:00.980\nSo let's do exactly that.\n\n389\n00:21:00.980 --> 00:21:05.430\nIf we come over here into\nmy JavaScript folder And\n\n390\n00:21:05.430 --> 00:21:07.710\ninclude a new file, what is that file?\n\n391\n00:21:07.710 --> 00:21:12.770\nLet's go paddle that JS, that make sense\nto me, and then inside of the app,\n\n392\n00:21:13.950 --> 00:21:19.630\nzoom out, l am actually usually, l am\nusually to make sure don't break anything,\n\n393\n00:21:19.630 --> 00:21:24.000\npull this out, put it in paddle\nwhich is now like a global,\n\n394\n00:21:24.000 --> 00:21:28.710\nlike panel as a global variable, And\n\n395\n00:21:30.070 --> 00:21:35.040\neverything should still work as\nlong as I put it on the actual\n\n396\n00:21:35.040 --> 00:21:38.900\npage before app.js, okay?\n\n397\n00:21:38.900 --> 00:21:43.525\nSo, script, and here we go.\n\n398\n00:21:43.525 --> 00:21:49.490\njs/paddle.js Let's go and check it out.\n\n399\n00:21:49.490 --> 00:21:50.490\nLet see if it works.\n\n400\n00:21:50.490 --> 00:21:51.930\nAnd it still works.\n\n401\n00:21:51.930 --> 00:21:52.970\nWhich is good.\n\n402\n00:21:52.970 --> 00:21:54.590\nSo, we've extracted it.\n\n403\n00:21:54.590 --> 00:21:55.230\nYey.\n\n404\n00:21:55.230 --> 00:21:57.710\nNow, let's make it where we\ncan have more than one paddle\n\n405\n00:21:57.710 --> 00:22:00.720\nbecause I think the construction\nof the paddle should actually be\n\n406\n00:22:00.720 --> 00:22:05.200\nin the game not in the paddle like\nthe paddle is not gonna construct itself.\n\n407\n00:22:05.200 --> 00:22:07.590\nThe game should construct the paddle.\n\n408\n00:22:07.590 --> 00:22:08.830\n&gt;&gt; I agree.\n\n409\n00:22:08.830 --> 00:22:11.760\nAs you can see like the ball, right?\n\n410\n00:22:11.760 --> 00:22:14.600\nNow, the ball,\nwe didn't do this with the ball,\n\n411\n00:22:14.600 --> 00:22:19.525\nbecause we needed one ball but\nwe could and we still might need to.\n\n412\n00:22:19.525 --> 00:22:27.510\nAgain, and of being creative,\nwhat if we wanna play pong with two balls?\n\n413\n00:22:27.510 --> 00:22:31.050\nRight, you got them just going all\nover the place, and you gotta,\n\n414\n00:22:31.050 --> 00:22:36.080\nyeah I've seen real people play ping\npong like that, and it's crazy.\n\n415\n00:22:36.080 --> 00:22:37.410\nIt blows my mind.\n\n416\n00:22:37.410 --> 00:22:43.333\nSo now that we have the paddle working,\nthis is actually gonna be fairly easy,\n\n417\n00:22:43.333 --> 00:22:49.467\nbecause what we're gonna\ndo is say const And\n\n418\n00:22:49.467 --> 00:22:54.749\nI'm gonna make it upper case, and\nthat's just a semantic, it's kind of like\n\n419\n00:22:54.749 --> 00:23:00.560\na constructor or I have seen people, like\ncreate paddle, and then what am I doing?\n\n420\n00:23:00.560 --> 00:23:03.400\nI'm creating a paddle,\nwhich is a specific type of object.\n\n421\n00:23:05.440 --> 00:23:09.080\nAnd I'm just gonna run\nthis an error function.\n\n422\n00:23:09.080 --> 00:23:13.280\nAnd I'm wrapping this on parenthesis, that\nway it's returning an object instead of\n\n423\n00:23:13.280 --> 00:23:18.590\nactually evaluating as a function body,\nokay.\n\n424\n00:23:19.660 --> 00:23:24.515\nSo, now that we have this, well,\neverything is going to break.\n\n425\n00:23:24.515 --> 00:23:29.948\nAnd its [LAUGH].\n\n426\n00:23:29.948 --> 00:23:33.920\nBut we have a small little\nchange that we can make here.\n\n427\n00:23:33.920 --> 00:23:37.540\nLet paddle equal paddle Like so.\n\n428\n00:23:38.900 --> 00:23:40.660\nAlright so this is a paddle.\n\n429\n00:23:41.720 --> 00:23:43.890\nRefresh and there we go.\n\n430\n00:23:43.890 --> 00:23:47.030\nWe are back to it and\nto some extent it's a computer player.\n\n431\n00:23:47.030 --> 00:23:49.820\nIt is not actually doing anything,\nit's just resetting a bunch of times.\n\n432\n00:23:49.820 --> 00:23:53.026\nIt is actually resetting the ball, right?\n\n433\n00:23:53.026 --> 00:23:54.688\nSo we would have to tweak that.\n\n434\n00:23:54.688 --> 00:23:58.264\nBut I might save that for\na little bit later.\n\n435\n00:23:58.264 --> 00:24:00.748\nAs it stands, we have this paddle.\n\n436\n00:24:00.748 --> 00:24:02.419\nThere's no way to reset the paddle.\n\n437\n00:24:02.419 --> 00:24:04.710\nThe paddle is completely automated.\n\n438\n00:24:04.710 --> 00:24:05.780\nHow is the paddle automated?\n\n439\n00:24:05.780 --> 00:24:09.500\nIt's through this set of if\nconditionals and the ability to bounce.\n\n440\n00:24:09.500 --> 00:24:15.410\nSo, we might have gotten a little\ntoo specific for this paddle.\n\n441\n00:24:15.410 --> 00:24:18.010\nI don't think in general,\nall paddles should do that.\n\n442\n00:24:18.010 --> 00:24:19.320\n&gt;&gt; Right.\n&gt;&gt; Right?\n\n443\n00:24:19.320 --> 00:24:20.180\nBut we're gonna leave it there.\n\n444\n00:24:20.180 --> 00:24:21.430\nWe're can always come and take it out,\n\n445\n00:24:21.430 --> 00:24:24.900\nand restructure things, and\nthat's kind of how this flows.\n\n446\n00:24:24.900 --> 00:24:26.660\nSo I wanna be very explicit about that.\n\n447\n00:24:26.660 --> 00:24:29.674\n&gt;&gt; So Justin, what are some of the things\nthat we need to add to the paddle?\n\n448\n00:24:29.674 --> 00:24:33.580\n&gt;&gt; Well, so for a human player, I think\nwe should have the ability to actually\n\n449\n00:24:33.580 --> 00:24:36.062\ncontrol it,\ninstead of just moving it around.\n\n450\n00:24:36.062 --> 00:24:39.061\n&gt;&gt; [CROSSTALK]\n&gt;&gt; For a computer one, I'm thinking,\n\n451\n00:24:39.061 --> 00:24:43.434\nwe might make a few computer ones that\nhave a little bit different strategies, so\n\n452\n00:24:43.434 --> 00:24:44.480\nto speak, right?\n\n453\n00:24:44.480 --> 00:24:46.505\nIt would be kind of interesting.\n\n454\n00:24:46.505 --> 00:24:51.383\nWhat if one kinda grew and shrank, and\nthings like that and actually got fairly,\n\n455\n00:24:51.383 --> 00:24:53.186\njust to be a little creative.\n\n456\n00:24:53.186 --> 00:24:57.524\nI'm probably not gonna do crazy\nstrategies like ball detection,\n\n457\n00:24:57.524 --> 00:24:59.615\nyou never know, I might.\n\n458\n00:24:59.615 --> 00:25:01.935\nBut those are some things\nthat we need to add, and\n\n459\n00:25:01.935 --> 00:25:06.815\nto some extent I think the paddle that we\nbuilt right now will probably be removed,\n\n460\n00:25:06.815 --> 00:25:08.790\nlike some of the functionality\nwill be removed.\n\n461\n00:25:08.790 --> 00:25:12.090\nAnd we will use it more or\nless as a prototype or a mix-in, so\n\n462\n00:25:12.090 --> 00:25:15.310\nto speak, to construct the other paddles,\nlike the human paddle.\n\n463\n00:25:15.310 --> 00:25:15.810\nWhat does it do?\n\n464\n00:25:16.895 --> 00:25:19.790\nWell it needs to be mostly the paddle.\n\n465\n00:25:19.790 --> 00:25:22.850\nHowever, maybe its update function\nneeds to be a little bit different.\n\n466\n00:25:24.010 --> 00:25:26.060\nBut now that we have this,\n\n467\n00:25:26.060 --> 00:25:31.560\nwe have kind of this structure that\nwe can use to keep going on, so.\n\n468\n00:25:31.560 --> 00:25:32.110\n&gt;&gt; Great.\n\n469\n00:25:32.110 --> 00:25:36.481\n&gt;&gt; I think all, I think we're at a good\nstopping point but we definitely need to\n\n470\n00:25:36.481 --> 00:25:41.211\ncome and do that human paddle as well as\ncomputer paddle, and those are coming up.\n\n471\n00:25:41.211 --> 00:25:42.190\n&gt;&gt; Creating the paddle.\n\n472\n00:25:42.190 --> 00:25:45.210\nI enjoyed this, I don't know about you,\nbut I'm enjoying this whole thing.\n\n473\n00:25:45.210 --> 00:25:47.570\nAll right Justin, do you have any\nlast words before we move on?\n\n474\n00:25:47.570 --> 00:25:51.320\n&gt;&gt; Well, I don't know, It's kinda hard\nto see how this is gonna come together.\n\n475\n00:25:51.320 --> 00:25:56.260\nBut trust me, we're trying to build this\nas I would think about it, to be very\n\n476\n00:25:56.260 --> 00:25:59.380\nexplicit about the thought process,\ncuz sometimes that's the biggest issue.\n\n477\n00:25:59.380 --> 00:26:00.630\nHow do I get started?\n\n478\n00:26:00.630 --> 00:26:01.820\nHow do I do the next step?\n\n479\n00:26:01.820 --> 00:26:06.433\nAnd you'll notice in taking small little\nchunks, how do I build this part,\n\n480\n00:26:06.433 --> 00:26:09.471\nhow do I build this part,\nhow do I build this part?\n\n481\n00:26:09.471 --> 00:26:12.767\nAnd then once you have\nall these small parts,\n\n482\n00:26:12.767 --> 00:26:16.185\nyou're like well look at that,\nI have a game.\n\n483\n00:26:16.185 --> 00:26:18.710\n&gt;&gt; [LAUGH]\n&gt;&gt; And then last final push\n\n484\n00:26:18.710 --> 00:26:20.868\nis what makes it difficult, right?\n\n485\n00:26:20.868 --> 00:26:27.520\nIf you can remove all the hurdles by just\ngoing one step at a time, we're all good.\n\n486\n00:26:27.520 --> 00:26:31.600\nSo definitely stay tuned as we continue\nprogressing through building our\n\n487\n00:26:31.600 --> 00:26:32.820\nhomage to Pong.\n\n488\n00:26:32.820 --> 00:26:36.130\n&gt;&gt; So join us as we continue to\nbuild our homage to Pong and\n\n489\n00:26:36.130 --> 00:26:40.750\nhave a great time learning HTML5\ncanvas projects, watch every episode.\n\n490\n00:26:40.750 --> 00:26:42.050\nAnd go to our course library,\n\n491\n00:26:42.050 --> 00:26:45.190\nthere's hundreds of videos there all\ndesigned to help you go further.\n\n492\n00:26:45.190 --> 00:26:46.590\nGreat job Justin.\n\n493\n00:26:46.590 --> 00:26:48.350\nAnd tell everybody you\nknow about DevProTV.\n\n494\n00:26:48.350 --> 00:26:49.960\nThey'll be glad you did.\n\n495\n00:26:49.960 --> 00:26:51.580\nThanks for watching I'm Zach Memos.\n\n496\n00:26:51.580 --> 00:26:52.367\n&gt;&gt; And I'm Justin Dennison.\n\n497\n00:26:52.367 --> 00:26:54.783\n&gt;&gt; And we'll see you again very soon.\n\n498\n00:26:54.783 --> 00:26:59.869\n[MUSIC]\n\n",
          "vimeoId": "234902797"
        },
        {
          "description": "Justin and Zach continue to build of their homage to PONG, and demonstrate the use of the standard paddle to create  a player controlled paddle.",
          "length": "1667",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-4-1-creating_the_human_player_paddle-092117-PGM.00_28_42_29.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-4-1-creating_the_human_player_paddle-092117-PGM.00_28_42_29.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-4-1-creating_the_human_player_paddle-092117-PGM.00_28_42_29.Still001-sm.jpg",
          "title": "Creating the Human Player Paddle",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.779 --> 00:00:14.450\nHello, and thank you for\nwatching DevProTV.\n\n3\n00:00:14.450 --> 00:00:16.610\nHelping you learn wherever you go.\n\n4\n00:00:16.610 --> 00:00:21.440\nI'm your host, Zach Memos, as we\ncontinue on with HTML5 canvas projects.\n\n5\n00:00:21.440 --> 00:00:25.090\nWe're gonna be creating the human\npaddle now in our homage to Pong.\n\n6\n00:00:25.090 --> 00:00:26.270\nJustin Dennison,\n\n7\n00:00:26.270 --> 00:00:30.318\nplease show us how to do this thing\n&gt;&gt; I do wanna clarify that we're not going\n\n8\n00:00:30.318 --> 00:00:32.622\nto make a paddle that is\nhuman shaped [CROSSTALK].\n\n9\n00:00:32.622 --> 00:00:37.647\nMake the human player paddle\nthat's controllable by the paddle.\n\n10\n00:00:37.647 --> 00:00:40.824\nBut yeah, that,\nlong titles are hard, right.\n\n11\n00:00:40.824 --> 00:00:42.970\n&gt;&gt; [LAUGH]\n&gt;&gt; So how are you doing today, Zack?\n\n12\n00:00:42.970 --> 00:00:44.390\n&gt;&gt; I'm doing great and I'm very excited.\n\n13\n00:00:44.390 --> 00:00:47.490\nThis has been a wonderful show and\nI wanna see more.\n\n14\n00:00:47.490 --> 00:00:52.450\n&gt;&gt; All right, well, let's kind of describe\nwhere we left off and what we need to do.\n\n15\n00:00:52.450 --> 00:00:56.237\nI know there is a bunch we need to do but\nin the immediate term, right now.\n\n16\n00:00:56.237 --> 00:01:00.080\nAnd as we described in a previous episode.\n\n17\n00:01:00.080 --> 00:01:02.370\nWe essentially made a paddle\nthose computer control and\n\n18\n00:01:02.370 --> 00:01:04.290\njust kinda bounces around.\n\n19\n00:01:04.290 --> 00:01:06.440\nIt may win sometimes, it may not.\n\n20\n00:01:06.440 --> 00:01:10.070\nIf it was really fast then\nit'd be really hard to beat.\n\n21\n00:01:10.070 --> 00:01:11.770\nBut that's not what we want.\n\n22\n00:01:11.770 --> 00:01:13.940\nThis is a game that kinda plays itself.\n\n23\n00:01:13.940 --> 00:01:17.170\nUltimately, it doesn't\nplay anything right now.\n\n24\n00:01:17.170 --> 00:01:19.090\nBut there's no way for\na human to control it.\n\n25\n00:01:19.090 --> 00:01:22.215\n&gt;&gt; And so we have to clone the paddle\nto make the human player paddle.\n\n26\n00:01:22.215 --> 00:01:25.610\nAnd how are we gonna manage the movements,\nhow are we gonna do that?\n\n27\n00:01:25.610 --> 00:01:28.790\n&gt;&gt; And so those are separate,\nlet's think about this.\n\n28\n00:01:28.790 --> 00:01:35.029\nIf we have a general paddle, has all\nthe attributes and kind of that thing.\n\n29\n00:01:35.029 --> 00:01:41.170\nIf we can clone that and then change\nmaybe the update function, right?\n\n30\n00:01:41.170 --> 00:01:44.010\nCuz that's actually what's\ncausing the movement.\n\n31\n00:01:44.010 --> 00:01:48.050\nThen we can use is DOM events,\nlike keyboard controls or\n\n32\n00:01:48.050 --> 00:01:53.450\nmouse controls to control the actual\npaddle using the update function.\n\n33\n00:01:53.450 --> 00:01:55.140\nEverything else could be exactly the same.\n\n34\n00:01:56.300 --> 00:02:00.900\nAnd by using this kind of composition\nof objects or mutation of objects.\n\n35\n00:02:00.900 --> 00:02:02.023\nI guess, ultimately,\n\n36\n00:02:02.023 --> 00:02:05.401\nit's polymorphic in a sense because\na human player paddle is a paddle.\n\n37\n00:02:05.401 --> 00:02:08.730\nBut we've changed some attribute about it,\noverwritten it.\n\n38\n00:02:08.730 --> 00:02:11.690\nAnd we're going to do exactly that.\n\n39\n00:02:11.690 --> 00:02:13.840\nSo this may actually be kinda short.\n\n40\n00:02:13.840 --> 00:02:16.910\nBut there is some wiring up\nthat we have to do inside of\n\n41\n00:02:16.910 --> 00:02:18.460\nthe game in order to make this work.\n\n42\n00:02:18.460 --> 00:02:20.290\nSo let's go ahead and\ncome into the screen here.\n\n43\n00:02:21.850 --> 00:02:23.930\nAnd look this is where left,\nooh, that's nice.\n\n44\n00:02:23.930 --> 00:02:27.562\nNow, if you're just joining\nus you're like, what is this?\n\n45\n00:02:27.562 --> 00:02:29.930\n&gt;&gt; [LAUGH].\n&gt;&gt; What's going on over here?\n\n46\n00:02:29.930 --> 00:02:34.970\nWell, the ball, there's not,\nnothing's getting played yet, all right.\n\n47\n00:02:34.970 --> 00:02:36.770\nSo just keep that in mind.\n\n48\n00:02:36.770 --> 00:02:38.670\n&gt;&gt; Basic elements were created.\n\n49\n00:02:38.670 --> 00:02:42.080\n&gt;&gt; Right, we're building this basic\nelements in order to build a full game.\n\n50\n00:02:42.080 --> 00:02:45.153\nAs it stands though the ball\njust goes off screen and\n\n51\n00:02:45.153 --> 00:02:47.228\nresets to its original position.\n\n52\n00:02:47.228 --> 00:02:49.237\nSo no worries, we'll get to that.\n\n53\n00:02:49.237 --> 00:02:51.432\nSo we have our paddle here and\n\n54\n00:02:51.432 --> 00:02:56.740\nthat paddle is being created from\nthis paddle function, all right?\n\n55\n00:02:56.740 --> 00:03:00.807\nSo I'm creating this paddle object,\nthat is, salmon and\n\n56\n00:03:00.807 --> 00:03:03.135\nhas this update and this bounce.\n\n57\n00:03:03.135 --> 00:03:05.837\nAnd as I said in the previous episode,\n\n58\n00:03:05.837 --> 00:03:10.910\nit may not be that the bouncing is\nnecessary for the base paddle object.\n\n59\n00:03:12.000 --> 00:03:13.668\n&gt;&gt; Right, do all paddles need to bounce?\n\n60\n00:03:13.668 --> 00:03:16.929\nMaybe not, right?\n\n61\n00:03:16.929 --> 00:03:21.970\nMaybe some paddles need to be,\nhave limits or things of that nature.\n\n62\n00:03:21.970 --> 00:03:23.640\nDo all paddles need to update?\n\n63\n00:03:23.640 --> 00:03:26.040\nWell, in order for them to move, yeah.\n\n64\n00:03:26.040 --> 00:03:27.590\nDo all panels need to render?\n\n65\n00:03:27.590 --> 00:03:30.320\nYeah, all the panels are gonna\nlook exactly the same.\n\n66\n00:03:30.320 --> 00:03:32.530\nBased on the attributes that are set.\n\n67\n00:03:32.530 --> 00:03:36.580\nAnd do all paddles in x ally\ndy with a height and a color?\n\n68\n00:03:36.580 --> 00:03:38.280\nSure, let's agree on that.\n\n69\n00:03:38.280 --> 00:03:40.160\nBut for now we're not gonna touch this.\n\n70\n00:03:40.160 --> 00:03:43.900\nWhat we're gonna do is we're gonna\nuse this and kind of change it.\n\n71\n00:03:43.900 --> 00:03:47.190\nAnd just let what happens happens.\n\n72\n00:03:47.190 --> 00:03:51.390\nAnd then try to observe patterns before\nwe can do some rearranging later.\n\n73\n00:03:51.390 --> 00:03:53.520\nSo in order to make the human\nplayer paddle, well,\n\n74\n00:03:53.520 --> 00:03:57.270\nI'm gonna do that inside of App.JS.\n\n75\n00:03:57.270 --> 00:04:00.470\nJust as we always do and\nthen extract that out.\n\n76\n00:04:00.470 --> 00:04:03.930\nCuz I think it's a little easier for\nme, well, to show you.\n\n77\n00:04:03.930 --> 00:04:07.490\nBut also it's a little easier for\nme to reason about.\n\n78\n00:04:07.490 --> 00:04:10.918\nSo let's do this.\n\n79\n00:04:10.918 --> 00:04:18.310\nHuman Player, Paddle, and then,\nthat looks kind of weird.\n\n80\n00:04:20.120 --> 00:04:24.310\nAnd here we go,\nthis the End of the Human Player.\n\n81\n00:04:27.450 --> 00:04:34.600\nSo I'm thinking the HumanPlayer,\nWhat is that gonna do?\n\n82\n00:04:34.600 --> 00:04:38.760\nThat is going to be,\nwhat does it need to take?\n\n83\n00:04:38.760 --> 00:04:42.430\nI don't think it needs to take any,\n\n84\n00:04:42.430 --> 00:04:45.900\nit doesn't need to take any\narguments as it stands.\n\n85\n00:04:45.900 --> 00:04:48.835\nWell, and mainly because the paddle\ndoesn't need to take any arguments as it\n\n86\n00:04:48.835 --> 00:04:50.380\nstands, we always have these default.\n\n87\n00:04:50.380 --> 00:04:51.210\nNow, ultimately,\n\n88\n00:04:51.210 --> 00:04:56.320\nI think we're gonna have to change that\nbecause this is not quite what we need.\n\n89\n00:04:56.320 --> 00:05:00.240\nBut for now,\nlet's just get the movements for\n\n90\n00:05:00.240 --> 00:05:04.410\nthe left-hand screen where the human\nplayer would actually be controlling.\n\n91\n00:05:04.410 --> 00:05:05.710\nSo it's not gonna take anything.\n\n92\n00:05:07.680 --> 00:05:15.462\nWhat I think I wanna do is object.assign,\nright?\n\n93\n00:05:15.462 --> 00:05:21.106\nSo return a new object, and\nthen I'm gonna say paddle, And\n\n94\n00:05:21.106 --> 00:05:25.290\nas it stands what this will give me,\nand I will just show you.\n\n95\n00:05:25.290 --> 00:05:33.690\nSo this is our testHumanPaddle\nequals HumanPaddle or HumanPlayer.\n\n96\n00:05:33.690 --> 00:05:37.600\nI guess I should keep these named\nappropriately, HumanPlayerPaddle.\n\n97\n00:05:37.600 --> 00:05:38.100\nLet's do that.\n\n98\n00:05:40.210 --> 00:05:46.471\nAnd if I come back over and I refresh,\nif I type, Human or testHuman.\n\n99\n00:05:46.471 --> 00:05:47.780\nIs that how I spelled it?\n\n100\n00:05:47.780 --> 00:05:49.340\nYeah, testHumanPaddle.\n\n101\n00:05:49.340 --> 00:05:51.150\nMaybe I didn't refresh.\n\n102\n00:05:51.150 --> 00:05:53.450\ntestHumanPaddle.\n\n103\n00:05:53.450 --> 00:05:57.240\nHuman playing a paddle?\n\n104\n00:05:57.240 --> 00:06:00.760\nYep, so here we go.\n\n105\n00:06:01.930 --> 00:06:06.290\nWhat I get is whatever the paddle returns\n\n106\n00:06:06.290 --> 00:06:09.620\nbecause I'm not assigning any\nnew updates or attributes.\n\n107\n00:06:09.620 --> 00:06:15.220\nAnd just to show you, my render\nfunction is pretty much the same.\n\n108\n00:06:15.220 --> 00:06:20.780\nAnd if I go here,\nit shows me what's calling what.\n\n109\n00:06:20.780 --> 00:06:22.092\nAnd how can I?\n\n110\n00:06:22.092 --> 00:06:25.718\nUsually, it will show me.\n\n111\n00:06:25.718 --> 00:06:27.920\nI would have to print that out.\n\n112\n00:06:27.920 --> 00:06:30.916\nAnd then the update takes no arguments.\n\n113\n00:06:33.610 --> 00:06:35.410\nAnd it has our scope.\n\n114\n00:06:35.410 --> 00:06:41.440\nSo this is exactly the same as just\nthe regular paddle object, okay.\n\n115\n00:06:41.440 --> 00:06:44.680\nWell, that's a good start because\nI think all paddles should be\n\n116\n00:06:44.680 --> 00:06:47.110\ncomposed of that paddle object.\n\n117\n00:06:47.110 --> 00:06:49.330\nThere are a few things that\nI wanna change though.\n\n118\n00:06:51.000 --> 00:06:55.490\nI think probably the most\nimmediate change is we're\n\n119\n00:06:55.490 --> 00:07:00.430\ngonna pass in an object that\nhas a new update function.\n\n120\n00:07:00.430 --> 00:07:03.620\nAnd what this will do is override\nthe update function that is\n\n121\n00:07:03.620 --> 00:07:06.005\nalready part of this object here.\n\n122\n00:07:06.005 --> 00:07:09.670\nWhen I come over here and I look,\nnotice this update takes 0 arguments.\n\n123\n00:07:09.670 --> 00:07:11.470\nAnd it's just the regular update function.\n\n124\n00:07:11.470 --> 00:07:12.580\nIt would still work.\n\n125\n00:07:14.160 --> 00:07:18.138\nAnd just to show you it's exactly\nthe same, I've shown you the code here.\n\n126\n00:07:18.138 --> 00:07:21.560\nIf I change this to a human player paddle,\n\n127\n00:07:21.560 --> 00:07:23.750\nthis should still work if\nI have the syntax correct.\n\n128\n00:07:23.750 --> 00:07:28.550\nAnd I refresh and\nwhy is it not working now?\n\n129\n00:07:28.550 --> 00:07:31.920\nAnd that's because I have\nthis update function.\n\n130\n00:07:31.920 --> 00:07:35.790\nLet's just remove that and\nwe're back to where we were.\n\n131\n00:07:35.790 --> 00:07:40.490\nSo notice by just having that update that\ndoes nothing, it changes the behavior.\n\n132\n00:07:40.490 --> 00:07:41.038\n&gt;&gt; It does.\n\n133\n00:07:41.038 --> 00:07:44.680\n&gt;&gt; So I wanna change this behavior because\nthe update is now gonna be controlled by\n\n134\n00:07:44.680 --> 00:07:45.968\na person, by a player.\n\n135\n00:07:45.968 --> 00:07:50.488\nWell, if I do that then now I\nget to decide a little more\n\n136\n00:07:50.488 --> 00:07:53.011\nspecific about this update.\n\n137\n00:07:53.011 --> 00:07:56.914\nNow, I would like for the update not\nto take arguments, to be consistent.\n\n138\n00:07:56.914 --> 00:07:59.571\nHowever, I know.\n\n139\n00:07:59.571 --> 00:08:03.954\nThat it's probably likely that I'm gonna\nhave to use dom events that are going to\n\n140\n00:08:03.954 --> 00:08:05.448\ngive me some information.\n\n141\n00:08:05.448 --> 00:08:08.270\nAnd I'm gonna have to\npass in that information.\n\n142\n00:08:08.270 --> 00:08:14.150\nSo I'm just gonna pass in an e so we can\nsee those, and what do we want to do?\n\n143\n00:08:14.150 --> 00:08:19.860\nWell I want an up and\na down button to be the two controls.\n\n144\n00:08:19.860 --> 00:08:24.450\nI could use ws or any other combination\nbut I just want the up and down arrows.\n\n145\n00:08:25.890 --> 00:08:28.625\nSo for now, I'm just gonna\nleave this HumanPlayerPaddle.\n\n146\n00:08:29.980 --> 00:08:33.551\nAnd I'm gonna put this\nback to a regular Paddle.\n\n147\n00:08:33.551 --> 00:08:36.603\nThis HumanPlayerPaddle here,\n\n148\n00:08:36.603 --> 00:08:42.380\nI'm gonna leave that as just\nconsole.log(e) all right?\n\n149\n00:08:42.380 --> 00:08:46.330\nTo some extent we are done\nwith the human paddle.\n\n150\n00:08:46.330 --> 00:08:46.960\n&gt;&gt; Wow.\n\n151\n00:08:46.960 --> 00:08:53.005\n&gt;&gt; Yeah and that's because we're building\nup from this more primitive object.\n\n152\n00:08:53.005 --> 00:08:57.490\nAnd to some extent we're just overriding\nthe parts that we don't need right?\n\n153\n00:08:57.490 --> 00:09:01.520\nIt's kind of like you got your ping\npong paddle in real life customized.\n\n154\n00:09:01.520 --> 00:09:05.670\nSo we get all of this but\nthen we're changing this portion.\n\n155\n00:09:05.670 --> 00:09:10.370\nAnd you can see by that logic\nit's probably best if we don't\n\n156\n00:09:10.370 --> 00:09:11.880\nhave the bounceY.\n\n157\n00:09:11.880 --> 00:09:17.210\nBut we'll deal with that later,\nwe'll come back and refactor that.\n\n158\n00:09:17.210 --> 00:09:22.200\nSo now we have this but the paddle is\nnot going to be aware of dom objects.\n\n159\n00:09:22.200 --> 00:09:25.240\nIf you look in our course library,\nI have something that\n\n160\n00:09:25.240 --> 00:09:30.560\nexplains responding to events with\nthe canvas object, the canvas element.\n\n161\n00:09:30.560 --> 00:09:36.308\nIf I want keyboard events, it's probably\nbest to add those to the window.\n\n162\n00:09:36.308 --> 00:09:39.498\nI could've added it in the canvas in\nthis case because the canvas more or\n\n163\n00:09:39.498 --> 00:09:41.530\nless fills the window so\nwhen you focus to do.\n\n164\n00:09:41.530 --> 00:09:44.210\nBut I'm still gonna add it to\nthe window just to make sure.\n\n165\n00:09:46.040 --> 00:09:53.530\nSo our HumanPlayerPaddle is done, so\nI'm just gonna rename this player as such.\n\n166\n00:09:53.530 --> 00:09:55.370\nAnd so if I come here, I can say player.\n\n167\n00:09:56.470 --> 00:10:03.433\nAnd if I say player.update, and\nI pass in an object of key code,\n\n168\n00:10:06.863 --> 00:10:09.558\nLike so, then what does it print out?\n\n169\n00:10:09.558 --> 00:10:13.892\nIt actually prints out key code, so\nthat e is going to be an event object.\n\n170\n00:10:13.892 --> 00:10:17.930\nAnd now I can wire this up\nto be handled by the window.\n\n171\n00:10:17.930 --> 00:10:19.220\nWindows gonna say okay,\n\n172\n00:10:19.220 --> 00:10:23.880\nevery time a key up event happens I'm\ngonna run this player object's function.\n\n173\n00:10:25.940 --> 00:10:27.098\nSo how do we do that now?\n\n174\n00:10:27.098 --> 00:10:31.684\nLet's say window.addEventListener, for\n\n175\n00:10:31.684 --> 00:10:35.428\nsome reason I forgot all about that.\n\n176\n00:10:35.428 --> 00:10:39.586\nAnd maybe keypress or keydown,\n\n177\n00:10:39.586 --> 00:10:43.620\nlets get start with keypress.\n\n178\n00:10:43.620 --> 00:10:48.380\nAnd we're gonna say player.update, and\n\n179\n00:10:48.380 --> 00:10:52.660\nnotice I'm not calling\nthe function with parenthesis.\n\n180\n00:10:53.790 --> 00:10:56.360\nWhat I'm wiring this up to is\nevery time there's key press,\n\n181\n00:10:56.360 --> 00:10:59.890\nI'm gonna run this function and\npass in the event right here.\n\n182\n00:10:59.890 --> 00:11:04.650\nAnd we're gonna get some weirdness,\nI am not gonna lie to you.\n\n183\n00:11:04.650 --> 00:11:08.688\nWe're gonna get some weirdness but\nthat's okay.\n\n184\n00:11:08.688 --> 00:11:14.780\nAll right, so if I refresh and now I hit\nup, not over there but over here focused.\n\n185\n00:11:17.020 --> 00:11:23.800\nNot quite there actually keydown, sorry.\n\n186\n00:11:23.800 --> 00:11:27.360\nThose key events are always kind of crazy,\nthere we go.\n\n187\n00:11:27.360 --> 00:11:32.320\nSo now every time I press a key, one that\nactually goes down on actually clicking\n\n188\n00:11:32.320 --> 00:11:34.387\nat the end, I get this keyboard event.\n\n189\n00:11:34.387 --> 00:11:39.810\nNow on the keyboard event I get key codes,\nkey codes and numbers.\n\n190\n00:11:39.810 --> 00:11:42.750\nI also get a key called ArrowUp.\n\n191\n00:11:42.750 --> 00:11:46.290\nNow I like using key codes\nbecause it allows me to not\n\n192\n00:11:46.290 --> 00:11:50.310\nnecessarily be tied to that particular\nkey and you'll see what I mean.\n\n193\n00:11:50.310 --> 00:11:54.270\nSo I'm gonna use key codes and\nthen build kind of this enum structure\n\n194\n00:11:54.270 --> 00:11:59.740\nusing an object that sets up constants for\nme okay?\n\n195\n00:11:59.740 --> 00:12:02.178\nSo now that we have key up and\n\n196\n00:12:02.178 --> 00:12:07.269\nkey down actually being passed in okay,\nlet's do this.\n\n197\n00:12:09.228 --> 00:12:14.576\nLet's build this window enum object for\nour keys, this is a constant.\n\n198\n00:12:18.787 --> 00:12:24.232\nKeys equals an object UP DOWN,\nso what is UP?\n\n199\n00:12:24.232 --> 00:12:28.341\nWell if I go and refresh and\nI hit up over here.\n\n200\n00:12:28.341 --> 00:12:33.740\nUp is the key code of 38,\nnotice ArrowUp is 38.\n\n201\n00:12:33.740 --> 00:12:38.540\nSo there's 38 and\nI know from previous experience\n\n202\n00:12:40.200 --> 00:12:42.500\nDOWN is 40.\n\n203\n00:12:42.500 --> 00:12:46.980\nOkay so these are mappings for\nyour respective keyboard.\n\n204\n00:12:46.980 --> 00:12:50.110\nSo now that I have these keys this update\nfunction which is the only thing we\n\n205\n00:12:50.110 --> 00:12:56.480\nchanged from the other paddle,\nis going to give us a key code.\n\n206\n00:12:56.480 --> 00:13:01.006\nLet's pull that off, keyCode and\n\n207\n00:13:01.006 --> 00:13:04.154\nthat is from the event object and\n\n208\n00:13:04.154 --> 00:13:09.060\nI think it's probably\neasier just to do a switch.\n\n209\n00:13:10.510 --> 00:13:13.223\nA switch statement cuz we may\nhave a bunch of keys, right?\n\n210\n00:13:13.223 --> 00:13:15.340\nAnd maybe we wanna come back and\nbuild air hockey.\n\n211\n00:13:16.420 --> 00:13:18.350\nThis is gonna be a little more versatile.\n\n212\n00:13:18.350 --> 00:13:22.550\nNow I'm not planning on that, so\nI'm not planning for additional features.\n\n213\n00:13:22.550 --> 00:13:26.777\nBut I like the switch statement when I\nhave the possibility of a lot of things,\n\n214\n00:13:26.777 --> 00:13:28.804\neven if I'm just gonna use a couple.\n\n215\n00:13:28.804 --> 00:13:33.169\nAnd now remember, this is numbers and\nstrings for switch.\n\n216\n00:13:33.169 --> 00:13:39.079\nSo there's our not e, but keyCode, And\n\n217\n00:13:39.079 --> 00:13:42.020\nwe need a case, and what case do we need?\n\n218\n00:13:42.020 --> 00:13:44.529\nWell you need it for KEYS.DOWN.\n\n219\n00:13:46.530 --> 00:13:52.809\nAnd let's break, need a case for KEYS.UP.\n\n220\n00:13:52.809 --> 00:13:57.439\nWe need a break and you should\nprobably always have a default case.\n\n221\n00:13:57.439 --> 00:14:02.882\nBut in this particular default case\nI'm just going to break immediately.\n\n222\n00:14:02.882 --> 00:14:06.498\nI don't need to do anything because\nI only want it to respond to\n\n223\n00:14:06.498 --> 00:14:08.318\nthe keys that I'm mapping to.\n\n224\n00:14:08.318 --> 00:14:13.872\nOkay this defines the behavior for\nthe update function, so just to show you,\n\n225\n00:14:16.087 --> 00:14:21.217\nArrow down, and here arrow up, excel and\n\n226\n00:14:21.217 --> 00:14:28.490\nI should probably stay\nconsistent with my semi colons.\n\n227\n00:14:28.490 --> 00:14:31.840\nSo if I come back, and I come over\nhere arrow up, arrow down, arrow up,\n\n228\n00:14:31.840 --> 00:14:36.130\narrow down and there we go just like that.\n\n229\n00:14:37.920 --> 00:14:40.520\nSo now the window event is\npiping in the objects and\n\n230\n00:14:40.520 --> 00:14:43.920\nwe have the ability to control,\nbut doesn't actually do anything.\n\n231\n00:14:45.790 --> 00:14:48.300\nRemember I did say we're gonna\nexperience some weirdness.\n\n232\n00:14:49.470 --> 00:14:53.220\nWhen you attach an event listener right?\n\n233\n00:14:53.220 --> 00:14:57.258\nAnd how, if I wanna key up or\n\n234\n00:14:57.258 --> 00:15:03.755\nkey down I would say this.y += this.dy,\n\n235\n00:15:03.755 --> 00:15:08.334\nthis.y -= this.dy right?\n\n236\n00:15:08.334 --> 00:15:11.815\nWhatever dy is, whatever the change is.\n\n237\n00:15:11.815 --> 00:15:13.386\nThat's how much we're gonna be applying so\n\n238\n00:15:13.386 --> 00:15:15.557\nit's no longer every time it's\nanimated bouncing around.\n\n239\n00:15:15.557 --> 00:15:19.605\nIt's only when I'm touching the key, okay?\n\n240\n00:15:19.605 --> 00:15:23.553\nSo that should move us up and\ndown if we refresh,\n\n241\n00:15:23.553 --> 00:15:28.811\nwell we actually have to change\nthis now from paddle to player.\n\n242\n00:15:28.811 --> 00:15:31.339\nSo just to test that I'm\ngoing to copy paste,\n\n243\n00:15:31.339 --> 00:15:36.004\nand we'll eventually change this around\nto be a little more consistent in naming.\n\n244\n00:15:36.004 --> 00:15:41.850\nBut refresh, cannot destruct your\nproperty key code of undefined or null.\n\n245\n00:15:43.790 --> 00:15:46.200\nWhere is that coming from,\nwell let's go look.\n\n246\n00:15:47.880 --> 00:15:52.513\nSo there's our key code.\n\n247\n00:15:52.513 --> 00:15:53.965\nI could have swore that worked.\n\n248\n00:15:53.965 --> 00:15:58.763\nWell originally we changed this to\nHumanPlayerPaddle And paddle is that, but\n\n249\n00:15:58.763 --> 00:16:01.608\nthe update function is\nexpecting arguments.\n\n250\n00:16:01.608 --> 00:16:05.131\nAnd this is where it's get a little tricky\nwhenever you change the argument types or\n\n251\n00:16:05.131 --> 00:16:07.210\nthe function definition,\nmethod definition.\n\n252\n00:16:09.842 --> 00:16:12.243\nWe just probably need to comment that out,\n\n253\n00:16:12.243 --> 00:16:15.850\ncuz no longer does the paddle need\nto move up and down every time.\n\n254\n00:16:15.850 --> 00:16:18.820\nIt only needs to update\nwhen there is a key event.\n\n255\n00:16:21.338 --> 00:16:27.221\nAnd here, now, You can see that nothing's,\n\n256\n00:16:27.221 --> 00:16:31.270\nI'm actually hitting key down and\nkey up, nothing's happening.\n\n257\n00:16:31.270 --> 00:16:34.170\nNow the reason you see that little bit\nof movement is because I'm scrolling\n\n258\n00:16:34.170 --> 00:16:35.730\nin the actual window.\n\n259\n00:16:35.730 --> 00:16:36.750\nThis isn't moving, why?\n\n260\n00:16:38.490 --> 00:16:47.640\nWell, I always warn you about,\nThe this content, the this keyword.\n\n261\n00:16:47.640 --> 00:16:51.520\nBecause it can change context, and\nlet's clear that out, if possible.\n\n262\n00:16:51.520 --> 00:16:52.660\n&gt;&gt; The word this?\n\n263\n00:16:52.660 --> 00:16:57.270\nThe word this means something special\ndepending on where the function is called.\n\n264\n00:16:57.270 --> 00:16:58.600\n&gt;&gt; Correct.\n\n265\n00:16:58.600 --> 00:17:02.631\n&gt;&gt; So if I hit up and down,\nnotice it's the window object.\n\n266\n00:17:02.631 --> 00:17:05.840\nAnd that's because that's the event\nhandler, it's an event on the window.\n\n267\n00:17:05.840 --> 00:17:11.580\nSo it's not actually modifying this\npaddle, it's modifying this window.\n\n268\n00:17:12.630 --> 00:17:15.100\nAnd that's not the behavior that we want.\n\n269\n00:17:15.100 --> 00:17:21.189\nWhat we want instead is something like,\nI use arrow functions to get around this.\n\n270\n00:17:23.669 --> 00:17:25.458\nTo get around the weirdness with this.\n\n271\n00:17:25.458 --> 00:17:28.640\n&gt;&gt; Yeah, when you were talking about\nweirdness, I couldn't help but\n\n272\n00:17:28.640 --> 00:17:31.980\nthinking maybe a clown delivering\na sea bath while I'm sleeping.\n\n273\n00:17:31.980 --> 00:17:32.790\nNow that would be weird.\n\n274\n00:17:32.790 --> 00:17:34.260\n&gt;&gt; Yeah, that would be weird.\n\n275\n00:17:34.260 --> 00:17:38.977\nAnd also, if that ever happens, don't\ntell me about it cuz it's frightening.\n\n276\n00:17:38.977 --> 00:17:39.749\n&gt;&gt; [LAUGH] All right.\n\n277\n00:17:39.749 --> 00:17:43.899\n&gt;&gt; [LAUGH] But what I do is I use fat\narrow functions to now bind this.\n\n278\n00:17:43.899 --> 00:17:48.859\nThe fat arrow function has the this\ncontext bound to the window object.\n\n279\n00:17:48.859 --> 00:17:49.649\n&gt;&gt; The fat arrow function, got it.\n\n280\n00:17:49.649 --> 00:17:51.398\n&gt;&gt; It uses lexical scoping.\n\n281\n00:17:51.398 --> 00:17:54.960\nBut then player.update,\nI'm passing in the event object, but\n\n282\n00:17:54.960 --> 00:17:57.990\nthen update is still gonna modify player.\n\n283\n00:17:57.990 --> 00:18:01.500\nAnd just to show you,\nremember the original way when we\n\n284\n00:18:01.500 --> 00:18:03.810\nkinda bound it up is it\nwas on the window object.\n\n285\n00:18:03.810 --> 00:18:10.888\nBut if I refresh and I come over here,\nand now it is actually, aha, there we go.\n\n286\n00:18:10.888 --> 00:18:17.920\nIt is the object that we expect, okay?\n\n287\n00:18:17.920 --> 00:18:22.441\nSo notice we have this individual\npaddle being printed out.\n\n288\n00:18:22.441 --> 00:18:24.790\nAnd just to show you, there it is.\n\n289\n00:18:24.790 --> 00:18:27.478\nBut there is one further issue.\n\n290\n00:18:27.478 --> 00:18:34.080\nthis.y and this.dy, it's changing, right?\n\n291\n00:18:34.080 --> 00:18:40.130\nWe think it's changing, but\nis it actually modifying anything?\n\n292\n00:18:40.130 --> 00:18:43.180\nSo I'm just gonna put\na console.log here and\n\n293\n00:18:43.180 --> 00:18:46.320\nsay down,\njust to make sure that's running.\n\n294\n00:18:46.320 --> 00:18:53.761\nBecause it doesn't look like anything's\nmoving about on the screen, so.\n\n295\n00:18:53.761 --> 00:18:57.020\nAnd it is, but this isn't moving.\n\n296\n00:18:57.020 --> 00:18:57.540\nWhy is that?\n\n297\n00:18:59.260 --> 00:19:04.240\nWell if we come down here,\npaddle.render(ctx), paddle.update().\n\n298\n00:19:04.240 --> 00:19:07.900\nAnd here's our paddle, makes sense.\n\n299\n00:19:07.900 --> 00:19:11.790\nWe're updating the player, and\nthat's because the paddle on the screen.\n\n300\n00:19:11.790 --> 00:19:14.579\nSo I say we fix this real quick.\n\n301\n00:19:14.579 --> 00:19:17.292\n&gt;&gt; Yeah.\n&gt;&gt; Instead of just having a general\n\n302\n00:19:17.292 --> 00:19:21.040\npaddle, I think this should be the player,\nokay?\n\n303\n00:19:21.040 --> 00:19:26.810\nSo let's change this to a let because we\nmay need to dereference and re-reference.\n\n304\n00:19:26.810 --> 00:19:28.900\nAnd then change this to player.\n\n305\n00:19:28.900 --> 00:19:31.780\nEverywhere you see paddle,\nI'm just gonna say player,\n\n306\n00:19:31.780 --> 00:19:33.480\nand that's because the player is a paddle.\n\n307\n00:19:35.090 --> 00:19:37.870\nAnd now, now we should get some movement.\n\n308\n00:19:39.320 --> 00:19:43.440\nAnd notice I'm moving up,\nand I'm moving down.\n\n309\n00:19:43.440 --> 00:19:45.050\nAnd it seems kinda slow.\n\n310\n00:19:46.500 --> 00:19:48.760\nReal slow, as a matter of fact.\n\n311\n00:19:48.760 --> 00:19:50.750\nWhy is it so slow?\n\n312\n00:19:50.750 --> 00:19:54.899\nIf we come back to paddle, our dy is 10.\n\n313\n00:19:54.899 --> 00:19:57.449\nWell that's all right if it's\ngetting called 60 times a second.\n\n314\n00:19:57.449 --> 00:20:04.418\nBut it's not the best if we having\nto hold up and down, right?\n\n315\n00:20:04.418 --> 00:20:09.880\nSo plus, that's kind of slow.\n\n316\n00:20:09.880 --> 00:20:11.701\nNow it does stop fairly quickly, so\n\n317\n00:20:11.701 --> 00:20:14.322\nwhat I do is I gotta update\nthe attributes, right?\n\n318\n00:20:14.322 --> 00:20:18.311\nIf I need a different default attribute\nfor a player that I know makes sense,\n\n319\n00:20:18.311 --> 00:20:19.760\nI'll just change that.\n\n320\n00:20:19.760 --> 00:20:27.300\nAnd let's change that to 30, and\nif I refresh, That's a little bit better.\n\n321\n00:20:28.500 --> 00:20:29.210\n&gt;&gt; Right?\n\n322\n00:20:29.210 --> 00:20:31.060\n&gt;&gt; I'm seeing the gist of your jib.\n\n323\n00:20:31.060 --> 00:20:34.535\n&gt;&gt; There we go, and\nlet's remove this console.log.\n\n324\n00:20:38.106 --> 00:20:43.897\nAnd here, let's just make it, cuz\nthe canvas object's actually really large.\n\n325\n00:20:43.897 --> 00:20:45.932\nSo these numbers are going to be bigger,\nand\n\n326\n00:20:45.932 --> 00:20:49.130\nthat's something you're like,\nshouldn't that be dynamic?\n\n327\n00:20:49.130 --> 00:20:50.940\nIt should, but we're just playing around.\n\n328\n00:20:50.940 --> 00:20:52.569\nAnd notice I can move very quickly.\n\n329\n00:20:52.569 --> 00:20:55.593\nIt's not super smooth animation, but\n\n330\n00:20:55.593 --> 00:20:59.770\nI have a very large canvas object and\nthere we go.\n\n331\n00:20:59.770 --> 00:21:05.470\nWe could add an acceleration\nfactor where as I hold down more,\n\n332\n00:21:05.470 --> 00:21:07.730\nthat amount gets faster and\nfaster and faster.\n\n333\n00:21:07.730 --> 00:21:10.640\nAnd then when I let off, it just stops.\n\n334\n00:21:10.640 --> 00:21:13.190\nBut let's keep it simple.\n\n335\n00:21:13.190 --> 00:21:15.360\nI can still move pretty quickly.\n\n336\n00:21:15.360 --> 00:21:16.390\n&gt;&gt; Yeah, it's great.\n\n337\n00:21:16.390 --> 00:21:17.160\n&gt;&gt; Right?\n\n338\n00:21:17.160 --> 00:21:20.310\nAnd then I could move in front\nof the ball if necessary.\n\n339\n00:21:20.310 --> 00:21:24.180\nNow this ball is moving at a pretty\ngood clip for demonstration purposes.\n\n340\n00:21:24.180 --> 00:21:26.780\nSo we would have to tweak those later on.\n\n341\n00:21:26.780 --> 00:21:31.930\nBut now I have a human controlled\npaddle based on arrow keys, and\n\n342\n00:21:31.930 --> 00:21:34.780\nwell, that was our ultimate goal for\nthis episode.\n\n343\n00:21:34.780 --> 00:21:37.955\nWe've used the base paddle\nobject to only extend.\n\n344\n00:21:37.955 --> 00:21:41.080\nAnd what's amazing is because\nwe have that base paddle object,\n\n345\n00:21:41.080 --> 00:21:43.160\nwe didn't have to do as much work.\n\n346\n00:21:43.160 --> 00:21:44.170\nWe're just saying, well,\n\n347\n00:21:44.170 --> 00:21:46.510\nthere's the paddle,\nlet me just change that a little bit.\n\n348\n00:21:46.510 --> 00:21:51.761\nHey, well, here's this other paddle,\nlet me just change that a little bit.\n\n349\n00:21:51.761 --> 00:21:54.169\nAnd if you program like\nthat in JavaScript,\n\n350\n00:21:54.169 --> 00:21:57.710\nI think it's a little easier to\nreason about, me personally.\n\n351\n00:21:57.710 --> 00:22:01.756\nNow that may be based on experience and\nyou may not find it that way,\n\n352\n00:22:01.756 --> 00:22:03.498\nso definitely try that out.\n\n353\n00:22:03.498 --> 00:22:06.824\n&gt;&gt; So Justin, is most of the management\ncompleted in the main method here?\n\n354\n00:22:06.824 --> 00:22:10.261\nI mean, have you already addressed\nthat and I just missed it?\n\n355\n00:22:10.261 --> 00:22:14.734\n&gt;&gt; So I think what Zack's getting at is\nwhere is all of the actual management of\n\n356\n00:22:14.734 --> 00:22:15.730\nthe game stuff?\n\n357\n00:22:15.730 --> 00:22:17.860\nIt's always gonna be in that main method,\nright?\n\n358\n00:22:17.860 --> 00:22:21.260\nWe're hooking up our event listeners,\nthat's gonna be in the main.\n\n359\n00:22:21.260 --> 00:22:25.078\nBut ultimately, I think we're probably\ngonna pull that out into a game,\n\n360\n00:22:25.078 --> 00:22:26.840\nwhat we could call a game object.\n\n361\n00:22:26.840 --> 00:22:29.480\nBut for now, it's just in the app.js.\n\n362\n00:22:29.480 --> 00:22:31.930\nSo all of the event handling,\nall of the canvas,\n\n363\n00:22:31.930 --> 00:22:37.360\nall of that stuff Is now inside of app.js.\n\n364\n00:22:37.360 --> 00:22:40.203\nMost of our other things are going to\nbe pulled out into separate files.\n\n365\n00:22:40.203 --> 00:22:43.228\nWhich actually reminds me if we\nhop back down into my screen here,\n\n366\n00:22:43.228 --> 00:22:45.590\nwe should probably clean\nthis up a little bit.\n\n367\n00:22:45.590 --> 00:22:47.020\nDefinitely clean up after yourself.\n\n368\n00:22:47.020 --> 00:22:49.246\n&gt;&gt; Cool.\n&gt;&gt; So we have a couple of things,\n\n369\n00:22:49.246 --> 00:22:52.290\nconstants, and\nwe have a HumanPlayerPaddle.\n\n370\n00:22:52.290 --> 00:22:58.054\nWell, we use the constants in\nthe HumanPlayerPaddle, and\n\n371\n00:22:58.054 --> 00:23:03.368\nthen we use HumanPlayerPaddle\ninside of the app.js.\n\n372\n00:23:03.368 --> 00:23:04.230\nSo let's do this.\n\n373\n00:23:04.230 --> 00:23:09.205\nLet's create another js file, And\n\n374\n00:23:09.205 --> 00:23:14.686\nlet's call that, Player-paddle.\n\n375\n00:23:14.686 --> 00:23:20.968\nAnd let's be consistent,\nhuman-player-paddle,\n\n376\n00:23:22.476 --> 00:23:25.110\nJust like so, and pull this out.\n\n377\n00:23:28.966 --> 00:23:34.218\nSo cut and paste and save.\n\n378\n00:23:34.218 --> 00:23:38.459\nAnd then likewise,\nlet's create another file and\n\n379\n00:23:38.459 --> 00:23:41.820\nsave that, call it constants, right?\n\n380\n00:23:41.820 --> 00:23:45.010\nThis may hold all of the constant values,\n\n381\n00:23:45.010 --> 00:23:48.875\nmaybe things that we want\nto assign to a variable.\n\n382\n00:23:48.875 --> 00:23:52.017\nAnd then use throughout our\napplication as a proxy.\n\n383\n00:23:52.017 --> 00:23:58.535\nI don't wanna remember that every time\nI see a 38, that that's up or down.\n\n384\n00:23:58.535 --> 00:24:01.018\nFor 40, so keys.down.\n\n385\n00:24:01.018 --> 00:24:03.970\nOkay, so just for readability.\n\n386\n00:24:03.970 --> 00:24:08.930\nSo I'm gonna make a constant.js and\nI'm gonna pull that constant,\n\n387\n00:24:10.600 --> 00:24:14.020\nthis particular constant\ninto that constants file.\n\n388\n00:24:14.020 --> 00:24:19.280\nNow I'm using kind of this global state,\nnot the greatest, but we'll go with it.\n\n389\n00:24:20.590 --> 00:24:22.990\nYou can have a little bit,\nit works for a little bit.\n\n390\n00:24:22.990 --> 00:24:26.220\nBut as it stands, I've broken my project,\nso I come back and I refresh,\n\n391\n00:24:26.220 --> 00:24:29.580\nit's broke,\nHumanPlayerPaddle is not defined.\n\n392\n00:24:29.580 --> 00:24:31.618\nWell, anytime you extract,\n\n393\n00:24:31.618 --> 00:24:36.270\nalways make sure that you add in\nthe appropriate files on your HTML.\n\n394\n00:24:36.270 --> 00:24:41.590\nIf you're using a module like WetPack or\nI think it's Rollup, then, well, this\n\n395\n00:24:41.590 --> 00:24:46.540\nmay not be an issue because that build\n[INAUDIBLE] it's gonna happen for you.\n\n396\n00:24:46.540 --> 00:24:51.390\nBut we want to bring in\nthe HumanPlayerPaddle.\n\n397\n00:24:51.390 --> 00:24:54.830\nBotice where I placed\nthe HumanPlayerPaddle.\n\n398\n00:24:54.830 --> 00:24:55.890\nIt's below paddle,\n\n399\n00:24:55.890 --> 00:24:59.940\nbecause the HumanPlayerPaddle\nactually uses the paddle function.\n\n400\n00:24:59.940 --> 00:25:02.660\nSo the order does matter.\n\n401\n00:25:02.660 --> 00:25:08.400\nLikewise, what I'm going to do, and I just\nnoticed that I did a keyboard shortcut.\n\n402\n00:25:10.580 --> 00:25:15.202\nIf you come a line and\nCtrl+ Shift + D on Windows and Linux or\n\n403\n00:25:15.202 --> 00:25:20.520\nCmd+ Shift+D on Mac, you'll actually just\nduplicate the line to the next line.\n\n404\n00:25:20.520 --> 00:25:23.770\nI'm going to change this\nfirst one to constants.\n\n405\n00:25:23.770 --> 00:25:26.340\nAnd that way constants are one\nof the first things to load and\n\n406\n00:25:26.340 --> 00:25:29.070\nthey would be available\non the files below.\n\n407\n00:25:29.070 --> 00:25:32.970\nSo, this order matters because it's\nessentially your dependencies.\n\n408\n00:25:32.970 --> 00:25:36.540\nIf you ever have trouble figuring\nout which one comes first and\n\n409\n00:25:36.540 --> 00:25:40.120\nyou can't ever get it to work regardless\nof your order, that means you have what's\n\n410\n00:25:40.120 --> 00:25:45.230\nknown as like a wierd kind of circular\npossibly self-referential dependency.\n\n411\n00:25:45.230 --> 00:25:49.180\nSo paddle depends on HumanPlayerPaddle,\nwhich depends on paddle.\n\n412\n00:25:49.180 --> 00:25:52.410\nIf you have that,\nthen things are not gonna work.\n\n413\n00:25:52.410 --> 00:25:54.190\nSo we have to be careful of that.\n\n414\n00:25:54.190 --> 00:25:56.780\nWe shouldn't have anything of the sort.\n\n415\n00:25:56.780 --> 00:25:58.630\nBut if I come back now and\n\n416\n00:25:58.630 --> 00:26:02.850\nlook I now have the ability to yay-\n&gt;&gt; Wonderful.\n\n417\n00:26:02.850 --> 00:26:04.458\n&gt;&gt; To almost play pong.\n\n418\n00:26:04.458 --> 00:26:09.460\nNow you'll notice,\nI got some weirdness going on.\n\n419\n00:26:11.460 --> 00:26:13.900\nAnd I could spend some time to limit,\nright?\n\n420\n00:26:13.900 --> 00:26:17.450\nI had that bounce, I could set up limits.\n\n421\n00:26:17.450 --> 00:26:21.040\nBut I think until we start building\nthe computer and see where that comes out,\n\n422\n00:26:21.040 --> 00:26:25.570\nI think it might be a little premature to\nstart limiting our paddle top and bottom.\n\n423\n00:26:25.570 --> 00:26:27.610\nBut we definitely need to do that.\n\n424\n00:26:27.610 --> 00:26:32.520\nBut we have our HumanPlayerPaddle,\nit's managed by keyboard.\n\n425\n00:26:32.520 --> 00:26:36.599\nAnd once we get the computer,\nwe need to build a scoreboard and\n\n426\n00:26:36.599 --> 00:26:38.490\nwe're almost in Pong Land.\n\n427\n00:26:38.490 --> 00:26:40.612\n&gt;&gt; Creating the HumanPlayerPaddle,\n\n428\n00:26:40.612 --> 00:26:44.012\none more step towards our\ncreation of our homage to Pong.\n\n429\n00:26:44.012 --> 00:26:45.692\nAnything else you'd like\nto add before we go?\n\n430\n00:26:45.692 --> 00:26:48.810\n&gt;&gt; So definitely stay tuned,\nthe computer player\n\n431\n00:26:48.810 --> 00:26:52.460\nmight actually kind of interesting\ncuz you can then build strategies.\n\n432\n00:26:52.460 --> 00:26:56.941\nSo when I say computer, some strategy's\napplied automatically by the computer,\n\n433\n00:26:56.941 --> 00:26:58.420\nyou're still writing it.\n\n434\n00:26:58.420 --> 00:27:02.161\nAnd that can be a little bit of fun and\na little bit adventurous.\n\n435\n00:27:02.161 --> 00:27:05.871\nAnd then that way, we essentially\nhave the pieces that we need for\n\n436\n00:27:05.871 --> 00:27:08.710\na very simple game,\nif we're not keeping score.\n\n437\n00:27:08.710 --> 00:27:12.280\nWe're probably gonna go a little bit\nbeyond that or we may take that time to\n\n438\n00:27:12.280 --> 00:27:16.210\nrefactor and actually put in some game\nlogic for limiting the paddles and stuff.\n\n439\n00:27:16.210 --> 00:27:17.970\nSo, definitely stay tuned.\n\n440\n00:27:17.970 --> 00:27:20.460\n&gt;&gt; Justin, you're doing an awesome job and\nI'm having so much fun.\n\n441\n00:27:20.460 --> 00:27:24.400\nThe HTML5 Canvas Projects,\nmake sure you see every single episode.\n\n442\n00:27:24.400 --> 00:27:26.600\nGo to our course line,\ncheck up the hundreds of videos,\n\n443\n00:27:26.600 --> 00:27:29.020\nthey are all designed\nto help you go further.\n\n444\n00:27:29.020 --> 00:27:30.882\nAnd tell everybody you\nknow about DEVPRO.TV.\n\n445\n00:27:30.882 --> 00:27:32.210\nThey'll be glad you did.\n\n446\n00:27:32.210 --> 00:27:33.770\nThanks for watching, I'm Zack Memos.\n\n447\n00:27:33.770 --> 00:27:34.530\n&gt;&gt; And I'm Justin Dennison.\n\n448\n00:27:34.530 --> 00:27:36.897\n&gt;&gt; And we will see you again very soon.\n\n449\n00:27:36.897 --> 00:27:42.192\n[MUSIC]\n\n",
          "vimeoId": "234901971"
        },
        {
          "description": "Justin and Zach create the computer paddle that the game will use to play against the human player, demonstrating how to create different strategies that can be applied to the computer player. Part 1.",
          "length": "1380",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-5-1-creating_the_computer_player_paddle-092217-PGM.00_22_50_00.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-5-1-creating_the_computer_player_paddle-092217-PGM.00_22_50_00.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-5-1-creating_the_computer_player_paddle-092217-PGM.00_22_50_00.Still001-sm.jpg",
          "title": "Creating the Computer Player Paddle",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.695 --> 00:00:16.276\nHello and thank you for watching DevProTV,\nhelping you learn wherever you go.\n\n3\n00:00:16.276 --> 00:00:20.761\nI'm your host Zach Memos,\nas we look at HTML 5 Canvas Projects,\n\n4\n00:00:20.761 --> 00:00:23.550\nCreating a Computer Player Paddle.\n\n5\n00:00:23.550 --> 00:00:26.830\nPart of our homage to making Pong,\nour version of Pong.\n\n6\n00:00:26.830 --> 00:00:29.260\nAnd Justin Dennison is here,\nbecause he's going to show us the way.\n\n7\n00:00:29.260 --> 00:00:30.527\nJustin, good to have you here, thank you.\n\n8\n00:00:30.527 --> 00:00:33.810\n&gt;&gt; It is good to be back, and\nhopefully I can show you the way.\n\n9\n00:00:33.810 --> 00:00:34.736\n&gt;&gt; I guess we will see.\n\n10\n00:00:34.736 --> 00:00:35.382\n&gt;&gt; But how are you, Zach?\n\n11\n00:00:35.382 --> 00:00:38.891\n&gt;&gt; I am great, and I'm excited that\nwe're moving forward with this,\n\n12\n00:00:38.891 --> 00:00:41.737\nbecause every little element\nwe add is just exciting.\n\n13\n00:00:41.737 --> 00:00:45.460\n&gt;&gt; So yeah, we're going to work on\ncreating the computer player paddle.\n\n14\n00:00:45.460 --> 00:00:48.281\nNow, what does that entail?\n\n15\n00:00:48.281 --> 00:00:52.648\nWell, Zach, I think you made\nan observation the other day, right,\n\n16\n00:00:52.648 --> 00:00:55.830\nin a previous episode,\nabout one of our paddles.\n\n17\n00:00:55.830 --> 00:00:58.120\nDo you remember that\nobservation that you had?\n\n18\n00:00:58.120 --> 00:01:01.390\n&gt;&gt; Well, I was wondering, is that player\npaddle, is that the computer paddle?\n\n19\n00:01:01.390 --> 00:01:03.403\nI mean, don't we already have that?\n\n20\n00:01:03.403 --> 00:01:04.860\nIsn't that already in place?\n\n21\n00:01:04.860 --> 00:01:07.696\n&gt;&gt; Yeah, so\nZach has made a brilliant observation.\n\n22\n00:01:07.696 --> 00:01:11.397\nWe actually have a panel that could\nbe a simple computer strategy, right?\n\n23\n00:01:11.397 --> 00:01:14.570\nIt's just kind of moves up and\ndown, and that's all it does.\n\n24\n00:01:14.570 --> 00:01:19.541\nNow, it may be a very easy to beat\ncomputer strategy, once we get to actually\n\n25\n00:01:19.541 --> 00:01:24.536\ncolliding against paddles, and\nhaving them bouncing, things like that.\n\n26\n00:01:24.536 --> 00:01:28.664\nHowever, right now that's\nactually in the paddle, and\n\n27\n00:01:28.664 --> 00:01:32.106\nwe are overriding that\nin the computer player.\n\n28\n00:01:32.106 --> 00:01:35.467\nIt seems like we should\nprobably make a change to that,\n\n29\n00:01:35.467 --> 00:01:38.380\nin order to have a better organization.\n\n30\n00:01:38.380 --> 00:01:41.742\n&gt;&gt; In order for it to be a computer\npaddle itself, and have a functionality,\n\n31\n00:01:41.742 --> 00:01:45.160\nbecause we're gonna be actually doing\nbattle with that computer paddle,\n\n32\n00:01:45.160 --> 00:01:46.370\nsooner or later, right?\n\n33\n00:01:46.370 --> 00:01:49.549\n&gt;&gt; Exactly, I don't think that\nshould be in the paddle for say,\n\n34\n00:01:49.549 --> 00:01:53.140\nthe paddle should be a little more,\nkind of slim and trim.\n\n35\n00:01:53.140 --> 00:01:56.562\nAnd then that strategy should be\nimplemented in what I'm gonna call\n\n36\n00:01:56.562 --> 00:01:58.073\nthe simple computer paddle.\n\n37\n00:01:58.073 --> 00:01:59.323\n&gt;&gt; So what are we gonna do?\n\n38\n00:01:59.323 --> 00:02:02.243\n&gt;&gt; Well,\nwe need to do some code reorganization in\n\n39\n00:02:02.243 --> 00:02:04.560\norder to make that come to fruition.\n\n40\n00:02:04.560 --> 00:02:08.610\nSo I'm gonna try to keep that very\nkind of illustrated, so to speak.\n\n41\n00:02:08.610 --> 00:02:13.688\nAnd, well, Zack, if anything seems out\nof place, definitely keep me honest.\n\n42\n00:02:13.688 --> 00:02:16.128\n&gt;&gt; [LAUGH]\n&gt;&gt; But do keep in mind,\n\n43\n00:02:16.128 --> 00:02:20.925\nI'm doing some reorganization, building\nsome other things, and I'm gonna make\n\n44\n00:02:20.925 --> 00:02:25.600\nsure to keep this segmented by file, but\nbe very explicit about what I'm doing.\n\n45\n00:02:25.600 --> 00:02:28.096\nSo let's take a look at my screen here.\n\n46\n00:02:28.096 --> 00:02:30.872\nAnd let's see, we got some mess,\nwe will definitely clean this up later.\n\n47\n00:02:30.872 --> 00:02:36.522\nThis is more about testing, about trying\nto figure out what's going on, right?\n\n48\n00:02:36.522 --> 00:02:39.180\nHow are we going about this?\n\n49\n00:02:39.180 --> 00:02:42.500\nWe do have some of these checks that\nI eventually will probably refactor,\n\n50\n00:02:42.500 --> 00:02:44.170\nto make them a little more readable.\n\n51\n00:02:44.170 --> 00:02:47.420\nBecause yes, this is a condition, but\nI think it could be a little more readable\n\n52\n00:02:47.420 --> 00:02:52.970\nand go, if the ball is out left or\nout right, or so to speak.\n\n53\n00:02:54.340 --> 00:02:55.982\nHowever, that's not our concern.\n\n54\n00:02:55.982 --> 00:03:01.519\nWhat our concern is, is this paddle,\nthis human player paddle,\n\n55\n00:03:01.519 --> 00:03:05.660\nis actually an extension of the paddle,\nright?\n\n56\n00:03:05.660 --> 00:03:12.641\nSo we take the paddle, and\nwe've done some updates.\n\n57\n00:03:12.641 --> 00:03:15.063\nNow, if we come over here to paddle,\n\n58\n00:03:15.063 --> 00:03:19.140\nwe change this around to be\na function that returns an object.\n\n59\n00:03:19.140 --> 00:03:22.420\nBut if we look,\nsome of these defaults are okay.\n\n60\n00:03:23.600 --> 00:03:27.020\nHowever, this portion,\nthis update and this bounce,\n\n61\n00:03:27.020 --> 00:03:32.348\nthat's actually makes a little more sense\nif it was a simple computer paddle, right?\n\n62\n00:03:32.348 --> 00:03:34.244\nIt shouldn't be bouncing,\n\n63\n00:03:34.244 --> 00:03:38.990\nit should only be limited if it's\na human player, which we will get to.\n\n64\n00:03:40.390 --> 00:03:46.260\nBut for an actual computer paddle,\nthis bounce would work.\n\n65\n00:03:46.260 --> 00:03:49.146\nSo in all actuality, as Zach has observed,\n\n66\n00:03:49.146 --> 00:03:54.607\nthis paddle is more of the simple computer\npaddle, and not a slim and trim version.\n\n67\n00:03:54.607 --> 00:03:58.246\nNow, that means we have to go through and\nthink about, for\n\n68\n00:03:58.246 --> 00:04:00.710\na general paddle, what is necessary?\n\n69\n00:04:00.710 --> 00:04:03.629\nFor all the paddles,\nregardless of whether it's a human player,\n\n70\n00:04:03.629 --> 00:04:06.302\nother computer players,\nwhatever it may be, do I need an x?\n\n71\n00:04:06.302 --> 00:04:07.030\n&gt;&gt; Yes.\n\n72\n00:04:07.030 --> 00:04:07.775\n&gt;&gt; Do I need a y?\n\n73\n00:04:07.775 --> 00:04:09.287\n&gt;&gt; Yes.\n&gt;&gt; Do I need a dy?\n\n74\n00:04:09.287 --> 00:04:10.108\n&gt;&gt; Yes.\n\n75\n00:04:10.108 --> 00:04:11.520\n&gt;&gt; Height, width, color?\n\n76\n00:04:11.520 --> 00:04:13.354\nYes, right,\nwe could probably live without color,\n\n77\n00:04:13.354 --> 00:04:16.101\nwe could just leave them at default, but\nat least there's some options there.\n\n78\n00:04:16.101 --> 00:04:20.861\nNow, we have some hard-coded\nvalues that eventually, I think,\n\n79\n00:04:20.861 --> 00:04:25.197\nwe're probably going to change\nto be a little more dynamic.\n\n80\n00:04:25.197 --> 00:04:31.871\nBecause as it stands, this x and this y,\nthey're always gonna place us to the left,\n\n81\n00:04:31.871 --> 00:04:36.900\nand actually our computer player\nneeds to be on the right.\n\n82\n00:04:36.900 --> 00:04:41.890\nSo we may have to handle that.\n\n83\n00:04:41.890 --> 00:04:45.819\nBut this paddle should probably\nnot have this bounce y,\n\n84\n00:04:45.819 --> 00:04:49.421\nit should probably not\nhave this update function.\n\n85\n00:04:49.421 --> 00:04:54.630\nAnd as a start, I'm gonna build a simple\ncomputer paddle, just right up here.\n\n86\n00:04:54.630 --> 00:04:57.299\nI'm gonna build the function\ninside of this add.js.\n\n87\n00:04:57.299 --> 00:04:59.737\nNow, You'll notice over\nthe previous episodes,\n\n88\n00:04:59.737 --> 00:05:02.921\nthis add.js just kinda gotten big,\nand then we'll pair it down.\n\n89\n00:05:02.921 --> 00:05:03.952\nGotten big, pair it down.\n\n90\n00:05:03.952 --> 00:05:06.952\nThis makes it a little bit\neasier to keep from switching.\n\n91\n00:05:06.952 --> 00:05:11.416\nEventually, this add.js is gonna be really\ntiny, it's going to be like three lines.\n\n92\n00:05:11.416 --> 00:05:12.249\n&gt;&gt; Lean.\n\n93\n00:05:12.249 --> 00:05:13.064\n&gt;&gt; It's gonna be lean.\n\n94\n00:05:13.064 --> 00:05:16.067\n[LAUGH] It's gonna be,\nyeah, super lean, slim, so\n\n95\n00:05:16.067 --> 00:05:19.973\nto speak, cuz all it's gonna do\nis start the game, and that's it.\n\n96\n00:05:19.973 --> 00:05:22.604\nBut let's call it SimpleComputerPaddle.\n\n97\n00:05:22.604 --> 00:05:28.980\nI'm big on names that, well, give you some\ninsight about what's going on, right?\n\n98\n00:05:28.980 --> 00:05:30.706\n&gt;&gt; Makes sense.\n\n99\n00:05:30.706 --> 00:05:36.008\n&gt;&gt; So if we go here, and\nthis is gonna be a standard function,\n\n100\n00:05:36.008 --> 00:05:43.387\nbecause we're going to return, let's see,\nwe wanna return Object.assign.\n\n101\n00:05:46.639 --> 00:05:52.380\nAnd we wanna return a Paddle, but\nwe want to overwrite with the changes\n\n102\n00:05:52.380 --> 00:05:57.651\nthat we've made, in order to\ncreate a simple computer paddle.\n\n103\n00:05:57.651 --> 00:05:59.840\nAnd we've done that a little\nbit in the human player paddle.\n\n104\n00:05:59.840 --> 00:06:04.234\nI'm gonna do this just a little bit\ndifferently than this in line portion,\n\n105\n00:06:04.234 --> 00:06:05.639\nto bring some clarity.\n\n106\n00:06:05.639 --> 00:06:06.882\nEventually, I may refactor that.\n\n107\n00:06:06.882 --> 00:06:09.566\nSo that's one of those patterns where\nyou're like, [SOUND] that could be\n\n108\n00:06:09.566 --> 00:06:12.088\na little more readable,\nI should probably do that a different way.\n\n109\n00:06:12.088 --> 00:06:14.460\nSo I'm gonna call this changes.\n\n110\n00:06:14.460 --> 00:06:21.496\nNow changes is gonna be an object inside\nof SimpleComputerPaddle, like so.\n\n111\n00:06:21.496 --> 00:06:25.254\nSo as it stands,\nif I was to make a simple computer paddle,\n\n112\n00:06:25.254 --> 00:06:30.040\nI would get no changes, I would actually\njust get a paddle object, okay?\n\n113\n00:06:31.170 --> 00:06:37.588\nLet's just see that kind of in run, okay?\n\n114\n00:06:37.588 --> 00:06:41.027\nWe will not see it on the screen,\ncuz I'm not gonna render it or anything,\n\n115\n00:06:41.027 --> 00:06:42.870\njust until we get things squared away.\n\n116\n00:06:44.250 --> 00:06:48.991\nSo here's our SimpleComputerPaddle\nthat's gonna return a new object,\n\n117\n00:06:48.991 --> 00:06:53.438\nwhich is console.log(computer),\nso we can do some inspection.\n\n118\n00:06:53.438 --> 00:06:54.230\nAnd there we go.\n\n119\n00:06:54.230 --> 00:06:57.570\nAnd if we look,\nit is essentially just a paddle.\n\n120\n00:06:57.570 --> 00:07:02.013\nNow, again, we don't see it on the screen,\ncuz it's not rendered, but\n\n121\n00:07:02.013 --> 00:07:03.961\nthere we go, we're good to go.\n\n122\n00:07:03.961 --> 00:07:09.059\nNow, it's not moving about because,\nwell, the inner image of the screen,\n\n123\n00:07:09.059 --> 00:07:14.480\nwe haven't called update, we're not\nmanipulating it inside of the game state.\n\n124\n00:07:14.480 --> 00:07:19.610\nHowever, as I said, I like this\nupdate function that we have here,\n\n125\n00:07:19.610 --> 00:07:23.840\nand that would actually move us around,\nI would like for\n\n126\n00:07:23.840 --> 00:07:26.840\nthat to in the SimpleComputerPaddle.\n\n127\n00:07:26.840 --> 00:07:31.673\nAs well as render should already\nbe there from a paddle, but\n\n128\n00:07:31.673 --> 00:07:37.973\nthis bounce y only applies to the\nstrategy, the bouncing from top to bottom.\n\n129\n00:07:37.973 --> 00:07:40.912\nThat's all I need, okay?\n\n130\n00:07:40.912 --> 00:07:45.595\nNow, what that means is I think,\nnow we are probably gonna break\n\n131\n00:07:45.595 --> 00:07:46.651\nsome stuff-\n&gt;&gt; Uh-oh.\n\n132\n00:07:46.651 --> 00:07:48.351\n&gt;&gt; In the meantime, okay?\n\n133\n00:07:48.351 --> 00:07:51.954\n&gt;&gt; What I think this means is [CROSSTALK]\nthis update should be overwritten.\n\n134\n00:07:51.954 --> 00:07:58.733\nBut more specifically, this bounce,\nI don't think it belongs in paddle.\n\n135\n00:07:58.733 --> 00:08:02.680\nIt's more specific to this particular\nstrategy that we're trying to accomplish.\n\n136\n00:08:04.130 --> 00:08:08.590\nSo if we come over here, and\nwe go into changes, and we paste that.\n\n137\n00:08:08.590 --> 00:08:10.240\nSo now changes is bounceY.\n\n138\n00:08:11.390 --> 00:08:14.220\nAnd if I did not apply those changes I\nwould just get a standard paddle that\n\n139\n00:08:14.220 --> 00:08:16.270\nwould not be able to\nbounce from top to bottom.\n\n140\n00:08:18.250 --> 00:08:21.500\nNow, let's see here, what else?\n\n141\n00:08:21.500 --> 00:08:29.360\nThis update function that we have inside\nof the paddle, the actual portion.\n\n142\n00:08:29.360 --> 00:08:34.660\nI think that should be in\nthe simple computer paddle and\n\n143\n00:08:34.660 --> 00:08:36.910\nnot part of a standard paddle.\n\n144\n00:08:36.910 --> 00:08:40.360\nSo what we're gonna do is remove that.\n\n145\n00:08:40.360 --> 00:08:42.330\nAnd change this over here.\n\n146\n00:08:42.330 --> 00:08:46.470\nAnd let's see if we've broken anything\nbefore we get too crazy about this.\n\n147\n00:08:46.470 --> 00:08:49.754\nAnd refresh,\nit looks like everything's good.\n\n148\n00:08:49.754 --> 00:08:51.910\nWe don't have any, if I hit up and\n\n149\n00:08:51.910 --> 00:08:57.070\ndown over here our human player\npaddle still actually works.\n\n150\n00:08:57.070 --> 00:09:01.860\nSo we haven't broken anything about that,\nper se.\n\n151\n00:09:01.860 --> 00:09:04.140\nBut we have done some reorganization and\n\n152\n00:09:04.140 --> 00:09:07.850\nyou'll notice that the paddle,\nit's a little slimmer, right?.\n\n153\n00:09:07.850 --> 00:09:10.942\nAll paddles are rendered the same, cool.\n\n154\n00:09:10.942 --> 00:09:14.830\nAll paddles have an x, y,\ndy, height with color.\n\n155\n00:09:14.830 --> 00:09:17.723\nNow, we could go crazy and\nmake this kind of mix-ins or\n\n156\n00:09:17.723 --> 00:09:22.830\ndecorators that say, it is positionable\nwhich means that it has an x and y.\n\n157\n00:09:22.830 --> 00:09:24.250\nIt is movable.\n\n158\n00:09:24.250 --> 00:09:26.060\nSo it would have a dxdy.\n\n159\n00:09:26.060 --> 00:09:31.101\nIt is I don't know, [SOUND] this\nis where it gets a little weird.\n\n160\n00:09:31.101 --> 00:09:34.020\n&gt;&gt; [LAUGH]\n&gt;&gt; Because the ball has a radius,\n\n161\n00:09:34.020 --> 00:09:35.267\nthe paddle has a height and a width.\n\n162\n00:09:37.200 --> 00:09:42.170\nSo really, height and\nwidth is something we need for the paddle.\n\n163\n00:09:42.170 --> 00:09:43.160\n&gt;&gt; Yeah.\n\n164\n00:09:43.160 --> 00:09:46.700\n&gt;&gt; So, I think I lied a bit.\n\n165\n00:09:46.700 --> 00:09:49.540\nWe should probably check to\nsee if it actually works.\n\n166\n00:09:49.540 --> 00:09:55.329\nThe one thing though, what's kinda\nweird is, well, we'll just see.\n\n167\n00:09:55.329 --> 00:09:58.150\nSo cuz I think this is\nwhat's gonna happen.\n\n168\n00:09:58.150 --> 00:10:01.600\nI think we're not gonna be able\nto position it on the right.\n\n169\n00:10:01.600 --> 00:10:06.980\nWe're actually gonna be a computer and\na one player all on the left.\n\n170\n00:10:06.980 --> 00:10:12.889\nSo we now have this computer right here,\nsimple computer paddle.\n\n171\n00:10:12.889 --> 00:10:16.079\nAnd we're gonna come over here and\n\n172\n00:10:16.079 --> 00:10:21.707\ninstead of paddle.update,\nlet's do computer.update.\n\n173\n00:10:21.707 --> 00:10:25.599\nAnd computer.render.\n\n174\n00:10:25.599 --> 00:10:28.680\nAnd don't forget to pass on\nthe context because that is important.\n\n175\n00:10:31.500 --> 00:10:34.458\nNow, you'll notice ball.update,\ncomputer.update, ball.render,\n\n176\n00:10:34.458 --> 00:10:36.040\nplayer.render, computer.render.\n\n177\n00:10:37.170 --> 00:10:40.970\nYou have to be careful about the\norganization of this because you may have\n\n178\n00:10:40.970 --> 00:10:44.220\ndifferent rendering kind of overviews.\n\n179\n00:10:44.220 --> 00:10:48.620\nOr, excuse me, different rendering\nweirdness if you're not careful.\n\n180\n00:10:48.620 --> 00:10:49.450\n&gt;&gt; Shenanigans.\n\n181\n00:10:49.450 --> 00:10:51.530\n&gt;&gt; Shenanigans,\nshenanigans is a good word.\n\n182\n00:10:51.530 --> 00:10:52.730\nSo if we come over here and\n\n183\n00:10:52.730 --> 00:10:57.040\nwe refresh you'll notice I actually\nhave another paddle on the left.\n\n184\n00:10:57.040 --> 00:10:57.960\n&gt;&gt; I was gonna say.\n\n185\n00:10:57.960 --> 00:11:00.530\nAre we gonna end up with\ntwo paddles on one side?\n\n186\n00:11:00.530 --> 00:11:02.070\n&gt;&gt; Yeah, yeah, we are.\n\n187\n00:11:03.740 --> 00:11:04.720\nThat's a problem.\n\n188\n00:11:04.720 --> 00:11:05.330\n&gt;&gt; That's a problem.\n\n189\n00:11:05.330 --> 00:11:06.320\n&gt;&gt; Right?\n\n190\n00:11:06.320 --> 00:11:08.660\nAnd I could hardcode a value.\n\n191\n00:11:08.660 --> 00:11:10.540\nIn these changes I could\ndo something like this.\n\n192\n00:11:10.540 --> 00:11:13.750\nLike x, I just wanna change the x.\n\n193\n00:11:13.750 --> 00:11:17.650\nBut what do I want to change it to?\n\n194\n00:11:17.650 --> 00:11:22.100\nWell, I have to know something about\na canvas but the dimensions and\n\n195\n00:11:22.100 --> 00:11:25.150\nthat's dependent on the window\nwhich may actually change in size.\n\n196\n00:11:26.340 --> 00:11:30.370\nThat is difficult to say.\n\n197\n00:11:30.370 --> 00:11:32.490\nNow, I could do canvas like this.\n\n198\n00:11:32.490 --> 00:11:38.240\nAnd I could say canvas.width\n\n199\n00:11:38.240 --> 00:11:43.532\n[SOUND] minus this.width.\n\n200\n00:11:43.532 --> 00:11:49.390\nBut that gets a little iffy,\ntoo, because is it this .width?\n\n201\n00:11:49.390 --> 00:11:51.320\nBecause what is this right here?\n\n202\n00:11:51.320 --> 00:11:53.990\nWell, it's the changes and\nchanges doesn't have anything.\n\n203\n00:11:55.760 --> 00:11:59.080\nSo we might get a little,\nwe might get a little iffy.\n\n204\n00:11:59.080 --> 00:12:03.310\nBut let's look at canvas.width and\nlet's just say minus 30.\n\n205\n00:12:03.310 --> 00:12:05.100\nAnd if we refresh now.\n\n206\n00:12:05.100 --> 00:12:06.840\n&gt;&gt; Well, what do you know?\n\n207\n00:12:06.840 --> 00:12:11.760\n&gt;&gt; Now, we moved it over there and\nit's gone now.\n\n208\n00:12:11.760 --> 00:12:13.005\nIt doesn't actually bounce.\n\n209\n00:12:13.005 --> 00:12:13.610\n&gt;&gt; [LAUGH]\n&gt;&gt; And\n\n210\n00:12:13.610 --> 00:12:16.500\nthat's because we're not checking for-\n&gt;&gt; It just resets.\n\n211\n00:12:16.500 --> 00:12:19.790\n&gt;&gt; Yeah, it actually goes in the same\ndirection forever and ever and ever.\n\n212\n00:12:19.790 --> 00:12:21.058\n&gt;&gt; It's in infinity then.\n\n213\n00:12:21.058 --> 00:12:23.120\n&gt;&gt; Yep, all the way over there.\n\n214\n00:12:23.120 --> 00:12:24.960\nThat brings up a couple of good points.\n\n215\n00:12:24.960 --> 00:12:28.260\nWe're building the paddle that\nwe're extending from, right?\n\n216\n00:12:28.260 --> 00:12:31.440\nWe're kind of starting with this\nbase object and adding things on it.\n\n217\n00:12:31.440 --> 00:12:34.290\nThink of a, well,\nthat's a chocolate cake, yeah, but\n\n218\n00:12:34.290 --> 00:12:36.055\nI put cream cheese frosting on it.\n\n219\n00:12:36.055 --> 00:12:38.280\n&gt;&gt; [LAUGH].\n&gt;&gt; It's a better chocolate cake.\n\n220\n00:12:38.280 --> 00:12:39.803\nThat's what we're doing.\n\n221\n00:12:39.803 --> 00:12:41.322\n&gt;&gt; [LAUGH] It sounds good to me.\n\n222\n00:12:41.322 --> 00:12:43.640\n&gt;&gt; [LAUGH] That's kind\nof what we're doing,\n\n223\n00:12:43.640 --> 00:12:48.590\nwe're adding things on to build\nup the object that we need.\n\n224\n00:12:50.120 --> 00:12:53.140\nSo that brings up a couple of good points.\n\n225\n00:12:53.140 --> 00:12:55.320\nHowever, Zach,\nI do have a question for you.\n\n226\n00:12:55.320 --> 00:12:56.720\n&gt;&gt; I might have a question for you.\n\n227\n00:12:56.720 --> 00:13:01.060\n&gt;&gt; Do you see anything weird about this\npaddle object now that we've changed it?\n\n228\n00:13:01.060 --> 00:13:03.039\n&gt;&gt; Well,\nshould the paddle update be empty?\n\n229\n00:13:04.390 --> 00:13:06.330\nYes, see, we were on it.\n\n230\n00:13:06.330 --> 00:13:07.130\n&gt;&gt; That's the question.\n\n231\n00:13:07.130 --> 00:13:09.750\n&gt;&gt; He was like, I got it, I see something.\n\n232\n00:13:09.750 --> 00:13:12.176\n&gt;&gt; But I was thinking about the cream\ncheese and chocolate cake and so\n\n233\n00:13:12.176 --> 00:13:12.890\nI got distracted.\n\n234\n00:13:12.890 --> 00:13:15.817\n&gt;&gt; Understandably, ooh, cream cheese.\n\n235\n00:13:15.817 --> 00:13:19.970\n&gt;&gt; [LAUGH]\n&gt;&gt; So the paddle objects update, right?\n\n236\n00:13:19.970 --> 00:13:23.390\n&gt;&gt; Well, it is empty and\nwe don't have abstract methods.\n\n237\n00:13:23.390 --> 00:13:25.822\nWe have no way to enforce\ninterfaces in JavaScript.\n\n238\n00:13:25.822 --> 00:13:28.150\nWe can kind of have all this dynamicism.\n\n239\n00:13:28.150 --> 00:13:30.730\nI like to keep this empty\n\n240\n00:13:30.730 --> 00:13:33.170\nbecause then it doesn't break if I\naccidentally construct a paddle.\n\n241\n00:13:33.170 --> 00:13:37.180\nReally, I shouldn't be constructing\na standard paddle as a means of,\n\n242\n00:13:37.180 --> 00:13:38.710\nthat's what it is, right?\n\n243\n00:13:38.710 --> 00:13:40.030\nAs just using it.\n\n244\n00:13:40.030 --> 00:13:44.140\nHowever, if I were to,\nI wouldn't throw errors.\n\n245\n00:13:44.140 --> 00:13:48.520\nI could do something different and\nsay, well, here is the base paddle,\n\n246\n00:13:48.520 --> 00:13:51.452\nthis is like a paddle scaffolding.\n\n247\n00:13:51.452 --> 00:13:55.280\nYou have to add at least an update method.\n\n248\n00:13:55.280 --> 00:13:57.950\nWhat I am gonna do is keep it from\nthrowing errors and breaking things and\n\n249\n00:13:57.950 --> 00:13:59.080\nnot rendering.\n\n250\n00:13:59.080 --> 00:14:00.260\nI'm gonna leave the update there.\n\n251\n00:14:00.260 --> 00:14:02.990\nAnd as it runs, well, guess what?\n\n252\n00:14:02.990 --> 00:14:04.190\nIt does nothing.\n\n253\n00:14:04.190 --> 00:14:05.860\nSo if I were to do that,\nit wouldn't break.\n\n254\n00:14:05.860 --> 00:14:06.820\nIt would still show.\n\n255\n00:14:06.820 --> 00:14:09.390\nIt would just not run appropriately.\n\n256\n00:14:09.390 --> 00:14:10.720\nNow, that's my decision.\n\n257\n00:14:10.720 --> 00:14:14.210\nThat's not necessarily the only\ndecision that you can make.\n\n258\n00:14:14.210 --> 00:14:20.370\nYou kinda get some leniency\nwith how those are implemented.\n\n259\n00:14:20.370 --> 00:14:22.655\nBut we don't have any way to\nimplement that programmatically.\n\n260\n00:14:22.655 --> 00:14:24.250\nBecause this is like, whatever,\n\n261\n00:14:24.250 --> 00:14:28.318\nthe method's not there or update's not\na function if update wasn't there.\n\n262\n00:14:28.318 --> 00:14:32.070\nSo I'm gonna leave that empty but then\nI'm going to say every other panel that I\n\n263\n00:14:32.070 --> 00:14:37.550\nimplement as an extension to the standard\npaddle object is going to have to override\n\n264\n00:14:37.550 --> 00:14:40.320\nthe update object, okay?\n\n265\n00:14:40.320 --> 00:14:42.030\nSo, there's that.\n\n266\n00:14:42.030 --> 00:14:46.280\nIn addition to,\nI wanna touch on one thing,\n\n267\n00:14:46.280 --> 00:14:49.480\nwe're building this in place and\nthat's perfectly fine here.\n\n268\n00:14:49.480 --> 00:14:54.336\nBut you may find some limitations\nas we just did here where\n\n269\n00:14:54.336 --> 00:14:59.004\nit may be better to have\nthe paddle available early on.\n\n270\n00:14:59.004 --> 00:15:01.280\nBecause then you can make\nit a little more dynamic.\n\n271\n00:15:02.570 --> 00:15:06.520\n&gt;&gt; Right, so instead of -30,\nI could say paddle.width.\n\n272\n00:15:06.520 --> 00:15:10.416\nSo I can actually move it all the way off\nthe camp and then move it back the width,\n\n273\n00:15:10.416 --> 00:15:11.910\nso it's right up against it.\n\n274\n00:15:11.910 --> 00:15:13.170\nAnd that's if it's on the right.\n\n275\n00:15:14.730 --> 00:15:17.225\nThese are, we're gonna adopt a convention.\n\n276\n00:15:17.225 --> 00:15:21.100\nHuman-player paddles, whatever\nthe strength, maybe they move fast or\n\n277\n00:15:21.100 --> 00:15:22.930\nwhatnot, they're on the left.\n\n278\n00:15:22.930 --> 00:15:26.620\nThey're on my left which\nthe perspective's different.\n\n279\n00:15:26.620 --> 00:15:30.470\nAnd then computer paddles\nare gonna be on the right.\n\n280\n00:15:30.470 --> 00:15:33.380\nSo doing that,\nyou may have to do something like,\n\n281\n00:15:33.380 --> 00:15:35.980\nI can either move it all the over or\nmove it back a little bit.\n\n282\n00:15:35.980 --> 00:15:39.610\nBut then, that's not the case for\nthe human-player paddles, you can actually\n\n283\n00:15:39.610 --> 00:15:43.180\njust move them right up to 0 because\nthen the direction has changed.\n\n284\n00:15:43.180 --> 00:15:46.277\nAnd that's because the reference for\na rectangle is the upper left-hand corner.\n\n285\n00:15:47.670 --> 00:15:52.253\nThere's one final thing\nthat would be an issue.\n\n286\n00:15:52.253 --> 00:15:53.651\nSo I'm going to put this paddle back.\n\n287\n00:15:53.651 --> 00:15:55.630\nI've constructed the paddle\nobject early on.\n\n288\n00:15:55.630 --> 00:15:59.536\nAnd what I've done is I've essentially\nsaid, Here are all my ingredients.\n\n289\n00:15:59.536 --> 00:16:05.140\nThis object.assign is going to go,\nlet's squish all those together.\n\n290\n00:16:05.140 --> 00:16:05.880\n&gt;&gt; Squishing is good.\n\n291\n00:16:05.880 --> 00:16:07.170\n&gt;&gt; Squish them all together.\n\n292\n00:16:07.170 --> 00:16:10.489\nNow, if this paddle object\nwas single object literal,\n\n293\n00:16:10.489 --> 00:16:14.736\nI would not do this because it would\nactually change the paddle object.\n\n294\n00:16:14.736 --> 00:16:20.291\nBut since this is a function that returns\nnew paddle objects every time I call it,\n\n295\n00:16:20.291 --> 00:16:21.280\nI can do this.\n\n296\n00:16:21.280 --> 00:16:25.190\nSo just be careful about that if you use\nthe left paddle equals curly braces,\n\n297\n00:16:25.190 --> 00:16:26.720\nlike we did early on for the ball.\n\n298\n00:16:28.640 --> 00:16:31.320\nYou may get some weird behavior,\nso keep that in mind.\n\n299\n00:16:31.320 --> 00:16:32.620\n&gt;&gt; Okey dokey.\n\n300\n00:16:32.620 --> 00:16:36.189\n&gt;&gt; I'm going to move this\ninto another file, and\n\n301\n00:16:36.189 --> 00:16:40.840\nwell we're gonna see\nsomething interesting happen.\n\n302\n00:16:40.840 --> 00:16:47.330\nI'm gonna move this and cut it, and\nI'm gonna create another file and\n\n303\n00:16:47.330 --> 00:16:52.292\nthat file is going to be\nsimplecomputerpaddle.js.\n\n304\n00:16:52.292 --> 00:16:53.840\nI'm just going to place that there.\n\n305\n00:16:53.840 --> 00:16:56.080\nDon't forget to put it in your index.html.\n\n306\n00:16:56.080 --> 00:16:58.180\nAnd it does rely on paddle.\n\n307\n00:17:00.100 --> 00:17:09.155\nOkay, so\nscript src=js/simple-computer-paddle,\n\n308\n00:17:09.155 --> 00:17:12.117\nlike that, okay.\n\n309\n00:17:12.117 --> 00:17:13.535\nSo there's simple-computer-paddle.\n\n310\n00:17:14.710 --> 00:17:16.690\nAnd you're like, that will all work,\n\n311\n00:17:16.690 --> 00:17:19.680\nand let's make sure everything's saved and\nit will be all good.\n\n312\n00:17:19.680 --> 00:17:22.154\nAnd it kinda is, right.\n\n313\n00:17:22.154 --> 00:17:23.130\n&gt;&gt; Kinda is.\n\n314\n00:17:23.130 --> 00:17:24.510\n&gt;&gt; And why is that?\n\n315\n00:17:26.160 --> 00:17:29.072\nWell if we come over here\nto simple computer paddle,\n\n316\n00:17:29.072 --> 00:17:30.869\nit makes a reference to Canvas.\n\n317\n00:17:32.440 --> 00:17:34.390\nAnd let me just show you what I mean.\n\n318\n00:17:34.390 --> 00:17:36.910\nIf I were to grab this and\n\n319\n00:17:36.910 --> 00:17:40.530\nlet's say I start constructing\nthese objects early on, right.\n\n320\n00:17:40.530 --> 00:17:42.680\nI wanna get the paddle and all that.\n\n321\n00:17:44.570 --> 00:17:51.702\nBroke, and that's because the function\ncall that constructs this object,\n\n322\n00:17:51.702 --> 00:17:55.660\nthis is pulled into the global name space.\n\n323\n00:17:55.660 --> 00:18:00.976\nCanvas is available when this is called,\nhowever, if the Canvas,\n\n324\n00:18:00.976 --> 00:18:05.361\nthe Canvas variable, wow,\nforgot the word variable,\n\n325\n00:18:05.361 --> 00:18:09.770\nis not available when this is called,\nyour app breaks.\n\n326\n00:18:11.320 --> 00:18:13.598\nSo that almost seems to be a dependency,\nright.\n\n327\n00:18:14.940 --> 00:18:18.287\nA computer paddle needs to\nknow about the Canvas, okay.\n\n328\n00:18:19.540 --> 00:18:24.170\nAnd that actually might be something\nthat we need to do for all of these.\n\n329\n00:18:24.170 --> 00:18:26.910\nHowever, we're gonna do it for\nthe simple computer paddle for\n\n330\n00:18:26.910 --> 00:18:30.450\nnow because we're gonna do some\nrefactoring a little later on.\n\n331\n00:18:30.450 --> 00:18:36.370\nI'm gonna pass in the Canvas here, and now\nthis Canvas is scoped to this function.\n\n332\n00:18:37.880 --> 00:18:42.530\nIt needs to be passed in,\nthat helps me enforce that\n\n333\n00:18:42.530 --> 00:18:45.685\nI can't construct a computer paddle\nuntil there's a Canvas that exists.\n\n334\n00:18:45.685 --> 00:18:46.370\n&gt;&gt; Mm-hm.\n\n335\n00:18:46.370 --> 00:18:52.632\n&gt;&gt; So I'm gonna pass in the Canvas like\nso, and everything is a-okay, okay.\n\n336\n00:18:52.632 --> 00:18:53.920\n&gt;&gt; Okay.\n\n337\n00:18:53.920 --> 00:19:01.790\nAlso, I noticed there's some\nweirdness going on here, I think.\n\n338\n00:19:01.790 --> 00:19:06.780\nYeah, we kinda need to move that back\na little more, like a buffer agent, right.\n\n339\n00:19:06.780 --> 00:19:08.919\n&gt;&gt; Spread it out a bit.\n\n340\n00:19:08.919 --> 00:19:11.870\nSo we're just make a little tweak here.\n\n341\n00:19:11.870 --> 00:19:16.430\nMinus 20, right,\nthat's kind of our buffer.\n\n342\n00:19:16.430 --> 00:19:17.292\nAnd there we go.\n\n343\n00:19:17.292 --> 00:19:18.600\n&gt;&gt; Yay.\n&gt;&gt; That's probably a little better.\n\n344\n00:19:18.600 --> 00:19:21.720\nNow we can always come back and\ntweak those or make that optional.\n\n345\n00:19:21.720 --> 00:19:26.920\nBut keep in mind, by adding this Canvas\nas a past argument as a requirement,\n\n346\n00:19:26.920 --> 00:19:31.408\nas a required kind of argument,\nit breaks if you don't put it in.\n\n347\n00:19:31.408 --> 00:19:35.294\nWhich helps me remember, hey, I need to\nconstruct a Canvas before I can construct\n\n348\n00:19:35.294 --> 00:19:38.720\na paddle because without a Canvas\nthere's no point in having a paddle.\n\n349\n00:19:38.720 --> 00:19:40.350\n&gt;&gt; Right, Canvas can do miracles.\n\n350\n00:19:40.350 --> 00:19:43.340\n&gt;&gt; Yup, and so, don't do that.\n\n351\n00:19:43.340 --> 00:19:47.170\nWe're going to put that back in there,\nmove this over and\n\n352\n00:19:47.170 --> 00:19:49.580\nnow we have this simple computer panel.\n\n353\n00:19:49.580 --> 00:19:53.150\nAnd it's kind of interesting,\nif I come down here and look,\n\n354\n00:19:53.150 --> 00:19:58.820\nthis player, well this isn't actually\nthe player that needs to bounce anymore.\n\n355\n00:20:00.370 --> 00:20:06.150\nLet's do one more thing to\nmake sure everything works.\n\n356\n00:20:07.190 --> 00:20:10.490\nAnd now we have a computer\nthat we can play against.\n\n357\n00:20:10.490 --> 00:20:12.250\nRight, it moves up and down.\n\n358\n00:20:12.250 --> 00:20:15.630\nAnd let me move this over so\nit's not behind my head here.\n\n359\n00:20:15.630 --> 00:20:17.780\nSo we now have this player, and\n\n360\n00:20:17.780 --> 00:20:21.320\nif this screen was this small then that\nwould be a really fast ball to play.\n\n361\n00:20:21.320 --> 00:20:22.740\n&gt;&gt; That would be real fast.\n\n362\n00:20:22.740 --> 00:20:23.786\n&gt;&gt; So we would have to tweak that.\n\n363\n00:20:23.786 --> 00:20:27.715\nBut notice this is now bouncing, and\n\n364\n00:20:27.715 --> 00:20:32.650\nthen I can also move my battle like so.\n\n365\n00:20:32.650 --> 00:20:33.750\n&gt;&gt; So we're getting closer.\n\n366\n00:20:33.750 --> 00:20:34.620\n&gt;&gt; We're getting closer.\n\n367\n00:20:34.620 --> 00:20:37.540\nThere's no collision detection,\nbut there is a simple strategy.\n\n368\n00:20:37.540 --> 00:20:41.620\nWe actually happened upon this simple\nstrategy from the outset of testing\n\n369\n00:20:41.620 --> 00:20:43.864\nthe paddle, just out of circumstance.\n\n370\n00:20:43.864 --> 00:20:46.907\nBut we did a little bit of refactoring\nhere to actually make it the simple\n\n371\n00:20:46.907 --> 00:20:49.730\ncomputer paddle, and\nthen we don't have to worry about it.\n\n372\n00:20:49.730 --> 00:20:51.580\n&gt;&gt; So Justin, that is a simple strategy.\n\n373\n00:20:52.780 --> 00:20:54.850\nCan we do other strategies?\n\n374\n00:20:54.850 --> 00:20:59.360\n&gt;&gt; We can, and\nlet me set the scene for you.\n\n375\n00:21:00.450 --> 00:21:03.840\nI'm pretty sure you could beat this one,\nright, this one isn't moving fast.\n\n376\n00:21:03.840 --> 00:21:08.550\nNow if we turned up the wick, so to speak,\nand just made this move really fast,\n\n377\n00:21:08.550 --> 00:21:11.335\nthen it's kind of like it's nowhere and\neverywhere at the same time.\n\n378\n00:21:11.335 --> 00:21:12.770\n&gt;&gt; Mm-hm.\n&gt;&gt; But as it stands,\n\n379\n00:21:12.770 --> 00:21:13.939\nthis one wouldn't be hard to beat.\n\n380\n00:21:15.130 --> 00:21:19.700\nHowever, what if every so\noften it got a little bigger?\n\n381\n00:21:19.700 --> 00:21:20.625\n&gt;&gt; Ooh.\n&gt;&gt; And then three\n\n382\n00:21:20.625 --> 00:21:25.090\nseconds later it got just a little bit\nbigger until a certain limit, right.\n\n383\n00:21:25.090 --> 00:21:28.494\nIf we filled up the entire space,\nwell that would become.\n\n384\n00:21:28.494 --> 00:21:30.233\n[CROSSTALK]\n&gt;&gt; Well you're not playing\n\n385\n00:21:30.233 --> 00:21:30.847\ncricket now lad.\n\n386\n00:21:30.847 --> 00:21:31.557\n&gt;&gt; [LAUGH] So\n\n387\n00:21:31.557 --> 00:21:37.450\nI think that would be interesting\nto see how we would implement that.\n\n388\n00:21:37.450 --> 00:21:41.880\nBecause there's probably a couple of,\nthat's, because I still want it to move,\n\n389\n00:21:41.880 --> 00:21:43.970\nbut I also want it to get bigger.\n\n390\n00:21:43.970 --> 00:21:48.370\nAnd I think that would be nice to see\nhow can we extend to more strategies,\n\n391\n00:21:48.370 --> 00:21:50.230\nright, to different strategies.\n\n392\n00:21:50.230 --> 00:21:54.000\nAnd you could always go crazy and\nlet the paddle know about the ball, and\n\n393\n00:21:54.000 --> 00:21:56.730\nthen track the ball, and things that.\n\n394\n00:21:56.730 --> 00:22:00.370\nBut I might leave that to an exercise,\nbut the growing paddle, maybe we'll come\n\n395\n00:22:00.370 --> 00:22:03.920\nback to that in a part two and actually\nimplement the growing paddle so to speak.\n\n396\n00:22:03.920 --> 00:22:07.210\n&gt;&gt; So creating the computer\nplayer paddle part two?\n\n397\n00:22:07.210 --> 00:22:09.890\nSeems like that just might happen,\nand has been part one.\n\n398\n00:22:09.890 --> 00:22:11.694\nJustin, before we move on,\nanything else you'd like to say?\n\n399\n00:22:11.694 --> 00:22:15.886\n&gt;&gt; Well as you recognize, we're getting\ncloser to actually having a game, right.\n\n400\n00:22:15.886 --> 00:22:17.370\nWhat do we have left?\n\n401\n00:22:17.370 --> 00:22:20.550\nWell we need collision for the paddles,\nwe need some way to keep score,\n\n402\n00:22:20.550 --> 00:22:23.910\nwe probably need to clean up\nour code a little bit, and\n\n403\n00:22:23.910 --> 00:22:27.190\nwe'll now have all of those planned out,\nwell, in store for you.\n\n404\n00:22:27.190 --> 00:22:29.530\nSo definitely stay tuned, don't miss them.\n\n405\n00:22:29.530 --> 00:22:32.810\n&gt;&gt; And we do need to eat a cream\ncheese iced chocolate cake as well.\n\n406\n00:22:32.810 --> 00:22:37.070\nSo make sure you see every single\nHTML5 Canvas projects episode, and\n\n407\n00:22:37.070 --> 00:22:38.600\ncheck out our course library.\n\n408\n00:22:38.600 --> 00:22:40.160\nAny of the hundreds and hundreds and\n\n409\n00:22:40.160 --> 00:22:43.520\nthousands of videos there,\nall designed to help you go further.\n\n410\n00:22:43.520 --> 00:22:47.040\nAnd make sure you tell everybody you know\nabout DevProTV, they'll be glad you did.\n\n411\n00:22:47.040 --> 00:22:49.320\nThanks for watching, I'm Zach Memos\n&gt;&gt; And I'm Justin Dennison.\n\n412\n00:22:49.320 --> 00:22:51.773\n&gt;&gt; And we will see you again soon.\n\n413\n00:22:51.773 --> 00:22:59.750\n&gt;&gt; [MUSIC]\n\n",
          "vimeoId": "235064919"
        },
        {
          "description": "Justin and Zach continue to create the computer paddle that the game will use to play against the human player, demonstrating how to create different strategies that can be applied to the computer player. Part 2.",
          "length": "1327",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-5-2-creating_the_computer_player_paddle_pt2-092217-PGM.00_22_40_03.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-5-2-creating_the_computer_player_paddle_pt2-092217-PGM.00_22_40_03.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-5-2-creating_the_computer_player_paddle_pt2-092217-PGM.00_22_40_03.Still001-sm.jpg",
          "title": "Creating the Computer Player Paddle Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.169 --> 00:00:10.169\n[MUSIC]\n\n2\n00:00:12.701 --> 00:00:13.829\nHello and thank you for\n\n3\n00:00:13.829 --> 00:00:16.810\nwatching DevPro.TV,\nhelping you learn wherever you go.\n\n4\n00:00:16.810 --> 00:00:21.455\nI'm your host, Zach Memos as we\ncontinue with HTML5 canvas projects.\n\n5\n00:00:21.455 --> 00:00:25.034\nWe're creating the computer player paddle,\npart two.\n\n6\n00:00:25.034 --> 00:00:27.640\nThere was a part one,\nmake sure you see that, it's important.\n\n7\n00:00:27.640 --> 00:00:29.680\nAnd the person bringing us all\nthe information we need for\n\n8\n00:00:29.680 --> 00:00:32.090\nthis subject is the one and\nonly, Justin Dennison.\n\n9\n00:00:32.090 --> 00:00:34.140\nJustin, good to see you sir,\nthanks for being with us.\n\n10\n00:00:34.140 --> 00:00:35.580\n&gt;&gt; Yeah,\nit's funny you should say I'm the one and\n\n11\n00:00:35.580 --> 00:00:37.475\nonly, I know another Justin Dennison.\n\n12\n00:00:37.475 --> 00:00:38.490\n[LAUGH]\n&gt;&gt; Really?\n\n13\n00:00:38.490 --> 00:00:42.440\n&gt;&gt; Yeah, it's crazy, for\nsome reason that just popped into my mind.\n\n14\n00:00:42.440 --> 00:00:43.620\nOne of the Justin Dennisons.\n\n15\n00:00:43.620 --> 00:00:45.920\nBefore we worry about that\nhow are you today Zach?\n\n16\n00:00:45.920 --> 00:00:48.380\n&gt;&gt; I'm great and I'm excited and\nthis has been a wonderful series.\n\n17\n00:00:48.380 --> 00:00:51.470\nAnd I want to see how we progress,\nlet's continue on.\n\n18\n00:00:51.470 --> 00:00:52.920\nHey, I do have a question for you though.\n\n19\n00:00:52.920 --> 00:00:58.210\nYou mentioned before about growing\nthe paddle, and changing it's size.\n\n20\n00:00:58.210 --> 00:01:00.020\nWhat exactly does that mean?\n\n21\n00:01:00.020 --> 00:01:03.180\n&gt;&gt; All right, so\nlet me further clarify my idea right.\n\n22\n00:01:03.180 --> 00:01:08.030\nI left off in a previous episode talking\nabout here's a strategy I have in my mind.\n\n23\n00:01:08.030 --> 00:01:09.910\nI like just coming up with\nthese random strategies.\n\n24\n00:01:09.910 --> 00:01:11.420\nI'm not saying they're optimal strategies,\n\n25\n00:01:11.420 --> 00:01:15.460\nthese are not an analysis of strategic\ndefense or whatever it may be.\n\n26\n00:01:16.560 --> 00:01:19.160\nBut I like to be a little\ncreative in this right, so\n\n27\n00:01:19.160 --> 00:01:24.430\nI was thinking if I'm moving about and\nsomeone figures out how to beat them.\n\n28\n00:01:24.430 --> 00:01:27.890\nWhat's one thing that I can do that\nwould change the dynamic of that\n\n29\n00:01:27.890 --> 00:01:28.460\ninteraction right?\n\n30\n00:01:28.460 --> 00:01:32.190\nIf I'm the player and\nthat's the computer yeah,\n\n31\n00:01:32.190 --> 00:01:34.850\nif I hit it this way,\nthen it's always gonna happen.\n\n32\n00:01:34.850 --> 00:01:39.930\nNow the bounce dynamics that we have\nin our game are fairly simplistic.\n\n33\n00:01:39.930 --> 00:01:43.290\nIf I'm moving up, I'm not gonna\ngive additional acceleration, so\n\n34\n00:01:43.290 --> 00:01:48.130\nwe're keeping this very simple for\njust a matter of learning, right?\n\n35\n00:01:49.730 --> 00:01:55.020\nHowever what if, after you're like aw,\nI'm consistently winning.\n\n36\n00:01:56.230 --> 00:01:58.920\nWhat if every so often,\nthe paddle just gets a little bit bigger?\n\n37\n00:01:58.920 --> 00:02:02.690\nAnd I'm thinking,\nif we do this suddenly enough,\n\n38\n00:02:02.690 --> 00:02:04.710\nit's gonna be hard to catch on\nthat the paddle's getting bigger.\n\n39\n00:02:06.020 --> 00:02:09.240\n&gt;&gt; So you're like, did that get bigger?\n\n40\n00:02:09.240 --> 00:02:10.190\nI don't know, I'm just gonna keep playing.\n\n41\n00:02:11.300 --> 00:02:13.080\nIs it bigger again?\n\n42\n00:02:13.080 --> 00:02:17.687\nSo I like to see,\nhey how big is it getting right?\n\n43\n00:02:19.980 --> 00:02:21.153\nNow with that said,\n\n44\n00:02:21.153 --> 00:02:25.270\nI think there's some finite limit\nthat we should place on there.\n\n45\n00:02:25.270 --> 00:02:28.610\nHow big should it get,\ncan it get the whole screen height?\n\n46\n00:02:28.610 --> 00:02:29.900\nCan it fill the entire canvas?\n\n47\n00:02:29.900 --> 00:02:31.720\nCuz then you can never win right?\n\n48\n00:02:31.720 --> 00:02:37.165\nThat's like going I'm going to beat\nthis wall at tennis, no you're not.\n\n49\n00:02:37.165 --> 00:02:40.950\n&gt;&gt; [LAUGH]\n&gt;&gt; Also how often should it get big?\n\n50\n00:02:40.950 --> 00:02:42.140\nHow much should it grow?\n\n51\n00:02:43.460 --> 00:02:47.830\nBut it's a very simple kind of change on\nthe simple computer panel that we built in\n\n52\n00:02:47.830 --> 00:02:51.290\npart one that would allow us to\nchange the dynamics of play.\n\n53\n00:02:51.290 --> 00:02:55.430\nAnd possibly a change in\ndifficulty levels so to speak,\n\n54\n00:02:55.430 --> 00:02:56.000\nso,\n&gt;&gt; Mm-hm.\n\n55\n00:02:56.000 --> 00:03:00.750\n&gt;&gt; That's kind of my thought process\nof what's our next computer strategy.\n\n56\n00:03:00.750 --> 00:03:05.090\nAnd hopefully it gives you,\nhey I have this thing that I can change\n\n57\n00:03:05.090 --> 00:03:08.400\none aspect of it and\nmake something different right?\n\n58\n00:03:08.400 --> 00:03:14.770\nCan I change, maybe it changes the speed,\nit slowly speeds up.\n\n59\n00:03:14.770 --> 00:03:16.080\nIt can be another thing.\n\n60\n00:03:16.080 --> 00:03:19.776\nSo I'm trying to give you a way\nto implement your own creative\n\n61\n00:03:19.776 --> 00:03:22.040\nversions of the computer strategy.\n\n62\n00:03:22.040 --> 00:03:23.600\n&gt;&gt; Options, options, options.\n\n63\n00:03:23.600 --> 00:03:25.600\n&gt;&gt; Yeah, exactly, exactly.\n\n64\n00:03:25.600 --> 00:03:30.110\n&gt;&gt; One more thing too, are we gonna\nuse the human player paddle or\n\n65\n00:03:30.110 --> 00:03:32.390\nthe computer player paddle as a platform?\n\n66\n00:03:32.390 --> 00:03:35.620\n&gt;&gt; So we could use the paddle,\nwe could use the human player paddle, or\n\n67\n00:03:35.620 --> 00:03:37.298\nwe could use the simple\ncomputer player paddle.\n\n68\n00:03:37.298 --> 00:03:40.655\nSimple computer paddle,\nI think there's no player in there.\n\n69\n00:03:40.655 --> 00:03:42.190\n[LAUGH]\n&gt;&gt; It's simple.\n\n70\n00:03:42.190 --> 00:03:46.566\n&gt;&gt; There's a whole lot there,\nnaming is hard, but\n\n71\n00:03:46.566 --> 00:03:50.743\nI want to preserve\nthe movement aspect right.\n\n72\n00:03:50.743 --> 00:03:56.122\nNot by keyboard shortcuts,\nI don't want it to not move.\n\n73\n00:03:56.122 --> 00:03:59.110\nI actually want it to move like\nin a simple computer paddle.\n\n74\n00:03:59.110 --> 00:04:03.670\nSo what I'm going to do is\nuse that as my scaffold.\n\n75\n00:04:03.670 --> 00:04:07.881\nSo if you think about it, I have my\npaddle, and I lay it on top of that.\n\n76\n00:04:07.881 --> 00:04:10.430\nAnd if we go with the cake analogy,\nI have my cake which is my paddle.\n\n77\n00:04:10.430 --> 00:04:12.500\n&gt;&gt; I like that.\n&gt;&gt; And then I put my cream cheese icing\n\n78\n00:04:12.500 --> 00:04:15.620\non there,\nwhich was my simple computer paddle.\n\n79\n00:04:15.620 --> 00:04:20.340\nAnd now I'm just gonna put some sprinkles,\nactually crushed up Heath bars,\n\n80\n00:04:20.340 --> 00:04:21.520\nright on top of there.\n\n81\n00:04:22.660 --> 00:04:27.020\nAnd that's going to be my\ngrowing paddle right, boom.\n\n82\n00:04:27.020 --> 00:04:29.408\n&gt;&gt; I know what I'm doing\nafter this episode.\n\n83\n00:04:29.408 --> 00:04:33.304\n[LAUGH] There's a vending\nmachine with my name on it.\n\n84\n00:04:33.304 --> 00:04:35.532\n&gt;&gt; [LAUGH] I made Zach hungry.\n\n85\n00:04:35.532 --> 00:04:39.830\nSo what I could so is I could remake\nthe cake and put icing on it again.\n\n86\n00:04:39.830 --> 00:04:43.840\nBut I already have the cake with icing\non it, the simple computer paddle.\n\n87\n00:04:43.840 --> 00:04:45.405\nI just need to put the sprinkles on it.\n\n88\n00:04:45.405 --> 00:04:46.890\n&gt;&gt; Ah-ha!\n&gt;&gt; So I'm gonna use the simple computer\n\n89\n00:04:46.890 --> 00:04:53.130\npaddle as a platform to build\nthis growing computer paddle.\n\n90\n00:04:53.130 --> 00:04:55.940\nSo that's kinda my thought process and\n\n91\n00:04:55.940 --> 00:04:59.290\nthat's actually a very good observation so\nto speak.\n\n92\n00:04:59.290 --> 00:05:02.600\nSo I think now Zack,\nif you have no objections,\n\n93\n00:05:02.600 --> 00:05:04.140\nwe should probably go ahead and-\n&gt;&gt; Absolutely.\n\n94\n00:05:04.140 --> 00:05:04.970\n&gt;&gt; Get started on here.\n\n95\n00:05:04.970 --> 00:05:06.130\n&gt;&gt; Let's go.\n&gt;&gt; Let's go ahead and\n\n96\n00:05:06.130 --> 00:05:08.010\ntake a look at my screen.\n\n97\n00:05:08.010 --> 00:05:12.008\nAnd this is where we left off, we had\nthis simple paddle moving up and down.\n\n98\n00:05:12.008 --> 00:05:16.920\nAnd how our SimpleComputerPaddle\ntakes the canvas object,\n\n99\n00:05:16.920 --> 00:05:19.610\nbecause it needs to be able to\narrange itself within the canvas.\n\n100\n00:05:19.610 --> 00:05:21.970\nAnd as I said in the previous episode,\n\n101\n00:05:21.970 --> 00:05:26.000\nwe'll probably do some changes around and\nmake this a little more uniform.\n\n102\n00:05:26.000 --> 00:05:30.160\nBut If you're starting to learn,\nit's hard to pre-plan everything.\n\n103\n00:05:30.160 --> 00:05:33.760\nYou're gonna say,\nI see this needs to happen.\n\n104\n00:05:33.760 --> 00:05:35.188\nLet's go back and change that.\n\n105\n00:05:35.188 --> 00:05:41.250\nNow the SimpleComputerPaddle,\nthat's gonna be our platform.\n\n106\n00:05:41.250 --> 00:05:43.485\nBut what I want is\na growing computer paddle.\n\n107\n00:05:43.485 --> 00:05:45.250\n&gt;&gt; Mm-hm.\n\n108\n00:05:45.250 --> 00:05:53.230\n&gt;&gt; So\nI'm gonna say const GrowingComputerPaddle.\n\n109\n00:05:53.230 --> 00:05:54.520\nAnd what does that need?\n\n110\n00:05:54.520 --> 00:05:59.290\nWell, we'll not worry about it for\nnow, and there we go.\n\n111\n00:05:59.290 --> 00:06:03.911\nAnd then I'm going to return\nObject.assign as I always\n\n112\n00:06:03.911 --> 00:06:07.290\nhave in these kind of constructions.\n\n113\n00:06:07.290 --> 00:06:09.072\nAnd I'm gonna formention,\n\n114\n00:06:09.072 --> 00:06:13.270\nthere's a bunch of different\nways to get similar behaviors.\n\n115\n00:06:13.270 --> 00:06:15.440\nI don't know if I've\nmade this entirely clear.\n\n116\n00:06:15.440 --> 00:06:19.006\nThe object that I've assigned\nis fairly new but it's something\n\n117\n00:06:19.006 --> 00:06:23.838\nthat allows me to think of, I'm composing\nnot truly as in mathematical composition.\n\n118\n00:06:23.838 --> 00:06:25.816\nBut I'm taking these individual pieces and\n\n119\n00:06:25.816 --> 00:06:28.120\nI'm kind of layering them\non top of each other.\n\n120\n00:06:28.120 --> 00:06:29.990\nYou can do that a bunch of different ways.\n\n121\n00:06:29.990 --> 00:06:33.990\nYou have the class that was introduced\nin new versions of JavaScript so\n\n122\n00:06:33.990 --> 00:06:35.880\nI could build classes that\ninherit from each other.\n\n123\n00:06:35.880 --> 00:06:40.950\nI could use old constructor\nfunctions that call other functions,\n\n124\n00:06:40.950 --> 00:06:43.340\nI can change the prototype.\n\n125\n00:06:43.340 --> 00:06:45.080\nI can do a bunch of things.\n\n126\n00:06:45.080 --> 00:06:50.290\nI think this is a little easier to think\nabout the layering effect, for me anyway.\n\n127\n00:06:50.290 --> 00:06:54.090\nSo I would love to hear from you\nif you find that to be different.\n\n128\n00:06:54.090 --> 00:06:56.114\nSo here's our GrowingComputerPaddle and\n\n129\n00:06:56.114 --> 00:06:58.708\nwe're going to simulate in\na SimpleComputerPaddle.\n\n130\n00:06:58.708 --> 00:07:00.059\nNotice we made the paddle first.\n\n131\n00:07:01.660 --> 00:07:05.577\nAnd then because we might\nneed to use it righ?.\n\n132\n00:07:06.890 --> 00:07:10.680\nWell I want to make the,\nwhere did I go, there we go.\n\n133\n00:07:10.680 --> 00:07:15.470\nI want to make the paddle and\nI'm still gonna call it paddle.\n\n134\n00:07:15.470 --> 00:07:19.440\nBut notice SimpleComputerPaddle\nis a type of paddle so\n\n135\n00:07:19.440 --> 00:07:21.700\nI'm not gonna name\nthe variables differently.\n\n136\n00:07:21.700 --> 00:07:27.790\nSo SimpleComputerPaddle but we know that\nthe canvas is needed as an argument.\n\n137\n00:07:27.790 --> 00:07:30.550\nOr if I need to construct\nsomething internal to\n\n138\n00:07:30.550 --> 00:07:32.502\nthis kinda function that's\nbuilding our object.\n\n139\n00:07:32.502 --> 00:07:38.040\nThe GrowingComputerPaddle also needs\nthe canvas passed in as an argument,\n\n140\n00:07:38.040 --> 00:07:40.610\nbecause I'm gonna need it to\nconstruct something else, right?\n\n141\n00:07:40.610 --> 00:07:43.050\nIt's kind of like, what tools and\n\n142\n00:07:43.050 --> 00:07:45.990\ncollection of goods do I\nneed in order to make it?\n\n143\n00:07:45.990 --> 00:07:50.650\nYou can't make cream cheese icing\nwithout cream cheese, right?\n\n144\n00:07:50.650 --> 00:07:53.202\nSo that's kind of the thought process.\n\n145\n00:07:53.202 --> 00:07:55.129\n&gt;&gt; You can use tofu, but\nit's gonna be nearly as good.\n\n146\n00:07:55.129 --> 00:07:59.024\n&gt;&gt; That is, nearly as good?\n\n147\n00:07:59.024 --> 00:08:00.410\nI don't even know if I would use nearly.\n\n148\n00:08:00.410 --> 00:08:01.572\n&gt;&gt; [LAUGH]\n&gt;&gt; But But that's my opinion,\n\n149\n00:08:01.572 --> 00:08:02.411\nthat's my opinion.\n\n150\n00:08:02.411 --> 00:08:06.670\nSo we're gonna make this changes object\nand well, let's just go ahead and\n\n151\n00:08:06.670 --> 00:08:07.830\nput these in place.\n\n152\n00:08:08.850 --> 00:08:12.230\nSo paddle and changes, okay.\n\n153\n00:08:12.230 --> 00:08:16.747\nSo we should be able to construct\na growing computer paddle as it stands,\n\n154\n00:08:16.747 --> 00:08:19.572\nlet's change out our computer player here.\n\n155\n00:08:21.446 --> 00:08:26.216\nRight there, and everything still stays\nthe same, because technically all we've\n\n156\n00:08:26.216 --> 00:08:29.970\ndone is build a simple computer panel,\nnot changed anything.\n\n157\n00:08:29.970 --> 00:08:31.120\n&gt;&gt; Right.\n\n158\n00:08:31.120 --> 00:08:34.100\n&gt;&gt; And then boom, there we go, okay?\n\n159\n00:08:34.100 --> 00:08:38.290\nSo if we refresh, and look,\nit still behaves exactly as it did.\n\n160\n00:08:38.290 --> 00:08:43.380\n&gt;&gt; Right.\n&gt;&gt; Okay, now also just as a reminder,\n\n161\n00:08:43.380 --> 00:08:46.310\nwe have some other methods\nthat we have to be aware of.\n\n162\n00:08:46.310 --> 00:08:47.450\nWe gotta be careful.\n\n163\n00:08:48.750 --> 00:08:52.430\nWe have bounceY, right,\nthat's gonna do our bouncing.\n\n164\n00:08:52.430 --> 00:08:54.860\nAnd we have update, so\nthose are coming along for the ride.\n\n165\n00:08:54.860 --> 00:09:00.100\nUnless we reuse those names,\nthen those are going to be changed, okay.\n\n166\n00:09:01.180 --> 00:09:03.120\nSo let's think about this,\n\n167\n00:09:03.120 --> 00:09:08.670\nI'm thinking that we probably need some\nadditional attributes for these changes.\n\n168\n00:09:08.670 --> 00:09:13.730\nWe need not only the x and the y and\nthe dy and the color and things\n\n169\n00:09:13.730 --> 00:09:18.240\nof that nature, but we probably need-\n&gt;&gt; Wait for it.\n\n170\n00:09:18.240 --> 00:09:19.630\n&gt;&gt; Let's see.\n&gt;&gt; Wait for it.\n\n171\n00:09:19.630 --> 00:09:23.070\n&gt;&gt; Let's see a last change,\n\n172\n00:09:23.070 --> 00:09:27.850\nand as soon as this constructed I just\nwanna grab the date that is right now.\n\n173\n00:09:27.850 --> 00:09:31.950\nSo I need to keep track of time because\nI don't want it to grow real fast.\n\n174\n00:09:31.950 --> 00:09:35.180\nI actually want it to go\nit's been three seconds.\n\n175\n00:09:35.180 --> 00:09:36.660\nI'm thinking three seconds is pretty good.\n\n176\n00:09:36.660 --> 00:09:41.940\nWe'll need some tweaking, but\nspeaking of that, I think maybe the grow\n\n177\n00:09:43.680 --> 00:09:50.900\ntime is three and this is going to\nbe seconds before the next growth.\n\n178\n00:09:54.310 --> 00:10:01.190\nSo there's that, I think we're\ngoing to need that and then what?\n\n179\n00:10:01.190 --> 00:10:04.352\nIf it's going to change how\nmuch should it change by?\n\n180\n00:10:04.352 --> 00:10:08.520\nSo dHeight and\n\n181\n00:10:08.520 --> 00:10:13.060\nI'm thinking because of how big it is,\n200.\n\n182\n00:10:13.060 --> 00:10:16.630\nBut these are hard coded so\nI'm just trying to get a feel for\n\n183\n00:10:16.630 --> 00:10:20.310\nthis, since we had the canvas object,\nright?\n\n184\n00:10:20.310 --> 00:10:24.660\nWe could make it dynamic based on\nthe relative size of the canvas, but\n\n185\n00:10:24.660 --> 00:10:25.970\nlet's just get it working first and\n\n186\n00:10:25.970 --> 00:10:28.924\nthen we'll worry about that probably\nduring our later refactoring phase.\n\n187\n00:10:28.924 --> 00:10:34.826\nAnd then height limit,\nI'm thinking that it's probably,\n\n188\n00:10:34.826 --> 00:10:41.767\nyou know what excuse me, this just hit me,\nthat's a giant growth spurt\n\n189\n00:10:41.767 --> 00:10:46.280\n[LAUGH] [SOUND] What I meant to say was-\n&gt;&gt; You ate a lot of chocolate?\n\n190\n00:10:46.280 --> 00:10:50.250\n&gt;&gt; What I meant to say was is\nthe height should be kept I\n\n191\n00:10:51.690 --> 00:10:57.050\nthink at the very,\nlet's just say 500 pixels.\n\n192\n00:10:57.050 --> 00:11:00.920\nNow I know my canvas is\nfairly large comparatively,\n\n193\n00:11:00.920 --> 00:11:02.350\nactually let's cut it down just a little.\n\n194\n00:11:02.350 --> 00:11:05.440\nLet's go 400 pixels and\nagain this is a one to one scale.\n\n195\n00:11:05.440 --> 00:11:07.480\nI haven't changed the scale to context.\n\n196\n00:11:07.480 --> 00:11:08.370\nSo this is how my reason.\n\n197\n00:11:08.370 --> 00:11:11.210\nIf you do change that,\nthen things get a little wierd.\n\n198\n00:11:11.210 --> 00:11:13.380\nAnd then, you know,\nin order to make this work,\n\n199\n00:11:13.380 --> 00:11:16.220\nwe're probably gonna have to\nchange the update function.\n\n200\n00:11:18.607 --> 00:11:24.915\nBut now when we've run into a problem,\nif we change the update function,\n\n201\n00:11:24.915 --> 00:11:31.140\nthat is going to change the behavior\nof the movement, that is a problem.\n\n202\n00:11:31.140 --> 00:11:39.476\nWhat I want is maybe just to grab\nthe SimpleComputerPaddle and\n\n203\n00:11:39.476 --> 00:11:43.100\nmove that over, right?\n\n204\n00:11:43.100 --> 00:11:46.350\nSo what is the update function\nof the SimpleComputerPaddle do?\n\n205\n00:11:46.350 --> 00:11:49.290\nIt's actually doing the movement for us.\n\n206\n00:11:49.290 --> 00:11:51.910\nSo now we don't have to alias.\n\n207\n00:11:51.910 --> 00:11:54.330\n&gt;&gt; So why is that necessary?\n\n208\n00:11:54.330 --> 00:11:55.470\nIs that necessary?\n\n209\n00:11:58.720 --> 00:12:00.590\n&gt;&gt; Actually, let's do this Zach.\n\n210\n00:12:00.590 --> 00:12:01.545\nIt is necessary.\n\n211\n00:12:01.545 --> 00:12:02.280\n&gt;&gt; Okay.\n\n212\n00:12:02.280 --> 00:12:08.570\n&gt;&gt; Let's say that I, well in my experience\nwe may see some kind of magic here.\n\n213\n00:12:09.600 --> 00:12:14.110\nWhat I would like to do is essentially\nthis, I want to run the paddle update.\n\n214\n00:12:14.110 --> 00:12:18.720\nBut what that's gonna do is\nnow that this is returned,\n\n215\n00:12:18.720 --> 00:12:24.850\nmy paddle update is effectively going\nto be the update of this object.\n\n216\n00:12:24.850 --> 00:12:27.560\nBecause I've kind of smushed\nall of them together.\n\n217\n00:12:27.560 --> 00:12:31.563\nSo what this will do is it'll say call\nupdate, hey immediately call update,\n\n218\n00:12:31.563 --> 00:12:36.139\ncall update, call update, and we'll get a\nrecursive kind of call stack shenanigans.\n\n219\n00:12:36.139 --> 00:12:39.139\nIn order to not have that happen,\n\n220\n00:12:39.139 --> 00:12:45.590\nwhat I really want is paddle.update,\nI want to kind of alias that.\n\n221\n00:12:45.590 --> 00:12:46.400\n&gt;&gt; Okay.\n\n222\n00:12:46.400 --> 00:12:49.720\n&gt;&gt; So I can still use it,\nI'm grabbing that method, and\n\n223\n00:12:49.720 --> 00:12:52.520\nreally it is more about moving.\n\n224\n00:12:52.520 --> 00:12:56.105\nSo I'm going to alias that and say hey,\n\n225\n00:12:56.105 --> 00:13:00.400\npaddle.update is moved now because\nthat's a simple computer paddle.\n\n226\n00:13:00.400 --> 00:13:04.870\nAnd if we come over to simple computer\npaddle, there it is, that's it.\n\n227\n00:13:04.870 --> 00:13:07.070\nSo I just want this function.\n\n228\n00:13:07.070 --> 00:13:12.230\nAnd instead of having to retype that and\nboom, I'm just gonna alias it.\n\n229\n00:13:12.230 --> 00:13:18.110\nAnd now I can say this.move like so,\nand here we go.\n\n230\n00:13:18.110 --> 00:13:21.980\nI'm going to show you these\ntwo respective things.\n\n231\n00:13:21.980 --> 00:13:25.517\nIt's still moving,\nlike that, okay, all right.\n\n232\n00:13:25.517 --> 00:13:29.900\nAnd I just realized that I\naccidentally made the height.\n\n233\n00:13:31.290 --> 00:13:33.520\nHere, I meant for this to be height limit.\n\n234\n00:13:33.520 --> 00:13:36.490\nI actually said, how much can it grow to?\n\n235\n00:13:36.490 --> 00:13:39.630\nAnd I forgot to put lim in here, so\nit made it giant right off the bat.\n\n236\n00:13:39.630 --> 00:13:41.110\n&gt;&gt; Giant.\n&gt;&gt; That's not what I want.\n\n237\n00:13:41.110 --> 00:13:43.820\nSo notice the moving's still working, but\n\n238\n00:13:43.820 --> 00:13:48.260\nthat's because I've aliased this and I'm\ncalling it inside of the update function.\n\n239\n00:13:48.260 --> 00:13:51.060\n&gt;&gt; Okay.\n&gt;&gt; Now the reason that still works is\n\n240\n00:13:51.060 --> 00:13:54.525\nbecause the this keyword,\nin the context of this,\n\n241\n00:13:54.525 --> 00:13:59.860\nof the growing computer paddle\nobject is the computer.\n\n242\n00:13:59.860 --> 00:14:04.920\nThe growing computer battle object,\nso this changes context, so\n\n243\n00:14:04.920 --> 00:14:06.760\nI'm kind leveraging that.\n\n244\n00:14:06.760 --> 00:14:10.050\nSo upon move, you know I'm thinking,\n\n245\n00:14:10.050 --> 00:14:16.500\nI probably need to see how long it's\nbeen since the last time we've grown.\n\n246\n00:14:16.500 --> 00:14:22.140\nLet's call it deltaTime and\nI'm going to say math.abs.\n\n247\n00:14:22.140 --> 00:14:25.670\nI'm using absolute so\nI don't have to worry about figuring out.\n\n248\n00:14:25.670 --> 00:14:27.020\nI just want to know the magnitude.\n\n249\n00:14:27.020 --> 00:14:27.900\nHow long has it been,\n\n250\n00:14:27.900 --> 00:14:31.982\nit doesn't matter whether I accidentally\nsubtract them in the wrong order.\n\n251\n00:14:31.982 --> 00:14:39.690\nThis.lastChange- date.now.\n\n252\n00:14:39.690 --> 00:14:41.910\nAnd you know what,\n\n253\n00:14:41.910 --> 00:14:47.670\nI'm pretty sure this gives me like\na weird seconds, or milliseconds, so\n\n254\n00:14:47.670 --> 00:14:51.290\nI want seconds, because I wanna be able to\nreason about it in seconds, fairly close.\n\n255\n00:14:51.290 --> 00:14:55.122\nNow, this is gonna sacrifice some\nprecision, but I'm okay with that.\n\n256\n00:14:55.122 --> 00:15:00.615\nSo now if(deltaTime &gt; this.growTime\n\n257\n00:15:00.615 --> 00:15:06.916\n&amp;&amp; this.height &lt; this.heightLimit) so\n\n258\n00:15:06.916 --> 00:15:15.325\nI'm guaranteeing because this\nis a paddle that has a height.\n\n259\n00:15:15.325 --> 00:15:16.490\n&gt;&gt; Right.\n\n260\n00:15:16.490 --> 00:15:18.830\n&gt;&gt; Right, because the simple\ncomputer paddle has a height, and\n\n261\n00:15:18.830 --> 00:15:20.820\nthat's an attribute that\nI haven't overwritten.\n\n262\n00:15:20.820 --> 00:15:24.870\nSo I'm guaranteeing that because this\nchocolate cake is made of chocolate,\n\n263\n00:15:24.870 --> 00:15:25.902\nI'm guaranteeing that.\n\n264\n00:15:25.902 --> 00:15:26.601\n&gt;&gt; [LAUGH] Cacao.\n\n265\n00:15:26.601 --> 00:15:31.910\n&gt;&gt; Cacao, so\nI want to increment the height\n\n266\n00:15:31.910 --> 00:15:36.610\nby whatever I've set as\nthe change in height, dHeight.\n\n267\n00:15:36.610 --> 00:15:40.422\nAnd then this last change, right?\n\n268\n00:15:40.422 --> 00:15:45.075\nWhen was the last time it changed,\nI actually need to update that\n\n269\n00:15:45.075 --> 00:15:50.171\nbecause it's now, right now,\nit's not upon object construction.\n\n270\n00:15:50.171 --> 00:15:54.329\nSo date.now as such and as a result,\n\n271\n00:15:54.329 --> 00:16:00.634\nwe should see over time this\nkind of slowly get bigger and\n\n272\n00:16:00.634 --> 00:16:04.806\nbigger and bigger And so let's see.\n\n273\n00:16:04.806 --> 00:16:10.748\nSo if I'm moving and is it getting\nbigger and bigger and bigger?\n\n274\n00:16:10.748 --> 00:16:14.176\nIt kind of looks like it's getting\nbigger and bigger and bigger to me.\n\n275\n00:16:14.176 --> 00:16:16.621\nBut how can we make sure, cuz it's got\na lot of movement and stuff, right?\n\n276\n00:16:16.621 --> 00:16:19.435\n&gt;&gt; Yeah.\n&gt;&gt; So here's what I'd recommend.\n\n277\n00:16:19.435 --> 00:16:21.504\nI wanna keep that movement but for now,\n\n278\n00:16:21.504 --> 00:16:25.374\nI'm just gonna remove the move\npart to see, is it getting bigger?\n\n279\n00:16:25.374 --> 00:16:26.157\n&gt;&gt; Awesome.\n\n280\n00:16:26.157 --> 00:16:29.910\n&gt;&gt; So is it getting bigger?\n\n281\n00:16:29.910 --> 00:16:32.429\n&gt;&gt; Yeah, I saw it move.\n\n282\n00:16:32.429 --> 00:16:34.610\n&gt;&gt; Is it?\n&gt;&gt; It moves a little bit.\n\n283\n00:16:34.610 --> 00:16:35.425\n&gt;&gt; It did, didn't it?\n\n284\n00:16:35.425 --> 00:16:36.454\nThere it was.\n\n285\n00:16:36.454 --> 00:16:37.000\n&gt;&gt; Yep.\n\n286\n00:16:37.000 --> 00:16:39.719\n&gt;&gt; So it's really subtle and this is-\n&gt;&gt; It is very subtle.\n\n287\n00:16:39.719 --> 00:16:41.921\n&gt;&gt; The trickery of this strategy.\n\n288\n00:16:41.921 --> 00:16:43.124\n&gt;&gt; It's shenanigans.\n\n289\n00:16:43.124 --> 00:16:48.299\n&gt;&gt; Because it's moving and we have\nthat trail, is that getting bigger?\n\n290\n00:16:48.299 --> 00:16:50.975\nI can't tell, but now that it's\nsitting still you can actually see.\n\n291\n00:16:50.975 --> 00:16:51.703\n&gt;&gt; Yeah, you can.\n\n292\n00:16:51.703 --> 00:16:52.773\n&gt;&gt; Right?\nYou move straight across,\n\n293\n00:16:52.773 --> 00:16:53.651\nit's getting bigger.\n\n294\n00:16:53.651 --> 00:16:56.210\nI did put a finite limit on that and\n\n295\n00:16:56.210 --> 00:17:00.428\nI also restricted it to happen every so\noften, right?\n\n296\n00:17:00.428 --> 00:17:04.253\nIf I move this outside and\njust to show you.\n\n297\n00:17:04.253 --> 00:17:09.591\nIf I didn't put that kind of guard,\nif I move this outside wee.\n\n298\n00:17:09.591 --> 00:17:12.265\n&gt;&gt; [LAUGH]\n&gt;&gt; Also there's no limit.\n\n299\n00:17:12.265 --> 00:17:13.608\nI'm not enforcing the high line.\n\n300\n00:17:13.608 --> 00:17:14.906\n&gt;&gt; Then you'd be playing against the wall.\n\n301\n00:17:14.906 --> 00:17:18.234\n&gt;&gt; Yeah, you're playing tennis against\nthe wall, and well you're never gonna win.\n\n302\n00:17:18.234 --> 00:17:24.187\nSo there's a little bit of things in\nthere and well, if you put back the move.\n\n303\n00:17:24.187 --> 00:17:28.686\nIt's even more subtle, but notice how\nwe've taken that chocolate cake with cream\n\n304\n00:17:28.686 --> 00:17:31.203\ncheese icing, the simple computer pattern.\n\n305\n00:17:31.203 --> 00:17:32.775\nAnd we've put heat bars on top of it.\n\n306\n00:17:32.775 --> 00:17:35.309\n&gt;&gt; Yeah.\n&gt;&gt; To add our growing computer panel,\n\n307\n00:17:35.309 --> 00:17:35.912\nand now,\n\n308\n00:17:35.912 --> 00:17:41.436\nwe're kind of just layering things that we\nneed while still enforcing the interface.\n\n309\n00:17:41.436 --> 00:17:47.141\nThe updating the render that we\nneed in order to keep things going.\n\n310\n00:17:47.141 --> 00:17:51.050\nNotice I just changed the name\nof the function call.\n\n311\n00:17:51.050 --> 00:17:56.104\nThis provides me the ability\nto explore these strategies,\n\n312\n00:17:56.104 --> 00:18:00.056\nbut also change difficulty\nlevels if need be.\n\n313\n00:18:00.056 --> 00:18:03.908\n&gt;&gt; So one final thing,\nthis is in the same file.\n\n314\n00:18:03.908 --> 00:18:06.534\nI'm not a big fan of that, right?\n\n315\n00:18:06.534 --> 00:18:08.223\nLet's do a little bit of reorganization.\n\n316\n00:18:08.223 --> 00:18:10.217\nTry to keep our ad.js small, there you go.\n\n317\n00:18:10.217 --> 00:18:12.591\nAnd I think we'll be good to go.\n\n318\n00:18:12.591 --> 00:18:18.867\nSo new file and\ngrowing computer paddle.js.\n\n319\n00:18:18.867 --> 00:18:24.834\nAnd let's grab this, and there we go.\n\n320\n00:18:24.834 --> 00:18:31.849\nSo cut it out, paste and boom.\n\n321\n00:18:31.849 --> 00:18:38.300\nDon't forget growing computer paddle-\n&gt;&gt; Yep.\n\n322\n00:18:38.300 --> 00:18:40.370\n&gt;&gt; Growing computer paddle,\nshould be there.\n\n323\n00:18:40.370 --> 00:18:44.761\nLet's make sure that it's all good,\nand yeah, it's back to working.\n\n324\n00:18:44.761 --> 00:18:48.987\nIt's all kind of slimmed up and\na little cleaner.\n\n325\n00:18:48.987 --> 00:18:52.538\nStill not quite as clean as\nI would like for it to be,\n\n326\n00:18:52.538 --> 00:18:56.518\nbut maybe our refactoring of\nthe game per se is coming up.\n\n327\n00:18:56.518 --> 00:18:59.663\n&gt;&gt; Yes, I did have another question for\nyou, just kinda backing up a little bit.\n\n328\n00:18:59.663 --> 00:19:01.036\nThe date portions, right?\n\n329\n00:19:01.036 --> 00:19:03.233\nDo we really need those?\n\n330\n00:19:03.233 --> 00:19:04.929\nIs that something we need to have?\n\n331\n00:19:04.929 --> 00:19:07.087\n&gt;&gt; So there's a couple of\ndifferent ways to manage that.\n\n332\n00:19:07.087 --> 00:19:10.552\nI find that dates,\nthis date.now is fairly new.\n\n333\n00:19:10.552 --> 00:19:16.708\nI find that dates are easy ways to\nkeep track of how long it's been.\n\n334\n00:19:16.708 --> 00:19:18.819\nSo do we need them?\n\n335\n00:19:18.819 --> 00:19:21.800\nNo, there's other ways,\nwe could just start counting, right?\n\n336\n00:19:21.800 --> 00:19:25.234\nOnce I count to a thousand,\nnow that's 60 frames per second.\n\n337\n00:19:25.234 --> 00:19:29.919\nLet's see, I bet a thousand would\nbe roughly ten seconds, right?\n\n338\n00:19:29.919 --> 00:19:31.707\n60 frames.\n\n339\n00:19:31.707 --> 00:19:33.768\nNo, no, no, I lied.\n\n340\n00:19:33.768 --> 00:19:40.039\n&gt;&gt; [LAUGH]\n&gt;&gt; It's about ten seconds ish.\n\n341\n00:19:40.039 --> 00:19:43.895\nDates though allow me to go,\nright now, subtract them and\n\n342\n00:19:43.895 --> 00:19:46.265\nthen I'm gonna get milliseconds.\n\n343\n00:19:46.265 --> 00:19:50.386\nDividing this by 1,000,\nwould give it to me in seconds roughly.\n\n344\n00:19:50.386 --> 00:19:56.005\nIt's not exact because the actual\nrendering and painting of the frame,\n\n345\n00:19:56.005 --> 00:20:00.161\nit gets scheduled by\nthe actual scheduling portion.\n\n346\n00:20:00.161 --> 00:20:04.252\nAnd this date.now,\nthat just allows me to do a quick check.\n\n347\n00:20:04.252 --> 00:20:08.487\nAnd make sure that I'm not\nincrementing the height forever, and\n\n348\n00:20:08.487 --> 00:20:11.338\nthat I'm imposing some kind of time limit.\n\n349\n00:20:11.338 --> 00:20:14.745\nSo absolutely necessary to use dates?\n\n350\n00:20:14.745 --> 00:20:18.500\nNo, but I find it to be the easiest.\n\n351\n00:20:18.500 --> 00:20:22.036\nBecause lastChange as a date\nminus right now, that'll give\n\n352\n00:20:22.036 --> 00:20:26.697\nme the difference between those times\nin milliseconds, if I'm not mistaken.\n\n353\n00:20:26.697 --> 00:20:29.608\nDivide by 1,000,\nthat'll give me the difference in seconds.\n\n354\n00:20:29.608 --> 00:20:34.541\nAnd then I can take a look,\nwell, has it been three seconds?\n\n355\n00:20:34.541 --> 00:20:39.390\nAnd it allows me to reason about in\nregular time instead of in computer time.\n\n356\n00:20:39.390 --> 00:20:44.080\nSo what I mean is if it's 60 frames per\nsecond and you've counted 60 times,\n\n357\n00:20:44.080 --> 00:20:47.320\nyou have to do a bunch of math to go,\nokay, it's counted 60 in computer time.\n\n358\n00:20:47.320 --> 00:20:50.758\nThat's been a computer second, and\nwhat I mean by computer time is,\n\n359\n00:20:50.758 --> 00:20:53.506\nif something causes performance\nto drop frame rates.\n\n360\n00:20:53.506 --> 00:20:57.324\nThen how long the time has passed\nis dependent on frame rates.\n\n361\n00:20:57.324 --> 00:21:01.860\nI want it to be more dependent\non my observational time space.\n\n362\n00:21:01.860 --> 00:21:03.720\nInstead of [CROSSTALK]\n&gt;&gt; That makes more sense too.\n\n363\n00:21:03.720 --> 00:21:04.660\n&gt;&gt; Yeah.\n&gt;&gt; Absolutely.\n\n364\n00:21:04.660 --> 00:21:09.274\nSo this been creating the computer player\npanel part two and there is a part one.\n\n365\n00:21:09.274 --> 00:21:10.838\nWatch them both, it's very important.\n\n366\n00:21:10.838 --> 00:21:12.230\nJustin, anything else you'd like to say?\n\n367\n00:21:12.230 --> 00:21:16.491\n&gt;&gt; Well I think it's time to start doing\na little bit of clean up in app.js and\n\n368\n00:21:16.491 --> 00:21:20.426\nmaybe even some of our index.html\nto make it a little more dynamic.\n\n369\n00:21:20.426 --> 00:21:23.862\nWe've started down that pathway by\npassing the Canvas object to our\n\n370\n00:21:23.862 --> 00:21:27.004\nrespective objects,\nI think we're going to need to do that.\n\n371\n00:21:27.004 --> 00:21:30.504\nThat's gonna take probably a little big\nof work, a little big of thought process,\n\n372\n00:21:30.504 --> 00:21:32.312\nchasing some bugs, but it's necessary.\n\n373\n00:21:32.312 --> 00:21:35.245\nIt's probably gonna make some\nadditional features a little easier.\n\n374\n00:21:35.245 --> 00:21:37.410\nSo probably a good time to start that.\n\n375\n00:21:37.410 --> 00:21:38.873\n&gt;&gt; Well,\nyou're doing an awesome job, Justin.\n\n376\n00:21:38.873 --> 00:21:40.690\nYou always do.\nHTML5 Canvas projects,\n\n377\n00:21:40.690 --> 00:21:44.067\nyou wanna see all the episodes,\nyou'll be glad you did there.\n\n378\n00:21:44.067 --> 00:21:47.825\nAnd check out the course library, all\nthe hundreds and thousands of courses and\n\n379\n00:21:47.825 --> 00:21:48.902\nvideos we have there.\n\n380\n00:21:48.902 --> 00:21:53.534\nAll designed to help you go further,\nand tell everybody about DevPro.TV.\n\n381\n00:21:53.534 --> 00:21:54.528\nThey'll be glad you did.\n\n382\n00:21:54.528 --> 00:21:55.046\nThanks for watching.\n\n383\n00:21:55.046 --> 00:21:56.151\nI'm Zach Memis.\n\n384\n00:21:56.151 --> 00:21:56.790\n&gt;&gt; And I'm Justin Memos.\n\n385\n00:21:56.790 --> 00:21:58.133\n&gt;&gt; And we will see you again very soon.\n\n386\n00:21:58.133 --> 00:22:03.298\n[MUSIC]\n\n",
          "vimeoId": "235064303"
        },
        {
          "description": "Justin and Zach add some structure to the Game by creating a managing Game Object that will oversee the Game, and setting up further expansion to score inclusion & other \"setup\" plus \"managed\" features. Part 1.",
          "length": "1149",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-6-1-refactoring_into_a_game_object-092217.00_19_01_07.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-6-1-refactoring_into_a_game_object-092217.00_19_01_07.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-6-1-refactoring_into_a_game_object-092217.00_19_01_07.Still001-sm.jpg",
          "title": "Refactoring into a Game Object",
          "transcript": "WEBVTT\n\n1\n00:00:00.229 --> 00:00:10.229\n[MUSIC]\n\n2\n00:00:12.969 --> 00:00:13.992\nHello, and thank you for\n\n3\n00:00:13.992 --> 00:00:16.765\nchoosing DEVPRO.TV,\nhelping you learn wherever you go.\n\n4\n00:00:16.765 --> 00:00:21.305\nI'm your host Zach Memos as we continue\non with HTML Canvas Projects, and\n\n5\n00:00:21.305 --> 00:00:24.615\nwe're going to be refactoring\ninto a game object right now.\n\n6\n00:00:24.615 --> 00:00:26.355\nNow what does that all mean?\n\n7\n00:00:26.355 --> 00:00:29.505\nWell, we have our IT expert right here,\nJustin Dennison, to tell us.\n\n8\n00:00:29.505 --> 00:00:30.674\nJustin, tell us!\n\n9\n00:00:30.674 --> 00:00:34.025\n[LAUGH]\n&gt;&gt; Well I am here to tell you.\n\n10\n00:00:34.025 --> 00:00:38.130\nRefactoring into a game, you're like\nJustin, you just made all those words up.\n\n11\n00:00:38.130 --> 00:00:39.670\n&gt;&gt; Bunch of words just floating around.\n\n12\n00:00:39.670 --> 00:00:40.200\n&gt;&gt; Possibly.\n\n13\n00:00:40.200 --> 00:00:42.310\nPossibly.\nI could have done it just to troll Zack.\n\n14\n00:00:42.310 --> 00:00:43.040\nRight?\n\n15\n00:00:43.040 --> 00:00:46.040\nZack, I'm gonna give you this title\nthat doesn't actually mean anything.\n\n16\n00:00:46.040 --> 00:00:47.830\nAnd I want you to memorize and say it.\n\n17\n00:00:47.830 --> 00:00:52.240\nSo a common practice is,\nis we kind of make these things, right,\n\n18\n00:00:52.240 --> 00:00:53.100\nwe get things working.\n\n19\n00:00:53.100 --> 00:00:57.420\nAnd we go, that's kind of messy, and\nI don't like how this is done and\n\n20\n00:00:57.420 --> 00:00:59.208\nthen we need to come back and\nmake it better, right?\n\n21\n00:00:59.208 --> 00:01:04.110\nWe're gonna re-factor our code\nto accomplish the same end goal,\n\n22\n00:01:05.360 --> 00:01:09.080\nbut being a little more structured, a\nlittle more extensible if that's our goal.\n\n23\n00:01:10.260 --> 00:01:12.120\nMaybe we factor for performance.\n\n24\n00:01:12.120 --> 00:01:14.450\nWell, I got it working but\nwow, this is real slow.\n\n25\n00:01:14.450 --> 00:01:15.780\nHow can I change that?\n\n26\n00:01:15.780 --> 00:01:17.300\nSo there's a lot of reasons.\n\n27\n00:01:17.300 --> 00:01:21.720\nFor me, its about code organization and\njust kind of the thought process.\n\n28\n00:01:21.720 --> 00:01:25.812\nBecause all of this is kind of\nsquished together, tightly coupled.\n\n29\n00:01:25.812 --> 00:01:28.690\nWe have some global variables\nwandering around that\n\n30\n00:01:28.690 --> 00:01:31.050\nmaybe you relied on in other places.\n\n31\n00:01:31.050 --> 00:01:32.950\nAnd I don't particularly like that.\n\n32\n00:01:32.950 --> 00:01:36.560\nI want it to be if I want to\nuse a panel in another game or\n\n33\n00:01:36.560 --> 00:01:40.530\nsome other thing, I can just remove that\nfile, move it over, and it still works.\n\n34\n00:01:40.530 --> 00:01:42.910\nSo that's my goal in this.\n\n35\n00:01:42.910 --> 00:01:45.930\n&gt;&gt; So simply put,\nwhat do you mean by game object?\n\n36\n00:01:45.930 --> 00:01:47.048\nOr what are we talking about here?\n\n37\n00:01:47.048 --> 00:01:51.510\n&gt;&gt; Ahh, so as it stands now, our app.js\nis kind of behaving like our game object.\n\n38\n00:01:51.510 --> 00:01:53.920\nBut our canvas, our context,\n\n39\n00:01:53.920 --> 00:01:57.410\nthings of that nature have been kind\nof hoisted into the global scope.\n\n40\n00:01:57.410 --> 00:02:01.000\nNow I'm using const, which is block scope,\nbut because they're defined in this file,\n\n41\n00:02:01.000 --> 00:02:04.760\nthey kinda bubble up to the window\nobject and it's everywhere.\n\n42\n00:02:04.760 --> 00:02:06.410\nI don't want that.\n\n43\n00:02:06.410 --> 00:02:11.870\nIn addition to the canvas is\nthe defining element on the page.\n\n44\n00:02:11.870 --> 00:02:15.700\nI would rather like to be able to create a\ngame object that holds all internal state,\n\n45\n00:02:15.700 --> 00:02:20.130\nmanages objects, and\nonly exposes the methods we need.\n\n46\n00:02:20.130 --> 00:02:27.129\nBecause since these are all kinda global\nscope things, someone could overwrite.\n\n47\n00:02:27.129 --> 00:02:30.418\nLike what is the canvas, and\nstart breaking things, and\n\n48\n00:02:30.418 --> 00:02:32.200\nI could even do that on accident.\n\n49\n00:02:33.320 --> 00:02:35.450\nMoreover, how do you want to use it?\n\n50\n00:02:35.450 --> 00:02:40.723\nWell, I need to request animation frame\non main, on the main function on app.js.\n\n51\n00:02:40.723 --> 00:02:43.452\nNow really I would like to\nhave like a game dot main or\n\n52\n00:02:43.452 --> 00:02:47.000\na game dot run and\nthen that kicks off everything.\n\n53\n00:02:47.000 --> 00:02:51.053\nIn addition to any configuration that I\nneed to do is like all kind of mangled up,\n\n54\n00:02:51.053 --> 00:02:55.182\nand people would change that, and that\nmay be fun but it's not something I want.\n\n55\n00:02:55.182 --> 00:02:59.555\nWhat I would really want is I\nconstruct a game in particular,\n\n56\n00:02:59.555 --> 00:03:03.584\nI'm going to call it game to\nkeep it fairly general, but\n\n57\n00:03:03.584 --> 00:03:07.813\nwe could call it Homage or\nPing Pong or something, right?\n\n58\n00:03:07.813 --> 00:03:13.773\nBut I'm going to create that game and\nits going to give a selector ultimately,\n\n59\n00:03:13.773 --> 00:03:18.671\nand its going to give the options\nin order to construct the game.\n\n60\n00:03:18.671 --> 00:03:23.890\nAnd that way it's a little more general,\nit's a little more movable about.\n\n61\n00:03:23.890 --> 00:03:25.080\nI'll make this game that's nice to play.\n\n62\n00:03:25.080 --> 00:03:27.864\nBut what if I wanted to shrink it down,\nmake it small, and\n\n63\n00:03:27.864 --> 00:03:29.920\nput it part of a gallery, right?\n\n64\n00:03:29.920 --> 00:03:32.830\nWell then,\nI could still use the same files to\n\n65\n00:03:32.830 --> 00:03:37.315\ncreate that small gallery version of the\ngame instead of this large screen version.\n\n66\n00:03:37.315 --> 00:03:38.995\n&gt;&gt; Does that mean we have\nto change a lot of stuff?\n\n67\n00:03:38.995 --> 00:03:41.455\nI mean, what is the scope of work here,\nwhat are we talking about?\n\n68\n00:03:41.455 --> 00:03:42.975\n&gt;&gt; So, here's what we're gonna do.\n\n69\n00:03:42.975 --> 00:03:46.685\nOur initial stage is going to be,\nlet's just get it into an object.\n\n70\n00:03:46.685 --> 00:03:49.445\nAnd because of the way\nwe've written the app.js,\n\n71\n00:03:49.445 --> 00:03:54.225\nI'm gonna use a pattern that essentially\ncreates a function that returns an object.\n\n72\n00:03:55.230 --> 00:03:57.170\nAnd then does all of the work inside.\n\n73\n00:03:57.170 --> 00:04:01.155\nSo now my canvas is gonna be\nscoped to the game object.\n\n74\n00:04:01.155 --> 00:04:03.680\nFunction scope instead of\n[INAUDIBLE] To the window.\n\n75\n00:04:04.760 --> 00:04:09.340\nAfter we do that, we're half, not only\nare we refactoring it as a game object,\n\n76\n00:04:09.340 --> 00:04:12.350\nwhat you'll find is associated\nthings may also need to change.\n\n77\n00:04:12.350 --> 00:04:15.910\nWe started down a path of the paddles,\nof passing in the canvas so\n\n78\n00:04:15.910 --> 00:04:18.880\nthey're a little more dynamic in their\nplacement and possibly even their size.\n\n79\n00:04:18.880 --> 00:04:22.760\nSo I think we want to instill that,\nin addition to it would be nice if\n\n80\n00:04:22.760 --> 00:04:26.625\nthe ball knew about the canvas because\nthat determines the boundaries.\n\n81\n00:04:26.625 --> 00:04:27.445\n&gt;&gt; Right.\n&gt;&gt; Right, so\n\n82\n00:04:27.445 --> 00:04:32.770\nif if the ball is made aware of\nthe canvas, well then it could self check.\n\n83\n00:04:32.770 --> 00:04:34.690\nAm I out of bounds, right?\n\n84\n00:04:34.690 --> 00:04:38.935\nWhen we're building these objects, it's\nnice to think of them anthropomorphically.\n\n85\n00:04:40.130 --> 00:04:40.670\nThink of you.\n\n86\n00:04:40.670 --> 00:04:43.090\nIf you were a ball on a tennis court, and\n\n87\n00:04:43.090 --> 00:04:47.560\nyou ran out of bounds, well yeah someone\nelse could call you out of bounds, but\n\n88\n00:04:47.560 --> 00:04:51.120\nyou yourself could also\ninform that individual.\n\n89\n00:04:51.120 --> 00:04:52.770\nHey, they would ask you.\n\n90\n00:04:52.770 --> 00:04:53.680\nHey, are you out of bounds?\n\n91\n00:04:53.680 --> 00:04:57.030\nAnd you'd look down and\ngo yeah I'm out of bounds.\n\n92\n00:04:57.030 --> 00:05:00.691\nSo I think it's easier to think\nabout this communication,\n\n93\n00:05:00.691 --> 00:05:05.672\nkind of this message passing which in an\nOOP context that's [CROSSTALK], yeah two\n\n94\n00:05:05.672 --> 00:05:10.726\nway communication instead of having all\nof the logic built into the game, right,\n\n95\n00:05:10.726 --> 00:05:15.268\nthis game object What I want to do is\nfurther explore making the individual\n\n96\n00:05:15.268 --> 00:05:20.029\nobjects aware of the constraints that\nthey need to follow, so they can answer\n\n97\n00:05:20.029 --> 00:05:24.394\nquestions or various other actions\nthat are asked of them by the game.\n\n98\n00:05:24.394 --> 00:05:28.646\nSo the game would be the moderator, and\nthen the objects conform to the rules of\n\n99\n00:05:28.646 --> 00:05:32.075\nthe game because of the constraints\nplaced on them by the game.\n\n100\n00:05:32.075 --> 00:05:35.640\nBut for instance Hey, ball,\nare you out of the top or bottom?\n\n101\n00:05:35.640 --> 00:05:36.540\nAnd it would go, no.\n\n102\n00:05:37.560 --> 00:05:42.020\nAnd then, if it is, the game's gonna say,\nlet's say it hits the top.\n\n103\n00:05:42.020 --> 00:05:44.640\nThe game's gonna go,\nwell I need you to turn around, right?\n\n104\n00:05:44.640 --> 00:05:45.200\n&gt;&gt; Hm.\n&gt;&gt; But\n\n105\n00:05:45.200 --> 00:05:48.590\nby changing how that works it's\ngonna become more readable, and\n\n106\n00:05:48.590 --> 00:05:51.990\na little easier to reason about\nwhat is my game logic versus\n\n107\n00:05:51.990 --> 00:05:53.850\nwhat is the internal state of my object?\n\n108\n00:05:53.850 --> 00:05:56.160\nThat's my personal opinion.\n\n109\n00:05:56.160 --> 00:05:57.206\nThat's how I view.\n\n110\n00:05:57.206 --> 00:05:58.838\nSo we're going to go down that path.\n\n111\n00:05:58.838 --> 00:06:00.006\nAnd then finally,\n\n112\n00:06:00.006 --> 00:06:04.824\nwe're going to add that little bit of\ndynamicism that I was talking about about\n\n113\n00:06:04.824 --> 00:06:08.560\nbeing able to only point to\na selector of an element on a page.\n\n114\n00:06:08.560 --> 00:06:12.989\nAnd then dynamically create the canvas,\ndynamically create how big the canvas is.\n\n115\n00:06:12.989 --> 00:06:17.872\nDynamically create how big the paddles and\nthe objects and placement are, so make it\n\n116\n00:06:17.872 --> 00:06:23.300\na little more dynamic so it's not as\nconstrained to this very particular case.\n\n117\n00:06:23.300 --> 00:06:28.750\nWith that said, that would allow us to\nget a little more, get a little closer to\n\n118\n00:06:28.750 --> 00:06:32.310\nactually being able to resize the canvas\nand have it respond appropriately.\n\n119\n00:06:32.310 --> 00:06:33.850\nSo, those are our three stages.\n\n120\n00:06:33.850 --> 00:06:40.280\nOur first one, fairly simple and I think,\nthat's probably good, a good point\n\n121\n00:06:40.280 --> 00:06:43.420\nto move toward and get finished before\nwe worry about any of the other stuff.\n\n122\n00:06:43.420 --> 00:06:46.790\n&gt;&gt; It's just cool to having\na self-aware ping pong ball.\n\n123\n00:06:46.790 --> 00:06:48.670\nI mean, that's cool.\n\n124\n00:06:48.670 --> 00:06:51.250\n&gt;&gt; When I say self-aware,\nyou're gonna ask me questions, and\n\n125\n00:06:51.250 --> 00:06:52.490\nit's gonna respond appropriately.\n\n126\n00:06:52.490 --> 00:06:53.472\n&gt;&gt; No, I know.\n&gt;&gt; If your ping pong\n\n127\n00:06:53.472 --> 00:06:56.364\nball starts moving around your room\nwithout you doing anything, then\n\n128\n00:06:56.364 --> 00:06:58.513\n&gt;&gt; So you should probably leave or\n\n129\n00:06:58.513 --> 00:07:03.675\nat least ask it what the lottery\nnumbers are or something, I don't know.\n\n130\n00:07:03.675 --> 00:07:06.007\n&gt;&gt; [LAUGH]\n&gt;&gt; But now that I've kind of outlaid our\n\n131\n00:07:06.007 --> 00:07:09.766\ngoal, let's go ahead and\ndo that first set of things, right?\n\n132\n00:07:09.766 --> 00:07:13.241\nLet's put our game object, get things\nmoved out of app.js, pare down app,js, and\n\n133\n00:07:13.241 --> 00:07:14.407\njust get it worked, right?\n\n134\n00:07:14.407 --> 00:07:15.580\n&gt;&gt; Make it lean.\n\n135\n00:07:15.580 --> 00:07:17.340\n&gt;&gt; So let's go ahead and do that.\n\n136\n00:07:17.340 --> 00:07:20.690\nLet's come into my screen here and\nI got a bunch of stuff open.\n\n137\n00:07:20.690 --> 00:07:24.720\nI'm actually gonna close\nall of that stuff.\n\n138\n00:07:24.720 --> 00:07:29.270\nBecause all we need is index.html.\n\n139\n00:07:29.270 --> 00:07:30.858\nCuz we'll have to add that, right?\n\n140\n00:07:30.858 --> 00:07:36.340\nWe need app.js, because that's\nwhere everything is right now.\n\n141\n00:07:36.340 --> 00:07:42.140\nAnd then we need to create the game.js,\nwhich is, which is gonna be our object.\n\n142\n00:07:42.140 --> 00:07:47.690\nIt's gonna be a function that returns\nan object that does stuff, okay?\n\n143\n00:07:47.690 --> 00:07:50.995\nSo let's go ahead and\ncreate that game object.\n\n144\n00:07:50.995 --> 00:07:53.110\nNot games, game.js.\n\n145\n00:07:53.110 --> 00:07:55.040\nNow, I'm just using game\nin a general sense.\n\n146\n00:07:55.040 --> 00:08:00.720\nI could say ping-pong or Or table tennis,\nor something like that, right?\n\n147\n00:08:00.720 --> 00:08:02.010\nBut, I'm just going to leave it as game,\n\n148\n00:08:02.010 --> 00:08:05.810\nbecause this could be applied to other\nscenarios other than this particular one.\n\n149\n00:08:05.810 --> 00:08:10.560\nAnd, I'm gonna says game equals, and I'm\njust gonna be here, the [INAUDIBLE] arrow\n\n150\n00:08:10.560 --> 00:08:14.130\nfunction is going to be very similar\nto what we have been doing before, and,\n\n151\n00:08:14.130 --> 00:08:16.130\nI'm going to have it return an object.\n\n152\n00:08:16.130 --> 00:08:20.440\nOkay, now I like to have functions that\nreturn things that I can interact with And\n\n153\n00:08:20.440 --> 00:08:24.753\nthis going to be necessary in order to\ninteract with the game inside of app.js.\n\n154\n00:08:24.753 --> 00:08:27.733\nSo app.js is kind of like our entry point,\nbut what is it going to do?\n\n155\n00:08:27.733 --> 00:08:29.945\nIts going to construct a game and\nactually get it running.\n\n156\n00:08:29.945 --> 00:08:30.480\n&gt;&gt; Yay.\n\n157\n00:08:30.480 --> 00:08:34.250\n&gt;&gt; Which is what it does now but there's\na lot of other stuff going on that is\n\n158\n00:08:34.250 --> 00:08:38.600\njust not creating the game, and setting\nit up and getting it started, right?\n\n159\n00:08:38.600 --> 00:08:39.990\n&gt;&gt; Why do we need a return of object?\n\n160\n00:08:39.990 --> 00:08:42.362\nWhy don't we just keep it where it is?\n\n161\n00:08:42.362 --> 00:08:42.979\nI mean\n&gt;&gt; So\n\n162\n00:08:42.979 --> 00:08:47.121\nultimately what we're gonna do inside of\nthis object is we're only going to expose\n\n163\n00:08:47.121 --> 00:08:49.869\nthe parts that we want\npeople to interact with.\n\n164\n00:08:49.869 --> 00:08:50.430\n&gt;&gt; Okay.\n\n165\n00:08:50.430 --> 00:08:54.410\n&gt;&gt; So you'll see here shortly,\nI'll have a bunch of characteristics and\n\n166\n00:08:54.410 --> 00:08:55.470\nthings in here.\n\n167\n00:08:55.470 --> 00:08:59.550\nThat this is how I emulate privacy,\nlike private variable types.\n\n168\n00:08:59.550 --> 00:09:00.330\n&gt;&gt; Okay.\n\n169\n00:09:00.330 --> 00:09:01.210\n&gt;&gt; Inside of JavaScript.\n\n170\n00:09:01.210 --> 00:09:05.390\nI don't have a private modifier\nlike some other languages have.\n\n171\n00:09:05.390 --> 00:09:09.830\nBut using, if I'm not mistaken,\nit has left me.\n\n172\n00:09:09.830 --> 00:09:12.300\nI think this was called\nthe revealing module pattern.\n\n173\n00:09:12.300 --> 00:09:17.930\nI'm exporting a module\nfrom a function call.\n\n174\n00:09:17.930 --> 00:09:18.560\nRight?\n\n175\n00:09:18.560 --> 00:09:23.910\nAnd then what that does is it keeps\nall the internal state secret and\n\n176\n00:09:23.910 --> 00:09:27.940\nit can only be modified through\nthe public API, which is the object.\n\n177\n00:09:27.940 --> 00:09:30.230\nSo what do I mean by public API?\n\n178\n00:09:30.230 --> 00:09:32.050\nWhatever the game object's\nactually gonna show.\n\n179\n00:09:32.050 --> 00:09:32.610\n&gt;&gt; Right.\n\n180\n00:09:32.610 --> 00:09:35.410\n&gt;&gt; So that's all you have that returned.\n\n181\n00:09:35.410 --> 00:09:39.900\nAnd also having functions that\nreturn stuff actually in general,\n\n182\n00:09:39.900 --> 00:09:42.180\nhelps reason about them.\n\n183\n00:09:42.180 --> 00:09:43.630\nThere's kinda like, console.log,\n\n184\n00:09:43.630 --> 00:09:48.030\nit just prints stuff to the console so\nthat's an exception to the rule.\n\n185\n00:09:48.030 --> 00:09:49.890\nSo, here's our app.js.\n\n186\n00:09:49.890 --> 00:09:52.450\nAnd you know what I'm\nthinking I'm gonna do?\n\n187\n00:09:52.450 --> 00:09:53.662\nI think I'm just gonna do this.\n\n188\n00:09:53.662 --> 00:09:57.730\nI think I'm just gonna cut all that out-\n&gt;&gt; [LAUGH]\n\n189\n00:09:57.730 --> 00:09:59.180\n&gt;&gt; And move it over to the game.\n\n190\n00:10:00.390 --> 00:10:01.430\nOkay.\n\n191\n00:10:01.430 --> 00:10:05.596\nNow, with that said, I still\n\n192\n00:10:05.596 --> 00:10:11.630\nhave these fat arrow functions,\nI still have some of this stuff.\n\n193\n00:10:11.630 --> 00:10:15.550\nI probably don't want to\nstart the game immediately,\n\n194\n00:10:15.550 --> 00:10:17.857\nso I'm going to remove that\nrequest animation, okay?\n\n195\n00:10:20.490 --> 00:10:24.730\nBut what this means is I'm gonna get\nan object that I'm not using the this\n\n196\n00:10:24.730 --> 00:10:25.480\ncontext with.\n\n197\n00:10:25.480 --> 00:10:27.790\nAnd that's perfectly\nokay using this pattern.\n\n198\n00:10:27.790 --> 00:10:30.210\nBecause effectively what I'm gonna\ndo is I'm gonna have Canvas.\n\n199\n00:10:30.210 --> 00:10:35.190\nBut Canvas is not gonna be available\neverywhere, only inside the game, right?\n\n200\n00:10:35.190 --> 00:10:37.530\nIt's kinda like if you were\nplaying a physical game.\n\n201\n00:10:37.530 --> 00:10:39.770\nPeople don't expect you to take the coins,\n\n202\n00:10:39.770 --> 00:10:42.680\nI'm talking old school arcade type stuff,\nright?\n\n203\n00:10:42.680 --> 00:10:45.780\nYou can't tilt the pinball machine, right?\n\n204\n00:10:45.780 --> 00:10:47.170\nYou can't cheat the system,\n\n205\n00:10:47.170 --> 00:10:49.850\nyou can't get to the internals of\nthe game, that's what I'm doing.\n\n206\n00:10:49.850 --> 00:10:55.716\nI'm putting these internally and only\nallowing you to hit the flipper switches,\n\n207\n00:10:55.716 --> 00:10:58.532\nor pull back the ball launcher, okay?\n\n208\n00:10:58.532 --> 00:11:01.325\nSo I'm only exposing the parts that\nI want you to interact with, and\n\n209\n00:11:01.325 --> 00:11:04.110\nthat's because I'm a little\nbit of a control freak.\n\n210\n00:11:04.110 --> 00:11:07.500\nIn addition to, we're gonna do\na little bit of renaming here,\n\n211\n00:11:07.500 --> 00:11:09.440\nbut let's try to get this working.\n\n212\n00:11:09.440 --> 00:11:13.900\nAnd now here's the return\nthat I was talking about.\n\n213\n00:11:13.900 --> 00:11:18.250\nRight now, let's just do main main, okay?\n\n214\n00:11:18.250 --> 00:11:23.470\nAnd I will eventually change\nthis to use some newer syntax.\n\n215\n00:11:23.470 --> 00:11:27.320\nWhat this is going to do is as long\nas this main is defined prior to,\n\n216\n00:11:27.320 --> 00:11:32.280\nit's going to construct an object\nthat has a main function, and\n\n217\n00:11:32.280 --> 00:11:36.205\nexposes that as the only method.\n\n218\n00:11:36.205 --> 00:11:36.900\nThat's all you can do.\n\n219\n00:11:38.090 --> 00:11:42.700\nYou can't touch the computer,\nthe ball, or anything.\n\n220\n00:11:42.700 --> 00:11:44.632\nAnd now it's all hidden away.\n\n221\n00:11:44.632 --> 00:11:49.050\nLet's go ahead and\nput that on our index.html, and boom.\n\n222\n00:11:49.050 --> 00:11:50.633\nLet's make this game.js.\n\n223\n00:11:50.633 --> 00:11:55.050\nNow again that's command shift d on Mac,\ncontrol shift d on Windows.\n\n224\n00:11:55.050 --> 00:11:58.410\nIn Linux and Atom, your mileage may vary\n\n225\n00:11:58.410 --> 00:12:01.270\ndepending on whether you've changed the\nkey mappings and things of that nature.\n\n226\n00:12:01.270 --> 00:12:05.560\nSo there's our game, and\nif we come back, it's all broke.\n\n227\n00:12:05.560 --> 00:12:10.040\nWell, that's because we haven't actually\nconstructed the game yet, nothing.\n\n228\n00:12:10.040 --> 00:12:11.111\nSo what do I want?\n\n229\n00:12:11.111 --> 00:12:14.597\nI want homage.\n\n230\n00:12:14.597 --> 00:12:16.290\nIs that how you spell homage?\n\n231\n00:12:16.290 --> 00:12:17.523\n&gt;&gt; Homage.\nH-O-M-A-G-E?\n\n232\n00:12:17.523 --> 00:12:18.430\n&gt;&gt; Mm-hm.\nI think it is.\n\n233\n00:12:18.430 --> 00:12:19.150\n&gt;&gt; Yes, it is.\n\n234\n00:12:19.150 --> 00:12:26.328\n&gt;&gt; So and then I'm gonna say Game and\nthen homage.main like so.\n\n235\n00:12:26.328 --> 00:12:30.270\nNow really, I should use\nrequestAnimationFrame to kick this off.\n\n236\n00:12:30.270 --> 00:12:32.140\nBut just to show you that\nthis should still work,\n\n237\n00:12:32.140 --> 00:12:35.750\nassuming we don't have to\ntrack down any shenanigans.\n\n238\n00:12:35.750 --> 00:12:36.970\n&gt;&gt; I love shenanigans.\n\n239\n00:12:36.970 --> 00:12:38.230\n&gt;&gt; Boom, our game is back.\n\n240\n00:12:38.230 --> 00:12:41.621\nHey, but now, do we have the canvas?\n\n241\n00:12:41.621 --> 00:12:44.075\nNo, canvas is, people can't\nmess with this in the console.\n\n242\n00:12:44.075 --> 00:12:45.380\n&gt;&gt; Mm-hm.\n\n243\n00:12:45.380 --> 00:12:47.550\n&gt;&gt; What about the paddle, right?\n\n244\n00:12:47.550 --> 00:12:50.590\nOr the player,\ncuz the people can mess with the player.\n\n245\n00:12:50.590 --> 00:12:54.810\nWell, they can just give themselves\nthe high score and then win, right?\n\n246\n00:12:54.810 --> 00:12:56.420\n&gt;&gt; That's no fun.\n&gt;&gt; That's no fun.\n\n247\n00:12:56.420 --> 00:13:01.490\nBut, if I look at game,\nI didn't call it game.\n\n248\n00:13:01.490 --> 00:13:03.850\nHomage, I have a function.\n\n249\n00:13:03.850 --> 00:13:05.190\nRight here.\n\n250\n00:13:05.190 --> 00:13:09.320\nAnd all it exposes is this main function\nthat actually starts our animation\n\n251\n00:13:09.320 --> 00:13:11.610\nloop and maintains everything.\n\n252\n00:13:11.610 --> 00:13:14.950\nAll of my other variables, all of my other\nstate, all of my other logic is private.\n\n253\n00:13:16.250 --> 00:13:17.180\nNo one can touch it.\n\n254\n00:13:18.190 --> 00:13:20.720\nI have,\nkind of deep looted the global name space,\n\n255\n00:13:20.720 --> 00:13:25.100\nI've put this in an object, and\nnow, if I wanted to, right,\n\n256\n00:13:25.100 --> 00:13:28.820\nlet's say that game had an argument here,\nthat said difficulty.\n\n257\n00:13:30.120 --> 00:13:35.233\nOr it would take a configurations object,\n\n258\n00:13:35.233 --> 00:13:40.580\nthat would say difficulty easy, right?\n\n259\n00:13:40.580 --> 00:13:43.680\nAnd then I can make decisions based\non the internal state, right?\n\n260\n00:13:43.680 --> 00:13:47.250\nWell if you want easy, then I'm just going\nto do the simple computer panel which just\n\n261\n00:13:47.250 --> 00:13:48.215\nmoves up and down.\n\n262\n00:13:48.215 --> 00:13:48.753\nYou want medium?\n\n263\n00:13:48.753 --> 00:13:50.420\nWell, I'm going to do the growing one.\n\n264\n00:13:50.420 --> 00:13:51.660\nYou want hard?\n\n265\n00:13:51.660 --> 00:13:53.135\nI'm gonna build another one,\n\n266\n00:13:53.135 --> 00:13:56.711\nand now all that configuration can be\nyour configuration object, [SOUND],\n\n267\n00:13:56.711 --> 00:13:59.278\nand when you want to start the game,\nthere's a main.\n\n268\n00:13:59.278 --> 00:14:05.136\nLikewise, it would be nice if\nwe could put something like,\n\n269\n00:14:05.136 --> 00:14:12.970\nselector right here and then construct\nit based on where you wanna put it.\n\n270\n00:14:12.970 --> 00:14:18.660\nBut, as you can see the actual refactor\nwasn't too bad just to get things working.\n\n271\n00:14:19.690 --> 00:14:20.522\nWe're not quite finished.\n\n272\n00:14:20.522 --> 00:14:24.787\nThe one thing that I wanna show you is,\nnow that main's exposed, that's all\n\n273\n00:14:24.787 --> 00:14:29.200\npeople can touch, but right here, this\nhas been bothering me for a little bit.\n\n274\n00:14:30.560 --> 00:14:33.965\nSee this ctx save, fillStyle,\nfillRect, restore?\n\n275\n00:14:33.965 --> 00:14:35.510\n&gt;&gt; Mm-hm.\n\n276\n00:14:35.510 --> 00:14:36.241\n&gt;&gt; Well what does it,\n\n277\n00:14:36.241 --> 00:14:39.180\nthat doesn't actually tell me anything\nabout what it does in a main method.\n\n278\n00:14:39.180 --> 00:14:40.950\nAnd I'm like, what does that do?\n\n279\n00:14:40.950 --> 00:14:44.130\nIf I go through it I see that it's\nactually painting over the background,\n\n280\n00:14:44.130 --> 00:14:46.255\nwhich gives us the trails and\ndoes the clearing and stuff.\n\n281\n00:14:46.255 --> 00:14:47.450\n&gt;&gt; Mm-hm.\n\n282\n00:14:47.450 --> 00:14:51.390\n&gt;&gt; Why couldn't we just put that\nin a paint background method, or\n\n283\n00:14:51.390 --> 00:14:54.010\na paint background function, right?\n\n284\n00:14:54.010 --> 00:14:56.760\nDo people need to know how\nto paint the background?\n\n285\n00:14:56.760 --> 00:14:58.320\nNo, that's internal.\n\n286\n00:14:58.320 --> 00:15:02.948\nSo what I'm going to do is grant this and\n\n287\n00:15:02.948 --> 00:15:10.116\ncreate a paintBackground\nfunction that does exactly that.\n\n288\n00:15:13.263 --> 00:15:18.590\nAnd now I can say paintBackground,\nso these internal functions,\n\n289\n00:15:18.590 --> 00:15:23.725\nthese internal objects are used\nto build up this main function,\n\n290\n00:15:23.725 --> 00:15:26.880\nthat we could expose as run or whatnot.\n\n291\n00:15:27.980 --> 00:15:32.340\nAnd well it should still work,\nassuming that we haven't done anything.\n\n292\n00:15:32.340 --> 00:15:34.240\nAnd notice that it does.\n\n293\n00:15:34.240 --> 00:15:37.760\nBut when I come in to make\nmodifications if I'm the developer and\n\n294\n00:15:37.760 --> 00:15:40.900\nreally people can look at your game and\ngrab it off the internet.\n\n295\n00:15:40.900 --> 00:15:43.980\nSo there's nothing truly\nprivate about this,\n\n296\n00:15:43.980 --> 00:15:46.440\nit's just I can't programmatically\naccess it as easy.\n\n297\n00:15:47.660 --> 00:15:48.160\nWhat does this do?\n\n298\n00:15:48.160 --> 00:15:53.680\nWell, it requests the next main to be run,\nand then we wanna paintBackground.\n\n299\n00:15:53.680 --> 00:16:00.370\nAnd if the ball, right, and then bounce,\nand all this state becomes the same.\n\n300\n00:16:00.370 --> 00:16:02.118\nBut now what this allows us to do,\n\n301\n00:16:02.118 --> 00:16:07.410\nis this over-all game object has\noverview of all these things.\n\n302\n00:16:07.410 --> 00:16:10.440\nIt knows about the canvas,\nit knows about the context.\n\n303\n00:16:10.440 --> 00:16:14.370\nAnd we can use that to our\nadvantage to now say, well,\n\n304\n00:16:14.370 --> 00:16:18.910\nyou know, instead of doing all of this,\nwhat if we change the ball to when\n\n305\n00:16:18.910 --> 00:16:23.880\nthe game constructs, it says, hey ball,\nhere's the canvas you're gonna be in.\n\n306\n00:16:23.880 --> 00:16:27.320\nAnd now the ball goes, okay,\nI can tell you when I'm out of bounds.\n\n307\n00:16:27.320 --> 00:16:29.800\nAnd then you can make decisions, okay?\n\n308\n00:16:29.800 --> 00:16:36.150\nLikewise for the computer player or\nfor the regular player because I'll\n\n309\n00:16:36.150 --> 00:16:42.200\nlet you know when you need to do things so\nthe game is like the omniscient overview,\n\n310\n00:16:42.200 --> 00:16:46.440\nand then all these objects are composed\nin that to actually bring you the game.\n\n311\n00:16:46.440 --> 00:16:49.380\n&gt;&gt; I see, just a we're building logic.\n\n312\n00:16:49.380 --> 00:16:50.420\n&gt;&gt; Right, right.\n\n313\n00:16:50.420 --> 00:16:55.820\nAnd our ultimate goal next is to actually\nmake some of those changes to the paddle\n\n314\n00:16:55.820 --> 00:16:59.040\nand the ball to provide more uniformity.\n\n315\n00:16:59.040 --> 00:17:02.920\nAll of them know about the canvas and\nmake them a little more dynamic.\n\n316\n00:17:02.920 --> 00:17:07.540\nThat way they can place themselves\nin the canvas appropriately,\n\n317\n00:17:07.540 --> 00:17:10.670\nas well as be able to answer questions\nlike, are you out to the right,\n\n318\n00:17:10.670 --> 00:17:14.280\nare you out to the left,\nare you out to the top, the bottom.\n\n319\n00:17:14.280 --> 00:17:16.310\nHave you hit the boundaries, hey.\n\n320\n00:17:16.310 --> 00:17:19.230\nAnd now, when we start doing that,\n\n321\n00:17:19.230 --> 00:17:23.575\nwe could even go as far as letting\nthe paddles know about the ball, so\n\n322\n00:17:23.575 --> 00:17:26.600\nthey can tell you,\nhey did the ball just hit you?\n\n323\n00:17:26.600 --> 00:17:28.830\nAnd if it does,\nthen tell the ball to turn around.\n\n324\n00:17:28.830 --> 00:17:31.240\nSo, there's a bunch of\ndifferent ways to do that, but\n\n325\n00:17:31.240 --> 00:17:34.450\nI like the game being\nthe overview of logic, and\n\n326\n00:17:34.450 --> 00:17:37.745\nthen it's just asking all of the members\nquestions in order to make a decision.\n\n327\n00:17:37.745 --> 00:17:38.485\n&gt;&gt; This is awesome.\n\n328\n00:17:38.485 --> 00:17:40.815\n&gt;&gt; That's what we're working on here.\n\n329\n00:17:40.815 --> 00:17:42.125\n&gt;&gt; Very cool, very cool.\n\n330\n00:17:42.125 --> 00:17:46.185\nSo does, I'm gonna say it right,\nrefactoring into a game object and\n\n331\n00:17:46.185 --> 00:17:48.640\nis there gonna be a part two or\nare we good?\n\n332\n00:17:48.640 --> 00:17:49.758\nOr we gonna move on to something else.\n\n333\n00:17:49.758 --> 00:17:52.425\n&gt;&gt; Yeah, we definitely have a long road.\n\n334\n00:17:52.425 --> 00:17:53.835\n&gt;&gt; Yeah, yeah.\n&gt;&gt; Ahead of us,\n\n335\n00:17:53.835 --> 00:17:58.210\nbecause not only are we refactoring\na game object along that brings\n\n336\n00:17:58.210 --> 00:17:59.720\nsome other changes that we need to make,\nright?\n\n337\n00:17:59.720 --> 00:18:02.042\nI wanna make this dynamic so\nI can mount this anywhere.\n\n338\n00:18:02.042 --> 00:18:04.670\nI want this to be dynamic based on size.\n\n339\n00:18:04.670 --> 00:18:07.089\nI also want the objects to\nbe set up to where okay,\n\n340\n00:18:07.089 --> 00:18:10.511\nreally the paddles need to know\nabout the canvas, the ball does, and\n\n341\n00:18:10.511 --> 00:18:14.300\nthe paddles kinda need to know about\nthe balls so they can answer questions.\n\n342\n00:18:14.300 --> 00:18:17.200\nOr vice versa, the ball should know about\nthe paddles and be able to say, yeah,\n\n343\n00:18:17.200 --> 00:18:18.580\nI just ran into something.\n\n344\n00:18:18.580 --> 00:18:23.140\nSo, those are design decisions that I'm\ntrying to be explicit of when I've said,\n\n345\n00:18:23.140 --> 00:18:24.860\nthis is how I'm doing it.\n\n346\n00:18:24.860 --> 00:18:25.960\nThis is not the only way.\n\n347\n00:18:25.960 --> 00:18:27.690\nAnd, for the most part that's the case.\n\n348\n00:18:27.690 --> 00:18:29.296\nWe're definitely coming\nback with a part two.\n\n349\n00:18:29.296 --> 00:18:30.811\n&gt;&gt; Yes!\n&gt;&gt; Might even be a part three,\n\n350\n00:18:30.811 --> 00:18:34.720\ncuz I think it's a good stopping\npoint to get your mind around this.\n\n351\n00:18:34.720 --> 00:18:36.240\nAnd then, we're going to come back and\n\n352\n00:18:36.240 --> 00:18:40.580\nstart implementing some more of those\nreadability and kind of logic changes.\n\n353\n00:18:40.580 --> 00:18:42.690\n&gt;&gt; Refactoring into a game object,\npart two.\n\n354\n00:18:42.690 --> 00:18:43.840\nThis has been part one.\n\n355\n00:18:43.840 --> 00:18:48.160\nWatch them both, in fact, watch every\nepisode of HTML5 canvas projects.\n\n356\n00:18:48.160 --> 00:18:49.140\nYou will be glad you did.\n\n357\n00:18:49.140 --> 00:18:50.950\nAnd take a look at the course library and\n\n358\n00:18:50.950 --> 00:18:54.970\nall the hundreds of videos there,\nall designed to help you go further.\n\n359\n00:18:54.970 --> 00:18:59.000\nAnd tell everybody you know about\nDevPro TV, they'll be glad you did.\n\n360\n00:18:59.000 --> 00:18:59.650\nThanks for watching.\n\n361\n00:18:59.650 --> 00:19:00.440\nI'm Zach Memetz.\n\n362\n00:19:00.440 --> 00:19:01.170\n&gt;&gt; And I'm Justin Nosan.\n\n363\n00:19:01.170 --> 00:19:03.009\n&gt;&gt; And we'll see you again soon.\n\n364\n00:19:03.009 --> 00:19:08.509\n[MUSIC]\n\n",
          "vimeoId": "235063868"
        },
        {
          "description": "In this episode, Justin and Zach continue the discussion about adding some structure to the game by creating a managing game object that will oversee the game, using this time to setup for further expansion to score inclusion & other \"setup\" & \"managed\" features.",
          "length": "1516",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-6-2-refactoring_into_a_game_object_pt2-092517.00_25_08_19.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-6-2-refactoring_into_a_game_object_pt2-092517.00_25_08_19.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-6-2-refactoring_into_a_game_object_pt2-092517.00_25_08_19.Still001-sm.jpg",
          "title": "Refactoring into a Game Object Part 2",
          "transcript": "",
          "vimeoId": "235605589"
        },
        {
          "description": "In this episode, Justin and Zach conclude the discussion about adding some structure to the game by creating a managing game object that will oversee the game, using this time to setup for further expansion to score inclusion & other \"setup\" & \"managed\" features.",
          "length": "1671",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-6-3-refactoring_into_a_game_object_pt3-092517.00_27_43_22.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-6-3-refactoring_into_a_game_object_pt3-092517.00_27_43_22.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-6-3-refactoring_into_a_game_object_pt3-092517.00_27_43_22.Still001-sm.jpg",
          "title": "Refactoring into a Game Object Part 3",
          "transcript": "",
          "vimeoId": "235604766"
        },
        {
          "description": "In this episode, Justin and Zach take us through creating a scoreboard that will take both of the players, and the scoreboard will be used to determine the game winning condition.",
          "length": "1478",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-7-1-creating_the_scoreboard-092517.00_25_33_13.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-7-1-creating_the_scoreboard-092517.00_25_33_13.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-7-1-creating_the_scoreboard-092517.00_25_33_13.Still001-sm.jpg",
          "title": "Creating the Scoreboard",
          "transcript": "WEBVTT\n\n1\n00:00:00.145 --> 00:00:10.145\n[MUSIC]\n\n2\n00:00:12.685 --> 00:00:14.972\nHello, and thank you for\nchoosing DevPro.TV,\n\n3\n00:00:14.972 --> 00:00:16.660\nhelping you learn wherever you go.\n\n4\n00:00:16.660 --> 00:00:17.670\nI'm your host, Zach Memos.\n\n5\n00:00:17.670 --> 00:00:21.290\nAnd we're continuing on with\na HTML5 Canvas project.\n\n6\n00:00:21.290 --> 00:00:24.070\nWe're gonna be creating\nthe scoreboard now.\n\n7\n00:00:24.070 --> 00:00:27.930\nAnd Justin Dennison is here to take\nus all the way to that final score.\n\n8\n00:00:27.930 --> 00:00:30.090\nJustin, good to have you here,\nthanks for joining us.\n\n9\n00:00:30.090 --> 00:00:31.040\n&gt;&gt; It is good to be back.\n\n10\n00:00:31.040 --> 00:00:31.910\nAnd how are you today, Zach?\n\n11\n00:00:31.910 --> 00:00:35.240\n&gt;&gt; I'm excited to be here, sir, and\nI wanna see, how do we do this?\n\n12\n00:00:35.240 --> 00:00:37.060\nHow do we create a scoreboard?\n\n13\n00:00:37.060 --> 00:00:39.910\n&gt;&gt; So\nthe scoreboard is going to be interesting.\n\n14\n00:00:39.910 --> 00:00:44.260\nIt's actually gonna be an external\nobject that we're gonna create.\n\n15\n00:00:44.260 --> 00:00:46.640\nProbably should be aware of the canvas.\n\n16\n00:00:46.640 --> 00:00:48.600\nBut it should also have utilities for\n\n17\n00:00:48.600 --> 00:00:51.550\nmaintaining score for the player,\nthe computer being able to\n\n18\n00:00:51.550 --> 00:00:52.340\nrender it's self-\n&gt;&gt; So\n\n19\n00:00:52.340 --> 00:00:54.510\nthese are the attributes it\nwill have to have, attributes.\n\n20\n00:00:54.510 --> 00:00:56.400\n&gt;&gt; I can say that word, attributes.\n\n21\n00:00:56.400 --> 00:01:00.080\nIt is hard, there is a weird b in there.\n\n22\n00:01:00.080 --> 00:01:02.950\nBut yeah,\nit needs the ability to keep score,\n\n23\n00:01:02.950 --> 00:01:08.640\nit needs the ability to report when\nscores have achieved some kind of goal.\n\n24\n00:01:08.640 --> 00:01:09.160\n&gt;&gt; Right.\n\n25\n00:01:09.160 --> 00:01:12.450\n&gt;&gt; Render itself, and then there's a few\nother questions you may wanna ask,\n\n26\n00:01:12.450 --> 00:01:14.140\nas well as reset, right?\n\n27\n00:01:14.140 --> 00:01:17.830\nSo you can always think of when\nthe game's done we need to reset back.\n\n28\n00:01:17.830 --> 00:01:20.810\nNow, I'm actually gonna use\na little bit different pattern.\n\n29\n00:01:20.810 --> 00:01:25.530\nIt's more similar to the game object and\ncreating the scoreboard than well,\n\n30\n00:01:25.530 --> 00:01:27.990\nthe actual ball and\npaddle and things like that.\n\n31\n00:01:27.990 --> 00:01:33.850\nMainly, cuz I don't want\nthe scores kinda exposed.\n\n32\n00:01:33.850 --> 00:01:37.170\nRight, I don't want you to be able to say,\nwell you know I was losing real bad,\n\n33\n00:01:37.170 --> 00:01:40.580\nI hopped over in the console, change the\nscoreboard scores and yay, I'm a winner.\n\n34\n00:01:40.580 --> 00:01:42.262\n&gt;&gt; [LAUGH]\n&gt;&gt; So I don't want people to cheat,\n\n35\n00:01:42.262 --> 00:01:46.420\nwell, unless they're really good,\nthen well, more bravo to you, right?\n\n36\n00:01:46.420 --> 00:01:50.450\nSo our goal is to build a scoreboard to\nwhere we can utilize it to determine win\n\n37\n00:01:50.450 --> 00:01:53.960\nconditions, and that's all going to\nbe encapsulated in the scoreboard.\n\n38\n00:01:53.960 --> 00:01:55.180\n&gt;&gt; Okay.\n\n39\n00:01:55.180 --> 00:01:58.940\n&gt;&gt; So let's actually take a look at my\nscreen, and we've done a little bit of\n\n40\n00:01:58.940 --> 00:02:02.720\ncleanup, and let's start building that\nscoreboard, kind of subbing it out.\n\n41\n00:02:03.870 --> 00:02:07.116\nAnd this is our game object,\nlet's fold this up and just,\n\n42\n00:02:07.116 --> 00:02:08.978\nit's pretty straight forward.\n\n43\n00:02:08.978 --> 00:02:13.050\nAll right well,\nlet's create our scoreboard file.\n\n44\n00:02:13.050 --> 00:02:14.558\nSo over here in our JS folder.\n\n45\n00:02:14.558 --> 00:02:19.920\nNew file, scoreboard.js like so.\n\n46\n00:02:19.920 --> 00:02:21.284\nNow the scoreboard,\n\n47\n00:02:21.284 --> 00:02:26.372\nas I said it should probably be be aware\nthe canvas cuz it is gonna render itself.\n\n48\n00:02:26.372 --> 00:02:31.127\nSo I think in general if it has\na render function it may want to be\n\n49\n00:02:31.127 --> 00:02:32.780\naware of the canvas.\n\n50\n00:02:32.780 --> 00:02:38.210\nNow in all, you know just all of\nkind of being upfront about it,\n\n51\n00:02:38.210 --> 00:02:41.720\nif you have the context you can actually\nlook up the canvas from the context so\n\n52\n00:02:41.720 --> 00:02:43.400\nthe render function will\nbe able to do that.\n\n53\n00:02:43.400 --> 00:02:47.510\nBut what if we want to initialize\ndata based on the canvas.\n\n54\n00:02:47.510 --> 00:02:48.650\nSo I'm gonna pass it in.\n\n55\n00:02:48.650 --> 00:02:53.526\nIf we find out that we don't\nactually need it then we can\n\n56\n00:02:53.526 --> 00:02:57.137\njust pull it out and no one's the wiser.\n\n57\n00:02:57.137 --> 00:03:00.780\nNotice these are not surrounded\nby parenthesis, just like so.\n\n58\n00:03:01.790 --> 00:03:04.310\nAnd because they're not surrounded by\nparenthesis this is gonna be a standard\n\n59\n00:03:04.310 --> 00:03:05.130\nfunction body.\n\n60\n00:03:05.130 --> 00:03:08.340\nAnd I'm gonna use this,\nas I said very similar to the game object.\n\n61\n00:03:08.340 --> 00:03:10.850\nSo don't be like well this\nis the scoreboard object.\n\n62\n00:03:10.850 --> 00:03:11.708\nNo, not quite.\n\n63\n00:03:11.708 --> 00:03:16.640\nSo let's see,\n\n64\n00:03:16.640 --> 00:03:19.640\nI need the ability to keep\ntrack of some scores.\n\n65\n00:03:19.640 --> 00:03:24.840\nNow the scores,\nthose are probably gonna change, right?\n\n66\n00:03:24.840 --> 00:03:28.890\nI may even have to reset them and so\nI'm gonna use this let internal so\n\n67\n00:03:28.890 --> 00:03:30.228\nI can mutate the state.\n\n68\n00:03:30.228 --> 00:03:35.640\nBut don't, I'll have to be careful about\nthat, we'll just have to think about that.\n\n69\n00:03:35.640 --> 00:03:38.670\nSo let's see, we have a player score and\n\n70\n00:03:38.670 --> 00:03:42.370\nby default upon construction\neveryone starts with 0, right?\n\n71\n00:03:42.370 --> 00:03:46.800\nOtherwise that would be,\nhow do you say unfair?\n\n72\n00:03:46.800 --> 00:03:49.350\nOkay, so there's our scores,\nthat's our data.\n\n73\n00:03:50.920 --> 00:03:52.200\nNow what else do we need?\n\n74\n00:03:52.200 --> 00:03:54.110\nWell we need a render and\n\n75\n00:03:54.110 --> 00:03:58.890\nI'm just kind of stubbing these out,\nnot filling these in quiet yet.\n\n76\n00:03:58.890 --> 00:04:04.530\nAnd we need, I think what I'm gonna do is,\n\n77\n00:04:04.530 --> 00:04:07.620\nsince I don't want people to\nhave direct access to these,\n\n78\n00:04:07.620 --> 00:04:13.020\nI'm just gonna have them have\nthe ability to call hey, someone scored.\n\n79\n00:04:13.020 --> 00:04:15.532\nAnd then technically they\ncould still get around it, but\n\n80\n00:04:15.532 --> 00:04:17.322\nthey couldn't do crazy stuff, right?\n\n81\n00:04:17.322 --> 00:04:18.151\n&gt;&gt; Right.\n\n82\n00:04:18.151 --> 00:04:23.268\n&gt;&gt; So this is kind of a setter syntax and,\nit still allows\n\n83\n00:04:23.268 --> 00:04:28.616\npeople to cheat if they're\nfairly good at JavaScript,\n\n84\n00:04:28.616 --> 00:04:33.750\nbut I guess there's worse\nthings in the world.\n\n85\n00:04:33.750 --> 00:04:37.200\nAnd here we go,\ncomputer scores so likewise,\n\n86\n00:04:37.200 --> 00:04:39.080\neither the player scores or\nthe computer scores.\n\n87\n00:04:40.930 --> 00:04:46.675\nMoreover, I think I wanna ask\nthe scoreboard, isThereAWinner?\n\n88\n00:04:48.610 --> 00:04:52.770\nAnd notice that's formed in the,\nkind of a question type.\n\n89\n00:04:52.770 --> 00:04:55.900\nRight, so I'm gonna say,\nhey scoreboard, is there a winner yet?\n\n90\n00:04:55.900 --> 00:04:57.900\nNo, okay, keep going.\n\n91\n00:04:57.900 --> 00:05:03.900\nAnd then likewise, I'm gonna say,\nwell there is a winner, whoIsTheWinner?\n\n92\n00:05:05.550 --> 00:05:10.670\nAnd I'm big on readability and\nkinda making sense, so\n\n93\n00:05:10.670 --> 00:05:14.390\nI could just do this like,\nwho wins or, but\n\n94\n00:05:14.390 --> 00:05:18.210\nif I ask questions it's typically\ngoing to be either a true or\n\n95\n00:05:18.210 --> 00:05:21.740\nfalse, or it's gonna return something\nthat gives an answer to the question.\n\n96\n00:05:23.440 --> 00:05:29.045\nAnd then likewise, I think I need\nthe ability as we said to reset the score,\n\n97\n00:05:29.045 --> 00:05:30.380\nokay.\n\n98\n00:05:30.380 --> 00:05:36.620\nNow, using the pattern that we have for\nthe game, we wanna return an object.\n\n99\n00:05:36.620 --> 00:05:40.260\nBy returning an object, we'll have\naccess to this internal scope, but\n\n100\n00:05:40.260 --> 00:05:41.730\nthen the object will be there.\n\n101\n00:05:41.730 --> 00:05:46.376\nSo let's see here, let's see,\n\n102\n00:05:46.376 --> 00:05:50.780\nplayerScores should be\n\n103\n00:05:50.780 --> 00:05:56.450\nexported as playerScores, and\nlet's just see if that comes to fruition.\n\n104\n00:05:56.450 --> 00:06:01.400\nSo in order to make this available,\nthe game needs to know\n\n105\n00:06:01.400 --> 00:06:04.870\nabout it before the game is constructed,\nso let's create a script tag,\n\n106\n00:06:04.870 --> 00:06:09.406\nsrc js scoreboard js.\n\n107\n00:06:09.406 --> 00:06:13.156\nAll right, so\nwithin the game let's create a scoreboard,\n\n108\n00:06:13.156 --> 00:06:17.284\nand this will probably go with ball,\nand computer, and player.\n\n109\n00:06:17.284 --> 00:06:22.450\nAnd I don't want to\nnecessarily reassign these,\n\n110\n00:06:22.450 --> 00:06:28.723\nso I'm gonna say scoreboard\n= Scoreboard(canvas); and\n\n111\n00:06:28.723 --> 00:06:32.908\nconsole.log(scoreboard) like so.\n\n112\n00:06:32.908 --> 00:06:35.930\nSo there's the player scores, now\n\n113\n00:06:35.930 --> 00:06:40.220\nthis is all I'm going to have access to\nis this single function as it stands now.\n\n114\n00:06:40.220 --> 00:06:44.972\nSo everything else is private and\nthat's going to be helpful to\n\n115\n00:06:44.972 --> 00:06:49.825\nme to help moderate kind of\nthe interactions to the scoreboard.\n\n116\n00:06:49.825 --> 00:06:54.970\nSo this scoreboard, well let's fill\nout some of these methods, right?\n\n117\n00:06:56.390 --> 00:06:58.880\nLet's do the render first to see if\nwe can actually get on the page.\n\n118\n00:07:00.106 --> 00:07:05.840\nSo we come over to the score board, well\nfirst off we need to export the render and\n\n119\n00:07:05.840 --> 00:07:08.150\nreally I can just put render here.\n\n120\n00:07:08.150 --> 00:07:11.330\nI'm being very explicit, I'll probably\ncome back and clean this up and\n\n121\n00:07:11.330 --> 00:07:13.960\nuse some of those new features where\nif the key and the value are exactly\n\n122\n00:07:13.960 --> 00:07:17.680\nthe same, you just list it once and\nJavaScript does it for you.\n\n123\n00:07:17.680 --> 00:07:22.020\nSo given a render, let's see,\nwhat do we need to do?\n\n124\n00:07:22.020 --> 00:07:24.942\nWell, we're gonna keep this fairly simple.\n\n125\n00:07:24.942 --> 00:07:32.590\nSo displayedText and\nI'm gonna use back ticks.\n\n126\n00:07:32.590 --> 00:07:38.240\nAnd these back ticks are going to give\nme some interesting portions here.\n\n127\n00:07:38.240 --> 00:07:41.300\nSo for the player,\n\n128\n00:07:41.300 --> 00:07:46.469\nI want to show scores.player.\n\n129\n00:07:46.469 --> 00:07:48.537\nWhat is the player's score?\n\n130\n00:07:48.537 --> 00:07:56.063\nAnd then for the computer,\nI want to show scores.computer.\n\n131\n00:07:56.063 --> 00:07:57.027\nJust like that.\n\n132\n00:07:57.027 --> 00:08:01.145\nSo that's our kind of display text, and\nI'm tippling into that because well,\n\n133\n00:08:01.145 --> 00:08:03.940\nevery time it may change\nthat it needs to re-render.\n\n134\n00:08:03.940 --> 00:08:07.313\nNow, that's not always the case,\nbut it may change, so\n\n135\n00:08:07.313 --> 00:08:10.775\nI'm gonna put this as I need\nto figure this out every time.\n\n136\n00:08:10.775 --> 00:08:17.300\nAnd then I'm going to say ctx.save,\nctx.restore just like that.\n\n137\n00:08:17.300 --> 00:08:23.192\nAnd then ctx.font = and my favorite font,\n\n138\n00:08:23.192 --> 00:08:27.179\n'40px, Comic Sans MS'.\n\n139\n00:08:27.179 --> 00:08:31.701\nThis is not good for professionalism,\nbut I think it's funny, so\n\n140\n00:08:31.701 --> 00:08:33.655\nI'm going to use it anyway.\n\n141\n00:08:33.655 --> 00:08:35.390\n&gt;&gt; It's good enough for me.\n\n142\n00:08:35.390 --> 00:08:39.822\n&gt;&gt; Ctx.fillText(displayedText, 30,\n\n143\n00:08:39.822 --> 00:08:44.496\n30) and\nthe reason being is we put it at 0,\n\n144\n00:08:44.496 --> 00:08:48.691\n0 depending on how the text is aligned.\n\n145\n00:08:48.691 --> 00:08:53.580\nIt may actually put it off the score\nboard, so we'll see there.\n\n146\n00:08:53.580 --> 00:08:55.080\nNow, that we have that,\n\n147\n00:08:55.080 --> 00:09:00.390\nwe have it in the game, except\nthe game's never going to render it,\n\n148\n00:09:00.390 --> 00:09:04.520\nbecause in main, let's actually clean this\nlittle bit up here, let's get rid of that,\n\n149\n00:09:06.430 --> 00:09:10.540\nwe render the ball to player and computer,\nbut we don't render the scoreboard.\n\n150\n00:09:10.540 --> 00:09:18.020\nWell, let's say, scoreboard.render and\npass in the context, and there we go.\n\n151\n00:09:18.020 --> 00:09:23.480\nSo there we go, c lear our computer and we\nneed to pull that down just a little bit.\n\n152\n00:09:24.840 --> 00:09:29.510\nSo that's where our tweaking comes in\nlet's make this about 40, and refresh and\n\n153\n00:09:29.510 --> 00:09:32.392\nthere we go, we now actually,\nhave a score board.\n\n154\n00:09:32.392 --> 00:09:36.558\nIt's not doing anything,\nbut it's there, so\n\n155\n00:09:36.558 --> 00:09:41.259\nwe've rendered that out,\nbeautiful, wonderful.\n\n156\n00:09:41.259 --> 00:09:45.470\nSo let's think about these other methods.\n\n157\n00:09:46.620 --> 00:09:49.330\nPlayer scores,\nwhat should a player score be?\n\n158\n00:09:49.330 --> 00:09:55.316\nWell, I'm gonna say scores.player += 1.\n\n159\n00:09:55.316 --> 00:10:00.170\nComputer scores, scores.computer +=\n\n160\n00:10:00.170 --> 00:10:05.060\n1 and is there a winner?\n\n161\n00:10:05.060 --> 00:10:08.310\nWell, there's only a winner, let's see.\n\n162\n00:10:08.310 --> 00:10:10.553\nZach, do you have an idea and\n\n163\n00:10:10.553 --> 00:10:15.803\nlike how do you determine if someone\nwins at a game most of the time?\n\n164\n00:10:15.803 --> 00:10:18.002\nWhat are some ways that you win at a game?\n\n165\n00:10:18.002 --> 00:10:21.740\n&gt;&gt; I'm the guy who goes to get\nthe cheeseburgers when we're all done.\n\n166\n00:10:22.776 --> 00:10:25.870\n&gt;&gt; [LAUGH]\n&gt;&gt; So let's say that you're playing,\n\n167\n00:10:25.870 --> 00:10:27.560\nI dunno, rummy, right?\n\n168\n00:10:27.560 --> 00:10:29.350\n&gt;&gt; Right.\n&gt;&gt; Which is a card game and\n\n169\n00:10:29.350 --> 00:10:31.850\ntypically you play to 500, right?\n\n170\n00:10:31.850 --> 00:10:33.180\nSo whoever wins-\n&gt;&gt; Highest points.\n\n171\n00:10:33.180 --> 00:10:35.430\n&gt;&gt; Whoever gets 500 first,\nyou're the winner.\n\n172\n00:10:35.430 --> 00:10:35.964\n&gt;&gt; Highest points.\n\n173\n00:10:35.964 --> 00:10:39.810\n&gt;&gt; Well, if you play tennis,\n&gt;&gt; Mm-hm.\n\n174\n00:10:39.810 --> 00:10:42.392\n&gt;&gt; It's whoever gets to\na certain score first, right?\n\n175\n00:10:42.392 --> 00:10:43.470\n&gt;&gt; That's right.\n\n176\n00:10:43.470 --> 00:10:47.284\n&gt;&gt; If you play, what are some\nother games that are score-based?\n\n177\n00:10:47.284 --> 00:10:48.245\n&gt;&gt; Ping pong.\n\n178\n00:10:48.245 --> 00:10:49.506\n[LAUGH]\n&gt;&gt; Ping pong, well,\n\n179\n00:10:49.506 --> 00:10:52.148\nit's whoever gets the highest score first,\nright?\n\n180\n00:10:52.148 --> 00:10:56.719\nAnd to some extent golf, right, but it's\nwhoever has the lowest score at the end,\n\n181\n00:10:56.719 --> 00:10:58.640\nand-\n&gt;&gt; And that's a little bit different.\n\n182\n00:10:58.640 --> 00:11:02.400\n&gt;&gt; So some of these games have kind of\na whoever has the highest or lowest.\n\n183\n00:11:02.400 --> 00:11:06.235\nBut then some of them, whoever gets to a\ncertain limit first, a goal, so to speak.\n\n184\n00:11:06.235 --> 00:11:07.083\n&gt;&gt; A level, right.\n\n185\n00:11:07.083 --> 00:11:11.973\n&gt;&gt; Right, so I think,\nsince our game is table tennis,\n\n186\n00:11:11.973 --> 00:11:16.430\nwe should probably have a goal in mind,\nright?\n\n187\n00:11:16.430 --> 00:11:20.456\nSo let's come back up here to the top,\n&gt;&gt; And add in our goal, so\n\n188\n00:11:20.456 --> 00:11:26.053\nhere's our goal, and\nlet's just say whoever gets to five first.\n\n189\n00:11:26.053 --> 00:11:29.580\n&gt;&gt; Okay.\n&gt;&gt; So boom, our goal is five.\n\n190\n00:11:29.580 --> 00:11:32.630\nSo if we ask, is there a winner?\n\n191\n00:11:32.630 --> 00:11:39.264\nWell, return scores.player = goal or\n\n192\n00:11:39.264 --> 00:11:46.100\nscores.computer = goal, so to speak.\n\n193\n00:11:47.810 --> 00:11:52.868\nAnd now, we can answer the question,\nwho is the winner?\n\n194\n00:11:52.868 --> 00:11:54.670\nOkay.\nWell, first one to five.\n\n195\n00:11:54.670 --> 00:11:55.620\nWho is the winner?\n\n196\n00:11:57.100 --> 00:12:02.119\n&gt;&gt; Let's see, well, we want\n\n197\n00:12:02.119 --> 00:12:08.667\nto return scores.player = goal,\n\n198\n00:12:08.667 --> 00:12:15.446\nthen Player, otherwise Computer.\n\n199\n00:12:15.446 --> 00:12:20.760\nOkay, now we may come back and\nuse that, but it's always good to know.\n\n200\n00:12:20.760 --> 00:12:23.120\nNow, there is kind of a subtlety here,\nright.\n\n201\n00:12:24.500 --> 00:12:29.360\nIf you're gonna ask who is the winner,\nThen the way\n\n202\n00:12:29.360 --> 00:12:33.896\nwe have this written, if the player has\nnot won when this method is called,\n\n203\n00:12:33.896 --> 00:12:36.350\nthen the computer automatically wins.\n\n204\n00:12:37.780 --> 00:12:42.437\nSo this should really be guarded\nby is there a winner, okay?\n\n205\n00:12:42.437 --> 00:12:46.748\nSo if there is not a winner,\n\n206\n00:12:46.748 --> 00:12:50.684\nif not there is a winner,\n\n207\n00:12:50.684 --> 00:12:56.880\nthen I just want to return, no one yet.\n\n208\n00:12:58.530 --> 00:13:03.020\nAnd really we're gonna be using\nthose a couple of times, but\n\n209\n00:13:03.020 --> 00:13:04.850\nif there's not a winner,\nthen just return no one.\n\n210\n00:13:04.850 --> 00:13:08.302\nSo don't have a default, and\nthat's just to guard against, well,\n\n211\n00:13:08.302 --> 00:13:12.109\nsince the player hasn't won, then\nthe computer automatically does will know.\n\n212\n00:13:12.109 --> 00:13:13.974\nThey both have one point.\n\n213\n00:13:13.974 --> 00:13:17.560\nYou can't have one winning before\nthe other just by default.\n\n214\n00:13:18.560 --> 00:13:20.620\nAnd then likewise, what about reset?\n\n215\n00:13:20.620 --> 00:13:26.060\nWell, I'm thinking reset should just reset\nthe scores to what they were before.\n\n216\n00:13:26.060 --> 00:13:34.430\nSo here we go, player 0 and\ncomputer 0, like so.\n\n217\n00:13:34.430 --> 00:13:38.636\nSo that's going to reset that variable,\nright up here, back to 0, 0.\n\n218\n00:13:38.636 --> 00:13:41.760\nAnd that's how we are going to\nrestart the game, so to speak.\n\n219\n00:13:41.760 --> 00:13:43.870\n&gt;&gt; So the scoreboard will\nbe what decides all that?\n\n220\n00:13:43.870 --> 00:13:46.960\n&gt;&gt; It will decide all of that and\nall the game's going to do,\n\n221\n00:13:46.960 --> 00:13:49.230\nthe game object is ask\nthe scoreboard questions.\n\n222\n00:13:49.230 --> 00:13:51.030\nHey, is there a winner?\n\n223\n00:13:51.030 --> 00:13:52.640\nNo?\nOkay, we'll keep going.\n\n224\n00:13:52.640 --> 00:13:53.270\nHey, is there a winner?\n\n225\n00:13:53.270 --> 00:13:55.754\nThere is, then who is the winner?\n\n226\n00:13:55.754 --> 00:13:56.380\nRight?\n\n227\n00:13:56.380 --> 00:14:00.761\nSo think of it as messages\nbetween these respective object.\n\n228\n00:14:00.761 --> 00:14:04.980\nSo there's our scoreboard,\nand let's think about this.\n\n229\n00:14:04.980 --> 00:14:08.560\nSo do we need the ability to score for\na player?\n\n230\n00:14:08.560 --> 00:14:10.550\nYeah, yeah, we do.\n\n231\n00:14:10.550 --> 00:14:13.930\nSo do we need the ability for\nthe computer to score?\n\n232\n00:14:13.930 --> 00:14:19.016\nYeah, do we need the ability to reset?\n\n233\n00:14:19.016 --> 00:14:22.530\nYeah, right if we're\ngonna play another game.\n\n234\n00:14:22.530 --> 00:14:25.162\nShould we be able to\nknow who the winner is?\n\n235\n00:14:25.162 --> 00:14:31.910\nYeah, whoIsTheWinner, boom, and\nthen well, is there a winner?\n\n236\n00:14:34.110 --> 00:14:39.830\nAnd we need to know isThereAWinner and\nagain, there is some new ES6 features that\n\n237\n00:14:39.830 --> 00:14:43.270\nwould keep this repetition down and I'll\nprobably come back and pull those out.\n\n238\n00:14:43.270 --> 00:14:47.900\nBut just being very explicit,\nwe have a Render,\n\n239\n00:14:47.900 --> 00:14:51.980\nwe have all of the mutations, and\nthe questions that we could ask.\n\n240\n00:14:51.980 --> 00:14:55.000\nAnd there is our object, and\nwe go back and print this out.\n\n241\n00:14:56.630 --> 00:15:02.436\nWell, let's see here,\nconsole.log [scoreboard],\n\n242\n00:15:02.436 --> 00:15:05.994\nsave and refresh, and there we go.\n\n243\n00:15:05.994 --> 00:15:11.521\nSo if we say, Well, we don't have access\nto the scoreboard cuz it's not exposed,\n\n244\n00:15:11.521 --> 00:15:14.959\nbut we have computer scores, is there\na winner, player scores, render, reset,\n\n245\n00:15:14.959 --> 00:15:16.220\nwhose the winner?\n\n246\n00:15:16.220 --> 00:15:20.180\n&gt;&gt; Just then I was looking at,\nyou never returned the actual scores, so\n\n247\n00:15:20.180 --> 00:15:21.715\nwhy is that?\n\n248\n00:15:21.715 --> 00:15:23.990\n&gt;&gt; Yeah, so what I want,\nis I want that to be hidden away.\n\n249\n00:15:23.990 --> 00:15:27.600\nI only want people for people to interact\nthrough the API that I've defined.\n\n250\n00:15:27.600 --> 00:15:29.540\nYou can score as a player or\nscore as a computer,\n\n251\n00:15:29.540 --> 00:15:31.890\nI don't want them to modify this,\nso I haven't returned those.\n\n252\n00:15:31.890 --> 00:15:37.080\nBut that is a good catch, and this is\na way of privatizing some of that data and\n\n253\n00:15:37.080 --> 00:15:39.480\nso, I just left that out so to speak.\n\n254\n00:15:39.480 --> 00:15:42.870\nSo let's actually come back and\n\n255\n00:15:42.870 --> 00:15:46.880\nsee if we can actually use some of\nthose methods to modify the scores.\n\n256\n00:15:46.880 --> 00:15:50.096\n&gt;&gt; Okay.\n&gt;&gt; And so, scoreboard.computerscores,\n\n257\n00:15:50.096 --> 00:15:54.887\nright, if we look that's a 0,\nwe refresh notice that becomes a 1.\n\n258\n00:15:54.887 --> 00:15:58.321\nSo our scoring does actually work And\n\n259\n00:15:58.321 --> 00:16:04.005\nif I were to do that five times,\nwell, that would go to five.\n\n260\n00:16:04.005 --> 00:16:07.835\nAnd likewise, I would say, whoIsTheWinner.\n\n261\n00:16:07.835 --> 00:16:12.504\nAnd now I know there is a winner in\nthis case, because it's to five.\n\n262\n00:16:12.504 --> 00:16:17.549\nAnd whoIsTheWinner, and I refresh,\nand it says the computer.\n\n263\n00:16:17.549 --> 00:16:20.553\nSo we kinda have the dynamics\nset up in order for\n\n264\n00:16:20.553 --> 00:16:24.960\nthe scoreboard to answer the questions\nthat we're interested in.\n\n265\n00:16:24.960 --> 00:16:31.479\nSo if we come back here, and\nnow we come back to this condition,\n\n266\n00:16:31.479 --> 00:16:35.668\nnow it gets a little a more interesting.\n\n267\n00:16:35.668 --> 00:16:40.260\nSo if the ball hits left, or\nhits right, we always want to do this.\n\n268\n00:16:40.260 --> 00:16:47.770\nHowever, however, if it hits the left,\nthe computer scores, if it hits the right,\n\n269\n00:16:49.130 --> 00:16:53.120\nthen the player scores, so\nwe have to add some additional logic here.\n\n270\n00:16:53.120 --> 00:16:58.570\nSo if the ball hit the left,\nthen do something,\n\n271\n00:16:58.570 --> 00:17:05.810\nif the ball hit the right, then do\nsomething else, and what are those things?\n\n272\n00:17:05.810 --> 00:17:08.810\nWell, it hits the left side of the screen,\nthen the opposite person, or\n\n273\n00:17:08.810 --> 00:17:13.930\nthe opposite player, scores, so\nscoreboard, and the computer scores.\n\n274\n00:17:15.080 --> 00:17:21.430\nWhat about scoreboard and the player\nscores for the opposite one, right?\n\n275\n00:17:21.430 --> 00:17:23.845\nSo if we come back and we refresh, well,\n\n276\n00:17:23.845 --> 00:17:28.549\nwe're never gonna score cuz we have no\nleft and right, so what are we gonna do?\n\n277\n00:17:28.549 --> 00:17:32.709\nWell, let's go back and\nchange this paddle to actually have,\n\n278\n00:17:32.709 --> 00:17:35.620\nnot paddle,\nthe ball to actually have a dx.\n\n279\n00:17:35.620 --> 00:17:38.870\nSo here what we're gonna see is\nthe player is going to score,\n\n280\n00:17:38.870 --> 00:17:40.672\nscore, score, score, score.\n\n281\n00:17:40.672 --> 00:17:45.109\nScore, score, score, score,\nand it's gonna score forever.\n\n282\n00:17:45.109 --> 00:17:47.950\n&gt;&gt; [LAUGH] Well,\nthat's an easy way to play it.\n\n283\n00:17:47.950 --> 00:17:51.316\n&gt;&gt; Yeah, because the game is\nnever actually asking hey,\n\n284\n00:17:51.316 --> 00:17:52.714\nis there a winner yet?\n\n285\n00:17:52.714 --> 00:18:00.170\nIf there is, then do something, right, but\nwe do know that our scoring logic works.\n\n286\n00:18:00.170 --> 00:18:04.375\nAnd so if it hits left,\nif it hits right do those things,\n\n287\n00:18:04.375 --> 00:18:08.054\nthat's good, however,\nwhen should we check?\n\n288\n00:18:08.054 --> 00:18:12.642\nI'm thinking right here, right at the top,\n\n289\n00:18:12.642 --> 00:18:18.095\nif(scoreboard.) we go,\nhey, isThereaWinner?\n\n290\n00:18:21.262 --> 00:18:25.677\nLike so, if this is true, if this is true,\n\n291\n00:18:25.677 --> 00:18:30.463\nthen we should probably go ahead and\nsomehow,\n\n292\n00:18:30.463 --> 00:18:34.925\nwe're just gonna dummy it for now.\n\n293\n00:18:34.925 --> 00:18:39.302\nWe'll just say console.log,\nand we'll say winner.\n\n294\n00:18:39.302 --> 00:18:45.770\nAnd we're doing a little bit\nof a guard here based on this.\n\n295\n00:18:45.770 --> 00:18:48.723\nwhoIsTheWinner.\n\n296\n00:18:50.819 --> 00:18:54.659\nAnd I'm gonna say\n\n297\n00:18:54.659 --> 00:19:02.150\n'$(winner) wins!').\n\n298\n00:19:02.150 --> 00:19:09.420\nLikewise, we should say, scoreboard.reset\nin order to reset the scoreboard, right?\n\n299\n00:19:12.170 --> 00:19:16.590\nAnd now we have to duplicate this, so\nI'm just going to copy and paste this for\n\n300\n00:19:16.590 --> 00:19:19.510\nnow, we'll do some\nadditional cleanup later.\n\n301\n00:19:19.510 --> 00:19:25.043\nAnd then boom, there we go,\nso if i refresh, boom, boom,\n\n302\n00:19:25.043 --> 00:19:30.377\nboom, boom, player wins,\nboom, boom, boom, boom.\n\n303\n00:19:30.377 --> 00:19:35.948\nSo now we have the logic that we\nneed in order to determine winning,\n\n304\n00:19:35.948 --> 00:19:39.528\nwho wins, and, well, the only thing is,\n\n305\n00:19:39.528 --> 00:19:43.830\nthis runs all the time,\ncuz it just console.log.\n\n306\n00:19:43.830 --> 00:19:46.810\nNow we can do an alert,\nsomething of that nature, but\n\n307\n00:19:46.810 --> 00:19:50.138\nit was fairly simple once\nwe built the object, right?\n\n308\n00:19:50.138 --> 00:19:52.730\nWe just asked the object questions,\nand then we told it, hey,\n\n309\n00:19:52.730 --> 00:19:55.345\nwhen the ball hits the left,\nhey scoreboard, the computer scored.\n\n310\n00:19:55.345 --> 00:19:59.240\nAnd when the ball hits the right,\nhey the player scored, and then every so\n\n311\n00:19:59.240 --> 00:20:03.210\noften, actually every time we iterate,\nwe go, hey,\n\n312\n00:20:03.210 --> 00:20:06.650\nis there a winner, if there is, do this.\n\n313\n00:20:08.002 --> 00:20:12.008\nAnd it'll just keep looping over and\nover and over again, and to some extent,\n\n314\n00:20:12.008 --> 00:20:16.090\nwe can use that to accumulate how many\nwins per side, and things of that nature.\n\n315\n00:20:16.090 --> 00:20:18.054\nNow, we've only checked the player side,\n\n316\n00:20:18.054 --> 00:20:20.919\nwe should probably check to see\nif the computer can also win, and\n\n317\n00:20:20.919 --> 00:20:24.605\nthat the scoring still works on the left\nside, because we haven't checked that.\n\n318\n00:20:24.605 --> 00:20:25.828\n&gt;&gt; Yeah, that's only fair [LAUGH].\n\n319\n00:20:25.828 --> 00:20:29.788\n&gt;&gt; So if we come back to the ball,\nlet's just change this to -10 and\n\n320\n00:20:29.788 --> 00:20:31.217\nchange the direction.\n\n321\n00:20:31.217 --> 00:20:35.339\nAnd there's the computer winning, computer\nwinning, computer winning, and boom,\n\n322\n00:20:35.339 --> 00:20:38.420\ncomputer wins, and guess what,\ncomputer wins again.\n\n323\n00:20:38.420 --> 00:20:42.144\nSo our scoreboard is actually keeping\nscore, answers the questions that we need\n\n324\n00:20:42.144 --> 00:20:45.774\nto determine winning conditions,\neverything's kind of set up, good to go.\n\n325\n00:20:45.774 --> 00:20:49.809\nThere may be some changes that we\nneed to make as we continue on, but\n\n326\n00:20:49.809 --> 00:20:54.230\nI'm not gonna get crazy with that\ninitially, at this point in time.\n\n327\n00:20:54.230 --> 00:20:55.587\n&gt;&gt; So now that that all works,\n\n328\n00:20:55.587 --> 00:20:58.845\nis there a way we can pass it in as\nan option instead of hard coding?\n\n329\n00:20:58.845 --> 00:21:00.702\n&gt;&gt; So an option for what?\n\n330\n00:21:00.702 --> 00:21:04.003\n&gt;&gt; An option for the actual winner.\n\n331\n00:21:04.003 --> 00:21:06.390\n&gt;&gt; So an option for?\n\n332\n00:21:06.390 --> 00:21:09.655\n&gt;&gt; Like a, you win, congratulations.\n\n333\n00:21:09.655 --> 00:21:13.776\n&gt;&gt; So we could do that, but are you\nasking about the win condition inside of\n\n334\n00:21:13.776 --> 00:21:17.330\nthe scoreboard,\nwhich we've kinda hardcoded here?\n\n335\n00:21:17.330 --> 00:21:19.159\n&gt;&gt; Yeah.\n&gt;&gt; We coud pass that in as an option,\n\n336\n00:21:19.159 --> 00:21:22.160\nI'll just pick five, so\nif we wanted to, we could say-\n\n337\n00:21:22.160 --> 00:21:23.277\n&gt;&gt; If it goes to four, then it resets.\n\n338\n00:21:23.277 --> 00:21:28.230\n&gt;&gt; Right, so zero, one, two, three,\nfour, five, and then boom, it resets.\n\n339\n00:21:28.230 --> 00:21:30.295\n&gt;&gt; But\nwhat if we wanted to play a game to ten?\n\n340\n00:21:30.295 --> 00:21:34.170\nWell, instead of having this hardcoded\noption, we should probably say,\n\n341\n00:21:34.170 --> 00:21:36.120\nis there options?\n\n342\n00:21:36.120 --> 00:21:38.490\nAnd there's an options.goal.\n\n343\n00:21:38.490 --> 00:21:41.976\nWell if there is, then do what?\n\n344\n00:21:41.976 --> 00:21:48.440\nWell, use options.goal, otherwise just\nuse 5, we'll just do the same fallback.\n\n345\n00:21:48.440 --> 00:21:49.060\n&gt;&gt; So you can do options.\n\n346\n00:21:49.060 --> 00:21:52.208\n&gt;&gt; You can,\nyou most definitely can, actually,\n\n347\n00:21:52.208 --> 00:21:56.310\nlet's see if we can play to ten,\nusing this exact same thing.\n\n348\n00:21:56.310 --> 00:22:01.640\nSo now if we say goal and\n\n349\n00:22:01.640 --> 00:22:06.280\nfive, I'm like,\nlet's do the same thing we were doing.\n\n350\n00:22:06.280 --> 00:22:08.290\nInstead of now playing the five,\nwe should be playing to ten,\n\n351\n00:22:08.290 --> 00:22:09.150\nlet's see if that works.\n\n352\n00:22:09.150 --> 00:22:13.941\nAnd then one, two, three,\nfour, five, six, seven, eight,\n\n353\n00:22:13.941 --> 00:22:16.960\nnine, ten, and boom, computer wins.\n\n354\n00:22:16.960 --> 00:22:17.562\n&gt;&gt; Yay!\n\n355\n00:22:17.562 --> 00:22:21.424\n&gt;&gt; Boom, so there we have our scores set\nup, we still may have to do some tweaking,\n\n356\n00:22:21.424 --> 00:22:24.957\nbut that was our initial goal in this\nepisode, and that's what we have.\n\n357\n00:22:24.957 --> 00:22:29.097\nAnd notice, by creating these objects,\nthat the game is more or\n\n358\n00:22:29.097 --> 00:22:30.870\nless asking questions of.\n\n359\n00:22:32.130 --> 00:22:35.178\nIt all gets a little more readable,\na little easier to understand,\n\n360\n00:22:35.178 --> 00:22:37.377\na little easier to maintain\nin my personal view.\n\n361\n00:22:37.377 --> 00:22:41.800\nAgain, not necessarily saying this\nis the best way or the only way.\n\n362\n00:22:41.800 --> 00:22:45.680\nBut, hey scoreboard, isThereaWinner,\nyes, well, whoIsTheWinner?\n\n363\n00:22:45.680 --> 00:22:49.668\nThey won, reset the scoreboard and\nreset the game.\n\n364\n00:22:49.668 --> 00:22:54.990\nAnd really, we could pull this out into\nreset the game for the respective game.\n\n365\n00:22:56.120 --> 00:23:00.350\nSo do keep that in mind, but\nour scoreboard's ready to go,\n\n366\n00:23:00.350 --> 00:23:02.970\nwe have one final thing to\nactually be able to play, and\n\n367\n00:23:02.970 --> 00:23:08.670\nthat's setting up collisions\nbetween the paddle and the ball.\n\n368\n00:23:09.830 --> 00:23:12.509\nIt shouldn't take too much work,\nbut you never know,\n\n369\n00:23:12.509 --> 00:23:14.148\nthings could get a little crazy.\n\n370\n00:23:14.148 --> 00:23:17.750\n&gt;&gt; Wow, creating the scoreboard, we did\nit in one episode, it was fantastic.\n\n371\n00:23:17.750 --> 00:23:20.149\nAnd before we move on, Justin, do you\nhave anything else you'd like to say?\n\n372\n00:23:20.149 --> 00:23:23.535\n&gt;&gt; Well, we are definitely close to\nactually being able to play, and\n\n373\n00:23:23.535 --> 00:23:24.450\nsee if we can win.\n\n374\n00:23:24.450 --> 00:23:28.610\nI will tell you, the ball speed that we're\ncurrently running at might be a little\n\n375\n00:23:28.610 --> 00:23:30.520\nmuch on this tiny little game board.\n\n376\n00:23:30.520 --> 00:23:33.786\nThat's kind of like getting\na serve from Agassi or\n\n377\n00:23:33.786 --> 00:23:38.621\none of the Serena sisters,\nwhere'd it go, I just lost, it's.\n\n378\n00:23:38.621 --> 00:23:40.907\n&gt;&gt; [LAUGH]\n&gt;&gt; So we're real close,\n\n379\n00:23:40.907 --> 00:23:43.784\nwe just need those collisions,\nmaybe a little bit of cleanup.\n\n380\n00:23:43.784 --> 00:23:46.688\nAnd then we'll have at least\na first draft of a game, now,\n\n381\n00:23:46.688 --> 00:23:49.200\nwe could always make this better, right?\n\n382\n00:23:49.200 --> 00:23:52.921\nInstead of this console.log,\nwe can put up a splash screen, all right,\n\n383\n00:23:52.921 --> 00:23:57.017\nlet me draw an image, and say, hey,\nyou're the winner, or congratulations.\n\n384\n00:23:57.017 --> 00:24:00.554\n[SOUND] So definitely stay tuned,\n\n385\n00:24:00.554 --> 00:24:05.615\nwe're moving toward the finale,\nso to speak.\n\n386\n00:24:05.615 --> 00:24:10.223\n&gt;&gt; Fantastic, well, HTML5 Canvas Project,\nthere's a lot of episodes, see them all,\n\n387\n00:24:10.223 --> 00:24:14.456\nbecause you'll be glad you did, we're\ngetting very close to that homage to Pong\n\n388\n00:24:14.456 --> 00:24:17.160\nthat we have been building,\nand I am thrilled.\n\n389\n00:24:17.160 --> 00:24:19.170\nAnd make sure you take a look\nat our course library,\n\n390\n00:24:19.170 --> 00:24:21.350\nall the hundreds of videos\nthat are over there.\n\n391\n00:24:21.350 --> 00:24:25.190\nThere's all kinds of ways for\nyou to go further, and by the way,\n\n392\n00:24:25.190 --> 00:24:27.910\ntell everybody you know about DevProTV,\nthey'll be glad you did.\n\n393\n00:24:27.910 --> 00:24:28.907\nThanks for watching, I'm Zach Memos.\n\n394\n00:24:28.907 --> 00:24:30.280\n&gt;&gt; And I'm Justin Dennison.\n\n395\n00:24:30.280 --> 00:24:31.056\n&gt;&gt; And we'll see you again very soon.\n\n396\n00:24:31.056 --> 00:24:38.300\n[MUSIC]\n\n",
          "vimeoId": "235603675"
        },
        {
          "description": "In this episode, Justin demonstrates how to change the the paddle objects to become aware of the ball object. By doing this, the paddle can determine if the ball has collided with it. Moreover, Justin discusses how this method compares and contrasts with making the ball aware of the paddle.",
          "length": "1830",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-8-1-detecting_collisions-092617-PGM.00_38_43_18.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-8-1-detecting_collisions-092617-PGM.00_38_43_18.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-1-8-1-detecting_collisions-092617-PGM.00_38_43_18.Still001-sm.jpg",
          "title": "Detecting Collisions",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:13.372 --> 00:00:16.567\nHello, thank you for choosing DevProTV,\nhelping you to learn wherever you go.\n\n3\n00:00:16.567 --> 00:00:21.360\nI'm your host, Zach Memos, as we\ncontinue on with HTML 5 Canvas projects.\n\n4\n00:00:21.360 --> 00:00:24.472\nDetecting Collision is the title\nof this episode, and our IT and\n\n5\n00:00:24.472 --> 00:00:27.190\ndev pro expert,\nJustin Dennison is here to help us out.\n\n6\n00:00:27.190 --> 00:00:28.634\nJustin, good to see you sir.\n\n7\n00:00:28.634 --> 00:00:31.170\n&gt;&gt; It is good to see you as well,\nZach, and how are you today?\n\n8\n00:00:31.170 --> 00:00:35.108\n&gt;&gt; I'm excited, because I wanna find out\nwhy, because this is where we're at now.\n\n9\n00:00:35.108 --> 00:00:39.453\nWhy is the ball still going through\nthe paddles of our homage to pong game?\n\n10\n00:00:39.453 --> 00:00:43.212\n&gt;&gt; Well, that's because currently\nwe are not detecting collisions,\n\n11\n00:00:43.212 --> 00:00:45.425\nthus the title of this episode, right?\n\n12\n00:00:45.425 --> 00:00:50.666\nWe need to be able to determine,\nhey, has the ball hit the paddle?\n\n13\n00:00:50.666 --> 00:00:53.860\nEither left or right, and if it has,\nwe need to take appropriate actions.\n\n14\n00:00:53.860 --> 00:00:58.968\nNow the way have this set up, we have the\ngame kind of moderating everything, right.\n\n15\n00:00:58.968 --> 00:01:03.238\nThe game is like let me do\nthese checks and boom, okay?\n\n16\n00:01:03.238 --> 00:01:07.798\nNow it does not have the ability\nto ask either the paddle or\n\n17\n00:01:07.798 --> 00:01:12.649\nthe ball, like hey,\nhas something hit something, right?\n\n18\n00:01:12.649 --> 00:01:16.744\nSo that's ultimately what we're\ngoing to do in this episode.\n\n19\n00:01:16.744 --> 00:01:20.677\n&gt;&gt; I'm excited, let's just get going cuz I\nwanna find out why in the world [LAUGH] is\n\n20\n00:01:20.677 --> 00:01:21.684\nit not connecting?\n\n21\n00:01:21.684 --> 00:01:23.775\nWhy isn't it hitting, shooting it back?\n\n22\n00:01:23.775 --> 00:01:27.219\n&gt;&gt; All right, so\nlet's actually come into the code here.\n\n23\n00:01:27.219 --> 00:01:30.333\nAnd we'll take a look at where our we,\nwhat do we have set up, and\n\n24\n00:01:30.333 --> 00:01:31.388\nwhat do we need to do?\n\n25\n00:01:31.388 --> 00:01:32.357\n&gt;&gt; Yes, good.\n\n26\n00:01:32.357 --> 00:01:36.153\n&gt;&gt; So right now our main kind of\ngame board, if we come over here,\n\n27\n00:01:36.153 --> 00:01:37.766\njust you can win, right?\n\n28\n00:01:37.766 --> 00:01:40.500\nAnd as soon as you win-\n&gt;&gt; [LAUGH] You can win.\n\n29\n00:01:40.500 --> 00:01:46.710\n&gt;&gt; Boom, it starts over and we have\nall these pieces right, ready to go.\n\n30\n00:01:46.710 --> 00:01:49.340\nNow, something I'm gonna\ndo is the scoreboard.\n\n31\n00:01:49.340 --> 00:01:53.338\nI'm just gonna remove this goal optional\nparameter, just because we wanna play\n\n32\n00:01:53.338 --> 00:01:56.172\nthe five, because five is\ngonna be pretty quick to test.\n\n33\n00:01:56.172 --> 00:01:58.831\n&gt;&gt; Mm-hm.\n&gt;&gt; We can probably even run that down to\n\n34\n00:01:58.831 --> 00:02:00.147\ntwo if we needed to.\n\n35\n00:02:00.147 --> 00:02:03.144\nBut we have our ball and\nour two paddles, and\n\n36\n00:02:03.144 --> 00:02:06.795\nnotice the paddles are being\npassed the ball, okay?\n\n37\n00:02:06.795 --> 00:02:10.888\nAnd then we have our scoreboard, and if\nthe scoreboard reports there's a winner,\n\n38\n00:02:10.888 --> 00:02:12.596\nthen we're doing the winner now.\n\n39\n00:02:12.596 --> 00:02:15.945\nWe could always come back and\nclean this up and do some tweaking.\n\n40\n00:02:15.945 --> 00:02:18.445\n&gt;&gt; Mm-hm.\n&gt;&gt; But right now our main goal is to,\n\n41\n00:02:18.445 --> 00:02:22.550\nwhen it hits the paddle,\nwe want it to bounce, right.\n\n42\n00:02:22.550 --> 00:02:26.685\nWe don't want it to actually score for\neither the player or the computer.\n\n43\n00:02:26.685 --> 00:02:32.944\nBut since I'm passing in the ball, well,\nlet's go look at human player paddle.\n\n44\n00:02:32.944 --> 00:02:35.832\nI'm passing the ball down the paddle,\nand actually for\n\n45\n00:02:35.832 --> 00:02:38.239\nthe exact same thing in\nthe computer paddles.\n\n46\n00:02:38.239 --> 00:02:41.983\nBecause all the computer paddles are based\ncurrently off the simple computer paddle,\n\n47\n00:02:41.983 --> 00:02:43.477\nthat doesn't have to be the case.\n\n48\n00:02:43.477 --> 00:02:48.639\nI could always change that, but\nnow I'm passing in the ball.\n\n49\n00:02:48.639 --> 00:02:53.747\nWell, this sets us up for some interesting\ncomputer strategies, number one,\n\n50\n00:02:53.747 --> 00:02:58.946\nlike the paddle could track the ball and\nyou could never win if it was really good.\n\n51\n00:02:58.946 --> 00:03:00.365\n&gt;&gt; Mm-hm.\n\n52\n00:03:00.365 --> 00:03:05.325\n&gt;&gt; However, the other thing is, well,\nthe paddle should be able to report,\n\n53\n00:03:05.325 --> 00:03:07.158\nhey, the ball just hit me.\n\n54\n00:03:07.158 --> 00:03:11.670\nAnd then by reporting that, the game can\nsay, hey ball, I need you to turn around.\n\n55\n00:03:11.670 --> 00:03:13.963\nNow this is not the only way to do this,\n\n56\n00:03:13.963 --> 00:03:17.063\nwe can actually hide this\nlogic behind the scenes.\n\n57\n00:03:17.063 --> 00:03:19.553\nThe paddle and the ball,\nand all of these things,\n\n58\n00:03:19.553 --> 00:03:21.584\nyou can actually put that logic inside.\n\n59\n00:03:21.584 --> 00:03:25.580\nNow I've pulled that up just so\nwe can think about it.\n\n60\n00:03:25.580 --> 00:03:29.928\n&gt;&gt; So you were saying before that your\naim, so to speak, no pun intended,\n\n61\n00:03:29.928 --> 00:03:34.285\nis for the paddle to detect the collision,\nto detect the ball, right?\n\n62\n00:03:34.285 --> 00:03:35.110\n&gt;&gt; Right.\n\n63\n00:03:35.110 --> 00:03:37.690\n&gt;&gt; Okay.\n&gt;&gt; Yup, and that is partly just because,\n\n64\n00:03:37.690 --> 00:03:40.090\nwell that's a decision that I've made.\n\n65\n00:03:40.090 --> 00:03:42.821\n&gt;&gt; Right.\n&gt;&gt; But also I think you'll see hopefully\n\n66\n00:03:42.821 --> 00:03:46.227\nas we go through this that\nthat kinda falls out and\n\n67\n00:03:46.227 --> 00:03:49.010\nmakes a little more sense to the mind.\n\n68\n00:03:49.010 --> 00:03:53.206\nSo if we come over here,\nnot only just to HumanPlayerPaddle, or\n\n69\n00:03:53.206 --> 00:03:55.151\nthe SimpleComputerPaddle,\n\n70\n00:03:55.151 --> 00:03:59.676\nreally to the paddle, the paddle\nbecomes aware of the ball, right.\n\n71\n00:03:59.676 --> 00:04:05.418\nAnd if you can say, hey, did the paddle\n\n72\n00:04:05.418 --> 00:04:10.293\nhit the ball, you could do that.\n\n73\n00:04:10.293 --> 00:04:12.347\nHowever, the paddle on the left and\n\n74\n00:04:12.347 --> 00:04:16.465\nthe paddle on the right actually have\na little bit different behavior.\n\n75\n00:04:16.465 --> 00:04:23.274\nSo if it's a left paddle, that might not\nwork exactly the same as the right paddle.\n\n76\n00:04:23.274 --> 00:04:27.978\nSo what we're gonna do is we're\ngoing to create the same method.\n\n77\n00:04:27.978 --> 00:04:31.206\nBut the way that it returns yes or\nno is gonna be a little bit different,\n\n78\n00:04:31.206 --> 00:04:34.128\ndepending on whether it's a human\nplayer or computer player.\n\n79\n00:04:34.128 --> 00:04:37.849\nSince that's the case,\nwe should probably pull\n\n80\n00:04:37.849 --> 00:04:42.659\nthis method up not from the paddle\nkind of implementation, but\n\n81\n00:04:42.659 --> 00:04:48.030\nup into the actual first level of\nhuman players and computer players.\n\n82\n00:04:48.030 --> 00:04:51.552\nNow, there's a bunch of\ndifferent ways to do this,\n\n83\n00:04:51.552 --> 00:04:54.444\nbut I think this makes\na little more sense.\n\n84\n00:04:54.444 --> 00:04:57.491\nNow, if that's the case, as it stands,\n\n85\n00:04:57.491 --> 00:05:00.812\nwe may not need to ball\nto be passed down here.\n\n86\n00:05:00.812 --> 00:05:04.567\nBut we're just keeping that very\nconsistent cuz if we ever wanna come back\n\n87\n00:05:04.567 --> 00:05:08.338\nand change the paddle implementation\nin general, then that would work.\n\n88\n00:05:08.338 --> 00:05:13.004\nBut let's think about his,\nthe human player paddle,\n\n89\n00:05:13.004 --> 00:05:19.712\nsince it knows about the ball, it should\nbe able to say hey, I got hit, right.\n\n90\n00:05:19.712 --> 00:05:20.757\nLet's see here.\n\n91\n00:05:20.757 --> 00:05:27.750\nLet's say collided with ball, and\nthis method is going to say for\n\n92\n00:05:27.750 --> 00:05:33.106\nthe human player,\nit's gonna return a yes or no.\n\n93\n00:05:33.106 --> 00:05:34.945\nAnd so that's gonna be a true or false.\n\n94\n00:05:34.945 --> 00:05:36.742\nSo we can use that for\na decision making process.\n\n95\n00:05:39.044 --> 00:05:43.077\nReturn, and since it's on the left,\n\n96\n00:05:43.077 --> 00:05:48.875\nreally what we want to check\nis to see if the x position,\n\n97\n00:05:48.875 --> 00:05:54.817\nplus the width of the paddle,\nplus the radius, right?\n\n98\n00:05:54.817 --> 00:05:56.237\nWe have to do something with that.\n\n99\n00:05:56.237 --> 00:06:01.103\nSo it's probably gonna to be easier if\nwe actually do a little bit of trial and\n\n100\n00:06:01.103 --> 00:06:06.440\nerror if we so need to, then we'll back\nup, and we'll do some drawing so to speak.\n\n101\n00:06:06.440 --> 00:06:09.543\nSo if the ball.x, right?\n\n102\n00:06:09.543 --> 00:06:13.251\nAnd the ball's right here,\n\n103\n00:06:13.251 --> 00:06:17.422\nif the ball.x is less than the,\n\n104\n00:06:17.422 --> 00:06:23.758\nthis .x plus this .height\nplus this.radius,\n\n105\n00:06:23.758 --> 00:06:30.264\nnot this .radius but\nthe ball's radius, okay.\n\n106\n00:06:30.264 --> 00:06:35.156\nSo what I'm saying is the ball\nhas collided with this\n\n107\n00:06:35.156 --> 00:06:38.166\nif it's within that distance.\n\n108\n00:06:38.166 --> 00:06:44.532\nNow, that's only true if it hits the outer\nranges of the top and bottom, right.\n\n109\n00:06:44.532 --> 00:06:49.785\nSo really what we want is withInX.\n\n110\n00:06:49.785 --> 00:06:56.635\nSo is it withInX and\nwithInY, so what is withInY?\n\n111\n00:06:56.635 --> 00:07:00.371\nWell, if the ball's y-position,\n\n112\n00:07:00.371 --> 00:07:04.951\nlet's just keep this spacing appropriate,\n\n113\n00:07:04.951 --> 00:07:09.177\nif the ball's y-position is less than.\n\n114\n00:07:09.177 --> 00:07:13.054\nActually, let me rephrase that,\n\n115\n00:07:13.054 --> 00:07:17.607\ngreater than or equal to this Y, right.\n\n116\n00:07:17.607 --> 00:07:20.230\nSo do they lie at the same level?\n\n117\n00:07:20.230 --> 00:07:21.682\n&gt;&gt; Mm-hm.\n\n118\n00:07:21.682 --> 00:07:26.614\n&gt;&gt; Or\nthe balls' Y position is less than or\n\n119\n00:07:26.614 --> 00:07:32.298\nequal to this.y plus this.height, okay.\n\n120\n00:07:32.298 --> 00:07:36.955\nSo essentially, does it lie between\nthe two edges of the paddle, and\n\n121\n00:07:36.955 --> 00:07:39.778\nif it does, we want it to say it collided.\n\n122\n00:07:39.778 --> 00:07:43.736\nNow within Y and within X,\nthey both have to be true.\n\n123\n00:07:43.736 --> 00:07:46.872\nSo it has to be in this distance,\nand it has to hit.\n\n124\n00:07:46.872 --> 00:07:50.322\nSo I'm gonna return withInY and\n\n125\n00:07:50.322 --> 00:07:55.082\nwithInX, Just like that.\n\n126\n00:07:55.082 --> 00:07:59.091\nNow that we have that for\nthe human player paddle,\n\n127\n00:07:59.091 --> 00:08:02.440\nlet's just see what happens in the game.\n\n128\n00:08:02.440 --> 00:08:07.544\nRight, so\nI'm actually going to modify the ball,\n\n129\n00:08:07.544 --> 00:08:12.766\nso to speak, and\njust make this 5, actually -5,\n\n130\n00:08:12.766 --> 00:08:16.890\nso it's coming toward the player.\n\n131\n00:08:16.890 --> 00:08:21.010\nAnd I'm gonna turn off the vertical\nmotion so we can get, we're\n\n132\n00:08:21.010 --> 00:08:25.480\ndoing a little bit of testing here, so-\n&gt;&gt; Little horizontal.\n\n133\n00:08:25.480 --> 00:08:30.588\n&gt;&gt; Exactly, so what we want to do is\n\n134\n00:08:30.588 --> 00:08:36.834\nif the player collided with ball then we\n\n135\n00:08:36.834 --> 00:08:44.029\njust want to say console.log('collision\n\n136\n00:08:44.029 --> 00:08:48.220\ndetected'), like so.\n\n137\n00:08:48.220 --> 00:08:53.550\nAnd so we're gonna refresh and\nyou'll notice somethings\n\n138\n00:08:53.550 --> 00:08:58.303\ngoing on cuz we're getting a bunch\nof collisions detected, right?\n\n139\n00:08:58.303 --> 00:09:00.470\nSo, why is that?\n\n140\n00:09:00.470 --> 00:09:02.030\n&gt;&gt; Yeah, why is that touching, right?\n\n141\n00:09:02.030 --> 00:09:05.320\n&gt;&gt; Collisions get a little weird.\n\n142\n00:09:05.320 --> 00:09:07.260\nSo, let's go see.\n\n143\n00:09:07.260 --> 00:09:09.748\nLet's refresh and make sure that persists.\n\n144\n00:09:09.748 --> 00:09:13.257\nSo notice, it's always kind of, [SOUND],\n\n145\n00:09:13.257 --> 00:09:19.306\nit's still passing through cuz I'm\nnot telling the ball to do anything.\n\n146\n00:09:19.306 --> 00:09:21.260\nBut it's always detecting\nthese collisions.\n\n147\n00:09:21.260 --> 00:09:25.610\nSo let's go and\ndo a little bit of debugging here.\n\n148\n00:09:25.610 --> 00:09:26.390\n&gt;&gt; Live action debugging.\n\n149\n00:09:26.390 --> 00:09:31.280\n&gt;&gt; So here's a little bit different\nmethod of debugging that should,\n\n150\n00:09:31.280 --> 00:09:35.878\nas long as you have the side open,\nthe console open, this should be fine.\n\n151\n00:09:35.878 --> 00:09:39.897\nWhat I'm gonna do, is I'm just going to\nput a debugger statement here, and now,\n\n152\n00:09:39.897 --> 00:09:42.250\nwe're gonna bring this up and see where,\n\n153\n00:09:42.250 --> 00:09:46.840\nI think I got my,\nI think there's a logic error somewhere.\n\n154\n00:09:46.840 --> 00:09:52.570\nI think I might have my signs messed up,\nbut we'll see in just a moment, okay?\n\n155\n00:09:52.570 --> 00:09:56.870\nSo if I refresh, and\nnotice it stops right there, and\n\n156\n00:09:56.870 --> 00:09:59.390\nit stopped within the collidedWithBall.\n\n157\n00:09:59.390 --> 00:10:03.290\nNow if I say withinX, it's false.\n\n158\n00:10:03.290 --> 00:10:06.610\nWithinY, it's false.\n\n159\n00:10:07.830 --> 00:10:08.780\nBut it's not, right?\n\n160\n00:10:08.780 --> 00:10:11.360\nWe actually have them kind of lined up.\n\n161\n00:10:11.360 --> 00:10:15.770\nAnd just to show you that, our width and\n\n162\n00:10:15.770 --> 00:10:20.670\ny looks like it's a little weird, right?\n\n163\n00:10:20.670 --> 00:10:25.240\nSo that's interesting, but also, well,\n\n164\n00:10:27.010 --> 00:10:31.770\nlet's look at within y, within y,\nlet's debug and we're moving over,\n\n165\n00:10:31.770 --> 00:10:34.050\nwe're moving over, we're moving over.\n\n166\n00:10:34.050 --> 00:10:36.410\nSo I can step through all of these frames.\n\n167\n00:10:37.940 --> 00:10:42.550\nAnd now we know that within\ny should not report true.\n\n168\n00:10:44.070 --> 00:10:48.190\nSo within y is true,\nwithin x is still true.\n\n169\n00:10:48.190 --> 00:10:51.520\nSo I have some logic\nerrors here somewhere.\n\n170\n00:10:51.520 --> 00:10:57.380\nSo let's go try to figure these\nout by looking at the playerX,\n\n171\n00:10:59.220 --> 00:11:04.020\nno, I can't access this\ncuz I'm out of scope.\n\n172\n00:11:04.020 --> 00:11:04.840\n&gt;&gt; Aha.\n\n173\n00:11:04.840 --> 00:11:06.110\n&gt;&gt; I am so silly.\n\n174\n00:11:06.110 --> 00:11:08.404\nI should be able to go with this.X.\n\n175\n00:11:08.404 --> 00:11:10.468\nSo this.X is 30.\n\n176\n00:11:10.468 --> 00:11:15.803\nthis.Y is 30, and then this.height is 200.\n\n177\n00:11:15.803 --> 00:11:22.007\nAnd this .width, Is 26.7,\n\n178\n00:11:22.007 --> 00:11:27.340\nwe'll just say 27 and\nthen what about the ball?\n\n179\n00:11:27.340 --> 00:11:32.600\nThe ball's radius is 20, so\nlooks like we have some logic errors.\n\n180\n00:11:32.600 --> 00:11:35.720\nHere's my recommendation about\nwhat to do when this happens, and\n\n181\n00:11:35.720 --> 00:11:38.150\nthat's actually draw a picture.\n\n182\n00:11:38.150 --> 00:11:42.850\nSo, hopefully,\nwe can kind of reason through this and\n\n183\n00:11:42.850 --> 00:11:45.280\nsee where has our logic made a mistake.\n\n184\n00:11:45.280 --> 00:11:47.580\nSo, if we can come over to the Sky Cam,\n\n185\n00:11:47.580 --> 00:11:52.900\ndraw a picture to figure things out,\nwe'll hopefully get this all squared away.\n\n186\n00:11:52.900 --> 00:11:54.330\nSo, now that we're over\nhere on the Sky Cam,\n\n187\n00:11:54.330 --> 00:11:59.010\nlet's just do a quick little\ndoodle to kinda reason it out.\n\n188\n00:11:59.010 --> 00:12:00.690\nHere is our player, right?\n\n189\n00:12:00.690 --> 00:12:02.800\nAnd, here's our little ball.\n\n190\n00:12:04.040 --> 00:12:08.430\nAnd a ball,\nlet's say when the ball hits right here.\n\n191\n00:12:08.430 --> 00:12:11.140\nWe want this to shoot off in\nthe other direction, right?\n\n192\n00:12:11.140 --> 00:12:14.170\nIt's coming this way,\nwe want it to shoot off this direction.\n\n193\n00:12:14.170 --> 00:12:17.910\nNow, what that means is\nwe have this reference.\n\n194\n00:12:17.910 --> 00:12:22.202\nHere's our x and our y of our paddle.\n\n195\n00:12:22.202 --> 00:12:27.850\nAnd then we also have our x and\nour y of our ball.\n\n196\n00:12:27.850 --> 00:12:30.070\nSo, there's our ball.\n\n197\n00:12:30.070 --> 00:12:32.860\nReally, what we want to look for is,\n\n198\n00:12:32.860 --> 00:12:38.530\ndoes this y lie between y and\ny plus the height.\n\n199\n00:12:41.106 --> 00:12:46.695\nAll right, now,\nwe've talked about this little bit before,\n\n200\n00:12:46.695 --> 00:12:53.550\nbut also does this x, if we come down\nhere, we haven't really changed the x,\n\n201\n00:12:53.550 --> 00:12:58.070\nbut does this x,\nis it within this distance?\n\n202\n00:12:58.070 --> 00:13:03.140\nAnd really, what we wanna know, and\nI think this is where I get this little\n\n203\n00:13:03.140 --> 00:13:09.760\nbit of logic error, does this x,\nis it within a radius of this front face?\n\n204\n00:13:09.760 --> 00:13:13.560\nSo really, what we want is x plus\nthe width, and is that, x plus the width\n\n205\n00:13:20.580 --> 00:13:25.620\nplus, then we can kind of make\nthis opposite line the radius,\n\n206\n00:13:25.620 --> 00:13:29.460\nis this x within that distance from here?\n\n207\n00:13:29.460 --> 00:13:31.350\nSo let's think about that.\n\n208\n00:13:32.920 --> 00:13:35.040\nLet's write our little expression here.\n\n209\n00:13:35.040 --> 00:13:42.405\nSo if this is bx, what we wanna test for\n\n210\n00:13:42.405 --> 00:13:47.699\nwithin x is, is bx within px\n\n211\n00:13:47.699 --> 00:13:54.230\nplus the width of the paddle.\n\n212\n00:13:54.230 --> 00:13:56.415\nThat's not how you spell width.\n\n213\n00:13:56.415 --> 00:14:00.300\n&gt;&gt; [LAUGH]\n&gt;&gt; The width, let's try that again,\n\n214\n00:14:00.300 --> 00:14:05.140\nof the paddle plus the ball's radius.\n\n215\n00:14:05.140 --> 00:14:06.500\nNow, what do I mean within?\n\n216\n00:14:08.760 --> 00:14:14.854\nWell, on the left side,\nif it is less than or equal to,\n\n217\n00:14:14.854 --> 00:14:20.417\nso if bx is less than or\nequal to the paddle's x plus\n\n218\n00:14:20.417 --> 00:14:26.180\nthe paddle's width plus the ball's radius.\n\n219\n00:14:26.180 --> 00:14:29.630\nOkay, now that looks very\nsimilar to what we have, so\n\n220\n00:14:29.630 --> 00:14:32.188\nI think our reasoning was correct.\n\n221\n00:14:32.188 --> 00:14:32.957\n&gt;&gt; Mm-hm.\n\n222\n00:14:32.957 --> 00:14:36.890\n&gt;&gt; But now, that means we might have\na bug in what we actually wrote,\n\n223\n00:14:36.890 --> 00:14:38.590\nso-\n&gt;&gt; So let's go back and\n\n224\n00:14:38.590 --> 00:14:42.592\ncheck it out and\nlet's take a look at the screen here.\n\n225\n00:14:42.592 --> 00:14:46.910\nSo within x, the ball, and\nactually let's put an equal to here.\n\n226\n00:14:46.910 --> 00:14:51.546\nThe ball's x is less than the paddle's x,\nwhich is this in this case.\n\n227\n00:14:51.546 --> 00:14:52.385\n&gt;&gt; Mm-hm.\n\n228\n00:14:52.385 --> 00:14:54.810\n&gt;&gt; Plus the height.\n\n229\n00:14:54.810 --> 00:14:55.590\nI am silly.\n\n230\n00:14:56.790 --> 00:14:58.740\nAnd then the ball's radius.\n\n231\n00:14:58.740 --> 00:15:00.250\nThat's a little better.\n\n232\n00:15:00.250 --> 00:15:06.024\nWhile we're at it, let's double check\nthe ball's y is greater than or\n\n233\n00:15:06.024 --> 00:15:12.952\nequal to, so coming down, the paddle's y,\nwhich is that lower left-hand corner,\n\n234\n00:15:12.952 --> 00:15:17.030\nor the ball's y is &lt;=\nthis.y + this.height.\n\n235\n00:15:17.030 --> 00:15:19.730\nNow, should that be an or?\n\n236\n00:15:20.760 --> 00:15:22.470\nLet's think about this.\n\n237\n00:15:22.470 --> 00:15:25.490\nCan it be either/or or\nshould it be both if it's within y?\n\n238\n00:15:25.490 --> 00:15:27.510\nWell, it has to be both.\n\n239\n00:15:27.510 --> 00:15:28.560\n&gt;&gt; Yeah, I was gonna say both.\n\n240\n00:15:28.560 --> 00:15:29.400\n&gt;&gt; Right?\n\n241\n00:15:29.400 --> 00:15:31.940\nSo, we need to change that to an and.\n\n242\n00:15:31.940 --> 00:15:36.017\nAnd, this simple logic errors can\ndefinitely cause some issues when you're\n\n243\n00:15:36.017 --> 00:15:37.280\ndoing thing like this.\n\n244\n00:15:37.280 --> 00:15:39.050\n&gt;&gt; Yeah.\n&gt;&gt; But once you get them worked out for\n\n245\n00:15:39.050 --> 00:15:42.110\none, they kinda just fall out for\nthe other.\n\n246\n00:15:42.110 --> 00:15:47.150\nSo let's go see if changing those\nlittle bit of, little bit there,\n\n247\n00:15:47.150 --> 00:15:50.800\nchanges how we proceed.\n\n248\n00:15:50.800 --> 00:15:53.960\nAnd notice it's not saying anything.\n\n249\n00:15:55.020 --> 00:15:56.202\nAnd now it did.\n\n250\n00:15:56.202 --> 00:15:57.272\nThat's good.\n\n251\n00:15:57.272 --> 00:15:59.222\n&gt;&gt; Okay.\n&gt;&gt; Because now only when it hits\n\n252\n00:15:59.222 --> 00:16:01.492\nthe paddle is it gonna detect collisions.\n\n253\n00:16:01.492 --> 00:16:04.264\nNow Now that we have that for\nthe HumanPlayerPaddle, and\n\n254\n00:16:04.264 --> 00:16:05.997\nit'll be a little bit different for\n\n255\n00:16:05.997 --> 00:16:09.370\nthe right hand because then\nthe reference is a little bit different.\n\n256\n00:16:09.370 --> 00:16:11.790\nBut we'll talk about that\nin just a little bit.\n\n257\n00:16:12.808 --> 00:16:16.620\nLet's see, over in the game,\nif the collision is detected,\n\n258\n00:16:16.620 --> 00:16:17.460\nwhat do you want to do?\n\n259\n00:16:17.460 --> 00:16:21.120\nWell, you want he ball to\nbounce in the x direction.\n\n260\n00:16:21.120 --> 00:16:25.730\nIf we come over to the ball,\nwe don't have a bounceX, right?\n\n261\n00:16:26.760 --> 00:16:30.370\nWe actually want to add a bounceX.\n\n262\n00:16:30.370 --> 00:16:34.010\nAnd there are more elegant ways to\ndo this, where you can bounce and\n\n263\n00:16:34.010 --> 00:16:38.040\ngive it a direction, right,\nis it x or y, and then a value.\n\n264\n00:16:38.040 --> 00:16:43.265\nBut we're just gonna\nkeep this very simple,\n\n265\n00:16:43.265 --> 00:16:48.220\ndx = -1 times this.dx, just like so, okay?\n\n266\n00:16:48.220 --> 00:16:51.384\nNow that we have that method available,\nwell,\n\n267\n00:16:51.384 --> 00:16:56.580\nwe already had a little bit of collision\ndetection here with the canvas.\n\n268\n00:16:56.580 --> 00:16:59.175\nBut then between two entities\nit gets a little weird.\n\n269\n00:16:59.175 --> 00:17:04.380\nWe wanna say ball.bounceX(), just like so.\n\n270\n00:17:04.380 --> 00:17:08.043\nSo if the player collides with the ball,\n\n271\n00:17:08.043 --> 00:17:12.692\ncollided with the ball,\nthen refresh, and boom.\n\n272\n00:17:12.692 --> 00:17:14.384\nNow we're so, but then-\n&gt;&gt; Whoops.\n\n273\n00:17:14.384 --> 00:17:17.610\n&gt;&gt; The other side doesn't work, man.\n\n274\n00:17:17.610 --> 00:17:23.265\nSo let's come back, now what we need\nto do for the computer paddles?\n\n275\n00:17:23.265 --> 00:17:25.968\nWell, if we come over\nhere to computer paddle,\n\n276\n00:17:25.968 --> 00:17:30.500\nthere's bounceY, that's fine,\nthat's actually for the paddle.\n\n277\n00:17:30.500 --> 00:17:31.840\nWe don't have any way\n\n278\n00:17:33.090 --> 00:17:36.920\nto determine whether the ball has\ninteracted with the right-hand paddles.\n\n279\n00:17:36.920 --> 00:17:38.602\nAnd as I said in a previous episode,\n\n280\n00:17:38.602 --> 00:17:41.730\nwe could actually delineate\nbetween a left and a right.\n\n281\n00:17:41.730 --> 00:17:43.020\nAnd then have the left and\n\n282\n00:17:43.020 --> 00:17:45.960\nthe right have collidedWithBall\nimplement these different.\n\n283\n00:17:45.960 --> 00:17:47.870\nAnd then all you do is you say,\n\n284\n00:17:47.870 --> 00:17:51.440\nit's a left paddle,\nit's a right paddle, and then.\n\n285\n00:17:51.440 --> 00:17:55.900\nBut as it stands, the way we've chosen\nto implement this, things are good.\n\n286\n00:17:55.900 --> 00:17:59.572\nNow, there are other ways to do this, I'm\ntrying to build logic that's a little more\n\n287\n00:17:59.572 --> 00:18:03.978\nstraightforward than maybe other times.\n\n288\n00:18:03.978 --> 00:18:07.255\nBut since SimpleComputerPaddle\nis kind of our basis,\n\n289\n00:18:07.255 --> 00:18:09.970\nwe should probably put that in here,\nright?\n\n290\n00:18:09.970 --> 00:18:17.050\nSo, let's say collidedWithBall,\nand we still need a withInX.\n\n291\n00:18:18.990 --> 00:18:24.483\nAnd well, we'll get to that,\nand a withInY And\n\n292\n00:18:24.483 --> 00:18:31.320\nwe'll get to that, and\nwe need to return withinX &amp;&amp; withinY.\n\n293\n00:18:31.320 --> 00:18:33.491\nAll right, it has to accomplish both.\n\n294\n00:18:33.491 --> 00:18:36.505\nNow, let's think about this, withinY,\n\n295\n00:18:36.505 --> 00:18:40.870\nI don't think withinY is\nactually gonna change any, right?\n\n296\n00:18:40.870 --> 00:18:44.860\nWe're still looking up and down direction,\nand that's not different for\n\n297\n00:18:44.860 --> 00:18:45.880\nthe respective paddles.\n\n298\n00:18:45.880 --> 00:18:48.474\nSo we can come over to\nthe HumanPlayerPaddle, and\n\n299\n00:18:48.474 --> 00:18:49.599\njust copy that line.\n\n300\n00:18:49.599 --> 00:18:53.660\nI can just grab this right here, and copy.\n\n301\n00:18:53.660 --> 00:18:58.377\nCome over to the SimpleComputerPaddle,\nand then paste, like so.\n\n302\n00:18:58.377 --> 00:19:01.778\nNow the withinX, though,\nsince we're now on the opposite side,\n\n303\n00:19:01.778 --> 00:19:03.810\nwe don't have to add that width.\n\n304\n00:19:03.810 --> 00:19:07.570\nWe're looking to see,\nis the ball's x position\n\n305\n00:19:07.570 --> 00:19:11.922\nwithin a radius distance of\nthe paddle's x position, right?\n\n306\n00:19:13.310 --> 00:19:16.870\nOkay, okay, well, how does one do that?\n\n307\n00:19:16.870 --> 00:19:21.962\nWell, the ball's x is less than or\nequal to this.x\n\n308\n00:19:21.962 --> 00:19:26.025\n+ ball.radius, just like that.\n\n309\n00:19:26.025 --> 00:19:29.610\nNow, we have a circular\ncolliding with a rectangular,\n\n310\n00:19:29.610 --> 00:19:32.490\nI think doing the two different directions\nis probably a little bit easier.\n\n311\n00:19:32.490 --> 00:19:36.390\nIf everything was circular, you could\nprobably do distances between, and\n\n312\n00:19:36.390 --> 00:19:39.000\nlook for two radii, and\nthings of that nature.\n\n313\n00:19:39.000 --> 00:19:42.210\nBut there's collidedWithBall, boom.\n\n314\n00:19:42.210 --> 00:19:49.381\nJust for now, let's keep these separate,\nand say computer.collidedWithBall.\n\n315\n00:19:49.381 --> 00:19:54.735\nAnd console.log('collision detected'),\n\n316\n00:19:54.735 --> 00:19:57.924\ncollision detected, okay?\n\n317\n00:19:57.924 --> 00:20:00.760\nOkay, so now if I refresh.\n\n318\n00:20:03.860 --> 00:20:08.460\nSomething's not right,\nwe have another one of those errors.\n\n319\n00:20:08.460 --> 00:20:10.590\nLet's see here.\n&gt;&gt; But were closer, Justin, we're closer.\n\n320\n00:20:10.590 --> 00:20:11.620\n&gt;&gt; We are, we are.\n\n321\n00:20:11.620 --> 00:20:15.120\nSo if we come back to\nthe SimpleComputerPaddle, let's see here.\n\n322\n00:20:15.120 --> 00:20:18.662\nIs the ball's y greater than this y?\n\n323\n00:20:18.662 --> 00:20:20.489\nThere's your SimpleComputerPaddle.\n\n324\n00:20:20.489 --> 00:20:28.556\nBut is the ball's x less\nthan this.x ball.radius?\n\n325\n00:20:30.568 --> 00:20:34.390\nHm, well it may be that we have\nto come back over the Skycam,\n\n326\n00:20:34.390 --> 00:20:36.060\nwe gotta draw a little more.\n\n327\n00:20:36.060 --> 00:20:38.716\nIt's a little difficult,\nand this is intentional,\n\n328\n00:20:38.716 --> 00:20:41.675\nbecause not everything is rainbows and\nunicorns, right?\n\n329\n00:20:41.675 --> 00:20:46.720\nSo let's come over and do a little bit\nof drawing just to see the difference.\n\n330\n00:20:46.720 --> 00:20:49.260\nSo there's our previous one,\nright, we had our height.\n\n331\n00:20:49.260 --> 00:20:51.513\nBut now let's look at the opposite paddle.\n\n332\n00:20:53.881 --> 00:21:01.790\nIf i look at the opposite paddle, and then\nwe have our ball coming over here, right?\n\n333\n00:21:01.790 --> 00:21:06.910\nWell, here is our paddle's top left,\nright?\n\n334\n00:21:06.910 --> 00:21:10.031\nSo this is px and py.\n\n335\n00:21:10.031 --> 00:21:13.590\nNow I'm changing conventions,\njust so we can talk about them.\n\n336\n00:21:13.590 --> 00:21:15.377\nSo that's a p, just in case.\n\n337\n00:21:15.377 --> 00:21:22.873\n&gt;&gt; [LAUGH]\n&gt;&gt; And then here, that's bx, by.\n\n338\n00:21:22.873 --> 00:21:25.380\nAnd then this is our respective height and\nour width.\n\n339\n00:21:25.380 --> 00:21:31.050\nNow, what we wanna know is,\nis this within a radius, right?\n\n340\n00:21:31.050 --> 00:21:34.100\nA ball radius of each other.\n\n341\n00:21:34.100 --> 00:21:40.140\nAnd, is this up and down,\ndoes it still lie within that same chunk?\n\n342\n00:21:40.140 --> 00:21:45.530\nSo that means that we want bx\n\n343\n00:21:45.530 --> 00:21:50.388\nis less than or equal to px,\n\n344\n00:21:50.388 --> 00:21:53.885\nright?\n\n345\n00:21:53.885 --> 00:21:59.670\nNope, nope, nope, nope, plus, and\nwe want to see if it's within.\n\n346\n00:21:59.670 --> 00:22:04.310\nThat's where we, it's not plus\nit's actually to the left, right?\n\n347\n00:22:04.310 --> 00:22:09.764\nSo we need a minus sign, and that is-\n&gt;&gt; Cuz it's returning to the left,\n\n348\n00:22:09.764 --> 00:22:10.790\nwhich is the negative.\n\n349\n00:22:10.790 --> 00:22:13.410\n&gt;&gt; Right, so what we wanna see is,\n\n350\n00:22:13.410 --> 00:22:17.610\nis the ball's x position less\nthan px minus the radius?\n\n351\n00:22:17.610 --> 00:22:22.048\nAnd this is where those alternative\nkind of, it all starts at the upper\n\n352\n00:22:22.048 --> 00:22:26.940\nleft-hand corner, coordinate system\nthat sometimes throws you for a loop.\n\n353\n00:22:26.940 --> 00:22:29.130\nSo now that we've figured that out,\n\n354\n00:22:29.130 --> 00:22:32.455\nactually let's go see if\nwe can get that to work.\n\n355\n00:22:32.455 --> 00:22:39.184\nSo get back into the code here, and\nwe change this to a minus sign, right?\n\n356\n00:22:39.184 --> 00:22:44.587\nAnd we refresh, and hm, still getting\n\n357\n00:22:44.587 --> 00:22:49.640\nsome weirdness, and why is that?\n\n358\n00:22:49.640 --> 00:22:55.720\nSo, If we look,\nwhen is this collision being detected?\n\n359\n00:22:57.720 --> 00:23:00.380\nWell we should probably put our\ndebugger statement back in there.\n\n360\n00:23:00.380 --> 00:23:01.220\n&gt;&gt; There you go.\n\n361\n00:23:01.220 --> 00:23:05.360\n&gt;&gt; So debugger and refresh.\n\n362\n00:23:05.360 --> 00:23:10.585\nAnd now if we look, and if we move,\n\n363\n00:23:10.585 --> 00:23:16.728\nand we move again, and I just wanna see.\n\n364\n00:23:20.186 --> 00:23:24.545\nSo there's collision detected,\ncollision detected, collision detected.\n\n365\n00:23:24.545 --> 00:23:26.800\nHm, so why is that?\n\n366\n00:23:28.020 --> 00:23:31.071\nIf we come over here and\nwe look at the game, let's make sure,\n\n367\n00:23:31.071 --> 00:23:34.192\ncomputer.collidedwithBall, collision\ndetected, okay.\n\n368\n00:23:34.192 --> 00:23:39.390\nIf we come over to the\nSimpleComputerPaddle, well that's right.\n\n369\n00:23:39.390 --> 00:23:44.715\nIs it maybe this one,\nthat the ball.y is is greater than this.y\n\n370\n00:23:44.715 --> 00:23:50.080\n&amp;&amp; ball.y is less than\nthis.y + this.height, hmm.\n\n371\n00:23:50.080 --> 00:23:52.900\n&gt;&gt; So Justin, you mentioned\nthe coordinates being shifted.\n\n372\n00:23:52.900 --> 00:23:57.579\nAnd since we have a minus, do we have to\nadjust anything else, or what's going on?\n\n373\n00:23:57.579 --> 00:24:00.210\n&gt;&gt; You know what, Zach,\nI think you might be onto something here.\n\n374\n00:24:00.210 --> 00:24:02.901\nActually, I think you\nmight be exactly correct.\n\n375\n00:24:02.901 --> 00:24:08.825\nSo let's go ahead and take a look,\nthis is one of those Weirdnesses,\n\n376\n00:24:08.825 --> 00:24:11.900\nif we look here, I think this is it.\n\n377\n00:24:11.900 --> 00:24:14.878\nI don't think we wanna check to\nsee if the ball's x is less than,\n\n378\n00:24:14.878 --> 00:24:16.490\nbecause that would be to the left.\n\n379\n00:24:16.490 --> 00:24:20.728\nWe actually wanna see if it's to the\nright, we wanna see if it's greater than.\n\n380\n00:24:20.728 --> 00:24:23.207\nPlus x is going the opposite way, so\n\n381\n00:24:23.207 --> 00:24:28.180\nI think greater than would change that,\nand you know what?\n\n382\n00:24:28.180 --> 00:24:33.828\nJust for giggles, let's go a head and\nchange that to ball.bounceX.\n\n383\n00:24:33.828 --> 00:24:37.820\nRight, so if it hits the computer pallet,\nboom, boom, boom, boom, so\n\n384\n00:24:37.820 --> 00:24:40.280\nnow let's refresh.\n\n385\n00:24:40.280 --> 00:24:42.340\nAnd I guess I actually need\nto move the paddle into play.\n\n386\n00:24:44.640 --> 00:24:48.910\nWe had a little bit of sticking there\nbecause the ball's moving pretty slow\n\n387\n00:24:48.910 --> 00:24:49.940\ncomparatively.\n\n388\n00:24:51.900 --> 00:24:55.400\nAnd let's speed that up just\na little bit so we can see.\n\n389\n00:24:56.420 --> 00:25:01.400\nAnd let's go -5, no,\n\n390\n00:25:01.400 --> 00:25:06.180\nlet's keep this as -5 and\ninstead of our computer panel\n\n391\n00:25:06.180 --> 00:25:10.705\nactually moving.\n\n392\n00:25:12.610 --> 00:25:16.030\nSo this update, I'm actually just\ngonna comment out this update and\n\n393\n00:25:16.030 --> 00:25:17.940\nhave it not move.\n\n394\n00:25:17.940 --> 00:25:22.420\nSo this doesn't do anything.\n\n395\n00:25:22.420 --> 00:25:24.393\nThat's good, it doesn't bounce.\n\n396\n00:25:24.393 --> 00:25:29.858\nWhat if we change the computer\npaddle to be top and bottom?\n\n397\n00:25:29.858 --> 00:25:35.296\nLet's actually move the panels down,\n\n398\n00:25:35.296 --> 00:25:40.899\nin general, to canvas.height divided\n\n399\n00:25:40.899 --> 00:25:46.430\nby 2- canvas.height divided by 3.\n\n400\n00:25:46.430 --> 00:25:48.370\nAnd that's because that's\nwhat the height is.\n\n401\n00:25:49.460 --> 00:25:54.587\nSo, if we refresh, boom and then boom.\n\n402\n00:25:54.587 --> 00:25:59.156\nAnd now we actually have a back and\nforth bouncing ball.\n\n403\n00:25:59.156 --> 00:26:00.721\n&gt;&gt; It's exciting and\nboring at the same time.\n\n404\n00:26:00.721 --> 00:26:02.038\n[LAUGH]\n&gt;&gt; I know, I know.\n\n405\n00:26:02.038 --> 00:26:04.090\nCollusions are detected, right?\n\n406\n00:26:04.090 --> 00:26:05.990\nAnd that's exactly what we wanted.\n\n407\n00:26:07.030 --> 00:26:12.598\nAnd so I'm actually gonna\nmove this down a little more.\n\n408\n00:26:12.598 --> 00:26:19.138\nSo if we refresh, bouncing, bouncing,\nand then there's our bouncing ball.\n\n409\n00:26:19.138 --> 00:26:21.325\nWe actually are moving back and forth,\n\n410\n00:26:21.325 --> 00:26:25.650\nand since this is the simple growing\npaddle that I've altered, guess what?\n\n411\n00:26:25.650 --> 00:26:28.480\nIt's still, actually, growing.\n\n412\n00:26:28.480 --> 00:26:32.300\nNow, there are our detect collisions,\ngood.\n\n413\n00:26:34.220 --> 00:26:35.960\nWe have it done, it's good.\n\n414\n00:26:35.960 --> 00:26:39.200\nThe paddles have become aware of the ball,\nand the collisions have been detected.\n\n415\n00:26:39.200 --> 00:26:41.715\nNow, it did take a little bit of work,\na little bit of debugging.\n\n416\n00:26:41.715 --> 00:26:44.428\nBecause well, those coordinate\nsystems will always throw you for\n\n417\n00:26:44.428 --> 00:26:47.515\na loop because they're a little bit\ndifferent than maybe you're used to.\n\n418\n00:26:47.515 --> 00:26:48.020\n&gt;&gt; Mm-hm.\n\n419\n00:26:48.020 --> 00:26:51.583\n&gt;&gt; But also, it just takes\na little bit of thought, right?\n\n420\n00:26:51.583 --> 00:26:53.564\nWhat am I checking for, what's going on?\n\n421\n00:26:53.564 --> 00:26:58.525\nAnd that's why I'm a big proponent of\ncollidedWithBall collidedWithBall.\n\n422\n00:26:58.525 --> 00:27:01.335\n&gt;&gt; Well Justin, couldn't we have\nmade the ball aware of the paddles,\n\n423\n00:27:01.335 --> 00:27:03.735\ninstead of the other way around and\ngot the same result?\n\n424\n00:27:03.735 --> 00:27:04.807\n&gt;&gt; We absolutely could have.\n\n425\n00:27:04.807 --> 00:27:07.790\nWe could've passed both the paddles\nin the construction of the ball.\n\n426\n00:27:07.790 --> 00:27:11.012\nAnd then you could ask the ball,\nhey, did you hit a paddle, right?\n\n427\n00:27:11.012 --> 00:27:14.722\nBut here's the reason why\nI chose to do it this way.\n\n428\n00:27:14.722 --> 00:27:17.753\nIf we passed in the paddle to the ball,\nwhich we would have to rearrange some of\n\n429\n00:27:17.753 --> 00:27:20.801\nthis code, right, the ball would have\nto be constructed after said paddle.\n\n430\n00:27:20.801 --> 00:27:22.444\n&gt;&gt; Mm-hm.\n\n431\n00:27:22.444 --> 00:27:23.379\n&gt;&gt; We would have to say, hey,\n\n432\n00:27:23.379 --> 00:27:26.228\nball, did you hit the left paddle or\nthe right paddle?\n\n433\n00:27:26.228 --> 00:27:31.160\nSo now we'd have to have two methods to\nthe ball that, hey, hit left, hit right,\n\n434\n00:27:31.160 --> 00:27:33.530\nor hit left paddle, hit right paddle.\n\n435\n00:27:33.530 --> 00:27:36.970\nAnd I think it's a little cleaner\nif you just ask the paddle,\n\n436\n00:27:36.970 --> 00:27:40.350\nthis is a little more uniform, hey,\ndid you collide with the ball?\n\n437\n00:27:40.350 --> 00:27:43.100\nAnd it goes, yes, and\nthen that way you can inform the ball.\n\n438\n00:27:43.100 --> 00:27:46.460\n&gt;&gt; Gotcha.\n&gt;&gt; As a matter of fact, see how this is\n\n439\n00:27:46.460 --> 00:27:52.725\nrepetitive, we don't even need two of\nthese if either one of them collide.\n\n440\n00:27:52.725 --> 00:27:57.675\nThen the ball needs to bounce,\nand that is still good to go.\n\n441\n00:27:57.675 --> 00:27:59.106\nBut we can get the same result,\n\n442\n00:27:59.106 --> 00:28:02.645\nwe've would've just had to have written\na little more code to be specific.\n\n443\n00:28:02.645 --> 00:28:05.710\nThere are probably abstractions\nthat we can apply there.\n\n444\n00:28:05.710 --> 00:28:10.034\nBut I'm more about the thought process,\nthan this is, the best way,\n\n445\n00:28:10.034 --> 00:28:11.585\nthe only way to write it.\n\n446\n00:28:12.750 --> 00:28:14.600\n&gt;&gt; And one more thing too.\n\n447\n00:28:14.600 --> 00:28:17.485\nIn the previous episode,\nwe were talking about the scoring and\n\n448\n00:28:17.485 --> 00:28:19.506\nwe had set up the basic scoring and\nwhatnot.\n\n449\n00:28:19.506 --> 00:28:23.290\nAnd typically, when a game ends it\nasks you if you wanna play it again.\n\n450\n00:28:23.290 --> 00:28:26.584\nThere might even be some kind\nof a [NOISE] kind of thing.\n\n451\n00:28:26.584 --> 00:28:28.750\nCan we add anything like that?\n\n452\n00:28:28.750 --> 00:28:31.500\n&gt;&gt; Well, you are absolutely correct, Zach.\n\n453\n00:28:31.500 --> 00:28:35.060\nAs it stands now, when someone wins,\nit just immediately restarts the game.\n\n454\n00:28:35.060 --> 00:28:38.767\nIt would've probably be nice if\nit stop and you could click and\n\n455\n00:28:38.767 --> 00:28:40.918\nmaybe you can keep a running store.\n\n456\n00:28:40.918 --> 00:28:44.403\nMaybe there's a sound play,\nand you know what?\n\n457\n00:28:44.403 --> 00:28:48.200\nI think we're at a point with the game\nwhere I might have some people play it.\n\n458\n00:28:48.200 --> 00:28:52.206\nSee what they think, take input like that.\n\n459\n00:28:52.206 --> 00:28:53.851\nAnd then maybe we'll come back and\n\n460\n00:28:53.851 --> 00:28:57.377\nadd some of those feature because this\nis more or less like an MVP, right?\n\n461\n00:28:57.377 --> 00:29:00.206\nA minimal viable product,\nthis gets the point across, but\n\n462\n00:29:00.206 --> 00:29:02.704\nthere's probably some\nthings that could be added.\n\n463\n00:29:02.704 --> 00:29:05.089\nSo we definitely don't\nhave time in this episode.\n\n464\n00:29:05.089 --> 00:29:10.140\nAnd I'd like to get additional feedback,\nbut your feedback is well appreciated.\n\n465\n00:29:10.140 --> 00:29:14.485\nBut we may come back and add some\nadditional features like [SOUND] or\n\n466\n00:29:14.485 --> 00:29:17.332\nlike a splash screen and things like that.\n\n467\n00:29:17.332 --> 00:29:19.892\n&gt;&gt; Fantastic, detecting collisions,\n\n468\n00:29:19.892 --> 00:29:23.900\nanother wonderful episode in\nthe HTML5 Canvas Projects.\n\n469\n00:29:23.900 --> 00:29:25.385\nAnything else you'd like\nto add before we go?\n\n470\n00:29:25.385 --> 00:29:29.810\n&gt;&gt; Well, I think for now,\nwe have a good minimal, viable product.\n\n471\n00:29:29.810 --> 00:29:32.530\nWe might come back with some\nadditional features, but there's so\n\n472\n00:29:32.530 --> 00:29:36.130\nmuch more that we can do\nwith the HTML5 Canvas setup.\n\n473\n00:29:36.130 --> 00:29:39.260\nI'd definitely stay tuned\nto see what's in store.\n\n474\n00:29:39.260 --> 00:29:43.880\n&gt;&gt; And by the way, you should see every\nsingle episode of HTML5 Canvas projects\n\n475\n00:29:43.880 --> 00:29:45.120\nbecause they're all awesome.\n\n476\n00:29:45.120 --> 00:29:46.710\nJustin's done an amazing job.\n\n477\n00:29:46.710 --> 00:29:48.354\nAlso, go to our course library.\n\n478\n00:29:48.354 --> 00:29:50.686\nTake a look at the hundreds\nof videos that are there,\n\n479\n00:29:50.686 --> 00:29:53.120\nall designed to help you go further.\n\n480\n00:29:53.120 --> 00:29:55.167\nAnd tell everybody you\nknow about DevProTV.\n\n481\n00:29:55.167 --> 00:29:56.300\nThey'll be glad you did.\n\n482\n00:29:56.300 --> 00:29:57.860\nThanks for watching, I'm Zach Memos.\n\n483\n00:29:57.860 --> 00:29:58.743\n&gt;&gt; And I'm Justin Dennison.\n\n484\n00:29:58.743 --> 00:29:59.870\n&gt;&gt; And we'll see you again soon.\n\n485\n00:29:59.870 --> 00:30:05.588\n[MUSIC]\n\n",
          "vimeoId": "235601179"
        }
      ],
      "title": "Pong"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Justin shows the design of the image editor that we are going to create in the browser. He shows how the planning leads to knowing how to implement a solution based on small pieces of a project.",
          "length": "883",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-2-1-1-designing_an_image_editor-092617.00_14_35_16.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-2-1-1-designing_an_image_editor-092617.00_14_35_16.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-2-1-1-designing_an_image_editor-092617.00_14_35_16.Still001-sm.jpg",
          "title": "Designing an Image Editor",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:03.143\n[MUSIC]\nThank you for\n\n2\n00:00:03.143 --> 00:00:07.862\nchoosing DevPro TV,\n\n3\n00:00:07.862 --> 00:00:16.510\nhelping you to learn wherever you go.\n\n4\n00:00:16.510 --> 00:00:18.120\nI'm your host Zach Memos, and\n\n5\n00:00:18.120 --> 00:00:22.790\nthis is HTML5,\nCanvas projects designing an image editor.\n\n6\n00:00:22.790 --> 00:00:26.790\nThe name of this episode and once again\nour IT and DevPro expert Justin Dennis has\n\n7\n00:00:26.790 --> 00:00:29.260\nsaid you know what Zack I'm going\nto help you out with this and\n\n8\n00:00:29.260 --> 00:00:30.800\nhere he is Justin good to see you.\n\n9\n00:00:30.800 --> 00:00:33.360\n&gt;&gt; It is good to be here Zack,\nand how are you today?\n\n10\n00:00:33.360 --> 00:00:37.670\n&gt;&gt; I'm doing good and excited to take\na look at this designing an image.\n\n11\n00:00:37.670 --> 00:00:41.380\nI hear it, I keep designing an image\neditor, what exactly is that all about?\n\n12\n00:00:41.380 --> 00:00:42.647\nI mean what are you building?\n\n13\n00:00:42.647 --> 00:00:49.070\n&gt;&gt; All right so, here's my thought, let\nme set the landscape for you so to speak,\n\n14\n00:00:49.070 --> 00:00:54.830\nso you can build games with an HTML5 game,\nyou can also modify and manipulate images.\n\n15\n00:00:54.830 --> 00:00:58.090\nSo here's my thought,\na very simple image editor,\n\n16\n00:00:58.090 --> 00:01:01.930\nthat you can apply a few filters that\nwe make, now what do I mean by filter?\n\n17\n00:01:01.930 --> 00:01:05.740\nI'm talking grayscale, sepia tone,\nmaybe a brighten filter.\n\n18\n00:01:05.740 --> 00:01:11.280\nAnd then once we get that all made\nI wanna be able to save the image.\n\n19\n00:01:11.280 --> 00:01:12.280\n&gt;&gt; Okay.\n&gt;&gt; Now,\n\n20\n00:01:12.280 --> 00:01:15.730\nwe're not gonna make this full fledged,\nbut this is a thought process.\n\n21\n00:01:15.730 --> 00:01:18.130\nHow do I build these things, right?\n\n22\n00:01:18.130 --> 00:01:20.510\nWon't necessarily be fully polished, but\n\n23\n00:01:20.510 --> 00:01:23.740\nI also want to set expectation for\nan image editor.\n\n24\n00:01:23.740 --> 00:01:26.060\nBecause when I say image editors\nsome people are like, so\n\n25\n00:01:26.060 --> 00:01:28.992\nit can draw vector graphics and\nall kinda these other things and layers.\n\n26\n00:01:28.992 --> 00:01:34.420\nNo, no, no, no, you are going to load an\nimage, you are going to apply a filter and\n\n27\n00:01:34.420 --> 00:01:36.030\nthen you are going to save the image.\n\n28\n00:01:36.030 --> 00:01:42.120\nSo very, very basic but it does kinda tie\nin like, why would I need to get image\n\n29\n00:01:42.120 --> 00:01:47.555\ndata and manipulate the image data well,\nyou can add these filters as you see fit.\n\n30\n00:01:47.555 --> 00:01:49.840\n&gt;&gt; DevPro baby steps, so\nwhat is our first step?\n\n31\n00:01:50.960 --> 00:01:53.355\n&gt;&gt; So our first step is probably design,\nright?\n\n32\n00:01:53.355 --> 00:01:55.710\n&gt;&gt; Mm-hm.\n&gt;&gt; Well, what do I wanna build?\n\n33\n00:01:55.710 --> 00:01:56.930\nHow do I want to interact with it?\n\n34\n00:01:56.930 --> 00:02:01.297\nWhat is it gonna look like and\nhow this all gonna tie together and\n\n35\n00:02:01.297 --> 00:02:05.650\nmy big impressive is you should always,\n\n36\n00:02:05.650 --> 00:02:11.010\nalways draw out and kinda do some labeling\nto figure out hey, what are we building?\n\n37\n00:02:11.010 --> 00:02:12.940\nLike what's going on?\n\n38\n00:02:12.940 --> 00:02:14.700\nSo we're actually gonna draw it out.\n\n39\n00:02:14.700 --> 00:02:16.590\nI'm a big fan of drawing, right?\n\n40\n00:02:16.590 --> 00:02:20.810\nOne part of problem solving\nis drawing out your layout or\n\n41\n00:02:20.810 --> 00:02:23.640\ndrawing out everything that you know and\nkinda model.\n\n42\n00:02:23.640 --> 00:02:26.790\nSo let's go ahead and\ncome over to the sky cam and\n\n43\n00:02:26.790 --> 00:02:30.980\nlet's just draw our gesture,\nor Jester, Jester?\n\n44\n00:02:30.980 --> 00:02:31.750\n&gt;&gt; Jester.\n\n45\n00:02:31.750 --> 00:02:35.470\n&gt;&gt; Jester drawing, that quick drawing\nthat doesn't have a lot of detail.\n\n46\n00:02:35.470 --> 00:02:36.430\nSo here's what I'm thinking.\n\n47\n00:02:36.430 --> 00:02:39.770\n&gt;&gt; Sketch.\n&gt;&gt; If this is our screen, right?\n\n48\n00:02:39.770 --> 00:02:42.370\nThis is what we see inside of the browser.\n\n49\n00:02:42.370 --> 00:02:47.427\nI'm kind of thinking\nmaybe a button here for\n\n50\n00:02:47.427 --> 00:02:52.073\nopen and maybe a button here for apply and\n\n51\n00:02:52.073 --> 00:02:57.280\nmaybe a little drop down box for\nthe filters.\n\n52\n00:02:57.280 --> 00:03:00.610\nSo I'm just gonna dictate that\nis this little drop down box,\n\n53\n00:03:00.610 --> 00:03:05.890\nlet's just say grayscale and we'll come\nback and label that a little more.\n\n54\n00:03:07.260 --> 00:03:12.080\nAnd then maybe a button for\nsave, right, and\n\n55\n00:03:12.080 --> 00:03:15.825\nmaybe some way to set those apart,\nthe controls so to speak.\n\n56\n00:03:15.825 --> 00:03:20.920\n&gt;&gt; Mm-hm.\n&gt;&gt; From this little image area portion,\n\n57\n00:03:20.920 --> 00:03:24.760\nokay and\nthen this is actually gonna be our canvas.\n\n58\n00:03:24.760 --> 00:03:28.210\nAnd so when we open we'll load\nan image into the canvas and\n\n59\n00:03:28.210 --> 00:03:31.060\nthen we can have an image, right.\n\n60\n00:03:31.060 --> 00:03:34.460\nLet's just do a smiley face or\nsomething like that.\n\n61\n00:03:34.460 --> 00:03:36.640\n&gt;&gt; Right.\n&gt;&gt; So let's do a little bit of labelling.\n\n62\n00:03:38.340 --> 00:03:41.929\nSo this is the opened image,\nand it's on the canvas.\n\n63\n00:03:44.459 --> 00:03:47.210\nNow how would this get here?\n\n64\n00:03:47.210 --> 00:03:50.650\nWell this is how we load\nan image on the Canvas.\n\n65\n00:03:53.197 --> 00:03:54.368\nThat's not how you spell image.\n\n66\n00:03:54.368 --> 00:04:01.850\n[LAUGH] Onto canvas, okay so when I\nclick the open, and this is kinda hard.\n\n67\n00:04:01.850 --> 00:04:04.410\nI'm thinking maybe like\nan open dialogue box or\n\n68\n00:04:04.410 --> 00:04:07.870\nsomething like when you click open on your\ncomputer you get a little open dialog box.\n\n69\n00:04:07.870 --> 00:04:12.900\nThat could be, a little tricky and then\nhere this image would be whatever it looks\n\n70\n00:04:12.900 --> 00:04:17.770\nlike on the page, unless you select,\nselect the filter.\n\n71\n00:04:20.743 --> 00:04:25.195\nAnd you apply that filter now I\ncould change that to where it just\n\n72\n00:04:25.195 --> 00:04:27.530\nautomatically does that.\n\n73\n00:04:27.530 --> 00:04:32.540\nBut just to save on some computation and\nthings\n\n74\n00:04:32.540 --> 00:04:38.220\nthis applies the filter that is selected,\napplies selected filter.\n\n75\n00:04:41.510 --> 00:04:45.491\nOkay, and then once you have\nthat on I'm thinking for\n\n76\n00:04:45.491 --> 00:04:48.470\nthese filters you only can apply one.\n\n77\n00:04:48.470 --> 00:04:50.190\nNow in a real image editor,\na full fledged one,\n\n78\n00:04:50.190 --> 00:04:53.780\nI would be able to say, I want to\ngrayscale it, I want to then brighten it,\n\n79\n00:04:53.780 --> 00:04:58.850\nthen let me apply sepia, let me grayscale\nit again, you could go crazy with that.\n\n80\n00:04:58.850 --> 00:05:03.530\nBut I think for us I think it makes\nsense just to have a single filter so\n\n81\n00:05:03.530 --> 00:05:05.920\nwe can understand how\nthings are going along.\n\n82\n00:05:05.920 --> 00:05:06.680\n&gt;&gt; The mechanics.\n\n83\n00:05:06.680 --> 00:05:09.700\n&gt;&gt; The mechanics and then once you\nhave this looking how you want it,\n\n84\n00:05:09.700 --> 00:05:13.160\neither grayscale, sepia,\nbrighten, whatever it may be,\n\n85\n00:05:13.160 --> 00:05:17.570\nthen you can click save and\nyou download the copy.\n\n86\n00:05:19.000 --> 00:05:25.860\nDownload a copy of the image with the\nfilter, so download the filtered image.\n\n87\n00:05:26.910 --> 00:05:30.600\nNow, when I say download it's not actually\na network request, it's just gonna\n\n88\n00:05:30.600 --> 00:05:33.730\nsimulate a download so it goes in your\ndownloads folder, and it's a copy.\n\n89\n00:05:33.730 --> 00:05:35.590\n&gt;&gt; Okay.\n&gt;&gt; Now I'm thinking,\n\n90\n00:05:35.590 --> 00:05:38.530\njust to make this easy,\nI'm gonna keep this fairly static.\n\n91\n00:05:38.530 --> 00:05:43.220\nThis is going to be whatever it is,\nsome height.\n\n92\n00:05:45.594 --> 00:05:47.910\nAnd then this is going to be some width.\n\n93\n00:05:49.990 --> 00:05:56.690\nAnd because this entire area, we may have\nsome interesting issues with saving.\n\n94\n00:05:56.690 --> 00:05:59.210\nWe might get some transparent\nbackgrounds and stuff.\n\n95\n00:05:59.210 --> 00:06:01.540\nNow, I know that\n\n96\n00:06:02.960 --> 00:06:07.880\nwe can get images that are either PNG or\nJPG.\n\n97\n00:06:09.060 --> 00:06:12.000\nI'm not sure if we can get some other\ntypes of images we may have to do some\n\n98\n00:06:12.000 --> 00:06:15.510\nresearch there but\nkinda our workflow is we load an image.\n\n99\n00:06:15.510 --> 00:06:18.400\nIt shows up here we apply, and\n\n100\n00:06:18.400 --> 00:06:24.030\nI think something here is we want to\nessentially apply no filter, right?\n\n101\n00:06:24.030 --> 00:06:29.010\nSo once we go grayscale we\ncan then say no filter and\n\n102\n00:06:29.010 --> 00:06:30.780\nthen go back to the original image.\n\n103\n00:06:32.380 --> 00:06:36.310\nSo then we can apply filter, we do\nwhatever we want to and then we click\n\n104\n00:06:36.310 --> 00:06:40.640\nsave and we get a copy of that file\nwith maybe some random file name,\n\n105\n00:06:40.640 --> 00:06:42.970\nor something like that and\nthen you can rename it.\n\n106\n00:06:42.970 --> 00:06:46.560\nNow again, not full fledged, but\nkind of an interesting take,\n\n107\n00:06:46.560 --> 00:06:52.300\nbecause with the advent of various social\nmedia, this is a fairly prominent thing.\n\n108\n00:06:52.300 --> 00:06:56.070\nAnd this will give us some insight about\na little bit how this filtering is done,\n\n109\n00:06:56.070 --> 00:06:57.330\nhow the saving is done.\n\n110\n00:06:57.330 --> 00:07:01.430\nIt will not be Inkscape, or Gimp or\n\n111\n00:07:01.430 --> 00:07:06.340\nPhotoshop any of those scale type\nof applications, that gives us\n\n112\n00:07:06.340 --> 00:07:10.715\na good starting point, a good working\npoint to, to get things rolling.\n\n113\n00:07:10.715 --> 00:07:13.160\n&gt;&gt; Mm mm I see [INAUDIBLE].\n\n114\n00:07:13.160 --> 00:07:15.980\nSo the top portion, the open the apply,\n\n115\n00:07:15.980 --> 00:07:19.370\nthe save, that's part of the editor\nthat's the editor itself, right?\n\n116\n00:07:19.370 --> 00:07:20.930\n&gt;&gt; That is, that it is and\n\n117\n00:07:20.930 --> 00:07:26.660\nyou know it kinda brings up the point that\ndo we put this on the canvas, do we not?\n\n118\n00:07:26.660 --> 00:07:29.870\n&gt;&gt; Is it exclusively on the canvas,\nor can we move it somewhere else?\n\n119\n00:07:29.870 --> 00:07:33.500\n&gt;&gt; Well, I think what I'm going to do, we\ncould put those buttons on the canvas, we\n\n120\n00:07:33.500 --> 00:07:36.650\ncould put everything in canvas, but then\nwe would have like a canvas in a canvas.\n\n121\n00:07:36.650 --> 00:07:40.990\nWhat I'm thinking is, is we can have\nvarious web development, right?\n\n122\n00:07:40.990 --> 00:07:44.270\nLet's have a button, and\nA couple of buttons or maybe a drop down.\n\n123\n00:07:44.270 --> 00:07:47.810\nAnd we just do standard web\nform type [INAUDIBLE] and\n\n124\n00:07:47.810 --> 00:07:49.220\nthen the canvas is separate.\n\n125\n00:07:49.220 --> 00:07:54.340\nThat way we can manipulate the canvas\nindependently of all of the controls.\n\n126\n00:07:54.340 --> 00:07:57.540\nThat makes a little more sense to\nme because manipulating buttons,\n\n127\n00:07:57.540 --> 00:08:02.320\nI mean that's more or less what web forms\nare for I don't have to then detect\n\n128\n00:08:02.320 --> 00:08:06.900\nareas like, I click on this part\nof the canvas that is a button.\n\n129\n00:08:06.900 --> 00:08:08.800\nNow we could do that if\nwe wanted to go crazy,\n\n130\n00:08:08.800 --> 00:08:13.360\nbut I think the canvas is only going to be\nabout the image, all of the other controls\n\n131\n00:08:13.360 --> 00:08:18.400\nare going to be separate to the actual\ncontrols or anything like that.\n\n132\n00:08:18.400 --> 00:08:21.010\n&gt;&gt; So you could use the editor for\nmultiple canvases?\n\n133\n00:08:21.010 --> 00:08:25.430\n&gt;&gt; We could technically use the editor for\nmultiple canvases, we could do a tiled.\n\n134\n00:08:25.430 --> 00:08:30.610\nHere's the original and here's all\nthe filters and then, I wanna save and\n\n135\n00:08:30.610 --> 00:08:34.400\nmaybe the save is a drop down, that could\nalways be a tweak that we do later.\n\n136\n00:08:34.400 --> 00:08:35.160\n&gt;&gt; Cool.\n\n137\n00:08:35.160 --> 00:08:38.405\n&gt;&gt; I wanna save the grayscale and\nI wanna save the sepia, but for\n\n138\n00:08:38.405 --> 00:08:41.485\nnow I think one at a time is probably\na pretty good approximation.\n\n139\n00:08:41.485 --> 00:08:43.755\n&gt;&gt; Well, let's see what you do,\nsir, first steps.\n\n140\n00:08:43.755 --> 00:08:45.445\n&gt;&gt; Well, our first steps, right?\n\n141\n00:08:45.445 --> 00:08:46.805\nAnd before we implement this interface,\n\n142\n00:08:46.805 --> 00:08:49.595\nwe do have a little bit of setup to do,\nright?\n\n143\n00:08:49.595 --> 00:08:52.545\nJust some very basic setup and\nI think it'll be pretty straightforward.\n\n144\n00:08:52.545 --> 00:08:58.045\nSo let's go ahead and\ncome down into my computer here and\n\n145\n00:08:58.045 --> 00:09:00.260\nI have simple folder, image-editor.\n\n146\n00:09:00.260 --> 00:09:03.040\nThere just, that's it,\nthere's nothing in it.\n\n147\n00:09:03.040 --> 00:09:05.480\n&gt;&gt; [LAUGH]\n&gt;&gt; And\n\n148\n00:09:05.480 --> 00:09:08.000\nwe do wanna get some things kinda stubbed\n\n149\n00:09:08.000 --> 00:09:12.200\nout just in anticipation of building\nup the remainder of our interface.\n\n150\n00:09:12.200 --> 00:09:15.020\nSo let's make sure all of those\npieces work before we worry\n\n151\n00:09:15.020 --> 00:09:17.010\nabout all of the implementation details.\n\n152\n00:09:17.010 --> 00:09:22.360\nSo I'm actually going to go ahead and\nopen Atom with this.\n\n153\n00:09:22.360 --> 00:09:27.440\nSo I used atom open Atom space dot Windows\nusers, you may just have to open Atom and\n\n154\n00:09:27.440 --> 00:09:32.550\ngo to file add project folder,\nand add that project folder.\n\n155\n00:09:32.550 --> 00:09:35.603\nSo just as a reminder to that and then,\n\n156\n00:09:37.448 --> 00:09:42.024\nThe re-arranging of Windows I\ndefinitely gotta figure that out.\n\n157\n00:09:42.024 --> 00:09:44.810\n&gt;&gt; [LAUGH]\n&gt;&gt; That is a constant struggle,\n\n158\n00:09:44.810 --> 00:09:50.110\nit's on the dance, it is, so this has\ncome down under the image editor and\n\n159\n00:09:50.110 --> 00:09:53.770\nlet's create a new file,\nwe're gonna call that index.html, no,\n\n160\n00:09:53.770 --> 00:09:58.650\nthere is nothing special about this file\nother than if you put this folder on\n\n161\n00:09:58.650 --> 00:10:02.570\nsomething, then index.html would\nbe immediately wanna serve that.\n\n162\n00:10:03.740 --> 00:10:07.100\nWe know that we're gonna need JavaScript,\nright?\n\n163\n00:10:07.100 --> 00:10:08.290\nThe canvas is just that.\n\n164\n00:10:08.290 --> 00:10:14.840\nSo we're gonna say app.js and\nyou know what?\n\n165\n00:10:14.840 --> 00:10:18.540\nNot even sure if we're gonna\nstart with CSS, maybe we don't.\n\n166\n00:10:18.540 --> 00:10:21.040\nThis is gonna create the file\nwe can always remove it if\n\n167\n00:10:21.040 --> 00:10:24.080\nwe don't need it later so main.css.\n\n168\n00:10:24.080 --> 00:10:25.850\nAll right, let's get these set up and\n\n169\n00:10:25.850 --> 00:10:29.430\nmake sure they're all good to go\nbefore we worry about anything else.\n\n170\n00:10:29.430 --> 00:10:32.530\nSo if we come back to index.html,\nif you come into Atom and\n\n171\n00:10:32.530 --> 00:10:37.030\nyou type HTML enter, it stubs this out.\n\n172\n00:10:37.030 --> 00:10:41.750\nOkay, let's just call it Image Editor,\nI know it's a very original name and\n\n173\n00:10:41.750 --> 00:10:44.010\nthen let's create a link tag.\n\n174\n00:10:44.010 --> 00:10:46.730\nNow, how am I getting all of that?\n\n175\n00:10:46.730 --> 00:10:50.360\nLet me be a little more specific.\n\n176\n00:10:50.360 --> 00:10:55.350\nSo I'm gonna hit link and I'm gonna\nhit Enter, and it fills these in for\n\n177\n00:10:55.350 --> 00:10:57.792\nyou, but that's not what I want,\nI actually want main.css.\n\n178\n00:10:57.792 --> 00:11:04.470\nAnd I'm gonna self close these and\nlet's put in our script tab.\n\n179\n00:11:05.470 --> 00:11:10.450\nSo there's script and I don't want\nthat one, I want script src=\"app.sj\"\n\n180\n00:11:10.450 --> 00:11:14.590\nnow those are built in add on by default.\n\n181\n00:11:14.590 --> 00:11:17.590\nYou get those little drop down boxes and\njust hit enter.\n\n182\n00:11:17.590 --> 00:11:20.910\nI'm just hitting enter once I\nselected those with those arrows.\n\n183\n00:11:20.910 --> 00:11:23.710\nI don't technically need the charset,\ndoesn't hurt, that's fine.\n\n184\n00:11:23.710 --> 00:11:27.510\nAll of my stuff should be UTF-8 so\nwe're good to go.\n\n185\n00:11:27.510 --> 00:11:33.600\nNow that I have these set up something\nthat I like to get things kinda\n\n186\n00:11:33.600 --> 00:11:39.467\nworking is in the app.js,\nI'm gonna say console.log(\n\n187\n00:11:39.467 --> 00:11:43.720\n\"working\") and for the main.css,\n\n188\n00:11:43.720 --> 00:11:48.800\nI always like to change the body's\nbackground color, just to make sure that's\n\n189\n00:11:48.800 --> 00:11:54.680\nall good to go to something really bright,\nreally festive like salmon.\n\n190\n00:11:54.680 --> 00:11:56.060\n&gt;&gt; You love that salmon.\n\n191\n00:11:56.060 --> 00:11:59.260\n&gt;&gt; So if we come back we should be good.\n\n192\n00:11:59.260 --> 00:12:00.650\nRight this should all work and\n\n193\n00:12:00.650 --> 00:12:03.500\nnow we can test to see if we're\nready to create the user interface.\n\n194\n00:12:05.400 --> 00:12:07.200\nHow do we open this up in Chrome?\n\n195\n00:12:07.200 --> 00:12:12.370\nWell from the command line for me I can\nactually just type open and it's HTML.\n\n196\n00:12:12.370 --> 00:12:15.760\nBut for the most part and\nthat could be a little iffy for people.\n\n197\n00:12:15.760 --> 00:12:22.390\nSo if we go to file, open file and\nthen we come to image editor, right?\n\n198\n00:12:22.390 --> 00:12:26.790\nSo I'm, I just found this on my computer,\nimage-editor.\n\n199\n00:12:26.790 --> 00:12:30.910\nAnd I go to index.html, and\nwe open, and then there it is.\n\n200\n00:12:30.910 --> 00:12:32.260\nSo the salmon background works.\n\n201\n00:12:32.260 --> 00:12:32.880\n&gt;&gt; Definitely salmon.\n\n202\n00:12:32.880 --> 00:12:38.240\n&gt;&gt; The salmon background works, and then\nthe working actually gets printed out.\n\n203\n00:12:38.240 --> 00:12:40.320\nThat is actually the extent of our setup\n\n204\n00:12:41.390 --> 00:12:45.540\none final thing though when you're\nworking with images loaded.\n\n205\n00:12:45.540 --> 00:12:50.110\nSometimes you may need to serve\nthis from an actual server.\n\n206\n00:12:50.110 --> 00:12:55.660\nWe will deal with that when and\nif we need to but as it stands, as long\n\n207\n00:12:55.660 --> 00:13:01.120\nas we have the setup we could probably\ngo ahead and get the interface going.\n\n208\n00:13:01.120 --> 00:13:04.720\nBut maybe we should focus on that cuz\nI know there's probably gonna be some\n\n209\n00:13:04.720 --> 00:13:08.426\nlayout and\nsome tweaking of IDs and classes.\n\n210\n00:13:08.426 --> 00:13:12.760\nWe have our design,\nwe have our basic setup.\n\n211\n00:13:12.760 --> 00:13:15.940\nAnd actually, let's remove that\nbackground color of salmon.\n\n212\n00:13:15.940 --> 00:13:18.195\nIt's so beautiful, but\nonly in small spurts.\n\n213\n00:13:18.195 --> 00:13:19.000\n&gt;&gt; [LAUGH]\n&gt;&gt; And\n\n214\n00:13:19.000 --> 00:13:23.950\nthen let's remove out at.js and\n&gt;&gt; Let's make sure that we don't have\n\n215\n00:13:23.950 --> 00:13:26.280\nany rendering issues here.\n\n216\n00:13:26.280 --> 00:13:28.230\n&gt;&gt; The salmon is better than plaid,\nby the way.\n\n217\n00:13:28.230 --> 00:13:30.870\n&gt;&gt; It is, it is, it is and then,\n\n218\n00:13:30.870 --> 00:13:33.170\nlet's just say image-\n&gt;&gt; Not as busy.\n\n219\n00:13:33.170 --> 00:13:38.210\n&gt;&gt; Editor, all right so there's our image\neditor so everything's rendering it.\n\n220\n00:13:38.210 --> 00:13:41.340\nAs long as we have this setup, we should\nbe able to implement our interface,\n\n221\n00:13:41.340 --> 00:13:43.420\nactually laying things out, styling them.\n\n222\n00:13:43.420 --> 00:13:47.990\nSo on and so forth if we so choose to,\nbut maybe we shouldn't do that now,\n\n223\n00:13:47.990 --> 00:13:51.300\nmaybe we should dedicate an entire\nepisode just to laying out and\n\n224\n00:13:51.300 --> 00:13:53.400\ninstalling the image\nout of your interface.\n\n225\n00:13:53.400 --> 00:13:56.400\n&gt;&gt; Wow, so this is our episode,\ndesigning an image editor?\n\n226\n00:13:56.400 --> 00:13:58.580\nWe're just ready to go, that's fantastic!\n\n227\n00:13:58.580 --> 00:13:59.630\nAny last words?\n\n228\n00:13:59.630 --> 00:14:02.310\n&gt;&gt; Well, this is gonna be one of\nthose things where you're like,\n\n229\n00:14:02.310 --> 00:14:04.850\nthis is fairly straightforward,\nfairly straightforward.\n\n230\n00:14:04.850 --> 00:14:06.140\nWell, it got really complicated.\n\n231\n00:14:06.140 --> 00:14:10.960\nSo definitely stay tuned for ever episode,\nbecause there may not be a lot of them,\n\n232\n00:14:10.960 --> 00:14:15.320\nbut some of them may be very dense in\nwhat's going on within the episode.\n\n233\n00:14:15.320 --> 00:14:17.765\nSo Hopefully we'll see you there.\n\n234\n00:14:17.765 --> 00:14:22.200\n&gt;&gt; HTML5, Canvas projects continues\nmake sure you see all the episodes,\n\n235\n00:14:22.200 --> 00:14:24.330\nJustin's doing a marvelous\njob as he always does.\n\n236\n00:14:24.330 --> 00:14:27.000\nHey, and make sure you visit the course\nlibrary and check out all the hundreds of\n\n237\n00:14:27.000 --> 00:14:30.290\nvideos there,\nall designed to help you go further.\n\n238\n00:14:30.290 --> 00:14:33.310\nAnd tell everybody you know about\nDevpro TV they'll be glad you did.\n\n239\n00:14:33.310 --> 00:14:34.920\nThanks for watching, I'm Zach Memos.\n\n240\n00:14:34.920 --> 00:14:35.710\n&gt;&gt; And I'm Justin Dennison.\n\n241\n00:14:35.710 --> 00:14:36.722\n&gt;&gt; And we'll see you again soon.\n\n242\n00:14:36.722 --> 00:14:39.372\n[SOUND]\n\n",
          "vimeoId": "235603087"
        },
        {
          "description": "In this episode, Justin demonstrates implementing the interface design from the previous episode. As a first pass on the layout, this may change as more functionality is necessary.",
          "length": "1164",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-2-2-1-setting_up_the_interface-092617.00_19_16_25.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-2-2-1-setting_up_the_interface-092617.00_19_16_25.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-2-2-1-setting_up_the_interface-092617.00_19_16_25.Still001-sm.jpg",
          "title": "Setting up the Interface",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.638 --> 00:00:14.863\nHello, and thank you for\nchoosing DevPro.TV,\n\n3\n00:00:14.863 --> 00:00:16.500\nhelping you learn wherever you go.\n\n4\n00:00:16.500 --> 00:00:20.650\nI'm your host Zach Memos, and\nthis is HTML5, Canvas Projects.\n\n5\n00:00:20.650 --> 00:00:24.570\nAnd we're looking at setting up\nthe interface with our IT Dev Pro expert,\n\n6\n00:00:24.570 --> 00:00:27.440\nthe one and only Justin Dennison,\nJustin, good to see you again, sir.\n\n7\n00:00:27.440 --> 00:00:29.910\n&gt;&gt; It is good to see you as well,\nZack, I'm happy to be back here.\n\n8\n00:00:29.910 --> 00:00:30.690\nAnd how are you today?\n\n9\n00:00:30.690 --> 00:00:34.590\n&gt;&gt; Well, I'm excited because in\nthe last episode we were looking at\n\n10\n00:00:34.590 --> 00:00:37.220\ndesigning an editor, an image editor.\n\n11\n00:00:37.220 --> 00:00:40.630\nAnd you know we've got the files made but\nwe, now that we've got the created,\n\n12\n00:00:40.630 --> 00:00:41.610\nwhat do we do first?\n\n13\n00:00:41.610 --> 00:00:42.560\nWhat's the next step?\n\n14\n00:00:42.560 --> 00:00:44.860\n&gt;&gt; So we had our initial file setup,\nright?\n\n15\n00:00:44.860 --> 00:00:46.020\nWe had a design, right?\n\n16\n00:00:46.020 --> 00:00:48.060\nWhat do I want it to look like?\n\n17\n00:00:48.060 --> 00:00:49.553\nWell, what do I want it to look like,\n\n18\n00:00:49.553 --> 00:00:51.490\nI should probably have\npulled some customers.\n\n19\n00:00:51.490 --> 00:00:54.550\nBut this is more about a learning\nexperience than it is actually something\n\n20\n00:00:54.550 --> 00:00:56.480\nthat I would probably deploy.\n\n21\n00:00:56.480 --> 00:00:59.741\nSo we're gonna build something\npractically with the HTML 5 canvas,\n\n22\n00:00:59.741 --> 00:01:01.906\nit'll really help cement what we're doing.\n\n23\n00:01:01.906 --> 00:01:06.959\nNow, in this episode, probably most of our\ntime is going to be on the HTML layout,\n\n24\n00:01:06.959 --> 00:01:11.723\nand, well, we'll see how much time that\ntakes and see whether Zach's gonna\n\n25\n00:01:11.723 --> 00:01:15.830\ngive it his nod of approval\nbefore we do anything else there.\n\n26\n00:01:15.830 --> 00:01:19.118\nSo I think, probably, Zach,\nif I'm not mistaken, we should\n\n27\n00:01:19.118 --> 00:01:21.711\nprobably go ahead and get started\n&gt;&gt; We'll be looking at\n\n28\n00:01:21.711 --> 00:01:22.870\nthe interface, right?\n\n29\n00:01:22.870 --> 00:01:23.400\n&gt;&gt; Yep.\n&gt;&gt; Yeah.\n\n30\n00:01:23.400 --> 00:01:25.660\n&gt;&gt; So we're gonna create the layout,\nand we'll be good to go.\n\n31\n00:01:25.660 --> 00:01:26.420\nSo let's go ahead and\n\n32\n00:01:26.420 --> 00:01:30.040\ntake a look at my computer here, and,\nwell, this is all we have right now.\n\n33\n00:01:30.040 --> 00:01:31.270\nThat is a horrible image editor.\n\n34\n00:01:32.620 --> 00:01:36.600\nLet's move that over and,\nwell, that's what we have.\n\n35\n00:01:36.600 --> 00:01:39.420\nBut let's start with our HTML layout.\n\n36\n00:01:39.420 --> 00:01:43.185\nAnd I'm gonna apparently\nopen the Settings file.\n\n37\n00:01:43.185 --> 00:01:46.080\n&gt;&gt; [LAUGH]\n&gt;&gt; Close this off to the side and\n\n38\n00:01:46.080 --> 00:01:46.960\nhere's what I'm thinking.\n\n39\n00:01:46.960 --> 00:01:48.170\nBased on our design,\n\n40\n00:01:48.170 --> 00:01:49.990\nwe need a, kind of a top level-\n&gt;&gt; Yes.\n\n41\n00:01:49.990 --> 00:01:51.020\n&gt;&gt; For our controls.\n\n42\n00:01:51.020 --> 00:01:51.720\n&gt;&gt; We do.\n&gt;&gt; And\n\n43\n00:01:51.720 --> 00:01:56.730\nthen we need a bottom section for\nour canvas.\n\n44\n00:01:56.730 --> 00:02:01.450\nSo I think I'm going to go about\nkind of doing that, all right?\n\n45\n00:02:01.450 --> 00:02:05.620\nSo I'm gonna say &lt;section&gt; and\nI actually need two of these.\n\n46\n00:02:05.620 --> 00:02:09.230\nNow just a CMD+Shift D to\nget these two sections.\n\n47\n00:02:09.230 --> 00:02:13.244\nThis first section,\nI think I'm gonna call that the menu.\n\n48\n00:02:13.244 --> 00:02:17.020\nBut it's not strictly a menu but\nI think it'll be all right.\n\n49\n00:02:18.660 --> 00:02:24.610\nAnd then this other section is going\nto be maybe Into the canvas section or\n\n50\n00:02:24.610 --> 00:02:30.780\nthe drawing session or maybe even the\nimage section, we may not need that, but\n\n51\n00:02:30.780 --> 00:02:35.870\nI'm gonna use these semantically, we'll\ncomeback and tweet that as necessary.\n\n52\n00:02:36.900 --> 00:02:40.490\nSo let's start with the bottom section\ncuz this is actually pretty easy\n\n53\n00:02:40.490 --> 00:02:42.300\nto get implemented.\n\n54\n00:02:42.300 --> 00:02:43.870\nI'm gonna say canvas.\n\n55\n00:02:43.870 --> 00:02:48.730\nAnd within this canvas, I'm gonna give it\n\n56\n00:02:48.730 --> 00:02:53.050\na class of image-area just like so and\n\n57\n00:02:53.050 --> 00:02:58.184\nthen a width of 800 and a height of 500.\n\n58\n00:02:58.184 --> 00:03:00.930\nAnd that's just for\nsome aspect ratios there.\n\n59\n00:03:00.930 --> 00:03:03.590\nWe could probably make this\na variety of things, but\n\n60\n00:03:03.590 --> 00:03:05.775\nwe're gonna leave it at 800 by 500.\n\n61\n00:03:05.775 --> 00:03:06.900\nWe could do 800 by 600.\n\n62\n00:03:06.900 --> 00:03:09.980\nYou know, 400 x 300, all kinds of stuff.\n\n63\n00:03:09.980 --> 00:03:11.790\nBut we're gonna go with that for now.\n\n64\n00:03:11.790 --> 00:03:16.010\nSo that's kind of our bottom section, and\n\n65\n00:03:16.010 --> 00:03:20.070\nif we look at our menu now,\nour menu gets a little more complicated.\n\n66\n00:03:20.070 --> 00:03:22.270\nWe need a set of controls,\n\n67\n00:03:22.270 --> 00:03:26.748\nand I'm thinking I want those\nat least In a list of some sort.\n\n68\n00:03:26.748 --> 00:03:31.400\nSo I'm gonna say,\nunordered list with the class of controls,\n\n69\n00:03:32.740 --> 00:03:39.090\nis like so, and then we have our list\narea, and I'm gonna say input of type\n\n70\n00:03:39.090 --> 00:03:43.930\nfile, and I maybe more specific,\nbecause I'm using it and plugging there.\n\n71\n00:03:43.930 --> 00:03:47.380\nSo I'm gonna say input and hit Enter and\nthen I'm gonna say file and\n\n72\n00:03:47.380 --> 00:03:51.140\nthen remove these respective\nthings just like so.\n\n73\n00:03:51.140 --> 00:03:56.520\nSo, there's that input of type file and\nthen that'll be good.\n\n74\n00:03:56.520 --> 00:03:58.965\nLet's get that li over there.\n\n75\n00:03:58.965 --> 00:04:01.010\nAnd-\n&gt;&gt; Just quick question.\n\n76\n00:04:01.010 --> 00:04:02.880\nSo why are we using\nan input of type=\"file\"?\n\n77\n00:04:02.880 --> 00:04:05.078\nWhy don't we just use a button?\n\n78\n00:04:05.078 --> 00:04:10.020\n&gt;&gt; Well, yeah, so\nlet's think back to the previous episode.\n\n79\n00:04:10.020 --> 00:04:13.920\nWhat I want is to open a dialog box,\nright?\n\n80\n00:04:13.920 --> 00:04:15.050\nI wanna click and\n\n81\n00:04:15.050 --> 00:04:20.550\nthen select a file from a dialog box like\nwe did from Chrome from the first episode.\n\n82\n00:04:20.550 --> 00:04:25.000\nIn order to easily get that using the\ninput of type=\"file\" will do exactly that.\n\n83\n00:04:25.000 --> 00:04:27.298\nAnd actually maybe I should\njust show you what I mean.\n\n84\n00:04:27.298 --> 00:04:31.300\nOkay, so if I save this and\nI come over here and refresh.\n\n85\n00:04:31.300 --> 00:04:35.250\nIt's kind of small so\nlet me zoom into the console.\n\n86\n00:04:35.250 --> 00:04:38.960\nSo if I bring here,\nnotice it says Choose File.\n\n87\n00:04:38.960 --> 00:04:43.410\nAnd if we choose File, it will\nautomatically open a dialog box for\n\n88\n00:04:43.410 --> 00:04:45.360\nus to go find the file.\n\n89\n00:04:45.360 --> 00:04:50.250\nNow that is handy because now we're just\ngonna kind of leverage this file based\n\n90\n00:04:50.250 --> 00:04:53.800\nAPI and actually obtaining\nfiles from the local system.\n\n91\n00:04:53.800 --> 00:04:56.730\nAnd you may have used something\nlike this in web forms where\n\n92\n00:04:56.730 --> 00:04:57.990\nyou're uploading something, right?\n\n93\n00:04:57.990 --> 00:05:02.750\nI'm uploading a resume, I'm uploading\na CV, I'm uploading an image.\n\n94\n00:05:02.750 --> 00:05:04.700\nWell, we're gonna do that\nlocally in the browser.\n\n95\n00:05:04.700 --> 00:05:07.770\nWe're not actually gonna persist\nthis anywhere on the server.\n\n96\n00:05:07.770 --> 00:05:11.510\nBut that allows us kinda the easiest\nway to get this dialog box.\n\n97\n00:05:11.510 --> 00:05:14.680\nNot to say that you can't\ndo that with JavaScript.\n\n98\n00:05:14.680 --> 00:05:17.512\nBut why fight against something\nthat's already available to you?\n\n99\n00:05:17.512 --> 00:05:20.072\nSo that, we kinda get a button for\n\n100\n00:05:20.072 --> 00:05:24.195\nfree without actually\nclaiming that it's a button.\n\n101\n00:05:24.195 --> 00:05:27.852\nIt's a very specific button that opens\nthe dialogue box that allows you to select\n\n102\n00:05:27.852 --> 00:05:30.560\na file, and then that way\nbrought into the browser itself.\n\n103\n00:05:30.560 --> 00:05:34.120\nSo that's why we're using\nthat input of type file.\n\n104\n00:05:34.120 --> 00:05:35.520\n&gt;&gt; Okay, Thank you.\n\n105\n00:05:35.520 --> 00:05:37.135\n&gt;&gt; So no problem, no problem.\n\n106\n00:05:37.135 --> 00:05:40.660\n&gt;&gt; [LAUGH]\n&gt;&gt; So here, I'm thinking, well,\n\n107\n00:05:40.660 --> 00:05:45.730\nI need another list item and\nI'm gonna have a button there.\n\n108\n00:05:45.730 --> 00:05:48.690\nAnd that button's gonna\nhave a class of apply.\n\n109\n00:05:48.690 --> 00:05:51.590\nAnd that's because this is gonna\nbe our application of the filter.\n\n110\n00:05:51.590 --> 00:05:55.580\nSo I'm just gonna say apply, and then,\n\n111\n00:05:55.580 --> 00:05:59.760\nright near that button, because I\nwanna kinda group these together.\n\n112\n00:05:59.760 --> 00:06:06.220\nI'm gonna create the select object, and\nthe select object, I don't wanna name but\n\n113\n00:06:06.220 --> 00:06:12.240\nI do want maybe a class of filters, right?\n\n114\n00:06:12.240 --> 00:06:15.280\nThis is because this is gonna\nbe our selection of filters.\n\n115\n00:06:16.810 --> 00:06:20.200\nAnd within that I need options.\n\n116\n00:06:20.200 --> 00:06:22.780\nI need an option and what is this option?\n\n117\n00:06:24.180 --> 00:06:29.360\nI'm gonna say none and this value is gonna\nbe important whenever we use this for\n\n118\n00:06:29.360 --> 00:06:30.860\ndecision making processes.\n\n119\n00:06:30.860 --> 00:06:35.741\nSo I'm gonna say no Filter, and\nlikewise I'm gonna say option.\n\n120\n00:06:35.741 --> 00:06:41.240\nAnd here let's say grayscale,\nand we'll just say Grayscale.\n\n121\n00:06:43.220 --> 00:06:49.490\nAnd then likewise we'll go here, and\nI'm not super committed on these filters.\n\n122\n00:06:49.490 --> 00:06:55.180\nWe may have to back up,\nbecause these things can get complicated.\n\n123\n00:06:55.180 --> 00:07:00.065\n&gt;&gt; Cuz they're very math intensive and\nwe'll say Sepia or sepia, is it sepia or\n\n124\n00:07:00.065 --> 00:07:00.710\nsepia.\n\n125\n00:07:00.710 --> 00:07:01.620\n&gt;&gt; Sepia.\n\n126\n00:07:01.620 --> 00:07:04.290\n&gt;&gt; Well we'll go with\nZack's sepia thank you.\n\n127\n00:07:04.290 --> 00:07:06.650\nSepia, very interesting word.\n\n128\n00:07:06.650 --> 00:07:07.372\n&gt;&gt; I couLd be wrong though.\n\n129\n00:07:07.372 --> 00:07:08.460\n&gt;&gt; Wow!\n&gt;&gt; [LAUGH]\n\n130\n00:07:08.460 --> 00:07:09.880\n&gt;&gt; You said that with such conviction!\n\n131\n00:07:09.880 --> 00:07:13.370\nI was gonna change the way,\nthen I'm gonna say sepia based on,\n\n132\n00:07:13.370 --> 00:07:15.680\nyour like it's sepia tones.\n\n133\n00:07:15.680 --> 00:07:17.700\n&gt;&gt; Sepia, yes, it's sepia.\n\n134\n00:07:17.700 --> 00:07:20.710\n&gt;&gt; So well that was a nice\nlittle digression there.\n\n135\n00:07:20.710 --> 00:07:22.260\nBack into these options.\n\n136\n00:07:22.260 --> 00:07:28.350\nAnd I think this final one maybe just\na brighten and that's to help you see\n\n137\n00:07:28.350 --> 00:07:32.845\nif I can brighten,\nI wonder if I can darken, right.\n\n138\n00:07:32.845 --> 00:07:34.250\nIf I can, this grey scale and sepia,\n\n139\n00:07:34.250 --> 00:07:38.130\nthose are actually modifying the relative\nmagnitudes of color channels.\n\n140\n00:07:38.130 --> 00:07:42.610\nI think, I know grayscale for fact is.\n\n141\n00:07:42.610 --> 00:07:47.195\nBut then sepia,\nwe'll have to do some research on that.\n\n142\n00:07:47.195 --> 00:07:51.600\nBut then brighten, well I'm just kinda\nbrightening things when I'm not darkening.\n\n143\n00:07:51.600 --> 00:07:56.480\nWhat about there's things like Sobel\nfilters and contrasts and colorize.\n\n144\n00:07:56.480 --> 00:08:01.806\nAnd all the things you can see in\na standard kind of drop-down filter.\n\n145\n00:08:01.806 --> 00:08:06.630\nThey're called something out like\nblurring modes or blending modes.\n\n146\n00:08:07.990 --> 00:08:10.440\nWe could technically implement those but\nwe'll start here.\n\n147\n00:08:10.440 --> 00:08:14.450\nAnd, well, this will provide expansion\ninto something that you may want to\n\n148\n00:08:14.450 --> 00:08:15.050\ninteract with.\n\n149\n00:08:15.050 --> 00:08:16.780\n&gt;&gt; So it'll be even plaid.\n\n150\n00:08:16.780 --> 00:08:17.320\n&gt;&gt; No.\n\n151\n00:08:17.320 --> 00:08:18.670\n&gt;&gt; We're not doing plaid.\n\n152\n00:08:18.670 --> 00:08:22.560\nThis guy's all about pandas,\nducks, and plaid.\n\n153\n00:08:22.560 --> 00:08:24.950\n&gt;&gt; We're gonna stay away from plaid.\n\n154\n00:08:24.950 --> 00:08:26.980\n&gt;&gt; I don't think plaid would\nbe that complicated, but\n\n155\n00:08:26.980 --> 00:08:28.080\nthen we wouldn't really have an image.\n\n156\n00:08:28.080 --> 00:08:29.150\n&gt;&gt; Well, you gotta be.\n\n157\n00:08:29.150 --> 00:08:29.936\nIt would just be plaid.\n\n158\n00:08:29.936 --> 00:08:30.877\n&gt;&gt; Would it be?\n\n159\n00:08:30.877 --> 00:08:32.250\n[LAUGH]\n&gt;&gt; So,\n\n160\n00:08:32.250 --> 00:08:36.130\nthere's our second button right, and\nit's going to apply the filter and\n\n161\n00:08:36.130 --> 00:08:40.540\nthen we have this association in this list\nitem that says hey these two are related.\n\n162\n00:08:40.540 --> 00:08:44.147\nWhen you click this button it's\ngoing to grab this filter in, and\n\n163\n00:08:44.147 --> 00:08:48.083\nthat's something that I think will\nbe helpful to the user whenever they\n\n164\n00:08:48.083 --> 00:08:51.450\nare using this image editor right,\nand then.\n\n165\n00:08:51.450 --> 00:08:56.286\nI'm thinking maybe we need another\n\n166\n00:08:56.286 --> 00:09:00.580\nbutton for the save, right?\n\n167\n00:09:00.580 --> 00:09:04.840\nIt has a class of save, just like so.\n\n168\n00:09:04.840 --> 00:09:08.580\nSo there's our buttons,\nthere's our very simple layout.\n\n169\n00:09:08.580 --> 00:09:10.910\nLet's go see what it looks like now.\n\n170\n00:09:10.910 --> 00:09:16.850\nGranted, mine's a little zoomed in,\nso it may be a little distorted.\n\n171\n00:09:16.850 --> 00:09:18.500\nBut that's just so you can see.\n\n172\n00:09:18.500 --> 00:09:20.750\nAnd so here's what I'm thinking.\n\n173\n00:09:20.750 --> 00:09:23.560\nWe have this section, we have the canvas.\n\n174\n00:09:23.560 --> 00:09:24.880\n&gt;&gt; Right.\n\n175\n00:09:24.880 --> 00:09:27.700\n&gt;&gt; Right, even though we can't see it,\ncuz everything's white.\n\n176\n00:09:27.700 --> 00:09:33.090\nBut we would choose a file, and let's\njust, let's say this is an image file.\n\n177\n00:09:33.090 --> 00:09:35.730\nAnd then that would show up in the canvas.\n\n178\n00:09:35.730 --> 00:09:40.670\nAnd then when we would click like sepia\napply, that would make it sepia tone or\n\n179\n00:09:40.670 --> 00:09:43.900\nsepia tone and\nthen we would click save and\n\n180\n00:09:43.900 --> 00:09:46.240\nthen that would give us the changed image.\n\n181\n00:09:46.240 --> 00:09:50.202\nSo I think there's all out buttons and,\nyou know what, Zach?\n\n182\n00:09:50.202 --> 00:09:54.300\nThe interface layout is done, and well,\n\n183\n00:09:54.300 --> 00:09:55.960\nI'm pretty proud of it myself\n&gt;&gt; Well,\n\n184\n00:09:55.960 --> 00:09:59.390\nI know in previous episodes you\ncreated the canvas so dynamically.\n\n185\n00:09:59.390 --> 00:10:00.990\nIt's been dynamic.\n\n186\n00:10:00.990 --> 00:10:02.950\nIt was a dynamic.\n\n187\n00:10:02.950 --> 00:10:04.440\nBut this seems to be\na little bit more static.\n\n188\n00:10:04.440 --> 00:10:05.780\nWhy is that?\nIs there a reason for that, or?\n\n189\n00:10:05.780 --> 00:10:07.150\n&gt;&gt; So.\n&gt;&gt; Or, can we make it dynamic?\n\n190\n00:10:07.150 --> 00:10:11.180\n&gt;&gt; I think just to keep things a little\nsimple, because most of our focus\n\n191\n00:10:11.180 --> 00:10:14.400\nis gonna be the interactions of the\nbuttons in order to manipulate the canvas,\n\n192\n00:10:14.400 --> 00:10:18.830\neither putting in an object, putting in\na file or exporting a file through a save.\n\n193\n00:10:18.830 --> 00:10:20.560\nI want to focus on that,\n\n194\n00:10:20.560 --> 00:10:24.330\nas well as creating the filters,\nkind of in this module, right.\n\n195\n00:10:24.330 --> 00:10:26.550\nI wanna make it grayscale,\nI wanna make it sepia tone.\n\n196\n00:10:27.740 --> 00:10:31.190\nI don't want to dynamically resize\nthe canvas, at least initially.\n\n197\n00:10:31.190 --> 00:10:33.370\n&gt;&gt; Right, but\nwe can go back to it to reduce it.\n\n198\n00:10:33.370 --> 00:10:36.590\n&gt;&gt; Yeah, so,\nright now I'm gonna keep it fairly static\n\n199\n00:10:36.590 --> 00:10:39.320\njust to remove a concern\nfrom our application.\n\n200\n00:10:39.320 --> 00:10:40.150\n&gt;&gt; Good.\n\n201\n00:10:40.150 --> 00:10:41.680\nSo let's move forward.\n\n202\n00:10:41.680 --> 00:10:42.910\nMacduff.\n\n203\n00:10:42.910 --> 00:10:46.970\n&gt;&gt; Well, Zach, I'm not sure if\nthere's much more to move forward.\n\n204\n00:10:46.970 --> 00:10:48.980\nDoes this look all right to you?\n\n205\n00:10:48.980 --> 00:10:50.050\n&gt;&gt; It's kind of functional.\n\n206\n00:10:50.050 --> 00:10:52.315\nCan we pretty it up a bit?\n\n207\n00:10:52.315 --> 00:10:55.175\n&gt;&gt; I thought you were gonna say that,\nso yeah,\n\n208\n00:10:55.175 --> 00:10:56.955\nwe should probably make\nit a little prettier.\n\n209\n00:10:56.955 --> 00:11:01.875\nSo luckily, I have some classes\nthat I can use to style.\n\n210\n00:11:01.875 --> 00:11:08.477\nNow, I am by no means the beautification\nexpert when it comes to web development.\n\n211\n00:11:08.477 --> 00:11:09.847\nBut there are a few things that we can do.\n\n212\n00:11:09.847 --> 00:11:14.797\nNumber one, being able to see\nthe canvas is probably good.\n\n213\n00:11:14.797 --> 00:11:18.297\nHaving these controls not\nnecessarily in the bulleted list,\n\n214\n00:11:18.297 --> 00:11:20.837\nthat's probably a good thing as well.\n\n215\n00:11:20.837 --> 00:11:23.501\nSo we need to write a little bit of CSS.\n\n216\n00:11:23.501 --> 00:11:25.112\nAnd everybody does enjoy it,\n\n217\n00:11:25.112 --> 00:11:28.680\nI've tried to minimize how much\nCSS that we need to write, but.\n\n218\n00:11:28.680 --> 00:11:30.600\n&gt;&gt; Right, right,\nyou said that from the onset.\n\n219\n00:11:30.600 --> 00:11:33.710\n&gt;&gt; Yeah, yeah, yeah, so body,\n\n220\n00:11:33.710 --> 00:11:37.000\nwhat I'm gonna do is I'm gonna remove\nall the margins from the body.\n\n221\n00:11:37.000 --> 00:11:40.810\nAnd let's go ahead and\nmake the background color for the body,\n\n222\n00:11:40.810 --> 00:11:42.480\nlet's just make it black.\n\n223\n00:11:42.480 --> 00:11:46.980\nAnd the reason being is,\nwell you'll see it'll help the canvas pop.\n\n224\n00:11:46.980 --> 00:11:51.500\nI tend to be a dark screen,\ndark theme individual,\n\n225\n00:11:51.500 --> 00:11:54.760\nthis could be an additional feature that\nwe could add later, like theming for\n\n226\n00:11:54.760 --> 00:11:58.800\nyour interface, but right now, no.\n\n227\n00:11:58.800 --> 00:12:00.420\nSo there's our HTML and body,\n\n228\n00:12:00.420 --> 00:12:03.910\nI've just removed margin and\nit helps reset a few things now.\n\n229\n00:12:03.910 --> 00:12:08.121\nNow, and realistically,\nI would probably reset,\n\n230\n00:12:08.121 --> 00:12:13.470\nuse a CSS reset or something like that But\nfor now, we're just gonna deal with that.\n\n231\n00:12:13.470 --> 00:12:18.650\nNow if we look,\nthere's this menu section, right?\n\n232\n00:12:20.480 --> 00:12:25.813\nWell, I want that to make sure,\nif we come here and we look,\n\n233\n00:12:25.813 --> 00:12:31.600\nthere's our HTML and\nI can't even really see the menu section.\n\n234\n00:12:31.600 --> 00:12:33.030\nLet's go to the elements portion.\n\n235\n00:12:34.210 --> 00:12:37.280\nI come down here and there we go,\n\n236\n00:12:37.280 --> 00:12:41.030\nI wanna make sure that it's the full\nwidth, I always wanna make sure.\n\n237\n00:12:41.030 --> 00:12:43.880\nSo I'm gonna set that on the menu class.\n\n238\n00:12:43.880 --> 00:12:49.290\nSo for the menu,\nI want the width to be 100%,\n\n239\n00:12:49.290 --> 00:12:52.570\nessentially the entire\nview width of the window.\n\n240\n00:12:52.570 --> 00:12:54.060\n&gt;&gt; Right.\n\n241\n00:12:54.060 --> 00:12:56.180\n&gt;&gt; And then likewise for controls,\n\n242\n00:12:56.180 --> 00:12:59.870\nI am gonna change that a little bit\nbecause they cannot just blend in for now.\n\n243\n00:12:59.870 --> 00:13:01.060\nNow what is controls?\n\n244\n00:13:01.060 --> 00:13:04.060\nThe controls are the unordered list here.\n\n245\n00:13:04.060 --> 00:13:07.260\nSo this unordered list is going\nto be the set of controls.\n\n246\n00:13:07.260 --> 00:13:11.800\nIn order to do that,\nbackground color gray.\n\n247\n00:13:12.910 --> 00:13:13.960\nThere we go.\n\n248\n00:13:13.960 --> 00:13:17.100\nAnd then I'm gonna give\nit a height of 50 pixels.\n\n249\n00:13:17.100 --> 00:13:20.050\nNow, this is not necessarily\ngoing to be super-responsive.\n\n250\n00:13:20.050 --> 00:13:23.470\nBut I don't feel like this is something\nthat I would do on a mobile device anyway.\n\n251\n00:13:23.470 --> 00:13:27.020\nIt would typically be on like a laptop or\nsomething of that nature.\n\n252\n00:13:27.020 --> 00:13:29.954\n&gt;&gt; So that's not our ultimate goal, and\n\n253\n00:13:29.954 --> 00:13:34.810\nthen I am going to use a flexbox\ndisplay type so I can get all those\n\n254\n00:13:34.810 --> 00:13:39.684\nbuttons kind of spread out equally\nalong the width of the page.\n\n255\n00:13:39.684 --> 00:13:44.176\nSo space around and there we go and\n\n256\n00:13:44.176 --> 00:13:47.710\nthat's not bad, right?\n\n257\n00:13:47.710 --> 00:13:50.310\nYou're like, well, that's not great.\n\n258\n00:13:50.310 --> 00:13:53.150\nBut if I remove it,\nthey've kind of equally spaced.\n\n259\n00:13:53.150 --> 00:13:58.240\nNow the one thing is they\nstill have those dots, right?\n\n260\n00:14:00.570 --> 00:14:03.540\nRemoving those would be nice,\nit's still a bulleted list.\n\n261\n00:14:03.540 --> 00:14:06.960\nSo if we look for controls, and\n\n262\n00:14:06.960 --> 00:14:13.540\nwe say list style;none and\nlet me make a padding of about 28 pixels.\n\n263\n00:14:14.570 --> 00:14:19.370\nAnd a margin of auto and 30 pixels on it,\n\n264\n00:14:19.370 --> 00:14:24.720\nit gives us a little bit of spacing, moves\nthings around, so if we look at that.\n\n265\n00:14:24.720 --> 00:14:27.490\nThat's a little better,\nit's kinda more what I was thinking.\n\n266\n00:14:27.490 --> 00:14:30.180\nSo this is more like a menu bar.\n\n267\n00:14:30.180 --> 00:14:34.310\nAnd then finally, well,\n\n268\n00:14:35.410 --> 00:14:41.670\nI'm thinking if we come here and\nwe look, there's our section,\n\n269\n00:14:41.670 --> 00:14:46.612\nand, I think the body,\n\n270\n00:14:46.612 --> 00:14:51.670\nlet's wrap this entire thing in a main or\nlike an app div.\n\n271\n00:14:52.780 --> 00:14:56.340\nSo this is not gonna change our layout at\n\n272\n00:14:56.340 --> 00:15:01.010\nall necessarily from\na non-stop perspective.\n\n273\n00:15:01.010 --> 00:15:04.360\nAnd I'm gonna wrap this\nentire thing like so and\n\n274\n00:15:04.360 --> 00:15:06.610\nnow we have that app div with an id.\n\n275\n00:15:08.190 --> 00:15:13.260\nAnd I'm just gonna say, I may come\nback and use that in just a moment,\n\n276\n00:15:13.260 --> 00:15:17.720\nactually I am very sorry,\nI'm misreading my notes.\n\n277\n00:15:17.720 --> 00:15:18.990\nShenanigans.\n\n278\n00:15:18.990 --> 00:15:20.145\n&gt;&gt; That's not what I want.\n\n279\n00:15:22.750 --> 00:15:27.658\nI think this section would\nprobably be best as,\n\n280\n00:15:27.658 --> 00:15:30.750\nlike our main image editor.\n\n281\n00:15:30.750 --> 00:15:31.430\nRight, okay?\n\n282\n00:15:32.820 --> 00:15:39.100\nSo, main, let's just say the canvas area.\n\n283\n00:15:40.160 --> 00:15:43.390\nOr let's call this the display area.\n\n284\n00:15:43.390 --> 00:15:44.400\nThere we go.\n\n285\n00:15:44.400 --> 00:15:50.520\nSo now in our main.CSS for the display,\n\n286\n00:15:50.520 --> 00:15:54.930\nI want to change this display\nto flexbox as well and\n\n287\n00:15:54.930 --> 00:15:58.530\njustify content space around and\n\n288\n00:15:58.530 --> 00:16:04.520\nwhat that will do is now that a canvas\nwill be kind of right in the center.\n\n289\n00:16:04.520 --> 00:16:10.197\nAnd then for the actual image area, Well,\n\n290\n00:16:10.197 --> 00:16:14.670\nlet's give it a, I don't think we actually\nneed a board since everything's black.\n\n291\n00:16:14.670 --> 00:16:19.800\nLet's give it a background color Of white,\njust like so.\n\n292\n00:16:19.800 --> 00:16:22.500\nSo boom, and now there we go.\n\n293\n00:16:22.500 --> 00:16:26.220\n&gt;&gt; We actually have our image editor\nsection, our control section.\n\n294\n00:16:26.220 --> 00:16:31.520\nAnd let me double check\none thing because yep,\n\n295\n00:16:31.520 --> 00:16:34.270\nnotice that butt's right up against that.\n\n296\n00:16:34.270 --> 00:16:38.370\nIf we wanted to change that,\nthis display area,\n\n297\n00:16:38.370 --> 00:16:42.020\nmaybe a little bit of\nmargin-top about 30 pixels.\n\n298\n00:16:42.020 --> 00:16:44.750\nSo it's more of a frame, there we go.\n\n299\n00:16:44.750 --> 00:16:46.400\n&gt;&gt; Yeah.\n&gt;&gt; We kind of pushed it down a little bit.\n\n300\n00:16:46.400 --> 00:16:48.700\nNow we'll have to tweak that.\n\n301\n00:16:48.700 --> 00:16:52.910\nMaybe we just give it very small amounts,\nso\n\n302\n00:16:52.910 --> 00:16:55.150\nthat we don't have to scroll up and\ndown per say.\n\n303\n00:16:55.150 --> 00:17:00.420\nSo we got that little break, we have\nour delineation between the actual area\n\n304\n00:17:00.420 --> 00:17:05.690\nthat is controls and the display area,\nwhich is where our image is gonna be.\n\n305\n00:17:05.690 --> 00:17:09.750\nNow notice this is very large\nbecause number one I'm zoomed in.\n\n306\n00:17:09.750 --> 00:17:10.610\n&gt;&gt; Right.\n\n307\n00:17:10.610 --> 00:17:15.320\n&gt;&gt; But if I zoom out, right,\nthat's what we're gonna see.\n\n308\n00:17:15.320 --> 00:17:19.800\nWe're gonna see a tiny little area and\na little bit like apply,\n\n309\n00:17:19.800 --> 00:17:22.830\nhere's our filter, grey scale,\nthen I would apply.\n\n310\n00:17:22.830 --> 00:17:26.300\nAnd then that would change\non this white portion.\n\n311\n00:17:26.300 --> 00:17:31.810\nBut I'm gonna keep this zoomed in just for\nseeing things.\n\n312\n00:17:31.810 --> 00:17:35.450\nBased on what I see from the original\nzoom, I would probably turn up\n\n313\n00:17:35.450 --> 00:17:39.170\nthat sizing a little bit on my screen, but\nthis is gonna be very screen dependent.\n\n314\n00:17:39.170 --> 00:17:41.110\nI have a high resolution display.\n\n315\n00:17:42.240 --> 00:17:45.250\nSo the 800 by 500 may be\neven more applicable to you,\n\n316\n00:17:45.250 --> 00:17:46.100\nyou'll have to play with that.\n\n317\n00:17:46.100 --> 00:17:50.720\nBut I didn't say, I told you,\nI was not the king of beautification.\n\n318\n00:17:50.720 --> 00:17:55.800\nHowever, however, I think this is\n&gt;&gt; A first approximation.\n\n319\n00:17:55.800 --> 00:17:57.720\nIt does give us some hints,\n\n320\n00:17:57.720 --> 00:18:01.860\nsome cues, here's some controls,\nhere's our main editor area.\n\n321\n00:18:01.860 --> 00:18:06.870\nCuz our real focus is reading the filters,\ncreating the ability to upload the image.\n\n322\n00:18:06.870 --> 00:18:09.250\nUpload is not a true upload per se.\n\n323\n00:18:09.250 --> 00:18:11.455\nOpening the browser, using this controls.\n\n324\n00:18:11.455 --> 00:18:13.210\nModify as well as downloaded.\n\n325\n00:18:13.210 --> 00:18:15.280\nAnd that's where my focus is gonna be.\n\n326\n00:18:15.280 --> 00:18:18.980\nBecause those are the parts that\ninvolve an actual canvas element.\n\n327\n00:18:18.980 --> 00:18:21.670\nBut at least this is\na first approximation.\n\n328\n00:18:21.670 --> 00:18:25.980\nNot really sold on that grain,\nbut we'll go with it anyway.\n\n329\n00:18:25.980 --> 00:18:29.290\n&gt;&gt; So Justin, will we have a part\ntwo of setting up the interface?\n\n330\n00:18:29.290 --> 00:18:33.517\n&gt;&gt; No, I think this is a good\nfirst step because like I said,\n\n331\n00:18:33.517 --> 00:18:39.438\nmost of the real dense material is gonna\nbecome, how do I get the image in there?\n\n332\n00:18:39.438 --> 00:18:41.279\nHow do I modify the image?\n\n333\n00:18:41.279 --> 00:18:44.442\nHow do I undo\nthe modification of an image?\n\n334\n00:18:44.442 --> 00:18:45.008\n&gt;&gt; That's right.\n\n335\n00:18:45.008 --> 00:18:45.840\n&gt;&gt; How do I save the image?\n\n336\n00:18:45.840 --> 00:18:49.880\nSo that's where things are gonna get\na little hectic so definitely stay tuned.\n\n337\n00:18:49.880 --> 00:18:50.638\n&gt;&gt; Right.\nAnd thank you for\n\n338\n00:18:50.638 --> 00:18:52.120\nwatching this episode of\nSetting up the Interface.\n\n339\n00:18:52.120 --> 00:18:56.440\nIn fact maybe in subsequent episodes we\nmight put a baby duck image in there, or\n\n340\n00:18:56.440 --> 00:18:57.400\nwho knows?\n\n341\n00:18:57.400 --> 00:19:01.630\nSo then [LAUGH] by the way make sure you\nwatch all of the HTML5 Canvas Projects\n\n342\n00:19:01.630 --> 00:19:02.590\nepisodes.\n\n343\n00:19:02.590 --> 00:19:06.370\nJustin does an amazing job, and while\nyou're at it, go to our course library and\n\n344\n00:19:06.370 --> 00:19:09.290\ntake a look at any of the hundreds\nof videos there all designed\n\n345\n00:19:09.290 --> 00:19:10.840\nto help you go further.\n\n346\n00:19:10.840 --> 00:19:13.680\nAnd tell everybody you know about\nDevProTV, they'll be glad you did.\n\n347\n00:19:13.680 --> 00:19:15.400\nThanks for watching, I'm Zach Memos.\n\n348\n00:19:15.400 --> 00:19:16.130\n&gt;&gt; And I'm Justin Dennison.\n\n349\n00:19:16.130 --> 00:19:17.085\n&gt;&gt; And we'll see you again soon.\n\n350\n00:19:17.085 --> 00:19:22.466\n[MUSIC]\n\n",
          "vimeoId": "235602291"
        },
        {
          "description": "In this episode, Justin demonstrates obtaining an image from a local source. Moreover, he shows how to hold the image into an in-memory representation to be manipulated and drawn.",
          "length": "1602",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-2-3-1-accessing_the_image-092717-PGM.00_28_29_08.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-2-3-1-accessing_the_image-092717-PGM.00_28_29_08.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-2-3-1-accessing_the_image-092717-PGM.00_28_29_08.Still001-sm.jpg",
          "title": "Accessing the Image",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.980 --> 00:00:16.453\nHey, thank you for choosing DevPro.TV,\nhelping you learn wherever you go.\n\n3\n00:00:16.453 --> 00:00:21.062\nI'm your host Zach Memos, and\nthis is the HTML5 Canvas Projects.\n\n4\n00:00:21.062 --> 00:00:25.329\nAnd we are looking at accessing the image,\nand our IT expert bringing us all\n\n5\n00:00:25.329 --> 00:00:29.833\nthe information we need for this subject\nis the one and only, Justin Denison.\n\n6\n00:00:29.833 --> 00:00:31.061\nJustin, good to see you, sir.\n\n7\n00:00:31.061 --> 00:00:32.834\n&gt;&gt; It is good to see you as well, Zack.\n\n8\n00:00:32.834 --> 00:00:34.492\nI'm happy to be back in the studios.\n\n9\n00:00:34.492 --> 00:00:35.554\nAnd how are you today?\n\n10\n00:00:35.554 --> 00:00:38.474\n&gt;&gt; Well I'm excited, I would like to\nfind out a couple of things though.\n\n11\n00:00:38.474 --> 00:00:40.642\nWe're building the image editor, right?\n\n12\n00:00:40.642 --> 00:00:43.668\nSo that doesn't really mean anything\nunless we can get an image on the page,\n\n13\n00:00:43.668 --> 00:00:45.343\nand is that where we're going right now?\n\n14\n00:00:45.343 --> 00:00:47.841\n&gt;&gt; That is exactly where we're\ngoing at this moment, right?\n\n15\n00:00:47.841 --> 00:00:48.835\n&gt;&gt; Okay.\n\n16\n00:00:48.835 --> 00:00:52.418\n&gt;&gt; Until we get an image on the canvas,\nyou can't really manipulate an image or\n\n17\n00:00:52.418 --> 00:00:54.771\nsave an image,\nlike nothing will works, right?\n\n18\n00:00:54.771 --> 00:00:57.074\nSo that's our first kind of priority.\n\n19\n00:00:57.074 --> 00:01:00.830\nNow, this is one of those topics\nwhere in my mind I'm like\n\n20\n00:01:00.830 --> 00:01:02.944\nthis is pretty straightforward.\n\n21\n00:01:02.944 --> 00:01:09.254\nBut I'm gonna hold my reservations until\nwe actually get to that point, right?\n\n22\n00:01:09.254 --> 00:01:12.975\nSo I think probably the best thing\nto do is just start trying things,\n\n23\n00:01:12.975 --> 00:01:16.131\nbecause we have to learn a few\nAPIs inside of the browser.\n\n24\n00:01:16.131 --> 00:01:18.210\nIf you're unfamiliar with them,\n\n25\n00:01:18.210 --> 00:01:23.307\nas well as reading in images which are\neverything's kind of asynchronous, right?\n\n26\n00:01:23.307 --> 00:01:26.484\nAnd like a reading file and\nreading an image and reading,\n\n27\n00:01:26.484 --> 00:01:28.745\nthere's all kinds of asynchronicity.\n\n28\n00:01:28.745 --> 00:01:32.833\nWhich means that we have call backs and\ncall backs and call backs, or\n\n29\n00:01:32.833 --> 00:01:34.561\na plethora of other things.\n\n30\n00:01:34.561 --> 00:01:36.760\nAnd maybe we won't have to clean that up,\nso\n\n31\n00:01:36.760 --> 00:01:39.204\nI think this should be\nfairly straight forward.\n\n32\n00:01:39.204 --> 00:01:44.804\nBut there are always times where I am\na horrible planner of time, so to speak.\n\n33\n00:01:44.804 --> 00:01:47.610\nSo let's go ahead and take a look at\nmy screen, and see where we left off,\n\n34\n00:01:47.610 --> 00:01:48.235\nand-\n&gt;&gt; Wonderful.\n\n35\n00:01:48.235 --> 00:01:49.685\n&gt;&gt; And what we're ultimately gonna do.\n\n36\n00:01:49.685 --> 00:01:51.623\nI have this kind of moved in a little bit,\n\n37\n00:01:51.623 --> 00:01:55.054\nbecause I am gonna use the terminal\njust to kind of display some things.\n\n38\n00:01:55.054 --> 00:01:58.840\nAnd if I click Choose File, there it is.\n\n39\n00:01:58.840 --> 00:02:00.003\nThis is all of our files.\n\n40\n00:02:00.003 --> 00:02:03.491\nNow, since the previous episode,\nI've added an images folder.\n\n41\n00:02:03.491 --> 00:02:08.379\nNow, you just add the images folder and\nadd an image that you want to,\n\n42\n00:02:08.379 --> 00:02:13.202\nI have used the ITPro.TV logo,\nthat's a pretty good start there.\n\n43\n00:02:13.202 --> 00:02:16.952\nSo there's our logo, so\nthat's where our images are.\n\n44\n00:02:16.952 --> 00:02:21.740\nNow, that means that we have\nto do some JavaScript stuff.\n\n45\n00:02:22.830 --> 00:02:25.826\nNow before we can get to\nthe JavaScript stuff for the images,\n\n46\n00:02:25.826 --> 00:02:29.142\nwe should probably set up some\ncontrols and things of that nature.\n\n47\n00:02:29.142 --> 00:02:33.510\nNow I typically put these in an object\nto avoid polluting the global namespace.\n\n48\n00:02:34.540 --> 00:02:35.083\nYou know what?\n\n49\n00:02:35.083 --> 00:02:37.173\nI think this is one of those\nprojects where we're learning.\n\n50\n00:02:37.173 --> 00:02:39.250\nLet's just dive in and get it done,\n\n51\n00:02:39.250 --> 00:02:43.774\nand then we can always kinda move things\naround at a later date if we so desire.\n\n52\n00:02:43.774 --> 00:02:51.203\nSo let's create a couple of\nreferences to this control.\n\n53\n00:02:51.203 --> 00:02:57.152\nThis control, and then this control\nas well as the canvas, right?\n\n54\n00:02:57.152 --> 00:03:04.255\nSo let's see, the canvas,\nthe canvas is document.query selector.\n\n55\n00:03:04.255 --> 00:03:07.036\nYou got to spell document correctly,\ndocument.query.\n\n56\n00:03:07.036 --> 00:03:10.742\nAnd I'm gonna have to open up that\nindex.html, mainly because some of\n\n57\n00:03:10.742 --> 00:03:14.661\nthose classes, it's just gonna be easier\nto flip back in and look at them.\n\n58\n00:03:14.661 --> 00:03:20.303\nSo document.querySelector, and\nwe wanna grab the actual canvas element.\n\n59\n00:03:20.303 --> 00:03:24.003\nIf we come over to index.html,\nwell here's our image area.\n\n60\n00:03:24.003 --> 00:03:29.222\nSo I need to grab the thing\nwith the class of image area.\n\n61\n00:03:29.222 --> 00:03:33.857\nAnd now let's go ahead and\nset up our context and ctx,\n\n62\n00:03:33.857 --> 00:03:40.461\njust to keep with convention that I've\nbeen using pretty much all the time.\n\n63\n00:03:40.461 --> 00:03:45.193\nSo there's our 2D context,\nso there's our work area.\n\n64\n00:03:45.193 --> 00:03:51.313\nOur work space so to speak,\nand now we need our controls.\n\n65\n00:03:51.313 --> 00:03:54.142\nAnd let's see, what do we need?\n\n66\n00:03:54.142 --> 00:03:56.394\nWell we need an open, right?\n\n67\n00:03:56.394 --> 00:03:58.457\nKind of our open control.\n\n68\n00:03:58.457 --> 00:04:02.103\nSo that's document.querySelector.\n\n69\n00:04:04.032 --> 00:04:07.513\nAnd well what class is that or what ID?\n\n70\n00:04:07.513 --> 00:04:12.503\nIf we come up here, it's a input of file,\nI don't actually have a class on this.\n\n71\n00:04:12.503 --> 00:04:16.983\nSo we should probably put a class on\nthat just number one possibly for\n\n72\n00:04:16.983 --> 00:04:21.314\nlater styling, but\nalso to give us some context, some.\n\n73\n00:04:21.314 --> 00:04:24.818\nNow you could use an ID,\nI tend to use classes.\n\n74\n00:04:24.818 --> 00:04:27.564\nI'm not saying that's\nnecessarily the best way, but\n\n75\n00:04:27.564 --> 00:04:29.603\nwhat if you had a bunch of opens, right?\n\n76\n00:04:29.603 --> 00:04:32.292\nThen you can install a bunch\nof them instead of just one.\n\n77\n00:04:32.292 --> 00:04:33.594\nSo-\n&gt;&gt; Makes sense.\n\n78\n00:04:33.594 --> 00:04:36.043\n&gt;&gt; I'm gonna add the class of open there,\n\n79\n00:04:36.043 --> 00:04:39.992\nand that means that I'm gonna\ncome back over here and say open.\n\n80\n00:04:39.992 --> 00:04:43.448\nAnd likewise I want the save, and\n\n81\n00:04:43.448 --> 00:04:48.643\nthat's document.querySelector, selector.\n\n82\n00:04:48.643 --> 00:04:54.411\nAnd that's the save class,\nand then we need this\n\n83\n00:04:54.411 --> 00:05:00.047\napply button, so\nwe need the ability to apply.\n\n84\n00:05:00.047 --> 00:05:03.763\nApply = document.querySelector, and\n\n85\n00:05:03.763 --> 00:05:08.440\nthat's apply, and\nthen likewise we need filters.\n\n86\n00:05:08.440 --> 00:05:12.836\nNow this one's kinda tricky\nbecause do we want filters,\n\n87\n00:05:12.836 --> 00:05:18.803\ndo we want all the filters, all the\noptions or we just want the filter select?\n\n88\n00:05:18.803 --> 00:05:22.363\nWell we're gonna go with the select now.\n\n89\n00:05:22.363 --> 00:05:24.512\n&gt;&gt; But that could change.\n\n90\n00:05:24.512 --> 00:05:27.404\n&gt;&gt; We'll see if that\nworks out in our favor,\n\n91\n00:05:27.404 --> 00:05:30.473\nso here's our query selector for filters.\n\n92\n00:05:30.473 --> 00:05:32.865\nAnd even though this is plural,\n\n93\n00:05:32.865 --> 00:05:37.833\nthis lets me that this is possibly\na multi kinda children element.\n\n94\n00:05:37.833 --> 00:05:42.484\nThis is a convention that I use that helps\nme think about this in context, right?\n\n95\n00:05:42.484 --> 00:05:43.902\nSo there's all our controls.\n\n96\n00:05:43.902 --> 00:05:48.133\nNow, here's my recommendation\nbefore going any further.\n\n97\n00:05:48.133 --> 00:05:53.923\nWe should probably just print these out\nand make sure none of them are null.\n\n98\n00:05:53.923 --> 00:05:56.520\nMaybe we have a typo in the string for\nthe selection.\n\n99\n00:05:56.520 --> 00:05:57.546\nAnd if they are null,\n\n100\n00:05:57.546 --> 00:06:00.522\nthen we are gonna have to chase\ndown that error at a later date.\n\n101\n00:06:00.522 --> 00:06:03.181\nSo if we come over here, and we refresh,\n\n102\n00:06:03.181 --> 00:06:08.054\nthere's our canvas element,\nthere's our rendering context, right?\n\n103\n00:06:08.054 --> 00:06:09.013\nThere it is.\n\n104\n00:06:09.013 --> 00:06:12.992\nAnd then here's our input for\nOpen, Save, Apply, and Filters.\n\n105\n00:06:12.992 --> 00:06:16.130\nAnd we're all good to go, okay?\n\n106\n00:06:16.130 --> 00:06:18.483\nSo we have kind of our basic set up.\n\n107\n00:06:18.483 --> 00:06:22.435\nNow let me think about what\nis the next course of action?\n\n108\n00:06:22.435 --> 00:06:27.512\nIf I came to this page as a user\nI would click Choose File.\n\n109\n00:06:27.512 --> 00:06:32.491\nAnd I would choose the image\nthat I wanted to modify, right?\n\n110\n00:06:32.491 --> 00:06:36.742\nAnd notice that it changed when I choose,\n\n111\n00:06:36.742 --> 00:06:38.690\nchoose that file-\n\n112\n00:06:38.690 --> 00:06:39.220\n&gt;&gt; [LAUGH]\n&gt;&gt; Right?\n\n113\n00:06:39.220 --> 00:06:39.750\nSo this change.\n\n114\n00:06:39.750 --> 00:06:41.263\nNow that's a key word,\n\n115\n00:06:41.263 --> 00:06:45.362\nbecause you are very tempted to\nhave a click event here, right?\n\n116\n00:06:45.362 --> 00:06:49.090\nI clicked on something, however\nthe element changed because it became\n\n117\n00:06:49.090 --> 00:06:51.401\nassociated with a file\non your file system.\n\n118\n00:06:51.401 --> 00:06:55.315\nA change event is also an event,\nwith that said,\n\n119\n00:06:55.315 --> 00:07:01.247\nthen we can probably listen to a change\nevent as see what happens, right?\n\n120\n00:07:01.247 --> 00:07:05.801\nSo we're gonna come back over here and\nsadly this is one of those things,\n\n121\n00:07:05.801 --> 00:07:10.147\nbecause I'm not gonna hard code\nan image to test this out, I can't.\n\n122\n00:07:10.147 --> 00:07:12.283\nI don't know why I actually\nwant to see that interaction.\n\n123\n00:07:12.283 --> 00:07:16.977\nYou're always gonna see me open, select a\nfile, that's just how things are gonna go.\n\n124\n00:07:16.977 --> 00:07:20.278\n&gt;&gt; Okay.\n&gt;&gt; So I want to add and EventListener, so\n\n125\n00:07:20.278 --> 00:07:23.991\nhere's our events that\nwe're gonna listen to.\n\n126\n00:07:23.991 --> 00:07:26.971\nLet's add some overscroll down here.\n\n127\n00:07:26.971 --> 00:07:28.551\nThere we go.\n\n128\n00:07:28.551 --> 00:07:34.712\nAdd an EventListener to the change event,\njust like so.\n\n129\n00:07:34.712 --> 00:07:37.361\nAnd I'm just gonna use\na fat arrow function.\n\n130\n00:07:37.361 --> 00:07:40.708\nNow do keep in mind, I wanna reiterate,\nthese fat arrow functions,\n\n131\n00:07:40.708 --> 00:07:43.551\nthey work very well in Chrome and\nnew versions of Firefox.\n\n132\n00:07:43.551 --> 00:07:45.557\nActually I think Safari, but\n\n133\n00:07:45.557 --> 00:07:50.140\ndo keep in mind they're still in\nflux at the time of this recording.\n\n134\n00:07:50.140 --> 00:07:53.428\nWhat I like to do when I\nfirst get a change event or\n\n135\n00:07:53.428 --> 00:07:56.895\nany type of event is this\nlook at the event, okay?\n\n136\n00:07:56.895 --> 00:08:00.291\nSo I'm gonna console.log the event, And\n\n137\n00:08:00.291 --> 00:08:04.733\nthen I'm going to refresh,\ndon't forget to refresh.\n\n138\n00:08:04.733 --> 00:08:11.302\nI'm gonna select the exact same image,\nOpen and boom, there's our event.\n\n139\n00:08:11.302 --> 00:08:17.212\nSo it is a change event, it's target\nwas input.open, that's what we expect.\n\n140\n00:08:17.212 --> 00:08:20.147\nAnd if we scroll down here and\nwe keep looking,\n\n141\n00:08:20.147 --> 00:08:23.174\ndoesn't look like\nanything's gonna help us.\n\n142\n00:08:23.174 --> 00:08:29.222\nBut if we come in and\nwe look inside of target.\n\n143\n00:08:29.222 --> 00:08:32.821\nWell there's files.\n\n144\n00:08:32.821 --> 00:08:38.521\nHey, files, files,\nit seems like that might be what we want,\n\n145\n00:08:38.521 --> 00:08:40.681\ncuz I just added a file.\n\n146\n00:08:40.681 --> 00:08:47.701\nJust to see, I wonder if I look inside\nof that target object, the input.open.\n\n147\n00:08:47.701 --> 00:08:54.913\nIf there's files by default, so\nlet's refresh and go open.files.\n\n148\n00:08:54.913 --> 00:08:57.951\nAnd it is there, but it says nothing.\n\n149\n00:08:57.951 --> 00:09:02.894\nOkay, okay, that means that when we\nadded that file, the event changed,\n\n150\n00:09:02.894 --> 00:09:07.600\nit said hey, it's something about\nthis input file type has changed.\n\n151\n00:09:07.600 --> 00:09:09.500\nIt is now has a file in the file list.\n\n152\n00:09:09.500 --> 00:09:11.453\nThat is done for you,\nwe don't have to do that in JavaScript.\n\n153\n00:09:11.453 --> 00:09:16.433\nWe do have to recognize that,\nthat happens and handle it via JavaScript.\n\n154\n00:09:16.433 --> 00:09:20.384\nSo with that said, let's grab those files.\n\n155\n00:09:20.384 --> 00:09:26.873\nSo this is files and\nthat was e.target, just like so.\n\n156\n00:09:26.873 --> 00:09:31.113\nNow I'm using the event target,\njust so I can be very specific.\n\n157\n00:09:31.113 --> 00:09:33.103\nI could technically use open here.\n\n158\n00:09:33.103 --> 00:09:39.133\nI just typed in open.files, but\ne.target is the open element, right?\n\n159\n00:09:39.133 --> 00:09:44.757\nSo there's files, and let's look at\nconsole.log files, just like so.\n\n160\n00:09:44.757 --> 00:09:50.960\nSo if I refresh and boom,\nselect it again and I Open.\n\n161\n00:09:52.080 --> 00:09:56.844\nThere it is, there's our file and\nit has a name and a last modified date.\n\n162\n00:09:56.844 --> 00:10:02.078\nAnd a webkitRelativePath, a size,\nit tells me a little bit about the file.\n\n163\n00:10:02.078 --> 00:10:04.958\nAnd you're like well, I have it.\n\n164\n00:10:04.958 --> 00:10:05.607\nNot really.\n\n165\n00:10:05.607 --> 00:10:06.258\n&gt;&gt; [LAUGH]\n&gt;&gt; Not really.\n\n166\n00:10:06.258 --> 00:10:14.083\nYou actually have to read in the file in\norder to get things kind of working, okay?\n\n167\n00:10:14.083 --> 00:10:17.023\nSo what does that mean?\n\n168\n00:10:18.563 --> 00:10:23.685\nWell part of the browser API,\nis there's this file reader API.\n\n169\n00:10:23.685 --> 00:10:27.299\nSo new FileReader, and\n\n170\n00:10:27.299 --> 00:10:31.462\nI wanna say reader.read.\n\n171\n00:10:31.462 --> 00:10:35.184\nI have to consult my book here.\n\n172\n00:10:35.184 --> 00:10:39.011\n&gt;&gt; [LAUGH]\n&gt;&gt; readAsDataUrl, and\n\n173\n00:10:39.011 --> 00:10:44.593\nthis is going to allow\nus to read in a file.\n\n174\n00:10:44.593 --> 00:10:47.866\nBut this is asynchronous, so\nany type of IO network or\n\n175\n00:10:47.866 --> 00:10:51.016\nread write operation is\ngoing to be asynchronous.\n\n176\n00:10:51.016 --> 00:10:53.554\nSo this is not gonna happen immediately,\n\n177\n00:10:53.554 --> 00:10:56.971\nit's not like I'm gonna get\na new thing back right now.\n\n178\n00:10:56.971 --> 00:11:02.342\nWhat I want to do is read files,\nand then this one, okay?\n\n179\n00:11:02.342 --> 00:11:03.920\nSo there we go.\n\n180\n00:11:03.920 --> 00:11:12.002\nAnd if we look, so\nconsole.log reader, and refresh.\n\n181\n00:11:12.002 --> 00:11:15.223\nAnd check it out, there we are.\n\n182\n00:11:15.223 --> 00:11:18.620\nSo boom, and is not a function.\n\n183\n00:11:18.620 --> 00:11:20.963\nRead as they all, I misspelled URL.\n\n184\n00:11:20.963 --> 00:11:25.838\nSo URL in this case is typically\nall capital letters, woopsy daisy.\n\n185\n00:11:25.838 --> 00:11:26.461\n&gt;&gt; There you go.\n\n186\n00:11:26.461 --> 00:11:30.481\n&gt;&gt; Now the complexity of this, there will\nprobably be some live action debugging.\n\n187\n00:11:30.481 --> 00:11:32.143\nAnd I know how much you love that Zach.\n\n188\n00:11:32.143 --> 00:11:33.812\n&gt;&gt; I do, I love debug.\n\n189\n00:11:33.812 --> 00:11:38.692\n&gt;&gt; If we come here and we look,\nthe ready state is two result.\n\n190\n00:11:38.692 --> 00:11:42.240\nOkay, well it's there now, but\nis it guaranteed to be there?\n\n191\n00:11:42.240 --> 00:11:43.392\nWhat if this file was really large?\n\n192\n00:11:43.392 --> 00:11:47.422\nThis is a small file,\nwhat if this was a 3 megabyte file?\n\n193\n00:11:47.422 --> 00:11:51.362\nIt may not read in fast enough,\nso there's no guarantee that\n\n194\n00:11:51.362 --> 00:11:55.781\nthis console.log that the reader\nhas read in the file as a data url.\n\n195\n00:11:55.781 --> 00:11:57.742\nNow what do I mean by data url?\n\n196\n00:11:57.742 --> 00:11:59.541\nSee this result right here?\n\n197\n00:11:59.541 --> 00:12:05.834\nThis data URL, it gives us a base\n64 encoding of said image,\n\n198\n00:12:05.834 --> 00:12:13.230\nwhich we can use as kind of an image\nawait to create an image dynamically.\n\n199\n00:12:13.230 --> 00:12:17.685\nSo if you put those in as the image\nsource, inside of the browser,\n\n200\n00:12:17.685 --> 00:12:19.469\ndata image png base 64.\n\n201\n00:12:19.469 --> 00:12:23.663\nIt'll actually run through that and\nactually recreate the image,sSo very,\n\n202\n00:12:23.663 --> 00:12:25.070\nvery interesting there.\n\n203\n00:12:25.070 --> 00:12:30.778\nBut what this means is I have to\nlisten for kind of the read event,\n\n204\n00:12:30.778 --> 00:12:34.491\ninside of this reader, that is not good.\n\n205\n00:12:34.491 --> 00:12:38.964\nSo I'm gonna say reader.,\nI could do addEventListener, just for\n\n206\n00:12:38.964 --> 00:12:41.091\nconsistency, let's do that.\n\n207\n00:12:41.091 --> 00:12:44.161\nOn load, now we've seen this\nbefore with images, right?\n\n208\n00:12:44.161 --> 00:12:47.551\nIf I'm dynamically setting images sources,\nbut\n\n209\n00:12:47.551 --> 00:12:51.193\nI'm asking someone to give\nme a file that is an image.\n\n210\n00:12:51.193 --> 00:12:55.150\nIt's not necessarily something I'm making\nfrom a web request, cuz the web request\n\n211\n00:12:55.150 --> 00:12:58.340\nwould actually read this in and\nkind of hide some of this away for us.\n\n212\n00:12:58.340 --> 00:13:00.414\nBut I need to read this into the browser,\n\n213\n00:13:00.414 --> 00:13:02.612\nin order to be able to\nuse it with the image.\n\n214\n00:13:02.612 --> 00:13:08.952\nSo now we have another function,\nanother call back.\n\n215\n00:13:08.952 --> 00:13:12.612\nSo an event listener inside\nan event listener, and\n\n216\n00:13:12.612 --> 00:13:15.540\nthen let's look here at console.log.\n\n217\n00:13:15.540 --> 00:13:19.136\nAt this point,\nif we print out the reader again,\n\n218\n00:13:19.136 --> 00:13:22.315\nthis is a small image so it's fairly fast.\n\n219\n00:13:22.315 --> 00:13:27.038\nIf we console.log, we're guaranteed to\nget, notice that's a ready state of two,\n\n220\n00:13:27.038 --> 00:13:29.410\nwe have the result, that's what we want.\n\n221\n00:13:30.900 --> 00:13:36.103\nBut at this point,\nwe need to make an image.\n\n222\n00:13:36.103 --> 00:13:42.440\nWell, let's see we have\nimage = new image and\n\n223\n00:13:42.440 --> 00:13:46.993\nimage.src = reader.result,\n\n224\n00:13:46.993 --> 00:13:51.542\nand then well, I need another add\n\n225\n00:13:51.542 --> 00:13:56.272\nevent listener, just like this.\n\n226\n00:13:56.272 --> 00:14:00.302\nLoad, and what is that?\n\n227\n00:14:00.302 --> 00:14:07.682\nWell if we look and\nconsole.log the image, just like so.\n\n228\n00:14:07.682 --> 00:14:13.843\nThen refresh, I choose,\nI look at the logo .png and I open.\n\n229\n00:14:13.843 --> 00:14:16.772\nThere is our image tag that\nwe could append anywhere.\n\n230\n00:14:16.772 --> 00:14:21.230\nAnd as a matter of fact, I'm gonna append\nit just to show you that it does work.\n\n231\n00:14:21.230 --> 00:14:25.325\nSo what I'm gonna do is inside of a,\n\n232\n00:14:25.325 --> 00:14:29.700\nlet's see, this controls portion?\n\n233\n00:14:32.430 --> 00:14:38.940\nJust for now,\nI will grab the canvas.parent,\n\n234\n00:14:38.940 --> 00:14:44.309\nI think I can grab the parent like that,\n\n235\n00:14:44.309 --> 00:14:48.723\nand then appendChild of image.\n\n236\n00:14:48.723 --> 00:14:53.297\nAnd then let's make sure that I can\n\n237\n00:14:53.297 --> 00:14:58.201\ncanvas.parent, parentElement.\n\n238\n00:14:58.201 --> 00:14:58.712\nThere we go.\n\n239\n00:14:58.712 --> 00:15:03.074\nSo there's the parentElement,\nso I need to add Element there.\n\n240\n00:15:03.074 --> 00:15:07.621\nNow if we refresh,\nnotice I can't scroll up or down.\n\n241\n00:15:07.621 --> 00:15:11.232\nWe come here, open the image &gt; Open,\nand there it is.\n\n242\n00:15:11.232 --> 00:15:11.833\nIt actually get's appended.\n\n243\n00:15:11.833 --> 00:15:16.772\nNow it's kind of squished, because of\nlayout and things, but it does read in.\n\n244\n00:15:16.772 --> 00:15:22.704\nAnd that time I have the image\navailable to me, right?\n\n245\n00:15:22.704 --> 00:15:25.213\nThis was a lot of work-\n&gt;&gt; [LAUGH]\n\n246\n00:15:25.213 --> 00:15:26.862\n&gt;&gt; For that on change portion, right?\n\n247\n00:15:26.862 --> 00:15:27.363\n&gt;&gt; Yeah.\n\n248\n00:15:27.363 --> 00:15:30.195\n&gt;&gt; Now Zack,\nI was typing a few of these things, and\n\n249\n00:15:30.195 --> 00:15:34.354\nI saw you kind of looking at me\nquizzically, out of the corner of my eye.\n\n250\n00:15:34.354 --> 00:15:36.059\nDo you have a question?\n\n251\n00:15:36.059 --> 00:15:38.074\n&gt;&gt; Well you were using a 0 or\nan O right, so\n\n252\n00:15:38.074 --> 00:15:41.078\ndoesn't that mean that we can\nmake multiple images or no?\n\n253\n00:15:41.078 --> 00:15:43.238\n&gt;&gt; Yeah,\nactually that's what that does mean.\n\n254\n00:15:43.238 --> 00:15:47.269\nThis files.0 this file list\ncould be a bunch of files.\n\n255\n00:15:47.269 --> 00:15:50.400\nThe selector can allow you to\nselect a great number of files.\n\n256\n00:15:50.400 --> 00:15:55.344\nOur main focus is gonna be on a single\nfile, but you're absolutely correct\n\n257\n00:15:55.344 --> 00:16:00.224\nthat files bracket 0, I just want\nthe first one, and that's a default.\n\n258\n00:16:00.224 --> 00:16:01.674\nI'm not saying that's the best default.\n\n259\n00:16:01.674 --> 00:16:02.242\n&gt;&gt; Uh-huh.\n&gt;&gt; But\n\n260\n00:16:02.242 --> 00:16:06.822\nthat's kind of what our\napplication is garnered to, okay?\n\n261\n00:16:06.822 --> 00:16:11.432\nNow with this said,\nappending to the canvass,\n\n262\n00:16:11.432 --> 00:16:14.900\nthat's probably not what we want.\n\n263\n00:16:14.900 --> 00:16:16.990\nWe actually wanna draw\nit to the canvass right?\n\n264\n00:16:16.990 --> 00:16:18.080\n&gt;&gt; Sure, makes sense.\n\n265\n00:16:18.080 --> 00:16:20.149\n&gt;&gt; We wanna draw it to the canvass.\n\n266\n00:16:20.149 --> 00:16:26.714\nAnd, well, let's see here,\nwe may need it later.\n\n267\n00:16:26.714 --> 00:16:28.194\nWe also may need it later.\n\n268\n00:16:28.194 --> 00:16:33.883\nSo what I'm gonna do is I'm gonna come up\nhere and add a like a less statements.\n\n269\n00:16:33.883 --> 00:16:37.900\nSo let's look at our\nimage buffer here,okay.\n\n270\n00:16:37.900 --> 00:16:39.770\nAnd then we wanna draw to the canvas.\n\n271\n00:16:39.770 --> 00:16:44.282\nBut not only that,\nwe want to set the image equal to\n\n272\n00:16:44.282 --> 00:16:48.375\nthe actual thing that's brought in, okay?\n\n273\n00:16:48.375 --> 00:16:52.287\nSo, hmm.\n\n274\n00:16:52.287 --> 00:16:55.199\nImage?\n\n275\n00:16:55.199 --> 00:16:59.235\nNope, image buffer equals image,\n\n276\n00:16:59.235 --> 00:17:04.347\nas well as ctx.drawImage\nof the image buffer\n\n277\n00:17:04.347 --> 00:17:11.000\njust to make sure that was set equal,\nzero, zero.\n\n278\n00:17:11.000 --> 00:17:15.195\nSo, now we have this giant mess\nhere with onloads, onloads,\n\n279\n00:17:15.195 --> 00:17:18.918\non changes,\njust kind of stacked on top of each other.\n\n280\n00:17:18.918 --> 00:17:20.788\nBut if we come back and we wanna refresh,\n\n281\n00:17:20.788 --> 00:17:23.650\nhopefully, we have all of\nthis kind of figured out.\n\n282\n00:17:23.650 --> 00:17:27.730\nSo here's our logo, .png,\nand open, and well, I guess,\n\n283\n00:17:27.730 --> 00:17:31.970\nI could accidentally hit back,\nlet's try that one more time.\n\n284\n00:17:31.970 --> 00:17:34.480\nI wanna zoom out because\nI've got this crunched up.\n\n285\n00:17:35.750 --> 00:17:40.041\nCheers, here is our logo.png,\nthese are open, and there's our image.\n\n286\n00:17:40.041 --> 00:17:45.759\nIt actually loads that on, and\nif I look here's the image buffer.\n\n287\n00:17:45.759 --> 00:17:46.813\nIt's still that image.\n\n288\n00:17:46.813 --> 00:17:51.384\nSo, this is how we can read from a file,\nfrom an input.\n\n289\n00:17:51.384 --> 00:17:55.801\nThat was a lot of work, Zach, and it looks\nlike you're not necessarily satisfied with\n\n290\n00:17:55.801 --> 00:17:58.054\nthis giant mess of spaghetti shenanigans.\n\n291\n00:17:58.054 --> 00:18:00.349\n&gt;&gt; Well, I was wondering\nwhether to say this or not, but\n\n292\n00:18:00.349 --> 00:18:01.936\nis there any way we can clean this up?\n\n293\n00:18:01.936 --> 00:18:02.779\nDo we have time to do that?\n\n294\n00:18:02.779 --> 00:18:03.609\nI think we do.\n\n295\n00:18:03.609 --> 00:18:04.370\n&gt;&gt; I think we do.\n\n296\n00:18:04.370 --> 00:18:05.648\n&gt;&gt; Yeah.\n&gt;&gt; I think we do, now.\n\n297\n00:18:05.648 --> 00:18:08.817\nWe're gonna give it the old college try.\n\n298\n00:18:08.817 --> 00:18:10.861\n&gt;&gt; Yeah\n&gt;&gt; But what I'm gonna do,\n\n299\n00:18:10.861 --> 00:18:14.345\nI'm thinking, what's probably best is,\nI want to change,\n\n300\n00:18:14.345 --> 00:18:17.850\nwe got it working, I want to\nchange how this works little bit.\n\n301\n00:18:17.850 --> 00:18:20.739\n&gt;&gt; Okay.\n&gt;&gt; I think I wanna create a temporary\n\n302\n00:18:20.739 --> 00:18:24.081\ncanvas element that I'm\ngonna call buffer and\n\n303\n00:18:24.081 --> 00:18:27.779\nthen return that using\nwhat's known as a promise.\n\n304\n00:18:27.779 --> 00:18:30.041\nNow, promises help build asyncrosity.\n\n305\n00:18:30.041 --> 00:18:34.986\nWe can do, do this, then this,\nthen this, and then the resolve works.\n\n306\n00:18:34.986 --> 00:18:41.433\nSo, I'm gonna create a new\nfunction called loadImage.\n\n307\n00:18:41.433 --> 00:18:46.382\nAnd, that image is going to take a file.\n\n308\n00:18:46.382 --> 00:18:51.087\nAnd, actually let's say a filepath.\n\n309\n00:18:51.087 --> 00:18:58.174\nSo files, yeah,\nthat's what I want, filepath.\n\n310\n00:18:58.174 --> 00:19:00.651\nOr better yet, let's call it filename.\n\n311\n00:19:00.651 --> 00:19:03.990\nI always get weird, cuz it's not\nreally a path cuz I put it in the.\n\n312\n00:19:03.990 --> 00:19:07.652\nAnyway, so I'm gonna return a new promise.\n\n313\n00:19:07.652 --> 00:19:09.056\nNow, if you're like, what is a promise?\n\n314\n00:19:09.056 --> 00:19:09.821\n&gt;&gt; All right.\n\n315\n00:19:09.821 --> 00:19:12.684\n&gt;&gt; I definitely covered these\nin our library extensively,\n\n316\n00:19:12.684 --> 00:19:14.300\ndealing with asynchronisity.\n\n317\n00:19:14.300 --> 00:19:17.310\nI like promises because\nthey provide a uniform API,\n\n318\n00:19:17.310 --> 00:19:19.640\nand I can encapsulate a lot of this, like,\n\n319\n00:19:19.640 --> 00:19:24.190\nweird call back stuff inside of\na promise and kind of hide it away.\n\n320\n00:19:24.190 --> 00:19:27.760\nSo that's what I'm gonna do, and typically\npromises take a resolve and a reject.\n\n321\n00:19:29.670 --> 00:19:34.590\nThe only way that this would ever\nreject is if something bad happened.\n\n322\n00:19:34.590 --> 00:19:38.950\nSo for this one,\nI'm not going to have a reject, but\n\n323\n00:19:38.950 --> 00:19:41.520\nin general,\npromises have a resolve or reject.\n\n324\n00:19:41.520 --> 00:19:45.724\nAnd you can say if I resolve,\nhere's the data you ask for, if I reject,\n\n325\n00:19:45.724 --> 00:19:47.140\nsomething went wrong.\n\n326\n00:19:47.140 --> 00:19:52.327\nNow at that point, what I want is I wanna\n\n327\n00:19:52.327 --> 00:19:57.211\ntake all of this stuff and cut it out.\n\n328\n00:19:57.211 --> 00:19:59.627\nAnd put it right here.\n\n329\n00:20:02.131 --> 00:20:06.178\nOkay, all right, we're close, we're close.\n\n330\n00:20:06.178 --> 00:20:12.163\nBut instead of doing this here,\nwhat I'm thinking is create a buffer,\n\n331\n00:20:12.163 --> 00:20:17.171\nand a buffer I'm gonna say is\njust another canvas element.\n\n332\n00:20:17.171 --> 00:20:21.439\nDocument.createElement, so\nI can do this dynamically.\n\n333\n00:20:21.439 --> 00:20:25.170\nAnd I'm gonna create a canvas type\nelement, this is a separate canvas.\n\n334\n00:20:25.170 --> 00:20:32.718\nAnd I'm gonna set the buffer's\nheight to the images height.\n\n335\n00:20:32.718 --> 00:20:39.920\nSo, and then the buffer's width\nequal to the image width.\n\n336\n00:20:39.920 --> 00:20:45.415\nAnd then I want to\nresolve with the buffer.\n\n337\n00:20:45.415 --> 00:20:46.979\nOkay,.\n\n338\n00:20:46.979 --> 00:20:54.446\nNow, I can do something like this,\nload image, files, zero.\n\n339\n00:20:54.446 --> 00:20:56.677\nIf I didn't already have file zero here,\nright?\n\n340\n00:20:56.677 --> 00:20:58.707\nI need to make a couple of little changes.\n\n341\n00:20:58.707 --> 00:21:01.778\nFile name needs to be what's right here.\n\n342\n00:21:03.656 --> 00:21:11.188\nAnd now, we should get kind of a load,\nand then I can do something like then,\n\n343\n00:21:11.188 --> 00:21:15.563\nwhen you get the image, do something else.\n\n344\n00:21:15.563 --> 00:21:17.931\nSo let's just cancel that log the image.\n\n345\n00:21:17.931 --> 00:21:20.705\nNow, what is the image in this context?\n\n346\n00:21:20.705 --> 00:21:24.084\nWell, it's the image that\nI wrote to the buffer.\n\n347\n00:21:24.084 --> 00:21:28.036\nAnd so, we'll see that, hopefully.\n\n348\n00:21:28.036 --> 00:21:33.120\nSo if I refresh and I chose file,\nand I look at logo.png, and I open,\n\n349\n00:21:33.120 --> 00:21:37.966\nthat does have a canvas element,\nwhich is going to be our buffer.\n\n350\n00:21:37.966 --> 00:21:42.538\nI wonder, since this is a canvas element,\n\n351\n00:21:42.538 --> 00:21:47.239\nlet's more accurately call this a buffer.\n\n352\n00:21:47.239 --> 00:21:51.588\nCan I do ctx drawImage,\n\n353\n00:21:51.588 --> 00:21:55.071\nbuffer, 0, 0.\n\n354\n00:21:55.071 --> 00:22:01.581\nAnd if I do, well,\nchoose file, there we go.\n\n355\n00:22:01.581 --> 00:22:05.637\nOpen, and it looks like I broke something,\nZach, it is a-\n\n356\n00:22:05.637 --> 00:22:07.347\n&gt;&gt; Uh-oh, is it time for\n\n357\n00:22:07.347 --> 00:22:09.242\nlive action debugging?\n\n358\n00:22:09.242 --> 00:22:12.390\n&gt;&gt; Well, this is actually a common issue.\n\n359\n00:22:12.390 --> 00:22:14.253\nIf you create a buffer like this-\n&gt;&gt; Mm-hm.\n\n360\n00:22:14.253 --> 00:22:17.434\n&gt;&gt; What the buffer is,\nis a temporary canvas.\n\n361\n00:22:17.434 --> 00:22:19.729\nI created the width and\nthe height that I wanted but\n\n362\n00:22:19.729 --> 00:22:23.940\nI never actually wrote the image data to\nthe buffer in order to have it there.\n\n363\n00:22:23.940 --> 00:22:27.539\n&gt;&gt; So, buffer, done.\n\n364\n00:22:27.539 --> 00:22:29.207\nGet context.\n\n365\n00:22:29.207 --> 00:22:36.380\nSo you have to get this buffer's context,\ndrawImage of the image at 0,0.\n\n366\n00:22:36.380 --> 00:22:37.926\nSo they're the exact same size.\n\n367\n00:22:37.926 --> 00:22:39.385\nThe little canvass draw.\n\n368\n00:22:39.385 --> 00:22:43.597\nThink of it as you are painting\na full scale picture and the size,\n\n369\n00:22:43.597 --> 00:22:47.029\nthe sheet of paper or\nthe actual canvas in real life,\n\n370\n00:22:47.029 --> 00:22:50.309\nis exactly the size that\nyou need to paint that on.\n\n371\n00:22:50.309 --> 00:22:56.114\nNow, let's see if that resolves that\nissue, and refresh, and choose file.\n\n372\n00:22:56.114 --> 00:22:59.476\nAnd logo.png and open and boom.\n\n373\n00:22:59.476 --> 00:23:00.549\nWe're back in business.\n\n374\n00:23:00.549 --> 00:23:01.354\n&gt;&gt; Yehey.\n\n375\n00:23:01.354 --> 00:23:07.104\n&gt;&gt; But now, what that means is,\nYou know if I fold this up, load image.\n\n376\n00:23:07.104 --> 00:23:08.199\nI wonder what that does?\n\n377\n00:23:08.199 --> 00:23:10.347\nIt loads the image from a filename.\n\n378\n00:23:10.347 --> 00:23:16.544\nAnd I've hidden away so\nmuch of that craziness, right?\n\n379\n00:23:16.544 --> 00:23:17.074\n&gt;&gt; Mm-hm.\n\n380\n00:23:17.074 --> 00:23:19.848\n&gt;&gt; Load the image, then draw the image.\n\n381\n00:23:19.848 --> 00:23:20.666\nThat's it.\n\n382\n00:23:20.666 --> 00:23:23.136\nThat's all I need to do.\n\n383\n00:23:23.136 --> 00:23:25.982\n&gt;&gt; Okay, that's pretty straight forward.\n\n384\n00:23:25.982 --> 00:23:27.481\n&gt;&gt; Yes, it is.\n\n385\n00:23:27.481 --> 00:23:29.881\nAgain Zack,\nI don't know if I helped you out but\n\n386\n00:23:29.881 --> 00:23:32.342\nit looks like I've cleaned\nthis up a little bit.\n\n387\n00:23:32.342 --> 00:23:33.457\n&gt;&gt; Yeah.\n\n388\n00:23:33.457 --> 00:23:35.720\n&gt;&gt; It's still a lot to think about, right?\n\n389\n00:23:35.720 --> 00:23:40.168\nI have an addEventListener load and\nget the image and here is our source and\n\n390\n00:23:40.168 --> 00:23:43.055\nour results and,\nadd another EventListener.\n\n391\n00:23:43.055 --> 00:23:47.016\nAnd then I resolve with that buffer,\nwhich has actually been,\n\n392\n00:23:47.016 --> 00:23:51.963\ncanvas that I've written the image to,\nand now I have that in memory, right?\n\n393\n00:23:51.963 --> 00:23:57.882\nThere's one final thing, I should\nprobably say, imageBuffer equals buffer.\n\n394\n00:23:57.882 --> 00:24:03.330\nAnd that way I can say logo.png open,\nthere it is.\n\n395\n00:24:03.330 --> 00:24:06.680\nLet's look at the image buffer, and\n\n396\n00:24:06.680 --> 00:24:10.690\nit is that canvas element that I'm gonna\nuse as a buffer for reading and writing.\n\n397\n00:24:10.690 --> 00:24:11.190\n&gt;&gt; Very cool.\n\n398\n00:24:12.650 --> 00:24:14.130\n&gt;&gt; That's how you get access to the image.\n\n399\n00:24:15.340 --> 00:24:19.200\nMost of the work is in\nthis load image function.\n\n400\n00:24:19.200 --> 00:24:20.590\nRight, we just got down and dirty.\n\n401\n00:24:20.590 --> 00:24:23.830\nWe got it done and I used to promise\nto deal with asynchronicity.\n\n402\n00:24:23.830 --> 00:24:27.870\nYou don't have to, but I think\nthe readability improves, at least for\n\n403\n00:24:27.870 --> 00:24:30.225\nme, whenever you wrap this in a promise.\n\n404\n00:24:30.225 --> 00:24:34.045\nCuz you want to load the image,\nthen you want to do some stuff.\n\n405\n00:24:34.045 --> 00:24:37.910\nBut you can't guarantee that they execute\none right after the other in standard\n\n406\n00:24:37.910 --> 00:24:42.235\nJavaScript because you're reading an image\nand creating an image and loading it up.\n\n407\n00:24:42.235 --> 00:24:46.480\nIt's actually asynchronous by nature,\nso using a promise helps.\n\n408\n00:24:46.480 --> 00:24:50.861\nLoad an image, then, with that buffer,\ndo this other stuff.\n\n409\n00:24:50.861 --> 00:24:55.370\nSo now kind of our main portion\nis pretty easy to follow.\n\n410\n00:24:55.370 --> 00:24:57.820\nThat load image could also\nbe used in other contexts,\n\n411\n00:24:57.820 --> 00:25:01.160\nbut that's how you handle\nthe actual images.\n\n412\n00:25:01.160 --> 00:25:04.280\nRight, so that's our first step\nto building our image editor.\n\n413\n00:25:04.280 --> 00:25:06.970\n&gt;&gt; Wonderful job, Justin,\naccessing the image.\n\n414\n00:25:06.970 --> 00:25:09.030\nAnd before we move on, last words?\n\n415\n00:25:09.030 --> 00:25:10.650\n&gt;&gt; Well, now that we have our image there,\n\n416\n00:25:10.650 --> 00:25:14.080\nwe actually have to, think we should\nprobably do a little bit of cleanup,\n\n417\n00:25:14.080 --> 00:25:17.620\nseparate out into some modules,\nreorganize, refactor a little bit.\n\n418\n00:25:17.620 --> 00:25:21.960\nBut also, we ought to get that image\nmanipulation function .There's no point in\n\n419\n00:25:21.960 --> 00:25:26.190\nsaving if all you can do is load the image\nand save the exact same image, right?\n\n420\n00:25:26.190 --> 00:25:30.190\nSo I think the next thing is building\nour image manipulation functions,\n\n421\n00:25:30.190 --> 00:25:34.210\nwhich there's some math coming up.\n\n422\n00:25:34.210 --> 00:25:36.692\nThat's just by nature how it works.\n\n423\n00:25:36.692 --> 00:25:41.477\nBut we're gonna keep them fairly straight\nforward, fairly simple, so definitely stay\n\n424\n00:25:41.477 --> 00:25:45.770\ntuned for that because you'll be able\nto grayscale, add sepia or sepia tones.\n\n425\n00:25:45.770 --> 00:25:47.450\n[LAUGH]\n&gt;&gt; Sepia.\n\n426\n00:25:47.450 --> 00:25:49.718\n[LAUGH]\n&gt;&gt; As well as brighten the image,\n\n427\n00:25:49.718 --> 00:25:52.150\nand then our last step is to save it.\n\n428\n00:25:52.150 --> 00:25:55.540\nSo pretty straight forward, but\ndoes a lot with a canvas and\n\n429\n00:25:55.540 --> 00:25:59.580\nsome asynchronicity for\nreading in files from a user.\n\n430\n00:25:59.580 --> 00:26:03.520\nThis is something where you could then\ntake that image that has been modified,\n\n431\n00:26:03.520 --> 00:26:07.390\nand then bundle it up and send it over\nto a server somewhere to be saved,\n\n432\n00:26:07.390 --> 00:26:09.900\nmaybe on S3 or something of that nature.\n\n433\n00:26:09.900 --> 00:26:13.050\nWe're just gonna keep an online\nbrowser just for learning purposes.\n\n434\n00:26:13.050 --> 00:26:15.170\n&gt;&gt; Justin, you do an amazing job,\nthank you very much.\n\n435\n00:26:15.170 --> 00:26:19.360\nHTML5 Canvas Projects,\nthere's a lot of episodes, watch them all.\n\n436\n00:26:19.360 --> 00:26:21.000\nAlso visit our course library,\n\n437\n00:26:21.000 --> 00:26:25.630\ncheck out any of the hundreds of videos\nthere all designed to help you go further.\n\n438\n00:26:25.630 --> 00:26:28.630\nAnd tell everybody you know about\nDevProTV, they'll be glad you did.\n\n439\n00:26:28.630 --> 00:26:30.150\nThanks for watching, I'm Zach Memos.\n\n440\n00:26:30.150 --> 00:26:30.910\n&gt;&gt; And I'm Justin Dennison.\n\n441\n00:26:30.910 --> 00:26:32.941\n&gt;&gt; And we will see you soon.\n\n442\n00:26:32.941 --> 00:26:38.170\n[SOUND]\n\n",
          "vimeoId": "235784828"
        },
        {
          "description": "In this episode, Justin demonstrates building different image manipulation filters that are going to be available in the applicaton such as greyscale, sepia, and blurring.",
          "length": "1269",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-2-4-1-building_image_manipulation_functions-092717-PGM.00_23_37_10.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-2-4-1-building_image_manipulation_functions-092717-PGM.00_23_37_10.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-2-4-1-building_image_manipulation_functions-092717-PGM.00_23_37_10.Still001-sm.jpg",
          "title": "Building Image Manipulation Functions",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.481 --> 00:00:15.281\nHello, thank you for choosing DevPro.tv,\nhelping you learn wherever you go.\n\n3\n00:00:15.281 --> 00:00:19.590\nI'm your host, Zach Memos,\nfor HTML 5 canvas project.\n\n4\n00:00:19.590 --> 00:00:25.200\nAnd this is building image manipulation\nfunctions with IT DevPro expert,\n\n5\n00:00:25.200 --> 00:00:25.790\nJustin Dennison.\n\n6\n00:00:25.790 --> 00:00:28.360\nJustin, good to have you here,\nsir, and teach us.\n\n7\n00:00:28.360 --> 00:00:30.210\nLet us know how to do this.\n\n8\n00:00:30.210 --> 00:00:33.010\n&gt;&gt; It is good to be back and yeah,\nthat's what we're doing this time around.\n\n9\n00:00:33.010 --> 00:00:35.835\nBut before we get to there,\nvery important question for you, Zach.\n\n10\n00:00:35.835 --> 00:00:37.050\nAre you here today?\n\n11\n00:00:37.050 --> 00:00:37.960\n&gt;&gt; Well, I'm excited.\n\n12\n00:00:37.960 --> 00:00:40.560\nI wanna move forward and\nfind out about how we do this.\n\n13\n00:00:40.560 --> 00:00:43.647\nBut in last episode, we had a little bit\nof cleanup that we had to do in the way.\n\n14\n00:00:43.647 --> 00:00:45.580\nI don't think that was all done yet,\nright?\n\n15\n00:00:45.580 --> 00:00:47.120\nWe have to do a little more cleanup.\n\n16\n00:00:47.120 --> 00:00:48.320\n&gt;&gt; You're probably right.\n\n17\n00:00:48.320 --> 00:00:50.350\nThere's a lot going on in\nthe file as it stands.\n\n18\n00:00:50.350 --> 00:00:55.790\nWe had this load image function and\nit might be best to pull that out and\n\n19\n00:00:55.790 --> 00:00:59.540\nmaybe put it in a utils module or\na utils-type thing.\n\n20\n00:00:59.540 --> 00:01:04.039\nIn that way, we can keep all of those\nseparate, our main file very focused and\n\n21\n00:01:04.039 --> 00:01:08.910\nthat will make refactoring easier\nlater for the actual main application.\n\n22\n00:01:08.910 --> 00:01:10.820\nSo let's go ahead and\ntake a look in my screen here.\n\n23\n00:01:10.820 --> 00:01:13.260\nAnd well it's just plain.\n\n24\n00:01:13.260 --> 00:01:16.680\nRight, this is the logo, we're good to go.\n\n25\n00:01:16.680 --> 00:01:20.490\nIf we come over here, this load image.\n\n26\n00:01:20.490 --> 00:01:22.600\nThat's right in the middle of that.\n\n27\n00:01:22.600 --> 00:01:24.040\nMaybe we shouldn't have that there.\n\n28\n00:01:25.380 --> 00:01:29.347\nI would really like to have\nsomething like utils.loadImage.\n\n29\n00:01:29.347 --> 00:01:33.836\nSo in order to do that, what I'm gonna\ndo is I'm gonna create another file, and\n\n30\n00:01:33.836 --> 00:01:37.340\nactually let's create it\nin a JavaScript folder.\n\n31\n00:01:37.340 --> 00:01:38.905\nSo JS is the folder.\n\n32\n00:01:38.905 --> 00:01:43.150\nAnd then inside of that folder, and I'll\nshow you those close up here just shortly.\n\n33\n00:01:43.150 --> 00:01:44.960\nLet's create a utils.js.\n\n34\n00:01:44.960 --> 00:01:50.450\nNow, someone argued that utils\nshould be very specific, you know.\n\n35\n00:01:50.450 --> 00:01:51.830\nMore or less what happens is,\n\n36\n00:01:51.830 --> 00:01:55.420\nI start throwing things in utils that\ndon't really have any other place but\n\n37\n00:01:55.420 --> 00:01:59.860\nthey are like tools, right,\nthat I use for other purposes.\n\n38\n00:01:59.860 --> 00:02:06.188\nIt may be that loadImage ends up\nbeing in like an image module or\n\n39\n00:02:06.188 --> 00:02:11.675\nan image folder, or\nnot folder, excuse me, image.\n\n40\n00:02:11.675 --> 00:02:13.072\nBut for now it's going in utils.\n\n41\n00:02:13.072 --> 00:02:21.650\n[LAUGH] So what I'm gonna do is I'm\njust gonna create a utils object.\n\n42\n00:02:21.650 --> 00:02:23.660\nAnd since I only need these ones and\n\n43\n00:02:23.660 --> 00:02:27.960\nthese are kind of like static methods,\nonly utils module.\n\n44\n00:02:27.960 --> 00:02:31.480\nI'm just going to use a standard\nobject literal or nothing fancy here.\n\n45\n00:02:31.480 --> 00:02:33.479\nThere's a bunch of ways to do this now.\n\n46\n00:02:33.479 --> 00:02:36.059\nIf your browser supported\n[INAUDIBLE] six modules,\n\n47\n00:02:36.059 --> 00:02:39.220\nwhich actually version of Chrome does.\n\n48\n00:02:39.220 --> 00:02:43.942\nWe would do this a different way but\nwithout a build of pipeline set up and\n\n49\n00:02:43.942 --> 00:02:47.422\nnot knowing what everybody's\nbrowser version is.\n\n50\n00:02:47.422 --> 00:02:49.535\nWe're just gonna go old school.\n\n51\n00:02:49.535 --> 00:02:53.486\nSo,we're kinda look over here,\n\n52\n00:02:53.486 --> 00:02:57.180\ngrab this loadImage function.\n\n53\n00:02:57.180 --> 00:02:59.680\nAnd I'm gonna come right here.\n\n54\n00:02:59.680 --> 00:03:02.380\nOne quick aside, speaking of browsers,\n\n55\n00:03:03.780 --> 00:03:07.420\nthe promises portion has been there for\na while.\n\n56\n00:03:07.420 --> 00:03:12.720\nThis is a native JavaScript\npromise that's new implementation.\n\n57\n00:03:12.720 --> 00:03:14.170\nIf you don't have this,\n\n58\n00:03:16.120 --> 00:03:21.660\nthen you would have to polyfill that and\njust look up promise polyfill.\n\n59\n00:03:21.660 --> 00:03:23.180\nIt should behave exactly the same way.\n\n60\n00:03:23.180 --> 00:03:25.140\nSo we're gonna leave that there.\n\n61\n00:03:25.140 --> 00:03:29.090\nIt's a giant function, but\nif I fold it up, utils has a load image.\n\n62\n00:03:30.210 --> 00:03:32.630\nNow I need to make sure that\nI put it on the index.html.\n\n63\n00:03:32.630 --> 00:03:34.205\nBecause if I don't, well things are broke.\n\n64\n00:03:34.205 --> 00:03:40.860\nSo script src = js/utils.js.\n\n65\n00:03:40.860 --> 00:03:41.360\nJust like so.\n\n66\n00:03:42.680 --> 00:03:43.570\nOkay?\n\n67\n00:03:43.570 --> 00:03:44.910\nSo there we go.\n\n68\n00:03:44.910 --> 00:03:46.820\nWe're good.\n\n69\n00:03:46.820 --> 00:03:50.870\nIf we come back,\nwe need to make sure we've got our utils.\n\n70\n00:03:50.870 --> 00:03:51.950\nIt's there.\n\n71\n00:03:51.950 --> 00:03:55.648\nWe come back in app.js, we make sure\nthat we use that namespace, so to speak,\n\n72\n00:03:55.648 --> 00:03:56.670\nutils.loadImage.\n\n73\n00:03:58.190 --> 00:04:01.240\nLet's refresh, unexpected identifier.\n\n74\n00:04:01.240 --> 00:04:04.900\nUtils line two, it'll get you every time.\n\n75\n00:04:06.770 --> 00:04:08.300\nWell, why is that?\n\n76\n00:04:08.300 --> 00:04:13.821\nWell, because I'm using this new\nmethod syntax inside of this object.\n\n77\n00:04:13.821 --> 00:04:18.470\nI don't actually need\nthe function keyword.\n\n78\n00:04:18.470 --> 00:04:20.570\nIf I wanted to keep the function keyword,\n\n79\n00:04:20.570 --> 00:04:25.340\nthen I would have to do something\nlike loadImage: function loadImage.\n\n80\n00:04:25.340 --> 00:04:26.970\nAnd that's perfectly fine but\n\n81\n00:04:26.970 --> 00:04:30.690\nI'm just gonna use a short hand which\ndoes some of the aliasing for me.\n\n82\n00:04:30.690 --> 00:04:31.962\nLet's refresh.\n\n83\n00:04:31.962 --> 00:04:35.510\nThat council.log error is gone.\n\n84\n00:04:35.510 --> 00:04:37.727\nLet's make sure it still works.\n\n85\n00:04:37.727 --> 00:04:43.370\nSo if we choose File and we go into\nimages and we go to the logo and we open.\n\n86\n00:04:43.370 --> 00:04:45.330\nThere it is, everything still works.\n\n87\n00:04:45.330 --> 00:04:50.680\nWe have now cleaned up our application\nfile just to this one event listener and\n\n88\n00:04:50.680 --> 00:04:52.120\nkind of this set up.\n\n89\n00:04:52.120 --> 00:04:54.390\nNow this still has some\nglobal namespace issues.\n\n90\n00:04:54.390 --> 00:04:55.330\nBut there they are.\n\n91\n00:04:55.330 --> 00:04:58.700\nJust as a quick aside,\nI told you I would show these.\n\n92\n00:04:58.700 --> 00:05:00.890\nI created a JavaScript folder,\na JS folder, and\n\n93\n00:05:00.890 --> 00:05:05.470\nput Utils inside of it, just to make\nsure everybody's on the same page.\n\n94\n00:05:05.470 --> 00:05:08.600\nBut I think that's the clean\nup that I wanted to finish,\n\n95\n00:05:08.600 --> 00:05:12.130\nmake sure we had done before we moved\nfurther, that way we can remove some of\n\n96\n00:05:12.130 --> 00:05:15.710\nthe noise from this particular file\nthat we're gonna continue working in.\n\n97\n00:05:15.710 --> 00:05:17.160\n&gt;&gt; So now that you have that cleaned up,\n\n98\n00:05:17.160 --> 00:05:21.400\nwhat exactly do you mean by\nimage manipulation function.\n\n99\n00:05:21.400 --> 00:05:27.730\n&gt;&gt; So, an image is made up of an array of\nred, green, blue, and alpha data, right?\n\n100\n00:05:27.730 --> 00:05:31.230\nAnd actually if you look\nat some of our library.\n\n101\n00:05:31.230 --> 00:05:35.630\nI talk about this a little bit when we\ntalk about just entry level HTML5 canvas.\n\n102\n00:05:35.630 --> 00:05:41.230\nBut the red, green, blue and\nalpha channels are arranged in an array.\n\n103\n00:05:41.230 --> 00:05:47.348\nIt's an array of integers, 0 to 255\nexcept for alpha I think is 0 to 1.\n\n104\n00:05:47.348 --> 00:05:51.620\nActually now that I think about,\nthe alpha might be 0 to 255 as well.\n\n105\n00:05:51.620 --> 00:05:54.890\nI would have to double check that but that\nalways gets weird because we wanna make\n\n106\n00:05:54.890 --> 00:05:57.610\nmake sure we have the same\namount of information.\n\n107\n00:05:57.610 --> 00:05:59.620\nAnd we'll take a look at\nthat just to confirm.\n\n108\n00:06:00.680 --> 00:06:04.700\nBut then what I wanna do is\nI want to read that data,\n\n109\n00:06:04.700 --> 00:06:10.290\nin order to get a grayscale, and I want to\nmanipulate that to create a new array and\n\n110\n00:06:10.290 --> 00:06:13.060\nthen overwrite that data\nwith that new array.\n\n111\n00:06:13.060 --> 00:06:15.220\nBecause kind of what a grayscale is,\n\n112\n00:06:15.220 --> 00:06:18.790\nis you just kind of blend\nall of the colors together.\n\n113\n00:06:18.790 --> 00:06:22.770\nFor a lack of better term, a little\nmore than that but it's a good thought.\n\n114\n00:06:22.770 --> 00:06:23.786\nWhat about sepia?\n\n115\n00:06:23.786 --> 00:06:26.550\n&gt;&gt; Mm-hm.\n&gt;&gt; Well sepia actually resets the red,\n\n116\n00:06:26.550 --> 00:06:28.560\ngreen and blue channels, right?\n\n117\n00:06:28.560 --> 00:06:33.917\nRGB values to a combination of red,\ngreen and blue for their, it's weird.\n\n118\n00:06:33.917 --> 00:06:37.657\nSo the red channel is like a combination\nof relative magnitudes of red, green and\n\n119\n00:06:37.657 --> 00:06:39.200\nblue with different variables.\n\n120\n00:06:39.200 --> 00:06:41.910\nSo that function gets\na little more complicated.\n\n121\n00:06:41.910 --> 00:06:44.430\nAnd then brighten kinda\njust turns all of them up.\n\n122\n00:06:44.430 --> 00:06:48.732\nI don't know if you've ever been in\nan equalizer or a car radiator or\n\n123\n00:06:48.732 --> 00:06:51.835\nsomeone just reaches over,\n[SOUND], or runs up.\n\n124\n00:06:51.835 --> 00:06:54.970\nThat's kind of what brighten does.\n\n125\n00:06:54.970 --> 00:06:58.135\nWith that said,\nthese functions are gonna be very\n\n126\n00:06:58.135 --> 00:06:59.150\nspecific,\n&gt;&gt; Right.\n\n127\n00:06:59.150 --> 00:07:00.670\n&gt;&gt; To the transformation.\n\n128\n00:07:00.670 --> 00:07:04.250\nSo that's what I mean by\nthe image manipulation functions.\n\n129\n00:07:04.250 --> 00:07:09.505\nIt's gray scale, sepia and\nbrighten are going to transform data and\n\n130\n00:07:09.505 --> 00:07:14.771\noverride the data in the image in\norder to actually see it on the page.\n\n131\n00:07:14.771 --> 00:07:18.227\n&gt;&gt; Okay, so those are the function,\nso how does a user access it?\n\n132\n00:07:18.227 --> 00:07:20.870\n&gt;&gt; You know what?\n\n133\n00:07:22.000 --> 00:07:25.200\nWe should probably actually get that\nworking before we even worry about\n\n134\n00:07:25.200 --> 00:07:28.960\ntransforming the image because\nthe user can't initiate the action,\n\n135\n00:07:30.020 --> 00:07:32.200\ndoesn't matter if\nthe function exists at all.\n\n136\n00:07:32.200 --> 00:07:34.901\n&gt;&gt; And they will be very sad.\n\n137\n00:07:34.901 --> 00:07:36.225\n[LAUGH]\n&gt;&gt; I don't know how to make\n\n138\n00:07:36.225 --> 00:07:37.510\nit gray scale, right?\n\n139\n00:07:37.510 --> 00:07:39.527\nSo you have to have some kind\nof user interactions there.\n\n140\n00:07:39.527 --> 00:07:40.910\n&gt;&gt; Yeah.\n\n141\n00:07:40.910 --> 00:07:42.880\nSo let's actually do that first.\n\n142\n00:07:42.880 --> 00:07:44.730\n&gt;&gt; Good.\n&gt;&gt; If we come back into my computer here,\n\n143\n00:07:45.740 --> 00:07:48.490\nwe have this kind of apply button.\n\n144\n00:07:48.490 --> 00:07:52.420\nAnd we have a filters chunk, right?\n\n145\n00:07:53.690 --> 00:07:55.467\nThis apply button.\n\n146\n00:07:55.467 --> 00:07:57.291\nHere's what I'm thinking for\na user interaction.\n\n147\n00:07:57.291 --> 00:07:58.670\nWe have the layout.\n\n148\n00:07:58.670 --> 00:08:01.513\nWe just need to create\nthe The customization.\n\n149\n00:08:01.513 --> 00:08:06.640\nSo when I select grayscale and\nI hit apply I want this to turn grayscale.\n\n150\n00:08:06.640 --> 00:08:09.870\nNow what that means is there is\na few things we have to consider.\n\n151\n00:08:09.870 --> 00:08:11.210\nThere has to be an image, right?\n\n152\n00:08:11.210 --> 00:08:11.820\n&gt;&gt; Right.\n\n153\n00:08:11.820 --> 00:08:15.380\n&gt;&gt; Right,\ngrayscale is meaningless without that.\n\n154\n00:08:16.560 --> 00:08:22.990\nBut also I need to know what they've\nselected when they click apply.\n\n155\n00:08:22.990 --> 00:08:28.180\nNow, I could change this around but\nthis allows me to not accidentally oops,\n\n156\n00:08:28.180 --> 00:08:30.600\nI selected the, that's not what I wanted.\n\n157\n00:08:30.600 --> 00:08:32.370\nNow, we are also only\napplying as one of the tap,\n\n158\n00:08:32.370 --> 00:08:34.130\nwe are not doing a layered approach,\nright?\n\n159\n00:08:34.130 --> 00:08:36.670\nI am not overriding, changing, overriding.\n\n160\n00:08:36.670 --> 00:08:40.160\nSo I can't do I want a gray-scale\nsepia brightened image.\n\n161\n00:08:40.160 --> 00:08:44.290\nYou either get a brightened version,\na sepia version, or a gray-scale version,\n\n162\n00:08:44.290 --> 00:08:49.140\nand then kind of an interesting\nextension is how would I then make those\n\n163\n00:08:49.140 --> 00:08:54.165\ncompound effects and\nthen to full disclosure, sometimes these\n\n164\n00:08:54.165 --> 00:08:59.070\ntransformations are kind of one way\nonly unless you do some other stuff.\n\n165\n00:08:59.070 --> 00:09:01.200\nAnd that means if you\nbrighten then grayscale,\n\n166\n00:09:01.200 --> 00:09:04.590\nyou may get a different effect than\nif you grayscale then btighten.\n\n167\n00:09:04.590 --> 00:09:05.320\nSo keep that in mind.\n\n168\n00:09:05.320 --> 00:09:08.230\nThey're not necessarily\nimposable at all times.\n\n169\n00:09:08.230 --> 00:09:09.370\n&gt;&gt; Okay.\n\n170\n00:09:09.370 --> 00:09:11.890\n&gt;&gt; So\nI want him to click that apply button.\n\n171\n00:09:11.890 --> 00:09:16.540\nAnd I want it to grab the value\nfrom that select field.\n\n172\n00:09:16.540 --> 00:09:18.190\nAnd the run function accordingly.\n\n173\n00:09:19.420 --> 00:09:20.360\nThat's probably the fruit.\n\n174\n00:09:20.360 --> 00:09:23.040\nWe need to make sure that works out\nbefore we even worry about manipulating\n\n175\n00:09:23.040 --> 00:09:24.920\nthe image itself.\n\n176\n00:09:24.920 --> 00:09:28.270\nSo if we come over here,\nI wanna click the apply button.\n\n177\n00:09:28.270 --> 00:09:32.320\nBecause I say that that sounds\nlike an event listener.\n\n178\n00:09:32.320 --> 00:09:34.452\nSo apply dot click.\n\n179\n00:09:34.452 --> 00:09:39.056\nNope.I Add a bin listener,\nI was trying to make my own short\n\n180\n00:09:39.056 --> 00:09:43.515\ncuts.And then we get\nthe event,and there we go, okay.\n\n181\n00:09:43.515 --> 00:09:46.060\nSo,what do we got?\n\n182\n00:09:46.060 --> 00:09:50.348\nLet's look at this event, this is a mouse\nevent,let's see if we know anything.So if\n\n183\n00:09:50.348 --> 00:09:55.890\nI click apply,there's a mouse\nevent.and when we look through here,\n\n184\n00:09:55.890 --> 00:09:58.570\nI don't see anything about the filters.\n\n185\n00:09:59.730 --> 00:10:01.660\nI need the ability to see the filters.\n\n186\n00:10:01.660 --> 00:10:03.560\nAnd let's move this\nover just a little bit.\n\n187\n00:10:04.960 --> 00:10:09.640\nSo when I click I wanna grab\nwhatever that filter selection is.\n\n188\n00:10:10.780 --> 00:10:13.350\nAnd then start using that\nto make a decision right?\n\n189\n00:10:14.360 --> 00:10:18.300\nSo if I come over here, filter.\n\n190\n00:10:18.300 --> 00:10:19.200\nNow I'm saying filter.\n\n191\n00:10:19.200 --> 00:10:21.690\nThose are actually\nthe transformations I for\n\n192\n00:10:21.690 --> 00:10:24.650\nsome reason I think of\na social media type of thing.\n\n193\n00:10:24.650 --> 00:10:28.650\nLet's apply this filter, let's apply\nthis filter and filters kinda like\n\n194\n00:10:28.650 --> 00:10:33.180\na lens that you hold in front of your\neye to filter out certain things.\n\n195\n00:10:33.180 --> 00:10:37.190\nWell that's not strickenly true and\nI'm gonna call them filters.\n\n196\n00:10:38.320 --> 00:10:47.870\nSo filter ToApply is\nfilters.value: I think that's it.\n\n197\n00:10:47.870 --> 00:10:49.700\nI think that's it.\n\n198\n00:10:49.700 --> 00:10:50.925\nLet's see here.\n\n199\n00:10:50.925 --> 00:10:54.160\nconsole.log(filterToApply).\n\n200\n00:10:54.160 --> 00:10:55.850\nAnd let's look around here.\n\n201\n00:10:55.850 --> 00:11:00.390\nSo if I click here that's none that's\nright because I selected no filter.\n\n202\n00:11:00.390 --> 00:11:01.700\nAnd if I click sepia.\n\n203\n00:11:03.050 --> 00:11:04.090\nSepia, sepia.\n\n204\n00:11:05.350 --> 00:11:06.180\n&gt;&gt; Tomato, tomato.\n\n205\n00:11:06.180 --> 00:11:09.010\n&gt;&gt; We've had extensive arguments\nabout how to pronounce that.\n\n206\n00:11:09.010 --> 00:11:13.020\nBut I think it very much a tomato,\ntomato, potato, potato.\n\n207\n00:11:13.020 --> 00:11:15.780\nBut I'm not sure anybody says potato.\n\n208\n00:11:15.780 --> 00:11:16.870\nAnyway so\n\n209\n00:11:16.870 --> 00:11:21.770\nsepia gets printed it out if I grab\nbrighten, then brighten gets printed out.\n\n210\n00:11:21.770 --> 00:11:23.210\nNotice this are lower case and\n\n211\n00:11:23.210 --> 00:11:28.620\nthis is important because during the set\nup of this I intentionally set values,\n\n212\n00:11:28.620 --> 00:11:31.930\nthese option values to none,\nto grayscale, to sepia, to brighten.\n\n213\n00:11:32.990 --> 00:11:36.570\nI need to know those because those\nare gonna be my decision makers.\n\n214\n00:11:36.570 --> 00:11:38.690\nSo that's what I want\nmy decision based on.\n\n215\n00:11:41.120 --> 00:11:45.900\nSo if I come over here, and\nI look just to make sure.\n\n216\n00:11:45.900 --> 00:11:47.310\nGrant, we've tried all the other ones.\n\n217\n00:11:47.310 --> 00:11:48.480\nWe should probably try this one.\n\n218\n00:11:48.480 --> 00:11:49.740\nGreyscale works.\n\n219\n00:11:49.740 --> 00:11:52.330\nNow we have access to that string.\n\n220\n00:11:53.330 --> 00:11:59.310\nAnd we could do something like this.\n\n221\n00:11:59.310 --> 00:12:00.302\nWe can say if.\n\n222\n00:12:00.302 --> 00:12:07.770\nFilter to apply === to\napply === great scale.\n\n223\n00:12:07.770 --> 00:12:11.640\nIn this case, when I have these\nmultiple kind of decisions to make.\n\n224\n00:12:11.640 --> 00:12:14.658\nI tend to a switch now some\npeople don't like switches.\n\n225\n00:12:14.658 --> 00:12:18.264\nI've read some some things,\nwell that actually a code smell.\n\n226\n00:12:18.264 --> 00:12:21.000\nYou have too many things\ngoing on in this function.\n\n227\n00:12:21.000 --> 00:12:25.230\nBut I need this click\nhandler to do all this logic.\n\n228\n00:12:25.230 --> 00:12:27.350\nSo, I use switches on this case.\n\n229\n00:12:27.350 --> 00:12:28.205\nWhat do I wanna switch on?\n\n230\n00:12:28.205 --> 00:12:31.060\nWell, for\nnone I will do a particular thing.\n\n231\n00:12:31.060 --> 00:12:35.820\nAnd what I do is I had to set all\nof these up to make sure they work.\n\n232\n00:12:37.310 --> 00:12:38.545\nNot a semicolon there.\n\n233\n00:12:38.545 --> 00:12:42.540\nbreak; case and\n\n234\n00:12:42.540 --> 00:12:46.980\nhere that is 'sepia' or 'sepia'.\n\n235\n00:12:46.980 --> 00:12:49.090\nAnd then case.\n\n236\n00:12:50.600 --> 00:12:51.390\nLet's see here.\n\n237\n00:12:51.390 --> 00:12:57.090\nWhat do I want what was that,\nbrighten, forgot my last option there.\n\n238\n00:12:58.160 --> 00:13:04.170\nAnd then break and then you should\nalways plan on having a default,\n\n239\n00:13:04.170 --> 00:13:05.840\nbut there's kind of our set up.\n\n240\n00:13:05.840 --> 00:13:08.780\nI'm gonna switch on this filter to apply,\nright?\n\n241\n00:13:08.780 --> 00:13:13.700\nAnd then do something If it's none,\ndo something, if it's case,\n\n242\n00:13:13.700 --> 00:13:17.852\ndo something, if it's sepia,\ndo something, if it's do something.\n\n243\n00:13:17.852 --> 00:13:21.600\nif it's none of those,\ndo something else, right?\n\n244\n00:13:21.600 --> 00:13:26.510\nNow, what I'm thinking is,\nis this none and this default might end up\n\n245\n00:13:26.510 --> 00:13:30.140\nbeing the same thing, but we're gonna\nwait and see if that's the case.\n\n246\n00:13:30.140 --> 00:13:31.320\n&gt;&gt; Mm hm.\n\n247\n00:13:31.320 --> 00:13:35.740\nMy next order of action is\nto say no filter applied.\n\n248\n00:13:36.840 --> 00:13:40.830\nTo make sure this set up is correct.\n\n249\n00:13:40.830 --> 00:13:47.848\nSo console.log('grayscale!!').\n\n250\n00:13:50.471 --> 00:13:55.672\nAnd come over here, log Sepia.\n\n251\n00:14:00.002 --> 00:14:01.480\nAnd then brighten.\n\n252\n00:14:03.550 --> 00:14:04.500\nThere we go.\n\n253\n00:14:04.500 --> 00:14:06.260\nSo now when I click this,\n\n254\n00:14:06.260 --> 00:14:09.550\nbased on that selection I should\nget kind of different things.\n\n255\n00:14:09.550 --> 00:14:12.240\nAnd just to make sure\nit's not printing out.\n\n256\n00:14:12.240 --> 00:14:13.180\nTo the rescue.\n\n257\n00:14:13.180 --> 00:14:15.430\nI always like to add a little flair so\n\n258\n00:14:15.430 --> 00:14:18.530\nI know it's printing out\nwhat I expect it to.\n\n259\n00:14:18.530 --> 00:14:22.190\nBrighten the image, so there we go, So\n\n260\n00:14:22.190 --> 00:14:25.300\nif we refresh and\nI click apply, no filter apply.\n\n261\n00:14:25.300 --> 00:14:26.870\nOkay, grayscale.\n\n262\n00:14:26.870 --> 00:14:31.400\nGrayscale with exclamation points and\nthen sepia.\n\n263\n00:14:31.400 --> 00:14:32.897\nSepia to the rescue.\n\n264\n00:14:32.897 --> 00:14:35.750\nAnd then brighten Is brighten the image.\n\n265\n00:14:35.750 --> 00:14:36.556\nAll right.\n\n266\n00:14:36.556 --> 00:14:37.091\n&gt;&gt; Nice.\n\n267\n00:14:37.091 --> 00:14:42.423\n&gt;&gt; So our swish statement is set up,\nwe have our user interactions ready.\n\n268\n00:14:42.423 --> 00:14:47.353\nAnd well now what.\n\n269\n00:14:47.353 --> 00:14:51.485\nNow we don't actually have\nthe ability to do anything, right.\n\n270\n00:14:51.485 --> 00:14:52.770\n&gt;&gt; [LAUGH]\n&gt;&gt; Nothing.\n\n271\n00:14:53.770 --> 00:14:55.430\nUser and actions are there, Zach.\n\n272\n00:14:55.430 --> 00:14:57.010\n&gt;&gt; You're setting up for something.\n\n273\n00:14:57.010 --> 00:14:59.690\nWhatdo we need to do next/\n&gt;&gt; Are we ready to build\n\n274\n00:14:59.690 --> 00:15:01.390\nthe functions now or we're not?\n\n275\n00:15:01.390 --> 00:15:03.380\n&gt;&gt; So\nI think we can start out the functions.\n\n276\n00:15:03.380 --> 00:15:06.530\nI'm not sure that it's\nbest to go deep down\n\n277\n00:15:06.530 --> 00:15:10.010\ncuz we've actually covered a fair\namount cleanup of things here.\n\n278\n00:15:10.010 --> 00:15:13.130\nLet's just get them studded out set\nup how we're are gonna look at them.\n\n279\n00:15:13.130 --> 00:15:15.640\nAnd then maybe we'll comeback and\nlook at the implementation details.\n\n280\n00:15:15.640 --> 00:15:19.340\nCuz I wanna talk a little bit\nthe color channels a little more.\n\n281\n00:15:19.340 --> 00:15:22.710\nSo So I actually start\nbuilding the function module.\n\n282\n00:15:22.710 --> 00:15:24.620\n&gt;&gt; Okay.\n&gt;&gt; That is going to help us, right?\n\n283\n00:15:26.120 --> 00:15:27.490\nSo if we come here,\n\n284\n00:15:27.490 --> 00:15:31.650\nI'm just gonna start building this end\nfile then we'll pull that out later.\n\n285\n00:15:31.650 --> 00:15:33.980\n&gt;&gt; Okay.\n&gt;&gt; So I'm gonna call this Filters.\n\n286\n00:15:35.810 --> 00:15:40.470\nJust like so, it is as an object literal,\nit's gonna have some methods on it.\n\n287\n00:15:40.470 --> 00:15:42.010\nNow, what methods do I want?\n\n288\n00:15:42.010 --> 00:15:45.332\nI want a grayscale method,\n\n289\n00:15:45.332 --> 00:15:51.692\nI want a brighten method,\nand I want a sepia method.\n\n290\n00:15:54.077 --> 00:16:00.854\nOkay, now what I'm thinking is,\nsince we have this image buffer in memory,\n\n291\n00:16:00.854 --> 00:16:07.777\nWe're probably going to pass that\nimage buffer in, To get a result.\n\n292\n00:16:07.777 --> 00:16:10.741\nSo all of these are going to take buffers,\nright?\n\n293\n00:16:12.366 --> 00:16:16.671\nNot the original image that we read in,\nbut\n\n294\n00:16:16.671 --> 00:16:20.388\nthe canvas created from that image.\n\n295\n00:16:20.388 --> 00:16:22.324\nSo here's our buffers.\n\n296\n00:16:22.324 --> 00:16:27.428\nAnd for now,\nlet's just return that buffer,\n\n297\n00:16:28.625 --> 00:16:33.273\nReturn that buffer and\n\n298\n00:16:33.273 --> 00:16:38.910\nreturn the buffer like so.\n\n299\n00:16:38.910 --> 00:16:43.095\nOkay, so what that means is I'm\ngonna have something like this.\n\n300\n00:16:43.095 --> 00:16:50.155\nFor a let, NewImage.\n\n301\n00:16:50.155 --> 00:16:52.056\nIt's nothing, okay?\n\n302\n00:16:54.467 --> 00:16:59.590\nWell, here,\nnewImage is gonna be equal to Filters.\n\n303\n00:17:00.830 --> 00:17:03.030\nWell, actually that's not what we want.\n\n304\n00:17:03.030 --> 00:17:04.660\nThat one's not gonna be anything.\n\n305\n00:17:04.660 --> 00:17:11.003\nThe new image is just going\nto be the imageBuffer, right?\n\n306\n00:17:11.003 --> 00:17:19.213\nAnd then here, the newImage is going\nto be Filters.grayscale of the buffer.\n\n307\n00:17:21.294 --> 00:17:26.252\nAnd here we're gonna have newImage\n\n308\n00:17:26.252 --> 00:17:31.049\n= filters.sepia of the buffer.\n\n309\n00:17:31.049 --> 00:17:33.514\nSo it's an input output operation.\n\n310\n00:17:35.035 --> 00:17:37.395\nAnd then a newImage = filters.\n\n311\n00:17:39.650 --> 00:17:42.811\nBright of the buffer.\n\n312\n00:17:43.964 --> 00:17:45.510\nOkay.\n\n313\n00:17:45.510 --> 00:17:50.040\nSo, since this kinda flows through\nright down at the bottom, right?\n\n314\n00:17:50.040 --> 00:17:51.700\nEvery time we have a new image,\n\n315\n00:17:51.700 --> 00:17:54.920\nwe're guaranteed to have\nsomething unless it's default.\n\n316\n00:17:54.920 --> 00:17:56.200\nAnd now that I look at it,\n\n317\n00:17:57.380 --> 00:18:01.770\nwe should probably just not apply\nanything if the selection is not valid.\n\n318\n00:18:01.770 --> 00:18:05.190\nSo instead of having a case for\nnone, right?\n\n319\n00:18:05.190 --> 00:18:09.560\nI think this should just be the default,\nand we can just remove none.\n\n320\n00:18:09.560 --> 00:18:13.321\nSo that's a little bit of cleanup,\na little bit of niceness there, and\n\n321\n00:18:13.321 --> 00:18:14.022\nthere we go.\n\n322\n00:18:14.022 --> 00:18:22.797\nAnd then, finally, we can just say\ncontext.drawImage of the newImage at 0, 0.\n\n323\n00:18:22.797 --> 00:18:25.815\nJust like that, okay?\n\n324\n00:18:25.815 --> 00:18:33.259\nSo if we refresh, and, failed to executive\ndrawImage because there's nothing there.\n\n325\n00:18:34.420 --> 00:18:35.520\nWell, we'll have to fix that.\n\n326\n00:18:35.520 --> 00:18:38.540\nWell, we'll do some of these\nedge cases here later.\n\n327\n00:18:38.540 --> 00:18:41.960\nBut, let's just make sure\nwe have an image there.\n\n328\n00:18:41.960 --> 00:18:44.328\nAnd I was about to hit back.\n\n329\n00:18:44.328 --> 00:18:46.220\nIf we apply, nothing happens.\n\n330\n00:18:46.220 --> 00:18:47.275\nWell, that's what we expect.\n\n331\n00:18:47.275 --> 00:18:52.817\nGrayscale, buffer is not defined.\n\n332\n00:18:52.817 --> 00:18:55.553\nSo what is the buffer?\n\n333\n00:18:57.058 --> 00:19:04.412\nThe buffer in this case is the image\nbuffer that we read in from the file.\n\n334\n00:19:06.491 --> 00:19:09.640\nOkay, so I'm going to pass in that\nimage buffer, get a new one back.\n\n335\n00:19:11.360 --> 00:19:17.485\nSo refresh, choose the file,\nboom, open, apply, that's fine.\n\n336\n00:19:17.485 --> 00:19:18.790\nGrayscale.\n\n337\n00:19:18.790 --> 00:19:19.540\nThat's fine.\n\n338\n00:19:19.540 --> 00:19:21.275\nAnd all it's doing is\nimmediately returning it, so\n\n339\n00:19:21.275 --> 00:19:22.830\nyou're not gonna see any difference.\n\n340\n00:19:22.830 --> 00:19:28.058\nBut we just wanna make sure that\nthese functions are set up.\n\n341\n00:19:28.058 --> 00:19:30.110\nAnd, well, Zach,\nif we really, really, really,\n\n342\n00:19:30.110 --> 00:19:33.600\nreally went crazy,\nwe might be able to finish.\n\n343\n00:19:33.600 --> 00:19:36.400\nBut I'm pretty sure we're not\ngonna be able to actually get\n\n344\n00:19:36.400 --> 00:19:41.240\nthe implementation details worked out for\nthese respective image transformations.\n\n345\n00:19:41.240 --> 00:19:42.641\nSo maybe we'll come back in a part two,\n\n346\n00:19:42.641 --> 00:19:44.598\nmake sure they have their\nappropriate amount of time.\n\n347\n00:19:44.598 --> 00:19:48.649\nAnd that way,\nwe can look at the differences and\n\n348\n00:19:48.649 --> 00:19:53.727\nsimilarities between Brighten,\nSepia, and Grayscale.\n\n349\n00:19:53.727 --> 00:19:58.247\nAnd then there might be some other things\nthat we need to do like edge case handling\n\n350\n00:19:58.247 --> 00:19:58.860\nand so on.\n\n351\n00:19:58.860 --> 00:20:02.480\n&gt;&gt; Building image manipulation\nfunctions part one.\n\n352\n00:20:02.480 --> 00:20:04.650\nThere will be a part two,\nand before we move on,\n\n353\n00:20:04.650 --> 00:20:06.380\nI know you have some final thoughts.\n\n354\n00:20:06.380 --> 00:20:10.850\n&gt;&gt; Well, we're really close to\ngetting like that last little right?\n\n355\n00:20:10.850 --> 00:20:12.360\nAnd once we get this part done,\n\n356\n00:20:12.360 --> 00:20:16.220\nit's just being able to save the image and\nwe are finished.\n\n357\n00:20:16.220 --> 00:20:19.350\nAgain, just to reiterate,\nthis is one of those learning experiences.\n\n358\n00:20:19.350 --> 00:20:24.010\nIt's not necessarily this is the absolute\nbest approach if you're going\n\n359\n00:20:24.010 --> 00:20:26.690\nhighly scalable production deployment.\n\n360\n00:20:26.690 --> 00:20:29.760\nBut this is a good way to start think,\nlet me build something,\n\n361\n00:20:29.760 --> 00:20:33.460\nlet me see how it works,\nlet me try to figure some things out.\n\n362\n00:20:33.460 --> 00:20:34.400\nAnd that way,\n\n363\n00:20:34.400 --> 00:20:38.700\nyou have skills that kind of play into\nwhatever you need to do in the future.\n\n364\n00:20:38.700 --> 00:20:42.480\n&gt;&gt; So, building image manipulation\nfunctions part two coming your way.\n\n365\n00:20:42.480 --> 00:20:46.560\nAnd make sure you see all of\nHTML5 canvas projects episodes.\n\n366\n00:20:46.560 --> 00:20:47.900\nCheck out the course library,\n\n367\n00:20:47.900 --> 00:20:51.570\nthere's hundreds of videos there,\nall designed to help you go further.\n\n368\n00:20:51.570 --> 00:20:54.990\nAnd tell everybody you know about\nDevProTV, they will be so glad you did.\n\n369\n00:20:54.990 --> 00:20:55.660\nThanks for watching.\n\n370\n00:20:55.660 --> 00:20:56.550\nI'm Zach Memos.\n\n371\n00:20:56.550 --> 00:20:57.330\n&gt;&gt; And I'm Justin Dennison.\n\n372\n00:20:57.330 --> 00:20:59.016\n&gt;&gt; And we'll see you soon.\n\n373\n00:20:59.016 --> 00:21:05.139\n[MUSIC]\n\n",
          "vimeoId": "235783541"
        },
        {
          "description": "In this episode, Justin and Zach demonstrate different image manipulation filters that are going to be available in the application such as greyscale-sepia-blurring, and we begin this episode by covering why we need to make copies.",
          "length": "1699",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-2-4-2-building_image_manipulation_functions_pt2-092717-PGM.00_30_09_05.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-2-4-2-building_image_manipulation_functions_pt2-092717-PGM.00_30_09_05.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-2-4-2-building_image_manipulation_functions_pt2-092717-PGM.00_30_09_05.Still001-sm.jpg",
          "title": "Building Image Manipulation Functions Part 2",
          "transcript": "",
          "vimeoId": "235785587"
        },
        {
          "description": "In this episode, Justin demonstrates how to take the one can use the browser functionality to create a downloaded file that is a copy of the transformed image.",
          "length": "1430",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-2-5-1-saving_the_image-092817-PGM.00_24_14_03.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-2-5-1-saving_the_image-092817-PGM.00_24_14_03.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-2-5-1-saving_the_image-092817-PGM.00_24_14_03.Still001-sm.jpg",
          "title": "Saving the Image",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.891 --> 00:00:15.002\nHello to all viewers out there in TV land,\n\n3\n00:00:15.002 --> 00:00:19.361\nwelcome back to another great episode here\nat DevProTV, I'm your host, Wes Bryan.\n\n4\n00:00:19.361 --> 00:00:20.371\nAnd in today's episode,\n\n5\n00:00:20.371 --> 00:00:23.290\nwe'll be looking at Saving the Image\nhere with Justin Dennison.\n\n6\n00:00:23.290 --> 00:00:24.720\nJustin, how you doing today, sir?\n\n7\n00:00:24.720 --> 00:00:28.890\n&gt;&gt; I am doing fantastic, sir,\nand well, how are you today?\n\n8\n00:00:28.890 --> 00:00:29.740\n&gt;&gt; I'm doing great.\n\n9\n00:00:29.740 --> 00:00:33.890\nIn our past episode, you were telling us a\nlittle bit about building the image and so\n\n10\n00:00:33.890 --> 00:00:35.510\nfar, that's where we're at, right?\n\n11\n00:00:35.510 --> 00:00:39.460\nWe were talking about this just\nbefore we even started the episode.\n\n12\n00:00:39.460 --> 00:00:41.550\nYou said that we needed to do\na little bit of cleanup and\n\n13\n00:00:41.550 --> 00:00:42.700\na little bit of organization.\n\n14\n00:00:42.700 --> 00:00:44.820\nJustin, tell us how we're\ngonna go about handling that.\n\n15\n00:00:44.820 --> 00:00:47.810\n&gt;&gt; Yeah, the clean up and\norganization is definitely something that\n\n16\n00:00:47.810 --> 00:00:50.720\nas I build up a project I'm like\nlet me just get it working.\n\n17\n00:00:50.720 --> 00:00:54.138\nLet me get back and clean it up so\nI can remove the noise, Right?\n\n18\n00:00:54.138 --> 00:00:58.683\nIn a previous episode we built the\nfilters, and we have those on module and\n\n19\n00:00:58.683 --> 00:01:03.376\nwell an object literal effectively we\nreally wanna pull those out of the main\n\n20\n00:01:03.376 --> 00:01:04.380\nout file.\n\n21\n00:01:04.380 --> 00:01:06.520\nThat way, maybe they're more reusable but\n\n22\n00:01:06.520 --> 00:01:10.780\nalso, it's just a lot going\non in that main file, right?\n\n23\n00:01:10.780 --> 00:01:12.845\nSo we need to shrink that down,\npull it out.\n\n24\n00:01:12.845 --> 00:01:18.340\nDo some organization as well as there is a\nmethod on the filters object that I really\n\n25\n00:01:18.340 --> 00:01:21.790\nthink should be in the utils object, or\nwe need to make sure all of that works.\n\n26\n00:01:21.790 --> 00:01:24.000\nSo actually, let's go ahead and\ntake a look at my screen here.\n\n27\n00:01:24.000 --> 00:01:28.500\nAnd just as a brief reminder,\neverything works real nice, right?\n\n28\n00:01:28.500 --> 00:01:31.820\nYou can apply different filters like so,\n\n29\n00:01:31.820 --> 00:01:36.110\nand save doesn't work,\nbut we'll get to that.\n\n30\n00:01:37.110 --> 00:01:40.160\nHowever, if we come over and we look.\n\n31\n00:01:40.160 --> 00:01:42.920\nHere's this filters kind of object, right?\n\n32\n00:01:44.010 --> 00:01:48.170\nWhat I'm gonna do is I'm gonna\nhold this out just like so.\n\n33\n00:01:48.170 --> 00:01:50.510\nAnd these are kind of incremental changes\n\n34\n00:01:51.590 --> 00:01:55.500\nthat I wanna make sure they still\nwork when I pull things out of there.\n\n35\n00:01:55.500 --> 00:01:57.130\nSo I'm gonna bring it over here.\n\n36\n00:01:57.130 --> 00:02:03.330\nAnd inside of my JS folder I'm gonna\ncreate a new file called Filters.js and\n\n37\n00:02:03.330 --> 00:02:09.870\nI'm just gonna paste that in, you gotta\nput JS in there cuz that stuff going to JD\n\n38\n00:02:09.870 --> 00:02:15.090\nand syntax style will not work if you have\nthe wrong file extension, there we go!\n\n39\n00:02:15.090 --> 00:02:16.190\nSo there's then.\n\n40\n00:02:16.190 --> 00:02:20.190\nI wanna make sure that still works now\nbefore we forget we need to come over here\n\n41\n00:02:20.190 --> 00:02:25.300\nand put this into our\nrespective HTML file.\n\n42\n00:02:25.300 --> 00:02:29.410\nSo let's duplicate and filters, like so.\n\n43\n00:02:29.410 --> 00:02:31.950\nSo there's filters, okay.\n\n44\n00:02:31.950 --> 00:02:36.880\nNow my duplication was just Cmd+Shift+D,\nCtrl+Shift+D for Windows and Linux users.\n\n45\n00:02:38.040 --> 00:02:39.440\nI think everything should still work.\n\n46\n00:02:39.440 --> 00:02:40.650\nBut we should probably go check it out.\n\n47\n00:02:40.650 --> 00:02:44.880\nLet's refresh All right give no\nconsole warning let's choose the file.\n\n48\n00:02:44.880 --> 00:02:47.430\nAnd let's grab our logo here.\n\n49\n00:02:47.430 --> 00:02:51.730\nThere it is let's make sure the gray\nscale still works and it does.\n\n50\n00:02:51.730 --> 00:02:55.590\nLet's make sure the app store\nstill works and it does.\n\n51\n00:02:55.590 --> 00:02:59.360\nThey're very similar but except there's\na little more of a reddish hue and\n\n52\n00:02:59.360 --> 00:03:05.640\nthen if we go to brighten there we go,\nwe have some brightness added to it.\n\n53\n00:03:05.640 --> 00:03:08.030\nBut our saves do not work.\n\n54\n00:03:08.030 --> 00:03:09.200\nI guess, we'll get to that.\n\n55\n00:03:09.200 --> 00:03:11.730\nNow, we got our initial kind of clean up.\n\n56\n00:03:11.730 --> 00:03:16.000\nBut like I said, right,\nour app.js is a little cleaner.\n\n57\n00:03:16.000 --> 00:03:17.810\nIt's more focused so to speak.\n\n58\n00:03:17.810 --> 00:03:23.065\nIt's just even listeners that help us\ncreating interactions based on this DOMs.\n\n59\n00:03:23.065 --> 00:03:26.926\nNow these DOM elements.\n\n60\n00:03:26.926 --> 00:03:30.017\nNow there's this image buffer\nthat we're wanna use as a global\n\n61\n00:03:30.017 --> 00:03:33.370\nvariable we could always\npull that into a module.\n\n62\n00:03:33.370 --> 00:03:38.230\nHowever, in this filters\nfile there's this copy.\n\n63\n00:03:38.230 --> 00:03:42.280\nAnd I really think that this is\nbetter named called copy buffer.\n\n64\n00:03:42.280 --> 00:03:44.790\nAnd it's more of a utilitarian function,\nright?\n\n65\n00:03:44.790 --> 00:03:47.040\nIt might not be that we\nonly use it in filters.\n\n66\n00:03:47.040 --> 00:03:50.010\nWe may use it in order to copy buffers,\n\n67\n00:03:50.010 --> 00:03:52.640\nand then do something else\nwith multiple buffers.\n\n68\n00:03:53.970 --> 00:03:58.778\nSo I'm gonna pull this out,\nI'm gonna grab this just like so,\n\n69\n00:03:58.778 --> 00:04:03.406\npull this out, and\ncome into the utils aand this loadImage,\n\n70\n00:04:03.406 --> 00:04:08.160\nI'm just gonna hide that away cuz\nthat was a lot of code there.\n\n71\n00:04:08.160 --> 00:04:13.450\nAnd I think that should be fine, but\nI'm gonna rename it to copyBuffer.\n\n72\n00:04:13.450 --> 00:04:15.360\nNow, just by doing this reorganization,\n\n73\n00:04:16.610 --> 00:04:21.360\nif I hit a key that refreshes,\nwe're gonna see something interesting.\n\n74\n00:04:22.520 --> 00:04:26.012\nOpen, and\nthen let's try to apply the filter and\n\n75\n00:04:26.012 --> 00:04:30.250\nuh-oh, this._copy is not a function.\n\n76\n00:04:30.250 --> 00:04:34.800\nWell, it's not a function because I\nremoved it from the filters object.\n\n77\n00:04:34.800 --> 00:04:40.940\nWhat I really need is to use\nutils.copyBuffer inside of filters, okay?\n\n78\n00:04:40.940 --> 00:04:44.361\nSo this.copy I just gonna\nselect all of those and\n\n79\n00:04:44.361 --> 00:04:47.699\nI did that by highlighting and\nhitting Cmd+D,\n\n80\n00:04:47.699 --> 00:04:52.304\nI will select the next instance and\nI did that 3 time to get all 3.\n\n81\n00:04:52.304 --> 00:04:55.860\nIt Ctrl+D if I'm not mistaken\nin windows and Linux.\n\n82\n00:04:56.990 --> 00:05:00.119\nWhat I'm gonna do is now\nhave multiple cursors and\n\n83\n00:05:00.119 --> 00:05:02.877\nI'm gonna just type utils.copyBuffer and\n\n84\n00:05:02.877 --> 00:05:07.450\nwas remove those extra parentheses and\nthere we go utils.copyBuffer.\n\n85\n00:05:07.450 --> 00:05:09.080\nThat should work.\n\n86\n00:05:09.080 --> 00:05:13.410\nOne final thing before we get test it,\nI always like to make sure this,\n\n87\n00:05:13.410 --> 00:05:16.700\nsince we're using these\nkinda global things.\n\n88\n00:05:16.700 --> 00:05:20.680\nThis has a dependency on utils now, right?\n\n89\n00:05:20.680 --> 00:05:22.400\nFilters uses something in utils.\n\n90\n00:05:22.400 --> 00:05:26.910\nIf you're using these globals\nif this was to run immediately,\n\n91\n00:05:26.910 --> 00:05:31.150\nit would error out,\nif these were not in correct order.\n\n92\n00:05:31.150 --> 00:05:36.060\nSo if I move these, well,\nwait for it, wait for\n\n93\n00:05:36.060 --> 00:05:41.490\nit, what I mean is, if I come over\nhere and I were to move these,\n\n94\n00:05:41.490 --> 00:05:46.670\nand if the gray scale filter work to run\non page load for any reason, then I would\n\n95\n00:05:46.670 --> 00:05:51.470\nget an error message because utils would\nnot be defined until after filter is ran.\n\n96\n00:05:51.470 --> 00:05:55.760\nBut since these are functions that\nare gonna be used in the context of event\n\n97\n00:05:55.760 --> 00:06:00.450\nhandlers and things that will always kind\nof run afterwards, we should be fine.\n\n98\n00:06:00.450 --> 00:06:03.637\nBut I always like to make\nsure those work well.\n\n99\n00:06:03.637 --> 00:06:06.652\nThat is solved with using\nlike ES6 modules and\n\n100\n00:06:06.652 --> 00:06:11.292\nso like modules bundling system where\nyou make sure you have a layerable\n\n101\n00:06:11.292 --> 00:06:14.483\nin scope of what you are building to you,\nright?\n\n102\n00:06:14.483 --> 00:06:16.350\nSo but we don't have that here.\n\n103\n00:06:16.350 --> 00:06:20.790\nBut if you do have the excitement\nto try this with other kind of\n\n104\n00:06:20.790 --> 00:06:24.403\nwork flow set ups you may not encounter\nthat problem but something to remember.\n\n105\n00:06:24.403 --> 00:06:29.040\nSo if we refresh, hopefully you will not\nget that horrible error message anymore.\n\n106\n00:06:29.040 --> 00:06:31.280\nAnd here is our Open,\n\n107\n00:06:31.280 --> 00:06:36.150\nlet's make sure all of our filters\nstill work and it looks like they do.\n\n108\n00:06:37.410 --> 00:06:41.730\nAnd we should brighten and\nwell, save still isn't working.\n\n109\n00:06:41.730 --> 00:06:45.620\nHowever, we have completed our,\nkind of reorganization and clean up.\n\n110\n00:06:45.620 --> 00:06:49.350\nBut I'm pretty happy of\nwhere this is right now.\n\n111\n00:06:49.350 --> 00:06:50.890\n&gt;&gt; Justin,\nI've noticed you've done your clean up,\n\n112\n00:06:50.890 --> 00:06:53.380\nyou've done your spring cleaning and\nwe're ready to save the image.\n\n113\n00:06:53.380 --> 00:06:56.880\nHowever, also notice that bug that\nyou have there is kind of broken.\n\n114\n00:06:56.880 --> 00:06:58.650\nNow what do we need to do to fix that?\n\n115\n00:06:58.650 --> 00:06:59.480\n&gt;&gt; Yeah, yeah.\n\n116\n00:07:01.360 --> 00:07:04.530\nI was just hoping it would magically\nwork on one of those page refreshes.\n\n117\n00:07:04.530 --> 00:07:08.160\nBut unfortunately that's not\nhow application development,\n\n118\n00:07:08.160 --> 00:07:11.770\nyou just cross your fingers and you go\nI hope that it works this time around.\n\n119\n00:07:11.770 --> 00:07:14.610\nI don't know, sometimes I do that,\nplease work, please work.\n\n120\n00:07:14.610 --> 00:07:18.550\nBut now that button, first off we need\nsomeway to allow the user to interact it,\n\n121\n00:07:18.550 --> 00:07:19.950\nto click it, right?\n\n122\n00:07:19.950 --> 00:07:22.150\nSo we should do that setup first.\n\n123\n00:07:22.150 --> 00:07:25.550\nThen, that save actually needs\nthe ability to save the image.\n\n124\n00:07:25.550 --> 00:07:28.670\nNow the image that I'm talking\nabout is the entire canvas.\n\n125\n00:07:28.670 --> 00:07:31.150\nOkay, that is a decision that I have made.\n\n126\n00:07:31.150 --> 00:07:33.600\nWe can always make another decision,\nbut maybe then,\n\n127\n00:07:33.600 --> 00:07:36.810\nit will be an interesting\nextension project, right?\n\n128\n00:07:36.810 --> 00:07:40.550\nIt's like if I put you in\na state of discomfort,\n\n129\n00:07:40.550 --> 00:07:43.600\nyou may push forward and\ntry to fix it yourself.\n\n130\n00:07:43.600 --> 00:07:45.391\nAnd so\nyou'll see what I mean in just a moment.\n\n131\n00:07:45.391 --> 00:07:49.779\nSo let's go ahead and get that Save button\nactually just clicking first before we\n\n132\n00:07:49.779 --> 00:07:51.340\nworry about anything else.\n\n133\n00:07:51.340 --> 00:07:55.385\nI can close out these other\nones because This is for\n\n134\n00:07:55.385 --> 00:08:00.620\nthe most part going to be inside\nof this application, app.js.\n\n135\n00:08:00.620 --> 00:08:05.460\nSo we have our apply, we have our open and\nnow we want to work on our save.\n\n136\n00:08:05.460 --> 00:08:11.593\nSo we're gonna add an EventListener and\non click, I need a comma there.\n\n137\n00:08:11.593 --> 00:08:15.880\nWe need hour of event, right?\n\n138\n00:08:15.880 --> 00:08:17.310\nSo let's see.\n\n139\n00:08:17.310 --> 00:08:19.460\nWe wanna make sure\nthe click event is firing.\n\n140\n00:08:19.460 --> 00:08:23.400\nSo I'm just gonna console.log the\n[INAUDIBLE] I don't technically need that.\n\n141\n00:08:24.570 --> 00:08:25.900\nBut that's completely okay.\n\n142\n00:08:25.900 --> 00:08:27.720\nSo save, save, save, save.\n\n143\n00:08:27.720 --> 00:08:29.270\nAll right.\n\n144\n00:08:29.270 --> 00:08:30.970\nSo the click works.\n\n145\n00:08:30.970 --> 00:08:32.573\nGood deal.\n\n146\n00:08:32.573 --> 00:08:34.360\nI'm gonna stub out what I'm thinking.\n\n147\n00:08:35.410 --> 00:08:39.530\nI need some way to download\nthe [INAUDIBLE] so that says logo.png.\n\n148\n00:08:39.530 --> 00:08:45.419\nThat's perfectly fine, but then it will be\nbad to save it as logo.png again I think.\n\n149\n00:08:45.419 --> 00:08:48.520\nSo let's just do a random file name.\n\n150\n00:08:48.520 --> 00:08:53.771\nSo let's say filename equals,\n\n151\n00:08:53.771 --> 00:08:58.048\nand let's put new tills,\n\n152\n00:08:58.048 --> 00:09:03.500\nrandom filename and wait for it.\n\n153\n00:09:03.500 --> 00:09:07.070\nImage filenames are probably\ndependent on extension.\n\n154\n00:09:07.070 --> 00:09:11.050\nAnd I should, if it's random, I probably\nwant some way to tweak the length, right?\n\n155\n00:09:11.050 --> 00:09:14.600\nI can get 30 characters or\nmaybe I just want 3 characters.\n\n156\n00:09:14.600 --> 00:09:18.690\nI'm gonna hard code this for now, but this\nis something that we could tweak around.\n\n157\n00:09:18.690 --> 00:09:20.880\nSo here's our random filename.\n\n158\n00:09:20.880 --> 00:09:24.140\nNow, this doesn't exist yet but we'll\ntry to use this as potentially break.\n\n159\n00:09:24.140 --> 00:09:27.340\n&gt;&gt; Now Justin,\ndo we have to use a random file name or\n\n160\n00:09:27.340 --> 00:09:29.310\nis this something that we can\nbe a little bit more specific?\n\n161\n00:09:29.310 --> 00:09:30.510\nDo we have to use the random file?\n\n162\n00:09:30.510 --> 00:09:35.290\n&gt;&gt; So I think what we could do is we\ncould either reuse the name that it was,\n\n163\n00:09:35.290 --> 00:09:37.300\nwe could make up a name.\n\n164\n00:09:37.300 --> 00:09:42.610\nSo if you were building this application\nto leave a mean existence, right?\n\n165\n00:09:42.610 --> 00:09:46.420\nAlways want people to come back\nto those meme generator sites.\n\n166\n00:09:46.420 --> 00:09:51.830\nYou may wanna put the domain name and\nthen maybe some little one, or\n\n167\n00:09:51.830 --> 00:09:56.810\ntwo, or three, or maybe domain name and\na topic, or something like that.\n\n168\n00:09:56.810 --> 00:09:58.370\nYou could do something where it's set.\n\n169\n00:09:58.370 --> 00:10:02.930\nI'm just gonna use a random filename,\nso we do have different filenames.\n\n170\n00:10:02.930 --> 00:10:06.440\nAnd so we don't kinda have\nthis overwrite behavior or\n\n171\n00:10:06.440 --> 00:10:12.137\nif you ever had where you download, you\nget the filename, filename1, filename 2.\n\n172\n00:10:12.137 --> 00:10:14.546\nSo I'm just doing to avoid that and\n\n173\n00:10:14.546 --> 00:10:19.900\nalso not to accidentally get it mixed\nup with, but these are all logo.png.\n\n174\n00:10:19.900 --> 00:10:23.760\nI don't know which one's what?\n\n175\n00:10:23.760 --> 00:10:25.360\nSo we don't have to.\n\n176\n00:10:26.390 --> 00:10:28.120\nI just think it would be a fun exercise,\nright?\n\n177\n00:10:28.120 --> 00:10:31.470\nI like programming, and\nit actually plays well here.\n\n178\n00:10:31.470 --> 00:10:33.910\nNow I don't think the file name\nshould be three characters.\n\n179\n00:10:35.150 --> 00:10:40.650\nI'm thinking probably about 12 characters,\n12 random, just a, b, c, d blah blah blah.\n\n180\n00:10:40.650 --> 00:10:42.707\nThis doesn't exist here so\nthis would break.\n\n181\n00:10:42.707 --> 00:10:46.391\nBut after I get that random\nfilename what I'm thinking is,\n\n182\n00:10:46.391 --> 00:10:48.683\nI can say something like save image.\n\n183\n00:10:48.683 --> 00:10:53.799\nNow I'm relying on kind\nof this global state,\n\n184\n00:10:53.799 --> 00:10:56.954\nto actually save the image.\n\n185\n00:10:56.954 --> 00:11:02.920\nSo we may treat that at some point but\nfor now this is all I wanna do.\n\n186\n00:11:02.920 --> 00:11:06.030\nWhen I click that save, boom,\nI wanna save the image.\n\n187\n00:11:06.030 --> 00:11:07.730\nNow what do I mean by to save the image?\n\n188\n00:11:07.730 --> 00:11:10.060\nI could call this download image or\nsomething.\n\n189\n00:11:10.060 --> 00:11:12.927\nI wanna save,\nyou want to be able to save it yourself.\n\n190\n00:11:12.927 --> 00:11:14.520\nBut when I click save the image,\n\n191\n00:11:14.520 --> 00:11:19.430\nwhat I want to happen is just download\nback out of the browser as a reproduction.\n\n192\n00:11:19.430 --> 00:11:21.820\nNow, neither one of these actually exist,\nso\n\n193\n00:11:21.820 --> 00:11:25.240\nwe actually need to implement\nthose in order for them to work.\n\n194\n00:11:25.240 --> 00:11:31.123\nSo, let's come up here and say, save,\nthat is not how you spell const,\n\n195\n00:11:31.123 --> 00:11:34.803\nsaveImage, and\nit is gonna take a filename.\n\n196\n00:11:34.803 --> 00:11:36.890\nAnd what is it gonna do?\n\n197\n00:11:36.890 --> 00:11:41.141\nHmm, well with the file name,\nhere's kind of an interesting\n\n198\n00:11:41.141 --> 00:11:45.820\ntrick with these browsers,\nis we can create an anchor tag.\n\n199\n00:11:47.710 --> 00:11:52.717\nSo we can create element\n(a) just like that.\n\n200\n00:11:52.717 --> 00:11:55.500\nActually not just like that.\n\n201\n00:11:55.500 --> 00:11:58.117\nYou may actually need to have quotes here.\n\n202\n00:11:58.117 --> 00:12:02.149\nAnd then we can say href equals and\n\n203\n00:12:02.149 --> 00:12:05.750\nthen there's image buffer.\n\n204\n00:12:07.050 --> 00:12:16.200\nThis image buffer should\nhave the two data URL, okay?\n\n205\n00:12:16.200 --> 00:12:19.560\nWe should have this the ability to\ncreate a data URL from the image buffer.\n\n206\n00:12:19.560 --> 00:12:24.072\nNow, we may have to do\nsome on the fly debugging\n\n207\n00:12:24.072 --> 00:12:28.860\ntoDataURL like so, or\nwe could say image.png.\n\n208\n00:12:28.860 --> 00:12:32.770\nNow before you move any further,\nyou've got PNGs and you've got JPEGs.\n\n209\n00:12:32.770 --> 00:12:39.040\nGifs, right, if you want it in a GIF file,\nthese don't quite work out yet.\n\n210\n00:12:39.040 --> 00:12:41.224\nYou'd have to bring an external\nJavaScript library or\n\n211\n00:12:41.224 --> 00:12:42.890\nyou would have to implement it yourself.\n\n212\n00:12:42.890 --> 00:12:45.659\nSo it writes the GIF headers and\nall of these in.\n\n213\n00:12:45.659 --> 00:12:48.680\nI think that's a little beyond\nthe scope of what we are trying to\n\n214\n00:12:48.680 --> 00:12:51.591\nachieve with this application,\nso we are not gonna do that.\n\n215\n00:12:51.591 --> 00:12:56.079\nBut we can set the link there and then\nI'm gonna actually generate the image and\n\n216\n00:12:56.079 --> 00:13:00.091\nwe've seen that in a previous episode\nwhere you can grab the data URL,\n\n217\n00:13:00.091 --> 00:13:01.387\nset it to an image tag.\n\n218\n00:13:01.387 --> 00:13:06.220\nBut since we're sending the link,\nthat more or less is this is a file.\n\n219\n00:13:07.350 --> 00:13:13.361\nAnd then I can say link.downloader\n\n220\n00:13:13.361 --> 00:13:17.180\nequals the file name.\n\n221\n00:13:17.180 --> 00:13:20.050\nAnd this download attribute on a link\nsays when you click this link,\n\n222\n00:13:20.050 --> 00:13:21.510\nyou're actually gonna download a file.\n\n223\n00:13:21.510 --> 00:13:24.780\nWhat file?\nThe file that's referenced in the href.\n\n224\n00:13:24.780 --> 00:13:28.160\nAnd it will download it to the file name.\n\n225\n00:13:28.160 --> 00:13:33.114\nAnd then I'm just gonna say, link.click\n\n226\n00:13:33.114 --> 00:13:38.210\ncuz I'm gonna simulate it click on\na virtual link, and that will download.\n\n227\n00:13:38.210 --> 00:13:39.860\nSo you never actually see the link.\n\n228\n00:13:39.860 --> 00:13:43.930\nBut when I click the Save button,\nit creates a file name,\n\n229\n00:13:43.930 --> 00:13:49.670\nit calls save image which\ncreates an in memory hyperlink,\n\n230\n00:13:49.670 --> 00:13:54.860\nsets these attributes for\nthe href and the download attributes.\n\n231\n00:13:54.860 --> 00:13:57.760\nAnd then it simulates a click on that.\n\n232\n00:13:57.760 --> 00:14:01.580\nAnd by simulating a click like that,\nit will click that virtual link and\n\n233\n00:14:01.580 --> 00:14:02.530\nit will download.\n\n234\n00:14:02.530 --> 00:14:03.690\nThat's the ultimate goal.\n\n235\n00:14:03.690 --> 00:14:05.150\nNow that's our saved image.\n\n236\n00:14:05.150 --> 00:14:06.360\nThis is actually pretty easy.\n\n237\n00:14:06.360 --> 00:14:12.700\nBut this random file name,\nwe should probably implement that.\n\n238\n00:14:12.700 --> 00:14:14.930\nSo, that's actually gonna\ntake a little bit of work-\n\n239\n00:14:16.250 --> 00:14:17.290\n&gt;&gt; And just so you know,\n\n240\n00:14:17.290 --> 00:14:19.930\nwhat I think is interesting is\nby using that random file name.\n\n241\n00:14:19.930 --> 00:14:21.880\nYou're actually providing\na little bit of organization.\n\n242\n00:14:21.880 --> 00:14:23.090\nWho would have thought randomness\n\n243\n00:14:23.090 --> 00:14:23.670\nwould actually-\n&gt;&gt; [LAUGH]\n\n244\n00:14:23.670 --> 00:14:24.370\n&gt;&gt; Give you a little bit\n\n245\n00:14:24.370 --> 00:14:25.700\nof organization on the back end.\n\n246\n00:14:25.700 --> 00:14:27.450\n&gt;&gt; We do not hold the same thing.\n\n247\n00:14:27.450 --> 00:14:31.410\nAnd I actually,\ntime stamps on these are different.\n\n248\n00:14:31.410 --> 00:14:31.960\nYeah.\n\n249\n00:14:31.960 --> 00:14:33.610\nI know those.\n\n250\n00:14:33.610 --> 00:14:35.357\nNo.\nTo scale it up a little bit,\n\n251\n00:14:35.357 --> 00:14:38.950\nI could probably say, grab the filter\nname, append that on there.\n\n252\n00:14:38.950 --> 00:14:45.419\nRandom file name.filter name, and that way\nit's blah, blah, blah, .grey scale, .png.\n\n253\n00:14:45.419 --> 00:14:49.855\nBut that might be an area of\ndiscomfort that maybe you wanna tackle.\n\n254\n00:14:49.855 --> 00:14:53.063\n&gt;&gt; [LAUGH]\n&gt;&gt; So let's get that random file name, and\n\n255\n00:14:53.063 --> 00:14:56.085\nI think that's best used in the utils.\n\n256\n00:14:56.085 --> 00:14:58.050\nI might need to use this in other places.\n\n257\n00:14:58.050 --> 00:15:00.940\nSo let's create the random filename.\n\n258\n00:15:02.630 --> 00:15:10.460\nAnd that's going to take an extension,\nright, the file extension, and the length.\n\n259\n00:15:12.080 --> 00:15:16.400\nMoreover, we may have to add\nanother helper in here for\n\n260\n00:15:16.400 --> 00:15:17.260\nus but that's all right.\n\n261\n00:15:17.260 --> 00:15:21.580\nSo this random file name is,\nI'm gonna set some letters.\n\n262\n00:15:22.660 --> 00:15:27.320\nAnd I could set a large character set\n\n263\n00:15:27.320 --> 00:15:32.460\nabcdefghijklmnopqrstuv, wxyz.\n\n264\n00:15:32.460 --> 00:15:34.040\nI think I got them all, Wes.\n\n265\n00:15:34.040 --> 00:15:36.835\nIf I missed any,\nyou'll have to keep me honest.\n\n266\n00:15:36.835 --> 00:15:46.313\n&gt;&gt; All right.\n&gt;&gt; So ABCDEFGHIJKLMNOPQRSTUVWXYZ.\n\n267\n00:15:46.313 --> 00:15:46.871\nAll right.\n\n268\n00:15:46.871 --> 00:15:49.240\n&gt;&gt; Everything except the\n&gt;&gt; Well there you go.\n\n269\n00:15:49.240 --> 00:15:50.070\nThere you go.\n\n270\n00:15:50.070 --> 00:15:51.635\nWe're gonna leave that out.\n\n271\n00:15:51.635 --> 00:15:54.868\n&gt;&gt; [LAUGH]\n&gt;&gt; And then we'll go 0, 1, 2, 3, 4, 5, 6,\n\n272\n00:15:54.868 --> 00:15:58.439\n7, 8, 9 Just to have some\npossible numbers in there.\n\n273\n00:15:58.439 --> 00:16:01.470\nNow this is my character set,\nthere's easier ways.\n\n274\n00:16:01.470 --> 00:16:02.990\nI could've just done lowercase letters and\n\n275\n00:16:02.990 --> 00:16:05.520\nthen called toUpper on those and\nconcatenated those.\n\n276\n00:16:05.520 --> 00:16:09.700\nOr I could put those in a constants file,\nand just be able to use those anywhere.\n\n277\n00:16:09.700 --> 00:16:11.264\nBut we'll just do it in place here.\n\n278\n00:16:11.264 --> 00:16:14.725\nAnd since this is multi-line,\nand I'm not using new strings,\n\n279\n00:16:14.725 --> 00:16:17.750\nyou have to have a plus\nhere otherwise it'll break.\n\n280\n00:16:17.750 --> 00:16:20.520\nYou can't have multi\nline strings with quotes.\n\n281\n00:16:20.520 --> 00:16:22.156\nSo now that we the letters,\n\n282\n00:16:22.156 --> 00:16:25.511\nwhat I'm thinking is I'm\ngonna call a builder object.\n\n283\n00:16:25.511 --> 00:16:29.696\nAnd it's just an empty string, and I'm\njust gonna kind of concatenate onto it.\n\n284\n00:16:29.696 --> 00:16:35.512\nAnd for[let i= 0 while i is less\n\n285\n00:16:35.512 --> 00:16:40.510\nthan the length, i += 1.\n\n286\n00:16:40.510 --> 00:16:45.843\nI'm gonna say builder equal,\nwhatever the builder was plus,\n\n287\n00:16:45.843 --> 00:16:52.597\nnow I need a random selection from that\ncharacter set, right from the letters.\n\n288\n00:16:52.597 --> 00:16:56.180\nI'm gonna say this.choice.\n\n289\n00:16:56.180 --> 00:16:59.580\nAnd choice doesn't exist.\n\n290\n00:16:59.580 --> 00:17:00.475\nI'm just gonna chose a random letter.\n\n291\n00:17:00.475 --> 00:17:07.680\nNow with that, that's all right,\nwe'll get there.\n\n292\n00:17:08.680 --> 00:17:12.680\nOnce the builders is done there,\nI'm just gonna return the builder object.\n\n293\n00:17:12.680 --> 00:17:14.060\nWhich is just a string in this case.\n\n294\n00:17:16.343 --> 00:17:18.318\nBut I'm not quite done,\nI'm not quite done.\n\n295\n00:17:18.318 --> 00:17:22.573\nIn this extension, now, Wes,\nI don't know about you, but\n\n296\n00:17:22.573 --> 00:17:25.827\nwhenever someone asked you for\nan extension,\n\n297\n00:17:25.827 --> 00:17:30.660\nsometimes they get a .PNG,\nsometimes they just get PNG, right?\n\n298\n00:17:30.660 --> 00:17:32.318\nI get some weirdness there.\n\n299\n00:17:32.318 --> 00:17:39.770\nSo just to make it a little\neasier to work with.\n\n300\n00:17:39.770 --> 00:17:44.278\nAnd I'm gonna say, extension =\n\n301\n00:17:44.278 --> 00:17:50.570\nextension.startswit('.'), right?\n\n302\n00:17:50.570 --> 00:17:55.150\nBecause if it does, then I just want\nto keep whatever they typed in,\n\n303\n00:17:56.970 --> 00:17:58.440\nor whatever is sent to them.\n\n304\n00:17:58.440 --> 00:18:01.450\nNow I'm using this internally,\nso I could keep this.\n\n305\n00:18:01.450 --> 00:18:03.340\nBut what if I wanted to reuse this?\n\n306\n00:18:03.340 --> 00:18:07.620\nJust making sure if someone's messing\naround here, we'll keep that.\n\n307\n00:18:07.620 --> 00:18:12.935\nAnd then, otherwise,\nI just want to say \".\",\n\n308\n00:18:12.935 --> 00:18:18.680\nand hit to another line apparently,\nextension like so.\n\n309\n00:18:19.850 --> 00:18:22.990\nSo if it starts with a period, keep it.\n\n310\n00:18:22.990 --> 00:18:25.360\nIf it doesn't, go ahead and\nput one on the front of it.\n\n311\n00:18:25.360 --> 00:18:27.850\nAnd that way we can can keep consistency.\n\n312\n00:18:27.850 --> 00:18:29.860\nThat also keeps me from\naccidentally messing up.\n\n313\n00:18:29.860 --> 00:18:32.360\nI forget the API and\njust a nice internal check.\n\n314\n00:18:34.100 --> 00:18:38.180\nWith that, I'm gonna go ahead and\nsay plus extension.\n\n315\n00:18:38.180 --> 00:18:41.960\nSo whatever the random set of\ncharacters is plus the extension.\n\n316\n00:18:41.960 --> 00:18:45.320\nNow, that leaves us with\nthe choice portion.\n\n317\n00:18:45.320 --> 00:18:51.420\nLet's go ahead and make that choice and\na choice of some iterable.\n\n318\n00:18:51.420 --> 00:18:53.260\nSomething that I can iterate over, right?\n\n319\n00:18:53.260 --> 00:18:56.320\nIt could be a string,\nit could be a possible array.\n\n320\n00:18:56.320 --> 00:19:03.818\nI'm gonna create an index,\na random index by saying,\n\n321\n00:19:03.818 --> 00:19:10.342\nMath.floor of Math.random times iterable.\n\n322\n00:19:12.203 --> 00:19:16.002\nIterable.length, all right?\n\n323\n00:19:16.002 --> 00:19:20.418\nI'm kinda making the assumption that\nwherever you pass choice is going to be\n\n324\n00:19:20.418 --> 00:19:23.532\nkind of ordered and\nindexed by 0, 1, 2, 3, 4.\n\n325\n00:19:23.532 --> 00:19:27.800\nIf it's not,\nthen this doesn't work, right?\n\n326\n00:19:27.800 --> 00:19:29.194\nI couldn't use this on an object,\n\n327\n00:19:29.194 --> 00:19:31.350\neven though an object could\npossibly have a length.\n\n328\n00:19:31.350 --> 00:19:33.910\nNow, I'm talking about a standard object,\nnot an array object,\n\n329\n00:19:33.910 --> 00:19:35.080\nwhich is an initerable.\n\n330\n00:19:35.080 --> 00:19:37.362\nAnyway, we're splitting hairs there.\n\n331\n00:19:37.362 --> 00:19:41.340\nThen we'll create, for a string and\nan array that will create a random index.\n\n332\n00:19:41.340 --> 00:19:45.042\nUniformly distributed over, so if I call\nit a bunch of times I will eventually get\n\n333\n00:19:45.042 --> 00:19:46.356\nall of the letters out of it.\n\n334\n00:19:46.356 --> 00:19:51.375\nAnd then I just want to return\niterable [index], like so.\n\n335\n00:19:51.375 --> 00:19:57.512\nOkay, iterable file name\nwhich require choice.\n\n336\n00:19:57.512 --> 00:20:00.580\nWe have our save image function.\n\n337\n00:20:01.980 --> 00:20:04.722\nAll right, I think this might work, Wes.\n\n338\n00:20:04.722 --> 00:20:08.828\nSo if we refresh,\nwe gotta cross our fingers.\n\n339\n00:20:08.828 --> 00:20:10.647\nLogo, Open.\n\n340\n00:20:10.647 --> 00:20:14.850\nLet's go ahead and make this sepia tone.\n\n341\n00:20:14.850 --> 00:20:17.224\nApply, and then I'm gonna click Save.\n\n342\n00:20:17.224 --> 00:20:19.100\nAnd look at there.\n\n343\n00:20:19.100 --> 00:20:26.120\nI now have, That's very interesting.\n\n344\n00:20:27.160 --> 00:20:28.082\nWhat happened?\n\n345\n00:20:28.082 --> 00:20:30.850\nHere's our on the spot debugging.\n\n346\n00:20:30.850 --> 00:20:32.920\nI know what I did.\n\n347\n00:20:36.172 --> 00:20:40.610\nImageBuffer is not what I wanted to save,\ncuz that's the original image.\n\n348\n00:20:40.610 --> 00:20:45.490\nI actually wanna save the canvas,\nwhatever is printed on\n\n349\n00:20:45.490 --> 00:20:49.870\nthe canvas cuz it's gonna be,\noops, shame on me.\n\n350\n00:20:49.870 --> 00:20:54.380\nSo let's refresh,\nlet's go through that one more time.\n\n351\n00:20:54.380 --> 00:20:56.748\nLogo &gt; Open &gt;Apply the sepia filter.\n\n352\n00:20:56.748 --> 00:20:59.540\nThe save did work, though, right?\n\n353\n00:20:59.540 --> 00:21:01.000\nIt actually saved exactly\nwhat I told it to.\n\n354\n00:21:01.000 --> 00:21:06.360\nSave, here's our random file name,\nand then there's our sepia filter.\n\n355\n00:21:08.580 --> 00:21:12.209\nSo here's our Sepia tone image,\nand here's our random file name,\n\n356\n00:21:12.209 --> 00:21:15.342\nthat's just a bunch of blah,\nblah, blah,blah, blah.\n\n357\n00:21:15.342 --> 00:21:18.470\nHere's the point of,\nI don't know if I like that.\n\n358\n00:21:19.870 --> 00:21:22.480\nSee how big this image is?\n\n359\n00:21:22.480 --> 00:21:25.945\nIt only draws this ,but it also\ndraws the entire rest of the canvas\n\n360\n00:21:25.945 --> 00:21:27.615\nas a transparent background.\n\n361\n00:21:27.615 --> 00:21:33.157\nNow I could fix that but\nit's actually a pretty easier tweak, I'll\n\n362\n00:21:33.157 --> 00:21:37.930\ngive you a hint and this is something to\ntry to make this a little better, right?\n\n363\n00:21:37.930 --> 00:21:40.074\nI've been talking about making\nit better making it better.\n\n364\n00:21:40.074 --> 00:21:45.700\nIteration, iteration, cuz as it stands\nour image editor is done, finished.\n\n365\n00:21:45.700 --> 00:21:49.325\nInstead of doing, wait for it,\n\n366\n00:21:49.325 --> 00:21:53.891\nthis apply where I just set it internal,\n\n367\n00:21:53.891 --> 00:21:59.666\nI can actually pull this out and\nthen modify the save\n\n368\n00:21:59.666 --> 00:22:04.660\nto only have the changed\nimage being saved.\n\n369\n00:22:04.660 --> 00:22:07.610\nBut it's such a simple change,\nmaybe you can give it a try.\n\n370\n00:22:07.610 --> 00:22:10.470\nBut there you have it, Wes,\nour image editor is complete.\n\n371\n00:22:10.470 --> 00:22:11.640\nWell, complete.\n\n372\n00:22:11.640 --> 00:22:13.350\nI don't know if software\nis ever really done.\n\n373\n00:22:13.350 --> 00:22:16.846\nBut it's a nice adventure\ninto you suing the canvas for\n\n374\n00:22:16.846 --> 00:22:20.116\nimage manipulation and\njust basic interactions.\n\n375\n00:22:20.116 --> 00:22:21.300\nI had an idea.\n\n376\n00:22:21.300 --> 00:22:22.744\nTried to make it come to fruition.\n\n377\n00:22:22.744 --> 00:22:23.880\nIt's not the prettiest.\n\n378\n00:22:23.880 --> 00:22:27.000\nBut it is functional, and\nI've learned a great deal.\n\n379\n00:22:27.000 --> 00:22:28.300\nAnd hopefully you did as well.\n\n380\n00:22:28.300 --> 00:22:31.220\n&gt;&gt; That's a lot of great information\non taking that image and\n\n381\n00:22:31.220 --> 00:22:32.680\ncreating a downloaded file.\n\n382\n00:22:32.680 --> 00:22:35.340\nNow it does look like we're coming to\nthe end of another episode, Justin,\n\n383\n00:22:35.340 --> 00:22:37.845\nbut before we do, do you got\nanything else that you'd like to\n\n384\n00:22:37.845 --> 00:22:41.595\nmaybe tell our viewers out there that are\nworking in HTML5 right now as we speak.\n\n385\n00:22:41.595 --> 00:22:46.225\n&gt;&gt; Well I would definitely say the things\nthat you see or just any idea, try to make\n\n386\n00:22:46.225 --> 00:22:49.635\nthem come to fruition, even if it's not\nhow you originally planned it, right?\n\n387\n00:22:49.635 --> 00:22:52.883\nOne of the greatest things when I'm\nhelping people learn to program,\n\n388\n00:22:52.883 --> 00:22:54.985\nthey're like I want to make unreal, right?\n\n389\n00:22:54.985 --> 00:22:59.890\nUnreal tournament, or I want to\nmake something World of Warcraft.\n\n390\n00:22:59.890 --> 00:23:02.472\nI'm like, well, let just try\nto get an image on the screen.\n\n391\n00:23:02.472 --> 00:23:04.618\nLet's take it a step at a time, and\n\n392\n00:23:04.618 --> 00:23:09.140\nonce you have a finished product try\nto extend it, try to make it better.\n\n393\n00:23:09.140 --> 00:23:13.610\nSo it's kind of why I left off with,\nhere's a pin point, see if you can fix it,\n\n394\n00:23:13.610 --> 00:23:17.890\nsee if you can and it really help you\nunderstand the code a little more.\n\n395\n00:23:17.890 --> 00:23:22.608\nThat's my first thing and then secondly,\nwell, it's kind of practice.\n\n396\n00:23:22.608 --> 00:23:24.780\nAs long as you do it,\nyou're always gonna get better.\n\n397\n00:23:24.780 --> 00:23:26.250\n&gt;&gt; All right, practice makes perfect.\n\n398\n00:23:26.250 --> 00:23:28.570\nIt does look like that is\na great place to wrap it up.\n\n399\n00:23:28.570 --> 00:23:32.368\nKeep in mind that we got a lot more\nto come in HTML5 Canvas Project.\n\n400\n00:23:32.368 --> 00:23:35.600\nBut you're going to have to come back or\nstick around and continue watching.\n\n401\n00:23:35.600 --> 00:23:37.770\nSigning out for DevProTV,\nI've been your host, Wes Bryan.\n\n402\n00:23:37.770 --> 00:23:38.562\n&gt;&gt; And I'm Justin Dennison.\n\n403\n00:23:38.562 --> 00:23:40.170\n&gt;&gt; And we'll see you next time.\n\n404\n00:23:40.170 --> 00:23:43.430\n[MUSIC]\n\n",
          "vimeoId": "236472666"
        }
      ],
      "title": "Image Editor"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Justin plans out the project for AtmoAttackers. He designs the interface as well as the interactions that are necessary for creating the game dynamic. Moreover, he sets up the project structure in preparation for implementing the game.",
          "length": "1211",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-1-1-planning_the_project-092817-PGM.00_23_29_28.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-1-1-planning_the_project-092817-PGM.00_23_29_28.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-1-1-planning_the_project-092817-PGM.00_23_29_28.Still001-sm.jpg",
          "title": "Planning the Project",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.951 --> 00:00:15.592\nHello, and welcome to another\ngreat episode here at DevPro.TV.\n\n3\n00:00:15.592 --> 00:00:20.651\nI'm your host, Wes Bryan, as we continue\nour journey in HTML 5 Canvas Projects.\n\n4\n00:00:20.651 --> 00:00:23.870\nAnd joining us back in the studios is\nnone other than Mr. Justin Dennison.\n\n5\n00:00:23.870 --> 00:00:25.042\nJustin, how you doing today, Sir?\n\n6\n00:00:25.042 --> 00:00:27.982\n&gt;&gt; I'm doing fantastic,\nI'm glad to be back and, well,\n\n7\n00:00:27.982 --> 00:00:30.811\nI'm pretty excited about\nthese series of episodes.\n\n8\n00:00:30.811 --> 00:00:32.510\nBut more importantly, how are you, Wes?\n\n9\n00:00:32.510 --> 00:00:33.170\n&gt;&gt; I'm doing great.\n\n10\n00:00:33.170 --> 00:00:35.190\nNow, we're gonna be planning\na project here, Justin.\n\n11\n00:00:35.190 --> 00:00:37.900\nAnd one of the things I have to ask,\nwhat are we playing for?\n\n12\n00:00:39.240 --> 00:00:43.010\n&gt;&gt; Well,\nI do like to set some anticipation, right?\n\n13\n00:00:43.010 --> 00:00:46.650\nA good movie has a good entrance,\na wonderful kinda middle part and\n\n14\n00:00:46.650 --> 00:00:48.650\nthen a resolution, right?\n\n15\n00:00:48.650 --> 00:00:50.990\nSo we have those three parts.\n\n16\n00:00:50.990 --> 00:00:53.500\nNow, I didn't necessarily\nsay those appropriately.\n\n17\n00:00:53.500 --> 00:00:56.719\nSome people are like that's\nnot the three parts, right?\n\n18\n00:00:56.719 --> 00:01:00.010\n[LAUGH] Yeah, but look,\nthe build and then the resolution.\n\n19\n00:01:00.010 --> 00:01:03.150\n&gt;&gt; And one of the things I think is great\nis that he says we're planning a project\n\n20\n00:01:03.150 --> 00:01:06.410\nand if we tale a look at it,\nthis is the project we are planning,\n\n21\n00:01:06.410 --> 00:01:07.801\nso that's how much I know.\n\n22\n00:01:07.801 --> 00:01:08.630\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n23\n00:01:08.630 --> 00:01:12.290\nif we are going to be planning a project\nhere Justin Where do we start?\n\n24\n00:01:12.290 --> 00:01:14.900\n&gt;&gt; Well, let me set the scene for\nyou, all right?\n\n25\n00:01:14.900 --> 00:01:18.628\nSo, I'm kind of a nostalgic\ngamer of sorts, right?\n\n26\n00:01:18.628 --> 00:01:23.159\nI grew up, and you and I were talking,\nI grew up when arcades were still pretty\n\n27\n00:01:23.159 --> 00:01:27.460\nprominent, and then they started to\ntaper off as I got into my teens.\n\n28\n00:01:27.460 --> 00:01:32.180\nSo I have this weird transition where away\nfrom arcade based to really strong home\n\n29\n00:01:32.180 --> 00:01:36.170\ncounsel pc based, and arcade kinda\ndied out but it's still around.\n\n30\n00:01:36.170 --> 00:01:40.300\nBut it wasn't just prolific or\nentrenched in the culture it once was,\n\n31\n00:01:40.300 --> 00:01:43.870\nbut along with some of this\narcade games were difficult, but\n\n32\n00:01:43.870 --> 00:01:46.395\nthey were wonderful in their simplicity.\n\n33\n00:01:46.395 --> 00:01:49.942\nSo here's what I'm thinking.\n\n34\n00:01:49.942 --> 00:01:52.430\nAt mall attackers.\n\n35\n00:01:52.430 --> 00:01:56.290\nThere may be some resemblance to previous\ngames that you've played before, but\n\n36\n00:01:56.290 --> 00:01:57.820\nthose are purely coincidental.\n\n37\n00:01:59.240 --> 00:02:03.787\nI'm thinking these kind of monsters\nstart at the top right these flying kind\n\n38\n00:02:03.787 --> 00:02:06.999\nof monsters, and\nthey kind of track down the screen.\n\n39\n00:02:06.999 --> 00:02:11.278\nAnd then, you're the only line of defense\nwith your little fighter in the middle and\n\n40\n00:02:11.278 --> 00:02:14.540\nit moves back and forth, and\nit can shoot a variety at will.\n\n41\n00:02:14.540 --> 00:02:17.036\nLet's just say one projectile,\n\n42\n00:02:17.036 --> 00:02:21.493\nI think I can build that in\na browser.I think space bar for,\n\n43\n00:02:21.493 --> 00:02:26.143\n[SOUND] but the arrow keys for\nmoving, maybe you could do WASD.\n\n44\n00:02:26.143 --> 00:02:28.550\nYeah, WASD.\n\n45\n00:02:28.550 --> 00:02:32.320\nOr, right, you could use the mouse.\n\n46\n00:02:32.320 --> 00:02:34.960\nNow, those are decisions\nto be made at a later time.\n\n47\n00:02:34.960 --> 00:02:39.248\nBut our general theme is we have the,\n[SOUND] and then you're trying to get rid\n\n48\n00:02:39.248 --> 00:02:43.737\nof all of them before they make it to you,\nand that's kind of our end condition.\n\n49\n00:02:43.737 --> 00:02:45.924\nNow, that's our minimal viable product,\n\n50\n00:02:45.924 --> 00:02:49.585\nbut I think this could be expanded\na great deal like different levels, and\n\n51\n00:02:49.585 --> 00:02:52.615\ndifferent difficulties, and\nthere's just a whole bunch.\n\n52\n00:02:52.615 --> 00:02:55.040\nBut I think that's a good\nfirst approximation.\n\n53\n00:02:55.040 --> 00:03:00.243\nAnd it really plays into some of\nthat nostalgic gaming that helps me,\n\n54\n00:03:00.243 --> 00:03:04.023\nit helps me realize that I\nwas once a child as well.\n\n55\n00:03:04.023 --> 00:03:06.160\n&gt;&gt; All right, so\nwe've got our ideas, right?\n\n56\n00:03:06.160 --> 00:03:10.080\nWe kinda lets us know where we're going,\nnow where we start?\n\n57\n00:03:10.080 --> 00:03:13.860\n&gt;&gt; Well, I'm a bit proponent of instead\nof diving right in to start coding and\n\n58\n00:03:13.860 --> 00:03:16.590\ncoding, we should probably make a plan,\nright?\n\n59\n00:03:16.590 --> 00:03:20.965\nAnd I like to do this and I try to\nemphasize this over some other series as\n\n60\n00:03:20.965 --> 00:03:25.137\nwell, make a plan you can deviate\nfrom it you can always change it.\n\n61\n00:03:25.137 --> 00:03:27.085\nBut having a plan to reference,\n\n62\n00:03:27.085 --> 00:03:31.702\na drawing what I think of as a plan is\nmostly a drawing and some annotations and\n\n63\n00:03:31.702 --> 00:03:35.220\nthings That helps you move\nforward at a reasonable pace.\n\n64\n00:03:35.220 --> 00:03:36.910\nIt also keeps you focused,\n\n65\n00:03:36.910 --> 00:03:40.540\ncuz sometimes you'll get what I\nlike to call Shiny Object Syndrome.\n\n66\n00:03:40.540 --> 00:03:44.250\nWhere you're like, I'm doing stuff that's\nshiny over there, let me go over there.\n\n67\n00:03:44.250 --> 00:03:47.590\nSo it help keeps me focused and\nhopefully it does as well.\n\n68\n00:03:47.590 --> 00:03:50.380\nBut it also let's me know I\ndidn't actually think about it.\n\n69\n00:03:50.380 --> 00:03:52.255\nSome things come to fruition.\n\n70\n00:03:52.255 --> 00:03:54.680\nAnd I'm a big proponent of drawing, right?\n\n71\n00:03:54.680 --> 00:03:56.510\nSo let's go ahead and\ncome over to the sky cam and\n\n72\n00:03:56.510 --> 00:03:58.900\nactually draw out our little game here.\n\n73\n00:03:58.900 --> 00:04:05.530\nAnd I got multicolored just cuz\nthat's how I roll, but let's see.\n\n74\n00:04:05.530 --> 00:04:09.360\nLet's say that this, the entire area,\nis the playing surface.\n\n75\n00:04:09.360 --> 00:04:12.990\nNow, this is rectangular but\nit doesn't have to be, right?\n\n76\n00:04:12.990 --> 00:04:14.659\nI can make it anything I want.\n\n77\n00:04:14.659 --> 00:04:23.013\nBut what I'm thinking is we have kinda our\nlittle swarm of atmosphere attackers here.\n\n78\n00:04:26.852 --> 00:04:29.635\nRight, and\nthen I'm thinking to start with a row.\n\n79\n00:04:29.635 --> 00:04:32.585\nBut we could make that different.\n\n80\n00:04:32.585 --> 00:04:39.285\nAnd then just to say, I'm gonna start\nwith a little kind of tank here, okay?\n\n81\n00:04:39.285 --> 00:04:44.340\nNow, I'm representing these by squares,\nbut we could always make these images.\n\n82\n00:04:44.340 --> 00:04:50.110\nBut I'm a big proponent of saying,\nhey, let's make this simple first.\n\n83\n00:04:50.110 --> 00:04:51.380\nLet's just get the dynamics down.\n\n84\n00:04:53.460 --> 00:04:55.880\nI don't want this to be\nable to move up and down.\n\n85\n00:04:55.880 --> 00:05:01.640\nWhat I do want is, as the game time loops,\nlet me grab a different color.\n\n86\n00:05:02.790 --> 00:05:07.470\nI'm thinking these go this way, right?\n\n87\n00:05:08.550 --> 00:05:14.023\nUntil, and they could go to the left,\nthere's no magic\n\n88\n00:05:14.023 --> 00:05:18.921\nabout the right,\nuntil they hit the edge like so.\n\n89\n00:05:18.921 --> 00:05:23.160\nAnd once they hit the edge,\nI'm looking drop down, switch directions.\n\n90\n00:05:23.160 --> 00:05:28.800\nSo here's the new state, so\nthese be, how many do I have here?\n\n91\n00:05:28.800 --> 00:05:31.320\nI have five, I don't count so well.\n\n92\n00:05:33.130 --> 00:05:35.890\nAnd now, they're moving in this direction.\n\n93\n00:05:36.900 --> 00:05:42.830\nAnd our goal,\nas our little fighter down here,\n\n94\n00:05:42.830 --> 00:05:48.820\nis to maybe fire off things\nwe're gonna call pellets,\n\n95\n00:05:48.820 --> 00:05:51.350\nand we want to hit one of these, right?\n\n96\n00:05:51.350 --> 00:05:57.030\nSo let's say this pellet hits and\nthen goes away.\n\n97\n00:05:57.030 --> 00:06:01.780\nWe want to get rid of all of these before\nthey get to us, because the attackers win\n\n98\n00:06:01.780 --> 00:06:06.890\nif they get to the bottom, but\nwe win if we get rid of all of them.\n\n99\n00:06:06.890 --> 00:06:10.500\nNow those win conditions,\nwe could add some fancy screens.\n\n100\n00:06:10.500 --> 00:06:13.410\nBut the dynamics are kind of that, right?\n\n101\n00:06:14.830 --> 00:06:19.670\nNow, this is completely automated,\nthis kind of starts automatically.\n\n102\n00:06:19.670 --> 00:06:23.210\nWe have to know if\nthe attacker hits the edge.\n\n103\n00:06:23.210 --> 00:06:25.850\nAnd likewise, if it hits the edge over\nhere, it does the same action, so\n\n104\n00:06:25.850 --> 00:06:26.790\nit can hit either one.\n\n105\n00:06:28.010 --> 00:06:31.896\nIt also needs the ability to move left and\nright and down, right,\n\n106\n00:06:31.896 --> 00:06:34.806\nin a y direction, so\nit needs both y directions.\n\n107\n00:06:34.806 --> 00:06:39.300\nBut for our fighter really,\nwe only need to move left and right.\n\n108\n00:06:39.300 --> 00:06:44.830\nI don't think flying up to the attacker\nis where you can lose is a good idea.\n\n109\n00:06:44.830 --> 00:06:47.350\nSo, we're just gonna move left and right.\n\n110\n00:06:47.350 --> 00:06:52.710\nSo we need the ability to move and\nto some extent,\n\n111\n00:06:52.710 --> 00:06:57.530\nwe need the ability to fire\nlet's just call them pellets.\n\n112\n00:06:59.210 --> 00:07:01.840\nAnd then, we move left and\nright, we fire Pellets.\n\n113\n00:07:01.840 --> 00:07:03.800\nWhen it hits, it removes these.\n\n114\n00:07:03.800 --> 00:07:05.320\nNow the end game state is.\n\n115\n00:07:06.450 --> 00:07:14.470\nSo End Game, Is all attackers gone.\n\n116\n00:07:21.136 --> 00:07:26.280\nOr they got us, Right?\n\n117\n00:07:26.280 --> 00:07:28.590\nThey made it to the bottom and\nhit our little slider.\n\n118\n00:07:29.710 --> 00:07:31.770\nThey got us.\n\n119\n00:07:31.770 --> 00:07:34.730\n&gt;&gt; And I've noticed here,\nin part of your story boarding process and\n\n120\n00:07:34.730 --> 00:07:38.350\nplanning here, that you're worried just\nmore about the basics right now than\n\n121\n00:07:38.350 --> 00:07:42.110\nany of the complexities or\nfancying up the way it looks right now.\n\n122\n00:07:42.110 --> 00:07:44.860\n&gt;&gt; Yeah,\nthat is most definitely something that\n\n123\n00:07:44.860 --> 00:07:46.430\nI worry about first is-\n&gt;&gt; Mm-hm.\n\n124\n00:07:46.430 --> 00:07:47.960\n&gt;&gt; Let me get the basic dynamics down.\n\n125\n00:07:47.960 --> 00:07:50.907\nLet me get the absolute, minimal,\n\n126\n00:07:50.907 --> 00:07:55.828\nviable solution before I really\nworry about any graphics.\n\n127\n00:07:55.828 --> 00:07:58.582\n&gt;&gt; And then you come back, you pick and\ntweak and fine tune it and\n\n128\n00:07:58.582 --> 00:07:59.668\nhone in whatever it is.\n\n129\n00:07:59.668 --> 00:08:01.302\nAs far as aesthetically that you want.\n\n130\n00:08:01.302 --> 00:08:03.573\n&gt;&gt; Right,\ncuz I can build simple versions fast.\n\n131\n00:08:03.573 --> 00:08:04.222\nMm-hm.\n&gt;&gt; And\n\n132\n00:08:04.222 --> 00:08:07.439\nthen what I may find out is when\nI'm building up a simple version,\n\n133\n00:08:07.439 --> 00:08:11.020\nis, that doesn't work like\nI thought it was going to.\n\n134\n00:08:11.020 --> 00:08:13.580\nAnd then when it doesn't work like\nI thought is going to, I'm like,\n\n135\n00:08:13.580 --> 00:08:16.110\nI need to come back and revisit my plan.\n\n136\n00:08:16.110 --> 00:08:18.590\nAnd when I revisit my,\nI need to think about and\n\n137\n00:08:18.590 --> 00:08:22.830\nI just, that is actually\nan intuitive type of thing.\n\n138\n00:08:22.830 --> 00:08:24.640\nIf I do small pieces, and\n\n139\n00:08:24.640 --> 00:08:28.390\ndo it iteratively,\nthen I can get a better product faster.\n\n140\n00:08:28.390 --> 00:08:32.280\nNow that's just, again,\nthere are varying opinions.\n\n141\n00:08:32.280 --> 00:08:33.590\nThat has been my experience, and\n\n142\n00:08:33.590 --> 00:08:36.630\nthat seems to be the experience\na lot of individuals.\n\n143\n00:08:36.630 --> 00:08:38.710\nYour mileage may vary on that.\n\n144\n00:08:38.710 --> 00:08:40.640\nBut we can come back over to the Sky cam,\njust for\n\n145\n00:08:40.640 --> 00:08:45.850\na moment We have our end game,\nthey got us, we can move.\n\n146\n00:08:45.850 --> 00:08:47.120\nThat's all great.\n\n147\n00:08:47.120 --> 00:08:49.280\nThese can move, cool.\n\n148\n00:08:49.280 --> 00:08:51.232\nSo, they need to be able to move as well.\n\n149\n00:08:54.060 --> 00:08:57.330\nAnd you know what?\n\n150\n00:08:57.330 --> 00:09:00.820\nThese movings here,\nthese are gonna be automatic moves.\n\n151\n00:09:00.820 --> 00:09:05.300\nThe computer's kinda gonna handle those\nbut these are going to be based on users.\n\n152\n00:09:05.300 --> 00:09:11.120\nSo this is a user input,\na player so to speak, right?\n\n153\n00:09:11.120 --> 00:09:12.559\nSo this is a player.\n\n154\n00:09:16.062 --> 00:09:18.640\nAnd I'm gonna get input from them.\n\n155\n00:09:18.640 --> 00:09:21.260\nSo if we're taking an input from them,\n\n156\n00:09:21.260 --> 00:09:25.210\nthen we probably need some input device,\nprobably a keyboard.\n\n157\n00:09:25.210 --> 00:09:29.030\nI'm probably gonna go to keyboard, just\nbecause sometimes I'm not real good at\n\n158\n00:09:29.030 --> 00:09:34.360\ngaming on a computer with a mouse, but\nthat's again, my personal preference.\n\n159\n00:09:34.360 --> 00:09:36.990\nSo I'm thinking move left and\nright will of course bind to left and\n\n160\n00:09:36.990 --> 00:09:38.490\nright arrow keys.\n\n161\n00:09:38.490 --> 00:09:41.350\nLikewise, if I wanna fire a pellet\nI'm thinking that's Space bar.\n\n162\n00:09:42.400 --> 00:09:47.070\nAnd Space bar, move left and\nright that's all I need here.\n\n163\n00:09:47.070 --> 00:09:51.260\nI have what's gonna end the game,\nI have the dynamics of these.\n\n164\n00:09:51.260 --> 00:09:56.882\nAnd well, I think that'll get us our first\nkind of minimal reliable solution but\n\n165\n00:09:56.882 --> 00:09:59.539\nit might take a couple of iterations.\n\n166\n00:09:59.539 --> 00:10:03.039\nYou say, that's a little nicer,\na little more polished and\n\n167\n00:10:03.039 --> 00:10:07.948\nyou could go on forever for this, but we\nalways have to have a stopping condition.\n\n168\n00:10:07.948 --> 00:10:09.630\n&gt;&gt; Is this gonna be something, Justin,\n\n169\n00:10:09.630 --> 00:10:12.200\nthat we're gonna code,\njust gonna go ahead and you got your plan,\n\n170\n00:10:12.200 --> 00:10:15.060\nwe're gonna code everything at once or\nare you gonna make it more modular,\n\n171\n00:10:15.060 --> 00:10:17.930\nbreak it down into modules and\ndo it a little bit more piece by piece?\n\n172\n00:10:17.930 --> 00:10:19.160\n&gt;&gt; So what I'm thinking is,\n\n173\n00:10:19.160 --> 00:10:24.360\nour first attempt at building this,\nat what we just planned.\n\n174\n00:10:24.360 --> 00:10:28.030\nWe should only worry about\neither the attacker and\n\n175\n00:10:28.030 --> 00:10:30.330\nthe dynamics of the attacker,\nor the fighter.\n\n176\n00:10:30.330 --> 00:10:34.240\nNow my decision is I'm gonna\nbuild the fighter first.\n\n177\n00:10:34.240 --> 00:10:36.250\nI'm not even gonna worry\nabout the pellets, right?\n\n178\n00:10:36.250 --> 00:10:38.450\nBecause the pellets are technically\nanother piece of that.\n\n179\n00:10:38.450 --> 00:10:41.612\nThey're another entity on the game,\nor in the game.\n\n180\n00:10:41.612 --> 00:10:46.230\nI'm gonna build the fighter and\nthe ability to move left and right.\n\n181\n00:10:46.230 --> 00:10:50.610\nAnd make sure that the positioning and\nall of that's working.\n\n182\n00:10:50.610 --> 00:10:54.154\nAnd once I have the basic fighter\nthen I can just start tweaking.\n\n183\n00:10:54.154 --> 00:10:56.160\nWell, now what about\nthe fighter with pellets?\n\n184\n00:10:57.640 --> 00:10:59.763\nOkay, well, I already had the fighter,\n\n185\n00:10:59.763 --> 00:11:02.570\nI now have to focus on the pellets part,\nokay.\n\n186\n00:11:02.570 --> 00:11:05.410\nNow that we have pellets,\nwhich we may have to come back and\n\n187\n00:11:05.410 --> 00:11:07.650\ntweak, now let's build the attacker.\n\n188\n00:11:08.740 --> 00:11:09.760\nLet's build one attacker.\n\n189\n00:11:11.450 --> 00:11:12.260\nWe've got one attacker.\n\n190\n00:11:12.260 --> 00:11:14.840\nNow let's build a bunch of attackers.\n\n191\n00:11:14.840 --> 00:11:18.410\nOkay, so by doing this kind\nof incremental progression,\n\n192\n00:11:18.410 --> 00:11:23.020\nyou don't have to worry as much about,\nI don't know what I'm doing, right?\n\n193\n00:11:23.020 --> 00:11:26.300\nIt's kind of a analysis paralysis or\nan overwhelming feeling where you're like,\n\n194\n00:11:26.300 --> 00:11:29.130\nI just coded a bunch of stuff that\ndoesn't work, none of it works.\n\n195\n00:11:29.130 --> 00:11:33.820\nBut I like the small successes, if I can\nbuild fighter first, we're all good to go.\n\n196\n00:11:33.820 --> 00:11:35.900\nAnd in preparation of that we\nshould probably go ahead and\n\n197\n00:11:35.900 --> 00:11:39.320\nset up our project and think about\nproject structure a little bit.\n\n198\n00:11:39.320 --> 00:11:41.220\nThat's probably what\nwe're gonna do here so\n\n199\n00:11:41.220 --> 00:11:44.000\nwe can focus on the fighter\nin another episode.\n\n200\n00:11:44.000 --> 00:11:47.560\nLet's go ahead and\ntake a look at my screen and well,\n\n201\n00:11:47.560 --> 00:11:49.140\nwe just have the Chrome browser.\n\n202\n00:11:49.140 --> 00:11:54.540\nRight, I wanna get some basic setup,\nI want our game, a little bit of styling\n\n203\n00:11:54.540 --> 00:11:58.840\nkind of open in the page and\nthen our JavaScript, and\n\n204\n00:11:58.840 --> 00:12:02.140\nour CSS and anything we need,\nkind of set up, ready to go.\n\n205\n00:12:02.140 --> 00:12:06.350\nNow, inside of here, I have atmoattack,\nright, atmosphere attackers.\n\n206\n00:12:07.970 --> 00:12:13.890\nThere is nothing in this file, or\nfolder, excuse me, it's not a file.\n\n207\n00:12:13.890 --> 00:12:17.910\nBut if I open it up in Atom,\nnow I used atom space dot,\n\n208\n00:12:19.430 --> 00:12:23.180\nyou can always come back and\nrearrange your desktops,\n\n209\n00:12:23.180 --> 00:12:28.910\nbecause apparently I can't figure\nthat out, I gotta, I don't know.\n\n210\n00:12:28.910 --> 00:12:31.260\nAnyway, so you can always come back and\n\n211\n00:12:31.260 --> 00:12:36.195\nsay File &gt; Add project folder,\nif you don't have those shortcuts.\n\n212\n00:12:36.195 --> 00:12:41.130\nNow I know sometimes it works for Windows\nusers, sometimes it doesn't, I don't know.\n\n213\n00:12:41.130 --> 00:12:43.870\nAnyway you can do that but\nwe have our folder here.\n\n214\n00:12:43.870 --> 00:12:48.158\nAnd I think we're gonna go with\na relatively flat structure cuz this is in\n\n215\n00:12:48.158 --> 00:12:53.450\nbrowser and because it's in browser we're\ngonna create a new file called index.html.\n\n216\n00:12:54.630 --> 00:12:58.995\nIt's just a convention that follow,\nmy main entry point file is always\n\n217\n00:12:58.995 --> 00:13:02.342\nindex.html, I'm using\nconvention vver saying,\n\n218\n00:13:02.342 --> 00:13:07.746\nwell I'm actually gonna call it game.html\nand then if I deploy it somewhere, yeah.\n\n219\n00:13:07.746 --> 00:13:14.060\nI always use index.html, there is a little\nbit of magic to it but you don't have to,\n\n220\n00:13:14.060 --> 00:13:17.670\nespecially if you're just working\nlocally and kind of experimenting.\n\n221\n00:13:17.670 --> 00:13:22.668\nLikewise, we're gonna create our main\nentry point of the game which I'm gonna\n\n222\n00:13:22.668 --> 00:13:25.910\ncall app again,\na convention that I follow.\n\n223\n00:13:25.910 --> 00:13:31.350\nAnd then our main CSS,\nwell I'm just gonna call it main.css.\n\n224\n00:13:31.350 --> 00:13:34.018\nAgain, nothing special about these names,\n\n225\n00:13:34.018 --> 00:13:37.546\nyou can call them game.html,\ngame.js, and game.css.\n\n226\n00:13:37.546 --> 00:13:39.720\nAs long as you're consistent\nwith what you do it's fine.\n\n227\n00:13:41.240 --> 00:13:48.815\nLikewise I think that I'm gonna keep other\npieces, maybe the fighter, the attackers.\n\n228\n00:13:48.815 --> 00:13:52.535\nI'm gonna keep those in separate files,\nactually what I would call modules and\n\n229\n00:13:52.535 --> 00:13:56.630\nI'm gonna put those in folders, right?\n\n230\n00:13:56.630 --> 00:13:59.040\nWell I am gonna put them in a folder.\n\n231\n00:13:59.040 --> 00:14:04.730\nLet's create a new folder called js and\nwe're just gonna\n\n232\n00:14:04.730 --> 00:14:08.680\nleave that there cuz we're gonna focus\non the actual creation of the entities.\n\n233\n00:14:08.680 --> 00:14:14.912\nBut here's our basic project structure,\napp.js, index.html, and main.css.\n\n234\n00:14:14.912 --> 00:14:19.200\nAll right, our project structure is good.\n\n235\n00:14:19.200 --> 00:14:21.960\nWe want to make sure that our layout,\n\n236\n00:14:21.960 --> 00:14:26.130\neverything's kind of nice and\nneat on the page.\n\n237\n00:14:26.130 --> 00:14:28.840\nAnd that we have references to\nour canvas and our context.\n\n238\n00:14:28.840 --> 00:14:32.760\nAnd we're ready to go and\nactually start building the fire.\n\n239\n00:14:32.760 --> 00:14:34.590\nLet's go and make our html.\n\n240\n00:14:34.590 --> 00:14:39.109\nSo I'm gonna make html and\nwe're gonna say, AtmoAttack.\n\n241\n00:14:39.109 --> 00:14:43.459\nAnd then below that title,\nwe're gonna make a link and\n\n242\n00:14:43.459 --> 00:14:48.770\nit's not css/master.css,\nit's just main.css, all right?\n\n243\n00:14:48.770 --> 00:14:50.600\nNow, that's because it's\nin a flat file structure.\n\n244\n00:14:52.220 --> 00:14:54.680\nAnd then, I'm gonna say script.\n\n245\n00:14:55.710 --> 00:14:56.960\nAnd that's not what I wanted.\n\n246\n00:14:58.270 --> 00:15:01.290\nBoom but that's alright,\nwe'll make it work.\n\n247\n00:15:01.290 --> 00:15:05.258\nThese are Atom shortcuts,\nwhere you just type in and hit Enter.\n\n248\n00:15:05.258 --> 00:15:10.101\nI'm gonna say src='app.js'.\n\n249\n00:15:10.101 --> 00:15:13.370\nLikewise I'm gonna go ahead and\nadd my canvas.\n\n250\n00:15:13.370 --> 00:15:16.046\nNow my canvas is gonna be\nmy main gameplay area.\n\n251\n00:15:18.320 --> 00:15:21.620\nI'm gonna call it the screen, right?\n\n252\n00:15:21.620 --> 00:15:25.690\nWe're gonna pretend it's\nan old-school arcade screen.\n\n253\n00:15:25.690 --> 00:15:27.730\nSo I'm gonna say canvas.\n\n254\n00:15:27.730 --> 00:15:30.210\nAnd then it's gonna\nhave a class of screen.\n\n255\n00:15:32.010 --> 00:15:38.105\nAnd it's gonna have a width of say 600,\n\n256\n00:15:38.105 --> 00:15:42.857\nand a height of 400, like so.\n\n257\n00:15:42.857 --> 00:15:48.560\nAnd then app.js, actually let's\ngo ahead and manage the screen.\n\n258\n00:15:48.560 --> 00:15:51.030\nSo I'm thinking screen, no Siri.\n\n259\n00:15:51.030 --> 00:15:51.890\nNo, no, no, no, no.\n\n260\n00:15:53.260 --> 00:15:57.257\nBut the screen, let's just add a little\nbit different background color so\n\n261\n00:15:57.257 --> 00:15:59.742\nwe can actually see it,\nsee that it's there.\n\n262\n00:16:01.914 --> 00:16:02.503\nGrey.\n\n263\n00:16:02.503 --> 00:16:07.514\nAnd for the app.js,\nlet's just put working.\n\n264\n00:16:07.514 --> 00:16:13.089\nOkay, so this is a little more than\nthe basic setup that I usually do but\n\n265\n00:16:13.089 --> 00:16:15.640\nhere's our canvas.\n\n266\n00:16:15.640 --> 00:16:16.980\nCool, that's gonna be our screen.\n\n267\n00:16:18.130 --> 00:16:19.300\nWe'll do a little more JavaScript.\n\n268\n00:16:19.300 --> 00:16:22.700\nBut let's go ahead and open this up in\nChrome, make sure everything's working.\n\n269\n00:16:22.700 --> 00:16:25.530\nBecause I made that full screen,\nIt rearranged my desktops again.\n\n270\n00:16:27.410 --> 00:16:29.290\nI do enjoy this.\n\n271\n00:16:29.290 --> 00:16:30.735\nThere we go.\n\n272\n00:16:30.735 --> 00:16:34.680\nNow, I could open it through the command\nline or just have it open in Chrome.\n\n273\n00:16:34.680 --> 00:16:36.380\nBut let's go to Open file.\n\n274\n00:16:37.470 --> 00:16:42.240\nAnd if we come back out into\nthis containing folder.\n\n275\n00:16:42.240 --> 00:16:43.140\nLet's go find it.\n\n276\n00:16:44.170 --> 00:16:47.470\nAnd here we go, index.html.\n\n277\n00:16:47.470 --> 00:16:48.590\nAnd there's our screen.\n\n278\n00:16:48.590 --> 00:16:54.190\nNow, it's kind of a tiny screen,\nbut I tend to zoom things in so\n\n279\n00:16:54.190 --> 00:16:57.410\neverybody could see, so\nI'm gonna keep it fairly tiny, so\n\n280\n00:16:57.410 --> 00:16:59.920\nthere might be some skewing and\nthings, so do keep that in mind.\n\n281\n00:16:59.920 --> 00:17:04.230\nI'm gonna go ahead and open up this\nterminal, and it is working, and\n\n282\n00:17:04.230 --> 00:17:08.940\nbecause this is gray background,\nour CSS and or JavaScript are linked.\n\n283\n00:17:08.940 --> 00:17:11.530\nAnd before we kind of finish up,\n\n284\n00:17:11.530 --> 00:17:16.240\nbefore moving onto the fighter,\nlet's go ahead and grab our screen.\n\n285\n00:17:16.240 --> 00:17:18.920\nNow I usually call this canvas, but\n\n286\n00:17:18.920 --> 00:17:23.660\nsometimes I wanna use the same variable\nnames, because they make sense.\n\n287\n00:17:23.660 --> 00:17:28.213\nI'm afraid that people think those\nvariables are magic, but they're not.\n\n288\n00:17:28.213 --> 00:17:30.384\nSo I'm gonna say screen.\n\n289\n00:17:30.384 --> 00:17:35.677\nSo the screen is the canvas but\nit's gonna be the screen of our game and\n\n290\n00:17:35.677 --> 00:17:40.694\nthen I'm gonna go ahead and\nmake the context and that is going to be\n\n291\n00:17:40.694 --> 00:17:46.560\nthe screen.getContext('2d'), like so\nand have that out of the way.\n\n292\n00:17:46.560 --> 00:17:51.130\nAnd now if we console.log(screen).\n\n293\n00:17:51.130 --> 00:17:54.770\nWe just want to make sure\nthese are not undefined.\n\n294\n00:17:54.770 --> 00:17:57.820\nNot undefined,\ndoes that classify as a double negative?\n\n295\n00:17:57.820 --> 00:17:58.876\nI'm not sure if it does or not.\n\n296\n00:17:58.876 --> 00:18:01.140\nWe're just gonna go with it, right?\n\n297\n00:18:01.140 --> 00:18:04.840\nSo there's our screen,\nwhich is a Canvas element, and\n\n298\n00:18:04.840 --> 00:18:07.540\nhere's our Canvas rendering context.\n\n299\n00:18:07.540 --> 00:18:13.440\nSo we're good go, we're ready to move\non to making the fighter, right?\n\n300\n00:18:13.440 --> 00:18:17.227\nBut I wanna make sure that we have\nthe appropriate time to go through,\n\n301\n00:18:17.227 --> 00:18:18.900\nhow am I designing further?\n\n302\n00:18:18.900 --> 00:18:22.730\nWhat are the thought processes\nthat I have when building\n\n303\n00:18:22.730 --> 00:18:26.440\nan entity that is gonna be represented\nbecause I just don't wanna draw shapes.\n\n304\n00:18:26.440 --> 00:18:29.170\nI actually wanna have an in-memory\nrepresentation of the fighter,\n\n305\n00:18:29.170 --> 00:18:31.050\nthat way you can manipulate, and\n\n306\n00:18:31.050 --> 00:18:33.860\nthe only thing you're seeing is\nthe actual rendered portion.\n\n307\n00:18:33.860 --> 00:18:37.600\nSo, Wes, we're ready to start\ncreating our basic fighter.\n\n308\n00:18:37.600 --> 00:18:41.480\nOur initial project set up is done,\nI think we're good to go.\n\n309\n00:18:41.480 --> 00:18:43.870\n&gt;&gt; All right, great job setting\nup that project structure.\n\n310\n00:18:43.870 --> 00:18:47.040\nI can't wait to see you implement\nthe game as well, and the fighter.\n\n311\n00:18:47.040 --> 00:18:49.790\nJustin, before we sign out,\ndo you have any additional, maybe,\n\n312\n00:18:49.790 --> 00:18:52.960\nwords of wisdom or piece of advice you'd\nlike to give somebody when it comes to\n\n313\n00:18:52.960 --> 00:18:53.770\nfinding their project?\n\n314\n00:18:53.770 --> 00:18:59.430\n&gt;&gt; I would definitely say, minimal, viable\nsolution, and work incrementally, right?\n\n315\n00:18:59.430 --> 00:19:03.660\nBuild a small piece, and I'm gonna try\nto model that throughout this project.\n\n316\n00:19:03.660 --> 00:19:05.960\nBuild a small piece, make sure it works.\n\n317\n00:19:05.960 --> 00:19:09.800\nThe worst thing you can do is build\na whole bunch of pieces, then go test and\n\n318\n00:19:09.800 --> 00:19:13.160\nthen if something's broken, you're like,\nwas it the fighters, the attackers,\n\n319\n00:19:13.160 --> 00:19:13.820\nthe pellets?\n\n320\n00:19:13.820 --> 00:19:16.330\nIs it the screen, is it, I don't know.\n\n321\n00:19:16.330 --> 00:19:20.880\nIt's really hard to debug if you\nbuild a whole bunch of stuff at once.\n\n322\n00:19:20.880 --> 00:19:25.610\nBut now if we only build the fighter and\ndo a single interaction with the fighter?\n\n323\n00:19:25.610 --> 00:19:26.700\nThe left button doesn't work.\n\n324\n00:19:26.700 --> 00:19:31.150\nI only have a couple of places I need to\nlook because the left button doesn't work.\n\n325\n00:19:31.150 --> 00:19:33.670\nThat's just an example, I don't think\nthe left button is not gonna work.\n\n326\n00:19:33.670 --> 00:19:34.510\nWho knows?\n\n327\n00:19:34.510 --> 00:19:37.820\nWe'll figure it out but small pieces,\n\n328\n00:19:37.820 --> 00:19:40.710\nminimal viable solution and\nthen just keep trekking forward.\n\n329\n00:19:40.710 --> 00:19:41.830\nThat's our ultimate goal.\n\n330\n00:19:41.830 --> 00:19:43.500\n&gt;&gt; All right,\ngreat information there Justin.\n\n331\n00:19:43.500 --> 00:19:46.420\nDoes look like we're gonna go ahead and\nwrap this one up but keep in mind we got\n\n332\n00:19:46.420 --> 00:19:52.240\na lot more great content here at DevProTV\nincluding more HTML5 Canvas Projects but\n\n333\n00:19:52.240 --> 00:19:55.030\nthat's gonna require you the viewer\ncoming back and joining us.\n\n334\n00:19:55.030 --> 00:19:58.400\nUntil we see you, signing out for\nDevProTV, I've been your host Wes Bryan.\n\n335\n00:19:58.400 --> 00:19:59.160\n&gt;&gt; And I'm Justin Dennison.\n\n336\n00:19:59.160 --> 00:20:00.968\n&gt;&gt; And we'll see you next time.\n\n337\n00:20:00.968 --> 00:20:05.539\n[SOUND]\n\n",
          "vimeoId": "236473083"
        },
        {
          "description": "In this episode, Justin creates a basic fighter object that will be controlled by the player. He uses a simplified version [rectangle] to get the placement and movements wired up.",
          "length": "1498",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-2-1-creating_a_basic_fighter-092817-PGM.00_25_33_03.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-2-1-creating_a_basic_fighter-092817-PGM.00_25_33_03.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-2-1-creating_a_basic_fighter-092817-PGM.00_25_33_03.Still001-sm.jpg",
          "title": "Creating a Basic Fighter",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.967 --> 00:00:15.751\nHello to our wonderful\nviewers out there in TV land.\n\n3\n00:00:15.751 --> 00:00:19.602\nWelcome back to DevPro.TV as we\nare continuing our journey through HTML 5\n\n4\n00:00:19.602 --> 00:00:20.590\ncanvas projects.\n\n5\n00:00:20.590 --> 00:00:24.570\nAnd joining us back in the studio is\nnone other than Mr. Justin Dennison.\n\n6\n00:00:24.570 --> 00:00:26.030\nJustin how are you doing, sir?\n\n7\n00:00:26.030 --> 00:00:27.770\n&gt;&gt; I am doing fantastic and\n\n8\n00:00:27.770 --> 00:00:31.360\nI'm kinda itching to get ready\ninto this realm of nostalgia.\n\n9\n00:00:31.360 --> 00:00:33.310\nBut more importantly Wes,\nhow are you doing today?\n\n10\n00:00:33.310 --> 00:00:35.520\n&gt;&gt; Man, I am doing great.\n\n11\n00:00:35.520 --> 00:00:38.340\nIn the last episode or\nin the past episode,\n\n12\n00:00:38.340 --> 00:00:41.510\nyou showed us how to bring\nthat project some structure.\n\n13\n00:00:41.510 --> 00:00:44.820\nAnd in that episode, if you are not\nfamiliar with it, turn back over and\n\n14\n00:00:44.820 --> 00:00:46.490\nwatch it, they are planning the project.\n\n15\n00:00:46.490 --> 00:00:50.120\nHe showed us that we were going to\nbasically be creating a fighter,\n\n16\n00:00:50.120 --> 00:00:51.400\ncreating the basic fighter.\n\n17\n00:00:51.400 --> 00:00:53.770\nSo Justin,\nwhat do you say we get this train rolling?\n\n18\n00:00:53.770 --> 00:00:56.870\nWe jump in and, where do we start\nwhen it comes to implementing that?\n\n19\n00:00:56.870 --> 00:00:58.920\n&gt;&gt; All right, so when I say basic fighter,\n\n20\n00:00:58.920 --> 00:01:04.190\nI'm talking like Lego,\nbuild a block fighter.\n\n21\n00:01:04.190 --> 00:01:06.810\nAs a matter of fact,\nit's gonna be so basic, it's more or\n\n22\n00:01:06.810 --> 00:01:07.870\nless gonna be a rectangle.\n\n23\n00:01:07.870 --> 00:01:11.070\n&gt;&gt; So you've seen my drawing capabilities\neventually, so I'm in the right show.\n\n24\n00:01:11.070 --> 00:01:12.570\n&gt;&gt; Yeah, and I'm gonna be honest with you.\n\n25\n00:01:12.570 --> 00:01:17.514\nI had to be careful of not bringing\nin my crayons so I could draw.\n\n26\n00:01:17.514 --> 00:01:20.690\nWell, so we're in the same boat,\nWes, we're in the same boat.\n\n27\n00:01:20.690 --> 00:01:24.000\nNow, along with the representation\non the screen, right,\n\n28\n00:01:24.000 --> 00:01:25.730\nwhat we actually see when we play a game.\n\n29\n00:01:25.730 --> 00:01:28.460\nTypically, there's a lot of\ndata backing that up, right?\n\n30\n00:01:28.460 --> 00:01:33.670\nWhat is its position, what are its\ncapabilities, what are its methods?\n\n31\n00:01:33.670 --> 00:01:37.300\nWe need to know a bunch of stuff, right?\n\n32\n00:01:37.300 --> 00:01:39.050\nWell, okay, all right.\n\n33\n00:01:39.050 --> 00:01:40.130\nWe need to know a bunch of stuff.\n\n34\n00:01:41.720 --> 00:01:46.420\nHowever, that doesn't necessarily,\nthose are kind of separate, right?\n\n35\n00:01:46.420 --> 00:01:48.300\nWhat is rendered, and\nI need to know a bunch of stuff.\n\n36\n00:01:49.520 --> 00:01:50.307\nSo as a result,\n\n37\n00:01:50.307 --> 00:01:53.835\nwe're going to create a very basic\nfighter as far as rendering goes.\n\n38\n00:01:53.835 --> 00:01:57.658\nBut we really need to focus on what\ndata are we going to need, and\n\n39\n00:01:57.658 --> 00:01:59.720\nthat is going to be in flux.\n\n40\n00:01:59.720 --> 00:02:03.150\nAnd what I want to do initially is\nkind of build this all in one file.\n\n41\n00:02:03.150 --> 00:02:07.370\nKeep it reorganized as we need to,\nand that's a structure that I use.\n\n42\n00:02:07.370 --> 00:02:10.201\nSo you're not flipping between\nfiles as you're exploring,\n\n43\n00:02:10.201 --> 00:02:11.970\ntrying to figure things out.\n\n44\n00:02:11.970 --> 00:02:13.580\nSo there's enough talk in there.\n\n45\n00:02:13.580 --> 00:02:15.100\nLet's go ahead and try this out.\n\n46\n00:02:15.100 --> 00:02:19.410\nLet's take a look at my screen here, and\nthis is where we left off last time.\n\n47\n00:02:19.410 --> 00:02:23.000\nI did use a little bit different names for\nthis.\n\n48\n00:02:23.000 --> 00:02:25.840\nMainly because I wanna make sure\npeople don't think those variable\n\n49\n00:02:25.840 --> 00:02:27.020\nnames are magic.\n\n50\n00:02:28.610 --> 00:02:33.050\nSo here is our game area,\nright, our screen.\n\n51\n00:02:33.050 --> 00:02:39.500\nAnd really what I want is the ability\nto render a fighter on the screen.\n\n52\n00:02:39.500 --> 00:02:42.780\nBut I also want the fighter to move up and\ndown now.\n\n53\n00:02:44.316 --> 00:02:48.906\nIn order to render it,\nI need the ability to know where it is,\n\n54\n00:02:48.906 --> 00:02:50.890\nwhat is its size, right?\n\n55\n00:02:50.890 --> 00:02:52.485\nAnd x and y position, what is its size?\n\n56\n00:02:52.485 --> 00:02:56.733\nAnd then the fighter itself is going\nto have the ability to mutate certain\n\n57\n00:02:56.733 --> 00:03:00.084\nattributes about itself,\nmainly what is its position?\n\n58\n00:03:00.084 --> 00:03:04.054\nWell, when you move, you're actually\nchanging your position when you move.\n\n59\n00:03:04.054 --> 00:03:09.720\nSo there's some tweaking in there, but\nlet's go ahead and build our fighter.\n\n60\n00:03:09.720 --> 00:03:13.290\nNow, I'm building a Fighter using a class.\n\n61\n00:03:15.080 --> 00:03:17.880\nThis is going to allow me to construct\na bunch of Fighters if I need to.\n\n62\n00:03:17.880 --> 00:03:19.640\n&gt;&gt; Justin do we have to use class?\n\n63\n00:03:19.640 --> 00:03:23.730\nHelp me out with that, or is there another\nway that we can actually accomplish this?\n\n64\n00:03:23.730 --> 00:03:26.506\n&gt;&gt; So in JavaScript classes\nare a relatively new advent.\n\n65\n00:03:26.506 --> 00:03:30.727\nIt's actually kinda syntactic sugar\non top of the prototype chain and\n\n66\n00:03:30.727 --> 00:03:32.310\nconstructor functions.\n\n67\n00:03:33.560 --> 00:03:37.248\nWe can really, if you have no idea what\nI'm talking about definitely go check out\n\n68\n00:03:37.248 --> 00:03:38.831\nour other courses in the library.\n\n69\n00:03:38.831 --> 00:03:42.190\nI talk about JavaScript\nfairly extensively.\n\n70\n00:03:42.190 --> 00:03:45.870\nBut I think this helps with some of\nthe organizations, some of the syntax.\n\n71\n00:03:45.870 --> 00:03:48.850\nYou could build this as\na function that returns objects.\n\n72\n00:03:48.850 --> 00:03:53.111\nYou could build this as a prototype chain,\naddition to a constructor function,\n\n73\n00:03:53.111 --> 00:03:55.883\nwhich is actually this is\nthe syntactic sugar on it.\n\n74\n00:03:55.883 --> 00:04:00.002\nBut because people were so\nfamiliar with class-based hierarchies and\n\n75\n00:04:00.002 --> 00:04:03.100\nbuilding objects from classes,\nthis is available.\n\n76\n00:04:03.100 --> 00:04:06.900\nNow, I'm gonna start here\njust to add some spice,\n\n77\n00:04:06.900 --> 00:04:10.450\nto use some uniform syntax and\nit's a little nicer.\n\n78\n00:04:10.450 --> 00:04:14.310\nThis does not work in older browsers,\nso you have to be careful there.\n\n79\n00:04:14.310 --> 00:04:18.342\nYou would have to have some kind of\ntransformation pipeline using Babble, or\n\n80\n00:04:18.342 --> 00:04:19.840\nthat setup's really hard.\n\n81\n00:04:19.840 --> 00:04:23.017\nIf you have a newer Node, or\nexcuse me, a newer Chrome or\n\n82\n00:04:23.017 --> 00:04:27.320\nMozilla Firefox, any of those\nclasses are typically supported.\n\n83\n00:04:27.320 --> 00:04:31.086\nNow what we'll do is we'll build\nthis in class, and you know what,\n\n84\n00:04:31.086 --> 00:04:33.282\nI may just go back and change these out.\n\n85\n00:04:33.282 --> 00:04:40.760\nJust so everybody has some niceness to\nsee, or at least to maybe follow up with.\n\n86\n00:04:40.760 --> 00:04:42.010\nHere are the two differences.\n\n87\n00:04:42.010 --> 00:04:43.170\nHere's how you can do this.\n\n88\n00:04:43.170 --> 00:04:47.037\nSo here's our constructor,\nand now a constructor is,\n\n89\n00:04:47.037 --> 00:04:51.380\nwhat are you expecting something\nto pass in, all right?\n\n90\n00:04:51.380 --> 00:04:53.911\nI want x and y initially,\nthat's all I need,\n\n91\n00:04:53.911 --> 00:04:56.520\nI need to know where it's positioned,\nokay?\n\n92\n00:04:57.890 --> 00:05:00.318\nAnd that's gonna be this.x = x.\n\n93\n00:05:00.318 --> 00:05:05.685\nI'm taking the this context cuz that\nmeans whenever I create this object,\n\n94\n00:05:05.685 --> 00:05:11.064\nI'm going to set this object x equal to\nwhatever the x is that was passed in.\n\n95\n00:05:11.064 --> 00:05:13.773\nAnd you'll see that in just a moment,\nand then, this.y = y.\n\n96\n00:05:13.773 --> 00:05:18.380\nNow that's going to help me position\nthe fighter on the screen, that's fine.\n\n97\n00:05:18.380 --> 00:05:20.860\nIt does not help me render the fighter,\nright?\n\n98\n00:05:22.500 --> 00:05:25.215\nI need to know its size, or\nits width, and its height.\n\n99\n00:05:25.215 --> 00:05:27.210\nAnd we may have some changes there where,\n\n100\n00:05:27.210 --> 00:05:31.269\nthat's one of those influx things that we\nwant everything to be symmetric, right?\n\n101\n00:05:31.269 --> 00:05:33.350\nIs it always going to be square?\n\n102\n00:05:33.350 --> 00:05:37.058\nIs it always going to be rectangular,\nwhat is it going to be?\n\n103\n00:05:37.058 --> 00:05:38.566\nI think I'm going to start with a width.\n\n104\n00:05:38.566 --> 00:05:44.036\nLet's just say,\n10 pixels and then a height.\n\n105\n00:05:44.036 --> 00:05:46.618\nNow keep in mind I'm setting pixels here.\n\n106\n00:05:46.618 --> 00:05:50.321\nBut in all actuality this\nis one of those things, so\n\n107\n00:05:50.321 --> 00:05:53.520\nit's gonna be as twice\nas high as it is wide.\n\n108\n00:05:53.520 --> 00:05:57.625\nThis is one of those things that if\nyou're scaling your canvas is different,\n\n109\n00:05:57.625 --> 00:05:58.581\nit's not right.\n\n110\n00:05:58.581 --> 00:06:01.802\nSo here is our fighter,\nthere it is, beautiful.\n\n111\n00:06:01.802 --> 00:06:05.360\nIf we come here and look though.\n\n112\n00:06:05.360 --> 00:06:07.120\nSo let's say we have a fighter.\n\n113\n00:06:08.940 --> 00:06:14.860\nLet's just make sure that we\nconstruct it well, new fighter.\n\n114\n00:06:14.860 --> 00:06:18.324\nAnd I'm just going to place it at (100,\n100).\n\n115\n00:06:18.324 --> 00:06:23.600\nNow that's what I'm passing in,\nthis x and this y here.\n\n116\n00:06:23.600 --> 00:06:25.352\nThese 100s are actually\nbeing passed in x and y.\n\n117\n00:06:25.352 --> 00:06:26.781\nLet's console.log out,\n\n118\n00:06:26.781 --> 00:06:30.600\nactually we don't have to because we\nhave this in the global namespace.\n\n119\n00:06:30.600 --> 00:06:34.560\nLet's look at the fighter,\nthere's our fighter.\n\n120\n00:06:34.560 --> 00:06:37.270\nSo our fighter is a fighter object.\n\n121\n00:06:37.270 --> 00:06:42.923\nAnd it has a height of 20, a width of 10,\nand then x and y position, right?\n\n122\n00:06:42.923 --> 00:06:48.510\nThere it is, we've constructed\nour fighter, that's pretty nice.\n\n123\n00:06:48.510 --> 00:06:54.456\nNow before I move on, Wes asked a question\nabout, hey, is this the only way?\n\n124\n00:06:54.456 --> 00:06:57.801\nLet me show you the alternative just so\nyou know.\n\n125\n00:06:57.801 --> 00:07:03.510\nAnd then we'll back off and well,\nwe won't worry about that anymore.\n\n126\n00:07:03.510 --> 00:07:09.428\nSo I'm just gonna comment this out,\nboom, done.\n\n127\n00:07:09.428 --> 00:07:15.323\nI'm gonna say function Fighter(x,\n\n128\n00:07:15.323 --> 00:07:18.821\ny) and this.x = x and\n\n129\n00:07:18.821 --> 00:07:23.620\nthis.y = y, just like that.\n\n130\n00:07:23.620 --> 00:07:25.420\nLet's see what we get.\n\n131\n00:07:26.420 --> 00:07:30.140\nWell, I also forgot,\nI need to hardcode that width and height.\n\n132\n00:07:33.080 --> 00:07:34.350\nJust like so.\n\n133\n00:07:34.350 --> 00:07:36.440\nSo if I refresh and I look at fighter.\n\n134\n00:07:37.920 --> 00:07:40.620\nNope, that is not,\nI don't want the capital F Fighter,\n\n135\n00:07:40.620 --> 00:07:42.680\nI want the the regular fighter.\n\n136\n00:07:44.290 --> 00:07:47.160\nThere we go, we get the exact same thing,\n\n137\n00:07:47.160 --> 00:07:52.665\nbecause that constructor portion of\nthe class is kind of just syntactic sugar.\n\n138\n00:07:52.665 --> 00:07:56.267\nIt really does this behind the scenes,\nbecause this is how JavaScript was\n\n139\n00:07:56.267 --> 00:07:58.780\noriginally kind of used\nto construct new objects.\n\n140\n00:07:58.780 --> 00:08:00.978\nThere's There's a whole\nbunch of dynamics there.\n\n141\n00:08:00.978 --> 00:08:07.140\nNow likewise, I can add additional methods\nand behaviors inside of this class.\n\n142\n00:08:07.140 --> 00:08:10.980\nI can do the exact same thing here,\nin almost exactly the same way.\n\n143\n00:08:10.980 --> 00:08:14.269\nSo this is one of those other things,\nif I only needed one,\n\n144\n00:08:14.269 --> 00:08:16.635\nI would just do this as an object literal.\n\n145\n00:08:16.635 --> 00:08:20.760\nAnd I've actually done that fairly, or\njust as a function that returns an object.\n\n146\n00:08:20.760 --> 00:08:23.010\nI've done that in previous projects,\nso definitely go check those out.\n\n147\n00:08:23.010 --> 00:08:26.933\nSo this is a little bit different way,\nbut to each their own, right,\n\n148\n00:08:26.933 --> 00:08:30.127\npick one that you like and\nyou can stay consistent with.\n\n149\n00:08:30.127 --> 00:08:32.146\nI always like to switch\nit up a little bit,\n\n150\n00:08:32.146 --> 00:08:35.810\nespecially when I'm doing explorations or\njust kinda for fun projects.\n\n151\n00:08:35.810 --> 00:08:40.540\nSo I'm gonna remove that and, well,\nWes, I told you, we're gonna be\n\n152\n00:08:40.540 --> 00:08:43.890\ncreating a basic fighter, and\nkinda kept up with my end of the bargain.\n\n153\n00:08:43.890 --> 00:08:46.990\n&gt;&gt; Well, kinda here,\nyou have all the attributes of a fighter,\n\n154\n00:08:46.990 --> 00:08:48.400\nlooks like we have all the attributes.\n\n155\n00:08:48.400 --> 00:08:50.930\nBut one of the things I noticed is,\nwell, what I didn't notice is,\n\n156\n00:08:50.930 --> 00:08:54.460\nI couldn't see it,\nhow do we actually see the fighter now?\n\n157\n00:08:54.460 --> 00:08:57.369\n&gt;&gt; Well, you called me out Wes,\nI'm not gonna lie,\n\n158\n00:08:57.369 --> 00:09:00.644\nI was hoping you would look over that,\nbut you didn't.\n\n159\n00:09:00.644 --> 00:09:04.440\nYou didn't, right, we don't, what is\na fighter, and here's what I'm thinking.\n\n160\n00:09:04.440 --> 00:09:06.540\nI'm thinking all the entities on our\n\n161\n00:09:07.616 --> 00:09:11.590\nattacker game have to have some way to\nrender to the screen, how they're viewed.\n\n162\n00:09:11.590 --> 00:09:17.430\nAnd then, I've seen people call this\nshow or draw, I tend to call it render.\n\n163\n00:09:17.430 --> 00:09:20.300\nThat's how my mind works, but\nyou can name them anything.\n\n164\n00:09:20.300 --> 00:09:25.018\nAnd if they all implement that method,\nthen they should be all able to be drawn\n\n165\n00:09:25.018 --> 00:09:28.370\nonto the canvas, okay, or\nthe screen, in this case.\n\n166\n00:09:28.370 --> 00:09:31.703\nSo, let's go ahead and\nget that render method, so Wes isn't like,\n\n167\n00:09:31.703 --> 00:09:32.631\nI don't, [SOUND].\n\n168\n00:09:32.631 --> 00:09:34.554\n&gt;&gt; [LAUGH]\n&gt;&gt; So let's go ahead and\n\n169\n00:09:34.554 --> 00:09:38.083\ncome back to my screen here, and here's\nour fighter, here's our constructor.\n\n170\n00:09:38.083 --> 00:09:41.581\nAnd then we're just gonna\nadd a render method,\n\n171\n00:09:41.581 --> 00:09:45.260\nthis render method,\nI could do a few things here.\n\n172\n00:09:47.050 --> 00:09:52.027\nThis render method,\nI have a constructor, okay,\n\n173\n00:09:52.027 --> 00:09:59.112\nI could pass in the context upon creation,\nor the canvas upon creation.\n\n174\n00:09:59.112 --> 00:10:03.876\nBut what I think is a little bit easier is\njust to pass the screen's drawing context,\n\n175\n00:10:03.876 --> 00:10:08.740\nthink of it as the pin, every time I\ncall render on a particular object.\n\n176\n00:10:08.740 --> 00:10:12.881\nAnd what this is gonna do is say\ncontext.save, now I'm always going to\n\n177\n00:10:12.881 --> 00:10:16.756\ndo this save and restore,\na lot of times, even if I don't need it.\n\n178\n00:10:16.756 --> 00:10:21.919\nJust because it doesn't hurt anything\nif I do it, maybe other than\n\n179\n00:10:21.919 --> 00:10:27.290\na mild performance issue,\nwe're talking minuscule performance.\n\n180\n00:10:27.290 --> 00:10:30.890\nBut also, it keeps me from accidentally\nchanging colors and things and\n\n181\n00:10:30.890 --> 00:10:32.030\ngetting weird color.\n\n182\n00:10:32.030 --> 00:10:36.307\nAll of my sprites or all of my entities\non the screen becoming the same color.\n\n183\n00:10:36.307 --> 00:10:39.233\nBut, here we go,\n\n184\n00:10:39.233 --> 00:10:45.870\nwe have context.fillRect(this.x,\n\n185\n00:10:45.870 --> 00:10:50.163\nthis.y, this.width,\n\n186\n00:10:50.163 --> 00:10:57.300\nthis.height), just like so, okay?\n\n187\n00:10:57.300 --> 00:11:00.220\nNow, this render function\nis gonna be different for\n\n188\n00:11:00.220 --> 00:11:05.480\nall of the entities, depending on whether\nthey look the same or they don't.\n\n189\n00:11:05.480 --> 00:11:08.570\nWe're going to see something very\ninteresting here in just a moment,\n\n190\n00:11:08.570 --> 00:11:10.390\nI think.\n\n191\n00:11:10.390 --> 00:11:12.687\nFirst off, you need to render the fighter,\nso fighter.\n\n192\n00:11:15.567 --> 00:11:20.221\n.render(context), right,\nI'm passing in the context\n\n193\n00:11:20.221 --> 00:11:24.427\nfrom up here into the render function,\nso it can draw.\n\n194\n00:11:24.427 --> 00:11:28.962\nAnd hey, there's a fighter, Wes,\nI told you I would get it there,\n\n195\n00:11:28.962 --> 00:11:32.156\nit's kind of tiny,\nit's kind of wicked tiny.\n\n196\n00:11:32.156 --> 00:11:36.472\nAnd that's because this 10 and\n20 are relatively small,\n\n197\n00:11:36.472 --> 00:11:41.121\ngiven the 800-something,\nnow we can tweak this, right, but\n\n198\n00:11:41.121 --> 00:11:48.331\nI'm thinking, Let's just tweak\nit in time now, let's keep,\n\n199\n00:11:48.331 --> 00:11:52.830\nactually, let's keep this about 10,\nbut let's make this height about 40.\n\n200\n00:11:52.830 --> 00:11:54.940\nI come back and I refresh, there we go,\n\n201\n00:11:54.940 --> 00:11:59.860\nnow, it's way over there,\nit's not actually positioned.\n\n202\n00:11:59.860 --> 00:12:02.020\nWhat I'm thinking is,\nit should be positioned down here, and\n\n203\n00:12:02.020 --> 00:12:03.990\nnow that we can see it,\nwe can see that it's in the wrong place.\n\n204\n00:12:06.140 --> 00:12:08.364\nSo here's our fighter, and\n\n205\n00:12:08.364 --> 00:12:13.558\nour fighter should really be probably\nin the center of the canvas.\n\n206\n00:12:13.558 --> 00:12:18.037\nSo canvas.width/2,\nthis is gonna be pretty close,\n\n207\n00:12:18.037 --> 00:12:22.052\nnot exact, and\nthen canvas.height minus what?\n\n208\n00:12:22.052 --> 00:12:29.192\nMinus the height, and that's to make\nsure I pull it back to the height.\n\n209\n00:12:29.192 --> 00:12:31.520\nSo that's gonna be 40, now,\nI have some hardcoded values there,\n\n210\n00:12:31.520 --> 00:12:35.850\nI'd prefer to leave them there for\nnow, but that's, in general, not good.\n\n211\n00:12:35.850 --> 00:12:39.860\nCanvas, I've been so\nused to using that name, it's the screen,\n\n212\n00:12:39.860 --> 00:12:41.990\nit's the screen, in this case.\n\n213\n00:12:41.990 --> 00:12:45.720\nSo boom, there's our fighter, so our\nfighter's at the bottom, it's ready to go.\n\n214\n00:12:45.720 --> 00:12:49.546\nAnd we kinda have our basic\nfighter entered in the screen.\n\n215\n00:12:49.546 --> 00:12:54.370\nThere's one thing I wanna talk about,\nthough, by default, this is black.\n\n216\n00:12:54.370 --> 00:12:58.920\nThat's the default fill rect,\nthat's the default context.\n\n217\n00:12:58.920 --> 00:13:04.860\nIt almost seems like I should be able to\ncreate fighters with maybe a color, right?\n\n218\n00:13:04.860 --> 00:13:08.360\nMaybe I have different, especially if\nyou wanna make a two player game, right?\n\n219\n00:13:08.360 --> 00:13:11.730\nWes and I both wanted to play,\nif we're both the same color fighters,\n\n220\n00:13:11.730 --> 00:13:15.675\nthen there's no determination between\nwho's what, that can be difficult.\n\n221\n00:13:15.675 --> 00:13:18.700\nWell,playing it on a single\ncomputer can be difficult anyway,\n\n222\n00:13:18.700 --> 00:13:21.770\nbut we need some way to break those out.\n\n223\n00:13:21.770 --> 00:13:24.850\nSo let's come back into the screen here,\nand\n\n224\n00:13:24.850 --> 00:13:28.550\njust do a quick little tweak to\nmake it a little more customizable.\n\n225\n00:13:28.550 --> 00:13:32.560\nAnd you'll see that this actually leads\nto some other things in the future.\n\n226\n00:13:32.560 --> 00:13:37.550\nSo I'm gonna say,\nwe're gonna pass on a color,\n\n227\n00:13:37.550 --> 00:13:41.587\nokay, and then this.color = color.\n\n228\n00:13:41.587 --> 00:13:44.322\nBut I really want this to be optional,\n\n229\n00:13:44.322 --> 00:13:49.970\nI really want this to have a default\nvalue if someone doesn't use it.\n\n230\n00:13:49.970 --> 00:13:55.479\nNow, in new JavaScript, I can do\nsomething like this, I can actually give\n\n231\n00:13:55.479 --> 00:14:01.176\ndefault values to parameters, right,\nwhat's your favorite color, Wes?\n\n232\n00:14:01.176 --> 00:14:01.761\n&gt;&gt; Purple.\n\n233\n00:14:01.761 --> 00:14:06.435\n&gt;&gt; Purple, all right, let's go with,\nI think purple is a CSS color,\n\n234\n00:14:06.435 --> 00:14:08.240\nwe're about to find out.\n\n235\n00:14:08.240 --> 00:14:12.973\nIf not, we'll find a purple and\nget it there anyway, so\n\n236\n00:14:12.973 --> 00:14:20.564\nin order to see that kind of work, we're\ngonna say context.fillStyle = this.color.\n\n237\n00:14:20.564 --> 00:14:27.380\nAnd I'm actually gonna console.log\nthe fighter here because\n\n238\n00:14:27.380 --> 00:14:33.150\nI put that purple in place And\nthat should be the default argument.\n\n239\n00:14:33.150 --> 00:14:36.538\nIf I come back and I refresh, purple is\nthe default argument, and look at that.\n\n240\n00:14:36.538 --> 00:14:41.030\nWe have a purple fighter, this is\nalmost like it's customized for Wes.\n\n241\n00:14:41.030 --> 00:14:42.807\n&gt;&gt; Absolutely.\n&gt;&gt; But that's all right, because now,\n\n242\n00:14:42.807 --> 00:14:44.317\neven though we have that default argument.\n\n243\n00:14:44.317 --> 00:14:50.310\nIf I wanted to come back here and\nsay red, then now it's a red fighter.\n\n244\n00:14:51.330 --> 00:14:56.650\nSo we have that little bit of tweaking and\nI think, that's optional, that's good.\n\n245\n00:14:56.650 --> 00:15:00.838\nAnd that would help delineate between,\nis this a fighter, is this an entity,\n\n246\n00:15:00.838 --> 00:15:01.604\nwhat is this?\n\n247\n00:15:01.604 --> 00:15:06.123\nIf you adopt a color scheme for\nyour particular game aspect or\n\n248\n00:15:06.123 --> 00:15:11.370\nwhatever, so that's my plan,\nmay not necessarily be yours.\n\n249\n00:15:11.370 --> 00:15:15.350\nSo we have our color fighter, and\nWes, does this look a fighter to you?\n\n250\n00:15:15.350 --> 00:15:19.763\n&gt;&gt; Well, it kinda looks like a fighter,\na little bit more like a rectangle,\n\n251\n00:15:19.763 --> 00:15:20.555\nif you will.\n\n252\n00:15:20.555 --> 00:15:23.003\nSo it does look like we have\nthe basic fighter, but well,\n\n253\n00:15:23.003 --> 00:15:24.330\nnow we need it to move, right?\n\n254\n00:15:24.330 --> 00:15:28.640\nCuz if it's just a sitting duck here,\nit doesn't look like our Atmo Attackers\n\n255\n00:15:28.640 --> 00:15:31.207\nare gonna have too much\nproblem taking it out.\n\n256\n00:15:31.207 --> 00:15:34.725\n&gt;&gt; Yeah, yeah, I think you're right, so if\nit just stands still, you gotta wait for\n\n257\n00:15:34.725 --> 00:15:35.594\nthem to come to you.\n\n258\n00:15:35.594 --> 00:15:36.591\n&gt;&gt; [LAUGH]\n&gt;&gt; And that may not\n\n259\n00:15:36.591 --> 00:15:38.934\nnecessarily be the best\nstrategy in the game.\n\n260\n00:15:38.934 --> 00:15:42.962\nSo I think initial first pass,\nand we may refactor this later,\n\n261\n00:15:42.962 --> 00:15:45.242\nchange this out, is get the left and\n\n262\n00:15:45.242 --> 00:15:50.430\nright arrow keys to actually move\nthis thing left and right, right?\n\n263\n00:15:50.430 --> 00:15:54.202\nSo I think we might have time to get\nthat done, it seems like a lot of work.\n\n264\n00:15:54.202 --> 00:15:56.920\nI mean it's probably not.\n\n265\n00:15:56.920 --> 00:16:02.140\nLet's go over here and so\nhere is our fighter, right?\n\n266\n00:16:02.140 --> 00:16:08.100\nAnd our fighter will, let's see.\n\n267\n00:16:08.100 --> 00:16:10.180\nWe're gonna simulate this.\n\n268\n00:16:10.180 --> 00:16:12.880\nI'm gonna simulate because we don't\nhave any drawing or rendering or\n\n269\n00:16:12.880 --> 00:16:13.480\nanything like that.\n\n270\n00:16:15.150 --> 00:16:23.738\nLet's set up our\nwindow.addEventListener and\n\n271\n00:16:23.738 --> 00:16:25.836\nhere we go.\n\n272\n00:16:25.836 --> 00:16:31.340\nWe wanna listen for\nkeydown events, and listen for e.\n\n273\n00:16:31.340 --> 00:16:35.006\nNow I'm listening on the windows that\nway when you focus in you get it.\n\n274\n00:16:35.006 --> 00:16:41.699\nThat e on a keydown is gonna have\nan interesting attribute and\n\n275\n00:16:41.699 --> 00:16:47.020\nI just recently found out,\nthat see this code?\n\n276\n00:16:47.020 --> 00:16:48.405\nThat's space.\n\n277\n00:16:48.405 --> 00:16:52.953\nThe key is actually a space character and\nthen a keyCode is 32.\n\n278\n00:16:52.953 --> 00:16:57.910\nI've always used keyCode, but\nI just read in some documentation.\n\n279\n00:16:57.910 --> 00:16:59.740\nThey actually recommend not to do this.\n\n280\n00:16:59.740 --> 00:17:04.839\nIt's still there, people still do it but\nI think it's going away.\n\n281\n00:17:04.839 --> 00:17:09.787\nThey say you should use key, because key\n\n282\n00:17:09.787 --> 00:17:14.440\nright arrow, key is actually arrow right.\n\n283\n00:17:14.440 --> 00:17:17.060\nIt's a description instead of some\nweird number that you have to look\n\n284\n00:17:17.060 --> 00:17:17.980\nup every time.\n\n285\n00:17:17.980 --> 00:17:21.120\nSo I kind of like that change,\nand for this project,\n\n286\n00:17:21.120 --> 00:17:25.170\neven though I've been key code a bunch of\nother times, I'm gonna go with key here.\n\n287\n00:17:25.170 --> 00:17:30.090\nSo I think left and right arrow, it\nwould be nice if we could just get maybe\n\n288\n00:17:30.090 --> 00:17:35.170\na print out of the fighter, and\nactually seeing moving of the fighter.\n\n289\n00:17:35.170 --> 00:17:40.330\nSo let's say, when we get this passed in,\n\n290\n00:17:40.330 --> 00:17:46.210\nI want to immediately grab the key,\nthe key off of the event.\n\n291\n00:17:47.290 --> 00:17:51.683\nAnd I'm just gonna do a switch statement\nbecause I know I'm gonna have to handle\n\n292\n00:17:51.683 --> 00:17:52.809\nseveral keys here.\n\n293\n00:17:52.809 --> 00:17:58.825\nAnd that's a case ofArrowRight,\n\n294\n00:17:58.825 --> 00:18:03.810\nBreak, case of ArrowLeft.\n\n295\n00:18:06.230 --> 00:18:09.594\nBreak and then you should always\nhave the default case, but\n\n296\n00:18:09.594 --> 00:18:11.888\nwe're not gonna put anything in there.\n\n297\n00:18:11.888 --> 00:18:18.687\nAnd then every time,\nI'm just gonna console.log the fighter\n\n298\n00:18:21.532 --> 00:18:24.940\nOkay, so\nhere's our console.log the fighter.\n\n299\n00:18:24.940 --> 00:18:29.060\nAnd well, let's just see if that\nconsole.log the fighter works,\n\n300\n00:18:29.060 --> 00:18:32.540\nbecause the fighter is defined here,\nand this is, it's kinda weird.\n\n301\n00:18:33.600 --> 00:18:37.300\nSo if I write, there's a fighter,\nfighter, fighter.\n\n302\n00:18:37.300 --> 00:18:40.790\nAnd that's because that key\nevent doesn't actually hit\n\n303\n00:18:40.790 --> 00:18:43.990\nuntil everything is rendered in\nthe fighter variable's name.\n\n304\n00:18:43.990 --> 00:18:47.946\nSo even though they're out of order,\nthat's because that function doesn't run\n\n305\n00:18:47.946 --> 00:18:50.885\ntill I have a key event which\nis not necessarily on page load.\n\n306\n00:18:50.885 --> 00:18:53.099\nBut that's doesn't move, but\n\n307\n00:18:53.099 --> 00:18:57.750\nwe do have the ability to listen\nto error right and error left.\n\n308\n00:18:57.750 --> 00:19:04.024\nSo what I'm thinking for the fighter,\nI would like to have like fighter.move.\n\n309\n00:19:04.024 --> 00:19:06.720\nAnd I could do move right, move left but\nI could even give it a mount.\n\n310\n00:19:08.430 --> 00:19:12.497\nMove to the right and then mount would be\nmore or less the velocity that it would\n\n311\n00:19:12.497 --> 00:19:15.640\nhave every time you click or\nevery time you hit a move error.\n\n312\n00:19:15.640 --> 00:19:18.700\nSo, I'm thinking moving to\nthe right would be positive.\n\n313\n00:19:19.870 --> 00:19:25.330\nSo I'm move 5 and then fighter move -5.\n\n314\n00:19:25.330 --> 00:19:28.130\nSo this would be symmetric, okay.\n\n315\n00:19:28.130 --> 00:19:32.910\nThere we go, I think that will work.\n\n316\n00:19:32.910 --> 00:19:37.363\nIf we come back,\nwe hit fighter.move is not a function.\n\n317\n00:19:37.363 --> 00:19:40.986\nI was trying to use a function\nthat does not exist.\n\n318\n00:19:40.986 --> 00:19:46.990\nWell fighter.move, I like that API, but\nit doesn't exist on the fighter object.\n\n319\n00:19:46.990 --> 00:19:48.507\nWell let's make it.\n\n320\n00:19:48.507 --> 00:19:51.596\nAnd I'm gonna say,\nwe're gonna move by an amount, and\n\n321\n00:19:51.596 --> 00:19:55.580\nbecause this is a fighter object,\nwe're only going to affect the X.\n\n322\n00:19:55.580 --> 00:19:57.603\nNot the Y, but just the X.\n\n323\n00:19:57.603 --> 00:20:02.294\nSo I'm gonna type this.x += amount.\n\n324\n00:20:02.294 --> 00:20:07.299\nAnd by adopting this convention, I'm\nsaying the amount is going to also give me\n\n325\n00:20:07.299 --> 00:20:13.040\na direction in a positive or negative and\nlet me know, right, left or right.\n\n326\n00:20:13.040 --> 00:20:15.000\nI'm not gonna make that\ndetermination inside of the method.\n\n327\n00:20:15.000 --> 00:20:17.200\nIt's just gonna say, you told me to move.\n\n328\n00:20:17.200 --> 00:20:18.910\nWe're good, okay?\n\n329\n00:20:18.910 --> 00:20:22.367\nSo if we come back and refresh and\nwe click over here, there's our left,\n\n330\n00:20:22.367 --> 00:20:25.270\nthere's our left, there's our left,\nthere's our left.\n\n331\n00:20:25.270 --> 00:20:27.828\nYou'll notice 295, 290, 285,\n\n332\n00:20:27.828 --> 00:20:32.215\n280, we are actually moving\nthe attributes, the x values to the left.\n\n333\n00:20:32.215 --> 00:20:35.239\nIf we go right, right, right, right,\nright, right,right, right and\n\n334\n00:20:35.239 --> 00:20:37.308\nthose are going up, so\nit does move left and right.\n\n335\n00:20:37.308 --> 00:20:41.880\nBut see, Wes has got a [INAUDIBLE]\nthere is something you\n\n336\n00:20:41.880 --> 00:20:45.170\ndon't like about the SOS, what is it?\n\n337\n00:20:45.170 --> 00:20:46.430\n&gt;&gt; It's still stationary.\n\n338\n00:20:46.430 --> 00:20:47.850\nWe're still a sitting duck.\n\n339\n00:20:47.850 --> 00:20:50.692\n&gt;&gt; Yeah, so the attributes are moving,\n\n340\n00:20:50.692 --> 00:20:55.690\nall right, they're changing but the actual\nrendered portion is not changing.\n\n341\n00:20:55.690 --> 00:20:57.160\nAnd why is that?\n\n342\n00:20:58.770 --> 00:21:01.950\nWell if we come over here and we look,\nwe only rendered the fighter one time.\n\n343\n00:21:02.980 --> 00:21:05.239\nAnd we could do something like this.\n\n344\n00:21:06.951 --> 00:21:12.041\nAnd instead of rendering, or excuse me,\ninstead of just console logging\n\n345\n00:21:12.041 --> 00:21:17.310\nthe fighter, we'll just render\nthe fighter inside of the event listener.\n\n346\n00:21:17.310 --> 00:21:19.330\nSo every time we move, it's gonna add.\n\n347\n00:21:19.330 --> 00:21:22.410\nAnd we're gonna have a weirdness here,\nbut that's all right.\n\n348\n00:21:22.410 --> 00:21:24.030\nAnd okay?\n\n349\n00:21:24.030 --> 00:21:24.690\nWhy is that?\n\n350\n00:21:26.720 --> 00:21:29.290\nWell, we made a bunch of them.\n\n351\n00:21:29.290 --> 00:21:30.260\nMade a bunch of fighters.\n\n352\n00:21:30.260 --> 00:21:34.430\nAnd if I go this way,\nit come back over here on this side.\n\n353\n00:21:35.620 --> 00:21:37.110\nWell, we're leaving a trail.\n\n354\n00:21:37.110 --> 00:21:39.440\nWe're not clearing the screen.\n\n355\n00:21:39.440 --> 00:21:46.636\nSo let's say every time we say clear at,\n0,\n\n356\n00:21:46.636 --> 00:21:53.426\n0, screen.width, screen.height.\n\n357\n00:21:53.426 --> 00:21:55.510\nSo I'm just gonna clear the screen,\nrefresh.\n\n358\n00:21:57.220 --> 00:21:58.120\n&gt;&gt; There we go.\n\n359\n00:21:58.120 --> 00:21:58.920\n&gt;&gt; There we go.\n\n360\n00:21:58.920 --> 00:22:01.520\nSo we have kind of our basic fighter.\n\n361\n00:22:01.520 --> 00:22:02.680\nOne final thing.\n\n362\n00:22:03.730 --> 00:22:07.818\nIf we were to do it like this,\nwe would have to call render to start,\n\n363\n00:22:07.818 --> 00:22:10.227\nto get the initial position rendered,\n\n364\n00:22:10.227 --> 00:22:14.539\nbecause the only time it's gonna\nrender is when I move the first time.\n\n365\n00:22:14.539 --> 00:22:17.830\nBut now on page refresh,\nwe would actually get that.\n\n366\n00:22:17.830 --> 00:22:19.950\nAnd we're able to move.\n\n367\n00:22:19.950 --> 00:22:24.223\nBut now I've nailed down the dynamics,\nI'm not saying this is the best way to\n\n368\n00:22:24.223 --> 00:22:27.339\nimplement actual rendering\nof the fighter and moving.\n\n369\n00:22:27.339 --> 00:22:30.925\nBut I have my positioning,\nI have my movement,\n\n370\n00:22:30.925 --> 00:22:34.800\nkind of my initial API which\nis starting to change.\n\n371\n00:22:34.800 --> 00:22:39.260\nBut I think we have all the aspects to now\nwhere are about some of the other entities\n\n372\n00:22:39.260 --> 00:22:42.080\nas well as setting up\nthat the game itself.\n\n373\n00:22:42.080 --> 00:22:46.424\nWell disclosure, I'm not recommending you\ncall render on something you're changing\n\n374\n00:22:46.424 --> 00:22:48.335\ninside of event listener every time.\n\n375\n00:22:48.335 --> 00:22:53.162\nIt's probably best you get smoother\nanimations by doing that somewhere else\n\n376\n00:22:53.162 --> 00:22:54.655\nand so I have to do that.\n\n377\n00:22:54.655 --> 00:22:57.818\nBut we have our initial fighter\nkind of lay down as far as data and\n\n378\n00:22:57.818 --> 00:23:01.879\nthen the basic method as necessarily, to\nget it on the screen and provide a little\n\n379\n00:23:01.879 --> 00:23:05.450\nbit of an interaction and that was\nour ultimate goal for this episode.\n\n380\n00:23:05.450 --> 00:23:08.200\n&gt;&gt; All right, Justin, great job getting\nthat fighter up on the screen and\n\n381\n00:23:08.200 --> 00:23:10.150\ngetting even some of\nthe basic movements going.\n\n382\n00:23:10.150 --> 00:23:13.020\nIt does look like we are coming to\nthe end of another great episode here.\n\n383\n00:23:13.020 --> 00:23:15.810\nBut before we do, do you have any parting\nwords that you would like to impart to\n\n384\n00:23:15.810 --> 00:23:17.400\nthe viewers that are watching right now?\n\n385\n00:23:17.400 --> 00:23:20.290\n&gt;&gt; Well, as you can see that\nthis is very simple, right?\n\n386\n00:23:20.290 --> 00:23:24.210\nBut if something goes wrong, just like\nwe saw a couple times in this episode,\n\n387\n00:23:24.210 --> 00:23:26.720\nI had an error or\nsomething of that nature.\n\n388\n00:23:26.720 --> 00:23:29.690\nI didn't have to go looking all over\nthe place for it, because I was so\n\n389\n00:23:29.690 --> 00:23:34.950\nfocused on an individual piece,\nmy debugging time was reduced drastically.\n\n390\n00:23:34.950 --> 00:23:38.220\nIf I had built the fighter, the entity,\nor excuse me, the fighter, the attacker,\n\n391\n00:23:38.220 --> 00:23:42.800\nthe swarm of attackers, and all of the\npellets before I ever hit refresh, man,\n\n392\n00:23:42.800 --> 00:23:44.390\nthat would have been a nightmare.\n\n393\n00:23:44.390 --> 00:23:46.500\nLike what if, all right?\n\n394\n00:23:46.500 --> 00:23:49.540\nAnd the worst thing is,\nthose can have cascading issues.\n\n395\n00:23:49.540 --> 00:23:50.440\n&gt;&gt; You get a bug.\n\n396\n00:23:50.440 --> 00:23:53.530\nYou fix it, and then you find out\nthere's actually a bug after that,\n\n397\n00:23:53.530 --> 00:23:55.340\nthat wasn't showing up because JavaScript,\n\n398\n00:23:55.340 --> 00:24:00.400\nit kinda jump ship whenever\nsomething happens, right?\n\n399\n00:24:00.400 --> 00:24:02.970\nMove is not a function,\nit would stop there, and\n\n400\n00:24:02.970 --> 00:24:04.630\nthen anything after\nthere that wouldn't run.\n\n401\n00:24:04.630 --> 00:24:09.090\nSo this is a good first approximation,\nit's very focused, very small, and\n\n402\n00:24:09.090 --> 00:24:13.990\nnow we can layer on a little bit more,\nbut it allows us to think about it.\n\n403\n00:24:13.990 --> 00:24:18.910\nBut continuously throughout the series,\nI'm gonna clean up, refactor,\n\n404\n00:24:18.910 --> 00:24:24.240\ngonna get things working, but always make\nkinda incremental advancements and that's\n\n405\n00:24:24.240 --> 00:24:27.740\nhow you should think about projects that\nyou're trying to undertake for yourself.\n\n406\n00:24:27.740 --> 00:24:28.970\n&gt;&gt; All right great job, Justin.\n\n407\n00:24:28.970 --> 00:24:33.860\nAs always, I look forward to seeing\nthe next iteration of Tackers here.\n\n408\n00:24:33.860 --> 00:24:37.570\nKeep in mind that we've got plenty of\ngreat content in the DevPro library as\n\n409\n00:24:37.570 --> 00:24:39.850\nwell as this episode and more.\n\n410\n00:24:39.850 --> 00:24:41.800\nHTML5 Canvas Projects.\n\n411\n00:24:41.800 --> 00:24:45.500\nTill we see you again, signing out for\nDevPro.TV, I've been your host, Wes Bryan.\n\n412\n00:24:45.500 --> 00:24:46.250\n&gt;&gt; And I'm Justin Dennison.\n\n413\n00:24:46.250 --> 00:24:48.080\n&gt;&gt; And we'll see you next time.\n\n414\n00:24:48.080 --> 00:24:53.507\n[MUSIC]\n\n",
          "vimeoId": "236472876"
        },
        {
          "description": "In this episode, Justin creates a simple attacker. He demonstrates creating the data representation, how the attacker will move, as well as rendering the attacker to the game screen.",
          "length": "1544",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-3-1-creating_a_basic_attacker-092917-PGM.00_25_32_16.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-3-1-creating_a_basic_attacker-092917-PGM.00_25_32_16.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-3-1-creating_a_basic_attacker-092917-PGM.00_25_32_16.Still001-sm.jpg",
          "title": "Creating a Basic Attacker",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.315 --> 00:00:14.725\nHello, and thank you for\nchoosing DevProTV,\n\n3\n00:00:14.725 --> 00:00:16.589\nhelping you learn wherever you go.\n\n4\n00:00:16.589 --> 00:00:17.831\nI'm your host, Zach Memos.\n\n5\n00:00:17.831 --> 00:00:22.264\nAnd this is HTML5 Canvas Projects,\nCreating A Basic Attacker,\n\n6\n00:00:22.264 --> 00:00:24.043\nthe name of this episode.\n\n7\n00:00:24.043 --> 00:00:28.451\nJustin Dennison, our IT DevPro\nexpert is here to show us the way.\n\n8\n00:00:28.451 --> 00:00:29.938\nSir, glad to have you here.\n\n9\n00:00:29.938 --> 00:00:33.247\n&gt;&gt; I feel like I should have\na cohort of wizards, and angels, and\n\n10\n00:00:33.247 --> 00:00:35.460\nstuff the way we're showing the way.\n\n11\n00:00:35.460 --> 00:00:37.073\nI'm like, let's go,\nwe're going on a journey.\n\n12\n00:00:37.073 --> 00:00:38.791\n&gt;&gt; You got the flashlight\nof truth with you.\n\n13\n00:00:38.791 --> 00:00:39.871\n&gt;&gt; I do, I do.\n\n14\n00:00:39.871 --> 00:00:41.172\nAnd how are you today, Zach?\n\n15\n00:00:41.172 --> 00:00:42.600\n&gt;&gt; I'm great and I'm excited.\n\n16\n00:00:42.600 --> 00:00:45.421\nAnd I know that in the previous\nepisode we created what?\n\n17\n00:00:45.421 --> 00:00:46.709\nWe created the fighter, right?\n\n18\n00:00:46.709 --> 00:00:47.465\n&gt;&gt; We did.\n\n19\n00:00:47.465 --> 00:00:50.192\n&gt;&gt; So now it's time to create\nthe attacker, so let's do that.\n\n20\n00:00:50.192 --> 00:00:52.851\n&gt;&gt; Well, so\nwe do need to create the attacker.\n\n21\n00:00:52.851 --> 00:00:55.490\nBecause well, without an attacker,\n\n22\n00:00:55.490 --> 00:00:59.782\nthe fighter doesn't really have\nany impetus on being there.\n\n23\n00:00:59.782 --> 00:01:03.463\nIf you don't have someone to fight,\nthere's no point in fighting, right?\n\n24\n00:01:03.463 --> 00:01:04.624\n&gt;&gt; You have no give and take.\n\n25\n00:01:04.624 --> 00:01:07.306\nSo what do we need to do to\ncreate the attacker, Justin?\n\n26\n00:01:07.306 --> 00:01:12.100\n&gt;&gt; So in order to create the attacker, we\nneed to create the essential data, right?\n\n27\n00:01:12.100 --> 00:01:14.632\nThe data [INAUDIBLE], it's gonna be held\nin memory that represents an attacker.\n\n28\n00:01:14.632 --> 00:01:18.013\nNow I know some of you are like,\nwell, in our plannings episode,\n\n29\n00:01:18.013 --> 00:01:22.028\na couple episodes back, you actually\nsaid there's gonna be a bunch of them.\n\n30\n00:01:22.028 --> 00:01:25.487\nAll right, I did, full disclosure.\n\n31\n00:01:25.487 --> 00:01:28.585\nI always, when I'm thinking\nabout a bunch of something,\n\n32\n00:01:28.585 --> 00:01:31.699\nI wanna make sure that one works-\n&gt;&gt; Well, that makes sense.\n\n33\n00:01:31.699 --> 00:01:35.421\n&gt;&gt; Before I actually try to do a bunch of\nthem, because if I have a bunch of them,\n\n34\n00:01:35.421 --> 00:01:39.221\nand there's something wrong with each\nof them, then it's harder to debug.\n\n35\n00:01:39.221 --> 00:01:43.469\nBut if I can get one of them working\nas I kind of expect it to, okay,\n\n36\n00:01:43.469 --> 00:01:47.071\nnow just making a bunch of them\nincludes building an array.\n\n37\n00:01:47.071 --> 00:01:49.137\n&gt;&gt; Otherwise it looks like\na bunch of angry amoebas.\n\n38\n00:01:49.137 --> 00:01:50.333\n&gt;&gt; Yeah, [SOUND].\n\n39\n00:01:50.333 --> 00:01:52.400\n&gt;&gt; [SOUND]\n&gt;&gt; [LAUGH]\n\n40\n00:01:52.400 --> 00:01:53.723\n&gt;&gt; That's not what we want.\n\n41\n00:01:53.723 --> 00:01:56.927\nWe don't want a lot of jittering,\nand we want ease of debugging.\n\n42\n00:01:56.927 --> 00:02:01.360\nBut we also wanna keep moving toward our\ngoal, right, in small, incremental steps.\n\n43\n00:02:01.360 --> 00:02:04.480\nAnd well, I think there's no\nbetter than now to go ahead and\n\n44\n00:02:04.480 --> 00:02:05.690\nstart building that attacker.\n\n45\n00:02:05.690 --> 00:02:06.890\nSo let's take a look at my screen here.\n\n46\n00:02:06.890 --> 00:02:09.350\nJust a quick review of where we left off.\n\n47\n00:02:09.350 --> 00:02:15.229\nWe didn't even really have animation, so\nto speak, other than on keydown, right?\n\n48\n00:02:15.229 --> 00:02:18.372\nSo when I hit that left and\nright arrow key, my fighter moves, and\n\n49\n00:02:18.372 --> 00:02:20.410\nthen we clear the screen and re-render.\n\n50\n00:02:20.410 --> 00:02:22.230\nAgain, that was great for testing.\n\n51\n00:02:22.230 --> 00:02:25.810\nIt's not necessarily something\nthat we probably wanna keep\n\n52\n00:02:25.810 --> 00:02:29.600\nin order to get this to work out,\nbut that's all right.\n\n53\n00:02:29.600 --> 00:02:32.080\nSo we have our fighter, and\nour fighter can be placed.\n\n54\n00:02:32.080 --> 00:02:35.511\nAnd right now, I'm not worried so\nmuch about the placement in the game,\n\n55\n00:02:35.511 --> 00:02:37.885\nbecause we'll just get\nsomething on the screen.\n\n56\n00:02:37.885 --> 00:02:41.762\nWe'll get it to work, and then we'll\nworry about placement as we get closer.\n\n57\n00:02:41.762 --> 00:02:44.347\nBecause there is some math that we'll\nprobably have to do in order to get\n\n58\n00:02:44.347 --> 00:02:45.890\nthe placement to work.\n\n59\n00:02:45.890 --> 00:02:48.010\nAll right, so let's see here.\n\n60\n00:02:49.410 --> 00:02:52.110\nIf we look at the attacker,\nwhat do we need?\n\n61\n00:02:52.110 --> 00:02:56.171\nIf we come over here and we plan a little\nbit, and let me zoom in just a touch,\n\n62\n00:02:56.171 --> 00:02:56.894\nthere we go.\n\n63\n00:02:56.894 --> 00:02:58.636\nSo that's what we have.\n\n64\n00:02:58.636 --> 00:03:03.007\nI'm thinking an attacker could\njust more or less be a square,\n\n65\n00:03:03.007 --> 00:03:06.706\nmaybe a rectangular object\nthat is placed here, and\n\n66\n00:03:06.706 --> 00:03:11.102\ncan move under this back and\nforth nature, and hits the edge.\n\n67\n00:03:11.102 --> 00:03:13.000\nAll right, so we need the ability to move.\n\n68\n00:03:13.000 --> 00:03:14.200\nWe need the ability to render.\n\n69\n00:03:14.200 --> 00:03:18.336\nBut we also need in order to render and\nmove, we need position,\n\n70\n00:03:18.336 --> 00:03:21.140\nright, an x and y position.\n\n71\n00:03:21.140 --> 00:03:23.399\nWe also need a width and a height, right?\n\n72\n00:03:23.399 --> 00:03:26.475\nLet's keep that consistent, cuz I think\nthat'll be easier to reason about.\n\n73\n00:03:26.475 --> 00:03:30.492\nAnd then we need the ability\nto actual render using those.\n\n74\n00:03:30.492 --> 00:03:33.094\nSo let's build our attacker class.\n\n75\n00:03:33.094 --> 00:03:36.796\nNow again, just to reiterate,\nclass is supported in newer browsers.\n\n76\n00:03:36.796 --> 00:03:39.690\nThis is a new addition to JavaScript.\n\n77\n00:03:39.690 --> 00:03:42.070\nThis is just a wrapper\naround prototype functions.\n\n78\n00:03:42.070 --> 00:03:44.460\nIf you have no idea what I'm talking\nabout, definitely check out our library.\n\n79\n00:03:44.460 --> 00:03:48.570\nAnd including that, the previous episode\nwhere I talk a little bit about that.\n\n80\n00:03:48.570 --> 00:03:52.939\nBut if you wanna know about the prototype,\nchain, and constructor functions, well,\n\n81\n00:03:52.939 --> 00:03:56.436\nI have several videos in the library\ntalking exclusively about that.\n\n82\n00:03:56.436 --> 00:03:58.155\n&gt;&gt; And well worth watching, absolutely.\n\n83\n00:03:58.155 --> 00:04:03.926\n&gt;&gt; This is just a wrapper around that\nthat provides a class based construct.\n\n84\n00:04:03.926 --> 00:04:07.044\nSo we'll go with that,\nand if I do see fit,\n\n85\n00:04:07.044 --> 00:04:12.344\nmaybe I'll show you the two versions\nat a later time, once we're done.\n\n86\n00:04:12.344 --> 00:04:14.503\nSo let's create an Attacker object here.\n\n87\n00:04:14.503 --> 00:04:19.110\nAnd actually, this is the class that\nrepresents the Attacker object.\n\n88\n00:04:19.110 --> 00:04:20.750\nNow in these classes, for\n\n89\n00:04:20.750 --> 00:04:23.350\nthe most part we're always\ngonna wanna have a constructor.\n\n90\n00:04:23.350 --> 00:04:24.833\nBecause how do we make an Attacker?\n\n91\n00:04:24.833 --> 00:04:27.515\nWhen we call the new keyword,\nhow is that going to work?\n\n92\n00:04:27.515 --> 00:04:33.710\nWell, I need an x and a y, and I think\nthat's all we're gonna need for now.\n\n93\n00:04:33.710 --> 00:04:40.980\nWe may tweak that, and I'm going\nto say this.x = x, and this.y = y.\n\n94\n00:04:40.980 --> 00:04:46.511\nAnd this.height =, let's go with 30,\n\n95\n00:04:46.511 --> 00:04:49.804\nand this.width = 30.\n\n96\n00:04:49.804 --> 00:04:53.680\nOkay, so there's our width and our height.\n\n97\n00:04:53.680 --> 00:04:56.370\nAnd let's just make sure that\nwe can create an attacker,\n\n98\n00:04:56.370 --> 00:04:57.710\nthat we don't have any syntax errors here.\n\n99\n00:04:57.710 --> 00:05:01.934\nSo I'm gonna come down here and\nright after the fighter,\n\n100\n00:05:01.934 --> 00:05:05.642\nI'm going to say const\nattacker = new Attacker.\n\n101\n00:05:05.642 --> 00:05:12.915\nAnd let's place this right\nin the middle of the screen,\n\n102\n00:05:12.915 --> 00:05:19.434\nso screen.width / 2 and screen.height / 2.\n\n103\n00:05:19.434 --> 00:05:25.350\nNow do keep in mind, I usually use\nthe word canvas and CTX for the context.\n\n104\n00:05:25.350 --> 00:05:27.900\nI'll change those up a little\nbit just to reinforce it.\n\n105\n00:05:27.900 --> 00:05:29.813\nThere's nothing special\nabout those variable names.\n\n106\n00:05:29.813 --> 00:05:34.977\nAnd more aptly what we're seeing is kind\nof like an old arcade screen, right,\n\n107\n00:05:34.977 --> 00:05:40.000\nthe screen that you're looking at\nwhile you're controlling your player.\n\n108\n00:05:40.000 --> 00:05:42.240\nSo we'll go with that.\n\n109\n00:05:43.920 --> 00:05:45.671\nSo if we come over here and we render.\n\n110\n00:05:45.671 --> 00:05:50.450\nAnd we should have access because I have\nall of this in global namespace right now.\n\n111\n00:05:50.450 --> 00:05:51.655\nThere's our attacker.\n\n112\n00:05:51.655 --> 00:05:56.060\nWe have an attacker with a height,\nand a width, and a position.\n\n113\n00:05:56.060 --> 00:05:57.539\nOkay, that's what we want.\n\n114\n00:05:57.539 --> 00:06:03.635\nAll right,\nnow we need to get it on the screen.\n\n115\n00:06:03.635 --> 00:06:06.317\nHow do we render the attacker?\n\n116\n00:06:06.317 --> 00:06:08.546\nWell, we should have a render method.\n\n117\n00:06:08.546 --> 00:06:13.403\nNow again, just to reiterate, we've\nseen people call this draw or show or,\n\n118\n00:06:13.403 --> 00:06:16.858\nI like to call it render,\nbecause it makes sense to me.\n\n119\n00:06:16.858 --> 00:06:17.718\n&gt;&gt; It does.\n\n120\n00:06:17.718 --> 00:06:19.262\n&gt;&gt; And we've gotta keep it consistent,\nright?\n\n121\n00:06:19.262 --> 00:06:20.529\nIt is rendering to the screen.\n\n122\n00:06:20.529 --> 00:06:22.781\nNow that might be because\nof my technical background.\n\n123\n00:06:22.781 --> 00:06:26.437\nYou could call it draw or whatever you\nwanted to, you could call it chiseling.\n\n124\n00:06:26.437 --> 00:06:27.482\n&gt;&gt; You can call it flubber.\n\n125\n00:06:27.482 --> 00:06:29.467\n&gt;&gt; You could call it flubber, I mean,\n\n126\n00:06:29.467 --> 00:06:34.112\nthat would be a horrible method name that\nwas not really semantically meaningful.\n\n127\n00:06:34.112 --> 00:06:36.457\nMight not be understood\nin the command line.\n\n128\n00:06:36.457 --> 00:06:40.521\nRight, I come back and\nlook at Zach's code three days later.\n\n129\n00:06:40.521 --> 00:06:43.459\nI'm like, Zach,\nI'm not sure what any of this does.\n\n130\n00:06:43.459 --> 00:06:48.060\nSo that's okay, right,\nthat's part of the learning process.\n\n131\n00:06:48.060 --> 00:06:49.710\nI tend to be very straightforward.\n\n132\n00:06:49.710 --> 00:06:53.410\nSo let's come in and render, and\nthat's gonna take a context.\n\n133\n00:06:53.410 --> 00:06:58.120\nAnd let's just keep this consistent,\nso I will say context.\n\n134\n00:06:58.120 --> 00:06:59.716\nAnd then, as always,\n\n135\n00:06:59.716 --> 00:07:05.264\nit's not necessarily always the case\nthat I need to do ctx.restore and save.\n\n136\n00:07:05.264 --> 00:07:10.429\nBut it kind of safeguards me against\naccidentally changing colors or\n\n137\n00:07:10.429 --> 00:07:13.286\npatterns, or maybe even font sizes.\n\n138\n00:07:13.286 --> 00:07:16.781\nWell, we want to keep this consistent.\n\n139\n00:07:16.781 --> 00:07:18.615\nSo what am I gonna do?\n\n140\n00:07:18.615 --> 00:07:23.431\nI'm going to fillRect with this.x, this.y,\n\n141\n00:07:23.431 --> 00:07:28.482\nthis.width, apparently,\nI can't type today,\n\n142\n00:07:28.482 --> 00:07:31.897\nand this.height, just like so.\n\n143\n00:07:31.897 --> 00:07:36.794\nOkay, we will not actually see anything\nuntil I render the attacker to\n\n144\n00:07:36.794 --> 00:07:38.210\nthe screen render.\n\n145\n00:07:38.210 --> 00:07:41.063\nSo attacker.render.\n\n146\n00:07:43.839 --> 00:07:44.895\nThere we go.\n\n147\n00:07:44.895 --> 00:07:50.578\nSo refresh, uh-oh, CTX is, and\nI did the same thing again.\n\n148\n00:07:50.578 --> 00:07:54.191\nIt's amazing what muscle memory will do.\n\n149\n00:07:54.191 --> 00:07:55.800\nYou're always used to typing CTX, and\n\n150\n00:07:55.800 --> 00:07:59.334\nsome of you are probably screaming at the\nscreen going, that's not right, Justin.\n\n151\n00:07:59.334 --> 00:08:04.077\nBut let's use the full context,\nand boom, there's our attacker.\n\n152\n00:08:04.077 --> 00:08:05.888\nIt is on the screen.\n\n153\n00:08:05.888 --> 00:08:08.969\nThere is one thing we\nnoticed about the fighter\n\n154\n00:08:08.969 --> 00:08:14.270\nthat I noticed about the attacker\nby default they're kinda all black.\n\n155\n00:08:14.270 --> 00:08:20.500\nSo we should probably go ahead and\nchange colors, add a color field.\n\n156\n00:08:20.500 --> 00:08:25.401\nSo, let's say this.color and I want that\nto maybe we have have different types of\n\n157\n00:08:25.401 --> 00:08:29.166\nattackers, so I wanna make this\nsomething that we can put in but\n\n158\n00:08:29.166 --> 00:08:32.560\nalso have a default backup\nvery similar to the fighter.\n\n159\n00:08:32.560 --> 00:08:38.890\nSo I'm gonna say default argument\ncolor = I think let's go with yellow.\n\n160\n00:08:38.890 --> 00:08:41.520\nYes something crazy, yellow.\n\n161\n00:08:41.520 --> 00:08:42.480\n&gt;&gt; Easier to track.\n\n162\n00:08:42.480 --> 00:08:43.191\n&gt;&gt; Yeah.\nAnd\n\n163\n00:08:43.191 --> 00:08:49.520\nthen context.fillStyle =\nthis.color; there we go.\n\n164\n00:08:49.520 --> 00:08:51.500\nAnd boom, there's our yellow attacker.\n\n165\n00:08:51.500 --> 00:08:56.040\nSo we can actually see those, Zack,\nthere you have it, I've made an attacker,\n\n166\n00:08:56.040 --> 00:08:57.080\nit's on the screen.\n\n167\n00:08:58.160 --> 00:08:59.540\nBut it does look like you have a question.\n\n168\n00:08:59.540 --> 00:09:01.860\n&gt;&gt; Well I do.\nIt seems like the fighter and\n\n169\n00:09:01.860 --> 00:09:03.750\nthe attacker are using similar code.\n\n170\n00:09:03.750 --> 00:09:05.600\nIs it possible we could use that?\n\n171\n00:09:05.600 --> 00:09:07.520\n&gt;&gt; Yeah, you're on to something.\n\n172\n00:09:07.520 --> 00:09:11.970\nZack's been with me for a while now and is\nstarting to pick up on these small things.\n\n173\n00:09:11.970 --> 00:09:14.500\nIf we look through the fighter and\nthe attacker code,\n\n174\n00:09:14.500 --> 00:09:18.630\nour constructor, and our constructor,\nthey are almost identical.\n\n175\n00:09:18.630 --> 00:09:20.740\n&gt;&gt; They are.\n&gt;&gt; Other than the width and\n\n176\n00:09:20.740 --> 00:09:21.365\nthe height, right?\n\n177\n00:09:21.365 --> 00:09:22.830\n&gt;&gt; Mm-hm.\n&gt;&gt; The width and the height are a little\n\n178\n00:09:22.830 --> 00:09:24.970\nbit different cuz I want relative\nproportions to be different.\n\n179\n00:09:26.030 --> 00:09:27.620\nBut they're almost the same.\n\n180\n00:09:29.000 --> 00:09:34.170\nLikewise, the render function\nis exactly the same.\n\n181\n00:09:34.170 --> 00:09:37.690\nSo your kinda first-gut reaction,\nyou're like, well, that,\n\n182\n00:09:37.690 --> 00:09:42.450\nwe could probably pull that up into\na superclass, maybe call it entity, right?\n\n183\n00:09:42.450 --> 00:09:43.170\n&gt;&gt; Or Flubber.\n\n184\n00:09:43.170 --> 00:09:45.010\n&gt;&gt; Or Flubber, don't call it Flubber.\n\n185\n00:09:45.010 --> 00:09:45.630\n&gt;&gt; Don't, no, no.\n\n186\n00:09:45.630 --> 00:09:46.385\n&gt;&gt; No, don't call it Flubber.\n\n187\n00:09:46.385 --> 00:09:48.090\n&gt;&gt; [LAUGH]\n&gt;&gt; Maybe call it entity of something\n\n188\n00:09:48.090 --> 00:09:51.940\nthat's gonna be rendered onto the game\nboard and constructed and rendered.\n\n189\n00:09:51.940 --> 00:09:57.890\nAnd then attacker and fighter could\nextends that or inherit from that.\n\n190\n00:09:57.890 --> 00:10:01.025\nRight, we could use what's known\nas a class base inheritance.\n\n191\n00:10:01.025 --> 00:10:01.950\n&gt;&gt; Mm-hm.\n\n192\n00:10:01.950 --> 00:10:04.850\n&gt;&gt; I caution against that at this point.\n\n193\n00:10:04.850 --> 00:10:09.770\nMainly because we don't have a full\nimplementation for either one, and\n\n194\n00:10:09.770 --> 00:10:11.740\nwe may find that we have\nto make additional changes.\n\n195\n00:10:11.740 --> 00:10:16.653\nSo this kind of premature abstraction\ncan sometimes lead you down to\n\n196\n00:10:16.653 --> 00:10:18.040\nthis road really.\n\n197\n00:10:18.040 --> 00:10:22.143\nWell now, if you're a whole lot better\nplanner or if you've been doing this for\n\n198\n00:10:22.143 --> 00:10:24.103\nawhile that might not be the case, but\n\n199\n00:10:24.103 --> 00:10:26.690\nI would forewarn you,\nlet those things fall out.\n\n200\n00:10:26.690 --> 00:10:30.440\nNow, when we're done with the game, if\nwe find out that those are still exactly\n\n201\n00:10:30.440 --> 00:10:32.920\nthe same,\nwe will probably do just exactly that.\n\n202\n00:10:32.920 --> 00:10:35.100\nWe'll pull that, rearrange and\n\n203\n00:10:35.100 --> 00:10:38.970\ndo it super class probably called\nentity or something of that nature.\n\n204\n00:10:40.000 --> 00:10:43.430\nAnd then extend attacker and fighter and\nthen only implement the methods for\n\n205\n00:10:43.430 --> 00:10:45.260\nthe respective classes that are needed.\n\n206\n00:10:45.260 --> 00:10:49.520\nBut, for now, we'll just leave it be,\nbut, good eye, Zack.\n\n207\n00:10:49.520 --> 00:10:52.230\nI do have another question for\nyou, though.\n\n208\n00:10:52.230 --> 00:10:54.550\nIf you were to play this game,\nright, I can move.\n\n209\n00:10:55.580 --> 00:11:01.980\nIf you were to play this game,\nwhat would you say?\n\n210\n00:11:01.980 --> 00:11:06.650\nWould this sit okay with you, or\nwould this be a playable game or what?\n\n211\n00:11:06.650 --> 00:11:09.880\n&gt;&gt; It's as if the attacker\nis not moving really.\n\n212\n00:11:09.880 --> 00:11:10.520\nIt isn't moving.\n\n213\n00:11:10.520 --> 00:11:14.590\nSo is that something\nthat we can get moving?\n\n214\n00:11:14.590 --> 00:11:16.190\nHow do we make it mobile?\n\n215\n00:11:16.190 --> 00:11:17.480\n&gt;&gt; We need to make it mobile.\n\n216\n00:11:17.480 --> 00:11:19.920\nAnd also to some extent it went invisible.\n\n217\n00:11:19.920 --> 00:11:20.790\n&gt;&gt; It did, right there.\n\n218\n00:11:20.790 --> 00:11:21.790\n&gt;&gt; Right, so.\n\n219\n00:11:21.790 --> 00:11:23.050\n&gt;&gt; It's hiding from me.\n\n220\n00:11:23.050 --> 00:11:23.890\n&gt;&gt; He doesn't like me.\n\n221\n00:11:23.890 --> 00:11:25.250\n&gt;&gt; Why did it get invisible?\n\n222\n00:11:27.780 --> 00:11:32.270\nWell that's because I clear the rect\nevery time I hit the key down, and\n\n223\n00:11:32.270 --> 00:11:33.650\nevery time I clear the rect and\n\n224\n00:11:33.650 --> 00:11:37.470\nhit the key down it removes\neverything that is not re-rendered.\n\n225\n00:11:37.470 --> 00:11:41.190\nThat's why I aforementioned\nearlier on the episode,\n\n226\n00:11:41.190 --> 00:11:44.410\nthis might not be the best place\nto put this kind of render right?\n\n227\n00:11:45.800 --> 00:11:50.650\nSo, We're gonna fix that.\n\n228\n00:11:50.650 --> 00:11:52.750\nBut the attacker should move.\n\n229\n00:11:52.750 --> 00:11:53.990\nBut which one do we do first?\n\n230\n00:11:53.990 --> 00:11:57.290\nDo we fix the render, or\ndo we fix the movement, or?\n\n231\n00:11:58.570 --> 00:12:01.850\nWell, it's kinda whichever\none you choose to do.\n\n232\n00:12:01.850 --> 00:12:03.020\nLet's do this.\n\n233\n00:12:03.020 --> 00:12:06.084\nLet's create a function, called render.\n\n234\n00:12:09.166 --> 00:12:10.470\nJust like so.\n\n235\n00:12:10.470 --> 00:12:13.085\nLet's call a function called update.\n\n236\n00:12:17.117 --> 00:12:22.015\nLike so, and let's create a main function\nthat is actually going to be kind\n\n237\n00:12:22.015 --> 00:12:25.457\nof our main game loop,\nwhat's going on in the game.\n\n238\n00:12:25.457 --> 00:12:31.101\nFor render, what I'm thinking is instead\nof having like fighter.render and,\n\n239\n00:12:31.101 --> 00:12:33.560\nlet's just make sure this works.\n\n240\n00:12:33.560 --> 00:12:37.710\nLet's pull this out and put it inside\nof render and keep this consistent and\n\n241\n00:12:37.710 --> 00:12:44.040\nsay render but now we need to render\nthe attacker as well, just like so.\n\n242\n00:12:44.040 --> 00:12:49.120\nAnd then we can remove this and\ncall render here.\n\n243\n00:12:49.120 --> 00:12:52.440\nNow this is just kind of a transitional\nperiod though, these small steps.\n\n244\n00:12:52.440 --> 00:12:55.120\nSo we make sure we don't break\nanything and render here.\n\n245\n00:12:55.120 --> 00:12:59.675\nAll right, so now we've kind of\nalleviated the fact that the attacker\n\n246\n00:12:59.675 --> 00:13:04.510\ndoesn't disappear, right,\nbut it's still not moving.\n\n247\n00:13:04.510 --> 00:13:12.200\nOkay, so I don't think that rendering\nthere would be the best thing.\n\n248\n00:13:12.200 --> 00:13:16.980\nI think really all we should\ndo is move the fighter and\n\n249\n00:13:16.980 --> 00:13:21.080\nthen let the rendering\noccur somewhere else, okay.\n\n250\n00:13:21.080 --> 00:13:26.480\nLet the rendering be handled by like our\nanimation gain loop or animation and\n\n251\n00:13:26.480 --> 00:13:32.760\nthis main could more aptly\nbe called animate, right?\n\n252\n00:13:32.760 --> 00:13:35.130\nBut I like to think of it\nas the main game loop.\n\n253\n00:13:36.670 --> 00:13:40.310\nNow the main game loop,\nwhat is it going to do?\n\n254\n00:13:40.310 --> 00:13:42.790\nIt's going to update, and\nthen it's going to render.\n\n255\n00:13:44.730 --> 00:13:50.532\nAnd likewise it's going to make sure,\nThat we get ready for\n\n256\n00:13:50.532 --> 00:13:54.879\nthe next paint, right, the next time\nwe're ready to update and render, right,\n\n257\n00:13:54.879 --> 00:13:56.653\nupdate render, update render.\n\n258\n00:13:56.653 --> 00:14:00.847\nNow I've pulled these out into functions\njust because the main gang loop a lot of\n\n259\n00:14:00.847 --> 00:14:02.047\ntimes is very simple.\n\n260\n00:14:02.047 --> 00:14:05.596\nAnd we don't have to have a lot of logic\nwith the fighter because that's handled by\n\n261\n00:14:05.596 --> 00:14:07.210\nan event listener.\n\n262\n00:14:07.210 --> 00:14:10.060\nThat will mutate the fighter and\nthen, that's fine.\n\n263\n00:14:11.670 --> 00:14:18.850\nLet's go see if we say main just like so,\nand then boom, everything stills\n\n264\n00:14:18.850 --> 00:14:23.630\nworks exactly the same except now we're\ngetting main call of a bunch of times.\n\n265\n00:14:23.630 --> 00:14:25.610\nHopefully up to about\n60 frames per second.\n\n266\n00:14:27.030 --> 00:14:29.071\nNow these are fairly simplistic games so\n\n267\n00:14:29.071 --> 00:14:33.283\nyou don' have to worry about crazy physics\nor things like that, for the most part.\n\n268\n00:14:33.283 --> 00:14:35.480\n&gt;&gt; Justin did our attacker change shape?\n\n269\n00:14:35.480 --> 00:14:36.569\n&gt;&gt; I don't know if it did,\n\n270\n00:14:36.569 --> 00:14:39.524\nI think it might be just some\nzoomed stuff there that so.\n\n271\n00:14:39.524 --> 00:14:40.783\n&gt;&gt; Okay.\n\n272\n00:14:40.783 --> 00:14:42.420\n&gt;&gt; Well, we'll make sure.\n\n273\n00:14:42.420 --> 00:14:43.452\nWe'll make sure, later.\n\n274\n00:14:43.452 --> 00:14:48.120\nAll right, so now that we kind\nof have that squared away,\n\n275\n00:14:48.120 --> 00:14:51.300\nthis update function, all right?\n\n276\n00:14:51.300 --> 00:14:54.180\nNotice that render is\ndefined above attacker.\n\n277\n00:14:54.180 --> 00:14:58.050\nActually, let's move these so\nthey're in a more logical order.\n\n278\n00:14:58.050 --> 00:15:00.520\nLet's put them right here.\n\n279\n00:15:00.520 --> 00:15:03.199\nActually we should\nprobably put them up here,\n\n280\n00:15:03.199 --> 00:15:05.747\nbecause these are going to be constructed.\n\n281\n00:15:05.747 --> 00:15:09.156\nAnd then we're going to register event\nlisteners and then we're going to create\n\n282\n00:15:09.156 --> 00:15:13.030\na render and an update and a main, and\ncall main and that kicks off the process.\n\n283\n00:15:13.030 --> 00:15:13.776\nWhat about update?\n\n284\n00:15:13.776 --> 00:15:20.960\nWell I think update is going to be\nbest for things that are automated.\n\n285\n00:15:20.960 --> 00:15:24.210\nAnd the movement of an attacker\nis automated by nature.\n\n286\n00:15:25.650 --> 00:15:32.872\nIt's not looking for me to hit buttons,\nwhat it should do is [SOUND].\n\n287\n00:15:32.872 --> 00:15:33.576\nJust like that.\n\n288\n00:15:33.576 --> 00:15:34.824\n&gt;&gt; And it will make doot-doot-doot noise.\n\n289\n00:15:34.824 --> 00:15:35.990\n&gt;&gt; Well, that would be cool.\n\n290\n00:15:35.990 --> 00:15:39.369\nMaybe we'll add that ain a later episode,\nbut for now let's get it moving.\n\n291\n00:15:39.369 --> 00:15:40.927\n&gt;&gt; Sound card.\n\n292\n00:15:40.927 --> 00:15:46.340\n&gt;&gt; So in order to move in an automated\nfashion, what do we need?\n\n293\n00:15:46.340 --> 00:15:51.224\nWell, if it's going to move right and\nleft and right, and left, and\n\n294\n00:15:51.224 --> 00:15:52.835\nis moving up and down.\n\n295\n00:15:52.835 --> 00:15:56.502\nAnd actually it's moving down, let's just\nworry about the right and left first.\n\n296\n00:15:56.502 --> 00:16:02.090\nOkay, so right and left,\n\n297\n00:16:02.090 --> 00:16:07.430\nlet's say that we have.\n\n298\n00:16:07.430 --> 00:16:11.072\nLet's call this attacker.update.\n\n299\n00:16:11.072 --> 00:16:15.230\nSo the update function actually\nruns update on automated things.\n\n300\n00:16:15.230 --> 00:16:17.100\n&gt;&gt; Cool.\n&gt;&gt; So what does update do?\n\n301\n00:16:19.504 --> 00:16:23.170\nWell, let's see here.\n\n302\n00:16:23.170 --> 00:16:24.390\nUpdate on the attacker.\n\n303\n00:16:26.434 --> 00:16:31.318\nShould just move it by some amount,\nbut in order to move it we need,\n\n304\n00:16:31.318 --> 00:16:35.930\nhow much is it going to move by\nper frame kind of tick, right?\n\n305\n00:16:35.930 --> 00:16:37.253\nPer frame.\n\n306\n00:16:37.253 --> 00:16:42.260\nI'm gonna call this dx and let's just\nstart at one to make sure that it works.\n\n307\n00:16:43.590 --> 00:16:48.240\nAnd to some extent, this is the velocity\nof the attacker, so modifying it should,\n\n308\n00:16:48.240 --> 00:16:50.030\nin theory, change that.\n\n309\n00:16:50.030 --> 00:16:56.054\nAnd all I'm gonna say is\nthis.x += this.dx, okay.\n\n310\n00:16:57.710 --> 00:17:00.493\nSo this .dx is one, and\nwe're calling update, and\n\n311\n00:17:00.493 --> 00:17:02.335\nwe're zooming out on the window.\n\n312\n00:17:02.335 --> 00:17:06.139\nAnd then, we're calling update\na bunch of times inside of main,\n\n313\n00:17:06.139 --> 00:17:08.180\nwhich is just attacker.update.\n\n314\n00:17:08.180 --> 00:17:10.230\nLet's see if that, and hey.\n\n315\n00:17:10.230 --> 00:17:10.930\n&gt;&gt; Hey.\n\n316\n00:17:10.930 --> 00:17:14.580\n&gt;&gt; We got our attacker moving,\nand it's moving.\n\n317\n00:17:14.580 --> 00:17:16.000\nIt's out of.\n\n318\n00:17:16.000 --> 00:17:17.140\n&gt;&gt; Onto infinity.\n\n319\n00:17:17.140 --> 00:17:18.550\n&gt;&gt; Whoops.\n&gt;&gt; And beyond.\n\n320\n00:17:18.550 --> 00:17:19.450\n&gt;&gt; Whoopsie daisy.\n\n321\n00:17:21.860 --> 00:17:23.700\nSo there's a couple of\nways we could do this.\n\n322\n00:17:23.700 --> 00:17:25.760\nI think the first way,\nbefore we worry about it,\n\n323\n00:17:25.760 --> 00:17:30.000\nis just getting it working,\nis to put that inside of the update.\n\n324\n00:17:30.000 --> 00:17:31.540\nBecause the update,\n\n325\n00:17:32.930 --> 00:17:36.880\nit really should update only if\nthere's not a condition met.\n\n326\n00:17:36.880 --> 00:17:41.580\nNamely as long as it doesn't hit\nthe edge of the screen, right?\n\n327\n00:17:41.580 --> 00:17:46.065\nSo If attacker.hitsEdge, and\n\n328\n00:17:46.065 --> 00:17:51.378\nI'm gonna pass in the screen that hits\n\n329\n00:17:51.378 --> 00:17:56.370\nthe edge of the screen then do what.\n\n330\n00:17:57.500 --> 00:18:01.660\nOtherwise, here we go.\n\n331\n00:18:01.660 --> 00:18:03.550\nI think this is a little\nbit of logic here.\n\n332\n00:18:05.060 --> 00:18:07.725\nIf it hits the edge of the screen,\ndo this, which is currently nothing,\n\n333\n00:18:07.725 --> 00:18:08.787\notherwise update, right?\n\n334\n00:18:08.787 --> 00:18:13.697\nOr move, maybe this update\nshould probably be more aptly\n\n335\n00:18:13.697 --> 00:18:17.082\nnamed moved to keep some consistency.\n\n336\n00:18:17.082 --> 00:18:19.310\nI think I'm going to go with that.\n\n337\n00:18:20.370 --> 00:18:26.290\nLet's say move, and\nthat way it makes a little more sense.\n\n338\n00:18:26.290 --> 00:18:26.800\nWhat is update?\n\n339\n00:18:26.800 --> 00:18:28.120\nIt could be updating a lot of things.\n\n340\n00:18:28.120 --> 00:18:31.100\nBut now we know that it's moving.\n\n341\n00:18:31.100 --> 00:18:33.890\nAnd we're gonna assume that\nmoving is left and right.\n\n342\n00:18:35.920 --> 00:18:39.380\nOkay, so now the attacker hits the edge.\n\n343\n00:18:39.380 --> 00:18:40.780\nWhat do we want it to do?\n\n344\n00:18:40.780 --> 00:18:45.473\nWell, I'm thinking we wanted\nto kinda drop down, right?\n\n345\n00:18:45.473 --> 00:18:52.390\nSo attacker.dropDown.\n\n346\n00:18:52.390 --> 00:18:58.144\nThis method doesn't exist, if we get back\nand we try this, all kinds of errors.\n\n347\n00:18:58.144 --> 00:19:00.800\n&gt;&gt; [LAUGH]\n&gt;&gt; As a matter of fact, hit edge.\n\n348\n00:19:00.800 --> 00:19:02.395\nLet's actually say hits edge.\n\n349\n00:19:02.395 --> 00:19:05.530\nHits edge and drop down both\ndon't exist on the attacker.\n\n350\n00:19:05.530 --> 00:19:14.700\nAnd if I go and add those, hitsEdge and\nwe'll say, of some boundary.\n\n351\n00:19:14.700 --> 00:19:16.515\nWe know that's the screen.\n\n352\n00:19:16.515 --> 00:19:17.868\nWe're gonna say, of boundary.\n\n353\n00:19:17.868 --> 00:19:21.940\nOr drop down, okay.\n\n354\n00:19:21.940 --> 00:19:25.780\nNow if we come back and we refresh,\nall those errors go away, we're all good.\n\n355\n00:19:25.780 --> 00:19:28.290\nIt's not doing anything, but\nwe've added the methods.\n\n356\n00:19:28.290 --> 00:19:32.265\nAll right, so\nwe have some readable methods here.\n\n357\n00:19:32.265 --> 00:19:35.580\nWhat does hitsEdge mean?\n\n358\n00:19:35.580 --> 00:19:41.680\nI'm going to assume the boundary\nobject has a width and a height, okay?\n\n359\n00:19:43.230 --> 00:19:47.900\nWe're only gonna use the width coz we're\ntalking about the left/right edge.\n\n360\n00:19:47.900 --> 00:19:56.056\nSo let's return this.x + this.width.\n\n361\n00:19:56.056 --> 00:20:00.810\nSo, I'm over if this other\nedge comes over here and hits.\n\n362\n00:20:00.810 --> 00:20:02.020\nWell, it's actually reverse for you.\n\n363\n00:20:02.020 --> 00:20:06.010\nSo, Let's assume this is the side and\n\n364\n00:20:06.010 --> 00:20:11.564\nthen it touches in order to drop down and\nstart moving the other way.\n\n365\n00:20:11.564 --> 00:20:12.593\n&gt;&gt; Right?\n\n366\n00:20:12.593 --> 00:20:16.148\nSo, we want it to stay within that.\n\n367\n00:20:16.148 --> 00:20:24.816\nSo we've got to test whether the x\n+ this.width &gt;= boundary.width.\n\n368\n00:20:24.816 --> 00:20:26.890\nNow why am I doing the width?\n\n369\n00:20:26.890 --> 00:20:30.650\nBecause it starts as zero, the width\nis going to be the last position that's\n\n370\n00:20:30.650 --> 00:20:33.220\navailable in the extra reaction, right?\n\n371\n00:20:33.220 --> 00:20:37.461\nSo it just so\nhappens that those values are the same.\n\n372\n00:20:37.461 --> 00:20:41.771\nOr this.x &lt;= the left-hand position,\n\n373\n00:20:41.771 --> 00:20:46.440\non the left hand of\nthe screen right over here,\n\n374\n00:20:46.440 --> 00:20:53.190\nwhich is zero if it's in the x\ndirection it it's zero then boom.\n\n375\n00:20:53.190 --> 00:20:55.700\nAlright, so if it hits the edge,\nhow do we drop down?\n\n376\n00:20:57.420 --> 00:21:02.310\nWell, I'm thinking that\nthis.y is += this.height.\n\n377\n00:21:05.210 --> 00:21:08.130\nAnd let's just go down\nhalf a height of the inch.\n\n378\n00:21:08.130 --> 00:21:11.278\nSo it's gonna drop down\nhalf of its height.\n\n379\n00:21:11.278 --> 00:21:16.852\nAnd this.dx =\n\n380\n00:21:16.852 --> 00:21:23.289\n-1 x this.dx.\n\n381\n00:21:23.289 --> 00:21:25.810\nAnd I think,\nI think they'll might get this.\n\n382\n00:21:25.810 --> 00:21:27.995\nSo it's gonna drop down, and\nit's gonna switch directions.\n\n383\n00:21:27.995 --> 00:21:30.180\nRight now switch directions in.\n\n384\n00:21:30.180 --> 00:21:33.375\nI could pull this out into another\nmethod and call it switch direction.\n\n385\n00:21:33.375 --> 00:21:34.770\n&gt;&gt; Mm-hm.\n\n386\n00:21:34.770 --> 00:21:36.340\nBut I'm gonna leave it here for now.\n\n387\n00:21:36.340 --> 00:21:38.610\nAnd let's see if it does in fact do this.\n\n388\n00:21:38.610 --> 00:21:40.910\nSo looking our fighter still works.\n\n389\n00:21:40.910 --> 00:21:42.226\nour fighter still work.\n\n390\n00:21:42.226 --> 00:21:46.158\n&gt;&gt; [LAUGH] If all done, go boom.\n\n391\n00:21:46.158 --> 00:21:49.080\n&gt;&gt; We are gonna have a hard\ntime winning this game.\n\n392\n00:21:49.080 --> 00:21:53.434\nAs the fighters like, got to the edge,\nI'm going straight for the attack, right?\n\n393\n00:21:53.434 --> 00:21:55.940\n&gt;&gt; [LAUGH]\n&gt;&gt; So, what happened?\n\n394\n00:21:57.700 --> 00:22:00.840\nWell, if we come back and we look,\na little bit of debugging here.\n\n395\n00:22:02.510 --> 00:22:05.955\nIf we hit the boundary and\nwe drop down and\n\n396\n00:22:05.955 --> 00:22:11.100\nthen we, we're always gonna\nhit the boundary, right?\n\n397\n00:22:11.100 --> 00:22:14.760\nIf we drop, I think it's\nprobably best if we go ahead and\n\n398\n00:22:14.760 --> 00:22:16.790\nmove one time as a temporary fix.\n\n399\n00:22:16.790 --> 00:22:22.210\nWe may find that when we continue to\nmake the game that changes a little bit.\n\n400\n00:22:22.210 --> 00:22:24.110\nSo now what should happen is,\n\n401\n00:22:24.110 --> 00:22:28.650\nit should drop down and then it should\nmove right in the opposite direction.\n\n402\n00:22:31.070 --> 00:22:34.267\nAnd by moving with inside of dropDown.\n\n403\n00:22:34.267 --> 00:22:36.897\nSo it drops down, and\nthen it moves one [SOUND],\n\n404\n00:22:36.897 --> 00:22:39.600\nit should get off the boundary's edge,\nokay?\n\n405\n00:22:39.600 --> 00:22:44.120\nNow, it is important that this.dx = -1,\nwe switch directions\n\n406\n00:22:44.120 --> 00:22:49.670\nbefore we move otherwise we're just\nkinda bouncing against the wall.\n\n407\n00:22:49.670 --> 00:22:52.030\nSo if we refresh, let's see if it works.\n\n408\n00:22:52.030 --> 00:22:57.040\nWe're coming, we're coming, and we're\ncoming and [LAUGH] there we go now we\n\n409\n00:22:57.040 --> 00:23:02.510\ngotta come over to the left and come over\nto the left wait for it, wait for it.\n\n410\n00:23:02.510 --> 00:23:05.530\nThis might be celebration and there we go.\n\n411\n00:23:05.530 --> 00:23:08.112\nNow, we kinda have the [SOUND]\n&gt;&gt; Very good.\n\n412\n00:23:08.112 --> 00:23:10.565\n&gt;&gt; And we have that for\na single attacker and\n\n413\n00:23:10.565 --> 00:23:13.681\nthat would have been a lot\nharder to debug, right?\n\n414\n00:23:13.681 --> 00:23:15.810\nCuz what's going on?\n\n415\n00:23:16.990 --> 00:23:19.880\nBut now with one, I'm like, okay.\n\n416\n00:23:19.880 --> 00:23:23.580\nThe dynamicism of it\nactually is what I want.\n\n417\n00:23:23.580 --> 00:23:26.890\nI want it to behave just like this,\nit's all good.\n\n418\n00:23:26.890 --> 00:23:31.480\nAnd well, it looks like we got the\nbeginnings of the game, attacker is very\n\n419\n00:23:31.480 --> 00:23:35.530\nbasic, it's just rendered very basically,\nbut it does have the behavior that I want.\n\n420\n00:23:35.530 --> 00:23:41.740\nIt does have the position ability, and I'm\nstarting to see my vision come to life.\n\n421\n00:23:41.740 --> 00:23:44.720\n&gt;&gt; Well it looks like it took other\ncode beside the attacker code to get it\n\n422\n00:23:44.720 --> 00:23:45.970\nmoving though.\n\n423\n00:23:45.970 --> 00:23:48.300\nSo are we gonna keep that or\nis that just for testing?\n\n424\n00:23:48.300 --> 00:23:51.717\n&gt;&gt; So the other code that you\nare referring to is like the main method,\n\n425\n00:23:51.717 --> 00:23:54.860\nthe main function, the update, the render.\n\n426\n00:23:54.860 --> 00:23:56.300\nWe may keep parts of that.\n\n427\n00:23:56.300 --> 00:23:58.280\nSome of that may evolve.\n\n428\n00:23:58.280 --> 00:24:04.378\nEventually, I'll probably pull that out\nonto a more structured environment.\n\n429\n00:24:04.378 --> 00:24:08.010\nThe end of that is,\nparts of it, yes, okay?\n\n430\n00:24:08.010 --> 00:24:11.590\nParts of it will probably\nchange as we discover\n\n431\n00:24:11.590 --> 00:24:13.430\nother kind of neurons behaviors, right?\n\n432\n00:24:13.430 --> 00:24:16.600\nSo we made a plan,\nwe're trying to work that plan.\n\n433\n00:24:16.600 --> 00:24:20.180\nBut plans don't always go according to,\nwell, the plan.\n\n434\n00:24:20.180 --> 00:24:21.620\nSo we're.\n&gt;&gt; Foreshadowing.\n\n435\n00:24:21.620 --> 00:24:26.050\n&gt;&gt; We may have to make some changes to\nthe additional code that we wrote but\n\n436\n00:24:26.050 --> 00:24:30.300\nit was necessary in order to test\nthis behavior, so no way around that.\n\n437\n00:24:30.300 --> 00:24:32.140\n&gt;&gt; Very cool, creating a basic attacker.\n\n438\n00:24:32.140 --> 00:24:34.790\nWonderful episode, as usual,\nJustin, great job.\n\n439\n00:24:34.790 --> 00:24:36.340\nAnd any last words before we move on?\n\n440\n00:24:36.340 --> 00:24:39.375\n&gt;&gt; So, I think my last word is,\nwe have our attacker.\n\n441\n00:24:39.375 --> 00:24:40.350\n&gt;&gt; Mm-hm.\n\n442\n00:24:40.350 --> 00:24:42.799\n&gt;&gt; We have our fighter.\n\n443\n00:24:42.799 --> 00:24:45.610\nBut right now we are defenseless, right?\n\n444\n00:24:45.610 --> 00:24:49.966\nOur attacker can move all the way down\nthere and get past us and all things go.\n\n445\n00:24:49.966 --> 00:24:51.730\nWe need some way to defend ourselves.\n\n446\n00:24:51.730 --> 00:24:53.190\n&gt;&gt; Laser beams.\n\n447\n00:24:53.190 --> 00:24:56.577\n&gt;&gt; Actually we're gonna call them pellets.\n\n448\n00:24:56.577 --> 00:24:57.439\n&gt;&gt; [LAUGH]\n&gt;&gt; But\n\n449\n00:24:57.439 --> 00:25:01.722\nwe need to start creating pellets\nin pretty soon to be able to defend\n\n450\n00:25:01.722 --> 00:25:05.478\nourselves, so stay tuned for,\nwell being able to [SOUND].\n\n451\n00:25:05.478 --> 00:25:10.220\n&gt;&gt; [SOUND] And I wanna see Justin\ncreate laser pellets, absolutely and so\n\n452\n00:25:10.220 --> 00:25:12.027\nwatch that next episode.\n\n453\n00:25:12.027 --> 00:25:16.257\nBy the way, catch every episode of HTML5\ncanvass projects because there is a lot of\n\n454\n00:25:16.257 --> 00:25:20.805\ngreat information, a lot of fun in there,\nand you'll appreciate it, you really will.\n\n455\n00:25:20.805 --> 00:25:22.391\nCheck out our course library,\n\n456\n00:25:22.391 --> 00:25:25.266\nhundreds of videos all designed\nto help you go further.\n\n457\n00:25:25.266 --> 00:25:28.070\nAnd thank you for watching DevpPro TV.\n\n458\n00:25:28.070 --> 00:25:29.400\nTell your friends about it, would you?\n\n459\n00:25:29.400 --> 00:25:30.330\nThey'll be glad you did.\n\n460\n00:25:30.330 --> 00:25:31.010\nThanks for watching.\n\n461\n00:25:31.010 --> 00:25:31.850\nI'm Zach Memos.\n\n462\n00:25:31.850 --> 00:25:32.630\n&gt;&gt; And I'm Justin Dennison.\n\n463\n00:25:32.630 --> 00:25:34.224\n&gt;&gt; And we'll see you soon.\n\n464\n00:25:34.224 --> 00:25:40.236\n&gt;&gt; [MUSIC]\n\n",
          "vimeoId": "236472291"
        },
        {
          "description": "In this episode, Justin creates the data representation of a pellet as well as how it will be rendered on the screen. Moreover, Justin creates the user input instructions for firing the pellets from the fighter as well as demonstrates how to manage the limitations of having multiple pellets.",
          "length": "1790",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-4-1-creating_the_pellets-092917-PGM.00_30_38_16.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-4-1-creating_the_pellets-092917-PGM.00_30_38_16.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-4-1-creating_the_pellets-092917-PGM.00_30_38_16.Still001-sm.jpg",
          "title": "Creating the Pellets",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:13.376 --> 00:00:14.583\nThank you for watching DevPro.TV.\n\n3\n00:00:14.583 --> 00:00:16.166\nHelping you to learn wherever you go.\n\n4\n00:00:16.166 --> 00:00:19.893\nI'm your host, Zach Memos for\nHTML5 Canvas Projects.\n\n5\n00:00:19.893 --> 00:00:24.072\nCreating the pellets is the name of\nthis episode, and our IT Dev Pro expert,\n\n6\n00:00:24.072 --> 00:00:27.156\nJustin Dennison is just the man\nto show us how to do that.\n\n7\n00:00:27.156 --> 00:00:28.981\nJustin, good to see you.\n\n8\n00:00:28.981 --> 00:00:30.291\n&gt;&gt; I hope I'm just the man.\n\n9\n00:00:30.291 --> 00:00:32.776\nOtherwise, this is gonna\nbe a real short episode.\n\n10\n00:00:32.776 --> 00:00:33.948\nNo, I jest, I jest,\n\n11\n00:00:33.948 --> 00:00:37.750\nbut because, well, I have a pretty\ngood idea of where we're going.\n\n12\n00:00:37.750 --> 00:00:39.322\nBut you never know.\n\n13\n00:00:39.322 --> 00:00:41.711\nSome things throw a kind\nof kink in things.\n\n14\n00:00:41.711 --> 00:00:43.991\nBut before we move on,\nZach, how are you today?\n\n15\n00:00:43.991 --> 00:00:45.210\n&gt;&gt; Well, I'm doing great.\n\n16\n00:00:45.210 --> 00:00:49.263\nAnd in previous episodes we made\nthe fighter, we made the attacker but\n\n17\n00:00:49.263 --> 00:00:53.874\nnow we need a way to defend ourselves and\nthat's what the pellets are all about.\n\n18\n00:00:53.874 --> 00:00:56.041\nAre we gonna do 1 pellet, 25,000 pellets?\n\n19\n00:00:56.041 --> 00:00:56.690\nWhat are we gonna do?\n\n20\n00:00:56.690 --> 00:00:59.683\n&gt;&gt; Hm, I think we're gonna start with one.\n\n21\n00:00:59.683 --> 00:01:00.208\n&gt;&gt; Good.\n\n22\n00:01:00.208 --> 00:01:06.910\n&gt;&gt; I'm going to continue using this\nparadigm of we have a collection.\n\n23\n00:01:06.910 --> 00:01:12.777\nLet's stick with one, make sure one works\nbefore we worry about a bunch of them.\n\n24\n00:01:12.777 --> 00:01:13.284\n&gt;&gt; Yes.\n&gt;&gt; Okay,\n\n25\n00:01:13.284 --> 00:01:17.779\ngood, now what that means is we're\ngonna probably have to mark in some\n\n26\n00:01:17.779 --> 00:01:19.390\ninteractions and such.\n\n27\n00:01:20.820 --> 00:01:25.500\nMainly just because the one pellet is,\nis kinda weird right?\n\n28\n00:01:25.500 --> 00:01:30.353\nRight, that would be an interesting\ninteraction in a game [SOUND], I'm out.\n\n29\n00:01:30.353 --> 00:01:31.840\n&gt;&gt; One bullet in the gun that's all.\n\n30\n00:01:31.840 --> 00:01:32.790\n&gt;&gt; That's all we got.\n\n31\n00:01:32.790 --> 00:01:34.004\nSo-\n&gt;&gt; The metaphorical gun.\n\n32\n00:01:34.004 --> 00:01:36.943\n&gt;&gt; Yeah, metaphorically speaking but\nour pellets,\n\n33\n00:01:36.943 --> 00:01:40.098\nwhen I think of pellets\nthey're kinda round objects.\n\n34\n00:01:40.098 --> 00:01:43.451\nBut were were going to need to create\nthose, need to create the data object.\n\n35\n00:01:43.451 --> 00:01:47.887\nWe need to create their ability to move\nand render and, well, let's go ahead and\n\n36\n00:01:47.887 --> 00:01:51.428\nget that one pellet on the screen and\nsee how this work out for us.\n\n37\n00:01:51.428 --> 00:01:55.367\nSo if we come back to my screen here and\nwe have our attacker and\n\n38\n00:01:55.367 --> 00:02:00.290\nthis is kinda getting crowded but\nwe'll deal with that later.\n\n39\n00:02:00.290 --> 00:02:03.380\nSo we have our fighter,\nwe have our attacker And\n\n40\n00:02:03.380 --> 00:02:04.670\nhere's our attacker and our fighter.\n\n41\n00:02:04.670 --> 00:02:06.620\nLet's go ahead and create a pellet object.\n\n42\n00:02:06.620 --> 00:02:09.760\nNow let's think about what a pellet is,\nright.\n\n43\n00:02:09.760 --> 00:02:14.488\nSo I'm thinking it's kind of\nshot from the fighter, right.\n\n44\n00:02:14.488 --> 00:02:15.898\nIt originates from there.\n\n45\n00:02:15.898 --> 00:02:17.538\nAnd then it'll move up the screen,\n\n46\n00:02:17.538 --> 00:02:20.695\nwhich is actually in\nthe negative y direction right.\n\n47\n00:02:20.695 --> 00:02:22.710\nIt'll move up the screen, And\n\n48\n00:02:22.710 --> 00:02:27.030\nthen it'll have the ability to determine\non whether it hit something, right?\n\n49\n00:02:28.360 --> 00:02:31.810\nAnd we're not too worried about\nthat at current time, but\n\n50\n00:02:31.810 --> 00:02:34.670\nwe wanna get on screen rendered and\nmove it.\n\n51\n00:02:34.670 --> 00:02:40.385\nOkay, so in order to do that,\nwe need a constructor function.\n\n52\n00:02:40.385 --> 00:02:42.830\nAnd what does it need?\n\n53\n00:02:42.830 --> 00:02:48.268\nIt needs an x and a y, and\nokay I think all pellets should probably\n\n54\n00:02:48.268 --> 00:02:53.330\nmove at the same speed so\nwe're going to keep that the same.\n\n55\n00:02:53.330 --> 00:02:56.705\nAnd I think they should all be\nroughly the same shape, right?\n\n56\n00:02:56.705 --> 00:02:59.175\n&gt;&gt; Yeah.\n&gt;&gt; It is very unlikely that you have\n\n57\n00:02:59.175 --> 00:03:02.385\ndifferent sized pellets,\ndepending on when you fire.\n\n58\n00:03:02.385 --> 00:03:05.414\nThat would make the game\ndynamic maybe interesting, but\n\n59\n00:03:05.414 --> 00:03:08.579\na little harder to reason about it,\nat least this early on.\n\n60\n00:03:08.579 --> 00:03:11.695\nSo let's just say this.y equals y.\n\n61\n00:03:11.695 --> 00:03:18.200\nAnd then this.width = 3;\nlet's keep it pretty small.\n\n62\n00:03:18.200 --> 00:03:26.150\nAnd this.height = maybe 10; that still\nmay be kinda big but we'll get that.\n\n63\n00:03:26.150 --> 00:03:30.620\nAnd then we do know that the pellet,\nI'm thinking it'll go straight up.\n\n64\n00:03:30.620 --> 00:03:32.250\nIt won't move left or right, all right?\n\n65\n00:03:33.690 --> 00:03:37.700\nSo we need a dy, and that needs to be,\n\n66\n00:03:39.690 --> 00:03:42.660\nlet's just keep it a -5 for now.\n\n67\n00:03:42.660 --> 00:03:46.780\nSo it's gonna move in the y direction,\nthe up y direction.\n\n68\n00:03:46.780 --> 00:03:48.810\nOkay, so there's your constructor.\n\n69\n00:03:48.810 --> 00:03:53.360\nAnd, well, we've already talked about,\nthe pellet should be able to move.\n\n70\n00:03:53.360 --> 00:03:59.080\nAnd the pellet should also,\nit should render.\n\n71\n00:03:59.080 --> 00:04:00.680\nAnd it takes a context.\n\n72\n00:04:00.680 --> 00:04:05.830\nAnd now we can say context.say,\nand then context.restore.\n\n73\n00:04:07.191 --> 00:04:10.802\nAnd before we actually, well,\n\n74\n00:04:10.802 --> 00:04:16.419\nwe've done this a couple of times for\nthe render so\n\n75\n00:04:16.419 --> 00:04:20.580\nI feel pretty confident about this.\n\n76\n00:04:21.930 --> 00:04:24.406\nWe probably need to go ahead and\nset a color, all right.\n\n77\n00:04:24.406 --> 00:04:28.278\nOur entity should be of different color so\nwe can identify what they are.\n\n78\n00:04:28.278 --> 00:04:28.959\n&gt;&gt; Yes.\n\n79\n00:04:28.959 --> 00:04:33.835\n&gt;&gt; Maybe the pellet,\nthis.color = color, and\n\n80\n00:04:33.835 --> 00:04:42.060\nwe set a default color in the constructor\nto blue may be we'll go with blue.\n\n81\n00:04:42.060 --> 00:04:42.635\n&gt;&gt; Okay.\n\n82\n00:04:42.635 --> 00:04:47.973\n&gt;&gt; So there's our fillStyle and\nthis is this.color and\n\n83\n00:04:47.973 --> 00:04:52.013\nthen context.fillRect(this.x).\n\n84\n00:04:54.426 --> 00:05:00.248\nThis.y, this.width,\nthis.height, just like so.\n\n85\n00:05:00.248 --> 00:05:04.990\nAll right, so\nthese brackets should not be there.\n\n86\n00:05:06.075 --> 00:05:09.485\nAnd I think we should now be\nable to construct a pellet.\n\n87\n00:05:09.485 --> 00:05:12.120\nSo let's create our pellet here.\n\n88\n00:05:12.120 --> 00:05:17.117\nAnd make sure that our construction\nactually works like we anticipate it to.\n\n89\n00:05:17.117 --> 00:05:20.945\nSo here's our pellet and\nwhere am I gonna put this?\n\n90\n00:05:22.175 --> 00:05:27.765\nLet's put this just that 100 100 and\nthat's all I really care about.\n\n91\n00:05:27.765 --> 00:05:29.250\n&gt;&gt; Mm-hm.\n\n92\n00:05:29.250 --> 00:05:34.030\n&gt;&gt; So 100, 100, okay,\nlet's go check out this pellet.\n\n93\n00:05:34.030 --> 00:05:38.520\nSo if I refresh, here's our pellet and\nit does construct.\n\n94\n00:05:38.520 --> 00:05:42.200\nNow, the reason I do this is because\nsometimes you'll have a typo or\n\n95\n00:05:42.200 --> 00:05:45.400\nsomething like that and\none of this fields will be undefined.\n\n96\n00:05:45.400 --> 00:05:49.130\nAnd then, undefine plus a number is\nnot a number, which then is nan and\n\n97\n00:05:49.130 --> 00:05:51.630\nkind of propagates, and\nthings get messed up.\n\n98\n00:05:51.630 --> 00:05:53.110\nAnd it doesn't really error out.\n\n99\n00:05:53.110 --> 00:05:56.180\nIt just doesn't render\ncorrectly a lot of times.\n\n100\n00:05:56.180 --> 00:06:00.840\nSo I like to check these to make sure\nconstruction works as it may be.\n\n101\n00:06:00.840 --> 00:06:05.890\nSo here's our pellet, and now let's\ngo ahead and get it on the screen.\n\n102\n00:06:07.880 --> 00:06:11.305\nSo if we have our pellets that's,\nthat's probably gonna be in the render.\n\n103\n00:06:11.305 --> 00:06:14.638\nSo pellet.render,\n\n104\n00:06:14.638 --> 00:06:20.566\nyou wanna pass in the global context.\n\n105\n00:06:20.566 --> 00:06:26.572\nAnd then for update,\nwe should probably say pellet.move,\n\n106\n00:06:26.572 --> 00:06:32.827\njust like that, but\npellet.moves not going to do many thing.\n\n107\n00:06:32.827 --> 00:06:37.903\nIt's good, fill that in\n\n108\n00:06:37.903 --> 00:06:44.480\nthis.y = or += this.dy.\n\n109\n00:06:44.480 --> 00:06:47.961\nJust like that, okay,\nI think we've got this.\n\n110\n00:06:47.961 --> 00:06:51.750\n&gt;&gt; Crossing the fingers,\nJustin, crossing fingers.\n\n111\n00:06:51.750 --> 00:06:56.027\n&gt;&gt; So if we refresh, and\nyou just saw it, just for a second.\n\n112\n00:06:56.027 --> 00:06:58.977\n[SOUND] So there's our pellet.\n\n113\n00:06:58.977 --> 00:07:03.164\nLet's move that down just a little bit so\nwe can see it.\n\n114\n00:07:03.164 --> 00:07:06.258\nNope, not that way.\n\n115\n00:07:06.258 --> 00:07:10.957\n100 and then 500.\n\n116\n00:07:10.957 --> 00:07:13.840\n[SOUND] And well, there you go Zach.\n\n117\n00:07:13.840 --> 00:07:16.412\nI said we were gonna create the pellet and\nwe have.\n\n118\n00:07:16.412 --> 00:07:19.979\n&gt;&gt; Who needs real sound\neffects when we have Justin?\n\n119\n00:07:19.979 --> 00:07:21.337\nThis is a question for you though.\n\n120\n00:07:21.337 --> 00:07:23.522\nAnd I hate to keep bringing\nup the same issue here.\n\n121\n00:07:23.522 --> 00:07:26.686\nBut it looks like we're using the same\ncode for the pellet that we use for\n\n122\n00:07:26.686 --> 00:07:29.025\nthe fighter, that we use for the attacker.\n\n123\n00:07:29.025 --> 00:07:29.930\nAm I right about that?\n\n124\n00:07:29.930 --> 00:07:31.770\nI mean,\nshould we be using something different?\n\n125\n00:07:34.295 --> 00:07:38.290\n&gt;&gt; Zach, you're learning my young padowan,\nI'm so proud of you.\n\n126\n00:07:38.290 --> 00:07:40.573\nBut you're absolutely correct.\n\n127\n00:07:40.573 --> 00:07:45.311\nActually if we look at the code,\nlet's see the similarities and\n\n128\n00:07:45.311 --> 00:07:50.240\nthen you'll probably have to worry\nabout my opinion, all right?\n\n129\n00:07:50.240 --> 00:07:52.827\nSo let's take a look at the screen here.\n\n130\n00:07:52.827 --> 00:07:55.538\nAnd here's the issue that\nZach's talking about.\n\n131\n00:07:55.538 --> 00:07:59.759\nIf we look at the classes for Fighter and\nAttacker We have this.x equals x,\n\n132\n00:07:59.759 --> 00:08:04.650\nthis.y equals y, this.height equals\nsomething, this.width equals something,\n\n133\n00:08:04.650 --> 00:08:07.407\nthis.color equals something, this.dx one.\n\n134\n00:08:07.407 --> 00:08:12.433\nWe do have a little bit of\nvariation because the fighter\n\n135\n00:08:12.433 --> 00:08:17.145\nis not moving with the dx,\ndy, okay that's fine.\n\n136\n00:08:17.145 --> 00:08:22.585\ndx, dy but it would, hey Ryan,\nI think there's probably an abstraction.\n\n137\n00:08:22.585 --> 00:08:23.908\n&gt;&gt; Some duplication, yes, no?\n\n138\n00:08:23.908 --> 00:08:27.673\n&gt;&gt; Ryan, there's some duplication, because\nthe constructor is always the same.\n\n139\n00:08:27.673 --> 00:08:32.187\nRight now the render is exactly the same,\nwe could almost copy and paste this.\n\n140\n00:08:32.187 --> 00:08:37.157\nThe move, the name's the same, but there's\na little bit of different implementation.\n\n141\n00:08:37.157 --> 00:08:38.981\nThere's some craziness there.\n\n142\n00:08:38.981 --> 00:08:44.283\nBut then the attacker has a hits edge and\ndrop down, so that's different.\n\n143\n00:08:44.283 --> 00:08:50.487\nAnd then the pellet has,\nit's moving in the y direction, okay.\n\n144\n00:08:50.487 --> 00:08:52.738\nBut you're absolutely correct,\nthere's a lot of duplication there.\n\n145\n00:08:52.738 --> 00:08:55.447\nI do forewarn you,\ndon't get too hung up that.\n\n146\n00:08:55.447 --> 00:08:59.251\nIt's good that you recognize that,\nI say let's just let it mellow for\n\n147\n00:08:59.251 --> 00:09:01.943\na little while before we-\n&gt;&gt; Step by step.\n\n148\n00:09:01.943 --> 00:09:05.464\n&gt;&gt; Before we worry about going,\nI'm really gonna pull this into,\n\n149\n00:09:05.464 --> 00:09:08.013\ncuz we may find that we have\nto make changes based on\n\n150\n00:09:08.013 --> 00:09:10.763\nthe behaviors that we're hoping to create,\nright?\n\n151\n00:09:10.763 --> 00:09:14.703\nSo we're gonna leave that be for\nnow but you're absolutely correct,\n\n152\n00:09:14.703 --> 00:09:19.174\nthere's a lot duplication there, and\nthat should be a red flag to us And about,\n\n153\n00:09:19.174 --> 00:09:20.275\ndo you smell that?\n\n154\n00:09:20.275 --> 00:09:21.619\nSmells like duplication.\n\n155\n00:09:21.619 --> 00:09:22.313\n&gt;&gt; Smells like team spirit.\n\n156\n00:09:22.313 --> 00:09:27.358\n&gt;&gt; [LAUGH] I don't know how that\nsmells but [LAUGH] yeah, you're right,\n\n157\n00:09:27.358 --> 00:09:32.242\nwe should do something about that\nif it continues to be a problem.\n\n158\n00:09:32.242 --> 00:09:33.725\nRight now we're just gonna leave it be.\n\n159\n00:09:33.725 --> 00:09:34.813\n&gt;&gt; Good, good, good, good.\n\n160\n00:09:34.813 --> 00:09:35.525\nWell okay,\n\n161\n00:09:35.525 --> 00:09:40.658\nthe other thing I noticed too is it looks\nlike you're manually manipulating things.\n\n162\n00:09:40.658 --> 00:09:43.986\nShouldn't it be the user\nwho's gonna be in control?\n\n163\n00:09:43.986 --> 00:09:46.727\n&gt;&gt; You're right, I think this should\nprobably be a user control thing.\n\n164\n00:09:46.727 --> 00:09:50.073\nThis should be removing\nour little fighter, right?\n\n165\n00:09:50.073 --> 00:09:52.543\n&gt;&gt; Mm-hm.\n&gt;&gt; And wherever the fighter is,\n\n166\n00:09:52.543 --> 00:09:57.629\nwhen we hit the space bar our pellet\nshould start there, I think, right?\n\n167\n00:09:57.629 --> 00:10:02.482\nOtherwise you're not,\nit's not gonna work out too well, right?\n\n168\n00:10:02.482 --> 00:10:06.242\nNow, this is gonna be one of those things,\nwe're gonna have to mock up some of these\n\n169\n00:10:06.242 --> 00:10:08.770\nactions just to get this\nworking because we're gonna,\n\n170\n00:10:08.770 --> 00:10:11.482\nwe're gonna learn some things\nthrough this exploration.\n\n171\n00:10:11.482 --> 00:10:12.463\n&gt;&gt; We're always learning.\n\n172\n00:10:12.463 --> 00:10:13.775\n&gt;&gt; Yeah, we're always learning.\n\n173\n00:10:13.775 --> 00:10:18.351\nSo let's see if we can get it to where\nthe pellet fires from the fighter's\n\n174\n00:10:18.351 --> 00:10:20.987\nposition based on a Space bar hit, okay?\n\n175\n00:10:20.987 --> 00:10:22.450\n&gt;&gt; Awesome.\n\n176\n00:10:22.450 --> 00:10:24.754\n&gt;&gt; Just for this single pellet.\n\n177\n00:10:24.754 --> 00:10:27.676\nAgain, not a great defense.\n\n178\n00:10:27.676 --> 00:10:29.767\nIf you get one, and\nyou'll be like, I got one.\n\n179\n00:10:29.767 --> 00:10:30.791\n&gt;&gt; You made it count, right?\n\n180\n00:10:30.791 --> 00:10:33.318\n[LAUGH]\n&gt;&gt; And now maybe if the pellet goes up and\n\n181\n00:10:33.318 --> 00:10:37.223\nit explodes or something, but\nright now, just [SOUND], that's it.\n\n182\n00:10:37.223 --> 00:10:42.178\nSo let's get that working, and\nthen once we get that working,\n\n183\n00:10:42.178 --> 00:10:46.770\nwe can probably try to test\nmaybe it hitting the attacker?\n\n184\n00:10:46.770 --> 00:10:48.114\n&gt;&gt; Awesome.\n&gt;&gt; And figuring that out.\n\n185\n00:10:48.114 --> 00:10:50.482\nBut let's see if we can get that.\n\n186\n00:10:50.482 --> 00:10:51.696\n&gt;&gt; Good.\n&gt;&gt; So this pellet,\n\n187\n00:10:51.696 --> 00:10:55.062\nwe can't use constant anymore because\nthis is gonna be one of those\n\n188\n00:10:55.062 --> 00:10:58.625\ndynamically created and\nassigned variable links, at least for now.\n\n189\n00:10:58.625 --> 00:11:04.655\nSo we're gonna say let pellet and then\nI'm gonna remove this just like so, okay?\n\n190\n00:11:04.655 --> 00:11:05.950\nSo we have some pellet.\n\n191\n00:11:05.950 --> 00:11:10.938\nIf I got back and I refresh now,\nit is all kinds of broke because pellet\n\n192\n00:11:10.938 --> 00:11:14.820\nis undefined, so\nnow we gotta come in and put guards.\n\n193\n00:11:14.820 --> 00:11:16.143\nWhat do I mean?\n\n194\n00:11:16.143 --> 00:11:22.587\nWe have to say if there is a pellet,\nthen do this, okay?\n\n195\n00:11:22.587 --> 00:11:27.483\nNow I've left off the curly braces because\nthis is a single line and I can do that.\n\n196\n00:11:27.483 --> 00:11:30.651\nI don't like doing that and\nprobably wouldn't leave it that way.\n\n197\n00:11:30.651 --> 00:11:37.780\nLikewise, if(pellet) pellet.move, right?\n\n198\n00:11:37.780 --> 00:11:42.935\nNow, the original assigned value of\npellet when there's no assignment for\n\n199\n00:11:42.935 --> 00:11:45.037\nthat statement is undefined.\n\n200\n00:11:45.037 --> 00:11:49.573\nAnd undefined is false and so\nthat would not run based on those and\n\n201\n00:11:49.573 --> 00:11:53.827\nshouldn't run, and notice I don't\nhave many errors on here, okay?\n\n202\n00:11:53.827 --> 00:11:59.427\nWhat, so it has sign an object to that,\nI should be able to go [SOUND].\n\n203\n00:11:59.427 --> 00:12:00.323\nJust like that noise.\n\n204\n00:12:00.323 --> 00:12:05.258\n&gt;&gt; [NOISE]\n&gt;&gt; [LAUGH] So.\n\n205\n00:12:05.258 --> 00:12:07.743\nI just like making that noise,\nit's fun, it's fun.\n\n206\n00:12:07.743 --> 00:12:10.775\n&gt;&gt; [CROSSTALK]\n&gt;&gt; But I wanna hit Space bar and\n\n207\n00:12:10.775 --> 00:12:12.820\nget that done, right?\n\n208\n00:12:12.820 --> 00:12:15.892\nSo where do our user\ninteractions come from?\n\n209\n00:12:15.892 --> 00:12:20.498\nWell, this key down on in this is handle\nuser interactions that I would probably\n\n210\n00:12:20.498 --> 00:12:21.955\npull us out eventually.\n\n211\n00:12:21.955 --> 00:12:26.348\nAnd we have the ability for\nthe left right arrow key and\n\n212\n00:12:26.348 --> 00:12:32.021\nto some extent the fighter is\ninitiating the shot of a pellet, okay?\n\n213\n00:12:32.021 --> 00:12:38.815\nAnd one would that be or\nthere will be on the case of space.\n\n214\n00:12:38.815 --> 00:12:44.502\nLet's see, break, let's see if we can get\n\n215\n00:12:44.502 --> 00:12:50.355\na console.log here of firing away, right?\n\n216\n00:12:50.355 --> 00:12:53.217\nSo if we refresh and I click them and\n\n217\n00:12:53.217 --> 00:12:57.779\nthere's, I'm hitting Space but\nit's not working.\n\n218\n00:12:57.779 --> 00:13:00.435\nWe've changed how we handle\nthese keyboard events.\n\n219\n00:13:00.435 --> 00:13:05.818\nLet's kind of look at this key,\nAnd refresh.\n\n220\n00:13:07.849 --> 00:13:09.530\nOkay, that's kind of weird.\n\n221\n00:13:11.817 --> 00:13:13.737\nIt's just saying it's blank.\n\n222\n00:13:13.737 --> 00:13:16.350\nWell, it's actually giving\nyou the space character.\n\n223\n00:13:16.350 --> 00:13:18.899\nIt's a space.\n\n224\n00:13:18.899 --> 00:13:22.578\nWhich is kinda odd cuz arrow right,\narrow left but\n\n225\n00:13:22.578 --> 00:13:25.566\nthen the space is actually just a space.\n\n226\n00:13:25.566 --> 00:13:30.087\nSo, that's kind of a weirdness, I would\nprobably went with a spelled out like,\n\n227\n00:13:30.087 --> 00:13:31.027\nwhat am I doing?\n\n228\n00:13:31.027 --> 00:13:31.561\n&gt;&gt; Mm-hm.\n\n229\n00:13:31.561 --> 00:13:36.638\n&gt;&gt; But, we gotta deal with\nthe API that we're dealt.\n\n230\n00:13:36.638 --> 00:13:39.163\nAnd then, firing away, firing away and\n\n231\n00:13:39.163 --> 00:13:44.595\nthen we can remove this other console.log\nup here and refresh and we're just firing.\n\n232\n00:13:44.595 --> 00:13:46.483\nSo this would be firing how much pellets?\n\n233\n00:13:46.483 --> 00:13:51.093\nOkay, now what this means is I should be\n\n234\n00:13:51.093 --> 00:13:56.123\nable to construct a pellet\nbased on the x and\n\n235\n00:13:56.123 --> 00:14:00.475\ny position of the fighter, I think.\n\n236\n00:14:00.475 --> 00:14:06.510\nSo pellet equals a new pellet,\n\n237\n00:14:06.510 --> 00:14:12.319\nfighter.x and fighter.y.\n\n238\n00:14:12.319 --> 00:14:17.021\nOkay, so now I'm passing in\nthe fighter's position to the pellet,\n\n239\n00:14:17.021 --> 00:14:18.326\nin order to [SOUND].\n\n240\n00:14:18.326 --> 00:14:22.424\nAll right, so refresh and there's our\npellet, and there's our pellet, and\n\n241\n00:14:22.424 --> 00:14:23.616\nthere's our pellet.\n\n242\n00:14:27.072 --> 00:14:31.766\nThat's kinda weird, you would think\nthat they wouldn't come back.\n\n243\n00:14:31.766 --> 00:14:37.495\nBut if we zoom in and we actually look,\nthere still is some weirdness as well.\n\n244\n00:14:37.495 --> 00:14:38.231\nSee where it's shooting?\n\n245\n00:14:38.231 --> 00:14:40.684\nIt's actually shooting from the left.\n\n246\n00:14:40.684 --> 00:14:45.155\nI would probably like for it to shoot from\nthe center and not just to materialize.\n\n247\n00:14:45.155 --> 00:14:47.733\nIt's kinda flickering in\nbecause it's appearing and\n\n248\n00:14:47.733 --> 00:14:50.656\nthen being painting in the next frame and\nit kinda just [NOISE].\n\n249\n00:14:50.656 --> 00:14:56.648\nI would like probably to start at\nthe center and come up from behind just so\n\n250\n00:14:56.648 --> 00:15:01.182\nit produces forth, so\nwe gotta do a little bit of math.\n\n251\n00:15:01.182 --> 00:15:04.734\nAll right, well,\nhow are we going to do this?\n\n252\n00:15:04.734 --> 00:15:12.190\nI'm thinking here we just\nsay- fighter.width / 2.\n\n253\n00:15:12.190 --> 00:15:12.979\nOr no.\n\n254\n00:15:12.979 --> 00:15:15.870\nPlus, excuse me.\n\n255\n00:15:15.870 --> 00:15:20.552\nPlus likewise, And\n\n256\n00:15:20.552 --> 00:15:26.527\nwe wanna say plus\nfighter.height divide by 2.\n\n257\n00:15:26.527 --> 00:15:31.028\nOkay, and there we go.\n\n258\n00:15:31.028 --> 00:15:35.273\nAnd it's still not exactly correct.\n\n259\n00:15:35.273 --> 00:15:39.525\nAnd that's because we're doing\nthe left-hand corner of the pellet.\n\n260\n00:15:39.525 --> 00:15:42.693\nSo we should actually move\nback by the pellet amount, but\n\n261\n00:15:42.693 --> 00:15:46.457\nwe haven't constructed the pellet\nuntil we construct the pellet.\n\n262\n00:15:46.457 --> 00:15:47.950\nWe'll leave that be.\n\n263\n00:15:47.950 --> 00:15:52.343\nIn other words, it's not behind,\nwhy is it not behind?\n\n264\n00:15:52.343 --> 00:15:54.987\nWell if we come back down here,\n\n265\n00:15:54.987 --> 00:16:00.385\nnotice where pellet.render is\nIt's after everything else.\n\n266\n00:16:00.385 --> 00:16:01.917\nLet's move this up.\n\n267\n00:16:01.917 --> 00:16:05.660\nAnd see if that stacks\nthe layers differently.\n\n268\n00:16:05.660 --> 00:16:10.166\nSo refresh and now,\nwe actually have what we anticipate.\n\n269\n00:16:12.110 --> 00:16:18.294\nProduces four I think except we still have\nthis like a rapid fire shot that exist.\n\n270\n00:16:18.294 --> 00:16:20.600\nBut if I just let it go,\nit does your port.\n\n271\n00:16:20.600 --> 00:16:24.350\nNow, that one pellet and you're like well,\nlooks like we have a bunch of them.\n\n272\n00:16:24.350 --> 00:16:27.520\nActually, the other one kinda disappears.\n\n273\n00:16:27.520 --> 00:16:28.903\nIt goes away.\n\n274\n00:16:28.903 --> 00:16:31.128\n[NOISE]\n&gt;&gt; So at this point Justin,\n\n275\n00:16:31.128 --> 00:16:32.320\nwe have one pellet, right?\n\n276\n00:16:32.320 --> 00:16:36.250\n&gt;&gt; And that we have exactly one pellet and\nit's not a great defense.\n\n277\n00:16:36.250 --> 00:16:42.755\nHowever, we would be capable of testing\nthat a pellet can hit an attacker.\n\n278\n00:16:42.755 --> 00:16:45.980\n&gt;&gt; Mm-hm, but\nit's kinda like all or nothing.\n\n279\n00:16:45.980 --> 00:16:48.030\nI mean, we're gonna have\na bunch of attackers, right?\n\n280\n00:16:48.030 --> 00:16:50.160\nSo shouldn't we have\na plethora of pellets?\n\n281\n00:16:50.160 --> 00:16:52.410\n&gt;&gt; We should, so here's my plan of action.\n\n282\n00:16:52.410 --> 00:16:54.170\n&gt;&gt; Okay.\n&gt;&gt; Here's my plan of action.\n\n283\n00:16:54.170 --> 00:16:59.196\nI think if we can make sure that the\ncurrent one pellet hits the attacker and\n\n284\n00:16:59.196 --> 00:17:00.829\nkinda removes itself.\n\n285\n00:17:02.802 --> 00:17:05.090\nThen we can worry about a bunch of them,\nright?\n\n286\n00:17:05.090 --> 00:17:07.150\nBecause that's\nan interaction that we need.\n\n287\n00:17:07.150 --> 00:17:08.530\n&gt;&gt; Right.\n\n288\n00:17:08.530 --> 00:17:12.630\n&gt;&gt; So\n&gt;&gt; Okay, let's get that and\n\n289\n00:17:12.630 --> 00:17:16.740\nthen we'll have to do\nsome changiality stuff.\n\n290\n00:17:16.740 --> 00:17:17.830\n&gt;&gt; Yes.\n\n291\n00:17:17.830 --> 00:17:21.020\n&gt;&gt; So I think right now I'm gonna\nmake the attackers stationary just so\n\n292\n00:17:21.020 --> 00:17:22.090\nI could test this.\n\n293\n00:17:22.090 --> 00:17:22.590\n&gt;&gt; Okay.\n\n294\n00:17:24.410 --> 00:17:25.780\n&gt;&gt; And here we go.\n\n295\n00:17:28.870 --> 00:17:32.060\nWait for it, wait for it.\n\n296\n00:17:32.060 --> 00:17:36.710\nWe're going to comment that out,\nand there we go.\n\n297\n00:17:36.710 --> 00:17:40.540\nSo now I can [SOUND]\nokay.\n\n298\n00:17:40.540 --> 00:17:45.203\nSo during kind of our main\ngame loop our update,\n\n299\n00:17:45.203 --> 00:17:50.457\nwhat I'm wanting is,\nif the pellet is there, move.\n\n300\n00:17:50.457 --> 00:17:55.498\nBut also somewhere in here,\n\n301\n00:17:55.498 --> 00:18:03.068\nif(pellet.hits)(attacker)){.\n\n302\n00:18:03.068 --> 00:18:07.680\nJust like that, then attacker = null;.\n\n303\n00:18:07.680 --> 00:18:09.534\nNot the greatest .we'll\ndefinitely fix that.\n\n304\n00:18:09.534 --> 00:18:10.725\n&gt;&gt; Mm-hm.\n\n305\n00:18:10.725 --> 00:18:14.867\n&gt;&gt; Also the pellet = null;.\n\n306\n00:18:14.867 --> 00:18:18.906\nWe just [SOUND] wouldn't\nwant to remove it, okay.\n\n307\n00:18:18.906 --> 00:18:20.686\nNow this pellet.hits doesn't exist.\n\n308\n00:18:20.686 --> 00:18:23.815\nLet's go ahead and add that.\n\n309\n00:18:23.815 --> 00:18:30.880\nNow how this hits is going\nto be a little complicated.\n\n310\n00:18:30.880 --> 00:18:32.880\n&gt;&gt; [LAUGH].\n&gt;&gt; So this hits(other).\n\n311\n00:18:32.880 --> 00:18:33.770\nNow what is this other?\n\n312\n00:18:33.770 --> 00:18:35.294\nThat's something else on the screen.\n\n313\n00:18:35.294 --> 00:18:36.860\n&gt;&gt; Mm-mm.\n\n314\n00:18:36.860 --> 00:18:41.037\n&gt;&gt; Let's return this.\n\n315\n00:18:41.037 --> 00:18:47.510\nI'm thinking if we move up, right.\n\n316\n00:18:47.510 --> 00:18:52.170\nAnd the first thing to\nencounter is the y position of\n\n317\n00:18:52.170 --> 00:18:57.740\nthe attacker and it's high, right,\nwe're gonna hit that first edge.\n\n318\n00:18:57.740 --> 00:19:02.770\nWe wanna test to see if the y value is\ngreater than or equal to that, right.\n\n319\n00:19:04.500 --> 00:19:09.410\nAlso we need to make sure that\nit's within the x position.\n\n320\n00:19:09.410 --> 00:19:14.061\nSo that the x is within the attacker's x.\n\n321\n00:19:14.061 --> 00:19:19.357\nIt's greater than or equal to the x,\nor that it's greater than,\n\n322\n00:19:19.357 --> 00:19:22.534\nand the hit box is off just a little bit,\n\n323\n00:19:22.534 --> 00:19:27.180\nor it's less than or\nequal to the x position on the right.\n\n324\n00:19:27.180 --> 00:19:32.741\nSo with that said, let's spherical thing\n\n325\n00:19:32.741 --> 00:19:37.300\nare so much easier to determine hits.\n\n326\n00:19:37.300 --> 00:19:41.200\nBecause you can say, what's\nthe distance between the two centers?\n\n327\n00:19:41.200 --> 00:19:44.650\nIs that less than the sum of the radii?\n\n328\n00:19:44.650 --> 00:19:47.087\nIf it is, then they hit, if they not,\n\n329\n00:19:47.087 --> 00:19:51.904\nhave different dimensions with [CROSSTALK]\n&gt;&gt; That's what I see around\n\n330\n00:19:51.904 --> 00:19:54.592\nmy eyes everyday is in the morning.\n\n331\n00:19:54.592 --> 00:19:57.510\n&gt;&gt; You should probably get\nthat checked out, but [LAUGH].\n\n332\n00:19:57.510 --> 00:20:02.880\nSo to be with an x, we're gonna\nsay that this pellet's x, right.\n\n333\n00:20:04.470 --> 00:20:08.240\nIs greater than or equal to the other's x.\n\n334\n00:20:09.270 --> 00:20:13.251\nOkay, and that's gonna be the left\nhand side of the pellet now we\n\n335\n00:20:13.251 --> 00:20:17.035\nwould if we have to adjust that\nto get a more accurate hit box.\n\n336\n00:20:17.035 --> 00:20:21.441\nBut I think this is a good\nfirst approximation.\n\n337\n00:20:21.441 --> 00:20:26.403\nAnd, has be an and, and this x is,\ncuz otherwise it would be as\n\n338\n00:20:26.403 --> 00:20:30.705\nlong as to the right,\nregardless of weather it hits.\n\n339\n00:20:30.705 --> 00:20:33.870\nThis pellet's x is less than or\n\n340\n00:20:33.870 --> 00:20:39.390\nequal to the other's x +\nthe other's width, okay.\n\n341\n00:20:39.390 --> 00:20:44.420\nAnd then withInY = okay\n\n342\n00:20:44.420 --> 00:20:49.959\nwait for it, wait for it.\n\n343\n00:20:49.959 --> 00:20:54.963\nThis pellet's y,\n\n344\n00:20:54.963 --> 00:20:59.342\n&gt;= other.y +\n\n345\n00:20:59.342 --> 00:21:04.667\nother.height;.\n\n346\n00:21:04.667 --> 00:21:06.037\nI think that'll do.\n\n347\n00:21:06.037 --> 00:21:10.439\nAnd then return withInX &amp;&amp; withInY.\n\n348\n00:21:10.439 --> 00:21:13.960\nSo let's go back through this mixture and\nmake sure our logic's solid here.\n\n349\n00:21:13.960 --> 00:21:14.460\n&gt;&gt; Good.\n\n350\n00:21:16.025 --> 00:21:18.818\nWe're to the right or the left side and\n\n351\n00:21:18.818 --> 00:21:24.162\nwe're to the left of the right side\nof the enemy, right of the attacker.\n\n352\n00:21:24.162 --> 00:21:25.067\n&gt;&gt; Mm-mm.\n\n353\n00:21:25.067 --> 00:21:30.802\n&gt;&gt; But also or y position is at\nleast to the bottom edge and\n\n354\n00:21:30.802 --> 00:21:36.155\nthat way if it moves into it,\nit should still hit,\n\n355\n00:21:36.155 --> 00:21:40.234\nDo we need to check if it's less than,\n\n356\n00:21:40.234 --> 00:21:47.025\nactually I think we should check\nto see if it's also less than.\n\n357\n00:21:47.025 --> 00:21:48.290\n&gt;&gt; Mm-hm.\n\n358\n00:21:48.290 --> 00:21:51.810\n&gt;&gt; Because otherwise, I think what'll\nhappen is the pellet will move by and\n\n359\n00:21:51.810 --> 00:21:54.502\nthen [SOUND] and\nthen it'll actually shoot from behind.\n\n360\n00:21:54.502 --> 00:21:56.050\nAnd that's a weird dynamic.\n\n361\n00:21:56.050 --> 00:22:00.699\nNot saying this wouldn't really happen but\n\n362\n00:22:00.699 --> 00:22:05.610\njust to be safe &amp;&amp; this.y &lt;= other.y;.\n\n363\n00:22:05.610 --> 00:22:09.645\nSo does it lie within\nthe attacker's bounding box?\n\n364\n00:22:09.645 --> 00:22:10.145\n&gt;&gt; Mm-hm.\n\n365\n00:22:11.410 --> 00:22:16.390\n&gt;&gt; All right, let's see,\nwhat do we wanna do if it hits, right?\n\n366\n00:22:16.390 --> 00:22:17.630\nWe wanna do this.\n\n367\n00:22:17.630 --> 00:22:20.860\nWe should remove them from the screen.\n\n368\n00:22:20.860 --> 00:22:24.130\nSo if we refresh and.\n\n369\n00:22:24.130 --> 00:22:25.490\n&gt;&gt; Something broke.\n\n370\n00:22:25.490 --> 00:22:27.430\n&gt;&gt; Pellet hits.\n\n371\n00:22:27.430 --> 00:22:29.640\nYou know what?\n\n372\n00:22:29.640 --> 00:22:33.220\nYou have to check, because our pellet is\ncurrently undefined at the beginning.\n\n373\n00:22:33.220 --> 00:22:34.510\n&gt;&gt; Ha.\n\n374\n00:22:34.510 --> 00:22:40.500\n&gt;&gt; If there is a pellet and this is\na way of saying I'm gonna do this and\n\n375\n00:22:40.500 --> 00:22:43.920\nthis and if the pellet's not defined\nit won't try the second part.\n\n376\n00:22:43.920 --> 00:22:46.736\nThis is some java script shenanigans.\n\n377\n00:22:46.736 --> 00:22:51.279\nAll right, so I move over [SOUND].\n\n378\n00:22:51.279 --> 00:22:54.034\nWe got some logic errors here.\n\n379\n00:22:54.034 --> 00:22:58.884\nLet's just make sure,\n\n380\n00:22:58.884 --> 00:23:04.467\nsee, console.log here.\n\n381\n00:23:04.467 --> 00:23:08.640\nAll right, so liberally placed\nconsole.logs will help us.\n\n382\n00:23:08.640 --> 00:23:12.520\nAnd it's not so our logic that we've\nmessed something up on our logic.\n\n383\n00:23:12.520 --> 00:23:16.430\nAnd these are always rough for\nme, admittedly so.\n\n384\n00:23:16.430 --> 00:23:17.570\n&gt;&gt; Teachable moments.\n\n385\n00:23:17.570 --> 00:23:18.400\n&gt;&gt; Teachable moments.\n\n386\n00:23:18.400 --> 00:23:20.260\nIf we come up here, all right.\n\n387\n00:23:20.260 --> 00:23:21.000\nSo let's think about this.\n\n388\n00:23:21.000 --> 00:23:27.950\nIf it hits the other, then the pellet's\nx is greater than the other's x.\n\n389\n00:23:27.950 --> 00:23:29.190\nThat's to the right.\n\n390\n00:23:29.190 --> 00:23:31.831\nAnd it's less than the other's x.\n\n391\n00:23:34.003 --> 00:23:38.500\nPlus the width, that's right.\n\n392\n00:23:38.500 --> 00:23:44.033\nAnd then the y is greater than the others\n\n393\n00:23:44.033 --> 00:23:48.040\n+ the height which would be down and\nless than the top.\n\n394\n00:23:49.110 --> 00:23:51.396\nSo let's see.\n\n395\n00:23:53.582 --> 00:23:58.738\nConsole.log('withInX, withinY).\n\n396\n00:24:00.507 --> 00:24:04.610\nAnd we refresh, notice there's\nnothing being printed out here.\n\n397\n00:24:04.610 --> 00:24:05.110\nAnd we hit.\n\n398\n00:24:08.205 --> 00:24:13.924\nSo our withInY is never turning to true,\n\n399\n00:24:13.924 --> 00:24:19.351\nso that means here, So\n\n400\n00:24:19.351 --> 00:24:23.650\nif we remove this, let's just go\nwith our initial gut instinct.\n\n401\n00:24:23.650 --> 00:24:27.970\nMaybe I was overthinking it a little bit,\nso if we refresh this and assignment.\n\n402\n00:24:29.870 --> 00:24:32.520\nWell, no,\nthat immediately breaks everything.\n\n403\n00:24:35.234 --> 00:24:43.054\nAnd, this.y is less than or\nequal to the other.y.\n\n404\n00:24:45.522 --> 00:24:49.646\n&gt;&gt; So Justin, is this something where\nthe y position, positive being down,\n\n405\n00:24:49.646 --> 00:24:53.121\nnegative being up,\ncould that be what's causing this issue?\n\n406\n00:24:53.121 --> 00:24:56.483\n&gt;&gt; Well, Zach,\nthat's one of the reasons why you're here,\n\n407\n00:24:56.483 --> 00:24:58.710\nyou're here to help me stay on my toes.\n\n408\n00:24:58.710 --> 00:25:00.522\n&gt;&gt; [LAUGH]\n&gt;&gt; Because I think you might be\n\n409\n00:25:00.522 --> 00:25:02.290\non to something yet again.\n\n410\n00:25:02.290 --> 00:25:06.243\nAnd that always trips me up, as most of\nyou as well, can possibly be tripped up,\n\n411\n00:25:06.243 --> 00:25:08.108\nright, positive-\n&gt;&gt; Is down.\n\n412\n00:25:08.108 --> 00:25:11.624\n&gt;&gt; Is down, and\nthen negative is up, and likewise,\n\n413\n00:25:11.624 --> 00:25:17.420\nthat means that adding would go this way,\nbut then subtracting would go this way.\n\n414\n00:25:17.420 --> 00:25:19.089\n&gt;&gt; Turns you around.\n&gt;&gt; Turns you around, and\n\n415\n00:25:19.089 --> 00:25:20.990\nit's probably best to draw.\n\n416\n00:25:20.990 --> 00:25:23.780\nBut now that we have Zack on our side,\nI think we can fix this.\n\n417\n00:25:23.780 --> 00:25:26.270\nSo let's come back and\nactually try that in our code.\n\n418\n00:25:26.270 --> 00:25:28.395\nLet's take a look here, and\n\n419\n00:25:28.395 --> 00:25:32.391\nwhat that means is that these\nsigns would be flipped.\n\n420\n00:25:32.391 --> 00:25:37.071\nIs it less than, up, than the bottom edge,\n\n421\n00:25:37.071 --> 00:25:42.007\nand is it greater than or\nequal to the top edge?\n\n422\n00:25:42.007 --> 00:25:46.695\nSo you're right, I think, so\nwe come back here, we refresh,\n\n423\n00:25:46.695 --> 00:25:48.826\nlet's actually come back.\n\n424\n00:25:48.826 --> 00:25:54.560\nOkay, we refreshed, we hit it, boom, and\nthen I actually kind of expected this.\n\n425\n00:25:54.560 --> 00:25:57.140\nNotice it's true, true, true,\nhere, here, here, here, here?\n\n426\n00:25:57.140 --> 00:25:59.690\nOkay, all right, all right,\nall right, all right, but notice,\n\n427\n00:25:59.690 --> 00:26:02.658\nit stopped as soon as it hit,\nthat's actually what we want.\n\n428\n00:26:02.658 --> 00:26:05.320\n&gt;&gt; Good.\n&gt;&gt; Okay, so assignment constant variable,\n\n429\n00:26:05.320 --> 00:26:10.521\nnow, because we're kind of putting things\nin play, and bringing them out of play.\n\n430\n00:26:10.521 --> 00:26:13.209\nconst may not be the best thing for\n\n431\n00:26:13.209 --> 00:26:17.630\nan attacker,\nwe may need to change this to let, okay.\n\n432\n00:26:17.630 --> 00:26:20.710\nSo we started this attacker, but\nnow we can reassign that variable,\n\n433\n00:26:20.710 --> 00:26:22.980\nit's not a const behind it.\n\n434\n00:26:22.980 --> 00:26:30.990\nSo if we come back and we refresh, hits\nedge of null, now why is that happening?\n\n435\n00:26:32.080 --> 00:26:36.740\nBecause if we do that,\nkind of our way of removing this is,\n\n436\n00:26:36.740 --> 00:26:40.150\nthe attacker is checking,\ndoes it hit the edge?\n\n437\n00:26:40.150 --> 00:26:44.954\nWell, if it's null, then it doesn't,\nso we have to put a guard there, and\n\n438\n00:26:44.954 --> 00:26:48.200\nsome of these will go away\nas we change some of this.\n\n439\n00:26:48.200 --> 00:26:51.443\nBut I'm a big proponent of making sure we\nunderstand the individual pieces before\n\n440\n00:26:51.443 --> 00:26:53.110\nwe make large collections.\n\n441\n00:26:53.110 --> 00:26:58.420\nSo if you refresh one last time,\nboom, done, now,\n\n442\n00:26:58.420 --> 00:27:01.490\nwhy do we have one final render issue?\n\n443\n00:27:01.490 --> 00:27:08.144\nAnd that's because we now need to say\nif(attacker), render the attacker.\n\n444\n00:27:08.144 --> 00:27:12.190\nOkay, so we have a lot of extra code here\nthat maybe we won't need in the long term.\n\n445\n00:27:12.190 --> 00:27:18.420\nBut we wanna make sure this interaction\nworks, and now that pellet, boom.\n\n446\n00:27:18.420 --> 00:27:22.775\nAnd notice also,\nwhen it got removed, that stopped,\n\n447\n00:27:22.775 --> 00:27:26.952\nlet's remove that console.log just for\nfunsies.\n\n448\n00:27:26.952 --> 00:27:30.745\nOkay, here we go, and\nnow we can actually attack back,\n\n449\n00:27:30.745 --> 00:27:35.450\nremove the attacker from the board,\nit's gone, we're good to go.\n\n450\n00:27:35.450 --> 00:27:36.270\n&gt;&gt; We need to defend ourselves.\n\n451\n00:27:36.270 --> 00:27:39.760\n&gt;&gt; And we've defended ourselves,\nand there you go, Zach.\n\n452\n00:27:39.760 --> 00:27:43.170\nWe have our attacker, but\nwe do need a collection.\n\n453\n00:27:43.170 --> 00:27:44.730\nWe need a bunch of them,\nwe need a bunch of pellets.\n\n454\n00:27:46.290 --> 00:27:48.010\nLet's worry about\nthe bunch of pellets first,\n\n455\n00:27:48.010 --> 00:27:53.510\nbecause that's gonna be something that\nmay be best monitored by the game.\n\n456\n00:27:54.670 --> 00:27:57.810\nI'm pretty sure we don't have time on this\nepisode, so let's come back with a part\n\n457\n00:27:57.810 --> 00:28:00.050\ntwo, because I say I'm gonna\ncreate the pellets, all of them.\n\n458\n00:28:00.050 --> 00:28:02.240\n&gt;&gt; Now it's plural.\n&gt;&gt; Right, pellets with an s.\n\n459\n00:28:02.240 --> 00:28:04.275\n&gt;&gt; That's right.\n&gt;&gt; We'll come back and see that,\n\n460\n00:28:04.275 --> 00:28:09.170\nit may not take too long of a time, but\nthat way, we can give its full attention.\n\n461\n00:28:09.170 --> 00:28:12.510\nGot one working, we know the attacker,\nthey hit the attacker,\n\n462\n00:28:12.510 --> 00:28:14.970\nand we can do logic based on that.\n\n463\n00:28:14.970 --> 00:28:18.150\nBut we need a bunch of them, and that way,\n\n464\n00:28:18.150 --> 00:28:23.740\nwe don't have that weird short fire burst\ntype thing, but definitely stay tuned.\n\n465\n00:28:23.740 --> 00:28:26.569\n&gt;&gt; Another awesome episode Justin,\ncreating the pellets part one.\n\n466\n00:28:26.569 --> 00:28:31.240\nThere will be creating the pellets part\ntwo, so you'll want to see both of those,\n\n467\n00:28:31.240 --> 00:28:33.050\nJustin, any final thoughts?\n\n468\n00:28:33.050 --> 00:28:36.420\n&gt;&gt; Well, we are now gonna\nstart moving into collections,\n\n469\n00:28:36.420 --> 00:28:40.520\nright, and we may just keep it\nvery simple, or, who knows?\n\n470\n00:28:40.520 --> 00:28:44.619\nWe may get into some more of those\nabstractions that Zach is always kind of\n\n471\n00:28:44.619 --> 00:28:45.795\npoking my shoulder.\n\n472\n00:28:45.795 --> 00:28:46.551\n&gt;&gt; [LAUGH].\n&gt;&gt; Hey,\n\n473\n00:28:46.551 --> 00:28:51.820\ncan you make this not do duplicative,\nis that a word?\n\n474\n00:28:51.820 --> 00:28:53.710\n&gt;&gt; [LAUGH].\n&gt;&gt; I'm gonna make it up.\n\n475\n00:28:53.710 --> 00:28:54.225\n&gt;&gt; Duplicative.\n\n476\n00:28:54.225 --> 00:28:59.026\n&gt;&gt; Duplicative, well, who knows,\nwe'll probably start simple, build up.\n\n477\n00:28:59.026 --> 00:29:00.605\nBut definitely stay tuned,\n\n478\n00:29:00.605 --> 00:29:04.238\nbecause you probably want a gun\nthat shoots more than one pellet.\n\n479\n00:29:04.238 --> 00:29:09.289\n&gt;&gt; That's true, but creating\nthe pellets part two is coming up,\n\n480\n00:29:09.289 --> 00:29:12.360\nwe had creating the pellets part one.\n\n481\n00:29:12.360 --> 00:29:14.940\nI'm having trouble talking because I'm\nthinking about pellets shooting at\n\n482\n00:29:14.940 --> 00:29:15.720\nattackers.\n\n483\n00:29:15.720 --> 00:29:18.510\nAnd I can't wait to see more,\nand I know you can't either.\n\n484\n00:29:18.510 --> 00:29:22.440\nSo make sure you watch every\nepisode of HTML5 Canvas projects.\n\n485\n00:29:22.440 --> 00:29:27.366\nAnd go to our content library\nto see all the videos there,\n\n486\n00:29:27.366 --> 00:29:30.580\nbecause they're all designed\nto help you go further.\n\n487\n00:29:30.580 --> 00:29:33.940\nAnd thank you for watching DevPro TV,\nmake sure tell a friend about DevPro TV,\n\n488\n00:29:33.940 --> 00:29:37.620\nthey'll be very happy you did,\nthanks for watching, I'm Zack Memos.\n\n489\n00:29:37.620 --> 00:29:38.362\n&gt;&gt; And I'm Justin Dennison.\n\n490\n00:29:38.362 --> 00:29:42.684\n&gt;&gt; And we'll see you soon.\n[MUSIC]\n\n",
          "vimeoId": "236473244"
        },
        {
          "description": "In this episode, Justin alters the interactions of the pellets in order to remove the pellets from play if they contact an attacker as well as limit the amount of pellets on screen to eliminate spamming the fire button.",
          "length": "1182",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-4-2-creating_the_pellets_pt2-092917-PGM.00_19_33_28.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-4-2-creating_the_pellets_pt2-092917-PGM.00_19_33_28.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-4-2-creating_the_pellets_pt2-092917-PGM.00_19_33_28.Still001-sm.jpg",
          "title": "Creating the Pellets Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.849 --> 00:00:16.363\nHello and thank you for watching DEVPRO.TV\nhelping you learn wherever you go.\n\n3\n00:00:16.363 --> 00:00:20.017\nI'm your host Zach Memos,\nour HTML Canvas projects, and\n\n4\n00:00:20.017 --> 00:00:22.890\nthis is creating the pellets part two.\n\n5\n00:00:22.890 --> 00:00:25.160\nWe do have a part one,\nmake sure you see that as well.\n\n6\n00:00:25.160 --> 00:00:26.600\nThe person bringing us\nall the information and\n\n7\n00:00:26.600 --> 00:00:30.240\nshowing us how we can do this,\nis the one and only Justin Dennison.\n\n8\n00:00:30.240 --> 00:00:32.140\nJustin, good to see you again, sir.\n\n9\n00:00:32.140 --> 00:00:33.700\n&gt;&gt; Hi, good to see you as well, Zach.\n\n10\n00:00:33.700 --> 00:00:35.000\nAnd how are you today?\n\n11\n00:00:35.000 --> 00:00:37.700\n&gt;&gt; I'm excited because this\nis getting a lot more fun.\n\n12\n00:00:37.700 --> 00:00:41.200\nNow that we move forward in\ncreating this game so to speak.\n\n13\n00:00:41.200 --> 00:00:42.014\nI'm gonna call it a game anyway.\n\n14\n00:00:42.014 --> 00:00:45.671\nNow we had a pellet that we ended\nup with in the last episode, but\n\n15\n00:00:45.671 --> 00:00:50.170\nwe need a bunch of pellets cuz we're\ngonna have a bunch of attackers, right?\n\n16\n00:00:50.170 --> 00:00:53.125\n&gt;&gt; Right, right now we have\na very important line of,\n\n17\n00:00:53.125 --> 00:00:56.928\nit's better than it was, but\nwe have a very poor line of defense.\n\n18\n00:00:56.928 --> 00:00:59.750\nWe need the ability to\nshoot multiple pellets.\n\n19\n00:00:59.750 --> 00:01:01.759\nBecause ultimately,\nwe're gonna have multiple attackers-\n\n20\n00:01:01.759 --> 00:01:02.338\n&gt;&gt; Mm-hm.\n\n21\n00:01:02.338 --> 00:01:04.604\n&gt;&gt; In our game, our attack.\n\n22\n00:01:04.604 --> 00:01:07.680\n&gt;&gt; And also the pellets should have the\nability to fire all over the canvas, too.\n\n23\n00:01:07.680 --> 00:01:08.475\n&gt;&gt; Yeah, yeah.\n\n24\n00:01:08.475 --> 00:01:15.680\nSo I think right we're gonna limit it to\nup and down but we need a bunch of them.\n\n25\n00:01:15.680 --> 00:01:17.389\nBecause I can move left and\nright with my fighter and\n\n26\n00:01:17.389 --> 00:01:19.680\nthen it originates from\nthe fighter's position.\n\n27\n00:01:19.680 --> 00:01:22.610\nThough we can fire up and\ndown all over the place.\n\n28\n00:01:22.610 --> 00:01:25.800\nBut right now we're getting one and\nhit the space bar a bunch of times,\n\n29\n00:01:25.800 --> 00:01:28.230\nit just kind of responds back to itself.\n\n30\n00:01:28.230 --> 00:01:32.214\nNow with that comes the management\nof multiple pellets.\n\n31\n00:01:32.214 --> 00:01:33.955\nWe have to be careful.\n\n32\n00:01:33.955 --> 00:01:38.148\nBut I think I'm gonna keep that\nkind of the simple way, and\n\n33\n00:01:38.148 --> 00:01:43.026\nlet the game manage the list of\npellets that the array, if you will,\n\n34\n00:01:43.026 --> 00:01:46.210\nthe JavaScript array of pellets.\n\n35\n00:01:46.210 --> 00:01:50.710\nAnd then that way,\nwe can let what we need to build fall out.\n\n36\n00:01:50.710 --> 00:01:52.700\nBut we want to get all of those done.\n\n37\n00:01:52.700 --> 00:01:57.010\nSo, let's take a look here,\nand what do we have?\n\n38\n00:01:57.010 --> 00:02:00.210\nWe're checking if a pellet, and we had to\nadd some of these because we're removing\n\n39\n00:02:00.210 --> 00:02:02.830\nthe attacker that currently exists,\nthe only attacker.\n\n40\n00:02:02.830 --> 00:02:04.669\nI'm gonna go ahead and\nlet the attacker start moving again.\n\n41\n00:02:04.669 --> 00:02:06.396\nThat's just not fair.\n\n42\n00:02:06.396 --> 00:02:09.849\n&gt;&gt; [LAUGH]\n&gt;&gt; But if attacker and\n\n43\n00:02:09.849 --> 00:02:14.139\nattacker hits edge\nhere's the trick though,\n\n44\n00:02:14.139 --> 00:02:21.410\nif I remove the attacker then this gets\na little else if attacker, there we go.\n\n45\n00:02:21.410 --> 00:02:23.620\nSo we're gonna let them move.\n\n46\n00:02:23.620 --> 00:02:25.130\nOtherwise it's just not gonna do anything.\n\n47\n00:02:26.400 --> 00:02:28.807\nAnd ultimately that would change cuz\nwe're gonna have a bunch of attackers as\n\n48\n00:02:28.807 --> 00:02:29.850\nwe've talked about.\n\n49\n00:02:29.850 --> 00:02:31.630\nBut how do I get a bunch of pellets.\n\n50\n00:02:32.780 --> 00:02:37.310\nOkay, how do I get a great deal of\npellets, well if we come up here and\n\n51\n00:02:37.310 --> 00:02:42.940\ninstead of a single pellet I'm\nthinking we just say pellets,\n\n52\n00:02:42.940 --> 00:02:45.020\nand that's an empty array, just like that.\n\n53\n00:02:46.060 --> 00:02:53.940\nAnd here we create a pellet inside of\nthe context of the switch statement.\n\n54\n00:02:53.940 --> 00:02:58.478\nAnd then we just add that to\nthe pellets array, like so,\n\n55\n00:02:58.478 --> 00:03:04.770\npellets.push(pellet), you're like okay,\nI got it, I think it works.\n\n56\n00:03:04.770 --> 00:03:08.994\nWe come back and you refresh it's\na whole bunch of broke, isn't it.\n\n57\n00:03:08.994 --> 00:03:13.711\nAnd that's because well, we have a pellet\n[INAUDIBLE] well it's not pellet anymore,\n\n58\n00:03:13.711 --> 00:03:14.640\nit's pellets.\n\n59\n00:03:14.640 --> 00:03:17.841\nThe first thing people will do is,\nwell it's an array so\n\n60\n00:03:17.841 --> 00:03:20.440\nthat I don't have to\ncheck if it's an array.\n\n61\n00:03:20.440 --> 00:03:23.400\nAnd I get to say,\npellets.render got you in.\n\n62\n00:03:23.400 --> 00:03:29.322\nI can say pellet, I don't really need\nthis and, they'll just start adding Ss,\n\n63\n00:03:29.322 --> 00:03:34.829\nand I'm not saying I've been guilty\nof this but I've been guilty of this.\n\n64\n00:03:34.829 --> 00:03:37.759\n&gt;&gt; [LAUGH]\n&gt;&gt; Not really thinking, just kind\n\n65\n00:03:37.759 --> 00:03:41.992\nof adding things programmatically or\nwithout conscious effort.\n\n66\n00:03:41.992 --> 00:03:46.270\nSo I come back and I'm like that\nshould work and then it's broke.\n\n67\n00:03:46.270 --> 00:03:49.120\nAnd that's because we don't\nhave a custom object.\n\n68\n00:03:49.120 --> 00:03:52.230\nWe're not using a custom object for\nthese pellets, where did it go?\n\n69\n00:03:52.230 --> 00:03:53.850\nWe're using an array.\n\n70\n00:03:53.850 --> 00:03:59.120\nNow, does this array, I can't even test to\nsee if it does anything because it hits,\n\n71\n00:03:59.120 --> 00:04:02.230\nand all of those are not working so\n\n72\n00:04:02.230 --> 00:04:06.210\nlet's just get it to where it'll work so\nit doesn't air out.\n\n73\n00:04:06.210 --> 00:04:10.150\nSo everywhere that the pellets portion is,\nI'm just gonna comment that out for now.\n\n74\n00:04:12.170 --> 00:04:15.190\nAnd pellets, and there we go.\n\n75\n00:04:15.190 --> 00:04:18.460\nAnd then I'm gonna refresh, and\nnow all of our errors are gone.\n\n76\n00:04:18.460 --> 00:04:20.260\nLet's look at pellets.\n\n77\n00:04:20.260 --> 00:04:21.780\nSo there's pellets, it's empty.\n\n78\n00:04:21.780 --> 00:04:24.777\nI'm gonna hit, okay.\n\n79\n00:04:24.777 --> 00:04:27.988\nDoesn't look like anything's happening,\nbut\n\n80\n00:04:27.988 --> 00:04:33.089\nif you come here, that's a whole\nbunch of pellets that I've fired off.\n\n81\n00:04:33.089 --> 00:04:37.519\nNow they're not changing, they're not\nmoving because I'm not modifying them.\n\n82\n00:04:37.519 --> 00:04:40.650\nAnd this is where it gets a little iffy.\n\n83\n00:04:40.650 --> 00:04:44.210\nYou now have a collection of individual\nobjects that have those methods,\n\n84\n00:04:44.210 --> 00:04:48.280\nand now you have to iterate through the\ncollection every time the frame paints.\n\n85\n00:04:48.280 --> 00:04:49.520\nSo if you think about this,\n\n86\n00:04:49.520 --> 00:04:53.580\nif I had 10 million pellets, this is\nprobably gonna be a slow playing game.\n\n87\n00:04:53.580 --> 00:05:00.040\nAnd the reason being is I have to iterate\nthrough 10 million every time I need\n\n88\n00:05:00.040 --> 00:05:02.880\nto update, every time I need to render,\nevery time I need to check something.\n\n89\n00:05:02.880 --> 00:05:04.040\nThat's probably not good.\n\n90\n00:05:04.040 --> 00:05:07.820\nHowever, with a small amount\nI think we'll be good.\n\n91\n00:05:07.820 --> 00:05:13.260\nSo let's do the first couple,\nokay, just to get a feel for it.\n\n92\n00:05:13.260 --> 00:05:21.070\nSo pellets.render, that's not gonna work\ncuz render is not a method on an array.\n\n93\n00:05:21.070 --> 00:05:24.580\nBut what we could do is say,\n\n94\n00:05:24.580 --> 00:05:28.874\nforEach(pellet) in pellets.\n\n95\n00:05:28.874 --> 00:05:33.461\nThen function pellet.\n\n96\n00:05:33.461 --> 00:05:39.090\nThen pellet.render just like that and\ndon't forget your other parentheses.\n\n97\n00:05:39.090 --> 00:05:42.130\nSo, in render we're gonna say,\nclear direct.\n\n98\n00:05:42.130 --> 00:05:45.445\nFor all the pellets, for each of them,\nI want you to render them.\n\n99\n00:05:45.445 --> 00:05:50.630\nAnd then render the fighter and\nthen render the attacker if it exists.\n\n100\n00:05:53.140 --> 00:05:55.990\nWell, we probably need to do\nthe same thing for move so\n\n101\n00:05:55.990 --> 00:05:59.118\nwe can actually see them and\nmove throughout.\n\n102\n00:05:59.118 --> 00:06:04.688\nSo pellets.forEach(pellet =&gt;\n\n103\n00:06:04.688 --> 00:06:11.300\npellet.move()) just like that.\n\n104\n00:06:11.300 --> 00:06:13.072\nThen refresh.\nNo errors, that's good.\n\n105\n00:06:13.072 --> 00:06:16.548\nAnd I have a spacebar over here,\nso that's not gonna work.\n\n106\n00:06:19.584 --> 00:06:21.155\nAnd now we have a bunch of pellets.\n\n107\n00:06:21.155 --> 00:06:24.254\nNow I'm doing this-\n&gt;&gt; To demonstrate something.\n\n108\n00:06:24.254 --> 00:06:29.690\nNumber one, we don't have that little\nshort fire burst that goes away.\n\n109\n00:06:29.690 --> 00:06:33.238\nBut also, now if we go and\nlook at pellets, the collection.\n\n110\n00:06:33.238 --> 00:06:34.470\nWe have 73 of them.\n\n111\n00:06:34.470 --> 00:06:40.192\nI don't see 73 pellets on the board.\n\n112\n00:06:40.192 --> 00:06:44.316\nWell we're probably gonna have to address\nthat cuz now the longer you play the game\n\n113\n00:06:44.316 --> 00:06:46.604\nthere's no garbage collection being done.\n\n114\n00:06:46.604 --> 00:06:50.775\nLet's say you have it on a level where\nthere's like 1,000 attackers and\n\n115\n00:06:50.775 --> 00:06:55.009\nyou're just [SOUND] the games are gonna\nprogressively get slower and slower and\n\n116\n00:06:55.009 --> 00:06:56.696\nslower and eat up more memory.\n\n117\n00:06:56.696 --> 00:07:01.517\nMainly because you have objects that\nare now off screen that you can no\n\n118\n00:07:01.517 --> 00:07:03.773\nlonger use that aren't valid.\n\n119\n00:07:05.666 --> 00:07:10.593\nBut let's see if we can,\nI missed my chance.\n\n120\n00:07:10.593 --> 00:07:13.490\nAll right,\nI had it focused on the wrong thing.\n\n121\n00:07:13.490 --> 00:07:16.810\nLet's see if we can actually hit\nour little attacker friend here,\n\n122\n00:07:16.810 --> 00:07:18.320\nbefore he gets to us.\n\n123\n00:07:18.320 --> 00:07:20.500\nAnd now the pellets don't, see that.\n\n124\n00:07:20.500 --> 00:07:23.750\nWell, let's fix that before we\nworry about all those other things.\n\n125\n00:07:25.100 --> 00:07:26.090\nThis if statement here.\n\n126\n00:07:27.910 --> 00:07:30.851\nIf pellets hit, well, okay.\n\n127\n00:07:30.851 --> 00:07:32.558\nThat's not gonna work.\n\n128\n00:07:32.558 --> 00:07:35.923\nWhat we want is just pellet.\n\n129\n00:07:35.923 --> 00:07:39.963\nAnd then I'm gonna grab this,\njust like so, and\n\n130\n00:07:39.963 --> 00:07:44.401\nI'm gonna say\npellets.forEach(pellet =&gt; { and\n\n131\n00:07:44.401 --> 00:07:50.629\nnow I'm actually gonna make a function\nhere, or a full fledged function.\n\n132\n00:07:50.629 --> 00:07:56.469\nIf the pellet, any of the pellets hit\nthe attacker, set the attacker to null.\n\n133\n00:07:56.469 --> 00:07:59.585\nLikewise set the pellet to null.\n\n134\n00:07:59.585 --> 00:08:01.895\nBut the pellet is actually part\nof a collection so that's not,\n\n135\n00:08:01.895 --> 00:08:03.525\nI don't think that's gonna work.\n\n136\n00:08:05.170 --> 00:08:10.150\nWhat we want to do is remove\nthis pellet from the array.\n\n137\n00:08:10.150 --> 00:08:11.690\nWe want to remove it from the array.\n\n138\n00:08:12.720 --> 00:08:14.570\nLet's see if the attacker thing works,\n\n139\n00:08:14.570 --> 00:08:16.470\nthough, before we worry\nabout anything else.\n\n140\n00:08:16.470 --> 00:08:21.130\nI should have started spamming\nthe keyboard way before then.\n\n141\n00:08:21.130 --> 00:08:27.200\nSo here's our pellets and boom,\ncannot read x property of null.\n\n142\n00:08:27.200 --> 00:08:28.660\nWhere did that occur?\n\n143\n00:08:28.660 --> 00:08:33.020\nHere, other, other, other.\n\n144\n00:08:33.020 --> 00:08:37.690\nWell, now we're back to the part where,\nas soon as I make that null,\n\n145\n00:08:37.690 --> 00:08:43.810\nI have to check if there's a attacker,\nand the pellet hits the attacker.\n\n146\n00:08:43.810 --> 00:08:45.550\nSo I have to change that\nlogic a little bit.\n\n147\n00:08:45.550 --> 00:08:46.300\nThat's okay for now.\n\n148\n00:08:48.170 --> 00:08:52.760\nAnd I think I'm gonna stop\nthe attacker from moving, just so\n\n149\n00:08:52.760 --> 00:08:55.287\nwe can speed this up a little bit.\n\n150\n00:08:55.287 --> 00:09:00.444\nAnd boom, what'd you notice\nabout the pellet there Zach?\n\n151\n00:09:04.436 --> 00:09:08.064\nIt would decimate an entire\narmy of attackers.\n\n152\n00:09:08.064 --> 00:09:09.425\n&gt;&gt; [LAUGH]\n&gt;&gt; It just keeps going.\n\n153\n00:09:09.425 --> 00:09:10.643\n&gt;&gt; Right, it does, it does.\n\n154\n00:09:10.643 --> 00:09:14.750\nAnd let me ask you about this,\nthe if check?\n\n155\n00:09:14.750 --> 00:09:16.150\nDo we need the if check?\n\n156\n00:09:16.150 --> 00:09:17.697\nIs that one thing that we\nneed to go back and look at?\n\n157\n00:09:17.697 --> 00:09:20.330\n&gt;&gt; So right now, we're gonna have that.\n\n158\n00:09:20.330 --> 00:09:22.410\nBut eventually in these collections,\nlike for\n\n159\n00:09:22.410 --> 00:09:28.050\ninstance this render, only the pellets\nthat exist in there will be rendered.\n\n160\n00:09:28.050 --> 00:09:33.900\nSo we no longer have to check if the\npellet exists, because this will only run,\n\n161\n00:09:33.900 --> 00:09:38.680\nthis for each will only run for\nthe pellets that are kind of accrued.\n\n162\n00:09:38.680 --> 00:09:41.560\nBut what we're running into\nis a couple of things.\n\n163\n00:09:41.560 --> 00:09:44.746\nNumber one, we have a single attacker and\nwe're moving that and\n\n164\n00:09:44.746 --> 00:09:46.581\nthen we still have to if check there.\n\n165\n00:09:46.581 --> 00:09:51.751\nBut we also need to be careful\nthat this pellet is null and\n\n166\n00:09:51.751 --> 00:09:57.475\njust to show you if I come back and\njust fire just a couple more.\n\n167\n00:10:00.028 --> 00:10:05.190\nIf we look at pellets, actually,\nlet me refresh and just shoot one pellet.\n\n168\n00:10:06.540 --> 00:10:07.890\nThere it is.\n\n169\n00:10:07.890 --> 00:10:11.655\nSo if we look at pellets here,\nit's still a pellet.\n\n170\n00:10:11.655 --> 00:10:12.300\n&gt;&gt; Mm-hm.\n\n171\n00:10:12.300 --> 00:10:13.140\n&gt;&gt; It's still there.\n\n172\n00:10:13.140 --> 00:10:15.650\nEven though I tried to set it to null,\nthat doesn't change the array.\n\n173\n00:10:15.650 --> 00:10:17.120\nIt doesn't mutate the array.\n\n174\n00:10:17.120 --> 00:10:17.620\n&gt;&gt; Okay.\n\n175\n00:10:18.800 --> 00:10:20.940\n&gt;&gt; So we probably need to remove that.\n\n176\n00:10:20.940 --> 00:10:25.640\nThis no longer works because we're just\nsetting the temporary variable to null and\n\n177\n00:10:25.640 --> 00:10:26.740\nthat's not gonna happen.\n\n178\n00:10:26.740 --> 00:10:29.510\n&gt;&gt; All right.\n&gt;&gt; So if there's an attacker and\n\n179\n00:10:29.510 --> 00:10:34.600\na pellet hits the attacker, what we\nwant to do is say pellets.splice().\n\n180\n00:10:34.600 --> 00:10:39.250\nNow I'm not big on mutation but\nsometimes it's necessary,\n\n181\n00:10:39.250 --> 00:10:44.700\nespecially if you just wanna kinda\nkeep a queue or collection in and out.\n\n182\n00:10:44.700 --> 00:10:47.420\nSo what splice will do is\nlook up to that position and\n\n183\n00:10:47.420 --> 00:10:50.640\nremove that amount from that position.\n\n184\n00:10:50.640 --> 00:10:54.320\nSo if the pellet is at the third\nposition in the list, and\n\n185\n00:10:54.320 --> 00:10:56.408\nyou put one,\nit's gonna remove the third one.\n\n186\n00:10:56.408 --> 00:10:58.221\nBoom, okay?\n\n187\n00:10:58.221 --> 00:11:02.779\nNow we have to be careful here,\nwe may have to tweak this because as we're\n\n188\n00:11:02.779 --> 00:11:05.638\nmoving forward if we\nremove we may skip some.\n\n189\n00:11:05.638 --> 00:11:12.516\nSo right now I'm using forEach,\nwe'll stay with that for now.\n\n190\n00:11:12.516 --> 00:11:15.458\nBut where do I get this index?\n\n191\n00:11:15.458 --> 00:11:18.930\nWell, this forEach actually\ngives us the pellet and\n\n192\n00:11:18.930 --> 00:11:21.770\nwill give us the index for each pellet.\n\n193\n00:11:21.770 --> 00:11:25.388\nSo it gives us the object and\nthe index where it lies in the array.\n\n194\n00:11:25.388 --> 00:11:30.991\nSo now we should be able\nto remove this accordingly.\n\n195\n00:11:30.991 --> 00:11:35.415\nThere we go and if you, over here,\nboom, now it removes and\n\n196\n00:11:35.415 --> 00:11:40.740\nthat's what we anticipated would happen or\nhoped would happen.\n\n197\n00:11:40.740 --> 00:11:42.618\nAnd there we go we have\na bunch of pellets.\n\n198\n00:11:42.618 --> 00:11:46.346\nThough one final thing though,\nis we still have those eight pellets.\n\n199\n00:11:46.346 --> 00:11:49.560\nWe should probably remove\nthose if they're offspring.\n\n200\n00:11:49.560 --> 00:11:51.550\nIf they're out of bounds so to speak.\n\n201\n00:11:53.190 --> 00:11:55.000\nSo where would we do that?\n\n202\n00:11:55.000 --> 00:11:57.383\nWell in update,\nI think update's a good place.\n\n203\n00:11:57.383 --> 00:12:02.327\nAnd as a matter of fact we should\nprobably just put it right here\n\n204\n00:12:02.327 --> 00:12:05.572\ninside of this for loop, this forEach.\n\n205\n00:12:05.572 --> 00:12:09.885\nBut we need to do that,\nlet's say outOfBounds, and\n\n206\n00:12:09.885 --> 00:12:16.353\nthis is gonna be very similar to the hits\nedge, we wanna see if it hits the edge,\n\n207\n00:12:16.353 --> 00:12:20.389\nbut here we wanna see if\nit's just out of bounds.\n\n208\n00:12:20.389 --> 00:12:21.096\n&gt;&gt; Mm-hm.\n\n209\n00:12:21.096 --> 00:12:25.320\n&gt;&gt; Or we could put out of the atmosphere.\n\n210\n00:12:27.020 --> 00:12:28.970\nOut of bounds, and\nthen what is the boundary?\n\n211\n00:12:31.040 --> 00:12:35.030\nAnd then, if we return this.y, and\n\n212\n00:12:35.030 --> 00:12:40.110\nI just like to put that to think about it,\nbut we don't need it in this case.\n\n213\n00:12:40.110 --> 00:12:42.946\nIf it's less than or equal to 0,\nbecause y is the top.\n\n214\n00:12:42.946 --> 00:12:45.831\nSo it's out of bounds on the top.\n\n215\n00:12:45.831 --> 00:12:51.022\nIf was moving in another direction,\nthen that would make sense.\n\n216\n00:12:51.022 --> 00:12:55.725\nActually, let's- intoOrbit.\n\n217\n00:12:58.722 --> 00:13:00.390\nOr how about isInOrbit.\n\n218\n00:13:02.040 --> 00:13:05.930\nIf it goes into orbit let's remove it,\nI think that's a little more of\n\n219\n00:13:05.930 --> 00:13:09.660\na descriptive and\nadds a nice touch of readability.\n\n220\n00:13:09.660 --> 00:13:12.824\nSo if we came down here and now for\neach pellet if there's an attacker and\n\n221\n00:13:12.824 --> 00:13:14.745\nthe pellet hits the attacker, remove it.\n\n222\n00:13:14.745 --> 00:13:16.947\nIf that is not the case,\n\n223\n00:13:21.926 --> 00:13:28.561\nIf the pallet is in\norbit then we also want\n\n224\n00:13:28.561 --> 00:13:34.620\nto remove that pellet from the list.\n\n225\n00:13:34.620 --> 00:13:37.424\nSo once it goes off screen,\nit will be removed.\n\n226\n00:13:37.424 --> 00:13:42.551\nSo I actually have to focus,\n\n227\n00:13:42.551 --> 00:13:47.685\nboom, and then there we go.\n\n228\n00:13:47.685 --> 00:13:52.120\nNow if we look at pellets, it's now\nempty because it's removing from itself.\n\n229\n00:13:52.120 --> 00:13:55.353\nAs I said, we may encounter some issues,\ncuz I'm using a forEach to\n\n230\n00:13:55.353 --> 00:13:58.280\nmake sure we don't have over-runs or\nout of bounds errors.\n\n231\n00:13:58.280 --> 00:14:01.765\nBut we can run into some issues\nlike you're mutating an array.\n\n232\n00:14:01.765 --> 00:14:06.670\n&gt;&gt; Mm-hm.\n\n233\n00:14:06.670 --> 00:14:09.948\n&gt;&gt; So if you remove the element\nthat you just iterated on,\n\n234\n00:14:09.948 --> 00:14:13.320\nthat position will actually\nbe kind of moved back down.\n\n235\n00:14:13.320 --> 00:14:17.487\nSo sometimes moving forward through there,\nand I would have to double check.\n\n236\n00:14:17.487 --> 00:14:20.937\nWe're gonna leave it be cuz forEach\nmay handle that behind the scenes,\n\n237\n00:14:20.937 --> 00:14:21.866\nit kinda depends.\n\n238\n00:14:21.866 --> 00:14:23.316\nWe're not gonna worry about it for\n\n239\n00:14:23.316 --> 00:14:25.618\nnow, but it is something to\nkeep in the back of my mind.\n\n240\n00:14:25.618 --> 00:14:26.640\nBut there you have it Zach,\n\n241\n00:14:26.640 --> 00:14:28.781\nwe actually have the ability\nto shoot a bunch of pellets.\n\n242\n00:14:28.781 --> 00:14:31.242\nAnd as a matter of fact,\n\n243\n00:14:31.242 --> 00:14:36.043\nwe can just hold down-\n&gt;&gt; [SOUND] It seems like a very easy win\n\n244\n00:14:36.043 --> 00:14:36.754\nthough.\n\n245\n00:14:36.754 --> 00:14:39.379\n&gt;&gt; It does seem like a very easy win.\n\n246\n00:14:39.379 --> 00:14:42.065\n&gt;&gt; So shouldn't we change that so you know\nthere's a little competition going on.\n\n247\n00:14:42.065 --> 00:14:45.548\n&gt;&gt; Yeah I don't think this is\nreal fair to the [INAUDIBLE].\n\n248\n00:14:45.548 --> 00:14:48.093\nCuz I don't even really need to move now,\nI just hold it down, right?\n\n249\n00:14:48.093 --> 00:14:48.648\n&gt;&gt; Mm-hm.\n\n250\n00:14:48.648 --> 00:14:51.296\n&gt;&gt; So Zach, I will let you choose.\n\n251\n00:14:51.296 --> 00:14:55.911\nSo one of these old nostalgia arcade\ngames, a lot of times, when you were able\n\n252\n00:14:55.911 --> 00:14:57.869\nto fire pellets like this-\n&gt;&gt; Right.\n\n253\n00:14:59.040 --> 00:15:02.490\n&gt;&gt; What would happen is, you would be\nlimited to, like, two on screen at a time.\n\n254\n00:15:05.070 --> 00:15:08.727\nSo I'm thinking two, three on screen.\n\n255\n00:15:08.727 --> 00:15:10.432\nWhich is your favorite number,\ntwo or three?\n\n256\n00:15:10.432 --> 00:15:11.070\n&gt;&gt; Three, sir.\n\n257\n00:15:11.070 --> 00:15:13.040\n&gt;&gt; All right, we're gonna go with three.\n\n258\n00:15:13.040 --> 00:15:16.760\nWe're gonna limit it to three\npellets at a time on the screen.\n\n259\n00:15:16.760 --> 00:15:19.220\nNow what that means is is we're\ngonna fire again as soon as it hits,\n\n260\n00:15:19.220 --> 00:15:21.030\nbecause those are gonna be\nremoved from the array.\n\n261\n00:15:21.030 --> 00:15:21.850\n&gt;&gt; Right.\n\n262\n00:15:21.850 --> 00:15:23.500\n&gt;&gt; Also,\nas soon as the one goes out of bounds,\n\n263\n00:15:23.500 --> 00:15:25.470\nwe're gonna be able to do that as well.\n\n264\n00:15:25.470 --> 00:15:31.510\nThat seems like a rough thing like,\nthis is gonna take a lot of work.\n\n265\n00:15:31.510 --> 00:15:35.068\nI think we're actually gonna be all right,\ncuz all we're gonna need to do is\n\n266\n00:15:35.068 --> 00:15:37.915\ncheck the length and\nthen only execute the spacebar action.\n\n267\n00:15:37.915 --> 00:15:41.012\nIf the length is less than the limit.\n\n268\n00:15:41.012 --> 00:15:41.767\n&gt;&gt; Okay.\n\n269\n00:15:41.767 --> 00:15:42.370\n&gt;&gt; Right?\n\n270\n00:15:42.370 --> 00:15:46.549\nNow, we're just gonna hardcode this\nvalue for now, but I would probably pull\n\n271\n00:15:46.549 --> 00:15:50.369\nthis out until maybe a configuration\nconstant or something like that.\n\n272\n00:15:50.369 --> 00:15:53.925\nBut let's go ahead and do that, I don't\nthink that will be too hard and then I\n\n273\n00:15:53.925 --> 00:15:57.593\nthink we'll have a whole bunch of pellets-\n&gt;&gt; [CROSSTALK] the pellets.\n\n274\n00:15:57.593 --> 00:16:01.613\n&gt;&gt; At least for now, we may see an\nabstraction follow this in a later time,\n\n275\n00:16:01.613 --> 00:16:03.627\nbut it may make a little more sense.\n\n276\n00:16:03.627 --> 00:16:06.957\nSo let's go ahead and\ntake a look back at the screen and\n\n277\n00:16:06.957 --> 00:16:11.619\nlet's make sure we've had a bunch of\ntimes I've shot a bunch of pellets and\n\n278\n00:16:11.619 --> 00:16:15.188\nit's still zero and\nI can just [SOUND] just hammer away at.\n\n279\n00:16:15.188 --> 00:16:19.500\n&gt;&gt; [LAUGH]\n&gt;&gt; So [CROSSTALK] the attacker moving and\n\n280\n00:16:19.500 --> 00:16:24.011\nthe attacker hitting the edge,\nit still does that.\n\n281\n00:16:24.011 --> 00:16:25.113\nWe'll leave that.\n\n282\n00:16:25.113 --> 00:16:30.157\nBut I only want this\n\n283\n00:16:30.157 --> 00:16:34.572\nportion to occur\n\n284\n00:16:34.572 --> 00:16:43.093\nif(pellets.length &lt; 2).\n\n285\n00:16:43.093 --> 00:16:46.505\nLess than or equal to 0,1,\n\n286\n00:16:46.505 --> 00:16:51.288\nactually, let's just say less than 2.\n\n287\n00:16:53.792 --> 00:16:54.810\nThen do this.\n\n288\n00:16:58.660 --> 00:17:03.972\nSo, this is only allowed if there's\nnot already two pellets in the list,\n\n289\n00:17:03.972 --> 00:17:07.493\nwhich means there's two\npellets on the screen.\n\n290\n00:17:07.493 --> 00:17:10.808\nSo, if we look there and we refresh.\n\n291\n00:17:15.027 --> 00:17:18.552\nNotice it only allows me\nto shoot two at a time and\n\n292\n00:17:18.552 --> 00:17:22.532\nthen I can shoot again as\nsoon as it hits the attacker.\n\n293\n00:17:22.532 --> 00:17:23.186\n&gt;&gt; Very good.\n\n294\n00:17:23.186 --> 00:17:25.521\n&gt;&gt; So that was actually a pretty easy fix.\n\n295\n00:17:25.521 --> 00:17:29.021\nNow, I'm using a raw JavaScript array,\njust to handle these and\n\n296\n00:17:29.021 --> 00:17:30.750\nmanage these in a global state.\n\n297\n00:17:30.750 --> 00:17:33.850\nThat may have to change a little bit,\nin due time.\n\n298\n00:17:33.850 --> 00:17:35.240\nBut for now, we're just gonna leave that.\n\n299\n00:17:35.240 --> 00:17:38.632\nWe have a bunch of pellets, and\nthat actually leads us into,\n\n300\n00:17:38.632 --> 00:17:42.990\nI could probably create a bunch\nof attackers that way, right?\n\n301\n00:17:42.990 --> 00:17:46.330\nProbably, but we need some more\ninformation about the attacker.\n\n302\n00:17:46.330 --> 00:17:47.870\nThis is a good start, but\n\n303\n00:17:47.870 --> 00:17:50.600\nour attackers are gonna be\na little more complex than that.\n\n304\n00:17:50.600 --> 00:17:52.740\nAnd we should probably do a little\nbit of cleanup in this file.\n\n305\n00:17:52.740 --> 00:17:57.335\nThis file is getting fairly large, kind of\nbig, and a lot of issues with the reading.\n\n306\n00:17:57.335 --> 00:18:00.278\nSo I would do a little bit of cleanup,\nlittle bit of refactor,\n\n307\n00:18:00.278 --> 00:18:03.957\nactually formalize this game and\nthen we're gonna move on to our attackers,\n\n308\n00:18:03.957 --> 00:18:06.013\nand then it's gonna turn into a real game.\n\n309\n00:18:06.013 --> 00:18:09.223\n&gt;&gt; Wow, that's episode two\nof creating the pellets.\n\n310\n00:18:09.223 --> 00:18:10.219\nWe had episode one.\n\n311\n00:18:10.219 --> 00:18:10.882\nSee them both.\n\n312\n00:18:10.882 --> 00:18:11.797\nYou'll be glad you did.\n\n313\n00:18:11.797 --> 00:18:12.703\nAny last words?\n\n314\n00:18:12.703 --> 00:18:17.326\n&gt;&gt; Well, definitely stay tuned, because\nI'm thinking once we get our general game\n\n315\n00:18:17.326 --> 00:18:20.083\ndynamics down,\nmaybe we'll add some sprites.\n\n316\n00:18:20.083 --> 00:18:23.363\nSo they're not just blocks,\nmaybe they're actually images,\n\n317\n00:18:23.363 --> 00:18:25.560\nwhich can become a little more difficult.\n\n318\n00:18:25.560 --> 00:18:26.184\n&gt;&gt; Baby ducks?\n\n319\n00:18:26.184 --> 00:18:28.017\n&gt;&gt; We could do baby ducks.\n\n320\n00:18:28.017 --> 00:18:29.517\nAttack of the baby ducks.\n\n321\n00:18:29.517 --> 00:18:31.792\n&gt;&gt; [LAUGH] It's like evil ducks.\n\n322\n00:18:31.792 --> 00:18:34.311\n&gt;&gt; Are any ducks evil?\n\n323\n00:18:34.311 --> 00:18:35.137\nI'm not sure.\n\n324\n00:18:35.137 --> 00:18:36.332\n&gt;&gt; Who knows, who knows.\n\n325\n00:18:36.332 --> 00:18:40.541\n&gt;&gt; They are very territorial though,\nmaybe not the baby ones.\n\n326\n00:18:40.541 --> 00:18:47.307\nBut maybe we'll add some sprites, maybe\nwe add some other things, some niceties,\n\n327\n00:18:47.307 --> 00:18:53.710\nbut also maybe we add the ability to\nhave different difficulty levels, right?\n\n328\n00:18:53.710 --> 00:18:55.650\n&gt;&gt; Yeah.\n&gt;&gt; This is one of those things where as\n\n329\n00:18:55.650 --> 00:18:58.234\nyou play the [CROSSTALK] just get faster-\n&gt;&gt; Gets harder and harder.\n\n330\n00:18:58.234 --> 00:19:02.665\n&gt;&gt; Okay, in addition to there's a few\ncontrol tweaks that I wanna do.\n\n331\n00:19:02.665 --> 00:19:05.972\nI don't necessarily like hitting\nbuttons every time in order to move but\n\n332\n00:19:05.972 --> 00:19:07.705\nwe're gonna stay with that for now but\n\n333\n00:19:07.705 --> 00:19:10.052\ndefinitely stay tuned\nthere's a lot more coming.\n\n334\n00:19:10.052 --> 00:19:15.760\nAs we see this evolve into a more full\nfledged maybe nicer looking game.\n\n335\n00:19:15.760 --> 00:19:20.060\n&gt;&gt; Well the entire series of\nHTML5 Canvas projects is exciting, and\n\n336\n00:19:20.060 --> 00:19:21.850\nit's getting better and better and better.\n\n337\n00:19:21.850 --> 00:19:22.870\nWatch every single one.\n\n338\n00:19:22.870 --> 00:19:25.570\nAnd also, go to our course library, check\nout all the hundreds of videos there,\n\n339\n00:19:25.570 --> 00:19:27.470\nare all designed to help you go further.\n\n340\n00:19:27.470 --> 00:19:31.090\nHey, and tell everyone you know about\nDEVPRO.TV, they'll be glad you did.\n\n341\n00:19:31.090 --> 00:19:32.002\nThanks for watching, I'm Zach Memos.\n\n342\n00:19:32.002 --> 00:19:32.851\n&gt;&gt; And I'm Justin Dennison.\n\n343\n00:19:32.851 --> 00:19:33.954\n&gt;&gt; And we'll see you soon.\n\n344\n00:19:33.954 --> 00:19:39.600\n[MUSIC]\n\n",
          "vimeoId": "236472518"
        },
        {
          "description": "In this episode, Justin takes some time to organize and cleanup as well as refactor the code to separate the concerns of the fighter, attacker, and pellet structures. Moreover, Justin creates a main game object that will be used to manage the animation and interactions.",
          "length": "1797",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-5-1-cleaning_up_and_refactoring-100217-PGM.00_30_46_01.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-5-1-cleaning_up_and_refactoring-100217-PGM.00_30_46_01.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-5-1-cleaning_up_and_refactoring-100217-PGM.00_30_46_01.Still001-sm.jpg",
          "title": "Cleaning Up and Refactoring",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:13.188 --> 00:00:15.302\nHello, and thank you for\nwatching DEVPRO.TV,\n\n3\n00:00:15.302 --> 00:00:16.857\nhelping you learn wherever you go.\n\n4\n00:00:16.857 --> 00:00:18.105\nI'm your host Zach Memos.\n\n5\n00:00:18.105 --> 00:00:20.939\nAnd you're watching\nHTML 5 Canvas Projects.\n\n6\n00:00:20.939 --> 00:00:24.254\nAnd this is cleaning up and\nrefactoring for this episode.\n\n7\n00:00:24.254 --> 00:00:28.205\nAnd bringing us the information we need\nis the one and only Dev Pro IT Expert,\n\n8\n00:00:28.205 --> 00:00:29.211\nJustin Dennison.\n\n9\n00:00:29.211 --> 00:00:30.620\nJustin, good to see you, sir.\n\n10\n00:00:30.620 --> 00:00:31.403\n&gt;&gt; It is good to see you as well, Zach.\n\n11\n00:00:31.403 --> 00:00:35.600\nAnd after that introduction, I don't know\nif we should even continue this episode.\n\n12\n00:00:35.600 --> 00:00:38.470\nI'm like, well, that made me sound\namazing, so we're just gonna go on.\n\n13\n00:00:38.470 --> 00:00:40.560\n&gt;&gt; [LAUGH]\n&gt;&gt; But how are you today, Zach?\n\n14\n00:00:40.560 --> 00:00:41.500\n&gt;&gt; I'm doing very well.\n\n15\n00:00:41.500 --> 00:00:43.200\nI'm excited,\nthis has been a wonderful series.\n\n16\n00:00:43.200 --> 00:00:46.790\nAnd you said last time, the last episode,\nwe were gonna be cleaning up and\n\n17\n00:00:46.790 --> 00:00:47.590\nrefactoring.\n\n18\n00:00:47.590 --> 00:00:50.010\nSo first of all, what does that mean and\nwhat do we have to do first?\n\n19\n00:00:50.010 --> 00:00:51.230\n&gt;&gt; So cleaning up and refractor.\n\n20\n00:00:51.230 --> 00:00:54.090\nRight now, that file, our app.js,\n\n21\n00:00:54.090 --> 00:00:58.320\nit pretty much has everything we've\nbeen doing in our code, right?\n\n22\n00:00:58.320 --> 00:01:00.080\nIt's all there.\n\n23\n00:01:00.080 --> 00:01:01.943\nThat may be hard times for\nmaintainability.\n\n24\n00:01:01.943 --> 00:01:05.638\nSo we're just gonna clean it up so\nwe have this separation of the fighters in\n\n25\n00:01:05.638 --> 00:01:08.410\nthe fighter file,\nthe attackers in the attacker file.\n\n26\n00:01:08.410 --> 00:01:12.268\nAnd maybe we should pull that into a game\nobject, so we're not gonna be polluting\n\n27\n00:01:12.268 --> 00:01:16.750\nthe global name space, and we don't have\nto reset all these variables and things.\n\n28\n00:01:16.750 --> 00:01:18.730\nIn addition to,\n\n29\n00:01:18.730 --> 00:01:22.870\nthere's probably going to be a few\nchanges to the code during that process.\n\n30\n00:01:22.870 --> 00:01:23.880\nSo during the cleanup,\n\n31\n00:01:23.880 --> 00:01:28.020\nsometimes we have change some of the code\nin order to make the cleanup work.\n\n32\n00:01:28.020 --> 00:01:29.330\nBecause we're changing the structure,\n\n33\n00:01:29.330 --> 00:01:32.270\nwe're refactoring how\nthings are structured.\n\n34\n00:01:32.270 --> 00:01:34.990\nSo that's ultimately what we have to do.\n\n35\n00:01:36.150 --> 00:01:40.490\nSo yeah, I think we should probably\ngo ahead and get started with that.\n\n36\n00:01:40.490 --> 00:01:41.365\n&gt;&gt; Yes.\n&gt;&gt; That's a lot of talking.\n\n37\n00:01:41.365 --> 00:01:43.790\nBut well, what is it gonna be.\n\n38\n00:01:43.790 --> 00:01:45.560\nSo let's go ahead and\ntake a look at my screen here, and\n\n39\n00:01:45.560 --> 00:01:49.180\nsee all of that fun\ncode that we have here.\n\n40\n00:01:49.180 --> 00:01:49.885\n&gt;&gt; But it is pretty.\n\n41\n00:01:49.885 --> 00:01:51.820\n&gt;&gt; And it is pretty.\nI like the syntax highlighting.\n\n42\n00:01:51.820 --> 00:01:55.590\nSo here's what I am talking about like\nwe have these global names spaces and\n\n43\n00:01:55.590 --> 00:01:58.600\nto some extent these are always\ngoing to be globally\n\n44\n00:01:58.600 --> 00:02:00.600\nname space because they\nhave to be available.\n\n45\n00:02:00.600 --> 00:02:04.410\nNow there is a way with ES6,\nthe new of JavaScript features or\n\n46\n00:02:04.410 --> 00:02:08.690\nthe build system, and even newer versions\nof browsers where it doesn't have to\n\n47\n00:02:08.690 --> 00:02:12.320\nbelong to the name space, it can be\nkind of sequestered away in a module.\n\n48\n00:02:12.320 --> 00:02:14.740\nBut we're kind of give and take here.\n\n49\n00:02:14.740 --> 00:02:17.780\nWe're using some new features, but we're\nnot gonna be able to use all of them.\n\n50\n00:02:17.780 --> 00:02:23.300\nJust, it's kind of a compromise between\nwhat's easy for everybody to follow along,\n\n51\n00:02:23.300 --> 00:02:26.930\nnot necessarily what I\nwould do ultimately.\n\n52\n00:02:26.930 --> 00:02:31.497\nSo, we have these global name spaces,\nthere's Fighter and Attacker and Pellet.\n\n53\n00:02:31.497 --> 00:02:37.387\nAnd these really should be\nin their own file, right?\n\n54\n00:02:37.387 --> 00:02:40.380\nThey shouldn't be in this file.\n\n55\n00:02:40.380 --> 00:02:42.930\nAll our definitions, everything.\n\n56\n00:02:42.930 --> 00:02:45.370\nIt's 134 lines of code.\n\n57\n00:02:45.370 --> 00:02:47.180\nThat's not bad.\n\n58\n00:02:47.180 --> 00:02:48.250\nBut if you keep adding.\n\n59\n00:02:48.250 --> 00:02:49.140\nI wanna add these features.\n\n60\n00:02:49.140 --> 00:02:50.580\nI want different types of Attackers,\n\n61\n00:02:50.580 --> 00:02:52.895\ndifferent types of Pellets,\ndifferent kind of Fighters.\n\n62\n00:02:54.208 --> 00:02:57.457\nNow I have to add game logic cuz currently\nour game logic is fairly simple.\n\n63\n00:02:57.457 --> 00:03:03.440\nIt's right here, we have update and\nit just updates everything, right?\n\n64\n00:03:03.440 --> 00:03:07.070\nWhich may continue to change\nas we add additional features.\n\n65\n00:03:07.070 --> 00:03:08.450\nAnd then main.\n\n66\n00:03:08.450 --> 00:03:11.460\nWell, it is request for\nthe next paint and update and render.\n\n67\n00:03:11.460 --> 00:03:18.500\nThat's not bad, but there's no telling\nhow complex this needs to get eventually.\n\n68\n00:03:18.500 --> 00:03:22.800\nSo maybe we kinda sequestered all four, at\nleast remove all the other noise from it.\n\n69\n00:03:22.800 --> 00:03:24.750\nSo, let's go ahead and do that.\n\n70\n00:03:24.750 --> 00:03:29.480\nI'm gonna open up my little side bar here\nand right here I have this js folder.\n\n71\n00:03:29.480 --> 00:03:31.180\nThere's nothing in it.\n\n72\n00:03:31.180 --> 00:03:32.020\nWe just have there.\n\n73\n00:03:32.020 --> 00:03:34.557\nWe were anticipating this\nfrom the very beginning.\n\n74\n00:03:34.557 --> 00:03:39.160\nBut, let's go and create a new file,\nand let's called this fighter.js.\n\n75\n00:03:39.160 --> 00:03:42.610\nSo I'm gonna do this\nincrementally just to make sure-\n\n76\n00:03:42.610 --> 00:03:44.120\n&gt;&gt; Good, good, that makes sense.\n\n77\n00:03:44.120 --> 00:03:46.200\n&gt;&gt; Okay, this works,\nthis still works, this still works.\n\n78\n00:03:46.200 --> 00:03:50.470\nThat way, if we rearrange all,\nwe don't have any test or anything.\n\n79\n00:03:50.470 --> 00:03:52.380\nOur testing is refresh and\nsee if it breaks.\n\n80\n00:03:53.430 --> 00:03:56.570\nIf we do this single manually,\nwe can chase down issues as they crop up.\n\n81\n00:03:56.570 --> 00:03:59.990\nIf you do the entire reorganization,\nwhat I'm doing this part,\n\n82\n00:03:59.990 --> 00:04:00.820\nthe actual cleaning up.\n\n83\n00:04:00.820 --> 00:04:07.240\nAnd then things bring, wait a minute,\nhow is this goes over here and, it can\n\n84\n00:04:07.240 --> 00:04:10.480\nbecome a little bit nightmarish if you're\nnot doing this from the very beginning.\n\n85\n00:04:10.480 --> 00:04:15.880\nSo let's go ahead and grab that Fighter,\nwhere's the Fighter here?\n\n86\n00:04:15.880 --> 00:04:18.430\nThere we go, and here's our Fighter.\n\n87\n00:04:19.770 --> 00:04:24.880\nAnd wait for it, I'm I definitely\nwould have normally used a mouse for\n\n88\n00:04:24.880 --> 00:04:26.970\nthat or maybe a Vim, but that's alright.\n\n89\n00:04:26.970 --> 00:04:28.278\nSo, there's our Fighter class.\n\n90\n00:04:28.278 --> 00:04:32.356\nIt is now in its own file and\nlet's just tab this over.\n\n91\n00:04:32.356 --> 00:04:33.690\nShouldn't have done that.\n\n92\n00:04:33.690 --> 00:04:34.976\nThere we go.\n\n93\n00:04:34.976 --> 00:04:38.289\nThat little border there, that gutter\nmakes it look like it's space over,\n\n94\n00:04:38.289 --> 00:04:39.460\nbut it's in fact not.\n\n95\n00:04:39.460 --> 00:04:40.175\n&gt;&gt; No.\n&gt;&gt; So, I'm going to save.\n\n96\n00:04:40.175 --> 00:04:44.090\nAnd if I was to go over and\nrefresh this, it's immediately broke.\n\n97\n00:04:44.090 --> 00:04:49.480\nAnd that is because the Fighter\nclass is not on our index.html page.\n\n98\n00:04:49.480 --> 00:04:50.930\nThere we go, so we need to fix that.\n\n99\n00:04:50.930 --> 00:04:53.674\nAnd this is what I am talking\nabout doing this incrementally,\n\n100\n00:04:53.674 --> 00:04:55.678\nand probably like Justin\nused to say this in so\n\n101\n00:04:55.678 --> 00:04:56.753\nmany other places-\n&gt;&gt; [LAUGH]\n\n102\n00:04:56.753 --> 00:04:58.199\n&gt;&gt; You're kinda humping on it.\n\n103\n00:04:58.199 --> 00:05:00.150\nBut I am trying to make you life easy.\n\n104\n00:05:00.150 --> 00:05:03.780\nRight, I'm trying to help [CROSSTALK]\n&gt;&gt; One step at a time, so\n\n105\n00:05:03.780 --> 00:05:07.626\nthat we don't make mistake\nwhen we go forward and try it.\n\n106\n00:05:07.626 --> 00:05:10.722\n&gt;&gt; Yeah, the biggest hindrance\nof being successful and\n\n107\n00:05:10.722 --> 00:05:14.311\nfeeling like you've accomplished\nsomething is debugging.\n\n108\n00:05:14.311 --> 00:05:18.070\nYou're like, I just moved this\none thing and now it's broke.\n\n109\n00:05:18.070 --> 00:05:24.769\nSo, you don't have to follow my advice,\nI strongly recommend it though.\n\n110\n00:05:24.769 --> 00:05:26.908\n[CROSSTALK]\n&gt;&gt; So we don't have to.\n\n111\n00:05:26.908 --> 00:05:28.040\n&gt;&gt; Yep, so there it is.\n\n112\n00:05:28.040 --> 00:05:30.840\nSo if I add that back, it's good to go.\n\n113\n00:05:30.840 --> 00:05:33.220\n&gt;&gt; Awesome.\n&gt;&gt; All right, so now that's good.\n\n114\n00:05:33.220 --> 00:05:36.640\nLet's go ahead and create that other one,\nthe Attacker so to speak.\n\n115\n00:05:37.840 --> 00:05:41.620\nAnd New File, and that's attacker.js.\n\n116\n00:05:41.620 --> 00:05:45.556\nThere we go.\nAnd I'm gonna come over here to the app\n\n117\n00:05:45.556 --> 00:05:50.170\nand grab the attacker class,\nand cut it, and\n\n118\n00:05:50.170 --> 00:05:54.300\nput it over here, paste, save.\n\n119\n00:05:54.300 --> 00:05:59.972\nSave this one, come over to\nthe index.html, boom, Attacker.\n\n120\n00:05:59.972 --> 00:06:02.940\nNow, here again, just to reiterate.\n\n121\n00:06:05.450 --> 00:06:08.870\nIf these were dependent on each other,\nthen the order may matter.\n\n122\n00:06:08.870 --> 00:06:12.050\nBut I know a Fighter and\nan Attacker are only used in app.js so\n\n123\n00:06:12.050 --> 00:06:14.950\ntheir order are not necessarily coupled.\n\n124\n00:06:14.950 --> 00:06:17.120\nSo do keep that in mind.\nIf we come back and we refresh,\n\n125\n00:06:17.120 --> 00:06:18.950\neverything is good to go.\n\n126\n00:06:18.950 --> 00:06:20.171\n&gt;&gt; Yay.\n&gt;&gt; Okay, so we've done that.\n\n127\n00:06:20.171 --> 00:06:22.080\nWe got one more class to extract.\n\n128\n00:06:23.990 --> 00:06:27.646\nAnd this is just so we can focus when\nwe're in app.js, we can focus on the game.\n\n129\n00:06:27.646 --> 00:06:29.639\nThe game logic only.\n\n130\n00:06:29.639 --> 00:06:34.406\nNow, we may end up changing\nthat to something even\n\n131\n00:06:34.406 --> 00:06:38.276\nmore kind of straightforward, right?\n\n132\n00:06:38.276 --> 00:06:41.900\nSo I'm gonna create a new Pellet file.\n\n133\n00:06:41.900 --> 00:06:46.938\nAnd here's our pellet.js, paste, save,\nsave this, come over to index.html.\n\n134\n00:06:46.938 --> 00:06:52.569\nAnd if you're using a full fledged IDE,\nintegrated development environment,\n\n135\n00:06:52.569 --> 00:06:57.284\nwhich has a lot of tooling along with it,\nor you even have plugins for\n\n136\n00:06:57.284 --> 00:07:02.206\nAdam that you've kind of sourced,\nsometimes this can be automated.\n\n137\n00:07:02.206 --> 00:07:05.606\nYou can say pull out into a class, and\nit'll automate some of those things for\n\n138\n00:07:05.606 --> 00:07:07.027\nyou, but I just do it manually.\n\n139\n00:07:07.027 --> 00:07:11.370\nSo, I tend to be a little bit of\na control freak and high capacity.\n\n140\n00:07:11.370 --> 00:07:14.591\nSo there's our re-factor so to speak.\n\n141\n00:07:14.591 --> 00:07:19.460\nAnd well, our clean up, excuse me.\n\n142\n00:07:19.460 --> 00:07:21.410\nAnd here is our game now.\n\n143\n00:07:21.410 --> 00:07:23.975\n&gt;&gt; [SOUND]\n&gt;&gt; So we have our addEventListener, and\n\n144\n00:07:23.975 --> 00:07:28.150\nwe have our render and our update\n&gt;&gt; And then, our main function and\n\n145\n00:07:28.150 --> 00:07:28.650\nthere they go.\n\n146\n00:07:28.650 --> 00:07:30.920\nThey have request animation frame.\n\n147\n00:07:30.920 --> 00:07:31.595\nWe're all good to go.\n\n148\n00:07:31.595 --> 00:07:34.190\n&gt;&gt; Justin is that all we have to do?\n\n149\n00:07:35.560 --> 00:07:36.745\n&gt;&gt; We could stop there.\n\n150\n00:07:36.745 --> 00:07:39.900\n&gt;&gt; [LAUGH]\n&gt;&gt; We've cleaned this up a bit.\n\n151\n00:07:39.900 --> 00:07:42.440\nWe could stop there, but I'm thinking.\n\n152\n00:07:43.492 --> 00:07:48.339\nI am thinking that maybe it's probably\nbest to pull these out of the global\n\n153\n00:07:48.339 --> 00:07:49.207\nname space.\n\n154\n00:07:49.207 --> 00:07:56.306\nMaybe decouple these just a touch with\nrespect to what we have on the screen.\n\n155\n00:07:56.306 --> 00:08:02.377\nWhat I mean is I have all of this,\nthis canvas is all that we need.\n\n156\n00:08:02.377 --> 00:08:06.395\nBut you know there, we need this,\nwe need this, we need,\n\n157\n00:08:06.395 --> 00:08:11.483\nif I encapsulate the account pull that\ntogether there is the ability to now\n\n158\n00:08:11.483 --> 00:08:17.110\nmake this dynamic, where I pass that\nin as a selector, what is the screen?\n\n159\n00:08:17.110 --> 00:08:20.020\nAnd then, again,\nI could make multiple ones of these games.\n\n160\n00:08:20.020 --> 00:08:22.850\nNow the Window Add Event Listener\ngets a little wonky we would have to\n\n161\n00:08:22.850 --> 00:08:26.100\nhandle that a little differently if we\nhave a bunch of these on one screen.\n\n162\n00:08:26.100 --> 00:08:30.520\nBut that's just something\nyou should be aware of.\n\n163\n00:08:30.520 --> 00:08:33.540\nSo what I'm gonna do is I'm gonna\npull this into a game object.\n\n164\n00:08:33.540 --> 00:08:38.530\nAnd initially I'm just gonna\ndo that inside of this.\n\n165\n00:08:38.530 --> 00:08:43.142\nIn previous times, what I've done, when\nyou've seen me refactor, is sometimes I've\n\n166\n00:08:43.142 --> 00:08:47.446\nused the revealing module pattern, where\nI just create a function called game, or\n\n167\n00:08:47.446 --> 00:08:50.783\nsomething of that nature,\nthat returns the object that I need.\n\n168\n00:08:50.783 --> 00:08:53.080\nThe method, or what not,\nat the very bottom.\n\n169\n00:08:53.080 --> 00:08:56.160\nI'm actually going to refactor this\ninto a class to keep some consistency\n\n170\n00:08:56.160 --> 00:08:57.330\nwithin this project.\n\n171\n00:08:57.330 --> 00:09:00.060\nNow, I'm not guaranteeing that I'll\nalways be able to do that as this project\n\n172\n00:09:00.060 --> 00:09:01.080\nprogresses.\n\n173\n00:09:01.080 --> 00:09:04.500\nBut some things can blame themselves\nto functions and module pattern.\n\n174\n00:09:04.500 --> 00:09:08.310\nBut what that means is I am gonna\nhave to change a little more\n\n175\n00:09:08.310 --> 00:09:10.200\nthan I normally would have.\n\n176\n00:09:10.200 --> 00:09:11.490\nBut that's okay.\n\n177\n00:09:12.610 --> 00:09:16.170\nSo let's create our class here and\nlet's call it AtmoAttack.\n\n178\n00:09:18.690 --> 00:09:19.960\n&gt;&gt; I like that name.\n\n179\n00:09:19.960 --> 00:09:20.993\n&gt;&gt; Exactly, AtmoAttack.\n\n180\n00:09:20.993 --> 00:09:22.690\n&gt;&gt; [LAUGH]\n&gt;&gt; You have to say it real\n\n181\n00:09:22.690 --> 00:09:23.470\ndramatic like that.\n\n182\n00:09:23.470 --> 00:09:24.400\n&gt;&gt; AtmoAttack.\n\n183\n00:09:24.400 --> 00:09:25.310\n&gt;&gt; See, just like that.\n\n184\n00:09:25.310 --> 00:09:26.460\nYou have it down, Zach.\n\n185\n00:09:26.460 --> 00:09:29.753\nI might have to hire you for\nbranding or something.\n\n186\n00:09:29.753 --> 00:09:32.310\n&gt;&gt; [INAUDIBLE]\n&gt;&gt; [LAUGH] Well, don't have it,\n\n187\n00:09:32.310 --> 00:09:35.230\nso that is totally out of the question.\n\n188\n00:09:35.230 --> 00:09:38.830\n&gt;&gt; So in our constructor what I'm thinking\nis our constructor can dynamically\n\n189\n00:09:38.830 --> 00:09:39.580\ntake a label.\n\n190\n00:09:41.020 --> 00:09:43.510\nWhich would select our screen so\nwe get pointed at different screens and\n\n191\n00:09:43.510 --> 00:09:44.650\ncreate different ones.\n\n192\n00:09:44.650 --> 00:09:49.226\nSo I'm gonna say selector and I'm\nactually gonna store this on the object.\n\n193\n00:09:49.226 --> 00:09:53.510\nSo selector = selector, just like so.\n\n194\n00:09:54.740 --> 00:10:00.639\nLikewise I'm gonna grab this and\njust cut this and\n\n195\n00:10:00.639 --> 00:10:06.677\npaste, and\nnow I have to change a few other things,\n\n196\n00:10:06.677 --> 00:10:10.904\nthis.screen and this.context.\n\n197\n00:10:10.904 --> 00:10:16.366\nSo in addition to this is going to change\nhow we call some of these functions.\n\n198\n00:10:16.366 --> 00:10:20.680\nSo by changing this into a class\nthings are getting a little wonky.\n\n199\n00:10:20.680 --> 00:10:22.150\nInstead of keeping the screen portion,\n\n200\n00:10:22.150 --> 00:10:24.560\nthough, I just want this\nto be a dynamic selector.\n\n201\n00:10:24.560 --> 00:10:28.117\nNow, there's a lot more that I can do\nthis, I could say here's the container\n\n202\n00:10:28.117 --> 00:10:30.553\nobject and\ncreate the canvas dynamically and such.\n\n203\n00:10:30.553 --> 00:10:36.089\nBut lets say game = AtmoAttack('.screen');\n\n204\n00:10:36.089 --> 00:10:42.665\nwe should have a voice overall for\nsomething, I don't know.\n\n205\n00:10:42.665 --> 00:10:44.510\n&gt;&gt; [LAUGH]\n&gt;&gt; So here's our AtmoAttck and\n\n206\n00:10:44.510 --> 00:10:45.780\nthis should be in the global namespace.\n\n207\n00:10:45.780 --> 00:10:47.005\nLet's go see what we have here.\n\n208\n00:10:47.005 --> 00:10:50.540\nUh-oh, class constructor,\ncannot be invoked without new.\n\n209\n00:10:50.540 --> 00:10:55.610\nAnd I totally forgot that I need the new\nkeywords in between functions and\n\n210\n00:10:55.610 --> 00:10:58.560\nclasses, you have to create a new object,\nthere we go.\n\n211\n00:10:58.560 --> 00:11:03.070\nSelector's not defined, let's see here,\n\n212\n00:11:03.070 --> 00:11:05.100\nthat's because I misspelled\nit in the constructor.\n\n213\n00:11:05.100 --> 00:11:09.712\nSome of you probably saw that and\nit was like hey, you got a typo there.\n\n214\n00:11:09.712 --> 00:11:12.103\n&gt;&gt; It's gonna wreck your day.\n\n215\n00:11:12.103 --> 00:11:13.420\nScreen get context.\n\n216\n00:11:13.420 --> 00:11:19.590\nNow why did that occur, that's because\nit's this.screen instead of just screen.\n\n217\n00:11:19.590 --> 00:11:23.310\nSo, these are the things where I'm doing\nthis little chunks because I know I'm\n\n218\n00:11:23.310 --> 00:11:27.390\ngoing to have to chase some of these down\nbecause I didn't have to put this in\n\n219\n00:11:27.390 --> 00:11:30.810\na class, I wanted to maintain\nconsistency so you could follow along.\n\n220\n00:11:30.810 --> 00:11:34.070\nAlso, I wanted to reinforce the fact\nthere's like 10 different ways to do\n\n221\n00:11:34.070 --> 00:11:35.090\nany one thing.\n\n222\n00:11:35.090 --> 00:11:36.900\nSo, do keep that in mind.\n\n223\n00:11:36.900 --> 00:11:37.790\nAnd I refresh.\n\n224\n00:11:37.790 --> 00:11:39.650\nContext is not defined.\n\n225\n00:11:39.650 --> 00:11:41.240\nNow things are broken.\n\n226\n00:11:41.240 --> 00:11:43.490\nThat's because I'm calling\nthis main method down here.\n\n227\n00:11:43.490 --> 00:11:46.520\nLet me take that off so\nwe can take a look.\n\n228\n00:11:46.520 --> 00:11:49.330\nRefresh, and\nlet's look at the game object.\n\n229\n00:11:49.330 --> 00:11:50.060\nThere's the game.\n\n230\n00:11:50.060 --> 00:11:51.400\nAnd what do we have?\n\n231\n00:11:51.400 --> 00:11:54.920\nWe have the selector,\nwhich is the selector for the screen.\n\n232\n00:11:54.920 --> 00:11:58.040\nAnd then we have the screen object, and\nthen we have the rendering content.\n\n233\n00:11:58.040 --> 00:11:59.480\nSo, we have that part down.\n\n234\n00:12:01.300 --> 00:12:05.245\nBut now, in order to get things running,\n\n235\n00:12:05.245 --> 00:12:09.930\nI'm kind of just going\nto pull this inside.\n\n236\n00:12:09.930 --> 00:12:14.210\nI could build the fighter,\nthe attacker outside of the game and\n\n237\n00:12:14.210 --> 00:12:16.220\npass those in as dependencies.\n\n238\n00:12:16.220 --> 00:12:21.370\nBut just to keep things simple, what I'm\ngonna do is I'm gonna grab this part and\n\n239\n00:12:21.370 --> 00:12:24.090\nI'm gonna pull those inside as well.\n\n240\n00:12:24.090 --> 00:12:30.810\nAnd I'm gonna make this this dot and\nthis dot, just like that.\n\n241\n00:12:30.810 --> 00:12:31.690\nOkay.\n\n242\n00:12:31.690 --> 00:12:33.890\nSo let's go find out.\n\n243\n00:12:33.890 --> 00:12:35.910\nDid we have what we anticipated?\n\n244\n00:12:37.040 --> 00:12:41.372\nThere we go we have our fighter,\nour attacker and everything is kind\n\n245\n00:12:41.372 --> 00:12:45.490\nof bundled into this game object,\nso I can move this around now.\n\n246\n00:12:45.490 --> 00:12:49.655\nAnd the finally let's add\nthese pellets as such.\n\n247\n00:12:49.655 --> 00:12:54.580\nSo, paste nope.\n\n248\n00:12:54.580 --> 00:12:59.370\nApparently I accidentally\ndeleted that from my clipboard.\n\n249\n00:13:00.980 --> 00:13:03.248\nBut luckily it was\npretty easy to maintain.\n\n250\n00:13:03.248 --> 00:13:05.880\nAnd I think this has all of our,\n\n251\n00:13:05.880 --> 00:13:11.590\nnotice our constructors\nare initialization of information.\n\n252\n00:13:11.590 --> 00:13:13.070\nThat's where it should be.\n\n253\n00:13:13.070 --> 00:13:15.400\nThere's one final thing that\nwe should probably should do.\n\n254\n00:13:15.400 --> 00:13:17.074\nBut before I do, you can't see him,\n\n255\n00:13:17.074 --> 00:13:19.898\nit looks like Zach is off camera\njust itching with a question.\n\n256\n00:13:19.898 --> 00:13:21.001\n&gt;&gt; Well, I'm itching.\n\n257\n00:13:21.001 --> 00:13:24.910\n[LAUGH] Anyway, what I'm wondering is\nthere any ramifications from changing\n\n258\n00:13:24.910 --> 00:13:26.840\nfrom const to this dot?\n\n259\n00:13:26.840 --> 00:13:30.530\nIs there any ramifications\nany bugs that have\n\n260\n00:13:30.530 --> 00:13:33.220\n&gt;&gt; Maybe not bugs other than we're losing\n\n261\n00:13:33.220 --> 00:13:34.370\nthat constant binding.\n\n262\n00:13:34.370 --> 00:13:37.410\nThat immutable binding\nto fighter to attacker.\n\n263\n00:13:37.410 --> 00:13:40.830\nAnd what they could cause is if you're\nnot careful you may accidentally\n\n264\n00:13:40.830 --> 00:13:45.140\nreassign the fighter to a new file or\nto not a fighter,\n\n265\n00:13:45.140 --> 00:13:47.580\nand then your app breaks,\nyour game breaks.\n\n266\n00:13:47.580 --> 00:13:50.530\nNow, that's kind of power for\nthe course in JavaScript, so\n\n267\n00:13:50.530 --> 00:13:53.140\nwe always gonna leave at B.\n\n268\n00:13:53.140 --> 00:13:56.500\nI will tell you this though, based on\nsome things, like resetting the game,\n\n269\n00:13:56.500 --> 00:13:57.157\nstarting the game,\n\n270\n00:13:57.157 --> 00:14:01.850\nyou probably are going to have to remove\nthat cost binding anyway, in this context.\n\n271\n00:14:01.850 --> 00:14:05.120\nSo we'll just act like nothing happened.\n\n272\n00:14:05.120 --> 00:14:08.030\nBut you do need to be careful,\nbecause now someone could come here and\n\n273\n00:14:08.030 --> 00:14:13.686\nsay game.Fighter = null, just like that.\n\n274\n00:14:13.686 --> 00:14:18.535\nAnd now game.Fighter is null,\nand we look at game, well,\n\n275\n00:14:18.535 --> 00:14:23.060\nnull would have none of the methods\nassociated with the fighter.\n\n276\n00:14:23.060 --> 00:14:25.720\nAnd if you're relying on\nthat being a fighter type,\n\n277\n00:14:25.720 --> 00:14:29.990\na fighter object, your game breaks.\n\n278\n00:14:29.990 --> 00:14:33.720\nNow, using the revealing module pattern,\nwhat I mean, is keep everything the same.\n\n279\n00:14:33.720 --> 00:14:36.500\nJust have the function return the object.\n\n280\n00:14:36.500 --> 00:14:38.540\nYou could actually keep\nthose cost bindings and\n\n281\n00:14:38.540 --> 00:14:42.500\nto some extent hide that information\naway from your public interface.\n\n282\n00:14:43.940 --> 00:14:46.490\nThat is one of the pluses.\n\n283\n00:14:46.490 --> 00:14:50.760\nHowever, if you wanted to reset the game,\nyou could possibly reset the fighter,\n\n284\n00:14:50.760 --> 00:14:51.490\nmutate the fighter, or\n\n285\n00:14:51.490 --> 00:14:53.860\nyou could just construct a new fighter and\nthen reassign it.\n\n286\n00:14:53.860 --> 00:14:58.788\nSo, I tend just to construct a new object\nlet garbage collection take care of\n\n287\n00:14:58.788 --> 00:15:00.099\nthe other objects.\n\n288\n00:15:00.099 --> 00:15:02.430\nSo we're gonna remove\nthat cost binding anyway.\n\n289\n00:15:02.430 --> 00:15:06.890\nBut it is not hidden, it is publicly\navailable on the object type which for\n\n290\n00:15:06.890 --> 00:15:09.270\nus as we're building,\nit's actually pretty good.\n\n291\n00:15:09.270 --> 00:15:12.924\nCuz now I can just inspect in the console\nand see how things are working.\n\n292\n00:15:12.924 --> 00:15:14.206\nOr whether they're available.\n\n293\n00:15:14.206 --> 00:15:21.380\nSo, this constructor portion-that's\nnice and, you know, there's\n\n294\n00:15:23.440 --> 00:15:29.310\nsome hemming and hawing about\nwhether one should do this or not.\n\n295\n00:15:29.310 --> 00:15:33.884\nReally, all of your assignment of\ninformation should be in the constructor\n\n296\n00:15:33.884 --> 00:15:34.602\nfunction.\n\n297\n00:15:34.602 --> 00:15:40.711\nBut right here at the very bottom\nI'm gonna call addEventListeners,\n\n298\n00:15:40.711 --> 00:15:43.630\nor you know what, setupEvents.\n\n299\n00:15:43.630 --> 00:15:47.418\nLet's be a little less\nlike the actual method.\n\n300\n00:15:47.418 --> 00:15:53.349\nWhat we're gonna do is setup the event\nlisteners in a separate thing,\n\n301\n00:15:53.349 --> 00:15:58.274\nand what that could entail is\nactually listening to Either\n\n302\n00:15:58.274 --> 00:16:01.404\nsomething like the screen, right?\n\n303\n00:16:01.404 --> 00:16:06.120\nLike so, or it could add new\ndata inside of this method.\n\n304\n00:16:06.120 --> 00:16:10.680\nGenerally, it's probably not a good\nidea to do something like this.\n\n305\n00:16:10.680 --> 00:16:15.735\nLet me just show you what I'm talking\nabout instead of speaking in generalities.\n\n306\n00:16:15.735 --> 00:16:23.110\nSo if I say this.carrot = 1,\nI've now set a new property on the object.\n\n307\n00:16:24.380 --> 00:16:28.830\nThat's okay, but do keep in mind,\nyou have to be careful about this,\n\n308\n00:16:28.830 --> 00:16:33.440\ncuz this can also overwrite properties\nthat are already on the object.\n\n309\n00:16:33.440 --> 00:16:38.220\nFor instance, if I said, this.fighter\n= null inside of setUpEvents, it would\n\n310\n00:16:38.220 --> 00:16:43.260\nbe null after this function ran which\nis at the very end of the constructor.\n\n311\n00:16:43.260 --> 00:16:44.770\nSo just be careful there.\n\n312\n00:16:44.770 --> 00:16:48.030\nThere are certain times where you should,\ncertain times where you shouldn't,\n\n313\n00:16:48.030 --> 00:16:51.630\nit's all a matter of being careful,\nbeing aware and, well,\n\n314\n00:16:51.630 --> 00:16:56.630\nfollowing an appropriate cautiousness,\nI suppose.\n\n315\n00:16:56.630 --> 00:16:58.900\nNow what is the setup events?\n\n316\n00:16:58.900 --> 00:17:03.720\nI think, and this is just for ease of use.\n\n317\n00:17:03.720 --> 00:17:08.752\nI'm gonna pull this into here, okay?\n\n318\n00:17:08.752 --> 00:17:13.010\nNow this portion,\n\n319\n00:17:13.010 --> 00:17:17.383\njust like inside of here, is going to\nhave the appropriate this context.\n\n320\n00:17:17.383 --> 00:17:22.625\nSo notice this e fat arrow,\nwe can definitely get away\n\n321\n00:17:22.625 --> 00:17:29.153\nwith adding a this.fighter,\nthis.fighter, this.pellets,\n\n322\n00:17:29.153 --> 00:17:34.410\nthis.fighter, let me just\nhighlight all of those.\n\n323\n00:17:35.920 --> 00:17:40.338\nThis.fighter, like so,\nand then this.pellets,\n\n324\n00:17:40.338 --> 00:17:46.640\nI have to add a this there because\nthey're now the final AtmoAttack object.\n\n325\n00:17:46.640 --> 00:17:48.860\nWe come back and\nwe refresh and we look at game,\n\n326\n00:17:49.930 --> 00:17:54.780\nwell it looks like it's good,\nwe can't see anything until it renders.\n\n327\n00:17:54.780 --> 00:17:58.529\nSo we're gonna leave it there but I'll\ntell you a little hint, foreshadowing so\n\n328\n00:17:58.529 --> 00:17:59.033\nto speak.\n\n329\n00:17:59.033 --> 00:18:03.726\nWe're gonna have to come back to that cuz\nthat's a weird, anonymous function inside\n\n330\n00:18:03.726 --> 00:18:06.997\nof the addEventListener at\nthe Window addEventListener.\n\n331\n00:18:06.997 --> 00:18:11.457\nThat's okay maybe for here, but if we had\nother events that we had to register, and\n\n332\n00:18:11.457 --> 00:18:15.789\nwe wanted them all to be here, now I have\nto scroll through and figure out, okay,\n\n333\n00:18:15.789 --> 00:18:19.259\nat the end of this function,\nI have another addEventListener.\n\n334\n00:18:19.259 --> 00:18:21.210\nIt's a little messy,\nmaybe we should clean it up.\n\n335\n00:18:21.210 --> 00:18:22.430\nWe'll get there.\n\n336\n00:18:22.430 --> 00:18:24.950\nBut only after we render\nbecause I know it,\n\n337\n00:18:24.950 --> 00:18:26.850\nthere's some shenanigans\ngonna happen here.\n\n338\n00:18:26.850 --> 00:18:27.910\n&gt;&gt; Not shenanigans.\n\n339\n00:18:27.910 --> 00:18:33.812\n&gt;&gt; Shenanigans, so now what I'm gonna\ndo is grab this render portion.\n\n340\n00:18:33.812 --> 00:18:37.470\nI'm gonna bring it up and\nif you look, that's the end.\n\n341\n00:18:37.470 --> 00:18:38.194\nI'm gonna paste.\n\n342\n00:18:38.194 --> 00:18:39.201\nAnd you're like, well, Justin.\n\n343\n00:18:39.201 --> 00:18:41.330\nThat is not the appropriate\nmethod definition.\n\n344\n00:18:41.330 --> 00:18:45.548\nYou're right, but\nif I remove the const and\n\n345\n00:18:45.548 --> 00:18:49.310\nI remove this, and I also remove that.\n\n346\n00:18:49.310 --> 00:18:52.190\nNow I have an appropriate\nmethod definition.\n\n347\n00:18:52.190 --> 00:18:58.840\nHowever, this would not work\nbecause I need to add this.,\n\n348\n00:18:58.840 --> 00:19:03.373\nbecause it is this instance of the game.\n\n349\n00:19:03.373 --> 00:19:08.205\nSo here's this., and this.fighter, and\n\n350\n00:19:08.205 --> 00:19:11.011\nif(this.attacker).\n\n351\n00:19:11.011 --> 00:19:15.050\nAnd this.attacker.render, okay?\n\n352\n00:19:15.050 --> 00:19:19.270\nAnd then the context, this is the one\nthat'll trip people up, this.context,\n\n353\n00:19:19.270 --> 00:19:20.825\nbecause it's now part of the game object.\n\n354\n00:19:20.825 --> 00:19:24.720\nSo, this., and this.context, here.\n\n355\n00:19:24.720 --> 00:19:31.440\nOkay, so the question is,\nif we call game.render, like so.\n\n356\n00:19:31.440 --> 00:19:34.230\nWe're manually calling that,\nit's only gonna happen one time.\n\n357\n00:19:34.230 --> 00:19:37.940\nWe render, why is it not rendering?\n\n358\n00:19:37.940 --> 00:19:40.330\nWe should probably figure that out.\n\n359\n00:19:40.330 --> 00:19:44.656\nWell there's no pellets,\nthere is a fighter though.\n\n360\n00:19:44.656 --> 00:19:48.619\nSo let's see game.render, this.context,\n\n361\n00:19:48.619 --> 00:19:54.275\nthis.screen.context, that's good and\neverything's setup.\n\n362\n00:19:54.275 --> 00:19:59.383\nLet's try to call it manually here,\ngame.render,\n\n363\n00:19:59.383 --> 00:20:04.158\nand let's look at game and\nthere's our fighter.\n\n364\n00:20:04.158 --> 00:20:07.944\nAnd why is that not being dropped?\n\n365\n00:20:07.944 --> 00:20:09.655\nWell, Zach,\nyou wanted some live action debugging.\n\n366\n00:20:09.655 --> 00:20:11.962\nI think we're gonna go with it right here.\n\n367\n00:20:11.962 --> 00:20:14.582\n&gt;&gt; I was thinking this was a magic\neye painting I was looking at.\n\n368\n00:20:14.582 --> 00:20:17.368\n&gt;&gt; [LAUGH] No, it is unfortunately not.\n\n369\n00:20:17.368 --> 00:20:18.923\nAnd, let's see here.\n\n370\n00:20:18.923 --> 00:20:23.011\nThis.render, so\nthis.fighter.render,this.context, so\n\n371\n00:20:23.011 --> 00:20:25.421\nthis.fighter, that should be fine.\n\n372\n00:20:25.421 --> 00:20:29.940\nAha, here it is and\nit was actually in a previous method.\n\n373\n00:20:29.940 --> 00:20:35.100\nI think this is it, it's this.screen,\nthis.screen because they don't,\n\n374\n00:20:35.100 --> 00:20:39.409\nthey have null is undefined divided by 2,\nwhich is not a number.\n\n375\n00:20:39.409 --> 00:20:42.310\nIt don't have a valid coordinates for\nthe attacker and for the fighter.\n\n376\n00:20:42.310 --> 00:20:45.710\nAnd as result, it would never\nrender appropriately on the screen.\n\n377\n00:20:45.710 --> 00:20:47.590\nSo if I come back, boom there it is.\n\n378\n00:20:47.590 --> 00:20:48.305\n&gt;&gt; Thank goodness.\n\n379\n00:20:48.305 --> 00:20:50.324\n[APPLAUSE]\n&gt;&gt; Aha,\n\n380\n00:20:50.324 --> 00:20:53.902\nI feel pretty proud of myself because\nI caught that in record time.\n\n381\n00:20:53.902 --> 00:20:59.539\nThose are really hard to track\ndown sometimes because we\n\n382\n00:20:59.539 --> 00:21:04.705\ndidn't really see that interestingly\nenough, inside the game object,\n\n383\n00:21:04.705 --> 00:21:12.010\nit gave weird results, right?\n\n384\n00:21:13.590 --> 00:21:15.950\nSo, actually I'm gonna remove this dot and\n\n385\n00:21:15.950 --> 00:21:18.300\nsee if we can reproduce to show\nyou what I'm talking about.\n\n386\n00:21:18.300 --> 00:21:24.290\nSo refresh and I look at game, and\nI come in here and look at the fighter and\n\n387\n00:21:24.290 --> 00:21:30.750\nscreen 960 width, why is it doing that?\n\n388\n00:21:30.750 --> 00:21:35.040\nWell, you have to be careful\nbecause the keyword screen,\n\n389\n00:21:37.290 --> 00:21:41.560\nlowercase, actually returns\nthe screen object, so I misspoke.\n\n390\n00:21:42.980 --> 00:21:45.371\nIt is returning a different\nscreen variable which,\n\n391\n00:21:45.371 --> 00:21:49.170\nin the grand scheme of things, is probably\nbetter that we took this out of the global\n\n392\n00:21:49.170 --> 00:21:51.313\nname space cuz that was\ngetting overwritten.\n\n393\n00:21:51.313 --> 00:21:54.326\nI was pretty sure this should\nhave been capital screen but\n\n394\n00:21:54.326 --> 00:21:56.750\nthat's actually the constructor.\n\n395\n00:21:56.750 --> 00:22:01.240\nIf we look at screen, it gives me\nthe screen size, the x and y and\n\n396\n00:22:01.240 --> 00:22:05.295\nwidth and height, excuse me, the width and\nheight and various other parameters.\n\n397\n00:22:05.295 --> 00:22:07.558\n&gt;&gt; Mm-hm.\n&gt;&gt; So notice width and height.\n\n398\n00:22:07.558 --> 00:22:10.100\n&gt;&gt; Mm-hm.\n&gt;&gt; And then I divide those by 2 and\n\n399\n00:22:10.100 --> 00:22:14.790\nthey gave me valid numbers which actually\nputs my fighter way out of focus, so\n\n400\n00:22:14.790 --> 00:22:16.370\nto speak, or out of the view port.\n\n401\n00:22:17.400 --> 00:22:20.010\nSo, be very careful there.\n\n402\n00:22:20.010 --> 00:22:23.820\nThat makes me think totally forgot about\nthe screen variable being there with\n\n403\n00:22:23.820 --> 00:22:25.010\nthe name space.\n\n404\n00:22:25.010 --> 00:22:28.000\nSo I'm glad we are doing this.\n\n405\n00:22:28.000 --> 00:22:32.700\nSo now I have this render, that works,\nand what about this update?\n\n406\n00:22:32.700 --> 00:22:37.120\nWell we're gonna kind of par for\nthe course so to speak.\n\n407\n00:22:37.120 --> 00:22:39.640\nAnd come back up here and\n\n408\n00:22:39.640 --> 00:22:43.990\nI'm gonna remove that semicolon\ncuz I don't need it necessarily.\n\n409\n00:22:43.990 --> 00:22:48.111\nAnd remove this const,\nremove this equal sign,\n\n410\n00:22:48.111 --> 00:22:52.333\nremove this fat arrow,\nand then this.pellets,\n\n411\n00:22:52.333 --> 00:22:57.504\nthis.attacker, and\npellet.hits(this.attacker).\n\n412\n00:22:57.504 --> 00:23:00.565\nAnd this.attacker =.\n\n413\n00:23:00.565 --> 00:23:03.910\nAnd then this.pellets.splice.\n\n414\n00:23:03.910 --> 00:23:08.390\nIf pellet, and then this.pellets,\nthis.attacker.\n\n415\n00:23:08.390 --> 00:23:13.251\nActually, I guess we should just\nselect all the attackers and\n\n416\n00:23:13.251 --> 00:23:15.318\nsay this., there we go.\n\n417\n00:23:15.318 --> 00:23:19.245\nAnd then this.screen cuz\nthat would mess up things.\n\n418\n00:23:19.245 --> 00:23:22.614\nAnd this.pellets, just like so.\n\n419\n00:23:22.614 --> 00:23:24.420\nSo that's a lot of this dots.\n\n420\n00:23:24.420 --> 00:23:26.683\nBut it should work now.\n\n421\n00:23:26.683 --> 00:23:32.283\nNow, we're gonna handle this by\ngoing game.update, right, and\n\n422\n00:23:32.283 --> 00:23:37.505\nthen just duplicating that a few times and\nthen game.render.\n\n423\n00:23:37.505 --> 00:23:41.095\nJust to hand test this before we unleash\nit with request animation frame.\n\n424\n00:23:41.095 --> 00:23:42.416\n&gt;&gt; Okay.\n&gt;&gt; So to speak.\n\n425\n00:23:42.416 --> 00:23:46.971\nSo, you'll notice if we say,\n\n426\n00:23:46.971 --> 00:23:51.877\nlet's just do a bunch of these cuz\n\n427\n00:23:51.877 --> 00:23:56.974\nwe know we should be in the middle.\n\n428\n00:23:56.974 --> 00:23:59.007\nIf we refresh, notice it's actually moved.\n\n429\n00:23:59.007 --> 00:24:02.670\nSo the update is working, there is\nno error thrown, a three rendering.\n\n430\n00:24:02.670 --> 00:24:03.640\nThat's good to know.\n\n431\n00:24:05.220 --> 00:24:07.180\nBut now let's just go ahead and\nremove all of that.\n\n432\n00:24:08.980 --> 00:24:14.608\nSo something that you try to reason about,\nwhat is this doing?\n\n433\n00:24:14.608 --> 00:24:16.950\nAll right, so request animation frame.\n\n434\n00:24:16.950 --> 00:24:18.535\nAll right, so if we come back here.\n\n435\n00:24:18.535 --> 00:24:22.580\nAnd we add a main, and\n\n436\n00:24:22.580 --> 00:24:27.975\nI may even call this run, something\nof that nature as a method on this.\n\n437\n00:24:27.975 --> 00:24:34.720\nSo let's pull this back, remove this,\nand it should be this dot update,\n\n438\n00:24:34.720 --> 00:24:39.750\nand this dot render, because it's\nthis game it objects animation.\n\n439\n00:24:39.750 --> 00:24:42.456\nAnd the order to find is,\nthis is gonna break.\n\n440\n00:24:42.456 --> 00:24:44.970\nSo if I refresh, and it's broke.\n\n441\n00:24:44.970 --> 00:24:46.100\n&gt;&gt; You broke it.\n\n442\n00:24:46.100 --> 00:24:47.660\n&gt;&gt; And well, it's not really broke.\n\n443\n00:24:47.660 --> 00:24:48.680\nI've gotta call a game.main.\n\n444\n00:24:48.680 --> 00:24:53.770\n&gt;&gt; [LAUGH]\n&gt;&gt; But this actually is broke.\n\n445\n00:24:53.770 --> 00:24:55.330\nWhy is that?\n\n446\n00:24:55.330 --> 00:24:57.760\nWell, if we come over\nhere we forgot this.main,\n\n447\n00:24:57.760 --> 00:25:01.410\nbecause we wanna call this\nobject's main method.\n\n448\n00:25:01.410 --> 00:25:04.490\nRefresh and\ncannot read property main of undefined.\n\n449\n00:25:06.510 --> 00:25:09.090\nWell, that's just handy.\n\n450\n00:25:09.090 --> 00:25:09.720\nWhy is that?\n\n451\n00:25:10.930 --> 00:25:14.332\nCuz the next time that it gets cue\ndown by request animation frame,\n\n452\n00:25:14.332 --> 00:25:20.530\nthat this context changes not to a game\nobject but to the Window object.\n\n453\n00:25:20.530 --> 00:25:21.640\nSo how do we that?\n\n454\n00:25:21.640 --> 00:25:22.910\nWell, there's a couple of ways.\n\n455\n00:25:22.910 --> 00:25:24.100\nWe are going to say .bind(this).\n\n456\n00:25:24.100 --> 00:25:29.320\nSo I wanna bind to this context that\ncurrently is a more common thing\n\n457\n00:25:29.320 --> 00:25:35.468\nthat I tend to use is\nsay something like this.\n\n458\n00:25:35.468 --> 00:25:39.950\nSo an anonymous function that\nmaintains that this context that we\n\n459\n00:25:39.950 --> 00:25:41.300\nare anticipating.\n\n460\n00:25:41.300 --> 00:25:47.070\nSo now if this function runs because it's\na [INAUDIBLE], uses the same disk scope.\n\n461\n00:25:47.070 --> 00:25:51.040\nSo this.main would be this main method,\nand there we go, it's back to normal.\n\n462\n00:25:51.040 --> 00:25:54.140\nSo, either way it is doable.\n\n463\n00:25:54.140 --> 00:25:58.070\nMoreover, if I'm not mistaken\nthere's a way that you can bind\n\n464\n00:25:58.070 --> 00:26:02.570\nthe this context a little bit differently\nby a different method definition.\n\n465\n00:26:02.570 --> 00:26:05.270\nBut now, we have this game object.\n\n466\n00:26:05.270 --> 00:26:06.550\nIt all works.\n\n467\n00:26:06.550 --> 00:26:08.590\nThere's one final change that\nI wanna make to it though.\n\n468\n00:26:09.850 --> 00:26:11.820\nThis window.addEventListener,\n\n469\n00:26:11.820 --> 00:26:16.740\nwe're kinda gonna encounter something\nlike we did the request animation frame.\n\n470\n00:26:16.740 --> 00:26:21.140\nI want to, maybe, handle keyboard events.\n\n471\n00:26:21.140 --> 00:26:24.890\nAnd this could be argued to\nbeing a different object, and\n\n472\n00:26:24.890 --> 00:26:31.105\nhave different methods, but,\nlet's just say handleKeyboardInput.\n\n473\n00:26:33.560 --> 00:26:35.580\nLike so.\n\n474\n00:26:35.580 --> 00:26:39.600\nAnd that takes an event object,\nbecause, well, we need it.\n\n475\n00:26:39.600 --> 00:26:44.800\nAnd I'm going to grab all of this code,\nright here.\n\n476\n00:26:45.810 --> 00:26:52.650\nAnd cut it and I'm gonna paste\nit right there just like so.\n\n477\n00:26:52.650 --> 00:26:56.330\nAnd as a result you are like well,\n\n478\n00:26:56.330 --> 00:27:02.690\nI can say this.HandleKeybaordInput and\nit should work.\n\n479\n00:27:02.690 --> 00:27:05.586\nLet's go back and guess what?\n\n480\n00:27:05.586 --> 00:27:08.603\nCan I [INAUDIBLE].\n\n481\n00:27:08.603 --> 00:27:10.400\nAnd we have the exact same thing.\n\n482\n00:27:10.400 --> 00:27:12.260\nWe have a weird this binding.\n\n483\n00:27:12.260 --> 00:27:17.100\nBecause in an event listener, it is bound\nto the event target that this keyword is.\n\n484\n00:27:17.100 --> 00:27:21.110\nSo we can do a very similar thing\nthat we did just a moment ago and\n\n485\n00:27:21.110 --> 00:27:25.200\nlet's use the [INAUDIBLE] function\nto kind of get around that.\n\n486\n00:27:25.200 --> 00:27:27.680\nNow I could do bind this, and\n\n487\n00:27:27.680 --> 00:27:31.750\nthat way we can change to this\ncontext in the event handler.\n\n488\n00:27:32.930 --> 00:27:37.580\nBut now, we can still shoot,\nwe can still move.\n\n489\n00:27:37.580 --> 00:27:39.290\nWe're all good to go.\n\n490\n00:27:39.290 --> 00:27:43.421\nAnd then setupEvents or\nwindow.addEventListener keydown.\n\n491\n00:27:43.421 --> 00:27:47.890\nWell, this is very easy to reason about.\n\n492\n00:27:47.890 --> 00:27:48.410\nwhat does it do?\n\n493\n00:27:48.410 --> 00:27:49.540\nIt handles key board input.\n\n494\n00:27:49.540 --> 00:27:52.890\nNow if that's the one I wanna know about,\nI just go read that method and\n\n495\n00:27:52.890 --> 00:27:56.580\nI will have to go through and\ngo what is set up events doing?\n\n496\n00:27:56.580 --> 00:27:57.730\nIt's very simplistic.\n\n497\n00:27:57.730 --> 00:28:02.020\nI like to keep mine simplistic and then\nput my other events, either another object\n\n498\n00:28:02.020 --> 00:28:06.570\nthat's handling those or\ninternally if it's just one like this.\n\n499\n00:28:06.570 --> 00:28:08.090\nSo there's our refactor.\n\n500\n00:28:08.090 --> 00:28:09.500\nWe're good to go.\n\n501\n00:28:09.500 --> 00:28:14.050\nAnd I'm gonna leave the game here for now\nbecause this is probably where most of our\n\n502\n00:28:14.050 --> 00:28:17.158\nwork is gonna be in addition\nto changing some things out.\n\n503\n00:28:17.158 --> 00:28:21.400\nSo I [instantiate the game and\nI call game.main everything is good to go.\n\n504\n00:28:21.400 --> 00:28:23.110\nWe're gonna leave that there but\n\n505\n00:28:23.110 --> 00:28:26.730\nultimately if I have some external\nlogic before the game is set up or\n\n506\n00:28:26.730 --> 00:28:29.570\nI wanna change how, I'll probably\nremove that into another file.\n\n507\n00:28:29.570 --> 00:28:30.900\nI'll move that into another file.\n\n508\n00:28:30.900 --> 00:28:34.098\nWell, but things are clinging\nup on our refectory at least for\n\n509\n00:28:34.098 --> 00:28:37.865\nnow who knows there may be things on\nthe horizon that we need to do as well.\n\n510\n00:28:37.865 --> 00:28:41.957\nBut I think this is a good start to see,\nhere we go,\n\n511\n00:28:41.957 --> 00:28:45.360\nthis is all of our logic that we need.\n\n512\n00:28:45.360 --> 00:28:48.110\nAnd now we can move forward\nwith additional features.\n\n513\n00:28:48.110 --> 00:28:49.998\n&gt;&gt; And you know we will move forward.\n\n514\n00:28:49.998 --> 00:28:51.949\nCleaning up and refactoring.\n\n515\n00:28:51.949 --> 00:28:52.911\nGreat episode Justin.\n\n516\n00:28:52.911 --> 00:28:54.088\nMarvelous job as usual and\n\n517\n00:28:54.088 --> 00:28:57.350\nbefore we move forward I know you have\nsomething else you'd like to say.\n\n518\n00:28:57.350 --> 00:29:02.375\n&gt;&gt; Well, during this cleaning up phase and\nreorganizing, I noticed we've still\n\n519\n00:29:02.375 --> 00:29:07.100\nhave one attacker, we had multiple\npellets, we still have one attacker.\n\n520\n00:29:09.000 --> 00:29:13.930\nWe should probably fix that, I mean\nwe've got things that shoot stuff and\n\n521\n00:29:13.930 --> 00:29:15.220\nall the attacker does is move.\n\n522\n00:29:16.350 --> 00:29:20.090\nBut really, to really even the odds,\n\n523\n00:29:20.090 --> 00:29:22.660\nI think we should probably\nhave multiple attackers.\n\n524\n00:29:22.660 --> 00:29:23.650\n&gt;&gt; Yeah.\n\n525\n00:29:23.650 --> 00:29:27.010\n&gt;&gt; Just to make the game a little more\ninteresting, so, definitely stay tuned,\n\n526\n00:29:27.010 --> 00:29:28.590\nwe're coming back with that.\n\n527\n00:29:28.590 --> 00:29:32.170\n&gt;&gt; Great job as usual, Jess, and make sure\nyou watch every single one of the episodes\n\n528\n00:29:32.170 --> 00:29:35.540\nof HTML 5 Canvas Projects, and you know,\ngo to our course library, take a look at\n\n529\n00:29:35.540 --> 00:29:39.400\nthe hundreds of videos there,\nall designed to help you go further.\n\n530\n00:29:39.400 --> 00:29:40.890\nAnd tell everybody you\nknow about DEVPRO.TV.\n\n531\n00:29:40.890 --> 00:29:42.450\nThey'll be glad you did.\n\n532\n00:29:42.450 --> 00:29:44.830\nThanks for watching I'm Zach Memos,\n&gt;&gt; And I'm Justin Dennison.\n\n533\n00:29:44.830 --> 00:29:46.186\n&gt;&gt; And we'll see you again very soon.\n\n534\n00:29:46.186 --> 00:29:56.186\n[MUSIC].\n\n",
          "vimeoId": "236586524"
        },
        {
          "description": "In this episode, Justin creates a swarm of attackers that behave in unison. Moreover, he shows that the swarm now defines the collection of attackers, but that the attackers can still have behaviors and properties themselves. The swarm object allows easier management of the collection of attackers.",
          "length": "1551",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-6-1-creating_a_swarm-100217-PGM.00_27_33_15.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-6-1-creating_a_swarm-100217-PGM.00_27_33_15.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-6-1-creating_a_swarm-100217-PGM.00_27_33_15.Still001-sm.jpg",
          "title": "Creating a Swarm",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:13.190 --> 00:00:16.677\nHi, and thank you for choosing DEVPro TV,\nhelping you learn wherever you go.\n\n3\n00:00:16.677 --> 00:00:20.650\nI'm your host Zack Memmis, and\nyou're watching HTML 5 canvas projects,\n\n4\n00:00:20.650 --> 00:00:23.020\nwe are gonna be creating a swarm.\n\n5\n00:00:23.020 --> 00:00:26.160\nAnd we have an IT DEVPro expert\nwho can tell us how to do that and\n\n6\n00:00:26.160 --> 00:00:27.380\nhis name is Justin Dennison.\n\n7\n00:00:27.380 --> 00:00:28.850\nJustin, good to see you again, sir.\n\n8\n00:00:28.850 --> 00:00:31.127\n&gt;&gt; It's good to see you as well but\nI am kind of taking it back,\n\n9\n00:00:31.127 --> 00:00:34.118\nI though you were the DEVPro IT expert\nthat was going to show us how to do this.\n\n10\n00:00:34.118 --> 00:00:35.526\n&gt;&gt; I can show you how to make pancakes.\n\n11\n00:00:35.526 --> 00:00:37.476\n&gt;&gt; [LAUGH]\n&gt;&gt; Really good ones.\n\n12\n00:00:37.476 --> 00:00:40.090\n[LAUGH]\n&gt;&gt; [LAUGH] How are you doing today, Zach?\n\n13\n00:00:40.090 --> 00:00:41.520\n&gt;&gt; I'm doing very well,\nthank you very much.\n\n14\n00:00:41.520 --> 00:00:44.000\nAnd I'm very excited that\nwe're moving forward with our,\n\n15\n00:00:44.000 --> 00:00:47.940\nI call this actually our\nhomage to the alien attacker.\n\n16\n00:00:47.940 --> 00:00:50.303\nOr as you call it, Atmo attack.\n\n17\n00:00:50.303 --> 00:00:53.735\nAnd last time we left off,\nyou had just reconfigured some things,\n\n18\n00:00:53.735 --> 00:00:57.004\ndid some cleaning up, refactoring,\nso what's going on now?\n\n19\n00:00:57.004 --> 00:00:58.589\n&gt;&gt; So in the last episode,\n\n20\n00:00:58.589 --> 00:01:03.125\nwe gotta give the Atmo attackers\na little fighting chance, right?\n\n21\n00:01:03.125 --> 00:01:07.761\nThere's currently one of them, we've\ngot two bullets, or pellets, excuse me.\n\n22\n00:01:07.761 --> 00:01:09.159\nWe're not condoning violence necessarily.\n\n23\n00:01:09.159 --> 00:01:12.042\n&gt;&gt; No, metaphorical.\n&gt;&gt; This is a game.\n\n24\n00:01:12.042 --> 00:01:13.737\nWe need to give them a fighting chance.\n\n25\n00:01:13.737 --> 00:01:14.851\n&gt;&gt; Yeah.\n&gt;&gt; All right so,\n\n26\n00:01:14.851 --> 00:01:20.515\nreally it's probably likely if there was\ngonna be some kind of invasion, right.\n\n27\n00:01:20.515 --> 00:01:24.320\nThere's gonna be more one of them,\nso like a swamp of them, men.\n\n28\n00:01:24.320 --> 00:01:28.270\nTo some extent, I don't know if you've\never been part of a locust swarm,\n\n29\n00:01:28.270 --> 00:01:31.471\nwhen the cicadas and\nthe various loci type things locuses.\n\n30\n00:01:31.471 --> 00:01:34.315\n&gt;&gt; Locusts, locusts.\n\n31\n00:01:34.315 --> 00:01:39.940\n&gt;&gt; I'm kind of rain freak,\nman, it can get a little die.\n\n32\n00:01:39.940 --> 00:01:44.543\n&gt;&gt; I'm from Iowa, we had a grasshopper\nswarm once and it was unbelievable.\n\n33\n00:01:44.543 --> 00:01:46.408\n&gt;&gt; But there's a lot of them and\n\n34\n00:01:46.408 --> 00:01:50.170\nI think we should be able to\nreproduce them in our game.\n\n35\n00:01:50.170 --> 00:01:54.565\nSo right now we have a single attacker,\nwe need multiple attackers.\n\n36\n00:01:54.565 --> 00:01:56.222\n&gt;&gt; Yes.\n&gt;&gt; So let's go ahead and\n\n37\n00:01:56.222 --> 00:02:00.070\nget that started and\nsee how we're going to work on this.\n\n38\n00:02:00.070 --> 00:02:03.380\nLet's take a look at the code here,\nand just peruse.\n\n39\n00:02:03.380 --> 00:02:04.470\nWhere are we using this attack?\n\n40\n00:02:04.470 --> 00:02:05.560\nHere's our attacker.\n\n41\n00:02:05.560 --> 00:02:08.712\nThere's a single attacker,\nthere's a single attacker, and\n\n42\n00:02:08.712 --> 00:02:10.201\nthere's a single attacker.\n\n43\n00:02:10.201 --> 00:02:13.398\nWe already have this\ncollection of pellets.\n\n44\n00:02:13.398 --> 00:02:14.650\n&gt;&gt; So I have a question on that one.\n\n45\n00:02:14.650 --> 00:02:15.235\n&gt;&gt; Yes.\n\n46\n00:02:15.235 --> 00:02:18.444\n&gt;&gt; So if we're doing the multiple\nattackers, is that gonna be similar to how\n\n47\n00:02:18.444 --> 00:02:20.900\nwe created the pellets, or\nis it going to be different?\n\n48\n00:02:20.900 --> 00:02:25.366\n&gt;&gt; We're actually going to do something\nsimilar to how we worked with pellets, but\n\n49\n00:02:25.366 --> 00:02:28.992\nwe may find that it reads a little\nbetter if we then abstract that.\n\n50\n00:02:28.992 --> 00:02:30.472\nBut we're going to work on that road,\n\n51\n00:02:30.472 --> 00:02:33.080\nbecause we know the pellet's kind\nof architecture work, right.\n\n52\n00:02:33.080 --> 00:02:35.890\nAn array, and we just did right through,\nand everything's good.\n\n53\n00:02:35.890 --> 00:02:39.350\nBut we may find that,\nthat doesn't quite work out.\n\n54\n00:02:39.350 --> 00:02:41.670\nOr at least for readability,\nwe may change it up.\n\n55\n00:02:41.670 --> 00:02:42.720\nLet's just get it working.\n\n56\n00:02:42.720 --> 00:02:44.440\nI'm a big component of\njust getting it working.\n\n57\n00:02:45.520 --> 00:02:48.970\nSo there's our attacker, but really\nthis should be a bunch of attackers,\n\n58\n00:02:48.970 --> 00:02:53.290\nand how do we make a great\ndeal of attackers?\n\n59\n00:02:53.290 --> 00:02:55.902\nLet's see here, attackers.\n\n60\n00:02:55.902 --> 00:02:58.533\nOr we could do that and that's it [LAUGH].\n\n61\n00:02:58.533 --> 00:03:00.027\n&gt;&gt; [LAUGH]\n&gt;&gt; No.\n\n62\n00:03:00.027 --> 00:03:01.954\n&gt;&gt; And we'll see you next time.\n\n63\n00:03:01.954 --> 00:03:02.637\n&gt;&gt; No, no, no, no,no.\n\n64\n00:03:02.637 --> 00:03:05.339\n&gt;&gt; Bye you all.\n\n65\n00:03:05.339 --> 00:03:08.879\n&gt;&gt; We'd probably need a function that\nmight help us out building this, right?\n\n66\n00:03:08.879 --> 00:03:10.330\n&gt;&gt; Mm-hm.\n&gt;&gt; We kind of space them out.\n\n67\n00:03:10.330 --> 00:03:14.090\nCuz what I'm thinking is,\nwe can't have them equally spaced based on\n\n68\n00:03:14.090 --> 00:03:16.270\na starting position and\nthen we just space them out.\n\n69\n00:03:16.270 --> 00:03:18.700\nNow this is gonna take\na little bit of tweaking,\n\n70\n00:03:18.700 --> 00:03:22.360\nwe'll just get it working before\nwe worry too much about it.\n\n71\n00:03:22.360 --> 00:03:29.290\nWhat I'm thinking is a row, a single row\nof attackers that are just there, right?\n\n72\n00:03:29.290 --> 00:03:31.170\nSingle one, and\nwe need to space those out.\n\n73\n00:03:32.170 --> 00:03:38.620\nSo I'm thinking like create a swarm,\njust like that.\n\n74\n00:03:39.670 --> 00:03:42.535\nSo how many attackers do we want?\n\n75\n00:03:42.535 --> 00:03:46.248\nWell, look,\nI'm using this createSwarm function, and\n\n76\n00:03:46.248 --> 00:03:50.130\nI'm just gonna come above and\nsay createSwarm just like so.\n\n77\n00:03:52.810 --> 00:03:56.895\nAnd let's think about, what do we need\nto know in order to create a swarm?\n\n78\n00:03:56.895 --> 00:03:59.679\nWhile probably a starting position for\n\n79\n00:03:59.679 --> 00:04:03.650\nthe swarm, right,\nwhat is the starting, kind of box?\n\n80\n00:04:03.650 --> 00:04:07.901\nSo if we have a bunch of swarm,\nwhere are they localized to?\n\n81\n00:04:07.901 --> 00:04:14.680\nIn addition to how many are in there,\nI think we'll get it.\n\n82\n00:04:14.680 --> 00:04:18.077\nBecause there are some other\nthings that we need to consider.\n\n83\n00:04:18.077 --> 00:04:21.450\nBut where's the starting point,\nso that'd be an x and a y?\n\n84\n00:04:21.450 --> 00:04:25.807\nAnd I guess I'm searching for\nsomething on my computer, and\n\n85\n00:04:25.807 --> 00:04:29.745\nthen the number of attackers,\njust like that, okay?\n\n86\n00:04:29.745 --> 00:04:33.790\nSo we're going to start with this create\nswarm, and how am I going to do that?\n\n87\n00:04:33.790 --> 00:04:41.350\nWell, let's see, attackers = [], and\nI can actually use a cost binding here.\n\n88\n00:04:41.350 --> 00:04:47.141\nAnd I'm gonna say for(let i =,\nthis is kinda old school procedural,\n\n89\n00:04:47.141 --> 00:04:50.339\nprobably the easiest to do initially.\n\n90\n00:04:50.339 --> 00:04:55.840\nSo (let i = 0; i &lt; numberOfAttacker,\n\n91\n00:04:55.840 --> 00:05:00.089\ni += 1), so just a for loop.\n\n92\n00:05:00.089 --> 00:05:03.118\nI'm gonna say attackers.push and\nbreak this apart.\n\n93\n00:05:03.118 --> 00:05:09.450\nAnd I'm gonna for each iteration of that\nI'm gonna create a new attacker, like so.\n\n94\n00:05:11.430 --> 00:05:13.050\nWell, what is an attacker need?\n\n95\n00:05:13.050 --> 00:05:17.213\nWell, if you come over and look,\nthe attacker needs to know the x and\n\n96\n00:05:17.213 --> 00:05:18.836\nthe y coordinate, okay.\n\n97\n00:05:18.836 --> 00:05:24.840\nWell the first time through, and\nnotice the width in the high null again.\n\n98\n00:05:24.840 --> 00:05:28.120\nWe'll hard-code these values for now,\nand we always have to load them up but\n\n99\n00:05:28.120 --> 00:05:31.410\neventually I'll probably pull those\nout into constants or something.\n\n100\n00:05:31.410 --> 00:05:37.556\nI think we should probably say x and\ny and let's just see what that does.\n\n101\n00:05:37.556 --> 00:05:40.491\nOkay, so we're gonna create our game,\nwe're gonna come down here,\n\n102\n00:05:40.491 --> 00:05:43.730\nwe're gonna stop our game just so\nwe don't have things breaking.\n\n103\n00:05:43.730 --> 00:05:45.870\nAnd let's go look at\nthe attacker swarm now.\n\n104\n00:05:45.870 --> 00:05:49.810\nUnexpected token, man,\nthat is not what I wanted to hear.\n\n105\n00:05:49.810 --> 00:05:53.496\n&gt;&gt; Nope.\n&gt;&gt; Unexpected token, there's that and\n\n106\n00:05:53.496 --> 00:05:58.817\ncreateSwarm and I guess I should\ngive it another x and a y.\n\n107\n00:05:58.817 --> 00:06:02.295\nSo let's say 100, 100 and\nthen how many of them?\n\n108\n00:06:02.295 --> 00:06:06.905\nFive to refresh and expect the token here.\n\n109\n00:06:06.905 --> 00:06:08.330\nSo there we go.\n\n110\n00:06:10.950 --> 00:06:13.354\nI forgot a semicolon in\nthere instead of the comma.\n\n111\n00:06:13.354 --> 00:06:14.690\nThat was on me.\n\n112\n00:06:14.690 --> 00:06:16.680\nI'll take blame for that one.\n\n113\n00:06:16.680 --> 00:06:18.750\nSo refresh, there we go.\n\n114\n00:06:18.750 --> 00:06:23.715\nAnd if we look at our game,\nlet's look, here's attackers.\n\n115\n00:06:23.715 --> 00:06:26.070\nAttackers, why does it say undefined?\n\n116\n00:06:26.070 --> 00:06:31.406\nBecause we forgot to return\nthe attackers from the actual function.\n\n117\n00:06:31.406 --> 00:06:34.723\nNow I could have done this in\nplace inside the constructor but,\n\n118\n00:06:34.723 --> 00:06:37.288\nwhenever you have complex logic or\na lot of loop,\n\n119\n00:06:37.288 --> 00:06:41.770\npull that out into a function that\nreturns what you're expecting.\n\n120\n00:06:41.770 --> 00:06:43.890\nNot always the case that you can do that.\n\n121\n00:06:43.890 --> 00:06:45.410\nBut here we're constructing an object,\n\n122\n00:06:45.410 --> 00:06:48.380\nan array in particular with the number\nof attackers or putting it in there.\n\n123\n00:06:48.380 --> 00:06:51.170\nSo now we have this refresh, and\nlet's look at the game again.\n\n124\n00:06:52.630 --> 00:06:55.420\nAnd here we go,\nhere are our five attackers.\n\n125\n00:06:56.460 --> 00:07:00.359\nNow if I were to render these,\nthey would all be at 100,\n\n126\n00:07:00.359 --> 00:07:03.394\n100 with the same exact width and height.\n\n127\n00:07:05.658 --> 00:07:09.324\nThat's just gonna make them look like\nthere's one of them [LAUGH], right,\n\n128\n00:07:09.324 --> 00:07:11.870\nthey're gonna be stacked\non top of each other.\n\n129\n00:07:11.870 --> 00:07:15.510\nSo what we wanna do is space\nthem out horizontally, and\n\n130\n00:07:15.510 --> 00:07:18.640\nwe're going to do that by moving\nthe next one by some amount.\n\n131\n00:07:18.640 --> 00:07:23.610\nNow it has to be at least 30 and\nprobably a little bit more, right?\n\n132\n00:07:23.610 --> 00:07:26.820\nSo add 50 to the horizontal\ndirection each side.\n\n133\n00:07:26.820 --> 00:07:30.720\nSo that'll push us,\nwell, let me just show.\n\n134\n00:07:30.720 --> 00:07:34.740\nWe should get one here, and then here,\nand then here kinda spaced out along.\n\n135\n00:07:34.740 --> 00:07:38.800\nNow we'll have to be careful in this\ncontext, cuz if we have too many\n\n136\n00:07:38.800 --> 00:07:43.360\nattackers, what'll happen is it'll\nbe beyond the scope of the screen.\n\n137\n00:07:43.360 --> 00:07:47.218\nSo we have to be careful there,\nbut how do I do that?\n\n138\n00:07:47.218 --> 00:07:49.822\nWell, I have a variable\ncalled I that's a number.\n\n139\n00:07:49.822 --> 00:07:54.876\nI'm gonna say + 50, which is\nthe number of pixels the spacing right?\n\n140\n00:07:54.876 --> 00:07:56.070\nSo 30 is the minimum,\n\n141\n00:07:56.070 --> 00:07:59.366\nthat's gonna be an additional 20\nbefore I draw on the next one.\n\n142\n00:07:59.366 --> 00:08:02.311\nSo let's go back, let's look, and\n\n143\n00:08:02.311 --> 00:08:08.385\nhere's game.attackers, Like that.\n\n144\n00:08:08.385 --> 00:08:12.093\nSo now we have 100, 152, 253, right?\n\n145\n00:08:12.093 --> 00:08:16.950\nAnd I know this is more than 3, even\nwith the additional 30 pixels that we'll\n\n146\n00:08:16.950 --> 00:08:20.430\nhave in width, so we should be good to go.\n\n147\n00:08:20.430 --> 00:08:24.127\nThat's our first attempt at a swarm,\nthat's more than one.\n\n148\n00:08:24.127 --> 00:08:25.064\nI'm gonna leave it there.\n\n149\n00:08:25.064 --> 00:08:26.779\nLet's try to get this actually working.\n\n150\n00:08:26.779 --> 00:08:31.142\nSo if we come back through here,\nwhere do we see attacker, or\n\n151\n00:08:31.142 --> 00:08:33.976\nwe gotta this render portion, right?\n\n152\n00:08:33.976 --> 00:08:38.531\nSo let's kinda just comment this out,\nso we can use it as reference.\n\n153\n00:08:38.531 --> 00:08:42.772\nAnd say, this.attackers.forEach\n\n154\n00:08:42.772 --> 00:08:47.548\nbecause this is now a collection, right?\n\n155\n00:08:47.548 --> 00:08:52.765\nAn array in particular, and\nforEach of the those attackers,\n\n156\n00:08:52.765 --> 00:08:57.697\nwe're gonna say\nattacker.render(this.context).\n\n157\n00:08:57.697 --> 00:09:00.424\nWe'll see if I can get that to render out.\n\n158\n00:09:00.424 --> 00:09:02.659\nWell you actually have to cut\nthe game back on, Justin.\n\n159\n00:09:04.032 --> 00:09:06.799\nSo there we go,\nlet's see if we get any craziness.\n\n160\n00:09:06.799 --> 00:09:10.880\n&gt;&gt; Hey.\n&gt;&gt; Hey, we got our five, right?\n\n161\n00:09:10.880 --> 00:09:14.290\nOkay, we could probably fit some more\nin there, but we'll leave that there.\n\n162\n00:09:14.290 --> 00:09:16.135\nWe started our swarm-\n&gt;&gt; Baby steps, baby steps.\n\n163\n00:09:16.135 --> 00:09:21.373\n&gt;&gt; Baby steps, yeah, so\nour render works, okay.\n\n164\n00:09:21.373 --> 00:09:24.366\nSo now that our render works,\nI'm actually gonna take this out and\n\n165\n00:09:24.366 --> 00:09:26.679\njust say, all right,\nwell let's go trough this.\n\n166\n00:09:26.679 --> 00:09:29.869\nWe're gonna clearRect for every pellet,\nwe're gonna render every pellet.\n\n167\n00:09:29.869 --> 00:09:33.490\nAnd for every file we're gonna render that\nfighter, because we only have one, right?\n\n168\n00:09:33.490 --> 00:09:37.117\nWhen I have multiple players yet\nor we may not at all.\n\n169\n00:09:37.117 --> 00:09:40.407\nThis tends to be a very good,\nI think once you have multiple players,\n\n170\n00:09:40.407 --> 00:09:42.753\nthis gets a little unruly\non the player's side.\n\n171\n00:09:42.753 --> 00:09:45.916\nAnd then for every attacker,\nrender that attacker, so\n\n172\n00:09:45.916 --> 00:09:48.753\nthis is a forward loop,\na bunch of forward loops.\n\n173\n00:09:48.753 --> 00:09:51.385\nAnd I use forEach, so I don't get overrun.\n\n174\n00:09:51.385 --> 00:09:52.610\nWe're good to go.\n\n175\n00:09:52.610 --> 00:09:58.144\nOkay, now here comes the rough part.\n\n176\n00:09:58.144 --> 00:10:03.298\nAdhering our update,\nour attacker needs to move, right?\n\n177\n00:10:03.298 --> 00:10:09.357\nSo let's do that part first,\nbefore we worry anything above this.\n\n178\n00:10:09.357 --> 00:10:16.961\nAnd so this we're gonna comment\nthis out just like that.\n\n179\n00:10:16.961 --> 00:10:22.166\nThis.attackers.forEach, now I'm not\nsaying this is the optimal solution.\n\n180\n00:10:22.166 --> 00:10:23.572\nI'm taking what we had for\na single attacker-\n\n181\n00:10:23.572 --> 00:10:24.371\n&gt;&gt; Options.\n\n182\n00:10:24.371 --> 00:10:27.714\n&gt;&gt; And abstracting that away.\n\n183\n00:10:27.714 --> 00:10:30.705\nSo for each attacker,\nwhat do I want to happen?\n\n184\n00:10:30.705 --> 00:10:37.980\nWell if(attacker), notice I'm just taking\nthis and rewriting it effectively.\n\n185\n00:10:37.980 --> 00:10:38.700\n&gt;&gt; Right.\n\n186\n00:10:38.700 --> 00:10:45.773\n&gt;&gt; And attacker.hitsEdge(this.screen),\n\n187\n00:10:45.773 --> 00:10:49.946\nthen what needs to happen?\n\n188\n00:10:49.946 --> 00:10:56.869\nWell attacker.dropDown(); otherwise,\n\n189\n00:10:59.023 --> 00:11:06.312\n(attacker), And\nlet's see here attacker.move.\n\n190\n00:11:08.745 --> 00:11:11.766\nJust like that, okay?\n\n191\n00:11:11.766 --> 00:11:15.251\n&gt;&gt; Justin, do we need the first\npart of that if statement, it's\n\n192\n00:11:15.251 --> 00:11:19.893\nlike guaranteeing the attacker, I mean or\nis there something else that we can do?\n\n193\n00:11:19.893 --> 00:11:22.427\n&gt;&gt; You know what?\nI think you might be on to something Zach.\n\n194\n00:11:22.427 --> 00:11:25.278\nLet's see if we get this working,\nbut I think I agree with you.\n\n195\n00:11:25.278 --> 00:11:29.434\nBecause iteration itself is not gonna\niterate over something that doesn't exist.\n\n196\n00:11:29.434 --> 00:11:34.265\nSo if this iteration occurs there\nare guarantees that there's an attacker in\n\n197\n00:11:34.265 --> 00:11:37.370\nthat collection, in that attacker-\n&gt;&gt; There you go.\n\n198\n00:11:37.370 --> 00:11:40.500\n&gt;&gt; So let's just leave that be for now.\n\n199\n00:11:40.500 --> 00:11:43.225\nLet's see if it works and hey, now\n&gt;&gt; [LAUGH]\n\n200\n00:11:43.225 --> 00:11:45.302\n&gt;&gt; All of our attackers are moving.\n\n201\n00:11:45.302 --> 00:11:48.504\nOkay, but let's now try to see-\n&gt;&gt; Okay.\n\n202\n00:11:48.504 --> 00:11:52.817\n&gt;&gt; If we remove this attacker, right?\n\n203\n00:11:52.817 --> 00:11:55.595\nAnd if it's the edge then drop down, and\n\n204\n00:11:55.595 --> 00:11:59.449\nwell we don't really need\nthis portion at all anymore.\n\n205\n00:11:59.449 --> 00:12:03.747\nI kinda of want to move regardless and\n\n206\n00:12:03.747 --> 00:12:05.392\nyeah-\n&gt;&gt; [INAUDIBLE]\n\n207\n00:12:05.392 --> 00:12:08.414\n&gt;&gt; Yeah, so if I refresh, it's good to go.\n\n208\n00:12:08.414 --> 00:12:09.927\nOkay, so that works.\n\n209\n00:12:09.927 --> 00:12:14.234\nNow if we come back here,\nand I shoot a pellet,\n\n210\n00:12:14.234 --> 00:12:18.550\nthat's a rather portion that doesn't work.\n\n211\n00:12:18.550 --> 00:12:22.570\nSo our attackers are moving, that's good.\n\n212\n00:12:22.570 --> 00:12:25.739\nLet's worry about this pellets portion,\nright?\n\n213\n00:12:25.739 --> 00:12:29.656\nSo for this respective attacker,\nI kinda need a for loop and a for loop.\n\n214\n00:12:29.656 --> 00:12:33.675\nNow, I do forewarn you if you have\na great number of entities on the screen.\n\n215\n00:12:33.675 --> 00:12:37.452\nThen the forEach could possibly\nbe a performance bottleneck.\n\n216\n00:12:37.452 --> 00:12:39.730\nYou may have to go back to old school for\nloops.\n\n217\n00:12:39.730 --> 00:12:44.294\nIn addition to the computational\nkind of the time that it would take.\n\n218\n00:12:44.294 --> 00:12:47.491\nLet's say you have 1,000 pellets and\n1,000 attackers.\n\n219\n00:12:47.491 --> 00:12:52.252\nWe have to check 1,000 times 1,000\nwhich is 1 million iterations every\n\n220\n00:12:52.252 --> 00:12:53.567\ntime you draw a frame.\n\n221\n00:12:53.567 --> 00:12:55.895\n&gt;&gt; [LAUGH]\n&gt;&gt; So it gets a little out of hand, so\n\n222\n00:12:55.895 --> 00:12:57.039\ndo keep that in mind.\n\n223\n00:12:57.039 --> 00:13:01.106\nBut I'm gonna keep this pellets portion,\nI think that's okay.\n\n224\n00:13:01.106 --> 00:13:05.582\nAnd actually this is in orbit,\nthat's okay as well.\n\n225\n00:13:05.582 --> 00:13:09.860\nIt's just this portion right here, that\nI'm gonna comment out, just like we have.\n\n226\n00:13:09.860 --> 00:13:16.171\nAnd say, well this.attackers.forEach and\n\n227\n00:13:16.171 --> 00:13:23.302\nforEach((attacker and the attackerIndex)).\n\n228\n00:13:23.302 --> 00:13:27.915\nI can't reuse index,\nbecause it's already used for the pellets.\n\n229\n00:13:27.915 --> 00:13:30.334\nBecause I see here that\nI'm gonna have to get,\n\n230\n00:13:30.334 --> 00:13:32.826\nI'm probably gonna have\nto remove something.\n\n231\n00:13:32.826 --> 00:13:36.620\nAnd since it's in a collection, I need to\ndo something like I did in the pellet.\n\n232\n00:13:36.620 --> 00:13:43.963\nIf the attacker, Actually I don't need\nthat anymore, because that's again,\n\n233\n00:13:43.963 --> 00:13:47.012\nwhat Zach pointed out where we're\ntesting to see if it was null or not.\n\n234\n00:13:47.012 --> 00:13:49.592\nBut it's guaranteed to be there during or,\n\n235\n00:13:49.592 --> 00:13:52.669\nwell there's guaranteed\nto be something in there.\n\n236\n00:13:52.669 --> 00:13:55.122\nIt doesn't necessarily\nmeans its an attacker.\n\n237\n00:13:55.122 --> 00:13:59.908\nIf the pellet hits the attacker\n\n238\n00:13:59.908 --> 00:14:04.702\nwe are going through, right?\n\n239\n00:14:04.702 --> 00:14:12.715\nThen this.attackers.splice(attackerIndex\nof 1).\n\n240\n00:14:12.715 --> 00:14:17.600\nNow this is in situation,\nkind of mutation like I said before,\n\n241\n00:14:17.600 --> 00:14:20.651\nnot necessarily my greatest feeling.\n\n242\n00:14:20.651 --> 00:14:25.222\nBut sometimes there is a call for\nit, here we go.\n\n243\n00:14:25.222 --> 00:14:28.760\nSo if we look at this, for every one of\nthe attackers, for every pellet and for\n\n244\n00:14:28.760 --> 00:14:30.067\neveryone of the attackers,\n\n245\n00:14:30.067 --> 00:14:33.566\nwe're essentially checking if the pellet\nhas hit any one of the attackers.\n\n246\n00:14:33.566 --> 00:14:38.240\nSo if there's two pellets and\nthere's five possible attackers,\n\n247\n00:14:38.240 --> 00:14:40.840\nwe're checking ten combinations.\n\n248\n00:14:40.840 --> 00:14:45.310\nAll five attackers for this pellet,\nall five attackers for also this pellet.\n\n249\n00:14:45.310 --> 00:14:49.310\nAnd if any of those come in contact,\nwe're gonna remove the pellet and\n\n250\n00:14:49.310 --> 00:14:50.020\nremove the attacker.\n\n251\n00:14:51.020 --> 00:14:53.917\nSo now we would have this many,\nand once this one goes off screen,\n\n252\n00:14:53.917 --> 00:14:56.562\nthis one gets removed, and\nstill have our four attackers.\n\n253\n00:14:56.562 --> 00:15:02.007\nSo in this works out and\nwe were fresh, here we go.\n\n254\n00:15:02.007 --> 00:15:06.874\nHey, missed him and-\n&gt;&gt; They're coming to get you.\n\n255\n00:15:06.874 --> 00:15:11.920\n&gt;&gt; There we go, we have our attackers\nthat are used to the pellets,\n\n256\n00:15:11.920 --> 00:15:13.703\nand we're good to go.\n\n257\n00:15:13.703 --> 00:15:18.635\nSo we can remove that and\nwell I think that's pretty good.\n\n258\n00:15:18.635 --> 00:15:22.462\nLet me make sure that\nlook at game.pellets,\n\n259\n00:15:22.462 --> 00:15:27.304\nthe pellets do get removed still,\nif they go into orbit.\n\n260\n00:15:27.304 --> 00:15:31.964\nThat's good to go, and\nthere's our first swarm.\n\n261\n00:15:31.964 --> 00:15:33.905\n&gt;&gt; So Justin,\nthat seems like pretty weird behavior.\n\n262\n00:15:33.905 --> 00:15:36.365\nIs that what you were meaning to do?\n\n263\n00:15:36.365 --> 00:15:38.355\n&gt;&gt; Well full disclosure Zach, no.\n\n264\n00:15:38.355 --> 00:15:39.658\n&gt;&gt; [LAUGH]\n&gt;&gt; No, it wasn't.\n\n265\n00:15:39.658 --> 00:15:43.662\nAnd in case, you didn't catch it,\nactually let's come back to the screen and\n\n266\n00:15:43.662 --> 00:15:45.370\nlook wha Zach's talking about.\n\n267\n00:15:46.530 --> 00:15:50.560\nIf we look, and as we come over here and\nwe're hitting the edge and that behavior\n\n268\n00:15:50.560 --> 00:15:53.775\nworked, except now they're independent-\n&gt;&gt; Right.\n\n269\n00:15:53.775 --> 00:15:54.626\n&gt;&gt; Right?\n\n270\n00:15:54.626 --> 00:15:55.917\nI mean you could do that.\n\n271\n00:15:55.917 --> 00:15:57.199\n&gt;&gt; That could work.\n\n272\n00:15:57.199 --> 00:15:59.422\n&gt;&gt; It kinda reminds me of a snake,\nactually.\n\n273\n00:15:59.422 --> 00:16:01.365\n&gt;&gt; Yeah, yeah a little bit.\n\n274\n00:16:01.365 --> 00:16:05.376\nWhat I wanted to happen was them to be\nconfined and to all stay on the same level\n\n275\n00:16:05.376 --> 00:16:10.010\nbecause there maybe some weirdness that\noccurs at this kind of intersection.\n\n276\n00:16:10.010 --> 00:16:15.890\nSee how they're overlapping and maybe,\nand then if you have multiple rows,\n\n277\n00:16:15.890 --> 00:16:20.788\nyou're gonna have [INAUDIBLE]\nkeep them spaced appropriately.\n\n278\n00:16:20.788 --> 00:16:21.500\nSo I didn't want that.\n\n279\n00:16:23.340 --> 00:16:24.650\nWhere does this occur?\n\n280\n00:16:24.650 --> 00:16:28.280\nThis actually occurs at this hit's edge.\n\n281\n00:16:28.280 --> 00:16:32.529\nWe're looking for each of the attackers.\n\n282\n00:16:32.529 --> 00:16:39.100\nAll right, if attacker hits the edge, that\nparticular attacker needs to move down.\n\n283\n00:16:41.260 --> 00:16:43.059\nThat's not what I want though, no.\n\n284\n00:16:43.059 --> 00:16:47.554\n[LAUGH] We need to kind of\nrestructure this a little bit,\n\n285\n00:16:47.554 --> 00:16:54.620\nbecause what I want is if any of them hit,\nI want all of them to drop down, okay?\n\n286\n00:16:54.620 --> 00:16:55.930\nNotice that keyword, all.\n\n287\n00:16:55.930 --> 00:16:59.347\nSo I'm gonna introduce I\nthink a new function here.\n\n288\n00:16:59.347 --> 00:17:02.830\nI want all of them to drop\ndown if any of them hit.\n\n289\n00:17:02.830 --> 00:17:05.710\nNow what does this boolean mean?\n\n290\n00:17:05.710 --> 00:17:10.210\nThis hits edge, it's gonna return true\nif it hits the edge of the screen, for\n\n291\n00:17:10.210 --> 00:17:10.980\nany of them.\n\n292\n00:17:10.980 --> 00:17:16.642\nSo I think, if we come back here, let's\njust move this over and we pull this out.\n\n293\n00:17:16.642 --> 00:17:19.520\nI'm gonna pull this out because I\njust want to see if they'll move,\n\n294\n00:17:19.520 --> 00:17:21.600\nif this still works for movement.\n\n295\n00:17:21.600 --> 00:17:24.060\nAnd I'm gonna paste this,\nand comment this out.\n\n296\n00:17:25.820 --> 00:17:28.933\nSo if I refresh, all right,\nso they're still moving.\n\n297\n00:17:28.933 --> 00:17:30.640\nAnd I've effectively removed the behavior.\n\n298\n00:17:30.640 --> 00:17:31.510\nThey're gonna go off screen.\n\n299\n00:17:33.170 --> 00:17:36.530\nBut what I want is I want them to move.\n\n300\n00:17:36.530 --> 00:17:43.580\nHowever, it could be above or below, and\nyou may have to tweak that effectively.\n\n301\n00:17:43.580 --> 00:17:46.588\nAnd you may need to tweak that at some\npoint whether they move before they drop\n\n302\n00:17:46.588 --> 00:17:48.000\ndown or drop down before they move.\n\n303\n00:17:49.160 --> 00:17:53.540\nIf the attacker hits the edge,\nif any of them, any of them.\n\n304\n00:17:53.540 --> 00:17:58.000\nSo what I mean is I'm gonna check all the\nattackers and see if they've hit the edge.\n\n305\n00:17:58.000 --> 00:18:00.730\nBecause if they're moving to the right,\n\n306\n00:18:00.730 --> 00:18:02.910\nthe rightmost attacker is\ngonna hit the edge first.\n\n307\n00:18:02.910 --> 00:18:06.800\nIf I move to the left,\nthe leftmost attacker is gonna hit first.\n\n308\n00:18:06.800 --> 00:18:09.190\nAnd then if those get removed,\n\n309\n00:18:10.400 --> 00:18:15.470\nthe rightmost attacker is now something\nthat used to be in the middle.\n\n310\n00:18:15.470 --> 00:18:17.890\nSo that's some things that\nwe need to check here.\n\n311\n00:18:17.890 --> 00:18:20.840\nNow what I'm thinking\nis I have a function,\n\n312\n00:18:22.080 --> 00:18:27.040\nmaybe right here that I'm gonna call any.\n\n313\n00:18:28.110 --> 00:18:31.020\nAnd it's gonna take a bunch of booleans.\n\n314\n00:18:31.020 --> 00:18:32.378\nNow what booleans is it?\n\n315\n00:18:32.378 --> 00:18:34.240\nWhat do I mean by booleans?\n\n316\n00:18:34.240 --> 00:18:36.210\nIt's just a list a list\nof true false values.\n\n317\n00:18:36.210 --> 00:18:37.410\nHow am I gonna get those?\n\n318\n00:18:37.410 --> 00:18:41.880\nI'm gonna check to see if every attacker\nhas hit the wall and I'm gonna get true,\n\n319\n00:18:41.880 --> 00:18:43.970\ntrue, false, false, true, false.\n\n320\n00:18:43.970 --> 00:18:44.990\nAnd I'm just going to get a list back.\n\n321\n00:18:44.990 --> 00:18:46.400\nThat's my thought.\n\n322\n00:18:47.550 --> 00:18:52.499\nAnd then, for any of them, I'm just gonna\n\n323\n00:18:52.499 --> 00:18:57.870\nloop through those for(let b of booleans).\n\n324\n00:19:00.760 --> 00:19:04.018\nI'm gonna return, wait a minute.\n\n325\n00:19:04.018 --> 00:19:06.282\nIf b, now what do I mean by if(b)?\n\n326\n00:19:06.282 --> 00:19:11.002\nI mean, if any of that is true,\nI'm looking for any of them to be true,\n\n327\n00:19:11.002 --> 00:19:12.530\nthen I wanna return b.\n\n328\n00:19:14.200 --> 00:19:16.580\nOtherwise, return false.\n\n329\n00:19:16.580 --> 00:19:17.940\nThat means that none of them were true.\n\n330\n00:19:17.940 --> 00:19:21.680\nSo I either want just one,\nthey could all be true.\n\n331\n00:19:21.680 --> 00:19:25.330\nBut I need just one so I can short circuit\nthis calculation actually ends up being\n\n332\n00:19:25.330 --> 00:19:27.790\na little easier to reason about.\n\n333\n00:19:27.790 --> 00:19:30.260\nSo I have written it this way.\n\n334\n00:19:30.260 --> 00:19:34.570\nThere are ways where you can just do,\nI wanna take this and or it with the next.\n\n335\n00:19:34.570 --> 00:19:37.350\nOr, or, or, or, and\nthen you'll get the result.\n\n336\n00:19:37.350 --> 00:19:40.690\nBut this way, as soon as I find it true,\nI'm just returning true.\n\n337\n00:19:40.690 --> 00:19:41.300\nWe're good to go.\n\n338\n00:19:41.300 --> 00:19:42.490\n&gt;&gt; Makes sense.\n\n339\n00:19:42.490 --> 00:19:48.629\n&gt;&gt; So if any of those are true,\nand how am I going to\n\n340\n00:19:48.629 --> 00:19:55.070\nuse that here?\n\n341\n00:19:55.070 --> 00:19:59.281\nEdge, Determination.\n\n342\n00:19:59.281 --> 00:20:03.660\nActually EdgeHits, right?\n\n343\n00:20:03.660 --> 00:20:06.270\nNot the greatest variable name, but\nyou'll see what I mean in just a moment.\n\n344\n00:20:06.270 --> 00:20:10.810\nSo this.attackers, and\nthen I'm gonna map, and for\n\n345\n00:20:10.810 --> 00:20:16.390\nevery attacker,\nI want to find if the attacker\n\n346\n00:20:16.390 --> 00:20:21.760\nhits the edge of this.screen.\n\n347\n00:20:21.760 --> 00:20:27.940\nAll right, and I'm going to move this\ndown so we can actually see this.\n\n348\n00:20:27.940 --> 00:20:29.190\nAnd I'm going to move that.\n\n349\n00:20:29.190 --> 00:20:30.039\nAll right, so there we go.\n\n350\n00:20:30.039 --> 00:20:33.150\nA little bit of stair stepping there,\nbut that'll be all right.\n\n351\n00:20:33.150 --> 00:20:34.465\nSo go through the attackers.\n\n352\n00:20:34.465 --> 00:20:36.760\nMap, that means transform this.\n\n353\n00:20:36.760 --> 00:20:39.689\nAnd let me just show you what this is.\n\n354\n00:20:41.000 --> 00:20:45.240\nI'm going to say debugger,\nand stop it at that moment.\n\n355\n00:20:45.240 --> 00:20:45.930\nThere it is.\n\n356\n00:20:45.930 --> 00:20:46.550\nSent to debugger.\n\n357\n00:20:48.720 --> 00:20:52.180\nattackersEdgeHits, false,\nfalse, false, false, false.\n\n358\n00:20:52.180 --> 00:20:55.690\nOkay, that means the attackers\nhave not hit the edge yet.\n\n359\n00:20:55.690 --> 00:20:59.160\nIf I say allAttackersEdgeHits.\n\n360\n00:21:00.830 --> 00:21:04.670\nExcuse me, not all,\nI confused myself there.\n\n361\n00:21:06.210 --> 00:21:09.390\nAny, no none of them, right.\n\n362\n00:21:09.390 --> 00:21:10.660\nNone of them hit.\n\n363\n00:21:10.660 --> 00:21:14.730\nHowever, if I come in here and\nchange this, let's say I mutate this and\n\n364\n00:21:14.730 --> 00:21:17.270\nsay, zeroth one equals true.\n\n365\n00:21:19.566 --> 00:21:23.210\nThen attackersEdgeHits, I have true,\nfalse, false, false, false, false.\n\n366\n00:21:23.210 --> 00:21:24.680\nOne of them did hit the edge.\n\n367\n00:21:24.680 --> 00:21:25.680\nLooks like the leftmost one.\n\n368\n00:21:27.450 --> 00:21:30.660\nIf I come back and run any on that,\nI'm gonna get true.\n\n369\n00:21:30.660 --> 00:21:32.720\nAnd at that point, at that point,\n\n370\n00:21:32.720 --> 00:21:37.260\nthat's when I want to see if\nany attackers hit the edge.\n\n371\n00:21:38.630 --> 00:21:40.700\nAnd then drop all of\nthem down if they did.\n\n372\n00:21:42.350 --> 00:21:45.060\nSo I'm gonna use that to my advantage.\n\n373\n00:21:45.060 --> 00:21:49.140\nAnd as a matter of fact,\nI'm going to wrap this in\n\n374\n00:21:52.710 --> 00:21:59.400\nany, AnyAttackerHitEdge.\n\n375\n00:21:59.400 --> 00:22:01.710\nIt's a long variable name, I know,\nbut it's very descriptive and\n\n376\n00:22:01.710 --> 00:22:03.810\nI don't have to think about what it means.\n\n377\n00:22:03.810 --> 00:22:08.200\nRight, because this statement alone is\nactually there's a lot buried in it.\n\n378\n00:22:08.200 --> 00:22:10.847\nSo I get a bunch of true false values and\nI find the any.\n\n379\n00:22:10.847 --> 00:22:14.051\nAnd you have to be careful here\nbecause I don't have strictness.\n\n380\n00:22:14.051 --> 00:22:17.360\nI have some truthy false stuff\nthat will happen in JavaScript.\n\n381\n00:22:17.360 --> 00:22:22.850\nSo if you have something that's\nlike one or non-truthy fact,\n\n382\n00:22:22.850 --> 00:22:26.690\nit'll still work, so do keep that in mind.\n\n383\n00:22:26.690 --> 00:22:31.065\nBut now what I can do is say,\n\n384\n00:22:31.065 --> 00:22:38.869\nif (didAnyattackersHitEdge), if they did,\n\n385\n00:22:38.869 --> 00:22:46.105\nthen this.attackers.forEach(attacker\n\n386\n00:22:46.105 --> 00:22:51.840\n=&gt; attacker.dropDown()).\n\n387\n00:22:51.840 --> 00:22:54.681\nSo if AnyAttackerHitEdge,\nand let me rename that.\n\n388\n00:22:54.681 --> 00:22:58.834\nAnyAttackerHitEdges.\n\n389\n00:22:58.834 --> 00:23:01.160\nThere we go.\n\n390\n00:23:01.160 --> 00:23:06.320\nIf any attacker hit the edge,\nthen all of the attackers drop down.\n\n391\n00:23:06.320 --> 00:23:12.210\nAnd I think we should see a resolution\nto that respective thing.\n\n392\n00:23:12.210 --> 00:23:15.718\n[SOUND] And\nnow we're back to the collective chunk.\n\n393\n00:23:15.718 --> 00:23:18.515\n&gt;&gt; They're marching in lockstep.\n\n394\n00:23:18.515 --> 00:23:21.665\n&gt;&gt; I want one final kind of test here.\n\n395\n00:23:23.405 --> 00:23:28.215\nSo I removed that respective attacker,\nright, on the leftmost edge.\n\n396\n00:23:28.215 --> 00:23:33.300\nLet's see if it drops down from the\noriginal one, or it actually skips that.\n\n397\n00:23:35.026 --> 00:23:38.583\nThe longer path,\nthat actually keeps the, helps you, so\n\n398\n00:23:38.583 --> 00:23:43.591\nthe more you take out along the edges,\nyou could use a strategy to say, well,\n\n399\n00:23:43.591 --> 00:23:47.540\nthat's not fair because now it's\ngonna travel a longer path.\n\n400\n00:23:47.540 --> 00:23:51.450\nWhat I would really like is\nit's defined at those points.\n\n401\n00:23:52.681 --> 00:23:55.220\nBut we said we're gonna\ncreate a swarm there.\n\n402\n00:23:55.220 --> 00:23:58.970\nAnd you know, Zach, I'm thinking.\n\n403\n00:23:58.970 --> 00:24:02.320\nI like this but\nI'm not necessarily in love with it.\n\n404\n00:24:02.320 --> 00:24:04.990\n&gt;&gt; Well,\nit looks like we're done with it, though.\n\n405\n00:24:04.990 --> 00:24:06.250\nAre we done with it?\n\n406\n00:24:06.250 --> 00:24:08.460\n&gt;&gt; We could call it done,\nbut I don't know.\n\n407\n00:24:08.460 --> 00:24:12.340\nThere's something in my gut that says\nyou should probably change that out\n\n408\n00:24:12.340 --> 00:24:13.000\na little bit.\n\n409\n00:24:13.000 --> 00:24:16.040\nAs a matter of fact, I think maybe\nwe'll come back in a part two and\n\n410\n00:24:16.040 --> 00:24:18.788\nactually change this into a swarm object.\n\n411\n00:24:18.788 --> 00:24:20.513\n&gt;&gt; Ooh!\n\n412\n00:24:20.513 --> 00:24:21.999\n&gt;&gt; And what I mean by a swarm object is,\n\n413\n00:24:21.999 --> 00:24:24.660\nit's a containing object\nwith a bunch of attackers.\n\n414\n00:24:24.660 --> 00:24:28.310\nAnd then we change how\nthe interaction goes.\n\n415\n00:24:28.310 --> 00:24:31.944\nMainly because we have a lot of loops and\nloops and loops, and\n\n416\n00:24:31.944 --> 00:24:35.450\nwe can pull those away, hide those\nbehind the scenes in a swarm object, and\n\n417\n00:24:35.450 --> 00:24:38.365\nthat'll clean up our code,\nmake it a little easier to reason about.\n\n418\n00:24:38.365 --> 00:24:41.760\nSo I think we're gonna come back and\ndo that.\n\n419\n00:24:41.760 --> 00:24:43.650\n&gt;&gt; Okay, well,\nthis has been creating a swarm part one.\n\n420\n00:24:43.650 --> 00:24:46.180\nThere will be a creating a swarm part two.\n\n421\n00:24:46.180 --> 00:24:48.100\nSo make sure you see\nboth of those episodes.\n\n422\n00:24:48.100 --> 00:24:49.860\nJustin, I know you wanna\nsay something else.\n\n423\n00:24:49.860 --> 00:24:50.580\nI can tell.\n\n424\n00:24:50.580 --> 00:24:53.180\n&gt;&gt; Well, this is one of those things\nwhere I was like, I think I like this,\n\n425\n00:24:53.180 --> 00:24:57.060\nbut there's a lot of loops and\nloops and loops.\n\n426\n00:24:57.060 --> 00:25:00.500\nMaybe we can use abstraction on\nour side to increase readability.\n\n427\n00:25:00.500 --> 00:25:02.280\nAnd this is a good chance.\n\n428\n00:25:02.280 --> 00:25:07.080\nWe don't have to do what I'm proposing,\nbut maybe we'll get started on that and\n\n429\n00:25:07.080 --> 00:25:09.590\nsee how it goes, and if I don't like it,\nI'll just undo all of it.\n\n430\n00:25:09.590 --> 00:25:13.420\nBut hopefully you'll be there to\nsee me either crash and burn or\n\n431\n00:25:13.420 --> 00:25:14.615\nsucceed wonderfully.\n\n432\n00:25:14.615 --> 00:25:17.434\n&gt;&gt; That's because you do a wonderful job,\nand you\n\n433\n00:25:17.434 --> 00:25:22.370\nreally do care about how we perceive your\nteaching or your tutelage, I must say.\n\n434\n00:25:22.370 --> 00:25:23.840\nYou have very good tutelage.\n\n435\n00:25:23.840 --> 00:25:27.658\nSo make sure you watch every single\nepisode of HTML 5, Canvas Projects, and\n\n436\n00:25:27.658 --> 00:25:31.476\ngo to our course library and check out\nthe hundreds of videos there that are all\n\n437\n00:25:31.476 --> 00:25:33.580\ndesigned to help you go further.\n\n438\n00:25:33.580 --> 00:25:35.650\nAnd tell a friend about DEVPro.TV.\n\n439\n00:25:35.650 --> 00:25:37.130\nThey'll be glad you did.\n\n440\n00:25:37.130 --> 00:25:37.910\nThanks for watching.\n\n441\n00:25:37.910 --> 00:25:38.700\nI'm Zach Memos.\n\n442\n00:25:38.700 --> 00:25:39.510\n&gt;&gt; And I'm Justin Dennison.\n\n443\n00:25:39.510 --> 00:25:40.603\n&gt;&gt; And we'll see you soon.\n\n444\n00:25:40.603 --> 00:25:44.539\n[MUSIC]\n\n",
          "vimeoId": "236587159"
        },
        {
          "description": "In this episode, Justin refactors the original implementation of the swarm of attackers in order to address the changing boundary issues as well as make the main game code more readable.",
          "length": "2175",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-6-2-creating_a_swarm_pt2-100217-PGM.01_00_58_19.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-6-2-creating_a_swarm_pt2-100217-PGM.01_00_58_19.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-6-2-creating_a_swarm_pt2-100217-PGM.01_00_58_19.Still001-sm.jpg",
          "title": "Creating a Swarm Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.057 --> 00:00:10.057\n[MUSIC]\n\n2\n00:00:12.913 --> 00:00:17.507\nHello and thank you for choosing DevProTV,\nhelping you learn wherever you go, and\n\n3\n00:00:17.507 --> 00:00:20.245\nyou're watching HTML5 Canvas Projects.\n\n4\n00:00:20.245 --> 00:00:23.385\nI'm your host Zach Memos,\nwith me is Justin Dennison, and\n\n5\n00:00:23.385 --> 00:00:25.755\nwe're looking at Creating a Swarm Part 2.\n\n6\n00:00:25.755 --> 00:00:28.935\nJustin, I'm excited,\nglad that you're here, let's go.\n\n7\n00:00:28.935 --> 00:00:31.235\n&gt;&gt; Well, you said let's go,\nso let's go Zach.\n\n8\n00:00:31.235 --> 00:00:33.525\nBut, before we do, how are you today?\n\n9\n00:00:33.525 --> 00:00:35.870\n&gt;&gt; I'm great, I'm very excited.\n\n10\n00:00:35.870 --> 00:00:39.068\nAnd you said we we're coming\nback with a Swarm object, right?\n\n11\n00:00:39.068 --> 00:00:39.877\n&gt;&gt; Right.\n&gt;&gt; Okay, so\n\n12\n00:00:39.877 --> 00:00:43.420\nis this just to increase\nthe readability or what's going on?\n\n13\n00:00:43.420 --> 00:00:46.930\n&gt;&gt; So, I'll just be completely honest.\n\n14\n00:00:46.930 --> 00:00:48.385\nI think it's gonna be\na little more readable.\n\n15\n00:00:48.385 --> 00:00:49.430\n&gt;&gt; Mm-hm.\n&gt;&gt; And abstract,\n\n16\n00:00:49.430 --> 00:00:52.055\nthe way some of those loops, and\nloops, and loops, and loops.\n\n17\n00:00:52.055 --> 00:00:54.875\nAnd we can change some of the,\nwe don't have to do this,\n\n18\n00:00:54.875 --> 00:00:58.640\nthis is just a decision that I've made\nbecause I like things to be clear.\n\n19\n00:00:58.640 --> 00:01:02.660\nRight, I'm gonna extract away and\nhide some of the stuff in objects.\n\n20\n00:01:02.660 --> 00:01:04.161\n&gt;&gt; Okay.\n&gt;&gt; That way I don't have to go,\n\n21\n00:01:04.161 --> 00:01:06.475\nall right so now I have to\nloop over these other things.\n\n22\n00:01:06.475 --> 00:01:12.516\nAnd that way I have this kind of pallet of\nobjects that I can use to create my logic.\n\n23\n00:01:12.516 --> 00:01:17.014\nLike right now in our code we have inside\nthe pallets, inside of the attackers,\n\n24\n00:01:17.014 --> 00:01:18.100\nwe have this loop.\n\n25\n00:01:18.100 --> 00:01:21.801\nNow, I'm not gonna go crazy and\nI could do this for the pallets and\n\n26\n00:01:21.801 --> 00:01:25.852\nthe Swarm I think makes sense,\nbecause I want the swarm to stay unison.\n\n27\n00:01:25.852 --> 00:01:30.889\nAnd I don't want it to hit\nthe edge when it first comes up.\n\n28\n00:01:30.889 --> 00:01:33.257\nWhat I mean is,\nif I get rid of the left hand or\n\n29\n00:01:33.257 --> 00:01:37.182\nthe right hand most attacker,\nI don't want to Swarm them to scoot away.\n\n30\n00:01:37.182 --> 00:01:41.350\nI still want it to have this\ninvisible edge that it hits against.\n\n31\n00:01:41.350 --> 00:01:46.090\nSo by doing that I can create an object\nthat says here's our left hand side,\n\n32\n00:01:46.090 --> 00:01:47.650\nhere's our right hand most side.\n\n33\n00:01:47.650 --> 00:01:51.220\nAnd then just keep those\nin the object itself and\n\n34\n00:01:51.220 --> 00:01:53.980\nalways be able to reference\nthose internal to the object.\n\n35\n00:01:53.980 --> 00:01:57.350\nThat way I can keep the boundaries that\nare established upon the creation of\n\n36\n00:01:57.350 --> 00:02:01.320\nthe Swarm without all kinds of crazy\nlogic inside of the main game loop.\n\n37\n00:02:01.320 --> 00:02:03.113\n&gt;&gt; So what you're telling me Justin,\n\n38\n00:02:03.113 --> 00:02:06.110\nis that we don't need that\ncreateSwarm function any more.\n\n39\n00:02:06.110 --> 00:02:08.935\n&gt;&gt; Yeah, we're probably gonna delete that.\n\n40\n00:02:08.935 --> 00:02:10.940\n&gt;&gt; Yeah, but\nthat does bring me to another good point,\n\n41\n00:02:10.940 --> 00:02:14.180\nwe should probably do a little bit of\nclean up first, it's not gonna take long.\n\n42\n00:02:14.180 --> 00:02:19.350\nA little bit of pulling things\nout of the respective app.js cuz\n\n43\n00:02:19.350 --> 00:02:21.860\nwe may need to reuse those on other files.\n\n44\n00:02:21.860 --> 00:02:25.690\nSo let's go and take a look at the screen\nhere and do a little bit of cleanup.\n\n45\n00:02:25.690 --> 00:02:29.120\nWhat I'm gonna do, is that createSwarm,\nI'm gonna keep that just for a moment.\n\n46\n00:02:29.120 --> 00:02:33.470\nWe may use that internal\nto the actual Swarm, right?\n\n47\n00:02:33.470 --> 00:02:36.590\nThe createSwarm in that case\nwould be pre the collection.\n\n48\n00:02:36.590 --> 00:02:39.090\nNow, we may still need that\ninside of the Swarm object, but\n\n49\n00:02:39.090 --> 00:02:40.443\nwe wanna attach other methods.\n\n50\n00:02:40.443 --> 00:02:43.857\nSo I'm gonna do that, and\nI'm gonna come over here and\n\n51\n00:02:43.857 --> 00:02:46.465\nopen the side panel, and create a Swarm.\n\n52\n00:02:46.465 --> 00:02:50.668\nSo swarm.js, and\nI'm just going to go ahead and paste that.\n\n53\n00:02:50.668 --> 00:02:52.390\nI'm not entirely sold\nthat we don't need that.\n\n54\n00:02:52.390 --> 00:02:54.770\nIn addition to, there's this inning.\n\n55\n00:02:54.770 --> 00:02:57.777\nNow, this any,\nI could leave this here, but\n\n56\n00:02:57.777 --> 00:03:02.565\nthose are long in the app.js,\nit's kind of utilitarian in function.\n\n57\n00:03:02.565 --> 00:03:09.426\nI'm gonna grab that to clean up our\nfile again and make a utils file.\n\n58\n00:03:09.426 --> 00:03:15.130\nSo utils and js just like so\nand then paste that.\n\n59\n00:03:15.130 --> 00:03:20.686\nNow I'm just going to kind\nof leave that for now.\n\n60\n00:03:20.686 --> 00:03:22.322\nIf I was doing a real build or something,\n\n61\n00:03:22.322 --> 00:03:24.110\nI would probably put\nthis in a utils module.\n\n62\n00:03:24.110 --> 00:03:28.390\nOr at least namespace it with utils\nas I've done in previous episodes or\n\n63\n00:03:28.390 --> 00:03:30.660\nother projects that you\nmay have seen me build.\n\n64\n00:03:30.660 --> 00:03:33.980\nI'm just gonna leave that for now, just so\nI don't have to do other refactoring.\n\n65\n00:03:33.980 --> 00:03:37.200\nBut I do need to include\nthose files on the page.\n\n66\n00:03:37.200 --> 00:03:41.280\nNow that brings me to a point about\nkind of when to include things.\n\n67\n00:03:41.280 --> 00:03:43.590\nUtils may be used in anything below it.\n\n68\n00:03:43.590 --> 00:03:45.610\nSo I'm gonna put that first, but for\n\n69\n00:03:45.610 --> 00:03:49.540\nthe Swarm,\nI really don't need that until the app.js.\n\n70\n00:03:49.540 --> 00:03:53.340\nSo Swarm, I'm just gonna put at\nthe end and that gives me kind of\n\n71\n00:03:53.340 --> 00:03:57.540\na history of progression of how\nthese things have come to be.\n\n72\n00:03:58.670 --> 00:04:01.350\nAin't no nothing special about that,\nso it still works.\n\n73\n00:04:01.350 --> 00:04:04.150\n&gt;&gt; Okay.\n&gt;&gt; Let's see if it hits the edge and\n\n74\n00:04:04.150 --> 00:04:05.160\nit does and we're good.\n\n75\n00:04:05.160 --> 00:04:11.330\nNow what I'm trying to get away from\nis if I hit that one with the pellet,\n\n76\n00:04:11.330 --> 00:04:13.570\nthe boundary of the Swarm\nactually contracts.\n\n77\n00:04:13.570 --> 00:04:14.170\n&gt;&gt; Right, right.\n\n78\n00:04:14.170 --> 00:04:19.100\n&gt;&gt; So, and that kinda puts the attackers\nat a disadvantage, because\n\n79\n00:04:19.100 --> 00:04:22.640\nnow they have to travel a longer path and\nyou have a longer time to hit them.\n\n80\n00:04:22.640 --> 00:04:25.820\nI'm just gonna change the dynamics\nbecause I want that edge to stay.\n\n81\n00:04:25.820 --> 00:04:29.922\nSo if I get rid of all the attackers, if\nthe original Swarm boundary hits the edge,\n\n82\n00:04:29.922 --> 00:04:31.896\nI still want the attacker to drop down.\n\n83\n00:04:31.896 --> 00:04:35.901\nAnd that makes it a little more difficult,\nas far as how long it would take,\n\n84\n00:04:35.901 --> 00:04:39.285\nbecause what I could do now,\nis I can always try to hit the edge.\n\n85\n00:04:41.777 --> 00:04:42.990\nAll right, I hit all of those edges.\n\n86\n00:04:42.990 --> 00:04:44.680\nNow, I would probably also speed these up.\n\n87\n00:04:46.550 --> 00:04:50.270\nBut now, this is really long path,\n\n88\n00:04:50.270 --> 00:04:53.330\nand I could just, and\nI can kind of just leave that one.\n\n89\n00:04:55.070 --> 00:04:57.520\nSo let's change it up a little bit.\n\n90\n00:04:57.520 --> 00:04:59.448\nLet's make it a little\nmore of a fair fight.\n\n91\n00:04:59.448 --> 00:05:01.110\n&gt;&gt; [LAUGH]\n&gt;&gt; Now you may disagree with this,\n\n92\n00:05:01.110 --> 00:05:01.730\nyou don't wanna do this.\n\n93\n00:05:01.730 --> 00:05:03.090\nThat's perfectly okay.\n\n94\n00:05:03.090 --> 00:05:05.230\nBut we have everything still working.\n\n95\n00:05:05.230 --> 00:05:06.570\nWe're good to go.\n\n96\n00:05:06.570 --> 00:05:07.670\nAnd one final thing,\n\n97\n00:05:07.670 --> 00:05:11.164\nwe have some commented out code\nhere that I'm just going to remove.\n\n98\n00:05:11.164 --> 00:05:14.460\nNow what this also means is\nby creating the Swarm object,\n\n99\n00:05:14.460 --> 00:05:18.800\nsome of the code that we wrote in Part\n1 is actually going to change as well.\n\n100\n00:05:20.170 --> 00:05:26.320\nBecause, right, attackers.move,\nwell attackers, that's actually the Swarm.\n\n101\n00:05:26.320 --> 00:05:27.720\nSo we'll change that.\n\n102\n00:05:28.960 --> 00:05:33.200\nAnd that also means inside of\nthe game we're gonna have a different\n\n103\n00:05:33.200 --> 00:05:35.010\nkind of thing here.\n\n104\n00:05:35.010 --> 00:05:38.716\nSo let's go build that Swarm object and\nlet's close out some of these files.\n\n105\n00:05:38.716 --> 00:05:41.880\nIt's getting a little crazy\nup in here in my editor.\n\n106\n00:05:41.880 --> 00:05:46.795\nSo close those files out and let's create\n\n107\n00:05:46.795 --> 00:05:52.280\na Swarm class, and here's the constructor.\n\n108\n00:05:52.280 --> 00:05:56.717\nAnd I think the constructor would\nprobably take this x and the y, right,\n\n109\n00:05:56.717 --> 00:06:00.150\nwhere this Swarm's gonna originate from.\n\n110\n00:06:00.150 --> 00:06:02.250\nAnd I'm always gonna assume\nthat it's a single row.\n\n111\n00:06:02.250 --> 00:06:05.670\nWe could make it to where there's\na single row with multiple columns.\n\n112\n00:06:05.670 --> 00:06:08.150\nWe could have multiple rows and\nmultiple columns.\n\n113\n00:06:08.150 --> 00:06:13.110\nBut maybe we'll leave that for\nan exercise for the reader.\n\n114\n00:06:13.110 --> 00:06:14.740\n&gt;&gt; That's a classic cop out.\n\n115\n00:06:14.740 --> 00:06:18.210\n[LAUGH]\n&gt;&gt; And then we'll just say n.\n\n116\n00:06:18.210 --> 00:06:20.740\nSo this is the number of attackers, okay?\n\n117\n00:06:20.740 --> 00:06:22.442\nNow if I was using a module,\n\n118\n00:06:22.442 --> 00:06:25.280\nI would've probably just called\nthis inside and keep this.\n\n119\n00:06:27.540 --> 00:06:32.020\nBut we could put this inside\nof the respective Swarm.\n\n120\n00:06:33.110 --> 00:06:37.080\nI'm not gonna use the createSwarm\nfunction outside of this file, but\n\n121\n00:06:37.080 --> 00:06:38.950\nit would be available.\n\n122\n00:06:38.950 --> 00:06:46.290\nSo what I'm gonna do is I'm gonna say\nattackers createSwarm x, y and then n.\n\n123\n00:06:46.290 --> 00:06:48.590\nSo n in this case is gonna\nbe the number of attackers.\n\n124\n00:06:49.890 --> 00:06:54.870\nMoreover, I'm going to say x = x,\nthis.y = y\n\n125\n00:06:54.870 --> 00:07:00.250\ncuz that's my initial boundary for\nthe Swarm, okay?\n\n126\n00:07:01.490 --> 00:07:04.306\nNow there's a problem.\n\n127\n00:07:04.306 --> 00:07:12.230\nThis Swarm right here, that's gonna\ncreate my right hand boundary.\n\n128\n00:07:12.230 --> 00:07:13.700\nSo I need some way to get at that.\n\n129\n00:07:15.210 --> 00:07:18.810\nI'm gonna grab the right\nhand boundary by saying,\n\n130\n00:07:18.810 --> 00:07:24.400\nlet's see, a little bit of set up here.\n\n131\n00:07:24.400 --> 00:07:29.301\nSo the lastAttacker is equal to\n\n132\n00:07:29.301 --> 00:07:34.207\nthis.attackers.reverse.\n\n133\n00:07:34.207 --> 00:07:37.570\nSo I'm switching the order, right?\n\n134\n00:07:37.570 --> 00:07:39.710\nAnd I'm gonna grab the first one.\n\n135\n00:07:40.710 --> 00:07:44.948\nAnd what I mean is,\nI'm gonna use destructuring just so\n\n136\n00:07:44.948 --> 00:07:49.736\nI don't have any out of bounds\nerrors if possible, so others.\n\n137\n00:07:49.736 --> 00:07:53.621\nSo by reversing that, I get the\nlastAttacker by just destructuring, and\n\n138\n00:07:53.621 --> 00:07:57.957\nthis is effectively a throwaway variable\nhere, I don't really care about that.\n\n139\n00:07:57.957 --> 00:07:58.715\n&gt;&gt; Okay.\n\n140\n00:07:58.715 --> 00:08:03.035\n&gt;&gt; So there's our lastAttacker So\n\n141\n00:08:03.035 --> 00:08:08.315\nthis x and\nthis y is our left hand side and\n\n142\n00:08:08.315 --> 00:08:13.597\nmaybe we should say, leftX and leftY.\n\n143\n00:08:13.597 --> 00:08:18.184\nAnd now we need this rightX =\n\n144\n00:08:18.184 --> 00:08:24.120\nlastAttacker.x + lastAttacker.\n\n145\n00:08:24.120 --> 00:08:27.750\nAnd then if we look at attacker,\nwe have this property called width.\n\n146\n00:08:27.750 --> 00:08:29.770\nSo we actually wanna\nmove over to the width.\n\n147\n00:08:30.860 --> 00:08:37.050\nSo we wanna get that exterior boundary,\nand width.\n\n148\n00:08:37.050 --> 00:08:45.266\nAnd then this.rightY = lastAttacker.y.\n\n149\n00:08:45.266 --> 00:08:49.762\nNow I just grabbed all these\nbecause we may need them but\n\n150\n00:08:49.762 --> 00:08:52.120\nI did that kind of knee jerk.\n\n151\n00:08:53.220 --> 00:08:55.060\nWe only use X to determine the boundary.\n\n152\n00:08:55.060 --> 00:08:56.060\nSo we may not need those.\n\n153\n00:08:56.060 --> 00:08:57.160\nAnd we're coming to remove those.\n\n154\n00:08:58.590 --> 00:09:01.530\nSo we have that kind of set up.\n\n155\n00:09:01.530 --> 00:09:04.370\nAnd this was kind of a copy out for me.\n\n156\n00:09:04.370 --> 00:09:08.228\nFor this swarm, what I'm thinking,\n\n157\n00:09:08.228 --> 00:09:13.654\nis I should be able to break\nthings very effectively by\n\n158\n00:09:13.654 --> 00:09:19.324\ncoming into ab.js and\ninstead of saying create swarm,\n\n159\n00:09:19.324 --> 00:09:24.893\nI'm going to say new Swarm (100, 100, 5).\n\n160\n00:09:24.893 --> 00:09:27.000\nAnd we're gonna see a break.\n\n161\n00:09:27.000 --> 00:09:27.660\nIt's broke.\n\n162\n00:09:27.660 --> 00:09:29.220\nAll kinds of broke.\n\n163\n00:09:29.220 --> 00:09:31.090\n&gt;&gt; Now why has it broken?\n\n164\n00:09:31.090 --> 00:09:35.360\nBecause attackers is no longer an array.\n\n165\n00:09:35.360 --> 00:09:36.510\nNow I could just expose those.\n\n166\n00:09:36.510 --> 00:09:41.200\nBut what I really want is I want\nswarm to be equal to swarm.\n\n167\n00:09:42.290 --> 00:09:48.370\nAnd now that should, map of undefined,\nsee attackers is undefined now.\n\n168\n00:09:48.370 --> 00:09:51.943\nA bunch of stuff is broken, so\nI'm going to comment this out,\n\n169\n00:09:51.943 --> 00:09:56.088\nI'm going to comment all of this out,\nand I'm gonna comment this out.\n\n170\n00:09:56.088 --> 00:09:58.986\nJust to see if we can get\nback to our working state,\n\n171\n00:09:58.986 --> 00:10:01.420\nand I'm gonna comment this out.\n\n172\n00:10:01.420 --> 00:10:02.480\nOkay?\n\n173\n00:10:02.480 --> 00:10:04.230\nSo I come back and I refresh.\n\n174\n00:10:04.230 --> 00:10:05.760\nAll right, so we're non broken.\n\n175\n00:10:06.980 --> 00:10:10.710\nBut by changing the effective\nobject of this.\n\n176\n00:10:10.710 --> 00:10:12.500\nLike I have a swarm now.\n\n177\n00:10:12.500 --> 00:10:14.830\nI need to be able to render the swarm.\n\n178\n00:10:14.830 --> 00:10:15.400\nRight?\n\n179\n00:10:15.400 --> 00:10:20.760\n&gt;&gt; Right.\n&gt;&gt; So, this.swarm.render(this.context).\n\n180\n00:10:22.400 --> 00:10:23.950\nWell that looks a lot like the other ones.\n\n181\n00:10:23.950 --> 00:10:29.590\nNow I could do the exact same thing for\npellets, but I would try it with pellets.\n\n182\n00:10:29.590 --> 00:10:36.220\nA pellet stream, or\nmaybe just pellets entity.\n\n183\n00:10:36.220 --> 00:10:38.030\nOr pellets collection, pellets list.\n\n184\n00:10:38.030 --> 00:10:39.780\nI'm going to leave that,\njust for comparison.\n\n185\n00:10:41.320 --> 00:10:42.400\nSo I'm going to render the swarm.\n\n186\n00:10:42.400 --> 00:10:45.530\nWell the swarm doesn't have a render\nmethod, so this would actually break.\n\n187\n00:10:45.530 --> 00:10:48.397\nBut if I come in here and\nI render with a context,\n\n188\n00:10:48.397 --> 00:10:52.796\neffectively what I'm going to do is\nI'm going to say this.attackers.\n\n189\n00:10:52.796 --> 00:10:55.016\nSo the swarms attackers.\n\n190\n00:10:55.016 --> 00:11:02.003\nforEach(attacker =&gt; attacker.render) for\n\n191\n00:11:02.003 --> 00:11:05.880\nthe context like so.\n\n192\n00:11:05.880 --> 00:11:09.214\nSo I've hidden that away in swarm.render.\n\n193\n00:11:09.214 --> 00:11:10.410\nLet's see if it works.\n\n194\n00:11:10.410 --> 00:11:11.740\nAnd it does.\n\n195\n00:11:11.740 --> 00:11:13.050\nOkay.\n\n196\n00:11:13.050 --> 00:11:18.170\nNow what that means, if we come over here,\nwhat's our next kind of option.\n\n197\n00:11:18.170 --> 00:11:19.780\nI'm gonna remove this.\n\n198\n00:11:19.780 --> 00:11:23.490\nThat has increased my readability a little\nbit because I have a bunch of attack,\n\n199\n00:11:23.490 --> 00:11:24.920\nthe swarm is moving.\n\n200\n00:11:24.920 --> 00:11:26.480\nI mean that to be a collective thing.\n\n201\n00:11:28.380 --> 00:11:30.850\nLet's come back down here and look for\n\n202\n00:11:30.850 --> 00:11:33.930\nthis attackers.move,\nlet's get the swarm moving again.\n\n203\n00:11:35.140 --> 00:11:37.310\nI said moving just a moment ago,\nI meant rendering.\n\n204\n00:11:39.180 --> 00:11:42.229\nSo what I want to do is say,\n\n205\n00:11:42.229 --> 00:11:47.097\nthis.swarm.move() just like that.\n\n206\n00:11:47.097 --> 00:11:50.040\nWell, what does that mean?\n\n207\n00:11:50.040 --> 00:11:53.646\nThat means we get to take this,\nand cut this out and\n\n208\n00:11:53.646 --> 00:11:58.260\nwe come back over to swarm,\nand we make them move.\n\n209\n00:11:58.260 --> 00:11:58.760\nLike so.\n\n210\n00:12:00.800 --> 00:12:04.394\nAnd we just paste it back in, and\n\n211\n00:12:04.394 --> 00:12:09.864\nactually we don't even\nneed more than one line.\n\n212\n00:12:09.864 --> 00:12:13.872\nNow again, not necessary in\nthe grand scheme of things,\n\n213\n00:12:13.872 --> 00:12:16.470\nyou could have left it the other way.\n\n214\n00:12:16.470 --> 00:12:19.745\nBut by going to the wrong area,\nI can show you nothing.\n\n215\n00:12:19.745 --> 00:12:22.190\nThis.swarm move.\n\n216\n00:12:22.190 --> 00:12:23.539\nAnd does it move?\n\n217\n00:12:23.539 --> 00:12:26.360\nAnd it does move, there we go.\n\n218\n00:12:26.360 --> 00:12:28.356\nSo, we're good on that one.\n\n219\n00:12:28.356 --> 00:12:29.520\n&gt;&gt; But they're going bye-bye.\n\n220\n00:12:29.520 --> 00:12:31.620\n&gt;&gt; But they're going bye-bye.\n\n221\n00:12:31.620 --> 00:12:35.710\nSo, we need to address this\nswarm hits edge, right?\n\n222\n00:12:37.480 --> 00:12:42.711\n&gt;&gt; So, the swarm hits edge\n&gt;&gt; I think if we do this,\n\n223\n00:12:46.704 --> 00:12:51.439\nIf this.swarm.hitsEdge for\n\n224\n00:12:51.439 --> 00:12:55.627\nwhat, this.screen then I\n\n225\n00:12:55.627 --> 00:13:00.550\nwant this.swarm to drop down.\n\n226\n00:13:02.810 --> 00:13:05.530\nNow, this is going to break because\nthese two methods don't exist.\n\n227\n00:13:05.530 --> 00:13:10.199\nBut if I come back and I say,\n\n228\n00:13:10.199 --> 00:13:14.462\nhits edge and drop down,\n\n229\n00:13:14.462 --> 00:13:18.526\nthen what is hits edge?\n\n230\n00:13:20.824 --> 00:13:24.790\nIt is going to be the return of this.\n\n231\n00:13:24.790 --> 00:13:29.840\nSo if I come back and I return this and\nI uncomment and I comment.\n\n232\n00:13:30.880 --> 00:13:35.470\nI can just remove that and\nhave these over.\n\n233\n00:13:38.280 --> 00:13:42.870\nThere we go, so if the swarm hits the\nedge, how do we know if it hits the edge?\n\n234\n00:13:42.870 --> 00:13:46.082\nWell, if any of the attackers\nhit the edge, right,\n\n235\n00:13:46.082 --> 00:13:48.565\nso we're kinda just refactoring this,\n\n236\n00:13:48.565 --> 00:13:53.543\nthis edge may have to change cause this is\nnot going to change any of our behavior.\n\n237\n00:13:53.543 --> 00:13:56.225\nWe just want to make\nsure this still works.\n\n238\n00:13:56.225 --> 00:13:57.700\nAnd then dropDown.\n\n239\n00:13:57.700 --> 00:14:04.687\nWhat is that,\nthis.attcakers.forEach(attacker\n\n240\n00:14:04.687 --> 00:14:09.700\n=&gt; attacker.dropDown()); And\n\n241\n00:14:09.700 --> 00:14:14.220\nnow if I come back and I refresh.\n\n242\n00:14:14.220 --> 00:14:15.700\nIf I actually hit R.\n\n243\n00:14:15.700 --> 00:14:18.937\nOh-oh cannot find property\nwith [INAUDIBLE].\n\n244\n00:14:18.937 --> 00:14:25.096\nAnd that's because,\nthere should be some screen object or\n\n245\n00:14:25.096 --> 00:14:30.775\nboundary and then we can go over here and\nput boundary.\n\n246\n00:14:34.384 --> 00:14:36.190\nAnd there we go, let's see-\n&gt;&gt; Wait for it.\n\n247\n00:14:36.190 --> 00:14:38.860\n&gt;&gt; If it actually drops down and\n\n248\n00:14:38.860 --> 00:14:42.570\nnow we still have maintained\nour exact same thing.\n\n249\n00:14:42.570 --> 00:14:44.120\nYes Zack.\n\n250\n00:14:44.120 --> 00:14:46.320\n&gt;&gt; But Justin,\ndo we have to name those the same thing?\n\n251\n00:14:46.320 --> 00:14:50.960\n&gt;&gt; We don't have to, but\nthat is a good observation and\n\n252\n00:14:50.960 --> 00:14:52.880\nthat's probably a great common question.\n\n253\n00:14:52.880 --> 00:14:56.600\nI've done this to draw a corollary to\nthere's this parent object that has\n\n254\n00:14:56.600 --> 00:14:59.490\na collection of children that\nis essentially the proxy.\n\n255\n00:15:01.060 --> 00:15:04.600\nSo I have the same API for the swarm\nas I do for an individual attacker.\n\n256\n00:15:04.600 --> 00:15:05.960\nAnd I've done that to say,\n\n257\n00:15:05.960 --> 00:15:10.260\nreally all we're doing is we're\nbundling this up into a dropDown.\n\n258\n00:15:10.260 --> 00:15:12.230\nWe're going to dropDown for\nall the children.\n\n259\n00:15:12.230 --> 00:15:12.945\n&gt;&gt; Right.\nOkay.\n\n260\n00:15:12.945 --> 00:15:16.510\n&gt;&gt; If it hitsEdge we're going to,\nhits the edge for all of the children.\n\n261\n00:15:16.510 --> 00:15:21.520\nNow, what that means is I can then have\nkind of the same readability that I had.\n\n262\n00:15:22.720 --> 00:15:25.780\nSo if the swarm hits the edge,\nthen the swarm drops down.\n\n263\n00:15:25.780 --> 00:15:27.880\nAnd I've cleaned up a lot of those for\n\n264\n00:15:27.880 --> 00:15:29.530\nloops that were kind of\ncluttering up things.\n\n265\n00:15:31.670 --> 00:15:33.360\nIf the swarm hits the edge,\nboom, there we go.\n\n266\n00:15:33.360 --> 00:15:36.788\nAnd I could do the same thing for pellets,\nbut again we're gonna leave that be.\n\n267\n00:15:39.649 --> 00:15:43.090\nI don't have to do that,\nas far as the naming.\n\n268\n00:15:43.090 --> 00:15:44.760\n&gt;&gt; Okay.\n&gt;&gt; But it helps me kind of\n\n269\n00:15:44.760 --> 00:15:47.758\ncreate a correlation between all\nthe attacker has a hits edge.\n\n270\n00:15:47.758 --> 00:15:50.764\nSo and this swarm should have a hits edge,\nmaybe a swarm shouldn't move and\n\n271\n00:15:50.764 --> 00:15:52.060\nthe attacker shouldn't move.\n\n272\n00:15:52.060 --> 00:15:55.093\nSo a swarm moves collectively but\nhow does a swarm move?\n\n273\n00:15:55.093 --> 00:15:58.262\nThe individual pieces of said\nswarm have to also move.\n\n274\n00:15:58.262 --> 00:16:00.452\n&gt;&gt; Cool.\n&gt;&gt; So that's what we're doing but\n\n275\n00:16:00.452 --> 00:16:04.457\nthat was a good observation But\nthat brings my second point about this.\n\n276\n00:16:04.457 --> 00:16:08.190\nWhat that also means, that I can change\nthe underlying implementation details.\n\n277\n00:16:08.190 --> 00:16:08.850\nLike the hits edge.\n\n278\n00:16:08.850 --> 00:16:11.200\nWhat is the hits edge?\n\n279\n00:16:11.200 --> 00:16:14.950\nWell, I actually want to check\nto see if the right X has hit\n\n280\n00:16:14.950 --> 00:16:16.445\nthe width of the boundary.\n\n281\n00:16:16.445 --> 00:16:21.160\n&gt;&gt; Mm-hm\n&gt;&gt; Or if the left X is less then zero.\n\n282\n00:16:21.160 --> 00:16:27.100\nSo, I've removed the need for this.\n\n283\n00:16:27.100 --> 00:16:30.350\nSo, it's essentially this exact\nsame expression but now it's for\n\n284\n00:16:30.350 --> 00:16:36.478\nswarm because I've created a bounding\nbox for the swarm as a collect hole.\n\n285\n00:16:36.478 --> 00:16:39.530\nAnd by doing that,\nmaintaining the same API but\n\n286\n00:16:39.530 --> 00:16:42.710\nI don't have to keep this portion,\nI could.\n\n287\n00:16:42.710 --> 00:16:44.660\nSo if I wanted to maintain\nthe same behavior but\n\n288\n00:16:44.660 --> 00:16:47.410\nprovide this abstraction, that's fine.\n\n289\n00:16:47.410 --> 00:16:55.077\nBut what I really want to know is if\nthis.leftX is less than or equal to zero.\n\n290\n00:16:55.077 --> 00:17:00.112\nOr this.rightX is greater than or\n\n291\n00:17:00.112 --> 00:17:04.805\nequal to the boundary.width.\n\n292\n00:17:06.100 --> 00:17:09.820\nAnd as a result we don't\nactually need to keep this y or\n\n293\n00:17:09.820 --> 00:17:13.080\nthis y as I observed earlier.\n\n294\n00:17:13.080 --> 00:17:14.700\nBut let's go ahead and clean that up.\n\n295\n00:17:14.700 --> 00:17:18.840\nAnd now what we should see is regardless\nof removing the individual pieces,\n\n296\n00:17:21.860 --> 00:17:24.250\nwe should get the boundary\nto stay the same.\n\n297\n00:17:25.460 --> 00:17:29.140\nNow, we can't do that yet\nbecause we have one final method.\n\n298\n00:17:29.140 --> 00:17:34.310\nBefore we can test that, we have one\nfinal method, this attackers portion,\n\n299\n00:17:34.310 --> 00:17:38.895\nwe can't remove anything because we\ncan't check to see if it's been hit.\n\n300\n00:17:38.895 --> 00:17:41.974\n&gt;&gt; [LAUGH]\n&gt;&gt; And the reason this hasn't errored\n\n301\n00:17:41.974 --> 00:17:46.910\ndown is because this inner function hasn't\nrun because I haven't fired any pellets.\n\n302\n00:17:46.910 --> 00:17:51.730\nSo we should probably do that first\nbefore we can worry to see if this works.\n\n303\n00:17:51.730 --> 00:17:56.560\nSo what I'm thinking is\nlet's comment out this,\n\n304\n00:17:58.020 --> 00:18:01.690\nand see if anything, okay that's good.\n\n305\n00:18:04.000 --> 00:18:11.257\nAnd now what I'm thinking\nis I'll have something\n\n306\n00:18:11.257 --> 00:18:19.600\nlike this.swarm.getsHitBy(pellet)\n&gt;&gt; Okay.\n\n307\n00:18:19.600 --> 00:18:26.200\nSo if that's the case,\nThen what do I wanna do?\n\n308\n00:18:26.200 --> 00:18:29.350\nWell, I think this is where\nI want to remove the pellet,\n\n309\n00:18:31.782 --> 00:18:35.935\nSplice(index,1).\n\n310\n00:18:35.935 --> 00:18:41.112\nSo if the swarm gets hit by the pellet,\nthen I wanna remove the pellet but\n\n311\n00:18:41.112 --> 00:18:45.186\nI kind of want the swarm to\ntake care of everything else.\n\n312\n00:18:45.186 --> 00:18:49.168\nSo I come over here to swarm I should\nprobably add this gets hit by.\n\n313\n00:18:49.168 --> 00:18:54.890\nAnd getsHitBy something\nother doesn't necessarily\n\n314\n00:18:54.890 --> 00:18:59.525\nhave to be pellet it can be something\nthat conforms to this respective piece.\n\n315\n00:18:59.525 --> 00:19:04.306\n[COUGH] And now,\nI'm gonna grant this portion.\n\n316\n00:19:04.306 --> 00:19:07.240\nI think, I think.\n\n317\n00:19:07.240 --> 00:19:10.632\nWait for it, wait for it.\n\n318\n00:19:11.979 --> 00:19:17.550\nAnd gets hit by, where'd I put\nthat we're in the wrong file.\n\n319\n00:19:17.550 --> 00:19:22.420\nIt's hit by other and\npaste and then I can do this.\n\n320\n00:19:25.220 --> 00:19:30.410\nSo, yeah we got some things to discuss.\n\n321\n00:19:30.410 --> 00:19:32.110\nIt looks like you got a question for\nme Zack.\n\n322\n00:19:32.110 --> 00:19:35.140\n&gt;&gt; Well, do we have to switch\nthose round like that,\n\n323\n00:19:35.140 --> 00:19:36.980\nI mean what's the logic behind it.\n\n324\n00:19:36.980 --> 00:19:39.620\n&gt;&gt; So, I think, we don't have to.\n\n325\n00:19:39.620 --> 00:19:43.070\nWe can figure out a way to make it work,\nbut what I'm thinking is, now,\n\n326\n00:19:43.070 --> 00:19:46.880\ninstead of checking one pallet to many-\n&gt;&gt; Mm-hm, mm-hm.\n\n327\n00:19:46.880 --> 00:19:47.500\n&gt;&gt; Right?\n\n328\n00:19:47.500 --> 00:19:50.000\nI'm checking one-to-one,\nwhere the one-to-one is a swarm.\n\n329\n00:19:50.000 --> 00:19:51.690\nI wanna know if the swarm has been hit.\n\n330\n00:19:52.780 --> 00:19:53.760\n&gt;&gt; Okay?\n\n331\n00:19:53.760 --> 00:19:57.720\nIn addition to, I want the swarm to,\nthe swarms hit, but\n\n332\n00:19:57.720 --> 00:19:59.110\nthen everything else will be hidden away,\n\n333\n00:19:59.110 --> 00:20:03.680\nbecause I don't wanna access the attackers\ninside of the swarm from external of that.\n\n334\n00:20:03.680 --> 00:20:05.410\nI'm gonna let swarm take care of itself.\n\n335\n00:20:05.410 --> 00:20:06.250\n&gt;&gt; Okay.\n\n336\n00:20:06.250 --> 00:20:10.240\n&gt;&gt; And what that means is this is gonna\nreturn true or false in addition to,\n\n337\n00:20:10.240 --> 00:20:13.960\nso this method kinda, it does a little\nmore than it probably should, but\n\n338\n00:20:13.960 --> 00:20:15.200\nthis is a good first attempt.\n\n339\n00:20:16.950 --> 00:20:21.460\nIf it gets hit, it's gonna remove\nthe attacker from the swarm, but\n\n340\n00:20:21.460 --> 00:20:23.010\nit's also going to return true.\n\n341\n00:20:24.420 --> 00:20:25.230\nIn that way,\n\n342\n00:20:25.230 --> 00:20:29.706\nwe know this respective pellet needs\nto be remove from the pellet list.\n\n343\n00:20:29.706 --> 00:20:34.600\nAnd I want to just switch those around but\nI think it reads a little easier if you\n\n344\n00:20:34.600 --> 00:20:38.817\nsay, did the swarm get hit by,\nversus did the pellet hit a swarm and\n\n345\n00:20:38.817 --> 00:20:43.638\nnow we have to change how the pellet\nbehaves because the swarm is a collection\n\n346\n00:20:43.638 --> 00:20:47.215\nof things instead of the others,\nthe other way around.\n\n347\n00:20:47.215 --> 00:20:50.090\nOr the swarm is checking for a palette.\n\n348\n00:20:50.090 --> 00:20:52.530\nNow what that does mean is this other,\n\n349\n00:20:53.960 --> 00:20:59.130\nhere this other, now should go away,\ndon't have this.\n\n350\n00:21:01.400 --> 00:21:06.340\nAnd there we go, now gets hit by\n\n351\n00:21:06.340 --> 00:21:10.590\nI'm kind of relying on the other thing to\nnotify me, hey did you hit the attacker?\n\n352\n00:21:11.660 --> 00:21:12.580\nRight the other thing.\n\n353\n00:21:12.580 --> 00:21:13.560\nHey did you hit the attacker?\n\n354\n00:21:13.560 --> 00:21:15.078\nYeah sure.\n[COUGH] But\n\n355\n00:21:15.078 --> 00:21:18.700\nwe have a little bit of a problem.\n\n356\n00:21:20.820 --> 00:21:24.860\nWe don't have a true or false return type.\n\n357\n00:21:24.860 --> 00:21:27.840\nI'm kind of melding this into what I want.\n\n358\n00:21:27.840 --> 00:21:28.860\n&gt;&gt; I like melding.\n\n359\n00:21:28.860 --> 00:21:35.030\n&gt;&gt; So let result = false and\nif the other thing which is a pellet and\n\n360\n00:21:35.030 --> 00:21:41.010\nactually let me rename that to pellet so\nwe're all clear.\n\n361\n00:21:41.010 --> 00:21:43.765\nIf the pellet hits the attacker the pellet\nthat's passed in that we're checking.\n\n362\n00:21:43.765 --> 00:21:44.590\n&gt;&gt; Uh-huh.\n\n363\n00:21:44.590 --> 00:21:47.800\n&gt;&gt; Then we're going to splice out\nthat attacker because it's been hit.\n\n364\n00:21:47.800 --> 00:21:49.520\nWe're also need to return false so\n\n365\n00:21:49.520 --> 00:21:52.520\nwe can reflectively communicate\nthrough the game object.\n\n366\n00:21:54.430 --> 00:21:57.260\nSo what I want to do is\nsay result equals true.\n\n367\n00:21:58.840 --> 00:22:01.770\nSo as soon as it gets hit, if one of\nthe attacker gets hit, then the swarm,\n\n368\n00:22:01.770 --> 00:22:03.910\neffectively, by proxy, has been hit.\n\n369\n00:22:03.910 --> 00:22:08.710\nAnd I want to return\nthe result as a result.\n\n370\n00:22:09.900 --> 00:22:13.780\nSo if none of these ever get hit,\nthen this will be false, and\n\n371\n00:22:13.780 --> 00:22:15.920\nwe will not be removing the pellet.\n\n372\n00:22:15.920 --> 00:22:20.937\nIf any of the attacker gets hit,\nthen, yeah, the swarm was hit,\n\n373\n00:22:20.937 --> 00:22:26.333\nand there we go, we need to actually\nremove the object from the array.\n\n374\n00:22:26.333 --> 00:22:29.580\nAnd we should be good to go.\n\n375\n00:22:29.580 --> 00:22:30.160\n&gt;&gt; Wonderful.\n\n376\n00:22:30.160 --> 00:22:35.730\n&gt;&gt; So let's see, there we go.\n\n377\n00:22:35.730 --> 00:22:41.842\nAnd aah, we still have,\nI think we got this portion\n\n378\n00:22:41.842 --> 00:22:46.410\nkind of working like I want it to but this\nis increased readability a little bit.\n\n379\n00:22:47.570 --> 00:22:51.150\nThe pellets were still doing for and\nwe could do further abstractions.\n\n380\n00:22:51.150 --> 00:22:53.510\nIf the swarm gets hit by the pellet,\nremove that pellet and\n\n381\n00:22:53.510 --> 00:22:56.170\nthen the swarm takes care of\nit's own objects, it's own data.\n\n382\n00:22:57.560 --> 00:22:59.910\nIf the pellet is in that orbit, remove it.\n\n383\n00:22:59.910 --> 00:23:00.410\nGot it.\n\n384\n00:23:01.750 --> 00:23:08.200\nIf this swarm hits edge, okay, so\nit looks like this is not occurring.\n\n385\n00:23:08.200 --> 00:23:09.130\nSo it hits edge.\n\n386\n00:23:09.130 --> 00:23:11.410\nSo I've got an issue here.\n\n387\n00:23:11.410 --> 00:23:14.140\nI need to come over to the swarm.\n\n388\n00:23:14.140 --> 00:23:15.660\nAnd this is some of the live action\ndebugging [CROSSTALK] that I love does.\n\n389\n00:23:15.660 --> 00:23:18.310\n&gt;&gt; Exactly.\n\n390\n00:23:18.310 --> 00:23:19.770\n&gt;&gt; Love it.\n&gt;&gt; It's those teachable moments.\n\n391\n00:23:19.770 --> 00:23:25.756\n&gt;&gt; So let's put a console.log of,\ndo I have those right?\n\n392\n00:23:25.756 --> 00:23:32.104\nOf this.leftX and this.rightX.\n\n393\n00:23:32.104 --> 00:23:39.545\nAnd then the boundary.width.\n\n394\n00:23:39.545 --> 00:23:44.152\nSo if I refresh, 100, 100, okay 330,\n\n395\n00:23:44.152 --> 00:23:48.870\n600 and then we come over here and\nit looks like,\n\n396\n00:23:48.870 --> 00:23:54.024\nif the right X which is the right X,\nso we start at the left\n\n397\n00:23:54.024 --> 00:23:58.769\nhand of that last attacker,\nand we add one, okay.\n\n398\n00:23:58.769 --> 00:24:03.487\nThe boundary width is 600, this is 330.\n\n399\n00:24:03.487 --> 00:24:05.325\nYou know what?\n\n400\n00:24:05.325 --> 00:24:08.710\nThe right and\nleft X are always going to be changing.\n\n401\n00:24:08.710 --> 00:24:12.819\nRight, because they're the relative\nto the containing portion.\n\n402\n00:24:12.819 --> 00:24:16.011\nSo that's something.\n\n403\n00:24:16.011 --> 00:24:17.124\n&gt;&gt; Flux.\n\n404\n00:24:17.124 --> 00:24:21.936\n&gt;&gt; So,\nwhat we want to do is grab effectively,\n\n405\n00:24:21.936 --> 00:24:25.850\nlet's change this up a little bit.\n\n406\n00:24:25.850 --> 00:24:32.730\nLet's say this.attackers,\nlet me grab the first one.\n\n407\n00:24:33.950 --> 00:24:35.548\nSo it's the first attacker.\n\n408\n00:24:35.548 --> 00:24:41.150\nSo const firstAttacker and\n\n409\n00:24:41.150 --> 00:24:44.160\nthat should grab the first one for\nme and as a result,\n\n410\n00:24:44.160 --> 00:24:49.790\nI should be able to get this\nout of here and this.attackers.\n\n411\n00:24:49.790 --> 00:24:54.300\nSo, I should get the first and\nthe last and what that means,\n\n412\n00:24:54.300 --> 00:25:00.870\nis I want the firstAttacker.x plus or\nno, just the firstAttacker.x.\n\n413\n00:25:00.870 --> 00:25:03.420\nSo, that's the left x and\nthat's the right x respectively.\n\n414\n00:25:04.900 --> 00:25:08.900\nAs a result, every time I move,\nI need to reevaluate this.\n\n415\n00:25:08.900 --> 00:25:14.100\nSo I need to grab that,\nit's initially set,\n\n416\n00:25:14.100 --> 00:25:17.260\nand I'm just gonna copy and\npaste just to make sure that works.\n\n417\n00:25:17.260 --> 00:25:19.635\nAnd we if come come back over here and\nwe refresh, oh-oh,\n\n418\n00:25:19.635 --> 00:25:21.730\nfirst attacker is not defined.\n\n419\n00:25:21.730 --> 00:25:22.280\nWhy is that?\n\n420\n00:25:23.690 --> 00:25:27.920\nBecause, I\n\n421\n00:25:29.170 --> 00:25:32.370\nactually need to do this\nportion every time as well.\n\n422\n00:25:33.730 --> 00:25:34.340\nHmm.\n\n423\n00:25:34.340 --> 00:25:36.710\nI don't know.\n\n424\n00:25:36.710 --> 00:25:39.810\nHmm, we could possibly figure\nout a way around that.\n\n425\n00:25:39.810 --> 00:25:42.540\nBut, there we go.\n\n426\n00:25:42.540 --> 00:25:48.350\nIf I refresh, and\nnotice these numbers are moving, boom.\n\n427\n00:25:48.350 --> 00:25:50.980\nOkay, so now, now we have that.\n\n428\n00:25:50.980 --> 00:25:53.010\nWe're good on that.\n\n429\n00:25:53.010 --> 00:25:56.640\nLet's remove that console.log,\ncuz there's a lot of numbers.\n\n430\n00:25:56.640 --> 00:25:59.903\nSo what happened was, this left x and\nright x are now are being updated\n\n431\n00:25:59.903 --> 00:26:01.620\neverytime the entire swarm moves\n&gt;&gt; Who?\n\n432\n00:26:03.250 --> 00:26:05.220\n&gt;&gt; That doesn't mean that\nwe have to reverse and\n\n433\n00:26:05.220 --> 00:26:07.940\ngrab parts of the attackers every\ntime in order to update that.\n\n434\n00:26:09.130 --> 00:26:13.220\nI don't know how I feel about that,\nbut that's all right.\n\n435\n00:26:13.220 --> 00:26:15.360\nWe're just going with what we already had.\n\n436\n00:26:15.360 --> 00:26:19.330\nReally, what I'd probably do is,\nif I move, then how much ever I move\n\n437\n00:26:19.330 --> 00:26:22.840\nan attacker, I would actually\nmove those points back and forth.\n\n438\n00:26:22.840 --> 00:26:24.620\nBut, we're good.\n\n439\n00:26:24.620 --> 00:26:26.320\nWe can just used the attackers to do that.\n\n440\n00:26:28.060 --> 00:26:32.560\nAnd I could pull this out into another\nfunction as like compute boundary.\n\n441\n00:26:32.560 --> 00:26:35.870\nAnd that'll give me an x and y or\nthe left and the right back.\n\n442\n00:26:35.870 --> 00:26:36.610\nWe'll just leave it there.\n\n443\n00:26:37.790 --> 00:26:38.830\nBut now we gotta test.\n\n444\n00:26:40.060 --> 00:26:44.210\nAll right, so I shot out a middle one,\nboom, it drops down.\n\n445\n00:26:44.210 --> 00:26:47.530\nAnd then, let me shoot out this one.\n\n446\n00:26:47.530 --> 00:26:50.250\nAnd then, we know the left is\nstill gonna hit at the same time.\n\n447\n00:26:50.250 --> 00:26:54.806\nBut now if they come over, and\n\n448\n00:26:54.806 --> 00:26:59.189\n[SOUND] what happened there?\n\n449\n00:26:59.189 --> 00:27:05.750\nHmm, so we've actually run into\nthe exactly the same problem that we had.\n\n450\n00:27:05.750 --> 00:27:06.510\n&gt;&gt; Yeah.\n\n451\n00:27:06.510 --> 00:27:08.260\n&gt;&gt; And why is that?\n\n452\n00:27:08.260 --> 00:27:11.110\nBecause the last attacker\nis now being peeled\n\n453\n00:27:11.110 --> 00:27:11.820\noff\n&gt;&gt; Ha.\n\n454\n00:27:11.820 --> 00:27:19.468\n&gt;&gt; Every time, so, wait, we've, we've\ngot into a little bit of trouble, right?\n\n455\n00:27:20.640 --> 00:27:26.600\nWe need to set regular boundaries, and\nthen come back and check just those.\n\n456\n00:27:26.600 --> 00:27:28.510\n&gt;&gt; It looks like we're\nback where we started.\n\n457\n00:27:28.510 --> 00:27:31.780\nDoes that means we are relying on the\nattackers for the left and right bounce?\n\n458\n00:27:33.110 --> 00:27:35.730\n&gt;&gt; I think you're on to something.\n\n459\n00:27:35.730 --> 00:27:37.440\nWe definitely were trying to avoid this.\n\n460\n00:27:37.440 --> 00:27:39.050\n&gt;&gt; Yeah.\n&gt;&gt; And this is one of those where\n\n461\n00:27:39.050 --> 00:27:40.330\nyou're like, this'll make sense,\n\n462\n00:27:40.330 --> 00:27:43.580\nand then you remember,\nthat's kind of what we were already doing.\n\n463\n00:27:43.580 --> 00:27:47.140\nBut there's nothing wrong with that,\nbecause we know that the swarm itself\n\n464\n00:27:47.140 --> 00:27:50.400\nstill maintains the same\nbehavior that we originally had.\n\n465\n00:27:50.400 --> 00:27:52.350\nThat's not what we wanted,\nwe wanted fixed bounds.\n\n466\n00:27:52.350 --> 00:27:56.910\nNow, what I mean by fixed is\nthe width is initially fixed, right?\n\n467\n00:27:56.910 --> 00:27:59.180\nThe boundary, the left and right.\n\n468\n00:27:59.180 --> 00:28:04.960\nHowever, that doesnt mean the position\nof that boundary is fixed because\n\n469\n00:28:04.960 --> 00:28:10.160\nwhat I'm thinking is that, I've missed and\nintentionally whoopsy-daisy, the attackers\n\n470\n00:28:10.160 --> 00:28:13.300\nare moving but that means that the\nbounding box also has to move with them\n\n471\n00:28:13.300 --> 00:28:16.916\nbecause it can only be established\nonce there's a full slot of attackers.\n\n472\n00:28:16.916 --> 00:28:21.270\nWe can automatically, [INAUDIBLE] cuz\nwhat it will do is the bounding box will\n\n473\n00:28:21.270 --> 00:28:25.890\nshrink, just like we saw it doesn't\nbehave like we anticipated.\n\n474\n00:28:25.890 --> 00:28:31.450\nSo I think there's a few fixes and\nwhat that means is now the attackers\n\n475\n00:28:31.450 --> 00:28:36.210\nwill have some simulated kind of similar\ncode in the attacker and the swarm itself.\n\n476\n00:28:36.210 --> 00:28:39.220\nWe're going to leave that be so\nwe don't have to get too down and dirty.\n\n477\n00:28:39.220 --> 00:28:39.940\n&gt;&gt; Okay.\n\n478\n00:28:39.940 --> 00:28:43.380\n&gt;&gt; Let's go to the fix it, we always have\nthe bounding box fixed regardless of how\n\n479\n00:28:43.380 --> 00:28:44.280\nmany attackers that we have.\n\n480\n00:28:44.280 --> 00:28:45.090\nSo if we come back and\n\n481\n00:28:45.090 --> 00:28:48.975\nlook at my screen, I made this way more\ncomplicated than it probably needed to be.\n\n482\n00:28:48.975 --> 00:28:52.220\n&gt;&gt; [LAUGHING]\n&gt;&gt; So, let's get rid of this,\n\n483\n00:28:52.220 --> 00:28:53.830\nlet's just start over.\n\n484\n00:28:53.830 --> 00:28:55.480\nI'm big on starting over.\n\n485\n00:28:55.480 --> 00:28:56.583\nLet's just get rid of all of that.\n\n486\n00:28:56.583 --> 00:29:02.098\nLet's say, this.x equals x, okay?\n\n487\n00:29:02.098 --> 00:29:07.050\nNow, what we need is to\ngrant the lastattacker,\n\n488\n00:29:07.050 --> 00:29:09.920\nand you'll see why in just a moment.\n\n489\n00:29:09.920 --> 00:29:10.973\nI think this is gonna work.\n\n490\n00:29:10.973 --> 00:29:17.329\nSo this this.attackers then,\nthat was weird, this.attackers.reverse and\n\n491\n00:29:17.329 --> 00:29:21.908\nthat should give me the last\none because I reversed them and\n\n492\n00:29:21.908 --> 00:29:25.560\nI grabbed the first one\nfrom the reversed one.\n\n493\n00:29:26.690 --> 00:29:29.190\nBut now I want to calculate a width.\n\n494\n00:29:30.570 --> 00:29:32.830\nWhy do I want a width?\n\n495\n00:29:32.830 --> 00:29:37.220\nBecause if i know how this one moves then\ni know that the other one is always this\n\n496\n00:29:37.220 --> 00:29:40.770\namount, I can just add or subtract,\nI don't have to do array operations,\n\n497\n00:29:40.770 --> 00:29:44.650\nwhich is gonna be faster, and\nI can also kind of set those in stone.\n\n498\n00:29:44.650 --> 00:29:46.070\nHow do I calculate the width?\n\n499\n00:29:46.070 --> 00:29:52.110\nWell, I want the last attacker's x\nwhen we first created, minus this x.\n\n500\n00:29:52.110 --> 00:29:55.600\nNow, I could have used x from\nthe constructor function right here,\n\n501\n00:29:55.600 --> 00:29:58.900\nbut they're essentially\nthe same value at this time.\n\n502\n00:29:58.900 --> 00:30:03.530\nIn addition to, if I know the bounding\nbox the swarm as a whole has to move.\n\n503\n00:30:03.530 --> 00:30:10.960\nIf it has to move, well, then I need\na velocity, and I'm gonna use one.\n\n504\n00:30:10.960 --> 00:30:15.970\nNow, I think, let me go check, there's\none, I'm gonna use the exact same one.\n\n505\n00:30:15.970 --> 00:30:21.040\nNow what I could do is refactor\nthe attacker to take an amount, and\n\n506\n00:30:21.040 --> 00:30:25.150\nthen the swarm passes that amount so\neverything still moves together.\n\n507\n00:30:25.150 --> 00:30:29.430\nBut we're just going to leave it be for\nnow, so I think that's good.\n\n508\n00:30:29.430 --> 00:30:32.730\nBut what that means is I now have to,\n\n509\n00:30:32.730 --> 00:30:37.140\nwhen I drop down, I need to reverse\nthe direction that everything is moving.\n\n510\n00:30:38.580 --> 00:30:42.169\nSo I'm going to say, this.dx = -1,\n\n511\n00:30:42.169 --> 00:30:47.355\nwhich is exactly the same\nas this.dx x= -1 x this.dx.\n\n512\n00:30:47.355 --> 00:30:52.950\nAnd then lastly, this move,\nwe don't need any of that.\n\n513\n00:30:52.950 --> 00:30:57.021\nI said lastly, there's actually two\nmore things I think we need to fix,\n\n514\n00:30:57.021 --> 00:30:59.846\nI just saw the other one,\nthis.x +=this.dx.\n\n515\n00:30:59.846 --> 00:31:04.790\nOkay, so all the attackers are moving but\nalso the bounding box is moving.\n\n516\n00:31:04.790 --> 00:31:06.320\nAnd they're moving in unison.\n\n517\n00:31:06.320 --> 00:31:07.295\nThey're a swarm.\n\n518\n00:31:07.295 --> 00:31:07.920\n&gt;&gt; Mm-mm.\n\n519\n00:31:07.920 --> 00:31:11.470\n&gt;&gt; And then this his edge.\n\n520\n00:31:11.470 --> 00:31:13.150\nWe don't have a left and right anymore.\n\n521\n00:31:14.480 --> 00:31:19.653\nSince x is moving, this.x,\nif it's less than or\n\n522\n00:31:19.653 --> 00:31:25.319\nequal to zero, or\nthis.x plus the width is less than or\n\n523\n00:31:25.319 --> 00:31:32.710\nequal, excuse me, greater than or\nequal than the boundary's width,\n\n524\n00:31:32.710 --> 00:31:37.540\nwhich is essentially\nthe right hand portion.\n\n525\n00:31:37.540 --> 00:31:39.040\nAll right, if we come back and\n\n526\n00:31:39.040 --> 00:31:44.710\nlook at the attacker, That kinda\nlooks exactly the same, does it not?\n\n527\n00:31:44.710 --> 00:31:51.563\nSo the hitsEdge, we really should pull\nthat up, we're not going to for now.\n\n528\n00:31:51.563 --> 00:31:55.069\nAnd then the move, we could actually\nchange that a little bit so\n\n529\n00:31:55.069 --> 00:31:58.321\nyou have this composition of\nobjects inside of the swarm.\n\n530\n00:31:58.321 --> 00:32:00.858\nOkay, so if we come here And,\n\n531\n00:32:00.858 --> 00:32:05.842\nI think that might get us\nthe behavior we're looking for.\n\n532\n00:32:05.842 --> 00:32:10.645\nSo if I refresh, let's see,\ndoes it, it hit?\n\n533\n00:32:10.645 --> 00:32:15.662\nUh-oh, we got a little overrun,\nand why is that?\n\n534\n00:32:15.662 --> 00:32:20.885\nWell, the this.x + width.\n\n535\n00:32:20.885 --> 00:32:25.270\nAnd actually, it's not that out,\nit's this left one.\n\n536\n00:32:25.270 --> 00:32:28.270\nSo it only counts up to that point, and\n\n537\n00:32:28.270 --> 00:32:31.920\nthat's because we're using the upper left\nhand corner, so we actually need to add\n\n538\n00:32:31.920 --> 00:32:36.700\non to the width a little bit and I think\nthat would fix it, so what is width?\n\n539\n00:32:36.700 --> 00:32:42.359\nWell, it's + lastAttacker.width, okay,\nand that way the attacker determines,\n\n540\n00:32:42.359 --> 00:32:46.120\nthe width of the attacker\ndetermines the overall width.\n\n541\n00:32:46.120 --> 00:32:52.200\nSo, boom, let's see if we get the right,\nand boop, there we go.\n\n542\n00:32:52.200 --> 00:32:58.240\nLet's see if we get the left,\nwait for it, wait for it, boop.\n\n543\n00:32:58.240 --> 00:33:03.540\nAnd let's see if we knock off\nthe edge here, ain't gonna make it.\n\n544\n00:33:03.540 --> 00:33:07.750\nSo let's, I ain't going to\nmake it on this one either.\n\n545\n00:33:07.750 --> 00:33:09.160\nThere we go, let's just.\n\n546\n00:33:09.160 --> 00:33:09.783\nAll right,\n\n547\n00:33:09.783 --> 00:33:13.841\nso we know that the left that works,\nbecause that's the original attacker.\n\n548\n00:33:13.841 --> 00:33:16.750\nWhat we should see,\nis this drop down before it go up.\n\n549\n00:33:16.750 --> 00:33:19.260\nAnd it does,\nit keeps the initial bounding box, so\n\n550\n00:33:19.260 --> 00:33:21.870\nnow it's always traveling the same path.\n\n551\n00:33:21.870 --> 00:33:24.190\nIn the same distance across.\n\n552\n00:33:24.190 --> 00:33:25.999\nSo, we've done what we've set out to do.\n\n553\n00:33:25.999 --> 00:33:27.255\n&gt;&gt; Wonderful.\n\n554\n00:33:27.255 --> 00:33:28.459\n&gt;&gt; And if we look,\n\n555\n00:33:28.459 --> 00:33:33.472\nwe do have some duplicative code\nfrom the attacker to the swarm.\n\n556\n00:33:33.472 --> 00:33:35.130\nAnd we could change that out.\n\n557\n00:33:35.130 --> 00:33:38.970\nLike this attacker.dropDown,\nthat should probably stay, because\n\n558\n00:33:38.970 --> 00:33:41.999\nas the entire swarm drops down, every\nindividual attacker needs to drop down.\n\n559\n00:33:43.450 --> 00:33:48.160\nBut, we also have this DX, right,\n\n560\n00:33:48.160 --> 00:33:51.780\nthat, in drop-down,\nthat's being changed for each hacker.\n\n561\n00:33:51.780 --> 00:33:55.390\nOkay, that does provide us with some\nflexibility, because, what if we want our\n\n562\n00:33:55.390 --> 00:33:59.330\nswarm where the hackers are actually\nmoving independently of each other.\n\n563\n00:33:59.330 --> 00:34:01.902\nSo we may still need that, so\nthat's why I'm not worried.\n\n564\n00:34:01.902 --> 00:34:08.040\nAnd then, the move of the swarm, well, we\nhave some duplicated code there as well.\n\n565\n00:34:08.040 --> 00:34:12.920\nSo we could change this to move,\nbased on the swarm amount.\n\n566\n00:34:12.920 --> 00:34:15.500\nSo just keep that in mind.\n\n567\n00:34:15.500 --> 00:34:18.038\nWe could do some additional refactoring,\nbut\n\n568\n00:34:18.038 --> 00:34:22.526\nI wanna hold off on that before we get too\ndeep, mainly, because we may find that,\n\n569\n00:34:22.526 --> 00:34:25.931\nthere's some other changes that\nneed to be made or maybe not.\n\n570\n00:34:25.931 --> 00:34:29.812\nWe can always come back and do this later,\nlet's not get too crazy there,\n\n571\n00:34:29.812 --> 00:34:33.503\nwe've already, I think done enough\nto make to make it more readable,\n\n572\n00:34:33.503 --> 00:34:36.770\na little easier to keep\nthe swarm collectively together.\n\n573\n00:34:36.770 --> 00:34:39.580\n&gt;&gt; Now Justin, thank you for\nleaving no stone unturned.\n\n574\n00:34:39.580 --> 00:34:42.500\nCreating the Swarm part 2,\nthere is a part 1, watch them both,\n\n575\n00:34:42.500 --> 00:34:46.170\nyou'll enjoy, Justin, I know you have\nsomething else to say, I can tell.\n\n576\n00:34:46.170 --> 00:34:50.990\n&gt;&gt; Well, you know I'm looking at this and,\nit's all nice and\n\n577\n00:34:50.990 --> 00:34:54.860\ngood that we have the squares,\nright, and the little rectangles.\n\n578\n00:34:54.860 --> 00:34:58.200\nIt would almost be better if\nwe had sprites, actual images.\n\n579\n00:34:59.240 --> 00:35:02.572\nSo I'm thinking, since we have\nour initial kind of game logic,\n\n580\n00:35:02.572 --> 00:35:06.272\nnow would be a good time to,\nmaybe I can add sprites, because, right,\n\n581\n00:35:06.272 --> 00:35:08.269\nI can determine whether I win or lose.\n\n582\n00:35:08.269 --> 00:35:11.250\nWe could always come back and\nadd win or lose conditions.\n\n583\n00:35:11.250 --> 00:35:14.440\nBut I would like to have images.\n\n584\n00:35:14.440 --> 00:35:16.890\nWhich does add a complicating factor,\n\n585\n00:35:16.890 --> 00:35:19.000\nbecause images have to\nload asynchronously.\n\n586\n00:35:20.530 --> 00:35:24.431\nBut I think now's the time before we\nget to far down the path to come and\n\n587\n00:35:24.431 --> 00:35:27.670\nadd images with the attackers,\nimages for the fighter.\n\n588\n00:35:27.670 --> 00:35:29.583\nWe'll probably keep the pellets the same,\n\n589\n00:35:29.583 --> 00:35:32.385\nbecause they kind of look like\npellets without having an image.\n\n590\n00:35:32.385 --> 00:35:33.788\nThey're pretty small to have an image.\n\n591\n00:35:33.788 --> 00:35:37.107\nSo definitely stay tuned,\nI think sprites are in our future.\n\n592\n00:35:37.107 --> 00:35:39.741\n&gt;&gt; That's right.\nAnd you'll want to stay with us as we\n\n593\n00:35:39.741 --> 00:35:44.805\ncontinue with and all the wonderful\nepisodes of HTML 5 canvas projects.\n\n594\n00:35:44.805 --> 00:35:46.242\nJustin does a wonderful job.\n\n595\n00:35:46.242 --> 00:35:49.660\nYou can enjoy them, and\nyou can also apply them.\n\n596\n00:35:49.660 --> 00:35:51.190\nVirtually anything you want to do.\n\n597\n00:35:51.190 --> 00:35:53.300\nAnd go check out our course library.\n\n598\n00:35:53.300 --> 00:35:55.480\nThere's so many episodes,\nthere are so many videos, and\n\n599\n00:35:55.480 --> 00:35:57.880\nthey are all designed\nto help you go further.\n\n600\n00:35:57.880 --> 00:36:01.400\nAnd tell everybody you know about\nDEV Pro TV, they'll be glad you did.\n\n601\n00:36:01.400 --> 00:36:02.790\nThanks for watching, I'm Jack Nemis.\n\n602\n00:36:02.790 --> 00:36:05.511\n&gt;&gt; And I'm Justin\n&gt;&gt; And we'll see you soon.\n\n603\n00:36:05.511 --> 00:36:09.993\n[MUSIC]\n\n",
          "vimeoId": "236585348"
        },
        {
          "description": "In this episode, Zack and Justin return to the game to add image based sprites to the fighter and attacker.",
          "length": "1534",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects-3-7-1-adding_sprites-100617-PGM.00_25_26_00.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects-3-7-1-adding_sprites-100617-PGM.00_25_26_00.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects-3-7-1-adding_sprites-100617-PGM.00_25_26_00.Still001-sm.jpg",
          "title": "Adding Sprites",
          "transcript": "WEBVTT\n\n1\n00:00:00.047 --> 00:00:10.047\n[MUSIC]\n\n2\n00:00:12.744 --> 00:00:15.206\nHello, and thank you for\nchoosing DevPro.TV,\n\n3\n00:00:15.206 --> 00:00:17.014\nhelping you learn wherever you go.\n\n4\n00:00:17.014 --> 00:00:23.077\nI'm your host Zach Memos and\nthis is HTML 5 Canvas projects.\n\n5\n00:00:23.077 --> 00:00:27.105\nAnd we're going to be adding sprites\ntoday, and what does that mean?\n\n6\n00:00:27.105 --> 00:00:29.253\nWell Justin Dennison is here\nto tell us what that means.\n\n7\n00:00:29.253 --> 00:00:30.704\nJustin, what does that mean?\n\n8\n00:00:30.704 --> 00:00:33.655\n&gt;&gt; Well, before we get to what it means-\n&gt;&gt; [LAUGH]\n\n9\n00:00:33.655 --> 00:00:34.774\n&gt;&gt; I need to make sure that you're\n\n10\n00:00:34.774 --> 00:00:35.295\nokay, Zach.\n\n11\n00:00:35.295 --> 00:00:37.974\nYou seemed a little amped\nup about the sprite thing.\n\n12\n00:00:37.974 --> 00:00:39.669\n&gt;&gt; I am, I'm amped.\nI'm really amped because as we go\n\n13\n00:00:39.669 --> 00:00:41.056\nforward with that mo attack.\n\n14\n00:00:41.056 --> 00:00:45.856\nAnd your homage to space invaders, I'm\nreally excited to see what sprites are,\n\n15\n00:00:45.856 --> 00:00:47.277\nwell what are sprites?\n\n16\n00:00:47.277 --> 00:00:51.844\n&gt;&gt; Well luckily for us, there is\ngonna be no licensing issues per se.\n\n17\n00:00:51.844 --> 00:00:57.336\nIt is not the carbonated lemon lime\nbeverage that possibly you're thinking of.\n\n18\n00:00:57.336 --> 00:01:01.273\nIt's instead, the visual or\ngraphical representation.\n\n19\n00:01:01.273 --> 00:01:02.741\nNow what do I mean we're adding sprite?\n\n20\n00:01:02.741 --> 00:01:07.753\nWe kinda one could make an argument\nthat we already have sprites\n\n21\n00:01:07.753 --> 00:01:12.776\nthat represent our attackers and\nour pellets and our fighter.\n\n22\n00:01:12.776 --> 00:01:17.607\nBut it's just squares and rectangles-\n&gt;&gt; It would be kind of cool if we kne,\n\n23\n00:01:17.607 --> 00:01:21.776\nthere's our little fighter and\nthere's our attackers.\n\n24\n00:01:21.776 --> 00:01:22.351\nAnd what's on the image?\n\n25\n00:01:22.351 --> 00:01:25.043\nEssentially, a sprite is a stand in for\n\n26\n00:01:25.043 --> 00:01:29.296\nthis bounded box entity that is\nrendered to the page, right?\n\n27\n00:01:29.296 --> 00:01:33.778\nSo a sprite is an image for\nthis rendered entity.\n\n28\n00:01:33.778 --> 00:01:38.315\n&gt;&gt; So is this something we're gonna\nhave to rework code to achieve?\n\n29\n00:01:38.315 --> 00:01:42.062\n&gt;&gt; Well we're gonna try to do it as\nminimally as possible to see if any\n\n30\n00:01:42.062 --> 00:01:43.230\npatterns fall out.\n\n31\n00:01:43.230 --> 00:01:48.147\nBut we may find that we have no choice,\nbut to do a fair amount of reworking,\n\n32\n00:01:48.147 --> 00:01:48.788\nand-\n&gt;&gt; Okay.\n\n33\n00:01:48.788 --> 00:01:52.884\n&gt;&gt; With that said, I think what I'm going\nto do is attack the attacker first as\n\n34\n00:01:52.884 --> 00:01:54.324\nfar as adding the sprite.\n\n35\n00:01:54.324 --> 00:01:57.815\nWe're gonna hold off and\nfocus on one thing at a time,\n\n36\n00:01:57.815 --> 00:02:00.695\nthat way we don't have any issues, right?\n\n37\n00:02:00.695 --> 00:02:03.189\nSo go ahead and\ntake a look at my screen here.\n\n38\n00:02:03.189 --> 00:02:07.693\nAnd now we left off from\na previous episode, there we go.\n\n39\n00:02:07.693 --> 00:02:12.568\nWe have all of this wonderful movement and\n\n40\n00:02:12.568 --> 00:02:17.033\nour swarm works and our pellets work.\n\n41\n00:02:17.033 --> 00:02:20.021\nAnd if we look at AtmoAttack\nwhich is our app.\n\n42\n00:02:20.021 --> 00:02:24.812\nWe've cleaned that up by abstracting our\nswarm of invaders into a swarm object.\n\n43\n00:02:24.812 --> 00:02:28.555\nWe still have pellets, but that's fine.\n\n44\n00:02:28.555 --> 00:02:32.862\nOkay, now if I look here\nI create the fighter.\n\n45\n00:02:32.862 --> 00:02:36.000\nAnd I look at the fighter, and\nI've created a red fighter.\n\n46\n00:02:36.000 --> 00:02:41.250\nNow what I'm thinking is\nif we look at the fighter\n\n47\n00:02:41.250 --> 00:02:46.510\nthis color purple, instead of having\na color, we could just assign it a sprite.\n\n48\n00:02:46.510 --> 00:02:50.113\nNow I'm not saying this is\nnecessarily the best way, but\n\n49\n00:02:50.113 --> 00:02:54.786\nkind of keep minimal moving parts from\nhaving to change a bunch of things.\n\n50\n00:02:54.786 --> 00:02:58.054\nI think that'll be our first good attempt,\nbut\n\n51\n00:02:58.054 --> 00:03:02.400\nwhat that does mean is our\nrender function has to change.\n\n52\n00:03:02.400 --> 00:03:05.325\n&gt;&gt; So already we're gonna have\nto make some differences,\n\n53\n00:03:05.325 --> 00:03:06.889\nsome change out some things.\n\n54\n00:03:06.889 --> 00:03:14.267\nNow with that, I've actually pulled in\na couple of images for this episode.\n\n55\n00:03:14.267 --> 00:03:16.456\nNow I drew these,\nI just kind of painted them out.\n\n56\n00:03:16.456 --> 00:03:19.610\nThey are SVGs which stands for\nScalable Vector Graphics.\n\n57\n00:03:19.610 --> 00:03:23.841\nIf you know that possible entities\ncan be bigger or smaller or what not.\n\n58\n00:03:23.841 --> 00:03:28.854\nYou're gonna get a little bit better\nkind of not necessarily performance,\n\n59\n00:03:28.854 --> 00:03:31.030\nbut if I make an SVG really big.\n\n60\n00:03:31.030 --> 00:03:36.080\nIt may still be pixellated because we\ncreate bitmap images on the canvas.\n\n61\n00:03:36.080 --> 00:03:40.345\nBut it's not gonna be pixellated\nbecause you're stretching out\n\n62\n00:03:40.345 --> 00:03:42.214\nthe original information.\n\n63\n00:03:42.214 --> 00:03:43.749\nThe attacker and the fighter,\n\n64\n00:03:43.749 --> 00:03:46.826\nwell let me see if I can just\nshow you these respective things.\n\n65\n00:03:46.826 --> 00:03:50.906\nSo I'm gonna grab this file path and\n\n66\n00:03:50.906 --> 00:03:55.666\nshow you images, and here's attacker,\n\n67\n00:03:55.666 --> 00:04:00.430\nand it is absolutely teeny tiny, right?\n\n68\n00:04:00.430 --> 00:04:03.503\nSo there it is, that's the default render.\n\n69\n00:04:03.503 --> 00:04:09.705\nAnd if I zoom this in for\nthis page, that's 500%.\n\n70\n00:04:09.705 --> 00:04:10.479\nNow-\n&gt;&gt; Good.\n\n71\n00:04:10.479 --> 00:04:16.416\n&gt;&gt; I can actually scale SVGs by drawing\nthem to the canvas based on the width and\n\n72\n00:04:16.416 --> 00:04:18.215\nheight of what I need.\n\n73\n00:04:18.215 --> 00:04:22.617\nSo here's our little attacker and\nyes, it is a little grainy there.\n\n74\n00:04:22.617 --> 00:04:26.635\nBut that's because we're actually\nrendering this to a standard image type.\n\n75\n00:04:26.635 --> 00:04:29.278\n&gt;&gt; Looks like an evil raisin.\n\n76\n00:04:29.278 --> 00:04:30.041\n&gt;&gt; You know what Zack?\n\n77\n00:04:30.041 --> 00:04:31.165\nThat's the look I was going for, right?\n\n78\n00:04:31.165 --> 00:04:34.622\n&gt;&gt; [LAUGH]\n&gt;&gt; Kinda dried up grapes with kinda\n\n79\n00:04:34.622 --> 00:04:38.700\ntentacles going, I'm gonna get you,\nI'm gonna get you.\n\n80\n00:04:38.700 --> 00:04:43.615\nAnd here's our fighter, I never claim,\nif I spell fighter right.\n\n81\n00:04:43.615 --> 00:04:46.468\nI never claimed to be a graphic designer.\n\n82\n00:04:46.468 --> 00:04:48.956\nSo there we go, if we come back and look,\n\n83\n00:04:48.956 --> 00:04:52.342\nour fighter is just kind of a little tank,\nso to speak.\n\n84\n00:04:52.342 --> 00:04:54.414\n&gt;&gt; Yeah, tank, yeah.\n\n85\n00:04:54.414 --> 00:04:57.768\n&gt;&gt; It's more of a house with a chimney and\nwheels, but\n\n86\n00:04:57.768 --> 00:05:00.734\nwe're gonna go with tank for\nthis argument.\n\n87\n00:05:00.734 --> 00:05:02.249\nThose are our two images.\n\n88\n00:05:03.870 --> 00:05:08.172\nI haven't included these, because you\nshould probably figure out well maybe\n\n89\n00:05:08.172 --> 00:05:12.299\nit'll be funny to have my head as the tank\nor as the invaders, you could go wild.\n\n90\n00:05:12.299 --> 00:05:12.827\n&gt;&gt; Interesting.\n\n91\n00:05:12.827 --> 00:05:17.243\n&gt;&gt; And I want to go to say use\nwhatever your creative kind of\n\n92\n00:05:17.243 --> 00:05:19.932\ninklings are to pick the images.\n\n93\n00:05:19.932 --> 00:05:22.619\nI wanted to learn a little more about\nvector graphics, so I built my own.\n\n94\n00:05:22.619 --> 00:05:26.479\nThis took an exorbitant amount time\ncomparatively to what someone who knew\n\n95\n00:05:26.479 --> 00:05:27.642\nwhat they were doing,\n\n96\n00:05:27.642 --> 00:05:28.991\nwould be able to [LAUGH]-\n&gt;&gt; [LAUGH]\n\n97\n00:05:28.991 --> 00:05:30.257\n&gt;&gt; Knock them out, but\n\n98\n00:05:30.257 --> 00:05:34.889\nthis is what I wanted, but if you\nwanted something like an actual raisin.\n\n99\n00:05:34.889 --> 00:05:37.175\nOr maybe you remember\nthe California raisins?\n\n100\n00:05:37.175 --> 00:05:38.088\n&gt;&gt; Yes, I do.\n\n101\n00:05:38.088 --> 00:05:40.587\n&gt;&gt; The dancing raisins?\n\n102\n00:05:40.587 --> 00:05:41.649\nI don't know what happened.\n\n103\n00:05:41.649 --> 00:05:44.914\nWe probably should have kept that\noff of zag there, with that dancing.\n\n104\n00:05:44.914 --> 00:05:46.932\nNo, no, I'm joking.\n\n105\n00:05:46.932 --> 00:05:48.193\nWe all like to dance.\n\n106\n00:05:48.193 --> 00:05:48.926\n&gt;&gt; Yeah.\n&gt;&gt; But\n\n107\n00:05:48.926 --> 00:05:52.172\nuse your own kind of creative impetus,\nright?\n\n108\n00:05:52.172 --> 00:05:55.188\nWhat do I want my invaders to be or\nmy attackers to be?\n\n109\n00:05:55.188 --> 00:05:55.932\n&gt;&gt; Exactly.\n\n110\n00:05:55.932 --> 00:05:58.063\n&gt;&gt; And the fighter, so on and so forth.\n\n111\n00:05:58.063 --> 00:06:00.376\nSo those are our two images, and\nI didn't open those two up in Atom.\n\n112\n00:06:00.376 --> 00:06:04.342\nBecause SVGs under the hood,\nare actually just a bunch of text,\n\n113\n00:06:04.342 --> 00:06:05.889\ninterestingly enough.\n\n114\n00:06:05.889 --> 00:06:07.408\nThey-\n&gt;&gt; Somehow, I knew they would be.\n\n115\n00:06:07.408 --> 00:06:12.880\n&gt;&gt; Yes, so\nthey build these individual pieces,\n\n116\n00:06:12.880 --> 00:06:17.660\npaths and shapes based on math, right?\n\n117\n00:06:17.660 --> 00:06:20.607\nAnd they just represent that as text.\n\n118\n00:06:20.607 --> 00:06:24.725\nWe're not here to talk a great deal\nabout SVGs, but now that we have those.\n\n119\n00:06:24.725 --> 00:06:29.799\nWe should be able to create an image and\nassociate it with an attacker or\n\n120\n00:06:29.799 --> 00:06:32.816\nexcuse me, not an attacker, a fighter.\n\n121\n00:06:32.816 --> 00:06:34.251\nI'm getting all wound up here-\n&gt;&gt; Yeah.\n\n122\n00:06:34.251 --> 00:06:35.308\n&gt;&gt; So here's our fighter.\n\n123\n00:06:35.308 --> 00:06:37.736\nI think I actually showed\nthe attacker when I was talking about\n\n124\n00:06:37.736 --> 00:06:38.632\nthe fighter earlier.\n\n125\n00:06:38.632 --> 00:06:42.172\nBut ultimately as Zach has\npointed out in previous episodes,\n\n126\n00:06:42.172 --> 00:06:47.156\nthey're really similar at current time,\nother than a few little individual pieces.\n\n127\n00:06:47.156 --> 00:06:55.011\nSo here's our fighter, I would really like\nto pass in sprite as an argument, okay?\n\n128\n00:06:55.011 --> 00:06:59.982\nNow I no longer have the ability\nto have a default argument here,\n\n129\n00:06:59.982 --> 00:07:03.029\nbecause I kind of need to have an image.\n\n130\n00:07:03.029 --> 00:07:08.829\nSo I'm gonna have to pass that in and\nI'm going to remove the color\n\n131\n00:07:08.829 --> 00:07:14.004\nhere to see if I can get this\nall working so to speak, okay?\n\n132\n00:07:14.004 --> 00:07:16.207\nSo how do I pass in this sprite?\n\n133\n00:07:16.207 --> 00:07:19.668\nWell I think the sprite\nshould be an image.\n\n134\n00:07:19.668 --> 00:07:25.759\nSo with that being an image,\nI need to create an image.\n\n135\n00:07:25.759 --> 00:07:28.134\nI need to load the image,\nand then pass it in.\n\n136\n00:07:28.134 --> 00:07:30.416\nSo I come over here to our app.js,\n\n137\n00:07:30.416 --> 00:07:34.054\nthat would be necessary\nbefore this fighter portion.\n\n138\n00:07:34.054 --> 00:07:38.542\nSo let's say fighter sprite,\n\n139\n00:07:38.542 --> 00:07:43.553\njust for clarity, is a new image.\n\n140\n00:07:43.553 --> 00:07:47.467\nAnd I cannot spell\nfighter to save my life.\n\n141\n00:07:47.467 --> 00:07:48.323\n&gt;&gt; It has an F in it.\n\n142\n00:07:48.323 --> 00:07:52.021\n&gt;&gt; Yeah, it does, it does and\nit also has a G, a H, and\n\n143\n00:07:52.021 --> 00:07:55.903\na T in an appropriate order\nthat I somehow cannot get.\n\n144\n00:07:55.903 --> 00:07:58.505\n&gt;&gt; He knows more than me.\n\n145\n00:07:58.505 --> 00:08:06.128\n&gt;&gt; So our fighter sprite source is, So\nour at dot JS is inside of this folder.\n\n146\n00:08:06.128 --> 00:08:11.254\nRight here inside of, excuse me at the top\nlevel is not inside of the folder.\n\n147\n00:08:11.254 --> 00:08:17.026\nSo we wanna go into the images folder and\ngrab the fighter.svg, okay.\n\n148\n00:08:17.026 --> 00:08:22.619\nSo, images, fighter.svg Just like so\n\n149\n00:08:22.619 --> 00:08:26.897\nand well, there is our image.\n\n150\n00:08:26.897 --> 00:08:31.982\nWe should be able to pass that in as\nthe sprite instead of this color and\n\n151\n00:08:31.982 --> 00:08:33.570\nsay fighter sprite.\n\n152\n00:08:34.580 --> 00:08:38.679\nAnd I'm actually going to break these,\napparently delete that,\n\n153\n00:08:38.679 --> 00:08:42.204\nbreak these into new lines so\nwe don't have to get crazy.\n\n154\n00:08:42.204 --> 00:08:44.890\nOver scroll there from left to right.\n\n155\n00:08:44.890 --> 00:08:48.365\nSo there we go, our fighter is now\nconstructed a little bit differently.\n\n156\n00:08:48.365 --> 00:08:48.899\n&gt;&gt; Mm-hm.\n\n157\n00:08:48.899 --> 00:08:52.980\n&gt;&gt; All right, since we have this bundled\nup, we should be able to go look at it.\n\n158\n00:08:52.980 --> 00:08:54.140\nLet's go refresh, and\n\n159\n00:08:54.140 --> 00:08:57.504\nnotice this went back to black\nbecause I haven't changed my render.\n\n160\n00:08:57.504 --> 00:08:58.293\n&gt;&gt; Right.\n&gt;&gt; Right?\n\n161\n00:08:58.293 --> 00:09:03.885\nBut if we look at the game,\nI have to remember what my game is,\n\n162\n00:09:03.885 --> 00:09:08.400\nif I scroll down here,\nI actually called again.\n\n163\n00:09:08.400 --> 00:09:09.760\nI should have just went with my gut.\n\n164\n00:09:09.760 --> 00:09:15.050\n&gt;&gt; That was clever.\n&gt;&gt; There we go, it's the fighter.\n\n165\n00:09:15.050 --> 00:09:18.627\nAnd I look,\nnotice sprite is an image object,\n\n166\n00:09:18.627 --> 00:09:22.949\nI should be able to render\nthat drawImage to the screen.\n\n167\n00:09:22.949 --> 00:09:29.600\nOkay,sSo if I come back,\nI now need to change the fighters render.\n\n168\n00:09:30.680 --> 00:09:33.095\nFillStyle no longer applicable.\n\n169\n00:09:33.095 --> 00:09:39.895\nThis.x, this.y, that's fine,\nbut we need drawImage and\n\n170\n00:09:39.895 --> 00:09:45.035\nI think width and\nheight are still necessary.\n\n171\n00:09:45.035 --> 00:09:45.787\n&gt;&gt; Mm-hm.\n\n172\n00:09:45.787 --> 00:09:51.980\n&gt;&gt; But\nwe need to say this .sprite so, okay?\n\n173\n00:09:51.980 --> 00:09:58.576\nSo now if we come back, there's our little\nfighter, except he's kinda been squished.\n\n174\n00:09:58.576 --> 00:09:59.288\n&gt;&gt; He's squished.\n\n175\n00:09:59.288 --> 00:09:59.822\n&gt;&gt; Right?\n\n176\n00:09:59.822 --> 00:10:01.363\nSo those original width and height.\n\n177\n00:10:01.363 --> 00:10:04.793\nI put those in there to like a rectangle,\nbut\n\n178\n00:10:04.793 --> 00:10:08.980\nmaybe I don't need those width and\nheights anymore.\n\n179\n00:10:08.980 --> 00:10:11.201\nSo let's go tweak that around.\n\n180\n00:10:11.201 --> 00:10:12.031\nLet's get rid of this.\n\n181\n00:10:12.031 --> 00:10:19.460\nAs far as rendering and hmm,\nI think I just need to change something.\n\n182\n00:10:19.460 --> 00:10:23.717\nLet's keep them and\nlet's go with 48 by 48.\n\n183\n00:10:23.717 --> 00:10:27.987\nI think I actually drew that.\n\n184\n00:10:27.987 --> 00:10:30.090\nThat's a little better, a little better.\n\n185\n00:10:31.130 --> 00:10:32.858\n&gt;&gt; Not bad.\n&gt;&gt; And I'm gonna scale this down\n\n186\n00:10:32.858 --> 00:10:37.027\njust a wee bit, 32, there we go,\nI think that's a good kind of medium,\n\n187\n00:10:37.027 --> 00:10:40.680\nit's kind of small,\nmaybe make it a little bit bigger.\n\n188\n00:10:40.680 --> 00:10:44.085\nBut, I have a 32 pixel\nby 32 pixel sprite now.\n\n189\n00:10:44.085 --> 00:10:48.600\nMy question is,\ndoes everything else still work?\n\n190\n00:10:48.600 --> 00:10:53.058\nAnd, look,\nit now looks like I have a little, Little\n\n191\n00:10:53.058 --> 00:10:57.680\nfighter running around,\nand is, I got it, run.\n\n192\n00:10:57.680 --> 00:10:58.299\n&gt;&gt; You get fire.\n\n193\n00:10:58.299 --> 00:11:01.273\nGood.\n&gt;&gt; So, everything else still works, and\n\n194\n00:11:01.273 --> 00:11:02.550\nthen that is handy.\n\n195\n00:11:03.700 --> 00:11:10.158\nNow Zach, I'm gonna ask you a question and\nmaybe you have some insight on this.\n\n196\n00:11:10.158 --> 00:11:15.870\nThis images stuff, you've been with me\nthrough a lot of these html canvas ones.\n\n197\n00:11:15.870 --> 00:11:19.582\nThis creating a new image and\nthen adding the source,\n\n198\n00:11:19.582 --> 00:11:23.474\ndo you remember us possibly\nhaving problems with that?\n\n199\n00:11:23.474 --> 00:11:25.003\n&gt;&gt; Well, let me ask you a question.\n\n200\n00:11:25.003 --> 00:11:27.344\n&gt;&gt; [LAUGH]\n&gt;&gt; To your question with another question.\n\n201\n00:11:27.344 --> 00:11:32.114\nIs it gonna be harder to\nrender the attackers to create\n\n202\n00:11:32.114 --> 00:11:36.180\nthem because there's multiples of them?\n\n203\n00:11:36.180 --> 00:11:38.481\n&gt;&gt; I mean these are ultimately,\nI think, intertwined.\n\n204\n00:11:38.481 --> 00:11:44.660\nSo the issue that I asked Zach about\nthe image can load asynchronously.\n\n205\n00:11:44.660 --> 00:11:48.529\nIt is possible that it would not be\nready to render on first render.\n\n206\n00:11:48.529 --> 00:11:51.524\nLikewise, if it's asynchronous loading,\n\n207\n00:11:51.524 --> 00:11:55.870\na bunch of attackers may have\ndifficulties being ready, right?\n\n208\n00:11:55.870 --> 00:11:58.564\nSo I need to load the image and\nI sign in through the attackers.\n\n209\n00:11:58.564 --> 00:12:02.450\nSo I think those are intimately\nintertwined, Zach.\n\n210\n00:12:02.450 --> 00:12:06.170\n&gt;&gt; I did not use an onload\nevent listener here.\n\n211\n00:12:07.393 --> 00:12:08.639\nWell that's kind of weird.\n\n212\n00:12:08.639 --> 00:12:10.720\n&gt;&gt; Should you have used\nan onload event listener?\n\n213\n00:12:11.950 --> 00:12:14.191\n&gt;&gt; I probably should have.\n\n214\n00:12:14.191 --> 00:12:16.976\nI got away with it because these\nimages are actually really solid.\n\n215\n00:12:16.976 --> 00:12:20.326\nWe saw one when they rendered in\nthe In the browser, teeny tiny,\n\n216\n00:12:20.326 --> 00:12:24.123\nthere's just a little bit of text and\nwhich means they load really fast.\n\n217\n00:12:24.123 --> 00:12:26.690\nIt's usually ready to render.\n\n218\n00:12:26.690 --> 00:12:29.280\nThere's no guarantee that's the case.\n\n219\n00:12:29.280 --> 00:12:33.750\nLikewise, I should almost before\nI can construct the game.\n\n220\n00:12:33.750 --> 00:12:36.857\nI should have the images ready, I think.\n\n221\n00:12:36.857 --> 00:12:41.795\nI think that's probably better,\nlet me go ahead and load all these images,\n\n222\n00:12:41.795 --> 00:12:45.920\nand now, construct the game,\nand start the game off.\n\n223\n00:12:45.920 --> 00:12:50.590\nBut what that means is that we do have\nto make a few little changes here.\n\n224\n00:12:50.590 --> 00:12:55.470\nOur app.js is now going to\nneed to handle asynchronicity.\n\n225\n00:12:55.470 --> 00:12:57.003\nThere is no like top to bottom execution.\n\n226\n00:12:57.003 --> 00:12:58.667\n&gt;&gt; So there's going to be a little bit\nof reverse engineering going on here?\n\n227\n00:12:58.667 --> 00:13:00.542\n&gt;&gt; A little bit, a little bit.\n\n228\n00:13:00.542 --> 00:13:04.967\nAnd actually, if you haven't checked\nout some of my other projects in\n\n229\n00:13:04.967 --> 00:13:06.151\nHTML5 Canvas-\n&gt;&gt; You should.\n\n230\n00:13:06.151 --> 00:13:09.098\n&gt;&gt; You should definitely go check those\nout because I've talked about loading\n\n231\n00:13:09.098 --> 00:13:10.370\nimages asynchronously.\n\n232\n00:13:10.370 --> 00:13:14.259\n&gt;&gt; And I've shown a few things that I'm\ngonna utilize in this project that I\n\n233\n00:13:14.259 --> 00:13:14.906\ngot lucky.\n\n234\n00:13:14.906 --> 00:13:19.590\nI do wanna emphasize, I got lucky\nwith the image kind of rendering.\n\n235\n00:13:19.590 --> 00:13:20.495\n&gt;&gt; Or did he?\n\n236\n00:13:20.495 --> 00:13:21.065\n&gt;&gt; No, I did.\n\n237\n00:13:21.065 --> 00:13:24.510\nI have loaded very large\nimages this way and\n\n238\n00:13:24.510 --> 00:13:29.260\nsometimes it goes, nope,\nnothing, got nothing.\n\n239\n00:13:29.260 --> 00:13:31.600\nSo, if we come back to the screen here,\n\n240\n00:13:31.600 --> 00:13:33.990\nwe should probably change\na few things around.\n\n241\n00:13:33.990 --> 00:13:35.958\n&gt;&gt; Okay.\n&gt;&gt; Number one.\n\n242\n00:13:35.958 --> 00:13:40.139\nI'm thinking, that, so we can see\nthe clear delineation between creating\n\n243\n00:13:40.139 --> 00:13:43.750\nthe game object, which is,\nAtmoAttack, right from the class.\n\n244\n00:13:43.750 --> 00:13:44.446\n&gt;&gt; Mm hm.\n\n245\n00:13:44.446 --> 00:13:47.232\n&gt;&gt; And, the modification of, kind of,\n\n246\n00:13:47.232 --> 00:13:49.292\nAtmoAttack\n&gt;&gt; Well,\n\n247\n00:13:49.292 --> 00:13:51.165\nI'm gonna rearrange a little bit, okay.\n\n248\n00:13:51.165 --> 00:13:56.925\nSo I'm going to create\na JavaScript file called\n\n249\n00:13:56.925 --> 00:14:02.630\ngain.js and, excuse me let, wait for it.\n\n250\n00:14:02.630 --> 00:14:05.549\nI'm gonna rename it main, not gain.\n\n251\n00:14:05.549 --> 00:14:11.640\nMain.js, so kind of our main thing.\n\n252\n00:14:11.640 --> 00:14:13.827\nAnd really I could call it AtmoAttack but\n\n253\n00:14:13.827 --> 00:14:17.767\nI don't want to confuse the name of\nthe project with the name of the file.\n\n254\n00:14:17.767 --> 00:14:18.369\n&gt;&gt; Right.\n\n255\n00:14:18.369 --> 00:14:20.740\n&gt;&gt; So I come into index.html I used to.\n\n256\n00:14:20.740 --> 00:14:26.597\nThis needs to be available before\nI can write my app.js, okay.\n\n257\n00:14:26.597 --> 00:14:31.092\nSo my app.js, I don't wanna pull this atmo\n\n258\n00:14:31.092 --> 00:14:36.072\nattack out because I'm\ngonna have to worry about\n\n259\n00:14:36.072 --> 00:14:40.725\nasynchronicity as far as the images, okay?\n\n260\n00:14:40.725 --> 00:14:42.063\n&gt;&gt; Uh-mm.\n\n261\n00:14:42.063 --> 00:14:46.799\n&gt;&gt; So, if I come down here and\nwait for it,\n\n262\n00:14:46.799 --> 00:14:52.410\nwait for\nit I come over to main.js there we go.\n\n263\n00:14:56.398 --> 00:14:59.800\nAnd no, it looks like it's tabbed over,\nbut it's not.\n\n264\n00:15:01.120 --> 00:15:03.912\nSo now, what I'm talking about is\nI need to load these images and\n\n265\n00:15:03.912 --> 00:15:04.905\nhave them available.\n\n266\n00:15:04.905 --> 00:15:06.253\n&gt;&gt; Right, makes sense.\n\n267\n00:15:06.253 --> 00:15:11.465\nBut instead, what I'm going to do\nis construct these objects and\n\n268\n00:15:11.465 --> 00:15:14.420\npass them into the AtmoAttack game.\n\n269\n00:15:14.420 --> 00:15:18.640\nSo I wanna construct these outside, make\nsure they're ready and then pass them in.\n\n270\n00:15:18.640 --> 00:15:20.940\nSo I have to change my AtmoAttack.\n\n271\n00:15:20.940 --> 00:15:23.342\nRight now, we just have a selector.\n\n272\n00:15:23.342 --> 00:15:26.159\nBut I really need a fighter and\na swarm, and\n\n273\n00:15:26.159 --> 00:15:29.610\nthen pass in the preconstructed\nfighter and swarm.\n\n274\n00:15:29.610 --> 00:15:32.439\nThat way I can make sure\nthat the images are ready.\n\n275\n00:15:32.439 --> 00:15:33.633\n&gt;&gt; And\nthe pellets will still be there too.\n\n276\n00:15:33.633 --> 00:15:36.807\n&gt;&gt; And the pellets will still be in\nturn because we haven't applied any\n\n277\n00:15:36.807 --> 00:15:37.870\nabstractions there.\n\n278\n00:15:37.870 --> 00:15:41.036\nSo those will stay inside of of AtmoAttack\n&gt;&gt; Good.\n\n279\n00:15:41.036 --> 00:15:43.804\n&gt;&gt; So what I'm gonna do,\nis I'm gonna say fighter.\n\n280\n00:15:43.804 --> 00:15:51.570\nAnd swarm like so, and\nI'm just gonna gram these portions.\n\n281\n00:15:51.570 --> 00:15:55.816\nCut those up, wait for it.\n\n282\n00:15:55.816 --> 00:15:58.023\nCut these and say, dis.fighter.\n\n283\n00:15:58.023 --> 00:16:03.207\nFighter equals fighter.\n\n284\n00:16:04.752 --> 00:16:05.517\nMaybe.\n\n285\n00:16:05.517 --> 00:16:07.748\nFighter.\n\n286\n00:16:07.748 --> 00:16:13.710\nAnd this.swarm = swarm.\n\n287\n00:16:13.710 --> 00:16:16.570\nNow what this means is I can\nconstruct this game, but\n\n288\n00:16:16.570 --> 00:16:19.840\nI have to pass in essentially the\ndependencies of the fighter and the swarm.\n\n289\n00:16:20.920 --> 00:16:26.720\nIf I come back to the game object,\ncuz if we look this is all kinds of broke.\n\n290\n00:16:26.720 --> 00:16:27.950\n[LAUGH] All kinds of broke.\n\n291\n00:16:27.950 --> 00:16:32.970\nIf we come back to our game object,\nif I paste these in and\n\n292\n00:16:32.970 --> 00:16:36.800\nI say, const fighter const\n\n293\n00:16:39.090 --> 00:16:46.350\nswarm and\nthen I pass in fighter and swarm.\n\n294\n00:16:46.350 --> 00:16:49.230\nI should get it back and there we go,\n\n295\n00:16:49.230 --> 00:16:53.590\nexcept notice, look at that,\nmy fighter hasn't loaded.\n\n296\n00:16:53.590 --> 00:16:54.520\n&gt;&gt; He's invisible.\n\n297\n00:16:54.520 --> 00:17:00.610\n&gt;&gt; But if we come back and\nwe look at the game, .fighter.\n\n298\n00:17:00.610 --> 00:17:02.150\nThere it is.\n\n299\n00:17:02.150 --> 00:17:04.198\nIt should be drawing.\n\n300\n00:17:04.198 --> 00:17:07.380\nBut I have inconsistencies because\nthere's no way that I'm guaranteeing\n\n301\n00:17:07.380 --> 00:17:10.290\nthat the file has loaded upon\nfirst render versus not.\n\n302\n00:17:10.290 --> 00:17:14.510\nAnd if I come over here and\n\n303\n00:17:14.510 --> 00:17:19.120\nI hit the arrow keys a few times, and\nI look back at the fighter, it is moving.\n\n304\n00:17:21.310 --> 00:17:23.802\nSo, this is where\nthe asynchronicity comes in.\n\n305\n00:17:23.802 --> 00:17:27.311\n&gt;&gt; Right.\n&gt;&gt; What I would really like to do is load\n\n306\n00:17:27.311 --> 00:17:33.330\nthese sprites first and then pass\nthe sprites in to the next portion.\n\n307\n00:17:33.330 --> 00:17:38.737\nWhich creates a fighter based on\nthe sprite, creates a swarm based on the.\n\n308\n00:17:38.737 --> 00:17:41.118\nRight now the swarm's\nfine as we can see so\n\n309\n00:17:41.118 --> 00:17:45.142\nwe're gonna deal with the fighters\nfirst or the individual fighter.\n\n310\n00:17:45.142 --> 00:17:51.263\nAnd what that means we're gonna\nhave to do is this very interesting\n\n311\n00:17:51.263 --> 00:17:56.309\nkind of how do you say we\ngotta load some images, okay.\n\n312\n00:17:56.309 --> 00:18:01.495\nSo I'm gonna create a load\nimage function and image,\n\n313\n00:18:01.495 --> 00:18:06.010\nor I'm just gonna say, function loadImage.\n\n314\n00:18:06.010 --> 00:18:13.140\nAnd let's say, src and\nI'm gonna return a new promise.\n\n315\n00:18:13.140 --> 00:18:19.340\nNow, we've done this before, but\nthis is going to be a resolve, like so.\n\n316\n00:18:20.640 --> 00:18:26.279\nAnd now am going to grab this\npiece right here and say, boom,\n\n317\n00:18:26.279 --> 00:18:31.762\nimage, image, source and\n\n318\n00:18:31.762 --> 00:18:36.670\nthen image.onload.\n\n319\n00:18:36.670 --> 00:18:41.550\nNow I could use a add event listener here,\nbut I'm just gonna do an inline function,\n\n320\n00:18:41.550 --> 00:18:45.460\nonload, I want to resolve the image.\n\n321\n00:18:45.460 --> 00:18:50.756\nAnd that'll pass it back as a promise,\nand now I can say load image fighter,\n\n322\n00:18:50.756 --> 00:18:53.850\nload image, so on.\n\n323\n00:18:53.850 --> 00:18:56.590\n&gt;&gt; I hope so.\n&gt;&gt; And then, it'll be ready for\n\n324\n00:18:56.590 --> 00:18:57.980\nthe next step.\n\n325\n00:18:57.980 --> 00:19:04.508\nSo, we have this inside of here,\nand I'm gonna say, loadImage,\n\n326\n00:19:04.508 --> 00:19:10.128\nand then, *./images/fighter.svg*.\n\n327\n00:19:10.128 --> 00:19:17.560\n.then now that we have\nthe fighterSprite like that.\n\n328\n00:19:19.020 --> 00:19:20.560\nWe're going to run this next function.\n\n329\n00:19:21.820 --> 00:19:25.337\nWe're going to grab this piece right here.\n\n330\n00:19:28.731 --> 00:19:33.110\nThat's good, and we're also going\nto grab this piece right here.\n\n331\n00:19:33.110 --> 00:19:36.930\nBecause we can only start the game\nonce the fighter sprite is ready or\n\n332\n00:19:36.930 --> 00:19:37.925\nonce the fighter is.\n\n333\n00:19:37.925 --> 00:19:38.790\n&gt;&gt; Mm-hm.\n\n334\n00:19:38.790 --> 00:19:43.979\n&gt;&gt; And for some reason it likes\nto tab over ridiculous amounts.\n\n335\n00:19:45.250 --> 00:19:47.550\nWe should be good to go now.\n\n336\n00:19:47.550 --> 00:19:48.700\nLet's see.\n\n337\n00:19:48.700 --> 00:19:50.360\nAnd we still don't have any rendering.\n\n338\n00:19:50.360 --> 00:19:51.410\nWhy is that?\n\n339\n00:19:52.650 --> 00:19:54.220\nSo we pass in the fighter.\n\n340\n00:19:54.220 --> 00:19:55.800\nI've got a little bit of debugging.\n\n341\n00:19:57.040 --> 00:19:58.305\nSo, there's our fighter.\n\n342\n00:19:58.305 --> 00:20:02.069\nAnd fighter.render.\n\n343\n00:20:02.069 --> 00:20:04.792\nAnd fighter.render this.sprite.\n\n344\n00:20:05.800 --> 00:20:13.360\nOkay, and let's make sure That I've saved,\nnumber one.\n\n345\n00:20:13.360 --> 00:20:14.703\nI have.\n\n346\n00:20:14.703 --> 00:20:19.590\nAnd then if we look at the fighterSprite,\nwe should say console.log\n\n347\n00:20:19.590 --> 00:20:24.490\nfighterSprite, a little bit of\nlive action debugging here, Zack.\n\n348\n00:20:24.490 --> 00:20:25.660\n&gt;&gt; That's good, I like it.\n\n349\n00:20:26.750 --> 00:20:28.330\nTeachable moments.\n\n350\n00:20:28.330 --> 00:20:30.520\n&gt;&gt; And there we go.\n\n351\n00:20:30.520 --> 00:20:35.227\nHave I, I'm making sure I didn't\nmisspell the source word.\n\n352\n00:20:35.227 --> 00:20:36.598\n[LAUGH]\n&gt;&gt; Still invisible!\n\n353\n00:20:36.598 --> 00:20:43.171\n&gt;&gt; And there, there, and okay.\n\n354\n00:20:43.171 --> 00:20:45.740\nSo if I say\n\n355\n00:20:45.740 --> 00:20:55.740\ndocument.body.appendChild(fighterSprite\n\n356\n00:21:00.670 --> 00:21:01.260\n&gt;&gt; There it is.\n\n357\n00:21:01.260 --> 00:21:02.660\nSo, it's loading.\n\n358\n00:21:02.660 --> 00:21:06.120\nSo, why isn't it rendering now?\n\n359\n00:21:06.120 --> 00:21:10.240\nHm, screen width, screen height.\n\n360\n00:21:10.240 --> 00:21:13.310\n&gt;&gt; Listen, this problem started happening\nwhen we pulled it out of the game object.\n\n361\n00:21:13.310 --> 00:21:15.410\nDoes that have anything to do with it?\n\n362\n00:21:15.410 --> 00:21:17.440\n&gt;&gt; You know what, Zack,\nyou might be on to something.\n\n363\n00:21:17.440 --> 00:21:20.125\nWe should probably check that,\nbecause I'm sure there's some oversight.\n\n364\n00:21:20.125 --> 00:21:24.370\nThat some of you are like, it's right\nthere, it's right there, I see it.\n\n365\n00:21:24.370 --> 00:21:29.220\nSo, let's go ahead and take a look back\nat the screen here, and, you know what?\n\n366\n00:21:30.415 --> 00:21:33.360\nThis.screen doesn't exist,\nyou're exactly correct.\n\n367\n00:21:33.360 --> 00:21:39.760\nSo, I don't have a screen, I actually\nneed to possibly do a little bit of\n\n368\n00:21:39.760 --> 00:21:44.050\nrefactoring because I need to bundle these\nup and then let the game only have logic.\n\n369\n00:21:44.050 --> 00:21:49.340\nI'm passing them to entities that I need.\n\n370\n00:21:49.340 --> 00:21:50.580\nLet's actually do that.\n\n371\n00:21:51.590 --> 00:21:53.550\nHere, if we look.\n\n372\n00:21:55.980 --> 00:21:59.670\nWait for it, wait for it, aha.\n\n373\n00:21:59.670 --> 00:22:02.220\nThe screen is document.query selector.\n\n374\n00:22:02.220 --> 00:22:05.312\nSo, there's our selector,\ndocumant.query selector.\n\n375\n00:22:05.312 --> 00:22:10.708\nWe really don't need that, this would\nbe probably be better left as screen.\n\n376\n00:22:10.708 --> 00:22:14.330\nAnd then take away the selector.\n\n377\n00:22:15.480 --> 00:22:21.090\nGrab this, say screen, and\nwe've pulled that out a little bit,\n\n378\n00:22:21.090 --> 00:22:27.190\nand we can pull this back over to app.js\nand I can say no longer selector but\n\n379\n00:22:27.190 --> 00:22:32.150\ninstead screen = and what was that?\n\n380\n00:22:32.150 --> 00:22:37.511\nWell it was double quotes,\nscreen which is a canvas object.\n\n381\n00:22:37.511 --> 00:22:40.100\nAnd I can't use screen,\nI forgot about that.\n\n382\n00:22:40.100 --> 00:22:44.210\nLet's see,\nlet's call it gamescreen in this case.\n\n383\n00:22:44.210 --> 00:22:46.589\nCuz screen is actually\na reserved word inside,\n\n384\n00:22:46.589 --> 00:22:49.218\nit will override part of\nthe property of the window.\n\n385\n00:22:49.218 --> 00:22:50.980\nSo maybe we don't wanna do that.\n\n386\n00:22:50.980 --> 00:22:54.839\nBut we can say, gameScreen like so,\n\n387\n00:22:54.839 --> 00:23:00.470\ngameScreen, like so, and\n\n388\n00:23:00.470 --> 00:23:05.455\nnow we need to pass in the game screen for\nthe internal game screen.\n\n389\n00:23:05.455 --> 00:23:07.380\n&gt;&gt; Mm-hm.\n\n390\n00:23:07.380 --> 00:23:08.880\n&gt;&gt; Naming's hard.\n\n391\n00:23:08.880 --> 00:23:10.039\nI'm not gonna lie.\n\n392\n00:23:10.039 --> 00:23:15.632\nNow if we have this kind of worked\nout a little better There we go,\n\n393\n00:23:15.632 --> 00:23:17.910\nwe have our\n&gt;&gt; Does he move?\n\n394\n00:23:17.910 --> 00:23:19.870\n&gt;&gt; He does.\n&gt;&gt; He's moving and he shoots too.\n\n395\n00:23:19.870 --> 00:23:20.480\n&gt;&gt; And he does.\n\n396\n00:23:20.480 --> 00:23:26.660\nAnd I have now guaranteed that the SVG\nloads before the game kicks off.\n\n397\n00:23:26.660 --> 00:23:27.360\n&gt;&gt; Awesome.\n\n398\n00:23:27.360 --> 00:23:32.590\n&gt;&gt; Now if we look at this,\nour attackers are still yellow blocks.\n\n399\n00:23:32.590 --> 00:23:36.150\nI would like to have them be those\nangry raisins with tentacles.\n\n400\n00:23:36.150 --> 00:23:37.600\n&gt;&gt; We need the angry raisins.\n\n401\n00:23:37.600 --> 00:23:39.590\n&gt;&gt; We do, we do, but Zach,\n\n402\n00:23:39.590 --> 00:23:43.860\nI'm looking at the clock and it might\nbe best if we come back for a part two.\n\n403\n00:23:43.860 --> 00:23:48.173\nBecause there's not necessarily\na whole lot of different things but\n\n404\n00:23:48.173 --> 00:23:49.816\nthere may be a few kind of.\n\n405\n00:23:49.816 --> 00:23:52.768\nCuz now we have to make\nsure that both images\n\n406\n00:23:52.768 --> 00:23:56.051\nare loaded before we can\ninstantiate the game.\n\n407\n00:23:56.051 --> 00:24:00.700\nSo that's just part of the asynchronicity\ngame that we play with JavaScript.\n\n408\n00:24:00.700 --> 00:24:05.180\nSo let's come back with a part two to\nactually address the attackers, per se.\n\n409\n00:24:05.180 --> 00:24:08.760\n&gt;&gt; That's right cuz we've turned the swarm\ninto sprites and I wanna see that happen.\n\n410\n00:24:08.760 --> 00:24:10.570\nSo, Adding Sprites part two.\n\n411\n00:24:10.570 --> 00:24:13.440\nThis has been part one and\nI can't wait for part two.\n\n412\n00:24:13.440 --> 00:24:16.870\nBut before we leave,\nyou look like you wanna say something.\n\n413\n00:24:16.870 --> 00:24:20.366\n&gt;&gt; Well, this is one of those things where\nit seems like we're working backwards, but\n\n414\n00:24:20.366 --> 00:24:22.154\nthat's what happens in a normal project.\n\n415\n00:24:22.154 --> 00:24:26.820\nYou're like I got it working,\nand then, I wanna add images.\n\n416\n00:24:26.820 --> 00:24:29.220\nThe current structure I have\ndoesn't really work for images, so\n\n417\n00:24:29.220 --> 00:24:31.850\nnow I have to go change some other things.\n\n418\n00:24:31.850 --> 00:24:33.470\nThat's just the nature of the game.\n\n419\n00:24:33.470 --> 00:24:36.090\nSo don't be,\nI wanted to be very explicit and\n\n420\n00:24:36.090 --> 00:24:40.760\nkind of transparent about this process,\ncuz you're gonna encounter this.\n\n421\n00:24:40.760 --> 00:24:42.360\nDon't worry about it.\n\n422\n00:24:42.360 --> 00:24:46.958\nGet something working, make it better,\nbreak it, you have to make changes.\n\n423\n00:24:46.958 --> 00:24:51.750\nAnd we may have to take a few steps\nback to get our sprites actually added.\n\n424\n00:24:51.750 --> 00:24:55.083\nBut it does kind of let you see, well,\nthis one works synchronously, this other\n\n425\n00:24:55.083 --> 00:24:58.631\none works asynchronously, and there's\ndifferent patterns that fall out of those.\n\n426\n00:24:58.631 --> 00:25:02.200\nSo don't be discouraged,\nkeep moving forward.\n\n427\n00:25:02.200 --> 00:25:03.950\n&gt;&gt; Doing an awesome job,\nJustin, as always.\n\n428\n00:25:03.950 --> 00:25:07.030\nAdding Sprites part one,\npart two is coming, and\n\n429\n00:25:07.030 --> 00:25:11.052\nmake sure you watch everything in\nthe HTML5 canvas project series.\n\n430\n00:25:11.052 --> 00:25:14.430\nCuz they're amazing,\nJustin's amazing what he does for us And\n\n431\n00:25:14.430 --> 00:25:15.860\ntake a look at the course library too.\n\n432\n00:25:15.860 --> 00:25:17.480\nThere's hundreds of videos there and\n\n433\n00:25:17.480 --> 00:25:19.940\nthey're all designed to\nhelp you go further.\n\n434\n00:25:19.940 --> 00:25:23.200\nAnd tell everybody you know about\nDevPro.TV, they'll be very glad you did.\n\n435\n00:25:23.200 --> 00:25:25.240\nThanks for watching, I'm Zack Memos.\n\n436\n00:25:25.240 --> 00:25:25.827\n&gt;&gt; And I'm Justin Dennison.\n\n437\n00:25:25.827 --> 00:25:27.771\n&gt;&gt; And we will see you again soon.\n\n438\n00:25:27.771 --> 00:25:34.560\n[MUSIC]\n\n",
          "vimeoId": "237590916"
        },
        {
          "description": "In this episode, Zack and Justin return to the game to add image based sprites to the attacker.",
          "length": "1098",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-7-2-adding_sprites_pt2-100617-PGM.00_19_50_27.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-7-2-adding_sprites_pt2-100617-PGM.00_19_50_27.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-7-2-adding_sprites_pt2-100617-PGM.00_19_50_27.Still001-sm.jpg",
          "title": "Adding Sprites Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.417 --> 00:00:13.459\nHello, and thank you for\n\n3\n00:00:13.459 --> 00:00:15.900\nchoosing DEVPro.TV helping\nyou learn where ever you go.\n\n4\n00:00:15.900 --> 00:00:17.766\nI'm you're host Zach Memos.\n\n5\n00:00:17.766 --> 00:00:23.960\nThis is HTML5 Canvas projects, and we\nare looking at adding a sprites part two.\n\n6\n00:00:23.960 --> 00:00:26.049\nWe had a part one, this is part two.\n\n7\n00:00:26.049 --> 00:00:26.919\nAnd once again,\n\n8\n00:00:26.919 --> 00:00:30.660\nJustin Dennison is here to tell us\nmore about this incredible project.\n\n9\n00:00:30.660 --> 00:00:31.774\nJustin good to see you, sir.\n\n10\n00:00:31.774 --> 00:00:33.739\n&gt;&gt; It is good to be here Zach,\nand thanks for having me.\n\n11\n00:00:33.739 --> 00:00:34.340\n&gt;&gt; Yeah.\n\n12\n00:00:34.340 --> 00:00:35.073\n&gt;&gt; And how are you today?\n\n13\n00:00:35.073 --> 00:00:39.558\n&gt;&gt; I'm excited as we move forward\nbuilding this game, attacker or\n\n14\n00:00:39.558 --> 00:00:41.670\nhowever you want to call it.\n\n15\n00:00:41.670 --> 00:00:45.175\nAnd the last episode,\nwe had built the fire.\n\n16\n00:00:45.175 --> 00:00:49.117\nAnd so we were looking at building\nthe sprites that will be the attackers of\n\n17\n00:00:49.117 --> 00:00:49.760\nthe swarm.\n\n18\n00:00:49.760 --> 00:00:50.413\nIsn't that right?\n\n19\n00:00:50.413 --> 00:00:50.999\nIs that gonna be different?\n\n20\n00:00:50.999 --> 00:00:56.760\n&gt;&gt; Yeah, that's something that we\nprobably need to get a plan for, right?\n\n21\n00:00:56.760 --> 00:00:58.850\nWe got the fighter working in part one.\n\n22\n00:00:58.850 --> 00:01:02.830\nWe needed to get the swarm working,\ncuz they're still yellow blocks.\n\n23\n00:01:02.830 --> 00:01:07.647\nSo let's do a little bit of planning out,\nwhat are some possible things\n\n24\n00:01:07.647 --> 00:01:11.758\nthat I need to change in order\nto get things working, right?\n\n25\n00:01:11.758 --> 00:01:13.073\n&gt;&gt; So let's go ahaead and talk a look at-\n&gt;&gt; We need them more spritely.\n\n26\n00:01:13.073 --> 00:01:17.610\n&gt;&gt; Let's take a look at the code here,\nand I come and look at my main.js.\n\n27\n00:01:17.610 --> 00:01:22.213\nWhich actually contains the GameObject\nclass with this constructor and such,\n\n28\n00:01:22.213 --> 00:01:24.212\nI pass in the fighter in the swarm.\n\n29\n00:01:24.212 --> 00:01:26.407\nOkay, ao after that,\n\n30\n00:01:26.407 --> 00:01:29.816\nthis is pretty much all the same-\n&gt;&gt; Right.\n\n31\n00:01:29.816 --> 00:01:30.474\n&gt;&gt; Nothing's changed.\n\n32\n00:01:30.474 --> 00:01:33.050\nBut if I come to app, and I look.\n\n33\n00:01:33.050 --> 00:01:37.621\nHere's this loadImage, and I really could\npull this out until like a utils or\n\n34\n00:01:37.621 --> 00:01:38.689\nanother module.\n\n35\n00:01:38.689 --> 00:01:42.010\nBut I'm gonna leave it for now,\njust so we can make a reference of it.\n\n36\n00:01:42.010 --> 00:01:48.057\nAnd here, I'm gonna say\nloadImage images/fighter.svg.\n\n37\n00:01:48.057 --> 00:01:52.578\nAnd well that's where I pass\nit into the fighter object.\n\n38\n00:01:52.578 --> 00:02:00.607\nBut I'm looking and since we kind\nof grouped the swarm together.\n\n39\n00:02:00.607 --> 00:02:05.090\nI need some way to tell the swarm\nwhat an attacker should look like.\n\n40\n00:02:05.090 --> 00:02:10.033\nBecause behind the scenes is the swarm is\nusing a collection of attackers to define\n\n41\n00:02:10.033 --> 00:02:10.613\nitself.\n\n42\n00:02:10.613 --> 00:02:14.910\nSo this swarm, I'm probably gonna\nhave to pass in the sprite there.\n\n43\n00:02:14.910 --> 00:02:17.517\nAnd if I come over and look at the swarm,\n\n44\n00:02:17.517 --> 00:02:21.156\nI'm probably gonna have to\nchange a few other things.\n\n45\n00:02:21.156 --> 00:02:25.188\nSo there's some changes to be made,\nbut by and large,\n\n46\n00:02:25.188 --> 00:02:30.113\nI think it's gonna be very similar\nto what we did with the fighter.\n\n47\n00:02:30.113 --> 00:02:31.461\n&gt;&gt; Okay.\n&gt;&gt; There's maybe a few extra steps.\n\n48\n00:02:31.461 --> 00:02:36.390\n&gt;&gt; Now Justin, if we're going to be\nloading up multiple images, right?\n\n49\n00:02:36.390 --> 00:02:39.974\nBut we loaded up one image,\nnow we have to load up multiple images,\n\n50\n00:02:39.974 --> 00:02:42.285\nhow do we know that they're being loaded?\n\n51\n00:02:42.285 --> 00:02:44.312\n&gt;&gt; Well now we're back\nto the asynchronicity\n\n52\n00:02:44.312 --> 00:02:44.874\nproblem-\n&gt;&gt; Yeah.\n\n53\n00:02:44.874 --> 00:02:49.290\n&gt;&gt; Where we're ever gonna actually do that\nrefractor portion that we just discussed.\n\n54\n00:02:49.290 --> 00:02:52.866\nWe need to guarantee that how we're\ngoing to represent the attacker,\n\n55\n00:02:52.866 --> 00:02:53.784\nhas been loaded.\n\n56\n00:02:53.784 --> 00:02:56.800\nNow I could find a shortcut around this.\n\n57\n00:02:56.800 --> 00:03:00.353\nFull disclosure here, I can actually\nload all of these on page load.\n\n58\n00:03:00.353 --> 00:03:03.042\nAnd hide them in like a hidden div, but\n\n59\n00:03:03.042 --> 00:03:08.350\nmaybe I wanna do other things as they're\nloading and I can make use of that.\n\n60\n00:03:08.350 --> 00:03:12.844\nIf I had a bunch of images inside of\nthe HTML, I might still download.\n\n61\n00:03:12.844 --> 00:03:16.600\nMaybe I don't need the game over\nimage until a little bit later.\n\n62\n00:03:16.600 --> 00:03:21.950\nSo I can also load images a little\nbit differently programmatically.\n\n63\n00:03:21.950 --> 00:03:26.180\nI can kick off a bunch of request\nget them more or less concurrently,\n\n64\n00:03:26.180 --> 00:03:31.210\nand now I'm going to oversimplify this.\n\n65\n00:03:31.210 --> 00:03:35.812\nHow long it takes to load images is going\nto be based on how long the longest image\n\n66\n00:03:35.812 --> 00:03:37.068\nload takes.\n\n67\n00:03:37.068 --> 00:03:41.043\n&gt;&gt; So if they each took one second,\nwell if I do that programatically,\n\n68\n00:03:41.043 --> 00:03:44.696\nI'm not saying that the HTML\ndoesn't do this to some extent.\n\n69\n00:03:44.696 --> 00:03:48.298\nIf I did this programatically, I can kind\nof ensure that I go and reach out for\n\n70\n00:03:48.298 --> 00:03:49.350\nall of them.\n\n71\n00:03:49.350 --> 00:03:52.500\nAnd then if this one takes one second,\nthis other one takes a half a second, and\n\n72\n00:03:52.500 --> 00:03:54.860\nthis other one takes a half a second.\n\n73\n00:03:54.860 --> 00:03:55.604\nWell altogether,\n\n74\n00:03:55.604 --> 00:03:58.538\nit's gonna take one second cuz I'm\ngonna be grabbing them concurrently.\n\n75\n00:03:58.538 --> 00:04:02.542\nSo I'll do this programmatically, and\nI'll have a little bit more control and\n\n76\n00:04:02.542 --> 00:04:04.180\nI don't have to touch the dom.\n\n77\n00:04:04.180 --> 00:04:07.045\n&gt;&gt; And I had one more question too,\nbecause I need to ask this.\n\n78\n00:04:07.045 --> 00:04:10.040\n[LAUGH] So right now,\nwe have five attackers, right?\n\n79\n00:04:10.040 --> 00:04:11.866\nOkay, so\nyou're gonna change them all to sprites.\n\n80\n00:04:11.866 --> 00:04:13.370\nDo you have to do that individually?\n\n81\n00:04:13.370 --> 00:04:17.130\nCan you change them all at one time?\n\n82\n00:04:17.130 --> 00:04:20.224\n&gt;&gt; I think if we refactor\nthe swarm appropriately that,\n\n83\n00:04:20.224 --> 00:04:23.332\nthat should propagate\nthrough all of the attackers.\n\n84\n00:04:23.332 --> 00:04:25.948\nAnd I think that brings up a good point,\n\n85\n00:04:25.948 --> 00:04:29.610\nI'm gonna assume that a swarm\nare all like attackers.\n\n86\n00:04:29.610 --> 00:04:31.532\nI'm not gonna have one that\nmoves faster than the other.\n\n87\n00:04:31.532 --> 00:04:32.185\n&gt;&gt; Right.\n\n88\n00:04:32.185 --> 00:04:34.121\n&gt;&gt; They're not that dynamic in nature,\n\n89\n00:04:34.121 --> 00:04:37.720\nwhich means I'm gonna use the same\nsprite for all of the attackers.\n\n90\n00:04:37.720 --> 00:04:40.285\n&gt;&gt; But you could do that down the line.\n\n91\n00:04:40.285 --> 00:04:43.647\n&gt;&gt; It's gonna be a little more work,\nand maybe that would be an interesting\n\n92\n00:04:43.647 --> 00:04:44.973\nextension problem to see-\n&gt;&gt; Yeah.\n\n93\n00:04:44.973 --> 00:04:50.864\n&gt;&gt; Someone take on, but with that said,\nwe never kind of our idea our plan.\n\n94\n00:04:50.864 --> 00:04:51.674\n&gt;&gt; Yes.\n\n95\n00:04:51.674 --> 00:04:53.578\n&gt;&gt; Let's get that image loaded first-\n&gt;&gt; Yes.\n\n96\n00:04:53.578 --> 00:04:55.978\n&gt;&gt; Before we worry about anything else,\nso let's go ahead and\n\n97\n00:04:55.978 --> 00:04:57.180\ntake a look at my screen here.\n\n98\n00:04:57.180 --> 00:05:04.497\nAnd if we come over to main.j nope,\nap.js, I load this image.\n\n99\n00:05:04.497 --> 00:05:09.851\nNow here, here's the problem.\n\n100\n00:05:09.851 --> 00:05:11.685\nWhat do you wanna do?\n\n101\n00:05:11.685 --> 00:05:16.794\nWell then I want to run this,\nactually that's gonna give me\n\n102\n00:05:16.794 --> 00:05:22.330\nthe fighterSprite because that's\nattached to the loadImage.\n\n103\n00:05:22.330 --> 00:05:25.618\nAnd if I use a bunch of dot thens like\nthis, I have to do a one, then the next,\n\n104\n00:05:25.618 --> 00:05:26.309\nthen the next.\n\n105\n00:05:26.309 --> 00:05:31.211\nBut they're contained within function\nscope, and it's not quite gonna work out.\n\n106\n00:05:31.211 --> 00:05:36.310\nSo here's what's going to happen.\n\n107\n00:05:36.310 --> 00:05:37.020\nYou ready?\n&gt;&gt; Ready.\n\n108\n00:05:37.020 --> 00:05:37.533\n&gt;&gt; You ready?\n\n109\n00:05:37.533 --> 00:05:41.960\nOkay, so\nI'm gonna create an array called Images.\n\n110\n00:05:41.960 --> 00:05:44.515\nAnd to some extent,\nthis is gonna be ordered,\n\n111\n00:05:44.515 --> 00:05:47.865\nI have to remember that a particular\nimage is gonna be first.\n\n112\n00:05:47.865 --> 00:05:48.994\nThis particular image is gonna be second.\n\n113\n00:05:48.994 --> 00:05:53.932\nAnd what I'm gonna do is,\n[COUGH] let me name this\n\n114\n00:05:53.932 --> 00:05:58.145\nmore appropriately, ImagePromises.\n\n115\n00:05:58.145 --> 00:06:04.734\nSo that's what we used up here, it's a way\nto eventually I'll give you this file.\n\n116\n00:06:04.734 --> 00:06:09.172\nSo I'm gonna say, loadImage and\n\n117\n00:06:09.172 --> 00:06:13.934\nwhich one images/fighter.svg.\n\n118\n00:06:15.650 --> 00:06:24.669\nAnd loadImage Images/attacker.svg,\njust like that.\n\n119\n00:06:24.669 --> 00:06:25.211\n&gt;&gt; That's a loaded line.\n\n120\n00:06:25.211 --> 00:06:25.900\n&gt;&gt; Yeah, it is.\n\n121\n00:06:25.900 --> 00:06:30.000\nNow we're actually gonna break that up,\nso it's not quite as bad.\n\n122\n00:06:30.000 --> 00:06:33.328\nBut let's go look at that\nbefore I go any further.\n\n123\n00:06:33.328 --> 00:06:38.744\n&gt;&gt; Okay.\n&gt;&gt; So if I refresh ImagePromises,\n\n124\n00:06:38.744 --> 00:06:40.590\npromises.\n\n125\n00:06:40.590 --> 00:06:43.502\nSo now I have an array of two promises and\nthey're actually resolved.\n\n126\n00:06:43.502 --> 00:06:46.731\nAnd if I look, there's an image,\nthat's actually the fighter.\n\n127\n00:06:46.731 --> 00:06:47.299\n&gt;&gt; Yes.\n&gt;&gt; Were we have it,\n\n128\n00:06:47.299 --> 00:06:48.187\nor we're loading it again.\n\n129\n00:06:48.187 --> 00:06:54.958\nAnd over here,\nif we look that is the attacker.\n\n130\n00:06:54.958 --> 00:06:58.390\nSo these happen really fast actually,\n\n131\n00:06:58.390 --> 00:07:02.760\nbecause I'm doing both of\nthem at the same time.\n\n132\n00:07:02.760 --> 00:07:08.890\nNow, here's the problem,\nI can't attach a dot then this array.\n\n133\n00:07:08.890 --> 00:07:16.092\nI can't say after you grab all of these\nimages, now do this other thing, okay?\n\n134\n00:07:16.092 --> 00:07:20.364\nBut what I can do is within this promise,\n\n135\n00:07:20.364 --> 00:07:25.410\nI can say Promise.all\nimagePromises like so.\n\n136\n00:07:25.410 --> 00:07:30.921\nOnce I have all of these promises\nresolved, this is saying once everything\n\n137\n00:07:30.921 --> 00:07:36.095\nin this array has resolved,\nthen run this other portion here, okay?\n\n138\n00:07:36.095 --> 00:07:41.800\nAnd I'm gonna say sprites like so,\nand this is gonna break my game,\n\n139\n00:07:43.113 --> 00:07:46.820\nSprites and refresh, but look.\n\n140\n00:07:46.820 --> 00:07:48.939\nI have an array of images\nwithin now inside it.\n\n141\n00:07:48.939 --> 00:07:49.517\n&gt;&gt; Okay.\n\n142\n00:07:49.517 --> 00:07:52.540\n&gt;&gt; And that's actually it's my fighter and\nmy attacker.\n\n143\n00:07:54.040 --> 00:07:57.879\nNow [COUGH] I've covered promises\nin a course library at fair\n\n144\n00:07:57.879 --> 00:07:59.733\namount with an JavaScript.\n\n145\n00:07:59.733 --> 00:08:02.690\nYou should definitely go\ncheck those out if you, man,\n\n146\n00:08:02.690 --> 00:08:05.030\nI have no idea what he's doing.\n\n147\n00:08:05.030 --> 00:08:09.232\nWell this is a great way to handle\nasynchronicity at least with a fair amount\n\n148\n00:08:09.232 --> 00:08:11.177\nof concurrency and performance.\n\n149\n00:08:11.177 --> 00:08:14.210\nThere's no guarantee that\nit's still gonna be fast.\n\n150\n00:08:14.210 --> 00:08:17.452\nHowever, it does guarantee that both\nimages are loaded before the game starts.\n\n151\n00:08:17.452 --> 00:08:20.448\nAnd I have access to them in an array.\n\n152\n00:08:20.448 --> 00:08:22.569\n&gt;&gt; Seems reasonable.\n\n153\n00:08:22.569 --> 00:08:25.237\n&gt;&gt; Again,\nthis is a newer browser type thing,\n\n154\n00:08:25.237 --> 00:08:28.450\nif you haven't heard me say that before.\n\n155\n00:08:28.450 --> 00:08:34.430\nReally, what I'm gonna get is this,\nfighterSprite,\n\n156\n00:08:36.123 --> 00:08:41.273\nAnd attackerSprite like so, = Sprites, so\n\n157\n00:08:41.273 --> 00:08:47.377\nI'm kind of unpacking those,\npulling those apart.\n\n158\n00:08:47.377 --> 00:08:52.212\nNow how many things are in here\nare kind of decided by how many\n\n159\n00:08:52.212 --> 00:08:54.350\nare inside of this array?\n\n160\n00:08:54.350 --> 00:08:56.012\nSo how many promises I have there?\n\n161\n00:08:56.012 --> 00:09:00.800\nIs how many resolve values I\nhave in the other portion.\n\n162\n00:09:00.800 --> 00:09:05.040\nWith that, with error handling\nlike be a wrong URL something,\n\n163\n00:09:05.040 --> 00:09:09.443\nif you have a bunch of promises and\nyou call promise.all on them.\n\n164\n00:09:09.443 --> 00:09:13.864\nYou're error handling may,\nexcuse me, I'm pretty like 95% sure,\n\n165\n00:09:13.864 --> 00:09:17.348\nthat it will throw and\nerror if even one of them messes up.\n\n166\n00:09:17.348 --> 00:09:20.680\nSo do keep that in mind,\nthere's some things there.\n\n167\n00:09:20.680 --> 00:09:25.190\nBut now that I have fighterSprite,\nI should be back to exactly what I had and\n\n168\n00:09:25.190 --> 00:09:26.347\nI didn't, okay?\n\n169\n00:09:26.347 --> 00:09:31.636\nBut I fixed it, but I now have access\nto the attackerSprite, all right?\n\n170\n00:09:31.636 --> 00:09:32.532\n&gt;&gt; Boy.\n\n171\n00:09:32.532 --> 00:09:33.140\n&gt;&gt; Okay.\n\n172\n00:09:33.140 --> 00:09:34.279\n&gt;&gt; And raisins here, we come.\n\n173\n00:09:34.279 --> 00:09:42.790\n&gt;&gt; And just to show you,\nI'm gonna say document.body.appendChild.\n\n174\n00:09:42.790 --> 00:09:46.629\nNow I'm touching the dom,\nI won't necessarily do this all time.\n\n175\n00:09:46.629 --> 00:09:52.850\nSo I'm just gonna put it at\nthe bottom of the page, like so.\n\n176\n00:09:52.850 --> 00:09:54.980\nAnd right down here.\n\n177\n00:09:54.980 --> 00:09:57.380\n&gt;&gt; There it is.\n&gt;&gt; There it is, angry raisin or\n\n178\n00:09:57.380 --> 00:10:01.375\nmaybe it's a raisin cyclops,\nI don't know, who knows.\n\n179\n00:10:01.375 --> 00:10:02.853\n&gt;&gt; [LAUGH]\n&gt;&gt; But that attacker sprite.\n\n180\n00:10:02.853 --> 00:10:07.980\nNow [COUGH] the fighter doesn't\neven know about the attackerSprite.\n\n181\n00:10:07.980 --> 00:10:09.953\nThe game spring doesn't.\n\n182\n00:10:09.953 --> 00:10:11.564\nThe game actually doesn't\nneed to know about it.\n\n183\n00:10:11.564 --> 00:10:16.760\nThe only thing that's constructed during\nthis dot event is the actual swarm object.\n\n184\n00:10:16.760 --> 00:10:20.650\nThe swarm constructs a collection\nof attackers that act as a unit.\n\n185\n00:10:22.180 --> 00:10:25.015\nAs it stands now, there's no way for\nthe swarm to know about that.\n\n186\n00:10:25.015 --> 00:10:26.193\n&gt;&gt; Nope.\n\n187\n00:10:26.193 --> 00:10:27.589\n&gt;&gt; That, that could be a problem.\n\n188\n00:10:27.589 --> 00:10:29.085\n&gt;&gt; How do we fix that, Justin?\n\n189\n00:10:29.085 --> 00:10:31.570\n&gt;&gt; How do we fix that?\n\n190\n00:10:31.570 --> 00:10:38.200\nWell if I come over here and I look,\n100, 100, 5, what does that represent?\n\n191\n00:10:38.200 --> 00:10:42.237\nNow if you come over here to the swarm,\nthat's actually xy position and\n\n192\n00:10:42.237 --> 00:10:44.550\nthen number of attackers inside swarm.\n\n193\n00:10:44.550 --> 00:10:48.668\nAll right, now we've made our\nswarm very kind of simple,\n\n194\n00:10:48.668 --> 00:10:51.201\nit is a single row, given a number.\n\n195\n00:10:51.201 --> 00:10:54.250\nSo if I look inside a swarm,\nthis .attackers = createSwarm.\n\n196\n00:10:54.250 --> 00:10:58.804\nAnd that's because I kept a function\nthat I used previously before refactor,\n\n197\n00:10:58.804 --> 00:11:01.643\njust because well full disclosure,\nI'm lazy.\n\n198\n00:11:01.643 --> 00:11:06.701\n&gt;&gt; [LAUGH] Nothing could\nbe further from the truth.\n\n199\n00:11:06.701 --> 00:11:07.751\n&gt;&gt; [LAUGH]\n&gt;&gt; Hardest working man,\n\n200\n00:11:07.751 --> 00:11:10.250\nI've ever met in my life right here.\n\n201\n00:11:10.250 --> 00:11:14.678\n&gt;&gt; But the only way you can work hard\nis by choosing your bouts of laziness.\n\n202\n00:11:14.678 --> 00:11:15.393\n&gt;&gt; Well there's that.\n\n203\n00:11:15.393 --> 00:11:21.500\n&gt;&gt; So this createsSwarm effectively,\nI think that needs to be changed as well.\n\n204\n00:11:21.500 --> 00:11:24.811\nBecause the attacker is gonna need\nto know about its sprite, and\n\n205\n00:11:24.811 --> 00:11:26.907\nthat's because I wanna show a pattern.\n\n206\n00:11:26.907 --> 00:11:30.650\nThere's nothing that says\nthat has to be the case.\n\n207\n00:11:30.650 --> 00:11:34.125\nI could come down here and\nsay for every attacker,\n\n208\n00:11:34.125 --> 00:11:38.695\nI wanna write instead of using\nthe render method on the attacker.\n\n209\n00:11:38.695 --> 00:11:43.140\nAnd actually let me get some over scroll,\nso you can see here.\n\n210\n00:11:43.140 --> 00:11:45.851\nInstead of calling it\nattacker.render inside of the swarm,\n\n211\n00:11:45.851 --> 00:11:48.467\nI just write my own custom render for\neach of the attackers.\n\n212\n00:11:48.467 --> 00:11:53.856\nAnd then do that inside of the swarm,\nbut I'm not gonna do that.\n\n213\n00:11:53.856 --> 00:11:55.755\n&gt;&gt; [LAUGH]\n&gt;&gt; Here's what we're gonna do.\n\n214\n00:11:55.755 --> 00:12:00.892\nLet's say attackerSprite just for\nclarity, and\n\n215\n00:12:00.892 --> 00:12:08.126\nI'm going to save that, because you\nnever know when it might come up.\n\n216\n00:12:08.126 --> 00:12:12.724\nAnd attackerSprite = attackerSprite,\n\n217\n00:12:12.724 --> 00:12:19.957\ncuz I'm going to be passing this\nkinda around all over the place.\n\n218\n00:12:19.957 --> 00:12:26.630\nAnd then this createSwarm, I think this\nshould know about the attackerSprite.\n\n219\n00:12:26.630 --> 00:12:30.506\nBecause it's going to construct our\nindividual attackers as a collection.\n\n220\n00:12:30.506 --> 00:12:33.762\nSo it's going to make a bunch of them,\nit's essentially a factory for\n\n221\n00:12:33.762 --> 00:12:34.845\na bunch of attackers.\n\n222\n00:12:34.845 --> 00:12:36.727\n&gt;&gt; Yeah.\n&gt;&gt; So if I pass that through,\n\n223\n00:12:36.727 --> 00:12:38.630\nI need to pass it up here.\n\n224\n00:12:38.630 --> 00:12:43.958\nSo let's just call it sprite,\nbecause we are now in a different scope.\n\n225\n00:12:43.958 --> 00:12:49.350\nAnd then I think the attacker shouldn't\nknow about its own sprite as well.\n\n226\n00:12:49.350 --> 00:12:53.246\nSo I've kind of passed that\nthrough from the game, right?\n\n227\n00:12:53.246 --> 00:12:58.760\nThe at .js, and\nthen I passed it through to the swarm.\n\n228\n00:12:58.760 --> 00:13:01.710\nAnd then createSwarm and\nthen to the attacker, but\n\n229\n00:13:01.710 --> 00:13:04.186\nthe attacker has no idea\nwhat to do with it.\n\n230\n00:13:04.186 --> 00:13:09.260\nSo I need to hop over here to the\nattacker, and very similarly that I did\n\n231\n00:13:09.260 --> 00:13:14.930\nto the fighter, well I'm gonna say sprite,\nremove this color portion.\n\n232\n00:13:14.930 --> 00:13:19.656\nSay this.sprite = sprite,\nand because we now have,\n\n233\n00:13:19.656 --> 00:13:23.673\nwait, I say we keep them\nvery similar in size.\n\n234\n00:13:23.673 --> 00:13:27.520\nLet's change this to 32 by 32,\n32 pixels by 32 pixels.\n\n235\n00:13:27.520 --> 00:13:32.725\nAnd then the render, well we don't\nneed color anymore, it's done.\n\n236\n00:13:32.725 --> 00:13:39.576\nBut what we do need is draw image,\nand this.sprite.\n\n237\n00:13:39.576 --> 00:13:45.069\nAnd Zach, I can now say with\na fair amount of certainty\n\n238\n00:13:45.069 --> 00:13:53.022\nthat there are some strong overlaps\nbetween fighter and attacker as a class.\n\n239\n00:13:53.022 --> 00:13:53.849\n&gt;&gt; Okay.\n&gt;&gt; Right?\n\n240\n00:13:53.849 --> 00:13:55.800\nSo render, these are exactly the same.\n\n241\n00:13:57.230 --> 00:14:01.714\nAttacker constructor, there's only\none like one thing that's not, so\n\n242\n00:14:01.714 --> 00:14:03.098\nwe could modify that.\n\n243\n00:14:03.098 --> 00:14:07.030\nBut just for clarity,\nlet's leave it be, okay?\n\n244\n00:14:08.320 --> 00:14:12.821\nNow that we have that,\nif we come back to app.js,\n\n245\n00:14:12.821 --> 00:14:19.589\nwe can pass in the attackerSprite and\nwe should have things that are broke.\n\n246\n00:14:19.589 --> 00:14:20.122\n&gt;&gt; It's broke.\n\n247\n00:14:20.122 --> 00:14:26.090\n&gt;&gt; [LAUGH] So number of attackers is\nnot defined, well let's go and look.\n\n248\n00:14:26.090 --> 00:14:31.635\nNumber of attackers, I accidentally made\na typo when I was adding the sprite.\n\n249\n00:14:31.635 --> 00:14:35.002\nIf we come over here to Swarm,\nI put an m on there,\n\n250\n00:14:35.002 --> 00:14:37.869\nwhen I went to put the comma, whoops.\n\n251\n00:14:37.869 --> 00:14:38.933\n&gt;&gt; There we go, so if I refresh.\n\n252\n00:14:38.933 --> 00:14:40.879\n&gt;&gt; Angry raisins.\n\n253\n00:14:40.879 --> 00:14:44.430\n&gt;&gt; Angry raisins, and let's see if I can.\n\n254\n00:14:46.220 --> 00:14:47.498\nLook at that.\n\n255\n00:14:47.498 --> 00:14:48.519\n&gt;&gt; And they get killed.\n\n256\n00:14:48.519 --> 00:14:53.428\n&gt;&gt; And they do, and now we have a swarm\nof angry raisins coming after our\n\n257\n00:14:53.428 --> 00:14:56.610\nlittle tank, and our tank still moves.\n\n258\n00:14:56.610 --> 00:15:02.082\nWe've added sprites, we did have to make\nsome changes some moving around of codes,\n\n259\n00:15:02.082 --> 00:15:05.486\nsome rethinking our process,\nbut it is available.\n\n260\n00:15:05.486 --> 00:15:07.325\nIt's kind of looking more like an-\n&gt;&gt; I am happy.\n\n261\n00:15:07.325 --> 00:15:08.165\n&gt;&gt; Amo attacker, right?\n\n262\n00:15:08.165 --> 00:15:08.716\n&gt;&gt; I am happy.\n\n263\n00:15:08.716 --> 00:15:10.078\n&gt;&gt; So-\n&gt;&gt; I have a question though.\n\n264\n00:15:10.078 --> 00:15:10.659\n&gt;&gt; Yes.\n\n265\n00:15:10.659 --> 00:15:13.502\n&gt;&gt; Seems like we have to pass that through\na lot, is there another way to do this?\n\n266\n00:15:13.502 --> 00:15:18.453\n&gt;&gt; There actually is, and so\nwhat Zach is referring to I think, and\n\n267\n00:15:18.453 --> 00:15:20.820\ncorrect me if I'm wrong.\n\n268\n00:15:20.820 --> 00:15:24.052\nIs the passing through of this sprite-\n&gt;&gt; Yeah.\n\n269\n00:15:24.052 --> 00:15:26.395\n&gt;&gt; Through the swarm in to\nthe attacker object, into this-\n\n270\n00:15:26.395 --> 00:15:26.897\n&gt;&gt; Yes.\n\n271\n00:15:26.897 --> 00:15:27.456\n&gt;&gt; Helper function.\n\n272\n00:15:27.456 --> 00:15:27.966\n&gt;&gt; Lots of passes.\n\n273\n00:15:27.966 --> 00:15:29.906\n&gt;&gt; I'm passing this around,\nis there a better way?\n\n274\n00:15:29.906 --> 00:15:30.472\n&gt;&gt; Yes.\n\n275\n00:15:30.472 --> 00:15:34.898\n&gt;&gt; Well I could say when\nI create a swarm object,\n\n276\n00:15:34.898 --> 00:15:40.840\nI can change this from a class\nmaybe to a factory function.\n\n277\n00:15:40.840 --> 00:15:43.760\nAnd then load the image there and\nreturn a promise.\n\n278\n00:15:43.760 --> 00:15:47.580\nMaybe create swarm is now\na promise based and returns that.\n\n279\n00:15:49.170 --> 00:15:52.339\nI could also do a similar thing for\nthe fighter,\n\n280\n00:15:52.339 --> 00:15:55.045\nlike create fighter returns a promise.\n\n281\n00:15:55.045 --> 00:15:56.981\nAnd inside that's gonna load an image and\n\n282\n00:15:56.981 --> 00:15:59.130\nthen when the image\nloads it returns itself.\n\n283\n00:15:59.130 --> 00:16:00.897\nSo I wanted to make this a little clear.\n\n284\n00:16:00.897 --> 00:16:03.610\n&gt;&gt; Because there's a lot of options,\nI mean it's in there.\n\n285\n00:16:03.610 --> 00:16:05.993\n&gt;&gt; There is a great amount of options and\njust passing this through.\n\n286\n00:16:05.993 --> 00:16:11.970\nIt cause the minimal disruption, instead\nof a large kind of restructuring the code.\n\n287\n00:16:11.970 --> 00:16:12.613\nIsn't that ideal?\n\n288\n00:16:12.613 --> 00:16:16.814\nNo, but a second option is\nI could create a template\n\n289\n00:16:16.814 --> 00:16:19.242\nattacker-\n&gt;&gt; Right?\n\n290\n00:16:19.242 --> 00:16:23.534\nAnd pass in an attacker object to\nthe swarm that already has the sprite\n\n291\n00:16:23.534 --> 00:16:25.440\nassociated with it.\n\n292\n00:16:25.440 --> 00:16:28.198\nAnd then I don't have to\npass the sprite down,\n\n293\n00:16:28.198 --> 00:16:32.391\nthe swarm uses kind of this templated\nattacker to build the swarm out.\n\n294\n00:16:32.391 --> 00:16:35.729\nBut then that means instead\nof having just a swarm here,\n\n295\n00:16:35.729 --> 00:16:37.940\nI would have to create an attacker.\n\n296\n00:16:37.940 --> 00:16:41.458\nAnd then pass that to the swarm or\nattacker template,\n\n297\n00:16:41.458 --> 00:16:43.420\nthat also may be thrown away.\n\n298\n00:16:43.420 --> 00:16:48.756\nAnd I think just passing the sprite\ndown through swarm constructor and\n\n299\n00:16:48.756 --> 00:16:51.900\nthen into the attacker constructor.\n\n300\n00:16:51.900 --> 00:16:53.376\nI think that makes it a little easier,\n\n301\n00:16:53.376 --> 00:16:55.828\na little easier to follow why\nthings are going the way they are.\n\n302\n00:16:55.828 --> 00:16:58.860\nInstead of causing a mass disruption.\n\n303\n00:16:58.860 --> 00:17:00.049\n&gt;&gt; So that sounds like a better plan.\n\n304\n00:17:00.049 --> 00:17:03.670\nDo we have time to do something like\nthat now, or do we have to wait?\n\n305\n00:17:03.670 --> 00:17:05.943\n&gt;&gt; I would say,\nlet's just hold off on that.\n\n306\n00:17:05.943 --> 00:17:07.683\n&gt;&gt; Okay.\n&gt;&gt; I like where it is, and\n\n307\n00:17:07.683 --> 00:17:10.560\nthe asynchronicity has been handled.\n\n308\n00:17:10.560 --> 00:17:12.430\nLet me show you a few utility functions.\n\n309\n00:17:12.430 --> 00:17:15.571\nWe may have to do some\nclean up in the future.\n\n310\n00:17:15.571 --> 00:17:19.742\nBut I think this is at a good stopping\npoint where we have both our attackers and\n\n311\n00:17:19.742 --> 00:17:21.040\nour fighter.\n\n312\n00:17:21.040 --> 00:17:23.003\nThey now have sprites,\nthey're no longer just rectangles.\n\n313\n00:17:23.003 --> 00:17:25.930\nThey're hit boxes are,\njust so we're clear.\n\n314\n00:17:27.030 --> 00:17:32.313\nThe rectangle you saw, when the pellet\nhits the outer edge of that rectangle or\n\n315\n00:17:32.313 --> 00:17:34.726\nsquare in the case of the attacker.\n\n316\n00:17:34.726 --> 00:17:40.000\nWhen it hits that, that's when it\nis determined to be hit and remove.\n\n317\n00:17:40.000 --> 00:17:43.049\nSo both of those still apply,\nthere is a bounting box or\n\n318\n00:17:43.049 --> 00:17:47.557\nwhat's known as a hit box that you can't\nsee even though the image is not square or\n\n319\n00:17:47.557 --> 00:17:49.431\nrectangular in nature any more.\n\n320\n00:17:49.431 --> 00:17:52.510\n&gt;&gt; Well Justin, you're doing an amazing\njobs adding sprites part two.\n\n321\n00:17:52.510 --> 00:17:53.780\nThere was part one, watch them both.\n\n322\n00:17:53.780 --> 00:17:57.070\nWatch everything in\nthe HTML5 Canvas project series.\n\n323\n00:17:57.070 --> 00:17:59.160\nGo to our course library,\nthere's hundreds of videos there.\n\n324\n00:17:59.160 --> 00:18:02.650\nAnd they're all designed\nto help you go further.\n\n325\n00:18:02.650 --> 00:18:03.756\nAnd tell everybody you\nknow about DevPro.TV.\n\n326\n00:18:03.756 --> 00:18:05.541\nThey'll be mighty glad you did.\n\n327\n00:18:05.541 --> 00:18:07.255\nThanks for watching, I'm Zach Memos.\n\n328\n00:18:07.255 --> 00:18:08.196\n&gt;&gt; And I'm Justin Dennison.\n\n329\n00:18:08.196 --> 00:18:09.624\n&gt;&gt; And we'll see you real soon.\n\n330\n00:18:09.624 --> 00:18:18.469\n[MUSIC]\n\n",
          "vimeoId": "237590459"
        },
        {
          "description": "In this episode, Zack and Justin demonstrate adding sound to the game in order to add a little extra flair to the playing experience.",
          "length": "1588",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-8-1-adding_sounds-102317-PGM.00_26_20_14.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-8-1-adding_sounds-102317-PGM.00_26_20_14.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-8-1-adding_sounds-102317-PGM.00_26_20_14.Still001-sm.jpg",
          "title": "Adding Sounds",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.941 --> 00:00:15.811\nThank you for choosing DevProTV,\nhelping you learn wherever you go.\n\n3\n00:00:15.811 --> 00:00:21.559\nI'm your host Zach Memos as we continue\non with HTML 5 Canvas Projects.\n\n4\n00:00:21.559 --> 00:00:25.098\nWe're gonna be adding a sound today,\nthis is pretty exciting stuff and\n\n5\n00:00:25.098 --> 00:00:27.051\nJustin Dennison is here to help us out.\n\n6\n00:00:27.051 --> 00:00:29.010\nJustin, great to have you here.\n\n7\n00:00:29.010 --> 00:00:32.520\n&gt;&gt; It is great to be back Zach,\nI'm pretty excited but how are you today?\n\n8\n00:00:32.520 --> 00:00:36.050\n&gt;&gt; Well, thrilled because I've kind\nof followed you through this whole\n\n9\n00:00:36.050 --> 00:00:40.300\nseries we've been doing and you've said\nbefore you wanted to add the sounds.\n\n10\n00:00:40.300 --> 00:00:44.810\nThe number one question\nis how did you add sound?\n\n11\n00:00:44.810 --> 00:00:46.810\n&gt;&gt; Well, we're actually gonna\nbe adding them to our project,\n\n12\n00:00:46.810 --> 00:00:48.850\nbut where did I get them?\n\n13\n00:00:48.850 --> 00:00:49.500\n&gt;&gt; Where did you get them?\n\n14\n00:00:49.500 --> 00:00:53.734\n&gt;&gt; Where did I get these sounds, and well,\nI'm not gonna show you what they sound\n\n15\n00:00:53.734 --> 00:00:57.136\nlike, I want that to be a surprise\nthroughout this episode, or\n\n16\n00:00:57.136 --> 00:00:59.400\nwho knows it might take longer than that.\n\n17\n00:00:59.400 --> 00:01:02.473\nBut I've always wanted\nto do voice over work.\n\n18\n00:01:02.473 --> 00:01:03.524\nI tend to be very animated,\n\n19\n00:01:03.524 --> 00:01:05.340\nin case you haven't noticed-\n&gt;&gt; Yeah.\n\n20\n00:01:05.340 --> 00:01:06.000\n&gt;&gt; In our videos.\n\n21\n00:01:07.390 --> 00:01:09.048\nI actually recorded all of them.\n\n22\n00:01:09.048 --> 00:01:10.777\n&gt;&gt; [LAUGH]\n&gt;&gt; Using my voice.\n\n23\n00:01:10.777 --> 00:01:15.388\nAll the sounds you are going to hear,\nI've added of me being recorded.\n\n24\n00:01:15.388 --> 00:01:17.480\nI didn't practice it wasn't some,\nI just kind of do this for\n\n25\n00:01:17.480 --> 00:01:19.850\nthe moment cuz I think it's funny.\n\n26\n00:01:19.850 --> 00:01:21.810\nAnd hopefully, you will enjoy it as well.\n\n27\n00:01:21.810 --> 00:01:23.358\nIf I really-\n&gt;&gt; Like I'm on the way I'm really\n\n28\n00:01:23.358 --> 00:01:24.120\nhere right now.\n\n29\n00:01:24.120 --> 00:01:28.510\n&gt;&gt; If I really wanted to be professional\nbut I probably would spend some time with\n\n30\n00:01:28.510 --> 00:01:32.250\nmiked up with headphones making sure I\nget teaches right and things like that.\n\n31\n00:01:32.250 --> 00:01:35.570\nSometimes it turned up pretty good\na couple of them when I was like\n\n32\n00:01:35.570 --> 00:01:36.870\nwe changes little bit.\n\n33\n00:01:36.870 --> 00:01:40.852\nI haven't thought about going crazy and\njust gone Bang or Pow.\n\n34\n00:01:40.852 --> 00:01:43.519\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] Like a la Adam West Batman,\n\n35\n00:01:43.519 --> 00:01:47.114\nwith all the onomatopoeia,\nor something like that.\n\n36\n00:01:47.114 --> 00:01:48.578\n&gt;&gt; Biff Bang Pow.\n\n37\n00:01:48.578 --> 00:01:50.420\n&gt;&gt; Yeah, Bang Pow, but\nthat's not what I did.\n\n38\n00:01:50.420 --> 00:01:55.090\nAnd well, I'm gonna hold back and say,\nyou'll just have to wait and find out.\n\n39\n00:01:55.090 --> 00:01:55.991\n&gt;&gt; Yes, okay.\n\n40\n00:01:55.991 --> 00:01:58.990\n&gt;&gt; All right, so, where did we leave off?\n\n41\n00:01:58.990 --> 00:02:05.530\nWe have our betas, we have our swarm,\nour attackers and our swarm, our pellets.\n\n42\n00:02:05.530 --> 00:02:09.648\nIt's all good and we actually loaded\nimages for those respective things, right?\n\n43\n00:02:09.648 --> 00:02:12.925\nNow, the way we did that is\nnot necessarily the best way,\n\n44\n00:02:12.925 --> 00:02:15.520\nit's hard to say what is the best way.\n\n45\n00:02:15.520 --> 00:02:20.240\nBut it is a way, and we'll get to that.\n\n46\n00:02:20.240 --> 00:02:22.180\nSo let's go ahead and\ntake a look at the screen here,\n\n47\n00:02:22.180 --> 00:02:26.530\nand just quickly peruse the ab.js.\n\n48\n00:02:26.530 --> 00:02:29.500\nSo here's our load image, and\nthat returns a new promise.\n\n49\n00:02:29.500 --> 00:02:32.370\nAnd what that does is create an image,\nsets the source, and on load,\n\n50\n00:02:32.370 --> 00:02:34.840\nwhen the image is actually finally loaded,\nit resolves the promise.\n\n51\n00:02:34.840 --> 00:02:36.860\nAnd that's how I get those assets back.\n\n52\n00:02:36.860 --> 00:02:39.860\nI use that to load the fighter image and\nthe attacker image, and\n\n53\n00:02:39.860 --> 00:02:40.730\ncall promise to all.\n\n54\n00:02:40.730 --> 00:02:43.510\nSo I can get all of these\nthings kinda loading at once.\n\n55\n00:02:43.510 --> 00:02:48.680\nNow, the actual sound API.\n\n56\n00:02:48.680 --> 00:02:54.820\nThe audio API in our browser, it's kind\nof like this, it's similar to this.\n\n57\n00:02:54.820 --> 00:02:58.630\nAnd just to show you if I come over here,\nand\n\n58\n00:02:58.630 --> 00:03:02.644\nI open up console window and\nthat say new Audio.\n\n59\n00:03:03.730 --> 00:03:09.420\nNow, you'll notice as I type\nthese AudioContext, AudioNode,\n\n60\n00:03:09.420 --> 00:03:14.785\nAudioParameter, AudioBuffer.\n\n61\n00:03:14.785 --> 00:03:18.790\nI'm just gonna stay with Audio because\nthese sound clips are very small.\n\n62\n00:03:18.790 --> 00:03:20.413\nThey're more of sound effects.\n\n63\n00:03:20.413 --> 00:03:22.001\n[MUSIC]\n\n64\n00:03:22.001 --> 00:03:23.040\nSomething like that, right?\n\n65\n00:03:24.560 --> 00:03:28.420\nSo if I do then,\nI get an audio tech, all right?\n\n66\n00:03:28.420 --> 00:03:35.645\nNow, let's just say\nconst Audio = new Audio,\n\n67\n00:03:35.645 --> 00:03:39.980\nand so I get this audio tag and\n\n68\n00:03:39.980 --> 00:03:43.966\nif I console.dir Audio.\n\n69\n00:03:43.966 --> 00:03:47.717\nAnd so, when I look it's just an HTML, but\n\n70\n00:03:47.717 --> 00:03:52.826\nit's very special because it\nprovides the ability to play\n\n71\n00:03:52.826 --> 00:03:58.190\naudio within the context of,\nwell, the HTML document.\n\n72\n00:03:58.190 --> 00:04:01.260\nIf I scroll down,\nyou'll notice there's a source attribute.\n\n73\n00:04:01.260 --> 00:04:02.810\nAnd as of right now, it's nothing.\n\n74\n00:04:03.850 --> 00:04:08.310\nSo this is playing out very\nsimilar to image, okay?\n\n75\n00:04:08.310 --> 00:04:11.201\nNow, I could do some crazy things.\n\n76\n00:04:11.201 --> 00:04:15.130\nLike this loadLmage, I could just\nmake this more generic load asset.\n\n77\n00:04:16.360 --> 00:04:22.030\nNow, the load asset would have to take in,\nhey, what asset type are you loading?\n\n78\n00:04:22.030 --> 00:04:24.310\nAnd then,\nI would have to build an abstraction.\n\n79\n00:04:24.310 --> 00:04:25.450\nI don't think I'm gonna go that way,\n\n80\n00:04:25.450 --> 00:04:30.040\nbecause it would be functions returning\nfunctions or a plethora of other things.\n\n81\n00:04:30.040 --> 00:04:33.308\nI think I'm just gonna very straight\nforward, and more or less just copy and\n\n82\n00:04:33.308 --> 00:04:33.883\npaste this.\n\n83\n00:04:33.883 --> 00:04:40.060\nMake sure that it works, and we'll see how\nthings will kind of play out, all right?\n\n84\n00:04:40.060 --> 00:04:41.590\nSo I have this load image.\n\n85\n00:04:41.590 --> 00:04:45.710\nNow ultimately, I may extract this to\nsomething else, and have these image\n\n86\n00:04:45.710 --> 00:04:51.350\npromises, and this is kind of where\nmy game starts out, all right?\n\n87\n00:04:51.350 --> 00:04:53.419\nSo let's see here.\n\n88\n00:04:53.419 --> 00:04:57.696\nI can say, load function\n\n89\n00:04:57.696 --> 00:05:02.800\nloadAudio, like so, okay.\n\n90\n00:05:02.800 --> 00:05:07.840\nNow this is going to take a source,\njust like the loadImage.\n\n91\n00:05:07.840 --> 00:05:12.815\nAnd this is gonna return a new Promise.\n\n92\n00:05:12.815 --> 00:05:17.550\nAnd then, it's gonna take a resolve\nstatement, if I can spell resolve.\n\n93\n00:05:17.550 --> 00:05:20.290\nAnd you're like, this looks very\nsimilar to stop, and it does.\n\n94\n00:05:20.290 --> 00:05:25.280\nThis is gonna be almost an exact replica,\nall right?\n\n95\n00:05:25.280 --> 00:05:28.793\nSo if I come here and I say const,\n\n96\n00:05:28.793 --> 00:05:33.869\nlet's just call it sound\n= new Audio like so,\n\n97\n00:05:33.869 --> 00:05:37.905\nand then some crazy and apparently,\n\n98\n00:05:37.905 --> 00:05:42.650\nI have my hands shifted off to the side.\n\n99\n00:05:42.650 --> 00:05:45.188\nLet's hide this for a moment.\n\n100\n00:05:45.188 --> 00:05:50.187\nSound.src = src, and then,\n\n101\n00:05:50.187 --> 00:05:57.280\nsound.onload = an error function.\n\n102\n00:05:57.280 --> 00:06:00.376\nSo, I'm taking what I know, right?\n\n103\n00:06:00.376 --> 00:06:04.110\nI'm trying to do,\nhowever do this based on my image.\n\n104\n00:06:05.240 --> 00:06:09.270\nBe very careful we may find that\nthere are some new lines differences.\n\n105\n00:06:09.270 --> 00:06:11.560\nBut I'm just gonna stay with this for now.\n\n106\n00:06:11.560 --> 00:06:15.944\nAnd we're gonna resolve(sound), all right?\n\n107\n00:06:15.944 --> 00:06:18.290\nSo that's what's gonna be\nreturned by the promise.\n\n108\n00:06:18.290 --> 00:06:23.990\nSo the call loadAudio, and outside of\nthis, I'm just gonna call loadAudio.\n\n109\n00:06:26.290 --> 00:06:28.948\nAnd what audio am I going to load?\n\n110\n00:06:28.948 --> 00:06:33.730\nWell, if I come over here,\ninside of this folder we have mp3 files.\n\n111\n00:06:33.730 --> 00:06:35.580\nSo by default, we can could play mp3.\n\n112\n00:06:35.580 --> 00:06:39.773\nThey're very small comparatively\nother than dot wave or\n\n113\n00:06:39.773 --> 00:06:42.080\nthat other types of files.\n\n114\n00:06:42.080 --> 00:06:46.010\nSo I've chosen mp3 because I\nknow the browser is capable.\n\n115\n00:06:46.010 --> 00:06:49.030\nJust be aware older browsers\nmay have some weirdness.\n\n116\n00:06:49.030 --> 00:06:52.620\n&gt;&gt; So that's where you said your sound\nbytes that you created in the studio\n\n117\n00:06:52.620 --> 00:06:53.350\nwas to mp3.\n\n118\n00:06:54.350 --> 00:06:58.590\n&gt;&gt; Yep, and full disclosure when we\nrecord to them they were longer,\n\n119\n00:06:58.590 --> 00:07:04.790\nthey were .wave files so they had\na full kind of analog wave formed.\n\n120\n00:07:04.790 --> 00:07:09.669\nWhat I did is, I went into a sound editing\nI chopped out just the tiny bit cuz\n\n121\n00:07:09.669 --> 00:07:14.158\ntypically effects you want to be\nvery small, very short in length,\n\n122\n00:07:14.158 --> 00:07:16.364\nexcept maybe like a background,\n\n123\n00:07:16.364 --> 00:07:20.494\nsomething that is always playing\nin the background on a loop.\n\n124\n00:07:20.494 --> 00:07:24.701\nAnd then, when I export those I\nsave those as mp3 at that time, so\n\n125\n00:07:24.701 --> 00:07:27.914\nfor the most part they serve a purpose,\nmp3 gives\n\n126\n00:07:27.914 --> 00:07:33.400\nyou a very small digital file format\nthat should be quick to load, all right?\n\n127\n00:07:33.400 --> 00:07:38.969\nSo instead of loading audio like this, I'm\nactually gonna play around on the browser.\n\n128\n00:07:38.969 --> 00:07:46.060\nLet's see here, let's say,\ngame play, game-play.mp3.\n\n129\n00:07:46.060 --> 00:07:48.360\nAnd those that's in an fx folder.\n\n130\n00:07:48.360 --> 00:07:51.292\nSo sound.fx, all right.\n\n131\n00:07:51.292 --> 00:07:57.200\nSo if I come over here, and I refresh and\n\n132\n00:07:57.200 --> 00:08:02.930\nI say const soundPromise = loadAudio\n\n133\n00:08:02.930 --> 00:08:07.061\nAdd FXgame-play.mp3.\n\n134\n00:08:07.061 --> 00:08:08.299\nExcel.\n\n135\n00:08:08.299 --> 00:08:12.379\nAnd [SOUND], Error file not found.\n\n136\n00:08:12.379 --> 00:08:15.680\nWell, let's try it\na little bit differently.\n\n137\n00:08:15.680 --> 00:08:19.429\nLet's say backslash,\ncan't do that, because I used a.\n\n138\n00:08:19.429 --> 00:08:22.453\nSo, if I refresh, and now, I said,\n\n139\n00:08:22.453 --> 00:08:28.030\nbecause I'm serving from a file\nlike this instead of from a server.\n\n140\n00:08:29.700 --> 00:08:31.590\nI have to use this relative patting.\n\n141\n00:08:31.590 --> 00:08:33.840\nSay start here and move onward.\n\n142\n00:08:33.840 --> 00:08:39.880\nSo, we'll look at sound promise, and I\nspell it right, then notice it's pending.\n\n143\n00:08:40.980 --> 00:08:42.870\nWell, Justin,\ndidn't you say that was really fast?\n\n144\n00:08:44.170 --> 00:08:44.800\nYeah.\n\n145\n00:08:44.800 --> 00:08:48.700\nIt should be,\nbecause game play should be tiny.\n\n146\n00:08:48.700 --> 00:08:49.950\nWell, let's look at it again.\n\n147\n00:08:49.950 --> 00:08:52.140\nIt still says pending.\n\n148\n00:08:52.140 --> 00:08:53.560\nWhy would it say pending?\n\n149\n00:08:53.560 --> 00:08:54.060\nAll right.\n\n150\n00:08:55.110 --> 00:08:57.720\nSo, I said the source, and\nI said sound dot onload.\n\n151\n00:08:59.370 --> 00:09:01.720\nWe should probably check the audio API.\n\n152\n00:09:02.730 --> 00:09:07.855\nWithin browsers maybe\nusing like Mozilla to make\n\n153\n00:09:07.855 --> 00:09:13.240\nsure that onloads still is used for\nsounds, okay.\n\n154\n00:09:13.240 --> 00:09:14.535\nSo, let's see here.\n\n155\n00:09:14.535 --> 00:09:18.707\nLet's see, audio Yahoo MDN let's\n\n156\n00:09:18.707 --> 00:09:23.720\nactually say MozillaDeveloperNetwork.\n\n157\n00:09:26.002 --> 00:09:27.710\nSo, here we go.\n\n158\n00:09:27.710 --> 00:09:29.160\nIt's the audio tag.\n\n159\n00:09:31.020 --> 00:09:36.180\nAnd what kind of things\nam I going to get here?\n\n160\n00:09:36.180 --> 00:09:39.610\nSo, audio streams, subtitles.\n\n161\n00:09:39.610 --> 00:09:41.810\nThat's very interesting.\n\n162\n00:09:41.810 --> 00:09:46.940\nIdea with element source and\nthat's there's craziness in there.\n\n163\n00:09:46.940 --> 00:09:52.850\nI don't see anything about the actual\n\n164\n00:09:52.850 --> 00:09:57.030\nunload function, or\nlike a vent that are kicked off.\n\n165\n00:09:59.020 --> 00:10:03.439\nSo, if we come and look, [SOUND].\n\n166\n00:10:03.439 --> 00:10:08.807\nLet's see here, sites,\n\n167\n00:10:08.807 --> 00:10:13.447\naudio, HTML onload.\n\n168\n00:10:13.447 --> 00:10:17.559\nThe onload attribute fires when an object\nhas been loaded, most often used blah,\n\n169\n00:10:17.559 --> 00:10:19.630\nblah, blah, blah.\n\n170\n00:10:19.630 --> 00:10:20.840\nIf we come to stack overflow.\n\n171\n00:10:22.350 --> 00:10:24.900\nOr we can use things like this.\n\n172\n00:10:24.900 --> 00:10:26.310\nThese are great places to look.\n\n173\n00:10:26.310 --> 00:10:33.180\nAnd we come and we look,\nonCanPlayThrough, onEnded.\n\n174\n00:10:33.180 --> 00:10:35.850\nSo, addEventListener\nended cantPlayThrough.\n\n175\n00:10:37.020 --> 00:10:39.670\nOnCanPlayThrough is an event,\nnot a method, okay?\n\n176\n00:10:41.530 --> 00:10:45.200\nThis doesn't quite give\nme what I anticipate.\n\n177\n00:10:46.670 --> 00:10:48.870\nAdd event listener, load a sound.\n\n178\n00:10:50.080 --> 00:10:51.530\nThere it is.\n\n179\n00:10:51.530 --> 00:10:54.420\nSo, add event listener for load.\n\n180\n00:10:54.420 --> 00:10:56.180\nWell, that should be the on load.\n\n181\n00:10:58.750 --> 00:11:04.780\n[SOUND] But\nnotice it's calling .load, I wonder.\n\n182\n00:11:04.780 --> 00:11:08.190\nAnd then, we may have to\nhand-wave this a little bit.\n\n183\n00:11:08.190 --> 00:11:12.560\nLet's call sound.load, like this.\n\n184\n00:11:12.560 --> 00:11:13.100\nNow, what is load?\n\n185\n00:11:13.100 --> 00:11:16.610\nThat's saying, hey,\nbring that in, get it set up.\n\n186\n00:11:16.610 --> 00:11:18.100\nWe come back and we try it out.\n\n187\n00:11:19.730 --> 00:11:21.160\nAnd we look.\n\n188\n00:11:21.160 --> 00:11:22.470\nSo, there it is.\n\n189\n00:11:22.470 --> 00:11:23.570\nLet's look at soundPromise.\n\n190\n00:11:23.570 --> 00:11:24.646\nIt's pending.\n\n191\n00:11:24.646 --> 00:11:26.089\nIt's pending.\n\n192\n00:11:26.089 --> 00:11:26.837\nIt's pending.\n\n193\n00:11:26.837 --> 00:11:29.870\nIt's pending.\n\n194\n00:11:29.870 --> 00:11:33.144\nSo, that's not quit working\nlike we anticipated.\n\n195\n00:11:33.144 --> 00:11:34.641\nAnd I think that's,\n\n196\n00:11:34.641 --> 00:11:40.390\nbecause the on low is not behaving like\nwe anticipate the image actually working.\n\n197\n00:11:41.580 --> 00:11:43.630\nAll right, so that didn't work.\n\n198\n00:11:43.630 --> 00:11:48.340\nWhen all else fails,\nwe'll treat is synchronously\n\n199\n00:11:48.340 --> 00:11:53.240\nwith being full aware that we\nmay get some weirdness here.\n\n200\n00:11:53.240 --> 00:11:59.420\nOkay?, and what I mean is if\nit's a very large sound file,\n\n201\n00:11:59.420 --> 00:12:03.220\nit may not behave quite\nlike you anticipate it to.\n\n202\n00:12:03.220 --> 00:12:09.568\nResolve is not defined,\nthat's because I misspelled it.\n\n203\n00:12:09.568 --> 00:12:11.893\nResolve.\n\n204\n00:12:11.893 --> 00:12:14.220\nResolve.\n\n205\n00:12:14.220 --> 00:12:16.110\nNope.\nStill spelled it wrong.\n\n206\n00:12:16.110 --> 00:12:16.790\nResolve.\n\n207\n00:12:16.790 --> 00:12:17.830\nThere we go.\n\n208\n00:12:17.830 --> 00:12:19.260\nRefresh.\n\n209\n00:12:19.260 --> 00:12:20.240\nThere we go.\n\n210\n00:12:20.240 --> 00:12:21.970\nSound promise.\n\n211\n00:12:21.970 --> 00:12:25.910\nAnd it has been resolved and\nwhat do I have as the promise value?\n\n212\n00:12:25.910 --> 00:12:27.750\nBut an audio tag.\n\n213\n00:12:27.750 --> 00:12:29.390\nNow, I have this.\n\n214\n00:12:29.390 --> 00:12:35.356\nAnd what I can do with this promise\nis call .then on it, .then.\n\n215\n00:12:35.356 --> 00:12:40.828\nAnd then,\nI could just say it gives me a sound.\n\n216\n00:12:40.828 --> 00:12:42.488\nAnd let's say sound.play.\n\n217\n00:12:42.488 --> 00:12:46.027\n[SOUND]\n&gt;&gt; [LAUGH]\n\n218\n00:12:46.027 --> 00:12:46.957\n&gt;&gt; So-\n\n219\n00:12:46.957 --> 00:12:48.130\n&gt;&gt; Wait a minute.\n\n220\n00:12:48.130 --> 00:12:51.200\n&gt;&gt; Wait a minute, do that again, please.\n\n221\n00:12:51.200 --> 00:12:53.151\nJust for my own [INAUDIBLE].\n\n222\n00:12:53.151 --> 00:12:55.473\n&gt;&gt; All right, so\nlet's see if I can play it again.\n\n223\n00:12:55.473 --> 00:12:57.830\n&gt;&gt; [SOUND]\n&gt;&gt; [LAUGH] There we go.\n\n224\n00:12:57.830 --> 00:13:02.340\n&gt;&gt; So see, these are gonna be\nsprinkled with all kinds of fun time.\n\n225\n00:13:02.340 --> 00:13:05.370\nSo, yes, that is me and doing that sound.\n\n226\n00:13:05.370 --> 00:13:07.763\nAnd that's what I'm thinking, just plays\nin the background, just kind of forever.\n\n227\n00:13:07.763 --> 00:13:11.084\n&gt;&gt; So, [SOUND], that's for\nthe little guys moving around?\n\n228\n00:13:11.084 --> 00:13:13.043\n&gt;&gt; Yeah, it's just playing it\nin the background, [SOUND].\n\n229\n00:13:13.043 --> 00:13:14.992\n&gt;&gt; The invaders coming down towards you,\ngot it, okay.\n\n230\n00:13:14.992 --> 00:13:18.680\n&gt;&gt; [LAUGH]\n&gt;&gt; So, but we have this sound loaded.\n\n231\n00:13:18.680 --> 00:13:20.240\nNow, I wanted to show you that,\n\n232\n00:13:20.240 --> 00:13:24.150\nbecause this is something that I've\nrun into before some of these assets\n\n233\n00:13:25.439 --> 00:13:30.340\nan image on assets, but\nthey do behave a little bit differently.\n\n234\n00:13:30.340 --> 00:13:34.390\nAnd, because my sounds are so\nsmall, I can get away with more, or\n\n235\n00:13:34.390 --> 00:13:36.890\nless treating sounds synchronously.\n\n236\n00:13:37.910 --> 00:13:42.280\nIf your sound is very large,\nthat may not be true.\n\n237\n00:13:42.280 --> 00:13:47.320\nAnd you may have to come back, and figure\nout if it's not on load, what is it?\n\n238\n00:13:47.320 --> 00:13:48.670\nOkay.\n\n239\n00:13:48.670 --> 00:13:52.642\nNow, I've made the decision for this\nepisode not to get crazy deep into that,\n\n240\n00:13:52.642 --> 00:13:55.440\njust to provide you a caveat, a warning.\n\n241\n00:13:55.440 --> 00:13:58.030\nAll right.\nThis works for me, and I also wanted to\n\n242\n00:13:58.030 --> 00:14:03.750\nshow you that premature, if I would have\ntried to go ahead and say load asset.\n\n243\n00:14:03.750 --> 00:14:07.580\nAnd use the exact same one,\nit would actually broke for sound.\n\n244\n00:14:07.580 --> 00:14:10.460\nSo, even though I thought it\nwas gonna be a copy paste\n\n245\n00:14:10.460 --> 00:14:13.970\nit ends up being that I had\nto change a few things.\n\n246\n00:14:13.970 --> 00:14:15.450\nI had to change how it works.\n\n247\n00:14:16.580 --> 00:14:20.268\nThe argument many may have made then,\nwhy do you have this in a promise?\n\n248\n00:14:20.268 --> 00:14:23.540\nAll right, well, here's what I'm thinking,\n\n249\n00:14:24.590 --> 00:14:30.250\nif I can do like a synchornists load, like\nit's so small it's almost instantaneous.\n\n250\n00:14:30.250 --> 00:14:35.160\nAnd I can rely on that I don't need a\npromise, but if I've adopted a pattern of\n\n251\n00:14:35.160 --> 00:14:39.841\nsaying, I'm going to load any assets,\nimage, sound, video,\n\n252\n00:14:39.841 --> 00:14:44.710\na synchronously using a promise-base API,\nand\n\n253\n00:14:44.710 --> 00:14:48.700\nI'm going to go ahead and\nwrap those, so they're all the same.\n\n254\n00:14:48.700 --> 00:14:52.110\nOkay, so I can say load audio,\nload image, and\n\n255\n00:14:52.110 --> 00:14:55.890\nthey all return promises, and\nI can kick off and grab them uniformly.\n\n256\n00:14:55.890 --> 00:15:00.480\nBut that also means is that image promises\n\n257\n00:15:01.880 --> 00:15:05.808\nI would probably just now\ncall these assetPromises and\n\n258\n00:15:05.808 --> 00:15:09.861\nsay load the attacker.\n\n259\n00:15:09.861 --> 00:15:11.434\nAnd then\n\n260\n00:15:11.434 --> 00:15:21.110\nloadAudio('./fx/game-play.mp3').\n\n261\n00:15:21.110 --> 00:15:27.040\nNotice, I now still have uniformity here\nabout how these are being loaded up.\n\n262\n00:15:27.040 --> 00:15:31.430\nBut what this is going to mean is now,\nI have to change this variable name.\n\n263\n00:15:33.240 --> 00:15:37.720\nAnd I need to change how this works, so\n\n264\n00:15:37.720 --> 00:15:43.590\nhow about we pull these apart inside\nof the function call, like so.\n\n265\n00:15:43.590 --> 00:15:49.188\nSo, if I go fighterSprite excel,\n\n266\n00:15:49.188 --> 00:15:53.244\nattackerSprite excel.\n\n267\n00:15:53.244 --> 00:15:58.406\nAnd then, how about gamePlayAudio?\n\n268\n00:15:58.406 --> 00:15:59.861\nLike that.\n\n269\n00:15:59.861 --> 00:16:04.412\nNow I can pull these out, and everything\nshould still work, but now I've resolved\n\n270\n00:16:04.412 --> 00:16:08.520\nall those promises at once, it'll now\nkickoff and we should be good to go.\n\n271\n00:16:08.520 --> 00:16:10.494\nSo there we go.\n\n272\n00:16:10.494 --> 00:16:13.166\nAnd because the nature of this episode,\n\n273\n00:16:13.166 --> 00:16:17.566\nthere'll probably be times that I\nturn the sound on, turn it off,\n\n274\n00:16:17.566 --> 00:16:22.140\ncuz that gameplay one, I actually\nwant that to play the entire time.\n\n275\n00:16:22.140 --> 00:16:23.440\nThat's the doo dee doo dee doo dee doo.\n\n276\n00:16:23.440 --> 00:16:25.563\n&gt;&gt; That this is run, yeah,\nthe doo dee doo dee.\n\n277\n00:16:25.563 --> 00:16:28.530\nSo let's do that first,\nokay, let's do that first.\n\n278\n00:16:28.530 --> 00:16:34.702\nSo if I come here and I look,\nokay, and I'll look here.\n\n279\n00:16:34.702 --> 00:16:37.736\nI got the game play audio,\nit should be available.\n\n280\n00:16:37.736 --> 00:16:38.660\nAll right, here we go.\n\n281\n00:16:40.090 --> 00:16:41.890\nThat's gonna be the first thing.\n\n282\n00:16:41.890 --> 00:16:43.490\nIt will not loop.\n\n283\n00:16:43.490 --> 00:16:44.874\nLet's just see if I can get it to play.\n\n284\n00:16:44.874 --> 00:16:49.184\nSo gamePlayAudio.play, like so.\n\n285\n00:16:49.184 --> 00:16:53.164\nSo I'm playing this programmatically.\n\n286\n00:16:53.164 --> 00:16:55.953\n&gt;&gt; [SOUND]\n&gt;&gt; There we go, so\n\n287\n00:16:55.953 --> 00:16:57.802\nit does play through one time.\n\n288\n00:16:57.802 --> 00:16:58.677\n&gt;&gt; But it won't loop.\n\n289\n00:16:58.677 --> 00:17:00.012\n&gt;&gt; But it won't loop.\n\n290\n00:17:00.012 --> 00:17:03.116\nWell, if I come back over here, and\n\n291\n00:17:03.116 --> 00:17:07.888\nit didn't help me with the actual event,\nthe onload.\n\n292\n00:17:07.888 --> 00:17:12.091\nBut if I come back and I look,\na boolean attribute, if specified,\n\n293\n00:17:12.091 --> 00:17:16.981\nwill automatically seek back to the start\nupon reaching the end of the audio.\n\n294\n00:17:16.981 --> 00:17:24.568\nThere is a loop condition, an attribute\nthat I can place on these audio tags.\n\n295\n00:17:24.568 --> 00:17:27.890\nOkay, so\nthis is gonna be kinda dirty, right?\n\n296\n00:17:27.890 --> 00:17:33.657\nBut I can say gamePlayAudio.loop = true,\nlike so.\n\n297\n00:17:33.657 --> 00:17:38.805\n&gt;&gt; And then I can say gamePlayAudio.play,\n\n298\n00:17:38.805 --> 00:17:44.578\nlike that, now-\n&gt;&gt; [SOUND], perfecto!\n\n299\n00:17:44.578 --> 00:17:47.311\n&gt;&gt; So now it will loop the entire time.\n\n300\n00:17:47.311 --> 00:17:50.071\nNow, you're like, well,\nthey're running off screen.\n\n301\n00:17:50.071 --> 00:17:51.906\n&gt;&gt; [SOUND]\n&gt;&gt; See how I said this is,\n\n302\n00:17:51.906 --> 00:17:53.401\nlet's turn that off.\n\n303\n00:17:53.401 --> 00:17:56.199\n&gt;&gt; [LAUGH]\n&gt;&gt; So we can come back and\n\n304\n00:17:56.199 --> 00:17:57.385\nturn that one on.\n\n305\n00:17:57.385 --> 00:17:58.995\nI'm gonna leave that one turned off,\n\n306\n00:17:58.995 --> 00:18:02.077\ncuz that one is kind of playing in\nthe background the whole time, right?\n\n307\n00:18:02.077 --> 00:18:07.582\nAll right, so we have that first\nthing loaded, what's the next thing?\n\n308\n00:18:07.582 --> 00:18:11.048\nIf I hit the spacebar and\nI'm focused here,\n\n309\n00:18:11.048 --> 00:18:16.592\nI notice just like a noise that is\nassociated with the pellets firing.\n\n310\n00:18:16.592 --> 00:18:17.667\n&gt;&gt; Pew pew pew?\n\n311\n00:18:17.667 --> 00:18:20.591\n&gt;&gt; Yeah, well,\nyou just got to wait and see.\n\n312\n00:18:20.591 --> 00:18:22.634\n&gt;&gt; [LAUGH]\n&gt;&gt; You just got to wait and see, Zach.\n\n313\n00:18:22.634 --> 00:18:27.688\nBut if you have a sound here,\nand it is called pew.\n\n314\n00:18:27.688 --> 00:18:31.020\n[LAUGH]\n&gt;&gt; Wow, good guess!\n\n315\n00:18:31.020 --> 00:18:34.664\n&gt;&gt; So what I need to do is now come\nback and add that to the load list.\n\n316\n00:18:34.664 --> 00:18:40.871\nSo loadAudio, spell audio correctly,\n\n317\n00:18:40.871 --> 00:18:44.156\nand then ./fx/ and\n\n318\n00:18:44.156 --> 00:18:48.727\nthen pew.mp3, all right.\n\n319\n00:18:48.727 --> 00:18:50.521\nWhat that means is,\n\n320\n00:18:50.521 --> 00:18:56.333\nI'm gonna rearrange this function\nright here and give me a list.\n\n321\n00:18:56.333 --> 00:19:01.043\nSo let's just call this blasterSound.\n\n322\n00:19:01.043 --> 00:19:05.583\nOkay, so there is the blasterSound, but\n\n323\n00:19:05.583 --> 00:19:13.250\nyou'll notice that where am I setting\nup where those blasters occur?\n\n324\n00:19:13.250 --> 00:19:16.651\nLet's go back through and\nlook, so is it in the dighter?\n\n325\n00:19:16.651 --> 00:19:20.500\nNo, the fighter is an object that\njust represents something, okay.\n\n326\n00:19:20.500 --> 00:19:25.396\nIt's not in the attacker, where is\nthe blaster portion actually occurring?\n\n327\n00:19:25.396 --> 00:19:30.115\nIt's occurring in the AtmoAttack portion.\n\n328\n00:19:30.115 --> 00:19:36.130\nIf I come here, notice when I hit space,\nthat's where it's occurring.\n\n329\n00:19:36.130 --> 00:19:41.050\nSo I need to pass that in to AtmoAttack,\nthe game object, for\n\n330\n00:19:41.050 --> 00:19:43.277\nit to be effective, okay?\n\n331\n00:19:43.277 --> 00:19:46.358\nNow, [COUGH] what I'm\ngoing to do is say sound,\n\n332\n00:19:46.358 --> 00:19:49.758\ncuz I have a feeling I'm\ngonna have to do this a lot.\n\n333\n00:19:49.758 --> 00:19:52.737\nAnd the sound is going to be an object,\n\n334\n00:19:52.737 --> 00:19:58.619\nan object that has key value pairs\nassociated with the respective sounds.\n\n335\n00:19:58.619 --> 00:20:03.135\nAll right, so\nlet's actually pass that in, and\n\n336\n00:20:03.135 --> 00:20:08.432\nif I do this,\nI can say this.sounds = sounds; like so.\n\n337\n00:20:08.432 --> 00:20:13.292\nAnd when I come back to the app,\nI want to, let's collect these sounds with\n\n338\n00:20:13.292 --> 00:20:17.934\nkey value pairs, only the ones that\nneed to be provided to AtmoAttack.\n\n339\n00:20:17.934 --> 00:20:22.333\nSo if I say const sounds here, and\n\n340\n00:20:22.333 --> 00:20:26.271\nthen let's just call it pew.\n\n341\n00:20:26.271 --> 00:20:30.274\n&gt;&gt; [LAUGH]\n&gt;&gt; And that's the blasterSound, okay?\n\n342\n00:20:30.274 --> 00:20:35.271\nNow, I may come back and\nchange that, but I think it's funny.\n\n343\n00:20:35.271 --> 00:20:39.934\nAnd then this sounds is an object with key\nvalue pairs and I'm passing this through,\n\n344\n00:20:39.934 --> 00:20:42.376\nmore or\nless like an enumerated type thing.\n\n345\n00:20:42.376 --> 00:20:49.067\nAnd then sounds, okay there is sounds,\nI've passed that in.\n\n346\n00:20:49.067 --> 00:20:51.624\nLet's add a console.log statement,\njust for giggles.\n\n347\n00:20:51.624 --> 00:20:55.027\nActually, let's put in\na debugger statement.\n\n348\n00:20:55.027 --> 00:20:59.888\nAnd what this will do is when my dev\ntools are open, it will stop right here.\n\n349\n00:20:59.888 --> 00:21:06.148\nSo if I refresh, and there it is, and I\nshould have the ability to say this.sounds\n\n350\n00:21:06.148 --> 00:21:11.164\nin the console and see,\nthis.sounds and PEW audio, all right.\n\n351\n00:21:11.164 --> 00:21:18.611\nSo let's see here,\nif I say this.sounds_PEW.play,\n\n352\n00:21:18.611 --> 00:21:23.574\nand notice, hmm, that's pending,\n\n353\n00:21:23.574 --> 00:21:26.534\nwhat is this pending?\n\n354\n00:21:28.976 --> 00:21:30.024\nWell.\n\n355\n00:21:30.024 --> 00:21:32.656\n&gt;&gt; [SOUND]\n&gt;&gt; There we go.\n\n356\n00:21:32.656 --> 00:21:33.385\n&gt;&gt; I heard it.\n\n357\n00:21:33.385 --> 00:21:36.082\n&gt;&gt; Now, what happened there is,\ntechnically,\n\n358\n00:21:36.082 --> 00:21:40.310\nit returns a promise when I call that\nplay, so I can do, and then do this.\n\n359\n00:21:40.310 --> 00:21:42.944\nBut it will queue up to play.\n\n360\n00:21:42.944 --> 00:21:46.511\nBut because I had the browser in debug\nmode and had stopped there, it would never\n\n361\n00:21:46.511 --> 00:21:50.366\ngonna play that, cuz it wouldn't continue\nprocessing events and things like that.\n\n362\n00:21:50.366 --> 00:21:52.670\nSo be aware of that.\n\n363\n00:21:52.670 --> 00:21:58.437\nBut I know that's there, and\nsince I know that's there,\n\n364\n00:21:58.437 --> 00:22:05.397\nwhat I can do is say well,\nI wanna say this.sounds.PEW.play.\n\n365\n00:22:05.397 --> 00:22:08.270\nNow, I could do a dot then here and\ndo some other things,\n\n366\n00:22:08.270 --> 00:22:10.242\nbecause this is returning a promise.\n\n367\n00:22:10.242 --> 00:22:15.802\nI don't need to, I just wanna queue\nit up and it should be fairly quick.\n\n368\n00:22:15.802 --> 00:22:21.245\nNot always guaranteed that it's entirely\naccurate, but let's just see if it.\n\n369\n00:22:21.245 --> 00:22:24.123\n[SOUND]\n\n370\n00:22:24.123 --> 00:22:26.966\n&gt;&gt; [LAUGH]\n&gt;&gt; So-\n\n371\n00:22:26.966 --> 00:22:27.819\n&gt;&gt; Brilliant!\n\n372\n00:22:27.819 --> 00:22:32.493\n&gt;&gt; There we have it,\nwe have our pew pew pew, right?\n\n373\n00:22:32.493 --> 00:22:35.973\n&gt;&gt; Brilliant.\n&gt;&gt; So there is pew, [SOUND] ha, so\n\n374\n00:22:35.973 --> 00:22:38.343\nthat makes me happy.\n\n375\n00:22:38.343 --> 00:22:40.777\nAnd now when I come back and\nturn that other sound back on,\n\n376\n00:22:40.777 --> 00:22:43.631\nwe're not done with sounds, but\nI think this is a good final test.\n\n377\n00:22:43.631 --> 00:22:48.456\nIt looks like we're gonna have to come\nback to a part two to finish those out.\n\n378\n00:22:48.456 --> 00:22:54.174\nBut [COUGH] if I come back to the app,\nand I turn on the game play audio.\n\n379\n00:22:54.174 --> 00:22:55.749\nLet's see here.\n\n380\n00:22:55.749 --> 00:23:00.863\n[SOUND] You'll notice something actually,\n\n381\n00:23:00.863 --> 00:23:05.844\nZach, the sounds do play at the same time.\n\n382\n00:23:05.844 --> 00:23:07.899\n&gt;&gt; I know that it's making me laugh.\n\n383\n00:23:07.899 --> 00:23:10.845\n[LAUGH] Brilliant, very well done.\n\n384\n00:23:10.845 --> 00:23:14.504\n&gt;&gt; So you gotta save this, there we go.\n\n385\n00:23:14.504 --> 00:23:16.586\nTurn that [SOUND].\nSo it's funny, but it can be annoying,\n\n386\n00:23:16.586 --> 00:23:17.942\nI have full recognition of that.\n\n387\n00:23:17.942 --> 00:23:21.981\n[SOUND] But notice, I shot two times,\nbut it didn't go pew pew two times.\n\n388\n00:23:21.981 --> 00:23:23.901\n&gt;&gt; And I do have a question for you.\n\n389\n00:23:23.901 --> 00:23:24.715\nI'm sure you can do this.\n\n390\n00:23:24.715 --> 00:23:26.541\nHow do adjust the volume?\n\n391\n00:23:26.541 --> 00:23:28.652\nLike one's louder than the other,\nhotter than the other?\n\n392\n00:23:28.652 --> 00:23:29.385\nCan you do that?\n\n393\n00:23:29.385 --> 00:23:34.374\n&gt;&gt; So you can do that in the browser,\nthe audio API is pretty crazy actually.\n\n394\n00:23:34.374 --> 00:23:37.722\nSo you saw all of those things earlier\nin the episode, like audio buffer,\n\n395\n00:23:37.722 --> 00:23:39.831\naudio context,\nyou can do some crazy things.\n\n396\n00:23:39.831 --> 00:23:43.886\nMy recommendation,\nwhat I did is when I edited the sounds,\n\n397\n00:23:43.886 --> 00:23:45.924\nI actually changed the gain.\n\n398\n00:23:45.924 --> 00:23:51.326\nAnd for something simple,\nit's probably easier to edit the file,\n\n399\n00:23:51.326 --> 00:23:54.281\nto actually give relative amounts.\n\n400\n00:23:54.281 --> 00:23:58.812\nBut if I am not mistaken,\nactually, let's just look, so\n\n401\n00:23:58.812 --> 00:24:02.418\nif we look and volume,\nyou can actually modify\n\n402\n00:24:02.418 --> 00:24:05.763\nthe relative volume as we have seen here-\n&gt;&gt; So\n\n403\n00:24:05.763 --> 00:24:07.993\nyou can do that after you've\nrecorded that actual sound?\n\n404\n00:24:07.993 --> 00:24:13.203\n&gt;&gt; Yeah, so I'm not sure what\nthe default value is for that.\n\n405\n00:24:13.203 --> 00:24:17.467\nSo it goes from zero to one,\nwhere one is the possible loudest,\n\n406\n00:24:17.467 --> 00:24:20.450\nI'm not entirely sure where it starts out.\n\n407\n00:24:20.450 --> 00:24:23.053\nIf it's like 0.5 and\nthen you can make it louder, or\n\n408\n00:24:23.053 --> 00:24:24.932\nif it says this is the loudest it can be.\n\n409\n00:24:24.932 --> 00:24:30.499\nAnd then something crazy you could do,\nand it would require some restructuring,\n\n410\n00:24:30.499 --> 00:24:34.303\nthat dot then that we're doing,\nor that we didn't do.\n\n411\n00:24:34.303 --> 00:24:39.681\nIf we come over here into the main.js,\nwe could say if we passed\n\n412\n00:24:39.681 --> 00:24:45.471\nin the background audio, or\nwe could handle a keyboard event here.\n\n413\n00:24:45.471 --> 00:24:49.921\nHey, bring that down, play the pew and\nthen bring that volume back up.\n\n414\n00:24:49.921 --> 00:24:51.641\nBut it would require some restructuring.\n\n415\n00:24:51.641 --> 00:24:55.915\nSo for me, initially what I would\ndo is bring this into an audio,\n\n416\n00:24:55.915 --> 00:24:59.953\nlike a sound editor,\nwhich there are some decent free ones,\n\n417\n00:24:59.953 --> 00:25:02.822\nbring down the relative gains and things.\n\n418\n00:25:02.822 --> 00:25:06.521\nAnd that way,\nyou're not dynamically changing this.\n\n419\n00:25:06.521 --> 00:25:11.853\nBut, [COUGH] there's a second\nthing that kind of bothers me.\n\n420\n00:25:11.853 --> 00:25:16.406\nAnd [SOUND] I actually rapid\nfired two pellets, but\n\n421\n00:25:16.406 --> 00:25:19.992\nI only heard my pew sound once, right?\n\n422\n00:25:19.992 --> 00:25:27.133\nReally, what I should hear is pew pew,\nlike [SOUND] real fast, right?\n\n423\n00:25:27.133 --> 00:25:29.450\nWe need to fix that,\ncuz that would bug me.\n\n424\n00:25:29.450 --> 00:25:32.809\nBut I know we have five minutes left,\nthere's a few other things that I wanted\n\n425\n00:25:32.809 --> 00:25:34.994\nto do, I think we need to\ncome back with a part two.\n\n426\n00:25:34.994 --> 00:25:39.410\nFix that, add the final sounds, and,\nwell, see what comes to fruition.\n\n427\n00:25:39.410 --> 00:25:42.834\n&gt;&gt; Fantastic, can't wait,\nI'm enjoying the heck out of this.\n\n428\n00:25:42.834 --> 00:25:47.023\nHTML5 Canvas Projects, this is\nadding sounds with the one and only,\n\n429\n00:25:47.023 --> 00:25:48.160\nJustin Dennison.\n\n430\n00:25:48.160 --> 00:25:50.320\nPart two will be coming up,\nthis has been part one.\n\n431\n00:25:50.320 --> 00:25:52.740\nBefore we move,\nanything else you'd like to say?\n\n432\n00:25:52.740 --> 00:25:57.685\n&gt;&gt; Well, definitely stay tuned, you\nhaven't heard all the sound effects and\n\n433\n00:25:57.685 --> 00:26:01.252\nI was quite proud of a few of them,\nso [SOUND] stay tuned.\n\n434\n00:26:01.252 --> 00:26:03.898\n&gt;&gt; And by the way, make sure you\nwatch every single episode of\n\n435\n00:26:03.898 --> 00:26:06.382\nthe HTML5 Canvas Projects,\nyou'll be glad you did.\n\n436\n00:26:06.382 --> 00:26:10.447\nAnd take a look at the other videos in\nour course library, hundreds of videos,\n\n437\n00:26:10.447 --> 00:26:13.570\nall designed for one thing,\nto help you go further.\n\n438\n00:26:13.570 --> 00:26:16.810\nAnd tell everybody you know about\nDevProTV, they'll be glad you did.\n\n439\n00:26:16.810 --> 00:26:18.380\nThanks for watching I'm Zach Memos.\n\n440\n00:26:18.380 --> 00:26:19.014\n&gt;&gt; And I'm Justin Dennison!\n\n441\n00:26:19.014 --> 00:26:20.905\n&gt;&gt; And we will see you soon.\n\n442\n00:26:20.905 --> 00:26:25.169\n[MUSIC]\n\n",
          "vimeoId": "239639126"
        },
        {
          "description": "In this episode, Zack and Justin continue adding sounds to the game including fixing the lag between rapid fire shots and the pellet sound, the game over sound as well as the explosion sounds upon enemy destruction.",
          "length": "1211",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-8-2-adding_sounds_pt2-102417-PGM.00_20_02_27.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-8-2-adding_sounds_pt2-102417-PGM.00_20_02_27.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-8-2-adding_sounds_pt2-102417-PGM.00_20_02_27.Still001-sm.jpg",
          "title": "Adding Sounds Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.006 --> 00:00:10.006\n[MUSIC]\n\n2\n00:00:12.689 --> 00:00:13.843\nHello and thank you for\n\n3\n00:00:13.843 --> 00:00:17.685\nchoosing DEVPRO.TV, empowering\nthe world through engaging learning.\n\n4\n00:00:17.685 --> 00:00:22.780\nI'm your host Zach Memos as we continue\non with HTML5 canvas projects.\n\n5\n00:00:22.780 --> 00:00:24.630\nAdding sounds part deux.\n\n6\n00:00:24.630 --> 00:00:26.513\nThere was a part one, this is part two.\n\n7\n00:00:26.513 --> 00:00:29.259\nAnd Justin Denison is here\nto add those sounds for us.\n\n8\n00:00:29.259 --> 00:00:30.860\nJustin great to have you.\n\n9\n00:00:30.860 --> 00:00:32.280\n&gt;&gt; It is good to be back in the studio.\n\n10\n00:00:32.280 --> 00:00:33.368\nAnd how are you today Zach?\n\n11\n00:00:33.368 --> 00:00:34.185\n&gt;&gt; I am excited.\n\n12\n00:00:34.185 --> 00:00:37.940\nThis has been a wonderful series and\nI enjoy every bit of it.\n\n13\n00:00:37.940 --> 00:00:38.900\nLet's add some more sound.\n\n14\n00:00:38.900 --> 00:00:42.715\n&gt;&gt; All right so let's talk about\nwhere we kinda left off right?\n\n15\n00:00:42.715 --> 00:00:43.244\n&gt;&gt; Okay.\n\n16\n00:00:43.244 --> 00:00:47.348\n&gt;&gt; So we started adding the sounds, and we\nran into a little bit of a problem because\n\n17\n00:00:47.348 --> 00:00:51.085\nthe on load function for a sound doesn't\nquite work the same as it does for\n\n18\n00:00:51.085 --> 00:00:53.700\nan image for the asynchronous loading.\n\n19\n00:00:53.700 --> 00:00:54.830\nWe figured that out.\n\n20\n00:00:54.830 --> 00:00:58.320\nAnd along that way,\nwe got some background noise, right?\n\n21\n00:00:58.320 --> 00:00:59.272\nI call it noise.\n\n22\n00:00:59.272 --> 00:01:00.216\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n23\n00:01:00.216 --> 00:01:02.084\n&gt;&gt; Music, background music.\n\n24\n00:01:02.084 --> 00:01:06.500\nAnd then the actual kind of fighters,\nlike pellet.\n\n25\n00:01:06.500 --> 00:01:09.060\nThere is a sound associated\nwith firing a pellet.\n\n26\n00:01:09.060 --> 00:01:10.539\nNow, we're not quite finished there.\n\n27\n00:01:10.539 --> 00:01:13.660\nThere's a couple of other\nthings that are weird.\n\n28\n00:01:13.660 --> 00:01:15.400\nBut let's see where we are.\n\n29\n00:01:15.400 --> 00:01:17.900\nLet's identify what's going on.\n\n30\n00:01:17.900 --> 00:01:21.095\nAnd then let's move forward to\nadding those additional sounds.\n\n31\n00:01:21.095 --> 00:01:24.986\nNow I will forewarn you,\none of the sounds that game over sound,\n\n32\n00:01:24.986 --> 00:01:29.640\nit's one of those things where maybe\nit's a little bit of an oversight.\n\n33\n00:01:29.640 --> 00:01:33.424\nOnly have a game over sound if you lose.\n\n34\n00:01:33.424 --> 00:01:38.668\nI totally forgot about a game\nover sound if you win.\n\n35\n00:01:38.668 --> 00:01:42.958\nNow I could always go back and record\nthat, or maybe you can add one yourself,\n\n36\n00:01:42.958 --> 00:01:47.186\nbut that sound isn't gonna come into\nplay until we can figure out some game.\n\n37\n00:01:47.186 --> 00:01:50.884\nWe just want to make sure that it loads,\nso, that one won't be used until we\n\n38\n00:01:50.884 --> 00:01:54.720\nadd some game over conditions which is\nprobably going to be another episode.\n\n39\n00:01:54.720 --> 00:01:56.767\nBut, we can do some other ones.\n\n40\n00:01:56.767 --> 00:02:00.080\nExplosions of the fighters,\nwe gotta fix some things, but\n\n41\n00:02:00.080 --> 00:02:02.940\nbefore we get into that,\nlet's see where we were.\n\n42\n00:02:02.940 --> 00:02:07.300\nSo if we take a look at my screen here and\nI'm just gonna refresh.\n\n43\n00:02:07.300 --> 00:02:15.261\nAnd you can hear but notice if I\nrapid fire you only here one pew.\n\n44\n00:02:15.261 --> 00:02:18.587\nBut there's two bullets right,\nthere's two pellets that they get fired.\n\n45\n00:02:18.587 --> 00:02:20.710\nSo here we go I'm gonna do it again.\n\n46\n00:02:21.860 --> 00:02:24.077\nNotice that's a single pew.\n\n47\n00:02:24.077 --> 00:02:29.495\nI would really like for and part of\nthat is I'm using a single sound object,\n\n48\n00:02:29.495 --> 00:02:32.390\nan audio object in JavaScript.\n\n49\n00:02:32.390 --> 00:02:34.840\nI'd really like for\nthat to play regardless.\n\n50\n00:02:34.840 --> 00:02:36.740\nEven for over top of each other.\n\n51\n00:02:36.740 --> 00:02:41.290\nNow back in part one I said the sound\nclips were very small except for\n\n52\n00:02:41.290 --> 00:02:42.180\nthe background music.\n\n53\n00:02:42.180 --> 00:02:43.590\nAnd that's intentional.\n\n54\n00:02:43.590 --> 00:02:49.300\nSo if I hit that it should play only for\na very short span of time.\n\n55\n00:02:49.300 --> 00:02:54.940\nAnd part of that is I'm not able to\nreplay something that's already playing.\n\n56\n00:02:54.940 --> 00:02:58.334\nI would have to do some check,\nstop, rewind, play again.\n\n57\n00:02:58.334 --> 00:03:04.154\nBut I feel like there might\nbe a way to get through this.\n\n58\n00:03:04.154 --> 00:03:09.301\nSo if we come over here and look where\nthat's being played we have this\n\n59\n00:03:09.301 --> 00:03:15.091\nsounds.pew.play and I think we're\ngonna have to modify something there.\n\n60\n00:03:15.091 --> 00:03:17.570\nNow how did that come into effect?\n\n61\n00:03:17.570 --> 00:03:22.080\nIf I come over in the app.js I\ncreated this sounds object that I'm\n\n62\n00:03:22.080 --> 00:03:25.934\npassing into the game and\nwhat I may do is collect this for\n\n63\n00:03:25.934 --> 00:03:31.160\na couple of the other objects,\nthe sounds that i have to pass around.\n\n64\n00:03:31.160 --> 00:03:36.607\nAgain there's probably a better\nstructure to this that I can enforce but\n\n65\n00:03:36.607 --> 00:03:41.515\nit would take an architectural\nchange that maybe not be worth it in\n\n66\n00:03:41.515 --> 00:03:43.764\nthe context of this project.\n\n67\n00:03:43.764 --> 00:03:48.447\nBut just to show you this game audio\nI've actually set it to loop, so\n\n68\n00:03:48.447 --> 00:03:52.483\nthat sound's there,\nI'm not gonna play the whole time.\n\n69\n00:03:52.483 --> 00:03:56.163\nBut if we, [SOUND]\n&gt;&gt; [LAUGH]\n\n70\n00:03:56.163 --> 00:03:57.645\n&gt;&gt; And then we can play and\n\n71\n00:03:57.645 --> 00:03:59.912\nthat's running the background.\n\n72\n00:03:59.912 --> 00:04:03.540\nSo would think of those sounds\nalways running in the background.\n\n73\n00:04:03.540 --> 00:04:04.489\nLet me turn that off.\n\n74\n00:04:04.489 --> 00:04:06.783\n&gt;&gt; It sounds almost like you\nwere channeling Bobby McPharon.\n\n75\n00:04:06.783 --> 00:04:09.383\n&gt;&gt; [LAUGH] A little bit yeah.\n\n76\n00:04:09.383 --> 00:04:13.135\n&gt;&gt; Yeah, he's a wonderful speaker,\nby the way.\n\n77\n00:04:13.135 --> 00:04:13.697\n&gt;&gt; Yeah.\n\n78\n00:04:13.697 --> 00:04:15.220\n&gt;&gt; If you've ever seen any of his talks.\n\n79\n00:04:15.220 --> 00:04:21.020\nSo I want the pew to play on rapid fire.\n\n80\n00:04:21.020 --> 00:04:25.050\nEven if I rapid fire,\nI want it go pew pew, pew pew, right?\n\n81\n00:04:25.050 --> 00:04:27.840\nSo let's do a little bit\nof exploration here.\n\n82\n00:04:29.100 --> 00:04:32.460\nSo let's say audio equals new audio.\n\n83\n00:04:32.460 --> 00:04:37.302\nNow this doesn't have anything associated\nwith it, but I look at audio and\n\n84\n00:04:37.302 --> 00:04:46.670\nI say console.log.dirAudio, all right.\n\n85\n00:04:46.670 --> 00:04:50.693\nSo here's audio and\nI come down here and I look.\n\n86\n00:04:50.693 --> 00:04:55.847\nHm, so here's controls and hm.\n\n87\n00:04:55.847 --> 00:05:01.790\nThere's clone nodes, so interesting.\n\n88\n00:05:01.790 --> 00:05:04.460\nClone nodes, that might be something here.\n\n89\n00:05:04.460 --> 00:05:08.970\nSo if we again kinda wrap this up and\nlook at audio.\n\n90\n00:05:11.520 --> 00:05:15.071\nClone node, what do I get?\n\n91\n00:05:15.071 --> 00:05:19.121\nI get another audio object, so\nand I'll actually clone this, and\n\n92\n00:05:19.121 --> 00:05:20.650\nget a temporary object.\n\n93\n00:05:20.650 --> 00:05:22.390\nNow, in the context of this game,\n\n94\n00:05:22.390 --> 00:05:25.160\nI don't have to worry about\nperformance it's a pretty simple game.\n\n95\n00:05:25.160 --> 00:05:26.400\nDo keep in mind if you did this,\n\n96\n00:05:26.400 --> 00:05:29.800\nit like rapid fire, crazy,\nyou'll be cloning a bunch of nodes,\n\n97\n00:05:29.800 --> 00:05:34.150\nwhich could be a CPU, or memory\nperformance concern within the browser.\n\n98\n00:05:34.150 --> 00:05:39.098\nBut for us they're kinda gonna get\ngarbage collected pretty quickly.\n\n99\n00:05:39.098 --> 00:05:42.748\nBut do keep in mind you might\nhave to be careful there.\n\n100\n00:05:42.748 --> 00:05:47.506\nI think that might solve\nsomething because instead of\n\n101\n00:05:47.506 --> 00:05:52.157\nusing the same object to\nplay both times I hit Enter,\n\n102\n00:05:52.157 --> 00:05:59.160\nI wanna use this one object this initial\nblaster sound here, right, the pew.\n\n103\n00:05:59.160 --> 00:06:05.000\nI come over into the game\nobject the @taggameobject.\n\n104\n00:06:05.000 --> 00:06:10.114\nInstead of saying this .sounds .PEW.play I\n\n105\n00:06:10.114 --> 00:06:15.364\nthink if I do something like this,\nclone node.\n\n106\n00:06:15.364 --> 00:06:20.551\nSo I'm going to get a copy of that object,\nright with everything already pre loaded.\n\n107\n00:06:20.551 --> 00:06:24.577\nAnd hit Play and then if I hit play\nRapidFire, I'm going to get a play over\n\n108\n00:06:24.577 --> 00:06:28.430\nhere and a play over here instead\nof a play on a single one, right?\n\n109\n00:06:28.430 --> 00:06:31.910\nIt's kind of like the double,\nthis is a horrible example.\n\n110\n00:06:31.910 --> 00:06:33.752\nYou remember double cassette\ntapes like juke boxes?\n\n111\n00:06:33.752 --> 00:06:34.379\n&gt;&gt; Yeah.\n\n112\n00:06:34.379 --> 00:06:39.229\n&gt;&gt; No, I can't remember but I am\npretty sure I've tried to play both of\n\n113\n00:06:39.229 --> 00:06:43.993\nthem at the same time and every once\nin a while I could get it to where I\n\n114\n00:06:43.993 --> 00:06:48.267\nwould have like Meatloaf and\nBach playing at the same time.\n\n115\n00:06:48.267 --> 00:06:52.203\nSo, it was creative, well,\nit probably didn't last too long, so\n\n116\n00:06:52.203 --> 00:06:54.076\nI don't know if I would do that.\n\n117\n00:06:54.076 --> 00:06:57.021\nBut that's a horrible example cuz I'm not\neven sure that everybody is like yeah.\n\n118\n00:06:57.021 --> 00:06:58.771\n&gt;&gt; There might be a few\npeople going cassettes.\n\n119\n00:06:58.771 --> 00:07:00.420\n&gt;&gt; Yeah what is a cassette.\n\n120\n00:07:00.420 --> 00:07:02.090\n&gt;&gt; They make a funny\nnoise if you shake them.\n\n121\n00:07:02.090 --> 00:07:04.534\n&gt;&gt; Yeah and\npull that stuff out of the center and\n\n122\n00:07:04.534 --> 00:07:06.924\nyou have to wind that\nback up with a pencil.\n\n123\n00:07:06.924 --> 00:07:10.328\nBut I think by getting that copy it's\nessentially like I have two radios\n\n124\n00:07:10.328 --> 00:07:11.130\nplaying right?\n\n125\n00:07:11.130 --> 00:07:12.610\nI can play different things.\n\n126\n00:07:13.800 --> 00:07:17.601\nOr if you have the car radio on but\nyou have your phone or\n\n127\n00:07:17.601 --> 00:07:22.012\nan MP3 player and\nyou're playing different music, right.\n\n128\n00:07:22.012 --> 00:07:27.463\nThey might have the same song available,\nbut you can play them at the same time and\n\n129\n00:07:27.463 --> 00:07:30.840\nthey may be at different time intervals,\nright?\n\n130\n00:07:32.180 --> 00:07:33.538\nSo I think this is gonna work.\n\n131\n00:07:33.538 --> 00:07:35.274\nCross your fingers, Zach we'll see.\n\n132\n00:07:35.274 --> 00:07:39.407\nAnd don't save, it should actually reload.\n\n133\n00:07:39.407 --> 00:07:40.267\nAnd you have to click.\n\n134\n00:07:40.267 --> 00:07:41.602\n&gt;&gt; [NOISE]\n&gt;&gt; Ha.\n\n135\n00:07:41.602 --> 00:07:45.581\n&gt;&gt; [NOISE]\n&gt;&gt; Ooh.\n\n136\n00:07:45.581 --> 00:07:47.186\n&gt;&gt; Ha, so now I've got-\n&gt;&gt; Nice.\n\n137\n00:07:47.186 --> 00:07:48.755\n&gt;&gt; A rapid fire pew.\n\n138\n00:07:48.755 --> 00:07:49.956\nPew, pew, pew.\n\n139\n00:07:49.956 --> 00:07:52.757\nSo that, that fix then,\nI'm good with that.\n\n140\n00:07:52.757 --> 00:07:54.389\nI'm not gonna turn\nthe background noise back on.\n\n141\n00:07:54.389 --> 00:07:58.128\nBut let's go see what are some\nother things that I have.\n\n142\n00:07:58.128 --> 00:08:03.780\nNow I'm thinking that\nwhen a pellet collides,\n\n143\n00:08:03.780 --> 00:08:07.310\nif I come over here and I look,\n\n144\n00:08:07.310 --> 00:08:12.419\nI have this explode.mp3 [SOUND], right?\n\n145\n00:08:12.419 --> 00:08:19.471\nSo that would be a nice fallback,\nlike a nice little indicator.\n\n146\n00:08:19.471 --> 00:08:23.860\nSo if I come down here and I look,\nI look back through my code.\n\n147\n00:08:25.806 --> 00:08:28.820\nPellets for\neach if the swarm gets hit by the pellet.\n\n148\n00:08:30.250 --> 00:08:34.930\nOkay, let's go check that\nget hits by the pellet.\n\n149\n00:08:34.930 --> 00:08:40.805\nSo if I come over to the swarm,\ngets hit by, and then, well,\n\n150\n00:08:40.805 --> 00:08:46.360\nthat means that one of\nthe attackers would have been hit.\n\n151\n00:08:46.360 --> 00:08:48.580\nSo I can actually put it there\nwithout having to pass it down.\n\n152\n00:08:48.580 --> 00:08:52.980\nAnd I think I'm gonna do that, but\nI could make this part of the swarm and\n\n153\n00:08:52.980 --> 00:08:55.860\nhave the swarm maintain all of its\nown sounds and things like that.\n\n154\n00:08:55.860 --> 00:08:59.600\nBut because of this game object,\nit's kind of watching over and\n\n155\n00:08:59.600 --> 00:09:04.690\nbeing the overseer, so to speak,\nI'm gonna keep it here.\n\n156\n00:09:04.690 --> 00:09:09.740\nNow, that does mean that\nthe sounds object needs to\n\n157\n00:09:09.740 --> 00:09:15.350\nbe change over in app, and\nI also need to load a new sound.\n\n158\n00:09:15.350 --> 00:09:21.314\nSo, let's loadAudio and\n\n159\n00:09:21.314 --> 00:09:29.730\n./fx/explode.mp3, like so.\n\n160\n00:09:29.730 --> 00:09:35.787\nAll right, and that means that right\nhere I have an explosion sound.\n\n161\n00:09:35.787 --> 00:09:38.970\nAll right,\nlet's see if that explosion sound\n\n162\n00:09:38.970 --> 00:09:43.946\nactually makes a noise first before cuz\nI wanna make sure that it plays and\n\n163\n00:09:43.946 --> 00:09:48.090\nit's what I expect before I\ntry to go wiring up things.\n\n164\n00:09:48.090 --> 00:09:53.359\nSo if I come here and\nto say explosion.play(),\n\n165\n00:09:53.359 --> 00:09:57.516\nand look, yeah, there it is, [SOUND].\n\n166\n00:09:57.516 --> 00:09:59.803\n&gt;&gt; [LAUGH]\n&gt;&gt; That was a little rougher to make.\n\n167\n00:09:59.803 --> 00:10:00.824\nSo okay.\n\n168\n00:10:00.824 --> 00:10:05.011\nSo let's call this boom, and\n\n169\n00:10:05.011 --> 00:10:10.260\nthat's the explosion sound.\n\n170\n00:10:10.260 --> 00:10:13.460\nAnd part of the reason I arranged\nit this way is to show you, hey,\n\n171\n00:10:13.460 --> 00:10:19.045\nI can bundle these up and\nrename them and provide some context.\n\n172\n00:10:19.045 --> 00:10:20.270\n&gt;&gt; Mister I have a question.\n\n173\n00:10:20.270 --> 00:10:21.360\n&gt;&gt; All right.\n\n174\n00:10:21.360 --> 00:10:24.180\n&gt;&gt; So can you double up on the sound?\n\n175\n00:10:24.180 --> 00:10:27.834\nLike when I hear the [SOUND],\nit seemed kind of muted, right?\n\n176\n00:10:27.834 --> 00:10:28.960\nYou probably did that on purpose.\n\n177\n00:10:28.960 --> 00:10:32.380\nBut can you double up on the sound\nto make it more amplified.\n\n178\n00:10:32.380 --> 00:10:34.680\n&gt;&gt; So actually that's interesting.\n\n179\n00:10:34.680 --> 00:10:36.855\nWe can give it a try, right?\n\n180\n00:10:36.855 --> 00:10:42.492\n[SOUND] Right, and\nwe may try some other things.\n\n181\n00:10:42.492 --> 00:10:47.870\nWe will try that once we get this\nkind of over into the AmmoAttack.\n\n182\n00:10:47.870 --> 00:10:49.090\nSo if I come over here,\n\n183\n00:10:49.090 --> 00:10:52.740\nthis sound object is actually being\npass into the game object now.\n\n184\n00:10:52.740 --> 00:10:56.050\nAnd I came back to main and sounds here.\n\n185\n00:10:56.050 --> 00:10:58.900\nSo when this gets hit by, right?\n\n186\n00:10:58.900 --> 00:11:02.048\nWhen this gets hit by,\nlike so, then I want to say\n\n187\n00:11:02.048 --> 00:11:09.080\nthis.sounds.BOOM.play, like so.\n\n188\n00:11:09.080 --> 00:11:09.640\n&gt;&gt; Okay.\n\n189\n00:11:09.640 --> 00:11:12.930\n&gt;&gt; So lets see that and then we'll try\nyours by just duplicating it, right?\n\n190\n00:11:12.930 --> 00:11:16.150\nBy doing a clone node and\ngetting twice as many.\n\n191\n00:11:16.150 --> 00:11:21.260\nAnd we'll do a little bit of\nplaying around here with this one.\n\n192\n00:11:21.260 --> 00:11:22.160\nSo if we refresh.\n\n193\n00:11:24.950 --> 00:11:25.450\nI missed.\n\n194\n00:11:29.867 --> 00:11:33.290\nSo [LAUGH] that's fun, that's fun.\n\n195\n00:11:33.290 --> 00:11:35.400\nBut now let's try your idea Zach.\n\n196\n00:11:35.400 --> 00:11:39.330\nSo I know that if I call play like this,\nthat's not\n\n197\n00:11:39.330 --> 00:11:42.030\ngonna change anything because I'm actually\nkind of playing on the same object and\n\n198\n00:11:42.030 --> 00:11:44.290\none is already playing, all right?\n\n199\n00:11:44.290 --> 00:11:46.760\nSo I'm gonna use that clone node trick.\n\n200\n00:11:48.627 --> 00:11:53.911\nLike so, and see if I can get two,\nkind of rapid fire,\n\n201\n00:11:53.911 --> 00:11:59.915\n[SOUND] and see if it changes\nmaybe the volume or the effect..\n\n202\n00:11:59.915 --> 00:12:05.755\n[SOUND] And\ndoesn't really sound much different.\n\n203\n00:12:05.755 --> 00:12:06.580\n&gt;&gt; Not much different.\n\n204\n00:12:07.970 --> 00:12:08.690\nBut it is louder.\n\n205\n00:12:08.690 --> 00:12:10.802\n&gt;&gt; It is a little bit louder, right?\n\n206\n00:12:10.802 --> 00:12:13.710\nNow, [COUGH] but that brings up\nan interesting point, right?\n\n207\n00:12:13.710 --> 00:12:18.360\nI would modify this, and I think we talked\nabout that a little bit in part one.\n\n208\n00:12:19.870 --> 00:12:24.138\nLet's, just for giggles because\nmaybe I wanna bring really,\n\n209\n00:12:24.138 --> 00:12:27.860\nlet's see if we can modify\nthe volume of this in situ.\n\n210\n00:12:27.860 --> 00:12:29.830\n&gt;&gt; Right, we did mention that before.\n\n211\n00:12:29.830 --> 00:12:33.240\n&gt;&gt; Let's bring this up just to\nsee how this volume works out.\n\n212\n00:12:34.510 --> 00:12:39.440\nNow full disclosure, I pre processed\nthese, brought up the game,\n\n213\n00:12:39.440 --> 00:12:42.380\nI'm not sure if this is going\nto change anything, but\n\n214\n00:12:42.380 --> 00:12:46.500\nit's kind of an in situ to experiment,\nso to speak.\n\n215\n00:12:46.500 --> 00:12:51.620\nSo let's do this, actually I probably\n\n216\n00:12:51.620 --> 00:12:57.353\nneed to do that prior to\nputting these in here.\n\n217\n00:12:57.353 --> 00:13:02.196\nCuz otherwise every time I may be\nadding volume to the sound but\n\n218\n00:13:02.196 --> 00:13:06.510\nyou know what,\nwe'll just put it right here.\n\n219\n00:13:06.510 --> 00:13:12.410\nSo we call play, but before we call\nplay let's call this.sounds.BOOM.volume.\n\n220\n00:13:12.410 --> 00:13:16.670\nAnd let's turn it all the way up,\nwhich is 1, right?\n\n221\n00:13:16.670 --> 00:13:18.166\nSo it goes from 0 to 1, 0 being nothing.\n\n222\n00:13:18.166 --> 00:13:19.411\n&gt;&gt; Right you mentioned that before, yeah?\n\n223\n00:13:19.411 --> 00:13:21.100\n&gt;&gt; 1 being the maximum.\n\n224\n00:13:21.100 --> 00:13:25.650\nNow, again,\nI'm not sure what the default is,\n\n225\n00:13:25.650 --> 00:13:29.090\nbecause that's not part of\nthe documentation that I see.\n\n226\n00:13:29.090 --> 00:13:32.300\nIt might be in this somewhere,\nbut let's go see.\n\n227\n00:13:32.300 --> 00:13:33.010\nWe refresh.\n\n228\n00:13:36.014 --> 00:13:37.890\nSo, looks like it was\nalready at it's loudest.\n\n229\n00:13:37.890 --> 00:13:39.270\n&gt;&gt; Yeah.\n&gt;&gt; I would have to go back and\n\n230\n00:13:39.270 --> 00:13:40.530\npre-process this.\n\n231\n00:13:40.530 --> 00:13:43.670\nSo because of that,\nI'm gonna take that out, okay?\n\n232\n00:13:43.670 --> 00:13:47.080\nBut if you do know that\nmaybe some reason that it's\n\n233\n00:13:47.080 --> 00:13:51.430\nnot at it's loudest volume is something\nthat you can modify on an audio object.\n\n234\n00:13:52.840 --> 00:13:57.290\nSo I got boom, I got pew,\nI got my background music.\n\n235\n00:13:57.290 --> 00:13:59.750\nWhat else do I have?\n\n236\n00:13:59.750 --> 00:14:02.800\nWell, I have my game over.\n\n237\n00:14:02.800 --> 00:14:06.526\nNow I just want to make sure\nthat the sound is in there and\n\n238\n00:14:06.526 --> 00:14:08.471\nit actually plays, right?\n\n239\n00:14:08.471 --> 00:14:14.370\nBut I'm gonna have to do some other work\nto figure out when the game over occurs.\n\n240\n00:14:14.370 --> 00:14:19.510\nSo let's go ahead and bring that in,\nmake sure that the sound plays and\n\n241\n00:14:19.510 --> 00:14:22.460\nthen we'll see how this comes to fruition.\n\n242\n00:14:22.460 --> 00:14:24.650\nYes, I do have a slight smirk on my face.\n\n243\n00:14:24.650 --> 00:14:25.260\n&gt;&gt; Yes you do.\n\n244\n00:14:25.260 --> 00:14:27.060\n&gt;&gt; This one's fun.\n\n245\n00:14:27.060 --> 00:14:28.660\nI think it's fun.\n\n246\n00:14:28.660 --> 00:14:30.840\nIt was fun for me to make anyway.\n\n247\n00:14:30.840 --> 00:14:38.312\nSo ./fx/game-over,\nI think that's what I called it, mp3.\n\n248\n00:14:38.312 --> 00:14:43.680\nAll right, so that was explosion and\nthis is game over.\n\n249\n00:14:46.160 --> 00:14:52.289\nSo let's just try it here,\ngameOver.play, like so.\n\n250\n00:14:54.797 --> 00:14:55.580\nHey, it played.\n\n251\n00:14:55.580 --> 00:14:57.810\n[LAUGH]\n&gt;&gt; [LAUGH] Very nice.\n\n252\n00:14:57.810 --> 00:15:00.030\n&gt;&gt; That one was pretty fun.\n\n253\n00:15:00.030 --> 00:15:04.550\nNow, I don't need it in\nthis main setup process.\n\n254\n00:15:04.550 --> 00:15:07.610\nI need it inside of the game object.\n\n255\n00:15:07.610 --> 00:15:14.760\nSo, Zach, so I went pew, boom,\nwhat's kind of a shorter game over?\n\n256\n00:15:16.080 --> 00:15:19.740\nAnd actually, this is the negative one,\nthis is if you lose, right?\n\n257\n00:15:19.740 --> 00:15:23.740\nThere's more or less,\nthere's not a lot of winning, so to speak.\n\n258\n00:15:24.810 --> 00:15:26.048\nTotally forgot, didn't I?\n\n259\n00:15:26.048 --> 00:15:27.162\nOops.\n\n260\n00:15:27.162 --> 00:15:30.300\n&gt;&gt; [LAUGH]\n&gt;&gt; So let's see here.\n\n261\n00:15:31.940 --> 00:15:34.042\nLet's say lose.\n\n262\n00:15:36.101 --> 00:15:39.740\nJust to convey an appropriate meaning,\nso gameOver.\n\n263\n00:15:39.740 --> 00:15:41.380\n&gt;&gt; Yeah, I was gonna say sorry,\nwa, wa, wa.\n\n264\n00:15:41.380 --> 00:15:44.291\n[LAUGH]\n&gt;&gt; [LAUGH] Wa, wa, wa!\n\n265\n00:15:44.291 --> 00:15:48.292\nThat one would be good,\nactually let's go with wa.\n\n266\n00:15:48.292 --> 00:15:53.920\n[SOUND]\n&gt;&gt; Is that how I would spell [SOUND]?\n\n267\n00:15:53.920 --> 00:15:56.536\n&gt;&gt; Yeah, [SOUND].\n\n268\n00:15:56.536 --> 00:16:00.356\n&gt;&gt; All right, so we've now passed\nthat over, we have the sounds.\n\n269\n00:16:00.356 --> 00:16:03.491\nAnd let's just make sure\nthat that actually plays,\n\n270\n00:16:03.491 --> 00:16:08.490\nthat I've passed it over, and I think this\nwill be a good time to kinda tidy this up.\n\n271\n00:16:08.490 --> 00:16:12.060\nCuz, essentially, it's kind of rinse and\nrepeat after this, but\n\n272\n00:16:12.060 --> 00:16:15.460\nin order to get this game over\nsound to work appropriately, well,\n\n273\n00:16:15.460 --> 00:16:18.130\nwe gotta establish,\nwhat is game over, right?\n\n274\n00:16:18.130 --> 00:16:20.990\nWhen do you win and when do you lose?\n\n275\n00:16:20.990 --> 00:16:25.850\nAnd really, I think, and\nhomage to some of these older retro games,\n\n276\n00:16:25.850 --> 00:16:30.060\nyou didn't really win as\nlike you're at the end.\n\n277\n00:16:30.060 --> 00:16:36.180\nIt was more like next level,\nnext level, next level, next level.\n\n278\n00:16:36.180 --> 00:16:39.080\nSo we could do that to\nwhere if there's no more,\n\n279\n00:16:39.080 --> 00:16:41.730\ncreate a new swarm boom start it up again.\n\n280\n00:16:41.730 --> 00:16:44.810\nAnd now create a new swarm and modify.\n\n281\n00:16:44.810 --> 00:16:46.020\nWill they move just a little bit faster?\n\n282\n00:16:46.020 --> 00:16:47.380\nJust a little bit faster.\n\n283\n00:16:47.380 --> 00:16:48.420\nJust a little bit faster.\n\n284\n00:16:48.420 --> 00:16:51.445\nBut, this is just for funzies, right?\n\n285\n00:16:51.445 --> 00:16:52.860\n&gt;&gt; Mm-hm.\n\n286\n00:16:52.860 --> 00:16:58.581\n&gt;&gt; All right, so\nI think just upon construction,\n\n287\n00:16:58.581 --> 00:17:04.170\nI'll just say this.sounds.wawawa.play\n&gt;&gt; Just\n\n288\n00:17:04.170 --> 00:17:08.330\nto make sure that comes across\nappropriately, and it does.\n\n289\n00:17:08.330 --> 00:17:09.730\nAnd there it goes.\n\n290\n00:17:09.730 --> 00:17:11.707\nSo, we have our sound set up.\n\n291\n00:17:11.707 --> 00:17:15.617\nWe've actually set it up for\nshooting our blaster, fighter shooting,\n\n292\n00:17:15.617 --> 00:17:19.720\nthe enemies being hit, some background\nmusic, which I've turned off.\n\n293\n00:17:19.720 --> 00:17:24.279\nBecause, well, it's annoying to\ntalk over during this episode.\n\n294\n00:17:24.279 --> 00:17:28.418\nWhat we need to do is may be come back\nbecause l know it's gonna take a chunk of\n\n295\n00:17:28.418 --> 00:17:31.334\ntime and\nfigure out what are the game overs, right.\n\n296\n00:17:31.334 --> 00:17:33.489\nWhat are the game mover metrics?\n\n297\n00:17:33.489 --> 00:17:40.850\nI'm thinking, once the swarm hit\nthe fighter, if there was a swarm to left.\n\n298\n00:17:40.850 --> 00:17:47.160\nIf there is not, all right,\nthen maybe just put up a, you win,\n\n299\n00:17:47.160 --> 00:17:52.660\ninstead of having additional levels and\nthings like that just to make it easier.\n\n300\n00:17:52.660 --> 00:17:55.666\nReally, if you wanted to\nmake this full fledged,\n\n301\n00:17:55.666 --> 00:17:59.316\nI would probably create a score board,\nand then keep score,\n\n302\n00:17:59.316 --> 00:18:03.912\nand start increase, a level counter,\nadd levels, make the swarm faster.\n\n303\n00:18:03.912 --> 00:18:08.448\nAt some point the swarm's always gonna win\nbecause you can't shoot fast enough based\n\n304\n00:18:08.448 --> 00:18:09.930\non how fast they get to you.\n\n305\n00:18:09.930 --> 00:18:13.433\nBut we do have some logic,\nmaybe some changes to the actual swarm and\n\n306\n00:18:13.433 --> 00:18:14.734\nfighter and game logic.\n\n307\n00:18:14.734 --> 00:18:17.010\nSo, I guess we'll be coming\nback in another episode.\n\n308\n00:18:17.010 --> 00:18:21.517\nNot necessarily an extension to this part,\nbut another episode to enter game over so\n\n309\n00:18:21.517 --> 00:18:23.493\nthat we can use that game over sound.\n\n310\n00:18:23.493 --> 00:18:25.256\n&gt;&gt; Wow, that even solves part two.\n\n311\n00:18:25.256 --> 00:18:26.097\nThat's it.\n\n312\n00:18:26.097 --> 00:18:27.981\nAnd make sure you watch part one.\n\n313\n00:18:27.981 --> 00:18:29.288\nNXS part one.\n\n314\n00:18:29.288 --> 00:18:30.430\nYou'll be glad you did.\n\n315\n00:18:30.430 --> 00:18:33.250\nAnything else you'd like to\nsay before we channel off?\n\n316\n00:18:33.250 --> 00:18:38.970\n&gt;&gt; Well, I just wanna reinforce\nthe fact that these are always\n\n317\n00:18:38.970 --> 00:18:42.100\nkind of simple things, where I'm like,\nthis will be kind of cool to make.\n\n318\n00:18:42.100 --> 00:18:44.860\nI wanted to convey to you that not\neverything has to be polished and\n\n319\n00:18:44.860 --> 00:18:46.880\nslick and absolute best.\n\n320\n00:18:46.880 --> 00:18:49.513\nBut it's more about learning and\nexploration.\n\n321\n00:18:49.513 --> 00:18:52.777\nThis is something that if I rewrote\nit three more times I would\n\n322\n00:18:52.777 --> 00:18:54.700\nprobably rewrite it differently.\n\n323\n00:18:54.700 --> 00:18:57.260\nI would probably add more features.\n\n324\n00:18:57.260 --> 00:19:02.090\nIt's kind of like climbing a ladder but\nyou're afraid of heights.\n\n325\n00:19:02.090 --> 00:19:05.485\nSo you get up two rungs and then you're\nlike, this is all I've got today, and\n\n326\n00:19:05.485 --> 00:19:06.382\nthen you come down.\n\n327\n00:19:06.382 --> 00:19:08.902\nAnd then you get up two rungs, and\nyou're like this is all I got today and\n\n328\n00:19:08.902 --> 00:19:09.960\nthen you come down.\n\n329\n00:19:09.960 --> 00:19:14.040\nAnd then you get up,\nI think I can go to the rung three, right.\n\n330\n00:19:14.040 --> 00:19:17.780\nAnd to some extent, learning this\nstuff is very similar to that,\n\n331\n00:19:17.780 --> 00:19:21.060\nuntil you're at the top of\nthe letter all right, the ladder.\n\n332\n00:19:21.060 --> 00:19:24.101\nNot the letter, if you're on top of the\nletter you just threw it on the floor and\n\n333\n00:19:24.101 --> 00:19:24.711\nstomped on it.\n\n334\n00:19:24.711 --> 00:19:30.246\nSo do keep that in mind that, not\neverything has to be incredibly polished,\n\n335\n00:19:30.246 --> 00:19:35.920\nor absolutely done in order to be fun,\nand well, worthwhile learning.\n\n336\n00:19:35.920 --> 00:19:39.570\n&gt;&gt; And Justin always helps us to see,\nhow being at DevPro is so awesome.\n\n337\n00:19:39.570 --> 00:19:40.570\nThank you so much Justin.\n\n338\n00:19:40.570 --> 00:19:42.000\nGreat job as always.\n\n339\n00:19:42.000 --> 00:19:44.120\nAnd this is HTML5 Canvas Projects.\n\n340\n00:19:44.120 --> 00:19:48.300\nMake sure you watch every single\nepisode because it's awesome.\n\n341\n00:19:48.300 --> 00:19:50.370\nAnd check out the other\nvideos in our course library.\n\n342\n00:19:50.370 --> 00:19:53.750\nHundreds of videos all designed\nto help you go further.\n\n343\n00:19:53.750 --> 00:19:55.797\nAnd thank you for watching DEVPRO.TV.\n\n344\n00:19:55.797 --> 00:19:57.700\nAnd tell us whether you\nknow about DEVPRO.TV.\n\n345\n00:19:57.700 --> 00:19:59.270\nThey'll be very glad you did.\n\n346\n00:19:59.270 --> 00:19:59.926\nThanks for watching.\n\n347\n00:19:59.926 --> 00:20:00.684\nI'm Zack Memos.\n\n348\n00:20:00.684 --> 00:20:01.612\n&gt;&gt; And I'm Justin Dennison.\n\n349\n00:20:01.612 --> 00:20:02.749\n&gt;&gt; And we'll see you soon.\n\n350\n00:20:02.749 --> 00:20:08.439\n[MUSIC]\n\n",
          "vimeoId": "240011481"
        },
        {
          "description": "In this episode, Zack and Justin explore how the game over state of the game is decided. More specifically, Justin demonstrates how to manage the two states of the game, the attackers reach the fighter or the fighter destroys all of the attackers.",
          "length": "1881",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-9-1-ending_the_game-102417-PGM.00_31_11_04.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-9-1-ending_the_game-102417-PGM.00_31_11_04.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-3-9-1-ending_the_game-102417-PGM.00_31_11_04.Still001-sm.jpg",
          "title": "Ending the Game",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.851 --> 00:00:15.248\nHello, and thank you for\nchoosing DevProTV,\n\n3\n00:00:15.248 --> 00:00:18.250\nempowering the world\nthrough engaging learning.\n\n4\n00:00:18.250 --> 00:00:22.490\nI'm your host, Zach Memos, as we\ncontinue on with HTML5 Canvas Projects.\n\n5\n00:00:22.490 --> 00:00:26.290\nThis will be ending the game and\nour IT and DevPro expert, Justin Dennison,\n\n6\n00:00:26.290 --> 00:00:28.310\nis here to tell us what that all means.\n\n7\n00:00:28.310 --> 00:00:29.500\nJustin, good to see you, sir.\n\n8\n00:00:29.500 --> 00:00:30.960\n&gt;&gt; It is good to be back in the studio.\n\n9\n00:00:30.960 --> 00:00:31.890\nAnd how are you today, Zach?\n\n10\n00:00:31.890 --> 00:00:32.790\n&gt;&gt; I'm excited.\n\n11\n00:00:32.790 --> 00:00:35.050\nThis is almost the end, isn't it?\n\n12\n00:00:35.050 --> 00:00:36.291\n&gt;&gt; It is almost the end.\n\n13\n00:00:36.291 --> 00:00:37.441\n&gt;&gt; Of our Adamo.\n\n14\n00:00:37.441 --> 00:00:38.640\n&gt;&gt; Adamo attack.\n\n15\n00:00:38.640 --> 00:00:41.180\n&gt;&gt; Yeah.\n&gt;&gt; Right, so we kind of left off.\n\n16\n00:00:41.180 --> 00:00:45.765\nWe added some sounds, but there's actually\na sound for a game over if you lose.\n\n17\n00:00:45.765 --> 00:00:48.330\nBut we don't have any way to\ndetermine when a game over is.\n\n18\n00:00:48.330 --> 00:00:54.808\nSo I think that's probably the next\nbusiness, right, or next steps.\n\n19\n00:00:54.808 --> 00:00:58.651\nAnd I wanna set the scene just\nto provide some context here.\n\n20\n00:00:58.651 --> 00:01:03.244\nAnd I think I said this in a previous\nepisode, a lot of these older games,\n\n21\n00:01:03.244 --> 00:01:07.660\nthese kind of retro style games,\nyou never won like there was an end.\n\n22\n00:01:07.660 --> 00:01:10.433\nYou just kept playing until you lost.\n\n23\n00:01:10.433 --> 00:01:11.710\nSo you could come back and add that.\n\n24\n00:01:12.730 --> 00:01:17.286\nNow I may add something very simple about,\nwell,\n\n25\n00:01:17.286 --> 00:01:21.755\nwhen the swarm's gone,\nyou just have a you win.\n\n26\n00:01:21.755 --> 00:01:26.510\nBut I didn't go too deep into that and\nforgot to record the sound.\n\n27\n00:01:28.590 --> 00:01:31.700\nBut it was kind of the impetus, as I was\nlike, you never really win at these games.\n\n28\n00:01:31.700 --> 00:01:34.930\nYou just go to the next level and they\nget harder until you get a high score.\n\n29\n00:01:34.930 --> 00:01:39.680\nSo your high score's determined\nby when did you lose instead of,\n\n30\n00:01:39.680 --> 00:01:43.060\nI got to the end of this style of game.\n\n31\n00:01:43.060 --> 00:01:48.200\nSo we're more focused on when do you lose,\nwhich is kind of negative in nature.\n\n32\n00:01:48.200 --> 00:01:51.834\nBut we may,\njust as a simple knowing when you're won,\n\n33\n00:01:51.834 --> 00:01:55.240\nbecause ultimately how\nit'd probably come back.\n\n34\n00:01:55.240 --> 00:01:58.447\nIf I was going to extend this and\nsay, now I'm gonna make levels.\n\n35\n00:01:58.447 --> 00:02:03.520\nAnd by levels, I'm just gonna change,\ngotta keep track of score,\n\n36\n00:02:03.520 --> 00:02:07.970\nwhat level it is, and\nhow fast the swarm itself is moving.\n\n37\n00:02:07.970 --> 00:02:10.310\nSo that's kinda my impetus there.\n\n38\n00:02:10.310 --> 00:02:11.380\n&gt;&gt; So I have a question for you.\n\n39\n00:02:11.380 --> 00:02:15.772\nNow I know you recorded the sounds that\nwe've heard so far, and they're wonderful.\n\n40\n00:02:15.772 --> 00:02:16.730\n[LAUGH] I love them all.\n\n41\n00:02:16.730 --> 00:02:19.290\nBut would there ever be\na time when you could find\n\n42\n00:02:19.290 --> 00:02:21.190\nsounds from a sound library online?\n\n43\n00:02:22.310 --> 00:02:24.890\n&gt;&gt; Yes, and\nsomething that I would forewarn you about,\n\n44\n00:02:24.890 --> 00:02:26.850\nespecially if you're just playing around.\n\n45\n00:02:26.850 --> 00:02:28.850\nYou get some leeway there.\n\n46\n00:02:28.850 --> 00:02:31.790\nLook at the licensing terms for\nthose sounds.\n\n47\n00:02:31.790 --> 00:02:35.290\nIf they're creative commons, or\nthey're a very open license.\n\n48\n00:02:35.290 --> 00:02:39.300\nAnd where it gets real tricky\nis if they're an open license\n\n49\n00:02:39.300 --> 00:02:43.096\nunless you're commercializing,\nsomething like that, right?\n\n50\n00:02:43.096 --> 00:02:47.315\nIt's free to use unless it's commercial,\nand then you owe us royalties.\n\n51\n00:02:47.315 --> 00:02:49.660\nSo any sound will work.\n\n52\n00:02:49.660 --> 00:02:51.490\nThe reason I recorded is, number one,\n\n53\n00:02:51.490 --> 00:02:53.150\nI don't have to worry\nabout licensing issues.\n\n54\n00:02:53.150 --> 00:02:54.490\nThey're mine, it's my voice.\n\n55\n00:02:55.610 --> 00:02:59.672\nNow I guess someone could make\nthe argument that they own the rights to\n\n56\n00:02:59.672 --> 00:03:03.735\ncertain soundlike things, but\nI'm not sampling from like a music or\n\n57\n00:03:03.735 --> 00:03:05.012\nanything like that.\n\n58\n00:03:05.012 --> 00:03:07.140\nI'm just making sounds up.\n\n59\n00:03:07.140 --> 00:03:08.570\nSo that was kind of my impetus for them.\n\n60\n00:03:08.570 --> 00:03:13.187\nBut you can very well use sounds as long\nas they're the appropriate format for\n\n61\n00:03:13.187 --> 00:03:14.972\nplaying, so good question.\n\n62\n00:03:14.972 --> 00:03:20.650\nLet's actually take a look and do a quick\nplan out of where this is going to end.\n\n63\n00:03:20.650 --> 00:03:25.020\nSo here's my app, so\nthis is loading all of my assets.\n\n64\n00:03:26.380 --> 00:03:30.188\nAnd I create the sounds object and\nI pipe it through to Adamo attack.\n\n65\n00:03:30.188 --> 00:03:33.821\nNow I'm leaving this\ngame play audio.play off,\n\n66\n00:03:33.821 --> 00:03:39.270\nmainly because it's fun to play, but\nwhen I'm trying to explain things,\n\n67\n00:03:39.270 --> 00:03:43.955\nit's just playing in the background and\na little bit annoying.\n\n68\n00:03:43.955 --> 00:03:46.544\nI know I just called\nmy own voice annoying.\n\n69\n00:03:46.544 --> 00:03:47.148\n&gt;&gt; [LAUGH]\n&gt;&gt; But\n\n70\n00:03:47.148 --> 00:03:49.459\nit's because if I made\na copy of myself and\n\n71\n00:03:49.459 --> 00:03:53.419\nthen just stood right here behind me\nin the same frame and just went [NOISE]\n\n72\n00:03:53.419 --> 00:03:57.468\nthe whole time, that would be annoying,\nregardless if it's me or not.\n\n73\n00:03:57.468 --> 00:03:59.670\n&gt;&gt; But annoying in a good way.\n\n74\n00:03:59.670 --> 00:04:02.010\n&gt;&gt; Yeah, annoying,\nif there is such a thing.\n\n75\n00:04:02.010 --> 00:04:02.680\nI don't know.\n\n76\n00:04:03.830 --> 00:04:05.182\nThere's two of me, all right.\n\n77\n00:04:05.182 --> 00:04:06.074\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n78\n00:04:06.074 --> 00:04:09.900\nwe can always turn them back on\nwhen we want someone to play.\n\n79\n00:04:09.900 --> 00:04:15.540\nBut if I come over to the actual\nAdamo Attack object, right?\n\n80\n00:04:15.540 --> 00:04:17.790\nOkay, let's see here.\n\n81\n00:04:17.790 --> 00:04:21.387\nThere may be some tweaking\nthat we have to do.\n\n82\n00:04:21.387 --> 00:04:22.960\nWe don't need any events.\n\n83\n00:04:22.960 --> 00:04:26.140\nHandleKeyboard event, that's fine.\n\n84\n00:04:26.140 --> 00:04:29.520\nRendering, that is only for\ndrawing, right?\n\n85\n00:04:29.520 --> 00:04:32.090\nIt draws to the screen,\nthat's all it should do.\n\n86\n00:04:32.090 --> 00:04:36.425\nBut update, update is where\na lot of our logic lives, right?\n\n87\n00:04:36.425 --> 00:04:38.690\nThis.pellets for each, for every pellet.\n\n88\n00:04:38.690 --> 00:04:41.540\nIf the swarm gets hit by a pellet,\ndo some stuff.\n\n89\n00:04:41.540 --> 00:04:45.840\nIf the pellet is in orbit which means that\nit's outside the scope of the screen,\n\n90\n00:04:45.840 --> 00:04:47.010\nthen remove it, right?\n\n91\n00:04:47.010 --> 00:04:51.410\nThat way, we can keep track and only have\ntwo pellets at one time on the screen.\n\n92\n00:04:51.410 --> 00:04:56.760\nIf the swarm hits the edge of a screen,\nthen drop down, all right?\n\n93\n00:04:56.760 --> 00:04:59.850\nAnd then swarm move, and\nthen pellets move, okay.\n\n94\n00:04:59.850 --> 00:05:01.860\nNow where is the fighter moving occurring?\n\n95\n00:05:01.860 --> 00:05:05.280\nThe little bit of updating here\nis based on keyboard events.\n\n96\n00:05:05.280 --> 00:05:09.647\nNow I could, and\nif we come down here to the renders,\n\n97\n00:05:09.647 --> 00:05:12.939\nnotice the fighter is being rendered.\n\n98\n00:05:12.939 --> 00:05:15.712\nI could probably force that\nto go into update, but\n\n99\n00:05:15.712 --> 00:05:19.476\nit just makes more sense since I'm\nusing keyboard events to control\n\n100\n00:05:19.476 --> 00:05:24.040\nother aspects of the game to be\nin an event handler, so to speak.\n\n101\n00:05:24.040 --> 00:05:27.810\nAnd then the actual main method is\nwe run request for animation frame.\n\n102\n00:05:27.810 --> 00:05:28.930\nWe update and we render.\n\n103\n00:05:28.930 --> 00:05:31.684\nAnd then, we run it again,\nupdate render, update render,\n\n104\n00:05:31.684 --> 00:05:34.226\nupdate render, and\nthat's all we're doing, right?\n\n105\n00:05:34.226 --> 00:05:34.970\nNow what is update?\n\n106\n00:05:34.970 --> 00:05:37.690\nThat's where all of our logic takes place,\nall of our decision-making.\n\n107\n00:05:37.690 --> 00:05:39.690\nAnd then rendering is paint to the screen.\n\n108\n00:05:39.690 --> 00:05:43.428\nSo given that, right,\nwe've kind of built this up over time.\n\n109\n00:05:43.428 --> 00:05:49.848\nI think in update is probably the best\nplace to check, hey, did you lose?\n\n110\n00:05:49.848 --> 00:05:52.790\nAre we done?\n\n111\n00:05:52.790 --> 00:05:56.700\nWe may have to change the main\nmethod a little bit, and here's why.\n\n112\n00:05:57.720 --> 00:06:02.010\nUpdate may change a game state,\nlike is running, or\n\n113\n00:06:02.010 --> 00:06:04.570\nhas not lost, or something like that.\n\n114\n00:06:04.570 --> 00:06:11.841\nWe don't want to continue calling\nthe animation if you've lost, right?\n\n115\n00:06:11.841 --> 00:06:14.400\nSo if you're done, we wanna stop.\n\n116\n00:06:14.400 --> 00:06:18.700\nSo we may have to put a conditional\nstatement to only request the next paint\n\n117\n00:06:18.700 --> 00:06:21.720\nif you haven't lost yet, okay?\n\n118\n00:06:21.720 --> 00:06:26.161\nSo let's just get the idea here, so\n\n119\n00:06:26.161 --> 00:06:29.870\nhere's what I'm thinking.\n\n120\n00:06:29.870 --> 00:06:34.503\nI'm thinking that as the swarm\n\n121\n00:06:34.503 --> 00:06:39.847\nmoves right up here at the very top,\n\n122\n00:06:39.847 --> 00:06:46.449\nwe could do something like if this.swarm,\n\n123\n00:06:49.200 --> 00:06:52.180\nAnd let's go over here and\nlook at this swarm object here.\n\n124\n00:06:52.180 --> 00:06:55.220\nSo gets hit by move, dropdown, hitsEdge.\n\n125\n00:06:55.220 --> 00:06:58.080\nHow about, we just say hits?\n\n126\n00:06:59.630 --> 00:07:03.221\nNow, we could put this on the fighter and\nsay,\n\n127\n00:07:03.221 --> 00:07:08.810\nthe fighter gets hit by, and\nthe swarm hits this.fighter.\n\n128\n00:07:08.810 --> 00:07:10.946\nThen we want to do something.\n\n129\n00:07:10.946 --> 00:07:16.540\nLet's just say console.log and\nwe're going to figure this, Game over.\n\n130\n00:07:17.720 --> 00:07:20.240\nAnd then we're going to return here.\n\n131\n00:07:20.240 --> 00:07:24.240\nNow this is going to do some weirdness,\nand this is what I'm talking about,\n\n132\n00:07:24.240 --> 00:07:29.220\nbecause if I return in this update,\nit's not gonna update the state anymore.\n\n133\n00:07:29.220 --> 00:07:33.390\nBut it's also not gonna keep the next\nanimation paint from occurring,\n\n134\n00:07:33.390 --> 00:07:34.910\nso we may get some weirdness.\n\n135\n00:07:34.910 --> 00:07:40.124\nNow before we can test that, though,\nwe have to write this hits method,\n\n136\n00:07:40.124 --> 00:07:45.341\nand I would probably come back and\nchoose better names by these, right?\n\n137\n00:07:45.341 --> 00:07:51.790\nSo hitsEdge, give it a boundary,\nand let's say hits,\n\n138\n00:07:51.790 --> 00:07:56.878\nand let's just call it other, and return.\n\n139\n00:07:56.878 --> 00:07:58.450\nNow let's think about the fighter.\n\n140\n00:07:58.450 --> 00:08:00.344\nLet's come over here and\nlook at the fighter.\n\n141\n00:08:00.344 --> 00:08:04.364\nThe fighter has an X and\nY within the height.\n\n142\n00:08:04.364 --> 00:08:08.630\nSo we need to see is the right\nhand edge of the swarm.\n\n143\n00:08:08.630 --> 00:08:10.770\nDoes it hit, right?\n\n144\n00:08:13.900 --> 00:08:20.160\nAnd actually, we probably need to check\nif any of the fighters, because it may be\n\n145\n00:08:20.160 --> 00:08:25.680\nthat I hit the fighter or excuse me, the\nattacker in the swarm, so it's gone now.\n\n146\n00:08:25.680 --> 00:08:28.540\nSo I can't use the bounding edge\nof the swarm that I use when it\n\n147\n00:08:28.540 --> 00:08:29.310\nhits the boundary.\n\n148\n00:08:29.310 --> 00:08:34.780\nI actually need to use\nthe individual attackers.\n\n149\n00:08:34.780 --> 00:08:39.500\nSo I want to check to see if any\n\n150\n00:08:39.500 --> 00:08:42.150\nof the attackers have come\nin contact with the fighter.\n\n151\n00:08:43.150 --> 00:08:47.380\nAnd we'll probably have to play\naround with that a little bit.\n\n152\n00:08:47.380 --> 00:08:49.460\nThat logic is always rough.\n\n153\n00:08:49.460 --> 00:08:54.380\nSo if I come here I have attackers.\n\n154\n00:08:54.380 --> 00:08:55.310\nRight?\n\n155\n00:08:55.310 --> 00:09:00.671\nSo, let's do this, result or\n\n156\n00:09:00.671 --> 00:09:05.637\nhasHitOther equals false.\n\n157\n00:09:05.637 --> 00:09:10.257\nAnd this.attackers.forEach and\n\n158\n00:09:10.257 --> 00:09:15.339\nforEach attacker within the swarm if,\n\n159\n00:09:15.339 --> 00:09:19.959\nand let's go look at the attacker.\n\n160\n00:09:19.959 --> 00:09:25.165\nHits edge, drop down and so\nwe could make a hit other here,\n\n161\n00:09:25.165 --> 00:09:29.310\nit's other, and\nthen use that as a proxy, and\n\n162\n00:09:29.310 --> 00:09:33.370\nI may end up doing that,\nwe may pull that out.\n\n163\n00:09:33.370 --> 00:09:38.730\nBut for now, let's see here,\nif the attacker,\n\n164\n00:09:40.850 --> 00:09:44.566\nlet's do this, if the attackers.\n\n165\n00:09:44.566 --> 00:09:49.000\nSo the attacker's x.\n\n166\n00:09:49.000 --> 00:09:52.315\nSo given an attacker I wanna\nsee if the attacker's x is\n\n167\n00:09:52.315 --> 00:09:59.890\ngreater than the fighter's x or\n\n168\n00:09:59.890 --> 00:10:03.890\nless than the fighter's x given\nthat the up and down works.\n\n169\n00:10:03.890 --> 00:10:05.980\nAll right.\nSo let's work through this.\n\n170\n00:10:05.980 --> 00:10:12.698\nSo if the attacker x is greater than or\nequal to the other's x.\n\n171\n00:10:15.938 --> 00:10:21.587\nAnd the attacker's x plus\n\n172\n00:10:21.587 --> 00:10:28.262\nwidth plus width is less than or\n\n173\n00:10:28.262 --> 00:10:36.960\nequal to actually I need this to be.\n\n174\n00:10:36.960 --> 00:10:38.452\nLet's rearrange this.\n\n175\n00:10:38.452 --> 00:10:44.367\nIsInX, so the attacker\n\n176\n00:10:44.367 --> 00:10:49.098\nx is greater than or\n\n177\n00:10:49.098 --> 00:10:54.434\nequal to the other x.\n\n178\n00:11:00.097 --> 00:11:04.635\nOr no, that needs to be an and\n\n179\n00:11:04.635 --> 00:11:09.365\nattacker x plus is less than or\n\n180\n00:11:09.365 --> 00:11:13.928\nequal to other x plus width.\n\n181\n00:11:13.928 --> 00:11:16.430\nSo essentially what I am\ntrying to do is figure out,\n\n182\n00:11:16.430 --> 00:11:19.060\nwe will scroll up here a little bit.\n\n183\n00:11:19.060 --> 00:11:21.840\nFigure out if we have these two bounce\nI want this to be overlapped and\n\n184\n00:11:21.840 --> 00:11:22.960\nthis to be overlapped.\n\n185\n00:11:24.680 --> 00:11:26.010\nI wanna see if they're within.\n\n186\n00:11:26.010 --> 00:11:30.460\nNow, I have to double check that logic\nit gets me every time, we may have to\n\n187\n00:11:30.460 --> 00:11:34.050\ncome back and draw a little bit but\nthat's fine, so that's the x bound.\n\n188\n00:11:34.050 --> 00:11:39.060\nBut I don't wanna check that, I don't\nwant them to return true ever unless\n\n189\n00:11:39.060 --> 00:11:42.947\nthis bottom edge of the attacker,\nis within\n\n190\n00:11:42.947 --> 00:11:48.160\nthe position within the y\nposition of the fighter, right?\n\n191\n00:11:49.440 --> 00:11:55.106\nSo, let's say const isInY,\n\n192\n00:11:55.106 --> 00:11:59.590\nand that's the attacker y is\n\n193\n00:12:00.690 --> 00:12:04.950\nactually the bottom so\nI need the attackers y plus its height.\n\n194\n00:12:06.210 --> 00:12:12.750\nPlus attacker height is greater than or\n\n195\n00:12:12.750 --> 00:12:16.158\nequal to the other's y.\n\n196\n00:12:16.158 --> 00:12:18.857\nSo essentially [SOUND].\n\n197\n00:12:18.857 --> 00:12:23.803\nAnd I wanna see when the bottom touches\nthe top and I want that to occur here.\n\n198\n00:12:23.803 --> 00:12:31.051\nAll right [COUGH] If isInX and\n\n199\n00:12:31.051 --> 00:12:35.470\nisInY, right?\n\n200\n00:12:35.470 --> 00:12:43.050\nIf both of those conditions are true,\nthen I want hasHitOther to be\n\n201\n00:12:43.050 --> 00:12:48.230\ntrue and at the very end of this,\nreturn hasHitOther.\n\n202\n00:12:49.250 --> 00:12:49.850\nRight?\nSo,\n\n203\n00:12:49.850 --> 00:12:54.590\nif anyone of them hits then boom,\nwe're done.\n\n204\n00:12:54.590 --> 00:12:55.570\nOkay?\n\n205\n00:12:55.570 --> 00:12:59.740\nNow, we're gonna go figure out if\nI have all my logic right here.\n\n206\n00:12:59.740 --> 00:13:02.970\nThis is one of those rough time.\n\n207\n00:13:02.970 --> 00:13:04.880\nSo I should get a game over.\n\n208\n00:13:04.880 --> 00:13:12.520\nAnd just for this, I think I'm going\nto speed up a respective attacker.\n\n209\n00:13:12.520 --> 00:13:16.690\nLet's actually make that faster and.\n\n210\n00:13:17.700 --> 00:13:23.740\nSo let's see here, uncalled\nreference width is not defined for,\n\n211\n00:13:23.740 --> 00:13:28.080\nI have a typo here somewhere, Zach.\n\n212\n00:13:28.080 --> 00:13:32.846\nLet's see here, if I go into the swarm,\nattackers forEach,\n\n213\n00:13:32.846 --> 00:13:36.250\nthis down attackers, attackers forEach.\n\n214\n00:13:36.250 --> 00:13:38.430\nOkay, let's go over here.\n\n215\n00:13:38.430 --> 00:13:43.280\nWhat width is not defined,\nwidth is not defined.\n\n216\n00:13:43.280 --> 00:13:45.070\nWidth is not defined.\n\n217\n00:13:45.070 --> 00:13:46.960\nDid I grab the wrong?\n\n218\n00:13:46.960 --> 00:13:48.160\nThere it is.\n\n219\n00:13:48.160 --> 00:13:51.460\nOkay?\nThis is one of those things where\n\n220\n00:13:51.460 --> 00:13:53.620\nbecause this is.\n\n221\n00:13:53.620 --> 00:13:55.850\nLet's go look at what it's telling me.\n\n222\n00:13:57.460 --> 00:13:58.350\nThere's my typo.\n\n223\n00:13:59.560 --> 00:14:03.090\nSometimes you gotta use your\nChrome web tools to help out.\n\n224\n00:14:03.090 --> 00:14:07.730\nI actually just typed width and\nI mean other.width.\n\n225\n00:14:07.730 --> 00:14:09.210\nThe other things width.\n\n226\n00:14:09.210 --> 00:14:11.500\nAnd in this case, it's the fighter.\n\n227\n00:14:11.500 --> 00:14:12.490\nSo if I refresh.\n\n228\n00:14:13.580 --> 00:14:14.610\n&gt;&gt; Hey.\n\n229\n00:14:14.610 --> 00:14:16.355\n&gt;&gt; Let's see here.\n\n230\n00:14:16.355 --> 00:14:19.310\n&gt;&gt; [LAUGH]\n&gt;&gt; My drop down, it looks like.\n\n231\n00:14:19.310 --> 00:14:20.302\n&gt;&gt; That was pretty fast.\n\n232\n00:14:20.302 --> 00:14:23.547\n[LAUGH]\n&gt;&gt; I was pretty fast and\n\n233\n00:14:23.547 --> 00:14:26.152\nI broke something else.\n\n234\n00:14:26.152 --> 00:14:29.410\nSo the swarm, I actually need to change.\n\n235\n00:14:29.410 --> 00:14:34.541\nThe swarm's DX because the swarms\nbox isn't moving at the same rate.\n\n236\n00:14:34.541 --> 00:14:37.530\nSo here, boom, boom.\n\n237\n00:14:37.530 --> 00:14:45.010\nAnd this actually gives you a glimpse of\nhow one could make this a harder level.\n\n238\n00:14:45.010 --> 00:14:46.020\n&gt;&gt; Level it up, yeah.\n\n239\n00:14:46.020 --> 00:14:47.890\n&gt;&gt; So, just change those.\n\n240\n00:14:47.890 --> 00:14:51.630\nSo let's see if an one of these\nattackers and we should come over here,\n\n241\n00:14:51.630 --> 00:14:56.810\nwe go to console, and hey,\nso there's our game over.\n\n242\n00:14:56.810 --> 00:14:59.790\nRight, and notice update,\nnothing else is moving.\n\n243\n00:15:01.330 --> 00:15:05.180\nBut notice this game\nover is just blowing up.\n\n244\n00:15:05.180 --> 00:15:05.770\nRight?\n\n245\n00:15:05.770 --> 00:15:10.050\nIt's ran over 700 times and\nthat's because I have no way,\n\n246\n00:15:10.050 --> 00:15:11.960\nyou know what I got really lucky.\n\n247\n00:15:11.960 --> 00:15:16.470\nThat logic is always tricky and\nI got it on the first try.\n\n248\n00:15:16.470 --> 00:15:20.610\nAs far as I know I don't need to do\nextensive testing to see if I can get it\n\n249\n00:15:20.610 --> 00:15:24.480\nto move from the right and the left and\nmake sure that those all work.\n\n250\n00:15:24.480 --> 00:15:27.710\nBut if I come back over here to main.JS,\n\n251\n00:15:27.710 --> 00:15:30.850\nwe will assume that I'm\nabsolutely correct.\n\n252\n00:15:30.850 --> 00:15:31.900\nThat's a horrible assumption.\n\n253\n00:15:31.900 --> 00:15:35.630\nBut, here, I'm just returning from update.\n\n254\n00:15:35.630 --> 00:15:41.422\nUpdate doesn't, it says return,\nrender, request animation frame.\n\n255\n00:15:41.422 --> 00:15:42.610\nAll right.\n\n256\n00:15:42.610 --> 00:15:45.020\nSo that's saying,\nafter you run this function,\n\n257\n00:15:45.020 --> 00:15:48.140\nmake sure you run it again,\nrun it again, run it again.\n\n258\n00:15:48.140 --> 00:15:50.205\nWell updates just returning,\nit's not updating anything.\n\n259\n00:15:50.205 --> 00:15:52.714\nIt's also not stopping this\nrequest animation frame.\n\n260\n00:15:52.714 --> 00:15:57.160\nOkay?\n\n261\n00:15:57.160 --> 00:16:03.539\nLet's think about this logic upon\ncreation of the game object, let's say.\n\n262\n00:16:03.539 --> 00:16:08.745\nisPlaying = true, so\nisPlaying is true, okay?\n\n263\n00:16:08.745 --> 00:16:14.627\nSo isPlaying is true, and\nthen if I come down here and\n\n264\n00:16:14.627 --> 00:16:22.024\nthis console.log,\nthis isPlaying = false, all right?\n\n265\n00:16:22.024 --> 00:16:31.134\nSo this.isPlaying,if[this.isPlaying],\n\n266\n00:16:31.134 --> 00:16:37.140\nthen request the next frame.\n\n267\n00:16:37.140 --> 00:16:40.530\nIf the game is still running and\nwe can call this is running or\n\n268\n00:16:40.530 --> 00:16:41.240\nsomething like that.\n\n269\n00:16:42.280 --> 00:16:45.230\nAnd I come over here and\nI ran and it's still going.\n\n270\n00:16:45.230 --> 00:16:47.940\nNow we wanna see if I only\nget one print out here,\n\n271\n00:16:47.940 --> 00:16:53.450\nnow eventually I would probably move\nthis down, but hopefully this works and\n\n272\n00:16:53.450 --> 00:17:02.570\nI may even speed this up faster just to\ngive things really rolling, and boom.\n\n273\n00:17:02.570 --> 00:17:05.000\nIt actually runs twice, okay.\n\n274\n00:17:05.000 --> 00:17:06.180\nNow why would it run twice?\n\n275\n00:17:07.190 --> 00:17:12.670\nI think I'm okay with it running twice\ncuz whats happening is, this queue up\n\n276\n00:17:12.670 --> 00:17:18.850\nis queuing up the next run before maybe\nI can catch up to determine logic.\n\n277\n00:17:18.850 --> 00:17:22.110\nSo I'm okay with that\nlittle big of wiggle.\n\n278\n00:17:22.110 --> 00:17:27.330\nI don't need the timing mechanism for\nthis game to be absolutely critical.\n\n279\n00:17:27.330 --> 00:17:30.140\nNow if you were doing like\na first-person shooter, or\n\n280\n00:17:30.140 --> 00:17:35.190\nlots of visualizations, the timing\nmechanism may be a little bit of an issue.\n\n281\n00:17:35.190 --> 00:17:40.550\nBut that means that I'm good here,\nwell within my eyes.\n\n282\n00:17:40.550 --> 00:17:45.960\nAgain, I could probably move this over and\nI could, you know what?\n\n283\n00:17:45.960 --> 00:17:48.190\nLet's just try something.\n\n284\n00:17:48.190 --> 00:17:48.790\nLet's update.\n\n285\n00:17:48.790 --> 00:17:51.830\nAnd now I'm not queueing up first.\n\n286\n00:17:51.830 --> 00:17:54.160\nNow for performance reasons,\n\n287\n00:17:54.160 --> 00:17:56.910\nthere's times where you always want\nto queue the animation frame up top.\n\n288\n00:17:58.660 --> 00:18:02.340\nSo if I refresh and\nactually let me speed this up.\n\n289\n00:18:03.380 --> 00:18:04.580\nLet's turn it up to 11.\n\n290\n00:18:04.580 --> 00:18:09.890\nAnd if you know what that's\na reference from, congratulations.\n\n291\n00:18:09.890 --> 00:18:12.740\nSo if I refresh,\nyeah this is the part in the game,\n\n292\n00:18:12.740 --> 00:18:16.640\nyou remember how I said some of these\nnostalgic games, you're never gonna win.\n\n293\n00:18:16.640 --> 00:18:19.360\nI can't shoot pellets fast enough to lose.\n\n294\n00:18:19.360 --> 00:18:23.300\nRight, game over and just that little\nswitch, game over runs one time now\n\n295\n00:18:23.300 --> 00:18:27.920\nbecause I'm only queuing up if\nit's not a game over, okay?\n\n296\n00:18:27.920 --> 00:18:32.190\nSo that little bit of switch of logic,\nthat's perfectly fine and\n\n297\n00:18:32.190 --> 00:18:36.520\nto some extent I could come over here and\nwait for it.\n\n298\n00:18:36.520 --> 00:18:41.220\nI could probably say only do this\npart if you're still playing.\n\n299\n00:18:41.220 --> 00:18:44.940\nOnly keep everything in line, but\ndon't do an update and render.\n\n300\n00:18:44.940 --> 00:18:48.640\nBut the problem that I have with that is\nif I want to render something finally to\n\n301\n00:18:48.640 --> 00:18:55.112\nthe screen, right,\nthen I probably shouldn't,\n\n302\n00:18:55.112 --> 00:19:00.565\nprobably should keep the render always\nrunning, at least for the final time.\n\n303\n00:19:00.565 --> 00:19:05.670\nOkay, so this console.log('Game over!'),\nthat's fine.\n\n304\n00:19:05.670 --> 00:19:09.044\nI don't really need this part, all right?\n\n305\n00:19:09.044 --> 00:19:10.762\nConsole, you don't wanna put that.\n\n306\n00:19:10.762 --> 00:19:19.383\nI'm thinking this.sounds.WAWAWA.play,\n\n307\n00:19:19.383 --> 00:19:21.109\nlike so.\n\n308\n00:19:23.651 --> 00:19:26.994\nAnd also I'm gonna change\nsomething in the render.\n\n309\n00:19:26.994 --> 00:19:32.201\nSo if this if not\n\n310\n00:19:32.201 --> 00:19:38.190\nthis.isPlaying.\n\n311\n00:19:38.190 --> 00:19:42.430\nSo if it's game over,\nI guess I could have just said game over.\n\n312\n00:19:42.430 --> 00:19:46.210\nBut sometimes that messes up the logic for\nme.\n\n313\n00:19:46.210 --> 00:19:48.650\nSo if not this.isPlaying,\n\n314\n00:19:48.650 --> 00:19:54.350\nthen I can say this.context, and\nI always have to look this up.\n\n315\n00:19:54.350 --> 00:19:58.240\nLet's look up 2D drawing context.\n\n316\n00:20:01.630 --> 00:20:03.880\nAnd I think it's fillText but\nI just wanna make sure.\n\n317\n00:20:05.150 --> 00:20:08.430\nSo we come over here and\nwe go to fill text,\n\n318\n00:20:08.430 --> 00:20:13.100\nthere it is, where's it is,\nthe x and the y, and\n\n319\n00:20:13.100 --> 00:20:16.842\nI do know this is weird positioning,\nI may not get crazy about that.\n\n320\n00:20:16.842 --> 00:20:20.620\nSo fillText, and\n\n321\n00:20:20.620 --> 00:20:26.550\nthat was the text, Game Over.\n\n322\n00:20:28.170 --> 00:20:31.800\nAnd then let's put that in\nthe middle of the screen.\n\n323\n00:20:33.570 --> 00:20:37.596\nWidth divide by two, and\n\n324\n00:20:37.596 --> 00:20:42.404\nthen jump my cursor up there.\n\n325\n00:20:42.404 --> 00:20:46.206\nThis.screen.height divided by 2.\n\n326\n00:20:46.206 --> 00:20:48.186\nThere we go.\n\n327\n00:20:48.186 --> 00:20:53.390\nNow, we're gonna probably see that\nthat's actually a corner of the text,\n\n328\n00:20:53.390 --> 00:20:54.538\nbut let's see.\n\n329\n00:20:54.538 --> 00:20:55.408\nHere we go.\n\n330\n00:20:55.408 --> 00:21:00.064\nAll right so we're running, we're running,\nwe should hear the [SOUND].\n\n331\n00:21:00.064 --> 00:21:03.303\nWait for it, wait for it, wait for\nit, wait for it, wait for it.\n\n332\n00:21:03.303 --> 00:21:05.265\n[SOUND].\n\n333\n00:21:05.265 --> 00:21:08.715\nBut it didn't render the Game Over,\nall right, so\n\n334\n00:21:08.715 --> 00:21:13.299\nwe've got one little thing to fix,\nbut our [SOUND] actually played.\n\n335\n00:21:13.299 --> 00:21:16.669\nSo we have all of our sounds\nthat I've made for the game,\n\n336\n00:21:16.669 --> 00:21:19.540\nactually working where they should.\n\n337\n00:21:19.540 --> 00:21:22.752\nNow the question is why\nisn't that rendering?\n\n338\n00:21:22.752 --> 00:21:26.750\nAnd let's go make sure that\nmy logic's working out here.\n\n339\n00:21:27.840 --> 00:21:30.879\nSo update then render, and\n\n340\n00:21:30.879 --> 00:21:36.041\nlet's just see if this\nportion is rendering.\n\n341\n00:21:36.041 --> 00:21:41.576\nSo console.log here, all right, so run,\n\n342\n00:21:41.576 --> 00:21:49.120\nrun, run and wait for it,\nwait for it, wait for it.\n\n343\n00:21:49.120 --> 00:21:50.560\nSo it runs that portion.\n\n344\n00:21:50.560 --> 00:21:51.060\nYou know what?\n\n345\n00:21:52.120 --> 00:21:57.294\nI bet I didn't change the fill style and\nthe text style, so\n\n346\n00:21:57.294 --> 00:22:03.962\nit's not big and it may actually still\nbe the same color as the background.\n\n347\n00:22:03.962 --> 00:22:11.250\nSo it's writing text that is not black,\nor whatever color you decide to have it.\n\n348\n00:22:11.250 --> 00:22:17.928\nSo let's do this, this.context.save(); and\n\n349\n00:22:17.928 --> 00:22:22.634\nthis.context.restore(); and\n\n350\n00:22:22.634 --> 00:22:27.650\nthis.context.fillStyle 'red'.\n\n351\n00:22:27.650 --> 00:22:34.500\nAnd what is that property for text size?\n\n352\n00:22:34.500 --> 00:22:36.300\nFont, there we go.\n\n353\n00:22:36.300 --> 00:22:39.690\nAnd I will just make it my favorite font.\n\n354\n00:22:39.690 --> 00:22:45.230\nComic Sans MS, and that should be size and\n\n355\n00:22:45.230 --> 00:22:49.780\nthen font value, so this.context.font =,\n\n356\n00:22:49.780 --> 00:22:55.130\nlet's go to 48 pixels Comic Sans MS.\n\n357\n00:22:55.130 --> 00:22:57.177\nI think Comic Sans is okay in a game,\n\n358\n00:22:57.177 --> 00:23:02.200\nI don't know if I would necessarily use\nthat in any type of professional context.\n\n359\n00:23:02.200 --> 00:23:05.971\nSo if I run, yeah,\nlet me see if I can, and\n\n360\n00:23:05.971 --> 00:23:10.720\nactually, yeah, so that all still worked.\n\n361\n00:23:11.790 --> 00:23:16.330\nAnd we've got some problems here.\n\n362\n00:23:16.330 --> 00:23:18.370\nSo that runs, that runs.\n\n363\n00:23:18.370 --> 00:23:21.980\n&gt;&gt; So Justin, in the render function\nis the rest of that code running?\n\n364\n00:23:21.980 --> 00:23:22.620\n&gt;&gt; You know what, Zack.\n\n365\n00:23:22.620 --> 00:23:24.810\nI think you might be onto something here.\n\n366\n00:23:24.810 --> 00:23:29.540\nSo let's go ahead and take a look at\nmy screen and if we're not playing,\n\n367\n00:23:29.540 --> 00:23:30.270\ndon't run this.\n\n368\n00:23:30.270 --> 00:23:34.580\nBut that doesn't mean don't run\nthis in the opposite context.\n\n369\n00:23:34.580 --> 00:23:36.910\nSo let's say if we aren't playing.\n\n370\n00:23:38.250 --> 00:23:43.113\nIf we surround this in else, that'll work,\nbut you know there's quick test because if\n\n371\n00:23:43.113 --> 00:23:47.910\nZach's right after I do all of this, like\nfillText the stuff, I immediately clear\n\n372\n00:23:49.190 --> 00:23:53.135\nthe rack, I wipe over it, whoops.\n\n373\n00:23:53.135 --> 00:23:57.950\nSo that was a whoopsie daisy on my part,\nso I'm going-\n\n374\n00:23:57.950 --> 00:23:58.688\n&gt;&gt; Teachable moment.\n\n375\n00:23:58.688 --> 00:23:59.341\n&gt;&gt; It is, yeah.\n\n376\n00:23:59.341 --> 00:24:01.143\nNow I'm going to put a return here,\n\n377\n00:24:01.143 --> 00:24:04.157\nI may come back and\ndo an L statement just to keep the return.\n\n378\n00:24:04.157 --> 00:24:07.677\nBut this is fine for something like this.\n\n379\n00:24:07.677 --> 00:24:11.566\nAnd what they should do is stop the render\nfunction if the game's over from\n\n380\n00:24:11.566 --> 00:24:16.840\nclearing the rectangle and re-rendering\npellets and fighters and things like that.\n\n381\n00:24:16.840 --> 00:24:20.500\nAnd what that also means is it\nkinda freezes everything in place.\n\n382\n00:24:22.440 --> 00:24:26.760\nSo let's go ahead and boom,\nboom, boom, boom, boom.\n\n383\n00:24:26.760 --> 00:24:28.470\nWe'll see if Zach was right.\n\n384\n00:24:29.670 --> 00:24:33.900\nAnd we're working here, and there we go.\n\n385\n00:24:33.900 --> 00:24:35.100\nWe now have a game over.\n\n386\n00:24:35.100 --> 00:24:36.540\nNow one quick aside.\n\n387\n00:24:36.540 --> 00:24:38.340\nThis game over, it's on the right.\n\n388\n00:24:38.340 --> 00:24:39.580\nI'm okay with that.\n\n389\n00:24:39.580 --> 00:24:41.730\nIf you wanted this to\nbe perfectly centered,\n\n390\n00:24:41.730 --> 00:24:46.650\nthen you're gonna have to\noffset the position of this.\n\n391\n00:24:46.650 --> 00:24:51.870\nI think, let's see,\nif this is 48 pixels in size,\n\n392\n00:24:51.870 --> 00:24:55.790\nyou can't do that, I lied.\n\n393\n00:24:55.790 --> 00:25:00.340\nYou would have to figure out\nan appropriate measurement to figure out\n\n394\n00:25:00.340 --> 00:25:04.950\nhow big the box is for the given\nlength of message, find half that,\n\n395\n00:25:04.950 --> 00:25:07.690\noffset it and figure that part out.\n\n396\n00:25:07.690 --> 00:25:11.100\nSo, it can be done,\nit's not ultimately to me,\n\n397\n00:25:11.100 --> 00:25:14.650\nbut if it bothers you,\nthen definitely check that out.\n\n398\n00:25:14.650 --> 00:25:20.130\nBut, Zach, I look at this,\nand other than the fact\n\n399\n00:25:20.130 --> 00:25:24.412\nthat I can never win at this [SOUND]\n&gt;&gt; [LAUGH]\n\n400\n00:25:24.412 --> 00:25:25.799\n&gt;&gt; I can't win.\n\n401\n00:25:25.799 --> 00:25:29.020\n&gt;&gt; [APPLAUSE]\n&gt;&gt; So now here's what I wanna do at\n\n402\n00:25:29.020 --> 00:25:34.110\nthis point, I would probably just go\nup no more and start over, right?\n\n403\n00:25:34.110 --> 00:25:36.939\nCreate a new swarm, do it again.\n\n404\n00:25:36.939 --> 00:25:43.530\nAnd in order to do that I think\ninstead of passing the swarm in,\n\n405\n00:25:43.530 --> 00:25:49.110\nI would probably create swarm internal\nto the game like move this around.\n\n406\n00:25:49.110 --> 00:25:52.960\nAnd so, so here's how I create a swarm.\n\n407\n00:25:53.970 --> 00:25:59.800\nI would probably now passing the sprites\ncreate that the objects internally and\n\n408\n00:25:59.800 --> 00:26:01.710\nthen we're just creating the game.\n\n409\n00:26:01.710 --> 00:26:03.470\nSo that, that's.\n\n410\n00:26:03.470 --> 00:26:06.110\nI wanted to leave a few challenges,\nbecause these are, these are fun.\n\n411\n00:26:07.360 --> 00:26:11.740\nHowever, let's see if I\ncan get multiple sounds.\n\n412\n00:26:11.740 --> 00:26:12.780\nI'm gonna turn this down.\n\n413\n00:26:12.780 --> 00:26:14.570\nLet's see if all of these sounds work.\n\n414\n00:26:14.570 --> 00:26:16.870\nNow I'm gonna fire and\ntry to hit a couple of these.\n\n415\n00:26:16.870 --> 00:26:18.570\nLet it, let it do its thing.\n\n416\n00:26:18.570 --> 00:26:20.310\nAnd I think I should be able to hit them.\n\n417\n00:26:20.310 --> 00:26:24.010\nBut see if our game over also still\nworks with our background music playing.\n\n418\n00:26:24.010 --> 00:26:28.090\nSo, this is kind of a and\nI'm gonna let you all take it over.\n\n419\n00:26:28.090 --> 00:26:30.880\nSo, all right.\n\n420\n00:26:30.880 --> 00:26:36.568\nSo I know all those sounds were\n[SOUND] and boom, there we,\n\n421\n00:26:36.568 --> 00:26:41.321\nbut why is the background\nsound still playing?\n\n422\n00:26:41.321 --> 00:26:44.000\nWell, it's not internal.\n\n423\n00:26:46.210 --> 00:26:47.810\nAs I turn on with Siri.\n\n424\n00:26:47.810 --> 00:26:50.980\nIt's not internal to the game.\n\n425\n00:26:50.980 --> 00:26:55.310\nNow, actually I'm gonna fix that real\nquick because that does bother me.\n\n426\n00:26:55.310 --> 00:26:57.960\nThe game over message doesn't\nbother me but that does bother me.\n\n427\n00:26:57.960 --> 00:27:02.985\nSo what I would do is I would\nsay gamePlayAudio.loop true but\n\n428\n00:27:02.985 --> 00:27:05.958\nlet's just call this background.\n\n429\n00:27:05.958 --> 00:27:10.700\nLike so, gamePlayAudio.\n\n430\n00:27:10.700 --> 00:27:13.035\nI'm gonna pass this in\nto the construction.\n\n431\n00:27:13.035 --> 00:27:17.750\nAnd I come over here and\nnow I have sounds and\n\n432\n00:27:17.750 --> 00:27:21.230\nI'm gonna say this.sounds.BACKGROUND.play.\n\n433\n00:27:21.230 --> 00:27:26.215\nSo, that will get kicked off but\nwhen I'm done.\n\n434\n00:27:26.215 --> 00:27:30.030\nRight?\nWhen I get to here, and\n\n435\n00:27:30.030 --> 00:27:33.470\nI know this is game over, wait for it.\n\n436\n00:27:33.470 --> 00:27:34.970\nWhere's my game over?\n\n437\n00:27:34.970 --> 00:27:36.240\nThere we go.\n\n438\n00:27:36.240 --> 00:27:41.135\nThen I want to say\nthis.sounds.BACKGROUND.stop.\n\n439\n00:27:41.135 --> 00:27:43.280\nAnd it's stop.\n\n440\n00:27:43.280 --> 00:27:44.745\nLet's test it down one more time.\n\n441\n00:27:44.745 --> 00:27:50.106\n[SOUND] All right, so that one works.\n\n442\n00:27:50.106 --> 00:27:54.961\n[SOUND] Stop it's not a function,\n\n443\n00:27:54.961 --> 00:27:59.675\nI messed up I do need to turn that off.\n\n444\n00:27:59.675 --> 00:28:01.700\n&gt;&gt; Live action debugging.\n\n445\n00:28:01.700 --> 00:28:04.210\n&gt;&gt; Yep, live action debugging,\nright at the very end.\n\n446\n00:28:04.210 --> 00:28:08.390\nSo if I refresh not that,\nrefresh this so we can turn that off.\n\n447\n00:28:08.390 --> 00:28:10.570\nSo we're gonna go back a little bit and\n\n448\n00:28:10.570 --> 00:28:15.640\nI think I might have just\ncalled the wrong method name.\n\n449\n00:28:15.640 --> 00:28:21.060\nSo stop loop played, so that's the audio,\n\n450\n00:28:21.060 --> 00:28:27.220\naudio, and I need some methods examples.\n\n451\n00:28:28.690 --> 00:28:29.940\nSo that's the audio tag.\n\n452\n00:28:29.940 --> 00:28:31.156\nLet's see.\n\n453\n00:28:31.156 --> 00:28:36.020\nI don't even know why I'm doing this.\n\n454\n00:28:36.020 --> 00:28:37.350\nI can just try it over\nhere in the console.\n\n455\n00:28:38.470 --> 00:28:42.111\nSo const audio equals new audio.\n\n456\n00:28:44.789 --> 00:28:47.500\nAnd stop is not a function, that's fine.\n\n457\n00:28:47.500 --> 00:28:49.820\nWe know that, that happened before.\n\n458\n00:28:49.820 --> 00:28:54.900\nAnd then stop, let's see, duration,\n\n459\n00:28:54.900 --> 00:29:01.520\ncontrols, current spec,\nloop Pause hey pause.\n\n460\n00:29:01.520 --> 00:29:04.130\n&gt;&gt; Maybe.\n\n461\n00:29:04.130 --> 00:29:05.280\n&gt;&gt; Maybe pause.\n\n462\n00:29:05.280 --> 00:29:10.540\nI think pause is probably gonna work\nbest here, cuz I don't see any stop.\n\n463\n00:29:12.180 --> 00:29:13.730\nStop, stop, stop, stop, stop.\n\n464\n00:29:13.730 --> 00:29:14.340\nOkay.\n\n465\n00:29:14.340 --> 00:29:17.500\nSo that was my, I always so\nwe're gonna go with play.\n\n466\n00:29:17.500 --> 00:29:21.090\nAnd we're gonna change this to pause.\n\n467\n00:29:21.090 --> 00:29:24.670\nAnd we're gonna cross our fingers Zach.\n\n468\n00:29:24.670 --> 00:29:25.985\nAll right, so this works.\n\n469\n00:29:25.985 --> 00:29:29.874\nAnd, oops.\n[SOUND] All right, so it's working,\n\n470\n00:29:29.874 --> 00:29:31.100\nit's good.\n\n471\n00:29:34.590 --> 00:29:35.820\nAnd there we go.\n\n472\n00:29:35.820 --> 00:29:39.392\nWe have kind of a final game and\nwell this is a setup.\n\n473\n00:29:39.392 --> 00:29:43.500\nYou should take it over, add a scoreboard,\nadd a level counter, change the levels.\n\n474\n00:29:43.500 --> 00:29:47.070\nAnd you may have to restructure the things\nthat I've done because this is kind of my\n\n475\n00:29:47.070 --> 00:29:49.650\nultimate goal when I started out, and\n\n476\n00:29:49.650 --> 00:29:52.540\ncode is always kind of ever evolving and\nchanging.\n\n477\n00:29:52.540 --> 00:29:57.140\nSo you don't have to be married\nto the set up that I have here.\n\n478\n00:29:57.140 --> 00:29:58.250\n&gt;&gt; Great job, Justin.\n\n479\n00:29:58.250 --> 00:30:00.796\nI've enjoyed the heck out of this series,\nand\n\n480\n00:30:00.796 --> 00:30:03.488\nthis is HTML5 Canvas Projects\nending the game.\n\n481\n00:30:03.488 --> 00:30:05.360\nThat's the name of this episode.\n\n482\n00:30:05.360 --> 00:30:06.640\nJustin, any last words?\n\n483\n00:30:06.640 --> 00:30:08.780\n&gt;&gt; Well, just to reiterate.\n\n484\n00:30:08.780 --> 00:30:10.080\nTake what I have here.\n\n485\n00:30:10.080 --> 00:30:14.040\nTake the scaffolding so\nto speak and try a few things out.\n\n486\n00:30:14.040 --> 00:30:16.480\nTry to break it, see what's wrong with it.\n\n487\n00:30:16.480 --> 00:30:19.840\nI can tell you there's probably about\nthree things that if I do this again I\n\n488\n00:30:19.840 --> 00:30:25.840\nwould probably change things and actually\nI commented about one during this episode.\n\n489\n00:30:25.840 --> 00:30:29.400\nI would create the swarm upon construction\nof the game instead of creating the swarm\n\n490\n00:30:29.400 --> 00:30:33.990\nprior to and what that means is I need\nto instead of passing the swarm and\n\n491\n00:30:33.990 --> 00:30:38.470\nthe fighter passing the respective sprites\nsimilar to what I did with the sounds.\n\n492\n00:30:38.470 --> 00:30:41.490\nAnd then construct the swarm and\nfighter respectively and\n\n493\n00:30:41.490 --> 00:30:45.355\nthat's gonna allow me to do level\ncounts and so on and so forth.\n\n494\n00:30:45.355 --> 00:30:49.956\nSo keep that in mind as you go on and\ntry to add some features of your own.\n\n495\n00:30:49.956 --> 00:30:52.650\n&gt;&gt; Add mode attack, we had a great time.\n\n496\n00:30:52.650 --> 00:30:56.100\nMake sure you watch every single\nepisode of HTML5 canvas projects,\n\n497\n00:30:56.100 --> 00:30:58.600\nalso take a look at the other\nvideos in our course library,\n\n498\n00:30:58.600 --> 00:31:02.950\nhundreds of them all designed to\ndo one thing, help you go further.\n\n499\n00:31:02.950 --> 00:31:06.030\nAnd thank you for watching DEVPRO.TV,\ntell everybody you know about DEVPRO.TV,\n\n500\n00:31:06.030 --> 00:31:07.440\nthey'll be glad you did.\n\n501\n00:31:07.440 --> 00:31:09.087\nThanks for watching, I'm Zach Memos.\n\n502\n00:31:09.087 --> 00:31:10.595\n&gt;&gt; And I'm Justin Dennison.\n&gt;&gt; And we will see you soon\n\n503\n00:31:10.595 --> 00:31:20.595\n[SOUND]\n\n",
          "vimeoId": "240012329"
        }
      ],
      "title": "AtmoAttack"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Zack and Justin plan out a graphical editing application in the browser that will allow for basic drawing in the browser.",
          "length": "1023",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-4-1-1-planning_the_devpaint_project-100617-PGM.00_16_54_20.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-4-1-1-planning_the_devpaint_project-100617-PGM.00_16_54_20.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-4-1-1-planning_the_devpaint_project-100617-PGM.00_16_54_20.Still001-sm.jpg",
          "title": "Planning The Devpaint Project",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.764 --> 00:00:17.010\nHello and thank you for choosing DevProTV,\nhelping you wherever you go.\n\n3\n00:00:17.010 --> 00:00:20.920\nI'm your host Zach Memos and\nthis is HTML5 Canvas Projects.\n\n4\n00:00:20.920 --> 00:00:24.330\nAnd what we're doing now is\nplanning the DevPaint project.\n\n5\n00:00:24.330 --> 00:00:25.650\nWhat is it all about?\n\n6\n00:00:25.650 --> 00:00:27.970\nAnd well, Justin Dennison's here and\nhe's going to tell us all about it.\n\n7\n00:00:27.970 --> 00:00:29.310\nJustin good to see you again, sir.\n\n8\n00:00:29.310 --> 00:00:31.820\n&gt;&gt; It is good to be back Zach and\nthanks for having me in the studio.\n\n9\n00:00:31.820 --> 00:00:32.970\nAnd how are you today?\n\n10\n00:00:32.970 --> 00:00:37.090\n&gt;&gt; Well I'm excited and I'm excited about\nthe new endeavor here, well new to us.\n\n11\n00:00:37.090 --> 00:00:38.690\nOf course you could be\nwatching this out of order,\n\n12\n00:00:38.690 --> 00:00:40.670\nbut tell us about the DevPaint project.\n\n13\n00:00:40.670 --> 00:00:41.470\nWhat is it all about?\n\n14\n00:00:41.470 --> 00:00:46.720\n&gt;&gt; Up until this point I've been doing\nsome games and things like that,\n\n15\n00:00:46.720 --> 00:00:49.800\nor maybe this is the very first one that\nyou're watching depending on whether\n\n16\n00:00:49.800 --> 00:00:54.070\nyou're watching this live, prerecorded,\nor maybe like what is this.\n\n17\n00:00:54.070 --> 00:00:58.941\nSo I was thinking I've been doing\nall this with a Canvas right?\n\n18\n00:00:58.941 --> 00:01:03.346\nBut I've never really,\nlike I've done keyboard commands but\n\n19\n00:01:03.346 --> 00:01:08.681\nreally haven't done anything with\nthe mouse other than you can click on it.\n\n20\n00:01:08.681 --> 00:01:12.069\nAnd then I was like one of my favorite\nthings to do when I was younger on\n\n21\n00:01:12.069 --> 00:01:16.066\nthe computer was to grab out like an old\nMicrosoft Paint and things like that.\n\n22\n00:01:16.066 --> 00:01:17.050\n&gt;&gt; Sure me too.\n\n23\n00:01:17.050 --> 00:01:18.133\n&gt;&gt; And make a bunch of scribble, right?\n\n24\n00:01:18.133 --> 00:01:19.630\n&gt;&gt; Absolutely.\n\n25\n00:01:19.630 --> 00:01:21.727\n&gt;&gt; And then you would fill,\nand I was like,\n\n26\n00:01:21.727 --> 00:01:24.908\nactually that's almost like\na canvas painting, right?\n\n27\n00:01:24.908 --> 00:01:27.084\nDevPaint.\n\n28\n00:01:27.084 --> 00:01:29.350\nI think I can program that.\n\n29\n00:01:29.350 --> 00:01:31.780\nSo that was kind of the impetus there.\n\n30\n00:01:31.780 --> 00:01:34.920\nLet's build a very reduced\nfunctionality call,\n\n31\n00:01:34.920 --> 00:01:37.840\nI'm talking minimal\nviable kind of solution.\n\n32\n00:01:38.970 --> 00:01:41.090\nI want to be able to change colors.\n\n33\n00:01:41.090 --> 00:01:46.810\nI want to be able to maybe get some sizes,\nmaybe save the image, who knows?\n\n34\n00:01:46.810 --> 00:01:50.970\nBut, in this episode I think we can flesh\nthat out, get our project set up, and\n\n35\n00:01:50.970 --> 00:01:53.480\nthat way we could start building, well,\n\n36\n00:01:53.480 --> 00:01:58.720\nour very own childhood nostalgia\napplication inside of the browser.\n\n37\n00:01:58.720 --> 00:02:00.090\n&gt;&gt; Some more retro fun.\n\n38\n00:02:00.090 --> 00:02:05.340\n&gt;&gt; Yeah, I dunno maybe, I've been\non a huge retro kick here lately.\n\n39\n00:02:05.340 --> 00:02:05.990\nBut that's all right.\n\n40\n00:02:05.990 --> 00:02:07.570\n&gt;&gt; Everything old is new again, Justin.\n\n41\n00:02:07.570 --> 00:02:10.860\n&gt;&gt; If you've watched any\nof the previous projects\n\n42\n00:02:10.860 --> 00:02:15.538\nyou'll know that I'm really trying to\ndrive home that we need to plan, right?\n\n43\n00:02:15.538 --> 00:02:20.410\nI say draw, think about how users\nare gonna interact with it, and\n\n44\n00:02:20.410 --> 00:02:21.660\nyou may be the only user right?\n\n45\n00:02:21.660 --> 00:02:24.050\nThis might just be a pet project for you.\n\n46\n00:02:24.050 --> 00:02:29.220\nSo we're gonna draw, we're gonna label,\nwe're kinda gonna plan out, set out our\n\n47\n00:02:29.220 --> 00:02:34.680\nstructure of our application, and that way\nwe can take those small bites at a time.\n\n48\n00:02:34.680 --> 00:02:38.820\nAnd there's limited surprises, instead\nof if you just start coding sometimes\n\n49\n00:02:38.820 --> 00:02:40.330\nyou'll just like, this isn't gonna work.\n\n50\n00:02:40.330 --> 00:02:43.747\nI've done that, full disclosure,\nI'll sit down [SOUND] and\n\n51\n00:02:43.747 --> 00:02:45.959\nthen you paint yourself into a corner.\n\n52\n00:02:45.959 --> 00:02:48.766\nOr you lay down a bunch of\nmouse traps around yourself and\n\n53\n00:02:48.766 --> 00:02:50.030\nnow you're in a corner.\n\n54\n00:02:50.030 --> 00:02:51.750\n&gt;&gt; You paint yourself into\na corner metaphorically.\n\n55\n00:02:51.750 --> 00:02:53.693\n[LAUGH]\n&gt;&gt; Yeah, metaphorically.\n\n56\n00:02:53.693 --> 00:02:57.350\nSo, let's go ahead and come over to the\nsky cam and do a little bit of planning.\n\n57\n00:02:57.350 --> 00:02:58.942\nA little bit of drawing, so to speak.\n\n58\n00:02:58.942 --> 00:03:04.220\nNow all right, here's what I'm thinking,\nwhen we open the web page,\n\n59\n00:03:04.220 --> 00:03:08.120\nwe have something that looks like this.\n\n60\n00:03:08.120 --> 00:03:10.270\nNow, if you can think about it.\n\n61\n00:03:10.270 --> 00:03:13.830\nEffectively, what I want to build\nis the ability to have a marker and\n\n62\n00:03:13.830 --> 00:03:14.875\ndraw on the screen.\n\n63\n00:03:14.875 --> 00:03:18.100\n&gt;&gt; [LAUGH]\n&gt;&gt; So this is kind of a-\n\n64\n00:03:18.100 --> 00:03:19.180\n&gt;&gt; Like a hand holding a marker.\n\n65\n00:03:19.180 --> 00:03:20.420\n&gt;&gt; This is meta and\n\n66\n00:03:20.420 --> 00:03:24.450\nactually I could do that\n&gt;&gt; For now, let's just hold off on that.\n\n67\n00:03:25.470 --> 00:03:32.330\nAnd I'm thinking initially, I wanna build\njust the ability to draw, maybe in black.\n\n68\n00:03:32.330 --> 00:03:33.110\nThe default.\n\n69\n00:03:34.160 --> 00:03:39.000\nBut long-term kind of\na minimal viable solution\n\n70\n00:03:39.000 --> 00:03:42.940\nbecause there's a bunch of complex things\nyou can do like fills and patterns.\n\n71\n00:03:42.940 --> 00:03:46.530\nAnd you can do some of those things, but\nlet's just worry about the interactions\n\n72\n00:03:46.530 --> 00:03:50.110\nwith the mouse and a few other\nlike settings that we can have.\n\n73\n00:03:50.110 --> 00:03:53.310\nSo I'm thinking like a color\nselector right here.\n\n74\n00:03:53.310 --> 00:03:56.662\nColor selector.\n\n75\n00:03:56.662 --> 00:04:03.260\nOkay, so when I click on this,\nI have the ability to select a color.\n\n76\n00:04:03.260 --> 00:04:05.100\n&gt;&gt; Change colors, yeah, sounds good.\n\n77\n00:04:05.100 --> 00:04:08.220\n&gt;&gt; And I'm thinking maybe like a,\n\n78\n00:04:08.220 --> 00:04:13.662\nif I just get really frustrated,\nI want a Clear button.\n\n79\n00:04:13.662 --> 00:04:19.550\nAnd then, maybe it's easier,\nyou know what?\n\n80\n00:04:19.550 --> 00:04:20.400\nI don't want a button for that.\n\n81\n00:04:22.030 --> 00:04:24.040\nMaybe a little slider for size.\n\n82\n00:04:26.010 --> 00:04:27.627\n&gt;&gt; Scale, scale button.\n\n83\n00:04:27.627 --> 00:04:28.930\n&gt;&gt; It could be on scale.\n\n84\n00:04:28.930 --> 00:04:34.477\nI'm thinking size of the tool,\nlike this is a medium to thick tip marker,\n\n85\n00:04:34.477 --> 00:04:39.450\nbut maybe I could pull this over\nto the left, for thin, right?\n\n86\n00:04:39.450 --> 00:04:40.710\n&gt;&gt; For the line itself.\n\n87\n00:04:40.710 --> 00:04:41.970\nYeah, that's great.\n\n88\n00:04:41.970 --> 00:04:47.103\n&gt;&gt; And then I can pull this over here for\nkind of thicker lines.\n\n89\n00:04:47.103 --> 00:04:51.229\nSo I'd have the ability to have\na bunch of different color lines.\n\n90\n00:04:51.229 --> 00:04:55.530\nI'd have the ability to have thin and\nthick lines and I can clear.\n\n91\n00:04:55.530 --> 00:04:59.260\nNow it's kind of a very\nminimal solution but\n\n92\n00:04:59.260 --> 00:05:04.100\nwe'll find out there's a little\nmore to it than [INAUDIBLE].\n\n93\n00:05:04.100 --> 00:05:06.700\nI'm pretty sure we're gonna find that out.\n\n94\n00:05:06.700 --> 00:05:11.231\nNow, what would happen, and\nlet's draw all this in just a little bit.\n\n95\n00:05:11.231 --> 00:05:12.570\nLet's say that I picked blue.\n\n96\n00:05:13.940 --> 00:05:19.040\nThat means that this color selector,\nI've picked blue, and now as I click and\n\n97\n00:05:19.040 --> 00:05:23.210\ndrag, I can make blue scribbles.\n\n98\n00:05:23.210 --> 00:05:28.630\nAnd then let's say that I click and\nmake this red.\n\n99\n00:05:28.630 --> 00:05:32.430\nSo this is now done and\nthis is red, like so.\n\n100\n00:05:34.030 --> 00:05:40.220\nAnd now I can scribble in red and\nso on and so forth.\n\n101\n00:05:40.220 --> 00:05:42.470\nAnd this is gonna be a little bit harder.\n\n102\n00:05:42.470 --> 00:05:46.780\nBut now let's say that boom,\nI've moved this over here.\n\n103\n00:05:46.780 --> 00:05:48.640\n&gt;&gt; And make it a thicker line, right?\n\n104\n00:05:48.640 --> 00:05:53.293\n&gt;&gt; And to simulate this,\nwe're still on red, excuse me.\n\n105\n00:05:53.293 --> 00:05:54.558\n[CROSSTALK]\n&gt;&gt; That's right.\n\n106\n00:05:54.558 --> 00:05:55.396\nWe're on red, yes.\n\n107\n00:05:59.756 --> 00:06:01.210\n&gt;&gt; Let's say I draw that.\n\n108\n00:06:01.210 --> 00:06:08.360\nNow I'm scribbling here because I\ndon't have a very fat tipped marker.\n\n109\n00:06:09.590 --> 00:06:12.010\nSo now I would have\nthe ability to draw a line.\n\n110\n00:06:12.010 --> 00:06:16.075\nWe assume that it's a little more\nuniform than I have drawn it here.\n\n111\n00:06:16.075 --> 00:06:17.245\nSo there we go.\n\n112\n00:06:17.245 --> 00:06:21.525\nSo that would be kind of thick and\nthin, and I can draw paths.\n\n113\n00:06:21.525 --> 00:06:25.275\nAnd I think that's a good first\napproximation of being able to have this\n\n114\n00:06:25.275 --> 00:06:27.225\npaint facility.\n\n115\n00:06:27.225 --> 00:06:33.605\nI will forewarn you, we're not initially\ngoing to or possibly even at all.\n\n116\n00:06:33.605 --> 00:06:36.225\nI don't think I'm gonna worry about\nlike the paint bucket utility.\n\n117\n00:06:36.225 --> 00:06:40.930\nWhere I could come in here and\nactually click and then fill in between.\n\n118\n00:06:40.930 --> 00:06:45.660\nBut also drawing polygons, where if\nI wanted to draw, based on clicks,\n\n119\n00:06:45.660 --> 00:06:46.710\na triangle.\n\n120\n00:06:46.710 --> 00:06:49.360\nI could click three points and\nit would draw a triangle.\n\n121\n00:06:49.360 --> 00:06:54.272\nWe are going to stay away from that for\nnow, mainly because determining if this is\n\n122\n00:06:54.272 --> 00:06:59.350\nbetween two paths, it just takes,\nbelieve it or not, a chunk of math.\n\n123\n00:06:59.350 --> 00:07:00.230\n&gt;&gt; Which it does.\n\n124\n00:07:00.230 --> 00:07:06.760\n&gt;&gt; And the polygons, those might\nbe an extension, but ideally if\n\n125\n00:07:06.760 --> 00:07:11.250\nwe have this basic kind of feel, we could\nkeep on adding and adding and adding.\n\n126\n00:07:11.250 --> 00:07:16.100\nSo maybe a little simpler than\nsome of the previous projects, but\n\n127\n00:07:16.100 --> 00:07:20.460\nit does address mouse clicks and\nkeeping mouse events and\n\n128\n00:07:20.460 --> 00:07:24.848\nthings like that,\nthat then respond on to the canvas.\n\n129\n00:07:24.848 --> 00:07:29.426\nSo, that our kind of simplistic view and\nI think it's going to be fairly-\n\n130\n00:07:29.426 --> 00:07:31.210\n&gt;&gt; It's a good plan, I think.\n\n131\n00:07:31.210 --> 00:07:32.950\n&gt;&gt; Fairly easy to mess with.\n\n132\n00:07:34.240 --> 00:07:37.320\nSo that's what we want to do, and\n\n133\n00:07:37.320 --> 00:07:42.370\nnow that we kind of have our plan ready,\nwhat should we do?\n\n134\n00:07:42.370 --> 00:07:43.730\nWe should probably do\na little of set up and\n\n135\n00:07:43.730 --> 00:07:47.700\nmake sure our project is ready to go, and\nthat way we can take one step at a time,\n\n136\n00:07:47.700 --> 00:07:50.380\nyou can follow along, and\nwe'll be ready to go.\n\n137\n00:07:50.380 --> 00:07:53.010\nSo lets go ahead and\ntake a look at my screen here.\n\n138\n00:07:53.010 --> 00:07:55.110\nI have Chrome browser open.\n\n139\n00:07:55.110 --> 00:07:58.280\nYou should probably use Chrome cuz I'm\ngonna use some of the debugging tools in\n\n140\n00:07:58.280 --> 00:08:00.190\nsome of the things to show you.\n\n141\n00:08:00.190 --> 00:08:04.020\nAnd I have Atom,\ntext editor of your choice.\n\n142\n00:08:04.020 --> 00:08:05.160\n&gt;&gt; I have Atom too.\n\n143\n00:08:05.160 --> 00:08:09.290\n&gt;&gt; I recommend Atom, and\nthen I have a folder called DevPaint.\n\n144\n00:08:09.290 --> 00:08:11.720\nI just created that folder.\n\n145\n00:08:11.720 --> 00:08:15.640\nYou can create a new folder or\nyou can add project folder and\n\n146\n00:08:15.640 --> 00:08:18.220\nadd a folder from your computer.\n\n147\n00:08:19.420 --> 00:08:24.570\nNow within that folder,\nI'm gonna create these three thoughts.\n\n148\n00:08:24.570 --> 00:08:27.675\nAnd we may not need all of them, but\nI always put them there just in case.\n\n149\n00:08:27.675 --> 00:08:34.763\nMain.css, New File, and\nthat's Index.html and\n\n150\n00:08:34.763 --> 00:08:41.205\nthen just to mix it up\nlet's call it paint.js or\n\n151\n00:08:41.205 --> 00:08:49.110\nmore specifically devpaint.js,\njust like that.\n\n152\n00:08:49.110 --> 00:08:52.150\nSo change that up then versus\nsome other projects again.\n\n153\n00:08:52.150 --> 00:08:56.113\nJust to reinforce, there's nothing\nmagical about these per se.\n\n154\n00:08:56.113 --> 00:09:00.180\nNow there are some conventions,\nthe index.html, a lot of static hosting.\n\n155\n00:09:00.180 --> 00:09:03.045\nIf you want to put this on the web,\nthey're going to be looking for\n\n156\n00:09:03.045 --> 00:09:07.560\nindex.html, so it actually makes your\nlife easier to just use index.html.\n\n157\n00:09:07.560 --> 00:09:13.382\nSo I want to get rid of this,\nI'm not getting rid of this excuse me.\n\n158\n00:09:13.382 --> 00:09:17.810\nI'm just going to put a console.log,\nhere we go.\n\n159\n00:09:19.660 --> 00:09:20.340\nJust like that.\n\n160\n00:09:20.340 --> 00:09:24.840\nAnd inside of index.html in Atom,\nyou could type html and hit Enter.\n\n161\n00:09:24.840 --> 00:09:28.640\nWell, let's create DevPaint.\n\n162\n00:09:28.640 --> 00:09:31.920\nAnd let's create a link\nthat is a style sheet, but\n\n163\n00:09:31.920 --> 00:09:33.495\nthat is not the appropriate href.\n\n164\n00:09:33.495 --> 00:09:37.455\n[SOUND] Main, like so, and\n\n165\n00:09:37.455 --> 00:09:41.241\nthen I need a script tag.\n\n166\n00:09:41.241 --> 00:09:46.308\nNow if I go to script source, it doesn't\ndo where I have to backspace and\n\n167\n00:09:46.308 --> 00:09:49.720\nthings like that, so this is dev-paint.js.\n\n168\n00:09:49.720 --> 00:09:54.662\nNow, you've watched any of my other\nprojects you'll know this kind of grows as\n\n169\n00:09:54.662 --> 00:09:55.706\nwe need it to be.\n\n170\n00:09:55.706 --> 00:09:57.940\n&gt;&gt; They always do\n&gt;&gt; And\n\n171\n00:09:57.940 --> 00:10:01.410\nthat's really how you'd\nattack a project like this.\n\n172\n00:10:01.410 --> 00:10:02.030\nSeems simple.\n\n173\n00:10:02.030 --> 00:10:03.434\nIt's good to go.\n\n174\n00:10:03.434 --> 00:10:04.422\nMaybe not.\n\n175\n00:10:04.422 --> 00:10:06.531\n&gt;&gt; [LAUGH]\n&gt;&gt; Maybe not.\n\n176\n00:10:06.531 --> 00:10:08.320\n&gt;&gt; It might need some reverse engineering.\n\n177\n00:10:08.320 --> 00:10:09.120\n&gt;&gt; We'll see.\n\n178\n00:10:09.120 --> 00:10:14.217\nSo, let's make sure all of this\nkind of loads like the app.js and\n\n179\n00:10:14.217 --> 00:10:16.915\nthe main.css load onto the page.\n\n180\n00:10:16.915 --> 00:10:17.578\nWe'll go ahead and\n\n181\n00:10:17.578 --> 00:10:20.070\nsetup our drawing area because\nthe canvas is pretty straight forward.\n\n182\n00:10:21.860 --> 00:10:26.289\nThen we'll have our initial project set up\nand then we'll start attacking features.\n\n183\n00:10:26.289 --> 00:10:30.640\nSo this main.css, let's say body.\n\n184\n00:10:32.110 --> 00:10:35.470\nZach, favorite color, what is it?\n\n185\n00:10:35.470 --> 00:10:38.270\n&gt;&gt; Blue.\n&gt;&gt; Blue, let's go see if it works.\n\n186\n00:10:38.270 --> 00:10:42.100\nAnd I could serve this up using\na local server or something like that.\n\n187\n00:10:42.100 --> 00:10:47.330\nBut since this is just static JavaScript,\nwhat I mean by static is I'm not\n\n188\n00:10:47.330 --> 00:10:51.500\nhaving to like make a server request, it's\njust a file that loads into the browser.\n\n189\n00:10:51.500 --> 00:10:57.128\nCSS and index.html,\nwe don't need a server for this.\n\n190\n00:10:57.128 --> 00:11:00.490\nSo if we come over to DevPaint and\nI open index.html.\n\n191\n00:11:00.490 --> 00:11:05.240\nAnd, well there's Zach's blue background,\nthat's actually a lot broader, brighter.\n\n192\n00:11:05.240 --> 00:11:09.230\nSee, it's so bright,\nI'm messing up my words.\n\n193\n00:11:09.230 --> 00:11:13.260\nAnd then if I open up the console,\nit looks like everything's good to go.\n\n194\n00:11:13.260 --> 00:11:16.380\nSo as long as we have that set up,\nwe're ready to move on-\n\n195\n00:11:16.380 --> 00:11:16.945\n&gt;&gt; Yes indeed.\n\n196\n00:11:16.945 --> 00:11:18.280\n&gt;&gt; To kind of this next part.\n\n197\n00:11:18.280 --> 00:11:21.273\nAnd I'm sorry, Zach,\nI'm gonna remove that blue,\n\n198\n00:11:21.273 --> 00:11:24.570\nbecause it hurts my face,\nit hurts my face a great deal.\n\n199\n00:11:24.570 --> 00:11:26.710\n&gt;&gt; You can make it chartreuse if you want.\n\n200\n00:11:26.710 --> 00:11:32.050\n&gt;&gt; I could make it chartreuse, let's\ngo with light blue, that's not as bad.\n\n201\n00:11:32.050 --> 00:11:33.560\n&gt;&gt; No, that's nice sure.\n\n202\n00:11:33.560 --> 00:11:36.470\n&gt;&gt; So we'll leave that,\nlet's change the light blue.\n\n203\n00:11:36.470 --> 00:11:39.849\nI'm not gonna spend a whole bunch of time\non styling so to speak it's more about\n\n204\n00:11:39.849 --> 00:11:42.946\nfunctionality but maybe something\na little bit different than white.\n\n205\n00:11:42.946 --> 00:11:48.860\nAlso that will allow us to see the canvas\nhopefully unless things are a little awry.\n\n206\n00:11:48.860 --> 00:11:52.190\nSo let's go head and build our canvas,\nget a couple other things set up and\n\n207\n00:11:52.190 --> 00:11:55.230\nthen we'll be ready to move on,\nso to speak.\n\n208\n00:11:56.420 --> 00:11:58.680\nSo, we're gonna create a canvas object,\n\n209\n00:11:58.680 --> 00:12:02.130\nand I could do this dynamically\ninside of the JavaScript file.\n\n210\n00:12:02.130 --> 00:12:05.930\nI'm just gonna put this plain cuz I\nthink I want this to be fairly fixed\n\n211\n00:12:06.990 --> 00:12:08.250\nas far as drawing area.\n\n212\n00:12:08.250 --> 00:12:09.290\nWe're not adding,\n\n213\n00:12:09.290 --> 00:12:12.090\nhey do you want a different size\ndrawing area or different size?\n\n214\n00:12:12.090 --> 00:12:16.205\nNo, no, no,\nwe're gonna keep this fairly simple.\n\n215\n00:12:16.205 --> 00:12:18.690\nLet's see here.\n\n216\n00:12:18.690 --> 00:12:21.340\nIf you hit Enter it's going to\ngive you an ID, a width, and\n\n217\n00:12:21.340 --> 00:12:26.850\na height in Atom by default,\nif I hit Enter on that drop down.\n\n218\n00:12:26.850 --> 00:12:31.050\nI'm going to call this,\nlet's just leave it canvas because\n\n219\n00:12:31.050 --> 00:12:34.430\nif we're painting that\nactually makes a lot of sense.\n\n220\n00:12:34.430 --> 00:12:41.552\nThe width, let's make this a little\nbit bigger, there's 600 and 400.\n\n221\n00:12:41.552 --> 00:12:48.028\nSo I wanna 3 to 2 ratio for\nour width to height.\n\n222\n00:12:48.028 --> 00:12:50.730\nAnd why not?\n\n223\n00:12:50.730 --> 00:12:52.460\nI guess I could do 16 by 9.\n\n224\n00:12:52.460 --> 00:12:55.470\nI can do giant, but we'll leave that be.\n\n225\n00:12:55.470 --> 00:13:00.357\nIf we come over here and we Refresh,\ndoesn't look like anything has happened.\n\n226\n00:13:00.357 --> 00:13:01.580\n&gt;&gt; Or does it?\n\n227\n00:13:01.580 --> 00:13:04.160\n&gt;&gt; And if I inspect it, it has.\n\n228\n00:13:04.160 --> 00:13:09.250\nExcept, by default, the canvas, and\n\n229\n00:13:09.250 --> 00:13:13.150\nI have it zoomed in a little bit, I'm\nactually gonna zoom in because sometimes,\n\n230\n00:13:13.150 --> 00:13:19.340\nnot over there though, sometimes it's\nhard to see so I have about 125% zoom.\n\n231\n00:13:19.340 --> 00:13:23.440\nAnd if I look at the canvas, we may\nwant to make that a little bigger, but\n\n232\n00:13:23.440 --> 00:13:26.940\nwe're going to leave it like that for\nnow, why can't I see it?\n\n233\n00:13:26.940 --> 00:13:31.377\nIf I come back to my CSS,\nand I say #canvas,\n\n234\n00:13:31.377 --> 00:13:35.810\nbecause I'm selecting the canvas\nwith the idea of canvas, maybe I\n\n235\n00:13:35.810 --> 00:13:39.910\nhave multiple canvases that have different\nthings on the page that they're doing.\n\n236\n00:13:39.910 --> 00:13:41.920\nBut this particular one which\nI'm going to be using for\n\n237\n00:13:41.920 --> 00:13:45.890\nthe paint, let's create\nthe background color to white.\n\n238\n00:13:45.890 --> 00:13:48.900\nAnd I think that will get us, there we go.\n\n239\n00:13:49.920 --> 00:13:51.065\nAnd remove this.\n\n240\n00:13:51.065 --> 00:13:55.282\nSo here's our painting fun times.\n\n241\n00:13:56.540 --> 00:14:01.006\nAnd now the last little bit,\nlet's go ahead and grab our canvas, and\n\n242\n00:14:01.006 --> 00:14:08.688\nlet's document.querySelector, #canvas.\n\n243\n00:14:08.688 --> 00:14:13.891\nAnd then we'll see here,\nthe context, which is actually what\n\n244\n00:14:13.891 --> 00:14:18.799\ndoes all the drawing and\nrendering, how we manipulate it,\n\n245\n00:14:18.799 --> 00:14:24.240\nis canvas.getContext(\"2d\")\ncontext just like so.\n\n246\n00:14:24.240 --> 00:14:29.320\nAnd let's see if this context works,\n\n247\n00:14:29.320 --> 00:14:35.206\nfilRect for the canvas starting at 0, 0.\n\n248\n00:14:37.650 --> 00:14:42.071\nCanvas,width / 2,\n\n249\n00:14:42.071 --> 00:14:48.592\ncanvas.height / 2) as well.\n\n250\n00:14:48.592 --> 00:14:49.838\nThere we go.\n\n251\n00:14:49.838 --> 00:14:52.600\nAnd I've colored the effort.\n\n252\n00:14:52.600 --> 00:14:55.878\nSo everything is good to go,\nI have the appropriate references.\n\n253\n00:14:55.878 --> 00:15:00.638\nWe have our design, we have our plan,\nand now what I'd like to do,\n\n254\n00:15:00.638 --> 00:15:05.070\nand I've tried to emphasize this as,\nyou just start simple.\n\n255\n00:15:07.300 --> 00:15:11.100\nWe're all set up, we're good to go, and\non the next episode, this has kind of been\n\n256\n00:15:11.100 --> 00:15:14.120\na shorter one, but I wanted to make\nsure everybody's on the same page.\n\n257\n00:15:14.120 --> 00:15:18.312\nIn the next episode, we actually start\nimplementing some of these small features\n\n258\n00:15:18.312 --> 00:15:20.085\nlike the ability to draw, right?\n\n259\n00:15:20.085 --> 00:15:24.027\nLet's not worry about color or\nanything else initially,\n\n260\n00:15:24.027 --> 00:15:27.250\nbecause as it stands,\nI need to click and drag.\n\n261\n00:15:27.250 --> 00:15:30.261\nAnd sometimes those interactions\ncan get a little difficult,\n\n262\n00:15:30.261 --> 00:15:32.431\nespecially if you need\nto keep track of them.\n\n263\n00:15:32.431 --> 00:15:36.800\nAnd once we get that, then we can\nadd color, then we can add size,\n\n264\n00:15:36.800 --> 00:15:39.750\nthen we can, so\nthis kind of builds on top.\n\n265\n00:15:39.750 --> 00:15:41.360\nLet's start with something simple and\n\n266\n00:15:41.360 --> 00:15:45.300\nwell in the next episode we're gonna learn\nhow to click and drag draw, so to speak.\n\n267\n00:15:45.300 --> 00:15:48.510\n&gt;&gt; So there will be more of\nthe dev paint project and\n\n268\n00:15:48.510 --> 00:15:52.070\nthis was planning the dev paint\nproject with Justin Dennison.\n\n269\n00:15:52.070 --> 00:15:53.590\nJustin, last words sir.\n\n270\n00:15:53.590 --> 00:15:58.000\n&gt;&gt; Well definitely stay tuned because as I\nsaid, I think we are all going to find out\n\n271\n00:15:58.000 --> 00:16:02.270\nthis is a little more complicated, or\nmaybe I make it more complicated or\n\n272\n00:16:02.270 --> 00:16:05.790\ncomplex, than one would\noriginally have thought.\n\n273\n00:16:05.790 --> 00:16:09.245\nAnd you might have learned some nice\nabstraction techniques that you're like\n\n274\n00:16:09.245 --> 00:16:10.991\nI wouldn't have thought of doing that.\n\n275\n00:16:10.991 --> 00:16:15.119\nThat are a little more readable than\nmaybe some other projects that you would\n\n276\n00:16:15.119 --> 00:16:16.160\nhave undertaken.\n\n277\n00:16:16.160 --> 00:16:18.200\nWe all start with really messy code.\n\n278\n00:16:18.200 --> 00:16:23.460\nMy goal is to help to show you\ndifferent ways to do the same thing.\n\n279\n00:16:23.460 --> 00:16:26.140\nSo you can go I like that, that's better.\n\n280\n00:16:26.140 --> 00:16:27.630\nAnd give you pluses and minuses.\n\n281\n00:16:27.630 --> 00:16:31.860\nSo it seems pretty simple, but\nstay around, you may learn a few things.\n\n282\n00:16:31.860 --> 00:16:34.600\n&gt;&gt; I don't know about you but I'm\ninterested to see Justin's inner Picasso\n\n283\n00:16:34.600 --> 00:16:37.110\nand that's going to be coming\nup in future episodes.\n\n284\n00:16:37.110 --> 00:16:41.390\nSo make sure you watch everything in\nthe HTML 5 Canvas Project series.\n\n285\n00:16:41.390 --> 00:16:42.320\nIt's a great series.\n\n286\n00:16:42.320 --> 00:16:45.560\nAnd also go to our course library,\nthere's hundreds of videos there and\n\n287\n00:16:45.560 --> 00:16:48.080\nthere all designed to help you go further.\n\n288\n00:16:48.080 --> 00:16:51.171\nAnd tell everybody you know about\nDevProTV, they'll be glad you did.\n\n289\n00:16:51.171 --> 00:16:53.000\nThank for watching, I'm Zach Memos.\n\n290\n00:16:53.000 --> 00:16:53.780\n&gt;&gt; And I'm Justin Dennison.\n\n291\n00:16:53.780 --> 00:16:55.791\n&gt;&gt; And we'll see you again soon.\n\n292\n00:16:55.791 --> 00:17:03.539\n[MUSIC]\n\n",
          "vimeoId": "237590689"
        },
        {
          "description": "In this episode, Vonne and Justin get started implementing the first drawing capability of DevPaint.",
          "length": "1823",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-4-2-1-creating_a_pencil_drawing-100917-PGM.00_35_39_28.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-4-2-1-creating_a_pencil_drawing-100917-PGM.00_35_39_28.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-4-2-1-creating_a_pencil_drawing-100917-PGM.00_35_39_28.Still001-sm.jpg",
          "title": "Creating A Pencil Drawing",
          "transcript": "WEBVTT\n\n1\n00:00:00.055 --> 00:00:10.055\n[MUSIC]\n\n2\n00:00:13.473 --> 00:00:17.570\nHello everyone and welcome back to\nanother exciting edition of DEVPRO TV.\n\n3\n00:00:17.570 --> 00:00:22.966\nI'm your host Vonne Smith and we are\ncontinuing on with HTML5 Canvas Projects.\n\n4\n00:00:22.966 --> 00:00:27.010\nAnd I believe we're gonna be learning\nhow to make a Pencil Like Drawing.\n\n5\n00:00:27.010 --> 00:00:30.950\nLuckily, we have Justin Dennison\nhere to draw it all out for us.\n\n6\n00:00:30.950 --> 00:00:31.730\nHello.\nWelcome.\n\n7\n00:00:31.730 --> 00:00:34.450\n&gt;&gt; Well that is the hope and thanks for\nhaving me back in the studio,\n\n8\n00:00:34.450 --> 00:00:35.390\nhow are you today Vonne?\n\n9\n00:00:35.390 --> 00:00:37.401\n&gt;&gt; I'm wonderful how are you doing?\n\n10\n00:00:37.401 --> 00:00:41.322\n&gt;&gt; I am doing fantastic and\nluckily I'm kinda nervous,\n\n11\n00:00:41.322 --> 00:00:43.594\nI'm gonna put that out there.\n\n12\n00:00:43.594 --> 00:00:44.366\nVonne's over here.\n\n13\n00:00:44.366 --> 00:00:48.703\nShe deals with illustrator and\nPhotoshop and all kinds of graphics,\n\n14\n00:00:48.703 --> 00:00:53.450\nI'm probably gonna butcher some of\nthe actual words and vocabulary.\n\n15\n00:00:53.450 --> 00:00:58.489\n&gt;&gt; And I'm actually coming off\na whole week of doing Illustrator so\n\n16\n00:00:58.489 --> 00:01:03.540\nright before this one, so\nI am rip-roaring ready to go for you.\n\n17\n00:01:03.540 --> 00:01:06.958\n&gt;&gt; Well, please do be kind,\nplease do be kind and\n\n18\n00:01:06.958 --> 00:01:10.212\ncreating a pencil by drawing, [INAUDIBLE].\n\n19\n00:01:10.212 --> 00:01:13.152\nWhere we left off,\nwe'd just set up our project.\n\n20\n00:01:13.152 --> 00:01:13.850\nWe;ve made a basic plan.\n\n21\n00:01:13.850 --> 00:01:15.400\nWe're doing something fairly simple.\n\n22\n00:01:15.400 --> 00:01:19.900\nAs I told you in the previous episode,\nthis is more about nostalgia.\n\n23\n00:01:19.900 --> 00:01:24.650\nIt's about being able to kind\nof draw MS Paint type stop.\n\n24\n00:01:24.650 --> 00:01:30.540\nNow, I'm going to use some terminology\nthat lends itself more to a vector thing,\n\n25\n00:01:30.540 --> 00:01:32.290\nlike a vector terminology.\n\n26\n00:01:32.290 --> 00:01:36.240\nHowever, in the canvas these\nare gonna be bit map graphics.\n\n27\n00:01:36.240 --> 00:01:40.205\nSo I wont necessarily get\na full vector representation.\n\n28\n00:01:40.205 --> 00:01:43.574\nBehind the scenes, my data structures\nare gonna be very vector like.\n\n29\n00:01:43.574 --> 00:01:47.923\nBut that does not mean that I'm\ngonna get vectorized rendering, so\n\n30\n00:01:47.923 --> 00:01:52.300\nto speak, cuz I'm translating\nthose to bit map images.\n\n31\n00:01:52.300 --> 00:01:54.250\nNow, with that said, let's go ahead and\n\n32\n00:01:54.250 --> 00:01:57.470\nsee where we left off and\nwell, where we're going.\n\n33\n00:01:57.470 --> 00:02:00.530\nSo let's go ahead and take a look at\nmy screen here and, tell you what,\n\n34\n00:02:00.530 --> 00:02:03.970\ndon't judge me based on\nthis light blue background.\n\n35\n00:02:03.970 --> 00:02:06.560\nIt's to help us pop out for\nthe canvas for now.\n\n36\n00:02:06.560 --> 00:02:10.865\nMaybe we'll worry about that,\nI never admitted that style was my forte.\n\n37\n00:02:10.865 --> 00:02:14.487\nVonne, we wanted to make sure\nthat this all came about.\n\n38\n00:02:14.487 --> 00:02:17.734\nAnd if we come over here,\nhere's our canvas.\n\n39\n00:02:17.734 --> 00:02:21.790\nHere's our canvas with 2D canvas context.\n\n40\n00:02:21.790 --> 00:02:22.841\nAnd we just filled the rect.\n\n41\n00:02:22.841 --> 00:02:25.308\nNow, I don't need this.\n\n42\n00:02:25.308 --> 00:02:29.085\nI don't need this to have anything.\n\n43\n00:02:29.085 --> 00:02:32.450\nIt doesn't have any purpose,\nmoving forward.\n\n44\n00:02:32.450 --> 00:02:35.130\nSo if we come back and we refresh,\nwe have our blank canvas.\n\n45\n00:02:35.130 --> 00:02:38.704\nNow, let me further describe\nwhat I mean by pencil drawing.\n\n46\n00:02:38.704 --> 00:02:43.260\nI'm thinking, and at least initially,\nwe're gonna continue to expand this at\n\n47\n00:02:43.260 --> 00:02:49.320\nleast initially, I wanna be able to\nclick and kinda drag around like so,\n\n48\n00:02:49.320 --> 00:02:52.070\nand it draw behind me, okay?\n\n49\n00:02:52.070 --> 00:02:56.438\nSo it draws everything and\nthen when I unclick, it stops there.\n\n50\n00:02:56.438 --> 00:02:59.380\nSo just kinda like you would put\nthe pencils down, you would scribble, and\n\n51\n00:02:59.380 --> 00:03:00.820\nyou would pick the pencil up.\n\n52\n00:03:00.820 --> 00:03:04.540\n&gt;&gt; Just like you said with any of\nthose paint programs I'm doing a,\n\n53\n00:03:04.540 --> 00:03:10.390\ngoing back in time of where my Apple\n2C and I had like an actual joystick,\n\n54\n00:03:10.390 --> 00:03:13.880\nand you'd hold the button down and\ndraw and that was so cool.\n\n55\n00:03:13.880 --> 00:03:15.670\n&gt;&gt; Yeah, so that's what we wanna make.\n\n56\n00:03:15.670 --> 00:03:20.950\nNow, that means that we\nneed to grab certain\n\n57\n00:03:20.950 --> 00:03:24.180\nattributes from the clicks and\nmore specifically,\n\n58\n00:03:24.180 --> 00:03:28.090\nwe're gonna be talking about a few events\nthat maybe you haven't used before.\n\n59\n00:03:28.090 --> 00:03:31.420\nRight, we wanna keep track\nof when things are moving,\n\n60\n00:03:31.420 --> 00:03:35.460\nwhen the mouse has been kinda moused down,\nit's,\n\n61\n00:03:35.460 --> 00:03:39.550\nwe don't wanna track click, but\njust a mouse down and then a mouse up.\n\n62\n00:03:39.550 --> 00:03:42.040\nSo, this is a little bit\ndifferent flavor on that.\n\n63\n00:03:42.040 --> 00:03:45.622\nAnd I think it's probably best we\njust go ahead and dive right in.\n\n64\n00:03:45.622 --> 00:03:46.909\nSo, here's what I'm thinking.\n\n65\n00:03:46.909 --> 00:03:50.387\nI'm thinking we want to\nhandle mouse downs and\n\n66\n00:03:50.387 --> 00:03:53.697\nI am going to just get this working,\nright?\n\n67\n00:03:53.697 --> 00:03:54.393\nLet's just get it working.\n\n68\n00:03:54.393 --> 00:03:58.463\nWe're not worried about how beautiful\nour code is, we can always come back and\n\n69\n00:03:58.463 --> 00:04:00.060\naddress that later.\n\n70\n00:04:00.060 --> 00:04:03.890\nWe may find that we paint ourselves into\na corner, but we can always get out.\n\n71\n00:04:03.890 --> 00:04:09.650\nUnlike in real life where I am just going\nto have to wait here until it gets better.\n\n72\n00:04:09.650 --> 00:04:12.560\nSo, we wanna handle muse down and\nmouse up.\n\n73\n00:04:14.120 --> 00:04:17.130\nAnd mousemove events.\n\n74\n00:04:17.130 --> 00:04:17.900\nOkay.\n\n75\n00:04:17.900 --> 00:04:19.670\nNow, let me further describe here.\n\n76\n00:04:20.690 --> 00:04:24.170\nIn context of what I just showed you,\nwhen I clicked the button,\n\n77\n00:04:24.170 --> 00:04:25.820\nI just clicked right there.\n\n78\n00:04:25.820 --> 00:04:29.550\nI want to register that event and\nmodify some state.\n\n79\n00:04:29.550 --> 00:04:31.320\nOkay, now we're drawing.\n\n80\n00:04:31.320 --> 00:04:32.970\nI think this is gonna work.\n\n81\n00:04:32.970 --> 00:04:36.820\nI could be total wrong and we may just\nhave to abandon ship and I'll run out and\n\n82\n00:04:36.820 --> 00:04:37.621\nit'll be all good.\n\n83\n00:04:37.621 --> 00:04:41.075\nI wanna say, all right, now we're\ndrawing but pen is to the paper or\n\n84\n00:04:41.075 --> 00:04:43.650\nthe pencils to the paper so to speak.\n\n85\n00:04:43.650 --> 00:04:50.460\nAnd then, as long as we're moving,\nwe want to record where we've moved to.\n\n86\n00:04:50.460 --> 00:04:53.562\nOkay, and then mouse up.\n\n87\n00:04:53.562 --> 00:04:56.430\nI wanna say this is off the table,\nwe're done.\n\n88\n00:04:56.430 --> 00:05:00.110\nRecord that last place,\nand that's all over there.\n\n89\n00:05:00.110 --> 00:05:04.230\nNow to keep things straight,\nI may have to reference a few things, but\n\n90\n00:05:04.230 --> 00:05:05.900\nthat's perfectly okay.\n\n91\n00:05:05.900 --> 00:05:07.362\nNow what are we recording?\n\n92\n00:05:07.362 --> 00:05:10.130\nI wanna record the points\nof where the mouse was.\n\n93\n00:05:10.130 --> 00:05:13.420\nAll right, so\nI'm gonna create a few variable here.\n\n94\n00:05:13.420 --> 00:05:19.340\nThese are global variables for\nstate of application.\n\n95\n00:05:19.340 --> 00:05:20.760\nAnd, let's see.\n\n96\n00:05:20.760 --> 00:05:23.310\nWe need to keep track of points.\n\n97\n00:05:23.310 --> 00:05:25.370\nAll right, now what do I mean by points?\n\n98\n00:05:25.370 --> 00:05:28.460\nThe X and Y position on the canvas, right?\n\n99\n00:05:29.500 --> 00:05:32.940\nIf you have small children,\nI'm not saying I do, or do not, but\n\n100\n00:05:32.940 --> 00:05:35.640\nI have seen,\nI'm coloring inside the lines, well,\n\n101\n00:05:35.640 --> 00:05:39.098\nwe don't wanna accidentally\ncolor outside the lines.\n\n102\n00:05:39.098 --> 00:05:43.180\nSo, we wanna make sure it's in\nreference to the canvas object, okay?\n\n103\n00:05:44.248 --> 00:05:48.760\nNow, we wanna keep track of those points\nand we may do some different things here.\n\n104\n00:05:50.310 --> 00:05:56.420\nAnd so, not on Window but\ninstead the canvas.\n\n105\n00:05:56.420 --> 00:06:02.550\nI think we're gonna add an event\nlistener here for a mouse down.\n\n106\n00:06:03.660 --> 00:06:06.870\nAll right, and we're gonna take\na look at these events independently\n\n107\n00:06:07.870 --> 00:06:10.600\nbecause we gotta keep\ntrack of a few things.\n\n108\n00:06:10.600 --> 00:06:16.256\nAnd then mouse up, well I wanna\nsay canvas.addEventListener for\n\n109\n00:06:16.256 --> 00:06:18.990\nmouse up, just like so.\n\n110\n00:06:18.990 --> 00:06:23.080\nI'm using these fat arrow functions just\nto further reiterate you're probably sick\n\n111\n00:06:23.080 --> 00:06:24.870\nof hearing me say this.\n\n112\n00:06:24.870 --> 00:06:26.020\nThis is newer browsers only.\n\n113\n00:06:26.020 --> 00:06:27.940\nThis is new features of JavaScript.\n\n114\n00:06:27.940 --> 00:06:32.730\nIf your browser doesn't support these,\nyou can always,\n\n115\n00:06:32.730 --> 00:06:36.080\nalways go back to a standard\nfunction like so.\n\n116\n00:06:38.070 --> 00:06:39.400\nJust like that, okay?\n\n117\n00:06:39.400 --> 00:06:42.080\nNow the way I use these will\ndiffer a little bit but\n\n118\n00:06:42.080 --> 00:06:44.910\nif you have no idea about those,\ngo check out our library.\n\n119\n00:06:44.910 --> 00:06:48.960\nI talk extensively about JavaScript as\nwell as new features in JavaScript.\n\n120\n00:06:48.960 --> 00:06:50.770\nWe're gonna go ahead an undo this.\n\n121\n00:06:50.770 --> 00:06:53.220\nAnd then finally, for mouse move.\n\n122\n00:06:53.220 --> 00:06:54.457\nNow, in previous episodes,\n\n123\n00:06:54.457 --> 00:06:57.428\nI've talked about adding these event\nlisteners to the window option.\n\n124\n00:06:57.428 --> 00:07:02.932\nThat works for the keyboard, but\nif I want to track, right, on the canvas,\n\n125\n00:07:02.932 --> 00:07:07.322\nI probably need the canvas to\nbe the one emitting set events.\n\n126\n00:07:07.322 --> 00:07:10.244\nSo addEventListener, and\n\n127\n00:07:10.244 --> 00:07:15.585\nhere's our mousemove,\nand then e, there we go.\n\n128\n00:07:15.585 --> 00:07:17.720\nSo there's our three EventListeners.\n\n129\n00:07:17.720 --> 00:07:24.000\nNow lets see here,\nlet's just console.log mouse down.\n\n130\n00:07:24.000 --> 00:07:25.080\nThat's gonna be the only one so\n\n131\n00:07:25.080 --> 00:07:27.910\nwe can see it actually print out and\nI'm gonna come over here.\n\n132\n00:07:27.910 --> 00:07:30.970\nI have my DevTools open but\nI need to come to the console.\n\n133\n00:07:30.970 --> 00:07:34.070\nI'm gonna refresh and\nthen there's our mouse down.\n\n134\n00:07:34.070 --> 00:07:38.170\nAll right, so I'm gonna pull this over\njust a little bit so we can see, and\n\n135\n00:07:38.170 --> 00:07:42.721\nif I move down,\nhere's our movement offset in our screen.\n\n136\n00:07:44.330 --> 00:07:47.819\nHmm, x and then x here.\n\n137\n00:07:47.819 --> 00:07:50.727\nOkay, notice our offset.\n\n138\n00:07:50.727 --> 00:07:54.568\nI'm gonna come up here to\nthe very tip top corner so\n\n139\n00:07:54.568 --> 00:07:57.312\nwe can say that should be zero zero,\n\n140\n00:07:57.312 --> 00:08:02.260\nright, based on the The convention\nof graphics and computers.\n\n141\n00:08:02.260 --> 00:08:06.958\nSo if we come over here, and we look,\noffset x and offset y one and\n\n142\n00:08:06.958 --> 00:08:10.270\ntwo and\nthen if we come down here it says nine.\n\n143\n00:08:11.840 --> 00:08:12.410\nWhich one is it?\n\n144\n00:08:13.640 --> 00:08:18.410\nWell, this offset is kind\nof offset from the window.\n\n145\n00:08:18.410 --> 00:08:22.605\nSo notice I have these\nlittle bit of margin here.\n\n146\n00:08:22.605 --> 00:08:27.800\nBut from the upper top left corner,\nit's over here.\n\n147\n00:08:27.800 --> 00:08:31.990\nAnd then the offset is,\nwell, it's nine and\n\n148\n00:08:31.990 --> 00:08:36.090\nthen the offset is based on\nthe offset of the canvas, okay?\n\n149\n00:08:36.090 --> 00:08:38.470\nSo we'll have to do some\nmanipulations there.\n\n150\n00:08:38.470 --> 00:08:41.600\n&gt;&gt; Kind of like you didn't\nset your padding to zero.\n\n151\n00:08:41.600 --> 00:08:44.380\nAt least I remember like in the box model,\n\n152\n00:08:44.380 --> 00:08:48.780\nor back in my coding days, you have to set\nthe padding to zero, the margins to zero,\n\n153\n00:08:48.780 --> 00:08:53.070\nto kind of eliminate all of the extra\nstuff that the browser adds,\n\n154\n00:08:53.070 --> 00:08:57.180\nis that somewhat in the same context or\nam I completely off?\n\n155\n00:08:57.180 --> 00:08:58.084\n[LAUGH]\n&gt;&gt; It is, so\n\n156\n00:08:58.084 --> 00:09:02.525\nwe have these complicated relationships,\nthese relative positioning that we will\n\n157\n00:09:02.525 --> 00:09:04.910\nprobably have to handle,\nbut you know what?\n\n158\n00:09:04.910 --> 00:09:07.400\nMaybe initially we don't even\nworry about those, right?\n\n159\n00:09:07.400 --> 00:09:10.514\nWe just use the X and the Y and see, hey,\n\n160\n00:09:10.514 --> 00:09:14.018\nis this actually behaving\nlike I want it to?\n\n161\n00:09:14.018 --> 00:09:17.797\nI did want to draw your attention because\nwhen you're doing mouse-up, mouse-down,\n\n162\n00:09:17.797 --> 00:09:20.210\nand mouse move there can be\nsome complicating factors.\n\n163\n00:09:20.210 --> 00:09:24.535\nIt may be exacerbated by the fact that\nif I move this way over to the right,\n\n164\n00:09:24.535 --> 00:09:28.630\nlike I float it right then those may\nbecome more of an issue than they are now.\n\n165\n00:09:28.630 --> 00:09:30.460\nSo it's a relative scale thing.\n\n166\n00:09:30.460 --> 00:09:32.880\nBut we'll worry about those when and\nif we need to.\n\n167\n00:09:32.880 --> 00:09:36.960\nI just wanted to draw your\nattention to said things.\n\n168\n00:09:36.960 --> 00:09:41.560\nAnd then we have that mouse enter.\n\n169\n00:09:41.560 --> 00:09:42.900\nOr excuse me, mouse down.\n\n170\n00:09:44.010 --> 00:09:45.830\nLet's make sure that this is wired up.\n\n171\n00:09:45.830 --> 00:09:47.710\nWe have no typos.\n\n172\n00:09:47.710 --> 00:09:51.830\nAnd then if I say e and I refresh.\n\n173\n00:09:51.830 --> 00:09:53.600\nThere's the mouse down and the mouse up.\n\n174\n00:09:53.600 --> 00:09:55.510\nSo click click so down and up.\n\n175\n00:09:55.510 --> 00:09:58.630\nSo a click is actually a combination.\n\n176\n00:09:58.630 --> 00:10:00.740\nYou could think of it as a combination\nof a mouse down mouse up.\n\n177\n00:10:02.020 --> 00:10:04.030\nBut now we can look at\nthose independently,\n\n178\n00:10:04.030 --> 00:10:06.880\ninstead of just an entire click cycle.\n\n179\n00:10:06.880 --> 00:10:08.160\nSo a click is one.\n\n180\n00:10:08.160 --> 00:10:12.970\nI can look at it on the down press,\nas well as on the release.\n\n181\n00:10:12.970 --> 00:10:16.050\nThen notice my mouse move\nis not doing anything.\n\n182\n00:10:17.820 --> 00:10:23.910\nBut if I say console.log,\nmoving the mouse.\n\n183\n00:10:23.910 --> 00:10:25.290\nLike so.\n\n184\n00:10:25.290 --> 00:10:26.120\nAnd we refresh.\n\n185\n00:10:27.470 --> 00:10:32.210\nNotice it is firing an event every\ntime the mouse kind of moves,\n\n186\n00:10:32.210 --> 00:10:35.440\nby default, on top of the canvas.\n\n187\n00:10:35.440 --> 00:10:37.790\nAll right, so, we have these three events.\n\n188\n00:10:37.790 --> 00:10:40.310\nNow\n&gt;&gt; Here's what I think we should do.\n\n189\n00:10:40.310 --> 00:10:41.640\nWe know how to draw lines.\n\n190\n00:10:41.640 --> 00:10:45.970\nIf you're like, I'm not real sure how\nto draw lines in the HTML5 canvas,\n\n191\n00:10:45.970 --> 00:10:48.170\ndefinitely go check out\nsome of our other videos.\n\n192\n00:10:48.170 --> 00:10:49.940\nI talk extensively about that.\n\n193\n00:10:49.940 --> 00:10:52.290\nI want to get the points.\n\n194\n00:10:52.290 --> 00:10:54.440\nWe're good to go.\n\n195\n00:10:54.440 --> 00:11:01.620\nI'm thinking that maybe we just re-render\nthese every time one of these event fires.\n\n196\n00:11:01.620 --> 00:11:06.160\nWe need a render method and we need\nsome way to collect all of said points.\n\n197\n00:11:06.160 --> 00:11:07.840\nAll right.\n\n198\n00:11:07.840 --> 00:11:11.030\nI have my points here, and\nI have my event listeners.\n\n199\n00:11:11.030 --> 00:11:14.930\nLet's create a few of these functions.\n\n200\n00:11:14.930 --> 00:11:18.488\nNow I'm gonna use a regular function,\nso I don't have to bring these back up.\n\n201\n00:11:18.488 --> 00:11:22.400\nIn this context.\n\n202\n00:11:22.400 --> 00:11:25.100\nSo I would normally,\nif I use a function expression,\n\n203\n00:11:25.100 --> 00:11:27.870\nhave to pull those to the top of\nthe file so they would be available.\n\n204\n00:11:27.870 --> 00:11:28.860\nBut I'm gonna leave them down here.\n\n205\n00:11:28.860 --> 00:11:31.360\nAnd there are some ways around that.\n\n206\n00:11:31.360 --> 00:11:32.140\nAnd here we go.\n\n207\n00:11:32.140 --> 00:11:33.670\nSo what is render going to do?\n\n208\n00:11:35.120 --> 00:11:37.970\nWell, render is going to take the context.\n\n209\n00:11:37.970 --> 00:11:41.460\nAnd run through all the points and\nessentially make a line from it.\n\n210\n00:11:41.460 --> 00:11:44.936\nYou can think of a line as a stippling and\nI've done some stippling in art.\n\n211\n00:11:44.936 --> 00:11:50.113\nYou can make things that look like\nlines from a whole bunch of points and\n\n212\n00:11:50.113 --> 00:11:54.080\neffectively you do that at infinity,\nyou got a line.\n\n213\n00:11:54.080 --> 00:11:58.171\nSo I'm going to say context, or\n\n214\n00:11:58.171 --> 00:12:03.329\nexcuse me, points.forEach(point.\n\n215\n00:12:03.329 --> 00:12:07.066\nThen I want to render,\n\n216\n00:12:07.066 --> 00:12:13.090\nlet's see how would I best do this?\n\n217\n00:12:13.090 --> 00:12:17.500\nI wanna go to the first one and\nthen I want to go\n\n218\n00:12:17.500 --> 00:12:22.440\nthrough all of them so\nI don't think this is going to work.\n\n219\n00:12:22.440 --> 00:12:28.730\nReally what I want is the first and\nthe rest of them.\n\n220\n00:12:28.730 --> 00:12:35.930\nSo I'm going to pull the points\napart like this and then say rest.\n\n221\n00:12:35.930 --> 00:12:40.510\nThese are still points that's the rest\nof the points except for the first one.\n\n222\n00:12:40.510 --> 00:12:44.210\nAnd then I'm gonna use\nthe context to draw all of those.\n\n223\n00:12:44.210 --> 00:12:45.130\nOkay.\n\n224\n00:12:45.130 --> 00:12:48.090\nSo I'm going to say context.save.\n\n225\n00:12:48.090 --> 00:12:48.798\nLike so.\n\n226\n00:12:48.798 --> 00:12:53.330\nAnd then context.restore that way if we\nend up changing anything inside of our\n\n227\n00:12:53.330 --> 00:12:57.410\nrender maybe line cap style or\njoin style or whatever.\n\n228\n00:12:57.410 --> 00:13:01.340\nThen it does not affect other things\nthat we may render on the screen.\n\n229\n00:13:02.830 --> 00:13:04.823\nSo for the first point.\n\n230\n00:13:04.823 --> 00:13:05.370\nWhat do I want to do?\n\n231\n00:13:05.370 --> 00:13:11.057\nI want to say context move to and\nI think I'm going\n\n232\n00:13:11.057 --> 00:13:17.359\nto keep these separately like first.x,\nfirst.y.\n\n233\n00:13:17.359 --> 00:13:20.000\nSo the points are going to be\nan object that have an xy.\n\n234\n00:13:20.000 --> 00:13:22.720\nI think I've settled on that.\n\n235\n00:13:22.720 --> 00:13:24.150\nIt will make it a little\neasier to read but\n\n236\n00:13:24.150 --> 00:13:29.700\nit'll also be easier to keep track of\nx and y positions instead of saying\n\n237\n00:13:29.700 --> 00:13:33.330\norganized by X is always first,\nY is always second.\n\n238\n00:13:33.330 --> 00:13:37.913\nAnd then likewise, I'm gonna say\n\n239\n00:13:37.913 --> 00:13:43.650\ncontext.line to point.x, point.y.\n\n240\n00:13:43.650 --> 00:13:48.710\nAnd that's for every point in\nall of the rest of the points.\n\n241\n00:13:48.710 --> 00:13:49.730\nOkay?\n\n242\n00:13:49.730 --> 00:13:51.960\nSo move to the first one and\n\n243\n00:13:51.960 --> 00:13:54.610\nthen start creating little line\nsegments between the points.\n\n244\n00:13:56.090 --> 00:14:01.280\nAnd then finally I want to context and\nyou know what\n\n245\n00:14:01.280 --> 00:14:06.814\nI actually forgot something I have to\nbegin the path because this is a path,\n\n246\n00:14:06.814 --> 00:14:12.610\nbegin path and I'm going to close path.\n\n247\n00:14:12.610 --> 00:14:13.960\nI always get this mixed up.\n\n248\n00:14:13.960 --> 00:14:15.820\nI always want to put close and end.\n\n249\n00:14:15.820 --> 00:14:21.080\nI think it's closed but it might be end,\nwe're about to find out.\n\n250\n00:14:21.080 --> 00:14:24.840\nAnd then, don't forget to stroke.\n\n251\n00:14:24.840 --> 00:14:27.380\nIf you do it may draw the path.\n\n252\n00:14:27.380 --> 00:14:29.998\nIt just won't be visible to you,\nbecause there's no actual stroke set.\n\n253\n00:14:29.998 --> 00:14:34.180\nAll right, so,there it is, and\n\n254\n00:14:34.180 --> 00:14:39.370\nwell, let's just set up\na couple of mock objects here.\n\n255\n00:14:39.370 --> 00:14:44.700\nSo I want to go from zero, zero, to\n\n256\n00:14:46.020 --> 00:14:50.100\nand these are gonna be individual\nobjects with x and y coordinates okay?\n\n257\n00:14:51.160 --> 00:14:55.657\nAnd just to make maybe these\na little bit more readable.\n\n258\n00:14:55.657 --> 00:14:59.124\nSo I'm gonna have these objects\nthat have an x and a y.\n\n259\n00:14:59.124 --> 00:15:01.280\nAnd that's how I've used them down here.\n\n260\n00:15:02.750 --> 00:15:09.540\nAnd here I'm gonna say x,\nlet's just go 300, and y, 100.\n\n261\n00:15:09.540 --> 00:15:11.630\nTotally making these numbers up.\n\n262\n00:15:11.630 --> 00:15:15.460\nThere's nothing magical about the numbers\nor there shouldn't be anything magical.\n\n263\n00:15:15.460 --> 00:15:19.834\nLet's go see if we have any issues cuz\nif we try to start wiring up our click\n\n264\n00:15:19.834 --> 00:15:23.783\nhandlers to add points to this\nthat'll be re-rendered [SOUND] and\n\n265\n00:15:23.783 --> 00:15:26.899\nwe haven't confirmed that\nit renders initially.\n\n266\n00:15:26.899 --> 00:15:29.500\nIt may be chasing a bug that\ndoesn't actually exist.\n\n267\n00:15:29.500 --> 00:15:33.670\nAll right, so if we refresh, and moving.\n\n268\n00:15:33.670 --> 00:15:35.795\nYou know what?\nYou actually have to call render, as well.\n\n269\n00:15:35.795 --> 00:15:42.110\n[LAUGH]\nLet's just call render the first time.\n\n270\n00:15:42.110 --> 00:15:47.060\nIf we render, and notice that I kind\nof have this rendered out, okay?\n\n271\n00:15:48.150 --> 00:15:50.100\nThis works, that's all I need to know.\n\n272\n00:15:50.100 --> 00:15:53.788\nNow, it is a little bit pixelated because\nI have this blown up really large,\n\n273\n00:15:53.788 --> 00:15:56.050\nkind of zoomed-in based\non our aspect ratio.\n\n274\n00:15:56.050 --> 00:16:00.778\nSo it is gonna look a little pixelated For\nyou, just know that if I\n\n275\n00:16:00.778 --> 00:16:05.610\nbring this down to 100% based on\nthe size it looks like a line.\n\n276\n00:16:05.610 --> 00:16:11.410\nThere's not super defined pixelation\nunless you zoom in once again.\n\n277\n00:16:11.410 --> 00:16:14.116\nAll right, so\nthat's what I mean by its a bit map.\n\n278\n00:16:14.116 --> 00:16:16.300\nIt's doing individual pixels.\n\n279\n00:16:17.760 --> 00:16:20.620\nSo our line works,\nI think our scheme's going to work.\n\n280\n00:16:22.060 --> 00:16:25.830\nBut how do we add points\nto the points array?\n\n281\n00:16:28.280 --> 00:16:30.160\nAll right, all right, so\nlet's think about this.\n\n282\n00:16:30.160 --> 00:16:33.381\nSo I think that when I mousedown,\n\n283\n00:16:33.381 --> 00:16:38.120\nI do wanna go ahead and\na point, wherever it is.\n\n284\n00:16:38.120 --> 00:16:41.230\nSo when I mousedown, there we go, and\n\n285\n00:16:41.230 --> 00:16:46.030\nI remove this, so\nthere's nothing there on page load.\n\n286\n00:16:46.030 --> 00:16:52.060\nWhen I mousedown,\nI want to grab the respective x and y.\n\n287\n00:16:52.060 --> 00:16:55.670\nAnd we're just gonna go x and\ny, like this.\n\n288\n00:16:55.670 --> 00:16:58.810\nSo I'm gonna pull that\noff of the event object.\n\n289\n00:16:58.810 --> 00:17:02.020\nAnd again, we may have to worry\nabout shifting initially,\n\n290\n00:17:02.020 --> 00:17:04.530\nbased on offsets or later on, excuse me.\n\n291\n00:17:04.530 --> 00:17:06.500\nBut initially,\nwe're not gonna worry about that.\n\n292\n00:17:07.910 --> 00:17:14.867\nAnd then, I'm thinking that\npoints.push x: x, y: y, okay?\n\n293\n00:17:14.867 --> 00:17:19.340\nSo I'm gonna read an object and\n\n294\n00:17:19.340 --> 00:17:22.960\npush it into that array.\n\n295\n00:17:23.980 --> 00:17:25.820\nSo that should be on mousedown.\n\n296\n00:17:25.820 --> 00:17:28.240\nLet's go see if that actually works.\n\n297\n00:17:28.240 --> 00:17:32.790\nIf I refresh, and\nnow if I come over here and\n\n298\n00:17:32.790 --> 00:17:38.440\nsay points, notice I have three objects\nthat have an x and a y position.\n\n299\n00:17:38.440 --> 00:17:42.330\nThose essentially are going\nto be my line two vertices.\n\n300\n00:17:42.330 --> 00:17:43.960\n&gt;&gt; Were you clicking each time?\n\n301\n00:17:43.960 --> 00:17:46.024\n&gt;&gt; Yeah, I was doing it mousedown and so\n\n302\n00:17:46.024 --> 00:17:48.830\nthe mousedown is actually\ngonna push a point.\n\n303\n00:17:48.830 --> 00:17:52.950\n&gt;&gt; Okay, so it was like you click those\nthree ones where you click, click, click.\n\n304\n00:17:52.950 --> 00:17:57.271\nYou weren't holding the mousedown while\nyou were dragging you were just testing to\n\n305\n00:17:57.271 --> 00:18:00.862\nmake sure that it is going to push\nout those points of where I clicked.\n\n306\n00:18:00.862 --> 00:18:03.860\nIt's gonna recognize the x and a y and\nthat's what we're getting as a result.\n\n307\n00:18:03.860 --> 00:18:05.508\n&gt;&gt; Exactly, and\nnow I'm just testing this initial.\n\n308\n00:18:05.508 --> 00:18:08.653\nI'm probably gonna have to go change\nthis because this should only add\n\n309\n00:18:08.653 --> 00:18:09.410\na single point.\n\n310\n00:18:09.410 --> 00:18:11.015\nAnd then, let me drag and\n\n311\n00:18:11.015 --> 00:18:15.610\nadd additional points as I move my\nmouse while I've kind of clicked on.\n\n312\n00:18:15.610 --> 00:18:18.170\n&gt;&gt; Okay,\ncuz I'm following where you're going but\n\n313\n00:18:18.170 --> 00:18:21.940\nI just wanted to make sure that\nit was a click and not a drag.\n\n314\n00:18:21.940 --> 00:18:25.986\nI saw when the log was doing that, but\nI think I'm still in the minds of where\n\n315\n00:18:25.986 --> 00:18:29.536\nyou're saying, you're going to click,\nhold, and drag down.\n\n316\n00:18:29.536 --> 00:18:31.160\nAnd I'm like, wait,\nwe're not there yet, [LAUGH]\n\n317\n00:18:31.160 --> 00:18:32.917\n&gt;&gt; Yeah, we'll get there we promise,\n\n318\n00:18:32.917 --> 00:18:34.100\nI promise.\n\n319\n00:18:34.100 --> 00:18:37.910\nBut you're absolutely correct it is on the\ndownward motion because it is a mousedown.\n\n320\n00:18:37.910 --> 00:18:41.292\nNow, the other logs that you\nare seeing are the mousemoves, and\n\n321\n00:18:41.292 --> 00:18:42.490\nthe mouseup, right?\n\n322\n00:18:42.490 --> 00:18:48.250\nSo I'm releasing, that should actually\nterminate kind of as I'm drawing.\n\n323\n00:18:48.250 --> 00:18:50.830\nSo if I mousedown, I'm now drawing.\n\n324\n00:18:51.860 --> 00:18:55.550\nAs long as I have my mousedown,\nI'm still drawing.\n\n325\n00:18:55.550 --> 00:18:59.640\nAnd when I mouseup, I've removed my\npencil from the paper so to speak.\n\n326\n00:18:59.640 --> 00:19:03.158\n&gt;&gt; That's what you mean by terminate\nlike when I let go I'm done.\n\n327\n00:19:03.158 --> 00:19:07.880\nYep, yep, and right now,\nwe don't have that capability but\n\n328\n00:19:07.880 --> 00:19:11.670\nwe will get there were gonna have\nto do some finagling so to speak.\n\n329\n00:19:11.670 --> 00:19:16.440\nSo let's go ahead and\nwe know this pushes right,\n\n330\n00:19:16.440 --> 00:19:18.805\npoints push that pushes it up into there.\n\n331\n00:19:18.805 --> 00:19:19.880\nAnd you know what I'm thinking?\n\n332\n00:19:21.490 --> 00:19:27.562\nI'm thinking that every time we move,\n\n333\n00:19:27.562 --> 00:19:32.360\nI think we should re-render.\n\n334\n00:19:32.360 --> 00:19:34.283\nAnd every time we mouseup,\nwe should re-render.\n\n335\n00:19:34.283 --> 00:19:37.008\nNot on mousedown because that\nshould be the start, right?\n\n336\n00:19:37.008 --> 00:19:39.840\nI just put my pencil to my paper.\n\n337\n00:19:39.840 --> 00:19:45.240\nBut anytime after that,\nthat I move, or let her pick my\n\n338\n00:19:45.240 --> 00:19:49.140\npencil off the paper, it should re-render\nto all the points that have accumulated.\n\n339\n00:19:49.140 --> 00:19:53.000\n&gt;&gt; Okay, cuz you don't want it to keep\ngoing like if you let go it's like stop\n\n340\n00:19:53.000 --> 00:19:56.190\nputting the stroke on where\nthe mouse cursor is located.\n\n341\n00:19:56.190 --> 00:19:59.220\nThat's what we mean by, like re-render.\n\n342\n00:19:59.220 --> 00:20:05.514\nStop doing the actual function of render\nand stop it, and re go back in, [LAUGH].\n\n343\n00:20:05.514 --> 00:20:10.310\n&gt;&gt; [LAUGH] That's what I wanted to say,\nbut you hear what I'm saying?\n\n344\n00:20:10.310 --> 00:20:12.780\n&gt;&gt; Yeah, I think you get the idea.\n\n345\n00:20:12.780 --> 00:20:13.530\nI think you get the idea.\n\n346\n00:20:13.530 --> 00:20:18.100\nNow the implementation details may be\na little more difficult than that.\n\n347\n00:20:18.100 --> 00:20:18.912\nBut let's see here.\n\n348\n00:20:18.912 --> 00:20:21.450\nOn mouseup, and\n\n349\n00:20:21.450 --> 00:20:26.248\nlet's actually deal with that initially\nbecause we may get some weirdness.\n\n350\n00:20:26.248 --> 00:20:30.135\nWhen I mousedown, I think it's probably\n\n351\n00:20:30.135 --> 00:20:35.032\nbest to have an isDrawing and\ninitially we're not.\n\n352\n00:20:35.032 --> 00:20:37.710\nAnd that way I'm not recording any points.\n\n353\n00:20:37.710 --> 00:20:44.239\nWhen I click mousedown right here,\n\n354\n00:20:44.239 --> 00:20:50.123\nisDrawing = true, all right?\n\n355\n00:20:50.123 --> 00:20:55.985\nAnd when I mouseup isDrawing = false,\nokay.\n\n356\n00:20:55.985 --> 00:21:03.900\nLike wise I think we probably\nneed this right here.\n\n357\n00:21:03.900 --> 00:21:08.663\nI wanna record that last\npoint when I mouseup, okay.\n\n358\n00:21:08.663 --> 00:21:14.054\nAnd then, really that gives us the ability\n\n359\n00:21:14.054 --> 00:21:21.410\nto have logic of saying when you move,\nonly if isDrawing.\n\n360\n00:21:21.410 --> 00:21:26.210\nOnly if you are drawing do you\nwant to record said points.\n\n361\n00:21:26.210 --> 00:21:27.380\nokay?\n\n362\n00:21:27.380 --> 00:21:30.134\nAnd we talked about render,\nI'm gonna come back to that, I promise.\n\n363\n00:21:30.134 --> 00:21:34.460\n&gt;&gt; I don't know if this is a silly\nquestion, but isDrawing true?\n\n364\n00:21:34.460 --> 00:21:41.585\nI guess, you don't have to add is true,\njust the isDrawing means that you are?\n\n365\n00:21:41.585 --> 00:21:44.088\n[LAUGH]\n&gt;&gt; Inside this if statement it will\n\n366\n00:21:44.088 --> 00:21:48.250\nactually evaluate to whatever\nvalue is held in the variable.\n\n367\n00:21:48.250 --> 00:21:52.074\nSo this is kind of like if true, so\nit'll just do a final replace for you,\n\n368\n00:21:52.074 --> 00:21:53.298\neffectively.\n\n369\n00:21:53.298 --> 00:21:53.890\n&gt;&gt; Okay.\n\n370\n00:21:53.890 --> 00:21:54.640\n&gt;&gt; There's a little more to it,\n\n371\n00:21:54.640 --> 00:21:56.770\nbut that way I don't have to\ncheck to see if it's true.\n\n372\n00:21:56.770 --> 00:22:00.040\nI could just use it as if it was true or\nfalse.\n\n373\n00:22:00.040 --> 00:22:04.170\nNow be careful in JavaScript you have some\nfalse and truthy shenanigans that'll crop\n\n374\n00:22:04.170 --> 00:22:09.490\nup that maybe hard to run down, but\nthis is a pretty common paradigm.\n\n375\n00:22:09.490 --> 00:22:13.010\nIf I have already clicked, and now I'm\ndragging that means that I will want to\n\n376\n00:22:13.010 --> 00:22:17.080\nrecord the points and\nre-render up to that point, okay?\n\n377\n00:22:17.080 --> 00:22:20.390\nAnd we're gonna get some weirdness\n&gt;&gt; Cuz the mouse up would go ahead and\n\n378\n00:22:20.390 --> 00:22:23.550\ncancel it out, and the only way that if\nyou're moving and your mouse is down,\n\n379\n00:22:23.550 --> 00:22:24.570\nis that?\n\n380\n00:22:24.570 --> 00:22:25.210\n&gt;&gt; Yep.\n&gt;&gt; Okay.\n\n381\n00:22:25.210 --> 00:22:27.084\n&gt;&gt; Yep, you are-\n&gt;&gt; As soon as I started saying it he goes,\n\n382\n00:22:27.084 --> 00:22:29.136\nI'm like, yes, okay, I'm getting it,\n\n383\n00:22:29.136 --> 00:22:29.816\n[LAUGH]\n&gt;&gt; Yeah, yeah.\n\n384\n00:22:29.816 --> 00:22:33.123\nIf I understand what you're\nsaying appropriately,\n\n385\n00:22:33.123 --> 00:22:36.950\nwhich I'm not always saying I\nget on the first try, then yes.\n\n386\n00:22:36.950 --> 00:22:41.718\nSo what we're gonna do is only if we\nare drawing while moving the mouse,\n\n387\n00:22:41.718 --> 00:22:45.170\ndo we want to grab that x and\ny value, like so.\n\n388\n00:22:45.170 --> 00:22:48.886\n&gt;&gt; And then say points.push,\nmaybe x: x, y: y.\n\n389\n00:22:48.886 --> 00:22:56.922\nNow, there are newer JavaScript features\nthat will allow me to shorten that,\n\n390\n00:22:56.922 --> 00:23:01.683\nbut I think I am going\nto refactor this anyway.\n\n391\n00:23:01.683 --> 00:23:07.021\nAnd as I am moving, I think thats\nall I want to do other than,\n\n392\n00:23:07.021 --> 00:23:10.220\nI think I always want to re-render.\n\n393\n00:23:10.220 --> 00:23:14.559\nI always want to render after I mouseup,\nokay.\n\n394\n00:23:14.559 --> 00:23:19.191\nSo this render's going to grab that global\n\n395\n00:23:19.191 --> 00:23:23.953\nvariable that's holding all the points and\n\n396\n00:23:23.953 --> 00:23:28.861\nre-render those to the screen, all right?\n\n397\n00:23:28.861 --> 00:23:32.357\nLet's cross your fingers,\nshe's got them crossed,\n\n398\n00:23:32.357 --> 00:23:35.631\nI'm pretty sure she's got\nthem her toes crossed.\n\n399\n00:23:35.631 --> 00:23:37.905\n&gt;&gt; [LAUGH]\n&gt;&gt; Who knows, so let's see.\n\n400\n00:23:37.905 --> 00:23:41.131\n&gt;&gt; Cannot read property x of undefined.\n\n401\n00:23:41.131 --> 00:23:42.071\n&gt;&gt; No.\n&gt;&gt; No, so\n\n402\n00:23:42.071 --> 00:23:44.600\nwe've got a little bit of an issue here.\n\n403\n00:23:44.600 --> 00:23:46.210\nAnd that was on mousemove.\n\n404\n00:23:47.350 --> 00:23:50.110\nCannot read property x of undefined.\n\n405\n00:23:50.110 --> 00:23:56.336\nSo let's see here, e and all right.\n\n406\n00:23:56.336 --> 00:24:01.358\nLet's look at this MouseEvent And\nthere's x and\n\n407\n00:24:01.358 --> 00:24:08.230\nthat is very interesting Vonne,] maybe,\nmaybe we just do this.\n\n408\n00:24:08.230 --> 00:24:12.942\nWe pull this out to make sure I don't\nhave any crazy scoping issues because\n\n409\n00:24:12.942 --> 00:24:14.314\ncost is block scope.\n\n410\n00:24:14.314 --> 00:24:19.572\nAnd paste,\ncannot read property x is undefined.\n\n411\n00:24:19.572 --> 00:24:23.092\n&gt;&gt; So\nJustin I'm pretty sure this isn't it, but\n\n412\n00:24:23.092 --> 00:24:26.990\nI know from watching your\nepisodes it one of those.\n\n413\n00:24:26.990 --> 00:24:28.120\nI play the matching game,\n\n414\n00:24:28.120 --> 00:24:31.270\ncuz sometimes I don't always know\nexactly what you're talking about.\n\n415\n00:24:31.270 --> 00:24:34.580\nBut I can see that doesn't match, that\ndoesn't match, maybe that could be it.\n\n416\n00:24:34.580 --> 00:24:39.080\nAnd I've done a lot of typesetting lately,\nla ot of proofing so I saw some space\n\n417\n00:24:39.080 --> 00:24:45.840\nbetween your, y colon space y and\nthen the other one was y colon no space y.\n\n418\n00:24:45.840 --> 00:24:48.650\nPretty sure that's not it but maybe?\n\n419\n00:24:48.650 --> 00:24:52.640\n&gt;&gt; Well that is definitely a good\ndebugging technique because right\n\n420\n00:24:52.640 --> 00:24:56.680\nsometimes I've printed out things and\nline by line which one of these match?\n\n421\n00:24:56.680 --> 00:25:00.790\nSo I should be consistent in that and\nI'll probably fix that.\n\n422\n00:25:00.790 --> 00:25:04.330\nHowever, you're right,\nI don't think its that.\n\n423\n00:25:04.330 --> 00:25:06.020\n&gt;&gt; I'm right that you're wrong.\n\n424\n00:25:06.020 --> 00:25:09.540\n&gt;&gt; Yeah, I do think I know what it is.\n\n425\n00:25:09.540 --> 00:25:12.150\nSo let's go ahead and\nfix that little bit of formatting and\n\n426\n00:25:12.150 --> 00:25:16.170\nagain we may come back and\nrefactor that well not me, I'm going to.\n\n427\n00:25:16.170 --> 00:25:19.530\nBut let's get that error\nshenanigans to stop going.\n\n428\n00:25:19.530 --> 00:25:24.790\nAll right, so I think you're talking\nabout this y:y here and this y:y here.\n\n429\n00:25:24.790 --> 00:25:28.440\n&gt;&gt; Yeah, yeah, spacing doesn't\nmake a difference in this point.\n\n430\n00:25:28.440 --> 00:25:32.320\n&gt;&gt; Yeah,\ny space the limited in JavaScript is not?\n\n431\n00:25:32.320 --> 00:25:34.757\nHowever, right here,\nyou're keeping me on my toes.\n\n432\n00:25:34.757 --> 00:25:35.613\n&gt;&gt; A matching game, matchy, matchy..\n\n433\n00:25:35.613 --> 00:25:39.990\n&gt;&gt; A matching game,\nhowever I do think I know what's going on.\n\n434\n00:25:39.990 --> 00:25:43.040\nIf we come back over here,\nand let's refresh the page.\n\n435\n00:25:43.040 --> 00:25:44.940\nAnd notice how, I haven't clicked or\n\n436\n00:25:44.940 --> 00:25:49.570\nanything, I'm just mouse moving and\nit says cannot find property, undefined.\n\n437\n00:25:49.570 --> 00:25:52.470\nIf I'm not mistaken, and ultimately,\nI don't think I'm going to keep it\n\n438\n00:25:52.470 --> 00:25:56.620\nlike this, I don't think render\nis a good thing to do here.\n\n439\n00:25:56.620 --> 00:25:58.798\nThis is a render portion,\n\n440\n00:25:58.798 --> 00:26:03.750\nwell It's not checking to see\nif there are points defined.\n\n441\n00:26:05.895 --> 00:26:09.390\nI made the assumption that there\nare points defined, at least one.\n\n442\n00:26:10.770 --> 00:26:15.884\nAnd what happened was is,\nmoved to first.x first.y.\n\n443\n00:26:15.884 --> 00:26:21.090\nWell, first,\nuntil I click doesn't actually exist.\n\n444\n00:26:21.090 --> 00:26:23.300\n&gt;&gt; That's the undefined\nbecause you said first.\n\n445\n00:26:23.300 --> 00:26:27.990\nAnd then you were moving so\ntheir is no first, I don't understand,\n\n446\n00:26:27.990 --> 00:26:29.650\nthat's the mismatch.\n\n447\n00:26:29.650 --> 00:26:31.380\n&gt;&gt; Yeah that's the mismatch.\n\n448\n00:26:31.380 --> 00:26:34.080\n&gt;&gt; So, what we'll find out is there's\nprobably a better way to do this, but\n\n449\n00:26:34.080 --> 00:26:36.550\nlet's just get something working.\n\n450\n00:26:36.550 --> 00:26:41.910\nAnd I think what I'm going to\ndo is just pull this render and\n\n451\n00:26:41.910 --> 00:26:47.090\nsay only rerender if I'm\npushing a new point, right?\n\n452\n00:26:47.090 --> 00:26:50.359\nOnly if I'm drawing do I want\nto rerender onmousemove okay?\n\n453\n00:26:50.359 --> 00:26:52.420\nAnd that should get and\n\n454\n00:26:52.420 --> 00:26:57.570\nshould is a strong keyword there\nshould give me notice no more errors.\n\n455\n00:26:57.570 --> 00:27:02.110\nAnd then if I, I kinda got that right.\n\n456\n00:27:02.110 --> 00:27:05.680\nThat's pretty cool,\nnot what I anticipated.\n\n457\n00:27:05.680 --> 00:27:07.720\n&gt;&gt; I like that, that's neat!\n\n458\n00:27:07.720 --> 00:27:11.360\n&gt;&gt; That is neat,\nnot what I was going for, though.\n\n459\n00:27:11.360 --> 00:27:14.290\nAnd well, why is that?\n\n460\n00:27:15.550 --> 00:27:20.990\nWell if we come down here and\nwe look, with line two, right?\n\n461\n00:27:20.990 --> 00:27:25.140\nAnd let's close path,\nI did that correctly, I think.\n\n462\n00:27:25.140 --> 00:27:27.110\nIt hasn't errored out on me yet.\n\n463\n00:27:27.110 --> 00:27:32.940\nSo I line to each one of these,\nbut why is it not.\n\n464\n00:27:32.940 --> 00:27:37.720\nLet's go look at points and see if we\ncan figure out what's going on here.\n\n465\n00:27:37.720 --> 00:27:43.010\nSo this is 280 points it's amazing how\nquickly you can get ahold of things.\n\n466\n00:27:43.010 --> 00:27:50.380\nAnd if I move,well lets refresh and\nlet's do a quick swipe so\n\n467\n00:27:50.380 --> 00:27:54.990\nit is drawing the line that I expect\nto but notice where it's lining too.\n\n468\n00:27:54.990 --> 00:27:57.970\n&gt;&gt; It keeps going back to the first point.\n\n469\n00:27:57.970 --> 00:28:01.800\nSo everywhere when you're moving\nout it's going back to that first.\n\n470\n00:28:01.800 --> 00:28:06.338\n&gt;&gt; Right, it's lining out from\nthat initial point [NOISE] So\n\n471\n00:28:06.338 --> 00:28:09.654\nwhat I need to do is\nmove to the next point.\n\n472\n00:28:09.654 --> 00:28:16.250\nNow, this is a get it working scenario,\nwe'll probably do some switching around.\n\n473\n00:28:17.270 --> 00:28:21.835\nBut, I'm thinking, I'm thinking we can say\n\n474\n00:28:21.835 --> 00:28:26.186\ncontext move to point.x point.y like so.\n\n475\n00:28:26.186 --> 00:28:32.960\nWe refresh and\nnow we have ourselves a pencil.\n\n476\n00:28:32.960 --> 00:28:37.975\nIt's kind of hard to draw with\na touchpad but now we have our basic.\n\n477\n00:28:37.975 --> 00:28:44.120\nWe've got some weirdness going on,\nbut our main idea is there right.\n\n478\n00:28:44.120 --> 00:28:47.350\nSo if I move around\nhere it does draw that.\n\n479\n00:28:47.350 --> 00:28:51.950\nDo notice I haven't moved my mouse cursor\nnotice that the line is actually offset\n\n480\n00:28:53.620 --> 00:28:56.020\nfrom the tip of the mouse.\n\n481\n00:28:56.020 --> 00:28:58.140\nWhy is that offset occurring?\n\n482\n00:28:58.140 --> 00:29:02.570\n&gt;&gt; That was that thing you talked about\nin the beginning and that's coming back.\n\n483\n00:29:02.570 --> 00:29:03.910\nIt's like you planned that.\n\n484\n00:29:03.910 --> 00:29:05.520\n[LAUGH]\n&gt;&gt; I know, we are going to have to handle\n\n485\n00:29:05.520 --> 00:29:07.910\nthat, that's totally fine.\n\n486\n00:29:07.910 --> 00:29:09.350\nBut now that I move over here.\n\n487\n00:29:11.160 --> 00:29:12.690\n&gt;&gt; We're continuing.\n\n488\n00:29:12.690 --> 00:29:14.660\n&gt;&gt; That's not what I wanted.\n\n489\n00:29:14.660 --> 00:29:17.010\nI actually wanted to start a new stroke.\n\n490\n00:29:17.010 --> 00:29:21.550\nI wanted something new and I have\nan update screen, but it'll be all right.\n\n491\n00:29:21.550 --> 00:29:24.550\nI think we're going to have\nto do some refactoring,\n\n492\n00:29:24.550 --> 00:29:25.700\npretty sure we don't have time.\n\n493\n00:29:25.700 --> 00:29:28.370\nWe do have our pencil drawing working,\nbut it looks like we're going\n\n494\n00:29:28.370 --> 00:29:30.860\nto have to come back in a part two,\ndo some reorganization.\n\n495\n00:29:30.860 --> 00:29:36.285\nAnd so you might have to rethink this\nproblem a little bit to get those separate\n\n496\n00:29:36.285 --> 00:29:41.040\npaths as a series of points that aren't\nalways necessarily connected together.\n\n497\n00:29:41.040 --> 00:29:44.400\n&gt;&gt; Well I like the first one where you\nweren't really intending to do that,\n\n498\n00:29:44.400 --> 00:29:45.870\nwhere it connected back\nto the first point.\n\n499\n00:29:45.870 --> 00:29:48.440\nIt kind of looked like a laser light show,\nooh, look at that.\n\n500\n00:29:48.440 --> 00:29:49.590\nI was kind of having fun with that.\n\n501\n00:29:49.590 --> 00:29:52.850\nBut like you said,\nit wasn't the scope of the project.\n\n502\n00:29:52.850 --> 00:29:57.340\nBut I am glad we got it working and\nwe'll figure out the continuation or\n\n503\n00:29:57.340 --> 00:30:01.270\nnot continuation of the path but\nwe will continue on to a part two.\n\n504\n00:30:01.270 --> 00:30:02.310\nSee what I did there?\n\n505\n00:30:02.310 --> 00:30:03.060\n&gt;&gt; I did, I did.\n\n506\n00:30:03.060 --> 00:30:03.700\n&gt;&gt; All right.\n\n507\n00:30:03.700 --> 00:30:05.930\n&gt;&gt; Wordplay it makes me happy.\n\n508\n00:30:05.930 --> 00:30:08.830\n&gt;&gt; All right we're going to go ahead and\nwrap this one up.\n\n509\n00:30:08.830 --> 00:30:11.750\nSigning off for DevPro TV,\nI'm your host Vonne Smith.\n\n510\n00:30:11.750 --> 00:30:12.500\n&gt;&gt; And I'm Justin Dennison.\n\n511\n00:30:12.500 --> 00:30:22.500\n&gt;&gt; And we'll see you soon.\n&gt;&gt; [MUSIC]\n\n",
          "vimeoId": "237594224"
        },
        {
          "description": "In this episode, Vonne and Justin take a look at how to fix the tracking of the pointer in order to make the rendering of the line more accurate to the mouse cursor. Justin also refactors the application code to provide a little more readability.",
          "length": "1478",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-4-2-2-creating_a_pencil_drawing_pt2-101017.00_24_30_25.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-4-2-2-creating_a_pencil_drawing_pt2-101017.00_24_30_25.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-4-2-2-creating_a_pencil_drawing_pt2-101017.00_24_30_25.Still001-sm.jpg",
          "title": "Creating a Pencil Drawing Pt2",
          "transcript": "WEBVTT\n\n1\n00:00:00.284 --> 00:00:10.284\n[MUSIC]\n\n2\n00:00:13.048 --> 00:00:13.890\nHello everyone!\n\n3\n00:00:13.890 --> 00:00:17.230\nAnd welcome to another\nexciting edition of DevProTV.\n\n4\n00:00:17.230 --> 00:00:22.780\nI'm your host Vonne Smith and we are\ncontinuing on with HTML5 Canvas projects.\n\n5\n00:00:22.780 --> 00:00:27.430\nAnd we're doing a part two of drawing\na line or creating a pencil-like drawing.\n\n6\n00:00:27.430 --> 00:00:30.380\nSomething with pencils and\nsomething with drawing.\n\n7\n00:00:30.380 --> 00:00:33.530\nAnd here to connect all the dots for\nus is Mr. Justin Dennison.\n\n8\n00:00:33.530 --> 00:00:34.730\nHow are you doing today?\n\n9\n00:00:34.730 --> 00:00:35.790\n&gt;&gt; I am doing fantastic.\n\n10\n00:00:35.790 --> 00:00:37.330\nExcept I'm supposed to be the one?\n\n11\n00:00:37.330 --> 00:00:39.240\nI thought you got this.\n\n12\n00:00:39.240 --> 00:00:40.285\nNah, I'm just joking.\n\n13\n00:00:40.285 --> 00:00:41.700\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm doing fantastic, and\n\n14\n00:00:41.700 --> 00:00:42.880\nhow are you today, Vonne?\n\n15\n00:00:42.880 --> 00:00:44.910\n&gt;&gt; You kinda made my heart stop there for\na little bit.\n\n16\n00:00:44.910 --> 00:00:46.008\nI'm like, wait, what?\n\n17\n00:00:46.008 --> 00:00:48.098\nNo, no, we didn't talk about this [LAUGH].\n\n18\n00:00:48.098 --> 00:00:51.030\n&gt;&gt; Yes, yes, my plan is coming together.\n\n19\n00:00:51.030 --> 00:00:52.290\nAnd how are you today?\n\n20\n00:00:52.290 --> 00:00:53.560\n&gt;&gt; I'm doing wonderful.\n\n21\n00:00:53.560 --> 00:00:56.710\nI'm excited to know where\nwe're continuing on, well,\n\n22\n00:00:56.710 --> 00:01:03.100\nbecause our path was continuing when we\nare drawing with our pencil-like drawing.\n\n23\n00:01:03.100 --> 00:01:06.250\nAnd the whole idea was coming back to\nmake it to where every time you let go,\n\n24\n00:01:06.250 --> 00:01:08.560\nit was supposed to draw a new one.\n\n25\n00:01:08.560 --> 00:01:09.930\nIs that where we're at?\n\n26\n00:01:09.930 --> 00:01:11.130\n&gt;&gt; Yeah.\n&gt;&gt; Refresh my memory.\n\n27\n00:01:11.130 --> 00:01:12.770\n&gt;&gt; We fixed a couple of things.\n\n28\n00:01:12.770 --> 00:01:15.844\nAnd we'll take a look at the existing\napplication in its current state\n\n29\n00:01:15.844 --> 00:01:16.633\nin just a moment.\n\n30\n00:01:16.633 --> 00:01:20.629\nBut we fixed a couple of things, like\nthe weird like fan pattern that we had.\n\n31\n00:01:20.629 --> 00:01:23.036\n&gt;&gt; I was a fan of that one, I liked that.\n\n32\n00:01:23.036 --> 00:01:26.674\n&gt;&gt; If you have no idea what we're talking\nabout, then definitely go check out part\n\n33\n00:01:26.674 --> 00:01:29.897\none because it was like a happy\naccident or something, I don't know.\n\n34\n00:01:29.897 --> 00:01:34.428\nLike well that's not what I expected,\nbut it works, and those things happen.\n\n35\n00:01:34.428 --> 00:01:37.870\nOur main goal in part one\nwas to get it working.\n\n36\n00:01:37.870 --> 00:01:39.490\nYou know,\nI was looking through this code, and\n\n37\n00:01:39.490 --> 00:01:43.030\nI'm not necessarily happy\nwith its organization.\n\n38\n00:01:43.030 --> 00:01:46.110\nAnd there's probably some things that\nwould make it a little more readable,\n\n39\n00:01:46.110 --> 00:01:47.090\nat least in my eyes.\n\n40\n00:01:47.090 --> 00:01:49.390\nAnd maybe you have different opinions.\n\n41\n00:01:49.390 --> 00:01:53.520\nBut it's always good to see alternative\nopinions because that's how we grow and\n\n42\n00:01:53.520 --> 00:01:54.380\nmake ourselves better.\n\n43\n00:01:54.380 --> 00:01:57.860\nSo let's go ahead and take a look\nat where our application stands.\n\n44\n00:01:57.860 --> 00:02:01.080\nAnd I'm gonna review\nwhat are our next steps.\n\n45\n00:02:01.080 --> 00:02:03.820\nBecause there may be a few of them.\n\n46\n00:02:03.820 --> 00:02:05.110\nHere we have our application.\n\n47\n00:02:05.110 --> 00:02:08.176\nI just refreshed and\nI can make a swirly gig.\n\n48\n00:02:08.176 --> 00:02:13.288\nAnd it's not quite at the tip,\nright at the tip of the cursor.\n\n49\n00:02:13.288 --> 00:02:14.858\nSo that's something that\nwe probably need to fix.\n\n50\n00:02:14.858 --> 00:02:18.549\n&gt;&gt; That was that offset thing that you had\ntalked about in the beginning of the first\n\n51\n00:02:18.549 --> 00:02:20.820\nepisode of like the nine,\nthe zero and the nine.\n\n52\n00:02:20.820 --> 00:02:23.553\n&gt;&gt; Yeah, so\nwe're gonna make use of the offset.\n\n53\n00:02:23.553 --> 00:02:26.980\nBut also I just stopped drawing.\n\n54\n00:02:26.980 --> 00:02:30.725\nAnd I'm gonna to be honest,\nthat offset thing bothers me a great deal.\n\n55\n00:02:30.725 --> 00:02:34.044\nThat would kind of be like you went to\nsign your name on the line of a check,\n\n56\n00:02:34.044 --> 00:02:37.070\n[LAUGH] if you know what a check is.\n\n57\n00:02:37.070 --> 00:02:41.497\nAnd then wherever you write\nit's like half a line down.\n\n58\n00:02:41.497 --> 00:02:42.748\nYou're like well, that's mad.\n\n59\n00:02:42.748 --> 00:02:45.475\n&gt;&gt; And well, yeah, and you're talking to\nsomeone that does a lot of typing and\n\n60\n00:02:45.475 --> 00:02:46.550\nis like this is the base line.\n\n61\n00:02:46.550 --> 00:02:48.090\nYou're supposed to write on the baseline.\n\n62\n00:02:48.090 --> 00:02:48.780\nIt's supposed to be there.\n\n63\n00:02:48.780 --> 00:02:50.488\nAnd it's like you have baseline shifting.\n\n64\n00:02:50.488 --> 00:02:53.191\nAnd you're like, why are you starting\nout all these technical terms for me?\n\n65\n00:02:53.191 --> 00:02:54.900\n[LAUGH] But yeah,\nit's just not on the line.\n\n66\n00:02:54.900 --> 00:02:58.760\n&gt;&gt; That's a lot of words Vonne, but\nI'm gonna go with it and say absolutely.\n\n67\n00:02:58.760 --> 00:03:01.390\nAnd these kind of manifest in\nthe smallest details with me.\n\n68\n00:03:01.390 --> 00:03:03.247\nI'm not always a huge stickler of those.\n\n69\n00:03:03.247 --> 00:03:06.570\nBut when I'm trying to draw a line, if I\nwanna draw a line I want it to be where\n\n70\n00:03:06.570 --> 00:03:08.770\nI'm pointing at, not necessarily\nthe back part of the pointer.\n\n71\n00:03:08.770 --> 00:03:09.390\nSo that's number one.\n\n72\n00:03:09.390 --> 00:03:10.970\nNumber two, I just stopped drawing.\n\n73\n00:03:12.070 --> 00:03:13.270\nWell, I wanna draw another one.\n\n74\n00:03:13.270 --> 00:03:16.440\nLet's say that I wanted to make a line up.\n\n75\n00:03:16.440 --> 00:03:20.070\nOops, so we have that issue.\n\n76\n00:03:20.070 --> 00:03:24.560\nAnd that may very well kind of come forth\nfrom how the application is organized.\n\n77\n00:03:24.560 --> 00:03:27.670\nSo I have to fix that.\n\n78\n00:03:27.670 --> 00:03:29.280\nBut if we come over and look,\n\n79\n00:03:29.280 --> 00:03:33.480\nwe got a lot of like global variables and\nthings going on.\n\n80\n00:03:33.480 --> 00:03:36.200\nI'm not necessarily a big fan of it,\nbecause if I come back and look it this\n\n81\n00:03:36.200 --> 00:03:41.480\napplication, there's nothing that tells\nme that this is the DevPaint application.\n\n82\n00:03:41.480 --> 00:03:43.780\nThere's nothing that tells me\nthat this all works together.\n\n83\n00:03:45.700 --> 00:03:50.470\nNow, this is very much a personal opinion,\ncuz I'm kind of opinionated about this.\n\n84\n00:03:50.470 --> 00:03:52.870\nI don't like to chunk these together.\n\n85\n00:03:52.870 --> 00:03:55.747\nSo I know, well,\nthis is the application and\n\n86\n00:03:55.747 --> 00:03:59.529\nhere are some of my other objects or\nclasses that are abstracted.\n\n87\n00:03:59.529 --> 00:04:04.323\nNow, in JavaScript we have a new advent\nin ECMAScript 6 or ECMAScript 2015,\n\n88\n00:04:04.323 --> 00:04:08.217\nnew versions of JavaScript that\nallow us to use the class keyword.\n\n89\n00:04:08.217 --> 00:04:12.340\nAnd I'm gonna do that just\nto provide further exposure.\n\n90\n00:04:12.340 --> 00:04:13.360\nIf you wanna know more about that,\n\n91\n00:04:13.360 --> 00:04:14.740\ndefinitely go check out\nthe course library.\n\n92\n00:04:14.740 --> 00:04:17.330\nI talk about JavaScript at a fair length.\n\n93\n00:04:18.340 --> 00:04:20.190\nHopefully, that will come in handy.\n\n94\n00:04:20.190 --> 00:04:24.380\nNow, the first thing I wanna do is\nreorganize this to kind of just\n\n95\n00:04:24.380 --> 00:04:28.170\nbundle all this functionality\nup inside of an application.\n\n96\n00:04:29.640 --> 00:04:36.590\nAnd part of that is creating this new\nthing called, let's call it DevPaint.\n\n97\n00:04:38.050 --> 00:04:42.810\nSo that provides me with a little more\nsemantic meaning on kind of my intentions.\n\n98\n00:04:42.810 --> 00:04:45.700\nSo I'm gonna say constructor, and\n\n99\n00:04:45.700 --> 00:04:50.130\nmaybe I want to construct DevPaint\nin a multitude of places.\n\n100\n00:04:50.130 --> 00:04:51.820\nMaybe I have different selectors.\n\n101\n00:04:51.820 --> 00:04:55.700\nCuz as it stands,\nhere's my selector for my canvas.\n\n102\n00:04:58.050 --> 00:05:01.740\nWell maybe, maybe it's best\n\n103\n00:05:01.740 --> 00:05:06.880\nif I use that selector as my drawing\nportion as I pass that in as an argument.\n\n104\n00:05:06.880 --> 00:05:09.110\nAnd you'll see how that plays out shortly.\n\n105\n00:05:09.110 --> 00:05:13.720\nSo I'm gonna do this, and I'm just gonna\ngrab these two pieces of information.\n\n106\n00:05:14.930 --> 00:05:17.450\nWe are probably going to break\nsome things here, Vonne.\n\n107\n00:05:17.450 --> 00:05:18.920\nI'm not gonna lie to you.\n\n108\n00:05:18.920 --> 00:05:19.605\nAnd then paste.\n\n109\n00:05:19.605 --> 00:05:22.928\nAnd instead of hard coding this canvas,\n\n110\n00:05:22.928 --> 00:05:27.570\nand I won't do this ubiquitously but\nthis is kind of our main element.\n\n111\n00:05:27.570 --> 00:05:30.290\nThis is where all of our\ndrawing takes place.\n\n112\n00:05:30.290 --> 00:05:34.300\nWhy don't we use that one with\nthe selector being passed in?\n\n113\n00:05:35.790 --> 00:05:40.130\nLikewise, here are some other variables\nthat are currently in the global scope.\n\n114\n00:05:40.130 --> 00:05:43.125\nSo if anybody else on the page or\nanother developer or\n\n115\n00:05:43.125 --> 00:05:47.347\nsomeone that's working with me on\nthis project wanted to use isDrawing,\n\n116\n00:05:47.347 --> 00:05:49.930\nthey can't cuz I've taken isDrawing.\n\n117\n00:05:49.930 --> 00:05:52.970\nWell technically they can because I've\nused a led and they can rebind the value.\n\n118\n00:05:52.970 --> 00:05:56.142\nBut that means my application might break\nbecause of things that they have done.\n\n119\n00:05:56.142 --> 00:06:01.530\n[SOUND] Right on like that.\n\n120\n00:06:01.530 --> 00:06:03.890\nNow, I just wanna back up, I said rebind.\n\n121\n00:06:03.890 --> 00:06:08.600\nWhat I mean is they can\nmodify isDrawing to have\n\n122\n00:06:08.600 --> 00:06:12.880\nother values other than true and\nfalse, which was my intention.\n\n123\n00:06:12.880 --> 00:06:20.010\nAnd by doing that, some of this isDrawing\nlogic may change in my application or\n\n124\n00:06:20.010 --> 00:06:24.990\nat least my little portion of it if there\nis some overwriting of those variables.\n\n125\n00:06:24.990 --> 00:06:30.050\nNow points, I've used a const\nwhich means it's an array.\n\n126\n00:06:30.050 --> 00:06:30.821\nYou can't change it.\n\n127\n00:06:30.821 --> 00:06:33.571\nNow, they could put things\nin it that would change it.\n\n128\n00:06:33.571 --> 00:06:37.348\nSo I like to bundle this up and\nsay this is mine, this is my domain,\n\n129\n00:06:37.348 --> 00:06:39.890\nthis is kinda my name space.\n\n130\n00:06:39.890 --> 00:06:44.826\nSo I'm gonna grab these right here,\nand paste those.\n\n131\n00:06:44.826 --> 00:06:51.599\nNow as it stands, I need to say this dot.\n\n132\n00:06:51.599 --> 00:06:55.510\nSo I want this application to have\na canvas, I want this application to\n\n133\n00:06:55.510 --> 00:06:59.970\nhave a context, and I want this\napplication to have an array of points.\n\n134\n00:06:59.970 --> 00:07:03.500\nLikewise, I wanna keep\nsome internal state,\n\n135\n00:07:03.500 --> 00:07:07.590\nthis application, well am I drawing\non this application or not?\n\n136\n00:07:09.490 --> 00:07:12.450\nAll right, and then finally\nI'm going to abstract this and\n\n137\n00:07:12.450 --> 00:07:18.200\nsay this.setupEvents and\njust call a method.\n\n138\n00:07:19.370 --> 00:07:19.882\nAnd that way,\n\n139\n00:07:19.882 --> 00:07:22.570\nat the end of this constructor,\nwhat does this setupEvents do?\n\n140\n00:07:22.570 --> 00:07:24.400\nIts probably registering\na bunch of event handlers.\n\n141\n00:07:25.680 --> 00:07:30.245\nOkay, all right, so\nsetupEvents, just like that.\n\n142\n00:07:30.245 --> 00:07:34.350\nThen I'm gonna grab these\nportions right here.\n\n143\n00:07:35.350 --> 00:07:38.400\nAnd my goal is to do\nthis change around and\n\n144\n00:07:38.400 --> 00:07:43.000\nget exactly the same workings\nthat I had previously.\n\n145\n00:07:43.000 --> 00:07:46.558\nSo there we go, and paste that, and\n\n146\n00:07:46.558 --> 00:07:52.500\nI guess I should bring that\njust to keep things consistent.\n\n147\n00:07:52.500 --> 00:07:55.136\nPaste up,\nwell I accidentally copied an empty line.\n\n148\n00:07:55.136 --> 00:07:56.579\nSo this is mousedown.\n\n149\n00:07:56.579 --> 00:07:58.127\nLike so.\n\n150\n00:07:58.127 --> 00:08:00.850\nAll right, so\nI'm gonna remove this little bit.\n\n151\n00:08:00.850 --> 00:08:02.650\nAnd what about this render?\n\n152\n00:08:02.650 --> 00:08:07.006\nWell, this is the rendering\nportion of the application.\n\n153\n00:08:07.006 --> 00:08:09.720\nSo I'll go ahead and\npull that inside as well.\n\n154\n00:08:09.720 --> 00:08:14.400\nBut I will have to make a change to,\nwell, a chunk of these things.\n\n155\n00:08:14.400 --> 00:08:16.700\nSo if I come down there and I look.\n\n156\n00:08:16.700 --> 00:08:17.910\nThat is the end of setup.\n\n157\n00:08:17.910 --> 00:08:20.250\nNotice this has a small underline.\n\n158\n00:08:20.250 --> 00:08:23.380\nThis has a small underline,\nthat means I'm outside of that method.\n\n159\n00:08:23.380 --> 00:08:27.780\nAnd people were doing this, such a common\nerror, is they'll accidentally paste\n\n160\n00:08:27.780 --> 00:08:30.230\nthings in the wrong places if\nthey're doing some rearrangement.\n\n161\n00:08:30.230 --> 00:08:34.940\n&gt;&gt; Yeah, I have the smallest amount of\nexperience with this enough to know.\n\n162\n00:08:34.940 --> 00:08:37.676\nI was looking at them like, ooh, wait,\n\n163\n00:08:37.676 --> 00:08:41.871\nwhich closed squiggly do we need\nto be outside of or inside of?\n\n164\n00:08:41.871 --> 00:08:45.988\nAnd I thought I was on the same\nplace where you were at so-\n\n165\n00:08:45.988 --> 00:08:46.785\n&gt;&gt; [LAUGH]\n\n166\n00:08:46.785 --> 00:08:48.205\n&gt;&gt; But that, you're talking about,\n\n167\n00:08:48.205 --> 00:08:50.005\nand it's very faint to\nsee it on the monitor.\n\n168\n00:08:50.005 --> 00:08:52.829\nWell, I'm looking at a television\nthat's over across the room.\n\n169\n00:08:52.829 --> 00:08:57.159\nBut it's right underneath the other\nsquiggly of where that end, yes, okay.\n\n170\n00:08:57.159 --> 00:08:57.934\n&gt;&gt; So we see that blue line.\n\n171\n00:08:57.934 --> 00:09:03.590\nAnd if I scroll up,\nyou'll see another blue line right there.\n\n172\n00:09:03.590 --> 00:09:05.414\nAnd it tells you the open, close-\n&gt;&gt; Yeah.\n\n173\n00:09:05.414 --> 00:09:06.076\n&gt;&gt; Of that portion.\n\n174\n00:09:06.076 --> 00:09:07.870\n&gt;&gt; Okay, and I thought had saw that.\n\n175\n00:09:07.870 --> 00:09:12.528\nBut I was just making sure that that\nis what I was needing to look for\n\n176\n00:09:12.528 --> 00:09:14.743\nas wondering, where do we go?\n\n177\n00:09:14.743 --> 00:09:15.619\nWhere are we going?\n&gt;&gt; [LAUGH].\n\n178\n00:09:15.619 --> 00:09:18.537\nI know I'm following you,\nI just, which squiggly?\n\n179\n00:09:18.537 --> 00:09:19.391\nI call them squigglies.\n\n180\n00:09:19.391 --> 00:09:22.290\n[LAUGH]\n&gt;&gt; Yeah, curly braces, squiggly braces.\n\n181\n00:09:22.290 --> 00:09:24.090\nI'm sure they have an official name.\n\n182\n00:09:24.090 --> 00:09:26.991\nBut I haven't bothered to\nlearn them because, well,\n\n183\n00:09:26.991 --> 00:09:30.157\nall of my substitute names have\nserved my purpose thus far.\n\n184\n00:09:30.157 --> 00:09:34.465\nBut I need to remove this function because\nthis is now a method of this class.\n\n185\n00:09:34.465 --> 00:09:36.450\nAnd, well, if we come back and we refresh,\n\n186\n00:09:36.450 --> 00:09:38.880\nthere's no errors because\nI haven't started this.\n\n187\n00:09:38.880 --> 00:09:41.130\nI haven't actually made this work yet.\n\n188\n00:09:42.560 --> 00:09:43.652\nSo if I come over here.\n\n189\n00:09:43.652 --> 00:09:45.088\nAnd I'm just gonna go through.\n\n190\n00:09:45.088 --> 00:09:49.920\nNotice that this.canvas, this.context,\nthis.points, and this.isDrawing.\n\n191\n00:09:49.920 --> 00:09:53.049\nAll of those variables used to be\nglobal using either const or let.\n\n192\n00:09:53.049 --> 00:09:56.335\nWhen now that they're a part\nof this application, well,\n\n193\n00:09:56.335 --> 00:09:59.580\nI'm gonna have to add\na this in front of canvas.\n\n194\n00:09:59.580 --> 00:10:02.630\nI need a, this.points in front of push.\n\n195\n00:10:02.630 --> 00:10:07.630\nAnd this, the keyword this, and the fat\narrow functions that I used in these\n\n196\n00:10:07.630 --> 00:10:11.320\nevent handlers,\nnow become incredibly useful.\n\n197\n00:10:12.740 --> 00:10:17.528\nThe fat arrow function allows me to\nuse the keyword this in reference to\n\n198\n00:10:17.528 --> 00:10:18.920\nthis application.\n\n199\n00:10:18.920 --> 00:10:23.593\nIf I used a normal function and if you're\ndoing these on an older browser, do keep\n\n200\n00:10:23.593 --> 00:10:28.700\nin mind that's going to change what this,\nthe keyword, means inside of the function.\n\n201\n00:10:28.700 --> 00:10:31.540\nSo I have some craziness there.\n\n202\n00:10:31.540 --> 00:10:36.811\nSo there's this.isDrawing and\nthis.isDrawing, and this.points.\n\n203\n00:10:36.811 --> 00:10:41.533\nAnd this is not so friendly,\nthis.render, just like so.\n\n204\n00:10:41.533 --> 00:10:48.386\nAnd then this.render, and\nthis.isDrawing, and this.points.\n\n205\n00:10:48.386 --> 00:10:51.756\nAnd also all of these\ncontext portions here.\n\n206\n00:10:51.756 --> 00:10:56.765\nNow, in Atom, I'm selecting the first\nthing in a hold command on Mac,\n\n207\n00:10:56.765 --> 00:11:00.537\nCtrl on other platforms, and hit d and\nit will give me the next one.\n\n208\n00:11:00.537 --> 00:11:01.380\nAnd then I hit d again.\n\n209\n00:11:01.380 --> 00:11:02.280\nAnd it will give the next one.\n\n210\n00:11:02.280 --> 00:11:05.300\nSo now I have multiple cursors,\nI just hit this dot.\n\n211\n00:11:05.300 --> 00:11:09.000\n&gt;&gt; I saw you do that before and I was\njust like, ooh, that was really exciting.\n\n212\n00:11:09.000 --> 00:11:10.667\nAnd I'm like,\nhe's probably talked about this or\n\n213\n00:11:10.667 --> 00:11:11.860\ndemonstrated this before-\n&gt;&gt; [LAUGH].\n\n214\n00:11:11.860 --> 00:11:13.500\n&gt;&gt; On another episode that I haven't seen.\n\n215\n00:11:13.500 --> 00:11:15.486\nBut I was just like, that was really cool.\n\n216\n00:11:15.486 --> 00:11:16.379\nI was hoping you would\ntell me what you did.\n\n217\n00:11:16.379 --> 00:11:17.991\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH]\n\n218\n00:11:17.991 --> 00:11:19.257\n&gt;&gt; Yeah, and I try to be explicit\n\n219\n00:11:19.257 --> 00:11:22.356\nabout those just in case, well,\nyou're joining us for the first time.\n\n220\n00:11:22.356 --> 00:11:25.189\nBut every once in a while,\nI am not infallible.\n\n221\n00:11:25.189 --> 00:11:26.260\nI do have a little hiccup.\n\n222\n00:11:27.330 --> 00:11:30.790\nAnd, well, I shouldn't forget this.points.\n\n223\n00:11:30.790 --> 00:11:33.441\n&gt;&gt; You don't have to\ndo it on the points.x.\n\n224\n00:11:33.441 --> 00:11:36.171\nI'm playing the matching\ngame again [LAUGH] but\n\n225\n00:11:36.171 --> 00:11:38.328\nthat's not applicable here-\n&gt;&gt; So this.points-\n\n226\n00:11:38.328 --> 00:11:38.980\n&gt;&gt; On that one-\n\n227\n00:11:38.980 --> 00:11:40.666\n&gt;&gt; Is the array.\n\n228\n00:11:40.666 --> 00:11:45.890\nIn the context of this forEach, point is a\ntemporary variable that is a singular one.\n\n229\n00:11:45.890 --> 00:11:47.680\nSo I'm moving through the array.\n\n230\n00:11:47.680 --> 00:11:51.620\nSo I don't need this., because it\nwill change every time we hit array\n\n231\n00:11:51.620 --> 00:11:54.450\nthrough the collection of\npoints that is a part of rest.\n\n232\n00:11:54.450 --> 00:11:56.572\n&gt;&gt; Yeah, it's crazy,\nthat actually made sense.\n\n233\n00:11:56.572 --> 00:11:57.825\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH]\n\n234\n00:11:57.825 --> 00:11:59.783\n&gt;&gt; Well, I'll tell you what, I,\n\n235\n00:11:59.783 --> 00:12:01.680\nmakes me feel good in my heart.\n\n236\n00:12:01.680 --> 00:12:03.042\n&gt;&gt; [LAUGH]\n&gt;&gt; Makes me feel good in my heart.\n\n237\n00:12:03.042 --> 00:12:06.360\n&gt;&gt; Now that we have this\nkind of rearranged, right?\n\n238\n00:12:07.400 --> 00:12:10.960\nWe need to instantiate the application.\n\n239\n00:12:10.960 --> 00:12:13.675\nI did change one thing,\nhow we were doing this.\n\n240\n00:12:13.675 --> 00:12:18.720\nDevPaint expects a selector\neffectively over in the index.html.\n\n241\n00:12:18.720 --> 00:12:20.240\nWhere's the canvas?\n\n242\n00:12:20.240 --> 00:12:22.339\nWhere is all this drawing going to occur?\n\n243\n00:12:22.339 --> 00:12:24.411\nNotice this is id of canvas.\n\n244\n00:12:24.411 --> 00:12:27.402\nLet's select canvas query,\ndocument.querySelector,\n\n245\n00:12:27.402 --> 00:12:29.084\nthat's what it used to point at.\n\n246\n00:12:29.084 --> 00:12:36.028\nBut when I create my new application,\nI'm actually going to say,\n\n247\n00:12:36.028 --> 00:12:40.770\nnew DevPaint, and then like so, okay?\n\n248\n00:12:40.770 --> 00:12:45.250\nAnd that way, if I wanted to change that,\nif I wanted to have 30 of these, or\n\n249\n00:12:45.250 --> 00:12:48.100\nif I needed to reuse this code but\n\n250\n00:12:48.100 --> 00:12:50.900\na different selector on a different page,\nthen I could.\n\n251\n00:12:50.900 --> 00:12:52.320\nIt's a little nicer.\n\n252\n00:12:52.320 --> 00:12:57.370\nNow, I'll probably deviate away from this\nas we're trying to get things done but\n\n253\n00:12:57.370 --> 00:13:00.370\nit's something to keep in mind.\n\n254\n00:13:00.370 --> 00:13:02.630\nI find this to be a little\nmore readable to me.\n\n255\n00:13:03.890 --> 00:13:06.110\nBut, again, that's my personal opinion.\n\n256\n00:13:06.110 --> 00:13:08.400\nLet's go see if we actually\nhave this working.\n\n257\n00:13:08.400 --> 00:13:10.260\nAnd well, look, we're back.\n\n258\n00:13:10.260 --> 00:13:11.700\nWe have no errors.\n\n259\n00:13:11.700 --> 00:13:15.940\nBut we still do have these\npersistent problems, right?\n\n260\n00:13:15.940 --> 00:13:18.549\nNumber one, the offset.\n\n261\n00:13:18.549 --> 00:13:22.495\nNumber two, The continuation.\n\n262\n00:13:22.495 --> 00:13:23.941\nAll right.\n\n263\n00:13:23.941 --> 00:13:29.948\nSo all of that is kind of cropping\nup from this.points.push, right?\n\n264\n00:13:29.948 --> 00:13:32.320\nWe're keeping collection of points.\n\n265\n00:13:32.320 --> 00:13:35.930\nAnd we're pushing in an object that\nI'm just constructing on the fly.\n\n266\n00:13:35.930 --> 00:13:37.390\nThat's kind of hard to read.\n\n267\n00:13:37.390 --> 00:13:39.010\nMy intention is not clear.\n\n268\n00:13:39.010 --> 00:13:41.640\nIf we came back from a month from now,\nI might understand it.\n\n269\n00:13:41.640 --> 00:13:46.301\nBut if Vonne wanted to come back,\neven though she is here, she may go,\n\n270\n00:13:46.301 --> 00:13:47.973\nwhat's an x and y thing?\n\n271\n00:13:47.973 --> 00:13:48.908\nWell it's a point.\n\n272\n00:13:48.908 --> 00:13:52.610\nAnd I want it to be treated like\na point with an x and y coordinate.\n\n273\n00:13:52.610 --> 00:13:55.110\nI'm actually gonna do a little\nbit of changes there so\n\n274\n00:13:55.110 --> 00:13:59.890\nwe can start to say, okay,\nI see what you're doing.\n\n275\n00:13:59.890 --> 00:14:04.284\nAnd what I'm gonna do is I'm\ngonna come above DevPaint and\n\n276\n00:14:04.284 --> 00:14:08.148\ncreate a class called,\nnot Paint, called Point.\n\n277\n00:14:08.148 --> 00:14:10.250\nAnd that's gonna be a constructor.\n\n278\n00:14:10.250 --> 00:14:13.255\nAnd it's gonna take an x and a y.\n\n279\n00:14:13.255 --> 00:14:15.698\nAnd I was gonna say is\nwhatever you pass in for\n\n280\n00:14:15.698 --> 00:14:18.010\nx is gonna be set to the x property.\n\n281\n00:14:18.010 --> 00:14:20.860\nWhatever you pass in for\ny is gonna be set to the y property.\n\n282\n00:14:20.860 --> 00:14:24.020\nAnd let's go check out how\nthat actually plays out.\n\n283\n00:14:25.290 --> 00:14:31.550\nSo let's say new Point(100,\n100) I still get that object that I'm\n\n284\n00:14:31.550 --> 00:14:38.150\ncreating in place with curly braces\nexcept, now, I know that it's a point.\n\n285\n00:14:39.340 --> 00:14:42.720\nAnd in my code my intention\nwill be conveyed a little,\n\n286\n00:14:42.720 --> 00:14:45.670\nI think, a little more\nclearly than it currently is.\n\n287\n00:14:45.670 --> 00:14:50.217\nSo let's make the changes,\nnew Point {x, y}, just like that.\n\n288\n00:14:50.217 --> 00:14:54.040\nNope, don't put a semicolon,\nit'll wreck your day, wrecked day.\n\n289\n00:14:55.050 --> 00:14:56.190\nLet's change these out.\n\n290\n00:14:57.480 --> 00:15:01.230\nAnd new Point {x, y}.\n\n291\n00:15:01.230 --> 00:15:03.720\nAnd finally a new point.\n\n292\n00:15:05.490 --> 00:15:10.020\nLet's keep it consistent,\nnew Point {x, y}.\n\n293\n00:15:10.020 --> 00:15:11.240\nOkay, very repetitive.\n\n294\n00:15:11.240 --> 00:15:13.300\nWe'll probably clean that up shortly.\n\n295\n00:15:14.490 --> 00:15:15.690\nBut now what am I doing?\n\n296\n00:15:15.690 --> 00:15:19.415\nI'm pushing into the points\narray a new point.\n\n297\n00:15:19.415 --> 00:15:20.797\nThat's my intention.\n\n298\n00:15:20.797 --> 00:15:21.940\nIt's a small change.\n\n299\n00:15:21.940 --> 00:15:23.540\nIt's a subtle change.\n\n300\n00:15:23.540 --> 00:15:25.900\nBut now if we come back and\nread this, what is that thing?\n\n301\n00:15:25.900 --> 00:15:26.830\nIt's a point.\n\n302\n00:15:26.830 --> 00:15:28.930\nIt's not just an object with an x and a y.\n\n303\n00:15:28.930 --> 00:15:30.700\nA point is a coordinate.\n\n304\n00:15:30.700 --> 00:15:33.190\nAn x position and a y position.\n\n305\n00:15:33.190 --> 00:15:39.390\nLikewise, I have used that\nconvention to draw my line, right?\n\n306\n00:15:39.390 --> 00:15:41.010\nSo the first one has an x and a y.\n\n307\n00:15:41.010 --> 00:15:43.632\nAnd those are x and y coordinates.\n\n308\n00:15:43.632 --> 00:15:46.739\nThat still doesn't fix\nany of my problems but\n\n309\n00:15:46.739 --> 00:15:49.856\nit helps me with a little\nbit of readability.\n\n310\n00:15:49.856 --> 00:15:52.992\nAnd just to show you it all still works.\n\n311\n00:15:52.992 --> 00:15:56.860\nAll right,\nlet's tackle problem number one, Vonne.\n\n312\n00:15:56.860 --> 00:16:02.770\nThat offset from the tip of the, I think\nI can fix this, or at least get closer.\n\n313\n00:16:03.810 --> 00:16:10.220\nOkay, so when I go to add my point,\nI'm just grabbing the x and\n\n314\n00:16:10.220 --> 00:16:15.220\ny from my event, and\nthe event is on the canvas object.\n\n315\n00:16:15.220 --> 00:16:19.030\nSo there's a little bit of wiggle\nroom because of relative spacing or\n\n316\n00:16:19.030 --> 00:16:21.140\nrelative positioning and\nthings of that nature.\n\n317\n00:16:22.720 --> 00:16:25.822\nReally, really I think\nwe should change these.\n\n318\n00:16:25.822 --> 00:16:31.698\nLet's say, const x = e.x -,\n\n319\n00:16:31.698 --> 00:16:38.228\nI'll get it right in just a moment,\n\n320\n00:16:38.228 --> 00:16:45.630\nand then, this .canvas, right here,\n\n321\n00:16:45.630 --> 00:16:52.830\nthis.canvas.offsetLeft, right?\n\n322\n00:16:52.830 --> 00:16:57.284\nSo I'm looking for\nthe canvases offset from the left.\n\n323\n00:16:57.284 --> 00:17:01.418\nLikewise, I'm looking for y, e.y,\n\n324\n00:17:01.418 --> 00:17:07.561\nwhich is the y position,\nminus this.canvas.offset and\n\n325\n00:17:07.561 --> 00:17:11.520\nnot left, but instead from the top.\n\n326\n00:17:11.520 --> 00:17:14.970\nSo essentially,\nI'm taking this point at the x and y.\n\n327\n00:17:14.970 --> 00:17:18.580\nI'm just moving it up into the left\n\n328\n00:17:19.810 --> 00:17:23.250\nbased on how far the canvas is\noffset relatively speaking.\n\n329\n00:17:23.250 --> 00:17:25.090\n&gt;&gt; This may be a weird correlation, but\n\n330\n00:17:25.090 --> 00:17:30.720\nit's like when you weigh things on a scale\nand you have a tray and you do a tear.\n\n331\n00:17:30.720 --> 00:17:33.150\nRight like, just take off,\nokay, the tray is 0.04.\n\n332\n00:17:33.150 --> 00:17:36.360\nYou hit the tear button,\nit sets it back to zero, so\n\n333\n00:17:36.360 --> 00:17:39.370\nit knows that's how much it is\nthen you put your meat on it.\n\n334\n00:17:39.370 --> 00:17:42.800\nYeah, I've-\n&gt;&gt; It is very much similar to that.\n\n335\n00:17:42.800 --> 00:17:46.780\nEssentially we're zeroing out a little bit\nof noise, a little bit of [SOUND], right?\n\n336\n00:17:46.780 --> 00:17:48.970\nThat little extra.\n\n337\n00:17:48.970 --> 00:17:54.030\nAnd hopefully that will fix our problem\nand well, if it doesn't then I don't know.\n\n338\n00:17:54.030 --> 00:17:57.330\nWe'll deal with that when and\nif we need to.\n\n339\n00:17:57.330 --> 00:18:03.280\nSo we come over here, and\nlet's zoom in, that's a little better.\n\n340\n00:18:03.280 --> 00:18:07.590\nIt's a little better but\nit's not exactly correct.\n\n341\n00:18:07.590 --> 00:18:14.840\nAnd let's see here, number one, because\nI haven't made this change everywhere.\n\n342\n00:18:14.840 --> 00:18:20.481\nSo let's go ahead and\ngrab this and say [SOUND],\n\n343\n00:18:20.481 --> 00:18:25.841\nlike so, and we're gonna have to fix that.\n\n344\n00:18:25.841 --> 00:18:28.965\nSo there we go and then, likewise.\n\n345\n00:18:28.965 --> 00:18:32.764\n[SOUND] Like those sound effects,\nVonne, that's important.\n\n346\n00:18:32.764 --> 00:18:37.360\nLet's zoom in and see if that works, aha.\n\n347\n00:18:37.360 --> 00:18:38.470\n&gt;&gt; Look at that.\n\n348\n00:18:38.470 --> 00:18:40.690\n&gt;&gt; Yeah, now it's right at the tip.\n\n349\n00:18:40.690 --> 00:18:45.610\nAnd full disclosure,\nthere's is e.x and e.pagex and for\n\n350\n00:18:45.610 --> 00:18:48.030\nthe most part, those are the same value.\n\n351\n00:18:48.030 --> 00:18:51.911\nSo if you see other projects, you're\nstarting to do some research on this x and\n\n352\n00:18:51.911 --> 00:18:55.790\npagex are, in this context,\nexactly the same.\n\n353\n00:18:55.790 --> 00:18:58.430\nSo I do have a, I've moved it.\n\n354\n00:18:58.430 --> 00:19:00.460\n&gt;&gt; And you're feeling a lot better now,\naren't you?\n\n355\n00:19:00.460 --> 00:19:03.170\n&gt;&gt; I am, man, I was getting nervous\nthere for a second because I\n\n356\n00:19:03.170 --> 00:19:06.100\nthought that wasn't gonna work,\nand I was gonna run off camera.\n\n357\n00:19:06.100 --> 00:19:10.320\nAnd to think about all the decisions\nI made that got me to this poin But\n\n358\n00:19:10.320 --> 00:19:14.930\nluckily it worked, but during that it\nreally came to the forefront, right?\n\n359\n00:19:16.330 --> 00:19:20.010\nThis is super repetitive, right?\n\n360\n00:19:20.010 --> 00:19:24.670\nAt least if I look at this,\nso if this is drawing,\n\n361\n00:19:26.480 --> 00:19:32.030\nI really just wanna add a point to\nthe points array, if we're drawing.\n\n362\n00:19:33.440 --> 00:19:38.750\nIf I look here, I really just wanna add\na point from an event all the time.\n\n363\n00:19:40.180 --> 00:19:43.702\nSee how almost all this\ncode is exactly the same?\n\n364\n00:19:43.702 --> 00:19:46.740\nThat's a good, you know what,\nI should probably change that.\n\n365\n00:19:46.740 --> 00:19:48.990\nI should probably abstract that out so\nit's a little more readable.\n\n366\n00:19:48.990 --> 00:19:52.100\nSo if someone comes around, me, you, Bond,\n\n367\n00:19:52.100 --> 00:19:55.780\nwhoever, at a later time, goes,\nthat's what he meant to do.\n\n368\n00:19:55.780 --> 00:19:59.050\n&gt;&gt; Yeah, and\nI've been with you on enough episodes, so\n\n369\n00:19:59.050 --> 00:20:00.970\nit's like, I know where he's going.\n\n370\n00:20:02.200 --> 00:20:04.540\nI see repetitive patterns, and\n\n371\n00:20:04.540 --> 00:20:08.040\nthat's where you need to do\nwhatever you're gonna do now.\n\n372\n00:20:08.040 --> 00:20:11.223\n&gt;&gt; We're gonna do a quick\nlittle re-factor here and\n\n373\n00:20:11.223 --> 00:20:16.770\nI'm going to come outside of setup events,\nand I'm gonna say, add point from event.\n\n374\n00:20:16.770 --> 00:20:20.660\nI'm just going to pass in\nthe event like that okay?\n\n375\n00:20:20.660 --> 00:20:25.930\nAnd then what this is going to do,\nis I'm just gonna grab this,\n\n376\n00:20:25.930 --> 00:20:29.880\ncut this, boom, okay?\n\n377\n00:20:29.880 --> 00:20:33.720\nAnd now, inside of this event handler,\nadd point from event, and\n\n378\n00:20:33.720 --> 00:20:35.210\njust pass in the event.\n\n379\n00:20:35.210 --> 00:20:36.360\nNow, I'm doing a lot of mutation,\n\n380\n00:20:36.360 --> 00:20:38.970\nit's not necessarily something\nwe always want to do.\n\n381\n00:20:38.970 --> 00:20:41.310\nBut now, what does mouse [INAUDIBLE].\n\n382\n00:20:41.310 --> 00:20:44.710\nThat adds a point from the event and\nsets it strong to true.\n\n383\n00:20:44.710 --> 00:20:47.780\nI don't have to think\nabout all these mechanics.\n\n384\n00:20:47.780 --> 00:20:48.840\nLikewise, guess what?\n\n385\n00:20:48.840 --> 00:20:53.264\nI'm just gonna delete this and\nsay, add pont from event.\n\n386\n00:20:53.264 --> 00:20:58.240\nThat's the event, just like that,\nthat's it, that's a lot more readable.\n\n387\n00:20:58.240 --> 00:21:01.461\nAnd now mouseup,\nit does call a render at the end,\n\n388\n00:21:01.461 --> 00:21:03.930\nso that's something to keep in mind.\n\n389\n00:21:05.690 --> 00:21:11.437\nAnd then, likewise,\nif I pull these to the inside and\n\n390\n00:21:11.437 --> 00:21:16.313\nI say paste,\nlet's see if that still works.\n\n391\n00:21:16.313 --> 00:21:21.191\nBecause then we can apply that\nfunction in the very same context,\n\n392\n00:21:21.191 --> 00:21:23.150\ngo refresh, and it does.\n\n393\n00:21:24.580 --> 00:21:26.410\nAnd I've went through the whole motion.\n\n394\n00:21:27.700 --> 00:21:31.210\nAnd I wanted to check to see if\nmoving that inside broke anything.\n\n395\n00:21:31.210 --> 00:21:32.740\nI figured it shouldn't,\nbut you never know.\n\n396\n00:21:32.740 --> 00:21:39.220\nAnd what that means is I\ncan say addPointFromEvent.\n\n397\n00:21:39.220 --> 00:21:41.810\nAnd now,\nif we're drawing addPointFromEvent and\n\n398\n00:21:41.810 --> 00:21:44.010\nrender and there we go.\n\n399\n00:21:44.010 --> 00:21:46.540\nNow there is some repetition\nwith this render.\n\n400\n00:21:46.540 --> 00:21:55.640\nMaybe, maybe, we just call that at the end\nof every time we add a new point, right?\n\n401\n00:21:55.640 --> 00:21:57.070\nSo let's take this render out.\n\n402\n00:21:59.570 --> 00:22:02.490\nAnd I think that makes a little more,\nif I added a new point,\n\n403\n00:22:02.490 --> 00:22:03.940\nI should probably re-render.\n\n404\n00:22:03.940 --> 00:22:07.970\nSo it shouldn't be tied to the event\nhandlers necessarily, it should be tied to\n\n405\n00:22:07.970 --> 00:22:13.060\nchanging how many points we have.\n\n406\n00:22:13.060 --> 00:22:18.400\nI hope this works, cuz if it doesn't,\nwell, we're going to have to rethink that.\n\n407\n00:22:18.400 --> 00:22:23.100\nAnd now we get the exact same thing\nI have render one time because\n\n408\n00:22:23.100 --> 00:22:26.620\nit's tied to adding a point\nto the points array.\n\n409\n00:22:26.620 --> 00:22:28.250\nThis has cleaned up a great deal.\n\n410\n00:22:28.250 --> 00:22:33.520\nI would argue a lot more\nreadable than before because,\n\n411\n00:22:33.520 --> 00:22:34.700\nwhat are we doing on mousedown?\n\n412\n00:22:34.700 --> 00:22:37.920\nWell, you're gonna add a point to the\narray and gonna say, is drawing to true.\n\n413\n00:22:39.080 --> 00:22:39.830\nWhat about mouseup?\n\n414\n00:22:39.830 --> 00:22:43.820\nWe're gonna add that final point to\nthe array and say is drawn to false.\n\n415\n00:22:43.820 --> 00:22:44.470\nCuz you're no longer drawing..\n\n416\n00:22:44.470 --> 00:22:45.740\nWhat about if you're moving?\n\n417\n00:22:45.740 --> 00:22:48.990\nWell, if you're drawing,\nadd another point to the array.\n\n418\n00:22:48.990 --> 00:22:51.020\nEvery time I add a point,\n\n419\n00:22:51.020 --> 00:22:55.640\nI want to re-render because I\nhave a new thing to draw, right?\n\n420\n00:22:55.640 --> 00:22:59.720\nSo now, there's a little bit of\nrefactoring had set us up to go, okay,\n\n421\n00:22:59.720 --> 00:23:02.650\nI see where you're going here, I got you.\n\n422\n00:23:04.160 --> 00:23:06.090\nWe fixed a problem,\nwe made it a little cleaner.\n\n423\n00:23:06.090 --> 00:23:08.800\nA little more easy,\na little easier to read, right?\n\n424\n00:23:08.800 --> 00:23:10.800\nA little more easy my goodness,\n\n425\n00:23:10.800 --> 00:23:14.458\nthat's two comparative forms on it,\ndon't ever do that that's bad.\n\n426\n00:23:14.458 --> 00:23:21.740\nSo if I refresh and I go like this, and\nwe still have that one problem, right?\n\n427\n00:23:21.740 --> 00:23:24.130\nAnd I will be honest with you, Vonne,\n\n428\n00:23:24.130 --> 00:23:27.840\nthis is probably going to have\nto take a little more changes.\n\n429\n00:23:27.840 --> 00:23:31.692\nPoints are good, but\nI think I foresee what's going on.\n\n430\n00:23:31.692 --> 00:23:34.170\nWe just keep adding points,\nwe need some way to say,\n\n431\n00:23:34.170 --> 00:23:39.740\nthis chunk of points is this line,\nthis chunk of points is this line.\n\n432\n00:23:39.740 --> 00:23:44.110\nBut as it stands we're going to have\nto make a fair amount of changes\n\n433\n00:23:44.110 --> 00:23:48.290\nto our current code,\nmaybe mess up some of that readability.\n\n434\n00:23:48.290 --> 00:23:50.210\nBut I don't know if we\nhave time in that episode.\n\n435\n00:23:50.210 --> 00:23:51.700\nI know we have a little bit of time, but\n\n436\n00:23:51.700 --> 00:23:55.685\nwe've got some other thing we've got to do\nto set that up, that's annoying behavior.\n\n437\n00:23:55.685 --> 00:23:59.955\n&gt;&gt; Well, I have faith that I know you\nwill get this done, and you'll show me.\n\n438\n00:23:59.955 --> 00:24:04.211\nAnd I'll be really excited because I'm\nstill following, I'm still understanding.\n\n439\n00:24:04.211 --> 00:24:07.785\nAnd now Im thinking about deli meat and\n[INAUDIBLE]\n\n440\n00:24:07.785 --> 00:24:08.507\n&gt;&gt; [LAUGH]\n\n441\n00:24:08.507 --> 00:24:12.128\n&gt;&gt; I might be having some chicken tenders\n\n442\n00:24:12.128 --> 00:24:14.195\ntonight for dinner.\n\n443\n00:24:14.195 --> 00:24:15.298\n[LAUGH]\n&gt;&gt; Mm, delicioso\n\n444\n00:24:15.298 --> 00:24:16.830\n&gt;&gt; All right, well, thank you so\n\n445\n00:24:16.830 --> 00:24:21.000\nmuch for that and\nwe will come back with a part three and\n\n446\n00:24:21.000 --> 00:24:23.130\ndo all that stuff you\nsaid we were gonna do.\n\n447\n00:24:23.130 --> 00:24:24.950\nIm excited I hope youre excited.\n\n448\n00:24:24.950 --> 00:24:26.980\nWere gonna go ahead and wrap this one up.\n\n449\n00:24:26.980 --> 00:24:29.730\nSigning off for DEVPRO TV,\nI've been your host Vonne Smith.\n\n450\n00:24:29.730 --> 00:24:30.750\n&gt;&gt; And I'm Justin Dennison.\n\n451\n00:24:30.750 --> 00:24:32.528\n&gt;&gt; And we'll see you soon.\n\n452\n00:24:32.528 --> 00:24:37.900\n[MUSIC]\n\n",
          "vimeoId": "237742681"
        },
        {
          "description": "In this episode, Vonne and Justin fix the single continuous path so that users can draw multiple yet separate lines. In order to accomplish this, Justin introduces a new object into the application and refactors, yet again, the application code.",
          "length": "1549",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-4-2-3-creating_a_pencil_drawing_pt3-101017-PGM.00_25_59_08.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-4-2-3-creating_a_pencil_drawing_pt3-101017-PGM.00_25_59_08.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-4-2-3-creating_a_pencil_drawing_pt3-101017-PGM.00_25_59_08.Still001-sm.jpg",
          "title": "Creating a Pencil Drawing Pt3",
          "transcript": "WEBVTT\n\n1\n00:00:00.012 --> 00:00:10.012\n[MUSIC]\n\n2\n00:00:13.125 --> 00:00:17.031\nHello everyone, and welcome back to\nanother exciting edition of DEVPro.TV.\n\n3\n00:00:17.031 --> 00:00:22.020\nI'm your host, Vonne Smith, and\nthis is HTML5 Canvas Projects,\n\n4\n00:00:22.020 --> 00:00:26.937\nand we're coming back with a part\n3 in our drawing a line objects.\n\n5\n00:00:26.937 --> 00:00:31.229\nOkay, I don't think I've gotten\nthe name of this episode right yet,\n\n6\n00:00:31.229 --> 00:00:36.030\nbut that's okay, I have Mr.\nJustin Dennison here to help me out.\n\n7\n00:00:36.030 --> 00:00:38.235\nSo, thank you for coming,\nand what are we doing again?\n\n8\n00:00:38.235 --> 00:00:40.540\nWe're creating a pencil drawing.\n\n9\n00:00:40.540 --> 00:00:43.386\n&gt;&gt; Creating a pencil drawing, that is\nour ultimate goal for this episode.\n\n10\n00:00:43.386 --> 00:00:47.840\nAnd as a developer,\nI am a horrible estimator of time.\n\n11\n00:00:47.840 --> 00:00:49.513\nAnd, well,\nyou're definitely seeing this in play.\n\n12\n00:00:49.513 --> 00:00:52.720\nI was like, yes,\none episode and will be done.\n\n13\n00:00:52.720 --> 00:00:54.120\nAnd then, here we are in part 3.\n\n14\n00:00:54.120 --> 00:00:57.270\nBut, I'm making sure that\nI'm trying to be specific,\n\n15\n00:00:57.270 --> 00:01:02.032\nvery transparent about the thought process\nand kinda the process that I go through,\n\n16\n00:01:02.032 --> 00:01:05.350\nwhen I'm working through\nthese respective projects.\n\n17\n00:01:05.350 --> 00:01:09.362\n&gt;&gt; Well, I'm gonna say I appreciate it,\nbecause, like I told you before,\n\n18\n00:01:09.362 --> 00:01:11.385\nI'm actually understanding this.\n\n19\n00:01:11.385 --> 00:01:16.125\nI'm totally following your logic and\nhow you're doing the refactoring and\n\n20\n00:01:16.125 --> 00:01:20.755\nall, like following the patterns and\nI'm thoroughly enjoying myself.\n\n21\n00:01:20.755 --> 00:01:23.652\nAnd this is right up my ally in my path,\n\n22\n00:01:23.652 --> 00:01:27.921\nbecause I love to draw paths\nin illustrator and points.\n\n23\n00:01:27.921 --> 00:01:30.647\nSo, maybe that's also\nkind of coming into play.\n\n24\n00:01:30.647 --> 00:01:32.049\n&gt;&gt; Well.\n&gt;&gt; But you're doing an excellent of\n\n25\n00:01:32.049 --> 00:01:32.730\nexplaining it.\n\n26\n00:01:32.730 --> 00:01:33.717\n&gt;&gt; Well, thank you, thank you.\n\n27\n00:01:33.717 --> 00:01:36.750\nI'm going to puff up my chest, and\nraise up my chin a little bit.\n\n28\n00:01:36.750 --> 00:01:40.695\nAnd, well this episode may be, kind of\nthe most exciting for you yet, Vonne.\n\n29\n00:01:40.695 --> 00:01:46.430\nBecause, well, in part 1 we got it\nworking, and there were some rough edges.\n\n30\n00:01:46.430 --> 00:01:50.180\nPart 2 we did some refactoring, made it\na little more readable, in my opinion.\n\n31\n00:01:50.180 --> 00:01:54.430\nAnd, well, we added the ability\nto offset based on the pointer.\n\n32\n00:01:54.430 --> 00:01:56.931\nSo now it actually draws\nwhere your mouse pointer is,\n\n33\n00:01:56.931 --> 00:01:58.385\nat the very tip of the pointer.\n\n34\n00:01:58.385 --> 00:02:01.330\nBut we still did have a persistent issue.\n\n35\n00:02:01.330 --> 00:02:05.835\nAnd, well, let's just go ahead and remind\nourselves that the teeth-gritting issue,\n\n36\n00:02:05.835 --> 00:02:06.685\nthat we can see.\n\n37\n00:02:06.685 --> 00:02:08.770\nLet's go ahead and\ntake a look at my screen here.\n\n38\n00:02:08.770 --> 00:02:10.639\nAnd I'm gonna refresh.\n\n39\n00:02:10.639 --> 00:02:18.280\nAnd all right, everything looks good,\nit is so not good.\n\n40\n00:02:18.280 --> 00:02:21.429\n&gt;&gt; And this is also correlating\ninto when I teach Illustrator,\n\n41\n00:02:21.429 --> 00:02:23.415\nwhen somebody's using the pen tool.\n\n42\n00:02:23.415 --> 00:02:26.619\nNow the pen tool works a little bit\ndifferently, mechanically you have to\n\n43\n00:02:26.619 --> 00:02:30.350\nclick, click, click, but people think,\nI'm ready to go ahead and make a new path.\n\n44\n00:02:30.350 --> 00:02:35.782\nBut what I say is you have to\ntell it to stop this path,\n\n45\n00:02:35.782 --> 00:02:39.130\nokay, let's now do a new path.\n\n46\n00:02:39.130 --> 00:02:45.310\nSo, it's following along in a program\nthat I do teach and know very well.\n\n47\n00:02:45.310 --> 00:02:48.970\nSo, this is like the, you've got\nto stop the path in Illustrator.\n\n48\n00:02:48.970 --> 00:02:53.700\nYou've got to stop the pen, and I know\nthat that's what we're going to be doing.\n\n49\n00:02:53.700 --> 00:02:58.154\n&gt;&gt; And I think you kind of brought to\nthe forefront exactly what's happening.\n\n50\n00:02:58.154 --> 00:03:01.840\nCurrently we are storing\nall of the points, right?\n\n51\n00:03:01.840 --> 00:03:05.282\nLet's go up here and look look\ninside in DevPaint, the application.\n\n52\n00:03:05.282 --> 00:03:07.860\nWe're storing points continuously.\n\n53\n00:03:07.860 --> 00:03:12.560\nTechnically, points are discrete, but\nwe are drawing between them with lines.\n\n54\n00:03:13.560 --> 00:03:16.840\nThere's still a line set, we're splitting\nhairs here, so we won't worry about that.\n\n55\n00:03:16.840 --> 00:03:19.080\nWe're just consistently adding to this.\n\n56\n00:03:19.080 --> 00:03:22.913\nThere is never a time that I say,\nall right, all these points are a group.\n\n57\n00:03:22.913 --> 00:03:25.300\nThese determine the path.\n\n58\n00:03:25.300 --> 00:03:29.400\nAnd I want you render those\nindependently of the next path, right?\n\n59\n00:03:29.400 --> 00:03:34.689\nSo we've been talking about this path and\nit's been a little bit of a foreshadowing,\n\n60\n00:03:34.689 --> 00:03:38.630\nkind of, if this is a path,\nthen we could get this to work.\n\n61\n00:03:38.630 --> 00:03:41.488\nWell, I think it's probably\ntime we do just that,\n\n62\n00:03:41.488 --> 00:03:43.889\na collection of points will define a path.\n\n63\n00:03:43.889 --> 00:03:48.734\nAnd when we have those mouse events within\nour application, I think we can say,\n\n64\n00:03:48.734 --> 00:03:50.829\non mouse down, create a new path,\n\n65\n00:03:50.829 --> 00:03:56.360\nadd points to said path, and then mouse\nup terminate the path, we're done.\n\n66\n00:03:56.360 --> 00:03:57.880\nBut keep that path, all right?\n\n67\n00:03:57.880 --> 00:04:00.678\nThe actual path, in our memory, and\n\n68\n00:04:00.678 --> 00:04:05.560\nthen move on to another path, so\nwhen I click I create a new path.\n\n69\n00:04:05.560 --> 00:04:10.990\nAnd that's a lot of kind of abstract talk,\nso its probably easier to show ultimately.\n\n70\n00:04:10.990 --> 00:04:13.583\n&gt;&gt; It's just a reset,\nlike reset and loop again.\n\n71\n00:04:13.583 --> 00:04:18.970\n&gt;&gt; Exactly, exactly and this is all\ngonna be kind of based on mouse events.\n\n72\n00:04:18.970 --> 00:04:20.440\nWhat does that mean in\nterms of our application?\n\n73\n00:04:20.440 --> 00:04:25.240\nWell, it means that a lot of\nthis is not gonna work [LAUGH].\n\n74\n00:04:25.240 --> 00:04:28.786\nSo that is okay though, all right?\n\n75\n00:04:28.786 --> 00:04:33.491\nHow is that going to, this don't render,\nwe may find, and this is,\n\n76\n00:04:33.491 --> 00:04:39.210\nI'm always guarded against premature\nkind of refactoring optimization.\n\n77\n00:04:39.210 --> 00:04:42.970\nWe may have to pull things out,\nlet's say this function.\n\n78\n00:04:42.970 --> 00:04:46.752\nThis may not work originally how we\nplanned it, we may have to move it yet\n\n79\n00:04:46.752 --> 00:04:50.820\nagain, or pull it back apart instead\nof the consolidation that we did.\n\n80\n00:04:50.820 --> 00:04:54.775\nAnd that's just the name of the game,\nthat's something that happens.\n\n81\n00:04:54.775 --> 00:05:01.090\nLikewise though, I think points is not\ngoing to be stored inside of DevPaint.\n\n82\n00:05:01.090 --> 00:05:07.019\nI think we're gonna store paths and\nkeep track of a path one at a time.\n\n83\n00:05:07.019 --> 00:05:09.969\nAnd then the path that\nwe're keeping track of,\n\n84\n00:05:09.969 --> 00:05:14.190\nis actually going to contain\na collection of points.\n\n85\n00:05:14.190 --> 00:05:15.674\nThat was a lot.\n\n86\n00:05:15.674 --> 00:05:20.431\nLet's do this, let me further clarify, and\nthis is gonna be a whole bunch of broke,\n\n87\n00:05:20.431 --> 00:05:23.940\nand I know a lot,\nthis is gonna be broke for a little bit.\n\n88\n00:05:23.940 --> 00:05:30.662\nSo I'm gonna say this .path, and I'd\nreally like to say path, that's it, okay?\n\n89\n00:05:30.662 --> 00:05:34.274\nGot it?\nAnd we may have to modify that, and\n\n90\n00:05:34.274 --> 00:05:37.730\nthen this .paths is a collection.\n\n91\n00:05:37.730 --> 00:05:43.150\nSo I'm gonna keep track of all the paths\nthat have been drawn by the user.\n\n92\n00:05:43.150 --> 00:05:46.245\nNow what's in this path if I say new path,\nI mean an object?\n\n93\n00:05:46.245 --> 00:05:48.389\nKinda like this point.\n\n94\n00:05:48.389 --> 00:05:49.700\nWhat's going to be there?\n\n95\n00:05:49.700 --> 00:05:54.604\nLet's go ahead and start stubbing that\nout and we'll add and subtract and\n\n96\n00:05:54.604 --> 00:05:58.019\nprobably no multiply or\ndivide but you never know.\n\n97\n00:05:58.019 --> 00:06:00.851\nConstructor, and\nlet's just leave that empty for now.\n\n98\n00:06:00.851 --> 00:06:05.373\nAnd we're gonna say this.points, a path is\ngoing to have a collection of points to\n\n99\n00:06:05.373 --> 00:06:07.970\nitself, that's what defines it, all right?\n\n100\n00:06:09.560 --> 00:06:13.040\nSo, we no longer need this.points,\njust like that.\n\n101\n00:06:13.040 --> 00:06:17.846\nInstead what we want Is\nwe want to say path,\n\n102\n00:06:17.846 --> 00:06:24.270\nlet's say we add a point to\nthe path from an event, okay?\n\n103\n00:06:24.270 --> 00:06:28.891\nSo when I pass an event, I don't to create\nsee how we add a point inside a DevPaint.\n\n104\n00:06:28.891 --> 00:06:33.514\nWell, if we're not handling points\nanymore inside of the main application,\n\n105\n00:06:33.514 --> 00:06:38.760\nthis doesn't make any sense inside\nof this application anymore, right?\n\n106\n00:06:38.760 --> 00:06:44.868\nWhat we need is actually\nthis to come out to the,\n\n107\n00:06:44.868 --> 00:06:48.852\nwait for it, the path, okay?\n\n108\n00:06:48.852 --> 00:06:54.419\nSo this.points which is now\ninside of a single path object.\n\n109\n00:06:55.550 --> 00:06:58.802\nBut what it also means is that this.render\nis probably not a good place for\n\n110\n00:06:58.802 --> 00:06:59.490\nthis anymore.\n\n111\n00:06:59.490 --> 00:07:04.498\nWe don't want to re-render just this one\npath, probably wanna re-render, based\n\n112\n00:07:04.498 --> 00:07:09.657\non the application, when the application\ndecides to re-render everything, okay?\n\n113\n00:07:09.657 --> 00:07:12.645\nSo I'm gonna remove this, all right.\n\n114\n00:07:12.645 --> 00:07:19.220\nSo as you can see, if I refresh,\nwhole bunch of broke, that is never good.\n\n115\n00:07:20.750 --> 00:07:23.373\nSo we have to come down here,\nand think about this.\n\n116\n00:07:23.373 --> 00:07:24.610\nWe've created a new path.\n\n117\n00:07:26.010 --> 00:07:31.290\nWell, if we say, path.addPointFromEvent,\n\n118\n00:07:31.290 --> 00:07:35.912\nwe're now adding it to the path, right?\n\n119\n00:07:35.912 --> 00:07:40.730\nAnd likewise when we mouse up, well,\n\n120\n00:07:40.730 --> 00:07:44.645\nwe want to do the final one, and\n\n121\n00:07:44.645 --> 00:07:48.720\nwe may have to come back to that.\n\n122\n00:07:48.720 --> 00:07:55.050\nAnd likewise, we're gonna say,\nthis.path.addPointFromEvent, as such.\n\n123\n00:07:55.050 --> 00:07:56.791\nSo we've made a small modification, and\n\n124\n00:07:56.791 --> 00:07:59.640\nhopefully we can go from an unbroken\nstate, but I make no promises.\n\n125\n00:07:59.640 --> 00:08:01.312\n&gt;&gt; I'm thinking about grouping.\n\n126\n00:08:01.312 --> 00:08:04.729\nYou have a group inside a group, and now\nyou've got to take this out through over\n\n127\n00:08:04.729 --> 00:08:06.467\nhere, But the way that code is written.\n\n128\n00:08:06.467 --> 00:08:09.733\nStill thinking about this group,\nyou gotta think about this group, and\n\n129\n00:08:09.733 --> 00:08:10.487\njust like that.\n\n130\n00:08:10.487 --> 00:08:12.335\n[LAUGH]\n&gt;&gt; If only we sock puppets,\n\n131\n00:08:12.335 --> 00:08:13.832\nwe would be doing [INAUDIBLE].\n\n132\n00:08:13.832 --> 00:08:15.300\nBut you're absolutely correct.\n\n133\n00:08:15.300 --> 00:08:19.788\nI'm essentially reorganizing to where I\nhave a group of points that define a path,\n\n134\n00:08:19.788 --> 00:08:22.801\nand then the main application\nonly cares about paths and\n\n135\n00:08:22.801 --> 00:08:25.836\nnot about the individual\npoints that make up said path.\n\n136\n00:08:25.836 --> 00:08:28.199\nSo it's this weird composition hierarchy.\n\n137\n00:08:28.199 --> 00:08:30.201\nNow what do I mean by composition?\n\n138\n00:08:30.201 --> 00:08:34.761\nWell, an object fpaint,\nkeeps track of other objects,\n\n139\n00:08:34.761 --> 00:08:39.810\ncanvas, contexts, paths,\nin order to perform its actions.\n\n140\n00:08:39.810 --> 00:08:47.100\nLikewise a path object keeps track\nof points to do its actions, okay?\n\n141\n00:08:47.100 --> 00:08:50.301\nSo Vonne,\nat any point if I say word you're like\n\n142\n00:08:50.301 --> 00:08:54.799\nhe's saying words that I'm not sure\nthat everybody knows what they mean.\n\n143\n00:08:54.799 --> 00:08:56.047\nDefinitely do stop.\n\n144\n00:08:56.047 --> 00:09:00.365\n&gt;&gt; No, it's funny because, not that you\nall know this, but we're talking and\n\n145\n00:09:00.365 --> 00:09:03.621\ndoing Word earlier and\nwe were talking about hierarchy and\n\n146\n00:09:03.621 --> 00:09:07.096\nlike the heading levels and\nwhat needs to go in which heading.\n\n147\n00:09:07.096 --> 00:09:10.329\nHeading one and then two,\nthree, and then one, two, three.\n\n148\n00:09:10.329 --> 00:09:13.885\nI'm just, I'm equating it to all\nthe things that kinda make sense in my\n\n149\n00:09:13.885 --> 00:09:16.674\nbrain to as what you're doing,\nand following along and\n\n150\n00:09:16.674 --> 00:09:18.418\nhaving a grand old time over here.\n\n151\n00:09:18.418 --> 00:09:22.419\nAnd I think you're using the terminology,\npretty, pretty okay.\n\n152\n00:09:22.419 --> 00:09:23.302\n[LAUGH]\n&gt;&gt; All right.\n\n153\n00:09:23.302 --> 00:09:25.325\nWell, I'm gonna,\nI'm gonna stay with it, then.\n\n154\n00:09:25.325 --> 00:09:27.630\nSo lets see here.\n\n155\n00:09:27.630 --> 00:09:32.843\nWe should go to a non-broken state\nthat I'm not saying it's gonna render,\n\n156\n00:09:32.843 --> 00:09:37.333\nbut we may get to a non-broken\nstate other than this stop points.\n\n157\n00:09:37.333 --> 00:09:39.086\nThat's not what I want.\n\n158\n00:09:39.086 --> 00:09:47.072\nReally if you think about it this\nrender actually is a path rendering.\n\n159\n00:09:47.072 --> 00:09:49.798\nLet's think about that,\nadd a collection of points and\n\n160\n00:09:49.798 --> 00:09:52.804\nI wanna reiterate through them and\nactually draw out.\n\n161\n00:09:52.804 --> 00:09:57.715\nWell, what does, this render used\nto be our application render, but\n\n162\n00:09:57.715 --> 00:10:03.558\nnow that I've done this regrouping this\nmore accurately describes a path render.\n\n163\n00:10:03.558 --> 00:10:05.230\nI just cut that out.\n\n164\n00:10:05.230 --> 00:10:08.234\nCtrl + X or\nCmd + X depending on your platform.\n\n165\n00:10:08.234 --> 00:10:11.933\nSo a path needs to know how to render,\nright?\n\n166\n00:10:11.933 --> 00:10:14.086\nHow does it draw to the screen?\n\n167\n00:10:14.086 --> 00:10:18.017\nBoom, just like so.\n\n168\n00:10:18.017 --> 00:10:18.894\n&gt;&gt; Sorry.\n\n169\n00:10:18.894 --> 00:10:21.222\nYou're playing it,\nI was like which squiggly are we in?\n\n170\n00:10:21.222 --> 00:10:22.134\nIt's in the path.\n\n171\n00:10:22.134 --> 00:10:24.278\nThat's where you put it in.\n\n172\n00:10:24.278 --> 00:10:25.742\nYou grouped it into that.\n\n173\n00:10:25.742 --> 00:10:29.200\nWe're moving the pieces around\ninto the different circles,\n\n174\n00:10:29.200 --> 00:10:31.808\nthe groups to know where\nto talk to each other.\n\n175\n00:10:31.808 --> 00:10:32.735\n&gt;&gt; Yup, exactly.\n\n176\n00:10:32.735 --> 00:10:36.391\nAnd that's one of those pattern\nrecognition things that really,\n\n177\n00:10:36.391 --> 00:10:40.580\nwhat I originally had was actually\ndrawing a line between a bunch of points.\n\n178\n00:10:40.580 --> 00:10:41.284\nWell, what is it?\n\n179\n00:10:41.284 --> 00:10:43.668\nThat's actually how a path\nshould be rendered.\n\n180\n00:10:43.668 --> 00:10:46.762\nBut now that we have that,\nwe can't render out here, but\n\n181\n00:10:46.762 --> 00:10:48.832\nit should keep things from breaking.\n\n182\n00:10:48.832 --> 00:10:55.422\nOther than the fact that we're gonna have\nto address, see how this .context exists?\n\n183\n00:10:55.422 --> 00:10:56.910\nIt doesn't exist inside a path.\n\n184\n00:10:56.910 --> 00:11:00.165\nSo path knows nothing about context.\n\n185\n00:11:00.165 --> 00:11:00.842\nWe'll have to fix that.\n\n186\n00:11:00.842 --> 00:11:04.163\nBut, we'll fix that, and\nthere's a couple of ways to do that.\n\n187\n00:11:04.163 --> 00:11:05.123\nBut that's all right.\n\n188\n00:11:05.123 --> 00:11:07.914\nI do want to explore.\n\n189\n00:11:07.914 --> 00:11:12.146\nCannot read offset left of undefined.\n\n190\n00:11:12.146 --> 00:11:13.539\nWhy is that?\n\n191\n00:11:13.539 --> 00:11:15.153\nLook at that.\n\n192\n00:11:15.153 --> 00:11:16.594\nCanvas.\n\n193\n00:11:16.594 --> 00:11:20.024\nThe path doesn't know about\nthe canvas anymore either.\n\n194\n00:11:20.024 --> 00:11:23.211\nThat is unfortunate.\n\n195\n00:11:23.211 --> 00:11:28.574\nHowever let me,\nI'm about to get tricky on this one.\n\n196\n00:11:28.574 --> 00:11:30.462\nI'm going to console log this out.\n\n197\n00:11:30.462 --> 00:11:34.643\nIf I refresh, and I do that,\nnotice this mouse event.\n\n198\n00:11:34.643 --> 00:11:39.153\nIf I come down here, and I look,\nsee that target attributed the event?\n\n199\n00:11:39.153 --> 00:11:43.310\nMost of the time events\ncarry on what they need?\n\n200\n00:11:43.310 --> 00:11:46.089\nSo what originated this event?\n\n201\n00:11:46.089 --> 00:11:48.560\nThat's actually what I need.\n\n202\n00:11:48.560 --> 00:11:56.057\nSo I can say E.Target.offsetLeft\nright there.\n\n203\n00:11:56.057 --> 00:11:57.665\nOffsetTop.\n\n204\n00:11:57.665 --> 00:12:01.100\nSo because I'm using an event,\nI don't need to pass in the canvas or\n\n205\n00:12:01.100 --> 00:12:03.835\ndo all kinds of crazy stuff\nto let the path know about.\n\n206\n00:12:03.835 --> 00:12:06.776\nIt only needs to process the events.\n\n207\n00:12:06.776 --> 00:12:11.745\nAnd, you're like,\nwell that's a lot of redirection there,\n\n208\n00:12:11.745 --> 00:12:16.620\nthat's all right, that's all right,\nwe'll make sure, so\n\n209\n00:12:16.620 --> 00:12:20.870\ne.target, and e.target,\nor the event, like so.\n\n210\n00:12:20.870 --> 00:12:22.322\nNow, what is the target?\n\n211\n00:12:22.322 --> 00:12:27.127\nWell, we're always processing the canvas,\nand I'm making this choice\n\n212\n00:12:27.127 --> 00:12:31.873\nrealistically we should probably be\na little more explicit about that.\n\n213\n00:12:31.873 --> 00:12:35.874\nThat should actually make those\nareas go away, and it does.\n\n214\n00:12:35.874 --> 00:12:37.586\nI actually just clicked and moved.\n\n215\n00:12:37.586 --> 00:12:38.461\nLet's go look.\n\n216\n00:12:38.461 --> 00:12:45.546\nI'm going to save this to a variable so\nI can inspect it.\n\n217\n00:12:45.546 --> 00:12:47.828\nSo I refresh and do that.\n\n218\n00:12:47.828 --> 00:12:51.883\nAnd now if I look at app.path,\nlook at that.\n\n219\n00:12:51.883 --> 00:12:54.442\nA path has a bunch of points in it.\n\n220\n00:12:54.442 --> 00:12:55.649\nSo it is logging this.\n\n221\n00:12:55.649 --> 00:12:57.377\nLet's look at those points.\n\n222\n00:12:57.377 --> 00:13:00.732\nWell, those points have x, y, and\nnotice they are different x, y.\n\n223\n00:13:00.732 --> 00:13:03.800\nSo if we could render this path,\n\n224\n00:13:03.800 --> 00:13:09.265\nthen we should be able to\nrender something on the screen.\n\n225\n00:13:09.265 --> 00:13:10.649\nWell, what does that mean?\n\n226\n00:13:10.649 --> 00:13:15.016\nSo, let's see here.\n\n227\n00:13:15.016 --> 00:13:17.088\nWait for it, wait for it.\n\n228\n00:13:17.088 --> 00:13:18.917\nThis dot path, that render.\n\n229\n00:13:18.917 --> 00:13:21.218\nNow, we haven't gotten\nto a bunch of paths yet.\n\n230\n00:13:21.218 --> 00:13:24.454\nI'm just rendering this in particular one.\n\n231\n00:13:24.454 --> 00:13:26.914\nThis is going to break.\n\n232\n00:13:26.914 --> 00:13:30.858\nAnd that's because the path\ndoesn't know what to draw on.\n\n233\n00:13:30.858 --> 00:13:32.996\nSo there's a couple of\ndifferent ways to fix this.\n\n234\n00:13:32.996 --> 00:13:35.608\nI can either add the context here and\n\n235\n00:13:35.608 --> 00:13:39.877\nshare that reference between\nevery path that's made, or\n\n236\n00:13:39.877 --> 00:13:45.361\nI can come back out and just say, well,\nany kind of collection of objects,\n\n237\n00:13:45.361 --> 00:13:50.355\nany sub object or object that paint\nis using to accomplish its goal?\n\n238\n00:13:50.355 --> 00:13:52.919\nI can pass into its method, okay?\n\n239\n00:13:52.919 --> 00:13:55.843\nAnd I've done this both ways.\n\n240\n00:13:55.843 --> 00:14:00.288\nWhat we're going to do is remove this,\nexcept for this point right here,\n\n241\n00:14:00.288 --> 00:14:03.886\nthat actually needs to stay but\nI didn't want to do with it.\n\n242\n00:14:03.886 --> 00:14:06.781\nSo I just removed this, and\nnow I'm gonna pass in context.\n\n243\n00:14:06.781 --> 00:14:09.830\nWell, where's the context coming from,\nthe drawing context?\n\n244\n00:14:09.830 --> 00:14:12.122\nIt's gonna come in from\nthe main application.\n\n245\n00:14:12.122 --> 00:14:16.522\nSo, I'm just, I'm essentially,\nlending the path the context so\n\n246\n00:14:16.522 --> 00:14:18.693\nit can drawl, or render itself.\n\n247\n00:14:18.693 --> 00:14:21.772\nBut when is this render going to happen?\n\n248\n00:14:21.772 --> 00:14:25.888\nFor kind of dramatic effect,\nlet's just do it on mouse up, so,\n\n249\n00:14:25.888 --> 00:14:29.190\nyou won't see anything until\nI let go of the mouse.\n\n250\n00:14:29.190 --> 00:14:33.102\nLet's see if that works out so I refresh.\n\n251\n00:14:33.102 --> 00:14:37.030\nAnd look at that there's my first path.\n\n252\n00:14:37.030 --> 00:14:41.611\n&gt;&gt; The whole like it was you were drawing\nit at first I was like it didn't work.\n\n253\n00:14:41.611 --> 00:14:45.983\nBecause you just said it's not going to\nshow up until you let go because that's\n\n254\n00:14:45.983 --> 00:14:49.309\nwhere you put the render is on\nthe mouse up, not on the move.\n\n255\n00:14:49.309 --> 00:14:50.566\n&gt;&gt; Exactly, exactly.\n\n256\n00:14:50.566 --> 00:14:52.669\nSo all right.\n\n257\n00:14:52.669 --> 00:14:55.002\nHow does that work?\n\n258\n00:14:55.002 --> 00:14:56.275\nYou know what?\nIt's still connecting.\n\n259\n00:14:56.275 --> 00:14:57.737\nAnd why is that?\n\n260\n00:14:57.737 --> 00:15:00.068\nWe have the perfect set up.\n\n261\n00:15:00.068 --> 00:15:03.694\nEverything's kind of ready to go now.\n\n262\n00:15:03.694 --> 00:15:06.613\nExcept for\na couple of small little tweaks.\n\n263\n00:15:06.613 --> 00:15:09.303\nNumber one, I'm never changing a path.\n\n264\n00:15:09.303 --> 00:15:14.898\nWhen I mouse up I actually want to\npush the current path into this array.\n\n265\n00:15:14.898 --> 00:15:19.660\nI'm gonna say, all right, so\nthis path's done we're gonna save that for\n\n266\n00:15:19.660 --> 00:15:22.622\nlater and\nthen I wanna create a new one, okay?\n\n267\n00:15:22.622 --> 00:15:29.836\nLikewise, well render is probably best put\nsomewhere else, [LAUGH] in all actuality.\n\n268\n00:15:29.836 --> 00:15:33.185\nSo let's see here.\n\n269\n00:15:33.185 --> 00:15:38.263\nHow do I go about,\nwhen I mouse up I wanna say,\n\n270\n00:15:38.263 --> 00:15:42.688\nthis.paths.push(this.path).\n\n271\n00:15:42.688 --> 00:15:47.961\nAll right, so when I, this one in the bag,\nwe'll worry about it later.\n\n272\n00:15:47.961 --> 00:15:53.444\nThen I wanna say this.path = new Path,\nlike so, all right.\n\n273\n00:15:53.444 --> 00:15:55.819\nSo now I have a whole separate one.\n\n274\n00:15:55.819 --> 00:15:56.658\nI've cut the grouping.\n\n275\n00:15:56.658 --> 00:16:00.853\nThat should alone help me separate\nthe two drawing portions, so\n\n276\n00:16:00.853 --> 00:16:04.590\nI should be able to mouse up and\nthen start drawing again.\n\n277\n00:16:04.590 --> 00:16:05.700\nOkay.\n\n278\n00:16:05.700 --> 00:16:09.558\n&gt;&gt; You don't need to flip the render and\nthe mouse move or\n\n279\n00:16:09.558 --> 00:16:12.920\nmy, on their own path [LAUGH]\n&gt;&gt; No, you're on the right path.\n\n280\n00:16:12.920 --> 00:16:17.130\nWe actually need a render in\na couple of spots I think.\n\n281\n00:16:17.130 --> 00:16:24.035\nSo I think mouse down, mouse up and-\n&gt;&gt; Because it has to\n\n282\n00:16:24.035 --> 00:16:29.030\nrender when you push the mouse down, so it\nknows add the first point, I should say.\n\n283\n00:16:29.030 --> 00:16:31.041\nAnd also on the move?\n\n284\n00:16:31.041 --> 00:16:31.580\n&gt;&gt; Yeah.\n\n285\n00:16:31.580 --> 00:16:32.420\nI'm close?\n\n286\n00:16:32.420 --> 00:16:37.080\n&gt;&gt; I think it's probably gonna be best\nto do it in all three places, right?\n\n287\n00:16:37.080 --> 00:16:38.247\nNow I forewarned you,\n\n288\n00:16:38.247 --> 00:16:41.752\nwe actually pulled that out of\nmost of those places in part two.\n\n289\n00:16:41.752 --> 00:16:42.860\n&gt;&gt; We did.\n\n290\n00:16:42.860 --> 00:16:46.430\n&gt;&gt; But, now the renders that we're talking\nabout are a little bit different because I\n\n291\n00:16:46.430 --> 00:16:48.620\nneed the ability to\nrender individual paths.\n\n292\n00:16:48.620 --> 00:16:53.291\nThe application itself needs to render\nitself which is rendering all the paths\n\n293\n00:16:53.291 --> 00:16:54.075\nevery time.\n\n294\n00:16:54.075 --> 00:16:57.260\nNow this is not the most efficient,\nfull disclosure here.\n\n295\n00:16:57.260 --> 00:17:02.443\nIf you kept drawing for crazy amounts\nof time, you may see some slow down.\n\n296\n00:17:02.443 --> 00:17:08.050\nHowever, this is a toy\nkind of application.\n\n297\n00:17:08.050 --> 00:17:13.089\nSo I think this.render goes here.\n\n298\n00:17:13.089 --> 00:17:20.140\nI think it should also this.render here,\nand likewise.\n\n299\n00:17:20.140 --> 00:17:25.165\nIt should only render\nif something updates.\n\n300\n00:17:25.165 --> 00:17:29.560\nI think that's a good one, is that right?\n\n301\n00:17:29.560 --> 00:17:31.480\nThere's one way to find out,\nto check it, right?\n\n302\n00:17:32.900 --> 00:17:39.180\nSo if I refresh,\ncannot read property of undefined render.\n\n303\n00:17:39.180 --> 00:17:43.371\nWell that's on 24, look at that.\n\n304\n00:17:43.371 --> 00:17:50.605\nSo now this.path.render we're\nrendering that first path.\n\n305\n00:17:50.605 --> 00:17:55.760\nAnd when we reset it, we're back into\nsome issues that we had in part one.\n\n306\n00:17:55.760 --> 00:17:57.330\nWhen we reset it to a new path,\n\n307\n00:17:57.330 --> 00:18:01.380\nit can't render itself because the first\npoint doesn't exist for the new one.\n\n308\n00:18:01.380 --> 00:18:04.590\nRight here, so this.path equals new path.\n\n309\n00:18:04.590 --> 00:18:06.080\nHow many points does that path contain?\n\n310\n00:18:06.080 --> 00:18:07.580\nNone, or\n\n311\n00:18:07.580 --> 00:18:12.110\nif I come back up here to the path, I made\nthe assumption that it has at least one.\n\n312\n00:18:13.750 --> 00:18:16.150\nSo that's a problem, okay?\n\n313\n00:18:17.800 --> 00:18:22.629\nSo, right here, inside of this path,\nthis.points when I create the new one,\n\n314\n00:18:22.629 --> 00:18:23.867\nthere's nothing.\n\n315\n00:18:23.867 --> 00:18:27.940\nSo first, is undefined.\n\n316\n00:18:27.940 --> 00:18:30.080\nFirst.x, it breaks.\n\n317\n00:18:31.520 --> 00:18:33.090\nWell, before you get crazy and\n\n318\n00:18:33.090 --> 00:18:38.340\nstart messing with that, I don't wanna\njust render the most current one.\n\n319\n00:18:38.340 --> 00:18:43.178\nI want to re-render all of the paths\nthat I've collected over my\n\n320\n00:18:43.178 --> 00:18:45.789\ndrawing fun times just like this.\n\n321\n00:18:45.789 --> 00:18:55.324\nThis.paths.forEach.\n\n322\n00:18:55.324 --> 00:19:01.424\nAnd for each of those paths,\npath.render in passing the context.\n\n323\n00:19:01.424 --> 00:19:03.740\nSo only the ones that I've kept.\n\n324\n00:19:03.740 --> 00:19:11.360\nNow, we'll have to do some things,\nso nothing.\n\n325\n00:19:11.360 --> 00:19:18.647\nI think I have a typo somewhere,\nthis.context is not defined.\n\n326\n00:19:18.647 --> 00:19:22.780\nSorry, there we go.\n\n327\n00:19:24.140 --> 00:19:28.030\nThere's one, there's two,\nand they are separated.\n\n328\n00:19:29.130 --> 00:19:33.891\nBut we still have one final issue, right?\n\n329\n00:19:33.891 --> 00:19:35.347\nWhat is it?\n\n330\n00:19:35.347 --> 00:19:38.180\nLet's see here.\n\n331\n00:19:40.270 --> 00:19:43.071\nI need to render the current path as well.\n\n332\n00:19:43.071 --> 00:19:46.420\nSo I wanted to make sure that\nthat didn't solve our problem.\n\n333\n00:19:48.880 --> 00:19:56.270\nReally, what I want is I only want this\nrender to run, if the path has points.\n\n334\n00:19:57.870 --> 00:20:03.260\nSo if there's no xy points that define it,\nit is empty upon construction.\n\n335\n00:20:03.260 --> 00:20:04.770\nI don't want it to do anything.\n\n336\n00:20:05.810 --> 00:20:10.923\nSo little bit of hackiness here,\n\n337\n00:20:10.923 --> 00:20:16.041\nif(|this.points) return.\n\n338\n00:20:16.041 --> 00:20:18.770\nJust stop doing this if\nthere's no points available.\n\n339\n00:20:18.770 --> 00:20:23.366\nAnd that way we keep running into\nundefined and throwing errors.\n\n340\n00:20:23.366 --> 00:20:29.785\nWe may come back and fix this but\nI wanna see if this works.\n\n341\n00:20:29.785 --> 00:20:34.712\nCuz now because it's handling error\ninternally, every time I re-render,\n\n342\n00:20:34.712 --> 00:20:37.150\nI wanna render all of the store paths.\n\n343\n00:20:37.150 --> 00:20:44.302\nThe ones in the sacho, but I also want\nto render the current drawn path.\n\n344\n00:20:44.302 --> 00:20:47.791\nAnd this.context.\n\n345\n00:20:47.791 --> 00:20:51.480\nSo oops, and there we go.\n\n346\n00:20:51.480 --> 00:20:53.500\nWe're close.\n\n347\n00:20:53.500 --> 00:20:54.780\nThere we go.\n\n348\n00:20:54.780 --> 00:20:57.880\nAnd lets see where that's coming at.\n\n349\n00:20:57.880 --> 00:20:59.200\nI think I got a typo here.\n\n350\n00:20:59.200 --> 00:21:01.560\nMight have a little live action debugging.\n\n351\n00:21:01.560 --> 00:21:07.524\nIf we come back, if not this.points.\n\n352\n00:21:07.524 --> 00:21:10.806\nFirst so,\nI thought that was gonna fix it but\n\n353\n00:21:10.806 --> 00:21:15.760\nsometimes the best laid plans\ndo not come to fruition.\n\n354\n00:21:15.760 --> 00:21:17.100\nLet's do this.\n\n355\n00:21:19.170 --> 00:21:24.800\nLet's look at the app's\ncurrent path of variable.\n\n356\n00:21:24.800 --> 00:21:26.350\nThere's no points.\n\n357\n00:21:26.350 --> 00:21:31.632\nSo it shouldn't.\n\n358\n00:21:31.632 --> 00:21:34.557\nLet's just do this.\n\n359\n00:21:34.557 --> 00:21:38.678\nIf the length === 0,\n\n360\n00:21:38.678 --> 00:21:42.808\nthere's none in there.\n\n361\n00:21:42.808 --> 00:21:46.750\nInstead of using the truth e false e,\nbecause sometimes I mess that up.\n\n362\n00:21:46.750 --> 00:21:47.440\nRefresh.\n\n363\n00:21:49.580 --> 00:21:51.270\nThere we go.\n\n364\n00:21:51.270 --> 00:21:52.240\nIt just wasn't checking right.\n\n365\n00:21:52.240 --> 00:21:54.090\nIt was evaluating oddly.\n\n366\n00:21:54.090 --> 00:21:59.265\nBut now, Vonne, we have\na collection of paths that notice I\n\n367\n00:21:59.265 --> 00:22:05.331\nstill have some weirdness if I scroll out-\n&gt;&gt; If you go beyond the canvas,\n\n368\n00:22:05.331 --> 00:22:12.030\nit's not like stopping the path cuz you're\nstill holding the mouse button down.\n\n369\n00:22:12.030 --> 00:22:13.567\nSo it's still doing exactly\nwhat you told it to\n\n370\n00:22:13.567 --> 00:22:15.071\n&gt;&gt; And it is and\n\n371\n00:22:15.071 --> 00:22:18.837\nactually it will sometimes.\n\n372\n00:22:18.837 --> 00:22:24.330\nSometimes it will keep the mouse down a\nbit like its drawing will never be undone.\n\n373\n00:22:24.330 --> 00:22:26.400\nSo, it'll always-\n&gt;&gt; Kinda like how it's connecting\n\n374\n00:22:26.400 --> 00:22:30.780\nthat bottom where it's drawing across\nthe bottom of the canvas to kinda\n\n375\n00:22:30.780 --> 00:22:32.318\nsay where you're coming back in.\n\n376\n00:22:32.318 --> 00:22:35.490\nI'm gonna connect because I'm\non the canvas, basically.\n\n377\n00:22:35.490 --> 00:22:41.580\n&gt;&gt; Yeah, yeah, so that's one of those\nthings where as your mouse is moving.\n\n378\n00:22:41.580 --> 00:22:42.513\nHow would I fix that?\n\n379\n00:22:42.513 --> 00:22:46.423\nI'm not gonna fix it right now because we\nmay find that some of the other changes\n\n380\n00:22:46.423 --> 00:22:49.460\nthat we haven't planned may\nchange how that behaves.\n\n381\n00:22:49.460 --> 00:22:54.362\nBut if this is the point that I wanted to\nchange it, then I'm gonna come right here.\n\n382\n00:22:54.362 --> 00:22:57.630\nAnd instead of adding point from event.\n\n383\n00:22:57.630 --> 00:23:01.063\nAnd see this is drawing as true,\nis drawing as false.\n\n384\n00:23:01.063 --> 00:23:05.061\nI'm gonna add a little bit of logic\nthere to determine whether true and\n\n385\n00:23:05.061 --> 00:23:09.570\nfalse were changed, to determine is\nit is outside of the canvas area.\n\n386\n00:23:09.570 --> 00:23:14.880\nSo even if I had a mousedown,\nright, or a mousemove.\n\n387\n00:23:14.880 --> 00:23:18.460\nSo actually it would probably\nbe easiest in mousemove.\n\n388\n00:23:18.460 --> 00:23:24.694\nIf this is drawing, if the event is\noutside of the canvas area, right?\n\n389\n00:23:24.694 --> 00:23:25.543\n&gt;&gt; Switch that to.\n\n390\n00:23:25.543 --> 00:23:26.110\n&gt;&gt; Yeah.\n\n391\n00:23:26.110 --> 00:23:26.950\n&gt;&gt; Yeah.\n\n392\n00:23:26.950 --> 00:23:28.430\nOkay.\n&gt;&gt; Cut it off.\n\n393\n00:23:28.430 --> 00:23:30.550\nOr as soon as it hits the boundaries,\ncut it off.\n\n394\n00:23:30.550 --> 00:23:31.200\nBut like I said,\n\n395\n00:23:31.200 --> 00:23:34.180\nI made you some additional changes that\nchange how this behave a little bit.\n\n396\n00:23:34.180 --> 00:23:38.492\n&gt;&gt; Would you have to then tell like\nwhen it comes back into the canvas or\n\n397\n00:23:38.492 --> 00:23:40.650\nI guess it's already in there?\n\n398\n00:23:40.650 --> 00:23:43.660\n&gt;&gt; I would probably just cut it off and\nsay, even if you're holding on the button,\n\n399\n00:23:43.660 --> 00:23:46.330\nonce you hit an edge, I'm gonna cut\nthe drawing off and define the path.\n\n400\n00:23:46.330 --> 00:23:48.407\nAnd then that way,\nyou can come back and click-\n\n401\n00:23:48.407 --> 00:23:50.321\n&gt;&gt; Yeah, it's like you as the user,\n\n402\n00:23:50.321 --> 00:23:54.217\nyou realize it's not gonna continue,\nso you let go of the mouse,\n\n403\n00:23:54.217 --> 00:23:57.460\nand then you come back in,\nand click and draw again.\n\n404\n00:23:57.460 --> 00:23:59.400\n&gt;&gt; That's probably how I would handle it.\n\n405\n00:23:59.400 --> 00:24:01.130\nBut, awesomely, that's up to you.\n\n406\n00:24:01.130 --> 00:24:03.914\nOr possibly to you,\ndepending on whoever is making this.\n\n407\n00:24:03.914 --> 00:24:07.490\n&gt;&gt; Well, then, I would come back to you.\n\n408\n00:24:07.490 --> 00:24:11.660\n[LAUGH] Well, is there anything else\nthat we need to wrap this up with?\n\n409\n00:24:11.660 --> 00:24:13.389\n&gt;&gt; I think that's actually\na pretty good stopping point,\n\n410\n00:24:13.389 --> 00:24:15.094\nbecause we've applied a fair\nmount of abstractions.\n\n411\n00:24:15.094 --> 00:24:19.299\nWe went from, it just kind of works too,\nand application with points too.\n\n412\n00:24:19.299 --> 00:24:21.370\nWell, the points are still\nkinda messed up.\n\n413\n00:24:21.370 --> 00:24:24.060\nLet's take the points and\nbundle them together into paths\n\n414\n00:24:24.060 --> 00:24:26.930\nthat are a collection of points\nthat are now multiple objects.\n\n415\n00:24:26.930 --> 00:24:31.050\nWe may do some additional clean up in\nthe future, but we're able to draw and\n\n416\n00:24:31.050 --> 00:24:34.990\nI think this is gonna make\nour life a little bit easier.\n\n417\n00:24:34.990 --> 00:24:38.810\nOr maybe adding color,\nmaybe being able to clear,\n\n418\n00:24:38.810 --> 00:24:42.780\nright, who knows adding patterns or\ndifferent tools.\n\n419\n00:24:42.780 --> 00:24:45.216\nI make no promises about polygon tools,\nVonne, to be honest.\n\n420\n00:24:45.216 --> 00:24:46.650\nIt's actually kind of hard.\n\n421\n00:24:46.650 --> 00:24:49.100\nOr fill buckets, believe it or\nnot fill buckets are really hard.\n\n422\n00:24:49.100 --> 00:24:54.718\nThis determine what to pass bound an area\nand being able to like paint bucket fill.\n\n423\n00:24:54.718 --> 00:24:57.014\n&gt;&gt; Make a close point where\nyou can actually fill it in.\n\n424\n00:24:57.014 --> 00:24:58.159\n&gt;&gt; Yeah, yeah.\n\n425\n00:24:58.159 --> 00:25:00.291\n&gt;&gt; Well,\nin Illustrate we call that gap options but\n\n426\n00:25:00.291 --> 00:25:01.856\n[LAUGH] totally different program.\n\n427\n00:25:01.856 --> 00:25:06.030\n&gt;&gt; I don't know what you're talking about,\nVonne, [LAUGH] but we'll go with it.\n\n428\n00:25:06.030 --> 00:25:09.727\n&gt;&gt; Well, I actually totally knew what\nyou were talking about this whole time.\n\n429\n00:25:09.727 --> 00:25:12.660\nSo like I said before,\nI'm feeling pretty good about this.\n\n430\n00:25:12.660 --> 00:25:14.740\nAnd that was really exciting.\n\n431\n00:25:14.740 --> 00:25:18.810\nSo I hope you all found\nit as exciting as I did.\n\n432\n00:25:18.810 --> 00:25:23.300\nBut I think this is a true, real we're\ngonna wrap this one up, isn't it?\n\n433\n00:25:23.300 --> 00:25:25.995\n&gt;&gt; Yeah, yeah,\nthere is no part four to this.\n\n434\n00:25:25.995 --> 00:25:28.670\nWe're gonna come back with some\ndifferent things next time.\n\n435\n00:25:28.670 --> 00:25:30.875\n&gt;&gt; [LAUGH] All right, well,\nthat was a lot of fun.\n\n436\n00:25:30.875 --> 00:25:31.895\nSo thank you.\n\n437\n00:25:31.895 --> 00:25:33.215\nSo wrapping it on up.\n\n438\n00:25:33.215 --> 00:25:35.193\nWe're gonna sign off for DevPro TV.\n\n439\n00:25:35.193 --> 00:25:36.565\nI've been your host, Vonne Smith.\n\n440\n00:25:36.565 --> 00:25:38.397\n&gt;&gt; And I'm Justin Dennison\n&gt;&gt; We'll see you soon.\n\n",
          "vimeoId": "237742374"
        },
        {
          "description": "In this episode, Vonne and Justin demonstrate how to use new features of HTML5 to interface with DevPaint to allow selecting different colors.",
          "length": "1514",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-4-3-1-adding_color_selections-101117.00_25_06_19.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-4-3-1-adding_color_selections-101117.00_25_06_19.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-4-3-1-adding_color_selections-101117.00_25_06_19.Still001-sm.jpg",
          "title": "Adding Color Selections",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:13.062 --> 00:00:16.953\nHello everyone and welcome back to\nanother exciting edition of DevProTV.\n\n3\n00:00:16.953 --> 00:00:18.660\nI'm your host Vonne Smith and\n\n4\n00:00:18.660 --> 00:00:22.980\nwe're coming back at you with\nmore HTML 5 canvas projects.\n\n5\n00:00:22.980 --> 00:00:26.890\nIn this episode, we're gonna be\ntalking about adding color selections,\n\n6\n00:00:26.890 --> 00:00:30.110\nwhich is gonna be fantastic,\nas long as pink and purple.\n\n7\n00:00:30.110 --> 00:00:32.560\nSo here to help us is Mr. Justin Dennison.\n\n8\n00:00:32.560 --> 00:00:33.740\nHello, how are you doing today?\n\n9\n00:00:33.740 --> 00:00:35.700\n&gt;&gt; I'm doing fantastic and well.\n\n10\n00:00:35.700 --> 00:00:38.470\nI'm not only going to be pink and\npurple, I think there's going be\n\n11\n00:00:38.470 --> 00:00:41.830\na lot that you will appreciate in this\nepisode, but I want to keep it a secret.\n\n12\n00:00:41.830 --> 00:00:42.590\nHow are you today?\n\n13\n00:00:42.590 --> 00:00:43.650\n&gt;&gt; I'm doing great.\n\n14\n00:00:43.650 --> 00:00:44.740\nI'm very excited about color.\n\n15\n00:00:44.740 --> 00:00:46.825\nYou know I love me some color.\n\n16\n00:00:46.825 --> 00:00:48.810\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm curious to know,\n\n17\n00:00:48.810 --> 00:00:53.350\nwhere you are going with color selections,\nmeaning, we can select color or\n\n18\n00:00:53.350 --> 00:00:54.870\nwe can apply colors?\n\n19\n00:00:54.870 --> 00:00:57.490\nThat's where I'm a little, where are we?\n\n20\n00:00:57.490 --> 00:01:00.310\n&gt;&gt; Well, it may not be as full\nfledged as some of the things that\n\n21\n00:01:00.310 --> 00:01:01.760\nyou've used before, right?\n\n22\n00:01:01.760 --> 00:01:06.222\nSo in Illustrator or Photoshop,\nI'm not here to reproduce\n\n23\n00:01:06.222 --> 00:01:12.290\nlots of heavily worked software\nthat's been around for a while.\n\n24\n00:01:12.290 --> 00:01:16.880\nBut I've been playing with the application\nthat we built over the last few episodes,\n\n25\n00:01:16.880 --> 00:01:17.630\nbeing able to draw.\n\n26\n00:01:17.630 --> 00:01:19.790\nWe have separate paths now,\nwe fixed some of the issues,\n\n27\n00:01:19.790 --> 00:01:21.340\nwe did a little bit of cleanup.\n\n28\n00:01:21.340 --> 00:01:22.880\nAnd if you have no idea\nwhat I'm talking about,\n\n29\n00:01:22.880 --> 00:01:24.445\ndefinitely go check out those episodes.\n\n30\n00:01:24.445 --> 00:01:28.770\nAnd it's just always\nblack pencil drawings,\n\n31\n00:01:28.770 --> 00:01:30.030\nwhich there's nothing wrong with.\n\n32\n00:01:30.030 --> 00:01:34.500\nI enjoy a good pen and ink drawing,\na graphite drawing, but\n\n33\n00:01:34.500 --> 00:01:36.400\nsometimes you need\na little splash of color.\n\n34\n00:01:36.400 --> 00:01:40.800\nSo, I was thinking would it be\nhard to the add the ability for\n\n35\n00:01:40.800 --> 00:01:45.470\na user to select a color prior\nto drawing a path, okay?\n\n36\n00:01:45.470 --> 00:01:47.070\nSo, that's the difference.\n\n37\n00:01:47.070 --> 00:01:52.540\nI'm not giving the ability\nto alter a path color but\n\n38\n00:01:52.540 --> 00:01:54.320\ninstead choose it prior to drawing.\n\n39\n00:01:54.320 --> 00:01:58.860\n&gt;&gt; So it's kind of like picking the color\ncrayon that you want to draw and then\n\n40\n00:01:58.860 --> 00:02:03.700\nyou draw and that becomes the color that\nyou drew because that's what you picked.\n\n41\n00:02:03.700 --> 00:02:04.216\n&gt;&gt; Exactly.\n\n42\n00:02:04.216 --> 00:02:07.590\n&gt;&gt; [LAUGH]\n&gt;&gt; So purple.\n\n43\n00:02:07.590 --> 00:02:08.680\nWhy's this purple?\n\n44\n00:02:08.680 --> 00:02:10.870\nNo, you picked purple so\nthat's what it is.\n\n45\n00:02:10.870 --> 00:02:12.140\nAnd it's gonna be default.\n\n46\n00:02:12.140 --> 00:02:15.820\nNow, this could be extended a great deal.\n\n47\n00:02:15.820 --> 00:02:21.810\nBut, that's kind of my simplified view\nof how I would go about achieving this.\n\n48\n00:02:21.810 --> 00:02:23.730\nSo, let's go see where we are,\n\n49\n00:02:23.730 --> 00:02:27.790\nand think about how that plan fits into\nthe application that we have at hand.\n\n50\n00:02:27.790 --> 00:02:29.750\nSo let's go ahead and\ntake a look at the screen here.\n\n51\n00:02:29.750 --> 00:02:34.200\nAnd well, here's my nice,\nmy nice little drawing pattern,\n\n52\n00:02:34.200 --> 00:02:39.370\nyeah, I can draw separate paths and\nthat's working well.\n\n53\n00:02:39.370 --> 00:02:43.860\nNow what I'm thinking is let's say\nthat I wanted a red line next.\n\n54\n00:02:43.860 --> 00:02:48.110\nI would like to come up here maybe,\nright, up here and\n\n55\n00:02:48.110 --> 00:02:51.880\nselect a button,\nthat allows me to pick a color, okay?\n\n56\n00:02:53.140 --> 00:03:00.180\nNow, based on that color choice, then my\nnext line, my path, would be that color.\n\n57\n00:03:00.180 --> 00:03:04.490\nSo that's what I'm thinking as\nfar as the user interactions go.\n\n58\n00:03:04.490 --> 00:03:07.000\n&gt;&gt; So is this gonna be like a drop\ndown menu that you click and\n\n59\n00:03:07.000 --> 00:03:10.311\nit'll drop down and have the words,\nor are we talking buttons?\n\n60\n00:03:10.311 --> 00:03:11.535\nI'm so curious.\n\n61\n00:03:11.535 --> 00:03:12.530\n[LAUGH]\n&gt;&gt; Well,\n\n62\n00:03:12.530 --> 00:03:16.130\nI'm not gonna divulge my secret quite yet,\n\n63\n00:03:16.130 --> 00:03:20.200\nbecause you maybe pleasantly surprised\nwith some of the new advents in HTML 5.\n\n64\n00:03:20.200 --> 00:03:25.170\nSo let's go ahead and get it started and\nsee how it kinda turns out.\n\n65\n00:03:25.170 --> 00:03:29.040\nSo, let's go and look at our code here and\nthere's something,\n\n66\n00:03:29.040 --> 00:03:32.350\nthat right now our code\ndoes not address color.\n\n67\n00:03:34.040 --> 00:03:36.710\nAll of our paths, though they do render,\n\n68\n00:03:38.340 --> 00:03:41.420\nthere's nothing that\ndefines a path's color.\n\n69\n00:03:42.600 --> 00:03:46.993\nLikewise, there's no internal state\nof our application that holds\n\n70\n00:03:46.993 --> 00:03:49.580\nthe color that we have selected, okay?\n\n71\n00:03:51.275 --> 00:03:55.303\nSo what does that mean?\n\n72\n00:03:55.303 --> 00:03:58.190\nThat means that we're probably\ngoing to have to add a field here.\n\n73\n00:03:59.380 --> 00:04:01.860\nEquals, and let's just say we\nkeep the default as black.\n\n74\n00:04:02.860 --> 00:04:04.590\nSo we need a color.\n\n75\n00:04:04.590 --> 00:04:06.979\nNow, that's the application state.\n\n76\n00:04:08.210 --> 00:04:08.880\nWhat about the path?\n\n77\n00:04:08.880 --> 00:04:12.370\nThe path still doesn't know\nabout the color that is selected\n\n78\n00:04:12.370 --> 00:04:15.940\nat the time that the path was started,\nright?\n\n79\n00:04:15.940 --> 00:04:17.330\nSo we come up here.\n\n80\n00:04:17.330 --> 00:04:17.957\nHere's what I'm thinking.\n\n81\n00:04:17.957 --> 00:04:25.062\nI'm thinking we can say color and\nthen we're gonna say this.color = color.\n\n82\n00:04:25.062 --> 00:04:33.330\nAnd what that allow us to do is pass in a\ncolor Win when we make a selection, okay?\n\n83\n00:04:33.330 --> 00:04:37.950\nNow, I could put a default field\nin here like a default value\n\n84\n00:04:39.590 --> 00:04:42.160\nbased on new JavaScript features.\n\n85\n00:04:42.160 --> 00:04:45.402\nBut I think I'm going to let\nthe application maintain that state and\n\n86\n00:04:45.402 --> 00:04:51.340\nthen just pass along the information\nto the path objects for later use.\n\n87\n00:04:51.340 --> 00:04:53.750\nNow, in order to get those to work,\n\n88\n00:04:55.300 --> 00:04:58.620\nwe probably need to set the line style,\nright?\n\n89\n00:04:59.780 --> 00:05:05.060\nThe stroke style, rather,\ninside of this context.\n\n90\n00:05:05.060 --> 00:05:10.210\nSo right after this save, I'm going\nto say context.stroke stock, whoa,\n\n91\n00:05:10.210 --> 00:05:11.488\nthat is not how you spell that.\n\n92\n00:05:11.488 --> 00:05:15.140\nThis.color, and now,\n\n93\n00:05:15.140 --> 00:05:20.870\nnow we will always get whatever\ncolors parsed into the pen.\n\n94\n00:05:20.870 --> 00:05:25.820\nNow, I'm gonna do a quick little hack,\njust to see if my line of\n\n95\n00:05:25.820 --> 00:05:30.770\nthought works for\ncoloring the paths, okay?\n\n96\n00:05:30.770 --> 00:05:33.860\nSo instead of the past in variable,\nyou know what?\n\n97\n00:05:33.860 --> 00:05:35.030\nLets go with pink.\n\n98\n00:05:36.150 --> 00:05:38.650\nAnd if I refresh, look at that.\n\n99\n00:05:38.650 --> 00:05:41.810\nI now have pink drawing.\n\n100\n00:05:41.810 --> 00:05:45.110\nAnd if I come back and I change this to,\nwhat was you're other one, purple?\n\n101\n00:05:45.110 --> 00:05:45.710\n&gt;&gt; Purple.\n\n102\n00:05:45.710 --> 00:05:48.990\n&gt;&gt; Purple.\nLet's go to purple, refresh.\n\n103\n00:05:48.990 --> 00:05:54.400\nAnd so we now have purple, so\nthat line of thinking does work but\n\n104\n00:05:54.400 --> 00:05:56.530\nit still doesn't work from\na user interaction perspective.\n\n105\n00:05:56.530 --> 00:06:00.340\n&gt;&gt; Well I'm satisfied, I got pink and\npurple, and you made an L right there.\n\n106\n00:06:00.340 --> 00:06:03.580\nSo I'm good,\nwe should just go ahead and stop, no.\n\n107\n00:06:03.580 --> 00:06:04.280\n[LAUGH]\n&gt;&gt; [LAUGH] But now\n\n108\n00:06:04.280 --> 00:06:06.450\nyou're gonna have to modify\nthe code to get what you want.\n\n109\n00:06:06.450 --> 00:06:11.789\nAnd maybe you wanna have pink and\npurple, and both on the same canvas.\n\n110\n00:06:13.520 --> 00:06:14.820\nI don't know.\n\n111\n00:06:14.820 --> 00:06:17.070\nRight now, it's kind of like\nwhatever crayon you picked,\n\n112\n00:06:17.070 --> 00:06:19.870\nsomeone taped your hand up and\nwas like that's the crayon you get.\n\n113\n00:06:19.870 --> 00:06:20.560\nThat's all you got.\n\n114\n00:06:21.700 --> 00:06:25.270\nSo, all right, we know this works.\n\n115\n00:06:26.560 --> 00:06:29.590\nLet's change this back to\nwhatever is passed in.\n\n116\n00:06:31.180 --> 00:06:33.790\nNow, these path objects\nare being constructed\n\n117\n00:06:33.790 --> 00:06:35.470\ninside of the main application.\n\n118\n00:06:35.470 --> 00:06:37.500\nWhen are they being constructed?\n\n119\n00:06:37.500 --> 00:06:40.790\nWell, they're being\nconstructed right here.\n\n120\n00:06:42.230 --> 00:06:45.210\nSo it's probably best if I'm\ngoing to pass in a color,\n\n121\n00:06:45.210 --> 00:06:48.020\nit's gonna be whatever\nthe default color is.\n\n122\n00:06:48.020 --> 00:06:53.850\nSo I'm gonna move this just because I\nneed, well, some way to pass in a color.\n\n123\n00:06:53.850 --> 00:06:59.260\nI'm just gonna move it so I can say,\ncreate a new path with this color, okay?\n\n124\n00:06:59.260 --> 00:07:00.960\nSo be default,\nthat's gonna give me a black.\n\n125\n00:07:02.470 --> 00:07:05.890\nIf I come down and I look for\nother places where I saw, new path.\n\n126\n00:07:07.030 --> 00:07:08.470\nWell, there's new path.\n\n127\n00:07:09.580 --> 00:07:13.641\nAnd this.color, and\nnow when I create a new path,\n\n128\n00:07:13.641 --> 00:07:16.770\nI'll get whatever color it is, okay?\n\n129\n00:07:18.250 --> 00:07:22.700\nAll right,\nwe may find that causes some issues.\n\n130\n00:07:22.700 --> 00:07:31.190\nWe may have to move when we create the new\npath, based on when we select the color.\n\n131\n00:07:31.190 --> 00:07:35.180\nCuz if I select the color,\nthe new path is being created on mouse up,\n\n132\n00:07:35.180 --> 00:07:38.030\nI would have to select draw something and\nthen,\n\n133\n00:07:38.030 --> 00:07:42.550\nand then draw something again\nbefore I get the color change.\n\n134\n00:07:42.550 --> 00:07:43.930\nSo we're probably gonna have to move that,\nbut\n\n135\n00:07:43.930 --> 00:07:46.530\nwe just wanna see if the line\nof thinking works out.\n\n136\n00:07:48.220 --> 00:07:49.920\nNow, this should work.\n\n137\n00:07:50.940 --> 00:07:52.073\nShould is a strong word there.\n\n138\n00:07:52.073 --> 00:07:55.214\nHowever, as it stands there's no way for\n\n139\n00:07:55.214 --> 00:07:59.452\nan interaction from the user\nto decide what color it is.\n\n140\n00:07:59.452 --> 00:08:02.296\nSo if we come over to our index.html, and\n\n141\n00:08:02.296 --> 00:08:07.680\nthis is where I'm kinda gonna depart\nfrom keeping everything encapsulated.\n\n142\n00:08:08.770 --> 00:08:13.790\nFor now, I'm just going to use\nan input and what is the type input.\n\n143\n00:08:13.790 --> 00:08:16.727\nBelieve it or not,\nthere's a color input in HTML5.\n\n144\n00:08:16.727 --> 00:08:22.740\n[LAUGH] Vaughan is giving\nme the strong eyebrow look.\n\n145\n00:08:22.740 --> 00:08:24.650\nAnd let's just call it swatch.\n\n146\n00:08:24.650 --> 00:08:28.680\nI dont know if that's the best term\nVaughan, you may be grimacing on that.\n\n147\n00:08:28.680 --> 00:08:31.520\nBut I'm gonna go with swatch because\nI worked in the paint industry for\n\n148\n00:08:31.520 --> 00:08:33.230\na while and that's how I selected colors.\n\n149\n00:08:33.230 --> 00:08:37.880\n&gt;&gt; This is actually bringing something\nback to me because I kinda departed,\n\n150\n00:08:37.880 --> 00:08:43.530\nif you wanna say, the coding world when\nHTML5 was just getting started in a sense.\n\n151\n00:08:43.530 --> 00:08:47.380\nAnd so, I was like, I do remember that.\n\n152\n00:08:47.380 --> 00:08:48.773\nAnd thinking, okay.\n\n153\n00:08:48.773 --> 00:08:51.009\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n154\n00:08:51.009 --> 00:08:53.048\n&gt;&gt; So this isn't gonna have a label yet,\n\n155\n00:08:53.048 --> 00:08:54.910\nwe'll worry about that shortly.\n\n156\n00:08:54.910 --> 00:08:56.370\nMaybe that's a clean up.\n\n157\n00:08:56.370 --> 00:08:57.610\nAnd notice where it is.\n\n158\n00:08:57.610 --> 00:08:58.860\nIt's down here on the right.\n\n159\n00:08:58.860 --> 00:09:01.330\nSo I'm going to move this because\nthat's not where I want it.\n\n160\n00:09:01.330 --> 00:09:04.770\nI actually want it above this portion.\n\n161\n00:09:04.770 --> 00:09:07.420\nAnd then, boom, you notice that.\n\n162\n00:09:08.440 --> 00:09:11.570\nInputs are inline elements\nif I'm not mistaken.\n\n163\n00:09:11.570 --> 00:09:15.980\nSo they're not going to\nbreak to the next line.\n\n164\n00:09:15.980 --> 00:09:18.750\nSo just to keep that all squared away,\n\n165\n00:09:18.750 --> 00:09:21.199\nI'm just going to create a div,\ndivs on divs on divs.\n\n166\n00:09:22.240 --> 00:09:25.690\nAnd put that inside as\na manner of dividing up.\n\n167\n00:09:25.690 --> 00:09:27.680\nSo now we have this, here's the cool part.\n\n168\n00:09:27.680 --> 00:09:29.910\nI haven't wired up anything so\nthis is not gonna work.\n\n169\n00:09:31.560 --> 00:09:36.090\nI now have the ability, and\nthis is platform-specific, okay?\n\n170\n00:09:36.090 --> 00:09:40.790\nSo on Mac you kinda get\nthe circle color selection.\n\n171\n00:09:40.790 --> 00:09:44.706\nOn Linux,\nyou get more of a square with the drag and\n\n172\n00:09:44.706 --> 00:09:51.436\nthings are on the right with your relative\nRGB and A values, or alpha channel values.\n\n173\n00:09:51.436 --> 00:09:53.534\n&gt;&gt; Windows you get like the bricks.\n\n174\n00:09:53.534 --> 00:09:55.810\nI call them bricks,\nthe little boxes, basically.\n\n175\n00:09:55.810 --> 00:09:58.620\nAnd it goes to, like you're saying,\nthe operating system,\n\n176\n00:09:58.620 --> 00:10:00.390\nit's like what you get in Paint.\n\n177\n00:10:00.390 --> 00:10:01.290\n&gt;&gt; Yep.\n&gt;&gt; Or whatever kind of\n\n178\n00:10:01.290 --> 00:10:04.240\npaint application and I know in Mac\nyou've got all of those little buttons\n\n179\n00:10:04.240 --> 00:10:08.490\nacross the top that you can change\ninto crayons and everything.\n\n180\n00:10:08.490 --> 00:10:11.930\n&gt;&gt; And with Mac you actually have\nsome other selections where I can\n\n181\n00:10:11.930 --> 00:10:16.430\nsay I want RGB sliders, so I could\nselect the color with RGB sliders, or\n\n182\n00:10:16.430 --> 00:10:20.630\nwith the hex color code, or\nI could go to predefined Apple colors.\n\n183\n00:10:20.630 --> 00:10:24.070\nOr, I can just go to the spectrum and\nkind of move around.\n\n184\n00:10:24.070 --> 00:10:28.359\nThis actually looks more like the lynx\nversion which you get by default.\n\n185\n00:10:28.359 --> 00:10:29.990\nAnd then here,\n&gt;&gt; That's my favorite.\n\n186\n00:10:29.990 --> 00:10:33.880\n[LAUGH]\n&gt;&gt; You can just grab a colored pencil and\n\n187\n00:10:33.880 --> 00:10:36.720\nthese are all handy but\nthis is platform specific so depending,\n\n188\n00:10:36.720 --> 00:10:39.340\nif you are following along,\nthis may look different for you.\n\n189\n00:10:39.340 --> 00:10:41.460\n&gt;&gt; Yes, I say crayons but\nthey were colored pencils or\n\n190\n00:10:41.460 --> 00:10:43.690\nmaybe they were crayons at one point.\n\n191\n00:10:43.690 --> 00:10:46.440\n&gt;&gt; Isn't a pencil a crayon?\n\n192\n00:10:46.440 --> 00:10:48.446\nAnd, I don't know, who knows.\n\n193\n00:10:48.446 --> 00:10:48.990\n&gt;&gt; Crayon?\n\n194\n00:10:48.990 --> 00:10:51.400\n&gt;&gt; I might be making that up so\ndon't go with me on that.\n\n195\n00:10:51.400 --> 00:10:52.011\n&gt;&gt; That sounds fancy though, I like that.\n\n196\n00:10:52.011 --> 00:10:53.829\n[LAUGH]\n&gt;&gt; So,\n\n197\n00:10:53.829 --> 00:10:58.890\nnow we can select a color but\nit doesn't change anything just yet.\n\n198\n00:10:58.890 --> 00:11:00.530\nSo, just to show you,\nI'm gonna color here.\n\n199\n00:11:00.530 --> 00:11:01.840\nI'm gonna select red.\n\n200\n00:11:01.840 --> 00:11:05.600\nAnd notice this represents\nwhat color you select and\n\n201\n00:11:05.600 --> 00:11:08.520\nI'll just close out and it stays.\n\n202\n00:11:08.520 --> 00:11:12.060\nWell, if I draw, it's not red,\nwhy is it not red?\n\n203\n00:11:12.060 --> 00:11:14.590\nBecause I need the ability\nto capture that value.\n\n204\n00:11:14.590 --> 00:11:15.790\n&gt;&gt; You gotta connect them.\n\n205\n00:11:15.790 --> 00:11:18.590\n&gt;&gt; Yep.\n&gt;&gt; Yeah, because the input device was\n\n206\n00:11:18.590 --> 00:11:23.230\nreally easy and\nyou reminding about all that cool stuff,\n\n207\n00:11:23.230 --> 00:11:27.550\nbut we need to tie it all together\nwith this dot color with that input.\n\n208\n00:11:27.550 --> 00:11:30.500\nNow it must be, is that something to do\nwith the ID that you put on the swatch?\n\n209\n00:11:30.500 --> 00:11:34.000\n&gt;&gt; Yeah, I'm gonna use that ID and\nreally just to clarify,\n\n210\n00:11:34.000 --> 00:11:38.680\nI would probably bundle all of this\nup into a div that has an app and\n\n211\n00:11:38.680 --> 00:11:42.280\nthen say, within these it has to\nhave this particular structure, or,\n\n212\n00:11:42.280 --> 00:11:45.680\nif I was getting real crazy, I would just\nhave a div with an app that's empty.\n\n213\n00:11:45.680 --> 00:11:50.750\nAnd then I would dynamically create all\nof these elements in JavaScript and\n\n214\n00:11:50.750 --> 00:11:51.660\nupload them to the DOM.\n\n215\n00:11:51.660 --> 00:11:54.490\nBut we're not gonna do that cuz\nthis is just a fun project, right?\n\n216\n00:11:54.490 --> 00:12:02.442\nBut what that does mean is I need\nthis.swatch = document.querySelector.\n\n217\n00:12:04.534 --> 00:12:05.980\nAnd swatch.\n\n218\n00:12:05.980 --> 00:12:07.200\nNotice that hard coded value.\n\n219\n00:12:07.200 --> 00:12:11.680\nYou should be gritting your teeth,\nkind of, I don't know what I just did.\n\n220\n00:12:11.680 --> 00:12:12.580\nWe'll leave it for now.\n\n221\n00:12:12.580 --> 00:12:13.695\nWe're gonna go with it.\n\n222\n00:12:13.695 --> 00:12:15.910\nAll right?\nSo, this.swatch.\n\n223\n00:12:15.910 --> 00:12:20.450\nNow there should be an event\ntied to the swatch, right?\n\n224\n00:12:21.770 --> 00:12:24.760\nBecause a swatch is an input type and\nput it in as an input event.\n\n225\n00:12:26.500 --> 00:12:30.410\nWell, let's add something to the swatch.\n\n226\n00:12:30.410 --> 00:12:34.980\nAdd event listener right here and\nsay, on input.\n\n227\n00:12:37.830 --> 00:12:39.466\nAnd, there we go.\n\n228\n00:12:39.466 --> 00:12:41.938\nAnd let's just console.log(e).\n\n229\n00:12:41.938 --> 00:12:42.900\nAll right.\n\n230\n00:12:42.900 --> 00:12:45.930\nSo I have my Chrome dev tools open.\n\n231\n00:12:45.930 --> 00:12:47.980\nNothing's happening, I click here.\n\n232\n00:12:47.980 --> 00:12:53.120\nNotice there's no event that comes out,\nand I look and notice as soon as I click\n\n233\n00:12:53.120 --> 00:12:59.540\nand I release this actually works a little\nbit differently in a couple of platforms.\n\n234\n00:12:59.540 --> 00:13:01.570\nWhen I tried this on\na Linux machine of mine\n\n235\n00:13:02.920 --> 00:13:05.758\nuntil I release the event was not fired.\n\n236\n00:13:05.758 --> 00:13:11.100\nEven here,\nlike see how that input event is\n\n237\n00:13:11.100 --> 00:13:14.740\njust spamming on the right\nevery time I move this?\n\n238\n00:13:15.910 --> 00:13:17.390\nI got a little bit different behavior,\n\n239\n00:13:17.390 --> 00:13:20.860\nit was more of a the input doesn't\nfire until you've made a selection.\n\n240\n00:13:20.860 --> 00:13:23.510\nSo it's not necessarily\nscrolling left to right.\n\n241\n00:13:23.510 --> 00:13:26.240\nIt's, you let go.\n\n242\n00:13:26.240 --> 00:13:30.060\nAnd so input events do have\nsome specificity to it.\n\n243\n00:13:30.060 --> 00:13:31.660\n&gt;&gt; Yeah.\nLike if you're on that spectrum and\n\n244\n00:13:31.660 --> 00:13:35.870\nyou're clicking, holding to find that\nperfect shade of pink that you want.\n\n245\n00:13:35.870 --> 00:13:39.340\nIt's gonna, when you let go,\nthat's all of this is registering.\n\n246\n00:13:39.340 --> 00:13:44.450\nAnd this is a Mac specific, how's it\ntreating the event listener thing.\n\n247\n00:13:44.450 --> 00:13:45.070\n&gt;&gt; Yep, yep.\n\n248\n00:13:45.070 --> 00:13:46.810\nAnd that has been my experience.\n\n249\n00:13:46.810 --> 00:13:51.410\nI'm using an event here where I'm not\nentirely sure we could listen to a change\n\n250\n00:13:51.410 --> 00:13:54.210\nevent to see if hey,\nhas something changed?\n\n251\n00:13:54.210 --> 00:13:58.892\nSo definitely try a few things out and see\nif you can get more of a consistent field.\n\n252\n00:13:58.892 --> 00:14:03.645\n&gt;&gt; That doesn't matter,\nis this taxing the code or\n\n253\n00:14:03.645 --> 00:14:08.505\nkind off extraneous stuff that's making\nit process more and going to make it bad.\n\n254\n00:14:08.505 --> 00:14:10.740\n[LAUGH]\n&gt;&gt; Really while I'm picking colors this is\n\n255\n00:14:10.740 --> 00:14:12.440\njust about the only thing\ngoing on on the screen.\n\n256\n00:14:12.440 --> 00:14:14.360\nRight?\nI'm not also drawing, I'm not rendering,\n\n257\n00:14:14.360 --> 00:14:16.080\nnothing else is going on.\n\n258\n00:14:16.080 --> 00:14:17.490\nSo that's the only thing.\n\n259\n00:14:17.490 --> 00:14:19.650\nAnd the engine, the V8 and\n\n260\n00:14:19.650 --> 00:14:23.670\nChrome specifically, it's managing\nWindows events are processed.\n\n261\n00:14:23.670 --> 00:14:24.810\nSo we should be fine.\n\n262\n00:14:25.900 --> 00:14:28.910\nI would be hard pressed\nto do enough here for\n\n263\n00:14:28.910 --> 00:14:31.330\na modern computer to be like,\nI can't handle that.\n\n264\n00:14:31.330 --> 00:14:32.980\nSo, I'm not too worried about it.\n\n265\n00:14:32.980 --> 00:14:34.570\nI'm gonna come over here and line it up.\n\n266\n00:14:34.570 --> 00:14:38.000\nLet's go down and\nthat's a kinda bright pink.\n\n267\n00:14:38.000 --> 00:14:45.630\nAnd then if we click out that\nshould be our last event, okay?\n\n268\n00:14:45.630 --> 00:14:48.800\nSo if I come and\nI look at the source element,\n\n269\n00:14:48.800 --> 00:14:54.470\nnotice this is the event, but I look at\nthe source, or we could use the target.\n\n270\n00:14:54.470 --> 00:14:57.680\nTypically, I use the target because\nit's standard convention that I've\n\n271\n00:14:57.680 --> 00:14:58.460\nused to create deal.\n\n272\n00:14:58.460 --> 00:15:01.620\nThose can differ depending\non some set ups.\n\n273\n00:15:01.620 --> 00:15:04.170\nIn this case, they're not going to differ.\n\n274\n00:15:04.170 --> 00:15:09.561\nWe scroll down and\nwe keep scrolling, value,\n\n275\n00:15:09.561 --> 00:15:15.241\nand I get a hex code,\n#ef4cd2, right there.\n\n276\n00:15:15.241 --> 00:15:16.280\nOkay?\n\n277\n00:15:16.280 --> 00:15:20.210\nThat value is a string\nrepresentation of that color.\n\n278\n00:15:21.300 --> 00:15:25.390\nWell, if I can grab that from the event\nI could probably update my application\n\n279\n00:15:25.390 --> 00:15:27.540\nto have that as the color, right?\n\n280\n00:15:28.880 --> 00:15:30.300\nOkay, okay.\n\n281\n00:15:30.300 --> 00:15:35.080\nSo let's do this and say,\n\n282\n00:15:35.080 --> 00:15:40.410\nwell I want to say\nthis.color = e.target.value.\n\n283\n00:15:40.410 --> 00:15:45.980\nBelieve it or not that's all\nwe need to capture, I think.\n\n284\n00:15:45.980 --> 00:15:48.460\nThere are may be some nuance things here.\n\n285\n00:15:48.460 --> 00:15:51.115\nSo if we come back it's\nno longer gonna go crazy.\n\n286\n00:15:51.115 --> 00:15:54.797\nIf we look at app.color, it's black.\n\n287\n00:15:54.797 --> 00:15:55.977\nOkay?\n\n288\n00:15:55.977 --> 00:15:59.920\nAnd then if I come over here and\nI look and let's make that a green.\n\n289\n00:15:59.920 --> 00:16:02.208\nAnd go and re-run this.\n\n290\n00:16:02.208 --> 00:16:07.560\nIt's #52DF5D, which should be that green.\n\n291\n00:16:07.560 --> 00:16:10.864\nAnd if it's not, then my browser's\ngot something going on with it.\n\n292\n00:16:10.864 --> 00:16:15.088\nNow that we have that color, we should be.\n\n293\n00:16:16.247 --> 00:16:19.380\n&gt;&gt; [LAUGH]\n&gt;&gt; So you notice,\n\n294\n00:16:19.380 --> 00:16:23.000\nI said something a little while ago that\nthis might not be in the right place for\n\n295\n00:16:23.000 --> 00:16:25.090\nus to add color, right?\n\n296\n00:16:25.090 --> 00:16:29.530\nWe're creating a new path on mouse up.\n\n297\n00:16:29.530 --> 00:16:33.010\nWell, mouse up is going to be\nafter drawing at least one time.\n\n298\n00:16:33.010 --> 00:16:38.720\nSo if I refresh, and I select a color, and\n\n299\n00:16:38.720 --> 00:16:43.030\nI come over here,\nI haven't drawn anything.\n\n300\n00:16:43.030 --> 00:16:49.400\nThe path that happened on construction,\nright, well, it's black.\n\n301\n00:16:49.400 --> 00:16:50.540\nBecause that's the default color.\n\n302\n00:16:51.570 --> 00:16:54.590\nSo if I, there's black and now I mouse up.\n\n303\n00:16:54.590 --> 00:16:57.320\nIt creates a new path and\nstores that internal to the application.\n\n304\n00:16:58.480 --> 00:17:00.700\nNow the new color should be set.\n\n305\n00:17:00.700 --> 00:17:02.080\nAnd it, in fact, is.\n\n306\n00:17:03.370 --> 00:17:05.850\nSo, all right, we added a feature and\n\n307\n00:17:05.850 --> 00:17:09.760\nit kinda broke some other stuff,\nsome of our logic.\n\n308\n00:17:09.760 --> 00:17:11.490\nSo we're probably gonna\nhave to revisit that.\n\n309\n00:17:11.490 --> 00:17:15.649\n&gt;&gt; But you also kinda foreshadowed that\na little bit about this isn't gonna\n\n310\n00:17:15.649 --> 00:17:17.568\nnecessarily be the right place.\n\n311\n00:17:17.568 --> 00:17:20.158\n&gt;&gt; So there's that whole tucking\nit back into the group or\n\n312\n00:17:20.158 --> 00:17:21.579\nwhere we need this to happen?\n\n313\n00:17:21.579 --> 00:17:23.637\n&gt;&gt; Yeah, and you're right,\nI did foreshadow, and\n\n314\n00:17:23.637 --> 00:17:24.813\npart of that is experience.\n\n315\n00:17:24.813 --> 00:17:27.186\nPart of that is I built\nthings like that before.\n\n316\n00:17:27.186 --> 00:17:29.060\nYou'll start to see, well,\nif I wanna add this,\n\n317\n00:17:29.060 --> 00:17:30.945\nthat actually isn't gonna\nwork in this context.\n\n318\n00:17:30.945 --> 00:17:36.500\nBut I wouldn't try to think of what\nam I gonna need in the future.\n\n319\n00:17:36.500 --> 00:17:37.680\nI think it's called yagme.\n\n320\n00:17:37.680 --> 00:17:42.606\nYou ain't gonna need it, so don't build\nthings you ain't gonna need in order\n\n321\n00:17:42.606 --> 00:17:46.790\nto satisfy some future possibly\nnon-existent condition.\n\n322\n00:17:46.790 --> 00:17:50.180\nSo if we come over here and\nwe start thinking, all right.\n\n323\n00:17:50.180 --> 00:17:51.230\nSo here's what I'm thinking.\n\n324\n00:17:53.380 --> 00:17:59.980\nI don't think path is\nnecessary right here.\n\n325\n00:17:59.980 --> 00:18:00.800\nWe may keep it.\n\n326\n00:18:00.800 --> 00:18:03.054\nLet's just keep it so\nwe don't break other things.\n\n327\n00:18:03.054 --> 00:18:09.444\nBut really what I'm thinking, is the path\nshould be created on mouse down.\n\n328\n00:18:09.444 --> 00:18:11.950\nSo we should just set a new\npath every time we click.\n\n329\n00:18:11.950 --> 00:18:15.265\nSay grab the color, go ahead and\ncreate a path, and now start tracking.\n\n330\n00:18:15.265 --> 00:18:19.790\nBecause if you think of the path\nlife cycle., mouse down, mouse move,\n\n331\n00:18:19.790 --> 00:18:22.980\nmouse up, that defines the beginning,\nend and in between.\n\n332\n00:18:24.680 --> 00:18:26.180\nWe're creating a new path at the end.\n\n333\n00:18:27.600 --> 00:18:29.310\nAnd so we get some weird color mismatch.\n\n334\n00:18:29.310 --> 00:18:35.492\nAnd so what we're gonna do, is we're just\ngonna grab this and put it right there.\n\n335\n00:18:35.492 --> 00:18:43.018\nAnd you know what, that simple little\nmove may actually fix everything.\n\n336\n00:18:43.018 --> 00:18:45.810\nHere's hoping, cross your fingers.\n\n337\n00:18:45.810 --> 00:18:46.660\nWe should see.\n\n338\n00:18:46.660 --> 00:18:51.230\nSo Vonne, I'm gonna go pink,\nall right, so here's pink.\n\n339\n00:18:51.230 --> 00:18:53.662\nI'm gonna close out.\n\n340\n00:18:53.662 --> 00:18:55.965\nOoh, first try.\n\n341\n00:18:55.965 --> 00:18:57.450\nWhat was the other one, purple?\n\n342\n00:18:57.450 --> 00:18:59.440\nSo we do a blue shifted a little bit.\n\n343\n00:19:01.100 --> 00:19:07.240\nAnd now we got pink and purple on the same\ncanvas, but we've added the ability for\n\n344\n00:19:07.240 --> 00:19:11.795\na user to select their own color, and\ndraw as many colors as they want.\n\n345\n00:19:11.795 --> 00:19:16.610\nAnd just to reconfirm, this is platform\nspecific how this color picker works.\n\n346\n00:19:16.610 --> 00:19:20.580\nBut this is a new advent of HTML5\nthat works wonderfully in tandem with\n\n347\n00:19:20.580 --> 00:19:25.340\nthe Canvas element, cuz you used\nto have to build a color picker.\n\n348\n00:19:25.340 --> 00:19:28.040\nLike build little div boxes and\nassign colors to them,\n\n349\n00:19:28.040 --> 00:19:33.270\nor have the ability of someone\ntype in RGB, but no, no.\n\n350\n00:19:33.270 --> 00:19:36.360\nIt is built in by default now.\n\n351\n00:19:36.360 --> 00:19:39.170\nAnd again,\nthis is newer browser technology.\n\n352\n00:19:39.170 --> 00:19:41.770\nBut I got all kinds of colors, and\n\n353\n00:19:41.770 --> 00:19:43.920\nI set this up like it was\ngonna be super difficult.\n\n354\n00:19:45.110 --> 00:19:48.830\nBut since we had it organized,\nwe knew where the individual pieces.\n\n355\n00:19:48.830 --> 00:19:52.250\nAnd I thought about this and I try to be\ntransparent about my thought process,\n\n356\n00:19:52.250 --> 00:19:55.180\nof what do I need to\nchange in the application?\n\n357\n00:19:55.180 --> 00:19:58.800\nAnd really, where does the color\ndefining how it's drawn?\n\n358\n00:19:58.800 --> 00:20:02.465\nWell, the color needs to be stored,\nwhat I've selected in the application.\n\n359\n00:20:02.465 --> 00:20:07.731\nBut what defines how it's drawn\nis the color of the path.\n\n360\n00:20:07.731 --> 00:20:10.970\nAnd that's the only way that we\ncan keep them separate, right?\n\n361\n00:20:10.970 --> 00:20:14.540\nI pulled the color into that grouping,\nthat path, cuz we would've run into\n\n362\n00:20:14.540 --> 00:20:19.960\na similar issue of the points\nin a previous episode where,\n\n363\n00:20:19.960 --> 00:20:22.490\nwhen I selected color,\nthat's what all the paths are.\n\n364\n00:20:23.760 --> 00:20:29.460\nBut if you wanted to apply colors,\nthen this may not be your best solution.\n\n365\n00:20:29.460 --> 00:20:34.180\nYou may want to actually select\na color in the application and\n\n366\n00:20:34.180 --> 00:20:37.390\nalways render that out, and then all\nyour paths would become whatever color.\n\n367\n00:20:37.390 --> 00:20:39.128\nBut you only get one at that point.\n\n368\n00:20:39.128 --> 00:20:40.243\nThis, you get multiple ones.\n\n369\n00:20:40.243 --> 00:20:44.787\nAnd Vonne, even though we kind of\nthought it was going to be difficult,\n\n370\n00:20:44.787 --> 00:20:46.925\nthat is adding color structure.\n\n371\n00:20:46.925 --> 00:20:47.997\nIt was that easy.\n\n372\n00:20:47.997 --> 00:20:49.397\n&gt;&gt; That was pretty easy.\n\n373\n00:20:49.397 --> 00:20:54.118\nLike you said,\nthat HTML 5 element of the new\n\n374\n00:20:54.118 --> 00:20:58.478\nattribute for the input, that's huge.\n\n375\n00:20:58.478 --> 00:21:02.110\nAnd, you totally put it into context for\nme.\n\n376\n00:21:02.110 --> 00:21:05.510\nLike I said, I started and\nI was like I don't know.\n\n377\n00:21:05.510 --> 00:21:10.280\nBut that yeah, to think you had to\nbuild your whole color picker before.\n\n378\n00:21:10.280 --> 00:21:12.360\nIt was like ooh, yeah.\n\n379\n00:21:12.360 --> 00:21:13.950\n&gt;&gt; It was rough going in.\n\n380\n00:21:13.950 --> 00:21:17.320\nWell, since we have a little bit of time,\nlet's do a little bit of cleaning up.\n\n381\n00:21:17.320 --> 00:21:19.164\nRight now,\nwe've been working on a single file.\n\n382\n00:21:19.164 --> 00:21:21.110\nLet's just hop down,\ndo a little bit of clean up.\n\n383\n00:21:21.110 --> 00:21:26.430\nThat way we have a very focused file on\nwhat we're doing inside of dev-paint,\n\n384\n00:21:26.430 --> 00:21:28.420\nin this case.\n\n385\n00:21:28.420 --> 00:21:33.110\nAnd then point and\npath will be more less separate modules,\n\n386\n00:21:33.110 --> 00:21:34.600\neven though they're global accessible.\n\n387\n00:21:34.600 --> 00:21:41.840\nSo let's open this up and I am gonna\ncreate another file called Weldpath.js.\n\n388\n00:21:41.840 --> 00:21:46.746\nIf you're on Node.js, if you're using it,\nbe very careful about naming this, because\n\n389\n00:21:46.746 --> 00:21:50.760\nthis is also a name for an internal\nmodule, so you may get some weirdness.\n\n390\n00:21:50.760 --> 00:21:53.560\nBut this is a browser only so\nI'm not worried about it.\n\n391\n00:21:53.560 --> 00:21:57.870\nSo what I'm gonna do, is I'm\nessentially gonna break all of this.\n\n392\n00:21:59.130 --> 00:22:02.320\nSo cut and paste.\n\n393\n00:22:02.320 --> 00:22:02.820\nThere it is.\n\n394\n00:22:03.900 --> 00:22:09.590\nAnd it's now broke, but\nif I come back, if I come back and\n\n395\n00:22:09.590 --> 00:22:13.890\nI duplicate, so Cmd+Shift+D,\nor Ctrl+Shift+D,\n\n396\n00:22:13.890 --> 00:22:18.320\nif you're on Linux or\nWindows, and as you see path.\n\n397\n00:22:18.320 --> 00:22:20.670\nNotice I'm changing the first one.\n\n398\n00:22:20.670 --> 00:22:22.065\nNow the second one.\n\n399\n00:22:22.065 --> 00:22:23.790\nGotta make sure that I\nhave path available for,\n\n400\n00:22:23.790 --> 00:22:26.690\nwhen I using dev-paint as the main method.\n\n401\n00:22:26.690 --> 00:22:29.520\nIf I come back,\nthat should fix everything, and it does.\n\n402\n00:22:29.520 --> 00:22:32.810\nBy default, it's black.\n\n403\n00:22:32.810 --> 00:22:37.052\nAnd now we need some blue, and\neverything's still working, no errors.\n\n404\n00:22:37.052 --> 00:22:39.250\nCool, there's our first\nlittle bit of clean up, and\n\n405\n00:22:39.250 --> 00:22:41.850\nnow let's get rid of that point object.\n\n406\n00:22:41.850 --> 00:22:44.580\nThis class is pretty small but\nyou never know,\n\n407\n00:22:44.580 --> 00:22:48.660\nit might get bigger later on as we add\nfeatures, or maybe as you add features.\n\n408\n00:22:48.660 --> 00:22:54.510\nSo I'm gonna cut that, I'm gonna create\nanother file called point.js and\n\n409\n00:22:54.510 --> 00:22:55.680\npaste, there it is.\n\n410\n00:22:57.490 --> 00:23:01.200\nStill broke now,\nwe have to come back to index.html.\n\n411\n00:23:01.200 --> 00:23:05.950\nAnd this is where it gets a little weird\nin the browser, when you're importing or\n\n412\n00:23:05.950 --> 00:23:09.370\nessentially defining\nthese global attributes.\n\n413\n00:23:09.370 --> 00:23:14.130\nSo dev-paint requires path, but\nif we come into path, look at this.\n\n414\n00:23:14.130 --> 00:23:15.910\nPath actually needs to know about point.\n\n415\n00:23:18.050 --> 00:23:21.280\nBut it only needs to know it\nfrom add point from event.\n\n416\n00:23:21.280 --> 00:23:25.109\nSo I could get away with it with order,\nbut just to be safe,\n\n417\n00:23:25.109 --> 00:23:26.916\npoint depends on nothing.\n\n418\n00:23:26.916 --> 00:23:32.010\nI wanna bring in point first,\nthen path, then dev-paint.\n\n419\n00:23:32.010 --> 00:23:33.990\nJust to really hedge my bets.\n\n420\n00:23:33.990 --> 00:23:37.560\n&gt;&gt; I was, in my brain I was thinking,\nyou gotta put that first.\n\n421\n00:23:37.560 --> 00:23:38.405\n&gt;&gt; Right?\nI'm waiting for-\n\n422\n00:23:38.405 --> 00:23:39.449\n[LAUGH]\n&gt;&gt; Okay.\n\n423\n00:23:39.449 --> 00:23:40.089\n[LAUGH]\n&gt;&gt; Yeah,\n\n424\n00:23:40.089 --> 00:23:43.541\nI would say it's probably good to\nalways think about those dependencies,\n\n425\n00:23:43.541 --> 00:23:46.004\nespecially if you are doing\nit in a browser like this,\n\n426\n00:23:46.004 --> 00:23:49.656\nbecause if you find out that two files\nrequire each other, you can't do this.\n\n427\n00:23:49.656 --> 00:23:51.690\nAnd actually, you should kinda rethink.\n\n428\n00:23:51.690 --> 00:23:52.360\nWell, why do I need.\n\n429\n00:23:52.360 --> 00:23:53.860\nHold on a second.\n\n430\n00:23:53.860 --> 00:23:56.650\nIf you're using more advanced module\nbuild systems or something like that,\n\n431\n00:23:56.650 --> 00:23:59.610\nwhich if you have no idea what I'm\ntalking about, don't worry about it.\n\n432\n00:23:59.610 --> 00:24:01.636\nWe're just having a little\nfun in the browser,\n\n433\n00:24:01.636 --> 00:24:03.400\nthen it'll help resolve those for you.\n\n434\n00:24:03.400 --> 00:24:05.640\nBut if we come back,\nlet's make sure it still works.\n\n435\n00:24:05.640 --> 00:24:07.870\nSo I can draw in the default color.\n\n436\n00:24:07.870 --> 00:24:09.420\nI can now pick another color,\n\n437\n00:24:09.420 --> 00:24:14.230\nactually let's come over here and\njust bring down the red.\n\n438\n00:24:15.380 --> 00:24:19.250\nIt's kind of weird that it\nshifts the respective colors.\n\n439\n00:24:19.250 --> 00:24:20.960\nAnd then here we go.\n\n440\n00:24:20.960 --> 00:24:23.070\nActually, let's bring in some green.\n\n441\n00:24:23.070 --> 00:24:23.570\nHere we go.\n\n442\n00:24:24.640 --> 00:24:29.310\nAnd would you say that's sea foam,\nor something of that nature?\n\n443\n00:24:29.310 --> 00:24:30.550\n&gt;&gt; I'll go sea foam.\n\n444\n00:24:30.550 --> 00:24:33.670\n&gt;&gt; All right, well,\nthat is a little bit of clean up.\n\n445\n00:24:33.670 --> 00:24:37.920\nOur color selections are done, and\nit's way easier because, well,\n\n446\n00:24:37.920 --> 00:24:43.710\nwe've employed kind of this refactoring\nthought process at every step of the way.\n\n447\n00:24:43.710 --> 00:24:47.040\nSo that is incredibly helpful\nas you continue to add features.\n\n448\n00:24:47.040 --> 00:24:48.668\n&gt;&gt; Well, another amazing episode.\n\n449\n00:24:48.668 --> 00:24:53.025\n[LAUGH] That made me very happy to see\ncolor and paths, and the picker, and\n\n450\n00:24:53.025 --> 00:24:56.820\nyou really pulled it all together for\nme, so thank you so much.\n\n451\n00:24:56.820 --> 00:24:59.347\nI hope that worked for\nyou all, because it was fun.\n\n452\n00:24:59.347 --> 00:25:03.252\n[LAUGH] All right, we're gonna go ahead\nand wrap this one up, signing off for\n\n453\n00:25:03.252 --> 00:25:05.768\nDEVProTV, I've been your host,\nVonne Smith.\n\n454\n00:25:05.768 --> 00:25:06.565\n&gt;&gt; And I'm Justin Dennison.\n\n455\n00:25:06.565 --> 00:25:08.301\n&gt;&gt; And we'll see you soon.\n\n456\n00:25:08.301 --> 00:25:13.990\n[MUSIC]\n\n",
          "vimeoId": "239164651"
        },
        {
          "description": "In this episode, Vonne and Justin describe and implement the ability to change the pen tool size when drawing. Justin emphasizes how that information propagates to other objects within the application.",
          "length": "1124",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-4-4-1-adding_size_choices-101117.00_18_36_16.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-4-4-1-adding_size_choices-101117.00_18_36_16.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-4-4-1-adding_size_choices-101117.00_18_36_16.Still001-sm.jpg",
          "title": "Adding Size Choices",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:13.050 --> 00:00:17.145\nHello everyone and welcome back to\nanother exciting edition of DEVPRO.TV.\n\n3\n00:00:17.145 --> 00:00:18.505\nI'm your host, Vonne Smith, and\n\n4\n00:00:18.505 --> 00:00:21.875\nwe are bringing back more on\nour HTML5 Canvas Projects.\n\n5\n00:00:21.875 --> 00:00:26.575\nAnd we're also continuing on with our\ndrawing thing that we're making, yes,\n\n6\n00:00:26.575 --> 00:00:27.615\nit's a thing, and\n\n7\n00:00:27.615 --> 00:00:30.935\nwe're also going to be changing\nthe size of a line in this episode.\n\n8\n00:00:30.935 --> 00:00:34.980\nSo here to help us talk about this thing,\n[LAUGH] is Mr. Justin Dennison.\n\n9\n00:00:34.980 --> 00:00:36.152\nHello, how are you?\n\n10\n00:00:36.152 --> 00:00:38.730\n&gt;&gt; I am doing fantastic,\nexcept I'm in panic mode now.\n\n11\n00:00:38.730 --> 00:00:41.890\nI've got to go change documentation\nbecause I haven't been calling it a thing,\n\n12\n00:00:41.890 --> 00:00:43.805\nI've been calling it a whatchamacallit.\n\n13\n00:00:43.805 --> 00:00:45.550\n&gt;&gt; [LAUGH]\n&gt;&gt; So we have some issues.\n\n14\n00:00:45.550 --> 00:00:46.300\nBut how are you, Yvonne?\n\n15\n00:00:46.300 --> 00:00:47.740\n&gt;&gt; I'm doing wonderful.\n\n16\n00:00:47.740 --> 00:00:49.187\nI really like these episodes.\n\n17\n00:00:49.187 --> 00:00:50.247\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm having so\n\n18\n00:00:50.247 --> 00:00:51.888\nmuch fun over here at DEVPRO.TV.\n\n19\n00:00:51.888 --> 00:00:56.533\nI'm so glad that you've invited me here\nand hopefully, you'll keep inviting me\n\n20\n00:00:56.533 --> 00:00:59.982\nback, so I can watch all the fun\nstuff with colors and lines.\n\n21\n00:00:59.982 --> 00:01:03.895\n&gt;&gt; [SOUND] But, actually that brings up\na good point, a lot of times people think,\n\n22\n00:01:03.895 --> 00:01:05.811\nprogramming math, it's a, right.\n\n23\n00:01:05.811 --> 00:01:10.256\nBut there are some amounts of creative\nkind of expression that we can do and,\n\n24\n00:01:10.256 --> 00:01:13.530\nthis series actually\ndemonstrates that a little more.\n\n25\n00:01:13.530 --> 00:01:15.500\nThere is some math, don't get me wrong.\n\n26\n00:01:15.500 --> 00:01:19.740\nBut relative proportions, drawing,\nperspective all of those artistic things\n\n27\n00:01:19.740 --> 00:01:22.890\ncan be represented as\nmathematical relationships.\n\n28\n00:01:22.890 --> 00:01:26.510\n&gt;&gt; And I feel like this is just\nlike everybody started off\n\n29\n00:01:26.510 --> 00:01:31.130\nwith Paint somewhere along the way or\nsome very simple, simple program,\n\n30\n00:01:31.130 --> 00:01:33.848\neither on a website or a computer\nprogram that you've grown up with.\n\n31\n00:01:33.848 --> 00:01:38.345\n[SOUND] So it's, it just brings back\nsomething that I think anybody that's used\n\n32\n00:01:38.345 --> 00:01:40.235\na computer can kinda relate too.\n\n33\n00:01:40.235 --> 00:01:42.700\n&gt;&gt; Yeah, I would have to agree.\n\n34\n00:01:42.700 --> 00:01:47.430\nAnd, well, that made me think,\nwhat are the things that I did, right?\n\n35\n00:01:47.430 --> 00:01:50.670\nWe, in the last few episodes\nwe've actually been able to draw.\n\n36\n00:01:50.670 --> 00:01:54.440\nWe have the ability to draw multiple\nlines that are not all connected into\n\n37\n00:01:54.440 --> 00:01:58.730\none continuous spaghetti noodle, and then\nwe added some color in the last episode.\n\n38\n00:01:58.730 --> 00:02:00.810\nif you havent seen that\ndefinitely go check that out.\n\n39\n00:02:00.810 --> 00:02:04.320\nI was like, the nostalgia it's\nwelling up inside of me but\n\n40\n00:02:04.320 --> 00:02:05.290\nthere's something missing.\n\n41\n00:02:05.290 --> 00:02:07.900\nAll these lines are tiny.\n\n42\n00:02:07.900 --> 00:02:11.155\nWhat if I wanted to, I don't know if\nyou've ever, when I play with the brush\n\n43\n00:02:11.155 --> 00:02:13.995\ntool or whatever, I would make it more or\nless the size of the screen.\n\n44\n00:02:13.995 --> 00:02:17.995\nJust click once and\ngo I did it all in one fell swoop.\n\n45\n00:02:17.995 --> 00:02:20.061\n&gt;&gt; I used to do that too.\n\n46\n00:02:20.061 --> 00:02:22.117\n[LAUGH]\n&gt;&gt; We're children.\n\n47\n00:02:22.117 --> 00:02:22.829\n&gt;&gt; We are.\n\n48\n00:02:22.829 --> 00:02:25.335\n[LAUGH]\n&gt;&gt; But that made me start thinking,\n\n49\n00:02:25.335 --> 00:02:28.650\nwe don't have any way to adjust the size.\n\n50\n00:02:28.650 --> 00:02:32.830\nWe can't have a paint project without\nthe ability to adjust the size.\n\n51\n00:02:32.830 --> 00:02:34.650\nSo, that's what we're\ngonna do in this episode.\n\n52\n00:02:34.650 --> 00:02:36.910\n&gt;&gt; Yeah, it was like the drop-down or\nsomething and you'd click and\n\n53\n00:02:36.910 --> 00:02:41.290\nit would show the different circles and\nsometimes you only got two or three or\n\n54\n00:02:41.290 --> 00:02:44.330\nfour or something but\nthat you could change the diameter.\n\n55\n00:02:44.330 --> 00:02:47.480\nAnd if you had it to where you\ncould type it in infinitely,\n\n56\n00:02:47.480 --> 00:02:49.990\nmake the big blob, that we did [LAUGH].\n\n57\n00:02:49.990 --> 00:02:53.570\n&gt;&gt; Yeah yeah, so we're not gonna\ndrop down, we're actually going to\n\n58\n00:02:53.570 --> 00:02:56.420\nutilize some of these new,\nsince we're working on a canvas element.\n\n59\n00:02:56.420 --> 00:03:01.000\nI feel compelled to pull in some newer\nfeatures of HTML which well frankly make\n\n60\n00:03:01.000 --> 00:03:05.820\nmy job a lot easier but make yours a lot\neasier as well if you wanna follow along.\n\n61\n00:03:05.820 --> 00:03:10.037\nSo let's go to take a look at my screen,\nsee what the state of the app is.\n\n62\n00:03:10.037 --> 00:03:12.850\nLet's think it a little\nbit of where we are going.\n\n63\n00:03:12.850 --> 00:03:17.170\nSo the app if you look,\nI kinda had some previously drawn stuff.\n\n64\n00:03:17.170 --> 00:03:20.206\nI'm just gonna pick up some red here and\nnow I'm gonna draw,\n\n65\n00:03:20.206 --> 00:03:22.870\nlook at that, red [INAUDIBLE] right.\n\n66\n00:03:22.870 --> 00:03:27.267\nI want it to be bigger, I'm thinking so\nif this is my color selector and\n\n67\n00:03:27.267 --> 00:03:31.067\nI'm probably come back and\nlabel this and do some clean up but\n\n68\n00:03:31.067 --> 00:03:33.691\nI would really like to have almost like a.\n\n69\n00:03:35.253 --> 00:03:41.200\nLike a slider, right, that I can just\nslide from the minimum to the maximum.\n\n70\n00:03:41.200 --> 00:03:45.570\nAnd yes, I do have to define mins and\nmaxes no way around it,\n\n71\n00:03:47.300 --> 00:03:50.966\nbut now with Vonne's suggestion\nI could put an input box and\n\n72\n00:03:50.966 --> 00:03:54.800\nhave you type in, let's do a slider.\n\n73\n00:03:54.800 --> 00:03:59.620\nThat way I can set limits,\nI can keep things from getting crazy and\n\n74\n00:03:59.620 --> 00:04:04.460\nhopefully persuade a user, hey,\nthis is how I expect you to use this.\n\n75\n00:04:05.680 --> 00:04:08.328\nSo, before we work on any JavaScript,\n\n76\n00:04:08.328 --> 00:04:12.464\nwell back way back when,\nyou had to build a slider yourself.\n\n77\n00:04:12.464 --> 00:04:17.220\nTo build the JavaScript and\nit's this percentage across the width, and\n\n78\n00:04:17.220 --> 00:04:21.860\ncalculate what is the minimum amount,\nit was a whole bunch of shenanigans.\n\n79\n00:04:21.860 --> 00:04:27.347\n&gt;&gt; I am actually remembering this from\nFlash and having to build a volume.\n\n80\n00:04:27.347 --> 00:04:29.633\nYes, that was, [SOUND].\n\n81\n00:04:29.633 --> 00:04:32.880\n&gt;&gt; Yeah, it makes me grit my\nteeth just thinking about it.\n\n82\n00:04:32.880 --> 00:04:36.550\nYou're like you taste that, that's bad.\n\n83\n00:04:36.550 --> 00:04:40.530\nBut HTML provides us with some niceties.\n\n84\n00:04:40.530 --> 00:04:42.533\n&gt;&gt; It's another input type, right?\n\n85\n00:04:42.533 --> 00:04:44.957\nThe new,\nwe have the color from the last episode,\n\n86\n00:04:44.957 --> 00:04:49.460\nnot necessarily if you're watching, well,\nthis is kind of a sequence, obviously.\n\n87\n00:04:49.460 --> 00:04:53.032\nSo that was the color, now we're doing,\nI can't remember the actual.\n\n88\n00:04:53.032 --> 00:04:54.720\nWas it just slider?\n\n89\n00:04:54.720 --> 00:04:55.720\nI don't think it was.\n\n90\n00:04:55.720 --> 00:04:58.510\n&gt;&gt; So I tended to do that as well.\n\n91\n00:04:58.510 --> 00:05:03.110\nI'm like, it's a slider,\nwell kinda, it's almost a slider.\n\n92\n00:05:03.110 --> 00:05:06.470\nIt's almost a slider and\nreally it is an input type, and\n\n93\n00:05:06.470 --> 00:05:10.160\nI'm just hitting tab there and\nit auto completes for me.\n\n94\n00:05:10.160 --> 00:05:15.260\nSo if we do this depending on\nwhether I hit tab, because I have\n\n95\n00:05:15.260 --> 00:05:19.450\nsome other thing or if I hit enter it'll\nautocomplete, so I'll just take these out.\n\n96\n00:05:19.450 --> 00:05:22.400\nLets not muddy the waters here,\nI don't want to text.\n\n97\n00:05:22.400 --> 00:05:28.850\nIf you type a slider though, if you come\nover here in slider, it actually gives\n\n98\n00:05:28.850 --> 00:05:32.940\nyou a text because slider isn't valid but\nthat's ultimately what we're building.\n\n99\n00:05:32.940 --> 00:05:36.470\nWhat it's called though is a range type.\n\n100\n00:05:36.470 --> 00:05:37.370\n&gt;&gt; That's right.\n\n101\n00:05:37.370 --> 00:05:38.510\n&gt;&gt; So I get a range.\n\n102\n00:05:38.510 --> 00:05:43.520\nNow how this looks is platform\nspecific because it ends up being,\n\n103\n00:05:43.520 --> 00:05:48.720\nusing the UI toolkit that's specific\nto Mac or Windows or Linux, right.\n\n104\n00:05:48.720 --> 00:05:52.960\nYou have Qt and all these and\nthen Coco for Mac.\n\n105\n00:05:52.960 --> 00:05:55.540\nSo this is nice, kind of rounded edges.\n\n106\n00:05:55.540 --> 00:05:59.060\nBorder radius everywhere, except for this.\n\n107\n00:05:59.060 --> 00:06:04.230\nOkay, so as I slide this,\nmy slider's done.\n\n108\n00:06:04.230 --> 00:06:05.430\nGuess what?\n\n109\n00:06:05.430 --> 00:06:06.420\nThat's all I have to do.\n\n110\n00:06:06.420 --> 00:06:11.760\nNow there are a few things I want\nto add in here, like an ID, right.\n\n111\n00:06:11.760 --> 00:06:14.660\nWhat does this range object describe?\n\n112\n00:06:14.660 --> 00:06:18.100\nSize.\nI can also set its minimum.\n\n113\n00:06:18.100 --> 00:06:22.400\nI don't want you to go below 1,\nbecause that doesn't make any sense and\n\n114\n00:06:22.400 --> 00:06:23.390\nI'm talking pixels.\n\n115\n00:06:23.390 --> 00:06:24.940\nNow you get to define your units.\n\n116\n00:06:24.940 --> 00:06:29.170\nYou can handle these a variety of ways,\nbut we're gonna go with 1, okay.\n\n117\n00:06:30.720 --> 00:06:36.350\nAnd then max, maybe 20 pixels and\n\n118\n00:06:36.350 --> 00:06:41.230\nyou can define the step,\nso min, max, step.\n\n119\n00:06:42.450 --> 00:06:45.666\nStart, stop step, that's what I think of,\nthe three s, start, stop, step.\n\n120\n00:06:45.666 --> 00:06:49.321\nWhere do I begin, where do I end and\nhow do I get from one to the other?\n\n121\n00:06:49.321 --> 00:06:52.655\nIf you don't put that step in there,\nyou can actually get fractional values and\n\n122\n00:06:52.655 --> 00:06:55.470\nI don't know if that makes a whole lot of,\nI have 1.33 pixels.\n\n123\n00:06:55.470 --> 00:07:02.080\nWe should probably just make that 2,\nor a 1 depending on this logic.\n\n124\n00:07:02.080 --> 00:07:04.970\nSo if we come back, and\nwe refresh, well guess what?\n\n125\n00:07:04.970 --> 00:07:07.420\nIt doesn't look any different but\n\n126\n00:07:07.420 --> 00:07:13.070\nnow we've defined over here is 1,\nover here is 20 and it will snap.\n\n127\n00:07:13.070 --> 00:07:18.150\nSee how it kind of, let me zoom in here,\nsee how it kinda snaps?\n\n128\n00:07:18.150 --> 00:07:20.720\nThat's defined by the step attribute.\n\n129\n00:07:20.720 --> 00:07:21.740\nThat's for free in HTML.\n\n130\n00:07:21.740 --> 00:07:25.460\nAll right so we've talked a little bit\nabout we haven't even got to drawing yet.\n\n131\n00:07:25.460 --> 00:07:32.642\nWe came over here and\nwell, just like the swatch,\n\n132\n00:07:32.642 --> 00:07:37.601\nI'm gonna say this dot size equals\n\n133\n00:07:37.601 --> 00:07:41.893\ndocument.querySelector.\n\n134\n00:07:41.893 --> 00:07:44.063\nThere we go.\n\n135\n00:07:44.063 --> 00:07:45.710\nSize, okay.\n\n136\n00:07:45.710 --> 00:07:49.448\nSo there's our size element.\n\n137\n00:07:49.448 --> 00:07:54.260\nAnd well, what is there a slide of event?\n\n138\n00:07:54.260 --> 00:07:58.170\nThis is going to follow very similar\nif you've seen the color episode.\n\n139\n00:07:58.170 --> 00:08:00.660\nI have the input element.\n\n140\n00:08:00.660 --> 00:08:03.400\nI now need to listen for\nwhen it does something.\n\n141\n00:08:03.400 --> 00:08:06.650\nAn event from it and track that and\n\n142\n00:08:06.650 --> 00:08:09.040\nuse that to make decisions or\nat least set states.\n\n143\n00:08:09.040 --> 00:08:11.503\nSo this.size.addEventListener and\n\n144\n00:08:11.503 --> 00:08:15.163\nlet's try input because that\nworked with color, right.\n\n145\n00:08:15.163 --> 00:08:20.145\nSo let's say console.log,\n\n146\n00:08:20.145 --> 00:08:24.330\nthe event and refresh and\n\n147\n00:08:24.330 --> 00:08:28.325\nguess what, it works.\n\n148\n00:08:28.325 --> 00:08:31.205\nNow if we come and look at this and\n\n149\n00:08:31.205 --> 00:08:35.600\nwe look at the target element and\nwe scroll down.\n\n150\n00:08:37.380 --> 00:08:38.300\nGuess what?\n\n151\n00:08:38.300 --> 00:08:42.150\nWe scroll down here, for value 2.\n\n152\n00:08:42.150 --> 00:08:44.540\nValue of 2.\n\n153\n00:08:48.130 --> 00:08:51.620\nWell, what if I now drag\nit all the way over here,\n\n154\n00:08:51.620 --> 00:08:56.450\nwe get a bunch more events and\nlet's look at the target element again.\n\n155\n00:08:56.450 --> 00:09:01.660\nScroll all the way down here and\nthe value is 20.\n\n156\n00:09:01.660 --> 00:09:04.540\nAlso notice there's a value as number.\n\n157\n00:09:05.810 --> 00:09:08.990\nThat may be more applicable to\nwhat we need instead of having\n\n158\n00:09:08.990 --> 00:09:11.290\nto handle the number stuff originally.\n\n159\n00:09:11.290 --> 00:09:14.960\nDo be careful if this is not a slider but\na type in value and you're using a value\n\n160\n00:09:14.960 --> 00:09:19.840\nas a number you may get NaNs, cuz not\neverything can be created as a number.\n\n161\n00:09:19.840 --> 00:09:23.240\nOr you may get null like this valueAsDate.\n\n162\n00:09:23.240 --> 00:09:27.090\nWell 20 isn't a date you need a month,\nday, year at minimum.\n\n163\n00:09:27.090 --> 00:09:28.900\nSo just keep that in mind.\n\n164\n00:09:28.900 --> 00:09:30.870\nBut we'll probably make use of this.\n\n165\n00:09:30.870 --> 00:09:33.930\nBut I did mention.\n\n166\n00:09:33.930 --> 00:09:36.870\nI wonder if its a change event because I\nam changing something about the slider.\n\n167\n00:09:36.870 --> 00:09:39.500\nI'm changing the relative position\nof the slider let's see if we get\n\n168\n00:09:39.500 --> 00:09:40.890\nevents from that.\n\n169\n00:09:40.890 --> 00:09:43.850\nSo nothing and when I release now.\n\n170\n00:09:43.850 --> 00:09:46.990\nSo notice the difference between input and\nchange.\n\n171\n00:09:48.820 --> 00:09:53.160\nAnd this could have worked very similarly,\nif I'm not mistaken, for the color.\n\n172\n00:09:53.160 --> 00:09:54.550\nThen I wanted to use an input event.\n\n173\n00:09:54.550 --> 00:09:57.210\nSo I'm always kind of tracking that,\nit's not a big deal.\n\n174\n00:09:57.210 --> 00:10:00.050\nBut if I move this slider and I release,\n\n175\n00:10:00.050 --> 00:10:05.730\nas soon as I commit to that value the\nevent says hey, the value has changed now.\n\n176\n00:10:05.730 --> 00:10:08.490\nIt's not an input, it's a change event.\n\n177\n00:10:08.490 --> 00:10:12.130\nSo I think for the slider that makes\na little more sense, I don't want, right.\n\n178\n00:10:12.130 --> 00:10:15.250\nAnd In all actually, I'm going to\nbe completely transparent here,\n\n179\n00:10:15.250 --> 00:10:18.650\nI could probably do that for\nthe color as well.\n\n180\n00:10:18.650 --> 00:10:20.170\nBut, it's a nice compare and\n\n181\n00:10:20.170 --> 00:10:23.821\ncontrast within our project because\nthis is kind of a playful project.\n\n182\n00:10:23.821 --> 00:10:27.900\nSo, I'm going to leave that as a change\nevent, but I still get the target and\n\n183\n00:10:27.900 --> 00:10:32.180\nI still get the value as number for\n2 and I can move up and down.\n\n184\n00:10:32.180 --> 00:10:35.710\nAnd if I come all the way over to\nthe left, I wanna make sure that I get 1,\n\n185\n00:10:35.710 --> 00:10:38.550\nand nothing less than that.\n\n186\n00:10:38.550 --> 00:10:42.820\nAnd, boom,\nscroll down the value as number 1.\n\n187\n00:10:42.820 --> 00:10:45.730\nAnd if I go all the way to the right,\nmy maximum is 20, so\n\n188\n00:10:45.730 --> 00:10:47.320\nthat is an inclusive range.\n\n189\n00:10:48.910 --> 00:10:54.040\nIt's a range of numbers and that's why\nit's called an input of type range.\n\n190\n00:10:54.040 --> 00:10:58.705\nSo now that we have\nthose interactions down,\n\n191\n00:10:58.705 --> 00:11:02.895\nhere's something that I'm thinking.\n\n192\n00:11:02.895 --> 00:11:07.225\nWell, if we compare this to the color,\n\n193\n00:11:07.225 --> 00:11:12.890\nwe were setting this dot\ncolor to the target value.\n\n194\n00:11:12.890 --> 00:11:15.705\nOkay, okay, but we said size here.\n\n195\n00:11:15.705 --> 00:11:20.513\nSo probably not this dot size because that\nwould actually, over the first event,\n\n196\n00:11:20.513 --> 00:11:23.970\nit would override and\nthen all your stuff breaks.\n\n197\n00:11:23.970 --> 00:11:31.211\nSo I'm thinking that we go with\nsomething like this.strokeSize or\n\n198\n00:11:31.211 --> 00:11:35.840\nmaybe linesize,\nI'm gonna go with strokeSize.\n\n199\n00:11:37.290 --> 00:11:38.630\nAnd what is that by default?\n\n200\n00:11:39.750 --> 00:11:44.400\nWhat does it start on with the value.\n\n201\n00:11:44.400 --> 00:11:45.430\nI don't know?\n\n202\n00:11:45.430 --> 00:11:49.328\nWell, if we come over here,\njust a quick little aside,\n\n203\n00:11:49.328 --> 00:11:54.195\nWe'll say value=2,\nthat is now its default value.\n\n204\n00:11:54.195 --> 00:11:56.230\nJust, I'm scaffolding this up so\n\n205\n00:11:56.230 --> 00:11:59.110\nI can keep those consistent\nuntil the first event fires.\n\n206\n00:11:59.110 --> 00:12:01.580\nIf I was doing this programmatically,\n\n207\n00:12:01.580 --> 00:12:05.320\nI would just set that and\nit would be set regardless.\n\n208\n00:12:05.320 --> 00:12:08.470\nSo I'm gonna stay with 2 because\nthat's what I set it in the HTML.\n\n209\n00:12:09.870 --> 00:12:14.135\nAnd, well, what that means is,\nis I'm gonna say\n\n210\n00:12:14.135 --> 00:12:20.710\nthis.strokeSize=e.target.valueAsNumber;\njust like that.\n\n211\n00:12:21.950 --> 00:12:23.660\nOkay, valueAsNumber.\n\n212\n00:12:23.660 --> 00:12:26.590\nAnd now, let's go refresh.\n\n213\n00:12:26.590 --> 00:12:27.298\nMove that over.\n\n214\n00:12:27.298 --> 00:12:31.380\nI'll say app.strokeSize, that's a 10.\n\n215\n00:12:31.380 --> 00:12:36.970\nLet's move all the way over here,\ndo it again, that's 20, so it is updating.\n\n216\n00:12:36.970 --> 00:12:42.005\nIf we draw though, it's still tiny,\nwell, that's because\n\n217\n00:12:42.005 --> 00:12:46.720\nif we look back through color, notice the\npath, we said hey this path is this color.\n\n218\n00:12:48.230 --> 00:12:52.810\nA very similar line of reasoning\nsays this path has this stroke size.\n\n219\n00:12:54.610 --> 00:12:58.390\nSo, as it stands,\nthat grouping needs to know,\n\n220\n00:12:58.390 --> 00:13:01.138\nwhat is the currently selected size and\ncolor?\n\n221\n00:13:01.138 --> 00:13:06.720\nThe only thing we're telling it at\ncurrent, is what color it should be,\n\n222\n00:13:06.720 --> 00:13:10.930\nnot what size it should be and\npart of that is well, the path.\n\n223\n00:13:12.350 --> 00:13:15.740\nIt doesn't know how to handle size.\n\n224\n00:13:15.740 --> 00:13:18.430\nRight, so,\nthis allows you to pass in color.\n\n225\n00:13:18.430 --> 00:13:24.430\nSo I come here and I say, size or\nlet's be a little more explicit.\n\n226\n00:13:24.430 --> 00:13:26.480\nLet's say stroke size, just like that.\n\n227\n00:13:26.480 --> 00:13:32.580\nThen I'm not gonna say this side stroke\nsize, Side= strokeSize, just like that.\n\n228\n00:13:32.580 --> 00:13:38.796\nThis wouldn't change anything if we\ndon't go and change the rendering, okay.\n\n229\n00:13:38.796 --> 00:13:48.190\nStrokeStyle, and then\ncontext.lineWidth=thisstyle.strokesize.\n\n230\n00:13:48.190 --> 00:13:52.810\nNow I didn't pick then that's not\nsomething that's how it's defined in\n\n231\n00:13:52.810 --> 00:13:58.310\nthe 2D graphical context line width\nessentially defines how big the line is.\n\n232\n00:13:58.310 --> 00:14:02.290\nSo, if it was left up to me I would\nprobably say stroke size because stroke\n\n233\n00:14:02.290 --> 00:14:05.470\nstyle is how.\n\n234\n00:14:05.470 --> 00:14:06.740\nYou know, what color is it?\n\n235\n00:14:06.740 --> 00:14:08.430\nSo, I would of just kept this consistent.\n\n236\n00:14:08.430 --> 00:14:09.598\nBut, I didn't make the API for this, so\n\n237\n00:14:09.598 --> 00:14:11.860\nwe're gonna have to follow\nthe one that's provided to us.\n\n238\n00:14:13.380 --> 00:14:16.190\nSo, the last thing we need\nto come over here and\n\n239\n00:14:16.190 --> 00:14:18.090\nlook at is we need to pass that in.\n\n240\n00:14:20.040 --> 00:14:21.130\nstrokeSize, should\n\n241\n00:14:23.400 --> 00:14:27.314\nbe good to go except right here we\nprobably need to this.strokeSize.\n\n242\n00:14:29.450 --> 00:14:33.074\nAnd you'll noticed after\nthe first implementation of color,\n\n243\n00:14:33.074 --> 00:14:38.030\nsize kind of just fell out,\nit was essentially the very same pattern.\n\n244\n00:14:38.030 --> 00:14:42.270\nLet me create a UI element to allow\ninteractions, let me modify the path so\n\n245\n00:14:42.270 --> 00:14:46.090\nit knows what rendering information\nit needs, color and size.\n\n246\n00:14:46.090 --> 00:14:48.760\nAnd then let store whatever\nhas been selected and\n\n247\n00:14:48.760 --> 00:14:51.360\npass that to the next path, right.\n\n248\n00:14:51.360 --> 00:14:53.060\nSo by default this is what it is.\n\n249\n00:14:53.060 --> 00:14:57.480\nThe first path is black of size\n2 until I hit mouse down and\n\n250\n00:14:57.480 --> 00:15:02.800\nthen I created a new path and\nif I ever changed the size well,\n\n251\n00:15:02.800 --> 00:15:07.865\nthe stroke size is going to be\nupdated as such, all right.\n\n252\n00:15:07.865 --> 00:15:11.444\nSo if we come over here and we refresh and\n\n253\n00:15:11.444 --> 00:15:15.884\nall right, and then if we move this up.\n\n254\n00:15:15.884 --> 00:15:20.840\nAh-ha, now it's not super smooth\n\n255\n00:15:20.840 --> 00:15:26.710\nright, but it does give us some width.\n\n256\n00:15:26.710 --> 00:15:29.210\nAnd part of that is I'm\ndrawing with a track pad, so\n\n257\n00:15:29.210 --> 00:15:31.970\nI'm doing like weird wiggles.\n\n258\n00:15:31.970 --> 00:15:35.550\nLet's come over here, change this to red.\n\n259\n00:15:35.550 --> 00:15:37.580\nThat looks nice.\n\n260\n00:15:37.580 --> 00:15:42.580\nI'm also wicked zoomed in, so I have\nsome pixilation, so it has to tabulate.\n\n261\n00:15:45.950 --> 00:15:49.370\nAnd now I have the ability to\nchange the size of the lines.\n\n262\n00:15:49.370 --> 00:15:50.810\nBut I wanted to do this,\n\n263\n00:15:50.810 --> 00:15:53.240\nnumber one, because I want\nthe ability to change the size.\n\n264\n00:15:53.240 --> 00:15:57.680\nBut also to demonstrate these\npatterns keep popping up.\n\n265\n00:15:57.680 --> 00:16:01.000\nAlright, I need a UI element, I need\nthe ability to store the information,\n\n266\n00:16:01.000 --> 00:16:05.000\nas well as select the information and\nthen it kind of just falls out.\n\n267\n00:16:05.000 --> 00:16:06.330\nIs this the most performing?\n\n268\n00:16:06.330 --> 00:16:07.870\nProbably not.\n\n269\n00:16:07.870 --> 00:16:12.710\nIs the absolute best\nimplementation probably not but\n\n270\n00:16:12.710 --> 00:16:18.450\nthis is all about nostalgia like getting\nthings to work and we should be able to\n\n271\n00:16:18.450 --> 00:16:23.600\nnow select a different size, select a\ndifferent color, still maintain the size.\n\n272\n00:16:23.600 --> 00:16:26.960\nI didn't select the color.\n\n273\n00:16:26.960 --> 00:16:28.230\nThere we go.\n\n274\n00:16:28.230 --> 00:16:29.270\nThere we go.\n\n275\n00:16:29.270 --> 00:16:34.080\nSo now we have that and\nif I zoom out to 100% you'll\n\n276\n00:16:34.080 --> 00:16:39.545\nnotice that it's a little smoother looking\nand there are ways to smooth that out.\n\n277\n00:16:39.545 --> 00:16:43.390\n&gt;&gt; Yeah, well I mean you're also\ndoing this to teach the concepts of\n\n278\n00:16:43.390 --> 00:16:47.810\nthis whole HTML5 Canvas Projects and\njust using the canvas and\n\n279\n00:16:47.810 --> 00:16:52.160\nthe HTML5 elements outside of it.\n\n280\n00:16:52.160 --> 00:16:53.660\nSo, I think it's great.\n\n281\n00:16:53.660 --> 00:16:57.320\n&gt;&gt; Well, Vonne, it seems like it should\nbe complicated, just like color, but\n\n282\n00:16:57.320 --> 00:16:58.370\nit was just that easy.\n\n283\n00:16:58.370 --> 00:17:02.100\nOnce we get things in place,\nfeatures just start falling out.\n\n284\n00:17:02.100 --> 00:17:05.110\n&gt;&gt; But like you said in the other episode,\nor maybe even this episode,\n\n285\n00:17:05.110 --> 00:17:09.190\nit's because you set up\nthe logic the right way, and\n\n286\n00:17:09.190 --> 00:17:12.008\nyou really thought it through and\ngrouped it all.\n\n287\n00:17:12.008 --> 00:17:16.379\nCuz, I mean I know enough that you can\ncode it a whole bunch of different ways\n\n288\n00:17:17.460 --> 00:17:20.585\nIt's not necessarily wrong,\nbut it ain't really right.\n\n289\n00:17:20.585 --> 00:17:23.190\n[LAUGH]\n&gt;&gt; Yeah, there are ways of organizing\n\n290\n00:17:23.190 --> 00:17:25.920\nthis code that could definitely make\nthis a lot more difficult to implement.\n\n291\n00:17:25.920 --> 00:17:30.030\nBy some of the rearrangement that\nwe did in previous episodes,\n\n292\n00:17:30.030 --> 00:17:34.400\nit made it a little easier to follow in\nmy mind and it helps me reason about it.\n\n293\n00:17:34.400 --> 00:17:37.600\nWe could've kept it very first\ntime we goy anything on the page.\n\n294\n00:17:37.600 --> 00:17:40.860\nWe had a bunch of global variables and\nthing, we could ofkept it like that and\n\n295\n00:17:40.860 --> 00:17:43.490\nI could've implemented it just as I had.\n\n296\n00:17:43.490 --> 00:17:44.940\nBut now I'm like all right,\n\n297\n00:17:44.940 --> 00:17:47.890\nnow I gotta go over here and\nhow's it, I gotta bunch of points.\n\n298\n00:17:49.190 --> 00:17:53.653\nIt could be done it's just not going\nnecessarily going to be easy but\n\n299\n00:17:53.653 --> 00:17:55.230\ndefinitely try it out.\n\n300\n00:17:55.230 --> 00:17:55.970\nSee what works for\n\n301\n00:17:55.970 --> 00:18:00.830\nyou because this may not be one of your\nthought processes like it is mine.\n\n302\n00:18:00.830 --> 00:18:02.753\n&gt;&gt; Well,\nI'm following your thought process.\n\n303\n00:18:02.753 --> 00:18:03.380\n&gt;&gt; [LAUGH]\n&gt;&gt; And\n\n304\n00:18:03.380 --> 00:18:05.635\nthat's the only thing that matters, right?\n\n305\n00:18:05.635 --> 00:18:08.380\n[LAUGH] Well hope your following along and\nit's making sense and\n\n306\n00:18:08.380 --> 00:18:11.300\nit's kind of clicking in your\nbrain as well because that's,\n\n307\n00:18:11.300 --> 00:18:13.730\nthat's the whole reason\nwhy we're here isn't it.\n\n308\n00:18:13.730 --> 00:18:14.660\n&gt;&gt; Yep, that is sure is.\n\n309\n00:18:14.660 --> 00:18:18.860\nIt is to provide you with the ability\nto well level up your game,\n\n310\n00:18:18.860 --> 00:18:21.470\nturn up the wick on your\nknowledge sort of speak.\n\n311\n00:18:21.470 --> 00:18:23.122\n&gt;&gt; Yeah turn that slider all the way up.\n\n312\n00:18:23.122 --> 00:18:24.317\n&gt;&gt; [LAUGH]\n&gt;&gt; Just like we did,\n\n313\n00:18:24.317 --> 00:18:26.750\nyou just have to make sure\nit's all connected so.\n\n314\n00:18:26.750 --> 00:18:28.770\n&gt;&gt; Yep.\n&gt;&gt; All right well that was a lot of fun,\n\n315\n00:18:28.770 --> 00:18:29.900\nthank you so much for that.\n\n316\n00:18:29.900 --> 00:18:32.450\nWe're gonna go ahead and wrap this one up.\n\n317\n00:18:32.450 --> 00:18:35.660\nSigning off for DEVPRO.TV,\nI've been your host, vonne Smith.\n\n318\n00:18:35.660 --> 00:18:36.510\n&gt;&gt; And I'm Justin Dennison.\n\n319\n00:18:36.510 --> 00:18:40.525\n&gt;&gt; And we'll see you soon.\n\n320\n00:18:40.525 --> 00:18:44.054\n[SOUND]\n\n",
          "vimeoId": "239164391"
        },
        {
          "description": "In this episode, Zack and Justin demonstrate how to save the masterpieces that you have drawn with the tool.",
          "length": "1889",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-4-5-1-saving_the_image-102317-PGM.00_31_49_02.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-4-5-1-saving_the_image-102317-PGM.00_31_49_02.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/techskills-html5canvasprojects/techskills-html5canvasprojects-4-5-1-saving_the_image-102317-PGM.00_31_49_02.Still001-sm.jpg",
          "title": "Saving the Image",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.657 --> 00:00:16.543\nHello, thank you for choosing DEVPROTV,\nhelping you learn wherever you go.\n\n3\n00:00:16.543 --> 00:00:20.947\nI'm your host, Zach Memos, as we\ncontinue on with HTML5 Canvass projects.\n\n4\n00:00:20.947 --> 00:00:25.470\nWe are gonna be saving the image\nwith Justin Denison right here.\n\n5\n00:00:25.470 --> 00:00:26.926\nThanks for joining us, sir [LAUGH].\n\n6\n00:00:26.926 --> 00:00:28.012\n&gt;&gt; It is good to be back, Zach.\n\n7\n00:00:28.012 --> 00:00:29.127\nAnd I am pretty excited.\n\n8\n00:00:29.127 --> 00:00:33.221\nWe're kind of at a starting point,\nbut before we get there,\n\n9\n00:00:33.221 --> 00:00:35.881\nlet's think about where have we been?\n\n10\n00:00:35.881 --> 00:00:38.410\n&gt;&gt; Where have we been?\n\n11\n00:00:38.410 --> 00:00:41.800\n&gt;&gt; So we started with a very\nsimple HTML5 Canvass, right?\n\n12\n00:00:41.800 --> 00:00:45.013\nAnd this was kind of spurred\nalong by some nostalgic feelings\n\n13\n00:00:45.013 --> 00:00:48.667\nof those simple paint programs where\nI'm just kind of, it was more or\n\n14\n00:00:48.667 --> 00:00:51.770\nless like I had a crayon in my hand going,\nI like coloring.\n\n15\n00:00:51.770 --> 00:00:52.980\n&gt;&gt; You were channeling Picasso.\n\n16\n00:00:52.980 --> 00:00:54.510\n&gt;&gt; I was, I was.\n\n17\n00:00:54.510 --> 00:00:59.790\nAnd along those lines, I added\nthe ability to transition colors, right?\n\n18\n00:00:59.790 --> 00:01:03.546\nTo change the colors as well as\nthe size and to keep separate paths.\n\n19\n00:01:03.546 --> 00:01:07.502\nSo I could have a multitude of different\ndrawings with different colors and\n\n20\n00:01:07.502 --> 00:01:08.530\ndifferent sizes.\n\n21\n00:01:08.530 --> 00:01:12.140\nNow, I could go a great deal\nfurther with this, and who knows,\n\n22\n00:01:12.140 --> 00:01:14.930\nin the future I may come back and\nattack that.\n\n23\n00:01:14.930 --> 00:01:20.020\nBut I think now's a good stopping point to\nwhere maybe you could take it over, right?\n\n24\n00:01:20.020 --> 00:01:21.860\nAnd then go, look what I've done.\n\n25\n00:01:21.860 --> 00:01:26.930\nNow, I think the final thing is, one of\nthe things that I did when I was a child,\n\n26\n00:01:26.930 --> 00:01:27.810\nis I would draw these.\n\n27\n00:01:27.810 --> 00:01:30.553\nAnd then I would save them.\n\n28\n00:01:30.553 --> 00:01:32.545\nI mean, look at this.\n\n29\n00:01:32.545 --> 00:01:36.630\nOr the proverbial hang it on the fridge,\nso to speak.\n\n30\n00:01:37.660 --> 00:01:41.380\nSo I think that's a good\nplace to kinda leave this for\n\n31\n00:01:41.380 --> 00:01:42.995\nyou to take over and expand.\n\n32\n00:01:42.995 --> 00:01:47.120\nAnd I would be interested to see\nwhat kinda features that you employ.\n\n33\n00:01:47.120 --> 00:01:50.684\nBut we've explained where we've been,\nand let's go ahead and\n\n34\n00:01:50.684 --> 00:01:54.056\ntake a look at where we left off and\nwhat's my ultimate goal?\n\n35\n00:01:54.056 --> 00:01:56.131\nThis isn't too horribly difficult, but\n\n36\n00:01:56.131 --> 00:01:59.220\nthere are a few nuanced things\nthat we have to be careful with.\n\n37\n00:01:59.220 --> 00:02:03.045\nSo if we go ahead and take a look at\nmy screen here, and here's our canvas,\n\n38\n00:02:03.045 --> 00:02:04.236\nand, I can draw.\n\n39\n00:02:04.236 --> 00:02:07.253\nAnd if I can come over here and\nchange this color, and\n\n40\n00:02:07.253 --> 00:02:09.320\nlet's change it to this blue here.\n\n41\n00:02:09.320 --> 00:02:10.200\nIt's a nice blue.\n\n42\n00:02:10.200 --> 00:02:13.200\nAnd then I can draw that blue path.\n\n43\n00:02:14.350 --> 00:02:16.720\nMake that size a little bit bigger.\n\n44\n00:02:16.720 --> 00:02:17.703\nAnd there we go.\n\n45\n00:02:17.703 --> 00:02:21.444\nAnd now, at this point,\nif I was like, I'm done,\n\n46\n00:02:21.444 --> 00:02:25.329\nthis is the [FOREIGN]-\n&gt;&gt; The [FOREIGN].\n\n47\n00:02:25.329 --> 00:02:27.903\n&gt;&gt; [FOREIGN]\n&gt;&gt; Now, there it is, there it is.\n\n48\n00:02:27.903 --> 00:02:31.610\nI had it in my head, but\nmy tongue just wouldn't make it happen.\n\n49\n00:02:31.610 --> 00:02:34.765\nSo if I wanted to save this,\nthen I'm gonna have some trouble.\n\n50\n00:02:34.765 --> 00:02:36.190\nThere's no way to save that.\n\n51\n00:02:36.190 --> 00:02:38.489\nNow, I could try to screen capture it.\n\n52\n00:02:38.489 --> 00:02:41.485\nI'd almost like to have a save button,\nright?\n\n53\n00:02:41.485 --> 00:02:44.048\nNow, I've shown this before, but\n\n54\n00:02:44.048 --> 00:02:48.070\nI was thinking when I save\nthese the name was important.\n\n55\n00:02:48.070 --> 00:02:50.710\nI would give them kind of funky names.\n\n56\n00:02:50.710 --> 00:02:54.590\nI'm not gonna build a modal,\na nicely styled modal.\n\n57\n00:02:54.590 --> 00:02:57.330\nI'm gonna more use some of the built-in,\n\n58\n00:02:57.330 --> 00:03:01.650\nsometimes annoying,\naspects of the browser, right?\n\n59\n00:03:01.650 --> 00:03:03.590\nSo you have the alerts and the prompts.\n\n60\n00:03:03.590 --> 00:03:06.810\nI'm thinking maybe we'll take\nthe prompt and say, hey,\n\n61\n00:03:06.810 --> 00:03:08.120\nwhat's the name of your file?\n\n62\n00:03:08.120 --> 00:03:12.890\nAnd you take that in, and then,\nonly then, will you then save it.\n\n63\n00:03:12.890 --> 00:03:14.690\nThat was then said a lot.\n\n64\n00:03:14.690 --> 00:03:17.180\n&gt;&gt; I think you should\ncall it mosquito goggles.\n\n65\n00:03:17.180 --> 00:03:20.530\n&gt;&gt; Mosquito goggles, possibly, possibly.\n\n66\n00:03:20.530 --> 00:03:22.806\nBut there's not a hand swatting-\n&gt;&gt; [LAUGH]\n\n67\n00:03:22.806 --> 00:03:25.740\n&gt;&gt; Around like this, but you never know.\n\n68\n00:03:25.740 --> 00:03:26.920\nWe could have some fun with that.\n\n69\n00:03:26.920 --> 00:03:29.890\nBut now that we have the idea there,\nwhat do we need?\n\n70\n00:03:29.890 --> 00:03:32.260\nI'm thinking like a button\nhere that says save, and\n\n71\n00:03:32.260 --> 00:03:38.780\nwhen I click that I get a prompt, and\nthen the actual image save occurs, okay?\n\n72\n00:03:38.780 --> 00:03:44.351\nI could make this real nice, but I think\nkind of quick and dirty is the best.\n\n73\n00:03:44.351 --> 00:03:47.232\nSo if I need that button, and\nI need the ability to click,\n\n74\n00:03:47.232 --> 00:03:51.390\nI need a little bit of HTML, little bit of\nJavaScript, and we should be good to go.\n\n75\n00:03:51.390 --> 00:03:55.560\nSo, let's go ahead and hop over here and\nlook at my index.html.\n\n76\n00:03:55.560 --> 00:03:59.117\nNow, here's my canvas,\nhere's my swatch, and here's my range.\n\n77\n00:03:59.117 --> 00:04:02.166\nAnd I think this button is\nprobably best put here.\n\n78\n00:04:02.166 --> 00:04:03.983\nSo I'm gonna say button.\n\n79\n00:04:03.983 --> 00:04:05.397\nAnd it is a type button.\n\n80\n00:04:05.397 --> 00:04:08.297\nAnd I'm gonna get rid of this name,\nbecause it's not in a form,\n\n81\n00:04:08.297 --> 00:04:10.470\nits just using JavaScript\nto interact with it.\n\n82\n00:04:11.930 --> 00:04:15.093\nAnd I'm gonna call this\nsave-button like that.\n\n83\n00:04:15.093 --> 00:04:15.712\nSo, save.\n\n84\n00:04:15.712 --> 00:04:19.630\nAll right,\nthat's all I need in that capacity.\n\n85\n00:04:19.630 --> 00:04:22.850\nLet's go make sure that I don't\nhave any issues and app save,\n\n86\n00:04:22.850 --> 00:04:24.300\nit's not the most beautiful thing.\n\n87\n00:04:24.300 --> 00:04:27.950\nI'm actually gonna zoom in just\na little bit even though our drawing\n\n88\n00:04:27.950 --> 00:04:32.080\nwill appear a little more pixellated\nto us because we're zooming.\n\n89\n00:04:32.080 --> 00:04:36.660\nBut if I click Save,\nI'm want a prompt to come up, right?\n\n90\n00:04:36.660 --> 00:04:37.905\nAnd what do I mean by prompt?\n\n91\n00:04:39.434 --> 00:04:41.190\nWell, you actually have to call it.\n\n92\n00:04:41.190 --> 00:04:43.580\nNotice this prompt comes up,\njust like this.\n\n93\n00:04:43.580 --> 00:04:45.419\nAnd this is, you can ask a question, and\n\n94\n00:04:45.419 --> 00:04:47.986\nwhatever you type in the box\nwill actually be returned.\n\n95\n00:04:47.986 --> 00:04:52.890\nNow, I'm not a big proponent of\nusing things like this all the time.\n\n96\n00:04:52.890 --> 00:04:56.860\nIt's just a nice little, okay,\nI see what you're doing there.\n\n97\n00:04:56.860 --> 00:04:59.560\nI could put an input field here, right?\n\n98\n00:04:59.560 --> 00:05:03.029\nI could build a more stylishly nice modal.\n\n99\n00:05:03.029 --> 00:05:04.724\nAnd what do I mean by modal?\n\n100\n00:05:04.724 --> 00:05:09.448\nKind of one of those hover over elements\nthat asks what do you want to name\n\n101\n00:05:09.448 --> 00:05:10.250\nyour file?\n\n102\n00:05:12.280 --> 00:05:15.640\nKind of a quick and dirty,\nlets use the prompt.\n\n103\n00:05:15.640 --> 00:05:18.220\nNow, the one thing that I do want\nto let everybody know in case\n\n104\n00:05:18.220 --> 00:05:22.510\nyou haven't realized, your prompt is kind\nof styled by whatever system you're on.\n\n105\n00:05:22.510 --> 00:05:26.290\nSo I'm using MacOS,\nit's kind of gonna look like this.\n\n106\n00:05:26.290 --> 00:05:29.240\nIt looks a little bit different in Windows\nenvironment, a little bit different in\n\n107\n00:05:29.240 --> 00:05:32.220\nLinux environments or,\nwell, let me rephrase that.\n\n108\n00:05:32.220 --> 00:05:34.650\nIt did the last time I used\nit in those environments.\n\n109\n00:05:36.170 --> 00:05:37.130\nThings do change.\n\n110\n00:05:37.130 --> 00:05:41.820\nSo if you're like, well, it looks\nthe same to me in my Windows and MacOS.\n\n111\n00:05:41.820 --> 00:05:46.500\nWell, luckily, they're trying to make\nthose a little more uniform in your case.\n\n112\n00:05:46.500 --> 00:05:49.300\nBut if we cancel, and let's see.\n\n113\n00:05:49.300 --> 00:05:51.970\nLet's actually type something in here.\n\n114\n00:05:51.970 --> 00:05:56.430\nAnd notice over here on the right,\nwhen we called it and\n\n115\n00:05:56.430 --> 00:05:58.390\njust cancelled, we got a null.\n\n116\n00:05:58.390 --> 00:06:00.830\nWe called it and we got a null.\n\n117\n00:06:00.830 --> 00:06:04.630\nAnd then if we called it, and\ninside these parenthesis we can actually\n\n118\n00:06:04.630 --> 00:06:09.340\nput something to ask like what do you want\nto name your file, and that will appear.\n\n119\n00:06:09.340 --> 00:06:11.040\nWhat is returned is the string.\n\n120\n00:06:12.340 --> 00:06:20.110\nOkay, so\nkind of a poor man's save dialogue box.\n\n121\n00:06:20.110 --> 00:06:21.840\nSo I have this ave button.\n\n122\n00:06:21.840 --> 00:06:23.950\nNow, what that means\nis in the constructor,\n\n123\n00:06:23.950 --> 00:06:24.984\nI need to go ahead and grab that.\n\n124\n00:06:26.155 --> 00:06:29.035\nSo let's come down where I'm\ngrabbing all these elements.\n\n125\n00:06:29.035 --> 00:06:34.731\nAnd I'm gonna call this saveButton\ndocument.querySelector and\n\n126\n00:06:34.731 --> 00:06:39.065\nsave-button, like so, all right?\n\n127\n00:06:39.065 --> 00:06:40.535\nNow, this is an event.\n\n128\n00:06:40.535 --> 00:06:43.075\nI have that button.\n\n129\n00:06:43.075 --> 00:06:47.720\nWhen I click this saveButton,\nthat's when I want to run this, all right?\n\n130\n00:06:47.720 --> 00:06:52.800\nI'm not gonna do a whole lot at this\nmoment, because I need to make sure that,\n\n131\n00:06:52.800 --> 00:06:54.520\nnumber one, I don't have any typos here.\n\n132\n00:06:54.520 --> 00:06:57.030\nThese are really prone to typos.\n\n133\n00:06:57.030 --> 00:07:02.980\nBut number two, I want to incrementally\njust grab the individual pieces, okay?\n\n134\n00:07:02.980 --> 00:07:07.220\nSo I'm gonna come down here at\nthe bottom of, you know what?\n\n135\n00:07:07.220 --> 00:07:08.880\nAnd I was just seeing something.\n\n136\n00:07:08.880 --> 00:07:15.235\nThis should actually be this,\nand this should actually be this.\n\n137\n00:07:15.235 --> 00:07:18.193\nThat's some weirdness there.\n\n138\n00:07:18.193 --> 00:07:23.000\nAnd why- I got lucky on that.\n\n139\n00:07:23.000 --> 00:07:27.570\nThat's one of those things where that\nwould have kind of come back to bite me\n\n140\n00:07:27.570 --> 00:07:28.450\nlater on.\n\n141\n00:07:28.450 --> 00:07:30.780\nBut it was working in this case.\n\n142\n00:07:30.780 --> 00:07:33.894\nSo keep that in mind.\n\n143\n00:07:33.894 --> 00:07:38.669\nNow, running below this one, I'm gonna say\n\n144\n00:07:38.669 --> 00:07:44.208\nthis.saveButton.addEventListener for\nclick.\n\n145\n00:07:44.208 --> 00:07:46.890\nAnd I'm gonna take the Event like so.\n\n146\n00:07:48.927 --> 00:07:52.712\nAnd let's see here,\n\n147\n00:07:52.712 --> 00:07:58.397\nlet's say console.log here.\n\n148\n00:07:58.397 --> 00:08:02.414\nLet's just make sure that that\nclick is working as we anticipated.\n\n149\n00:08:02.414 --> 00:08:03.663\nSo I click save.\n\n150\n00:08:03.663 --> 00:08:04.846\nSave, save, save.\n\n151\n00:08:04.846 --> 00:08:06.728\nThen, here, is actually working.\n\n152\n00:08:06.728 --> 00:08:09.460\nLet's make sure that we can still draw.\n\n153\n00:08:09.460 --> 00:08:09.960\nWe can.\n\n154\n00:08:09.960 --> 00:08:13.670\nBecause we had to change a couple\nof those whoops-a-daisies we had.\n\n155\n00:08:13.670 --> 00:08:15.780\nLet's make sure this gets bigger.\n\n156\n00:08:15.780 --> 00:08:17.510\nAnd it does.\n\n157\n00:08:17.510 --> 00:08:21.049\nAnd let's make sure that\nthe color still changes.\n\n158\n00:08:22.380 --> 00:08:23.240\nAnd it does.\n\n159\n00:08:23.240 --> 00:08:27.200\nNow you may be asking yourself\nwhy did he check that?\n\n160\n00:08:27.200 --> 00:08:29.040\nHe just added another event listener.\n\n161\n00:08:29.040 --> 00:08:32.700\nWell, I actually just came here\nto mouse up and mouse down, or\n\n162\n00:08:32.700 --> 00:08:38.240\nmouse move and change to this dot canvas.\n\n163\n00:08:38.240 --> 00:08:41.690\nBecause, it should've\nbeen this dot canvas, and\n\n164\n00:08:41.690 --> 00:08:44.808\nactually this dot canvas right here.\n\n165\n00:08:44.808 --> 00:08:49.660\nOkay, now [COUGH] Part of\nthat is some craziness with\n\n166\n00:08:49.660 --> 00:08:54.800\nwell Canvas I'm gonna look that up and\nit should be available, it's all good.\n\n167\n00:08:54.800 --> 00:08:56.160\nBut I want to stay consistent.\n\n168\n00:08:58.560 --> 00:09:00.580\nSo we get that all squared away.\n\n169\n00:09:00.580 --> 00:09:03.260\nAnd then what needs to happen initially?\n\n170\n00:09:03.260 --> 00:09:07.933\nI'm thinking ask the user for\nthe file name.\n\n171\n00:09:09.640 --> 00:09:16.221\nGrab the canvas element\nlike graphic information\n\n172\n00:09:18.536 --> 00:09:21.912\nInformation and so.\n\n173\n00:09:21.912 --> 00:09:22.991\nAnd then.\n\n174\n00:09:24.400 --> 00:09:30.770\nHow does one save or\nhow about download the image?\n\n175\n00:09:30.770 --> 00:09:33.360\nNow that's very simplistic three steps.\n\n176\n00:09:33.360 --> 00:09:38.570\nThe first two are actually a lot\neasier than the last part.\n\n177\n00:09:38.570 --> 00:09:42.980\nBut, the download, so that may take\na little bit more to get to have them.\n\n178\n00:09:42.980 --> 00:09:45.370\nBut let's ask the user for a filename.\n\n179\n00:09:45.370 --> 00:09:48.420\nSo I'm gonna say filename.\n\n180\n00:09:48.420 --> 00:09:50.940\nAnd this should be window.prompt(\"What do\n\n181\n00:09:52.440 --> 00:09:57.230\nyou want to call your file?\").\n\n182\n00:09:57.230 --> 00:10:03.226\nWhat do you want to name the image?\n\n183\n00:10:07.439 --> 00:10:10.450\nAll right,\nnow I'm just gonna console.log and\n\n184\n00:10:10.450 --> 00:10:14.360\nmake sure that the file\nname is what I anticipate.\n\n185\n00:10:14.360 --> 00:10:17.820\nAll right, so if I refresh, click Save and\n\n186\n00:10:17.820 --> 00:10:22.240\nI'm thinking blank cuz\nright now it's blank.\n\n187\n00:10:22.240 --> 00:10:24.570\nJust to show you what I typed in there.\n\n188\n00:10:24.570 --> 00:10:29.630\nI just type the word blink and hit okay\nand notice I get a string blank back.\n\n189\n00:10:29.630 --> 00:10:32.980\nSo whatever I type in that\nlittle prompt dialogue box\n\n190\n00:10:32.980 --> 00:10:35.760\nis exactly what I'm gonna get back.\n\n191\n00:10:35.760 --> 00:10:37.010\nAll right so that works.\n\n192\n00:10:37.010 --> 00:10:38.970\nBut there is one thing that I need to do.\n\n193\n00:10:38.970 --> 00:10:44.820\nI don't think I'm gonna be\nable to have this as a const,\n\n194\n00:10:44.820 --> 00:10:47.050\ncuz I need to modify this\nbecause I needed to do a check.\n\n195\n00:10:47.050 --> 00:10:51.831\nI needed to say filename = and\n\n196\n00:10:51.831 --> 00:10:56.810\nthen does filename.endswith\n\n197\n00:10:59.807 --> 00:11:03.124\nWith .png.\n\n198\n00:11:03.124 --> 00:11:08.600\nSo I'm making a decision that\nwe are having PNG's always.\n\n199\n00:11:12.940 --> 00:11:19.505\nIf it does, then just stay with\nthe file name, otherwise filename\n\n200\n00:11:19.505 --> 00:11:25.540\nplus .PNG just to pin that onto it.\n\n201\n00:11:25.540 --> 00:11:30.630\nAnd now let's add that console.log\nof filename back in there.\n\n202\n00:11:30.630 --> 00:11:32.770\nSo if I come back, and I click Save.\n\n203\n00:11:32.770 --> 00:11:37.350\nAnd I say blank, blank.png, okay.\n\n204\n00:11:37.350 --> 00:11:44.005\nBut what if I just say blank.png?\n\n205\n00:11:44.005 --> 00:11:46.639\nIt's still blank.png\nbecause that doesn't alter.\n\n206\n00:11:46.639 --> 00:11:49.140\nNow here's the tricky part.\n\n207\n00:11:49.140 --> 00:11:51.190\nAnd I'm gonna let you know about this.\n\n208\n00:11:51.190 --> 00:11:53.990\nI'm not gonna go crazy deep\ninto arrow handling here.\n\n209\n00:11:53.990 --> 00:11:59.093\nBut if I say blank.jpg, Then\n\n210\n00:11:59.093 --> 00:12:05.285\nthe code that I have written\nwill actually say blank.jpg.png.\n\n211\n00:12:05.285 --> 00:12:09.740\nThis jpg will not actually be\na representation of the file type.\n\n212\n00:12:09.740 --> 00:12:15.890\nIn order to do that,\nI'm saying we're going with png's always,\n\n213\n00:12:15.890 --> 00:12:21.420\nin order to do that then I would\nhave to do a lot more checks.\n\n214\n00:12:21.420 --> 00:12:26.870\nI would have to say okay if it doesn't\nend with png then I need to make\n\n215\n00:12:26.870 --> 00:12:31.820\nsure that it doesn't end with something\nelse or I could read the file type.\n\n216\n00:12:31.820 --> 00:12:34.910\nBecause by default,\nthe browser has the ability to format\n\n217\n00:12:35.940 --> 00:12:40.010\nthe canvas as an image of JPG or PNG.\n\n218\n00:12:40.010 --> 00:12:42.900\nYou do not get GIFs or GIFs there,\n\n219\n00:12:42.900 --> 00:12:47.460\nI don't know, whichever way\nyou decide to pronounce that.\n\n220\n00:12:47.460 --> 00:12:49.460\n&gt;&gt; In fact,\nthat's been a question on my mind.\n\n221\n00:12:49.460 --> 00:12:51.040\nIs it gifs or is it jifs?\n\n222\n00:12:51.040 --> 00:12:52.128\n&gt;&gt; I actually say GIF.\n\n223\n00:12:52.128 --> 00:12:55.668\nBecause it's G-I-F and then like gift.\n\n224\n00:12:55.668 --> 00:12:56.257\n&gt;&gt; Yeah.\n\n225\n00:12:56.257 --> 00:12:57.470\n&gt;&gt; G-I-F-T.\n\n226\n00:12:57.470 --> 00:13:01.780\nSo I call it gif but I've seen\npeople who are like nah, it's jif.\n\n227\n00:13:01.780 --> 00:13:03.621\nI'm like but it's not, that's not a J.\n\n228\n00:13:03.621 --> 00:13:05.229\n&gt;&gt; Jif's the name of a peanut butter.\n\n229\n00:13:05.229 --> 00:13:06.273\n&gt;&gt; Yeah.\nWho knows.\n\n230\n00:13:06.273 --> 00:13:09.973\n&gt;&gt; [LAUGH]\n&gt;&gt; So, regardless of how you pronounce it.\n\n231\n00:13:09.973 --> 00:13:10.858\n&gt;&gt; I like gif.\n\n232\n00:13:10.858 --> 00:13:15.040\n&gt;&gt; I like gif because it's\nalmost a gift but not quite.\n\n233\n00:13:16.610 --> 00:13:20.332\nRegardless of whether you want the gif or\njif,\n\n234\n00:13:20.332 --> 00:13:24.730\nthe browser by default\ndoesn't have that available.\n\n235\n00:13:24.730 --> 00:13:27.680\nNow there are third party\nlibraries that you can pull in and\n\n236\n00:13:27.680 --> 00:13:33.360\nthe reason being that a GIF actually\nhas a binary header that has to,\n\n237\n00:13:33.360 --> 00:13:35.350\nthe file format is not supported natively.\n\n238\n00:13:35.350 --> 00:13:37.660\nNow the browser,\nthere are some JavaScript libraries.\n\n239\n00:13:37.660 --> 00:13:39.620\nThat will write those out.\n\n240\n00:13:39.620 --> 00:13:44.656\nI wanna keep this pretty straight\nforward so no gifts for us.\n\n241\n00:13:44.656 --> 00:13:50.640\nAlso making animated GIFs is doable\nwith those set of party libraries but\n\n242\n00:13:50.640 --> 00:13:54.480\nnow you need a multitude of images,\nand we would come back to those.\n\n243\n00:13:54.480 --> 00:13:56.460\nSo, PNGs or JPGs and\n\n244\n00:13:56.460 --> 00:14:00.880\nI made the decision that we are gonna\ngo PNGs, and the reason being is I get\n\n245\n00:14:00.880 --> 00:14:04.420\na transfer background JPGs by default if\nthere is no background it makes what?\n\n246\n00:14:04.420 --> 00:14:08.310\nWhat if I were to use this as an icon for\nsomething?\n\n247\n00:14:08.310 --> 00:14:13.850\nI'm not gonna be able to do that so,\nI'm gonna go PNG, and\n\n248\n00:14:14.880 --> 00:14:19.900\nkind of all floated to the user cuz I'm\ntypically gonna be the user of this.\n\n249\n00:14:19.900 --> 00:14:24.688\nTo be the one to make sure you\ndon't edit with .jpg or .gif.\n\n250\n00:14:24.688 --> 00:14:30.700\nBut even if you do, I'm still going to\nappend .png and make it a PNG type.\n\n251\n00:14:30.700 --> 00:14:33.540\nSo hopefully that'll\ncome across effectively.\n\n252\n00:14:33.540 --> 00:14:36.660\nSo there's the file name, okay?\n\n253\n00:14:36.660 --> 00:14:40.643\nAnd now, we need to grab the Canvas\nelement graphic information.\n\n254\n00:14:40.643 --> 00:14:46.770\nAll right, [SOUND] That is a lot.\n\n255\n00:14:46.770 --> 00:14:49.620\nSo how about we just call this data.\n\n256\n00:14:49.620 --> 00:14:55.110\nAnd we say this.canvas.to Data URL\n\n257\n00:14:55.110 --> 00:14:59.520\nand image,\nI think it's PNG is how it behaves.\n\n258\n00:14:59.520 --> 00:15:01.140\nSo what am I doing here?\n\n259\n00:15:01.140 --> 00:15:04.220\nI'm saying, at this moment,\nthis button is clicked.\n\n260\n00:15:06.280 --> 00:15:09.030\nI wanna grab the canvas called\n\n261\n00:15:09.030 --> 00:15:13.180\n230 URL which is a base 64\nencoded version of the image.\n\n262\n00:15:14.180 --> 00:15:15.640\nTo date a URL.\n\n263\n00:15:15.640 --> 00:15:18.390\nOr the image png type.\n\n264\n00:15:18.390 --> 00:15:19.490\nAll right?\n\n265\n00:15:19.490 --> 00:15:22.480\nSo we'll encode it as a png\nimage given the data URL.\n\n266\n00:15:23.810 --> 00:15:25.220\nStill kind of high level.\n\n267\n00:15:25.220 --> 00:15:26.870\nLet's see if I have the syntax right.\n\n268\n00:15:26.870 --> 00:15:29.650\nEvery once in a while I mess this up and\nI have to go look it up.\n\n269\n00:15:29.650 --> 00:15:32.720\nBut let's just console.log,\nand get that out there.\n\n270\n00:15:32.720 --> 00:15:37.560\nAnd if we save, let me say blank,\nand we hit okay.\n\n271\n00:15:37.560 --> 00:15:41.385\nNotice that I get this\ngiant string where it says,\n\n272\n00:15:41.385 --> 00:15:45.610\ndata:image/png;base64, and\nthen a bunch of stuff.\n\n273\n00:15:49.470 --> 00:15:50.239\n&gt;&gt; A bunch of stuff.\n\n274\n00:15:50.239 --> 00:15:52.327\n&gt;&gt; A bunch of stuff.\nNow, this is a base64, so\n\n275\n00:15:52.327 --> 00:15:55.635\nI have a bunch of characters\nthat represent numbers.\n\n276\n00:15:55.635 --> 00:15:57.178\n0 through 9.\n\n277\n00:15:57.178 --> 00:15:58.941\nSo 0 through 9 is 10.\n\n278\n00:15:58.941 --> 00:16:02.680\nI have 54 other characters.\n\n279\n00:16:02.680 --> 00:16:06.314\nSo I need all lowercase, all uppercase,\nand then something else,\n\n280\n00:16:06.314 --> 00:16:08.710\nprobably this slash or whatever.\n\n281\n00:16:08.710 --> 00:16:14.320\nNow, if I were to put this as an image,\nlike in an image tag, this will render.\n\n282\n00:16:14.320 --> 00:16:17.287\nIt knows how to decode these and\nrender the image itself.\n\n283\n00:16:18.573 --> 00:16:22.880\nI just need a strong representation,\nbecause now in order to download,\n\n284\n00:16:25.437 --> 00:16:33.422\nI now need to set this image data as\nthe source of an image that I've created.\n\n285\n00:16:33.422 --> 00:16:37.180\nSet a download attribute\nwhich is fairly new.\n\n286\n00:16:37.180 --> 00:16:40.801\nI'm gonna use kind a newer feature\nsince we're using newer features for\n\n287\n00:16:40.801 --> 00:16:41.820\nHTML5 and Canvas.\n\n288\n00:16:41.820 --> 00:16:45.456\nNow, HTML and Canvass has probably\n\n289\n00:16:45.456 --> 00:16:49.790\nbeen around maybe a little bit longer\nthan download don't quote me on that.\n\n290\n00:16:49.790 --> 00:16:53.723\nBut what I mean is an image tag that\nwould render the image normally can have\n\n291\n00:16:53.723 --> 00:16:54.813\ndownload portion.\n\n292\n00:16:54.813 --> 00:16:55.666\nAnd if it does,\n\n293\n00:16:55.666 --> 00:17:00.274\nthen we'll actually just download the\nresulting image to your local file system.\n\n294\n00:17:00.274 --> 00:17:04.391\nI would have to go look at the Mozilla\nDeveloper Network documentation to decide\n\n295\n00:17:04.391 --> 00:17:06.870\nwhich one's been around longer?\n\n296\n00:17:06.870 --> 00:17:09.614\nBut just keep in mind, Firefox, Chrome.\n\n297\n00:17:09.614 --> 00:17:13.147\nAnd if you ever wonder about these things,\n\n298\n00:17:13.147 --> 00:17:17.870\nif I go to caniuse.com, and\nwe might get it to load here.\n\n299\n00:17:17.870 --> 00:17:19.920\nWait for it, wait for it.\n\n300\n00:17:19.920 --> 00:17:24.969\nAnd while we're doing that, we'll say\n\n301\n00:17:24.969 --> 00:17:31.020\nMozilla Developer Network image download.\n\n302\n00:17:31.020 --> 00:17:32.440\nActually, let's just go img.\n\n303\n00:17:33.560 --> 00:17:38.527\nSo if we go to img, here's our img tag.\n\n304\n00:17:38.527 --> 00:17:45.230\nAnd if we come down here and\nwe look, wait for it, wait for it.\n\n305\n00:17:47.883 --> 00:17:54.900\nWell look at that, As of recent times,\nthis is fairly new.\n\n306\n00:17:54.900 --> 00:17:58.770\nHTML standard doesn't give a list of\nimage formats that must be supported,\n\n307\n00:17:58.770 --> 00:18:01.890\nbut, sorry, we're in the image tag.\n\n308\n00:18:01.890 --> 00:18:04.775\nSorry, not in the two URL.\n\n309\n00:18:04.775 --> 00:18:06.576\nThe image tag does have a bunch of these.\n\n310\n00:18:06.576 --> 00:18:10.257\nSo if I go and I look for download,\n\n311\n00:18:10.257 --> 00:18:15.550\nthe download property, it's not here.\n\n312\n00:18:15.550 --> 00:18:18.819\nAll right, well, that's fine,\nwe can probably go perusing the browser.\n\n313\n00:18:20.391 --> 00:18:24.980\nBut you notice if it's not here,\nhow do I even know about it?\n\n314\n00:18:24.980 --> 00:18:28.570\nNow that's through additional research,\nright?\n\n315\n00:18:28.570 --> 00:18:30.814\nHow does this work?\n\n316\n00:18:30.814 --> 00:18:32.940\nLook, I gotcha.\n\n317\n00:18:32.940 --> 00:18:39.129\nThe image tag has a download attribute and\nthen I guess if I can say image download,\n\n318\n00:18:41.272 --> 00:18:45.687\nLet's go to img, right.\n\n319\n00:18:45.687 --> 00:18:47.360\nSVG, CSS,\n\n320\n00:18:47.360 --> 00:18:52.820\nsource hitting size attributes, can I use\nwill give you an idea of what browser?\n\n321\n00:18:52.820 --> 00:18:56.711\nSo for instance,\nthe ones in green account for\n\n322\n00:18:56.711 --> 00:19:01.400\n86% of global browsers\nbased on kind of a sample.\n\n323\n00:19:02.543 --> 00:19:06.456\nThat means that if I wanna use\nsource set and size attributes, and\n\n324\n00:19:06.456 --> 00:19:10.299\nI'm not entirely sure what those are,\nto be perfectly honest,\n\n325\n00:19:10.299 --> 00:19:13.802\nbut I would probably be all\nright about 87% of the time.\n\n326\n00:19:13.802 --> 00:19:17.803\nBut if I come down here and look,\nhas CSS relational pseudo class,\n\n327\n00:19:17.803 --> 00:19:21.190\nwhich is an unofficial,\nthat is 0% of browsers.\n\n328\n00:19:21.190 --> 00:19:22.470\nThat means if you use it and it works for\n\n329\n00:19:22.470 --> 00:19:25.450\nyou, it's a high likelihood that it's\nnot gonna work for other people.\n\n330\n00:19:25.450 --> 00:19:30.190\nSo I would make use of like can\nI use to find these things.\n\n331\n00:19:30.190 --> 00:19:33.615\nNow, [COUGH] it's not\nthe Mozilla developer\n\n332\n00:19:33.615 --> 00:19:36.934\ndocumentation that download attribute.\n\n333\n00:19:36.934 --> 00:19:38.670\nHow could I figure that now?\n\n334\n00:19:38.670 --> 00:19:43.460\nLet's go a ahead and create an image,\nAnd then to say image.\n\n335\n00:19:44.780 --> 00:19:47.590\nSee, that's an image tag, right?\n\n336\n00:19:47.590 --> 00:19:52.073\nLet's say image download,\n\n337\n00:19:58.084 --> 00:20:04.595\n=, and then this usually the file name.\n\n338\n00:20:04.595 --> 00:20:09.025\nSo let me do console.dir,\nOf image like so, and\n\n339\n00:20:09.025 --> 00:20:12.045\nthat way I get an actual\nlist of properties.\n\n340\n00:20:14.316 --> 00:20:19.220\nIt's not even really listed here,\nbut it's an implementation.\n\n341\n00:20:19.220 --> 00:20:22.910\nIt's a relatively new thing, which is if\nthis image has this download attribute,\n\n342\n00:20:22.910 --> 00:20:25.080\nit will download to the local file system.\n\n343\n00:20:26.529 --> 00:20:31.139\nAll right, so if no other reason,\nI'm telling you this should work,\n\n344\n00:20:31.139 --> 00:20:34.512\nwe're about to find out if\nmaybe I'm a liar or not.\n\n345\n00:20:35.853 --> 00:20:42.140\nSo the data here, I now need to download\nthe image, how do I download the image?\n\n346\n00:20:43.350 --> 00:20:46.743\nAll right,\nsp I'm gonna create an image, and\n\n347\n00:20:46.743 --> 00:20:51.994\nthat's gonna be a new image, Like so.\n\n348\n00:20:51.994 --> 00:20:56.891\nAnd, then I wanna say image.src = data,\n\n349\n00:20:56.891 --> 00:21:05.170\nbecause I'm setting that base 64\ndata as the source of the image.\n\n350\n00:21:05.170 --> 00:21:09.823\nAnd just to show you that it does work,\nlet's see here,\n\n351\n00:21:09.823 --> 00:21:13.784\nI'm just gonna say document.body.append,\n\n352\n00:21:13.784 --> 00:21:18.770\ndocument.body.appendChild image, like so.\n\n353\n00:21:18.770 --> 00:21:21.768\nAll right now,\nthere's some asynchronicity here,\n\n354\n00:21:21.768 --> 00:21:24.842\nwe might get some weirdness but\nit should be all right.\n\n355\n00:21:24.842 --> 00:21:29.614\nLet's just actually draw\nsomething on here, click save, and\n\n356\n00:21:29.614 --> 00:21:35.050\nlet's just call it cheese or\nsomething like that, and there it is.\n\n357\n00:21:35.050 --> 00:21:36.480\nIt actually appended it down below.\n\n358\n00:21:36.480 --> 00:21:38.912\nNow notice that it does not\nhave a white background.\n\n359\n00:21:38.912 --> 00:21:41.730\nAnd that's because I am using a PNG,\nit has a transparent background.\n\n360\n00:21:42.982 --> 00:21:47.449\nIf I wanted a white background, I would\nneed to paint the entire canvas white, and\n\n361\n00:21:47.449 --> 00:21:49.260\nthen repaint.\n\n362\n00:21:49.260 --> 00:21:55.533\nOr I could exchange the data type\nto jpg and to show you that,\n\n363\n00:21:55.533 --> 00:22:00.690\njpg like so, refresh,\nmake a swipe, hit save.\n\n364\n00:22:00.690 --> 00:22:03.630\nAnd then if I came down here, there it is.\n\n365\n00:22:03.630 --> 00:22:07.650\nActually, jpg I never actually\npainted the background with anything.\n\n366\n00:22:09.157 --> 00:22:10.350\nDid I change?\n\n367\n00:22:11.820 --> 00:22:15.950\nIt is still doing some weirdness\nbecause that png's there.\n\n368\n00:22:15.950 --> 00:22:18.990\n&gt;&gt; Justin is it time for\nlive action debugging?\n\n369\n00:22:18.990 --> 00:22:21.880\n&gt;&gt; I think we're gonna leave it be,\nbecause I would have to go back and\n\n370\n00:22:21.880 --> 00:22:24.430\nchange how I'm actually\ncreating the canvas.\n\n371\n00:22:24.430 --> 00:22:28.770\nWhat I'd have to do is grab all the canvas\ndata, create another canvas like a buffer.\n\n372\n00:22:28.770 --> 00:22:33.180\nPaint that as a background, and\nthen paint over the top of it.\n\n373\n00:22:33.180 --> 00:22:39.357\nAnd to be honest with you,\nI think this is rendering and\n\n374\n00:22:39.357 --> 00:22:43.840\ndoing some weirdness because I\nhave this file name as a .png, so\n\n375\n00:22:43.840 --> 00:22:46.260\nthey might be some clashes there.\n\n376\n00:22:47.941 --> 00:22:50.105\nJPGs for the most part, as far as I know,\n\n377\n00:22:50.105 --> 00:22:53.190\nshould never have\na transparent background.\n\n378\n00:22:53.190 --> 00:22:54.910\nBut what's happening here is,\n\n379\n00:22:54.910 --> 00:23:00.586\nI think the .png is doing some\noverride as the data type.\n\n380\n00:23:00.586 --> 00:23:02.218\nSo there you go.\n\n381\n00:23:02.218 --> 00:23:09.020\nSo png, and then instead of appending,\nwhat do we wanna do?\n\n382\n00:23:09.020 --> 00:23:14.450\nWe wanna say image.download, And\nthat should be the filename.\n\n383\n00:23:14.450 --> 00:23:18.140\nSo I'm gonna set that download\nattribute to the filename of the image.\n\n384\n00:23:18.140 --> 00:23:23.389\nAnd then, I want to say image.click.\n\n385\n00:23:23.389 --> 00:23:28.474\nActually, image, yeah, image.click.\n\n386\n00:23:28.474 --> 00:23:31.367\nNow that is going to simulate\nme clicking on an image, but\n\n387\n00:23:31.367 --> 00:23:32.890\nit doesn't actually exist.\n\n388\n00:23:32.890 --> 00:23:36.280\nI'm not putting it on the page,\nit just resides in memory.\n\n389\n00:23:36.280 --> 00:23:39.020\nNow Zach, we're gonna have to cross our\nfingers because if I've done everything\n\n390\n00:23:39.020 --> 00:23:41.570\ncorrectly, and I'm not saying I have.\n\n391\n00:23:41.570 --> 00:23:45.125\nBecause I just found some errors at the\nbeginning of this episode that I kind of\n\n392\n00:23:45.125 --> 00:23:46.009\nhave persisting.\n\n393\n00:23:46.009 --> 00:23:47.806\nIf I've done everything correctly,\n\n394\n00:23:47.806 --> 00:23:51.746\nthen this should download the image when I\nclick that save button and give it a name.\n\n395\n00:23:51.746 --> 00:23:52.500\n&gt;&gt; I believe in you, Justin.\n\n396\n00:23:52.500 --> 00:23:54.333\n&gt;&gt; All right, so let's refresh.\n\n397\n00:23:54.333 --> 00:23:59.554\nCome over here,\njust to make sure we got some goodness.\n\n398\n00:23:59.554 --> 00:24:05.478\nAll right, so we close that out,\nMake a couple of slides and\n\n399\n00:24:05.478 --> 00:24:11.179\nwe'll go with your name mosquito goggles,\nthere we go.\n\n400\n00:24:11.179 --> 00:24:17.245\nSo, there's mosquito goggles and\nthen I hit OK and\n\n401\n00:24:17.245 --> 00:24:23.680\nI've messed something up,\nwhat have I done?\n\n402\n00:24:23.680 --> 00:24:24.510\nLet's see here.\n\n403\n00:24:26.470 --> 00:24:30.930\nActually I'm not entirely sure\nif I can immediately click\n\n404\n00:24:30.930 --> 00:24:35.670\nbecause Let's test something out here.\n\n405\n00:24:35.670 --> 00:24:37.777\nNow we're into live action debugging.\n\n406\n00:24:37.777 --> 00:24:38.936\n&gt;&gt; Yay.\n&gt;&gt; Zach loves it.\n\n407\n00:24:38.936 --> 00:24:42.355\n[LAUGH] It's not necessarily so\nmuch fun for me.\n\n408\n00:24:42.355 --> 00:24:44.400\n&gt;&gt; He might not like it,\nI think it's enjoyable.\n\n409\n00:24:44.400 --> 00:24:46.455\n[LAUGH] They are teachable moments, right?\n\n410\n00:24:46.455 --> 00:24:48.925\n&gt;&gt; That they are, so if I a pin child,\n\n411\n00:24:48.925 --> 00:24:54.240\nI should be able to click on that image\nlike it's appended at the bottom and\n\n412\n00:24:54.240 --> 00:24:59.040\nactually download that, but\nI'm missing something here.\n\n413\n00:24:59.040 --> 00:25:01.750\nOkay, so if I come over here and I look.\n\n414\n00:25:04.421 --> 00:25:10.920\nImage, it is not setting that download\nattribute, which is interesting.\n\n415\n00:25:12.120 --> 00:25:15.200\nSo Justin, the downloaded attribute\nis not being set on the image.\n\n416\n00:25:15.200 --> 00:25:16.900\nSo, what does that tell us?\n\n417\n00:25:16.900 --> 00:25:19.920\n&gt;&gt; Well, I think that's telling us\nthat I might have made a boo boo and\n\n418\n00:25:19.920 --> 00:25:24.360\nthere were some hints there that I\nwas like, no I got this, I got this.\n\n419\n00:25:24.360 --> 00:25:26.225\nIt's called a false sense of security,\nright?\n\n420\n00:25:26.225 --> 00:25:28.870\n&gt;&gt; [LAUGH]\n&gt;&gt; I think I know what's going on now.\n\n421\n00:25:28.870 --> 00:25:33.040\nI think we are downloading an image, but\n\n422\n00:25:33.040 --> 00:25:37.700\nthe click download portion is not\nusually associated with an image tag.\n\n423\n00:25:37.700 --> 00:25:41.360\nIf I click an image,\nit opens into another browser.\n\n424\n00:25:41.360 --> 00:25:45.809\nI think that downloaded attribute, and\nwe are going to try to double check,\n\n425\n00:25:45.809 --> 00:25:49.390\nis actually a link,\na hyperlink, an anchor tag.\n\n426\n00:25:49.390 --> 00:25:53.440\nAll right, so okay,\nlet's do a couple of things here.\n\n427\n00:25:53.440 --> 00:25:55.052\nIf we come back into my screen,\n\n428\n00:25:55.052 --> 00:25:58.524\nlet's go look at the anchor tag cuz\nI was like, [SOUND] it's weird,\n\n429\n00:25:58.524 --> 00:26:02.565\nand previous times the download attribute\nis not available on the image tag.\n\n430\n00:26:02.565 --> 00:26:05.715\nAnd we didn't even see it in\nthe console and I was like, no,\n\n431\n00:26:05.715 --> 00:26:07.850\nI'm pretty sure I'm right.\n\n432\n00:26:07.850 --> 00:26:11.390\nAlways be careful about those\nfalse sense of security.\n\n433\n00:26:12.900 --> 00:26:17.950\nLet's actually change this to\nan anchor tag and all I did was this,\n\n434\n00:26:17.950 --> 00:26:21.960\nthese URLs in Mozilla are based\non the HTML element tag.\n\n435\n00:26:21.960 --> 00:26:27.540\nSo just change that to an a because\nthat stands for anchor.\n\n436\n00:26:27.540 --> 00:26:29.110\nIf I scroll down here, haha!\n\n437\n00:26:29.110 --> 00:26:30.480\nYou know what's that?\n\n438\n00:26:32.190 --> 00:26:34.800\nThat small little question\nkinda get them in.\n\n439\n00:26:34.800 --> 00:26:37.148\nI was like [SOUND], look at that.\n\n440\n00:26:37.148 --> 00:26:41.112\nThe attribute instructs the browser to\ndownload the URLs that are navigating to\n\n441\n00:26:41.112 --> 00:26:44.510\nthis so the user will be prompted to\nsave it to the local file system.\n\n442\n00:26:44.510 --> 00:26:46.570\nI am silly, I am silly.\n\n443\n00:26:46.570 --> 00:26:50.630\nSo, what I've done here is, I made\nthe assumption that it's an image that\n\n444\n00:26:50.630 --> 00:26:54.913\nI'm downloading so\nI must be using an image tag.\n\n445\n00:26:54.913 --> 00:27:01.130\nNo, in order to download, I actually need\nto use a link tag and I think it's good\n\n446\n00:27:01.130 --> 00:27:06.410\nto see these things because sometimes you\nmake a false assumption, and you're wrong.\n\n447\n00:27:06.410 --> 00:27:09.000\n&gt;&gt; So nobody-\n&gt;&gt; Let's go fix it and\n\n448\n00:27:09.000 --> 00:27:10.110\nhow am I going to fix it?\n\n449\n00:27:10.110 --> 00:27:12.524\nWell first off,\nwe're going to get rid of that.\n\n450\n00:27:12.524 --> 00:27:16.002\n[LAUGH] And\nwe're going to get rid of this and\n\n451\n00:27:16.002 --> 00:27:19.673\nI'm thinking we'll say const link equals,\n\n452\n00:27:19.673 --> 00:27:24.230\nnow we do have to do something\na little bit differently.\n\n453\n00:27:24.230 --> 00:27:29.109\nI can't just say new link, well I am\nunaware of being able to say new links, so\n\n454\n00:27:29.109 --> 00:27:32.130\nI'm gonna create an element called a,\nright?\n\n455\n00:27:32.130 --> 00:27:39.590\nCreate element a, just anchor tag and\nsay link.rhef=data.\n\n456\n00:27:39.590 --> 00:27:43.740\nWhich is a replacement to\nthis image portion, and\n\n457\n00:27:43.740 --> 00:27:48.350\nthen I'm going to say link dot\ndownload equals file name, all right?\n\n458\n00:27:48.350 --> 00:27:49.740\nSo I had to,\n\n459\n00:27:49.740 --> 00:27:55.560\nmy general thoughts were correct other\nthan that I had the wrong element type and\n\n460\n00:27:55.560 --> 00:28:01.770\nnow I should be able to\nsay link.click like so.\n\n461\n00:28:01.770 --> 00:28:06.650\nAll right, so if I link.click like so\nand I refresh.\n\n462\n00:28:06.650 --> 00:28:07.710\nNow we should be good to go.\n\n463\n00:28:07.710 --> 00:28:12.240\nI'm gonna close this out, just so\nwe can keep things, nice and.\n\n464\n00:28:12.240 --> 00:28:14.490\nLet's see here,\nbring this up to full color.\n\n465\n00:28:14.490 --> 00:28:21.124\nLet's make it, there we go and\nso we save and mosquito goggles.\n\n466\n00:28:26.339 --> 00:28:30.190\nLike so, and now I actually have,\nI misspelled mosquito.\n\n467\n00:28:30.190 --> 00:28:32.445\nOkay, so those of you who are looking.\n\n468\n00:28:32.445 --> 00:28:33.486\n&gt;&gt; [LAUGH]\n&gt;&gt; I put mosquitgo.\n\n469\n00:28:33.486 --> 00:28:35.220\n[LAUGH]\n&gt;&gt; I was wondering.\n\n470\n00:28:35.220 --> 00:28:36.730\nThat's not the easiest word to spell.\n\n471\n00:28:36.730 --> 00:28:37.710\n&gt;&gt; Mosquit goggles.\n\n472\n00:28:37.710 --> 00:28:38.280\n&gt;&gt; That's good.\n\n473\n00:28:38.280 --> 00:28:44.140\n&gt;&gt; I do have a download of a PNG, now the\nreal test is so it actually opens locally.\n\n474\n00:28:44.140 --> 00:28:47.930\nSo if I click it, it opens and\nyou're kind of wondering,\n\n475\n00:28:47.930 --> 00:28:52.240\nwell that's kind of hard to see and that's\nbecause I have a transparent background.\n\n476\n00:28:52.240 --> 00:28:53.740\nNow if I go to place this on a page or\n\n477\n00:28:53.740 --> 00:28:57.100\nplace it over top of something\nthe transparent background won't be there.\n\n478\n00:28:57.100 --> 00:28:59.120\nHow could you, how could one fix this?\n\n479\n00:29:00.580 --> 00:29:04.380\nWell, you can come back and change how\nour application works and actually paint\n\n480\n00:29:04.380 --> 00:29:09.684\na white background, instead of just seeing\nthe white that we have here, right?\n\n481\n00:29:09.684 --> 00:29:12.650\nAll right, so if I or\n\n482\n00:29:12.650 --> 00:29:17.350\na lot of times if I go to print and\nnotice print.\n\n483\n00:29:17.350 --> 00:29:21.200\nI have black and white printer so\nit doesn't really matter about the colors.\n\n484\n00:29:21.200 --> 00:29:25.550\nNotice even transparent it's\ngonna be printing on white paper.\n\n485\n00:29:25.550 --> 00:29:27.970\nSo, if were to print this and\nI had a color printer,\n\n486\n00:29:27.970 --> 00:29:29.080\nit would print those colors but\n\n487\n00:29:29.080 --> 00:29:32.600\nbecause it's on a white paper, I'm just\nnot getting a background with an edge.\n\n488\n00:29:32.600 --> 00:29:37.430\nBut that's how we save an image and it was\nfairly straightforward but, just a nice\n\n489\n00:29:37.430 --> 00:29:43.050\nlittle different take on, when I click\nsave, I actually get the ability\n\n490\n00:29:43.050 --> 00:29:46.625\nto name the image instead of just giving\nit a random name like I have in the past.\n\n491\n00:29:46.625 --> 00:29:49.990\nWell Zack,\nwhen you finish your masterpiece\n\n492\n00:29:49.990 --> 00:29:53.620\nin our in browser image editor,\nthat's how you save a file.\n\n493\n00:29:53.620 --> 00:29:56.760\n&gt;&gt; I would pay five dollars for\nthat image.\n\n494\n00:29:56.760 --> 00:29:59.690\n&gt;&gt; Well I tell you what Zack, if you've\ngot five dollars on you right now,\n\n495\n00:29:59.690 --> 00:30:01.780\nI'll take it.\n\n496\n00:30:01.780 --> 00:30:04.550\n&gt;&gt; [LAUGH] HTML 5 Canvas Project,\nSaving the Image.\n\n497\n00:30:04.550 --> 00:30:05.450\nWonderful episode,\n\n498\n00:30:05.450 --> 00:30:09.230\nmake sure you watch every single episode\nof the HTML Five Canvas Project series.\n\n499\n00:30:09.230 --> 00:30:10.630\nJustin does a marvelous job.\n\n500\n00:30:10.630 --> 00:30:12.240\nJustin, any last words before we move on?\n\n501\n00:30:12.240 --> 00:30:14.960\n&gt;&gt; Well this is one of those things\nas I said earlier in the episode,\n\n502\n00:30:16.260 --> 00:30:17.650\na couple of things rather.\n\n503\n00:30:17.650 --> 00:30:18.830\nNon infallible, and\n\n504\n00:30:18.830 --> 00:30:22.130\nyou should not worry about,\nI didn't get it right on the first time.\n\n505\n00:30:22.130 --> 00:30:22.780\nThose things happen.\n\n506\n00:30:22.780 --> 00:30:25.630\nGo back and fix it,\nfigure out what's going on and\n\n507\n00:30:26.850 --> 00:30:30.000\neven though on camera it looks\nlike this happens very quickly.\n\n508\n00:30:30.000 --> 00:30:33.600\nSometimes those things, figuring out\nwhat's going on takes a little bit longer\n\n509\n00:30:33.600 --> 00:30:35.450\nthan maybe they appear here.\n\n510\n00:30:35.450 --> 00:30:39.145\nNumber two,\nthese are all kind of springboards, right?\n\n511\n00:30:39.145 --> 00:30:41.240\nYou got started on something.\n\n512\n00:30:41.240 --> 00:30:45.200\nThis is not the absolute limit\nof everything you can do.\n\n513\n00:30:45.200 --> 00:30:47.810\nI challenge you to add\nyour own little flair.\n\n514\n00:30:47.810 --> 00:30:50.630\nAdd something new, something different.\n\n515\n00:30:50.630 --> 00:30:52.760\nMake a change and well,\n\n516\n00:30:52.760 --> 00:30:57.850\nthat's how you're gonna grow as one\nwho develops, a developer, right?\n\n517\n00:30:57.850 --> 00:31:00.300\nSo always kinda push the boundaries.\n\n518\n00:31:00.300 --> 00:31:03.050\nStart with small ideas and\nthen work up to large ones.\n\n519\n00:31:03.050 --> 00:31:04.420\n&gt;&gt; Thank you Justin, awesome job.\n\n520\n00:31:04.420 --> 00:31:05.590\nYou know what else?\n\n521\n00:31:05.590 --> 00:31:09.820\nGo to the course library rather, and take\na look at all the hundreds of other videos\n\n522\n00:31:09.820 --> 00:31:13.070\nthat are there, and they are all\ndesigned to help you go further.\n\n523\n00:31:13.070 --> 00:31:14.560\nAnd tell everybody you\nknow about Devpro.TV.\n\n524\n00:31:14.560 --> 00:31:16.600\nThey'll be very glad you did.\n\n525\n00:31:16.600 --> 00:31:17.320\nThanks for watching.\n\n526\n00:31:17.320 --> 00:31:18.280\nI'm Zack Memos.\n\n527\n00:31:18.280 --> 00:31:19.030\n&gt;&gt; And I'm Justin Dennison.\n\n528\n00:31:19.030 --> 00:31:19.990\n&gt;&gt; And we will see you soon.\n\n529\n00:31:19.990 --> 00:31:22.776\n[MUSIC]\n\n",
          "vimeoId": "239639694"
        }
      ],
      "title": "DevPaint"
    }
  ],
  "url": "html5-canvas-projects",
  "vLab": false
}
